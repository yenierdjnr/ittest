{
  "description": "Description: Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server covers topics that are “must know” for anyone responsible for deploying, maintaining and supporting Windows servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA covers topics that will help the learner ensure their computing environment is functional and stable.",
  "descriptionMD": "Description: Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server covers topics that are “must know” for anyone responsible for deploying, maintaining and supporting Windows servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA covers topics that will help the learner ensure their computing environment is functional and stable.",
  "length": "129220",
  "name": "MCSA Windows Server 2016 - 70-742",
  "practiceExam": true,
  "subtitle": "Identity with Windows Server 2016",
  "tagUrl": "microsoft-technical",
  "topics": [
    {
      "episodes": [
        {
          "description": "Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The 70-697 Configuring Windows Devices exam covers topics that are a “must know” for anyone responsible for deploying, maintaining and supporting Windows desktops and other devices in a corporate or enterprise environment. Most people know how to use Windows in a home environment, but there are many features under the hood that are designed for environments with a large quantity of computers. The MCSA dives into those and gives the viewer a whole new toolbox for ensuring their computing environment is functional and stable.",
          "length": "143",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-0-0-overview-090617-PGM.00_00_08_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-0-0-overview-090617-PGM.00_00_08_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-0-0-overview-090617-PGM.00_00_08_07.Still001-sm.jpg",
          "title": "Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:00.809\n[MUSIC]\n\n2\n00:00:00.809 --> 00:00:07.168\nWelcome, ladies and gentlemen.\n\n3\n00:00:07.168 --> 00:00:10.903\nThis is your Identity with\nWindows Server 2016 series.\n\n4\n00:00:10.903 --> 00:00:16.172\nIf you're looking to study for that 70-742\nexam, then this is the perfect place for\n\n5\n00:00:16.172 --> 00:00:20.833\nthat, because Adam is going to be leading\nyou through this wonderful journey.\n\n6\n00:00:20.833 --> 00:00:21.953\n&gt;&gt; Yeah, okay,\ncuz that's what I'm going to do.\n\n7\n00:00:21.953 --> 00:00:24.809\n&gt;&gt; [LAUGH]\n&gt;&gt; That's such a buildup.\n\n8\n00:00:24.809 --> 00:00:26.586\nHow can I possibly live up to all that?\n\n9\n00:00:26.586 --> 00:00:30.387\nHow about if we say, instead, we together,\ncuz Cherokee is gonna certainly play\n\n10\n00:00:30.387 --> 00:00:33.967\na very active and important part in what\nwe do, but we together are gonna share\n\n11\n00:00:33.967 --> 00:00:37.604\nsome knowledge with you about identity and\nserver management in Server 16,\n\n12\n00:00:37.604 --> 00:00:41.021\nspecifically I thought we would talk\nabout some of the following topics,\n\n13\n00:00:41.021 --> 00:00:42.541\nwhich may be of interest to you.\n\n14\n00:00:42.541 --> 00:00:44.999\nBecause surprisingly,\nthey actually map to the exam objectives.\n\n15\n00:00:44.999 --> 00:00:47.372\nSo we're gonna talk about how\nto install configure ADDS.\n\n16\n00:00:47.372 --> 00:00:50.268\nIf you don't know what that is and\nhow that is done, well, as Cherokee said,\n\n17\n00:00:50.268 --> 00:00:51.304\nyou are in the right place.\n\n18\n00:00:51.304 --> 00:00:53.180\nWe're gonna talk about managing and\nmaintaining ADDS,\n\n19\n00:00:53.180 --> 00:00:55.263\nreference what I just said about\ninstalling and configuring.\n\n20\n00:00:55.263 --> 00:00:58.349\nWe're gonna talk about how to create and\nmanage group policy and\n\n21\n00:00:58.349 --> 00:01:01.493\ngroup policy objects, one of\nthe most important aspects of how we\n\n22\n00:01:01.493 --> 00:01:04.720\ncentrally manage and\ncontrol the Active Directory environment.\n\n23\n00:01:04.720 --> 00:01:07.873\nEverything you ever wanted to know about\ngroup policy and were afraid you would\n\n24\n00:01:07.873 --> 00:01:08.935\nfind the answers out to-\n&gt;&gt; Everything and more.\n\n25\n00:01:08.935 --> 00:01:10.600\n&gt;&gt; Is gonna be contained\nin those episodes.\n\n26\n00:01:10.600 --> 00:01:14.297\nAnd we're gonna talk about additional\nservices, things like AD CS,\n\n27\n00:01:14.297 --> 00:01:17.557\nCertificate Services, RMS,\nRights Management Services,\n\n28\n00:01:17.557 --> 00:01:19.073\nFS, Federation Services.\n\n29\n00:01:19.073 --> 00:01:21.582\nWe'll talk about web application proxies.\n\n30\n00:01:21.582 --> 00:01:25.410\nWe talk about Managed Service Accounts,\nGroup Managed Service Accounts,\n\n31\n00:01:25.410 --> 00:01:28.994\nhow we specify and handle all of these\naspects, and a whole bunch more,\n\n32\n00:01:28.994 --> 00:01:31.763\nall sorts of stuff that's\ngonna be important for you.\n\n33\n00:01:31.763 --> 00:01:35.778\nIf you are planning on being an IT\nadministrator, working in Server 16,\n\n34\n00:01:35.778 --> 00:01:37.692\nlooking to pursue certification,\n\n35\n00:01:37.692 --> 00:01:41.471\nwell this is one of several of shows\nyou're gonna wanna take a look at.\n\n36\n00:01:41.471 --> 00:01:44.804\nBut it is gonna be one of the more\nimportant ones, because it brings together\n\n37\n00:01:44.804 --> 00:01:48.257\nall of this information for you in one\nhandy-dandy little portable package.\n\n38\n00:01:48.257 --> 00:01:49.472\n&gt;&gt; Perfect, Adam.\n\n39\n00:01:49.472 --> 00:01:54.992\nSo what kind of track would this\nexam allow you to be certified in?\n\n40\n00:01:54.992 --> 00:01:58.017\n&gt;&gt; So this exam, along with a couple\nof others, will prepare you for\n\n41\n00:01:58.017 --> 00:01:59.778\nultimately the MCSA for Server 16.\n\n42\n00:01:59.778 --> 00:02:03.596\nSo if you're pursuing that or thinking of\npursuing that, you are in the right place.\n\n43\n00:02:03.596 --> 00:02:07.050\nAnd we expect to see you as soon\nas you are done watching us here.\n\n44\n00:02:07.050 --> 00:02:09.268\nAnd you're gonna go click on one\nof those other great episodes and\n\n45\n00:02:09.268 --> 00:02:10.444\nshows I've put together for you.\n\n46\n00:02:10.444 --> 00:02:15.383\nAnd you and I are gonna have some very\nin-depth and meaningful conversations.\n\n47\n00:02:15.383 --> 00:02:21.268\n[SOUND]\n\n",
          "vimeoId": "232828336"
        },
        {
          "description": "In this show, Cherokee and Adam introduce several fundamental components of an Active Directory Directory Services infrastructure. Adam also explains the difference between physical and logical AD DS components.",
          "length": "2323",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-1-install_configure_domain_controllers-080717-PGM.00_38_26_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-1-install_configure_domain_controllers-080717-PGM.00_38_26_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-1-install_configure_domain_controllers-080717-PGM.00_38_26_08.Still001-sm.jpg",
          "title": "Install / Configure Domain Controllers",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:01.142\nWelcome to ITPro.TV.\n\n2\n00:00:01.142 --> 00:00:06.649\nI'm your host, Don Pezet [CROSSTALK]\n\n3\n00:00:06.649 --> 00:00:08.367\n[MUSIC]\n\n4\n00:00:08.367 --> 00:00:11.668\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:11.668 --> 00:00:15.010\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n6\n00:00:15.010 --> 00:00:16.579\nI'm your show host, Cherokee Boose.\n\n7\n00:00:16.579 --> 00:00:20.163\nIn this episode we're gonna be\nlooking at how to install and\n\n8\n00:00:20.163 --> 00:00:22.390\nconfigure domain controllers.\n\n9\n00:00:22.390 --> 00:00:23.920\nAnd back in the country,\n\n10\n00:00:23.920 --> 00:00:28.160\nback in the studios with us today we\nhave Microsoft expert Adam Gordon.\n\n11\n00:00:28.160 --> 00:00:29.060\nHow's it going today, Adam?\n\n12\n00:00:29.060 --> 00:00:30.460\n&gt;&gt; It's going well, going well.\n\n13\n00:00:30.460 --> 00:00:31.572\nHopefully, all good with you and\n\n14\n00:00:31.572 --> 00:00:33.246\nwith everybody out there\nin our studio audience.\n\n15\n00:00:33.246 --> 00:00:36.670\nLooking forward to spending time\nwith you guys, as we always do.\n\n16\n00:00:36.670 --> 00:00:39.900\nTalking a little bit about\nMicrosoft's Active Directory,\n\n17\n00:00:39.900 --> 00:00:42.030\ndirectory service, Server 16.\n\n18\n00:00:42.030 --> 00:00:45.460\nHow we deal with the Active Directory\namong many other things we will go through\n\n19\n00:00:45.460 --> 00:00:46.870\nin this set of conversations.\n\n20\n00:00:46.870 --> 00:00:49.460\nBut like any good journey,\nwe've got to start somewhere.\n\n21\n00:00:49.460 --> 00:00:51.410\nAnd so, with the ADDS,\n\n22\n00:00:51.410 --> 00:00:54.590\nthe Active Directory Directory Service,\nyou may be familiar with it already,\n\n23\n00:00:54.590 --> 00:00:57.900\nespecially if you've been working with\nMicrosoft technology for some time.\n\n24\n00:00:57.900 --> 00:01:02.060\nMany of you, I'm sure, have worked with\nprior versions of the server operating\n\n25\n00:01:02.060 --> 00:01:04.092\nsystems, Server 12, Server 08.\n\n26\n00:01:04.092 --> 00:01:07.743\nMaybe going all the way back to 2000,\n2003.\n\n27\n00:01:07.743 --> 00:01:09.522\nMaybe even further back to NT4,\n\n28\n00:01:09.522 --> 00:01:14.030\nbefore we made the change into what we\nthink of as the modern directory service.\n\n29\n00:01:14.030 --> 00:01:17.910\nBut whatever background you may have,\nwhatever historical timeline you follow,\n\n30\n00:01:17.910 --> 00:01:21.260\nif you're brand new to this thought\nprocess, if you have some depth and\n\n31\n00:01:21.260 --> 00:01:24.645\nbackground with it, there's always new\nthings that we just wanna take note of,\n\n32\n00:01:24.645 --> 00:01:25.490\nwanna be aware of.\n\n33\n00:01:25.490 --> 00:01:30.810\nA lot of old things that are familiar that\nkind of stay with us as we migrate or\n\n34\n00:01:30.810 --> 00:01:33.760\nmove version to version\naround the Active Directory.\n\n35\n00:01:33.760 --> 00:01:38.010\nIf we think back about how long\nthe Active Directory in more or\n\n36\n00:01:38.010 --> 00:01:40.000\nless its current form has been with us,\n\n37\n00:01:40.000 --> 00:01:43.490\nif you think about the versions we've had,\nI just mentioned the timeline.\n\n38\n00:01:43.490 --> 00:01:45.020\nIf you go all the way\nback to Windows 2000,\n\n39\n00:01:45.020 --> 00:01:49.590\nwhere we see the break with the older\nflat domain model which was not in\n\n40\n00:01:49.590 --> 00:01:52.900\ndirectory service in the traditional\nsense of we think of it today, but\n\n41\n00:01:52.900 --> 00:01:57.275\nrather it's own separate entity that\nwas really designed differently.\n\n42\n00:01:57.275 --> 00:02:00.994\nAnd we think about going from Windows\n2000, really the LDAP directory and\n\n43\n00:02:00.994 --> 00:02:04.995\nthe active directory, the modern thought\nprocess we think of being integrated into\n\n44\n00:02:04.995 --> 00:02:08.119\nthe Windows environment there\nstarting with Windows 2000.\n\n45\n00:02:08.119 --> 00:02:13.507\nThen we go to 2003,\nthen we go to 2008, 2008 R2,\n\n46\n00:02:13.507 --> 00:02:17.592\n12, 12 R2, and now Server 16, right?\n\n47\n00:02:17.592 --> 00:02:20.030\nGot a total of seven versions.\n\n48\n00:02:20.030 --> 00:02:22.390\nAnd there was actually\nan R2 version of 2003.\n\n49\n00:02:22.390 --> 00:02:26.492\nReally, eight versions if you think about\nit, of the directory service we've seen\n\n50\n00:02:26.492 --> 00:02:29.555\ninto and including the most\nmoderate one we're working with,\n\n51\n00:02:29.555 --> 00:02:31.690\nhere to talk about with you today.\n\n52\n00:02:31.690 --> 00:02:35.654\nAnd so if you think about the progression\nof the Active Directory over that time,\n\n53\n00:02:35.654 --> 00:02:37.285\nlot of things have come and gone,\n\n54\n00:02:37.285 --> 00:02:40.340\nlot of things have become part\nof the directory service.\n\n55\n00:02:40.340 --> 00:02:43.130\nWe have brand new sets of tools,\nthings like ADAC,\n\n56\n00:02:43.130 --> 00:02:46.270\nthe Active Directory Administrative\nCenter, that we've used that for\n\n57\n00:02:46.270 --> 00:02:48.150\nseveral versions of the product now.\n\n58\n00:02:48.150 --> 00:02:53.030\nKind of an all up MMC that we can go into,\nand we can use in order to be able to\n\n59\n00:02:53.030 --> 00:02:58.010\nadminister, apply group policies, change\npasswords, do a variety of things that\n\n60\n00:02:58.010 --> 00:03:02.200\nin previous versions may have to go to\ndifferent Individual tools to do, right?\n\n61\n00:03:02.200 --> 00:03:06.190\nThe Active Directory Users and Computers\ntool, the trust tools, services tools.\n\n62\n00:03:06.190 --> 00:03:11.240\nThere were lots of different MMCs which\nstill exist that we could have used.\n\n63\n00:03:11.240 --> 00:03:15.758\nThe NTDS util command line which is still\nused to be able to seive FIZMO roles and\n\n64\n00:03:15.758 --> 00:03:17.002\ndo a variety things.\n\n65\n00:03:17.002 --> 00:03:20.060\nThere's PowerShell,\nbunch of commandlets that we can use.\n\n66\n00:03:20.060 --> 00:03:22.940\nWe'll be going through all these things\nwith you in upcoming conversations.\n\n67\n00:03:22.940 --> 00:03:26.270\nBut as we think about the arc and\nthe historical reference point and\n\n68\n00:03:26.270 --> 00:03:31.470\nthe migration and the maturity of this\nplatform over time, it's interesting\n\n69\n00:03:31.470 --> 00:03:34.950\nas we see that a lot has changed, but\nyet a lot has remained the same, right?\n\n70\n00:03:34.950 --> 00:03:36.630\nI know you have a history, Cherokee,\n\n71\n00:03:36.630 --> 00:03:39.790\ngoing back several versions with\nthis product at this point, right?\n\n72\n00:03:39.790 --> 00:03:42.262\nNot necessarily all the way back to 2000,\nbut certainly for\n\n73\n00:03:42.262 --> 00:03:43.820\nmany versions of this product.\n\n74\n00:03:43.820 --> 00:03:45.640\nWhat's your most favorite aspect or\n\n75\n00:03:45.640 --> 00:03:49.390\nmost favorite area that you think of when\nyou think about the Active Directory?\n\n76\n00:03:49.390 --> 00:03:52.780\nWhat kind of gets you excited about\nadministering and doing stuff?\n\n77\n00:03:52.780 --> 00:03:56.090\n&gt;&gt; I just think the logical components and\nthe different objects and\n\n78\n00:03:56.090 --> 00:03:59.910\nthe different containers that we have,\na nice way to organize things, Adam,\n\n79\n00:03:59.910 --> 00:04:01.240\nyou should know this, right?\n\n80\n00:04:01.240 --> 00:04:03.856\n&gt;&gt; I was gonna say, cuz I knew the answer\nto the question before I asked.\n\n81\n00:04:03.856 --> 00:04:06.425\nWhich was the whole container idea, right?\n\n82\n00:04:06.425 --> 00:04:11.895\nBecause I know Cherokee's passion for\ncontainers is exuberant to say the least,\n\n83\n00:04:11.895 --> 00:04:14.075\nand she often shares that with\nus when we spend time together.\n\n84\n00:04:14.075 --> 00:04:17.737\nSo speaking of containers, and Cherokee's\npassion for them, if we could take a quick\n\n85\n00:04:17.737 --> 00:04:20.847\nlook at a picture that represents what\nthe container thought process, or\n\n86\n00:04:20.847 --> 00:04:22.975\nthe environment in\nActive Directory looks like.\n\n87\n00:04:22.975 --> 00:04:27.011\nWanna show you just kinda as we\nstart out here, what a sketch and\n\n88\n00:04:27.011 --> 00:04:30.920\na general way of representing\nthe directory service may be.\n\n89\n00:04:30.920 --> 00:04:33.927\nWe'll come back to this from time,\ntake a look at it.\n\n90\n00:04:33.927 --> 00:04:38.335\nBut this is just me drawing out\na very simple set of shapes.\n\n91\n00:04:38.335 --> 00:04:41.760\nUsed Visio to create this diagram, just\ntook a picture of it, put it into Paint so\n\n92\n00:04:41.760 --> 00:04:43.620\nwe could take a look at it.\n\n93\n00:04:43.620 --> 00:04:46.130\nAnd as always, these handouts,\nthese diagrams,\n\n94\n00:04:46.130 --> 00:04:48.540\nthese things that we have,\nwill be part of the show notes, right?\n\n95\n00:04:48.540 --> 00:04:50.600\nSo you'll be able to get them if you like.\n\n96\n00:04:50.600 --> 00:04:53.168\nWe do autograph them, you get signed\ncopies, as well, if you would like.\n\n97\n00:04:53.168 --> 00:04:54.153\n&gt;&gt; [LAUGH]\n&gt;&gt; Cherokee will\n\n98\n00:04:54.153 --> 00:04:55.941\nput a little smiley face\nstamp on there for you.\n\n99\n00:04:55.941 --> 00:04:57.297\nDo you have any more gold stars?\n\n100\n00:04:57.297 --> 00:04:58.801\nYou could put a gold star\non there as well, right?\n\n101\n00:04:58.801 --> 00:04:59.316\n&gt;&gt; I sure do.\n\n102\n00:04:59.316 --> 00:05:00.593\nAdults need gold stars too, right?\n\n103\n00:05:00.593 --> 00:05:01.782\n&gt;&gt; You do, it's very important.\n\n104\n00:05:01.782 --> 00:05:06.840\nSo we have here what a traditional\nmodel of the directory environment,\n\n105\n00:05:06.840 --> 00:05:09.876\nthe Active Directory domains, the tree,\n\n106\n00:05:09.876 --> 00:05:13.910\nthe forest structure that\nwe create would look like.\n\n107\n00:05:13.910 --> 00:05:16.400\nWe often use triangles to\nrepresent the domains.\n\n108\n00:05:16.400 --> 00:05:17.470\nYou can use any shape you want.\n\n109\n00:05:17.470 --> 00:05:22.010\nYou wanna put circles in there,\nwanna put squares, wanna put rectangles.\n\n110\n00:05:22.010 --> 00:05:24.730\nThe square, the shape,\nthe triangle shapes, circle shape,\n\n111\n00:05:24.730 --> 00:05:25.750\ndoesn't really matter.\n\n112\n00:05:25.750 --> 00:05:29.872\nBut when you look at documentation,\nespecially Microsoft's own documentation,\n\n113\n00:05:29.872 --> 00:05:33.790\nyou will find a traditional diagram\nthat looks very similar to this.\n\n114\n00:05:33.790 --> 00:05:35.140\nAnd I mention I used Visio.\n\n115\n00:05:35.140 --> 00:05:40.012\nThe reason I'm just telling you that\nis that I used Visio, Visio 2016, and\n\n116\n00:05:40.012 --> 00:05:42.424\nI used the Active Directory template.\n\n117\n00:05:42.424 --> 00:05:45.268\nThere's actually an Active Directory\ntemplate you can use in Visio.\n\n118\n00:05:45.268 --> 00:05:49.093\nAnd it has all the shapes that are already\ndesigned, labeled specific for\n\n119\n00:05:49.093 --> 00:05:50.334\nthe Active Directory.\n\n120\n00:05:50.334 --> 00:05:54.780\nAnd so one of them that you'll see,\nit's kind of fuzzy and pixellated.\n\n121\n00:05:54.780 --> 00:05:56.080\nI know it's hard to read.\n\n122\n00:05:56.080 --> 00:05:57.390\nBut the shape that I dragged out here,\n\n123\n00:05:57.390 --> 00:05:59.310\na little folder with what\nlooks like a computer or\n\n124\n00:05:59.310 --> 00:06:04.650\na file opening on it is the OU, the\norganizational unit shape that's there.\n\n125\n00:06:04.650 --> 00:06:09.430\nAnd the connectors right down here\nare actually better to see them over here.\n\n126\n00:06:09.430 --> 00:06:13.200\nThese bidirectional connectors,\nthese arrows, represent two way transitive\n\n127\n00:06:13.200 --> 00:06:16.810\ntrusts, and we'll explain more about what\nthose are and why they're important.\n\n128\n00:06:16.810 --> 00:06:19.880\nAnd I just drew a triangle shape, dropped\non there, expanded out a little bit.\n\n129\n00:06:19.880 --> 00:06:22.390\nDropped a couple shapes,\nvery straightforward.\n\n130\n00:06:22.390 --> 00:06:26.400\nBut I created what is a domain hierarchy.\n\n131\n00:06:26.400 --> 00:06:31.170\nSo one domain that's got sub-domains or\na parent domain with two child domains.\n\n132\n00:06:31.170 --> 00:06:34.030\nRepresents domains,\nrepresents the trust relationship,\n\n133\n00:06:34.030 --> 00:06:38.140\nrepresents a tree, an overall all\nout namespace that we reference.\n\n134\n00:06:38.140 --> 00:06:39.900\nAnd then represents a forest as well.\n\n135\n00:06:39.900 --> 00:06:41.840\nWe'll talk about these and what they are.\n\n136\n00:06:41.840 --> 00:06:43.916\nBut you can see at\nthe top of the hierarchy,\n\n137\n00:06:43.916 --> 00:06:45.774\nI created a domain called ITPRO.tv.\n\n138\n00:06:45.774 --> 00:06:48.184\nPut a couple of OUs in there,\nnondescriptive,\n\n139\n00:06:48.184 --> 00:06:50.001\ndidn't label them specifically.\n\n140\n00:06:50.001 --> 00:06:51.487\nJust said hey, got a couple of OUs.\n\n141\n00:06:51.487 --> 00:06:54.689\nThis may be something like\ndomain computers, users,\n\n142\n00:06:54.689 --> 00:06:59.144\nthese would be generic OUs that we would\nsee that are built in, controlled by\n\n143\n00:06:59.144 --> 00:07:03.410\nthe operating system when you install and\ncreate the Active Directory.\n\n144\n00:07:03.410 --> 00:07:07.288\nSo they are system controlled containers,\nas opposed to user created or\n\n145\n00:07:07.288 --> 00:07:09.078\nadministratively created OUs.\n\n146\n00:07:09.078 --> 00:07:12.220\nWe'll talk about those and what they are.\n\n147\n00:07:12.220 --> 00:07:13.455\nI created two sub-domains.\n\n148\n00:07:13.455 --> 00:07:16.240\nCould we go full screen just a second so\nyou can see them.\n\n149\n00:07:16.240 --> 00:07:18.000\nSo I'm kind of hiding one\nwhile I'm talking to you.\n\n150\n00:07:18.000 --> 00:07:24.164\nYou'll see I have Hosts.ITPRO.tv, a child\ndomain of the ITPRO.tv domain up here.\n\n151\n00:07:24.164 --> 00:07:28.444\nTwo-way trust relationship between\nthe two domains, indicating and\n\n152\n00:07:28.444 --> 00:07:32.649\nimplying to us that users and\ncomputers, what we would call objects,\n\n153\n00:07:32.649 --> 00:07:36.569\nthat exist in one of the child domains,\neither hosts on the left or\n\n154\n00:07:36.569 --> 00:07:38.946\naudience on the right, as you can see.\n\n155\n00:07:38.946 --> 00:07:43.566\nAnd or those same objects up in the child,\nor excuse me, up in the parent domain\n\n156\n00:07:43.566 --> 00:07:47.642\nITPRO.tv, that they are able to\ninteract with each other, right?\n\n157\n00:07:47.642 --> 00:07:52.073\nSo a user in Hosts.ITPRO.tv is\nable to interact with an object,\n\n158\n00:07:52.073 --> 00:07:57.069\nlet's say a computer, maybe a print\nserver, or a file and print server,\n\n159\n00:07:57.069 --> 00:08:00.938\nif it was up in ITPRO.tv in\nthe root In the parent domain,\n\n160\n00:08:00.938 --> 00:08:05.773\nthey're able to interact with it,\nbe trusted by it, authenticate and\n\n161\n00:08:05.773 --> 00:08:08.215\nlog in, and access that resource.\n\n162\n00:08:08.215 --> 00:08:09.596\nAnd be allowed to do so,\n\n163\n00:08:09.596 --> 00:08:14.020\nprovided that they of course are a valid\nuser in the directory service.\n\n164\n00:08:14.020 --> 00:08:15.830\nThey have an active and\n\n165\n00:08:15.830 --> 00:08:20.880\nauthorized user account that can\nbe validated in hosts.itpro.tv.\n\n166\n00:08:20.880 --> 00:08:22.370\nAnd they have the right, or\n\n167\n00:08:22.370 --> 00:08:26.650\nhave met the right business requirements,\nthey are logging on during the right time.\n\n168\n00:08:26.650 --> 00:08:30.311\nPerhaps we have a restriction that says,\nyou can only log in, and\n\n169\n00:08:30.311 --> 00:08:32.708\nuse your computer account, or excuse me,\n\n170\n00:08:32.708 --> 00:08:37.056\nyour user account from a computer that\nis owned by the organization, right?\n\n171\n00:08:37.056 --> 00:08:39.980\nSo it's gotta be a company owned asset,\nnot a home computer, but\n\n172\n00:08:39.980 --> 00:08:42.080\none that is owned by the company.\n\n173\n00:08:42.080 --> 00:08:44.003\nAnd you cannot be logged in through VPN.\n\n174\n00:08:44.003 --> 00:08:48.259\nYou must be logged in directly on the LAN\nor the corporate LAN, not remotely.\n\n175\n00:08:48.259 --> 00:08:51.348\nAnd perhaps during the business\nhours of let's say, 9 to 5,\n\n176\n00:08:51.348 --> 00:08:53.420\ngenerically whatever that may be.\n\n177\n00:08:53.420 --> 00:08:55.922\nSo as long as that user\nmeets those requirements,\n\n178\n00:08:55.922 --> 00:08:59.916\nlogs in to their desktop computer in\nthe office, 10 o'clock in the morning,\n\n179\n00:08:59.916 --> 00:09:03.637\nuses the right username, the right\npassword, they are authenticated.\n\n180\n00:09:03.637 --> 00:09:07.170\nThey are gonna be able to prove\nwho they are and be validated.\n\n181\n00:09:07.170 --> 00:09:10.024\nThey would be able to use and\ninteract with that file and\n\n182\n00:09:10.024 --> 00:09:14.323\nprint server up in the parent domain by\nleveraging this two way transitive trust.\n\n183\n00:09:14.323 --> 00:09:19.304\nOr effectively this bridge that connects\nlogically behind the scenes these two\n\n184\n00:09:19.304 --> 00:09:21.880\ndomains and links them together.\n\n185\n00:09:21.880 --> 00:09:24.490\nAnd this is one of the powerful\nthings that we see\n\n186\n00:09:24.490 --> 00:09:28.970\ngoing into the directory services with\nWindows or with any operating system.\n\n187\n00:09:28.970 --> 00:09:30.570\nBut since we're here to\ntalk about Microsoft and\n\n188\n00:09:30.570 --> 00:09:35.200\nWindows and Server 16, we'll keep\nour thought process linked there.\n\n189\n00:09:35.200 --> 00:09:39.600\nWe see the ability to create this\nhierarchy, and this definition of space.\n\n190\n00:09:39.600 --> 00:09:42.928\nAnd this idea of parent, child, or master,\nslave, you can hear it referred to\n\n191\n00:09:42.928 --> 00:09:45.428\ndifferent ways,\ndepending on what we're talking about.\n\n192\n00:09:45.428 --> 00:09:50.168\nBut I could create another set of\ndomains below Hosts.ITPRO.tv or\n\n193\n00:09:50.168 --> 00:09:52.338\nbelow Audience.ITPRO.tv.\n\n194\n00:09:52.338 --> 00:09:54.560\nAnd I can have subdomains for\nevery one of the hosts.\n\n195\n00:09:54.560 --> 00:09:56.700\nI could have a Cherokee.hosts, right?\n\n196\n00:09:56.700 --> 00:09:59.070\nI could have an Adam.hosts,\na Ronnie.hosts.\n\n197\n00:09:59.070 --> 00:10:02.290\nWell, wouldn't do him cuz he's on\nvacation this week, but whoever, right?\n\n198\n00:10:02.290 --> 00:10:07.180\nAnd each one of them could then be\na child of hosts, a grandchild if you\n\n199\n00:10:07.180 --> 00:10:10.590\nthink about the logic hierarchically\nof ITPRO, the parent domain.\n\n200\n00:10:10.590 --> 00:10:13.718\nAnd all of them are linked together\nby these trust relationships.\n\n201\n00:10:13.718 --> 00:10:14.854\nYou wanted to say something, Cherokee?\n\n202\n00:10:14.854 --> 00:10:18.245\n&gt;&gt; Yeah, we're just not trying to\nisolate the hosts and the audience here,\n\n203\n00:10:18.245 --> 00:10:20.280\nthat was just how the diagram goes, right?\n\n204\n00:10:20.280 --> 00:10:22.308\nWe're having a connection that-\n&gt;&gt; Well, funny you should say it.\n\n205\n00:10:22.308 --> 00:10:25.609\nSo we go back to the diagram, go to full\nscreen for me if you could for a second.\n\n206\n00:10:25.609 --> 00:10:29.024\nAll right, so to that specific point,\nit's a great point that you bring up,\n\n207\n00:10:29.024 --> 00:10:30.260\nquite the opposite.\n\n208\n00:10:30.260 --> 00:10:32.425\nNot only are we not isolating them, right?\n\n209\n00:10:32.425 --> 00:10:34.615\nBut we're actually allowing\nthem to communicate and\n\n210\n00:10:34.615 --> 00:10:37.865\ninteract directly through\nthese trust relationships.\n\n211\n00:10:37.865 --> 00:10:41.958\nSo the exact opposite is occurring,\nbecause we have these two way arrows.\n\n212\n00:10:41.958 --> 00:10:44.655\nAnd because we have the root domain,\n\n213\n00:10:44.655 --> 00:10:48.487\nITPRO.tv in common information objects,\nright?\n\n214\n00:10:48.487 --> 00:10:53.067\nThat are in hosts can interact not\njust with ITPRO.tv at the parent, but\n\n215\n00:10:53.067 --> 00:10:55.017\nalso with Audience.ITPRO.tv.\n\n216\n00:10:55.017 --> 00:10:55.658\nSo Hosts and\n\n217\n00:10:55.658 --> 00:11:00.344\nAudience can actually interact through\nthis common parent domain called ITPRO.tv,\n\n218\n00:11:00.344 --> 00:11:04.464\nprovided that we give them permission to,\nand of course, we allow them to.\n\n219\n00:11:04.464 --> 00:11:07.845\nWe are going to get into the conversations\nabout how all this works,\n\n220\n00:11:07.845 --> 00:11:08.802\nhow we set that up.\n\n221\n00:11:08.802 --> 00:11:11.604\nIt is easy to say, well yeah,\na host in that domain, and\n\n222\n00:11:11.604 --> 00:11:14.148\na member of the audience\ncan talk to each other.\n\n223\n00:11:14.148 --> 00:11:16.297\nOf course, they can but\nwhat is the mechanism or\n\n224\n00:11:16.297 --> 00:11:18.842\nmechanisms that are involved\nin allowing us to do that?\n\n225\n00:11:18.842 --> 00:11:21.600\nWe have to know a little bit more about\nall the structures, in other words.\n\n226\n00:11:21.600 --> 00:11:26.170\nBut assuming that we make the right\nchoices, we set this up the right way and\n\n227\n00:11:26.170 --> 00:11:28.900\nwe make choices that allow for\nthis to occur.\n\n228\n00:11:28.900 --> 00:11:32.030\nThe exact thing that Cherokee just\ndescribed is allowed to happen.\n\n229\n00:11:32.030 --> 00:11:34.440\nSpecifically cuz that's what\nwe want to have happen.\n\n230\n00:11:34.440 --> 00:11:38.330\nWe want resources in one or more of those\ndomains to interact with resources in\n\n231\n00:11:38.330 --> 00:11:41.830\nother domains, as long as we control and\nconstrain them, right?\n\n232\n00:11:41.830 --> 00:11:45.830\nWe control the mechanisms and\ncontrol the rules, the logic, and\n\n233\n00:11:45.830 --> 00:11:49.730\nthe capabilities around that,\nto ensure that we allow authentication and\n\n234\n00:11:49.730 --> 00:11:52.330\ntherefore, we allow\nauthorization of user accounts.\n\n235\n00:11:52.330 --> 00:11:56.020\nBut then, we tightly control them with\nwhat we often talk about group policy,\n\n236\n00:11:56.020 --> 00:11:57.710\nright, or group policies.\n\n237\n00:11:57.710 --> 00:11:59.730\nHey your password needs\nto be this complex,\n\n238\n00:11:59.730 --> 00:12:02.030\nyou can log on during\nthese business hours.\n\n239\n00:12:02.030 --> 00:12:05.860\nYou can long on from this particular\nplace, using this kind of a machine.\n\n240\n00:12:05.860 --> 00:12:09.250\nMaybe only allow Windows\n10 on the desktop, and\n\n241\n00:12:09.250 --> 00:12:13.380\nwe no longer want Windows XP or\nWindows 7, or whatever the case may be.\n\n242\n00:12:13.380 --> 00:12:17.110\nWe can create constraints and policies\nthat will apply that will allow or\n\n243\n00:12:17.110 --> 00:12:20.370\nprevent this kind of behavior\nusing this structure.\n\n244\n00:12:20.370 --> 00:12:25.827\nSo this idea, this model, this thought\nprocess becomes the central point for\n\n245\n00:12:25.827 --> 00:12:28.731\nhow we begin to craft this conversation.\n\n246\n00:12:28.731 --> 00:12:32.380\nAnd how we envision, how we see\nthe architecture coming to life.\n\n247\n00:12:32.380 --> 00:12:35.780\nAnd how we begin to control\nthe exchange of information.\n\n248\n00:12:35.780 --> 00:12:38.830\nNow having said that,\nlet me just minimize this, one second.\n\n249\n00:12:38.830 --> 00:12:41.710\nYou could join me back here,\nas we always try to do, right?\n\n250\n00:12:41.710 --> 00:12:44.050\nWe have real estate out\nthere on the Microsoft site.\n\n251\n00:12:44.050 --> 00:12:47.314\nMany websites as you often see and\nhear myself and Cherokee and\n\n252\n00:12:47.314 --> 00:12:50.890\nwhoever is presenting refer to give\nyou the opportunity to go out and\n\n253\n00:12:50.890 --> 00:12:52.539\ngo do the research on your own.\n\n254\n00:12:52.539 --> 00:12:56.830\nRead up on things, learn more,\ngo more in depth if you choose to.\n\n255\n00:12:56.830 --> 00:12:59.250\nThe ADDS,\nActive Directory Domain Services,\n\n256\n00:12:59.250 --> 00:13:01.191\nthat's what the acronym stands for.\n\n257\n00:13:01.191 --> 00:13:04.447\nOverview page right here,\nagain in the show notes,\n\n258\n00:13:04.447 --> 00:13:06.748\nwe always put the URLs there for you.\n\n259\n00:13:06.748 --> 00:13:10.200\nWhen you take a look, you will see that\nMicrosoft has done a great job of putting\n\n260\n00:13:10.200 --> 00:13:11.680\nall this information out there.\n\n261\n00:13:11.680 --> 00:13:15.040\nNow, so I often try to do, let me\njust point something out to you here.\n\n262\n00:13:15.040 --> 00:13:19.892\nYou will see that the last update on this,\nif you're looking, was in 2013, right?\n\n263\n00:13:19.892 --> 00:13:22.953\nDon't be put off by the fact\nthat this is now at this point,\n\n264\n00:13:22.953 --> 00:13:24.880\nminimally several years old.\n\n265\n00:13:24.880 --> 00:13:28.010\nIt does say it applies to\nWindows Server 12, not even 12 R2,\n\n266\n00:13:28.010 --> 00:13:30.790\nnot even Server 16, but\nthere's a reason for that.\n\n267\n00:13:30.790 --> 00:13:34.280\nThe information here,\nthe background basic information.\n\n268\n00:13:34.280 --> 00:13:39.085\nWhat is a domain, what is a tree, what is\na forest, what is a user, what is a group,\n\n269\n00:13:39.085 --> 00:13:41.168\nwhat is an OU, what is a container?\n\n270\n00:13:41.168 --> 00:13:43.630\nThose definitions and\nI'm gonna show them to you in a minute.\n\n271\n00:13:43.630 --> 00:13:46.840\nI've broken them out, put them into\na separate Word document as a table so\n\n272\n00:13:46.840 --> 00:13:48.500\nyou can refer to them as well.\n\n273\n00:13:48.500 --> 00:13:51.069\nThose definitions and\nthose thought processes,\n\n274\n00:13:51.069 --> 00:13:54.564\nthey haven't changed in several\ngenerations of this technology.\n\n275\n00:13:54.564 --> 00:13:59.171\nAnd so this information is relevant today\nfor Server 16 as it was three or four,\n\n276\n00:13:59.171 --> 00:14:02.178\nfive years ago when we\nstarted out with Server 12.\n\n277\n00:14:02.178 --> 00:14:05.872\nAnd so that's why we see sometimes these\nwebsites have some slightly older, hey,\n\n278\n00:14:05.872 --> 00:14:08.246\nwe we haven't updated in\na while kind of timestamps,\n\n279\n00:14:08.246 --> 00:14:10.420\nbecause the information is still relevant.\n\n280\n00:14:10.420 --> 00:14:14.514\nSo you could see here as you\nscroll down and go through,\n\n281\n00:14:14.514 --> 00:14:19.601\nthat we do have a nice set of\nexplanatory items, as we'd often see.\n\n282\n00:14:19.601 --> 00:14:22.399\nWhat are of the benefits of using ADDS,?\n\n283\n00:14:22.399 --> 00:14:24.528\nWhat are the requirements to set up and\nrun it?\n\n284\n00:14:24.528 --> 00:14:28.299\nNeed TCP/IP and DNS server information,\n\n285\n00:14:28.299 --> 00:14:32.392\nthe NTFS file system,\nyou need credentials.\n\n286\n00:14:32.392 --> 00:14:35.368\nYou need the AD prep tool to\nbe able to go in and run and\n\n287\n00:14:35.368 --> 00:14:38.200\nconfigure and set up the Active Directory.\n\n288\n00:14:38.200 --> 00:14:40.321\nYou may have the opportunity to\nuse read only domain controllers.\n\n289\n00:14:40.321 --> 00:14:43.900\nSo we'll talk about what they are,\nhow they work, why they're appropriate.\n\n290\n00:14:43.900 --> 00:14:45.916\nWe have new technology in Server 16.\n\n291\n00:14:45.916 --> 00:14:50.767\nIt's not new in the sense that we've seen\nit actually be available since Server 12,\n\n292\n00:14:50.767 --> 00:14:52.904\nbut the ability to do domain cloning.\n\n293\n00:14:52.904 --> 00:14:55.756\nAnd we'll talk about domain\ncontroller cloning and what that is.\n\n294\n00:14:55.756 --> 00:14:59.044\nNewer in the sense that we really\nare starting to focus on it and\n\n295\n00:14:59.044 --> 00:15:00.827\nleverage it in Server 16 more.\n\n296\n00:15:00.827 --> 00:15:01.510\nWe'll talk more about it.\n\n297\n00:15:01.510 --> 00:15:03.580\nWe recommend you use it for\n\n298\n00:15:03.580 --> 00:15:07.700\nquick out of the gate deployments where\nyou have to spin up domain controllers.\n\n299\n00:15:07.700 --> 00:15:09.938\nAnd the idea behind it is\nyou don't wanna create or\n\n300\n00:15:09.938 --> 00:15:11.814\nhand craft domain controllers, right?\n\n301\n00:15:11.814 --> 00:15:15.693\nThe old fashioned old world way of\ndoing things, build everything by hand.\n\n302\n00:15:15.693 --> 00:15:17.989\nYears ago, Windows 2000, Server 2008-\n\n303\n00:15:17.989 --> 00:15:20.382\n&gt;&gt; [LAUGH]\n&gt;&gt; What's so funny?\n\n304\n00:15:20.382 --> 00:15:24.379\n&gt;&gt; I'm just imagining us sitting by\nthe campfire giving our little domain\n\n305\n00:15:24.379 --> 00:15:25.783\ncontrollers over here.\n\n306\n00:15:25.783 --> 00:15:27.840\n[LAUGH]\n&gt;&gt; Yeah, but kind of like that.\n\n307\n00:15:27.840 --> 00:15:30.840\nI was going to say if you think\nabout the fact that years ago,\n\n308\n00:15:30.840 --> 00:15:33.230\nServer 2000 for instance when it came out.\n\n309\n00:15:33.230 --> 00:15:36.010\nYou wanted to create\nan additional domain controller,\n\n310\n00:15:36.010 --> 00:15:39.900\nsets of domain controllers to scale up and\nscale out your infrastructure.\n\n311\n00:15:39.900 --> 00:15:42.050\nYou could do that,\nyou ran the DC promo tool.\n\n312\n00:15:42.050 --> 00:15:44.740\nI'm sure a lot of your\nremember DC promo right?\n\n313\n00:15:44.740 --> 00:15:46.230\nAnd you would run that tool, but\n\n314\n00:15:46.230 --> 00:15:50.540\nyou'd have to create essentially not just\na domain controller itself physically.\n\n315\n00:15:50.540 --> 00:15:51.460\nForget about virtualizing,\n\n316\n00:15:51.460 --> 00:15:53.746\nbecause we didn't virtualize domain\ncontrollers at that point in time.\n\n317\n00:15:53.746 --> 00:15:56.167\nWe can now, but\nwe didn't really have a way to do that,\n\n318\n00:15:56.167 --> 00:15:58.553\nat least not on the Microsoft side,\nnot officially.\n\n319\n00:15:58.553 --> 00:16:00.636\nYou may have virtualized them with VMware,\n\n320\n00:16:00.636 --> 00:16:04.307\nyou may have tried to do that With Virtual\nPC at that point, things like that.\n\n321\n00:16:04.307 --> 00:16:05.943\nWe didn't really have Hyper-V back then.\n\n322\n00:16:05.943 --> 00:16:10.928\nWe had server virtualization,\nbut without the Hyper-V product.\n\n323\n00:16:10.928 --> 00:16:12.210\nIt was a very different world.\n\n324\n00:16:12.210 --> 00:16:15.380\nBut whether you were virtualizing or\nnot, whether you went out on your own or\n\n325\n00:16:15.380 --> 00:16:18.710\nnot, you had to create\nthe actual solution.\n\n326\n00:16:18.710 --> 00:16:23.520\nSo install the OS, then configure the\ndomain controller capability by joining\n\n327\n00:16:23.520 --> 00:16:26.640\nto an existing domain and, or\na tree or establishing a new one.\n\n328\n00:16:26.640 --> 00:16:31.800\nBut after that, you had to go ahead and,\nas part of that process,\n\n329\n00:16:31.800 --> 00:16:36.710\ncopy all the directory information\ninto that domain controller through,\n\n330\n00:16:36.710 --> 00:16:38.670\nessentially, a copy and move process.\n\n331\n00:16:38.670 --> 00:16:43.820\nA sync process over the wire to, depending\non the size of the Active Directory,\n\n332\n00:16:43.820 --> 00:16:49.320\nultimately the size of the NTDS.dit file,\nwhich was and still is the schema\n\n333\n00:16:49.320 --> 00:16:53.280\nfile that had all that information,\nit would take a fair amount of time.\n\n334\n00:16:53.280 --> 00:16:54.830\nAnd you had to make sure\nyou were connected and\n\n335\n00:16:54.830 --> 00:16:57.370\nhad good,\nreliable bandwidth during that time.\n\n336\n00:16:57.370 --> 00:17:02.299\nWhich, in the LAN of 15,\n20 years ago, wasn't a big deal.\n\n337\n00:17:02.299 --> 00:17:06.299\nBut doing remote back office installations\ninto remote branch offices was\n\n338\n00:17:06.299 --> 00:17:11.075\na significant challenge, if we didn't have\nhigh speed, reliable bandwidth, right?\n\n339\n00:17:11.075 --> 00:17:12.620\nThis was a big deal.\n\n340\n00:17:12.620 --> 00:17:14.880\nAnd so\nit was very difficult to scale out and\n\n341\n00:17:14.880 --> 00:17:18.100\nscale up this infrastructure, initially.\n\n342\n00:17:18.100 --> 00:17:21.410\nWe switched, if you're old enough\nto remember that model and\n\n343\n00:17:21.410 --> 00:17:25.740\nthat shift from NT 4 into Windows 2000,\nNT 4 was a flat domain model.\n\n344\n00:17:25.740 --> 00:17:27.477\nYou had a primary domain controller.\n\n345\n00:17:27.477 --> 00:17:30.880\nYou had what were called backup domain\ncontrollers added to that domain.\n\n346\n00:17:30.880 --> 00:17:34.410\nBut you didn't share this domain hierarchy\nin the same way, where all domain\n\n347\n00:17:34.410 --> 00:17:38.110\ncontrollers in the tree and\nin the forest had knowledge of each other.\n\n348\n00:17:38.110 --> 00:17:40.760\nYou created these manual\ntrust relationships,\n\n349\n00:17:40.760 --> 00:17:45.090\none or two-way, that link separate\ndomains, separate namespaces together.\n\n350\n00:17:45.090 --> 00:17:47.140\nBut they had no direct\nknowledge of each other.\n\n351\n00:17:47.140 --> 00:17:49.559\nYour domain up here was\nseparate physically and\n\n352\n00:17:49.559 --> 00:17:51.497\nlogically from another domain here.\n\n353\n00:17:51.497 --> 00:17:54.738\nEven though you may have linked the two,\nit allowed for\n\n354\n00:17:54.738 --> 00:17:57.432\na pathway that allowed\ntrust to be extended.\n\n355\n00:17:57.432 --> 00:18:00.709\nAnd therefore, for security to be used\nto be able to authenticate a user and\n\n356\n00:18:00.709 --> 00:18:03.320\ngive them rights, or\nto run things like gateway services.\n\n357\n00:18:03.320 --> 00:18:06.945\nSome of you may remember gateway\nservices for Novell, right?\n\n358\n00:18:06.945 --> 00:18:10.574\nAnd we would have a Novell environment\nwhere we had this directory thought\n\n359\n00:18:10.574 --> 00:18:14.862\nprocess that we're very used to in Windows\ntoday, the Novell tree, the NDS, right?\n\n360\n00:18:14.862 --> 00:18:16.837\nThe Novell Directory Service in the tree.\n\n361\n00:18:16.837 --> 00:18:20.989\nAnd that's what Windows' Microsoft\nDirectory Service starting in 2000 is\n\n362\n00:18:20.989 --> 00:18:22.155\nmodeled to resemble.\n\n363\n00:18:22.155 --> 00:18:25.427\nAnd we would have this scaled out\ninfrastructure typically running in\n\n364\n00:18:25.427 --> 00:18:26.595\nenterprises back then.\n\n365\n00:18:26.595 --> 00:18:30.101\nIn the 1990s, where you had\nMicrosoft attaching to Novell\n\n366\n00:18:30.101 --> 00:18:34.600\nenvironments through gateway services,\nthrough translation portals.\n\n367\n00:18:34.600 --> 00:18:37.122\nThat allowed you to move user\naccounts back and forth.\n\n368\n00:18:37.122 --> 00:18:39.538\nBut you had to create accounts\non both sides and sync them.\n\n369\n00:18:39.538 --> 00:18:42.360\nIt was very complex\narchitecture back then.\n\n370\n00:18:42.360 --> 00:18:44.300\nLot of overhead to be able\nto get to the same place.\n\n371\n00:18:44.300 --> 00:18:46.195\nToday, it's very simple.\n\n372\n00:18:46.195 --> 00:18:47.610\nWe set up a domain.\n\n373\n00:18:47.610 --> 00:18:53.418\nWe then are able to create a copy of the\nNTDS.dit file in the information, right?\n\n374\n00:18:53.418 --> 00:18:57.135\nAnd we would be able to, with this\ndomain control cloning technology we'll\n\n375\n00:18:57.135 --> 00:19:01.430\ntalk about, we're able to copy that\ninformation off through removable media.\n\n376\n00:19:01.430 --> 00:19:06.168\nAnd then install locally, bringing that\nnew domain control up to a standardized,\n\n377\n00:19:06.168 --> 00:19:09.363\nbaseline point where we could stand it up,\nconnect it.\n\n378\n00:19:09.363 --> 00:19:12.751\nAnd then simply backfill over\ntime the remaining updates.\n\n379\n00:19:12.751 --> 00:19:15.820\nThe changelog essentially, right,\nthe delta changes of the blocks.\n\n380\n00:19:15.820 --> 00:19:18.661\nWe could bring those down\nthrough a controlled replication\n\n381\n00:19:18.661 --> 00:19:20.489\ncycle by monitoring that bandwidth.\n\n382\n00:19:20.489 --> 00:19:24.720\nAnd as result, right, you wanted me to\ngo even further back in time, Mike.\n\n383\n00:19:24.720 --> 00:19:26.850\nWe could talk about Banyan VINES and\nStreetTalk.\n\n384\n00:19:26.850 --> 00:19:28.782\nIf you remember Novell,\n\n385\n00:19:28.782 --> 00:19:31.470\nyou may remember all the way back to that,\nthat's even older technology.\n\n386\n00:19:31.470 --> 00:19:33.740\nThat shows you how far back I go, right?\n\n387\n00:19:33.740 --> 00:19:36.247\nWorking in this field and\ndoing this kinda stuff.\n\n388\n00:19:36.247 --> 00:19:39.609\nI used to stand up Banyan VINE and\nStreetTalk networks, and\n\n389\n00:19:39.609 --> 00:19:41.030\ndo all that kinda stuff.\n\n390\n00:19:41.030 --> 00:19:41.678\nAnd that was really,\n\n391\n00:19:41.678 --> 00:19:43.633\nI don't know if you actually have\na point of reference for that.\n\n392\n00:19:43.633 --> 00:19:44.202\nIt was probably a little\nbit before your time.\n\n393\n00:19:44.202 --> 00:19:46.858\n&gt;&gt; [LAUGH]\n&gt;&gt; But that's even older.\n\n394\n00:19:46.858 --> 00:19:49.643\nThat was around, but\nNovell had already been in market, but\n\n395\n00:19:49.643 --> 00:19:52.040\nthis stuff was even\nolder than some of that.\n\n396\n00:19:52.040 --> 00:19:54.320\nBut when we go back and\nthink about where we've been and\n\n397\n00:19:54.320 --> 00:19:57.080\nwhat we do now,\nvery different in many respects.\n\n398\n00:19:57.080 --> 00:19:59.030\nBut in the same respect, very similar.\n\n399\n00:19:59.030 --> 00:20:00.240\nWe still have domains.\n\n400\n00:20:00.240 --> 00:20:02.230\nWe still have a namespace,\nwe still have users.\n\n401\n00:20:02.230 --> 00:20:06.630\nWe still have to provide trust and\nauthentication across that relationship.\n\n402\n00:20:06.630 --> 00:20:12.259\nJust now, what we're doing is we\nare creating two-way transitive trusts.\n\n403\n00:20:12.259 --> 00:20:15.730\nLet's go back, if we could,\nto our diagram just one second.\n\n404\n00:20:15.730 --> 00:20:17.050\nLet me just switch over there.\n\n405\n00:20:17.050 --> 00:20:22.578\nAnd the idea here is, let me scroll down\njust a little bit so we can see that.\n\n406\n00:20:22.578 --> 00:20:24.615\nSo, these two-way arrows,\n\n407\n00:20:24.615 --> 00:20:29.422\nwhat we are implying here with\ntransitively is that the child domain,\n\n408\n00:20:29.422 --> 00:20:34.967\ndown here Hosts.ITPRO.tv, we'll just\nstick to the left side of the diagram.\n\n409\n00:20:34.967 --> 00:20:36.815\nOr left side of the diagram as I do\nthe opposite for just a minute, right?\n\n410\n00:20:36.815 --> 00:20:40.337\n&gt;&gt; [LAUGH]\n&gt;&gt; So we stick to this side, so\n\n411\n00:20:40.337 --> 00:20:43.187\nwe could see the path here up to ITPRO.tv.\n\n412\n00:20:43.187 --> 00:20:48.684\nWhen you're saying that Hosts.OTPRO.tv\nis trusting ITPRO.tv, and ITPRO.tv\n\n413\n00:20:48.684 --> 00:20:54.663\nis trusting Hosts.ITPRO.tv, these two-way\narrows that are going in each direction.\n\n414\n00:20:54.663 --> 00:20:57.651\nAnd that's kinda hard to see, but\nthere's a little arrowhead at the top or\n\n415\n00:20:57.651 --> 00:21:00.030\nbottom of each line there and\nthey point there.\n\n416\n00:21:00.030 --> 00:21:05.080\nAnd so\nthe idea is that by extending trust and\n\n417\n00:21:05.080 --> 00:21:09.170\ncreating what's called transitivity,\nthe transitive trust, a user or\n\n418\n00:21:09.170 --> 00:21:13.810\na group at Hosts.ITPRO.tv\ncan be trusted by or\n\n419\n00:21:13.810 --> 00:21:18.870\ncan trust a user or a group or\nan object, a printer, a computer,\n\n420\n00:21:18.870 --> 00:21:24.376\nwhatever it is, in Audience.ITPRO.tv\nright over here on the right, right?\n\n421\n00:21:24.376 --> 00:21:29.180\nBecause even though they're not directly\nrelated, there's no trust relationship,\n\n422\n00:21:29.180 --> 00:21:32.765\nnotice there's no arrow that goes\nbetween the two down here saying, as we\n\n423\n00:21:32.765 --> 00:21:37.370\nwould've had in NT4, a direct one-way or\ntwo-way trust, we don't have those.\n\n424\n00:21:37.370 --> 00:21:40.269\nInstead, we go through\nthe common domain at the top.\n\n425\n00:21:40.269 --> 00:21:45.610\nBecause both child domains are trusting\nITPro.TV and our trusted by it.\n\n426\n00:21:45.610 --> 00:21:49.126\nSomething on the left as a child can see\nin the rack with something on the right as\n\n427\n00:21:49.126 --> 00:21:51.737\na child, because they both\nhave something in common, and\n\n428\n00:21:51.737 --> 00:21:53.304\nthis is the idea of transitivity.\n\n429\n00:21:53.304 --> 00:21:57.033\nThis becomes available to us in Windows,\nstarting with Windows 2000,\n\n430\n00:21:57.033 --> 00:21:59.074\nstarting with the Active Directory, and\n\n431\n00:21:59.074 --> 00:22:03.118\nstarting with our deployment moving\nforward into now where we are, Server 16.\n\n432\n00:22:03.118 --> 00:22:07.662\nWe leveraged this, and this is one of the\ncornerstones, one of the key technologies.\n\n433\n00:22:07.662 --> 00:22:11.923\nAnd one of the key enhancements that\nwe see moving into the modern directory\n\n434\n00:22:11.923 --> 00:22:12.538\nservice.\n\n435\n00:22:12.538 --> 00:22:16.083\nAnd all of the things that we generate and\nget as value propositions and\n\n436\n00:22:16.083 --> 00:22:18.560\nadditional items as a result of that.\n\n437\n00:22:18.560 --> 00:22:21.150\nWhat I have here is a nice little\nchart that I put together.\n\n438\n00:22:21.150 --> 00:22:23.410\nI often do these tables for you, right?\n\n439\n00:22:23.410 --> 00:22:26.870\nAnd these are some of the logical and\nphysical components.\n\n440\n00:22:26.870 --> 00:22:28.588\nWe distinguish between logical and\n\n441\n00:22:28.588 --> 00:22:31.457\nphysical components when we\ncreate the direct resurface.\n\n442\n00:22:31.457 --> 00:22:32.815\nThe logical are first.\n\n443\n00:22:32.815 --> 00:22:35.660\nI'll go through them with you and then\nwe'll see the physical ones down below.\n\n444\n00:22:35.660 --> 00:22:37.119\nBut this is good vocabulary.\n\n445\n00:22:37.119 --> 00:22:40.738\nIt's important for you to be able to\ndefine these terms, not just define them,\n\n446\n00:22:40.738 --> 00:22:43.510\nbut define them in the way\nthat Microsoft defines them.\n\n447\n00:22:43.510 --> 00:22:45.960\nDefine them in the standardized\nway we use them today.\n\n448\n00:22:45.960 --> 00:22:49.742\nAlways good to understand the language\nto maybe ask about at some point in\n\n449\n00:22:49.742 --> 00:22:52.482\nthe future, maybe tested on for\ninstance, right?\n\n450\n00:22:52.482 --> 00:22:56.830\nSo wanna make sure you understand\nthe definition of things like a partition,\n\n451\n00:22:56.830 --> 00:22:58.700\nmeaning a directory partition.\n\n452\n00:22:58.700 --> 00:23:01.885\nOr what is known as the naming context,\nas you can see there.\n\n453\n00:23:01.885 --> 00:23:06.394\nI did mention the name of\nthe directory database file, Ntds.dit.\n\n454\n00:23:06.394 --> 00:23:07.850\nYou will see it right there.\n\n455\n00:23:07.850 --> 00:23:11.530\nBut there are different partitions\nwith different data inside if\n\n456\n00:23:11.530 --> 00:23:15.680\nyou have application partitions,\nplural, and you have domain partitions.\n\n457\n00:23:15.680 --> 00:23:18.396\nEvery domain, every named domain\nhas its own space, right?\n\n458\n00:23:18.396 --> 00:23:20.070\nSo you just wanna make\nsure you're aware of that.\n\n459\n00:23:21.250 --> 00:23:22.400\nWe have the schema.\n\n460\n00:23:22.400 --> 00:23:25.980\nThe blue printer, the master set\nof definitions for all objects.\n\n461\n00:23:25.980 --> 00:23:29.676\nAnd all of the definitions associated\nwith the use of those objects,\n\n462\n00:23:29.676 --> 00:23:34.281\nthe properties and the attributes that can\nbe attributed, that can be given to that.\n\n463\n00:23:34.281 --> 00:23:36.230\nThose are all part of the schema.\n\n464\n00:23:36.230 --> 00:23:39.280\nEverything we do in the directory\nservice is preordained,\n\n465\n00:23:39.280 --> 00:23:41.105\npredetermined by the schema.\n\n466\n00:23:41.105 --> 00:23:44.820\nIt's the operator's guide,\nthe instruction manual.\n\n467\n00:23:44.820 --> 00:23:47.842\nThe definition of an object\nis not already in the schema.\n\n468\n00:23:47.842 --> 00:23:49.799\nThat doesn't mean we\ncan't create an object.\n\n469\n00:23:49.799 --> 00:23:52.650\nIt means we must go into the schema\nwith the appropriate rights.\n\n470\n00:23:52.650 --> 00:23:54.197\nWe have to be member of\nenterprise admin group.\n\n471\n00:23:54.197 --> 00:23:58.724\nAnd the domain admin group is kind of\nimplied because enterprise admin would\n\n472\n00:23:58.724 --> 00:24:02.482\ngive us rights to all the domains\nthat we have in our hierarchy.\n\n473\n00:24:02.482 --> 00:24:05.672\nAnd we have to have schema\nadmin rights to administer.\n\n474\n00:24:05.672 --> 00:24:10.049\nAnd we could then extend, which is\nwhat we call modifying the schema.\n\n475\n00:24:10.049 --> 00:24:14.998\nWe can extend the schema, add an object\ndefinition or an object class definition\n\n476\n00:24:14.998 --> 00:24:19.400\ninto the schema, and\npopulate the appropriate information.\n\n477\n00:24:19.400 --> 00:24:22.450\nWhat people don't often realize\nis it's a one-way operation.\n\n478\n00:24:22.450 --> 00:24:27.440\nWe can put things into the schema, we can\nadd them in, but we cannot remove them.\n\n479\n00:24:27.440 --> 00:24:31.760\nUp until and including into Server 16,\nMicrosoft has never given us the ability\n\n480\n00:24:31.760 --> 00:24:36.500\nto remove defined items, or\ndefinitional criteria from the schema.\n\n481\n00:24:36.500 --> 00:24:38.130\nWe do have the ability to put them in.\n\n482\n00:24:38.130 --> 00:24:40.910\nSo if you're using programs like Exchange,\nfor instance,\n\n483\n00:24:40.910 --> 00:24:43.510\nand a lot of you may be\nfamiliar with Exchange.\n\n484\n00:24:43.510 --> 00:24:47.790\nWhen you deploy Exchange, you have to\ndo what's called extending the schema.\n\n485\n00:24:47.790 --> 00:24:52.480\nYou run a program that adds\ndefinitions into the schema\n\n486\n00:24:52.480 --> 00:24:56.830\nof the active directory in your forest,\nthat allows exchange to exist and\n\n487\n00:24:56.830 --> 00:25:01.700\ndeclares and creates all the defined\nobjects that have to be part of,\n\n488\n00:25:01.700 --> 00:25:05.920\nthe use of the management, of the running\nof exchange within the infrastructure.\n\n489\n00:25:05.920 --> 00:25:07.210\nAnd those are one way operations.\n\n490\n00:25:07.210 --> 00:25:11.130\nYou put them in, and then all those\nadditional definitional criteria,\n\n491\n00:25:11.130 --> 00:25:14.570\nthose tabs that show up in the active\ndirectory management interface,\n\n492\n00:25:14.570 --> 00:25:16.600\nwhere you can see\nthe Exchange information,\n\n493\n00:25:16.600 --> 00:25:20.540\ndepending on the version of Exchange,\nversion of AD you've been using over time.\n\n494\n00:25:20.540 --> 00:25:24.340\nWe flip back and forth between managing\nfrom Exchange, managing from AD, depending\n\n495\n00:25:24.340 --> 00:25:28.730\non the version over time, but we do extend\nthe definitional objects, and therefore\n\n496\n00:25:28.730 --> 00:25:33.110\nthe criteria that are available to us,\nto define an object has been extended.\n\n497\n00:25:33.110 --> 00:25:36.600\nWe can do that, but we can never remove\nthem and people don't often know this.\n\n498\n00:25:36.600 --> 00:25:39.140\nWe could turn them off,\nwe can hide them so you don't see them,\n\n499\n00:25:39.140 --> 00:25:40.690\nbut they always stay there.\n\n500\n00:25:40.690 --> 00:25:43.760\nThe only way to truly get rid of objects\nin the scheme once they've been added,\n\n501\n00:25:43.760 --> 00:25:44.640\nis to start over again.\n\n502\n00:25:44.640 --> 00:25:47.630\nYou blow up the schema,\nessentially wipe out the active directory.\n\n503\n00:25:47.630 --> 00:25:50.070\nAnd you create a brand\nnew set from scratch,\n\n504\n00:25:50.070 --> 00:25:53.590\nclean in other words,\nthat removes all previous definitions.\n\n505\n00:25:53.590 --> 00:25:55.780\nBut there's no way to remove\nan object once you put it in.\n\n506\n00:25:55.780 --> 00:25:57.470\nYou can and people confuse this.\n\n507\n00:25:57.470 --> 00:25:59.511\nYou can delete a user.\n\n508\n00:25:59.511 --> 00:26:02.020\nIt's not the same thing as\nremoving an object definition.\n\n509\n00:26:02.020 --> 00:26:04.720\nYou could delete a user,\nI created a user called Adam.\n\n510\n00:26:04.720 --> 00:26:08.004\nI can delete that user\nfrom the domain ITPro.tv.\n\n511\n00:26:08.004 --> 00:26:11.658\nI deleted that one instance of that user,\nright?\n\n512\n00:26:11.658 --> 00:26:16.910\nBut the definitional criteria that\ncreates the object called user,\n\n513\n00:26:16.910 --> 00:26:19.190\ngenerically all up, is still there.\n\n514\n00:26:19.190 --> 00:26:22.050\nAnd I cannot remove the definitional\ncriteria, or what it means to\n\n515\n00:26:22.050 --> 00:26:25.530\ncreate an object called user from\nthe schema, is what I'm suggesting to you.\n\n516\n00:26:25.530 --> 00:26:30.440\nI can only hide those definitional\ncriteria, choose not to expose them, but\n\n517\n00:26:30.440 --> 00:26:34.960\nthey stay there no matter what I do,\nuntil I remove the actual schema itself,\n\n518\n00:26:34.960 --> 00:26:38.250\nby blowing up the AD or\ndeciding to walk away and start over.\n\n519\n00:26:38.250 --> 00:26:41.160\nSo keep in mind, once you add something,\nit's there for life,\n\n520\n00:26:41.160 --> 00:26:42.140\nyou can't get rid of it.\n\n521\n00:26:42.140 --> 00:26:43.000\nYes?\n&gt;&gt; So Adam,\n\n522\n00:26:43.000 --> 00:26:47.380\nwould that residual information\nbe the root cause of any kind of-\n\n523\n00:26:47.380 --> 00:26:48.720\n&gt;&gt; Was that a pun on purpose?\n\n524\n00:26:48.720 --> 00:26:49.340\nThe root cause?\n\n525\n00:26:49.340 --> 00:26:51.336\nAnd the root of the directory?\n&gt;&gt; [LAUGH]\n\n526\n00:26:51.336 --> 00:26:51.836\n&gt;&gt; No, go ahead.\n\n527\n00:26:51.836 --> 00:26:52.336\n&gt;&gt; No, I didn't.\n\n528\n00:26:52.336 --> 00:26:53.769\nI'm not that clever, Adam.\n\n529\n00:26:53.769 --> 00:26:55.700\n[LAUGH] Unfortunately, but\n\n530\n00:26:55.700 --> 00:27:00.040\nhave you seen that cause,\nlike unexplained issues, or you know.\n\n531\n00:27:00.040 --> 00:27:03.080\n&gt;&gt; So it's a great question,\nlet me just broaden that for a second.\n\n532\n00:27:03.080 --> 00:27:06.980\nSo the answer is absolutely it can be,\nand what Cherokee is implying and\n\n533\n00:27:06.980 --> 00:27:08.410\nasking specifically is,\n\n534\n00:27:08.410 --> 00:27:12.647\ndoes the idea that we're putting this\nstuff in perhaps not able to remove it?\n\n535\n00:27:12.647 --> 00:27:16.001\nAnd therefore just piles up, and\ncould it lead to corruption?\n\n536\n00:27:16.001 --> 00:27:19.679\nCould it lead to concerns about objects\nbeing created when we don't want them, or\n\n537\n00:27:19.679 --> 00:27:23.030\nobjects, ghost objects,\nall sorts of crazy things that can go on.\n\n538\n00:27:23.030 --> 00:27:26.890\nThe answer is yes it can, it does not\noften, so it's not something I would say\n\n539\n00:27:26.890 --> 00:27:29.600\nyou gotta go out there worry about,\nand be really concerned about.\n\n540\n00:27:29.600 --> 00:27:32.520\nBut is there the possibility\nthat over time, three,\n\n541\n00:27:32.520 --> 00:27:36.270\nfour, five generations if you\ncontinuously are upgrading and\n\n542\n00:27:36.270 --> 00:27:39.600\nupdating the existing infrastructure\nas opposed to building new.\n\n543\n00:27:39.600 --> 00:27:42.900\nAnd remember, we don't tend to go out and\nbuild a brand new\n\n544\n00:27:42.900 --> 00:27:46.420\nactive directory from the ground up,\nwe tend to upgrade and update.\n\n545\n00:27:46.420 --> 00:27:50.690\nOur existing infrastructure may change,\nin other words the physical servers,\n\n546\n00:27:50.690 --> 00:27:52.205\neven the virtual machines.\n\n547\n00:27:52.205 --> 00:27:56.982\nBut the core information in that\ndirectory has probably stuck around,\n\n548\n00:27:56.982 --> 00:27:59.618\nin some cases since Windows 2000.\n\n549\n00:27:59.618 --> 00:28:02.922\nBecause if you have been doing active\ndirectory since the beginning,\n\n550\n00:28:02.922 --> 00:28:05.386\nyou probably have not gone out and\nblown up your AD and\n\n551\n00:28:05.386 --> 00:28:08.817\nstarted over unless you've been\ninvolved in a merger and acquisition.\n\n552\n00:28:08.817 --> 00:28:11.039\nMeaning your company got\nbought by somebody, or\n\n553\n00:28:11.039 --> 00:28:14.560\nyou bought other companies and\nhad to merge directories over time.\n\n554\n00:28:14.560 --> 00:28:18.450\nBut other than that, you've probably just\nbuild on top of that existing directory,\n\n555\n00:28:18.450 --> 00:28:21.430\nfor we said potentially,\nup to eight generations now.\n\n556\n00:28:21.430 --> 00:28:25.000\nSo there is probably a lot of garbage\nsitting in that directory, right?\n\n557\n00:28:25.000 --> 00:28:29.370\nThat you may no longer need, and it can\npotentially over time become an issue.\n\n558\n00:28:29.370 --> 00:28:33.530\nWe do have tools that would allow us to go\nin, deal with some of this, we can look at\n\n559\n00:28:33.530 --> 00:28:37.990\nthe healthy integrity of the database, we\ncan do some clean-up in certain respects.\n\n560\n00:28:37.990 --> 00:28:39.480\nWe do often, and\n\n561\n00:28:39.480 --> 00:28:44.410\nwhen I say we recommend this is a variable\nstatement, best practice is you don't\n\n562\n00:28:44.410 --> 00:28:46.970\ngo messing around in the schema unless\nabsolutely necessary number one.\n\n563\n00:28:46.970 --> 00:28:51.930\nLet me be unequivocal and clear, Microsoft\ndoes not recommend under any circumstance,\n\n564\n00:28:51.930 --> 00:28:55.580\nor very, very few tightly defined and\ncontrolled circumstances,\n\n565\n00:28:55.580 --> 00:28:59.575\nthat you even go poke around in the active\ndirectory scheme of editing tools,\n\n566\n00:28:59.575 --> 00:29:01.640\nbecause you can do a lot of damage.\n\n567\n00:29:01.640 --> 00:29:05.370\nAnd this is not one of those,\nI have the undo so I didn't mean to do it,\n\n568\n00:29:05.370 --> 00:29:09.210\nwe'll ask you and verify five times\nbefore we make you do something.\n\n569\n00:29:09.210 --> 00:29:11.170\nThis is like registry editing, right?\n\n570\n00:29:11.170 --> 00:29:14.270\nYou make a change and it's live and it\ngoes into effect immediately, there's no,\n\n571\n00:29:14.270 --> 00:29:16.190\noops, I didn't mean to do that, options.\n\n572\n00:29:16.190 --> 00:29:17.800\nIt just happens.\n\n573\n00:29:17.800 --> 00:29:21.730\nNo, and so the problem becomes,\nremember once you make a change and\n\n574\n00:29:21.730 --> 00:29:25.010\nit goes in, you're not pulling an object\nout if you've just defined something new.\n\n575\n00:29:25.010 --> 00:29:27.750\nIt's there literally for\nthe life of that system.\n\n576\n00:29:27.750 --> 00:29:30.580\nSo we don't recommend as a best\npractice you go in and play around.\n\n577\n00:29:30.580 --> 00:29:36.060\nHowever, having said that, there are times\nwhere you may need to go in and either\n\n578\n00:29:36.060 --> 00:29:39.850\nextend the schema legitimately, exchange\ninstallation as I mentioned, good example.\n\n579\n00:29:39.850 --> 00:29:43.540\nSystem Center, you've often heard me and\nCherokee and me and\n\n580\n00:29:43.540 --> 00:29:45.520\nDaniel talking about System Center.\n\n581\n00:29:45.520 --> 00:29:49.770\nDid a whole set of shows for you,\nwhether you've seen them or not.\n\n582\n00:29:49.770 --> 00:29:54.270\nOn System Center, on the Ops Manager,\non SCOM, on System Center Config Manager,\n\n583\n00:29:54.270 --> 00:29:55.900\non the entire suite of products.\n\n584\n00:29:55.900 --> 00:29:57.520\nWhen we install System Center,\n\n585\n00:29:57.520 --> 00:30:00.550\nwe are adding things into\nthe schema to be able to use it.\n\n586\n00:30:00.550 --> 00:30:03.350\nAnd so there are reasons why\nwould legitimately go in.\n\n587\n00:30:03.350 --> 00:30:06.456\nBut there are concerns because\nif you are just going in and\n\n588\n00:30:06.456 --> 00:30:09.755\nextending the schema without a plan,\nwithout a blueprint,\n\n589\n00:30:09.755 --> 00:30:13.656\nwithout very specific guidance from\nvendors about what has to happen.\n\n590\n00:30:13.656 --> 00:30:16.299\nAnd the use of the proper, not only tools,\n\n591\n00:30:16.299 --> 00:30:19.244\nbut the structure and\nthe format for that data.\n\n592\n00:30:19.244 --> 00:30:21.669\nAnd specifically something\nknown as the OIDs or\n\n593\n00:30:21.669 --> 00:30:24.831\nthe the object IDs might just\ncall that out of the chat window.\n\n594\n00:30:24.831 --> 00:30:27.256\nI always want to give credit to people\nwhen they add value to what we're doing,\n\n595\n00:30:27.256 --> 00:30:28.558\nand Mike, thank you for putting that up.\n\n596\n00:30:28.558 --> 00:30:32.352\nIt's the exact thing we gotta be concerned\nabout where you have duplicate object\n\n597\n00:30:32.352 --> 00:30:33.651\nID's, as you called out.\n\n598\n00:30:33.651 --> 00:30:37.219\nDuplicate ID's can become a very\nbig problem, because essentially,\n\n599\n00:30:37.219 --> 00:30:40.787\nyou've declared two objects to be\nidentical but they can't be, and as\n\n600\n00:30:40.787 --> 00:30:45.240\na result we have to figure out which one\nis right and understand which one to use.\n\n601\n00:30:45.240 --> 00:30:50.230\nAnd there is a structure and\nthere is a way, if you will, that\n\n602\n00:30:50.230 --> 00:30:53.680\nwe have to go in and program data into\nthe schema, to make it work the right way.\n\n603\n00:30:53.680 --> 00:30:58.180\nIt's a little bit beyond the conversation\nwe're having here, but it is important,\n\n604\n00:30:58.180 --> 00:31:02.000\nback to Cherokee's point,\nthat we do need to understand that, and\n\n605\n00:31:02.000 --> 00:31:04.310\nunderstand that there can\nbe corruption that occurs.\n\n606\n00:31:04.310 --> 00:31:06.600\nThis is why we do system state backups and\n\n607\n00:31:06.600 --> 00:31:10.580\nrequire you to be able to backup the\nActive Directory structure, the schema,\n\n608\n00:31:10.580 --> 00:31:15.150\nthe SYSVOL, which is the container that\nhas a lot of additional information in it.\n\n609\n00:31:15.150 --> 00:31:18.372\nSo that if something goes wrong,\nwe have a point in time reference,\n\n610\n00:31:18.372 --> 00:31:21.093\nseveral point in time references,\nthat we can refer to.\n\n611\n00:31:21.093 --> 00:31:25.221\nTo be able to do system state restore,\nput back the AD to a prior moment in time\n\n612\n00:31:25.221 --> 00:31:29.351\nwhere we hopefully have missed the\ncorruption because of whatever went on,\n\n613\n00:31:29.351 --> 00:31:33.210\nwe can then go backwards or\ngo forwards from there to figure it out.\n\n614\n00:31:33.210 --> 00:31:37.510\nAnd we have tools like NTBS UTIL and other\ntools, that can be used to restore and\n\n615\n00:31:37.510 --> 00:31:40.185\nbe able to fix problems\nwhen things go wrong.\n\n616\n00:31:40.185 --> 00:31:43.210\nFSMO rules which we'll get\ninto future discussions,\n\n617\n00:31:43.210 --> 00:31:45.590\nare also another point of\ncontention here in this schema,\n\n618\n00:31:45.590 --> 00:31:49.740\nbecause we define the flexible\nsingle operation master rules.\n\n619\n00:31:49.740 --> 00:31:52.260\nYou ever think about the acronym, FSMO?\n\n620\n00:31:52.260 --> 00:31:53.493\nFSMO and it's really FSOM?\n\n621\n00:31:53.493 --> 00:31:55.046\n&gt;&gt; Yeah, you explained this\nbefore with the transpose there.\n\n622\n00:31:55.046 --> 00:31:58.306\n&gt;&gt; [CROSSTALK] Right, it should be\nFSOM because it's Operation Master,\n\n623\n00:31:58.306 --> 00:31:59.585\nnot Master of Operations.\n\n624\n00:31:59.585 --> 00:32:01.763\nBut anyway, point is, nobody asked my\nopinion when they named these things,\n\n625\n00:32:01.763 --> 00:32:02.791\nthey just went ahead and named them.\n\n626\n00:32:02.791 --> 00:32:06.357\nBut when we talk about FSMO roles,\nthere are five roles.\n\n627\n00:32:06.357 --> 00:32:07.809\nWe'll define what they are,\n\n628\n00:32:07.809 --> 00:32:11.360\nwhy they're important To that exist\nup to far of the every three domain.\n\n629\n00:32:11.360 --> 00:32:14.850\nSo in multiple instances\nwe see the domain ones.\n\n630\n00:32:14.850 --> 00:32:17.760\nWe have one copy for\nthe entire force for the two roles.\n\n631\n00:32:17.760 --> 00:32:21.550\nSo, let me think about those and the fact\nif they're working means good grade,\n\n632\n00:32:21.550 --> 00:32:23.340\nif not we have problems.\n\n633\n00:32:23.340 --> 00:32:26.220\nWe to go in forcibly sees those roles.\n\n634\n00:32:26.220 --> 00:32:27.760\nAnd grab them and reassign them,\n\n635\n00:32:27.760 --> 00:32:32.710\nand we're using out-of-date data in\nthe active directory domain, or excuse me,\n\n636\n00:32:32.710 --> 00:32:36.770\nin the active directory database,\nand needs that .gitfile to do this.\n\n637\n00:32:36.770 --> 00:32:39.860\nThere can be issues associated with\nthis if it's not done correctly,\n\n638\n00:32:39.860 --> 00:32:41.550\nwe run the risk of corrupting things,\n\n639\n00:32:41.550 --> 00:32:45.710\nso it's definitely a source of concern but\na very minimal one.\n\n640\n00:32:45.710 --> 00:32:48.470\nRight?\nIt's not something I would spend sleepless\n\n641\n00:32:48.470 --> 00:32:50.340\nnights over as an administrator.\n\n642\n00:32:50.340 --> 00:32:53.500\nYou could go on about your business,\ndoing what you do consistently and\n\n643\n00:32:53.500 --> 00:32:56.300\nnever run afoul of the scheme at\nall in all the years you do this,\n\n644\n00:32:56.300 --> 00:32:58.850\nas long as you pay attention\nto some very basic rules and\n\n645\n00:32:58.850 --> 00:33:01.570\nyou do the common sense things\nthat all of us know we have to do.\n\n646\n00:33:01.570 --> 00:33:04.280\nBack up your directories\non a regular basis.\n\n647\n00:33:04.280 --> 00:33:09.370\nRun that system backup right\nto the system state backup so\n\n648\n00:33:09.370 --> 00:33:12.710\nyou could restore if needed and,\nin general, just take care of\n\n649\n00:33:12.710 --> 00:33:16.470\nthe active directory by going in and\nthis is something most people.\n\n650\n00:33:16.470 --> 00:33:18.110\nPeople often forget to do.\n\n651\n00:33:18.110 --> 00:33:20.960\nClean up objects that\nare no longer needed.\n\n652\n00:33:20.960 --> 00:33:23.240\nSo it wouldn't be so\nmuch a schema definitions, but\n\n653\n00:33:23.240 --> 00:33:27.140\nthe fact that you may have 100 users that\nover time are no longer with the company.\n\n654\n00:33:27.140 --> 00:33:28.040\nAnd you're not going in and\n\n655\n00:33:28.040 --> 00:33:32.220\ndeleting those accounts and cleaning up\nafter yourself and removing them properly.\n\n656\n00:33:32.220 --> 00:33:34.250\nThat's the kinda stuff\nthat gets you in trouble.\n\n657\n00:33:34.250 --> 00:33:38.210\nI'd be more concerned in other words\nAbout the security implications\n\n658\n00:33:38.210 --> 00:33:42.100\nof objects that are defined but\nno longer monitored, audited, and used.\n\n659\n00:33:42.100 --> 00:33:45.170\nThen it would be about the definition\nintegrity itself, if that makes sense.\n\n660\n00:33:45.170 --> 00:33:46.350\n&gt;&gt; Okay, sure does.\n\n661\n00:33:46.350 --> 00:33:47.575\n&gt;&gt; All right, outstanding, very good.\n\n662\n00:33:47.575 --> 00:33:49.030\n&gt;&gt; [LAUGH]\n&gt;&gt; Glad you agree I was\n\n663\n00:33:49.030 --> 00:33:50.090\na little concerned about that.\n\n664\n00:33:50.090 --> 00:33:52.750\n&gt;&gt; But I know we've covered\na lot of information so far and\n\n665\n00:33:52.750 --> 00:33:53.807\nwe're just getting started [LAUGH].\n\n666\n00:33:53.807 --> 00:33:56.205\n&gt;&gt; We have, almost done, we're not ready\nyet cuz just gotta go back one second.\n\n667\n00:33:56.205 --> 00:33:58.210\nSo, cuz we kind of got off\ntrack with the question.\n\n668\n00:33:58.210 --> 00:34:00.370\nIt was a great question, but\nwe got off track from the document.\n\n669\n00:34:00.370 --> 00:34:02.960\nI wanna just finish up real quick to\nmake sure we know what's in here so\n\n670\n00:34:02.960 --> 00:34:03.960\npeople can reference it.\n\n671\n00:34:03.960 --> 00:34:05.430\n&gt;&gt; Okay.\n&gt;&gt; So, we went through talking about some\n\n672\n00:34:05.430 --> 00:34:06.340\nof the logical components.\n\n673\n00:34:06.340 --> 00:34:07.510\nI was just calling out a couple of them.\n\n674\n00:34:07.510 --> 00:34:12.060\nWe were defining the schema of the domain\nitself, the domain tree, the forest.\n\n675\n00:34:12.060 --> 00:34:14.870\nWe'll come back, we'll talk more\nabout these in our next discussion.\n\n676\n00:34:14.870 --> 00:34:17.890\nThe site, the subset, you've heard\nme refer to some of these before,\n\n677\n00:34:17.890 --> 00:34:21.920\nthe OU, the container, but then you have\nthe physical components at the second\n\n678\n00:34:21.920 --> 00:34:24.320\npart of the diagram,\nsecond part of the table here.\n\n679\n00:34:24.320 --> 00:34:28.600\nThe domain controller or controllers\nthemselves are gonna be physical.\n\n680\n00:34:28.600 --> 00:34:32.390\nI know they can be virtualized today,\nbut just generically we consider them\n\n681\n00:34:32.390 --> 00:34:36.080\ninfrastructure as opposed to a logical\nelement that is gonna manage data.\n\n682\n00:34:36.080 --> 00:34:39.790\nIt's the physical container where data\nis going to be created and managed.\n\n683\n00:34:39.790 --> 00:34:45.470\nThe data store itself, this is the NTDF\ndirectory where the NTDF file will\n\n684\n00:34:45.470 --> 00:34:50.130\nbe found right so could we see windows but\nagain you may modify the install path.\n\n685\n00:34:51.580 --> 00:34:56.290\nGlobal catalog server or servers,\ndomain controllers that are going to have\n\n686\n00:34:56.290 --> 00:35:00.700\ncopies of the active\ndirectory file the NTDF file.\n\n687\n00:35:00.700 --> 00:35:04.040\nThat could be used for searching and\nfinding information in other domains\n\n688\n00:35:04.040 --> 00:35:07.820\nacross the forest and in other forests\npotentially as we search across and\n\n689\n00:35:07.820 --> 00:35:12.930\ncreate multi-forest and external trust to\nthose forest to be able to allow for that.\n\n690\n00:35:12.930 --> 00:35:17.250\nThe read only copies of the information\ncould be used to quickly enhance our\n\n691\n00:35:17.250 --> 00:35:21.130\nsearching capabilities and our best\npractice is the domain controllers today\n\n692\n00:35:21.130 --> 00:35:23.920\nare all created as global\ncatalogs servers to facilitate\n\n693\n00:35:23.920 --> 00:35:27.390\nthe ability to be able to quickly\nsearch for and use information.\n\n694\n00:35:27.390 --> 00:35:28.760\nAnd read only domain controllers,\n\n695\n00:35:28.760 --> 00:35:33.100\nI mentioned these before, the RODCs\nas we call it are just like the name\n\n696\n00:35:33.100 --> 00:35:37.080\nimplies read only copies of\nthe domain controller information.\n\n697\n00:35:37.080 --> 00:35:41.440\nThese are deployed into the periphery\nof our networks into branch offices or\n\n698\n00:35:41.440 --> 00:35:45.420\nremote locations where traditionally\nwe may not have a lot of IT support.\n\n699\n00:35:45.420 --> 00:35:48.050\nMay not have a lot of oversight and\ncapabilities and\n\n700\n00:35:48.050 --> 00:35:51.490\nwe wanna have a need of domain controller\nto authenticate users locally.\n\n701\n00:35:51.490 --> 00:35:55.810\nIt's always better to allow users to\ninteract locally on a well defined,\n\n702\n00:35:55.810 --> 00:35:59.730\nwell connected LAN than it is\nto force them to connect a WAN\n\n703\n00:35:59.730 --> 00:36:03.030\nwhere we may have bandwidth management\nissues and things of that nature.\n\n704\n00:36:03.030 --> 00:36:06.260\nAnd so we put the read only\ndomain controller locally\n\n705\n00:36:06.260 --> 00:36:09.270\nto allow users in that\nbranch off to authenticate.\n\n706\n00:36:09.270 --> 00:36:13.230\nBut because it is not a writable copy\nof the directory, infrastructure,\n\n707\n00:36:13.230 --> 00:36:14.240\nwe can't make changes to it.\n\n708\n00:36:14.240 --> 00:36:16.990\nIn other words, we can't add users,\nwe can't modify them there,\n\n709\n00:36:16.990 --> 00:36:21.100\ncan only see a read only copy\nthat is pulled down or excuse me,\n\n710\n00:36:21.100 --> 00:36:25.440\nactually pushed from the master\ncopy up in the parent domain.\n\n711\n00:36:25.440 --> 00:36:28.710\nBecause no changes are allowed there,\nno write back occurs.\n\n712\n00:36:28.710 --> 00:36:32.860\nEven if somebody were to get to the\nphysical or virtual server, try to modify\n\n713\n00:36:32.860 --> 00:36:35.660\nit, try to hack their way in, and\neven steal it and walk away with it.\n\n714\n00:36:35.660 --> 00:36:36.570\nThey get nothing of value.\n\n715\n00:36:36.570 --> 00:36:39.360\nThe database is encrypted,\nyou can't make changes to it.\n\n716\n00:36:39.360 --> 00:36:44.470\nSo no information can be modified in\na way that we would give concern to,\n\n717\n00:36:44.470 --> 00:36:46.070\nor think about from\na security perspective.\n\n718\n00:36:46.070 --> 00:36:48.600\nSo this is a very\nvaluable additional tool.\n\n719\n00:36:48.600 --> 00:36:51.370\nWe've had these in one form or\nanother since 2008 R2,\n\n720\n00:36:51.370 --> 00:36:52.880\nthey've been around for awhile now.\n\n721\n00:36:52.880 --> 00:36:55.690\nThis is not a brand new\nthought process by any means.\n\n722\n00:36:55.690 --> 00:37:00.060\nBut Microsoft's really making an effort to\nfocus on technology like this to really\n\n723\n00:37:00.060 --> 00:37:04.100\nhelp us to understand how to scale out our\ninfrastructure, and become more secure\n\n724\n00:37:04.100 --> 00:37:06.190\nas part of our deployment of\nthe directory services, right?\n\n725\n00:37:06.190 --> 00:37:08.480\nSo it is very important\njust to call these out.\n\n726\n00:37:08.480 --> 00:37:10.240\nIf I was you studying for the exam,\n\n727\n00:37:10.240 --> 00:37:14.350\nwell I'm not overly concerned,\nnecessarily, about hey, which of these\n\n728\n00:37:14.350 --> 00:37:18.340\nthings is a physical versus logical\ncomponent of the directory service?\n\n729\n00:37:18.340 --> 00:37:20.230\nYou're not gonna see typically\nquestions like that,\n\n730\n00:37:20.230 --> 00:37:22.150\na little simplistic, a little bit easy.\n\n731\n00:37:22.150 --> 00:37:26.590\nBut what I wanna know a working\na definition of these terms, but\n\n732\n00:37:26.590 --> 00:37:30.320\nthe physical and\nthe logical components up here.\n\n733\n00:37:30.320 --> 00:37:32.560\nSo I understand what they are,\n\n734\n00:37:32.560 --> 00:37:36.120\nthings like what's the path where\nyou'll find the NTDS directory.\n\n735\n00:37:36.120 --> 00:37:39.230\nWhat's the name of\nthe partition file NTDS.dit.\n\n736\n00:37:39.230 --> 00:37:43.790\nKnowing those pieces of information make\nyou not only more valuable in the real\n\n737\n00:37:43.790 --> 00:37:45.340\nworld as you look to apply these skills.\n\n738\n00:37:45.340 --> 00:37:48.160\nYou know how to go, where to go, what\nto do how to trouble shoot, but you're\n\n739\n00:37:48.160 --> 00:37:51.290\ngonna be able to understand the context\nof questions when asked about them.\n\n740\n00:37:51.290 --> 00:37:53.670\nAnd as a result,\nyou're gonna do better on the exams.\n\n741\n00:37:53.670 --> 00:37:56.350\nAnd those are important criteria and\nimportant hallmarks for\n\n742\n00:37:56.350 --> 00:37:58.910\nour measurements of success for\nus, as we think about that, now.\n\n743\n00:37:58.910 --> 00:38:00.770\n&gt;&gt; Most definitely, especially, now?\n\n744\n00:38:00.770 --> 00:38:04.580\nOkay, especially, Adam, when you get\nthose scenario based type questions.\n\n745\n00:38:04.580 --> 00:38:07.610\nThey're not gonna give you that back\nhistory in all that information.\n\n746\n00:38:07.610 --> 00:38:09.040\nThat's kind of implied\nknowledge there at this point.\n\n747\n00:38:09.040 --> 00:38:10.090\n&gt;&gt; Correct, correct, absolutely.\n\n748\n00:38:10.090 --> 00:38:11.600\nOr at least assumed or\nimplied, right, absolutely.\n\n749\n00:38:11.600 --> 00:38:13.620\n&gt;&gt; Assumed, there we go.\n[LAUGH] All right,\n\n750\n00:38:13.620 --> 00:38:15.960\nwe won't assume you know what that makes.\n\n751\n00:38:15.960 --> 00:38:19.650\nBut for this show, I think we are off\nto a great start of information but\n\n752\n00:38:19.650 --> 00:38:21.240\nthere's gonna be plenty\nmore headed your way.\n\n753\n00:38:21.240 --> 00:38:23.070\nSo ladies and gentlemen stay tuned.\n\n754\n00:38:23.070 --> 00:38:25.700\nWe'll go ahead and sign out,\nI've been your host Cherokee Boose.\n\n755\n00:38:25.700 --> 00:38:26.430\n&gt;&gt; I'm Adam Gordon.\n\n756\n00:38:26.430 --> 00:38:27.937\n&gt;&gt; See you next time here at ITProTV.\n\n757\n00:38:27.937 --> 00:38:36.123\n[MUSIC]\n\n758\n00:38:36.123 --> 00:38:38.630\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "228812007"
        },
        {
          "description": "In this show, Adam and Cherokee continue defining AD DS components. Specifically, the look the the five Flexible Single Master Operations (FSMO) roles. They explain what each one is responsible for and to what level (domain or forest) they are applied.",
          "length": "2486",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-2-install_configure_domain_controllers_pt2-080717-PGM.00_41_08_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-2-install_configure_domain_controllers_pt2-080717-PGM.00_41_08_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-2-install_configure_domain_controllers_pt2-080717-PGM.00_41_08_20.Still001-sm.jpg",
          "title": "Install / Configure Domain Controllers Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.823\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.823 --> 00:00:07.281\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:07.281 --> 00:00:08.310\n[MUSIC]\n\n4\n00:00:08.310 --> 00:00:11.835\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:11.835 --> 00:00:15.291\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n6\n00:00:15.291 --> 00:00:17.574\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.574 --> 00:00:21.959\nIn the last episode, we were introduced to\nseveral different terms and components and\n\n8\n00:00:21.959 --> 00:00:23.710\neven took a trip down memory lane.\n\n9\n00:00:23.710 --> 00:00:26.820\nBut in this show, we'll continue\ntalking about installing and\n\n10\n00:00:26.820 --> 00:00:28.730\nconfiguring domain controllers.\n\n11\n00:00:28.730 --> 00:00:31.460\nAnd back in or studios with us today,\nwe have Mr. Adam Gordon.\n\n12\n00:00:31.460 --> 00:00:33.010\nThank you for joining us, Adam.\n\n13\n00:00:33.010 --> 00:00:34.020\n&gt;&gt; You're welcome, you're welcome.\n\n14\n00:00:34.020 --> 00:00:36.560\nAlways glad to be here and\nglad to be able to spend time with you,\n\n15\n00:00:36.560 --> 00:00:40.710\ncontinue our conversations around\nthe Active Directory domain services.\n\n16\n00:00:40.710 --> 00:00:44.080\nTheir structure, their format, what we\ndo with them, why we do what we do and\n\n17\n00:00:44.080 --> 00:00:44.600\nhow we do it.\n\n18\n00:00:44.600 --> 00:00:46.430\nIn the last conversation,\n\n19\n00:00:46.430 --> 00:00:48.960\nif you remember if you haven't\nseen it by the way, always good.\n\n20\n00:00:48.960 --> 00:00:52.590\nWe always try to remind you go back, take\na look sequentially or chronologically.\n\n21\n00:00:52.590 --> 00:00:54.850\nCuz there's often information we build on.\n\n22\n00:00:54.850 --> 00:00:57.330\nWe're gonna do that from that\nconversation here in a minute.\n\n23\n00:00:57.330 --> 00:01:00.370\nThere's also usually some\ndocumentation that sets the tone and\n\n24\n00:01:00.370 --> 00:01:02.830\ngives you the flavor of what we're doing.\n\n25\n00:01:02.830 --> 00:01:06.760\nGave you a nice little Word document,\na two table chart about physical and\n\n26\n00:01:06.760 --> 00:01:09.110\nlogical components of\nthe Active Directory.\n\n27\n00:01:09.110 --> 00:01:12.060\nAlso took you out to a website,\nwe're going to take a look back at that in\n\n28\n00:01:12.060 --> 00:01:14.430\na minute again,\nwith the domain services overview.\n\n29\n00:01:14.430 --> 00:01:17.120\nThere's some additional links\nthere that will be valuable.\n\n30\n00:01:17.120 --> 00:01:21.500\nBut wanna make sure that as we start our\nconversation, remind ourselves that what\n\n31\n00:01:21.500 --> 00:01:25.050\nwe're doing, why we're doing it and\nwhat the ADDS represents.\n\n32\n00:01:25.050 --> 00:01:27.360\nThat we focus on the critical\nkind of pivot point.\n\n33\n00:01:27.360 --> 00:01:29.850\nThe most important element\nof the Active Directory.\n\n34\n00:01:29.850 --> 00:01:32.980\nSo Cherokee, if I asked you\nfrom your perspective, right?\n\n35\n00:01:34.150 --> 00:01:38.620\nWhat you think the most important\ncomponent of the Active Directory is.\n\n36\n00:01:38.620 --> 00:01:39.842\nWe've got all these different things.\n\n37\n00:01:39.842 --> 00:01:42.890\nWe've talked about the domain,\nthe tree, the forest.\n\n38\n00:01:42.890 --> 00:01:44.530\nWe've talked about OU's.\n\n39\n00:01:44.530 --> 00:01:46.755\nTalked about objects and the cells.\n\n40\n00:01:46.755 --> 00:01:48.290\nThrough a bunch of different stuff, right?\n\n41\n00:01:48.290 --> 00:01:52.250\nBut if I said, hey,\nwhat's the most important Criteria?\n\n42\n00:01:52.250 --> 00:01:53.860\nWhat's the most important item?\n\n43\n00:01:53.860 --> 00:01:54.575\nWhat would you say?\n\n44\n00:01:54.575 --> 00:01:56.260\nWhat's on top of your list?\n\n45\n00:01:56.260 --> 00:02:00.840\n&gt;&gt; Well I think obviously it is a whole\nbunch of moving pieces, but those moving\n\n46\n00:02:00.840 --> 00:02:04.780\npieces don't have any kind of meaning\nif they're not connected in some way.\n\n47\n00:02:04.780 --> 00:02:07.598\nSo maybe even just that\nnetwork link there.\n\n48\n00:02:07.598 --> 00:02:12.080\n&gt;&gt; So when you say the network\nlink what do you mean,\n\n49\n00:02:12.080 --> 00:02:14.590\nthe trust relationships\nthat we were talking about?\n\n50\n00:02:14.590 --> 00:02:15.280\nOr do you mean.\n\n51\n00:02:15.280 --> 00:02:18.550\n&gt;&gt; The physical infrastructure,\ncabling or wireless or some kind of\n\n52\n00:02:18.550 --> 00:02:23.410\nconnectivity in order for those types\nof communications to transpire.\n\n53\n00:02:23.410 --> 00:02:25.470\n&gt;&gt; All right, so hello.\n\n54\n00:02:25.470 --> 00:02:30.190\n[LAUGH] So if you're thinking about\nthe networking components, for\n\n55\n00:02:30.190 --> 00:02:33.690\ninstance, and the connectivity, and\nlet's just call it communication, right?\n\n56\n00:02:33.690 --> 00:02:36.080\nIf you wanna think about that or\nmaybe the ability to communicate.\n\n57\n00:02:36.080 --> 00:02:39.830\nDefinitely gonna be very important and on\nthe right track, but if we broaden that,\n\n58\n00:02:39.830 --> 00:02:41.150\nbecause that is important.\n\n59\n00:02:41.150 --> 00:02:43.670\nIt's definitely a great\nway to think about it.\n\n60\n00:02:43.670 --> 00:02:47.100\nBut within that idea of communication,\nif you think about it this way and\n\n61\n00:02:47.100 --> 00:02:50.600\nwe have that infrastructure we\ncould exchange information, right?\n\n62\n00:02:50.600 --> 00:02:54.620\nAnd the reason I'm saying I wanna, maybe\ntake that idea throw it up there, but\n\n63\n00:02:54.620 --> 00:02:57.480\nthen let's zero in something\na little bit more specific.\n\n64\n00:02:57.480 --> 00:03:00.990\nBecause we don't always have\na multi-domain environment.\n\n65\n00:03:00.990 --> 00:03:03.670\nWe don't always have\nmultiple domain controllers.\n\n66\n00:03:03.670 --> 00:03:06.930\nIn theory, we could have a forest and\n\n67\n00:03:06.930 --> 00:03:10.360\na tree and a domain that's made\nup on a single domain controller.\n\n68\n00:03:10.360 --> 00:03:12.510\nNow I'm not suggesting that's\nnecessarily a good thing.\n\n69\n00:03:12.510 --> 00:03:15.340\nI'm not suggesting that you'd want\nto go into production that way.\n\n70\n00:03:15.340 --> 00:03:20.570\nI'm not suggesting that in almost any\ncase, perhaps except during testing or\n\n71\n00:03:20.570 --> 00:03:24.660\nsimple just hey, we're gonna do\nthis just to validate some things.\n\n72\n00:03:24.660 --> 00:03:28.580\nThat you would traditionally have\na model in a normal enterprise that\n\n73\n00:03:28.580 --> 00:03:29.740\nlooks that way.\n\n74\n00:03:29.740 --> 00:03:32.610\nBut even then everything\nstarts out that way,\n\n75\n00:03:32.610 --> 00:03:37.040\ncuz when we install our first domain\ncontroller to create our first domain,\n\n76\n00:03:37.040 --> 00:03:40.590\nin our first tree, in our first forest,\nwe start out with a single machine.\n\n77\n00:03:40.590 --> 00:03:42.860\nAnd for\na period of time we run with only one.\n\n78\n00:03:42.860 --> 00:03:45.460\nAnd so while communication\nis very important, right?\n\n79\n00:03:45.460 --> 00:03:50.110\nYou still need DNS services and\nmost likely DHCP perhaps WINS,\n\n80\n00:03:50.110 --> 00:03:51.450\ndepending on what you're doing.\n\n81\n00:03:51.450 --> 00:03:54.670\nBut DNS may very well be on\nthat domain controller and so\n\n82\n00:03:54.670 --> 00:03:57.325\nyou may have what you\nneed in that one machine.\n\n83\n00:03:57.325 --> 00:03:57.890\n&gt;&gt; Everything all in-house.\n\n84\n00:03:57.890 --> 00:03:58.890\n&gt;&gt; In theory, right you may.\n\n85\n00:03:58.890 --> 00:04:00.890\nSo while communication is very important,\n\n86\n00:04:01.900 --> 00:04:03.860\nsomething within that\nidea of communication.\n\n87\n00:04:03.860 --> 00:04:08.580\nAnd the things that go into that, is\nprobably going to be even more important.\n\n88\n00:04:08.580 --> 00:04:11.630\nSo, what would we reach into that pool and\nmaybe grab out.\n\n89\n00:04:11.630 --> 00:04:15.290\nAnd say, ok, if I have to choose one\nthing, it would be, whatever it is.\n\n90\n00:04:15.290 --> 00:04:16.650\n&gt;&gt; The thing that we're grabbing?\n\n91\n00:04:16.650 --> 00:04:19.210\nOkay.\nSo, the thing that I think would be most\n\n92\n00:04:19.210 --> 00:04:20.790\nimportant then maybe the schema,\n\n93\n00:04:20.790 --> 00:04:24.465\nlike the whole of all the information,\nthe objects and.\n\n94\n00:04:24.465 --> 00:04:25.540\n[LAUGH].\n\n95\n00:04:25.540 --> 00:04:28.630\n&gt;&gt; So the schema, absolutely correct,\nso the AD schema,\n\n96\n00:04:28.630 --> 00:04:30.770\nwe talked about this in our\nlast episode a little bit.\n\n97\n00:04:30.770 --> 00:04:33.430\nActually, quiet a bit for\nthe last few minutes of the episode.\n\n98\n00:04:33.430 --> 00:04:36.650\nAnd so the ADDS schema,\nI called it the blueprint,\n\n99\n00:04:36.650 --> 00:04:40.040\nthe owner's manual that helps\nus to define all the objects.\n\n100\n00:04:40.040 --> 00:04:43.930\nThe attributes and\nthe property of those objects.\n\n101\n00:04:43.930 --> 00:04:48.260\nNot the value cuz remember the values\nwill be supplied typically by the user or\n\n102\n00:04:48.260 --> 00:04:50.100\nby the creator who creates the object.\n\n103\n00:04:50.100 --> 00:04:51.590\nAlthough this range of values and\n\n104\n00:04:51.590 --> 00:04:54.695\nthe types of values are defined\nas part of the schema definition.\n\n105\n00:04:54.695 --> 00:04:57.785\nBut the actual value itself is\ngoing to be something that's\n\n106\n00:04:57.785 --> 00:05:01.445\nprovided as kind of an instance as\nwe go and create up at the schema.\n\n107\n00:05:01.445 --> 00:05:03.115\nWithout the schema,\nwe have nothing, right?\n\n108\n00:05:03.115 --> 00:05:07.857\nBecause without the schema,\nwe have no understanding of what a user is\n\n109\n00:05:07.857 --> 00:05:11.627\nsupposed to look like not only on paper\nbut in reality as we create them.\n\n110\n00:05:11.627 --> 00:05:14.743\nWhat are all the properties,\nthe attributes and\n\n111\n00:05:14.743 --> 00:05:18.780\nthe things that we associate with\nthat user to create meaning.\n\n112\n00:05:18.780 --> 00:05:22.892\nSo the schema itself is a component\nthat finds all of the object classes and\n\n113\n00:05:22.892 --> 00:05:27.020\nall of the attributes that Active\nDirectory will provide for any object.\n\n114\n00:05:27.020 --> 00:05:29.520\nAnd remember users are not\nthe only kind of objects.\n\n115\n00:05:29.520 --> 00:05:30.760\nWe have computer accounts,\n\n116\n00:05:30.760 --> 00:05:35.220\nuser accounts, groups, print devices\nwhich are commonly called printers.\n\n117\n00:05:35.220 --> 00:05:38.670\nAny and all these things, contacts if\nyou're creating contacts to use for\n\n118\n00:05:38.670 --> 00:05:39.690\nExchange.\n\n119\n00:05:39.690 --> 00:05:42.130\nAny and all of these things\nare considered objects.\n\n120\n00:05:42.130 --> 00:05:44.080\nAnything you can right-click on,\n\n121\n00:05:44.080 --> 00:05:47.820\ncreate new from a menu in the Active\nDirectory User and Computer Manager, or\n\n122\n00:05:47.820 --> 00:05:50.910\nan ADAC, the Active Directory\nAdministrative Center.\n\n123\n00:05:50.910 --> 00:05:54.836\nAny of those things that come\nup on that menu, inter-org,\n\n124\n00:05:54.836 --> 00:05:58.020\ninter-org user,\nany of those kind of things.\n\n125\n00:05:58.020 --> 00:06:00.030\nThere's about ten items on that list.\n\n126\n00:06:00.030 --> 00:06:01.970\nThose are all considered objects.\n\n127\n00:06:01.970 --> 00:06:05.620\nOU containers, if you create as\nan administrator are objects and\n\n128\n00:06:05.620 --> 00:06:08.950\nthey're defined inside of the schema.\n\n129\n00:06:08.950 --> 00:06:11.530\nWithout that definition,\nwe would not be able to right-click and\n\n130\n00:06:11.530 --> 00:06:12.620\ncreate something new.\n\n131\n00:06:12.620 --> 00:06:15.900\nCuz the instructions on how to do it, what\nit should look like, what we have to do,\n\n132\n00:06:15.900 --> 00:06:17.040\nwould not exist.\n\n133\n00:06:17.040 --> 00:06:20.790\nAnd so schema, I agree with you,\nis the most important element.\n\n134\n00:06:20.790 --> 00:06:23.190\nWhen we think of what we need\nto be able to work with and\n\n135\n00:06:23.190 --> 00:06:25.360\nunderstand the Active Directory, schema.\n\n136\n00:06:25.360 --> 00:06:27.320\nWithout the schema, nothing else matters.\n\n137\n00:06:27.320 --> 00:06:30.620\nAnd the schema, remember is resident in,\ndistilled down into.\n\n138\n00:06:30.620 --> 00:06:33.310\nWe hold it in our hands in a file, right?\n\n139\n00:06:33.310 --> 00:06:36.990\nThat file's found in\nthe C Windows NTDS Directory typically.\n\n140\n00:06:36.990 --> 00:06:39.075\nAnd that file is called?\n\n141\n00:06:39.075 --> 00:06:41.220\n&gt;&gt; The .sysvol.\n\n142\n00:06:41.220 --> 00:06:43.760\n&gt;&gt; No, not .sysvol.\n\n143\n00:06:43.760 --> 00:06:44.292\n&gt;&gt; [LAUGH].\n\n144\n00:06:44.292 --> 00:06:47.150\n&gt;&gt; The file itself,\nnot the .sysvol directory.\n\n145\n00:06:47.150 --> 00:06:50.940\nBut the file inside the NTSD\ndirectory that represents the schema\n\n146\n00:06:50.940 --> 00:06:52.460\nis that Ntds.dit file.\n\n147\n00:06:52.460 --> 00:06:54.570\n&gt;&gt; Yes.\n&gt;&gt; The directory information tree file.\n\n148\n00:06:54.570 --> 00:06:57.850\nThe DIT file, Ntds.dit,\nis when we say the schema.\n\n149\n00:06:57.850 --> 00:06:59.530\nThat is what we actually talk about,\nright?\n\n150\n00:06:59.530 --> 00:07:01.310\nSo just making sure we're aware of that.\n\n151\n00:07:01.310 --> 00:07:03.600\nRemember that AD uses objects,\n\n152\n00:07:03.600 --> 00:07:07.050\nthese objects we defined in the schema\nwe use, as units of storage, right?\n\n153\n00:07:07.050 --> 00:07:09.040\nThe schema defines these object types.\n\n154\n00:07:09.040 --> 00:07:12.400\nWe associate properties,\nattributes and values with them.\n\n155\n00:07:12.400 --> 00:07:16.020\nWe store information about\nthem in the schema and\n\n156\n00:07:16.020 --> 00:07:19.410\nhave parts of that information\navailable in read-only versions in\n\n157\n00:07:19.410 --> 00:07:21.960\nreally domain controllers and\nglobal catalog servers.\n\n158\n00:07:21.960 --> 00:07:25.600\nA subset of all the attributes\nassociated with the user is found in\n\n159\n00:07:25.600 --> 00:07:27.630\nthe global catalog.\n\n160\n00:07:27.630 --> 00:07:32.011\nBased on that we're then able to reference\nthose objects find a user by looking them\n\n161\n00:07:32.011 --> 00:07:34.970\nup in the global address list\nin Exchange for instance.\n\n162\n00:07:34.970 --> 00:07:39.191\nGo out and reference a user and\napply group policy to a container,\n\n163\n00:07:39.191 --> 00:07:43.030\nan OU container to associate\nthe policy with that user.\n\n164\n00:07:43.030 --> 00:07:47.500\nAll those activities we think of are done\nbecause of the object definition and\n\n165\n00:07:47.500 --> 00:07:51.698\nthe information, the metadata associated\nwith that user in the schema.\n\n166\n00:07:51.698 --> 00:07:54.970\nYou wanna right-click and reset a user's\npassword as a help desk professional.\n\n167\n00:07:54.970 --> 00:07:58.755\nYou can do that only because you have\naccess to that object through the schema.\n\n168\n00:07:58.755 --> 00:08:01.205\nIt's been defined that\nyou're able to work with it.\n\n169\n00:08:01.205 --> 00:08:04.674\nIf you think about everything we do\neveryday to administer an active directory\n\n170\n00:08:04.674 --> 00:08:05.310\nbase system.\n\n171\n00:08:05.310 --> 00:08:08.599\nNone of those things would work if\nthe schema wasn't available to us,\n\n172\n00:08:08.599 --> 00:08:11.220\nand hadn't defined those\nobjects in some way.\n\n173\n00:08:11.220 --> 00:08:15.420\nSo it is, as Cherokee pointed out,\nthe most important thing we have, right?\n\n174\n00:08:15.420 --> 00:08:18.630\nSo the schema defines, we said objects\nthat store data in the directory.\n\n175\n00:08:18.630 --> 00:08:21.550\nThe rules as I said,\nthat help us to understand the definition,\n\n176\n00:08:21.550 --> 00:08:23.350\nand the structure of the objects.\n\n177\n00:08:23.350 --> 00:08:25.880\nWe often think about properties,\nattributes, and\n\n178\n00:08:25.880 --> 00:08:28.510\nvalues associated with objects,\nthink of those.\n\n179\n00:08:28.510 --> 00:08:31.030\nAnd the structure, and\nthe content of the directory itself.\n\n180\n00:08:31.030 --> 00:08:33.920\nAll of those are a part\nof what we talk about.\n\n181\n00:08:33.920 --> 00:08:36.590\nI mentioned also,\nwhen we talked about the schema,\n\n182\n00:08:36.590 --> 00:08:39.230\nthat if we wanted to change the schema,\nwe can do that.\n\n183\n00:08:39.230 --> 00:08:42.270\nIt's not often done, and once we put\nsomething in it's a one way trip,\n\n184\n00:08:42.270 --> 00:08:43.470\nit doesn't come out.\n\n185\n00:08:43.470 --> 00:08:46.830\nBut if we do want to go in and change or\nmodify, we call it editing the schema.\n\n186\n00:08:46.830 --> 00:08:49.930\nIf you want to do that, you have to be\na member of the schema admin group.\n\n187\n00:08:49.930 --> 00:08:52.000\nI mentioned the Enterprise Admin group,\n\n188\n00:08:52.000 --> 00:08:55.120\nwhich is the group that\nadministers the forest all up.\n\n189\n00:08:55.120 --> 00:09:00.350\nIf we go back here for just one second to\nour diagram, just join me back over here.\n\n190\n00:09:00.350 --> 00:09:02.470\nRemember that we looked at\nthis in a prior episode,\n\n191\n00:09:02.470 --> 00:09:06.730\nwe said we have ITPRO.tv as our\nparent domain, up at the top.\n\n192\n00:09:06.730 --> 00:09:07.860\nWe have hosts on the left,\n\n193\n00:09:07.860 --> 00:09:10.900\naudience kind of poking out there\nfrom behind me on the right.\n\n194\n00:09:10.900 --> 00:09:12.377\nThese are three domains,\n\n195\n00:09:12.377 --> 00:09:17.170\nall gonna be related cuz they all share\na common root domain name, ITPRO.tv.\n\n196\n00:09:17.170 --> 00:09:21.590\nThey're part of the same domain structure,\nbut there are child and\n\n197\n00:09:21.590 --> 00:09:23.710\nparent domains associated\nwith this domain structure.\n\n198\n00:09:23.710 --> 00:09:26.580\nThis domain structure is\nreferred to as a tree.\n\n199\n00:09:26.580 --> 00:09:30.020\nAnd this tree is one potential name space,\n\n200\n00:09:30.020 --> 00:09:33.990\none potential domain name that could\nbe part of what's called the forest.\n\n201\n00:09:33.990 --> 00:09:37.120\nWe defined all these\nterms in our logical and\n\n202\n00:09:37.120 --> 00:09:40.285\nphysical listing,\nthe table that I created for you.\n\n203\n00:09:40.285 --> 00:09:43.860\nThe Word document that I referenced in the\nlast show, that shows both the logical and\n\n204\n00:09:43.860 --> 00:09:47.620\nthe physical designs of\nthe Active Directory domain service.\n\n205\n00:09:47.620 --> 00:09:52.110\nSo if I had another domain name,\nnot ITPRO.tv, but\n\n206\n00:09:52.110 --> 00:09:57.426\nrather if we called that other\ndomain Baskets.com, right?\n\n207\n00:09:57.426 --> 00:09:59.505\nThere probably is a real Baskets.com, so.\n\n208\n00:09:59.505 --> 00:10:01.220\n&gt;&gt; [LAUGH]\n&gt;&gt; If we had Baskets.com,\n\n209\n00:10:01.220 --> 00:10:05.580\nand we had ITPro.TV, and we said we're\ngonna put both of those together\n\n210\n00:10:05.580 --> 00:10:09.750\ninside one overarching container\nthat's gonna link them all together.\n\n211\n00:10:09.750 --> 00:10:12.970\nThat would be the forest,\nthat big overarching container, right?\n\n212\n00:10:12.970 --> 00:10:17.032\nAnd then the individual trees,\nthe name spaces, the domain name spaces,\n\n213\n00:10:17.032 --> 00:10:20.970\nITPRO.tv, Baskets.com, would exist.\n\n214\n00:10:20.970 --> 00:10:24.150\nWe may have child-parent domain\nrelationships, like you see here.\n\n215\n00:10:24.150 --> 00:10:26.390\nAnd all of that all up,\nall those objects define,\n\n216\n00:10:26.390 --> 00:10:30.450\neverything created all throughout\nthe forest is defined in the schema.\n\n217\n00:10:30.450 --> 00:10:33.680\nAnd that's schema can be edited\nby people that are members of\n\n218\n00:10:33.680 --> 00:10:34.930\nthe Schema Admin group.\n\n219\n00:10:34.930 --> 00:10:39.650\nThis is an enterprise like group, a forest\nwide group, very special group, right?\n\n220\n00:10:39.650 --> 00:10:43.042\nAnd the only people that have rights to\nit are the people that you put into it,\n\n221\n00:10:43.042 --> 00:10:46.540\nin other words that as an Enterprise Admin\nyou are given rights be able to modify\n\n222\n00:10:46.540 --> 00:10:47.134\nthe schema.\n\n223\n00:10:47.134 --> 00:10:50.660\nAnd you could go in and do that, but\nnobody else have rights automatically.\n\n224\n00:10:50.660 --> 00:10:53.040\nEnterprise Admins are forest wide admins,\n\n225\n00:10:53.040 --> 00:10:57.480\nthey administer all the domains inside\nall the trees, inside the forest.\n\n226\n00:10:57.480 --> 00:11:02.030\nIf I'm a domain admin in\nHost.ITPRO.tv hypothetically\n\n227\n00:11:02.030 --> 00:11:05.530\nI only have rights to what is considered\nto be part of this named space.\n\n228\n00:11:05.530 --> 00:11:06.460\nIn other words any and\n\n229\n00:11:06.460 --> 00:11:10.770\nall objects inside the boundary of\nthis triangle I could administer.\n\n230\n00:11:10.770 --> 00:11:14.260\nBut things over here in Audience.ITPRO.tv,\n\n231\n00:11:14.260 --> 00:11:18.710\nthings up in the roof domain ITPRO.tv,\nI would not have rights to.\n\n232\n00:11:18.710 --> 00:11:21.300\nI would not be able to see,\nand interact with and\n\n233\n00:11:21.300 --> 00:11:24.020\nmanage directly because I\ndon't have rights to that.\n\n234\n00:11:24.020 --> 00:11:28.870\nBut as a member of the domain admin\ngroup in ITPRO.tv I would be given\n\n235\n00:11:28.870 --> 00:11:30.500\nrights to all the child domains, right?\n\n236\n00:11:30.500 --> 00:11:34.910\nSo the domain admin group from ITPRO.tv\nwould have rights to Hosts.ITPRO.tv\n\n237\n00:11:34.910 --> 00:11:36.580\nbecause it's a child.\n\n238\n00:11:36.580 --> 00:11:39.610\nAnd we give the domain admin set\nright to administer the child domain.\n\n239\n00:11:39.610 --> 00:11:41.429\nSo depends on where you\nare in the hierarchy.\n\n240\n00:11:42.570 --> 00:11:45.720\nI mentioned that Enterprise Admins,\nwhich would be up above the forest level.\n\n241\n00:11:45.720 --> 00:11:50.140\nAutomatically that group is placed into\nthe domain administrators group in every\n\n242\n00:11:50.140 --> 00:11:53.000\ndomain that's created,\nin every tree in the forest,\n\n243\n00:11:53.000 --> 00:11:56.365\nthat they have rights to\nadminister those domains.\n\n244\n00:11:56.365 --> 00:11:59.485\nSo that, if for some reason\nthe domain admin can't do something,\n\n245\n00:11:59.485 --> 00:12:02.725\nthe Enterprise Admin in theory\ncould step in and make a change.\n\n246\n00:12:02.725 --> 00:12:05.575\nSo to be able to modify the schema,\nyou have to be a member of\n\n247\n00:12:05.575 --> 00:12:09.725\nthe Schema Admin group to modify\nthe schema, very important to know that.\n\n248\n00:12:09.725 --> 00:12:13.065\nCan't put anything, rather we can put\nthings in under certain circumstance, but\n\n249\n00:12:13.065 --> 00:12:17.020\nas I said, we cannot remove anything from\nthe schema, so just keep that in mind.\n\n250\n00:12:17.020 --> 00:12:20.610\nAnd the Schema Master, which is one of\nwhat we talked about in the last show,\n\n251\n00:12:20.610 --> 00:12:22.150\nwe're gonna get to here in a minute.\n\n252\n00:12:22.150 --> 00:12:27.550\nThe five FSMO roles, Flexible Single\nOperation Masters, the Schema Master,\n\n253\n00:12:27.550 --> 00:12:30.960\non of the five roles defined, we'll go\nthrough and talk about what they are.\n\n254\n00:12:30.960 --> 00:12:35.290\nIs gonna be hosted at the forest level,\nanother words one Schema Master for\n\n255\n00:12:35.290 --> 00:12:36.580\nthe entire forest.\n\n256\n00:12:36.580 --> 00:12:40.210\nOne of the five FSMO roles that exist,\nbut as I said of the five, two of them\n\n257\n00:12:40.210 --> 00:12:43.950\nare defined on the forest level, and\nthen three of them are defined per domain.\n\n258\n00:12:43.950 --> 00:12:48.070\nSo we will have multiple versions\nof three of those roles iteratively\n\n259\n00:12:48.070 --> 00:12:52.174\nin every domain name space, but two of\nthem exist only once in the entire forest.\n\n260\n00:12:52.174 --> 00:12:55.900\nThe Schema Master is one of those two that\nexist only once in the entire forest, and\n\n261\n00:12:55.900 --> 00:13:00.305\nat that level you must\nhave a special tool.\n\n262\n00:13:00.305 --> 00:13:04.930\nWell, we call the Active Directory a\nSchema Master, or schema editing snap in,\n\n263\n00:13:04.930 --> 00:13:08.180\nthe MMC, to be able to modify,\ngo in and edit the schema.\n\n264\n00:13:08.180 --> 00:13:11.270\nThat's one way to do it,\nyou could also use ADSI Edit,\n\n265\n00:13:11.270 --> 00:13:14.160\nwhich is a schema editing tool,\nanother tool.\n\n266\n00:13:14.160 --> 00:13:17.386\nThere are different tools that can\nbe used, use PowerShell to modify,\n\n267\n00:13:17.386 --> 00:13:19.235\nmake some changes to the schema as well.\n\n268\n00:13:19.235 --> 00:13:22.610\nBecause you're gonna extend the schema\nby running certain PowerShell commands.\n\n269\n00:13:22.610 --> 00:13:26.160\nSo it's different ways that you can do\nthis, but just keep in mind that you\n\n270\n00:13:26.160 --> 00:13:29.070\nhave to have not only the right\npermission, but the right tools.\n\n271\n00:13:29.070 --> 00:13:33.430\nAnd you have to be focused on the domain\ncontroller, that is the Schema Master\n\n272\n00:13:33.430 --> 00:13:37.700\nthat has this FSMO role, and you have\nto know which one it is to target it.\n\n273\n00:13:37.700 --> 00:13:39.070\nBecause if you're not\ncommunicating with it, or\n\n274\n00:13:39.070 --> 00:13:42.080\nit's not online, not available to you,\nthe Schema Master,\n\n275\n00:13:42.080 --> 00:13:44.760\nif it goes offline,\nyou can't make changes to the schema.\n\n276\n00:13:44.760 --> 00:13:47.820\nThat doesn't mean you can't run\nthe active directory in the meantime, but\n\n277\n00:13:47.820 --> 00:13:51.960\nit means you're not able to modify\nobjects, and make changes to them,\n\n278\n00:13:51.960 --> 00:13:53.950\nand add objects to the schema.\n\n279\n00:13:53.950 --> 00:13:55.810\nAnd that can be a challenge, cuz we may or\n\n280\n00:13:55.810 --> 00:13:59.000\nmay not have the ability to do certain\nthings, so do keep that in mind.\n\n281\n00:13:59.000 --> 00:14:03.710\nWe talked about the forest,\nthe top level container of the ADDS, and\n\n282\n00:14:03.710 --> 00:14:08.060\nhow it contains all the directory trees\nand all the subdomains within it, so\n\n283\n00:14:08.060 --> 00:14:08.860\njust be aware of that.\n\n284\n00:14:08.860 --> 00:14:10.780\nWe kinda talked about what those are.\n\n285\n00:14:10.780 --> 00:14:12.360\nWhat that is, rather that hierarchy.\n\n286\n00:14:12.360 --> 00:14:15.010\nAnd I showed you the picture of\nkind of how that is represented.\n\n287\n00:14:15.010 --> 00:14:17.140\nWe also talked about these FSMO roles,\n\n288\n00:14:17.140 --> 00:14:19.640\nthese Flexible Single Operation Master\nroles.\n\n289\n00:14:19.640 --> 00:14:23.120\nCertain operations that are assigned to or\ndefined for\n\n290\n00:14:23.120 --> 00:14:25.160\nthese particular domain controllers.\n\n291\n00:14:25.160 --> 00:14:29.490\nAnd every one of the machines that holds\na FSMO role is a domain controller.\n\n292\n00:14:29.490 --> 00:14:32.200\nSo the first criteria we have to be\naware of, first thing we have to know\n\n293\n00:14:32.200 --> 00:14:35.920\nabout FSMO roles is that you must\nhave a domain controller available\n\n294\n00:14:35.920 --> 00:14:39.830\nto assign the role to, and that role\nonly lives on a domain controller.\n\n295\n00:14:39.830 --> 00:14:44.220\nNo member servers, no stand alone servers,\nonly domain controllers.\n\n296\n00:14:44.220 --> 00:14:47.410\nNow I mentioned in our last discussion,\nactually at the beginning of this\n\n297\n00:14:47.410 --> 00:14:51.040\ndiscussion, that when you said hey,\nI think the network, the communication,\n\n298\n00:14:51.040 --> 00:14:54.430\nright, is the most important\nelement of the directory service.\n\n299\n00:14:54.430 --> 00:14:57.380\nAnd we broadened that out a little bit,\nwe said well it is, but within that\n\n300\n00:14:57.380 --> 00:15:00.740\nwhat's the most important thing we\nwould pull out, and we said the schema.\n\n301\n00:15:00.740 --> 00:15:03.450\nBut I pointed out that the reason\nI would go down one more level and\n\n302\n00:15:03.450 --> 00:15:05.740\nsay the schema is because we could,\n\n303\n00:15:05.740 --> 00:15:09.510\nin theory, have a forest that exists\non a single domain controller, right?\n\n304\n00:15:09.510 --> 00:15:10.555\nOne machine that's initially installed.\n\n305\n00:15:10.555 --> 00:15:11.864\n&gt;&gt; Hosting all those roles.\n\n306\n00:15:11.864 --> 00:15:14.854\n&gt;&gt; That would not only have all\nthat information but would host,\n\n307\n00:15:14.854 --> 00:15:17.741\nas Cherokee just pointed out\nall five of those FISMO roles.\n\n308\n00:15:17.741 --> 00:15:21.257\nAnd again a lot of you may inherit.\n\n309\n00:15:21.257 --> 00:15:25.202\nIn fact, I think most of you that\nare actively working in IT today,\n\n310\n00:15:25.202 --> 00:15:29.640\ndoing IT related activities in a Windows\nenvironment in the enterprise for\n\n311\n00:15:29.640 --> 00:15:30.286\nyour job.\n\n312\n00:15:30.286 --> 00:15:33.681\nEspecially if you focus on\nActive Directory as a subset or\n\n313\n00:15:33.681 --> 00:15:36.730\nas the primary focus of\nyour day to day job.\n\n314\n00:15:36.730 --> 00:15:40.800\nMany of you have probably inherited\nthese systems, they were already built,\n\n315\n00:15:40.800 --> 00:15:43.152\nyou may not have been involved in\nbuilding them from the ground up.\n\n316\n00:15:43.152 --> 00:15:45.900\nMay have joined your business,\nyour team in other words\n\n317\n00:15:45.900 --> 00:15:48.880\nwhile that systems already been in place\nas we indicated in the first show.\n\n318\n00:15:48.880 --> 00:15:52.550\nIt's been around in one form or another\nnow for the better part of 20 years.\n\n319\n00:15:52.550 --> 00:15:54.260\nAnd you may not have been working\nin the company that long.\n\n320\n00:15:54.260 --> 00:15:58.730\nSo many of you may never have seen the\nactive directory built from the ground up.\n\n321\n00:15:58.730 --> 00:16:01.388\nAlthough you may have done\nthis on your own in a lab or.\n\n322\n00:16:01.388 --> 00:16:03.204\nIf you haven't done it,\nstrongly recommend.\n\n323\n00:16:03.204 --> 00:16:05.488\nYou'll see me do this in upcoming shows.\n\n324\n00:16:05.488 --> 00:16:07.990\nWe do the hands on walk throughs for you.\n\n325\n00:16:07.990 --> 00:16:11.230\nEncourage you to practice installing\ndomain controllers from the ground up to\n\n326\n00:16:11.230 --> 00:16:12.930\nget a feel for how this works.\n\n327\n00:16:12.930 --> 00:16:16.930\nBut when we set up the forest initially,\nthe initial forest, the tree,\n\n328\n00:16:16.930 --> 00:16:20.680\nthe first domain, and the first domain\ncontroller that goes into that domain\n\n329\n00:16:20.680 --> 00:16:24.590\nwe call the forest root domain\ncontroller that anchors all of this.\n\n330\n00:16:24.590 --> 00:16:26.790\nWhen we build that from scratch.\n\n331\n00:16:26.790 --> 00:16:30.180\nAll of that infrastructure including\nthe schema, the initial readable,\n\n332\n00:16:30.180 --> 00:16:33.710\nwritable copy of the NCDS.did\nfile will be there but\n\n333\n00:16:33.710 --> 00:16:38.460\nall five FSMO roles are also assigned\nto that one domain controller.\n\n334\n00:16:38.460 --> 00:16:42.100\nSo, they're all gonna start out\nlife in one place, now clearly for\n\n335\n00:16:42.100 --> 00:16:42.990\nmany many reasons.\n\n336\n00:16:42.990 --> 00:16:45.330\nThis is not a good thing long term, right?\n\n337\n00:16:45.330 --> 00:16:49.160\nSo as a phase where we move through and\nwe then are gonna spread out,\n\n338\n00:16:50.230 --> 00:16:53.250\nadd additional domain controllers\ninto our initial domain and\n\n339\n00:16:53.250 --> 00:16:55.610\nadd more domains most likely over time.\n\n340\n00:16:55.610 --> 00:16:57.440\nAnd then build that out, that's okay.\n\n341\n00:16:57.440 --> 00:16:59.590\nAs long as we're not gonna stop there.\n\n342\n00:16:59.590 --> 00:17:00.790\nAnd run our business for\n\n343\n00:17:00.790 --> 00:17:03.120\nthe next five years with only\na single domain controller.\n\n344\n00:17:03.120 --> 00:17:05.520\n&gt;&gt; We want to spread our eggs out and\nthey're not all in one basket.\n\n345\n00:17:05.520 --> 00:17:06.770\n&gt;&gt; Into more than one basket.\n\n346\n00:17:06.770 --> 00:17:07.480\nExactly.\n\n347\n00:17:07.480 --> 00:17:08.860\nRight, a baskets.com thing.\n\n348\n00:17:08.860 --> 00:17:11.180\nSo you want to have more than one basket.\n\n349\n00:17:11.180 --> 00:17:12.840\nIs absolutely right about this.\n\n350\n00:17:12.840 --> 00:17:13.930\nVery important.\n\n351\n00:17:13.930 --> 00:17:19.366\nFor lots and lots of reasons single point\nof failure mitigation business continuity\n\n352\n00:17:19.366 --> 00:17:24.130\nrecovery survivability and\nthey ability to continue working and\n\n353\n00:17:24.130 --> 00:17:26.449\nusing the domain and all the other\ninfrastructure that is necessary.\n\n354\n00:17:26.449 --> 00:17:29.005\nNecessary and\nindeed needs to be there supported\n\n355\n00:17:29.005 --> 00:17:31.725\nif all those things are in one\nplace then that machine fails.\n\n356\n00:17:31.725 --> 00:17:34.055\nBy the way, today whether it's physical or\nvirtual, right?\n\n357\n00:17:34.055 --> 00:17:36.565\nWe've talked about the fact\nin the prior episode,\n\n358\n00:17:36.565 --> 00:17:39.605\nwe these days pretty commonly do\nvirtualize domain controllers.\n\n359\n00:17:39.605 --> 00:17:41.480\nNot unusual today, by any means.\n\n360\n00:17:41.480 --> 00:17:44.680\nBut even if it's still a physical machine,\nmore likely to\n\n361\n00:17:44.680 --> 00:17:48.240\nfail if it's a physical machine,\nbecause components wear out over time.\n\n362\n00:17:48.240 --> 00:17:52.240\nPower supplies go, hard drives fail,\nright, things can go wrong.\n\n363\n00:17:52.240 --> 00:17:56.565\nVirtual machines don't tend to fail as\noften for physical hardware reasons.\n\n364\n00:17:56.565 --> 00:18:00.170\nSo, the host that they run on certainly\ncan fail for the same reasons.\n\n365\n00:18:00.170 --> 00:18:04.110\nBut we do have mechanisms and technologies\nin place that would allow us to survive\n\n366\n00:18:04.110 --> 00:18:06.040\nthose theories relatively unscathed.\n\n367\n00:18:06.040 --> 00:18:08.790\nEither high availability technologies will\n\n368\n00:18:08.790 --> 00:18:13.080\nrestart the VM somewhere else after a\nsmall period of downtime, fault tolerant,\n\n369\n00:18:13.080 --> 00:18:18.420\ntechnologies to keep multiple synchronized\ncopies of VMs running in real time.\n\n370\n00:18:18.420 --> 00:18:20.820\nAllowing us to have a failure in one area,\nbut\n\n371\n00:18:20.820 --> 00:18:24.610\nstay online in realtime with another copy,\nno loss of continuity.\n\n372\n00:18:24.610 --> 00:18:27.150\nBoth Microsoft on the Hyper-V platform,\n\n373\n00:18:27.150 --> 00:18:32.330\nVMware on the vSphere platform It\ntrades on the ZEN platform all have\n\n374\n00:18:32.330 --> 00:18:36.660\ntechnology capabilities aligned with what\nI just described if you're virtualizing.\n\n375\n00:18:36.660 --> 00:18:39.700\nSo today there's no reason not\nto virtualize domain control.\n\n376\n00:18:39.700 --> 00:18:43.090\nAs a matter of fact, there are a lot of\ncompelling reasons to virtualize that\n\n377\n00:18:43.090 --> 00:18:46.560\nare really no longer allowed\ncompelling reasons not to virtualize.\n\n378\n00:18:46.560 --> 00:18:48.000\nBut in regards to what you do and\n\n379\n00:18:48.000 --> 00:18:52.600\nhow you do it, right, if we only have one\ndomain controller, and it stops working.\n\n380\n00:18:52.600 --> 00:18:54.360\nWe really have a significant challenge,\nright?\n\n381\n00:18:54.360 --> 00:18:58.460\nBecause it's gonna be impossible for\nus to not only provide services but\n\n382\n00:18:58.460 --> 00:19:02.380\nto provide all the supporting elements\nthat allow those services to take place.\n\n383\n00:19:02.380 --> 00:19:05.420\nAnd so these FSMO roles become so\ncritical.\n\n384\n00:19:05.420 --> 00:19:08.400\nNow everyone has its\nown described purpose,\n\n385\n00:19:08.400 --> 00:19:12.050\nits own set of value propositions and\nservices it provides.\n\n386\n00:19:12.050 --> 00:19:14.534\nYou can live without\nsome longer than others.\n\n387\n00:19:14.534 --> 00:19:15.310\nRight?\n\n388\n00:19:15.310 --> 00:19:16.560\nSo a PVC emulator,\n\n389\n00:19:16.560 --> 00:19:20.540\nwhich is a domain based role that\nexists in every domain, very critical.\n\n390\n00:19:20.540 --> 00:19:23.560\nCan't really work with a domain,\nlog users on,\n\n391\n00:19:23.560 --> 00:19:27.470\nauthenticate them, allow them to work,\nif you don't have a PVC emulator.\n\n392\n00:19:27.470 --> 00:19:30.217\nYou're going to have a very\nbig problem with that, right?\n\n393\n00:19:30.217 --> 00:19:33.530\nBut the farest level schema\nrole that we talked about,\n\n394\n00:19:33.530 --> 00:19:36.780\nschema master, you can afford to live\nwithout that for a period of time.\n\n395\n00:19:36.780 --> 00:19:37.667\nWouldn't be a big deal.\n\n396\n00:19:37.667 --> 00:19:40.670\nBecause unless your adding\nobjects to the schema or\n\n397\n00:19:40.670 --> 00:19:44.140\ncreating new objects the schema\nmaster really just doesn't matter\n\n398\n00:19:44.140 --> 00:19:46.670\nsince you're not accessing in or\non a regular basis.\n\n399\n00:19:46.670 --> 00:19:50.820\nSo it depends on what we're doing right at\n\n400\n00:19:50.820 --> 00:19:54.390\nthe forest level we have the schema\nmaster and the domain naming master.\n\n401\n00:19:54.390 --> 00:19:57.920\nThese are the two roles that exist at the\nforest level meaning as the five dismal\n\n402\n00:19:57.920 --> 00:20:00.680\nroles There are two that\nare limited to the forest.\n\n403\n00:20:00.680 --> 00:20:03.350\nYou have one for the entire forest\n\n404\n00:20:03.350 --> 00:20:08.030\nthe Schema Master the domain naming\nmaster are forest level roles.\n\n405\n00:20:08.030 --> 00:20:11.060\nYou will see one of them only\nin the entire forest no matter\n\n406\n00:20:11.060 --> 00:20:14.740\nhow many domains you have how\nmany trees how many objects\n\n407\n00:20:14.740 --> 00:20:17.010\nYou have one schema\nmaster handles all that.\n\n408\n00:20:17.010 --> 00:20:19.240\nOne domain naming master handles all that.\n\n409\n00:20:19.240 --> 00:20:21.320\nThe domain naming master\nis responsible for\n\n410\n00:20:21.320 --> 00:20:23.070\ncreating the domains\nthat you wanna create.\n\n411\n00:20:23.070 --> 00:20:26.320\nSo when we have IT productivity\nin our diagram and\n\n412\n00:20:26.320 --> 00:20:30.990\nI create host.itpro or\naudience.itpro I have to talk to\n\n413\n00:20:30.990 --> 00:20:35.860\nthe domain naming master to make sure\nthat that domain name is available.\n\n414\n00:20:35.860 --> 00:20:38.860\nI have to reference DNS to make\nsure it's available as well.\n\n415\n00:20:38.860 --> 00:20:42.370\nBut I have to work with both and\nI have to get the okey-dokey,\n\n416\n00:20:42.370 --> 00:20:44.120\nthat's the official term we\nuse [LAUGH] the okey-dokey.\n\n417\n00:20:44.120 --> 00:20:48.300\nI have to get the okay from\nthe domain naming master roll to be\n\n418\n00:20:48.300 --> 00:20:53.180\nable to allow that domain name to\nbe created referenced as necessary\n\n419\n00:20:53.180 --> 00:20:56.950\nin the schema with all the appropriate\ninformation in the AD to support it and\n\n420\n00:20:56.950 --> 00:21:00.710\nthe trust relationships The bi-directional\ntwo-way transitive trusts.\n\n421\n00:21:00.710 --> 00:21:05.420\nAll that is gonna be specified,\ncreated, managed, and allowed,\n\n422\n00:21:05.420 --> 00:21:08.940\nin one form or another,\npartly through the domain naming master.\n\n423\n00:21:08.940 --> 00:21:11.700\nIn the case of other stuff\nat the domain level,\n\n424\n00:21:11.700 --> 00:21:13.830\nwe'll use some of the other FSMO roles.\n\n425\n00:21:13.830 --> 00:21:17.580\nBut this role, if it goes offline,\nagain, we could live without for\n\n426\n00:21:17.580 --> 00:21:18.630\na period of time.\n\n427\n00:21:18.630 --> 00:21:20.860\nThink about how often you\ncreate brand new domains,\n\n428\n00:21:20.860 --> 00:21:25.290\ninside your infrastructure, in just\nthe average, every day, flow of business.\n\n429\n00:21:25.290 --> 00:21:26.380\nNot something you do very often.\n\n430\n00:21:26.380 --> 00:21:28.840\nYou may not do it very often at all,\nlet alone at all.\n\n431\n00:21:28.840 --> 00:21:31.340\nYou may be at the point where\nyou are kind of stable.\n\n432\n00:21:31.340 --> 00:21:34.000\nAnd, unless something drastic happens,\nlike you get bought by a company,\n\n433\n00:21:34.000 --> 00:21:39.180\nthey buy you, or you buy them, And\nyou're adding and trusting and creating\n\n434\n00:21:39.180 --> 00:21:42.800\nconnectivity to trust other infrastructure\nyou maybe stable and may never have to\n\n435\n00:21:42.800 --> 00:21:47.630\ncreate brand new domains or very seldomly\ndo you do so very infrequently and so\n\n436\n00:21:47.630 --> 00:21:50.590\nas a result you may almost never\ntalk to the domain naming master.\n\n437\n00:21:50.590 --> 00:21:53.080\nMaybe if it's a mail you\nkind of ignore no big deal.\n\n438\n00:21:53.080 --> 00:21:54.730\nBut it's there, it's running.\n\n439\n00:21:54.730 --> 00:21:56.870\nIf it stops running,\nyou'll figure it out and\n\n440\n00:21:56.870 --> 00:22:00.050\ngo to create a domain that you no\nlonger able to [INAUDIBLE] but\n\n441\n00:22:00.050 --> 00:22:02.550\nif that is not the case you\nmay not realize it's offline.\n\n442\n00:22:02.550 --> 00:22:04.920\nYou may not realize it's\nnot working in other words.\n\n443\n00:22:04.920 --> 00:22:07.490\nSo it depends on the frequency of use and\n\n444\n00:22:07.490 --> 00:22:12.290\nthe specific job related roles and the\nresponsibilities assigned to those roles.\n\n445\n00:22:12.290 --> 00:22:15.308\nThat the FSMO, sort of the flexible\nsingle operation masters, provide.\n\n446\n00:22:15.308 --> 00:22:19.020\nSo we're talking about the two that\nexist at the forest level, right?\n\n447\n00:22:19.020 --> 00:22:22.290\nWhat about the three that\nare replicated per domain?\n\n448\n00:22:22.290 --> 00:22:26.900\nMeaning if I have three domains in my\ntree, and I have one tree in my forest, so\n\n449\n00:22:26.900 --> 00:22:30.110\nI have a total forest that\nis made up of three domains.\n\n450\n00:22:30.110 --> 00:22:35.600\nI would have a total of Three domain\nbased FSMO roles for every domain.\n\n451\n00:22:35.600 --> 00:22:37.283\nSo three times three, nine.\n\n452\n00:22:37.283 --> 00:22:40.940\nI will have two FSMO roles that\nexist only at the forest level.\n\n453\n00:22:40.940 --> 00:22:41.620\nAdd 9 plus 2,\n\n454\n00:22:41.620 --> 00:22:47.910\nwe get a total of 11 FSMOs that exist\nthat are defined inside that forest.\n\n455\n00:22:47.910 --> 00:22:51.690\nEven though the set of nine is\nreproduced in every domain meaning\n\n456\n00:22:51.690 --> 00:22:54.460\nthose three of them make\nof the three sets of nine.\n\n457\n00:22:54.460 --> 00:22:59.050\nEach of those three are going to exist as\na separate set of rules identified and\n\n458\n00:22:59.050 --> 00:23:02.630\ninstalled on different set of domain\ncontrollers in every one of those domain\n\n459\n00:23:02.630 --> 00:23:04.610\nbut they all do the same exact thing.\n\n460\n00:23:04.610 --> 00:23:07.930\nThe PVC emulator you'll\nhave three of them right.\n\n461\n00:23:07.930 --> 00:23:09.420\nOne of the rolls that existed there.\n\n462\n00:23:09.420 --> 00:23:12.680\nThe infrastructure master you'll have\nthree of those one that exists in every\n\n463\n00:23:12.680 --> 00:23:16.900\none and\nthe rid master right the other role\n\n464\n00:23:16.900 --> 00:23:21.720\nrelative I'd part of the other side\nsecurity id that represents unique object\n\n465\n00:23:21.720 --> 00:23:23.800\nidentification within\nthe active directory.\n\n466\n00:23:23.800 --> 00:23:27.620\nSo the rid master, the PVC emulator,\nthe infrastructure master.\n\n467\n00:23:27.620 --> 00:23:30.120\nAre the three domain-based FSMO roles.\n\n468\n00:23:30.120 --> 00:23:33.260\nAdd that to the domain naming master and\nthe schema master,\n\n469\n00:23:33.260 --> 00:23:35.020\nyou have the five FSMO roles.\n\n470\n00:23:35.020 --> 00:23:38.200\nIf I was you preparing for\nthe exam, I'd wanna know the five.\n\n471\n00:23:38.200 --> 00:23:39.690\nI'd wanna know what each one of them does.\n\n472\n00:23:39.690 --> 00:23:42.820\nWe'll quickly go through what the three\ndomain-based ones do in a minute.\n\n473\n00:23:42.820 --> 00:23:45.690\nWanna know the definition operational\nresponsibilities of each.\n\n474\n00:23:45.690 --> 00:23:49.990\nKnow which ones are farce level only,\nknow which ones are domain level.\n\n475\n00:23:49.990 --> 00:23:51.823\nAnd as a result,\nif you're given a scenario,\n\n476\n00:23:51.823 --> 00:23:53.988\nBe able to figure out how many\nfeeds modes you may have.\n\n477\n00:23:53.988 --> 00:23:57.608\nCuz you may be given a scenario where you\nhave to come up with a number and mix and\n\n478\n00:23:57.608 --> 00:23:59.966\nmatch or\ndo a variety of things to figure that out.\n\n479\n00:23:59.966 --> 00:24:04.323\nYou were signalling that you had some sort\nof Comment that you wanted to throw on\n\n480\n00:24:04.323 --> 00:24:05.189\nthe fire here.\n\n481\n00:24:05.189 --> 00:24:06.611\n&gt;&gt; I might have just had an itch, Adam.\n\n482\n00:24:06.611 --> 00:24:09.170\n[LAUGH]\n&gt;&gt; Okay,\n\n483\n00:24:09.170 --> 00:24:12.740\nwe're gonna come up with\na better hand signal then, right?\n\n484\n00:24:12.740 --> 00:24:14.910\nSomething like that that tells me one or\nthe other.\n\n485\n00:24:14.910 --> 00:24:18.020\nOkay, so we're gonna pretend we didn't\nhave that part of the conversation.\n\n486\n00:24:18.020 --> 00:24:19.760\nIn the category of too much information.\n\n487\n00:24:19.760 --> 00:24:22.600\nWe're gonna move right along with\nstuff that's actually relevant to you.\n\n488\n00:24:22.600 --> 00:24:24.590\nAll right, so domain naming master.\n\n489\n00:24:24.590 --> 00:24:25.370\nWe talked about this.\n\n490\n00:24:25.370 --> 00:24:28.190\nThis is, remember, all of these\nare at the domain controller level.\n\n491\n00:24:28.190 --> 00:24:31.285\nRight now, can we combine multiple\nroles on a signal domain controller.\n\n492\n00:24:31.285 --> 00:24:34.255\nWell, we told you, yeah, you could have\nall five in one if you wanted to, right?\n\n493\n00:24:34.255 --> 00:24:36.035\nAs you add more domain controllers,\n\n494\n00:24:36.035 --> 00:24:38.705\nyou then have the opportunity to move\nthese around and spread them out.\n\n495\n00:24:38.705 --> 00:24:40.365\nYou can transfer them, by the way.\n\n496\n00:24:40.365 --> 00:24:43.495\nThere are different tools on what\nyou do this, we have MMCs that let\n\n497\n00:24:43.495 --> 00:24:47.125\nyou do some of this, you could do this\nfrom a command line with PowerShell.\n\n498\n00:24:47.125 --> 00:24:51.765\nYou could do this with the Ntdsutil tool\nwhere you seize a role and or move it.\n\n499\n00:24:51.765 --> 00:24:53.770\nSo there's different ways for\nyou to do this.\n\n500\n00:24:53.770 --> 00:24:56.730\nBut generically they all start\nout life on one machine and\n\n501\n00:24:56.730 --> 00:24:59.930\nthen they start getting moved around as\nwe add additional domain controllers.\n\n502\n00:24:59.930 --> 00:25:02.550\nWe talk about the domain naming master,\nwe talked about the schema master.\n\n503\n00:25:02.550 --> 00:25:06.360\nWe told you what goes on there,\nwhy they're important.\n\n504\n00:25:06.360 --> 00:25:07.620\nWhy we need to have them.\n\n505\n00:25:07.620 --> 00:25:10.330\nTold you what happens if\nboth the schema master and\n\n506\n00:25:10.330 --> 00:25:12.840\nor the domain naming master go offline or\nnot available.\n\n507\n00:25:12.840 --> 00:25:14.440\nSo went through all that with you.\n\n508\n00:25:14.440 --> 00:25:16.190\nRemember, I mentioned Windows PowerShell.\n\n509\n00:25:16.190 --> 00:25:19.230\nWe often talk, excuse me,\nabout PowerShell.\n\n510\n00:25:19.230 --> 00:25:22.420\nIf you want to find out what\nthe current domain naming and\n\n511\n00:25:22.420 --> 00:25:25.650\nschema master are,\nthere's a PowerShell commandlet for that.\n\n512\n00:25:25.650 --> 00:25:30.810\nThe get AD forest commandlet,\nget-ADforest, will among all\n\n513\n00:25:30.810 --> 00:25:34.240\nthe other stuff, it shows you, it shows\nyou a bunch of information on the forest,\n\n514\n00:25:34.240 --> 00:25:37.660\nit will show you what the domain\nnaming master and schema master are.\n\n515\n00:25:37.660 --> 00:25:39.090\nIn other words, the machine, or machines.\n\n516\n00:25:39.090 --> 00:25:41.330\nThat have been identified\nthat hold those roles,\n\n517\n00:25:41.330 --> 00:25:44.030\nwill be identified by using that\nWindows PowerShell commandlet.\n\n518\n00:25:44.030 --> 00:25:45.620\nSo, just be aware of that.\n\n519\n00:25:45.620 --> 00:25:47.390\nRight, that's an important\none to remember.\n\n520\n00:25:47.390 --> 00:25:49.460\nAnd by the way, since we're\ntalking about PowerShell cmdlet,\n\n521\n00:25:49.460 --> 00:25:50.460\njust give me just one second.\n\n522\n00:25:50.460 --> 00:25:51.840\nLet me show you this as well.\n\n523\n00:25:51.840 --> 00:25:55.140\nOops, I had it up and\nof course I went to the wrong one.\n\n524\n00:25:55.140 --> 00:25:56.220\nThere we go right there.\n\n525\n00:25:56.220 --> 00:25:57.580\nIf you want to take\na look at it real quick.\n\n526\n00:25:57.580 --> 00:25:59.790\nWe'll come back to this\nin the future show.\n\n527\n00:25:59.790 --> 00:26:02.740\nBut if you take a look, AD DS Deployment\nCmdlets in Windows PowerShell.\n\n528\n00:26:02.740 --> 00:26:05.450\nAlways try to show you what\nthese PowerShell cmdlets are and\n\n529\n00:26:05.450 --> 00:26:06.270\nwhere to find them.\n\n530\n00:26:06.270 --> 00:26:10.220\nYou've heard me go on and on in many\nshows about the importance of PowerShell,\n\n531\n00:26:10.220 --> 00:26:14.320\nhow you as an administrator,\nas an IT professional today, need to know\n\n532\n00:26:14.320 --> 00:26:18.710\nhow to use PowerShell, so critical, not\nonly for your own personal development.\n\n533\n00:26:18.710 --> 00:26:22.800\nNot only for your ability to be able to\ndo your job, but to do it in the coming\n\n534\n00:26:22.800 --> 00:26:26.390\ntechnology revisions that Microsoft\ncontinues to put out on our platform.\n\n535\n00:26:26.390 --> 00:26:30.020\nThis is going to be the primary\nway in which you administer.\n\n536\n00:26:30.020 --> 00:26:32.850\nLike it or not, it's coming,\nyou've heard about it.\n\n537\n00:26:32.850 --> 00:26:35.640\nIt's here, you got to start using it.\n\n538\n00:26:35.640 --> 00:26:38.510\nThe pain threshold around\nlearning how to use PowerShell\n\n539\n00:26:38.510 --> 00:26:40.780\nis not as significant as\npeople making it out to be.\n\n540\n00:26:40.780 --> 00:26:43.560\nIf you just put your toe in the water and\nstart using it, believe it or not,\n\n541\n00:26:43.560 --> 00:26:47.310\nit will become so\nmuch easier for you over time.\n\n542\n00:26:47.310 --> 00:26:50.640\nRight, so you could see all of\nthese different commandlets and\n\n543\n00:26:50.640 --> 00:26:54.090\nthe reason we show you this kind of\npager is it's easy to drill down.\n\n544\n00:26:54.090 --> 00:26:55.450\nI've shown you this before but\n\n545\n00:26:55.450 --> 00:26:59.720\nlet's just say hypothetically we wanna\ntake a look at this one right here.\n\n546\n00:26:59.720 --> 00:27:01.820\nJust installed AD DS domain.\n\n547\n00:27:01.820 --> 00:27:05.430\nWhen you drill down on this one,\nright, you get the cmdlet.\n\n548\n00:27:05.430 --> 00:27:07.750\nYou get the syntax about how it works.\n\n549\n00:27:07.750 --> 00:27:11.590\nYou get all the parameters,\nis it required how to use it.\n\n550\n00:27:11.590 --> 00:27:14.360\nWhat's associated with it,\nall the different items,\n\n551\n00:27:14.360 --> 00:27:17.050\nall the documentation,\nright, associated with this.\n\n552\n00:27:17.050 --> 00:27:20.440\nSo you want to make sure that\nyou take advantage of this and\n\n553\n00:27:20.440 --> 00:27:23.770\nthat you understand how to go look it\nup when we reference them for you.\n\n554\n00:27:23.770 --> 00:27:26.400\nGet AD-Forest,\nvery important one to be aware of.\n\n555\n00:27:26.400 --> 00:27:31.050\nAll right, what about the domain\nlevel ones, the RID master.\n\n556\n00:27:31.050 --> 00:27:34.780\nThe infrastructure master and\nthe PCM emulator.\n\n557\n00:27:34.780 --> 00:27:39.496\nThe RID master, Relative ID, subset as\nwhat's known as the SID, the security ID.\n\n558\n00:27:39.496 --> 00:27:43.456\nExcuse me, not a subset of the SID.\n\n559\n00:27:43.456 --> 00:27:44.400\nSaid that twice.\n\n560\n00:27:44.400 --> 00:27:44.960\nThe SID and\n\n561\n00:27:44.960 --> 00:27:49.130\nthe RID together are going to be able\nto make up what's known as the GUID,\n\n562\n00:27:49.130 --> 00:27:54.320\nthe global unique ID, which is the unique\nidentifier for every object in the ADDS.\n\n563\n00:27:54.320 --> 00:27:55.940\nThe SID, the security ID,\n\n564\n00:27:55.940 --> 00:28:00.430\nis the portion of the GUID that is\ngonna uniquely identity the object.\n\n565\n00:28:00.430 --> 00:28:03.270\nThe RID, the relative ID,\nis the domain naming context for\n\n566\n00:28:03.270 --> 00:28:05.460\nthe object, we combine the two together.\n\n567\n00:28:05.460 --> 00:28:07.810\nHey, you're in this domain\nsomewhere in the forest,\n\n568\n00:28:07.810 --> 00:28:09.960\nalong with you is an individual object.\n\n569\n00:28:09.960 --> 00:28:11.370\nCombine them together and\n\n570\n00:28:11.370 --> 00:28:14.530\nwe get what's known as the GUID,\nthe Global Unique Identifier string.\n\n571\n00:28:14.530 --> 00:28:18.818\nThat tells you, as an alpha numeric\nstring, what that object is and\n\n572\n00:28:18.818 --> 00:28:23.090\nits context, its naming convention\nwithin the schema and within the forest.\n\n573\n00:28:23.090 --> 00:28:23.820\nVery important.\n\n574\n00:28:23.820 --> 00:28:28.340\nSo the RID master is so vital to\nwhat we do, because the RID master\n\n575\n00:28:28.340 --> 00:28:31.420\nis where we give out these blocks of RIDS,\nten at a time, by the way.\n\n576\n00:28:31.420 --> 00:28:34.608\nWe generate them and hand them to\nthe domain controllers in every domain.\n\n577\n00:28:34.608 --> 00:28:39.080\nRemember, the RID master is one of\nthe roles that's a domain level role.\n\n578\n00:28:39.080 --> 00:28:41.190\nYou have to have one per domain.\n\n579\n00:28:41.190 --> 00:28:45.400\nAnd as a result, if I wanna create\na new object, a brand new user,\n\n580\n00:28:45.400 --> 00:28:47.630\na brand new computer, a brand new group,\n\n581\n00:28:47.630 --> 00:28:50.905\nI have to right click new in\nthe management interface and do that.\n\n582\n00:28:50.905 --> 00:28:54.976\nWhen I do that, I have to have a RID along\nwith the SID combined together to generate\n\n583\n00:28:54.976 --> 00:28:56.900\nand instantiate this object.\n\n584\n00:28:56.900 --> 00:29:00.460\nIf that RID is unavailable,\nI can't create objects.\n\n585\n00:29:00.460 --> 00:29:02.700\nAnd so, while we can live\nwithout the RID master for\n\n586\n00:29:02.700 --> 00:29:07.470\na period of time in a domain, depends on\nhow often I'm creating new objects, but\n\n587\n00:29:07.470 --> 00:29:11.350\nbecause I only give out a very small\nnumber of RIDs every time I do this,\n\n588\n00:29:11.350 --> 00:29:16.090\nif I don't have the RID master online,\nvery quickly I'm gonna run out of RIDs.\n\n589\n00:29:16.090 --> 00:29:18.460\nI'm not gonna be able to\nactually create objects.\n\n590\n00:29:18.460 --> 00:29:20.550\nAnd this is how we often figure this out.\n\n591\n00:29:20.550 --> 00:29:22.590\nWhen the domain controller, I mean,\n\n592\n00:29:22.590 --> 00:29:25.210\nobviously clearly you should be\nmonitoring your infrastructure.\n\n593\n00:29:25.210 --> 00:29:28.230\nThe domain controller goes offline,\nyou should be aware of it, right?\n\n594\n00:29:28.230 --> 00:29:29.180\nYou should know.\n\n595\n00:29:29.180 --> 00:29:33.320\nBut if for some odd reason the domain\ncontroller doesn't just up and fail, but\n\n596\n00:29:33.320 --> 00:29:35.490\nmaybe there's a communication issue.\n\n597\n00:29:35.490 --> 00:29:37.170\nMaybe somebody unplugs the cable, right?\n\n598\n00:29:37.170 --> 00:29:38.300\nWho knows what happens?\n\n599\n00:29:38.300 --> 00:29:42.900\nMaybe, if it's a virtual machine, somebody\ndisconnects the virtual network card,\n\n600\n00:29:42.900 --> 00:29:46.050\neven though the domain controller is\nrunning, you just may not see the alert or\n\n601\n00:29:46.050 --> 00:29:48.830\nthe alarm, depending on the level of\nmonitoring, that says, by the way,\n\n602\n00:29:48.830 --> 00:29:50.510\ndisconnected, right?\n\n603\n00:29:50.510 --> 00:29:54.030\nAnd if you have active directory\ndistributed architecture where DNS\n\n604\n00:29:54.030 --> 00:29:57.060\nis integrated, you probably have DNS\nrunning in all your domain controllers.\n\n605\n00:29:57.060 --> 00:29:59.580\nYou may not know the domain controller's\noffline because you probably\n\n606\n00:29:59.580 --> 00:30:00.430\ndon't miss it.\n\n607\n00:30:00.430 --> 00:30:03.040\nYou have every domain controller\nbeing the global catalog server.\n\n608\n00:30:03.040 --> 00:30:04.450\nYou're able to search for things.\n\n609\n00:30:04.450 --> 00:30:07.010\nYou don't get errors coming back\nsaying it can't find something\n\n610\n00:30:07.010 --> 00:30:09.130\ncuz you have multiple domain\ncontrollers doing this.\n\n611\n00:30:09.130 --> 00:30:12.120\nSo it is possible that\nfailures will occur.\n\n612\n00:30:12.120 --> 00:30:15.280\nDepending upon the nature of the fail,\nyou may not know about them right away.\n\n613\n00:30:15.280 --> 00:30:19.870\nYou'll know about the RID master going\noff the line or the tell tale sign.\n\n614\n00:30:19.870 --> 00:30:22.140\nYou go to create an object\nin management interface.\n\n615\n00:30:22.140 --> 00:30:23.170\nYou get an error.\n\n616\n00:30:23.170 --> 00:30:26.200\nThat error indicates that you no\nlonger have access to the RID master\n\n617\n00:30:26.200 --> 00:30:27.530\nbecause the RID master's offline.\n\n618\n00:30:27.530 --> 00:30:29.280\nThat's one of the ways you tell, right?\n\n619\n00:30:29.280 --> 00:30:30.120\nSo just be aware of that.\n\n620\n00:30:31.130 --> 00:30:32.470\nPlease keep that in mind.\n\n621\n00:30:32.470 --> 00:30:35.890\nIf it's unavailable as I said,\nchances are can't create objects.\n\n622\n00:30:35.890 --> 00:30:37.620\nWhat about the infrastructure master?\n\n623\n00:30:37.620 --> 00:30:39.620\nIt's another one of the domain\nlevel roles, right?\n\n624\n00:30:39.620 --> 00:30:43.430\nThis is going to be\nthe master role that allows\n\n625\n00:30:43.430 --> 00:30:45.810\nus to intradomain object references.\n\n626\n00:30:45.810 --> 00:30:48.520\nWhen a group in one domain has\na member from another domain,\n\n627\n00:30:48.520 --> 00:30:51.230\nwe have to verify that,\nvalidate that in that hierarchy,\n\n628\n00:30:51.230 --> 00:30:55.380\nthat's what the infrastructure\nmaster primarily is used for, right?\n\n629\n00:30:55.380 --> 00:30:58.740\nWe go out and maintain this list,\nvalidate it, understand what's there.\n\n630\n00:30:58.740 --> 00:30:59.890\nThe main controller's not,\n\n631\n00:30:59.890 --> 00:31:03.460\nthat are not global catalogue servers\nrely on the infrastructure master.\n\n632\n00:31:03.460 --> 00:31:05.080\nNow, this is interesting, right?\n\n633\n00:31:05.080 --> 00:31:08.470\nAnd this has, by the way, been the case\nall the way back to Windows 2000, so\n\n634\n00:31:08.470 --> 00:31:12.230\nthis has not changed for\n8 generations now.\n\n635\n00:31:12.230 --> 00:31:15.273\nIf you make every domain controller,\nas I suggest that you should do,\n\n636\n00:31:15.273 --> 00:31:18.677\nit's a best practice and we often now see,\nit's just a standard out of the gate\n\n637\n00:31:18.677 --> 00:31:22.237\nway of doing this, you make all your\ndomain controllers global catalog servers,\n\n638\n00:31:22.237 --> 00:31:24.631\nyou actually don't need\nthe infrastructure master.\n\n639\n00:31:24.631 --> 00:31:27.113\nBecause the global catalog\nservers are responsible for\n\n640\n00:31:27.113 --> 00:31:28.703\nessentially doing the same thing.\n\n641\n00:31:28.703 --> 00:31:33.299\nAnd we will default to and prefer the use\nof global catalogue servers because if you\n\n642\n00:31:33.299 --> 00:31:36.500\nthink about the logic of\nthis they are distributed.\n\n643\n00:31:36.500 --> 00:31:39.460\nEvery domain has multiple domain controls,\nat least they should by default,\n\n644\n00:31:39.460 --> 00:31:40.530\nit's the best practice.\n\n645\n00:31:40.530 --> 00:31:43.830\nIf that's the case, wouldn't it be\nbetter from an architectural and\n\n646\n00:31:43.830 --> 00:31:46.300\nfunctionality standpoint\nto leverage something\n\n647\n00:31:46.300 --> 00:31:50.020\nthat exists in five places instead\nof a single role only on one?\n\n648\n00:31:50.020 --> 00:31:51.630\nThe logic, of course, is yes, it would.\n\n649\n00:31:51.630 --> 00:31:54.054\nThat's a good thing.\nSo as a result, we prefer and\n\n650\n00:31:54.054 --> 00:31:58.357\nwe will defer to the global\ncatalogs taking on this role.\n\n651\n00:31:58.357 --> 00:32:01.914\nAs a matter of fact, we tell you If you\nhave global catalog servers and all your\n\n652\n00:32:01.914 --> 00:32:05.940\ndomain controllers are made GCs, you don't\nenable the Infrastructure Master role.\n\n653\n00:32:05.940 --> 00:32:07.290\nIt's disabled.\n\n654\n00:32:07.290 --> 00:32:08.192\nWe actually turn it off.\n\n655\n00:32:08.192 --> 00:32:09.270\nWe don't use it and\n\n656\n00:32:09.270 --> 00:32:12.870\nas a result of that, that is something\nthat you wanna keep aware of.\n\n657\n00:32:12.870 --> 00:32:16.590\nBut if you have at least, and only one or\nmore, domain controllers that are not\n\n658\n00:32:16.590 --> 00:32:20.180\nglobal catalog servers, you must\nhave the Infrastructure Master role\n\n659\n00:32:20.180 --> 00:32:24.160\ncuz that's the only way the domain\ncontrollers that are not GCs can actually\n\n660\n00:32:24.160 --> 00:32:27.710\nleverage these lookups and manage what\nare called universal group memberships.\n\n661\n00:32:27.710 --> 00:32:29.950\nGroups that span the forest, right?\n\n662\n00:32:29.950 --> 00:32:32.130\nEnterprise admin is a universal group.\n\n663\n00:32:32.130 --> 00:32:36.610\nSchema admin or schema editing,\nthe master group, is a universal group.\n\n664\n00:32:36.610 --> 00:32:38.610\nSo It's important for\nus to be aware of that.\n\n665\n00:32:38.610 --> 00:32:40.810\nWe can't authenticate users, right?\n\n666\n00:32:40.810 --> 00:32:41.410\nAnd we tell you,\n\n667\n00:32:41.410 --> 00:32:44.360\nyou can't put the infrastructure master\nrole on a global catalog server.\n\n668\n00:32:44.360 --> 00:32:46.440\nThey're diametrically opposed,\nthey cannot exist.\n\n669\n00:32:46.440 --> 00:32:49.971\nAnd remember, because FSMO roles can\nonly exist on domain controllers and\n\n670\n00:32:49.971 --> 00:32:54.119\nglobal catalog servers can only be domain\ncontrollers, if every domain controller's\n\n671\n00:32:54.119 --> 00:32:57.670\na global catalog server, you can't\nhave an Infrastructure Master role.\n\n672\n00:32:57.670 --> 00:32:58.500\nThat's why we disable it,\n\n673\n00:32:58.500 --> 00:33:02.230\nit doesn't work, because it can only\nexist on the domain controllers.\n\n674\n00:33:02.230 --> 00:33:04.080\nAnd they cannot be on the same server.\n\n675\n00:33:04.080 --> 00:33:05.366\nThey essentially do the same thing and\n\n676\n00:33:05.366 --> 00:33:07.788\nthey will screw things up royally by\ntrying do the same thing together.\n\n677\n00:33:07.788 --> 00:33:08.679\n&gt;&gt; [LAUGH]\n&gt;&gt; And so\n\n678\n00:33:08.679 --> 00:33:11.368\nwe disable the Infrastructure Master\nrole as a result of that.\n\n679\n00:33:11.368 --> 00:33:12.876\nSo just be aware of that.\n\n680\n00:33:12.876 --> 00:33:16.207\nBy the way, when I say, we disable it,\nI don't mean like Cherokee and\n\n681\n00:33:16.207 --> 00:33:18.194\nI come over and when you're not looking.\n\n682\n00:33:18.194 --> 00:33:20.091\n&gt;&gt; [LAUGH]\n&gt;&gt; Like the Tooth Fairy at night,\n\n683\n00:33:20.091 --> 00:33:21.213\nwe come in and disable it.\n\n684\n00:33:21.213 --> 00:33:22.767\nWhen you install and you set this up,\n\n685\n00:33:22.767 --> 00:33:26.430\nif you make all your domain controllers go\nto catalog servers, the Active Directory,\n\n686\n00:33:26.430 --> 00:33:30.020\nWindows itself, figures this out, and\ndisables the Infrastructure Master role.\n\n687\n00:33:30.020 --> 00:33:32.340\nYou don't have to go in and\ndo anything, it's done for you.\n\n688\n00:33:32.340 --> 00:33:35.840\nFinally the PDC Emulator role,\nthe PDC Emulator Master.\n\n689\n00:33:35.840 --> 00:33:40.840\nOne of, and probably if I had to choose of\nthe five which one was the most critical,\n\n690\n00:33:40.840 --> 00:33:43.830\nI would actually choose the PDC Emulator\nMaster role and I'll explain why.\n\n691\n00:33:43.830 --> 00:33:48.690\nAll five are critical and\nall five clearly do things that need to be\n\n692\n00:33:48.690 --> 00:33:53.400\navailable consistently and constantly for\nus to be able to do our job effectively.\n\n693\n00:33:53.400 --> 00:33:55.040\nWe've established that, no doubt about it.\n\n694\n00:33:55.040 --> 00:33:58.021\nBut I've also made the case for\nyou that you can live without every one of\n\n695\n00:33:58.021 --> 00:34:00.417\nthese Infrastructure Master roles for\na period of time.\n\n696\n00:34:00.417 --> 00:34:02.716\nDepending what you're doing and\nhow often you do it.\n\n697\n00:34:02.716 --> 00:34:04.872\nPDC Emulator role's\na little bit different.\n\n698\n00:34:04.872 --> 00:34:10.880\nIt is in charge of several things that are\nhappening consistently around the clock\n\n699\n00:34:10.880 --> 00:34:14.810\nand if it's not available you can't do\nbasic things like manage security for\n\n700\n00:34:14.810 --> 00:34:19.050\nusers, authenticate users and\nallow them to authenticate and log in, and\n\n701\n00:34:19.050 --> 00:34:22.580\nas a result of that,\ndo time synchronization as well, right?\n\n702\n00:34:22.580 --> 00:34:24.772\nSo if we don't have a PDC Emulator role,\n\n703\n00:34:24.772 --> 00:34:27.876\nwe essentially are not able\nto do time synchronization.\n\n704\n00:34:27.876 --> 00:34:30.917\nWhich means Kerberos stops working,\namong other things.\n\n705\n00:34:30.917 --> 00:34:33.990\nAnd if you're not familiar with Kerberos-\n&gt;&gt; Like a domino effect.\n\n706\n00:34:33.990 --> 00:34:36.950\n&gt;&gt; It is, we'll talk more about\nKerberos in upcoming conversations and\n\n707\n00:34:36.950 --> 00:34:37.820\ncorrect me if I'm wrong, but\n\n708\n00:34:37.820 --> 00:34:41.980\nwhen we did our Server 2016 Networking\nshows, the ones you and I did.\n\n709\n00:34:41.980 --> 00:34:43.363\nWe talked about Kerberos there,\nif I'm not mistaken.\n\n710\n00:34:43.363 --> 00:34:45.291\nI'm pretty sure we talked it\nabout it there a little bit.\n\n711\n00:34:45.291 --> 00:34:46.068\n&gt;&gt; I think so.\n\n712\n00:34:46.068 --> 00:34:47.335\n&gt;&gt; There's the whole security show.\n\n713\n00:34:47.335 --> 00:34:49.950\nOur set of shows as well\nthat talks in dept about it.\n\n714\n00:34:49.950 --> 00:34:52.890\nBut Kerberos is the default\nauthentication platform for\n\n715\n00:34:52.890 --> 00:34:57.300\nWindows and is gonna use tickets,\nticket granting tickets and session and\n\n716\n00:34:57.300 --> 00:35:00.540\nservice tickets as an infrastructure\nto be able to give users\n\n717\n00:35:00.540 --> 00:35:03.520\nthe ability to authenticate, improve\ntheir credentials and validate them.\n\n718\n00:35:03.520 --> 00:35:07.520\nWe time stamp those tickets, without time\nsynchronization, without the use of NTP,\n\n719\n00:35:07.520 --> 00:35:09.930\nthe Network Time Protocol to synchronize,\nand\n\n720\n00:35:09.930 --> 00:35:14.020\nthe use of synchronization driven\nthrough the PDC Emulator Master role,\n\n721\n00:35:14.020 --> 00:35:16.580\nyou cannot do Kerberos\nbecause everything stops.\n\n722\n00:35:16.580 --> 00:35:19.580\nAnd if that stops users can't log in and\nauthenticate,\n\n723\n00:35:19.580 --> 00:35:22.920\nbecause they can't prove who they are, cuz\nthere's no way to generate the tickets.\n\n724\n00:35:22.920 --> 00:35:26.559\nSo all the security related functions\ngo through the PDC Emulator Role.\n\n725\n00:35:28.030 --> 00:35:31.330\nPassword changes and\naccount lockouts are also handled here.\n\n726\n00:35:31.330 --> 00:35:35.460\nMeaning if you lock out an account or\nmodify a password, we have to validate\n\n727\n00:35:35.460 --> 00:35:38.870\nagainst the PDC Emulator to validate\nthat that is indeed the case.\n\n728\n00:35:38.870 --> 00:35:42.617\nAnd we will seek that PDC Emulator Master\nrole out every time a user logs on to\n\n729\n00:35:42.617 --> 00:35:43.510\nauthenticate and\n\n730\n00:35:43.510 --> 00:35:47.437\nensure, no just the viability of that\naccount, the proper credentials, but\n\n731\n00:35:47.437 --> 00:35:51.033\nto ensure that's nothing has changed\nwith the status of that account.\n\n732\n00:35:51.033 --> 00:35:54.993\nBecause if you think about the hierarchy\nof an average domain, right?\n\n733\n00:35:54.993 --> 00:35:57.387\nIf we go back here for\njust a second before we flip over or\n\n734\n00:35:57.387 --> 00:35:59.840\nyou could do that while I'm talking,\neither way.\n\n735\n00:35:59.840 --> 00:36:04.230\nSo when we go here, think about for\na second that we have, and\n\n736\n00:36:04.230 --> 00:36:09.630\nlet's just go zoom in here for\njust one second,\n\n737\n00:36:09.630 --> 00:36:12.305\nand let's just pretend that we're\nin this domain right here, right?\n\n738\n00:36:12.305 --> 00:36:14.190\nHost.ITPro.TV.\n\n739\n00:36:14.190 --> 00:36:17.130\nNow I don't have any domain controllers\nin there, but let's just assume for\n\n740\n00:36:17.130 --> 00:36:19.570\njust a minute these two icons for\no user domain controller.\n\n741\n00:36:19.570 --> 00:36:21.470\nSo let's say I have at least two of them.\n\n742\n00:36:21.470 --> 00:36:23.660\nIf I make the change to disable,\nlet's say,\n\n743\n00:36:23.660 --> 00:36:28.050\nCherokee's user account, on one of these\ntwo domain controllers right here,\n\n744\n00:36:28.050 --> 00:36:31.310\nCherokee mentioned the networking and\nconnectivity in communication from her\n\n745\n00:36:31.310 --> 00:36:35.210\nperspective was the most important thing\nwith reguards to the Active Directory.\n\n746\n00:36:35.210 --> 00:36:37.350\nAnd I said when she said that I\ndon't disagree with you at all,\n\n747\n00:36:37.350 --> 00:36:38.210\nI think it's a great answer.\n\n748\n00:36:38.210 --> 00:36:41.900\nI just wanna reach in and get one\nspecific thing out to represent that.\n\n749\n00:36:41.900 --> 00:36:43.280\nBut let's go back to her broad answer,\n\n750\n00:36:43.280 --> 00:36:46.840\ncuz it's incredibly important, especially\nwith regard to this conversation.\n\n751\n00:36:46.840 --> 00:36:49.940\nAnd it's a very astute observation\non her part as well, because without\n\n752\n00:36:49.940 --> 00:36:53.920\ncommunication, as you pointed out, right,\nnothing works, everything stops talking.\n\n753\n00:36:53.920 --> 00:36:56.151\nDomain controllers have to replicate\nchanges between themselves.\n\n754\n00:36:56.151 --> 00:37:00.534\nIf I disable her user account up here,\nthis other domain controller doesn't have\n\n755\n00:37:00.534 --> 00:37:03.849\nknowledge of it until that\nreplication of that event occurs.\n\n756\n00:37:03.849 --> 00:37:08.301\nNow that could be instantaneous on a high\nspeed well connected internal LAN, or\n\n757\n00:37:08.301 --> 00:37:09.735\nalmost instantaneous.\n\n758\n00:37:09.735 --> 00:37:14.348\nBut, if it was a low bandwidth connection,\nand maybe one of those domain controllers\n\n759\n00:37:14.348 --> 00:37:18.320\nis in a remote office half a world away,\npart of the same logical domain but\n\n760\n00:37:18.320 --> 00:37:20.969\nphysically connected\nover thousands of miles.\n\n761\n00:37:20.969 --> 00:37:24.212\nThat replication could take several\nminutes to happen before it finally\n\n762\n00:37:24.212 --> 00:37:26.830\nreaches the outlined domain controllers.\n\n763\n00:37:26.830 --> 00:37:32.404\nIf Cherokee is in that outlying domain,\nthat remote office 5,000 miles away.\n\n764\n00:37:32.404 --> 00:37:33.205\n&gt;&gt; Do I get to be malicious here?\n\n765\n00:37:33.205 --> 00:37:34.772\n[LAUGH]\n&gt;&gt; You do, right?\n\n766\n00:37:34.772 --> 00:37:36.350\nPut on your evil look, right?\n\n767\n00:37:36.350 --> 00:37:40.065\nAnd so as a result, if she goes to log in,\nshe may be able to authenticate against\n\n768\n00:37:40.065 --> 00:37:43.559\nthis domain controller and still be\nconsidered a valid user cuz that domain\n\n769\n00:37:43.559 --> 00:37:46.951\ncontroller has not been told she's not,\ncuz it just doesn't know yet.\n\n770\n00:37:46.951 --> 00:37:49.578\nSo if we just allow this\nto occur with no oversight,\n\n771\n00:37:49.578 --> 00:37:51.850\nyou can imagine the chaos\nthat would ensue.\n\n772\n00:37:51.850 --> 00:37:56.490\nThe reason we can instantaneously lock out\na user and force that user not to be able\n\n773\n00:37:56.490 --> 00:38:00.460\nto log in, and not validate them,\nis because of the PDC Emulator role.\n\n774\n00:38:00.460 --> 00:38:03.230\nIt's the final arbitrator\non these security issues.\n\n775\n00:38:03.230 --> 00:38:06.412\nWe always, in other words, every time\na user logs on, validate not just\n\n776\n00:38:06.412 --> 00:38:09.810\nagainst the domain controller but\nalso against the PDC Emulator role\n\n777\n00:38:09.810 --> 00:38:13.150\nto ensure we understand security and\nthe security stance of that account.\n\n778\n00:38:13.150 --> 00:38:15.640\nAnd if that account has been disabled,\nthe password's been changed or\n\n779\n00:38:15.640 --> 00:38:19.100\nanything else, that account will not\nbe validated or allowed to log on.\n\n780\n00:38:19.100 --> 00:38:22.380\nNow If you're smart, paying attention to\nwhat I'm talking about, and you say so\n\n781\n00:38:22.380 --> 00:38:27.250\nOtto that's good, that happens, but\nwhat about the fact that Cherokee could\n\n782\n00:38:27.250 --> 00:38:30.830\nalready be logged on when you disable\nher account and she stays logged on.\n\n783\n00:38:30.830 --> 00:38:31.990\nShe doesn't log out.\n\n784\n00:38:31.990 --> 00:38:34.720\nWe're not gonna kick her out and\nnot know that she's no longer good.\n\n785\n00:38:34.720 --> 00:38:37.820\nAs a matter of fact, she's gonna be\nseen as an authenticated user and\n\n786\n00:38:37.820 --> 00:38:42.910\nstill be able to stay on and\naccess resources for potentially hours,\n\n787\n00:38:42.910 --> 00:38:47.960\nperhaps days at a time, depending on where\nwe are in that Kerberos ticket cycle.\n\n788\n00:38:47.960 --> 00:38:51.868\nAnd I would say you're absolutely right,\nbecause the user token is static.\n\n789\n00:38:51.868 --> 00:38:55.327\nWe don't update the token when\nyou're already logged on.\n\n790\n00:38:55.327 --> 00:38:59.470\nSo we don't have a record of the fact\nthat your account is no longer active and\n\n791\n00:38:59.470 --> 00:39:04.004\nthe password is changed in the token, the\nvirtual or the logical representation of\n\n792\n00:39:04.004 --> 00:39:08.060\nyour user credential, and\nall the things you're allowed to do.\n\n793\n00:39:08.060 --> 00:39:10.270\nThat is why we force users to log off and\n\n794\n00:39:10.270 --> 00:39:14.130\nlog back in when we make a change, cuz\nthat token is static and must regenerate.\n\n795\n00:39:14.130 --> 00:39:18.785\nBut when we reference the PDC Emulator,\nright, that's the final arbitrator.\n\n796\n00:39:18.785 --> 00:39:23.600\nPDC Emulator says, no, Cherokee can't log\nback in because she's no longer valid.\n\n797\n00:39:23.600 --> 00:39:27.870\nSo we would have to know we have to\nkick Cherokee's active session out.\n\n798\n00:39:27.870 --> 00:39:30.720\nReset the account and then she would\nnot be able to log back in cuz\n\n799\n00:39:30.720 --> 00:39:33.770\nthe PDC Emulator would say,\nsorry she's no longer valid.\n\n800\n00:39:33.770 --> 00:39:37.900\nSo the PDC Emulator role is incredibly\nimportant, because if it's unavailable,\n\n801\n00:39:37.900 --> 00:39:38.962\nusers cannot log in,\n\n802\n00:39:38.962 --> 00:39:42.446\nand password changes will not take effect,\nwill not be aware of them.\n\n803\n00:39:42.446 --> 00:39:44.940\nRight, so these are all very important.\n\n804\n00:39:44.940 --> 00:39:48.420\nThey're also, the other thing the PDC\nEmulator role does is, it plays a part in\n\n805\n00:39:48.420 --> 00:39:52.700\nmaking sure the GPOs, Group Policy\nObjects, are edited and applied correctly.\n\n806\n00:39:52.700 --> 00:39:56.180\nAgain, things having to do with security\nand the management of individual objects.\n\n807\n00:39:56.180 --> 00:40:01.750\nWhen you open a GPO, Group Policy Object\nwith the GPO editing tool other\n\n808\n00:40:01.750 --> 00:40:05.990\nthan a Local Group Policy Object, meaning\none just specific to this one machine,\n\n809\n00:40:05.990 --> 00:40:08.050\nright, when we open a domain base one,\n\n810\n00:40:08.050 --> 00:40:10.360\nyou're using the PDC Emulator\nto be able to open and edit it.\n\n811\n00:40:10.360 --> 00:40:11.770\nYou're not thinking of it that way, but\n\n812\n00:40:11.770 --> 00:40:14.200\nthat role is giving you\nthe ability to do that.\n\n813\n00:40:14.200 --> 00:40:17.939\nAnd if the PDC Emulator is unavailable\nyou're not able to edit GPOs,\n\n814\n00:40:17.939 --> 00:40:21.301\ncreate new Group Policy Objects or\nmodify the existing ones.\n\n815\n00:40:21.301 --> 00:40:25.250\nSo another PowerShell command\nthat's helpful here, Get-ADDomain.\n\n816\n00:40:25.250 --> 00:40:30.019\nRemember we said Get-ADForest for\nthe forest level FSMO roles.\n\n817\n00:40:30.019 --> 00:40:30.924\nGet-ADDomain.\n\n818\n00:40:30.924 --> 00:40:31.993\nGet dash, forest.\n\n819\n00:40:31.993 --> 00:40:36.808\nGet-ADDomain for\nall the domain based FSMO roles by domain.\n\n820\n00:40:36.808 --> 00:40:40.527\nYou'll get a listing of all of them and\nunderstand how to see what they are and\n\n821\n00:40:40.527 --> 00:40:42.853\nof course as a result,\nidentify the machines or\n\n822\n00:40:42.853 --> 00:40:46.166\nperhaps one domain controller that\nhas all three in the domain, but\n\n823\n00:40:46.166 --> 00:40:49.900\nbe able to identify the machine or\nmachines that hold these rules.\n\n824\n00:40:49.900 --> 00:40:50.790\n&gt;&gt; All right Adam, thank you for\n\n825\n00:40:50.790 --> 00:40:54.500\ntaking the time to explain our five\ndifferent roles as well, FSMO roles,\n\n826\n00:40:54.500 --> 00:40:58.660\nas well as defining the difference between\nour domain level, versus our forest level.\n\n827\n00:40:58.660 --> 00:41:01.700\nVery important to know, so\nthank you for that, but ladies and\n\n828\n00:41:01.700 --> 00:41:05.250\ngentlemen we have a lot of information\nheaded your way, so please stay tuned.\n\n829\n00:41:05.250 --> 00:41:06.570\nWe'll go ahead and sign out.\n\n830\n00:41:06.570 --> 00:41:08.240\nI've been your host Cherokee Boose.\n\n831\n00:41:08.240 --> 00:41:10.865\n&gt;&gt; I'm Adam Gordon\n&gt;&gt; See you next time here ITProTV.\n\n832\n00:41:10.865 --> 00:41:18.020\n[MUSIC]\n\n833\n00:41:18.020 --> 00:41:20.934\nThank you for watching ITProTV.\n\n",
          "vimeoId": "228811030"
        },
        {
          "description": "In this show, Cherokee and Adam continue to speak about FSMO roles. However, in this episode Adam begins by explain Adam differentiates between transferring and seizing roles and why we would want to distribute them throughout our environment.",
          "length": "1601",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-3-install_configure_domain_controllers_pt3-080717-PGM.00_26_23_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-3-install_configure_domain_controllers_pt3-080717-PGM.00_26_23_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-3-install_configure_domain_controllers_pt3-080717-PGM.00_26_23_22.Still001-sm.jpg",
          "title": "Install / Configure Domain Controllers Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:02.356\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.356 --> 00:00:06.618\n[CROSSTALK]\n\n3\n00:00:06.618 --> 00:00:07.965\n[MUSIC]\n\n4\n00:00:07.965 --> 00:00:10.885\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:10.885 --> 00:00:15.073\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n6\n00:00:15.073 --> 00:00:17.000\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.000 --> 00:00:21.626\nIn this episode, we'll continue our\ndiscussion really circling around\n\n8\n00:00:21.626 --> 00:00:25.059\ninstalling and\nconfiguring domain controllers, and\n\n9\n00:00:25.059 --> 00:00:29.410\nback in studios with us today we\nhave Microsoft expert Adam Gordon.\n\n10\n00:00:29.410 --> 00:00:30.050\nHow's it going, Adam?\n\n11\n00:00:30.050 --> 00:00:31.160\n&gt;&gt; But you had to think about that,\ndidn't you?\n\n12\n00:00:31.160 --> 00:00:32.020\n&gt;&gt; I know, I was like!\n\n13\n00:00:32.020 --> 00:00:33.630\n&gt;&gt; You were gonna say Britney Spears,\nweren't you?\n\n14\n00:00:33.630 --> 00:00:35.230\nI just, I saw it coming.\n\n15\n00:00:35.230 --> 00:00:38.300\nI'm doing well, hopefully all of you are\nout there, and if you have no idea what\n\n16\n00:00:38.300 --> 00:00:40.580\nwe're talking about, well we don't either,\nso don't worry about that.\n\n17\n00:00:40.580 --> 00:00:42.840\nAll right, so\nwe are gonna continue talking.\n\n18\n00:00:42.840 --> 00:00:44.440\nWe are in a multi-part journey here.\n\n19\n00:00:44.440 --> 00:00:46.420\nHopefully you've joined us for\nparts one and two,\n\n20\n00:00:46.420 --> 00:00:49.100\nif you have not well you have a little\ncatching up to do and we'd suggest\n\n21\n00:00:49.100 --> 00:00:52.590\nstrongly you take a look at those\nshows before you join us for this one.\n\n22\n00:00:52.590 --> 00:00:56.140\nContextually we're talking about\nkinda the progression of the AD DS,\n\n23\n00:00:56.140 --> 00:00:59.070\nthe Active Directory Domain Services.\n\n24\n00:00:59.070 --> 00:01:02.250\nWanna make sure you have a sense of all\nthe stuff we've covered up until now.\n\n25\n00:01:02.250 --> 00:01:06.830\nJust had a great conversation about FSMO\nroles, the five, two at the forest level,\n\n26\n00:01:06.830 --> 00:01:07.990\nthree at the domain level.\n\n27\n00:01:07.990 --> 00:01:11.040\nHow they work, why they're important,\nwhat they do, why we need them.\n\n28\n00:01:11.040 --> 00:01:15.200\nWe're gonna continue that conversation\ntalking about part two of that,\n\n29\n00:01:15.200 --> 00:01:17.530\nwhich is essentially hey,\nwe've got these roles, we laid them out,\n\n30\n00:01:17.530 --> 00:01:20.740\nwe know what they do, now what happens\nwhen they're no longer working?\n\n31\n00:01:20.740 --> 00:01:24.180\nWhat do we do in order to manage,\nmanipulate, move them around?\n\n32\n00:01:24.180 --> 00:01:28.020\nI mentioned that we could move them and\ndivest one domain controller.\n\n33\n00:01:28.020 --> 00:01:31.350\nInitially, all five roles sit on\nthe forest root domain controller.\n\n34\n00:01:31.350 --> 00:01:32.970\nWe do have to move them around and\n\n35\n00:01:32.970 --> 00:01:37.600\nwe can do that through a process known as\ntransference, or generically transferring.\n\n36\n00:01:37.600 --> 00:01:39.750\nBut we could also seize that.\n\n37\n00:01:39.750 --> 00:01:40.300\nRight?\n\n38\n00:01:40.300 --> 00:01:42.320\nAnd we have different options\ndepending on what we wanna do.\n\n39\n00:01:42.320 --> 00:01:46.690\n&gt;&gt; Now Adam, the term seizing that\nseems a little invasive or strong.\n\n40\n00:01:46.690 --> 00:01:49.090\nHow does that differ from transferring?\n\n41\n00:01:49.090 --> 00:01:51.040\n&gt;&gt; It's spelled differently,\nhas less letters.\n\n42\n00:01:51.040 --> 00:01:51.900\nAs far as, I can tell.\n\n43\n00:01:51.900 --> 00:01:53.560\n&gt;&gt; All right, I see that.\n&gt;&gt; That's the only way.\n\n44\n00:01:53.560 --> 00:01:54.550\nNo, I'm only kidding.\n\n45\n00:01:54.550 --> 00:01:57.000\nSo Cherokee is asking a great question,\nwhich is hey,\n\n46\n00:01:57.000 --> 00:02:01.400\nyou're using words to describe activity,\ntransference or transferring seizing.\n\n47\n00:02:01.400 --> 00:02:03.340\nIs there a different\nbetween these activities?\n\n48\n00:02:03.340 --> 00:02:06.410\nIf so, kinda what's the story there,\nand it's a great question.\n\n49\n00:02:06.410 --> 00:02:09.350\nThere is indeed a very important,\nvery vital difference.\n\n50\n00:02:09.350 --> 00:02:14.200\nTransferring is an activity we often\nengage in where we plan to move to a role.\n\n51\n00:02:14.200 --> 00:02:15.890\nWe're gonna think about doing it.\n\n52\n00:02:15.890 --> 00:02:18.380\nWe have access to all\nthe most up to date data.\n\n53\n00:02:18.380 --> 00:02:22.190\nWe're gonna use a set of tools that\nallows us to do so without disrupting or\n\n54\n00:02:22.190 --> 00:02:25.040\nin any way preventing activity\nfrom taking place and\n\n55\n00:02:25.040 --> 00:02:28.550\ndisrupting the use of those roles,\nand access to them.\n\n56\n00:02:28.550 --> 00:02:32.140\nSo transference is a planned activity\ncarried out with the latest data,\n\n57\n00:02:32.140 --> 00:02:36.680\ncontrolled planned and carried out by\nan administrator under normal operational\n\n58\n00:02:36.680 --> 00:02:40.440\nconditions, whereas seizing\na role is the exact opposite.\n\n59\n00:02:40.440 --> 00:02:43.338\nSeizing is an activity we do\ntypically because of a disaster, or\n\n60\n00:02:43.338 --> 00:02:44.980\nbusiness continuity event.\n\n61\n00:02:44.980 --> 00:02:46.370\nWe're not gonna be able to plan for it.\n\n62\n00:02:46.370 --> 00:02:49.510\nIt typically is a reactive,\nversus a proactive activity.\n\n63\n00:02:49.510 --> 00:02:51.610\nTransference will be considered proactive.\n\n64\n00:02:51.610 --> 00:02:54.060\nWe could plan to do it\nduring off peak times,\n\n65\n00:02:54.060 --> 00:02:58.010\nminimize the disruption and the lack of\naccess to the role while we're moving.\n\n66\n00:02:58.010 --> 00:03:02.250\nWhereas seizing happens because a role\nfails, meaning the domain controller\n\n67\n00:03:02.250 --> 00:03:05.940\nthe role is running on has experienced\na failure, is offline for whatever reason.\n\n68\n00:03:05.940 --> 00:03:09.930\nThe role is not available, and most\nlikely, that machine is not coming back.\n\n69\n00:03:09.930 --> 00:03:13.940\nSo we have to forcefully go and\ntake control of that role and\n\n70\n00:03:13.940 --> 00:03:17.690\nmove it without access to\nthe prior role holding machine and\n\n71\n00:03:17.690 --> 00:03:20.700\nwithout access to the latest up to\ndate active directory data to do so.\n\n72\n00:03:21.760 --> 00:03:24.410\nSo one is very proactive,\none is very reactive and\n\n73\n00:03:24.410 --> 00:03:26.790\nas a result we definitely\ndifferentiate between these.\n\n74\n00:03:26.790 --> 00:03:29.200\nWe do transfer rolls,\nalthough not very often.\n\n75\n00:03:29.200 --> 00:03:32.030\nOnce you again,\nget your infrastructure setup and\n\n76\n00:03:32.030 --> 00:03:36.020\nas a result of that you are able\nto have everything mapped out and\n\n77\n00:03:36.020 --> 00:03:38.750\nunderstand that,\nit's fairly straightforward.\n\n78\n00:03:38.750 --> 00:03:39.900\nYour roles are kinda set up,\n\n79\n00:03:39.900 --> 00:03:43.418\nyou move them around, you don't tend to\ntransfer roles after that very often.\n\n80\n00:03:43.418 --> 00:03:46.510\nThe only time,\nthe only exception traditionally being\n\n81\n00:03:46.510 --> 00:03:50.210\nwhen you are gonna sun down, or\ntake offline a domain control,\n\n82\n00:03:50.210 --> 00:03:54.090\ntake it out of service in other words,\nget rid of it cuz maybe it's just old.\n\n83\n00:03:54.090 --> 00:03:57.330\nAnd, again, a lot of this doesn't\nhappen as much as it used to.\n\n84\n00:03:57.330 --> 00:03:58.850\nWe do a lot more of this or\n\n85\n00:03:58.850 --> 00:04:02.792\nhave historically done a lot more of this\nwhen we had only physical infrastructure.\n\n86\n00:04:02.792 --> 00:04:06.128\nDomain controllers running on actual,\nphysical computers, racked and\n\n87\n00:04:06.128 --> 00:04:09.030\nstacked, much like the infrastructure\nyou see behind us here, right,\n\n88\n00:04:09.030 --> 00:04:11.240\nin studio four as we're talking to you.\n\n89\n00:04:11.240 --> 00:04:14.670\nWhen one of those physical devices\nbehind me stops blinking green and\n\n90\n00:04:14.670 --> 00:04:17.950\nstarts blinking red, right,\nthen its usually not working.\n\n91\n00:04:17.950 --> 00:04:20.030\nAnd as a result of that,\nwe have to swap it out.\n\n92\n00:04:20.030 --> 00:04:23.490\nIf the domain controller was\non that device and it failed,\n\n93\n00:04:23.490 --> 00:04:28.910\nthen that would obviously be an issue, and\nwe would have to worry about planning and\n\n94\n00:04:28.910 --> 00:04:32.040\nknowing, hey you know what,\nthat's gonna go out of service.\n\n95\n00:04:32.040 --> 00:04:34.820\nWe're gonna get rid of that,\nlet's go ahead and transfer that role,\n\n96\n00:04:34.820 --> 00:04:39.010\nif we did it before it failed, or let's\nseize the role after it failed and fix it.\n\n97\n00:04:39.010 --> 00:04:42.200\nBut with Virtual Machines today we don't\ntend to get rid of domain controllers,\n\n98\n00:04:42.200 --> 00:04:44.200\nwe just move them from\none host to another.\n\n99\n00:04:44.200 --> 00:04:47.295\nSo you don't tend to have to transfer\nroles as much these days once you plan\n\n100\n00:04:47.295 --> 00:04:50.225\neverything out and\nkinda stand up the infrastructure, but\n\n101\n00:04:50.225 --> 00:04:52.160\nseizing roles does still take place.\n\n102\n00:04:52.160 --> 00:04:56.440\nThe infrastructure item fails for whatever\nreason, you have to recover that role.\n\n103\n00:04:56.440 --> 00:04:57.800\nWe will use a tool,\n\n104\n00:04:57.800 --> 00:05:01.120\ntypically Ntdsutil.exe,\nyou heard me mention that tool.\n\n105\n00:05:01.120 --> 00:05:03.420\nI'm gonna show you a little\nbit about it here in a minute.\n\n106\n00:05:03.420 --> 00:05:05.490\nYou've heard me mentioned\nthat a couple of times,\n\n107\n00:05:05.490 --> 00:05:10.330\nthat tool is a tool that we will\nuse be able to seize the role..\n\n108\n00:05:10.330 --> 00:05:12.680\nThat is typically the tool of record.\n\n109\n00:05:12.680 --> 00:05:16.380\nThese days, PowerShell can also be used\nto do this, but historically up until\n\n110\n00:05:16.380 --> 00:05:20.820\nrecently, it was only Ntdsutil Was the\nprimary tool that we would use to do this.\n\n111\n00:05:20.820 --> 00:05:24.760\nBut now we could do Power Shell as well,\nboth for seizing as well as for\n\n112\n00:05:24.760 --> 00:05:26.368\ntransferring, just so you know.\n\n113\n00:05:26.368 --> 00:05:29.160\nSpeaking of PowerShell and\nspeaking of seizing and transform,\n\n114\n00:05:29.160 --> 00:05:32.590\nif you'll join me here I wanna\nshow you the PowerShell syntax.\n\n115\n00:05:32.590 --> 00:05:34.500\nCan we go full screen on this just so\nyou could see this?\n\n116\n00:05:34.500 --> 00:05:38.610\nWanna show you the syntax that will\nbe used for transferring and/or for\n\n117\n00:05:38.610 --> 00:05:39.580\nseizing a role.\n\n118\n00:05:39.580 --> 00:05:40.920\nYou can see it's very similar here.\n\n119\n00:05:42.100 --> 00:05:48.180\nOn syntax for transferring a role,\nMove ADDirectorySeverOperationsMasterRole,\n\n120\n00:05:48.180 --> 00:05:52.320\nthat whole cmdlet right here,\nand then the parameter for\n\n121\n00:05:52.320 --> 00:05:55.590\nidentity with server name,\nI define what goes on down here for that.\n\n122\n00:05:55.590 --> 00:06:00.700\nOperationsMasterRole parameter, you'll do\nthe named roll instance, is it the rid\n\n123\n00:06:00.700 --> 00:06:05.020\nmaster, BDC emulator, whatever, and\nthen force, depending on what we're doing.\n\n124\n00:06:05.020 --> 00:06:08.770\nAnd so I defined down here what\nthe server name item will be.\n\n125\n00:06:08.770 --> 00:06:10.540\nRemember whenever you see\nin our documentation,\n\n126\n00:06:10.540 --> 00:06:13.780\nin Microsoft's documentation in our notes,\na placeholder\n\n127\n00:06:13.780 --> 00:06:17.910\nlike server name with the brackets,\nright, you're seeing a placeholder.\n\n128\n00:06:17.910 --> 00:06:20.250\nIn other words, you're not gonna type\nserver name when you type the cmdlet.\n\n129\n00:06:20.250 --> 00:06:24.020\nYou're gonna type the actual name of the\nserver, the targeted domain controllers\n\n130\n00:06:24.020 --> 00:06:26.850\nyou see here, and\nas I pointed out that you wanna transfer.\n\n131\n00:06:26.850 --> 00:06:29.140\nNow just a word about\nhow to read these notes.\n\n132\n00:06:29.140 --> 00:06:31.890\nI was struggling with the best way to\npresent this to you because when you\n\n133\n00:06:31.890 --> 00:06:35.610\nput a dash in with PowerShell,\nit means you're calling a parameter right.\n\n134\n00:06:35.610 --> 00:06:38.450\nAnd I didn't wanna do that with the notes\ndown below, make you think you had to put\n\n135\n00:06:38.450 --> 00:06:43.660\nserver name dash something and screw up\nthe cmdlet, so instead I just put a pipe.\n\n136\n00:06:43.660 --> 00:06:47.850\nNow a pipe, this little stand up\nline right here is also a command\n\n137\n00:06:47.850 --> 00:06:48.990\nreference in PowerShell.\n\n138\n00:06:48.990 --> 00:06:53.420\nSo I just wanna be clear, we're not\npiping server name to, in this case,\n\n139\n00:06:53.420 --> 00:06:56.430\noperations master role\nin this command line.\n\n140\n00:06:56.430 --> 00:07:00.480\nI'm just simply, using the pipe as\na differentiator for the command item, or\n\n141\n00:07:00.480 --> 00:07:03.210\nthe parameter on the left,\nin the dot items down below.\n\n142\n00:07:03.210 --> 00:07:06.480\nHere are the bulletted items, and\nthe description of what they are.\n\n143\n00:07:06.480 --> 00:07:08.070\nIn other words, ignore the pipe,\n\n144\n00:07:08.070 --> 00:07:10.430\nif you know what a pipe is in PowerShell,\nwe're not piping.\n\n145\n00:07:10.430 --> 00:07:14.490\nI just couldn't come up with a better\nway to differentiate what that was, and\n\n146\n00:07:14.490 --> 00:07:16.700\ni wanted to put something in\nthat would clearly stand out so\n\n147\n00:07:16.700 --> 00:07:17.570\nyou would know what it was, right?\n\n148\n00:07:17.570 --> 00:07:20.675\n&gt;&gt; It's usually the little brackets or\nthe carets that get me Adam.\n\n149\n00:07:20.675 --> 00:07:24.123\nIf I'm using a tool like Atom or\nMarkdown Editor and I'm typing and\n\n150\n00:07:24.123 --> 00:07:28.388\ntyping and then they disappear whenever\nit gets rendered to HTML so sometimes..\n\n151\n00:07:28.388 --> 00:07:29.675\n&gt;&gt; Right.\n&gt;&gt; Yeah it's just been\n\n152\n00:07:29.675 --> 00:07:30.940\na formatting thing, exactly.\n\n153\n00:07:30.940 --> 00:07:33.235\n&gt;&gt; Right cuz they mean different things\nin HTML, they're used differently.\n\n154\n00:07:33.235 --> 00:07:34.260\n&gt;&gt; [LAUGHS]\n&gt;&gt; Right so roaming list, right,\n\n155\n00:07:34.260 --> 00:07:37.328\ncould we just go full screen again so\nyou can see what I'm hovering over there?\n\n156\n00:07:37.328 --> 00:07:40.560\nA comma separated list of AD DS role\nnames to move to the target server.\n\n157\n00:07:40.560 --> 00:07:41.760\nYou could move more than one.\n\n158\n00:07:41.760 --> 00:07:45.319\nRemember I said there may be multiple\nroles on a single server, you wanna move\n\n159\n00:07:45.319 --> 00:07:48.961\ntwo of them and move them out, you can do\nthat with a comma separated list here.\n\n160\n00:07:48.961 --> 00:07:51.252\nAnd then the force parameter,\noption parameter,\n\n161\n00:07:51.252 --> 00:07:54.562\nyou include it when you're seizing\nthe role instead of transferring it.\n\n162\n00:07:54.562 --> 00:07:57.793\nThis line item right up until here.\n\n163\n00:07:57.793 --> 00:08:00.500\nAllows you to do the transfer.\n\n164\n00:08:00.500 --> 00:08:04.490\nIf you have the Force parameter at\nthe end, it allows you to seize.\n\n165\n00:08:04.490 --> 00:08:07.990\nSo when I say they look the same and\nthey're almost identical, I'm not kidding.\n\n166\n00:08:07.990 --> 00:08:12.040\nThey essentially are the same exact\ncommand with just one little extra\n\n167\n00:08:12.040 --> 00:08:17.270\nparameter on the end, that changes\nthe focus from transference to seize it.\n\n168\n00:08:17.270 --> 00:08:18.890\nSo just be aware of that\nas you're looking at this.\n\n169\n00:08:18.890 --> 00:08:24.448\nBut this is the command line or the\nPowerShell cmdlet line, and the reference.\n\n170\n00:08:24.448 --> 00:08:27.804\nThis would all be one continuous string,\nby the way, one line that's truncated and\n\n171\n00:08:27.804 --> 00:08:29.040\nbroken up in our notes.\n\n172\n00:08:29.040 --> 00:08:31.284\nBut in other words,\nafter OperationsMasterRole,\n\n173\n00:08:31.284 --> 00:08:34.042\nyou would actually have\nthe comma-separated list right here.\n\n174\n00:08:34.042 --> 00:08:35.492\nAnd then potentially, Force,\n\n175\n00:08:35.492 --> 00:08:39.040\nat the end of that if you were\ngonna seize as opposed to transfer.\n\n176\n00:08:39.040 --> 00:08:42.450\nHaving said that, I have two points of\nreference for you that will be helpful.\n\n177\n00:08:42.450 --> 00:08:45.990\nPowerShell Move, transferring or seizing\nFSMO roles to another domain controller.\n\n178\n00:08:45.990 --> 00:08:50.990\nGot a nice little website here with all\nof the information about how to do this.\n\n179\n00:08:50.990 --> 00:08:53.900\nAll the different ways and\nsyntax for doing it.\n\n180\n00:08:53.900 --> 00:08:58.461\nAnd then I have Ntdsutil.exe,\nhow we use the command line,\n\n181\n00:08:58.461 --> 00:09:01.500\nthe old school tool for doing this.\n\n182\n00:09:01.500 --> 00:09:03.780\nThis is how you would go ahead and\nuse the tool.\n\n183\n00:09:03.780 --> 00:09:06.602\nYou could see the five FSMO\nroles are listed here.\n\n184\n00:09:06.602 --> 00:09:10.290\nWe already explained what they were\nin one of our prior discussions.\n\n185\n00:09:10.290 --> 00:09:15.920\nAnd you'll see here that you can\nunderstand the FSMO role, kind\n\n186\n00:09:15.920 --> 00:09:19.720\nof gives you the partition information,\nshows you how to do the transference,\n\n187\n00:09:19.720 --> 00:09:24.350\nactually walks you through the logic of\nstarting the tool, and then opening it up.\n\n188\n00:09:24.350 --> 00:09:25.440\nAnd then what you would type in,\n\n189\n00:09:25.440 --> 00:09:28.790\nyou type connect to server servername and\npress Enter.\n\n190\n00:09:28.790 --> 00:09:31.340\nservername is the name of\nthe instance you want to connect to.\n\n191\n00:09:31.340 --> 00:09:33.866\nAnd then it walks you through\nthe logic of going in.\n\n192\n00:09:33.866 --> 00:09:35.801\nYou have certain commands\nyou have to enter.\n\n193\n00:09:35.801 --> 00:09:37.233\nThis is much like NETA Sage, right?\n\n194\n00:09:37.233 --> 00:09:40.296\nIf you've used NETA Sage, you drill down,\nyou have different commands within\n\n195\n00:09:40.296 --> 00:09:43.418\nNETA Sage that opens up other areas so you\ncan go in and operate different things.\n\n196\n00:09:43.418 --> 00:09:46.310\nAnd Ntdsutil is gonna work like that.\n\n197\n00:09:46.310 --> 00:09:48.829\nAnd you can see it talks about\nhow to seize the roles here,\n\n198\n00:09:48.829 --> 00:09:52.255\nwalks you through the logic of how to\nwork with them, gives you information.\n\n199\n00:09:52.255 --> 00:09:55.951\nAnd again, don't get thrown off by\nthe fact it says Windows 2000 here,\n\n200\n00:09:55.951 --> 00:09:58.410\nyou could still use this\ntool even in Server 16.\n\n201\n00:09:58.410 --> 00:10:02.790\nIt is supported, but PowerShell's becoming\nthe more standardized way over time\n\n202\n00:10:02.790 --> 00:10:04.710\nthat we see moving towards doing this.\n\n203\n00:10:04.710 --> 00:10:05.810\nJust want you to be aware of that,\n\n204\n00:10:05.810 --> 00:10:07.740\nand just make sure you're\ncomfortable with that.\n\n205\n00:10:07.740 --> 00:10:10.720\nSo a little bit of guidance on\nhow we use both of those tools.\n\n206\n00:10:10.720 --> 00:10:13.840\nRemember, talked about the fact\nthat we have a break in the FSMO\n\n207\n00:10:13.840 --> 00:10:17.650\nrole architecture, two at the forest\nlevel, three that exist per domain for\n\n208\n00:10:17.650 --> 00:10:19.370\nevery name domain context.\n\n209\n00:10:19.370 --> 00:10:23.850\nSo if you have three domains, you'd have a\ntotal of three FSMO roles per domain times\n\n210\n00:10:23.850 --> 00:10:26.900\nthree, nine for\nthe entire forest at the domain level.\n\n211\n00:10:26.900 --> 00:10:31.961\nAdditional two at the forest level, total\nof 11 FSMO roles identified per domain and\n\n212\n00:10:31.961 --> 00:10:34.055\nper forest when you add them all up.\n\n213\n00:10:34.055 --> 00:10:36.440\nSo just make sure you're aware of that.\n\n214\n00:10:36.440 --> 00:10:39.258\nWe've talked about the administration\ngroups involved with FSMO management and\n\n215\n00:10:39.258 --> 00:10:40.070\nmaintenance.\n\n216\n00:10:40.070 --> 00:10:44.150\nSchema Master, for instance,\nEnterprise Admin Group, Schema Master.\n\n217\n00:10:44.150 --> 00:10:46.125\nSchema Admin Group to do the editing.\n\n218\n00:10:46.125 --> 00:10:48.390\nSo we've been through those,\ntalked about what those are, and\n\n219\n00:10:48.390 --> 00:10:50.680\njust reminding you about all that as well.\n\n220\n00:10:50.680 --> 00:10:53.960\nNow if we go back,\nlet me just bring up this diagram here.\n\n221\n00:10:53.960 --> 00:10:57.060\nAnd we just zoom out a little bit so\n\n222\n00:10:57.060 --> 00:10:59.640\nwe can see it and\nscroll back down to where we were.\n\n223\n00:11:00.660 --> 00:11:03.270\nSo if we are here,\nif you could join me back on here.\n\n224\n00:11:03.270 --> 00:11:05.252\nSo if we go back to our diagram for\na minute, right?\n\n225\n00:11:05.252 --> 00:11:08.502\nAnd we're thinking about\nthe individual domain ITPRO.tv.\n\n226\n00:11:08.502 --> 00:11:12.165\nThe parent and child domains\nthat make up the domain tree of\n\n227\n00:11:12.165 --> 00:11:18.310\nITPRO.tv Hosts.ITPRO.tv, Audience.ITPRO.tv\nand ITPRO.tv, and the forest right?\n\n228\n00:11:18.310 --> 00:11:19.230\nWe don't have it on there, but\n\n229\n00:11:19.230 --> 00:11:23.480\nif we included baskets.com, as we said in\na prior episode and put them altogether.\n\n230\n00:11:23.480 --> 00:11:28.150\nRemember that the forest all up, all the\ndomains, and all the trees, altogether,\n\n231\n00:11:28.150 --> 00:11:31.090\nif we draw it in a big circle around\neverything and say, okay, that's\n\n232\n00:11:31.090 --> 00:11:35.890\nthe forest boundary, the forest boundary\nis a security boundary traditionally.\n\n233\n00:11:35.890 --> 00:11:40.290\nIt is the outermost boundary for trust,\nfor management, for the application of\n\n234\n00:11:40.290 --> 00:11:44.754\npolicy, for the control, management,\nmonitoring, maintenance, care, and\n\n235\n00:11:44.754 --> 00:11:48.009\nfeeding, and ownership of\nobjects defined in our schema.\n\n236\n00:11:48.009 --> 00:11:52.552\nAnd the Ntds.dit file that we manage,\none schema per forest, right?\n\n237\n00:11:52.552 --> 00:11:54.300\nRemember we talked about that.\n\n238\n00:11:54.300 --> 00:11:58.560\nSo objects defined in our\nforest are gonna look and\n\n239\n00:11:58.560 --> 00:12:02.320\nfeel, most likely if they're generic\nobjects, an average user account,\n\n240\n00:12:02.320 --> 00:12:05.890\naverage computer account, average group,\nany and all those things.\n\n241\n00:12:05.890 --> 00:12:08.840\nYou go one forest to another,\nmillions of forests\n\n242\n00:12:08.840 --> 00:12:12.240\nin the world based on the extensive\ndeployment of the Active Directory\n\n243\n00:12:12.240 --> 00:12:15.840\nacross eight versions of the operating\nsystem in the last 20 years.\n\n244\n00:12:15.840 --> 00:12:19.930\nYou go look at any and all of those around\nthe world, you're gonna see that all those\n\n245\n00:12:19.930 --> 00:12:24.690\nobjects are defined identically as\na baseline to standard install.\n\n246\n00:12:24.690 --> 00:12:28.120\nThat a user defined in forest\none is gonna look and feel just\n\n247\n00:12:28.120 --> 00:12:32.000\nlike a user defined in forest two,\nthree, four, and five, in other words.\n\n248\n00:12:32.000 --> 00:12:36.910\nNot allowing for any additional object\ndefinitions we've added to the schema.\n\n249\n00:12:36.910 --> 00:12:40.760\nJust saying out of the box,\ngeneric install, you built five forests,\n\n250\n00:12:40.760 --> 00:12:43.750\nthey're all gonna have the same exact\ndefinition for what a user object is.\n\n251\n00:12:43.750 --> 00:12:45.114\nThink about the logic of\nthat is what I'm saying.\n\n252\n00:12:45.114 --> 00:12:48.840\nEven though they're managed by different\nschemas, we'll have five schemas.\n\n253\n00:12:48.840 --> 00:12:50.400\nEach schema will be different.\n\n254\n00:12:50.400 --> 00:12:53.230\nFive Ntds.dit files, one per forest.\n\n255\n00:12:53.230 --> 00:12:56.184\nBut users will be defined the same way\nacross all of them if you think about\n\n256\n00:12:56.184 --> 00:12:56.870\nthe logic of it.\n\n257\n00:12:56.870 --> 00:13:00.396\nBut our ability to manage\nthose users extends to and\n\n258\n00:13:00.396 --> 00:13:02.450\nends at the forest boundary.\n\n259\n00:13:02.450 --> 00:13:06.520\nThat's why we say the forest is\na security boundary first and foremost.\n\n260\n00:13:06.520 --> 00:13:07.650\nAll domains in the forest,\n\n261\n00:13:07.650 --> 00:13:11.450\nas we said, are automatically given\nthese two-way transitive trusts.\n\n262\n00:13:11.450 --> 00:13:14.130\nThey trust each other in\nthe hierarchy of the tree.\n\n263\n00:13:14.130 --> 00:13:18.430\nTrees, in other words from the level\nof ITPRO.tv to baskets.com and\n\n264\n00:13:18.430 --> 00:13:21.440\nother root domain anchoring\nthat other tree namespace.\n\n265\n00:13:21.440 --> 00:13:23.610\nThere'll be a two way transit\nof trust between those.\n\n266\n00:13:23.610 --> 00:13:26.390\nThey will trust each other and\nbe able to see each other as well.\n\n267\n00:13:26.390 --> 00:13:28.090\nAnd so remember that, right?\n\n268\n00:13:28.090 --> 00:13:32.650\nSo we can trust all the domains inside\nthe forest cuz we have that capability.\n\n269\n00:13:32.650 --> 00:13:35.130\nSo we see the forest as\na security boundary.\n\n270\n00:13:35.130 --> 00:13:37.290\nWe also have replication boundaries,\nright?\n\n271\n00:13:37.290 --> 00:13:41.210\nBecause within the forest, the AD\nforest is the replication boundary for\n\n272\n00:13:41.210 --> 00:13:43.530\nboth the configuration and\nthe schema partition.\n\n273\n00:13:43.530 --> 00:13:46.840\nWe said the schema does not exist\nbeyond the forest boundary but\n\n274\n00:13:46.840 --> 00:13:49.920\nis replicated among all\nthe domains within the forest.\n\n275\n00:13:49.920 --> 00:13:52.280\nAnd so it is also a replication boundary.\n\n276\n00:13:52.280 --> 00:13:55.020\nWanna make sure we're aware of that and\nthat we understand that.\n\n277\n00:13:55.020 --> 00:13:57.170\nBecause that's how the global catalog,\n\n278\n00:13:57.170 --> 00:14:01.604\nthe subset of all the parameters that read\nonly use for look ups for instance, works.\n\n279\n00:14:01.604 --> 00:14:04.470\nAnd that the read only\ndomain controllers work.\n\n280\n00:14:04.470 --> 00:14:07.530\nSo we can replicate among them,\nthroughout the entire forest.\n\n281\n00:14:07.530 --> 00:14:10.000\nSo it is important for\nus to think about that.\n\n282\n00:14:10.000 --> 00:14:12.000\nWe've talked about what\nan Active Directory domain is.\n\n283\n00:14:12.000 --> 00:14:13.270\nI've defined it for you.\n\n284\n00:14:13.270 --> 00:14:16.760\nRemember our Word document that\nshows us both our physical and\n\n285\n00:14:16.760 --> 00:14:20.730\nour logical components\nof the Active Directory.\n\n286\n00:14:20.730 --> 00:14:25.150\nWe talk about partition, schema, domain,\ndomain tree, forest, sites, subnet.\n\n287\n00:14:25.150 --> 00:14:28.515\nThese are all members of the quote,\nunquote, logical structure.\n\n288\n00:14:28.515 --> 00:14:31.785\nAnd then we talk about the physical\ncomponents, the domain controller,\n\n289\n00:14:31.785 --> 00:14:32.427\nphysically.\n\n290\n00:14:32.427 --> 00:14:34.871\nAnd remember, although we say physical,\nI said it could be a virtual or\n\n291\n00:14:34.871 --> 00:14:35.576\nphysical machine.\n\n292\n00:14:35.576 --> 00:14:37.970\nWe're just talking about\nthe infrastructure, itself.\n\n293\n00:14:37.970 --> 00:14:40.899\nTalk about data stores,\nglobal catalog servers, RODCs,\n\n294\n00:14:40.899 --> 00:14:42.740\nread only domain controllers.\n\n295\n00:14:42.740 --> 00:14:45.813\nThese are all the elements, we defined\na few, I think, in the very first show\n\n296\n00:14:45.813 --> 00:14:48.761\nin this topic, seven, talked about\nthis document and I showed it to you.\n\n297\n00:14:48.761 --> 00:14:50.130\nSo keep that in mind.\n\n298\n00:14:50.130 --> 00:14:54.090\nWe've talked about objects, right, user\nobjects, talked about computer accounts,\n\n299\n00:14:54.090 --> 00:14:54.840\ngroup objects.\n\n300\n00:14:54.840 --> 00:14:56.680\nThese all exist, right?\n\n301\n00:14:56.680 --> 00:15:00.464\nAnd they are part of the structure\ncuz they're defined in the schema in\n\n302\n00:15:00.464 --> 00:15:02.077\nthe Ntds.dit file, right?\n\n303\n00:15:02.077 --> 00:15:04.530\nSo wanna think about that and\nbe aware of that.\n\n304\n00:15:04.530 --> 00:15:07.980\nVery quickly without thinking, what's your\nfavorite object in the Active Directory?\n\n305\n00:15:07.980 --> 00:15:12.080\n&gt;&gt; My favorite object without thinking,\nthe baskets or\n\n306\n00:15:12.080 --> 00:15:14.240\nthe objects, the organizational units.\n\n307\n00:15:14.240 --> 00:15:17.040\n&gt;&gt; Those are like three different objects,\nyou just name the first one.\n\n308\n00:15:17.040 --> 00:15:20.890\nI didn't say name your cornucopia of\nobjects, so what's your favorite object?\n\n309\n00:15:20.890 --> 00:15:23.750\nSo my favorite object are user accounts,\nand I'll tell you why.\n\n310\n00:15:23.750 --> 00:15:25.250\nCuz Cherokee clearly\nhas to think some more.\n\n311\n00:15:25.250 --> 00:15:26.642\nEven though we asked her not to\nthink about her favorite object.\n\n312\n00:15:26.642 --> 00:15:28.902\n&gt;&gt; I don't have a clear favorite,\nobviously, okay.\n\n313\n00:15:28.902 --> 00:15:30.680\n&gt;&gt; Clearly is confused\nabout by the question.\n\n314\n00:15:30.680 --> 00:15:31.620\nBut for user objects.\n\n315\n00:15:31.620 --> 00:15:34.517\nThe reason I like user accounts\nas my most favorite object is,\n\n316\n00:15:34.517 --> 00:15:36.704\nif you think about what we do,\nand how we do it.\n\n317\n00:15:36.704 --> 00:15:40.090\nWithout user accounts,\ncan't do anything, right?\n\n318\n00:15:40.090 --> 00:15:41.140\nThink about the logic of it.\n\n319\n00:15:41.140 --> 00:15:44.420\nWe can administer and\napply permissions on a per-user basis,\n\n320\n00:15:44.420 --> 00:15:45.430\nthough we don't recommend you do that.\n\n321\n00:15:45.430 --> 00:15:46.377\nIt's not a best practice.\n\n322\n00:15:46.377 --> 00:15:49.561\nBut what I'm getting at is, we can\nget away from groups if necessary and\n\n323\n00:15:49.561 --> 00:15:53.030\nstill run the Active Directory,\nalthough it's more complex to do, right?\n\n324\n00:15:53.030 --> 00:15:55.881\nBut without user accounts,\nI can't log in, I can't do anything.\n\n325\n00:15:55.881 --> 00:15:58.683\nSo for me it's users cuz those\nare the most important things.\n\n326\n00:15:58.683 --> 00:16:00.400\nThey're also obviously gonna be so\n\n327\n00:16:00.400 --> 00:16:04.320\ncritical because we assign permissions\nto them, we manage them with policy.\n\n328\n00:16:04.320 --> 00:16:05.749\n&gt;&gt; We get that non repudiation.\n\n329\n00:16:05.749 --> 00:16:07.780\n&gt;&gt; All that kind of stuff\nthat we think about right?\n\n330\n00:16:07.780 --> 00:16:10.420\nSo for all those reasons I\nlike user accounts a lot.\n\n331\n00:16:10.420 --> 00:16:13.013\nBut I'm just a people person,\nclearly she's a basket person.\n\n332\n00:16:13.013 --> 00:16:13.949\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n333\n00:16:13.949 --> 00:16:16.496\ntotally different thought\nprocess when you think about it.\n\n334\n00:16:16.496 --> 00:16:19.759\nAll right, so we talked about the fact\nthat the Active Directory also has these\n\n335\n00:16:19.759 --> 00:16:21.540\nthings called domains, as we said.\n\n336\n00:16:21.540 --> 00:16:23.920\nAnd domains themselves are also\nreplication boundaries.\n\n337\n00:16:23.920 --> 00:16:26.660\nLet's go back to our picture here for\njust a minute if we could.\n\n338\n00:16:26.660 --> 00:16:30.990\nRight, when we create a user, or\na computer or a basket, right?\n\n339\n00:16:30.990 --> 00:16:34.960\nWhatever it may be, as an object\nhere in let's say Hosts.ITPRO.tv.\n\n340\n00:16:34.960 --> 00:16:39.465\nI mentioned that we're gonna have\nthe ability to manage that object, but\n\n341\n00:16:39.465 --> 00:16:42.672\nwe're not gonna see that\nobject up here and up here.\n\n342\n00:16:42.672 --> 00:16:45.382\nIn the sense that we create\na copy of it in ever domain, but\n\n343\n00:16:45.382 --> 00:16:49.107\nrather we're going to have a way to reach\ninto the domain and see it, trust it,\n\n344\n00:16:49.107 --> 00:16:52.020\napply policy to it,\netc as we've already talked about.\n\n345\n00:16:52.020 --> 00:16:54.860\nBut the object itself\nlives inside the domain.\n\n346\n00:16:54.860 --> 00:16:56.400\nThe domain is also a boundary.\n\n347\n00:16:56.400 --> 00:16:57.390\nIt is a security boundary.\n\n348\n00:16:57.390 --> 00:17:00.852\nWe don't replicate objects beyond\nthe boundary of the domain, but\n\n349\n00:17:00.852 --> 00:17:01.892\nwith in the domain.\n\n350\n00:17:01.892 --> 00:17:05.875\nLet's assume these are domain controllers\nfor just a minute instead of Ou's,\n\n351\n00:17:05.875 --> 00:17:09.801\nwhen we create an object user on this\ndomain controller, a copy of that user and\n\n352\n00:17:09.801 --> 00:17:12.248\nthe information around\nit has to be replicated.\n\n353\n00:17:12.248 --> 00:17:14.261\nAnd given to this domain controller and\n\n354\n00:17:14.261 --> 00:17:16.701\nindeed all domain\ncontrollers in that domain,\n\n355\n00:17:16.701 --> 00:17:20.849\nso that any and all domain controllers in\nthe domain have complete knowledge of,\n\n356\n00:17:20.849 --> 00:17:25.130\nunderstanding of, and awareness of that\nuser object so that we can manage it.\n\n357\n00:17:25.130 --> 00:17:29.477\nWe can interact with it, we can use it and\nof course we can as a user show up and\n\n358\n00:17:29.477 --> 00:17:30.445\nauthenticate.\n\n359\n00:17:30.445 --> 00:17:33.493\nAnd not be tied to only one domain\ncontroller, but can talk to and\n\n360\n00:17:33.493 --> 00:17:36.890\nindeed show up and knock on the door\nof any of those domain controllers.\n\n361\n00:17:36.890 --> 00:17:40.595\nIn theory as long as everything's going\nthe right way go back to what Cherokee\n\n362\n00:17:40.595 --> 00:17:43.795\nsaid in the prior episode was her\nmost important thought process.\n\n363\n00:17:43.795 --> 00:17:47.087\nHer most important element of the act\nof directory, she said networking and\n\n364\n00:17:47.087 --> 00:17:50.400\nthe communication and\nthe connectivity allows for communication.\n\n365\n00:17:50.400 --> 00:17:53.638\nAnd that's so important because without\nthat we'd be taught to only go into one\n\n366\n00:17:53.638 --> 00:17:56.393\ndomain controller and\nif that domain controller was unavailable,\n\n367\n00:17:56.393 --> 00:17:57.939\nwe'd have no way of authenticating,\n\n368\n00:17:57.939 --> 00:18:00.477\nno way of getting in because\nreplication had not taken place.\n\n369\n00:18:00.477 --> 00:18:03.460\nSo, this is important for\nus to think about and to be aware of.\n\n370\n00:18:03.460 --> 00:18:07.757\nThe active directory is also\nconsidered an administrative center.\n\n371\n00:18:07.757 --> 00:18:11.447\nSo we make all of our changes to the ABDS,\nit's where we go to administer, create,\n\n372\n00:18:11.447 --> 00:18:14.352\nmodify and ultimately manage\nthroughout the lifecycle, any and\n\n373\n00:18:14.352 --> 00:18:16.340\nall objects defined in the schema.\n\n374\n00:18:16.340 --> 00:18:17.452\nSo it is very important?\n\n375\n00:18:17.452 --> 00:18:19.913\nThe ADDS provides authentication for us.\n\n376\n00:18:19.913 --> 00:18:24.353\nProvides object management, provides\nauthorization as well as authentication,\n\n377\n00:18:24.353 --> 00:18:28.792\nand it does so through this over-arching\nprocess that we've been talking about and\n\n378\n00:18:28.792 --> 00:18:32.050\nthe mechanisms involved with\nour being able to do so.\n\n379\n00:18:32.050 --> 00:18:35.400\nWe talk about OUs, they were the items\nin the picture I just showed you,\n\n380\n00:18:35.400 --> 00:18:38.030\nthe little folders sitting\ninside the domain.\n\n381\n00:18:38.030 --> 00:18:41.372\nOUs are containers, something that\nare near and dear to Cherokee's heart.\n\n382\n00:18:41.372 --> 00:18:42.949\nThey're not baskets,\n&gt;&gt; [LAUGHS]\n\n383\n00:18:42.949 --> 00:18:44.005\n&gt;&gt; But we could call them that if\n\n384\n00:18:44.005 --> 00:18:46.480\nyou would like but\nwe formally call them container objects.\n\n385\n00:18:46.480 --> 00:18:49.590\nThey are objects within the domain\nthat are used to group together and\n\n386\n00:18:49.590 --> 00:18:52.060\ntherefore what we call\nformally consolidate.\n\n387\n00:18:52.060 --> 00:18:53.500\nThat's the term you'll often hear.\n\n388\n00:18:53.500 --> 00:18:57.419\nUser, computers groups, any other objects,\nanything as I mentioned we right click and\n\n389\n00:18:57.419 --> 00:19:00.740\nchoose new, from the menu and\nActive Directory users and computers.\n\n390\n00:19:00.740 --> 00:19:04.564\nAs a management MMC, or in the ADAC tool,\nwe'll be taking a look at these in\n\n391\n00:19:04.564 --> 00:19:07.323\nupcoming episodes as we get\ninto some of the hands on.\n\n392\n00:19:07.323 --> 00:19:10.420\nSome of the graphical interfaces\nshow you what's going on in there.\n\n393\n00:19:10.420 --> 00:19:13.786\nWhen we right click choose new,\nwanna create an object, we have to do so\n\n394\n00:19:13.786 --> 00:19:15.032\ninside of one or more OUs.\n\n395\n00:19:15.032 --> 00:19:18.300\nBecause this is where we\nactually place these objects.\n\n396\n00:19:18.300 --> 00:19:21.210\nIf I wanted to create user account\nI'd have to go inside an OU to be\n\n397\n00:19:21.210 --> 00:19:21.800\nable to do that.\n\n398\n00:19:21.800 --> 00:19:25.473\nNow we have built in OU,\nwe have the users OU, the computers OU,\n\n399\n00:19:25.473 --> 00:19:27.113\nthe domain controllers OU.\n\n400\n00:19:27.113 --> 00:19:31.644\nThese are called system OU's, they are\nbuilt in to the active directory inside\n\n401\n00:19:31.644 --> 00:19:34.090\nthe operating system by default, right?\n\n402\n00:19:34.090 --> 00:19:39.440\nSo we setup AD, we install, instantiate\nhave one or more domain controllers and\n\n403\n00:19:39.440 --> 00:19:42.900\nwe go, look and boom there's those\nOUs are already sitting there.\n\n404\n00:19:42.900 --> 00:19:44.570\nThose are the built-in ones.\n\n405\n00:19:44.570 --> 00:19:47.870\nAnd then we have OUs that\nare created by one or\n\n406\n00:19:47.870 --> 00:19:50.415\nmore administrators by a user\nwith appropriate rights.\n\n407\n00:19:50.415 --> 00:19:54.460\nRight-click&gt;New, one of the options\nis OU because an OU is an object.\n\n408\n00:19:54.460 --> 00:19:56.640\nDeclared in the schema,\njust like a user is.\n\n409\n00:19:56.640 --> 00:19:58.440\nDifferent type of object.\n\n410\n00:19:58.440 --> 00:20:00.780\nYou can't nest one user inside of another.\n\n411\n00:20:00.780 --> 00:20:03.040\nThat's not an object that allows for\nnesting.\n\n412\n00:20:03.040 --> 00:20:04.590\nNesting is putting one\nthing inside of another,\n\n413\n00:20:04.590 --> 00:20:06.210\nkinda like a stacking doll, right?\n\n414\n00:20:06.210 --> 00:20:07.710\nThose set of stacking dolls you see.\n\n415\n00:20:07.710 --> 00:20:09.800\nIn Russia,\nwe call them Babushka dolls, right?\n\n416\n00:20:09.800 --> 00:20:11.015\nThat's what they're called.\n\n417\n00:20:11.015 --> 00:20:13.236\nBut, not that you would know that,\nbut I used to be.\n\n418\n00:20:13.236 --> 00:20:16.376\n&gt;&gt; So we call that a leaf object then,\nI've heard that term before Adam.\n\n419\n00:20:16.376 --> 00:20:20.720\nSo like the very end, the dangling or\nthe tiniest babushka doll?\n\n420\n00:20:20.720 --> 00:20:22.395\n&gt;&gt; Would be a leaf object.\n\n421\n00:20:22.395 --> 00:20:23.330\nYou could call it that.\n\n422\n00:20:23.330 --> 00:20:25.850\nThat would be one way that we refer to it,\nabsolutely correct.\n\n423\n00:20:25.850 --> 00:20:27.530\nSo you like saying that word, don't you?\n\n424\n00:20:27.530 --> 00:20:29.292\nYou got that smile on your\nface when you said it.\n\n425\n00:20:29.292 --> 00:20:29.871\n&gt;&gt; [LAUGH] Babushka.\n\n426\n00:20:29.871 --> 00:20:31.830\n&gt;&gt; Rolls right off your tongue,\nbabushka exactly.\n\n427\n00:20:31.830 --> 00:20:35.100\nSo, yeah, when we think about stacking or\nnesting these objects.\n\n428\n00:20:35.100 --> 00:20:36.960\nA group, as an object,\n\n429\n00:20:36.960 --> 00:20:40.340\nis actually an object container that\ncan hold other objects within it.\n\n430\n00:20:40.340 --> 00:20:43.560\nYou can put one group inside of another,\none or more users inside of a group.\n\n431\n00:20:43.560 --> 00:20:45.400\nYou can stack or nest them.\n\n432\n00:20:45.400 --> 00:20:48.520\nOU's are stackable or\nnestable container objects as well.\n\n433\n00:20:48.520 --> 00:20:50.330\nThey hold other objects.\n\n434\n00:20:50.330 --> 00:20:52.340\nAnd they can hold other OU's\nthat hold other objects.\n\n435\n00:20:52.340 --> 00:20:54.590\nYou can have a hierarchy as you go down.\n\n436\n00:20:54.590 --> 00:20:57.934\nBut a user is not a container\nobject that is able to nest or\n\n437\n00:20:57.934 --> 00:21:00.290\nstack other objects inside of it.\n\n438\n00:21:00.290 --> 00:21:02.440\nSo different objects,\ncomputer's the same way, by the way.\n\n439\n00:21:02.440 --> 00:21:06.120\nYou can't stack or nest computers\ninside other computers, but user and\n\n440\n00:21:06.120 --> 00:21:12.310\ncomputer objects and printer objects,\nand contacts, all four are object types,\n\n441\n00:21:12.310 --> 00:21:16.750\nall of them can be nested or\nstacked inside other objects like OUs.\n\n442\n00:21:16.750 --> 00:21:18.367\nLike groups, for instance, right?\n\n443\n00:21:18.367 --> 00:21:19.930\nSo you have to think\nabout the logic of that.\n\n444\n00:21:19.930 --> 00:21:23.740\nBut these are gonna all be\nfound traditionally inside OUs.\n\n445\n00:21:23.740 --> 00:21:26.830\nAnd so we use OUs to be able\nto administer, manage and\n\n446\n00:21:26.830 --> 00:21:27.870\ncreate those objects.\n\n447\n00:21:27.870 --> 00:21:30.490\nJust wanna make sure you're aware of that.\n\n448\n00:21:30.490 --> 00:21:33.400\nWe do have these generic containers\nthat I was talking about,\n\n449\n00:21:33.400 --> 00:21:35.060\nwhere we store these system objects.\n\n450\n00:21:35.060 --> 00:21:36.780\nAnd then we have certain special OUs,\n\n451\n00:21:36.780 --> 00:21:40.420\nthe built-in ones, that are managed\nby the system itself, by Windows.\n\n452\n00:21:40.420 --> 00:21:44.990\nAnd we can apply policy generically to\nthese normal container objects, but\n\n453\n00:21:44.990 --> 00:21:49.440\ncertain system containers may\nnot be able to have domain or\n\n454\n00:21:49.440 --> 00:21:52.740\nGPO policy applied to them because they're\ncontrolled by the operating system.\n\n455\n00:21:52.740 --> 00:21:57.731\nSo when you turn on the advanced features\nview inside the MMC, the active directory\n\n456\n00:21:57.731 --> 00:22:01.810\nuser and computer view,\nthere are certain OUs that you don't see.\n\n457\n00:22:01.810 --> 00:22:04.752\nYou go into the normal view and\nyeah you see six, seven,eight ten,\n\n458\n00:22:04.752 --> 00:22:05.636\nwhatever they are.\n\n459\n00:22:05.636 --> 00:22:09.120\nBut there are some that are hidden\nfrom your view, you don't see them.\n\n460\n00:22:09.120 --> 00:22:13.360\nWhen you turn on the advanced features\nview, you see all these other ones.\n\n461\n00:22:13.360 --> 00:22:17.010\nThe ones that are hidden from view,\ncontrolled by the operating system, by\n\n462\n00:22:17.010 --> 00:22:21.302\nWindows itself, you cannot apply policy to\nthose because they're system containers.\n\n463\n00:22:21.302 --> 00:22:24.663\nThe operating system manages them\nseparately and they're controlled and\n\n464\n00:22:24.663 --> 00:22:28.020\nthey're not gonna be bound\ntraditionally by normal group policy.\n\n465\n00:22:28.020 --> 00:22:31.870\nBut the ones that you see in normal\nview and that you can create and\n\n466\n00:22:31.870 --> 00:22:34.520\nthat you use yourself can\nhave policy applied to them.\n\n467\n00:22:34.520 --> 00:22:36.700\nSo wanna make sure we understand\nthe difference there and\n\n468\n00:22:36.700 --> 00:22:38.700\njust have a sense of that as well, right?\n\n469\n00:22:38.700 --> 00:22:41.323\n&gt;&gt; Yeah, cuz you could be sitting there\nscratching your head and be like,\n\n470\n00:22:41.323 --> 00:22:43.917\nI know this is existing why can't I\nsee the configuration option and.\n\n471\n00:22:43.917 --> 00:22:47.086\n&gt;&gt; Or why can't I manage it with policy,\nwhy is the policy I'm applying not working\n\n472\n00:22:47.086 --> 00:22:49.976\nthe way I think it should because it's\nnot having the desired effect, and\n\n473\n00:22:49.976 --> 00:22:52.600\nyou're right, because you may not\nsee them in the advanced view.\n\n474\n00:22:52.600 --> 00:22:54.596\nAnd if you think about the logic of this,\n\n475\n00:22:54.596 --> 00:22:58.242\nwe do this because there are service\naccounts controlled by the operating\n\n476\n00:22:58.242 --> 00:23:01.648\nsystems specifically that we may not\nbe able to mess with cuz if we do,\n\n477\n00:23:01.648 --> 00:23:05.100\nthey may modify the behavior and or\nthe functionality of the system.\n\n478\n00:23:05.100 --> 00:23:09.099\nAnd the everyone group is a good example\nof this, the system group controlled\n\n479\n00:23:09.099 --> 00:23:12.745\nby the operating system that is\ntypically not bound by most policies.\n\n480\n00:23:12.745 --> 00:23:16.183\nBecause if we modify that group or\nthe guest group another one, we could turn\n\n481\n00:23:16.183 --> 00:23:19.890\naxis to the guest group on and off, but\nwe don't typically manage it will policy,\n\n482\n00:23:19.890 --> 00:23:22.580\nbecause we can mess up certain\nthings as a result of that.\n\n483\n00:23:22.580 --> 00:23:26.680\nSo, system accounts are often excluded\nfrom those policies just so you know.\n\n484\n00:23:26.680 --> 00:23:29.460\nAll right so just be aware of that,\nsome common things we wanna\n\n485\n00:23:29.460 --> 00:23:33.170\nthink about be aware of as we\ncontinue our broad conversation.\n\n486\n00:23:33.170 --> 00:23:36.541\nWe're gonna start narrowing as we get into\nsome of the future discussions coming up.\n\n487\n00:23:36.541 --> 00:23:40.220\nWe're gonna start focusing on how we\ninstall and configure domain controllers,\n\n488\n00:23:40.220 --> 00:23:43.165\nhow do we get in and create the domain\ncontrollers and set them up.\n\n489\n00:23:43.165 --> 00:23:45.181\nYou're gonna see me do some\nlive demonstrations on that.\n\n490\n00:23:45.181 --> 00:23:49.755\nBut installing the ADDS creates the domain\nOU, the domain controller's OU, and\n\n491\n00:23:49.755 --> 00:23:52.152\nthe domain itself and all that structure.\n\n492\n00:23:52.152 --> 00:23:56.043\nAll these generic containers,\nwe talked about the Domain itself,\n\n493\n00:23:56.043 --> 00:24:00.218\nthe namespace at the top,\nthe built-in containers I mentioned those.\n\n494\n00:24:00.218 --> 00:24:01.786\nThe computer's container,\n\n495\n00:24:01.786 --> 00:24:05.117\nthe foreign security principles\ncontainer is created there.\n\n496\n00:24:05.117 --> 00:24:07.453\nManaged services account,\nI was just mentioning.\n\n497\n00:24:07.453 --> 00:24:09.845\nThe users container, I mentioned is an OU.\n\n498\n00:24:09.845 --> 00:24:11.098\nThe domain controllers' OU.\n\n499\n00:24:11.098 --> 00:24:13.499\nThese are all different ones\nthat are going to be there and\n\n500\n00:24:13.499 --> 00:24:14.709\nwe've talked about these.\n\n501\n00:24:14.709 --> 00:24:18.651\nThere's also another set of these that\nshow up in the advanced features.\n\n502\n00:24:18.651 --> 00:24:20.660\nI mentioned log, well,\nI mentioned advanced features.\n\n503\n00:24:20.660 --> 00:24:22.948\nI don't think I mentioned lost and\nfound, but lost and\n\n504\n00:24:22.948 --> 00:24:26.050\nfound is one of those ones that's\nin the advanced features view.\n\n505\n00:24:26.050 --> 00:24:29.780\nProgram data, the system itself,\nI mentioned that one.\n\n506\n00:24:29.780 --> 00:24:31.407\nNTDS quotas, those are all standard.\n\n507\n00:24:31.407 --> 00:24:36.172\nAnd there's a new one in 2016 in the\nadvanced features view you haven't seen up\n\n508\n00:24:36.172 --> 00:24:40.280\nuntil now called the TPM devices,\nTrusted Platform Module devices.\n\n509\n00:24:40.280 --> 00:24:44.240\nNew container, new system container\nonly available in the advanced view.\n\n510\n00:24:44.240 --> 00:24:48.031\nYou'll only see it Server 16 domain\ncontrollers, new to Server 16.\n\n511\n00:24:48.031 --> 00:24:52.866\nStores the recovery information for the\nTPM, the Trusted Platform Module devices,\n\n512\n00:24:52.866 --> 00:24:56.222\nso we can get back into them if\nwe have to use a recovery key and\n\n513\n00:24:56.222 --> 00:24:59.540\na certificate to be able to validate and\nget back in.\n\n514\n00:24:59.540 --> 00:25:00.580\nWe can actually do that.\n\n515\n00:25:00.580 --> 00:25:01.851\nThis is new to Server 16.\n\n516\n00:25:01.851 --> 00:25:05.627\nSo it is one of those things you just\nwanna be aware of and just make sure that,\n\n517\n00:25:05.627 --> 00:25:06.870\na little testable item.\n\n518\n00:25:06.870 --> 00:25:07.600\nYou never know, right?\n\n519\n00:25:07.600 --> 00:25:10.056\nBut knowing, as we broke down for\nyou in the show notes,\n\n520\n00:25:10.056 --> 00:25:13.089\nwhich one of these containers is\ngonna be showing up the normal view,\n\n521\n00:25:13.089 --> 00:25:16.696\nwhich ones as I just mentioned are in the\nadvanced view, and in the advanced view,\n\n522\n00:25:16.696 --> 00:25:18.239\nwhat's the brand new container.\n\n523\n00:25:18.239 --> 00:25:19.670\nAll that's in the show notes.\n\n524\n00:25:19.670 --> 00:25:21.290\nBut you probably wanna take note of that.\n\n525\n00:25:21.290 --> 00:25:22.490\nThat will be important.\n\n526\n00:25:22.490 --> 00:25:24.920\nJust to make sure you're aware of that,\nright?\n\n527\n00:25:24.920 --> 00:25:28.626\n&gt;&gt; Right, any time they're introducing new\ntechnologies, new configuration items,\n\n528\n00:25:28.626 --> 00:25:30.007\nit's definitely good to know.\n\n529\n00:25:30.007 --> 00:25:32.995\n&gt;&gt; It would be helpful as\na general rule of thumb,\n\n530\n00:25:32.995 --> 00:25:37.070\nit's probably one of those things\nthat you may be asked about.\n\n531\n00:25:37.070 --> 00:25:39.697\nIt's not unrealistic,\nif you think about the logic of it,\n\n532\n00:25:39.697 --> 00:25:42.794\nthat when Microsoft brings out or\nany vendor brings out new features,\n\n533\n00:25:42.794 --> 00:25:44.443\nthey're gonna want you to use them.\n\n534\n00:25:44.443 --> 00:25:45.620\nWe're gonna start talking about them.\n\n535\n00:25:45.620 --> 00:25:48.410\nWe're gonna highlight them and those will\nbe some of the things we're often gonna\n\n536\n00:25:48.410 --> 00:25:50.860\nask about to ensure that\nyou know about them.\n\n537\n00:25:50.860 --> 00:25:52.380\nAnd you may not be using those features.\n\n538\n00:25:52.380 --> 00:25:54.550\nYou may not actually\neven be aware of them.\n\n539\n00:25:54.550 --> 00:25:56.854\nBut obviously important for\nus to call them out for you, for\n\n540\n00:25:56.854 --> 00:25:59.820\nyou to pay attention to them, study up\non them, read up on them a little bit.\n\n541\n00:25:59.820 --> 00:26:02.819\nAnd then of course, make sure you're\nprepared to answer questions about them if\n\n542\n00:26:02.819 --> 00:26:03.801\nasked, very important.\n\n543\n00:26:03.801 --> 00:26:05.043\n&gt;&gt; Well, thank you for your time, Adam.\n\n544\n00:26:05.043 --> 00:26:06.785\nYou've covered a lot in this episode.\n\n545\n00:26:06.785 --> 00:26:11.342\nAnd especially very important to think\nabout those different types of objects and\n\n546\n00:26:11.342 --> 00:26:14.181\nhow they relate together and\nhow they can be used for\n\n547\n00:26:14.181 --> 00:26:17.510\njust the most efficiency\nwithin an environment.\n\n548\n00:26:17.510 --> 00:26:19.250\nBut for this show, we are out of time.\n\n549\n00:26:19.250 --> 00:26:21.090\nSo we're gonna go ahead and sign out.\n\n550\n00:26:21.090 --> 00:26:22.256\nI've been your host, Cherokee Boose.\n\n551\n00:26:22.256 --> 00:26:23.313\n&gt;&gt; I'm Adam Gordon.\n\n552\n00:26:23.313 --> 00:26:25.310\n&gt;&gt; See you next time here at ITProTV.\n\n553\n00:26:25.310 --> 00:26:27.968\n&gt;&gt; Take care everybody.\n\n554\n00:26:27.968 --> 00:26:37.968\n[MUSIC]\n\n",
          "vimeoId": "228810196"
        },
        {
          "description": "In this episode, Adam and Cherokee take a look at what is new in server 2016. First, Adam explains Privileged Access Management (PAM), followed by Azure AD join and Microsoft Passport/Windows Hello for Business. They also explain various management tolls available.",
          "length": "1894",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-4-install_configure_domain_controllers_pt4-080717-PGM.00_31_18_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-4-install_configure_domain_controllers_pt4-080717-PGM.00_31_18_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-1-4-install_configure_domain_controllers_pt4-080717-PGM.00_31_18_08.Still001-sm.jpg",
          "title": "Install / Configure Domain Controllers Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:01.190\nWelcome to ITProTV.\n\n2\n00:00:01.190 --> 00:00:03.060\nI'm your host, Don Pezet.\n\n3\n00:00:03.060 --> 00:00:06.317\nComing at you live from San Francisco,\nCalifornia [CROSSTALK].\n\n4\n00:00:06.317 --> 00:00:08.495\n[MUSIC]\n\n5\n00:00:08.495 --> 00:00:10.745\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:10.745 --> 00:00:16.830\n&gt;&gt; Welcome, ladies and gentlemen to your\nIdentity with Windows Server 2016 Series.\n\n7\n00:00:16.830 --> 00:00:18.820\nI'm your show host, Cherokee Boose.\n\n8\n00:00:18.820 --> 00:00:21.760\nIn this episode we'll continue\ntalking about installing and\n\n9\n00:00:21.760 --> 00:00:23.810\nconfiguring domain controllers.\n\n10\n00:00:23.810 --> 00:00:26.500\nAnd back in studios with us today,\nwe have Mr Adam Gordon.\n\n11\n00:00:26.500 --> 00:00:27.780\nHow are you today Adam?\n\n12\n00:00:27.780 --> 00:00:30.485\n&gt;&gt; Good,\ngood hopefully everybody is doing well.\n\n13\n00:00:30.485 --> 00:00:33.530\nI look forward to getting more\nexciting and interesting conversations\n\n14\n00:00:33.530 --> 00:00:37.830\nabout ADDS and all the supporting\nelements that go into making what it is.\n\n15\n00:00:37.830 --> 00:00:41.050\nThought we'd start off this conversation\nby focusing on some of the newer features\n\n16\n00:00:41.050 --> 00:00:44.250\nand capabilities associated\nwith Server 16 and ADDS.\n\n17\n00:00:44.250 --> 00:00:49.590\nThere are many, many things that are new\nor reinvented, perhaps reimagined,\n\n18\n00:00:49.590 --> 00:00:53.080\nreintegrated, reinvigorated\ninside of Server 16.\n\n19\n00:00:53.080 --> 00:00:58.080\nWe mentioned one in the last episode,\nwe talked about the TPM module OU.\n\n20\n00:00:58.080 --> 00:01:01.900\nThat new advanced feature View OU\nthat's a system control container.\n\n21\n00:01:01.900 --> 00:01:06.490\nThat contains the recovery information for\nTPM capable devices new to 2016.\n\n22\n00:01:06.490 --> 00:01:11.320\nBut there are other areas in capabilities\nthat we thought we'd focus on.\n\n23\n00:01:11.320 --> 00:01:13.610\nSeveral that I picked out in\nparticular I thought we'd discuss.\n\n24\n00:01:13.610 --> 00:01:16.840\nIf you join me over here on the veranda\nwhere we could take a look.\n\n25\n00:01:16.840 --> 00:01:20.581\nYou will see that we have,\nvery first thing, something called PAM,\n\n26\n00:01:20.581 --> 00:01:22.400\nPrivileged Access Management.\n\n27\n00:01:22.400 --> 00:01:24.452\nPAM is a new feature in 2016.\n\n28\n00:01:24.452 --> 00:01:27.880\nThe concept itself is not new but\nthe way we implement it is.\n\n29\n00:01:27.880 --> 00:01:31.020\nProbably better way of framing\nthat conversation so PAM or\n\n30\n00:01:31.020 --> 00:01:33.280\nPrivileged Access Management for ADDS.\n\n31\n00:01:33.280 --> 00:01:37.700\nThe idea here based on an older\ntechnology Microsoft Identity Manager\n\n32\n00:01:37.700 --> 00:01:39.460\nwhich is older technology.\n\n33\n00:01:39.460 --> 00:01:42.706\nKinda of been around for\nawhile disappeared so to speak and\n\n34\n00:01:42.706 --> 00:01:44.880\nthen retired in a general sense.\n\n35\n00:01:44.880 --> 00:01:47.560\nBut is reinvigorated and reimagined here.\n\n36\n00:01:47.560 --> 00:01:51.530\nAllows us to use the idea of\nseparating the permissions required for\n\n37\n00:01:51.530 --> 00:01:56.840\ncertain administrative activities from\nthe permissions of the current AD user.\n\n38\n00:01:56.840 --> 00:01:58.663\nThe idea would be almost\nlike a super user,\n\n39\n00:01:58.663 --> 00:02:03.120\nor pseudo concept that we see in Linux,\nUnix where we have a separate account.\n\n40\n00:02:03.120 --> 00:02:07.350\nThis is a concept we've talked about for\nmanym many years now.\n\n41\n00:02:07.350 --> 00:02:11.860\nThis is not new, as a thought process\nthe standing guidance best practice\n\n42\n00:02:11.860 --> 00:02:15.722\nrecommendation in general in every\noperating system, not just in Windows.\n\n43\n00:02:15.722 --> 00:02:17.860\nIt's just a matter of\nhow you implement it,\n\n44\n00:02:17.860 --> 00:02:20.120\nis the idea you have\nyour normal user account.\n\n45\n00:02:20.120 --> 00:02:23.332\nAverage everyday account\nyou know Adam@ITProTV,\n\n46\n00:02:23.332 --> 00:02:27.830\nCherokee@ITProTV, whatever that account\nwould be for us as generic users.\n\n47\n00:02:27.830 --> 00:02:30.930\nWe go on about our business,\ndo the normal stuff we would do.\n\n48\n00:02:30.930 --> 00:02:34.550\nBut then as domain, or\nenterprise, or schema admins, or\n\n49\n00:02:34.550 --> 00:02:37.480\nwhatever we happen to be,\nhave a separate account.\n\n50\n00:02:37.480 --> 00:02:39.950\nLiterally another account that we use\n\n51\n00:02:39.950 --> 00:02:43.100\nin lieu of our normal account to\nperform administrative functions.\n\n52\n00:02:43.100 --> 00:02:46.880\nSo we will use that\nextra set of privileges.\n\n53\n00:02:46.880 --> 00:02:50.160\nBut to do so in a way that will\nnot affect the normal users.\n\n54\n00:02:50.160 --> 00:02:54.080\nAnd in case the normal user account is\ncompromised, will not give the hacker,\n\n55\n00:02:54.080 --> 00:02:57.510\nthe bad actor, the threat source,\nwhatever you choose to call them,\n\n56\n00:02:57.510 --> 00:03:00.380\nthe advantage of getting\nthat credential easily.\n\n57\n00:03:00.380 --> 00:03:02.750\nAnd so the thought process makes sense.\n\n58\n00:03:02.750 --> 00:03:06.080\nUsers request permissions\nto perform activities that\n\n59\n00:03:06.080 --> 00:03:08.880\nrequire these elevated\nprivileges using PAM.\n\n60\n00:03:08.880 --> 00:03:13.890\nAnd instead of having that access granted\non a permanent basis to their one account,\n\n61\n00:03:13.890 --> 00:03:15.760\nwe have this other capability.\n\n62\n00:03:15.760 --> 00:03:19.950\nWe gain access on a temporary basis,\ngranting access only for\n\n63\n00:03:19.950 --> 00:03:23.650\nthat session for\nthis particular exchange of information.\n\n64\n00:03:23.650 --> 00:03:27.050\nAnd then it's removed again and\nthe PAM process manages this,\n\n65\n00:03:27.050 --> 00:03:29.550\nallowing us to essentially\nhave one account\n\n66\n00:03:29.550 --> 00:03:32.550\nthat's granted temporarily\nprivileges under certain conditions.\n\n67\n00:03:32.550 --> 00:03:34.590\nSo it's a slightly different\nway of implementing it,\n\n68\n00:03:34.590 --> 00:03:37.320\nthen we would see with Linux,\nwhere we have two separate accounts,\n\n69\n00:03:37.320 --> 00:03:39.662\na super user account and\na normal user account.\n\n70\n00:03:39.662 --> 00:03:42.650\nWe have had this capability in Windows for\nsome time.\n\n71\n00:03:42.650 --> 00:03:46.956\nIn the sense that we often say create\nextra accounts that are administrative in\n\n72\n00:03:46.956 --> 00:03:49.567\nnature and\nhave users use them when necessary,\n\n73\n00:03:49.567 --> 00:03:51.473\nnot the same thing as one account.\n\n74\n00:03:51.473 --> 00:03:54.958\nLet's temporily assign\nthese elevated privileges\n\n75\n00:03:54.958 --> 00:03:58.212\nbased on a certain requirement or\ncertain need.\n\n76\n00:03:58.212 --> 00:04:02.558\nAnd you having the ability to authenticate\nor approve that you can legitimately claim\n\n77\n00:04:02.558 --> 00:04:05.410\nthe set of permissions for\na period of time.\n\n78\n00:04:05.410 --> 00:04:07.148\nPAM lets us do this in\na slightly different way.\n\n79\n00:04:07.148 --> 00:04:10.100\nSo if we go back here,\nright just giving you the overview\n\n80\n00:04:10.100 --> 00:04:13.150\nof the website here again and the show\nnotes encourage you to take a look.\n\n81\n00:04:13.150 --> 00:04:14.570\nFind out a little bit more about it.\n\n82\n00:04:14.570 --> 00:04:16.330\nGives us some information.\n\n83\n00:04:16.330 --> 00:04:19.930\nTalks to us about the idea\nof how this works.\n\n84\n00:04:19.930 --> 00:04:22.830\nMakes reference to the fact\nthat we are implementing\n\n85\n00:04:22.830 --> 00:04:25.830\nthe Microsoft Identity Management\nthought process through\n\n86\n00:04:25.830 --> 00:04:26.990\nPrivileged Identity Manager.\n\n87\n00:04:28.440 --> 00:04:32.530\nPAM is set up here, as you can see\nusing this idea of using JIT or\n\n88\n00:04:32.530 --> 00:04:34.960\njust in time administration.\n\n89\n00:04:34.960 --> 00:04:39.060\nSo we have this idea of being able to\nprepare identity privilege groups.\n\n90\n00:04:39.060 --> 00:04:42.550\nProtect, set up the authentication\nrequirements to protect the use of them,\n\n91\n00:04:42.550 --> 00:04:44.320\nto strictly monitor them.\n\n92\n00:04:44.320 --> 00:04:47.730\nOperate by making sure you have approval,\nbut only at the point of contact.\n\n93\n00:04:47.730 --> 00:04:49.850\nWhen you need it for\nthe period of time you need it for.\n\n94\n00:04:49.850 --> 00:04:54.750\nAnd monitor to ensure that we have\nan auditing verification validation entity\n\n95\n00:04:54.750 --> 00:04:57.620\nthat's gonna allow us to say yeah,\nCherekee did elevate her privilege\n\n96\n00:04:57.620 --> 00:05:01.170\nuse this at this period of time for\nthis amount of time.\n\n97\n00:05:01.170 --> 00:05:03.360\nAnd then stop using it and\nwe can validate or\n\n98\n00:05:03.360 --> 00:05:07.990\nverify this activity took place over\nten minutes or whatever it was.\n\n99\n00:05:07.990 --> 00:05:11.718\nSo they go through the logic here it's\nbased on your capabilities in ADDS for\n\n100\n00:05:11.718 --> 00:05:14.520\ndomain-based accounts and authorization.\n\n101\n00:05:14.520 --> 00:05:16.590\nObviously need to be in\na domain to be able to do this,\n\n102\n00:05:16.590 --> 00:05:18.520\nso please keep that in mind.\n\n103\n00:05:18.520 --> 00:05:22.490\nWe do separate the ID of those accounts\nby having a bastion domain where\n\n104\n00:05:22.490 --> 00:05:27.330\nwe're gonna be able to have a cutout or\na capability to be able to manage.\n\n105\n00:05:27.330 --> 00:05:30.770\nBut not necessarily have this inside\nthe normal production domain.\n\n106\n00:05:30.770 --> 00:05:32.050\nIt's kind of interesting.\n\n107\n00:05:33.110 --> 00:05:38.030\nIf we go in here, let me just do\nthis real quick and just zoom in so\n\n108\n00:05:38.030 --> 00:05:40.540\nwe can see that just a little bit easier.\n\n109\n00:05:40.540 --> 00:05:42.730\nAnd bring this picture up here.\n\n110\n00:05:42.730 --> 00:05:45.050\nCould we go to full screen just so\nwe could see this real quick?\n\n111\n00:05:45.050 --> 00:05:48.840\nLet me just get rid of [INAUDIBLE]\npage helpful information.\n\n112\n00:05:48.840 --> 00:05:51.370\nYou know, if it was helpful, by putting\nthat up when I'm trying to view it, it's\n\n113\n00:05:51.370 --> 00:05:54.650\nnot very helpful when you do that when\nI'm in the middle of trying to view it.\n\n114\n00:05:54.650 --> 00:05:57.740\nAll right, so anyways you can see\nhere that we have a corp domain,\n\n115\n00:05:57.740 --> 00:05:59.160\njust generically our normal domain here.\n\n116\n00:05:59.160 --> 00:06:00.820\nWe have what's called the bastion domain,\n\n117\n00:06:00.820 --> 00:06:04.150\nthe security domain,\nas you can see it's the cut out domain.\n\n118\n00:06:04.150 --> 00:06:06.410\nNotice there's an arrow there,\nthe PAM Trust,\n\n119\n00:06:06.410 --> 00:06:11.270\nthat is going to allow the users from the\nbastion domain, these elevated accounts,\n\n120\n00:06:11.270 --> 00:06:14.780\nto be able to be trusted and\nbe given access when necessary.\n\n121\n00:06:14.780 --> 00:06:18.210\nSo that we can not have them just\nhanging around in the normal domain, but\n\n122\n00:06:18.210 --> 00:06:20.645\nhave them available when necessary.\n\n123\n00:06:20.645 --> 00:06:23.360\nAnd so they go through,\nthey being Microsoft through\n\n124\n00:06:23.360 --> 00:06:27.232\nthe documentation here go through and\nkind of talk about the logic of this.\n\n125\n00:06:27.232 --> 00:06:31.140\nAnd just show you how this is going to\nwork on the, I'll just bump this one more\n\n126\n00:06:31.140 --> 00:06:36.590\ntime, and make that just a little\nbigger and come back down here.\n\n127\n00:06:36.590 --> 00:06:37.450\nNot much better but\n\n128\n00:06:37.450 --> 00:06:42.720\na little bit better because you can see\nthat our ability to be able to have\n\n129\n00:06:42.720 --> 00:06:48.310\na user in the bastion domain down here\nwith whatever multi-factor authentication.\n\n130\n00:06:48.310 --> 00:06:50.560\nWhatever requirements may be in place for\n\n131\n00:06:50.560 --> 00:06:55.940\nus to authenticate, plus or through\nour Microsoft Identity Manager portal.\n\n132\n00:06:55.940 --> 00:06:58.010\nLeads to the application of a policy.\n\n133\n00:06:58.010 --> 00:07:01.320\nThese little green kind of\ncircles have numbers in them, and\n\n134\n00:07:01.320 --> 00:07:03.880\nyou can track the numbers and the steps\nover here, so you can go through and\n\n135\n00:07:03.880 --> 00:07:05.100\nsee the whole thing.\n\n136\n00:07:05.100 --> 00:07:09.960\nAnd so we're able to apply a policy, and\nthen as a result, we're able to apply\n\n137\n00:07:09.960 --> 00:07:13.730\nthat set of requirements and\nthat ability to use that credential.\n\n138\n00:07:13.730 --> 00:07:16.860\nAnd you'll see that credential\nis then used over here\n\n139\n00:07:16.860 --> 00:07:20.460\nto be able to perform an administrative\nfunction, whatever that is here,\n\n140\n00:07:20.460 --> 00:07:23.320\nin this case against an HR\ndatabase of some kind.\n\n141\n00:07:23.320 --> 00:07:27.900\nMaybe we're updating a record,\nmaybe making a change to a user status,\n\n142\n00:07:27.900 --> 00:07:30.280\nmaybe a user's been put in a new job role.\n\n143\n00:07:30.280 --> 00:07:34.920\nWe have to update them in our Enterprise\nResource Management, our System,\n\n144\n00:07:34.920 --> 00:07:39.410\nmaybe that's SAP or people soft or\nwhatever it may be, right.\n\n145\n00:07:39.410 --> 00:07:43.140\nAnd the HR Manager has to go and\nmake an update to the record.\n\n146\n00:07:43.140 --> 00:07:47.428\nThey could use this additional user\naccount from the bastion domain known as\n\n147\n00:07:47.428 --> 00:07:50.116\nBastion Gen was the name\nof the user back there.\n\n148\n00:07:50.116 --> 00:07:52.855\nAnd by using this credential\njust to do the update,\n\n149\n00:07:52.855 --> 00:07:55.476\nthey've given admin\nrights inside the system.\n\n150\n00:07:55.476 --> 00:07:58.577\nAnd they're not using a normal account\nwhere we would expose that account\n\n151\n00:07:58.577 --> 00:08:01.242\npotentially by giving them Write\nthose rights consistently.\n\n152\n00:08:01.242 --> 00:08:04.371\nSo PAM allows us to be able to\ndo this in an on-demand way,\n\n153\n00:08:04.371 --> 00:08:08.613\nbut sets up a separate domain with these\nelevated user accounts specifically\n\n154\n00:08:08.613 --> 00:08:11.920\ndesigned just to be used\nunder certain circumstances.\n\n155\n00:08:11.920 --> 00:08:15.924\nKind of interesting, called a Bastian\ndomain, that's the name of the,\n\n156\n00:08:15.924 --> 00:08:19.293\nwhat we would call the shadow group or\nthe shadow set of users.\n\n157\n00:08:19.293 --> 00:08:23.145\nIf we go back to full screen cuz I'm\nsitting right on top of it there,\n\n158\n00:08:23.145 --> 00:08:27.878\nyou'll see here that the Bastion HR admin\ngroup right here is the group that's that\n\n159\n00:08:27.878 --> 00:08:30.130\nshadow group that I was talking about.\n\n160\n00:08:30.130 --> 00:08:32.350\nIt's down here on the bottom line.\n\n161\n00:08:32.350 --> 00:08:35.650\nAnd that this account is made a member\nof that group after they authenticated\n\n162\n00:08:35.650 --> 00:08:38.720\nthe policy applied, which gives them\nthe right to be able to go up and\n\n163\n00:08:38.720 --> 00:08:40.300\ndo this administration on demand.\n\n164\n00:08:40.300 --> 00:08:42.721\nAnd then by removing them,\nthey're no longer gonna have those rights.\n\n165\n00:08:42.721 --> 00:08:46.060\nOr by simply not allowing\nthem to continue to use that.\n\n166\n00:08:46.060 --> 00:08:46.600\n&gt;&gt; That makes sense.\n\n167\n00:08:46.600 --> 00:08:48.640\nYou can do this all right\nwithin Active Directory and\n\n168\n00:08:48.640 --> 00:08:51.050\njust adding or\nremoving them to that particular group?\n\n169\n00:08:51.050 --> 00:08:53.390\n&gt;&gt; Its essentially just on-demand for\nthe period of the need, for\n\n170\n00:08:53.390 --> 00:08:54.200\nthe period of the request.\n\n171\n00:08:54.200 --> 00:08:57.840\nThe trick is where as you could see at the\nbottom here, right, we are authenticating\n\n172\n00:08:57.840 --> 00:09:00.550\nhere with multi-factor, particularly\nwith multi-factor authentication.\n\n173\n00:09:00.550 --> 00:09:04.190\nWe have a policy, probably several\npolicies, but at least one being applied\n\n174\n00:09:04.190 --> 00:09:07.360\nto control, yeah, are you the right\nuser coming from the right domain\n\n175\n00:09:07.360 --> 00:09:12.130\nwith the right group, the right access,\nthe right multi-factor set of credentials.\n\n176\n00:09:12.130 --> 00:09:14.330\nThe PIN, the passwords, the smart card.\n\n177\n00:09:14.330 --> 00:09:16.500\nWhatever we would do in that respect.\n\n178\n00:09:16.500 --> 00:09:20.260\nAnd if all that comes together, maybe\nit's during business hours you're on-prem\n\n179\n00:09:20.260 --> 00:09:24.300\non a company controlled asset, we then\nallow you to have the rights to be able to\n\n180\n00:09:24.300 --> 00:09:26.130\ndo this activity and\nthen remove them afterwards.\n\n181\n00:09:26.130 --> 00:09:28.590\nSo it's essentially\nan on-demand thought process,\n\n182\n00:09:28.590 --> 00:09:30.470\nbut one that does allow\nus to leverage that.\n\n183\n00:09:30.470 --> 00:09:33.340\nSo that's kinda nice,\nan interesting thought process.\n\n184\n00:09:33.340 --> 00:09:35.270\nWe have another new idea here.\n\n185\n00:09:35.270 --> 00:09:37.010\nLet me just get out of the window and\n\n186\n00:09:37.010 --> 00:09:41.100\nzoom out back to normal size so\nwe can see it a little more clearly.\n\n187\n00:09:41.100 --> 00:09:43.440\nWe have something called Azure AD Join.\n\n188\n00:09:43.440 --> 00:09:45.990\nThis is yet another thought process,\nanother idea.\n\n189\n00:09:45.990 --> 00:09:48.440\nNow, Azure AD is not new, let me be clear.\n\n190\n00:09:48.440 --> 00:09:50.260\nCertainly not new to Server 16.\n\n191\n00:09:50.260 --> 00:09:52.410\nWe've had Azure AD for some time now.\n\n192\n00:09:52.410 --> 00:09:55.490\nThis is active directory Cloud-based,\nright?\n\n193\n00:09:55.490 --> 00:09:57.770\nHosted in the Microsoft Fabric,\nthe Azure Fabric.\n\n194\n00:09:59.100 --> 00:10:03.690\nThis supports hybrid environments to\nconnect on-prem domain joined devices\n\n195\n00:10:03.690 --> 00:10:08.300\nout to the Azure Cloud for Cloud only\nenvironments and or hybrid environments.\n\n196\n00:10:08.300 --> 00:10:10.754\nYou could do this with on-prem and\nCloud-based,\n\n197\n00:10:10.754 --> 00:10:13.560\nCloud-based only depending on\nhow you choose to do this.\n\n198\n00:10:13.560 --> 00:10:19.262\nMany Office 365 deployments today are\nusing Azure AD as the exclusive domain or\n\n199\n00:10:19.262 --> 00:10:21.160\ndirectory provider.\n\n200\n00:10:21.160 --> 00:10:23.140\nMeaning it's a Cloud-only environment,\n\n201\n00:10:23.140 --> 00:10:26.790\nwhere the Azure AD takes the place\nof the on-prem AD, as you migrate.\n\n202\n00:10:26.790 --> 00:10:28.640\nAnd as a result,\nall your users are created and\n\n203\n00:10:28.640 --> 00:10:31.920\nmanaged through Microsoft data\ncenters in the Azure fabric.\n\n204\n00:10:31.920 --> 00:10:35.481\nYou no longer maintain domain controllers\non-prem, that would be the Cloud-only,\n\n205\n00:10:35.481 --> 00:10:38.080\nor Cloud-based environment\nthought process.\n\n206\n00:10:38.080 --> 00:10:39.960\nIn some cases you have\na hybrid environment,\n\n207\n00:10:39.960 --> 00:10:43.060\nwhere you maintain\ndirectory servers on-prem.\n\n208\n00:10:43.060 --> 00:10:46.523\nYou have the ability to localize\nyour directory and maintain it, but\n\n209\n00:10:46.523 --> 00:10:50.420\nyou can also use it in the Cloud and\ndo directory sync between the two, right?\n\n210\n00:10:50.420 --> 00:10:52.140\nSo you have the ability to maintain both.\n\n211\n00:10:52.140 --> 00:10:53.440\nThat'd be a hybrid environment.\n\n212\n00:10:53.440 --> 00:10:54.688\nAnd so we could do this.\n\n213\n00:10:54.688 --> 00:10:58.120\nWe would no longer need to just\nexclusively own our own directory.\n\n214\n00:10:58.120 --> 00:11:00.490\nWe no longer exclusively\nhave to worry about that.\n\n215\n00:11:00.490 --> 00:11:04.370\nWe can share this and indeed offload\ndirectly into the Cloud if we choose to.\n\n216\n00:11:04.370 --> 00:11:08.576\nWe support connecting devices that\nare certainly corporate owned.\n\n217\n00:11:08.576 --> 00:11:10.830\nBut also devices that\nnormally cannot join or\n\n218\n00:11:10.830 --> 00:11:14.286\nare not domain-joined as we would\ntraditionally think about them.\n\n219\n00:11:14.286 --> 00:11:17.809\nCuz they're not on-premises and\ntherefore are mobile and remote.\n\n220\n00:11:17.809 --> 00:11:21.600\nSmartphones, tablets, things like that\nthat would be outside traditionally.\n\n221\n00:11:21.600 --> 00:11:25.550\nAnd we can also integrate and leverage\nexisting MDM, mobile device management,\n\n222\n00:11:25.550 --> 00:11:29.990\nscenarios by using this as the back\nend directory service for this.\n\n223\n00:11:29.990 --> 00:11:34.970\nSet up shared devices, we can do imaging,\ncorporate owned devices.\n\n224\n00:11:34.970 --> 00:11:39.791\nThe Microsoft Intune platform,\nwhich is the system center config manager\n\n225\n00:11:39.791 --> 00:11:44.550\nCloud version that Microsoft has\nthat you can use that's Cloud-based.\n\n226\n00:11:44.550 --> 00:11:46.400\nSometimes they call it System Center Lite,\n\n227\n00:11:46.400 --> 00:11:49.102\nthat's what you kinda hear people\nrefer to it generically as.\n\n228\n00:11:49.102 --> 00:11:52.780\nBut Intune,\nwhich is the Cloud online version for\n\n229\n00:11:52.780 --> 00:11:55.790\nSystem Center Config Manager\nin particular,\n\n230\n00:11:55.790 --> 00:11:59.590\nleverages Azure AD to create these\ndevices and do all this stuff there.\n\n231\n00:11:59.590 --> 00:12:03.090\nSo Azure AD Join is something,\nit's becoming more and more common.\n\n232\n00:12:03.090 --> 00:12:07.990\nThis website has some usage scenarios\naround AD Join, specifically,\n\n233\n00:12:07.990 --> 00:12:10.990\nhow you leverage this, how you would set\nthis up, what you would do with this.\n\n234\n00:12:10.990 --> 00:12:14.280\nYou need to have Windows 10\nrunning on the client side.\n\n235\n00:12:14.280 --> 00:12:17.300\nServer 16 is your infrastructure\ntypically on the back-end.\n\n236\n00:12:17.300 --> 00:12:19.290\nSo, just want to keep that in mind.\n\n237\n00:12:19.290 --> 00:12:23.380\nBut it's an SSO, a single sign-on\nenvironment, linking things like Office\n\n238\n00:12:23.380 --> 00:12:28.470\n365, as I said, which is these days\nbecoming more and more common, right?\n\n239\n00:12:28.470 --> 00:12:30.340\nSo something just to consider.\n\n240\n00:12:30.340 --> 00:12:33.540\nSo they go through some\ndifferent scenarios here.\n\n241\n00:12:33.540 --> 00:12:37.780\nSome of the deployment considerations for\nAzure AD Join, enabling users to join\n\n242\n00:12:37.780 --> 00:12:42.110\na company owned device directly to the\nAzure AD, even though its a mobile device.\n\n243\n00:12:42.110 --> 00:12:43.410\nHow you would do this.\n\n244\n00:12:43.410 --> 00:12:47.450\nThey've got a nice set of how-to's,\nwhich is why I like this particular page.\n\n245\n00:12:47.450 --> 00:12:49.260\nHow do you set up device registration?\n\n246\n00:12:49.260 --> 00:12:54.560\nHow do you set up a new Windows 10 device\nduring set up for Windows Azure AD?\n\n247\n00:12:54.560 --> 00:12:55.290\nCorrect me if I'm wrong, but\n\n248\n00:12:55.290 --> 00:12:58.630\nI think in the library we have some\nof this Windows 10 related stuff.\n\n249\n00:12:58.630 --> 00:13:00.100\nHow we set up some of this stuff for\n\n250\n00:13:00.100 --> 00:13:02.890\nsome of the shows that would have\nbeen done around Windows 10.\n\n251\n00:13:02.890 --> 00:13:06.930\nSo something to look at or [CROSSTALK]\n&gt;&gt; Working on Windows 10 as we speak.\n\n252\n00:13:06.930 --> 00:13:09.555\n&gt;&gt; I know Ronnie's done\na great set of episodes or\n\n253\n00:13:09.555 --> 00:13:12.934\na whole set of shows around\nOffice 365 Administration.\n\n254\n00:13:12.934 --> 00:13:16.800\nWe'll have certainly talked about Azure AD\nthere as part of that knowledge base.\n\n255\n00:13:16.800 --> 00:13:20.520\nSo a couple of different errors you can go\ntake a look at it in and certainly see it.\n\n256\n00:13:20.520 --> 00:13:23.676\nI know we've talk about it a little bit,\nand the system center,\n\n257\n00:13:23.676 --> 00:13:25.084\nMCC Cloud related content.\n\n258\n00:13:25.084 --> 00:13:27.674\nYou helped me work on and\nDaniel helped me work on.\n\n259\n00:13:27.674 --> 00:13:31.255\nBecause we have those pieces where we're\ntalking about leveraging Azure AD and\n\n260\n00:13:31.255 --> 00:13:32.338\nleveraging the Cloud.\n\n261\n00:13:32.338 --> 00:13:35.090\nThings like off-prem monitoring and\nsome of that stuff with SCOM.\n\n262\n00:13:35.090 --> 00:13:37.102\nSo we mentioned in a bunch\nof different places,\n\n263\n00:13:37.102 --> 00:13:38.877\nyou can certainly find out more about it.\n\n264\n00:13:38.877 --> 00:13:40.556\nSo just some things to consider.\n\n265\n00:13:40.556 --> 00:13:44.433\nBut how you join a corporate owned device,\nhow you join a personal device.\n\n266\n00:13:44.433 --> 00:13:48.887\nDomain joining a personal device to\nthe organization, take your home laptop or\n\n267\n00:13:48.887 --> 00:13:50.551\nhome desktop or home tablet.\n\n268\n00:13:50.551 --> 00:13:54.699\nJoin it, so you can have that corporate\nowned space where you can see information,\n\n269\n00:13:54.699 --> 00:13:56.020\nhow policy applied to it.\n\n270\n00:13:56.020 --> 00:13:58.320\nWe walk you through\nthe logic of how to do this.\n\n271\n00:13:58.320 --> 00:14:00.513\nSo this one is also gonna be very helpful.\n\n272\n00:14:00.513 --> 00:14:03.668\nAnd then the final one of all\nthe ones that are available,\n\n273\n00:14:03.668 --> 00:14:07.811\nwhat we now are referring to is\nWindows Hello for Business in Windows 10,\n\n274\n00:14:07.811 --> 00:14:11.400\nused to, and still is sometimes\ncalled Microsoft Passport.\n\n275\n00:14:11.400 --> 00:14:13.620\nKinda very old name for the technology.\n\n276\n00:14:13.620 --> 00:14:15.570\nIt's been around for a long time.\n\n277\n00:14:15.570 --> 00:14:18.860\nWindows Live ID, Windows Passport,\nyou hear that referred to for\n\n278\n00:14:18.860 --> 00:14:19.710\na bunch of different stuff.\n\n279\n00:14:19.710 --> 00:14:23.690\nMicrosoft Passport has really morphed\ninto Windows Hello for Business.\n\n280\n00:14:23.690 --> 00:14:26.834\nWho shot that series of episodes\nwith you're friend, right.\n\n281\n00:14:26.834 --> 00:14:29.118\n&gt;&gt; [CROSSTALK] Mike and Don Pezet.\n\n282\n00:14:29.118 --> 00:14:32.808\n&gt;&gt; Right, Don did that, where they did\nthe whole overview on Windows Hello for\n\n283\n00:14:32.808 --> 00:14:36.169\nBusiness, how it worked and\nshowed you how to set up start to finish.\n\n284\n00:14:36.169 --> 00:14:38.959\nGreat set of shows, if you haven't\nseen that, definitely want to go check\n\n285\n00:14:38.959 --> 00:14:41.900\nout the deep dive there cuz we're not\ngonna go into the kind of detail they did.\n\n286\n00:14:41.900 --> 00:14:44.844\nThey put together several,\nprobably what, at least eight, nine,\n\n287\n00:14:44.844 --> 00:14:46.510\nten shows worth of content around it.\n\n288\n00:14:46.510 --> 00:14:47.163\n&gt;&gt; He was here for a week.\n\n289\n00:14:47.163 --> 00:14:48.540\n&gt;&gt; Yeah, so did a lot of stuff.\n\n290\n00:14:48.540 --> 00:14:51.430\nBut on this it's just mentioning\nthe fact that it's there.\n\n291\n00:14:51.430 --> 00:14:55.990\nBut this provides certificate based\nauthentication for infrastructure,\n\n292\n00:14:55.990 --> 00:14:59.180\nreplaces the use of passwords,\nkind of trying to move away from that.\n\n293\n00:14:59.180 --> 00:15:03.155\nUsing certificates or other multi-factor\nauthentication mechanisms, right?\n\n294\n00:15:03.155 --> 00:15:05.090\nSo we're looking at that.\n\n295\n00:15:05.090 --> 00:15:09.440\nIt allows you to authenticate through an\non-prem AD account, the Azure AD account.\n\n296\n00:15:09.440 --> 00:15:12.980\nSo Azure Join, AD Join could\nbe used with this as well, or\n\n297\n00:15:12.980 --> 00:15:17.770\nany service that will support this idea\nof fast identity online authentication.\n\n298\n00:15:17.770 --> 00:15:22.490\nSo it could be some sort of a web\nfederated solution, a WFS provider,\n\n299\n00:15:22.490 --> 00:15:23.320\nthings like that.\n\n300\n00:15:23.320 --> 00:15:26.860\nSo these are all gonna be capabilities or\npossibilities with this.\n\n301\n00:15:26.860 --> 00:15:28.130\nSo taking a look at Hello.\n\n302\n00:15:28.130 --> 00:15:30.000\nThis is on the business side, right?\n\n303\n00:15:30.000 --> 00:15:33.460\nSo Windows 10 for Business,\nWindows 10 Enterprise, things like that.\n\n304\n00:15:33.460 --> 00:15:34.520\nNot the Home Edition.\n\n305\n00:15:34.520 --> 00:15:35.930\nBut taking a look at this,\n\n306\n00:15:35.930 --> 00:15:38.920\nyou can see that there's some\ngood information here, right?\n\n307\n00:15:38.920 --> 00:15:41.798\nAllows you,\nyou have to have some hardware.\n\n308\n00:15:41.798 --> 00:15:46.893\nSo you need to have a certain TPM version\n1.2 or 2.0 or better when available.\n\n309\n00:15:46.893 --> 00:15:51.601\nYou'll need to be able to, not only\ncontrol for, but setup and define policies\n\n310\n00:15:51.601 --> 00:15:56.257\naround the complexity link to the PIN\nthat will be used to identify the device.\n\n311\n00:15:56.257 --> 00:15:58.305\nSo just wanna make sure\nyou're aware of that.\n\n312\n00:15:58.305 --> 00:16:01.521\nHello has to be enabled\nat the Enterprise level.\n\n313\n00:16:01.521 --> 00:16:04.574\nThere's policies that are turned on or\nenabling that technology so\n\n314\n00:16:04.574 --> 00:16:05.680\nit can be utilized.\n\n315\n00:16:05.680 --> 00:16:08.960\nThere's some infrastructure on\nthe back end that has to be set up.\n\n316\n00:16:08.960 --> 00:16:13.229\nBut you'll see that we generate\na set of keys on the hardware, or\n\n317\n00:16:13.229 --> 00:16:17.591\nthrough a software based TPM,\na hardware or software based TPM.\n\n318\n00:16:17.591 --> 00:16:22.510\nAnd then these device storage mechanisms,\nthe TPM, the Trusted Platform Module,\n\n319\n00:16:22.510 --> 00:16:27.027\nwill store those keys and allow us to\nthen leverage them for authentication.\n\n320\n00:16:27.027 --> 00:16:30.995\nAnd we attest to the fact that the keys\nare installed in the device and\n\n321\n00:16:30.995 --> 00:16:32.952\ncan authenticate the hardware.\n\n322\n00:16:32.952 --> 00:16:36.197\nAnd that's how we actually\nare then able to authenticate.\n\n323\n00:16:36.197 --> 00:16:40.229\nAnd then as a result you're able\nto leverage the domain joined, or\n\n324\n00:16:40.229 --> 00:16:42.440\nAzure AD Joined capabilities.\n\n325\n00:16:42.440 --> 00:16:45.670\nWe zoom in here real quick\njust to show you this picture.\n\n326\n00:16:45.670 --> 00:16:49.210\nLet me show you what this\nlooks like right here.\n\n327\n00:16:49.210 --> 00:16:50.430\nKinda get a feel for that.\n\n328\n00:16:50.430 --> 00:16:51.190\nThere we go.\n\n329\n00:16:51.190 --> 00:16:52.380\nKinda get the feel for this.\n\n330\n00:16:52.380 --> 00:16:54.260\nYou'll see here we have our user.\n\n331\n00:16:55.610 --> 00:16:58.780\nWe have our identity provider over here.\n\n332\n00:16:58.780 --> 00:17:02.107\nHave our Windows 10 device down here,\njust give you a point of reference for\n\n333\n00:17:02.107 --> 00:17:03.070\nwhat we have.\n\n334\n00:17:03.070 --> 00:17:03.980\nThe account is created.\n\n335\n00:17:03.980 --> 00:17:07.800\nThe identity is validated in step\none against the infrastructure for\n\n336\n00:17:07.800 --> 00:17:08.820\nidentity provisioning.\n\n337\n00:17:08.820 --> 00:17:13.410\nActive directory, Azure AD,\nMicrosoft account, or other ID provider.\n\n338\n00:17:13.410 --> 00:17:17.202\nAgain, this could be an online\nfederated solution of some kind, right?\n\n339\n00:17:17.202 --> 00:17:19.270\nAnd then we create trust.\n\n340\n00:17:19.270 --> 00:17:21.872\nThe unique create, and\nthen trust the unique key and\n\n341\n00:17:21.872 --> 00:17:24.060\nauthenticate it by\nvalidating the sign request.\n\n342\n00:17:24.060 --> 00:17:27.960\nSo once we authenticate and\naccount for the user and\n\n343\n00:17:27.960 --> 00:17:32.355\nhave the user account created, we can then\nassign and authenticate the credentials.\n\n344\n00:17:32.355 --> 00:17:36.075\nNow once that's been done, the ID\nprovider then authenticates the token,\n\n345\n00:17:36.075 --> 00:17:38.365\nprovides that token to the device.\n\n346\n00:17:38.365 --> 00:17:42.835\nThe token from the IDP is then used\nto access the resources validating\n\n347\n00:17:42.835 --> 00:17:44.085\nwho you are, where you're coming from,\n\n348\n00:17:44.085 --> 00:17:46.465\nthe fact that you legitimately\nhave the right to do this.\n\n349\n00:17:46.465 --> 00:17:48.615\nSo, it's kind of very interesting.\n\n350\n00:17:48.615 --> 00:17:51.425\nGeneric technology in the sense we have\nthe capability to do things like this\n\n351\n00:17:51.425 --> 00:17:54.020\nalready through federated ID management,\n\n352\n00:17:54.020 --> 00:17:57.180\nthrough certificate usage,\nthis is not new.\n\n353\n00:17:57.180 --> 00:18:00.320\nBut the idea of implementing it as\na directly managed set of capabilities and\n\n354\n00:18:00.320 --> 00:18:03.110\nservices in Windows with a name is newer.\n\n355\n00:18:03.110 --> 00:18:06.050\nAnd so Windows Hello for\nBusiness gives us these capabilities.\n\n356\n00:18:06.050 --> 00:18:09.290\nSo just wanted to make sure that you\ngot to see some of these things and\n\n357\n00:18:09.290 --> 00:18:11.120\nhave a sense of what they are.\n\n358\n00:18:12.200 --> 00:18:15.020\nWe talked about Azure AD overall and\ntalked about what it is and\n\n359\n00:18:15.020 --> 00:18:16.180\nwhy it's important.\n\n360\n00:18:16.180 --> 00:18:18.483\nKeep in mind that with Azure AD,\n\n361\n00:18:18.483 --> 00:18:21.362\nwe open up a broad range of services and\ncapabilities.\n\n362\n00:18:21.362 --> 00:18:23.280\nI mentioned Office 365.\n\n363\n00:18:23.280 --> 00:18:28.230\nBut within Office 365 you may just\nsubscribe to what's called exchange online\n\n364\n00:18:28.230 --> 00:18:29.070\nor SharePoint online,\n\n365\n00:18:29.070 --> 00:18:31.900\nwhich are the elements that\nare hosted within the platform.\n\n366\n00:18:31.900 --> 00:18:36.950\nOr Skype for Business online, these\nare all elements of Office 365 today.\n\n367\n00:18:36.950 --> 00:18:40.320\nYou can host and use web enabled and\n\n368\n00:18:40.320 --> 00:18:44.180\nidentity managed integrated apps\nthrough this capability as well.\n\n369\n00:18:44.180 --> 00:18:47.880\nBut not all services that we\nprovide with the ADDS on-prem\n\n370\n00:18:47.880 --> 00:18:49.020\nare available with Azure AD.\n\n371\n00:18:49.020 --> 00:18:52.780\nIn other words, it doesn't offer\nthe complete set of services and\n\n372\n00:18:52.780 --> 00:18:56.970\ncapabilities that a fully instantiated,\nlocally hosted system does.\n\n373\n00:18:56.970 --> 00:18:59.030\nThere are some differences,\nin other words.\n\n374\n00:18:59.030 --> 00:19:00.705\nSo keep that in mind.\n\n375\n00:19:00.705 --> 00:19:04.770\nOn-prem AD in Windows 2016\nsupports five services.\n\n376\n00:19:04.770 --> 00:19:08.970\nADDS, Active Directory Domain Services,\nwe've been talking about that.\n\n377\n00:19:08.970 --> 00:19:13.430\nADFS, Active Directory Federation\nServices, federated ID management.\n\n378\n00:19:13.430 --> 00:19:17.760\nActive Directory Lightweight\nDirectory Services, ADLDS.\n\n379\n00:19:17.760 --> 00:19:19.940\nActive Directory Certificate Services,\n\n380\n00:19:19.940 --> 00:19:22.850\nADCS, we'll be talking about\nthose in upcoming episodes.\n\n381\n00:19:22.850 --> 00:19:26.460\nAnd Active Directory Rights\nManagement Services, ADRMS, and\n\n382\n00:19:26.460 --> 00:19:29.800\nwe'll have something to\nsay about those as well.\n\n383\n00:19:29.800 --> 00:19:33.800\nCherokee, actually you helped me go\nback and work on not just the original\n\n384\n00:19:33.800 --> 00:19:38.456\npart one or version one in the Server\n12 Series, the 7412 shows, for\n\n385\n00:19:38.456 --> 00:19:43.300\nADRMS and ADFS cuz we reshot some of\nthat content for the older series.\n\n386\n00:19:43.300 --> 00:19:45.760\nBut we're in the middle of putting\nthat together for the new one as well.\n\n387\n00:19:45.760 --> 00:19:46.910\n&gt;&gt; Yes.\n&gt;&gt; And you're gonna help me finish up\n\n388\n00:19:46.910 --> 00:19:47.460\nwith all that.\n\n389\n00:19:47.460 --> 00:19:51.319\nSo there has been this continuity\nof technology that moves\n\n390\n00:19:51.319 --> 00:19:54.482\nthrough several versions of the platform.\n\n391\n00:19:54.482 --> 00:19:57.770\nWe've had certificate services, although\nnot in the current way we have them today,\n\n392\n00:19:57.770 --> 00:19:59.540\nbut we've had them going\nall the way back to NT4.\n\n393\n00:19:59.540 --> 00:20:04.720\nThis is not new technology just in\nthe last several years in some cases.\n\n394\n00:20:04.720 --> 00:20:08.690\nThings like Federation Services have\nmorphed over time, have become newer.\n\n395\n00:20:08.690 --> 00:20:11.346\nWe didn't have the concept of\nFederation Services back in NT4, but\n\n396\n00:20:11.346 --> 00:20:14.132\nwe certainly have had\ncertificate services and\n\n397\n00:20:14.132 --> 00:20:17.385\nthe ability to act on behalf\nof our own organization.\n\n398\n00:20:17.385 --> 00:20:21.860\nSelf-signed certificates and create our\nown PKI, Public Key Infrastructure,\n\n399\n00:20:21.860 --> 00:20:27.350\nwith certificate servers from the very\nearliest days of Windows Server and\n\n400\n00:20:27.350 --> 00:20:31.180\nthe platform on the Enterprise side\nas we came out of NT3, 3.51 into 4.0,\n\n401\n00:20:31.180 --> 00:20:34.300\nwe've had certificate\nservices all the way through.\n\n402\n00:20:34.300 --> 00:20:38.130\nSo some of this is not new, but the way we\nimplement it, the way we use it are new.\n\n403\n00:20:38.130 --> 00:20:40.140\nAzure AD on the other hand, right?\n\n404\n00:20:40.140 --> 00:20:42.400\nSo the five surfaces I just\nwent through and listed for\n\n405\n00:20:42.400 --> 00:20:45.630\nyou are part of what you\nwould get traditionally\n\n406\n00:20:45.630 --> 00:20:49.460\nwhen you implement Active Directory\nusing a full on on-prem solution.\n\n407\n00:20:49.460 --> 00:20:52.240\nServer 16, you build and\nmaintain your own forest,\n\n408\n00:20:52.240 --> 00:20:55.970\nand you have all the infrastructure and\nservices aligned with that.\n\n409\n00:20:55.970 --> 00:20:58.600\nYou have all five of those\nservices I just mentioned to you.\n\n410\n00:20:58.600 --> 00:21:02.812\nADDS, ADFS, ADLDS, light weight directory,\n\n411\n00:21:02.812 --> 00:21:07.138\nADCS certificate, ADRMS,\nrights management.\n\n412\n00:21:07.138 --> 00:21:09.060\nAll five, and\nyou should know what they are.\n\n413\n00:21:09.060 --> 00:21:10.300\nThey're in the show notes.\n\n414\n00:21:10.300 --> 00:21:15.510\nAzure AD, on the other hand, only gives\nyou the Azure AD itself as support for\n\n415\n00:21:15.510 --> 00:21:18.630\nidentify management for\nthe Cloud-based environments.\n\n416\n00:21:18.630 --> 00:21:23.570\nAnd Azure Access Control Services,\nwhich bundles this idea of\n\n417\n00:21:23.570 --> 00:21:27.000\nsupporting federation and\nexternal identity management,\n\n418\n00:21:27.000 --> 00:21:32.380\nincluding need hybrid or the link\nback to the on-prem ADDS solution.\n\n419\n00:21:32.380 --> 00:21:35.490\nSo that is provided in Azure AD.\n\n420\n00:21:35.490 --> 00:21:40.640\nBut the lightweight directory services,\nthe rights management services,\n\n421\n00:21:40.640 --> 00:21:45.040\nall those things carved out separately\nbroken out, not part of Azure AD.\n\n422\n00:21:45.040 --> 00:21:46.340\nSo it is a limited,\n\n423\n00:21:46.340 --> 00:21:51.180\nconstrained subset of the broader\ncapabilities that we get on-prem.\n\n424\n00:21:51.180 --> 00:21:55.190\nAt some point, as we continue to move\nforward, continue to evolve this platform,\n\n425\n00:21:55.190 --> 00:21:59.770\nit's a pretty good money bet that you'll\nsee that Azure AD will become comparable\n\n426\n00:21:59.770 --> 00:22:04.540\nwith, and indeed will be on par and\nprovide all services that we have on-prem.\n\n427\n00:22:04.540 --> 00:22:06.040\nCuz at some point, yeah,\n\n428\n00:22:06.040 --> 00:22:09.590\nwe're gonna move to that place where you\nshould be able to do this seamlessly.\n\n429\n00:22:09.590 --> 00:22:13.010\nYou don't have to own your\ninfrastructure to do it directly,\n\n430\n00:22:13.010 --> 00:22:16.690\nyou can host it in the Cloud and leverage\nthe capabilities of that enterprise,\n\n431\n00:22:16.690 --> 00:22:20.380\nglobal enterprise environment,\nthat Microsoft can provide to you.\n\n432\n00:22:20.380 --> 00:22:21.840\nBut that may not work for everybody.\n\n433\n00:22:21.840 --> 00:22:25.480\nAnd small or medium size\nbusinesses may find value in that,\n\n434\n00:22:25.480 --> 00:22:28.740\nbecause it's easy to offload and\nhand off to a provider for\n\n435\n00:22:28.740 --> 00:22:32.120\na small amount of money a month,\nthe complexity and capabilities.\n\n436\n00:22:32.120 --> 00:22:35.990\nBut for large enterprises with\nincredibly complex infrastructure and\n\n437\n00:22:35.990 --> 00:22:41.080\nglobal resources, there's a lot of value\nin handing off to a globally positioned\n\n438\n00:22:41.080 --> 00:22:43.720\nprovider, but there may be a lot of\nvalue in owning your own infrastructure.\n\n439\n00:22:43.720 --> 00:22:48.340\nAnd in certain industries,\nheavily regulated and overseen industries,\n\n440\n00:22:48.340 --> 00:22:51.420\nyou may have requirements that\ndon't allow you to off load and\n\n441\n00:22:51.420 --> 00:22:53.090\nhand this off to a third party.\n\n442\n00:22:53.090 --> 00:22:56.420\nAnd so\nthere's always gonna be a market for, hey,\n\n443\n00:22:56.420 --> 00:22:58.700\nI need to do this myself on-prem.\n\n444\n00:22:58.700 --> 00:23:02.630\nThere's always gonna be a market for hey,\nI'm positioned perfectly to hand this off.\n\n445\n00:23:02.630 --> 00:23:07.470\nI'd rather pay somebody through\ntransferring the liability to them, and\n\n446\n00:23:07.470 --> 00:23:10.040\nfor 15, $20 per user per month,\nwhatever it wind up being,\n\n447\n00:23:10.040 --> 00:23:13.480\nhave them manage it, than have to worry\nabout owning it and maintaining it myself.\n\n448\n00:23:13.480 --> 00:23:16.383\nThere's always gonna be those\ncompetitive pressures in the market.\n\n449\n00:23:16.383 --> 00:23:16.979\nThat's what we see.\n\n450\n00:23:16.979 --> 00:23:20.191\nAnd what we've seen historically over\nthe last decade we'll continue to\n\n451\n00:23:20.191 --> 00:23:20.875\nsee progress.\n\n452\n00:23:20.875 --> 00:23:23.237\nBut we're gonna see\nparity becoming more and\n\n453\n00:23:23.237 --> 00:23:25.450\nmore likely on both sides of this divide.\n\n454\n00:23:25.450 --> 00:23:28.402\nSo the customers can move between\nthese two environments in a much more\n\n455\n00:23:28.402 --> 00:23:29.530\nseamless fashion.\n\n456\n00:23:29.530 --> 00:23:31.340\nI think that will happen over time.\n\n457\n00:23:31.340 --> 00:23:34.310\nBut I'm just putting on\nmy crystal ball hat and\n\n458\n00:23:34.310 --> 00:23:36.650\njust put projecting into the future here.\n\n459\n00:23:36.650 --> 00:23:37.390\nBut just be aware of that.\n\n460\n00:23:37.390 --> 00:23:39.863\nThe other big sticking point with\nAzure AD, and it's not a problem,\n\n461\n00:23:39.863 --> 00:23:41.890\nbut it is something you\njust want to be aware of.\n\n462\n00:23:41.890 --> 00:23:45.110\nNot all applications play\nnicely with Azure AD today or\n\n463\n00:23:45.110 --> 00:23:48.150\nany web-based directory service\nregardless of who's providing it.\n\n464\n00:23:48.150 --> 00:23:50.400\nYou have the same issue with Amazon.\n\n465\n00:23:50.400 --> 00:23:53.135\nYou have the same issue with any\nof the big providers potentially.\n\n466\n00:23:53.135 --> 00:23:56.821\nAnd so, not all applications\nare integrated and can support this.\n\n467\n00:23:56.821 --> 00:24:00.916\nAnd you have to understand That if you\nhave a home grown app, especially, and\n\n468\n00:24:00.916 --> 00:24:04.444\nit's designed around an on-prem\nAD solution, fully featured,\n\n469\n00:24:04.444 --> 00:24:06.620\nwith all the bells and whistles.\n\n470\n00:24:06.620 --> 00:24:10.510\nAnd you're not testing,\nyou don't understand for sure whether or\n\n471\n00:24:10.510 --> 00:24:12.940\nnot this will work and\nextend into the cloud.\n\n472\n00:24:12.940 --> 00:24:15.620\nYou may have unfortunately find\nout the hard way that it may not.\n\n473\n00:24:15.620 --> 00:24:18.830\nAnd that obviously will become a problem,\nsomething we have to be aware of.\n\n474\n00:24:18.830 --> 00:24:24.670\nYou have to test for compatibility for\nAzure AD specificity, in other words.\n\n475\n00:24:24.670 --> 00:24:28.101\nJust because the app works,\ndoesn't mean it will work in the cloud,\n\n476\n00:24:28.101 --> 00:24:30.538\nand so\nyou wanna make sure you're aware of that.\n\n477\n00:24:30.538 --> 00:24:35.104\nWe cannot create ADDS domain controllers\nin Azure AD, what we do is, we use\n\n478\n00:24:35.104 --> 00:24:39.528\nthe Azure AD as a standalone service,\nas I said, on its own on the cloud.\n\n479\n00:24:39.528 --> 00:24:42.971\nAnd those domain controllers\nare created there separately,\n\n480\n00:24:42.971 --> 00:24:46.957\nthey're Azure AD domain controllers,\nnot ADDS domain controllers.\n\n481\n00:24:46.957 --> 00:24:50.991\nOr we integrate with our existing\non-prem ADDS solution as a hybrid, but\n\n482\n00:24:50.991 --> 00:24:53.536\nwe need a tool that translates back and\nforth.\n\n483\n00:24:53.536 --> 00:24:55.408\nDirectory Sync, or something like that,\n\n484\n00:24:55.408 --> 00:24:58.321\nthat allows us to move that directory\ninformation back and forth.\n\n485\n00:24:58.321 --> 00:25:01.980\nSo please keep that in mind,\nand just be aware of that.\n\n486\n00:25:01.980 --> 00:25:06.340\nSpeaking of managing and tools that we use\nto manage, we do have a bunch of those.\n\n487\n00:25:06.340 --> 00:25:08.790\nWant to understand what they are,\nyou've heard me mention,\n\n488\n00:25:08.790 --> 00:25:11.820\nwe're gonna show you in an upcoming\nepisode here, some of these tools.\n\n489\n00:25:11.820 --> 00:25:14.940\nYou heard me mention ADAC a few\ntimes in some of these episodes,\n\n490\n00:25:14.940 --> 00:25:16.590\nif you've been watching us up until now.\n\n491\n00:25:16.590 --> 00:25:20.600\nThe Active Directory Administrative Center\nor Administrator Center tool,\n\n492\n00:25:20.600 --> 00:25:24.780\nADAC, this has been around since Server,\nI think, 2008 R2,\n\n493\n00:25:24.780 --> 00:25:27.930\nbeen around for several generations now.\n\n494\n00:25:27.930 --> 00:25:32.437\nCentralized graphical user interface,\nit combines active directory users and\n\n495\n00:25:32.437 --> 00:25:36.754\ncomputers, and some of the elements of\nother tools, together in one place.\n\n496\n00:25:36.754 --> 00:25:38.845\nAllowing you to be able to go in and\n\n497\n00:25:38.845 --> 00:25:44.285\nto create a managed users computers group\naccounts, lets you create and manage OUs.\n\n498\n00:25:44.285 --> 00:25:48.530\nLets you connect to and manage multiple\ndomains from one common infrastructure.\n\n499\n00:25:48.530 --> 00:25:53.010\nYou can search for and run queries\nagainst all AD-related objects.\n\n500\n00:25:53.010 --> 00:25:57.208\nYou could create policies, so\nthings like find password policies.\n\n501\n00:25:57.208 --> 00:25:58.815\nSo group policy management and\n\n502\n00:25:58.815 --> 00:26:01.534\nsecurity policy in particular\ncan be done from there.\n\n503\n00:26:01.534 --> 00:26:04.247\nRecover objects from\nthe Active Directory Recycle Bin,\n\n504\n00:26:04.247 --> 00:26:07.180\nwhich is something you could\ndo directly through ADAC.\n\n505\n00:26:07.180 --> 00:26:11.100\nYou can manage that are using\ndynamic access control, so\n\n506\n00:26:11.100 --> 00:26:16.827\nthe use of dynamic access control could be\nset up and interacted with through ADAC.\n\n507\n00:26:16.827 --> 00:26:19.633\nI think, actually,\nin Server 12, when we did that,\n\n508\n00:26:19.633 --> 00:26:21.620\nwe did that whole walkthrough on that.\n\n509\n00:26:21.620 --> 00:26:24.908\nWe I'm sure we'll do it in the updated\nversion, as we're going through and\n\n510\n00:26:24.908 --> 00:26:26.497\ndoing the other part of the 12 series.\n\n511\n00:26:26.497 --> 00:26:30.230\n&gt;&gt; There was a caveat to that,\nright, as far at the years go?\n\n512\n00:26:30.230 --> 00:26:33.553\n&gt;&gt; As far as the-\n&gt;&gt; Versions, operating system versions.\n\n513\n00:26:33.553 --> 00:26:36.910\n&gt;&gt; Yeah, just the client side to be able\nto use it with all these certain systems.\n\n514\n00:26:36.910 --> 00:26:39.690\nYeah, there were some caveats there,\nboth for\n\n515\n00:26:39.690 --> 00:26:43.240\nthe use of ADAC overall, and\nalso for Dynamic Access Control.\n\n516\n00:26:43.240 --> 00:26:46.100\nYou had to have the newer versions,\nWindows 10,\n\n517\n00:26:46.100 --> 00:26:49.430\nServer 2012 R2 or 16 running for that.\n\n518\n00:26:49.430 --> 00:26:53.390\nBut to use ADAC overall, in order to\nbe able to do it, you need at least\n\n519\n00:26:53.390 --> 00:26:57.170\nServer 2008 R2, as I said, it's where\nit first appears, on the server side.\n\n520\n00:26:57.170 --> 00:27:01.416\nOn the client side, at least Windows 7,\nso Windows 7, Windows 8, Windows 10.\n\n521\n00:27:01.416 --> 00:27:03.340\nYou can connect to and\nuse ADAC as a tool, but\n\n522\n00:27:03.340 --> 00:27:05.770\nyou wanna just make sure\nyou're aware of that.\n\n523\n00:27:05.770 --> 00:27:07.146\nSome other tools that certainly,\n\n524\n00:27:07.146 --> 00:27:09.910\nyou've heard me mention that\nwe use on a regular basis.\n\n525\n00:27:09.910 --> 00:27:12.834\nThe active directory user and\ncomputer manager,\n\n526\n00:27:12.834 --> 00:27:17.160\nthe MMC snap in, pretty standard tool\nwe've probably all at some point.\n\n527\n00:27:17.160 --> 00:27:19.310\nOr most of you, anyway,\nhave grown up using that,\n\n528\n00:27:19.310 --> 00:27:21.910\nin the sense that as you've been\ndoing this over your career,\n\n529\n00:27:21.910 --> 00:27:24.771\nyou've seen that tool,\ngoes all the way back to Windows 2000.\n\n530\n00:27:24.771 --> 00:27:28.911\nSo if you've ever done any administration\non any version of Windows up until now,\n\n531\n00:27:28.911 --> 00:27:32.451\nincluding Server 16, we still support it,\nit's still there, and\n\n532\n00:27:32.451 --> 00:27:34.320\nyou've used the traditional tool.\n\n533\n00:27:34.320 --> 00:27:36.973\nNot ADAC, but the traditional tool,\nyou've used this tool,\n\n534\n00:27:36.973 --> 00:27:38.739\ncuz that's where you would go to do that.\n\n535\n00:27:38.739 --> 00:27:43.017\nActive Directory Sites and Services, we\nmanage the replication, network topology,\n\n536\n00:27:43.017 --> 00:27:45.450\nand all the related services there.\n\n537\n00:27:45.450 --> 00:27:48.230\nThe Active Directory Domains and\nTrusts Tool, it's where we set up and\n\n538\n00:27:48.230 --> 00:27:50.280\nmaintain our trust relationships.\n\n539\n00:27:50.280 --> 00:27:53.780\nThe Active Directory Schema Management\nsnap in, we mentioned that, so you could\n\n540\n00:27:53.780 --> 00:27:57.390\ngo in and do schema editing, if necessary,\nthat's not set up and installed.\n\n541\n00:27:57.390 --> 00:27:59.100\nYou have to enable that separately,\n\n542\n00:27:59.100 --> 00:28:02.780\nwhereas all these other tools are already\nthere and available to you when you set up\n\n543\n00:28:02.780 --> 00:28:05.520\na domain controller,\nyou have access to them directly.\n\n544\n00:28:05.520 --> 00:28:09.165\nThe schema management snap in\nmust be installed separately,\n\n545\n00:28:09.165 --> 00:28:11.690\nit's not gonna be on that list of tools.\n\n546\n00:28:11.690 --> 00:28:14.857\nThe Active Directory Module for\nWindows PowerShell, which gives you all\n\n547\n00:28:14.857 --> 00:28:18.381\nthe PowerShell commandlets that I've\nshown you some already in prior episodes,\n\n548\n00:28:18.381 --> 00:28:19.522\ncontinued to talk about.\n\n549\n00:28:19.522 --> 00:28:24.581\nSpecific to AD that can be installed or\ninvoked as needed, and you can use those.\n\n550\n00:28:24.581 --> 00:28:26.702\nI just wanna make sure\nyou're aware of that, and\n\n551\n00:28:26.702 --> 00:28:28.840\nthen we have a sense of how\nwe are going to manage.\n\n552\n00:28:28.840 --> 00:28:31.262\nBecause obviously,\nthese are the tools, moving parts,\n\n553\n00:28:31.262 --> 00:28:33.398\nthe levers what we're gonna\nuse to our advantage.\n\n554\n00:28:33.398 --> 00:28:35.252\nAnd to our benefit as an administrator,\n\n555\n00:28:35.252 --> 00:28:37.970\nto be able to carry out\nwhatever activities we need.\n\n556\n00:28:37.970 --> 00:28:40.167\nNow, a lot of times,\nI have this conversation with people,\n\n557\n00:28:40.167 --> 00:28:43.183\nand I think when we started talking about\nthis back in the Server 12 stuff, you and\n\n558\n00:28:43.183 --> 00:28:43.890\nI talked about it.\n\n559\n00:28:43.890 --> 00:28:47.017\nI asked you about ADAC, you said you\nhadn't really used it that much.\n\n560\n00:28:47.017 --> 00:28:49.841\nYou were familiar with it, you just, you\nhadn't used it as much as the other tool.\n\n561\n00:28:49.841 --> 00:28:53.133\nCuz it wasn't as, for whatever reason,\njust maybe not as prevalent, or\n\n562\n00:28:53.133 --> 00:28:56.601\nyou just didn't realize you could use it,\nor it wasn't as popular early on.\n\n563\n00:28:56.601 --> 00:28:59.552\nAnd I mentioned this tool to a lot of\npeople, who are like, I haven't even heard\n\n564\n00:28:59.552 --> 00:29:02.830\nof that, and if I have, yeah, I'm aware\nof it, but I haven't really used it.\n\n565\n00:29:02.830 --> 00:29:06.144\nI'm more comfortable in the other tool,\nor for whatever reason,\n\n566\n00:29:06.144 --> 00:29:07.872\nI just don't ever think to use it.\n\n567\n00:29:07.872 --> 00:29:11.894\nIt's one of those things, just like\nwith PowerShell, where it is coming.\n\n568\n00:29:11.894 --> 00:29:17.130\nMicrosoft's had it up there for 8 R2,\n12, 12 R2, 16, four generations now.\n\n569\n00:29:17.130 --> 00:29:21.010\nAnd it's clearly here to stay, and\nit's becoming a more formalized,\n\n570\n00:29:21.010 --> 00:29:23.740\nstandardized tool that we're gonna use for\na lot of things.\n\n571\n00:29:23.740 --> 00:29:27.076\nIt's a good idea for you to get used to\nusing the tool, not because you don't have\n\n572\n00:29:27.076 --> 00:29:29.989\nchoices, but because over time,\nthat may become the standard tool.\n\n573\n00:29:29.989 --> 00:29:33.398\nAnd these other tools may disappear,\nor at least become harder to use, and\n\n574\n00:29:33.398 --> 00:29:35.850\nas a result,\nyou wanna be familiar with it.\n\n575\n00:29:35.850 --> 00:29:38.590\nOn the exams, I can tell you that\nwe're often gonna move back and\n\n576\n00:29:38.590 --> 00:29:41.670\nforth between the tools, and\nyou should be familiar with both.\n\n577\n00:29:41.670 --> 00:29:44.190\nThe expectation would be,\ngotta know PowerShell,\n\n578\n00:29:44.190 --> 00:29:48.730\nthe expectation would be you gotta know\nADAC, because ADAC is the preferred tool.\n\n579\n00:29:48.730 --> 00:29:51.208\nAnd as a result,\neven though you can use the other tools,\n\n580\n00:29:51.208 --> 00:29:53.077\nthat may not be the option\nin the question.\n\n581\n00:29:53.077 --> 00:29:55.977\nAnd if the only option in the question\nis hey, we're using ADAC,\n\n582\n00:29:55.977 --> 00:29:58.716\nhow would we do this, where would we go,\nwhat would we do, and\n\n583\n00:29:58.716 --> 00:30:00.708\nyou're not familiar with it, guess what?\n\n584\n00:30:00.708 --> 00:30:03.058\nYou're probably guessing to\nget that question right, and\n\n585\n00:30:03.058 --> 00:30:06.420\nwhile that's a proven methodology,\nit's not the best methodology.\n\n586\n00:30:06.420 --> 00:30:08.997\nCuz, on average, you're only a quarter,\n\n587\n00:30:08.997 --> 00:30:12.629\none in four possible chances of\nbeing successful on average.\n\n588\n00:30:12.629 --> 00:30:16.432\n&gt;&gt; Even on the Microsoft exams, I've\nhad questions up to like, I don't know.\n\n589\n00:30:16.432 --> 00:30:21.139\n&gt;&gt; You may have H or J, you may have like\n15 items on that, select all that apply,\n\n590\n00:30:21.139 --> 00:30:22.515\nor which one is right.\n\n591\n00:30:22.515 --> 00:30:24.555\nThey give you the crazy one with,\nI had one that went down to L or\n\n592\n00:30:24.555 --> 00:30:25.194\nsomething crazy.\n\n593\n00:30:25.194 --> 00:30:27.382\n&gt;&gt; I know, I'm like, why is this?\n\n594\n00:30:27.382 --> 00:30:31.100\n&gt;&gt; Yeah, cuz 10 choices weren't enough,\nyou had to have 15.\n\n595\n00:30:31.100 --> 00:30:33.265\nSo there could be a lot of options,\n\n596\n00:30:33.265 --> 00:30:37.085\nin which case your chances of\nguessing are down to 1 in 15.\n\n597\n00:30:37.085 --> 00:30:40.869\nSo obviously, you wanna make arrangements\nto try to be successful as possible, so\n\n598\n00:30:40.869 --> 00:30:42.230\nkeep that in mind.\n\n599\n00:30:42.230 --> 00:30:45.735\nAnd so I'm just suggesting that there are\ntools out there that are perhaps not as\n\n600\n00:30:45.735 --> 00:30:48.833\nfamiliar to you, that doesn't mean\nyou shouldn't get to know them.\n\n601\n00:30:48.833 --> 00:30:51.930\nIt means you haven't taken the opportunity\nuntil now to spend some time.\n\n602\n00:30:51.930 --> 00:30:52.680\nYou come on back and\n\n603\n00:30:52.680 --> 00:30:54.850\njoin us, and I promise you,\nyou're gonna get a chance to see them.\n\n604\n00:30:54.850 --> 00:30:57.260\nCuz we're gonna start taking a look\nat them, walk you through them, and\n\n605\n00:30:57.260 --> 00:30:58.860\ntalk to you about them and\nhow to use them.\n\n606\n00:30:58.860 --> 00:31:00.846\nAnd it will be helpful for\nyou, seeing them firsthand,\n\n607\n00:31:00.846 --> 00:31:03.423\nand then ultimately take that knowledge\nand go back and do it on your own,\n\n608\n00:31:03.423 --> 00:31:04.838\nso you get more comfortable with them.\n\n609\n00:31:04.838 --> 00:31:08.191\n&gt;&gt; Sounds like a deal, Adam, you're\nhelping us increase the odds there, so\n\n610\n00:31:08.191 --> 00:31:09.105\nI appreciate that.\n\n611\n00:31:09.105 --> 00:31:11.423\nAnd I appreciate you being here as well,\nbut stay tuned,\n\n612\n00:31:11.423 --> 00:31:13.520\nwe do have more information\nheaded your way.\n\n613\n00:31:13.520 --> 00:31:16.476\nWe'll go ahead and sign out for this show,\nI've been your host, Cherokee Boose\n\n614\n00:31:16.476 --> 00:31:17.743\n&gt;&gt; I'm Adam Gordon.\n\n615\n00:31:17.743 --> 00:31:19.586\n&gt;&gt; See you next time here at ITProTV.\n\n616\n00:31:19.586 --> 00:31:26.926\n[MUSIC]\n\n617\n00:31:26.926 --> 00:31:30.050\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "228809340"
        },
        {
          "description": "In this show, Adam demonstrates how to set up Domain Controller using PowerShell. First, he installs the AD DS followed by the Domain service. Adam also demonstrates how to create a forest.",
          "length": "2352",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-5-transferring_and_seizing_fsmo_roles-080817-PGM.00_01_30_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-5-transferring_and_seizing_fsmo_roles-080817-PGM.00_01_30_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-5-transferring_and_seizing_fsmo_roles-080817-PGM.00_01_30_08.Still001-sm.jpg",
          "title": "Install / Configure Domain Controllers Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:02.432\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.432 --> 00:00:05.815\nComing at you live from San Francisco,\nCalifornia.\n\n3\n00:00:05.815 --> 00:00:11.437\n[CROSSTALK]\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.437 --> 00:00:17.285\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n5\n00:00:17.285 --> 00:00:18.482\n[LAUGH] I'm your show host Cherokee Boose.\n\n6\n00:00:18.482 --> 00:00:22.195\nAnd in this episode we'll continue\ntaking a look at installing and\n\n7\n00:00:22.195 --> 00:00:24.393\nconfiguring our domain controllers.\n\n8\n00:00:24.393 --> 00:00:27.963\nAnd back in studio with us today,\nas you just saw,\n\n9\n00:00:27.963 --> 00:00:30.603\nwe have the lovely Mr. Adam Gordon.\n\n10\n00:00:30.603 --> 00:00:32.017\nHow are you today, Adam?\n&gt;&gt; Feeling lovely.\n\n11\n00:00:32.017 --> 00:00:34.259\n&gt;&gt; [LAUGH]\n&gt;&gt; Look at my glowing skin.\n\n12\n00:00:34.259 --> 00:00:36.441\nYou can see the glow on my forehead.\n\n13\n00:00:36.441 --> 00:00:37.210\n&gt;&gt; The halo, yeah.\n\n14\n00:00:37.210 --> 00:00:38.766\n&gt;&gt; It's because of our\nnew lighting system here.\n\n15\n00:00:38.766 --> 00:00:43.592\nIt's one degree closer to the actual sun-\n&gt;&gt; [LAUGH]\n\n16\n00:00:43.592 --> 00:00:44.371\n&gt;&gt; Than anything else I've\n\n17\n00:00:44.371 --> 00:00:45.080\never been in front of.\n\n18\n00:00:45.080 --> 00:00:46.578\n&gt;&gt; But your skin looks great, Adam.\n\n19\n00:00:46.578 --> 00:00:50.940\n&gt;&gt; It does until it bursts into flame\nbecause of the heat coming off the lights.\n\n20\n00:00:50.940 --> 00:00:53.270\nSo we are going to continue\nour conversations.\n\n21\n00:00:53.270 --> 00:00:55.610\nI promised you in our last episode,\nwe were gonna take you for\n\n22\n00:00:55.610 --> 00:00:58.640\na guided tour and actually start showing\nyou some of the management tools.\n\n23\n00:00:58.640 --> 00:00:59.620\nSo we are going to do that.\n\n24\n00:00:59.620 --> 00:01:01.490\nBut before we do,\nwe're gonna surprise Cherokee.\n\n25\n00:01:01.490 --> 00:01:02.620\nAnd we're gonna play a game.\n\n26\n00:01:02.620 --> 00:01:04.903\nShe doesn't know we're gonna do this,\nshe loves when I do this to her.\n\n27\n00:01:04.903 --> 00:01:05.640\n&gt;&gt; I sure do.\n\n28\n00:01:05.640 --> 00:01:07.564\n&gt;&gt; Look at that sense of\nexcitement on her face.\n\n29\n00:01:07.564 --> 00:01:09.346\nSo no, we talked about that.\n\n30\n00:01:09.346 --> 00:01:12.947\nWe're just gonna recap quickly a couple of\nthe key definitional criteria, right, for\n\n31\n00:01:12.947 --> 00:01:14.370\nsome of the stuff we're gonna do.\n\n32\n00:01:14.370 --> 00:01:17.531\nAnd I thought instead of me having to\ndo it, because, well, let's face it,\n\n33\n00:01:17.531 --> 00:01:18.663\nI'm talking all the time.\n\n34\n00:01:18.663 --> 00:01:19.736\n&gt;&gt; [LAUGH]\n&gt;&gt; I would have you help me!\n\n35\n00:01:19.736 --> 00:01:20.727\n&gt;&gt; Okay.\n&gt;&gt; And, just, you know,\n\n36\n00:01:20.727 --> 00:01:22.074\nwalk through logically some of\nthe things we want to know.\n\n37\n00:01:22.074 --> 00:01:24.165\nSo, you know, we're going to go in.\n\n38\n00:01:24.165 --> 00:01:27.175\nWe're going to install\nthe domain infrastructure.\n\n39\n00:01:27.175 --> 00:01:28.675\nI'm going to show you how\nto already set up and\n\n40\n00:01:28.675 --> 00:01:32.275\nhave the ADDS features available to us.\n\n41\n00:01:32.275 --> 00:01:33.675\nWe've already done that\npiece in PowerShell,\n\n42\n00:01:33.675 --> 00:01:35.275\nwe'll walk through quickly how to do that.\n\n43\n00:01:35.275 --> 00:01:38.305\nI've enabled remote administration,\nso we can remotely install and\n\n44\n00:01:38.305 --> 00:01:39.405\nconfigure a domain controller.\n\n45\n00:01:39.405 --> 00:01:42.550\nI'm going to show you how to do that,\nand let you see how that's done.\n\n46\n00:01:42.550 --> 00:01:45.749\nWe'll go and\nset up a forest a standalone server.\n\n47\n00:01:45.749 --> 00:01:48.480\nWe're gonna walk through all those things\nand show you the management tools.\n\n48\n00:01:48.480 --> 00:01:51.930\nBut let's just quickly talk about\na domain, a tree, a forest.\n\n49\n00:01:51.930 --> 00:01:55.140\nLet's make sure we define what those\nare by way of getting started.\n\n50\n00:01:55.140 --> 00:01:59.850\nSo what is the overarching, largest\norganizational structure we start with?\n\n51\n00:01:59.850 --> 00:02:03.410\nWhere do we begin that journey,\nif we talk about domain, tree, and forest?\n\n52\n00:02:03.410 --> 00:02:05.190\nWhat's the highest level that we think of?\n\n53\n00:02:05.190 --> 00:02:05.720\n&gt;&gt; Forest.\n\n54\n00:02:05.720 --> 00:02:06.940\n&gt;&gt; Forest, all right, very good.\n\n55\n00:02:06.940 --> 00:02:09.340\nAnd then the forest is gonna\nbe made up of one or more?\n\n56\n00:02:09.340 --> 00:02:10.510\n&gt;&gt; Domains.\n\n57\n00:02:10.510 --> 00:02:14.980\n&gt;&gt; Which are commonly referred to when\nwe group them together by name space as?\n\n58\n00:02:14.980 --> 00:02:17.650\nThe things that make up a forest,\nthe trees.\n\n59\n00:02:17.650 --> 00:02:18.150\n&gt;&gt; The trees.\n\n60\n00:02:18.150 --> 00:02:20.140\n&gt;&gt; And then inside the trees we have our?\n\n61\n00:02:21.450 --> 00:02:23.030\n&gt;&gt; Our objects.\n\n62\n00:02:23.030 --> 00:02:25.247\n&gt;&gt; Our objects,\nwhich are commonly referenced and\n\n63\n00:02:25.247 --> 00:02:26.820\nadded to our namespace known as a?\n\n64\n00:02:26.820 --> 00:02:29.210\n&gt;&gt; DNS namespace?\n\n65\n00:02:29.210 --> 00:02:32.868\n&gt;&gt; Commonly referred to as a single word,\nstarts with D,\n\n66\n00:02:32.868 --> 00:02:35.503\nends with N, sounds just like domain.\n\n67\n00:02:35.503 --> 00:02:36.122\nA domain.\n\n68\n00:02:36.122 --> 00:02:36.978\n&gt;&gt; A domain.\n\n69\n00:02:36.978 --> 00:02:37.870\n&gt;&gt; Okay, very good.\n\n70\n00:02:37.870 --> 00:02:41.080\nSo you can see we're doing this live\nbecause Cherokee did not prep for this.\n\n71\n00:02:41.080 --> 00:02:43.550\nAll right, so what I'm just trying\nto make sure we all agree on, right,\n\n72\n00:02:43.550 --> 00:02:45.560\nis the idea that we start\nat the forest level.\n\n73\n00:02:45.560 --> 00:02:48.500\nIf you remember, just give me a half\nsecond before we flip over here.\n\n74\n00:02:48.500 --> 00:02:51.570\nRemember our picture,\nif we just wanna take a look, right?\n\n75\n00:02:51.570 --> 00:02:55.800\nThe entire structure of all the domains\nlinked together would be the forest.\n\n76\n00:02:55.800 --> 00:02:59.920\nA single tree would be the namespace\nof all the domains that share\n\n77\n00:02:59.920 --> 00:03:03.100\na common root domain,\nITPRO.tv in this case.\n\n78\n00:03:03.100 --> 00:03:06.880\nHosts and audience is child\ndomains of ITPRO.tv, our root.\n\n79\n00:03:06.880 --> 00:03:11.181\nAnd a single domain Hosts.ITPRO,\nAudience.ITPRO, or\n\n80\n00:03:11.181 --> 00:03:14.880\nthe root domain ITPRO.tv itself,\nall domains.\n\n81\n00:03:14.880 --> 00:03:16.826\nBut we can have one or\nmore domains that make up a tree.\n\n82\n00:03:16.826 --> 00:03:18.806\nOne or more trees that make up a forest.\n\n83\n00:03:18.806 --> 00:03:21.591\nSo I just want to make sure we're\ncomfortable with all of that thought\n\n84\n00:03:21.591 --> 00:03:22.703\nprocess as we get started.\n\n85\n00:03:22.703 --> 00:03:27.058\nAll right, having said that, and having\nnow wound up inside our environment,\n\n86\n00:03:27.058 --> 00:03:28.229\nwe're gonna begin.\n\n87\n00:03:28.229 --> 00:03:31.242\nLet's take a look at how we're\ngonna actually configure and\n\n88\n00:03:31.242 --> 00:03:34.030\nset up remote administration for\none or more machines.\n\n89\n00:03:34.030 --> 00:03:36.860\nI'm gonna show you the group policy\nwe create to do that from our domain\n\n90\n00:03:36.860 --> 00:03:37.810\ncontroller.\n\n91\n00:03:37.810 --> 00:03:39.641\nTalk to you about how we did that and\nwhy, very quick,\n\n92\n00:03:39.641 --> 00:03:41.005\nwe'll take care of that, no big deal.\n\n93\n00:03:41.005 --> 00:03:44.144\nThen we're gonna use that policy,\nwhich is already in place,\n\n94\n00:03:44.144 --> 00:03:47.653\nalready installed, configured,\nand running on our member server.\n\n95\n00:03:47.653 --> 00:03:52.866\nTo be able to configure that member server\nto have ADDS as a feature installed.\n\n96\n00:03:52.866 --> 00:03:54.152\nI've already done that piece,\nI'll show you what I did.\n\n97\n00:03:54.152 --> 00:03:58.980\nAnd I prepped PowerShell so that we're now\nready with just the click of a button to\n\n98\n00:03:58.980 --> 00:04:04.180\ninstall and configure a domain controller\non that remote server through Powershell.\n\n99\n00:04:04.180 --> 00:04:06.190\nI'm gonna show you how\nwe get that as well.\n\n100\n00:04:06.190 --> 00:04:09.950\nSo let's take a look, if you'll join me\nhere, and I see you already are there.\n\n101\n00:04:09.950 --> 00:04:13.600\nLet me just bring up our group\npolicy management console.\n\n102\n00:04:13.600 --> 00:04:16.772\nSo I've gone into the Server Manager,\ngone to Group Policy Editor,\n\n103\n00:04:16.772 --> 00:04:18.315\nbrought up the Group Policy MMC.\n\n104\n00:04:18.315 --> 00:04:22.290\nAnd before we came on to do this,\nI already just set this up ahead of time.\n\n105\n00:04:22.290 --> 00:04:25.000\nSo when you go look,\nyou're not gonna see this group policy,\n\n106\n00:04:25.000 --> 00:04:27.990\nyou'd have to create this, but\nI created as you can see here.\n\n107\n00:04:29.130 --> 00:04:30.761\nExcuse me.\nA group policy called Remote Server Admin.\n\n108\n00:04:30.761 --> 00:04:34.430\nYou can call it anything you want,\nI named it that so we know what it is.\n\n109\n00:04:34.430 --> 00:04:38.248\nBut I right-clicked on our domain,\npracticelabs.com in this case,\n\n110\n00:04:38.248 --> 00:04:40.930\nchose Create a GPO in this domain and\nlink it here.\n\n111\n00:04:40.930 --> 00:04:42.141\nSo I created a brand new GPO.\n\n112\n00:04:42.141 --> 00:04:45.360\nI then gave it a name,\nRemote Server Admin.\n\n113\n00:04:45.360 --> 00:04:48.350\nHighlighted it, just so\nthat we can go ahead and work with it.\n\n114\n00:04:48.350 --> 00:04:51.890\nAnd the first thing I did was went\ndown here to security filtering, and\n\n115\n00:04:51.890 --> 00:04:54.870\nI added in,\nyou can see these two items right here,\n\n116\n00:04:54.870 --> 00:04:58.600\nthe two computer accounts on the machines\nthat I wanna use this policy for and\n\n117\n00:04:58.600 --> 00:05:01.810\nhave it applied to so\nthat I can remotely manage them.\n\n118\n00:05:01.810 --> 00:05:06.618\nAnd I've added in my PLABDM01 and\nmy PLABSA01 machines.\n\n119\n00:05:06.618 --> 00:05:10.196\nThese are computers running in the\nenvironment that we're using to be able to\n\n120\n00:05:10.196 --> 00:05:11.230\ndemo against.\n\n121\n00:05:11.230 --> 00:05:13.660\nNow, in order to add them,\nwhen you go to security filtering.\n\n122\n00:05:13.660 --> 00:05:16.670\nLet's just make sure we're comfortable\nwith this thought process,\n\n123\n00:05:16.670 --> 00:05:17.600\ncuz it's intuitive.\n\n124\n00:05:17.600 --> 00:05:18.190\nBut like anything else,\n\n125\n00:05:18.190 --> 00:05:21.230\nyou've just gotta remember that when\nyou go to add a machine normally,\n\n126\n00:05:21.230 --> 00:05:25.609\na computer account is not one of the\nobjects that normally is selected here.\n\n127\n00:05:26.650 --> 00:05:28.880\nSo if you look at Select this Object Type,\n\n128\n00:05:28.880 --> 00:05:32.030\nit says User Group or\nBuilt-In Security Principal.\n\n129\n00:05:32.030 --> 00:05:36.810\nBy default, in the Active Directory,\nin group policy, we manage user and\n\n130\n00:05:36.810 --> 00:05:38.690\ngroup objects, not computer objects.\n\n131\n00:05:38.690 --> 00:05:42.910\nThey are available, but they're often not\nselected by default in the interface.\n\n132\n00:05:42.910 --> 00:05:47.294\nAs a result, you have to go to\nObject Types, check off the Computers box,\n\n133\n00:05:47.294 --> 00:05:50.355\nand then search for a name,\nthe computer account.\n\n134\n00:05:50.355 --> 00:05:53.377\nAnd then it will find it and\nvalidate the name, hit OK, and\n\n135\n00:05:53.377 --> 00:05:54.860\nthen you add them in here.\n\n136\n00:05:54.860 --> 00:05:55.370\nSo I've done all that.\n\n137\n00:05:55.370 --> 00:05:57.592\nThen I went in, I edited the policy.\n\n138\n00:05:57.592 --> 00:06:00.777\nSo right-click &gt; Edit,\njust real simple to do.\n\n139\n00:06:00.777 --> 00:06:01.581\nBring this up.\n\n140\n00:06:01.581 --> 00:06:05.573\nWe go in here,\ngo up under Computer Configuration,\n\n141\n00:06:05.573 --> 00:06:10.946\ngo up under Policies, go under\nWindows Settings, just go down here.\n\n142\n00:06:10.946 --> 00:06:14.844\nAdministrative Templates &gt;\nWindows Components right here.\n\n143\n00:06:14.844 --> 00:06:18.240\nCome all the way down here, let me just\ngrab this and bring it all the way down,\n\n144\n00:06:18.240 --> 00:06:19.033\njust one second.\n\n145\n00:06:19.033 --> 00:06:22.988\nAnd let me see if I can catch the edge\nhere and just move this over so\n\n146\n00:06:22.988 --> 00:06:24.250\nwe can see.\n\n147\n00:06:24.250 --> 00:06:27.790\nAnd then up under here,\ndown towards the very bottom.\n\n148\n00:06:27.790 --> 00:06:30.852\nWindows Remote Management,\nWinRM, is where we go.\n\n149\n00:06:30.852 --> 00:06:35.010\nInside WinRM, we have the Client and\nthe Service side,\n\n150\n00:06:35.010 --> 00:06:36.640\nwe're going to the Service side.\n\n151\n00:06:36.640 --> 00:06:40.560\nAnd what I did is,\nI took the very first setting here,\n\n152\n00:06:40.560 --> 00:06:43.635\nAllow remote server\nmanagement through WinRM.\n\n153\n00:06:43.635 --> 00:06:46.620\nWinRM is a service that runs\non all Windows machines.\n\n154\n00:06:46.620 --> 00:06:50.420\nBut it must be enabled and configured for\nyou to use it to manage systems remotely.\n\n155\n00:06:50.420 --> 00:06:52.710\nI've enabled WinRM support.\n\n156\n00:06:52.710 --> 00:06:55.390\nBut not just enabled it.\n\n157\n00:06:55.390 --> 00:06:59.120\nI've also gone in, and for\nthe IPv4 filter, put an asterisk in,\n\n158\n00:06:59.120 --> 00:07:02.240\nmeaning, allow any and all IPv4 systems.\n\n159\n00:07:02.240 --> 00:07:05.450\nAny machine that has an IP address,\nin other words, to be remotely managed,\n\n160\n00:07:05.450 --> 00:07:08.230\nas long as it's going to be authenticated,\nand we can get to it.\n\n161\n00:07:08.230 --> 00:07:10.320\nIn this case, it's security filtered,\nit's on our list.\n\n162\n00:07:10.320 --> 00:07:12.114\nSo those two machines will qualify.\n\n163\n00:07:12.114 --> 00:07:14.710\nSo, I've enabled this policy.\n\n164\n00:07:14.710 --> 00:07:18.570\nI then restarted the machines that are\nmembers of the domain to apply the policy.\n\n165\n00:07:18.570 --> 00:07:20.080\nSo I've done that.\n\n166\n00:07:20.080 --> 00:07:24.280\nSo now that I've done that, I can use\nPowerShell to be able to reach out and\n\n167\n00:07:24.280 --> 00:07:29.340\nremotely administer the PLABDM01,\nor eventually PLABSA01 machines.\n\n168\n00:07:29.340 --> 00:07:34.504\nNow, could I go directly to PLABDM1, DM01,\nlogin, configure the machine locally?\n\n169\n00:07:34.504 --> 00:07:36.176\nAbsolutely, you could\ndo that all the time.\n\n170\n00:07:36.176 --> 00:07:40.523\nBut what if PLABDM01 is 1,000 miles away\nin a datacenter and I don't have anybody\n\n171\n00:07:40.523 --> 00:07:44.008\nwho's physically able to go stand in\nfront of the machine and do this.\n\n172\n00:07:44.008 --> 00:07:47.104\nAnd I'm not gonna jump on a plane and\ngo visit that machine.\n\n173\n00:07:47.104 --> 00:07:49.993\nIt would be nice, but I travel a lot,\nI want to take a break.\n\n174\n00:07:49.993 --> 00:07:51.462\nI don't want to go anywhere, right.\n\n175\n00:07:51.462 --> 00:07:55.150\nSo, if I don't want to do that, Cherokee\nis busy, she doesn't want to do that.\n\n176\n00:07:55.150 --> 00:07:55.843\nWe should be able to login remotely.\n\n177\n00:07:55.843 --> 00:07:59.180\nAnd this is a pretty common Thought\nprocess today, some of you should be\n\n178\n00:07:59.180 --> 00:08:02.730\nfamiliar with and if you're not,\nyou're gonna see how it's done.\n\n179\n00:08:02.730 --> 00:08:05.180\nIf you are familiar with it,\nyou probably do this every so\n\n180\n00:08:05.180 --> 00:08:08.410\noften in your own infrastructure then you\nalready understand the concept, right?\n\n181\n00:08:08.410 --> 00:08:10.630\nBut it's very basic, very straightforward.\n\n182\n00:08:10.630 --> 00:08:14.627\nSo we're gonna go into PowerShell, now\nI've opened PowerShell by the way, see,\n\n183\n00:08:14.627 --> 00:08:16.580\nit's obviously there.\n\n184\n00:08:16.580 --> 00:08:19.705\nA couple of ways to do this, I couldn't\njust launch power shell from the menu,\n\n185\n00:08:19.705 --> 00:08:22.408\nI went to tools and\nsomething went down at the bottom.\n\n186\n00:08:22.408 --> 00:08:26.530\nWent to Powershell here and just simply\nloaded PowerShell right from here so\n\n187\n00:08:26.530 --> 00:08:28.610\nthat where you could see\nwhere I started from.\n\n188\n00:08:28.610 --> 00:08:29.910\nSo I've got PowerShell up and\n\n189\n00:08:29.910 --> 00:08:33.600\nrunning, you only got done the PowerShell\nas I often do in our demos.\n\n190\n00:08:33.600 --> 00:08:36.430\nAnd you've seen me do this, you know\nI do this, I'm just reminding you,\n\n191\n00:08:36.430 --> 00:08:40.640\nif this is new to you, you may not have\nseen me presenting shows before and\n\n192\n00:08:40.640 --> 00:08:42.115\nheard me talk about this.\n\n193\n00:08:42.115 --> 00:08:44.886\nYou only might do the PowerShell when I\nopen it for you, so I right click and\n\n194\n00:08:44.886 --> 00:08:47.368\nI modify the properties to make\nthe console font a little bigger.\n\n195\n00:08:47.368 --> 00:08:51.396\nSo you could see what I'm typing and\nI usually will just allow or\n\n196\n00:08:51.396 --> 00:08:55.500\nrather I create a larger cursor,\na larger console font, just so\n\n197\n00:08:55.500 --> 00:08:58.220\nthat I can allow you to see very easily.\n\n198\n00:08:58.220 --> 00:09:00.440\nAn occasional change of background\ncolor so it's easier to see,\n\n199\n00:09:00.440 --> 00:09:01.900\nso you can see what I'm doing.\n\n200\n00:09:01.900 --> 00:09:03.980\nBut I'm using PowerShell\nthe same exact way you would,\n\n201\n00:09:03.980 --> 00:09:06.210\nI just made it a little bit easier for\nyou to see.\n\n202\n00:09:06.210 --> 00:09:11.060\nThose of you that appreciate the font size\nand can see the color a little better,\n\n203\n00:09:11.060 --> 00:09:13.270\nobviously, it's better for\nyou to be able to do that.\n\n204\n00:09:13.270 --> 00:09:15.363\nAll right, so if you're not familiar\nwith how to do that, by the way,\n\n205\n00:09:15.363 --> 00:09:16.866\njust right click on the top\nof the PowerShell bar.\n\n206\n00:09:16.866 --> 00:09:22.170\nGo to Properties and you could see,\nI made the cursor size large,\n\n207\n00:09:22.170 --> 00:09:28.220\nI went to Font and I chose 18 point\nin our environment that works well.\n\n208\n00:09:28.220 --> 00:09:30.742\nAnd I choose and I use the Console font,\nLucinda Console,\n\n209\n00:09:30.742 --> 00:09:32.299\ncuz it displays well on our screen.\n\n210\n00:09:32.299 --> 00:09:36.350\nIf you want it to look just like that when\nyou do your demos, like it looks for us,\n\n211\n00:09:36.350 --> 00:09:41.310\nthose are the settings you would choose to\nuse, in order to be able to do that, okay?\n\n212\n00:09:41.310 --> 00:09:44.930\nAll right, so now that I've done that,\nfirst command that I typed in here.\n\n213\n00:09:44.930 --> 00:09:48.200\nAdd Windows feature,\nbecause I'm adding a Windows feature.\n\n214\n00:09:48.200 --> 00:09:50.960\nA name, AD domain services,\ninclude management tools.\n\n215\n00:09:50.960 --> 00:09:53.192\nYou've seen me do this before but\nI'm doing this remotely,\n\n216\n00:09:53.192 --> 00:09:55.529\nI'm not doing it on my domain\ncontroller it's already there.\n\n217\n00:09:55.529 --> 00:09:58.754\nI want to do this on\nthe remote machine PLADDM01,\n\n218\n00:09:58.754 --> 00:10:01.090\ncomputer name in grey right there.\n\n219\n00:10:01.090 --> 00:10:04.280\nParameter, what machine do\nI want to target, PLADDM,\n\n220\n00:10:04.280 --> 00:10:07.330\nit kind of wraps around there, 01.\n\n221\n00:10:07.330 --> 00:10:11.275\nAnd so right there, PLADDM01,\nI've gone ahead and\n\n222\n00:10:11.275 --> 00:10:15.992\nI've run that already and\nyou could see success true, restart,\n\n223\n00:10:15.992 --> 00:10:20.564\nno, exit code success,\nit has installed that on PLADDM01.\n\n224\n00:10:20.564 --> 00:10:24.427\nSo if I go over here to PLADDM01,\n\n225\n00:10:24.427 --> 00:10:31.690\nwhich is where I am right now,\njust move up so you can see.\n\n226\n00:10:31.690 --> 00:10:35.465\nAnd, if I go to local server,\njust so we could see the name.\n\n227\n00:10:35.465 --> 00:10:37.903\nPLADDM01, right there, so\nwe can see what machine I'm on.\n\n228\n00:10:37.903 --> 00:10:39.597\nIf I go back to dashboard,\n\n229\n00:10:39.597 --> 00:10:45.110\nyou see I have a little caution flag here\nin notification, what does it show me?\n\n230\n00:10:45.110 --> 00:10:48.125\nConfiguration required for\nADDS services at PLADDM01.\n\n231\n00:10:49.160 --> 00:10:50.300\nI'm in the middle of configuring,\n\n232\n00:10:50.300 --> 00:10:52.520\nI've added the feature, but\nI haven't configured it yet.\n\n233\n00:10:52.520 --> 00:10:54.525\nI'm about to do that remotely but\nremember,\n\n234\n00:10:54.525 --> 00:10:56.968\nI said I could come to this machine and\ndo it right here.\n\n235\n00:10:56.968 --> 00:10:59.142\nI'm gonna do it from PowerShell,\nI'm gonna do it remotely but\n\n236\n00:10:59.142 --> 00:11:00.510\nyou could see part one already worked.\n\n237\n00:11:00.510 --> 00:11:02.949\nI have evidence of the fact\nI've already installed that and\n\n238\n00:11:02.949 --> 00:11:04.324\nindeed I can see that it is there.\n\n239\n00:11:04.324 --> 00:11:09.390\nAll right, so I've got that now, part\ntwo in PowerShell, take a look up here.\n\n240\n00:11:09.390 --> 00:11:14.786\nI've set up a remote session Enter\nps session targeting PLADDM01.\n\n241\n00:11:14.786 --> 00:11:17.413\nNotice my PowerShell prompt is now.\n\n242\n00:11:20.224 --> 00:11:22.630\nLet's move this over just a little bit so\nyou can see.\n\n243\n00:11:22.630 --> 00:11:26.115\nI went from psc users\nadministrator whatever, right.\n\n244\n00:11:26.115 --> 00:11:32.245\nWhen I hit Enter I opened up a separate\nremote session and now it says, pladdm01.\n\n245\n00:11:32.245 --> 00:11:37.300\nPSC user administrator,\npracticelabs, right, /documents,\n\n246\n00:11:37.300 --> 00:11:42.350\nbecause that is now the remote session\nI'm using against the plaiddm01 machine.\n\n247\n00:11:42.350 --> 00:11:46.870\nSo the enter PS session commandlet,\nfollowed by the computer name parameter,\n\n248\n00:11:46.870 --> 00:11:48.970\nfollowed by the machine01 target.\n\n249\n00:11:48.970 --> 00:11:53.207\nAllows me to connect remotely via\nPowershell, leveraging the WINRM service\n\n250\n00:11:53.207 --> 00:11:57.523\nthat I enabled and managing through\nthe group policy I created and the domain.\n\n251\n00:11:57.523 --> 00:12:01.028\nAnd as a result I'm able to connect to\nthis machine remotely I just showed\n\n252\n00:12:01.028 --> 00:12:01.549\nit to you.\n\n253\n00:12:01.549 --> 00:12:06.018\nAnd I\"m now about to execute a series\nof Powershell commands remotely\n\n254\n00:12:06.018 --> 00:12:11.180\nagainst the machine to configure and\nfinish configuring the ADDS feature.\n\n255\n00:12:11.180 --> 00:12:11.860\nAnd install and\n\n256\n00:12:11.860 --> 00:12:16.220\nconfigure an additional domain controller\nfrom the practicelabs.com domain,\n\n257\n00:12:16.220 --> 00:12:19.360\nwhich is the domain that I'm already\na member of and that this machine.\n\n258\n00:12:19.360 --> 00:12:22.210\nThe DC machine I'm on right now,\nopening PowerShell and\n\n259\n00:12:22.210 --> 00:12:25.680\nmanaging remotely from,\nis already gonna establish for us.\n\n260\n00:12:25.680 --> 00:12:29.930\nSo we're about to walk through\nthe syntax of the PowerShell command to\n\n261\n00:12:29.930 --> 00:12:34.310\nconfigure a remote domain controller\nusing a remote PowerShell session.\n\n262\n00:12:34.310 --> 00:12:35.730\nMy hands will never leave my body, and\n\n263\n00:12:35.730 --> 00:12:38.320\nmy fingers will never leave my\nhands during this demonstration.\n\n264\n00:12:38.320 --> 00:12:39.840\nAll right, they do, say something.\n\n265\n00:12:39.840 --> 00:12:42.600\nAll right, so let's take a look here,\nlet's see what we're gonna do.\n\n266\n00:12:42.600 --> 00:12:45.609\nOkay, let me just make this\nfull-screen again so you can see this.\n\n267\n00:12:47.480 --> 00:12:50.210\nGive that just a second,\nall right, so install.\n\n268\n00:12:50.210 --> 00:12:56.371\nIt just kind of blinks out and comes back\nwhen the console, what am I thinking of?\n\n269\n00:12:56.371 --> 00:12:59.230\nWhat ever the thing is, it sets up, right?\n\n270\n00:12:59.230 --> 00:13:01.050\nIt just scales itself to the full screen.\n\n271\n00:13:01.050 --> 00:13:04.140\nSo, don't worry about that blink on and\noff, and the fact that it goes gray and\n\n272\n00:13:04.140 --> 00:13:06.220\ncomes back that's just because\nof the remote environment.\n\n273\n00:13:06.220 --> 00:13:09.209\nWe're already pinging into all these\nservers, and the console resets itself\n\n274\n00:13:09.209 --> 00:13:11.708\nwhenever I resize it, so just so\nyou know why that's happening.\n\n275\n00:13:11.708 --> 00:13:14.334\nAll right, so\ninstall addsdomainController,\n\n276\n00:13:14.334 --> 00:13:16.320\nnew PowerShell commandlet.\n\n277\n00:13:16.320 --> 00:13:20.380\nI'm using this commandlet to configure\nan additional Active Directory\n\n278\n00:13:20.380 --> 00:13:22.840\ndomain services domain controller.\n\n279\n00:13:22.840 --> 00:13:26.410\nI wanna install DNS,\nyou'll see that parameter there.\n\n280\n00:13:26.410 --> 00:13:30.340\nI'm using the credential parameter and\nthe credential parameter\n\n281\n00:13:33.170 --> 00:13:38.890\nfollowed by get credential,\nget right there, credential,\n\n282\n00:13:38.890 --> 00:13:43.800\npractice labs which is the domain,\nadministrator reads the credential.\n\n283\n00:13:43.800 --> 00:13:47.149\nThis is in parenthesis, remember\nthe order of operations for mathematics,\n\n284\n00:13:47.149 --> 00:13:50.230\nwhen you learned-\n&gt;&gt; Please excuse my dear Aunt Sally.\n\n285\n00:13:50.230 --> 00:13:51.500\n&gt;&gt; Right, and so the P for\n\n286\n00:13:51.500 --> 00:13:54.060\nplease was always that we do\nparentheses first, right?\n\n287\n00:13:54.060 --> 00:13:55.300\n&gt;&gt; Correct.\n&gt;&gt; Then we do division,\n\n288\n00:13:55.300 --> 00:13:57.690\nmultiply, add, subtract, right?\n\n289\n00:13:57.690 --> 00:13:58.760\nAnd so as a result,\n\n290\n00:13:58.760 --> 00:14:02.910\nanything in parentheses in\na PowerShell statement is always done\n\n291\n00:14:02.910 --> 00:14:06.390\nbefore anything outside the parentheses\nis we read through and we execute it.\n\n292\n00:14:06.390 --> 00:14:11.280\nSo when I have a credential parameter\ninside parentheses get credential\n\n293\n00:14:11.280 --> 00:14:13.180\npractice labs administrator.\n\n294\n00:14:13.180 --> 00:14:18.490\nThat credential for that user is gonna\nbe provided to the credential parameter,\n\n295\n00:14:18.490 --> 00:14:22.060\nand it's gonna be used to drive my\n\n296\n00:14:22.060 --> 00:14:26.570\nability to be able to then provide my\nuser identity to execute this remotely.\n\n297\n00:14:26.570 --> 00:14:30.811\nNow, if you've been paying attention we\nhave two pieces when we identify ourselves\n\n298\n00:14:30.811 --> 00:14:34.513\nand provide credentials we have user\nname you see we clearly provide it and\n\n299\n00:14:34.513 --> 00:14:35.128\npassword.\n\n300\n00:14:35.128 --> 00:14:38.109\nNotice I don't provide a password\nhere I'm gonna be prompted for\n\n301\n00:14:38.109 --> 00:14:41.644\nthe password as soon as I enter here gonna\nhave to provide it a couple of times.\n\n302\n00:14:41.644 --> 00:14:45.225\nBut I'm providing part of the credentials\nstrain already I have that,\n\n303\n00:14:45.225 --> 00:14:48.806\nyou understand why that's there and\nthen the domain name parameter and\n\n304\n00:14:48.806 --> 00:14:51.090\nthe name of domain I\nwanna operate against.\n\n305\n00:14:51.090 --> 00:14:56.000\nSo I'm going to install this ADDS\ndomain controller along with DNS\n\n306\n00:14:56.000 --> 00:14:58.730\nusing the practice labs\nadministrator credential and\n\n307\n00:14:58.730 --> 00:15:03.850\nthe password I'm about to provide into\nthe existing domain practicelabs.com.\n\n308\n00:15:03.850 --> 00:15:05.750\nThat's what I'm gonna do, right.\n\n309\n00:15:05.750 --> 00:15:08.340\nAll right so let's just be there.\n\n310\n00:15:08.340 --> 00:15:13.188\n&gt;&gt; And if you had to do this\na bunch of times you could\n\n311\n00:15:13.188 --> 00:15:18.294\nalso do your $_.,\nto create that alias there.\n\n312\n00:15:18.294 --> 00:15:20.925\n&gt;&gt; I could, here just one\nsecond just typing that in so,\n\n313\n00:15:20.925 --> 00:15:22.220\nit’s active there we go.\n\n314\n00:15:22.220 --> 00:15:25.730\nAll right, so little funny quirky thing\nin the console it could take some time\n\n315\n00:15:25.730 --> 00:15:27.300\ncouldn't get it to go active on site.\n\n316\n00:15:27.300 --> 00:15:29.930\nGo back in there and backspace and\nreactivate it your right so\n\n317\n00:15:29.930 --> 00:15:30.740\nyou see I'm prompted.\n\n318\n00:15:30.740 --> 00:15:32.700\nRemember I said you have to\nprovide the password right, so\n\n319\n00:15:32.700 --> 00:15:34.910\nwe're gonna go ahead and\nprovide our password here.\n\n320\n00:15:34.910 --> 00:15:39.510\nJust make sure I type in\nthe right one P-A-S-S-W-0-R-D.\n\n321\n00:15:39.510 --> 00:15:42.245\nSuper secret password, just heard\nme mumble it while we were talking.\n\n322\n00:15:42.245 --> 00:15:43.607\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n323\n00:15:43.607 --> 00:15:45.280\nwe're gonna click okay, now.\n\n324\n00:15:45.280 --> 00:15:46.860\nIt went ahead and said,\nokay, great, no problem.\n\n325\n00:15:46.860 --> 00:15:50.340\nAnd by the way, when you see black\nbackground with yellow text in PowerShell,\n\n326\n00:15:50.340 --> 00:15:51.200\nthat's not a bad thing.\n\n327\n00:15:51.200 --> 00:15:53.006\nIt's not yelling at you,\ntelling you you have an error.\n\n328\n00:15:53.006 --> 00:15:55.019\nThat's when you see red text\n[LAUGH] on a black background.\n\n329\n00:15:55.019 --> 00:15:57.648\nYellow is usually, hey, I'm just\ngiving you status, I'm updating you,\n\n330\n00:15:57.648 --> 00:15:59.560\nI'm telling you something's going on.\n\n331\n00:15:59.560 --> 00:16:00.851\nLet's take a look.\nWarning, script or\n\n332\n00:16:00.851 --> 00:16:04.630\napplication on remote computer platform\ndm01 is sending a prompt request.\n\n333\n00:16:04.630 --> 00:16:07.520\nWhen you are prompted enter sensitive\ninformation, the credential or\n\n334\n00:16:07.520 --> 00:16:10.750\npassword in this case, only if you trust\nthe remote computer and the application or\n\n335\n00:16:10.750 --> 00:16:12.400\nscript that is requesting the data.\n\n336\n00:16:12.400 --> 00:16:15.000\nSo I've entered the password\nthe first time.\n\n337\n00:16:15.000 --> 00:16:15.560\nThat's fine.\n\n338\n00:16:15.560 --> 00:16:16.970\nBut now what is it asking for?\n\n339\n00:16:16.970 --> 00:16:19.360\nSafe mode administrator password.\n\n340\n00:16:19.360 --> 00:16:20.330\nThat's a separate.\n\n341\n00:16:20.330 --> 00:16:22.280\nIt's obviously in this\ncase is gonna be the same.\n\n342\n00:16:22.280 --> 00:16:25.430\nBut it's a separate instance for\nthe password that I have to provide.\n\n343\n00:16:25.430 --> 00:16:26.936\nI'm gonna have to provide it twice.\n\n344\n00:16:26.936 --> 00:16:30.730\nI have provided and then confirm it so\nthat way I can work with the active\n\n345\n00:16:30.730 --> 00:16:34.570\ndirectory and do the installation,\nthe configuration, and ultimately have\n\n346\n00:16:34.570 --> 00:16:38.810\nthat credential and that password assign\nso that domain control could be recovered\n\n347\n00:16:38.810 --> 00:16:42.420\nusing the domain admin credential and\nthe password if there's a problem.\n\n348\n00:16:42.420 --> 00:16:43.390\nThat's what I'm about to do.\n\n349\n00:16:43.390 --> 00:16:45.210\nSo I'm going to put\nthat password in again.\n\n350\n00:16:47.600 --> 00:16:49.080\nIt's going to ask me to confirm it.\n\n351\n00:16:49.080 --> 00:16:52.340\nOkay, no big deal, assuming I\ntyped it correctly of course and\n\n352\n00:16:52.340 --> 00:16:53.840\nI type the same one twice.\n\n353\n00:16:53.840 --> 00:16:56.830\nThen, you'll see here the target\nserver will be configured.\n\n354\n00:16:56.830 --> 00:16:58.100\nThis is the main controller.\n\n355\n00:16:58.100 --> 00:17:00.520\nWe started when this office completes,\nyou'll want to continue.\n\n356\n00:17:00.520 --> 00:17:03.550\nYou can hit Y for yes,\nor a A for yes to all.\n\n357\n00:17:03.550 --> 00:17:05.550\nYou can obviously hit no there as well.\n\n358\n00:17:05.550 --> 00:17:09.270\nIf you do Y you're gonna get prompted at\nevery stop along the way as it does stuff\n\n359\n00:17:09.270 --> 00:17:13.890\nif you hit A, yes to all, it's just gonna\ndo it's stuff I don't wanna be bothered so\n\n360\n00:17:13.890 --> 00:17:16.440\nI'm gonna hit A yes to all, and\njust let it run do it's thing.\n\n361\n00:17:16.440 --> 00:17:19.340\nWe're gonna see this green\nWindow open up here so,\n\n362\n00:17:19.340 --> 00:17:20.380\nit's gonna tell us what it's doing.\n\n363\n00:17:20.380 --> 00:17:24.890\nInstall ad domain controller, determine\nreplication source dc, where I'm I gonna\n\n364\n00:17:24.890 --> 00:17:29.310\nget the copy of the active directory\nntds.dv file from bring it down.\n\n365\n00:17:29.310 --> 00:17:32.050\nValidating environment user\nimport verifying Qrex for\n\n366\n00:17:32.050 --> 00:17:35.080\ndomain operation and\nnow it's gonna start doing it's stuff.\n\n367\n00:17:35.080 --> 00:17:35.790\nRight?\n\n368\n00:17:35.790 --> 00:17:37.910\nAnd so, it's gonna start\nwalking through now again,\n\n369\n00:17:37.910 --> 00:17:42.890\nblack background yellow text as we go\nperfectly acceptable now issue here we're\n\n370\n00:17:42.890 --> 00:17:46.520\nnot worried about it it does take a few\nminutes to things will happen, it updates\n\n371\n00:17:46.520 --> 00:17:50.580\nus it's starting to install the new domain\ncontroller, shaking the domain upgrade\n\n372\n00:17:50.580 --> 00:17:55.780\nstatus to ensure that this machine,\nThe one that we are targeting PlaidDM01\n\n373\n00:17:55.780 --> 00:17:59.920\nhas got the right operating system that\nit’s going to be able to be upgraded.\n\n374\n00:17:59.920 --> 00:18:04.180\nIt’s got the right background and\nresource capabilities.\n\n375\n00:18:04.180 --> 00:18:05.990\nIt’s got the pre-reqs on it,\n\n376\n00:18:05.990 --> 00:18:08.040\nusing like Node X framework\nwhatever else has to be there.\n\n377\n00:18:08.040 --> 00:18:10.750\nThey're all there,\nit’s doing that right now as it goes.\n\n378\n00:18:10.750 --> 00:18:13.950\nYou'll see now it’s installing and\nwaiting for DNS to finish.\n\n379\n00:18:13.950 --> 00:18:17.670\nSo DNS is starting to be configured,\nthat install DNS parameter.\n\n380\n00:18:17.670 --> 00:18:20.670\nStart an execute on that,\nyou can see that's happening and\n\n381\n00:18:20.670 --> 00:18:23.960\neventually it's gonna take a couple of\nminutes once it walks through everything\n\n382\n00:18:23.960 --> 00:18:27.880\nas we finish up we will then be prompted\nand it will say hey by the way we're done\n\n383\n00:18:27.880 --> 00:18:30.070\nwe're restarting we'll\nlose our connectivity.\n\n384\n00:18:30.070 --> 00:18:32.800\nIn PowerShell because it's gonna\nremotely restart the other machine.\n\n385\n00:18:32.800 --> 00:18:33.810\nWe'll give it a couple minutes.\n\n386\n00:18:33.810 --> 00:18:36.360\nWe'll come back and\nwe'll see that it's all finished up.\n\n387\n00:18:36.360 --> 00:18:38.440\nSo we're gonna take just\na quick break here.\n\n388\n00:18:38.440 --> 00:18:40.810\nYou're gonna,\nthrough the modern magic of ITProTV,\n\n389\n00:18:40.810 --> 00:18:43.920\njoin us back again as soon as\nthis is done and ready to go.\n\n390\n00:18:43.920 --> 00:18:46.510\nAnd as soon as we pick back up,\nyou're gonna see the output for this, and\n\n391\n00:18:46.510 --> 00:18:47.639\nwe'll continue on with the demo.\n\n392\n00:18:48.750 --> 00:18:50.770\nAll right, so\nyou could see we are successful,\n\n393\n00:18:50.770 --> 00:18:52.430\nwe've finished up our installation.\n\n394\n00:18:52.430 --> 00:18:56.680\nGot a bunch of yellow script text that's\nkinda gone through the frame as we've\n\n395\n00:18:56.680 --> 00:18:57.330\nbeen working here.\n\n396\n00:18:57.330 --> 00:18:59.280\nJust waiting on it behind the scenes\nto do all the things it did.\n\n397\n00:18:59.280 --> 00:19:02.290\nAnd what we're looking for,\ndown here at the bottom of this message.\n\n398\n00:19:02.290 --> 00:19:07.819\nLet me just move this over ever so\nslightly so we can see this.\n\n399\n00:19:09.480 --> 00:19:13.570\nBut we're looking for down here\noperation completed successfully DC\n\n400\n00:19:13.570 --> 00:19:18.430\npromo general.3 status success and\nwe're back at our prompt.\n\n401\n00:19:18.430 --> 00:19:21.950\nAnd we'll verify this of course to\nensure that it's the case and so\n\n402\n00:19:21.950 --> 00:19:25.410\nwhat we're going to do is just come\nover here to the console window for\n\n403\n00:19:25.410 --> 00:19:30.170\nthe other machine, the PlabDM01 machine,\nwe targeted, we're restarted so\n\n404\n00:19:30.170 --> 00:19:33.430\nnow we're back up and running with the\ndomain controller already instantiated.\n\n405\n00:19:33.430 --> 00:19:35.220\nServer manager is back open,\n\n406\n00:19:35.220 --> 00:19:40.240\nwe can see ADDS is here we'll verify that\nwe're on the right machine by coming here,\n\n407\n00:19:40.240 --> 00:19:44.560\nwe can see now that PlaidDM01\nis a member of practicelabs.com.\n\n408\n00:19:44.560 --> 00:19:47.270\nSo, we didn't stop with\nthe make it power configure it.\n\n409\n00:19:47.270 --> 00:19:49.040\nDo that remotely from power shop.\n\n410\n00:19:49.040 --> 00:19:49.940\nSo you've seen how to do that.\n\n411\n00:19:49.940 --> 00:19:52.130\n&gt;&gt; You never had to\ntake out your passport.\n\n412\n00:19:52.130 --> 00:19:53.870\n&gt;&gt; I never had to take out my passport.\n\n413\n00:19:53.870 --> 00:19:55.408\nThat's absolutely correct.\n\n414\n00:19:55.408 --> 00:19:57.025\nSo, I didn't have to travel anymore, and\n\n415\n00:19:57.025 --> 00:20:00.205\ngo anywhere to do that which is\nawesome right so that was pretty cool.\n\n416\n00:20:00.205 --> 00:20:03.595\nSo we've done that now what if we\nwant to set up a brand new forest\n\n417\n00:20:03.595 --> 00:20:06.315\nusing a stand alone machine to build\nthat brand new infrastructure.\n\n418\n00:20:06.315 --> 00:20:09.318\nSo we're gonna go ahead and show you\nhow to do that remotely as well so\n\n419\n00:20:09.318 --> 00:20:12.685\nI'm gonna just get rid of this console for\na minute,\n\n420\n00:20:12.685 --> 00:20:17.325\njust minimize that what we're here what\nwe're gonna do is kill PowerShell and\n\n421\n00:20:17.325 --> 00:20:20.150\nopen it back up again so\nwe can connect to another machine.\n\n422\n00:20:20.150 --> 00:20:21.260\nAnd start this process.\n\n423\n00:20:21.260 --> 00:20:24.240\nI'm just gonna go back in,\nopen PowerShell back up.\n\n424\n00:20:24.240 --> 00:20:25.980\nWe'll just go ahead and\n\n425\n00:20:25.980 --> 00:20:31.860\nwe will do another add Windows feature,\njust gonna type that out again.\n\n426\n00:20:31.860 --> 00:20:36.375\nWe're gonna add the same credential, or\nrather the parameter, excuse me, for name.\n\n427\n00:20:36.375 --> 00:20:41.595\nWe're gonna add the ADDS feature,\nso AD Domain Services, like we did.\n\n428\n00:20:41.595 --> 00:20:47.035\nSo we're gonna type that in,\ndomain-services, unfortunately\n\n429\n00:20:47.035 --> 00:20:50.035\nno autocomplete for the name of the\nservice feature, you've gotta know that.\n\n430\n00:20:50.035 --> 00:20:54.405\nWe're gonna include our management tools,\nso we're gonna type in include, and\n\n431\n00:20:54.405 --> 00:20:57.640\njust autotab to complete that,\nbecause as you've heard me say,\n\n432\n00:20:57.640 --> 00:21:00.130\nI'm not gonna type the whole\nthing if I don't have to.\n\n433\n00:21:00.130 --> 00:21:03.830\nWe'll do computer name as the parameter,\nauto tab for that.\n\n434\n00:21:03.830 --> 00:21:08.660\nBut instead of plab dm01,\nthis time we're gonna target plab sa01 or\n\n435\n00:21:08.660 --> 00:21:12.700\nstand alone machine, not joined\nto a domain, standing on its own.\n\n436\n00:21:12.700 --> 00:21:15.470\nSo we're gonna do plab sa01.\n\n437\n00:21:17.620 --> 00:21:19.910\nHit Enter, let that go out, connect.\n\n438\n00:21:19.910 --> 00:21:22.320\nRemember, that was one of the two\nmachines we wanted to remotely manage.\n\n439\n00:21:22.320 --> 00:21:25.180\nAnd so we're gonna connect and\ndo the configuration.\n\n440\n00:21:25.180 --> 00:21:29.620\nThis is just step one,\nwhich is just adding in the ADDS features.\n\n441\n00:21:29.620 --> 00:21:34.720\nAgain, we could do that relatively easily\nThen what we're gonna do is, we're gonna\n\n442\n00:21:34.720 --> 00:21:38.570\ngo ahead after we of course confirmed\nthat we've been successfully doing this.\n\n443\n00:21:38.570 --> 00:21:43.550\nAnd we're gonna setup the directory\ninstallation and promote plaid SE 01 and\n\n444\n00:21:43.550 --> 00:21:47.850\nmake it structured in such a way that\nit can not only host the forest but\n\n445\n00:21:47.850 --> 00:21:50.960\nwill also become the anchor as\nthe forest group we need to do.\n\n446\n00:21:50.960 --> 00:21:53.860\nSo we're gonna go in as\nsoon as this is finished on\n\n447\n00:21:53.860 --> 00:21:57.170\nplat dc01 which is where\nwe are remotely connecting.\n\n448\n00:21:57.170 --> 00:21:59.920\nSo we've been successful\nhere we've got that setup.\n\n449\n00:21:59.920 --> 00:22:04.720\nLet's just go quickly take a look here,\nand let's open up a console to play dc01.\n\n450\n00:22:04.720 --> 00:22:10.362\nI have it sitting right down here,\nLet's just go in,\n\n451\n00:22:10.362 --> 00:22:13.440\nlog in real quick,\njust to make sure we bring this up.\n\n452\n00:22:13.440 --> 00:22:16.660\nLet Server Manager load for\nus and we'll see,\n\n453\n00:22:16.660 --> 00:22:21.110\nsoon as it updates,\nthat ADDS has been added as a feature.\n\n454\n00:22:21.110 --> 00:22:22.470\nYou can see it right there, but\n\n455\n00:22:22.470 --> 00:22:25.940\nagain, it's telling us that we have\nsome additional configuration to do.\n\n456\n00:22:25.940 --> 00:22:27.080\nWe haven't done anything with it yet.\n\n457\n00:22:27.080 --> 00:22:30.330\nSo, you could see that we've started\nthe beginning of that process but\n\n458\n00:22:30.330 --> 00:22:31.340\nwe have not finished it.\n\n459\n00:22:31.340 --> 00:22:34.120\nSo, I'm just going to minimize that,\nget rid of the console for\n\n460\n00:22:34.120 --> 00:22:37.200\na moment,\ncome back to the domain controller.\n\n461\n00:22:37.200 --> 00:22:39.580\nI'm just going to minimize power shell.\n\n462\n00:22:39.580 --> 00:22:42.600\nSo, we're back in the server\nmanager on plabDC01, and\n\n463\n00:22:42.600 --> 00:22:47.060\nwhat we're going to do is we're going\nto go ahead and we're going to go here.\n\n464\n00:22:47.060 --> 00:22:49.570\nWe're going to go to all\nservers inside the dashboard.\n\n465\n00:22:49.570 --> 00:22:52.310\nAnd so,\nwe can see we're in the all servers area.\n\n466\n00:22:54.030 --> 00:22:57.250\nNow, what we're gonna\ndo is we're going to.\n\n467\n00:22:59.610 --> 00:23:04.180\nCome in here and just refresh this one\nsecond to make sure this is all coming up.\n\n468\n00:23:04.180 --> 00:23:07.500\nI just wanna make sure that all\nthe services on this server are running.\n\n469\n00:23:07.500 --> 00:23:09.900\nWe have no bad events,\nsort of what I'm looking for.\n\n470\n00:23:09.900 --> 00:23:11.980\nBefore we go ahead and\nwe add a server in for management.\n\n471\n00:23:11.980 --> 00:23:15.580\nSo I'm just quickly checking to\nmake sure I get an update here.\n\n472\n00:23:15.580 --> 00:23:18.970\nAll looks good,\nokay let's go back here to our dashboard.\n\n473\n00:23:18.970 --> 00:23:19.690\nAll right, so\n\n474\n00:23:19.690 --> 00:23:22.930\nwhat we're gonna do, could have done the\nsame thing from the dashboard, by the way.\n\n475\n00:23:22.930 --> 00:23:24.260\nDoesn't really matter where we do it.\n\n476\n00:23:24.260 --> 00:23:26.960\nBut what we're gonna do is the following.\n\n477\n00:23:26.960 --> 00:23:30.620\nI'm gonna go ahead,\nlet's go back to where we were.\n\n478\n00:23:30.620 --> 00:23:32.300\nLet me go in here.\n\n479\n00:23:32.300 --> 00:23:34.180\nLet me go to manage.\n\n480\n00:23:34.180 --> 00:23:38.190\nLet me add in a server, so\nI'm going to add in a server.\n\n481\n00:23:38.190 --> 00:23:40.220\nIn this case it's the one\nI want to target.\n\n482\n00:23:40.220 --> 00:23:41.570\nLet's go in and add that in.\n\n483\n00:23:41.570 --> 00:23:47.586\nNow what I'm going to do is I'm going to\nadd in my PlabSA01 that we're targeting.\n\n484\n00:23:47.586 --> 00:23:54.500\nSo I'm going to go ahead and\nadd in PlabSA01 and find now.\n\n485\n00:23:55.990 --> 00:23:58.152\nFind up there, Windows Server 2016.\n\n486\n00:23:58.152 --> 00:24:01.970\nHighlight that, we have to obviously add\nit into the column here on the right.\n\n487\n00:24:01.970 --> 00:24:04.020\nSo I'm gonna click the little\narrow to move that over.\n\n488\n00:24:04.020 --> 00:24:05.280\nYou could see it's there.\n\n489\n00:24:05.280 --> 00:24:06.910\nJust gonna click OK.\n\n490\n00:24:06.910 --> 00:24:08.190\nOkay, so we're gonna add that in.\n\n491\n00:24:08.190 --> 00:24:09.990\nYou'll see that I can now see that one.\n\n492\n00:24:09.990 --> 00:24:12.960\nIt's being added in,\nit's online and available.\n\n493\n00:24:12.960 --> 00:24:16.970\nSo now that I've added it in,\nwhat I'm gonna be able to do is,\n\n494\n00:24:16.970 --> 00:24:19.990\nI'm gonna be able to go in, I'm gonna\nbe able to highlight, as you saw.\n\n495\n00:24:19.990 --> 00:24:21.440\nLet me scroll up so you can see it.\n\n496\n00:24:21.440 --> 00:24:24.950\nI'm gonna highlight plabSA01,\nselect it and say hey,\n\n497\n00:24:24.950 --> 00:24:28.040\nI want to focus the server\nmanager on this machine.\n\n498\n00:24:28.040 --> 00:24:31.060\nSo, I want to do one or\nmore things to it, so I'm selecting it so\n\n499\n00:24:31.060 --> 00:24:36.710\nI can begin to be able to go in and I can\ntake action remotely against this machine.\n\n500\n00:24:36.710 --> 00:24:40.800\nSo, by highlighting it you'll notice,\nand let me highlight DC01 again just to\n\n501\n00:24:40.800 --> 00:24:45.590\nshow you the difference,\nI'm going to be able to highlight up here.\n\n502\n00:24:45.590 --> 00:24:50.760\nAnd I can come in and I can configure or\ngo through the configuration for plabSA01.\n\n503\n00:24:50.760 --> 00:24:55.430\nSo I can actually select the server and\nthen get access to the configuration\n\n504\n00:24:55.430 --> 00:24:59.700\nthat's pending on the server remotely by\nadding the server into the Server Manager.\n\n505\n00:24:59.700 --> 00:25:01.130\nAnd I'm gonna be able to\nwork with it remotely.\n\n506\n00:25:01.130 --> 00:25:03.070\nSo I'm gonna be able to do this,\n\n507\n00:25:03.070 --> 00:25:06.610\nI'm gonna promote this server to a domain\ncontroller, that's the pending action.\n\n508\n00:25:06.610 --> 00:25:09.230\nSo I'm gonna click here,\ngive this just a second.\n\n509\n00:25:09.230 --> 00:25:12.690\nAnd you move this up and just highlight\nthis make this full screen so\n\n510\n00:25:12.690 --> 00:25:13.750\nwe can see the Wizard.\n\n511\n00:25:13.750 --> 00:25:15.970\nCan we go full screen just so\nwe can see what's going on behind there?\n\n512\n00:25:15.970 --> 00:25:16.760\nWe're gonna go through.\n\n513\n00:25:16.760 --> 00:25:20.290\nAnd we're gonna actually walk through\nthe wizard and finish promoting this.\n\n514\n00:25:20.290 --> 00:25:22.890\nAll right.\nSo you'll see we have the option here to\n\n515\n00:25:22.890 --> 00:25:24.830\nadd a domain controller\nto an existing domain.\n\n516\n00:25:24.830 --> 00:25:27.490\nAdd a new domain to an existing forest.\n\n517\n00:25:27.490 --> 00:25:28.200\nWe're not doing those.\n\n518\n00:25:28.200 --> 00:25:29.680\nWe're gonna add a brand new forest.\n\n519\n00:25:29.680 --> 00:25:33.260\nSo highlight that,\nclick there to make that select and\n\n520\n00:25:33.260 --> 00:25:36.970\nnotice the screen changes and the options\nchange based on the selection I make.\n\n521\n00:25:36.970 --> 00:25:39.020\nI have to specify the route domain name.\n\n522\n00:25:39.020 --> 00:25:40.870\nI'm gonna put that in right now.\n\n523\n00:25:40.870 --> 00:25:43.702\nWhat is gonna be the name of\nthe route domain for the forest?\n\n524\n00:25:43.702 --> 00:25:50.375\nThis will be practiceit.co.uk.\n\n525\n00:25:50.375 --> 00:25:53.490\nSo I'm gonna create my\nbrand new route domain.\n\n526\n00:25:53.490 --> 00:25:54.919\nI'm gonna click Next.\n\n527\n00:25:56.660 --> 00:26:00.760\nAnd that has to be validated so it takes\njust a moment, system does, to go out and\n\n528\n00:26:00.760 --> 00:26:03.570\nsee whether or\nnot that's gonna be a valid domain.\n\n529\n00:26:03.570 --> 00:26:07.010\nSo once that happens, or\nwe find out that we're able to use it\n\n530\n00:26:07.010 --> 00:26:10.440\nbecause it is available,\nI'll be prompted for the password.\n\n531\n00:26:10.440 --> 00:26:13.610\nSo I'll put in the password in order\nto confirm that I can do this.\n\n532\n00:26:13.610 --> 00:26:16.500\nSo wait just a moment for\nthis to finish up,\n\n533\n00:26:16.500 --> 00:26:21.000\nthen once I have put in the password\nI'll be able to move through the rest of\n\n534\n00:26:21.000 --> 00:26:24.280\nthe wizard here I have to specify\nsome options and different things.\n\n535\n00:26:24.280 --> 00:26:27.910\nOnce we've made all those choices we'll\nthen be able to finalize our steps or\n\n536\n00:26:27.910 --> 00:26:31.950\nfinalize our choices and kick the wizard\noff so it actually does the configuration.\n\n537\n00:26:31.950 --> 00:26:35.870\nThis can take a couple of minutes to\ndo the validation of the domain name,\n\n538\n00:26:35.870 --> 00:26:36.520\ndon't worry about it.\n\n539\n00:26:36.520 --> 00:26:38.520\nYou see it took about a minute,\nminute and a half.\n\n540\n00:26:38.520 --> 00:26:39.780\nNot a big deal.\n\n541\n00:26:39.780 --> 00:26:42.730\nIt does tend to take a little bit of time,\nso don't worry about that.\n\n542\n00:26:42.730 --> 00:26:44.440\nYou didn't do anything wrong.\n\n543\n00:26:44.440 --> 00:26:45.430\nDon't start clicking.\n\n544\n00:26:45.430 --> 00:26:46.735\nGetting all crazy and concerned.\n\n545\n00:26:46.735 --> 00:26:48.160\nYou're just gonna mess things up.\n\n546\n00:26:48.160 --> 00:26:49.120\nJust be patient for it.\n\n547\n00:26:49.120 --> 00:26:52.340\nLet it wait, wait it out I should say.\n\n548\n00:26:52.340 --> 00:26:54.580\nLet it run it's course,\nand it will be fine.\n\n549\n00:26:54.580 --> 00:26:57.520\nAlright, so select functional level\nof new forest and new domain.\n\n550\n00:26:57.520 --> 00:26:59.570\nNotice both are set to server 16.\n\n551\n00:26:59.570 --> 00:27:01.630\nAnd so that's what we're gonna choose.\n\n552\n00:27:01.630 --> 00:27:04.080\nNow notice, we can pull down and\nmake some choices here,\n\n553\n00:27:04.080 --> 00:27:08.480\nif we wanna go backwards to a prior\nversion, maybe because we're joining\n\n554\n00:27:08.480 --> 00:27:11.570\na mixed environment as opposed\nto an All Server 16 environment.\n\n555\n00:27:11.570 --> 00:27:15.360\nOnce that wizard blue bar kinda stops\nrunning above the top there, when it was\n\n556\n00:27:15.360 --> 00:27:18.900\nrunning still, you may have noticed when\nit said, hey, look, it said, Server 16.\n\n557\n00:27:18.900 --> 00:27:20.390\nIt was still kinda going on.\n\n558\n00:27:20.390 --> 00:27:23.570\nThose options were locked out, they\nwere grayed out, I couldn't change them.\n\n559\n00:27:23.570 --> 00:27:27.100\nBut as soon as the wizard finished running\nand then that screen was then set,\n\n560\n00:27:27.100 --> 00:27:28.140\nI actually can go in and\n\n561\n00:27:28.140 --> 00:27:31.150\nmake a change here if I choose to, so\njust make sure you're aware of that.\n\n562\n00:27:32.360 --> 00:27:34.900\nSpecify the domain\ncontroller capabilities.\n\n563\n00:27:34.900 --> 00:27:37.450\nDNS, write what capabilities\nwe're gonna have.\n\n564\n00:27:37.450 --> 00:27:39.560\nGlobal catalog, remember we said, hey,\n\n565\n00:27:39.560 --> 00:27:43.780\ngood working best practice, make all\ndomain controllers global catalog servers.\n\n566\n00:27:43.780 --> 00:27:45.590\nAnd I said by default, and\n\n567\n00:27:45.590 --> 00:27:49.430\nby design today, all domain controllers\nare installed as global catalog servers.\n\n568\n00:27:49.430 --> 00:27:50.850\nYou could see the selection there.\n\n569\n00:27:50.850 --> 00:27:53.880\nBut if we chose not to make\nany global catalog server,\n\n570\n00:27:53.880 --> 00:27:57.530\nyou could see that I could deselect that\nif I chose to, it would be up to us.\n\n571\n00:27:57.530 --> 00:28:00.140\nAnd notice I have an option for\nread only domain controller.\n\n572\n00:28:00.140 --> 00:28:01.910\nI wanna make this an RODC.\n\n573\n00:28:01.910 --> 00:28:05.770\nNow, the forest route domain controller\nthat sets up the root of the force cannot\n\n574\n00:28:05.770 --> 00:28:08.760\nbe an RODC,\nbecause it's the first domain controller.\n\n575\n00:28:08.760 --> 00:28:12.000\nBut after i run that, if I was to run this\nagain, and add another domain controller\n\n576\n00:28:12.000 --> 00:28:14.570\nin, I would have that option,\nit would not be grayed out.\n\n577\n00:28:14.570 --> 00:28:16.420\nIt's hard to see, but\nit's grayed out right now.\n\n578\n00:28:16.420 --> 00:28:19.830\nBut I would have access to that,\nand I could make this secondary,\n\n579\n00:28:19.830 --> 00:28:23.530\ntertiary, quaterary, whatever the number\nof domain controllers are at that point.\n\n580\n00:28:23.530 --> 00:28:26.390\nI can make any of the ones beyond\nthe force root domain controller\n\n581\n00:28:26.390 --> 00:28:28.890\na read only domain controller\nafter the initial install.\n\n582\n00:28:28.890 --> 00:28:30.930\nSo just know why that's grayed out but\n\n583\n00:28:30.930 --> 00:28:34.480\nknow also that we do have that option all\nright remember I said we would have to\n\n584\n00:28:34.480 --> 00:28:38.610\ntype in the directory services restore\npassword as soon as I can select it there.\n\n585\n00:28:38.610 --> 00:28:40.320\nYou can see here I'm gonna be prompted for\nthat.\n\n586\n00:28:40.320 --> 00:28:41.900\nLet's type that in.\n\n587\n00:28:44.070 --> 00:28:46.020\nAnd put that in there, right?\n\n588\n00:28:46.020 --> 00:28:48.600\nSo password is provided.\n\n589\n00:28:48.600 --> 00:28:49.230\nWe confirm it.\n\n590\n00:28:49.230 --> 00:28:49.990\nWe'll put that in.\n\n591\n00:28:49.990 --> 00:28:51.960\nAll right, now, a delegation for\n\n592\n00:28:51.960 --> 00:28:56.930\nDNS server cannot be created because the\nauthoritative parent zone cannot be found.\n\n593\n00:28:56.930 --> 00:29:00.080\nWell, cannot be found because nothing\nexist cuz I'm building it all brand\n\n594\n00:29:00.080 --> 00:29:01.050\nnew as we go.\n\n595\n00:29:01.050 --> 00:29:02.770\nSo that's expected by the way.\n\n596\n00:29:02.770 --> 00:29:06.880\nAnd again read and pay attention to\nwhat those informational items are.\n\n597\n00:29:06.880 --> 00:29:08.650\nThey're not always telling you,\nhey, you made a mistake.\n\n598\n00:29:08.650 --> 00:29:10.580\nThey're not always saying hey,\nyou screwed something up.\n\n599\n00:29:10.580 --> 00:29:13.410\nThey're just telling you that there's\nsomething going on in the process you\n\n600\n00:29:13.410 --> 00:29:14.360\nwanna be aware of.\n\n601\n00:29:14.360 --> 00:29:16.660\nThat's perfectly fine, no big deal.\n\n602\n00:29:16.660 --> 00:29:18.430\nWe can operate without that, right?\n\n603\n00:29:19.470 --> 00:29:20.050\nNot a big deal.\n\n604\n00:29:20.050 --> 00:29:24.620\nWe'll just ignore that message, and we'll\ngo ahead and we'll click Next, all right?\n\n605\n00:29:24.620 --> 00:29:29.030\nSo I'm just gonna keep going, verify\nthe net BIOS name, assign to the domain,\n\n606\n00:29:29.030 --> 00:29:30.540\nand if necessary, change it.\n\n607\n00:29:30.540 --> 00:29:32.910\nNotice it's not populated yet,\nwe have to wait for it.\n\n608\n00:29:32.910 --> 00:29:34.990\nIt'll come up there in just a moment.\n\n609\n00:29:34.990 --> 00:29:38.920\nWe should see practice IT,\nwhich will be the net BIOS name\n\n610\n00:29:38.920 --> 00:29:43.400\nbased on the domain name I specified for\nthe root domain on the prior screen.\n\n611\n00:29:43.400 --> 00:29:46.940\nAgain, we're checking behind the scenes\nto make sure that that name is available.\n\n612\n00:29:46.940 --> 00:29:49.730\nSo it does take a couple of\nminutes to kind of do its thing.\n\n613\n00:29:49.730 --> 00:29:50.230\nWait for it.\n\n614\n00:29:50.230 --> 00:29:50.790\nBe patient.\n\n615\n00:29:50.790 --> 00:29:54.950\nOnce it comes up, if you wanna change it\nfor some reason you can, but normally we\n\n616\n00:29:54.950 --> 00:29:58.250\njust tell you leave it alone and accept\nwhat the system specifies it will be.\n\n617\n00:29:58.250 --> 00:29:59.780\nSee it just popped in there.\n\n618\n00:29:59.780 --> 00:30:00.500\nSo we're gonna go ahead.\n\n619\n00:30:00.500 --> 00:30:01.190\nWe're gonna do that.\n\n620\n00:30:01.190 --> 00:30:02.260\nI'm gonna hit the Next button.\n\n621\n00:30:02.260 --> 00:30:03.680\nIt's kind of behind the screen.\n\n622\n00:30:03.680 --> 00:30:05.400\nI'm sitting on top of it,\nbut you can see it there.\n\n623\n00:30:05.400 --> 00:30:06.720\nSo we're gonna click Next.\n\n624\n00:30:06.720 --> 00:30:08.270\nGive that just a minute,\n\n625\n00:30:08.270 --> 00:30:11.640\nthen we're gonna go ahead on the path\npage which we'll see in a moment,\n\n626\n00:30:11.640 --> 00:30:16.370\nwe'll see our default pass for\nthe installation of the database folder,\n\n627\n00:30:16.370 --> 00:30:20.310\nthe log in files folder, the sys file\nfolder, all those things will be there.\n\n628\n00:30:20.310 --> 00:30:22.640\nWe're not gonna make changes to them but\nIn the real world,\n\n629\n00:30:22.640 --> 00:30:27.450\nif you had a reason to,\nyou don't want it to be see Windows NTDS,\n\n630\n00:30:27.450 --> 00:30:32.040\nor this or that, you wanted it to be\nF Drive or whatever make your changes.\n\n631\n00:30:32.040 --> 00:30:35.770\nBut normally, we tell you it's the best\npractice to just accept those.\n\n632\n00:30:35.770 --> 00:30:40.050\nYou could see them there,\nsee Windows NTDS, see Windows SYSVOL.\n\n633\n00:30:40.050 --> 00:30:42.570\nNeed to make a change, do that, if not,\nwe're gonna leave it where it is.\n\n634\n00:30:42.570 --> 00:30:43.800\nI'm gonna click Next again.\n\n635\n00:30:43.800 --> 00:30:47.270\nAgain, just behind the screen,\nas I'm sitting over in the box on box.\n\n636\n00:30:47.270 --> 00:30:51.220\nYou'll see we do have our summary,\nall our review options there.\n\n637\n00:30:52.350 --> 00:30:55.180\nNow please go back to full screen,\nI want you to see this.\n\n638\n00:30:55.180 --> 00:30:57.100\nSo you could see everything\nthat's about to happen.\n\n639\n00:30:57.100 --> 00:31:01.230\nNow I've shown you this before in\nsome of the other walk-throughs.\n\n640\n00:31:01.230 --> 00:31:04.370\nNumber one, I'll remind you,\nis a great way to Take a screenshot.\n\n641\n00:31:04.370 --> 00:31:07.910\nIn this case, probably take two to capture\nall the documentation of everything you're\n\n642\n00:31:07.910 --> 00:31:10.990\nabout to do so\nyou know exactly how this was built out.\n\n643\n00:31:10.990 --> 00:31:14.650\nBut it also tend to point out to you\nthat you have the view script area here.\n\n644\n00:31:14.650 --> 00:31:17.210\nAnd you can do this and\nit shows you the PowerShell script\n\n645\n00:31:17.210 --> 00:31:20.770\nthat's gonna be used actually\ndrive this configuration.\n\n646\n00:31:20.770 --> 00:31:23.380\nEverything we do today\npretty much in these wizards\n\n647\n00:31:23.380 --> 00:31:26.890\neven though it looks like it's point and\nclick in the GUI, its all just simply you\n\n648\n00:31:26.890 --> 00:31:30.640\nconfiguring the Powershell script or\nscripts if there's more than one, and\n\n649\n00:31:30.640 --> 00:31:33.690\nthen Powershell goes off behind\nthe scenes you just don't see it.\n\n650\n00:31:33.690 --> 00:31:37.765\nIt runs and does this for you and\nthen when you're done you basically maybe\n\n651\n00:31:37.765 --> 00:31:42.119\nrestart whatever but essentially you've\ngot your configuration complete.\n\n652\n00:31:42.119 --> 00:31:45.703\nAnd so it's always good to take a look at\nthe PowerShell script so you could see\n\n653\n00:31:45.703 --> 00:31:49.508\nwhat is about to happen and how it's gonna\nwork so you get more comfortable not only\n\n654\n00:31:49.508 --> 00:31:53.257\nunderstanding how to read the scripts,\nbut you can Theoretically go through and\n\n655\n00:31:53.257 --> 00:31:56.209\nwrite one or debunk one if you\nneed to do some troubleshooting.\n\n656\n00:31:56.209 --> 00:31:59.601\nAll right, so we have all of this, you can\nsee what it is, and to get out of here,\n\n657\n00:31:59.601 --> 00:32:01.140\nwe're gonna click Next.\n\n658\n00:32:01.140 --> 00:32:04.177\nLet it do its thing, eventually,\nit'll take a few minutes.\n\n659\n00:32:04.177 --> 00:32:07.516\nYou could see verifying pre reqs for\nthe domain controller operation,\n\n660\n00:32:07.516 --> 00:32:10.475\njust like it was doing in PowerShell\nwhen we did this remotely.\n\n661\n00:32:10.475 --> 00:32:15.338\nIt's gonna step through the stages and\neventually, takes usually about\n\n662\n00:32:15.338 --> 00:32:20.438\nfive minutes approximately, but\nonce it's all done, we then will actually\n\n663\n00:32:20.438 --> 00:32:25.310\nbe able to go through and we will\nbe able to see success here, right?\n\n664\n00:32:25.310 --> 00:32:28.085\nSo if we wait long enough,\neverything will turn out,\n\n665\n00:32:28.085 --> 00:32:30.250\nwhat we're gonna do is just let this run.\n\n666\n00:32:30.250 --> 00:32:34.031\nWe'll quickly come back once it's finished\njust to show you how this finishes up and\n\n667\n00:32:34.031 --> 00:32:35.890\nto show you that it was successful.\n\n668\n00:32:35.890 --> 00:32:38.368\nBut we're gonna actually just\nlet this do its thing, so\n\n669\n00:32:38.368 --> 00:32:41.124\njoin us back here in just a moment and\nyou'll see it finish up.\n\n670\n00:32:41.124 --> 00:32:43.179\nAll right, so\nyou can see the prereq check has passed,\n\n671\n00:32:43.179 --> 00:32:45.607\nyou can see there's some information\nback there on the screen.\n\n672\n00:32:45.607 --> 00:32:49.296\nHey, Windows Server 2016 domain\ncontrollers have a default security\n\n673\n00:32:49.296 --> 00:32:51.120\nsetting for allowed cryptography.\n\n674\n00:32:51.120 --> 00:32:53.480\nIt's kinda telling us a little bit\nabout some of the things we wanna know.\n\n675\n00:32:53.480 --> 00:32:55.830\nThe prereq check did complete,\nand at the bottom here,\n\n676\n00:32:55.830 --> 00:32:57.580\nall prereq checks successfully passed.\n\n677\n00:32:57.580 --> 00:32:58.499\nClick Install,\n\n678\n00:32:58.499 --> 00:33:02.840\nwhich if we go full screen you'll see is\nthe bottom right behind me to prepare.\n\n679\n00:33:02.840 --> 00:33:05.849\nSo basically what we have is a two\nstep process, we do all the prereqs,\n\n680\n00:33:05.849 --> 00:33:07.690\ncheck everything, everything's good.\n\n681\n00:33:07.690 --> 00:33:11.159\nIf we have to remediate anything, we'd\nbe told about it here, you could see it.\n\n682\n00:33:11.159 --> 00:33:16.706\nI'm gonna click Install, it kicks off, it\nstarts, and eventually will finish again.\n\n683\n00:33:16.706 --> 00:33:19.999\nWe're not gonna sit here and\nworry about how everything works, and\n\n684\n00:33:19.999 --> 00:33:22.560\nwatch every step,\nwe're just gonna let it finish.\n\n685\n00:33:22.560 --> 00:33:26.925\nBut at about five to seven minutes\nafter this portion or this part goes,\n\n686\n00:33:26.925 --> 00:33:30.577\nwe'll eventually have the forest\nroot domain installed.\n\n687\n00:33:30.577 --> 00:33:33.508\nThe forest will be installed,\nthe system will restart, we'll be able to\n\n688\n00:33:33.508 --> 00:33:36.980\nlog back in, we'll have a working domain\ncontroller, and everything will be there.\n\n689\n00:33:36.980 --> 00:33:40.949\nSo we're going to let that run, do its\nthing, and then if you want to join us\n\n690\n00:33:40.949 --> 00:33:45.055\nback, we'll be able to just see when we\nlog back in that it's up and running.\n\n691\n00:33:45.055 --> 00:33:47.537\nAnd that will be the proof that we're\nable to set the forest up as well.\n\n692\n00:33:47.537 --> 00:33:50.901\nSo we'll let this run behind the scenes,\nyou'll join us back in just a moment and\n\n693\n00:33:50.901 --> 00:33:54.089\nwe'll see the output of this and\nfinish this particular walk-through up.\n\n694\n00:33:55.390 --> 00:33:58.533\nAll right, so, let's take a look\nat what actually finally happened.\n\n695\n00:33:58.533 --> 00:34:01.379\nSo I've actually just, while we've\nbeen waiting on the demo to finish up,\n\n696\n00:34:01.379 --> 00:34:03.260\nI've switched between the two machines.\n\n697\n00:34:03.260 --> 00:34:07.345\nSo I'm no longer on the original domain\ncontroller we're running server manager\n\n698\n00:34:07.345 --> 00:34:11.504\nfrom, but now I'm on the new forest root\nfor the new forest that we've installed.\n\n699\n00:34:11.504 --> 00:34:16.327\nSo PLABSA01, I just brought up the server\nmanager here, and you can see that\n\n700\n00:34:16.327 --> 00:34:21.240\nwe're now restarting, because we do\nhave to restart after the installation.\n\n701\n00:34:21.240 --> 00:34:24.403\nThat's why I switched between them,\njust so you could see that this is all\n\n702\n00:34:24.403 --> 00:34:27.610\nfinished, and we're gonna go\njust over here to Local Server.\n\n703\n00:34:27.610 --> 00:34:32.134\nYou can see that when I bring\nthis up we are now on PLABSA01 in\n\n704\n00:34:32.134 --> 00:34:38.199\nthe practice.it.code.uk domain in\nthe new forest that we've established.\n\n705\n00:34:38.199 --> 00:34:41.807\nLet's go back out here and\nlet's go into our Tools,\n\n706\n00:34:41.807 --> 00:34:46.840\nlet's go to Active Directory Users and\nComputers real quickly.\n\n707\n00:34:46.840 --> 00:34:49.144\nOpen this up just so you can see it,\n\n708\n00:34:49.144 --> 00:34:53.123\nyou'll see the practice.it.code.uk\ndomain is there.\n\n709\n00:34:53.123 --> 00:34:56.798\nAnd this is the new forest and forest\nroot domain that we have established, and\n\n710\n00:34:56.798 --> 00:34:59.530\neverything has actually\nbeen done successfully.\n\n711\n00:34:59.530 --> 00:35:01.071\nAnd we are finished up, so\n\n712\n00:35:01.071 --> 00:35:05.359\nthis shows us that we were able to\ninstall a brand new forest root domain.\n\n713\n00:35:05.359 --> 00:35:09.490\nRe-establish or establish, rather, a brand\nnew forest on our stand alone machine.\n\n714\n00:35:09.490 --> 00:35:13.756\nDid that remotely from outside the machine\nusing remote management by connecting\n\n715\n00:35:13.756 --> 00:35:18.329\nthe server manager to this server running\nthe installation from there, finishing up,\n\n716\n00:35:18.329 --> 00:35:22.447\nrestarting, connecting back, and\nnow we're able to see the output of that.\n\n717\n00:35:22.447 --> 00:35:25.397\nI did mention that we would just\nquickly take a look at the admin\n\n718\n00:35:25.397 --> 00:35:28.257\ntools you could see, and\nthey've all been here all along.\n\n719\n00:35:28.257 --> 00:35:32.483\nYou can see Active Directory, the\nAdministrative Server, the Center ADAC,\n\n720\n00:35:32.483 --> 00:35:36.773\nthe Domains and Trusts, the Module for\nPowerShell Administration, Sites and\n\n721\n00:35:36.773 --> 00:35:40.059\nServices, the Active Directory Users and\nComputers Tool.\n\n722\n00:35:40.059 --> 00:35:43.713\nIf you haven't seen ADAC before,\nwe mention this and I said I would briefly\n\n723\n00:35:43.713 --> 00:35:47.660\nbring it up so you could see it, it looks\nvery similar to the server manager.\n\n724\n00:35:47.660 --> 00:35:52.335\nYou may have seen Cherokee and I demo the\ntool for other areas we've talked about in\n\n725\n00:35:52.335 --> 00:35:57.029\nthe Server 16 Networking series of shows\nwe did all about the network and stuff.\n\n726\n00:35:57.029 --> 00:35:59.885\nWe did some work with ADAC there,\nand we've talked about and\n\n727\n00:35:59.885 --> 00:36:03.150\nused it in the Server 12 materials,\nas we mentioned as well.\n\n728\n00:36:03.150 --> 00:36:06.079\nBut you can see here,\nwe have dynamic access control,\n\n729\n00:36:06.079 --> 00:36:08.125\nwe did a whole how to on how to use that.\n\n730\n00:36:08.125 --> 00:36:12.985\nWe do have the ability here to go into\npracticeit (local) with CROUs built in,\n\n731\n00:36:12.985 --> 00:36:17.570\nwe do have off to the right here\nthe ability to do some administration.\n\n732\n00:36:17.570 --> 00:36:21.484\nWe can click New and create, as you\ncan see, a group, a user, a computer.\n\n733\n00:36:21.484 --> 00:36:25.213\nWe could change domain controllers,\nraise the forest functional level,\n\n734\n00:36:25.213 --> 00:36:27.696\nempty the recycle bin, or\nenable it and empty it,\n\n735\n00:36:27.696 --> 00:36:31.850\ndo all the things that we were talking\nabout and working with right from here.\n\n736\n00:36:31.850 --> 00:36:34.671\nSo if you haven't seen the ADAC tool\nbefore, it'd be a good idea for\n\n737\n00:36:34.671 --> 00:36:36.913\nyou to go in and take a look and\nspend some time with it.\n\n738\n00:36:36.913 --> 00:36:39.801\nAnd we'll be in and out of here\nover some future demonstrations, so\n\n739\n00:36:39.801 --> 00:36:42.194\nyou'll have a better chance to\nbe able to see it as we go.\n\n740\n00:36:42.194 --> 00:36:45.070\nAll right, so we've done quite a bit for\na little show and tell.\n\n741\n00:36:45.070 --> 00:36:47.164\nWe will have some additional\nthings to come back and\n\n742\n00:36:47.164 --> 00:36:49.995\ntake a look at in some upcoming\nepisodes before we wrap up this topic.\n\n743\n00:36:49.995 --> 00:36:52.774\nIncluding our ability to go in and\njust take a look at how to do\n\n744\n00:36:52.774 --> 00:36:55.846\nthe install that we just did, but\ndo it on a server core instance.\n\n745\n00:36:55.846 --> 00:36:59.420\nWe'll actually come back and show you\nhow to set up ADDS on the server core\n\n746\n00:36:59.420 --> 00:37:02.535\ninstance, in case you haven't done that or\nseen that before.\n\n747\n00:37:02.535 --> 00:37:06.540\nWe've got virtual machines that are\nrunning that have server core installed.\n\n748\n00:37:06.540 --> 00:37:09.134\nWe'll do an install there,\nit's a little bit of a different approach,\n\n749\n00:37:09.134 --> 00:37:10.888\nwanna make sure you're\ncomfortable with that.\n\n750\n00:37:10.888 --> 00:37:14.035\nSo take a look at how to do that,\nwe're also going to go through and\n\n751\n00:37:14.035 --> 00:37:16.782\ntake a look at,\nalthough I showed you how to, in theory,\n\n752\n00:37:16.782 --> 00:37:19.788\nset up a global catalog server\nfrom the install perspective.\n\n753\n00:37:19.788 --> 00:37:23.130\nWe'll take a look at how to configure\nthat, make sure you're familiar with that.\n\n754\n00:37:23.130 --> 00:37:26.095\nTake a little look under the hood\nat DNS SRV service records,\n\n755\n00:37:26.095 --> 00:37:30.295\nmake sure we're comfortable with what's\ngoing on there, it's part of ADDS setup.\n\n756\n00:37:30.295 --> 00:37:33.069\nWe're also gonna take a look\nat how to do the transfer and\n\n757\n00:37:33.069 --> 00:37:34.731\nseize of the FSMO roles, right?\n\n758\n00:37:34.731 --> 00:37:37.564\nWe talked about actually transferring and\nseizing FSMO roles,\n\n759\n00:37:37.564 --> 00:37:39.406\nwe're gonna take a look at how to do that.\n\n760\n00:37:39.406 --> 00:37:42.871\nWe'll walk you through to make sure\nyou get a chance to see how both\n\n761\n00:37:42.871 --> 00:37:44.518\nthose activities take place.\n\n762\n00:37:44.518 --> 00:37:48.390\nAnd we will also make sure that we show\nyou how to clone domain controllers.\n\n763\n00:37:48.390 --> 00:37:51.964\nGot quite a few hands-on sessions coming\nup where we're gonna be walking through\n\n764\n00:37:51.964 --> 00:37:54.965\nhow to do all these things that we've\nbeen speaking to you about, and\n\n765\n00:37:54.965 --> 00:37:57.162\nI've been showing you how\nto do them step by step.\n\n766\n00:37:57.162 --> 00:37:58.911\nSo you're gonna wanna come back,\njoin us, and\n\n767\n00:37:58.911 --> 00:38:01.110\nmake sure you take a look\nat those along the way.\n\n768\n00:38:01.110 --> 00:38:04.467\n&gt;&gt; Awesome, I love those kind of\nhands on and walk through steps.\n\n769\n00:38:04.467 --> 00:38:07.661\nI mean, just the information that\nyou've shared with us in this episode.\n\n770\n00:38:07.661 --> 00:38:11.462\nI can think of times where in the past\nI've actually had to ship a machine,\n\n771\n00:38:11.462 --> 00:38:14.546\nonce you get it configured and\nthen ship it to a remote site.\n\n772\n00:38:14.546 --> 00:38:17.596\nBut here, we don't even need to go through\nthat process anymore to bypass being\n\n773\n00:38:17.596 --> 00:38:19.156\nthere-\n&gt;&gt; Ship a thumb drive with all\n\n774\n00:38:19.156 --> 00:38:21.452\nof the cloned information on it,\nessentially.\n\n775\n00:38:21.452 --> 00:38:23.983\n&gt;&gt; There you go.\n&gt;&gt; That off, that essentially out of band\n\n776\n00:38:23.983 --> 00:38:28.818\ncopy that we make of the NTDS file, the\nNTDS.div file, shipped on a thumb drive or\n\n777\n00:38:28.818 --> 00:38:34.060\nsome sort of removable media, taking\nthe appropriate security steps, of course.\n\n778\n00:38:34.060 --> 00:38:37.290\nBut then, whoever gets that, instead\nof having to ship them an entire box,\n\n779\n00:38:37.290 --> 00:38:38.912\nyou can actually just ship them that.\n\n780\n00:38:38.912 --> 00:38:40.928\nThey run the process and\nport from that point, and\n\n781\n00:38:40.928 --> 00:38:42.907\nthen synchronize after they get up and\nrunning.\n\n782\n00:38:42.907 --> 00:38:45.480\nSo, we'll take a look at cloning and\nsee how that works, as well.\n\n783\n00:38:45.480 --> 00:38:48.025\n&gt;&gt; Well, thank you, and\nthank you for joining us, as well.\n\n784\n00:38:48.025 --> 00:38:51.253\nBut like Adam said, stay tuned, we've\ngot some show and tell headed your way.\n\n785\n00:38:51.253 --> 00:38:54.791\nBut for this show, we'll go ahead and sign\nout, I've been your host, Cherokee Boose.\n\n786\n00:38:54.791 --> 00:38:55.627\n&gt;&gt; I'm Adam Gordon.\n\n787\n00:38:55.627 --> 00:38:57.577\n&gt;&gt; See you next time here at ITPro.TV.\n\n788\n00:38:57.577 --> 00:39:04.870\n[MUSIC]\n\n789\n00:39:04.870 --> 00:39:07.937\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "228968492"
        },
        {
          "description": "In this episode, Cherokee and Adam continue discussing domain components. First, Adam explains the AD DS sign in process. Next, he breaks down the structure of a SID followed by pre-installation considerations of a  domain controller. Tune in for all this and more!",
          "length": "1679",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-6-domain_controller_cloning-080817-PGM.00_41_18_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-6-domain_controller_cloning-080817-PGM.00_41_18_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-6-domain_controller_cloning-080817-PGM.00_41_18_23.Still001-sm.jpg",
          "title": "Install / Configure Domain Controllers Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:02.711\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.711 --> 00:00:06.725\n[CROSSTALK]\n\n3\n00:00:06.725 --> 00:00:08.240\n[MUSIC]\n\n4\n00:00:08.240 --> 00:00:11.840\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.840 --> 00:00:16.135\n&gt;&gt; Welcome, ladies and gentleman, to your\nIdentity with Windows Server 2016 Series.\n\n6\n00:00:16.135 --> 00:00:18.271\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.271 --> 00:00:21.355\nIn this episode, we'll continue\ntaking a look here at installing and\n\n8\n00:00:21.355 --> 00:00:23.380\nconfiguring our domain controllers.\n\n9\n00:00:23.380 --> 00:00:28.110\nThis is actually part six, and we have Mr.\nAdam Gordon back in studios with us today.\n\n10\n00:00:28.110 --> 00:00:29.320\nHow's it going today, Adam?\n\n11\n00:00:29.320 --> 00:00:30.695\n&gt;&gt; Good, good, very well.\n\n12\n00:00:30.695 --> 00:00:32.485\nExcited to be here.\n\n13\n00:00:32.485 --> 00:00:33.405\nThat's all I have to say.\n\n14\n00:00:33.405 --> 00:00:34.095\nExcited to be here.\n\n15\n00:00:34.095 --> 00:00:34.735\n&gt;&gt; That's great.\n\n16\n00:00:34.735 --> 00:00:37.845\n&gt;&gt; All right, so\nlet us continue our conversations.\n\n17\n00:00:37.845 --> 00:00:41.225\nWe have, if you have had the opportunity\nto go through some of our prior\n\n18\n00:00:41.225 --> 00:00:44.915\nconversations with us, been talking about,\nas Cherokee said, AD DS,\n\n19\n00:00:44.915 --> 00:00:47.235\nthe Active Directory domain services.\n\n20\n00:00:47.235 --> 00:00:51.045\nWhat they are, how they're set up, what we\ndo to configure them, how we install them,\n\n21\n00:00:51.045 --> 00:00:52.265\nhow we manage them.\n\n22\n00:00:52.265 --> 00:00:54.675\nHow we use things like OUs,\ncontainers, groups,\n\n23\n00:00:54.675 --> 00:00:58.610\nusers to be able to accomplish the end\nresult goals that we are looking to do.\n\n24\n00:00:58.610 --> 00:01:00.599\nBut, what we have not talked\nabout up until now is,\n\n25\n00:01:00.599 --> 00:01:03.440\nwhat happens when we actually go to\nauthenticate and sign in to the AD DS?\n\n26\n00:01:03.440 --> 00:01:05.977\nThought it would be a good place for\nus to pick up our conversation and\n\n27\n00:01:05.977 --> 00:01:06.610\nstart out with.\n\n28\n00:01:06.610 --> 00:01:11.330\nIf you join me over here,\nI have a list of six steps that we will\n\n29\n00:01:11.330 --> 00:01:16.210\ngo through as we attempt to authenticate\nand sign in using the AD DS.\n\n30\n00:01:16.210 --> 00:01:19.702\nYou will see that step one,\nthe user account is authenticated to A,\n\n31\n00:01:19.702 --> 00:01:21.984\nthe domain control, a domain controller.\n\n32\n00:01:21.984 --> 00:01:25.569\nObviously just the idea of being one of\nthe domain controllers that may be online\n\n33\n00:01:25.569 --> 00:01:26.330\nand available.\n\n34\n00:01:26.330 --> 00:01:30.860\nThe domain controller returns what's\ncalled a TGT, a Ticket Granting ticket\n\n35\n00:01:30.860 --> 00:01:34.280\nback to the client,\nshades of Kerberos popping up here.\n\n36\n00:01:34.280 --> 00:01:38.990\nKerberos uses TGTs, Ticket Granting\ntickets and STs to be able to\n\n37\n00:01:38.990 --> 00:01:42.660\nallow us to get a ticket that represents\nour identity and use that ticket to\n\n38\n00:01:42.660 --> 00:01:47.190\nrequest other tickets to then access\nservices on demand for a period of time.\n\n39\n00:01:47.190 --> 00:01:50.460\nAnd so\nthis process mirrors what we're seeing and\n\n40\n00:01:50.460 --> 00:01:53.510\nincorporates the conversation\nabout how Kerberos would work.\n\n41\n00:01:53.510 --> 00:01:55.720\nKerberos being the backend protocol and\n\n42\n00:01:55.720 --> 00:02:00.532\nsecurity authentication process that is\ndeployed in Windows since Windows 2000.\n\n43\n00:02:00.532 --> 00:02:04.256\nStep three, the client uses the TGT to\napply for access to the workstation.\n\n44\n00:02:04.256 --> 00:02:08.255\nMeaning, please let me on to this machine,\nauthenticate me as a valid user,\n\n45\n00:02:08.255 --> 00:02:10.853\ngrant me the right to log in and\naccess resources.\n\n46\n00:02:10.853 --> 00:02:12.538\nThat's what's going on there.\n\n47\n00:02:12.538 --> 00:02:15.674\nStep four, the domain controller\ngrants access to the workstation.\n\n48\n00:02:15.674 --> 00:02:19.600\nThis assumes of course that the user\naccount is valid, the credentials or\n\n49\n00:02:19.600 --> 00:02:23.527\nwhatever multiple factors of\nauthentication that have to be presented,\n\n50\n00:02:23.527 --> 00:02:28.050\nbased on the security stance, the policy\nof the organization have been validated.\n\n51\n00:02:28.050 --> 00:02:32.191\nIf anywhere along the way we run into an\nissue where the user says this is who I am\n\n52\n00:02:32.191 --> 00:02:36.362\nand the system says sorry, you don't\nexist, then we don't go any further.\n\n53\n00:02:36.362 --> 00:02:38.220\nWe get an error and we don't get in.\n\n54\n00:02:38.220 --> 00:02:42.716\nWe're just walking through the logic of\nthe steps here assuming that everything\n\n55\n00:02:42.716 --> 00:02:46.483\nworks out and that the user's\ncredential that has been validated or\n\n56\n00:02:46.483 --> 00:02:50.781\nthat is being presented for validation\nin the authentication process seemed\n\n57\n00:02:50.781 --> 00:02:55.303\nto be valid and is being authorized which\nwill be the second step in that process.\n\n58\n00:02:55.303 --> 00:02:58.708\nSo to make it sure grant's access\nto work stations step four.\n\n59\n00:02:58.708 --> 00:03:02.195\nStep five, client uses the TGT to\napply for access to the server and\n\n60\n00:03:02.195 --> 00:03:06.681\nthen the domain controller returns access\nallowing the client to access the server,\n\n61\n00:03:06.681 --> 00:03:08.984\nhave a dialogue with it, maybe access DNS,\n\n62\n00:03:08.984 --> 00:03:11.496\nmaybe access WINS maybe access file and\nprint.\n\n63\n00:03:11.496 --> 00:03:13.984\nWho knows what services\nwould be available, but\n\n64\n00:03:13.984 --> 00:03:17.150\nit starts to consume services and\nhave a conversation there.\n\n65\n00:03:17.150 --> 00:03:20.180\nSo these are the steps involved.\n\n66\n00:03:20.180 --> 00:03:24.690\nSix steps involved at a high level\nwith the AD DS sign-in process.\n\n67\n00:03:24.690 --> 00:03:29.220\nIs it likely that every document\neverywhere anywhere in the world that you\n\n68\n00:03:29.220 --> 00:03:33.210\nread would explain the same\nprocess using the same six steps?\n\n69\n00:03:33.210 --> 00:03:33.900\nNot likely.\n\n70\n00:03:33.900 --> 00:03:36.860\nThere may be more steps depending\non who's writing the documentation.\n\n71\n00:03:36.860 --> 00:03:38.450\nThey may go into more detail.\n\n72\n00:03:38.450 --> 00:03:41.700\nThere maybe a lower or\nhigher level summary of this process.\n\n73\n00:03:41.700 --> 00:03:45.320\nYou may see pictures that represent\naspects of this communication pathway\n\n74\n00:03:45.320 --> 00:03:46.270\nback and forth.\n\n75\n00:03:46.270 --> 00:03:49.130\nFor instance, when you look at\nMicrosoft's own documentation and\n\n76\n00:03:49.130 --> 00:03:52.970\nyou look at the Kerberos aspects of this\nprocess the steps are more involved.\n\n77\n00:03:52.970 --> 00:03:56.180\nThere's usually up to about nine steps\nin the Kerberos process that you see\n\n78\n00:03:56.180 --> 00:03:59.980\ndetailed out step by step because\nof the discussion back and\n\n79\n00:03:59.980 --> 00:04:05.080\nforth between the requester and the\nauthentication aspects of the system, and\n\n80\n00:04:05.080 --> 00:04:07.800\nthe domain controller,\nwhat's known as the KDC, right?\n\n81\n00:04:07.800 --> 00:04:11.330\nWhich is the Kerberos speak for\nwhat the domain controller role is.\n\n82\n00:04:11.330 --> 00:04:15.680\nAnd the AS, the authentication server,\nand all the processes that go on there.\n\n83\n00:04:15.680 --> 00:04:19.340\nAlthough these are often services and\nroles running inside of one system.\n\n84\n00:04:19.340 --> 00:04:21.650\nSo there's multiple levels\nthat may be documented.\n\n85\n00:04:21.650 --> 00:04:24.740\nJust depends on what level of\ndocumentation you may look at.\n\n86\n00:04:24.740 --> 00:04:28.980\nThis is just a higher level summary\nof the generic sign-in process.\n\n87\n00:04:28.980 --> 00:04:32.310\nSo if you're asked about it,\nif you see it somewhere in the future.\n\n88\n00:04:32.310 --> 00:04:33.550\nNever know, you may.\n\n89\n00:04:33.550 --> 00:04:37.863\nThen those high level steps are really\njust telling me a very general story.\n\n90\n00:04:37.863 --> 00:04:42.180\nIf you opt to get into more depth and\ndetail, because you're adding in a more\n\n91\n00:04:42.180 --> 00:04:45.340\nthorough discussion of Kerberos, you\nwould see more steps, just to be clear.\n\n92\n00:04:45.340 --> 00:04:47.810\nDon't want you to think that means that\nwhat we've seen here is different,\n\n93\n00:04:47.810 --> 00:04:50.520\nis not correct or what you see\nthere is different, not correct.\n\n94\n00:04:50.520 --> 00:04:53.170\nThey both are essentially\nshowing you the same process,\n\n95\n00:04:53.170 --> 00:04:56.490\nit's just a matter of how much detail\nwe're including in the description,\n\n96\n00:04:56.490 --> 00:04:58.250\nif you wanna think of it that way.\n\n97\n00:04:58.250 --> 00:05:00.339\nAre you a more or less detail kind of\ngal when you have your description?\n\n98\n00:05:00.339 --> 00:05:01.396\n&gt;&gt; More, yeah.\n\n99\n00:05:01.396 --> 00:05:02.593\n&gt;&gt; More, okay.\n\n100\n00:05:02.593 --> 00:05:05.034\n&gt;&gt; [LAUGH]\n&gt;&gt; Can't argue with\n\n101\n00:05:05.034 --> 00:05:05.640\nthat, was just wondering.\n\n102\n00:05:05.640 --> 00:05:08.780\n&gt;&gt; You know, some people, they really\nwant to, hey there, they have a purpose,\n\n103\n00:05:08.780 --> 00:05:11.300\nI'm here to get my exam done and\nout of the way.\n\n104\n00:05:11.300 --> 00:05:12.480\nAnd some people are kind of like,\n\n105\n00:05:12.480 --> 00:05:15.960\nI have to understand how that works,\nand then I fully understand it.\n\n106\n00:05:15.960 --> 00:05:19.080\nSo, it really just depends on\nwhat your ultimate goal is.\n\n107\n00:05:19.080 --> 00:05:20.070\n&gt;&gt; Okay, fair enough.\n\n108\n00:05:20.070 --> 00:05:21.200\nAll right, so more detail.\n\n109\n00:05:21.200 --> 00:05:22.720\n&gt;&gt; That's right.\n&gt;&gt; Got it, okay, fair enough.\n\n110\n00:05:22.720 --> 00:05:26.250\nAll right, so, keep in mind all of this\nis taking place through what's known as\n\n111\n00:05:26.250 --> 00:05:28.930\nthe LSA, the local security authority,\non the domain controller.\n\n112\n00:05:28.930 --> 00:05:31.480\nThis is the security module plug-in,\n\n113\n00:05:31.480 --> 00:05:35.160\na little box that represents security\nin the Windows architecture diagram.\n\n114\n00:05:35.160 --> 00:05:37.709\nYou see the LSA in those\narchitecture diagrams.\n\n115\n00:05:37.709 --> 00:05:40.939\nThat's the piece that actually handles\nthe module that actually handles\n\n116\n00:05:40.939 --> 00:05:45.050\nthe security and authentication process\nwithin Windows and the domain controller.\n\n117\n00:05:45.050 --> 00:05:47.860\nSo the LSA is what's driving\nthis behind the scenes.\n\n118\n00:05:47.860 --> 00:05:51.090\nThe LSA also builds the access token for\nthe user.\n\n119\n00:05:51.090 --> 00:05:55.540\nSo that way the user has their unique\nidentity represented statically\n\n120\n00:05:55.540 --> 00:05:59.235\nassigned to their user account for\nthe duration of their user log on session.\n\n121\n00:05:59.235 --> 00:06:01.748\nYou've heard me talk about\nthe user token once or\n\n122\n00:06:01.748 --> 00:06:03.719\ntwice in prior episodes up until now.\n\n123\n00:06:03.719 --> 00:06:07.325\nI went out of my way to make reference of\nthe fact that the reason we have to log\n\n124\n00:06:07.325 --> 00:06:11.230\noff and log back in when certain changes\nare made is because this token is static.\n\n125\n00:06:11.230 --> 00:06:15.660\nIt does not update and we have no dynamic\nway of updating that token because\n\n126\n00:06:15.660 --> 00:06:18.303\nthe LSA is the only thing,\nthe only module,\n\n127\n00:06:18.303 --> 00:06:23.035\nthe only entity, the only process\nthat can generate user access tokens.\n\n128\n00:06:23.035 --> 00:06:25.665\nAnd it only generates\nthem at point of contact\n\n129\n00:06:25.665 --> 00:06:28.720\nthrough the authorization\nauthentication process at log on.\n\n130\n00:06:28.720 --> 00:06:30.270\nThat's the only time they get generated.\n\n131\n00:06:30.270 --> 00:06:33.470\nSo as a result they don't update and\nbecause they don't update,\n\n132\n00:06:33.470 --> 00:06:37.170\nwe will have to log off and log back in,\nin order to force a change.\n\n133\n00:06:37.170 --> 00:06:40.450\nWe're talking about that with the remote\nread only domain controllers global\n\n134\n00:06:40.450 --> 00:06:44.610\ncatalog servers, a knowledge of\nthings that were happening and\n\n135\n00:06:44.610 --> 00:06:48.280\nif we locked out a user account and\nthe PBC emulator role specifically,\n\n136\n00:06:48.280 --> 00:06:50.980\nkind of lumped all of things\ninto this conversation.\n\n137\n00:06:50.980 --> 00:06:55.580\nBut it was really geared around the PBC\nemulator role, the FISMO roles and\n\n138\n00:06:55.580 --> 00:06:59.750\nthe fact that the PBC emulator handles\nsecurity, handles the authentication of\n\n139\n00:06:59.750 --> 00:07:03.970\nusers, handles the security lockout and\npassword change updates.\n\n140\n00:07:03.970 --> 00:07:07.950\nAnd that if that role was unavailable\nsomebody could potentially log in and we\n\n141\n00:07:07.950 --> 00:07:11.050\nwouldn't know that there had been a change\nand that Cherokee could have snuck in and\n\n142\n00:07:11.050 --> 00:07:13.550\nlogged in from a domain\ncontroller in a different\n\n143\n00:07:13.550 --> 00:07:16.730\narea that hadn't been updated as to\nthe change yet and they be gotten all.\n\n144\n00:07:16.730 --> 00:07:19.945\nWe talked through that logic of that\nexplanation back in that episode.\n\n145\n00:07:19.945 --> 00:07:23.010\nIt's just reminding you of that and\nwhere that comes from here.\n\n146\n00:07:23.010 --> 00:07:26.560\nBut the user account or\nrather user access token is created.\n\n147\n00:07:26.560 --> 00:07:30.980\nThe big part of that is something\nknown as the SID, Security ID.\n\n148\n00:07:30.980 --> 00:07:34.744\nAnd, I wanna take the opportunity\nto show you what the Security ID or\n\n149\n00:07:34.744 --> 00:07:36.271\nthe SID is gonna look like.\n\n150\n00:07:36.271 --> 00:07:38.066\nI've got a little diagram here,\n\n151\n00:07:38.066 --> 00:07:41.556\na little table that breaks down\nthe pieces of the SID for us.\n\n152\n00:07:41.556 --> 00:07:43.539\nThe SID, the Security ID,\n\n153\n00:07:43.539 --> 00:07:48.463\nis going to be one element of the user\naccount token that is created.\n\n154\n00:07:48.463 --> 00:07:51.604\nIt's combined with what's known as a RID,\nRelative ID,\n\n155\n00:07:51.604 --> 00:07:54.180\nwhich is the indicator\nof the domain identity.\n\n156\n00:07:54.180 --> 00:07:55.968\nSo they're kind of combined together.\n\n157\n00:07:55.968 --> 00:07:58.486\nWe get what's known as the GUID,\nthe global unique ID.\n\n158\n00:07:58.486 --> 00:08:02.549\nThe GUID is the unique identifier that\nrepresents that user object uniquely\n\n159\n00:08:02.549 --> 00:08:03.930\nwithin the domain.\n\n160\n00:08:03.930 --> 00:08:06.300\nAnd within the tree and within the forest.\n\n161\n00:08:06.300 --> 00:08:10.000\nWe've talked about the unique\nidentifier when we went through and\n\n162\n00:08:10.000 --> 00:08:11.985\nhave spoken about it in several places.\n\n163\n00:08:11.985 --> 00:08:15.120\nI mentioned that all objects as\nwe've been talking about the ADDS\n\n164\n00:08:15.120 --> 00:08:18.290\nhave unique identifiers called\nguids associated with them.\n\n165\n00:08:18.290 --> 00:08:20.850\nIf we go and\nclone a domain controller for instance.\n\n166\n00:08:20.850 --> 00:08:24.390\nWe have to specify unique identifier for\nthe clone.\n\n167\n00:08:24.390 --> 00:08:27.520\nSo that way, we know it is unique\ncompared to the originating\n\n168\n00:08:27.520 --> 00:08:29.550\nmachine that we get the copy from.\n\n169\n00:08:29.550 --> 00:08:32.220\nSo there's different reasons\nwhy we need unique IDs.\n\n170\n00:08:32.220 --> 00:08:36.720\nThis comes back to the idea of uniquely\nascribing or validating someone's identify\n\n171\n00:08:36.720 --> 00:08:41.420\nas being a unique object or instantiated\nobject instance of the schema object so\n\n172\n00:08:41.420 --> 00:08:44.520\nthat we know that users,\nplural, can exist.\n\n173\n00:08:44.520 --> 00:08:49.810\nBut only one user called Adam in the\nitpro.tv domain can exist at any one time.\n\n174\n00:08:49.810 --> 00:08:53.470\nBut I can have multiple users\ncalled Adam in different domains,\n\n175\n00:08:53.470 --> 00:08:55.310\nas long as they're not in the same domain.\n\n176\n00:08:55.310 --> 00:09:00.370\nBecause they are unique objects with their\nown unique domain and unique ID combined\n\n177\n00:09:00.370 --> 00:09:03.860\ntogether to create a unique object\ninstance ID within the domain namespace.\n\n178\n00:09:03.860 --> 00:09:05.150\nAnd so if we go back,\n\n179\n00:09:05.150 --> 00:09:08.280\njust to reinforce that before we talk\nabout the SID, go back to our picture.\n\n180\n00:09:08.280 --> 00:09:13.550\nWe think about the fact that if I create\na unique object called Adam right up here.\n\n181\n00:09:13.550 --> 00:09:16.390\nAnd I create another unique\nobject called Adam down here.\n\n182\n00:09:16.390 --> 00:09:19.190\nThat although these two user\nobjects are both called Adam,\n\n183\n00:09:19.190 --> 00:09:22.560\nthey are assigned a relative ID for\nthe domain that is different.\n\n184\n00:09:22.560 --> 00:09:25.318\nOne is a member of the ITPRO.tv domain,\n\n185\n00:09:25.318 --> 00:09:29.610\none is a member of Hosts.ITPRO.tv,\nanother domain.\n\n186\n00:09:29.610 --> 00:09:32.420\nAnd Adam can exist as a unique\nuser in both instances.\n\n187\n00:09:32.420 --> 00:09:34.670\nCuz the domain they're\nassociated with is different.\n\n188\n00:09:34.670 --> 00:09:39.180\nBut if I try to create two users\ncalled Adam in the ITPRO.tv domain\n\n189\n00:09:39.180 --> 00:09:39.850\nthat's a no-no.\n\n190\n00:09:39.850 --> 00:09:42.950\nI can't do that,\neach object has to be unique.\n\n191\n00:09:42.950 --> 00:09:45.250\nAnd we could have two instances of a user.\n\n192\n00:09:45.250 --> 00:09:47.330\nBut they're unique identifiers.\n\n193\n00:09:47.330 --> 00:09:49.700\nTheir GUIDs will ultimately\nbe different as a result.\n\n194\n00:09:49.700 --> 00:09:52.060\nSo just keep that in mind as\nwe're talking about this.\n\n195\n00:09:52.060 --> 00:09:55.280\nSo the SID represents and\nplays a very vital role in this.\n\n196\n00:09:55.280 --> 00:09:56.150\nCan we go full screen just so\n\n197\n00:09:56.150 --> 00:09:58.500\nyou can see what's behind me while\nI'm talking thank you very much.\n\n198\n00:09:58.500 --> 00:10:01.230\nSo the SID is going to look like this.\n\n199\n00:10:01.230 --> 00:10:05.480\nThis is a what a SID on\naverage may look like.\n\n200\n00:10:05.480 --> 00:10:09.690\nMinus the period at the end there,\nan alphanumeric string as you can see\n\n201\n00:10:09.690 --> 00:10:14.190\nthat is gonna look like just a very long\nconvoluted set of letters and numbers, and\n\n202\n00:10:14.190 --> 00:10:18.250\nindeed it is, but it is broken down\ninto parts and is read a certain way.\n\n203\n00:10:18.250 --> 00:10:21.020\nSo, what it is or\nwhat are the component parts of the SID?\n\n204\n00:10:21.020 --> 00:10:21.720\nWhat do they mean?\n\n205\n00:10:21.720 --> 00:10:22.290\nHow do we read them?\n\n206\n00:10:22.290 --> 00:10:26.260\nAt the beginning the S represents\nthat the string is a SID, so\n\n207\n00:10:26.260 --> 00:10:29.970\nthe S represents that it is\nindeed a SID or a security ID.\n\n208\n00:10:29.970 --> 00:10:34.860\nThe r, the component r the revision level,\nis gonna be the number one right here.\n\n209\n00:10:34.860 --> 00:10:37.445\nSo the next value in\nis the revision level.\n\n210\n00:10:37.445 --> 00:10:42.291\nThen identify our authority value,\nin this case five.\n\n211\n00:10:42.291 --> 00:10:44.788\nThat means it's an NT authority, so\n\n212\n00:10:44.788 --> 00:10:50.360\nit's a Windows based count object\nthat we are looking at, I should say.\n\n213\n00:10:50.360 --> 00:10:52.900\nAnd it's security ID associated with that.\n\n214\n00:10:52.900 --> 00:10:56.230\nAnd then the domain identifier,\nthe string here,\n\n215\n00:10:56.230 --> 00:11:00.810\nis the domain identifier that's pretty\nmuch this string in the middle right here,\n\n216\n00:11:00.810 --> 00:11:03.300\nthis set of numbers,\nwhatever those may be.\n\n217\n00:11:03.300 --> 00:11:06.730\nThat whole string equals the domain\nidentifier, the RID portion,\n\n218\n00:11:06.730 --> 00:11:10.350\nthe relative ID that I was talking\nabout that identifies the domain.\n\n219\n00:11:10.350 --> 00:11:12.100\nWe have an algorithm\nthat essentially runs,\n\n220\n00:11:12.100 --> 00:11:15.750\ntranslates the domain name\ninto a numeric string, and\n\n221\n00:11:15.750 --> 00:11:18.940\nlists it out in that frame and\nin that reference and in that order.\n\n222\n00:11:18.940 --> 00:11:21.198\nAnd every domain will have\nits own unique string.\n\n223\n00:11:21.198 --> 00:11:25.591\nSo if I look at itpro.tv,\nversus hosts.itpro.tv.\n\n224\n00:11:25.591 --> 00:11:26.211\nThe CIDs for\n\n225\n00:11:26.211 --> 00:11:30.775\nusers will be different because the domain\nreference is different in each one.\n\n226\n00:11:30.775 --> 00:11:32.215\nSo we could see that.\n\n227\n00:11:32.215 --> 00:11:37.865\nAnd then at the very back end\nthe relative ID right listed here right?\n\n228\n00:11:37.865 --> 00:11:44.005\nThis one is going to be the identifier\nit's called the 502 in this case or\n\n229\n00:11:44.005 --> 00:11:46.410\nit's number 502 in the example,\nI should say.\n\n230\n00:11:46.410 --> 00:11:50.938\nThis identifies the actual\naccount that is being used\n\n231\n00:11:50.938 --> 00:11:55.578\nwithin the NT authority to\nbe able to signify the user.\n\n232\n00:11:55.578 --> 00:11:59.668\nNow, Microsoft calls it the relative ID\nhere in the definition and the table and\n\n233\n00:11:59.668 --> 00:12:00.898\ntheir documentation.\n\n234\n00:12:00.898 --> 00:12:05.918\nThe traditional use of the concept of the\nRID is the domain identifier in most older\n\n235\n00:12:05.918 --> 00:12:11.306\ndocumentation up until probably about\n2003, maybe 2008 somewhere in there,\n\n236\n00:12:11.306 --> 00:12:16.183\nthey start subdividing and distinguishing\nand re-branding the relative id as\n\n237\n00:12:16.183 --> 00:12:21.385\nactually being the very last part of the\nSID, which is the user account identifier.\n\n238\n00:12:21.385 --> 00:12:25.810\n500, for instance, if you see 500 there,\nthere's always the domain admin account.\n\n239\n00:12:25.810 --> 00:12:27.765\n501 is always the guest account.\n\n240\n00:12:27.765 --> 00:12:31.345\nAnd then 502 and above are usually\nindividual user accounts.\n\n241\n00:12:31.345 --> 00:12:35.145\nBut there are certain hard\ncoded id's that since,\n\n242\n00:12:35.145 --> 00:12:39.230\nessentially Windows 2000 actually going\nback to even NT 4 are always known and\n\n243\n00:12:39.230 --> 00:12:41.340\n500 and\n501 are falling into those categories.\n\n244\n00:12:41.340 --> 00:12:43.360\n500 is always the admin account.\n\n245\n00:12:43.360 --> 00:12:44.350\nEither the domain admin or\n\n246\n00:12:44.350 --> 00:12:48.170\nthe local admin on the machine if it's\na local machine, versus a domain machine.\n\n247\n00:12:48.170 --> 00:12:52.300\nYou'll see that, so there are certain\nIDs that we would consider well known.\n\n248\n00:12:52.300 --> 00:12:55.958\nBut anything above 502 would just be\nan individual user that's just gonna have\n\n249\n00:12:55.958 --> 00:12:57.504\na unique identity ascribed to it.\n\n250\n00:12:57.504 --> 00:12:58.638\nSo.\n&gt;&gt; Pretty cool you could just get\n\n251\n00:12:58.638 --> 00:12:59.171\nsome-\n&gt;&gt; Yeah.\n\n252\n00:12:59.171 --> 00:13:00.272\n&gt;&gt; Information right there.\n\n253\n00:13:00.272 --> 00:13:03.371\n&gt;&gt; Yeah, you could go though, read the\nwhole, if you know if you pull the string,\n\n254\n00:13:03.371 --> 00:13:05.037\nyou can actually make\nsense of what it is and\n\n255\n00:13:05.037 --> 00:13:08.639\nactually understand what the account is,\nat least in theory, if it's 500 and 501.\n\n256\n00:13:08.639 --> 00:13:10.356\nTell you what the account is.\n\n257\n00:13:10.356 --> 00:13:12.660\nOne of the bad things we used to do for\nhacking and\n\n258\n00:13:12.660 --> 00:13:17.190\ncan still do if we can get the SID strings\nand we can dump the Sam hive, we can\n\n259\n00:13:17.190 --> 00:13:21.120\nactually read the SID strings and if we\nget them we actually can look for and find\n\n260\n00:13:21.120 --> 00:13:24.640\nthe domain administrator account, and know\nwhat it is, even though you rename it.\n\n261\n00:13:24.640 --> 00:13:27.197\nCuz you a lot of times as a best\npractice will say we'll rename\n\n262\n00:13:27.197 --> 00:13:28.640\nthe domain admin account.\n\n263\n00:13:28.640 --> 00:13:30.950\nCall it Joe Smith or something.\n\n264\n00:13:30.950 --> 00:13:32.510\nWhich is okay and people do that, but\n\n265\n00:13:32.510 --> 00:13:35.430\nif you're gonna do that remember you have\nto rename not just the account but change\n\n266\n00:13:35.430 --> 00:13:39.800\nthe descriptor, meaning the description\nthat tells you what the account is.\n\n267\n00:13:39.800 --> 00:13:42.683\nWhen I do auditing, I love to see somebody\ngoes through the trouble of renaming\n\n268\n00:13:42.683 --> 00:13:44.564\nthe domain account and\nthe domain admin account but\n\n269\n00:13:44.564 --> 00:13:47.670\nthey leave the description says this is\nthe domain administrator account in place,\n\n270\n00:13:47.670 --> 00:13:50.380\nso we can look at it immediately and\ntell it's a domain admin account, and\n\n271\n00:13:50.380 --> 00:13:51.724\nthen it's called maybe Joe Smith.\n\n272\n00:13:51.724 --> 00:13:55.042\nSo you gotta delete that and\nredo the whole thing, but\n\n273\n00:13:55.042 --> 00:13:59.123\neven then, the identifier there\nif I get that string in C500.\n\n274\n00:13:59.123 --> 00:14:01.380\nEven though you rename it,\nI know it's the domain admin account.\n\n275\n00:14:01.380 --> 00:14:03.330\nAnd that's one of the old\ntricks we used to use.\n\n276\n00:14:03.330 --> 00:14:07.950\nWe would capture these strings and just\nsimply look for the string that had 500.\n\n277\n00:14:07.950 --> 00:14:09.520\nWe would know that is\nthe domain admin account.\n\n278\n00:14:09.520 --> 00:14:12.110\nEven though it's been obfuscated,\nor renamed in some way.\n\n279\n00:14:12.110 --> 00:14:14.080\nSo just wanna make sure\nyou're aware of that.\n\n280\n00:14:15.550 --> 00:14:19.030\nDefault accounts and groups,\nobviously as I said have well known SIDs,\n\n281\n00:14:19.030 --> 00:14:23.022\ndomain admin account, as I mentioned,\ndoes end with 500, just so you know, or\n\n282\n00:14:23.022 --> 00:14:24.637\nwill end with that domain guest.\n\n283\n00:14:24.637 --> 00:14:28.397\nThe domain that guest to kind of usually\n501, just so you're aware of that.\n\n284\n00:14:28.397 --> 00:14:31.715\nAll right, so we've talked a little\nbit just about the back end work for\n\n285\n00:14:31.715 --> 00:14:35.342\nlogging on, what happens, how do we\nactually install a domain controller?\n\n286\n00:14:35.342 --> 00:14:37.940\nYou've seen me walk through\nseveral instances of this.\n\n287\n00:14:37.940 --> 00:14:39.605\nIf you haven't seen those episodes yet.\n\n288\n00:14:39.605 --> 00:14:44.210\nWe've got a series of hands on episodes\nshowing you how to do the installation of\n\n289\n00:14:44.210 --> 00:14:47.870\na single domain controller,\ncreate a parent child domain hierarchy.\n\n290\n00:14:47.870 --> 00:14:50.630\nWork with flexible single\noperation masters.\n\n291\n00:14:50.630 --> 00:14:52.760\nWork with global catalogue servers.\n\n292\n00:14:52.760 --> 00:14:54.892\nShowed you how to clone\na domain controller.\n\n293\n00:14:54.892 --> 00:15:00.050\nHow to install ADDS both in the GUI\ninterface and on a server core instance.\n\n294\n00:15:00.050 --> 00:15:01.220\nThat was a lot of fun.\n\n295\n00:15:01.220 --> 00:15:05.420\nSo we've been through a series of hands-on\nexercises, and demonstrations for you.\n\n296\n00:15:05.420 --> 00:15:06.290\nLook for them.\n\n297\n00:15:06.290 --> 00:15:09.050\nLabel those episodes that describe\nwhat the skill set is that we're going\n\n298\n00:15:09.050 --> 00:15:09.920\nafter there.\n\n299\n00:15:09.920 --> 00:15:12.335\nAnd certainly if you haven't watched\nthem up until now, no big deal.\n\n300\n00:15:12.335 --> 00:15:15.520\nYou heard me refer to them,\nthey're out there, please go watch them.\n\n301\n00:15:15.520 --> 00:15:18.330\nSee come to life all the things we're\ntalking about and explaining to you, so\n\n302\n00:15:18.330 --> 00:15:19.130\nyou can see how to do them.\n\n303\n00:15:19.130 --> 00:15:21.603\nVery instructive,\nhopefully very illustrative for you.\n\n304\n00:15:21.603 --> 00:15:24.094\nJust a quick summary of some\nof the things we did there.\n\n305\n00:15:24.094 --> 00:15:27.944\nBut we've been through this in depth and\ncertainly spent time talking about it with\n\n306\n00:15:27.944 --> 00:15:31.475\nyou and I encourage you to watch those\nepisodes but when we go through and do.\n\n307\n00:15:31.475 --> 00:15:32.268\nWe do.\n&gt;&gt; We do.\n\n308\n00:15:32.268 --> 00:15:33.275\n&gt;&gt; When we do a-\n&gt;&gt; [LAUGH]\n\n309\n00:15:33.275 --> 00:15:35.199\n&gt;&gt; Domain controller installation it's\n\n310\n00:15:35.199 --> 00:15:36.603\nusually a two step process.\n\n311\n00:15:36.603 --> 00:15:40.847\nWe need to install the files necessary for\nthe domain controller role meaning we\n\n312\n00:15:40.847 --> 00:15:44.584\ninstall the ADDS feature and\nonce we have the ADDS feature installed,\n\n313\n00:15:44.584 --> 00:15:48.921\neither through Server Manager or through\nPowerShell, you've seen me do both.\n\n314\n00:15:48.921 --> 00:15:55.995\nOnce we do that we then can go through and\nconfigure the ADDS role on that machine.\n\n315\n00:15:55.995 --> 00:15:59.105\nInstantiating and setting up either\nan existing domain controller,\n\n316\n00:15:59.105 --> 00:16:00.115\nthat we're going to.\n\n317\n00:16:00.115 --> 00:16:03.056\nRather, joining an existing domain by\nadding an additional domain controller.\n\n318\n00:16:03.056 --> 00:16:05.540\nSetting up a child domain to\nan existing parent domain.\n\n319\n00:16:05.540 --> 00:16:09.130\nOr, setting up a new forest, with its\nown forest root domain controller,\n\n320\n00:16:09.130 --> 00:16:11.640\nto set up and\nstand up a brand new named instance.\n\n321\n00:16:11.640 --> 00:16:14.890\nIt's up to us to decide how to do that,\nbut we go through and\n\n322\n00:16:14.890 --> 00:16:18.240\nuse the active directory services\nconfiguration wizard in step two,\n\n323\n00:16:18.240 --> 00:16:21.240\nto actually run through that process,\nand we do it from the GUI.\n\n324\n00:16:21.240 --> 00:16:24.650\nYou've seen me or will see me do that,\nif you haven't looked at it up until now.\n\n325\n00:16:24.650 --> 00:16:27.510\nIn that episode, I walk you\nthrough the graphical interface,\n\n326\n00:16:27.510 --> 00:16:30.420\nI also use PowerShell to install and\nconfigure.\n\n327\n00:16:30.420 --> 00:16:33.320\nSo, I show you how to do both,\nencourage you to take a look at that.\n\n328\n00:16:33.320 --> 00:16:36.339\nBut we could add a domain controller\nto an existing domain, as I said.\n\n329\n00:16:36.339 --> 00:16:38.474\nNew domain to an existing forest,\n\n330\n00:16:38.474 --> 00:16:41.794\nand/or create a new forest\nfrom within the control.\n\n331\n00:16:41.794 --> 00:16:45.439\nOr rather, from within the environment,\nfrom within the AD DS wizard,\n\n332\n00:16:45.439 --> 00:16:47.620\nand/or from within PowerShell.\n\n333\n00:16:47.620 --> 00:16:50.990\nI wanna also just take an opportunity\nhere, just got a document here for\n\n334\n00:16:50.990 --> 00:16:52.770\nyou if you wanna take\na look real quick with me.\n\n335\n00:16:52.770 --> 00:16:56.084\nWhat do we need to know about for\ninstalling a brand new domain controller?\n\n336\n00:16:56.084 --> 00:16:59.525\nNeed to answer some questions, make sure\nwe're prepared to do certain things,\n\n337\n00:16:59.525 --> 00:17:02.270\njust a little handy guidance for\nyou that may be helpful.\n\n338\n00:17:02.270 --> 00:17:06.040\nSo you can see here,\nare we installing a new forest,\n\n339\n00:17:06.040 --> 00:17:08.910\na new tree, and/or an additional domain\ncontroller for an existing domain?\n\n340\n00:17:08.910 --> 00:17:12.000\nThis tells you what you may need to know\nand the additional steps you may need\n\n341\n00:17:12.000 --> 00:17:15.780\nto be involved with,\nwhat is the DNS name for the AD DS domain?\n\n342\n00:17:15.780 --> 00:17:18.800\nObviously have to make sure we have\na sense of that, if it exists.\n\n343\n00:17:18.800 --> 00:17:21.765\nWhich level will you choose for\nthe forest functional level,\n\n344\n00:17:21.765 --> 00:17:24.388\nare you gonna be choosing Server 16,\nare you gonna be\n\n345\n00:17:24.388 --> 00:17:27.883\nchoosing an earlier backwards-compatible\nversion for prior levels?\n\n346\n00:17:27.883 --> 00:17:30.577\nSo we have to think about that,\nwhat about the domain functional level,\n\n347\n00:17:30.577 --> 00:17:31.424\nkind of the same idea.\n\n348\n00:17:31.424 --> 00:17:35.640\nThis is based on the operating systems\nthat are available and supported.\n\n349\n00:17:35.640 --> 00:17:39.340\nYou're using all Server 16 machines\nall the way across the board,\n\n350\n00:17:39.340 --> 00:17:43.670\nthere's no reason not to use Server 16 as\nboth forest and domain functional level.\n\n351\n00:17:43.670 --> 00:17:46.511\nAnd we showed you that in the wizard\nas we walked through in the demo.\n\n352\n00:17:46.511 --> 00:17:49.920\nAnd I showed you where you can make a\nchange and go all the way back to December\n\n353\n00:17:49.920 --> 00:17:53.200\n2008, if necessary for\nthat functional level, or 2008 R2.\n\n354\n00:17:53.200 --> 00:17:57.875\nBut if we have older operating systems,\nusing Server 16 may not be a good choice.\n\n355\n00:17:57.875 --> 00:18:03.043\nBecause features available there in\nSever 16 are not supported necessarily,\n\n356\n00:18:03.043 --> 00:18:07.920\nnot always but sometimes,\nin earlier versions, so 12, 12 R2, etc.\n\n357\n00:18:07.920 --> 00:18:10.320\nAnd you may run into\na compatibility issue, so\n\n358\n00:18:10.320 --> 00:18:13.980\nyou may have a problem if\nyou choose too far ahead\n\n359\n00:18:13.980 --> 00:18:15.930\nof the older operating systems\nyou're looking to support.\n\n360\n00:18:15.930 --> 00:18:19.090\nAnd this is important,\nI stress this point and walk through it\n\n361\n00:18:19.090 --> 00:18:22.670\nduring the demonstration where we use the\ngraphical interface and we use the wizard.\n\n362\n00:18:22.670 --> 00:18:25.140\nAnd I make sure you understand\nas I walk through it and\n\n363\n00:18:25.140 --> 00:18:26.780\nexplain why that's important.\n\n364\n00:18:26.780 --> 00:18:28.340\nWill the domain controller\nbe a DNS server,\n\n365\n00:18:28.340 --> 00:18:30.550\nwill it be doing\nActive Directory integrated DNS?\n\n366\n00:18:30.550 --> 00:18:33.880\nAnd if so, obviously, we need to make\nsure we already have DNS up and running,\n\n367\n00:18:33.880 --> 00:18:35.960\nand that we have\nthe functionality to do that.\n\n368\n00:18:35.960 --> 00:18:40.220\nBut we have to install DNS as part of\nthe role install and configuration, and\n\n369\n00:18:40.220 --> 00:18:41.780\nso we do that as well.\n\n370\n00:18:41.780 --> 00:18:45.210\nWill the domain controller host a global\ncatalog, again, we've discussed\n\n371\n00:18:45.210 --> 00:18:48.370\nthe do's and don'ts and the reasons\nwhy this may or may not be important.\n\n372\n00:18:48.370 --> 00:18:52.060\nShowing you how to verify that the domain\ncontroller is a global catalog server.\n\n373\n00:18:52.060 --> 00:18:54.850\nAnd how to go in and modify that setting,\nif you choose not to make it one.\n\n374\n00:18:54.850 --> 00:18:57.687\nWe could do that either during\nthe install in the wizard, or\n\n375\n00:18:57.687 --> 00:19:00.468\nafter the fact by going into the sites and\nservices tool and\n\n376\n00:19:00.468 --> 00:19:04.130\nlooking at the NTBS settings for\nthe domain controller in question.\n\n377\n00:19:04.130 --> 00:19:07.383\nAnd right click on there, go to the\nproperties, look at the General tab and\n\n378\n00:19:07.383 --> 00:19:10.638\nsee the settings, the check box for\nglobal catalog, and decide whether or\n\n379\n00:19:10.638 --> 00:19:12.469\nnot it's a good idea to leave that there.\n\n380\n00:19:12.469 --> 00:19:15.790\nWe've talked about that, are we gonna\nmake this a read only domain controller?\n\n381\n00:19:15.790 --> 00:19:19.621\nWe could do this as well, now,\nduring the demonstration that I do and\n\n382\n00:19:19.621 --> 00:19:21.406\nthe walkthrough of the wizard,\n\n383\n00:19:21.406 --> 00:19:24.659\nI pointed out that it was grayed\nout as an option of my demo.\n\n384\n00:19:24.659 --> 00:19:27.117\nBecause we were doing\na brand new forest install,\n\n385\n00:19:27.117 --> 00:19:30.130\nwe were installing a forest\ngroup domain controller.\n\n386\n00:19:30.130 --> 00:19:34.040\nWhich is the first domain controller\nin the first tree in the first domain\n\n387\n00:19:34.040 --> 00:19:37.440\nin the forest, as we install initially,\neverything's all on one,\n\n388\n00:19:37.440 --> 00:19:39.500\nincluding all five FSMO roles.\n\n389\n00:19:39.500 --> 00:19:42.940\nWe are barred from making that domain\ncontroller a read-only domain controller,\n\n390\n00:19:42.940 --> 00:19:44.780\ncuz we have to first\ncreate the domain itself,\n\n391\n00:19:44.780 --> 00:19:49.370\nand have all the information, before we\ncan push a copy out and mark it read-only.\n\n392\n00:19:49.370 --> 00:19:51.790\nSo that was grayed out in my\nwalk through as an option, but\n\n393\n00:19:51.790 --> 00:19:53.430\nI called out the reason why.\n\n394\n00:19:53.430 --> 00:19:57.140\nAnd I said, hey, by the way, if we add\na secondary domain controller here,\n\n395\n00:19:57.140 --> 00:19:59.740\nwhen we rerun this wizard,\nwe'll see that option's not grayed out,\n\n396\n00:19:59.740 --> 00:20:02.130\nand we could then pull\na copy as read-only,.\n\n397\n00:20:02.130 --> 00:20:05.520\nWe have to start with a full\nfunctional readable/writable copy, and\n\n398\n00:20:05.520 --> 00:20:06.895\nthat's why it's grayed out on the wizard.\n\n399\n00:20:06.895 --> 00:20:09.901\nSo just understand that, and\nmaybe a point of contention or\n\n400\n00:20:09.901 --> 00:20:11.532\nperhaps point of questioning.\n\n401\n00:20:11.532 --> 00:20:15.373\nAt some point in the future, if you're\nlooking at a wizard screen capture and\n\n402\n00:20:15.373 --> 00:20:17.035\nanswering question about that.\n\n403\n00:20:17.035 --> 00:20:19.373\nHey, why can't I choose this,\nwhat's wrong,\n\n404\n00:20:19.373 --> 00:20:22.285\nprobably installing a forest\nroot domain controller.\n\n405\n00:20:22.285 --> 00:20:25.727\nYou don't have a functional domain yet,\nthat's why you're being barred from making\n\n406\n00:20:25.727 --> 00:20:28.097\nthat choice, so it would be important for\nyou to know that.\n\n407\n00:20:28.097 --> 00:20:30.399\nAll right, so going back to the diagram,\nwe're going back to the table,\n\n408\n00:20:30.399 --> 00:20:31.720\nwe've got some more stuff here.\n\n409\n00:20:31.720 --> 00:20:33.910\nWhat will the directory services\nrestore mode password be?\n\n410\n00:20:33.910 --> 00:20:36.755\nYou've seen me in my demonstrations\ntalk about the fact,\n\n411\n00:20:36.755 --> 00:20:40.539\nwe need to put that in in PowerShell and\nverify that, we're prompted for it.\n\n412\n00:20:40.539 --> 00:20:43.988\nThat's what we're gonna use if we\nhave to recover the AD database or\n\n413\n00:20:43.988 --> 00:20:47.510\nthe AD DS database from a backup,\na system restore, system backup.\n\n414\n00:20:47.510 --> 00:20:52.261\nWe've talked about that before, so you\nwant to make sure you're aware of that.\n\n415\n00:20:52.261 --> 00:20:54.545\nWhat is the NetBIOS name for\nthe AD DS domain,\n\n416\n00:20:54.545 --> 00:20:56.460\nyou see this in the wizard as well.\n\n417\n00:20:56.460 --> 00:20:59.640\nIt goes through and figures out\nwhat the NetBIOS name will be, and\n\n418\n00:20:59.640 --> 00:21:00.710\nthen puts it in there for us.\n\n419\n00:21:00.710 --> 00:21:04.015\nOurs was practice IT,\nin the domain walkthrough that we did.\n\n420\n00:21:04.015 --> 00:21:07.395\nWhere will the database log file and\nSYSVOL folders be created,\n\n421\n00:21:07.395 --> 00:21:12.320\ntypically C:\\Windows\\NTDS, you can modify\nthat path and put it wherever you want.\n\n422\n00:21:12.320 --> 00:21:16.030\nAs you can see there, or C:\\Windows\\SYSVOL\nfile in the case of the SYSVOL.\n\n423\n00:21:16.030 --> 00:21:20.390\nSo we have all that here, these really\nare just the questions that are culled\n\n424\n00:21:20.390 --> 00:21:25.150\nfrom the screens in the AD DS wizard for\nconfiguration, that you have to answer.\n\n425\n00:21:25.150 --> 00:21:27.120\nWhen you watch the walkthrough,\nyou'll see me go through,\n\n426\n00:21:27.120 --> 00:21:28.330\nyou'll see all these things happen.\n\n427\n00:21:28.330 --> 00:21:30.404\nThis is just a referenceable document for\n\n428\n00:21:30.404 --> 00:21:34.442\nyou to help you have a sense of those\nquestions, to understand what they'll be.\n\n429\n00:21:34.442 --> 00:21:37.351\nAnd obviously, proactively, to plan to\nmake sure you make good decisions about\n\n430\n00:21:37.351 --> 00:21:38.956\nhow you're gonna walk though that wizard.\n\n431\n00:21:38.956 --> 00:21:42.220\nSo you're not stuck scrambling for\nanswers when you try to got through.\n\n432\n00:21:42.220 --> 00:21:45.420\nYou make choices about what you'd\nlike to do, so just be aware of that.\n\n433\n00:21:46.490 --> 00:21:50.010\nMake sure you are thinking, in other\nwords, planning ahead would be important.\n\n434\n00:21:50.010 --> 00:21:52.079\nWe do have to do a restore\nto the AD DS database,\n\n435\n00:21:52.079 --> 00:21:54.620\nI mentioned a little bit\nabout the process involved.\n\n436\n00:21:54.620 --> 00:21:57.404\nWe'd have to restart to\nthe main controller DSRM, and\n\n437\n00:21:57.404 --> 00:22:00.810\ndirect the domain services or\ndirector services restore mode.\n\n438\n00:22:00.810 --> 00:22:03.220\nIt's like safe mode, and\nthen we can go ahead,\n\n439\n00:22:03.220 --> 00:22:08.160\nand during that press F8 during\nthe initial startup process.\n\n440\n00:22:08.160 --> 00:22:11.480\nWe then can go ahead and\nwe can do a restore from there,\n\n441\n00:22:11.480 --> 00:22:14.280\nor we can do an authoritative\nrestore using NTSD util.\n\n442\n00:22:14.280 --> 00:22:16.815\nWe have some different options\nthat we've talked through or\n\n443\n00:22:16.815 --> 00:22:19.261\nat least have mentioned before,\nso just be aware of that.\n\n444\n00:22:19.261 --> 00:22:25.323\nBut we can go in and we certainly\ncan walk through this process.\n\n445\n00:22:25.323 --> 00:22:30.409\nNow the ADDS configuration wizard is\nno longer what we would consider to be,\n\n446\n00:22:30.409 --> 00:22:34.570\nand what we have historically\nseen as being, dcpromo.exe.\n\n447\n00:22:34.570 --> 00:22:38.740\nYou may remember dcpromo.exe,\nthe main controller promotion.exe,\n\n448\n00:22:38.740 --> 00:22:43.550\na utility, that's the oldie and goodie,\nand the old way we used to do it.\n\n449\n00:22:43.550 --> 00:22:47.080\nNot only deprecated, but gone,\nwe don't use it anymore, as of 12,\n\n450\n00:22:47.080 --> 00:22:49.370\n12 R2,\nwe switched over to this new wizard.\n\n451\n00:22:49.370 --> 00:22:51.733\nNow people just confuse the two and\nsay, no, that's still dcpromo,\n\n452\n00:22:51.733 --> 00:22:52.603\nit just looks different.\n\n453\n00:22:52.603 --> 00:22:56.557\nWell, no it's not,\ndcpromo is no longer there, it is gone,\n\n454\n00:22:56.557 --> 00:23:00.970\nand instead the ADDS, which\nthe AD Active Directory Domain Services\n\n455\n00:23:00.970 --> 00:23:04.790\ninstallation wizard is what\ndcpromo was formally called.\n\n456\n00:23:04.790 --> 00:23:05.847\nThe actual name for\n\n457\n00:23:05.847 --> 00:23:09.948\ndcpromo was the Active Directory\nDomain Services Installation Wizard,\n\n458\n00:23:09.948 --> 00:23:12.803\nthat's what DC promo was\nactually referred to as.\n\n459\n00:23:12.803 --> 00:23:17.694\nThat is no longer used, starting with 12,\n12 R2, we now use this new wizard, and\n\n460\n00:23:17.694 --> 00:23:21.390\nit's no longer dcpromo.exe, so\njust so you're aware of that.\n\n461\n00:23:21.390 --> 00:23:22.587\n&gt;&gt; It is a good point.\n\n462\n00:23:22.587 --> 00:23:25.502\n&gt;&gt; And so you know that, not that it's\na big deal, but it's actually been,\n\n463\n00:23:25.502 --> 00:23:28.670\nnot only deprecated, but it's actually\ngone as of 12 R2, just so you know.\n\n464\n00:23:28.670 --> 00:23:31.760\nAll right, so we did also install\non a server core instance,\n\n465\n00:23:31.760 --> 00:23:33.347\nwalked through how to do that.\n\n466\n00:23:33.347 --> 00:23:36.792\nShowed you how to go in,\nuse PowerShell from the logon prompt,\n\n467\n00:23:36.792 --> 00:23:38.033\nstart up PowerShell.\n\n468\n00:23:38.033 --> 00:23:41.044\nAnd then do the install and\nconfigure, so walked through that and\n\n469\n00:23:41.044 --> 00:23:42.643\nexplained how that would happen.\n\n470\n00:23:42.643 --> 00:23:46.865\nBasically the same process,\nyou go through, you use PowerShell,\n\n471\n00:23:46.865 --> 00:23:49.172\nyou install the AD DS feature first.\n\n472\n00:23:49.172 --> 00:23:54.592\nSo install windows feature adds\nad-domain-services, in PowerShell.\n\n473\n00:23:54.592 --> 00:23:57.042\nInstall management tools just\nto get everything there.\n\n474\n00:23:57.042 --> 00:23:59.386\nThe R-set tool is part of that,\nthat we would need.\n\n475\n00:23:59.386 --> 00:24:02.779\nThen you go through, issue a separate\ncommand in PowerShell to install\n\n476\n00:24:02.779 --> 00:24:05.334\nthe domain controller,\nAD-DS domain controller.\n\n477\n00:24:05.334 --> 00:24:08.797\nYou specify the domain controller name,\nthe parent domain you wanna join, or\n\n478\n00:24:08.797 --> 00:24:12.012\nthe existing domain that's not\na child domain you're creating, etc.\n\n479\n00:24:12.012 --> 00:24:13.533\nSo, you've seen me walk through, or\n\n480\n00:24:13.533 --> 00:24:15.826\nwill see me walk through these\nprocesses in PowerShell.\n\n481\n00:24:15.826 --> 00:24:20.435\nInstall-ADDSDomainController is the name\nof the cmdlet that you run to actually\n\n482\n00:24:20.435 --> 00:24:24.576\nconfigure and install the domain\ncontroller after AD-DS as a feature has\n\n483\n00:24:24.576 --> 00:24:27.734\nbeen installed,\njust make sure you're aware of that.\n\n484\n00:24:27.734 --> 00:24:29.626\nNow, when we run those cmdlets,\n\n485\n00:24:29.626 --> 00:24:34.163\nwe are able to bring in the functionality\nfrom PowerShell required to run them.\n\n486\n00:24:34.163 --> 00:24:37.752\nAnd let me just make sure I have\nthe cmdlet here, just give me one second.\n\n487\n00:24:37.752 --> 00:24:41.224\nI believe I do,\nshould have them right here.\n\n488\n00:24:41.224 --> 00:24:43.189\nYeah, so the AD-DS deployment command,\n\n489\n00:24:43.189 --> 00:24:46.803\nI think I showed you this in one of the\nearlier episodes, but they are all here.\n\n490\n00:24:46.803 --> 00:24:50.028\nSo install-ADDSDomain,\ninstall-ADDSDomainController,\n\n491\n00:24:50.028 --> 00:24:52.302\nthe one I was just talking\nabout we would run.\n\n492\n00:24:52.302 --> 00:24:57.084\nThis listing right here, shows you all the\ncmdlets that would be necessary for you.\n\n493\n00:24:57.084 --> 00:25:00.364\nGood idea for you to go and take a look\njust to make sure you're familiar with all\n\n494\n00:25:00.364 --> 00:25:03.197\nthe different PowerShell cmdlets\nthat we've been referencing and\n\n495\n00:25:03.197 --> 00:25:04.649\nthat you have at your fingertips.\n\n496\n00:25:04.649 --> 00:25:08.107\nSo showing you those just to make sure\nyou know what's going on with them.\n\n497\n00:25:08.107 --> 00:25:12.480\nAnd also being able to install\nthe Active Directory services.\n\n498\n00:25:12.480 --> 00:25:16.974\nNice little walk through here, showing you\nwhat to do, the credentials required to\n\n499\n00:25:16.974 --> 00:25:20.348\nrun adprep and install\nthe Active Directory Domain Services.\n\n500\n00:25:20.348 --> 00:25:24.359\nInstalling AD-DS by using PowerShell,\nI'd view several demos on that.\n\n501\n00:25:24.359 --> 00:25:28.314\nInstalling it through server manager,\nsame thing essentially, just in the GUI.\n\n502\n00:25:28.314 --> 00:25:32.517\nAnd performing a stage RODC, Read Only\nDomain Controller install using the GUI.\n\n503\n00:25:32.517 --> 00:25:35.813\nSo nice little walk through and\na set of how to's here as well.\n\n504\n00:25:35.813 --> 00:25:39.874\nYou just walk through and follow the steps\nhere, very detailed, very involved.\n\n505\n00:25:39.874 --> 00:25:42.351\nIt gives you nice\ndocumentation on everything.\n\n506\n00:25:42.351 --> 00:25:45.529\nBoth of these URLs are in the show\nnotes and available to you.\n\n507\n00:25:45.529 --> 00:25:47.466\nEncourage you to go out and\ntake a look at them, and\n\n508\n00:25:47.466 --> 00:25:49.821\nmake sure you follow up on\nthe guidance that's here, just so\n\n509\n00:25:49.821 --> 00:25:52.570\nyou are aware of the steps involved and\nwhat would need to be required.\n\n510\n00:25:52.570 --> 00:25:53.580\nBut just recapping for\n\n511\n00:25:53.580 --> 00:25:56.835\nyou all the stuff we've been through\nin some of those hands-on pieces.\n\n512\n00:25:56.835 --> 00:25:59.106\nMaking sure we spend a few\nminutes talking about it,\n\n513\n00:25:59.106 --> 00:26:01.594\nso you get a little bit more\nof a fuller explanation here.\n\n514\n00:26:01.594 --> 00:26:04.021\nSo that way, if you see this\nbefore you look at the hands-on,\n\n515\n00:26:04.021 --> 00:26:05.571\nyou've already seen the background.\n\n516\n00:26:05.571 --> 00:26:07.914\nYou've seen the hands-on,\nyou're coming back and\n\n517\n00:26:07.914 --> 00:26:10.264\nfilling in the gap by looking\nat the discussion here.\n\n518\n00:26:10.264 --> 00:26:13.507\nYou've got the reference\nto the online material.\n\n519\n00:26:13.507 --> 00:26:15.435\nYou've seen me and\nheard me talk about it here.\n\n520\n00:26:15.435 --> 00:26:18.582\nAnd those two things together will give\nyou a very complete picture of how you\n\n521\n00:26:18.582 --> 00:26:19.825\nwould engage in these steps.\n\n522\n00:26:19.825 --> 00:26:21.147\nIn the upcoming conversations,\n\n523\n00:26:21.147 --> 00:26:23.753\nwe'll have to round out this area\nof knowledge before we move on.\n\n524\n00:26:23.753 --> 00:26:27.058\nWe'll be talking about how to upgrade\na domain controller, very important.\n\n525\n00:26:27.058 --> 00:26:32.118\nWe often are gonna have an earlier version\nof a Windows based domain controller 2012,\n\n526\n00:26:32.118 --> 00:26:33.058\nmaybe 12R2.\n\n527\n00:26:33.058 --> 00:26:35.340\nHow do we go through the upgrade process?\n\n528\n00:26:35.340 --> 00:26:40.743\nWe can upgrade starting from Windows\nserver 2008 all the way through up to 16.\n\n529\n00:26:40.743 --> 00:26:45.190\nSo we can do an upgrade either with an\nexisting domain controller running 2008 or\n\n530\n00:26:45.190 --> 00:26:48.520\nlater, or we can go ahead and\nwe can, you do a clean-install.\n\n531\n00:26:48.520 --> 00:26:50.209\nThere's different ways to handle this.\n\n532\n00:26:50.209 --> 00:26:53.040\nWe'll talk about those steps and\nthe processes involved and\n\n533\n00:26:53.040 --> 00:26:56.049\nkind of the mapping in the path\nin some upcoming conversations.\n\n534\n00:26:56.049 --> 00:26:58.480\nDefinitely wanna come back, join us,\nand make sure you don't miss that.\n\n535\n00:26:58.480 --> 00:27:02.124\nVery important information in\nthe real world, equally important for\n\n536\n00:27:02.124 --> 00:27:03.059\ntestable items.\n\n537\n00:27:03.059 --> 00:27:06.938\nNever get through any one of these exams\nwithout being asked about upgrade PaaS,\n\n538\n00:27:06.938 --> 00:27:10.076\nand whether we can do this a certain way,\nwhat resources we need,\n\n539\n00:27:10.076 --> 00:27:13.409\nwhat versions of the OS can we\nupgrade from, which ones won't work.\n\n540\n00:27:13.409 --> 00:27:15.621\nMicrosoft loves to ask\nthose kind of questions.\n\n541\n00:27:15.621 --> 00:27:18.343\nDefinitely gonna get asked about them, so\nit's important for you to come back and\n\n542\n00:27:18.343 --> 00:27:20.095\ntake a look so\nyou know what the answers are gonna be.\n\n543\n00:27:20.095 --> 00:27:22.760\nFor sure, those upgrade path\nquestions are always there.\n\n544\n00:27:22.760 --> 00:27:26.691\nEven different vendors depending\non different operating systems and\n\n545\n00:27:26.691 --> 00:27:30.363\nvery common real life exercise to\ngo ahead and perform upgrades.\n\n546\n00:27:30.363 --> 00:27:31.526\nThat's something that we do- Absolutely.\n\n547\n00:27:31.526 --> 00:27:35.684\nSo, all right, Adam, looking forward to\nthat, looking forward to seeing you, or\n\n548\n00:27:35.684 --> 00:27:39.434\nI guess, not seeing you technically,\nbut you being here with us in spirit,\n\n549\n00:27:39.434 --> 00:27:40.326\nin the next show.\n\n550\n00:27:40.326 --> 00:27:43.257\nSo for now we'll go ahead and sign out,\nso remember I've been your host,\n\n551\n00:27:43.257 --> 00:27:43.977\nCherokee Boose.\n\n552\n00:27:43.977 --> 00:27:45.037\nI'm Adam Gordon.\n\n553\n00:27:45.037 --> 00:27:46.856\nSee you next time here at ITProTV.\n\n554\n00:27:46.856 --> 00:27:54.382\n[MUSIC]\n\n555\n00:27:54.382 --> 00:27:57.627\nThank you for watching ITProTV.\n\n",
          "vimeoId": "229131322"
        },
        {
          "description": "Tune in to watch a demonstration and learn how to install AD DS on Server Core.",
          "length": "1141",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-2-install_ad_ds_on_server_core-080817-PGM.00_18_49_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-2-install_ad_ds_on_server_core-080817-PGM.00_18_49_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-2-install_ad_ds_on_server_core-080817-PGM.00_18_49_21.Still001-sm.jpg",
          "title": "Install AD DS on Server Core",
          "transcript": "WEBVTT\n\n1\n00:00:00.210 --> 00:00:01.166\nWelcome to ITProTV.\n\n2\n00:00:01.166 --> 00:00:02.645\nI'm your host Don Pezet.\n\n3\n00:00:02.645 --> 00:00:06.312\n[CROSSTALK]\n\n4\n00:00:06.312 --> 00:00:08.137\n[MUSIC]\n\n5\n00:00:08.137 --> 00:00:11.970\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.970 --> 00:00:15.348\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n7\n00:00:15.348 --> 00:00:17.800\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.800 --> 00:00:22.660\nIn this episode, we'll be taking a look\nhow to install ADDS on Server Core.\n\n9\n00:00:22.660 --> 00:00:25.290\nBack in the studios with us today,\nwe have Mr. Adam Gordon.\n\n10\n00:00:25.290 --> 00:00:26.142\nHow's it going today, Adam?\n\n11\n00:00:26.142 --> 00:00:27.735\n&gt;&gt; Going well, going well.\n\n12\n00:00:27.735 --> 00:00:31.621\nWe're going to take a look at or kind of\ncontinue our thought process at looking at\n\n13\n00:00:31.621 --> 00:00:34.823\nsome hands-on skills specific not\nonly to the exam objectives for\n\n14\n00:00:34.823 --> 00:00:36.895\nbecoming [COUGH] certified in server 16.\n\n15\n00:00:36.895 --> 00:00:39.642\nBut also real world skills\nas we often talk about.\n\n16\n00:00:39.642 --> 00:00:42.422\nServer Core as an operating\nsystem is becoming more and more\n\n17\n00:00:42.422 --> 00:00:46.620\npopular much like PowerShell's becoming\nmore popular as we've talked about.\n\n18\n00:00:46.620 --> 00:00:49.792\nMuch like the use of ADAC as a tool\nto administer active directory.\n\n19\n00:00:49.792 --> 00:00:52.710\nIt's becoming more realistic and\npopular in the Enterprise.\n\n20\n00:00:52.710 --> 00:00:54.410\nServer Core as an operating system.\n\n21\n00:00:54.410 --> 00:00:58.250\nAgain, one of those things that's kinda\nbeen around for several generations.\n\n22\n00:00:58.250 --> 00:01:00.490\nNot a well-kept secret,\nbut it is a secret.\n\n23\n00:01:00.490 --> 00:01:05.230\nMost people don't realize that Microsoft,\nat least back starting around 2008,\n\n24\n00:01:05.230 --> 00:01:08.090\n2008 R2,\nas we see Server Core start to emerge.\n\n25\n00:01:08.090 --> 00:01:12.982\nHas an operating system that runs\nin a non-graphical environment,\n\n26\n00:01:12.982 --> 00:01:18.652\nreally designed to do specific kinds\nof hosting, web hosting, for instance.\n\n27\n00:01:18.652 --> 00:01:23.132\nPerhaps set up in the DMZ where you\nwant a machine that doesn't have as much\n\n28\n00:01:23.132 --> 00:01:26.397\nof a footprint in terms of\nhosting certain services.\n\n29\n00:01:26.397 --> 00:01:28.980\nAnd running with\nthe graphical overhead and\n\n30\n00:01:28.980 --> 00:01:32.960\nbloat that a normal operating\nsystem with a full GUI would have.\n\n31\n00:01:32.960 --> 00:01:35.000\nBut still provides\nthe core capabilities and\n\n32\n00:01:35.000 --> 00:01:37.930\nservices necessary for Enterprise hosting.\n\n33\n00:01:37.930 --> 00:01:41.710\nAnd so Server Core has kind of been there\nand just bubbling up behind the scenes for\n\n34\n00:01:41.710 --> 00:01:42.590\nsome time.\n\n35\n00:01:42.590 --> 00:01:45.925\nBecoming more popular especially\nin large scale enterprises and\n\n36\n00:01:45.925 --> 00:01:50.020\ncloud-based environments,\nwhich we see more and more of today.\n\n37\n00:01:50.020 --> 00:01:52.040\nAnd as we move into those\nenvironments more and more,\n\n38\n00:01:52.040 --> 00:01:54.460\nmany of you work in those environments.\n\n39\n00:01:54.460 --> 00:01:57.160\nYou hear us talk about skills\nrequired to survive and\n\n40\n00:01:57.160 --> 00:01:59.610\nthrive in those environments\non a lot of our shows,\n\n41\n00:01:59.610 --> 00:02:02.620\nlot of our discussions center\naround those kind of topics.\n\n42\n00:02:02.620 --> 00:02:04.320\nAnd so\nServer Core is becoming more prevalent,\n\n43\n00:02:04.320 --> 00:02:09.360\nmore important, more specific for\nvery well-defined hosting environments.\n\n44\n00:02:09.360 --> 00:02:11.850\nAnd we're gonna take the time\nto show you how to install,\n\n45\n00:02:11.850 --> 00:02:14.940\nconfigure ADDS in\nthe Server Core environment.\n\n46\n00:02:14.940 --> 00:02:17.960\nServer Core is capable of hosting\nthe directory service and\n\n47\n00:02:17.960 --> 00:02:19.510\ndomain service environments.\n\n48\n00:02:19.510 --> 00:02:21.110\nYou just have to know how to use it.\n\n49\n00:02:21.110 --> 00:02:24.900\nAnd the gateway to get into this\nproduct is very straightforward, but\n\n50\n00:02:24.900 --> 00:02:29.030\nyou need PowerShell to administer because\nyou don't have a graphical interface.\n\n51\n00:02:29.030 --> 00:02:31.673\nServer Manager is not going\nto be there by default.\n\n52\n00:02:31.673 --> 00:02:35.200\nSo you can certainly add a graphical\ninterface in for certain tools.\n\n53\n00:02:35.200 --> 00:02:37.120\nBring them up, use them and pull them out.\n\n54\n00:02:37.120 --> 00:02:39.030\nBut that's not the preferred method.\n\n55\n00:02:39.030 --> 00:02:44.022\nThe preferred method would be to use\nsomething like PowerShell inside of Core.\n\n56\n00:02:44.022 --> 00:02:46.920\nBring PowerShell up and\nthen do your administration from there.\n\n57\n00:02:46.920 --> 00:02:50.690\nAnd so combining these threads, these\nskills that we've been talking about.\n\n58\n00:02:50.690 --> 00:02:55.420\nThe use of PowerShell, the comfort level\nwith it to be able to do administration.\n\n59\n00:02:55.420 --> 00:02:57.910\nAnd the ability to understand\nhow to survive and\n\n60\n00:02:57.910 --> 00:03:00.700\nget around inside a non\ngraphical environment.\n\n61\n00:03:00.700 --> 00:03:04.560\nGo back to some of the most basic\nskills that IT administrators,\n\n62\n00:03:04.560 --> 00:03:08.400\nIT professionals, should feel that\nthey have in their toolkit, right?\n\n63\n00:03:08.400 --> 00:03:12.130\nYou should feel comfortable being able\nto deploy a basic set of skills, and\n\n64\n00:03:12.130 --> 00:03:15.750\nwhen I say basic, I don't mean that it's\nnot hard to learn how to use PowerShell.\n\n65\n00:03:15.750 --> 00:03:17.050\nIt's not challenging.\n\n66\n00:03:17.050 --> 00:03:20.270\nWhat I mean is that once you've spent\nsome time, as we've talked about,\n\n67\n00:03:20.270 --> 00:03:21.370\ngetting used to it.\n\n68\n00:03:21.370 --> 00:03:23.190\nIt should feel more comfortable for you.\n\n69\n00:03:23.190 --> 00:03:27.300\nAnd it should become one of those things\nthat although you may not do every day,\n\n70\n00:03:27.300 --> 00:03:31.020\nyou don't fear going to do and\nyou don't fear the outcome of that.\n\n71\n00:03:31.020 --> 00:03:32.530\nIt may take a little\nlonger in the beginning.\n\n72\n00:03:32.530 --> 00:03:36.340\nYou may have to spend some time getting\ncomfortable with how to get in there, hey,\n\n73\n00:03:36.340 --> 00:03:37.870\nwhat's that command?\n\n74\n00:03:37.870 --> 00:03:42.310\nGet AD domain, get AD forest,\nwe've talked about those\n\n75\n00:03:42.310 --> 00:03:45.930\nin one of our prior conversations\naround looking for the FSMO roles.\n\n76\n00:03:45.930 --> 00:03:49.802\nProfiling the forests and the domain\nlevel information in PowerShell.\n\n77\n00:03:49.802 --> 00:03:53.443\nWe went through and talked about them,\nshowed you in a prior show where all\n\n78\n00:03:53.443 --> 00:03:55.980\nthe PowerShell cmdlets for\nthe AD module would be.\n\n79\n00:03:55.980 --> 00:03:57.135\nHow to find them.\n\n80\n00:03:57.135 --> 00:04:00.390\nYou're going in and practicing is\nreally gonna make the difference or\n\n81\n00:04:00.390 --> 00:04:05.050\nmean the difference between success and\nfear, not failure, but fear.\n\n82\n00:04:05.050 --> 00:04:08.870\nAnd fear is the biggest thing you have to\novercome when you think about looking down\n\n83\n00:04:08.870 --> 00:04:12.670\nthe mouth of something like PowerShell,\nin order to get comfortable using it.\n\n84\n00:04:12.670 --> 00:04:14.640\nSo it is important to think about that.\n\n85\n00:04:14.640 --> 00:04:18.326\n&gt;&gt; Adam, you use the auto tab, and some\npeople kind of make fun of me when I'm\n\n86\n00:04:18.326 --> 00:04:20.478\ntyping out my cmdlets here in PowerShell.\n\n87\n00:04:20.478 --> 00:04:22.680\nBut the reason I do that\nis to help remember them,\n\n88\n00:04:22.680 --> 00:04:24.038\nbecause the more I type them.\n\n89\n00:04:24.038 --> 00:04:29.017\nSo I would definitely, depending on your\nlevel of familiarity with a particular\n\n90\n00:04:29.017 --> 00:04:32.983\nsubset of those commands,\njust getting familiar typing them.\n\n91\n00:04:32.983 --> 00:04:36.824\nBecause like Adam says, it's not something\nthat you can avoid at this point in time.\n\n92\n00:04:36.824 --> 00:04:40.961\nAnd when you get in to sit for that exam\nand you see cmdlets and they're just a few\n\n93\n00:04:40.961 --> 00:04:45.610\nletters off and they look very similar and\nyou're sitting there scratching your head.\n\n94\n00:04:45.610 --> 00:04:49.042\nIt's just going to help if you already\ndo have a little bit more of that\n\n95\n00:04:49.042 --> 00:04:49.881\ncomfort there.\n\n96\n00:04:49.881 --> 00:04:52.225\n&gt;&gt; No,\nit's a great point that you're making.\n\n97\n00:04:52.225 --> 00:04:54.372\nBecause not that necessarily we know for\n\n98\n00:04:54.372 --> 00:04:57.420\na fact that you would see\nsomething like that on an exam.\n\n99\n00:04:57.420 --> 00:04:59.916\nBecause we would have no way of\nknowing that and even if we did,\n\n100\n00:04:59.916 --> 00:05:00.884\nwe couldn't tell you.\n\n101\n00:05:00.884 --> 00:05:03.074\nBut, knowing that's certainly, right,\n\n102\n00:05:03.074 --> 00:05:06.640\nif we just think about the logic\nof what people maybe asked about.\n\n103\n00:05:06.640 --> 00:05:11.190\nIt's certainly, I hope very clear to you\nas Cherokee just made clear that cmdlets\n\n104\n00:05:11.190 --> 00:05:13.150\nwould be a subject of interest.\n\n105\n00:05:13.150 --> 00:05:17.840\nA subject of focus,\naround question and answer exercises.\n\n106\n00:05:17.840 --> 00:05:21.670\nYou may be asked to interact in\nan environment where we have to use\n\n107\n00:05:21.670 --> 00:05:26.610\na command line, type something in, perhaps\nget an output, perhaps see a screenshot,\n\n108\n00:05:26.610 --> 00:05:29.360\nfigure out what's right or\nwrong with it as you were suggesting.\n\n109\n00:05:29.360 --> 00:05:30.870\nHey, is this command gonna do this?\n\n110\n00:05:30.870 --> 00:05:33.923\nWill this cmdlet yield this end result?\n\n111\n00:05:33.923 --> 00:05:37.858\nWhat you often will see is not necessarily\na full interactive environment.\n\n112\n00:05:37.858 --> 00:05:41.316\nBut you'll see a screen capture of\nan enviroment with three of four commands\n\n113\n00:05:41.316 --> 00:05:43.000\nthat have been executed and output.\n\n114\n00:05:43.000 --> 00:05:44.890\nAnd then there may be\nan error at the bottom.\n\n115\n00:05:44.890 --> 00:05:46.658\nAnd the question may be something like,\n\n116\n00:05:46.658 --> 00:05:48.745\nhey what went wrong in\nthis series of commands?\n\n117\n00:05:48.745 --> 00:05:52.360\nWe wanted to get to this point,\nbut this isn't happening.\n\n118\n00:05:52.360 --> 00:05:53.400\nTell us what's wrong.\n\n119\n00:05:53.400 --> 00:05:55.170\nAnd the four or five answers would be,\n\n120\n00:05:55.170 --> 00:05:57.470\nthe thing you have to fix\nin the command string.\n\n121\n00:05:57.470 --> 00:06:00.830\nSomewhere in that chain,\nthat may fix the output.\n\n122\n00:06:00.830 --> 00:06:05.040\nYou may have to look at an environment\nmake a choice, as Cherokee was saying,\n\n123\n00:06:05.040 --> 00:06:07.870\nabout a cmdlet that is correct.\n\n124\n00:06:07.870 --> 00:06:13.150\nBut three or four of them are so similar,\nget AD domain, versus get AD domains.\n\n125\n00:06:13.150 --> 00:06:17.965\nFor instance, get AD domains will not work\nthe right way, but get AD domain would.\n\n126\n00:06:17.965 --> 00:06:21.387\nAnd so you would have to understand\nthe difference between them and\n\n127\n00:06:21.387 --> 00:06:23.470\nit's a great point that she raises.\n\n128\n00:06:23.470 --> 00:06:27.490\nBecause if you're not practicing as\nwe've been talking about, your guessing.\n\n129\n00:06:27.490 --> 00:06:30.410\nAnd while guessing may work,\nwe established in one of our prior\n\n130\n00:06:30.410 --> 00:06:33.350\nconversations, it's not\nthe preferred method.\n\n131\n00:06:33.350 --> 00:06:36.720\nAnd as those number of options for\nanswering correctly goes up,\n\n132\n00:06:36.720 --> 00:06:38.720\nyou said in one of our conversations hey,\n\n133\n00:06:38.720 --> 00:06:42.980\nI've seen questions where it went\ndown to h or j or l for options.\n\n134\n00:06:42.980 --> 00:06:46.180\nIf you have 12 or 15 options,\nyou have to choose the right one.\n\n135\n00:06:46.180 --> 00:06:49.450\nThat's gonna be very difficult for\nyou to figure out and do consistently.\n\n136\n00:06:49.450 --> 00:06:51.123\nSo you've heard us talk about it.\n\n137\n00:06:51.123 --> 00:06:54.282\nI'm getting off my PowerShell soapbox and\ngo into our environment here and\n\n138\n00:06:54.282 --> 00:06:56.500\nactually talk about what\nwe're here to talk about.\n\n139\n00:06:56.500 --> 00:06:57.610\nSo let's take a look.\n\n140\n00:06:57.610 --> 00:07:01.280\nWe're gonna to show you how to walk\nthrough using our Server Core instance\n\n141\n00:07:01.280 --> 00:07:03.830\nset up and configure ADDS.\n\n142\n00:07:03.830 --> 00:07:04.650\nI've already gone ahead and\n\n143\n00:07:04.650 --> 00:07:07.720\njust done a couple of quick things as\nwe often do to get kickstarted here.\n\n144\n00:07:07.720 --> 00:07:10.750\nLet me explain what we've done to show you\nthe set up on the environment we'll then\n\n145\n00:07:10.750 --> 00:07:13.150\njump in and continue from here we are.\n\n146\n00:07:13.150 --> 00:07:18.340\nI brought up a PowerShell console\ninside of the Server Core environment.\n\n147\n00:07:18.340 --> 00:07:21.243\nI'm running a Server Core VM as\nyou can clearly see up here,\n\n148\n00:07:21.243 --> 00:07:24.393\nrunning it on top of one of our\nother virtual machines in hyper V.\n\n149\n00:07:24.393 --> 00:07:27.756\nSo I started up the VM at\nthe log on screen for Core,\n\n150\n00:07:27.756 --> 00:07:29.940\nin case you haven't seen it.\n\n151\n00:07:29.940 --> 00:07:35.030\nYou get just the dash shell, very simple\nprompts, press CTRL+ALT+DEL to log in.\n\n152\n00:07:35.030 --> 00:07:37.260\nSo use CTRL+ALT+DEL keys in this case.\n\n153\n00:07:37.260 --> 00:07:42.090\nJust toggle them from here inside\nthe hyper V command environment or\n\n154\n00:07:42.090 --> 00:07:44.780\nthe hyper V window to RDP into the VM.\n\n155\n00:07:44.780 --> 00:07:47.720\nAnd then I had to login, so I did that.\n\n156\n00:07:47.720 --> 00:07:52.110\nAnd once I came on as the Administrator,\nI basically have a command prompt.\n\n157\n00:07:52.110 --> 00:07:55.270\nAnd so I typed in the command\nPowerShell right here.\n\n158\n00:07:55.270 --> 00:07:59.890\nNow I did go in and change and modify the\ncommand prompt environment right here by\n\n159\n00:07:59.890 --> 00:08:03.480\nclicking on right click,\nProperties as I told you I did before.\n\n160\n00:08:03.480 --> 00:08:07.590\nChange the font size as I've explained in\nthe past, you can see it more clearly.\n\n161\n00:08:07.590 --> 00:08:09.410\nOnly thing I did to modify this so.\n\n162\n00:08:09.410 --> 00:08:12.262\nIf you go in and do this on your own,\nthe type's real small,\n\n163\n00:08:12.262 --> 00:08:13.760\nit doesn't look the same way.\n\n164\n00:08:13.760 --> 00:08:15.792\nIt's simply because you\nhaven't modified the type set.\n\n165\n00:08:15.792 --> 00:08:20.220\nI use 18 point Lucinda Console,\nthat way you can see it clearly.\n\n166\n00:08:20.220 --> 00:08:23.130\nOther than that it's going to look\nidentical to what you're doing when you're\n\n167\n00:08:23.130 --> 00:08:26.860\nwatching us or doing it later at some\npoint on your own in your own environment.\n\n168\n00:08:26.860 --> 00:08:29.339\nSo I type PowerShell,\nbring up PowerShell and\n\n169\n00:08:29.339 --> 00:08:31.635\nI typed in the add windows feature cmdlet.\n\n170\n00:08:31.635 --> 00:08:33.032\nYou've seen me do this before,\n\n171\n00:08:33.032 --> 00:08:35.784\nI've explained this numerous\ntimes with the name parameter.\n\n172\n00:08:35.784 --> 00:08:39.748\nThe name of the feature I want to add,\nAD Domain Services ADDS.\n\n173\n00:08:39.748 --> 00:08:42.947\nAnd then the include\nmanagement tools parameter.\n\n174\n00:08:42.947 --> 00:08:46.111\nWent ahead and executed that just\nto get that out of the way so\n\n175\n00:08:46.111 --> 00:08:47.450\nwe have ADDS installed.\n\n176\n00:08:47.450 --> 00:08:48.520\nThey haven't configured it yet.\n\n177\n00:08:48.520 --> 00:08:50.890\nThe next command that's typed\nthere is gonna do that for\n\n178\n00:08:50.890 --> 00:08:52.920\nus in a minute, had success here.\n\n179\n00:08:53.970 --> 00:08:55.950\nExit code success,\nthat's what we're looking for.\n\n180\n00:08:55.950 --> 00:08:58.080\nNo restart required, so that's good.\n\n181\n00:08:58.080 --> 00:08:59.570\nWe're on to our next cmdlet.\n\n182\n00:08:59.570 --> 00:09:03.940\nInstall ADDS domain controller,\nthis cmdlet will now let me go and\n\n183\n00:09:03.940 --> 00:09:08.540\ntake the ADDS feature and\nconfigure it as the domain controller.\n\n184\n00:09:08.540 --> 00:09:13.070\nDomain name parameter, what domain name,\nwhat domain am I looking to join?\n\n185\n00:09:13.070 --> 00:09:16.770\nPut this domain controller into,\nbecome associated with.\n\n186\n00:09:16.770 --> 00:09:20.840\nAnd practicelabs.com, kinda truncate and\nmove to the next line, there.\n\n187\n00:09:20.840 --> 00:09:22.230\nSo I'm gonna hit Enter.\n\n188\n00:09:22.230 --> 00:09:24.414\nIt's asking me for the safe mode password,\n\n189\n00:09:24.414 --> 00:09:28.028\nyou've seen me do this in the GUI\nenvironment in the prior hands on demo.\n\n190\n00:09:28.028 --> 00:09:32.729\nWhen we walked through and installed, ADDS\nfrom within the Server Core, excuse me,\n\n191\n00:09:32.729 --> 00:09:37.000\nfrom within the Server Manager using\nPowerShell, but in a GUI environment.\n\n192\n00:09:37.000 --> 00:09:38.370\nSo you've seen me do this all ready.\n\n193\n00:09:38.370 --> 00:09:40.964\nIt's identical only difference is,\nwe're on Server Core.\n\n194\n00:09:40.964 --> 00:09:44.308\nSo I'm gonna type in\nthe safe mode password,\n\n195\n00:09:44.308 --> 00:09:47.835\nconfirm the password,\njust like we always do.\n\n196\n00:09:47.835 --> 00:09:52.504\nWe get that prompt, hey do you wanna say\nyes, yes to all, no, no to all suspend,\n\n197\n00:09:52.504 --> 00:09:54.111\nright, maybe I need help.\n\n198\n00:09:54.111 --> 00:09:56.214\nWe've been through the options\nwith you there before.\n\n199\n00:09:56.214 --> 00:09:57.918\nI'm gonna type a for yes to all.\n\n200\n00:09:57.918 --> 00:10:00.077\nI know you can't see it,\nit's at the end of the line there.\n\n201\n00:10:00.077 --> 00:10:03.103\nBut I'm typing a just to do that,\ngonna hit Return.\n\n202\n00:10:03.103 --> 00:10:05.680\nWe then get our green bar, right?\n\n203\n00:10:05.680 --> 00:10:07.700\nComes up and it tells us what we're doing.\n\n204\n00:10:07.700 --> 00:10:09.335\nInstall ADDS domain controller.\n\n205\n00:10:09.335 --> 00:10:10.647\nSo that's starting.\n\n206\n00:10:10.647 --> 00:10:14.341\nIt's going to take a couple of minutes for\nit to run through just like it did in\n\n207\n00:10:14.341 --> 00:10:17.369\nthe prior walk through as we're\ngoing through configuring.\n\n208\n00:10:17.369 --> 00:10:21.807\nIf you took a look at that one, we went\nthrough not only installed an additional\n\n209\n00:10:21.807 --> 00:10:24.378\ndomain controller into an existing domain.\n\n210\n00:10:24.378 --> 00:10:27.160\nBut then we took a standalone machine and\nwe went ahead.\n\n211\n00:10:27.160 --> 00:10:31.020\nIt looks like we have a credential issue.\n\n212\n00:10:31.020 --> 00:10:33.292\nOkay, I've got to go in,\nmaybe I miss typed the password so\n\n213\n00:10:33.292 --> 00:10:34.937\nwe'll take a look at\nthat in just a minute.\n\n214\n00:10:34.937 --> 00:10:36.040\nAnd that can happen, by the way, right?\n\n215\n00:10:36.040 --> 00:10:39.672\nSo sometimes that does happen, but\nwe went through as that was running.\n\n216\n00:10:39.672 --> 00:10:42.994\nWhat I was just gonna simply explain\nwas you saw me go through and\n\n217\n00:10:42.994 --> 00:10:46.883\ndo this, essentially same exact exercise\nto add a domain controller into\n\n218\n00:10:46.883 --> 00:10:48.656\nthe practicelabs.com domain.\n\n219\n00:10:48.656 --> 00:10:52.810\nBut then we also took a standalone\nmachine and we actually went through and\n\n220\n00:10:52.810 --> 00:10:57.500\ncreated a forest root, set up a whole\nseparate forest, practiceit.co.uk, and\n\n221\n00:10:57.500 --> 00:10:59.780\nwalked through how to get that stood up.\n\n222\n00:10:59.780 --> 00:11:00.920\nAnd we did that, as well.\n\n223\n00:11:00.920 --> 00:11:02.640\nSo you saw me do both of these.\n\n224\n00:11:02.640 --> 00:11:05.820\nLet me just scroll down here and\nfigure out what's going on.\n\n225\n00:11:05.820 --> 00:11:07.926\nI'm sure you supplied\nthe correct DNS domain name.\n\n226\n00:11:07.926 --> 00:11:10.702\nOkay, maybe the domain was\nactually typed in incorrectly.\n\n227\n00:11:10.702 --> 00:11:11.903\nLet's take a look.\n\n228\n00:11:11.903 --> 00:11:13.086\nAll right, so, whoops.\n\n229\n00:11:13.086 --> 00:11:14.698\nAll right so, let's just try that.\n\n230\n00:11:14.698 --> 00:11:18.300\nInstall practice, I have a typo there.\n\n231\n00:11:18.300 --> 00:11:20.485\nFunny that I, of all people,\nshould have a typo.\n\n232\n00:11:20.485 --> 00:11:22.080\n&gt;&gt; [LAUGH]\n&gt;&gt; Who would've thought, right?\n\n233\n00:11:22.080 --> 00:11:26.620\nI spelled practice labs, I know it's hard\nto see, but Practice LBS I forgot the A,\n\n234\n00:11:26.620 --> 00:11:28.500\nso that's why I'm getting the V error.\n\n235\n00:11:28.500 --> 00:11:29.900\nNo big deal, we can easily fix that.\n\n236\n00:11:29.900 --> 00:11:34.802\nLet's just go back and put an A in there\nbecause labs is spelled with an A.\n\n237\n00:11:34.802 --> 00:11:36.345\nSo let me just fix that real quick,\n\n238\n00:11:36.345 --> 00:11:39.443\none of the many reason you gotta\npay attention to what you're doing.\n\n239\n00:11:39.443 --> 00:11:44.229\nAnd of course make sure that\nyou can spell correctly.\n\n240\n00:11:44.229 --> 00:11:45.789\nThat is the downfall-\n&gt;&gt; It really is [LAUGH].\n\n241\n00:11:45.789 --> 00:11:48.909\n&gt;&gt; On a regular basis of\nmyself in the real world.\n\n242\n00:11:48.909 --> 00:11:50.300\n&gt;&gt; I'm speaking for myself, not you.\n\n243\n00:11:50.300 --> 00:11:52.030\nBut yeah, I agree.\n\n244\n00:11:52.030 --> 00:11:55.800\n&gt;&gt; The downfall of all\ntrue IT professionals.\n\n245\n00:11:55.800 --> 00:11:57.401\nSo now we're kicking this off.\n\n246\n00:11:57.401 --> 00:11:59.448\nWe'll get the bar to come up again.\n\n247\n00:11:59.448 --> 00:12:00.104\nIt'll start running.\n\n248\n00:12:00.104 --> 00:12:02.450\nIt's gonna just check on some things.\n\n249\n00:12:02.450 --> 00:12:03.970\nSo this will go through.\n\n250\n00:12:03.970 --> 00:12:07.100\nIt is gonna take a couple of minutes\nbehind the scenes as we set it did\n\n251\n00:12:07.100 --> 00:12:07.850\nin the other environment.\n\n252\n00:12:07.850 --> 00:12:10.320\nYou can see it's kinda walking through,\nthey're making more progress.\n\n253\n00:12:10.320 --> 00:12:12.440\nClearly, it's connecting down,\nit's running.\n\n254\n00:12:12.440 --> 00:12:13.620\nIt's gonna take a couple of minutes for\nit to run.\n\n255\n00:12:13.620 --> 00:12:17.380\nWe're gonna let you just\nkinda go get a sip of water,\n\n256\n00:12:17.380 --> 00:12:18.330\ntake a look at some stuff here.\n\n257\n00:12:18.330 --> 00:12:19.847\nYou gonna come back and\njoin us in just a moment.\n\n258\n00:12:19.847 --> 00:12:21.399\nWe're gonna have this setup and finish and\n\n259\n00:12:21.399 --> 00:12:24.039\nthen you'll see what the next steps\nare once we have this up and running.\n\n260\n00:12:25.460 --> 00:12:27.290\nAll right, so you see we finished up.\n\n261\n00:12:27.290 --> 00:12:29.750\nAnd at the end of that process,\nwe do have a forced restart.\n\n262\n00:12:29.750 --> 00:12:32.160\nSo that's just happened behind the scenes.\n\n263\n00:12:32.160 --> 00:12:35.100\nWant to take the opportunity to show you\nwhat the logon looks like in Server Core.\n\n264\n00:12:35.100 --> 00:12:35.870\nI described it to you.\n\n265\n00:12:35.870 --> 00:12:37.070\nBut you may not have seen it before.\n\n266\n00:12:37.070 --> 00:12:40.492\nSo when we come up back out of the\nrestart, you can see we're at the press\n\n267\n00:12:40.492 --> 00:12:43.302\nCTRL+ALT+DEL to unlock prompt\nthat I mentioned to you.\n\n268\n00:12:43.302 --> 00:12:45.200\nSo, let me go ahead,\nwe'll gonna do it right now.\n\n269\n00:12:45.200 --> 00:12:49.870\nYou see that chain is over the log on\nprompt for providing of our password.\n\n270\n00:12:49.870 --> 00:12:52.710\nWe'll put that in just to\nget back to where we were.\n\n271\n00:12:52.710 --> 00:12:56.740\nYou'll see that PowerShell, rather our\nadministrative prompt comes back up.\n\n272\n00:12:56.740 --> 00:12:59.787\nAnd just to make that up at the top there.\n\n273\n00:12:59.787 --> 00:13:02.585\nAll right, so we have that so\nnow what we're gonna do.\n\n274\n00:13:02.585 --> 00:13:07.650\nWe've got our domain controller installed,\nconfigured, it's up and running.\n\n275\n00:13:07.650 --> 00:13:09.800\nWe could do a variety of\nthings at this point.\n\n276\n00:13:09.800 --> 00:13:12.880\nWe don't necessarily need\nPowerShell to be able to do that.\n\n277\n00:13:12.880 --> 00:13:15.360\nWe could just use a normal\n\n278\n00:13:15.360 --> 00:13:18.710\noutside of PowerShell set of\ncommands to do administration.\n\n279\n00:13:18.710 --> 00:13:23.450\nDS add, DS mod for instance, the DS\ncommands, directory service commands\n\n280\n00:13:23.450 --> 00:13:26.770\ncan be used in order to be able to\ndo something like the following.\n\n281\n00:13:26.770 --> 00:13:34.890\nSo if I do DS add and then I do OU\nif I wanna make an OU for instance.\n\n282\n00:13:34.890 --> 00:13:41.710\nAnd I'd put in OU equals and I put in\nthe name of the OU that I want to create.\n\n283\n00:13:41.710 --> 00:13:46.160\nWe'll call our OU apprentices,\nyou can see me typing that on the screen.\n\n284\n00:13:46.160 --> 00:13:50.156\nAnd then I go ahead and\n\n285\n00:13:50.156 --> 00:13:54.374\nI put in OU equals IT and\n\n286\n00:13:54.374 --> 00:13:58.320\nOU equals, apac.\n\n287\n00:13:58.320 --> 00:14:03.615\nSo I can set up this and then specify\nthe domain that I want to put it into.\n\n288\n00:14:03.615 --> 00:14:07.054\nUsing the standardized naming\nconvention DC, right for\n\n289\n00:14:07.054 --> 00:14:11.530\ndomain equals practice labs,\nDC equals com for the domain container.\n\n290\n00:14:11.530 --> 00:14:12.413\nSpell out the domain.\n\n291\n00:14:12.413 --> 00:14:15.280\nSo I'm gonna do that just to\nfinish off the statement here.\n\n292\n00:14:15.280 --> 00:14:16.185\nJust give me just a second.\n\n293\n00:14:16.185 --> 00:14:16.768\nKeep me honest.\n\n294\n00:14:16.768 --> 00:14:19.248\nMake sure I spell practice\nlabs correctly this time.\n\n295\n00:14:19.248 --> 00:14:20.988\nAll right, now that you can see this-\n&gt;&gt; And I was gonna say,\n\n296\n00:14:20.988 --> 00:14:22.288\nyou're assuming that I\ncan see that far out.\n\n297\n00:14:22.288 --> 00:14:23.233\n[LAUGH]\n&gt;&gt; I was gonna say,\n\n298\n00:14:23.233 --> 00:14:24.457\nyou probably can't see anyway.\n\n299\n00:14:24.457 --> 00:14:28.235\nBut let me do DC equals come.\n\n300\n00:14:28.235 --> 00:14:29.583\nAll right, so we have that.\n\n301\n00:14:29.583 --> 00:14:33.459\nAnd then if I do that,\nDsadd succeeded, as you can see,\n\n302\n00:14:33.459 --> 00:14:38.673\nou=Apprenticies, ou=IT, ou=APAC,\nDC=Practice Labs, DC=com.\n\n303\n00:14:38.673 --> 00:14:44.160\nSo I'm able to go in and\nadd that specific solution in.\n\n304\n00:14:44.160 --> 00:14:48.755\nThe apprentices ou is created\nsuccessfully, right inside that subset, or\n\n305\n00:14:48.755 --> 00:14:52.420\nrather, that scaled set of\nou's that already exist.\n\n306\n00:14:52.420 --> 00:14:56.055\nAnd so now that I've done that,\nI have a new OU called apprentices and\n\n307\n00:14:56.055 --> 00:14:58.072\nI can go ahead and I can work with that.\n\n308\n00:14:58.072 --> 00:15:02.662\nNow I could also potentially\nuse DS add instead of OU.\n\n309\n00:15:02.662 --> 00:15:05.875\nDS add user, create a brand new\nuser if I wanted to do that.\n\n310\n00:15:05.875 --> 00:15:07.453\nIt's a variety of things\nthat I could do here.\n\n311\n00:15:07.453 --> 00:15:10.770\nAnd I'm not gonna go through all\nthe potential possibilities.\n\n312\n00:15:10.770 --> 00:15:14.960\nJust waned to show you the idea that\ncombining PowerShell to do the initial\n\n313\n00:15:14.960 --> 00:15:19.640\nconfiguration or installation after we do\nthe initial installation of the feature.\n\n314\n00:15:19.640 --> 00:15:23.509\nDo the configuration and the additional\ncreation of the domain controller.\n\n315\n00:15:23.509 --> 00:15:27.736\nAnd then, coming back on and using\njust our administrative command shell,\n\n316\n00:15:27.736 --> 00:15:31.515\nto then be able to leverage commands\nto be able to do configuration.\n\n317\n00:15:31.515 --> 00:15:34.780\nI'm able to administer from\nthe Server Core with no trouble.\n\n318\n00:15:34.780 --> 00:15:37.960\nAnd if we bring up,\nlet me just go over here real quick.\n\n319\n00:15:37.960 --> 00:15:41.620\nGo into our domain controller\nthat has our GUI environment,\n\n320\n00:15:41.620 --> 00:15:45.000\nthe domain controller that we\nused in some of the other demos.\n\n321\n00:15:45.000 --> 00:15:47.418\nYou'll see here labDC01, right?\n\n322\n00:15:47.418 --> 00:15:50.515\nSo we've seen in some of\nthe other demonstrations we did.\n\n323\n00:15:50.515 --> 00:15:51.911\nWe go in here.\n\n324\n00:15:51.911 --> 00:15:55.344\nWe bring up our tools, bring up active\ndirectory, users and computers.\n\n325\n00:15:55.344 --> 00:15:58.479\nJust to take a look at what's\ngoing on in there really quickly.\n\n326\n00:15:58.479 --> 00:16:01.340\nWe could see the output\nof what we just did.\n\n327\n00:16:01.340 --> 00:16:03.880\nRemember our path was apac IT and\n\n328\n00:16:03.880 --> 00:16:06.970\nthen a parenthesis to be\nable to create the new OU.\n\n329\n00:16:06.970 --> 00:16:11.630\nAnd so we have an apac OU,\nwe have the IT OU, you see it right there.\n\n330\n00:16:11.630 --> 00:16:16.230\nAnd under IT, you'll see the new OU called\nthe parenthesis that I just created.\n\n331\n00:16:16.230 --> 00:16:19.070\nSo we could tell just by coming here and\nlooking,\n\n332\n00:16:19.070 --> 00:16:22.630\nwe could tell just based on success\noutput that was in the command prompt.\n\n333\n00:16:22.630 --> 00:16:24.590\nBut we could tell that\nthe OU indeed was created.\n\n334\n00:16:24.590 --> 00:16:26.347\nWell we saw that, but\nnow we're verifying it.\n\n335\n00:16:26.347 --> 00:16:29.331\nWe can tell we are a member of\nthe practicelabs.com domain,\n\n336\n00:16:29.331 --> 00:16:31.920\nbecause it wouldn't have\nbeen created otherwise.\n\n337\n00:16:31.920 --> 00:16:37.120\nAnd if we go and\nwe take a look at domain controllers.\n\n338\n00:16:37.120 --> 00:16:39.372\nJust come over here and\nlet me extend this out real quick.\n\n339\n00:16:39.372 --> 00:16:46.270\nWe could see the plaid DM Core 01 machine\nsetting right here as a domain controller.\n\n340\n00:16:46.270 --> 00:16:48.050\nThat's the machine we just operated on and\n\n341\n00:16:48.050 --> 00:16:50.415\ncreated a brand new\ndomain controller with.\n\n342\n00:16:50.415 --> 00:16:52.325\nWe see our existing one already there.\n\n343\n00:16:52.325 --> 00:16:56.120\nSo we can verify and cross reference all\nthe stuff we already know intuitively from\n\n344\n00:16:56.120 --> 00:16:57.555\nworking in the Core instance.\n\n345\n00:16:57.555 --> 00:17:02.275\nBut we can see it all here just to show us\nthe proof on the graphical side as well.\n\n346\n00:17:02.275 --> 00:17:04.164\nSp we can see that everything\nworked the way it was supposed to.\n\n347\n00:17:04.164 --> 00:17:08.075\nOther than that little typo with\npractice labs initially to set that up.\n\n348\n00:17:08.075 --> 00:17:09.445\nBut that happens sometimes.\n\n349\n00:17:09.445 --> 00:17:11.356\nYou mistype something,\njust quickly go back and fix it.\n\n350\n00:17:11.356 --> 00:17:12.572\nNo big deal at all.\n\n351\n00:17:12.572 --> 00:17:16.535\nBut you can see that, based on everything\nwe did, we now have the ability to go and\n\n352\n00:17:16.535 --> 00:17:18.960\nadminister either, from this GUI instance.\n\n353\n00:17:18.960 --> 00:17:22.209\nIf I wanted to create a user,\nI could easily come here.\n\n354\n00:17:22.209 --> 00:17:27.168\nI can right-click, use new, and\nI can create a user here with no trouble,\n\n355\n00:17:27.168 --> 00:17:29.010\nin the GUI environment.\n\n356\n00:17:29.010 --> 00:17:32.592\nBut I could use the DS add user command\non Core to do the same exact thing,\n\n357\n00:17:32.592 --> 00:17:33.387\nif I wanted to.\n\n358\n00:17:33.387 --> 00:17:35.225\nSo, I could administer either way.\n\n359\n00:17:35.225 --> 00:17:37.890\nAnd again,\nthe idea is that you have options.\n\n360\n00:17:37.890 --> 00:17:42.150\nNot that one's better than the other, not\nthat one is more correct than the other.\n\n361\n00:17:42.150 --> 00:17:45.720\nNot that there's a best practice\ninvolved with doing one or the other.\n\n362\n00:17:45.720 --> 00:17:49.212\nBut the skills involved with knowing\nhow to setup and configure and\n\n363\n00:17:49.212 --> 00:17:51.907\nadminister a Server Core\ninstance are important.\n\n364\n00:17:51.907 --> 00:17:54.705\nBecause you may have to bring\nthose to the table and show or\n\n365\n00:17:54.705 --> 00:17:58.700\nvalidate that you understand how to use\nthose skills if asked at some point.\n\n366\n00:17:58.700 --> 00:18:01.560\nAnd in the real world,\nyou may be asked by an employer,\n\n367\n00:18:01.560 --> 00:18:05.790\nto work on a set of Server Core instances,\nin some sort of a server form.\n\n368\n00:18:05.790 --> 00:18:08.200\nAnd you have to understand how to survive,\nand thrive, and\n\n369\n00:18:08.200 --> 00:18:09.450\nadminister in that environment.\n\n370\n00:18:09.450 --> 00:18:13.088\nBecause maybe the server manager interface\nwill not be available to you natively.\n\n371\n00:18:13.088 --> 00:18:15.855\nAnd you have to understand what to do with\nPowerShell in order to be able to do that.\n\n372\n00:18:15.855 --> 00:18:18.427\nSo, hopefully this little\nwalkthrough was helpful for you.\n\n373\n00:18:18.427 --> 00:18:21.096\nIt's gonna be a set of skills\nI definitely recommend,\n\n374\n00:18:21.096 --> 00:18:23.490\nthat you heard both Cherokee and\nI suggest.\n\n375\n00:18:23.490 --> 00:18:24.818\nThat you practice over time.\n\n376\n00:18:24.818 --> 00:18:25.661\nGet better at.\n\n377\n00:18:25.661 --> 00:18:28.150\nAnd the more you do,\nthe easier it becomes.\n\n378\n00:18:28.150 --> 00:18:30.741\n&gt;&gt; That's what it's all about Adam,\nhaving that knowledge to be able\n\n379\n00:18:30.741 --> 00:18:32.795\nto be flexible to fit those\ndifferent environments.\n\n380\n00:18:32.795 --> 00:18:37.384\nAnd of course, making sure you know the\nexact steps for passing that exam as well.\n\n381\n00:18:37.384 --> 00:18:38.498\nSo, thank you for that.\n\n382\n00:18:38.498 --> 00:18:39.840\nAnd thank you for joining us as well.\n\n383\n00:18:39.840 --> 00:18:43.460\nBut we do have some more demonstrations\nheaded your way so stay tuned.\n\n384\n00:18:43.460 --> 00:18:45.214\nBut for this show,\nwe'll go ahead and sign out.\n\n385\n00:18:45.214 --> 00:18:46.534\nI've been your host Cherokee Boose.\n\n386\n00:18:46.534 --> 00:18:47.533\n&gt;&gt; I'm Adam Gordon.\n\n387\n00:18:47.533 --> 00:18:49.646\n&gt;&gt; See you next time here at ITProTV.\n\n388\n00:18:51.014 --> 00:18:56.843\n[MUSIC]\n\n389\n00:18:56.843 --> 00:18:58.920\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229278589"
        },
        {
          "description": "Tune in to watch a demonstration and learn how to configure a global catalog server.",
          "length": "1310",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-3-configuring_a_global_catalog_server-080817-PGM.00_31_19_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-3-configuring_a_global_catalog_server-080817-PGM.00_31_19_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-3-configuring_a_global_catalog_server-080817-PGM.00_31_19_27.Still001-sm.jpg",
          "title": "Configuring a Global Catalog Server",
          "transcript": "WEBVTT\n\n1\n00:00:00.016 --> 00:00:05.861\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:05.861 --> 00:00:06.787\n[CROSSTALK]\n\n3\n00:00:06.787 --> 00:00:07.924\n[MUSIC]\n\n4\n00:00:07.924 --> 00:00:11.906\nYou're watching ITProTV.\n\n5\n00:00:11.906 --> 00:00:14.822\n&gt;&gt; Welcome to your identity with\nWindows Server 2016 Series.\n\n6\n00:00:14.822 --> 00:00:16.874\nI'm your show host, Cherokee Boose.\n\n7\n00:00:16.874 --> 00:00:17.962\nIn this episode,\n\n8\n00:00:17.962 --> 00:00:22.254\nAdam will hopefully, he'll be\nwalking us through a demonstration.\n\n9\n00:00:22.254 --> 00:00:23.120\n&gt;&gt; Hopefully?\n\n10\n00:00:23.120 --> 00:00:24.937\n&gt;&gt; [LAUGH]\n&gt;&gt; You have no faith in me.\n\n11\n00:00:24.937 --> 00:00:25.982\n&gt;&gt; I'm like volunteering\nhim to do this for us.\n\n12\n00:00:25.982 --> 00:00:26.672\n&gt;&gt; You have no faith.\n\n13\n00:00:26.672 --> 00:00:28.977\n&gt;&gt; I'm hoping that he will\nbe helping us go ahead and\n\n14\n00:00:28.977 --> 00:00:31.464\nconfigure global catalog server,\nwhat do you say?\n\n15\n00:00:31.464 --> 00:00:33.053\n[LAUGH]\n&gt;&gt; I swear I should walk off in a huff and\n\n16\n00:00:33.053 --> 00:00:33.883\njust say, you do it.\n\n17\n00:00:33.883 --> 00:00:36.561\n&gt;&gt; [LAUGH] These working conditions.\n\n18\n00:00:36.561 --> 00:00:37.974\n&gt;&gt; All right, so I am up to the challenge,\nlet's see how this works.\n\n19\n00:00:37.974 --> 00:00:41.128\nSo we are going to take a little tour,\nwe just did a walk-through if you\n\n20\n00:00:41.128 --> 00:00:44.190\nhaven't seen the last episode,\ndefinitely go back, take a look.\n\n21\n00:00:44.190 --> 00:00:47.496\nWe walked you through how to set up and\ninstall ADDS and\n\n22\n00:00:47.496 --> 00:00:50.006\nconfigure it on a server core instance.\n\n23\n00:00:50.006 --> 00:00:53.335\nWe're gonna return back to a theme we've\ntalked about already in some of our prior\n\n24\n00:00:53.335 --> 00:00:55.226\nconversations, the Global Catalog server.\n\n25\n00:00:55.226 --> 00:00:58.450\nTalk about what they are,\nwhy they're important, why we need them.\n\n26\n00:00:58.450 --> 00:01:01.077\nTalk a little bit more about them as\nwe go through the demonstration here.\n\n27\n00:01:01.077 --> 00:01:06.494\nWe're gonna stand up a child domain,\nset up a brand new child domain.\n\n28\n00:01:06.494 --> 00:01:08.309\nIf you join me here for just a minute,\n\n29\n00:01:08.309 --> 00:01:11.544\ngive me just half a second to bring\nthe picture up while we do this.\n\n30\n00:01:11.544 --> 00:01:16.549\nIf you think about the logical we've been\ntalking about in the demonstrations,\n\n31\n00:01:16.549 --> 00:01:21.408\nin our conversation we've use this\ndiagram several times ITPRO.TV at the top\n\n32\n00:01:21.408 --> 00:01:24.222\nof the hierarchy would\nbe our parent domain.\n\n33\n00:01:24.222 --> 00:01:29.600\nWhat we're about to do using PowerShell\nand then go through the steps involve\n\n34\n00:01:29.600 --> 00:01:35.656\nto do so is stand up one of this child\ndomain Host.ITPRO.tv, Audience.ITPRO.tv.\n\n35\n00:01:35.656 --> 00:01:39.587\nOur child domain will be called apac-corp.\n\n36\n00:01:39.587 --> 00:01:42.849\nIt's gonna be a child of practicelabs.com.\n\n37\n00:01:42.849 --> 00:01:45.330\nSo we're going to set that up,\ninstall there.\n\n38\n00:01:45.330 --> 00:01:49.735\nAnd then once we've done that we'll then\ngo ahead and look at the fact that that\n\n39\n00:01:49.735 --> 00:01:54.428\ndomain controller by default and by design\nwill come up as a global catalog server.\n\n40\n00:01:54.428 --> 00:01:56.846\nWe'll go in and verify that,\nwe'll see how that happens.\n\n41\n00:01:56.846 --> 00:02:00.109\nWe'll take a look at the sites and\nservices tool to be able to go in and\n\n42\n00:02:00.109 --> 00:02:03.850\nsee the fact that those global catalog\nserver designations are configured.\n\n43\n00:02:03.850 --> 00:02:06.910\nSo we're gonna go through,\nwe're gonna take a look at how this works,\n\n44\n00:02:06.910 --> 00:02:08.910\nI've got PowerShell already up and\nrunning.\n\n45\n00:02:08.910 --> 00:02:12.548\nAs usual I've just done a little bit\nof the back end work to speed up\n\n46\n00:02:12.548 --> 00:02:14.150\nthe demonstration for you.\n\n47\n00:02:14.150 --> 00:02:18.509\nWhat we typically do when we do this is we\nskip over steps that we've showed you at\n\n48\n00:02:18.509 --> 00:02:20.605\nsome point in prior demonstrations.\n\n49\n00:02:20.605 --> 00:02:21.998\nI'll show you that they're there and\n\n50\n00:02:21.998 --> 00:02:23.878\ngive you the understanding\nthat we've done them.\n\n51\n00:02:23.878 --> 00:02:26.216\nBut don't do the redundant thing\nthat we have to do five or\n\n52\n00:02:26.216 --> 00:02:29.581\nsix times in these demonstrations to\nensure they're gonna work successfully cuz\n\n53\n00:02:29.581 --> 00:02:30.960\nyou've already seen me do that.\n\n54\n00:02:30.960 --> 00:02:34.206\nSo I've gone ahead and\ndone the add-windowsFeature,\n\n55\n00:02:34.206 --> 00:02:37.900\nad -domain-services include\nmanagement tools install.\n\n56\n00:02:37.900 --> 00:02:42.395\nSo I've set up the ADDS feature and just\nsimply installed it on the system already.\n\n57\n00:02:42.395 --> 00:02:46.876\nI haven't configured it, we're about to do\nthat right now, but you see the output of\n\n58\n00:02:46.876 --> 00:02:50.630\nthat true for success,\nno restart needed, exit code success.\n\n59\n00:02:50.630 --> 00:02:54.550\nSo we know that's happened already, I've\njust issued a quick host name command to\n\n60\n00:02:54.550 --> 00:02:58.247\nverify and show you the host name of\nthe machine I'm working on, ClavSA01.\n\n61\n00:02:58.247 --> 00:03:02.730\nSo we're gonna be using that machine\nto be able to setup our child domain.\n\n62\n00:03:02.730 --> 00:03:06.476\nI've then Type in the command ahead of\ntime that we're gonna execute just so\n\n63\n00:03:06.476 --> 00:03:07.596\nit's already setup.\n\n64\n00:03:07.596 --> 00:03:09.365\nInstall ADDS domain.\n\n65\n00:03:09.365 --> 00:03:14.444\nThe reason you install ADDS domain\ncmdlet with the domain type parameter,\n\n66\n00:03:14.444 --> 00:03:16.755\ndomain type child domain.\n\n67\n00:03:16.755 --> 00:03:20.951\nAnd then the new domain name parameter,\nand then apac-corp for\n\n68\n00:03:20.951 --> 00:03:22.355\nthe new domain name.\n\n69\n00:03:22.355 --> 00:03:25.032\nParent domain name parameter,\nwhat's the parent domain?\n\n70\n00:03:25.032 --> 00:03:29.645\nIt kinda trails off and\nloops back around, but practicelabs.com.\n\n71\n00:03:29.645 --> 00:03:34.264\nInstall DNS parameter, we're gonna install\nDNS, use the credential parameter, so\n\n72\n00:03:34.264 --> 00:03:36.365\nwe're gonna prompt for a credential.\n\n73\n00:03:36.365 --> 00:03:40.586\nRemember, we talked about the use of\nparenthetical operators in PowerShell,\n\n74\n00:03:40.586 --> 00:03:42.650\none of our prior conversations.\n\n75\n00:03:42.650 --> 00:03:46.524\nAnything inside the parenthesis\nwill be executed, or done,\n\n76\n00:03:46.524 --> 00:03:49.583\nbefore anything else\noutside the parenthesis.\n\n77\n00:03:49.583 --> 00:03:52.133\nCherokee was kind enough to\nshare with us her adage for\n\n78\n00:03:52.133 --> 00:03:53.840\nPlease My Dear Aunt Sally, right?\n\n79\n00:03:53.840 --> 00:03:54.532\n&gt;&gt; Please Excuse My Dear Aunt Sally.\n\n80\n00:03:54.532 --> 00:03:56.631\n&gt;&gt; Please Excuse My Dear Aunt Sally,\nexcuse me.\n\n81\n00:03:56.631 --> 00:04:00.451\nSo P for parentheses in\nPlease Excuse My Dear Aunt Sally.\n\n82\n00:04:00.451 --> 00:04:02.173\nSo we do what's in the parentheses first.\n\n83\n00:04:02.173 --> 00:04:07.662\nSo the get credential cmdlet is going to\nprompt us to provide a credential and/or\n\n84\n00:04:07.662 --> 00:04:13.680\nput some form of a credential in, and you\ncould see I've specified the domain name.\n\n85\n00:04:13.680 --> 00:04:16.224\nAnd the username as part\nof the credential strength.\n\n86\n00:04:16.224 --> 00:04:19.580\nBut I've left out the password as I\ntalked about last time on purpose.\n\n87\n00:04:19.580 --> 00:04:21.858\nBecause what we'll get is\na pop up that says okay,\n\n88\n00:04:21.858 --> 00:04:25.017\nprovide the password because that's\nthe secure proper way to do it.\n\n89\n00:04:25.017 --> 00:04:25.849\nAlso by the way,\n\n90\n00:04:25.849 --> 00:04:29.640\nthe best practice recommended way\nto deal with this in PowerShell.\n\n91\n00:04:29.640 --> 00:04:32.884\nWe don't store our credentials using\nPowerShell traditionally because they\n\n92\n00:04:32.884 --> 00:04:34.661\nare stored in a way\nthat could expose them.\n\n93\n00:04:34.661 --> 00:04:39.113\nAnd we don't normally provide\nthem in the PowerShell cmdlet or\n\n94\n00:04:39.113 --> 00:04:42.725\nin the script because,\nagain, they are stored and\n\n95\n00:04:42.725 --> 00:04:47.030\nallowed to be seen and\nreferenced and used in plain text.\n\n96\n00:04:47.030 --> 00:04:50.597\nAnd if somebody got a hold of this, they\nwould see the username and the password.\n\n97\n00:04:50.597 --> 00:04:54.916\nAnd so as a result while there are ways\nto secure at least store the credential,\n\n98\n00:04:54.916 --> 00:04:57.404\ncall it with a variable and\nhave it be secure,\n\n99\n00:04:57.404 --> 00:05:00.510\nthat's a little bit beyond\nour conversation here.\n\n100\n00:05:00.510 --> 00:05:04.809\nBut traditionally as a best practice\nwhat we normally recommend you do is use\n\n101\n00:05:04.809 --> 00:05:07.965\nthe get credential cmdlet\nproviding the username, but\n\n102\n00:05:07.965 --> 00:05:12.013\nthen prompting user on screen for\nthe password to ensure it's secure.\n\n103\n00:05:12.013 --> 00:05:14.164\nSo that's just why you're\nseeing this done this way,\n\n104\n00:05:14.164 --> 00:05:15.910\nI'm just making sure you understand that.\n\n105\n00:05:15.910 --> 00:05:19.314\nAll right, having said that let's fire\nthis off, I'm gonna hit Enter here,\n\n106\n00:05:19.314 --> 00:05:20.767\nthere's my credential prompt.\n\n107\n00:05:20.767 --> 00:05:25.722\nSo Windows PowerShell credential request\nwhich is the get credential cmdlet\n\n108\n00:05:25.722 --> 00:05:27.010\nexecuted.\n\n109\n00:05:27.010 --> 00:05:30.535\nAnd I've already preloaded as you can see\nthe user name cuz that's the string we\n\n110\n00:05:30.535 --> 00:05:31.227\nused, right?\n\n111\n00:05:31.227 --> 00:05:35.000\nThat was there, that's coming from,\nas you can see.\n\n112\n00:05:35.000 --> 00:05:36.510\nLet's bring this down so you can see.\n\n113\n00:05:36.510 --> 00:05:39.190\nThat's coming from the string right here.\n\n114\n00:05:39.190 --> 00:05:45.230\nNow I'm gonna provide the password,\ntype that in, hit Enter.\n\n115\n00:05:45.230 --> 00:05:46.694\nI then have to provide,\n\n116\n00:05:46.694 --> 00:05:50.800\nas we have shown you before the safe\nmode administrator password.\n\n117\n00:05:50.800 --> 00:05:53.728\nIn our case it's the same password,\nit's the domain admin password but\n\n118\n00:05:53.728 --> 00:05:55.600\nwe have to provide that and\nthen confirm that.\n\n119\n00:05:55.600 --> 00:06:00.382\nSo I have to type the password for a total\nof three times in two separate instances,\n\n120\n00:06:00.382 --> 00:06:05.375\nthe credential prompt and then the prompts\nin PowerShell to validate the password for\n\n121\n00:06:05.375 --> 00:06:07.059\nsafe mode administration.\n\n122\n00:06:07.059 --> 00:06:11.590\nSo we're gonna type that in,\ndo that twice, hit Enter.\n\n123\n00:06:11.590 --> 00:06:13.714\nWe get our standard yes,\nyes to all prompt.\n\n124\n00:06:13.714 --> 00:06:15.300\nWe're gonna hit A, okay?\n\n125\n00:06:15.300 --> 00:06:19.413\nAnd you could see, we've seen this before\nin some of the other demonstrations, it\n\n126\n00:06:19.413 --> 00:06:23.791\nkicks off for us installing ADDS Domain,\ndetermining replication source DC, right?\n\n127\n00:06:23.791 --> 00:06:27.333\nBeing able to clock to the parent domain\ncontroller, validating environment and\n\n128\n00:06:27.333 --> 00:06:30.619\nuser input, verifying prerequisites for\ndomain controller operations,\n\n129\n00:06:30.619 --> 00:06:32.875\nthis will take a couple of minutes.\n\n130\n00:06:32.875 --> 00:06:34.872\nAs I've explained to you in some of\nthe other demonstrations we've done.\n\n131\n00:06:34.872 --> 00:06:37.729\nIt will take a few minutes\nto go behind the scenes and\n\n132\n00:06:37.729 --> 00:06:39.395\ndo all this as it progresses.\n\n133\n00:06:39.395 --> 00:06:43.058\nAnd we normally will cut away and\nthen come back to it while it's happening.\n\n134\n00:06:43.058 --> 00:06:44.790\nWe'll let it stand up on the screen here.\n\n135\n00:06:44.790 --> 00:06:47.846\nFor just another minute, let you see a\ncouple of the things that will take place\n\n136\n00:06:47.846 --> 00:06:49.343\nso you could just see it progressing.\n\n137\n00:06:49.343 --> 00:06:52.958\nWe'll then cut away and come back when\nit's done because it does take anywhere\n\n138\n00:06:52.958 --> 00:06:55.766\nfrom five to ten minutes to\nactually complete this process.\n\n139\n00:06:55.766 --> 00:06:58.860\nAnd you don't wanna listen to me talk or\nhere Cherokee and I chatter for\n\n140\n00:06:58.860 --> 00:07:01.020\nten minutes about stuff\nthat's not pertinent.\n\n141\n00:07:01.020 --> 00:07:04.121\nBut it is important just to show you\nthat this does take a few minutes,\n\n142\n00:07:04.121 --> 00:07:07.490\nthat it does progress and\nit will take a few minutes to run through.\n\n143\n00:07:07.490 --> 00:07:11.594\nWhat we don't show you is we tend to cut\naway and come back, it's already done,\n\n144\n00:07:11.594 --> 00:07:15.391\nat the end of this process is we do get\na pop up on the screen, it's that blue\n\n145\n00:07:15.391 --> 00:07:19.414\ndialogue box that will say hey,\nessentially you're about to be signed out.\n\n146\n00:07:19.414 --> 00:07:23.066\nSo we're gonna restart because we do\nhave a restart required as we do this.\n\n147\n00:07:23.066 --> 00:07:25.438\nSo, you're not gonna see that but\nit will pop up so\n\n148\n00:07:25.438 --> 00:07:28.550\nyou know that that will happen\nwhen you do your walk through.\n\n149\n00:07:28.550 --> 00:07:31.270\nAnd you're hands on hopefully\npracticing these skills.\n\n150\n00:07:31.270 --> 00:07:34.776\nYou'll get that if you leave\nthat up there for, I don't know,\n\n151\n00:07:34.776 --> 00:07:39.170\nabout maybe 30 seconds to a minute,\nit'll just auto log out and restart.\n\n152\n00:07:39.170 --> 00:07:42.138\nIf you click Close at the lower right\nhand corner of that dialogue box,\n\n153\n00:07:42.138 --> 00:07:43.712\nit just restarts that much quicker.\n\n154\n00:07:43.712 --> 00:07:45.684\nBut there's about a 30 second delay or\n\n155\n00:07:45.684 --> 00:07:48.183\ncountdown behind the scenes\non that dialogue box.\n\n156\n00:07:48.183 --> 00:07:51.854\nAnd you can see it's progressing little by\nlittle, the yellow prompts are coming up,\n\n157\n00:07:51.854 --> 00:07:55.122\nyou can see now where it's installing\na new domain controller, checking for\n\n158\n00:07:55.122 --> 00:07:56.290\na step rate status.\n\n159\n00:07:56.290 --> 00:07:57.074\nAnd starting to move through.\n\n160\n00:07:57.074 --> 00:08:00.699\nSo this is kinda what happens behind\nthe scenes when we do that hey,\n\n161\n00:08:00.699 --> 00:08:01.750\nstay right there.\n\n162\n00:08:01.750 --> 00:08:02.948\nWe cut away and come back.\n\n163\n00:08:02.948 --> 00:08:04.070\nAnd you see, we're finished.\n\n164\n00:08:04.070 --> 00:08:07.050\nThis is what's actually going\non as we wait for it to happen.\n\n165\n00:08:07.050 --> 00:08:08.560\nSo we're gonna cut away right now.\n\n166\n00:08:08.560 --> 00:08:10.465\nWe're gonna come back when\nthis is all set and done.\n\n167\n00:08:10.465 --> 00:08:12.563\nThen we're to go into the Server Manager,\n\n168\n00:08:12.563 --> 00:08:16.017\ntake a look through the GUI environment\nat the site and services tool.\n\n169\n00:08:16.017 --> 00:08:17.803\nVerify the installation.\n\n170\n00:08:17.803 --> 00:08:21.874\nBut also verify that the installation has\nbeen configured as a global catalog server\n\n171\n00:08:21.874 --> 00:08:24.100\nand show you how you\ncan double check that.\n\n172\n00:08:24.100 --> 00:08:27.287\nBut also uncheck the box\nif we wanna deselect or\n\n173\n00:08:27.287 --> 00:08:31.750\nessentially demote a domain controller and\nnot have a beat the global catalog server.\n\n174\n00:08:31.750 --> 00:08:34.730\nWe'll show you how to do that as\nsoon as we finish up the install and\n\n175\n00:08:34.730 --> 00:08:36.127\ncome right back to show\nyou what's going on.\n\n176\n00:08:36.127 --> 00:08:38.905\nAll right, so\nyou can see as we were talking about,\n\n177\n00:08:38.905 --> 00:08:42.665\nwe've restarted the machine,\nbrought back up the Server Manager.\n\n178\n00:08:42.665 --> 00:08:43.878\nWe're at the PowerShell now.\n\n179\n00:08:43.878 --> 00:08:46.448\nWe've talked about what would happen\nin the interim as we're waiting for\n\n180\n00:08:46.448 --> 00:08:47.600\nthat to go on behind the scenes.\n\n181\n00:08:47.600 --> 00:08:50.541\nI've just loaded the local servers\narea in the Server Manager, so\n\n182\n00:08:50.541 --> 00:08:52.866\nyou could see the host name\nof the machine we're on.\n\n183\n00:08:52.866 --> 00:08:56.639\nVerify that it is indeed the PLABSA01\nmachine we were working on,\n\n184\n00:08:56.639 --> 00:08:58.300\nyou could see that here.\n\n185\n00:08:58.300 --> 00:09:04.480\nYou could see the domain has now been\nspecified as apac-core.practicelabs.com.\n\n186\n00:09:04.480 --> 00:09:08.040\nSo we were successful at\ncreating a child domain.\n\n187\n00:09:08.040 --> 00:09:10.951\nAttaching it to the parent\ndomain of practicelabs.com.\n\n188\n00:09:10.951 --> 00:09:15.940\nInstantiating the PLABSA01 machine\nas the domain controller for\n\n189\n00:09:15.940 --> 00:09:19.750\nthe child domain, all that can be\ninferred just by looking here.\n\n190\n00:09:19.750 --> 00:09:21.540\nBut let's actually take\nit to the next step.\n\n191\n00:09:21.540 --> 00:09:24.110\nLet's not just assume\nthat that's happened.\n\n192\n00:09:24.110 --> 00:09:26.270\nBut let's look at how we\nwould verify that and\n\n193\n00:09:26.270 --> 00:09:29.880\nmake sure we understand that that\nlegitimately did actually occur.\n\n194\n00:09:29.880 --> 00:09:32.570\nSo we're gonna take a look at a couple\nof management tools that help us to\n\n195\n00:09:32.570 --> 00:09:33.260\nunderstand that.\n\n196\n00:09:33.260 --> 00:09:36.970\nI've got them already loaded up here,\nthe Active Directory Users and\n\n197\n00:09:36.970 --> 00:09:39.650\nComputers Management MMC Interface.\n\n198\n00:09:39.650 --> 00:09:45.940\napaccorepracticelabs.com is our domain,\ndomain controller's OU.\n\n199\n00:09:45.940 --> 00:09:51.550\nWe could see PLABSA01 is listed\nas a computer, it is there.\n\n200\n00:09:51.550 --> 00:09:55.070\nIt is part of the site called\nthe Default-First-Site-Name site and\n\n201\n00:09:55.070 --> 00:09:57.510\nunder DC type specifically.\n\n202\n00:09:57.510 --> 00:09:59.695\nOne of the several places\nwe can go to look and\n\n203\n00:09:59.695 --> 00:10:02.421\nverify whether this is a global\ncatalog server or not.\n\n204\n00:10:02.421 --> 00:10:07.240\nIt does say right there,\nI'm pointing to it, GC for global catalog.\n\n205\n00:10:07.240 --> 00:10:11.520\nSo we can see that this machine is\ntagged as a global catalog server.\n\n206\n00:10:11.520 --> 00:10:12.890\nAs I told you, it would be.\n\n207\n00:10:12.890 --> 00:10:16.390\nAnd as we know that all domain\ncontroller installations are by default.\n\n208\n00:10:16.390 --> 00:10:18.891\nOr at least we talked to you about\nthe fact a couple of times that they are,\n\n209\n00:10:18.891 --> 00:10:20.129\nright, and I actually showed you.\n\n210\n00:10:20.129 --> 00:10:24.274\nWe did the initial walkthrough in or\nof the installation of domain controllers\n\n211\n00:10:24.274 --> 00:10:28.481\nthat during the wizard when we ran and\nwent through the configuration that there\n\n212\n00:10:28.481 --> 00:10:31.971\nwas that option to make a machine\nto global catalog server or not.\n\n213\n00:10:31.971 --> 00:10:35.977\nWe left it selected, we could have\nunchecked the box there if we chose to not\n\n214\n00:10:35.977 --> 00:10:38.981\nhave it be a global catalog\nserver at that point in time.\n\n215\n00:10:38.981 --> 00:10:40.556\nWe can always undo that after the fact,\n\n216\n00:10:40.556 --> 00:10:42.620\nI'm gonna show you where\nto go to do that right now.\n\n217\n00:10:42.620 --> 00:10:45.429\nWe have several options,\nright, just so you know.\n\n218\n00:10:45.429 --> 00:10:48.315\nNow, one of the things we didn't get\na chance to show you as Cherokee and\n\n219\n00:10:48.315 --> 00:10:49.628\nI were walking through things.\n\n220\n00:10:49.628 --> 00:10:52.657\nBut we did talked several times\nwhen we talk about OUs and\n\n221\n00:10:52.657 --> 00:10:55.945\ncontainers in one of our\ndiscussions about the normal view,\n\n222\n00:10:55.945 --> 00:11:00.331\nwhich is what you're looking at here,\nversus what we call the Advanced Features\n\n223\n00:11:00.331 --> 00:11:03.513\nview inside of the Active Directory Users\nand Computers.\n\n224\n00:11:03.513 --> 00:11:06.855\nSo Cherokee made sure we understood\nas we're talking about it.\n\n225\n00:11:06.855 --> 00:11:08.900\nThen we went to\nthe Advanced Features view.\n\n226\n00:11:08.900 --> 00:11:11.920\nThere would be additional OUs,\nadditional containers, and\n\n227\n00:11:11.920 --> 00:11:14.280\nitems that we would see\nthat we don't normally see.\n\n228\n00:11:14.280 --> 00:11:16.622\nWe have to toggle that and turn that on.\n\n229\n00:11:16.622 --> 00:11:20.047\nAnd so what I wanted to do was just\nmake sure that we could go through and\n\n230\n00:11:20.047 --> 00:11:21.480\ntake a look at that with you.\n\n231\n00:11:21.480 --> 00:11:23.230\nSo let me just come in here real quick.\n\n232\n00:11:23.230 --> 00:11:27.030\nIf we go to the View menu right here,\nyou'll see that right down below here,\n\n233\n00:11:27.030 --> 00:11:28.130\nin case you've never done this,\n\n234\n00:11:28.130 --> 00:11:31.270\nor may just not do it very often\nand/or not remember where it is.\n\n235\n00:11:31.270 --> 00:11:35.379\nUnder the View menu in this particular\nMMC, I'm pointing to it right there,\n\n236\n00:11:35.379 --> 00:11:36.800\nAdvanced Features.\n\n237\n00:11:36.800 --> 00:11:39.290\nI'm gonna turn that on, but\nbefore I do, just before I go in there,\n\n238\n00:11:39.290 --> 00:11:41.270\nlet's just do something really quickly.\n\n239\n00:11:41.270 --> 00:11:43.571\nSo we have two, four,\nsix OUs currently listed here, right?\n\n240\n00:11:43.571 --> 00:11:48.320\nCan we go full screen just for a minute,\nso you can see it a little bit easier?\n\n241\n00:11:48.320 --> 00:11:51.210\nWe have Built-in, Computers,\nDomain Controllers,\n\n242\n00:11:51.210 --> 00:11:52.770\nI'm highlighting that right now.\n\n243\n00:11:52.770 --> 00:11:56.858\nForeign Security Principles,\nManaged Service Accounts and Users, right?\n\n244\n00:11:56.858 --> 00:12:00.615\nSo you could see these are the six that\nshow up in the normal view without us\n\n245\n00:12:00.615 --> 00:12:03.890\ntoggling anything,\nwithout us doing anything else, right?\n\n246\n00:12:03.890 --> 00:12:09.757\nNow, when I go to View, oops, and\nI go to Advanced Features, turn that on,\n\n247\n00:12:09.757 --> 00:12:15.010\nwe see that we do indeed get\nsubstantially more in terms of the View.\n\n248\n00:12:15.010 --> 00:12:20.701\nWe've gone from 6 to a total of 2,\n4, 6, 8, 10, 12.\n\n249\n00:12:20.701 --> 00:12:23.973\nDouble the number of objects\nthat we see in advanced view.\n\n250\n00:12:23.973 --> 00:12:28.769\nOne of them, which I pointed out to you,\nwe talked about in our discussions and\n\n251\n00:12:28.769 --> 00:12:31.910\ntold you it was new to\nServer 2016 TPM devices.\n\n252\n00:12:31.910 --> 00:12:33.565\nRight now, not populated,\n\n253\n00:12:33.565 --> 00:12:37.980\ncuz the machines that we're using don't\nhave TPM information associated with them.\n\n254\n00:12:37.980 --> 00:12:40.570\nSo there's no object\nthat refers to them here.\n\n255\n00:12:40.570 --> 00:12:44.728\nBut we've talked about the fact that that\nOU container is brand new and would be\n\n256\n00:12:44.728 --> 00:12:48.773\nfound in Server 16 domain controllers\nunder the Advanced Features view.\n\n257\n00:12:48.773 --> 00:12:53.369\nBut we can see things like NTDS quota,\nsystem, program data, lost and\n\n258\n00:12:53.369 --> 00:12:57.480\nfound keys, those are the additional\nitems that are added.\n\n259\n00:12:57.480 --> 00:12:59.650\nSome of them have things in them,\nsome don't.\n\n260\n00:12:59.650 --> 00:13:01.980\nSome get populated over time\ndepending on what we're doing.\n\n261\n00:13:01.980 --> 00:13:05.241\nOthers will stay blank until\nyou make certain decisions.\n\n262\n00:13:05.241 --> 00:13:07.872\nBut the point is you could\nsee that by increasing or\n\n263\n00:13:07.872 --> 00:13:12.410\nrather just by simply toggling to advanced\nfeatures, we increase the number of OUs.\n\n264\n00:13:12.410 --> 00:13:14.670\nNot because we suddenly\ncreated six that werent there,\n\n265\n00:13:14.670 --> 00:13:16.071\nthey've been there all the time.\n\n266\n00:13:16.071 --> 00:13:19.435\nWe just defiltering them in the View,\nwe don't normally see them.\n\n267\n00:13:19.435 --> 00:13:20.830\nBut now,\nwe can actually see what they are.\n\n268\n00:13:20.830 --> 00:13:23.350\nSo I just wanted to circle back and\nshow that to you, so\n\n269\n00:13:23.350 --> 00:13:24.850\nyou could see what they were.\n\n270\n00:13:24.850 --> 00:13:27.119\nSince we didn't get a chance,\nI have to show that to you the first time.\n\n271\n00:13:27.119 --> 00:13:32.177\n&gt;&gt; Sometimes we're allowed\nto hold the sharp scissors.\n\n272\n00:13:32.177 --> 00:13:32.677\n[LAUGH]\n&gt;&gt; Okay.\n\n273\n00:13:32.677 --> 00:13:33.184\n&gt;&gt; [LAUGH]\n\n274\n00:13:33.184 --> 00:13:33.994\n&gt;&gt; Gonna just keep going,\n\n275\n00:13:33.994 --> 00:13:36.643\npretend we didn't talk about\ndangerous objects on camera and\n\n276\n00:13:36.643 --> 00:13:37.718\nwhat we do with that.\nYes,\n\n277\n00:13:37.718 --> 00:13:41.390\nsometimes you do have the levers to\ncontrol, other times you do not.\n\n278\n00:13:41.390 --> 00:13:42.922\nChild-friendly. Remember, child-friendly\npresentation. &gt;&gt; Child-friendly, okay.\n\n279\n00:13:42.922 --> 00:13:46.768\n&gt;&gt; All right, so in addition,\nanother tool we wanna take a look at.\n\n280\n00:13:46.768 --> 00:13:51.615\nAnother way for us to validate that this\nmachine, this domain controller PLABSA01,\n\n281\n00:13:51.615 --> 00:13:53.392\nis indeed a domain controller.\n\n282\n00:13:53.392 --> 00:13:55.750\nBut also a global catalog server.\n\n283\n00:13:55.750 --> 00:13:59.160\nAnd where we go to configure that,\nor deselect that in the GUI,\n\n284\n00:13:59.160 --> 00:14:01.480\nis another tool I mentioned in\nthe sites and services tool.\n\n285\n00:14:01.480 --> 00:14:03.620\nYou'll see we've opened\nthis one up as as well.\n\n286\n00:14:03.620 --> 00:14:06.470\nIt does take a moment the first time\nyou bring the domain up to get this\n\n287\n00:14:06.470 --> 00:14:07.040\ntool to come up.\n\n288\n00:14:07.040 --> 00:14:09.490\nDon't be surprised if you sit there for\na minute or\n\n289\n00:14:09.490 --> 00:14:12.530\ntwo while things are happening behind\nthe scenes, we're communicating.\n\n290\n00:14:12.530 --> 00:14:16.420\nSo just normal behavior, be aware of that,\nsometimes quicker than others.\n\n291\n00:14:16.420 --> 00:14:20.491\nBut I've brought this up,\nI've open up the sites hierarchy, Bypass,\n\n292\n00:14:20.491 --> 00:14:23.173\nInter-site Transport and Subnets, for now.\n\n293\n00:14:23.173 --> 00:14:25.299\nYou wanna learn more about that stuff,\ncome back,\n\n294\n00:14:25.299 --> 00:14:28.428\njoin us for the episodes Cherokee and\nI did on Server 2016 networking.\n\n295\n00:14:28.428 --> 00:14:32.612\nWent through and talked about\nall this stuff in those areas.\n\n296\n00:14:32.612 --> 00:14:36.342\nThe Default-First-Site-Name\nsite is where we are.\n\n297\n00:14:36.342 --> 00:14:40.589\nUnderneath the Servers container, you see\nour three domain controllers are listed.\n\n298\n00:14:40.589 --> 00:14:43.559\nThe PLABDC01,\nthe original domain controller for\n\n299\n00:14:43.559 --> 00:14:47.090\npracticelabs.com that\nanchored this demonstration.\n\n300\n00:14:47.090 --> 00:14:48.080\nThe PLABDM01,\n\n301\n00:14:48.080 --> 00:14:52.570\nthe additional domain controller that\nI have in the practicelabs.com domain.\n\n302\n00:14:52.570 --> 00:14:54.730\nWe didn't really mess around\nwith that in this demonstration,\n\n303\n00:14:54.730 --> 00:14:55.950\nit's just already there.\n\n304\n00:14:55.950 --> 00:15:00.677\nAnd PLABSA01, the machine that we\nhave made into a child domain and\n\n305\n00:15:00.677 --> 00:15:04.851\nchild domain controller in\nthe practicelabs.com domain.\n\n306\n00:15:04.851 --> 00:15:07.923\nWe added the APAC subdomain, right?\n\n307\n00:15:07.923 --> 00:15:12.140\nAnd so we went ahead and did that and set\nthat up, and now you could see that here.\n\n308\n00:15:12.140 --> 00:15:17.038\nI'm opening up the PLABSA01 item, or\nessentially just toggling the caret,\n\n309\n00:15:17.038 --> 00:15:21.658\nwhich is what we call this little arrow,\nand I'm choosing NTDS Settings.\n\n310\n00:15:21.658 --> 00:15:23.912\nAnd I see the replication connectors for\n\n311\n00:15:23.912 --> 00:15:27.720\nconnectivity among the domain\ncontrollers auto generated there.\n\n312\n00:15:27.720 --> 00:15:33.230\nThat's fine, but what I'm gonna do is\nright-click on NTDS Settings, come in and\n\n313\n00:15:33.230 --> 00:15:35.770\ngo down here to Properties right here.\n\n314\n00:15:35.770 --> 00:15:37.938\nAnd on the Properties tab in general,\n\n315\n00:15:37.938 --> 00:15:42.089\nI'm gonna see that right there there's\na check box for global catalog.\n\n316\n00:15:42.089 --> 00:15:46.408\nThat check box is all that has to be\nspecified for this domain controller to\n\n317\n00:15:46.408 --> 00:15:50.028\nbe considered, and\nto be setup to be a global catalog server,\n\n318\n00:15:50.028 --> 00:15:54.695\nas well as a domain controller If I want\nto deselect and deprogram this machine,\n\n319\n00:15:54.695 --> 00:15:58.558\nremove the global catalog feature set,\nI just uncheck that box.\n\n320\n00:15:58.558 --> 00:16:02.270\nIf I wanna make a domain controller into\na global catalog server, I come in and\n\n321\n00:16:02.270 --> 00:16:04.140\nI select that box.\n\n322\n00:16:04.140 --> 00:16:05.360\nAll you have to do.\n\n323\n00:16:05.360 --> 00:16:09.120\nThen, the replication of the global\ncatalog behind the scenes takes place, and\n\n324\n00:16:09.120 --> 00:16:11.230\nthere's a node here\nthat's of interest to us.\n\n325\n00:16:11.230 --> 00:16:14.396\nSays the amount of time it will take\nto publish the global catalog varies\n\n326\n00:16:14.396 --> 00:16:16.317\ndepending on your replication topology.\n\n327\n00:16:16.317 --> 00:16:20.892\nMeaning there are certainly ways for us to\nfigure out roughly how long publication of\n\n328\n00:16:20.892 --> 00:16:22.632\nthe global catalog will take but\n\n329\n00:16:22.632 --> 00:16:25.734\nit does depend on the number\nof replication connectors.\n\n330\n00:16:25.734 --> 00:16:30.505\nAnd the speed of those connectors in terms\nof how fast replication will take place\n\n331\n00:16:30.505 --> 00:16:31.565\nfrom the source.\n\n332\n00:16:31.565 --> 00:16:33.475\nWhatever machine in the domain,\n\n333\n00:16:33.475 --> 00:16:37.105\nin the directory that we're gonna\nreplicate, will be closest to us based on\n\n334\n00:16:37.105 --> 00:16:40.545\nprioritization of those replication\nconnectors is what will be used.\n\n335\n00:16:40.545 --> 00:16:44.135\nAnd the speed of that connection, so I\njust wanna make sure we're aware of that.\n\n336\n00:16:44.135 --> 00:16:47.905\nWe can see the connections that are listed\nhere, replicated from and to, so\n\n337\n00:16:47.905 --> 00:16:51.790\nwe'd have a sense of where we\nmay get that information from.\n\n338\n00:16:51.790 --> 00:16:55.690\nBut we can go look at any one of these\nconnectors, let's say this one right here.\n\n339\n00:16:56.960 --> 00:16:59.380\nBring this up, look at properties of this.\n\n340\n00:16:59.380 --> 00:17:03.806\nAnd when I talked about\nthe replication information, right,\n\n341\n00:17:03.806 --> 00:17:06.821\nwe talked about the ability to replicate.\n\n342\n00:17:06.821 --> 00:17:10.037\nWe're looking at this connector and\nhow this connector will be used,\n\n343\n00:17:10.037 --> 00:17:12.770\nand this is just one of\nthe replication connectors.\n\n344\n00:17:12.770 --> 00:17:15.610\nWe can go to Change Schedule,\nand we can see\n\n345\n00:17:15.610 --> 00:17:18.930\nhow replication is set up in terms of\nthe number of times it will happen.\n\n346\n00:17:18.930 --> 00:17:23.620\nBy default, once per hour,\nmeaning 24 times a day,\n\n347\n00:17:23.620 --> 00:17:25.970\nonce every 60 minutes, we would replicate.\n\n348\n00:17:25.970 --> 00:17:29.263\nAnd so we could figure out certain\nconnectors may only be available during\n\n349\n00:17:29.263 --> 00:17:31.334\ncertain times, or\nwe may have a preference for\n\n350\n00:17:31.334 --> 00:17:33.312\nusing ones that\nare available all the time.\n\n351\n00:17:33.312 --> 00:17:36.550\nSo there's different ways replication\nmay take place based on constraints.\n\n352\n00:17:36.550 --> 00:17:39.510\nBut in general,\nbased on all things being equal,\n\n353\n00:17:39.510 --> 00:17:42.560\nall connectors being on once an hour,\navailable all the time.\n\n354\n00:17:42.560 --> 00:17:46.631\nWe would use the connector that’s closest\nto us in terms of the ability to reach out\n\n355\n00:17:46.631 --> 00:17:50.762\nto the machines geographically and based\non the algorithms used that is closest and\n\n356\n00:17:50.762 --> 00:17:53.760\nthat's the one we will use for\nreplication.\n\n357\n00:17:53.760 --> 00:17:57.090\n&gt;&gt; So, Adam, let’s just say\nhypothetically we did decide to\n\n358\n00:17:57.090 --> 00:18:00.280\nnot have this domain controller\nas a global catalog.\n\n359\n00:18:00.280 --> 00:18:03.350\nWould there be any additional\nconfigurations on our side that we needed\n\n360\n00:18:03.350 --> 00:18:05.580\nto do to set up like\nan infrastructure master?\n\n361\n00:18:06.600 --> 00:18:07.835\n&gt;&gt; Well, not necessarily.\n\n362\n00:18:07.835 --> 00:18:09.254\nIt would depend on whether or\n\n363\n00:18:09.254 --> 00:18:13.110\nnot the other domain controllers in\nthe domain were global catalog servers.\n\n364\n00:18:13.110 --> 00:18:15.430\nWe had talked about the fact,\na great point you make.\n\n365\n00:18:15.430 --> 00:18:20.500\nThat as one of the five FSMO roles,\nthe infrastructure master does handle\n\n366\n00:18:20.500 --> 00:18:25.190\nessentially the same kind of things the\nGlobal Catalog Server is designed to do.\n\n367\n00:18:25.190 --> 00:18:30.900\nReferences a subset of attributes in\nthe Active Directory full ntds.dit file,\n\n368\n00:18:30.900 --> 00:18:36.745\nthe schema that we use for look ups and\nalso use for validating group memberships.\n\n369\n00:18:36.745 --> 00:18:39.010\nSo universal group memberships,\nthings like that.\n\n370\n00:18:39.010 --> 00:18:41.345\nAre validated through to the info\nstructure master of the global\n\n371\n00:18:41.345 --> 00:18:42.470\ncatalog server.\n\n372\n00:18:42.470 --> 00:18:45.940\nAlso querying for objects, looking for\nthem throughout the forest and\n\n373\n00:18:45.940 --> 00:18:49.560\nbetween forests would be done through\nthis role, one way or the other.\n\n374\n00:18:49.560 --> 00:18:51.990\nAcross forest or across forest trusts.\n\n375\n00:18:51.990 --> 00:18:56.980\nAnd so if we don't have any domain\ncontrollers in that domain that are going\n\n376\n00:18:56.980 --> 00:19:01.440\nto be global catalog servers, we would\nthen set up an infrastructure master.\n\n377\n00:19:01.440 --> 00:19:04.620\nBut remember, we said these two roles\ncan't coexist on the same machine.\n\n378\n00:19:04.620 --> 00:19:07.990\nSo it would be redundant to have\nboth an infrastructure master and\n\n379\n00:19:07.990 --> 00:19:09.620\nglobal catalog servers.\n\n380\n00:19:09.620 --> 00:19:14.260\nWe would typically prefer one over\nthe other in the sense of going all global\n\n381\n00:19:14.260 --> 00:19:18.530\nservers or no global catalog servers in\nthat domain and in infrastructure master.\n\n382\n00:19:18.530 --> 00:19:19.180\nIf you're mixing and\n\n383\n00:19:19.180 --> 00:19:23.250\nmatching, you tend to just have global\ncatalog servers more often than not.\n\n384\n00:19:23.250 --> 00:19:26.190\nSo we normally wouldn't set up\nan infrastructure master unless we're just\n\n385\n00:19:26.190 --> 00:19:27.710\nnot using the global catalog service.\n\n386\n00:19:27.710 --> 00:19:30.610\nBut it would depend, of course,\non other constraints or\n\n387\n00:19:30.610 --> 00:19:32.190\nother concerns that we may have.\n\n388\n00:19:32.190 --> 00:19:34.670\nThere are not many compelling reasons not\n\n389\n00:19:34.670 --> 00:19:38.550\nto have your domain controllers be global\ncatalog servers, as we talked about.\n\n390\n00:19:38.550 --> 00:19:43.160\nThe benefits far outweigh any constraints\nor design concerns you may have.\n\n391\n00:19:43.160 --> 00:19:47.278\nBut remember, if you are operating\nin environments where perhaps, and\n\n392\n00:19:47.278 --> 00:19:49.380\nnot that this is a regulatory issue.\n\n393\n00:19:49.380 --> 00:19:53.582\nThere's no regulation anywhere I'm\naware of with regards to auditing and\n\n394\n00:19:53.582 --> 00:19:57.384\nvalidation of statutory concerns\nin any industry that I'm aware of\n\n395\n00:19:57.384 --> 00:20:00.252\nthat says you can't have\nglobal catalog servers,\n\n396\n00:20:00.252 --> 00:20:04.710\nyou must have an infrastructure master\nto verify and validate that control.\n\n397\n00:20:04.710 --> 00:20:07.580\nAs far as I know,\nthat doesn't exist anywhere and\n\n398\n00:20:07.580 --> 00:20:09.590\nI've never come across\nsomething like that.\n\n399\n00:20:09.590 --> 00:20:11.330\nBut, having said that,\n\n400\n00:20:11.330 --> 00:20:15.260\nthere may be preferences with\nregards to how controls are applied.\n\n401\n00:20:15.260 --> 00:20:19.309\nAnd the control of information and the\nmovement of it and the validation of it\n\n402\n00:20:19.309 --> 00:20:23.055\nthat may as part of broader ESA,\nEnterprise Security Architecture.\n\n403\n00:20:23.055 --> 00:20:26.227\nA thought process around\nsecurity at the enterprise level\n\n404\n00:20:26.227 --> 00:20:30.010\noverall as part of our overarching\nimplementation of security.\n\n405\n00:20:30.010 --> 00:20:34.420\nThat may push us to say, you know what, we\ndo or don't want certain configurations.\n\n406\n00:20:34.420 --> 00:20:36.185\nDo or\ndon't want certain behavior happening.\n\n407\n00:20:36.185 --> 00:20:37.727\nAnd we wanna be able to control and\n\n408\n00:20:37.727 --> 00:20:40.050\nvalidate certain behavior\nin a certain way.\n\n409\n00:20:40.050 --> 00:20:42.740\nAnd as a result of that,\nyou may choose a preference or\n\n410\n00:20:42.740 --> 00:20:44.550\nhave a preference one over the other.\n\n411\n00:20:44.550 --> 00:20:48.405\nBut as far as I know, there's no auditable\ncontrol that says from a statutory\n\n412\n00:20:48.405 --> 00:20:51.927\nregulatory standpoint, you can only\ndo it this way in this industry.\n\n413\n00:20:51.927 --> 00:20:55.076\nI've never seen that in any of\nthe businesses I've dealt with,\n\n414\n00:20:55.076 --> 00:20:57.510\nall the audits I've done, 30 plus years.\n\n415\n00:20:57.510 --> 00:21:01.150\nSo it's not a regulatory statutory\ndecision, just so you're clear.\n\n416\n00:21:01.150 --> 00:21:04.180\nBut it could be part of a broader\ndecision around how we implement\n\n417\n00:21:04.180 --> 00:21:07.800\nEnterprise Security Architectures and\nalign with certain controls\n\n418\n00:21:07.800 --> 00:21:10.210\nto make validation or\nauditing easier for some reason.\n\n419\n00:21:10.210 --> 00:21:14.288\nSo, there may be reasons why we do one or\nthe other, it would really just depend.\n\n420\n00:21:14.288 --> 00:21:16.424\n&gt;&gt; Is that it for\nthis particular demonstration, Adam?\n\n421\n00:21:16.424 --> 00:21:17.480\nWe've got our global catalog set up.\n\n422\n00:21:17.480 --> 00:21:18.749\n&gt;&gt; I believe so.\n\n423\n00:21:18.749 --> 00:21:22.070\n&gt;&gt; And I think that's all we really set\nout to do and you did hold your word there\n\n424\n00:21:22.070 --> 00:21:26.000\nand you showed us something to go through\nstep by step, so I appreciate that.\n\n425\n00:21:26.000 --> 00:21:28.200\nAnd I appreciate you for\njoining us as well.\n\n426\n00:21:28.200 --> 00:21:30.320\nStay tuned, we have more\ninformation headed your way but\n\n427\n00:21:30.320 --> 00:21:31.855\nfor this show we'll go ahead and sign out.\n\n428\n00:21:31.855 --> 00:21:33.296\nI've been your host, Cherokee Boose.\n\n429\n00:21:33.296 --> 00:21:37.659\n&gt;&gt; I'm Adam Gordon\n&gt;&gt; See you next time here at ITProTV.\n\n430\n00:21:37.659 --> 00:21:45.620\n[MUSIC]\n\n",
          "vimeoId": "228967734"
        },
        {
          "description": "Tune in to watch a demonstration and learn how to manage DNS Service Records.",
          "length": "1319",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-4-manage_dns_srv_records-080817-PGM.00_22_50_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-4-manage_dns_srv_records-080817-PGM.00_22_50_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-4-manage_dns_srv_records-080817-PGM.00_22_50_05.Still001-sm.jpg",
          "title": "Manage DNS SRV Records",
          "transcript": "WEBVTT\n\n1\n00:00:00.006 --> 00:00:01.941\nWelcome to ITPRO.TV.\n\n2\n00:00:01.941 --> 00:00:06.314\nI'm your host-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.314 --> 00:00:08.208\n[MUSIC]\n\n4\n00:00:08.208 --> 00:00:10.615\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:10.615 --> 00:00:16.760\n&gt;&gt; Welcome, ladies and gentleman, to your\nidentity with Windows Server 2016 Series.\n\n6\n00:00:16.760 --> 00:00:18.146\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.146 --> 00:00:23.037\nIn this episode, we'll be taking a look\nat how to manage DNS service records.\n\n8\n00:00:23.037 --> 00:00:25.848\nAnd with us today, we have Mr.\nAdam Gordon back in studios.\n\n9\n00:00:25.848 --> 00:00:27.328\nHow's it going today, Adam?\n\n10\n00:00:27.328 --> 00:00:29.107\n&gt;&gt; Good, good, very good.\n\n11\n00:00:29.107 --> 00:00:29.981\nLooking forward to a quick conversation.\n\n12\n00:00:29.981 --> 00:00:32.574\nAnd unlike many of our conversations,\npromise you,\n\n13\n00:00:32.574 --> 00:00:34.540\nthis one will be a relatively quick one.\n\n14\n00:00:34.540 --> 00:00:37.540\nThere's not a lot of talk about, but\na few very important things to show you.\n\n15\n00:00:37.540 --> 00:00:39.700\nLooking forward to spending\nsome time quickly with you,\n\n16\n00:00:39.700 --> 00:00:43.030\njust going through the basics on SRV,\nas you just heard Cherokee say.\n\n17\n00:00:43.030 --> 00:00:45.220\nService records in DNS.\n\n18\n00:00:45.220 --> 00:00:47.750\nProbably one of the most important\nDNS records we have, and yet\n\n19\n00:00:47.750 --> 00:00:50.220\none that's often not only overlooked but\nmisunderstood.\n\n20\n00:00:50.220 --> 00:00:52.971\nAnd I don't know if you've ever taken\nthe time to look at an SRV record.\n\n21\n00:00:52.971 --> 00:00:56.246\nBreak it down and take a look at\nthe various properties that are displayed.\n\n22\n00:00:56.246 --> 00:00:59.417\nBut we're gonna go through quickly and\ntalk about the protocol, the priority,\n\n23\n00:00:59.417 --> 00:01:00.810\nthe weight, the port number.\n\n24\n00:01:00.810 --> 00:01:02.170\nJust explain how that works.\n\n25\n00:01:02.170 --> 00:01:04.280\nCherokee's volunteered to do\nthat demonstration for us, so\n\n26\n00:01:04.280 --> 00:01:06.050\nwe're gonna let her do that.\n\n27\n00:01:06.050 --> 00:01:07.970\nAnd then, you're very excited about that,\naren't you?\n\n28\n00:01:07.970 --> 00:01:10.110\n&gt;&gt; Yeah, and you notice I didn't\nsay service records just so\n\n29\n00:01:10.110 --> 00:01:11.595\nI wouldn't mess the acronym up on main,\n\n30\n00:01:11.595 --> 00:01:14.313\nlike with the little-\n&gt;&gt; Call it SVR records instead of\n\n31\n00:01:14.313 --> 00:01:16.110\nSRV records, right?\n\n32\n00:01:16.110 --> 00:01:17.291\nSo, we're gonna make sure\nyou know how to do that.\n\n33\n00:01:17.291 --> 00:01:20.970\nWe're also gonna take a look at\nthe importance of controlling\n\n34\n00:01:20.970 --> 00:01:23.388\na feature in DNS called zone transfers.\n\n35\n00:01:23.388 --> 00:01:26.410\nWhy from a security standpoint that is so\nimportant.\n\n36\n00:01:26.410 --> 00:01:28.510\nShow you a little tool in this lookup.\n\n37\n00:01:28.510 --> 00:01:30.940\nTool that's been around for\nprobably ever and a day.\n\n38\n00:01:30.940 --> 00:01:33.820\nAnd the not only importance\nof that tool but\n\n39\n00:01:33.820 --> 00:01:36.670\nthe importance of getting the zone\ntransfer setting correct.\n\n40\n00:01:36.670 --> 00:01:39.200\nBecause if you don't get it correct, I'm\ngonna show you hackers breaking into your\n\n41\n00:01:39.200 --> 00:01:41.508\nDNS server and steal all your information.\n\n42\n00:01:41.508 --> 00:01:43.570\nSo we're gonna combine\na little security hacking,\n\n43\n00:01:43.570 --> 00:01:46.640\nalong with a little DNS SRV\nrecord conversation.\n\n44\n00:01:46.640 --> 00:01:49.753\nThis is the kinda stuff we would normally\ndo in CEH, certified ethical hacker,\n\n45\n00:01:49.753 --> 00:01:50.365\nfor instance.\n\n46\n00:01:50.365 --> 00:01:54.036\nIf you've joined me and\nseen those episodes, things we do there.\n\n47\n00:01:54.036 --> 00:01:56.548\nSo we're gonna bring\nthat knowledge forward,\n\n48\n00:01:56.548 --> 00:02:00.397\nbut show you how to safely apply that\nto and secure your DNS servers here.\n\n49\n00:02:00.397 --> 00:02:02.954\nAll right, so join me,\nif you will, in the DNS area.\n\n50\n00:02:02.954 --> 00:02:05.188\nWe've got the DNS MMC open.\n\n51\n00:02:05.188 --> 00:02:11.083\nWe're on our domain controller, PLABDC01,\nin the practicelabs.com domain.\n\n52\n00:02:11.083 --> 00:02:13.990\nYou've seen my using this domain,\nseen me using these machines for\n\n53\n00:02:13.990 --> 00:02:15.273\nsome prior demonstrations.\n\n54\n00:02:15.273 --> 00:02:17.385\nSo I've just gone ahead,\ngone to server manager.\n\n55\n00:02:17.385 --> 00:02:21.323\nOpened the DNS MMC from the tools menu,\nloaded that up.\n\n56\n00:02:21.323 --> 00:02:25.387\nI've then gone ahead and\njust opened up the sub areas here\n\n57\n00:02:25.387 --> 00:02:30.476\nExposethepracticelabs.com domain\nin the forward lookup zone area.\n\n58\n00:02:30.476 --> 00:02:35.037\nAnd I'm there and I've highlighted\nthe _TCP folder just to give us\n\n59\n00:02:35.037 --> 00:02:38.169\nan example of a SRV record\nwe may wanna look at.\n\n60\n00:02:38.169 --> 00:02:40.990\nAnd I've highlighted one of\nthe many that are listed over here.\n\n61\n00:02:40.990 --> 00:02:43.940\nHave a bunch for\nthe global catalog servers.\n\n62\n00:02:43.940 --> 00:02:44.728\nWe just went through,\n\n63\n00:02:44.728 --> 00:02:47.592\ndid a little hands-on demonstration that\nhad us set up of global catalog server.\n\n64\n00:02:47.592 --> 00:02:48.823\nWhat it is, why it's important.\n\n65\n00:02:48.823 --> 00:02:51.487\nIf you haven't seen that,\nI encourage you to go back, take a look.\n\n66\n00:02:51.487 --> 00:02:57.084\nWe also have our Kerberos SRV service\nrecords, have our Kerberos password.\n\n67\n00:02:57.084 --> 00:03:01.257\nAnd our ldap records, among many that\nmay coexist or exist in the system.\n\n68\n00:03:01.257 --> 00:03:04.391\nI've just chosen one in particular\nof really no significance,\n\n69\n00:03:04.391 --> 00:03:05.384\nno rhyme or reason.\n\n70\n00:03:05.384 --> 00:03:08.430\nJust happens to be\nthe one that I selected.\n\n71\n00:03:08.430 --> 00:03:09.943\nSo I'm gonna use one of the Kerberos ones.\n\n72\n00:03:09.943 --> 00:03:12.921\nAnd I'm gonna use this\none just highlighting,\n\n73\n00:03:12.921 --> 00:03:16.800\nas you could see it, for\nthe PLAB DC01 practicelabs.com.\n\n74\n00:03:16.800 --> 00:03:18.973\nIn other words,\nthe Kerberos SRV record for\n\n75\n00:03:18.973 --> 00:03:22.919\nthe domain controller that I'm managing\nDNS from is what we're gonna look at.\n\n76\n00:03:22.919 --> 00:03:24.503\nBut again, no significance.\n\n77\n00:03:24.503 --> 00:03:26.374\nI could look at any one of these.\n\n78\n00:03:26.374 --> 00:03:28.810\nEssentially, it would all be the same.\n\n79\n00:03:28.810 --> 00:03:31.260\nAll right, so we're gonna right-click\nhere, just go to Properties.\n\n80\n00:03:31.260 --> 00:03:34.730\nAnd again, as I mentioned, if you never\nlooked at, let me just bring this over so\n\n81\n00:03:34.730 --> 00:03:37.094\nyou can kinda see this\ncentered while we're talking.\n\n82\n00:03:37.094 --> 00:03:40.738\nIf you haven't ever gone in and looked at\nthe properties of one of these records,\n\n83\n00:03:40.738 --> 00:03:42.784\nit's worth a little bit\nof your time to do so.\n\n84\n00:03:42.784 --> 00:03:44.570\nSome interesting stuff in there.\n\n85\n00:03:44.570 --> 00:03:47.210\nLet's break this down just quickly,\ngo through and take a look.\n\n86\n00:03:47.210 --> 00:03:50.230\nObviously, the domain name,\nwe've established what that is.\n\n87\n00:03:50.230 --> 00:03:52.430\nThat should match what is\nsitting right over here.\n\n88\n00:03:52.430 --> 00:03:54.721\nIf it doesn't, well, ding, ding,\nding, you get a gold star.\n\n89\n00:03:54.721 --> 00:03:57.056\nYou broke DNS, so\nobviously something is wrong.\n\n90\n00:03:57.056 --> 00:03:59.035\nBut that will normally match, right?\n\n91\n00:03:59.035 --> 00:04:02.570\nAnd those will obviously be the same, or\nthe system is not working correctly and\n\n92\n00:04:02.570 --> 00:04:05.075\nyou probably wouldn't get\nthis far in the first place.\n\n93\n00:04:05.075 --> 00:04:07.583\nCuz there's an error,\nthe zone probably hasn't loaded correctly.\n\n94\n00:04:07.583 --> 00:04:10.530\nThere's corruption,\nthere's various things going on.\n\n95\n00:04:10.530 --> 00:04:12.041\nBut those will always match,\njust so you know.\n\n96\n00:04:12.041 --> 00:04:15.702\nWe then have protocol, in this case, _tcp.\n\n97\n00:04:15.702 --> 00:04:19.367\nAs I mentioned to you,\nwe have a _udp folder over here as well.\n\n98\n00:04:19.367 --> 00:04:21.246\nSo, protocol is tcp.\n\n99\n00:04:21.246 --> 00:04:25.030\nNotice this is grayed out,\nby the way, as is the service item.\n\n100\n00:04:25.030 --> 00:04:27.620\nWe can't make changes to\nthese existing records.\n\n101\n00:04:27.620 --> 00:04:29.710\nWe could simply see them or delete them.\n\n102\n00:04:29.710 --> 00:04:32.480\nWhen I right-click, I have that option,\nProperties or Delete.\n\n103\n00:04:32.480 --> 00:04:33.810\nThere was no Edit.\n\n104\n00:04:33.810 --> 00:04:35.740\nThere was no option to modify.\n\n105\n00:04:35.740 --> 00:04:41.890\nBecause these records are autogenerated by\nthe DNS infrastructure as we are setting\n\n106\n00:04:41.890 --> 00:04:46.455\nup in configuring and managing the domain\nand the services associated with it.\n\n107\n00:04:46.455 --> 00:04:48.633\nSo service records, in other words,\n\n108\n00:04:48.633 --> 00:04:52.933\nare traditionally gonna be autocreated\nas part of a configuration cycle.\n\n109\n00:04:52.933 --> 00:04:57.087\nWe may go in and have a need to delete\none, because maybe it's incorrect or\n\n110\n00:04:57.087 --> 00:04:57.831\nsomething.\n\n111\n00:04:57.831 --> 00:04:59.089\nBut we could certainly do that,\n\n112\n00:04:59.089 --> 00:05:01.336\nbut we're not gonna be able\nto modify existing records.\n\n113\n00:05:01.336 --> 00:05:03.349\nWe just don't do that in this interface.\n\n114\n00:05:03.349 --> 00:05:07.327\nSo these are greyed out, but it's\na Kerberos service, the protocol is TCP.\n\n115\n00:05:07.327 --> 00:05:09.452\nIf I said to you quickly, Cherokee, hey,\n\n116\n00:05:09.452 --> 00:05:12.168\nwhat's a defining characteristic\nof TCP versus UDP,\n\n117\n00:05:12.168 --> 00:05:16.450\nwhat's probably the most important thing\nthat comes to mind, in other words?\n\n118\n00:05:16.450 --> 00:05:18.310\nWe think of the difference\nbetween two protocols,\n\n119\n00:05:18.310 --> 00:05:19.990\nwhat would we wanna tell people?\n\n120\n00:05:19.990 --> 00:05:25.633\n&gt;&gt; Connection-oriented with TCP,\nversus connectionless UDP.\n\n121\n00:05:25.633 --> 00:05:26.283\n&gt;&gt; That was off screen.\n\n122\n00:05:26.283 --> 00:05:27.647\n&gt;&gt; Off screen.\n&gt;&gt; Okay, there we go.\n\n123\n00:05:27.647 --> 00:05:28.506\nAwesome, all right.\n\n124\n00:05:28.506 --> 00:05:30.146\nSo very good right, right?\n\n125\n00:05:30.146 --> 00:05:34.959\nSo TCP connection-oriented protocol, send\nand acknowledge TCP three-way handshakes,\n\n126\n00:05:34.959 --> 00:05:36.202\nSYN, SYN-ACK, ACK.\n\n127\n00:05:36.202 --> 00:05:38.743\nAll the stuff we talked about and a lot\nof the basic networking conversations.\n\n128\n00:05:38.743 --> 00:05:41.776\nUDP connection lists send and forget.\n\n129\n00:05:41.776 --> 00:05:45.785\nThe receiver's responsible for\nrequesting a resend if for some reason\n\n130\n00:05:45.785 --> 00:05:50.630\nthey missed a packet or for some reason it\nhas not made it to its final destination.\n\n131\n00:05:50.630 --> 00:05:54.626\nThe sender, in other words, will not have\nany responsibility to continuously monitor\n\n132\n00:05:54.626 --> 00:05:56.305\nand resend if something goes wrong.\n\n133\n00:05:56.305 --> 00:06:00.080\nWanna make sure we understand\nwhy that's significant here,\n\n134\n00:06:00.080 --> 00:06:02.412\nbecause Kerberos is leveraging TCP.\n\n135\n00:06:02.412 --> 00:06:05.517\nWhich means that it's\na connection-oriented solution.\n\n136\n00:06:05.517 --> 00:06:08.080\nIt's gonna be validated through\nthis three-way handshake.\n\n137\n00:06:08.080 --> 00:06:10.725\nAnd we're gonna have the sender,\nthe originator,\n\n138\n00:06:10.725 --> 00:06:13.378\nresend packets if they're missed for\nsome reason.\n\n139\n00:06:13.378 --> 00:06:15.702\nThis is critical for\nKerberos as a security and\n\n140\n00:06:15.702 --> 00:06:17.677\nauthentication protocol in Windows.\n\n141\n00:06:17.677 --> 00:06:20.480\nBecause without that,\nwe're not able to authenticate,\n\n142\n00:06:20.480 --> 00:06:22.670\nwe're not able to validate our identity.\n\n143\n00:06:22.670 --> 00:06:25.090\nWe're not able to request services and\nuse them.\n\n144\n00:06:25.090 --> 00:06:27.849\nSo that makes sense that we wanna\nleverage a TCP, in this case, for\n\n145\n00:06:27.849 --> 00:06:28.950\nthis kind of an activity.\n\n146\n00:06:28.950 --> 00:06:30.381\nSo it's why that's important.\n\n147\n00:06:30.381 --> 00:06:33.269\nWe do have a priority weight and\nport number area.\n\n148\n00:06:33.269 --> 00:06:36.468\nI mentioned these would also be valuable\nfor us to at least just look at and\n\n149\n00:06:36.468 --> 00:06:38.220\nperhaps have a quick knowledge of.\n\n150\n00:06:38.220 --> 00:06:40.980\nPriority, in this case, set to zero,\nthis is the priority of the server.\n\n151\n00:06:40.980 --> 00:06:45.267\nClient workstations connect to\nthe server with the lowest priority.\n\n152\n00:06:45.267 --> 00:06:48.356\nSo it makes sense that we would have\nzero for our domain controller.\n\n153\n00:06:48.356 --> 00:06:50.410\nThat’s the lowest priority.\n\n154\n00:06:50.410 --> 00:06:53.740\nAnd as a result, that’s where\nworkstations will attempt to connect.\n\n155\n00:06:53.740 --> 00:06:58.250\nSo the lower the number, more likely\nit is we'll use this particular record.\n\n156\n00:06:58.250 --> 00:07:00.080\nAnd that it will drive some\nsort of connectivity for\n\n157\n00:07:00.080 --> 00:07:01.770\nus when we're a workstation\ntrying to log on.\n\n158\n00:07:01.770 --> 00:07:04.940\nSo that actually makes sense\nwhen we see zero there, right?\n\n159\n00:07:04.940 --> 00:07:05.920\nThen we have weight.\n\n160\n00:07:05.920 --> 00:07:08.114\nWeight is the load balancing mechanism,\nessentially,\n\n161\n00:07:08.114 --> 00:07:10.362\nthat we're using when we're\nselecting a target server.\n\n162\n00:07:10.362 --> 00:07:13.561\nSo weight, the average setting is 100.\n\n163\n00:07:13.561 --> 00:07:15.349\nWe could see that modified or changed,\n\n164\n00:07:15.349 --> 00:07:18.310\ndepending on the kind of service\nrecord we're looking at.\n\n165\n00:07:18.310 --> 00:07:21.787\nBut this is just simply a load balancing\nmechanism to spread the load among\n\n166\n00:07:21.787 --> 00:07:24.269\ndifferent systems as we're\nrequesting services.\n\n167\n00:07:24.269 --> 00:07:27.506\nAnd then port number, well, hopefully,\nthat makes a lot of sense to you and\n\n168\n00:07:27.506 --> 00:07:28.680\nis pretty self-evident.\n\n169\n00:07:28.680 --> 00:07:31.502\nBut what you may or may not know,\nis that the port number for\n\n170\n00:07:31.502 --> 00:07:33.933\nKerberos services is 88\nin Microsoft Windows.\n\n171\n00:07:33.933 --> 00:07:36.390\nBut whatever the port\nnumber that we're using for\n\n172\n00:07:36.390 --> 00:07:39.446\nthis service would be specified here,\nwhatever that maybe.\n\n173\n00:07:39.446 --> 00:07:46.570\nAnd so the host offering the services\nhere, right, PLABDC01.practicelabs.com.\n\n174\n00:07:46.570 --> 00:07:47.922\nIgnore the period at\nthe end of that statement.\n\n175\n00:07:47.922 --> 00:07:50.375\nThat's not the way the syntax reads.\n\n176\n00:07:50.375 --> 00:07:51.262\nIt's just the period at\nthe end of the sentence.\n\n177\n00:07:51.262 --> 00:07:54.857\nBut it's not because we have an extra\nperiod there, even though you see that.\n\n178\n00:07:54.857 --> 00:07:58.081\nAnd then, if we take a look,\nfor instance, at LDAP,\n\n179\n00:07:58.081 --> 00:08:01.615\njust hypothetically We go in here,\ngo to properties.\n\n180\n00:08:01.615 --> 00:08:03.137\nYou'll see there's\na different port number, 389.\n\n181\n00:08:03.137 --> 00:08:06.090\nBut yet the priority and\nthe waiting are the same, right,\n\n182\n00:08:06.090 --> 00:08:07.964\nbecause that's what we're doing.\n\n183\n00:08:07.964 --> 00:08:10.013\nAnd it's also being used by a TCP.\n\n184\n00:08:10.013 --> 00:08:14.498\nIf we go to UDP you'll see there\nare some Kerberos items that\n\n185\n00:08:14.498 --> 00:08:16.210\nuse UDP as well as TCP.\n\n186\n00:08:16.210 --> 00:08:18.860\nIf we look at one of the Kerberos\npassword items in here.\n\n187\n00:08:20.110 --> 00:08:25.180\nYou'll see that Kerberos password\nservices are provided on port 464 using\n\n188\n00:08:25.180 --> 00:08:29.906\nUDP as well as TCP so we straddle\nboth sides of the fence depending on\n\n189\n00:08:29.906 --> 00:08:33.160\nthe kind of service we're offering and\nthe need to send and receive.\n\n190\n00:08:33.160 --> 00:08:36.610\nBut notice the priority and the weight\nare still the same, 0100, right?\n\n191\n00:08:36.610 --> 00:08:41.680\nSo when we take a look at the use of SRV\nrecords, we're seeing now how to read one,\n\n192\n00:08:41.680 --> 00:08:43.300\nhopefully that makes\na little sense to you.\n\n193\n00:08:43.300 --> 00:08:47.320\nI mentioned we would also talk about\nzone transfers, why they're important,\n\n194\n00:08:47.320 --> 00:08:50.980\nthe default settings, and then how we use\na tool like nslookup from the command line\n\n195\n00:08:50.980 --> 00:08:53.470\nto potentially get\ninformation out of a system.\n\n196\n00:08:53.470 --> 00:08:55.950\nLet's start by looking at\nwhere we go to see what\n\n197\n00:08:55.950 --> 00:08:57.990\nthe current zone transfer settings are.\n\n198\n00:08:57.990 --> 00:08:59.720\nWe'll go up to our zone.\n\n199\n00:08:59.720 --> 00:09:02.590\nZone transfers mean that\nwe are going to allow or\n\n200\n00:09:02.590 --> 00:09:07.410\ndeny the request to send information\nabout the zone to a third party.\n\n201\n00:09:07.410 --> 00:09:10.770\nSo we're gonna think about how we're\ngonna do that on a per zone basis.\n\n202\n00:09:10.770 --> 00:09:15.990\nIf I had two zones here, practicelabs.com\nand itpro.tv, two separate domain\n\n203\n00:09:15.990 --> 00:09:21.170\nname spaces, each one being a zone that we\nwould manage name registration records for\n\n204\n00:09:21.170 --> 00:09:24.910\nin DNS, I could set one to allow\nzone transfers in theory and\n\n205\n00:09:24.910 --> 00:09:27.510\nthe other to denies zone\ntransfers if I chose to.\n\n206\n00:09:27.510 --> 00:09:30.680\nSo this is a per zone,\nper name space setting\n\n207\n00:09:30.680 --> 00:09:34.460\nas opposed to setting once on the DNS\nserver for all zones, just to be clear.\n\n208\n00:09:35.940 --> 00:09:39.320\nThe default setting currently in\nservice 16, and it's been this way for\n\n209\n00:09:39.320 --> 00:09:43.250\nmany generations of the OS,\nis to not allow, to deny,\n\n210\n00:09:43.250 --> 00:09:47.250\nzone transfers by default out of the box,\nthat doesn't mean we can change that,\n\n211\n00:09:47.250 --> 00:09:49.310\nit just means that that's\nthe setting by default.\n\n212\n00:09:49.310 --> 00:09:51.250\nNow that's the secure setting we want and\n\n213\n00:09:51.250 --> 00:09:54.118\nit's important to know that that's\nthe best practice recommendation.\n\n214\n00:09:54.118 --> 00:09:56.680\nIn other words,don't\nmess with the setting,\n\n215\n00:09:56.680 --> 00:10:00.530\ncuz there are lots of reasons why you\nget in trouble if you change this.\n\n216\n00:10:00.530 --> 00:10:01.716\nBut, I'm gonna show you\nwhere to change it.\n\n217\n00:10:01.716 --> 00:10:04.049\nI'm gonna show you what\nhappens if you do change it.\n\n218\n00:10:04.049 --> 00:10:08.090\nNow, there are reasons why you\nmay want to allow zone transfers.\n\n219\n00:10:08.090 --> 00:10:10.830\nSo we're gonna talk about what those\nreasons are, and we're gonna talk about\n\n220\n00:10:10.830 --> 00:10:15.460\nthe methodologies surrounding allowing\nit and how we do so, but do so securely.\n\n221\n00:10:15.460 --> 00:10:17.350\nBut Cherokee wanted to say something or\n\n222\n00:10:17.350 --> 00:10:18.740\nask a question real quick\nwhile we're doing that.\n\n223\n00:10:18.740 --> 00:10:21.240\n&gt;&gt; Well, I don't wanna put\nthe cart before the horse there.\n\n224\n00:10:21.240 --> 00:10:22.780\nI was just going to ask you about,\n\n225\n00:10:22.780 --> 00:10:26.870\nAdam, if we are utilizing\nActive Directory here and\n\n226\n00:10:26.870 --> 00:10:31.970\nwe have that information being integrated\ninto our replication scheme already then\n\n227\n00:10:31.970 --> 00:10:37.100\nwhy would we want to have an additional\nseparate zone transfer schedule?\n\n228\n00:10:37.100 --> 00:10:39.468\nBut you just said,\nwe'll get to that in a moment, so.\n\n229\n00:10:39.468 --> 00:10:40.756\n&gt;&gt; I did.\n\n230\n00:10:40.756 --> 00:10:45.520\n&gt;&gt; [LAUGH]\n&gt;&gt; Thank you, so join me here,\n\n231\n00:10:45.520 --> 00:10:46.180\nlet's take a look.\n\n232\n00:10:46.180 --> 00:10:48.290\nSo what we have, I just went ahead and\n\n233\n00:10:48.290 --> 00:10:51.110\nI right-clicked on www.practicelabs.com,\njust chose Properties.\n\n234\n00:10:51.110 --> 00:10:53.740\nDidn't miss anything by me\ndoing that while Cherokee was\n\n235\n00:10:53.740 --> 00:10:56.530\nsharing a thought with us,\njust wanted to have this up and running.\n\n236\n00:10:56.530 --> 00:10:59.010\nNow Cherokee did mention,\nhey, if we're using DNS and\n\n237\n00:10:59.010 --> 00:11:00.930\nit's Active Directory integrated,\nin other words,\n\n238\n00:11:00.930 --> 00:11:05.560\nall the DNS zone information is stored in\nthe ntds.git file as part of the schema,\n\n239\n00:11:05.560 --> 00:11:09.160\nreplicated among all the domain\ncontrollers, as you were suggesting\n\n240\n00:11:09.160 --> 00:11:13.130\nSuggesting we often do, and it's a best\npractice in many cases for us to do.\n\n241\n00:11:13.130 --> 00:11:14.970\nAnd you could see we are doing here,\n\n242\n00:11:14.970 --> 00:11:17.810\nhey why would we potentially even\nneed to worry about zone transfers?\n\n243\n00:11:17.810 --> 00:11:20.210\nAnd if so,\nmaybe under what conditions, right?\n\n244\n00:11:20.210 --> 00:11:24.610\nSo let's talk about that, because that is\noften times the default way things are set\n\n245\n00:11:24.610 --> 00:11:28.150\nup and we may or may not have a good\nreason for engaging in zone transfers.\n\n246\n00:11:28.150 --> 00:11:30.250\nBut there are a couple,\nso let's take a look.\n\n247\n00:11:30.250 --> 00:11:33.650\nWe're gonna go up here to our\nZone Transfers tab, right up above.\n\n248\n00:11:33.650 --> 00:11:38.510\nAnd you'll see that right now, allow zone\ntransfers to any server is selected.\n\n249\n00:11:38.510 --> 00:11:41.110\nNow I'd gone in and\nbefore we started the demonstration, and\n\n250\n00:11:41.110 --> 00:11:44.260\nset that up and checked off the box\nto allows zone transfers so\n\n251\n00:11:44.260 --> 00:11:48.910\nI can do a quick demonstration of the\nnegative consequence of this with nslookup\n\n252\n00:11:48.910 --> 00:11:53.060\nif we don't do so correctly so,\nbefore I talk about hey how we do this.\n\n253\n00:11:53.060 --> 00:11:53.880\nWhy we do it.\n\n254\n00:11:53.880 --> 00:11:55.220\nHow we do it securely.\n\n255\n00:11:55.220 --> 00:11:58.000\nLet's see what happens when\nwe allow some transfers and\n\n256\n00:11:58.000 --> 00:12:01.510\nthe bad things that occur, then we'll\ncomeback and correct our behavior and\n\n257\n00:12:01.510 --> 00:12:02.870\ntalk about the right way to do this.\n\n258\n00:12:02.870 --> 00:12:06.666\nAlright, so I've essentially just gone in,\nchecked off this box,\n\n259\n00:12:06.666 --> 00:12:08.180\nallow zone transfers.\n\n260\n00:12:08.180 --> 00:12:11.290\nThe default radio button positioned,\njust to be clear,\n\n261\n00:12:11.290 --> 00:12:15.439\nwhen I do that is to any server so\nI've essentially set this up.\n\n262\n00:12:16.450 --> 00:12:18.750\nAnd said hey, talk to strangers.\n\n263\n00:12:18.750 --> 00:12:22.160\nAny server that gets\nto this DNS server and\n\n264\n00:12:22.160 --> 00:12:27.510\nis able to make a request for\nthe zone information will now be given it.\n\n265\n00:12:27.510 --> 00:12:29.200\nPeriod end of sentence right?\n\n266\n00:12:29.200 --> 00:12:31.160\nThe biggest hurdle we\nhave to overcome now,\n\n267\n00:12:31.160 --> 00:12:35.145\nis being able to logically connect to and\ntalk to this machine.\n\n268\n00:12:35.145 --> 00:12:38.970\nI don't have to authenticate, I don't have\nto do anything else, I just have to say,\n\n269\n00:12:38.970 --> 00:12:42.900\nhey, I want the zone transfer, and\nas long as I can get to this machine, and\n\n270\n00:12:42.900 --> 00:12:46.490\nrequest it, from anywhere in the world,\nI can get it.\n\n271\n00:12:46.490 --> 00:12:48.680\nThat's essentially what this setting says.\n\n272\n00:12:48.680 --> 00:12:50.240\nWhich is obviously a very bad thing.\n\n273\n00:12:50.240 --> 00:12:52.290\nLet's take a look at just how bad and why.\n\n274\n00:12:52.290 --> 00:12:53.820\nI've got a command prompt opened up.\n\n275\n00:12:53.820 --> 00:12:56.290\nNow I've modified the command prompt so\nyou could see a little bit easier.\n\n276\n00:12:56.290 --> 00:12:59.660\nIt's not obviously normally white with\nblue text, but I've just done that so\n\n277\n00:12:59.660 --> 00:13:01.170\nit's a little bit easier for you to see.\n\n278\n00:13:01.170 --> 00:13:02.750\nAll right, so having said that,\n\n279\n00:13:02.750 --> 00:13:06.580\nlet's go ahead and let's take a look at\nthe steps involved with using nslookup so\n\n280\n00:13:06.580 --> 00:13:09.180\nthat we can actually take a look\nat what we're gonna do here.\n\n281\n00:13:09.180 --> 00:13:11.332\nFirst thing we wanna do is connect,\n\n282\n00:13:11.332 --> 00:13:16.180\nall right the first thing we want\nto do is use nslookup, excuse me.\n\n283\n00:13:16.180 --> 00:13:20.581\nI forgot I had it up and running and got\nout of it, so let just me launch nslookup,\n\n284\n00:13:20.581 --> 00:13:22.790\nso let me type nslookup there.\n\n285\n00:13:22.790 --> 00:13:25.300\nWhen you do this you get\nvery basic information.\n\n286\n00:13:25.300 --> 00:13:27.190\nYou'll notice here default server unknown.\n\n287\n00:13:27.190 --> 00:13:31.220\nWe're about to change that and\nset nslookup to reference the server.\n\n288\n00:13:31.220 --> 00:13:32.090\nIt's gonna be the first step.\n\n289\n00:13:32.090 --> 00:13:33.100\nWe'll do that in a minute.\n\n290\n00:13:33.100 --> 00:13:37.636\nAnd the address of the local machine\nwe're talking to 192.168.0.1.\n\n291\n00:13:37.636 --> 00:13:41.514\nAll right, so first step is let's issue\na command in nslookup for server and\n\n292\n00:13:41.514 --> 00:13:44.920\nwe're gonna change that default\nserver from unknown to a server.\n\n293\n00:13:44.920 --> 00:13:46.270\nAnd we're gonna specify the server name.\n\n294\n00:13:46.270 --> 00:13:48.000\nIn this case, platdc01.\n\n295\n00:13:48.000 --> 00:13:53.270\nSo now that I've done that, you'll see\ndefault servers platdc01 practicelabs.com.\n\n296\n00:13:53.270 --> 00:13:56.070\nSame IP address, cuz we're on the server.\n\n297\n00:13:56.070 --> 00:13:59.370\nNow If you're not familiar with nslookup,\n\n298\n00:13:59.370 --> 00:14:01.290\nif you don't understand\nwhat the tool does.\n\n299\n00:14:01.290 --> 00:14:03.310\nAs we'll talk about in many other areas,\n\n300\n00:14:03.310 --> 00:14:06.110\nlet me just quickly bring up a separate\ncommand prompt here for just a moment.\n\n301\n00:14:08.060 --> 00:14:09.930\nAll right, so\njust another command prompt, right?\n\n302\n00:14:12.070 --> 00:14:16.090\nIf you're not familiar with nslookup or\nfor some reason you're uncomfortable with\n\n303\n00:14:16.090 --> 00:14:20.150\nit, and by the way notice when I do this\nand Iaunch another instance of the tool,\n\n304\n00:14:20.150 --> 00:14:22.690\nnotice that default server\nset back to unknown again.\n\n305\n00:14:22.690 --> 00:14:26.540\nWhat I'm doing in the other command\nprompt back here, we have no knowledge of\n\n306\n00:14:26.540 --> 00:14:29.700\nthe next command prompt we open, we don't\nshare information between command prompts,\n\n307\n00:14:29.700 --> 00:14:33.060\nas a result I could set the status\nin one window to something but\n\n308\n00:14:33.060 --> 00:14:35.790\nI won't be aware of it in another,\nnow that's not what I wanted to show you.\n\n309\n00:14:35.790 --> 00:14:37.860\nI'm just showing you that so\nyou understand.\n\n310\n00:14:37.860 --> 00:14:42.360\nBut, if you're not familiar\nwith any command in Windows for\n\n311\n00:14:42.360 --> 00:14:45.100\nany reason, you've seen my do this\nin numerous demonstrations over\n\n312\n00:14:45.100 --> 00:14:49.960\nmultitude of shows that we've done over\nthe time that I spend chatting with you.\n\n313\n00:14:49.960 --> 00:14:54.380\nIssue the help command, question mark,\ncommand name, space, forward slash,\n\n314\n00:14:54.380 --> 00:14:56.000\nquestion mark, different ways to get help.\n\n315\n00:14:56.000 --> 00:14:57.010\nBut read the help file.\n\n316\n00:14:57.010 --> 00:14:59.520\nThis is how you learn how to use the tool.\n\n317\n00:14:59.520 --> 00:15:02.585\nHow do I know to issue the server\ncommand followed by a server name?\n\n318\n00:15:02.585 --> 00:15:05.460\nCuz I read the help file and\nfigured out that's what I have to do.\n\n319\n00:15:05.460 --> 00:15:09.505\nRight down here, server name,\nthis command right here, right?\n\n320\n00:15:09.505 --> 00:15:14.760\nIn the help file, sets the default server\nname to whatever name value you specify.\n\n321\n00:15:14.760 --> 00:15:16.390\nUsing current default server.\n\n322\n00:15:16.390 --> 00:15:19.820\nSo if I read through the help file,\nall the commands I'm about to issue,\n\n323\n00:15:19.820 --> 00:15:23.830\nall the things I'm about to explain to\nyou, and the way we're gonna use nslookup\n\n324\n00:15:23.830 --> 00:15:28.260\nto essentially steal the zone information\ncan be found right here in the help file.\n\n325\n00:15:28.260 --> 00:15:30.340\nYou just have to go through and\ntake a look at what it is.\n\n326\n00:15:30.340 --> 00:15:33.140\nI've used the server name.\n\n327\n00:15:33.140 --> 00:15:34.720\nOr a server name command.\n\n328\n00:15:34.720 --> 00:15:37.255\nI'm now gonna go through and\nuse ls in just a minute.\n\n329\n00:15:37.255 --> 00:15:41.560\nList, and I'm going to list depending\non the values that I specify, records.\n\n330\n00:15:41.560 --> 00:15:44.880\nI'm gonna do an ls minus\nkey right down here.\n\n331\n00:15:44.880 --> 00:15:47.070\nLs list minus T for type of record.\n\n332\n00:15:47.070 --> 00:15:50.980\nI'm gonna specify the records I want,\nin this case SRV records, and\n\n333\n00:15:50.980 --> 00:15:51.860\nthe domain name.\n\n334\n00:15:51.860 --> 00:15:54.280\nCould I just do an ls minus D?\n\n335\n00:15:54.280 --> 00:15:55.658\nDump all records?\n\n336\n00:15:55.658 --> 00:15:58.120\nI could do that if I'm not picky and\nI wanna see everything.\n\n337\n00:15:58.120 --> 00:16:01.137\nRemember, if a hacker is looking\nto steal information from you.\n\n338\n00:16:01.137 --> 00:16:04.412\nDuring the reconnaissance and\nthe information gathering phase,\n\n339\n00:16:04.412 --> 00:16:07.803\nthe most likely thing they wanna do\nis get an accurate representation\n\n340\n00:16:07.803 --> 00:16:11.580\nof all the infrastructure inside\nyour domain behind your firewall.\n\n341\n00:16:11.580 --> 00:16:13.590\nThey're gonna dump all the records so\n\n342\n00:16:13.590 --> 00:16:17.510\nthey get a listing of your mail servers,\nyour exchange, mx records.\n\n343\n00:16:17.510 --> 00:16:19.060\nThey're gonna want to host records.\n\n344\n00:16:19.060 --> 00:16:21.470\nThey're gonna want the c-name records for\naliases.\n\n345\n00:16:21.470 --> 00:16:23.160\nThey're gonna want the SRV records for\n\n346\n00:16:23.160 --> 00:16:27.945\nservices to see what the domain structure\nlooks like, all the domain controllers.\n\n347\n00:16:27.945 --> 00:16:29.016\nAll that stuff.\n\n348\n00:16:29.016 --> 00:16:30.230\nOne simple command.\n\n349\n00:16:30.230 --> 00:16:31.780\nI'm gonna show it to you right now.\n\n350\n00:16:31.780 --> 00:16:35.270\nAnd if you set that setting incorrectly,\nyou've given it all away to the hacker.\n\n351\n00:16:35.270 --> 00:16:37.583\nYou might as well actually\nhave just gone ahead and\n\n352\n00:16:37.583 --> 00:16:40.018\njust handed them [CROSSTALK]\nthe keys to your domain.\n\n353\n00:16:40.018 --> 00:16:41.767\nJust give it right to them, right?\n\n354\n00:16:41.767 --> 00:16:43.056\nWatch how easy this is.\n\n355\n00:16:43.056 --> 00:16:44.331\nLS minus T.\n\n356\n00:16:44.331 --> 00:16:46.500\nWe're gonna just focus on the SRV records,\nright?\n\n357\n00:16:46.500 --> 00:16:47.720\nSo I'm just gonna do SRV.\n\n358\n00:16:47.720 --> 00:16:49.920\nBut I told you I could do the whole thing.\n\n359\n00:16:49.920 --> 00:16:52.963\nSRV, and\nthen the name of the domain that you want.\n\n360\n00:16:55.608 --> 00:16:57.316\nSpelled correctly, of course, right?\n\n361\n00:16:57.316 --> 00:16:59.489\nPracticelabs.com.\n\n362\n00:16:59.489 --> 00:17:00.005\nBoom.\n\n363\n00:17:00.005 --> 00:17:01.900\nAnd what do we see?\n\n364\n00:17:01.900 --> 00:17:05.980\nAll the SRV records listed\nright there in the window for\n\n365\n00:17:05.980 --> 00:17:07.710\nyou, and you could see them all.\n\n366\n00:17:07.710 --> 00:17:12.110\nIf I was a hacker,\nI've just taken that information, and\n\n367\n00:17:12.110 --> 00:17:17.345\nI now have a map of all of the domain\ncontrollers you can see here,\n\n368\n00:17:17.345 --> 00:17:23.950\nplabdc01 and plabdm01 in practicelabs.com\nrepeat over and over again.\n\n369\n00:17:23.950 --> 00:17:26.330\nI now know the two domain\ncontrollers you have.\n\n370\n00:17:26.330 --> 00:17:30.120\nI understand that I can now go\ntarget those domain controllers.\n\n371\n00:17:30.120 --> 00:17:32.627\nAnd I also understand the services\nthat are being offered and\n\n372\n00:17:32.627 --> 00:17:34.947\nthe ports that they are offered on,\nas you can see here.\n\n373\n00:17:34.947 --> 00:17:39.450\nBecause all of that, as I showed you,\nis in the service records in the GUI.\n\n374\n00:17:39.450 --> 00:17:40.760\nIt represents the same way here.\n\n375\n00:17:40.760 --> 00:17:42.860\nIt's just that it prints\nout line to limited.\n\n376\n00:17:42.860 --> 00:17:44.020\nSo every record has its own line.\n\n377\n00:17:44.020 --> 00:17:45.510\nYou see all that information.\n\n378\n00:17:45.510 --> 00:17:47.672\nBut I've gotten all that\ninformation right from here.\n\n379\n00:17:47.672 --> 00:17:49.220\nI could take all of it.\n\n380\n00:17:49.220 --> 00:17:52.590\nAnd if I wanted to output this to\na text file, have it for offline use,\n\n381\n00:17:52.590 --> 00:17:57.070\njust change that output command, pipe\nthat or cap that out specifically, right?\n\n382\n00:17:57.070 --> 00:18:01.158\nTo a file, and I've just copied or\ngotten a copy of it right off the screen,\n\n383\n00:18:01.158 --> 00:18:04.830\nand I've download it directly into\nmy machine and I'm off and running.\n\n384\n00:18:04.830 --> 00:18:06.880\nSo we've seen the negative\nthat happens with this.\n\n385\n00:18:06.880 --> 00:18:09.150\nSo let's talk about the way\nyou fix this problem.\n\n386\n00:18:09.150 --> 00:18:10.666\nLet's go back to DNS.\n\n387\n00:18:11.827 --> 00:18:13.690\nWe were looking at zone transfers.\n\n388\n00:18:13.690 --> 00:18:16.730\nLet's go back to the properties here,\nbring this up real quick.\n\n389\n00:18:18.400 --> 00:18:21.340\nNow, I allowed zone\ntransfers to any server.\n\n390\n00:18:22.400 --> 00:18:23.164\nCherokee said, hey,\n\n391\n00:18:23.164 --> 00:18:25.669\nwhy don't you do this, you've been\ndoing Active Directory integrate.\n\n392\n00:18:25.669 --> 00:18:28.567\nAnd let's talk about why, and let's talk\nabout how you would do this securely and\n\n393\n00:18:28.567 --> 00:18:29.320\nsuccessfully.\n\n394\n00:18:29.320 --> 00:18:31.416\nSo can we go full screen just so\nyou can see this a bit easier?\n\n395\n00:18:31.416 --> 00:18:33.390\nCuz I want you to be able\nto read what's there.\n\n396\n00:18:33.390 --> 00:18:35.180\nSo we have two other options, right?\n\n397\n00:18:35.180 --> 00:18:37.455\nOnly the servers listed\non the named servers tab.\n\n398\n00:18:37.455 --> 00:18:39.760\nWe'll go up here in just a minute and\ntake a look at that.\n\n399\n00:18:39.760 --> 00:18:41.013\nOr only to the following servers.\n\n400\n00:18:41.013 --> 00:18:43.090\nNow, to Cherokee's point.\n\n401\n00:18:43.090 --> 00:18:47.250\nIf I am using Active Directory\nintegrated DNS,\n\n402\n00:18:47.250 --> 00:18:50.030\nall of my DNS servers\nare domain controllers.\n\n403\n00:18:50.030 --> 00:18:53.440\nAnd as a result, I won't have to\nallow zone transfers because we're\n\n404\n00:18:53.440 --> 00:18:56.080\ndoing replication through\nAD automatically.\n\n405\n00:18:56.080 --> 00:18:59.010\nBut I may have some DNS servers\nthat are not domain controllers\n\n406\n00:18:59.010 --> 00:19:01.510\nthat won't have Active Directory\nintegrated DNS.\n\n407\n00:19:01.510 --> 00:19:04.030\nAnd as a result, or excuse me,\n\n408\n00:19:04.030 --> 00:19:07.390\nI may have some DNS servers that are not\nusing Active Directory integrated DNS\n\n409\n00:19:07.390 --> 00:19:10.370\nbecause they're not gonna be installed on\ndomain controllers, what I meant to say.\n\n410\n00:19:10.370 --> 00:19:11.195\nNot the other way around.\n\n411\n00:19:11.195 --> 00:19:15.940\n[LAUGH] And so as a result, I may have\ncertain DNS servers that will require\n\n412\n00:19:15.940 --> 00:19:19.570\nzone transfers because I wanna be able\nto make sure they have information.\n\n413\n00:19:19.570 --> 00:19:23.490\nEven though they may be part of an Active\nDirectory integrated infrastructure,\n\n414\n00:19:23.490 --> 00:19:26.150\nthey may not be leveraging\nActive Directory integration.\n\n415\n00:19:26.150 --> 00:19:27.600\n&gt;&gt; Or even if they-\n&gt;&gt; So that's one reason why we may\n\n416\n00:19:27.600 --> 00:19:28.340\ndo this, right?\n\n417\n00:19:28.340 --> 00:19:29.590\n&gt;&gt; A non-Windows platform.\n\n418\n00:19:29.590 --> 00:19:32.710\nI mean, that's not why we're here, but\njust knowing that there may be some kind\n\n419\n00:19:32.710 --> 00:19:36.480\nof bind server or Nix-based\nsystem that is using DNS as well.\n\n420\n00:19:36.480 --> 00:19:37.005\n&gt;&gt; Correct, and\n\n421\n00:19:37.005 --> 00:19:39.997\nthat's usually when we see these mixed\nenvironments like you're describing.\n\n422\n00:19:39.997 --> 00:19:42.958\nIt's usually when we have to get into\nthis, because we'd have to transfer\n\n423\n00:19:42.958 --> 00:19:45.778\nthat information because it's not\ngetting it from Active Directory,\n\n424\n00:19:45.778 --> 00:19:49.320\ncuz they won't be a part of the Active\nDirectory integrated infrastructure.\n\n425\n00:19:49.320 --> 00:19:51.820\nSo what I would typically then see\n\n426\n00:19:51.820 --> 00:19:55.230\nwould be either only two servers\nlisted on the name servers tab.\n\n427\n00:19:55.230 --> 00:19:56.760\nIf go to Name Servers,\n\n428\n00:19:56.760 --> 00:20:00.280\nI will see a list of the domain\ncontrollers that are currently there.\n\n429\n00:20:00.280 --> 00:20:04.365\nNotice I can add a Name Server\nto the list here, right?\n\n430\n00:20:04.365 --> 00:20:06.265\nSo I have to specify the fully\nqualified domain name.\n\n431\n00:20:06.265 --> 00:20:10.475\nSo notice that to do this, the machine\nhas to be a member of the domain, right?\n\n432\n00:20:10.475 --> 00:20:11.355\nSo it may or\n\n433\n00:20:11.355 --> 00:20:14.885\nmay not be possible to do this depending\non the kind of DNS server you're using.\n\n434\n00:20:14.885 --> 00:20:21.015\nSo instead of hey, let me add this to\nthe list of Named Servers in the domain,\n\n435\n00:20:21.015 --> 00:20:24.910\nrather, zone transfers only to\nthe following servers, right?\n\n436\n00:20:24.910 --> 00:20:28.330\nClick Edit, and\nthen I can do the same thing either way,\n\n437\n00:20:28.330 --> 00:20:30.294\nand I can do it from either perspective.\n\n438\n00:20:30.294 --> 00:20:33.210\nIf the machine is a member of the domain,\nI could do it and\n\n439\n00:20:33.210 --> 00:20:34.600\nhave it listed as a DNS server.\n\n440\n00:20:34.600 --> 00:20:37.020\nOr I could specify a Name Server here.\n\n441\n00:20:37.020 --> 00:20:40.880\nAnd either way, I will then be able\nto validate a machine that I wanna\n\n442\n00:20:40.880 --> 00:20:44.100\ntransfer to but\nmay not be Active Directory integrated.\n\n443\n00:20:44.100 --> 00:20:47.890\nAnd then I would use these settings\naccordingly, and whatever that will be.\n\n444\n00:20:47.890 --> 00:20:52.680\nAnd that would allow for\nthat zone transfer to take place.\n\n445\n00:20:52.680 --> 00:20:56.860\nSo if you're gonna allow zone transfers,\nthe rule of thumb is you never allow zone\n\n446\n00:20:56.860 --> 00:21:00.320\ntransfers to any server cuz\nyou're talking to strangers.\n\n447\n00:21:00.320 --> 00:21:03.330\nAnybody, as you saw,\ncan connect to that machine,\n\n448\n00:21:03.330 --> 00:21:07.700\nassuming they know the domain name or\nthe server name and can then specify it.\n\n449\n00:21:07.700 --> 00:21:10.740\nInstead, you wanna limit that by\nconstraining it only to the named\n\n450\n00:21:10.740 --> 00:21:15.110\ninstances on this tab or on one of\nthese two tabs, zone transfers and or\n\n451\n00:21:15.110 --> 00:21:15.980\nNamed Servers.\n\n452\n00:21:15.980 --> 00:21:19.230\nAnd by doing that, you're gonna be able\nto allow zone transfers but to do so\n\n453\n00:21:19.230 --> 00:21:20.630\nin a secure way.\n\n454\n00:21:20.630 --> 00:21:22.310\n&gt;&gt; And\nnow I can sleep safely at night, and\n\n455\n00:21:22.310 --> 00:21:28.270\nsleep peacefully knowing that my\nzones are secure, Adam [LAUGH].\n\n456\n00:21:28.270 --> 00:21:29.945\n&gt;&gt; That is my goal, right?\n\n457\n00:21:29.945 --> 00:21:31.815\n&gt;&gt; [LAUGH]\n&gt;&gt; Making sure you can sleep securely.\n\n458\n00:21:31.815 --> 00:21:32.880\n&gt;&gt; [LAUGH] Great, thank you for that.\n\n459\n00:21:32.880 --> 00:21:33.680\n&gt;&gt; You are welcome.\n\n460\n00:21:33.680 --> 00:21:35.490\n&gt;&gt; And thank you guys for\njoining us as well.\n\n461\n00:21:35.490 --> 00:21:38.590\nBut of course, you know it,\nwe have more information headed your way.\n\n462\n00:21:38.590 --> 00:21:40.790\nSo for this show,\nwe'll go ahead and sign out.\n\n463\n00:21:40.790 --> 00:21:42.380\nI've been your host, Cherokee Boose.\n\n464\n00:21:42.380 --> 00:21:43.170\n&gt;&gt; I'm Adam Gordon.\n\n465\n00:21:43.170 --> 00:21:47.044\n&gt;&gt; See you next time here at ITProTV.\n\n466\n00:21:47.044 --> 00:21:52.772\n[MUSIC]\n\n467\n00:21:52.772 --> 00:21:55.998\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "228966919"
        },
        {
          "description": "In this show, Cherokee and Adam discuss and demonstrate transferring as well as seizing FSMO Roles.",
          "length": "2283",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-5-transferring_and_seizing_fsmo_roles-090117-PGM.00_38_33_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-5-transferring_and_seizing_fsmo_roles-090117-PGM.00_38_33_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-5-transferring_and_seizing_fsmo_roles-090117-PGM.00_38_33_17.Still001-sm.jpg",
          "title": "Transferring and Seizing FSMO Roles",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:03.068\nWelcome to ITProTV,\n\n2\n00:00:03.068 --> 00:00:08.239\nI'm your host [CROSSTALK]\n&gt;&gt; [SOUND]\n\n3\n00:00:08.239 --> 00:00:11.784\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:11.784 --> 00:00:15.418\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n5\n00:00:15.418 --> 00:00:17.028\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.028 --> 00:00:22.760\nIn this episode, we'll be taking a look at\nhow to transfer and seize our FSMO roles.\n\n7\n00:00:22.760 --> 00:00:25.990\nBack in studios with us today we\nhave Microsoft expert, Adam Gordon.\n\n8\n00:00:25.990 --> 00:00:27.480\nThank you for joining us, Adam.\n\n9\n00:00:27.480 --> 00:00:28.240\n&gt;&gt; Hey, how's everybody?\n\n10\n00:00:28.240 --> 00:00:29.510\nHopefully you're all doing well.\n\n11\n00:00:29.510 --> 00:00:31.130\nCan I borrow that pen from you?\n\n12\n00:00:31.130 --> 00:00:32.230\n&gt;&gt; Sure.\n\n13\n00:00:32.230 --> 00:00:33.840\nI'll transfer it to you.\n\n14\n00:00:33.840 --> 00:00:35.230\n&gt;&gt; That's really corny.\n\n15\n00:00:35.230 --> 00:00:36.140\nThank you, I appreciate that.\n\n16\n00:00:36.140 --> 00:00:38.930\nI was actually gonna seize it from\nyou by grabbing it without asking.\n\n17\n00:00:38.930 --> 00:00:40.030\n&gt;&gt; Okay.\n&gt;&gt; But I appreciate you\n\n18\n00:00:40.030 --> 00:00:41.320\nvolunteering to seize it.\n\n19\n00:00:41.320 --> 00:00:45.180\nSo that route transferred to me so\nwe could share the role and\n\n20\n00:00:45.180 --> 00:00:46.000\nmove it between us.\n\n21\n00:00:46.000 --> 00:00:48.640\nSo we're gonna talk about how we do this,\nnot with pens of course, but\n\n22\n00:00:48.640 --> 00:00:50.660\nvisual aids are always important.\n\n23\n00:00:50.660 --> 00:00:53.790\nNotice by the way, if I hold it up like\nthis, well, if you get the little stupid\n\n24\n00:00:53.790 --> 00:00:56.920\nthing out of, there we go,\nit almost disappears cause it's blue.\n\n25\n00:00:56.920 --> 00:00:58.870\n&gt;&gt; Yeah,\nit's really cute looking pen, too.\n\n26\n00:00:58.870 --> 00:01:00.578\n&gt;&gt; It is.\nIt goes well with my horsey guy, so\n\n27\n00:01:00.578 --> 00:01:01.749\nit's actually perfect.\n\n28\n00:01:01.749 --> 00:01:04.480\nSo I am going to transfer it back to you.\n\n29\n00:01:04.480 --> 00:01:05.820\nYou're going to hold onto that for us.\n\n30\n00:01:05.820 --> 00:01:08.941\nWe are, all kidding aside,\ngoing to talk about how to transfer and\n\n31\n00:01:08.941 --> 00:01:09.970\nseize FSMO roles.\n\n32\n00:01:09.970 --> 00:01:14.660\nJust reminding you of what a FSMO role is,\nflexible single operation master.\n\n33\n00:01:14.660 --> 00:01:17.035\nThere are five of these roles\nthat we have talked about.\n\n34\n00:01:17.035 --> 00:01:20.080\nDo you remember off the top of your head\nwhat maybe one or more of them may be?\n\n35\n00:01:20.080 --> 00:01:21.140\n&gt;&gt; You've really put me on the spot.\n\n36\n00:01:21.140 --> 00:01:22.550\n&gt;&gt; What, what, what?\n\n37\n00:01:22.550 --> 00:01:23.420\n&gt;&gt; Give me one.\n\n38\n00:01:23.420 --> 00:01:24.520\n&gt;&gt; A PVC emulator.\n\n39\n00:01:24.520 --> 00:01:25.430\n&gt;&gt; A PVC emulator.\n\n40\n00:01:25.430 --> 00:01:29.250\nOkay, so we have two different\nspecifications for rules.\n\n41\n00:01:29.250 --> 00:01:30.320\nWe do have a PVC emulator.\n\n42\n00:01:30.320 --> 00:01:32.560\nThere are four other\nrules that go with them.\n\n43\n00:01:32.560 --> 00:01:38.580\nThe domain naming master,\nschema master, the PVC emulator,\n\n44\n00:01:38.580 --> 00:01:43.080\nthe RID master, and I forget\nthe other one off the top of my head.\n\n45\n00:01:43.080 --> 00:01:45.170\nThe infrastructure master,\nthat's what it is.\n\n46\n00:01:45.170 --> 00:01:46.220\nI always forget that one.\n\n47\n00:01:46.220 --> 00:01:46.940\nSo there are five.\n\n48\n00:01:46.940 --> 00:01:50.310\nWe've talked about them, but they're\nclassified into two distinct groupings.\n\n49\n00:01:50.310 --> 00:01:52.830\nWe have forest level FSMO roles.\n\n50\n00:01:52.830 --> 00:01:56.260\nThere's a couple that we see there\nthat are gonna be at the forest level,\n\n51\n00:01:56.260 --> 00:01:58.380\nas we've talked about, so one per forest.\n\n52\n00:01:58.380 --> 00:02:01.080\nAnd then we have domain level FSMO roles.\n\n53\n00:02:01.080 --> 00:02:03.857\nThe PVC emulator is\na domain level FSMO role.\n\n54\n00:02:03.857 --> 00:02:05.230\nWe have one per domain.\n\n55\n00:02:05.230 --> 00:02:08.320\nSo I think we've done the math\nin some of the prior episodes.\n\n56\n00:02:08.320 --> 00:02:12.940\nTheoretically let's say, if we had three\ndomains within the forest, one forest made\n\n57\n00:02:12.940 --> 00:02:18.460\nup of three domains, we would have\na total of 11 FSMO roles, right?\n\n58\n00:02:18.460 --> 00:02:22.400\nBecause we have three of the roles\nassigned per domain, every domain would\n\n59\n00:02:22.400 --> 00:02:25.010\nhave a set of the same three-\n&gt;&gt; Forest roles.\n\n60\n00:02:25.010 --> 00:02:26.685\n&gt;&gt; And then we have our two forest role.\n\n61\n00:02:26.685 --> 00:02:29.785\nAnd so as a result,\nwe would have a total of 11 FSMO roles.\n\n62\n00:02:29.785 --> 00:02:31.795\nEven though there are a total\nof 5 FSMOs overall,\n\n63\n00:02:31.795 --> 00:02:36.375\nthere would be a set of 3 per domain,\nand one set total for the forest.\n\n64\n00:02:36.375 --> 00:02:40.240\nSo the forest level schema\nmaster domain naming master, so\n\n65\n00:02:40.240 --> 00:02:42.240\nthose are our forest level FSMO roles,\njust to remember.\n\n66\n00:02:42.240 --> 00:02:43.600\nWe're gonna take a look at seizing,\n\n67\n00:02:43.600 --> 00:02:46.180\ntransferring, dealing with all\nof them here in just a minute.\n\n68\n00:02:46.180 --> 00:02:50.900\nAnd then at our domain level, we have\nour PVC emulator as Cherokee suggested.\n\n69\n00:02:50.900 --> 00:02:53.550\nWe have our infrastructure master and\nour RID master.\n\n70\n00:02:53.550 --> 00:02:55.370\nThose could be our domain\nlevel physical roles.\n\n71\n00:02:55.370 --> 00:02:57.940\nSo just keep those in mind,\nremember those.\n\n72\n00:02:57.940 --> 00:02:59.310\nWe have talked about them.\n\n73\n00:02:59.310 --> 00:03:02.480\nWe've talked about the significance of\nthem, what they do, how they work, and\n\n74\n00:03:02.480 --> 00:03:03.610\nwhy they are important.\n\n75\n00:03:03.610 --> 00:03:06.910\nI'm just scrolling down to get\nto my note on transferring and\n\n76\n00:03:06.910 --> 00:03:08.440\nseizing specific to PowerShell.\n\n77\n00:03:08.440 --> 00:03:12.110\nCuz I just wanted to share with you and\nremind you that, well,\n\n78\n00:03:12.110 --> 00:03:13.876\nwe are gonna do this in\ncouple of different ways.\n\n79\n00:03:13.876 --> 00:03:16.435\nYou're gonna see me use\nsome graphical tools.\n\n80\n00:03:16.435 --> 00:03:18.242\nWe're gonna take a look at the domains and\ntrust tool,\n\n81\n00:03:18.242 --> 00:03:20.240\nthe active directory user and\ncomputer tool.\n\n82\n00:03:20.240 --> 00:03:24.420\nWe are gonna register and look at the\nactive directory schema management snap-in\n\n83\n00:03:24.420 --> 00:03:27.100\nto be able to modify\nthe status of those roles.\n\n84\n00:03:27.100 --> 00:03:28.950\nSo we're gonna be taking a look at that.\n\n85\n00:03:28.950 --> 00:03:31.100\nWe can do this with NTDS util.\n\n86\n00:03:31.100 --> 00:03:33.810\nWe'll be taking a look at that\nutility from the command line.\n\n87\n00:03:33.810 --> 00:03:38.160\nBut PowerShell lets us do this as well, if\nwe're going to be transferring or seizing.\n\n88\n00:03:38.160 --> 00:03:43.137\nWe can use the\nMove-ADDirectoryServerOperationMasterRole\n\n89\n00:03:43.137 --> 00:03:44.110\ncommandlet.\n\n90\n00:03:44.110 --> 00:03:46.940\nAnd we can use those in PowerShell,\nor that commandlet in PowerShell,\n\n91\n00:03:46.940 --> 00:03:50.640\nwith the Identity parameter, and\nthe operation's Master role parameter,\n\n92\n00:03:50.640 --> 00:03:53.540\nnaming the role that we\nwant to transfer or seize.\n\n93\n00:03:53.540 --> 00:03:55.670\nWe actually then can go in and do that.\n\n94\n00:03:55.670 --> 00:03:57.850\nAnd so we do have a lot of\ndifferent options here.\n\n95\n00:03:57.850 --> 00:03:59.640\nJust wanna make sure\nwe're aware of that and\n\n96\n00:03:59.640 --> 00:04:02.130\nwe think through the logic\nof how this is gonna work.\n\n97\n00:04:02.130 --> 00:04:03.750\nAll right, so join me here.\n\n98\n00:04:03.750 --> 00:04:05.590\nLet's take a look at how\nwe're actually gonna go in.\n\n99\n00:04:05.590 --> 00:04:09.370\nAnd we'll start with transferring roles,\ncuz that's the less violent and\n\n100\n00:04:09.370 --> 00:04:11.870\nmore optimistic of the two\nchoices we're gonna make.\n\n101\n00:04:11.870 --> 00:04:13.740\nWe're gonna seize those roles as well.\n\n102\n00:04:13.740 --> 00:04:15.524\nI'm just extending our lab time here for\n\n103\n00:04:15.524 --> 00:04:17.736\njust a minute as you may see\nme do from time to time.\n\n104\n00:04:17.736 --> 00:04:20.606\nJust to make sure we don't run out\nof time while we're in the middle of\n\n105\n00:04:20.606 --> 00:04:23.575\nour demonstration and then as a result,\nlose our ability to do the lab or\n\n106\n00:04:23.575 --> 00:04:25.640\nto walk you through the demonstration.\n\n107\n00:04:25.640 --> 00:04:28.510\nSo let's start with the active\ndirectory user and computer tool.\n\n108\n00:04:28.510 --> 00:04:30.120\nI have this opened up here.\n\n109\n00:04:30.120 --> 00:04:33.520\nI've just gone in to the server\nmanager on my domain controller.\n\n110\n00:04:33.520 --> 00:04:34.790\nYou could see it here.\n\n111\n00:04:34.790 --> 00:04:38.210\nOn to the tools menu and just opened up\nthe series of tools that we're gonna be\n\n112\n00:04:38.210 --> 00:04:42.430\nusing, the active director user computers\ntool, the domains and trust tool is here.\n\n113\n00:04:42.430 --> 00:04:43.770\nI've opened that up.\n\n114\n00:04:43.770 --> 00:04:45.930\nI have built a separate MMC.\n\n115\n00:04:45.930 --> 00:04:48.420\nI'll show you how to do that and\nload it up.\n\n116\n00:04:48.420 --> 00:04:51.940\nThe schema management DLL which I've\nregistered from a command line.\n\n117\n00:04:51.940 --> 00:04:52.910\nSo we'll take a look at that and\n\n118\n00:04:52.910 --> 00:04:55.590\njust to make sure you're familiar\nwith how we deal with that.\n\n119\n00:04:55.590 --> 00:04:59.640\nAnd we are, as you can see,\non our PLABVM01 machine.\n\n120\n00:04:59.640 --> 00:05:02.820\nIt is a domain controller in\nthe practicelabs.com domain.\n\n121\n00:05:02.820 --> 00:05:06.450\nSo we've gone in and just kinda set\nthe stage for what we're gonna do.\n\n122\n00:05:06.450 --> 00:05:10.830\nWe're in our practicelabs.com domain,\nas you can see, overall user there.\n\n123\n00:05:10.830 --> 00:05:15.420\nEverything is nice, bright, sunny,\nand we're gonna right click here.\n\n124\n00:05:15.420 --> 00:05:19.260\nWe're going to go in, go to\nthe operation's master item on the menu.\n\n125\n00:05:19.260 --> 00:05:23.101\nI've right clicked on the domain objects,\nso practicelabs.com.\n\n126\n00:05:23.101 --> 00:05:26.414\nI'm going to the operations\nmaster item in the menu, and\n\n127\n00:05:26.414 --> 00:05:29.864\nyou can see we get the pop up\nhere that allows us to decide, or\n\n128\n00:05:29.864 --> 00:05:33.744\nat least to look at, and\nultimately decide, by domain FSMO role.\n\n129\n00:05:33.744 --> 00:05:36.840\nRID master is the one selected initially.\n\n130\n00:05:36.840 --> 00:05:40.327\nPVC emulator, infrastructure master,\nthe three at the domain level,\n\n131\n00:05:40.327 --> 00:05:44.740\nall through your access tier, through the\nactive directory user and computer tool.\n\n132\n00:05:44.740 --> 00:05:49.080\nAnd we're literally just gonna be able to\ngo tab by tab, step by step, transferring\n\n133\n00:05:49.080 --> 00:05:53.910\nthe role between the domain controllers\nthat are capable of holding the role,\n\n134\n00:05:53.910 --> 00:05:56.700\none that currently does,\none that may be a target.\n\n135\n00:05:56.700 --> 00:06:00.237\nYou'll see here,\nthe operations master role right now for\n\n136\n00:06:00.237 --> 00:06:03.642\nthe RID master designation\nis currently on PLABVC01.\n\n137\n00:06:03.642 --> 00:06:08.545\nRemember, we're connected to PLABVM01,\nmeaning the current machine\n\n138\n00:06:08.545 --> 00:06:13.213\nthat holds the role is the original\ndomain controller PLABVC01, but\n\n139\n00:06:13.213 --> 00:06:17.160\nI'm managing,\nI'm looking at the tool from PLABVM01.\n\n140\n00:06:17.160 --> 00:06:20.840\nAnd this is important because\nin order to transfer the role,\n\n141\n00:06:20.840 --> 00:06:25.050\nI have to be on the machine that\nis capable of accepting the role\n\n142\n00:06:25.050 --> 00:06:26.770\nin order to be able to do the transfer and\n\n143\n00:06:26.770 --> 00:06:31.300\nmove the role essentially from where it\ncurrently lives over to this new machine.\n\n144\n00:06:31.300 --> 00:06:32.788\nCan we go back to our pen analogy here,\nfor a second right.\n\n145\n00:06:32.788 --> 00:06:33.706\n&gt;&gt; [LAUGH].\n\n146\n00:06:33.706 --> 00:06:37.463\n&gt;&gt; You're gonna hold that, So\nlet's just say that in our example here,\n\n147\n00:06:37.463 --> 00:06:39.510\nCherokee is the PLABVC01 machine.\n\n148\n00:06:39.510 --> 00:06:44.525\nThe current holder of the ops role,\nin this case the RID master, right?\n\n149\n00:06:44.525 --> 00:06:45.435\nSo there you go.\n&gt;&gt; [LAUGH]\n\n150\n00:06:45.435 --> 00:06:47.700\n&gt;&gt; Lovely ensemble you're wearing today.\n\n151\n00:06:47.700 --> 00:06:51.610\nAnd so when we do this,\nif I wanna be able to transfer the roles,\n\n152\n00:06:51.610 --> 00:06:56.400\nessentially ask Cherokee for the ability\nto give me that role, I have to\n\n153\n00:06:56.400 --> 00:07:01.290\nconnect to the management interface,\nas I'm doing, from my side of the system.\n\n154\n00:07:01.290 --> 00:07:05.600\nIf I'm connected on Cherokee's side,\nwhat I would see is that that role\n\n155\n00:07:05.600 --> 00:07:09.380\nis currently held by whatever, and I'm\nnot gonna be able to transfer the role,\n\n156\n00:07:09.380 --> 00:07:11.720\nbecause I'm actually on\nthe machine that holds the role.\n\n157\n00:07:11.720 --> 00:07:13.540\nI have to connect from a separate machine.\n\n158\n00:07:13.540 --> 00:07:15.460\nSo it's just one of those little\nthings you gotta be aware of.\n\n159\n00:07:15.460 --> 00:07:19.710\nSo when we transfer the role,\nwe wanna be on a separate machine.\n\n160\n00:07:19.710 --> 00:07:21.640\nNot the current holder of the role, but\n\n161\n00:07:21.640 --> 00:07:24.060\na domain controller that's\ncapable of accepting the role.\n\n162\n00:07:24.060 --> 00:07:27.530\nConnect from there, run the AD\nservices tools, whatever they are.\n\n163\n00:07:27.530 --> 00:07:30.870\nAnd then request, in this case,\nthat we're gonna use the change window.\n\n164\n00:07:30.870 --> 00:07:32.810\nWe're gonna see that in a second,\nchange button.\n\n165\n00:07:32.810 --> 00:07:34.670\nIt'll say,\nyeah we can do that if we're authorized.\n\n166\n00:07:34.670 --> 00:07:36.010\nWe have the right permissions.\n\n167\n00:07:36.010 --> 00:07:39.190\nWe're in the right groups and we are on\nthe right machine that can accept inbound.\n\n168\n00:07:39.190 --> 00:07:41.980\nSo when I say,\ncan we transfer the role, right?\n\n169\n00:07:41.980 --> 00:07:44.952\n&gt;&gt; Sure, requesting domain controller,\nyou can have that role.\n\n170\n00:07:44.952 --> 00:07:47.630\n&gt;&gt; Awesome, so I'm gonna get that, and\nthen now I will have the role, right?\n\n171\n00:07:47.630 --> 00:07:48.655\nThe role will switch over to me.\n\n172\n00:07:48.655 --> 00:07:52.371\nAnd we will see it labeled as now\nbeing on the PLABVM01 machine\n\n173\n00:07:52.371 --> 00:07:55.750\nas opposed to being on\nthe PLABVC01 machine.\n\n174\n00:07:55.750 --> 00:07:58.360\nAnd then we can obviously move it\nback if we have to at some point and\n\n175\n00:07:58.360 --> 00:08:01.836\nwe'll Kind of secretly hand that back when\nnobody is looking around the corner there.\n\n176\n00:08:01.836 --> 00:08:04.390\n&gt;&gt; [LAUGH] So we're going to be looking at\nyou actually performing these steps here.\n\n177\n00:08:04.390 --> 00:08:05.610\n&gt;&gt; We're going to see it right now.\n\n178\n00:08:05.610 --> 00:08:06.420\nThis is what we're going to do.\n\n179\n00:08:06.420 --> 00:08:07.830\nSo if you come back right over here.\n\n180\n00:08:07.830 --> 00:08:08.470\nAll right, we'll see.\n\n181\n00:08:08.470 --> 00:08:09.130\nAll right so, we're there.\n\n182\n00:08:09.130 --> 00:08:11.820\nNow what you're going to see is,\nwe can go full screen again so\n\n183\n00:08:11.820 --> 00:08:14.310\nyou can read and see the logic,\nand I would suggest it.\n\n184\n00:08:14.310 --> 00:08:17.320\nOps Master, the rid Ops Master role.\n\n185\n00:08:17.320 --> 00:08:20.780\nCurrently on PLABDC01 practicelabs.com,\nright up here.\n\n186\n00:08:20.780 --> 00:08:23.630\nTo transfer the master role to\nthe following computer, PLABDM01,\n\n187\n00:08:23.630 --> 00:08:25.490\nthat's the machine we're on.\n\n188\n00:08:25.490 --> 00:08:27.460\nPlease click the change button, all right?\n\n189\n00:08:27.460 --> 00:08:28.700\nSo we're gonna click change.\n\n190\n00:08:28.700 --> 00:08:31.400\nIt says are you sure\nyou wanna transfer the?\n\n191\n00:08:31.400 --> 00:08:34.390\nJust move this up so\nwe can kinda see this happen, right?\n\n192\n00:08:34.390 --> 00:08:35.910\nAre we sure we wanna transfer?\n\n193\n00:08:35.910 --> 00:08:36.660\nYes.\n\n194\n00:08:36.660 --> 00:08:37.480\nI often wonder sometimes.\n\n195\n00:08:37.480 --> 00:08:39.795\nLike I got this far [LAUGH] but\nnot gonna do it.\n\n196\n00:08:39.795 --> 00:08:40.768\nI was kidding around.\n\n197\n00:08:40.768 --> 00:08:41.512\n&gt;&gt; Changed my mind.\n\n198\n00:08:41.512 --> 00:08:44.190\n&gt;&gt; Changed my mind,\ndon't really wanna do it, right?\n\n199\n00:08:44.190 --> 00:08:49.710\nSo fields and some domain dialogue boxes\nthat come up are more helpful than others,\n\n200\n00:08:49.710 --> 00:08:50.730\nlet's put it that way.\n\n201\n00:08:50.730 --> 00:08:54.180\nClick Yes and\nyou'll see the operation was successful,\n\n202\n00:08:54.180 --> 00:08:57.400\nand as a matter of fact as soon as I\nmove this up you can already see it,\n\n203\n00:08:57.400 --> 00:08:58.435\n&gt;&gt; You'll see that now,\n\n204\n00:08:58.435 --> 00:09:03.300\nPLABVM01 is the ops master of record for\nthe RID master role.\n\n205\n00:09:03.300 --> 00:09:06.070\nAnd you could see what I was talking\nabout of being on the machine\n\n206\n00:09:06.070 --> 00:09:07.670\nthat we're managing the role from.\n\n207\n00:09:07.670 --> 00:09:12.160\nYou see the names in both columns or\nboth rows now are PLABVM01.\n\n208\n00:09:12.160 --> 00:09:16.150\nIn other words I'm on PLABVM01,\nand I own the role on PLABVM01.\n\n209\n00:09:16.150 --> 00:09:21.640\nIf I wanted to transfer it,\nas a result I would have to go and\n\n210\n00:09:21.640 --> 00:09:25.600\nconnect to PLABDC01, and manage from\nthere, to be able to transfer the role,\n\n211\n00:09:25.600 --> 00:09:28.710\nbecause I don't have the ability to\nsee it that way now when I do this.\n\n212\n00:09:28.710 --> 00:09:31.220\nSo this is what I was talking about,\njust to make sure you're clear on that.\n\n213\n00:09:31.220 --> 00:09:34.830\nAll right, so you can see now,\nif I try to transfer, hey,\n\n214\n00:09:34.830 --> 00:09:36.700\nyou can't transfer yourself.\n\n215\n00:09:36.700 --> 00:09:38.640\nAnd so if I do this, what happens, right?\n\n216\n00:09:38.640 --> 00:09:40.210\nYou'll see, hey we get an error,\n\n217\n00:09:40.210 --> 00:09:43.500\nthe current domain controller\nis holding the role.\n\n218\n00:09:43.500 --> 00:09:46.270\nTo transfer connect to a machine\nthat doesn't have the role.\n\n219\n00:09:46.270 --> 00:09:47.490\nThat's what you would see.\n\n220\n00:09:47.490 --> 00:09:49.720\nThis is not a big deal if you make\na mistake or you're not paying attention.\n\n221\n00:09:49.720 --> 00:09:52.280\nWe don't let you do it,\nit's just that you have to know\n\n222\n00:09:52.280 --> 00:09:55.500\nthat you have to be connected to the other\nmachine in order to get access to it.\n\n223\n00:09:55.500 --> 00:09:58.820\n&gt;&gt; If the error message had a little\ncup of coffee saying something like\n\n224\n00:09:58.820 --> 00:10:01.400\nI think you should re-evaluate\nyour life choices.\n\n225\n00:10:01.400 --> 00:10:02.015\nGo take a break.\n\n226\n00:10:02.015 --> 00:10:04.270\n[LAUGH]\n&gt;&gt; Or, just like, a hand comes out and\n\n227\n00:10:04.270 --> 00:10:06.335\nsmacks you in the head and\ngoes, what were you thinking?\n\n228\n00:10:06.335 --> 00:10:08.840\n&gt;&gt; [LAUGH]\n&gt;&gt; Come on, pay attention.\n\n229\n00:10:08.840 --> 00:10:10.400\nYou're better than that, right?\n\n230\n00:10:10.400 --> 00:10:14.560\nAll right, so, we have transferred\nthe RID master, as you can see.\n\n231\n00:10:14.560 --> 00:10:17.040\nJust walking through the logic here.\n\n232\n00:10:17.040 --> 00:10:18.380\nLet's go to PVC emulator.\n\n233\n00:10:18.380 --> 00:10:20.530\nYou can see the same idea applies.\n\n234\n00:10:20.530 --> 00:10:23.070\nWe're still managing the roles that exist,\n\n235\n00:10:23.070 --> 00:10:27.180\nthat have not been transferred yet\nfrom PLABDC01, via PLABDM01.\n\n236\n00:10:27.180 --> 00:10:30.840\nSo those are available to us,\nthose we can obviously walk-through.\n\n237\n00:10:30.840 --> 00:10:32.760\nWe could transfer those\nhere with no trouble.\n\n238\n00:10:32.760 --> 00:10:35.650\nWe'll just do that, just so\nwe have them all transferred over.\n\n239\n00:10:35.650 --> 00:10:37.040\nSo let's click Change here.\n\n240\n00:10:37.040 --> 00:10:40.510\nWe've already seen this, so we'll\nkinda zip through here pretty quickly.\n\n241\n00:10:40.510 --> 00:10:41.240\nWe've done that.\n\n242\n00:10:41.240 --> 00:10:42.890\nThose are now resident there.\n\n243\n00:10:42.890 --> 00:10:44.170\nInfrastructure Master.\n\n244\n00:10:44.170 --> 00:10:49.320\nThe same way, let's just go ahead We'll\nchange that one, click Yes, click OK, and\n\n245\n00:10:49.320 --> 00:10:53.740\nso now all three, just visually checking,\nare now on pladdm01.\n\n246\n00:10:53.740 --> 00:10:59.100\nSo we've dealt with the domain level,\nFSMO roles, transferred those.\n\n247\n00:10:59.100 --> 00:11:02.890\nbut what if we want to go ahead and\nlook at the forest level FSMO roles?\n\n248\n00:11:02.890 --> 00:11:06.050\nWe're gonna go in,\ngonna take a look at that, as well.\n\n249\n00:11:06.050 --> 00:11:11.360\nLet me just go over here real quick to our\nCommand line that I already have set up.\n\n250\n00:11:11.360 --> 00:11:12.740\nIt's probably a little bit hard to see.\n\n251\n00:11:12.740 --> 00:11:17.330\nI didn't really think about extending\nthe font there to make it easier for you.\n\n252\n00:11:17.330 --> 00:11:19.080\nLet me just make this a little bigger.\n\n253\n00:11:19.080 --> 00:11:21.500\nThat way you can see that,\nsee what I typed.\n\n254\n00:11:21.500 --> 00:11:23.140\nTalked about big fonts,\n\n255\n00:11:23.140 --> 00:11:27.620\nremember talking about that before we\ngot started, so there you go, right?\n\n256\n00:11:27.620 --> 00:11:32.640\nAll right so I typed in reg\nsbr 34 schema management.dll,\n\n257\n00:11:32.640 --> 00:11:37.600\nand what this des, is this registers this\nDLL, this extension that allows me to\n\n258\n00:11:37.600 --> 00:11:40.870\nget access to the scheme of management\nsnap in, which is what we need to get\n\n259\n00:11:40.870 --> 00:11:44.950\naccess to one of the two farrest level\nroles, the scheme of master, right.\n\n260\n00:11:44.950 --> 00:11:46.340\nSo we're gonna go in, we've done this,\n\n261\n00:11:46.340 --> 00:11:50.400\nyou would have to do this on a machine\nhere you're gonna then load the MMC and\n\n262\n00:11:50.400 --> 00:11:53.105\nactually be able to get\na hold of this role.\n\n263\n00:11:53.105 --> 00:11:54.100\nYou're gonna have enterprise or\n\n264\n00:11:54.100 --> 00:11:56.920\nhave to have enterprise admin rights\nto be able to work with this.\n\n265\n00:11:56.920 --> 00:11:59.390\nSo, obviously be a member\nof the appropriate groups.\n\n266\n00:11:59.390 --> 00:12:00.830\nWe're gonna minimize that.\n\n267\n00:12:00.830 --> 00:12:04.070\nI've done that, let's minimize\nour active directory domains,\n\n268\n00:12:04.070 --> 00:12:05.790\nusers and computers tool.\n\n269\n00:12:05.790 --> 00:12:08.260\nLet's come here to my MMC.\n\n270\n00:12:08.260 --> 00:12:12.840\nNow I went in and created an MMC\nvery simple, to the run line,\n\n271\n00:12:12.840 --> 00:12:15.540\ntype MMC, you get a blank MMC shell.\n\n272\n00:12:15.540 --> 00:12:19.590\nSo I just right-clicked here,\nwent to Run, I typed in MMC.\n\n273\n00:12:19.590 --> 00:12:23.050\nYou can, although it's kinda small,\nsee that it's there, right?\n\n274\n00:12:23.050 --> 00:12:27.140\nHit Enter, we get a blank shell just like\nthe one that I created a minute ago.\n\n275\n00:12:27.140 --> 00:12:30.860\nGo to File.\nFile, remove snap ins which is what I did\n\n276\n00:12:30.860 --> 00:12:36.410\nand then right here, this second item\nafter directory schema is the result of\n\n277\n00:12:36.410 --> 00:12:41.890\ngetting registered, that registration that\nI had said, regsbr32schemamanagementvll.\n\n278\n00:12:41.890 --> 00:12:44.520\nWithout doing that this\nitem will not be available,\n\n279\n00:12:44.520 --> 00:12:46.530\nit's just unavailable\nuntil we register it.\n\n280\n00:12:46.530 --> 00:12:51.270\nI grabbed that, select it,\nclick okay, put it into the schema.\n\n281\n00:12:52.470 --> 00:12:55.000\nManagement snap and\nput it into the MMC and\n\n282\n00:12:55.000 --> 00:12:57.790\nthen I have this exact MMC that\nyou're looking at right here.\n\n283\n00:12:57.790 --> 00:13:02.350\nAnd so once I've done that what I'm\nthen gonna be able to do is go in and\n\n284\n00:13:02.350 --> 00:13:06.960\nam gonna go ahead and am gonna seize or\nchange the machine that's holding this and\n\n285\n00:13:06.960 --> 00:13:09.480\nthen go ahead and\ntake a look at and seize the role.\n\n286\n00:13:09.480 --> 00:13:10.700\nSo let's right click here.\n\n287\n00:13:10.700 --> 00:13:14.330\nYou see we're on PLABDC01 as you can see.\n\n288\n00:13:14.330 --> 00:13:18.540\nWe go in, and let's just talk about the\noptions we have here, for just one second.\n\n289\n00:13:18.540 --> 00:13:21.480\nRemember I said we have to be\non the machine that is not\n\n290\n00:13:21.480 --> 00:13:24.780\nholding the role in order to\nbe able to transfer it, right.\n\n291\n00:13:24.780 --> 00:13:30.170\nAnd so, if I am trying to, and you see\nwe are connected to PLABDC01 right?\n\n292\n00:13:30.170 --> 00:13:34.130\nSo if I need to, I've changed the active\ndirectory domain controller to be able to\n\n293\n00:13:34.130 --> 00:13:38.950\nwork with this from a machine that is\nnot gonna currently have the role.\n\n294\n00:13:38.950 --> 00:13:42.420\nSo I can go grab this and\nselect another machine.\n\n295\n00:13:42.420 --> 00:13:45.090\nIf I try, we'll just come over here,\n\n296\n00:13:45.090 --> 00:13:49.380\nIf I come in here as you can see\non the ops master role, right?\n\n297\n00:13:49.380 --> 00:13:50.750\nAnd I try to go in and\n\n298\n00:13:50.750 --> 00:13:55.290\ntransfer it without first changing,\nthe same error's gonna occur that we saw\n\n299\n00:13:55.290 --> 00:13:59.120\non the other three roles where we\ntried where we're connecting to and\n\n300\n00:13:59.120 --> 00:14:03.150\ntrying to transfer from the same machines\nright now and that's not gonna work.\n\n301\n00:14:03.150 --> 00:14:03.680\nWe'll get an error.\n\n302\n00:14:03.680 --> 00:14:06.760\nSo we're gonna go ahead and\nwe're gonna change that first.\n\n303\n00:14:06.760 --> 00:14:11.250\nSo sometimes you have to modify where the\nconsole binds in order to transfer roles.\n\n304\n00:14:11.250 --> 00:14:12.380\nSo it's very simple.\n\n305\n00:14:12.380 --> 00:14:14.580\nChange active retro domain controller.\n\n306\n00:14:14.580 --> 00:14:19.200\nI will go ahead, I will choose one of the\ndomain controllers that is available to me\n\n307\n00:14:19.200 --> 00:14:24.010\nin the list here, I'll chose the PLABDM01\nmachine, the machine that we were on,\n\n308\n00:14:24.010 --> 00:14:27.300\nusing for the other domain level\nFISMO roles that we transferred.\n\n309\n00:14:27.300 --> 00:14:30.810\nSo I'm just going to highlight that one\nin the list, click okay, no big deal.\n\n310\n00:14:30.810 --> 00:14:35.200\nIt says the schema snap it is not\nconnected to the schema ops master.\n\n311\n00:14:35.200 --> 00:14:38.270\nWe will not be able to\nform any changes for that.\n\n312\n00:14:38.270 --> 00:14:41.970\nNo problem, we're not actually looking\nto modify the schema, right now.\n\n313\n00:14:41.970 --> 00:14:43.660\nAll we're looking to do\nis transfer the roles.\n\n314\n00:14:43.660 --> 00:14:46.350\nThat's not a big deal, so that's fine.\n\n315\n00:14:46.350 --> 00:14:48.750\nSo we expect that little prompt,\nno problem.\n\n316\n00:14:48.750 --> 00:14:52.380\nCome in here, let's go to Ops Master.\n\n317\n00:14:52.380 --> 00:14:53.820\nAnd by the way, if we wanted to\n\n318\n00:14:55.180 --> 00:14:57.750\nshow you here real quick not that we're\ntalking about schema editing right now.\n\n319\n00:14:57.750 --> 00:15:00.490\nBut just since we're here,\nlittle value add for you.\n\n320\n00:15:00.490 --> 00:15:02.010\nSince we happen to be in the menu.\n\n321\n00:15:02.010 --> 00:15:03.910\nIf we did want to address that pop up.\n\n322\n00:15:03.910 --> 00:15:05.130\nWe just got about hey.\n\n323\n00:15:05.130 --> 00:15:07.080\nWe're not actually\nconnected to the schema.\n\n324\n00:15:07.080 --> 00:15:10.360\nOPS master, and we're not\nactually able to edit the schema.\n\n325\n00:15:10.360 --> 00:15:12.960\nIf wanted to address that little popup,\nand\n\n326\n00:15:12.960 --> 00:15:15.870\nactually make a change here,\nwould not be hard to do.\n\n327\n00:15:15.870 --> 00:15:16.950\nJust choose this option,\n\n328\n00:15:16.950 --> 00:15:20.500\nconnect to the schema ops master,\ngo back to the OPS master directly,\n\n329\n00:15:20.500 --> 00:15:23.880\nand then we could actually use this\nconsole to look at and edit Schema.\n\n330\n00:15:23.880 --> 00:15:25.070\nWe're not gonna do that but just so\n\n331\n00:15:25.070 --> 00:15:27.270\nyou know how we would\naddress that if you chose to.\n\n332\n00:15:27.270 --> 00:15:31.280\nLet's go back here to Ops Master,\nyou'll see the current holder of the role,\n\n333\n00:15:31.280 --> 00:15:35.350\nwhere you want to transfer to, looks just\nlike we saw on the domain side, right?\n\n334\n00:15:35.350 --> 00:15:38.760\nNo difference there, we're gonna be\nable to do that we're change that and\n\n335\n00:15:38.760 --> 00:15:41.010\nwe're gonna go ahead and\nwe're gonna click Yes.\n\n336\n00:15:41.010 --> 00:15:45.488\nSo let me click Change, and we're gonna\nclick Yes, you saw me do this already.\n\n337\n00:15:45.488 --> 00:15:48.300\nAnd then great, successfully transferred.\n\n338\n00:15:48.300 --> 00:15:50.190\nLittle bit different than\nthe other dialog boxes.\n\n339\n00:15:50.190 --> 00:15:51.618\nOne has that kinda yellow caution flag.\n\n340\n00:15:51.618 --> 00:15:53.007\nIt may make us stop for a second.\n\n341\n00:15:53.007 --> 00:15:54.410\nWait.\nWhat happened?\n\n342\n00:15:54.410 --> 00:15:56.551\nWhere the other one was the blue\ndialog box with the white.\n\n343\n00:15:56.551 --> 00:15:58.410\nIt kind of Had a different look and feel.\n\n344\n00:15:58.410 --> 00:16:01.796\nSo just pay attention that no\nsignificance one way or the other.\n\n345\n00:16:01.796 --> 00:16:04.484\nI just think the other dialogue box\nguy was out that day when they made\n\n346\n00:16:04.484 --> 00:16:05.246\nthe dialogue box.\n\n347\n00:16:05.246 --> 00:16:05.823\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n348\n00:16:05.823 --> 00:16:09.083\nthe guy who does the yellow triangles and\nsaid I can do that, and so\n\n349\n00:16:09.083 --> 00:16:10.994\nhe's the one who got to draw that box.\n\n350\n00:16:10.994 --> 00:16:14.486\nAll right, so Pladmz01 is now\nthe record are the holder of record.\n\n351\n00:16:14.486 --> 00:16:17.068\nWe transferred this role as well for\nthe schema master.\n\n352\n00:16:17.068 --> 00:16:20.834\nSo we've done four out of five,\nas you can see, right.\n\n353\n00:16:20.834 --> 00:16:23.264\nSo we're gonna minimize this.\n\n354\n00:16:23.264 --> 00:16:25.215\nI have one more role left to do.\n\n355\n00:16:25.215 --> 00:16:26.687\nYou know which role is left?\n\n356\n00:16:26.687 --> 00:16:28.472\nDo you remember what the last role is?\n\n357\n00:16:28.472 --> 00:16:29.472\n&gt;&gt; Infrastructure.\n\n358\n00:16:29.472 --> 00:16:30.233\n&gt;&gt; No.\n\n359\n00:16:30.233 --> 00:16:31.191\n&gt;&gt; Okay, ehh.\n\n360\n00:16:31.191 --> 00:16:32.144\n[LAUGH]\n&gt;&gt; Is it infrastructure?\n\n361\n00:16:32.144 --> 00:16:33.768\nWell, let's take a look.\n\n362\n00:16:33.768 --> 00:16:35.152\nIt actually is.\n\n363\n00:16:35.152 --> 00:16:36.999\nAll right, so domains and trusts, right.\n\n364\n00:16:36.999 --> 00:16:38.273\nDomains and trusts.\n\n365\n00:16:38.273 --> 00:16:41.576\nSo yet another tool we opened up\nfrom the server manager, all right.\n\n366\n00:16:41.576 --> 00:16:42.416\nSo we're gonna come in here.\n\n367\n00:16:42.416 --> 00:16:46.686\nAnd again, you'll see here ops master,\nright, we've done this before.\n\n368\n00:16:46.686 --> 00:16:50.773\nYou'll see that we have the domain name\nmaster or domain naming master cuz we did\n\n369\n00:16:50.773 --> 00:16:54.805\nthe infrastructure master, right,\nthat was a domain level if you remember.\n\n370\n00:16:54.805 --> 00:16:55.421\n&gt;&gt; Yes, yes.\n\n371\n00:16:55.421 --> 00:16:55.998\n&gt;&gt; It's just the farest level.\n\n372\n00:16:57.044 --> 00:16:58.301\n&gt;&gt; Okay.\n\n373\n00:16:58.301 --> 00:17:00.229\n&gt;&gt; Yeah, you have no clue where we are but\nthat's okay.\n\n374\n00:17:00.229 --> 00:17:02.265\n&gt;&gt; [LAUGH]\n&gt;&gt; We're doing the farest level,\n\n375\n00:17:02.265 --> 00:17:02.773\nno problem.\n\n376\n00:17:02.773 --> 00:17:03.653\n&gt;&gt; I just can't remember.\n\n377\n00:17:03.653 --> 00:17:04.477\n&gt;&gt; That's all right.\n\n378\n00:17:04.477 --> 00:17:05.445\nNow we're doing the fifth rules.\n\n379\n00:17:05.445 --> 00:17:08.431\nI'm just showing you how to transfer the\nlast of the rules then we'll take a look\n\n380\n00:17:08.431 --> 00:17:08.931\nat see some.\n\n381\n00:17:08.931 --> 00:17:09.523\n&gt;&gt; Okay.\n\n382\n00:17:09.523 --> 00:17:11.891\n&gt;&gt; So remember we've done the same\nthing here already, same issue, right.\n\n383\n00:17:11.891 --> 00:17:12.554\nSee we're managing and\n\n384\n00:17:12.554 --> 00:17:14.952\nconnected from the same machine right now,\nyou know the drill at this point, right?\n\n385\n00:17:14.952 --> 00:17:15.807\n[CROSSTALK]\n&gt;&gt; Yes.\n\n386\n00:17:15.807 --> 00:17:19.576\n&gt;&gt; We have to go in and change that first\nbefore we do anything else, no big deal.\n\n387\n00:17:19.576 --> 00:17:22.575\nWe'll come in here and\nchange active directory domain controller.\n\n388\n00:17:22.575 --> 00:17:25.167\nWe'll switch it over to our DM 01 machine,\nright.\n\n389\n00:17:25.167 --> 00:17:27.383\n&gt;&gt; I'll probably have a little check\nlist doing this in real life so\n\n390\n00:17:27.383 --> 00:17:29.740\nthat I'd keep myself straight here,\nso I don't- [LAUGH] [CROSSTALK]\n\n391\n00:17:29.740 --> 00:17:30.965\n&gt;&gt; You would just call me and say,\n\n392\n00:17:30.965 --> 00:17:32.292\nhey can you come over and help me.\n\n393\n00:17:32.292 --> 00:17:34.956\nYou'd buy me an espresso and\nwe would knock it out in two minutes,\n\n394\n00:17:34.956 --> 00:17:35.737\nit's no big deal.\n\n395\n00:17:35.737 --> 00:17:39.813\nAll right, so\nplabdc01 is the current record holder, or\n\n396\n00:17:39.813 --> 00:17:42.188\nholder of record of the role here.\n\n397\n00:17:42.188 --> 00:17:44.967\nWe're gonna transfer over to dm01,\nyou know how this goes.\n\n398\n00:17:44.967 --> 00:17:47.402\nClick Change, are you sure, yes I am.\n\n399\n00:17:47.402 --> 00:17:49.101\nThere we go, see, that's the one, right.\n\n400\n00:17:49.101 --> 00:17:51.853\nOur normal interface guy\nis back on the job here.\n\n401\n00:17:51.853 --> 00:17:54.016\n&gt;&gt; [LAUGH]\n&gt;&gt; We've got our blue circle, white eye.\n\n402\n00:17:54.016 --> 00:17:57.184\nIt's so rare, because one of them\nwill have the yellow triangle, and\n\n403\n00:17:57.184 --> 00:18:00.475\nthen it's like that's a caution thing,\nlike something bad happened?\n\n404\n00:18:00.475 --> 00:18:02.611\nNo, we just forgot to put\nthe right interface in and\n\n405\n00:18:02.611 --> 00:18:03.812\nwe just put the default one.\n\n406\n00:18:03.812 --> 00:18:07.758\n&gt;&gt; And sometimes whenever you're\nexpanding out different areas,\n\n407\n00:18:07.758 --> 00:18:11.140\nI know if certain roles or\nservices aren't available.\n\n408\n00:18:11.140 --> 00:18:15.000\nSometimes you'll go to click the little\ncarrot and nothing will be there, but\n\n409\n00:18:15.000 --> 00:18:18.696\nsometimes it's not actually components\nthat you have to add anything to.\n\n410\n00:18:18.696 --> 00:18:21.446\nIt's just like,\nwhoever was designing that interface,\n\n411\n00:18:21.446 --> 00:18:24.545\nthey had like kind of OCD, and\nthey wanted it all to look the same.\n\n412\n00:18:24.545 --> 00:18:27.305\nSo they put a carrot there regardless\nif there was any kind of anything\n\n413\n00:18:27.305 --> 00:18:29.456\nunderneath there,\nanything that's subordinate.\n\n414\n00:18:29.456 --> 00:18:31.992\n&gt;&gt; Yes, it's, you know look,\nit's important to have the dialogue box.\n\n415\n00:18:31.992 --> 00:18:33.385\n&gt;&gt; [LAUGH]\n&gt;&gt; Don't get me wrong,\n\n416\n00:18:33.385 --> 00:18:37.165\nthe people that do it are unsung heroes\nbecause they give us information that's so\n\n417\n00:18:37.165 --> 00:18:39.600\nvaluable and\ngive us feedback that we need, right?\n\n418\n00:18:39.600 --> 00:18:42.105\nSo we wanna thank everybody\nwho works on those interfaces.\n\n419\n00:18:42.105 --> 00:18:43.288\n&gt;&gt; Yes.\n&gt;&gt; Cuz I'm sure they don't get\n\n420\n00:18:43.288 --> 00:18:43.976\nthe thanks they deserve.\n\n421\n00:18:43.976 --> 00:18:44.888\n&gt;&gt; Some recognition.\n\n422\n00:18:44.888 --> 00:18:48.272\n[LAUGH] [CROSSTALK]\n&gt;&gt; It would just be nice if you guys all\n\n423\n00:18:48.272 --> 00:18:49.437\ngot together and agreed every so\n\n424\n00:18:49.437 --> 00:18:52.562\noften on exactly what things really look\nlike cuz all we're suggesting, all right.\n\n425\n00:18:52.562 --> 00:18:55.513\nSo the ops master role was\nsuccessfully transferred here as well,\n\n426\n00:18:55.513 --> 00:18:57.418\nyou can see that, we're gonna close out.\n\n427\n00:18:57.418 --> 00:19:01.384\nSo now just to be clear on where we are,\nwe have transferred all five roles.\n\n428\n00:19:01.384 --> 00:19:03.931\nThat was kinda part one of what we wanted\nto make sure we got a chance to do.\n\n429\n00:19:03.931 --> 00:19:07.280\nNow, we're gonna go ahead and\nwe're gonna perform a little magic.\n\n430\n00:19:07.280 --> 00:19:08.828\nHere I'm just cleaning up, really quickly.\n\n431\n00:19:08.828 --> 00:19:13.557\nYou see me opening and closing things\nbecause we are about to shut down this\n\n432\n00:19:13.557 --> 00:19:17.209\nmachine, this domain controller that has-\n&gt;&gt; So Adam.\n\n433\n00:19:17.209 --> 00:19:20.723\n&gt;&gt; Taken all these roles and\nmoved it over to itself.\n\n434\n00:19:20.723 --> 00:19:24.647\nAnd guess what, while I'm listening, while\nwe do some of just quickly explain what\n\n435\n00:19:24.647 --> 00:19:27.094\nwe're gonna do as you're talking or\nabout to talk.\n\n436\n00:19:27.094 --> 00:19:30.567\nSo I'm gonna this shut this machine down,\nand then as soon as I do that I'm\n\n437\n00:19:30.567 --> 00:19:33.553\ngonna double-check it's shut\ndown to make sure it really is.\n\n438\n00:19:33.553 --> 00:19:37.784\nBut once it is shut down, we're gonna\nflip over to the plabdc01 machine\n\n439\n00:19:37.784 --> 00:19:41.890\nthat we've been taking all of those\nroles and transferring away from.\n\n440\n00:19:41.890 --> 00:19:45.190\nAnd we're gonna open up a tool, it's\nalready sitting in the command prompt,\n\n441\n00:19:45.190 --> 00:19:47.196\njust go ahead and\nlaunch it, called ntdsutil.\n\n442\n00:19:47.196 --> 00:19:52.024\nAnd we're gonna use that tool to perform\npart two of this conversation's goal,\n\n443\n00:19:52.024 --> 00:19:53.448\nwhich is to seize role.\n\n444\n00:19:53.448 --> 00:19:57.021\nAnd remember we could transfer role when\nthe systems are online as you've seen and\n\n445\n00:19:57.021 --> 00:19:58.018\nheard about, right.\n\n446\n00:19:58.018 --> 00:20:03.025\nAnd we can do that when we are aware\nahead of time that there maybe a concern.\n\n447\n00:20:03.025 --> 00:20:05.357\nMaybe we're gonna shut a machine\ndown to do some maintenance,\n\n448\n00:20:05.357 --> 00:20:06.854\nsomething like that we would transfer.\n\n449\n00:20:06.854 --> 00:20:08.649\n&gt;&gt; [LAUGH]\n&gt;&gt; But when are we gonna be seizing,\n\n450\n00:20:08.649 --> 00:20:09.255\nwhat's gonna be the goal?\n\n451\n00:20:09.255 --> 00:20:10.664\n&gt;&gt; Well that's what I\nwas going to ask you.\n\n452\n00:20:10.664 --> 00:20:14.488\nSo looking at transferring,\nat the beginning of the show you said,\n\n453\n00:20:14.488 --> 00:20:16.702\nI don't remember your exact word, but\n\n454\n00:20:16.702 --> 00:20:20.690\nyou said it was like kind of\ninvasive to go ahead and seize.\n\n455\n00:20:20.690 --> 00:20:24.485\nWhereas with transfer, you just mentioned,\nhey we're gonna plan for this, and\n\n456\n00:20:24.485 --> 00:20:25.758\nhave a graceful shutdown.\n\n457\n00:20:25.758 --> 00:20:31.125\nSo what will be the big obvious difference\nhere between transferring and seizing?\n\n458\n00:20:31.125 --> 00:20:36.945\nObviously seizing seems like something\nthat will happen impromptu situation.\n\n459\n00:20:36.945 --> 00:20:41.917\n&gt;&gt; Well it may or may not be totally\nimpromptu but ultimately yes.\n\n460\n00:20:41.917 --> 00:20:45.644\nThe goal will be here that\ntransferences a solution we apply when\n\n461\n00:20:45.644 --> 00:20:49.241\nboth parties are online,\ncapable of talking to one another.\n\n462\n00:20:49.241 --> 00:20:52.390\nSo typically we want to go into\na maintenance cycle, right.\n\n463\n00:20:52.390 --> 00:20:55.968\nAnd maybe take down that machine for\na period of time.\n\n464\n00:20:55.968 --> 00:20:59.548\nThere are reasons why this may occur and\nwe want that role to be available,\n\n465\n00:20:59.548 --> 00:21:01.533\nperhaps while that machine is offline.\n\n466\n00:21:01.533 --> 00:21:05.492\nSo transference just lets us bounce the\nrole back and forth between parties that\n\n467\n00:21:05.492 --> 00:21:09.706\nare online, communicating and agree,\nessentially that's a good idea to do that.\n\n468\n00:21:09.706 --> 00:21:12.208\nWhen we go in and seize the role,\n\n469\n00:21:12.208 --> 00:21:17.214\nwe have to do that because the current\nrecord holder of the role,\n\n470\n00:21:17.214 --> 00:21:22.240\nin our case let's say plaid dc01\nwas holding all those roles.\n\n471\n00:21:22.240 --> 00:21:27.082\nIf plaid dc01 had failed or turned off or\ngone offline unexpectedly without us\n\n472\n00:21:27.082 --> 00:21:31.868\nplanning, without us knowing, without\nus thinking through the logic of it.\n\n473\n00:21:31.868 --> 00:21:37.048\nAnd as a result we had to then gain access\nto that role and keep it available.\n\n474\n00:21:37.048 --> 00:21:40.792\nWe have to go a little bit more violently,\nmake arrangements to get that.\n\n475\n00:21:40.792 --> 00:21:43.302\n&gt;&gt; Violently, that was a- [LAUGH]\n&gt;&gt; Seizing the role is a more violent\n\n476\n00:21:43.302 --> 00:21:47.625\naction because it does not imply that both\nparties are available can give consent.\n\n477\n00:21:47.625 --> 00:21:50.936\nAnd as a result will have an ability\nto do this nicely, right.\n\n478\n00:21:50.936 --> 00:21:53.884\nWhen you and I transfer the pen,\nand I said hey, can I borrow that,\n\n479\n00:21:53.884 --> 00:21:57.204\nyou said absolutely, instead I would\nwalk over, push you out of the way and\n\n480\n00:21:57.204 --> 00:21:58.593\ngrab the pen from you, right.\n\n481\n00:21:58.593 --> 00:22:00.209\nAnd kick you while you're down, just to\nmake sure that you're not getting up.\n\n482\n00:22:00.209 --> 00:22:01.625\n&gt;&gt; [LAUGH] Wow.\n\n483\n00:22:01.625 --> 00:22:03.493\n&gt;&gt; Then I would come back and\nI would use the pen.\n\n484\n00:22:03.493 --> 00:22:05.953\nThat would be the equivalent\nof seizing the role, right.\n\n485\n00:22:05.953 --> 00:22:06.489\n&gt;&gt; Okay.\n\n486\n00:22:06.489 --> 00:22:09.062\n&gt;&gt; One to make control or\nkicking another when it's offline.\n\n487\n00:22:09.062 --> 00:22:13.170\nSo the problem there, of course is that we\nhave a failure, usually unaccounted for.\n\n488\n00:22:13.170 --> 00:22:15.040\nEvery so\noften look a system can fail, right.\n\n489\n00:22:15.040 --> 00:22:17.355\nI mean that's just the kind\nof stuff that does happen.\n\n490\n00:22:17.355 --> 00:22:21.740\nWe may or may not be aware of\nthe fact that that is going to occur.\n\n491\n00:22:21.740 --> 00:22:25.289\nAnd of course when it does\nbad things will result.\n\n492\n00:22:25.289 --> 00:22:29.028\nWe talked in our prior episode about\nthe physma roles in more detail.\n\n493\n00:22:29.028 --> 00:22:32.384\nAnd reminded you about the fact that\nwe could survive with these roles not\n\n494\n00:22:32.384 --> 00:22:34.421\nnecessarily being online and available for\n\n495\n00:22:34.421 --> 00:22:37.739\na period of time depending on what\nthe rules are, what they do, right?\n\n496\n00:22:37.739 --> 00:22:42.710\nIn other words, something at the farest\nlevel, like the schema master role.\n\n497\n00:22:42.710 --> 00:22:46.205\nWhile it's important to have\naccess to it over all, over time.\n\n498\n00:22:46.205 --> 00:22:49.315\nIf we're not modifying the schema for\na day to a month or\n\n499\n00:22:49.315 --> 00:22:52.156\nwhatever, we're not doing\nsomething the schema\n\n500\n00:22:52.156 --> 00:22:56.558\nmaster role is implied as functionality\nthat we have to have available to do.\n\n501\n00:22:56.558 --> 00:22:58.629\nWe're not gonna miss the schema master\nroles not being there because we're\n\n502\n00:22:58.629 --> 00:22:59.153\njust not using it.\n\n503\n00:22:59.153 --> 00:23:01.009\n[CROSSTALK]\n&gt;&gt; Right.\n\n504\n00:23:01.009 --> 00:23:03.418\n&gt;&gt; So\nas a result that's one of those things.\n\n505\n00:23:03.418 --> 00:23:07.237\nWe may very quickly, and\nno doubt about it almost immediately,\n\n506\n00:23:07.237 --> 00:23:09.368\nwe'll miss the PDC emulator role.\n\n507\n00:23:09.368 --> 00:23:13.498\nBecause it is involved with all\nthe security-related aspects of object\n\n508\n00:23:13.498 --> 00:23:14.318\nmanagement.\n\n509\n00:23:14.318 --> 00:23:18.144\nPassword app, management if we\ndeactivate an account, create an object,\n\n510\n00:23:18.144 --> 00:23:19.112\nthings like that.\n\n511\n00:23:19.112 --> 00:23:20.991\nPDC emulator is very important for that.\n\n512\n00:23:20.991 --> 00:23:24.837\nThe domain naming master are may not be as\nimportant cuz it may not be creating brand\n\n513\n00:23:24.837 --> 00:23:26.412\nnew domains for periods of time.\n\n514\n00:23:26.412 --> 00:23:31.260\nBut the RID master is very important,\nbecause the RID master is what gives us\n\n515\n00:23:31.260 --> 00:23:35.519\nthe object IDs that are able to,\nor enabling us to create objects.\n\n516\n00:23:35.519 --> 00:23:38.862\nAnd while we might not be creating them\nvery often, at some point we're gonna run\n\n517\n00:23:38.862 --> 00:23:42.375\nout of RIDs that have already been issued\nin the block that's currently being used.\n\n518\n00:23:42.375 --> 00:23:45.698\nAnd we have to go back to the RID\nmaster to get more by domain.\n\n519\n00:23:45.698 --> 00:23:47.366\nAnd if we don't have that- [CROSSTALK]\n&gt;&gt; If RID Master\n\n520\n00:23:47.366 --> 00:23:48.363\nis not available, then what?\n\n521\n00:23:48.363 --> 00:23:49.868\n&gt;&gt; Then we're not gonna be\nable to create an object.\n\n522\n00:23:49.868 --> 00:23:53.419\nWe right click new in the domain\ncontroller that may be online and\n\n523\n00:23:53.419 --> 00:23:57.367\navailable, although it's probably\nas we've said not the emulator or\n\n524\n00:23:57.367 --> 00:23:59.300\nRID Master in our scenario.\n\n525\n00:23:59.300 --> 00:24:01.762\nAnd we go to click New, right,\nobject, and we get an error.\n\n526\n00:24:01.762 --> 00:24:05.667\nIt says well sorry, you can't do that\nright now, cuz essentially we have no way\n\n527\n00:24:05.667 --> 00:24:08.698\nof confirming we can assign\na unique identity to that object,\n\n528\n00:24:08.698 --> 00:24:10.700\ncuz our RID Master is offline.\n\n529\n00:24:10.700 --> 00:24:12.330\nSo there are definitely\ngonna be issues and\n\n530\n00:24:12.330 --> 00:24:16.590\nconcerns associated with the loss of\nthe role, and so when we have to seize,\n\n531\n00:24:16.590 --> 00:24:19.670\nit's because we have to go back and\nreestablish functionality, but\n\n532\n00:24:19.670 --> 00:24:22.460\nwe can't just politely say,\nwould you mind given that up?\n\n533\n00:24:22.460 --> 00:24:24.377\nCuz nobody's there [CROSSTALK] So\nas a result, yeah,\n\n534\n00:24:24.377 --> 00:24:28.008\nthere's just nobody we're gonna make phone\ncall and nobody picks up the phone, right?\n\n535\n00:24:28.008 --> 00:24:28.670\n&gt;&gt; Phone home.\n\n536\n00:24:28.670 --> 00:24:31.225\n&gt;&gt; You can't phone home-\n&gt;&gt; [LAUGH]\n\n537\n00:24:31.225 --> 00:24:32.860\n&gt;&gt; When there's no home to phone home too.\n\n538\n00:24:32.860 --> 00:24:36.510\nSo what we're gonna do instead is\ngo in and essentially take that\n\n539\n00:24:36.510 --> 00:24:41.520\nfunctionality and forcefully reassign\nit to an existing or surviving system.\n\n540\n00:24:41.520 --> 00:24:42.600\nAnd that's what we're gonna do right now.\n\n541\n00:24:42.600 --> 00:24:46.030\nI was double-checking to make sure\nthat our machine has shut off.\n\n542\n00:24:46.030 --> 00:24:48.880\nWe can see the PLABDM01 is indeed off.\n\n543\n00:24:48.880 --> 00:24:51.160\nSo we are hopeful now ready to go.\n\n544\n00:24:51.160 --> 00:24:52.830\nJust to extend our lab\ntime there really quick.\n\n545\n00:24:52.830 --> 00:24:54.426\nAll right, so let's go ahead,\n\n546\n00:24:54.426 --> 00:24:58.110\nlet's get back in to our domain\ncontroller PLABDC01 that you see that.\n\n547\n00:24:58.110 --> 00:25:03.170\n&gt;&gt; This is the new machine that\nwants to bring in that role.\n\n548\n00:25:03.170 --> 00:25:07.040\n&gt;&gt; Well, this will be now remember\nwe started out with all five roles\n\n549\n00:25:07.040 --> 00:25:10.950\non PLABDC01, but over the time\nthat we've just been going through\n\n550\n00:25:10.950 --> 00:25:14.970\nour little explanation, our demonstration\nof transferring, right we have actually\n\n551\n00:25:14.970 --> 00:25:18.980\nmoved every one of those rules off to\nPLABDM01 in the last several minutes.\n\n552\n00:25:18.980 --> 00:25:21.838\nWe just essentially shot PLABDM01\n&gt;&gt; [LAUGH]\n\n553\n00:25:21.838 --> 00:25:23.761\n&gt;&gt; And put it out of it's misery, so\n\n554\n00:25:23.761 --> 00:25:24.792\nit's now gone and\n\n555\n00:25:24.792 --> 00:25:29.751\nso now we are existing in a situation\nwhere we have no FISMA rules available.\n\n556\n00:25:29.751 --> 00:25:30.421\nMy, right?\n\n557\n00:25:30.421 --> 00:25:31.118\n&gt;&gt; [LAUGH]\n&gt;&gt; And so,\n\n558\n00:25:31.118 --> 00:25:33.620\nas a result we now have to\ntake some corrective action.\n\n559\n00:25:33.620 --> 00:25:36.960\nAnd now, based on the parameters\nwhere our little scenario here,\n\n560\n00:25:36.960 --> 00:25:38.690\nour disaster in a box.\n\n561\n00:25:38.690 --> 00:25:43.090\nWe're gonna go ahead, we're actually gonna\nunleash that disaster, so there you go.\n\n562\n00:25:43.090 --> 00:25:47.345\nAnd so now this is,\ndid you ever see Clash of the Titans?\n\n563\n00:25:47.345 --> 00:25:48.500\n&gt;&gt; [LAUGH]\n&gt;&gt; Did you ever see that movie?\n\n564\n00:25:48.500 --> 00:25:50.090\n&gt;&gt; I don't think so.\n&gt;&gt; This would be the point at which\n\n565\n00:25:50.090 --> 00:25:52.410\nLiam Neeson says release the kraken.\n\n566\n00:25:52.410 --> 00:25:53.740\nThat's like that famous line.\n\n567\n00:25:53.740 --> 00:25:54.473\n&gt;&gt; I've heard the quote, but yeah.\n\n568\n00:25:54.473 --> 00:25:55.470\n[LAUGH]\n&gt;&gt; But that's from the new one,\n\n569\n00:25:55.470 --> 00:25:57.835\nthe old well,\nthe original one was not him.\n\n570\n00:25:57.835 --> 00:25:59.095\nBut anyway, so we're gonna go ahead.\n\n571\n00:25:59.095 --> 00:26:00.695\nGo on back to what we were doing please.\n\n572\n00:26:00.695 --> 00:26:03.575\nAnd we're gonna go ahead and\nget this party started, as they say.\n\n573\n00:26:03.575 --> 00:26:06.925\nSo Ntdsutil,\nwe're gonna bring up this command.\n\n574\n00:26:06.925 --> 00:26:09.047\nIt's gonna launch a separate prompt.\n\n575\n00:26:09.047 --> 00:26:12.617\nThe NTDS utility command prompt,\nwe're operating within this.\n\n576\n00:26:12.617 --> 00:26:15.047\nThis is much like using\nNeta said where we get\n\n577\n00:26:15.047 --> 00:26:18.007\ndifferent layers of command\ncapability within the tool.\n\n578\n00:26:18.007 --> 00:26:22.201\nSo Ntdsutil, and\nremember if you're not familiar, right?\n\n579\n00:26:24.746 --> 00:26:27.747\nIf you're not familiar with any\nof the tools that I can type\n\n580\n00:26:27.747 --> 00:26:31.250\na question mark instead of\na forward slash or a back slash.\n\n581\n00:26:31.250 --> 00:26:34.530\nAlways as I show you, I try to make\na point of making sure that we show you\n\n582\n00:26:34.530 --> 00:26:38.075\nhow to access the help files so\nyou can read up on the functionality.\n\n583\n00:26:38.075 --> 00:26:40.295\nYou don't be afraid to\nrequest a little help.\n\n584\n00:26:40.295 --> 00:26:43.775\nIn this case, all I did was just\ntype in the question mark there and\n\n585\n00:26:43.775 --> 00:26:48.085\nyou could see that we're able\nto see the sub menus and\n\n586\n00:26:48.085 --> 00:26:52.792\nsub items that are gonna be available to\nI'm going to start with right up here.\n\n587\n00:26:52.792 --> 00:26:56.682\nActivate instance, we're gonna go in and\nuse the activate instance\n\n588\n00:26:56.682 --> 00:27:01.330\ncommand to set NTDS or a specific\nADLDS instance as the active instance.\n\n589\n00:27:01.330 --> 00:27:05.816\nWe're gonna go, in other words specify\nthis is gonna be our active instance for\n\n590\n00:27:05.816 --> 00:27:06.346\nNTDS.\n\n591\n00:27:06.346 --> 00:27:09.546\nThen we're gonna go to the roles area,\nour roles down here,\n\n592\n00:27:09.546 --> 00:27:12.476\nlet's just scroll down a little bit so\nyou can see what we're doing.\n\n593\n00:27:12.476 --> 00:27:17.106\nAnd we're gonna go here, and we're\ngonna mange the NTDS Role Owner Tokens.\n\n594\n00:27:17.106 --> 00:27:20.716\nSo we're gonna go in and start specifying\nhey, this role, we're gonna list it out,\n\n595\n00:27:20.716 --> 00:27:24.140\nand then we're gonna go in and we're\ngonna start taking ahold of those and,\n\n596\n00:27:24.140 --> 00:27:26.440\npulling them back in, so to speak, right?\n\n597\n00:27:26.440 --> 00:27:29.170\nAll right, so\nwe're in Ntdsutil right here.\n\n598\n00:27:29.170 --> 00:27:35.820\nFirst thing we're gonna do, activate,\ninstance and we're gonna say ntds.\n\n599\n00:27:35.820 --> 00:27:40.350\nSo you'll see now,\nwe have that set to ntds, awesome.\n\n600\n00:27:40.350 --> 00:27:42.090\nWe're now gonna type in roles.\n\n601\n00:27:42.090 --> 00:27:46.410\nNow notice we're at a lower level prompt\nhere, changes to FSMO maintenance.\n\n602\n00:27:46.410 --> 00:27:47.710\nThat's what we want to see.\n\n603\n00:27:47.710 --> 00:27:51.100\nCuz we're gonna go in and\nwe're gonna try to work with our roles.\n\n604\n00:27:51.100 --> 00:27:55.490\nWe have to now type in connections,\nso we're gonna do that.\n\n605\n00:27:55.490 --> 00:27:58.520\nAnd then although it's kinda cut off on\nthe edge there give me half a second,\n\n606\n00:27:58.520 --> 00:28:00.600\nwe could probably there we go,\nperfect alright.\n\n607\n00:28:00.600 --> 00:28:03.780\nSo server connections if we\nstay full screen it doesn't\n\n608\n00:28:03.780 --> 00:28:06.910\nshrink the edge of the console window for\nthis that'll probably be better.\n\n609\n00:28:06.910 --> 00:28:08.773\nAll right, so server connections, right?\n\n610\n00:28:08.773 --> 00:28:11.940\nAnd so now we're going to specify\nwhat server we want to connect to.\n\n611\n00:28:11.940 --> 00:28:13.370\nIf you think about the logic of this.\n\n612\n00:28:13.370 --> 00:28:18.043\nJust cuz we're running the tool on\nthe domain controller, PLABDC01 domain\n\n613\n00:28:18.043 --> 00:28:22.929\ncontroller PLABDC01, doesn't mean that\nNtdsutil, in this instance, under\n\n614\n00:28:22.929 --> 00:28:27.776\nserver connections is actually connecting\nand binding to that machine to work.\n\n615\n00:28:27.776 --> 00:28:30.240\nWhich means we just launch\nthe console from that machine.\n\n616\n00:28:30.240 --> 00:28:33.191\nWe've got to force it and\nknock on the door and say, hey, make sure\n\n617\n00:28:33.191 --> 00:28:36.885\nyou're connected to this machine because\nthis is the machine we want to target, so\n\n618\n00:28:36.885 --> 00:28:38.338\nwe're gonna do that right now.\n\n619\n00:28:38.338 --> 00:28:40.970\nSo we're gonna connect to the server.\n\n620\n00:28:40.970 --> 00:28:45.110\nSo the reason I don't love Ntdsutil,\nbut I like the tool.\n\n621\n00:28:45.110 --> 00:28:46.357\nLove is such a strong-\n&gt;&gt; [LAUGH]\n\n622\n00:28:46.357 --> 00:28:47.260\n&gt;&gt; Commitment, right?\n\n623\n00:28:47.260 --> 00:28:48.540\nBut I like the tool a lot.\n\n624\n00:28:48.540 --> 00:28:52.405\nIt's fairly intuitive, if you think about\nthe command structure we're typing.\n\n625\n00:28:52.405 --> 00:28:54.320\nYou, hey, I need to connect\nto that server, what do I do?\n\n626\n00:28:54.320 --> 00:28:57.249\nWell, let me type connect to server,\ncuz that's probably what's gonna work,\n\n627\n00:28:57.249 --> 00:28:58.250\nas you can see, all right?\n\n628\n00:28:58.250 --> 00:29:01.716\nIf we go back there, so\nwe can see what we're doing, please?\n\n629\n00:29:01.716 --> 00:29:06.626\nAll right, so plabdc01.practicelabs.com,\nso let's just type in our\n\n630\n00:29:06.626 --> 00:29:11.300\nfullyqQualified domain name,\nmake sure we spell that correctly.\n\n631\n00:29:11.300 --> 00:29:14.130\nConnect to server\nplabdc01.practicelabs.com, boom.\n\n632\n00:29:14.130 --> 00:29:15.007\nAll right, so\n\n633\n00:29:15.007 --> 00:29:19.687\nbinding to connected to credentials of\na locally logged on user being used,\n\n634\n00:29:19.687 --> 00:29:24.750\nwhich is the domain In admin credential\nin this case, so that's fine that's me.\n\n635\n00:29:24.750 --> 00:29:29.305\nAll right, so we've got that and now\nwe're connected so I'm gonna type quick\n\n636\n00:29:29.305 --> 00:29:33.170\nhere not because I wanna get out of\nthe tool, but I just wanna get out\n\n637\n00:29:33.170 --> 00:29:38.029\nof the server connections submenu on the\ngizmo amendment cuz I made my connection.\n\n638\n00:29:38.029 --> 00:29:41.042\nWhen I essentially walk back up\none level in the hierarchy and\n\n639\n00:29:41.042 --> 00:29:44.570\nnow work in the FISMA maintenace\nlevel that's what we gonna do.\n\n640\n00:29:44.570 --> 00:29:47.390\nAnd we're now gonna go in and\nthis is the fun part, right?\n\n641\n00:29:47.390 --> 00:29:51.058\nThis is the part that Cherokee\nhas been waiting for, right?\n\n642\n00:29:51.058 --> 00:29:52.100\nSo pay attention, right?\n\n643\n00:29:52.100 --> 00:29:52.900\n&gt;&gt; The seizing.\n\n644\n00:29:52.900 --> 00:29:55.617\n&gt;&gt; The seizing,\nthe forceful seizing of the role, right?\n\n645\n00:29:55.617 --> 00:29:58.049\n&gt;&gt; [LAUGH] I'm not looking forward\nto this, you're gonna kick me.\n\n646\n00:29:58.049 --> 00:29:58.926\n&gt;&gt; It's like the running of\n\n647\n00:29:58.926 --> 00:29:59.709\nthe bulls except-\n&gt;&gt; [LAUGH]\n\n648\n00:29:59.709 --> 00:30:01.020\n&gt;&gt; It's the forceful seizing of the role.\n\n649\n00:30:01.020 --> 00:30:03.410\nAll right, so\nwere gonna go type in seize now.\n\n650\n00:30:03.410 --> 00:30:04.808\nFor me this is the hardest part for me,\n\n651\n00:30:04.808 --> 00:30:06.884\ncuz I have to make sure I\nspell seize correctly, right?\n\n652\n00:30:06.884 --> 00:30:08.890\n&gt;&gt; [LAUGH]\n&gt;&gt; Gotta make sure I put e before i.\n\n653\n00:30:08.890 --> 00:30:10.270\n&gt;&gt; I know,\nit doesn't fit the i before eagle.\n\n654\n00:30:10.270 --> 00:30:11.190\n&gt;&gt; No, except after c, right?\n\n655\n00:30:11.190 --> 00:30:12.470\nExactly, so I always get it wrong.\n\n656\n00:30:12.470 --> 00:30:15.690\nSo I get the error, I have to go back and\ntype it again, feel horrible.\n\n657\n00:30:15.690 --> 00:30:17.440\nRight, so we want to make\nsure we want to get it right.\n\n658\n00:30:17.440 --> 00:30:19.550\nSo spelled correctly, right?\n\n659\n00:30:19.550 --> 00:30:23.970\nAn infrastructure master let's just say\nwe're gonna do that role first right,\n\n660\n00:30:23.970 --> 00:30:25.400\ndoesn't really matter.\n\n661\n00:30:25.400 --> 00:30:28.246\nAll right, seized infrastructure master,\nso we would type seize and\n\n662\n00:30:28.246 --> 00:30:30.960\nthen the name of the role,\nwhatever the name of the role is.\n\n663\n00:30:30.960 --> 00:30:33.460\nSo we got that we're gonna go ahead,\nhit this now.\n\n664\n00:30:33.460 --> 00:30:36.980\nIt says role seizure confirmation dialog,\nvery important right.\n\n665\n00:30:36.980 --> 00:30:39.450\nWanna make sure we are doing\nthe right thing and\n\n666\n00:30:39.450 --> 00:30:41.920\nthat we're getting what we are expecting.\n\n667\n00:30:41.920 --> 00:30:46.710\nAre you sure you want server you named\nthen, so connect to seize this role with\n\n668\n00:30:46.710 --> 00:30:51.060\nthe value below specifies\nthe information we provided are we sure?\n\n669\n00:30:51.060 --> 00:30:54.340\nYes, attempting safe transfer.\n\n670\n00:30:54.340 --> 00:30:58.570\nNow we'll attempt to try, and\nthe preference in the tools, hey if I can,\n\n671\n00:30:58.570 --> 00:31:04.320\neven if you say seize, if I could\nconnect and somehow transfer the role,\n\n672\n00:31:04.320 --> 00:31:07.530\nI'd rather do that because it's\nnot as disruptive as having the C.\n\n673\n00:31:07.530 --> 00:31:12.120\nSo you will see we attempt a safe transfer\nfirst, and you will see that there.\n\n674\n00:31:12.120 --> 00:31:15.920\nWhen that fails, assuming it fails\nbecause the role is offline,\n\n675\n00:31:15.920 --> 00:31:20.390\nmeaning the system is unavailable,\nwe will then move towards seizing.\n\n676\n00:31:20.390 --> 00:31:23.070\nAnd we will then have the role seize.\n\n677\n00:31:23.070 --> 00:31:26.160\nBut it does take a moment or\ntwo to try to do this.\n\n678\n00:31:26.160 --> 00:31:29.697\nAnd figure out whether it can actually\nconnect or not, it has to run through\n\n679\n00:31:29.697 --> 00:31:33.196\nthe little kind of cycle behind\nthe scenes that it's programmed to do so.\n\n680\n00:31:33.196 --> 00:31:36.540\nLet's just take a look we can\nsee Pladmium01 is off, right?\n\n681\n00:31:36.540 --> 00:31:38.340\nJust showing you that while we're waiting.\n\n682\n00:31:38.340 --> 00:31:41.331\nSo, we will wait for that,\nbut once that finishes up,\n\n683\n00:31:41.331 --> 00:31:44.727\nwe will then be presented with,\nessentially, the outcome.\n\n684\n00:31:44.727 --> 00:31:46.836\nGotta bunch of yellow text in\nthere that will start popping up.\n\n685\n00:31:46.836 --> 00:31:51.789\nShows us what's happening, but eventually,\nonce that does all run its course, we\n\n686\n00:31:51.789 --> 00:31:56.907\nwill then become the owner of record on,\nthis case, the infrastructure master role.\n\n687\n00:31:56.907 --> 00:32:00.738\nAnd we would just walk through,\nseize the other roles one at a time,\n\n688\n00:32:00.738 --> 00:32:03.966\nPDC Domain naming,\nwe kind of walked through the logic,\n\n689\n00:32:03.966 --> 00:32:07.090\nright, and\nthis is how we would ultimately do it.\n\n690\n00:32:07.090 --> 00:32:10.980\nAnd then once it is done, we would then be\nable to see the evidence of these rules\n\n691\n00:32:10.980 --> 00:32:14.510\nhere, because we'd be able to go\ninto the management interface,\n\n692\n00:32:14.510 --> 00:32:16.420\nor whatever the tool is that we had used.\n\n693\n00:32:16.420 --> 00:32:19.400\nThere we go, we kinda start\nseeing the text showing up there.\n\n694\n00:32:19.400 --> 00:32:24.260\nSo you could see, we have,\nlet's just go back up here.\n\n695\n00:32:24.260 --> 00:32:29.190\nThere, so attempting to do safe transfer\nldap modifier SW error unavailable,\n\n696\n00:32:29.190 --> 00:32:30.410\nthat's what we were waiting on.\n\n697\n00:32:30.410 --> 00:32:33.170\nThere's a timeout value associated with so\nyou just have to wait.\n\n698\n00:32:33.170 --> 00:32:34.100\nIt does like two or\n\n699\n00:32:34.100 --> 00:32:38.319\nthree minutes trying to find the role as\nit goes through looks up the SRV records,\n\n700\n00:32:38.319 --> 00:32:42.160\ntries to resolve and find that\ninstance doesn't know where it is.\n\n701\n00:32:42.160 --> 00:32:44.810\nWaits, times out when\nthe response doesn't come back.\n\n702\n00:32:44.810 --> 00:32:48.110\nThen, once we get that, you'll see we\nget kind of some additional stuff,\n\n703\n00:32:48.110 --> 00:32:50.380\nessentially saying, hey,\nit's unavailable, right.\n\n704\n00:32:50.380 --> 00:32:54.072\nWe tried to do this, the current\nfeasible holder could not be contacted.\n\n705\n00:32:54.072 --> 00:32:57.021\nAnd then, at that point,\n[COUGH] we go ahead and\n\n706\n00:32:57.021 --> 00:33:00.210\nwe start to actually try\nto proceed with seizure.\n\n707\n00:33:00.210 --> 00:33:02.060\nSo you can kinda see right here,\n\n708\n00:33:02.060 --> 00:33:07.490\njust highlight proceeding with the seizure\nfunction or the seizure operation.\n\n709\n00:33:07.490 --> 00:33:10.452\nAnd then it goes through and it starts\ndoing that, so it's done all that.\n\n710\n00:33:10.452 --> 00:33:13.012\nWe expect to get back to a command prompt,\nand indeed we do.\n\n711\n00:33:13.012 --> 00:33:16.160\nAnd that shows that we\nwere indeed successful.\n\n712\n00:33:16.160 --> 00:33:21.179\nAnd so then having\nthe infrastructure master role Cs or\n\n713\n00:33:21.179 --> 00:33:26.536\nany of those role Cs,\nwhat we could do is just come in here.\n\n714\n00:33:26.536 --> 00:33:30.327\nLet's go to Active Directory Users and\nComputers, all right?\n\n715\n00:33:30.327 --> 00:33:34.273\nLet's come over here like we did on\nthe other machine a few minutes back.\n\n716\n00:33:34.273 --> 00:33:37.975\nLet's come over here,\nlet's go to the Ops Master Area, and\n\n717\n00:33:37.975 --> 00:33:39.724\nlet's just see what we see.\n\n718\n00:33:39.724 --> 00:33:43.559\nNow remember, two have the three\nrules haven't been seized yet, but\n\n719\n00:33:43.559 --> 00:33:45.650\nwe did seize one of the three rules.\n\n720\n00:33:45.650 --> 00:33:46.785\nSo what we're gonna see,\n\n721\n00:33:46.785 --> 00:33:49.724\nis that we may very well get an error\ntrying to bring this console up,\n\n722\n00:33:49.724 --> 00:33:52.939\nbecause right now, we can't determine\nthe holder of two of those roles.\n\n723\n00:33:52.939 --> 00:33:56.109\nBut if it does, just let us come up, just\nso we could see the tab, we would at least\n\n724\n00:33:56.109 --> 00:33:58.600\nsee that the Infrastructure Master\nrole has been registered.\n\n725\n00:33:58.600 --> 00:34:02.170\nSo we may or may not get that to come up,\nit's gonna time out at some point.\n\n726\n00:34:02.170 --> 00:34:04.250\nIf it doesn't have the ability to resolve,\nand\n\n727\n00:34:04.250 --> 00:34:06.860\nit may not with two of the three\nroles in a pending state.\n\n728\n00:34:06.860 --> 00:34:07.640\nBut you get the idea,\n\n729\n00:34:07.640 --> 00:34:10.770\nI was just gonna try to show you\nhow we would actually verify that.\n\n730\n00:34:10.770 --> 00:34:15.320\nBut we would go in now and we would,\ninstead of seize infrastructure master,\n\n731\n00:34:15.320 --> 00:34:18.480\nif we were walking through the logic\nof the domain roles, right?\n\n732\n00:34:18.480 --> 00:34:23.290\nSeize pdc, so we would do that one for\nPDC Emulator.\n\n733\n00:34:23.290 --> 00:34:25.980\nClick Yes, again,\nkind of let it do it's thing.\n\n734\n00:34:25.980 --> 00:34:29.360\nAttempting safe transfer, it's gonna\ndo that before it does anything else.\n\n735\n00:34:29.360 --> 00:34:32.310\nYou're gonna walk through\nessentially the same kind of steps.\n\n736\n00:34:32.310 --> 00:34:35.450\nAnd then eventually, we can go and\nseize the read master next.\n\n737\n00:34:35.450 --> 00:34:37.830\nYou could think about the logical\nwalking through these, and\n\n738\n00:34:37.830 --> 00:34:40.280\nthen go on to the farthest level ones and\nseize those.\n\n739\n00:34:40.280 --> 00:34:41.650\nBut once we get those up and\n\n740\n00:34:41.650 --> 00:34:44.700\nrunning, the management interfaces will\nthen be available to us and we could\n\n741\n00:34:44.700 --> 00:34:49.220\nsee the rolls have indeed been reset and\nare now on the appropriate machine.\n\n742\n00:34:49.220 --> 00:34:51.110\nAs I said, it just may be that,\nin this case,\n\n743\n00:34:51.110 --> 00:34:54.060\nyou'll probably get a timeout on bringing\nup that management interface until\n\n744\n00:34:54.060 --> 00:34:57.920\nall three roles are reinstantiated and\nformally identified.\n\n745\n00:34:57.920 --> 00:35:01.110\nAnd the Active Directory is being held\nby an available domain control, so\n\n746\n00:35:01.110 --> 00:35:03.650\nthat will usually lead to a timeout error.\n\n747\n00:35:03.650 --> 00:35:04.629\nAll right, you see that error?\n\n748\n00:35:04.629 --> 00:35:06.290\nThat's what I was suggest\nyou wouldn't see.\n\n749\n00:35:06.290 --> 00:35:10.490\nBut for infrastructure, you see that one\nis available, because I did seize it.\n\n750\n00:35:10.490 --> 00:35:12.823\nSo it does come up,\nit's just a matter of waiting for\n\n751\n00:35:12.823 --> 00:35:15.593\nthe console to kinda timeout and\nsay, I can't show you.\n\n752\n00:35:15.593 --> 00:35:18.238\nBut usually it just comes up with the word\nerror, and it does show it to you, so\n\n753\n00:35:18.238 --> 00:35:19.950\nit's usually not a big deal.\n\n754\n00:35:19.950 --> 00:35:23.720\nSo that's how we actually go in,\nhow we seize and/or transfer,\n\n755\n00:35:23.720 --> 00:35:26.420\nwe've kinda taken a look at both, and\nwhat the outcome of that would be.\n\n756\n00:35:26.420 --> 00:35:29.220\nReally important to understand\nthe difference between the two in terms of\n\n757\n00:35:29.220 --> 00:35:30.110\nhow we do it.\n\n758\n00:35:30.110 --> 00:35:34.090\nYou saw that we can do the transfer\npart from the graphical interfaces.\n\n759\n00:35:34.090 --> 00:35:36.905\nBut we could also, as you saw,\ndo it from into the Ntdsutil.\n\n760\n00:35:36.905 --> 00:35:38.425\nSo we wouldn't have to go tool to tool,\n\n761\n00:35:38.425 --> 00:35:41.785\nwe could actually just do it all right\nfrom the command prompt, if we choose to.\n\n762\n00:35:41.785 --> 00:35:46.777\nBut seizure can only be done from inside\nthe command prompt, either into Ntdsutil,\n\n763\n00:35:46.777 --> 00:35:49.324\nand as I suggested, and/or PowerShell.\n\n764\n00:35:49.324 --> 00:35:52.628\nBut there's no way to seize a role\nusing the graphical interface tools,\n\n765\n00:35:52.628 --> 00:35:54.535\nbecause that's only for transferring.\n\n766\n00:35:54.535 --> 00:35:56.765\nSo just wanted to make sure we're\ncomfortable with the difference between\n\n767\n00:35:56.765 --> 00:35:59.540\nthe two, and how those commands or\nhow those options work.\n\n768\n00:35:59.540 --> 00:36:00.440\n&gt;&gt; All right, well, thank you.\n\n769\n00:36:00.440 --> 00:36:01.560\nI made it out alive.\n\n770\n00:36:01.560 --> 00:36:03.160\nI'm not bloody and bruised over here.\n\n771\n00:36:03.160 --> 00:36:04.970\n[LAUGH]\n&gt;&gt; I never left my side of the table.\n\n772\n00:36:04.970 --> 00:36:06.800\nI want it clear, it's on tape.\n\n773\n00:36:06.800 --> 00:36:10.470\nYou could see, I never ever moved away and\nmoved towards Cherokee.\n\n774\n00:36:10.470 --> 00:36:13.680\nIf she shows up with bruises in the next\nepisode, it's because she was clumsy,\n\n775\n00:36:13.680 --> 00:36:15.440\nnot because I had anything to do with it,\nall right.\n\n776\n00:36:15.440 --> 00:36:17.760\nBut we were able to show how to do both.\n\n777\n00:36:17.760 --> 00:36:20.586\nAnd it is really kind of cool, one of\nthose things that administrators don't\n\n778\n00:36:20.586 --> 00:36:22.333\noften get a chance to see,\nyou may seize roles.\n\n779\n00:36:22.333 --> 00:36:23.431\n&gt;&gt; Yeah, it doesn't happen every day.\n\n780\n00:36:23.431 --> 00:36:25.679\n&gt;&gt; Right, you may have to seize a role,\nbut I mean, let's be honest,\n\n781\n00:36:25.679 --> 00:36:27.460\nthink about how often\nyou may have done this.\n\n782\n00:36:27.460 --> 00:36:30.109\nMaybe once, right,\nmaybe twice, maybe not at all.\n\n783\n00:36:30.109 --> 00:36:33.941\nMany of the students I've talked to, many\nof my customers have never seen this, or\n\n784\n00:36:33.941 --> 00:36:35.476\nactually done this themselves,\n\n785\n00:36:35.476 --> 00:36:38.619\nand need help or a little bit of\nguidance to get it done the right way.\n\n786\n00:36:38.619 --> 00:36:41.414\nAnd now you've seen although it's\na little involved just as you suggested,\n\n787\n00:36:41.414 --> 00:36:42.962\nI think it's a great suggestion you made.\n\n788\n00:36:42.962 --> 00:36:46.397\nHey, maybe I need a checklist to kind of\njust keep track of what we're doing where\n\n789\n00:36:46.397 --> 00:36:47.570\nand that's not a bad idea.\n\n790\n00:36:47.570 --> 00:36:51.107\nBut once you get in there and do this,\nyou've seen the set of commands themselves\n\n791\n00:36:51.107 --> 00:36:53.720\nand the steps involved to really\nare not very complicated.\n\n792\n00:36:53.720 --> 00:36:55.010\nJust have to be patient and\n\n793\n00:36:55.010 --> 00:36:57.550\nbe methodical in terms of\npaying attention to the detail.\n\n794\n00:36:57.550 --> 00:36:59.970\nIt's really more a question\nof knowing what to type and\n\n795\n00:36:59.970 --> 00:37:03.690\ntyping the right series of commands in\nthe right order than anything else.\n\n796\n00:37:03.690 --> 00:37:08.200\nBut it works the way it's supposed to even\nin the face of a catastrophic failure when\n\n797\n00:37:08.200 --> 00:37:11.720\nwe have to seize the roll, you could\nsee we are able to seize the roll.\n\n798\n00:37:11.720 --> 00:37:15.430\nI was able just to get that PBC roll to\ntransfer over that one just showed up.\n\n799\n00:37:15.430 --> 00:37:18.370\nSo you could see it doesn't really\npresent too much of a challenge for us.\n\n800\n00:37:18.370 --> 00:37:22.330\nBut we do have to obviously take our\ntime and just be ready to sit there and\n\n801\n00:37:22.330 --> 00:37:23.920\nwait for things to occur.\n\n802\n00:37:23.920 --> 00:37:26.390\n&gt;&gt; Yeah, and I mean you've always got\nTechNet there if you just type in\n\n803\n00:37:26.390 --> 00:37:28.530\nNtdsutil, seizing of roles.\n\n804\n00:37:28.530 --> 00:37:31.744\nI'm sure they have the syntax, or Adam\nprobably already has it in the show notes,\n\n805\n00:37:31.744 --> 00:37:33.997\nI don't know,\nyou usually do have those links in there.\n\n806\n00:37:33.997 --> 00:37:37.140\nBut either way,\nyou're not alone with this here.\n\n807\n00:37:37.140 --> 00:37:39.190\nSo thank you for\ntaking the time to show us that, Adam.\n\n808\n00:37:39.190 --> 00:37:40.810\nAnd thank you for\nbeing here with us as well.\n\n809\n00:37:40.810 --> 00:37:43.540\nBut stay tuned,\nwe have more information headed your way.\n\n810\n00:37:43.540 --> 00:37:45.230\nWe'll go ahead and sign out for this show.\n\n811\n00:37:45.230 --> 00:37:46.950\nI've been your host, Cherokee Boose.\n\n812\n00:37:46.950 --> 00:37:47.590\n&gt;&gt; I'm Adam Gordon.\n\n813\n00:37:47.590 --> 00:37:50.130\n&gt;&gt; See you next time here at ITProTV.\n\n814\n00:37:50.130 --> 00:37:56.039\n[MUSIC]\n\n815\n00:37:56.039 --> 00:37:59.250\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232485634"
        },
        {
          "description": "In this episode, Adam and Cherokee  discuss and demonstrate how to clone a Domain Controller.",
          "length": "2405",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-6-domain_controller_cloning-080817-PGM.00_41_18_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-6-domain_controller_cloning-080817-PGM.00_41_18_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-6-domain_controller_cloning-080817-PGM.00_41_18_23.Still001-sm.jpg",
          "title": "Domain Controller Cloning",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.327\nWelcome to ITProTV.\n\n2\n00:00:01.327 --> 00:00:02.093\nI'm your host, Don Pezet.\n\n3\n00:00:02.093 --> 00:00:06.330\n[CROSSTALK]\n\n4\n00:00:06.330 --> 00:00:08.246\n[MUSIC]\n\n5\n00:00:08.246 --> 00:00:12.055\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.055 --> 00:00:13.818\n&gt;&gt; Welcome, ladies and gentlemen,\n\n7\n00:00:13.818 --> 00:00:16.920\nto your Identity with\nMicrosoft Server 2016 series.\n\n8\n00:00:16.920 --> 00:00:18.950\nI'm your show host, Cherokee Boose.\n\n9\n00:00:18.950 --> 00:00:22.920\nIn this episode, we'll be taking a look\nat how to clone a domain controller.\n\n10\n00:00:22.920 --> 00:00:25.640\nAnd back with us today in\nthe studios we have Mr. Adam Gordon.\n\n11\n00:00:25.640 --> 00:00:27.260\nHow's it going today, Adam?\n\n12\n00:00:27.260 --> 00:00:28.060\n&gt;&gt; It is going well.\n\n13\n00:00:28.060 --> 00:00:29.691\nI'm feeling like a copy of myself.\n\n14\n00:00:29.691 --> 00:00:31.560\nWe'll see how that actually turns out.\n\n15\n00:00:31.560 --> 00:00:35.870\nBut we are gonna explain the process\nof domain controller cloning,\n\n16\n00:00:35.870 --> 00:00:37.390\nDC cloning, as we call it.\n\n17\n00:00:37.390 --> 00:00:39.060\nInteresting, it's evolved over time.\n\n18\n00:00:39.060 --> 00:00:42.650\nWe've had this capability for, in one\nway or another, for a few generations.\n\n19\n00:00:42.650 --> 00:00:45.280\nI mentioned in a couple of\nconversations we had in some earlier\n\n20\n00:00:45.280 --> 00:00:47.940\nepisodes just the idea\nbehind being able to\n\n21\n00:00:47.940 --> 00:00:51.210\ntake the Active Directory\ninformation to an offline format.\n\n22\n00:00:51.210 --> 00:00:53.750\nTypically, let's say put it on\na thumb drive or something, and\n\n23\n00:00:53.750 --> 00:00:56.450\nthen install a domain\ncontroller to that point.\n\n24\n00:00:56.450 --> 00:00:57.470\nThen bring it up and\n\n25\n00:00:57.470 --> 00:01:01.310\nbackfill through syncing the rest\nof the directory information.\n\n26\n00:01:01.310 --> 00:01:04.650\nCherokee had mentioned over\nthe time she's been doing this\n\n27\n00:01:04.650 --> 00:01:09.460\nthat she remembers having to set up domain\ncontrollers, essentially fully formed,\n\n28\n00:01:09.460 --> 00:01:13.990\nin a central office, box them up,\nship them out preset, already ready to go,\n\n29\n00:01:13.990 --> 00:01:19.470\nalready installed to a remote location\nwhere they would then be plugged in.\n\n30\n00:01:19.470 --> 00:01:23.606\nAnd again, there would be a certain amount\nof domain controller replication backfill\n\n31\n00:01:23.606 --> 00:01:27.401\nto do the delta block change management\nif something had been added or removed or\n\n32\n00:01:27.401 --> 00:01:31.254\nmodified maybe over the two, three, or\nfour days, whatever it may have taken to\n\n33\n00:01:31.254 --> 00:01:34.483\nget that machine from where it was\ncreated out to the field, right,\n\n34\n00:01:34.483 --> 00:01:35.764\nwhatever you were doing.\n\n35\n00:01:35.764 --> 00:01:39.743\nSo there's always been these\nideas of let's install the DC and\n\n36\n00:01:39.743 --> 00:01:44.110\nthen at a certain point let's deploy\nit and perhaps fill in the gaps.\n\n37\n00:01:44.110 --> 00:01:44.823\nThis is not new.\n\n38\n00:01:44.823 --> 00:01:46.716\nThis has gone on in one form or\nanother for\n\n39\n00:01:46.716 --> 00:01:49.420\nmultiple generations of\nthe operating system.\n\n40\n00:01:49.420 --> 00:01:50.350\nThe way we do that,\n\n41\n00:01:50.350 --> 00:01:53.520\nthe technology behind it may have\nchanged generation to generation.\n\n42\n00:01:53.520 --> 00:01:56.650\nBut the thought process has\npretty much been the same.\n\n43\n00:01:56.650 --> 00:01:58.230\nWhat we see in Server 16 is yet\n\n44\n00:01:58.230 --> 00:02:02.640\njust another way of thinking about how\nto do this and the approach to do this.\n\n45\n00:02:02.640 --> 00:02:06.304\nI'm gonna walk you through some of\nthe steps involved in the preset to check\n\n46\n00:02:06.304 --> 00:02:10.450\nthe prereqs, and make sure everything is\nset up and ready to go through PowerShell.\n\n47\n00:02:10.450 --> 00:02:12.140\nWe're gonna take a look at that right now.\n\n48\n00:02:12.140 --> 00:02:15.550\nThere is a new security group\nthat we have become a member of\n\n49\n00:02:15.550 --> 00:02:17.550\ncalled the Cloneable Domain Controllers\ngroup.\n\n50\n00:02:17.550 --> 00:02:19.870\nWe'll show you that,\nshow you where that is.\n\n51\n00:02:19.870 --> 00:02:21.375\nWe'll set that up.\n\n52\n00:02:21.375 --> 00:02:24.460\nWe'll put the system that we\nwanna clone into that group.\n\n53\n00:02:24.460 --> 00:02:27.330\nWe'll then verify that it's part of\nthe PowerShell script that runs.\n\n54\n00:02:27.330 --> 00:02:29.620\nIt does indeed check\nmembership in that group.\n\n55\n00:02:29.620 --> 00:02:30.720\nI'll show you that.\n\n56\n00:02:30.720 --> 00:02:31.490\nWe get done,\n\n57\n00:02:31.490 --> 00:02:35.880\nwe get a couple of config files in XML\nformat that can spit out and are sitting\n\n58\n00:02:35.880 --> 00:02:39.920\nin the C windows NTDS directory on\nthe machine that we're gonna clone.\n\n59\n00:02:39.920 --> 00:02:42.740\nWe are working with a virtual\ninstance of a domain controller,\n\n60\n00:02:42.740 --> 00:02:46.635\nvery common today, but much of our\ninfrastructure may be virtualized.\n\n61\n00:02:46.635 --> 00:02:49.800\nSo we're gonna carry this process\nout in the demo environment\n\n62\n00:02:49.800 --> 00:02:50.970\nusing Hyper-V manager.\n\n63\n00:02:50.970 --> 00:02:54.350\nYou'll see we're using a VM\ninstance of a domain controller, so\n\n64\n00:02:54.350 --> 00:02:56.660\nonce I've done that and\ndone the prereq check,\n\n65\n00:02:56.660 --> 00:02:58.670\nwhich is already run but\nwe'll go through the output of it.\n\n66\n00:02:58.670 --> 00:03:01.310\nI'm gonna shut down the VM\nthat is the domain controller.\n\n67\n00:03:01.310 --> 00:03:02.480\nWe're gonna clone.\n\n68\n00:03:02.480 --> 00:03:03.280\nOnce it shuts down,\n\n69\n00:03:03.280 --> 00:03:07.510\nI'm gonna export a copy of it using\nthe Hyper-V manager, import it.\n\n70\n00:03:07.510 --> 00:03:09.620\nSo that part will be done through Hyper-V.\n\n71\n00:03:09.620 --> 00:03:12.230\nYou'll quickly see me do that,\nif you haven't seen that before.\n\n72\n00:03:12.230 --> 00:03:15.120\nYou get a quick little demo\non how to work with Hyper-V.\n\n73\n00:03:15.120 --> 00:03:17.620\nAnd then once we've done that,\nand we spin the new\n\n74\n00:03:17.620 --> 00:03:21.410\ncopy that's been imported of the VM up,\nit will start the cloning process.\n\n75\n00:03:21.410 --> 00:03:22.430\nWe'll watch a little bit of it.\n\n76\n00:03:22.430 --> 00:03:23.818\nWe'll see it say it's cloning.\n\n77\n00:03:23.818 --> 00:03:26.690\nIt will go through a percentage\nclimb as it goes towards 100.\n\n78\n00:03:26.690 --> 00:03:29.600\nTakes a fair amount of minutes and\nwe're not gonna watch the whole thing,\n\n79\n00:03:29.600 --> 00:03:32.890\nbut we'll let you see how it starts and\nwe show you what that looks like.\n\n80\n00:03:32.890 --> 00:03:37.340\nAnd then once it's done we have\nan operationally fully formed cloned copy\n\n81\n00:03:37.340 --> 00:03:40.870\nof the original domain controller which,\nas Cherokee was pointing out,\n\n82\n00:03:40.870 --> 00:03:42.200\ncould then be deployed in the field.\n\n83\n00:03:42.200 --> 00:03:45.268\nDo what you have to do,\nput it wherever you need to put it.\n\n84\n00:03:45.268 --> 00:03:50.031\nSo let's go ahead, before we do\nthis I'm gonna preempt, questions?\n\n85\n00:03:50.031 --> 00:03:54.470\n&gt;&gt; Hm, what was the name of the first\nlamb that was publicly cloned?\n\n86\n00:03:55.930 --> 00:03:59.021\n&gt;&gt; Well, not publicly cloned,\nthe first lamb that was cloned.\n\n87\n00:03:59.021 --> 00:04:00.848\n&gt;&gt; Well,\nthat the public knows about, yeah.\n\n88\n00:04:00.848 --> 00:04:02.117\n&gt;&gt; It was done in private,\nbut we don't know.\n\n89\n00:04:02.117 --> 00:04:04.160\nIt could have been going on for\nyears before.\n\n90\n00:04:04.160 --> 00:04:05.400\nYou could be a clone, for instance.\n\n91\n00:04:05.400 --> 00:04:05.990\nWe don't know, right?\n\n92\n00:04:05.990 --> 00:04:06.978\n&gt;&gt; I could be.\n&gt;&gt; Yeah, you could be.\n\n93\n00:04:06.978 --> 00:04:08.120\nHer name is Dolly.\n\n94\n00:04:08.120 --> 00:04:10.950\n&gt;&gt; I couldn't imagine two of\nme running around, but Dolly.\n\n95\n00:04:10.950 --> 00:04:11.980\n&gt;&gt; Her name was Dolly.\n\n96\n00:04:11.980 --> 00:04:15.195\n&gt;&gt; Okay, so now that we've gotten that out\nof the way I think that we can focus more\n\n97\n00:04:15.195 --> 00:04:16.530\non domain controller cloning.\n\n98\n00:04:16.530 --> 00:04:18.349\n&gt;&gt; You feel pretty comfortable\nnow that we got the inanity and\n\n99\n00:04:18.349 --> 00:04:19.660\nthe total ridiculousness out of the way?\n\n100\n00:04:19.660 --> 00:04:22.170\nWe can focus about what\nwe're here to talk about.\n\n101\n00:04:22.170 --> 00:04:24.896\nAll right, so we're not gonna let\nCherokee talk any more this episode.\n\n102\n00:04:24.896 --> 00:04:27.095\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay, so, come on over here.\n\n103\n00:04:27.095 --> 00:04:27.725\nLet's take a look.\n\n104\n00:04:27.725 --> 00:04:31.582\nSo I am on the domain controller,\nI'll call PLABDC02.\n\n105\n00:04:31.582 --> 00:04:34.805\nIt is the virtual machine,\nyou can see it's running\n\n106\n00:04:34.805 --> 00:04:39.075\nin the console window here on my VM,\nmy Hyper-V host, PLABVM01.\n\n107\n00:04:39.075 --> 00:04:44.197\nSo it is a domain controller in the\nPracticeLabs.com domain, as you can see.\n\n108\n00:04:44.197 --> 00:04:47.795\nAnd I'm in the Active Directory\nuser computer manager tool.\n\n109\n00:04:47.795 --> 00:04:51.670\nThe reason I'm there is that I'm\nshowing you in the users' OU\n\n110\n00:04:51.670 --> 00:04:55.140\nthat we have the Cloneable Domain\nControllers group, new security group.\n\n111\n00:04:55.140 --> 00:04:56.610\nYou can see it right here.\n\n112\n00:04:56.610 --> 00:04:57.310\nAnd I'll hover here.\n\n113\n00:04:57.310 --> 00:04:58.828\nIt says, members of this group.\n\n114\n00:04:58.828 --> 00:05:01.468\nYou can see the pop-out of this\ngroup that are domain controllers or\n\n115\n00:05:01.468 --> 00:05:03.890\nof this group that are domain\ncontrollers that may be cloned.\n\n116\n00:05:03.890 --> 00:05:07.710\nIn other words, in order to be able to\nclone a domain controller in Server 16,\n\n117\n00:05:07.710 --> 00:05:10.710\nwe must first put Dolly,\nthe domain controller.\n\n118\n00:05:10.710 --> 00:05:11.810\nI like that, that's very good.\n\n119\n00:05:11.810 --> 00:05:16.830\nWe must first put the domain controller\nwe wanna clone into this group,\n\n120\n00:05:16.830 --> 00:05:20.270\nallowing it to meet the prereq that\nPowerShell will run through the script and\n\n121\n00:05:20.270 --> 00:05:23.130\ncheck on to make sure membership\nhas been extended here.\n\n122\n00:05:23.130 --> 00:05:25.160\nSo if we go, we take a look at the group.\n\n123\n00:05:25.160 --> 00:05:29.610\nWe can right-click the properties,\nand we take a look at members.\n\n124\n00:05:29.610 --> 00:05:32.969\nAnd we can see that PLABDC02\nhas been added to this group.\n\n125\n00:05:32.969 --> 00:05:34.815\nI went ahead and added it.\n\n126\n00:05:34.815 --> 00:05:37.960\nSo what I did to do that was\njust very straightforward.\n\n127\n00:05:37.960 --> 00:05:39.616\nI could come here and add it.\n\n128\n00:05:39.616 --> 00:05:42.723\nI could have just gone to\nthe domain controller's OU as well,\n\n129\n00:05:42.723 --> 00:05:44.412\nfound the machine, which I did.\n\n130\n00:05:44.412 --> 00:05:48.360\nRight-clicked, add to group and just\nspecify the group as we check the name.\n\n131\n00:05:48.360 --> 00:05:50.700\nHowever you do it,\nmore than one way to get there.\n\n132\n00:05:50.700 --> 00:05:55.780\nWe wanna make sure as one of the very\nfirst prerequisite steps we engage in\n\n133\n00:05:55.780 --> 00:05:59.300\nthat we add the domain controller\nthat we wanna clone into this group.\n\n134\n00:05:59.300 --> 00:06:02.260\nIf you don't do that, then the cloning\nsteps I'm about to show you through\n\n135\n00:06:02.260 --> 00:06:05.870\nPowerShell to do all the prereq checks\nwill fail and you'll have to come back.\n\n136\n00:06:05.870 --> 00:06:07.720\nIt's not a big deal, it's easy to fix.\n\n137\n00:06:07.720 --> 00:06:10.560\nBut the script will run,\nit will fail the prereq check,\n\n138\n00:06:10.560 --> 00:06:13.240\nwill not find the domain controller\nhas been added to this group,\n\n139\n00:06:13.240 --> 00:06:16.380\nwill not have the rights,\nin other words, to be able to clone.\n\n140\n00:06:16.380 --> 00:06:20.150\nAnd as a result, the prereq checker will\nfail and you'll have to start over again.\n\n141\n00:06:20.150 --> 00:06:22.020\nSo it's not the end of the world, but\n\n142\n00:06:22.020 --> 00:06:24.820\nit just means delay, just trying\nto save you some time and trouble.\n\n143\n00:06:24.820 --> 00:06:28.075\nMake sure you're aware of the most\nimportant prerequisite step we must\n\n144\n00:06:28.075 --> 00:06:28.740\nengage in.\n\n145\n00:06:28.740 --> 00:06:33.010\nAfter having shown you that,\nI've opened up PowerShell,\n\n146\n00:06:33.010 --> 00:06:35.750\njust scrolling down to get to\nthe size of the console window.\n\n147\n00:06:35.750 --> 00:06:39.731\nSo apologize, I'm scrolling a little bit\nmore than I normally do in these demos,\n\n148\n00:06:39.731 --> 00:06:43.308\nbut the VM window is very small compared\nto the full size screen we normally\n\n149\n00:06:43.308 --> 00:06:43.958\noperate on.\n\n150\n00:06:43.958 --> 00:06:47.390\nI've gone into PowerShell, just opened\nPowerShell from Server Manager,\n\n151\n00:06:47.390 --> 00:06:49.210\nnothing unusual about that.\n\n152\n00:06:49.210 --> 00:06:51.920\nNormally, as I've said,\nthe only thing I will do and\n\n153\n00:06:51.920 --> 00:06:55.353\nI've done in this case as well is\nmodify the console type font size so\n\n154\n00:06:55.353 --> 00:06:59.417\nyou can see the console type a little\nmore clearly, 18 point Lucida Console.\n\n155\n00:06:59.417 --> 00:07:02.364\nOther than that, all the colors and\neverything else are just the way they\n\n156\n00:07:02.364 --> 00:07:04.330\nwould be if you run\nPowerShell on your machine.\n\n157\n00:07:04.330 --> 00:07:07.026\nThe green, the yellow, all that\nstuff occurs as part of the scripts\n\n158\n00:07:07.026 --> 00:07:09.740\nwe're running, not because I made\nany changes, just so you know.\n\n159\n00:07:09.740 --> 00:07:13.410\nAll right, so having said that,\nlet's just scroll up here so\n\n160\n00:07:13.410 --> 00:07:16.140\nyou can see what I started out doing.\n\n161\n00:07:16.140 --> 00:07:21.070\nI went ahead here and\nI loaded up and I ran a cmdlet,\n\n162\n00:07:21.070 --> 00:07:27.300\nget ADDC cloning excluded app,\nor excluded application list.\n\n163\n00:07:27.300 --> 00:07:30.980\nThis cmdlet will generate a list for\n\n164\n00:07:30.980 --> 00:07:35.570\nme, generates with the generated\nXML parameter on the end.\n\n165\n00:07:35.570 --> 00:07:36.238\nIt's hard to see.\n\n166\n00:07:36.238 --> 00:07:38.324\nLet me see if I can catch\nthe edge here and scroll over.\n\n167\n00:07:38.324 --> 00:07:38.901\nThere we go.\n\n168\n00:07:38.901 --> 00:07:46.120\nGenerate XML as an additional\nproperty that I wanna use, right?\n\n169\n00:07:46.120 --> 00:07:48.663\nSo I've just gone ahead and\nadded that as a parameter.\n\n170\n00:07:48.663 --> 00:07:51.529\nAnd when I do that, it then goes ahead and\nthe cmdlet executes.\n\n171\n00:07:51.529 --> 00:07:53.995\nMove this over.\n\n172\n00:07:53.995 --> 00:07:59.102\nAnd what the cmdlet does Slide this over\nso you can see this a little more clearly.\n\n173\n00:07:59.102 --> 00:08:03.197\nIt goes ahead and\nthe inclusion list was written to.\n\n174\n00:08:03.197 --> 00:08:05.717\nAnd it tells me it's\nwritten to C:\\Windows\\NTDS,\n\n175\n00:08:05.717 --> 00:08:09.513\nas I told you it would be, and it gives\nit a name of CustomDCCloneAllowList.xml.\n\n176\n00:08:09.513 --> 00:08:12.815\nXML is the standardized\nlanguage format that we use for\n\n177\n00:08:12.815 --> 00:08:14.767\npretty much everything today.\n\n178\n00:08:14.767 --> 00:08:18.394\nWhatever we've been doing for\nseveral generations now, we switched over,\n\n179\n00:08:18.394 --> 00:08:19.857\neverything is now done in XML.\n\n180\n00:08:19.857 --> 00:08:23.757\nSo it's not a surprise to see\nthe XML extension being used there.\n\n181\n00:08:23.757 --> 00:08:27.206\nCan we go full screen, just so we can\nsee the console a little bit easier?\n\n182\n00:08:27.206 --> 00:08:28.936\nEven better, now we can see a little\nbit more clearly, thank you.\n\n183\n00:08:28.936 --> 00:08:31.871\nAll right, so now, at that point,\nwell, I haven't gone and\n\n184\n00:08:31.871 --> 00:08:35.388\nchecked on the file yet, I'll bring it\nup in a minute so you can look at it.\n\n185\n00:08:35.388 --> 00:08:38.703\nI issue a new cmdlet,\nNew-ADDCCloneConfigFile,\n\n186\n00:08:38.703 --> 00:08:42.628\nCloneComputerName parameter,\nspecify the computer name.\n\n187\n00:08:42.628 --> 00:08:46.642\nThe computer name of the computer I wanna\nclone, which is the domain controller,\n\n188\n00:08:46.642 --> 00:08:50.210\nin this case, plabdc02, you can see\nit there trailing off to the end.\n\n189\n00:08:50.210 --> 00:08:52.230\nSo, I've added that in.\n\n190\n00:08:52.230 --> 00:08:57.270\nThen, in addition, I've gone ahead and\n\n191\n00:08:57.270 --> 00:09:01.021\nI've added in the IP address.\n\n192\n00:09:01.021 --> 00:09:04.549\nAnd I've added in IPv4SubnetMask\nas a parameter, and\n\n193\n00:09:04.549 --> 00:09:08.240\nI've added in IPv4DNSResolver name,\nthat whole line.\n\n194\n00:09:08.240 --> 00:09:12.705\nSo I've added in the name of the machine,\nPLABDC02.PRACTICELABS.COM,\n\n195\n00:09:12.705 --> 00:09:15.961\nthe fully qualified domain name,\nthe whole nine yards.\n\n196\n00:09:15.961 --> 00:09:20.394\nAnd what I've been doing, or\nwhat I'm doing, in other words,\n\n197\n00:09:20.394 --> 00:09:23.760\nwith that is I'm specifying\nall the information\n\n198\n00:09:23.760 --> 00:09:28.050\nthat allows me to specify what\nthe name of the machine will be.\n\n199\n00:09:28.050 --> 00:09:32.670\nSo plabdc02-clone is\nwhat I name this machine.\n\n200\n00:09:32.670 --> 00:09:36.811\nNot the named instance, but rather\nthe name of the clone, or in other words,\n\n201\n00:09:36.811 --> 00:09:40.969\nthe name for the cloned instance that I\nwanna create is what I'm naming here.\n\n202\n00:09:40.969 --> 00:09:42.540\nSorry, thinking about the wrong command.\n\n203\n00:09:42.540 --> 00:09:46.390\n&gt;&gt; So, just to be clear,\nplabdc02 is our current machine, and\n\n204\n00:09:46.390 --> 00:09:49.330\nthen plabdc02-clone is-\n&gt;&gt; -Clone is gonna be the name of\n\n205\n00:09:49.330 --> 00:09:50.090\nthe clone, right.\n\n206\n00:09:50.090 --> 00:09:52.959\n&gt;&gt; Got it.\n&gt;&gt; So I'm gonna issue, essentially,\n\n207\n00:09:52.959 --> 00:09:59.171\nthe command New-ADDCCloneConfigFile, which\nis what I started out with, where is it?\n\n208\n00:09:59.171 --> 00:10:00.540\nRight there.\n\n209\n00:10:00.540 --> 00:10:01.647\nAnd then CloneComputerName.\n\n210\n00:10:01.647 --> 00:10:03.420\nWhat's the name of the cloned instance?\n\n211\n00:10:03.420 --> 00:10:04.684\nThat's plabdc02-clone.\n\n212\n00:10:04.684 --> 00:10:07.656\nThat's what I get for not reading\nmy notes on the names, or rather,\n\n213\n00:10:07.656 --> 00:10:08.659\ndoing it from memory.\n\n214\n00:10:08.659 --> 00:10:12.118\nAnd then from there, I specified,\nalthough you can't see it,\n\n215\n00:10:12.118 --> 00:10:15.100\nstatic as a parameter to\nhard code an IPv4 address.\n\n216\n00:10:15.100 --> 00:10:20.244\nYou see the output of that IPv4 address\nstatement right here, 192.168.0.120.\n\n217\n00:10:20.244 --> 00:10:22.953\nI'm assigning a static\nIP address to the clone.\n\n218\n00:10:22.953 --> 00:10:25.270\nI'm specifying the subnet mask,\nyou saw that.\n\n219\n00:10:25.270 --> 00:10:27.908\nClass C default, and\nthen the DNS resolver,\n\n220\n00:10:27.908 --> 00:10:31.108\nmeaning what's the DNS\nserver it's supposed to use.\n\n221\n00:10:31.108 --> 00:10:33.640\nI'm hard coding all that\nas part of the config file.\n\n222\n00:10:33.640 --> 00:10:35.124\nSo I'm putting those commands in.\n\n223\n00:10:35.124 --> 00:10:37.929\nWhat that does is that generates for\nme, and you'll see it says,\n\n224\n00:10:37.929 --> 00:10:39.780\nokay, Running in 'Local' Mode.\n\n225\n00:10:39.780 --> 00:10:43.421\nStarting PDC test, verifying domain\ncontroller, hosting the FSMO role.\n\n226\n00:10:43.421 --> 00:10:47.460\nWe now know what the PDC emulator\nFSMO role is, been through all that.\n\n227\n00:10:47.460 --> 00:10:48.979\nIt's running, it does find it.\n\n228\n00:10:48.979 --> 00:10:53.375\nThe domain controller hosting the FSMO\nrole, PLABDC01.PRACTICELABS.COM,\n\n229\n00:10:53.375 --> 00:10:56.212\nwas located, it's on a Server 12 or\nlater server.\n\n230\n00:10:56.212 --> 00:10:58.862\nGotta have a domain controller\nat least running on Server 12 or\n\n231\n00:10:58.862 --> 00:10:59.950\nbetter to do the cloning.\n\n232\n00:10:59.950 --> 00:11:04.099\nAs I said, we've supported this capability\nfor a couple of generations already.\n\n233\n00:11:04.099 --> 00:11:07.283\nVerifying authorization: Checking\nif domain controller is a member of\n\n234\n00:11:07.283 --> 00:11:09.379\nthe 'Cloneable Domain Controllers' group.\n\n235\n00:11:09.379 --> 00:11:10.959\nRemember the group I just showed you.\n\n236\n00:11:10.959 --> 00:11:12.880\nSo it's doing that, it finds that.\n\n237\n00:11:12.880 --> 00:11:17.640\nIt says, yes, local domain controller is\na member of 'Cloneable Domain Controllers'\n\n238\n00:11:17.640 --> 00:11:19.232\ngroup, so it verifies that.\n\n239\n00:11:19.232 --> 00:11:22.290\nStarting test: Validating\nthe cloning allow list.\n\n240\n00:11:22.290 --> 00:11:26.919\nIt notes and says, okay, hey,\nI found the CloningAllowList.xml, and\n\n241\n00:11:26.919 --> 00:11:32.010\nit's in this path where we set it up and\nput it based on running the first command.\n\n242\n00:11:32.010 --> 00:11:34.209\nAnd no excluded\napplications were detected.\n\n243\n00:11:34.209 --> 00:11:37.862\nMeaning, we're gonna clone the domain\ncontroller and all the applications,\n\n244\n00:11:37.862 --> 00:11:38.910\neverything on there.\n\n245\n00:11:38.910 --> 00:11:41.032\nWe're gonna clone it with everything,\nwe're not gonna exclude anything.\n\n246\n00:11:41.032 --> 00:11:43.912\nThat's what that first list would\nhave done, it would have excluded any\n\n247\n00:11:43.912 --> 00:11:46.471\napplications that we didn't wanna\nhave as part of the cloning.\n\n248\n00:11:46.471 --> 00:11:48.940\nBut we didn't specify anything, and there\nwas nothing that has to be excluded, so-\n\n249\n00:11:48.940 --> 00:11:49.658\n&gt;&gt; We want everything.\n\n250\n00:11:49.658 --> 00:11:51.464\n&gt;&gt; So essentially we get everything,\nright, copy it as is.\n\n251\n00:11:51.464 --> 00:11:53.498\nIn other words, don't remove anything.\n\n252\n00:11:53.498 --> 00:11:55.805\nAll right, so we're gonna do that.\n\n253\n00:11:55.805 --> 00:11:57.990\nAnd then, once we're done, it says,\n\n254\n00:11:57.990 --> 00:12:02.378\nhey, all preliminary validation checks\nhave been passed, right down here.\n\n255\n00:12:02.378 --> 00:12:06.019\nAnd then, starting creation\nof the clone config file,\n\n256\n00:12:06.019 --> 00:12:08.892\nlet's see if we can start a configuration.\n\n257\n00:12:08.892 --> 00:12:11.067\nBinding the path to\nthe Directory Service database.\n\n258\n00:12:11.067 --> 00:12:15.037\nThe clone config file is generated\nat C:\\Windows\\NTDS\\DCCloneConfig,\n\n259\n00:12:15.037 --> 00:12:18.414\nwe'll go in and take a look at\nthese files in just a minute, .xml.\n\n260\n00:12:18.414 --> 00:12:20.220\nGenerating clone config file content,\nclone config file has been created.\n\n261\n00:12:20.220 --> 00:12:24.640\nSo we've run these set of two cmdlets,\nand by running them and\n\n262\n00:12:24.640 --> 00:12:27.530\nspecifying some parameters with them,\n\n263\n00:12:27.530 --> 00:12:32.638\nwe've generated all the XML files\nnecessary to carry out the cloning.\n\n264\n00:12:32.638 --> 00:12:36.250\nThese are all the background\nrequirements that have to happen.\n\n265\n00:12:36.250 --> 00:12:41.105\nSo in order to do DC cloning,\nwe need to not only understand PowerShell,\n\n266\n00:12:41.105 --> 00:12:46.124\nbut understand the two cmdlets,\nthe New-ADDCCloneConfigFile cmdlet,\n\n267\n00:12:46.124 --> 00:12:48.592\nthe second of the two we just ran, and\n\n268\n00:12:48.592 --> 00:12:53.925\nthe first one that created the application\nexclusion file if there was a need for\n\n269\n00:12:53.925 --> 00:12:58.728\none, Get-ADDCCloningExcludedAppList,\nand generate an XML form.\n\n270\n00:12:58.728 --> 00:13:03.254\nNo excluded apps, that would generate the\nfile, run through the background prereq\n\n271\n00:13:03.254 --> 00:13:07.349\ncheck requirements, and then spit out\na config file as the third part of it.\n\n272\n00:13:07.349 --> 00:13:10.265\nSo, let's go take a look\nin C:\\Windows\\NTDS and\n\n273\n00:13:10.265 --> 00:13:12.130\njust see what's sitting there.\n\n274\n00:13:12.130 --> 00:13:16.321\nSo we'll open up our File Explorer real\nquick before we shut down this domain\n\n275\n00:13:16.321 --> 00:13:17.111\ncontroller.\n\n276\n00:13:17.111 --> 00:13:21.050\nScroll up so we can get up here,\nand just one second to do that.\n\n277\n00:13:21.050 --> 00:13:25.952\nAnd let's go into C:\\,\nlet's go into Windows,\n\n278\n00:13:25.952 --> 00:13:30.523\nlet's go into NTDS,\nlet's scroll down here.\n\n279\n00:13:35.140 --> 00:13:39.347\nAnd in NTDS, there's\nthe CustomDCCloneAllowList right there.\n\n280\n00:13:39.347 --> 00:13:42.120\nWhat I'm gonna do is just\nsort by document type, so\n\n281\n00:13:42.120 --> 00:13:44.640\nI can see the XML documents\ndown at the bottom.\n\n282\n00:13:44.640 --> 00:13:47.778\nReal simple and\neasy to keep track of them that way.\n\n283\n00:13:47.778 --> 00:13:51.299\nSo you can see right here,\nI have my DCCloneConfig and\n\n284\n00:13:51.299 --> 00:13:53.348\nmy CustomDCCloneAllowList.\n\n285\n00:13:53.348 --> 00:13:57.119\nSo my DCCloneConfig, which is the file\nthat gets spit out at the bottom here,\n\n286\n00:13:57.119 --> 00:14:00.135\nat the end of this process,\nthat we need that's gonna drive,\n\n287\n00:14:00.135 --> 00:14:01.538\nit's like the answer file.\n\n288\n00:14:01.538 --> 00:14:04.918\nIt's going to drive the cloning as\nwe export the copy, import it and\n\n289\n00:14:04.918 --> 00:14:05.770\nstart it up.\n\n290\n00:14:05.770 --> 00:14:08.338\nThat file is read,\nthat's what's gonna do the configuration.\n\n291\n00:14:08.338 --> 00:14:10.949\nSo when we take a look,\nlet's just go in here real quick.\n\n292\n00:14:12.524 --> 00:14:14.360\nLet's just open this up.\n\n293\n00:14:16.443 --> 00:14:19.520\nAnd you can see it's just a simple\ntext file, not a lot to it.\n\n294\n00:14:19.520 --> 00:14:21.573\nJust scroll up just a bit.\n\n295\n00:14:21.573 --> 00:14:22.741\nNot very much in there.\n\n296\n00:14:22.741 --> 00:14:26.713\nYou'll see here it goes through,\ntalks about DC cloning,\n\n297\n00:14:26.713 --> 00:14:30.160\ngives us our computer name,\nplabdc02-clone.\n\n298\n00:14:30.160 --> 00:14:34.500\nIPv4 settings, static IP address,\njust like we issued in the cmdlet.\n\n299\n00:14:34.500 --> 00:14:39.106\nSpecifies the IP 0.120,\nClass C subnet mask, DNS information,\n\n300\n00:14:39.106 --> 00:14:41.290\nthat's all that's there.\n\n301\n00:14:41.290 --> 00:14:43.710\nAll the output of that\nPowerShell cmdlet that I ran,\n\n302\n00:14:43.710 --> 00:14:47.340\nit essentially was transferred to this\nfile, given this name, this format.\n\n303\n00:14:47.340 --> 00:14:51.628\nAnd then this is applied to the copy as\nwe bring it up to overlay the changes in\n\n304\n00:14:51.628 --> 00:14:55.870\nthe requirements to make the copy or\nto make the clone functional.\n\n305\n00:14:55.870 --> 00:14:58.767\nWe have to change the name,\nwe have to change the IP, and\n\n306\n00:14:58.767 --> 00:15:01.739\nmake sure it specifies that\nit hits the right DNS server.\n\n307\n00:15:01.739 --> 00:15:05.515\nThis is similar, if you will,\n\n308\n00:15:05.515 --> 00:15:10.902\nto using the, what's the name of the tool?\n\n309\n00:15:10.902 --> 00:15:11.650\n&gt;&gt; The migration tools?\n\n310\n00:15:11.650 --> 00:15:12.630\n&gt;&gt; No, no, no, not migration tools.\n\n311\n00:15:12.630 --> 00:15:15.578\n&gt;&gt; I'm just trying to think at it,\nwhile you're thinking about that.\n\n312\n00:15:15.578 --> 00:15:16.614\n&gt;&gt; No, no, God.\n\n313\n00:15:16.614 --> 00:15:19.062\nThis is what happens when you\nremember a million things-\n\n314\n00:15:19.062 --> 00:15:19.576\n&gt;&gt; [LAUGH]\n\n315\n00:15:19.576 --> 00:15:21.696\n&gt;&gt; And the one thing you wanna remember,\n\n316\n00:15:21.696 --> 00:15:22.972\nyou can't remember.\n\n317\n00:15:22.972 --> 00:15:29.531\nNo, the SID tool, that lets us reset\nthe SIDs when we do migrations.\n\n318\n00:15:29.531 --> 00:15:33.110\n&gt;&gt; I know what you're talking about, too,\nbut I can't think of the name either.\n\n319\n00:15:33.110 --> 00:15:35.510\nSo that it doesn't use the same one and\nmess everything up.\n\n320\n00:15:35.510 --> 00:15:36.306\n&gt;&gt; Yeah, yeah.\n\n321\n00:15:36.306 --> 00:15:38.559\n&gt;&gt; [LAUGH]\n&gt;&gt; Sysprep, the Sysprep tool.\n\n322\n00:15:38.559 --> 00:15:40.308\n&gt;&gt; There we go,\nthere we go, okay, Sysprep.\n\n323\n00:15:40.308 --> 00:15:41.208\n&gt;&gt; My God, I'm getting old.\n\n324\n00:15:41.208 --> 00:15:42.180\nYeah, so the Sysprep tool.\n\n325\n00:15:42.180 --> 00:15:46.581\nSo it's like Sysprep in the sense\nthat we are applying a change or\n\n326\n00:15:46.581 --> 00:15:51.238\nset of changes to the system that\nwipes out certain unique entries.\n\n327\n00:15:51.238 --> 00:15:53.615\nThe machine name, for instance.\n\n328\n00:15:53.615 --> 00:15:54.293\nSo this write has to be unique.\n\n329\n00:15:54.293 --> 00:15:56.517\nNot that we couldn't bring up\na machine with the same name,\n\n330\n00:15:56.517 --> 00:15:57.063\nbut-\n&gt;&gt; Well,\n\n331\n00:15:57.063 --> 00:15:58.710\nwe could if it sees it as a new entity.\n\n332\n00:15:58.710 --> 00:16:00.040\n&gt;&gt; A new entity, right, but obviously,\n\n333\n00:16:00.040 --> 00:16:02.770\nif you bring up a machine\nwith the same name and\n\n334\n00:16:02.770 --> 00:16:06.160\njoin that back to the system turned on,\nready to go, we're gonna get a conflict.\n\n335\n00:16:06.160 --> 00:16:08.040\nSo this has to be done.\n\n336\n00:16:08.040 --> 00:16:11.760\nIt's not quite as intense\nas running Sysprep.\n\n337\n00:16:11.760 --> 00:16:13.580\nBecause when we run Sysprep,\n\n338\n00:16:13.580 --> 00:16:19.420\nwe are changing all unique entries that\nare driven by the user in the registry,\n\n339\n00:16:19.420 --> 00:16:21.580\ngutting them, removing them,\nand then resetting them.\n\n340\n00:16:21.580 --> 00:16:23.170\nThis is not as intensive.\n\n341\n00:16:23.170 --> 00:16:24.510\nIt doesn't do the same thing.\n\n342\n00:16:24.510 --> 00:16:28.820\nBut it changes unique entries for the\nmachine, just not as many of them, right?\n\n343\n00:16:28.820 --> 00:16:30.890\nSo just keep that in mind and\nbe aware of that.\n\n344\n00:16:30.890 --> 00:16:33.280\nBut that's what the config\nfile's gonna do, right?\n\n345\n00:16:33.280 --> 00:16:34.700\nSo, just so you could see that.\n\n346\n00:16:34.700 --> 00:16:36.120\nAll right, so we've gone through.\n\n347\n00:16:36.120 --> 00:16:37.230\n&gt;&gt; And Adam, just-\n&gt;&gt; Yeah?\n\n348\n00:16:37.230 --> 00:16:39.790\n&gt;&gt; To my point there,\njust a random thought.\n\n349\n00:16:39.790 --> 00:16:45.040\nThere was nothing really major\nin that actual config file that\n\n350\n00:16:45.040 --> 00:16:49.970\nwe needed to really think about as far as\nstoring it long-term, any kind of security\n\n351\n00:16:49.970 --> 00:16:52.886\nissues from that sense there because-\n&gt;&gt; All there is is a machine name\n\n352\n00:16:52.886 --> 00:16:53.430\nand an IP address.\n\n353\n00:16:53.430 --> 00:16:54.195\n&gt;&gt; There are, okay.\n\n354\n00:16:54.195 --> 00:16:58.460\n&gt;&gt; You would get more usable security\ninformation by talking to an administrator\n\n355\n00:16:58.460 --> 00:17:00.740\nthan you would by looking at that file.\n\n356\n00:17:00.740 --> 00:17:03.930\nThere's nothing in there you couldn't\nlearn from several other places, right?\n\n357\n00:17:03.930 --> 00:17:04.666\n&gt;&gt; Okay.\n&gt;&gt; In other words,\n\n358\n00:17:04.666 --> 00:17:06.970\nlegitimate management tools,\nthings like that.\n\n359\n00:17:06.970 --> 00:17:11.150\nSo absolutely no security concerns\nat all with having that file around.\n\n360\n00:17:11.150 --> 00:17:13.670\nNow having said that,\nthe only concern we would have,\n\n361\n00:17:13.670 --> 00:17:17.020\na bad actor gets a hold\nof that file potentially.\n\n362\n00:17:17.020 --> 00:17:19.248\nAnd if they've already gotten\nthis deep into our system,\n\n363\n00:17:19.248 --> 00:17:19.990\nby the way-\n&gt;&gt; [LAUGH]\n\n364\n00:17:19.990 --> 00:17:21.470\n&gt;&gt; We've got bigger issues than the fact\n\n365\n00:17:21.470 --> 00:17:22.430\nthey got the file.\n\n366\n00:17:22.430 --> 00:17:24.362\nBut in theory,\njust playing out the scenario, right?\n\n367\n00:17:24.362 --> 00:17:25.862\n&gt;&gt; Right.\n&gt;&gt; Cuz it is important to talk about.\n\n368\n00:17:25.862 --> 00:17:30.460\nIn theory, somebody got a hold of that\nfile, and had the right credentials,\n\n369\n00:17:30.460 --> 00:17:34.560\nthey could clone another working copy of\nthe domain controller by simply modifying\n\n370\n00:17:34.560 --> 00:17:38.610\nthe name of that file and running the\nclone process that we're about to engage\n\n371\n00:17:38.610 --> 00:17:41.630\nin, and they could spit out yet\nanother copy of the domain controller.\n\n372\n00:17:41.630 --> 00:17:43.320\n&gt;&gt; Okay.\n&gt;&gt; But again, if they have access at\n\n373\n00:17:43.320 --> 00:17:46.180\nthat level already,\nwe've got bigger issues,\n\n374\n00:17:46.180 --> 00:17:49.302\nbecause they've already gotten everything\nthey need, and this is an afterthought for\n\n375\n00:17:49.302 --> 00:17:52.150\nthem, and they're bored, and they have\nnothing better to do than play with this.\n\n376\n00:17:52.150 --> 00:17:55.120\nBecause, they've already taken everything\nwe own that's important away from us.\n\n377\n00:17:55.120 --> 00:17:57.020\nThis is just them like really wanting to-\n&gt;&gt; Mess with Adam.\n\n378\n00:17:57.020 --> 00:17:57.912\n&gt;&gt; Not only do that, but\n\n379\n00:17:57.912 --> 00:18:01.284\nit's just like the spiteful thing that the\ndog does when the dog pees on the carpet\n\n380\n00:18:01.284 --> 00:18:03.683\ndespite your best efforts to\nprevent them from doing it.\n\n381\n00:18:03.683 --> 00:18:05.460\n&gt;&gt; [LAUGH]\n&gt;&gt; It would be like that, right?\n\n382\n00:18:05.460 --> 00:18:08.820\nAll right, so, we know that we've\ngot these files, they're set up,\n\n383\n00:18:08.820 --> 00:18:09.750\nthey're ready to go.\n\n384\n00:18:09.750 --> 00:18:12.218\nSo, we see where they are,\nwe're gonna just close out of here,\n\n385\n00:18:12.218 --> 00:18:13.832\nbecause we're gonna shut this down now.\n\n386\n00:18:13.832 --> 00:18:18.480\nAnd so, what I'm gonna do is, just clean\nup after myself in here real quick.\n\n387\n00:18:18.480 --> 00:18:19.600\nJust close this so\n\n388\n00:18:19.600 --> 00:18:24.610\nwe don't have anything being corrupted\nas we close the system down, right?\n\n389\n00:18:24.610 --> 00:18:27.750\nSo I'm gonna enter,\nI'm gonna enter here a shutdown command.\n\n390\n00:18:27.750 --> 00:18:30.928\nI'm essentially gonna shut this system\ndown because now I have to get ready\n\n391\n00:18:30.928 --> 00:18:31.488\nto clone it.\n\n392\n00:18:31.488 --> 00:18:34.830\nAnd so let me just go in here real quick.\n\n393\n00:18:34.830 --> 00:18:37.268\nAll right, so let's do a shutdown.\n\n394\n00:18:37.268 --> 00:18:40.306\nAnd let's do.\n\n395\n00:18:42.094 --> 00:18:43.210\nThat.\n\n396\n00:18:43.210 --> 00:18:46.480\nReady, go ahead, shut that machine down,\njust using PowerShell to do that,\n\n397\n00:18:46.480 --> 00:18:47.830\njust stopping services.\n\n398\n00:18:47.830 --> 00:18:50.055\nNothing too exciting there at all.\n\n399\n00:18:50.055 --> 00:18:52.480\nGonna wait for that to shut off.\n\n400\n00:18:52.480 --> 00:18:54.580\nAnd then once that shuts off, and it is.\n\n401\n00:18:54.580 --> 00:18:58.098\nNice thing about using virtual machines,\nwe actually see it does shut off,\n\n402\n00:18:58.098 --> 00:18:59.810\ncuz then we'll get kicked\nout of the console window.\n\n403\n00:18:59.810 --> 00:19:02.430\nThe way we do when we're\nRDPing into real hardware.\n\n404\n00:19:02.430 --> 00:19:05.911\nAll right, so now that we've done that,\nand that's my machine right there by\n\n405\n00:19:05.911 --> 00:19:09.657\nthe way, what I'm gonna do as I mentioned\nthat because these are virtual machines,\n\n406\n00:19:09.657 --> 00:19:12.765\nI'm gonna have to go in, and\nI'm gonna have to export a copy of the VM,\n\n407\n00:19:12.765 --> 00:19:15.520\nand then import it to be able to\ngo ahead and create the clone.\n\n408\n00:19:15.520 --> 00:19:17.629\nA working copy that I will then clone,\nmodify, and\n\n409\n00:19:17.629 --> 00:19:19.601\nthen stand up as a brand\nnew domain controller.\n\n410\n00:19:19.601 --> 00:19:23.020\nSo if you've ever seen this happen in\nHyper-V, with equivalent in VMWare or\n\n411\n00:19:23.020 --> 00:19:25.820\nCitrix, before,\nit's a pretty straightforward process.\n\n412\n00:19:25.820 --> 00:19:29.202\nDefine the virtual machine instance\nin the Virtual Machine Manager.\n\n413\n00:19:29.202 --> 00:19:33.060\nIn this case, it's in Hyper-V, so\nwith VMWare, it would be in vCenter,\n\n414\n00:19:33.060 --> 00:19:36.295\nit would be Xen, the XenCenter in Xen,\nwhatever it might be.\n\n415\n00:19:36.295 --> 00:19:40.090\nRight-click, and\none of the options is Export.\n\n416\n00:19:40.090 --> 00:19:41.720\nYou can see I can export here.\n\n417\n00:19:41.720 --> 00:19:43.750\nExport means make a copy.\n\n418\n00:19:43.750 --> 00:19:46.350\nI'll then have an import option\nwhere I bring the copy back in.\n\n419\n00:19:46.350 --> 00:19:49.400\nExporting makes a copy that\nI can then work with, right?\n\n420\n00:19:49.400 --> 00:19:53.760\nSo, a copy that I will be able to modify,\nwhich is gonna become the working\n\n421\n00:19:53.760 --> 00:19:56.270\nfoundation for\nthe cloning that we're gonna do.\n\n422\n00:19:56.270 --> 00:19:58.420\nSo, multi-step process here.\n\n423\n00:19:58.420 --> 00:20:03.071\nWe've done steps one and two,\nadded the machine account for PLABVC02\n\n424\n00:20:03.071 --> 00:20:06.890\ninto the cloneable, a DC or cloneable\ndomain controller security group.\n\n425\n00:20:06.890 --> 00:20:11.010\nRun the cmdlets in PowerShell to\nspecify all the prereqs are met,\n\n426\n00:20:11.010 --> 00:20:15.000\nspit out the config file,\nshut down the source machine.\n\n427\n00:20:15.000 --> 00:20:16.610\nWe're now gonna export a copy of it.\n\n428\n00:20:16.610 --> 00:20:17.626\nAnd so I'm gonna do that,\n\n429\n00:20:17.626 --> 00:20:20.880\nI have to specify the location\nwhere I wanna export this to.\n\n430\n00:20:20.880 --> 00:20:24.460\nGiven the nature and the parameters of our\nenvironment in the testing environment,\n\n431\n00:20:24.460 --> 00:20:26.610\nwe're gonna specify a path here.\n\n432\n00:20:26.610 --> 00:20:30.279\nYou would specify whatever path makes\nsense in your test environment wherever\n\n433\n00:20:30.279 --> 00:20:31.796\nyou have room to write the copy.\n\n434\n00:20:31.796 --> 00:20:35.375\nI'm just gonna use a very specific\npath based on how this is set up.\n\n435\n00:20:35.375 --> 00:20:42.314\nI'm gonna go to d:\\Virtual Machines,\nand I'm gonna go to PLABDC02-clone.\n\n436\n00:20:42.314 --> 00:20:45.550\nI'm gonna make a new sub folder,\nI'm gonna call it clone.\n\n437\n00:20:45.550 --> 00:20:48.250\nAnd that's gonna be where I'm\ngonna create the hard drive and\n\n438\n00:20:48.250 --> 00:20:52.310\nthe working file copies of\nthe original PLABDC02 machine and\n\n439\n00:20:52.310 --> 00:20:56.280\nthen have those as copies that I can work\nwith when I create the cloned instance.\n\n440\n00:20:56.280 --> 00:21:01.190\nSo I'm just copying a bunch of files, the\nVHDX file, and all the associated files\n\n441\n00:21:01.190 --> 00:21:03.980\nthat make up the virtual machine,\nput them into a subdirectory.\n\n442\n00:21:03.980 --> 00:21:05.040\nThat's all we're doing, very simple.\n\n443\n00:21:05.040 --> 00:21:06.665\nAll right, so I'm gonna do that here,\n\n444\n00:21:06.665 --> 00:21:11.100\ngonna click Export, that's gonna take\nplace, you'll notice here it's exporting.\n\n445\n00:21:11.100 --> 00:21:12.870\nGotta go to 100%, fairly quick.\n\n446\n00:21:12.870 --> 00:21:13.850\nThe VM's not too big.\n\n447\n00:21:13.850 --> 00:21:17.220\nIf it was a big VM, domain controllers\ndon't tend to be very large, but\n\n448\n00:21:17.220 --> 00:21:19.430\nif it was, it may take several minutes.\n\n449\n00:21:19.430 --> 00:21:21.225\nWe're already at almost 50%.\n\n450\n00:21:21.225 --> 00:21:23.716\nWe'll just give this a moment to\nfinish up, it's very, very quick.\n\n451\n00:21:23.716 --> 00:21:28.970\nOnce that happens, give it a moment just\nmake sure it's there, then what I'm gonna\n\n452\n00:21:28.970 --> 00:21:34.460\ndo is I'm gonna import the virtual machine\nfrom the cloned, copied new directory.\n\n453\n00:21:34.460 --> 00:21:37.730\nSo that I can bring in this brand\nnew virtual machine instance named,\n\n454\n00:21:37.730 --> 00:21:42.285\nor what will be named, PLABDC02-clone.\n\n455\n00:21:42.285 --> 00:21:46.659\nAnd then I'm gonna apply the cloning\nconfiguration template file to it,\n\n456\n00:21:46.659 --> 00:21:48.219\nthe XML file we looked at.\n\n457\n00:21:48.219 --> 00:21:50.725\nThat's what we're gonna do,\nall right, the clone is finished.\n\n458\n00:21:50.725 --> 00:21:52.885\nThe export rather is finished,\nI should say.\n\n459\n00:21:52.885 --> 00:21:54.720\nI'm gonna now import the virtual machine.\n\n460\n00:21:54.720 --> 00:21:57.986\nI have to specify the new path\nthat I'm gonna create, so\n\n461\n00:21:57.986 --> 00:22:00.777\nwhat we're gonna do now\nis right-click here.\n\n462\n00:22:00.777 --> 00:22:04.819\nWe're going to, instead of Export,\nwe're going to now come in, and\n\n463\n00:22:04.819 --> 00:22:06.390\nwe're going to Import.\n\n464\n00:22:06.390 --> 00:22:08.790\nSo what I'm gonna do is the following.\n\n465\n00:22:08.790 --> 00:22:09.950\nWhat am I doing here?\n\n466\n00:22:09.950 --> 00:22:12.980\nHold on for a second.\n\n467\n00:22:12.980 --> 00:22:16.132\nI am, where am I?\n\n468\n00:22:16.132 --> 00:22:19.987\nPLABVM01, that's what I mean, hold on,\nright place, wrong idea, okay,\n\n469\n00:22:19.987 --> 00:22:21.560\nI'm gonna import here.\n\n470\n00:22:21.560 --> 00:22:24.000\nSo Import Virtual Machine, and\n\n471\n00:22:24.000 --> 00:22:28.230\njust a little wizard to do the import,\nlet me move this over half a click here so\n\n472\n00:22:28.230 --> 00:22:32.760\nyou can see, all right, very good,\nwhat I need is just my path for imports.\n\n473\n00:22:32.760 --> 00:22:34.325\nBear with me one second, there we go.\n\n474\n00:22:34.325 --> 00:22:37.979\nAll right, so I'm gonna specify where\nI'm going to actually get the containing\n\n475\n00:22:37.979 --> 00:22:39.490\nvirtual machine to import from.\n\n476\n00:22:39.490 --> 00:22:40.790\nSo where is it created?\n\n477\n00:22:40.790 --> 00:22:43.364\nRemember, we have it here,\nI'll just go browse through it so\n\n478\n00:22:43.364 --> 00:22:44.260\nwe can go look for it.\n\n479\n00:22:44.260 --> 00:22:49.649\nGonna go into the D drive in\nthe Virtual Machines directory.\n\n480\n00:22:49.649 --> 00:22:54.310\nAnd in Virtual Machines,\nyou'll see I have PLABDC02-clone.\n\n481\n00:22:54.310 --> 00:22:58.380\nAnd inside there I have a folder called\nPLABVC02, that's the containing folder for\n\n482\n00:22:58.380 --> 00:23:01.100\nthe VM that I copied,\nso I'm gonna grab that.\n\n483\n00:23:01.100 --> 00:23:04.466\nHas to be at the folder level that\nthis path goes to by the way,\n\n484\n00:23:04.466 --> 00:23:06.380\nnot down to the VHDX files inside,\n\n485\n00:23:06.380 --> 00:23:08.606\nor the XML config files inside-\n&gt;&gt; Directory, no?\n\n486\n00:23:08.606 --> 00:23:11.040\n&gt;&gt; But at the directory level or\nfolder level.\n\n487\n00:23:11.040 --> 00:23:12.730\n&gt;&gt; Okay.\n&gt;&gt; So that's why I'm going there\n\n488\n00:23:12.730 --> 00:23:14.510\nas opposed to additional level down.\n\n489\n00:23:14.510 --> 00:23:15.080\nNow it does say,\n\n490\n00:23:15.080 --> 00:23:19.180\nin case you weren't picking up on it, it\ndoes say select the folder in the wizard,\n\n491\n00:23:19.180 --> 00:23:22.270\nbut if you don't see it, you may go down\nanother level and then it doesn't work.\n\n492\n00:23:22.270 --> 00:23:24.460\nYou gotta step back one level and\nthen you get it right.\n\n493\n00:23:24.460 --> 00:23:27.530\nSo we're at that level, we're gonna\nbe there, we're gonna click Next.\n\n494\n00:23:27.530 --> 00:23:29.250\nSelect the virtual machine.\n\n495\n00:23:29.250 --> 00:23:32.370\nThe wizard reads the contents of\nthe files inside the folder and\n\n496\n00:23:32.370 --> 00:23:36.100\nlooks at the config manifest XML file,\nsees the VHDX, says,\n\n497\n00:23:36.100 --> 00:23:39.130\nokay, the name of the virtual machine\nis whatever, and that's what you see.\n\n498\n00:23:39.130 --> 00:23:42.150\nNow, it's named PLABDC02 here because\n\n499\n00:23:42.150 --> 00:23:45.220\nthat's the name of\nthe machine that I copied.\n\n500\n00:23:45.220 --> 00:23:47.276\nI'm gonna rename it in a minute.\n\n501\n00:23:47.276 --> 00:23:51.636\nBut it is named here, PLABDC02,\nbecause that's the source machine,\n\n502\n00:23:51.636 --> 00:23:53.338\nthat's where I got it from.\n\n503\n00:23:53.338 --> 00:23:55.595\nI get to rename it as part of the process.\n\n504\n00:23:55.595 --> 00:23:58.392\nBut it hasn't been renamed yet\nso I'm gonna select it here.\n\n505\n00:23:58.392 --> 00:24:03.017\nSo don't get thrown off by the fact\nthat its named the same as the copy.\n\n506\n00:24:03.017 --> 00:24:06.572\nThat makes sense because\nthe copy is called plabdc02,.\n\n507\n00:24:06.572 --> 00:24:08.380\nWe haven't renamed it yet.\n\n508\n00:24:08.380 --> 00:24:10.720\nClick next,\nthen I have three options here.\n\n509\n00:24:10.720 --> 00:24:12.740\nCan we go full screen just so\nyou could see this real quick?\n\n510\n00:24:12.740 --> 00:24:14.720\nMake sure you understand,\nthis is very important.\n\n511\n00:24:14.720 --> 00:24:19.120\nRegister the virtual machine in place, use\nexisting unique IDj, restore the virtual\n\n512\n00:24:19.120 --> 00:24:24.880\nmachine, use the existing unique ID, or\ncopy the VM, create a new unique ID.\n\n513\n00:24:24.880 --> 00:24:28.510\nNow, the first two of these, which are\nones we're not gonna select, of course,\n\n514\n00:24:28.510 --> 00:24:32.780\nallow us to bring back in an existing\nVM that has to be re-registered or for\n\n515\n00:24:32.780 --> 00:24:36.450\nsome reason has to be restored\nbecause of a system failure.\n\n516\n00:24:36.450 --> 00:24:38.280\nSome sort of corruption,\nsomething went wrong.\n\n517\n00:24:38.280 --> 00:24:40.980\nIn other words, BCDR type events.\n\n518\n00:24:40.980 --> 00:24:42.900\nWhere I have to restore the VM, but\n\n519\n00:24:42.900 --> 00:24:48.070\nkeep it intact the way it was,\nand use the existing unique ID.\n\n520\n00:24:48.070 --> 00:24:50.130\nThink of the unique ID like a GUID.\n\n521\n00:24:50.130 --> 00:24:53.980\nEvery object in Hyper-V,\nin any virtualization manager,\n\n522\n00:24:53.980 --> 00:24:58.790\nhas a unique object ID, like a GUID,\nrepresenting it as a unique object.\n\n523\n00:24:58.790 --> 00:25:01.990\nSo that we know that it is this\nobject that we are managing.\n\n524\n00:25:01.990 --> 00:25:04.450\nStandard way of doing\nthings in any system.\n\n525\n00:25:04.450 --> 00:25:08.380\nWe don't want to replace the original\ncopy, use the existing unique ID, and\n\n526\n00:25:08.380 --> 00:25:10.910\njust essentially swap one copy for\nanother.\n\n527\n00:25:10.910 --> 00:25:14.890\nWe want to create a brand new copy, stood\nup on its own with a separate unique ID\n\n528\n00:25:14.890 --> 00:25:17.290\nthat we could then rename\nas part of the cloning.\n\n529\n00:25:17.290 --> 00:25:19.690\nThat's why we're gonna choose\nthe third option at the bottom,\n\n530\n00:25:19.690 --> 00:25:25.320\nwhich lets us take the copy from\nthe original source, create those files.\n\n531\n00:25:25.320 --> 00:25:28.982\nThen through a separate process we\nadd on here as we start the system up\n\n532\n00:25:28.982 --> 00:25:29.939\nreconfigure it.\n\n533\n00:25:29.939 --> 00:25:33.050\nBut we're gonna give it a unique ID,\nessentially its own unique GUID.\n\n534\n00:25:33.050 --> 00:25:38.320\nThe Hyper-V manager to instantiate the\ncopy as a brand new object so it's seen as\n\n535\n00:25:38.320 --> 00:25:42.350\nsomething different and not a duplicate of\nthe original which will cause conflicts.\n\n536\n00:25:42.350 --> 00:25:45.200\nAnd I'm gonna show you why this is\nimportant just a minute as we bring\n\n537\n00:25:45.200 --> 00:25:46.000\nthis up, okay?\n\n538\n00:25:46.000 --> 00:25:47.410\n&gt;&gt; All right.\n&gt;&gt; So stick with me here.\n\n539\n00:25:47.410 --> 00:25:50.862\nSo we're gonna choose this copy,\nthird option right here.\n\n540\n00:25:50.862 --> 00:25:53.152\nThe trick is create a new unique ID.\n\n541\n00:25:53.152 --> 00:25:55.180\nThat's the most important part.\n\n542\n00:25:55.180 --> 00:25:56.560\nAll right, click next.\n\n543\n00:25:56.560 --> 00:26:00.210\nAll right, now are we gonna move the\nvirtual machine or store it, as you can\n\n544\n00:26:00.210 --> 00:26:04.290\nsee here, in a different location or\nchoose where we wanna store it.\n\n545\n00:26:04.290 --> 00:26:08.110\nThis may or may not be important,\nso we're gonna check this off here.\n\n546\n00:26:09.330 --> 00:26:13.120\nWe're gonna go in and in the Choose Folder\nto store virtual hard disks,\n\n547\n00:26:13.120 --> 00:26:16.850\nwhich is virtual machine\nconfiguration folder right there.\n\n548\n00:26:16.850 --> 00:26:18.170\nWe have let me see.\n\n549\n00:26:19.490 --> 00:26:23.050\nWe wanna go ahead, or actually no,\nchoose storage folders on the next one.\n\n550\n00:26:23.050 --> 00:26:23.994\nHold on one second.\n\n551\n00:26:26.484 --> 00:26:28.938\nI want this one.\n\n552\n00:26:28.938 --> 00:26:31.970\nChoose storage folders right here,\nthat's the one I was gonna change.\n\n553\n00:26:31.970 --> 00:26:35.870\nWanna change this one from C,\nusers public, whatever where it is,\n\n554\n00:26:35.870 --> 00:26:38.100\nwe wanna store this in the D drive right,\nwhere we have everything.\n\n555\n00:26:38.100 --> 00:26:41.685\nSo we're gonna re-path this, so I'm\njust gonna go ahead and browse out here.\n\n556\n00:26:45.582 --> 00:26:51.410\nAnd let's go into the the D drive,\nvirtual machines, PlaidDC02Clone.\n\n557\n00:26:52.885 --> 00:26:57.078\nPlaidDC02, notice I have\na virtual hard disks folder.\n\n558\n00:26:57.078 --> 00:26:58.170\nSo I'm gonna go there.\n\n559\n00:26:58.170 --> 00:27:01.160\nAgain, folder level we're choosing,\nnot file level.\n\n560\n00:27:01.160 --> 00:27:02.800\nSo choose the folder.\n\n561\n00:27:02.800 --> 00:27:07.661\nSelect folder level, so it will say\nwhatever the path is for the drive,\n\n562\n00:27:07.661 --> 00:27:11.400\nvirtual machines,\nplab dc02 clone, plab dc02.\n\n563\n00:27:11.400 --> 00:27:15.629\nIn this case either vhd or virtual hard\ndisk, essentially it could say either one.\n\n564\n00:27:15.629 --> 00:27:18.044\nAll right, so we have that, click Next.\n\n565\n00:27:18.044 --> 00:27:23.275\nGot our summary there and\nthen click Finish.\n\n566\n00:27:23.275 --> 00:27:24.414\nLet it do its thing.\n\n567\n00:27:24.414 --> 00:27:29.142\nNow notice, I have two exact\nreferences to plabc02 now.\n\n568\n00:27:29.142 --> 00:27:32.773\nYou still have a second virtual\nmachine in the veniam monitor,\n\n569\n00:27:32.773 --> 00:27:36.690\nhyper veniam console that says\nplabc02 because of this process.\n\n570\n00:27:36.690 --> 00:27:41.151\nNow I said that's not gonna be\na problem here because we said copy and\n\n571\n00:27:41.151 --> 00:27:44.595\ncreate a brand new,\nunique instance, a unique ID,\n\n572\n00:27:44.595 --> 00:27:48.290\nso that I can have two named the same for\nthe moment.\n\n573\n00:27:48.290 --> 00:27:50.860\nBut Hyper-V knows they're different\nbecause they have unique ID's that\n\n574\n00:27:50.860 --> 00:27:52.900\nare different, QUIDS,\nin other words, that are different.\n\n575\n00:27:52.900 --> 00:27:55.210\nBut we have to re-name it so\nwe can keep track of which one is which,\n\n576\n00:27:55.210 --> 00:27:56.700\nbecause which one do we start?\n\n577\n00:27:56.700 --> 00:27:58.040\nWhich one are we cloning?\n\n578\n00:27:58.040 --> 00:27:58.560\nHard to say.\n\n579\n00:27:58.560 --> 00:28:00.310\n&gt;&gt; Gotta know.\n&gt;&gt; We gotta know right.\n\n580\n00:28:00.310 --> 00:28:03.210\nSo in this case obviously the second\ninstance is the one we just created\n\n581\n00:28:03.210 --> 00:28:07.070\nis probably okay to keep track of and\nbe aware of, but we're gonna use this.\n\n582\n00:28:07.070 --> 00:28:09.580\nSo we wanna go on,\nright click on the settings here and\n\n583\n00:28:09.580 --> 00:28:11.600\njust make sure we have the right\nmachine before we start.\n\n584\n00:28:11.600 --> 00:28:14.768\nSo let's just assume for a minute\nwe weren't sure which one this was.\n\n585\n00:28:14.768 --> 00:28:17.118\nHow could we tell in other\nwords is what I'm suggesting.\n\n586\n00:28:17.118 --> 00:28:23.382\nSo just into it, easiest way would be\ngo to settings, look at the hard drive.\n\n587\n00:28:23.382 --> 00:28:27.489\nSo let's go in here take a look at\nthe path for the hard drive, right here,\n\n588\n00:28:27.489 --> 00:28:31.862\nI know it's kinda hard to see but if you\ngo full screen, you can see the path is,\n\n589\n00:28:31.862 --> 00:28:35.999\nthe path I created virtual machines\nin the D drive, plabdc02/clone.\n\n590\n00:28:35.999 --> 00:28:40.071\nWe can tell that this is now gonna be the\ncloned instance, because it's pointing to\n\n591\n00:28:40.071 --> 00:28:43.520\nthe cloned copy of the VHD that\nI created that will be the copy.\n\n592\n00:28:43.520 --> 00:28:45.440\nSo we're checking the path,\nin other words,\n\n593\n00:28:45.440 --> 00:28:48.688\non the hard drive, to make sure we have\nthe right machine before we turn it on and\n\n594\n00:28:48.688 --> 00:28:51.125\nstart the cloning process is\nwhat I'm just pointing out.\n\n595\n00:28:51.125 --> 00:28:54.154\nNow if you know for a fact,\nyou're 100% confident, so\n\n596\n00:28:54.154 --> 00:28:56.528\nit's gonna be that second\ncopy that shows up.\n\n597\n00:28:56.528 --> 00:28:59.892\nYou're just gonna go ahead and just power\nthat on as we're gonna do in a minute,\n\n598\n00:28:59.892 --> 00:29:00.455\nno big deal.\n\n599\n00:29:00.455 --> 00:29:03.575\nIt will be the second copy as it\nputs it underneath the first one but\n\n600\n00:29:03.575 --> 00:29:04.784\nI'm a little cautious.\n\n601\n00:29:04.784 --> 00:29:06.944\nI want to make sure I got\nthe right machine just so\n\n602\n00:29:06.944 --> 00:29:08.354\nthat I don't screw things up.\n\n603\n00:29:08.354 --> 00:29:11.197\nSo that's what I'm gonna do,\nI'm gonna rename this just so\n\n604\n00:29:11.197 --> 00:29:14.520\nI can keep track of it, so\nI know what it is now that I'd verified.\n\n605\n00:29:14.520 --> 00:29:16.570\nThat it's the right\ninstance I wanna work with.\n\n606\n00:29:16.570 --> 00:29:18.620\nSo I'm gonna rename before\nrunning anything else.\n\n607\n00:29:18.620 --> 00:29:21.320\nSo come over here, rename,\nand I'm gonna rename this.\n\n608\n00:29:21.320 --> 00:29:24.608\nAnd I'm just gonna rename it -clone,\nso that in the console,\n\n609\n00:29:24.608 --> 00:29:28.717\nI know that it's the one that I'm working\nwith and that it's the cloned copy.\n\n610\n00:29:28.717 --> 00:29:30.514\nSo I'm just gonna\nright-click to rename that.\n\n611\n00:29:30.514 --> 00:29:34.030\nJust for purposes of keeping track of it,\nmake it a little easier for me.\n\n612\n00:29:34.030 --> 00:29:37.200\nNow what I'm gonna do is I'm\ngonna go ahead and start this up.\n\n613\n00:29:37.200 --> 00:29:40.960\nI'm gonna connect the console,\nstart it up, and let's watch what happens.\n\n614\n00:29:40.960 --> 00:29:43.060\nSo right click,\nI'm always gonna connect and\n\n615\n00:29:43.060 --> 00:29:46.660\nopen the console before I power it on so\nI can see the changes happening.\n\n616\n00:29:46.660 --> 00:29:49.549\nWe'll power it on, we're gonna watch\nwhat happens so just keep track.\n\n617\n00:29:50.940 --> 00:29:51.900\nWatch here.\n\n618\n00:29:51.900 --> 00:29:54.560\nAnd once this comes up, powers on and\nwe're used to seeing it start up.\n\n619\n00:29:54.560 --> 00:29:56.380\nThat's really not very exciting.\n\n620\n00:29:56.380 --> 00:29:57.890\nBut watch the blue screen that comes up.\n\n621\n00:29:57.890 --> 00:30:01.570\nIt's going to say domain controller\nafter it does apply computer settings.\n\n622\n00:30:01.570 --> 00:30:02.160\nGive it a minute.\n\n623\n00:30:03.400 --> 00:30:06.330\nWe should see domain controller cloning,\nand\n\n624\n00:30:06.330 --> 00:30:09.410\nat a certain percentage point\nin the completion process.\n\n625\n00:30:09.410 --> 00:30:10.240\nLet's scroll down,\n\n626\n00:30:10.240 --> 00:30:14.190\ngive this a minute because it does have to\ngo through a couple of things as it goes.\n\n627\n00:30:14.190 --> 00:30:15.350\nSo we'll wait for this.\n\n628\n00:30:15.350 --> 00:30:16.210\nYou can just kinda see it.\n\n629\n00:30:16.210 --> 00:30:17.290\nWe'll see it start.\n\n630\n00:30:17.290 --> 00:30:18.670\nWe're not gonna watch and\ndo the whole thing,\n\n631\n00:30:18.670 --> 00:30:20.870\nbut we will see it start as it applies.\n\n632\n00:30:22.050 --> 00:30:26.115\n&gt;&gt; Adam, because we're using Hyper-V for\nthe Mac address because it had seen it\n\n633\n00:30:26.115 --> 00:30:29.307\ndoes a i separate-\n&gt;&gt; Hyper-V for Mac address?\n\n634\n00:30:29.307 --> 00:30:33.980\n&gt;&gt; How Hyper-V creates and generates\nMAC addresses for our virtual machines.\n\n635\n00:30:33.980 --> 00:30:35.050\nSo that's secondary.\n\n636\n00:30:35.050 --> 00:30:38.300\nWe could also, perhaps,\nlook at those MAC addresses to verify\n\n637\n00:30:38.300 --> 00:30:41.510\nwhich one was the originally\nalso at that time?\n\n638\n00:30:41.510 --> 00:30:43.040\nOr would it be identical?\n\n639\n00:30:43.040 --> 00:30:46.210\n&gt;&gt; Well, you would have had to number one,\nhave a reference, have the MAC address.\n\n640\n00:30:46.210 --> 00:30:47.560\n&gt;&gt; And know what it is?\n\n641\n00:30:47.560 --> 00:30:49.660\nMost people probably wouldn't\nhave a clue what that was.\n\n642\n00:30:49.660 --> 00:30:50.750\nThey may not have noted it.\n\n643\n00:30:50.750 --> 00:30:53.482\nSo, there we go, that's what we're\nwaiting on, Domain Controller cloning.\n\n644\n00:30:53.482 --> 00:30:54.537\nYou're gonna wait to see that.\n\n645\n00:30:54.537 --> 00:30:56.740\nObviously, it's gotta go to 100%.\n\n646\n00:30:56.740 --> 00:31:00.480\nBut we will see that climb and it is in\nthe process now of applying that config\n\n647\n00:31:00.480 --> 00:31:03.070\nfile and going through and\nmaking the changes we discussed.\n\n648\n00:31:03.070 --> 00:31:05.640\nI didn't mean to not answer your\nquestion fully and interrupt.\n\n649\n00:31:05.640 --> 00:31:07.740\nI just wanted to point that out for\npeople that are watching.\n\n650\n00:31:07.740 --> 00:31:10.020\nSo, yeah,\ncould we have looked at the MAC address?\n\n651\n00:31:10.020 --> 00:31:10.620\nGreat question.\n\n652\n00:31:10.620 --> 00:31:12.650\nI mean in theory, certainly we could've.\n\n653\n00:31:12.650 --> 00:31:14.519\nThe problem is, as I said,\nyou probably wouldn't have a note.\n\n654\n00:31:14.519 --> 00:31:18.260\nI mean you may have taken a note of the\nMAC address but most people may not have.\n\n655\n00:31:18.260 --> 00:31:22.190\nSo, while it's certainly an option,\nit might not be the best option so\n\n656\n00:31:22.190 --> 00:31:24.410\nwe may not have that information\nready at hand let's say.\n\n657\n00:31:24.410 --> 00:31:27.424\nBut yeah,\nin theory we could look at that as well.\n\n658\n00:31:27.424 --> 00:31:29.302\nIt's climbing now, it's at about 40%.\n\n659\n00:31:29.302 --> 00:31:32.140\nWe're going to let that run and finish up.\n\n660\n00:31:32.140 --> 00:31:36.250\nBut once that finishes up,\nwe'll be at the log-on screen.\n\n661\n00:31:36.250 --> 00:31:37.520\nWe'll be able to log in.\n\n662\n00:31:37.520 --> 00:31:38.890\nIt's almost done,\nthere you can see it goes.\n\n663\n00:31:38.890 --> 00:31:40.540\nFairly quick.\nIt's a small domain controller.\n\n664\n00:31:40.540 --> 00:31:41.791\nIt's not a big domain.\nKeep in mind,\n\n665\n00:31:41.791 --> 00:31:46.812\nif we had a domain controller with 100,000\nobjects that had to be replicated and\n\n666\n00:31:46.812 --> 00:31:51.647\nall that information was all ready in\nthere versus 10 objects wouldn't matter.\n\n667\n00:31:51.647 --> 00:31:54.520\nWe're not copying information\nIt's not the size of\n\n668\n00:31:54.520 --> 00:31:57.327\nthe directory that's gonna\nextend this process,\n\n669\n00:31:57.327 --> 00:32:01.520\nit's the speed at which the cloning\nconfiguration process can be applied.\n\n670\n00:32:01.520 --> 00:32:05.260\nIn other words, it's actually the\nhorsepower of the machine, how much CPU,\n\n671\n00:32:05.260 --> 00:32:09.070\nhow much memory we have that's\nessentially driving this.\n\n672\n00:32:09.070 --> 00:32:12.660\nAlong with the IOP capability of\nthe local hard drive and the controller,\n\n673\n00:32:12.660 --> 00:32:16.880\ncuz this is just a read write process, the\nconfiguration process on a local machine.\n\n674\n00:32:16.880 --> 00:32:20.820\nThis is not copying domain data down and\nsinking the domain controller.\n\n675\n00:32:20.820 --> 00:32:24.600\nWe already made this domain controller,\nwe took a copy of an existing one.\n\n676\n00:32:24.600 --> 00:32:27.055\nIn other words that machine has got\neverything in it, it already needs.\n\n677\n00:32:27.055 --> 00:32:30.610\nThis is really just a templated\nconfiguration overlay exercise, so\n\n678\n00:32:30.610 --> 00:32:34.652\nit takes as long as it takes based on the\nactual configuration of the machine and\n\n679\n00:32:34.652 --> 00:32:37.860\nit's ability to churn\nthrough the chain as quickly.\n\n680\n00:32:37.860 --> 00:32:39.220\nNothing to do with network connectivity,\n\n681\n00:32:39.220 --> 00:32:41.580\nnothing to do with\nthe size of the directory.\n\n682\n00:32:41.580 --> 00:32:45.910\nSo you can see it's finishing up, stopping\nservices and then it's gonna go ahead and\n\n683\n00:32:45.910 --> 00:32:48.920\nstart them up, restart, and\nwe'll be able to go in and log in.\n\n684\n00:32:48.920 --> 00:32:52.250\nSo this is what the process looks like\nas we go through the domain clone.\n\n685\n00:32:52.250 --> 00:32:55.270\nWe apply the templated changes,\nshut down, restart.\n\n686\n00:32:55.270 --> 00:32:59.320\nThis will come back up again momentarily,\nand we'll actually then be able to log in,\n\n687\n00:32:59.320 --> 00:33:01.980\ngo through the normal,\nstandard applying computer settings.\n\n688\n00:33:01.980 --> 00:33:03.530\nThat doesn't take very\nlong to scroll down,\n\n689\n00:33:03.530 --> 00:33:06.820\nso we can see that log\non screen pop up there.\n\n690\n00:33:06.820 --> 00:33:10.170\nOnce that starts up,\nwe get our prompt to log in.\n\n691\n00:33:10.170 --> 00:33:14.220\nWe'll be able to log in as the practice\nlab\"s administrator of the domain admin.\n\n692\n00:33:14.220 --> 00:33:15.570\nWe'll be able to get on to the machine.\n\n693\n00:33:15.570 --> 00:33:17.288\nAnd once we've done that we'll go in, and\n\n694\n00:33:17.288 --> 00:33:20.116\nwe'll just quickly verify that we\nhave a working domain controller.\n\n695\n00:33:20.116 --> 00:33:22.810\nWe'll just show you the server manager,\nyou could see the server tools,\n\n696\n00:33:22.810 --> 00:33:24.500\nthe management tools will be there.\n\n697\n00:33:24.500 --> 00:33:26.820\nAnd essentially we'll be all set,\nwe'll have our clone.\n\n698\n00:33:26.820 --> 00:33:30.060\nSo while we're just waiting on\nthis to give us our log on screen,\n\n699\n00:33:30.060 --> 00:33:33.050\nany other thoughts or points of interest?\n\n700\n00:33:33.050 --> 00:33:34.930\n&gt;&gt; Adam,\nyou did mention business continuity,\n\n701\n00:33:34.930 --> 00:33:40.020\nwhich kind of brings up an idea of hey,\nI know this is not a replacement for\n\n702\n00:33:40.020 --> 00:33:42.830\nany kind of scheduled back up systems.\n\n703\n00:33:42.830 --> 00:33:47.420\nBut, you also mentioned, there may be\nsome kind of delta changes in the process\n\n704\n00:33:47.420 --> 00:33:51.910\nof getting this copier,\nthis clone spun up within our environment.\n\n705\n00:33:51.910 --> 00:33:55.883\nSo, my question is, or\nactually someone here put it in the chat,\n\n706\n00:33:55.883 --> 00:34:00.798\nis this something that we could do and\ncreate an offline image, and then, have,\n\n707\n00:34:00.798 --> 00:34:03.290\nI guess, for emergency type purposes?\n\n708\n00:34:03.290 --> 00:34:07.459\nAnd then you kinda have to think about,\nwell, how long could that offline image\n\n709\n00:34:07.459 --> 00:34:10.960\nactually be relevant before it\nbecame stale and things like that?\n\n710\n00:34:10.960 --> 00:34:12.380\n&gt;&gt; Well we've had a process for many,\n\n711\n00:34:12.380 --> 00:34:16.135\nmany years, going all the way back\nto Windows 2000 as a matter of fact.\n\n712\n00:34:16.135 --> 00:34:18.975\nTo deal with this exact concern, right?\n\n713\n00:34:18.975 --> 00:34:21.405\nAnd that process would be\na system state backup, and\n\n714\n00:34:21.405 --> 00:34:23.545\na system state restore in one form or\nanother.\n\n715\n00:34:23.545 --> 00:34:26.455\nTypically driven through NTDS util,\na tool we demonstrated for\n\n716\n00:34:26.455 --> 00:34:28.425\nyou for instance, and\nshown you how to use.\n\n717\n00:34:28.425 --> 00:34:31.555\nIf you're using certain backup software,\nthey have interfaces now where you can\n\n718\n00:34:31.555 --> 00:34:34.875\nkind of do all this in arc serve\nbackup exec whatever it is.\n\n719\n00:34:34.875 --> 00:34:37.591\nYou check off the box, it's just\npart of the standard backup you do.\n\n720\n00:34:37.591 --> 00:34:41.120\nYou do the restore or\nhave access to the backup files.\n\n721\n00:34:41.120 --> 00:34:42.480\nSo do the restore there as well.\n\n722\n00:34:43.600 --> 00:34:48.450\nBut we've been able to do a system state\nbackup for this exact reason, literally as\n\n723\n00:34:48.450 --> 00:34:52.020\nI said, going back probably close to\n20 years now with Windows 2000 forward.\n\n724\n00:34:52.020 --> 00:34:54.950\nAnd that's the preferred best\npractice methodology for\n\n725\n00:34:54.950 --> 00:35:00.100\nkeeping track of the Active Directory\nNTDS, and SYSVOL information.\n\n726\n00:35:00.100 --> 00:35:02.368\nAnd then restoring it during a BCR event.\n\n727\n00:35:02.368 --> 00:35:07.470\nWe would not use something like\nan offline copy, a template of some kind,\n\n728\n00:35:07.470 --> 00:35:11.092\nwhatever we may call that to be able\nto have a point in time, almost like\n\n729\n00:35:11.092 --> 00:35:16.530\na System Restore point in time snapshot\nwhich is what essentially would be.\n\n730\n00:35:16.530 --> 00:35:18.830\nWe don't recommend that\nbecause there are problems and\n\n731\n00:35:18.830 --> 00:35:22.860\nconcerns with trying to restore back\nto that because now you're rolling back\n\n732\n00:35:22.860 --> 00:35:27.050\nchanges as opposed to rolling\nforward to where we have to be.\n\n733\n00:35:27.050 --> 00:35:30.890\nThere is a process through NTDS util where\nwe backfill the domain controller when it\n\n734\n00:35:30.890 --> 00:35:34.140\ncomes up, overriding those\nchanges with what's current.\n\n735\n00:35:34.140 --> 00:35:37.410\nWe have to do an authoritative restore,\ncuz there's two ways to do this.\n\n736\n00:35:37.410 --> 00:35:41.490\nIf we're restoring cuz we deleted\nan item let's say hypothetically\n\n737\n00:35:41.490 --> 00:35:42.320\nthat needs to be there.\n\n738\n00:35:42.320 --> 00:35:43.190\nMaybe we'd go in and\n\n739\n00:35:43.190 --> 00:35:46.570\nget through some normal maintenance,\nwe delete a user or group.\n\n740\n00:35:46.570 --> 00:35:47.360\nWe say oops, wow!\n\n741\n00:35:47.360 --> 00:35:48.700\nI didn't mean to do that, wow!\n\n742\n00:35:48.700 --> 00:35:51.580\nHorrible, and that's replicated to all\nthe domain controllers at this point.\n\n743\n00:35:51.580 --> 00:35:53.150\nI just got rid of that group.\n\n744\n00:35:53.150 --> 00:35:54.030\nI have to restore it.\n\n745\n00:35:54.030 --> 00:35:56.890\nI have to do what's called\nan authoritative restore.\n\n746\n00:35:56.890 --> 00:36:02.330\nI have to mark the restoration of that\nobject or group of objects with a higher\n\n747\n00:36:02.330 --> 00:36:07.770\nrestore number than the current objects\nin the system to tell the ADDS system\n\n748\n00:36:07.770 --> 00:36:13.040\nin the process that replicates changes,\nthat all the domain controllers\n\n749\n00:36:13.040 --> 00:36:18.231\nthat already have the change that\ndeleted the object, are not correct.\n\n750\n00:36:18.231 --> 00:36:21.006\nThat when I come back and\ntry to restore the object, in other words,\n\n751\n00:36:21.006 --> 00:36:24.750\nthose domain controllers should not say,\nwait a second, Adam, you're wrong.\n\n752\n00:36:24.750 --> 00:36:25.540\nHere's what's right,\n\n753\n00:36:25.540 --> 00:36:29.300\nand overwrite my restoration\nbecause they think they're right.\n\n754\n00:36:29.300 --> 00:36:31.140\nThat's a normal restore.\n\n755\n00:36:31.140 --> 00:36:34.310\nAn authoritative restore lets me say,\nno you guys are wrong.\n\n756\n00:36:34.310 --> 00:36:37.420\nI'm right,\nI'm gonna push the change out instead of\n\n757\n00:36:37.420 --> 00:36:39.850\naccept the changes that\nyou're overriding to me.\n\n758\n00:36:39.850 --> 00:36:44.170\nSo I had to change the identifier number\non the object and put it up above\n\n759\n00:36:44.170 --> 00:36:47.880\neverything else to market as authoritative\nand then push that out to everybody,\n\n760\n00:36:47.880 --> 00:36:52.270\noverriding the existing directory\nchanges through an authoritative store.\n\n761\n00:36:52.270 --> 00:36:56.110\nSo there's two ways to do this, but\nultimately they both come back to the idea\n\n762\n00:36:56.110 --> 00:37:00.340\nthat I need to have the system\nstate backup files, right.\n\n763\n00:37:00.340 --> 00:37:04.050\nIn order to be able to do this and\nthe use of the tool the NTDS tool.\n\n764\n00:37:04.050 --> 00:37:06.960\nNTDS util tool,\nto be able to drive this, right.\n\n765\n00:37:06.960 --> 00:37:10.240\nSo that is the process we engage in.\n\n766\n00:37:10.240 --> 00:37:15.320\nWe wouldn't use a snapshotted clone copy\nbecause it would cause disruption and\n\n767\n00:37:15.320 --> 00:37:18.550\nactually corruption in the system, so\nwe would not be able to do it that way.\n\n768\n00:37:18.550 --> 00:37:21.620\nSo no, the answer unequivocally is no,\nwe would not do that.\n\n769\n00:37:21.620 --> 00:37:27.210\nBy creating this clone copy, all we're\ndoing is creating another copy of a domain\n\n770\n00:37:27.210 --> 00:37:31.010\ncontroller that now that we've modified,\nit could be stood up, put into production\n\n771\n00:37:31.010 --> 00:37:35.210\nfairly quickly compared to having to build\nit from scratch because we're not, right,\n\n772\n00:37:35.210 --> 00:37:38.030\nwe're not back filling and\nreplicating all that, it's already there.\n\n773\n00:37:39.430 --> 00:37:43.800\nAnd remember this process, if I don't have\nto stop and narrate along the way and\n\n774\n00:37:43.800 --> 00:37:46.940\nwait for everything to happen and explain\nit to you, if you're just doing this cuz\n\n775\n00:37:46.940 --> 00:37:49.700\nyour head's down doing it,\nit moves fairly quickly as you've seen.\n\n776\n00:37:49.700 --> 00:37:52.620\nIf you take in all the discussion and\nkind of the waiting for\n\n777\n00:37:52.620 --> 00:37:56.370\nthis to happen stuff that we did,\nit's actually a fairly quick process.\n\n778\n00:37:56.370 --> 00:38:00.022\nExtending the domain controller through\ncloning can take 15, 20, 30 minutes,\n\n779\n00:38:00.022 --> 00:38:02.520\nit's not very long, compared to\nhaving to create one from scratch and\n\n780\n00:38:02.520 --> 00:38:06.570\nbackfill through replication, which could\ntake hours, depending on the size of\n\n781\n00:38:06.570 --> 00:38:09.800\nthe NTDS directory file,\nright, how big the schema is.\n\n782\n00:38:09.800 --> 00:38:13.992\nSo you join me back here, we're back\nin our log on prompt ready to log on.\n\n783\n00:38:13.992 --> 00:38:16.090\nJust waiting for\nyou to join us here to do that.\n\n784\n00:38:16.090 --> 00:38:18.170\nLet me just click Ctrl+Alt+Del.\n\n785\n00:38:18.170 --> 00:38:20.950\nPractice Labs Administrator,\nas you could see there.\n\n786\n00:38:20.950 --> 00:38:22.200\nLet's just log on.\n\n787\n00:38:22.200 --> 00:38:26.130\nGive that just a minute to come up.\n\n788\n00:38:26.130 --> 00:38:29.180\nAnd when we do,\nwe'll be able to get in here and\n\n789\n00:38:29.180 --> 00:38:31.340\nopen up the Server Manager\nhere momentarily.\n\n790\n00:38:31.340 --> 00:38:33.370\nSo we'll just wait for that to come up.\n\n791\n00:38:33.370 --> 00:38:37.258\nAnd then once the dashboard comes up and\nsyncs and just registers the fact that or\n\n792\n00:38:37.258 --> 00:38:40.392\na domain controller loads the ADDS and\nall the other features and\n\n793\n00:38:40.392 --> 00:38:43.409\ntools that are associated will\nbe able to go to a local server,\n\n794\n00:38:43.409 --> 00:38:47.155\nsee the name of the machine and CMD that\nwe have created a viable cloned copy.\n\n795\n00:38:47.155 --> 00:38:48.640\nLooks like we're just\nabout ready to do that.\n\n796\n00:38:48.640 --> 00:38:50.523\n&gt;&gt; Well look it's stalling.\n\n797\n00:38:50.523 --> 00:38:52.274\nIt's the PLAB-DC02 dolly machine,\nexactly, right.\n\n798\n00:38:52.274 --> 00:38:54.229\nAll right.\n\n799\n00:38:54.229 --> 00:38:57.568\nSo local server, and\nyou'll see PLAB-DC02 clone,\n\n800\n00:38:57.568 --> 00:39:00.230\ndomain controller in practicelabs.com.\n\n801\n00:39:00.230 --> 00:39:04.420\nWe've essentially cloned our PLAB-DC02\nmachine, created a new instance as another\n\n802\n00:39:04.420 --> 00:39:06.920\ndomain controller, and\nyou can see it's sitting right there.\n\n803\n00:39:06.920 --> 00:39:07.510\n&gt;&gt; Pretty cool, Adam.\n\n804\n00:39:08.790 --> 00:39:10.420\nThere you go.\n\n805\n00:39:10.420 --> 00:39:12.538\nThat's how we clone a domain\ncontroller in Server '16\n\n806\n00:39:12.538 --> 00:39:14.193\n&gt;&gt; All right, fhank you so much for\n\n807\n00:39:14.193 --> 00:39:17.720\nshowing us how to do that step by step and\nexplaining why or why not we would\n\n808\n00:39:17.720 --> 00:39:21.820\nnot want to use this process,\nwhat it's uses for, so thank you for that.\n\n809\n00:39:21.820 --> 00:39:23.190\n&gt;&gt; We do wanna use it just to be clear.\n\n810\n00:39:23.190 --> 00:39:24.320\nI know you're not saying\nthat we shouldn't.\n\n811\n00:39:24.320 --> 00:39:27.664\nWe do wanna use it but as you put it, but\nas you pointed out, only on a narrowly\n\n812\n00:39:27.664 --> 00:39:31.130\ndefined set of circumstances,\nnot very clearly, not for BCDR.\n\n813\n00:39:31.130 --> 00:39:35.380\nAuthoritative restores through the NTDS\nutil tool using the system state restore.\n\n814\n00:39:35.380 --> 00:39:38.390\nA backup in a system state restore\nprocess would be how we deal with that.\n\n815\n00:39:38.390 --> 00:39:39.750\n&gt;&gt; Those backups, I'll tell ya.\n\n816\n00:39:39.750 --> 00:39:40.550\nThey're important.\n\n817\n00:39:40.550 --> 00:39:42.790\nAll right, so thank you so much.\n\n818\n00:39:42.790 --> 00:39:44.530\nStay tuned,\nwe have more information headed your way.\n\n819\n00:39:44.530 --> 00:39:46.250\nBut for this show,\nwe'll go ahead and sign out.\n\n820\n00:39:46.250 --> 00:39:47.800\nI've been your host, Cherokee Boose.\n\n821\n00:39:47.800 --> 00:39:48.560\n&gt;&gt; I'm Adam Gordon.\n\n822\n00:39:48.560 --> 00:39:50.370\n&gt;&gt; See you next time here at ITProTV.\n\n823\n00:39:50.370 --> 00:39:50.985\n&gt;&gt; Happy cloning.\n\n824\n00:39:50.985 --> 00:39:51.514\n&gt;&gt; [LAUGH]\n\n825\n00:39:56.411 --> 00:39:59.149\n[MUSIC]\n\n826\n00:39:59.149 --> 00:40:01.436\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229129384"
        },
        {
          "description": "In this show, Adam and Cherokee explain what it means to Install From Media (IFM) and when it may be optimal to do so. Watch Adam walk thru the process step by step.",
          "length": "1985",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-7-installing_a_domain_controller_using_ifm-080917.00_32_50_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-7-installing_a_domain_controller_using_ifm-080917.00_32_50_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-7-installing_a_domain_controller_using_ifm-080917.00_32_50_21.Still001-sm.jpg",
          "title": "Installing a Domain Controller using IFM",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:03.582\nWelcome to ITPro.TV,\nI'm your host Don Pezet [CROSSTALK]\n\n2\n00:00:03.582 --> 00:00:07.637\n[MUSIC]\n\n3\n00:00:07.637 --> 00:00:11.604\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:11.604 --> 00:00:15.301\n&gt;&gt; Welcome to your identity with\nWindows Server 2016 Series.\n\n5\n00:00:15.301 --> 00:00:17.650\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.650 --> 00:00:22.286\nIn this episode, we'll be looking at\nhow to install a domain controller\n\n7\n00:00:22.286 --> 00:00:24.800\nusing well Installing from media IFM.\n\n8\n00:00:24.800 --> 00:00:27.600\nSo with us today back in studios,\nwe have Mr. Adam Gordon.\n\n9\n00:00:27.600 --> 00:00:28.792\nHow's it going today, Adam?\n\n10\n00:00:28.792 --> 00:00:30.792\n&gt;&gt; It is going, A-OK.\n\n11\n00:00:30.792 --> 00:00:34.019\nI'm trying to stick with the three\nletter acronym communication style.\n\n12\n00:00:34.019 --> 00:00:34.753\nYou said IFM.\n\n13\n00:00:34.753 --> 00:00:37.340\nSo I'm going to use three letter\nacronyms to communicate everything.\n\n14\n00:00:39.550 --> 00:00:41.644\nNM from now on, and FNO, anyway.\n\n15\n00:00:41.644 --> 00:00:43.309\n&gt;&gt; GTK, good to know.\n\n16\n00:00:43.309 --> 00:00:44.245\n&gt;&gt; Yes, exactly.\n\n17\n00:00:44.245 --> 00:00:45.930\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay, enough of that silliness.\n\n18\n00:00:45.930 --> 00:00:47.048\nLet's talk about something\nreally important.\n\n19\n00:00:47.048 --> 00:00:51.738\nSo we're going to start talking about and\nactually walk through a little hands-on\n\n20\n00:00:51.738 --> 00:00:56.161\ndemonstration for you, of how to do\nan IFM, and install from media deployment\n\n21\n00:00:56.161 --> 00:01:00.130\nof a ADDS, and active directory\ndomain services domain controller.\n\n22\n00:01:00.130 --> 00:01:02.900\nNow, in the use of or\n\n23\n00:01:02.900 --> 00:01:07.640\ngoing through the thought process of using\nan IFM methodology installed for media.\n\n24\n00:01:07.640 --> 00:01:11.730\nWe make it sound like it's some of\nthis crazy, kind of interesting stuff,\n\n25\n00:01:11.730 --> 00:01:13.860\nit's cool, never done before,\nnever seen before.\n\n26\n00:01:13.860 --> 00:01:17.590\nThis is the traditional way,\nmore often than not,\n\n27\n00:01:17.590 --> 00:01:19.700\nthat domain controllers get deployed.\n\n28\n00:01:19.700 --> 00:01:23.209\nBut, not using the normal thought process\nand methodology that we would think of.\n\n29\n00:01:23.209 --> 00:01:26.916\nWhat I mean is the first domain controller\nthe forest root domain controller that\n\n30\n00:01:26.916 --> 00:01:29.070\ngets established to create the forest.\n\n31\n00:01:29.070 --> 00:01:33.656\nOr the first domain controller that\nestablishes that particular domain has to\n\n32\n00:01:33.656 --> 00:01:37.839\nbe installed, but cannot be installed\nusing this particular method.\n\n33\n00:01:37.839 --> 00:01:42.327\nThis IFM method what we would think of\ninstead of installing the methodology we'd\n\n34\n00:01:42.327 --> 00:01:45.905\nuse to install that would be\nthe traditional install for media and\n\n35\n00:01:45.905 --> 00:01:47.222\nthere is a difference.\n\n36\n00:01:47.222 --> 00:01:52.013\nThe difference is the named IFM\nmethodology that we're gonna talk about\n\n37\n00:01:52.013 --> 00:01:56.882\nhere that Microsoft talks about,\ndocuments, and uses or explains, and\n\n38\n00:01:56.882 --> 00:02:00.440\nhow to use in in this\nparticular thought process.\n\n39\n00:02:00.440 --> 00:02:03.460\nIt's gonna use a snapshot of\nan existing domain controller\n\n40\n00:02:03.460 --> 00:02:06.110\nas the source media to do the install.\n\n41\n00:02:06.110 --> 00:02:10.240\nIt's kind of interesting, because when\nyou talk to people over the last 15 or\n\n42\n00:02:10.240 --> 00:02:13.240\n20 years, and you say yeah I'm\ninstalling domain controller.\n\n43\n00:02:13.240 --> 00:02:15.330\nThey'll say so\nyou're installing it for media,\n\n44\n00:02:15.330 --> 00:02:18.150\nbecause you're gonna use a copy\nof the Windows binaries, and\n\n45\n00:02:18.150 --> 00:02:21.830\nyou're gonna create the domain controller,\nand you're gonna install from that.\n\n46\n00:02:21.830 --> 00:02:24.613\nAnd the idea is the same,\nin the sense that yes, in theory.\n\n47\n00:02:24.613 --> 00:02:28.490\nBut in all practicality,\nwe are installing from media.\n\n48\n00:02:28.490 --> 00:02:30.240\nIt's the source of the media.\n\n49\n00:02:30.240 --> 00:02:31.618\nWhere do we get the copy\nof the information from?\n\n50\n00:02:31.618 --> 00:02:32.462\n&gt;&gt; [CROSSTALK] So not that OEM.\n\n51\n00:02:32.462 --> 00:02:34.600\n&gt;&gt; What information are we using?\n\n52\n00:02:34.600 --> 00:02:36.301\nThat really is the difference here.\n\n53\n00:02:36.301 --> 00:02:39.243\nAnd so not, well, you said OEM?\n\n54\n00:02:39.243 --> 00:02:42.220\n&gt;&gt; Yes.\n&gt;&gt; Yes, so it would not be an OEM quote\n\n55\n00:02:42.220 --> 00:02:46.610\nunquote install, an original equipment\nmanufacturer, what OEM stands for.\n\n56\n00:02:46.610 --> 00:02:50.544\nThe acronym that is often used to\ndescribe a system builder right,\n\n57\n00:02:50.544 --> 00:02:55.339\na system integrator the Dells, the HPs of\nthe world that would put out a machine.\n\n58\n00:02:55.339 --> 00:02:58.739\nYou would buy it essentially pre\nloaded right with an operating system\n\n59\n00:02:58.739 --> 00:02:59.610\ntraditionally.\n\n60\n00:02:59.610 --> 00:03:03.680\nIt would not be a white box in the\ntraditional way we talk about servers and\n\n61\n00:03:03.680 --> 00:03:05.520\ndesktops that come with no OS.\n\n62\n00:03:05.520 --> 00:03:08.470\nBut rather one you would buy in the retail\nchannel more often than not right would\n\n63\n00:03:08.470 --> 00:03:12.550\nbe an OEM equivalent that would be\nimaged with some sort of a system.\n\n64\n00:03:12.550 --> 00:03:17.240\nNow many large companies may work within\nOEM and create a custom image, right?\n\n65\n00:03:17.240 --> 00:03:22.545\nSo if you're big enough company, you may\nsay, I'm gonna buy a thousand desktops or\n\n66\n00:03:22.545 --> 00:03:28.171\na thousand laptops from you Mr. Dell, Mr.\nHP, Mr. and Mrs. CDW, whatever it maybe.\n\n67\n00:03:28.171 --> 00:03:33.064\nAs the larvar you deal with I'm going to\nbuy at least that amount every year I want\n\n68\n00:03:33.064 --> 00:03:37.683\na custom install a custom image of\nWindows 10 or server 12 or whatever.\n\n69\n00:03:37.683 --> 00:03:39.789\nYou know with office fit\nconfigure this way and\n\n70\n00:03:39.789 --> 00:03:42.490\nif you do enough business they\nwill actually work with you.\n\n71\n00:03:42.490 --> 00:03:46.188\nThey'll build an image and you can just\nessentially put an order in and say hey I\n\n72\n00:03:46.188 --> 00:03:50.210\nneed another 30 of these machines and\nthey'll ship them to you pre-configured.\n\n73\n00:03:50.210 --> 00:03:53.920\nSo that's typically what happens in\nthe OEM chip more often then not or\n\n74\n00:03:53.920 --> 00:03:57.570\nyou buy white boxes you\nbuy just generic systems.\n\n75\n00:03:57.570 --> 00:04:00.930\nNo OS you may get the license rights for\nthe OS but\n\n76\n00:04:00.930 --> 00:04:04.200\nyou don't actually have it installed and\nthen you configure it when it comes right,\n\n77\n00:04:04.200 --> 00:04:06.030\nmore often then not if\nyou're a big business.\n\n78\n00:04:06.030 --> 00:04:07.720\nSo there's different ways that happens.\n\n79\n00:04:07.720 --> 00:04:09.930\nThose installs are done from media but\n\n80\n00:04:09.930 --> 00:04:12.800\nthey're done from this\ntraditional from media process.\n\n81\n00:04:12.800 --> 00:04:15.170\nThat I'm mentioning has been\naround forever and a day,\n\n82\n00:04:15.170 --> 00:04:19.340\nwhere you literally just have the Windows\nimage and you install directly from that.\n\n83\n00:04:19.340 --> 00:04:22.525\nRemember, the use of\nthe directory services,\n\n84\n00:04:22.525 --> 00:04:26.470\nADDS as a feature,\nis an add-on inside the server OS, right?\n\n85\n00:04:26.470 --> 00:04:30.140\nSo we don't see that out of the box as\npart of the install unless you go out of\n\n86\n00:04:30.140 --> 00:04:31.510\nyour way to configure it.\n\n87\n00:04:31.510 --> 00:04:33.854\nAnd we add it on in a first step.\n\n88\n00:04:33.854 --> 00:04:37.943\nThe second step is we then configure that\nfeature and build out the directory and\n\n89\n00:04:37.943 --> 00:04:39.780\nthe domain service as a result.\n\n90\n00:04:39.780 --> 00:04:42.660\nSo when we talk about installing\nthe domain controller using the IFM\n\n91\n00:04:42.660 --> 00:04:47.500\nmethodology, the install for media,\nwe're talking specifically about\n\n92\n00:04:47.500 --> 00:04:52.480\ninstalling a server, 16 OS in this case,\nadding the ADDS feature.\n\n93\n00:04:52.480 --> 00:04:54.220\nWe're gonna talk about how to do that.\n\n94\n00:04:54.220 --> 00:04:57.230\nAnd then from there, we create a snapshot,\n\n95\n00:04:57.230 --> 00:05:02.760\na copy of an existing domain controller's\nNTDS, sys vol and registry settings.\n\n96\n00:05:02.760 --> 00:05:06.350\nWe then take that and\nuse that as the source information\n\n97\n00:05:06.350 --> 00:05:10.670\nwhen we run through the wizard in the GUI\nin the Server Manager to configure ADDS,\n\n98\n00:05:10.670 --> 00:05:12.920\nwhich we'll walk through and\ndo here in the demo.\n\n99\n00:05:12.920 --> 00:05:16.640\nWe use it as the source when it says,\nhey where do you want to install from.\n\n100\n00:05:16.640 --> 00:05:20.610\nWe use that and\npoint to that IFM copy that we've made and\n\n101\n00:05:20.610 --> 00:05:22.060\nuse that to actually drive the install.\n\n102\n00:05:22.060 --> 00:05:25.340\nSo, slightly different thought\nprocess than what some of us,\n\n103\n00:05:25.340 --> 00:05:29.000\ndepending on how long you've been\ndoing this may traditionally think of\n\n104\n00:05:29.000 --> 00:05:31.150\nwhen we hear,\nhey I'm installing for media.\n\n105\n00:05:31.150 --> 00:05:34.580\nBecause if you've done this for\nmany many years, somebody says to you,\n\n106\n00:05:34.580 --> 00:05:36.110\nI want to make an installation.\n\n107\n00:05:36.110 --> 00:05:38.126\nThe one we installed for\nmedia, In my mind,\n\n108\n00:05:38.126 --> 00:05:41.959\nwhat I often think of initially is,\nI'm just gonna go grab like a set, right.\n\n109\n00:05:41.959 --> 00:05:44.830\nThe server image of binaries and\nI'm gonna install.\n\n110\n00:05:44.830 --> 00:05:48.613\nSo it's a little bit of a different\napproach and Microsoft's really re-tooled,\n\n111\n00:05:48.613 --> 00:05:52.860\nre-thought this process and is\ndocumenting it slightly differently now.\n\n112\n00:05:52.860 --> 00:05:55.120\nSo I just wanna make sure you're\ncomfortable with the language,\n\n113\n00:05:55.120 --> 00:05:58.710\nthe idea behind the acronym,\nwhere it comes from, the thought process,\n\n114\n00:05:58.710 --> 00:06:01.950\nwhy we do it this why, and now,\nthat we've talked about it.\n\n115\n00:06:01.950 --> 00:06:04.010\nWe'll actually go in and\ntake a look at what the steps are.\n\n116\n00:06:04.010 --> 00:06:07.280\nOkay, but I like the thought\nprocess of bringing in thought\n\n117\n00:06:07.280 --> 00:06:08.750\naround the OEM install channel, right?\n\n118\n00:06:08.750 --> 00:06:13.180\nCuz that is a different way of doing, but\nit does line up with this original thought\n\n119\n00:06:13.180 --> 00:06:15.620\nprocess of what the install for\nmedium may have been years ago.\n\n120\n00:06:15.620 --> 00:06:17.711\nSo great that we added that in there.\n\n121\n00:06:17.711 --> 00:06:18.921\nThat's worth like a high-five.\n\n122\n00:06:18.921 --> 00:06:19.469\n&gt;&gt; Okay.\n&gt;&gt; Awesome.\n\n123\n00:06:19.469 --> 00:06:20.650\n&gt;&gt; [LAUGH]\n&gt;&gt; Very good.\n\n124\n00:06:20.650 --> 00:06:22.875\nAll right,\nI would be lost without Cherokee.\n\n125\n00:06:22.875 --> 00:06:23.455\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n126\n00:06:23.455 --> 00:06:25.474\nthe ability for her to add all\nthis extra stuff as we talk.\n\n127\n00:06:25.474 --> 00:06:28.590\nSo it's always great that we\nare able to bring that stuff to you.\n\n128\n00:06:28.590 --> 00:06:30.091\nLet's go take a look at how\nwe're gonna actually do this.\n\n129\n00:06:30.091 --> 00:06:34.059\nWe're gonna start with a website just\ngonna give us some general background on\n\n130\n00:06:34.059 --> 00:06:35.511\nhow to do the installation.\n\n131\n00:06:35.511 --> 00:06:38.844\nI always try to throw those websites out\nthere for you for Microsoft, give you\n\n132\n00:06:38.844 --> 00:06:42.550\nthe documentation from them, make sure you\nknow where to go to get this information.\n\n133\n00:06:42.550 --> 00:06:46.873\nSo, install Active Directory Domain\nServices, this particular website we're\n\n134\n00:06:46.873 --> 00:06:49.942\ngonna scroll down and\nuse one aspect of this documentation\n\n135\n00:06:49.942 --> 00:06:54.120\ncuz this website shows us how to do\nseveral different kinds of installs.\n\n136\n00:06:54.120 --> 00:06:57.380\nWe have walked through all\nthe installs on this screen.\n\n137\n00:06:57.380 --> 00:06:59.270\nIn various hands on pieces and\n\n138\n00:06:59.270 --> 00:07:02.840\ndemonstrations that you can take\na look at as topical items.\n\n139\n00:07:02.840 --> 00:07:06.890\nYou know setting up and installing\nADDS while credentials are required.\n\n140\n00:07:06.890 --> 00:07:08.772\nHow to use PowerShell to do an install.\n\n141\n00:07:08.772 --> 00:07:12.790\nAlso how to set up a RODC,\nA Read Only Domain Controller.\n\n142\n00:07:12.790 --> 00:07:16.970\nSo we have separate episodes or hands\non pieces to deal with all of these but\n\n143\n00:07:16.970 --> 00:07:21.160\nI'm gonna focus in on this topic\ninstalling ADDS using server manager.\n\n144\n00:07:21.160 --> 00:07:22.760\nSo I'm just gonna click\nto go down to this one.\n\n145\n00:07:24.000 --> 00:07:25.550\nWalk through the logic of this, and\n\n146\n00:07:25.550 --> 00:07:27.570\nencourage you to take a look at this and\nread it.\n\n147\n00:07:27.570 --> 00:07:31.424\nBut this is the format we're gonna\nuse to do an install using IFM.\n\n148\n00:07:31.424 --> 00:07:34.250\nWe're going to set up and install ADDS.\n\n149\n00:07:34.250 --> 00:07:38.093\nAnd then once the feature is installed,\nwe're gonna configure it using\n\n150\n00:07:38.093 --> 00:07:41.748\nthe Server Manager Wizard, but\nspecifically as we go through here,\n\n151\n00:07:41.748 --> 00:07:45.102\nwhat we're gonna see is we install\nAD DS using Server Manager.\n\n152\n00:07:45.102 --> 00:07:48.830\nYou're gonna see me walk through and\njust talk about the logic of this.\n\n153\n00:07:48.830 --> 00:07:51.980\nI've actually done this install already,\nIt's already set up,\n\n154\n00:07:51.980 --> 00:07:54.200\nready to go, I did it through PowerShell.\n\n155\n00:07:54.200 --> 00:07:57.171\nBut this piece is done just to save\na little bit of time in the demo.\n\n156\n00:07:57.171 --> 00:07:58.696\nBut once we have this set up and\n\n157\n00:07:58.696 --> 00:08:02.478\nyou could see what the pictures look\nlike to do the install here We then will\n\n158\n00:08:02.478 --> 00:08:05.538\ncome in, and pick up the install\nthe configuration piece.\n\n159\n00:08:05.538 --> 00:08:07.739\nJust like it shows in this\npicture in just a minute.\n\n160\n00:08:07.739 --> 00:08:13.229\nBut what I want to show you, which is\nwhy we're taking time to look at this,\n\n161\n00:08:13.229 --> 00:08:17.954\nas you scroll down here,\nit does show you, just come down here.\n\n162\n00:08:17.954 --> 00:08:20.989\nThat as we go through the various\noptions in the wizard,\n\n163\n00:08:20.989 --> 00:08:24.162\nwe'll be looking at these in\nreal times through the demo.\n\n164\n00:08:24.162 --> 00:08:27.236\nRight down here at\nthe very end of step 14.\n\n165\n00:08:27.236 --> 00:08:32.111\nRight before step 15 and the walk through,\nit says if you're gonna install using IFM.\n\n166\n00:08:32.111 --> 00:08:35.959\nThen there's a separate web page you can\ngo to that gives you some very specific\n\n167\n00:08:35.959 --> 00:08:40.170\nguidance on what to do, how you do it,\nand the things that may or may not work.\n\n168\n00:08:40.170 --> 00:08:43.550\nAnd that you can't create the first\ndomain controller in a domain\n\n169\n00:08:43.550 --> 00:08:48.000\nusing the IFM methodology cuz we need a\nsnapshot of an existing domain controller.\n\n170\n00:08:48.000 --> 00:08:49.710\nAnd so\nthey talk about some of these things and\n\n171\n00:08:49.710 --> 00:08:50.640\nmake sure you know what they are.\n\n172\n00:08:50.640 --> 00:08:54.800\nSo, if you follow this link,\nyou'll then be able to go And\n\n173\n00:08:54.800 --> 00:08:56.530\nget this page right here.\n\n174\n00:08:56.530 --> 00:08:59.740\nAnd this page will actually give\nyou all the specific guidance for\n\n175\n00:08:59.740 --> 00:09:01.120\nwhat we're about to do.\n\n176\n00:09:01.120 --> 00:09:05.090\nOur show notes on this particular feature\nhave all the information in it as well so\n\n177\n00:09:05.090 --> 00:09:06.000\nyou'll be able to follow those..\n\n178\n00:09:06.000 --> 00:09:09.010\nBut if you wanna read up on it a little\nbit, you'll actually be able to go in and\n\n179\n00:09:09.010 --> 00:09:10.080\ntake a look at this.\n\n180\n00:09:10.080 --> 00:09:13.600\nAnd again, don't let the fact that\nthis is a slightly older reference\n\n181\n00:09:13.600 --> 00:09:16.117\nfrom 2008 applies to Server 2008,\n\n182\n00:09:16.117 --> 00:09:19.590\n2008 R2 Throw you this information\nis still valid for Service 16.\n\n183\n00:09:19.590 --> 00:09:23.130\nIt's just that we started to support this,\nas I said,\n\n184\n00:09:23.130 --> 00:09:28.310\nseveral generations back, 2008,\n2008 R-2, the use of IFM installation.\n\n185\n00:09:28.310 --> 00:09:30.070\nSo it's been around as a feature for\na while.\n\n186\n00:09:30.070 --> 00:09:32.980\nIf you haven't seen it before, it's good\njust to take a look at it, read up on it,\n\n187\n00:09:32.980 --> 00:09:34.800\nread up on it, and\nmake sure we know what's going on with it.\n\n188\n00:09:34.800 --> 00:09:36.810\nSo you'll take a look at those.\n\n189\n00:09:36.810 --> 00:09:39.130\nAnd in terms of actually\nwalking through how to do it,\n\n190\n00:09:39.130 --> 00:09:41.510\nlet's take a look at what\nthe steps are going to be.\n\n191\n00:09:41.510 --> 00:09:47.250\nSo let me get into the machine where\nwe're going to create the copy of or\n\n192\n00:09:47.250 --> 00:09:49.810\nthe snapshot of the existing\ndomain controller or\n\n193\n00:09:49.810 --> 00:09:52.000\nthe ndcs involving the registry setting.\n\n194\n00:09:52.000 --> 00:09:55.070\nWe're going to take that copy and\ndrive through the wizard\n\n195\n00:09:55.070 --> 00:09:57.370\non the other machine that we want\nto make into the main controller.\n\n196\n00:09:57.370 --> 00:10:01.230\nBut the way we generated that copy\nis first step in this process.\n\n197\n00:10:01.230 --> 00:10:06.250\nSo I'm in administrative command\nprompt on my domain controller here.\n\n198\n00:10:06.250 --> 00:10:10.040\nAnd what I've done is I've gone ahead and\nI've loaded the NTBS utility.\n\n199\n00:10:10.040 --> 00:10:12.120\nSo I've loaded NTBS util.\n\n200\n00:10:12.120 --> 00:10:14.180\nI've gone ahead and\nactivated the instance.\n\n201\n00:10:14.180 --> 00:10:18.080\nSo I use the activated\ninstance NTBS command to set,\n\n202\n00:10:18.080 --> 00:10:21.030\nNTBS util to work with The directory.\n\n203\n00:10:21.030 --> 00:10:22.240\nSo I've done that.\n\n204\n00:10:22.240 --> 00:10:25.510\nThen I've issued the IFM\ncommand right here.\n\n205\n00:10:26.630 --> 00:10:29.420\nAnd once I've done that, I've told NTBS,\n\n206\n00:10:29.420 --> 00:10:34.070\nhey I want to work with the subset of\ncommands for IFM installed for media.\n\n207\n00:10:34.070 --> 00:10:36.880\nI encourage you when you do these kind of\nwalk throughs, I didn't do it on this one,\n\n208\n00:10:36.880 --> 00:10:39.060\nI didn't bring up the help files first,\nbut I often.\n\n209\n00:10:39.060 --> 00:10:42.160\nWe'll bring up the help file in the tool\nand say, hey, if you're not familiar\n\n210\n00:10:42.160 --> 00:10:46.280\nwith these commands, go in and take\na look, make sure you read up on them.\n\n211\n00:10:46.280 --> 00:10:48.820\nRemind you to do that here,\nif you haven't done IFM before,\n\n212\n00:10:48.820 --> 00:10:51.790\nwhich is a set of commands associated\nwith it, just take a look.\n\n213\n00:10:51.790 --> 00:10:54.630\nAnd it's not very complicated, but\nyou'll be able to just take a look and\n\n214\n00:10:54.630 --> 00:10:56.270\nsee what's going on, in there.\n\n215\n00:10:56.270 --> 00:11:00.150\nI think went ahead and\nissued the create sysfall full, and\n\n216\n00:11:00.150 --> 00:11:05.230\nthen the path where I want the copy to be\ndropped into on the local machine command.\n\n217\n00:11:05.230 --> 00:11:06.890\nSo create sysfall full.\n\n218\n00:11:06.890 --> 00:11:10.140\nCreate a full snapshot\ncopy of the sysfall.\n\n219\n00:11:10.140 --> 00:11:12.889\nI want them in the C directory and\na full to call.\n\n220\n00:11:12.889 --> 00:11:17.340\nNow I went in and just created that folder\nin C directory before I ran this command.\n\n221\n00:11:17.340 --> 00:11:19.460\nYou can call it anything you want.\n\n222\n00:11:19.460 --> 00:11:21.600\nBut I will call it IFM just so\nyou know what it is.\n\n223\n00:11:21.600 --> 00:11:24.940\nAnd as a result, you have that\nsolution and you know how to track it.\n\n224\n00:11:24.940 --> 00:11:26.340\nYou know where to find the information.\n\n225\n00:11:26.340 --> 00:11:26.980\nSo CIFM.\n\n226\n00:11:26.980 --> 00:11:29.360\nSo just go here.\n\n227\n00:11:29.360 --> 00:11:33.760\nYou could see that in the C directory on\nthe local machine, in the IFM directory.\n\n228\n00:11:33.760 --> 00:11:37.390\nOnce we run this command and the output of\nit is right there behind the scenes, so\n\n229\n00:11:37.390 --> 00:11:38.420\ntake a look at it.\n\n230\n00:11:38.420 --> 00:11:41.850\nTakes about 30 seconds,\ndoesn't take very long to run so\n\n231\n00:11:41.850 --> 00:11:44.140\ndon't be surprised if you run this and\nit zips right through.\n\n232\n00:11:44.140 --> 00:11:47.480\nSince it's actually one of those commands\nthat does complete very quickly.\n\n233\n00:11:47.480 --> 00:11:51.990\nAnd you'll see I created the active\ndirectory, I created, hello.\n\n234\n00:11:51.990 --> 00:11:56.280\nI created the registry and the Sysvol\nfolders as a result of doing this And\n\n235\n00:11:56.280 --> 00:11:59.520\nwhen we go, too,\nwe take a look at TBS.dit is there.\n\n236\n00:11:59.520 --> 00:12:03.210\nThe JFM file for\ntracking is there, as well.\n\n237\n00:12:03.210 --> 00:12:04.290\nThis is the schema.\n\n238\n00:12:04.290 --> 00:12:06.230\nWe keep talking about NTDS.dit.\n\n239\n00:12:06.230 --> 00:12:08.760\nThat's a copy of the active\ndirectory schema right there.\n\n240\n00:12:08.760 --> 00:12:13.520\nIt's relatively small in my example here,\nabout 32 megabytes, not a very big schema.\n\n241\n00:12:13.520 --> 00:12:16.522\nIf you had a schema with thousands,\nhundreds of thousands of objects,\n\n242\n00:12:16.522 --> 00:12:17.830\nit'll be a little bit bigger.\n\n243\n00:12:17.830 --> 00:12:21.188\nAnd may take slightly longer\ntime to make the copy.\n\n244\n00:12:21.188 --> 00:12:22.923\nRemember, we're copying this locally.\n\n245\n00:12:22.923 --> 00:12:25.187\nIt's not like we're copying\nthis across the wire.\n\n246\n00:12:25.187 --> 00:12:29.795\nSo the speed involve and this time it\ntakes to do this is truly gonna be limited\n\n247\n00:12:29.795 --> 00:12:33.611\nby speed and the capacity on\nthe local hard drive to do the copy,\n\n248\n00:12:33.611 --> 00:12:37.080\nnot the over the wire network\ncapability and bandwidth.\n\n249\n00:12:37.080 --> 00:12:40.580\nSo it does run quicker than what if\nwe were sinking across the wire,\n\n250\n00:12:40.580 --> 00:12:41.880\njust so you know.\n\n251\n00:12:41.880 --> 00:12:45.000\nHave our registry folder here,\ngot our security and\n\n252\n00:12:45.000 --> 00:12:48.500\nour SAM, security rather and\nour system hives.\n\n253\n00:12:48.500 --> 00:12:51.900\nSo, we have copied certain registry\nkeys not the entire registry.\n\n254\n00:12:51.900 --> 00:12:55.290\nBut the ones specific to entries for\nthe active directory.\n\n255\n00:12:55.290 --> 00:12:59.980\nAnd we have the SYSVOL named\nDomain Instance PracticeLives.com.\n\n256\n00:12:59.980 --> 00:13:03.730\nPolicies and scripts folder, which is what\nwe would expect to see in the SYSVOL, for\n\n257\n00:13:03.730 --> 00:13:05.640\nany information pertinent to the domain.\n\n258\n00:13:05.640 --> 00:13:10.570\nSo all the moving parts are copied as\na result of this particular command.\n\n259\n00:13:10.570 --> 00:13:12.620\nAnd Cherokee, just before you\nthrow your comment out there,\n\n260\n00:13:12.620 --> 00:13:14.630\nlet me just quickly point something out.\n\n261\n00:13:14.630 --> 00:13:15.980\nWe create the snapshot.\n\n262\n00:13:17.380 --> 00:13:19.130\nThat is happening right here.\n\n263\n00:13:19.130 --> 00:13:23.640\nIt goes through and we're looking for\nthings like generated successfully here.\n\n264\n00:13:23.640 --> 00:13:26.700\nWe're seeing that this\ninformation has been done.\n\n265\n00:13:26.700 --> 00:13:30.530\nIt goes ahead, specifies the source and\ntarget database.\n\n266\n00:13:30.530 --> 00:13:34.095\nAs you can see, the source is\ngoing to be the Windows NTDS.\n\n267\n00:13:34.095 --> 00:13:35.280\nNTDS.dit.directory.\n\n268\n00:13:35.280 --> 00:13:39.360\nSo, we are getting that\nfrom the C: drive locally.\n\n269\n00:13:39.360 --> 00:13:43.490\nVolume C$ the administrative share\nto get into C: to go get that.\n\n270\n00:13:43.490 --> 00:13:45.680\nNow, we are copying it locally as well.\n\n271\n00:13:45.680 --> 00:13:47.810\nIFM after directory NTDS.dit.\n\n272\n00:13:47.810 --> 00:13:50.310\nSo, it's all happening\nright on the machine.\n\n273\n00:13:50.310 --> 00:13:53.370\nGoes through copies and registry files.\n\n274\n00:13:53.370 --> 00:13:55.700\nWe can see that happening\nhere as we go through and\n\n275\n00:13:55.700 --> 00:13:57.680\njust kind of look at\nthe output of the tool.\n\n276\n00:13:57.680 --> 00:14:02.600\nAnd then when we're done, copies the syst\nfiles, so we see the syst file being done.\n\n277\n00:14:02.600 --> 00:14:04.710\nAll the information we\nwere just talking about,\n\n278\n00:14:04.710 --> 00:14:07.470\nwe can see a reference to all\nthey copying taking place.\n\n279\n00:14:07.470 --> 00:14:10.140\nIt finally unmounts\neverything when it's done.\n\n280\n00:14:10.140 --> 00:14:14.910\nAnd then, ifm media created successfully\nend source or rather, target directory.\n\n281\n00:14:14.910 --> 00:14:16.020\nThat's what we wanna see.\n\n282\n00:14:16.020 --> 00:14:18.534\nIf we see anything different,\nwe have some sort of an error.\n\n283\n00:14:18.534 --> 00:14:21.063\nAnd you'll obviously be told that be,\npretty obvious to you.\n\n284\n00:14:21.063 --> 00:14:24.719\nBut assuming it runs successfully,\nwe would want to see this kind of output\n\n285\n00:14:24.719 --> 00:14:28.260\nlocalized to the variables on your\nmachine, what directory you chose,\n\n286\n00:14:28.260 --> 00:14:30.365\nand perhaps the name of the subdirectory.\n\n287\n00:14:30.365 --> 00:14:32.355\nAgain, I would recommend you call an IFM,\n\n288\n00:14:32.355 --> 00:14:34.655\nbut what drive you put\nit into is up to you.\n\n289\n00:14:34.655 --> 00:14:37.635\nTotally irrelevant, just make sure it's\na locally mounted drive you can get to.\n\n290\n00:14:37.635 --> 00:14:40.905\nAnd then you get back to this prompt\nwhere we now have the availability to do\n\n291\n00:14:40.905 --> 00:14:42.255\nsomething if we want to.\n\n292\n00:14:42.255 --> 00:14:44.150\nSo we've done that And\n\n293\n00:14:44.150 --> 00:14:48.820\nthen what I did is I mounted a drive\nfrom the machine that I wanna target\n\n294\n00:14:48.820 --> 00:14:53.830\nthe install on, the other machine, back to\nthis machine, copy the IFM folder over.\n\n295\n00:14:53.830 --> 00:14:57.095\nYou can do that any way you want to,\nput it on a network share.\n\n296\n00:14:57.095 --> 00:14:58.685\nPut it or removable media.\n\n297\n00:14:58.685 --> 00:15:01.435\nLoad it up locally on that machine\ndoesn't matter how you get it but\n\n298\n00:15:01.435 --> 00:15:04.075\nyou want to make sure you\ntransfer to the target machine\n\n299\n00:15:04.075 --> 00:15:07.375\nthat you're going to make into a domain\ncontroller so it's available locally.\n\n300\n00:15:07.375 --> 00:15:10.335\nSo when we run the avds\nconfiguration wizard\n\n301\n00:15:10.335 --> 00:15:14.860\nthrough server manager we have access to\nthe if information on the local machine.\n\n302\n00:15:14.860 --> 00:15:15.790\nSo that's already been done.\n\n303\n00:15:15.790 --> 00:15:18.350\nANd we're gonna kick off that\nwizard here in a second.\n\n304\n00:15:18.350 --> 00:15:20.640\nBut while I'm getting the other machine,\nCherokee,\n\n305\n00:15:20.640 --> 00:15:22.700\nyou wanted to throw\nsomething out there for us.\n\n306\n00:15:22.700 --> 00:15:23.750\n&gt;&gt; Yeah, nothing major, Adam.\n\n307\n00:15:23.750 --> 00:15:26.160\nI just wanted even with that\nexample that you showed us.\n\n308\n00:15:26.160 --> 00:15:28.776\nThe name, and\nwe had kinda spoke about this earlier.\n\n309\n00:15:28.776 --> 00:15:32.002\nWe don't wanna get too hung up\non the name as being media,\n\n310\n00:15:32.002 --> 00:15:33.694\nsuch as like a tangible disk.\n\n311\n00:15:33.694 --> 00:15:35.921\nBecause like with that example,\n\n312\n00:15:35.921 --> 00:15:40.454\nif you have access to machine either\nthrough a network connection,\n\n313\n00:15:40.454 --> 00:15:45.243\nyou can pull that media down without\nhaving a physical DVD in your hand.\n\n314\n00:15:45.243 --> 00:15:48.474\nSo just wanted to kind a-\n&gt;&gt; Yeah, so as I said I mapped the drive\n\n315\n00:15:48.474 --> 00:15:52.190\nand you can see I am on the target machine\nI’m going to do the install on right now.\n\n316\n00:15:52.190 --> 00:15:55.365\nHere is my map drive right down here,\nit’s kind of hard to see.\n\n317\n00:15:55.365 --> 00:15:58.263\nIt's mapped to the C$,\nthe administrative share for\n\n318\n00:15:58.263 --> 00:16:00.661\nthe C drive on\nthe [INAUDIBLE] DC01 machine.\n\n319\n00:16:00.661 --> 00:16:01.764\nThe domain controller.\n\n320\n00:16:01.764 --> 00:16:04.413\nI just made the copy on as the W drive.\n\n321\n00:16:04.413 --> 00:16:07.366\nSo when I go in there,\nI'm seeing the local drive,\n\n322\n00:16:07.366 --> 00:16:10.140\na copy of the IFM folder\nwe just looked at.\n\n323\n00:16:10.140 --> 00:16:13.100\nBrought it to the local C\ndrive on this machine, and\n\n324\n00:16:13.100 --> 00:16:16.340\nput the IFM folder right there in\nthe root, so it's in the same place.\n\n325\n00:16:16.340 --> 00:16:19.650\nSo that way when I run the wizard,\nI'll find it in the same location,\n\n326\n00:16:19.650 --> 00:16:20.820\nnamed the same way.\n\n327\n00:16:20.820 --> 00:16:21.846\nSo I have it there,\n\n328\n00:16:21.846 --> 00:16:26.155\nso that's been done on the machine I'm\nabout to turn into a domain controller.\n\n329\n00:16:26.155 --> 00:16:29.854\nAnd now I have the ADDS\nfeature all ready installed.\n\n330\n00:16:29.854 --> 00:16:32.879\nAnd at first glance, this may look\nlike a domain controller, but\n\n331\n00:16:32.879 --> 00:16:34.420\nit hasn't been configured yet.\n\n332\n00:16:34.420 --> 00:16:36.740\nIt's just simply got\nthe feature installed.\n\n333\n00:16:36.740 --> 00:16:39.570\nI've all ready done that piece as I said.\n\n334\n00:16:39.570 --> 00:16:42.340\nYou go to PowerShell here\njust to show you what I did.\n\n335\n00:16:42.340 --> 00:16:45.090\nI just did it in the background before\nwe got started the demo to save a few\n\n336\n00:16:45.090 --> 00:16:46.360\nminutes of time.\n\n337\n00:16:46.360 --> 00:16:50.960\nAdd Windows feature, the cmdlet,\nwhat named feature AD DS,\n\n338\n00:16:50.960 --> 00:16:55.610\nAD Domain Services, include management\ntools, did that install, success,\n\n339\n00:16:55.610 --> 00:16:57.790\nexit code success, no restart required.\n\n340\n00:16:57.790 --> 00:17:00.850\nSo the AD DS feature's\nalready been configured.\n\n341\n00:17:00.850 --> 00:17:05.060\nBut this is not when we go take a look,\nRight.\n\n342\n00:17:05.060 --> 00:17:08.565\nThis is a computer, right,\nit is a member of the domain but\n\n343\n00:17:08.565 --> 00:17:10.570\nit's not setup as a domain controller yet.\n\n344\n00:17:10.570 --> 00:17:12.970\nIt's just simply joined to the domain.\n\n345\n00:17:12.970 --> 00:17:15.480\nWe're gonna go in and\nfinish that configuration and\n\n346\n00:17:15.480 --> 00:17:18.070\nwe see we have a little\ncaution flag up here.\n\n347\n00:17:18.070 --> 00:17:21.980\nAnd that tells us that we have to do\nsomething to finish this install,\n\n348\n00:17:21.980 --> 00:17:25.540\nconfigure and promote to a domain\ncontroller is what we're actually gonna do\n\n349\n00:17:25.540 --> 00:17:26.650\nin order to get this done.\n\n350\n00:17:26.650 --> 00:17:28.370\nSo this is part two of the process.\n\n351\n00:17:28.370 --> 00:17:31.027\nWe're now gonna engage in the IFM piece,\nthe install for media,\n\n352\n00:17:31.027 --> 00:17:32.680\nthat's actually what we're gonna do.\n\n353\n00:17:32.680 --> 00:17:35.422\nSo we're gonna drive through this wizard,\nwe're gonna click here.\n\n354\n00:17:35.422 --> 00:17:37.584\nGonna bring up the deployment\nconfiguration wizard,\n\n355\n00:17:37.584 --> 00:17:38.852\nwe'll give that a moment.\n\n356\n00:17:38.852 --> 00:17:41.310\nIt does take a moment to\ndo some of the steps and\n\n357\n00:17:41.310 --> 00:17:44.970\nrefresh it, make things available, so\nwe have to be a little patient with it.\n\n358\n00:17:44.970 --> 00:17:46.880\nIt can run a little bit slow sometimes.\n\n359\n00:17:46.880 --> 00:17:51.540\nJust depending on what's going on with\nthe machine, how accessible DNS is,\n\n360\n00:17:51.540 --> 00:17:53.150\nis it local, is it remote.\n\n361\n00:17:53.150 --> 00:17:54.500\nHow quickly does it resolve,\n\n362\n00:17:54.500 --> 00:17:57.210\nthings like that may slow\ndown the wizard a little bit.\n\n363\n00:17:57.210 --> 00:18:01.456\nSo when we have this up and running, once\nthat blue bar kinda stops moving, right,\n\n364\n00:18:01.456 --> 00:18:02.850\nwe can make a choice.\n\n365\n00:18:02.850 --> 00:18:06.663\nThree options here, add a domain\ncontroller to an existing domain.\n\n366\n00:18:06.663 --> 00:18:09.540\nWe're gonna do that because we're\ngonna add in the new domain\n\n367\n00:18:09.540 --> 00:18:12.153\ncontroller to an existing\ndomain using the IFM option.\n\n368\n00:18:12.153 --> 00:18:14.872\nBut we could add a new domain\nto an existing forest or\n\n369\n00:18:14.872 --> 00:18:17.600\ncreate brand new forest in a forest group,\nright.\n\n370\n00:18:17.600 --> 00:18:19.267\nWe've done those in other walk throughs,\n\n371\n00:18:19.267 --> 00:18:21.783\nyou can take a look at those to see\nhow those options may play out.\n\n372\n00:18:21.783 --> 00:18:23.969\nWe're gonna leave the default choice here,\n\n373\n00:18:23.969 --> 00:18:27.836\nwe're gonna choose the existing domain\npracticelabs.com is already there.\n\n374\n00:18:27.836 --> 00:18:32.390\nSo we know that that's gonna be good, and\nwe're already logged on as the practice\n\n375\n00:18:32.390 --> 00:18:37.014\nlab's administrator current user which has\nrights as the domain admin to do this.\n\n376\n00:18:37.014 --> 00:18:40.690\nIf we have to change this for some reason,\nnotice I have a change option there.\n\n377\n00:18:40.690 --> 00:18:43.600\nI could provide a different\ncredential if I needed to\n\n378\n00:18:43.600 --> 00:18:47.640\nuse a administrative account to do this,\nand I'm not logged on with those rights.\n\n379\n00:18:47.640 --> 00:18:49.390\nI'd be able to change that and\nprovide that here.\n\n380\n00:18:49.390 --> 00:18:52.040\nIt's always better if you're logged\nin with the account that has rights\n\n381\n00:18:52.040 --> 00:18:53.160\nto begin with.\n\n382\n00:18:53.160 --> 00:18:55.920\nBut that may or may not be\nthe case depending on who you are.\n\n383\n00:18:55.920 --> 00:18:57.950\nAnd so as a result we do give\nyou the option to change that.\n\n384\n00:18:57.950 --> 00:19:01.720\nAll right, so we're gonna leave all the\ndefaults in place cuz all those options\n\n385\n00:19:01.720 --> 00:19:02.610\nare gonna work for us.\n\n386\n00:19:02.610 --> 00:19:04.480\nWe're gonna click Next here,\nit's gonna go out and\n\n387\n00:19:04.480 --> 00:19:06.440\nverify that we can do\nthose things quickly.\n\n388\n00:19:06.440 --> 00:19:08.925\nIt's then gonna get us\nto the next screen here.\n\n389\n00:19:08.925 --> 00:19:13.430\nAnd we're gonna be able to make\nsure that we make some options or\n\n390\n00:19:13.430 --> 00:19:16.870\nchoices about options,\nwhile we're waiting on this to finish, and\n\n391\n00:19:16.870 --> 00:19:18.868\njust give us the ability to edit here.\n\n392\n00:19:18.868 --> 00:19:21.715\nAre we gonna put a DNS\nserver on this system, so\n\n393\n00:19:21.715 --> 00:19:23.980\nare we gonna include the DNS option?\n\n394\n00:19:23.980 --> 00:19:26.570\nYes, wanna make this\na global catalog server,\n\n395\n00:19:26.570 --> 00:19:28.860\nwe've talked about this\nin other conversations.\n\n396\n00:19:28.860 --> 00:19:31.950\nWe have the option here to\ninclude the domain controller\n\n397\n00:19:31.950 --> 00:19:33.480\nwith the global catalog feature.\n\n398\n00:19:33.480 --> 00:19:36.680\nThe best practice recommendation\nfrom Microsoft is do that,\n\n399\n00:19:36.680 --> 00:19:39.195\nall domain controllers becoming\nglobal catalog servers.\n\n400\n00:19:39.195 --> 00:19:45.040\nSpeeds up searching, speeds up universal\ngroup name and membership resolution,\n\n401\n00:19:45.040 --> 00:19:48.855\nmakes it easier for us to find things and\nto do things in the system.\n\n402\n00:19:48.855 --> 00:19:53.030\nSo, it's normally recommendation, but, if\nwe choose not to make a domain controller\n\n403\n00:19:53.030 --> 00:19:57.590\na global catalog server, I could just\nuncheck the box here, it's very simple.\n\n404\n00:19:57.590 --> 00:20:01.460\nIf we wanna enable that later, we could\njust go back in to the AD sites and\n\n405\n00:20:01.460 --> 00:20:02.680\nservices tool.\n\n406\n00:20:02.680 --> 00:20:05.290\nGo into the NTDS settings\nunder the machine.\n\n407\n00:20:05.290 --> 00:20:08.940\nGo to the properties tab and just check\noff the box that says global catalog\n\n408\n00:20:08.940 --> 00:20:11.610\nserver and\nit re-enables the global catalog options.\n\n409\n00:20:11.610 --> 00:20:13.900\nSo it's very easy to turn on and\noff in other words, right,\n\n410\n00:20:13.900 --> 00:20:15.820\nnot very difficult to do.\n\n411\n00:20:15.820 --> 00:20:20.030\nWe're going to go ahead and deselect\nthe global catalog server in this case.\n\n412\n00:20:20.030 --> 00:20:22.020\nJust so that we can set\nthe domain controller up and\n\n413\n00:20:22.020 --> 00:20:24.140\nnot have it be a global catalog server.\n\n414\n00:20:24.140 --> 00:20:27.780\nWe could set that up separately,\nas I said, no right and wrong here.\n\n415\n00:20:27.780 --> 00:20:30.500\nAnd no, hey,\nwe must do it this way to do IFM.\n\n416\n00:20:30.500 --> 00:20:33.880\nWe can leave that global catalog option\nthere and still do the install for media.\n\n417\n00:20:33.880 --> 00:20:37.910\nIt's totally up to us, right,\nwhat we wanna do, I'm just deselecting it,\n\n418\n00:20:37.910 --> 00:20:40.851\njust for a change of pace,\nright, nothing more than that.\n\n419\n00:20:40.851 --> 00:20:45.080\nAll right, so we have that if we did wanna\nmake this a Read-Only Domain Controller,\n\n420\n00:20:45.080 --> 00:20:46.870\nwe could check this off here and\n\n421\n00:20:46.870 --> 00:20:49.200\nmake a Read-Only Domain Controller\nof this machine.\n\n422\n00:20:49.200 --> 00:20:52.540\nWe'll do that in a separate conversation,\nseparate demonstration.\n\n423\n00:20:52.540 --> 00:20:53.655\nBut we do have that option,\n\n424\n00:20:53.655 --> 00:20:56.283\nI pointed out in one of the earlier\ndemonstrations we've done.\n\n425\n00:20:56.283 --> 00:20:59.570\nAnd again, if you haven't seen them and\nmaybe watched them all in this area,\n\n426\n00:20:59.570 --> 00:21:01.806\nthere's a whole bunch of\nhands on demonstrations.\n\n427\n00:21:01.806 --> 00:21:02.878\nWe broke up by topic,\n\n428\n00:21:02.878 --> 00:21:06.360\na map to exam objectives,\nencourage you to take a look at them.\n\n429\n00:21:06.360 --> 00:21:10.210\nGive you the first hands on kind of\nexperience walking through with these\n\n430\n00:21:10.210 --> 00:21:11.100\nskill sets.\n\n431\n00:21:11.100 --> 00:21:14.730\nBut I made reference to the fact when\nwe did our normal install walk through,\n\n432\n00:21:14.730 --> 00:21:17.530\nhow to add a domain controller\nto an existing domain.\n\n433\n00:21:17.530 --> 00:21:21.980\nThat option is grayed out if we're\ninstalling the first domain controller\n\n434\n00:21:21.980 --> 00:21:25.530\nto a domain versus adding\nan existing domain controller, or\n\n435\n00:21:25.530 --> 00:21:27.864\nrather adding a new domain\ncontroller to an existing domain.\n\n436\n00:21:27.864 --> 00:21:31.760\nSo when the read-only domain control\noption, the RDC, is grayed out,\n\n437\n00:21:31.760 --> 00:21:34.890\nit means you're installing the first\ndomain controller in that domain.\n\n438\n00:21:34.890 --> 00:21:37.970\nYou don't have an option at that\npoint to make a read-only copy.\n\n439\n00:21:37.970 --> 00:21:40.370\nSo depending on the nature\nof the interface,\n\n440\n00:21:40.370 --> 00:21:43.820\nyou have to be able to understand and\nidentify what's happening.\n\n441\n00:21:43.820 --> 00:21:47.630\nAnd what the structure of\nthe system around you may be cuz,\n\n442\n00:21:47.630 --> 00:21:50.750\ngreat way to ask a question would\nbe to show you a screen capture\n\n443\n00:21:50.750 --> 00:21:55.040\nof this screen with options deselected,\ngrayed out, or selected.\n\n444\n00:21:55.040 --> 00:21:58.670\nAnd ask you to solve a problem or\nchoose an answer, based on that scenario.\n\n445\n00:21:58.670 --> 00:22:00.450\nAnd so you would have to know, visually,\n\n446\n00:22:00.450 --> 00:22:04.560\nas you look at this, what a grayed out\noption may mean and what it represents.\n\n447\n00:22:04.560 --> 00:22:07.874\nIt represents the fact,\nin this case, if it's the RODC.\n\n448\n00:22:07.874 --> 00:22:11.376\nThat you're actually installing the first\ndomain controller on that domain, and\n\n449\n00:22:11.376 --> 00:22:13.887\nthat you don't have an option\nto create an RODC as a result.\n\n450\n00:22:13.887 --> 00:22:16.590\nSo, just something to remember and\njust to be aware of.\n\n451\n00:22:16.590 --> 00:22:20.930\nWe're gonna provide our Directory\nServices Restore Mode password here.\n\n452\n00:22:20.930 --> 00:22:26.030\nSo we'll type in the password that has to\nbe used if we were needing to go in and\n\n453\n00:22:26.030 --> 00:22:29.417\ndo something like a system state restore,\nright.\n\n454\n00:22:29.417 --> 00:22:32.990\nSo we would need that, so\nwe'll put the password in here.\n\n455\n00:22:32.990 --> 00:22:36.270\nNotice, when I do that, all the other\noptions do become available, here.\n\n456\n00:22:36.270 --> 00:22:40.290\nWe're gonna click Next,\nlet it go in and do that.\n\n457\n00:22:40.290 --> 00:22:43.480\nNow, this morning,\non this next screen where we're being\n\n458\n00:22:43.480 --> 00:22:46.960\nwarned about not being able to create\na delegation for DNS, no big deal.\n\n459\n00:22:46.960 --> 00:22:48.810\nIt's just a warning, it's not an error.\n\n460\n00:22:48.810 --> 00:22:51.330\nAnd we just know or\nit's just telling us that a delegation for\n\n461\n00:22:51.330 --> 00:22:54.980\nthis server cannot be created because the\nauthoritative parent zone cannot be found.\n\n462\n00:22:54.980 --> 00:22:57.752\nThat's fine, no big deal,\nwe'll be able to work through that and\n\n463\n00:22:57.752 --> 00:22:59.045\ndeal with that after the fact.\n\n464\n00:22:59.045 --> 00:23:02.735\nSo we're just gonna ignore that, and click\nNext, we're not gonna bother with this.\n\n465\n00:23:04.740 --> 00:23:08.180\nAll right, so then,\nspecify install from media options.\n\n466\n00:23:08.180 --> 00:23:09.600\nAre we installing for media?\n\n467\n00:23:09.600 --> 00:23:14.310\nThis is where we get what we wanna do, and\nif so, then what are we replicating from?\n\n468\n00:23:14.310 --> 00:23:15.490\nWhere are we gonna get that from?\n\n469\n00:23:15.490 --> 00:23:18.250\nSo, we're gonna check\noff install from media.\n\n470\n00:23:18.250 --> 00:23:22.466\nAnd notice that we then get a option to\ngo out and find a path or specify a path\n\n471\n00:23:22.466 --> 00:23:26.764\nstatement to actually be able to go out\nand use that locally provided copy.\n\n472\n00:23:26.764 --> 00:23:29.442\nThe CIFM directory that we wanna use,\nright.\n\n473\n00:23:29.442 --> 00:23:32.659\nSo, we're gonna go in and grab that, so\nwe're gonna go and just browse here.\n\n474\n00:23:32.659 --> 00:23:35.882\nI could type it in but I'm just\ngonna go ahead and I'm gonna browse.\n\n475\n00:23:35.882 --> 00:23:38.579\nSo I'm just gonna go find\nit in the C directory.\n\n476\n00:23:38.579 --> 00:23:42.038\nGo to IFM and click OK,\nall right, now that's running for\n\n477\n00:23:42.038 --> 00:23:46.495\na second cuz it's going to check that\nit has access to the file locally.\n\n478\n00:23:46.495 --> 00:23:49.905\nIt can get, it being the wizard,\nit can get to and everything is good.\n\n479\n00:23:49.905 --> 00:23:54.175\nComes back, right, we can click Verify,\nit just does the same thing is just did.\n\n480\n00:23:54.175 --> 00:23:57.621\nIt verifies as it checks initially that,\nthat path is correct.\n\n481\n00:23:57.621 --> 00:23:59.837\nThe files are there,\neverything is working, and\n\n482\n00:23:59.837 --> 00:24:01.330\nthat we're able to access that.\n\n483\n00:24:01.330 --> 00:24:04.540\nSo, there's just little momentary pause,\nwhile that happens.\n\n484\n00:24:04.540 --> 00:24:06.686\nAnd then once we've done that,\n\n485\n00:24:06.686 --> 00:24:10.580\nnotice that we can replicate\nfrom any domain controller or\n\n486\n00:24:10.580 --> 00:24:16.440\nspecify a named instance here, if we had\none domain controller in particular.\n\n487\n00:24:16.440 --> 00:24:20.990\nThis becomes important if we're dealing\nwith maybe low bandwidth issues or\n\n488\n00:24:20.990 --> 00:24:23.660\nlatency issues around certain\ncommunication pathways\n\n489\n00:24:23.660 --> 00:24:26.000\nbetween certain domain controllers\nbecause of the architecture.\n\n490\n00:24:26.000 --> 00:24:30.860\nAnd maybe there's a domain controller\nthat's geographically located close to us,\n\n491\n00:24:30.860 --> 00:24:32.513\nand has a reliable connection, and\n\n492\n00:24:32.513 --> 00:24:37.110\nmaybe we wanna hard code the application\nfrom there to finish this installation.\n\n493\n00:24:37.110 --> 00:24:40.690\nRemember the idea being, and you brought\nthis up earlier Cherokee, right?\n\n494\n00:24:40.690 --> 00:24:45.570\nWe may take this snapshot,\nthis CIFM file, that we created a folder\n\n495\n00:24:45.570 --> 00:24:50.000\nwith all the files, all the information\nfrom the source, domain controller.\n\n496\n00:24:50.000 --> 00:24:53.530\nWe may have copied this, literally as\nwe did maybe five, ten minutes ago.\n\n497\n00:24:53.530 --> 00:24:55.870\nBut maybe we made this several days ago.\n\n498\n00:24:55.870 --> 00:24:59.640\nAnd as a result maybe there has been\nchanges right, there has been deltas\n\n499\n00:24:59.640 --> 00:25:04.280\nthat have occurred in that ntds.dit\nfile since we actually created this.\n\n500\n00:25:04.280 --> 00:25:08.210\nSo we're gonna have to check with the\nDomain Controller on we come online and\n\n501\n00:25:08.210 --> 00:25:11.780\nreplicate back any and\nall additional new information.\n\n502\n00:25:11.780 --> 00:25:14.550\nI've called it backfilling several\ntimes as we've talked about it.\n\n503\n00:25:14.550 --> 00:25:18.170\nWe back fill through\nreplication all updates and\n\n504\n00:25:18.170 --> 00:25:22.000\nchanges from the point of the snapshot\nforward, so that we have the most accurate\n\n505\n00:25:22.000 --> 00:25:25.050\ninformation as we bring that domain\ncontroller online and finish it up.\n\n506\n00:25:25.050 --> 00:25:29.600\nSo specifying here, which domain\ncontroller we may have a preference for\n\n507\n00:25:29.600 --> 00:25:32.520\nis an option that's important to us\nbecause it gives us the capability\n\n508\n00:25:32.520 --> 00:25:37.460\nto more tightly manage that replication\ntraffic if bandwidth is a consideration,\n\n509\n00:25:37.460 --> 00:25:39.760\nif reliable connectivity\nis a consideration.\n\n510\n00:25:39.760 --> 00:25:43.550\nIf it's not, the default choice of that\nend domain controller, fine, no big deal.\n\n511\n00:25:43.550 --> 00:25:44.530\nJust go with that.\n\n512\n00:25:44.530 --> 00:25:45.490\nIt'll be okay.\n\n513\n00:25:45.490 --> 00:25:49.554\nThe system looks at the replication\ntypology, figures out which domain\n\n514\n00:25:49.554 --> 00:25:53.618\ncontroller is gonna be the most likely\ncandidate based on the cost metric\n\n515\n00:25:53.618 --> 00:25:57.430\nassociated with the replication\nconnectors and other variables.\n\n516\n00:25:57.430 --> 00:26:00.410\nAnd then once that's done, we just go and\nreplicate from that machine.\n\n517\n00:26:00.410 --> 00:26:03.682\nSo the Active Directory\nreplication topology and\n\n518\n00:26:03.682 --> 00:26:07.220\nthe inter-site topology generator\nwill figure this out and\n\n519\n00:26:07.220 --> 00:26:09.880\ntell us which one to use if we\ndon't make a choice, right?\n\n520\n00:26:09.880 --> 00:26:10.650\nUp to us to decide.\n\n521\n00:26:10.650 --> 00:26:14.180\nI'm gonna leave it as just any domain\ncontroller, even though I only have one.\n\n522\n00:26:14.180 --> 00:26:16.370\nI'll just leave it there and\nit will do its thing.\n\n523\n00:26:16.370 --> 00:26:19.470\nJust so you understand what those options\nare while we have the choices there.\n\n524\n00:26:19.470 --> 00:26:20.730\nWe're gonna click Next.\n\n525\n00:26:20.730 --> 00:26:23.910\nWe then have our default path for\nthe installation for\n\n526\n00:26:23.910 --> 00:26:26.010\nthe NTDS and Sys Vol directories.\n\n527\n00:26:26.010 --> 00:26:28.070\nWe can make choices there if we want to.\n\n528\n00:26:28.070 --> 00:26:29.960\nChoose to changes those paths.\n\n529\n00:26:29.960 --> 00:26:30.870\nWe're gonna leave them alone.\n\n530\n00:26:30.870 --> 00:26:32.030\nLeave them in the default.\n\n531\n00:26:32.030 --> 00:26:35.940\nC:\\Windows subdirectory\nNTDS subdirectory sysvol.\n\n532\n00:26:35.940 --> 00:26:40.430\nBut if for some reason you are installing\nto the F drive, then change them here.\n\n533\n00:26:40.430 --> 00:26:42.060\nThat's just the default that comes up.\n\n534\n00:26:42.060 --> 00:26:44.370\nBut we do have the ability\nright here to go out and\n\n535\n00:26:44.370 --> 00:26:46.865\nbrowse in or to type in a path\nstatement if we choose to.\n\n536\n00:26:48.035 --> 00:26:49.865\nWe then have a review options item.\n\n537\n00:26:49.865 --> 00:26:52.205\nI've talked to you in the past\nabout snapshotting this.\n\n538\n00:26:52.205 --> 00:26:55.905\nMeaning take a picture of it from a screen\ncapture perspective for documentation.\n\n539\n00:26:55.905 --> 00:26:59.415\nAlso that you can go in and\nview the script here for PowerShell.\n\n540\n00:26:59.415 --> 00:27:00.755\nSee what's going on behind the scenes.\n\n541\n00:27:00.755 --> 00:27:02.865\nYou may wanna do that, capture copy that.\n\n542\n00:27:02.865 --> 00:27:04.525\nTotally up to you.\n\n543\n00:27:04.525 --> 00:27:06.645\nWe'll click Next.\n\n544\n00:27:06.645 --> 00:27:10.095\nWe're going through the prerequisite\ncheck, verifying prerequisites for\n\n545\n00:27:10.095 --> 00:27:11.760\nthe domain controller operations.\n\n546\n00:27:11.760 --> 00:27:13.917\nIn other words, will this machine\nmeet all the requirements?\n\n547\n00:27:13.917 --> 00:27:18.890\nIs it ADDS configured, is it bad or is\nit already there installed I should say?\n\n548\n00:27:18.890 --> 00:27:21.720\nThe .Net Framework,\nthings like that that have to be there,\n\n549\n00:27:21.720 --> 00:27:23.800\nare all those things there.\n\n550\n00:27:23.800 --> 00:27:26.790\nAnd as a result when we have access to\nall the system information we need,\n\n551\n00:27:26.790 --> 00:27:28.530\nthis can take several seconds,\n\n552\n00:27:28.530 --> 00:27:32.410\nseveral minutes depends again on certain\nvariables on the machine locally.\n\n553\n00:27:32.410 --> 00:27:35.338\nHow quickly can the machine query itself,\nfigure all that out.\n\n554\n00:27:35.338 --> 00:27:38.420\nHow many CPUs, how much ram,\nhow fast is the hard drive,\n\n555\n00:27:38.420 --> 00:27:41.380\nthose are really things we're worried\nabout because it's looking locally.\n\n556\n00:27:41.380 --> 00:27:45.050\nSo you'll see here it does come back and\nsay, hey all prereq checks have passed\n\n557\n00:27:45.050 --> 00:27:47.840\nsuccessfully even though it looks like\nwe have a bunch of warnings here.\n\n558\n00:27:47.840 --> 00:27:50.950\nWe just have the information items but\nwe are ready to proceed.\n\n559\n00:27:50.950 --> 00:27:54.736\nIt says server 16 controllers have\na default setting for security name,\n\n560\n00:27:54.736 --> 00:27:57.691\nallowed for\ngraphic algorithms compatible with NT-4.\n\n561\n00:27:57.691 --> 00:28:00.440\nSo it's just telling us about some\nbackwards compatibility stuff.\n\n562\n00:28:00.440 --> 00:28:03.720\nIt says, hey, for more information go\ncheck this URL out to make sure that it\n\n563\n00:28:03.720 --> 00:28:06.120\ncurrently hosts the infrastructure\nmaster role for this domain.\n\n564\n00:28:06.120 --> 00:28:07.762\nThere is also a global catalog server,\n\n565\n00:28:07.762 --> 00:28:11.369\nhosting obstruction master roles in the\nglobal catalog servers can cause problems.\n\n566\n00:28:11.369 --> 00:28:15.450\nWe talk about this in the global catalog\ninfrastructure master fsmo conversation we\n\n567\n00:28:15.450 --> 00:28:17.180\nhad in one of the prior requisites.\n\n568\n00:28:17.180 --> 00:28:20.040\nIn fact, we don't put these two\nroles together on the same machine,\n\n569\n00:28:20.040 --> 00:28:21.712\nessentially they do the same thing.\n\n570\n00:28:21.712 --> 00:28:24.440\nWe wanna have them separated\nas a matter of fact, probably.\n\n571\n00:28:24.440 --> 00:28:28.070\nUse global catalog service and not bother\nwith the infrastructure master roll.\n\n572\n00:28:28.070 --> 00:28:30.540\nSo we just talk about this a little bit.\n\n573\n00:28:30.540 --> 00:28:34.060\nSo it just goes through and\nmakes a recommendation to us about that.\n\n574\n00:28:34.060 --> 00:28:37.590\nThis computer has at least one physical\nadapter without a static IP address.\n\n575\n00:28:37.590 --> 00:28:40.128\nSo it's just warning us about\ncertain things that may or\n\n576\n00:28:40.128 --> 00:28:41.371\nmay not be important to us.\n\n577\n00:28:41.371 --> 00:28:46.180\nAnd then down here, prerequisite checks\ncompleted, all paths ready to go to begin.\n\n578\n00:28:46.180 --> 00:28:49.530\nWe'll click install here,\nlet it go off and do its things.\n\n579\n00:28:49.530 --> 00:28:53.260\nChecking domain upgrade status, so\nit's checking on some things that have to\n\n580\n00:28:53.260 --> 00:28:55.558\nhappen to make sure that\neverything is good.\n\n581\n00:28:55.558 --> 00:28:59.250\nIt's then gonna go ahead and start to\nactually step through the install,\n\n582\n00:28:59.250 --> 00:29:02.350\nstart to document the steps there,\nshow us what's going on.\n\n583\n00:29:02.350 --> 00:29:05.710\nOnce all that finishes.,\nmaybe about five minutes or so\n\n584\n00:29:05.710 --> 00:29:08.276\nyou could see checks\nthe domain upgrade status.\n\n585\n00:29:08.276 --> 00:29:12.460\nSame exact things that we just saw in the\nwarning and the prereq check show up here.\n\n586\n00:29:12.460 --> 00:29:15.490\nBut then after those things,\nit begins to actually go through and\n\n587\n00:29:15.490 --> 00:29:18.590\ndo the install, waiting for\nDNS install to finish.\n\n588\n00:29:18.590 --> 00:29:20.330\nSo it's gonna start stepping through that.\n\n589\n00:29:20.330 --> 00:29:23.510\nOnce all those things are done,\nwe'll actually be done with the wizard.\n\n590\n00:29:23.510 --> 00:29:25.170\nWe'll see success here.\n\n591\n00:29:25.170 --> 00:29:27.660\nWe'll then go ahead,\nwe'll restart the machine and\n\n592\n00:29:27.660 --> 00:29:29.360\nthen we'll have a working\ndomain controller.\n\n593\n00:29:29.360 --> 00:29:31.670\nSo, we're gonna wait for\nthat to happen behind the scenes.\n\n594\n00:29:31.670 --> 00:29:35.020\nNot subject you to having to watch ten\nminutes of that blue bar going by.\n\n595\n00:29:35.020 --> 00:29:37.650\nAs soon as you come back and join us,\nyou'll see it's all set, ready to go.\n\n596\n00:29:37.650 --> 00:29:39.282\nAnd we'll finish up the demonstration.\n\n597\n00:29:40.932 --> 00:29:45.090\nAll right, so we are successful, we've\ninstalled our domain controller using\n\n598\n00:29:45.090 --> 00:29:47.180\nthe IFM methodology install for media.\n\n599\n00:29:47.180 --> 00:29:48.390\nI've just gone ahead,\n\n600\n00:29:48.390 --> 00:29:51.360\nwaited on the restart,\nlogged back into the domain controller.\n\n601\n00:29:51.360 --> 00:29:54.810\nSo we've done that, and I've brought\nup the Active Directory user and\n\n602\n00:29:54.810 --> 00:29:57.630\ncomputers management tool,\nwhich is Installed at part of\n\n603\n00:29:57.630 --> 00:30:00.291\nthe administrative tool set for\nmanaging the domain.\n\n604\n00:30:00.291 --> 00:30:01.720\nI'm in the domain controllers OU.\n\n605\n00:30:01.720 --> 00:30:02.960\nWe have our two domain controllers.\n\n606\n00:30:02.960 --> 00:30:05.770\nWe can tell we were successful,\nthere's our machine.\n\n607\n00:30:05.770 --> 00:30:07.880\nNotice it's set to a domain controller.\n\n608\n00:30:07.880 --> 00:30:11.660\nBut remember we deselected the global\ncatalog option, so we can tell that this\n\n609\n00:30:11.660 --> 00:30:14.930\nis indeed the machine we were working on,\ninstalled ready to go.\n\n610\n00:30:14.930 --> 00:30:18.740\nBut we made it a domain controller without\nmaking it a global catalog server.\n\n611\n00:30:18.740 --> 00:30:21.120\nSo we do have that here.\n\n612\n00:30:21.120 --> 00:30:24.400\nI did explain it,\njust hypothetically if we did wanna go in.\n\n613\n00:30:25.590 --> 00:30:27.620\nSince we're here we'll take a quick look.\n\n614\n00:30:27.620 --> 00:30:31.080\nAnd we wanted to change that and\nmake that catalogue server.\n\n615\n00:30:31.080 --> 00:30:33.600\nWe said we could do that after the fact.\n\n616\n00:30:33.600 --> 00:30:35.473\nWe go to the sites and services tool.\n\n617\n00:30:35.473 --> 00:30:37.880\nLet's give that a moment to\nopen up while we're talking.\n\n618\n00:30:37.880 --> 00:30:39.600\nWe could go in to look\nat the properties and\n\n619\n00:30:39.600 --> 00:30:43.540\ncheck off the box to make this domain\ncontroller into a global catalog server.\n\n620\n00:30:43.540 --> 00:30:47.670\nI'll just quickly show you what that looks\nlike in case you haven't seen that before\n\n621\n00:30:47.670 --> 00:30:51.510\nand run into this situation where you\ndo have to convert a machine into, or\n\n622\n00:30:51.510 --> 00:30:55.270\ndomain controller into a global\ncatalog server after the fact.\n\n623\n00:30:55.270 --> 00:30:58.240\nSo just expand this out here.\n\n624\n00:30:58.240 --> 00:31:03.020\nSo we're in our ADDS sites and\nservices tool for the PLAB or\n\n625\n00:31:03.020 --> 00:31:06.040\nrather the domain controller,\nthe practicelabs.com domain.\n\n626\n00:31:06.040 --> 00:31:08.720\nWe're in the default first\nsite named site under Servers.\n\n627\n00:31:08.720 --> 00:31:14.060\nWe'll go in, we'll go to the server,\ngo to the NTDS settings, right click.\n\n628\n00:31:14.060 --> 00:31:18.119\nAnd if we go to Properties,\nremember I said that on the general tab,\n\n629\n00:31:18.119 --> 00:31:20.838\nthere would be a box there,\nglobal catalog.\n\n630\n00:31:20.838 --> 00:31:25.565\nAnd we just check that off, hit OK, and\nthat's all we would do to make this\n\n631\n00:31:25.565 --> 00:31:29.607\ninto a global catalog,\nserver machine would then have a copy,\n\n632\n00:31:29.607 --> 00:31:34.566\na subset of the information from\nthe schema, from the ntds.dit file created\n\n633\n00:31:34.566 --> 00:31:38.720\nwith the most used properties for\nthe objects in the directory.\n\n634\n00:31:38.720 --> 00:31:41.730\nThere would be a subset of them that\nare most frequently queried for,\n\n635\n00:31:41.730 --> 00:31:43.840\nthat's what the global\ncatalogue represents.\n\n636\n00:31:43.840 --> 00:31:46.080\nAnd the ability to then use\nthat locally for lookups and\n\n637\n00:31:46.080 --> 00:31:49.030\nvalidation of, among other things,\nuniversal group membership.\n\n638\n00:31:49.030 --> 00:31:49.900\nAs I suggested,\n\n639\n00:31:49.900 --> 00:31:52.460\nit's one of the key drivers for\nthe use of the global catalogue server.\n\n640\n00:31:52.460 --> 00:31:55.370\nAnd we can instantiate\nthat additional role.\n\n641\n00:31:55.370 --> 00:31:58.740\nFuture here just by checking off the box,\nhitting OK if we choose to do that.\n\n642\n00:31:58.740 --> 00:32:00.210\nRemoving it would be the same.\n\n643\n00:32:00.210 --> 00:32:02.420\nUncheck the box if it was selected and\n\n644\n00:32:02.420 --> 00:32:06.780\nwe could then make this domain controller\nthat is a global catalog server back into\n\n645\n00:32:06.780 --> 00:32:10.410\njust simply a normal domain controller\nby deselecting here if we chose to.\n\n646\n00:32:10.410 --> 00:32:13.880\nSo just show you kind of how we round\nthat out and finish that off, but\n\n647\n00:32:13.880 --> 00:32:15.460\nthat's how we would deal with this.\n\n648\n00:32:15.460 --> 00:32:19.130\nBut the install for media option,\nas you saw, walking through the wizard,\n\n649\n00:32:19.130 --> 00:32:23.460\nreally the only additional step there is\nspecifying the path to get to the install\n\n650\n00:32:23.460 --> 00:32:27.300\nmedia, the snapshot information we created\nfrom the source domain controller.\n\n651\n00:32:27.300 --> 00:32:31.020\nAs part of the walk-through of\nthe ADDS configuration wizard\n\n652\n00:32:31.020 --> 00:32:33.345\nwhen we used Server Manager\nto do the Installation.\n\n653\n00:32:33.345 --> 00:32:35.615\nOther than that,\nit's a very straightforward process.\n\n654\n00:32:35.615 --> 00:32:38.415\n&gt;&gt; Sounds good.\nWell thank you for showing us, Adam.\n\n655\n00:32:38.415 --> 00:32:40.475\nAnd thank you for being with us as well.\n\n656\n00:32:40.475 --> 00:32:43.535\nWe do have a little more to continue\ntalking about as far as installing and\n\n657\n00:32:43.535 --> 00:32:44.765\nworking with domain controllers.\n\n658\n00:32:44.765 --> 00:32:46.755\nSo make sure you stay tuned for that.\n\n659\n00:32:46.755 --> 00:32:48.555\nBut for now we'll go ahead and sign out.\n\n660\n00:32:48.555 --> 00:32:50.345\nI've been your host, Cherokee Boose.\n\n661\n00:32:50.345 --> 00:32:50.995\n&gt;&gt; I'm Adam Gordon.\n\n662\n00:32:50.995 --> 00:32:54.548\n&gt;&gt; See you next time here at ITProTV.\n\n663\n00:32:54.548 --> 00:33:00.522\n[MUSIC]\n\n664\n00:33:00.522 --> 00:33:04.969\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "229278807"
        },
        {
          "description": "In this show, Cherokee and Adam explain what a Read Only Domain Controller is and why is would be feasible to set one up. Factors such as security, budget, even bandwidth may all play into a decision to set one up. Tune in now to watch a step by step demonstration.",
          "length": "1354",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-8-installing_a_read_only_domain_controller-080917-PGM.00_22_50_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-8-installing_a_read_only_domain_controller-080917-PGM.00_22_50_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-1-8-installing_a_read_only_domain_controller-080917-PGM.00_22_50_00.Still001-sm.jpg",
          "title": "Installing a Read Only Domain Controller",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.244\nWelcome to ITProTV.\n\n2\n00:00:01.244 --> 00:00:02.581\nI'm your host Don Pezet.\n\n3\n00:00:02.581 --> 00:00:05.904\n[CROSSTALK]\n\n4\n00:00:05.904 --> 00:00:08.171\n[MUSIC]\n\n5\n00:00:08.171 --> 00:00:11.910\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.910 --> 00:00:16.092\n&gt;&gt; Welcome ladies and gentlemen to your\nIdentity with Windows Server 2016 series.\n\n7\n00:00:16.092 --> 00:00:18.220\nI'm your show host, Cherokee Boose.\n\n8\n00:00:18.220 --> 00:00:21.930\nWe've been talking quite a lot about\ndomain controllers, but specifically in\n\n9\n00:00:21.930 --> 00:00:26.820\nthis show we'll be taking a look at how\nto install a read-only domain controller.\n\n10\n00:00:26.820 --> 00:00:30.260\nWith us today, back in studios we\nhave Microsoft expert, Adam Gordon.\n\n11\n00:00:30.260 --> 00:00:31.030\nHow's it going today, Adam?\n\n12\n00:00:32.420 --> 00:00:33.583\n&gt;&gt; It is going well.\n\n13\n00:00:33.583 --> 00:00:34.339\nExcited to be here,\n\n14\n00:00:34.339 --> 00:00:37.634\nlooking forward to talking about not only\ninstalling a read-only domain controller.\n\n15\n00:00:37.634 --> 00:00:41.462\nWe're gonna take a look at how to do that,\na little PowerShell things set up for\n\n16\n00:00:41.462 --> 00:00:41.986\nyou here.\n\n17\n00:00:41.986 --> 00:00:45.103\nWe could do it through the GUI as\nwell through the Server Manager, and\n\n18\n00:00:45.103 --> 00:00:46.513\nthe AD configuration wizard.\n\n19\n00:00:46.513 --> 00:00:49.623\nBut we're gonna take a shot at through\nPowerShell to show you how to do that.\n\n20\n00:00:49.623 --> 00:00:53.457\nBut I thought before we get in to that,\nwhich is very important we will go through\n\n21\n00:00:53.457 --> 00:00:56.318\nthat, we throw little extra\ninformation in there for you,\n\n22\n00:00:56.318 --> 00:00:59.143\nas we always try to do the add value for\nyou here at ITProTV.\n\n23\n00:00:59.143 --> 00:01:03.048\nI thought we'd quickly talk about upgrades\nand upgrade paths, and how to upgrade to\n\n24\n00:01:03.048 --> 00:01:06.800\nWindows Servers 16 from prior versions of,\nlet's say a domain environment.\n\n25\n00:01:06.800 --> 00:01:10.697\nMaybe a 2012 R2, or 2012, or even 2008 R2.\n\n26\n00:01:10.697 --> 00:01:15.182\nWanna be able to think about what we do to\nmove those domain functionality levels,\n\n27\n00:01:15.182 --> 00:01:17.920\nand the domain controllers\nthemselves forward.\n\n28\n00:01:17.920 --> 00:01:22.638\nSo when we think about upgrading, the ADDS\ndomain running from an earlier version,\n\n29\n00:01:22.638 --> 00:01:27.090\nwe have to think about the fact that the\nfunctional level of that earlier version\n\n30\n00:01:27.090 --> 00:01:31.674\nof the domain, the domain level in other\nwords would be set at maybe 2008 R2,\n\n31\n00:01:31.674 --> 00:01:33.350\n2012 R2, but not 16.\n\n32\n00:01:33.350 --> 00:01:37.836\nAnd I showed you this in one of our prior\nshows, one of our prior discussions,\n\n33\n00:01:37.836 --> 00:01:41.993\nwhere we went in and talked about\nforest and domain functional levels.\n\n34\n00:01:41.993 --> 00:01:46.107\nAnd made the point that you would need to\nthink about what level to set them at if\n\n35\n00:01:46.107 --> 00:01:49.779\nyou do the install of domain\ncontrollers into an existing domain, or\n\n36\n00:01:49.779 --> 00:01:52.912\nadd new domains and\nnew domain controllers in the wizard.\n\n37\n00:01:52.912 --> 00:01:56.291\nAnd we pulled down the menu at some point\nand showed you there all these options,\n\n38\n00:01:56.291 --> 00:01:57.811\njust showing you what you could do.\n\n39\n00:01:57.811 --> 00:02:01.779\nWe have to upgrade all the domain\ncontrollers into the server 16 operating\n\n40\n00:02:01.779 --> 00:02:02.961\nsystem and platform.\n\n41\n00:02:02.961 --> 00:02:07.192\nHave them all set in the server 16\nworld in order to be able to move that\n\n42\n00:02:07.192 --> 00:02:09.861\ndomain functional level up to server 16.\n\n43\n00:02:09.861 --> 00:02:13.625\nYeah, and this has been the case for\nsome time, meaning when you go from,\n\n44\n00:02:13.625 --> 00:02:16.447\nlet's say,\na prior version up to a brand new version.\n\n45\n00:02:16.447 --> 00:02:20.434\nAnd you wanna move the domain\nfunctionality,and/or forest functionality\n\n46\n00:02:20.434 --> 00:02:23.743\nforward, all the domain controllers\nin that domain, if we're\n\n47\n00:02:23.743 --> 00:02:28.517\ntalking about domain functional level, all\nthe domain controllers in all the domains.\n\n48\n00:02:28.517 --> 00:02:32.421\nWe're talking about forest functional\nlevel have to be running up the new level.\n\n49\n00:02:32.421 --> 00:02:36.179\nIf we have any in other words that\nare older, we can't make that move because\n\n50\n00:02:36.179 --> 00:02:39.940\nwe'll be enabling new features,\npotentially new capabilities that those\n\n51\n00:02:39.940 --> 00:02:44.360\nolder domain controllers would not be able\nto support and not be able to understand.\n\n52\n00:02:44.360 --> 00:02:47.840\nAnd that can cause conflict and,\nindeed, may even cause errors and\n\n53\n00:02:47.840 --> 00:02:51.810\nfailures in our system, depending on\nthe severity of what may go on there.\n\n54\n00:02:51.810 --> 00:02:55.990\nSo we then perform the upgrade by moving\nall existing domain controls into and\n\n55\n00:02:55.990 --> 00:02:59.720\nonto the Server 16 platform, but\nby itself that's not enough.\n\n56\n00:02:59.720 --> 00:03:03.972\nWe can also potentially decide that, you\nknow what some of the domain controllers\n\n57\n00:03:03.972 --> 00:03:06.230\nmaybe we're not gonna keep around anymore,\nright?\n\n58\n00:03:06.230 --> 00:03:09.621\nSo let's say we have some domain\ncontrollers we've been operating since\n\n59\n00:03:09.621 --> 00:03:10.504\nServer 2008.\n\n60\n00:03:10.504 --> 00:03:14.108\nSeveral generation 2008, 2008 R2, 2012 R2,\n\n61\n00:03:14.108 --> 00:03:18.192\n16 would be the fifth generation of\nOS we're throwing into that box.\n\n62\n00:03:18.192 --> 00:03:22.614\nAnd that hardware if it's a physical\nserver, may be really old at this point,\n\n63\n00:03:22.614 --> 00:03:26.500\nI'm guessing 2008 domain controllers\nprobably been around for\n\n64\n00:03:26.500 --> 00:03:29.252\nat least seven years if\nnot longer at this point.\n\n65\n00:03:29.252 --> 00:03:31.622\nAnd that hardware may be ready for\nretirement,\n\n66\n00:03:31.622 --> 00:03:33.170\nwe may want to get rid of those.\n\n67\n00:03:33.170 --> 00:03:35.610\nSo instead of investing in upgrading yet\n\n68\n00:03:35.610 --> 00:03:39.640\nanother time, and or may be we are looking\nto virtualize our domain infrastructure,\n\n69\n00:03:39.640 --> 00:03:43.630\nget rid of our physical domain controllers\nand convert them into virtual machines.\n\n70\n00:03:43.630 --> 00:03:46.720\nSo maybe we're gonna just simply install\nsome brand new domain controllers and\n\n71\n00:03:46.720 --> 00:03:49.020\nphase out, or sundown our old ones, right?\n\n72\n00:03:49.020 --> 00:03:51.220\nEssentially remove them from production.\n\n73\n00:03:51.220 --> 00:03:55.260\nSo we'll start adding brand new domain\ncontrollers that are Server 16 based, and\n\n74\n00:03:55.260 --> 00:03:59.710\nthen over time move those older\ndomain controllers out just by simply\n\n75\n00:03:59.710 --> 00:04:03.630\nretiring them, shutting them off and\nremoving them from active use.\n\n76\n00:04:03.630 --> 00:04:06.607\nWe've talked about\nthe positioning of FSMO roles,\n\n77\n00:04:06.607 --> 00:04:10.407\nFlexible Single Operation Master\nroles in prior conversations.\n\n78\n00:04:10.407 --> 00:04:13.697\nWe did a hands on walk through\ndemonstration about transferring and\n\n79\n00:04:13.697 --> 00:04:16.536\nseizing those roles,\nmoving them around in other words.\n\n80\n00:04:16.536 --> 00:04:19.178\nEither planning to move them\nthrough transferring or\n\n81\n00:04:19.178 --> 00:04:22.592\nhaving to grab them because there's\nbeen a failure in seizing them.\n\n82\n00:04:22.592 --> 00:04:25.393\nIf you haven't seen that episode,\nencourage you go back and take a look.\n\n83\n00:04:25.393 --> 00:04:27.770\nHelpful just to get a sense of\nwhat we're talking about here.\n\n84\n00:04:27.770 --> 00:04:32.087\nBut we could transfer the FSMO roles off\none of those domain controllers if it was\n\n85\n00:04:32.087 --> 00:04:32.869\non an old one.\n\n86\n00:04:32.869 --> 00:04:36.685\nMove it to a new Server 16 system,\ninstantiate it there, and\n\n87\n00:04:36.685 --> 00:04:40.573\nby way of doing the upgrade and\nthe introduction of new systems,\n\n88\n00:04:40.573 --> 00:04:43.387\nbring our functionality up and\nalong as well.\n\n89\n00:04:43.387 --> 00:04:44.992\nSo we have different options here.\n\n90\n00:04:44.992 --> 00:04:49.259\nBut if we're gonna do what we call\nan in-place upgrade, take that Server 12,\n\n91\n00:04:49.259 --> 00:04:53.213\n12 R2 machine running as a domain\ncontroller, load Server 16 in, and\n\n92\n00:04:53.213 --> 00:04:56.891\nswap out the operating system binaries,\nbring it up to Server 16.\n\n93\n00:04:56.891 --> 00:04:58.996\nThat does not necessarily mean that,\n\n94\n00:04:58.996 --> 00:05:03.423\nthat domain controller is gonna be\nrunning as a Server 16 domain controller.\n\n95\n00:05:03.423 --> 00:05:08.330\nIt just means it's running as\na Server 12 or 12 R2 DC on Server 16.\n\n96\n00:05:08.330 --> 00:05:09.380\nWhat I mean is,\n\n97\n00:05:09.380 --> 00:05:12.170\nthere is still some additional\nsteps that have to be engaged in.\n\n98\n00:05:12.170 --> 00:05:15.860\nWe have to take a look at\nrunning a tool called ADPrep,\n\n99\n00:05:15.860 --> 00:05:20.780\nwhich allows us to be able to do both\nthe forest prep and the domain prep,\n\n100\n00:05:20.780 --> 00:05:26.028\nin order to prep the schema and extend\nit to enable us to work as a Server 16,\n\n101\n00:05:26.028 --> 00:05:29.494\nor Windows Server 16\nbased domain controller.\n\n102\n00:05:29.494 --> 00:05:33.695\nIf you've never done any Microsoft\nExchange server installations, and\n\n103\n00:05:33.695 --> 00:05:38.314\nyou've done let's say Exchange 2013,\n2010, 2013, 2016.\n\n104\n00:05:38.314 --> 00:05:42.228\nAnd you've worked with Exchange, and\nset it up from the ground up and\n\n105\n00:05:42.228 --> 00:05:46.412\ndone the installation and had to extend\nthe schema of the operating system\n\n106\n00:05:46.412 --> 00:05:50.936\ndomain controller involved to be able at\nthe forest level and at the domain level\n\n107\n00:05:50.936 --> 00:05:54.952\ninstall Exchange into the domain\nyou're working with in the forest.\n\n108\n00:05:54.952 --> 00:05:57.982\nYou've run this extend\nschema concept already,\n\n109\n00:05:57.982 --> 00:06:00.878\ncuz you do that as part\nof the Exchange install.\n\n110\n00:06:00.878 --> 00:06:03.855\nIf you haven't done this before,\nno big deal, it's very straightforward.\n\n111\n00:06:03.855 --> 00:06:08.016\nBut you run the adprep.exe tool\nwith either the forest prep or\n\n112\n00:06:08.016 --> 00:06:09.626\ndomain prep switches.\n\n113\n00:06:09.626 --> 00:06:13.559\nYou just do forward slash forest prep,\nforward slash domain prep,\n\n114\n00:06:13.559 --> 00:06:15.562\nprep of the forest and the domain.\n\n115\n00:06:15.562 --> 00:06:19.505\nYou'll find Adprep as a tool\nin the support folder inside\n\n116\n00:06:19.505 --> 00:06:21.902\nthe Windows Server 16 media.\n\n117\n00:06:21.902 --> 00:06:25.287\nSo go to your Windows Server DVD,\nopen it up, look for\n\n118\n00:06:25.287 --> 00:06:28.541\nin one of the root folders\na folder called Support.\n\n119\n00:06:28.541 --> 00:06:32.652\nInside of there in the subfolder,\nyou'll see the Adprep folder, and\n\n120\n00:06:32.652 --> 00:06:35.104\ninside of there is the Adprep.exe tool.\n\n121\n00:06:35.104 --> 00:06:36.951\nAnd that's where you'll\ngo to find this tool.\n\n122\n00:06:36.951 --> 00:06:40.686\nAnd then from there, you'll simply run\nthat with the switches involved or\n\n123\n00:06:40.686 --> 00:06:43.305\nthe steps involved for\nforest prep and domain prep.\n\n124\n00:06:43.305 --> 00:06:45.007\nBut once you've done that,\nyou're set and ready to go.\n\n125\n00:06:45.007 --> 00:06:48.027\nYou don't have to do anything else other\nthan obviously make sure the domain\n\n126\n00:06:48.027 --> 00:06:50.056\ncontrollers are then\nupgraded to Server 16, and\n\n127\n00:06:50.056 --> 00:06:51.915\nthe operating system\nwill allow us to do that.\n\n128\n00:06:51.915 --> 00:06:54.193\nSo just make sure you're aware of that.\n\n129\n00:06:54.193 --> 00:06:57.664\nSo we do all that, and then once we\nget that done, we go through and\n\n130\n00:06:57.664 --> 00:06:59.470\njust do our normal process.\n\n131\n00:06:59.470 --> 00:07:01.003\nAnd we're set and\nready to go with our domain controllers.\n\n132\n00:07:01.003 --> 00:07:05.121\nSo we've shown you how to do installs\nof brand new domain controllers.\n\n133\n00:07:05.121 --> 00:07:08.590\nHow to add additional domain\ncontrollers into existing domains.\n\n134\n00:07:08.590 --> 00:07:11.073\nHow to set up a brand new forest,\nand a forest root domain.\n\n135\n00:07:11.073 --> 00:07:14.982\nWe've walked through all those different\ninstallations as additional episodes and\n\n136\n00:07:14.982 --> 00:07:16.891\nhands-on things that we've shown you.\n\n137\n00:07:16.891 --> 00:07:19.770\nIf you haven't seen those,\nencourage you to go out and take a look.\n\n138\n00:07:19.770 --> 00:07:20.752\nBut we're gonna jump in and\n\n139\n00:07:20.752 --> 00:07:23.323\ntake a look at how to do a read-only\ndomain controller installed here.\n\n140\n00:07:23.323 --> 00:07:27.127\nSo if you join me over here, what we're\ngonna do, we're gonna go ahead, and we're\n\n141\n00:07:27.127 --> 00:07:30.847\ngonna take a look at what I've already\ndone, just a little background prep work.\n\n142\n00:07:30.847 --> 00:07:34.031\nAnd then we'll execute this command,\nI'll walk through the additional\n\n143\n00:07:34.031 --> 00:07:36.969\nsteps involved with spinning up and\ncreating the read-only copy.\n\n144\n00:07:36.969 --> 00:07:41.776\nI've instantiated and installed\nthe ADDS role and features here, so\n\n145\n00:07:41.776 --> 00:07:47.245\nadd Windows feature, ADDS, AD domain\nservices including management tools.\n\n146\n00:07:47.245 --> 00:07:49.337\nDone that through PowerShell.\nYou've seen me do this both in the GUI,\n\n147\n00:07:49.337 --> 00:07:52.818\nthrough the Server Manager, and through\nPowerShell, works the same either way.\n\n148\n00:07:52.818 --> 00:07:57.430\nWe see that was successful, so now we're\ngonna install or through PowerShell.\n\n149\n00:07:57.430 --> 00:08:01.236\nUse the Install-ADDSDomainController\ncmdlet.\n\n150\n00:08:01.236 --> 00:08:05.490\nNow there's two Install-ADDS\ncmdlets that you get.\n\n151\n00:08:05.490 --> 00:08:10.630\nOne says Install-ADDSDomain, the other\nsays Install-ADDSDomainController.\n\n152\n00:08:10.630 --> 00:08:14.035\nMake sure you choose the right one for\nthis activity, if you're auto-tabbing or\n\n153\n00:08:14.035 --> 00:08:16.580\nauto-completing as you've\nheard me say I often do.\n\n154\n00:08:16.580 --> 00:08:19.550\nCherokee says, no, I'm the kinda person,\nI type it out myself.\n\n155\n00:08:19.550 --> 00:08:22.603\nNo matter what you do, it doesn't matter,\njust make sure you choose the right one or\n\n156\n00:08:22.603 --> 00:08:25.368\nyou're gonna get a very different result,\nwhich will not be what you want.\n\n157\n00:08:25.368 --> 00:08:27.559\nWe're then gonna use\nthe credential parameter,\n\n158\n00:08:27.559 --> 00:08:29.130\nI talked about this before as well.\n\n159\n00:08:29.130 --> 00:08:34.526\nThe credential parameter is fed by,\nin this case, a parameterized item or\n\n160\n00:08:34.526 --> 00:08:38.650\nparameterized set of commands\ninside of a parenthesis.\n\n161\n00:08:38.650 --> 00:08:41.020\nSo we're gonna do what's\nin the parenthesis first.\n\n162\n00:08:41.020 --> 00:08:45.040\nThe Get-Credential command is here,\nwe're providing part of the credential.\n\n163\n00:08:45.040 --> 00:08:48.290\nPractice labs, our domain reference,\nadministrator,\n\n164\n00:08:48.290 --> 00:08:53.440\nthe name of the user that will be used to\ndrive this particular set of activities.\n\n165\n00:08:53.440 --> 00:08:56.630\nWe're then gonna pass this\nto the prudential parameter.\n\n166\n00:08:56.630 --> 00:08:59.110\nBut because we're not\nproviding a password,\n\n167\n00:08:59.110 --> 00:09:01.010\nwe're gonna get prompted on screen for\nthe password.\n\n168\n00:09:01.010 --> 00:09:03.600\nYou've seen this in some of\nthe other demos if you watched them.\n\n169\n00:09:03.600 --> 00:09:04.830\nIf not, you'll see it here,\n\n170\n00:09:04.830 --> 00:09:07.697\nbut you'll see it repeat as a theme\nthroughout our demonstrations.\n\n171\n00:09:07.697 --> 00:09:11.440\nIt's kind of truncated here but\nwe then have a domain name parameter.\n\n172\n00:09:11.440 --> 00:09:13.680\nYou kinda see the end of\nit sticking out over there.\n\n173\n00:09:13.680 --> 00:09:16.910\nWe specify the domain name of\nthe domain that we want to.\n\n174\n00:09:16.910 --> 00:09:21.310\nGrab that domain controller information\nfrom and create a read-only copy of and\n\n175\n00:09:21.310 --> 00:09:22.640\ninstantiate on this domain controller.\n\n176\n00:09:22.640 --> 00:09:26.060\nAttach it to this domain,\nthe practicelabs.com domain.\n\n177\n00:09:26.060 --> 00:09:29.800\nWhat makes it a read-only domain\ncontroller is this parameter right here,\n\n178\n00:09:29.800 --> 00:09:31.330\nReadOnlyReplica.\n\n179\n00:09:31.330 --> 00:09:33.749\nThis parameter means that when I run this,\n\n180\n00:09:33.749 --> 00:09:38.196\nthis will become a read-only domain\ncontroller, an RODC, when we are done.\n\n181\n00:09:38.196 --> 00:09:42.671\nNow, if you watched the demonstration\nalready that we did,\n\n182\n00:09:42.671 --> 00:09:47.496\nthat allows us to go in and set up and\ninstall a domain control using\n\n183\n00:09:47.496 --> 00:09:52.435\nwhat's called the IFM option,\nthe Install for Media option.\n\n184\n00:09:52.435 --> 00:09:56.715\nYou saw me in the GUI wizard in this\nServer Manager in AD Configuration Wizard,\n\n185\n00:09:56.715 --> 00:10:00.615\nrun through, do the install, and one of\nthe options on one of the pages there\n\n186\n00:10:00.615 --> 00:10:03.075\nwas a check box for\nmaking a read-only domain controller.\n\n187\n00:10:03.075 --> 00:10:07.167\nWhere it allows you do specify the\ninstallation of DNS, specify whether you\n\n188\n00:10:07.167 --> 00:10:09.977\nwanna make a global catalog server\nout of that domain controller or not.\n\n189\n00:10:09.977 --> 00:10:11.177\nWe talked about all the options.\n\n190\n00:10:11.177 --> 00:10:13.567\nI called out that read-only\ndomain controller is there.\n\n191\n00:10:13.567 --> 00:10:17.417\nIt's not selected by default,\nyou could easily check it off that would\n\n192\n00:10:17.417 --> 00:10:20.627\ntoggle the install to do the same thing\nwe're gonna do here in PowerShell.\n\n193\n00:10:20.627 --> 00:10:23.123\nSo doing it from the GUI or\ndoing it from PowerShell,\n\n194\n00:10:23.123 --> 00:10:26.324\nit essentially winds up being the same,\nthere's no difference.\n\n195\n00:10:26.324 --> 00:10:30.542\nThe only difference is, how do you get to\nthe point where you choose that option and\n\n196\n00:10:30.542 --> 00:10:31.535\nwhat you wanna do?\n\n197\n00:10:31.535 --> 00:10:34.108\nI'm just showing you how to do\nit from PowerShell because A,\n\n198\n00:10:34.108 --> 00:10:35.224\nyou should know how do it.\n\n199\n00:10:35.224 --> 00:10:38.161\nB, may get asked about the cmdlet\nstring in order to do it, so\n\n200\n00:10:38.161 --> 00:10:40.079\nyou should see it and know what it does.\n\n201\n00:10:40.079 --> 00:10:40.825\n&gt;&gt; Nice to see that, yeah.\n\n202\n00:10:40.825 --> 00:10:41.905\n&gt;&gt; Nice to see that.\n\n203\n00:10:41.905 --> 00:10:43.745\nDon't always get to see\nit done in PowerShell.\n\n204\n00:10:43.745 --> 00:10:46.716\nIt's very easy to check a box and\nnot know what you're doing.\n\n205\n00:10:46.716 --> 00:10:48.836\nBut it's a little bit harder\nto go into PowerShell and\n\n206\n00:10:48.836 --> 00:10:51.485\nfigure out the right command syntax and\nmake it work the right way.\n\n207\n00:10:51.485 --> 00:10:54.445\nSo wanna make sure we show you and\ntalk about both ways,\n\n208\n00:10:54.445 --> 00:10:56.705\nbut we're gonna focus\non this particular one.\n\n209\n00:10:56.705 --> 00:10:59.155\nSo join me back here, gonna hit Enter.\n\n210\n00:10:59.155 --> 00:11:00.925\nI've just done that,\nI'm just gonna get prompted for\n\n211\n00:11:00.925 --> 00:11:03.660\nthat password that we were talking about.\n\n212\n00:11:03.660 --> 00:11:07.550\nSo I'm gonna provide the domain\nadmin password there.\n\n213\n00:11:07.550 --> 00:11:13.043\nNow unlike some of the prior installations\nthat we have done through PowerShell,\n\n214\n00:11:13.043 --> 00:11:18.868\nwhere we then get immediately prompted for\nthe directory services restore password.\n\n215\n00:11:18.868 --> 00:11:22.655\nAnd I have to provide that password two\nadditional times as I'm running through\n\n216\n00:11:22.655 --> 00:11:23.580\nPowerShell.\n\n217\n00:11:23.580 --> 00:11:27.480\nHere I'm being promoted for\nthe site name, I'm being prompted for\n\n218\n00:11:27.480 --> 00:11:32.080\nthe site name that I wanna be associated\nwith the installation of this domain.\n\n219\n00:11:32.080 --> 00:11:37.110\nThe default-first-site-name site is\nthe standard name that we would use.\n\n220\n00:11:37.110 --> 00:11:41.360\nAnd then the wizard on the page where we\ndo the install, it has the site listed,\n\n221\n00:11:41.360 --> 00:11:42.890\nit's already populated, but\n\n222\n00:11:42.890 --> 00:11:46.400\nbecause in PowerShell,\nwe're not seeing that information.\n\n223\n00:11:46.400 --> 00:11:47.798\nI'm being asked to provide it here.\n\n224\n00:11:47.798 --> 00:11:49.860\nSo that's why I'm getting this extra step.\n\n225\n00:11:49.860 --> 00:11:51.810\nSo I'm gonna type in the name of the site,\n\n226\n00:11:51.810 --> 00:11:56.800\nthe Active Directory site that I want this\ndomain controller to be associated with.\n\n227\n00:11:56.800 --> 00:12:02.040\nI only have one site by default,\nit's called default-first-site-name,\n\n228\n00:12:02.040 --> 00:12:03.850\nthat's what I'm gonna type in here.\n\n229\n00:12:03.850 --> 00:12:07.240\nIf you've created additional AD sites,\nyou would choose the appropriate site.\n\n230\n00:12:07.240 --> 00:12:09.850\nPut in the name as it\nexactly appears here.\n\n231\n00:12:09.850 --> 00:12:11.618\nIt's capitalized, put in as capital.\n\n232\n00:12:11.618 --> 00:12:13.310\nIf it's lowercase,\nput in as lowercase whatever,\n\n233\n00:12:13.310 --> 00:12:15.870\nbut you're gonna type in exactly\nas what it would appear.\n\n234\n00:12:15.870 --> 00:12:20.105\nYou would find the listing of those sites,\nby the way, by going into the AD sites and\n\n235\n00:12:20.105 --> 00:12:20.961\nservices tool.\n\n236\n00:12:20.961 --> 00:12:23.810\nYou see we use that tool in another areas,\nanother demonstrations.\n\n237\n00:12:23.810 --> 00:12:26.987\nYou could see the list of sites and\nobviously then take a look at them there.\n\n238\n00:12:26.987 --> 00:12:30.124\nYou could also pull the list of sites\nthrough PowerShell as well if you wanted\n\n239\n00:12:30.124 --> 00:12:31.360\nto, so just be aware of that.\n\n240\n00:12:31.360 --> 00:12:34.160\nAll right, so let me just type\nthis in while we are talking,\n\n241\n00:12:34.160 --> 00:12:36.905\ncuz I make a rule that I never talk and\ntype at the same time.\n\n242\n00:12:36.905 --> 00:12:39.614\nCuz I get both wrong, and I wind up\nsaying all sorts of crazy things and\n\n243\n00:12:39.614 --> 00:12:40.870\nmisspell everything.\n\n244\n00:12:40.870 --> 00:12:43.720\nAll right, so default, I would ask\nyou to keep me honest on spelling,\n\n245\n00:12:43.720 --> 00:12:46.360\nbut I know you can't see what's going\non on the screen there, Cherokee.\n\n246\n00:12:46.360 --> 00:12:49.305\n&gt;&gt; I know, I thought we were gonna\npractice one day where I'm typing and then\n\n247\n00:12:49.305 --> 00:12:51.779\nyou're talking, so [CROSSTALK] [LAUGH]\n&gt;&gt; Yeah, not right now.\n\n248\n00:12:51.779 --> 00:12:54.321\n&gt;&gt; [LAUGH]\n&gt;&gt; We'd actually want this demonstration\n\n249\n00:12:54.321 --> 00:12:55.380\nto go flawlessly.\n\n250\n00:12:55.380 --> 00:12:57.860\nAll right, so Default-First-Site-Name,\nyou could see that's there.\n\n251\n00:12:57.860 --> 00:12:59.120\nJust gonna hit Enter.\n\n252\n00:12:59.120 --> 00:13:00.870\nNow you see I am prompted for\n\n253\n00:13:00.870 --> 00:13:04.120\nthe directory services\ndefault restore password.\n\n254\n00:13:04.120 --> 00:13:07.100\nSo I do still get those prompts,\nbut I just have the extra step\n\n255\n00:13:07.100 --> 00:13:09.770\nof providing a site name here\nbecause of the way we're doing this.\n\n256\n00:13:09.770 --> 00:13:13.210\nSo I'm gonna provide\nthat password now twice.\n\n257\n00:13:13.210 --> 00:13:16.280\nPut it in and\nthen be asked to provide it again.\n\n258\n00:13:16.280 --> 00:13:18.811\nWe then get our standard hey,\nyes, yes to all no, no to all.\n\n259\n00:13:18.811 --> 00:13:20.230\nWhat do you wanna do?\n\n260\n00:13:20.230 --> 00:13:23.463\nGonna type our a there, and\nthen that's gonna kick off.\n\n261\n00:13:23.463 --> 00:13:27.380\nYou could see that running up there\nare green dialog box or yellow.\n\n262\n00:13:27.380 --> 00:13:29.070\nDNS is configuring.\n\n263\n00:13:29.070 --> 00:13:30.600\nWaiting for DNS to finish there.\n\n264\n00:13:30.600 --> 00:13:32.350\nI'm gonna let that run.\n\n265\n00:13:32.350 --> 00:13:34.970\nOnce this is finished,\nwe'll get our success,\n\n266\n00:13:34.970 --> 00:13:36.650\nor find out that we were successful.\n\n267\n00:13:36.650 --> 00:13:38.640\nIt will tell us that we were successful.\n\n268\n00:13:38.640 --> 00:13:40.059\nWe'll get a,\nyou could see it's moving there,\n\n269\n00:13:40.059 --> 00:13:41.470\nit's actually not gonna take too long.\n\n270\n00:13:41.470 --> 00:13:44.920\nWe'll get a little blue dialogue box\nthat comes up, essentially says,\n\n271\n00:13:44.920 --> 00:13:46.545\nhey, you're about to be signed out.\n\n272\n00:13:46.545 --> 00:13:49.700\nWe're gonna restart the machine,\nthat's how we know we were successful.\n\n273\n00:13:49.700 --> 00:13:51.680\nYou're watching it go\nthere behind the scenes.\n\n274\n00:13:51.680 --> 00:13:52.600\nWe'll let it finish up.\n\n275\n00:13:52.600 --> 00:13:55.430\nSometimes we cut away and come back so\nyou don't see all of this.\n\n276\n00:13:55.430 --> 00:13:59.280\nBut it's fun sometimes just to watch it\nrunning to actually see what's happening.\n\n277\n00:13:59.280 --> 00:14:01.610\nYou can read all the steps\non the screen there.\n\n278\n00:14:01.610 --> 00:14:03.336\nIt's setting up the DNS service right now.\n\n279\n00:14:03.336 --> 00:14:06.380\nIt was just configuring\nKerberos policy a moment ago.\n\n280\n00:14:06.380 --> 00:14:08.420\nI'm just walking through all the steps.\n\n281\n00:14:08.420 --> 00:14:12.970\nThe nice thing about PowerShell, the only\nreason I like doing this in PowerShell,\n\n282\n00:14:12.970 --> 00:14:17.119\nunlike in the GUI is that in PowerShell\nyou see all the steps, it tells you, hey,\n\n283\n00:14:17.119 --> 00:14:20.130\nI'm doing this and doing this,\nI know exactly what's happening.\n\n284\n00:14:20.130 --> 00:14:23.566\nWhereas in the GUI in the API\nconfiguration wizard server manager,\n\n285\n00:14:23.566 --> 00:14:25.140\nit's just on the screen.\n\n286\n00:14:25.140 --> 00:14:27.320\nYeah there is, you did see those\nsteps go by, they are there.\n\n287\n00:14:27.320 --> 00:14:29.775\nWe've shown you they're on the top\nof the white screen there,\n\n288\n00:14:29.775 --> 00:14:31.090\nyou kinda see them rolling.\n\n289\n00:14:31.090 --> 00:14:33.160\nBut they're really small,\nand it's hard to see.\n\n290\n00:14:33.160 --> 00:14:36.500\nAnd if you don't pay attention you\nmay miss them cuz they fly right by.\n\n291\n00:14:36.500 --> 00:14:37.950\nHere, it's a lot more obvious to you.\n\n292\n00:14:37.950 --> 00:14:39.790\nYou can actually see what's happening.\n\n293\n00:14:39.790 --> 00:14:41.700\nSo it does make it a little\nbit easier to watch and\n\n294\n00:14:41.700 --> 00:14:44.600\nkinda see just how things are going and\nwhat's going on.\n\n295\n00:14:44.600 --> 00:14:47.878\nSo once DNS is configured,\nit takes about three to four minutes,\n\n296\n00:14:47.878 --> 00:14:49.557\nyou see it's almost done there.\n\n297\n00:14:49.557 --> 00:14:52.820\nOn average, it takes about three minutes,\nyou see it did go through.\n\n298\n00:14:54.090 --> 00:14:55.870\nIt is successful, there we go.\n\n299\n00:14:55.870 --> 00:14:57.520\nThat means we're about to be signed out,\n\n300\n00:14:57.520 --> 00:15:01.160\nif I don't do anything about 30 seconds\nfrom now, it'll sign me out and restart.\n\n301\n00:15:01.160 --> 00:15:03.130\nI'm just gonna go ahead,\nsee it's going right now.\n\n302\n00:15:03.130 --> 00:15:06.470\nI'm gonna just kill the console\nscreen here cuz we have to wait and\n\n303\n00:15:06.470 --> 00:15:08.040\nreconnect into the VM.\n\n304\n00:15:08.040 --> 00:15:11.330\nOnce this is done, we give it about\na minute or so we log back in.\n\n305\n00:15:11.330 --> 00:15:12.395\nWe'll have a copy,\n\n306\n00:15:12.395 --> 00:15:17.250\nread-only copy of our domain controller\nbut we now have a instantiated copy.\n\n307\n00:15:17.250 --> 00:15:22.160\nThe key difference between a normal\ndomain controller, the standard DC, and\n\n308\n00:15:22.160 --> 00:15:25.300\nwhat we call the RODC,\na read-only domain controller.\n\n309\n00:15:25.300 --> 00:15:26.290\nAnd we talked about this.\n\n310\n00:15:26.290 --> 00:15:28.020\nBut let's just make sure you're\ncomfortable with it as we're doing\n\n311\n00:15:28.020 --> 00:15:29.160\nthe demonstration.\n\n312\n00:15:29.160 --> 00:15:32.840\nThe key difference is,\nthat a read-only domain controller has\n\n313\n00:15:32.840 --> 00:15:36.860\nexactly as the name applies, a read-only\ncopy of the Active Directory schema.\n\n314\n00:15:36.860 --> 00:15:41.040\nSo it's got a copy that cannot be written\nto on the main controller itself.\n\n315\n00:15:41.040 --> 00:15:45.274\nBut rather can only be read and\nused to authenticate users all the stuff\n\n316\n00:15:45.274 --> 00:15:49.723\nwe normally do with a domain controller\nin terms of using it to validate and\n\n317\n00:15:49.723 --> 00:15:54.705\nauthenticate user logons and accessing\nrequest to resources, that part works.\n\n318\n00:15:54.705 --> 00:15:56.025\nBut we may not be or not or\n\n319\n00:15:56.025 --> 00:15:59.533\nnot able to I should say administer\nmake changes make updates or\n\n320\n00:15:59.533 --> 00:16:03.986\nmodify Any of the information in the\ndomain, through that domain controller.\n\n321\n00:16:03.986 --> 00:16:08.602\nThe placement and the usage scenario for\nread-only domain controllers?\n\n322\n00:16:08.602 --> 00:16:12.212\nThe business case in other words,\nis remote offices or\n\n323\n00:16:12.212 --> 00:16:15.361\nbranch offices that\nare down range somewhere.\n\n324\n00:16:15.361 --> 00:16:20.350\nSo we're gonna be deploying a domain\ncontroller into a remote office where we\n\n325\n00:16:20.350 --> 00:16:24.724\nmost likely do not have oversight,\nfull IT support capabilities,\n\n326\n00:16:24.724 --> 00:16:28.200\nprobably limited,\nif any IT staff on sight there.\n\n327\n00:16:28.200 --> 00:16:32.070\nThey may be there, but perhaps they're\nnot trained to work with this system.\n\n328\n00:16:32.070 --> 00:16:34.530\nMaybe we're worried about the security,\nphysical and\n\n329\n00:16:34.530 --> 00:16:38.590\nlogical, of this domain controller as\nwell as a lack of oversight and support.\n\n330\n00:16:38.590 --> 00:16:42.361\nAnd as a result we're worried about\nputting a full feature domain controller\n\n331\n00:16:42.361 --> 00:16:45.969\nin place where somebody may get access\nto the directory and make changes.\n\n332\n00:16:45.969 --> 00:16:50.518\nThat value of using an RODC,\nis that it gets its copy of the domain\n\n333\n00:16:50.518 --> 00:16:55.764\ninformation pushed down to it from\na full functional domain controller.\n\n334\n00:16:55.764 --> 00:16:58.347\nIt's a one way exchange of information.\n\n335\n00:16:58.347 --> 00:17:01.261\nNothing is push back up from the RODC,\nbut in other words,\n\n336\n00:17:01.261 --> 00:17:04.305\nit's only gonna come down from\nthe main domain controller.\n\n337\n00:17:04.305 --> 00:17:08.301\nAnd as a result no changes are allowed, no\nchanges are made, no changes are accepted,\n\n338\n00:17:08.301 --> 00:17:12.070\neven if somebody were to access the domain\ncontroller in the branch office.\n\n339\n00:17:12.070 --> 00:17:15.930\nThey couldn't do anything other than just\nsimply interact with the information and\n\n340\n00:17:15.930 --> 00:17:17.340\nsort of thereby using it.\n\n341\n00:17:17.340 --> 00:17:18.835\nBut they can't actually make changes.\n\n342\n00:17:18.835 --> 00:17:20.295\nAnd if they steal it physically,\n\n343\n00:17:20.295 --> 00:17:23.748\nthe information is stored in an encrypted\nform, they can't get access to it.\n\n344\n00:17:23.748 --> 00:17:28.349\nSo they have no way of accessing the data\nand no way of interacting with it in a way\n\n345\n00:17:28.349 --> 00:17:32.780\nthat can jeopardize the security of\nthe domain and the directory service.\n\n346\n00:17:32.780 --> 00:17:34.900\nSo, this is where we see this deployed.\n\n347\n00:17:34.900 --> 00:17:36.516\nThis is why we see it deployed.\n\n348\n00:17:36.516 --> 00:17:40.168\nThis is the reason why we use\nthis particular technology.\n\n349\n00:17:40.168 --> 00:17:42.340\nGive me just a moment\nwhile we're doing this.\n\n350\n00:17:42.340 --> 00:17:45.400\nI'm just gonna extend the lab time\nreally quick, bring back up the console.\n\n351\n00:17:45.400 --> 00:17:47.230\nMachine should have restarted by now.\n\n352\n00:17:47.230 --> 00:17:49.890\nSo we'll be able to go back\nin to make sure it's up and\n\n353\n00:17:49.890 --> 00:17:53.690\nrunning, just logging into it, so\njust give it a second while it does that.\n\n354\n00:17:53.690 --> 00:17:57.320\nSee it just disconnects the first time,\njust have to log back in, and\n\n355\n00:17:57.320 --> 00:18:02.270\nthen once we do that we'll just be able\nto check and make sure, get on here.\n\n356\n00:18:02.270 --> 00:18:05.857\nJust give it a second, and then we'll\nbe able to get in and take a look.\n\n357\n00:18:09.917 --> 00:18:10.781\nKnow any good jokes?\n\n358\n00:18:14.084 --> 00:18:14.938\n&gt;&gt; For TV?\n\n359\n00:18:14.938 --> 00:18:15.997\n&gt;&gt; Yeah, for TV.\n\n360\n00:18:15.997 --> 00:18:17.830\n&gt;&gt; [LAUGH]\n&gt;&gt; Just while we're waiting on the desktop\n\n361\n00:18:17.830 --> 00:18:18.420\nto come up.\n\n362\n00:18:18.420 --> 00:18:20.530\n&gt;&gt; I'm trying to think of\nappropriateness levels.\n\n363\n00:18:20.530 --> 00:18:21.310\n&gt;&gt; A clean joke,\n\n364\n00:18:21.310 --> 00:18:26.924\none that you could actually say\nsomething about, any good stories.\n\n365\n00:18:26.924 --> 00:18:32.480\nTry this one more\n\n366\n00:18:32.480 --> 00:18:37.320\ntime, whoops, just one second.\n\n367\n00:18:37.320 --> 00:18:38.420\nLet's get back in there, there we go.\n\n368\n00:18:38.420 --> 00:18:41.470\n&gt;&gt; Good stories,\nyou're the one that goes on vacation,\n\n369\n00:18:41.470 --> 00:18:42.602\nI bet you have more than I do.\n\n370\n00:18:42.602 --> 00:18:44.510\n[LAUGH]\n&gt;&gt; Well, I do, but you know,\n\n371\n00:18:44.510 --> 00:18:45.970\ndepends on what we're talking about.\n\n372\n00:18:45.970 --> 00:18:49.560\nWe'll give this just a moment, it's just\ntrying to connect on the backend, and just\n\n373\n00:18:49.560 --> 00:18:53.080\ngenerate the desktop take a moment when\nwe first log back in for it to do that.\n\n374\n00:18:53.080 --> 00:18:57.100\nBut in the meantime, just remember\nthat read only domain controllers,\n\n375\n00:18:57.100 --> 00:18:59.620\nthe installation of them,\nwhere we would use them.\n\n376\n00:18:59.620 --> 00:19:02.089\nThat kind of business case\nscenario I talked about.\n\n377\n00:19:02.089 --> 00:19:03.882\nWhy would we wanna use them?\n\n378\n00:19:03.882 --> 00:19:06.080\nWhen are they appropriate for deployment?\n\n379\n00:19:06.080 --> 00:19:10.200\nVery important to know those things a lot\nof times you'll get scenario questions on\n\n380\n00:19:10.200 --> 00:19:14.330\nexams and they'll paint a picture with\nwords, a word problem essentially, right?\n\n381\n00:19:14.330 --> 00:19:19.280\nAnd what they'll do is they will describe,\n\n382\n00:19:19.280 --> 00:19:23.740\nin a paragraph or so, hey you're the IT\nadmin for this or that company and\n\n383\n00:19:23.740 --> 00:19:27.770\nyou're being asked to make a decision\nabout how to create a domain controller,\n\n384\n00:19:27.770 --> 00:19:29.550\nand stand it up, and configure it.\n\n385\n00:19:29.550 --> 00:19:33.140\nAnd what's the best way to do that\ngiven these particular business\n\n386\n00:19:33.140 --> 00:19:33.920\nrequirements, right?\n\n387\n00:19:33.920 --> 00:19:36.260\nAnd in the paragraph,\nthey'll say something like, yo,\n\n388\n00:19:36.260 --> 00:19:40.440\nyou've got a remote branch office,\nthere's gonna be minimal IT support.\n\n389\n00:19:40.440 --> 00:19:43.390\nA lot of the things I just hit as\nhighlighted items that would drive you to\n\n390\n00:19:43.390 --> 00:19:45.690\nmake this decision about using an RODC.\n\n391\n00:19:45.690 --> 00:19:49.360\nAnd as a result, you're gonna have\nseveral options at the bottom there.\n\n392\n00:19:49.360 --> 00:19:51.370\nYou're gonna have a read-only\ndomain controller.\n\n393\n00:19:51.370 --> 00:19:55.410\nYou're gonna have a child domain being\ncreated underneath a parent domain.\n\n394\n00:19:55.410 --> 00:19:58.190\nYou're gonna have add\nan additional domain controller.\n\n395\n00:19:58.190 --> 00:19:59.320\nCreate a brand new forest group.\n\n396\n00:19:59.320 --> 00:20:01.410\nYou have all these\ndifferent wacky options.\n\n397\n00:20:01.410 --> 00:20:04.390\nAnd you're gonna have to choose\nwhich one makes the most sense.\n\n398\n00:20:04.390 --> 00:20:08.220\nSo knowing when it would be appropriate\nto use a read only domain controller,\n\n399\n00:20:08.220 --> 00:20:11.580\nunder what scenario, what conditions\nwould be really good, really valuable,\n\n400\n00:20:11.580 --> 00:20:13.310\nreally useful for you to be aware of.\n\n401\n00:20:13.310 --> 00:20:16.156\nIt would be valuable in other words for\nyou to have knowledge of that and\n\n402\n00:20:16.156 --> 00:20:17.955\nto make sure you\nare comfortable with that.\n\n403\n00:20:17.955 --> 00:20:19.917\nSo, just keeping that in mind and\nthinking about that,\n\n404\n00:20:19.917 --> 00:20:22.741\ngiving you an idea behind why you would\ndeploy that would be good for you to know.\n\n405\n00:20:22.741 --> 00:20:28.530\n&gt;&gt; Making sure not to gloss over\ntoo quickly over those questions.\n\n406\n00:20:28.530 --> 00:20:32.844\nMake sure you read the details to extract\nthat feel of the environment, hey,\n\n407\n00:20:32.844 --> 00:20:37.330\nis this a read only domain controller or\nis it a valuable copy kind of deal?\n\n408\n00:20:37.330 --> 00:20:40.370\n&gt;&gt; Yeah, it would be very important for\nyou to be able to do that.\n\n409\n00:20:40.370 --> 00:20:41.820\nAnd just to be comfortable, right?\n\n410\n00:20:41.820 --> 00:20:43.250\nJust understanding the logic of that.\n\n411\n00:20:43.250 --> 00:20:44.580\nAll right, let me just,\n\n412\n00:20:44.580 --> 00:20:46.470\ngive me a half a second here\nbefore we go back to the machine.\n\n413\n00:20:46.470 --> 00:20:48.240\nJust bringing up\nthe management interface so\n\n414\n00:20:48.240 --> 00:20:50.780\nwe can actually see what\nwe're talking about here.\n\n415\n00:20:50.780 --> 00:20:52.300\nJust waiting on it to open up, so\n\n416\n00:20:52.300 --> 00:20:55.610\ngive me just a moment to have that happen,\nalrighty.\n\n417\n00:20:55.610 --> 00:20:57.100\nAnd if you join me here,\nyou can bring it up now.\n\n418\n00:20:57.100 --> 00:20:59.900\nWe're just waiting on Active Directory\nuser and computers to open up just so\n\n419\n00:20:59.900 --> 00:21:02.360\nwe can see it takes a moment\nsometimes to come up.\n\n420\n00:21:02.360 --> 00:21:04.930\nIf you take a look now on\nour plaid SA01 machine,\n\n421\n00:21:04.930 --> 00:21:08.100\nyou may wanna go full screen just so\nyou can see the designation.\n\n422\n00:21:08.100 --> 00:21:11.056\nBut when we do that you'll see\nthat our main domain controller,\n\n423\n00:21:11.056 --> 00:21:13.534\nplaid VC01 is marked as\na global catalogue server.\n\n424\n00:21:13.534 --> 00:21:18.499\nBut notice, that the one we just created,\nthe plaid SC01 machine, read-only, right?\n\n425\n00:21:18.499 --> 00:21:20.558\nSo it's marked as read-only under DC type,\nso\n\n426\n00:21:20.558 --> 00:21:22.616\nwe can see that it is\na read-only designation,\n\n427\n00:21:22.616 --> 00:21:26.276\nthat is the machine we just installed,\ncreated as a read-only domain controller.\n\n428\n00:21:26.276 --> 00:21:30.230\nSo we can look and tell, that's it been\ninstalled as a real domain controller.\n\n429\n00:21:30.230 --> 00:21:32.802\nHappens to be a global catalogue\nserver as well, no big deal.\n\n430\n00:21:32.802 --> 00:21:35.803\nBut we can see the designation for\nthe read only domain controller and\n\n431\n00:21:35.803 --> 00:21:39.215\nif we go to the sites and services tool,\nalthough we don't even have to go there\n\n432\n00:21:39.215 --> 00:21:41.669\nbecause we see the site that\nit's joined to right here.\n\n433\n00:21:41.669 --> 00:21:44.859\nBut if we either look here and\nsee default first site name site, so\n\n434\n00:21:44.859 --> 00:21:47.300\nthe site that we join\nthe two is referenced there.\n\n435\n00:21:47.300 --> 00:21:49.188\nBut we can go to the sites and\nservices tool and\n\n436\n00:21:49.188 --> 00:21:51.185\nwe'd see it managed up\nunder that site as well.\n\n437\n00:21:51.185 --> 00:21:54.151\nSo everything we just did through\nPowerShell we could see the outcome\n\n438\n00:21:54.151 --> 00:21:57.371\nup here once we got the machine come back\nup and just waited for it to log on and\n\n439\n00:21:57.371 --> 00:21:59.980\ngive us our desktop so\nwe can load the management tools.\n\n440\n00:21:59.980 --> 00:22:02.030\n&gt;&gt; And successful,\nread only domain control.\n\n441\n00:22:02.030 --> 00:22:03.990\n&gt;&gt; Successful,\nits right there, absolutely.\n\n442\n00:22:03.990 --> 00:22:06.464\nAll right Adam thank you for\ntaking the time to show us that,\n\n443\n00:22:06.464 --> 00:22:09.336\nI think we've covered quite a bit\nhere with our domain controllers,\n\n444\n00:22:09.336 --> 00:22:12.531\nbut ladies and gentleman that's not it,\nstay tuned for more information.\n\n445\n00:22:12.531 --> 00:22:15.769\nFor this show we'll go ahead and sign out,\nI've been your host Cherokee Boose.\n\n446\n00:22:15.769 --> 00:22:16.836\n&gt;&gt; I am Adam Gordon.\n\n447\n00:22:16.836 --> 00:22:18.766\n&gt;&gt; See you next time here at ITProTV.\n\n448\n00:22:18.766 --> 00:22:22.066\n&gt;&gt; Happy domain controllering.\n\n449\n00:22:22.066 --> 00:22:28.511\n[MUSIC]\n\n450\n00:22:28.511 --> 00:22:30.920\n&gt;&gt; Thank you for watching ITPROTV.\n\n",
          "vimeoId": "229131108"
        }
      ],
      "title": "Installing and configuring domain controllers"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Cherokee and Adam discuss what an object is and how different attributes and values can be set. Adam walks thru various tabs within the Active Directory Users and Computers tool.",
          "length": "1929",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-1-managing_objects_in_ad_ds-080917-PGM.00_35_27_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-1-managing_objects_in_ad_ds-080917-PGM.00_35_27_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-1-managing_objects_in_ad_ds-080917-PGM.00_35_27_20.Still001-sm.jpg",
          "title": "Managing Objects in AD DS",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:02.310\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.310 --> 00:00:06.828\n[CROSSTALK]\n\n3\n00:00:06.828 --> 00:00:08.426\n[MUSIC]\n\n4\n00:00:08.426 --> 00:00:12.071\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.071 --> 00:00:17.100\n&gt;&gt; Welcome, ladies and gentleman, to your\nIdentity with Windows Server 2016 series.\n\n6\n00:00:17.100 --> 00:00:19.130\nI'm your show host, Cherokee Boose.\n\n7\n00:00:19.130 --> 00:00:23.180\nIn this episode we'll be taking a look\nat managing objects with an ADDS.\n\n8\n00:00:23.180 --> 00:00:27.410\nAnd back in studios with us today we\nhave Microsoft expert, Adam Gordon.\n\n9\n00:00:27.410 --> 00:00:28.680\nHow's it going today, Adam?\n\n10\n00:00:28.680 --> 00:00:29.650\n&gt;&gt; Hello, going well.\n\n11\n00:00:29.650 --> 00:00:32.610\nThank you for inviting me to come back,\nand always a pleasure to spend the time\n\n12\n00:00:32.610 --> 00:00:35.130\ntalking with Cherokee,\ntalking with all of you.\n\n13\n00:00:35.130 --> 00:00:36.932\nAnd discussing, in this case,\n\n14\n00:00:36.932 --> 00:00:40.215\nall the intricacies of managing\nobjects within the ADDS.\n\n15\n00:00:40.215 --> 00:00:41.711\nAnd ADDS stands for?\n\n16\n00:00:41.711 --> 00:00:42.785\n&gt;&gt; Domain services, or\nActive Directory Domain Services.\n\n17\n00:00:42.785 --> 00:00:45.590\n&gt;&gt; Active Directory Domain Services,\nabsolutely correct.\n\n18\n00:00:45.590 --> 00:00:48.620\nImportant for you to know that as well\nbecause sometimes people will say\n\n19\n00:00:48.620 --> 00:00:51.410\nActive Directory Directory Services\nwhen they really mean\n\n20\n00:00:51.410 --> 00:00:52.550\nActive Directory Domain Service.\n\n21\n00:00:52.550 --> 00:00:53.660\nWe don't know anybody who does that.\n\n22\n00:00:53.660 --> 00:00:54.300\n&gt;&gt; Not at all.\n\n23\n00:00:54.300 --> 00:00:55.050\n&gt;&gt; No, we don't.\n\n24\n00:00:55.050 --> 00:00:55.826\n&gt;&gt; Those are bad people\n&gt;&gt; [LAUGH]\n\n25\n00:00:55.826 --> 00:00:57.042\n&gt;&gt; You don't want to hang out with them.\n\n26\n00:00:57.042 --> 00:01:01.240\nAll right, so anyway, let's start\ntalking about objects and what they are.\n\n27\n00:01:01.240 --> 00:01:04.159\nWe've talked in several prior\nepisodes about objects,\n\n28\n00:01:04.159 --> 00:01:07.034\nwhat they are as we create\nthem in the Active Directory.\n\n29\n00:01:07.034 --> 00:01:10.028\nAnd I said several times and Cherokee's\nhelped me point this out as well.\n\n30\n00:01:10.028 --> 00:01:12.280\nWhen we right-click, choose New and\n\n31\n00:01:12.280 --> 00:01:14.900\ncreate an object from the menu\nin the Active Directory user and\n\n32\n00:01:14.900 --> 00:01:18.950\ncomputer interface or an ADAC,\nthe Active Directory Administrator Center.\n\n33\n00:01:18.950 --> 00:01:20.150\n&gt;&gt; Those are objects, right?\n\n34\n00:01:20.150 --> 00:01:24.964\nThose are the things that we will go in,\nwe will create as an administrator,\n\n35\n00:01:24.964 --> 00:01:26.404\nas a user with rights.\n\n36\n00:01:26.404 --> 00:01:28.883\nWe'll talk about who does what,\nhow we get there,\n\n37\n00:01:28.883 --> 00:01:31.950\nhow we can delegate rights to\npeople to do things on our behalf.\n\n38\n00:01:31.950 --> 00:01:35.298\nWe're getting all that as part\nof our conversations, but\n\n39\n00:01:35.298 --> 00:01:38.231\nassuming we have rights to\nbe able to go and do this,\n\n40\n00:01:38.231 --> 00:01:42.699\nwe right-click the user object,\ncomputer object, a printer object an OU.\n\n41\n00:01:42.699 --> 00:01:46.630\nThese are all objects\nto find in the schema.\n\n42\n00:01:46.630 --> 00:01:51.250\nAnd as part of the object definitions\nin the schema, we have been given as\n\n43\n00:01:51.250 --> 00:01:54.730\nusers with rights the ability to be\nable to work with these objects.\n\n44\n00:01:54.730 --> 00:01:59.480\nAnd so managing user accounts,\nmanaging groups, managing computers,\n\n45\n00:01:59.480 --> 00:02:02.120\nthese are all parts of the rights,\nresponsibilities, the jobs,\n\n46\n00:02:02.120 --> 00:02:06.820\nthe task that we as IT professionals,\nyou as IT administrators in\n\n47\n00:02:06.820 --> 00:02:10.690\na Windows environment using the Active\nDirectory, will typically engage in.\n\n48\n00:02:10.690 --> 00:02:13.160\nSo why don't we go in,\nstart just by taking a quick look around?\n\n49\n00:02:13.160 --> 00:02:14.470\nLet's familiarize ourselves, or\n\n50\n00:02:14.470 --> 00:02:17.840\nin some cases refamilarize ourselves\nwith what we're talking about.\n\n51\n00:02:17.840 --> 00:02:20.180\nI have the domain controller up and\nrunning here.\n\n52\n00:02:20.180 --> 00:02:23.060\nI've just taken the liberty of opening\nup the Active Directory User and\n\n53\n00:02:23.060 --> 00:02:24.090\nComputer Tool.\n\n54\n00:02:24.090 --> 00:02:26.260\nIt's in our practicelabs.com domain.\n\n55\n00:02:26.260 --> 00:02:28.190\nYou can see that highlighted\nthere on the left.\n\n56\n00:02:28.190 --> 00:02:30.415\nI've enabled the enhanced\nfeatures view here.\n\n57\n00:02:30.415 --> 00:02:33.520\nWe talked about this in some of\nour prior conversations as well.\n\n58\n00:02:33.520 --> 00:02:36.860\nThe difference between advanced\nfeatures view and normal view\n\n59\n00:02:36.860 --> 00:02:40.080\nis that we're seeing all the additional\nsystem containers that are normally hidden\n\n60\n00:02:40.080 --> 00:02:43.520\nby the operating system that we may or\nmay not choose to interact with.\n\n61\n00:02:43.520 --> 00:02:46.990\nBut in this case I've exposed and\nturned on the view to see them.\n\n62\n00:02:46.990 --> 00:02:48.993\nLet me just show you what I mean.\n\n63\n00:02:48.993 --> 00:02:52.841\nIf you go up to View up here in the menu,\nyou'll see we have a check box or\n\n64\n00:02:52.841 --> 00:02:55.080\na check mark next to Advanced Features.\n\n65\n00:02:55.080 --> 00:02:58.160\nIf we click here to remove that\nyou'll notice that the view\n\n66\n00:02:58.160 --> 00:02:59.270\nis going to be different.\n\n67\n00:02:59.270 --> 00:03:03.120\nWe see less of the containers in\nthe OUs on the left or on the right,\n\n68\n00:03:03.120 --> 00:03:05.820\ndepending on where you're looking,\ncompared to what was just there.\n\n69\n00:03:05.820 --> 00:03:07.303\nAs I go back and I add in or\n\n70\n00:03:07.303 --> 00:03:12.000\nmodify the view to enable the advanced\nfeatures view again, just do that.\n\n71\n00:03:12.000 --> 00:03:13.770\nYou'll see that I've added more in.\n\n72\n00:03:13.770 --> 00:03:16.480\nAnd just point out,\nI'm gonna talk about this as well,\n\n73\n00:03:16.480 --> 00:03:20.370\nthat the TPM devices container down below,\nbrand new to Server 16.\n\n74\n00:03:20.370 --> 00:03:23.340\nYou'll only see that\nin a Server 16 domain.\n\n75\n00:03:23.340 --> 00:03:27.410\nThat is where we would see\ninformation about TPM based devices,\n\n76\n00:03:27.410 --> 00:03:31.240\nspecifically the recovery information\nassociated with the use of a TPM,\n\n77\n00:03:31.240 --> 00:03:36.400\na Trusted Platform Module for\ncredential storage and storage\n\n78\n00:03:36.400 --> 00:03:40.070\nof information, digital certificates,\nthings like that on the device.\n\n79\n00:03:40.070 --> 00:03:42.690\nSo devices that use TPMs\nthat are registered and\n\n80\n00:03:42.690 --> 00:03:44.820\navailable in the domain\nwould actually find,\n\n81\n00:03:44.820 --> 00:03:47.940\nor we would find recovery information for\nthem in that container.\n\n82\n00:03:47.940 --> 00:03:49.920\nAnd that's brand new to Server 16.\n\n83\n00:03:49.920 --> 00:03:53.320\nSo when we're managing user accounts,\nwe have built-in users,\n\n84\n00:03:53.320 --> 00:03:55.240\nusers that will be there by default.\n\n85\n00:03:55.240 --> 00:03:57.960\nWe do have the domain\nadministrator account.\n\n86\n00:03:57.960 --> 00:04:02.080\nWe have a guest account\nthat's there by default.\n\n87\n00:04:02.080 --> 00:04:03.610\n&gt;&gt; Good old everyone?\n\n88\n00:04:03.610 --> 00:04:04.670\n&gt;&gt; Well, that's the group.\n\n89\n00:04:04.670 --> 00:04:06.273\nThat's not a-\n&gt;&gt; A user.\n\n90\n00:04:06.273 --> 00:04:07.970\n&gt;&gt; Right, user,\nsomebody who, that's right.\n\n91\n00:04:07.970 --> 00:04:09.830\nWe have a system group called everyone,\nabsolutely.\n\n92\n00:04:09.830 --> 00:04:11.576\nBut not an individual user account.\n\n93\n00:04:11.576 --> 00:04:14.650\nWe're talking about groups and\nusers when were talking about that.\n\n94\n00:04:14.650 --> 00:04:15.930\nWe have a guest account,\n\n95\n00:04:15.930 --> 00:04:19.410\nas I said, kind of pointed toward right\ndown there that would be there by default.\n\n96\n00:04:19.410 --> 00:04:23.090\nWe have the administrator account to\nbuild an admin account by default.\n\n97\n00:04:23.090 --> 00:04:25.070\nYou see the properties up and right there.\n\n98\n00:04:25.070 --> 00:04:31.520\nWe do have a KRBTGT user account,\nthe key distribution center user,\n\n99\n00:04:31.520 --> 00:04:36.444\nthe proxy user that's used to operate\nthe KDC aspects of the domain controller,\n\n100\n00:04:36.444 --> 00:04:40.010\nthe Kerberos information,\nthings of that nature.\n\n101\n00:04:40.010 --> 00:04:43.970\nSo we have several built-in user\naccounts that will exist here\n\n102\n00:04:43.970 --> 00:04:45.830\nby default just out of the box.\n\n103\n00:04:45.830 --> 00:04:49.720\nOn a machine that's not a domain\ncontroller, either a local workstation,\n\n104\n00:04:49.720 --> 00:04:51.800\na stand-alone server, whatever it may be.\n\n105\n00:04:51.800 --> 00:04:54.680\nWe would still have a local administrator,\nlocal guest user,\n\n106\n00:04:54.680 --> 00:04:59.280\nbut we wouldn't see this third user,\nthe krtbgt user I'm highlighting.\n\n107\n00:04:59.280 --> 00:05:02.670\nSo it depends on the nature of\nthe machine, what its role is,\n\n108\n00:05:02.670 --> 00:05:03.710\nhow it's set up.\n\n109\n00:05:03.710 --> 00:05:05.570\nBut there definitely are default users,\n\n110\n00:05:05.570 --> 00:05:08.080\nregardless of the type\nof machine that we have.\n\n111\n00:05:08.080 --> 00:05:10.521\nAnd this goes all the way\nback to Windows NT4.\n\n112\n00:05:10.521 --> 00:05:11.350\nThis is not new.\n\n113\n00:05:11.350 --> 00:05:14.190\nWe've always had a local admin,\nalways had a local guest account.\n\n114\n00:05:14.190 --> 00:05:15.390\nStarting with Windows 2000,\n\n115\n00:05:15.390 --> 00:05:18.410\nwe've always had this third account\nthat I'm highlighting right there, and\n\n116\n00:05:18.410 --> 00:05:22.480\nthe key distribution center as the Active\nDirectory starts to begin its life and\n\n117\n00:05:22.480 --> 00:05:24.990\nkind of moves through all\nthe iterations that we see it in.\n\n118\n00:05:24.990 --> 00:05:26.760\nBut we also have groups,\nas Cherokee was saying.\n\n119\n00:05:26.760 --> 00:05:27.880\nWe have an everyone group,\n\n120\n00:05:27.880 --> 00:05:31.510\nwhich is a system group controlled\nby the operating system.\n\n121\n00:05:31.510 --> 00:05:36.740\nGroups are used to be able to place one or\nmore users into them either permanently or\n\n122\n00:05:36.740 --> 00:05:40.090\non demand for a period of time\nto execute some sort of request.\n\n123\n00:05:40.090 --> 00:05:42.940\nTypically the permission model\nthat we talk about and we use and\n\n124\n00:05:42.940 --> 00:05:47.820\nwe think about, that we've heard\nthrough several iterations from Windows\n\n125\n00:05:47.820 --> 00:05:52.710\nagain all the way back to NT 4, all the\nway forward to Windows Server 16 today,\n\n126\n00:05:52.710 --> 00:05:54.910\nas we're talking about this material.\n\n127\n00:05:54.910 --> 00:05:56.440\nAnd perhaps even beyond Server 16,\n\n128\n00:05:56.440 --> 00:05:58.260\ndepending on when you\nwatch this in the future.\n\n129\n00:05:58.260 --> 00:06:01.230\nWhatever the next generation of\nthe Windows server operating system,\n\n130\n00:06:01.230 --> 00:06:02.770\nthe directory service may be.\n\n131\n00:06:02.770 --> 00:06:04.790\nWe'll see this model continue.\n\n132\n00:06:04.790 --> 00:06:08.930\nWe talked about this idea of being\nable to use individual users and\n\n133\n00:06:08.930 --> 00:06:11.180\nassigning permissions to\nthem to accomplish things.\n\n134\n00:06:11.180 --> 00:06:15.305\nBut it becomes very tedious to manage\nindividual users, and the permissions and\n\n135\n00:06:15.305 --> 00:06:18.468\nrights granted to them as we scale up and\nscale out, right?.\n\n136\n00:06:18.468 --> 00:06:22.234\nWhen it's just maybe myself and\nCherokee, maybe Megan, two or\n\n137\n00:06:22.234 --> 00:06:26.906\nthree of us as users in a system just\nbeing managed individually, it's easy for\n\n138\n00:06:26.906 --> 00:06:28.328\nme to go and say-\n&gt;&gt; It's not a big deal\n\n139\n00:06:28.328 --> 00:06:29.416\n&gt;&gt; To Cherokee's user,\n\n140\n00:06:29.416 --> 00:06:33.255\nI'm gonna assign this right, and I can\ntrack it, and say Cherokee has rights to\n\n141\n00:06:33.255 --> 00:06:36.400\nbe able to be a backup administrator,\nor a backup operator.\n\n142\n00:06:36.400 --> 00:06:39.410\nAnd she has rights to be able to\nprint files, things like that.\n\n143\n00:06:39.410 --> 00:06:42.420\nI can know that, I can do that and\nI keep it straight in my head.\n\n144\n00:06:42.420 --> 00:06:44.900\nCan also audit it, verify it,\nit's very simple to do.\n\n145\n00:06:44.900 --> 00:06:48.996\nBut as I scale up beyond 3 to 30 to 300\nto 3,000, maybe to 30,000 or more users,\n\n146\n00:06:48.996 --> 00:06:54.580\nit becomes very difficult to\nkeep track of who's doing what,\n\n147\n00:06:54.580 --> 00:06:57.140\nwho has rights,\nwhat's been assigned to them.\n\n148\n00:06:57.140 --> 00:06:58.860\nAnd also most importantly whether or\n\n149\n00:06:58.860 --> 00:07:01.920\nnot we've done the right thing\nto give that user those rights.\n\n150\n00:07:01.920 --> 00:07:06.410\nAnd then if they change job roles,\nthey move around, Cherokee gets promoted,\n\n151\n00:07:06.410 --> 00:07:11.470\nshe changes jobs, and she needs new\nrights, new access, new controls in place.\n\n152\n00:07:11.470 --> 00:07:15.110\nDid we remove the old ones correctly,\ngive her the new ones correctly?\n\n153\n00:07:15.110 --> 00:07:18.870\nDoes she have the proper level of access,\ntoo much, too little?\n\n154\n00:07:18.870 --> 00:07:20.800\nKind of the three bears analogy,\nright, if you think of it.\n\n155\n00:07:20.800 --> 00:07:24.540\nAnd this becomes a very difficult\nissue for us to manage.\n\n156\n00:07:24.540 --> 00:07:26.250\nI would say impossible.\n\n157\n00:07:26.250 --> 00:07:28.435\nAll the years of experience I've\nhad in the field doing audit work,\n\n158\n00:07:28.435 --> 00:07:29.515\ndoing this kind of work.\n\n159\n00:07:29.515 --> 00:07:31.365\nAll the experience all of you,\nmany of you,\n\n160\n00:07:31.365 --> 00:07:35.725\nif you're not new to this thought\nprocess have day-to-day doing your jobs.\n\n161\n00:07:35.725 --> 00:07:38.695\nYou see this when we\ngive special grants or\n\n162\n00:07:38.695 --> 00:07:41.805\nadministrative rights to an individual\nuser, and then we lose sight of them.\n\n163\n00:07:41.805 --> 00:07:44.235\nWe don't track them and\nwe forget about them cuz we're so\n\n164\n00:07:44.235 --> 00:07:46.885\nbusy doing all the other things,\nright, that we have to do.\n\n165\n00:07:46.885 --> 00:07:48.931\nThis becomes a huge security liability for\nus.\n\n166\n00:07:48.931 --> 00:07:53.798\nSo we use groups as a way to delegate\npermissions or assigned permissions to\n\n167\n00:07:53.798 --> 00:07:58.448\nusers through membership, but\nit makes it a lot easier for us to track.\n\n168\n00:07:58.448 --> 00:08:02.112\nPutting a user in the group means that\nthey automatically get, or inherit,\n\n169\n00:08:02.112 --> 00:08:03.920\nthe permissions of that group.\n\n170\n00:08:03.920 --> 00:08:06.520\nWhen we remove them,\nthose permissions are removed.\n\n171\n00:08:06.520 --> 00:08:09.690\nIt's much cleaner, it's much easier\nfrom an auditable standpoint,\n\n172\n00:08:09.690 --> 00:08:10.990\nit's easier to track.\n\n173\n00:08:10.990 --> 00:08:14.540\nSo we have verification and validation\nactivities that make it a lot easier for\n\n174\n00:08:14.540 --> 00:08:17.229\nus to understand who is doing\nwhat under what conditions and\n\n175\n00:08:17.229 --> 00:08:19.622\nthe reasons why they're\ngiven those permissions.\n\n176\n00:08:19.622 --> 00:08:22.970\nIt also implies for us that,\nmore often than not,\n\n177\n00:08:22.970 --> 00:08:25.700\nwe will get the permission grant right.\n\n178\n00:08:25.700 --> 00:08:27.690\nMeaning, if I have ten users,\n\n179\n00:08:27.690 --> 00:08:30.310\nhypothetically, that all\nneed the same permission.\n\n180\n00:08:31.320 --> 00:08:34.810\nChange password, let's say if\nyou're a helpdesk professional and\n\n181\n00:08:34.810 --> 00:08:38.040\nyou work on a helpdesk or a service desk,\nand you need to be given that right.\n\n182\n00:08:38.040 --> 00:08:40.510\nAnd it is a right that we would give\nyou if you work on the helpdesk or\n\n183\n00:08:40.510 --> 00:08:41.590\nthe support desk.\n\n184\n00:08:41.590 --> 00:08:45.860\nBut if I have to give it to individual\nusers ten separate times as the domain\n\n185\n00:08:45.860 --> 00:08:49.670\nadministrator, the likelihood I'll\nget that right ten times in a row\n\n186\n00:08:49.670 --> 00:08:52.440\nwithout being distracted,\nwithout making a mistake,\n\n187\n00:08:52.440 --> 00:08:55.720\nwithout choosing the wrong user account\nand assigning it to one that's not\n\n188\n00:08:55.720 --> 00:09:00.410\non that list of ten, goes up every time I\ntouch the keyboard every time I do that.\n\n189\n00:09:00.410 --> 00:09:03.010\nExponentially, in other words,\nmy error rate grows\n\n190\n00:09:03.010 --> 00:09:06.420\nbased on the number of times I have\nto do that repetitive activity.\n\n191\n00:09:06.420 --> 00:09:10.060\nBut if I have to take those ten users,\nput them into one group,\n\n192\n00:09:10.060 --> 00:09:13.220\nthat group already has the permissions\nassigned one time correctly.\n\n193\n00:09:13.220 --> 00:09:16.040\nIt's very likely I'll get it right\nbecause it's a lot easier to move ten\n\n194\n00:09:16.040 --> 00:09:19.940\nobjects one time than it is to carry\nout ten separate assignment activities.\n\n195\n00:09:19.940 --> 00:09:21.420\nThink about the logic of that.\n\n196\n00:09:21.420 --> 00:09:25.310\nSo as we think about managing users,\nand we begin our conversations,\n\n197\n00:09:25.310 --> 00:09:28.350\nwe gotta start thinking beyond\nthe border of one individual user,\n\n198\n00:09:28.350 --> 00:09:30.010\nbeyond the border of one activity.\n\n199\n00:09:30.010 --> 00:09:33.331\nBut we gotta be smarter about how\nwe approach administration, and\n\n200\n00:09:33.331 --> 00:09:36.902\nstart to think about the logic of what\nwe can do to make our lives easier.\n\n201\n00:09:36.902 --> 00:09:38.422\nWork smarter, in other words.\n\n202\n00:09:38.422 --> 00:09:39.570\nNot harder.\n\n203\n00:09:39.570 --> 00:09:41.230\nAnd I know you've been\nvery patiently waiting.\n\n204\n00:09:41.230 --> 00:09:43.240\nJust one more thing before you jump in.\n\n205\n00:09:43.240 --> 00:09:46.390\nKeep in mind also for\nexam purposes, right?\n\n206\n00:09:46.390 --> 00:09:51.360\nMicrosoft is famous for asking questions\nnot the obvious way to answer.\n\n207\n00:09:51.360 --> 00:09:54.590\nHey, what's the best way to do this and\nyour best way maybe,\n\n208\n00:09:54.590 --> 00:09:57.830\nwell just assign users that permission,\nit's the most expedient,\n\n209\n00:09:57.830 --> 00:09:59.070\nthe quickest way to get it done.\n\n210\n00:09:59.070 --> 00:10:02.570\nThat maybe not be the best way,\nthat just maybe the obvious way.\n\n211\n00:10:02.570 --> 00:10:05.860\nThe best way is usually to\nuse a group membership and\n\n212\n00:10:05.860 --> 00:10:09.390\napply the permissions through the group\nas opposed to individual grants\n\n213\n00:10:09.390 --> 00:10:11.490\nbecause of all the reasons\nwe just discussed.\n\n214\n00:10:11.490 --> 00:10:14.820\nSo think about the fact that\nwhat we're sharing with you as\n\n215\n00:10:14.820 --> 00:10:18.510\nkind of a talk track around\nthe ideas behind why we do things?\n\n216\n00:10:18.510 --> 00:10:21.870\nBecomes important for you as you think\nabout studying because these are often\n\n217\n00:10:21.870 --> 00:10:25.840\nthe key reasons, the best practices,\nthe drivers in the real world.\n\n218\n00:10:25.840 --> 00:10:29.490\nAs well as on the exam that help you\nto understand how to work smarter.\n\n219\n00:10:29.490 --> 00:10:30.920\nSo just keep that in mind.\n\n220\n00:10:30.920 --> 00:10:32.592\nCherokee.\n&gt;&gt; Definitely a huge point there\n\n221\n00:10:32.592 --> 00:10:37.103\nespecially when we're trying to reduce the\namount of administrative effort that we're\n\n222\n00:10:37.103 --> 00:10:38.820\nputting forth-\n&gt;&gt; Or overhead or\n\n223\n00:10:38.820 --> 00:10:41.692\ncost, cuz you hear often framed or\nreferred to,\n\n224\n00:10:41.692 --> 00:10:46.610\nin questions along those lines with more\nor less those exact terms of phrases.\n\n225\n00:10:46.610 --> 00:10:50.530\nAnd you have to choose not just the best\nanswer, not just the most correct answer.\n\n226\n00:10:50.530 --> 00:10:54.046\nBut the answer that gets the job done\noften it will be set specifically with\n\n227\n00:10:54.046 --> 00:10:57.631\nthe least administrative overhead or\nthe least amount of time and effort.\n\n228\n00:10:57.631 --> 00:11:00.832\nAnd that typically as I said is group\nmembership granting as opposed to\n\n229\n00:11:00.832 --> 00:11:02.580\nindividual user right assignments.\n\n230\n00:11:02.580 --> 00:11:04.230\nSo I want to make sure\nthat your aware of that.\n\n231\n00:11:04.230 --> 00:11:05.880\n&gt;&gt; Yeah, you brought up a really\ngood point out of when you\n\n232\n00:11:05.880 --> 00:11:06.620\nmentioned-\n&gt;&gt; Attrition.\n\n233\n00:11:06.620 --> 00:11:08.230\n&gt;&gt; I know when you said-\n&gt;&gt; I should have listened\n\n234\n00:11:08.230 --> 00:11:08.910\nto all you said that, right?\n\n235\n00:11:08.910 --> 00:11:11.590\n&gt;&gt; I know right, well delegation that's\nsomething that's really important too.\n\n236\n00:11:11.590 --> 00:11:12.170\n&gt;&gt; Right it is, it is.\n&gt;&gt; And\n\n237\n00:11:12.170 --> 00:11:14.958\nhere's another thing Adam, what if I\ndon't know who should have those rights?\n\n238\n00:11:14.958 --> 00:11:19.520\nIt's not necessarily me as an IT staff or\nmaybe I'm just working at the help desk\n\n239\n00:11:19.520 --> 00:11:22.860\nand I don't have to decide what Adam\nshould or should not have access to.\n\n240\n00:11:22.860 --> 00:11:27.200\nSo utilizing and\nleveraging that capability to go ahead and\n\n241\n00:11:27.200 --> 00:11:29.450\nperform that delegation\nis great here as well.\n\n242\n00:11:29.450 --> 00:11:31.410\n&gt;&gt; It is, and\nI wanna get into how to do delegation.\n\n243\n00:11:31.410 --> 00:11:32.670\nIt's not something we're\ngonna talk about and\n\n244\n00:11:32.670 --> 00:11:35.540\nactually demo right now as we're\nbeginning our conversation, but\n\n245\n00:11:35.540 --> 00:11:38.780\nwe're definitely gonna cover it as we\ngo through this set of conversations.\n\n246\n00:11:38.780 --> 00:11:42.273\nBut it's such an important, not only\nskill set as you were pointing out, but\n\n247\n00:11:42.273 --> 00:11:46.093\nsuch an important thought process because\nwe get so many things as IT administrators\n\n248\n00:11:46.093 --> 00:11:49.901\nthat are involved, let's say, with\nthe administration of directory services.\n\n249\n00:11:49.901 --> 00:11:51.670\nWe get so\nmany competitive requests, right?\n\n250\n00:11:51.670 --> 00:11:56.150\nFrom different groups, different users,\nthrough the Helpdesk, the support desk,\n\n251\n00:11:56.150 --> 00:12:00.490\nline of business owners that say hey, I\nneed this or that done, I need permissions\n\n252\n00:12:00.490 --> 00:12:05.010\nto do this, I have to have this carried\nout or this function accomplished.\n\n253\n00:12:05.010 --> 00:12:08.850\nContractors may be coming in to do work,\nspecialists may be called in.\n\n254\n00:12:08.850 --> 00:12:12.500\nAnd there's all sorts of reasons why\nwe're gonna be doing and manipulating and\n\n255\n00:12:12.500 --> 00:12:14.600\nassigning permissions\nin a variety of ways.\n\n256\n00:12:14.600 --> 00:12:18.030\nIf we're not thinking through the logic,\nnot only being smart about this, but\n\n257\n00:12:18.030 --> 00:12:20.190\nhow we can offload some of that burden and\n\n258\n00:12:20.190 --> 00:12:24.680\nthat requirement to authorized\nusers in a formally structured,\n\n259\n00:12:24.680 --> 00:12:29.090\nauditable, verifiable way, delegation\nmeets these requirements by the way.\n\n260\n00:12:29.090 --> 00:12:31.160\nBest practice, approved way to do it.\n\n261\n00:12:31.160 --> 00:12:33.260\nUse the delegation of control wizard.\n\n262\n00:12:33.260 --> 00:12:34.750\nRight-click on an object.\n\n263\n00:12:34.750 --> 00:12:37.960\nYou get a preset list of tasks,\ndepending on where you are.\n\n264\n00:12:37.960 --> 00:12:39.910\nOn on OU, on the domain, right?\n\n265\n00:12:39.910 --> 00:12:43.315\nYou get different tasks in\nthe wizard based on the focus or\n\n266\n00:12:43.315 --> 00:12:45.815\nthe scope of where you're\nchoosing to do it from.\n\n267\n00:12:45.815 --> 00:12:50.395\nWhen we do this, we're then able to assign\nthat object, or the objects that we\n\n268\n00:12:50.395 --> 00:12:53.775\nfocus on, the user or the group,\nthe rights to do certain things.\n\n269\n00:12:53.775 --> 00:12:56.967\nAnd again, it's clean,\nit's not going to be error-prone,\n\n270\n00:12:56.967 --> 00:12:58.877\nit's going to be very simple and\neasy to do.\n\n271\n00:12:58.877 --> 00:13:02.507\nWe can also audit it, because we have\nrecord of that in the security log.\n\n272\n00:13:02.507 --> 00:13:05.637\nAnd so in the event log for security,\nwe see the activity taking place.\n\n273\n00:13:05.637 --> 00:13:09.793\nWe can go back and cross-reference that\nwith what we were doing, who was doing it,\n\n274\n00:13:09.793 --> 00:13:12.783\nand so we understand that it was done and\nwe have a proper paper trail.\n\n275\n00:13:12.783 --> 00:13:16.423\nThis is very important for\nus as well from a security standpoint and\n\n276\n00:13:16.423 --> 00:13:19.523\nfrom just a usability standpoint, so that\nwe can prove that we're doing the right\n\n277\n00:13:19.523 --> 00:13:22.423\nthings for the right reasons and\nthat somebody's not up to no good, right?\n\n278\n00:13:22.423 --> 00:13:23.203\n&gt;&gt; Right.\n&gt;&gt; That they're doing it for\n\n279\n00:13:23.203 --> 00:13:25.193\nthe wrong reasons, so very important.\n\n280\n00:13:25.193 --> 00:13:26.910\nLet's go back in.\n\n281\n00:13:26.910 --> 00:13:28.108\nAnd ten more conversations.\n\n282\n00:13:28.108 --> 00:13:32.020\nSo, we were looking at users talked\nabout groups and why they're important?\n\n283\n00:13:32.020 --> 00:13:35.010\nAnd the key difference here, you can see,\nand if we go full screen for\n\n284\n00:13:35.010 --> 00:13:37.250\na minute maybe its easier for you to see.\n\n285\n00:13:37.250 --> 00:13:41.720\nYou can see here that the user icon,\nis a single headed user, single icon.\n\n286\n00:13:41.720 --> 00:13:43.242\nThe groups are the double icon,\n\n287\n00:13:43.242 --> 00:13:46.160\nthe kinda two user standing side by side,\nshoulder to shoulder.\n\n288\n00:13:46.160 --> 00:13:47.463\nThey look kinda like this little Lego\n\n289\n00:13:47.463 --> 00:13:48.310\npeople or-\n&gt;&gt; Yeah.\n\n290\n00:13:48.310 --> 00:13:49.650\n&gt;&gt; Playschool people-\n&gt;&gt; Yeah.\n\n291\n00:13:49.650 --> 00:13:52.243\nJust like a cut off from\nmy- [CROSSTALK] PlayMobil.\n\n292\n00:13:52.243 --> 00:13:53.070\nYeah those, right.\n\n293\n00:13:53.070 --> 00:13:56.810\nYou know, they're from here up when you\nwould stick them on the little grid or\n\n294\n00:13:56.810 --> 00:14:00.650\nthe car or whatever, but you'll see\nthat the group has a two person icon.\n\n295\n00:14:00.650 --> 00:14:02.030\nAnd any one of these groups,\n\n296\n00:14:02.030 --> 00:14:05.870\njust like any of the users,\ncan be clicked on just like this.\n\n297\n00:14:05.870 --> 00:14:09.120\nProperties can be brought up, and we can\nsee some of the tabs associated with\n\n298\n00:14:09.120 --> 00:14:11.210\nthe different aspects of the group or\nthe user.\n\n299\n00:14:11.210 --> 00:14:14.550\nDepending on what we're looking at we\nwill obviously see different information.\n\n300\n00:14:14.550 --> 00:14:17.220\nHaving said that,\nlet's take a look at a user account.\n\n301\n00:14:17.220 --> 00:14:19.300\nSo I'm gonna come in here and\nI'm gonna right click and\n\n302\n00:14:19.300 --> 00:14:21.820\ncreate a brand new user account just for\nus to work with.\n\n303\n00:14:21.820 --> 00:14:24.870\nSo let me right click,\nlet's create a new user, so\n\n304\n00:14:24.870 --> 00:14:29.290\nwe'll come down here and\nchoose new user out of our list.\n\n305\n00:14:29.290 --> 00:14:30.590\n&gt;&gt; Who are we gonna create?\n\n306\n00:14:30.590 --> 00:14:32.140\n&gt;&gt; That's a great question.\n\n307\n00:14:32.140 --> 00:14:33.830\nI wish I had an equally good answer for\nyou.\n\n308\n00:14:33.830 --> 00:14:37.440\nHow about if we call this user Cher?\n\n309\n00:14:38.680 --> 00:14:40.503\nHow would that be, C-H-E-R?\n\n310\n00:14:40.503 --> 00:14:41.510\n&gt;&gt; [LAUGH] Okay, yeah.\n\n311\n00:14:41.510 --> 00:14:43.010\nDoes Cher have a last name, though?\n\n312\n00:14:43.010 --> 00:14:43.770\nThat's the real question?\n\n313\n00:14:43.770 --> 00:14:44.290\n&gt;&gt; She does.\n\n314\n00:14:44.290 --> 00:14:45.350\nShould we call her Cher B.?\n\n315\n00:14:45.350 --> 00:14:45.970\n&gt;&gt; Okay.\n\n316\n00:14:45.970 --> 00:14:46.770\n&gt;&gt; Okay.\n&gt;&gt; [LAUGH]\n\n317\n00:14:46.770 --> 00:14:49.280\n&gt;&gt; In case you're not up on your\n\n318\n00:14:49.280 --> 00:14:52.200\nshort name usage,\nthat's just code for Cherokee, right?\n\n319\n00:14:52.200 --> 00:14:57.440\nAll right, so if we call our user Cher B\nand then we call the user log on name,\n\n320\n00:14:57.440 --> 00:15:01.560\ntraditionally you'll often just take\nthe first name and or the last initial or\n\n321\n00:15:01.560 --> 00:15:03.840\na combination of those to\nmake the username from that,\n\n322\n00:15:03.840 --> 00:15:05.820\nusually driven by your corporate standard,\nright?\n\n323\n00:15:05.820 --> 00:15:07.550\nWhatever that may be\nwithin the enterprise,\n\n324\n00:15:07.550 --> 00:15:10.600\nso we'll do ours as just Cher B here,\nright?\n\n325\n00:15:10.600 --> 00:15:11.810\nSo we have that app.\n\n326\n00:15:11.810 --> 00:15:15.020\nAnd notice it's app the domain, so\nin this case at practicelabs.com.\n\n327\n00:15:15.020 --> 00:15:16.690\nThe domain that we're a member of.\n\n328\n00:15:16.690 --> 00:15:19.640\nYou could see that right over here,\nso we know what we're doing.\n\n329\n00:15:19.640 --> 00:15:22.450\nThen we have our user log on is\n2000domain/ and then the user name.\n\n330\n00:15:22.450 --> 00:15:27.320\nThat's the standard way\nthe interface is going to be done.\n\n331\n00:15:27.320 --> 00:15:29.960\nBy the way, could we do\nthe same thing from PowerShell?\n\n332\n00:15:29.960 --> 00:15:30.810\n&gt;&gt; Yes.\n\n333\n00:15:30.810 --> 00:15:32.040\n&gt;&gt; Absolutely can, right.\n\n334\n00:15:32.040 --> 00:15:35.430\nSo anytime we do anything in this wizard,\nin the GUI, in this interface,\n\n335\n00:15:35.430 --> 00:15:37.560\nsame thing can be done from Powershell,\n\n336\n00:15:37.560 --> 00:15:41.730\nsame thing can be done, not just from\nPowershell, with commandlets, right?\n\n337\n00:15:41.730 --> 00:15:45.857\nGet ad user, set AD user, etcetera,\nwe could do those dates, but\n\n338\n00:15:45.857 --> 00:15:48.011\nwe can also use the DS ad commands.\n\n339\n00:15:48.011 --> 00:15:52.548\nSo the command shell, we actually have a\nset of commands that can be leveraged from\n\n340\n00:15:52.548 --> 00:15:54.277\nthere outside of PowerShell.\n\n341\n00:15:54.277 --> 00:15:57.410\nActually PowerShell can be used to run\nthem so in theory you could probably do it\n\n342\n00:15:57.410 --> 00:15:59.795\nwithin PowerShell as well,\nbut using separate commands.\n\n343\n00:15:59.795 --> 00:16:02.683\nSo at least three different\nways not to mention any\n\n344\n00:16:02.683 --> 00:16:06.672\nother potential tools that may exist\nthat latch on to this console and\n\n345\n00:16:06.672 --> 00:16:09.810\nis a third party tool to\noperate to do this for us.\n\n346\n00:16:09.810 --> 00:16:14.730\nADAC would be a fourth tool that's Windows\nspecific Microsoft's to do this, but\n\n347\n00:16:14.730 --> 00:16:18.820\nwe have at least three four ways\nwithin Microsoft's tools set and\n\n348\n00:16:18.820 --> 00:16:21.650\nthe supporting elements itself,\nthat we could use so,\n\n349\n00:16:21.650 --> 00:16:24.900\nlot's of ways to get to\nthe same finish with.\n\n350\n00:16:24.900 --> 00:16:28.728\n&gt;&gt; So if have like one user I'm\npersonally, I'm probably gonna opt for\n\n351\n00:16:28.728 --> 00:16:31.236\nthe GUI if I have that available to me,\nbut for\n\n352\n00:16:31.236 --> 00:16:34.668\nadding multiple users PowerShell\nis definitely the way to go I\n\n353\n00:16:34.668 --> 00:16:38.827\nmean I'm just by passing some I'm only\nadding one person I can use the GUI.\n\n354\n00:16:38.827 --> 00:16:39.913\n&gt;&gt; Well, we could, right?\n\n355\n00:16:39.913 --> 00:16:41.947\nSo don't sell short dsadd,\n\n356\n00:16:41.947 --> 00:16:47.550\nbecause dsadd will allow us to be able\nto do multiple user adds as well, right?\n\n357\n00:16:47.550 --> 00:16:50.580\nSo we could do it, and that dsadd's\nbeen around longer than PowerShell, or\n\n358\n00:16:50.580 --> 00:16:52.090\nat least as long, if not longer.\n\n359\n00:16:52.090 --> 00:16:53.393\nSo we could do it from either one, right?\n\n360\n00:16:53.393 --> 00:16:57.915\nWe could do a bulk import of users, so\nwe could do an LDIFDE For instance,\n\n361\n00:16:57.915 --> 00:17:02.662\nbringing in a line demarcator, or\ncomma separated value list of users, and\n\n362\n00:17:02.662 --> 00:17:05.800\ndo a bulk import, one time,\ndump those users in.\n\n363\n00:17:05.800 --> 00:17:09.200\nSo, there's a lot of different ways to get\nto the same place when we are scaling,\n\n364\n00:17:09.200 --> 00:17:11.310\ntrying to create multiple\nusers as you were suggesting.\n\n365\n00:17:11.310 --> 00:17:15.230\nBut yeah, for one user, one or two at\na time kind of thing, PowerShell maybe\n\n366\n00:17:15.230 --> 00:17:19.240\noverkill, unless you use it all the time,\nand literally you're really fast,\n\n367\n00:17:19.240 --> 00:17:22.320\nwhich includes me, because, as we all\nknow, I can't type to save my life.\n\n368\n00:17:22.320 --> 00:17:25.030\nAnd if I could, I still couldn't spell,\nso either way, I'm out of the running,\n\n369\n00:17:25.030 --> 00:17:29.880\nbut in general, when you wanna use a tool,\nif you're really familiar with the tool,\n\n370\n00:17:29.880 --> 00:17:33.280\nlike the command line, yeah, you can\nget in there really quickly, go in and\n\n371\n00:17:33.280 --> 00:17:33.790\ncreate a user.\n\n372\n00:17:33.790 --> 00:17:37.510\nI have friends that do PowerShell for\na living, and they swear, well,\n\n373\n00:17:37.510 --> 00:17:40.730\nI could anything you do in the GUI faster,\nbecause I'm in there so much,\n\n374\n00:17:40.730 --> 00:17:42.890\nI know how to do it and\nthat's perfectly true.\n\n375\n00:17:42.890 --> 00:17:46.226\nBut on average, especially for most\nadministrators, especially most Windows\n\n376\n00:17:46.226 --> 00:17:50.850\ncentric administrators, getting used to\nPowerShell, not using it consistently,\n\n377\n00:17:50.850 --> 00:17:53.200\nthe GUI is gonna be faster for\none or two users at a time.\n\n378\n00:17:53.200 --> 00:17:54.040\nThere's no doubt about it.\n\n379\n00:17:54.040 --> 00:17:56.720\nSo, just something to consider,\nbut it's a good point to remember.\n\n380\n00:17:56.720 --> 00:17:59.670\nAll right, to just back where we were,\nare we just putting in the password?\n\n381\n00:17:59.670 --> 00:18:01.570\nSo I put in our standard password.\n\n382\n00:18:01.570 --> 00:18:02.580\nWe have some options here.\n\n383\n00:18:02.580 --> 00:18:04.840\nUsers must change password next log on.\n\n384\n00:18:04.840 --> 00:18:08.050\nWe often use that in corporate\nenvironments where we have a standard or\n\n385\n00:18:08.050 --> 00:18:13.890\npolicy that says set the password to\na default one that the help desk says.\n\n386\n00:18:13.890 --> 00:18:18.050\nOr uses typically the word password or\nsomething very basic, a, b, c, one, two,\n\n387\n00:18:18.050 --> 00:18:21.410\nthree, whatever, and\nthen force the user at the first logon\n\n388\n00:18:21.410 --> 00:18:25.640\nto actually set their own password based\non the password complexity policy that we\n\n389\n00:18:25.640 --> 00:18:28.360\napply at the domain level for\nall of the users.\n\n390\n00:18:28.360 --> 00:18:29.940\nSo it's up to us to decide how to do that.\n\n391\n00:18:29.940 --> 00:18:33.380\nI'm gonna uncheck that box, because we're\nnumber one, gonna logon as that user,\n\n392\n00:18:33.380 --> 00:18:34.800\nnumber two, we don't really care.\n\n393\n00:18:34.800 --> 00:18:36.990\nWe wanna leave that password in tact so\n\n394\n00:18:36.990 --> 00:18:41.260\nwe're gonna specify user cannot change\npassword and password never expires.\n\n395\n00:18:41.260 --> 00:18:44.510\nNow, we don't normally say,\npasswords never expires and\n\n396\n00:18:44.510 --> 00:18:48.310\nuser cannot change password, or\nwe shouldn't set those I would say\n\n397\n00:18:48.310 --> 00:18:51.120\nunless there are certain\nconditions that are gonna be met.\n\n398\n00:18:51.120 --> 00:18:52.290\nNow, number one.\n\n399\n00:18:52.290 --> 00:18:53.640\nUse you cannot change password.\n\n400\n00:18:53.640 --> 00:18:56.100\nPeople often get these\ntwo settings confused and\n\n401\n00:18:56.100 --> 00:18:57.910\nwell I'm gonna have the service account.\n\n402\n00:18:57.910 --> 00:19:00.280\nSo, I'm gonna said both of those\nbecause that's what a service account\n\n403\n00:19:00.280 --> 00:19:01.340\nshould be set to.\n\n404\n00:19:01.340 --> 00:19:03.610\nPassword should never be change and\nshould never expire.\n\n405\n00:19:04.890 --> 00:19:05.560\nRight, wrong.\n\n406\n00:19:05.560 --> 00:19:09.440\nYou ever watch Family Feud with\nthe big red X and the buzzer sound.\n\n407\n00:19:09.440 --> 00:19:11.120\nThat would be awesome, right?\n\n408\n00:19:11.120 --> 00:19:15.340\n&gt;&gt; Have you seen the reel\nwhere Steve Harvey just\n\n409\n00:19:15.340 --> 00:19:18.900\nrails on people because of\ntheir ridiculous responses?\n\n410\n00:19:18.900 --> 00:19:20.464\nI have not.\n&gt;&gt; You got to look that up.\n\n411\n00:19:20.464 --> 00:19:21.840\n&gt;&gt; [LAUGH].\n&gt;&gt; Okay, I will definitely.\n\n412\n00:19:21.840 --> 00:19:24.360\nWhen I get done here,\nI'm not gonna prepare for anymore shows.\n\n413\n00:19:24.360 --> 00:19:25.940\nI'm gonna watch that immediately.\n\n414\n00:19:25.940 --> 00:19:26.460\nAnd check that out.\n\n415\n00:19:26.460 --> 00:19:27.410\n&gt;&gt; Priorities.\nLife priorities.\n\n416\n00:19:27.410 --> 00:19:28.320\n&gt;&gt; Priorities in life, right.\n\n417\n00:19:28.320 --> 00:19:30.610\nSo, I have not seen that but\nwe have that buzzer sound.\n\n418\n00:19:30.610 --> 00:19:31.990\nThat's what you would hear right now.\n\n419\n00:19:31.990 --> 00:19:33.250\nAnd here's why.\n\n420\n00:19:33.250 --> 00:19:37.080\nBecause if you set the password\nto never being changed.\n\n421\n00:19:37.080 --> 00:19:41.530\nHow will windows manage that service\naccount, manage that password and\n\n422\n00:19:41.530 --> 00:19:45.090\nchange it based on the cycle\nthat you specify or\n\n423\n00:19:45.090 --> 00:19:47.370\nthe cycle that is often used for\nservice accounts.\n\n424\n00:19:47.370 --> 00:19:51.170\nIn other words for service accounts\nthe operating system itself manages those\n\n425\n00:19:51.170 --> 00:19:54.608\naccounts and those account passwords\naren't change behind the scenes.\n\n426\n00:19:54.608 --> 00:19:57.800\nYou just don't know what they are\ntraditionally, so if you set that setting,\n\n427\n00:19:57.800 --> 00:20:01.060\nyou may actually block Windows from\nmanaging the account the right way,\n\n428\n00:20:01.060 --> 00:20:01.910\nnumber one.\n\n429\n00:20:01.910 --> 00:20:05.860\nNumber two, password never expires,\nagain if you set that,\n\n430\n00:20:05.860 --> 00:20:09.190\nwhat you're saying is that password\nis good for forever and a day.\n\n431\n00:20:09.190 --> 00:20:11.390\nDo you want that password\nto exist forever?\n\n432\n00:20:11.390 --> 00:20:14.000\nFrom a security standpoint,\nthe answer is absolutely not.\n\n433\n00:20:14.000 --> 00:20:17.240\nVery rarely do we have business\nrequirements that require you\n\n434\n00:20:17.240 --> 00:20:19.660\nto set those settings is\nwhat I'm suggesting to you.\n\n435\n00:20:19.660 --> 00:20:23.360\nAnd those are well defined,\nhopefully well understood by you and\n\n436\n00:20:23.360 --> 00:20:25.250\nnot used by the average users.\n\n437\n00:20:25.250 --> 00:20:29.540\nThere's no good reason that you could\nsay to me give me convince me of,\n\n438\n00:20:29.540 --> 00:20:32.090\nas an IT security professional,\nas an auditor,\n\n439\n00:20:32.090 --> 00:20:36.670\nas an IT manager that I would suggest or\nI would agree with you that password\n\n440\n00:20:36.670 --> 00:20:41.580\nnever expires and user cannot change\npassword, will be appropriate settings for\n\n441\n00:20:41.580 --> 00:20:44.620\nnormal user account and\nnormal business conditions.\n\n442\n00:20:44.620 --> 00:20:47.720\nThose will be the exact opposite of\nthe things that we want done, right,\n\n443\n00:20:47.720 --> 00:20:48.350\njust to be clear.\n\n444\n00:20:48.350 --> 00:20:49.707\nSo please understand that.\n\n445\n00:20:49.707 --> 00:20:51.180\nAll right, so we have those there.\n\n446\n00:20:51.180 --> 00:20:53.920\nI was just demonstrating what they\nare by checking them off just so\n\n447\n00:20:53.920 --> 00:20:54.460\nyou can see them.\n\n448\n00:20:54.460 --> 00:20:57.230\n&gt;&gt; Yeah, we're definitely not keeping\na password list in the IT department and\n\n449\n00:20:57.230 --> 00:20:59.190\nnot letting the users choose their own.\n\n450\n00:20:59.190 --> 00:20:59.770\n&gt;&gt; That would be bad.\n\n451\n00:20:59.770 --> 00:21:01.200\nThat would not be a good idea.\n\n452\n00:21:01.200 --> 00:21:01.787\nThis is not the 1980's.\n\n453\n00:21:01.787 --> 00:21:03.850\nWe've grown a little bit beyond that.\n\n454\n00:21:03.850 --> 00:21:05.770\nAll right, an account is disabled.\n\n455\n00:21:05.770 --> 00:21:08.380\nIf you need to create an account,\nsometimes this does come up,\n\n456\n00:21:08.380 --> 00:21:12.140\nyou may wanna create an account but\nnot have that account be used right away.\n\n457\n00:21:12.140 --> 00:21:14.450\nAll right,\nmaybe you're just prepping out ahead,\n\n458\n00:21:14.450 --> 00:21:15.870\nthinking about things\nthat are gonna happen.\n\n459\n00:21:15.870 --> 00:21:18.970\nSo you're gonna create and account but\nthen disable it for a period of time And\n\n460\n00:21:18.970 --> 00:21:20.570\nthat's fine, you can do that.\n\n461\n00:21:20.570 --> 00:21:25.850\nSo we might check that off,\nwe click next, give this just a seconds,\n\n462\n00:21:25.850 --> 00:21:29.750\nthere we go and then we just get our\nlittle summary page, click finish and\n\n463\n00:21:29.750 --> 00:21:32.630\nthen our account is right up there and\nwe can see it.\n\n464\n00:21:32.630 --> 00:21:36.150\nNow that we've created it,\nnormally use your account, right click,\n\n465\n00:21:36.150 --> 00:21:41.190\nwe'll just go in there,\ngo to properties bring this up so, and\n\n466\n00:21:41.190 --> 00:21:47.240\nI just move this over so you can see this\naway from our little blue box right there.\n\n467\n00:21:47.240 --> 00:21:47.960\nAlright, and\n\n468\n00:21:47.960 --> 00:21:52.410\nthen we've got this, what looks like\na forest of tabs sitting up there, right?\n\n469\n00:21:52.410 --> 00:21:54.850\nThere's all this crazy\nstuff going on up here.\n\n470\n00:21:54.850 --> 00:21:57.450\nNow, let's take a look at\nsomething here real quickly.\n\n471\n00:21:58.630 --> 00:21:59.480\nJust go up here.\n\n472\n00:22:03.350 --> 00:22:04.350\nLet's do this, as well.\n\n473\n00:22:04.350 --> 00:22:05.420\nGimme just one second.\n\n474\n00:22:10.011 --> 00:22:13.280\nAnd notice that when I change\nfrom advanced features.\n\n475\n00:22:13.280 --> 00:22:15.380\nSo I remove the advanced features view.\n\n476\n00:22:15.380 --> 00:22:17.630\nWent back to what we would\ncall just the normal view.\n\n477\n00:22:17.630 --> 00:22:20.130\nYou'll notice that that forest of tabs,\nit's still there, but\n\n478\n00:22:20.130 --> 00:22:22.380\nI've cut a couple of rows off it, right?\n\n479\n00:22:22.380 --> 00:22:26.450\nI trimmed a few trees out of the forest\nbecause when we enable Advanced Features,\n\n480\n00:22:26.450 --> 00:22:30.130\nwe also enable a lot more tabs to show up,\nnot just for you to be able to use it.\n\n481\n00:22:30.130 --> 00:22:32.380\nIn other words, not just\nthe containers in the first view, but\n\n482\n00:22:32.380 --> 00:22:37.550\nall the objects in the MMC\nalso will have hidden tabs or\n\n483\n00:22:37.550 --> 00:22:39.810\ntabs that are available only\nthrough Advanced Features.\n\n484\n00:22:39.810 --> 00:22:42.110\nTo show us system related information.\n\n485\n00:22:42.110 --> 00:22:46.330\nSo it's important to know that the\nproperties we see of the user objects, or\n\n486\n00:22:46.330 --> 00:22:49.990\nany objects are also gonna be affected\nby the advanced features view or\n\n487\n00:22:49.990 --> 00:22:52.430\nthe choice of whether or\nnot to enable that view.\n\n488\n00:22:52.430 --> 00:22:54.640\nSo just something else to keep in mind and\nto consider.\n\n489\n00:22:54.640 --> 00:23:00.750\nBut we have lots of different properties\nhere and attributes of this user object.\n\n490\n00:23:00.750 --> 00:23:05.200\nSo let's make sure we understand the logic\nof what property versus attributes are.\n\n491\n00:23:05.200 --> 00:23:08.400\nSo share our user share be properties,\nplural.\n\n492\n00:23:08.400 --> 00:23:09.730\nWe have lots of properties.\n\n493\n00:23:09.730 --> 00:23:12.120\nWe have a general properties tab.\n\n494\n00:23:12.120 --> 00:23:16.460\nWe have an address properties tab,\nif I can click and select.\n\n495\n00:23:16.460 --> 00:23:18.210\nWe have an account properties tab.\n\n496\n00:23:18.210 --> 00:23:21.860\nIn other words, every one of these has\na set of properties that are listed\n\n497\n00:23:21.860 --> 00:23:23.590\nassociated with it, right.\n\n498\n00:23:23.590 --> 00:23:27.189\nThen on I'm just gonna go back to\ngeneral just to use this particular one.\n\n499\n00:23:27.189 --> 00:23:31.970\nOn the general properties we have\nfirst name, which is an attribute.\n\n500\n00:23:31.970 --> 00:23:35.627\nAnd then we have a value,\nshare is the value for first name for\n\n501\n00:23:35.627 --> 00:23:38.497\nthis user,\nlast name attribute value B right,\n\n502\n00:23:38.497 --> 00:23:43.304\nfor the last name display name you get the\nidea right I don't have to walk through\n\n503\n00:23:43.304 --> 00:23:47.152\neach one but you have a general\nidea of what I'm talking about.\n\n504\n00:23:47.152 --> 00:23:53.174\nSo when we look at properties we're\nlooking at a tab that lists information.\n\n505\n00:23:53.174 --> 00:23:57.238\nWe then have attributes\nassociated with the properties.\n\n506\n00:23:57.238 --> 00:24:02.356\nIn this case on the address tab, street,\nPO box, city, state, providence, etc.\n\n507\n00:24:02.356 --> 00:24:04.286\nThen we may have values.\n\n508\n00:24:04.286 --> 00:24:08.240\nWe may have postal code, zip code,\ncountry, region whatever the case maybe.\n\n509\n00:24:08.240 --> 00:24:12.650\nValues can be alpha, they can be numeric,\nthey can be mixed alphanumeric.\n\n510\n00:24:12.650 --> 00:24:16.707\nThey can be in some cases containing\nspecial characters, so an email address,\n\n511\n00:24:16.707 --> 00:24:20.109\nuse your log on name will be\nalphanumeric and special characters.\n\n512\n00:24:20.109 --> 00:24:23.950\nThe at sign right, things like that,\nthere maybe a check box.\n\n513\n00:24:23.950 --> 00:24:26.028\nThere may be a radio button selection.\n\n514\n00:24:26.028 --> 00:24:30.900\nThere may be a space on a graph with\nhours or days that are highlighted or\n\n515\n00:24:30.900 --> 00:24:31.880\nnot highlighted.\n\n516\n00:24:31.880 --> 00:24:33.910\nSo values can take lots of forms.\n\n517\n00:24:33.910 --> 00:24:36.720\nIn other words, depending on\nthe nature of the attribute and\n\n518\n00:24:36.720 --> 00:24:39.160\nhow it's tied to what we see.\n\n519\n00:24:39.160 --> 00:24:41.380\nAll of this stuff that we're thinking of,\n\n520\n00:24:41.380 --> 00:24:44.400\nthese properties related to\nthe object called share B.\n\n521\n00:24:44.400 --> 00:24:49.390\nBut more broadly related to an object\ncalled user which is broadly defined\n\n522\n00:24:49.390 --> 00:24:50.920\nwith all the properties.\n\n523\n00:24:50.920 --> 00:24:54.270\nAnd then the attributes for\nan object called user.\n\n524\n00:24:54.270 --> 00:24:56.450\nSpecific instance called\nshare B in this case,\n\n525\n00:24:56.450 --> 00:24:58.790\nbut generically an object called user.\n\n526\n00:24:58.790 --> 00:25:01.170\nAnd then the value\nranges that are allowed.\n\n527\n00:25:01.170 --> 00:25:06.147\nAll of that is to find and\npreordained for us in the schema.\n\n528\n00:25:06.147 --> 00:25:08.596\nThe Active Directory, excuse me,\n\n529\n00:25:08.596 --> 00:25:12.441\nActive Directory Domain Services right,\nso the ADDS.\n\n530\n00:25:12.441 --> 00:25:17.920\nInside the ADDS NTDS directory, the\nNtds.dit file, which is the schema file.\n\n531\n00:25:17.920 --> 00:25:22.491\nIn there if we were to open that up with\nthe appropriate tool, either ADSI Edit or\n\n532\n00:25:22.491 --> 00:25:25.972\nthe schema management console snap in or\nwhatever it may be,\n\n533\n00:25:25.972 --> 00:25:27.850\nwhatever editor we choose.\n\n534\n00:25:27.850 --> 00:25:32.920\nIf we open it up and we look at the schema\nand kind of read it like a book.\n\n535\n00:25:32.920 --> 00:25:37.250\nWe would see all the object classes,\nall the objects, all the definitions for\n\n536\n00:25:37.250 --> 00:25:39.170\nall the properties and the attributes.\n\n537\n00:25:39.170 --> 00:25:40.960\nAnd that's where all this comes from.\n\n538\n00:25:40.960 --> 00:25:44.299\nThe reason I can right-click,\ncreate an object called user, and\n\n539\n00:25:44.299 --> 00:25:46.213\nhave options to give it a unique name.\n\n540\n00:25:46.213 --> 00:25:50.042\nAnd to assign, if we choose to go in and\ndo so, address information,\n\n541\n00:25:50.042 --> 00:25:53.760\naccount information,\nall those tabs, everything there.\n\n542\n00:25:53.760 --> 00:25:56.970\nAll of that's all ready been pre-populated\nand determined cuz it's in the schema.\n\n543\n00:25:56.970 --> 00:25:59.570\nIf it's not there,\nI don't have a right to use it.\n\n544\n00:25:59.570 --> 00:26:01.690\nI don't see it, it's not available to me.\n\n545\n00:26:01.690 --> 00:26:04.600\nNow we've talked in prior\ndiscussions about the schema.\n\n546\n00:26:04.600 --> 00:26:07.180\nIts structure,\nwhy it's important, how it works.\n\n547\n00:26:07.180 --> 00:26:09.650\nAnd one of the most important\nreasons we talked about with this,\n\n548\n00:26:09.650 --> 00:26:15.280\nwas the idea that the schema representing\nthis master blue print, this master list.\n\n549\n00:26:15.280 --> 00:26:18.900\nAnd control element for\neverything we do inside the ADDS\n\n550\n00:26:18.900 --> 00:26:21.020\nthat it is editable with\nthe appropriate permissions.\n\n551\n00:26:21.020 --> 00:26:25.310\nSo if you remember, the schema admin group\nto be able to go in and modify the schema.\n\n552\n00:26:25.310 --> 00:26:28.390\nWith the appropriate permissions,\nwe could go in and make changes, but\n\n553\n00:26:28.390 --> 00:26:30.060\nchanges are a one way activity.\n\n554\n00:26:30.060 --> 00:26:33.520\nYou could put stuff in right, but\nyou can never take stuff out truly.\n\n555\n00:26:33.520 --> 00:26:37.220\nAnd I made the point that when we extend\nthe schema, the activity name that we\n\n556\n00:26:37.220 --> 00:26:40.520\ngive the idea of editing the schema and\nmaking changes to it.\n\n557\n00:26:40.520 --> 00:26:44.176\nWhen we extend the schema by adding\ndefinitions, object classes and\n\n558\n00:26:44.176 --> 00:26:47.151\nproperties in,\nwe're putting stuff in permanently.\n\n559\n00:26:47.151 --> 00:26:49.510\nIt becomes part of that permanent record.\n\n560\n00:26:49.510 --> 00:26:51.310\nIt's no longer available to us to remove.\n\n561\n00:26:51.310 --> 00:26:55.380\nThe only way we can get something out\nof the schema is to trick ourselves\n\n562\n00:26:55.380 --> 00:26:58.800\ninto thinking it's not there by going in,\nediting the properties.\n\n563\n00:26:58.800 --> 00:27:01.870\nAnd checking the box or unchecking\nthe box depending on what the setting is,\n\n564\n00:27:01.870 --> 00:27:04.360\nthat says hide so that we don't see it.\n\n565\n00:27:04.360 --> 00:27:07.680\nBut it's always there, the only way we\ntruly remove something from the schema\n\n566\n00:27:07.680 --> 00:27:10.000\nis by getting rid of the schema and\nstarting over again.\n\n567\n00:27:10.000 --> 00:27:14.120\nSo just keep in mind that the only way\nto get rid of an object definition\n\n568\n00:27:14.120 --> 00:27:18.190\ninside the schema would be to blow\nthe schema out, remove the forest, and\n\n569\n00:27:18.190 --> 00:27:18.870\nstart over again.\n\n570\n00:27:18.870 --> 00:27:22.070\nSo schema is a forest\nlevel thought process,\n\n571\n00:27:22.070 --> 00:27:25.150\na forest level object\nexists at the forest level.\n\n572\n00:27:25.150 --> 00:27:27.900\nWe have one schema for the entire forest.\n\n573\n00:27:27.900 --> 00:27:31.370\nAll domains in the forest\nare bound by the same schema.\n\n574\n00:27:31.370 --> 00:27:35.968\nAnd if you remember our picture\nthat we have often referred to in\n\n575\n00:27:35.968 --> 00:27:37.715\nprior conversations.\n\n576\n00:27:37.715 --> 00:27:42.063\nJust to get a feel for the structure, the\nhierarchy, and the nature of the domain,\n\n577\n00:27:42.063 --> 00:27:45.430\nthe tree and the forest, and\nwe've been through this before.\n\n578\n00:27:45.430 --> 00:27:50.040\nITPRO.TV is indeed our\nparent domain in this case.\n\n579\n00:27:50.040 --> 00:27:52.240\nHosts on the left, audience on the right.\n\n580\n00:27:52.240 --> 00:27:57.630\nChild domains of the namespace ITPRO.TV,\nall three together equal a tree.\n\n581\n00:27:57.630 --> 00:28:01.090\nThat along with maybe another domain\nthat we don't have on there but\n\n582\n00:28:01.090 --> 00:28:03.030\nwe said would be baskets.com, right?\n\n583\n00:28:03.030 --> 00:28:04.673\nIf we put that one up there as well,\n\n584\n00:28:04.673 --> 00:28:07.583\njoin the two together with these\ntwo way transitive trusts.\n\n585\n00:28:07.583 --> 00:28:11.371\nThese arrows that link all\ndomains inside the tree and\n\n586\n00:28:11.371 --> 00:28:14.630\nall tree root domains inside the forest.\n\n587\n00:28:14.630 --> 00:28:17.530\nIf we saw that there we\nwould have another border,\n\n588\n00:28:17.530 --> 00:28:22.230\nanother boundary around the entire\nobject definition or the entire picture.\n\n589\n00:28:22.230 --> 00:28:24.060\nWe would see a forest.\n\n590\n00:28:24.060 --> 00:28:27.340\nAnywhere in that forest, no matter where\nwe go, right click in any of those\n\n591\n00:28:27.340 --> 00:28:30.920\ndomain controllers in any domain and\nchose new user.\n\n592\n00:28:30.920 --> 00:28:32.310\nYou would get the same wizard.\n\n593\n00:28:32.310 --> 00:28:34.152\nYou would be asked the same questions.\n\n594\n00:28:34.152 --> 00:28:36.530\nYou'd right-click on that user\nonce we finished creating it.\n\n595\n00:28:36.530 --> 00:28:38.880\nAnd you would see the same\nlist of properties.\n\n596\n00:28:38.880 --> 00:28:41.940\nAnd the same attributes,\nvalues would be different.\n\n597\n00:28:41.940 --> 00:28:46.728\nBut the object, the properties and\nthe attributes would be the same.\n\n598\n00:28:46.728 --> 00:28:50.773\nBecause we have one set of operational\ninstructions across the entire forest that\n\n599\n00:28:50.773 --> 00:28:53.069\ntell us how to create\nthat object called user.\n\n600\n00:28:53.069 --> 00:28:56.970\nAnd that set of operational instructions\nis referred to as our schema.\n\n601\n00:28:56.970 --> 00:29:00.030\nSo configuring user account\nattributes going in, and\n\n602\n00:29:00.030 --> 00:29:02.730\nactually going in,\nlooking at what they are.\n\n603\n00:29:02.730 --> 00:29:05.884\nAnd then adding values into them,\nallowing us to edit.\n\n604\n00:29:05.884 --> 00:29:07.471\nIn other words in modify,\n\n605\n00:29:07.471 --> 00:29:11.735\ncan be done as you saw from\nthe Active Directory user computer tool.\n\n606\n00:29:11.735 --> 00:29:14.715\nFrom ADACT, the Active Directory\nAdministrator Center tool,\n\n607\n00:29:14.715 --> 00:29:18.060\nthe DS command line tool,\nin this case not DS Ad.\n\n608\n00:29:18.060 --> 00:29:19.545\nI mentioned that one already.\n\n609\n00:29:19.545 --> 00:29:21.395\nDS Mod, another one of the DS tools.\n\n610\n00:29:21.395 --> 00:29:23.445\nDS by the way for\nDIrectory Service, right?\n\n611\n00:29:23.445 --> 00:29:28.730\nSo DS Ad, Directory Service Ad, DS Mod,\nshort for modification or modify.\n\n612\n00:29:28.730 --> 00:29:31.801\nDirectory service modify,\ncommand line tool run from the DOS shell.\n\n613\n00:29:31.801 --> 00:29:36.340\nCould use some power shell as well, so\nwe've lots of different ways to do this.\n\n614\n00:29:36.340 --> 00:29:41.137\nAnd we can go and start to chip away at\nall those different properties, accounts,\n\n615\n00:29:41.137 --> 00:29:43.654\naddress, etc and look at the attributes.\n\n616\n00:29:43.654 --> 00:29:46.425\nAnd start to work with\nthem by providing values.\n\n617\n00:29:46.425 --> 00:29:49.500\nThere's all sorts of things that\nwe have available in there.\n\n618\n00:29:49.500 --> 00:29:52.250\nWe'll go into a little more detail\nin some upcoming conversations,\n\n619\n00:29:52.250 --> 00:29:55.730\ntake you on another guided tour, show you\nsome more about what's happening in there.\n\n620\n00:29:55.730 --> 00:29:59.366\nBut getting used to and familiar with not\njust with thought process of objects.\n\n621\n00:29:59.366 --> 00:30:03.007\nBut the specificity of how to start\nmanaging them is one of the key goals and\n\n622\n00:30:03.007 --> 00:30:05.534\nobjectives you have to be\ncomfortable with in order\n\n623\n00:30:05.534 --> 00:30:07.500\nto do well on the exam number one.\n\n624\n00:30:07.500 --> 00:30:09.920\nBut equally important and\nperhaps even more important long term,\n\n625\n00:30:09.920 --> 00:30:12.652\nyou have to be comfortable with it in\nthe real world to be able to do your job.\n\n626\n00:30:12.652 --> 00:30:15.492\nAnd to work in these environments and\nto be able to carry\n\n627\n00:30:15.492 --> 00:30:19.680\nout the activities that you may be\nexpected to take on as responsibilities.\n\n628\n00:30:19.680 --> 00:30:21.965\nAnd over time to do those\nthings correctly, so\n\n629\n00:30:21.965 --> 00:30:23.850\npractice makes perfect we often say.\n\n630\n00:30:23.850 --> 00:30:27.430\nSpending time learning how to do\nthese things, go in and explore.\n\n631\n00:30:27.430 --> 00:30:29.129\nBig warning though,\nplease don't explore in production.\n\n632\n00:30:29.129 --> 00:30:30.198\n&gt;&gt; Man.\n[LAUGH] &gt;&gt; I'm sure you know that and\n\n633\n00:30:30.198 --> 00:30:32.520\nI'm sure I'm not telling you\nsomething you don't know.\n\n634\n00:30:32.520 --> 00:30:35.910\nBut just so that we can say we said it\nin case anybody comes back and says but\n\n635\n00:30:35.910 --> 00:30:38.970\nAdam or Cherokee said we should go\nexploring and I got in trouble.\n\n636\n00:30:38.970 --> 00:30:40.910\nDon't wanna do that in production, right.\n\n637\n00:30:40.910 --> 00:30:42.500\nIt's important to look right,\n\n638\n00:30:42.500 --> 00:30:45.160\nwindow shop when your in production\nunless you have rights to make changes.\n\n639\n00:30:45.160 --> 00:30:46.340\nBut set your own environment.\n\n640\n00:30:46.340 --> 00:30:49.000\nAnd if you don't have the ability to do\nso, leverage your practice environment.\n\n641\n00:30:49.000 --> 00:30:52.130\nThe lab access we give you\nas part of the value of\n\n642\n00:30:52.130 --> 00:30:55.210\nworking with using the ITPRO.TV solution.\n\n643\n00:30:55.210 --> 00:30:57.010\nYou get access to those environments.\n\n644\n00:30:57.010 --> 00:31:00.520\nSame kind of environments I demo with or\nCherokee does, or any of the hosts and\n\n645\n00:31:00.520 --> 00:31:01.720\npresenters here do.\n\n646\n00:31:01.720 --> 00:31:04.520\nAnd you're gonna be able to do the same\nthings we do, but take advantage of that.\n\n647\n00:31:04.520 --> 00:31:08.840\nMake sure you practice, spend\nthe time before you go into the exam,\n\n648\n00:31:08.840 --> 00:31:10.300\nbecome comfortable with the environment.\n\n649\n00:31:10.300 --> 00:31:13.800\nSpend the time as you're getting ready\nto take on new responsibilities at work.\n\n650\n00:31:13.800 --> 00:31:16.760\nThere's so much extra value you create\nby doing that, and it becomes so\n\n651\n00:31:16.760 --> 00:31:19.150\nmuch easier for you to be confident\nto do it in the real world.\n\n652\n00:31:19.150 --> 00:31:20.680\nWhen you practice and make mistakes and\n\n653\n00:31:20.680 --> 00:31:22.570\nget it all wrong and\nthen figure it out here.\n\n654\n00:31:22.570 --> 00:31:24.660\nYou see me do it sometimes,\nall of us do it.\n\n655\n00:31:24.660 --> 00:31:26.740\nOccasionally I make a mistake,\nI type something wrong,\n\n656\n00:31:26.740 --> 00:31:29.470\nsomething doesn't work the right way,\nnobody's perfect.\n\n657\n00:31:29.470 --> 00:31:32.380\nThe learning experiences you get from\nmaking those mistakes and fixing them\n\n658\n00:31:32.380 --> 00:31:34.980\nare actually the most valuable part of\nlearning how to do it the right way.\n\n659\n00:31:34.980 --> 00:31:37.920\nSo make sure you take advantage of that\nas part of what we're talking about.\n\n660\n00:31:37.920 --> 00:31:40.120\n&gt;&gt; For sure, and especially if\nyou're using a Windows environment.\n\n661\n00:31:40.120 --> 00:31:42.220\nI mean Active Directory is so, so common.\n\n662\n00:31:42.220 --> 00:31:45.650\nIt's definitely, like Adam says, worth\ntaking the time to go ahead and learn.\n\n663\n00:31:45.650 --> 00:31:47.610\nSo thank you for\nsharing that with us today.\n\n664\n00:31:47.610 --> 00:31:49.980\nAnd thank you for being with us as well,\nbut for this show we'll go ahead and\n\n665\n00:31:49.980 --> 00:31:50.580\nsign out.\n\n666\n00:31:50.580 --> 00:31:52.420\nI've been your host, Cherokee Boose.\n\n667\n00:31:52.420 --> 00:31:53.340\n&gt;&gt; I am Adam Gordon.\n\n668\n00:31:53.340 --> 00:31:54.867\n&gt;&gt; See you next time here at ITPRO.TV.\n\n669\n00:31:54.867 --> 00:31:57.571\n[MUSIC]\n\n670\n00:32:03.333 --> 00:32:06.260\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "229130828"
        },
        {
          "description": "In this show, Adam and Cherokee continue a previous discussion on objects within AD DS. First, Adam explains the purpose of a user profile and the different values that can be used for custom settings. Adam shows the profile path, logon script, and home folder as well as explaining their functions. They also talk about how group policy can be used to profiles as well as how to create templates.",
          "length": "2007",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-2-managing_objects_in_ad_ds_pt2-080917-PGM.00_41_53_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-2-managing_objects_in_ad_ds_pt2-080917-PGM.00_41_53_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-2-managing_objects_in_ad_ds_pt2-080917-PGM.00_41_53_09.Still001-sm.jpg",
          "title": "Managing Objects in AD DS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.198 --> 00:00:06.459\nWelcome to ITProTV, I'm your host Don-\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:06.459 --> 00:00:08.331\n[MUSIC]\n\n3\n00:00:08.331 --> 00:00:12.075\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.075 --> 00:00:17.170\n&gt;&gt; Welcome, ladies and gentlemen to your\nIdentity with Windows Server 2016 series.\n\n5\n00:00:17.170 --> 00:00:19.537\nI'm your show host, Cherokee Boose.\n\n6\n00:00:19.537 --> 00:00:20.898\nIn the previous episodes,\n\n7\n00:00:20.898 --> 00:00:24.041\nwe were introduced to different\ntypes of objects within ADDS.\n\n8\n00:00:24.041 --> 00:00:28.019\nAnd in this show, we'll continue taking\na look at how to manage those objects, so\n\n9\n00:00:28.019 --> 00:00:29.529\nhere we are in for our part two.\n\n10\n00:00:29.529 --> 00:00:32.278\nAnd we have Mr. Adam Gordon back\nin the studios with us today.\n\n11\n00:00:32.278 --> 00:00:33.442\nThanks for coming back, Adam.\n\n12\n00:00:33.442 --> 00:00:35.203\n&gt;&gt; Thank you, always glad to be here.\n\n13\n00:00:35.203 --> 00:00:37.534\nWe're gonna continue our\nconversations talking about,\n\n14\n00:00:37.534 --> 00:00:40.061\nnot just objects in the ADDS,\nwe're certainly gonna do that.\n\n15\n00:00:40.061 --> 00:00:43.124\nWe're gonna talk about some\nspecific aspects of objects,\n\n16\n00:00:43.124 --> 00:00:45.033\nstarting off with user properties.\n\n17\n00:00:45.033 --> 00:00:47.852\nAnd specifically,\nuser profiles where the home folder is,\n\n18\n00:00:47.852 --> 00:00:49.297\nhow we do folder redirection.\n\n19\n00:00:49.297 --> 00:00:51.877\nSome interesting things that we\noften either take for granted,\n\n20\n00:00:51.877 --> 00:00:53.941\nas administrators may not\noften think about this.\n\n21\n00:00:53.941 --> 00:00:58.518\nMaybe it's already been set up for us, or\nsomebody comes to us and says, by the way,\n\n22\n00:00:58.518 --> 00:00:59.631\nI need you to do this.\n\n23\n00:00:59.631 --> 00:01:02.734\nAnd we're scratching our heads going,\nI remember I did this once but\n\n24\n00:01:02.734 --> 00:01:03.601\nit was so long ago.\n\n25\n00:01:03.601 --> 00:01:05.530\nAnd I don't remember where to go or\nhow to do it.\n\n26\n00:01:05.530 --> 00:01:09.930\nSo thought it would be a good idea to go\nin, take a quick look at how to do this.\n\n27\n00:01:09.930 --> 00:01:11.800\nSo join me back over here.\n\n28\n00:01:11.800 --> 00:01:14.282\nIn our last episode, we went ahead and\ncreated a sample user.\n\n29\n00:01:14.282 --> 00:01:16.010\nWe'll kinda be using that user and\n\n30\n00:01:16.010 --> 00:01:19.360\nthat naming convention throughout\nour discussions in this area.\n\n31\n00:01:19.360 --> 00:01:21.740\nSo our share B user is there.\n\n32\n00:01:21.740 --> 00:01:24.498\nI'm just gonna right-click and bring\nup the Properties on that user again.\n\n33\n00:01:24.498 --> 00:01:27.966\nSo right-click on the Properties,\nand we're gonna go in,\n\n34\n00:01:27.966 --> 00:01:30.484\njust put that back where it was, actually.\n\n35\n00:01:30.484 --> 00:01:32.730\nWe're gonna go in, and\nwe're gonna go to the Profile tab.\n\n36\n00:01:34.530 --> 00:01:40.255\nFourth one over from the left-hand side\non the lowest row there, Profile tab.\n\n37\n00:01:40.255 --> 00:01:44.336\nWhen we go in there, we're gonna be able\nto see the user profile information.\n\n38\n00:01:44.336 --> 00:01:48.510\nOr potentially what would be there,\nif we had a profile path predetermined,\n\n39\n00:01:48.510 --> 00:01:52.830\na logon script, and, or a home folder\nlocal path or a mapped connection for it.\n\n40\n00:01:52.830 --> 00:01:55.190\nWhat are some of the things\nthat we do with user profiles?\n\n41\n00:01:55.190 --> 00:01:55.900\nWhy are they important?\n\n42\n00:01:55.900 --> 00:01:57.730\nWhat do we use them for?\n\n43\n00:01:57.730 --> 00:01:58.915\n&gt;&gt; Good question, Adam.\n\n44\n00:01:58.915 --> 00:02:00.351\nI'm hoping that you can explain that.\n\n45\n00:02:00.351 --> 00:02:01.023\n&gt;&gt; Okay.\n\n46\n00:02:01.023 --> 00:02:05.530\n&gt;&gt; [LAUGH]\n&gt;&gt; So, traditionally user profiles, right,\n\n47\n00:02:05.530 --> 00:02:09.623\nare gonna be this collection of settings\nthat are going to be assigned or\n\n48\n00:02:09.623 --> 00:02:10.950\napplied per user.\n\n49\n00:02:10.950 --> 00:02:13.008\nBased on either user specification,\n\n50\n00:02:13.008 --> 00:02:16.286\nmeaning some of the profile\nsettings as an individual user,\n\n51\n00:02:16.286 --> 00:02:20.034\nI may be able to make choices about and\ncontrol my own destiny around.\n\n52\n00:02:20.034 --> 00:02:23.236\nI may be able to change the background\non my desktop, for instance.\n\n53\n00:02:23.236 --> 00:02:25.744\n&gt;&gt; Yes.\n&gt;&gt; Maybe put a picture in there or\n\n54\n00:02:25.744 --> 00:02:28.878\nchange the color, add some applications or\n\n55\n00:02:28.878 --> 00:02:32.787\ninstall some programs into\nmy system that I wanna use.\n\n56\n00:02:32.787 --> 00:02:36.315\nPut them on the desktop and\nmake them available only for my use or for\n\n57\n00:02:36.315 --> 00:02:37.010\neverybody.\n\n58\n00:02:37.010 --> 00:02:38.947\nI have these choices,\nthings like that, right?\n\n59\n00:02:38.947 --> 00:02:42.931\nAnd so I could save my documents\nto the My Documents folder.\n\n60\n00:02:42.931 --> 00:02:44.966\nI may put stuff in different places.\n\n61\n00:02:44.966 --> 00:02:48.506\nThere's all these different aspects\nof what the profile may represent.\n\n62\n00:02:48.506 --> 00:02:52.541\nAnd so if I control the profile,\nmeaning as an individual user,\n\n63\n00:02:52.541 --> 00:02:57.324\nI am given the right to make these\nchanges, the sum total of these settings,\n\n64\n00:02:57.324 --> 00:03:00.013\nevery time I log in or\napply to my machine and\n\n65\n00:03:00.013 --> 00:03:04.980\nessentially make my machine look as if and\nfeel as if it's been set up this way.\n\n66\n00:03:04.980 --> 00:03:07.720\nSo I get to remember and\npay forward those settings.\n\n67\n00:03:07.720 --> 00:03:10.150\nSo that's what, traditionally,\na profile is used for.\n\n68\n00:03:10.150 --> 00:03:13.436\nBut not all profiles are equal, right?\n\n69\n00:03:13.436 --> 00:03:18.089\nAnd so the generic user profile is\nstored in a file called ntuser.dat.\n\n70\n00:03:18.089 --> 00:03:22.450\nThe DAT extension represents the data\nfile that is used for the user.\n\n71\n00:03:22.450 --> 00:03:25.620\nThe ntuser.dat, in other words,\nis just the normal profile.\n\n72\n00:03:25.620 --> 00:03:29.910\nBut if I choose to make the profile into\nwhat is called the mandatory profile,\n\n73\n00:03:29.910 --> 00:03:32.280\nin other words,\ncontrolled not by the user.\n\n74\n00:03:32.280 --> 00:03:34.950\nBut controlled either by\nthe application of group\n\n75\n00:03:34.950 --> 00:03:37.500\npolicies that overlays\non top of the profile.\n\n76\n00:03:37.500 --> 00:03:41.825\nOr settings that are applied without\nthe user's knowledge and, or permission or\n\n77\n00:03:41.825 --> 00:03:44.217\nopt-in or\nwhatever you wanna think of it as.\n\n78\n00:03:44.217 --> 00:03:48.257\nBut essentially,\nthat override the profile and say, yeah.\n\n79\n00:03:48.257 --> 00:03:52.629\nYou wanted that background to be\na picture of you running on the beach.\n\n80\n00:03:52.629 --> 00:03:54.918\nBut guess what?\nWe're gonna put the corporate logo there\n\n81\n00:03:54.918 --> 00:03:55.916\nevery time you log on.\n\n82\n00:03:55.916 --> 00:03:58.143\nCuz that's the standard\nin our environment,\n\n83\n00:03:58.143 --> 00:04:00.322\nwe have what's called a mandatory profile.\n\n84\n00:04:00.322 --> 00:04:06.340\nAnd the ntuser.dat file gets renamed\nntuser.man, M-A-N, mandatory.\n\n85\n00:04:06.340 --> 00:04:09.270\nAnd that's typically done through\nthe application of group policy.\n\n86\n00:04:09.270 --> 00:04:14.740\nWe don't often think about group policy\nbeing interacting with being as part or\n\n87\n00:04:15.770 --> 00:04:18.920\nbeing set up as part of\nthe overriding of the profile.\n\n88\n00:04:18.920 --> 00:04:21.910\nBut really what group policy\nrepresents is just a set of\n\n89\n00:04:21.910 --> 00:04:23.890\nregistry settings in one form or another.\n\n90\n00:04:23.890 --> 00:04:27.550\nMore often than not, administratively\napplied through a GUI interface.\n\n91\n00:04:27.550 --> 00:04:30.430\nThat change the nature of and\nthe functionality of and\n\n92\n00:04:30.430 --> 00:04:34.398\nthe settings of the system, but do so\nin a controlled and authorized way.\n\n93\n00:04:34.398 --> 00:04:39.238\nPart of those settings, specific to\nthe user, parts specific to the computer,\n\n94\n00:04:39.238 --> 00:04:43.025\nwe have two areas in the group\npolicy editor, traditionally.\n\n95\n00:04:43.025 --> 00:04:46.545\nAnd we have settings that represent\naspects of those settings in each area,\n\n96\n00:04:46.545 --> 00:04:48.362\ncomputer settings and user settings.\n\n97\n00:04:48.362 --> 00:04:53.040\nAnd the settings in the user area\nare gonna override aspects of the user\n\n98\n00:04:53.040 --> 00:04:53.910\nprofile.\n\n99\n00:04:53.910 --> 00:04:57.140\nAnd so depending on what we set and\nhow we set them up,\n\n100\n00:04:57.140 --> 00:05:00.340\na group policy may be applied that changes\nour profile and makes it mandatory.\n\n101\n00:05:00.340 --> 00:05:04.716\nAnd therefore, overrides our preferences\nand allows for those to be set.\n\n102\n00:05:04.716 --> 00:05:07.871\nWhen we we log onto a local\nmachine outside of the domain,\n\n103\n00:05:07.871 --> 00:05:11.642\nour only policy that's applied is\nthe local policy on the machine.\n\n104\n00:05:11.642 --> 00:05:14.044\nAnd we set up our profile against that,\nand\n\n105\n00:05:14.044 --> 00:05:16.523\ntypically our profile\nis the one that wins.\n\n106\n00:05:16.523 --> 00:05:20.368\nBecause we make changes after\nthe baseline of the policy's applied and\n\n107\n00:05:20.368 --> 00:05:24.413\nthe desktop is modified, things like,\nbased on us as an individual user.\n\n108\n00:05:24.413 --> 00:05:26.761\nEspecially if you have admin rights,\nright, for instance,\n\n109\n00:05:26.761 --> 00:05:27.900\nthen we would be able to that.\n\n110\n00:05:27.900 --> 00:05:31.839\nBut when we get joined to a domain,\nwe have the local policy on every machine,\n\n111\n00:05:31.839 --> 00:05:34.157\nwhether we're a member of the domain or\nnot.\n\n112\n00:05:34.157 --> 00:05:38.525\nBut the local policy is applied first and\nthen the domain based policy is applied.\n\n113\n00:05:38.525 --> 00:05:42.478\nWell, actually the site level policy is\napplied right from the fartest down and\n\n114\n00:05:42.478 --> 00:05:44.257\nthen the domain policy is applied.\n\n115\n00:05:44.257 --> 00:05:47.619\nAnd then, ultimately, as a result, the\nlast set of settings applied are the ones\n\n116\n00:05:47.619 --> 00:05:49.927\nthat are applied at the domain level,\ntraditionally.\n\n117\n00:05:49.927 --> 00:05:53.727\nAnd they have policies at the OU level,\nbut we typically tend to tell you not to\n\n118\n00:05:53.727 --> 00:05:57.820\nset policies at an OU level, unless\nyou're doing some very specific things.\n\n119\n00:05:57.820 --> 00:06:02.940\nUsually use the domain level for security\nand then specific OU based management for\n\n120\n00:06:02.940 --> 00:06:06.210\nindividual groups of users or\nobjects at the OU level.\n\n121\n00:06:06.210 --> 00:06:08.735\nSo we have different\nhierarchies of levels,\n\n122\n00:06:08.735 --> 00:06:11.840\nhierarchies or\nlevels of policies that will be applied.\n\n123\n00:06:11.840 --> 00:06:14.870\nBut the cumulative effect, and\nthe cumulative group of those settings as\n\n124\n00:06:14.870 --> 00:06:18.380\nthey're applied in preferential order,\nultimately craft and\n\n125\n00:06:18.380 --> 00:06:21.690\ncreate that background, that setting,\nand that policy for us.\n\n126\n00:06:21.690 --> 00:06:24.240\nAnd our policy becomes a cumulative\neffect of all of that.\n\n127\n00:06:24.240 --> 00:06:26.250\nSo in a domain environment,\n\n128\n00:06:26.250 --> 00:06:30.140\nit's very unlikely that the user gets\nto control all aspects of their policy.\n\n129\n00:06:30.140 --> 00:06:33.310\nCuz there's often gonna be policy\nimplementation that's done through group\n\n130\n00:06:33.310 --> 00:06:35.420\npolicy that may modify aspects of that.\n\n131\n00:06:35.420 --> 00:06:38.770\nSo when we configure the user\naccount policy and the profiles,\n\n132\n00:06:38.770 --> 00:06:41.100\nwe're thinking about what\nthose setting will be.\n\n133\n00:06:41.100 --> 00:06:43.540\nWe could hard code a profile path or\n\n134\n00:06:43.540 --> 00:06:48.030\nwe can just have a generic profile that's\njust applied every time we log on.\n\n135\n00:06:48.030 --> 00:06:50.009\nWe could have what's called\na roaming profile, as well.\n\n136\n00:06:50.009 --> 00:06:52.146\nA profile that follows us wherever we go.\n\n137\n00:06:52.146 --> 00:06:54.600\nAnd a lot of times in many\ncorporate environments,\n\n138\n00:06:54.600 --> 00:06:57.795\nwe will set up roaming profiles for\nusers so that when they travel,\n\n139\n00:06:57.795 --> 00:07:01.584\nmove between offices or machines or\nboth, whatever they're doing, right?\n\n140\n00:07:01.584 --> 00:07:03.682\n&gt;&gt; We don't have to reset those shortcuts.\n\n141\n00:07:03.682 --> 00:07:04.930\n&gt;&gt; Right,\nyou don't have to worry about all that,\n\n142\n00:07:04.930 --> 00:07:08.450\nyour shortcuts, your application access.\n\n143\n00:07:08.450 --> 00:07:12.076\nExcuse me, your background, all that\nkinda stuff, all that will follow you.\n\n144\n00:07:12.076 --> 00:07:14.698\nAnd then we allow you to\nessentially pull that down and\n\n145\n00:07:14.698 --> 00:07:18.324\napply it as a set of settings like\na template to the machine when you log in.\n\n146\n00:07:18.324 --> 00:07:21.265\nAnd then, when you leave,\nthe next user logs on, that gets wiped and\n\n147\n00:07:21.265 --> 00:07:22.397\na new setting is applied.\n\n148\n00:07:22.397 --> 00:07:24.670\nAnd so that's how roaming profiles work.\n\n149\n00:07:24.670 --> 00:07:27.503\nBut things like your documents,\nyour pictures, your music, your videos,\n\n150\n00:07:27.503 --> 00:07:30.304\nalthough, you shouldn't be using that\nkind of stuff at work, typically.\n\n151\n00:07:30.304 --> 00:07:33.583\nBut all that, your application data,\nthat's all part of it, as we said,\n\n152\n00:07:33.583 --> 00:07:34.470\nthe user profile.\n\n153\n00:07:34.470 --> 00:07:36.961\nSo, just thinking about that,\nunderstanding where that is.\n\n154\n00:07:36.961 --> 00:07:40.428\nThe profile path can be local,\nas I suggested.\n\n155\n00:07:40.428 --> 00:07:42.580\nAnd it can also be, as I said, a UNC or\n\n156\n00:07:42.580 --> 00:07:46.090\na redirect to a server based\nsolution to make it roaming.\n\n157\n00:07:46.090 --> 00:07:47.620\nSo we can have that.\n\n158\n00:07:47.620 --> 00:07:50.959\nThat would be a backslash,\nbackslash, share name, directory or\n\n159\n00:07:50.959 --> 00:07:51.983\nwhatever it may be.\n\n160\n00:07:51.983 --> 00:07:55.132\nSo server1/, and\nthen you have a profiles folder, and\n\n161\n00:07:55.132 --> 00:07:57.043\nthen a subfolder with every user.\n\n162\n00:07:57.043 --> 00:08:00.881\nAnd your path to your folder and then\nyou're able to have your profile applied.\n\n163\n00:08:00.881 --> 00:08:04.080\nSo all the user desktop settings\nwill be applied as a result of that.\n\n164\n00:08:04.080 --> 00:08:08.928\nSo just keep that in mind, but using that\nUNC, going into that profile path and\n\n165\n00:08:08.928 --> 00:08:13.407\nputting in a UNC on that line redirecting\nyou to a server makes the profile\n\n166\n00:08:13.407 --> 00:08:14.730\na roaming profile.\n\n167\n00:08:14.730 --> 00:08:16.990\nThat's how we make a profile,\nroaming profile.\n\n168\n00:08:16.990 --> 00:08:19.252\nBy giving you a UNC and redirecting you.\n\n169\n00:08:19.252 --> 00:08:20.391\nYeah.\n&gt;&gt; Yeah, just perfect\n\n170\n00:08:20.391 --> 00:08:22.450\nsituation on client-side systems.\n\n171\n00:08:22.450 --> 00:08:26.470\nI know this is just a server show, but if\nyou are having to maybe blow a client-side\n\n172\n00:08:26.470 --> 00:08:30.370\nmachine out, bring that back in,\ngreat way to go ahead and do that as well.\n\n173\n00:08:30.370 --> 00:08:33.240\n&gt;&gt; It would be one aspect of doing that we\nwould off what depends on what you choose\n\n174\n00:08:33.240 --> 00:08:37.190\nto do, but I know you're familiar with\nthe MDT and a lot of the tools there.\n\n175\n00:08:37.190 --> 00:08:40.180\nThe USMT, the user state migration\ntool right, for instance.\n\n176\n00:08:40.180 --> 00:08:44.270\nSo the USMT, user state migration tool,\npart of the MDT,\n\n177\n00:08:44.270 --> 00:08:47.130\nthe Microsoft Deployment Toolkit\nthat's often put out there by\n\n178\n00:08:47.130 --> 00:08:51.320\nversion of the OS to let you do updates,\nmigrations, integrated into\n\n179\n00:08:51.320 --> 00:08:54.536\nSystem Center Config Manager,\nvariety of different ways to do this.\n\n180\n00:08:54.536 --> 00:08:58.910\nBut the USMT the user system migration\ntool in particular uses two scripts.\n\n181\n00:08:58.910 --> 00:09:00.440\nLoad state and scan state right.\n\n182\n00:09:00.440 --> 00:09:05.620\nTwo tools that will then run,\ncreate a copy of the user profile data.\n\n183\n00:09:05.620 --> 00:09:08.824\nThat's what essentially scan state does it\npulls all this data off the system as you\n\n184\n00:09:08.824 --> 00:09:09.572\nwere suggesting.\n\n185\n00:09:09.572 --> 00:09:10.454\n&gt;&gt; Automates it for you.\n\n186\n00:09:10.454 --> 00:09:12.250\n&gt;&gt; Can be automated, absolutely.\n\n187\n00:09:12.250 --> 00:09:16.690\nCan be scripted, and can then be stored\ntypically on a server somewhere.\n\n188\n00:09:16.690 --> 00:09:20.630\nWe then run the profile or\nrather we run the process of installing or\n\n189\n00:09:20.630 --> 00:09:21.840\nupgrading a new system.\n\n190\n00:09:21.840 --> 00:09:26.060\nWe then run load state to bring that back\ndown, reloading that application and\n\n191\n00:09:26.060 --> 00:09:27.120\nprofile data.\n\n192\n00:09:27.120 --> 00:09:28.570\nSo there's a lot of\ndifferent ways to do it.\n\n193\n00:09:28.570 --> 00:09:32.690\nBut yes, a roaming profile where we\nstored off the system in a UNC somewhere\n\n194\n00:09:32.690 --> 00:09:35.460\nwould also essentially operate\nin a very similar fashion.\n\n195\n00:09:35.460 --> 00:09:39.310\nBut for multiple users, because we\ncould set that up for whole groups\n\n196\n00:09:39.310 --> 00:09:43.410\nthe USMT tool is really designed just for\none off migrations for individual systems.\n\n197\n00:09:43.410 --> 00:09:45.160\nNot really skilled as an enterprise tool.\n\n198\n00:09:45.160 --> 00:09:46.630\nBut it could essentially\ndo the same things.\n\n199\n00:09:46.630 --> 00:09:47.910\nThat's great.\nA great way to\n\n200\n00:09:47.910 --> 00:09:49.330\nthink about that absolutely.\n\n201\n00:09:49.330 --> 00:09:52.010\nWe do have our log on\nscript line there right for\n\n202\n00:09:52.010 --> 00:09:54.490\nbelow the profile item for the path.\n\n203\n00:09:54.490 --> 00:09:56.660\nYou take a look just remembering\nwhat we were doing here.\n\n204\n00:09:56.660 --> 00:09:59.491\nSo if we wanna put in and\nmake this a roaming profile, right.\n\n205\n00:09:59.491 --> 00:10:01.330\nWe type in a UNC, right.\n\n206\n00:10:01.330 --> 00:10:07.790\nSo we would do server name, whatever\nthat is, and then share name, right?\n\n207\n00:10:07.790 --> 00:10:11.990\nAnd by doing that and then specifying real\nvariables or rather, real information,\n\n208\n00:10:11.990 --> 00:10:14.610\nnot placeholders,\nwe would create a roaming profile here,\n\n209\n00:10:14.610 --> 00:10:16.018\nthat would be the way we do that.\n\n210\n00:10:16.018 --> 00:10:20.330\nThe log-on script right below it, this\nwill be a path to a batch file that is\n\n211\n00:10:20.330 --> 00:10:24.725\nused to configure the environment on\nthe local machine every time we logon.\n\n212\n00:10:24.725 --> 00:10:28.860\nIt runs at log-on, so we have four\npossibilities, right, for scripts.\n\n213\n00:10:28.860 --> 00:10:33.830\nWe have startup, log-on, shutdown or\nlog off rather and shutdown in that order.\n\n214\n00:10:33.830 --> 00:10:37.500\nThat's how group policy applies\nscripts in that order in how we\n\n215\n00:10:37.500 --> 00:10:39.390\nsee the phases being used.\n\n216\n00:10:39.390 --> 00:10:42.520\nA startup script runs before you\nget to the log-on screen and\n\n217\n00:10:42.520 --> 00:10:45.420\nconfigure certain aspects of\nthe computer behind the scenes.\n\n218\n00:10:45.420 --> 00:10:48.190\nA log-on script runs once\nwe're authenticating,\n\n219\n00:10:48.190 --> 00:10:51.890\nbefore you get to your desktop,\nas you're getting into the system, and\n\n220\n00:10:51.890 --> 00:10:56.150\nit configures things like the background\nmaybe ads removed, icons,\n\n221\n00:10:56.150 --> 00:10:58.760\nwhatever the case may be for\nindividual users.\n\n222\n00:10:58.760 --> 00:11:02.310\nIn log off script typically it's used\nto clean the desktop environment and\n\n223\n00:11:02.310 --> 00:11:05.680\nget rid of random data,\nclean out the IE cache, things like that.\n\n224\n00:11:05.680 --> 00:11:09.520\nYou just kind of clean the System up, shut\ndown script can be used to do that as well\n\n225\n00:11:09.520 --> 00:11:14.570\nbut may take drive mappings away,\nchange our settings and whatever the case\n\n226\n00:11:14.570 --> 00:11:19.530\nmay be in order to be able to set\nthe system up or prepare for an excuse.\n\n227\n00:11:19.530 --> 00:11:22.402\nSo it's lots of different ways with\nthese but four areas we see scripts in,\n\n228\n00:11:22.402 --> 00:11:25.960\nthe log-on scripts is just the batch\nfile that has commands that are executed\n\n229\n00:11:25.960 --> 00:11:27.320\non the user signs in.\n\n230\n00:11:27.320 --> 00:11:30.970\nThose commands create drive\nmaps traditionally, they may be\n\n231\n00:11:30.970 --> 00:11:35.300\nused to do as I said a variety of things,\ninstall application, things like that.\n\n232\n00:11:35.300 --> 00:11:37.620\nFirst time you log on to Windows\nafter it's been installed,\n\n233\n00:11:37.620 --> 00:11:41.020\nyou often see a script runs that\nconfigures the desktop and the background.\n\n234\n00:11:41.020 --> 00:11:43.070\nAnd so as a result right,\n\n235\n00:11:43.070 --> 00:11:46.320\nyou would see a log on script running\nthat Microsoft puts in place.\n\n236\n00:11:46.320 --> 00:11:49.210\nYou may seen evidence of this\nlittle command window comes up,\n\n237\n00:11:49.210 --> 00:11:50.390\nit's usually gray.\n\n238\n00:11:50.390 --> 00:11:53.580\nIt's says preparing your user desktop and\ndoing some stuff.\n\n239\n00:11:53.580 --> 00:11:56.590\nThat's usually a logon script that's\nrunning the first time you create that\n\n240\n00:11:56.590 --> 00:11:59.740\nprofile to set it all up and\nthat's an example of one, just so\n\n241\n00:11:59.740 --> 00:12:00.880\nyou know what it may look like.\n\n242\n00:12:01.980 --> 00:12:04.680\nScripts do have to be stored\nin a certain location.\n\n243\n00:12:04.680 --> 00:12:09.010\nOn the C Windows sysvol, slash domain\nslash scripts folder on a domain\n\n244\n00:12:09.010 --> 00:12:13.160\ncontroller, that's where we would see it,\nor where we would go to find it.\n\n245\n00:12:13.160 --> 00:12:14.740\nBecause that's where we would look for\nthem.\n\n246\n00:12:14.740 --> 00:12:18.310\nSo it would be in the Windows directory,\nsysval sub directory and\n\n247\n00:12:18.310 --> 00:12:20.580\nthen in the domain and script sub folders.\n\n248\n00:12:20.580 --> 00:12:23.610\nSo just be aware of the fact that\nthat's where we would go to find those.\n\n249\n00:12:23.610 --> 00:12:27.295\nMaybe good feed to know that path that\npath is in the show notes, by the way, for\n\n250\n00:12:27.295 --> 00:12:28.435\nyou, just so you know.\n\n251\n00:12:28.435 --> 00:12:32.445\nWe also have the Home folder there,\nHome folder Localpath and or Connect.\n\n252\n00:12:32.445 --> 00:12:35.565\nHome folder is the storage area\nwhere we put our personal stuff.\n\n253\n00:12:35.565 --> 00:12:39.162\nSo where we put all the output of\nour My Documents, we save stuff.\n\n254\n00:12:39.162 --> 00:12:41.282\nThings like that goes\ninto the Home folder.\n\n255\n00:12:41.282 --> 00:12:43.782\nWe could specify a local\npath as you can see there.\n\n256\n00:12:43.782 --> 00:12:47.152\nOr a connect statement for\nUNC to connect out to a mapped drive.\n\n257\n00:12:47.152 --> 00:12:50.282\nThat's usually for\nredirect out to a file share somewhere,\n\n258\n00:12:50.282 --> 00:12:51.986\nright, some sort of file or print server.\n\n259\n00:12:51.986 --> 00:12:55.206\nWhere we would set that up,\na network map of some kind can be used, so\n\n260\n00:12:55.206 --> 00:12:56.456\njust keep that in mind.\n\n261\n00:12:56.456 --> 00:12:59.006\nWe can also use templates to create users.\n\n262\n00:12:59.006 --> 00:13:01.726\nI created this user as a one-off,\nand you saw me right-click and\n\n263\n00:13:01.726 --> 00:13:03.726\nwalk through the wizard\nin the last episode.\n\n264\n00:13:03.726 --> 00:13:08.463\nBut let's say, hypothetically for\njust a minute, that I wanna go ahead and\n\n265\n00:13:08.463 --> 00:13:12.919\nI wanna do the following all right,\nbut we'll just hold on one second.\n\n266\n00:13:12.919 --> 00:13:14.408\nJust get out of there.\n\n267\n00:13:16.355 --> 00:13:18.100\nThere we go,\nthat's what I was trying to do.\n\n268\n00:13:18.100 --> 00:13:21.862\nJust get into that and do,\n\n269\n00:13:21.862 --> 00:13:26.486\nlet's see, and I'll do cgrb.\n\n270\n00:13:26.486 --> 00:13:28.105\nAnd let's just do a y.\n\n271\n00:13:28.105 --> 00:13:28.633\nCgrb.\n\n272\n00:13:28.633 --> 00:13:31.130\nAnd okay, all right.\n\n273\n00:13:31.130 --> 00:13:34.310\nSo, I'm just creating some settings\nthere right, so that we have that.\n\n274\n00:13:34.310 --> 00:13:37.870\nSo then what I wanna do is just come\nover here real quick to the C drive for\n\n275\n00:13:37.870 --> 00:13:43.990\njust one second and click on there, okay.\n\n276\n00:13:43.990 --> 00:13:46.748\nAnd so I just said hey, for\nthe home folder, go and\n\n277\n00:13:46.748 --> 00:13:50.777\nput that into the C drive in a root\nfolder called C-H-E-R-B or cherb.\n\n278\n00:13:50.777 --> 00:13:51.949\nObviously there's no folder there,\n\n279\n00:13:51.949 --> 00:13:53.825\nwe don't really care about\nthe fact there is or isn't one.\n\n280\n00:13:53.825 --> 00:13:55.758\n'Cause we're not going to\nactually leverage that.\n\n281\n00:13:55.758 --> 00:13:59.180\nWhat I'm gonna show you is how I can\nuse the share via user with some\n\n282\n00:13:59.180 --> 00:14:03.120\nsettings already set up, and use that as\na template to create other user accounts.\n\n283\n00:14:03.120 --> 00:14:06.690\nAnd what will, right, or will not\npotentially show up is part of that.\n\n284\n00:14:06.690 --> 00:14:09.030\nSo, let me show you that\nthere's no folder here,\n\n285\n00:14:09.030 --> 00:14:12.652\neven though I specified that I wanted\nto be used for the home folder, right?\n\n286\n00:14:12.652 --> 00:14:14.880\nAll right, so having said that,\nlet's do this.\n\n287\n00:14:14.880 --> 00:14:16.750\nIt's right click.\n\n288\n00:14:16.750 --> 00:14:19.740\nLet's go ahead and let's copy this user.\n\n289\n00:14:19.740 --> 00:14:22.830\nYou can see right there I have\nthe option to copy the user.\n\n290\n00:14:22.830 --> 00:14:26.930\nLet's go ahead and\n\n291\n00:14:26.930 --> 00:14:30.087\nwhen I copy these, I'm gonna use\nsome basic settings for the user.\n\n292\n00:14:30.087 --> 00:14:34.110\nThen I'm gonna add unique\ninformation like a new user name and\n\n293\n00:14:34.110 --> 00:14:36.920\nsome other password will typically\nget changed, things like that.\n\n294\n00:14:36.920 --> 00:14:38.408\nSo I'm gonna make this another user.\n\n295\n00:14:38.408 --> 00:14:40.240\nSo I'm gonna call this user Adam,\n\n296\n00:14:40.240 --> 00:14:41.700\nbecause it's going to show\nup at the top of the list.\n\n297\n00:14:41.700 --> 00:14:42.840\nIt will be easy to find.\n\n298\n00:14:42.840 --> 00:14:44.610\nWe'll do Adam G for this user.\n\n299\n00:14:44.610 --> 00:14:47.610\nRight and sensing a theme here Sharky?\n\n300\n00:14:49.470 --> 00:14:50.295\nPeople I know.\n\n301\n00:14:50.295 --> 00:14:51.640\n&gt;&gt; Share B, Adam G, right?\n\n302\n00:14:53.140 --> 00:14:54.870\nYes, people you know,\nexactly, that's the category.\n\n303\n00:14:54.870 --> 00:14:57.320\n&gt;&gt; At least it's not the Backstreet Boys,\nright?\n\n304\n00:14:57.320 --> 00:14:58.601\n&gt;&gt; No, I'd never do that.\n\n305\n00:14:58.601 --> 00:15:00.020\n&gt;&gt; Or wait, no, NSync is our?\n\n306\n00:15:00.020 --> 00:15:01.130\n&gt;&gt; NSync, yes.\n\n307\n00:15:01.130 --> 00:15:02.030\n&gt;&gt; I got it mixed up there.\n\n308\n00:15:02.030 --> 00:15:05.160\n&gt;&gt; All right, so I'm just gonna\ncreate one called Adam G, so\n\n309\n00:15:05.160 --> 00:15:07.550\nyou can see I just created\na brand new user there, right?\n\n310\n00:15:07.550 --> 00:15:10.204\nSo I have that, let's just go in,\nlet's go to properties here.\n\n311\n00:15:12.591 --> 00:15:17.334\nAll right, so if you go to Profile,\nwhat you'll see is that it kept\n\n312\n00:15:17.334 --> 00:15:21.590\nthe profile path statement that I used for\nthe Share B user.\n\n313\n00:15:21.590 --> 00:15:23.760\nThe generic server name slash share name,\nso\n\n314\n00:15:23.760 --> 00:15:26.070\nwhatever that would have\nbeen is part of the copy.\n\n315\n00:15:26.070 --> 00:15:28.180\nIt created a local path but\n\n316\n00:15:28.180 --> 00:15:31.990\nused the username Adam G,\ninstead of Share B for that, right?\n\n317\n00:15:31.990 --> 00:15:36.977\nSo when I copied I now got a, in theory\na local path statement that would point to\n\n318\n00:15:36.977 --> 00:15:41.756\na folder for me instead of one for\nthe share B user, or whatever it would be.\n\n319\n00:15:41.756 --> 00:15:45.044\nAnd although,\nI did not put information in, in address,\n\n320\n00:15:45.044 --> 00:15:48.200\nin general, etc,\nsome of this would have copied over,\n\n321\n00:15:48.200 --> 00:15:51.600\nsome of it would not have\ndepending on what was there.\n\n322\n00:15:51.600 --> 00:15:55.573\nSo when we use a user account as a\ntemplate to create other user accounts, we\n\n323\n00:15:55.573 --> 00:16:00.131\ndo see some information being replicated,\nsome information not being replicated.\n\n324\n00:16:00.131 --> 00:16:03.825\nI'm back in the Windows Explorer just\nshowing you I don't have an Adam G or\n\n325\n00:16:03.825 --> 00:16:05.148\na share B folder created.\n\n326\n00:16:05.148 --> 00:16:07.804\nBut the reference to use it is there.\n\n327\n00:16:07.804 --> 00:16:11.150\nThe photo would obviously have to be\ncreated for me to take advantage of it.\n\n328\n00:16:11.150 --> 00:16:15.070\nBut my point is it sticks as part of\nthe sticky attributes of the user that\n\n329\n00:16:15.070 --> 00:16:19.230\nactually get transferred over when I make\na copy and use the user as a template.\n\n330\n00:16:19.230 --> 00:16:22.490\nSo it is important to know\nthat I can use a standard user\n\n331\n00:16:22.490 --> 00:16:24.930\naccount as a template to make other users.\n\n332\n00:16:24.930 --> 00:16:25.950\nBut I have to be cognizant and\n\n333\n00:16:25.950 --> 00:16:28.980\naware of the fact that certain\ndata will be transferred.\n\n334\n00:16:28.980 --> 00:16:32.030\nCertain settings, in other words,\nin the user account will be transferred.\n\n335\n00:16:32.030 --> 00:16:34.750\nCertain settings will actually not.\n\n336\n00:16:34.750 --> 00:16:36.700\nAnd we just want to make\nsure we're aware of that.\n\n337\n00:16:36.700 --> 00:16:40.260\nNow we can also use group policy to\nmanage profiles, as I was suggesting.\n\n338\n00:16:40.260 --> 00:16:42.460\nSo I want to take you\ninto the policy editor.\n\n339\n00:16:42.460 --> 00:16:45.050\nI want to show you how we could\nset up folder redirection and\n\n340\n00:16:45.050 --> 00:16:47.630\nmanage all the aspects of\nthe user profile from there.\n\n341\n00:16:47.630 --> 00:16:49.260\nSo if you join me back in here,\n\n342\n00:16:49.260 --> 00:16:53.100\nI've also got the active directory group\npolicy editor opened, different tool.\n\n343\n00:16:53.100 --> 00:16:57.730\nWe've got group policy management\nconsole editor opened right here.\n\n344\n00:16:57.730 --> 00:17:00.970\nI've created a sample policy\ncalled Share B Policy one.\n\n345\n00:17:00.970 --> 00:17:04.240\nSo I've just gone ahead and right\nclicked on the domain, create and edit,\n\n346\n00:17:04.240 --> 00:17:06.780\ncreate and link a GPO here.\n\n347\n00:17:06.780 --> 00:17:10.810\nGave it a name, clicked on it, and\nnamed it so I could see it right there.\n\n348\n00:17:10.810 --> 00:17:15.310\nRight clicked on the policy and\nchose edit and just opened the policy up.\n\n349\n00:17:15.310 --> 00:17:16.670\nYou could see it right here just so\n\n350\n00:17:16.670 --> 00:17:19.180\nwe would already have that setup and\nready to go.\n\n351\n00:17:19.180 --> 00:17:24.170\nAnd as a result I just opened up\nthe user portion of the settings.\n\n352\n00:17:24.170 --> 00:17:27.250\nI referenced a couple minutes ago at\nthe beginning of our conversation,\n\n353\n00:17:27.250 --> 00:17:31.650\nthat group policies made up of two\nlarge scale high level components.\n\n354\n00:17:31.650 --> 00:17:34.915\nComputer configuration settings,\nuser configuration settings,\n\n355\n00:17:34.915 --> 00:17:37.390\nand then all the sub-settings for\neach there.\n\n356\n00:17:37.390 --> 00:17:40.070\nI'm in the user configuration area.\n\n357\n00:17:40.070 --> 00:17:41.230\nYou can see it right here.\n\n358\n00:17:41.230 --> 00:17:42.510\nI'm in policies.\n\n359\n00:17:42.510 --> 00:17:44.720\nI've opened up the window settings area.\n\n360\n00:17:44.720 --> 00:17:48.620\nFolder redirection, and\nthen underneath I've got about ten or so\n\n361\n00:17:48.620 --> 00:17:50.180\nfolders listed there.\n\n362\n00:17:50.180 --> 00:17:53.470\nAnd all of these are going to be\nthe elements that we can use and\n\n363\n00:17:53.470 --> 00:17:57.550\napply to modify aspects of the user\nprofile if I want to modify them and\n\n364\n00:17:57.550 --> 00:17:58.970\ncontrol them through group policy.\n\n365\n00:17:58.970 --> 00:18:04.575\nAnd so any or all of these, for instance,\nthe desktop folder go in here, all right?\n\n366\n00:18:04.575 --> 00:18:12.075\nRight-click and\nyou'll see I can look at properties.\n\n367\n00:18:12.075 --> 00:18:14.770\nYou'll see right now target\nsetting not configured.\n\n368\n00:18:14.770 --> 00:18:18.000\nYou could specify a location\nof the desktop folder.\n\n369\n00:18:18.000 --> 00:18:22.430\nNotice I can go in, basic redirect\neveryone's folder to the same location.\n\n370\n00:18:22.430 --> 00:18:27.880\nAdvanced specify locations for\nvarious user groups.\n\n371\n00:18:27.880 --> 00:18:31.470\nAnd then I could specify what\nlocations will be for that.\n\n372\n00:18:31.470 --> 00:18:36.410\nSo maybe the IT professionals,\nIT helpdesk, whatever you may call\n\n373\n00:18:36.410 --> 00:18:39.820\na certain group within IT,\nmaybe they can redirect it somewhere.\n\n374\n00:18:39.820 --> 00:18:43.981\nBut then maybe a different group,\nHR managers, finance, sales,\n\n375\n00:18:43.981 --> 00:18:47.415\nwhatever, maybe they get\nredirected somewhere else.\n\n376\n00:18:47.415 --> 00:18:51.146\nBecause maybe we're going to have\ndifferent servers or different network\n\n377\n00:18:51.146 --> 00:18:55.110\nshares that are used for those profiles\nbased on how big they'll be and what kind\n\n378\n00:18:55.110 --> 00:18:58.838\nof information we want to provide and\nso we can actually be very specific and\n\n379\n00:18:58.838 --> 00:19:01.710\nvery prescriptive based on\nthis setting if we choose to.\n\n380\n00:19:01.710 --> 00:19:04.070\nAnd so I can go in, add a security group,\n\n381\n00:19:04.070 --> 00:19:07.760\nit would obviously have to be a group\nthat exists in the directory, right?\n\n382\n00:19:07.760 --> 00:19:11.290\nSo I can go in, go to Browse,\n\n383\n00:19:11.290 --> 00:19:14.790\nI get the standard kind of pick list tool\nthat lets me go in and pull up a group.\n\n384\n00:19:14.790 --> 00:19:16.780\nI'd have to know what the group is.\n\n385\n00:19:16.780 --> 00:19:19.070\nSo group or built in security principle.\n\n386\n00:19:19.070 --> 00:19:22.859\nSo I could go in and\n\n387\n00:19:22.859 --> 00:19:27.660\nI could, let's say do\n\n388\n00:19:27.660 --> 00:19:34.890\nthe guests group just cuz we know for\na fact that group is there.\n\n389\n00:19:34.890 --> 00:19:36.820\nEven though I really don't care about the-\n&gt;&gt; Always a safe bet, that's right?\n\n390\n00:19:36.820 --> 00:19:39.470\n&gt;&gt; Yeah, cuz it's always there, so we just\nknow regardless, it's gonna be there.\n\n391\n00:19:39.470 --> 00:19:40.520\nIt is a built in group.\n\n392\n00:19:40.520 --> 00:19:43.722\nI could have done everyone,\ncould of done the domain admins.\n\n393\n00:19:43.722 --> 00:19:46.996\nThere's built in groups I could use,\nbut let's just say Guests and\n\n394\n00:19:46.996 --> 00:19:48.530\ntarget folder location.\n\n395\n00:19:48.530 --> 00:19:49.320\nCreate a folder for\n\n396\n00:19:49.320 --> 00:19:53.530\neach user under the root path and/or\nredirect to the file location.\n\n397\n00:19:53.530 --> 00:19:56.680\nI'll be prompted to and\nI'll obviously be able to specify that or\n\n398\n00:19:56.680 --> 00:20:00.370\nredirect to the local\nuser profile location.\n\n399\n00:20:00.370 --> 00:20:03.220\nSo, I have three options here\nthat I can leverage, right?\n\n400\n00:20:03.220 --> 00:20:07.020\nIf I do the following location,\nthen I have to specify what that will be.\n\n401\n00:20:07.020 --> 00:20:09.560\nSo I can go in, go browse.\n\n402\n00:20:09.560 --> 00:20:14.963\nI can go to let's say the C drive,\nand the C drive,\n\n403\n00:20:14.963 --> 00:20:21.139\nI could go in and specify that\nI want that to wind up in the,\n\n404\n00:20:21.139 --> 00:20:26.313\nlet's go in and\nlet's do the Help Desk folder.\n\n405\n00:20:26.313 --> 00:20:29.570\nJust obviously think about whatever\nyou would normally create that.\n\n406\n00:20:29.570 --> 00:20:32.835\nThe trick is you wanna create the folder\nahead of time cuz unlike many of those\n\n407\n00:20:32.835 --> 00:20:35.880\nwindows where you can go in, browse and\nit has an option to create a new folder,\n\n408\n00:20:35.880 --> 00:20:37.660\nso you can create the paths right there.\n\n409\n00:20:37.660 --> 00:20:40.110\nThis one doesn't give you that, you just\nhave to have a folder already there.\n\n410\n00:20:40.110 --> 00:20:43.220\nSo, just thinking ahead, you'd have to\njust make sure that you're familiar with\n\n411\n00:20:43.220 --> 00:20:45.410\nthat, but\nI'm just gonna randomly choose this one.\n\n412\n00:20:45.410 --> 00:20:47.030\nAll right, so do Help Desk.\n\n413\n00:20:47.030 --> 00:20:49.311\nAll right, so\nwe're gonna specify that, click OK.\n\n414\n00:20:49.311 --> 00:20:52.130\nNow, it says this target\npath is not a UNC path.\n\n415\n00:20:52.130 --> 00:20:56.090\nThis is not a valid local path at\nthe client folder redirection will fail.\n\n416\n00:20:56.090 --> 00:20:57.460\nAre you sure you wanna use this?\n\n417\n00:20:57.460 --> 00:21:00.570\nWell, it is a valid path on\nthe local on this machine, but\n\n418\n00:21:00.570 --> 00:21:02.240\nnot on every local client, right?\n\n419\n00:21:02.240 --> 00:21:03.840\nThis is the thing you\njust want to be aware of.\n\n420\n00:21:03.840 --> 00:21:05.040\nI'm just doing this for demo purposes.\n\n421\n00:21:05.040 --> 00:21:09.950\nBut, what I'm suggesting is, this is gonna\nget applied to every member of the domain,\n\n422\n00:21:09.950 --> 00:21:11.000\nright, as they log in.\n\n423\n00:21:11.000 --> 00:21:12.720\n&gt;&gt; And they're saying, hey,\nthere might not be a help folder.\n\n424\n00:21:12.720 --> 00:21:15.700\n&gt;&gt; There might not be a help desk\nfolder in the C on every machine, and\n\n425\n00:21:15.700 --> 00:21:17.530\nthat's gonna fail if that's the case.\n\n426\n00:21:17.530 --> 00:21:20.790\nDo you wanna do this, or\ndo you wanna make it a UNC,\n\n427\n00:21:20.790 --> 00:21:23.800\nwhere you redirect everybody back to\na file server, and that's the case.\n\n428\n00:21:23.800 --> 00:21:27.190\nSo you do have to think through\nthe logic of this and understand this.\n\n429\n00:21:27.190 --> 00:21:28.120\nFor general purposes,\n\n430\n00:21:28.120 --> 00:21:30.570\nI'm not concerned about it right now,\nI'm just showing it to you.\n\n431\n00:21:30.570 --> 00:21:33.592\nBut in the real world,\nI would wanna make this a UNC,\n\n432\n00:21:33.592 --> 00:21:38.571\nunless I had a folder in the root of every\nsystem through imaging most likely, right?\n\n433\n00:21:38.571 --> 00:21:42.451\nThat I was standardizing but had a folder\non every system in the C drive called\n\n434\n00:21:42.451 --> 00:21:46.575\nHelp Desk or called Profile or whatever,\nthat I knew would be there, that I could\n\n435\n00:21:46.575 --> 00:21:50.940\nmake it local cuz it would exist on\nevery machine, it wouldn't be a problem.\n\n436\n00:21:50.940 --> 00:21:53.620\nSo you gotta think about that and\njust make sure you're aware of that.\n\n437\n00:21:53.620 --> 00:21:55.430\nI'm gonna click yes just cuz\nI'm not worried about that.\n\n438\n00:21:55.430 --> 00:21:57.170\nAll right, so we're gonna hit apply here.\n\n439\n00:21:58.820 --> 00:22:00.900\nIt says here, just again warning.\n\n440\n00:22:00.900 --> 00:22:01.750\nNot a big deal.\n\n441\n00:22:01.750 --> 00:22:03.210\nWe're not doing something\nthat's gonna break it.\n\n442\n00:22:03.210 --> 00:22:06.654\nIt's just telling us if there are group\npolicy settings related to folder\n\n443\n00:22:06.654 --> 00:22:10.321\nredirection that do not apply to\nWindows 2000, 2000 Server, XP, or\n\n444\n00:22:10.321 --> 00:22:14.430\nWindows Server 2003, you will not be able\nto change any folder redirect settings in\n\n445\n00:22:14.430 --> 00:22:16.396\nthis group policy object from those OSs.\n\n446\n00:22:16.396 --> 00:22:17.666\nDo you want to continue?\n\n447\n00:22:17.666 --> 00:22:18.832\nNow it's interesting, right?\n\n448\n00:22:18.832 --> 00:22:21.363\nHere we are sitting in the middle,\n\n449\n00:22:21.363 --> 00:22:26.529\nto end of 2017 talking to you about this,\nworking on Server 16.\n\n450\n00:22:26.529 --> 00:22:30.866\nAnd yet we're still being prompted by\nMicrosoft to take notice of the fact, and\n\n451\n00:22:30.866 --> 00:22:35.400\nbe aware of the fact that operating\nsystems that are no longer under support.\n\n452\n00:22:35.400 --> 00:22:39.250\nThat had been retired officially, that we\nhave been told in no uncertain terms we\n\n453\n00:22:39.250 --> 00:22:42.530\nshould not use,\nbecause the security implications and\n\n454\n00:22:42.530 --> 00:22:46.880\nare no longer recommended or\neven allowed to be made available.\n\n455\n00:22:46.880 --> 00:22:48.080\nYou can't download them anymore.\n\n456\n00:22:48.080 --> 00:22:49.160\nYou can't use them.\n\n457\n00:22:49.160 --> 00:22:50.480\nAt your own peril you use them.\n\n458\n00:22:50.480 --> 00:22:52.270\nYou can't get patches for them anymore.\n\n459\n00:22:52.270 --> 00:22:55.700\nYet, so many companies still have\nthis infrastructure running so\n\n460\n00:22:55.700 --> 00:22:59.220\nmany years later that we're still having\nto contend with this issue and backwards\n\n461\n00:22:59.220 --> 00:23:03.120\ncompatibility even though we should've\nmoved away from this along time ago.\n\n462\n00:23:03.120 --> 00:23:05.292\nThere's a reason this morning\nshows up in other words.\n\n463\n00:23:05.292 --> 00:23:07.844\nNot because everybody\nout there got rid of XP,\n\n464\n00:23:07.844 --> 00:23:11.705\nbut quite the opposite because\nthere's still a very large percentage\n\n465\n00:23:11.705 --> 00:23:15.652\nof companies globally that run Windows XP,\nthat run Server 2003.\n\n466\n00:23:15.652 --> 00:23:19.190\nProbably not as much running 2000,\nbut certainly those two OS's.\n\n467\n00:23:19.190 --> 00:23:22.977\nWhen I talk to customers on a regular\nbasis, yeah no we still got XP machines\n\n468\n00:23:22.977 --> 00:23:26.011\nbecause our vendor has not migrated\nour app that runs there and\n\n469\n00:23:26.011 --> 00:23:27.195\nwe can't get rid of it.\n\n470\n00:23:27.195 --> 00:23:28.745\n&gt;&gt; Right.\n&gt;&gt; And we gotta use it because that's\n\n471\n00:23:28.745 --> 00:23:30.150\nthe only way we can run it.\n\n472\n00:23:30.150 --> 00:23:32.970\nSo this is a real issue for us and\nit continues to be even today.\n\n473\n00:23:32.970 --> 00:23:35.790\nThat's why we're seeing this\nwarning just so you know.\n\n474\n00:23:35.790 --> 00:23:37.570\nSo I'm gonna continue,\njust gonna click yes.\n\n475\n00:23:37.570 --> 00:23:38.170\nNo big deal.\n\n476\n00:23:39.300 --> 00:23:43.670\nClick OK, and I've gone ahead and\nI've set that up.\n\n477\n00:23:43.670 --> 00:23:47.560\nAnd so now I've gone in, and\nI've programmed that particular aspect.\n\n478\n00:23:47.560 --> 00:23:48.662\nAnd I could do the same thing here.\n\n479\n00:23:48.662 --> 00:23:52.793\nI could go to Start menu, and\nI could go to properties.\n\n480\n00:23:52.793 --> 00:23:54.050\nYou'll go in.\n\n481\n00:23:54.050 --> 00:23:56.150\nI can go in and set that up.\n\n482\n00:23:56.150 --> 00:23:59.490\nAnd then once I've done that,\nI can go in and activate settings here.\n\n483\n00:23:59.490 --> 00:24:00.292\nSo let me go in.\n\n484\n00:24:00.292 --> 00:24:02.399\nWe go to Target.\n\n485\n00:24:02.399 --> 00:24:06.886\nLet me Do that, let's specify that,\n\n486\n00:24:06.886 --> 00:24:13.630\nlet's do the root path as c:,\nwhat do we do, help desk?\n\n487\n00:24:13.630 --> 00:24:14.383\n&gt;&gt; Yes.\n\n488\n00:24:14.383 --> 00:24:17.152\n&gt;&gt; Do help desk.\n\n489\n00:24:19.780 --> 00:24:23.260\nThen once we put a path in,\nthe settings become available here.\n\n490\n00:24:23.260 --> 00:24:25.820\nSelect the re-direction settings for\nthe start menu.\n\n491\n00:24:25.820 --> 00:24:28.200\nGrant user exclusive\nrights to the start menu.\n\n492\n00:24:28.200 --> 00:24:30.410\nThey can or cannot do that on their own.\n\n493\n00:24:30.410 --> 00:24:34.630\nMove the contents of the start\nmenu to a new location.\n\n494\n00:24:34.630 --> 00:24:37.750\nAlso apply redirection to earlier OSs,\nyou can see that.\n\n495\n00:24:37.750 --> 00:24:41.180\nPolicy removal, leave the folder in\nthe new location when policy is removed.\n\n496\n00:24:41.180 --> 00:24:42.400\nThis one's important.\n\n497\n00:24:42.400 --> 00:24:46.020\nWhen we do red-irection, we have an option\nto put things back to where they were or\n\n498\n00:24:46.020 --> 00:24:48.220\nleave it where it was and\nremove the policy.\n\n499\n00:24:48.220 --> 00:24:53.240\nSo we have to think about that and\nunderstand that if we make not\n\n500\n00:24:53.240 --> 00:24:56.350\nan incorrect choice, but just perhaps the\nchoice that at the time makes sense, but\n\n501\n00:24:56.350 --> 00:25:01.360\nin a big sense later, that stuff may wind\nup in a permanently different directory.\n\n502\n00:25:01.360 --> 00:25:05.540\nFor permanently different location,\nthen the core root default OS or\n\n503\n00:25:05.540 --> 00:25:07.910\neven the installed image may put it to,\n\n504\n00:25:07.910 --> 00:25:11.640\nwe have to contend with that because we\nmay leave a system at a different state.\n\n505\n00:25:11.640 --> 00:25:13.670\nSo you know just think about that and\nkeep that in mind.\n\n506\n00:25:13.670 --> 00:25:16.380\nSo got some settings here,\nlet's go ahead and apply that.\n\n507\n00:25:16.380 --> 00:25:18.530\nSame warning, no big deal.\n\n508\n00:25:18.530 --> 00:25:22.200\nSame warning about the target UNC\nbeing used versus local path.\n\n509\n00:25:22.200 --> 00:25:24.150\nSo you could see, I could kinda\nwalk through the logic of this.\n\n510\n00:25:24.150 --> 00:25:29.142\nDo the same thing with Pictures,\nDocuments, Music, Video, Favorites,\n\n511\n00:25:29.142 --> 00:25:31.723\nContacts, Downloads, Saved Games.\n\n512\n00:25:31.723 --> 00:25:33.860\nYou shouldn't be having those in\na corporate environment anyway, but\n\n513\n00:25:33.860 --> 00:25:34.720\nyou get the idea.\n\n514\n00:25:34.720 --> 00:25:38.830\nAll of those folders are all\naspects of the group policy\n\n515\n00:25:38.830 --> 00:25:42.770\nmanagement capabilities applied to\nthe profile through folder redirection.\n\n516\n00:25:42.770 --> 00:25:45.800\nWe can go in and\nwe can do all of that from here.\n\n517\n00:25:45.800 --> 00:25:46.660\nWho thought?\n\n518\n00:25:46.660 --> 00:25:47.240\nWho would have known?\n\n519\n00:25:47.240 --> 00:25:50.170\nAnd yet, for\nyears we've had this capability.\n\n520\n00:25:50.170 --> 00:25:52.470\nWe've had this in one form or\nanother since Windows 2000.\n\n521\n00:25:52.470 --> 00:25:56.040\nThey voted to go in and modify\nthrough policy, the redirection there.\n\n522\n00:25:56.040 --> 00:25:57.760\nAnd in case you're not familiar with them,\nand\n\n523\n00:25:57.760 --> 00:26:01.000\nthis is one of those really cool things\nthat I talk to customers about all time,\n\n524\n00:26:01.000 --> 00:26:02.910\ntalk to student about when I'm teaching.\n\n525\n00:26:02.910 --> 00:26:06.020\nQuite often I pointed out, and\na lot of people say, I know about that.\n\n526\n00:26:06.020 --> 00:26:08.370\nBut a lot of people say,\nI never knew that was out there.\n\n527\n00:26:08.370 --> 00:26:10.230\nNever knew that this was available.\n\n528\n00:26:10.230 --> 00:26:13.670\nWow, this would have saved me so much time\nand trouble if I'd only known about it.\n\n529\n00:26:13.670 --> 00:26:15.710\nAnd I bet you want me to tell you\nwhat it is, but I'm not going to.\n\n530\n00:26:15.710 --> 00:26:16.500\nI'm gonna keep it a secret.\n\n531\n00:26:16.500 --> 00:26:17.960\nDo you know what it is?\n\n532\n00:26:17.960 --> 00:26:18.910\n&gt;&gt; What, with the redirection?\n\n533\n00:26:18.910 --> 00:26:19.600\n&gt;&gt; You have no clue.\n\n534\n00:26:19.600 --> 00:26:20.490\nNo, not with redirection.\n\n535\n00:26:20.490 --> 00:26:24.770\nSomething specific that will help us to\nunderstand not just these settings, but\n\n536\n00:26:24.770 --> 00:26:25.820\nall the good policy settings.\n\n537\n00:26:25.820 --> 00:26:26.910\nYou and I have talked about it before.\n\n538\n00:26:26.910 --> 00:26:28.870\nYou may not be remembering\nwhat I'm talking about, so\n\n539\n00:26:28.870 --> 00:26:30.197\nit's unfair to put on the spot.\n\n540\n00:26:30.197 --> 00:26:31.377\n&gt;&gt; I have no clue what he's talking about,\nyeah.\n\n541\n00:26:31.377 --> 00:26:32.520\n[LAUGH]\n&gt;&gt; But what I'm talking\n\n542\n00:26:32.520 --> 00:26:35.620\nabout are the Microsoft policy spread\nsheets, the reference sheets for\n\n543\n00:26:35.620 --> 00:26:37.540\ngroup policy that Microsoft puts out.\n\n544\n00:26:37.540 --> 00:26:39.810\nThey have them out there for\nevery operating system.\n\n545\n00:26:39.810 --> 00:26:41.530\nYou don't really see them anymore for\n2000.\n\n546\n00:26:41.530 --> 00:26:45.440\nBut starting with 2000 all the way forward\nthey publish a set of spreadsheets\n\n547\n00:26:45.440 --> 00:26:46.720\nthat are available that you can download.\n\n548\n00:26:46.720 --> 00:26:47.320\nThey're free.\n\n549\n00:26:47.320 --> 00:26:49.820\nGo to the microsoft.com download site.\n\n550\n00:26:49.820 --> 00:26:51.520\nSearch group policies settings.\n\n551\n00:26:51.520 --> 00:26:54.080\nYou can even just Google directly\nfrom outside of Microsoft.\n\n552\n00:26:54.080 --> 00:26:57.135\nYou will get a link that takes\nyou to the download site and\n\n553\n00:26:57.135 --> 00:27:01.040\nthere's a collection of spreadsheets\nby OS, both client and server.\n\n554\n00:27:01.040 --> 00:27:06.047\nSo Windows 8, Windows 8.1, server 12,\n12r2, Windows 10, Server 16,\n\n555\n00:27:06.047 --> 00:27:10.174\netc, and each one has a collection of\nall of the group policy settings for\n\n556\n00:27:10.174 --> 00:27:13.354\nall aspects of group policy,\nnot just this one thing but\n\n557\n00:27:13.354 --> 00:27:17.300\nthe 5,000 or so settings that\nare available now in Server 16.\n\n558\n00:27:17.300 --> 00:27:21.028\nThey're all listed, documents what each\nsetting is, the register key it effects,\n\n559\n00:27:21.028 --> 00:27:21.908\nhow it's applied,\n\n560\n00:27:21.908 --> 00:27:25.370\nwhat OS as it applies to,\nif it's backwards compatible how it works.\n\n561\n00:27:25.370 --> 00:27:27.650\nWealth of information\nin these spreadsheets.\n\n562\n00:27:27.650 --> 00:27:29.590\nDefinitely go out and\ntake a look for them.\n\n563\n00:27:29.590 --> 00:27:31.150\nNot pertinent for exam preparation.\n\n564\n00:27:31.150 --> 00:27:32.030\nWant to be clear.\n\n565\n00:27:32.030 --> 00:27:32.860\nNo extra homework here.\n\n566\n00:27:32.860 --> 00:27:34.610\nDon't have to spend\nextra time reading them.\n\n567\n00:27:34.610 --> 00:27:37.250\nBut for the real world\nworking in this environment.\n\n568\n00:27:37.250 --> 00:27:39.270\nUnderstanding how these settings work and\n\n569\n00:27:39.270 --> 00:27:43.170\nknowing about them to do your job,\nan incredible tool in resource you really\n\n570\n00:27:43.170 --> 00:27:45.240\nare going to find it hard to live\nwithout once you start using them.\n\n571\n00:27:45.240 --> 00:27:47.410\nSo, you definitely want to take a look for\nthose.\n\n572\n00:27:47.410 --> 00:27:49.890\nReally powerful set of tools\nthat Microsoft made available.\n\n573\n00:27:49.890 --> 00:27:52.480\nThey're a well kept secret, they just\ndon't really tell you they're there.\n\n574\n00:27:52.480 --> 00:27:53.940\n&gt;&gt; I think that I do remember\nyou showing [CROSSTALK].\n\n575\n00:27:53.940 --> 00:27:56.229\nI'm going to have to check\nmy bookmarks bar now, yeah,\n\n576\n00:27:56.229 --> 00:27:57.600\nbecause I never revisited that.\n\n577\n00:27:57.600 --> 00:28:00.010\n&gt;&gt; Yeah, just go in and all you have\nto do is just go search for them.\n\n578\n00:28:00.010 --> 00:28:01.740\nLike I said they're\navailable free of charge.\n\n579\n00:28:01.740 --> 00:28:04.260\nAnd actually these days I think\nthey bundle them in sets.\n\n580\n00:28:04.260 --> 00:28:07.120\nYou could download like all of\nthe ones going back to 2008 or\n\n581\n00:28:07.120 --> 00:28:10.650\nwhatever it is that's the most\nrecently supported OS Forward.\n\n582\n00:28:10.650 --> 00:28:12.100\nYou used to have to download\nthem individually and\n\n583\n00:28:12.100 --> 00:28:13.950\nI think you still can, but\nthey actually have a bundle,\n\n584\n00:28:13.950 --> 00:28:15.960\nwhere you can just get them as a zip and\nyou bring them all down, as well.\n\n585\n00:28:15.960 --> 00:28:17.460\n&gt;&gt; Perfect.\nI'll just add that to my digital\n\n586\n00:28:17.460 --> 00:28:18.545\nhoarding collection.\n\n587\n00:28:18.545 --> 00:28:20.250\n[LAUGH]\n&gt;&gt; There you go, exactly.\n\n588\n00:28:20.250 --> 00:28:23.150\nIt's gonna be a show on Lifetime or\nor something for\n\n589\n00:28:23.150 --> 00:28:25.315\npeople with that issue like you.\n\n590\n00:28:25.315 --> 00:28:26.340\n&gt;&gt; [LAUGH]\n&gt;&gt; All right so\n\n591\n00:28:26.340 --> 00:28:28.710\none other thing about user templates.\n\n592\n00:28:28.710 --> 00:28:34.270\nI showed you how to create a user from\nanother user essentially just by copying.\n\n593\n00:28:34.270 --> 00:28:38.185\nBut what we may wanna do is create that\naccount in such a way that we know it's\n\n594\n00:28:38.185 --> 00:28:41.541\na template, or what we would wanna\ndo there is we wanna go ahead,\n\n595\n00:28:41.541 --> 00:28:45.456\nwant to disable the account that we're\ngonna use as a template account, so\n\n596\n00:28:45.456 --> 00:28:46.720\nno one uses it to log on.\n\n597\n00:28:46.720 --> 00:28:50.873\nA good security vest practice, and another\nvest practice that may be valuable,\n\n598\n00:28:50.873 --> 00:28:55.210\nand I've just found this from doing this\nover the years, in addition to doing that,\n\n599\n00:28:55.210 --> 00:28:56.825\njust gonna click rename here.\n\n600\n00:28:58.869 --> 00:29:01.830\nWhat you also want to do is put\nan underscore at the front of the name.\n\n601\n00:29:01.830 --> 00:29:02.870\nI know it's kind of hard to see, but\n\n602\n00:29:02.870 --> 00:29:05.420\nI've just put an underscore at\nthe front of the name, there.\n\n603\n00:29:05.420 --> 00:29:07.590\nI'm going to put an underscore there,\nright?\n\n604\n00:29:07.590 --> 00:29:09.850\nYou could see it right up there.\n\n605\n00:29:09.850 --> 00:29:13.870\nBecause, when I do that, what it's going\nto do is force that user account to show\n\n606\n00:29:13.870 --> 00:29:17.720\nup at the very top of my user list,\nbecause as we alphabetize, and\n\n607\n00:29:17.720 --> 00:29:19.330\nlist users alphanumeric.\n\n608\n00:29:19.330 --> 00:29:22.070\nSpecial characters are gonna\nshow up before anything else.\n\n609\n00:29:22.070 --> 00:29:23.873\nAnd so as a result, when I do that,\n\n610\n00:29:23.873 --> 00:29:27.880\nI'm gonna have my template user accounts\nat the top of the list all the time.\n\n611\n00:29:27.880 --> 00:29:30.720\nWhen you've got 5 or 10 or\n20 or 30 users, no big deal.\n\n612\n00:29:30.720 --> 00:29:35.060\nYou got an AD with thousands of users, and\nyou gotta template user called, you know,\n\n613\n00:29:35.060 --> 00:29:35.950\nIT help desk.\n\n614\n00:29:35.950 --> 00:29:37.440\nIn the middle of that list.\n\n615\n00:29:37.440 --> 00:29:39.950\nIt's gonna be a bit of a chore for\nyou to search for it, right?\n\n616\n00:29:39.950 --> 00:29:44.180\nSo instead, why not put an underscore\nthere, force it to the top of the list?\n\n617\n00:29:44.180 --> 00:29:47.080\nYou have five or six of them,\nyou got all your accounts right there.\n\n618\n00:29:47.080 --> 00:29:50.430\nAnd then, of course,\nif you do what we also suggest, go in and\n\n619\n00:29:50.430 --> 00:29:51.290\ndisable the account.\n\n620\n00:29:51.290 --> 00:29:53.380\nWe don't even need to go\nto the properties to that.\n\n621\n00:29:53.380 --> 00:29:55.760\nYou'll notice right there,\njust right-click on the user,\n\n622\n00:29:55.760 --> 00:29:57.030\nright from the menu.\n\n623\n00:29:57.030 --> 00:29:59.690\nI don't have to go in and\ncheck off the disabled account box.\n\n624\n00:29:59.690 --> 00:30:02.260\nI could do it that way, but\nwhy don't I just do it right from here?\n\n625\n00:30:02.260 --> 00:30:05.820\nDisable the account, and\nthen the account has now been disabled.\n\n626\n00:30:05.820 --> 00:30:07.130\nNow I know it's kinda hard to see, but\n\n627\n00:30:07.130 --> 00:30:09.580\nthere is a change in the icon for\nthe user.\n\n628\n00:30:09.580 --> 00:30:14.250\nIf you look at share B here,\nthat user is an active user.\n\n629\n00:30:14.250 --> 00:30:16.330\nThe Atom G underscore, Atom G account,\n\n630\n00:30:16.330 --> 00:30:19.500\nthe guest account as well down\nhere natively is disabled.\n\n631\n00:30:19.500 --> 00:30:22.950\nIt's got a little white circle on the\nright hand side of the arrow pointing down\n\n632\n00:30:22.950 --> 00:30:24.820\nit's red but\nit shows you that it's disabled.\n\n633\n00:30:24.820 --> 00:30:28.680\nSo visually you could see the accounts\nhave been disabled as well.\n\n634\n00:30:28.680 --> 00:30:30.710\nAnd so\nthat's just something else to consider.\n\n635\n00:30:30.710 --> 00:30:33.490\nBut just keep that in mind,\nthat may just be a helpful little hint for\n\n636\n00:30:33.490 --> 00:30:36.510\nyou with regards how to\nmanage user templates.\n\n637\n00:30:36.510 --> 00:30:40.410\nI did talk about when we did the copy over\nwith the templates that I showed you some\n\n638\n00:30:40.410 --> 00:30:43.460\ninformation was copied, some was not.\n\n639\n00:30:43.460 --> 00:30:46.480\nTalk about specifically what is and\nis not quickly and wrapped up.\n\n640\n00:30:46.480 --> 00:30:50.410\nWhat is going to be part of the new user\naccount as recreated from a template\n\n641\n00:30:50.410 --> 00:30:54.050\ngroup memberships, home directories,\nprofile settings logout strips.\n\n642\n00:30:54.050 --> 00:30:57.930\nI showed you across settings logon\nscripts aspect that did copy over.\n\n643\n00:30:57.930 --> 00:30:59.420\nLogon hours.\n\n644\n00:30:59.420 --> 00:31:02.540\nPassword settings, department name and\nmanager, believe it or not.\n\n645\n00:31:02.540 --> 00:31:06.200\nAll those settings will be copied, will\nbecome part of the user deployment for\n\n646\n00:31:06.200 --> 00:31:07.180\nthe template.\n\n647\n00:31:07.180 --> 00:31:09.710\nBut you do want to make,\njust in your mind, a mental note.\n\n648\n00:31:09.710 --> 00:31:10.840\nIt is in the show notes for you.\n\n649\n00:31:10.840 --> 00:31:11.950\nGood to know that.\n\n650\n00:31:11.950 --> 00:31:13.970\nGreat Picked out a source for\nexam material.\n\n651\n00:31:13.970 --> 00:31:18.940\nHey, of this list of ten attributes\nwhich ones are going to wind up being\n\n652\n00:31:18.940 --> 00:31:21.510\nthe ones that get copied over\nwhen I use a user template.\n\n653\n00:31:21.510 --> 00:31:23.910\nYou should know what they are because\nyou may get asked about that.\n\n654\n00:31:23.910 --> 00:31:28.760\nAs a matter of fact, I can tell you going\nback probably five or six generations I've\n\n655\n00:31:28.760 --> 00:31:33.580\ntaken probably every exam Microsoft has\nput out on their platform on the server\n\n656\n00:31:33.580 --> 00:31:37.750\nand desktop sites since DOS since\nWindows 95, since the earliest days.\n\n657\n00:31:37.750 --> 00:31:38.820\nI've got every one of them.\n\n658\n00:31:38.820 --> 00:31:40.070\nAnd I've done every one of them.\n\n659\n00:31:40.070 --> 00:31:44.190\nI've seen a question similar to that\non almost every exam I've taken across\n\n660\n00:31:44.190 --> 00:31:45.130\nevery OS.\n\n661\n00:31:45.130 --> 00:31:48.210\nBecause that's something they continue\nto ask about in one form or another.\n\n662\n00:31:48.210 --> 00:31:51.160\nWhat are those directories\ngonna be looking like?\n\n663\n00:31:51.160 --> 00:31:52.550\nWhat's the default path?\n\n664\n00:31:52.550 --> 00:31:54.000\nWhat are the attributes that get copied?\n\n665\n00:31:54.000 --> 00:31:55.310\nWhich ones do not?\n\n666\n00:31:55.310 --> 00:31:56.480\nKnowing what they are.\n\n667\n00:31:56.480 --> 00:31:59.500\nWhat's that list in group policy\nof the 10 or 12 folders and\n\n668\n00:31:59.500 --> 00:32:02.410\nthe attributes I can use for\nfolder redirection of managed policy.\n\n669\n00:32:02.410 --> 00:32:04.600\nAll that's in our notes,\nyou should know all that,\n\n670\n00:32:04.600 --> 00:32:05.940\nit's gonna be very helpful for you, right.\n\n671\n00:32:05.940 --> 00:32:10.770\nYou have to provide, as you saw in the\nwizard, first name, last name, full name,\n\n672\n00:32:10.770 --> 00:32:12.050\nuser log on name, password.\n\n673\n00:32:12.050 --> 00:32:16.420\nAll that stuff's part of creating\nthe new user every time we do that.\n\n674\n00:32:16.420 --> 00:32:17.600\nFields that are not copied.\n\n675\n00:32:17.600 --> 00:32:20.090\nThings that do not get copied\nas part a template deployment.\n\n676\n00:32:20.090 --> 00:32:21.590\nThe office.\n\n677\n00:32:21.590 --> 00:32:22.780\nWhat office you're associated with.\n\n678\n00:32:22.780 --> 00:32:24.270\nThat's one of the property fields.\n\n679\n00:32:24.270 --> 00:32:26.070\nPhone numbers, street address, job title.\n\n680\n00:32:26.070 --> 00:32:27.120\nIf you think about it,\n\n681\n00:32:27.120 --> 00:32:32.420\nstuff that's unique to that particular\nuser that would probably have to change.\n\n682\n00:32:32.420 --> 00:32:33.700\nWe try not to copy.\n\n683\n00:32:33.700 --> 00:32:35.220\nThings like office phone numbers.\n\n684\n00:32:35.220 --> 00:32:37.850\nStreet address, job title,\nthat's something you're not copy,\n\n685\n00:32:37.850 --> 00:32:40.060\nyou wanna customize for every user.\n\n686\n00:32:40.060 --> 00:32:41.880\nSo that's not gonna get copied over.\n\n687\n00:32:41.880 --> 00:32:45.070\nSo just keep in mind that there\nare specific things that will,\n\n688\n00:32:45.070 --> 00:32:48.030\nspecific things that don't,\nas I trip over my tongue.\n\n689\n00:32:48.030 --> 00:32:50.570\nAnd so you do wanna make sure\nyou have a reference for that.\n\n690\n00:32:50.570 --> 00:32:52.320\nAnd I put all that in the show notes for\nyou.\n\n691\n00:32:52.320 --> 00:32:53.200\nMake sure you take a look.\n\n692\n00:32:53.200 --> 00:32:54.790\nVery, very important.\n\n693\n00:32:54.790 --> 00:32:55.810\n&gt;&gt; All right, sounds like a plan.\n\n694\n00:32:55.810 --> 00:32:58.890\nThank you for joining us today, Adam,\nand thank you for being here, as well.\n\n695\n00:32:58.890 --> 00:33:02.620\nBut we're not finished looking at our\ndifferent objects within ADDS, so\n\n696\n00:33:02.620 --> 00:33:04.090\nstay tuned for more information.\n\n697\n00:33:04.090 --> 00:33:06.540\nBut for this show,\nwe'll go ahead and sign out.\n\n698\n00:33:06.540 --> 00:33:08.080\nI've been your host, Cherokee Boose.\n\n699\n00:33:08.080 --> 00:33:09.715\n&gt;&gt; I am a user template.\n\n700\n00:33:09.715 --> 00:33:12.790\n&gt;&gt; [LAUGH] See you next\ntime here at ITProTV.\n\n701\n00:33:12.790 --> 00:33:15.393\nBye.\n\n702\n00:33:15.393 --> 00:33:22.422\n[MUSIC]\n\n703\n00:33:22.422 --> 00:33:27.340\nThank you for watching.\nITpro.tv\n\n",
          "vimeoId": "229130495"
        },
        {
          "description": "In this episode, Cherokee and Adam continue to examine AD DS Objects. Specifically, they take a look at AD DS Groups. Adam explains and demonstrate Distribution and Security groups. They also explain group scopes to help you logically create groups.",
          "length": "2292",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-3-managing_objects_in_ad_ds_pt3-081017.00_37_51_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-3-managing_objects_in_ad_ds_pt3-081017.00_37_51_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-3-managing_objects_in_ad_ds_pt3-081017.00_37_51_29.Still001-sm.jpg",
          "title": "Managing Objects in AD DS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:06.611\nWelcome to ITPRO.TV I'm your\nhost Don Pezet [CROSSTALK]\n\n2\n00:00:06.611 --> 00:00:08.274\n[MUSIC]\n\n3\n00:00:08.274 --> 00:00:11.385\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:11.385 --> 00:00:14.940\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n5\n00:00:14.940 --> 00:00:16.668\nI'm you're show host, Cherokee Boose.\n\n6\n00:00:16.668 --> 00:00:21.276\nIn this episode, we'll continue taking a\nlook at how to manage objects within ADDS,\n\n7\n00:00:21.276 --> 00:00:24.861\nspecifically we'll be looking at\nmanaging groups within ADDS and\n\n8\n00:00:24.861 --> 00:00:29.890\nback in studios with us today, we have Mr.\nAdam Gordon, how's it going today, Adam?\n\n9\n00:00:29.890 --> 00:00:33.399\n&gt;&gt; Going well, going well, excited to\ncontinue talking about ADDS, objects,\n\n10\n00:00:33.399 --> 00:00:35.860\nand specifically talking about groups.\n\n11\n00:00:35.860 --> 00:00:39.290\nWe've talked in a prior episode\nabout users, if you haven't seen\n\n12\n00:00:39.290 --> 00:00:41.920\nthat episode I encourage you as we\noften do to go back take a look.\n\n13\n00:00:41.920 --> 00:00:45.730\nWould be helpful just contextually to\nhave a sense of what we're doing and\n\n14\n00:00:45.730 --> 00:00:48.700\njumping back into the demo environment\nwith some of the user accounts already\n\n15\n00:00:48.700 --> 00:00:50.600\ncreated that we've been using.\n\n16\n00:00:50.600 --> 00:00:53.965\nSo we'll reference them our\nshare b user and _adamg or\n\n17\n00:00:53.965 --> 00:00:56.920\ntemplate users as we\ndid in a prior episode.\n\n18\n00:00:56.920 --> 00:01:01.680\nBut we've already talked about the concept\nof objects laid out the thought process of\n\n19\n00:01:01.680 --> 00:01:06.980\nbeing able to use a tool like the active\ndirectory uses and computers admin tool,\n\n20\n00:01:06.980 --> 00:01:12.070\nthe MMC snap in, to go into in this\ncase the practicelabs.com domain,\n\n21\n00:01:12.070 --> 00:01:15.310\nwhere we spent a time demoing and\nlook at both the OUs and\n\n22\n00:01:15.310 --> 00:01:18.980\nthe containers and we'll talk a bit more\nabout the difference between them here\n\n23\n00:01:18.980 --> 00:01:20.970\nover the next couple of conversations but\n\n24\n00:01:20.970 --> 00:01:24.340\nany of the folder objects that are there\njust generically for the moment.\n\n25\n00:01:24.340 --> 00:01:27.820\nAnd then being able to right click and\nuse the new menu and\n\n26\n00:01:27.820 --> 00:01:29.230\ncreate an object of some kind.\n\n27\n00:01:29.230 --> 00:01:32.473\nAnd we've talked about the object\ndefinitions residing in the schema,\n\n28\n00:01:32.473 --> 00:01:36.358\nwent through spoke about properties, spoke\nabout attributes, spoke about values,\n\n29\n00:01:36.358 --> 00:01:39.787\nkinda map that whole thing out, right,\nand went through the logic of that.\n\n30\n00:01:39.787 --> 00:01:43.507\nSo we're going to build on that,\nby going back in, and right clicking and\n\n31\n00:01:43.507 --> 00:01:46.975\nchoosing a new group, at this point,\nand creating a new group.\n\n32\n00:01:46.975 --> 00:01:49.705\nBut as we do that, what we wanna do,\nis just spend a couple of minutes talking\n\n33\n00:01:49.705 --> 00:01:51.917\nabout the different types\nof groups that exist.\n\n34\n00:01:51.917 --> 00:01:56.057\nWe have two groups that we can use, or\ncategories of groups that we can use,\n\n35\n00:01:56.057 --> 00:01:58.687\nwe have distribution groups,\nwe have security groups,\n\n36\n00:01:58.687 --> 00:02:03.037\nthe scope of the group, in terms of the\nkind of group that it is and what it does.\n\n37\n00:02:03.037 --> 00:02:07.147\nAnd then we have different types,\nwe have local groups, non-domain\n\n38\n00:02:07.147 --> 00:02:11.606\njoined workstations or standalone servers,\nwe have domain local groups,\n\n39\n00:02:11.606 --> 00:02:15.437\nthe same concept but on a domain-joined\nmachine, so just a local\n\n40\n00:02:15.437 --> 00:02:20.131\ngroup on a domain machine, we have global\ngroups and we have universal groups.\n\n41\n00:02:20.131 --> 00:02:23.980\nAnd we'll go through and just give you a\nquick summary overview thought process of\n\n42\n00:02:23.980 --> 00:02:27.437\nhow those groups operate what they\nare I'll show you how to create them and\n\n43\n00:02:27.437 --> 00:02:30.782\nalong the way, we'll talk about\nthe value of groups and why they're so\n\n44\n00:02:30.782 --> 00:02:33.690\nimportant to the thought\nprocess of administration.\n\n45\n00:02:33.690 --> 00:02:37.840\nYou as an IT professional,\nan MCSA, MCSE, or\n\n46\n00:02:37.840 --> 00:02:41.560\nperhaps somebody who's looking to become\na certified professional by doing this and\n\n47\n00:02:41.560 --> 00:02:44.420\nseveral other exams to get\ncertified in Server 16.\n\n48\n00:02:44.420 --> 00:02:48.170\nAnd certainly as somebody who does this\non a regular basis in the real world,\n\n49\n00:02:48.170 --> 00:02:52.630\nas many of you I'm sure do,\nyou have to think about the idea of hey,\n\n50\n00:02:52.630 --> 00:02:57.420\nhow do I take one or more users,\nhow do I assign permissions to them and\n\n51\n00:02:57.420 --> 00:03:00.950\nthen how do I leverage that thought\nprocess to be able to scale up.\n\n52\n00:03:00.950 --> 00:03:05.510\nBecause it's easy to take one or two users\nas we talked about in the last episode and\n\n53\n00:03:05.510 --> 00:03:08.820\nsay I'm gonna give permissions to\nthis user and have them do this.\n\n54\n00:03:08.820 --> 00:03:14.150\nMaybe we assign to the share b user\nthe permission to do backups and maybe\n\n55\n00:03:14.150 --> 00:03:20.070\nthe Adam G template user or the user Adam\nG gets the right to do restores, right?\n\n56\n00:03:20.070 --> 00:03:23.610\nAnd so we split up the responsibilities\nbut the chooser gets a certain set of\n\n57\n00:03:23.610 --> 00:03:27.690\nrights, permissions to carry out\nactivities and the ability to do so.\n\n58\n00:03:27.690 --> 00:03:28.780\nWhen we're only dealing with one or\n\n59\n00:03:28.780 --> 00:03:33.360\ntwo users it's relatively easy to keep\ntrack of all that, figure that out and\n\n60\n00:03:33.360 --> 00:03:37.660\nto have not only the documentation that we\nneed to understand that we did that, but\n\n61\n00:03:37.660 --> 00:03:41.970\nthe management oversight,\nthe governance, the risk compliance and\n\n62\n00:03:41.970 --> 00:03:47.380\nthe thought process to audit and to verify\nthat assuming we do this correctly and\n\n63\n00:03:47.380 --> 00:03:49.650\nwe follow industry best practices and\n\n64\n00:03:49.650 --> 00:03:53.190\nstandards that we often speak about\nto keep track of what's happening.\n\n65\n00:03:53.190 --> 00:03:57.567\nBut the challenge becomes when we go from\none or two users to one to two, 10 to 20,\n\n66\n00:03:57.567 --> 00:04:00.662\n100 to 200, 1,000 to 2,000, et cetera.\n\n67\n00:04:00.662 --> 00:04:03.930\nSo we scale up and scale out and\nin many of the businesses and\n\n68\n00:04:03.930 --> 00:04:08.266\norganizations all of you work for, I had\nmany of my customers that I spend time\n\n69\n00:04:08.266 --> 00:04:12.871\nwith, we're talking about hundreds or\nthousands, or tens of thousands of users\n\n70\n00:04:12.871 --> 00:04:17.611\nthat are under management traditionally,\nvery large enterprises and as a result,\n\n71\n00:04:17.611 --> 00:04:21.748\nit becomes impossible to manage on\na per user basis, this is just really,\n\n72\n00:04:21.748 --> 00:04:26.050\nnot only not acceptable, but\nit's an unrealistic expectation.\n\n73\n00:04:26.050 --> 00:04:29.950\nBecause it is very difficult to give\nwhat we would call a special grant or\n\n74\n00:04:29.950 --> 00:04:34.080\nan individual user right to one user and\nthen have to worry about documenting\n\n75\n00:04:34.080 --> 00:04:37.060\nall of that and then going back and\ntracking that over time.\n\n76\n00:04:37.060 --> 00:04:40.740\nNot to say that we don't assign\npermissions to users, we do that,\n\n77\n00:04:40.740 --> 00:04:45.500\ncertainly, but we see this thought\nprocess as being a special event,\n\n78\n00:04:45.500 --> 00:04:49.560\nkind of an exception that we do on\nrare occasions if there's a need.\n\n79\n00:04:49.560 --> 00:04:54.190\nBut normally, the operational modality we\nwould think of executing administration\n\n80\n00:04:54.190 --> 00:04:58.890\nunder, permission assignment under, really\nfalls at the footsteps of the group and\n\n81\n00:04:58.890 --> 00:05:02.410\nthe mentality of group management is\nwhat we really want to stress and\n\n82\n00:05:02.410 --> 00:05:04.360\nmake sure you're aware of\nas we get started here.\n\n83\n00:05:04.360 --> 00:05:08.350\nBecause using a group to bundle a bunch of\nusers together that would typically have\n\n84\n00:05:08.350 --> 00:05:11.590\nsimilar, or identical needs,\nfrom a permission and\n\n85\n00:05:11.590 --> 00:05:15.680\nfrom a management perspective,\nputting them into a single container,\n\n86\n00:05:15.680 --> 00:05:19.910\nthat can then assign permissions to\nthem by membership, or by grant of\n\n87\n00:05:19.910 --> 00:05:24.810\nmembership in the container, makes it so\nmuch easier for us, to be able to not only\n\n88\n00:05:24.810 --> 00:05:28.130\nensure that users get the permissions\nthey need, they do so correctly.\n\n89\n00:05:28.130 --> 00:05:31.764\nThere's really the ability to cut down on\nthe number of errors that may occur and\n\n90\n00:05:31.764 --> 00:05:35.940\nthis assignment of permissions are\nbecoming less likely because we're doing\n\n91\n00:05:35.940 --> 00:05:39.280\npolish assignment of one\ntime to the group instead of\n\n92\n00:05:39.280 --> 00:05:42.430\na hundred times to a hundred\nindividual users within the group.\n\n93\n00:05:42.430 --> 00:05:46.180\nSo the likelihood of an error\ngoes down dramatically and\n\n94\n00:05:46.180 --> 00:05:51.580\nit's much easier to audit, to track and\nto record and to report on that event.\n\n95\n00:05:51.580 --> 00:05:55.125\nWe can see it in if we have auditing\nturned on for these activities,\n\n96\n00:05:55.125 --> 00:05:59.510\nsee it in the security event log so\nwe could see evidence of the fact that we\n\n97\n00:05:59.510 --> 00:06:03.410\ngranted these permissions that\nare being used on an individual machine\n\n98\n00:06:03.410 --> 00:06:07.010\nacross multiple machines in the domain or\nthroughout the forest depending on what\n\n99\n00:06:07.010 --> 00:06:09.440\nwe're doing and kind of group\nwork granting permissions too.\n\n100\n00:06:09.440 --> 00:06:13.815\nWe can use third party software or\nbuilt in software that does this for us.\n\n101\n00:06:13.815 --> 00:06:17.810\nAnd it becomes easier to manage the\nassignment and also the removal of those\n\n102\n00:06:17.810 --> 00:06:22.135\npermissions to users because as we add\nthem into and hopefully if all goes well,\n\n103\n00:06:22.135 --> 00:06:26.805\ndecide because of whatever circumstantial\nreasons or managerial imperatives\n\n104\n00:06:26.805 --> 00:06:31.385\nthat we remove them from the group and put\nthem somewhere else, they are granted and\n\n105\n00:06:31.385 --> 00:06:34.940\nthen have those permissions removed\nfrom them in a seamless way.\n\n106\n00:06:34.940 --> 00:06:36.920\nWe don't have to worry\nabout that happening and\n\n107\n00:06:36.920 --> 00:06:39.990\nwe don't have to worry about\nwhether we did it on all 100 users.\n\n108\n00:06:39.990 --> 00:06:42.610\nWe just have to worry about pulling\nthe appropriate users in or\n\n109\n00:06:42.610 --> 00:06:44.030\nout of the group as needed.\n\n110\n00:06:44.030 --> 00:06:49.050\nSo this methodology, this thought process,\nthis idea of using groups to manage\n\n111\n00:06:49.050 --> 00:06:52.970\nreally sits at the heart of the best\npractice recommendations and\n\n112\n00:06:52.970 --> 00:06:54.350\nthe thought process that we've seen.\n\n113\n00:06:54.350 --> 00:06:56.090\nAnd this is not new, by the way.\n\n114\n00:06:56.090 --> 00:07:00.572\nThis is one of those thought processes\nthat goes all the way back to Windows NT\n\n115\n00:07:00.572 --> 00:07:04.820\n4, to the very first appearance of\ndomains, even though were not the active\n\n116\n00:07:04.820 --> 00:07:09.080\ndirectory based domains that we see today\nand think of, starting in Windows 2000.\n\n117\n00:07:09.080 --> 00:07:13.200\nBut this idea of putting user into groups,\nand\n\n118\n00:07:13.200 --> 00:07:16.650\nthen nesting groups traditionally,\nputting groups into other groups\n\n119\n00:07:16.650 --> 00:07:20.770\nto assign permissions at the appropriate\nlevel on the appropriate resources.\n\n120\n00:07:20.770 --> 00:07:24.780\nAnd then assigning permissions to\nthe group and having user inherit those\n\n121\n00:07:24.780 --> 00:07:29.060\npermissions is what we're talking about\nand this is an age old thought process and\n\n122\n00:07:29.060 --> 00:07:32.260\nthis is not just, by the way,\nlimited to Microsoft and Windows.\n\n123\n00:07:32.260 --> 00:07:36.040\nThis thought process exists in every\noperating system on the planet and\n\n124\n00:07:36.040 --> 00:07:39.757\nin every set of hardware and\nsoftware interactions we engage in around\n\n125\n00:07:39.757 --> 00:07:43.726\nassignment of user permissions if we\ndo so, you're following the general\n\n126\n00:07:43.726 --> 00:07:46.893\nthought process that we consider\nto be the standard today.\n\n127\n00:07:46.893 --> 00:07:49.360\nAll vendors support this in one for\nor another and\n\n128\n00:07:49.360 --> 00:07:53.757\nall vendors recommend this methodology as\na generic best practice implemented within\n\n129\n00:07:53.757 --> 00:07:56.785\nthe specificity of their interfaces,\nof course, right.\n\n130\n00:07:56.785 --> 00:08:00.432\nUsing the tools and the Graphical\ninterfaces that they may provide, but\n\n131\n00:08:00.432 --> 00:08:02.902\ngenerically the idea is still the same,\nright?\n\n132\n00:08:02.902 --> 00:08:05.240\nSo it's a very important thought process.\n\n133\n00:08:05.240 --> 00:08:09.040\nOne that also translates into\nexam preparation for you.\n\n134\n00:08:09.040 --> 00:08:12.487\nWe made this point in at least one\nof our other shows along the way.\n\n135\n00:08:12.487 --> 00:08:16.363\nCherokee and I both stress to you from\ntime to time how important it is to\n\n136\n00:08:16.363 --> 00:08:18.152\nprepare properly for the exam.\n\n137\n00:08:18.152 --> 00:08:21.260\nBut we went out of our way to call out\nthe fact that when you're preparing,\n\n138\n00:08:21.260 --> 00:08:23.740\nyou have to think about not\njust how to do something.\n\n139\n00:08:23.740 --> 00:08:27.880\nBut in order to do something successfully,\nto answer a question on the exam.\n\n140\n00:08:27.880 --> 00:08:29.480\nYou often have to think about,\n\n141\n00:08:29.480 --> 00:08:33.510\nwhat is going to be the most cost\neffective way to do something.\n\n142\n00:08:33.510 --> 00:08:38.310\nAnd that cost effectiveness ranking,\nrating, or thought process may include.\n\n143\n00:08:38.310 --> 00:08:41.050\nAmount of time taken to carry\nout an administrative activity.\n\n144\n00:08:41.050 --> 00:08:44.267\nSo what will be the activity that\ntakes the least amount of time,\n\n145\n00:08:44.267 --> 00:08:47.021\nthe path of least resistance,\nright, to get it done.\n\n146\n00:08:47.021 --> 00:08:50.610\nWhat may involve the resource allocation.\n\n147\n00:08:50.610 --> 00:08:53.630\nSo how many resources do I need\nto pull in to get this done?\n\n148\n00:08:53.630 --> 00:08:56.672\nI could do it this way, but\nit'll take me five steps and\n\n149\n00:08:56.672 --> 00:08:59.659\nI will need three other people or\nI can do it over here.\n\n150\n00:08:59.659 --> 00:09:02.259\nWe are taking four steps and\nI can do it myself and\n\n151\n00:09:02.259 --> 00:09:06.470\nthe idea will be which answer makes\nmore sense, which is more correct.\n\n152\n00:09:06.470 --> 00:09:10.207\nAnd we both have told you we both agree\nthat the answer that will be the best\n\n153\n00:09:10.207 --> 00:09:13.822\nanswer to that kind of a scenario is\nthe one that have the least number of\n\n154\n00:09:13.822 --> 00:09:16.480\nsteps and\ninvolves the least amount of resources.\n\n155\n00:09:16.480 --> 00:09:19.404\nBecause that's gonna be from\nan administration standpoint,\n\n156\n00:09:19.404 --> 00:09:21.330\nthe best way to get the job done.\n\n157\n00:09:21.330 --> 00:09:24.280\nSo you have to be thinking about\nthese things as you prepare to study,\n\n158\n00:09:24.280 --> 00:09:26.580\nbecause these are important\nnot only tips for\n\n159\n00:09:26.580 --> 00:09:29.440\nyou, they also translate\ninto real world advantage.\n\n160\n00:09:29.440 --> 00:09:34.367\nIf you are competing to get a job done, or\nan employer is looking at two people that\n\n161\n00:09:34.367 --> 00:09:38.366\nthey may hire, or looking at people\nwith similar sets of skills.\n\n162\n00:09:38.366 --> 00:09:40.082\nAnd who's gonna get that promotion or\n\n163\n00:09:40.082 --> 00:09:42.375\nwho's gonna be the best person for\nthe job.\n\n164\n00:09:42.375 --> 00:09:46.405\nAnd they give you some sort of\npractical hands on, examination.\n\n165\n00:09:46.405 --> 00:09:47.805\nWhich is very common today in IT,\n\n166\n00:09:47.805 --> 00:09:50.815\nthis is not something that\nis unusual by any means.\n\n167\n00:09:50.815 --> 00:09:53.826\nAnd as a result,\nskill based testing for job placement,\n\n168\n00:09:53.826 --> 00:09:55.531\nskill based interviews today.\n\n169\n00:09:55.531 --> 00:09:58.513\nBecoming very prevalent in our\nindustry depending on what you do,\n\n170\n00:09:58.513 --> 00:10:02.185\nif you're the person who comes out of\nthe gate and says, boom, boom, boom,\n\n171\n00:10:02.185 --> 00:10:03.319\nI got it done here you go.\n\n172\n00:10:03.319 --> 00:10:07.566\nAnd you solve that problem and do not\nonly the best solution possible, but\n\n173\n00:10:07.566 --> 00:10:11.180\nyou'd use the one that's\ngonna be most cost effective.\n\n174\n00:10:11.180 --> 00:10:13.620\nAnd the least impactful\nto the organization.\n\n175\n00:10:13.620 --> 00:10:15.200\nThat's the one that's gonna stand out and\n\n176\n00:10:15.200 --> 00:10:17.090\nthat's what most employers are looking for\ntoday.\n\n177\n00:10:17.090 --> 00:10:19.790\nSo it is just some thoughts to\nthink of as we get started here.\n\n178\n00:10:19.790 --> 00:10:23.439\nI don't know if you wanna add anything\nwhile I move over to the demo environment.\n\n179\n00:10:23.439 --> 00:10:26.840\nWe just bring up the interface and start\ntalking, but I know you normally have\n\n180\n00:10:26.840 --> 00:10:29.926\na few thoughts you like to share\naround this kind of a thought process,\n\n181\n00:10:29.926 --> 00:10:32.307\nreinforcing that idea of\nexam preparation and such.\n\n182\n00:10:32.307 --> 00:10:33.850\n&gt;&gt; Well, I agree with everything you said.\n\n183\n00:10:33.850 --> 00:10:37.090\nI think it's a perfect way to go ahead and\norganize and manage.\n\n184\n00:10:37.090 --> 00:10:38.280\nEverything you said was great.\n\n185\n00:10:38.280 --> 00:10:39.640\nSo all of these wonderful benefits.\n\n186\n00:10:39.640 --> 00:10:41.514\nIt just kind of bodes well within and\n\n187\n00:10:41.514 --> 00:10:45.220\njust fits together with the structure\nof an organizations anyways.\n\n188\n00:10:45.220 --> 00:10:48.960\nA lot of times we look at roles and\ncategorize, organize,\n\n189\n00:10:48.960 --> 00:10:52.180\nemployees accordingly and\nthis just fits perfectly with that.\n\n190\n00:10:52.180 --> 00:10:55.685\nSo Adam, what are some other things that\nwe need to consider before I just go\n\n191\n00:10:55.685 --> 00:10:57.335\nrandomly creating groups.\n\n192\n00:10:57.335 --> 00:10:59.875\n&gt;&gt; Well that's a great question,\nso let's actually take a look.\n\n193\n00:10:59.875 --> 00:11:02.002\nInstead of just telling you about\nthem let's actually show them to you.\n\n194\n00:11:02.002 --> 00:11:04.395\nSo join me here, we're gonna go\nback into our demo environment.\n\n195\n00:11:04.395 --> 00:11:06.945\nWe're in the practicelabs.com\ndomain as you can see.\n\n196\n00:11:06.945 --> 00:11:09.855\nI'm using the Active Directory users and\ncomputers tool, just so\n\n197\n00:11:09.855 --> 00:11:10.515\nyou know where we are.\n\n198\n00:11:10.515 --> 00:11:13.555\nRemember we go to server manager,\nwe open that from the tools menu.\n\n199\n00:11:13.555 --> 00:11:17.045\nAmong the many tools that are there, it's\nusually right up at the top alphabetized.\n\n200\n00:11:17.045 --> 00:11:18.250\nSo you'll see it near the top.\n\n201\n00:11:18.250 --> 00:11:21.990\nRemember we have talked about the use\nof other tools that can do this, ADAAC,\n\n202\n00:11:21.990 --> 00:11:24.680\nthe Active Directory Administration\nAdministrative Center,\n\n203\n00:11:24.680 --> 00:11:25.680\nthe administrative tool.\n\n204\n00:11:25.680 --> 00:11:28.942\nIs their we could do, what I'm about\nto show you in there as well, so\n\n205\n00:11:28.942 --> 00:11:30.750\nyou have a couple of options.\n\n206\n00:11:30.750 --> 00:11:36.470\nWe can use a command line, windows command\nline, use DSADD, DSMOD command line tools.\n\n207\n00:11:36.470 --> 00:11:38.690\nYou can use PowerShell\nto do the same thing.\n\n208\n00:11:38.690 --> 00:11:43.224\nSo we got at least four ways, just built\ninto Microsoft's own operating system and\n\n209\n00:11:43.224 --> 00:11:44.210\ntool set itself.\n\n210\n00:11:44.210 --> 00:11:47.202\nNot to mention, all the third party\ntools that will leverage one or\n\n211\n00:11:47.202 --> 00:11:49.885\nmore of those options with their\nown interfaces to do this.\n\n212\n00:11:49.885 --> 00:11:52.257\nBut I'm kinda a traditionalist.\n\n213\n00:11:52.257 --> 00:11:56.057\nSo I'm gonna go with the old\ngoody Active Directory user and\n\n214\n00:11:56.057 --> 00:11:58.235\ncomputer management tool.\n\n215\n00:11:58.235 --> 00:12:00.835\nI'm in the users container right here.\n\n216\n00:12:00.835 --> 00:12:03.625\nI could go to any container, for\nthe most part, and do this, but\n\n217\n00:12:03.625 --> 00:12:06.067\nI'm gonna just keep everything\ntogether in one place.\n\n218\n00:12:06.067 --> 00:12:08.310\nIt's easy just to know where we are,\nwhat we're doing.\n\n219\n00:12:08.310 --> 00:12:12.097\nYou'll see that, before we get started\nwith right clicking and creating a group,\n\n220\n00:12:12.097 --> 00:12:14.749\nwe'll walk through the answer\nto Cherokee's question,\n\n221\n00:12:14.749 --> 00:12:16.551\nwhat do we need to know, how do we do it?\n\n222\n00:12:16.551 --> 00:12:18.860\nBut you'll see that we do\nhave groups created already.\n\n223\n00:12:18.860 --> 00:12:23.010\nOf the individual user icons,\nthe one user is the user icon.\n\n224\n00:12:23.010 --> 00:12:24.230\nThe double headed user,\n\n225\n00:12:24.230 --> 00:12:26.980\nkind of the two users standing\nside by side is the group icon.\n\n226\n00:12:26.980 --> 00:12:28.890\nAnd you can see there's\na series of groups here.\n\n227\n00:12:30.150 --> 00:12:33.370\nMany of them as you will see will have\n\n228\n00:12:33.370 --> 00:12:36.590\neither the words domain local as I\nmentioned one of the group types.\n\n229\n00:12:36.590 --> 00:12:40.103\nYou'll see there are some\nglobal groups here as well.\n\n230\n00:12:40.103 --> 00:12:43.880\nYou'll see we do have universal,\nthree of the four group types I mentioned.\n\n231\n00:12:43.880 --> 00:12:46.750\nThe one we won't see here,\nbecause this is a domain controller,\n\n232\n00:12:46.750 --> 00:12:49.520\nwill be the local group, because we won't\nsee those on the domain controller,\n\n233\n00:12:49.520 --> 00:12:51.870\nwe see the domain local as the equivalent.\n\n234\n00:12:51.870 --> 00:12:54.440\nBut if you logged into a workstation or\na standalone machine,\n\n235\n00:12:54.440 --> 00:12:57.170\nwe would see the local group\nas opposed to domain local.\n\n236\n00:12:57.170 --> 00:13:00.384\nSo there are a total of four\ngroup types that we will see.\n\n237\n00:13:00.384 --> 00:13:02.654\nAnd then the scope of the group.\n\n238\n00:13:02.654 --> 00:13:05.774\nWe have security group here,\nwe don't have a distribution group, but\n\n239\n00:13:05.774 --> 00:13:08.750\nwe can have either a security group or\na distribution group.\n\n240\n00:13:08.750 --> 00:13:11.850\nDistribution groups are traditionally\ncreated to be able to,\n\n241\n00:13:11.850 --> 00:13:15.960\nas the name would imply and hopefully make\nyou think of for use with email systems.\n\n242\n00:13:15.960 --> 00:13:18.950\nSo I have ten users,\nput them in a distribution group.\n\n243\n00:13:18.950 --> 00:13:21.290\nI send an email to the group.\n\n244\n00:13:21.290 --> 00:13:23.610\nThe expansion list capability for\n\n245\n00:13:23.610 --> 00:13:26.390\nthe distribution group on\nthe mail server kicks in.\n\n246\n00:13:26.390 --> 00:13:28.790\nAnd we then read the membership list.\n\n247\n00:13:28.790 --> 00:13:31.792\nAnd we send copies of, or\nmake copies available,\n\n248\n00:13:31.792 --> 00:13:36.656\nto the ten users as supposed to having\naddress the email to ten individual users.\n\n249\n00:13:36.656 --> 00:13:40.790\nWhat a traditional role and thought\nprocess word distribution would be.\n\n250\n00:13:40.790 --> 00:13:44.040\nSecurity groups are the traditional\ngroup that is created,\n\n251\n00:13:44.040 --> 00:13:47.280\ndoes all the heavy lifting,\ndoes essentially.\n\n252\n00:13:47.280 --> 00:13:51.554\nAlmost everything we can think of in\nthe Active Directory in day-to-day,\n\n253\n00:13:51.554 --> 00:13:52.380\nmoment to moment.\n\n254\n00:13:52.380 --> 00:13:56.090\nAdministration of resources, all of\nthat is done through security groups.\n\n255\n00:13:56.090 --> 00:14:00.680\nThe default group, when we create groups,\nthe type destination is security group.\n\n256\n00:14:00.680 --> 00:14:03.090\nBut we can change that,\nwe'll see that in the wizard.\n\n257\n00:14:03.090 --> 00:14:06.140\nSo probably the first thing I'd put on\nthe list, to answer Cherokee's question,\n\n258\n00:14:06.140 --> 00:14:09.570\nis know whether we need a security\ngroup or a distribution group, right?\n\n259\n00:14:09.570 --> 00:14:12.340\nBased on role, based on function,\nbased on what we wanna do and\n\n260\n00:14:12.340 --> 00:14:15.290\nthen the second thing would be,\nwhat specific kind of group?\n\n261\n00:14:15.290 --> 00:14:18.370\nDo we want a domain local,\nglobal or universal group?\n\n262\n00:14:18.370 --> 00:14:21.280\nAnd we'll walk through the differences\nhere just to make sure I understand some\n\n263\n00:14:21.280 --> 00:14:24.560\nof the subtle distinctions,\nthat may help us to make that a decision\n\n264\n00:14:24.560 --> 00:14:27.760\nas we bring up the wizard and\nwe take a look.\n\n265\n00:14:27.760 --> 00:14:31.484\nMiss Cherokee, you were signaling me off\nin the corner of my eye, caught you there.\n\n266\n00:14:31.484 --> 00:14:32.520\n&gt;&gt; Yeah.\n&gt;&gt; What did you wanna add?\n\n267\n00:14:32.520 --> 00:14:36.370\nLet me just bring up a hey, new wizard,\nnew group option while we're talking.\n\n268\n00:14:36.370 --> 00:14:38.390\nSo we continue our conversations here.\n\n269\n00:14:38.390 --> 00:14:41.610\n&gt;&gt; Well, what if I'm just not 100%\nsure if I want a security group,\n\n270\n00:14:41.610 --> 00:14:44.380\na distribution group, is this\nsomething that's etched in stone or\n\n271\n00:14:44.380 --> 00:14:47.190\ncan I go back and change it at\na later date if I choose to do so?\n\n272\n00:14:47.190 --> 00:14:49.380\nI mean how serious is\nthis step right here?\n\n273\n00:14:49.380 --> 00:14:53.070\n&gt;&gt; Very serious,\nchoose wisely, young padawan.\n\n274\n00:14:53.070 --> 00:14:55.400\nSo let's take a look at that real\nquick by way of creating a group.\n\n275\n00:14:55.400 --> 00:14:56.730\nSo let's create our group.\n\n276\n00:14:56.730 --> 00:14:58.930\nWhat do we wanna call our group,\nwhat's the group name gonna be?\n\n277\n00:14:59.930 --> 00:15:00.588\n&gt;&gt; Goodness.\n\n278\n00:15:00.588 --> 00:15:02.265\n&gt;&gt; Goodness,\nthat's the name of the group you want?\n\n279\n00:15:02.265 --> 00:15:04.352\nOkay, I can do that.\n\n280\n00:15:04.352 --> 00:15:07.920\nOn the spot, no pressure, only 30\nminutes for the episode but no pressure,\n\n281\n00:15:07.920 --> 00:15:08.746\nwhat did you say?\n\n282\n00:15:08.746 --> 00:15:10.713\n&gt;&gt; Insync to go with our\nother characters out there.\n\n283\n00:15:10.713 --> 00:15:13.729\n&gt;&gt; All right, so\nwe'll do Insync for the group okay.\n\n284\n00:15:13.729 --> 00:15:16.403\nSo Insync, see, we gave it a name.\n\n285\n00:15:16.403 --> 00:15:18.669\nAnd then, you'll see group\ntype security distribution.\n\n286\n00:15:18.669 --> 00:15:20.940\nAnd you'll see group scope,\nthis being group scopes we talked about.\n\n287\n00:15:20.940 --> 00:15:22.570\nSo let's just create the group for\na minute, and\n\n288\n00:15:22.570 --> 00:15:26.510\nlet me actually put an underscore here so\nthat way it's gonna be up at the top,\n\n289\n00:15:26.510 --> 00:15:27.790\nI don't have to go searching for it.\n\n290\n00:15:29.070 --> 00:15:33.529\nI shared that little tip with you in the\nepisode we did on managing users when we\n\n291\n00:15:33.529 --> 00:15:35.873\ntalked about creating a user template.\n\n292\n00:15:35.873 --> 00:15:39.786\nI said that if you put an underscore in\nthe front of the user or the group name,\n\n293\n00:15:39.786 --> 00:15:43.784\nthe way in which we sort and filter, will\nput that right at the top of the list.\n\n294\n00:15:43.784 --> 00:15:45.177\nBecause we do alpha numeric, but\n\n295\n00:15:45.177 --> 00:15:47.380\nwe do alpha numeric with\nspecial characters first.\n\n296\n00:15:47.380 --> 00:15:49.740\nAnd an underscore is a special character.\n\n297\n00:15:49.740 --> 00:15:53.989\nAnd so that forces, as you can see,\nmy user template, Adam G.\n\n298\n00:15:53.989 --> 00:15:56.574\nAnd now my group, which is there just so\nit's easy to find,\n\n299\n00:15:56.574 --> 00:15:58.709\nI don't have to go scrolling\nthrough to find it.\n\n300\n00:15:58.709 --> 00:16:00.899\nBut it forces it to the top of the list.\n\n301\n00:16:00.899 --> 00:16:02.653\nAnd that way I can just\nkeep track of them.\n\n302\n00:16:02.653 --> 00:16:06.243\nSo, just so you know why I'm doing that,\nin case you didn't see that episode or\n\n303\n00:16:06.243 --> 00:16:08.450\nwondered why, hey, why's he doing that?\n\n304\n00:16:08.450 --> 00:16:11.650\nWe're gonna take a look now and\ngo back in, but I did that just for\n\n305\n00:16:11.650 --> 00:16:13.240\nthis specific reason.\n\n306\n00:16:13.240 --> 00:16:17.007\nAll right, so the question was first,\nas soon as I can right-click there, hey,\n\n307\n00:16:17.007 --> 00:16:19.637\ncan I go and once I choose to\ncreate it as a security group?\n\n308\n00:16:19.637 --> 00:16:21.930\nCan I change it to a distribution group or\nvice versa?\n\n309\n00:16:21.930 --> 00:16:24.840\nAnd you'll see that I'm able\nto go do that with no trouble.\n\n310\n00:16:24.840 --> 00:16:27.759\nI'm just gonna go ahead, click Apply.\n\n311\n00:16:27.759 --> 00:16:31.070\nIt says, now, you are converting\na security group to a distribution group.\n\n312\n00:16:31.070 --> 00:16:35.920\nIf this group is used to grant some sort\nof or deny some sort of permissions or\n\n313\n00:16:35.920 --> 00:16:40.190\nnetwork resource memberships,\nyou're now gonna lose, or\n\n314\n00:16:40.190 --> 00:16:42.370\npotentially, you will lose that access.\n\n315\n00:16:42.370 --> 00:16:43.720\nAre you sure you wanna do this?\n\n316\n00:16:43.720 --> 00:16:44.800\nYes, I'm sure.\n\n317\n00:16:44.800 --> 00:16:47.980\nSo the answer to the question is\nabsolutely, can we make a change?\n\n318\n00:16:47.980 --> 00:16:51.670\nWe could certainly do that but\nthe issue associated with changing is\n\n319\n00:16:51.670 --> 00:16:54.918\nthe distribution groups are not designed,\nname, right?\n\n320\n00:16:54.918 --> 00:16:57.760\nThey're not designed to apply\nsecurity permissions and\n\n321\n00:16:57.760 --> 00:17:01.203\nto allow administration of resources\nas we said security groups do.\n\n322\n00:17:01.203 --> 00:17:04.831\nAnd so by converting we're essentially\nwiping that slate clean and\n\n323\n00:17:04.831 --> 00:17:07.730\nchanging the nature and\nfunction of that group.\n\n324\n00:17:07.730 --> 00:17:10.601\nWhich is not a big deal but\ndoes tend to disrupt things.\n\n325\n00:17:10.601 --> 00:17:14.548\nIf I had a whole bunch of users in\nthe 'N Sync or underscore 'N Sync group,\n\n326\n00:17:14.548 --> 00:17:18.629\nI was using it maybe to grant resource\naccess or make them backup operators,\n\n327\n00:17:18.629 --> 00:17:20.440\nwhatever we were talking about.\n\n328\n00:17:20.440 --> 00:17:24.340\nThey've lost that capability and now I'd\nhave to go in and figure that out and\n\n329\n00:17:24.340 --> 00:17:25.181\ndeal with that.\n\n330\n00:17:25.181 --> 00:17:29.162\nSo, that is something just to be aware\nof to great fire process, right?\n\n331\n00:17:29.162 --> 00:17:32.912\nWe do wanna know we could do it and\nit is on occasion done, but\n\n332\n00:17:32.912 --> 00:17:38.091\nI can't think of too many reasons, just in\nthe ebb and flow of things as we do them.\n\n333\n00:17:38.091 --> 00:17:41.616\nThat I would have or have seen or\nhave come up over the years,\n\n334\n00:17:41.616 --> 00:17:46.852\nwhere I've started with carry groups that\nI got to make that a distribution group.\n\n335\n00:17:46.852 --> 00:17:51.540\nAnd had to do that and actually decide to\nit because of the disruption what I have\n\n336\n00:17:51.540 --> 00:17:56.456\ntypically seen is oops what we now need\na distribution group and after the fact.\n\n337\n00:17:56.456 --> 00:17:58.447\nLet's create a separate one,\nput users in there so\n\n338\n00:17:58.447 --> 00:18:01.236\nwe don't run the risk of unassigning\nthem and having all these issues.\n\n339\n00:18:01.236 --> 00:18:02.360\n&gt;&gt; Affecting, yeah, okay.\n\n340\n00:18:02.360 --> 00:18:06.310\n&gt;&gt; Effectively dealing with torpedoing\nthe permissions and the concerns there.\n\n341\n00:18:06.310 --> 00:18:09.950\nSo I would say as a best practice,\nat least from my perspective in the real\n\n342\n00:18:09.950 --> 00:18:12.920\nworld, what I would share with\nyou as experience would be yeah,\n\n343\n00:18:12.920 --> 00:18:16.430\nalthough we can do it,\nit's probably not something wanna do.\n\n344\n00:18:16.430 --> 00:18:19.420\nBut it is certainly possible,\nI would suggest instead as I said,\n\n345\n00:18:19.420 --> 00:18:22.190\ncreate just a group,\nwhat ever that group will be.\n\n346\n00:18:22.190 --> 00:18:23.920\nName it the same name,\nname it different whatever.\n\n347\n00:18:23.920 --> 00:18:27.740\nBut you'll create another group\nwith a different group type and\n\n348\n00:18:27.740 --> 00:18:30.840\nthen once you've done that\nrepopulate it with members.\n\n349\n00:18:30.840 --> 00:18:34.360\nRemember users can be members of more than\none group there's no issue with that.\n\n350\n00:18:34.360 --> 00:18:36.914\nSo if I'm a member of\nunderscore 'N Sync and\n\n351\n00:18:36.914 --> 00:18:39.613\nI'm a member of underscore\nBackstreet boys.\n\n352\n00:18:39.613 --> 00:18:43.887\nOne's a distribution group, and see I\nworked at a keeping the whole theme and\n\n353\n00:18:43.887 --> 00:18:46.035\none is gonna be a security group.\n\n354\n00:18:46.035 --> 00:18:47.735\nI can be a member of multiple groups.\n\n355\n00:18:47.735 --> 00:18:52.787\nWe do have an upper limit over all, or\nactually built into ADDS hardcoded for\n\n356\n00:18:52.787 --> 00:18:55.957\nthe number of groups I can be a member of,\nbut that's in the thousands.\n\n357\n00:18:55.957 --> 00:18:57.447\nYou're not gonna run afoul of that number,\nand\n\n358\n00:18:57.447 --> 00:18:59.687\nyou're not gonna have an issue\nwith that by any means.\n\n359\n00:18:59.687 --> 00:19:01.983\nSo, you don't have to worry about that,\nno big deal there.\n\n360\n00:19:01.983 --> 00:19:05.702\nAll right, so we did tick that box off,\nwe did talk a bit about the fact we could\n\n361\n00:19:05.702 --> 00:19:09.667\nchange, talked about the fact that we\nhave both distribution and global groups.\n\n362\n00:19:10.970 --> 00:19:14.600\nLet's go in and\nlet's just take a look at the group\n\n363\n00:19:14.600 --> 00:19:17.890\ndesignation in terms of global domain,\nlocal, universal.\n\n364\n00:19:17.890 --> 00:19:19.750\nLet's talk a bit more about that and\n\n365\n00:19:19.750 --> 00:19:22.650\njust look at how we add\na user into a group as well.\n\n366\n00:19:22.650 --> 00:19:26.810\nAgain, it's some of the very simple skills\nthat we never wanna take for granted.\n\n367\n00:19:26.810 --> 00:19:30.890\nI'm sure most if not all of\nyou have added users and or\n\n368\n00:19:30.890 --> 00:19:36.090\ncreated groups and put users into groups\nat some point And it's a pretty sensicle,\n\n369\n00:19:36.090 --> 00:19:39.140\ncommon sense approach,\nreally not a lot of mystery there.\n\n370\n00:19:39.140 --> 00:19:41.240\nIt's something you could\neasily figure out how to do.\n\n371\n00:19:41.240 --> 00:19:44.360\nEven if you've never done it on your own,\nit's very intuitive.\n\n372\n00:19:44.360 --> 00:19:48.330\nIt's always nice just to reinforce\nsome of those basic thought processes,\n\n373\n00:19:48.330 --> 00:19:49.950\nensure you know what you're doing.\n\n374\n00:19:49.950 --> 00:19:51.390\nAnd if you haven't seen it before,\n\n375\n00:19:51.390 --> 00:19:53.370\nif you never done it,\nthere's no shame in that at all.\n\n376\n00:19:53.370 --> 00:19:55.920\nEverybody starts out new at some\npoint to everything you do and\n\n377\n00:19:55.920 --> 00:19:59.204\nhave to learn It's a great opportunity for\nyou to just take a quick look and say,\n\n378\n00:19:59.204 --> 00:20:01.384\nI think I could do that,\nlooks pretty easy, right?\n\n379\n00:20:01.384 --> 00:20:05.058\nAnd overcome that initial fear and\nconcern over what it may be like,\n\n380\n00:20:05.058 --> 00:20:08.936\ncuz one of the things I remember\nstarting out many, many moons ago now.\n\n381\n00:20:08.936 --> 00:20:13.056\nBut over 30 years ago, becoming an IT\nprofessional as many of you are and\n\n382\n00:20:13.056 --> 00:20:17.375\nbeing in the places where many of you are\nor have been as you continue to mold and\n\n383\n00:20:17.375 --> 00:20:21.690\nshape your knowledge over time and\nyou build your professional skills.\n\n384\n00:20:21.690 --> 00:20:25.970\nI remember starting out back in\nthe early days when I was doing this and\n\n385\n00:20:25.970 --> 00:20:28.010\nthere weren't a lot of\npeople who could show me and\n\n386\n00:20:28.010 --> 00:20:29.740\nwho could tell me what to do and\nhow to do it.\n\n387\n00:20:29.740 --> 00:20:32.602\nI've talked about this in some of\nthe other shows we've done and\n\n388\n00:20:32.602 --> 00:20:34.895\nthere certainly wasn't\na solution like ITProTV.\n\n389\n00:20:34.895 --> 00:20:38.104\nWhere I could go and\nturn on a fountain of knowledge and\n\n390\n00:20:38.104 --> 00:20:42.756\nI could have it flow out as I wanted at my\nown speed and consume it at my own pace.\n\n391\n00:20:42.756 --> 00:20:46.090\nAnd be able to interact and\npause it and go back and look at it and\n\n392\n00:20:46.090 --> 00:20:48.931\ntie that to a practice environment,\nin many cases.\n\n393\n00:20:48.931 --> 00:20:53.041\nAnd figure out what I'm doing, and have\ndocumentation about what people did, and\n\n394\n00:20:53.041 --> 00:20:55.873\nall the things that are part\nof the solution that are now.\n\n395\n00:20:55.873 --> 00:20:58.990\nWe just kinda come to take for\ngranted in many respects today.\n\n396\n00:20:58.990 --> 00:21:00.730\nThere was no Google, right?\n\n397\n00:21:00.730 --> 00:21:03.892\nI come from a time where\na different planet, right?\n\n398\n00:21:03.892 --> 00:21:06.934\nI come from a time where\nthere was no way to go and\n\n399\n00:21:06.934 --> 00:21:10.066\njust look stuff up on\nthe web the way we do today.\n\n400\n00:21:10.066 --> 00:21:11.400\nI mean, you say that to people and\n\n401\n00:21:11.400 --> 00:21:14.060\nthey look at you like you\nliterally are from another planet.\n\n402\n00:21:14.060 --> 00:21:17.665\nPeople can't imagine that there was\na time when this didn't exist, but\n\n403\n00:21:17.665 --> 00:21:20.575\nI'm here to tell you,\ncuz I have the grey hair to prove it.\n\n404\n00:21:20.575 --> 00:21:23.260\nI've been around long enough\nas some of you have been.\n\n405\n00:21:23.260 --> 00:21:26.392\nAnd I remember a time when you actually\nlooked things up in mythical things\n\n406\n00:21:26.392 --> 00:21:27.059\ncalled books.\n\n407\n00:21:27.059 --> 00:21:29.183\n&gt;&gt; [LAUGH]\n&gt;&gt; In mythical places called libraries.\n\n408\n00:21:29.183 --> 00:21:31.642\nThat you may have heard of in lore and\nstory and\n\n409\n00:21:31.642 --> 00:21:36.430\nare talked about around the campfires at\nnight when nobody's doing anything else.\n\n410\n00:21:36.430 --> 00:21:39.130\nBut I go back to a time where I\nwanted to learn something I went to\n\n411\n00:21:39.130 --> 00:21:40.300\na library and looked it up.\n\n412\n00:21:40.300 --> 00:21:41.910\nAnd then I figured out\nhow to do it on my own.\n\n413\n00:21:41.910 --> 00:21:45.600\nSo seeing it done is always a good thing,\nno matter what it is.\n\n414\n00:21:45.600 --> 00:21:46.830\nSo let's take a look, and\n\n415\n00:21:46.830 --> 00:21:49.510\nlet's just make sure that we're\ncomfortable with this idea.\n\n416\n00:21:49.510 --> 00:21:52.780\nSo you can see here,\nall I did is right click and bring up\n\n417\n00:21:52.780 --> 00:21:56.970\nthe properties of the group while we\nwere talking, and I can go into members.\n\n418\n00:21:56.970 --> 00:21:59.630\nI can see right now there\nare no members in this group.\n\n419\n00:21:59.630 --> 00:22:03.110\nBut I can see that, I can add\na member as we were talking about.\n\n420\n00:22:03.110 --> 00:22:04.970\nAnd I can add either user or\n\n421\n00:22:04.970 --> 00:22:07.760\na group because I can put\ngroups into other groups.\n\n422\n00:22:07.760 --> 00:22:10.517\nWe call that nesting and\nwe can add a group into another group.\n\n423\n00:22:10.517 --> 00:22:15.320\nEssentially bringing a large group of\npeople in simultaneously instead of adding\n\n424\n00:22:15.320 --> 00:22:17.616\nthem individually, which is a scale or\n\n425\n00:22:17.616 --> 00:22:20.600\neconomy of scale management concept,\nright?\n\n426\n00:22:20.600 --> 00:22:25.240\nSo I can say that I wanna bring\nin the guests group, right?\n\n427\n00:22:25.240 --> 00:22:27.353\nAnd I can look that up.\n\n428\n00:22:27.353 --> 00:22:29.141\nIf I spell it correctly, of course.\n\n429\n00:22:31.844 --> 00:22:33.446\nLet me just make sure.\n\n430\n00:22:33.446 --> 00:22:34.632\nI think I spelled it correctly.\n\n431\n00:22:36.383 --> 00:22:43.310\nNope, okay [INAUDIBLE] let's do this.\n\n432\n00:22:43.310 --> 00:22:46.151\nLet's do, what's the group down there?\n\n433\n00:22:46.151 --> 00:22:51.724\nDHCP is this, so\nwe don't have that one there.\n\n434\n00:22:51.724 --> 00:22:53.751\nAll right, there we go.\n\n435\n00:22:53.751 --> 00:22:59.262\nWait, why am I not getting DHCP users,\n\n436\n00:22:59.262 --> 00:23:04.442\nI'm getting the crew and off you go.\n\n437\n00:23:04.442 --> 00:23:05.950\nHold on just one second.\n\n438\n00:23:08.690 --> 00:23:11.670\nAnd that's why, because I didn't\nchange it back to a security group.\n\n439\n00:23:12.870 --> 00:23:14.490\nI forgot we made it a distribution group.\n\n440\n00:23:14.490 --> 00:23:15.990\nOkay, so now I'm gonna go ahead and\n\n441\n00:23:15.990 --> 00:23:20.530\ndo that, cuz I can't add those members in,\nlike that when it's a distribution group.\n\n442\n00:23:20.530 --> 00:23:23.820\nOkay, so now, I go in there and\nI should be able to add in another group.\n\n443\n00:23:23.820 --> 00:23:25.619\nSo what are we doing, DHCP users?\n\n444\n00:23:26.710 --> 00:23:32.554\nLet me do that one, add that in, And\n\n445\n00:23:32.554 --> 00:23:36.628\nno, what is going wrong here?\n\n446\n00:23:36.628 --> 00:23:40.580\nDid my main controller stop working,\nI can't look up a group.\n\n447\n00:23:40.580 --> 00:23:43.090\nAll right,\nlet me just explain what was going on.\n\n448\n00:23:43.090 --> 00:23:45.570\nI just was not paying attention to\nthe console when I was adding groups.\n\n449\n00:23:45.570 --> 00:23:49.719\nI didn't realize the two groups I had\nchosen we're building local groups.\n\n450\n00:23:49.719 --> 00:23:53.769\nDHCP users as you can see is\nlisted as a domain local group.\n\n451\n00:23:53.769 --> 00:23:57.538\nAfter you have the property screen\nover here unless I just wasn't paying\n\n452\n00:23:57.538 --> 00:23:59.161\nattention when I was doing it.\n\n453\n00:23:59.161 --> 00:24:03.751\nAnd so as a result we are getting\nan error because we can't put\n\n454\n00:24:03.751 --> 00:24:06.905\na domain local group into a global group.\n\n455\n00:24:06.905 --> 00:24:08.214\nThis is a global group,\n\n456\n00:24:08.214 --> 00:24:11.560\nthe one we just created but\nI can put another global group in.\n\n457\n00:24:11.560 --> 00:24:13.523\nSo I just have to choose\nthe right group type.\n\n458\n00:24:13.523 --> 00:24:16.603\nSo I'm just going to simply add in,\nwe'll do domain guests,\n\n459\n00:24:16.603 --> 00:24:20.570\nwhich is a global group sitting right down\nhere just to show you how to add that.\n\n460\n00:24:20.570 --> 00:24:23.823\nMy fault, but obviously important\nto tell you what went wrong so\n\n461\n00:24:23.823 --> 00:24:25.702\nyou can learn from that experience.\n\n462\n00:24:25.702 --> 00:24:28.070\nSo I want to add a group in here, right?\n\n463\n00:24:28.070 --> 00:24:34.110\nLet's add domain,\nspell that correctly, guests.\n\n464\n00:24:34.110 --> 00:24:38.000\nAnd when I do that, check names, you'll\nsee that goes through with no trouble.\n\n465\n00:24:38.000 --> 00:24:40.360\nCan add that in,\nlet's add an user as well just so\n\n466\n00:24:40.360 --> 00:24:44.540\nwe can see that we can do both,\nwe'll add our shared B user there.\n\n467\n00:24:46.030 --> 00:24:51.040\nAnd we can put that in and then you'll see\nwe have both the user and a global group\n\n468\n00:24:51.040 --> 00:24:55.920\nadded to this group, this global group, so\nwe're nesting one group inside the other.\n\n469\n00:24:55.920 --> 00:24:58.730\nAnd so when I click Apply,\nand then I click OK,\n\n470\n00:24:58.730 --> 00:25:01.720\nI've now added members to this group.\n\n471\n00:25:01.720 --> 00:25:04.550\nAnd then when I go look,\nI will see them on the Members tab.\n\n472\n00:25:04.550 --> 00:25:07.920\nAnd I can now,\nif I choose to assign permissions,\n\n473\n00:25:07.920 --> 00:25:12.800\nI can now grant permissions to either that\nuser or whoever may be in the membership\n\n474\n00:25:12.800 --> 00:25:17.350\nof the domain guests group would inherit\nor get those permissions as well.\n\n475\n00:25:17.350 --> 00:25:21.260\nSo if we go back in,\nlet's go back here and we go to Members.\n\n476\n00:25:21.260 --> 00:25:22.953\nWe do see they're there.\n\n477\n00:25:22.953 --> 00:25:28.085\nAnd you go to Member of, you will see\nthat right now I do not have this group,\n\n478\n00:25:28.085 --> 00:25:32.560\nthe underscore in sync group as\na member of any other groups.\n\n479\n00:25:32.560 --> 00:25:35.192\nBut if I did,\nI would see it show up on the tab here.\n\n480\n00:25:35.192 --> 00:25:40.954\nSo if I do go to Domain guests, because\nI added domain guests to this group,\n\n481\n00:25:40.954 --> 00:25:46.441\nand we take a look right down here and\nwe go to Properties on this group and\n\n482\n00:25:46.441 --> 00:25:51.928\nwe go to Member of, we will see that\naside from being a member of the built\n\n483\n00:25:51.928 --> 00:25:57.248\nin group called Guests we are also\nmember of underscore a sync group.\n\n484\n00:25:57.248 --> 00:26:00.329\nCuz I have just added that and\nnow we can their cross referencing and\n\n485\n00:26:00.329 --> 00:26:03.240\nwe begin to build that understanding and\nthat logic.\n\n486\n00:26:03.240 --> 00:26:06.603\nSo we can see how we could add\nmembership into a group and\n\n487\n00:26:06.603 --> 00:26:10.991\nuse that obviously when we are doing so\nto be able to either put in a user or\n\n488\n00:26:10.991 --> 00:26:14.230\na specific set of users\nthrough a group membership.\n\n489\n00:26:14.230 --> 00:26:16.823\nSo let's talk for a moment about\nthese different group types and\n\n490\n00:26:16.823 --> 00:26:19.043\njust make sure we're\ncomfortable with what they are.\n\n491\n00:26:19.043 --> 00:26:21.550\nI'm just gonna bring\nback up our wizard here.\n\n492\n00:26:21.550 --> 00:26:23.200\nAnd just create a new group, just so\n\n493\n00:26:23.200 --> 00:26:26.344\nwe have the three types sitting in\nfront of us while we're talking.\n\n494\n00:26:26.344 --> 00:26:30.333\nKinda refer to them, Domain local,\nGlobal, Universal, or local, right?\n\n495\n00:26:30.333 --> 00:26:31.161\nDepending on what we're doing.\n\n496\n00:26:31.161 --> 00:26:33.000\nSo let's talk about local first.\n\n497\n00:26:33.000 --> 00:26:35.822\nThe local group is a group on\na machine non-domain joined.\n\n498\n00:26:35.822 --> 00:26:40.372\nIt's the group that is used to essentially\nprovide resource access administer and\n\n499\n00:26:40.372 --> 00:26:43.427\ncreate and\nassign permissions through inheretives for\n\n500\n00:26:43.427 --> 00:26:46.033\na stand alone or\na none domain drawing machine.\n\n501\n00:26:46.033 --> 00:26:49.417\nRemember if you are on a work station a\nmachine that's not domain joined you would\n\n502\n00:26:49.417 --> 00:26:50.460\nsee the local group.\n\n503\n00:26:50.460 --> 00:26:54.203\nWe can assign abilities and permissions\nfor resources on the local computer\n\n504\n00:26:54.203 --> 00:26:57.373\nthrough local groups just wanna\nmake sure you are aware of that.\n\n505\n00:26:57.373 --> 00:27:01.169\nMembers can be from anywhere\nwithin the forest, so\n\n506\n00:27:01.169 --> 00:27:07.160\nany user anywhere in the ADDS forest can\nbe put into a local group on a machine.\n\n507\n00:27:07.160 --> 00:27:11.528\nAnd that can include users, computers,\nit can include global groups,\n\n508\n00:27:11.528 --> 00:27:14.401\ndomain local groups, essentially anything.\n\n509\n00:27:14.401 --> 00:27:15.462\nNo, I'm not going to let you\n\n510\n00:27:15.462 --> 00:27:16.322\nask a question,\n&gt;&gt; [LAUGH]\n\n511\n00:27:16.322 --> 00:27:17.721\n&gt;&gt; I'm gonna keep talking.\n\n512\n00:27:17.721 --> 00:27:19.173\nCherry's the next question,\njust one second.\n\n513\n00:27:19.173 --> 00:27:22.592\nWhen I say the forest just reminding\nyou of what we've been talking about.\n\n514\n00:27:22.592 --> 00:27:26.212\nRemember our forest is gonna\nbe the collection of one or\n\n515\n00:27:26.212 --> 00:27:31.263\nmore domains in one or more trees\nassociated together with a common schema.\n\n516\n00:27:31.263 --> 00:27:35.434\nThat is going to form the boundary for\nus in the forest and so\n\n517\n00:27:35.434 --> 00:27:38.928\nusers in ITPro.tv users in hosts.ITPro.tv,\n\n518\n00:27:38.928 --> 00:27:43.990\ncomputer accounts and\naudience.itpro.tv in our example here.\n\n519\n00:27:43.990 --> 00:27:48.484\nAny or all of those could be\nadded into a local computer,\n\n520\n00:27:48.484 --> 00:27:51.556\nor rather a local group on a computer.\n\n521\n00:27:51.556 --> 00:27:54.507\nAnd those accounts would\nthen be granted rights to\n\n522\n00:27:54.507 --> 00:27:58.242\na resource on that local machine,\nis what we're suggesting.\n\n523\n00:27:58.242 --> 00:27:59.519\nSo just be aware of that.\n\n524\n00:27:59.519 --> 00:28:01.733\nAll right so Cherokee, you wanted to\njust throw something out there before-\n\n525\n00:28:01.733 --> 00:28:02.338\n&gt;&gt; Yeah Adam,\n\n526\n00:28:02.338 --> 00:28:05.785\nI just wanted to highlight the importance\nof what you had just said,\n\n527\n00:28:05.785 --> 00:28:08.808\nbecause in a real working environment,\nyou could really,\n\n528\n00:28:08.808 --> 00:28:12.650\njust knowing the difference is huge\nwhen we come to terms with that.\n\n529\n00:28:12.650 --> 00:28:16.020\nWhen you think about adding a user to\nthe administrator's group on the local\n\n530\n00:28:16.020 --> 00:28:18.470\nmachine, giving them the right\nto that local computer.\n\n531\n00:28:18.470 --> 00:28:22.408\nOr as adding them to administrator's\ngroup on a domain control granting\n\n532\n00:28:22.408 --> 00:28:24.031\nthe the access to the domain.\n\n533\n00:28:24.031 --> 00:28:27.703\nAnd it's something important to\nthink about because if you think,\n\n534\n00:28:27.703 --> 00:28:30.203\nI'm the administrators\ngroup I'm good to go.\n\n535\n00:28:30.203 --> 00:28:34.719\nFor the local machine if you ever remove\nthat computer that you're working on from\n\n536\n00:28:34.719 --> 00:28:35.505\nthat domain,\n\n537\n00:28:35.505 --> 00:28:40.153\nyou need to make sure that you're part of\nthat local administrators group, because\n\n538\n00:28:40.153 --> 00:28:45.080\nyou lose your domain credentials if you\nun-join that computer from the domain.\n\n539\n00:28:45.080 --> 00:28:48.771\nSo, if you're just piggy backing of those\ncredentials, it's definitely something to\n\n540\n00:28:48.771 --> 00:28:52.066\nthink about, in a real world experience,\nthat you might kind of glance over but\n\n541\n00:28:52.066 --> 00:28:54.450\nyou really need to think about\nit before you do that step.\n\n542\n00:28:54.450 --> 00:28:58.056\n&gt;&gt; It is, cuz essentially, what you're\ndescribing is you would revert back\n\n543\n00:28:58.056 --> 00:29:00.116\nat that point to local\ngroup membership and\n\n544\n00:29:00.116 --> 00:29:03.682\nlocal permissions granted through\nthe membership to that machine only.\n\n545\n00:29:03.682 --> 00:29:06.685\nAnd you would as we established by\nconverting from a security group to\n\n546\n00:29:06.685 --> 00:29:09.378\na distribution group,\nyou saw we stripped the permissions or\n\n547\n00:29:09.378 --> 00:29:12.420\nthe inheritance of those permissions\nof assignments to users.\n\n548\n00:29:12.420 --> 00:29:15.928\nWhen we do so, as you point out you may\nvery well wind up losing the ability to\n\n549\n00:29:15.928 --> 00:29:19.942\nnot only access resources but to carry out\nprobably job related responsibilities and\n\n550\n00:29:19.942 --> 00:29:21.913\nactivities that you're expected to do.\n\n551\n00:29:21.913 --> 00:29:24.043\nSo that could be a very big issue.\n\n552\n00:29:24.043 --> 00:29:28.166\nIt can also become and even bigger issue,\nand this is a big no no by the way, and\n\n553\n00:29:28.166 --> 00:29:29.960\nyou should not be doing this.\n\n554\n00:29:29.960 --> 00:29:32.750\nBut unfortunately I see it happen\na great deal in the world.\n\n555\n00:29:32.750 --> 00:29:37.180\nIf you start messing around with\nservice accounts, and start\n\n556\n00:29:37.180 --> 00:29:41.030\nto put them into groups, as we often do,\nthey get installed into certain groups,\n\n557\n00:29:41.030 --> 00:29:44.280\nassigned certain rights because\nof the nature of what they do.\n\n558\n00:29:44.280 --> 00:29:47.710\nIf you mess with those groups and\nstart playing with them,\n\n559\n00:29:47.710 --> 00:29:52.610\nyou can actually prevent an application or\nservice room executing correctly, you\n\n560\n00:29:52.610 --> 00:29:57.161\nmay take down a line of business service\nin the organization and cause a BCDR.\n\n561\n00:29:57.161 --> 00:30:00.850\nA business continuity disaster\nrecovery event as a result of that.\n\n562\n00:30:00.850 --> 00:30:03.352\nSo it can be very, very problematic.\n\n563\n00:30:03.352 --> 00:30:06.673\nAnd when we say very, very we mean\nit can be incredibly disruptive,\n\n564\n00:30:06.673 --> 00:30:09.432\nas you were pointing out,\nif this is done incorrectly.\n\n565\n00:30:09.432 --> 00:30:13.090\nThere may be reasons and legitimate\nconcerns you're addressing by doing so.\n\n566\n00:30:13.090 --> 00:30:18.030\nBut you have to step back, stop, consider,\ntalk to people that are knowledgeable,\n\n567\n00:30:18.030 --> 00:30:21.330\nget a consensus opinion, this is a good\nidea before you just happenstance and\n\n568\n00:30:21.330 --> 00:30:23.190\nreadily go on the site and\ndecide hey I'm gonna go ahead and\n\n569\n00:30:23.190 --> 00:30:25.990\nsee what happens when I remove that\ngroup or change that membership and\n\n570\n00:30:25.990 --> 00:30:27.580\nwhat can happen as a result.\n\n571\n00:30:27.580 --> 00:30:29.860\nAnd it goes without saying but\nI'm gonna say it anyway and\n\n572\n00:30:29.860 --> 00:30:33.550\nI hope you understand the value of what\nI'm about to say, document, document,\n\n573\n00:30:33.550 --> 00:30:34.650\ndocument, document, right?\n\n574\n00:30:34.650 --> 00:30:38.660\nEverything you do, the time you touch your\nmachine, should have a written record of\n\n575\n00:30:38.660 --> 00:30:43.070\nwhat that activity is going to entail what\nthe system looked like before you did it,\n\n576\n00:30:43.070 --> 00:30:46.050\nwhy you're doing it, what the business\nrequirement and driver is.\n\n577\n00:30:46.050 --> 00:30:49.150\nWho told you to do it,\nin other words who gave you permission.\n\n578\n00:30:49.150 --> 00:30:51.631\nThe time and date and\nthe user credential used.\n\n579\n00:30:51.631 --> 00:30:54.700\nThe outcome of that event so\nwe have an auditable log and\n\n580\n00:30:54.700 --> 00:30:57.810\ntransaction that we can\ngo back to if necessary.\n\n581\n00:30:57.810 --> 00:31:02.224\nAnd any time you make a change and\na change in my world, in IT in general,\n\n582\n00:31:02.224 --> 00:31:07.094\nhopefully in your world, is defined as\nany time you add, remove, or modify.\n\n583\n00:31:07.094 --> 00:31:10.533\nThose three activities are what we would\nconsider to be change events, right?\n\n584\n00:31:10.533 --> 00:31:12.682\nSo please be aware of that, right?\n\n585\n00:31:12.682 --> 00:31:17.025\nAnd documentation, the bread and butter of\nwhat we do, talk about it, it's important,\n\n586\n00:31:17.025 --> 00:31:18.011\nit's so critical.\n\n587\n00:31:18.011 --> 00:31:21.112\nYeah, we could always get better at it,\nno doubt about it, right?\n\n588\n00:31:21.112 --> 00:31:22.770\nThere's always room for improvement, but\n\n589\n00:31:22.770 --> 00:31:25.070\nyou gotta get in the habit of\ndocumenting everything you do.\n\n590\n00:31:25.070 --> 00:31:28.343\nIt should be the number one thing you\nthink of every time you touch a machine,\n\n591\n00:31:28.343 --> 00:31:29.430\nvery, very important.\n\n592\n00:31:29.430 --> 00:31:32.110\nAnd so we were talking about local groups,\nlet's just go back.\n\n593\n00:31:32.110 --> 00:31:35.280\nDomain local groups essentially\noperate the same way, right?\n\n594\n00:31:35.280 --> 00:31:38.487\nBut they are focused in the domain,\nso when we join the domain, and\n\n595\n00:31:38.487 --> 00:31:42.156\nthat machine now becomes a member of\nthe domain instead of a local group, and\n\n596\n00:31:42.156 --> 00:31:45.735\nwe do have local groups on machines\nthat are joined to the domain, right?\n\n597\n00:31:45.735 --> 00:31:48.197\nBut we're not using them if\nwe're logging in on the domain.\n\n598\n00:31:48.197 --> 00:31:51.147\nWhen we log in locally we have them and\nyou'll see them, but\n\n599\n00:31:51.147 --> 00:31:54.105\non domain controllers they have\nno log on locally concept.\n\n600\n00:31:54.105 --> 00:31:56.443\nWe only log in authenticated\nto the domain.\n\n601\n00:31:56.443 --> 00:32:00.128\nSo as result, the domain local\ngroups exist on domain controllers,\n\n602\n00:32:00.128 --> 00:32:04.275\nthey are the equivalent of local\ngroups in non-domain joined machines.\n\n603\n00:32:04.275 --> 00:32:07.220\nOr machines that have a split personality,\nthat are domain members, but\n\n604\n00:32:07.220 --> 00:32:08.580\nthat you log into locally.\n\n605\n00:32:08.580 --> 00:32:11.510\nAnd as I said, only domain\ncontrollers fall into this category\n\n606\n00:32:11.510 --> 00:32:14.720\nwhere there is no log on locally\nto a domain controller, right.\n\n607\n00:32:14.720 --> 00:32:17.940\nSo, as a result, you're logging\nin using a domain local group.\n\n608\n00:32:17.940 --> 00:32:21.550\nSo when we do that, same idea,\nwe assign permissions and\n\n609\n00:32:21.550 --> 00:32:25.540\nas a result give rights to and access to\nresources on the domain controller and\n\n610\n00:32:25.540 --> 00:32:28.050\nthrough the domain controller\nto resources in the domain.\n\n611\n00:32:28.050 --> 00:32:33.200\nCuz those domain local groups are then\ngonna be used to be able to allow that.\n\n612\n00:32:33.200 --> 00:32:35.660\nMembership could be from\nanywhere in the ADDS forest.\n\n613\n00:32:35.660 --> 00:32:40.560\nSo again forest wide in terms of our\nability to pull users in across trust\n\n614\n00:32:40.560 --> 00:32:45.360\nrelationships from other domains and\nother trees throughout the forest.\n\n615\n00:32:45.360 --> 00:32:50.200\nThe forest becomes the master boundary,\nthe largest boundary we have\n\n616\n00:32:50.200 --> 00:32:54.340\nin terms of management of the namespace,\nnamespaces, excuse me.\n\n617\n00:32:54.340 --> 00:32:59.000\nManagement of the schema, and management\nof the trust relationships, plural,\n\n618\n00:32:59.000 --> 00:33:03.402\nthat make up our structures that will\nultimately ship and deform our forest.\n\n619\n00:33:03.402 --> 00:33:06.929\nOur individual domain,\nour domain controllers within that domain,\n\n620\n00:33:06.929 --> 00:33:10.636\nour domains joined in a parent child\nrelationship hierarchically to form\n\n621\n00:33:10.636 --> 00:33:14.543\na tree, and then those trees perhaps\nlink together in order to form a forest.\n\n622\n00:33:14.543 --> 00:33:16.470\nSo, we do wanna make sure\nwe're familiar with that.\n\n623\n00:33:16.470 --> 00:33:21.000\nAny and all security principles from the\ndomain, meaning users, computers, global\n\n624\n00:33:21.000 --> 00:33:25.490\ngroups or domain local groups, can be\nnested, added into, domain local groups.\n\n625\n00:33:25.490 --> 00:33:28.680\nUsers from anywhere in the forest,\nglobal groups from anywhere in the forest,\n\n626\n00:33:28.680 --> 00:33:32.020\ncomputers from anywhere in the forest,\nas well, just so we know that.\n\n627\n00:33:32.020 --> 00:33:33.430\nSame thing from any trusted domain.\n\n628\n00:33:33.430 --> 00:33:37.900\nSo when I say within the forest, I mean\nother domains within the forest, as well.\n\n629\n00:33:37.900 --> 00:33:39.400\nAnd also universal groups,\n\n630\n00:33:39.400 --> 00:33:42.130\nthat are defined in any of\nthe domains in the forest.\n\n631\n00:33:42.130 --> 00:33:44.390\nUniversal group is a forest wide group,\nand\n\n632\n00:33:44.390 --> 00:33:48.070\nthat can also be added down to\na domain local group, so just be, or\n\n633\n00:33:48.070 --> 00:33:51.890\ninto I should say, a domain local group,\nso just make sure you're aware of that.\n\n634\n00:33:51.890 --> 00:33:52.690\nGlobal groups,\n\n635\n00:33:52.690 --> 00:33:57.080\nwhich remember is the default group,\nalong with the group type security.\n\n636\n00:33:57.080 --> 00:33:58.930\nWhen we create a group\nwe don't make a change.\n\n637\n00:33:58.930 --> 00:34:02.620\nWe get a security group that is global\nin scope, is what I'm suggesting to you.\n\n638\n00:34:02.620 --> 00:34:04.750\nJoin me back here if you would for\na minute please.\n\n639\n00:34:04.750 --> 00:34:08.690\nLet's just put up the screen, you could\nsee the default bullet circle choices, or\n\n640\n00:34:08.690 --> 00:34:10.550\nthe bulleted items that\nare selected there.\n\n641\n00:34:10.550 --> 00:34:13.290\nWhen I'm about to creat a brand new\ngroup that's what you would see,\n\n642\n00:34:13.290 --> 00:34:16.260\ngroup type security, group scope, global.\n\n643\n00:34:16.260 --> 00:34:18.175\nRight, so\nglobal groups will be the default,\n\n644\n00:34:18.175 --> 00:34:21.420\nthat's why you see the majority of\ngroups are gonna be security groups and\n\n645\n00:34:21.420 --> 00:34:24.760\nglobal groups, because that is\nthe most prevalent or popular one.\n\n646\n00:34:24.760 --> 00:34:28.940\nWe use these, again,\nto assign rights and to assign access.\n\n647\n00:34:28.940 --> 00:34:32.130\nPermissions and abilities from anywhere in\nthe forest can be granted through global\n\n648\n00:34:32.130 --> 00:34:33.160\ngroup membership.\n\n649\n00:34:33.160 --> 00:34:37.250\nMembers can be from the local domain only,\nright, and can include, so\n\n650\n00:34:37.250 --> 00:34:38.850\nonly from the local domain.\n\n651\n00:34:38.850 --> 00:34:41.710\nGlobal groups are scoped to the domain,\nright.\n\n652\n00:34:41.710 --> 00:34:44.580\nSo keep that in mind,\nfrom the local domain and they\n\n653\n00:34:44.580 --> 00:34:49.060\ncan include users computers and global\ngroups from within the local domain.\n\n654\n00:34:49.060 --> 00:34:52.210\nBut you can't put a universal\ngroup from outside the domain at\n\n655\n00:34:52.210 --> 00:34:54.580\nthe forest level into a global group.\n\n656\n00:34:54.580 --> 00:34:56.890\nThat is something you have to\nthink about and be aware of.\n\n657\n00:34:56.890 --> 00:35:00.504\nSo one of the big distinctions between\nglobal groups and universal groups,\n\n658\n00:35:00.504 --> 00:35:03.225\nright, which we often hear about,\nwe often talk about.\n\n659\n00:35:03.225 --> 00:35:07.931\nI often hear people explain incorrectly\nis that universal groups are forest wide\n\n660\n00:35:07.931 --> 00:35:08.560\nin scope.\n\n661\n00:35:08.560 --> 00:35:13.923\nAnd they could be added into domain local\ngroups to give a forest resource, resource\n\n662\n00:35:13.923 --> 00:35:19.000\naccess and rights locally, but not to\nglobal groups, to domain local groups.\n\n663\n00:35:19.000 --> 00:35:22.390\nSo keep that in mind, okay,\nso just be aware of that.\n\n664\n00:35:22.390 --> 00:35:25.520\nBut we can put global groups into\nother global groups as you saw me do\n\n665\n00:35:25.520 --> 00:35:26.430\nfrom within the domain.\n\n666\n00:35:26.430 --> 00:35:28.780\nSo global groups are scoped at\nthe domain level in other words,\n\n667\n00:35:28.780 --> 00:35:30.810\njust summarizing that to make that clear.\n\n668\n00:35:30.810 --> 00:35:35.310\nSo we know that, and then universal\ngroups, as I mentioned, last group type,\n\n669\n00:35:35.310 --> 00:35:36.420\nright, of the ones we're going through.\n\n670\n00:35:37.420 --> 00:35:42.120\nThis is a group that is a multi-domain\nconcept, meaning you can span and\n\n671\n00:35:42.120 --> 00:35:45.655\nindeed access resources across\nmultiple domains within the forest.\n\n672\n00:35:45.655 --> 00:35:50.040\nSo it is a forest-wide thought process,\ncombines both domain local and\n\n673\n00:35:50.040 --> 00:35:53.470\nglobal characteristics to give it\nthe ability to be able to work in and\n\n674\n00:35:53.470 --> 00:35:56.730\nbe a member of any group essentially,\nanywhere across the forest.\n\n675\n00:35:56.730 --> 00:36:00.290\nThey are universal meaning\nliterally they are broad in scope.\n\n676\n00:36:00.290 --> 00:36:03.700\nThe Enterprise Admin Group's\nan example of a universal group, schema\n\n677\n00:36:03.700 --> 00:36:07.570\nadmins we talked about that in some prior\nepisodes, example of a universal group.\n\n678\n00:36:07.570 --> 00:36:09.690\nThese are groups that span the forest, and\n\n679\n00:36:09.690 --> 00:36:13.320\ngive you rights to be able to access and\noperate on resources anywhere\n\n680\n00:36:13.320 --> 00:36:18.030\nacross domain boundaries within\nmultiple namespaces across the forest.\n\n681\n00:36:18.030 --> 00:36:19.930\nJust wanna make sure you're aware of that.\n\n682\n00:36:19.930 --> 00:36:22.770\nUsers, computers, and global groups\nfrom any domain in the forest can be\n\n683\n00:36:22.770 --> 00:36:26.200\ndropped into a universal\ngroup as membership.\n\n684\n00:36:26.200 --> 00:36:30.379\nAnd of course universal groups can be\nnested inside of other universal groups\n\n685\n00:36:30.379 --> 00:36:33.153\nthey can be defined inside of and\nput in the forest.\n\n686\n00:36:33.153 --> 00:36:37.553\nSo, Enterprise Admins could be made a\nmember of Schema Admins, or vice versa to\n\n687\n00:36:37.553 --> 00:36:42.348\ngrant access, right, in theory, and give\nthe forest root administrator rights to,\n\n688\n00:36:42.348 --> 00:36:45.332\nboth administer across all\nresources in the forest.\n\n689\n00:36:45.332 --> 00:36:48.701\nAs well as editing the schema,\nwhich is what is actually done, and\n\n690\n00:36:48.701 --> 00:36:51.000\nhow we do that, so,\nplease be aware of that.\n\n691\n00:36:51.000 --> 00:36:54.410\nProperties of the universal groups\npropagate through the global catalog, and\n\n692\n00:36:54.410 --> 00:36:56.400\nare available across the enterprise.\n\n693\n00:36:56.400 --> 00:36:58.430\nAnd that's one of the reasons\nwe need global catalogs,\n\n694\n00:36:58.430 --> 00:36:59.860\nI've mentioned this several times.\n\n695\n00:36:59.860 --> 00:37:03.750\nBecause we validate universal group\nmembership against the global catalogs\n\n696\n00:37:03.750 --> 00:37:08.150\nas a lookup to facilitate and to speed up\nnot only searching but resource access and\n\n697\n00:37:08.150 --> 00:37:11.430\ngranting of permissions and\nrights, as users authenticate and\n\n698\n00:37:11.430 --> 00:37:13.250\nuse those resource permissions.\n\n699\n00:37:13.250 --> 00:37:16.610\nSo the domain controllers and they, as we\ntalked about as a best practice, should\n\n700\n00:37:16.610 --> 00:37:20.420\nall be global catalog servers, are gonna\nhelp us to figure this out along the way.\n\n701\n00:37:21.960 --> 00:37:23.642\n&gt;&gt; All right we made it through that,\n\n702\n00:37:23.642 --> 00:37:26.600\nI didn't have to learn how to\nplay musical instrument to join\n\n703\n00:37:26.600 --> 00:37:30.437\nany kind of special in sync groups, or\nlean any kind of special choreography.\n\n704\n00:37:30.437 --> 00:37:30.955\nSo, I'm grateful for that.\n\n705\n00:37:30.955 --> 00:37:31.565\n&gt;&gt; You do not,\n\n706\n00:37:31.565 --> 00:37:35.460\nalthough I'm always inviting you to\nshow your fancy footwork out there.\n\n707\n00:37:35.460 --> 00:37:36.698\n&gt;&gt; Yeah, maybe next episode.\n\n708\n00:37:36.698 --> 00:37:38.522\n[LAUGH]\n&gt;&gt; Whenever you feel like you would want\n\n709\n00:37:38.522 --> 00:37:39.063\nto, right.\n\n710\n00:37:39.063 --> 00:37:40.755\n[LAUGH]\n&gt;&gt; All right Adam, thank you so\n\n711\n00:37:40.755 --> 00:37:43.504\nmuch again, as always, and\nthank you for joining us as well.\n\n712\n00:37:43.504 --> 00:37:46.874\nBut we do have some more information\nto cover here within AD DS so\n\n713\n00:37:46.874 --> 00:37:48.260\nstay tuned for that.\n\n714\n00:37:48.260 --> 00:37:51.430\nFor this show, we'll go ahead and sign\nout, I've been your host, Cherokee Boose.\n\n715\n00:37:51.430 --> 00:37:53.038\n&gt;&gt; I am the group master.\n\n716\n00:37:53.038 --> 00:37:57.866\n&gt;&gt; [LAUGH] Have a great day\n&gt;&gt; Take care everybody.\n\n717\n00:37:57.866 --> 00:38:03.932\n[MUSIC]\n\n718\n00:38:03.932 --> 00:38:11.620\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "229565731"
        },
        {
          "description": "In this show, Adam and Cherokee continue to speak about AD DS groups. Adam , show how to create a custom MMC to help create group policies. Restricted groups, Built-in groups, special identities and protected groups are also explained.",
          "length": "1864",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-6-managing_objects_in_ad_ds_pt6-081017-PGM.00_39_24_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-6-managing_objects_in_ad_ds_pt6-081017-PGM.00_39_24_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-6-managing_objects_in_ad_ds_pt6-081017-PGM.00_39_24_14.Still001-sm.jpg",
          "title": "Managing Object in AD DS Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:00.947\nWelcome to ITProTV.\n\n2\n00:00:00.947 --> 00:00:05.930\nI'm your host-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:05.930 --> 00:00:08.081\n[MUSIC]\n\n4\n00:00:08.081 --> 00:00:11.955\nYou're watching ITProTV.\n\n5\n00:00:11.955 --> 00:00:15.096\n&gt;&gt; Welcome to your Identity\nwith Server 2016 series.\n\n6\n00:00:15.096 --> 00:00:16.744\nI'm your show host, Cherokee Boose.\n\n7\n00:00:16.744 --> 00:00:20.552\nIn the previous episode, we were\nintroduced to different types of groups.\n\n8\n00:00:20.552 --> 00:00:25.658\nAnd we'll continue that conversation,\nspecifically looking at restricted groups,\n\n9\n00:00:25.658 --> 00:00:28.492\nbuilt-in groups, and\neven protected groups.\n\n10\n00:00:28.492 --> 00:00:29.784\nAnd of course, we have Mr.\n\n11\n00:00:29.784 --> 00:00:33.000\nAdam Gordon back in studios with us\nto get through all these groups.\n\n12\n00:00:34.300 --> 00:00:35.250\n&gt;&gt; How do you do?\n&gt;&gt; [LAUGH]\n\n13\n00:00:35.250 --> 00:00:37.110\n&gt;&gt; Hello, I'm feeling like a group today,\n\n14\n00:00:37.110 --> 00:00:37.860\nI don't know about you.\n\n15\n00:00:37.860 --> 00:00:39.051\nBut let's continue talking about groups.\n\n16\n00:00:39.051 --> 00:00:41.995\nSo, Cherokee just ran down kind of\nthe hit list of some of the things we're\n\n17\n00:00:41.995 --> 00:00:42.576\ngonna cover.\n\n18\n00:00:42.576 --> 00:00:45.961\nWe're gonna talk about an actually very\ninteresting concept that's been around for\n\n19\n00:00:45.961 --> 00:00:47.052\na couple generations now.\n\n20\n00:00:47.052 --> 00:00:48.582\nBut when I mention it to customers,\n\n21\n00:00:48.582 --> 00:00:50.880\na lot of people aren't aware\nof the fact it's there.\n\n22\n00:00:50.880 --> 00:00:53.320\nReally don't understand\nthat they can use it.\n\n23\n00:00:53.320 --> 00:00:56.460\nAnd as a result,\nit's kind of this well-kept secret.\n\n24\n00:00:56.460 --> 00:00:58.444\nIt doesn't need to be, number one,\nbecause you should know about it.\n\n25\n00:00:58.444 --> 00:01:01.806\nNumber two, you're expected to be able to\nanswer questions about stuff like this.\n\n26\n00:01:01.806 --> 00:01:04.081\nSo it'll be helpful for\nyou to have a little sense of it.\n\n27\n00:01:04.081 --> 00:01:08.369\nAnd it ties in nicely with a theme that\nwe'll come back to in some future episodes\n\n28\n00:01:08.369 --> 00:01:10.937\nabout the value of managing\nwith group policy.\n\n29\n00:01:10.937 --> 00:01:12.965\nWe're gonna do a pretty\nin-depth conversation around\n\n30\n00:01:12.965 --> 00:01:13.875\ngroup policy coming up.\n\n31\n00:01:13.875 --> 00:01:17.625\nSo I would encourage you to think about\nlooking for that and taking a look at it.\n\n32\n00:01:17.625 --> 00:01:21.295\nWe're just gonna preview that a little\nbit by looking at the group policy editor\n\n33\n00:01:21.295 --> 00:01:24.472\nhere, to talk about a special group\ncalled the restricted groups and\n\n34\n00:01:24.472 --> 00:01:25.915\nhow we set up membership in it.\n\n35\n00:01:25.915 --> 00:01:27.993\nBut also how we find it and\nunderstand where it is.\n\n36\n00:01:27.993 --> 00:01:29.763\nSo I thought we'd start out by doing that.\n\n37\n00:01:29.763 --> 00:01:31.123\nSo if you wanna join me here,\n\n38\n00:01:31.123 --> 00:01:35.430\nI'm just gonna bring up the Group Policy\nManagement Console, the GP Editor.\n\n39\n00:01:35.430 --> 00:01:39.367\nAnd I've done that by going to the Server\nManager &gt; Tools &gt; Group Policy Editor,\n\n40\n00:01:39.367 --> 00:01:41.149\nopen that up so you know where we are.\n\n41\n00:01:41.149 --> 00:01:45.377\nI can also create an MMC from scratch and\napply this snap-in, so\n\n42\n00:01:45.377 --> 00:01:47.740\nI could use it that way if I chose to.\n\n43\n00:01:47.740 --> 00:01:48.636\nWe never actually do that.\n\n44\n00:01:48.636 --> 00:01:50.120\nWe always talk about that,\nwe don't actually demo.\n\n45\n00:01:50.120 --> 00:01:52.244\nI should probably show you\nguys how to create an MMC,\n\n46\n00:01:52.244 --> 00:01:53.849\nI'm always talking about doing that.\n\n47\n00:01:53.849 --> 00:01:54.930\nBut I don't actually do that.\n\n48\n00:01:54.930 --> 00:01:55.442\nWhy don't we do that?\n\n49\n00:01:55.442 --> 00:01:56.186\n&gt;&gt; Sure.\n\n50\n00:01:56.186 --> 00:01:57.082\n&gt;&gt; Cherokee, why don't we do that?\n\n51\n00:01:57.082 --> 00:01:57.891\n&gt;&gt; Let's do that, Adam.\n\n52\n00:01:57.891 --> 00:01:58.439\n&gt;&gt; Outstanding,\n\n53\n00:01:58.439 --> 00:02:00.974\nI love it when you suggest things\nthat I have down here, that's great.\n\n54\n00:02:00.974 --> 00:02:04.382\nAll right, so the MMC, so I keep saying,\nhey, you just create your own and\n\n55\n00:02:04.382 --> 00:02:07.220\nadd it in there, but\nI don't always take the time to show you.\n\n56\n00:02:07.220 --> 00:02:10.060\nShame on me for not doing that\nbecause we should show you how to\n\n57\n00:02:10.060 --> 00:02:11.970\ndo this stuff when we talk about it.\n\n58\n00:02:11.970 --> 00:02:13.540\nI just went to the run line.\n\n59\n00:02:13.540 --> 00:02:16.730\nType MMC, Microsoft Management Console.\n\n60\n00:02:16.730 --> 00:02:18.590\nIt's what MMC stands for.\n\n61\n00:02:18.590 --> 00:02:21.920\nAnd you'll see I get\na generic console shell,\n\n62\n00:02:21.920 --> 00:02:26.033\nessentially a blank GUI that\nI could add snap-ins into.\n\n63\n00:02:26.033 --> 00:02:29.652\nNow if you saw the prior episode\non schema management and\n\n64\n00:02:29.652 --> 00:02:35.044\nunderstanding the FSMO roles, I did go in\nand register the schema management DLL.\n\n65\n00:02:35.044 --> 00:02:37.931\nAnd then when I go ahead and\nadded it to the MMC, so\n\n66\n00:02:37.931 --> 00:02:40.123\nthat I showed you how we could use it.\n\n67\n00:02:40.123 --> 00:02:43.043\nBut I didn't actually really\nspend time talking about it.\n\n68\n00:02:43.043 --> 00:02:44.681\nI just quickly went through and\nkinda did it.\n\n69\n00:02:44.681 --> 00:02:46.588\n&gt;&gt; So\nyou're really creating a custom tool here.\n\n70\n00:02:46.588 --> 00:02:47.757\nJust something nice for\nyou to be able to access-\n\n71\n00:02:47.757 --> 00:02:48.544\n&gt;&gt; [CROSSTALK] Potentially,\n\n72\n00:02:48.544 --> 00:02:49.584\nyou could save it and just have it.\n\n73\n00:02:49.584 --> 00:02:53.750\nI have a lot of IT admin friends,\ncustomers that create their own MMCs,\n\n74\n00:02:53.750 --> 00:02:57.580\nload up a bunch of different tools\nthey use all the time, save it.\n\n75\n00:02:57.580 --> 00:02:59.150\nJust to have a shortcut\nto it on the desktop,\n\n76\n00:02:59.150 --> 00:03:01.720\nand that's what they use\non their work station.\n\n77\n00:03:01.720 --> 00:03:06.010\nMicrosoft does a really good job, as many\nvendors do, of providing all these tools,\n\n78\n00:03:06.010 --> 00:03:07.420\nbut they're separate and distinct.\n\n79\n00:03:07.420 --> 00:03:09.890\nYou gotta load each one\nin its own console.\n\n80\n00:03:09.890 --> 00:03:13.130\nSo a lot of times people like to group\nthree or four or five of them in there.\n\n81\n00:03:13.130 --> 00:03:15.791\nAnd just have them all in one place,\nso this is a great way to do that.\n\n82\n00:03:15.791 --> 00:03:20.370\nSo we just go in here,\nwe can go to File on the menu here.\n\n83\n00:03:20.370 --> 00:03:21.740\nAnd let me just make\nsure that stays there.\n\n84\n00:03:21.740 --> 00:03:25.164\nAnd we go to Add Remove Snap-In,\nwe get a little pick list here.\n\n85\n00:03:25.164 --> 00:03:26.979\nMove this over just so you can see that.\n\n86\n00:03:26.979 --> 00:03:28.218\nAnd I have a list,\n\n87\n00:03:28.218 --> 00:03:33.030\nall alphabetical, of all of\nthe snap-ins that are available to me.\n\n88\n00:03:33.030 --> 00:03:37.610\nIt starts with the Directory Domains and\nTrust Tool, Users and Computers is there.\n\n89\n00:03:37.610 --> 00:03:41.910\nSo if we add that one in by highlighting,\nclicking Add, putting it over here.\n\n90\n00:03:43.320 --> 00:03:47.863\nSites and Services, I'll just add\nall three of the AD Admin tools, so\n\n91\n00:03:47.863 --> 00:03:50.328\nI can kinda have them all in one place.\n\n92\n00:03:50.328 --> 00:03:54.605\nI can also go down, it is alphabetical.\n\n93\n00:03:54.605 --> 00:03:58.622\nAnd I could see Group Policy Management,\nGroup Policy Management Editor,\n\n94\n00:03:58.622 --> 00:04:01.170\nObject Editor,\nthe Starter GPO Editor, etc.\n\n95\n00:04:01.170 --> 00:04:02.845\nSo I have different options,\ndepending on what I wanna do.\n\n96\n00:04:02.845 --> 00:04:06.544\nEvent Viewer, etc., so\nI'll grab whichever ones I want.\n\n97\n00:04:06.544 --> 00:04:07.305\nPut them all in there.\n\n98\n00:04:07.305 --> 00:04:10.350\nYou could see there's a whole bunch,\nsome from the control panel.\n\n99\n00:04:10.350 --> 00:04:14.467\nThings like services,\nshared folders, task scheduler, etc.\n\n100\n00:04:14.467 --> 00:04:17.765\nSo once I've done all that,\nI go ahead and click OK.\n\n101\n00:04:17.765 --> 00:04:19.673\nAnd then I have this console\nwith all these tools.\n\n102\n00:04:19.673 --> 00:04:23.543\nAnd if I ever want to save it,\ngo to File &gt; Save As.\n\n103\n00:04:23.543 --> 00:04:26.772\nI'll put it on the desktop just so\nwe could find it if we wanna see it.\n\n104\n00:04:26.772 --> 00:04:27.988\nI'll give it a name.\n\n105\n00:04:27.988 --> 00:04:30.880\nYou could probably come up with something\na little more inventive than console one.\n\n106\n00:04:30.880 --> 00:04:36.690\nSo maybe AD admin tools or something like\nthat, since that's what are in here.\n\n107\n00:04:36.690 --> 00:04:41.099\nAnd then it saves as an MMC\nextension automatically, click Save.\n\n108\n00:04:41.099 --> 00:04:42.291\nGet my console there.\n\n109\n00:04:42.291 --> 00:04:47.180\nAnd then if I do that,\nI just minimize here for a minute,\n\n110\n00:04:47.180 --> 00:04:53.017\nthere we go, you could see that my\nconsole is sitting right there.\n\n111\n00:04:53.017 --> 00:04:55.657\nAnd if I open it up-\n&gt;&gt; [CROSSTALK] Do you have a real lunchbox\n\n112\n00:04:55.657 --> 00:04:58.000\nthat looks like that,\na little toolbox looking lunchbox?\n\n113\n00:04:58.000 --> 00:05:02.010\n[LAUGH]\n&gt;&gt; No, I haven't had a lunchbox since I\n\n114\n00:05:02.010 --> 00:05:07.213\nwas probably, wow, yeah, so\nlong ago I can't count that high.\n\n115\n00:05:07.213 --> 00:05:08.475\nSo no, I do not.\n\n116\n00:05:08.475 --> 00:05:09.710\nIt will open up in a minute.\n\n117\n00:05:09.710 --> 00:05:11.260\nIt's just a little slow to open up.\n\n118\n00:05:11.260 --> 00:05:13.380\nThere we go, I think I clicked it twice so\nit was just loading twice.\n\n119\n00:05:13.380 --> 00:05:14.970\nBut you could see it just opens up and\n\n120\n00:05:14.970 --> 00:05:17.680\nthen we're off to the races\nable to use it with no trouble.\n\n121\n00:05:17.680 --> 00:05:20.440\nSo just keep that in mind,\njust gonna get rid of that.\n\n122\n00:05:22.680 --> 00:05:24.540\nClose it, and\nyou could see how we would bring that up.\n\n123\n00:05:24.540 --> 00:05:28.230\nSo if you wanted to create a custom MMC,\nnow at least you've seen how to do that.\n\n124\n00:05:28.230 --> 00:05:30.551\nAll right, so we're talking about policy.\n\n125\n00:05:30.551 --> 00:05:35.123\nSo the restricted group is a group that\nis managed through group policy, so\n\n126\n00:05:35.123 --> 00:05:38.693\nwe have to go into a security policy,\nand take a look at it.\n\n127\n00:05:38.693 --> 00:05:42.096\nThe standing default security\npolicy we often reference for\n\n128\n00:05:42.096 --> 00:05:44.773\na domain machine is\nthe default domain policy.\n\n129\n00:05:44.773 --> 00:05:48.190\nAnd we could see that here under\nour domainpracticelabs.com.\n\n130\n00:05:48.190 --> 00:05:51.390\nSo I'll go highlight it, as I've done.\n\n131\n00:05:51.390 --> 00:05:52.942\nDon't wanna rename it.\n\n132\n00:05:52.942 --> 00:05:55.385\nJust right-click on it and\nchoose Edit just so we can bring it up.\n\n133\n00:05:55.385 --> 00:05:58.207\nSo we're gonna do that, and\nthen we get our Editor window.\n\n134\n00:05:58.207 --> 00:06:00.582\nWe have both computer components and\n\n135\n00:06:00.582 --> 00:06:04.191\nuser components associated\nwith the policy elements.\n\n136\n00:06:04.191 --> 00:06:07.397\nAnd we do need to remember and understand\nthat we have settings that will be\n\n137\n00:06:07.397 --> 00:06:11.300\nspecific and pertinent to users, settings\nspecific and pertinent to computers.\n\n138\n00:06:11.300 --> 00:06:13.575\nIn some cases,\nthose settings will be the same and\n\n139\n00:06:13.575 --> 00:06:15.641\nyou'll see the same\nsetting in both places.\n\n140\n00:06:15.641 --> 00:06:18.917\nWe have to worry about how those combine,\ninteract or cancel each other out.\n\n141\n00:06:18.917 --> 00:06:22.562\nWe'll talk more about that in the group\npolicy discussions coming up.\n\n142\n00:06:22.562 --> 00:06:25.554\nRemember, this is just a littler teaser,\na little taste, an appetizer for\n\n143\n00:06:25.554 --> 00:06:27.957\nthe main course for\ngroup policy that we'll get into later.\n\n144\n00:06:27.957 --> 00:06:30.620\nBut we're really here\nspecific to one function.\n\n145\n00:06:30.620 --> 00:06:34.743\nAnd so what we're gonna do is come\nin here and we're gonna go ahead.\n\n146\n00:06:34.743 --> 00:06:37.322\nAnd we're gonna go into\nthe computer configuration area.\n\n147\n00:06:37.322 --> 00:06:39.658\nGonna open up our Policies folder.\n\n148\n00:06:39.658 --> 00:06:41.171\nLet me just move this over just a bit.\n\n149\n00:06:41.171 --> 00:06:43.362\nThis is that thing I was talking\nabout where I go to move it.\n\n150\n00:06:43.362 --> 00:06:46.104\nSee, sometimes you can, sometimes you-\n&gt;&gt; [CROSSTALK] I know your pain,\n\n151\n00:06:46.104 --> 00:06:46.874\nyeah, I feel it.\n\n152\n00:06:46.874 --> 00:06:48.766\n&gt;&gt; All right, so you'll see we do that.\n\n153\n00:06:48.766 --> 00:06:50.963\nAnd under here,\nyou'll see we go to Windows settings,\n\n154\n00:06:50.963 --> 00:06:52.051\nso let me just open this up.\n\n155\n00:06:52.051 --> 00:06:54.950\nWe do have security settings right here.\n\n156\n00:06:54.950 --> 00:06:58.850\nOpen this up as well, so it's really\njust a matter of knowing where to go.\n\n157\n00:06:58.850 --> 00:07:00.898\nAnd you'll see right here\nwe have restricted groups.\n\n158\n00:07:00.898 --> 00:07:04.197\nThere's a folder sitting under there and\nit is blank by default.\n\n159\n00:07:04.197 --> 00:07:06.959\nThere are no members in restricted\ngroups or no groups that are listed.\n\n160\n00:07:06.959 --> 00:07:10.008\nBut we can add one in if we\nneed to through the policy.\n\n161\n00:07:10.008 --> 00:07:14.070\nSo we can right-click and\nwe can add a group, as you can see here.\n\n162\n00:07:14.070 --> 00:07:17.910\nAnd by the way, right-clicking on the\nfolder verses right clicking in the open\n\n163\n00:07:17.910 --> 00:07:21.040\nwhite space in the editable window\non the right, same exact behavior.\n\n164\n00:07:21.040 --> 00:07:21.970\nIt doesn't matter where you do it,\n\n165\n00:07:21.970 --> 00:07:25.600\nso in case you have done that sometimes\nwondering, am I in the right place,\n\n166\n00:07:25.600 --> 00:07:27.230\nam I doing the right thing,\nit's the same thing.\n\n167\n00:07:27.230 --> 00:07:28.530\nIt doesn't matter where you do it, right?\n\n168\n00:07:28.530 --> 00:07:32.205\nSo we could do Add Group and\n\n169\n00:07:32.205 --> 00:07:35.820\nwe'll give this a group name that we\nalready know and, or browse for one.\n\n170\n00:07:35.820 --> 00:07:38.010\nSo our little pick list is here, right?\n\n171\n00:07:38.010 --> 00:07:43.248\nSo if we do our domain guests group,\ncheck names,\n\n172\n00:07:43.248 --> 00:07:50.374\nyou'll see that becomes available\nto us and we click OK, click OK.\n\n173\n00:07:50.374 --> 00:07:54.824\nAnd then, once we do that, you'll see\nthat we have configure membership for\n\n174\n00:07:54.824 --> 00:07:58.528\npractice labs members of this group,\nthis group is a member of.\n\n175\n00:07:58.528 --> 00:08:00.743\nSo I can essentially modify\nthe membership here.\n\n176\n00:08:00.743 --> 00:08:02.311\nSo I'm not just adding a group in, but\n\n177\n00:08:02.311 --> 00:08:05.300\nI'm actually now given the opportunity\nto manipulate the membership.\n\n178\n00:08:05.300 --> 00:08:08.658\nBecause I'm now gonna control\nmembership in this group and use it.\n\n179\n00:08:08.658 --> 00:08:13.207\nSo, that way I can enable membership for\nthis group.\n\n180\n00:08:13.207 --> 00:08:15.906\nAnd essentially,\nliterally just control what it does and\n\n181\n00:08:15.906 --> 00:08:18.320\nassign resource permissions\nas a result of it.\n\n182\n00:08:18.320 --> 00:08:22.200\nThe difference here really, and the only\nthought process around restricted groups\n\n183\n00:08:22.200 --> 00:08:26.380\nyou wanna keep in mind, is we're\ncreating a category in the policy.\n\n184\n00:08:26.380 --> 00:08:29.050\nSo I can assign a group and\ncontrol membership, and\n\n185\n00:08:29.050 --> 00:08:32.080\nnow this will be controlled through\nthe entire domain this way.\n\n186\n00:08:32.080 --> 00:08:35.410\nIt will be applied to all domain members,\nmeaning all machines\n\n187\n00:08:35.410 --> 00:08:38.640\nthat are domain-joined, all users\nthat log on with a domain account.\n\n188\n00:08:38.640 --> 00:08:41.810\nThis will apply to the computer portion,\nnot the user portion, but\n\n189\n00:08:41.810 --> 00:08:44.490\nthe computer portion\nof the domain objects.\n\n190\n00:08:44.490 --> 00:08:47.220\nAnd as a result gets applied,\nso this group and\n\n191\n00:08:47.220 --> 00:08:51.620\nthis membership is now gonna be controlled\nacross the entire domain this way.\n\n192\n00:08:51.620 --> 00:08:53.910\nSo, we're just using this element.\n\n193\n00:08:53.910 --> 00:08:56.310\nThe group policy object elements,\n\n194\n00:08:56.310 --> 00:08:59.090\nyou essentially create this group and\ncontrol the membership of it.\n\n195\n00:08:59.090 --> 00:09:03.913\nSo, add members of this group,\nso I can go in, specify Cher B,\n\n196\n00:09:03.913 --> 00:09:07.920\nlet's say, as a user,\nright, will be our member.\n\n197\n00:09:09.380 --> 00:09:17.710\nMaybe we'll go in and\nwe'll add in our _adamg, a template user.\n\n198\n00:09:17.710 --> 00:09:22.480\nAll right, so it can do that or whatever\nthe user was called, whatever I called it.\n\n199\n00:09:22.480 --> 00:09:26.530\nBut I can go in and I can add those in,\nright, whatever it may be.\n\n200\n00:09:26.530 --> 00:09:31.060\nAnd then once I'm done,\nI would then have a list of users, right?\n\n201\n00:09:31.060 --> 00:09:35.750\nAnd then click apply, click OK,\nand I now have this here.\n\n202\n00:09:35.750 --> 00:09:37.710\nAnd again, I could go and\njust modify the membership,\n\n203\n00:09:37.710 --> 00:09:39.426\nthat's all I'm doing by\ncreating this group.\n\n204\n00:09:39.426 --> 00:09:43.442\nI'm just formulating the membership,\ncontrolling it at a policy level as\n\n205\n00:09:43.442 --> 00:09:46.196\nopposed to through a MMC\nwith the management tool.\n\n206\n00:09:46.196 --> 00:09:49.673\nWhere maybe multiple administrators\nhave rights to go in and do this, or\n\n207\n00:09:49.673 --> 00:09:51.383\nmultiple people may make changes.\n\n208\n00:09:51.383 --> 00:09:54.026\nI can now force the membership\nto look a certain way and\n\n209\n00:09:54.026 --> 00:09:56.804\ncontrol it through Group Policy,\nat the domain level.\n\n210\n00:09:56.804 --> 00:09:58.448\nMeaning the domain admin typically,\n\n211\n00:09:58.448 --> 00:10:01.625\nwould be the only role that has\nrights to go in and edit this policy.\n\n212\n00:10:01.625 --> 00:10:05.155\nSo I'm just upping my game a little bit\nby using group policy to control this.\n\n213\n00:10:05.155 --> 00:10:08.180\nI can also remove it from the restricted\ngroups list, as you can see.\n\n214\n00:10:08.180 --> 00:10:10.075\nI can delete it from there, if I need to.\n\n215\n00:10:10.075 --> 00:10:14.828\nSo I can certainly do this, if I wanna go\nin, and I wanna be able to make a change.\n\n216\n00:10:14.828 --> 00:10:18.968\nBut keep in mind that if we decide to\ndo this, we are forcing membership, or\n\n217\n00:10:18.968 --> 00:10:23.397\nforcing users into this group and/or make\nthis group a member of other groups.\n\n218\n00:10:23.397 --> 00:10:26.345\nThrough policy it will\napply to all machines,\n\n219\n00:10:26.345 --> 00:10:30.760\nonce those machines have restarted and\npulled down a new policy.\n\n220\n00:10:30.760 --> 00:10:35.340\nOr we do a GP update force, so we force\nthe policy update while the machine is on,\n\n221\n00:10:35.340 --> 00:10:38.760\nor we wait long enough for\nthe policy refresh cycle to kick in.\n\n222\n00:10:38.760 --> 00:10:41.451\nAgain, we'll talk about all these things\nin an upcoming set of episodes around\n\n223\n00:10:41.451 --> 00:10:41.982\ngroup policy.\n\n224\n00:10:41.982 --> 00:10:45.605\nBut you may or may not know that group\npolicy does not apply immediately is what\n\n225\n00:10:45.605 --> 00:10:46.790\nI'm suggesting to you.\n\n226\n00:10:46.790 --> 00:10:49.667\nI'm just making sure you're\nclear of as we go in here,\n\n227\n00:10:49.667 --> 00:10:51.743\nmuch like a registry editing, right?\n\n228\n00:10:51.743 --> 00:10:53.214\nWould be where we go in and\nfinish editing, and\n\n229\n00:10:53.214 --> 00:10:55.540\nthe minute we do it the change is\nalready applied on the system.\n\n230\n00:10:55.540 --> 00:10:58.180\nGroup policy doesn't work that way,\nit's not a media.\n\n231\n00:10:58.180 --> 00:11:01.300\nGroup policy is applied but\napplied through a refresh interval, and\n\n232\n00:11:01.300 --> 00:11:04.440\napplied at certain\nspecific time intervals.\n\n233\n00:11:04.440 --> 00:11:05.700\nAnd so we have to be aware of that,\n\n234\n00:11:05.700 --> 00:11:08.650\nwhen certain activities try\nthe application of policy.\n\n235\n00:11:08.650 --> 00:11:12.640\nWe can manually force a refresh\nusing the GP update force\n\n236\n00:11:12.640 --> 00:11:15.330\ncommand I talked about\nissued from a command line.\n\n237\n00:11:15.330 --> 00:11:20.180\nWe can also log off or shut down or\nrestart, forcing a pull of the new policy,\n\n238\n00:11:20.180 --> 00:11:23.870\nand a pull to add it to the token and\nto update the credential.\n\n239\n00:11:23.870 --> 00:11:26.522\nAnd or\nwithin the specified refresh policy,\n\n240\n00:11:26.522 --> 00:11:31.128\nwe will see the policy applied throughout\nthe domain in a running timeline from\n\n241\n00:11:31.128 --> 00:11:33.589\nabout 30 minutes out to about 2 hours.\n\n242\n00:11:33.589 --> 00:11:37.031\nDepending on circumstances and\ncertain variables that we talked about,\n\n243\n00:11:37.031 --> 00:11:40.983\nwhat kind of machine it is, is it a domain\ncontroller, a domain join machine, etc.\n\n244\n00:11:40.983 --> 00:11:43.233\nBut if we wait long enough,\nthis policy would apply,\n\n245\n00:11:43.233 --> 00:11:44.640\nthese updates would take place.\n\n246\n00:11:44.640 --> 00:11:46.960\nBut it may take a little bit,\nso just be aware of that.\n\n247\n00:11:48.360 --> 00:11:51.935\nIf If we were to unlink this policy,\nand you wouldn't unlink this policy by\n\n248\n00:11:51.935 --> 00:11:54.456\nthe way,\nbecause it's the default domain policy.\n\n249\n00:11:54.456 --> 00:11:56.205\nIt would be a really bad\nidea if you did this.\n\n250\n00:11:56.205 --> 00:11:57.945\nBut when we unlink a policy,\n\n251\n00:11:57.945 --> 00:12:01.585\nwhat we're suggesting is you remove\nthe policy from the container.\n\n252\n00:12:01.585 --> 00:12:03.055\nAnd you no longer apply the policy.\n\n253\n00:12:03.055 --> 00:12:04.875\nThat's the language we use.\n\n254\n00:12:04.875 --> 00:12:08.925\nIf we were to unlink a policy, let's say\nit wasn't the default domain policy we did\n\n255\n00:12:08.925 --> 00:12:12.590\nthis with, but another policy,\none we created ourselves.\n\n256\n00:12:12.590 --> 00:12:17.000\nIf we were to unlink this policy,\nremove it from the application, if so, and\n\n257\n00:12:17.000 --> 00:12:20.460\nthere were computer accounts in the OU,\n\n258\n00:12:20.460 --> 00:12:23.300\naware that particular policy\nwas applied or that container.\n\n259\n00:12:23.300 --> 00:12:25.858\nSo join me back here for\njust a minute, if you will.\n\n260\n00:12:25.858 --> 00:12:27.986\nLet me just get out of here for a second.\n\n261\n00:12:27.986 --> 00:12:29.949\nGive me just one second to close this.\n\n262\n00:12:31.170 --> 00:12:33.330\nAnd if we come back, whoops.\n\n263\n00:12:33.330 --> 00:12:34.600\nDidn't mean to close that.\n\n264\n00:12:34.600 --> 00:12:36.908\nHold on one second, I clicked too\nmany times and I wound up closing.\n\n265\n00:12:36.908 --> 00:12:38.472\n&gt;&gt; I get click happy also.\n\n266\n00:12:38.472 --> 00:12:38.976\n&gt;&gt; What?\n\n267\n00:12:38.976 --> 00:12:39.575\n&gt;&gt; Click Happy.\n\n268\n00:12:39.575 --> 00:12:41.833\n&gt;&gt; I am, I didn't realize,\nbecause of the latency,\n\n269\n00:12:41.833 --> 00:12:44.200\nI didn't realize it had\nregistered the click.\n\n270\n00:12:44.200 --> 00:12:46.097\nLet me just open the group\npolicy editor back up again.\n\n271\n00:12:46.097 --> 00:12:48.180\nJust one second, group policy management.\n\n272\n00:12:48.180 --> 00:12:50.330\nGive me just a moment to\nbring the tool back up.\n\n273\n00:12:50.330 --> 00:12:52.650\nSo what I was suggesting\nis this policy default,\n\n274\n00:12:52.650 --> 00:12:55.360\nthe main policy is linked\nto the domain object.\n\n275\n00:12:55.360 --> 00:12:59.910\nI would not ever have any kind of reason\nthat would force me to unlink that policy,\n\n276\n00:12:59.910 --> 00:13:02.900\nbecause that is what controls\nall security settings for\n\n277\n00:13:02.900 --> 00:13:05.800\nall members of the domain,\nout of the box by default.\n\n278\n00:13:05.800 --> 00:13:08.010\nAnd that is a system inspired policy.\n\n279\n00:13:08.010 --> 00:13:09.160\nIt's created and\n\n280\n00:13:09.160 --> 00:13:13.930\nput there as part of the operating systems\noperation of the active directory.\n\n281\n00:13:13.930 --> 00:13:16.200\nAnd we would not wanna\nmess with doing that.\n\n282\n00:13:16.200 --> 00:13:19.120\nThat would cause a lot of disruption and\nconcern.\n\n283\n00:13:19.120 --> 00:13:23.175\nBut if I had a policy,\nlet's say in theory on the EMEA,\n\n284\n00:13:23.175 --> 00:13:28.740\nE-M-E-A OU, this container\nobject called an OU right here.\n\n285\n00:13:28.740 --> 00:13:31.220\nRight click, create a GPO and\nlink it here.\n\n286\n00:13:31.220 --> 00:13:33.580\nSo let's just say I did this and\ncalled this\n\n287\n00:13:34.730 --> 00:13:40.130\nRestricted Groups and I just hit enter.\n\n288\n00:13:40.130 --> 00:13:44.290\nAnd I put this policy in place right here.\n\n289\n00:13:44.290 --> 00:13:47.290\nAnd I then went and edited this policy and\nthen I decided, hey,\n\n290\n00:13:47.290 --> 00:13:48.840\nI'm gonna remove it and I remove it.\n\n291\n00:13:48.840 --> 00:13:52.510\nSo unlinking it is removing it, right,\nblocking it from being applied.\n\n292\n00:13:52.510 --> 00:13:56.950\nIf I do that, group memberships\nthat are assigned are not removed.\n\n293\n00:13:56.950 --> 00:14:00.670\nSo once you put the group memberships\ninto the restricted group container and\n\n294\n00:14:00.670 --> 00:14:03.980\nyou work with them in the policy, those\nstay even though you remove the policy.\n\n295\n00:14:03.980 --> 00:14:07.340\nAnd so it's important for you to be aware\nof the fact that if you use restricted\n\n296\n00:14:07.340 --> 00:14:10.550\ngroups, and\nyou manage it through the policy.\n\n297\n00:14:10.550 --> 00:14:13.249\nOnce you apply it,\nI'm not saying you can't remove it.\n\n298\n00:14:13.249 --> 00:14:16.725\nI'm just saying that the removal of\nthe policy does not automatically equal\n\n299\n00:14:16.725 --> 00:14:18.136\nthe removal of the groups, and\n\n300\n00:14:18.136 --> 00:14:21.350\nthe structuring of the membership\nof the restricted group.\n\n301\n00:14:21.350 --> 00:14:22.458\nIt stays in place.\n\n302\n00:14:22.458 --> 00:14:26.170\nYou would have to go modify it through\neither the application of another policy.\n\n303\n00:14:26.170 --> 00:14:31.275\nOr you would have to go modify it by\nusing the active directory users and\n\n304\n00:14:31.275 --> 00:14:33.900\ncomputer's MMC to be\nable to then change that.\n\n305\n00:14:33.900 --> 00:14:38.560\nSo, please do know, this is one of those\nlittle pieces of a news show, those little\n\n306\n00:14:38.560 --> 00:14:41.570\ngeek trivia facts that we point out from\ntime to time that are very valuable for\n\n307\n00:14:41.570 --> 00:14:42.330\nyou to be aware of.\n\n308\n00:14:42.330 --> 00:14:43.690\n&gt;&gt; This is where I need a little dinger.\n\n309\n00:14:43.690 --> 00:14:45.420\nA sound effect board.\n\n310\n00:14:45.420 --> 00:14:46.020\n&gt;&gt; Perhaps.\n\n311\n00:14:46.020 --> 00:14:48.918\nOr we could just say that it could be\na testable item that would be valuable for\n\n312\n00:14:48.918 --> 00:14:50.425\nyou to pay attention to and be aware of.\n\n313\n00:14:50.425 --> 00:14:52.150\nAnd that would also-\n&gt;&gt; That would work.\n\n314\n00:14:52.150 --> 00:14:56.220\n&gt;&gt; Stir your interest, and get your ears\nto perk up and get you to pay attention.\n\n315\n00:14:56.220 --> 00:15:01.170\nBut do pay attention please, and\ndo note the fact that this now will stay.\n\n316\n00:15:01.170 --> 00:15:05.018\nIn other words, this membership will\noutlive the application of the policy.\n\n317\n00:15:05.018 --> 00:15:07.610\nI just wanna make sure you're aware\nof that, and you have sense of that.\n\n318\n00:15:07.610 --> 00:15:11.980\nBecause again, often misunderstood,\nmisused feature, and\n\n319\n00:15:11.980 --> 00:15:13.030\npeople don't realize it's there.\n\n320\n00:15:13.030 --> 00:15:14.750\nBut they also don't realize\nthe benefit of using it.\n\n321\n00:15:14.750 --> 00:15:18.080\nAnd, not the detriment by any means,\nbut the outcome of using it and\n\n322\n00:15:18.080 --> 00:15:21.080\nthen removing the policy,\nwhich is that the grant stays behind,\n\n323\n00:15:21.080 --> 00:15:24.420\nthe group memberships are going\nto outlive the policy.\n\n324\n00:15:24.420 --> 00:15:27.540\nSo it is important just to think\nabout that and be aware of that.\n\n325\n00:15:27.540 --> 00:15:30.400\nI would then mention we would also\ntalk about some default groups.\n\n326\n00:15:30.400 --> 00:15:32.930\nWe have lots of different default\ngroups that are built in.\n\n327\n00:15:32.930 --> 00:15:35.615\nWe have, and you've probably heard\nme mention a lot of these already.\n\n328\n00:15:35.615 --> 00:15:36.768\nThe enterprise admins group,\n\n329\n00:15:36.768 --> 00:15:39.400\nwe go back to where we are gonna\ntalk about some of these groups.\n\n330\n00:15:39.400 --> 00:15:42.989\nWe do have a group slide as you could\nsee here, and there are many of them.\n\n331\n00:15:42.989 --> 00:15:45.630\nLet's just move this over so we can see.\n\n332\n00:15:45.630 --> 00:15:48.953\nWe do have here under built-in,\n\n333\n00:15:51.619 --> 00:15:55.576\nWe have the administrators group,\nright, this is one category,\n\n334\n00:15:55.576 --> 00:15:59.826\nbuilt-in groups that are there as\npart of the operation of the system.\n\n335\n00:15:59.826 --> 00:16:01.567\nThere's a whole bunch\nof them as you can see.\n\n336\n00:16:01.567 --> 00:16:05.723\nWe do have in the users\ncontainer other groups, right?\n\n337\n00:16:05.723 --> 00:16:10.669\nWe do have the domain administrators,\nthe DHCP administrators.\n\n338\n00:16:10.669 --> 00:16:15.138\nDomain computers, domain controllers,\ndomain guest etc.,\n\n339\n00:16:15.138 --> 00:16:18.450\nthese are groups that are created.\n\n340\n00:16:18.450 --> 00:16:22.883\nAnd groups that are part of the default\nlist of groups that are going to be spun\n\n341\n00:16:22.883 --> 00:16:24.002\nup as we do things.\n\n342\n00:16:24.002 --> 00:16:27.548\nThe administrator group, the built-in\ngroup for administration in the domain,\n\n343\n00:16:27.548 --> 00:16:30.181\nthe domain admin group, but\nalso the administrators group,\n\n344\n00:16:30.181 --> 00:16:32.320\nthe local admin group\nfall into this category.\n\n345\n00:16:32.320 --> 00:16:35.720\nCount operator we saw a bunch of these,\nthere's all sorts in there.\n\n346\n00:16:35.720 --> 00:16:37.720\nWe also have what are called\nprotected groups.\n\n347\n00:16:37.720 --> 00:16:43.160\nProtected groups are a subclass\nof this group of domain based or\n\n348\n00:16:43.160 --> 00:16:45.538\nlocal based groups that\nare default groups that are there.\n\n349\n00:16:45.538 --> 00:16:48.950\nThe idea of protected groups are that\nthe operating system defines them\n\n350\n00:16:48.950 --> 00:16:50.510\nas protected.\n\n351\n00:16:50.510 --> 00:16:54.160\nControls them in such a way that they\ncannot be number one unprotected,\n\n352\n00:16:54.160 --> 00:16:57.690\nmeaning you cannot rest control of\nthem from the operating system.\n\n353\n00:16:57.690 --> 00:17:02.130\nProtection in this context means\nthe OS is monitoring those groups,\n\n354\n00:17:02.130 --> 00:17:04.300\nmanages them, controls them.\n\n355\n00:17:04.300 --> 00:17:09.080\nThey're not available to us to work\nwith in the same way that a group like,\n\n356\n00:17:10.110 --> 00:17:12.260\nlet's say the group that I created.\n\n357\n00:17:12.260 --> 00:17:14.179\nWhere is it, NSync.\n\n358\n00:17:14.179 --> 00:17:17.160\nThis is a group that has to create\nan owner, an individual user.\n\n359\n00:17:17.160 --> 00:17:20.470\nYes I am logged on as the domain admin,\nI have rights to do this,\n\n360\n00:17:20.470 --> 00:17:22.300\nbut I'm still a user.\n\n361\n00:17:22.300 --> 00:17:24.420\nAnd at the end of the day,\nthat's a user created group.\n\n362\n00:17:24.420 --> 00:17:27.550\nIf I wanna go ahead and right click or\ndelete that group, I can do that.\n\n363\n00:17:27.550 --> 00:17:29.850\nIf I wanna modify the membership,\nI can do that.\n\n364\n00:17:29.850 --> 00:17:33.150\nIf I wanna assign that group\nas a restricted group, and\n\n365\n00:17:33.150 --> 00:17:36.700\ncontrol membership of it,\nwith a group policy, I can do that.\n\n366\n00:17:36.700 --> 00:17:40.870\nBut a protected group is different,\nit's controlled by the operating system.\n\n367\n00:17:40.870 --> 00:17:43.860\nAnd members of the protected\ngroup are also gonna\n\n368\n00:17:43.860 --> 00:17:46.040\nbecome protected by association.\n\n369\n00:17:46.040 --> 00:17:49.040\nAnd as a result, this is the interesting\nthing that people don't often realize,\n\n370\n00:17:49.040 --> 00:17:52.477\nthey no longer inherit ACLs,\naccess control list entries,\n\n371\n00:17:52.477 --> 00:17:55.750\npermission grants from the OUs, but\n\n372\n00:17:55.750 --> 00:17:59.780\ninstead receive a copy of their ACL\nfrom the protected group itself.\n\n373\n00:17:59.780 --> 00:18:04.200\nSo the operating system steps in and\ncontrols at what levels we get permissions\n\n374\n00:18:04.200 --> 00:18:07.100\nand how those permissions\nare applied with protected groups.\n\n375\n00:18:07.100 --> 00:18:07.610\nHello?\n\n376\n00:18:07.610 --> 00:18:10.910\n&gt;&gt; Hi, are we able to change these\nprotected group permissions or\n\n377\n00:18:10.910 --> 00:18:13.090\nis that operating system generated?\n\n378\n00:18:13.090 --> 00:18:16.920\n&gt;&gt; They are going to be controlled\nby the operating system,\n\n379\n00:18:16.920 --> 00:18:18.540\ngroups that fall into this\ncategory will be grouped.\n\n380\n00:18:18.540 --> 00:18:21.820\nSome of them I mentioned that happen also\nto be default groups, many of them are,\n\n381\n00:18:21.820 --> 00:18:24.250\nactually all of them are default\ngroups in one form or another.\n\n382\n00:18:24.250 --> 00:18:26.620\nBut they're in a subclass specifically.\n\n383\n00:18:26.620 --> 00:18:33.035\nEnterprise admins, for instance, account\noperators, cert publishers, domain admins.\n\n384\n00:18:33.035 --> 00:18:35.653\nThese are all groups that\nare not only default groups, but\n\n385\n00:18:35.653 --> 00:18:39.470\nfall into this other special categories,\na subset of protected groups.\n\n386\n00:18:39.470 --> 00:18:40.484\nSo can I assign or\n\n387\n00:18:40.484 --> 00:18:45.339\nmodify permissions by giving the domain\nadmins a membership in another group,\n\n388\n00:18:45.339 --> 00:18:49.625\nto let them access and do things that\nI can make them a member of a group.\n\n389\n00:18:49.625 --> 00:18:53.055\nBut, we don't control the permissions\nassigned to domain admins in\n\n390\n00:18:53.055 --> 00:18:54.188\nthe traditional way.\n\n391\n00:18:54.188 --> 00:18:57.637\nMeaning, I can't say, hey, as a member\nof the domain admin's group guess what,\n\n392\n00:18:57.637 --> 00:18:59.300\nyou're no longer able to do this-\n&gt;&gt; Okay.\n\n393\n00:18:59.300 --> 00:19:02.990\n&gt;&gt; Because if I did that, or if I had the\nright to do that, imagine, even if it was\n\n394\n00:19:02.990 --> 00:19:04.811\nby accident, the chaos that would-\n&gt;&gt; [CROSSTALK] yeah.\n\n395\n00:19:04.811 --> 00:19:05.637\n&gt;&gt; Right, ensue,\n\n396\n00:19:05.637 --> 00:19:09.070\nyou'd be out of the I'm using the OS\nbusiness in about five minutes.\n\n397\n00:19:09.070 --> 00:19:10.500\nBecause the OS would self destruct.\n\n398\n00:19:10.500 --> 00:19:12.840\nAnd you wouldn't be able to\nboot it back up or get into it.\n\n399\n00:19:12.840 --> 00:19:14.960\nCuz you lock yourself out, most likely.\n\n400\n00:19:14.960 --> 00:19:19.910\nSo server operators, the read only domain\ncontrollers group is classified here.\n\n401\n00:19:19.910 --> 00:19:23.845\nThe KRBTGT group,\nthe Kerberos management groups.\n\n402\n00:19:23.845 --> 00:19:27.160\nThere are all these core operating system\ngroups that have to be controlled.\n\n403\n00:19:27.160 --> 00:19:29.830\nHave to essentially be on lockdown and\n\n404\n00:19:29.830 --> 00:19:33.030\nremove from our ability to\ndirectly control permissions.\n\n405\n00:19:33.030 --> 00:19:38.030\nGreat point Cherokee made, although we can\ncertainly add them into other groups and\n\n406\n00:19:38.030 --> 00:19:43.140\nuse them to grant membership through in\norder to be able to give people rights.\n\n407\n00:19:43.140 --> 00:19:46.313\nWe can add members to that group,\nmake that a member of other groups.\n\n408\n00:19:46.313 --> 00:19:47.777\nBut we're not able to mess around with or\n\n409\n00:19:47.777 --> 00:19:50.070\nin any way modify the permissions\nassociated with this group.\n\n410\n00:19:50.070 --> 00:19:53.000\nThat's essentially what\nthe protected group status means.\n\n411\n00:19:53.000 --> 00:19:56.450\nSo it's a special group,\nwe call that typically a protected group.\n\n412\n00:19:56.450 --> 00:19:59.870\nAnd there are special identities for\nspecial groups as well.\n\n413\n00:19:59.870 --> 00:20:01.685\nThat's what Microsoft is\ncalling them these days.\n\n414\n00:20:01.685 --> 00:20:04.875\nWe used to call them built in groups\nback in the day, we used to call\n\n415\n00:20:04.875 --> 00:20:08.703\nthe system groups, you've even heard me\nrefer to them that way once or twice,\n\n416\n00:20:08.703 --> 00:20:11.441\ncuz I sometimes slip into my old NT 4,\n2000 speak.\n\n417\n00:20:11.441 --> 00:20:13.829\nBut these days,\nthey're called special identities,\n\n418\n00:20:13.829 --> 00:20:15.620\nthat's what we call them in Server 16.\n\n419\n00:20:15.620 --> 00:20:18.520\nOne of your most favorite groups you\nmention on a regular basis falls into\n\n420\n00:20:18.520 --> 00:20:21.530\nthis category, the everyone group,\nwhich you love to talk about.\n\n421\n00:20:21.530 --> 00:20:24.090\nAnd the everyone group is\na classic example of this,\n\n422\n00:20:24.090 --> 00:20:27.560\nthe authenticating users group,\nanonymous logon,\n\n423\n00:20:27.560 --> 00:20:31.600\ninteractive, network, create or owner,\nwe just probably mentioned that.\n\n424\n00:20:31.600 --> 00:20:33.850\nThese are all groups or\n\n425\n00:20:33.850 --> 00:20:37.980\ngroups that are fond into the special\ndesignation of special identities or\n\n426\n00:20:37.980 --> 00:20:41.990\nwhat we would have commonly called\nsystem control groups back in the day.\n\n427\n00:20:41.990 --> 00:20:44.724\nThese are groups again,\nlike protector groups that are sub-class.\n\n428\n00:20:44.724 --> 00:20:49.940\nOur control but\nthe difference is with a protected group,\n\n429\n00:20:49.940 --> 00:20:53.204\nI can see the group, I can interact with\nthat, I can modify the membership in it.\n\n430\n00:20:53.204 --> 00:20:56.950\nAlthough not permissions as we said,\nwith special identity groups\n\n431\n00:20:56.950 --> 00:21:01.260\nI have no knowledge of them, I don't\nsee them, I can't interact with them,\n\n432\n00:21:01.260 --> 00:21:04.150\nI'm not able to add or\nremove membership in those groups.\n\n433\n00:21:04.150 --> 00:21:08.360\nIn other words, the OS totally blocks\nme from connecting to them in any way,\n\n434\n00:21:08.360 --> 00:21:09.940\ncontrols them 100%.\n\n435\n00:21:09.940 --> 00:21:11.840\nAnd it's only going to,\n\n436\n00:21:11.840 --> 00:21:16.970\nand indeed all the time, will manage\nthem on our behalf, as individual users.\n\n437\n00:21:16.970 --> 00:21:20.790\nWe are put into these groups on demand,\nas we engage in activities that require\n\n438\n00:21:20.790 --> 00:21:25.370\nmembership in them were removed\nwhen that requirement disappears.\n\n439\n00:21:25.370 --> 00:21:29.010\nBut we are not able to control that\nprocess in any way shape or form.\n\n440\n00:21:29.010 --> 00:21:30.590\nOperating systems does that 100%.\n\n441\n00:21:30.590 --> 00:21:32.530\nWe don't have any way of\ninteracting with these groups.\n\n442\n00:21:32.530 --> 00:21:36.419\nThat's the distinction between special\nidentity groups and protected groups.\n\n443\n00:21:36.419 --> 00:21:37.911\nI want to make sure we're clear on that.\n\n444\n00:21:37.911 --> 00:21:41.286\nYou are clear on that and\nthat you understand it's a very important\n\n445\n00:21:41.286 --> 00:21:44.480\ndistinction and one that could\nbe something that comes back and\n\n446\n00:21:44.480 --> 00:21:48.110\nyou may have to speak about knowledgeably\nat some point in the future.\n\n447\n00:21:48.110 --> 00:21:50.580\nAnd I could see several\nways of doing that.\n\n448\n00:21:50.580 --> 00:21:54.010\nA drag and drop question with\ngroups in different buckets.\n\n449\n00:21:54.010 --> 00:21:57.220\nMake sure that the right group winds\nup in the right designated category.\n\n450\n00:21:57.220 --> 00:22:01.063\nI could see a word problem\nscenario of some kind.\n\n451\n00:22:01.063 --> 00:22:02.487\nWhat kind of group are we talking about?\n\n452\n00:22:02.487 --> 00:22:04.370\nWhat kind of group would this group be?\n\n453\n00:22:04.370 --> 00:22:05.630\nWould it be a special identity?\n\n454\n00:22:05.630 --> 00:22:07.330\nWould it be a protected group?\n\n455\n00:22:07.330 --> 00:22:09.510\nI could see a lot of ways\nof asking those questions.\n\n456\n00:22:09.510 --> 00:22:12.920\nSo it would be helpful for\nyou to be aware of that and\n\n457\n00:22:12.920 --> 00:22:15.450\nmake sure you are familiar with that.\n\n458\n00:22:15.450 --> 00:22:16.400\n&gt;&gt; Yeah, the everyone group.\n\n459\n00:22:16.400 --> 00:22:18.970\nIt can mess you up sometimes\nif you forget about it and\n\n460\n00:22:18.970 --> 00:22:20.780\nforget about some of\nthose special identities.\n\n461\n00:22:20.780 --> 00:22:24.390\nEspecially when you're mixing different\ntypes of permissions in an environment and\n\n462\n00:22:24.390 --> 00:22:26.610\nyou think you're being super restrictive.\n\n463\n00:22:26.610 --> 00:22:30.920\nOr, and you're having those, any kind of\ndiscrepancies with the permissions and\n\n464\n00:22:30.920 --> 00:22:32.550\nyou're like, hey, why is this not working?\n\n465\n00:22:32.550 --> 00:22:34.360\nYeah, the everyone group\nis still existing.\n\n466\n00:22:34.360 --> 00:22:37.400\nOr maybe they are able to grant access\nbecause of those permission settings.\n\n467\n00:22:37.400 --> 00:22:41.180\nOr sometimes you'll see people just remove\nthat everyone group and then really,\n\n468\n00:22:41.180 --> 00:22:43.779\nat a granular level, go ahead and\ndefine those permissions.\n\n469\n00:22:45.090 --> 00:22:47.050\n&gt;&gt; Yes, more often than not, correct.\n\n470\n00:22:47.050 --> 00:22:48.400\nSo just be aware of that.\n\n471\n00:22:48.400 --> 00:22:50.250\nJust make sure you're\ncomfortable with that.\n\n472\n00:22:50.250 --> 00:22:54.740\nSo the message is don't mix your\ngroups like mixing your alcohol.\n\n473\n00:22:54.740 --> 00:22:56.340\n&gt;&gt; [LAUGH] I like that.\n\n474\n00:22:56.340 --> 00:22:58.240\n&gt;&gt; Wine before beer or beer before wine.\n\n475\n00:22:58.240 --> 00:22:59.960\nThat kind of stuff.\n\n476\n00:22:59.960 --> 00:23:01.991\nBut to make it clear we're not\nencouraging you to go out and\n\n477\n00:23:01.991 --> 00:23:03.578\nmix alcohol when we're talking about that.\n\n478\n00:23:03.578 --> 00:23:06.380\nAct responsibly and\nadminister responsibly at all times.\n\n479\n00:23:06.380 --> 00:23:09.260\nAnd so, in addition,\nif we're talking about groups, groups and\n\n480\n00:23:09.260 --> 00:23:11.340\nmemberships and all the stuff.\n\n481\n00:23:11.340 --> 00:23:14.427\nWe have a couple of minutes left in this\nepisode, I thought we'll sneak in one\n\n482\n00:23:14.427 --> 00:23:17.430\nadditional thing, let's talk about\nbetween containers and [INAUDIBLE].\n\n483\n00:23:17.430 --> 00:23:21.079\nBefore we talk about them and many times\nwe'll use the terms interchangeably,\n\n484\n00:23:21.079 --> 00:23:24.074\nnot really thinking that were\nreferring to different objects and\n\n485\n00:23:24.074 --> 00:23:26.431\nnot really understanding\nwhat were referring to.\n\n486\n00:23:26.431 --> 00:23:28.492\nBut it is important to know\nthe distinction between them.\n\n487\n00:23:28.492 --> 00:23:31.622\nAre you feeling up for a little Q and\nA there, Ms. Cherokee?\n\n488\n00:23:31.622 --> 00:23:34.220\n&gt;&gt; I was gonna say,\nam I being put on the spot for a quiz?\n\n489\n00:23:34.220 --> 00:23:35.220\nSure.\n[LAUGH]\n\n490\n00:23:35.220 --> 00:23:38.290\n&gt;&gt; No, I just like talking to you, so\n\n491\n00:23:38.290 --> 00:23:39.850\nI just wanted to say hi, that's all.\n\n492\n00:23:39.850 --> 00:23:40.390\n&gt;&gt; Hey.\n&gt;&gt; No, but\n\n493\n00:23:40.390 --> 00:23:41.590\nlet's talk about this for a minute.\n\n494\n00:23:41.590 --> 00:23:43.372\nI mean, you could actually\nhelp me walk this through,\n\n495\n00:23:43.372 --> 00:23:44.864\nbecause this is a really\nimportant concept.\n\n496\n00:23:44.864 --> 00:23:48.080\nSo we could go back in here for\njust a minute, take a look so\n\n497\n00:23:48.080 --> 00:23:51.100\nwe can kinda talk and do show and\ntell at the same time.\n\n498\n00:23:51.100 --> 00:23:52.860\nSo can we go full screen for\na minute just so\n\n499\n00:23:52.860 --> 00:23:55.090\nwe can see a very\nimportant distinction here?\n\n500\n00:23:55.090 --> 00:23:58.070\nWe need to have the full screen, then we\nneed to have like the zoom-in option so\n\n501\n00:23:58.070 --> 00:24:00.410\nwe can actually see on the monitor\nwhat we're looking at.\n\n502\n00:24:00.410 --> 00:24:03.370\nBut you can see hopefully if not\nup there you can kinda sneak\n\n503\n00:24:03.370 --> 00:24:05.040\na peek here on my machine\nwhile we're talking.\n\n504\n00:24:05.040 --> 00:24:06.370\n&gt;&gt; Okay.\n&gt;&gt; Just so we can agree on what we're\n\n505\n00:24:06.370 --> 00:24:07.480\ntalking about.\n\n506\n00:24:07.480 --> 00:24:08.769\nSo we do have all of our folders.\n\n507\n00:24:08.769 --> 00:24:11.165\nI'm going to start by calling\nthe folders over here for\n\n508\n00:24:11.165 --> 00:24:14.411\na reason because there is a distinction\nhere between OUs and containers.\n\n509\n00:24:14.411 --> 00:24:15.793\nWanna make sure that we're clear on them.\n\n510\n00:24:15.793 --> 00:24:18.754\nBut a lot of times, you'll see all these,\nand people will just simply say, look,\n\n511\n00:24:18.754 --> 00:24:20.050\nwe have a whole bunch of OUs.\n\n512\n00:24:20.050 --> 00:24:24.250\nBut they're not all OUs,\nthis is actually very important, so\n\n513\n00:24:24.250 --> 00:24:26.477\nwe have containers and OUs here.\n\n514\n00:24:26.477 --> 00:24:29.693\nAll right, it's very hard to see but\non the APAC folder,\n\n515\n00:24:29.693 --> 00:24:34.334\nthere's a little icon up on the lower left\nhand corner of the folder icon, right?\n\n516\n00:24:34.334 --> 00:24:36.883\nAlmost looks like a little stacked book or\nsomething.\n\n517\n00:24:36.883 --> 00:24:40.085\n&gt;&gt; I'm glad you can tell,\nI can never see with that icon really is.\n\n518\n00:24:40.085 --> 00:24:43.413\n&gt;&gt; It's actually a little,\nminiature Megan waving at you, but\n\n519\n00:24:43.413 --> 00:24:46.810\nyou can't tell that unless you\nget really close to the screen.\n\n520\n00:24:46.810 --> 00:24:49.522\nAnd she's holding up a sign that says,\nyay, Cherokee.\n\n521\n00:24:49.522 --> 00:24:54.118\nSo you have the EMEA folder here, again,\nsame icon, just pointing that out.\n\n522\n00:24:54.118 --> 00:24:57.842\nWe have NAmerica,\nSAmerica folders, same icon, so\n\n523\n00:24:57.842 --> 00:25:00.692\nwe agree, we have at least\nfour folders with that icon.\n\n524\n00:25:00.692 --> 00:25:05.710\nNow, we also have another one,\ndomain controllers, now, of the five,\n\n525\n00:25:05.710 --> 00:25:10.020\nAPAC, EMEA, NAmerica, SAmerica,\nthose are ones that I've created.\n\n526\n00:25:10.020 --> 00:25:13.200\nSo I, as a domain admin,\nas a user with rights,\n\n527\n00:25:13.200 --> 00:25:16.550\nhave right-clicked, created those objects.\n\n528\n00:25:16.550 --> 00:25:20.869\nI'm gonna explain what type of object they\nare, the one that I did not create, but\n\n529\n00:25:20.869 --> 00:25:23.042\nis of the same type as those four-\n&gt;&gt; Domain control.\n\n530\n00:25:23.042 --> 00:25:27.740\n&gt;&gt; Is the domain controller’s object,\nthe folder with that object designation.\n\n531\n00:25:27.740 --> 00:25:30.501\nNow, all five of these folders,\nthese objects,\n\n532\n00:25:30.501 --> 00:25:33.015\nare properly and\naccurately referred to as?\n\n533\n00:25:33.015 --> 00:25:34.213\n&gt;&gt; Organizational units.\n\n534\n00:25:34.213 --> 00:25:37.307\n&gt;&gt; Commonly called OUs,\norganizational units, right.\n\n535\n00:25:37.307 --> 00:25:43.158\nSo OUs are one type of object that we see\ninside of the Active Directory users and\n\n536\n00:25:43.158 --> 00:25:45.829\ncomputers MMC, or inside of ADAC.\n\n537\n00:25:45.829 --> 00:25:50.436\nOr we can access through PowerShell,\naccess through the ds add,\n\n538\n00:25:50.436 --> 00:25:53.884\nds mod, ds tool,\nthe command line set of tools.\n\n539\n00:25:53.884 --> 00:25:58.090\nAny or all these tools, all these\nactivities, all wind up in the same way.\n\n540\n00:25:58.090 --> 00:26:02.650\nAnd so, an OU is going to be one\nkind of object, as a matter of fact,\n\n541\n00:26:02.650 --> 00:26:04.730\nit's an object that I can right click.\n\n542\n00:26:04.730 --> 00:26:07.550\nAnd I can choose New on the domain level,\nor\n\n543\n00:26:07.550 --> 00:26:12.440\ninside of an OU container, and\nI have an option to create an OU.\n\n544\n00:26:12.440 --> 00:26:16.441\nLet's create one right now while\nwe're sitting here and talking.\n\n545\n00:26:16.441 --> 00:26:20.833\nAnd so that OU, we'll call this Freddy, so\n\n546\n00:26:20.833 --> 00:26:24.525\nlet's call or create our Freddy OU.\n\n547\n00:26:24.525 --> 00:26:25.368\nYou can see,\n\n548\n00:26:25.368 --> 00:26:30.560\nI just added another object with that\nicon showing me it is an OU graphic.\n\n549\n00:26:30.560 --> 00:26:35.500\nNow, OUs can contain other objects,\nright click inside of an OU,\n\n550\n00:26:35.500 --> 00:26:40.101\ncreate any of the objects on this list,\nincluding other OUs.\n\n551\n00:26:40.101 --> 00:26:45.335\nYou've heard me talking about nesting\ngroups, you can nest OUs inside of other\n\n552\n00:26:45.335 --> 00:26:50.740\nOUs, and that's important because OUs\ncan have group policies applied to them.\n\n553\n00:26:50.740 --> 00:26:54.450\nYou saw that within the group\npolicy management console, and\n\n554\n00:26:54.450 --> 00:26:59.770\nthey can contain other objects, and can be\nused organizationally to administer and\n\n555\n00:26:59.770 --> 00:27:02.800\nprovide functionality, so\nthey're very important.\n\n556\n00:27:02.800 --> 00:27:05.400\nLet's just nest an OU inside of here,\n\n557\n00:27:05.400 --> 00:27:09.910\nlet's do Freddy 2, so\nI have Freddy and Freddy 2.\n\n558\n00:27:09.910 --> 00:27:14.291\nNow, the other folder objects in\nthe console here, built in computers,\n\n559\n00:27:14.291 --> 00:27:18.269\nfonts, principal,\nmanaged service accounts, users.\n\n560\n00:27:18.269 --> 00:27:20.970\nOnes we commonly refer\nto in the standard view,\n\n561\n00:27:20.970 --> 00:27:25.000\nif I switch to advanced features,\nwe'd see a bunch more.\n\n562\n00:27:25.000 --> 00:27:28.890\nThose are containers,\nthey are often misrepresented as OUs here,\n\n563\n00:27:28.890 --> 00:27:29.630\npeople say it all the time.\n\n564\n00:27:29.630 --> 00:27:32.470\nAnd I've probably done it once or\ntwice without thinking about it, so\n\n565\n00:27:32.470 --> 00:27:34.725\nI've been incorrect and\nI'm guilty of this as well.\n\n566\n00:27:34.725 --> 00:27:37.980\nLet's go to the users OU, no,\nthere's no such thing as the users OU.\n\n567\n00:27:37.980 --> 00:27:42.110\nThere's a users container, but\npeople misrepresent it as the users OU,\n\n568\n00:27:42.110 --> 00:27:46.750\nthere is a computers container,\nthat's the formal name for it, not an OU.\n\n569\n00:27:46.750 --> 00:27:50.090\nAnd here's the reason why, I just\nmentioned it, well, let's go back and\n\n570\n00:27:50.090 --> 00:27:51.890\nmake sure we understand this.\n\n571\n00:27:51.890 --> 00:27:55.080\nPlease join me in the group\npolicy management console,\n\n572\n00:27:55.080 --> 00:27:59.030\nplease go full screen for me, so you can\nsee exactly what I'm about to describe.\n\n573\n00:27:59.030 --> 00:28:03.542\nLook at the list of all the folder\nobjects here, exclude the bottom three,\n\n574\n00:28:03.542 --> 00:28:08.354\ngroup policy object, WMI filters,\nstarter GPOs, all the stuff under sites.\n\n575\n00:28:08.354 --> 00:28:13.027\nGet rid of all that stuff, cuz those are\nnot elements that I apply group policy to,\n\n576\n00:28:13.027 --> 00:28:18.190\nthose are just administrative containers\nto do a variety of things in the console.\n\n577\n00:28:18.190 --> 00:28:22.450\nAnd get rid of default domain policy,\ncuz that's a shortcut to a policy object.\n\n578\n00:28:22.450 --> 00:28:28.769\nBut look at all the folder objects, APAC,\nDomain Controllers, EMEA, NAmerica,\n\n579\n00:28:28.769 --> 00:28:34.978\nSAmerica, and if I refresh, We should get-\n&gt;&gt; Freddy?\n\n580\n00:28:34.978 --> 00:28:38.253\n&gt;&gt; Yeah, it should pop in there,\nI may have to just reload the console, but\n\n581\n00:28:38.253 --> 00:28:41.020\nwe should see Freddy and\nFreddy 2 in there as well.\n\n582\n00:28:41.020 --> 00:28:48.630\nBut what you will see is that we\nhave all of the OU's listed here,\n\n583\n00:28:48.630 --> 00:28:53.280\nand that's where I can create and\nbind policies, group policy objects.\n\n584\n00:28:53.280 --> 00:28:57.100\nI don't have system containers here,\nI don't have a computers folder here,\n\n585\n00:28:57.100 --> 00:28:59.420\nI don't have a users folder here.\n\n586\n00:28:59.420 --> 00:29:00.720\nI have OUs, and\n\n587\n00:29:00.720 --> 00:29:04.840\nthe key distinction is that OUs can have\npolicies applied, containers cannot.\n\n588\n00:29:04.840 --> 00:29:06.520\nIt's very important for\nyou to be aware of this and\n\n589\n00:29:06.520 --> 00:29:10.260\nunderstand the distinction between\nthese two, because it is subtle.\n\n590\n00:29:10.260 --> 00:29:13.490\nWe often look right past it,\ndon't even stop to wonder about it or\n\n591\n00:29:13.490 --> 00:29:16.185\nthink about it or\ndesignate it or define it.\n\n592\n00:29:16.185 --> 00:29:19.433\nBut it becomes a very important\npart of how we administer,\n\n593\n00:29:19.433 --> 00:29:23.079\nbecause you cannot create a policy and\nlink it to a container, but\n\n594\n00:29:23.079 --> 00:29:25.487\nyou can create a policy and\nlink it to an OU.\n\n595\n00:29:25.487 --> 00:29:28.816\nWhen you want to create a policy that\naffects all members of the domain,\n\n596\n00:29:28.816 --> 00:29:30.658\nyou go to the domain controller's OU.\n\n597\n00:29:30.658 --> 00:29:33.342\nAnd you create a policy at\nthe domain controller OU, and\n\n598\n00:29:33.342 --> 00:29:35.296\napply it to all the domain controllers.\n\n599\n00:29:35.296 --> 00:29:38.655\nAnd that will then touch every computer\nand/or user or both that log in and\n\n600\n00:29:38.655 --> 00:29:40.570\nauthenticate through the domain.\n\n601\n00:29:40.570 --> 00:29:44.660\nBecause you can't go to the computer's\ncontainer, and the users container, and\n\n602\n00:29:44.660 --> 00:29:47.180\naccess the individual objects\nto add policy to them.\n\n603\n00:29:47.180 --> 00:29:50.280\nCuz they're not in an OU,\nthey're in a system controlled container.\n\n604\n00:29:50.280 --> 00:29:52.800\nSo it's important to understand\nthe distinction and be aware of that,\n\n605\n00:29:52.800 --> 00:29:55.278\nbecause this is one of those things\nthat's a gotcha in the real world,\n\n606\n00:29:55.278 --> 00:29:56.760\nif you don't think about the logic of it.\n\n607\n00:29:56.760 --> 00:29:58.340\nIt's also a gotcha on the exam,\n\n608\n00:29:58.340 --> 00:30:01.060\nif you're not paying attention\nto the definitional criteria.\n\n609\n00:30:01.060 --> 00:30:05.580\nAnd the specificity of the particular\nitem that is being asked of you\n\n610\n00:30:05.580 --> 00:30:08.340\nto either accomplish,\nto read through to answer, to do whatever.\n\n611\n00:30:08.340 --> 00:30:11.006\nIn other words, read the question,\nread it twice., know the details,\n\n612\n00:30:11.006 --> 00:30:12.350\nunderstand what you are answering.\n\n613\n00:30:12.350 --> 00:30:14.989\nAnd then make sure that you understand\nthe question before you choose\n\n614\n00:30:14.989 --> 00:30:18.190\nthe appropriate answer, cuz you may get\ntricked if you're not paying attention.\n\n615\n00:30:18.190 --> 00:30:21.400\n&gt;&gt; I know I'm guilty as well, calling that\nusers and computers group an OU display.\n\n616\n00:30:21.400 --> 00:30:23.080\n&gt;&gt; I think it's fair to say all of us,\n\n617\n00:30:23.080 --> 00:30:26.760\nwithout exception, have done it without\neven stopping to think about the fact.\n\n618\n00:30:26.760 --> 00:30:30.310\nAs I said I've done it before, I'm as\nguilty of it as probably any of you, and\n\n619\n00:30:30.310 --> 00:30:33.280\nI know better, and I just do it out of\nhabit without even thinking about it.\n\n620\n00:30:33.280 --> 00:30:35.464\nBut we've all probably done\nit without thinking about it,\n\n621\n00:30:35.464 --> 00:30:37.699\nit's fair to say it's pretty universal,\nno pun intended.\n\n622\n00:30:37.699 --> 00:30:39.824\n&gt;&gt; [LAUGH]\n&gt;&gt; Pretty universal, how's that.\n\n623\n00:30:39.824 --> 00:30:42.624\n&gt;&gt; [LAUGH] That's great, Adam,\nbut we are out of time, so\n\n624\n00:30:42.624 --> 00:30:44.472\nwe'll go ahead sign out for this show.\n\n625\n00:30:44.472 --> 00:30:46.781\nRemember, I've been your host,\nCherokee Boose.\n\n626\n00:30:46.781 --> 00:30:47.649\n&gt;&gt; And I'm Adam Gordon.\n\n627\n00:30:47.649 --> 00:30:51.100\n&gt;&gt; See you next time here at ITProTV.\n\n628\n00:30:51.100 --> 00:30:57.069\n[MUSIC]\n\n629\n00:30:57.069 --> 00:31:00.310\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229279583"
        },
        {
          "description": "In this episode, Cherokee and Adam start the show by demonstrating how to pre-stage a computer account. Adam also reminds and demonstrates the various tools available to reset the secure channel.",
          "length": "1453",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-5-managing_objects_in_ad_ds_pt5-081017-PGM.00_28_34_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-5-managing_objects_in_ad_ds_pt5-081017-PGM.00_28_34_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-5-managing_objects_in_ad_ds_pt5-081017-PGM.00_28_34_04.Still001-sm.jpg",
          "title": "Managing Object in AD DS Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.001 --> 00:00:05.524\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:05.524 --> 00:00:06.290\n[CROSSTALK]\n\n3\n00:00:06.290 --> 00:00:08.153\n[MUSIC]\n\n4\n00:00:08.153 --> 00:00:12.200\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.200 --> 00:00:15.320\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 Series.\n\n6\n00:00:15.320 --> 00:00:17.420\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.420 --> 00:00:21.199\nIn this episode, we'll continue\ntaking a look at objects within ADDS.\n\n8\n00:00:21.199 --> 00:00:24.340\nAnd I think we're even gonna be\nlooking a little bit at permissions.\n\n9\n00:00:24.340 --> 00:00:29.160\nBut who better to know than Mr Adam Gordon\nhimself, back in studios with us today.\n\n10\n00:00:29.160 --> 00:00:29.820\nHow's it going, Adam?\n\n11\n00:00:29.820 --> 00:00:31.250\n&gt;&gt; It is going well, going well.\n\n12\n00:00:31.250 --> 00:00:35.960\nContinues to evolve and continues to get\nbetter with time, just like fine wine.\n\n13\n00:00:35.960 --> 00:00:39.880\nSo let us continue talking about objects,\nmanagement of objects.\n\n14\n00:00:39.880 --> 00:00:43.260\nYou mentioned and said hey, maybe we\ncan even take a look at permissions.\n\n15\n00:00:43.260 --> 00:00:45.181\nAnd indirectly,\nwe'll talk about permissions.\n\n16\n00:00:45.181 --> 00:00:47.562\nBut we've have been talking\nabout them all along actually,\n\n17\n00:00:47.562 --> 00:00:51.480\nwhen you think about the fact we\ntalk about user, and computer and\n\n18\n00:00:51.480 --> 00:00:54.520\ngroup policy based methodologies for\nmanagement of of objects.\n\n19\n00:00:54.520 --> 00:00:57.410\nAnd all of those are involve\nthe same idea of granting access and\n\n20\n00:00:57.410 --> 00:01:02.290\nusing permissions to define and narrowly\nconstrain what users and/or objects may or\n\n21\n00:01:02.290 --> 00:01:05.530\nmay not be able to do, or\ninteract with each other to do.\n\n22\n00:01:05.530 --> 00:01:07.480\nSo we're gonna continue that theme here.\n\n23\n00:01:07.480 --> 00:01:11.650\nWhen we think about creating computer\naccounts, there is not a right or\n\n24\n00:01:11.650 --> 00:01:12.350\nwrong way.\n\n25\n00:01:12.350 --> 00:01:16.350\nBut there is a best practice way that\nMicrosoft's been pretty consistently\n\n26\n00:01:16.350 --> 00:01:21.630\nadamant about from some of the earliest,\nearliest moments of the Enterprise Server\n\n27\n00:01:21.630 --> 00:01:26.530\nside of the product map meeting NT4,\n2000, etc.\n\n28\n00:01:26.530 --> 00:01:29.138\nThe guidance pretty much\nhistorically has always been,\n\n29\n00:01:29.138 --> 00:01:31.540\nyou should pre-populate\nyour computer accounts.\n\n30\n00:01:31.540 --> 00:01:34.360\nYou and I were actually just talking about\nthis before we came on for the episode,\n\n31\n00:01:34.360 --> 00:01:37.280\nsome of the things you can do,\ntools you can use like SCCM,\n\n32\n00:01:37.280 --> 00:01:39.850\nSystem Center Config Manager, and\n\n33\n00:01:39.850 --> 00:01:42.670\nthe guidance there to pre-populate\ncomputer accounts before you do imaging.\n\n34\n00:01:42.670 --> 00:01:46.959\nYou have things of that nature, to put\nthem in collections and make sure that\n\n35\n00:01:46.959 --> 00:01:50.996\nthe computer account will be in\nthe right OU in our case, or container.\n\n36\n00:01:50.996 --> 00:01:52.859\nIf you don't know the difference\nbetween those two and\n\n37\n00:01:52.859 --> 00:01:55.970\nwhy I'm distinguishing them, you should go\nback, take a look at the prior episode.\n\n38\n00:01:55.970 --> 00:01:57.370\nWe just had a conversation about that.\n\n39\n00:01:57.370 --> 00:02:00.680\nVery important, very illuminating\nconversation, hopefully, but\n\n40\n00:02:00.680 --> 00:02:02.420\none that's valuable to you.\n\n41\n00:02:02.420 --> 00:02:05.110\nWhether they're in a container or an OU,\n\n42\n00:02:05.110 --> 00:02:10.830\nwe wanna make sure we\nare applying the computer\n\n43\n00:02:10.830 --> 00:02:16.040\nobject to the right place, and therefore\nbeing able to manage it the right way.\n\n44\n00:02:16.040 --> 00:02:19.770\nWe may put a computer object into\nan OU and apply policies to it.\n\n45\n00:02:19.770 --> 00:02:24.720\nWe may see it wind up and indeed will\nwind up generically in the computer's OU.\n\n46\n00:02:24.720 --> 00:02:27.150\nAnd unless we move it,\nwe don't apply policy to it.\n\n47\n00:02:27.150 --> 00:02:29.411\nBecause policy does not\nget applied [INAUDIBLE].\n\n48\n00:02:29.411 --> 00:02:32.390\nAgain, I did computer's OU,\nI'm equally guilty of it.\n\n49\n00:02:32.390 --> 00:02:35.970\nThe computer's container,\nwhich does not have policy applied to it.\n\n50\n00:02:35.970 --> 00:02:39.270\nAnd so you do want to make sure you\nthink about where computer accounts or\n\n51\n00:02:39.270 --> 00:02:42.910\nobjects will be,\nplacement of them by pre-populating them.\n\n52\n00:02:42.910 --> 00:02:45.330\nAnd then linking to them as we\n\n53\n00:02:45.330 --> 00:02:49.235\nadd them to the domain gives us\nthe capability to have tighter control.\n\n54\n00:02:49.235 --> 00:02:52.610\nWell, that's why Microsoft represents\nthis as a best practice and\n\n55\n00:02:52.610 --> 00:02:55.660\nencourages strongly\nthat we should do this.\n\n56\n00:02:55.660 --> 00:02:59.170\nBut in order to create\na computer object in an OU,\n\n57\n00:02:59.170 --> 00:03:04.060\nwe must meet some criteria, have some\nthings that have to be happening for\n\n58\n00:03:04.060 --> 00:03:06.590\nus, and have certain permissions and\nthings that are available to us.\n\n59\n00:03:06.590 --> 00:03:07.550\nPlease join me here.\n\n60\n00:03:07.550 --> 00:03:09.570\nLet's take a look at that for\njust a moment.\n\n61\n00:03:09.570 --> 00:03:11.540\nI'm in my Freddie OU.\n\n62\n00:03:11.540 --> 00:03:16.050\nThis is an OU, or set of OU's, nested OU's\nwe created at the end of the last episode\n\n63\n00:03:16.050 --> 00:03:18.390\nto talk about the difference\nbetween OUs and containers.\n\n64\n00:03:18.390 --> 00:03:21.120\nI'm just gonna continue our\ndemonstration with this.\n\n65\n00:03:21.120 --> 00:03:22.455\nWe're gonna right-click on Freddie.\n\n66\n00:03:22.455 --> 00:03:25.520\nI'm gonna create New or choose New, and\n\n67\n00:03:25.520 --> 00:03:29.410\nchoose Computer, and\ncreate a computer account.\n\n68\n00:03:29.410 --> 00:03:31.600\nSo let's go ahead,\nlet's name our computer.\n\n69\n00:03:31.600 --> 00:03:33.260\nWhat do you wanna name our computer?\n\n70\n00:03:33.260 --> 00:03:34.030\n&gt;&gt; Harry.\n\n71\n00:03:34.030 --> 00:03:36.055\n&gt;&gt; Harry, well, that's original.\n\n72\n00:03:36.055 --> 00:03:37.839\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so we're gonna go ahead and\n\n73\n00:03:37.839 --> 00:03:38.660\nwe're gonna do that.\n\n74\n00:03:38.660 --> 00:03:41.338\nNow notice here, the following user or\n\n75\n00:03:41.338 --> 00:03:44.350\ngroup can join this\ncomputer to the domain.\n\n76\n00:03:44.350 --> 00:03:46.840\nThis is the user group\nlisted right below here.\n\n77\n00:03:46.840 --> 00:03:49.180\nThis is important,\nbecause I can change this.\n\n78\n00:03:49.180 --> 00:03:54.550\nOne of the reasons that I am encouraged\nby Microsoft to pre-populate or\n\n79\n00:03:54.550 --> 00:03:59.830\ncreate ahead of the actual joining of\nthe computer object and computer account,\n\n80\n00:03:59.830 --> 00:04:03.900\nis that I can now specify what user or\n\n81\n00:04:03.900 --> 00:04:08.060\ngroup of users has rights to join\nthis computer to the domain.\n\n82\n00:04:08.060 --> 00:04:11.200\n&gt;&gt; Yeah, now in hindsight, Harry\nprobably wasn't the best computer name.\n\n83\n00:04:11.200 --> 00:04:15.580\nBecause it might be confused\nwith an actual human name.\n\n84\n00:04:15.580 --> 00:04:19.380\nAnd we're really talking about a computer\nhere, so maybe a departmental name.\n\n85\n00:04:19.380 --> 00:04:20.200\nCan I change it?\n\n86\n00:04:20.200 --> 00:04:20.980\n&gt;&gt; No.\n&gt;&gt; Okay.\n\n87\n00:04:20.980 --> 00:04:23.103\n&gt;&gt; You chose poorly, and\nnow you're gonna have to live with it.\n\n88\n00:04:23.103 --> 00:04:23.890\n&gt;&gt; [LAUGH]\n&gt;&gt; I, however,\n\n89\n00:04:23.890 --> 00:04:27.100\nwill correct it on your behalf and\ncall it HarryC for Harry Computer.\n\n90\n00:04:27.100 --> 00:04:27.730\n&gt;&gt; Okay.\n&gt;&gt; All right.\n\n91\n00:04:27.730 --> 00:04:29.909\n&gt;&gt; [LAUGH]\n&gt;&gt; So next time, you don't get to choose.\n\n92\n00:04:29.909 --> 00:04:32.290\nI'm gonna ask Megan, cuz she's\ngonna make better choices than you.\n\n93\n00:04:32.290 --> 00:04:33.066\n&gt;&gt; Sounds good.\n\n94\n00:04:33.066 --> 00:04:35.545\n&gt;&gt; All right, so this is important though.\n\n95\n00:04:35.545 --> 00:04:39.150\nThink about this, if we constrain\nthis computer account and say hey,\n\n96\n00:04:39.150 --> 00:04:42.098\nyou know what,\nnot the default domain admin that we use.\n\n97\n00:04:42.098 --> 00:04:43.925\nThe default was just\nthe domain admins group.\n\n98\n00:04:43.925 --> 00:04:45.945\nNot the domain admin group,\nwhich is the standard group.\n\n99\n00:04:45.945 --> 00:04:49.912\nWhich means when you go right-click on\nthe computer, go to Properties, and\n\n100\n00:04:49.912 --> 00:04:54.073\ngo Join Domain from Workgroup, and provide\nthe domain name and the credential.\n\n101\n00:04:54.073 --> 00:04:57.995\nAnd you put your domain admin\ncredential in there and it gets joined.\n\n102\n00:04:57.995 --> 00:05:01.771\nThe reason that happens is because that's\nthe default group that is given permission\n\n103\n00:05:01.771 --> 00:05:02.300\nto do this.\n\n104\n00:05:02.300 --> 00:05:03.600\nBut what if I wanted to say, and\n\n105\n00:05:03.600 --> 00:05:06.340\nlet's go back to the thing you\njust mentioned a moment ago.\n\n106\n00:05:06.340 --> 00:05:07.700\nLet's name it for a group.\n\n107\n00:05:07.700 --> 00:05:12.050\nSo let's say we had an IT group maybe\ncalled IT Support, IT Help Desk,\n\n108\n00:05:12.050 --> 00:05:15.500\nIT Admins, whatever, but\nwe use that group instead.\n\n109\n00:05:15.500 --> 00:05:19.110\nAnd as a best practice, we would probably\nstay away from the domain admin group,\n\n110\n00:05:19.110 --> 00:05:21.640\neven though we would\ngive this group the right\n\n111\n00:05:21.640 --> 00:05:23.970\nto essentially have the same capability.\n\n112\n00:05:23.970 --> 00:05:27.000\nBut from a security standpoint, it would\nprobably make more sense not to use\n\n113\n00:05:27.000 --> 00:05:29.035\nthe domain admin group if we can avoid it.\n\n114\n00:05:29.035 --> 00:05:31.315\nSo we may create a separate\ngroup that has these rights.\n\n115\n00:05:31.315 --> 00:05:34.575\nSo I may wanna delegate that, in other\nwords, and give that group the right.\n\n116\n00:05:34.575 --> 00:05:36.447\nAnd I could do that here, go Change.\n\n117\n00:05:36.447 --> 00:05:42.850\nJust simply type in the name of the group,\nso let's say DHCP.\n\n118\n00:05:42.850 --> 00:05:46.347\nAnd let’s go check and\nsee what’s on the hit list for DHCP.\n\n119\n00:05:46.347 --> 00:05:49.730\nI have a couple of them,\nDHCP Admins, DHCP Users.\n\n120\n00:05:49.730 --> 00:05:51.930\nNow, in the real world,\nI wouldn't choose DHCP Users.\n\n121\n00:05:51.930 --> 00:05:54.380\nBut I was using this as an example, right.\n\n122\n00:05:54.380 --> 00:05:58.590\nBut let’s just say I chose this group,\nclick OK.\n\n123\n00:05:58.590 --> 00:06:00.790\nI could now specify that that group, and\n\n124\n00:06:00.790 --> 00:06:04.820\nonly members of that group, have the right\nto join this computer to the domain.\n\n125\n00:06:04.820 --> 00:06:07.140\nWhen I go to add it,\nif I'm not in this group,\n\n126\n00:06:07.140 --> 00:06:08.880\nthe computer will not\nbe successfully joined.\n\n127\n00:06:08.880 --> 00:06:12.730\nThis is why we recommend that\nyou pre-populate, so click Next.\n\n128\n00:06:12.730 --> 00:06:15.280\nIs this going to be a managed computer?\n\n129\n00:06:15.280 --> 00:06:18.210\nIf you are creating a computer account for\na managed computer,\n\n130\n00:06:18.210 --> 00:06:22.050\nselect the check box below, type in\nthe computer object's complete GUID.\n\n131\n00:06:22.050 --> 00:06:24.540\nThis is what we do in\nSECM to pre-populate,\n\n132\n00:06:24.540 --> 00:06:26.180\nso that we have a unique identifier.\n\n133\n00:06:26.180 --> 00:06:30.160\nSo as the computer boots up and we go to\npull in an image down, we know that this\n\n134\n00:06:30.160 --> 00:06:33.375\nimage goes to this computer and\nwe assigned it to the right collection.\n\n135\n00:06:33.375 --> 00:06:34.390\nThen we know what to do with it.\n\n136\n00:06:34.390 --> 00:06:37.270\nAnd so\nmaking it a managed computer is important.\n\n137\n00:06:37.270 --> 00:06:39.440\nAnd we have that capability here.\n\n138\n00:06:39.440 --> 00:06:43.040\nIt tells you hey, the GUID can be found\nin the BIOS, if you go into the machine.\n\n139\n00:06:43.040 --> 00:06:45.583\nIf it's a white box, you have to\ngo through the Power-On Self-Test.\n\n140\n00:06:45.583 --> 00:06:48.922\nGet into the BIOS, read the GUID,\nreproduce that string, and\n\n141\n00:06:48.922 --> 00:06:49.995\nthen put it in here.\n\n142\n00:06:49.995 --> 00:06:52.396\nSo we can uniquely identify that machine.\n\n143\n00:06:52.396 --> 00:06:53.098\nSo we can do that.\n\n144\n00:06:53.098 --> 00:06:56.189\nWe're not gonna do that because we don't\nhave a machine that has a GUID that we\n\n145\n00:06:56.189 --> 00:06:56.819\ncan just pull.\n\n146\n00:06:56.819 --> 00:06:59.570\nAnd we're not gonna make one up randomly,\nbut you get the idea.\n\n147\n00:06:59.570 --> 00:07:02.240\nWe'll click Finish, and\nwe now have this computer account.\n\n148\n00:07:02.240 --> 00:07:05.598\nNow this, to be clear,\ndoes not mean that I have gone and\n\n149\n00:07:05.598 --> 00:07:09.180\njoined the computer called\nHarryC to domain at this point.\n\n150\n00:07:09.180 --> 00:07:14.158\nI simply have pre-populated an object,\nthe computer account object in an OU,\n\n151\n00:07:14.158 --> 00:07:15.955\nin this case the Freddie OU.\n\n152\n00:07:15.955 --> 00:07:19.923\nThat would represent this computer\nobject when the computer and\n\n153\n00:07:19.923 --> 00:07:24.112\nthe activity around joining it is\nactually going to be carried out,\n\n154\n00:07:24.112 --> 00:07:26.845\nwhoever does that, whenever they do that.\n\n155\n00:07:26.845 --> 00:07:30.337\nSo we have to have appropriate permissions\non the computer object to allow us\n\n156\n00:07:30.337 --> 00:07:30.890\nto do that.\n\n157\n00:07:30.890 --> 00:07:33.475\nI mentioned that you would need the local\nadmin rights to be able to go in and\n\n158\n00:07:33.475 --> 00:07:36.242\ndo that, and provide the domain admin\ncredential to be able to successfully.\n\n159\n00:07:36.242 --> 00:07:39.546\nOr what the equivalent is now,\nthe DHCP user membership, right,\n\n160\n00:07:39.546 --> 00:07:40.671\nwhatever that may be.\n\n161\n00:07:40.671 --> 00:07:42.210\nYou get the idea there.\n\n162\n00:07:42.210 --> 00:07:44.860\nYou have to be a member of the local\nadmin group on the computer before it's\n\n163\n00:07:44.860 --> 00:07:45.540\ngoing to the domain.\n\n164\n00:07:45.540 --> 00:07:48.080\nBecause you have to have admin\nrights to be able to go to use that.\n\n165\n00:07:48.080 --> 00:07:49.840\nSo just be aware of that.\n\n166\n00:07:49.840 --> 00:07:51.704\nSo just make sure you're\nfamiliar with that.\n\n167\n00:07:51.704 --> 00:07:55.843\nAnd this is one most people forget or\ndon't even realize is in play.\n\n168\n00:07:55.843 --> 00:08:00.536\nYou also cannot have exceeded the number\nof computers that are joined to the domain\n\n169\n00:08:00.536 --> 00:08:01.973\nunder that credential.\n\n170\n00:08:01.973 --> 00:08:04.894\nWe have a maximum limit that's\nhard coded in there initially,\n\n171\n00:08:04.894 --> 00:08:06.540\nalthough we can modify that.\n\n172\n00:08:06.540 --> 00:08:08.340\nThat limit is ten.\n\n173\n00:08:08.340 --> 00:08:12.462\nYou join ten computers to the domain\nunder you credential by default.\n\n174\n00:08:12.462 --> 00:08:13.128\n&gt;&gt; That's right.\n\n175\n00:08:13.128 --> 00:08:16.300\n&gt;&gt; But then you hit that\nlimit unless we modify that.\n\n176\n00:08:16.300 --> 00:08:20.370\nSo, please do be aware of that and\nunderstand that.\n\n177\n00:08:20.370 --> 00:08:25.070\nIn other words, users by default can add\na maximum of ten computers to the domain.\n\n178\n00:08:25.070 --> 00:08:28.540\nThis is shown as the machine\naccount quota, by the way,\n\n179\n00:08:28.540 --> 00:08:30.640\nor is part of the machine account quota,\nand\n\n180\n00:08:30.640 --> 00:08:37.470\nis actually controlled specifically\nby the MS-DS-Machine quota value.\n\n181\n00:08:37.470 --> 00:08:40.210\nAnd that's the specific value\ninside the machine quota that\n\n182\n00:08:40.210 --> 00:08:42.540\nrepresents that number and\nyou go there and you modify.\n\n183\n00:08:42.540 --> 00:08:45.170\nYou put tan in by default or\nit's there by default but\n\n184\n00:08:45.170 --> 00:08:46.960\nyou can modify that if you need to.\n\n185\n00:08:46.960 --> 00:08:49.182\nWe simply use ADSI edits.\n\n186\n00:08:49.182 --> 00:08:52.300\nThe ADSI edit tool could be used to modify\nthat, that's where we would see it.\n\n187\n00:08:52.300 --> 00:08:56.620\nThat's one of the snap ins so it can\nload to our MMC and actually create and\n\n188\n00:08:56.620 --> 00:08:59.040\nhave the ability to go in and\nmodify if necessary.\n\n189\n00:08:59.040 --> 00:09:01.090\nSo just make sure you're aware of that.\n\n190\n00:09:01.090 --> 00:09:04.900\nI did mention that Microsoft clearly\ncomes out unequivocally on this.\n\n191\n00:09:04.900 --> 00:09:07.850\nBest practice recommendation,\nI call it out on the show notes.\n\n192\n00:09:07.850 --> 00:09:11.840\nI say Microsoft says best practice\nis to pre-populate accounts.\n\n193\n00:09:11.840 --> 00:09:13.060\nMake sure you know that, please.\n\n194\n00:09:13.060 --> 00:09:15.710\nVery important, and\nyou should be aware of that, okay?\n\n195\n00:09:15.710 --> 00:09:19.210\nAll right, so in addition to\npre-populating our accounts, going in and\n\n196\n00:09:19.210 --> 00:09:22.180\nwe've seen the value of that, but\nthere are some other things to consider.\n\n197\n00:09:22.180 --> 00:09:25.560\nI talked about this idea of the computer\naccount and the secure channel,\n\n198\n00:09:25.560 --> 00:09:29.410\nthe communication that takes place between\na computer, let's say as a member of\n\n199\n00:09:29.410 --> 00:09:33.580\nthe domain, and the domain itself and the\nvalidation of that computer account, and\n\n200\n00:09:33.580 --> 00:09:37.290\nthe loss of trust and loss of\nthe ability to validate that account.\n\n201\n00:09:37.290 --> 00:09:40.080\nIf certain things happen,\nit gets corrupted sometimes.\n\n202\n00:09:40.080 --> 00:09:40.880\nI've seen that happen.\n\n203\n00:09:40.880 --> 00:09:43.320\nIt happens to us occasionally\nin our demo environments.\n\n204\n00:09:43.320 --> 00:09:45.750\nIt causes us to have to go back and\nreset some things.\n\n205\n00:09:45.750 --> 00:09:47.900\nYou may have seen this\nhappen in the real world.\n\n206\n00:09:47.900 --> 00:09:51.110\nI'm sure it's happened at some point for\nyou, Cherokee, if you can think back on\n\n207\n00:09:51.110 --> 00:09:54.197\ntimes when computer accounts haven't\nbeen able to authenticate your login.\n\n208\n00:09:54.197 --> 00:09:55.353\n&gt;&gt; Yes.\n&gt;&gt; It comes up and says,\n\n209\n00:09:55.353 --> 00:09:58.910\nhey the trust relationship between\nthis machine and the domain is broken.\n\n210\n00:09:58.910 --> 00:10:01.787\nThat is what we are talking about\nthis idea of the computer account and\n\n211\n00:10:01.787 --> 00:10:02.840\nsecure channel.\n\n212\n00:10:02.840 --> 00:10:06.005\nSo just keep in mind that we maintain\nthis computer account to represent our\n\n213\n00:10:06.005 --> 00:10:07.440\nmembership in the domain.\n\n214\n00:10:07.440 --> 00:10:10.060\nIt is going to when we go in and name it.\n\n215\n00:10:10.060 --> 00:10:13.380\nJust join me back here for a minute I want\nto show you something about the account.\n\n216\n00:10:13.380 --> 00:10:19.697\nLet me just right click here and\ngo to Properties And so once I create it\n\n217\n00:10:19.697 --> 00:10:23.460\nwe see more detail on the computer account\nthan when created initially in the wizard,\n\n218\n00:10:23.460 --> 00:10:26.850\nyou obviously don't see all these\nthings until we go on and create it.\n\n219\n00:10:26.850 --> 00:10:30.050\nOn the we have a computer\nname pre-Windows 2000.\n\n220\n00:10:30.050 --> 00:10:33.640\nSo, how we see what ever it is\nobviously once we create this,\n\n221\n00:10:33.640 --> 00:10:35.830\nwe'd have a DNS name populated here.\n\n222\n00:10:35.830 --> 00:10:37.730\nDC type if it was a domain controller,\n\n223\n00:10:37.730 --> 00:10:40.770\nit would be distinguished\nbetween workstation or server.\n\n224\n00:10:40.770 --> 00:10:42.210\nWe may have a site designation.\n\n225\n00:10:42.210 --> 00:10:43.710\nWe may assign this to a site.\n\n226\n00:10:43.710 --> 00:10:46.600\nThe default for site name is Site,\nit would normally show up here because\n\n227\n00:10:46.600 --> 00:10:48.960\nthat's the site most computers\nare associated with.\n\n228\n00:10:48.960 --> 00:10:50.890\nWe do have Operating System.\n\n229\n00:10:50.890 --> 00:10:53.930\nWe can add things like Name,\nVersion, Service pack.\n\n230\n00:10:53.930 --> 00:10:55.625\nIf it's a managed machine through SCCM,\n\n231\n00:10:55.625 --> 00:10:58.434\nwe'd often see this stuff populate,\nbecause that's where all that\n\n232\n00:10:58.434 --> 00:10:59.126\ndata comes in-\n&gt;&gt; [CROSSTALK]\n\n233\n00:10:59.126 --> 00:11:01.104\n&gt;&gt; [INAUDIBLE] that software all that,\n\n234\n00:11:01.104 --> 00:11:02.284\nthat would be important.\n\n235\n00:11:02.284 --> 00:11:05.883\nWe do have member of, so the computer\naccount can be a member of groups.\n\n236\n00:11:05.883 --> 00:11:09.216\nWe often overlook and forget about\nthe fact that we do, we can and\n\n237\n00:11:09.216 --> 00:11:13.415\nindeed do have to add the computer account\nat certain points in to be able to assign\n\n238\n00:11:13.415 --> 00:11:15.790\nrights to it,\nto get it to do certain things.\n\n239\n00:11:15.790 --> 00:11:19.360\nAnd so, we often will give it admin rights\nthings like that in certain circumstances.\n\n240\n00:11:19.360 --> 00:11:21.460\nSo we have that ability here.\n\n241\n00:11:21.460 --> 00:11:25.855\nIt is a member of the domain\ncomputers right here.\n\n242\n00:11:25.855 --> 00:11:30.090\nThe Freddie OU and\n\n243\n00:11:30.090 --> 00:11:34.730\nthe domain computers group by defaults and\nthe Freddie OU maintained there, but\n\n244\n00:11:34.730 --> 00:11:38.440\nin terms of group membership,\nit's a member of domain computers group.\n\n245\n00:11:38.440 --> 00:11:40.860\nSo just be aware of that.\n\n246\n00:11:40.860 --> 00:11:45.760\nDelegation, we're not delegating\nthe trust relationship for this computer.\n\n247\n00:11:45.760 --> 00:11:48.885\n[INAUDIBLE] the delegation for\nthe computer to delegate to any service.\n\n248\n00:11:48.885 --> 00:11:52.285\nBut if we chose to do so, we'd have the\nopportunity to specify that certain things\n\n249\n00:11:52.285 --> 00:11:55.873\ncan operate on behalf of the computer,\nto accomplish certain activities.\n\n250\n00:11:55.873 --> 00:11:59.365\nWe have our location, again, this is\nsomething you may or may not populate.\n\n251\n00:11:59.365 --> 00:12:03.830\nIf you're using location attributes you\nmay then be able to plot the computer\n\n252\n00:12:03.830 --> 00:12:08.220\non a grid and see where it's located for\nmapping purposes, things like that.\n\n253\n00:12:08.220 --> 00:12:12.239\nI have a couple customers that do\nthis with their mobile computers,\n\n254\n00:12:12.239 --> 00:12:13.234\ntheir laptops.\n\n255\n00:12:13.234 --> 00:12:18.285\nAnd so they provide GPS coordinates for\ntheir systems use a location service,\n\n256\n00:12:18.285 --> 00:12:21.290\nand so they can track stuff in the field.\n\n257\n00:12:21.290 --> 00:12:25.510\nSo, a couple of my government clients for\nlike 911 services do this.\n\n258\n00:12:25.510 --> 00:12:26.950\n&gt;&gt; Okay.\n&gt;&gt; But for ambulances, police,\n\n259\n00:12:26.950 --> 00:12:29.426\nso they could track where the units are-\n&gt;&gt; To dispatch\n\n260\n00:12:29.426 --> 00:12:30.261\nproperly-\n&gt;&gt; But they can also.\n\n261\n00:12:30.261 --> 00:12:30.900\n&gt;&gt; And things like that.\n&gt;&gt; Yeah, and\n\n262\n00:12:30.900 --> 00:12:31.760\nthey could track the computers.\n\n263\n00:12:31.760 --> 00:12:34.930\nThey actually know what computers are in\nthe, from an IT asset perspective or\n\n264\n00:12:34.930 --> 00:12:35.610\nin the vehicles.\n\n265\n00:12:35.610 --> 00:12:37.470\n&gt;&gt; Okay.\n&gt;&gt; Cuz, they often have computers\n\n266\n00:12:37.470 --> 00:12:39.410\nhardwired into the machines.\n\n267\n00:12:39.410 --> 00:12:40.700\n&gt;&gt; Yes.\n&gt;&gt; Or hardwired into the cabs.\n\n268\n00:12:40.700 --> 00:12:42.510\nSo they know where they are,\nthat kind of thing.\n\n269\n00:12:42.510 --> 00:12:44.230\nSo you know,\nwe just have all this different stuff.\n\n270\n00:12:44.230 --> 00:12:45.860\nThere's all these additional attributes.\n\n271\n00:12:45.860 --> 00:12:47.680\nAnd properties is all\nI wanted to show you.\n\n272\n00:12:47.680 --> 00:12:50.751\nBut we do have essentially a user name and\npassword for\n\n273\n00:12:50.751 --> 00:12:53.490\nthe computer account just like we do for\na user.\n\n274\n00:12:53.490 --> 00:12:56.970\nIt has the same account name and\nit has a password associated with it.\n\n275\n00:12:56.970 --> 00:13:00.980\nWe don't think about this and\nwe store the password, I say we and\n\n276\n00:13:00.980 --> 00:13:03.760\nI mean the operating system stores\nthis password in the form of a local\n\n277\n00:13:03.760 --> 00:13:06.640\nsecurity authority that's\ncalled the LSA secret.\n\n278\n00:13:06.640 --> 00:13:09.870\nThis is that gets corrupted and\nscrews up the relationship and\n\n279\n00:13:09.870 --> 00:13:13.150\ndoesn't allow us to authenticate\nif something goes wrong.\n\n280\n00:13:13.150 --> 00:13:18.140\nAnd it changes, the password changes\nwith the domain about every 30 days,\n\n281\n00:13:18.140 --> 00:13:19.250\nagain we don't control this.\n\n282\n00:13:19.250 --> 00:13:21.970\nYou don't even probably realize and\nyou may not have even known\n\n283\n00:13:21.970 --> 00:13:25.460\nthat the computer at times is\nessentially treated like a user account.\n\n284\n00:13:25.460 --> 00:13:28.745\nHas a computer account name,\nwhich we know, Harry C in this case,\n\n285\n00:13:28.745 --> 00:13:33.640\n@practicelabs.com would essentially be the\nquote unquote user name for the computer.\n\n286\n00:13:33.640 --> 00:13:36.060\nIt's the same account name,\nthe computer name.\n\n287\n00:13:36.060 --> 00:13:37.720\nBut it has a password\nassociated with this as well.\n\n288\n00:13:37.720 --> 00:13:38.910\nWe just don't know what it is.\n\n289\n00:13:38.910 --> 00:13:40.780\nWe don't control,\nwe have nothing to do with it.\n\n290\n00:13:40.780 --> 00:13:43.150\nThe LSA,\nthe local authority security module,\n\n291\n00:13:43.150 --> 00:13:47.050\nis the security management module\nin the Windows architecture.\n\n292\n00:13:47.050 --> 00:13:51.530\nThat is what runs on every machine and\nhandles the authentication process.\n\n293\n00:13:51.530 --> 00:13:54.830\nHandles the exchange of credentials and\nthe authentication of a user and\n\n294\n00:13:54.830 --> 00:13:57.760\nallows you to then go through\nthe process of gaining access,\n\n295\n00:13:57.760 --> 00:13:59.390\nassuming your a valid user.\n\n296\n00:13:59.390 --> 00:14:02.180\nSame thing for computer accounts,\nthey're handled the same way.\n\n297\n00:14:02.180 --> 00:14:05.810\nSo, the LSA controls this, changes\nthat password out against the domain,\n\n298\n00:14:05.810 --> 00:14:07.520\nroughly about every 30 days.\n\n299\n00:14:07.520 --> 00:14:10.280\nWe have nothing to do with it,\nit just happens behind the scenes.\n\n300\n00:14:10.280 --> 00:14:14.320\nBut do be aware of that the net\nlogon server uses its credential\n\n301\n00:14:14.320 --> 00:14:17.490\nto actually go out and validate who\nyou are in access services through\n\n302\n00:14:17.490 --> 00:14:21.270\nthe computer when the computer is making\nthe request or needs access to something.\n\n303\n00:14:21.270 --> 00:14:24.532\nSo that's what's actually happening when\nyou sign into the domain with the net\n\n304\n00:14:24.532 --> 00:14:25.418\nlogon service.\n\n305\n00:14:25.418 --> 00:14:28.430\nAnd then logon service\nuses the computer name and\n\n306\n00:14:28.430 --> 00:14:31.470\nthe password in the form of that\nshared secret to the LSA to\n\n307\n00:14:31.470 --> 00:14:34.510\nactually authenticate who you are and\ngrant rights to let you get in.\n\n308\n00:14:34.510 --> 00:14:37.300\nThis is actually how the process\nworks behind the scenes.\n\n309\n00:14:37.300 --> 00:14:40.710\nThat establishes what we call\nthe secure channel between you and\n\n310\n00:14:40.710 --> 00:14:42.730\nthe domain controller,\nallowing you to communicate.\n\n311\n00:14:42.730 --> 00:14:45.090\nWhen that breaks down,\nthat's when you get that error.\n\n312\n00:14:45.090 --> 00:14:48.130\nAnd we can't actually authenticate or\nwe can't establish the secure channel.\n\n313\n00:14:48.130 --> 00:14:50.010\n&gt;&gt; Like a, a lovely surprise for you.\n\n314\n00:14:50.010 --> 00:14:50.621\n&gt;&gt; Yeah.\nI love when I see that.\n\n315\n00:14:50.621 --> 00:14:51.350\n&gt;&gt; [LAUGH].\n\n316\n00:14:51.350 --> 00:14:53.510\n&gt;&gt; You know, in some respect,\nand we can reset it.\n\n317\n00:14:53.510 --> 00:14:54.876\nI'll talk to you about\nthe fact we can do that.\n\n318\n00:14:54.876 --> 00:14:58.490\nBut when I see that, for me,\nthat's just a hey, guess what we're doing?\n\n319\n00:14:58.490 --> 00:14:59.080\nRight?\n\n320\n00:14:59.080 --> 00:15:00.730\nWe're blowing that up and resetting that,\n\n321\n00:15:00.730 --> 00:15:02.800\nbecause I'm not gonna bother\nwith trying to fix it.\n\n322\n00:15:02.800 --> 00:15:05.513\nWe're just gonna go ahead, remove it-\n&gt;&gt; It seems that that's easier for\n\n323\n00:15:05.513 --> 00:15:07.727\nme anyways too just to remove it and\nthen rejoin it to [CROSSTALK]\n\n324\n00:15:07.727 --> 00:15:09.023\n&gt;&gt; Much, much easier, right?\n\n325\n00:15:09.023 --> 00:15:11.491\nSo this can get corrupted\nfrom time-to-time.\n\n326\n00:15:11.491 --> 00:15:14.510\nIt can get broken so to speak,\ncorruption is essentially breaking it.\n\n327\n00:15:14.510 --> 00:15:16.197\nAll sorts of system errors occur.\n\n328\n00:15:16.197 --> 00:15:18.620\nThe biggest one, as I said,\nis lack of ability to authenticate.\n\n329\n00:15:18.620 --> 00:15:22.750\nYou get that, it's like a white text on\na blue screen these days that says,hey,\n\n330\n00:15:22.750 --> 00:15:24.795\nit should just say, hey,\nguess what, you're out of luck.\n\n331\n00:15:24.795 --> 00:15:27.133\n&gt;&gt; [LAUGH]\n&gt;&gt; or something like the duh duh duh duh\n\n332\n00:15:27.133 --> 00:15:28.978\nnoise, or something you can't come in.\n\n333\n00:15:28.978 --> 00:15:30.360\nBut it essentially says, hey,\n\n334\n00:15:30.360 --> 00:15:32.895\nthe trust relationship is broken,\ncan't authenticate you.\n\n335\n00:15:32.895 --> 00:15:35.700\nAnd that's an indication that\nthis process has gone sideways.\n\n336\n00:15:35.700 --> 00:15:38.400\nYou get the message at the signing in\nindicating the domain controller is not be\n\n337\n00:15:38.400 --> 00:15:39.190\nable to be contacted.\n\n338\n00:15:39.190 --> 00:15:40.070\nThat's what I'm referring to.\n\n339\n00:15:40.070 --> 00:15:42.930\nAnd you could also see error\nmessages that will occur.\n\n340\n00:15:42.930 --> 00:15:44.486\nI noted once, I've said it before,\n\n341\n00:15:44.486 --> 00:15:47.211\nI'm just looking up the number in\nmy notes to tell you what it is.\n\n342\n00:15:47.211 --> 00:15:50.910\nThe net logon event ID 3210.\n\n343\n00:15:50.910 --> 00:15:52.406\nYou'll see it in the share notes.\n\n344\n00:15:52.406 --> 00:15:57.295\nNet logon event ID 3210 says,\nfailed to authenticate.\n\n345\n00:15:57.295 --> 00:16:00.937\nThis appears in the computer's event log,\nand you should know that if you're\n\n346\n00:16:00.937 --> 00:16:03.824\nplanning on answering questions\nat some point in the future.\n\n347\n00:16:03.824 --> 00:16:07.701\nThat may be helpful to know that\nspecific event and that event ID and\n\n348\n00:16:07.701 --> 00:16:08.748\nwhere to find it.\n\n349\n00:16:08.748 --> 00:16:11.510\nI can see a great minutia\nquestion coming up around that.\n\n350\n00:16:11.510 --> 00:16:14.200\nAnd boy, are you gonna feel\nspecial if you get that right and\n\n351\n00:16:14.200 --> 00:16:15.340\nnobody else around you does.\n\n352\n00:16:15.340 --> 00:16:16.571\n&gt;&gt; We sure are.\n&gt;&gt; You're going to be a superstar.\n\n353\n00:16:16.571 --> 00:16:17.239\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n354\n00:16:17.239 --> 00:16:18.323\n&gt;&gt; All right, and then so,\n\n355\n00:16:18.323 --> 00:16:21.130\nif we do fail this channel as we said,\nwe could reset it.\n\n356\n00:16:21.130 --> 00:16:23.520\nWe do this by removing the computer,\nas Cherokee said we do,\n\n357\n00:16:23.520 --> 00:16:25.610\nI say we often do, adding it back in.\n\n358\n00:16:25.610 --> 00:16:28.638\nThat's the, pretty much, tried and\ntrue way, to be able to do this.\n\n359\n00:16:28.638 --> 00:16:30.585\nSo we join the computer to the domain.\n\n360\n00:16:30.585 --> 00:16:34.695\nYou recreate that relationship\nregenerate that information\n\n361\n00:16:34.695 --> 00:16:37.117\nresetting the computer account\nalong with the password.\n\n362\n00:16:37.117 --> 00:16:39.480\nLSA sees it as a new object,\n\n363\n00:16:39.480 --> 00:16:42.155\n[INAUDIBLE] create a new GUID and\nit's treated as a brand new object and\n\n364\n00:16:42.155 --> 00:16:46.045\nas a result hopefully then it's no\nlonger corrupt and it starts working.\n\n365\n00:16:46.045 --> 00:16:51.060\nSo we can also reset the channel by\ngoing in and not just doing it from do\n\n366\n00:16:51.060 --> 00:16:54.455\nyou often do it from either the computer\nsettings on the local machine,\n\n367\n00:16:54.455 --> 00:16:57.266\nyou go to Computer right click,\nProperties, go in unjoin, rejoin?\n\n368\n00:16:57.266 --> 00:16:58.500\n&gt;&gt; Yeah.\n&gt;&gt; Cuz you could do that,\n\n369\n00:16:58.500 --> 00:16:59.510\nmost of us do that.\n\n370\n00:16:59.510 --> 00:17:01.810\nYou could do it from Active Directory\nusers and computers as well.\n\n371\n00:17:01.810 --> 00:17:03.060\nSo you could do it from there.\n\n372\n00:17:03.060 --> 00:17:06.070\nYou could do it from ADAC the Active\nDirectory Administrative Center.\n\n373\n00:17:06.070 --> 00:17:08.303\nBut you could also do it\nfrom the command line,\n\n374\n00:17:08.303 --> 00:17:11.940\nthe dsmod command as I've mentioned\nthe ds command dsadd dsmod etc.\n\n375\n00:17:11.940 --> 00:17:14.900\nDsmod can be used for\nthis from the command line.\n\n376\n00:17:14.900 --> 00:17:19.200\nNetdom, a tool that a lot of people forget\nabout, but the Netdom command line too.\n\n377\n00:17:19.200 --> 00:17:21.940\nAnd another tool that most\npeople never heard of, mltest.\n\n378\n00:17:23.000 --> 00:17:24.630\n&gt;&gt; Yeah.\n&gt;&gt; Yeah, mltest as well.\n\n379\n00:17:24.630 --> 00:17:26.908\n[CROSSTALK]\n&gt;&gt; Yeah, you're mentioning all these and\n\n380\n00:17:26.908 --> 00:17:30.109\nI'm remembering yeah, we do have\nall these options available to us,\n\n381\n00:17:30.109 --> 00:17:33.200\nand it's just kind of hey, for\nthe exam it's good to note them.\n\n382\n00:17:33.200 --> 00:17:34.950\nAnd then sometimes-\n&gt;&gt; It would be, right?\n\n383\n00:17:34.950 --> 00:17:38.950\n&gt;&gt; Yeah, you kind of end up getting\nstuck in your ways I guess sometimes and\n\n384\n00:17:38.950 --> 00:17:40.160\nget your favorites.\n\n385\n00:17:40.160 --> 00:17:41.910\nAnd then you forget about all\nthese really cool things.\n\n386\n00:17:41.910 --> 00:17:44.260\n&gt;&gt; You do, and just give me\na second before we go the machine.\n\n387\n00:17:44.260 --> 00:17:45.920\nI'm just making the command\nscreen a little bigger so\n\n388\n00:17:45.920 --> 00:17:47.580\nyou can see the command shell.\n\n389\n00:17:47.580 --> 00:17:49.551\nI just brought up one of the tools\nI wanted to show you something, but\n\n390\n00:17:49.551 --> 00:17:50.563\nI'm just changing the font size.\n\n391\n00:17:50.563 --> 00:17:53.924\nI didn't do that other way, I normally,\nI do it before we actually come on,\n\n392\n00:17:53.924 --> 00:17:56.880\ncause I didn't remember that I was\ngonna need to for this episode.\n\n393\n00:17:56.880 --> 00:17:58.380\nSo just bear with me half a second here.\n\n394\n00:17:58.380 --> 00:18:00.434\n&gt;&gt; But luckily,\nif you guys are new to this,\n\n395\n00:18:00.434 --> 00:18:04.809\nit's great because everything that Adam's\nmentioning, you can start those habits.\n\n396\n00:18:04.809 --> 00:18:09.507\nThe correct way right from the onset of\nyour career if you're just starting, but\n\n397\n00:18:09.507 --> 00:18:12.590\nanyways, now you know-\n&gt;&gt; No, it's a lot more fun to be evil and\n\n398\n00:18:12.590 --> 00:18:14.690\ndo it the wrong way and\nblame somebody else and then just-\n\n399\n00:18:14.690 --> 00:18:15.690\n&gt;&gt; It's harder to change what you've\n\n400\n00:18:15.690 --> 00:18:16.620\nalready been doing-\n&gt;&gt; Just do that.\n\n401\n00:18:16.620 --> 00:18:17.940\n&gt;&gt; Something in a certain\nway that's all I'm saying.\n\n402\n00:18:17.940 --> 00:18:20.480\n&gt;&gt; Just pretend you always know\nthe right answer even if you're wrong.\n\n403\n00:18:20.480 --> 00:18:21.275\nPeople will believe you.\n\n404\n00:18:21.275 --> 00:18:22.799\n&gt;&gt; [LAUGH]\n&gt;&gt; All right so let's take a look.\n\n405\n00:18:22.799 --> 00:18:24.329\nI just brought up the Nltest tool, again,\n\n406\n00:18:24.329 --> 00:18:27.180\nthis just one of those tools that most\npeople don't even realize exists.\n\n407\n00:18:27.180 --> 00:18:29.460\nAnd yet is a very important tool for\na lot of reasons.\n\n408\n00:18:29.460 --> 00:18:31.460\nSo, like all these tools,\nas I always mention,\n\n409\n00:18:31.460 --> 00:18:33.510\nif your not familiar with\nyou don't what it does.\n\n410\n00:18:33.510 --> 00:18:36.110\nAnd by the way,\nno shame in admitting you know.\n\n411\n00:18:36.110 --> 00:18:38.740\nThe only way you learn is by checking\nsomething out you've never seen or\n\n412\n00:18:38.740 --> 00:18:40.770\nheard of before and\ntaking the time to get to know it.\n\n413\n00:18:40.770 --> 00:18:42.000\nAnd that's what we're doing here.\n\n414\n00:18:42.000 --> 00:18:44.730\nSo, I'm first the one to say hey,\nI've never heard of that tool.\n\n415\n00:18:44.730 --> 00:18:47.310\nCan you show me more about it or\ntell me more about or\n\n416\n00:18:47.310 --> 00:18:48.750\nlet me go let me look at it on my own?\n\n417\n00:18:48.750 --> 00:18:50.190\nCuz that's how I figure stuff out.\n\n418\n00:18:50.190 --> 00:18:52.360\nAnd thee no shame in admitting\nyou don't know about something.\n\n419\n00:18:52.360 --> 00:18:55.590\nThe only shame that comes from that Is\npretending to know and then not really\n\n420\n00:18:55.590 --> 00:18:58.200\nunderstanding and it not using it\nappropriately as Cherokee was just saying.\n\n421\n00:18:58.200 --> 00:19:01.220\nSo, don't be afraid to use that\nhelp [INAUDIBLE] very important.\n\n422\n00:19:01.220 --> 00:19:04.286\nGo, Nltest or\nwhatever the name of tools in this case,\n\n423\n00:19:04.286 --> 00:19:08.648\nNltest if you wanna type in Dsmod or\nNetdom, any of the tools I mentioned.\n\n424\n00:19:08.648 --> 00:19:12.480\nType them and space forward slash question\nmark will often bring up a help file.\n\n425\n00:19:12.480 --> 00:19:14.980\nAnd you could see here,\nthat I see all the different options.\n\n426\n00:19:14.980 --> 00:19:20.220\nI could specify the name of the machine, I\ncan query to find the net log on service,\n\n427\n00:19:20.220 --> 00:19:22.950\nI can force partial sync on the server.\n\n428\n00:19:24.320 --> 00:19:27.046\nI can do a PVC replication,\nI can do a bunch of different stuff.\n\n429\n00:19:27.046 --> 00:19:29.626\nSo this is a very powerful tool, but\nwhen it's kind of been sitting in\n\n430\n00:19:29.626 --> 00:19:32.620\nthe background for a long time and\nmost people don't even realize it's there.\n\n431\n00:19:32.620 --> 00:19:35.450\nThey probably heard it in dom, but\nlike you said, have forgotten about it and\n\n432\n00:19:35.450 --> 00:19:37.200\ndon't even remember its there.\n\n433\n00:19:37.200 --> 00:19:39.704\nI usually find that a lot of\npeople know about Dsadd or\n\n434\n00:19:39.704 --> 00:19:42.690\nDsmod because they tend to,\nif they go back far enough,\n\n435\n00:19:42.690 --> 00:19:46.420\nhave used that tool at some point but\nthey don't know about this one.\n\n436\n00:19:46.420 --> 00:19:52.050\nI find few people that actually know what\nNltest is before when I talk to them or\n\n437\n00:19:52.050 --> 00:19:53.620\nthat they've heard of and\nthey actually have used it.\n\n438\n00:19:53.620 --> 00:19:55.510\nSo it may just be something\nto think about, but\n\n439\n00:19:55.510 --> 00:19:57.070\nyou could use the Nltest tool as well.\n\n440\n00:19:57.070 --> 00:19:58.880\nSo just pointing that out for you.\n\n441\n00:19:58.880 --> 00:20:01.680\nMay be good for you to be aware of.\n\n442\n00:20:01.680 --> 00:20:05.840\nSo just be aware of the fact that\nwe are able to reset this, so\n\n443\n00:20:05.840 --> 00:20:07.360\njust make sure you are aware of this.\n\n444\n00:20:07.360 --> 00:20:09.870\nAlso the computer maintains its\ngroup membership by the way.\n\n445\n00:20:09.870 --> 00:20:12.720\nSo when we reset the account,\nwe actually maintain the group membership.\n\n446\n00:20:12.720 --> 00:20:14.650\nSo do be aware of that as well.\n\n447\n00:20:14.650 --> 00:20:17.633\nOr we could go in, right-click\nin the Active Directory User and\n\n448\n00:20:17.633 --> 00:20:19.689\nComputer tool if we would\ndo it from the GUI.\n\n449\n00:20:19.689 --> 00:20:20.970\nWe talked about command line.\n\n450\n00:20:20.970 --> 00:20:23.550\nBut if we were to do it from the GUI,\nwe could come right here.\n\n451\n00:20:23.550 --> 00:20:25.710\nAnd you'll see Reset Account\nright there as an option.\n\n452\n00:20:25.710 --> 00:20:26.736\nSo you could do it right from there.\n\n453\n00:20:26.736 --> 00:20:30.090\n[INAUDIBLE] is essentially the same thing,\nwe're gonna do it there.\n\n454\n00:20:30.090 --> 00:20:32.260\nWe've shown you a couple different\noptions for the command line.\n\n455\n00:20:32.260 --> 00:20:33.650\nYou can go in and do that.\n\n456\n00:20:33.650 --> 00:20:39.570\nWith DS model, it would be Dsmod,\nthe command computer, then\n\n457\n00:20:39.570 --> 00:20:44.960\nthe name of the computer, the computer DN,\nin quotes an then reset as a parameter.\n\n458\n00:20:44.960 --> 00:20:46.790\nThose command lines are in the notes,\nby they way.\n\n459\n00:20:46.790 --> 00:20:48.940\nI put them in there for you.\n\n460\n00:20:48.940 --> 00:20:51.285\nUsing Netdom, you could go in.\n\n461\n00:20:51.285 --> 00:20:57.240\nNetdom reset machine name and then\nforward slash domain, name of the domain.\n\n462\n00:20:57.240 --> 00:21:02.538\nForward slash user O for the user name,\nforward slash password O for the password.\n\n463\n00:21:02.538 --> 00:21:05.780\nProvide that and then you will\nbe able to do it with Netdom.\n\n464\n00:21:05.780 --> 00:21:09.141\nSo again that command is in the notes,\nyou could take a look at it.\n\n465\n00:21:09.141 --> 00:21:13.314\nAnd then to reset it with Nltest\nthe tool is to show you Nltest servers,\n\n466\n00:21:13.314 --> 00:21:14.830\nthey'll show you.\n\n467\n00:21:14.830 --> 00:21:19.330\nFirst command at the top, colon server\nname space forward slash SC underscore\n\n468\n00:21:19.330 --> 00:21:24.000\nreset colon and then the domain name and\nthen the domain controller.\n\n469\n00:21:24.000 --> 00:21:28.380\nAnd you can do it from Nltest as well to\nget all those lines are in the show notes.\n\n470\n00:21:28.380 --> 00:21:29.360\nYou can just go take a look.\n\n471\n00:21:29.360 --> 00:21:30.790\nI know rattling them off, for you,\n\n472\n00:21:30.790 --> 00:21:33.900\nreally quickly doesn't help you but\ntrust me they're in the show notes.\n\n473\n00:21:33.900 --> 00:21:37.680\nYou can take a look, they're easy to\nfind them and to see what's there.\n\n474\n00:21:37.680 --> 00:21:40.850\nOr we can actually use the Active\nDirectory module for Windows PowerShell.\n\n475\n00:21:40.850 --> 00:21:43.460\nSo yet another one,\nthat's actually five ways, right?\n\n476\n00:21:43.460 --> 00:21:44.470\nTwo, three, five, six.\n\n477\n00:21:44.470 --> 00:21:46.595\nSix ways including PowerShell\nthat we could do this.\n\n478\n00:21:46.595 --> 00:21:51.045\nOr we could us the test computer\nsecure channel Commandlet.\n\n479\n00:21:51.045 --> 00:21:53.345\nTest dash computer secure channel.\n\n480\n00:21:53.345 --> 00:21:55.065\nAnd we can check the status.\n\n481\n00:21:55.065 --> 00:21:57.605\nWe probably all ready know there's\nan error, but we could check it.\n\n482\n00:21:57.605 --> 00:22:01.525\nIf it comes back with a problem add\nthe repair parameter on the end.\n\n483\n00:22:01.525 --> 00:22:06.100\nSo test dash,\ncomputer secure channel space dash repair.\n\n484\n00:22:06.100 --> 00:22:08.897\nAnd that will also do the same\nthing from Windows PowerShell.\n\n485\n00:22:08.897 --> 00:22:10.997\nBut you have to have\nthe Active Directory module for\n\n486\n00:22:10.997 --> 00:22:12.107\nPowerShell available [INAUDIBLE].\n\n487\n00:22:12.107 --> 00:22:15.439\nMeaning you have to have it loaded up and\navailable for you to be able to use.\n\n488\n00:22:15.439 --> 00:22:17.657\nBut you could do it right\nfrom there as well.\n\n489\n00:22:17.657 --> 00:22:22.177\nAnd we can also go in, and I said,\n\n490\n00:22:22.177 --> 00:22:27.270\nas I pointed out at the beginning of this,\nany of the graphical tools.\n\n491\n00:22:27.270 --> 00:22:30.159\nAnd don't be afraid to use the old tools\nas we said in the tools that you're\n\n492\n00:22:30.159 --> 00:22:31.220\ncomfortable with.\n\n493\n00:22:31.220 --> 00:22:33.330\nIt wouldn't be a bad\nidea to [INAUDIBLE] and\n\n494\n00:22:33.330 --> 00:22:36.810\npractice in one of the other command\nline tools and just see how it works.\n\n495\n00:22:36.810 --> 00:22:39.870\nThat way at least you're familiar with\nthe fact what you'll be able to do.\n\n496\n00:22:39.870 --> 00:22:42.932\nSo it will be important for\nyou just to have a sense of that as well,\n\n497\n00:22:42.932 --> 00:22:46.450\nbecause again, they ask about one\nof the five or six different ways.\n\n498\n00:22:46.450 --> 00:22:50.460\nI could see a question that lists all\n10 or 12 things which would be 10 or\n\n499\n00:22:50.460 --> 00:22:53.060\n12 things are all tools have\na way to accomplish this.\n\n500\n00:22:53.060 --> 00:22:54.040\nBe good to know.\n\n501\n00:22:54.040 --> 00:22:56.890\nI could see being given a block\nof code and being asked\n\n502\n00:22:56.890 --> 00:23:00.570\nwhat does this command do and any of the\ntools, knowing that that's what it does.\n\n503\n00:23:00.570 --> 00:23:02.730\nA lot of different ways that\ncould ask this question.\n\n504\n00:23:02.730 --> 00:23:05.845\nThankfully, I'm not the one\nwriting these questions or boy,\n\n505\n00:23:05.845 --> 00:23:07.685\nyou would have a lot of stuff to know.\n\n506\n00:23:07.685 --> 00:23:10.720\n&gt;&gt; [LAUGH] I am thankful for that Adam.\n\n507\n00:23:10.720 --> 00:23:13.760\n&gt;&gt; I'm sure every time you take an exam,\nI'm sure you are.\n\n508\n00:23:13.760 --> 00:23:15.869\nAll right, so\njust make sure you go through,\n\n509\n00:23:15.869 --> 00:23:17.431\ntake a look at some of this stuff.\n\n510\n00:23:17.431 --> 00:23:18.740\nPractice it in the real world.\n\n511\n00:23:18.740 --> 00:23:20.160\nYou don't get a chance\nto do this very often.\n\n512\n00:23:20.160 --> 00:23:22.890\nThankfully, computer accounts\ndon't get corrupted very often, or\n\n513\n00:23:22.890 --> 00:23:25.070\nnot in need of reset very often.\n\n514\n00:23:25.070 --> 00:23:27.034\nThat doesn't mean you\ncan't go reset one anyway,\n\n515\n00:23:27.034 --> 00:23:30.730\nit just means that you're resetting\nan account that's probably perfectly good.\n\n516\n00:23:30.730 --> 00:23:32.640\nAs long as you do it the right way\nit's not gonna hurt the computer.\n\n517\n00:23:32.640 --> 00:23:34.180\nIt comes back up and it works just fine.\n\n518\n00:23:34.180 --> 00:23:36.520\nSo if you wanna practice, practice.\n\n519\n00:23:36.520 --> 00:23:39.090\nPractice on your friend's network,\npractice on somebody else's.\n\n520\n00:23:39.090 --> 00:23:42.920\nDon't practice on yours but make sure you\npractice wherever you go, whatever you do.\n\n521\n00:23:42.920 --> 00:23:44.510\n&gt;&gt; Interesting advice there Adam, but\n\n522\n00:23:44.510 --> 00:23:49.970\nwe also have our practice labs available\nto you so don't forget about that.\n\n523\n00:23:49.970 --> 00:23:52.100\nAlso, don't forget to join us for\nthe next show.\n\n524\n00:23:52.100 --> 00:23:55.140\nBut for this show, we are out of time,\nso I will go ahead and sign out.\n\n525\n00:23:55.140 --> 00:23:56.750\nI've been your host, Cherokee Boose.\n\n526\n00:23:56.750 --> 00:23:57.670\n&gt;&gt; I'm Adam Gordon.\n\n527\n00:23:57.670 --> 00:24:01.258\n&gt;&gt; See you next time at IT Pro TV.\n\n528\n00:24:01.258 --> 00:24:07.068\n[MUSIC]\n\n529\n00:24:07.068 --> 00:24:10.363\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229279314"
        },
        {
          "description": "In this show, Adam and Cherokee explain how to use PowerShell to perform several administrative tasks. Adam demonstrates hoe to create users and groups via PowerShell. He also shows management cmdlets and ways to manipulate the syntax to define filter requests and more!",
          "length": "2368",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-6-managing_objects_in_ad_ds_pt6-081017-PGM.00_39_24_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-6-managing_objects_in_ad_ds_pt6-081017-PGM.00_39_24_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-6-managing_objects_in_ad_ds_pt6-081017-PGM.00_39_24_14.Still001-sm.jpg",
          "title": "Managing Objects in AD DS Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:06.422\nWelcome to ITPro.Tv I'm your\nhost Don Pezet [CROSSTALK].\n\n2\n00:00:06.422 --> 00:00:08.331\n[MUSIC]\n\n3\n00:00:08.331 --> 00:00:12.353\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.353 --> 00:00:15.420\n&gt;&gt; Welcome to Identity with\nWindows Server 2016 series,\n\n5\n00:00:15.420 --> 00:00:18.060\nI'm your show host Cherokee Boose.\n\n6\n00:00:18.060 --> 00:00:22.510\nIn this episode, we'll continue taking a\nlook at managing objects within ADDS, and\n\n7\n00:00:22.510 --> 00:00:24.800\nwe've got some really cool\nthings headed your way.\n\n8\n00:00:24.800 --> 00:00:28.680\nWe are gonna be taking a look at\nhow to use PowerShell as well as\n\n9\n00:00:28.680 --> 00:00:31.840\ndemonstrating how to perform\nan offline domain join.\n\n10\n00:00:31.840 --> 00:00:34.175\nBack in studios with us today,\nwe have Mr. Adam Gordon.\n\n11\n00:00:34.175 --> 00:00:35.305\nHow are you doing today Adam?\n\n12\n00:00:35.305 --> 00:00:36.329\n&gt;&gt; Doing well, doing well.\n\n13\n00:00:36.329 --> 00:00:39.727\nLooking forward to spending a little\ntime in PowerShell with you,\n\n14\n00:00:39.727 --> 00:00:41.737\nsharing some of those cool tip tricks.\n\n15\n00:00:41.737 --> 00:00:44.738\nAnd also some objective\nguidance about how you can put\n\n16\n00:00:44.738 --> 00:00:48.213\nPowerShell to use to help you\nmanage objects within the AD DS.\n\n17\n00:00:48.213 --> 00:00:51.190\nSo let's get started cuz there's really\nno need to introduce PowerShell.\n\n18\n00:00:51.190 --> 00:00:52.490\nWe talk about it all the time.\n\n19\n00:00:52.490 --> 00:00:56.220\nIt is that wacky environment with\nthe blue background, the white text, and\n\n20\n00:00:56.220 --> 00:00:56.920\nthere it is right there.\n\n21\n00:00:56.920 --> 00:00:58.304\nAll right, so we're gonna take a look.\n\n22\n00:00:58.304 --> 00:01:02.265\nNow I'm using the command line\nPowerShell editor without\n\n23\n00:01:02.265 --> 00:01:04.725\ngraphical interface capabilities.\n\n24\n00:01:04.725 --> 00:01:07.845\nThere's another set of PowerShell\neditors that you can look at,\n\n25\n00:01:07.845 --> 00:01:12.975\nsomething called PowerShell ISE, I-S-E,\nIntegrated Enviroment, as an editor.\n\n26\n00:01:12.975 --> 00:01:14.605\nAnd you can go in and use that.\n\n27\n00:01:14.605 --> 00:01:18.960\nIt works the same way, does all\nthe same things that you could execute\n\n28\n00:01:18.960 --> 00:01:22.192\nindividual commandlets,\nright commandlets strings and\n\n29\n00:01:22.192 --> 00:01:26.240\nor indeed all of the PowerShell\nscripts and modules and functionality.\n\n30\n00:01:26.240 --> 00:01:28.220\nWe talk about can be crafted there.\n\n31\n00:01:28.220 --> 00:01:31.981\nBut, it does give you additional\ncapabilities to do debugging and\n\n32\n00:01:31.981 --> 00:01:36.430\nto do analysis of your codes specially\nif you're working for a large scripts.\n\n33\n00:01:36.430 --> 00:01:40.534\nIt's well beyond what we're talking about\nhere as a basic introduction thought\n\n34\n00:01:40.534 --> 00:01:42.490\nprocess around PowerShell.\n\n35\n00:01:42.490 --> 00:01:46.410\nCertainly take a look at some of the\ncontent in the ITProTV library to see more\n\n36\n00:01:46.410 --> 00:01:48.137\nabout PowerShell top to bottom.\n\n37\n00:01:48.137 --> 00:01:52.510\nBut you can work with either editor to do\nthe things I'm about to do with you here.\n\n38\n00:01:52.510 --> 00:01:54.960\nI'm just gonna use this one\nbecause this is the one\n\n39\n00:01:54.960 --> 00:01:59.660\nthat we traditionally use in\nthe demonstrations all along the way.\n\n40\n00:01:59.660 --> 00:02:02.170\nAnd I don't want you to get confused\nby suddenly seeing something new and\n\n41\n00:02:02.170 --> 00:02:03.840\nnot understanding what it is.\n\n42\n00:02:03.840 --> 00:02:07.918\nSo in PowerShell first thing you have\nto know and the most important thing to\n\n43\n00:02:07.918 --> 00:02:11.738\nkeep in mind is that you have to\nlaunch PowerShell under the credential\n\n44\n00:02:11.738 --> 00:02:16.095\nof a user that has the permissions to do\nthe things that you ask PowerShell to do.\n\n45\n00:02:16.095 --> 00:02:17.119\nIt's like any other tool.\n\n46\n00:02:17.119 --> 00:02:20.405\nIf you don't have the rights to use\nthe tool, the tools not going to be very\n\n47\n00:02:20.405 --> 00:02:23.493\neffective for you, and think of\nPowerShell as a tool, it indeed is.\n\n48\n00:02:23.493 --> 00:02:25.720\nIt is a very powerful tool.\n\n49\n00:02:25.720 --> 00:02:26.797\nNo pun intended there.\n\n50\n00:02:26.797 --> 00:02:27.981\nPowerful, PowerShell.\n\n51\n00:02:27.981 --> 00:02:30.336\n&gt;&gt; I know I always try to use\nthe word robust when I'm explaining\n\n52\n00:02:30.336 --> 00:02:31.223\nPowerShell because.\n\n53\n00:02:31.223 --> 00:02:32.205\n&gt;&gt; No that's not as much fun.\n\n54\n00:02:32.205 --> 00:02:34.762\n&gt;&gt; [LAUGH]\n&gt;&gt; It's more fun to do the double entendre\n\n55\n00:02:34.762 --> 00:02:35.778\nand just say it that way.\n\n56\n00:02:35.778 --> 00:02:40.006\nBut just keep in mind, right,\nkeep in mind that if you load this tool\n\n57\n00:02:40.006 --> 00:02:43.713\nas just a standard user as some\nof us may operate day to day and\n\n58\n00:02:43.713 --> 00:02:47.668\nthen have a secondary user account\nthat has full admin rights.\n\n59\n00:02:47.668 --> 00:02:51.217\nIf we're not launching the tool under the\nadmin account, the tool's not gonna behave\n\n60\n00:02:51.217 --> 00:02:53.705\nvery well, it's not gonna do\na lot of things we ask it to do.\n\n61\n00:02:53.705 --> 00:02:57.015\nSo if you're having some errors or\nexperiencing some concerns about that,\n\n62\n00:02:57.015 --> 00:03:00.605\nmay have seen that behavior before,\nwondered what's going on.\n\n63\n00:03:00.605 --> 00:03:02.515\nSometimes PowerShell works\nsometimes it doesn't,\n\n64\n00:03:02.515 --> 00:03:04.715\nwhat's that whole thing happening around.\n\n65\n00:03:04.715 --> 00:03:08.215\nIt is often nothing more than just\nthe credential of the session of the user\n\n66\n00:03:08.215 --> 00:03:10.250\nthat you're loading PowerShell under.\n\n67\n00:03:10.250 --> 00:03:13.850\nPowerShell has a variety of different\ncmdlets associated with it.\n\n68\n00:03:13.850 --> 00:03:18.150\nSeveral thousand at this point as we\nlook across the entire landscape of\n\n69\n00:03:18.150 --> 00:03:19.700\nthe Microsoft ecosystem.\n\n70\n00:03:19.700 --> 00:03:22.610\nBut we're talking here\nspecifically about the AD DS,\n\n71\n00:03:22.610 --> 00:03:26.350\nthe Active Directory Domain Services and\nthe Active Directory module for\n\n72\n00:03:26.350 --> 00:03:27.180\nPowerShell.\n\n73\n00:03:27.180 --> 00:03:29.980\nAnd that's got a couple hundred\ncmdlets associated with it,\n\n74\n00:03:29.980 --> 00:03:31.450\nso, just be aware of that.\n\n75\n00:03:31.450 --> 00:03:33.840\nI'm gonna show you some of them we're\nnot gonna talk about all of them.\n\n76\n00:03:33.840 --> 00:03:37.675\nA lot of the commandments I'll mention in\npassing are detailed in the show notes.\n\n77\n00:03:37.675 --> 00:03:38.890\nI encourage you to take a look.\n\n78\n00:03:38.890 --> 00:03:40.220\nGot a few pages of show notes.\n\n79\n00:03:40.220 --> 00:03:43.000\nI think about three to four,\napproximately around this topic.\n\n80\n00:03:43.000 --> 00:03:45.600\nThat give you a lot of additional cmdlets,\n\n81\n00:03:45.600 --> 00:03:48.760\ntalk you through the sample\nusage of a lot of the cmdlets.\n\n82\n00:03:48.760 --> 00:03:51.857\nI'm only gonna demonstrate one or\ntwo of them with some sample code.\n\n83\n00:03:51.857 --> 00:03:53.479\nThey give you more code snippets in there.\n\n84\n00:03:53.479 --> 00:03:54.663\n&gt;&gt; Adam, these notes are great.\n\n85\n00:03:54.663 --> 00:03:55.313\n&gt;&gt; Also give, thank you.\n\n86\n00:03:55.313 --> 00:03:59.377\n&gt;&gt; Good to keep in the little\nemergency situation, too.\n\n87\n00:03:59.377 --> 00:04:02.937\n&gt;&gt; Yeah, like survival pack\nwhen you get parachuted in and\n\n88\n00:04:02.937 --> 00:04:06.010\nyou need PowerShell in order to survive.\n\n89\n00:04:06.010 --> 00:04:07.214\nThen they ask you,\nwhat did you take with you?\n\n90\n00:04:07.214 --> 00:04:08.110\nI took PowerShell.\n&gt;&gt; Adam's notes.\n\n91\n00:04:08.110 --> 00:04:08.815\n&gt;&gt; I took Adam's notes from PowerShell.\n\n92\n00:04:08.815 --> 00:04:09.910\n&gt;&gt; [LAUGH] That's right.\n\n93\n00:04:09.910 --> 00:04:11.080\n&gt;&gt; And they burned very well, so\n\n94\n00:04:11.080 --> 00:04:15.060\nmake sure you use them as fuel when\nyou are setting your survival fire.\n\n95\n00:04:16.070 --> 00:04:18.902\nBut thank you, I appreciate your\nvote of confidence on quality notes.\n\n96\n00:04:18.902 --> 00:04:19.425\nThat is important.\n\n97\n00:04:19.425 --> 00:04:20.203\n&gt;&gt; Sorry to interrupt.\n\n98\n00:04:20.203 --> 00:04:23.193\n&gt;&gt; No, it's always important to give\npeople a sense that the notes are actually\n\n99\n00:04:23.193 --> 00:04:25.688\nvaluable and we often put a lot of\nreally cool stuff in the notes.\n\n100\n00:04:25.688 --> 00:04:27.796\nAnd try to get you to go out and\ntake a look at them,\n\n101\n00:04:27.796 --> 00:04:30.891\noften reference them in our shows,\nto make sure you're aware of them.\n\n102\n00:04:30.891 --> 00:04:34.159\nBut this is no exception, as you heard\nCherokee say, and I did not pay her for\n\n103\n00:04:34.159 --> 00:04:35.452\nthat endorsement by the way.\n\n104\n00:04:35.452 --> 00:04:36.819\n&gt;&gt; [LAUGH]\n&gt;&gt; At least not on camera,\n\n105\n00:04:36.819 --> 00:04:37.912\nyou never saw me do that.\n\n106\n00:04:37.912 --> 00:04:40.289\nSo do take a look at the notes\nall kidding aside, but\n\n107\n00:04:40.289 --> 00:04:42.849\nthere's also not only sample\ncode snippets in there.\n\n108\n00:04:42.849 --> 00:04:44.146\nBut I think one of the things Cherokee,\n\n109\n00:04:44.146 --> 00:04:46.636\nwhen she looked at the notes before we\ncame on for the episode, called out.\n\n110\n00:04:46.636 --> 00:04:50.092\nAnd said, hey, not only are these great,\nbut they're great for these reasons.\n\n111\n00:04:50.092 --> 00:04:53.941\nI went in and actually gave you some\nexplanatory information about the reasons\n\n112\n00:04:53.941 --> 00:04:56.600\nwhy certain things worked the way they do.\n\n113\n00:04:56.600 --> 00:05:01.440\nWhy we use a pipe, what the pipe is for,\nhow we use it, under what context.\n\n114\n00:05:01.440 --> 00:05:05.670\nWhy we can create a query using an LDAP\nfilter, or using a for each loop and\n\n115\n00:05:05.670 --> 00:05:09.980\nhow we can import using a text file,\nusing a cat command or a get command,\n\n116\n00:05:09.980 --> 00:05:10.740\nthings like that.\n\n117\n00:05:10.740 --> 00:05:14.190\nSo I go through some additional depth\nthere do a lot of work with PowerShell,\n\n118\n00:05:14.190 --> 00:05:16.390\nwork with it with my\ncustomers on a regular basis,\n\n119\n00:05:16.390 --> 00:05:18.160\nteach a lot of people how to use it.\n\n120\n00:05:18.160 --> 00:05:21.560\nSo I'm just trying to share the benefit\nof some of that with you without going\n\n121\n00:05:21.560 --> 00:05:25.890\nthrough the whole really in-depth\nexposure and explanation of PowerShell,\n\n122\n00:05:25.890 --> 00:05:30.430\nwhich would be beyond a simple 20 to\n30 minute discussion around this topic.\n\n123\n00:05:30.430 --> 00:05:32.992\nSo please reference that for\nwhat it's worth.\n\n124\n00:05:32.992 --> 00:05:35.614\nAll right, let's go back in here,\nlet's take a look at a couple of commands.\n\n125\n00:05:35.614 --> 00:05:38.883\nSo in the AD DS module\nthe active directory module for\n\n126\n00:05:38.883 --> 00:05:42.020\nWindows PowerShell,\nwith a series of commands.\n\n127\n00:05:42.020 --> 00:05:46.794\nOne of them that I will often use and\nI've talked about is a command and\n\n128\n00:05:46.794 --> 00:05:51.651\nI'm just using as you can see here\nthe auto tab feature there's a whole\n\n129\n00:05:51.651 --> 00:05:54.722\nseries of these AD authentication policy.\n\n130\n00:05:54.722 --> 00:05:57.800\nPolicy silo, AD central access policy.\n\n131\n00:05:57.800 --> 00:06:01.879\nCentral access rule all the AD things\nright are all active directory.\n\n132\n00:06:01.879 --> 00:06:05.320\nClaim type, AD computer, new config.\n\n133\n00:06:05.320 --> 00:06:08.227\nFine grained password policy,\nnew group you wanna create a new group.\n\n134\n00:06:08.227 --> 00:06:10.290\nThere's the cmdlet to do that.\n\n135\n00:06:10.290 --> 00:06:13.980\nThere's one for an object, create a group\nthat's not an object, or an object's not\n\n136\n00:06:13.980 --> 00:06:18.330\na group rather you could then specify\nparameter for OU, or something else.\n\n137\n00:06:18.330 --> 00:06:20.297\nThere's an OU, if you want to do that.\n\n138\n00:06:20.297 --> 00:06:22.850\nThere's replication,\nall sorts of stuff in here.\n\n139\n00:06:22.850 --> 00:06:25.120\nAs I said, it's a couple hundred of them,\nby the time you get done,\n\n140\n00:06:25.120 --> 00:06:26.260\nas I'm going through.\n\n141\n00:06:26.260 --> 00:06:29.837\nBut the new way the user commandlet\nis one that we, well tend to use.\n\n142\n00:06:29.837 --> 00:06:33.373\nYou may not use it often, you don't have\nto create groups, or users, or a use for\n\n143\n00:06:33.373 --> 00:06:35.042\nthat matter on a very frequent basis.\n\n144\n00:06:35.042 --> 00:06:38.067\nBut you certainly may have to,\nso if you wanna go in and\n\n145\n00:06:38.067 --> 00:06:41.175\nuse this commandment you can,\nbut here's the issue.\n\n146\n00:06:41.175 --> 00:06:44.100\nDo you know what you have to provide\nwhen you use this commandment?\n\n147\n00:06:44.100 --> 00:06:46.850\nI just went ahead and hit enter\nwithout providing any information.\n\n148\n00:06:46.850 --> 00:06:50.500\nIf you think about the logic of\nhow we normally create a user.\n\n149\n00:06:50.500 --> 00:06:53.911\nWe go through a wizard,\nRight Click &gt; New User and in the GUI or\n\n150\n00:06:53.911 --> 00:06:57.927\nin the MMC we're prompted for\na first name, prompted for a middle name.\n\n151\n00:06:57.927 --> 00:06:59.760\nAlthough you may not often provide one.\n\n152\n00:06:59.760 --> 00:07:02.963\nLast name,\nwhich is often referred to as a surname.\n\n153\n00:07:02.963 --> 00:07:06.048\nAnd it's the mapped attribute called\nsurname by the way, not last name,\n\n154\n00:07:06.048 --> 00:07:07.200\nwe see it as surname.\n\n155\n00:07:07.200 --> 00:07:09.977\nWhen you do a query for it in PowerShell,\nI'll show you what I mean by that.\n\n156\n00:07:09.977 --> 00:07:13.310\nWe have a group association.\n\n157\n00:07:13.310 --> 00:07:16.870\nThere's all sorts of different stuff,\npasswords, a variety of things.\n\n158\n00:07:16.870 --> 00:07:19.990\nWe may have to provide, and we do provide\na lot of that information if we want to be\n\n159\n00:07:19.990 --> 00:07:21.240\nable to use this command let from here.\n\n160\n00:07:21.240 --> 00:07:24.360\nSo just typing it, and\nI just hit Ctrl+C by the way,\n\n161\n00:07:24.360 --> 00:07:27.070\nto break the commandlet, just so\nI can get back to a prompt.\n\n162\n00:07:27.070 --> 00:07:29.120\nYou may not be able to see what\nI'm doing and wonder why, but\n\n163\n00:07:29.120 --> 00:07:29.990\nthe screen just changed.\n\n164\n00:07:29.990 --> 00:07:32.640\nSo I'm just hitting the Control key and\nthe letter C.\n\n165\n00:07:32.640 --> 00:07:35.990\nThat is the universal command that allows\nyou to break whatever's going on in\n\n166\n00:07:35.990 --> 00:07:39.790\nthe shell, and allow you to return back to\nthe prompt you were at before you started.\n\n167\n00:07:39.790 --> 00:07:43.500\nSo, instead of just issuing a command\nwithout knowing anything about it,\n\n168\n00:07:43.500 --> 00:07:46.600\nI'm a big proponent of looking\nat help files as you know.\n\n169\n00:07:46.600 --> 00:07:50.875\nIf I type in get help which is\na commandlet in and of itself by the way,\n\n170\n00:07:50.875 --> 00:07:52.456\nhave to know about that.\n\n171\n00:07:52.456 --> 00:07:57.406\nAnd then, I type the name of\nthe commandlet that I want to actually\n\n172\n00:07:57.406 --> 00:08:01.284\nbe able to use,\nin this case let's say new AD User.\n\n173\n00:08:01.284 --> 00:08:04.368\nThen I will get a help\nfile that I can read and\n\n174\n00:08:04.368 --> 00:08:07.400\nunderstand more information about.\n\n175\n00:08:07.400 --> 00:08:11.987\nAnd so the first thing that's really\nimportant is knowing that you can get help\n\n176\n00:08:11.987 --> 00:08:16.225\nin line, in the shell itself, for\nany of the cmdlets that you use by using\n\n177\n00:08:16.225 --> 00:08:19.630\nthe syntax get-help the cmdlets\ncalled get help Space and\n\n178\n00:08:19.630 --> 00:08:23.342\nthen the name of the cmdlets that\nyou would like to get help for.\n\n179\n00:08:23.342 --> 00:08:25.340\nIn this case new AD user.\n\n180\n00:08:25.340 --> 00:08:29.479\nNow, there are different kinds of help and\nwhat I have to do before we came on for\n\n181\n00:08:29.479 --> 00:08:33.307\nthe episode to ensure we have the most\nrecent version of help was I usually\n\n182\n00:08:33.307 --> 00:08:34.343\nget help command.\n\n183\n00:08:34.343 --> 00:08:38.355\nAnd because I have a data that help\nfile in sometime it comes out between\n\n184\n00:08:38.355 --> 00:08:40.260\nPowerShell comes up and say hey,\n\n185\n00:08:40.260 --> 00:08:44.749\nwould you like to go out download the\nlatest help files from Microsoft.com and\n\n186\n00:08:44.749 --> 00:08:49.602\nimport them so you have all the help files\nhere in your local instance of PowerShell.\n\n187\n00:08:49.602 --> 00:08:50.482\nAnd I said yes, and\n\n188\n00:08:50.482 --> 00:08:54.170\nit did about five minutes worth of\nupdates to download the help files.\n\n189\n00:08:54.170 --> 00:08:58.270\nAnd then I was doing that to ensure that\nas we did the demos here for you and\n\n190\n00:08:58.270 --> 00:09:01.510\ntalked about these cmdlets that you\nwould actually see help files and\n\n191\n00:09:01.510 --> 00:09:05.510\nnot get a screen with nothing on it or\nimpartial or just partial information.\n\n192\n00:09:05.510 --> 00:09:09.452\nSo it is important you may see that prompt\nthe first time, so be aware of that.\n\n193\n00:09:09.452 --> 00:09:11.870\nThere are different kinds of help.\n\n194\n00:09:11.870 --> 00:09:15.620\nYou can, if you just issue the standard\nget help command as I did,\n\n195\n00:09:15.620 --> 00:09:19.220\nyou will see here,\nlet's go back up so you can see this.\n\n196\n00:09:19.220 --> 00:09:25.180\nThat we did get the name, it always\ncomes in with the name of the cmdlet.\n\n197\n00:09:25.180 --> 00:09:27.790\nThe synopsis,\na little one sentence typically statement,\n\n198\n00:09:27.790 --> 00:09:29.510\nthis is what the cmdlet does.\n\n199\n00:09:29.510 --> 00:09:31.200\nAlways important to know that.\n\n200\n00:09:31.200 --> 00:09:33.603\nAnd then we see a syntax block.\n\n201\n00:09:33.603 --> 00:09:36.712\nIn this case, it's a fairly large one\nbecause the syntax block happens to\n\n202\n00:09:36.712 --> 00:09:38.920\nhave quite a bit of stuff\nassociated with it.\n\n203\n00:09:38.920 --> 00:09:44.862\nBut seeing it all in that block like\nthis with all of the parameters and\n\n204\n00:09:44.862 --> 00:09:49.173\nvalues associated with\nthe usage of this cmdlet.\n\n205\n00:09:49.173 --> 00:09:50.330\nIt's very difficult.\n\n206\n00:09:50.330 --> 00:09:52.690\nProbably I would hazard\nto guess overwhelming and\n\n207\n00:09:52.690 --> 00:09:57.690\nconfusing and certainly very difficult and\nperhaps even impossible to make heads or\n\n208\n00:09:57.690 --> 00:10:00.660\ntails out of what's going on there\njust by itself unless you're\n\n209\n00:10:00.660 --> 00:10:03.110\ntrained to use PowerShell on a regular\nbasis, use it all the time and\n\n210\n00:10:03.110 --> 00:10:06.170\ncan quickly scan that and go okay,\nI know I need that parameter.\n\n211\n00:10:06.170 --> 00:10:08.310\nIt's a Boolean type or it's a string type.\n\n212\n00:10:08.310 --> 00:10:10.990\nI know how to use that and boom,\nyou go off and do what you need to do.\n\n213\n00:10:10.990 --> 00:10:13.590\nThe people that use PowerShell\non a regular basis can do that.\n\n214\n00:10:13.590 --> 00:10:17.240\nBut for the average person just getting\nstarted that looks like the Matrix, right?\n\n215\n00:10:17.240 --> 00:10:18.910\nAll that stuff goes streaming by.\n\n216\n00:10:18.910 --> 00:10:21.470\nYou have no clue what's in there and\nit really doesn't help.\n\n217\n00:10:21.470 --> 00:10:24.570\nSo understanding how to\nget the help you need\n\n218\n00:10:24.570 --> 00:10:28.510\nby using the right kind of help files what\nI'm suggesting is gonna be important here.\n\n219\n00:10:28.510 --> 00:10:31.500\nSo what we can do is we scroll down.\n\n220\n00:10:31.500 --> 00:10:35.760\nWe do see a little bit more detail\nof what the cmndlet does here.\n\n221\n00:10:35.760 --> 00:10:38.940\nGoes into some discussion about\ndifferent ways to do that, but\n\n222\n00:10:38.940 --> 00:10:42.545\nit's a very short help file,\nthere's just not a lot to it right there.\n\n223\n00:10:42.545 --> 00:10:44.495\nNow this is just the basic help file.\n\n224\n00:10:44.495 --> 00:10:49.280\nIf you wanna get more help,\nyou'll notice right here, under remarks.\n\n225\n00:10:50.550 --> 00:10:52.562\nWe do have options to get additional help.\n\n226\n00:10:52.562 --> 00:10:56.700\nAnd so the first lesson I can give you,\nfirst piece of advice I can share with you\n\n227\n00:10:56.700 --> 00:10:59.160\nis know how to ask for\nthe right kind of help.\n\n228\n00:10:59.160 --> 00:11:03.370\nSo you could see here to see\nthe examples type get help new AD user\n\n229\n00:11:03.370 --> 00:11:04.400\nparameter examples.\n\n230\n00:11:04.400 --> 00:11:07.650\nMeaning I wanna see some code\nsnippets that show me how to use\n\n231\n00:11:07.650 --> 00:11:11.190\nnew AD user with some of those\nparameters in that big block up top.\n\n232\n00:11:11.190 --> 00:11:13.595\nAnd show me what it is and\nhow it works while we have that.\n\n233\n00:11:13.595 --> 00:11:16.120\nYou just have to ask for\nthat kinda help examples.\n\n234\n00:11:16.120 --> 00:11:19.657\nIf you wanna get detailed information\nuse the detailed parameter.\n\n235\n00:11:19.657 --> 00:11:23.927\nYou wanna get technical information which\nmeans essentially get the full help file\n\n236\n00:11:23.927 --> 00:11:27.587\nwith all of the examples and\nall the information everything all in one,\n\n237\n00:11:27.587 --> 00:11:29.450\nuse the full parameter.\n\n238\n00:11:29.450 --> 00:11:31.980\nYou want to check and see if there's\nbeen an update or get the most recent\n\n239\n00:11:31.980 --> 00:11:35.570\ninformation from the Microsoft website,\nuse the online parameter.\n\n240\n00:11:35.570 --> 00:11:37.840\nNow you have to be connected\nto the web to use online so\n\n241\n00:11:37.840 --> 00:11:39.870\njust be aware of that otherwise it fails.\n\n242\n00:11:39.870 --> 00:11:42.470\nBut if I want the full help file, right?\n\n243\n00:11:42.470 --> 00:11:43.720\nAs opposed to the full Monty,\n\n244\n00:11:43.720 --> 00:11:46.470\nif I want the full help file,\nyou ever see that movie?\n\n245\n00:11:46.470 --> 00:11:47.928\n&gt;&gt; No, you're gonna kill me.\n\n246\n00:11:47.928 --> 00:11:49.970\n[LAUGH] I don't think I have.\n\n247\n00:11:49.970 --> 00:11:51.425\n&gt;&gt; I just asked\n&gt;&gt; I know.\n\n248\n00:11:51.425 --> 00:11:53.770\n&gt;&gt; Now just so that I have a time for\nthe long typing.\n\n249\n00:11:53.770 --> 00:11:56.060\nNot because I actually expect\nyou to actually say yes.\n\n250\n00:11:56.060 --> 00:11:58.423\nIf you said yes, I would actually\nprobably fall down shocked.\n\n251\n00:11:58.423 --> 00:12:01.690\nAll right so, if you haven't\nseen the movie really cool move.\n\n252\n00:12:01.690 --> 00:12:03.130\nBut we're gonna do\nthe full help file here.\n\n253\n00:12:03.130 --> 00:12:05.640\nSo we're gonna do full,\nand notice the difference.\n\n254\n00:12:05.640 --> 00:12:08.180\nLook at all that stuff that went scrolling\nby that we got that we didn't see with\n\n255\n00:12:08.180 --> 00:12:09.050\nthe other help file.\n\n256\n00:12:09.050 --> 00:12:11.670\nNot because it's not there but\nbecause we didn't ask for it.\n\n257\n00:12:11.670 --> 00:12:13.000\nEssentially it's just filtered.\n\n258\n00:12:13.000 --> 00:12:15.930\nOur request was just show\nme the executive summary,\n\n259\n00:12:15.930 --> 00:12:18.000\nnot the entire help file, all right?\n\n260\n00:12:18.000 --> 00:12:20.920\nIn Linux,\nthis is like reading the man pages, right?\n\n261\n00:12:20.920 --> 00:12:24.170\nYou're reading through the manual,\nthe man pages, to understand all the help\n\n262\n00:12:24.170 --> 00:12:27.690\ninformation, and you got to ask for the\nright amount of stuff to figure it out.\n\n263\n00:12:27.690 --> 00:12:32.225\nSo we do a full parameter at\nthe end of the help request,\n\n264\n00:12:32.225 --> 00:12:34.305\nlook at what we get here.\n\n265\n00:12:34.305 --> 00:12:35.570\nLet me just get back up here.\n\n266\n00:12:37.280 --> 00:12:41.189\nWe get all the information about every\nparameter that was listed on that big\n\n267\n00:12:41.189 --> 00:12:45.284\nblock in the executive summary, tells us\nthe type, tells us a little bit about\n\n268\n00:12:45.284 --> 00:12:49.068\nhow it's used and tells us whether it's\nrequired to do a half used it with\n\n269\n00:12:49.068 --> 00:12:53.074\na syntax in order to get the cmndlet\nto work the right way, require.\n\n270\n00:12:53.074 --> 00:12:54.903\nSo it's optional, right?\n\n271\n00:12:54.903 --> 00:12:57.902\nAccept pipeline and put true,\nthis will be important.\n\n272\n00:12:57.902 --> 00:13:02.054\nWe talked about pipes which\nmeans I can use the trusted for\n\n273\n00:13:02.054 --> 00:13:06.466\ndelegation, I can pipe information\nto this parameter, and\n\n274\n00:13:06.466 --> 00:13:11.460\nit will accept information in\nparenthesis by property name.\n\n275\n00:13:11.460 --> 00:13:16.430\nSo I can use some sort of commandlet\non one area of this command string.\n\n276\n00:13:16.430 --> 00:13:20.880\nImagine I have a commandlet that's\nnow written out, get new AD user, and\n\n277\n00:13:20.880 --> 00:13:24.640\nthen I do something with that I\nget a subset, maybe I filter and\n\n278\n00:13:24.640 --> 00:13:29.260\nget a list of all new,\ninstead of get new AD user.\n\n279\n00:13:29.260 --> 00:13:32.030\nLet me try this again,\nget AD user is what I meant to say.\n\n280\n00:13:32.030 --> 00:13:36.030\nLet's say you get AD user and I decide\nthat I want to get a list of users,\n\n281\n00:13:36.030 --> 00:13:40.340\nfilter that, and then pipe it to\nthe new AD user command trusted for\n\n282\n00:13:40.340 --> 00:13:43.880\ndelegation to modify that\nuser's parameter with that\n\n283\n00:13:43.880 --> 00:13:48.410\nsubset of the users that I say I want\nto modify using this particular option.\n\n284\n00:13:48.410 --> 00:13:51.050\nThat setting right here that\nsays accept pipeline and\n\n285\n00:13:51.050 --> 00:13:55.620\nput true means I can pass that list\nover a command called a pipe and\n\n286\n00:13:55.620 --> 00:13:59.430\nthat pipe means everything on the left\ngets executed to the left of the pipe.\n\n287\n00:13:59.430 --> 00:14:03.240\nThe output of that run gets passed as\nthe input to the right hand side and\n\n288\n00:14:03.240 --> 00:14:05.720\ngets consumed by\nthe commandlets on the right.\n\n289\n00:14:05.720 --> 00:14:06.780\nAnd that's what this tells me.\n\n290\n00:14:06.780 --> 00:14:11.005\nSo reading the full help file is\ngonna allow me to become a lot more\n\n291\n00:14:11.005 --> 00:14:14.940\nknowledgeable and understand a lot\nmore about PowerShell how it works.\n\n292\n00:14:14.940 --> 00:14:16.310\nSo it's important to go through this.\n\n293\n00:14:16.310 --> 00:14:18.410\nWe also have syntax examples.\n\n294\n00:14:18.410 --> 00:14:21.820\nWe have code examples of how\nthis will actually work.\n\n295\n00:14:21.820 --> 00:14:24.870\nAnd we could see examples, remember,\nwe said one of the options was\n\n296\n00:14:24.870 --> 00:14:29.040\nexamples parameter or information or\nfull or online or whatever.\n\n297\n00:14:29.040 --> 00:14:32.960\nSo you'll see here, new AD user Glenn\nJohn, if that's the name about the user,\n\n298\n00:14:32.960 --> 00:14:36.800\ncertificate, and then a whole string\nabout how to set up certificates.\n\n299\n00:14:36.800 --> 00:14:39.830\nGet create a new AD user\nhere named Glenn John\n\n300\n00:14:39.830 --> 00:14:42.530\nwith a certificate report\nfrom the filed export.cdr.\n\n301\n00:14:42.530 --> 00:14:44.152\nThat's what this does right up here.\n\n302\n00:14:44.152 --> 00:14:46.748\nAnd by the way you read this is,\nthe syntax is on top,\n\n303\n00:14:46.748 --> 00:14:49.880\nthe description that tells\nyou what the syntax is below.\n\n304\n00:14:49.880 --> 00:14:52.983\nSo this line goes up to that\nright there just so you know.\n\n305\n00:14:52.983 --> 00:14:55.160\nSo you go through and\nyou see this whole thing, right?\n\n306\n00:14:55.160 --> 00:14:58.590\nAnd so this is just one example of\nthe help file and how it can be used.\n\n307\n00:14:58.590 --> 00:15:01.680\nSo I always like to start our conversation\nabout PowerShell by talking about the help\n\n308\n00:15:01.680 --> 00:15:04.400\nfile to give you a sense of\nwhat we're doing in there and\n\n309\n00:15:04.400 --> 00:15:08.000\nhow you can do it to really make sure you\nunderstand how to operate effectively.\n\n310\n00:15:08.000 --> 00:15:10.100\nOkay, so we have new AD user,\n\n311\n00:15:10.100 --> 00:15:14.200\na set AD user, remove AD user,\nsetting the account passwords.\n\n312\n00:15:14.200 --> 00:15:17.592\nWhole bunch of these cmdlets\nwe went through already.\n\n313\n00:15:17.592 --> 00:15:20.880\nWouldn't be too difficult to do\nsomething like the following?\n\n314\n00:15:20.880 --> 00:15:25.220\nSo new AD user and\nthen let's specify the name of the user.\n\n315\n00:15:25.220 --> 00:15:29.860\nSo let's say that I do my name,\nAdam Gordon.\n\n316\n00:15:29.860 --> 00:15:30.870\nPut that in quotes.\n\n317\n00:15:30.870 --> 00:15:32.920\nWhy do we put that in quotes?\n\n318\n00:15:32.920 --> 00:15:35.525\n&gt;&gt; In case you have any spaces or\nspecial characters.\n\n319\n00:15:35.525 --> 00:15:37.493\n&gt;&gt; Which I do I have a space\nbetween my two, right?\n\n320\n00:15:37.493 --> 00:15:38.085\n&gt;&gt; Yeah, so\n\n321\n00:15:38.085 --> 00:15:42.612\nyou're just telling the operating\nsystem that this is one entire unit.\n\n322\n00:15:42.612 --> 00:15:44.758\nI don't know what the proper term is but-\n&gt;&gt; It's a string.\n\n323\n00:15:44.758 --> 00:15:45.404\n&gt;&gt; A string yeah.\n\n324\n00:15:45.404 --> 00:15:48.509\n&gt;&gt; And a string is a literal string so\nyou have to reproduce it with space so\n\n325\n00:15:48.509 --> 00:15:50.365\nyou understand how to read it correctly.\n\n326\n00:15:50.365 --> 00:15:53.739\nSo account password we're using\nthe parameter there to specify On account\n\n327\n00:15:53.739 --> 00:15:54.281\npassword.\n\n328\n00:15:54.281 --> 00:15:57.894\nRemember, we don't often provide the\naccount password as I've talked about in\n\n329\n00:15:57.894 --> 00:16:01.681\nsome other PowerShell demonstrations,\nwhere we use the Get-Credential cmdlet.\n\n330\n00:16:01.681 --> 00:16:05.720\nAnd we provided the user name and domain,\nbut then prompted for the password.\n\n331\n00:16:05.720 --> 00:16:07.710\nWe said from a security\nstandpoint that's a good idea.\n\n332\n00:16:07.710 --> 00:16:10.330\nWe don't normally provide passwords\nthrough PowerShell because they're not\n\n333\n00:16:10.330 --> 00:16:12.100\nsecure when we do that,\nand they could be seen,\n\n334\n00:16:12.100 --> 00:16:14.440\nand obviously that would\nbe an insecure solution.\n\n335\n00:16:14.440 --> 00:16:17.610\nSo we will use the account\npassword parameter, but\n\n336\n00:16:17.610 --> 00:16:20.810\nwhat we're gonna do instead is\ntell the system, hey, prompt for\n\n337\n00:16:20.810 --> 00:16:25.500\nit on the screen, so that way,\nwhen we use it, we enter it securely.\n\n338\n00:16:25.500 --> 00:16:26.560\nI'm gonna show you how to do that.\n\n339\n00:16:26.560 --> 00:16:31.750\nSo we're gonna do this here with\nanother cmdlet called read host, right?\n\n340\n00:16:31.750 --> 00:16:36.610\nAnd then, we're gonna use\nthe as secure screen parameter\n\n341\n00:16:36.610 --> 00:16:39.830\nthat will convert that password\ninto a secure solution, and\n\n342\n00:16:39.830 --> 00:16:43.920\nnot allow it to be seen, or allow it to be\naccessed in a way that would expose it.\n\n343\n00:16:43.920 --> 00:16:46.632\nSo we're gonna use the as\nsecure screen parameter.\n\n344\n00:16:46.632 --> 00:16:49.019\nI'm gonna type that in, as secure screen,\n\n345\n00:16:49.019 --> 00:16:53.609\njust make sure I'm typing that correctly,\nmeaning, I'm spelling it correctly.\n\n346\n00:16:53.609 --> 00:16:57.026\nAnd I'm not because I typed well\nnot important what I type but\n\n347\n00:16:57.026 --> 00:16:58.704\nI didn't type it correctly.\n\n348\n00:16:58.704 --> 00:16:59.900\n&gt;&gt; [LAUGH]\n&gt;&gt; All right so that's secure strength.\n\n349\n00:16:59.900 --> 00:17:04.450\nAnd then what we're going to\ndo is put in what we want.\n\n350\n00:17:04.450 --> 00:17:09.910\nIn this case our little message which\nwill be enter password all right.\n\n351\n00:17:09.910 --> 00:17:15.420\nAnd then if I want to add this user to a\ndepartment, specify department parameter.\n\n352\n00:17:18.480 --> 00:17:23.911\nSo there's department, or should be\nthere in just a minute, one second.\n\n353\n00:17:23.911 --> 00:17:26.837\nJust make sure it found it,\n\n354\n00:17:26.837 --> 00:17:32.450\ndepart, department, there we go.\n\n355\n00:17:32.450 --> 00:17:34.663\nAnd then I can specify a department,\nlike IT or whatever.\n\n356\n00:17:34.663 --> 00:17:37.740\nIf I did something like this,\nthat would work.\n\n357\n00:17:37.740 --> 00:17:40.800\nSo if I did this, right?\n\n358\n00:17:42.460 --> 00:17:47.155\nI could go ahead, and I could attempt to\ncreate a user called Adam Gordon, and\n\n359\n00:17:47.155 --> 00:17:50.694\nI could then wait for\nthis to carry out and do its thing, and\n\n360\n00:17:50.694 --> 00:17:52.570\ndo whatever I want it to do.\n\n361\n00:17:52.570 --> 00:17:54.750\nI know why it's not executing,\nhold on a second.\n\n362\n00:17:54.750 --> 00:17:56.800\nI'm sitting here saying,\nwhy is it taking so long?\n\n363\n00:17:56.800 --> 00:18:01.890\nI didn't realize, I forgot to,\nhold on a second I forgot\n\n364\n00:18:01.890 --> 00:18:07.309\nto put the quote at the end of\nthe parentheses, that's why.\n\n365\n00:18:07.309 --> 00:18:08.810\nI wrote under password.\n\n366\n00:18:08.810 --> 00:18:09.700\nI forgot the quote out the back.\n\n367\n00:18:09.700 --> 00:18:10.830\nSo, it didn't actually execute anything.\n\n368\n00:18:10.830 --> 00:18:12.470\nIt just kind of sat there and\ndidn't do anything.\n\n369\n00:18:12.470 --> 00:18:13.320\nLet me fix that real quick.\n\n370\n00:18:13.320 --> 00:18:15.837\nI just realized that now, as I was\nsitting here, going, wait a second,\n\n371\n00:18:15.837 --> 00:18:17.756\nit should have come back and\nprompted me immediately.\n\n372\n00:18:17.756 --> 00:18:19.833\n&gt;&gt; Will it not let you use the up arrow.\n\n373\n00:18:19.833 --> 00:18:21.884\n&gt;&gt; No, no, because it didn't execute.\n\n374\n00:18:21.884 --> 00:18:25.719\nIt was sitting in the buffer waiting,\nand I broke it so as a result,\n\n375\n00:18:25.719 --> 00:18:29.420\nI hit control C, so\njust as a result I typed it back in again.\n\n376\n00:18:29.420 --> 00:18:30.350\nNo big deal, It's easy to do.\n\n377\n00:18:30.350 --> 00:18:32.438\nThis one is actually real simple and\nsmall.\n\n378\n00:18:32.438 --> 00:18:36.102\nSo it's not a big deal we'll just\ncheat with the auto tab complete.\n\n379\n00:18:36.102 --> 00:18:37.327\nWe'll do account password.\n\n380\n00:18:37.327 --> 00:18:43.856\nAnd we'll do our read post\ncommandlet as secure string.\n\n381\n00:18:43.856 --> 00:18:49.110\nAnd then, And\n\n382\n00:18:49.110 --> 00:18:52.433\nyes boys and girls when you do type in\nsomething and you open a quote, just\n\n383\n00:18:52.433 --> 00:18:56.210\nlike in every other programming language\nin the world, you must close the quote.\n\n384\n00:18:56.210 --> 00:18:58.660\nOtherwise it doesn't work the right way,\nall right.\n\n385\n00:18:58.660 --> 00:18:59.960\nThat's what we should see right there.\n\n386\n00:18:59.960 --> 00:19:03.220\nWe get a prompt that says enter\npassword so that I can create the user.\n\n387\n00:19:03.220 --> 00:19:05.340\nAnd you can see that right over\nhere as we drag that over.\n\n388\n00:19:05.340 --> 00:19:06.210\nThat's what I was waiting for.\n\n389\n00:19:06.210 --> 00:19:08.070\nIt didn't happen because I forgot\nto put the quote in there.\n\n390\n00:19:08.070 --> 00:19:09.430\nSo I should be able to\nput the password in.\n\n391\n00:19:09.430 --> 00:19:14.140\nNow when I do that, right,\nnotice you're not seeing the password.\n\n392\n00:19:14.140 --> 00:19:15.680\nIt goes in as that asterisk.\n\n393\n00:19:15.680 --> 00:19:19.050\nA secure string, that's what\nthe asecure screen parameter does,\n\n394\n00:19:19.050 --> 00:19:21.887\nit converts what's on the screen\ninto a secure string and\n\n395\n00:19:21.887 --> 00:19:25.190\npasses that as the password so\nwe don't see it.\n\n396\n00:19:25.190 --> 00:19:28.040\nHit enter and it doesn't meet\nthe length and complexity requirements.\n\n397\n00:19:28.040 --> 00:19:32.430\nNow that's not telling me that I entered a\nbad information, I can't create the user.\n\n398\n00:19:32.430 --> 00:19:35.845\nIt's telling me the password I chose is\nnot meeting the complexity requirements of\n\n399\n00:19:35.845 --> 00:19:38.740\nthe domain and that's what that\nerror says, and that's important.\n\n400\n00:19:38.740 --> 00:19:42.453\nThat's the other lesson I wanna show you\nas we get started here talking through\n\n401\n00:19:42.453 --> 00:19:45.604\nPowerShell,which is you should\nlearn how to read the error code or\n\n402\n00:19:45.604 --> 00:19:47.422\nthe error information in the screen.\n\n403\n00:19:47.422 --> 00:19:49.840\nWhen you get red angry\ntexts screaming at you,\n\n404\n00:19:49.840 --> 00:19:52.445\nthat's usually an error in PowerShell,\nright?\n\n405\n00:19:52.445 --> 00:19:53.915\nAnd you gotta take the time to read it.\n\n406\n00:19:53.915 --> 00:19:56.125\nI can't tell you how many times\nI'm working with a student,\n\n407\n00:19:56.125 --> 00:19:57.325\nworking with a customer.\n\n408\n00:19:57.325 --> 00:19:59.545\nThey do something like I did,\nthey make a mistake typing.\n\n409\n00:19:59.545 --> 00:20:03.605\nThey forget a quote or forget to put\nsomething in, or type it incorrectly,\n\n410\n00:20:03.605 --> 00:20:06.135\nit's spelled incorrectly, it doesn't\nexecute the right way as a result.\n\n411\n00:20:06.135 --> 00:20:08.865\nThey get an error and the first thing\nthey say is, my God, something's wrong.\n\n412\n00:20:08.865 --> 00:20:10.550\nI don't know what's wrong, I can't fix it.\n\n413\n00:20:10.550 --> 00:20:14.940\nAnd if they just took the time to\nread what it says on the screen,\n\n414\n00:20:14.940 --> 00:20:17.580\nnine times out of ten,\nthe exact information you need\n\n415\n00:20:17.580 --> 00:20:20.330\nto fix this issue is sitting right\nthere in front of you right?\n\n416\n00:20:20.330 --> 00:20:21.890\nSo if you take a look and it says.\n\n417\n00:20:21.890 --> 00:20:23.080\nI know it may be hard for you to see.\n\n418\n00:20:23.080 --> 00:20:24.330\nCan we go full screen?\n\n419\n00:20:24.330 --> 00:20:25.514\nAnd I know it's impossible for\nCherokee to see.\n\n420\n00:20:25.514 --> 00:20:27.316\n&gt;&gt; [LAUGH]\n&gt;&gt; She's squinting like, I'll believe you,\n\n421\n00:20:27.316 --> 00:20:28.301\nbut I can't see what's up there.\n\n422\n00:20:28.301 --> 00:20:30.288\nYou wanna run up to the monitor while\nI'm talking and actually take a look?\n\n423\n00:20:30.288 --> 00:20:30.954\n&gt;&gt; Right?\n[LAUGH]\n\n424\n00:20:30.954 --> 00:20:32.562\n&gt;&gt; So it says New-ADUser.\n\n425\n00:20:32.562 --> 00:20:34.190\nIt references the commandlet.\n\n426\n00:20:34.190 --> 00:20:38.460\nSo right here right, new AB user not that\nhighlighting is gonna make it easier for\n\n427\n00:20:38.460 --> 00:20:39.760\nyou but new AD user.\n\n428\n00:20:39.760 --> 00:20:42.110\nThe password does not meet\nthe length complexity or\n\n429\n00:20:42.110 --> 00:20:43.880\nhistory requirement of the domain.\n\n430\n00:20:43.880 --> 00:20:47.560\nAnd it tells me essentially where it was\nwhen it executed this and ran into it.\n\n431\n00:20:47.560 --> 00:20:51.110\nSo if I just change the input I'll be\nable to create the user with no trouble.\n\n432\n00:20:51.110 --> 00:20:52.330\nIt's just saying hey give\nme a better password.\n\n433\n00:20:52.330 --> 00:20:57.211\nAnd so PowerShell is smart and able to\nknow not just that we have to pass this\n\n434\n00:20:57.211 --> 00:21:02.450\ninformation, but it's able to get\nfeedback from the domain controller.\n\n435\n00:21:02.450 --> 00:21:06.690\nAnd ensure because we're using\nthe appropriate Active Directory AD DS\n\n436\n00:21:06.690 --> 00:21:10.970\ncmdlets, the module designed to manage and\nwork with AD DS.\n\n437\n00:21:10.970 --> 00:21:13.230\nThat we're able to be smart\nenough to feed back and\n\n438\n00:21:13.230 --> 00:21:15.260\nactually say that this did or didn't work.\n\n439\n00:21:15.260 --> 00:21:16.850\nSo we're able to go in and\ndo this this way.\n\n440\n00:21:16.850 --> 00:21:20.496\nSo, that's the second thing we\nwanna make sure we're aware of,\n\n441\n00:21:20.496 --> 00:21:23.365\nthat we wanna make sure we\nknow that we can get help.\n\n442\n00:21:23.365 --> 00:21:26.598\nBut we also wanna make sure we know that\nif we make an error we should read those\n\n443\n00:21:26.598 --> 00:21:29.930\nhelp codes and figure out or error codes\nand figure out what went wrong and why,\n\n444\n00:21:29.930 --> 00:21:32.071\nand then we usually can fix\nit more often than not.\n\n445\n00:21:32.071 --> 00:21:34.050\nSo, we have that right?\n\n446\n00:21:34.050 --> 00:21:37.919\nNow, if we don't use the account\nparameter account, password parameter,\n\n447\n00:21:37.919 --> 00:21:42.146\nthen obviously we'll be prompted for the\npassword, when the users created right,\n\n448\n00:21:42.146 --> 00:21:44.760\nthe user account [INAUDIBLE]\nwe don't use that.\n\n449\n00:21:44.760 --> 00:21:45.684\nExcuse me, what I meant to say,\n\n450\n00:21:45.684 --> 00:21:49.770\nis If we use it without the account\npassword the account password parameter.\n\n451\n00:21:49.770 --> 00:21:51.510\nThe account is created with no password.\n\n452\n00:21:51.510 --> 00:21:55.220\nAnd as we talked about, I think, yesterday\nat some point in one of the shows,\n\n453\n00:21:55.220 --> 00:21:57.200\nthe episodes, as we went through and\ndid some stuff,\n\n454\n00:21:57.200 --> 00:21:59.790\nthe account winds up being disabled\nbecause we haven't provided a password.\n\n455\n00:21:59.790 --> 00:22:00.524\nSo just be aware of that\n&gt;&gt; Yeah,\n\n456\n00:22:00.524 --> 00:22:03.120\njust contingent upon whatever tool\nyou'd use to generate that [CROSSTALK].\n\n457\n00:22:03.120 --> 00:22:04.040\n&gt;&gt; Yeah, and/or the.\n\n458\n00:22:04.040 --> 00:22:06.282\nPolicy in theory that may say allow or\ndisallow.\n\n459\n00:22:06.282 --> 00:22:06.970\n&gt;&gt; True.\n\n460\n00:22:06.970 --> 00:22:08.420\n&gt;&gt; So just be aware of that.\n\n461\n00:22:08.420 --> 00:22:11.302\nBut if we use the parameters I showed you,\nwe still be prompted for enter\n\n462\n00:22:11.302 --> 00:22:14.633\nthe password, and then we're off to the\nraces, no big deal, it works just fine.\n\n463\n00:22:14.633 --> 00:22:17.350\nAll right, so\nwe can also do things like new AD group.\n\n464\n00:22:17.350 --> 00:22:18.350\nI showed you that.\n\n465\n00:22:18.350 --> 00:22:21.660\nSet AD group, so\nwe can do all sorts of stuff around this.\n\n466\n00:22:21.660 --> 00:22:23.338\nI can create a group if\nI wanted to do that.\n\n467\n00:22:23.338 --> 00:22:26.669\nLet me just quickly show you this,\nnew AD group.\n\n468\n00:22:28.370 --> 00:22:31.230\nNow with new AD group we\ndo have to specify a name.\n\n469\n00:22:31.230 --> 00:22:35.260\nSo we use the name parameter and\nwe'll provide a name\n\n470\n00:22:35.260 --> 00:22:40.800\nitprotvhosts let's say if\nthat's the name of our group.\n\n471\n00:22:40.800 --> 00:22:44.485\nAnd then once we've done that we\nhave to specify the path parameter.\n\n472\n00:22:44.485 --> 00:22:50.901\nAnd the path parameter tells us where\ninside of the directory hierarchy inside,\n\n473\n00:22:50.901 --> 00:22:56.290\nof the domain, and\nin what OU we're gonna create this group.\n\n474\n00:22:56.290 --> 00:22:57.520\nSo I have to provide that.\n\n475\n00:22:57.520 --> 00:23:00.790\nSo I'm gonna provide a statement that\nessentially is the path for that.\n\n476\n00:23:00.790 --> 00:23:06.070\nSo quotes again, I specify OU\nto specify the OU name, equal.\n\n477\n00:23:06.070 --> 00:23:07.250\nPut in the name of the OU,\n\n478\n00:23:07.250 --> 00:23:11.710\nwhatever it is that I wanna use,\ncomma separate these values no space.\n\n479\n00:23:11.710 --> 00:23:14.340\nSo OU equals in this case I wrote staff.\n\n480\n00:23:14.340 --> 00:23:16.370\nComma and then the name of the domain.\n\n481\n00:23:16.370 --> 00:23:21.103\nSo DC for domain, and the first\npart fo the domain name is it pro,\n\n482\n00:23:21.103 --> 00:23:26.204\nlast part is .tv in this example or\npracticelabs.com or whatever.\n\n483\n00:23:26.204 --> 00:23:30.603\nSo if I do practicelabs.com I would do\n\n484\n00:23:30.603 --> 00:23:35.420\npracticelabs comma, and then dc = com.\n\n485\n00:23:35.420 --> 00:23:40.283\nSo dc = com and then, close quotes.\n\n486\n00:23:40.283 --> 00:23:43.861\nNo space is to signify the path and\ntell it where to create that for us.\n\n487\n00:23:43.861 --> 00:23:46.485\nThen, I have to specify the group's scope.\n\n488\n00:23:46.485 --> 00:23:49.895\nSo I have to use the group\nscope parameter.\n\n489\n00:23:49.895 --> 00:23:51.850\nGroup scope.\n\n490\n00:23:51.850 --> 00:23:55.050\nThen I specify and\nwe went over what group scopes are.\n\n491\n00:23:55.050 --> 00:23:58.400\nIf you haven't seen that episode we talked\nabout the fact that we have global,\n\n492\n00:23:58.400 --> 00:24:00.570\nwe have domain local, we have universal,\n\n493\n00:24:00.570 --> 00:24:03.560\nwe have local if it's a non\ndomain joined machine.\n\n494\n00:24:03.560 --> 00:24:06.910\nOur default group scope is global,\nlet's go with that one.\n\n495\n00:24:06.910 --> 00:24:10.739\nSo we'll do global, put that in there.\n\n496\n00:24:10.739 --> 00:24:15.091\nAnd then we also have to specify the group\ncategory, and remember we said there were\n\n497\n00:24:15.091 --> 00:24:17.900\ntwo categories, security or\ndistribution groups.\n\n498\n00:24:17.900 --> 00:24:20.170\nSo we have to put a parameter in for that.\n\n499\n00:24:20.170 --> 00:24:22.634\nSo we're going to do our parameter for\ngroup category.\n\n500\n00:24:25.906 --> 00:24:29.187\nYou can see that there,\nwe'll specify our group category,\n\n501\n00:24:29.187 --> 00:24:32.420\nsecurity will be the default\ncategory more often than not.\n\n502\n00:24:34.620 --> 00:24:38.270\nAnd I don't have an OU called staff,\nso that command will not work.\n\n503\n00:24:38.270 --> 00:24:42.150\nBut if I did have an OU called staff,\nand actually I have one called Amia, so\n\n504\n00:24:42.150 --> 00:24:46.890\nlet's just change that and we'll create\nit in Amia cuz we do have that group.\n\n505\n00:24:46.890 --> 00:24:49.341\nSo let me do that, or\nthat OU rather I should say.\n\n506\n00:24:49.341 --> 00:24:51.773\nSo let me do that real quick.\n\n507\n00:24:55.222 --> 00:24:59.210\n&gt;&gt; Okay, so if I do that, boom,\nit goes through with no trouble.\n\n508\n00:24:59.210 --> 00:25:04.198\nAnd if I go look in the Active Directory\nuser computer manager, I will now have\n\n509\n00:25:04.198 --> 00:25:09.780\na group called ITProTV Host in the Amia OU\ninside of PracticeLabs.com domain.\n\n510\n00:25:09.780 --> 00:25:12.660\nIt's that simple to create a brand\nnew group using PowerShell.\n\n511\n00:25:12.660 --> 00:25:13.390\nHow are we doing so far?\n\n512\n00:25:13.390 --> 00:25:16.240\n&gt;&gt; Good, are we gonna check and\nsee if it's there?\n\n513\n00:25:16.240 --> 00:25:18.630\n&gt;&gt; No, do you believe me because-\n&gt;&gt; Do we believe you, Adam?\n\n514\n00:25:18.630 --> 00:25:21.650\n&gt;&gt; Of course you believe me,\nbecause I'm awesome.\n\n515\n00:25:21.650 --> 00:25:23.000\nNo, let's go and take a look.\n\n516\n00:25:23.000 --> 00:25:27.340\nSo, here's the Amea OU, and\nwhat's that right there?\n\n517\n00:25:27.340 --> 00:25:28.110\n&gt;&gt; There it is, Adam.\n\n518\n00:25:28.110 --> 00:25:29.420\n&gt;&gt; You can't see what that says.\n\n519\n00:25:29.420 --> 00:25:31.630\nFor all you know that could say,\n\n520\n00:25:31.630 --> 00:25:34.506\nI'm fooling Cherokee cuz that's not the\nright group, you don't know what it says.\n\n521\n00:25:34.506 --> 00:25:35.400\n&gt;&gt; [LAUGH] I had to check.\n\n522\n00:25:35.400 --> 00:25:38.530\n&gt;&gt; All right, but it does say ITProTV\nHost, you can see that on the screen,\n\n523\n00:25:38.530 --> 00:25:40.000\nyou certainly know it's there.\n\n524\n00:25:40.000 --> 00:25:41.810\nCherokee's just standing far\naway from the monitor, and\n\n525\n00:25:41.810 --> 00:25:43.360\nyou've heard us say from\ntime to time on the screen,\n\n526\n00:25:43.360 --> 00:25:45.440\nthe lights in the studio\nare a little bit bright,\n\n527\n00:25:45.440 --> 00:25:46.934\nand it's a little hard sometimes-\n&gt;&gt; [LAUGH]\n\n528\n00:25:46.934 --> 00:25:47.980\n&gt;&gt; To see the white-on-white background,\n\n529\n00:25:47.980 --> 00:25:49.380\nand see what's going on there.\n\n530\n00:25:49.380 --> 00:25:52.740\nBut it is the group, you can maybe see it\na little bit clearer there, ITProTV Host,\n\n531\n00:25:52.740 --> 00:25:54.087\nright, so you can see what it is.\n\n532\n00:25:54.087 --> 00:25:54.845\n&gt;&gt; Good job.\n&gt;&gt; I typed it\n\n533\n00:25:54.845 --> 00:25:56.520\nall in capitals-\n&gt;&gt; [LAUGH]\n\n534\n00:25:56.520 --> 00:25:57.820\n&gt;&gt; Thank you so much.\n\n535\n00:25:57.820 --> 00:25:59.740\nI live for that affirmation from you.\n\n536\n00:25:59.740 --> 00:26:01.240\nThat's what I love.\n\n537\n00:26:01.240 --> 00:26:02.150\nAll right, so we have that.\n\n538\n00:26:02.150 --> 00:26:04.510\nRight, so\nwe've seen how to do this as well.\n\n539\n00:26:04.510 --> 00:26:05.470\nLet's go in,\n\n540\n00:26:05.470 --> 00:26:08.600\nlet's take a look at just a couple other\nthings that may be of interest to us.\n\n541\n00:26:08.600 --> 00:26:10.280\nSo let's go in and\n\n542\n00:26:10.280 --> 00:26:14.372\nlet's say that I want to do the same\nwith the computer, New-ADComputer,\n\n543\n00:26:14.372 --> 00:26:17.120\nSet-ADComputer, Get-ADComputer,\njust with all the objects, right.\n\n544\n00:26:17.120 --> 00:26:20.450\nSo we know it incurred brand\nnew IT pro computer account.\n\n545\n00:26:20.450 --> 00:26:22.900\nWe talked about the value\nof pre-staging accounts.\n\n546\n00:26:22.900 --> 00:26:23.680\nI could set that up.\n\n547\n00:26:23.680 --> 00:26:24.588\nWe had the same thing.\n\n548\n00:26:24.588 --> 00:26:29.362\nInstead of New-ADGroup, New-ADComputer,\nI would do name, specify the name,\n\n549\n00:26:29.362 --> 00:26:31.690\nI would do path, specify the path.\n\n550\n00:26:31.690 --> 00:26:35.415\nBut instead of all the other stuff,\nI would simply have enabled as a parameter\n\n551\n00:26:35.415 --> 00:26:40.540\n$true to enable it, or $false to disable\nit, so it comes up enabled or disabled.\n\n552\n00:26:40.540 --> 00:26:42.450\nSo I can do that as well.\n\n553\n00:26:42.450 --> 00:26:45.740\nWe talked about repairing the trust\nrelationship for a computer account.\n\n554\n00:26:45.740 --> 00:26:48.190\nPrior episode,\nI mentioned how you do that in PowerShell.\n\n555\n00:26:48.190 --> 00:26:52.100\nThe test computer secure channel\ncommandlet I mentioned could be used.\n\n556\n00:26:52.100 --> 00:26:53.520\nYou can use that here.\n\n557\n00:26:53.520 --> 00:26:59.140\nWe can manage OUs, new ABOU\norganizational units, set get remove.\n\n558\n00:26:59.140 --> 00:27:01.180\nAnything I could do from\nthe GUI I can do from here.\n\n559\n00:27:01.180 --> 00:27:02.450\nI would be able to do all that.\n\n560\n00:27:02.450 --> 00:27:04.295\nI can also query PowerShell.\n\n561\n00:27:05.780 --> 00:27:08.690\nI could use PowerShell query through\nPowerShell I should say to query\n\n562\n00:27:08.690 --> 00:27:09.790\nthe Active Directory.\n\n563\n00:27:09.790 --> 00:27:15.770\nSo let's say that I do get AB user, let's\ngo back to that one for just a minute.\n\n564\n00:27:15.770 --> 00:27:21.550\nAnd let's use a filter parameter,\nlet's type filter correctly of course.\n\n565\n00:27:21.550 --> 00:27:23.775\nLet's use a filter parameter, and\n\n566\n00:27:23.775 --> 00:27:27.195\nlet's specify that we wanna see users\nthat meet some sort of criteria.\n\n567\n00:27:27.195 --> 00:27:28.750\nSo instead of saying getting AD user and\n\n568\n00:27:28.750 --> 00:27:32.667\ndumping all the users, I wanna reach in\nand selectively get one or two, right.\n\n569\n00:27:32.667 --> 00:27:34.150\nSo let's take a look at how to do that.\n\n570\n00:27:34.150 --> 00:27:36.410\nFilters parameter will let us do that.\n\n571\n00:27:36.410 --> 00:27:40.790\nI am gonna put in here\nthe specification for what I want, so\n\n572\n00:27:40.790 --> 00:27:47.740\nI'm gonna type in here equal to,\nand SN by the way, a surname.\n\n573\n00:27:47.740 --> 00:27:53.140\nIt's one of the attributes that I\ncan query for of a user object that\n\n574\n00:27:53.140 --> 00:27:56.530\nis created inside the Active Directory\nbased on how it's defined in the schema.\n\n575\n00:27:56.530 --> 00:27:58.250\nSo SN simply stands for surname.\n\n576\n00:27:58.250 --> 00:28:00.810\nThat would effectively be the last name,\nright.\n\n577\n00:28:00.810 --> 00:28:03.100\nIf the user was Adam Gordon,\nthe surname would be Gordon.\n\n578\n00:28:03.100 --> 00:28:06.470\nSo I would search for or\nquery and filter for a string\n\n579\n00:28:06.470 --> 00:28:10.320\nbased on what I want to set it equal\nto here, minus EQ, a Boolean operator,\n\n580\n00:28:10.320 --> 00:28:14.490\nEQ equal, LT less than, GT greater than,\nthings like that, right.\n\n581\n00:28:14.490 --> 00:28:19.490\nSo I'm going to use that EQ, and I'm\ngoing to specify in quotes what I want.\n\n582\n00:28:19.490 --> 00:28:22.880\nSo I want equal to B, right.\n\n583\n00:28:22.880 --> 00:28:28.930\nSo if I do that, because remember I have a\nuser called share b, I see the surname for\n\n584\n00:28:28.930 --> 00:28:33.680\nthe share b user is found that I can just\nzero in on one user and display it here.\n\n585\n00:28:33.680 --> 00:28:35.810\nAnd I can see some basic\ninformation about it.\n\n586\n00:28:35.810 --> 00:28:39.960\nSo I can do that, but what if I want to\nsee additional properties of this user.\n\n587\n00:28:39.960 --> 00:28:42.330\nI got a small subset here,\nnot a lot of them.\n\n588\n00:28:42.330 --> 00:28:44.956\nMaybe I want to query for this user but\n\n589\n00:28:44.956 --> 00:28:49.878\nspecify some additional property,\nsomething specific like this.\n\n590\n00:28:49.878 --> 00:28:52.722\nSo I can use the properties property,\nthat's kind of funny,\n\n591\n00:28:52.722 --> 00:28:54.500\nthe property called properties.\n\n592\n00:28:54.500 --> 00:28:57.550\nBut I use the properties property and\nspecify additional properties.\n\n593\n00:28:57.550 --> 00:29:02.570\nSo I may specify a property like male,\nwhich may or many not be populated.\n\n594\n00:29:02.570 --> 00:29:05.730\nI don't know that's what I try, if not\nI'll just won't get back anything for\n\n595\n00:29:05.730 --> 00:29:07.510\nit, won't give me an error though.\n\n596\n00:29:07.510 --> 00:29:09.780\nBut I can also specify\nsomething that I know for\n\n597\n00:29:09.780 --> 00:29:12.400\na fact this populated,\na password last set.\n\n598\n00:29:12.400 --> 00:29:14.370\nWhen was the password last set for\nthis user?\n\n599\n00:29:14.370 --> 00:29:16.690\nI may wanna know that, that's probably\nsomething I wanna be aware of.\n\n600\n00:29:16.690 --> 00:29:21.270\nSo let's take a look at that,\npassword, whoops, last set.\n\n601\n00:29:21.270 --> 00:29:25.130\nSo I can go ahead comma separating this,\nno space, right.\n\n602\n00:29:25.130 --> 00:29:28.030\nSo password last set, hit Enter.\n\n603\n00:29:28.030 --> 00:29:29.560\nI get back information, as I said,\n\n604\n00:29:29.560 --> 00:29:32.770\nif male is not populated you don't\nget an error it just doesn't show up.\n\n605\n00:29:32.770 --> 00:29:35.380\nNo big deal taking a gamble on that one.\n\n606\n00:29:35.380 --> 00:29:40.420\nBut password last set\n\n607\n00:29:40.420 --> 00:29:44.190\nright here, 10/08/2017 and\n13:51:25 or 1:51 in the afternoon.\n\n608\n00:29:44.190 --> 00:29:47.020\nSo that's when the password was\nlast set cuz we created the user as\n\n609\n00:29:47.020 --> 00:29:50.050\npart of a demo cycle for some shows and\nthat's when we did so it.\n\n610\n00:29:50.050 --> 00:29:54.800\nSo we can delve into the properties\nassociated with a user and\n\n611\n00:29:54.800 --> 00:29:58.070\nmake that filter, or that grab of\ninformation, more responsive and\n\n612\n00:29:58.070 --> 00:30:00.560\nmore valuable for\nus to be able to do that.\n\n613\n00:30:00.560 --> 00:30:02.830\nSo you can see potentially\nhow I may do that or\n\n614\n00:30:02.830 --> 00:30:05.600\nwhat I could leverage there if I chose to.\n\n615\n00:30:05.600 --> 00:30:09.190\nWe could go in and\ndo a variety of other things as well.\n\n616\n00:30:09.190 --> 00:30:12.120\nLet's say I use a search command,\nsearch AD account,\n\n617\n00:30:12.120 --> 00:30:15.710\none of the commandlets that's there.\n\n618\n00:30:15.710 --> 00:30:20.250\nIt's a Search-adaccount, and\nlet's say I want to search for\n\n619\n00:30:20.250 --> 00:30:23.430\na parameter like account disable, right.\n\n620\n00:30:23.430 --> 00:30:24.850\nHow many accounts have been disabled?\n\n621\n00:30:24.850 --> 00:30:28.570\nSo something we often get asked\nas auditors, we as as auditors,\n\n622\n00:30:28.570 --> 00:30:32.560\nyou have to tell us as IT professionals\nand security professionals you should\n\n623\n00:30:32.560 --> 00:30:35.160\nknow, hey how many accounts did I\nhave in the system are disabled?\n\n624\n00:30:35.160 --> 00:30:37.890\nWell you could get this\ninformation a variety of ways, but\n\n625\n00:30:37.890 --> 00:30:41.610\nwhat if I just quickly spun up a shell,\nand typed in two command lines.\n\n626\n00:30:41.610 --> 00:30:44.800\nIt'd be very simple to do, so we're one\ncommandlette a couple of properties.\n\n627\n00:30:44.800 --> 00:30:50.340\nSo search AD account and\nthen I use the parameter Account.\n\n628\n00:30:50.340 --> 00:30:52.519\nOf course I spell that correctly.\n\n629\n00:30:54.621 --> 00:30:56.230\nAccount disabled,\nthat’s what I want to know.\n\n630\n00:30:56.230 --> 00:30:57.880\nSo account disabled, right.\n\n631\n00:30:57.880 --> 00:31:03.872\nAnd then if I do that and I do the users\n\n632\n00:31:03.872 --> 00:31:08.690\nonly parameter, I'll see only users as\nopposed to computer and user accounts.\n\n633\n00:31:08.690 --> 00:31:11.450\nBecause I may have computer\naccounts that are disabled and\n\n634\n00:31:11.450 --> 00:31:15.600\nif I just did search account and\nthere's search AD account disabled.\n\n635\n00:31:15.600 --> 00:31:19.550\nI would get back a list of all disabled\naccounts, both users and computers.\n\n636\n00:31:19.550 --> 00:31:21.250\nI happen to only have\nusers that are disabled so\n\n637\n00:31:21.250 --> 00:31:22.480\nit would show up the same either way.\n\n638\n00:31:22.480 --> 00:31:25.510\nBut if I did that and I had computer\naccounts both would come back.\n\n639\n00:31:25.510 --> 00:31:28.410\nBut if I wanted to zero in just on users,\nuse a subset,\n\n640\n00:31:28.410 --> 00:31:32.470\nuse user only and then I will get\nback a list of these accounts.\n\n641\n00:31:32.470 --> 00:31:34.474\nBut I get a lot of information\nabout these accounts, right.\n\n642\n00:31:34.474 --> 00:31:37.515\nAnd look at what I get\nhere when I do this.\n\n643\n00:31:39.647 --> 00:31:40.677\n&gt;&gt; You know, Adam,\n\n644\n00:31:40.677 --> 00:31:44.915\nthis is just a perfect example of how\npowerful PowerShell can really be.\n\n645\n00:31:44.915 --> 00:31:47.161\n[LAUGH]\n&gt;&gt; I'm so\n\n646\n00:31:47.161 --> 00:31:49.726\nglad you felt compelled\nto throw that in there.\n\n647\n00:31:49.726 --> 00:31:53.588\n&gt;&gt; No but seriously though, think about\nall the different Creative things that you\n\n648\n00:31:53.588 --> 00:31:56.905\ncould do to really define those\nfilters that you're applying here.\n\n649\n00:31:56.905 --> 00:31:57.680\nI mean-\n&gt;&gt; Absolutely.\n\n650\n00:31:57.680 --> 00:31:59.670\n&gt;&gt; The robustness of PowerShell.\n\n651\n00:32:00.690 --> 00:32:01.681\n&gt;&gt; You just wanted to say that word,\ndidn't you?\n\n652\n00:32:01.681 --> 00:32:02.210\n&gt;&gt; I did.\n\n653\n00:32:02.210 --> 00:32:03.578\n[LAUGH]\n&gt;&gt; That was the whole reason behind that.\n\n654\n00:32:03.578 --> 00:32:08.090\nAll right, so you can see, we got several\naccounts that are disabled here, right.\n\n655\n00:32:08.090 --> 00:32:11.620\nSo it's just showing us whether\nthey are Enabled or disabled.\n\n656\n00:32:11.620 --> 00:32:14.510\nAnd so just going through and\nshowing us what these are.\n\n657\n00:32:15.780 --> 00:32:17.830\nSo the default account,\nthe guest account right?\n\n658\n00:32:17.830 --> 00:32:19.770\nWe know the guest account is stable\nby default things like that.\n\n659\n00:32:19.770 --> 00:32:22.330\nSo you know that those accounts would\ntypically show up on that list.\n\n660\n00:32:22.330 --> 00:32:26.185\nThe Adam Gordon user that created from the\ntemplate is disabled when the template,\n\n661\n00:32:26.185 --> 00:32:28.896\nthe _Adam or Adam G, or\nwhatever his account is on there.\n\n662\n00:32:28.896 --> 00:32:31.320\nCuz it's a template, we disabled that one.\n\n663\n00:32:31.320 --> 00:32:34.110\nSo, if there's a few there in there,\nthat's what we would see.\n\n664\n00:32:34.110 --> 00:32:38.510\nSo we could go through and we can actually\nacquire it for a variety of things.\n\n665\n00:32:38.510 --> 00:32:40.400\nAnd Cherokee, you were joking around but\n\n666\n00:32:40.400 --> 00:32:45.230\nactually used the great thought process\nto describe the robustness of the tool.\n\n667\n00:32:45.230 --> 00:32:47.500\nIt is a such a powerful tool as you said.\n\n668\n00:32:47.500 --> 00:32:48.236\nNo pun intended, right?\n\n669\n00:32:48.236 --> 00:32:50.243\nBut it is a powerful tool.\n\n670\n00:32:50.243 --> 00:32:52.818\nIt does so much for us and all we're\ndoing here is scratching the surface.\n\n671\n00:32:52.818 --> 00:32:54.920\nI mean, these are like parlor tricks.\n\n672\n00:32:54.920 --> 00:32:59.260\nI'm showing you two or three basic\nthings that you just close your eyes and\n\n673\n00:32:59.260 --> 00:33:01.250\ndo without even breaking\na sweat in PowerShell.\n\n674\n00:33:01.250 --> 00:33:02.450\nThis is nothing complex.\n\n675\n00:33:02.450 --> 00:33:04.550\nIt may seem complex if you\nhaven't done this before.\n\n676\n00:33:04.550 --> 00:33:08.420\nAnd I understand that if you're new to\nPowerShell this seems complex because it\n\n677\n00:33:08.420 --> 00:33:10.700\nis like a whiz-bang overwhelming event.\n\n678\n00:33:10.700 --> 00:33:13.300\nCuz you see all this stuff\nsuddenly coming to life.\n\n679\n00:33:13.300 --> 00:33:15.640\nBut as you learn more about it,\nyou get more comfortable with it.\n\n680\n00:33:15.640 --> 00:33:18.960\nYou'll find that what we just did\nover the last 15 or 20 minutes, 5,\n\n681\n00:33:18.960 --> 00:33:22.480\n6 commands that we went through and\nexplained the concepts, how they work.\n\n682\n00:33:22.480 --> 00:33:25.970\nThat you'll find that these are just\nincredibly basic entry level\n\n683\n00:33:25.970 --> 00:33:28.470\nthought processes that we\nget used to very quickly.\n\n684\n00:33:28.470 --> 00:33:30.720\nAnd then we move on and\ncreate more complexity.\n\n685\n00:33:30.720 --> 00:33:35.440\nBut I do understand that in the beginning\nit may seem very, very overwhelming.\n\n686\n00:33:35.440 --> 00:33:40.360\nAnd perhaps at a different level than\nwhat you're used to seeing when you\n\n687\n00:33:40.360 --> 00:33:42.300\nwork at a DOS shell and things like that.\n\n688\n00:33:42.300 --> 00:33:45.350\nBut we can go and\nwe can do all sorts of stuff in here.\n\n689\n00:33:45.350 --> 00:33:48.420\nSo I wanted to give you a sense\nof this and how we can do this.\n\n690\n00:33:48.420 --> 00:33:51.050\nLet me show you one other\nexample of something we can do.\n\n691\n00:33:51.050 --> 00:33:53.718\nWe can issue a get content command.\n\n692\n00:33:53.718 --> 00:33:59.440\nThe command, theget content\nis like the command in Linux,\n\n693\n00:33:59.440 --> 00:34:04.370\ncat or grep, which will concatenate or\ngrep get a file, open it, read it.\n\n694\n00:34:04.370 --> 00:34:06.220\nPull the information and\nthen do something with it.\n\n695\n00:34:06.220 --> 00:34:10.180\nSo get content is the commandlet\nequivalent of grep or cat.\n\n696\n00:34:10.180 --> 00:34:12.850\nAs you have sense of that if you come\nfrom a background when you know what that\n\n697\n00:34:12.850 --> 00:34:15.190\ncommands may do in Linux or Unix.\n\n698\n00:34:15.190 --> 00:34:18.240\nIf you're not familiar with them well,\n[LAUGH] just don't get content,\n\n699\n00:34:18.240 --> 00:34:19.200\nit doesn't matter.\n\n700\n00:34:19.200 --> 00:34:20.540\nBut they do essentially the same thing.\n\n701\n00:34:20.540 --> 00:34:23.090\nWe have to provide a path\nstatement with get content,\n\n702\n00:34:23.090 --> 00:34:24.730\nto tell it where to get the content from.\n\n703\n00:34:24.730 --> 00:34:25.470\nSo we're gonna do that.\n\n704\n00:34:25.470 --> 00:34:30.530\nLet's just say hypothetically, we had\na list of users that we wanted to pull.\n\n705\n00:34:30.530 --> 00:34:33.661\nSo let's say this was, users.txt.\n\n706\n00:34:33.661 --> 00:34:36.990\nIt's often a text file in the C drive.\n\n707\n00:34:36.990 --> 00:34:42.470\nAnd let's say that you wanna bring in this\npipe command that I talked about earlier.\n\n708\n00:34:42.470 --> 00:34:43.532\nSo let's type in a pipe.\n\n709\n00:34:43.532 --> 00:34:48.039\nAnd then let's type in another\ncommandlet here that we want to use,\n\n710\n00:34:48.039 --> 00:34:50.108\npretty straightforward one.\n\n711\n00:34:50.108 --> 00:34:53.730\n&gt;&gt; It looks like your cursor got stuck.\n\n712\n00:34:53.730 --> 00:34:55.660\n&gt;&gt; Perhaps, here we go.\n\n713\n00:34:55.660 --> 00:34:57.310\nDisable account, OAD account.\n\n714\n00:34:57.310 --> 00:34:58.297\nThat's why I was typing, right?\n\n715\n00:34:58.297 --> 00:34:59.460\nLeft out the D.\n\n716\n00:35:01.250 --> 00:35:02.058\nThere we go.\nDisable AD account.\n\n717\n00:35:02.058 --> 00:35:03.610\nI forgot, we're in active directory.\n\n718\n00:35:03.610 --> 00:35:04.147\nWe've got to put the D in there.\n\n719\n00:35:04.147 --> 00:35:09.880\nAll right, so get content commandlet\ntell where to get the content from.\n\n720\n00:35:09.880 --> 00:35:14.060\nRemember, with a pipe, everything\non the left gets executed first.\n\n721\n00:35:14.060 --> 00:35:16.020\nPowerShell is gonna use\nthe get content commandlet.\n\n722\n00:35:16.020 --> 00:35:20.330\nGo out, read the contents of\nusers.txt into memory and\n\n723\n00:35:20.330 --> 00:35:25.200\nstore that information in memory\nessentially in a memory table in array.\n\n724\n00:35:25.200 --> 00:35:29.240\nIt's then gonna pass that\ninformation across the pipe.\n\n725\n00:35:29.240 --> 00:35:31.330\nThis is the pipe right here.\n\n726\n00:35:31.330 --> 00:35:33.190\nHold down the Shift key.\n\n727\n00:35:33.190 --> 00:35:38.310\nAnd usually right above the Enter key\non your keyboard, above the Backspace,\n\n728\n00:35:38.310 --> 00:35:43.760\nnot the Backspace,\nabove the back leaning bar, right?\n\n729\n00:35:43.760 --> 00:35:44.460\nThe one that goes like this.\n\n730\n00:35:44.460 --> 00:35:44.979\n&gt;&gt; The backslash.\n\n731\n00:35:44.979 --> 00:35:46.400\n&gt;&gt; Yeah, thank you very much.\n\n732\n00:35:46.400 --> 00:35:47.510\nThe backslash, that's what I meant to say.\n\n733\n00:35:47.510 --> 00:35:50.343\n[LAUGH] Above the backslash is where\nyou'll find the pipe if you're\n\n734\n00:35:50.343 --> 00:35:52.880\nnot used to using it and\ndon't know where it is.\n\n735\n00:35:52.880 --> 00:35:55.970\nAnd then we issue another command,\nlike disable AD account.\n\n736\n00:35:55.970 --> 00:35:58.280\nIf did indeed have a file, I don't, but\n\n737\n00:35:58.280 --> 00:36:02.020\nif I did have a file called\nusers.txt in the C drive.\n\n738\n00:36:02.020 --> 00:36:05.800\nAnd I issued this command and\nI hit Enter, it would read PowerShell.\n\n739\n00:36:05.800 --> 00:36:10.170\nRead the file, all the usernames\nwould then be passed one at a time\n\n740\n00:36:10.170 --> 00:36:12.770\ninto the disable account or\nAD account commandlet.\n\n741\n00:36:12.770 --> 00:36:14.690\nAnd those accounts,\nassuming they were active,\n\n742\n00:36:14.690 --> 00:36:18.250\nand enabled,\nwould be disabled in the active directory.\n\n743\n00:36:18.250 --> 00:36:20.570\nSo I'm combining several\ndifferent ideas here.\n\n744\n00:36:20.570 --> 00:36:24.000\nI'm combining the get content\ncommandlet to cat a file.\n\n745\n00:36:24.000 --> 00:36:27.770\nI'm combining the ability to pass\nthat information across a pipe and\n\n746\n00:36:27.770 --> 00:36:33.710\nexecute acommand on a series of objects\niteratively until we run out of them.\n\n747\n00:36:33.710 --> 00:36:37.192\nAnd that's a very basic but incredibly\nimportant concept in PowerShell,\n\n748\n00:36:37.192 --> 00:36:41.130\nthat we build on to do a lot of other\nthings as you learn more about PowerShell.\n\n749\n00:36:41.130 --> 00:36:45.068\nBut this will quickly allow you to get a\nhit list of users that have to be disabled\n\n750\n00:36:45.068 --> 00:36:49.110\non the fly, and as long as you have\nthat list, boom you're done right?\n\n751\n00:36:49.110 --> 00:36:50.920\nThe system does it and\nyou're off and ready to go.\n\n752\n00:36:50.920 --> 00:36:57.183\nSo we could go in and do this very\neasily this way in that file, right?\n\n753\n00:36:57.183 --> 00:37:00.140\nWe would have a list of users,\npretty straightforward.\n\n754\n00:37:00.140 --> 00:37:04.861\nWhat if we wanted to import a series\nof usernames and create them?\n\n755\n00:37:04.861 --> 00:37:09.186\nWell, we could use an Import- Csv\ncommandlet and then bulk operations,\n\n756\n00:37:09.186 --> 00:37:10.805\nlike we've talked about.\n\n757\n00:37:10.805 --> 00:37:15.005\nBulk import users and run them through,\nin this case the new AD user command.\n\n758\n00:37:15.005 --> 00:37:18.235\nWe are doing an import\nCSV name of the file and\n\n759\n00:37:18.235 --> 00:37:22.215\nthen we can pipe it to a new AD user and\nwe bulk create a bunch of users.\n\n760\n00:37:22.215 --> 00:37:24.420\nSo there's a lot of different ways for\nus to do this.\n\n761\n00:37:24.420 --> 00:37:27.660\nIt would really just be a matter\nof us getting creative.\n\n762\n00:37:27.660 --> 00:37:30.370\nI put a little information about\nhow to do that on the bottom of\n\n763\n00:37:30.370 --> 00:37:32.180\nthe show notes in this section.\n\n764\n00:37:32.180 --> 00:37:34.460\nGive you the ability to be\nable to use a foreach loop.\n\n765\n00:37:34.460 --> 00:37:37.290\nSo you read the logic of what's in there,\nyou'll see I'm importing,\n\n766\n00:37:37.290 --> 00:37:39.580\nand then I'm looping until I finish,\nright?\n\n767\n00:37:39.580 --> 00:37:43.310\nAnd then I'm exiting at that point and\nso it kinda goes off and does its thing.\n\n768\n00:37:43.310 --> 00:37:45.600\nSo a lot of different ways\nto approach doing this.\n\n769\n00:37:45.600 --> 00:37:47.070\nPowerShell has,\n\n770\n00:37:47.070 --> 00:37:51.870\nas you've heard me say time and again,\nreally evolved into this management tool.\n\n771\n00:37:51.870 --> 00:37:56.200\nAnd the set of of tools that becoming so\ncommon for us today,\n\n772\n00:37:56.200 --> 00:37:58.220\nso important for what we do.\n\n773\n00:37:58.220 --> 00:38:03.570\nSo the central focus of what Microsoft\nis expecting us, as IT professionals,\n\n774\n00:38:03.570 --> 00:38:06.910\nto be able to do and bring knowledge to\nthe table to do, that it behooves you.\n\n775\n00:38:06.910 --> 00:38:09.860\nIt's very important for you to feel\ncomfortable operating in this environment.\n\n776\n00:38:09.860 --> 00:38:11.950\nHopefully this little demonstration\ngives you a taste of what you can do.\n\n777\n00:38:11.950 --> 00:38:14.970\nHope it gives you some\nideas about what to do.\n\n778\n00:38:14.970 --> 00:38:16.860\nBut certainly bone up on those skills.\n\n779\n00:38:16.860 --> 00:38:19.900\nCuz you're gonna need them for the exams,\nyou're gonna need them in the real world.\n\n780\n00:38:19.900 --> 00:38:21.600\nAnd you can see that\nwith a little patience,\n\n781\n00:38:21.600 --> 00:38:26.230\na little guidance, just a little get over\nmy scaredy cat MTs in the command line.\n\n782\n00:38:26.230 --> 00:38:29.830\nAnd just let it just kinda wash over\nme and see that it's not gonna hurt me.\n\n783\n00:38:29.830 --> 00:38:32.870\nYou could see that with 20 or 30 minutes\nyou could already become proficient and\n\n784\n00:38:32.870 --> 00:38:34.470\nstart to do some really cool things.\n\n785\n00:38:34.470 --> 00:38:37.068\nAnd imagine what you can do in several\nhours if you put your mind to it and\n\n786\n00:38:37.068 --> 00:38:39.594\njust really spend some time\nunderstanding how this works, right?\n\n787\n00:38:39.594 --> 00:38:40.244\n&gt;&gt; Most definitely, Adam.\n\n788\n00:38:40.244 --> 00:38:43.900\nI mean, you provide the documentation and\nthe notes here.\n\n789\n00:38:43.900 --> 00:38:48.300\nMicrosoft has a lot of great information\nyou'll find online supporting\n\n790\n00:38:48.300 --> 00:38:51.690\nthe different ways we can\nleverage that syntax.\n\n791\n00:38:51.690 --> 00:38:54.560\nTo really enhance your\noverall efficiency even\n\n792\n00:38:54.560 --> 00:38:58.230\non the job once you start working\nwith it in a production environment.\n\n793\n00:38:58.230 --> 00:38:59.890\nSo it's an amazing tool.\n\n794\n00:38:59.890 --> 00:39:02.830\nDefinitely, like Adam said,\ntake the time to learn how to use it.\n\n795\n00:39:02.830 --> 00:39:04.950\nSo thank you for\nsharing that with us today, Adam.\n\n796\n00:39:04.950 --> 00:39:06.120\nAnd thank you for joining us.\n\n797\n00:39:06.120 --> 00:39:07.785\nBut we have ran out of time for this show.\n\n798\n00:39:07.785 --> 00:39:09.720\nWe'll go ahead and sign out.\n\n799\n00:39:09.720 --> 00:39:11.180\nI've been your host Cherokee Boose.\n\n800\n00:39:11.180 --> 00:39:12.470\n&gt;&gt; I'm Adam Gordon.\n\n801\n00:39:12.470 --> 00:39:14.282\n&gt;&gt; See you next time here at ITProTV.\n\n802\n00:39:14.282 --> 00:39:21.928\n[MUSIC]\n\n803\n00:39:21.928 --> 00:39:24.458\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229315717"
        },
        {
          "description": "In this episode, Cherokee and Adam start the show by explaining how to prevent accidental deletion. Next, they look at permissions, Discretionary Access Control List (DACLs) ans Security Access Control Lists (SACLs)",
          "length": "1801",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-7-managing_objects_in_ad_ds_pt7-081017-PGM.00_34_19_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-7-managing_objects_in_ad_ds_pt7-081017-PGM.00_34_19_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-2-1-7-managing_objects_in_ad_ds_pt7-081017-PGM.00_34_19_29.Still001-sm.jpg",
          "title": "Managing Objects in AD DS Part 7",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:02.671\nWelcome to ITProTV,\nI'm your host Don [CROSSTALK].\n\n2\n00:00:02.671 --> 00:00:05.451\n&gt;&gt; Coming to you live from San Francisco,\nCalifornia.\n\n3\n00:00:05.451 --> 00:00:07.877\n[MUSIC]\n\n4\n00:00:07.877 --> 00:00:11.558\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.558 --> 00:00:15.700\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n6\n00:00:15.700 --> 00:00:17.730\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.730 --> 00:00:18.650\nIn this episode,\n\n8\n00:00:18.650 --> 00:00:23.310\nwe'll continue taking a look at different\nmanagement techniques here within ADDS.\n\n9\n00:00:23.310 --> 00:00:27.430\nAnd back in studios with us today,\nyou guessed it, Mr Adam Gordon.\n\n10\n00:00:27.430 --> 00:00:28.130\nHow's it going, Adam?\n\n11\n00:00:28.130 --> 00:00:29.302\n&gt;&gt; It's going well, going well.\n\n12\n00:00:29.302 --> 00:00:33.546\nI thought we'd come back, do a nice part\nseven, put a bow around all the other\n\n13\n00:00:33.546 --> 00:00:37.989\nstuff we talked about with regards to\nmanaging objects and object definitions,\n\n14\n00:00:37.989 --> 00:00:41.140\nand how they work and\nwhat they are within the ADDS.\n\n15\n00:00:41.140 --> 00:00:43.960\nThere's a few little last minute\nthings we haven't talked about yet.\n\n16\n00:00:43.960 --> 00:00:47.160\nIf you haven't seen it, by the way,\npart six, did an interesting conversation\n\n17\n00:00:47.160 --> 00:00:50.850\nwalk through PowerShell, [COUGH] would\nencourage you to go back and take a look.\n\n18\n00:00:50.850 --> 00:00:53.330\nCherokee gave us five\nstars on that episode,\n\n19\n00:00:53.330 --> 00:00:55.760\neven though she was part of it,\nshe rated it anyway.\n\n20\n00:00:55.760 --> 00:00:57.800\nBut she said, it was really good,\nvery helpful, and\n\n21\n00:00:57.800 --> 00:01:01.120\nthat the notes were certainly\nvery useful for you.\n\n22\n00:01:01.120 --> 00:01:02.750\nSo, you may want to take a look at that.\n\n23\n00:01:02.750 --> 00:01:05.710\nWe're gonna switch gears a little bit,\nand we'll mention PowerShell.\n\n24\n00:01:05.710 --> 00:01:07.480\nIn relation to a couple of\nthings we're gonna do just,\n\n25\n00:01:07.480 --> 00:01:09.910\nbecause we can do some things\nactivities from there.\n\n26\n00:01:09.910 --> 00:01:14.570\nWe're gonna look at some hidden gems that\nexist inside the ADDS with regards to\n\n27\n00:01:14.570 --> 00:01:16.100\nmodifying objects.\n\n28\n00:01:16.100 --> 00:01:21.230\nSomething first thing I actually known is\nthat protection from X then a deletion,\n\n29\n00:01:21.230 --> 00:01:22.770\nalso we're gonna take\na look at that setting.\n\n30\n00:01:22.770 --> 00:01:24.840\nIt's actually something that's\nbeen around for a little bit.\n\n31\n00:01:24.840 --> 00:01:26.960\nIt's not unfamiliar to some of you,\n\n32\n00:01:26.960 --> 00:01:29.110\nbut it may not be something\nyou think about every day.\n\n33\n00:01:29.110 --> 00:01:31.620\nWe'll take a look at how to set it\nboth in the Active Directory User and\n\n34\n00:01:31.620 --> 00:01:33.040\nComputer Interface.\n\n35\n00:01:33.040 --> 00:01:35.950\nAlso in ADAC,\nyou can do it from either one.\n\n36\n00:01:35.950 --> 00:01:39.190\nWe'll go through, we'll take a look\nat the Delegation of Control Wizard.\n\n37\n00:01:39.190 --> 00:01:40.490\nTalk to you about that for a minute.\n\n38\n00:01:40.490 --> 00:01:43.210\nAgain, one of those things\nyou may not use very often.\n\n39\n00:01:43.210 --> 00:01:47.330\nYour central is using a GUI driven\nfront end for the Acc Man, or\n\n40\n00:01:47.330 --> 00:01:51.800\nthe Windows Task Schedule to set up a task\nthat can be delegated, not executed, but\n\n41\n00:01:51.800 --> 00:01:53.720\ndelegated, so similar, but\n\n42\n00:01:53.720 --> 00:01:57.620\nnot the same output, but\ndelegated to a specified user or group.\n\n43\n00:01:57.620 --> 00:02:01.100\nGiving them the ability to carry\nout that task when they need to.\n\n44\n00:02:01.100 --> 00:02:02.480\nWe'll take a look at that.\n\n45\n00:02:02.480 --> 00:02:05.710\nAnd then,\nwe'll circle back to something that\n\n46\n00:02:05.710 --> 00:02:08.370\nwe did mention we would do in the last\nepisode, but we did not get to,\n\n47\n00:02:08.370 --> 00:02:11.470\ncuz we kinda front loaded all that\nreally good PowerShell stuff.\n\n48\n00:02:11.470 --> 00:02:13.770\nSo, we missed it, we do know we missed it.\n\n49\n00:02:13.770 --> 00:02:17.120\nWe didn't say so closing up the episode,\nbut we are aware of the fact,\n\n50\n00:02:17.120 --> 00:02:21.950\nwe missed out and did not get a chance\nto do offline domain join gonna circle\n\n51\n00:02:21.950 --> 00:02:25.630\nback to that here quick to show you\nhow to do that with the Dejon tool.\n\n52\n00:02:25.630 --> 00:02:26.610\nSo, take a look at that.\n\n53\n00:02:26.610 --> 00:02:28.520\nMake sure you're familiar with that.\n\n54\n00:02:28.520 --> 00:02:29.900\nAnd then, when we're done with all that,\n\n55\n00:02:29.900 --> 00:02:33.370\nwell, Cherokee promised she'd share\nher recipe for oatmeal cookies.\n\n56\n00:02:33.370 --> 00:02:34.885\nSo, she's gonna do that for\nus when we're done.\n\n57\n00:02:34.885 --> 00:02:36.310\n&gt;&gt; That's right.\n&gt;&gt; So, very exciting.\n\n58\n00:02:36.310 --> 00:02:37.090\n&gt;&gt; [LAUGH].\n\n59\n00:02:37.090 --> 00:02:39.562\n&gt;&gt; With low fat ice\ncream on the side there,\n\n60\n00:02:39.562 --> 00:02:42.700\nthat should be something\nthat we'll do I'm sure.\n\n61\n00:02:42.700 --> 00:02:44.280\n&gt;&gt; Yeah,\nwe can even like get really fancy and\n\n62\n00:02:44.280 --> 00:02:46.320\nmake ice cream sandwiches\nwith the cookies.\n\n63\n00:02:46.320 --> 00:02:48.900\n&gt;&gt; Good, that would be [INAUDIBLE]\nyou've dug yourself a hole,\n\n64\n00:02:48.900 --> 00:02:50.720\nyou'd better be prepared to stand in it.\n\n65\n00:02:50.720 --> 00:02:51.900\nAll right, so let's take a look.\n\n66\n00:02:51.900 --> 00:02:53.100\nLet's start with this whole,\n\n67\n00:02:53.100 --> 00:02:56.310\nhey, what is this thing about accidental\ndeletion, what do we do with it?\n\n68\n00:02:56.310 --> 00:02:57.220\nHow do we set it up?\n\n69\n00:02:57.220 --> 00:02:58.390\nJoin me here, if you will.\n\n70\n00:02:58.390 --> 00:03:02.960\nWe're in the active user and computer\nmanagement tool, you can see right here.\n\n71\n00:03:02.960 --> 00:03:05.586\nOne of the two places we can\ngo to set this setting up,\n\n72\n00:03:05.586 --> 00:03:08.110\nthe prevention of accidental\ndeletion setting.\n\n73\n00:03:08.110 --> 00:03:11.905\nThis is going to help us,\nand indeed helps many IT\n\n74\n00:03:11.905 --> 00:03:16.543\nadministrators in Server 16 and\nServer 12, 12 R2.\n\n75\n00:03:16.543 --> 00:03:20.295\nIf you go in and I mentioned this back\na few shows ago when I said one of\n\n76\n00:03:20.295 --> 00:03:24.260\nthe reasons you may wind up having\nto do a restore in Active Directory.\n\n77\n00:03:24.260 --> 00:03:26.958\nProbably the one thing that\ndrives most restores and\n\n78\n00:03:26.958 --> 00:03:29.540\ncauses us to have to do\nan authoritative restore.\n\n79\n00:03:29.540 --> 00:03:32.595\nCertain kind of restore which we'll\ntalk about in upcoming episodes.\n\n80\n00:03:32.595 --> 00:03:36.770\nWe're going to do a whole set of\nconversations on how to manage, monitor,\n\n81\n00:03:36.770 --> 00:03:41.279\nor maintain the Active Directory and the\nABBS towards the end of our time together\n\n82\n00:03:41.279 --> 00:03:44.300\nin this particular block\nof discussion topics.\n\n83\n00:03:44.300 --> 00:03:49.350\nAnd we'll touch on how we use system state\nback-ups and system state restore to\n\n84\n00:03:49.350 --> 00:03:52.470\nbe able to go in an do those things, and\nwe'll walk you through the logic of that.\n\n85\n00:03:52.470 --> 00:03:56.300\nBut I mentioned that one of the reasons\nwhy we get stuck sometimes having to do\n\n86\n00:03:56.300 --> 00:04:01.150\nan authoritative restore is, because we\nhave inadvertently deleted an object.\n\n87\n00:04:01.150 --> 00:04:06.330\nA user a computer account an OU printer\nyou know whatever the objects may be.\n\n88\n00:04:06.330 --> 00:04:10.180\nWe have been through the logic of what\nthey are, we accidentally delete one, and\n\n89\n00:04:10.180 --> 00:04:11.490\nnow we have to put it back.\n\n90\n00:04:11.490 --> 00:04:15.160\nBecause once we delete it on one domain\ncontroller, that ripples through,\n\n91\n00:04:15.160 --> 00:04:16.710\nbecause of replication.\n\n92\n00:04:16.710 --> 00:04:19.930\nAnd almost immediately,\nif not immediately, very soon after that,\n\n93\n00:04:19.930 --> 00:04:23.740\ndepending on several variables, the\ndistances involved, the number of domain\n\n94\n00:04:23.740 --> 00:04:28.260\ncontrollers, things like that, but\nwithin a few minutes, that deletion event\n\n95\n00:04:28.260 --> 00:04:32.360\ngoes forward and touches all the domain\ncontrollers, and that object disappears.\n\n96\n00:04:32.360 --> 00:04:33.820\nNow, it's okay if we meant to do that, but\n\n97\n00:04:33.820 --> 00:04:37.530\nif we didn't mean to do that, well, now,\n[LAUGH] we have a bit of a problem.\n\n98\n00:04:37.530 --> 00:04:39.160\nCuz we certainly-\n&gt;&gt; The Undo button?\n\n99\n00:04:39.160 --> 00:04:42.160\n&gt;&gt; Well, no, there's no undo button,\nso it's not like\n\n100\n00:04:42.160 --> 00:04:46.250\nMicrosoft Office where we have the,\noops, I didn't mean to do that arrow.\n\n101\n00:04:46.250 --> 00:04:51.450\nAnd, while we could recreate that object,\nI didn't mean to delete the Cher b user.\n\n102\n00:04:51.450 --> 00:04:54.190\nBut I could go back and\ncreate a brand new user called Cher b.\n\n103\n00:04:54.190 --> 00:04:57.130\nBut as we've discussed that\nwill not be the same user.\n\n104\n00:04:57.130 --> 00:04:59.920\nWe would have to reproduce\nthe group memberships and\n\n105\n00:04:59.920 --> 00:05:01.220\nthe permission assignments.\n\n106\n00:05:01.220 --> 00:05:03.720\nWe would have to document, or\n\n107\n00:05:03.720 --> 00:05:06.360\nhave documented all that ahead\nof time to be able to do that.\n\n108\n00:05:06.360 --> 00:05:09.880\nAnd, although technically we\ncan essentially reconstitute\n\n109\n00:05:09.880 --> 00:05:14.130\nthe thought process and\nthe substance of that user account.\n\n110\n00:05:14.130 --> 00:05:17.840\nTechnically it's not the same user,\nbecause that user object is a brand new\n\n111\n00:05:17.840 --> 00:05:22.770\ncopy, an instantiation of the user\nobject declared in the schema.\n\n112\n00:05:22.770 --> 00:05:25.510\nAnd it has its own GUID,\nso a unique identifier.\n\n113\n00:05:25.510 --> 00:05:29.370\nAnd as a result of that,\nit is technically and actually different.\n\n114\n00:05:29.370 --> 00:05:30.630\nSo, we just have to think about that.\n\n115\n00:05:30.630 --> 00:05:34.430\nSo, we may wanna take steps to\nprevent accidental deletion\n\n116\n00:05:34.430 --> 00:05:37.430\nas opposed to having to say,\nI'm sorry after the fact.\n\n117\n00:05:37.430 --> 00:05:42.140\nNow, we could just simply say, hey,\nnobody touches the AD, but so and so.\n\n118\n00:05:42.140 --> 00:05:44.950\nThat would certainly be\na policy driven way to prevent\n\n119\n00:05:44.950 --> 00:05:47.170\npotentially bad activities from happening.\n\n120\n00:05:47.170 --> 00:05:50.290\nBut that's not the same thing\nas adding an extra step in and\n\n121\n00:05:50.290 --> 00:05:55.170\nprotecting the system by using a setting\nthat will not allow deletion to take place\n\n122\n00:05:55.170 --> 00:05:58.420\nthrough the normal process, but\nrequires you to initial prompt,\n\n123\n00:05:58.420 --> 00:06:00.700\nor certain permissions,\nor things like that.\n\n124\n00:06:00.700 --> 00:06:05.150\nSo, we're gonna put in that break in the\nprocess, that's what I'm gonna show you.\n\n125\n00:06:05.150 --> 00:06:08.620\nNow, in the active director user and\ncomputer management tool, if we are in\n\n126\n00:06:08.620 --> 00:06:11.490\nthe normal view, what we call the standard\nview that we've been discussing,\n\n127\n00:06:11.490 --> 00:06:15.860\nlooking at and demoing with, we will\nnot see the opportunity to do this.\n\n128\n00:06:15.860 --> 00:06:18.330\nLet me show you what I mean.\n\n129\n00:06:18.330 --> 00:06:23.531\nGo to an OU here, let's say the APAC OU\nright here, let's right-click.\n\n130\n00:06:23.531 --> 00:06:26.130\nLet's go to Properties.\n\n131\n00:06:26.130 --> 00:06:29.520\nAnd we see when we do this\nin the standard view.\n\n132\n00:06:29.520 --> 00:06:34.110\nOnly three tabs group, [COUGH], excuse me,\ngeneral, managed by and comp plus.\n\n133\n00:06:34.110 --> 00:06:37.350\nGrouped together there the first three and\nonly three tabs we see.\n\n134\n00:06:37.350 --> 00:06:40.710\nWe are not seeing the most important\ntab with regards to this setting.\n\n135\n00:06:40.710 --> 00:06:43.910\nThe objects tab and that is not there,\nbecause I have to enable the advanced\n\n136\n00:06:43.910 --> 00:06:48.800\nfeatures view in order to activate that,\nbut now that we know that it's easy to do.\n\n137\n00:06:48.800 --> 00:06:50.400\nWe'll just have to go up to the View menu,\n\n138\n00:06:50.400 --> 00:06:54.560\nwe've done this before,\nAdvanced Features, turn that on.\n\n139\n00:06:55.640 --> 00:06:58.650\nSee, we do now have more objects here.\n\n140\n00:06:58.650 --> 00:07:03.130\nGo back to the same OU,\nright-click, back to Properties.\n\n141\n00:07:03.130 --> 00:07:03.940\nAnd lo and behold,\n\n142\n00:07:03.940 --> 00:07:07.380\nwe do have some additional tabs,\none of which, the Object tab.\n\n143\n00:07:07.380 --> 00:07:11.230\nAnd when we go to the Object tab,\nright down here at the bottom you will see\n\n144\n00:07:11.230 --> 00:07:15.805\nprotect object from accidental deletion\nas selected, meaning we can't just go in,\n\n145\n00:07:15.805 --> 00:07:20.000\nright-click and delete an OU, if we don't\nhave certain rights, permissions and\n\n146\n00:07:20.000 --> 00:07:21.470\nwe won't be able to do this.\n\n147\n00:07:21.470 --> 00:07:22.970\nThis allows us\n\n148\n00:07:24.030 --> 00:07:28.850\nto prevent average users that are window\nshopping from going in deleting an OU.\n\n149\n00:07:28.850 --> 00:07:32.840\nAdministrators cannot\naccidentally delete an OU, or\n\n150\n00:07:32.840 --> 00:07:38.110\ncannot accidentally move an OU when we\nhave the accidental protection enabled.\n\n151\n00:07:38.110 --> 00:07:40.510\nSo, as a result, if we wanted\nto delete an OU intentionally,\n\n152\n00:07:40.510 --> 00:07:44.040\nyou have to remove the protection\nbefore we go to delete the OU.\n\n153\n00:07:44.040 --> 00:07:48.720\nSo, it is blocked, right, we're not gonna\nbe able to go in and get rid of this, so\n\n154\n00:07:48.720 --> 00:07:55.640\nfor instance, right, if I go in here,\ngo here, go here, go here, go here.\n\n155\n00:07:55.640 --> 00:07:57.260\nWhat do you see?\n\n156\n00:07:57.260 --> 00:07:58.390\nLooks like it's gonna work, right?\n\n157\n00:07:58.390 --> 00:08:00.560\nI mean, it shows us hey, look, yeah.\n\n158\n00:08:00.560 --> 00:08:02.208\nGives us that prompt, yeah, I wanna do it.\n\n159\n00:08:02.208 --> 00:08:03.408\nBut when we go to do it.\n\n160\n00:08:03.408 --> 00:08:04.528\nGuess what?\n\n161\n00:08:04.528 --> 00:08:05.520\nSorry, can't do that.\n\n162\n00:08:05.520 --> 00:08:08.014\nNot hey, do you really wanna do it?\n\n163\n00:08:08.014 --> 00:08:10.590\nAnother prompt, but cannot do it, right?\n\n164\n00:08:10.590 --> 00:08:15.000\nWhat was that the way George Bush said,\ncan't do it, not gonna do it, right?\n\n165\n00:08:15.000 --> 00:08:16.720\n&gt;&gt; [LAUGH]\n&gt;&gt; George Bush the elder, right?\n\n166\n00:08:16.720 --> 00:08:18.290\nSo, we're not able to.\n\n167\n00:08:18.290 --> 00:08:21.460\nThis is the benefit of\naccidental deletion protection.\n\n168\n00:08:21.460 --> 00:08:25.830\nEven the domain admin, which is what\nI'm logged on as right now, right?\n\n169\n00:08:25.830 --> 00:08:29.770\nCannot delete that object,\nunless I remove that check mark, and\n\n170\n00:08:29.770 --> 00:08:31.620\nthen I can go in and do it.\n\n171\n00:08:31.620 --> 00:08:35.670\nSo it is a very effective way of\npreventing you from doing something that,\n\n172\n00:08:35.670 --> 00:08:40.160\nobviously, without setting out to mean to\ndo that could cause a lot of disruption.\n\n173\n00:08:40.160 --> 00:08:43.440\nSo when we say accidental deletion\nprotection, that's what we mean.\n\n174\n00:08:43.440 --> 00:08:46.040\nNo deletion,\nunless you change that setting.\n\n175\n00:08:46.040 --> 00:08:48.440\nNow that's in\nthe Active Directory User Computer Tool,\n\n176\n00:08:48.440 --> 00:08:50.760\nenable the advanced features,\nyou can go in and you could see it.\n\n177\n00:08:50.760 --> 00:08:56.010\nTurned on by default on those OUs and\nobjects you must disable it.\n\n178\n00:08:56.010 --> 00:09:00.952\nSo we assume, hopefully correctly that\nit's gonna get to enable that, and it is,\n\n179\n00:09:00.952 --> 00:09:02.727\nand you will then turn it off.\n\n180\n00:09:02.727 --> 00:09:05.480\nNow, we can go into ADAC.\n\n181\n00:09:06.616 --> 00:09:09.161\nHere let's just bring up the ADAC area and\non, whoops,\n\n182\n00:09:09.161 --> 00:09:11.390\ntry that one more time I\nclicked one time to many.\n\n183\n00:09:11.390 --> 00:09:14.610\nYou've seen the ADAC\ntool from time to time.\n\n184\n00:09:14.610 --> 00:09:18.900\nI've gone into the Practice Labs\ndomain over here, highlighted it.\n\n185\n00:09:18.900 --> 00:09:22.300\nBrought up my list of OUs, you could\nsee the same exact set up OUs and\n\n186\n00:09:22.300 --> 00:09:24.960\ncontainers that I was looking at here.\n\n187\n00:09:24.960 --> 00:09:27.144\nRight click, same way,\njust go to Properties.\n\n188\n00:09:27.144 --> 00:09:31.440\nSo in this case, instead of having\nto turn on the advanced features,\n\n189\n00:09:31.440 --> 00:09:35.370\nthe view is enabled automatically\nin the properties there.\n\n190\n00:09:35.370 --> 00:09:39.140\nYou could see I'm pointing to it\nright above me there off to the left,\n\n191\n00:09:39.140 --> 00:09:41.610\njust to the left from where I am.\n\n192\n00:09:41.610 --> 00:09:44.780\nProtect from accidental deletion\nis enabled right there.\n\n193\n00:09:44.780 --> 00:09:48.053\nSo in ADAC, I could see it out of\nthe box as long as I have admin rights.\n\n194\n00:09:48.053 --> 00:09:51.929\nIn the AD user of computer are set to\nenable the advanced features in order to\n\n195\n00:09:51.929 --> 00:09:53.010\nbe able to see it.\n\n196\n00:09:53.010 --> 00:09:56.100\nBut either way, I can certainly\ninteract with this and select or\n\n197\n00:09:56.100 --> 00:09:59.980\nbe selected as needed to enable or\ndisable depending on what I'm doing.\n\n198\n00:10:01.260 --> 00:10:01.850\n&gt;&gt; Yeah, of course.\n\n199\n00:10:01.850 --> 00:10:03.080\n&gt;&gt; Pretty cool, pretty good, right?\n\n200\n00:10:03.080 --> 00:10:06.650\nObviously important for us to be thinking\nabout that and having a sense of that and\n\n201\n00:10:06.650 --> 00:10:11.520\nunderstanding why we would wanna see\nvalue in using that kind of a tool.\n\n202\n00:10:11.520 --> 00:10:13.109\nLet me close that property window out.\n\n203\n00:10:13.109 --> 00:10:17.320\nDon't wanna leave that open while\nwe're messing around in here.\n\n204\n00:10:17.320 --> 00:10:18.300\nLet's talk about something else.\n\n205\n00:10:18.300 --> 00:10:23.310\nWe've talked about creation of OUs, shown\nyou how to do that in a prior discussion.\n\n206\n00:10:23.310 --> 00:10:27.110\nTalked about the difference between OUs\nand containers, we've gone through that.\n\n207\n00:10:27.110 --> 00:10:28.180\nHopefully, you familiar with that.\n\n208\n00:10:28.180 --> 00:10:30.720\nAgain, if you haven't seen that,\ndefinitely encourage you to go back and\n\n209\n00:10:30.720 --> 00:10:31.970\ntake a look.\n\n210\n00:10:31.970 --> 00:10:34.268\nWhat I wanna do is talk about\nhow we delegate control.\n\n211\n00:10:34.268 --> 00:10:37.314\nA delegation of control wizard that\nI mentioned may be valuable to you.\n\n212\n00:10:37.314 --> 00:10:39.590\nNow, I may then features you.\n\n213\n00:10:39.590 --> 00:10:41.668\nI can leave it on and turn it off,\nit doesn't really matter.\n\n214\n00:10:41.668 --> 00:10:43.030\nSo relevant to what we're gonna do.\n\n215\n00:10:43.030 --> 00:10:45.690\nI'm gonna select an OU, I'm gonna\n\n216\n00:10:45.690 --> 00:10:49.922\nchoose the in America OU just because\nhappen to be hovering over right here.\n\n217\n00:10:49.922 --> 00:10:52.250\nSo right-click the in America OU or\n\n218\n00:10:52.250 --> 00:10:55.780\nany OU of you're choosing,\ndoesn't matter what it is.\n\n219\n00:10:55.780 --> 00:10:58.960\nAnd I'm gonna use right at the top there,\nDelegate Control.\n\n220\n00:10:58.960 --> 00:11:02.350\nYou could see the little\nitem at the top of the menu.\n\n221\n00:11:03.370 --> 00:11:08.270\nThis opens up a GUI-driven wizard\nas we often have in Windows.\n\n222\n00:11:09.280 --> 00:11:12.970\nAnd once we do that,\njust let that render, click Next.\n\n223\n00:11:12.970 --> 00:11:16.694\nFirst thing we do, select a user and\nor a group or in theory, both,\n\n224\n00:11:16.694 --> 00:11:18.701\nthat we wanna delegate control to.\n\n225\n00:11:18.701 --> 00:11:22.197\nSo first thing to keep in mind,\nwe can delegate to an individual user,\n\n226\n00:11:22.197 --> 00:11:25.960\ndelegate to a group, group of users,\nright, whatever it may be.\n\n227\n00:11:25.960 --> 00:11:29.100\nSo I'm gonna add here, and we'll go in.\n\n228\n00:11:29.100 --> 00:11:32.912\nWe'll decide to delegate to shareB.\n\n229\n00:11:32.912 --> 00:11:36.643\n&gt;&gt; Yey, I get to administer that now.\n\n230\n00:11:36.643 --> 00:11:38.714\n[CROSSTALK]\n&gt;&gt; An oatmeal cookie and\n\n231\n00:11:38.714 --> 00:11:41.400\nice cream sandwich is power.\n\n232\n00:11:41.400 --> 00:11:44.430\nAll right, so\nwe have a delegation for a user.\n\n233\n00:11:44.430 --> 00:11:49.266\nLet's put in a group as well, DHCP users.\n\n234\n00:11:52.122 --> 00:11:53.378\nOkay, we've got them also.\n\n235\n00:11:53.378 --> 00:11:57.323\nSo you could see we can add one or both,\nand delegate to both users and groups,\n\n236\n00:11:57.323 --> 00:11:58.307\ndo them together.\n\n237\n00:11:58.307 --> 00:11:59.660\nHow many wanna do that?\n\n238\n00:11:59.660 --> 00:12:02.200\nIt's up to you,\nyou can stack them up here.\n\n239\n00:12:02.200 --> 00:12:09.050\nClick Next, then task or tasks to delegate\nwe can select one or more than one.\n\n240\n00:12:09.050 --> 00:12:12.590\nDelegate the following common tasks and\nthere is a list here of about 15 or\n\n241\n00:12:12.590 --> 00:12:13.800\nso items.\n\n242\n00:12:13.800 --> 00:12:16.330\nOr create a custom task to delegate\n\n243\n00:12:16.330 --> 00:12:18.950\nbased on something that's not\non this list that you wanna do.\n\n244\n00:12:18.950 --> 00:12:21.830\nYou can go in and specify that,\nit's really up to you.\n\n245\n00:12:21.830 --> 00:12:23.450\nCreate, delete, and manage user accounts.\n\n246\n00:12:23.450 --> 00:12:27.910\nThat's a pretty common one for people on\nthe IT help desk and support functions and\n\n247\n00:12:27.910 --> 00:12:28.830\nroles.\n\n248\n00:12:28.830 --> 00:12:31.790\nDelegated administration\ntypically is gonna devolve to\n\n249\n00:12:31.790 --> 00:12:34.650\nthe support professionals,\nthis may be one task.\n\n250\n00:12:34.650 --> 00:12:37.965\nReset user passwords and\nforce password change on next logon,\n\n251\n00:12:37.965 --> 00:12:41.351\nthat's also typically a common\nsupport function we often see.\n\n252\n00:12:41.351 --> 00:12:44.721\nRead all user information, that's\ntypically just for nosy people not for\n\n253\n00:12:44.721 --> 00:12:45.535\nsupport people.\n\n254\n00:12:45.535 --> 00:12:49.796\nCreate, delete, and/or manage groups,\nagain something that an IT help desk or\n\n255\n00:12:49.796 --> 00:12:51.600\nan admin IT function may be doing.\n\n256\n00:12:51.600 --> 00:12:55.408\nModify membership in groups, right, that\ncould maybe be a function of a manager\n\n257\n00:12:55.408 --> 00:12:57.485\nsomewhere, depending on what were doing.\n\n258\n00:12:57.485 --> 00:13:00.280\nAll right,\nlots of different options there.\n\n259\n00:13:00.280 --> 00:13:04.050\nGenerate results instead of policies,\nthere's lots of different one's here, so\n\n260\n00:13:04.050 --> 00:13:06.010\nif you see one you like, do that.\n\n261\n00:13:06.010 --> 00:13:08.041\nIf you don't,\nchoose to do whatever custom delegation.\n\n262\n00:13:08.041 --> 00:13:10.491\nLet's do this first one,\nwhich is the standard one,\n\n263\n00:13:10.491 --> 00:13:13.610\nwe'll run back through do a quick\ncustom one, I'll show you both.\n\n264\n00:13:13.610 --> 00:13:17.994\nSo let me choose Create,\ndelete and manage user accounts.\n\n265\n00:13:17.994 --> 00:13:21.490\nI click Next and boom, we're done, right.\n\n266\n00:13:21.490 --> 00:13:23.680\nI mean, if we do one off the pick list,\n\n267\n00:13:23.680 --> 00:13:27.440\nthat's all we have to do because\neverything else is already setup.\n\n268\n00:13:27.440 --> 00:13:33.697\nSo I can click Finish, let me do that,\nand now I have delegated that task.\n\n269\n00:13:33.697 --> 00:13:39.283\nNow if I wanna go in and delegate another\ntask, let's still regain control one time,\n\n270\n00:13:39.283 --> 00:13:45.690\nwe'll go ahead and, We'll do a custom\ntask, one that's not on that pick list.\n\n271\n00:13:45.690 --> 00:13:50.320\nI have to re-add users or different users\nbecause I'm doing a new iteration, so\n\n272\n00:13:50.320 --> 00:13:52.270\nit doesn't know what I did before.\n\n273\n00:13:52.270 --> 00:13:57.070\nSo let's do our shareB user again.\n\n274\n00:13:57.070 --> 00:13:59.270\nI'll not bother with the group this time,\nsince we've already seen it,\n\n275\n00:13:59.270 --> 00:14:01.010\nwe'll just do it for our user.\n\n276\n00:14:01.010 --> 00:14:03.510\nClick Next, move that over.\n\n277\n00:14:03.510 --> 00:14:07.850\nLet's do generate a custom\ntask to delegate, click Next.\n\n278\n00:14:07.850 --> 00:14:09.120\nDelegate Control Of.\n\n279\n00:14:09.120 --> 00:14:12.350\nNow we have to go through what happens\nbehind the scenes in the premade tasks,\n\n280\n00:14:12.350 --> 00:14:14.470\nwhere all this stuff's\nalready programmed out.\n\n281\n00:14:14.470 --> 00:14:16.180\nWe're gonna have to make some choices.\n\n282\n00:14:16.180 --> 00:14:18.720\nSo this folder,\nexisting objects in this folder,\n\n283\n00:14:18.720 --> 00:14:23.170\nthis folder being the NAmerica OU right\nbehind me here that I'm operating on.\n\n284\n00:14:23.170 --> 00:14:28.160\nThis folder enabling or\nexisting objects in the folder, well, and\n\n285\n00:14:28.160 --> 00:14:30.390\ncreation of new object in the folder,\ngreat.\n\n286\n00:14:30.390 --> 00:14:33.240\nWell, notice I have\na nested OU scenario here.\n\n287\n00:14:33.240 --> 00:14:37.130\nAnd so as a result, I would be\ndelegating control over NAmerica and\n\n288\n00:14:37.130 --> 00:14:40.840\neverything at that level and\nbelow in the hierarchy in the nest.\n\n289\n00:14:40.840 --> 00:14:45.440\nRight, not Program Data, not SAmerica,\nnot Foreign Security Principles.\n\n290\n00:14:45.440 --> 00:14:48.690\nThat stuff around it, but\neverything at its level and below.\n\n291\n00:14:48.690 --> 00:14:53.860\nSo any user accounts, any groups,\nany computer accounts,\n\n292\n00:14:53.860 --> 00:14:58.750\nany printer objects, any nested OUs,\nall those things that exist\n\n293\n00:14:58.750 --> 00:15:02.550\ninside of there are gonna be part of\nthis delegation if I leave the default.\n\n294\n00:15:02.550 --> 00:15:05.430\nBut I can choose only\nthe following objects.\n\n295\n00:15:05.430 --> 00:15:08.740\nAnd I can specify, hey,\njust user accounts.\n\n296\n00:15:08.740 --> 00:15:12.110\nI could specify just computer objects,\nso I have a pretty,\n\n297\n00:15:12.110 --> 00:15:14.700\nagain, exhaustive list here.\n\n298\n00:15:14.700 --> 00:15:19.290\nJust user objects, just computer objects,\njust subnet objects,\n\n299\n00:15:19.290 --> 00:15:23.960\njust cycling objects, just printer\nobjects, room objects, there's all sorts\n\n300\n00:15:23.960 --> 00:15:28.190\nof stuff on this list that are object\ndefinitions in the Active Directory.\n\n301\n00:15:28.190 --> 00:15:30.640\nSome may make sense to you, some may not.\n\n302\n00:15:30.640 --> 00:15:35.940\nBut ultimately, I have a choice, and\nI can choose what I wanna delegate.\n\n303\n00:15:35.940 --> 00:15:37.962\nSo let's just say or\ndelegate the scope to,\n\n304\n00:15:37.962 --> 00:15:41.830\nlet's just focuses on computer objects,\nright, so you could do that.\n\n305\n00:15:41.830 --> 00:15:44.530\nThen, Create selected\nobjects in the folder.\n\n306\n00:15:44.530 --> 00:15:46.500\nDeletes selected objects in the folder,\nright?\n\n307\n00:15:46.500 --> 00:15:51.821\nSo, I'm gonna give them this particular\nset of permissions to do this, click Next.\n\n308\n00:15:53.055 --> 00:15:54.581\nAll right now, permission,\n\n309\n00:15:54.581 --> 00:15:57.579\nshow these permissions general\nwhat's shown down here.\n\n310\n00:15:57.579 --> 00:16:01.490\nThe properties specific in creation and\ndeletion of specific Shell objects.\n\n311\n00:16:01.490 --> 00:16:02.545\nI do the add permissions.\n\n312\n00:16:02.545 --> 00:16:06.359\nWhat level of permissions Do I\nwanna delegate, do I wanna give,\n\n313\n00:16:06.359 --> 00:16:10.244\nto share the user full control,\ndo I wanna give her read or write or\n\n314\n00:16:10.244 --> 00:16:13.300\ncreate all child or read all properties?\n\n315\n00:16:13.300 --> 00:16:15.043\nLet's say we wanna give\nher read all properties.\n\n316\n00:16:16.964 --> 00:16:18.880\nDone, boom.\n\n317\n00:16:18.880 --> 00:16:20.470\nAnd now I've done that as well.\n\n318\n00:16:20.470 --> 00:16:23.840\nSo when I go through and\nI use the delegation of control wizard,\n\n319\n00:16:23.840 --> 00:16:27.590\nI'm assigning, depending on whether\nI choose a pre-made task, or\n\n320\n00:16:27.590 --> 00:16:30.570\nI set to create my own form the big list.\n\n321\n00:16:30.570 --> 00:16:35.528\nI'm assigning user and/or group or\na combination of users and groups rights,\n\n322\n00:16:35.528 --> 00:16:39.968\npermissions, and abilities to do\nsomething at this object level, and\n\n323\n00:16:39.968 --> 00:16:42.487\npotentially hierarchically below it.\n\n324\n00:16:42.487 --> 00:16:46.145\nThe share to user cannot do\nthose things on the APAC OU, or\n\n325\n00:16:46.145 --> 00:16:48.400\nat the level of the APAC OU.\n\n326\n00:16:48.400 --> 00:16:51.120\nRight now she is limited to North America.\n\n327\n00:16:51.120 --> 00:16:53.020\nNow one other thing before\nCherokee chimes in.\n\n328\n00:16:53.020 --> 00:16:56.664\nShe signaled me she wants to ask or\nsay something.\n\n329\n00:16:56.664 --> 00:16:59.597\nAnd, it's interesting when\nwe run the delegation of\n\n330\n00:16:59.597 --> 00:17:03.001\ncontrol wizard at the OU level,\nwe get that list that you saw.\n\n331\n00:17:03.001 --> 00:17:06.503\nBut there was one activity missing\nthat shows up when we run it at\n\n332\n00:17:06.503 --> 00:17:07.610\nthe domain level.\n\n333\n00:17:07.610 --> 00:17:08.835\nLet me show you what I mean.\n\n334\n00:17:08.835 --> 00:17:11.130\nPracticelabs.com is our domain.\n\n335\n00:17:11.130 --> 00:17:15.950\nLet's right click, run the wizard at the\ndomain level, giving us the right to all\n\n336\n00:17:15.950 --> 00:17:21.240\nobjects below the domain, all the OUs,\ncontainers, objects, etc.\n\n337\n00:17:21.240 --> 00:17:24.943\nWizard looks the same with one exception.\n\n338\n00:17:24.943 --> 00:17:27.078\nLet's just add our user back in quickly so\n\n339\n00:17:27.078 --> 00:17:30.890\nthat we can get to the next screen,\nwhich is what we wanna see.\n\n340\n00:17:30.890 --> 00:17:33.790\nRight here, join a computer to the domain.\n\n341\n00:17:33.790 --> 00:17:37.160\nWhen you run the delegation of\ncontrol wizard at the domain level,\n\n342\n00:17:37.160 --> 00:17:40.660\nyou get an additional\ntask on the preset list.\n\n343\n00:17:40.660 --> 00:17:42.610\nJoin a computer to domain,\nwhich we've talked about.\n\n344\n00:17:42.610 --> 00:17:45.550\nAnd we've talked about\nthe importance of and pre-staging.\n\n345\n00:17:45.550 --> 00:17:46.900\nIn fact you may want to do that.\n\n346\n00:17:46.900 --> 00:17:50.500\nMicrosoft recommends you pre-stage\nthe accounts and pre-populate them.\n\n347\n00:17:50.500 --> 00:17:52.340\nWe've been through that\nwhole conversation.\n\n348\n00:17:52.340 --> 00:17:54.600\nBut when you're running up\nthe domain level, you get this task.\n\n349\n00:17:54.600 --> 00:17:56.970\nWhen running up the OU level, you don't.\n\n350\n00:17:56.970 --> 00:18:00.100\nSo just make sure you're aware of that\nbecause that is a big distinction, and\n\n351\n00:18:00.100 --> 00:18:04.200\none that obviously would be valuable for\nyou if you were, I don't know,\n\n352\n00:18:04.200 --> 00:18:07.215\nperhaps asked a question about\nthat at some point in the future.\n\n353\n00:18:07.215 --> 00:18:11.407\nAll right, so having said that we may ask\na question, you know her, you love her.\n\n354\n00:18:11.407 --> 00:18:13.765\n&gt;&gt; [LAUGH]\n&gt;&gt; You love hearing her questions.\n\n355\n00:18:13.765 --> 00:18:15.145\n&gt;&gt; I don't know if they'll love this one.\n\n356\n00:18:15.145 --> 00:18:18.058\nI was just gonna say Adam, now that you've\ndelegated so much of this work on to me,\n\n357\n00:18:18.058 --> 00:18:19.803\nthe real question is what\nare you gonna be doing?\n\n358\n00:18:19.803 --> 00:18:20.675\n&gt;&gt; I'm leaving, by the way.\n\n359\n00:18:20.675 --> 00:18:21.841\nI'm outta here.\n&gt;&gt; What are you gonna be doing\n\n360\n00:18:21.841 --> 00:18:22.362\nwith your time now?\n\n361\n00:18:22.362 --> 00:18:22.923\n&gt;&gt; I'm outta here.\n\n362\n00:18:22.923 --> 00:18:27.534\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm gonna go and learn how to type.\n\n363\n00:18:27.534 --> 00:18:28.720\n&gt;&gt; Okay.\n&gt;&gt; That's my goal.\n\n364\n00:18:28.720 --> 00:18:32.550\nI figured if I delegate everything to you,\nI may actually improve my skills.\n\n365\n00:18:32.550 --> 00:18:34.880\n&gt;&gt; No, but I did have one other\nthing to add, a real thing.\n\n366\n00:18:36.180 --> 00:18:38.800\nLike Adam had just showed you there\nwith that delegation of control for\n\n367\n00:18:38.800 --> 00:18:40.870\nadding a computer to a domain.\n\n368\n00:18:40.870 --> 00:18:42.195\nSo, if you think about that,\n\n369\n00:18:42.195 --> 00:18:45.966\nAdam, we don't wanna just be randomly\nadding users to our administrators groups.\n\n370\n00:18:45.966 --> 00:18:49.418\nSo this is, I guess,\nI don't know what the proper term is, but\n\n371\n00:18:49.418 --> 00:18:52.820\na less invasive way of going and\nallowing that task to happen.\n\n372\n00:18:54.150 --> 00:18:58.050\n&gt;&gt; It is more controlled and more elegant,\nlet's put it that way, I like that.\n\n373\n00:18:58.050 --> 00:18:59.465\nI think that's a great\nway of thinking about it.\n\n374\n00:18:59.465 --> 00:19:00.933\nNo doubt about it.\n\n375\n00:19:00.933 --> 00:19:04.275\nAll right, so one other quick thing\nbefore we do the offline domain join,\n\n376\n00:19:04.275 --> 00:19:08.195\nwhich I did promise you we're gonna do,\nand I do intend to do that.\n\n377\n00:19:08.195 --> 00:19:10.905\nI wanted to talk about one\nother little thing here.\n\n378\n00:19:10.905 --> 00:19:12.525\nI'm just going to find a user.\n\n379\n00:19:12.525 --> 00:19:16.792\nJust give me one second,\nI'm bringing one up randomly.\n\n380\n00:19:16.792 --> 00:19:18.015\nLet me go to properties here.\n\n381\n00:19:18.015 --> 00:19:22.460\nWe have our advanced view on, so\nwe do have quite a number of tabs.\n\n382\n00:19:22.460 --> 00:19:26.320\nAnd one of them is going\nto be the security tab, so\n\n383\n00:19:26.320 --> 00:19:28.510\nI'm just gonna highlight that so\nwe can see that real quick.\n\n384\n00:19:28.510 --> 00:19:32.710\nI just wanted to talk about\nthe distinction between the DACL,\n\n385\n00:19:32.710 --> 00:19:37.460\nDiscretionary Access Control List,\nD-A-C-L as an acronym, and the SACL,\n\n386\n00:19:37.460 --> 00:19:41.730\nthe S-A-C-L or System Access Control List,\nas an acronym.\n\n387\n00:19:41.730 --> 00:19:44.540\nAnd the ACE or ACEs potentially, so\n\n388\n00:19:44.540 --> 00:19:47.630\nyou may have more than one\nAccess Control Entries.\n\n389\n00:19:47.630 --> 00:19:51.559\nBecause we often hear and\nsee these acronyms, we talk about them,\n\n390\n00:19:51.559 --> 00:19:53.884\nthey're all over our documentation.\n\n391\n00:19:53.884 --> 00:19:56.870\nBut we may not necessarily\nunderstand what they are, right?\n\n392\n00:19:56.870 --> 00:19:59.580\nSo it's important just to have a sense and\neven tell you about permissions on and\n\n393\n00:19:59.580 --> 00:20:02.180\noff, and every software reminding\nus of how important is to do\n\n394\n00:20:02.180 --> 00:20:05.640\nthings in a certain way, and that\npermissions are usually the heart of that.\n\n395\n00:20:05.640 --> 00:20:08.831\nSo when we look up here at our group or\nusername area,\n\n396\n00:20:08.831 --> 00:20:10.870\nthis is our access control list.\n\n397\n00:20:10.870 --> 00:20:15.416\nThis is the list of groups or users that\nwe are going to give individual grants or\n\n398\n00:20:15.416 --> 00:20:17.720\nassignments of permissions to.\n\n399\n00:20:17.720 --> 00:20:21.030\nThe DACL,\nthe Discretionary Access Control List,\n\n400\n00:20:21.030 --> 00:20:26.200\nwill allow us to be able to say,\nlet's just pick one here.\n\n401\n00:20:26.200 --> 00:20:29.520\nThe enterprise domain controllers group.\n\n402\n00:20:29.520 --> 00:20:33.665\nAnd then depending on what they are given\ndown here in the access control entry\n\n403\n00:20:33.665 --> 00:20:37.874\nlist, the allow or deny specified by\nindividual permissions, in this case,\n\n404\n00:20:37.874 --> 00:20:40.130\nthey have special permissions allowed.\n\n405\n00:20:40.130 --> 00:20:42.350\nWe'd have to go to\nthe advanced area to see them.\n\n406\n00:20:42.350 --> 00:20:43.950\nWill be the entries that we are given.\n\n407\n00:20:43.950 --> 00:20:46.430\nIn this case, we'd have to delve\na little deeper to see what they are.\n\n408\n00:20:46.430 --> 00:20:48.920\nJust wanna make sure we have\na sense of this, right?\n\n409\n00:20:48.920 --> 00:20:53.710\nBecause the SACL,\nthe System Access Control List,\n\n410\n00:20:53.710 --> 00:20:57.040\nas opposed to the DACL,\nthe Discretionary Access Control List,\n\n411\n00:20:57.040 --> 00:20:59.250\nis often talked about as I said,\nbut misunderstood.\n\n412\n00:20:59.250 --> 00:21:02.390\nSo I've shown you the DACL,\nI've shown you the ACEs, right?\n\n413\n00:21:02.390 --> 00:21:03.810\nDo you know where we'd find the SACL?\n\n414\n00:21:05.600 --> 00:21:07.505\n&gt;&gt; Behind the mulberry bush?\n\n415\n00:21:07.505 --> 00:21:14.874\n[LAUGH]\n&gt;&gt; Help me, Mayvin, help me.\n\n416\n00:21:14.874 --> 00:21:18.380\nAll right, so no, we would not\nfind it behind the mulberry bush.\n\n417\n00:21:18.380 --> 00:21:19.570\nWhere we would find it,\n\n418\n00:21:19.570 --> 00:21:24.560\nhowever, cuz you have to know what the\nSACL is used for, it is where we see our\n\n419\n00:21:24.560 --> 00:21:27.800\nauditing permissions that we have\nspecified in our settings for auditing.\n\n420\n00:21:27.800 --> 00:21:31.240\nSo as a result, we would go in,\nand we would take a look, and\n\n421\n00:21:31.240 --> 00:21:35.350\nwe would be able to go in and see whether\nwe've enabled success or failure auditing.\n\n422\n00:21:35.350 --> 00:21:37.360\nAnd if so, you know what that looks like.\n\n423\n00:21:37.360 --> 00:21:40.223\nAnd that's where we would look for\nor see the SACL.\n\n424\n00:21:40.223 --> 00:21:43.969\nAnd so it is behind something, it's\nbehind that initial property page I had,\n\n425\n00:21:43.969 --> 00:21:47.400\nwhere I clicked Advanced at the bottom\nto see the special permissions.\n\n426\n00:21:47.400 --> 00:21:49.099\nSo you weren't that far off actually.\n\n427\n00:21:49.099 --> 00:21:50.051\n&gt;&gt; The auditing tab then.\n\n428\n00:21:50.051 --> 00:21:50.892\n&gt;&gt; The auditing tab, exactly.\n\n429\n00:21:50.892 --> 00:21:51.602\n&gt;&gt; All right.\n\n430\n00:21:51.602 --> 00:21:53.210\n[LAUGH]\n&gt;&gt; And you can see it right there, right?\n\n431\n00:21:53.210 --> 00:21:57.025\nOtherwise commonly known as behind\nmulberry bush in Cherokee land.\n\n432\n00:21:57.025 --> 00:22:00.150\nAnd so when go and we in, we go to\nAdvanced, we go to our permissions.\n\n433\n00:22:00.150 --> 00:22:01.943\nYou could see the special permissions,\n\n434\n00:22:01.943 --> 00:22:04.490\nthe detailed information\nwe were looking for here.\n\n435\n00:22:04.490 --> 00:22:08.820\nBut there is to the right of that the\nauditing tab, as Cherokee just called out.\n\n436\n00:22:08.820 --> 00:22:11.780\nThis is where we see our SACL.\n\n437\n00:22:11.780 --> 00:22:14.510\nThis is what we refer to as the SACL,\nthe System Access Control List.\n\n438\n00:22:14.510 --> 00:22:17.620\nSo I just wanna make sure we understand\nthe differentiator, the difference in\n\n439\n00:22:17.620 --> 00:22:21.220\nthe definition between these two,\nwhere they are and what they represent.\n\n440\n00:22:21.220 --> 00:22:23.220\nThe DACL represents the user and\ngroups and\n\n441\n00:22:23.220 --> 00:22:27.140\nthe actual permission grants through\nthe ACEs, the Access Control Entries.\n\n442\n00:22:27.140 --> 00:22:31.964\nThe SACL is a specific subset of that,\ndedicated just to success and failure for\n\n443\n00:22:31.964 --> 00:22:32.689\nauditing.\n\n444\n00:22:32.689 --> 00:22:36.978\nAnd we see it on the Advanced Features or\nthe Advanced button on the General tab and\n\n445\n00:22:36.978 --> 00:22:38.390\nthe Auditing tab.\n\n446\n00:22:38.390 --> 00:22:40.506\nWanna make sure we are familiar with that.\n\n447\n00:22:40.506 --> 00:22:42.343\n&gt;&gt; Great [LAUGH]\n&gt;&gt; As always,\n\n448\n00:22:42.343 --> 00:22:46.530\nalways an adventure when we\ngo down this road together.\n\n449\n00:22:46.530 --> 00:22:50.590\nAll right, so let's take a look at\nhow to do an offline domain join.\n\n450\n00:22:50.590 --> 00:22:53.350\nSo this is an interesting concept and the\nreason why we're doing it at the end of\n\n451\n00:22:53.350 --> 00:22:57.230\nour discussion in this area is I'm gonna\nhave to take the domain controller down to\n\n452\n00:22:57.230 --> 00:23:00.660\nsimulate the domain controller being\noffline to show you how to do this.\n\n453\n00:23:00.660 --> 00:23:03.436\nAnd we just wanted to make sure we were\nable to show you all the other stuff\n\n454\n00:23:03.436 --> 00:23:05.795\nfirst, so that way,\nas we get rid of the domain controller,\n\n455\n00:23:05.795 --> 00:23:07.858\nwe're just kinda going into\nthe end of the episode.\n\n456\n00:23:07.858 --> 00:23:10.352\nWe don't have to worry about bringing\nyou back up and doing anything else,\n\n457\n00:23:10.352 --> 00:23:12.430\njust a little organized\nhousekeeping if you will.\n\n458\n00:23:12.430 --> 00:23:16.870\nAll right, so before I take down the\ndomain controller, let me just get rid of\n\n459\n00:23:18.010 --> 00:23:22.190\nand close up some of\nthe tools that we have here.\n\n460\n00:23:23.190 --> 00:23:27.770\nNow, what I've done is I've\nopened up a command prompt\n\n461\n00:23:27.770 --> 00:23:31.130\non the domain controller,\nand I've gone in and\n\n462\n00:23:31.130 --> 00:23:35.750\nI've used a tool called Djoin,\nyou can see the command here.\n\n463\n00:23:35.750 --> 00:23:37.340\nAgain, if you don't know about this tool,\n\n464\n00:23:37.340 --> 00:23:40.612\nyou're not familiar with it,\nwhat do I always tell you to do?\n\n465\n00:23:40.612 --> 00:23:43.310\nToolname space forward slash\nquestion mark at the command prompt,\n\n466\n00:23:43.310 --> 00:23:46.550\nor in PowerShell, or whatever,\nshowing you different ways to get help.\n\n467\n00:23:46.550 --> 00:23:48.670\nAnd read up on it, figure it out,\n\n468\n00:23:48.670 --> 00:23:51.740\nthat's what you've gotta do in order to\nknow how to use it and what it's used for.\n\n469\n00:23:51.740 --> 00:23:56.195\nD for domain, join for join,\ndomain join, that's what the tool does.\n\n470\n00:23:56.195 --> 00:24:00.340\nProvision domains,\nspecify the domain name practice labs.com.\n\n471\n00:24:00.340 --> 00:24:05.093\nMachines, specify the machine name that\nwe want to join, our plabsa01 instance.\n\n472\n00:24:05.093 --> 00:24:07.519\nSave the information to a file.\n\n473\n00:24:07.519 --> 00:24:09.350\nSpecify the path and name for the file.\n\n474\n00:24:09.350 --> 00:24:14.262\nSo I've done that, provisioning the\ncomputer successfully provisioned zero,\n\n475\n00:24:14.262 --> 00:24:15.830\none in practicelabs.com.\n\n476\n00:24:15.830 --> 00:24:18.460\nProvisioning data was\nsaved off to the file.\n\n477\n00:24:18.460 --> 00:24:22.240\nPut a copy of that file right\nhere in the root of the c drive.\n\n478\n00:24:22.240 --> 00:24:25.640\nI then went to that machine, machine.\n\n479\n00:24:25.640 --> 00:24:28.930\nI made sure it was a standalone\nmachine not joined to the domain, so\n\n480\n00:24:28.930 --> 00:24:30.560\nit's already set up that way.\n\n481\n00:24:30.560 --> 00:24:34.513\nI went ahead, mapped the drive,\nmade a copy of this config file.\n\n482\n00:24:34.513 --> 00:24:39.246\nThis pladsa01.txt file that\nI generated with the djoin\n\n483\n00:24:39.246 --> 00:24:42.620\ntool on the domain controller.\n\n484\n00:24:42.620 --> 00:24:45.660\nI took a copy of that,\nput it on the standalone machine.\n\n485\n00:24:45.660 --> 00:24:49.300\nSo it's sitting there in the C drive,\ncalled the same thing.\n\n486\n00:24:49.300 --> 00:24:52.650\nAnd now what I'm gonna do is I'm gonna\ntake down the domain controller,\n\n487\n00:24:52.650 --> 00:24:58.250\nI'm gonna shut it off and\nwhen I take it down,\n\n488\n00:24:58.250 --> 00:25:02.100\nI'm gonna simulate that it's offline so\nthat we can join the domain.\n\n489\n00:25:02.100 --> 00:25:05.470\nBut we'll join it without having to make\nit truly available because the traditional\n\n490\n00:25:05.470 --> 00:25:09.710\nway this is done is that we have a domain\ncontroller online, we reach out,\n\n491\n00:25:09.710 --> 00:25:13.390\nwe communicate over the network and\nthat's how we actually do this.\n\n492\n00:25:13.390 --> 00:25:15.070\nNow before I take down\nthe domain controller and\n\n493\n00:25:15.070 --> 00:25:17.850\nexecute this command,\nlet's just look at what we're gonna do\n\n494\n00:25:17.850 --> 00:25:20.680\nfrom the perspective of the machine\nthat wants to join the domain.\n\n495\n00:25:20.680 --> 00:25:23.230\nSo I'm on the plabsa01 machine.\n\n496\n00:25:23.230 --> 00:25:26.380\nAgain, just a Windows Command Prompt\nwith administrator privileges,\n\n497\n00:25:26.380 --> 00:25:31.540\nnot even doing this in PowerShell,\nalthough we could djoin, again, same tool.\n\n498\n00:25:31.540 --> 00:25:37.450\nThis time requestodj,\noffline domain join, requestodj.\n\n499\n00:25:37.450 --> 00:25:40.620\nLoad file, what file give me the path and\nthe name so\n\n500\n00:25:40.620 --> 00:25:45.540\nc plan s a zero one x t that file\nthat I generated and copied.\n\n501\n00:25:45.540 --> 00:25:49.800\nWindows path specify the path,\nsystem route percent which\n\n502\n00:25:49.800 --> 00:25:55.170\nis traditionally c windows system\n32 right or c windows route.\n\n503\n00:25:55.170 --> 00:25:57.030\nAnd then local los.\n\n504\n00:25:57.030 --> 00:26:01.850\nWe're joining from the file, and we're not\ngoing to be able to connect to the domain,\n\n505\n00:26:01.850 --> 00:26:03.630\nbecause the main controller\nwill be unavailable.\n\n506\n00:26:03.630 --> 00:26:08.151\nSo, we're going to execute this in just\na minute, but first I have to take down\n\n507\n00:26:08.151 --> 00:26:12.412\nthe domain controller, so give me just\na moment to do this, come in here.\n\n508\n00:26:18.791 --> 00:26:21.516\nGonna shut that down, it's gonna\ntake just a moment to go down so\n\n509\n00:26:21.516 --> 00:26:24.910\nwe're gonna just be patient with it for\njust one second while it's doing that.\n\n510\n00:26:24.910 --> 00:26:28.750\nJust wanna make sure it's actually\noff before we do anything else,\n\n511\n00:26:28.750 --> 00:26:31.230\nbecause otherwise we\nget different results.\n\n512\n00:26:31.230 --> 00:26:35.680\nAll right, so once we've done that and\nit's off we're then gonna go ahead.\n\n513\n00:26:35.680 --> 00:26:40.030\nAnd we are going to,\nlet's get back into my notes here.\n\n514\n00:26:41.380 --> 00:26:42.660\nExecute this command.\n\n515\n00:26:42.660 --> 00:26:44.230\nOkay, so I'm gonna go ahead.\n\n516\n00:26:44.230 --> 00:26:50.180\nI'm gonna click here, do that, I believe.\n\n517\n00:26:52.630 --> 00:26:53.150\nThere we go okay.\n\n518\n00:26:54.460 --> 00:26:55.770\nDidn't register the click the first time.\n\n519\n00:26:55.770 --> 00:26:56.810\nI'm waiting nothing happened.\n\n520\n00:26:56.810 --> 00:26:57.928\n&gt;&gt; You didn't charge up your finger.\n\n521\n00:26:57.928 --> 00:26:59.590\n&gt;&gt; I did yes, I did but\n\n522\n00:26:59.590 --> 00:27:03.800\nit didn't work obviously, static discharge\nbefore I got to the key I guess.\n\n523\n00:27:03.800 --> 00:27:06.300\nSo loading provisioning data\nfrom the following files.\n\n524\n00:27:06.300 --> 00:27:08.430\nSo you can see it read the file\nthat we told it to read.\n\n525\n00:27:08.430 --> 00:27:10.180\nComplete request successfully.\n\n526\n00:27:10.180 --> 00:27:11.850\nThat's always good, wanna see that.\n\n527\n00:27:11.850 --> 00:27:13.851\nA reboot is required for\nchanges to be applied,\n\n528\n00:27:13.851 --> 00:27:16.952\nvery important to know when you do\nan offline domain join we have to restart\n\n529\n00:27:16.952 --> 00:27:19.780\nthe machine in order to be able\nto make sure that that sticks.\n\n530\n00:27:19.780 --> 00:27:21.380\nOperation completed successfully.\n\n531\n00:27:21.380 --> 00:27:24.560\nOutstanding let's go ahead,\nlet's restart this machine.\n\n532\n00:27:27.020 --> 00:27:30.110\nJust go ahead, and by the way notice,\n[INAUDIBLE] work group.\n\n533\n00:27:30.110 --> 00:27:32.410\nIt is not a member of\nthe domain right now, right.\n\n534\n00:27:32.410 --> 00:27:33.290\nYou can see that there.\n\n535\n00:27:33.290 --> 00:27:36.090\nAll right, so let's just get out of there.\n\n536\n00:27:36.090 --> 00:27:38.080\nPrepare to restart this thing.\n\n537\n00:27:39.700 --> 00:27:40.880\nJust clean up all that.\n\n538\n00:27:40.880 --> 00:27:46.829\nLet's go ahead let's do a restart.\n\n539\n00:27:47.880 --> 00:27:53.380\nWait for that to come back up,\ntake just a moment for it to do that.\n\n540\n00:27:53.380 --> 00:27:54.960\nLet me just go out here.\n\n541\n00:27:54.960 --> 00:27:56.580\nGive this a moment just to cycle.\n\n542\n00:27:56.580 --> 00:27:59.200\nWe'll go ahead, we'll open\nthe console back up in just a minute.\n\n543\n00:27:59.200 --> 00:28:01.970\nAnd when we do that, we will then be\n\n544\n00:28:01.970 --> 00:28:05.190\nable to see that the machine has\nactually been joined to the domain.\n\n545\n00:28:05.190 --> 00:28:08.390\nWe already have indications of the fact\nthat it was successful but we'll be able\n\n546\n00:28:08.390 --> 00:28:12.220\nto check that fact and actually verify\nthat it was joined to the domain.\n\n547\n00:28:12.220 --> 00:28:16.500\nWe can go in and we can see that\nit becomes a member of the domain.\n\n548\n00:28:16.500 --> 00:28:18.610\nWe go to the domain controller and\nbrought that back up.\n\n549\n00:28:18.610 --> 00:28:21.070\nSee it is registered\nthe machine is a domain member.\n\n550\n00:28:21.070 --> 00:28:22.640\nDifferent ways to do that so.\n\n551\n00:28:22.640 --> 00:28:26.650\nDoing offline domain join It's just\na matter of using the Djoin tool and\n\n552\n00:28:26.650 --> 00:28:27.880\nmaking sure we have the syntax.\n\n553\n00:28:27.880 --> 00:28:31.540\nSyntax is in the notes for you, by the\nway, so you'll be able to see it there.\n\n554\n00:28:31.540 --> 00:28:33.650\nSo let me just demo it,\ngo back, take a look at it and\n\n555\n00:28:33.650 --> 00:28:37.600\nmake sure you understand how to do that,\nbut you could do it either way.\n\n556\n00:28:37.600 --> 00:28:43.683\nAll right, so let me do that.\n\n557\n00:28:43.683 --> 00:28:46.052\nJust bring this back up here.\n\n558\n00:28:46.052 --> 00:28:48.608\nHold on, no, maybe not yet.\n\n559\n00:28:48.608 --> 00:28:50.370\nIt may still be in process.\n\n560\n00:28:50.370 --> 00:28:52.130\nJust trying to get back up.\n\n561\n00:28:52.130 --> 00:28:55.479\nAll right, so in other words that log into\nright now is still kinda thinking and\n\n562\n00:28:55.479 --> 00:28:58.675\ndoing it's thing but, just making sure\nthat you know that we can do that and\n\n563\n00:28:58.675 --> 00:28:59.720\nwe did so with success.\n\n564\n00:28:59.720 --> 00:29:02.360\nAnd that is how,\nwe will do an offline domain joint.\n\n565\n00:29:02.360 --> 00:29:04.000\nImportant skill set will be examined.\n\n566\n00:29:04.000 --> 00:29:05.780\nMake sure you're familiar\nwith how to do that.\n\n567\n00:29:05.780 --> 00:29:06.840\nNot complicated as you saw.\n\n568\n00:29:06.840 --> 00:29:09.150\nPretty straightforward,\ncouple of commands, pretty easy.\n\n569\n00:29:09.150 --> 00:29:11.350\nTransfer file, and off to the races.\n\n570\n00:29:11.350 --> 00:29:12.900\nAnd you saw it was very easy to do.\n\n571\n00:29:12.900 --> 00:29:14.860\nFive, ten seconds and we were successful.\n\n572\n00:29:14.860 --> 00:29:17.380\n&gt;&gt; You know a lot of these management\ntools, well all of them that you showed us\n\n573\n00:29:17.380 --> 00:29:20.750\nin this episode, were really quick and\nnot difficult at all.\n\n574\n00:29:20.750 --> 00:29:23.330\nSo don't be afraid of jumping in there and\njust trying.\n\n575\n00:29:23.330 --> 00:29:27.480\nAnd you've got the documentation and\nways to go ahead and practice with that.\n\n576\n00:29:27.480 --> 00:29:28.810\nSo don't be afraid.\n\n577\n00:29:28.810 --> 00:29:30.160\nBut thank you for\ntaking your time to show us.\n\n578\n00:29:30.160 --> 00:29:31.710\n&gt;&gt; Sure.\n&gt;&gt; Where's our big red bow, Adam?\n\n579\n00:29:31.710 --> 00:29:33.540\nWeren't we going to wrap it all up?\n\n580\n00:29:33.540 --> 00:29:34.135\n&gt;&gt; We just did.\n\n581\n00:29:34.135 --> 00:29:35.120\n&gt;&gt; [LAUGH] Okay.\n\n582\n00:29:35.120 --> 00:29:36.450\n&gt;&gt; Offline domain join.\n\n583\n00:29:36.450 --> 00:29:39.080\n&gt;&gt; All right, so there you have it,\nladies and gentlemen.\n\n584\n00:29:39.080 --> 00:29:41.970\nStay tuned though, we do have more\ncontent headed your way, but for now,\n\n585\n00:29:41.970 --> 00:29:43.100\nwe'll go ahead and sign out.\n\n586\n00:29:43.100 --> 00:29:44.700\nI've been your host, Cherokee Boose.\n\n587\n00:29:44.700 --> 00:29:45.600\n&gt;&gt; I'm Adam Gordon.\n\n588\n00:29:45.600 --> 00:29:48.865\n&gt;&gt; See you next time here at ITProTV.\n\n589\n00:29:48.865 --> 00:29:54.796\n[MUSIC]\n\n590\n00:29:54.796 --> 00:29:58.124\nThank you for watching ITProTV.\n\n",
          "vimeoId": "229274406"
        }
      ],
      "title": "Managing objects in AD DS"
    },
    {
      "episodes": [
        {
          "description": "In this show, Adam and Cherokee begin by explaining and defining logical boundaries with in AD DS. Understanding the domain boundries such as replication, administration, Group Policy, audit and password/account policy boundaries are esential for advanced AD DS management. Tune in for more!",
          "length": "1548",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-1-advanced_ad_ds_infrastructure_management-081017-PGM.00_25_32_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-1-advanced_ad_ds_infrastructure_management-081017-PGM.00_25_32_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-1-advanced_ad_ds_infrastructure_management-081017-PGM.00_25_32_13.Still001-sm.jpg",
          "title": "Advanced AD DS Infrastructure Mgmt",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.317\nWelcome to ITPRO.TV.\n\n2\n00:00:01.317 --> 00:00:03.434\nI'm your host Don Pezet.\n\n3\n00:00:03.434 --> 00:00:05.595\n[CROSSTALK]\n\n4\n00:00:05.595 --> 00:00:07.541\n[MUSIC]\n\n5\n00:00:07.541 --> 00:00:10.590\n&gt;&gt; You're watching ITPRO.TV.\n\n6\n00:00:10.590 --> 00:00:15.898\n&gt;&gt; Welcome, ladies and gentlemen, to your\nIdentity with Windows Server 216 series.\n\n7\n00:00:15.898 --> 00:00:19.140\nI'm your show host, Cherokee Boose.\n\n8\n00:00:19.140 --> 00:00:23.640\nIn this episode, we'll be taking a look\nat AD DS infrastructure management.\n\n9\n00:00:23.640 --> 00:00:27.090\nBack in studios with us today,\nwe have Microsoft expert Adam Gordon.\n\n10\n00:00:27.090 --> 00:00:28.360\nHow's it going today, Adam?\n\n11\n00:00:28.360 --> 00:00:31.371\n&gt;&gt; Going well, not just AD DS\ninfrastructure management, but\n\n12\n00:00:31.371 --> 00:00:33.620\nadvanced AD DS infrastructure management.\n\n13\n00:00:33.620 --> 00:00:37.264\nCuz you are worth more than just simple\naverage everyday run-of-the-mill\n\n14\n00:00:37.264 --> 00:00:38.000\ndiscussions.\n\n15\n00:00:38.000 --> 00:00:40.038\nYou are gonna get advanced discussions.\n\n16\n00:00:40.038 --> 00:00:40.980\nThat's what we're gonna talk about here.\n\n17\n00:00:40.980 --> 00:00:42.212\nAnd the reason I'm saying that is,\n\n18\n00:00:42.212 --> 00:00:44.482\naside from the fact that it's\nactually the title of the episode.\n\n19\n00:00:44.482 --> 00:00:45.665\nBut aside from that,\n\n20\n00:00:45.665 --> 00:00:50.090\nwe have already talked about the basics\nof administration of infrastructure.\n\n21\n00:00:50.090 --> 00:00:51.660\nAnd we've been through some of that.\n\n22\n00:00:51.660 --> 00:00:54.492\nWe did a whole series of\ndiscussions in prior episodes and\n\n23\n00:00:54.492 --> 00:00:56.970\nshows around objects and\nmanagement of objects.\n\n24\n00:00:56.970 --> 00:00:58.960\nAnd that's kind of a baseline.\n\n25\n00:00:58.960 --> 00:01:01.540\nWhat we're gonna do now is go up\none level, make this more advanced.\n\n26\n00:01:01.540 --> 00:01:05.970\nWe're going to go into and\naround those objects into the containers.\n\n27\n00:01:05.970 --> 00:01:08.860\nMeaning the domains,\nthe trees, and the forest.\n\n28\n00:01:08.860 --> 00:01:11.121\nAnd we're gonna look at and\ntalk about the structure, and\n\n29\n00:01:11.121 --> 00:01:12.242\nhow we manage at that level.\n\n30\n00:01:12.242 --> 00:01:16.180\nAnd we're gonna start introducing\ngroup policy into the conversation.\n\n31\n00:01:16.180 --> 00:01:18.970\nI previewed that a little bit in\none of our earlier discussions,\n\n32\n00:01:18.970 --> 00:01:20.230\nsaid we'd have more to come.\n\n33\n00:01:20.230 --> 00:01:21.781\nWe are still gonna do those deep dives,\n\n34\n00:01:21.781 --> 00:01:24.144\nthey'll gonna be coming up in\nsome future conversations.\n\n35\n00:01:24.144 --> 00:01:27.598\nWe're gonna start getting some more\nof that information out there.\n\n36\n00:01:27.598 --> 00:01:31.260\nSo we're gonna be doing some of\nthat advanced thought process.\n\n37\n00:01:31.260 --> 00:01:33.010\nWhat are trust relationships?\n\n38\n00:01:33.010 --> 00:01:33.662\nWhat are sites?\n\n39\n00:01:33.662 --> 00:01:35.150\nAnd things of that nature.\n\n40\n00:01:35.150 --> 00:01:38.290\nSo it's gonna be a little bit\nmore of a higher level focus\n\n41\n00:01:38.290 --> 00:01:40.550\nas we get into this\ngroup of conversations.\n\n42\n00:01:40.550 --> 00:01:44.250\nSo let's start by talking about\nwhat the AD DS domain is and\n\n43\n00:01:44.250 --> 00:01:46.840\nthe domain boundaries\njust to remind ourselves.\n\n44\n00:01:46.840 --> 00:01:47.892\nWe've been through this before.\n\n45\n00:01:47.892 --> 00:01:50.740\nLet me just bring up my trusty\nreference-able picture here.\n\n46\n00:01:50.740 --> 00:01:54.662\nYou guys have seen this before, probably\nsick of seeing it by now, but you're going\n\n47\n00:01:54.662 --> 00:01:58.590\nto see it some more, because it's\nimportant for us to refer it back to you.\n\n48\n00:01:58.590 --> 00:02:02.975\nSo, we do have three domains in this\npicture, we have the ITPRO.TV parent\n\n49\n00:02:02.975 --> 00:02:07.918\ndomain at the top here, we have two child\ndomains underneath the ITPRO.TV up here,\n\n50\n00:02:07.918 --> 00:02:10.027\nwe have hosts and we have audience.\n\n51\n00:02:10.027 --> 00:02:13.790\nAll three of these are domains in and\nof themselves.\n\n52\n00:02:13.790 --> 00:02:17.250\nThe triangle just as a point\nof reference from a shape and\n\n53\n00:02:17.250 --> 00:02:19.880\na boundary perspective\nphysically on the diagram.\n\n54\n00:02:19.880 --> 00:02:24.010\nLays out the boundary of the domain\nvisually for us just to understand that.\n\n55\n00:02:24.010 --> 00:02:28.702\nI put some OU objects in here so we have\nsome OU objects that we can reference.\n\n56\n00:02:28.702 --> 00:02:30.272\nWe've morphed them into servers and\n\n57\n00:02:30.272 --> 00:02:33.472\ntalked about them being different\nthings as we've been discussing them.\n\n58\n00:02:33.472 --> 00:02:35.790\nBut generically they represent OUs.\n\n59\n00:02:35.790 --> 00:02:39.300\nWe have two-way transitive trusts,\nthese bi-directional\n\n60\n00:02:39.300 --> 00:02:43.390\narrows that are sitting between each\nof the child domains up to the parent.\n\n61\n00:02:43.390 --> 00:02:48.928\nThis represents the communication pathway,\nthe conduit that is created automatically.\n\n62\n00:02:48.928 --> 00:02:54.310\nIt's instantiated as we add additional\ndomains into the parent domain,\n\n63\n00:02:54.310 --> 00:02:58.780\nhang them off of the parent domain and\ncreate sub domains.\n\n64\n00:02:58.780 --> 00:03:00.920\nWe've been through this process,\ntalked about how this is done,\n\n65\n00:03:00.920 --> 00:03:04.780\nshown you in prior episodes how to do\nthis, encourage you to go back and\n\n66\n00:03:04.780 --> 00:03:07.190\ntake a look if you don't remember or\nhave not seen those.\n\n67\n00:03:07.190 --> 00:03:11.090\nMaybe helpful to get the contents for\nthis set of conversations going forward.\n\n68\n00:03:11.090 --> 00:03:14.235\nSo as we go through the AD DS\nconfiguration wizard,\n\n69\n00:03:14.235 --> 00:03:18.494\nto be able to set up an additional\ndomain underneath the root domain.\n\n70\n00:03:18.494 --> 00:03:21.949\nWe add these trust relationships\nin this byproduct of actually\n\n71\n00:03:21.949 --> 00:03:24.306\nspecifying what we need to have happened.\n\n72\n00:03:24.306 --> 00:03:29.583\nAnd walking through the wizard successful\noutcomes indicate that we have\n\n73\n00:03:29.583 --> 00:03:35.034\ntwo way bidirectional transitive trust\nrelationships created between all\n\n74\n00:03:35.034 --> 00:03:40.330\ndomain namespaces in the domain tree and\nbetween all trees in the forest.\n\n75\n00:03:40.330 --> 00:03:43.519\nNow we don't have another tree,\nthis ITPROTV,\n\n76\n00:03:43.519 --> 00:03:47.208\nthree domain stack\nrepresents a domain tree.\n\n77\n00:03:47.208 --> 00:03:52.750\nThe namespace ITPRO.TV we've made up,\nand just for purposes of conversation,\n\n78\n00:03:52.750 --> 00:03:56.690\nthrown out there that we could have\nanother domain here called it baskets.com,\n\n79\n00:03:56.690 --> 00:04:00.740\nbecause Cherokee likes baskets, so\nwe said it would be baskets.com.\n\n80\n00:04:00.740 --> 00:04:04.848\nAnd so if we added baskets.com just\nhypothetically imagine we had another\n\n81\n00:04:04.848 --> 00:04:07.334\ncouple of triangles labeled baskets.com.\n\n82\n00:04:07.334 --> 00:04:11.629\nAnd maybe pink.baskets.com,\nand summer.baskets.com or\n\n83\n00:04:11.629 --> 00:04:14.224\nwhatever those subdomains would be.\n\n84\n00:04:14.224 --> 00:04:18.918\nOr have another structure very like this\none with the exception of new names that\n\n85\n00:04:18.918 --> 00:04:20.332\nwould be another tree.\n\n86\n00:04:20.332 --> 00:04:23.290\nIf we joined what we\ncall the tree roots or\n\n87\n00:04:23.290 --> 00:04:28.336\nthe top level parent domain of each\nof those trees together with one of\n\n88\n00:04:28.336 --> 00:04:33.840\nthese two-way bidirectional trust\nrelationships that are transitive.\n\n89\n00:04:33.840 --> 00:04:38.300\nSo we would see coming from here let's say\ntwo arrows emanating, out one going to\n\n90\n00:04:38.300 --> 00:04:42.440\nthe right, one coming back from the right\nto the left, heading to the other tree and\n\n91\n00:04:42.440 --> 00:04:46.250\nthen the root domain that we would see\nthe child domains trusting the root.\n\n92\n00:04:46.250 --> 00:04:49.900\nWe would then extend our\ntrust to a secondary tree\n\n93\n00:04:49.900 --> 00:04:54.570\nput a big circle around that entire\norganizational set of structures.\n\n94\n00:04:54.570 --> 00:04:56.560\nWe would call that the forest.\n\n95\n00:04:56.560 --> 00:05:01.370\nAnd the boundary at the outer most\nmarker incorporating both ITPro.TV and\n\n96\n00:05:01.370 --> 00:05:06.728\nour hypothetical secondary domain name\nspace, secondary tree, baskets.com.\n\n97\n00:05:06.728 --> 00:05:11.316\nAdd that all together, put a nice buffer\nor a border around it just to represent it\n\n98\n00:05:11.316 --> 00:05:15.160\nphysically in the diagram,\nand we would have a forest.\n\n99\n00:05:15.160 --> 00:05:20.850\nSo we're gonna talk about this markers and\nthese specifications, the domain,\n\n100\n00:05:20.850 --> 00:05:25.130\nand what does it represent as a boundary,\nand an administrative thought process.\n\n101\n00:05:25.130 --> 00:05:26.670\nWhat does the tree represent?\n\n102\n00:05:26.670 --> 00:05:28.630\nWhat is the nature of\nthose trust relations?\n\n103\n00:05:28.630 --> 00:05:29.913\nBecause I said they're two way,\nand they're transitive.\n\n104\n00:05:29.913 --> 00:05:31.570\nWhat does that really mean?\n\n105\n00:05:31.570 --> 00:05:33.210\nWhy is it important to know that?\n\n106\n00:05:33.210 --> 00:05:37.810\nWhy do we need trust relationships\nbetween and among the tree roots to\n\n107\n00:05:37.810 --> 00:05:41.610\nlink all the namespaces, even though they\nare different together in the forest?\n\n108\n00:05:41.610 --> 00:05:42.740\nTalk about that.\n\n109\n00:05:42.740 --> 00:05:44.706\nHow do we move information back and forth?\n\n110\n00:05:44.706 --> 00:05:46.280\nWe'll talk about that.\n\n111\n00:05:46.280 --> 00:05:49.130\nWe'll talk about the nature of the forest,\nwhy the forest represents\n\n112\n00:05:49.130 --> 00:05:51.980\nthe ultimate boundary and\nwhat we can do beyond the forest.\n\n113\n00:05:51.980 --> 00:05:56.860\nWe can create external trusts,\ncross forest trusts, that link two or\n\n114\n00:05:56.860 --> 00:05:58.760\nmore forest together.\n\n115\n00:05:58.760 --> 00:05:59.890\nExcuse me, together.\n\n116\n00:05:59.890 --> 00:06:04.490\nAnd allow us to be able to then say\nusers and object, computer accounts,\n\n117\n00:06:04.490 --> 00:06:08.690\nwhatever in this forest are going to\nbe able to interact with NC users and\n\n118\n00:06:08.690 --> 00:06:11.340\nobjects, computer accounts\nin another forest and\n\n119\n00:06:11.340 --> 00:06:14.320\ncreate a relationship that allows for\nthe exchange of information.\n\n120\n00:06:14.320 --> 00:06:19.110\nTypically, we see business scenarios that\ninvolve what's known as M&amp;A, merger and\n\n121\n00:06:19.110 --> 00:06:20.830\nacquisition activity.\n\n122\n00:06:20.830 --> 00:06:22.359\nOne company buys another and\n\n123\n00:06:22.359 --> 00:06:26.128\nas a result they have to link\ndisparate forest different namespaces.\n\n124\n00:06:26.128 --> 00:06:30.732\nRemember, the forest boundary first and\nforemost represents the final extent,\n\n125\n00:06:30.732 --> 00:06:33.746\nthe external outer marker\nof the range of our schema.\n\n126\n00:06:33.746 --> 00:06:35.965\nThe schema's linked at the forest level,\n\n127\n00:06:35.965 --> 00:06:39.580\nrepresents all object definitions\nthroughout the forest.\n\n128\n00:06:39.580 --> 00:06:42.910\nSo if we have two separate forests,\nwe have two separate schemas.\n\n129\n00:06:42.910 --> 00:06:44.370\nThose schemas may look almost identical.\n\n130\n00:06:44.370 --> 00:06:47.150\nIndeed, be on the surface identical.\n\n131\n00:06:47.150 --> 00:06:51.935\nWe have the concept of a user object\nin both schemas, defined essentially,\n\n132\n00:06:51.935 --> 00:06:54.944\nout of the box anyway initially,\nthe same way.\n\n133\n00:06:54.944 --> 00:06:59.684\nA user in other words, as a defined object\nof a schema, is the same in every schema\n\n134\n00:06:59.684 --> 00:07:04.501\nthat is created for every installation\nof a Windows-based Active Directory, or\n\n135\n00:07:04.501 --> 00:07:08.550\nActive Directory Domain Service\nanywhere in the world.\n\n136\n00:07:08.550 --> 00:07:11.080\nAll those definitions\nare identical starting out.\n\n137\n00:07:11.080 --> 00:07:15.410\nWhat we do to modify then we then\nobviously change them over time.\n\n138\n00:07:15.410 --> 00:07:18.612\nBut if I took two forests,\nstood them up side by side,\n\n139\n00:07:18.612 --> 00:07:22.740\ndefault installs out of the box,\nno additional modifications, and\n\n140\n00:07:22.740 --> 00:07:26.869\ncompared the definitional criteria\nof what the object called user or\n\n141\n00:07:26.869 --> 00:07:30.812\nthe object called computer, or\nthe object called global group.\n\n142\n00:07:30.812 --> 00:07:34.020\nGenerically in the schema is,\nthey would be identical.\n\n143\n00:07:34.020 --> 00:07:35.000\nLook the same.\n\n144\n00:07:35.000 --> 00:07:36.410\nCuz they are the same.\n\n145\n00:07:36.410 --> 00:07:38.260\nWe just make copies of that blueprint and\n\n146\n00:07:38.260 --> 00:07:40.430\nwe instantiate it at\nthe level of the forest.\n\n147\n00:07:40.430 --> 00:07:41.950\nBut we create a demarcated boundary,\n\n148\n00:07:41.950 --> 00:07:45.620\na border that says at the forest\nlevel all of that stops.\n\n149\n00:07:45.620 --> 00:07:47.130\nYou wanna share information.\n\n150\n00:07:47.130 --> 00:07:51.552\nYou create this external trust between the\ntwo forests that let us say that users in\n\n151\n00:07:51.552 --> 00:07:55.092\none forest can see and\ninteract with users or objects in another.\n\n152\n00:07:55.092 --> 00:07:58.405\nBut we're not using the definitional\ncriteria from one forest\n\n153\n00:07:58.405 --> 00:07:59.978\nto modify users in the other.\n\n154\n00:07:59.978 --> 00:08:03.308\nWe're simply accepting that they\nare who and what they say they are.\n\n155\n00:08:03.308 --> 00:08:06.421\nGiven the fact they can authenticate and\nvalidate their identity,\n\n156\n00:08:06.421 --> 00:08:09.230\nwe're then gonna give them object or\nresource access.\n\n157\n00:08:09.230 --> 00:08:11.980\nSo the forest level becomes\nvery important, as well.\n\n158\n00:08:11.980 --> 00:08:15.062\nSo thinking about the logic of\nthis is what we wanna talk about.\n\n159\n00:08:15.062 --> 00:08:18.997\nAs we get more advanced, peel back\nmore layers of this conversation,\n\n160\n00:08:18.997 --> 00:08:24.060\nprovide more clarity around what these\nstructures are and what they represent.\n\n161\n00:08:24.060 --> 00:08:28.529\nAs we go through, Cherokee, and we talk\nabout the domain, talk about the tree,\n\n162\n00:08:28.529 --> 00:08:30.323\ntalk about the forest, right?\n\n163\n00:08:30.323 --> 00:08:33.588\n[COUGH] From your perspective,\nIT professional that you are,\n\n164\n00:08:33.588 --> 00:08:36.353\ncertainly very knowledgeable\nabout these things,\n\n165\n00:08:36.353 --> 00:08:39.384\nunderstand a lot about\nthe things we're talking about.\n\n166\n00:08:39.384 --> 00:08:41.762\nDo you think it's relatively complicated?\n\n167\n00:08:41.762 --> 00:08:44.870\nIn your mind, just kind of keeping it all\nstraight, do you get confused sometimes?\n\n168\n00:08:44.870 --> 00:08:47.600\nIs it hard to keep track of what\nthe domain is, what it represents?\n\n169\n00:08:47.600 --> 00:08:48.682\nThe tree, the forest.\n\n170\n00:08:48.682 --> 00:08:50.253\nYou think you have\na pretty good handle on?\n\n171\n00:08:50.253 --> 00:08:53.864\n&gt;&gt; I think that these concepts are pretty\neasy to understand, in my opinion.\n\n172\n00:08:53.864 --> 00:08:54.480\n&gt;&gt; Okay, all right.\n\n173\n00:08:54.480 --> 00:08:56.860\nSo let's put that to the test, shall we?\n\n174\n00:08:56.860 --> 00:08:57.520\n&gt;&gt; Okay, sure.\n\n175\n00:08:57.520 --> 00:09:01.270\n&gt;&gt; So let's think about-\n&gt;&gt; Can I add one thing from our last show?\n\n176\n00:09:01.270 --> 00:09:03.384\n&gt;&gt; You chose wisely, more importantly but\nit's already been made.\n\n177\n00:09:03.384 --> 00:09:05.870\n&gt;&gt; It's the groups, the nesting groups.\n\n178\n00:09:05.870 --> 00:09:07.380\n&gt;&gt; We're not gonna talk about that.\n\n179\n00:09:07.380 --> 00:09:08.852\nWe played that out already.\n\n180\n00:09:08.852 --> 00:09:09.630\nCome and gone.\n\n181\n00:09:09.630 --> 00:09:10.794\nWe're not gonna bother with that again.\n\n182\n00:09:10.794 --> 00:09:12.680\nAll right,\nas long as you answer correctly.\n\n183\n00:09:12.680 --> 00:09:14.847\nIf you answer poorly, well,\nthen that may come back.\n\n184\n00:09:14.847 --> 00:09:19.040\nAll right, so the AD DS domain battery,\nstop at domains for a minute, right?\n\n185\n00:09:19.040 --> 00:09:23.368\nSo building block of the thought processor\nand how we manage the initial boundary\n\n186\n00:09:23.368 --> 00:09:26.560\nthat we come up against and\nexist within as objects.\n\n187\n00:09:26.560 --> 00:09:29.170\nSo the domain is a very important\nstructure element of what we think\n\n188\n00:09:29.170 --> 00:09:29.832\nabout, right?\n\n189\n00:09:29.832 --> 00:09:31.432\nThe building blocks of everything we do.\n\n190\n00:09:31.432 --> 00:09:36.114\nSo ITPro.tv, hosts.ITPro.tv,\naudience.ITPro.tv,\n\n191\n00:09:36.114 --> 00:09:38.780\nall three of those are domains.\n\n192\n00:09:38.780 --> 00:09:40.660\nIndividual, right\nalthough they are linked.\n\n193\n00:09:40.660 --> 00:09:44.670\nSo is it fair to say the domain\nis a replication boundary?\n\n194\n00:09:44.670 --> 00:09:50.440\nDo we see some sort of control of,\nperhaps the domain specific information,\n\n195\n00:09:50.440 --> 00:09:54.920\nbeing controlled at the border of\nthe domain as a replication boundary?\n\n196\n00:09:54.920 --> 00:09:55.640\n&gt;&gt; Yes.\n\n197\n00:09:55.640 --> 00:09:56.440\n&gt;&gt; We do, right?\n\n198\n00:09:56.440 --> 00:09:59.450\nSo we can think of the domain,\nfirst and foremost,\n\n199\n00:09:59.450 --> 00:10:03.470\nas being a replication boundary for\ndomain specific information.\n\n200\n00:10:03.470 --> 00:10:04.650\nAnd when I say that, what I mean is,\n\n201\n00:10:04.650 --> 00:10:09.680\nthe Active Directory schema is not this\nmonolithic block that we talk about.\n\n202\n00:10:09.680 --> 00:10:12.880\nIt's actually made up of several\ndifferent distinct partitions.\n\n203\n00:10:12.880 --> 00:10:16.220\nAnd one of them is the domain partition,\nwhich is what Cherokee's thinking of as\n\n204\n00:10:16.220 --> 00:10:19.350\nshe mulls over in her mind, yeah,\nthere is actually this distinction, right?\n\n205\n00:10:19.350 --> 00:10:21.600\nBecause we have domain\nspecific information for\n\n206\n00:10:21.600 --> 00:10:25.943\neach domain objects in one domain\nare different from objects in another in\n\n207\n00:10:25.943 --> 00:10:31.780\nthe sense that I may have a share B user,\nhypothetically, right, in ITPro.TV.\n\n208\n00:10:31.780 --> 00:10:36.919\nI may have an Adam G\nuser in hosts.itpro.tv.\n\n209\n00:10:36.919 --> 00:10:40.519\nAnd although they're both users,\nthey exist in different namespaces,\n\n210\n00:10:40.519 --> 00:10:42.220\ndifferent domain context.\n\n211\n00:10:42.220 --> 00:10:46.560\nAnd they're referenced in the domain\npartition specific to that naming context.\n\n212\n00:10:46.560 --> 00:10:50.710\nAnd we have to have knowledge of them by\nmanaging replication to all the domain\n\n213\n00:10:50.710 --> 00:10:55.180\ncontrollers that make up and\nservice that domain context.\n\n214\n00:10:55.180 --> 00:10:56.920\nThey all have to right?\n\n215\n00:10:56.920 --> 00:10:59.212\nAnd not only that, but\nall the other domains and\n\n216\n00:10:59.212 --> 00:11:03.109\nall the other domain controllers in the\nother domains in the farthest have to have\n\n217\n00:11:03.109 --> 00:11:06.544\nknowledge of it as well because if I\nsearch for user at a farthest level,\n\n218\n00:11:06.544 --> 00:11:09.760\nI should be able to find it if\nI have the appropriate rights.\n\n219\n00:11:09.760 --> 00:11:12.880\nAnd so the global catalog comes into\nplay and the ability to understand and\n\n220\n00:11:12.880 --> 00:11:14.860\nreplicate data comes into play.\n\n221\n00:11:14.860 --> 00:11:18.754\nBut the use of that data to manage users\nis limited to the extent of that domain.\n\n222\n00:11:18.754 --> 00:11:21.475\nSo that domain partition\nbecomes a replication value, so\n\n223\n00:11:21.475 --> 00:11:23.260\nit's important to think about that.\n\n224\n00:11:23.260 --> 00:11:24.300\nSo, ding ding ding.\n\n225\n00:11:24.300 --> 00:11:25.542\nFirst one correct, okay?\n\n226\n00:11:25.542 --> 00:11:27.577\n&gt;&gt; [LAUGH]\n&gt;&gt; Is the domain also can we\n\n227\n00:11:27.577 --> 00:11:29.324\nsay hypothetically?\n\n228\n00:11:29.324 --> 00:11:33.250\nThat it is fair to say it is\nan administrative boundary?\n\n229\n00:11:33.250 --> 00:11:34.000\n&gt;&gt; Yes.\n&gt;&gt; In one form or another,\n\n230\n00:11:34.000 --> 00:11:35.530\ndefinitely an administrative boundary,\nright?\n\n231\n00:11:35.530 --> 00:11:38.352\nWe've talked about the fact that we\ncreated objects within the boundary of\n\n232\n00:11:38.352 --> 00:11:38.852\nthe domain.\n\n233\n00:11:38.852 --> 00:11:40.780\nFor we've been talking about for\nthe last several minutes.\n\n234\n00:11:40.780 --> 00:11:45.820\nSo a domain is an administrative boundary\nas well, for lots and lots of reasons.\n\n235\n00:11:45.820 --> 00:11:48.810\nAnd we've spent six or seven episodes\n\n236\n00:11:48.810 --> 00:11:52.610\nprior to this one talking about that exact\nthing, showing you all the different ways.\n\n237\n00:11:52.610 --> 00:11:55.954\nThat a domain is in deed\nan administrative boundary and\n\n238\n00:11:55.954 --> 00:12:00.534\nall the tools that support that\nPowerShell, the Window's command line,\n\n239\n00:12:00.534 --> 00:12:05.405\nactive directory users and computers,\nAdac, Active Directories domains and\n\n240\n00:12:05.405 --> 00:12:07.604\ntrusts, Active Directory sites.\n\n241\n00:12:07.604 --> 00:12:10.522\nThere are so many different tools\nthat support that concept in one form\n\n242\n00:12:10.522 --> 00:12:11.073\nor another.\n\n243\n00:12:11.073 --> 00:12:15.227\nWe have to think about that Is it fair\nto say that this should be replication\n\n244\n00:12:15.227 --> 00:12:18.520\nboundary, there should be\nan administrative boundary?\n\n245\n00:12:18.520 --> 00:12:20.114\nSo two for two so far.\n\n246\n00:12:20.114 --> 00:12:21.520\nAwesome, good job so far.\n\n247\n00:12:21.520 --> 00:12:22.667\nTwo for two.\n\n248\n00:12:22.667 --> 00:12:24.320\nSo for the win, number three.\n\n249\n00:12:24.320 --> 00:12:25.430\n&gt;&gt; Gosh, no pressure.\n\n250\n00:12:25.430 --> 00:12:26.848\n&gt;&gt; No pressure at all.\n\n251\n00:12:26.848 --> 00:12:29.630\nSo this is a two,\nactually a three parter, right?\n\n252\n00:12:29.630 --> 00:12:32.240\nSo the third part, three parts to this.\n\n253\n00:12:32.240 --> 00:12:34.785\nBut if you get the first one,\nthe other two are really obvious.\n\n254\n00:12:34.785 --> 00:12:37.124\nIf you get the first one,\nyou kinda nail all three.\n\n255\n00:12:37.124 --> 00:12:38.590\nNo pressure though.\n\n256\n00:12:38.590 --> 00:12:41.090\nMegan and\nI have a side bet going by the way.\n\n257\n00:12:41.090 --> 00:12:42.150\nShe said you're gonna do it.\n\n258\n00:12:42.150 --> 00:12:43.330\nI said, no, you're not going to.\n\n259\n00:12:43.330 --> 00:12:43.890\n&gt;&gt; Of course.\n\n260\n00:12:43.890 --> 00:12:45.590\n&gt;&gt; She believes in you so\nwe'll see what happens.\n\n261\n00:12:45.590 --> 00:12:46.200\n&gt;&gt; Thanks Megan.\n\n262\n00:12:46.200 --> 00:12:49.730\n&gt;&gt; All right, so is it fair to also say,\nright, for the domain?\n\n263\n00:12:49.730 --> 00:12:50.920\nAgain, we're talking about the domain now.\n\n264\n00:12:50.920 --> 00:12:55.188\nIs it fair to say that it's a domain\nis also gonna be a boundary\n\n265\n00:12:55.188 --> 00:12:59.475\nthat represents the extent of\napplication of group policy?\n\n266\n00:12:59.475 --> 00:13:00.245\n&gt;&gt; Hold on.\n\n267\n00:13:00.245 --> 00:13:04.560\n[LAUGH] Let me think about this one for\na second.\n\n268\n00:13:05.620 --> 00:13:08.495\nYeah, we apply group policy\nat a domain level or\n\n269\n00:13:08.495 --> 00:13:12.680\nsub-domain components like\norganizational units.\n\n270\n00:13:12.680 --> 00:13:13.680\n&gt;&gt; We do.\n\n271\n00:13:13.680 --> 00:13:18.800\nBut can we apply group policy\nabove the domain level?\n\n272\n00:13:18.800 --> 00:13:21.723\n&gt;&gt; I've never personally had to\ndo that in a work environment so\n\n273\n00:13:21.723 --> 00:13:23.685\nI'm not really sure about that answer.\n\n274\n00:13:23.685 --> 00:13:24.925\nSo I guess I failed.\n\n275\n00:13:24.925 --> 00:13:27.955\n&gt;&gt; No, no, you didn't fail cuz you didn't\ntell me definitively if you think is and\n\n276\n00:13:27.955 --> 00:13:31.465\nI think you were leading towards saying,\nyes it is a group policy boundary and\n\n277\n00:13:31.465 --> 00:13:33.255\nit is and you would be right to say that.\n\n278\n00:13:33.255 --> 00:13:36.265\nBut, and this gets into this\nkind of conversation we're going\n\n279\n00:13:36.265 --> 00:13:37.955\nto extend about group policy as we go.\n\n280\n00:13:37.955 --> 00:13:40.370\nThe group policy actually\nexisted foreign levels\n\n281\n00:13:40.370 --> 00:13:44.570\nwith a local policy that would exist on an\nindividual machine not joined to a domain\n\n282\n00:13:44.570 --> 00:13:48.490\nthat gives you your default desktop,\ndefault environment as you log on.\n\n283\n00:13:48.490 --> 00:13:51.770\nSo even the domain based\nmachine have a local policy but\n\n284\n00:13:51.770 --> 00:13:55.510\nit gets overwritten with all the other\npolicies as we start to authenticate.\n\n285\n00:13:55.510 --> 00:13:57.300\nWe always have a local policy.\n\n286\n00:13:57.300 --> 00:13:59.935\nThen we have the policy above the domain.\n\n287\n00:13:59.935 --> 00:14:02.140\nWe use to years ago,\ncall this a forest level policy,\n\n288\n00:14:02.140 --> 00:14:03.840\nnow we refer to it as a site level policy.\n\n289\n00:14:03.840 --> 00:14:07.330\nSo at the site level,\nwhich is above the domain.\n\n290\n00:14:07.330 --> 00:14:09.662\nThen we have the domain policy,\nas you talked about.\n\n291\n00:14:09.662 --> 00:14:12.056\nThe classic example is our\ndefault domain policy,\n\n292\n00:14:12.056 --> 00:14:14.830\nthat gives us all the security\nsettings for our domain.\n\n293\n00:14:14.830 --> 00:14:17.274\nWe played around that when we looked\nat restricted groups, for instance.\n\n294\n00:14:17.274 --> 00:14:19.180\nOne of our prior conversations.\n\n295\n00:14:19.180 --> 00:14:22.340\nAnd some of the other things we\nlooked up like folder redirection and\n\n296\n00:14:22.340 --> 00:14:25.250\nall the settings and the arrow so\nit should be a few of those as we hint to\n\n297\n00:14:25.250 --> 00:14:27.890\nthe group policy and\nsome other demonstrations.\n\n298\n00:14:27.890 --> 00:14:30.900\nTake look at some of those, you haven't\nseen it, really interesting stuff.\n\n299\n00:14:30.900 --> 00:14:34.050\nAnd then as you pointed out absolutely\ncorrect say we also have the OU\n\n300\n00:14:34.050 --> 00:14:34.833\nlevel, right?\n\n301\n00:14:34.833 --> 00:14:39.199\nWhere we apply policy as a subset in\nthe domain specific to maybe a curved out\n\n302\n00:14:39.199 --> 00:14:43.153\nobject container where we wanna\nmange certain computers or users or\n\n303\n00:14:43.153 --> 00:14:48.170\nboth in a certain way in addition to what\nwe do for everybody at the domain level.\n\n304\n00:14:48.170 --> 00:14:52.740\nWe're not gonna get into specificity\nof inheritance, blocking, overriding,\n\n305\n00:14:52.740 --> 00:14:54.490\nhow policies combine or don't combine.\n\n306\n00:14:54.490 --> 00:14:57.080\nGonna get into all that later,\nwe're not gonna talk about it right now.\n\n307\n00:14:57.080 --> 00:14:59.073\nWe're not gonna deal with it now, but\n\n308\n00:14:59.073 --> 00:15:02.001\njust to say generically that\nthe domain is a boundary for\n\n309\n00:15:02.001 --> 00:15:06.238\nthe application group policy would be\nexactly correct, like you where saying,\n\n310\n00:15:06.238 --> 00:15:09.750\nbecause it is indeed probably\nthe most important boundary we see.\n\n311\n00:15:09.750 --> 00:15:12.453\nBecause that's where we establish\nour security perimeter and\n\n312\n00:15:12.453 --> 00:15:15.370\nthat's where we set up all\nthe settings associated with security.\n\n313\n00:15:15.370 --> 00:15:19.720\nSo three for three part one, we still\ngot two more parts but your doing good.\n\n314\n00:15:19.720 --> 00:15:23.100\nHaving said that, if we agree that\nthe domain is indeed an audit,\n\n315\n00:15:23.100 --> 00:15:28.610\nis indeed it grew policy boundary,\ncan we than also say because of that,\n\n316\n00:15:28.610 --> 00:15:32.080\nthat the domain can also be\nconsidered an auditing boundary?\n\n317\n00:15:32.080 --> 00:15:34.660\nAnd also a password account\npolicy boundary for instance,\n\n318\n00:15:34.660 --> 00:15:36.250\nsub sets of the security sets.\n\n319\n00:15:36.250 --> 00:15:36.900\n&gt;&gt; Most definitely.\n\n320\n00:15:36.900 --> 00:15:37.948\n&gt;&gt; You got the.\n\n321\n00:15:37.948 --> 00:15:39.087\n&gt;&gt; Than those would all make sense.\n\n322\n00:15:39.087 --> 00:15:40.590\n&gt;&gt; All those things just fall into place.\n\n323\n00:15:40.590 --> 00:15:43.772\nSo all these things are going\nto be part of what we think\n\n324\n00:15:43.772 --> 00:15:48.160\nof the domain establishing the zone or\nborder of control to give us because\n\n325\n00:15:48.160 --> 00:15:52.833\nthese are all features and functions and\noutcomes of drawing that triangle and\n\n326\n00:15:52.833 --> 00:15:58.040\nsaying everything inside is subject to\nthis namespace, this management, this way.\n\n327\n00:15:58.040 --> 00:16:02.180\nEverything outside is part of some other\nnamespace managed perhaps the same,\n\n328\n00:16:02.180 --> 00:16:04.259\nperhaps differently but is distinct.\n\n329\n00:16:04.259 --> 00:16:09.351\nAnd therefore, we must understand that it\nis distinct and treat it That way, right?\n\n330\n00:16:09.351 --> 00:16:10.880\nThat's really what we're talking about.\n\n331\n00:16:10.880 --> 00:16:12.878\nNow, you did a great job with that,\nby the way.\n\n332\n00:16:12.878 --> 00:16:13.750\n&gt;&gt; Thanks.\n&gt;&gt; Great job.\n\n333\n00:16:13.750 --> 00:16:17.608\nSo in addition, is it also fair\nto say that the domain would be\n\n334\n00:16:17.608 --> 00:16:21.340\na replication boundary for\nDNS related information?\n\n335\n00:16:21.340 --> 00:16:24.090\nIn other words, name information,\nzone information,\n\n336\n00:16:24.090 --> 00:16:26.870\nis often what we think of\nwhen we talk about DNS?\n\n337\n00:16:26.870 --> 00:16:30.080\nWhat I'm asking, just to be clear for\nall of you, and to help Cherokee give\n\n338\n00:16:30.080 --> 00:16:34.480\nher a second to think about this, are we\nessentially able to say that a DNS zone is\n\n339\n00:16:34.480 --> 00:16:37.710\nthe same as the domain name space,\nwhen we think about a domain?\n\n340\n00:16:37.710 --> 00:16:40.520\nThe zone, we often say, right,\nour forward lookup zone,\n\n341\n00:16:40.520 --> 00:16:42.485\nis essentially the name space, right?\n\n342\n00:16:42.485 --> 00:16:44.760\npracticelabs.com would be our domain.\n\n343\n00:16:44.760 --> 00:16:47.670\nIt would also be our forward\nlookup zone for the domain.\n\n344\n00:16:47.670 --> 00:16:52.620\nAnd so we replicate DNS\ninformation at the DNS zone level.\n\n345\n00:16:52.620 --> 00:16:55.517\nBut it's tied to the idea of\nreplication of the domain information.\n\n346\n00:16:55.517 --> 00:16:56.710\nWe talk about it here.\n\n347\n00:16:56.710 --> 00:16:57.590\n&gt;&gt; In a Windows environment.\n\n348\n00:16:57.590 --> 00:16:59.692\nSo yeah, it's not required, but-\n&gt;&gt; Absolutely.\n\n349\n00:16:59.692 --> 00:17:01.540\n&gt;&gt; This setting then yes.\n\n350\n00:17:01.540 --> 00:17:04.300\n&gt;&gt; Yeah, well specifically in the AD DS\nenvironment for Windows, right?\n\n351\n00:17:04.300 --> 00:17:08.610\nWe're not talking about let's say\nbind based DNS, Linux Unix based DNS\n\n352\n00:17:08.610 --> 00:17:12.860\nthat may or may not operate with all\nthe bells and whistles we see in Windows.\n\n353\n00:17:12.860 --> 00:17:14.490\nThus support basic functionality,\n\n354\n00:17:14.490 --> 00:17:18.140\ncertainly gives us all the things we need,\nbut it may not operate the same way.\n\n355\n00:17:18.140 --> 00:17:21.420\nRight, but no generically,\njust a Windows based thought process.\n\n356\n00:17:21.420 --> 00:17:25.230\nAll domain controllers of the domain,\nif we're using Active Directory integrated\n\n357\n00:17:25.230 --> 00:17:29.970\ndomain, DNS, or Active Directory\nintegrated base DNS, are gonna have copies\n\n358\n00:17:29.970 --> 00:17:34.850\nof that DNS zone file or zone files\nreplicated to them in the domain.\n\n359\n00:17:34.850 --> 00:17:37.662\nThe domain forms the boundary for\nthat replication.\n\n360\n00:17:37.662 --> 00:17:40.531\nAnd that's what we're thinking about as\nopposed to a text file stored locally.\n\n361\n00:17:40.531 --> 00:17:43.770\nBecause we're doing it outside of DNS.\n\n362\n00:17:43.770 --> 00:17:45.580\nSo just some stuff to think about.\n\n363\n00:17:45.580 --> 00:17:50.030\nSo all domain controllers that are DNS\nservers in the domain will replicate that.\n\n364\n00:17:50.030 --> 00:17:53.140\n&gt;&gt; Okay, Adam, so if we're gonna\nbe jumping over those trees,\n\n365\n00:17:53.140 --> 00:17:55.390\nessentially a collection of those domains.\n\n366\n00:17:55.390 --> 00:17:59.871\nWe're jumping over them,\nwhat do we really need to focus on now,\n\n367\n00:17:59.871 --> 00:18:01.914\nwhat do we need to talk about?\n\n368\n00:18:01.914 --> 00:18:05.018\n&gt;&gt; So great, as I was just saying we\nare going to suddenly jump back in,\n\n369\n00:18:05.018 --> 00:18:06.553\njump over the trees for a moment.\n\n370\n00:18:06.553 --> 00:18:09.531\nBecause we are just talking about\nmore than a collection of domains.\n\n371\n00:18:09.531 --> 00:18:13.330\nThat work and or at setup, and structured,\nthe same way we just described.\n\n372\n00:18:13.330 --> 00:18:17.199\nWe are going to the forest level, because\nas we, remember, jump from the domain with\n\n373\n00:18:17.199 --> 00:18:20.183\nthe trust up to the namespace that\nencompasses them all the tree.\n\n374\n00:18:20.183 --> 00:18:23.357\nAnd then perhaps link multiple\ntrees together, create a forest,\n\n375\n00:18:23.357 --> 00:18:25.973\nall we're doing is replicating\nwhat we already have.\n\n376\n00:18:25.973 --> 00:18:30.242\nBut when we go to the forest,\nwe create this additional boundary around\n\n377\n00:18:30.242 --> 00:18:34.437\neverything, up to the level of the extent\nof the reach of the schema and\n\n378\n00:18:34.437 --> 00:18:39.060\nup to the level or extent of the ability\nto administer from the top down with all\n\n379\n00:18:39.060 --> 00:18:42.580\nspecificity of all visibility and\nto any and all domains.\n\n380\n00:18:42.580 --> 00:18:43.780\nWe're thinking of the forest.\n\n381\n00:18:43.780 --> 00:18:47.600\nThat's where we wanna do the same thing\nwhen citrons go through the same logic,\n\n382\n00:18:47.600 --> 00:18:49.220\nthink about the forest level.\n\n383\n00:18:49.220 --> 00:18:54.039\nThe forest level is also like the AD DS\nforest boundary is a security boundary\n\n384\n00:18:54.039 --> 00:18:58.332\nbecause there are no accounts outside\nthe forest that would have any\n\n385\n00:18:58.332 --> 00:19:03.324\nadministrative rights or capabilities\nto come in and create and administer.\n\n386\n00:19:03.324 --> 00:19:06.770\nSo we say that is the outer marker for\nadministrative capabilities.\n\n387\n00:19:06.770 --> 00:19:09.240\nSo it is considered\na security boundary and\n\n388\n00:19:09.240 --> 00:19:12.800\nthe domain is also a security boundary,\na sub-boundary within the forest.\n\n389\n00:19:12.800 --> 00:19:16.143\nBut the forest is the largest\nmost extensive outline of\n\n390\n00:19:16.143 --> 00:19:18.693\nall the security boundaries as a result.\n\n391\n00:19:18.693 --> 00:19:22.546\nIt's also a replication boundary like\nwe suggested for the domain, but\n\n392\n00:19:22.546 --> 00:19:26.335\nit's a replication boundary for\nthe schema partition as opposed to for\n\n393\n00:19:26.335 --> 00:19:28.735\nthe domain partition\nunique to that domain,\n\n394\n00:19:28.735 --> 00:19:32.180\nwe are replicating the schema\npartition at the forest level.\n\n395\n00:19:32.180 --> 00:19:36.576\nThe rules and syntax for\nthe AD DS database, the NTDS.div file.\n\n396\n00:19:36.576 --> 00:19:41.141\nThis is replicated out to all domain\ncontrollers in the AD DS structure and\n\n397\n00:19:41.141 --> 00:19:42.640\nacross the forest.\n\n398\n00:19:42.640 --> 00:19:44.080\nSo we control and\n\n399\n00:19:44.080 --> 00:19:49.400\nmanage that replication at the forest\nlevel pushing down the definition, and\n\n400\n00:19:49.400 --> 00:19:53.270\nthe schema, to standardize it across all\nthe domain controllers, in all domains.\n\n401\n00:19:53.270 --> 00:19:56.510\nThe domain partition is\ninformation replicated only in and\n\n402\n00:19:56.510 --> 00:19:59.440\namong the domain controllers\nof a specific domain.\n\n403\n00:19:59.440 --> 00:20:02.592\nAnd so as a result we see a difference\nthere, with different boundaries.\n\n404\n00:20:02.592 --> 00:20:05.790\nIt's also a replication boundary for\nthe configuration partition.\n\n405\n00:20:05.790 --> 00:20:10.060\nI mentioned we have different partitions\nthat make up the thought process of\n\n406\n00:20:10.060 --> 00:20:13.330\nthe overarching thing we just\ncalled the schema generically,\n\n407\n00:20:13.330 --> 00:20:15.260\nthe domain partitions plural.\n\n408\n00:20:15.260 --> 00:20:19.320\nThe schema partition, one,\nthe configuration partition.\n\n409\n00:20:19.320 --> 00:20:22.540\nThis contains details about\nthe AD DS domain layout,\n\n410\n00:20:22.540 --> 00:20:25.280\nthings like the domains themselves,\nall the domain names.\n\n411\n00:20:25.280 --> 00:20:28.064\nThe domain controllers,\nhow many there are, what they're named,\n\n412\n00:20:28.064 --> 00:20:29.400\nwhere they are by domain.\n\n413\n00:20:29.400 --> 00:20:33.369\nOur replication partners,\nwhat's the replication topology look like?\n\n414\n00:20:33.369 --> 00:20:35.777\nThe sites, the number of sites,\ntheir names,\n\n415\n00:20:35.777 --> 00:20:38.560\nthe subnet information\nassociated with sites.\n\n416\n00:20:38.560 --> 00:20:44.080\nAll of that as well as DHCP authorization\nwhen we authorize DHCP servers.\n\n417\n00:20:44.080 --> 00:20:47.260\nOur DAC Dynamic Access Control\nconfiguration.\n\n418\n00:20:47.260 --> 00:20:50.578\nAnd in all of that it contains\nconfiguration quotation and\n\n419\n00:20:50.578 --> 00:20:53.092\nagain has to be replicated and\npushed down.\n\n420\n00:20:53.092 --> 00:20:57.758\nThis is gonna have information about the\nAD DS database itself, replicated to all\n\n421\n00:20:57.758 --> 00:21:01.830\ndomain controllers in the forest,\njust like the schema partition is.\n\n422\n00:21:01.830 --> 00:21:04.500\nSo at the forest level,\nwe're creating copies of stuff and\n\n423\n00:21:04.500 --> 00:21:06.450\nreplicating to every member.\n\n424\n00:21:06.450 --> 00:21:10.280\nMembers, in this case, the important ones\nbeing the domain controllers that control\n\n425\n00:21:10.280 --> 00:21:12.310\nindividual aspects of this.\n\n426\n00:21:12.310 --> 00:21:14.950\nWe're replicating this\ninformation down to one or\n\n427\n00:21:14.950 --> 00:21:17.560\nmore domain controllers\nby domain partition.\n\n428\n00:21:17.560 --> 00:21:18.470\nBy name space.\n\n429\n00:21:18.470 --> 00:21:20.280\nEverybody gets a copy.\n\n430\n00:21:20.280 --> 00:21:21.190\nSo we're doing that.\n\n431\n00:21:21.190 --> 00:21:21.890\nVery important.\n\n432\n00:21:22.900 --> 00:21:26.530\nEver go to one of those parties where\nthey give everybody the same exact gift?\n\n433\n00:21:26.530 --> 00:21:27.538\n&gt;&gt; No.\n&gt;&gt; You get that gift?\n\n434\n00:21:27.538 --> 00:21:28.802\n&gt;&gt; Like a swag bag?\n\n435\n00:21:28.802 --> 00:21:31.184\n&gt;&gt; Yeah, but it's identical for everybody.\n\n436\n00:21:31.184 --> 00:21:31.951\nSame concept.\n\n437\n00:21:31.951 --> 00:21:33.686\n&gt;&gt; Yeah.\n&gt;&gt; So everybody gets the partition.\n\n438\n00:21:33.686 --> 00:21:35.576\nEverybody gets the information\nat the forest level,\n\n439\n00:21:35.576 --> 00:21:36.970\nbecause that's what you need.\n\n440\n00:21:36.970 --> 00:21:40.463\nIf you're a domain controller in domain x\nyou gotta know about how the structure of\n\n441\n00:21:40.463 --> 00:21:41.283\nthe schema works.\n\n442\n00:21:41.283 --> 00:21:44.127\nYou gotta know the configuration\ninformation to know where to find\n\n443\n00:21:44.127 --> 00:21:48.000\nother domain controllers, how to replicate\nwith other domains what the sites are.\n\n444\n00:21:48.000 --> 00:21:50.510\nAll that stuff comes down as\nwell as the schema itself.\n\n445\n00:21:50.510 --> 00:21:51.473\nAll of that is part of it.\n\n446\n00:21:51.473 --> 00:21:55.450\nSo we do have that we also replication\nboundary for the global catalog.\n\n447\n00:21:55.450 --> 00:21:57.620\nGlobal catalog functionality, remember?\n\n448\n00:21:57.620 --> 00:22:00.470\nRead only lists that we\ntalked about that contains\n\n449\n00:22:00.470 --> 00:22:03.450\na list of every object in\nthe entire AD DS forest.\n\n450\n00:22:03.450 --> 00:22:06.280\nBut a subset of properties\nassociated with those objects.\n\n451\n00:22:06.280 --> 00:22:09.370\nNot the whole thing, that would\nbe a massive would be essentially\n\n452\n00:22:09.370 --> 00:22:11.370\nthe size of the full schema file.\n\n453\n00:22:11.370 --> 00:22:13.643\nNo reason to duplicate that\ncuz we already have that.\n\n454\n00:22:13.643 --> 00:22:18.280\nBut rather we contain only certain\nattributes, the most commonly used ones.\n\n455\n00:22:18.280 --> 00:22:20.960\nUser name, email address.\n\n456\n00:22:20.960 --> 00:22:23.290\nThings like that that are gonna\nbe used all the time.\n\n457\n00:22:23.290 --> 00:22:24.320\nThose are there.\n\n458\n00:22:24.320 --> 00:22:28.279\nThis gets replicated, as you know, we've\ntalked about this before, to all domain\n\n459\n00:22:28.279 --> 00:22:32.203\ncontrollers if they are specified and\ncertified setup as global catalog servers.\n\n460\n00:22:32.203 --> 00:22:35.715\nAnd remember the best practice\nrecommendation is we should create domain\n\n461\n00:22:35.715 --> 00:22:38.360\ncontrollers that are global\ncatalog servers.\n\n462\n00:22:38.360 --> 00:22:42.652\nYou've seen, through the hands on\ndiscussions and walkthroughs we've done,\n\n463\n00:22:42.652 --> 00:22:46.260\nthat global catalog server\nspecification is the default setting.\n\n464\n00:22:46.260 --> 00:22:49.722\nSo when we set up a domain controller, you\nhave to go out of your way not to have it\n\n465\n00:22:49.722 --> 00:22:52.770\nbe a global catalog server,\nalthough it is possible to do that.\n\n466\n00:22:52.770 --> 00:22:55.680\nWe've talked about how to change\nthat status, after the fact.\n\n467\n00:22:55.680 --> 00:22:58.920\nBy going to the sites and\nservices tool to the NTDS settings for\n\n468\n00:22:58.920 --> 00:23:01.580\nthe server in question,\nthe domain controller in question.\n\n469\n00:23:01.580 --> 00:23:04.278\nGo into the general tab and\nde-selecting the box,\n\n470\n00:23:04.278 --> 00:23:06.960\nremoving that copy of the global catalog.\n\n471\n00:23:06.960 --> 00:23:10.310\nSo it's a replication boundary the forest\nis for the global catalog information.\n\n472\n00:23:10.310 --> 00:23:14.330\nAlso replication boundary for\nthe DNS information at the forest level,\n\n473\n00:23:14.330 --> 00:23:16.300\nwe have domain specific,\n\n474\n00:23:16.300 --> 00:23:20.195\nzone specific information that we talked\nabout at the domain level, we also have\n\n475\n00:23:20.195 --> 00:23:24.640\nforest-wide DNS information that has\nto be replicated across the forest.\n\n476\n00:23:24.640 --> 00:23:29.410\nThe forest DNS zone partition is this\nparticular partition replicate to every\n\n477\n00:23:29.410 --> 00:23:33.400\ndomain controller in all of the domains\nbecause this is where we're gonna have\n\n478\n00:23:33.400 --> 00:23:38.490\ninformation for forest wide base DNS name\nresolution to find global catalog servers,\n\n479\n00:23:38.490 --> 00:23:39.620\nto find other things.\n\n480\n00:23:39.620 --> 00:23:43.150\nAll of that is gonna be part of\nthat forest and zone partition.\n\n481\n00:23:43.150 --> 00:23:46.000\nSo we need to make sure that\nwe have all of that available.\n\n482\n00:23:46.000 --> 00:23:50.452\nAnd that we distinguish and differentiate\nbetween the domain as boundary and\n\n483\n00:23:50.452 --> 00:23:54.572\nthe attributes and the thought\nprocesses associated with that means.\n\n484\n00:23:54.572 --> 00:23:58.261\nAnd the forest as a boundary and what that\nmeans because we have to understand what\n\n485\n00:23:58.261 --> 00:24:01.300\nactivities take place and\nunderstand what kind of replication and\n\n486\n00:24:01.300 --> 00:24:03.930\nwhat kind of information\nis being moved around.\n\n487\n00:24:03.930 --> 00:24:08.330\nThese conversations are gonna form the\nbasis of your ability to be successful of\n\n488\n00:24:08.330 --> 00:24:12.120\nthis section of exam objectives because\nit's gonna help you to understand\n\n489\n00:24:12.120 --> 00:24:14.540\nthe level of information\nthat is being replicated.\n\n490\n00:24:14.540 --> 00:24:18.270\nIs it a forest level item or is it\na domain-specific item replicated only to\n\n491\n00:24:18.270 --> 00:24:22.431\nmembers of the domain or replicated,\nin other words, to all domain controllers?\n\n492\n00:24:22.431 --> 00:24:25.015\nGlobal catalog replicated to\nall the main controllers.\n\n493\n00:24:25.015 --> 00:24:28.060\nDomain-specific information\nabout unique objects\n\n494\n00:24:28.060 --> 00:24:30.460\nreplicated among the domain\ncontrollers from within that domain.\n\n495\n00:24:30.460 --> 00:24:31.890\nSo you wanna make sure\nyou're aware of that and\n\n496\n00:24:31.890 --> 00:24:34.520\nunderstand the difference between them,\nvery important.\n\n497\n00:24:34.520 --> 00:24:38.570\nGroup policy, for instance, applied at the\ndomain level as a boundary and a border.\n\n498\n00:24:38.570 --> 00:24:43.160\nPolicies in one domain do not affect and\nwe do not acknowledge of in other domains.\n\n499\n00:24:43.160 --> 00:24:47.086\nIf I create a policy called Policy 123,\nin Domain ABC,\n\n500\n00:24:47.086 --> 00:24:51.016\nthen that policy existed as\napplied is only referred to and\n\n501\n00:24:51.016 --> 00:24:54.647\nis important to know about\nif you're in that domain.\n\n502\n00:24:54.647 --> 00:24:57.052\nIf you're in another domain that\npolicy has no effect on you,\n\n503\n00:24:57.052 --> 00:25:00.690\nyou don't have any knowledge of it because\nit doesn't cross the domain boundary.\n\n504\n00:25:00.690 --> 00:25:05.210\nSo it will be very important for you to be\naware of that, and have a sense of that.\n\n505\n00:25:05.210 --> 00:25:06.710\n&gt;&gt; All right, is that it Adam?\n\n506\n00:25:07.710 --> 00:25:10.470\n&gt;&gt; I could come up with more stuff but\nI think that Mr.\n\n507\n00:25:10.470 --> 00:25:12.713\nClock says that's a good place to stop.\n\n508\n00:25:12.713 --> 00:25:15.683\n&gt;&gt; I think that's good to think about for\nnow, okay we can handle that.\n\n509\n00:25:15.683 --> 00:25:18.170\n&gt;&gt; And\nthen maybe make another episode or two.\n\n510\n00:25:18.170 --> 00:25:22.470\n&gt;&gt; All right sounds like a plan, all right\nso ladies and gentlemen you heard it.\n\n511\n00:25:22.470 --> 00:25:25.610\nWe're gonna come back here with\na part two so stay tuned for that.\n\n512\n00:25:25.610 --> 00:25:28.580\nBut we are out of time for this show so\nwe'll go ahead and sign out.\n\n513\n00:25:28.580 --> 00:25:30.120\nI've been your host Cherokee Boose.\n\n514\n00:25:30.120 --> 00:25:30.790\n&gt;&gt; I'm Adam Gordon.\n\n515\n00:25:30.790 --> 00:25:34.359\n&gt;&gt; See you next time here at ITProTV.\n\n516\n00:25:34.359 --> 00:25:40.414\n[MUSIC]\n\n517\n00:25:40.414 --> 00:25:43.704\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229564610"
        },
        {
          "description": "In this episode, Cherokee and Adam continue discussing advanced AD DS management concepts. They begin by explaining when it may be optimal to create mutli-domain environments compared to multi-forest designs. Adam also explains considerations to note if utilizing AD DS in Azure.",
          "length": "1689",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-2-advanced_ad_ds_infrastructure_management_pt2-081017-PGM.00_27_53_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-2-advanced_ad_ds_infrastructure_management_pt2-081017-PGM.00_27_53_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-2-advanced_ad_ds_infrastructure_management_pt2-081017-PGM.00_27_53_10.Still001-sm.jpg",
          "title": "Advanced AD DS Infrastructure Mgmt Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:03.142\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.142 --> 00:00:06.471\n[CROSSTALK]\n\n3\n00:00:06.471 --> 00:00:08.172\n[MUSIC]\n\n4\n00:00:08.172 --> 00:00:11.965\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.965 --> 00:00:15.319\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n6\n00:00:15.319 --> 00:00:17.650\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.650 --> 00:00:18.520\nIn this episode,\n\n8\n00:00:18.520 --> 00:00:23.690\nwe'll continue taking a look at advanced\nADDS infrastructure management techniques.\n\n9\n00:00:23.690 --> 00:00:25.710\nBack with us today,\nwe have Mr. Adam Gordon.\n\n10\n00:00:25.710 --> 00:00:26.870\nHow's it going today, Adam?\n\n11\n00:00:26.870 --> 00:00:28.210\n&gt;&gt; It is going well.\n\n12\n00:00:28.210 --> 00:00:31.780\nWe are gonna continue our conversations\nin the advanced frame of mind.\n\n13\n00:00:31.780 --> 00:00:32.990\nHopefully, you're in that frame of mind.\n\n14\n00:00:32.990 --> 00:00:35.020\nIf you're not, hey, go back and\nwatch a prior episode,\n\n15\n00:00:35.020 --> 00:00:36.270\nwe'll put you in that frame of mind.\n\n16\n00:00:36.270 --> 00:00:39.305\nTalked all about it, and we're gonna play\npart two of domain jeopardy here with\n\n17\n00:00:39.305 --> 00:00:40.356\nCherokee in just a minute.\n\n18\n00:00:40.356 --> 00:00:40.940\n&gt;&gt; Woo-hoo [LAUGH].\n\n19\n00:00:40.940 --> 00:00:44.190\n&gt;&gt; And let her answer some more\nquestions about why we do this.\n\n20\n00:00:44.190 --> 00:00:47.090\nAll right, so we've been talking\nin a prior episode about\n\n21\n00:00:47.090 --> 00:00:49.150\nthe generic information we have to have,\n\n22\n00:00:49.150 --> 00:00:52.530\nkinda have at the top of our mind\nhere as we begin this journey.\n\n23\n00:00:52.530 --> 00:00:56.530\nThinking about the differentiator between\nwhat the domain as a boundary equals,\n\n24\n00:00:56.530 --> 00:00:58.800\nwhat the forest as a boundary equals.\n\n25\n00:00:58.800 --> 00:01:02.984\nSecurity, administration, policy\napplication, information management,\n\n26\n00:01:02.984 --> 00:01:05.943\nconfiguration, information management,\nsecurity.\n\n27\n00:01:05.943 --> 00:01:09.280\nI think I mentioned that already,\nthe schema, right?\n\n28\n00:01:09.280 --> 00:01:12.790\nSo all of these are aspects that play\nout at one or both of these levels.\n\n29\n00:01:12.790 --> 00:01:17.930\nWe're gonna take that and move over to\npart two of this conversation which is,\n\n30\n00:01:17.930 --> 00:01:21.340\nhey that's all great but\nwhy can't we just do this with one domain?\n\n31\n00:01:21.340 --> 00:01:22.770\nIn one tree, in one forest.\n\n32\n00:01:22.770 --> 00:01:24.850\nSo why do we need multiple domains?\n\n33\n00:01:24.850 --> 00:01:27.670\nWhy, potentially, maybe we want to\nhave more than one forest, by the way.\n\n34\n00:01:27.670 --> 00:01:30.840\nAs well, and but certainly why\ndo we need more than one domain?\n\n35\n00:01:30.840 --> 00:01:34.310\nDo we need more than one domain, can\nwe just do everything we need with one?\n\n36\n00:01:34.310 --> 00:01:37.710\nThe answer is, it depends,\nlike all good answers, right?\n\n37\n00:01:37.710 --> 00:01:39.640\nYou may want to get by with one domain,\nand\n\n38\n00:01:39.640 --> 00:01:43.970\nthere are compelling business reasons and\nscenarios that would allow you to do this.\n\n39\n00:01:43.970 --> 00:01:46.830\nBut there are also equally\ncompelling business reasons and\n\n40\n00:01:46.830 --> 00:01:49.030\nscenarios that will push\nyou towards the sites.\n\n41\n00:01:49.030 --> 00:01:51.390\nYou might wanna have more than one domain.\n\n42\n00:01:51.390 --> 00:01:54.550\nAnd by broadening that out\ninto a force certainty\n\n43\n00:01:54.550 --> 00:01:56.450\nthat has multiple domain is great.\n\n44\n00:01:56.450 --> 00:02:00.359\nBut you may even have some business\nreasons that drive you to have multiple\n\n45\n00:02:00.359 --> 00:02:02.387\nforce within the same organization.\n\n46\n00:02:02.387 --> 00:02:04.590\nWith the same enterprise or\nbusiness in other words.\n\n47\n00:02:04.590 --> 00:02:06.970\nWill talk about some of\nthose reasons maybe as well.\n\n48\n00:02:06.970 --> 00:02:10.360\nSo what are some of the drivers for\nmultiple domain architecture?\n\n49\n00:02:10.360 --> 00:02:11.500\nLet's think about the logic of this?\n\n50\n00:02:11.500 --> 00:02:15.257\nSo Cherokee, if I said to you,\nhey we've got two choices, right.\n\n51\n00:02:15.257 --> 00:02:20.190\nOur customers come to us and say we need\nto build out the domain infrastructure.\n\n52\n00:02:20.190 --> 00:02:23.450\nSo that ABC Corp, let's just say that's\nour company that we're going to be\n\n53\n00:02:23.450 --> 00:02:28.120\ndoing work for, ABC Corp needs\nto have a domain infrastructure.\n\n54\n00:02:28.120 --> 00:02:30.270\nIt's gonna meet\nthe following requirements.\n\n55\n00:02:30.270 --> 00:02:34.690\nSo this is often the type of scenario that\nis painted for you on an exam, right.\n\n56\n00:02:34.690 --> 00:02:37.667\nYou're the IT administrator,\nor the Windows admin, or\n\n57\n00:02:37.667 --> 00:02:40.466\nthe consultant that's gonna work for\nthis company.\n\n58\n00:02:40.466 --> 00:02:43.180\nThey've said they have these requirements,\nwhat are you gonna do?\n\n59\n00:02:43.180 --> 00:02:45.860\nAnd that's kind of what I just want\nto give you a sense of as we do this.\n\n60\n00:02:45.860 --> 00:02:47.529\nSo you have to come to us and say hey,\n\n61\n00:02:48.570 --> 00:02:53.830\nwe've got a need to be\nable to administer users.\n\n62\n00:02:53.830 --> 00:02:59.960\nApply group policies for those users and\ncomputer objects within our organization.\n\n63\n00:02:59.960 --> 00:03:04.210\nWe have different business units\nthat will like to maintain and\n\n64\n00:03:04.210 --> 00:03:06.189\nmanage their own infrastructure.\n\n65\n00:03:07.230 --> 00:03:11.799\nAnd or sometimes not just business\nunits but we have different lines of\n\n66\n00:03:11.799 --> 00:03:15.100\nbusiness for different-\n&gt;&gt; Products even, or?\n\n67\n00:03:15.100 --> 00:03:19.790\n&gt;&gt; Or different companies\nwithin the organization.\n\n68\n00:03:19.790 --> 00:03:21.970\n&gt;&gt; Okay.\n&gt;&gt; By region or by geography.\n\n69\n00:03:21.970 --> 00:03:26.787\nThat would like to have control\nover their own infrastructure.\n\n70\n00:03:26.787 --> 00:03:27.427\n&gt;&gt; Okay.\n&gt;&gt; And so\n\n71\n00:03:27.427 --> 00:03:29.758\nwhen you hear those kinds of requirements,\n\n72\n00:03:29.758 --> 00:03:34.415\nI gave you specifically some that could\neasily be lumped together in one domain.\n\n73\n00:03:34.415 --> 00:03:37.275\nBut I gave you some that really\npushed you towards thinking, wow,\n\n74\n00:03:37.275 --> 00:03:38.745\nI might need multiple domains.\n\n75\n00:03:38.745 --> 00:03:39.385\n&gt;&gt; Right.\n\n76\n00:03:39.385 --> 00:03:41.569\n&gt;&gt; You'd have to think about\nhow to differentiate and\n\n77\n00:03:41.569 --> 00:03:43.616\nread through those to\nreally understand them.\n\n78\n00:03:43.616 --> 00:03:44.512\nThe key driver for\n\n79\n00:03:44.512 --> 00:03:48.758\nmulti-domains in that conversation was\nthe fact that multiple business units, or\n\n80\n00:03:48.758 --> 00:03:52.245\ndifferent business units, or\ngeographies, or lines of business.\n\n81\n00:03:52.245 --> 00:03:54.125\nWhatever we agreed we would call them,\n\n82\n00:03:54.125 --> 00:03:56.810\nwould lie control over\ntheir own infrastructure.\n\n83\n00:03:56.810 --> 00:04:00.900\nThat's one of the key drivers for\nus traditionally as we hear that.\n\n84\n00:04:00.900 --> 00:04:04.080\nTo think about deciding that we may\nhave to set up separate domains\n\n85\n00:04:04.080 --> 00:04:05.940\nto give them the ability to do that.\n\n86\n00:04:05.940 --> 00:04:10.140\nSo, you would have like, ITPro.TV,\nthen you would have audience.\n\n87\n00:04:10.140 --> 00:04:14.507\nYou would have hosts, you would\nhave sales, you would have support,\n\n88\n00:04:14.507 --> 00:04:16.150\nall of them .ITPro.TV.\n\n89\n00:04:16.150 --> 00:04:19.880\nEach domain, or\neach child domain to sub-domain.\n\n90\n00:04:19.880 --> 00:04:24.780\nIts own administrative boundary\ngiving the IT admin functionality or\n\n91\n00:04:24.780 --> 00:04:27.520\nthe oversight functionality,\nsupport functionality.\n\n92\n00:04:27.520 --> 00:04:30.240\nThe ability to control the resources and\n\n93\n00:04:30.240 --> 00:04:33.360\nthe policy driven administration\nin that subdomain.\n\n94\n00:04:33.360 --> 00:04:38.310\nBut still being a member of the ITPro.TV\ndomain overall in terms of the tree.\n\n95\n00:04:38.310 --> 00:04:41.280\nThat would be one of the key things\nyou'd have to think about when you hear\n\n96\n00:04:41.280 --> 00:04:42.660\na scenario like that, right?\n\n97\n00:04:42.660 --> 00:04:44.240\nYou often see those or hear about those.\n\n98\n00:04:44.240 --> 00:04:47.500\nSo the domain replication requirements\nwould be something to consider.\n\n99\n00:04:47.500 --> 00:04:49.870\nDo we have good bandwidth?\n\n100\n00:04:49.870 --> 00:04:53.470\nWe have high-speed reliable bandwidth\nout to these outlying regions?\n\n101\n00:04:53.470 --> 00:04:55.070\nOr do we have to set up\ndifferent domains so\n\n102\n00:04:55.070 --> 00:04:59.690\nwe can manage replication locally\non good high speed reliable LANs.\n\n103\n00:04:59.690 --> 00:05:02.620\nNot to worry about the WAN connectivity,\ncuz maybe the WAN connectivity is.\n\n104\n00:05:02.620 --> 00:05:06.480\nYou know marginal or very expensive and\nperhaps, you know we're paying for\n\n105\n00:05:06.480 --> 00:05:08.000\nsatellite time or whatever.\n\n106\n00:05:08.000 --> 00:05:10.910\nIt's just not tenable to do that,\nits not realistic.\n\n107\n00:05:10.910 --> 00:05:12.240\nBut within the country,\n\n108\n00:05:12.240 --> 00:05:15.520\nwithin that region we have a good high\nspeed reliable connectivity locally.\n\n109\n00:05:15.520 --> 00:05:17.730\nSo we wanna think about leveraging that.\n\n110\n00:05:17.730 --> 00:05:22.600\nA DNS namespace requirements, another\ndriver for multidomain site architecture.\n\n111\n00:05:22.600 --> 00:05:27.249\nWe just talked about that where we\nsaid something like suport.ITPRoTVhost\n\n112\n00:05:27.249 --> 00:05:32.270\n.audience., all these different namespaces\nthat we may want to have and use.\n\n113\n00:05:32.270 --> 00:05:35.960\nDistributed administration requirements,\nwe spoke about that one as well.\n\n114\n00:05:35.960 --> 00:05:38.910\nNow I did make reference to\nthe fact that we could set up\n\n115\n00:05:38.910 --> 00:05:41.800\nseparate domains to give people\nthe right to administer there.\n\n116\n00:05:41.800 --> 00:05:44.270\nAnd that would be on way\nof interpreting that.\n\n117\n00:05:44.270 --> 00:05:46.500\nWe could also have one domain,\n\n118\n00:05:46.500 --> 00:05:49.319\nthis is the competitive thought\nprocess which we often see a lot.\n\n119\n00:05:50.810 --> 00:05:52.770\nOne domain, and please join me here for\n\n120\n00:05:52.770 --> 00:05:55.580\njust a moment on the picture\nwhile we talk about this.\n\n121\n00:05:55.580 --> 00:05:57.110\nI could go two ways here, right?\n\n122\n00:05:57.110 --> 00:06:00.370\nAnd you gotta think about the logic\nof this before you make a decision.\n\n123\n00:06:00.370 --> 00:06:04.830\nI could create three separate domains\nto speak to this issue of giving\n\n124\n00:06:04.830 --> 00:06:07.870\nthe people that are managing\nthe infrastructure for hosts.\n\n125\n00:06:07.870 --> 00:06:12.300\nAnd for Audience, and for the root,\nall their own space where they can apply\n\n126\n00:06:12.300 --> 00:06:16.470\ntheir administrative thought process and\ncontrol at the domain level.\n\n127\n00:06:16.470 --> 00:06:20.710\nBut is there a model that allows me\nto keep one domain only, ITPRO.tv?\n\n128\n00:06:20.710 --> 00:06:24.950\nAnd bring down that administrative\nburden to the OU level?\n\n129\n00:06:24.950 --> 00:06:27.040\nInstead of having three domains,\n\n130\n00:06:27.040 --> 00:06:30.540\ncould I have one domain with OUs\nthat represent the other domains.\n\n131\n00:06:30.540 --> 00:06:33.450\nAnd delegate authority to manage\nat the OU level, in other words,\n\n132\n00:06:33.450 --> 00:06:34.880\ninstead of at the domain level?\n\n133\n00:06:34.880 --> 00:06:36.200\nThe answer is, of course, I can.\n\n134\n00:06:36.200 --> 00:06:37.530\n&gt;&gt; You showed us that.\n\n135\n00:06:37.530 --> 00:06:40.561\n&gt;&gt; Well, I did, we talked about\nfact you would apply policies,\n\n136\n00:06:40.561 --> 00:06:42.149\ngroup policies at the OU level.\n\n137\n00:06:42.149 --> 00:06:43.257\nYou brought that up and\n\n138\n00:06:43.257 --> 00:06:47.490\nyou correctly identified the fact that\nis one of the areas, that we do this in.\n\n139\n00:06:47.490 --> 00:06:50.210\nAnd so we could, and\nwe often see in the real world,\n\n140\n00:06:50.210 --> 00:06:53.470\nadministratively, that\ncorporations may go this way.\n\n141\n00:06:53.470 --> 00:06:55.930\nBut they may also say you know\nwhat just keep the root domain.\n\n142\n00:06:55.930 --> 00:07:00.240\nAnd let's create OUs and\ndelegate through the OU\n\n143\n00:07:00.240 --> 00:07:04.900\nthe right to administer the resources\nthrough policy based adminstration.\n\n144\n00:07:04.900 --> 00:07:07.840\nAnd delegation of control,\nbut we want it done through\n\n145\n00:07:07.840 --> 00:07:11.340\none domain with multiple OUs We\ncan do it that way as well.\n\n146\n00:07:11.340 --> 00:07:15.320\nSo it really just depends on what\nwe're thinking of and what makes\n\n147\n00:07:15.320 --> 00:07:20.140\nthe most sense for us is not necessarily\nthe obvious answer at the time.\n\n148\n00:07:20.140 --> 00:07:23.040\nYeah, let's have multiple domains\nthat maybe the right answer.\n\n149\n00:07:23.040 --> 00:07:26.150\nBut maybe there is another piece of\nthe puzzle that we didn't speak about in\n\n150\n00:07:26.150 --> 00:07:29.860\nthe just a quick run through them would\npush us to say no, single domain.\n\n151\n00:07:29.860 --> 00:07:31.590\nSo, maybe I threw in another requirement.\n\n152\n00:07:32.790 --> 00:07:37.460\nA regulatory or statutory requirement or\naudibility requirement that says we have\n\n153\n00:07:37.460 --> 00:07:41.730\nto minimize, the depth of our domain\narchitecture, if at all possible.\n\n154\n00:07:41.730 --> 00:07:45.373\nTo keep it simple, straightforward and\nas a result, allow for\n\n155\n00:07:45.373 --> 00:07:49.996\nclearer visibility or audibility about\nadministration and who is doing what.\n\n156\n00:07:49.996 --> 00:07:54.372\nThat could be something that's interpreted\nas pushing towards a single domain model.\n\n157\n00:07:54.372 --> 00:07:57.062\nWhere we can audit everything\nat the single domain and\n\n158\n00:07:57.062 --> 00:07:58.749\ntherefore through the OU level.\n\n159\n00:07:58.749 --> 00:08:03.503\nInstead of creating that multilayer\nhierarchy in the tree where it would be\n\n160\n00:08:03.503 --> 00:08:06.226\nharder to keep track of who's doing what.\n\n161\n00:08:06.226 --> 00:08:08.350\nCuz now I have to check three\ndomains to get logs and\n\n162\n00:08:08.350 --> 00:08:11.330\nfigure everything out where I\ncould have everything in one.\n\n163\n00:08:11.330 --> 00:08:15.644\nSo, reading that set of requirements may\npush us to think maybe not multidomain,\n\n164\n00:08:15.644 --> 00:08:16.839\nmaybe single domain.\n\n165\n00:08:16.839 --> 00:08:19.855\nSo you have to be thinking about that and\ninterpret that either way.\n\n166\n00:08:19.855 --> 00:08:21.271\nLet's just be aware of that.\n\n167\n00:08:21.271 --> 00:08:25.240\nWe may have administrative group\nsecurity requirements that either pushes\n\n168\n00:08:25.240 --> 00:08:28.038\nto have multiple domains,\nagain as we talked about.\n\n169\n00:08:28.038 --> 00:08:30.478\nThe ability to control that boundary,\ndeployments,\n\n170\n00:08:30.478 --> 00:08:33.650\npolicy-based management as we said,\nthings of that nature.\n\n171\n00:08:33.650 --> 00:08:36.031\nResource domain requirements,\nas I suggested.\n\n172\n00:08:36.031 --> 00:08:39.748\nWe may see each individual domain\nbeing aligned with a regional or\n\n173\n00:08:39.748 --> 00:08:42.970\nlocal office, a branch office,\na line of business.\n\n174\n00:08:42.970 --> 00:08:44.318\nI've seen it done differently.\n\n175\n00:08:44.318 --> 00:08:46.902\nWe have the data domain.\n\n176\n00:08:46.902 --> 00:08:49.460\nWe have the email domain.\n\n177\n00:08:49.460 --> 00:08:52.451\nWe have the web domain within ITProTV,\nand the line of\n\n178\n00:08:52.451 --> 00:08:57.117\nbusiness owners manage those domains and\nthe infrastructure associated with it.\n\n179\n00:08:57.117 --> 00:09:02.101\nSo it really just depends, but these\nare traditional drivers that may come up.\n\n180\n00:09:02.101 --> 00:09:05.256\nI make note of the fact in the show\nnotes and I'm gonna call it out just so\n\n181\n00:09:05.256 --> 00:09:06.339\nyou know to look for it.\n\n182\n00:09:06.339 --> 00:09:08.459\nI've told you this in\nsome other areas before.\n\n183\n00:09:08.459 --> 00:09:12.399\nMicrosoft is, in many respects, and\noftentimes, not shy about claiming\n\n184\n00:09:12.399 --> 00:09:16.775\nwhat they feel are best practices, and\nenunciating and articulating the fact that\n\n185\n00:09:16.775 --> 00:09:21.300\nthey want you to follow those, and they're\nnot shy about coming out and saying that.\n\n186\n00:09:21.300 --> 00:09:25.022\nAnd as a best practice in this case,\nthere is a statement as well,\n\n187\n00:09:25.022 --> 00:09:26.521\nI've put it in the notes.\n\n188\n00:09:26.521 --> 00:09:30.043\nAs a best practice choose the simplest\ndesign, and we talked about this both\n\n189\n00:09:30.043 --> 00:09:33.165\nCherokee and I before with you,\nthat achieves the required goal.\n\n190\n00:09:33.165 --> 00:09:37.200\n[INAUDIBLE] say in parenthesis the design\nthat is less costly to implement and more\n\n191\n00:09:37.200 --> 00:09:41.430\nstraight forward to administer is the one\nthat is often seen as the simplest design.\n\n192\n00:09:41.430 --> 00:09:44.730\nNow keep in mind that's open\nto interpretation, right?\n\n193\n00:09:44.730 --> 00:09:46.489\nYour definition of simple and costly or\n\n194\n00:09:46.489 --> 00:09:50.061\nless costly maybe different than the\nperson who wrote the question on the exam,\n\n195\n00:09:50.061 --> 00:09:53.062\nmaybe different than the person\n[INAUDIBLE] you're working with.\n\n196\n00:09:53.062 --> 00:09:56.843\nBut you gotta make your best effort and\nuse all the resources at your disposal and\n\n197\n00:09:56.843 --> 00:09:59.509\nknowledge to decipher what\nthey're looking to get at.\n\n198\n00:09:59.509 --> 00:10:05.102\nAnd eliminate things that add clutter, add\noverhead, add expense, add time, right?\n\n199\n00:10:05.102 --> 00:10:09.468\nIf you could go through, as I said, five\nlevels to get the same information and\n\n200\n00:10:09.468 --> 00:10:11.600\nresource management accomplished.\n\n201\n00:10:11.600 --> 00:10:14.990\nOr have everything in one place and\njust have it easy all up view.\n\n202\n00:10:14.990 --> 00:10:17.420\nIt's always better to have one\nthing with an easy all up view.\n\n203\n00:10:17.420 --> 00:10:21.855\nUnless you have a specific statutory or\nregulatory concern that says\n\n204\n00:10:21.855 --> 00:10:25.950\nwe must differentiate and\nspecifically break these apart.\n\n205\n00:10:25.950 --> 00:10:29.464\nSo that unequivocally there's absolutely\nno way anybody but this small,\n\n206\n00:10:29.464 --> 00:10:31.539\nwell-defined group can do this one thing.\n\n207\n00:10:31.539 --> 00:10:34.809\nIf you see something like that,\ndon't think twice about it.\n\n208\n00:10:34.809 --> 00:10:38.478\nSeparate infrastructure no matter what\nbecause that's what the law says that you\n\n209\n00:10:38.478 --> 00:10:39.017\nhave to do.\n\n210\n00:10:39.017 --> 00:10:41.181\nBut beyond that,\nthere are compelling reasons for\n\n211\n00:10:41.181 --> 00:10:42.949\nyou to think about grouping it together.\n\n212\n00:10:42.949 --> 00:10:46.360\nAnd then being able to subdivide\nit through an OU process.\n\n213\n00:10:46.360 --> 00:10:48.477\nAnd as a result then track it that way,\nso.\n\n214\n00:10:48.477 --> 00:10:52.617\n&gt;&gt; Yeah, and even coming from someone like\nme, who Adam always likes to bring up that\n\n215\n00:10:52.617 --> 00:10:55.260\nI really like organization and\nseparating things.\n\n216\n00:10:55.260 --> 00:10:59.059\nBut even with that kind of\ninnate thinking, like Adam said,\n\n217\n00:10:59.059 --> 00:11:03.008\nunless I'm required to,\nthere's no real reason to introduce\n\n218\n00:11:03.008 --> 00:11:06.372\nadditional levels of\ncomplexity if I don't need to.\n\n219\n00:11:06.372 --> 00:11:08.401\nSo it's definitely something to consider.\n\n220\n00:11:08.401 --> 00:11:10.570\n&gt;&gt; Yeah, and again,\nit's open to interpretation, right.\n\n221\n00:11:10.570 --> 00:11:14.300\nThere is always more\nthan one right answer.\n\n222\n00:11:14.300 --> 00:11:16.370\nI'm not suggesting that it's\nalways black and white.\n\n223\n00:11:16.370 --> 00:11:19.340\nHey, less complexity is good,\nmore complexity is bad.\n\n224\n00:11:19.340 --> 00:11:22.618\nNeither one of us, by the way,\nare saying that, just to be clear.\n\n225\n00:11:22.618 --> 00:11:25.982\nBut what we're both saying in\na slightly different way is that,\n\n226\n00:11:25.982 --> 00:11:28.165\nsometimes less complexity is good.\n\n227\n00:11:28.165 --> 00:11:31.215\nOftentimes it is, but you know what\nsometimes more complexity is good because\n\n228\n00:11:31.215 --> 00:11:32.751\nthat's what the situation calls for.\n\n229\n00:11:32.751 --> 00:11:34.964\nAnd you have to be able to\nread between the lines and\n\n230\n00:11:34.964 --> 00:11:37.821\ninterpret that in order to\nunderstand how to answer correctly.\n\n231\n00:11:37.821 --> 00:11:41.461\nAnd equally importantly and in my book,\ncertainly it's important to get certified\n\n232\n00:11:41.461 --> 00:11:43.730\nbecause that's how you\nvalidate your skills.\n\n233\n00:11:43.730 --> 00:11:46.219\nBut in my book it's the actual\nhands on experience and\n\n234\n00:11:46.219 --> 00:11:50.159\nthe time you've done this and your ability\nto prove that in the real world every day.\n\n235\n00:11:50.159 --> 00:11:52.941\nSo in my book getting certified\nis important but equally and\n\n236\n00:11:52.941 --> 00:11:56.723\nperhaps even more important, it's the\napplication of this to the real world and\n\n237\n00:11:56.723 --> 00:12:00.138\nthe skills you need to do the job as you\ndo this every day in the real world.\n\n238\n00:12:00.138 --> 00:12:04.301\nThat I think is also a good point for\nus to call out here and just to specify,\n\n239\n00:12:04.301 --> 00:12:07.523\none size fits one,\none size fits all would be the model and\n\n240\n00:12:07.523 --> 00:12:09.893\nyou wanna think about how you apply that.\n\n241\n00:12:09.893 --> 00:12:12.630\nAnd what about reasons to\nimplement multiple forests.\n\n242\n00:12:12.630 --> 00:12:14.421\nI said there are several merger and\n\n243\n00:12:14.421 --> 00:12:17.384\nacquisition activity tends to\nbe at the top of this list,\n\n244\n00:12:17.384 --> 00:12:21.296\none company goes out buys another,\nand as a result inherits essentially.\n\n245\n00:12:21.296 --> 00:12:26.048\nNow owns all the infrastructure,\nall the assets, human and non-human, but\n\n246\n00:12:26.048 --> 00:12:29.725\nalso the namespaces and\nessentially the directory schema.\n\n247\n00:12:29.725 --> 00:12:32.534\nWe don't just blow that up\nbecause you can't do that,\n\n248\n00:12:32.534 --> 00:12:36.115\nwe have to have it coexist for\na period of time, separate forests.\n\n249\n00:12:36.115 --> 00:12:38.021\nWe do have the ability\nto link those forest,\n\n250\n00:12:38.021 --> 00:12:40.090\nwe'll talk about those cross-forest trust.\n\n251\n00:12:40.090 --> 00:12:44.696\nAt some point, by linking them together,\ngives us the ability to be able to reach\n\n252\n00:12:44.696 --> 00:12:47.772\ninto those two forests and\ninteract with resources.\n\n253\n00:12:47.772 --> 00:12:50.840\nSo we have to bridge this gap and\ndo this for a period of time.\n\n254\n00:12:50.840 --> 00:12:55.300\nBut over time, we may decide to collapse\none of those forests, migrate and or\n\n255\n00:12:55.300 --> 00:12:58.938\nchange the status of those objects,\nrecreating them in one and\n\n256\n00:12:58.938 --> 00:13:01.066\nthen essentially delimiting them so\n\n257\n00:13:01.066 --> 00:13:03.968\nthat they're now gonna be\npart of a broader area.\n\n258\n00:13:03.968 --> 00:13:07.814\nAnd getting rid of them by getting rid\nof that forest, but until we make that\n\n259\n00:13:07.814 --> 00:13:11.798\nchoice, we will often see coexistence\nin multiple forests will be created.\n\n260\n00:13:11.798 --> 00:13:16.375\nWe may have a multi-forest environment\nin need because the security isolation\n\n261\n00:13:16.375 --> 00:13:17.630\nrequirements.\n\n262\n00:13:17.630 --> 00:13:21.423\nSo we may have to differentiate our\nschema in such a way that from a security\n\n263\n00:13:21.423 --> 00:13:25.525\nstandpoint we're able to define objects,\ncertain ways in certain forests and\n\n264\n00:13:25.525 --> 00:13:26.949\nmanage them accordingly.\n\n265\n00:13:26.949 --> 00:13:28.398\nSo a forest level event or\n\n266\n00:13:28.398 --> 00:13:32.410\nmultiple forests within the same\norganization would let us do that.\n\n267\n00:13:32.410 --> 00:13:36.207\nIncompatible schema requirements, you have\ndifferent requirements, in other words and\n\n268\n00:13:36.207 --> 00:13:39.130\ndifferent forest, and we have to\ncreate different forest to do that.\n\n269\n00:13:39.130 --> 00:13:42.363\nOne area of the company's gonna run\ntheir own mail system differently\n\n270\n00:13:42.363 --> 00:13:44.242\nwith a different version than another.\n\n271\n00:13:44.242 --> 00:13:45.920\nAnd they're not gonna move up.\n\n272\n00:13:45.920 --> 00:13:48.187\nYou may have to create different\nschemas to support that,\n\n273\n00:13:48.187 --> 00:13:49.723\nthat's one of the things to consider.\n\n274\n00:13:49.723 --> 00:13:53.895\nA different applications that are being\ndeployed that share the schema\n\n275\n00:13:53.895 --> 00:13:57.970\nmay exist with different requirements\nbased on vendor support.\n\n276\n00:13:57.970 --> 00:14:01.921\nAnd you may need a separate forest to\ndeal with the security, regulatory,\n\n277\n00:14:01.921 --> 00:14:04.619\nauditability, or\nbackwards compatibility, and\n\n278\n00:14:04.619 --> 00:14:08.024\nsupport issues associated with\nthe use of those applications.\n\n279\n00:14:08.024 --> 00:14:10.050\nSo that could yet be another driver.\n\n280\n00:14:10.050 --> 00:14:11.850\nMultinational requirements,\n\n281\n00:14:11.850 --> 00:14:15.121\nextraterritorial regulatory\nrequirements by country.\n\n282\n00:14:15.121 --> 00:14:18.541\nCountry x says you do it this way,\nit's not how we do it anywhere else.\n\n283\n00:14:18.541 --> 00:14:20.580\nSeparate forest for that country.\n\n284\n00:14:20.580 --> 00:14:24.261\nWanna accommodate those statutory,\nregulatory, multinational requirements.\n\n285\n00:14:24.261 --> 00:14:25.522\nThink for instance,\n\n286\n00:14:25.522 --> 00:14:29.594\njust generically as we think about\nblocks of interests in the world.\n\n287\n00:14:29.594 --> 00:14:33.812\nThe United States is typically kinda on\nits own with its own regulatory regime and\n\n288\n00:14:33.812 --> 00:14:37.846\nenvironment, very different in many\nrespects often from other countries,\n\n289\n00:14:37.846 --> 00:14:39.228\nother areas of the world.\n\n290\n00:14:39.228 --> 00:14:40.689\nThe EU is an example,\n\n291\n00:14:40.689 --> 00:14:45.610\nis usually relatively homogenous\namong the member states of the EU.\n\n292\n00:14:45.610 --> 00:14:49.013\nAnd so, we may see a company\nthat exists in both geographies,\n\n293\n00:14:49.013 --> 00:14:52.614\nhaving to create separate forests\nto accommodate regulatory and\n\n294\n00:14:52.614 --> 00:14:55.501\nmanagement requirements that statutory,\nright.\n\n295\n00:14:55.501 --> 00:15:00.668\nFrom a law perspective, are more stringent\ntypically in the EU, then they maybe with\n\n296\n00:15:00.668 --> 00:15:06.200\nregards to let's say, a data for privacy\nconcerns around individual customer data.\n\n297\n00:15:06.200 --> 00:15:10.065\nThe EU is more stringent in it's\napplication of privacy law today has been\n\n298\n00:15:10.065 --> 00:15:13.698\nfor many years, than almost any\nother block or country in the world.\n\n299\n00:15:13.698 --> 00:15:17.140\nAnd so as a result, we often see,\ncompanies will create a separate\n\n300\n00:15:17.140 --> 00:15:20.745\nforest to deal with the regulatory\ncompliance requirements there.\n\n301\n00:15:20.745 --> 00:15:24.617\nSnd then have other forests in other areas\nof the world to deal with data that is\n\n302\n00:15:24.617 --> 00:15:25.642\ngonna exist there.\n\n303\n00:15:25.642 --> 00:15:28.280\nSo that's one example\nthat we may see that.\n\n304\n00:15:28.280 --> 00:15:29.147\n&gt;&gt; I really like that analogy.\n\n305\n00:15:29.147 --> 00:15:29.912\nAs a matter of fact,\n\n306\n00:15:29.912 --> 00:15:33.030\na few moments ago when you where talking\nabout those boundaries I was in my mind.\n\n307\n00:15:33.030 --> 00:15:35.448\nI was thinking, okay,\nforest being a country and\n\n308\n00:15:35.448 --> 00:15:37.010\nI thought of the United States.\n\n309\n00:15:37.010 --> 00:15:40.293\nBut then now, when you put those\nregulatory and the different laws,\n\n310\n00:15:40.293 --> 00:15:44.254\nthat just makes good, good sense on having\nyour different domains being the states\n\n311\n00:15:44.254 --> 00:15:47.538\nhere within the United States,\nI'm sure, different elsewhere but\n\n312\n00:15:47.538 --> 00:15:48.581\nstill-\n&gt;&gt; It could be.\n\n313\n00:15:48.581 --> 00:15:50.127\n[CROSSTALK]\n&gt;&gt; It could be drilled down even to cities\n\n314\n00:15:50.127 --> 00:15:52.127\nor regions for those-\n&gt;&gt; Canada for instance, right,\n\n315\n00:15:52.127 --> 00:15:52.852\nwhatever regions.\n\n316\n00:15:52.852 --> 00:15:53.432\n&gt;&gt; Yeah.\n\n317\n00:15:53.432 --> 00:15:54.496\n&gt;&gt; You go back in different regions.\n\n318\n00:15:54.496 --> 00:15:56.365\n&gt;&gt; I like that.\n&gt;&gt; They may have different requirements,\n\n319\n00:15:56.365 --> 00:15:57.437\nin fact they do, right, so.\n\n320\n00:15:57.437 --> 00:15:58.576\nGood analogy Adam.\n\n321\n00:15:58.576 --> 00:15:59.485\n&gt;&gt; I'm glad you like that.\n\n322\n00:15:59.485 --> 00:16:02.104\nI worked really hard on that by the way\nand I was hoping you would notice.\n\n323\n00:16:02.104 --> 00:16:03.940\n&gt;&gt; [LAUGH] I don't know why I\nhaven't thought of that before but\n\n324\n00:16:03.940 --> 00:16:04.794\nthat's a good one, yeah.\n\n325\n00:16:04.794 --> 00:16:06.473\n&gt;&gt; So add an extra gold star to my number.\n\n326\n00:16:06.473 --> 00:16:07.444\n&gt;&gt; That's right.\n&gt;&gt; All right,\n\n327\n00:16:07.444 --> 00:16:10.810\nso also extranet security based\nrequirements another driver.\n\n328\n00:16:10.810 --> 00:16:14.340\nAnd I talked about business mergers,\nalso divestiture by the way.\n\n329\n00:16:14.340 --> 00:16:16.410\nMerger and acquisition goes both ways.\n\n330\n00:16:16.410 --> 00:16:18.870\nOne company gets acquired,\nthe other is getting rid of a company.\n\n331\n00:16:18.870 --> 00:16:19.983\nAnother company is picking one up.\n\n332\n00:16:19.983 --> 00:16:24.861\nSo it works both ways, because if you're\ngonna keep portions of the inventory,\n\n333\n00:16:24.861 --> 00:16:28.248\nthe assets, etc., but\nsell off one line of business.\n\n334\n00:16:28.248 --> 00:16:32.747\nYou know how oftentimes you hear, hey,\nIntel bought this company from Microsoft.\n\n335\n00:16:32.747 --> 00:16:36.559\nWell, Microsoft still owns 25,000\nother companies, something like that.\n\n336\n00:16:36.559 --> 00:16:40.075\nThey're not selling off everything\nthat Microsoft owns, in my example.\n\n337\n00:16:40.075 --> 00:16:41.660\nThey're selling off one little company.\n\n338\n00:16:41.660 --> 00:16:45.721\nAnd Intel's buying that one little\ncompany, and as a result they've gotta\n\n339\n00:16:45.721 --> 00:16:48.830\ncarve that out, and\nbe able to give that little company and\n\n340\n00:16:48.830 --> 00:16:51.823\nthose assets to Intel but\nkeep everything else in tact.\n\n341\n00:16:51.823 --> 00:16:56.456\nSo setting up forests to be able to manage\nas a result of that maybe something to\n\n342\n00:16:56.456 --> 00:16:57.183\nconsider.\n\n343\n00:16:57.183 --> 00:17:02.129\nSo there's lots of reasons, why we may see\nmulti forest designs being driven again,\n\n344\n00:17:02.129 --> 00:17:04.220\nthink about scenario based.\n\n345\n00:17:04.220 --> 00:17:07.720\nDiscussions here, think about\nthings you may get asked about and\n\n346\n00:17:07.720 --> 00:17:09.990\nhow that would play out if\nyou have to make decisions.\n\n347\n00:17:11.460 --> 00:17:14.490\nThese are the kind of things you\nwould often be asked about in.\n\n348\n00:17:14.490 --> 00:17:15.854\nIncluding our conversation here,\n\n349\n00:17:15.854 --> 00:17:18.271\nI was chatting with Cherokee\nbefore we came into this episode.\n\n350\n00:17:18.271 --> 00:17:21.377\n&gt;&gt; And said hey I want to put this\nin real quick, just at a high level,\n\n351\n00:17:21.377 --> 00:17:25.274\ngive you a little bit more knowledge if\nit's necessary out beyond the boundary and\n\n352\n00:17:25.274 --> 00:17:28.235\nthe boarders of exam preparation here,\nso this is value add.\n\n353\n00:17:28.235 --> 00:17:32.110\nWe need that flashing neon sign ding,\nding right, value add right.\n\n354\n00:17:32.110 --> 00:17:35.410\nThis is not specific to\nexam preparation for\n\n355\n00:17:35.410 --> 00:17:40.840\nthe identity management pieces\nin Server 16, the 7742 exam.\n\n356\n00:17:40.840 --> 00:17:42.850\nBut you may see references to this.\n\n357\n00:17:42.850 --> 00:17:45.021\nIt's more of an infrastructure thing and\n\n358\n00:17:45.021 --> 00:17:49.239\nplay out a little bit more on the cloud\nside, on the networking side, 7741,\n\n359\n00:17:49.239 --> 00:17:52.542\nmaterial that Cherokee and\nI put together, you may have seen.\n\n360\n00:17:52.542 --> 00:17:55.041\nIt'd be an appropriate conversation there,\nbut\n\n361\n00:17:55.041 --> 00:17:57.190\ndealing with implementing ADDS in Azure.\n\n362\n00:17:57.190 --> 00:17:59.300\nThe Active Directory,\ndomain services in Azure,\n\n363\n00:17:59.300 --> 00:18:03.015\nin the cloud, from Microsoft's Azure\nfabric is something that can be done.\n\n364\n00:18:03.015 --> 00:18:06.230\nWe can deploy domain control\nin to the Azure IaaS stack,\n\n365\n00:18:06.230 --> 00:18:10.480\nthe infrastructure as a service,\nI-a-a-S, right?\n\n366\n00:18:10.480 --> 00:18:14.410\nAnd when we do this, we are installing\ndomain controllers as virtual machines.\n\n367\n00:18:14.410 --> 00:18:16.660\nWe're building them in the Cloud and\nhosting them there.\n\n368\n00:18:16.660 --> 00:18:19.880\nAll the rules that apply to virtualized\ndomain controllers apply when we do this.\n\n369\n00:18:19.880 --> 00:18:23.850\nIt's just that we're doing it in a hosted\ndirectory, or rather, excuse me,\n\n370\n00:18:23.850 --> 00:18:27.150\na hosted Cloud data center\noff prem traditionally.\n\n371\n00:18:27.150 --> 00:18:30.310\nWe're doing it remotely and Microsoft\nis maintaining the infrastructure,\n\n372\n00:18:30.310 --> 00:18:33.910\nletting us rent it from them,\nusually for a monthly fee.\n\n373\n00:18:33.910 --> 00:18:35.818\nAnd although OnPrem member service and\n\n374\n00:18:35.818 --> 00:18:39.303\nclients can communicate out with\nthe Azure based domain controllers.\n\n375\n00:18:39.303 --> 00:18:42.810\nThese domain controllers should never,\nand I make this point in the notes.\n\n376\n00:18:42.810 --> 00:18:45.440\nShould never be the only\ndomain controllers you build.\n\n377\n00:18:45.440 --> 00:18:49.050\nIn other words, what happens if you\nlose connectivity out to the cloud?\n\n378\n00:18:49.050 --> 00:18:52.740\nAnd the only infrastructure you have for\ndomain replication, domain resources,\n\n379\n00:18:52.740 --> 00:18:56.060\ndomain authentication,\nis sitting in Microsoft's data centers.\n\n380\n00:18:56.060 --> 00:18:57.850\nYou've got no way to do anything now.\n\n381\n00:18:57.850 --> 00:19:01.860\nSo what we always say, without exception,\nis we architect and build these solutions.\n\n382\n00:19:01.860 --> 00:19:04.470\nAnd I'm giving you just the benefit of\nsome real world experience here for\n\n383\n00:19:04.470 --> 00:19:07.480\na couple of minutes, is,\nhey, go to the cloud.\n\n384\n00:19:07.480 --> 00:19:10.902\nThat's great, that's awesome,\nhas a lot of business value adds,\n\n385\n00:19:10.902 --> 00:19:12.204\na lot of upsides, right?\n\n386\n00:19:12.204 --> 00:19:16.180\nBCBR becomes easier in some respects,\nscalability becomes easier.\n\n387\n00:19:16.180 --> 00:19:18.100\nA lot of things the cloud enables for us.\n\n388\n00:19:18.100 --> 00:19:21.310\nBut be smart,\nkeep infrastructure available, locally,\n\n389\n00:19:21.310 --> 00:19:24.020\nin case you have a break,\nin case there is a problem.\n\n390\n00:19:24.020 --> 00:19:28.290\nSo that way you have domain controllers\non the ground, in your data centers,\n\n391\n00:19:28.290 --> 00:19:32.330\nin your offices,\nthat can be used as domain controllers\n\n392\n00:19:32.330 --> 00:19:35.120\nthat can be authenticated against\nwhen the cloud is unavailable.\n\n393\n00:19:35.120 --> 00:19:38.660\nAnd, let's be honest, cloud is there and\nwe hope it's there all the time,\n\n394\n00:19:38.660 --> 00:19:42.150\nbut everybody has a story\nabout a service outage.\n\n395\n00:19:42.150 --> 00:19:44.480\nDo this long enough you'll have your own,\nif you don't already.\n\n396\n00:19:44.480 --> 00:19:48.290\nAnd so you want to make sure that you're\nsmart enough, and just keep that in mind.\n\n397\n00:19:48.290 --> 00:19:52.400\nBecause if you don't have local resources,\nyou're gonna find that you can't\n\n398\n00:19:52.400 --> 00:19:54.930\ndo anything, and that's not\nthe time to decide, you know what?\n\n399\n00:19:54.930 --> 00:19:56.144\nI should've planned better.\n\n400\n00:19:56.144 --> 00:19:59.688\nI should've made some domain controllers\non prem and not just put them all up in\n\n401\n00:19:59.688 --> 00:20:03.550\nthe cloud because now I can't get to\nthem and that obviously can be an issue.\n\n402\n00:20:03.550 --> 00:20:08.360\nSo when we implement the Azure AD\nsolution and we put it into\n\n403\n00:20:08.360 --> 00:20:13.040\nour domain services ADDS into Azure, we\nhave considerations, things to consider.\n\n404\n00:20:13.040 --> 00:20:15.270\nThings like the network topology.\n\n405\n00:20:15.270 --> 00:20:18.720\nWe have to create a virtual network in\nthe Azure fabric, to be able to create\n\n406\n00:20:18.720 --> 00:20:21.710\nthe ability for us to communicate in,\nand out of, the Microsoft data centers.\n\n407\n00:20:21.710 --> 00:20:22.950\nThose domain controllers, and\n\n408\n00:20:22.950 --> 00:20:26.840\nall Azure virtual machines,\nget DHCP addresses by default.\n\n409\n00:20:26.840 --> 00:20:30.440\nWe can make them static, but\nthey're dynamically assigned, initially.\n\n410\n00:20:30.440 --> 00:20:31.260\nYou gotta know about that.\n\n411\n00:20:31.260 --> 00:20:32.970\nYou gotta go in and make them static so\n\n412\n00:20:32.970 --> 00:20:37.460\nthat we can map to them and that they're\nnot going to be put back into the pool,\n\n413\n00:20:37.460 --> 00:20:39.840\nif the domain controller shuts off,\nand restarts, things like that.\n\n414\n00:20:39.840 --> 00:20:42.900\nBut you map them so\nthat way you keep that same address.\n\n415\n00:20:42.900 --> 00:20:47.170\nIt's a small thing but it's incredibly big\nthing if you lose or change that address,\n\n416\n00:20:47.170 --> 00:20:48.540\nit causes disruption.\n\n417\n00:20:48.540 --> 00:20:50.208\nSo you have to be aware of that.\n\n418\n00:20:50.208 --> 00:20:54.360\nYou may get dedicated circuits that\ngo into and out of the Azure fabric,\n\n419\n00:20:54.360 --> 00:20:56.870\nwe call those\nAzure Express Route Circuits.\n\n420\n00:20:56.870 --> 00:21:00.880\nThey're dedicated provider circuits\nthat are private circuits, essentially.\n\n421\n00:21:00.880 --> 00:21:03.970\nNot over the Internet, but\ndedicated pathways you can pay extra for.\n\n422\n00:21:03.970 --> 00:21:06.530\nYou have different options to\nbuild out your infrastructure on\n\n423\n00:21:06.530 --> 00:21:07.610\nthe networking side.\n\n424\n00:21:07.610 --> 00:21:10.645\nDepends on how you're structuring and\nhow much money you wanna spend.\n\n425\n00:21:10.645 --> 00:21:12.822\nWe have to worry about site topology.\n\n426\n00:21:12.822 --> 00:21:15.840\nAs with the physical sites we\nhave to configure ADDS sites and\n\n427\n00:21:15.840 --> 00:21:19.260\nmake sure that they're\ncorresponding to our IP namespace.\n\n428\n00:21:19.260 --> 00:21:22.530\nThe Azure Virtual Network gets created,\nthat's the namespace,\n\n429\n00:21:22.530 --> 00:21:27.020\nthe IP space that we then correspond to,\nso we have to be aware of that.\n\n430\n00:21:27.020 --> 00:21:30.520\nWe have to worry about having, if we have\nmultiple sites, site league bridging, and\n\n431\n00:21:30.520 --> 00:21:32.210\nwhether we're enabling that or\nnot to allow for\n\n432\n00:21:32.210 --> 00:21:36.980\ncommunication, based on the structure and\nthe organization of our site topology.\n\n433\n00:21:36.980 --> 00:21:40.810\nI go into a little bit of detail there,\nfor you in the notes, talk about the use\n\n434\n00:21:40.810 --> 00:21:44.180\nof re-domaining domain controllers and\nwhether or not they are appropriate.\n\n435\n00:21:44.180 --> 00:21:47.372\nLimiting the amount of outbound\ntraffic that will be replicated\n\n436\n00:21:47.372 --> 00:21:49.508\nacross these AD DS replication circuits.\n\n437\n00:21:49.508 --> 00:21:52.594\nCuz remember you're not just paying for\nusage time, you're also paying for\n\n438\n00:21:52.594 --> 00:21:54.980\nthe ability to be able to move in and\nout of the environment.\n\n439\n00:21:54.980 --> 00:21:58.095\nThe bandwidth you are consuming is\npart of the menu traditionally.\n\n440\n00:21:58.095 --> 00:22:00.699\nYou are limited to a certain amount of\nbandwidth, a certain amount of data\n\n441\n00:22:00.699 --> 00:22:03.380\nspecifically, not so much bandwidth\n[INAUDIBLE] measure of data.\n\n442\n00:22:03.380 --> 00:22:07.501\nAnd as a result, the more replication\ntraffic you create out of the Azure cloud,\n\n443\n00:22:07.501 --> 00:22:10.773\nmore instances you have,\nthe more times you have to replicate,\n\n444\n00:22:10.773 --> 00:22:13.452\nthe higher your bill's gonna\nbe on a monthly basis.\n\n445\n00:22:13.452 --> 00:22:15.460\nYou have to think about this and\nunderstand this.\n\n446\n00:22:15.460 --> 00:22:17.760\nWhat about the ability to do\nwhat's called service healing?\n\n447\n00:22:18.900 --> 00:22:22.610\nWe don't have in the Azure fabric\nthe ability to do what's called rollback.\n\n448\n00:22:22.610 --> 00:22:24.540\nMeaning domain controllers\nthat are deployed.\n\n449\n00:22:24.540 --> 00:22:28.280\nWe don't have rollback services\navailable directly to customers.\n\n450\n00:22:28.280 --> 00:22:30.230\nMicrosoft maintains and handles this.\n\n451\n00:22:30.230 --> 00:22:31.810\nWe don't control it directly.\n\n452\n00:22:31.810 --> 00:22:36.240\nSo we can, and indeed do give the vendor\nin this case Microsoft the ability to do\n\n453\n00:22:36.240 --> 00:22:39.319\nour patching for us,\nthe management of our infrastructure,\n\n454\n00:22:39.319 --> 00:22:42.350\nthe backing up of that\ndata is done by Microsoft.\n\n455\n00:22:42.350 --> 00:22:44.240\nWe may run back ups through there, but\n\n456\n00:22:44.240 --> 00:22:47.080\nMicrosoft maintains all\nthat infrastructure.\n\n457\n00:22:47.080 --> 00:22:48.900\nAnd so while they are doing that,\n\n458\n00:22:48.900 --> 00:22:52.270\nthey maintain the ability,\nto do the maintenance on the systems.\n\n459\n00:22:52.270 --> 00:22:56.210\nPatch management, version upgrades,\nsoftware uplifts, etc.\n\n460\n00:22:56.210 --> 00:23:00.500\nAnd so rollback, while it does exist, is\naround those activities, not because hey,\n\n461\n00:23:00.500 --> 00:23:03.570\nwe just went ahead and did something\nsilly and we gotta go fix it.\n\n462\n00:23:03.570 --> 00:23:06.090\nAnd so we do need to understand that\n\n463\n00:23:06.090 --> 00:23:10.100\nwe may run into issues where recovery\ncan become a little bit more convoluted\n\n464\n00:23:10.100 --> 00:23:13.510\ndepending on the nature of\nthe architecture and what's going on.\n\n465\n00:23:13.510 --> 00:23:16.102\nWe do have a specific, unique identifier,\n\n466\n00:23:16.102 --> 00:23:20.445\na new identifier starting in Server\n12 to address some of these issues to\n\n467\n00:23:20.445 --> 00:23:23.822\navoid duplication of domain\ncontrollers in a roll back.\n\n468\n00:23:23.822 --> 00:23:28.199\nOr scenario where in the cloud,\nsomething was done would roll back, and\n\n469\n00:23:28.199 --> 00:23:31.501\nnow we have duplicate entries,\nor duplicate issues so\n\n470\n00:23:31.501 --> 00:23:34.325\nwe have an identifier\nnamed VM generation ID.\n\n471\n00:23:34.325 --> 00:23:37.760\nSo remember, all of these solutions\nare now virtualized in the cloud.\n\n472\n00:23:37.760 --> 00:23:41.899\nThe VM generation ID detects a rollback,\nthen prevents a virtualized domain\n\n473\n00:23:41.899 --> 00:23:46.422\ncontroller from replicating those changes\noutbound so that we don't duplicate and\n\n474\n00:23:46.422 --> 00:23:49.369\ncorrupt the USN,\nthe Unix Service Name identifiers.\n\n475\n00:23:49.369 --> 00:23:51.028\nAnd as a result we maintain control so\n\n476\n00:23:51.028 --> 00:23:53.232\nwe converge with the other\ndomain controllers.\n\n477\n00:23:53.232 --> 00:23:56.962\nMaybe on-prem as we replicate\naround to be able to address this.\n\n478\n00:23:56.962 --> 00:24:01.961\nSo we do have to think about the fact that\nthere's a lot more challenges going on in\n\n479\n00:24:01.961 --> 00:24:02.850\nAzure stack.\n\n480\n00:24:02.850 --> 00:24:06.950\nIP addressing as I mentioned is an issue,\nDNS is an issue,\n\n481\n00:24:06.950 --> 00:24:10.680\nthe Azure stack does not meet\nthe dynamic management requirements and\n\n482\n00:24:10.680 --> 00:24:15.270\ncapabilities that on prem DNS does and\nso we have to think about that.\n\n483\n00:24:15.270 --> 00:24:20.440\nWe have to extend our on prem DNS\ninfrastructure out to the Azure fabric\n\n484\n00:24:20.440 --> 00:24:22.670\non prem infrastructure\nout to the Azure fabric.\n\n485\n00:24:22.670 --> 00:24:26.900\nBut we have to configure the Azure virtual\nnetwork to be able to look for and\n\n486\n00:24:26.900 --> 00:24:30.540\nuse on prem DNS servers,\nbecause that's where we're gonna maintain\n\n487\n00:24:30.540 --> 00:24:33.790\nActive Directory integration,\ndynamic updates, and\n\n488\n00:24:33.790 --> 00:24:37.760\na dnssec, and all of the things that we\nmay wanna use and that we should be using.\n\n489\n00:24:37.760 --> 00:24:40.370\nTo provide all the latest capabilities for\nDNS.\n\n490\n00:24:40.370 --> 00:24:43.310\nCurrently, Azure does not support all that\n\n491\n00:24:43.310 --> 00:24:47.150\nnow you're watch this a year from\nthe time we put and lot it out there.\n\n492\n00:24:47.150 --> 00:24:50.935\nThat may have all changed in this entire\ntalk track maybe worthless, but I'm just\n\n493\n00:24:50.935 --> 00:24:54.530\npointing out that as of the time we're\nputting this content together for you.\n\n494\n00:24:54.530 --> 00:25:00.160\nA middle to the let's say summer\ntime of 2017 approximately.\n\n495\n00:25:00.160 --> 00:25:04.010\nThat is currently the state of affairs, so\nI just want you to be aware of that and\n\n496\n00:25:04.010 --> 00:25:07.360\nhave a point of reference time marker for\nthat, but understand that, right.\n\n497\n00:25:07.360 --> 00:25:12.465\nAnd we also have to worry about disks and\nthe Azure virtual machines using ReadWrite\n\n498\n00:25:12.465 --> 00:25:17.850\nhost-caching which they do, right, for\noperating system VDs or VHDs, VHDXs.\n\n499\n00:25:17.850 --> 00:25:21.640\nSo we have to be aware of this, this\ndoes improve our overall performance but\n\n500\n00:25:21.640 --> 00:25:26.750\nwe have to be aware of some of the\nconcerns because if we install the ADDS\n\n501\n00:25:26.750 --> 00:25:29.380\ninformation components on the OS disk.\n\n502\n00:25:29.380 --> 00:25:34.180\nThe operating system disk, a data loss\nis possible if we have a data failure or\n\n503\n00:25:34.180 --> 00:25:36.620\na drive failure on the OS disk.\n\n504\n00:25:36.620 --> 00:25:40.200\nWe often say install the OS and then\nhave a separate drive for all the data.\n\n505\n00:25:40.200 --> 00:25:42.420\nIf you happen to put the data\ntogether with the OS and\n\n506\n00:25:42.420 --> 00:25:44.390\nthat drive fails, you lose everything.\n\n507\n00:25:44.390 --> 00:25:47.440\nAnd so in the cloud we often partition\nour storage out in different ways.\n\n508\n00:25:47.440 --> 00:25:51.450\nSo we own infrastructure ourselves and\nwe have to think about that and\n\n509\n00:25:51.450 --> 00:25:53.160\nunderstand that.\n\n510\n00:25:53.160 --> 00:25:57.030\nSo, we can see performance increases from\ndisc caching by we have to make sure we're\n\n511\n00:25:57.030 --> 00:26:01.310\npartitioning and sending our storage into\nthe right areas, in order to do this and\n\n512\n00:26:01.310 --> 00:26:02.060\nmake sure that.\n\n513\n00:26:02.060 --> 00:26:05.830\nWe have a sense of how that's gonna\nwork and just understanding that.\n\n514\n00:26:05.830 --> 00:26:08.770\nWhen we think about all of these drivers,\nand what they are,\n\n515\n00:26:08.770 --> 00:26:12.740\nand how they come together, it really\nopens up a whole brave new world for us.\n\n516\n00:26:12.740 --> 00:26:16.480\nPotentially, a lot of opportunity\nto host on the Azure Fabric,\n\n517\n00:26:16.480 --> 00:26:20.360\nin the cloud, to extend our domain,\nor ADDS capabilities.\n\n518\n00:26:20.360 --> 00:26:22.890\nAnd we have to plan and\nreally think about the impact of that\n\n519\n00:26:22.890 --> 00:26:25.690\nbeyond the scope of our\nconversations here as I said.\n\n520\n00:26:25.690 --> 00:26:30.510\nDefinitely not gonna be in\nthe scope of the exam requirements\n\n521\n00:26:30.510 --> 00:26:35.770\nspecific to this particular exam, but\nbroadly across the server 16 MCSA, MCSE.\n\n522\n00:26:35.770 --> 00:26:39.090\nAnd the cloud MCSE\ncertification thought process\n\n523\n00:26:39.090 --> 00:26:42.210\nan appropriate conversation\nhas a contextual reference and\n\n524\n00:26:42.210 --> 00:26:44.850\na marker for information that\nmay be valuable for you there.\n\n525\n00:26:44.850 --> 00:26:48.970\nI would suggest if anybody's really\nserious about pursuing that,\n\n526\n00:26:48.970 --> 00:26:50.950\nif you're looking to get more information.\n\n527\n00:26:50.950 --> 00:26:54.870\nGo out to Microsoft's website,\nread up on the latest information,\n\n528\n00:26:54.870 --> 00:26:58.150\nthe latest configuration\nguidance from Microsoft at\n\n529\n00:26:58.150 --> 00:26:59.910\nthe moment you start to\nhave those conversations.\n\n530\n00:26:59.910 --> 00:27:04.825\nTo think about that on the Azure stack,\nMicrosoft.com/cloud or\n\n531\n00:27:04.825 --> 00:27:09.420\n/Azure, Azure, excuse me and you will\nfind the most relevant, most timely and\n\n532\n00:27:09.420 --> 00:27:11.130\nmost up to date information.\n\n533\n00:27:11.130 --> 00:27:14.780\nAnd again it may have changed since we've\nactually had these conversations with you.\n\n534\n00:27:14.780 --> 00:27:18.170\nThat's not to say it's not a good place to\nstart to get you thinking about that and\n\n535\n00:27:18.170 --> 00:27:20.850\nthat's what we wanna do is\njust plant those seeds.\n\n536\n00:27:20.850 --> 00:27:23.650\nAnd then encourage you to go out and\ntake a look and see what the most relevant\n\n537\n00:27:23.650 --> 00:27:27.025\ninformation for your business would be at\nthe time you need to make that decision.\n\n538\n00:27:27.025 --> 00:27:29.650\n&gt;&gt; Great, so now that our seeds\nare planted we needed to make sure that\n\n539\n00:27:29.650 --> 00:27:31.350\nyou go out and water them and\n\n540\n00:27:31.350 --> 00:27:34.680\njust kind of let all of these\ninformation marinate and absorb.\n\n541\n00:27:34.680 --> 00:27:35.900\n&gt;&gt; Get the coffee grounds.\n\n542\n00:27:35.900 --> 00:27:39.210\n&gt;&gt; Yeah and do some coffee grounds and\nfertilise all those seeds as well [LAUGH].\n\n543\n00:27:39.210 --> 00:27:40.730\n&gt;&gt; Have that very important.\n\n544\n00:27:40.730 --> 00:27:43.840\n&gt;&gt; Perfect, all right, but thank you\nanyways for joining us, and stay tuned.\n\n545\n00:27:43.840 --> 00:27:47.880\nWe have a lot more great information or\nadditional seeds to share with you.\n\n546\n00:27:47.880 --> 00:27:48.900\n&gt;&gt; We do, we do.\n\n547\n00:27:48.900 --> 00:27:50.080\n&gt;&gt; All right, thank you for that.\n\n548\n00:27:50.080 --> 00:27:51.540\nI've been your host, Cherokee Boose.\n\n549\n00:27:51.540 --> 00:27:52.220\n&gt;&gt; I'm Adam Gordon.\n\n550\n00:27:52.220 --> 00:27:54.473\n&gt;&gt; See you next time here at ITProTV.\n\n551\n00:27:54.473 --> 00:28:01.648\n[MUSIC]\n\n552\n00:28:01.648 --> 00:28:04.517\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229566107"
        },
        {
          "description": "In this show, Cherokee and Adam begin discussing the Active Directory Management Tool (ADMT). They talk about the importance of utilizing the SID history attribute. They also reference other considerations such as DNS components to remember during a migration.",
          "length": "2210",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-3-advanced_ad_ds_infrastructure_management_pt3-081117.00_36_36_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-3-advanced_ad_ds_infrastructure_management_pt3-081117.00_36_36_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-1-3-advanced_ad_ds_infrastructure_management_pt3-081117.00_36_36_20.Still001-sm.jpg",
          "title": "Advanced AD DS Infrastructure Mgmt Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.535\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.535 --> 00:00:06.416\n[CROSSTALK]\n\n3\n00:00:06.416 --> 00:00:08.307\n[MUSIC]\n\n4\n00:00:08.307 --> 00:00:12.055\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.055 --> 00:00:15.734\n&gt;&gt; Welcome to Identity with\nWindows Server 2016 series.\n\n6\n00:00:15.734 --> 00:00:17.637\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.637 --> 00:00:23.366\nIn this episode, we'll be taking a look at\nadvanced ADDS infrastructure management.\n\n8\n00:00:23.366 --> 00:00:26.853\nBack with us today in the studios\nwe have Mr. Adam Gordon.\n\n9\n00:00:26.853 --> 00:00:28.244\nHow's it going today, Adam?\n\n10\n00:00:28.244 --> 00:00:30.734\n&gt;&gt; Adam Gordon, Mr.\nAdam Gordon, hey you, long hair.\n\n11\n00:00:30.734 --> 00:00:32.438\nI answer to anything, it doesn't matter.\n\n12\n00:00:32.438 --> 00:00:35.439\nAs long as you're talking in my general\ndirection I will acknowledge you.\n\n13\n00:00:35.439 --> 00:00:38.869\nIt is going well, hopefully going well for\nall of you out there.\n\n14\n00:00:38.869 --> 00:00:41.911\nAlways glad to be back spending time\nwith Cherokee, spending time with you.\n\n15\n00:00:41.911 --> 00:00:46.478\nTalking in this case continuing to\ntalk about advanced infrastructure\n\n16\n00:00:46.478 --> 00:00:48.392\nmanagement on the ADDS side.\n\n17\n00:00:48.392 --> 00:00:52.994\nWe left off talking about reasons why\nwe would potentially architect multiple\n\n18\n00:00:52.994 --> 00:00:54.257\ndomains and forest.\n\n19\n00:00:54.257 --> 00:00:56.500\nHow we would see that being of value.\n\n20\n00:00:56.500 --> 00:00:57.743\nYou haven't gone back,\n\n21\n00:00:57.743 --> 00:01:01.706\ntaken a look at that episode, maybe good\njust in the general context of this area\n\n22\n00:01:01.706 --> 00:01:05.805\nof conversations to have a look at that\nbefore we get into this conversation here.\n\n23\n00:01:05.805 --> 00:01:08.191\nWe're gonna build on that thought process,\n\n24\n00:01:08.191 --> 00:01:11.151\ntalk a little bit more about\nthe forest and the domains.\n\n25\n00:01:11.151 --> 00:01:13.770\nBut instead of talking about\nhow we architect them,\n\n26\n00:01:13.770 --> 00:01:15.914\nwhat those trust relationships are like,\n\n27\n00:01:15.914 --> 00:01:19.680\nwe'll come back to that idea of trust\nrelationships again in a little bit.\n\n28\n00:01:19.680 --> 00:01:22.273\nWe're gonna talk about domain\nas far as functional levels.\n\n29\n00:01:22.273 --> 00:01:22.854\nWhat does that mean?\n\n30\n00:01:22.854 --> 00:01:24.766\nWhy is that important?\n\n31\n00:01:24.766 --> 00:01:27.750\nHave a few words to say about migration.\n\n32\n00:01:27.750 --> 00:01:31.173\nI've already talked about the migration\nconcepts from earlier conversations.\n\n33\n00:01:31.173 --> 00:01:34.778\nWe're gonna take a look quickly at\nthis idea of how we do migration\n\n34\n00:01:34.778 --> 00:01:38.859\nusing the tool kit, the ADMT,\nthe Active Directory Migration Toolkit.\n\n35\n00:01:38.859 --> 00:01:40.765\nTalk about this idea of SID History.\n\n36\n00:01:40.765 --> 00:01:42.636\nWhat is this attribute,\nwhy is it imported,\n\n37\n00:01:42.636 --> 00:01:44.074\nwhat do we have to know about that.\n\n38\n00:01:44.074 --> 00:01:47.508\nJust to make sure we are up to speed\non those things that are critical for\n\n39\n00:01:47.508 --> 00:01:48.391\nus to be aware of.\n\n40\n00:01:48.391 --> 00:01:51.455\nAnd then depending on how all that goes,\nwell you never know.\n\n41\n00:01:51.455 --> 00:01:53.094\nCherokee and I are full of surprises.\n\n42\n00:01:53.094 --> 00:01:55.446\nAnd who knows what may happen,\ndepending on what's going on.\n\n43\n00:01:55.446 --> 00:01:59.051\nSo let's start talking about forest and\ndomain functional levels a little bit.\n\n44\n00:01:59.051 --> 00:02:01.311\nYou could join me here I\nhave an interesting website,\n\n45\n00:02:01.311 --> 00:02:03.130\nas we often try to do\nhave you take a look at.\n\n46\n00:02:03.130 --> 00:02:05.780\nRemember these URLs are always\nin the show notes for you.\n\n47\n00:02:05.780 --> 00:02:07.518\nSo if you can't quite make it out there,\n\n48\n00:02:07.518 --> 00:02:10.552\nyou're squinting to see what it is\nzooming in, it's already there.\n\n49\n00:02:10.552 --> 00:02:12.394\nJust go download those show notes and\ntake a look.\n\n50\n00:02:12.394 --> 00:02:14.643\nMake sure you go out and\ntake a look at the websites and\n\n51\n00:02:14.643 --> 00:02:16.187\nI remind you this from time to time.\n\n52\n00:02:16.187 --> 00:02:20.938\nWe shoot this content at a certain kind\nof snapshot in frozen moment in time.\n\n53\n00:02:20.938 --> 00:02:23.024\nThat website is there when we shoot it.\n\n54\n00:02:23.024 --> 00:02:24.801\nIt looks like that when we shoot it.\n\n55\n00:02:24.801 --> 00:02:28.624\nYou may look at it right away, you\nmight not see this content for a while.\n\n56\n00:02:28.624 --> 00:02:30.834\nAnd by the time you get to it,\nlook at the site notes,\n\n57\n00:02:30.834 --> 00:02:32.354\nthe URL may have slightly changed.\n\n58\n00:02:32.354 --> 00:02:35.326\nURL may point to a site but\nit may be updated and different.\n\n59\n00:02:35.326 --> 00:02:39.208\nSo don't worry about the fact that it may\nor may not be identical when you go there.\n\n60\n00:02:39.208 --> 00:02:43.306\nBut certainly try to take advantage of\nthese, they help you obviously in the real\n\n61\n00:02:43.306 --> 00:02:47.362\nworld to have a reference point for\nimportant information that is contextual.\n\n62\n00:02:47.362 --> 00:02:50.968\nBut also is kept up to date by the vendor,\nin this case by Microsoft.\n\n63\n00:02:50.968 --> 00:02:54.302\nSo if the vendor,\nMicrosoft changes the guidance,\n\n64\n00:02:54.302 --> 00:02:57.196\nyou would see the latest\ninformation there.\n\n65\n00:02:57.196 --> 00:03:00.656\nAlso certainly for exam preparation\nas we often try to point out.\n\n66\n00:03:00.656 --> 00:03:05.365\nThese websites tend to give you\nvaluable information that is usually\n\n67\n00:03:05.365 --> 00:03:07.646\ntestable in one form or another.\n\n68\n00:03:07.646 --> 00:03:11.241\nOften we'll see questions about, not\njust migration paths, things like that,\n\n69\n00:03:11.241 --> 00:03:14.643\nupgrades and we've said those are\nimportant, you should know about those.\n\n70\n00:03:14.643 --> 00:03:19.053\nBut we do often get asked about domain and\nforest functional levels, hey,\n\n71\n00:03:19.053 --> 00:03:20.314\ncan we mix and match?\n\n72\n00:03:20.314 --> 00:03:25.432\nCan we be at a Server 16 only functional\nlevel if we have older domain controllers?\n\n73\n00:03:25.432 --> 00:03:28.767\nThe answer is no, we're not gonna have\nthat capability and compatibility,\n\n74\n00:03:28.767 --> 00:03:30.166\nthat's gonna cause problems.\n\n75\n00:03:30.166 --> 00:03:34.041\nWe have to be running all the domain names\ninfrastructure at the same operational\n\n76\n00:03:34.041 --> 00:03:36.324\nlevel in order to raise\nthat functional level.\n\n77\n00:03:36.324 --> 00:03:39.774\nSo we have to keep in mind that the lowest\ncommon denominator or the weakest link in\n\n78\n00:03:39.774 --> 00:03:42.792\nthe chain, I guess you could think\nof it in theory either way, right?\n\n79\n00:03:42.792 --> 00:03:44.976\nWould be the operational thought process.\n\n80\n00:03:44.976 --> 00:03:49.172\nIf I had a least one domain\ncontroller that's running 2008 R2,\n\n81\n00:03:49.172 --> 00:03:54.762\nI have to keep that domain functional\nlevel down at 2008 R2, or 2012, whatever.\n\n82\n00:03:54.762 --> 00:03:59.692\nAfter keeping at that level, I can't raise\nit to Server 16 for that domain because\n\n83\n00:03:59.692 --> 00:04:03.450\nit will not work, because there\nare older domain controllers.\n\n84\n00:04:03.450 --> 00:04:06.754\nAnd they will not be able to interact\nwith that new domain controller,\n\n85\n00:04:06.754 --> 00:04:09.498\ntake advantage well of\nthe functionality and raising, or\n\n86\n00:04:09.498 --> 00:04:13.544\npotentially anyway they not and raising\nthat functional level will cause problems.\n\n87\n00:04:13.544 --> 00:04:17.761\nSo we do need to understand that, and\nthat's a testable thought process.\n\n88\n00:04:17.761 --> 00:04:22.606\nWe often get troubleshooting scenario\nquestions or some sort of word problems,\n\n89\n00:04:22.606 --> 00:04:26.966\nmaybe even a diagram, this would be\na great way to put a visual sketch up.\n\n90\n00:04:26.966 --> 00:04:31.159\nRemember seeing, on occasion, they become\nmore prevalent on some of the newer exams,\n\n91\n00:04:31.159 --> 00:04:34.005\nbut a lot of times you will see\na network topology diagrams.\n\n92\n00:04:34.005 --> 00:04:37.369\nRight, and they'll have a subnet or\na site or or something drawn out or\n\n93\n00:04:37.369 --> 00:04:39.891\nmaybe a forest,\ndepending on what they're doing.\n\n94\n00:04:39.891 --> 00:04:43.646\nAnd you may see and will see,\nyou'll labeled information.\n\n95\n00:04:43.646 --> 00:04:47.810\nThis is the domain name space, this is\nthe server that does this, this and this,\n\n96\n00:04:47.810 --> 00:04:50.092\nhere's the IP address, the subnet, etc.\n\n97\n00:04:50.092 --> 00:04:54.647\nAnd I can easily see setting up some sort\nof scenario question with a visual queue\n\n98\n00:04:54.647 --> 00:04:59.067\nabout whether or not we have the right\nfunctional level based on settings that\n\n99\n00:04:59.067 --> 00:05:01.179\nyou may see captured as part of that.\n\n100\n00:05:01.179 --> 00:05:03.851\nOr maybe even ask you interactively\nto change that, right?\n\n101\n00:05:03.851 --> 00:05:07.173\nIt could be a, not a hot spot, but\nan interactive question, right?\n\n102\n00:05:07.173 --> 00:05:09.410\nThe ones where you have to go in and\nmake a change.\n\n103\n00:05:09.410 --> 00:05:10.969\nAnd so there's lots of ways for\n\n104\n00:05:10.969 --> 00:05:13.614\nus to potentially see this\ninformation showing up.\n\n105\n00:05:13.614 --> 00:05:15.752\nSo it would be important for\nyou to be familiar with it.\n\n106\n00:05:15.752 --> 00:05:19.221\nSo if we go back here, we'll just take\na look now that I've spent two minutes\n\n107\n00:05:19.221 --> 00:05:21.023\nchewing your ear about the value of it.\n\n108\n00:05:21.023 --> 00:05:22.105\nLet's actually show you what it is.\n\n109\n00:05:22.105 --> 00:05:24.159\nSo you can see as we scroll\ndown here a little bit.\n\n110\n00:05:24.159 --> 00:05:27.847\nWe talk about Server 16 and\nthe reason I like this site in particular,\n\n111\n00:05:27.847 --> 00:05:31.717\nit goes through not just Server 16,\nbut you can see here off to the right,\n\n112\n00:05:31.717 --> 00:05:33.265\nlet me just scroll down some.\n\n113\n00:05:33.265 --> 00:05:35.413\nActually, go to full screen for\nme, for just one sec,\n\n114\n00:05:35.413 --> 00:05:37.203\ncuz I'm sitting right\nover top of some of it.\n\n115\n00:05:37.203 --> 00:05:41.938\nRight here you'll see it has links to\nall of the prior versions of the OS, and\n\n116\n00:05:41.938 --> 00:05:46.246\nit talks about the domain forest\nfunctional levels for each of them.\n\n117\n00:05:46.246 --> 00:05:49.455\nWhat the settings are, how we mix and\nmatch, and how they work,\n\n118\n00:05:49.455 --> 00:05:52.381\nall the way back to Windows 2000,\nas you can see here.\n\n119\n00:05:52.381 --> 00:05:57.113\nSo it gives you that historical\nreference going back for two, four,\n\n120\n00:05:57.113 --> 00:06:00.956\nsix, seven total operating\nsystem families, right?\n\n121\n00:06:00.956 --> 00:06:05.674\nA total of nine,\nten if we include 2008 R2, 2003 R2, or\n\n122\n00:06:05.674 --> 00:06:10.503\n8 rather because we have 2003 there,\nit goes back all the way.\n\n123\n00:06:10.503 --> 00:06:14.217\nAnd it does give you a really\nnice set of information.\n\n124\n00:06:14.217 --> 00:06:16.114\nFor instance, for Server 16,\n\n125\n00:06:16.114 --> 00:06:20.655\nforest functional level it says all of\nthe features available in Server 12 R2\n\n126\n00:06:20.655 --> 00:06:24.476\nwith the forest functional level\napply to 16 and are available.\n\n127\n00:06:24.476 --> 00:06:28.407\nAnd we have in addition the PAM,\nthe Privileged Access Management using\n\n128\n00:06:28.407 --> 00:06:31.447\nMIM Microsoft Identity Manager\nthat's been added in.\n\n129\n00:06:31.447 --> 00:06:34.358\nWe talked about PAM in a prior\nepisode if you haven't seen that.\n\n130\n00:06:34.358 --> 00:06:38.047\nGo back and take a look, but I talked\nabout what this is, how it's used,\n\n131\n00:06:38.047 --> 00:06:39.209\nwhy it's important.\n\n132\n00:06:39.209 --> 00:06:42.310\nServer 16 domain level\nfunctional features,\n\n133\n00:06:42.310 --> 00:06:47.690\nit says the AD features all features from\n12R2 are supported plus the following.\n\n134\n00:06:47.690 --> 00:06:51.934\nAnd it gives you some additional things\nthat are added to the specific to the use\n\n135\n00:06:51.934 --> 00:06:52.462\nof 16.\n\n136\n00:06:52.462 --> 00:06:53.230\nSo it's nice,\n\n137\n00:06:53.230 --> 00:06:56.963\nbecause it tells you that we support\neverything plus whatever that may be.\n\n138\n00:06:56.963 --> 00:06:59.888\nAnd we'd do the same thing here,\n12R2, right?\n\n139\n00:06:59.888 --> 00:07:02.156\nWe get all the supported domain\ncontroller operating systems.\n\n140\n00:07:02.156 --> 00:07:06.863\nYou could run a 12R2 domain with\nServer 16 domain controllers, and\n\n141\n00:07:06.863 --> 00:07:08.881\n12R2 domain controllers.\n\n142\n00:07:08.881 --> 00:07:13.126\nSo it tells you what would be appropriate\nand again, great way not just to see this\n\n143\n00:07:13.126 --> 00:07:15.825\ninformation, great way to\nmaybe make some notes.\n\n144\n00:07:15.825 --> 00:07:19.481\nCreate, perhaps, a spread sheet, or\na table, so you could study from it,\n\n145\n00:07:19.481 --> 00:07:20.463\none way to prepare.\n\n146\n00:07:20.463 --> 00:07:22.754\nGreat little cheat sheet,\nyou've mentioned this a few times.\n\n147\n00:07:22.754 --> 00:07:26.186\nLook at some of the things we did, the\nPowerShell documentation, put together for\n\n148\n00:07:26.186 --> 00:07:29.042\nthat prior episode we did,\nwhere you could just pull that stuff out.\n\n149\n00:07:29.042 --> 00:07:32.144\nAnd you've been sending me, hey,\nIT people should just keep this in, right?\n\n150\n00:07:32.144 --> 00:07:35.525\nAnd the operating center would be a great\nlittle setup, three or four pages worth of\n\n151\n00:07:35.525 --> 00:07:38.731\ncheat sheet notes on PowerShell that\nwould be great referenceable material.\n\n152\n00:07:38.731 --> 00:07:41.583\nThis is the kind of thing I\ngive to customers and say hey,\n\n153\n00:07:41.583 --> 00:07:45.467\nbefore you call me and ask me a question,\nI'm happy to answer it for you, but\n\n154\n00:07:45.467 --> 00:07:48.103\nyou could get a lot of this\ninformation on your own.\n\n155\n00:07:48.103 --> 00:07:51.728\nAnd then we could better use that time\ntalking about your options instead of me\n\n156\n00:07:51.728 --> 00:07:55.409\nspending the first ten minutes of that\nconversation having to look it all up and\n\n157\n00:07:55.409 --> 00:07:56.778\ngive it to you again anyway.\n\n158\n00:07:56.778 --> 00:08:00.618\nJust go out and research it and\nthen let's talk about what you wanna do So\n\n159\n00:08:00.618 --> 00:08:03.626\nyou can take a look at this and\nyou can see, as we go down,\n\n160\n00:08:03.626 --> 00:08:06.831\nhey what are those domain\nfunctional features in 12 R2?\n\n161\n00:08:06.831 --> 00:08:11.940\nWell, there's a whole bunch of them right\nthere, those all roll up into 2016, right?\n\n162\n00:08:11.940 --> 00:08:15.710\nSo knowing what these are very,\nvery helpful, very important for us.\n\n163\n00:08:15.710 --> 00:08:18.670\nSo I wanna make sure we're aware\nof this because being able to\n\n164\n00:08:18.670 --> 00:08:21.000\nreference this information.\n\n165\n00:08:21.000 --> 00:08:25.010\nBeing able to know how it's used and\nwhat those combinations will be\n\n166\n00:08:25.010 --> 00:08:28.710\nis gonna be very important because you're\ngonna get asked about this, right?\n\n167\n00:08:28.710 --> 00:08:33.350\nSo knowing the 12 R2 does support\nboth 16 and 12 R2 domain controllers.\n\n168\n00:08:33.350 --> 00:08:36.537\nWhereas Server 12 does support 12,\n12 R2 and 16.\n\n169\n00:08:36.537 --> 00:08:41.097\nAnd as you go back to 2008,\nnotice we can use domain controllers in\n\n170\n00:08:41.097 --> 00:08:44.674\nthe 16 operating system\ngoing back to 2008 R2.\n\n171\n00:08:44.674 --> 00:08:47.469\nNotice we can use them with 2008.\n\n172\n00:08:47.469 --> 00:08:52.348\nMeaning we can build these hybrid domains\nthat have multiple domain controller\n\n173\n00:08:52.348 --> 00:08:57.079\nversions from different operating systems\nas we look to move up and migrate or\n\n174\n00:08:57.079 --> 00:08:57.870\nupgrade.\n\n175\n00:08:57.870 --> 00:09:00.058\nWe can have these mixed environments and\nthat's supported,\n\n176\n00:09:00.058 --> 00:09:01.119\nit would be good to know that.\n\n177\n00:09:01.119 --> 00:09:04.724\nHopefully you're not hosting on 2003,\nbut if you are,\n\n178\n00:09:04.724 --> 00:09:09.240\nnotice that 2003 is the operating\nsystem where we make that break.\n\n179\n00:09:09.240 --> 00:09:12.348\nWe no longer support 2016 domain\ncontrollers in mixed environments.\n\n180\n00:09:12.348 --> 00:09:14.940\nIt's not no longer,\nwe just don't support them.\n\n181\n00:09:14.940 --> 00:09:16.175\nBut 2003, remember,\n\n182\n00:09:16.175 --> 00:09:19.519\nis not even an official authorized\nsupported operating system anymore.\n\n183\n00:09:19.519 --> 00:09:23.552\nMicrosoft's officially announced the\nretirement of that operating system and\n\n184\n00:09:23.552 --> 00:09:25.590\nit's no longer being supported.\n\n185\n00:09:25.590 --> 00:09:29.430\nSo the last official operating\nsystem that you can use for\n\n186\n00:09:29.430 --> 00:09:33.500\ndomain controller with 2003\ninfrastructure would be 12 R2.\n\n187\n00:09:33.500 --> 00:09:35.450\nThat's a testable item as well, right?\n\n188\n00:09:35.450 --> 00:09:38.740\nThose are the kind of things that we\nwould often find ourselves facing or\n\n189\n00:09:38.740 --> 00:09:40.565\nbeing asked about and having to know.\n\n190\n00:09:40.565 --> 00:09:44.770\nCuz I'm pretty confident if I was\ntaking one of these exams and\n\n191\n00:09:44.770 --> 00:09:47.860\nI was going through some\nof this in some form.\n\n192\n00:09:47.860 --> 00:09:52.320\nI may see a question at some point about\nwhat's the first operating system or\n\n193\n00:09:52.320 --> 00:09:55.410\nfirst domain environment where\nServer 16 can be supported.\n\n194\n00:09:55.410 --> 00:09:59.480\nOr which ones on this list do not support\nthe use of Server 16 domain controllers,\n\n195\n00:09:59.480 --> 00:10:00.700\nthink of it either way.\n\n196\n00:10:00.700 --> 00:10:01.787\nBut this kind of a website,\n\n197\n00:10:01.787 --> 00:10:04.214\nthis information would help\nyou to figure that out, right?\n\n198\n00:10:04.214 --> 00:10:06.300\nIt's just all right there and\nyou know what it is.\n\n199\n00:10:06.300 --> 00:10:09.226\nI don't have to go down but\nobviously 2000 doesn't support 16 either.\n\n200\n00:10:09.226 --> 00:10:11.530\nIn case you're wondering about that,\nyou can see that.\n\n201\n00:10:11.530 --> 00:10:14.070\nSo it would be valuable for\nyou to just take a look and\n\n202\n00:10:14.070 --> 00:10:15.830\nmake sure you're comfortable with this?\n\n203\n00:10:15.830 --> 00:10:19.409\nUnderstand that when we raise\nthe domain functional level,\n\n204\n00:10:19.409 --> 00:10:22.765\nthat is in our prior\nconversations in this area.\n\n205\n00:10:22.765 --> 00:10:27.125\nThe first and second parts of this\nconversation specifically that the domain\n\n206\n00:10:27.125 --> 00:10:30.905\nwe set as a security boundary, replication\nboundary, administrative boundary.\n\n207\n00:10:30.905 --> 00:10:32.175\nWe talked about that.\n\n208\n00:10:32.175 --> 00:10:35.595\nCherokee helped us work through\nall that in our conversations.\n\n209\n00:10:35.595 --> 00:10:37.248\nIf I raise the domain\nfunctional level in one domain,\n\n210\n00:10:37.248 --> 00:10:38.398\nI'm not raising it in every domain.\n\n211\n00:10:38.398 --> 00:10:41.700\nI have to do that per domain.\n\n212\n00:10:41.700 --> 00:10:42.820\nSo keep that in mind.\n\n213\n00:10:42.820 --> 00:10:45.800\nSo when I raised it on the forest level,\nI'm raising for\n\n214\n00:10:45.800 --> 00:10:48.210\nall of the objects on the forest, right?\n\n215\n00:10:48.210 --> 00:10:50.654\nTwo very distinctly different\nareas that we operate within,\n\n216\n00:10:50.654 --> 00:10:52.447\nwe wanna make sure that\nwe're aware of that.\n\n217\n00:10:52.447 --> 00:10:57.638\nCan some domains, in other words within\nforest be at the Server 16 level,\n\n218\n00:10:57.638 --> 00:10:59.840\nothers be at 12 R2, or 12?\n\n219\n00:10:59.840 --> 00:11:02.000\nAbsolutely, we may have\nmixed environments.\n\n220\n00:11:02.000 --> 00:11:05.352\nBut when we go to raise the forest level,\nwanna make sure that all the domains have\n\n221\n00:11:05.352 --> 00:11:08.228\nbeen raised to 16 is raised to\nthe forest functional level as well.\n\n222\n00:11:08.228 --> 00:11:12.584\nCuz that's gonna ensure everything is\nbeing able to not only interact with and\n\n223\n00:11:12.584 --> 00:11:16.148\nuse the latest features, but\neverything is set up correctly and\n\n224\n00:11:16.148 --> 00:11:17.830\nworking the right way.\n\n225\n00:11:17.830 --> 00:11:21.265\nSo in other words, we will typically\nwait until we get rid of that backwards\n\n226\n00:11:21.265 --> 00:11:24.155\ninfrastructure before we go and\nraise our forest functional or\n\n227\n00:11:24.155 --> 00:11:26.406\ndomain functional levels\nto the highest level.\n\n228\n00:11:26.406 --> 00:11:30.010\nCuz we wanna have everything running at\nthe same operating system level across\n\n229\n00:11:30.010 --> 00:11:31.860\nthe board to take advantage of that.\n\n230\n00:11:31.860 --> 00:11:34.670\nSo it's just something to think about and\nto be aware of.\n\n231\n00:11:34.670 --> 00:11:36.380\nAll right, with regards to migrating.\n\n232\n00:11:36.380 --> 00:11:39.099\nJust wanted to get the initial\nforest domain functional level\n\n233\n00:11:39.099 --> 00:11:40.620\nconversation out there quickly.\n\n234\n00:11:40.620 --> 00:11:46.454\nLet's talk about migrating from\n2012 over to let's say into 2016.\n\n235\n00:11:46.454 --> 00:11:47.641\nWhat are we gonna do?\n\n236\n00:11:47.641 --> 00:11:49.970\nHow about coming from 2008.\n\n237\n00:11:49.970 --> 00:11:52.263\nWe have to go through 12\nin order to get into 16.\n\n238\n00:11:52.263 --> 00:11:55.979\nWe have to have an interim jump, and\nit'll go from 2008 direct to 16,\n\n239\n00:11:55.979 --> 00:11:58.370\nso you know just some\nthings to think about.\n\n240\n00:11:58.370 --> 00:12:03.197\nBut if we're gonna do migration, we're\ngonna be looking at going through and\n\n241\n00:12:03.197 --> 00:12:06.866\nmigrating from, let's say,\na supported OS up into 16.\n\n242\n00:12:06.866 --> 00:12:09.406\nWe're gonna be using what\nI mentioned was the ADMT,\n\n243\n00:12:09.406 --> 00:12:11.510\nthe Active Directory Migration Tool.\n\n244\n00:12:11.510 --> 00:12:13.442\nSo if you wanna take a look\nwith me here real quick,\n\n245\n00:12:13.442 --> 00:12:16.301\njust another area that I wanna show\nyou and we'll delve into a little bit.\n\n246\n00:12:16.301 --> 00:12:20.442\nADMT, Active Directory Migration Tool,\nGuide: Migrating and\n\n247\n00:12:20.442 --> 00:12:23.240\nRestructuring Active Directory Domains.\n\n248\n00:12:23.240 --> 00:12:25.140\nThis is gonna be helpful to you.\n\n249\n00:12:25.140 --> 00:12:28.400\nThis is gonna give you a link\nto the latest migration toolkit,\n\n250\n00:12:28.400 --> 00:12:32.030\nalso give you guidance about how to\nuse it and what it can be used for.\n\n251\n00:12:32.030 --> 00:12:35.370\nAnd notice here applies to 2008 R2,\n12, 12 R2.\n\n252\n00:12:35.370 --> 00:12:39.043\nBecause you're migrating out of\n12 R2 into 16 as you upgrade.\n\n253\n00:12:39.043 --> 00:12:41.720\nAnd so this is used for that.\n\n254\n00:12:41.720 --> 00:12:45.420\nAnd so this tool is gonna let\nus go to either restructure,\n\n255\n00:12:45.420 --> 00:12:48.890\nmeaning to we can either migrate from one,\n\n256\n00:12:48.890 --> 00:12:52.920\nlet's say, ADDS domain be it the same\nforest or a different forest.\n\n257\n00:12:52.920 --> 00:12:55.431\nWe can upgrade and\nmove things around, change them.\n\n258\n00:12:55.431 --> 00:12:59.497\nIn the last conversation we talked\nabout perhaps some key drivers for\n\n259\n00:12:59.497 --> 00:13:01.520\nbuilding multiple forests.\n\n260\n00:13:01.520 --> 00:13:03.860\nAnd we said business requirements,\nmergers and\n\n261\n00:13:03.860 --> 00:13:06.980\nacquisitions, different\nschema requirements,\n\n262\n00:13:06.980 --> 00:13:11.510\ndifferent security and management thought\nprocesses would drive us to do that.\n\n263\n00:13:11.510 --> 00:13:16.660\nRestructuring is the term we use where we\nhave to go in and create or move around\n\n264\n00:13:16.660 --> 00:13:21.986\nresources into and among different forest\nin order to accomplish those goals.\n\n265\n00:13:21.986 --> 00:13:25.740\nAnd so this kind of a tool would be\nhelpful for us to think about that.\n\n266\n00:13:25.740 --> 00:13:30.380\nWe can rename and or rearrange domains\nwithin a forest using this tool so\n\n267\n00:13:30.380 --> 00:13:31.740\nwe can accomplish that.\n\n268\n00:13:31.740 --> 00:13:34.520\nThat's been one of those sticky things\nthat we haven't always been able to do.\n\n269\n00:13:34.520 --> 00:13:36.700\nThere was a time when we\ncouldn't rename domains.\n\n270\n00:13:36.700 --> 00:13:37.770\nWe just were stuck with them.\n\n271\n00:13:37.770 --> 00:13:38.770\nI mean, you always could,\n\n272\n00:13:38.770 --> 00:13:42.520\nin the theory that you could blow\nthose domains out, get rid of them.\n\n273\n00:13:42.520 --> 00:13:44.428\nBut you'd have to blow the entire\ndirectory structure up\n\n274\n00:13:44.428 --> 00:13:45.429\nin order to start over again.\n\n275\n00:13:45.429 --> 00:13:47.890\nOr I talk about making bad or\ngood choices, right?\n\n276\n00:13:47.890 --> 00:13:52.746\nBut now and for a couple of generations,\nwe've had the ability to be able to go\n\n277\n00:13:52.746 --> 00:13:57.100\nin and actually go through and\nrename domains using a tool like this.\n\n278\n00:13:57.100 --> 00:13:59.940\nSo we can go in and\ndo that if we need to as well.\n\n279\n00:13:59.940 --> 00:14:03.090\nSo just something else to consider and\nto think about.\n\n280\n00:14:03.090 --> 00:14:07.760\nAnd so it is one of these things that this\ntool can become very valuable for us and\n\n281\n00:14:07.760 --> 00:14:10.680\nvery helpful for us to be able to,\nI think about deploying.\n\n282\n00:14:11.760 --> 00:14:14.300\nWanted to just quickly reference\none other thing we talked about.\n\n283\n00:14:14.300 --> 00:14:16.620\nI forgot to bring this one up when\nwe're talking about forest and\n\n284\n00:14:16.620 --> 00:14:19.440\nfunctional levels,\nhave this one that I showed you.\n\n285\n00:14:19.440 --> 00:14:22.230\nThere's another good resource for\nthe same information.\n\n286\n00:14:22.230 --> 00:14:25.660\nUnderstanding AD DS functional\nlevels specifically.\n\n287\n00:14:25.660 --> 00:14:29.380\nJust another site here, it's in the show\nnotes as well that you can take a look at.\n\n288\n00:14:29.380 --> 00:14:32.380\nThis one goes through and it does the same\nkind of thing the other one does.\n\n289\n00:14:32.380 --> 00:14:34.480\nIt just has it in the same kind of form,\nbut\n\n290\n00:14:34.480 --> 00:14:37.690\nI like the way that it does them in\na chart which is just easier for\n\n291\n00:14:37.690 --> 00:14:40.250\nme when I'm making notes or\nreferencing it or studying.\n\n292\n00:14:40.250 --> 00:14:43.605\nAnd it starts with 2000 and it kinda goes\ndown the other way instead of 16 down,\n\n293\n00:14:43.605 --> 00:14:44.467\nit goes 2000 up.\n\n294\n00:14:44.467 --> 00:14:47.750\nBut you could see with this format,\nit does the same thing.\n\n295\n00:14:47.750 --> 00:14:51.641\nIt gives us the domain functional level,\ntells us what the features are,\n\n296\n00:14:51.641 --> 00:14:55.241\nthe supported domain operating\nsystems that can be used with this.\n\n297\n00:14:55.241 --> 00:15:00.730\nSo in 2000 native, I can start with a 2008\nR2 domain controller as the highest level,\n\n298\n00:15:00.730 --> 00:15:01.770\nwork backwards.\n\n299\n00:15:01.770 --> 00:15:06.089\nWhereas as I scroll down and\nI go to some more recent ones.\n\n300\n00:15:07.520 --> 00:15:08.685\nSo I go to 12 R2.\n\n301\n00:15:08.685 --> 00:15:11.302\nYou could see we support 12 R2 and\ntalks about what they are.\n\n302\n00:15:11.302 --> 00:15:14.040\nSo again, it's just another way of\nlooking at the same information.\n\n303\n00:15:14.040 --> 00:15:15.170\nSo it may be valuable.\n\n304\n00:15:15.170 --> 00:15:16.710\nI just forgot to bring that one up and\n\n305\n00:15:16.710 --> 00:15:18.740\nkind of throw it out there\nwhile we were talking.\n\n306\n00:15:18.740 --> 00:15:19.918\nAnd I'm thinking.\n\n307\n00:15:19.918 --> 00:15:20.784\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm thinking,\n\n308\n00:15:20.784 --> 00:15:23.891\nCherokee's thinking as well, but\nI'm thinking you wanna ask a question or\n\n309\n00:15:23.891 --> 00:15:24.581\nmake a comment?\n\n310\n00:15:24.581 --> 00:15:25.475\n&gt;&gt; Yeah, I just have a question.\n\n311\n00:15:25.475 --> 00:15:26.696\n&gt;&gt; Or both.\n\n312\n00:15:26.696 --> 00:15:29.690\n&gt;&gt; Maybe I don't even know until\nit actually comes out of my mouth.\n\n313\n00:15:29.690 --> 00:15:30.426\nWe'll see what happens Adam.\n\n314\n00:15:30.426 --> 00:15:35.172\nBut when we're using the Active Directory\nMigration Tool, is there anything that\n\n315\n00:15:35.172 --> 00:15:39.190\nwe need to do or be aware of when\nwe're talking about that SID History?\n\n316\n00:15:39.190 --> 00:15:43.240\nBecause if I am moving from one domain to\nanother, how does that tool handle it?\n\n317\n00:15:43.240 --> 00:15:46.100\nI mean, isn't that something that I should\nbe concerned about because I don't want to\n\n318\n00:15:46.100 --> 00:15:48.668\nend up breaking things along the way?\n\n319\n00:15:48.668 --> 00:15:50.054\n&gt;&gt; Yes.\n\n320\n00:15:50.054 --> 00:15:51.493\n&gt;&gt; [LAUGH] Okay.\n\n321\n00:15:51.493 --> 00:15:55.140\n&gt;&gt; I'll, [INAUDIBLE] Yes there is,\ndefinitely.\n\n322\n00:15:55.140 --> 00:15:57.147\n&gt;&gt; [LAUGH]\n&gt;&gt; So I was actually just about to mention\n\n323\n00:15:57.147 --> 00:16:00.437\nSID History as we were talking and\njust kinda teeing up what the tool does.\n\n324\n00:16:00.437 --> 00:16:02.340\nSo yeah, let's talk about SID History.\n\n325\n00:16:02.340 --> 00:16:04.772\nGreat way to kinda segue into\nthat part of the conversation.\n\n326\n00:16:04.772 --> 00:16:08.002\nSo, We have, probably one of the most\nimportant things we consider,\n\n327\n00:16:08.002 --> 00:16:11.231\nwe think about, as you were pointing out,\nand we are concerned with,\n\n328\n00:16:11.231 --> 00:16:15.201\nwhen we do migration, is this idea of SID\nhistory, so let's talk about what this is.\n\n329\n00:16:15.201 --> 00:16:19.100\nWe may, for instance, use or,\nrather move, maybe a user, or\n\n330\n00:16:19.100 --> 00:16:21.761\ngroup accounts around during migration.\n\n331\n00:16:21.761 --> 00:16:23.310\nThat's often something that may happen.\n\n332\n00:16:23.310 --> 00:16:27.293\nWe may move them into a new domain, and\nso when we do that we have to worry about\n\n333\n00:16:27.293 --> 00:16:31.654\nthe fact that the resources that the users\nmay wanna access, or may need to access,\n\n334\n00:16:31.654 --> 00:16:35.742\nare still in the old domain even though\nwe've put the users into a new domain.\n\n335\n00:16:35.742 --> 00:16:39.817\nSo as a result, we talked about this,\nremember the domain is a boundary.\n\n336\n00:16:39.817 --> 00:16:44.062\nWe administer against it, it represents a\nsecurity boundary, a replication boundary.\n\n337\n00:16:44.062 --> 00:16:48.782\nSo there's lots of things associated\nwith being inside that domain,\n\n338\n00:16:48.782 --> 00:16:53.262\nbeing a member of host.itprotv\nversus itpro.tv parent domain,\n\n339\n00:16:53.262 --> 00:16:57.662\nchild domain, if I am a user let's\nsay our shareb or AdamG users,\n\n340\n00:16:57.662 --> 00:17:01.742\nthat we've often talked about\nin our prior conversations,\n\n341\n00:17:01.742 --> 00:17:07.435\nif they currently exit at hosts.itpro.tv,\nand then we move them into itpro.tv.\n\n342\n00:17:07.435 --> 00:17:08.497\n&gt;&gt; Okay.\n&gt;&gt; So we move them up\n\n343\n00:17:08.497 --> 00:17:09.743\ninto a different domain.\n\n344\n00:17:09.743 --> 00:17:13.439\nBut the resources they need,\nthe show notes folder, and\n\n345\n00:17:13.439 --> 00:17:17.597\nmaybe the demo folder,\nis still sitting in hosts.itpro.tv,\n\n346\n00:17:17.597 --> 00:17:21.986\nseparate domain, then we may have\nan issue, because users in one,\n\n347\n00:17:21.986 --> 00:17:26.839\nresources in another, and we may have\nproblems trying to figure that out.\n\n348\n00:17:26.839 --> 00:17:29.570\nSo when we are migrating them,\nwe have to be aware.\n\n349\n00:17:29.570 --> 00:17:33.145\nThere's not so much within the same\nname space, within the same forest, but\n\n350\n00:17:33.145 --> 00:17:35.024\nas we especially move between forests.\n\n351\n00:17:35.024 --> 00:17:37.228\nBut if we migrate them in general,\n\n352\n00:17:37.228 --> 00:17:40.650\nwhen we migrate a user account\nAD assigns it a new SID.\n\n353\n00:17:40.650 --> 00:17:44.693\nThis is one of the issues we have to just\nfundamentally in our minds be aware of,\n\n354\n00:17:44.693 --> 00:17:48.433\nand because we have assigned them a new\nSID, what happens is the resource\n\n355\n00:17:48.433 --> 00:17:52.480\nin the source domain, is granting\naccess to them, to those resources.\n\n356\n00:17:52.480 --> 00:17:55.113\nSo in other words,\nin the source domain where they came from,\n\n357\n00:17:55.113 --> 00:17:58.115\nthat was how they got access,\ncuz that's where they started at life.\n\n358\n00:17:58.115 --> 00:18:01.699\nWe said in our example hosts.itpro.tv.\n\n359\n00:18:01.699 --> 00:18:05.955\nSo as a result of that the user SID from\nthat source domain is what access grants\n\n360\n00:18:05.955 --> 00:18:06.808\nare based off.\n\n361\n00:18:06.808 --> 00:18:09.731\n&gt;&gt; Right.\n&gt;&gt; But if we give them a brand new source,\n\n362\n00:18:09.731 --> 00:18:12.971\nor a brand new SID,\nin the destination domain,\n\n363\n00:18:12.971 --> 00:18:17.345\nwell now all of a sudden you're\ntelling me I should be looking for\n\n364\n00:18:17.345 --> 00:18:21.962\na user that is SID ABC123, and\nnow my user account is SID567,\n\n365\n00:18:21.962 --> 00:18:26.678\nZWY, well these two things are not\ngonna match when we go look right.\n\n366\n00:18:26.678 --> 00:18:29.367\nIf we look to be different users,\nand from the systems,\n\n367\n00:18:29.367 --> 00:18:33.221\nin fact, indeed we are, but the reality\nis, hey we're still the same person.\n\n368\n00:18:33.221 --> 00:18:33.872\nWe haven't changed.\n\n369\n00:18:33.872 --> 00:18:35.504\nI'm still me, I still need to get there.\n\n370\n00:18:35.504 --> 00:18:38.160\nWell, no you don't Adam cuz\nyou apparently are different.\n\n371\n00:18:38.160 --> 00:18:41.741\nWell, no I'm really the same, and you're\nnever gonna win that conversation, so\n\n372\n00:18:41.741 --> 00:18:43.493\nyou're never gonna win that argument.\n\n373\n00:18:43.493 --> 00:18:45.168\nSo this becomes an issue.\n\n374\n00:18:45.168 --> 00:18:48.421\nSo we cannot use that new\nSID to access the resources.\n\n375\n00:18:48.421 --> 00:18:52.971\nThis is the problem, and until the\nresources either move into the new domain\n\n376\n00:18:52.971 --> 00:18:57.164\nor we associate the two, or we come up\nwith a way to reference the old SID\n\n377\n00:18:57.164 --> 00:19:00.885\nhistorically, and say,\nABC123, wow good to see you.\n\n378\n00:19:00.885 --> 00:19:02.794\nDidn't realize you changed your name.\n\n379\n00:19:02.794 --> 00:19:04.098\nLet's get you set up here,\n\n380\n00:19:04.098 --> 00:19:06.783\nand give you access,\ncuz you really do need to see that.\n\n381\n00:19:06.783 --> 00:19:10.520\nSo that's an issue that we overcome\nusing the SID history attribute.\n\n382\n00:19:10.520 --> 00:19:14.912\nThis is the exact reason we have this\nbecause what we do is we tag the old SID\n\n383\n00:19:14.912 --> 00:19:20.168\nhistory, the reference from the source\ndomain ABC123, in our example is the SID,\n\n384\n00:19:20.168 --> 00:19:24.056\nwe tag that into an attribute that\ngets attached to the user, and\n\n385\n00:19:24.056 --> 00:19:25.292\ntravels with them.\n\n386\n00:19:25.292 --> 00:19:28.672\nSo that when they're in the new domain,\nthe new name space,\n\n387\n00:19:28.672 --> 00:19:31.987\nhave their new identity,\nwe still refer to the old one, and\n\n388\n00:19:31.987 --> 00:19:34.602\nwe can then use it to grant and\nto track access.\n\n389\n00:19:34.602 --> 00:19:39.319\nThis will be like, for instance, if you\nget married, and if you go from having\n\n390\n00:19:39.319 --> 00:19:43.769\nyour maiden name as a woman to let's say,\ntaking the name of your spouse.\n\n391\n00:19:43.769 --> 00:19:45.893\nSo you would change your name in theory,\n\n392\n00:19:45.893 --> 00:19:48.460\nwe'd still have a way to\ntrack your maiden name.\n\n393\n00:19:48.460 --> 00:19:49.550\nWe would still know you,\n\n394\n00:19:49.550 --> 00:19:53.320\nin theory as being whoever you were before\nyou got married and changed your name.\n\n395\n00:19:53.320 --> 00:19:56.833\nIt's just that same idea, it's just\na matter of knowing we have two aliases or\n\n396\n00:19:56.833 --> 00:19:59.937\ntwo ways of referring to that user,\nand we have to keep track of both.\n\n397\n00:19:59.937 --> 00:20:04.489\nSo during the use of the ADMT tool we\nactually have a way of setting an option,\n\n398\n00:20:04.489 --> 00:20:07.835\nwe essentially just configure this and\ncheck this off,\n\n399\n00:20:07.835 --> 00:20:12.388\nto make sure we grab that SID history and\nmigrate it as part of the migration,\n\n400\n00:20:12.388 --> 00:20:17.399\ninto the new user account or with it, and\ntag it as being the SID history attribute.\n\n401\n00:20:17.399 --> 00:20:20.300\nWe store it in this brand new attribute\nthat's been created for this.\n\n402\n00:20:20.300 --> 00:20:22.252\nIt's called SID dash history.\n\n403\n00:20:22.252 --> 00:20:25.929\nThat's the name of the attribute, and\nwhen the SID history attribute becomes\n\n404\n00:20:25.929 --> 00:20:29.272\npopulated, the users previous SID is\nused to grant them access to those\n\n405\n00:20:29.272 --> 00:20:33.171\nresources indefinitely, in theory, if\nthey stay where they are, but overtime if\n\n406\n00:20:33.171 --> 00:20:37.410\nthey get moved, we're then obviously able\nto deal with them in the new domain.\n\n407\n00:20:37.410 --> 00:20:40.810\nThis does increase the size of\nthe user's access token, overall.\n\n408\n00:20:40.810 --> 00:20:44.629\nWe've had kind of some thoughts\nabout this, shared with you in some\n\n409\n00:20:44.629 --> 00:20:49.319\nprior conversations, the fact that over\ntime, as we bloat our user access token,\n\n410\n00:20:49.319 --> 00:20:54.210\nbecause of things like excessive group\nmemberships, and/or things of this nature,\n\n411\n00:20:54.210 --> 00:20:56.827\nthat we may run into\nsome issues with log-on.\n\n412\n00:20:56.827 --> 00:20:58.427\nWe may have some concerns about that.\n\n413\n00:20:58.427 --> 00:21:02.440\nThis particular thought process does not\ncreate a huge bump in the overall size of\n\n414\n00:21:02.440 --> 00:21:05.922\nthe user access token if we have it\nat a very small amount of information\n\n415\n00:21:05.922 --> 00:21:07.510\nthat's referenced.\n\n416\n00:21:07.510 --> 00:21:11.741\nBut keep in mind that everything we add\nin does obviously become cumulatively\n\n417\n00:21:11.741 --> 00:21:15.191\neffective in terms of growing\nthat access token over time, but\n\n418\n00:21:15.191 --> 00:21:18.075\nthe SID history attributes\nthemselves are not big.\n\n419\n00:21:18.075 --> 00:21:22.360\nWe're not talking about growing it in such\na way it's gonna become very problematic.\n\n420\n00:21:22.360 --> 00:21:25.840\n&gt;&gt; And so what does it look like from the\nend user's perspective if we do have that\n\n421\n00:21:25.840 --> 00:21:30.800\ntoken bloat extra long log-on time,\nor inability to log-on?\n\n422\n00:21:30.800 --> 00:21:36.350\n&gt;&gt; It could be one or both in theory,\ndepending on how big those\n\n423\n00:21:36.350 --> 00:21:41.462\naccess tokens, or\nhow big that bloat essentially is.\n\n424\n00:21:41.462 --> 00:21:45.121\nTypically not happening, I've talked about\nthis, I think we had an aside you and\n\n425\n00:21:45.121 --> 00:21:48.567\nI in the chat room, is a question that\ncame up, and we talked a bit about it just\n\n426\n00:21:48.567 --> 00:21:51.856\noff camera, and then I think I mentioned\nit as we actually went through and\n\n427\n00:21:51.856 --> 00:21:53.977\ntalked about it in\nthe episode a little bit, but\n\n428\n00:21:53.977 --> 00:21:56.822\nwe really are more concerned\nabout it with group memberships.\n\n429\n00:21:56.822 --> 00:22:00.719\nA lot of the global group memberships,\nuniversal group memberships, things like\n\n430\n00:22:00.719 --> 00:22:04.282\nthat and in that discussion as we were\ntalking, that if you became members of\n\n431\n00:22:04.282 --> 00:22:08.481\nmultiple groups, we said you may be\na member of 10, 100, 1,000, whatever.\n\n432\n00:22:08.481 --> 00:22:09.464\n&gt;&gt; Right.\nBut as you grow,\n\n433\n00:22:09.464 --> 00:22:11.982\nthat that stuff does\nexponentially grow the token.\n\n434\n00:22:11.982 --> 00:22:14.055\nThat's gonna be much more impactful\nthan SID attribute history and\n\n435\n00:22:14.055 --> 00:22:14.862\nwe'll worry about that.\n\n436\n00:22:14.862 --> 00:22:16.163\n&gt;&gt; Gotcha.\n\n437\n00:22:16.163 --> 00:22:20.423\n&gt;&gt; But yes, to your question,\nto the specific answer, it could be both,\n\n438\n00:22:20.423 --> 00:22:25.180\nin the sense that, you may experience\nlonger log-on times, but you could also\n\n439\n00:22:25.180 --> 00:22:30.224\npotentially get so big, you could run\na file, what's called the log-on timeout.\n\n440\n00:22:30.224 --> 00:22:34.502\nI mentioned it's a ttl, by default it's\nten minutes, traditionally, although\n\n441\n00:22:34.502 --> 00:22:38.471\nyou can modify that, and if you take\nlonger than that to process the log-on,\n\n442\n00:22:38.471 --> 00:22:40.570\nyou will essentially drop the log-on.\n\n443\n00:22:40.570 --> 00:22:42.688\nYou won't be able to get in, because\nyou're not able to get your credentials\n\n444\n00:22:42.688 --> 00:22:44.525\nthrough the gate within that period\nof time to get them processed.\n\n445\n00:22:44.525 --> 00:22:46.477\n&gt;&gt; [LAUGH] Okay.\n\n446\n00:22:46.477 --> 00:22:49.572\n&gt;&gt; It could get big enough that that\ncould happen, but that's very rare,\n\n447\n00:22:49.572 --> 00:22:51.710\nother things would go\nwrong before we get there.\n\n448\n00:22:51.710 --> 00:22:55.057\nBut the extension of the log-on\ntime would definitely be a symptom,\n\n449\n00:22:55.057 --> 00:22:59.038\na potential symptom, we would see to put\nus down the road towards thinking of maybe\n\n450\n00:22:59.038 --> 00:23:01.074\nthat's going on, maybe we should look.\n\n451\n00:23:01.074 --> 00:23:02.942\nIf we're knowledgable about that\nmaybe we should look into that and\n\n452\n00:23:02.942 --> 00:23:03.750\nsee what's going on.\n\n453\n00:23:03.750 --> 00:23:08.170\nSo that is something just to do or\nto be aware of, so keep that in mind.\n\n454\n00:23:08.170 --> 00:23:10.585\nAll right, so we're gonna talk\nabout the idea of a SID history,\n\n455\n00:23:10.585 --> 00:23:13.386\ndoes increase the token, just wanted\nto make sure you're aware of that.\n\n456\n00:23:13.386 --> 00:23:16.447\nThe access control lists should\nbe examined as you're doing\n\n457\n00:23:16.447 --> 00:23:19.158\nthis to make sure you\nunderstand what's happening.\n\n458\n00:23:19.158 --> 00:23:21.663\nKeep track of those permissions,\nmake sure everything is up to date.\n\n459\n00:23:21.663 --> 00:23:24.689\nOnce we complete it,\nyou get rid of the original domain,\n\n460\n00:23:24.689 --> 00:23:27.157\nthe source domain over\ntime that does go away.\n\n461\n00:23:27.157 --> 00:23:30.642\nSo you will get rid of that, you have to\ngo in at that point, you'll make sure\n\n462\n00:23:30.642 --> 00:23:33.702\nthe resource has been moved to\nthe new domain, the target domain.\n\n463\n00:23:33.702 --> 00:23:37.000\nThe user is able to see them, everything\nis good, once you do all that cleanup,\n\n464\n00:23:37.000 --> 00:23:40.201\nyou should go back and clean up the SID\nhistory attributes, cuz keep in mind,\n\n465\n00:23:40.201 --> 00:23:43.502\nthat's why we don't worry about SID\nhistory attribute bloat very much because\n\n466\n00:23:43.502 --> 00:23:46.507\nthey exist for a period of time,\nnumber one, they're not very big, but\n\n467\n00:23:46.507 --> 00:23:49.404\nnumber two they exist for a window,\na well-defined window of time.\n\n468\n00:23:49.404 --> 00:23:51.294\nYou don't leave them in place\nforever because the old\n\n469\n00:23:51.294 --> 00:23:52.437\ndomain doesn't stay forever.\n\n470\n00:23:52.437 --> 00:23:55.026\nThe idea is we're pulling you\nout of that old domain and\n\n471\n00:23:55.026 --> 00:23:58.627\nthere is a parallel co-existence period,\nas we're doing the migration,\n\n472\n00:23:58.627 --> 00:24:02.473\nmaking sure everything's working,\ncuz you don't have two users you migrate.\n\n473\n00:24:02.473 --> 00:24:05.884\nYou tend to have to migrate hundreds,\nthousands of users Over a period of time.\n\n474\n00:24:05.884 --> 00:24:08.991\nSo there will be a period of\ntime as both domains coexist,\n\n475\n00:24:08.991 --> 00:24:11.540\ncuz you tend to do this in batches.\n\n476\n00:24:11.540 --> 00:24:12.540\n100 users at a time,\n\n477\n00:24:12.540 --> 00:24:16.110\nevery other day, maybe 1,000 users\ndepending on the size of the accounts.\n\n478\n00:24:16.110 --> 00:24:20.790\nI had to do this for a couple\ncustomers because of certain accounts\n\n479\n00:24:20.790 --> 00:24:24.550\nhaving such voluminous amounts of\ninformation associated with them.\n\n480\n00:24:24.550 --> 00:24:29.790\nWhere others were so small that we had\nto batch them in mix and match sizes.\n\n481\n00:24:29.790 --> 00:24:33.820\nTo understand that we can successfully\nmigrate so many users over the maintenance\n\n482\n00:24:33.820 --> 00:24:36.760\nwindow every night in two hours,\nthree hours or whatever it was.\n\n483\n00:24:36.760 --> 00:24:40.640\nBecause it took a certain amount of\ntime based on the size of the profile.\n\n484\n00:24:40.640 --> 00:24:42.300\nAnd so those are things to consider.\n\n485\n00:24:42.300 --> 00:24:45.830\nWe haven't really talked about the user\nprofile and how it comes into play here.\n\n486\n00:24:45.830 --> 00:24:48.010\nBut we have talked about\nthe profile in prior episodes.\n\n487\n00:24:48.010 --> 00:24:51.750\nSo it is important to consider all these\nthings because the bigger the profile,\n\n488\n00:24:51.750 --> 00:24:53.430\nthe longer it takes to migrate.\n\n489\n00:24:53.430 --> 00:24:56.742\nAnd if you have so many hours every night,\nyou can do this offline.\n\n490\n00:24:56.742 --> 00:24:58.491\nKind of while the systems are down for\n\n491\n00:24:58.491 --> 00:25:02.320\nmaintenance without you having to\nworry about interrupting business.\n\n492\n00:25:02.320 --> 00:25:06.350\nYou can't just say I'm gonna move 10,000\nusers and wait until it finishes and\n\n493\n00:25:06.350 --> 00:25:07.190\neverything is good.\n\n494\n00:25:07.190 --> 00:25:09.185\nSo you will have these coexisted spirits,\nbut\n\n495\n00:25:09.185 --> 00:25:11.907\nyou're also gonna have a definite\nsun down period, a window.\n\n496\n00:25:11.907 --> 00:25:14.465\nWhere you say, yeah, I'll run this but\nthen a line in the sand, right?\n\n497\n00:25:14.465 --> 00:25:17.240\nWhere you're gonna say, at that point,\nI've tested everything.\n\n498\n00:25:17.240 --> 00:25:21.660\nThis block of users came over,\nthis resource domain is no longer needed.\n\n499\n00:25:21.660 --> 00:25:24.690\nI cleared out help desk, or\nsupport, or whatever, and\n\n500\n00:25:24.690 --> 00:25:25.680\nlet's go ahead and get rid of it.\n\n501\n00:25:25.680 --> 00:25:28.760\nAnd so all the resources are there,\neverybody's able to see them.\n\n502\n00:25:28.760 --> 00:25:31.000\nAt that point, you go in and\nclean up the SID attribute history.\n\n503\n00:25:31.000 --> 00:25:33.320\nYou get rid of it,\nbecause you no longer need it.\n\n504\n00:25:33.320 --> 00:25:36.994\nSo you will go in, you can use this\nwith PowerShell, it's very simply to do.\n\n505\n00:25:36.994 --> 00:25:39.170\nWe have two cmdlets to do this.\n\n506\n00:25:39.170 --> 00:25:42.670\nget-SID history,\nlet's you see the SID history attributes.\n\n507\n00:25:42.670 --> 00:25:43.820\nPretty easy to do.\n\n508\n00:25:43.820 --> 00:25:46.890\nAnd then, if you had to guess,\nif get SID history let's you do this.\n\n509\n00:25:46.890 --> 00:25:50.080\nWhat do you think the cmdlet is to get\nrid of the SID history once we no longer\n\n510\n00:25:50.080 --> 00:25:51.120\nwant it?\n\n511\n00:25:51.120 --> 00:25:52.700\n&gt;&gt; Dash remove parameter?\n\n512\n00:25:52.700 --> 00:25:56.360\n&gt;&gt; Could be a good way to think about\nit but we don't do it that way.\n\n513\n00:25:56.360 --> 00:26:00.403\nInstead of say hey, get SID history and\nthen a parameter called remove,\n\n514\n00:26:00.403 --> 00:26:02.533\nwe simply do get SID history to see it.\n\n515\n00:26:02.533 --> 00:26:05.657\nAnd we do another cmdlet,\nremove SID history to remove it.\n\n516\n00:26:05.657 --> 00:26:07.190\n&gt;&gt; Okay.\n&gt;&gt; So, same thought process, right?\n\n517\n00:26:07.190 --> 00:26:08.060\nYou're on the right track, but\n\n518\n00:26:08.060 --> 00:26:11.140\nwe actually have two separate cmdlets\ninstead one commandment with a parameter.\n\n519\n00:26:11.140 --> 00:26:12.200\nSo that's how we do it.\n\n520\n00:26:12.200 --> 00:26:14.716\nSo remove SID history lets you\nget rid of it and clean it off.\n\n521\n00:26:14.716 --> 00:26:17.372\nYou can batch that and\ndo it across an entire group of users.\n\n522\n00:26:17.372 --> 00:26:20.084\nRemember we,\nin our PowerShell conversations,\n\n523\n00:26:20.084 --> 00:26:24.213\ntalked about some different things\nlike using a get command, get content,\n\n524\n00:26:24.213 --> 00:26:26.743\nread from a list and\nthen pipe that to a cmdlet.\n\n525\n00:26:26.743 --> 00:26:28.785\nWe can do a quick get content,\n\n526\n00:26:28.785 --> 00:26:33.937\nC:\\users.txtpipe2 removes SID history and\nwe can get a list of users,\n\n527\n00:26:33.937 --> 00:26:39.032\npipe it in one at a time, and just\nremove history against all those users.\n\n528\n00:26:39.032 --> 00:26:43.990\nIt would be a quick way to automate\nthat with maybe a line about so\n\n529\n00:26:43.990 --> 00:26:46.140\nbig, take you about 30\nseconds to type it in.\n\n530\n00:26:46.140 --> 00:26:49.320\nHardest part would be to get that\nuser list and just position it, and\n\n531\n00:26:49.320 --> 00:26:52.050\nthen you can just zip through that,\nlet the computer do all the work.\n\n532\n00:26:52.050 --> 00:26:53.400\n&gt;&gt; And then watch the cat videos all day.\n\n533\n00:26:53.400 --> 00:26:56.190\n&gt;&gt; And love cat videos, yes.\n\n534\n00:26:56.190 --> 00:26:59.090\nNo, I think I'd rather have my\nwisdom teeth put back in and\n\n535\n00:26:59.090 --> 00:27:00.950\ntaken out again rather than do that.\n\n536\n00:27:00.950 --> 00:27:02.850\nBut you could do that, if you wanted to.\n\n537\n00:27:04.010 --> 00:27:06.688\nSo that would just be one way to bring\nsome of that conversation that we\n\n538\n00:27:06.688 --> 00:27:09.843\nhad about PowerShell back in and thinking\nabout how PowerShell can help us here.\n\n539\n00:27:09.843 --> 00:27:13.825\nBut reason why we don't really worry too\nmuch is we get rid of those attributes\n\n540\n00:27:13.825 --> 00:27:18.190\nwithin maybe six, seven days, a week,\ntwo weeks, whatever it is, maybe a month.\n\n541\n00:27:18.190 --> 00:27:19.830\nDepends on your project timeline.\n\n542\n00:27:19.830 --> 00:27:22.953\nBut I try to get these things done\nquicker rather than let them linger.\n\n543\n00:27:22.953 --> 00:27:26.612\nBecause the longer that in-between\nstate is kinda supported there,\n\n544\n00:27:26.612 --> 00:27:29.600\nthe more concern you have\nabout things going wrong.\n\n545\n00:27:29.600 --> 00:27:31.892\nThings getting moved around,\nthings getting corrupted.\n\n546\n00:27:31.892 --> 00:27:33.640\nYou see there's a lot of extra\nstuff you got to pay attention to.\n\n547\n00:27:33.640 --> 00:27:37.832\nThe quicker you can get that stabilized\nand into the new environment and settled,\n\n548\n00:27:37.832 --> 00:27:39.790\nthe better off everybody is, right?\n\n549\n00:27:39.790 --> 00:27:40.900\nSo it's just good in general.\n\n550\n00:27:40.900 --> 00:27:45.650\nIf you wanna think about that and just be\naware of the concepts associated with ADMT\n\n551\n00:27:45.650 --> 00:27:48.140\nwill be helpful for us to consider that.\n\n552\n00:27:48.140 --> 00:27:52.202\nWe talked about DNS a little bit, and\nobviously DNS plays a huge role in so\n\n553\n00:27:52.202 --> 00:27:53.275\nmany things we do.\n\n554\n00:27:53.275 --> 00:27:56.430\nWent through and\nbroke down SRV records for you.\n\n555\n00:27:56.430 --> 00:27:59.765\nIn our prior episode, talked about\nthe importance of service records and\n\n556\n00:27:59.765 --> 00:28:02.150\nwhy we need to read them and\nunderstand what they do.\n\n557\n00:28:02.150 --> 00:28:07.034\nWhere we find them in our DNS zones, and\nthe importance of them, should we have\n\n558\n00:28:07.034 --> 00:28:11.640\na port associated with them,\na port number, a protocol, a service.\n\n559\n00:28:11.640 --> 00:28:15.390\nSo just remember that that's the kind\nof stuff that also may wind up being\n\n560\n00:28:15.390 --> 00:28:16.230\ntestable.\n\n561\n00:28:16.230 --> 00:28:18.670\nSo it's important for\nyou to go back and take a look.\n\n562\n00:28:18.670 --> 00:28:22.960\nWe talked about the ability to use\nActive Directory-integrated DNS, and\n\n563\n00:28:22.960 --> 00:28:24.210\nthe value of that.\n\n564\n00:28:24.210 --> 00:28:27.527\nVersus using just locally hosted DNS,\nthe disaster recovery and\n\n565\n00:28:27.527 --> 00:28:29.041\nreplication capabilities.\n\n566\n00:28:29.041 --> 00:28:33.641\nAnd we'll pick up on those themes\nof replication with AD and\n\n567\n00:28:33.641 --> 00:28:36.350\nAD sites and site replication.\n\n568\n00:28:36.350 --> 00:28:38.321\nIn some upcoming conversations,\nwe'll have some more to say about that.\n\n569\n00:28:38.321 --> 00:28:41.525\nReminding you of some of those themes\nbecause some of those things are also\n\n570\n00:28:41.525 --> 00:28:42.464\ngonna be important.\n\n571\n00:28:42.464 --> 00:28:45.566\nBut really optimizing DNS\nname resolution between your\n\n572\n00:28:45.566 --> 00:28:49.867\nname spaces as you're looking at\nmigration pathways is gonna be important.\n\n573\n00:28:49.867 --> 00:28:53.927\nBecause this is one of those underlying\nsupportive technologies that we sometimes\n\n574\n00:28:53.927 --> 00:28:56.304\njust get comfortable and take for granted.\n\n575\n00:28:56.304 --> 00:28:59.053\nThings are going well and\ndon't really think about that.\n\n576\n00:28:59.053 --> 00:29:00.417\nAnd then we start doing stuff and\n\n577\n00:29:00.417 --> 00:29:03.710\nmaybe we start having some issues because\nwe haven't paid attention to DNS.\n\n578\n00:29:03.710 --> 00:29:07.190\nSo think about things like using\nconditional folders or stub zones, right?\n\n579\n00:29:07.190 --> 00:29:08.340\nThat may be helpful.\n\n580\n00:29:08.340 --> 00:29:09.860\nYou may do that already, you may not.\n\n581\n00:29:09.860 --> 00:29:12.850\nIf you're not,\nthat could be of interest, right?\n\n582\n00:29:12.850 --> 00:29:15.230\nA DNS being able to be resolved for\n\n583\n00:29:15.230 --> 00:29:19.070\nmultiple areas using multiple technologies\nwould always be a good thing.\n\n584\n00:29:19.070 --> 00:29:22.310\nAre we gonna manage centralized or\ndecentralized?\n\n585\n00:29:22.310 --> 00:29:26.020\nActive Directory integration versus\nno Active Directory integration.\n\n586\n00:29:26.020 --> 00:29:28.020\nSo these are the kind\nof things to consider.\n\n587\n00:29:28.020 --> 00:29:31.590\nA GlobalNames Zone being deployed, right?\n\n588\n00:29:31.590 --> 00:29:35.130\nBeing able to use a GlobalNames Zone\nwhich allows you to configure single\n\n589\n00:29:35.130 --> 00:29:38.400\nname resolution for\nDNS names in your forest.\n\n590\n00:29:38.400 --> 00:29:41.660\nSo you can resolve it as a single\nname from anywhere in the forest.\n\n591\n00:29:41.660 --> 00:29:45.530\nThis allows you to do much shorter name\nresolution for resources typically.\n\n592\n00:29:45.530 --> 00:29:46.133\nSo we can view that.\nBut\n\n593\n00:29:46.133 --> 00:29:49.260\nthat's something you have to go out\nof your way to remember and setup.\n\n594\n00:29:49.260 --> 00:29:52.453\nThis is also important if you're\ngonna be using IPv6 for instance.\n\n595\n00:29:52.453 --> 00:29:58.830\nAnd Cherokee and I talked a lot about this\nin the Server 2016 networking the 7741.\n\n596\n00:29:58.830 --> 00:30:00.095\nInformation in the shows we did there.\n\n597\n00:30:00.095 --> 00:30:03.240\nIf you haven't seen them, I encourage\nyou to go back and take a look.\n\n598\n00:30:03.240 --> 00:30:05.190\nBut we did a whole thing on IP, IPv4,\n\n599\n00:30:05.190 --> 00:30:08.540\nIPv6, but\nwe also talked about DNS in depth.\n\n600\n00:30:08.540 --> 00:30:11.760\nWe went through all of this\ninformation in much more detail there.\n\n601\n00:30:11.760 --> 00:30:13.860\nSo I encourage you to go\nreach into the library,\n\n602\n00:30:13.860 --> 00:30:15.790\ngo pull a few of those episodes forward.\n\n603\n00:30:15.790 --> 00:30:17.010\nJust take a look at them.\n\n604\n00:30:17.010 --> 00:30:18.810\nHelp you to put this into context.\n\n605\n00:30:18.810 --> 00:30:23.328\nBut it is important, especially\nto consider GlobalNames Zone and\n\n606\n00:30:23.328 --> 00:30:26.401\nthe deployment of it if you're using IPv6.\n\n607\n00:30:26.401 --> 00:30:30.712\nBecause remember, WINS for\ninstance, does not support IPv6.\n\n608\n00:30:30.712 --> 00:30:33.566\nAnd as a result, we have to use\na GlobalNames Zone if we have\n\n609\n00:30:33.566 --> 00:30:36.940\nbackwards compatible in older\nclients to be able to do resolution.\n\n610\n00:30:36.940 --> 00:30:39.760\nSo there are some reasons\nwhy that may be helpful.\n\n611\n00:30:39.760 --> 00:30:42.120\nFor running WINS,\nthat's the key driver for\n\n612\n00:30:42.120 --> 00:30:44.750\ndeploying the GlobalNames Zone\nwe talk about in those episodes.\n\n613\n00:30:44.750 --> 00:30:47.010\nSo keep that in mind and\njust be aware of that.\n\n614\n00:30:48.320 --> 00:30:49.608\nSo there are lots of different things,\nright?\n\n615\n00:30:49.608 --> 00:30:52.450\nThe global catalog servers\nhave to be considered.\n\n616\n00:30:52.450 --> 00:30:53.204\nWhat are they,\n\n617\n00:30:53.204 --> 00:30:56.920\nwhy are they important, we've talked\nabout them and why we would use them.\n\n618\n00:30:56.920 --> 00:31:01.585\nUPNs, Universal Principle Names,\nbeing able to understand those and\n\n619\n00:31:01.585 --> 00:31:04.010\nhaving a sense of what they are.\n\n620\n00:31:04.010 --> 00:31:07.348\nThese are going to be, traditionally\nwhat we would see and think of is, look,\n\n621\n00:31:07.348 --> 00:31:08.838\nthat's our email address, right?\n\n622\n00:31:08.838 --> 00:31:12.240\nIt's the username at the DNS domain name.\n\n623\n00:31:12.240 --> 00:31:16.600\nSo shareb@practicelabs.com was the UPN for\n\n624\n00:31:16.600 --> 00:31:21.303\nour test account or\nadamg@practicelabs.com.\n\n625\n00:31:21.303 --> 00:31:24.084\nIt's just easier to remember\nin many cases to use a UPN.\n\n626\n00:31:24.084 --> 00:31:29.506\nUPN, a User Principal Name,\nthan it is to be able to you'll go in and\n\n627\n00:31:29.506 --> 00:31:35.050\nsay, let me have my username,\ndomain/username or whatever.\n\n628\n00:31:35.050 --> 00:31:38.790\nSo you see many companies using UPNs and\ngoing to that standard and that format,\n\n629\n00:31:38.790 --> 00:31:41.320\nbut again we have to plan and\nthink for that.\n\n630\n00:31:41.320 --> 00:31:43.230\nIt's usually going to be\nsomething that we see, but\n\n631\n00:31:43.230 --> 00:31:45.500\nthere are attributes associated with it.\n\n632\n00:31:45.500 --> 00:31:49.240\nThe UPN suffix,\nthe domain that we're gonna be using\n\n633\n00:31:49.240 --> 00:31:52.730\nhas to match a DNS Active VM of\nthe domain where the user exists.\n\n634\n00:31:52.730 --> 00:31:54.460\nWe may have multiple ones, right?\n\n635\n00:31:54.460 --> 00:31:56.771\nSo we look at the user profile,\nwe may see more than one option.\n\n636\n00:31:56.771 --> 00:32:00.719\nWe have to set it to the right one in the\nuser account to be able to make sure we\n\n637\n00:32:00.719 --> 00:32:02.074\ncan log in the right way.\n\n638\n00:32:02.074 --> 00:32:06.713\nHave to make sure that availability of\nglobal catalog service is considered.\n\n639\n00:32:06.713 --> 00:32:10.675\nGot to have those available in those\ndomains where users are gonna log in\n\n640\n00:32:10.675 --> 00:32:14.590\nfrom and have access to the global\ncatalogs to resolve and use the UPN.\n\n641\n00:32:14.590 --> 00:32:18.485\nSo we have to make sure placement of\nthem is something to consider, so\n\n642\n00:32:18.485 --> 00:32:20.095\nwe do have to be aware of that.\n\n643\n00:32:20.095 --> 00:32:24.375\nGlobal catalog services are required\nif we're gonna be using a UPN\n\n644\n00:32:24.375 --> 00:32:25.585\nthat is perhaps different.\n\n645\n00:32:25.585 --> 00:32:28.335\nSo we're logging with UPN from\nanother domain in the forest,\n\n646\n00:32:28.335 --> 00:32:29.745\nwe have to resolve that.\n\n647\n00:32:29.745 --> 00:32:33.540\nLook ups against local catalog server are\ngonna be necessary for that, so just keep\n\n648\n00:32:33.540 --> 00:32:37.840\nthat in mind, and federation, right,\nActive Directory Federation Services.\n\n649\n00:32:37.840 --> 00:32:39.400\nSomething we haven't\ntalked about just yet,\n\n650\n00:32:39.400 --> 00:32:42.290\nwe'll get to in some\nupcoming conversations.\n\n651\n00:32:42.290 --> 00:32:45.183\nBut the use of federation,\nextending trust and\n\n652\n00:32:45.183 --> 00:32:49.241\nthe management of identity across\nthe divide between companies.\n\n653\n00:32:49.241 --> 00:32:50.486\nThe separate forests and\n\n654\n00:32:50.486 --> 00:32:53.810\nseparate identity management\nschemes is something to consider.\n\n655\n00:32:53.810 --> 00:32:58.540\nAnd again, as we look at not just\nmigration, but look at multiple domain,\n\n656\n00:32:58.540 --> 00:33:00.870\nmultiple forest architecture\nconversations and\n\n657\n00:33:00.870 --> 00:33:03.300\nhow we set these things up and\nhow we manage them.\n\n658\n00:33:03.300 --> 00:33:07.320\nThe concerns around some of these things\nare important for us to be aware of.\n\n659\n00:33:07.320 --> 00:33:08.738\nFederated authentication and\n\n660\n00:33:08.738 --> 00:33:12.565\nfederated identity management comes\ninto play when you're using Office 365.\n\n661\n00:33:12.565 --> 00:33:17.172\nAnd you have to manage those identities,\nfor instance with a cloud based service.\n\n662\n00:33:17.172 --> 00:33:19.560\nYour UPN has to match and be available, so\n\n663\n00:33:19.560 --> 00:33:22.095\nyou would have to use\nfederation to do that.\n\n664\n00:33:22.095 --> 00:33:26.551\nWe may have to worry about it where we are\ninteracting with a separate company, and\n\n665\n00:33:26.551 --> 00:33:30.748\nwe want to be able to merge resources or\nset up some sort of vendor-based trust\n\n666\n00:33:30.748 --> 00:33:34.948\nrelationship, and to authenticate users\nallow vendors to perhaps com in and\n\n667\n00:33:34.948 --> 00:33:36.970\naccess resources during a project.\n\n668\n00:33:36.970 --> 00:33:38.430\nThere's all these reasons.\n\n669\n00:33:38.430 --> 00:33:39.570\nWhy that may be the case.\n\n670\n00:33:39.570 --> 00:33:43.280\nSo there's lots of concerns that we\nwould have and wanna think about there.\n\n671\n00:33:43.280 --> 00:33:46.380\nBut these are some of the things\nthat when we deal with migration\n\n672\n00:33:46.380 --> 00:33:47.290\nwould be on the hit list.\n\n673\n00:33:47.290 --> 00:33:49.012\nAnd some ways in which\nwe may address them.\n\n674\n00:33:49.012 --> 00:33:52.762\nThe ADMT tool really helps us to go in and\ntake a look at a lot of that, or\n\n675\n00:33:52.762 --> 00:33:54.600\nat least to plan for a lot of that.\n\n676\n00:33:54.600 --> 00:33:55.920\nIf you wanna join me back here for\n\n677\n00:33:55.920 --> 00:33:59.470\na minute just to remind ourselves\non the website where we are,\n\n678\n00:33:59.470 --> 00:34:02.230\nwhat we're talking about with\nthis particular website.\n\n679\n00:34:02.230 --> 00:34:05.320\nYeah, we have your best practices for\nActive Directory migration.\n\n680\n00:34:06.455 --> 00:34:11.030\nEnterforest AD directory structuring or\nrestructuring within one forest.\n\n681\n00:34:11.030 --> 00:34:14.510\nIntraforest, between two forests,\nhow we deal with that.\n\n682\n00:34:14.510 --> 00:34:17.282\nRemember, we could easily have multiple\nforests in the same business, so\n\n683\n00:34:17.282 --> 00:34:18.257\nthat would be important.\n\n684\n00:34:18.257 --> 00:34:20.770\nLooking at advanced procedures,\ntroubleshooting, right.\n\n685\n00:34:20.770 --> 00:34:23.750\nSo there's lots of information\nhere as you go down and\n\n686\n00:34:23.750 --> 00:34:27.920\nyou start to look at migration\nconsiderations, our specified year,\n\n687\n00:34:27.920 --> 00:34:31.410\nsome links to different things,\nsit history is discussed.\n\n688\n00:34:31.410 --> 00:34:33.450\nWe just talked about that.\n\n689\n00:34:33.450 --> 00:34:35.780\nDefinitions of terms, so\nyou'll understand what they are.\n\n690\n00:34:36.910 --> 00:34:40.730\nThe tool itself, right, migrating the\nobjects or managing and migrating objects\n\n691\n00:34:40.730 --> 00:34:44.610\nwithin the forest shows you some of the\nscripting that takes place in the tool.\n\n692\n00:34:45.710 --> 00:34:48.940\nAnd then you could see it's\ngot some different options for\n\n693\n00:34:48.940 --> 00:34:52.870\nthings like include files, lets us go\nin and take a look at how to manage and\n\n694\n00:34:52.870 --> 00:34:54.890\nmanipulate aspects of the tool.\n\n695\n00:34:54.890 --> 00:34:58.150\nSo it's very easy once you go through and\nread up on some of this,\n\n696\n00:34:58.150 --> 00:35:01.140\nbut there is definitely\nsome due diligence.\n\n697\n00:35:01.140 --> 00:35:02.810\nYou've got to spend some\ntime getting used to this.\n\n698\n00:35:02.810 --> 00:35:04.460\nAnd, obviously important for\n\n699\n00:35:04.460 --> 00:35:08.520\nyou to spend some time understanding\nthe placement of this tool.\n\n700\n00:35:08.520 --> 00:35:11.034\nBecause, you will use this tool,\nbut very infrequently.\n\n701\n00:35:11.034 --> 00:35:14.099\nAnd it's not the kind of thing that you\nwould probably have a lot of experience\n\n702\n00:35:14.099 --> 00:35:17.212\nwith, unless you've done a lot of these\nmigrations, maybe as a consultant,\n\n703\n00:35:17.212 --> 00:35:18.830\nover time for various customers.\n\n704\n00:35:18.830 --> 00:35:21.930\nBut, the average IT professional,\nif you use this tool once or\n\n705\n00:35:21.930 --> 00:35:25.830\ntwice, over several years,\nthat's a lot for most people.\n\n706\n00:35:25.830 --> 00:35:29.050\nSo it's probably something you\ndon't tend to see very often.\n\n707\n00:35:29.050 --> 00:35:32.870\nSo it's worth your time to go in and\njust make sure you take a look and\n\n708\n00:35:32.870 --> 00:35:35.490\njust have a sense of it and\nmake sure you're comfortable with it.\n\n709\n00:35:35.490 --> 00:35:39.660\nCuz as I said, it definitely will be\nsomething you may see some questions on.\n\n710\n00:35:39.660 --> 00:35:41.566\nSomething you wanna practice up with,\na little bit.\n\n711\n00:35:41.566 --> 00:35:44.430\nSomething you wanna just\nbetter understand, over all.\n\n712\n00:35:44.430 --> 00:35:47.820\nIn terms of preparing yourself to\nunderstand the migration concerns we face.\n\n713\n00:35:47.820 --> 00:35:50.130\nBut also the ability we have\nto be able to deal with them.\n\n714\n00:35:50.130 --> 00:35:53.393\nAnd sIDHistory attribute, probably\nthe focal point of that conversation,\n\n715\n00:35:53.393 --> 00:35:56.317\nas Cherokee reminded us and\nreally understanding the value of that.\n\n716\n00:35:56.317 --> 00:36:00.141\nAnd how we bring that access forward\nbetween the two domains as we give a new\n\n717\n00:36:00.141 --> 00:36:03.490\nSID to the user account after\nthe migration is successful.\n\n718\n00:36:03.490 --> 00:36:07.085\nAnd reference the history to be able to\nstill see those resources during that\n\n719\n00:36:07.085 --> 00:36:07.882\nsunset period.\n\n720\n00:36:07.882 --> 00:36:11.800\nOr that time where we're shuttling back\nand forth and we have parallel domains.\n\n721\n00:36:11.800 --> 00:36:15.380\nVery important for us to consider that and\nunderstand the value of that.\n\n722\n00:36:15.380 --> 00:36:18.010\n&gt;&gt; All right, Adam, thank you so much for\ntaking the time to explain that.\n\n723\n00:36:18.010 --> 00:36:19.420\nBut ladies and gentlemen, stay tuned.\n\n724\n00:36:19.420 --> 00:36:21.925\nWe have some really great\ninformation headed your way,\n\n725\n00:36:21.925 --> 00:36:24.440\nI think we've got some trust\nrelationships coming up.\n\n726\n00:36:24.440 --> 00:36:25.690\n&gt;&gt; Conflict issues or trust relationships?\n\n727\n00:36:25.690 --> 00:36:27.255\n&gt;&gt; [LAUGH] I don't know, maybe.\n\n728\n00:36:27.255 --> 00:36:29.267\n&gt;&gt; Very distinctly\ndifferent conversations.\n\n729\n00:36:29.267 --> 00:36:31.605\n&gt;&gt; [LAUGH] You don't wanna\nmiss it either way, so\n\n730\n00:36:31.605 --> 00:36:33.635\nwe're gonna go ahead and\nsign out for this show.\n\n731\n00:36:33.635 --> 00:36:35.105\nI've been your host, Cherokee Boose.\n\n732\n00:36:35.105 --> 00:36:35.765\n&gt;&gt; I'm Adam Gordon.\n\n733\n00:36:35.765 --> 00:36:39.018\n&gt;&gt; See you next time here at ITProTV.\n\n734\n00:36:39.018 --> 00:36:44.996\n[MUSIC]\n\n735\n00:36:44.996 --> 00:36:49.999\n&gt;&gt; Thank you for watching ITProTV\n\n",
          "vimeoId": "229565285"
        },
        {
          "description": "In this episode, Adam and Cherokee discuss AD DS Trust Types. They explain what one-way, two-way, and  transitive trusts in a demonstration and special guest appearance. Adam also explains additional trust types as well as demonstrates how to set one up.",
          "length": "2243",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-2-configuring_a_forest_trust_relationship-081117-PGM.00_37_05_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-2-configuring_a_forest_trust_relationship-081117-PGM.00_37_05_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-2-configuring_a_forest_trust_relationship-081117-PGM.00_37_05_08.Still001-sm.jpg",
          "title": "Configuring a Forest Trust Relationship",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.190\nWelcome to ITProTV.\n\n2\n00:00:01.190 --> 00:00:03.040\nI'm your host Don Pezet.\n\n3\n00:00:03.040 --> 00:00:06.706\n[CROSSTALK]\n\n4\n00:00:06.706 --> 00:00:08.002\n[MUSIC]\n\n5\n00:00:08.002 --> 00:00:10.714\n&gt;&gt; You're watching ITPRO.TV.\n\n6\n00:00:10.714 --> 00:00:15.500\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n7\n00:00:15.500 --> 00:00:17.520\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.520 --> 00:00:18.290\nIn this episode,\n\n9\n00:00:18.290 --> 00:00:23.780\nwe'll continue taking a look at advanced\nADDS infrastructure management techniques.\n\n10\n00:00:23.780 --> 00:00:26.740\nAnd with us today back in studios,\nwe have Mr. Adam Gordon.\n\n11\n00:00:26.740 --> 00:00:27.890\nHow's it going today, Adam?\n\n12\n00:00:27.890 --> 00:00:29.600\n&gt;&gt; Going well, going well.\n\n13\n00:00:29.600 --> 00:00:30.149\nShake my hand.\n\n14\n00:00:31.330 --> 00:00:33.260\nWe just established a trust\nrelationship right?\n\n15\n00:00:33.260 --> 00:00:35.476\nSo I trust you\n&gt;&gt; I trust you too\n\n16\n00:00:35.476 --> 00:00:38.850\n&gt;&gt; It's so nice I feel all warm and\n\n17\n00:00:38.850 --> 00:00:39.421\nfuzzy now.\n\n18\n00:00:39.421 --> 00:00:42.550\nSo we're gonna talk about trusts,\nwhat they are, how they work and\n\n19\n00:00:42.550 --> 00:00:45.210\nmost importantly, why we need them?\n\n20\n00:00:45.210 --> 00:00:48.460\nYou know, the logic of just saying hey\nshake my hand now we trust each other.\n\n21\n00:00:48.460 --> 00:00:51.780\nThat's just a fun and kind of easy\nway to represent the thought process,\n\n22\n00:00:51.780 --> 00:00:53.920\nbut there's a little more\nto it than that in Windows.\n\n23\n00:00:53.920 --> 00:00:55.300\nBut actually surprisingly,\n\n24\n00:00:55.300 --> 00:00:59.780\nnot much more because the concept of\ntrust is really basically that simple.\n\n25\n00:00:59.780 --> 00:01:04.040\nIt's the idea of extending\nthe capability of a object\n\n26\n00:01:04.040 --> 00:01:08.320\nin a domain namespace Hosts.ITPro.TV.\n\n27\n00:01:08.320 --> 00:01:12.340\nTo be able to interact with an object\nin another domain namespace.\n\n28\n00:01:12.340 --> 00:01:16.860\nAn object in the Hosts.ITPro.TV\ndave's space may be able to see,\n\n29\n00:01:16.860 --> 00:01:19.980\ninteract with, consume, talk to, and\n\n30\n00:01:19.980 --> 00:01:25.630\nperhaps exchange information with\nan object in the ITPro.TV, namespace.\n\n31\n00:01:25.630 --> 00:01:28.900\nAnother domain, or\nin the baskets.com domain, right?\n\n32\n00:01:28.900 --> 00:01:33.030\nAnother tree domain, root domain in our\nforest that we've often been referring to.\n\n33\n00:01:33.030 --> 00:01:35.480\nAnd this idea of trust is just that,\n\n34\n00:01:35.480 --> 00:01:40.440\nthe stability to be able to interact\nwith each other and say yeah,\n\n35\n00:01:40.440 --> 00:01:42.870\nit's okay for me to talk to you and\nfor you to talk to me and for\n\n36\n00:01:42.870 --> 00:01:46.960\nme to say that what you need is important\nand I'll give you access to that.\n\n37\n00:01:46.960 --> 00:01:50.050\nAs long as we have this agreement that\nwe'll do that for each other, in theory.\n\n38\n00:01:50.050 --> 00:01:51.800\nThat would be a two-way trust.\n\n39\n00:01:51.800 --> 00:01:54.050\nA trust that both parties\nextend to each other.\n\n40\n00:01:54.050 --> 00:01:57.780\nSo back to your full screenshot here for\njust a minute, right.\n\n41\n00:01:57.780 --> 00:02:00.200\nOr we could stay just like this and\nwe could pretend to fight.\n\n42\n00:02:00.200 --> 00:02:01.848\nRight. Okay. &gt;&gt; [LAUGH]\n&gt;&gt; All right.\n\n43\n00:02:01.848 --> 00:02:02.420\nSo, here we go.\n\n44\n00:02:02.420 --> 00:02:02.940\nAll right.\n&gt;&gt; What are we doing?\n\n45\n00:02:02.940 --> 00:02:04.190\n&gt;&gt; So, we're gonna shake hands.\n\n46\n00:02:04.190 --> 00:02:04.810\n&gt;&gt; Okay.\n\n47\n00:02:04.810 --> 00:02:05.590\n&gt;&gt; Nothing crazy.\n\n48\n00:02:05.590 --> 00:02:06.300\nDon't get all scared.\n\n49\n00:02:06.300 --> 00:02:07.330\nAll right, so we're gonna shake hands.\n\n50\n00:02:07.330 --> 00:02:09.815\nNow, this one-hand shaking.\n\n51\n00:02:09.815 --> 00:02:11.885\nAnd the other is a one-way relationship.\n\n52\n00:02:11.885 --> 00:02:14.995\nIn the sense that either I'm trusting\nCherokee, you could think of it as,\n\n53\n00:02:14.995 --> 00:02:17.305\nlet's say maybe myself\nextending the trust.\n\n54\n00:02:17.305 --> 00:02:20.760\nSo let's say I start the relationship and\nI extend it to you.\n\n55\n00:02:20.760 --> 00:02:23.455\n&gt;&gt; Okay\n&gt;&gt; I am trusting you, right?\n\n56\n00:02:23.455 --> 00:02:27.770\nNow if you trust me,\nwe have to shake hands the other way.\n\n57\n00:02:27.770 --> 00:02:31.000\nAnd so\nnow this is a two-way trust relationship.\n\n58\n00:02:31.000 --> 00:02:35.660\nI am trusting Cherokee,\nCherokee is trusting me, right?\n\n59\n00:02:35.660 --> 00:02:38.340\n&gt;&gt; Okay.\n&gt;&gt; So, when we set up trust relationships,\n\n60\n00:02:38.340 --> 00:02:40.930\none party is the trusting party.\n\n61\n00:02:40.930 --> 00:02:44.190\nOne party is the trusteed party.\n\n62\n00:02:44.190 --> 00:02:45.230\nWe have to keep this mind mind.\n\n63\n00:02:45.230 --> 00:02:48.690\nBecause if we have a one\nway trust relationship,\n\n64\n00:02:48.690 --> 00:02:53.840\none party is trusting the other, and\none party is trusted by the other.\n\n65\n00:02:53.840 --> 00:02:56.655\nAnd if it's only one way,\nthen users on one\n\n66\n00:02:56.655 --> 00:03:00.985\nside can seem to act on objects on\nthe other, but it's not reciprocal.\n\n67\n00:03:00.985 --> 00:03:05.625\nIf it's both ways, users and\nobjects on both sides of the trust\n\n68\n00:03:05.625 --> 00:03:09.925\nare able to interact with, see and use or\nshare information amongst each other.\n\n69\n00:03:09.925 --> 00:03:12.275\nSo it's rare that we set up one-way trust,\n\n70\n00:03:12.275 --> 00:03:15.830\nbecause while there's value in that,\nit is very limiting.\n\n71\n00:03:15.830 --> 00:03:19.700\nBut it's very common that we\nsee two-way trusts set up.\n\n72\n00:03:19.700 --> 00:03:23.290\nAnd so as we've often been talking about,\nyou can go over here and\n\n73\n00:03:23.290 --> 00:03:27.440\nremember this diagram, your probably sick\nof seeing it we put it up so much right.\n\n74\n00:03:27.440 --> 00:03:30.970\nBut if you've seen this diagram before,\nwe've often been referring to it.\n\n75\n00:03:30.970 --> 00:03:34.440\nI've talked about these lines\nthat are kinda sitting here.\n\n76\n00:03:34.440 --> 00:03:38.760\nAnd it's a little hard to see from perhaps\nfar away, but they are two-way arrows.\n\n77\n00:03:38.760 --> 00:03:42.100\nThere's an arrow going in each direction\nwith a black arrow that emanates,\n\n78\n00:03:42.100 --> 00:03:44.540\nlet's say, from here,\nwith a little arrowhead right here.\n\n79\n00:03:44.540 --> 00:03:45.730\nAnd then going the other way.\n\n80\n00:03:45.730 --> 00:03:49.270\nEach one of these arrows represents one\nof those handshakes we just showed you.\n\n81\n00:03:49.270 --> 00:03:53.480\nA one way directional trust that as\nwe pair with the other handshake and\n\n82\n00:03:53.480 --> 00:03:56.350\nthen Cherokee and I would have\nboth our hands connected again.\n\n83\n00:03:56.350 --> 00:03:58.542\nWe have this two-way trust.\n\n84\n00:03:58.542 --> 00:04:03.670\nNow, two-way trusts and two way\ntransitive trusts are very different.\n\n85\n00:04:03.670 --> 00:04:07.000\nWe would need a third person\nto examine transitivity.\n\n86\n00:04:07.000 --> 00:04:10.080\nShould we invite somebody\nin to do a quick on camera?\n\n87\n00:04:10.080 --> 00:04:11.290\nHelp out with this?\n\n88\n00:04:11.290 --> 00:04:11.980\n&gt;&gt; Yeah, we should.\n\n89\n00:04:11.980 --> 00:04:14.730\n&gt;&gt; We should.\nWho should we get to come in?\n\n90\n00:04:14.730 --> 00:04:15.510\n&gt;&gt; Who do I see?\n\n91\n00:04:15.510 --> 00:04:17.530\nI see Brad out there.\n\n92\n00:04:17.530 --> 00:04:20.185\nWe could maybe get-\n&gt;&gt; We could ask Brad to come in.\n\n93\n00:04:20.185 --> 00:04:21.180\n&gt;&gt; [LAUGH]\n&gt;&gt; We could.\n\n94\n00:04:21.180 --> 00:04:23.920\nMegan has to tap him on the shoulder,\nsee if she can get his attention.\n\n95\n00:04:23.920 --> 00:04:26.800\nSo we maybe able to get somebody\nto help us with transitivity.\n\n96\n00:04:26.800 --> 00:04:30.380\nWe're gonna have a special guest\nstar come in for just a second, and\n\n97\n00:04:30.380 --> 00:04:31.720\ngive us just a quick\nlittle visual demo here.\n\n98\n00:04:31.720 --> 00:04:34.290\n&gt;&gt; Tell if it's not--\n&gt;&gt; We're gonna show you transitivity.\n\n99\n00:04:34.290 --> 00:04:35.980\n&gt;&gt; Yeah, he doesn't have to do it.\n\n100\n00:04:35.980 --> 00:04:37.080\n&gt;&gt; No, no, no.\nWe want him to come in--\n\n101\n00:04:37.080 --> 00:04:38.130\n&gt;&gt; No trust falls.\n\n102\n00:04:38.130 --> 00:04:39.310\n&gt;&gt; Right?\nSo it's gonna be helpful.\n\n103\n00:04:39.310 --> 00:04:41.720\nSo we're gonna do this, live tv, right?\n\n104\n00:04:41.720 --> 00:04:43.980\nThis is why we love ITPro.TV selects.\n\n105\n00:04:43.980 --> 00:04:45.570\nWe're gonna bring Megan in with that, but\n\n106\n00:04:45.570 --> 00:04:47.420\nnobody would be there to\nhelp us with the audience.\n\n107\n00:04:47.420 --> 00:04:49.500\nSo, we're gonna bring in\nsomebody really special.\n\n108\n00:04:49.500 --> 00:04:53.230\nYou just heard the door open and close cuz\nwe're actually bringing in a live person.\n\n109\n00:04:53.230 --> 00:04:55.340\nSo come on over here,\nyou're gonna help us with a little demo.\n\n110\n00:04:55.340 --> 00:04:57.760\n&gt;&gt; This is Brad.\n&gt;&gt; Part of the studio audience, folks.\n\n111\n00:04:57.760 --> 00:04:58.470\n&gt;&gt; Hello.\n&gt;&gt; Right,\n\n112\n00:04:58.470 --> 00:05:00.960\nso we're gonna talk about trust\nrelationships here for a minute.\n\n113\n00:05:00.960 --> 00:05:02.200\nTake two step backs,\ndon't hit the glass, okay?\n\n114\n00:05:02.200 --> 00:05:03.470\nI just don't want you\nto trip on the cable.\n\n115\n00:05:03.470 --> 00:05:06.692\nAll right, so you're gonna help us do\nsomething really cool and fun here.\n\n116\n00:05:06.692 --> 00:05:08.700\n&gt;&gt; All right.\n&gt;&gt; So what we're gonna do is show you\n\n117\n00:05:08.700 --> 00:05:12.190\nhow transitive trust relationships\nare created in the value of them.\n\n118\n00:05:12.190 --> 00:05:15.620\nWhen we talk about Windows\nextending trust, right?\n\n119\n00:05:15.620 --> 00:05:18.750\nSo we were saying that when Cherokee and\nI would shake hands, right?\n\n120\n00:05:18.750 --> 00:05:20.830\nSo a one way trust established.\n\n121\n00:05:20.830 --> 00:05:21.495\nTwo-way trust.\n\n122\n00:05:21.495 --> 00:05:23.695\nThat this means we trust each other.\n\n123\n00:05:23.695 --> 00:05:26.230\n&gt;&gt; Okay\n&gt;&gt; But we've left you out of the mix,\n\n124\n00:05:26.230 --> 00:05:27.850\nright because right now\nyou're not connected.\n\n125\n00:05:27.850 --> 00:05:28.510\n&gt;&gt; And I'm sad.\n\n126\n00:05:28.510 --> 00:05:31.010\n&gt;&gt; And you are, so we're gonna fix\nthat cuz we want you to be happy.\n\n127\n00:05:31.010 --> 00:05:31.650\n&gt;&gt; Okay?\n&gt;&gt; So\n\n128\n00:05:31.650 --> 00:05:34.890\nwhat we're gonna do is we're\ngonna show studio audience\n\n129\n00:05:34.890 --> 00:05:38.020\nhow we're gonna actually\nstem trust include you.\n\n130\n00:05:38.020 --> 00:05:41.930\nBut do so in a really cool and\ninnovative way called transitivity.\n\n131\n00:05:41.930 --> 00:05:44.472\nSo, Cherokee, you're gonna join hands and\nshake hands here.\n\n132\n00:05:44.472 --> 00:05:45.150\n&gt;&gt; Okay\n&gt;&gt; Okay\n\n133\n00:05:45.150 --> 00:05:47.610\n&gt;&gt; So, this is now a one-way trust here.\n\n134\n00:05:47.610 --> 00:05:49.260\nOkay, now we are gonna\nshake hands over here.\n\n135\n00:05:49.260 --> 00:05:52.200\nAll right now, one-way trust here, right?\n\n136\n00:05:52.200 --> 00:05:57.800\nNow the issue is that without Cherokee and\nI closing the loop down here, right?\n\n137\n00:05:57.800 --> 00:06:00.290\nWe have no way to interact\nwith each other normally.\n\n138\n00:06:00.290 --> 00:06:01.890\nWe could do this, right?\n\n139\n00:06:01.890 --> 00:06:04.870\nAnd we could do this, but\nthis is kinda awkward, right?\n\n140\n00:06:04.870 --> 00:06:05.830\nThis is [INAUDIBLE].\n\n141\n00:06:05.830 --> 00:06:07.300\nAll right,\neverybody switch to the left now.\n\n142\n00:06:07.300 --> 00:06:10.160\nAll right, so\nthis is kinda awkward, right?\n\n143\n00:06:10.160 --> 00:06:12.920\nOnly if you're square dancing do you\ndo this, otherwise you don't do this.\n\n144\n00:06:12.920 --> 00:06:15.210\nSo this is awkward,\ncuz this doesn't always work, right?\n\n145\n00:06:15.210 --> 00:06:18.790\nSo, what we have to do is find a way for\nus to be connected, but\n\n146\n00:06:18.790 --> 00:06:21.320\nnot have to worry about creating\nthis other connection at the bottom.\n\n147\n00:06:21.320 --> 00:06:23.350\nWe don't wanna put the bottom\non the triangle in other words.\n\n148\n00:06:23.350 --> 00:06:25.670\nWant to keep it open, but\nstill allow trust to happen.\n\n149\n00:06:25.670 --> 00:06:27.650\nSo, put the hands back together there.\n\n150\n00:06:27.650 --> 00:06:29.005\nOkay, one there, one here.\n\n151\n00:06:29.005 --> 00:06:31.460\nNow, concept of transitivity\nis very simple.\n\n152\n00:06:31.460 --> 00:06:33.590\nIf Cherokee, right?\n\n153\n00:06:33.590 --> 00:06:35.140\nIs able to trust Bob.\n\n154\n00:06:35.140 --> 00:06:36.270\nAnd I.\n\n155\n00:06:36.270 --> 00:06:37.160\n&gt;&gt; What?\n&gt;&gt; Brad.\n\n156\n00:06:37.160 --> 00:06:37.760\n&gt;&gt; I'm sorry.\n\n157\n00:06:37.760 --> 00:06:38.983\nBrad.\nI'm sorry.\n\n158\n00:06:38.983 --> 00:06:40.686\n&gt;&gt; [LAUGH]\n&gt;&gt; Cherokee is able to trust Brad.\n\n159\n00:06:40.686 --> 00:06:45.060\nIf Cherokee was able to trust Brad and\nI am able to trust Brad, right?\n\n160\n00:06:45.060 --> 00:06:46.750\nBut we don't have a direct connection.\n\n161\n00:06:46.750 --> 00:06:48.670\nBut since we both trust Brad.\n\n162\n00:06:48.670 --> 00:06:50.590\nAnd Brad trusts both of us.\n\n163\n00:06:50.590 --> 00:06:51.550\n&gt;&gt; Brad [INAUDIBLE].\n\n164\n00:06:51.550 --> 00:06:53.240\n&gt;&gt; Brad essentially says,\nhey, you know what?\n\n165\n00:06:53.240 --> 00:06:54.550\nThey're both trustworthy.\n\n166\n00:06:54.550 --> 00:06:56.450\nBecause they both trust me and\nI trust them.\n\n167\n00:06:56.450 --> 00:06:58.900\nSo Cherokee can inherit,\n\n168\n00:06:58.900 --> 00:07:02.325\nessentially, the trust with me without\nhaving to connect directly to me.\n\n169\n00:07:02.325 --> 00:07:03.830\n&gt;&gt; Okay\n&gt;&gt; We're just gonna essentially both\n\n170\n00:07:03.830 --> 00:07:04.501\ngo through you.\n\n171\n00:07:04.501 --> 00:07:05.690\n&gt;&gt; Okay\n&gt;&gt; You become the common source\n\n172\n00:07:05.690 --> 00:07:06.300\nthat we both trust.\n\n173\n00:07:06.300 --> 00:07:07.110\n&gt;&gt; I'm the gatekeeper.\n\n174\n00:07:07.110 --> 00:07:09.160\n&gt;&gt; You can think of yourself\nas the gatekeeper, right?\n\n175\n00:07:09.160 --> 00:07:12.140\nYeah, that's a good way to think about it,\ngood way to consider it.\n\n176\n00:07:12.140 --> 00:07:13.990\nSo as a result, right.\n\n177\n00:07:13.990 --> 00:07:15.950\nThis relationship now works.\n\n178\n00:07:15.950 --> 00:07:20.500\nAnd the user over here with Cherokee\nconnects us, let us say maybe a printer or\n\n179\n00:07:20.500 --> 00:07:24.165\nsome sort of object over here in my domain\nwithout having have to reconnection.\n\n180\n00:07:24.165 --> 00:07:27.540\nCoz we both go through this domain,\nthe Brad domain,\n\n181\n00:07:27.540 --> 00:07:29.000\nsitting right up here at the top, right.\n\n182\n00:07:29.000 --> 00:07:30.750\n&gt;&gt; Right.\n&gt;&gt; As a result that works.\n\n183\n00:07:30.750 --> 00:07:33.055\nAll right so\nthis is the idea of transitivity.\n\n184\n00:07:33.055 --> 00:07:35.110\nAll right say thank you to Bob everybody.\n\n185\n00:07:35.110 --> 00:07:38.630\nI'm only kidding, say thank you to Brad,\nthanks very much.\n\n186\n00:07:38.630 --> 00:07:39.550\n&gt;&gt; All right.\n&gt;&gt; All right so\n\n187\n00:07:39.550 --> 00:07:41.940\nthe idea of transitivity, right?\n\n188\n00:07:41.940 --> 00:07:46.470\nIs the idea of being able to extend\ntrust through a common third-party,\n\n189\n00:07:46.470 --> 00:07:49.820\nin this case our Brad domain sitting\nat the top of the triangle here.\n\n190\n00:07:49.820 --> 00:07:53.002\nAnd if we go back to our example it's\nthe same thing on the screen, right?\n\n191\n00:07:53.002 --> 00:07:57.826\nSo we go back to our picture right here,\nwe see that if Brad was the ITPro.TV\n\n192\n00:07:57.826 --> 00:08:01.426\ndomain as our example,\nlets say Cherokee was host, and\n\n193\n00:08:01.426 --> 00:08:06.343\nlets say just I was audience as we did\nall this, users and objects and hosts.\n\n194\n00:08:06.343 --> 00:08:10.013\nOver there with Cherokee, and users and\nobjects over here in audience over here\n\n195\n00:08:10.013 --> 00:08:12.440\nwith me,\nwould be able to interact with each other.\n\n196\n00:08:12.440 --> 00:08:16.240\nBecause they both went through ITPRO.TV,\nthey both were in common with, or\n\n197\n00:08:16.240 --> 00:08:19.880\nhad in common, Brad,\nthe ITPRO.TV domain up at the top.\n\n198\n00:08:19.880 --> 00:08:23.000\nAnd as a result, everybody's able\nto interact with each other and\n\n199\n00:08:23.000 --> 00:08:24.060\nsee each other.\n\n200\n00:08:24.060 --> 00:08:27.210\nAnd this is the value of our\ntwo-way transitive trusts.\n\n201\n00:08:27.210 --> 00:08:29.040\nSo when we extend trusts.\n\n202\n00:08:29.040 --> 00:08:32.100\nWe have to think about the nature of\nthe trust relationship we're extending.\n\n203\n00:08:32.100 --> 00:08:33.260\nHow it works, right?\n\n204\n00:08:33.260 --> 00:08:34.110\nAnd why it's important.\n\n205\n00:08:34.110 --> 00:08:35.220\nAnd Brad becomes the conduit.\n\n206\n00:08:35.220 --> 00:08:39.660\nIt's a great way of thinking about it\nbecause we transfer the trust through\n\n207\n00:08:39.660 --> 00:08:41.630\nBrad, through that common domain.\n\n208\n00:08:41.630 --> 00:08:44.410\nOr the common name space that\nwe're using to refer to it.\n\n209\n00:08:44.410 --> 00:08:47.660\nThe ITProTV.IT or Brad or\nwhatever the case may be.\n\n210\n00:08:47.660 --> 00:08:49.550\nSo I have a little summary diagram.\n\n211\n00:08:49.550 --> 00:08:52.180\nThat helps just to think\nabout put it back up,\n\n212\n00:08:52.180 --> 00:08:56.510\nhelps us to think remember the kinds\nof trust relationships that we see.\n\n213\n00:08:56.510 --> 00:08:58.650\nWe've examined several of them already.\n\n214\n00:08:58.650 --> 00:09:04.406\nWe've talked about parent and child,\nthat's what we see between ITPRO.TV and\n\n215\n00:09:04.406 --> 00:09:09.570\nlet's say host.itprotv in our diagram\nthat's a parent child trust and\n\n216\n00:09:09.570 --> 00:09:11.616\nit is transitive by nature.\n\n217\n00:09:11.616 --> 00:09:14.070\nWe've talked about that,\na little description of what that means.\n\n218\n00:09:14.070 --> 00:09:18.030\nWe have a tree root trust, those\nare also transitive, those are two way.\n\n219\n00:09:18.030 --> 00:09:22.500\nWhen we create a brand new ADD S\ntree with an existing forest\n\n220\n00:09:22.500 --> 00:09:27.050\na new tree root gets created and the trust\nrelationships has to be established and\n\n221\n00:09:27.050 --> 00:09:28.940\nwhen we have external trusts.\n\n222\n00:09:28.940 --> 00:09:34.008\nThis is where we go from outside of our\nlet's say forest to another area or\n\n223\n00:09:34.008 --> 00:09:38.661\noutside of our name space to another\narea to maybe a resource that is\n\n224\n00:09:38.661 --> 00:09:43.481\nunknown to us normally, we create\nessentially an external one way or\n\n225\n00:09:43.481 --> 00:09:46.255\ntwo way contract do anything about it.\n\n226\n00:09:46.255 --> 00:09:50.355\nOne way or two way relationship because\nI know that these could be one way or\n\n227\n00:09:50.355 --> 00:09:54.788\ntwo way trust but in what we're doing\nexternal trust reources to be accessed and\n\n228\n00:09:54.788 --> 00:09:56.590\ngranted within older domains.\n\n229\n00:09:56.590 --> 00:09:59.170\nThat's why I say within\na Windows NT4 domain, or\n\n230\n00:09:59.170 --> 00:10:01.440\nin the ADS domain and\nthen in other forests.\n\n231\n00:10:01.440 --> 00:10:04.020\nIf we're doing a jump into another forest,\nor\n\n232\n00:10:04.020 --> 00:10:08.010\nan older domain, under a different\nkind of operating system,\n\n233\n00:10:08.010 --> 00:10:11.270\nyou don't tend to see any Windows NT4\ndomains laying around these days,\n\n234\n00:10:11.270 --> 00:10:15.100\nbut in theory there may be some\nreally old ones out there.\n\n235\n00:10:15.100 --> 00:10:17.010\nSo we just wanna know that\nwe could connect to them.\n\n236\n00:10:17.010 --> 00:10:21.490\nYet you'll be the prior to\nWindows 2000 directory namespaces\n\n237\n00:10:21.490 --> 00:10:22.470\nthat we may have seen.\n\n238\n00:10:22.470 --> 00:10:26.300\nThis was a lot bigger many,\nmany years ago where we were a lot closer\n\n239\n00:10:26.300 --> 00:10:30.930\nto the Window NT4 domains still being\naround when Windows 2000 first came out.\n\n240\n00:10:30.930 --> 00:10:36.030\nThis was a big deal because you would\nconnect into NT4 namespaces.Today, I would\n\n241\n00:10:36.030 --> 00:10:39.030\nbe hard pressed to think of anybody I know\nthat still has NT4 running in production.\n\n242\n00:10:39.030 --> 00:10:42.890\nYou may still see it on occasion in\ntest environments and various things but\n\n243\n00:10:42.890 --> 00:10:44.480\nyou don't really see it anymore.\n\n244\n00:10:44.480 --> 00:10:47.710\nIt's really more the ADDS domain in\nanother forest that we would connect\n\n245\n00:10:47.710 --> 00:10:51.460\nyou with this, but the idea would be,\nas you said, maybe a vendor, a one way or\n\n246\n00:10:51.460 --> 00:10:55.680\ntwo way, into their domain\nname space in their forest.\n\n247\n00:10:55.680 --> 00:10:59.090\nThink about setting up\na relationship where a vendor\n\n248\n00:10:59.090 --> 00:11:01.030\nis providing supplies to you, let's say.\n\n249\n00:11:01.030 --> 00:11:05.330\nAnd has to login and authenticate\nin your name space to get into\n\n250\n00:11:05.330 --> 00:11:08.023\nsome sort of inventory program\nto understand what you need or\n\n251\n00:11:08.023 --> 00:11:10.780\nthere maybe some sort\nof billing solutions.\n\n252\n00:11:10.780 --> 00:11:13.150\nThey can go in and enter invoices or\nwhatever the case may be.\n\n253\n00:11:13.150 --> 00:11:16.010\nYou need a relationship to\nbe able to do that, right?\n\n254\n00:11:16.010 --> 00:11:19.160\nAnd that would be the trust relationship\nthat we would consider external.\n\n255\n00:11:19.160 --> 00:11:22.956\nIt's not transitive cuz we don't wanna\ntransfer trust from that vendor to all\n\n256\n00:11:22.956 --> 00:11:26.980\nthe other customers and partners they may\nhave, we don't want them trusting us and\n\n257\n00:11:26.980 --> 00:11:29.473\nthe vendor that's the one\nthat's trusting them.\n\n258\n00:11:29.473 --> 00:11:32.167\nWe just wanna have this one\nway exclusive relationship.\n\n259\n00:11:32.167 --> 00:11:32.673\nRight?\n\n260\n00:11:32.673 --> 00:11:34.050\nSo, no speed dating, right?\n\n261\n00:11:34.050 --> 00:11:36.600\nAll we wanna have is the one\nway connection, between us and\n\n262\n00:11:36.600 --> 00:11:39.800\nthat's why we call it an external\nnon transitive trust.\n\n263\n00:11:39.800 --> 00:11:43.700\nNon transitivity means no\nexchange of that information\n\n264\n00:11:43.700 --> 00:11:45.610\nthrough the parties that\ntrust the common ones.\n\n265\n00:11:45.610 --> 00:11:49.740\nSo when we are both trusting Brad and\nwe say, hey, Cherokee and\n\n266\n00:11:49.740 --> 00:11:52.670\nAdam connect to each other without\nhaving to extend that connection.\n\n267\n00:11:52.670 --> 00:11:54.720\nThat's transitive,\nif we did the same thing but\n\n268\n00:11:54.720 --> 00:11:58.150\nhad no transitivity we would not\nbe able to trust each other.\n\n269\n00:11:58.150 --> 00:12:01.220\nCuz Brad would have an exclusive\nrelationship with Cherokee,\n\n270\n00:12:01.220 --> 00:12:02.760\nexclusive relationship with me.\n\n271\n00:12:02.760 --> 00:12:07.260\nAnd we wouldn't see the value of having\nthat relationship being held in common,\n\n272\n00:12:07.260 --> 00:12:08.060\nthat's the difference.\n\n273\n00:12:08.060 --> 00:12:09.610\nSo want to make sure we're aware of that.\n\n274\n00:12:09.610 --> 00:12:14.800\nWe also have realm, down here, if we go\nback to our diagram, or table actually.\n\n275\n00:12:14.800 --> 00:12:15.970\nWe have a realm trust.\n\n276\n00:12:15.970 --> 00:12:20.160\nThese are one or two ways well, but\nthey can be transitive, or non transitive.\n\n277\n00:12:20.160 --> 00:12:24.524\nThis allows us as you can see to\nestablish authentication pathways between\n\n278\n00:12:24.524 --> 00:12:26.395\nthe Windows ADF's domain, and\n\n279\n00:12:26.395 --> 00:12:31.394\na Kubboro's protocol realm that implements\ndirectories services Outside of ADDS.\n\n280\n00:12:31.394 --> 00:12:34.388\nIn other words, and I mentioned\nthis probably in passing once or\n\n281\n00:12:34.388 --> 00:12:36.490\ntwice somewhere in our conversations.\n\n282\n00:12:36.490 --> 00:12:40.520\nBut Kerberos is the default security\nmechanism we use in Windows for\n\n283\n00:12:40.520 --> 00:12:42.900\nthe active directory,\nit has been since Windows 2000.\n\n284\n00:12:42.900 --> 00:12:47.540\nBut Kerberos is not a Microsoft exclusive,\nMicrosoft only solution.\n\n285\n00:12:47.540 --> 00:12:50.830\nIn other words,\nit exists outside of the Microsoft world.\n\n286\n00:12:50.830 --> 00:12:53.350\nAnd Microsoft Co-opted\nthe concept of Kerberos.\n\n287\n00:12:53.350 --> 00:12:58.860\nBrought in and incorporated it\ninto the Windows 2000 forward\n\n288\n00:12:58.860 --> 00:13:02.960\nLDAP directory structure to make\nwhat we think of today as the ADDS.\n\n289\n00:13:02.960 --> 00:13:06.200\nBut it was something that was\ncreated separate from Microsoft.\n\n290\n00:13:06.200 --> 00:13:09.470\nCreated actually, totally independent\nof them and other entities,\n\n291\n00:13:09.470 --> 00:13:13.800\nLinux and Unix for instance, systems use\nKerberos in their own implementation.\n\n292\n00:13:13.800 --> 00:13:17.690\nTheir own specific way of implementing it,\nslightly different than Microsoft's.\n\n293\n00:13:17.690 --> 00:13:20.370\nBut they use it to drive\ndirectory services as well.\n\n294\n00:13:20.370 --> 00:13:25.460\nSo we call those non active directory,\nnon ADDS name spaces,\n\n295\n00:13:25.460 --> 00:13:28.640\nin Linux unit systems that use Kerberos,\nrealms.\n\n296\n00:13:28.640 --> 00:13:31.336\nThat's the name we give\nto non Microsoft domains.\n\n297\n00:13:31.336 --> 00:13:32.650\nEssentially what we call them.\n\n298\n00:13:32.650 --> 00:13:34.540\nSo when you set up a realm trust,\n\n299\n00:13:34.540 --> 00:13:39.720\nyou're linking to an external name space\nin one of those non-Microsoft directories,\n\n300\n00:13:39.720 --> 00:13:44.278\nto create the ability for you to then\nleverage that, and interact with that.\n\n301\n00:13:44.278 --> 00:13:46.530\nSo this is what we call a realm trust.\n\n302\n00:13:46.530 --> 00:13:50.298\nAnd the concept of transitively exists\nin those environments as well so\n\n303\n00:13:50.298 --> 00:13:53.703\nwe can leverage it there,\ndepending on how we choose to do that.\n\n304\n00:13:53.703 --> 00:13:59.396\n&gt;&gt; The term realm just seems so much more\nmystical than domain for some reason.\n\n305\n00:13:59.396 --> 00:14:00.016\n&gt;&gt; We're not doing the whole\npurple unicorn thing.\n\n306\n00:14:00.016 --> 00:14:03.545\n&gt;&gt; [LAUGH]\n&gt;&gt; We're just gonna stay firm feet.\n\n307\n00:14:03.545 --> 00:14:05.390\n&gt;&gt; Okay.\n&gt;&gt; Feet planted firmly on the ground.\n\n308\n00:14:05.390 --> 00:14:08.250\nLet's just stay focused on\nthe directory services.\n\n309\n00:14:08.250 --> 00:14:09.303\nAnd the trust concept.\n\n310\n00:14:09.303 --> 00:14:12.770\nIt is more fun to think about,\nand more exciting to say.\n\n311\n00:14:12.770 --> 00:14:14.060\nI'll give you that much.\n\n312\n00:14:14.060 --> 00:14:17.960\nAll right, so forest, right,\na forest trust, transit of one or\n\n313\n00:14:17.960 --> 00:14:19.330\ntwo ways you can see.\n\n314\n00:14:19.330 --> 00:14:21.150\nTrust between different forests,\nallowing us,\n\n315\n00:14:21.150 --> 00:14:25.770\nessentially, within the ADDS structure to\nshare,and interact with these name spaces.\n\n316\n00:14:25.770 --> 00:14:30.830\nSo we often, as we have talked about in\nsome of our prior episodes part tree for\n\n317\n00:14:30.830 --> 00:14:33.330\ninstance, part two where\nwe mentioned specifically\n\n318\n00:14:33.330 --> 00:14:35.970\nthe idea in this area that we\ncould have multiple forests and\n\n319\n00:14:35.970 --> 00:14:38.360\nthey have reasons to do that\nwithin one organization.\n\n320\n00:14:38.360 --> 00:14:42.390\nIf we had those, we have to link them\nto allow the sharing of information,\n\n321\n00:14:42.390 --> 00:14:45.740\nwe would use forest trusts\nto be able to do that and\n\n322\n00:14:45.740 --> 00:14:48.060\nthey would be transitive,\nthey could be one way.\n\n323\n00:14:48.060 --> 00:14:51.840\nWe only allow users from this\nforest to trust objects and\n\n324\n00:14:51.840 --> 00:14:55.040\nto use them over there or they could\nbe two-way going in both directions.\n\n325\n00:14:55.040 --> 00:14:58.330\nBecause sometimes in mergers and\nacquisitions for\n\n326\n00:14:58.330 --> 00:15:01.120\ninstance where one company acquires or\nbuys another.\n\n327\n00:15:01.120 --> 00:15:04.190\nThere is a reason to initially\nset up only a one-way trust so\n\n328\n00:15:04.190 --> 00:15:08.160\nthat users from the company\nthat is doing the acquiring\n\n329\n00:15:08.160 --> 00:15:12.160\ncan get into the company that was acquired\nand start interacting with information.\n\n330\n00:15:12.160 --> 00:15:16.420\nBut we don't want the users in the company\nthat was acquired to back flow into\n\n331\n00:15:16.420 --> 00:15:17.060\nthe new quote and\n\n332\n00:15:17.060 --> 00:15:21.110\nquote parent company right away cuz we\nwanna set up certain requirements have to\n\n333\n00:15:21.110 --> 00:15:24.820\nbe put in place, certain standards have\nto be implemented things of that nature.\n\n334\n00:15:24.820 --> 00:15:28.770\nAnd so, typically the IT teams will\nhave to start interacting in order to\n\n335\n00:15:28.770 --> 00:15:31.390\nintegrate systems but\nthe average users do not.\n\n336\n00:15:31.390 --> 00:15:34.240\nAnd so we have to be very selective\nin some cases about how that happens.\n\n337\n00:15:34.240 --> 00:15:38.814\nAnd so these one-way versus two-way\nrelationships become very important.\n\n338\n00:15:38.814 --> 00:15:41.610\nAnd then, what's called a shortcut trust,\n\n339\n00:15:41.610 --> 00:15:45.223\nshortcut trust would be that\ntrust that we did not create.\n\n340\n00:15:45.223 --> 00:15:48.777\nBut that we could have created to close\nthe triangle in our example when we have\n\n341\n00:15:48.777 --> 00:15:51.684\nBrad here helping us out talking\nabout transitivity earlier.\n\n342\n00:15:51.684 --> 00:15:55.983\nIf we had decided not to have two-way\nat the trust between Cherokee,\n\n343\n00:15:55.983 --> 00:16:00.416\nBrad and I but rather just a series of\ntrust relationships, we could have closed\n\n344\n00:16:00.416 --> 00:16:04.873\nthe bottom of the triangle by Cherokee and\nI joining hands and creating a trust.\n\n345\n00:16:04.873 --> 00:16:06.992\nThat would be either a one-way trust But\n\n346\n00:16:06.992 --> 00:16:11.243\nit also is sometimes referred to as\nshortcut trust, essentially the same idea.\n\n347\n00:16:11.243 --> 00:16:15.629\nIt's nontransitive, it would not imply\nthat everybody trusts everybody else and\n\n348\n00:16:15.629 --> 00:16:16.630\ncan use them.\n\n349\n00:16:16.630 --> 00:16:20.970\nBut it's used to create a specific\ndedicated pathway for communication and\n\n350\n00:16:20.970 --> 00:16:22.770\nthe ability to access resources.\n\n351\n00:16:22.770 --> 00:16:26.150\nSo if we go back to before you asked your\nquestion, I know you wanna say something.\n\n352\n00:16:26.150 --> 00:16:28.790\nIf we can go back, just give me one\nsecond to bring the diagram up.\n\n353\n00:16:28.790 --> 00:16:31.340\nBut if we go back to the diagram,\nlet's think about this.\n\n354\n00:16:31.340 --> 00:16:34.790\nInstead of having two-way trust\nrelationships here that are transitive,\n\n355\n00:16:34.790 --> 00:16:37.780\nlet's say I just had one arrow\ngoing in each direction.\n\n356\n00:16:37.780 --> 00:16:39.560\nPretend I remove the other arrow.\n\n357\n00:16:39.560 --> 00:16:43.570\nAnd I want it specifically to\nlink hosts at audience, together.\n\n358\n00:16:43.570 --> 00:16:46.920\nI can create a shortcut trust from\nhere to here, or the other way,\n\n359\n00:16:46.920 --> 00:16:49.120\nit doesn't really matter,\nand I can do that.\n\n360\n00:16:49.120 --> 00:16:52.628\nThat would allow these two to talk to\neach other because there's no way for\n\n361\n00:16:52.628 --> 00:16:54.619\nthem to exchange trust through ITProTV.\n\n362\n00:16:54.619 --> 00:16:59.248\nBecause we've said those trusts for the\nmoment are trusts that are not transitive.\n\n363\n00:16:59.248 --> 00:17:03.410\nSo a shortcut trust is simply\na dedicated pathway to allow for\n\n364\n00:17:03.410 --> 00:17:08.210\ncommunication across some sort of\ndivide between two namespaces.\n\n365\n00:17:08.210 --> 00:17:12.260\nMaybe this is between\nthe hosts.itpro.tv and baskets.com,\n\n366\n00:17:12.260 --> 00:17:15.360\nthe root of the other namespace in\nthe forest that we wanna get to.\n\n367\n00:17:15.360 --> 00:17:19.370\nAnd I create a trust that goes this way\nand it's a shortcut that goes directly.\n\n368\n00:17:19.370 --> 00:17:21.026\nIt's just a dedicate one-way trust.\n\n369\n00:17:21.026 --> 00:17:25.668\nNontransitive in nature, only allowing\nresources in hosts.itpro.tv to\n\n370\n00:17:25.668 --> 00:17:29.884\ninteract with resources up in\nthe baskets.com domain, in theory.\n\n371\n00:17:29.884 --> 00:17:33.055\nThe one we keep talking about that\nwould be there at the top of the page.\n\n372\n00:17:33.055 --> 00:17:35.272\nSo this would be a shortcut trust, right?\n\n373\n00:17:35.272 --> 00:17:36.852\nA trust that is established there.\n\n374\n00:17:36.852 --> 00:17:40.034\nWe configure these to be able\nto authenticate, as you can see,\n\n375\n00:17:40.034 --> 00:17:43.894\nbetween AD DS domains and different\nparts of the forest as I was suggesting.\n\n376\n00:17:43.894 --> 00:17:45.972\nA no shortcut trust exists by default.\n\n377\n00:17:45.972 --> 00:17:47.322\nYou must create them, right?\n\n378\n00:17:47.322 --> 00:17:50.842\nSo these must be right-clicked and\ncreated in the domains and, well,\n\n379\n00:17:50.842 --> 00:17:52.554\nthrough the properties in the domains and\ntrust tool.\n\n380\n00:17:52.554 --> 00:17:54.762\nI'm gonna show you how we do these\nin a minute but we go into and\n\n381\n00:17:54.762 --> 00:17:58.010\nessentially choose this and\nspecify what kind of trust we wanna do.\n\n382\n00:17:58.010 --> 00:17:59.100\n&gt;&gt; Okay, I have a lot of questions.\n\n383\n00:17:59.100 --> 00:18:00.111\nI'll try to,\n&gt;&gt; You only get one.\n\n384\n00:18:00.111 --> 00:18:00.932\n&gt;&gt; [LAUGH] Okay.\n\n385\n00:18:00.932 --> 00:18:03.610\n&gt;&gt; Make it a good one and choose wisely.\n\n386\n00:18:03.610 --> 00:18:05.724\nI'm just gonna extend the laptop while\nwe're talking and ready for the demo.\n\n387\n00:18:05.724 --> 00:18:10.670\n&gt;&gt; So what would be an advantage\nto go ahead and set that up?\n\n388\n00:18:10.670 --> 00:18:12.340\nIs it contingent upon bandwidth?\n\n389\n00:18:12.340 --> 00:18:14.230\n&gt;&gt; That being a one-way trust.\n\n390\n00:18:14.230 --> 00:18:15.700\n&gt;&gt; Okay, shortcut trust.\n\n391\n00:18:15.700 --> 00:18:19.930\nIf I had already a two-way\ntrust up to my parent domain,\n\n392\n00:18:19.930 --> 00:18:21.640\njust like in our example there.\n\n393\n00:18:21.640 --> 00:18:22.990\nWhy would I put that shortcut?\n\n394\n00:18:22.990 --> 00:18:26.760\nMaybe if there was a faster link between\nthose two domain controllers and\n\n395\n00:18:26.760 --> 00:18:28.720\nthose two child domains?\n\n396\n00:18:28.720 --> 00:18:31.810\nOr is it just less work to\nset up a shortcut trust?\n\n397\n00:18:33.220 --> 00:18:35.880\n&gt;&gt; So a couple of reasons why we may or\nmay not do this.\n\n398\n00:18:35.880 --> 00:18:39.370\nSo one of the reasons would\nbe that bandwidth management.\n\n399\n00:18:39.370 --> 00:18:40.265\nSo you hit it right on the nose, right?\n\n400\n00:18:40.265 --> 00:18:42.690\nBut it could be an issue\nwith connectivity.\n\n401\n00:18:42.690 --> 00:18:47.640\nWe may want to specify that this\npathway is preferred because maybe this\n\n402\n00:18:47.640 --> 00:18:51.860\nis the specific domain controller in\nthat domain we're gonna connect with.\n\n403\n00:18:51.860 --> 00:18:56.250\nAnd we're gonna link that trust and\nas a result, that's gonna be important.\n\n404\n00:18:56.250 --> 00:19:01.203\nWe may not have a way of getting to that\nother namespace any other way, right?\n\n405\n00:19:01.203 --> 00:19:02.204\nAnd so as a result,\n\n406\n00:19:02.204 --> 00:19:05.900\nwe may need the shortcut trust\nin order to be able to do that.\n\n407\n00:19:05.900 --> 00:19:09.580\nAnd we may want a dedicated path\nthat goes specifically there\n\n408\n00:19:09.580 --> 00:19:13.400\nthat doesn't go across the transitive\ntrust in order to connect.\n\n409\n00:19:13.400 --> 00:19:15.580\nBecause we may want users, certain users.\n\n410\n00:19:15.580 --> 00:19:20.086\nMaybe let's say this group of IT help desk\nprofessionals I mentioned during mergers\n\n411\n00:19:20.086 --> 00:19:23.586\nand acquisitions that often start\ntalking to each other within.\n\n412\n00:19:23.586 --> 00:19:25.278\nI know I said between forests but\n\n413\n00:19:25.278 --> 00:19:28.410\nshortcut trusts are within\na forest between domains.\n\n414\n00:19:28.410 --> 00:19:30.588\nLet's just say they were maybe\nin two separate domains and\n\n415\n00:19:30.588 --> 00:19:31.617\nwe wanted to connect them.\n\n416\n00:19:31.617 --> 00:19:35.685\nWe may create a shortcut trust to\nfacilitate their use of that while\n\n417\n00:19:35.685 --> 00:19:40.060\neverybody else was going across,\nlet's say, the transitive trust.\n\n418\n00:19:40.060 --> 00:19:40.970\nTaking a different path.\n\n419\n00:19:40.970 --> 00:19:42.342\nSo there could be a lot of reasons.\n\n420\n00:19:42.342 --> 00:19:47.089\nBut ultimately, the idea would be that\nyes, typically it's because we have\n\n421\n00:19:47.089 --> 00:19:51.840\na bandwidth or perhaps replication\nbandwidth control or concern issue.\n\n422\n00:19:51.840 --> 00:19:53.490\n&gt;&gt; Okay.\n&gt;&gt; We wanna be able to control that\n\n423\n00:19:53.490 --> 00:19:56.260\ntrust relationship and\nstructure it where we wanna\n\n424\n00:19:56.260 --> 00:19:59.000\nbe in charge of what it's gonna\nconnect to and how it's gonna connect.\n\n425\n00:19:59.000 --> 00:20:02.490\nThat would be a driving reason\nmore often than not for this.\n\n426\n00:20:02.490 --> 00:20:05.250\nSpeaking of driving reasons and\nreasons why we do this and\n\n427\n00:20:05.250 --> 00:20:09.100\nhow we do this, thought it would be nice\nto follow up on our crazy conversation.\n\n428\n00:20:09.100 --> 00:20:12.566\nHow often we bring in a guest\nstar on the ITProTV episode and\n\n429\n00:20:12.566 --> 00:20:16.618\nshow you how to create trust\nrelationships out of thin air, right?\n\n430\n00:20:16.618 --> 00:20:17.650\nThat was pretty cool.\n\n431\n00:20:17.650 --> 00:20:20.120\nSo what I thought we'd do is actually\njust do a quick little demo of\n\n432\n00:20:20.120 --> 00:20:20.950\nthe domains in trust.\n\n433\n00:20:20.950 --> 00:20:22.610\nSo I wanna show you how\nsome trusts get set up,\n\n434\n00:20:22.610 --> 00:20:24.660\nactually show you how this\ncomes to life in the console.\n\n435\n00:20:24.660 --> 00:20:27.770\nSo if you join me here, I'll explain\nwhere we are and what we're about to do.\n\n436\n00:20:27.770 --> 00:20:32.492\nWe're on our domain controller or\nPLAB DC01 machine.\n\n437\n00:20:32.492 --> 00:20:34.964\nI'm in the Active Directory Domains and\nTrusts tools.\n\n438\n00:20:34.964 --> 00:20:37.836\nSo I've gone to Server Manager,\ngone to tools,\n\n439\n00:20:37.836 --> 00:20:41.010\nopened up Active Directory Domains and\nTrusts.\n\n440\n00:20:41.010 --> 00:20:44.210\nAnd what we're about to do is go in.\n\n441\n00:20:44.210 --> 00:20:50.440\nYou can see that I am on where I have my\npracticelabs.com domain listed there.\n\n442\n00:20:50.440 --> 00:20:55.329\nAnd I'm just trying to pull that bar\njust so you can see the full name there.\n\n443\n00:20:55.329 --> 00:20:59.114\nSo Practice Labs,\npladvc1 practicelabs.com.\n\n444\n00:20:59.114 --> 00:21:01.185\nI've got my practicelabs.com domain.\n\n445\n00:21:01.185 --> 00:21:04.332\nI'm gonna highlight this,\nright-click, there we go.\n\n446\n00:21:04.332 --> 00:21:06.169\nAnd I'm gonna go to properties.\n\n447\n00:21:07.368 --> 00:21:10.370\nAnd inside the properties, I'm gonna\nbring up the properties of the domain,\n\n448\n00:21:10.370 --> 00:21:12.530\nI'm gonna go to the trusts tab.\n\n449\n00:21:12.530 --> 00:21:15.110\nAnd you can see the trusts tab\nright there, and it's blank.\n\n450\n00:21:15.110 --> 00:21:19.850\nDomains, trusted by this domain,\nthey're called outgoing trusts.\n\n451\n00:21:19.850 --> 00:21:23.880\nDomains that trust this domain, incoming\ntrusts, and notice there is nothing here.\n\n452\n00:21:23.880 --> 00:21:25.990\nSo we're gonna go ahead and\nwe're going to create and\n\n453\n00:21:25.990 --> 00:21:28.190\nextend some trust relationships.\n\n454\n00:21:28.190 --> 00:21:32.050\nSpecifically I'm gonna go ahead and I'm\ngonna create a forest trust relationship.\n\n455\n00:21:32.050 --> 00:21:34.030\nFirst, a relationship between two forests.\n\n456\n00:21:34.030 --> 00:21:36.660\nWe talked about this and\nwhy this may be important.\n\n457\n00:21:36.660 --> 00:21:39.820\nI've got two forest set up,\nthe practicelabs.com.\n\n458\n00:21:39.820 --> 00:21:41.920\nForest with practice labs, forest.\n\n459\n00:21:41.920 --> 00:21:46.027\nAnd I've got another one called\npracticeit.co.uk, the forest trust root,\n\n460\n00:21:46.027 --> 00:21:48.551\nthe root domain controller and\nthe root domain.\n\n461\n00:21:48.551 --> 00:21:53.360\nAnd we're gonna create a link,\na connection, a trust between these two.\n\n462\n00:21:53.360 --> 00:21:54.860\nSo I'm gonna go ahead and\nI'm gonna set this up.\n\n463\n00:21:54.860 --> 00:21:56.410\nSo what I'm gonna do is come in here.\n\n464\n00:21:56.410 --> 00:21:59.400\nAnd I'm gonna go ahead and\nI'm gonna go ahead and\n\n465\n00:21:59.400 --> 00:22:01.500\nclick at the bottom here, new trust.\n\n466\n00:22:01.500 --> 00:22:04.630\nGot a little wizard that comes up,\nit takes just a moment.\n\n467\n00:22:04.630 --> 00:22:08.810\nAnd were then gonna use the wizard to\ncreate this trust relationship between two\n\n468\n00:22:08.810 --> 00:22:13.320\nforests, intraforest or\ninterforest rather between two forests.\n\n469\n00:22:13.320 --> 00:22:14.450\nTry that one more time and click on it.\n\n470\n00:22:14.450 --> 00:22:15.040\nThere we go.\n\n471\n00:22:15.040 --> 00:22:16.873\nSo welcome to the new trust wizard.\n\n472\n00:22:16.873 --> 00:22:21.490\nYou'll see we can view this for a Windows\ndomain in the forest or another forest.\n\n473\n00:22:21.490 --> 00:22:22.197\nA Windows NT 4 domain.\n\n474\n00:22:22.197 --> 00:22:24.868\nAnd yes, it still does say NT 4,\nas I said.\n\n475\n00:22:24.868 --> 00:22:29.247\nBecause surprisingly, believe it or not,\neven in the modern day with Server 16 as\n\n476\n00:22:29.247 --> 00:22:33.560\nour OS, there may be a need to go back and\nconnect to really old infrastructure.\n\n477\n00:22:33.560 --> 00:22:37.631\nAnd as we said, we do have a trust type\nthat still allows us to do that and\n\n478\n00:22:37.631 --> 00:22:39.017\nthat may be important.\n\n479\n00:22:39.017 --> 00:22:44.009\nWe have a Kerberos V5 realm trust,\nthat's the trust out to the Linux/Unix\n\n480\n00:22:44.009 --> 00:22:48.065\nworld to an external directory\nnamespace or another forest.\n\n481\n00:22:48.065 --> 00:22:49.918\nThat's the one we're going to do now.\n\n482\n00:22:49.918 --> 00:22:52.350\nAll right, so we're gonna click Next.\n\n483\n00:22:52.350 --> 00:22:53.730\nWe have to give it a name here.\n\n484\n00:22:53.730 --> 00:22:57.040\nSo we're gonna specify our\nfully qualified domain name.\n\n485\n00:22:57.040 --> 00:22:59.810\nSo we're gonna go in and put in\nthe name of the forest I wanna target.\n\n486\n00:22:59.810 --> 00:23:04.287\nI'm in the practicelabs.com domain, so\nI'm gonna target the practice IT forest.\n\n487\n00:23:04.287 --> 00:23:06.320\nSo I'm gonna put in the namespace for\nthat.\n\n488\n00:23:06.320 --> 00:23:12.090\nSo I'm gonna type in practiceit.ho.uk.\n\n489\n00:23:12.090 --> 00:23:16.448\nMake sure I spelled that correctly,\npracticeit.co.uk.\n\n490\n00:23:16.448 --> 00:23:16.948\nGotta click Next.\n\n491\n00:23:19.478 --> 00:23:20.980\nGive that just a minute.\n\n492\n00:23:20.980 --> 00:23:23.780\nGood news is it resolves it, which means\nI did spell it correctly, so good for\n\n493\n00:23:23.780 --> 00:23:24.740\nme, right?\n\n494\n00:23:24.740 --> 00:23:27.140\nAnd then we have to specify\nthe type of trust we want.\n\n495\n00:23:27.140 --> 00:23:29.970\nWe talked about this external or\nforest trust.\n\n496\n00:23:29.970 --> 00:23:33.950\nAnd if you remember, let's go to\nthe diagram here for just a minute, right?\n\n497\n00:23:33.950 --> 00:23:36.754\nExternal trust, nontransitive,\none or two-way,\n\n498\n00:23:36.754 --> 00:23:39.632\nenables us to access\npotentially that old namespace.\n\n499\n00:23:39.632 --> 00:23:44.800\nThat NT 4 namespace or\nan AD DS domain in another forest, right?\n\n500\n00:23:44.800 --> 00:23:46.032\nOr the external trust, right?\n\n501\n00:23:46.032 --> 00:23:48.482\nOr the forest trust right here,\n\n502\n00:23:48.482 --> 00:23:53.560\ntrust between two AD DS forest\nthat allow us to show resource.\n\n503\n00:23:53.560 --> 00:23:58.180\nAsk it to choose what kind of trust we\nwanna set up taking two off the list and\n\n504\n00:23:58.180 --> 00:24:01.495\nshowing us or giving us the example\nhere for what we can do.\n\n505\n00:24:01.495 --> 00:24:02.525\nSo we have an option here.\n\n506\n00:24:02.525 --> 00:24:07.420\nExternal would be the older namespace or a\ndomain specifically in another namespace.\n\n507\n00:24:07.420 --> 00:24:10.940\nOr do I wanna go to the forest and\ngo with the forest level between the two,\n\n508\n00:24:10.940 --> 00:24:13.322\nlinking both forests,\nallowing access to all.\n\n509\n00:24:13.322 --> 00:24:15.453\nOf the named spaces within each forest.\n\n510\n00:24:15.453 --> 00:24:21.205\nThe difference with the external would\nbe that if I did it to a specific\n\n511\n00:24:21.205 --> 00:24:28.266\ndomain within the practiceit.co.uk\nforest maybe sales.practiceit.co.uk.\n\n512\n00:24:28.266 --> 00:24:31.017\nI would be limiting the trust\nonly to that domain,\n\n513\n00:24:31.017 --> 00:24:33.960\nin terms of this connection\nif I did external.\n\n514\n00:24:33.960 --> 00:24:35.990\nBut if I did forest,\nI would be able to see,\n\n515\n00:24:35.990 --> 00:24:40.270\nin theory, any domain in either of\nthe forests and interact accordingly.\n\n516\n00:24:40.270 --> 00:24:42.471\n&gt;&gt; Pretty cool.\n&gt;&gt; So it's a much broader coverage when I\n\n517\n00:24:42.471 --> 00:24:46.400\ndo forest here as opposed to external\nin terms of the amount of resources.\n\n518\n00:24:46.400 --> 00:24:49.610\nI may get access to if you\nthink about the logic of that.\n\n519\n00:24:49.610 --> 00:24:54.740\nOkay, so we're doing practice.co.uk,\nwe're gonna specify here\n\n520\n00:24:54.740 --> 00:24:58.440\nour forest trust option, which notice\nby the way, is not our default.\n\n521\n00:24:58.440 --> 00:25:00.730\nWe do have to go out of\nour way to specify that.\n\n522\n00:25:00.730 --> 00:25:02.880\nSo we're gonna do forest level or\nforest trust.\n\n523\n00:25:02.880 --> 00:25:05.260\nSo we're gonna do that, then click Next.\n\n524\n00:25:06.620 --> 00:25:10.290\nIs it gonna be two way,\none way incoming or one way out going.\n\n525\n00:25:10.290 --> 00:25:14.330\nSo remember, if we do one way,\nwe have to decide if we are the source or\n\n526\n00:25:14.330 --> 00:25:15.430\nwe are the target.\n\n527\n00:25:15.430 --> 00:25:17.960\nIn other words, are we receiving or\nsending it, if it's one way.\n\n528\n00:25:17.960 --> 00:25:20.840\nIf it's two way, we're sending\nthem both off simultaneously.\n\n529\n00:25:20.840 --> 00:25:24.260\nAnd each component is gonna be\nadded by the appropriate party.\n\n530\n00:25:24.260 --> 00:25:25.720\nI'm gonna be sending one out, but\n\n531\n00:25:25.720 --> 00:25:29.690\nI'm gonna receive one from the other\nside to set up our two way relationship.\n\n532\n00:25:29.690 --> 00:25:32.040\nSo we have to specify\nwhat that's gonna be.\n\n533\n00:25:32.040 --> 00:25:34.820\nWe're gonna go ahead here and\nwe're gonna select the two way option.\n\n534\n00:25:34.820 --> 00:25:37.630\nBecause we want to extend the trust\nto both forests equally and\n\n535\n00:25:37.630 --> 00:25:39.730\nhave it accessible on both sides.\n\n536\n00:25:39.730 --> 00:25:43.090\nSo I'm gonna go two way here,\nagain the default choice,\n\n537\n00:25:43.090 --> 00:25:46.400\nI'm gonna select that one and\nthen we're gonna go ahead here.\n\n538\n00:25:46.400 --> 00:25:49.970\nAnd we're going to specify,\ncreate trust for\n\n539\n00:25:49.970 --> 00:25:54.600\nthe following this domain only or\nboth this domain and the specified domain.\n\n540\n00:25:54.600 --> 00:26:00.190\nMeaning are we going to link it from\nthis domain to domain on the other side.\n\n541\n00:26:00.190 --> 00:26:03.150\nOr this domain, and the specified,\nor rather this domain only and\n\n542\n00:26:03.150 --> 00:26:04.670\nrather specified domain on the other side.\n\n543\n00:26:04.670 --> 00:26:07.590\nWe're gonna, in this case, I think\nwe're going view both this domain and\n\n544\n00:26:07.590 --> 00:26:08.730\nthe specified domain.\n\n545\n00:26:08.730 --> 00:26:12.080\nWhen we do this, the trust\nrelationship in both the local and\n\n546\n00:26:12.080 --> 00:26:14.460\nthe specified domains is gonna be set up.\n\n547\n00:26:14.460 --> 00:26:18.360\nThe trick is we have to have rights and\nprivileges to be able to do this.\n\n548\n00:26:18.360 --> 00:26:19.610\nSo we have to make sure that we have\n\n549\n00:26:19.610 --> 00:26:21.840\nthe right account to be\nable to connect to both.\n\n550\n00:26:21.840 --> 00:26:25.265\nSo we're gonna do that, and\nthen, just give that a second.\n\n551\n00:26:28.830 --> 00:26:32.488\nWait on that, it's kind of checking right\nnow to make sure we can actually do that,\n\n552\n00:26:32.488 --> 00:26:34.490\nand that everything will\nwork the right way.\n\n553\n00:26:36.510 --> 00:26:37.210\nAnd there we go, okay.\n\n554\n00:26:37.210 --> 00:26:38.810\nSo, now user name and password.\n\n555\n00:26:38.810 --> 00:26:41.310\nSo we're gonna specify\nour credential here.\n\n556\n00:26:41.310 --> 00:26:43.770\nSo let me provide our user name.\n\n557\n00:26:44.960 --> 00:26:48.830\nGreat important,\nmake sure we have the right username.\n\n558\n00:26:48.830 --> 00:26:52.110\nAdministrator is the account we're\nusing for this, and the password.\n\n559\n00:26:52.110 --> 00:26:53.840\nI'll just have to have the password.\n\n560\n00:26:53.840 --> 00:26:56.280\nPut that in as well, let me just\nmake sure I spell that correctly.\n\n561\n00:26:57.560 --> 00:27:00.500\nOkay, our super secret\npassword called password.\n\n562\n00:27:00.500 --> 00:27:04.176\nGonna click Next there and\nthen outgoing trust authentication level.\n\n563\n00:27:04.176 --> 00:27:06.805\nSo then we're gonna go ahead, and\nwe're gonna ahead and specify,\n\n564\n00:27:06.805 --> 00:27:08.270\none additional settings here.\n\n565\n00:27:08.270 --> 00:27:10.909\nWe're going to insure\nforest-wide authentication.\n\n566\n00:27:10.909 --> 00:27:13.710\nForest-wide authentication is, you can\nsee, I know it's kind of hard to see,\n\n567\n00:27:13.710 --> 00:27:14.780\ncan we actually go full screen.\n\n568\n00:27:14.780 --> 00:27:17.170\nThis may be a little bit easier than\njust me narrating, I can talk but\n\n569\n00:27:17.170 --> 00:27:18.510\nyou can also see yourself.\n\n570\n00:27:18.510 --> 00:27:20.660\nSo, it says here,\nwhen you forest-wide authentication,\n\n571\n00:27:20.660 --> 00:27:24.380\nright, Windows automatically authenticates\nusers from the specified forest.\n\n572\n00:27:24.380 --> 00:27:27.962\nFor all resources in the local forest,\nmeaning, as I said,\n\n573\n00:27:27.962 --> 00:27:30.504\nyou're coming from practicelabs.com.\n\n574\n00:27:30.504 --> 00:27:33.976\nYou're being authenticated\nacross this relationship,\n\n575\n00:27:33.976 --> 00:27:39.165\nyou'll be able to see all resources in\npracticeit.code.uk throughout the forest.\n\n576\n00:27:39.165 --> 00:27:41.845\nIf we do forest wide authentication this\n\n577\n00:27:41.845 --> 00:27:45.875\noption is preferred when both forests\nbelong to the same organization.\n\n578\n00:27:45.875 --> 00:27:48.945\nRemember, we said there may be compelling\nbusiness reasons we would design\n\n579\n00:27:48.945 --> 00:27:52.255\na multi-forest architecture.\n\n580\n00:27:52.255 --> 00:27:56.280\nAnd still have those forests be within\nthe boundary of our organization.\n\n581\n00:27:56.280 --> 00:27:58.880\nRight, we may have a forest by region.\n\n582\n00:27:58.880 --> 00:28:02.580\nYou may have a forest specific to,\nlet's say,\n\n583\n00:28:02.580 --> 00:28:07.680\nmaybe, app dev or app dev team that's\ngonna be doing work on applications.\n\n584\n00:28:07.680 --> 00:28:09.290\nBut we don't want them in production.\n\n585\n00:28:09.290 --> 00:28:13.760\nA separate forest that's used for\nproduction hosting for web services.\n\n586\n00:28:13.760 --> 00:28:16.490\nWe may wanna be able to set\nup trust between those two.\n\n587\n00:28:16.490 --> 00:28:21.100\nWe own both, so we would do forest-wide\nauthentication cuz the company owns both.\n\n588\n00:28:21.100 --> 00:28:22.620\nWe should be able to trust anything and\n\n589\n00:28:22.620 --> 00:28:27.100\neverything within both of those forests,\nautomatically be authenticated to both.\n\n590\n00:28:27.100 --> 00:28:28.950\nOr we could do selective authentication,\nright?\n\n591\n00:28:28.950 --> 00:28:29.820\nThis option down below.\n\n592\n00:28:29.820 --> 00:28:31.340\nLet's go back full screen for a minute,\n\n593\n00:28:31.340 --> 00:28:33.340\nlet's just make sure you can see\nit while we're talking about it.\n\n594\n00:28:33.340 --> 00:28:35.861\nLet me actually just drag this up\nhere a second, so you cannot see it,\n\n595\n00:28:35.861 --> 00:28:36.780\nsquare it in the screen.\n\n596\n00:28:36.780 --> 00:28:41.712\nWindows will not automatically\nauthenticate users from\n\n597\n00:28:41.712 --> 00:28:47.020\nspecified forest for\nany resources in the local forest.\n\n598\n00:28:47.020 --> 00:28:51.180\nAfter you finish the wizard, grant it\nto individual access in each domain.\n\n599\n00:28:51.180 --> 00:28:53.590\nAnd servers, whatever they are,\n\n600\n00:28:53.590 --> 00:28:58.010\nthat you want to be able to make available\ninto users in the specified forest.\n\n601\n00:28:58.010 --> 00:29:02.510\nThis option is preferred if the forest\nbelong to different organizations.\n\n602\n00:29:02.510 --> 00:29:06.580\nThe thought process being, if it's\ndifferent organizations, maybe it's\n\n603\n00:29:06.580 --> 00:29:11.240\ncompany a and their vendor, different\norganizations, different forests.\n\n604\n00:29:11.240 --> 00:29:15.970\nWe wanna be selective and\nonly grant very specific instead of very\n\n605\n00:29:15.970 --> 00:29:20.520\nbroad coverall capabilities and\ncoverage and permissions.\n\n606\n00:29:20.520 --> 00:29:24.600\nBecause as I said, the vendor doesn't\nwant us accessing all their resources.\n\n607\n00:29:24.600 --> 00:29:26.550\nThey only want us in one or two systems.\n\n608\n00:29:26.550 --> 00:29:29.260\nWe don't want the vendor accessing\neverything in our namespace.\n\n609\n00:29:29.260 --> 00:29:31.120\nWe only want them in one or two systems.\n\n610\n00:29:31.120 --> 00:29:34.000\nThe selective authentication option,\nlets us go ahead and\n\n611\n00:29:34.000 --> 00:29:38.660\nsay, on this server call, file and\nprint are called inventory.\n\n612\n00:29:38.660 --> 00:29:41.930\nWith this group called vendor manager,\nright?\n\n613\n00:29:41.930 --> 00:29:43.150\nWe will give you access, but\n\n614\n00:29:43.150 --> 00:29:46.150\nother than that, those users in\nthat group in those servers?\n\n615\n00:29:46.150 --> 00:29:48.929\nNobody gets to see anything,\nthat's what we would do is select it.\n\n616\n00:29:48.929 --> 00:29:52.925\nAnd that's what we do when we're setting\nup trust relationships between forest and\n\n617\n00:29:52.925 --> 00:29:55.300\nare not owned by the same organization.\n\n618\n00:29:55.300 --> 00:29:58.131\nMakes a lot of sense when you think about\nthe logic of it and what we would do.\n\n619\n00:29:58.131 --> 00:30:03.160\nIn this example,\nwe're gonna do our forest wide solution.\n\n620\n00:30:03.160 --> 00:30:06.400\nWe're gonna do this because\nwe're gonna assume we own\n\n621\n00:30:06.400 --> 00:30:09.250\nboth forests routed within the same\norganization to make it easier.\n\n622\n00:30:09.250 --> 00:30:12.060\nSo we'll do forest wide,\nso we'll click Next.\n\n623\n00:30:12.060 --> 00:30:14.650\nWe're gonna have forest-wide\nauthentication on the other side.\n\n624\n00:30:14.650 --> 00:30:17.760\nRemember, we're doing each side\nof the trust as it outgoing and\n\n625\n00:30:17.760 --> 00:30:20.320\nincoming left to essentially set it up.\n\n626\n00:30:20.320 --> 00:30:21.810\nBoth are different on both sides but\n\n627\n00:30:21.810 --> 00:30:25.020\nwe're setting up both sides of\nthe trust relationships right now.\n\n628\n00:30:25.020 --> 00:30:28.660\nSo forest-wide authentication on both,\nwe're gonna specify that here as well.\n\n629\n00:30:31.353 --> 00:30:33.447\nOkay, there we go.\nGotta keep clicking twice to get it to do\n\n630\n00:30:33.447 --> 00:30:34.130\nthe same thing.\n\n631\n00:30:34.130 --> 00:30:37.210\nAll right, so now we've essentially\nanswered all the questions, right.\n\n632\n00:30:37.210 --> 00:30:40.300\nTrust selection's complete,\nkinda get a summary of what we're doing.\n\n633\n00:30:40.300 --> 00:30:41.900\nClick Next, give this just a second.\n\n634\n00:30:43.430 --> 00:30:45.530\nAnd then once we're done,\nit's making the trust chain,\n\n635\n00:30:45.530 --> 00:30:49.460\nand so usually it'll take a few seconds\nto go out and just verify everything.\n\n636\n00:30:49.460 --> 00:30:52.890\nThere we go,\ntrust [COUGH] creation complete.\n\n637\n00:30:52.890 --> 00:30:56.620\nClick Next to configure the new trust,\nall right.\n\n638\n00:30:56.620 --> 00:30:58.950\nConfigure outgoing, or\nconfirm outgoing trust, rather.\n\n639\n00:30:58.950 --> 00:31:01.340\nDo you wanna confirm this outgoing trust,\n\n640\n00:31:01.340 --> 00:31:04.670\nlet's talk about confirming\noutgoing trust for just a minute.\n\n641\n00:31:04.670 --> 00:31:07.135\nRight, it says you should\nconfirm this trust only,\n\n642\n00:31:07.135 --> 00:31:09.185\nif the other side of\nthe trust has been created.\n\n643\n00:31:09.185 --> 00:31:13.165\nIn other words, when we go to confirm,\nwhat we're doing is making sure\n\n644\n00:31:13.165 --> 00:31:16.635\nthat both sides of the trust are up and\nrunning, and that they are working.\n\n645\n00:31:16.635 --> 00:31:21.570\nThis verifies essentially that you know\nthe completion was successful and test it.\n\n646\n00:31:21.570 --> 00:31:24.230\nSo we're gonna confirm\nthe outgoing trust because or\n\n647\n00:31:24.230 --> 00:31:26.580\nexcuse me we're not gonna confirm\nthe outgoing trust at this point.\n\n648\n00:31:26.580 --> 00:31:29.800\nI wanna go show you first what's been\ndone and we'll take a look at it.\n\n649\n00:31:29.800 --> 00:31:32.702\nIt says no don't confirm right now or\nyes confirm.\n\n650\n00:31:32.702 --> 00:31:35.470\nAll right, so we're goon just\nleave it at no, click Next.\n\n651\n00:31:35.470 --> 00:31:37.580\nNo, we're not gonna confirm\nthe other one for the moment.\n\n652\n00:31:37.580 --> 00:31:39.430\nClick Next and just finish up, okay?\n\n653\n00:31:39.430 --> 00:31:40.830\nAll right, so wait for it.\n\n654\n00:31:40.830 --> 00:31:43.260\nIt populates, it just takes a second\nto pop in there once we're done.\n\n655\n00:31:43.260 --> 00:31:46.190\nAnd you can see that we now\nhave our trust relationship.\n\n656\n00:31:46.190 --> 00:31:47.575\nThe outgoing, right?\n\n657\n00:31:47.575 --> 00:31:52.020\nPracticeit.co.uk, type forest.\n\n658\n00:31:52.020 --> 00:31:54.370\nTransitive yes,\nbecause we said it would be transitive,\n\n659\n00:31:54.370 --> 00:31:57.320\nincoming practiceit.co.uk\nforest transitive yes.\n\n660\n00:31:57.320 --> 00:32:00.560\nIn other words, we have that relationship\nnow where we are sending and\n\n661\n00:32:00.560 --> 00:32:02.710\nwe're also getting from the other far.\n\n662\n00:32:02.710 --> 00:32:07.120\nAnd we can now use that trust relationship\nin order to be able to leverage this.\n\n663\n00:32:07.120 --> 00:32:07.988\nAll right, very good.\n\n664\n00:32:07.988 --> 00:32:11.645\nNow, I could have confirmed the trust,\nit wouldn't have matter but\n\n665\n00:32:11.645 --> 00:32:15.253\nthe idea is that if I highlight here,\nHere, just go to Properties.\n\n666\n00:32:18.721 --> 00:32:20.910\nAnd, let's just take a look.\n\n667\n00:32:20.910 --> 00:32:23.230\nLet's bring this over here so\nwe kind of see that, and\n\n668\n00:32:23.230 --> 00:32:25.500\nyou can still see what's going on,\nall right there we are.\n\n669\n00:32:25.500 --> 00:32:29.596\nSo you can see here, we do have this\ndomain, right where it is set up,\n\n670\n00:32:29.596 --> 00:32:33.695\nthe other domain, so\nPracticelabs.com and Practiceit.co.uk,\n\n671\n00:32:33.695 --> 00:32:35.406\ntrust type Forest, right?\n\n672\n00:32:35.406 --> 00:32:38.844\nAnd then we can see here, since I didn't\nvalidate before I wanna validate now,\n\n673\n00:32:38.844 --> 00:32:40.191\nI can validate after the fact.\n\n674\n00:32:40.191 --> 00:32:43.440\nI will usually validate automatically\nwhen I do it in the wizard, but\n\n675\n00:32:43.440 --> 00:32:46.968\nI wanted to show you in the demo that,\nhey, we could go do it after the fact,\n\n676\n00:32:46.968 --> 00:32:48.435\nshow you the Validate button.\n\n677\n00:32:48.435 --> 00:32:51.465\nSo I didn't do Yes, and\nactually confirm it there.\n\n678\n00:32:51.465 --> 00:32:54.085\nIt's simply just another step in\nthe process separately if you don't do\n\n679\n00:32:54.085 --> 00:32:54.595\nit in the wizard.\n\n680\n00:32:54.595 --> 00:32:58.295\nBut the idea is that I can come in here,\nI can validate this.\n\n681\n00:32:58.295 --> 00:33:01.405\nDo I wanna validate, as you can see\nyour Active Directory Domain Services.\n\n682\n00:33:01.405 --> 00:33:03.283\nDo you wish to validate the incoming\ndirection of this trust?\n\n683\n00:33:03.283 --> 00:33:05.663\nTo do this you must have\nadministrative privileges.\n\n684\n00:33:05.663 --> 00:33:08.880\nSo, no do not validate or yes, validate.\n\n685\n00:33:08.880 --> 00:33:10.950\nAnd then I would have to\nspecify the name here.\n\n686\n00:33:10.950 --> 00:33:12.450\nAnd then I could go ahead and\nI could validate.\n\n687\n00:33:12.450 --> 00:33:15.770\nSo I just have to provide the appropriate\ncredential, it wouldn't be anything more\n\n688\n00:33:15.770 --> 00:33:18.605\nthan that, and I could validate\nthis after the fact if I choose to.\n\n689\n00:33:18.605 --> 00:33:20.370\nBut I could do it the same\nway on the other side,\n\n690\n00:33:20.370 --> 00:33:22.970\nit's just a matter of where\nI go to choose to do that.\n\n691\n00:33:22.970 --> 00:33:24.070\nLet's go back in there,\n\n692\n00:33:24.070 --> 00:33:26.070\none more thing I wanted to show\nyou on Properties real quick.\n\n693\n00:33:27.160 --> 00:33:28.900\nDidn't mean to get out of that window.\n\n694\n00:33:28.900 --> 00:33:30.650\nSo let me just go back here to Properties.\n\n695\n00:33:31.710 --> 00:33:33.120\nSo we have all that.\n\n696\n00:33:33.120 --> 00:33:35.950\nThen, we have our Name Suffix Routing,\nwe're gonna come back and\n\n697\n00:33:35.950 --> 00:33:37.750\ntake a look at this in\nan upcoming episode and\n\n698\n00:33:37.750 --> 00:33:41.020\ntalk a little bit more about\nName Suffix Routing, why it's important.\n\n699\n00:33:41.020 --> 00:33:45.740\nBut the idea here is that we're gonna\nbe able to specify a Namespace that\n\n700\n00:33:45.740 --> 00:33:50.500\nwe are going to be using and\nyou can see anything before the asterisk.\n\n701\n00:33:50.500 --> 00:33:52.490\nI know it's kinda hard to see, it's small.\n\n702\n00:33:52.490 --> 00:33:58.270\nBut *.practiceit.co.uk,\nany of the subdomains in practiceit.co.uk\n\n703\n00:33:58.270 --> 00:34:02.340\nin the forest, are gonna be referred to\nand used and resolved through this trust.\n\n704\n00:34:02.340 --> 00:34:04.580\nThat's what our name suffix\nrouting is gonna be about.\n\n705\n00:34:04.580 --> 00:34:08.210\nSo they'll be sent to this trust for\nus to then be able to examine,\n\n706\n00:34:08.210 --> 00:34:11.750\nrefer to authenticate against,\nresolve, etc.\n\n707\n00:34:11.750 --> 00:34:15.520\nBut anything referencing that name\nspace will be found and used here.\n\n708\n00:34:15.520 --> 00:34:16.880\nThat's why we see that.\n\n709\n00:34:16.880 --> 00:34:20.390\nAnd you see, we can go in and\npotentially, of course, highlight this,\n\n710\n00:34:20.390 --> 00:34:23.810\nwe could disable, we can edit if we need\nto, we're not gonna make changes, but\n\n711\n00:34:23.810 --> 00:34:27.060\nwe can modify it here if for\nsome reason we needed to alter that.\n\n712\n00:34:27.060 --> 00:34:30.796\nAnd then we have authentication, remember\nwe did forest wide versus selective.\n\n713\n00:34:30.796 --> 00:34:33.790\nI could change that after that fact if I\ndecide, you know what, I don't want that\n\n714\n00:34:33.790 --> 00:34:37.720\nto be forest wide, I can actually go in\nand say no, let me make that selective.\n\n715\n00:34:37.720 --> 00:34:42.070\nInstead of having to tear the trust down\nand redo it in other words, I can actually\n\n716\n00:34:42.070 --> 00:34:47.000\nmodify the existing trust and simply\nchange the nature of that authentication.\n\n717\n00:34:47.000 --> 00:34:50.300\nAnd then maybe later change it back if I\nchoose to make a change for some reason.\n\n718\n00:34:50.300 --> 00:34:52.280\nAnd say no,\nnow I want it to be forest wide again,\n\n719\n00:34:52.280 --> 00:34:54.170\nand I can go in and I can modify it.\n\n720\n00:34:54.170 --> 00:34:56.732\nThe trick is you have to have\nsymmetry to modify both sides, right.\n\n721\n00:34:56.732 --> 00:34:57.310\nNot just one, so\n\n722\n00:34:57.310 --> 00:34:59.510\nI'm highlighting one right now,\nI'd have to go in and do it on each side.\n\n723\n00:34:59.510 --> 00:35:01.320\nBut I could do that here as well.\n\n724\n00:35:01.320 --> 00:35:04.408\nAll of this is on the General, the name\nsuffix routing, the authentication.\n\n725\n00:35:04.408 --> 00:35:06.904\nAll of this is on the trust\nonce I highlight and\n\n726\n00:35:06.904 --> 00:35:08.876\nI choose Properties but remember,\n\n727\n00:35:08.876 --> 00:35:13.430\nI have two essentially one way trusts that\nare being created that are joined here.\n\n728\n00:35:13.430 --> 00:35:16.964\nI would have to modify the properties\nin both areas to make sure it's set up\n\n729\n00:35:16.964 --> 00:35:21.182\ncorrectly and that I've truly modified the\ntrust in both directions, in other words,\n\n730\n00:35:21.182 --> 00:35:25.001\nbecause each part of this is one direction\nof the trust relationship outgoing or\n\n731\n00:35:25.001 --> 00:35:25.584\nincoming.\n\n732\n00:35:25.584 --> 00:35:29.820\nAnd I would have to account for both, it\nwould be very important thing about that.\n\n733\n00:35:29.820 --> 00:35:31.120\n&gt;&gt; Yeah, very important to think about it.\n\n734\n00:35:31.120 --> 00:35:34.500\nReally understanding the theory before\ngoing in and configuring those.\n\n735\n00:35:34.500 --> 00:35:37.396\nI mean just with everything you really\nshould understand what it is, and\n\n736\n00:35:37.396 --> 00:35:39.070\nyou're just not clicking randomly.\n\n737\n00:35:39.070 --> 00:35:40.699\nBut, I mean could you imagine-\n&gt;&gt; That's all the fun.\n\n738\n00:35:40.699 --> 00:35:43.751\n&gt;&gt; [LAUGH] Yeah just why not, right?\n\n739\n00:35:43.751 --> 00:35:45.943\n&gt;&gt; You should click randomly,\nthat's how you figure stuff out, right?\n\n740\n00:35:45.943 --> 00:35:49.317\n&gt;&gt; But I mean but think about it,\nyou could essentially give access that you\n\n741\n00:35:49.317 --> 00:35:52.481\ndidn't want to or restrict access\nthat you really didn't want to.\n\n742\n00:35:52.481 --> 00:35:53.483\nAnd so-\n&gt;&gt; No, it would be bad.\n\n743\n00:35:53.483 --> 00:35:55.279\nNo, it wouldn't be a good thing.\nYou may wind up talking to strangers and\n\n744\n00:35:55.279 --> 00:35:56.810\nthat's obviously never a good thing.\n\n745\n00:35:56.810 --> 00:35:58.770\nAllowing them to talk to you\ncould also be problematic.\n\n746\n00:35:58.770 --> 00:36:02.503\nSo from a security perspective,\nall kidding aside, never ever, as Cherokee\n\n747\n00:36:02.503 --> 00:36:05.907\npoints out very good information for\nus to think about when we enforce.\n\n748\n00:36:05.907 --> 00:36:10.582\nNever wanna go in start establishing any\nkind of trust relationships especially,\n\n749\n00:36:10.582 --> 00:36:14.790\neven more importantly, never want to\nestablish those that are external to\n\n750\n00:36:14.790 --> 00:36:18.797\nthe organization, as we potentially\ncould have been doing with forest\n\n751\n00:36:18.797 --> 00:36:23.065\ntrust relationships that may extend\nto external vendors, as we said.\n\n752\n00:36:23.065 --> 00:36:24.615\nWe chose not to make it look like that.\n\n753\n00:36:24.615 --> 00:36:28.842\nWe did forest wide instead of selective\nbut if it was an external forest owned by\n\n754\n00:36:28.842 --> 00:36:33.142\nanother resource and which you've\nselective, we are opening ourselves up to\n\n755\n00:36:33.142 --> 00:36:37.503\na committed communication pathway that a\nstranger, essentially although perhaps one\n\n756\n00:36:37.503 --> 00:36:41.106\nthat hopefully is known to us and that we\ndo have some sort of relationship with.\n\n757\n00:36:41.106 --> 00:36:44.446\nBut an external third party\nis going to access that and\n\n758\n00:36:44.446 --> 00:36:47.366\nwe do want to think about that,\nkeep that in mind and be aware of that.\n\n759\n00:36:47.366 --> 00:36:50.766\nThat is an issue that can come back\nto haunt us if we're not careful.\n\n760\n00:36:50.766 --> 00:36:52.146\nAnd so we do want to make sure.\n\n761\n00:36:52.146 --> 00:36:52.996\nStranger danger.\n\n762\n00:36:52.996 --> 00:36:53.884\n&gt;&gt; Stranger danger.\n\n763\n00:36:53.884 --> 00:36:54.397\nAll right.\n\n764\n00:36:54.397 --> 00:36:58.206\n[LAUGH] Well, thank you for\nthat life lesson, as well, Adam.\n\n765\n00:36:58.206 --> 00:36:59.144\nThank you for joining us.\nBut stay tuned,\n\n766\n00:36:59.144 --> 00:37:00.931\nwe have more information headed your way.\n\n767\n00:37:00.931 --> 00:37:03.220\nFor this show,\nwe'll go ahead and sign out.\n\n768\n00:37:03.220 --> 00:37:04.980\nI've been your host Cherokee Boose.\n\n769\n00:37:04.980 --> 00:37:07.160\n&gt;&gt; I am Adam Gordon.\n&gt;&gt; See you next time here at ITProTV.\n\n770\n00:37:07.160 --> 00:37:14.949\n[MUSIC]\n\n771\n00:37:14.949 --> 00:37:17.617\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229703888"
        },
        {
          "description": "In this show, Cherokee and Adam continue to configure trust relationships. First, they remove existing trust that was created in the previous show. Adam then demonstrates how to create an external trust. He walks through the process step by step covering details such as SID filtering.",
          "length": "1206",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-3-creating_an_external_trust-081117-PGM.00_20_02_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-3-creating_an_external_trust-081117-PGM.00_20_02_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-3-creating_an_external_trust-081117-PGM.00_20_02_00.Still001-sm.jpg",
          "title": "Creating an External Trust",
          "transcript": "WEBVTT\n\n1\n00:00:00.310 --> 00:00:03.023\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:03.023 --> 00:00:08.754\n[CROSSTALK]\n[SOUND]\n\n3\n00:00:08.754 --> 00:00:12.340\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.340 --> 00:00:15.980\n&gt;&gt; Welcome to Identity with\nWindows Server 2016 series.\n\n5\n00:00:15.980 --> 00:00:18.180\nI'm your show host, Cherokee Boose.\n\n6\n00:00:18.180 --> 00:00:19.050\nIn this episode,\n\n7\n00:00:19.050 --> 00:00:22.800\nwe'll continue taking a look at\ndifferent types of trust relationships.\n\n8\n00:00:22.800 --> 00:00:25.510\nSpecifically, Adam will walk\nus through how to go ahead and\n\n9\n00:00:25.510 --> 00:00:27.120\nset up an external trust.\n\n10\n00:00:27.120 --> 00:00:29.930\nAnd we had to bring him back\nin studios to go ahead and\n\n11\n00:00:29.930 --> 00:00:31.390\nshow us how to complete this task.\n\n12\n00:00:31.390 --> 00:00:33.094\nSo thank you for joining us today, Adam.\n\n13\n00:00:33.094 --> 00:00:33.748\n&gt;&gt; Howdy all.\n\n14\n00:00:33.748 --> 00:00:36.300\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so let's get started.\n\n15\n00:00:36.300 --> 00:00:40.275\nSo we're actually gonna start one step\nbefore the creation of the external trust.\n\n16\n00:00:40.275 --> 00:00:42.460\nCherokee was absolutely right but\nwe're gonna back up one step.\n\n17\n00:00:42.460 --> 00:00:45.020\nBecause one of the most\nimportant elements of creating\n\n18\n00:00:45.020 --> 00:00:48.900\nmultiple trust relationships as you\npile them on is housekeeping right?\n\n19\n00:00:48.900 --> 00:00:50.510\nCleaning up after yourself and\n\n20\n00:00:50.510 --> 00:00:53.180\nwe may decide that we have a set of\ntrusts that are no longer needed.\n\n21\n00:00:53.180 --> 00:00:57.360\nA lot of times you may have to delete or\nremove some sort of trust.\n\n22\n00:00:57.360 --> 00:00:59.000\nAnd you don't often get a chance\nto see how that's done.\n\n23\n00:00:59.000 --> 00:01:02.250\nSo instead of just getting rid of them\nbehind the scenes and starting clean.\n\n24\n00:01:02.250 --> 00:01:05.320\nI thought I'd leave the trust\nrelationships we've established\n\n25\n00:01:05.320 --> 00:01:06.260\nalready in place.\n\n26\n00:01:06.260 --> 00:01:10.030\nShow you how to use them and\nclean up simply by removing them.\n\n27\n00:01:10.030 --> 00:01:12.010\nThen, from there,\ncreate a brand new external trust.\n\n28\n00:01:12.010 --> 00:01:14.374\nSo we're gonna clean house\nbefore we do anything else,\n\n29\n00:01:14.374 --> 00:01:15.794\na little spring trust cleaning.\n\n30\n00:01:15.794 --> 00:01:16.889\n&gt;&gt; Are you going to clean my house too?\n\n31\n00:01:16.889 --> 00:01:18.106\n&gt;&gt; No.\n\n32\n00:01:18.106 --> 00:01:19.610\n&gt;&gt; Okay.\n&gt;&gt; I don't clean my own house.\n\n33\n00:01:19.610 --> 00:01:21.030\nI'm not gonna clean your house.\n\n34\n00:01:21.030 --> 00:01:24.380\nAll right, so let us take a look\nright here if you would please.\n\n35\n00:01:24.380 --> 00:01:27.320\nSo I've got our domains and\ntrust tool opened up.\n\n36\n00:01:27.320 --> 00:01:31.560\nIf you've seen the prior episode that we\ndid on how to configure forest trusts.\n\n37\n00:01:31.560 --> 00:01:35.510\nSetting up the relationship between two\nforests, we went ahead and did that.\n\n38\n00:01:35.510 --> 00:01:37.350\nThis is the outcome of that episode.\n\n39\n00:01:37.350 --> 00:01:42.010\nWe have the trust relationship between\npracticelabs.com, one of our forests, and\n\n40\n00:01:42.010 --> 00:01:42.880\nthe practiceit.co.uk.\n\n41\n00:01:42.880 --> 00:01:48.760\nForest the other forest and you'll see in\nthe dialog box there in the Properties\n\n42\n00:01:48.760 --> 00:01:52.220\nwindow on the Trust tab we've gone\nahead and just left them in place.\n\n43\n00:01:52.220 --> 00:01:56.765\nI've highlighted the outgoing trust,\npracticeit.co.uk outgoing.\n\n44\n00:01:56.765 --> 00:01:59.084\nAnd you'll notice I have\na Remove option there.\n\n45\n00:01:59.084 --> 00:02:01.760\nWe're gonna go in,\nwe're gonna actually remove that trust.\n\n46\n00:02:01.760 --> 00:02:03.300\nSo I'm gonna go and remove that right now.\n\n47\n00:02:03.300 --> 00:02:07.043\nClick Remove, and\nwe get prompted for a credential.\n\n48\n00:02:07.043 --> 00:02:10.743\nWe have to provide a credential, cuz we're\nnot just gonna let anybody go in and\n\n49\n00:02:10.743 --> 00:02:13.135\nclick Remove,\nof that brain trust that we setup.\n\n50\n00:02:13.135 --> 00:02:15.580\nCuz that would, obviously,\nbe incredibly disruptive.\n\n51\n00:02:15.580 --> 00:02:17.640\nSo we do have to provide the credential.\n\n52\n00:02:17.640 --> 00:02:22.290\nWe're gonna click Yes,\nprovide our credential here.\n\n53\n00:02:22.290 --> 00:02:27.594\nSo we use our administrator account and\nour password.\n\n54\n00:02:27.594 --> 00:02:30.400\nDo that, We'll click OK.\n\n55\n00:02:30.400 --> 00:02:34.622\nAnd are you sure you want to\nremove the outgoing trust with,\n\n56\n00:02:34.622 --> 00:02:37.329\nin this case, practicetv.co.uk.\n\n57\n00:02:37.329 --> 00:02:40.810\nSo we are prompted to specify\nthat we want to do that.\n\n58\n00:02:40.810 --> 00:02:44.220\nAgain we'll click Yes,\ngive that a moment and you can see.\n\n59\n00:02:44.220 --> 00:02:48.030\nVery quickly, it disappears with no\ntrouble, but notice that it does still\n\n60\n00:02:48.030 --> 00:02:52.320\nleave the other side of the trust in\nthis case the incoming trust intact.\n\n61\n00:02:52.320 --> 00:02:55.770\nAnd we talked this in the last episode\na little bit in reference to the fact\n\n62\n00:02:55.770 --> 00:02:58.390\nthat these trusts\nare essentially a collection of\n\n63\n00:02:58.390 --> 00:03:00.440\none way trusts that are managed together.\n\n64\n00:03:00.440 --> 00:03:02.790\nI create one outgoing,\ncreate one incoming,\n\n65\n00:03:02.790 --> 00:03:05.710\nand as a result,\nI have to manage both sides.\n\n66\n00:03:05.710 --> 00:03:08.280\nI've talked about this with\nthe property item where we went and\n\n67\n00:03:08.280 --> 00:03:11.710\nsaid hadn't actually certified\nthe trust and checked it.\n\n68\n00:03:11.710 --> 00:03:15.433\nLet's go ahead and do that now and\nI said we'd have to do that on both.\n\n69\n00:03:15.433 --> 00:03:19.890\nOr selective authentication being modified\nfrom forest, we'd have to do that on both.\n\n70\n00:03:19.890 --> 00:03:21.180\nSo the same idea applies here.\n\n71\n00:03:21.180 --> 00:03:24.520\nSo we're gonna go in, highlight\nthis part of the trust down here.\n\n72\n00:03:24.520 --> 00:03:27.410\nSame idea,\nwe have to remove this one as well.\n\n73\n00:03:27.410 --> 00:03:28.830\nSo we're gonna remove that.\n\n74\n00:03:28.830 --> 00:03:32.984\nAnd again, do you wish to remove the trust\nfrom both the local and the other domain.\n\n75\n00:03:32.984 --> 00:03:35.299\nSo a little bit of a different\nwizard in this case.\n\n76\n00:03:36.510 --> 00:03:39.110\nNo, remove the trust only\nfrom the local domain.\n\n77\n00:03:39.110 --> 00:03:40.610\nYes, remove the trust from both domains.\n\n78\n00:03:40.610 --> 00:03:42.710\nSo we're being asked what we wanna do.\n\n79\n00:03:42.710 --> 00:03:46.730\nBut we're gonna go ahead and click Yes,\nlet's get rid of it on both sides.\n\n80\n00:03:46.730 --> 00:03:49.360\nClick Yes, that cleans up everything,\nand obviously makes it easy for\n\n81\n00:03:49.360 --> 00:03:51.320\nus to ensure it's gonna\nbe removed properly.\n\n82\n00:03:51.320 --> 00:03:53.460\nWe then get prompted,\nare you sure you wanna do this?\n\n83\n00:03:53.460 --> 00:03:58.090\nYes, and then, almost immediately,\nboom, goes away, set ready to go.\n\n84\n00:03:58.090 --> 00:04:01.550\nNow, what I would normally do is\nwould normally then shut this down,\n\n85\n00:04:01.550 --> 00:04:05.460\nrestart this domain controller and\nthen start fresh just in the real world.\n\n86\n00:04:05.460 --> 00:04:08.270\nJust to make sure that we did\nindeed remove everything.\n\n87\n00:04:08.270 --> 00:04:11.610\nThere's no lingering stuff that's\ngoing on behind the scenes.\n\n88\n00:04:11.610 --> 00:04:14.580\nNot gonna worry too much about that,\neverything will be fine.\n\n89\n00:04:14.580 --> 00:04:17.700\nSo we're just gonna click OK, just to at\nleast close the window before we go and\n\n90\n00:04:17.700 --> 00:04:18.990\nadd a brand new trust in.\n\n91\n00:04:18.990 --> 00:04:22.330\nBut I'm just giving you some real world\nguidance here that normally we'd probably\n\n92\n00:04:22.330 --> 00:04:26.040\nwanna restart this domain controller if\nwe're about the create a brand new trust.\n\n93\n00:04:26.040 --> 00:04:30.870\nThat's really more me being proactive in\nthe real world than it is anything else.\n\n94\n00:04:30.870 --> 00:04:35.150\nThere's no compelling reason, no\ndocumentation, no best practice that says,\n\n95\n00:04:35.150 --> 00:04:38.500\nyes, restart in order to make sure this or\nthat happens.\n\n96\n00:04:38.500 --> 00:04:41.430\nI've just seen over the years\nwhere not restarting,\n\n97\n00:04:41.430 --> 00:04:44.850\nwhile it works normally almost\nwithout exception with no trouble.\n\n98\n00:04:44.850 --> 00:04:47.700\nEvery so\noften you get a little craziness going on.\n\n99\n00:04:47.700 --> 00:04:51.660\nThere maybe some lingering reference to\nsomething that's just in the system that's\n\n100\n00:04:51.660 --> 00:04:53.373\nnot gonna go away unless we restart.\n\n101\n00:04:53.373 --> 00:04:58.850\nAnd that usually just keeps things running\nsmoothly or smoother in many cases.\n\n102\n00:04:58.850 --> 00:05:01.750\nSo we're gonna right click,\nthrowing caution to the wind.\n\n103\n00:05:01.750 --> 00:05:04.780\nAnd go right back to Properties,\ngonna live on the edge here,\n\n104\n00:05:04.780 --> 00:05:06.660\nand we're gonna go click Trust.\n\n105\n00:05:06.660 --> 00:05:10.090\nAnd we're gonna have our blank canvas\nthat we're now gonna start up with again.\n\n106\n00:05:10.090 --> 00:05:11.580\nAnd we're gonna create an external trust.\n\n107\n00:05:11.580 --> 00:05:14.770\nSo just like we did before,\nNew Trust down here.\n\n108\n00:05:14.770 --> 00:05:17.272\nWe're gonna load the New Trust Wizard.\n\n109\n00:05:17.272 --> 00:05:20.650\nMove this up and over just, oops, hold on.\n\n110\n00:05:20.650 --> 00:05:23.958\nUp and over just a bit, there we go,\njust so you could see that.\n\n111\n00:05:23.958 --> 00:05:26.370\nAnd what we're gonna\ndo is click Next here.\n\n112\n00:05:26.370 --> 00:05:32.050\nAnd we're gonna specify as we\ndid before the name of our\n\n113\n00:05:32.050 --> 00:05:33.450\ntrust, or what we wanna call it.\n\n114\n00:05:33.450 --> 00:05:35.760\nAnd we're wanna call\nthis practiceIT.cloud.uk,\n\n115\n00:05:35.760 --> 00:05:39.070\ncuz that's what we're gonna use,\njust like we did in the other one.\n\n116\n00:05:39.070 --> 00:05:42.776\nBut this time we're gonna pretend it's\nan external relationship instead of\n\n117\n00:05:42.776 --> 00:05:45.580\na relationship that we own\nwithin the same organization.\n\n118\n00:05:45.580 --> 00:05:48.890\nAnd creating a forest trust\nbetween two forests that we own.\n\n119\n00:05:48.890 --> 00:05:51.700\nWe're gonna assume this is gonna\nbe out to an external third party.\n\n120\n00:05:51.700 --> 00:05:53.120\nSo we're just gonna name it the same, but\n\n121\n00:05:53.120 --> 00:05:59.041\nit's gonna essentially be the same\ninfrastructure, practiceIT.code.UK.\n\n122\n00:05:59.041 --> 00:06:02.410\nSo make sure I spelled that correctly,\nit looks like we did.\n\n123\n00:06:02.410 --> 00:06:04.530\nLet's click Next, again,\nnow we have a choice.\n\n124\n00:06:04.530 --> 00:06:06.230\nWe explained this last time, but\n\n125\n00:06:06.230 --> 00:06:08.973\nwe bypassed external trust\nin favor of forest trust.\n\n126\n00:06:08.973 --> 00:06:11.450\nThis time we're gonna go with\nthe default external trust.\n\n127\n00:06:11.450 --> 00:06:14.580\nSo, I'm gonna highlight that one or\nit's already highlighted and selected.\n\n128\n00:06:14.580 --> 00:06:17.490\nAnd then again, we get the same\nissue that we have to resolve here.\n\n129\n00:06:17.490 --> 00:06:19.954\nIs this gonna be a two way\ntrust we're creating or\n\n130\n00:06:19.954 --> 00:06:23.060\nsimply a one way only outgoing or\none way only incoming.\n\n131\n00:06:23.060 --> 00:06:26.200\nWe have to make a choice here,\nwe're gonna go ahead and choose two way.\n\n132\n00:06:27.210 --> 00:06:30.120\nBecause it's a lot more work to\nhave to set these up individually.\n\n133\n00:06:30.120 --> 00:06:33.332\nBecause I would have to go to the other\nmachine and the other forest.\n\n134\n00:06:33.332 --> 00:06:35.865\nAnd then set up the trust coming\nin the other way as a one way,\n\n135\n00:06:35.865 --> 00:06:36.736\nif I did it this way.\n\n136\n00:06:36.736 --> 00:06:39.984\nThis is easier, I can do it right from\nhere and do everything in one shot,\n\n137\n00:06:39.984 --> 00:06:41.170\njust much, much easier.\n\n138\n00:06:41.170 --> 00:06:45.500\nSo we'll do two way, and\nthen are we gonna do this domain only, or\n\n139\n00:06:45.500 --> 00:06:47.290\nboth this domain and the specified domain?\n\n140\n00:06:47.290 --> 00:06:49.844\nWe talked about this before and\nspecify here.\n\n141\n00:06:49.844 --> 00:06:53.538\nI'm gonna do both this domain and\nthe specified domain.\n\n142\n00:06:53.538 --> 00:06:55.763\nWe're gonna click there, click Next.\n\n143\n00:06:55.763 --> 00:07:01.712\nAgain, the username we're gonna use over\nin the specified domain practice.co.uk.\n\n144\n00:07:01.712 --> 00:07:05.843\nSo I am going to specify my administrator\ncredential, so let me do this real quick.\n\n145\n00:07:05.843 --> 00:07:12.740\nAnd a Password, all righty,\nclick Next there.\n\n146\n00:07:12.740 --> 00:07:15.090\nAll right and\nthen domain-wide authentication,\n\n147\n00:07:15.090 --> 00:07:17.090\nor selective authentication.\n\n148\n00:07:17.090 --> 00:07:20.186\nWe talked about this,\nthe other episode as we ran through and\n\n149\n00:07:20.186 --> 00:07:23.470\nset up the forest trust,\nthe trust between the two forests.\n\n150\n00:07:23.470 --> 00:07:27.380\nBut instead it said forest-wide\nauthentication instead of domain-wide, and\n\n151\n00:07:27.380 --> 00:07:28.760\nthen it said selected.\n\n152\n00:07:28.760 --> 00:07:30.610\nThe difference here being again,\n\n153\n00:07:30.610 --> 00:07:33.850\nthat we're specifying what level\nof authentication we would like.\n\n154\n00:07:33.850 --> 00:07:37.030\nBut instead of at the forest level,\nbecause this is external,\n\n155\n00:07:37.030 --> 00:07:41.280\nwe are specifying that we are going to\nbe domain-wide instead of forest-wide.\n\n156\n00:07:41.280 --> 00:07:45.748\nBecause we are trusting from\nthis domain practicelabs.com\n\n157\n00:07:45.748 --> 00:07:49.240\ninto an external relationship.\n\n158\n00:07:49.240 --> 00:07:52.640\nSo we're granting essentially trust\nto this particular domain and\n\n159\n00:07:52.640 --> 00:07:54.100\nfrom this domain out.\n\n160\n00:07:54.100 --> 00:07:55.941\nOr we could do selective authentication.\n\n161\n00:07:55.941 --> 00:07:59.954\nWe talked about selective authentication\nbeing the idea of granting access to only\n\n162\n00:07:59.954 --> 00:08:01.857\ncertain resources for certain users.\n\n163\n00:08:01.857 --> 00:08:05.529\nWithin, in this case let's say\nthe domain and the space there.\n\n164\n00:08:05.529 --> 00:08:08.417\nAnd so we did specify and\ntalk about the difference here, but\n\n165\n00:08:08.417 --> 00:08:12.170\nin case you haven't seen the last\nepisode important to remind us of this.\n\n166\n00:08:12.170 --> 00:08:17.030\nLet's just go back over here for a minute\nto our chart and to the external trust,\n\n167\n00:08:17.030 --> 00:08:18.448\nI just have it highlighted here.\n\n168\n00:08:18.448 --> 00:08:22.890\nBut we're setting this up, this is\nnontransitive it is one or two way.\n\n169\n00:08:22.890 --> 00:08:24.878\nNo, I will not go quickly so\nyou can ask her a question,\n\n170\n00:08:24.878 --> 00:08:26.487\nyou're gonna have to wait until I'm done.\n\n171\n00:08:26.487 --> 00:08:27.382\n&gt;&gt; [LAUGH] That's not what\nDiane's signal means.\n\n172\n00:08:27.382 --> 00:08:28.152\n&gt;&gt; What do you need, what?\n\n173\n00:08:28.152 --> 00:08:29.609\n&gt;&gt; No, I meant you can keep rolling.\n\n174\n00:08:29.609 --> 00:08:30.665\n&gt;&gt; I can keep going.\n\n175\n00:08:30.665 --> 00:08:31.236\n&gt;&gt; Yeah, yeah, yeah.\n\n176\n00:08:31.236 --> 00:08:33.001\n[LAUGH]\n&gt;&gt; As opposed to stopping to acknowledge\n\n177\n00:08:33.001 --> 00:08:34.528\nthat you didn't have\na question even though\n\n178\n00:08:34.528 --> 00:08:36.570\nthat was our agreed-upon sign for\na question!\n\n179\n00:08:36.570 --> 00:08:38.280\nAll right, I'm ignoring you for\nthe rest of the episode,\n\n180\n00:08:38.280 --> 00:08:39.170\nI'm not paying attention to you.\n\n181\n00:08:39.170 --> 00:08:41.052\nAll right, so external trust enable.\n\n182\n00:08:41.052 --> 00:08:43.823\nWhen we do like, you're like you have\nthat, and then you want me to ignore you?\n\n183\n00:08:43.823 --> 00:08:45.560\nDo something like this so\nI know to ignore you.\n\n184\n00:08:45.560 --> 00:08:46.614\n&gt;&gt; Okay, so that's my signal.\n\n185\n00:08:46.614 --> 00:08:49.905\n&gt;&gt; That's the one, right, or just forget\nabout it or Something like, don't do this,\n\n186\n00:08:49.905 --> 00:08:51.748\nso I think you want,\nactually, my attention.\n\n187\n00:08:51.748 --> 00:08:53.430\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, anyway, so,\n\n188\n00:08:53.430 --> 00:08:56.535\nI'm just showing you that we\nhave external trust here.\n\n189\n00:08:56.535 --> 00:08:59.420\nAnd we defined these before, I showed\nyou this document in the last episode.\n\n190\n00:08:59.420 --> 00:09:01.344\nBut in case you haven't seen that one, and\n\n191\n00:09:01.344 --> 00:09:04.820\nsometimes you don't always watch\neverything in order, we do have this great\n\n192\n00:09:04.820 --> 00:09:08.189\nsummary document here that just lists\nall the different kinds of trusts and\n\n193\n00:09:08.189 --> 00:09:10.779\ntells you what they are,\na little table we put together.\n\n194\n00:09:10.779 --> 00:09:14.846\nBut we're focusing just on this one trust\nright now, this enables resource access\n\n195\n00:09:14.846 --> 00:09:18.855\nto either a Windows NT 4.0 based domain,\nwe said remember this is really old and\n\n196\n00:09:18.855 --> 00:09:22.369\nprobably not appropriate in the modern\nday that we're talking about.\n\n197\n00:09:22.369 --> 00:09:25.772\nBut even Microsoft still uses this\nlanguage on the wizard where they\n\n198\n00:09:25.772 --> 00:09:30.247\nsay a Windows NT 4.0 domain, cuz there may\nbe older backwards compatibility issues in\n\n199\n00:09:30.247 --> 00:09:34.007\ncertain areas that you have to address\nprior to the modern Active Directory\n\n200\n00:09:34.007 --> 00:09:38.509\nname space starting in Windows 2000 and\nthat's what the NT 4.0 reference is for.\n\n201\n00:09:38.509 --> 00:09:42.838\nBut most likely an AD DS domain in\nanother forest, that's what we're doing,\n\n202\n00:09:42.838 --> 00:09:46.460\nthese might also be set up to\nprovide a framework for a migration.\n\n203\n00:09:46.460 --> 00:09:50.690\nSo we took a look at and talked about that\nADMT, Active Directory Migration Tool, and\n\n204\n00:09:50.690 --> 00:09:54.601\nhow we would use that doing migrations\nbetween domains in different forests.\n\n205\n00:09:54.601 --> 00:09:57.537\nAnd an external trust would be\ntypically the path for that,\n\n206\n00:09:57.537 --> 00:10:00.251\nso something else to consider\nwe may use this for here.\n\n207\n00:10:00.251 --> 00:10:04.226\nBut in our case we're doing\nthe AD DS domain in another forest,\n\n208\n00:10:04.226 --> 00:10:07.003\nwe're linking from PracticeLabs.com and\n\n209\n00:10:07.003 --> 00:10:11.670\nthe domain there into PracticeIT.co.uk and\nthe domain in that forest.\n\n210\n00:10:11.670 --> 00:10:16.020\nSo we are doing this domain to\ndomain between two forests trust,\n\n211\n00:10:16.020 --> 00:10:17.930\nthat's what the external trust represents.\n\n212\n00:10:17.930 --> 00:10:20.610\nSo we just wanna make sure\nwe're aware of that and\n\n213\n00:10:20.610 --> 00:10:24.920\nunderstand the impact of that in relation\nto our authentication choices here.\n\n214\n00:10:24.920 --> 00:10:28.980\nAre we doing domain-wide or are we gonna\ndo selective, we'll choose domain-wide.\n\n215\n00:10:28.980 --> 00:10:32.380\nGrant option or grant access to and\npermissions to any and\n\n216\n00:10:32.380 --> 00:10:35.270\nall resources within\nthis domain to any and\n\n217\n00:10:35.270 --> 00:10:39.530\nall resources in the other domain,\nlinking essentially everything together.\n\n218\n00:10:39.530 --> 00:10:44.270\nBut if we chose to do selective, again to\nthe example we used in the last episode,\n\n219\n00:10:44.270 --> 00:10:48.480\nmaybe we have a file and print server\nspecifically in one domain and\n\n220\n00:10:48.480 --> 00:10:51.030\nwe want certain users to only access that.\n\n221\n00:10:51.030 --> 00:10:55.190\nSelective authentication would be the way\nto specify that object and/or those\n\n222\n00:10:55.190 --> 00:10:57.980\nusers and being able to link those\ntogether domain to domain, so\n\n223\n00:10:57.980 --> 00:11:00.170\nthat's traditionally how we\nthink about that and see that.\n\n224\n00:11:00.170 --> 00:11:03.590\nAll right, so we're gonna do domain-wide\nauthentication, let's click Next,\n\n225\n00:11:03.590 --> 00:11:04.915\ngive that just a moment.\n\n226\n00:11:04.915 --> 00:11:07.460\nDomain-wide authentication\nin both sides of the divide,\n\n227\n00:11:07.460 --> 00:11:09.075\nremember incoming, outgoing.\n\n228\n00:11:09.075 --> 00:11:12.555\nTwice, one is outgoing, one is incoming,\nwe have to specify both so\n\n229\n00:11:12.555 --> 00:11:15.621\nwe're just specifying both here,\nall right, click Next.\n\n230\n00:11:15.621 --> 00:11:20.010\nSet up and done, pretty straightforward so\nwe're gonna click Next here.\n\n231\n00:11:20.010 --> 00:11:24.360\nClick Next again, configures both sides.\n\n232\n00:11:24.360 --> 00:11:26.970\nNow, do we want to go ahead and confirm?\n\n233\n00:11:26.970 --> 00:11:30.100\nRemember I said no the last time, but\nI showed you afterwards we could go in and\n\n234\n00:11:30.100 --> 00:11:32.950\ndo that as an update\nfrom the properties tab\n\n235\n00:11:32.950 --> 00:11:34.610\nafter the fact if you wanna confirm it.\n\n236\n00:11:34.610 --> 00:11:38.310\nWe could confirm it if we want to,\njust doing it in the wizard here.\n\n237\n00:11:38.310 --> 00:11:42.080\nClick Next, do you wanna confirm again,\nwe get asked once for each direction,\n\n238\n00:11:42.080 --> 00:11:45.000\nthat's why we see it twice, great, OK.\n\n239\n00:11:45.000 --> 00:11:47.870\nThe trust relationship was successful,\ncreated and confirmed.\n\n240\n00:11:47.870 --> 00:11:51.640\nEssentially, yes, we actually did LAN\nthe trust, and yes, it is operational.\n\n241\n00:11:51.640 --> 00:11:53.480\nI said no the last time cuz\nwe know it's operational,\n\n242\n00:11:53.480 --> 00:11:56.480\nit's already created, confirming\nit is just stating the obvious and\n\n243\n00:11:56.480 --> 00:11:59.716\nreconfirming it but we do it just\nto make sure you see how it's done.\n\n244\n00:11:59.716 --> 00:12:04.819\nClick Finish,\ngive that just a moment, there we go.\n\n245\n00:12:04.819 --> 00:12:07.792\nAll right, and then to improve\nsecurity of the external trust,\n\n246\n00:12:07.792 --> 00:12:09.508\nsecurity notification is enabled.\n\n247\n00:12:09.508 --> 00:12:12.662\nOkay yeah, let's just talk about this, so\nI wanted to make sure that the prompt was\n\n248\n00:12:12.662 --> 00:12:15.190\ngonna come up I did not,\nI forgot I didn't check off the box.\n\n249\n00:12:15.190 --> 00:12:18.840\nSo let's talk about SID filtering here for\njust a minute, security identifier\n\n250\n00:12:18.840 --> 00:12:21.210\nfiltering, SID filtering,\nthis is actually a cool concept.\n\n251\n00:12:21.210 --> 00:12:22.800\nLet me move this over here.\n\n252\n00:12:22.800 --> 00:12:24.750\nCan we go full screen, just so\nyou can see this while we're talking,\n\n253\n00:12:24.750 --> 00:12:26.780\ncuz this is actually pretty interesting.\n\n254\n00:12:26.780 --> 00:12:29.620\nYou remember we talked about the SID\nattribute, the SID history attribute.\n\n255\n00:12:29.620 --> 00:12:30.830\n&gt;&gt; Yep.\n&gt;&gt; When we talked about ADMT,\n\n256\n00:12:30.830 --> 00:12:35.080\nthe Active Directory Migration Tool, and\nthe reason why we use the SID history\n\n257\n00:12:35.080 --> 00:12:38.610\nattribute, and you remember why we use the\nSID history, what's the key driver there,\n\n258\n00:12:38.610 --> 00:12:39.820\nwhat's the key reason?\n\n259\n00:12:39.820 --> 00:12:45.270\n&gt;&gt; To create that, what did you, the term\nyou used, a parallel period of time.\n\n260\n00:12:45.270 --> 00:12:49.305\nOr I guess when we're keeping\nour older domain active, and\n\n261\n00:12:49.305 --> 00:12:54.340\nkeeping that relationship, we're kind of\npointing back to it, kind of like going\n\n262\n00:12:54.340 --> 00:12:59.030\nto the DMV and getting your maiden name\nchanged to your married name, so we have\n\n263\n00:12:59.030 --> 00:13:03.570\na reference point there to look back into\nthe old domain to access those resources.\n\n264\n00:13:03.570 --> 00:13:05.680\n&gt;&gt; Very good, exactly, so\nexactly what you described.\n\n265\n00:13:05.680 --> 00:13:07.160\nLet's just frame it in the conversation,\nor\n\n266\n00:13:07.160 --> 00:13:10.710\nthe referenceable information\naround the directory.\n\n267\n00:13:10.710 --> 00:13:15.358\nSo the idea with the SID history attribute\nis during a migration event we move users,\n\n268\n00:13:15.358 --> 00:13:19.154\nlet's say from a domain in one forest,\ninto a domain in a new forest,\n\n269\n00:13:19.154 --> 00:13:21.690\nthat's traditionally what's done.\n\n270\n00:13:21.690 --> 00:13:24.910\nThe problem is the source\ndomain where we're coming from\n\n271\n00:13:24.910 --> 00:13:27.610\ngrants the users their SID initially, and\n\n272\n00:13:27.610 --> 00:13:32.140\nassigns their resource access in\nthe source domain based on that SID.\n\n273\n00:13:32.140 --> 00:13:36.240\nWhen we migrate them across the trust\nrelationship and we put them in the new\n\n274\n00:13:36.240 --> 00:13:40.280\ndomain, them being the users, in the new\ndomain in the new forest, the new forest,\n\n275\n00:13:40.280 --> 00:13:42.010\nthe target domain in the new forest,\n\n276\n00:13:42.010 --> 00:13:46.040\ngives the user a new SID based on\nmembership in that new domain.\n\n277\n00:13:46.040 --> 00:13:51.940\nIf we lose the reference, the referential\ninformation, the historical reference\n\n278\n00:13:51.940 --> 00:13:57.620\nto the old SID from the source domain\nbefore we migrate the resources,\n\n279\n00:13:57.620 --> 00:14:02.060\nwhich are also granting access to\nthem based on the source domain SID,\n\n280\n00:14:02.060 --> 00:14:07.028\nthe historical user called Cher B\nfrom let's say PracticeLabs.com,\n\n281\n00:14:07.028 --> 00:14:12.200\nwhen we move Cher B across the,\nin this case external trust,\n\n282\n00:14:12.200 --> 00:14:19.380\nand we migrate her into PracticeIT.co.uk\nher account gets a new SID.\n\n283\n00:14:19.380 --> 00:14:23.050\nBut those resources she needs to see\nare still sitting in the old domain\n\n284\n00:14:23.050 --> 00:14:24.260\nin the old forest.\n\n285\n00:14:24.260 --> 00:14:26.130\nIf we remove any knowledge or\n\n286\n00:14:26.130 --> 00:14:30.680\nreference to that SID history and\ndon't have a way of referring back to it,\n\n287\n00:14:30.680 --> 00:14:34.940\nCherokee's account gets cut off from those\nresources, she can no longer access them.\n\n288\n00:14:36.160 --> 00:14:38.340\nGreat selection there by the way,\nlove that, that's good.\n\n289\n00:14:38.340 --> 00:14:40.140\nWe can no longer access that, and\n\n290\n00:14:40.140 --> 00:14:44.790\nas a result she would not be able to\naccess resources, this would be a problem.\n\n291\n00:14:44.790 --> 00:14:46.580\nThis is why we keep\nthe SID history attribute,\n\n292\n00:14:46.580 --> 00:14:50.740\nas you were suggesting, cuz it allows\nus to have that parallel universe,\n\n293\n00:14:50.740 --> 00:14:56.430\nthat ability to run both the old domain,\nthe source, the new domain,\n\n294\n00:14:56.430 --> 00:15:00.540\nthe target, and keep the two communicating\nwhile we're continuing to move users.\n\n295\n00:15:00.540 --> 00:15:03.250\nBut also remember we tend to move users,\nand\n\n296\n00:15:03.250 --> 00:15:05.490\nthen we tend to move resources\nas separate activities.\n\n297\n00:15:05.490 --> 00:15:08.660\nWe don't tend to migrate\neverything at one time, and\n\n298\n00:15:08.660 --> 00:15:11.330\nas a result we may have a period of\ntime where users have to come back\n\n299\n00:15:11.330 --> 00:15:15.870\nacross the trust to access those resources\nbefore we actually finish migrating.\n\n300\n00:15:15.870 --> 00:15:20.220\nThis was the whole conversation we had in\na prior episode about the use of the ADMT\n\n301\n00:15:20.220 --> 00:15:23.595\ntool and the reason why the SID\nhistory attribute is so important.\n\n302\n00:15:23.595 --> 00:15:26.965\nSo the SID history represents\nour ability to refer back\n\n303\n00:15:26.965 --> 00:15:31.045\nto that time when I was called something\nelse as a user based on my SID,\n\n304\n00:15:31.045 --> 00:15:35.137\nand still get access to\nresources under my old identity.\n\n305\n00:15:35.137 --> 00:15:37.017\nBefore I, we'll say witness relocation,\n\n306\n00:15:37.017 --> 00:15:39.887\nright, before I get relocated in\nthe witness protection program.\n\n307\n00:15:39.887 --> 00:15:41.377\n&gt;&gt; [LAUGH] I like that analogy better.\n\n308\n00:15:41.377 --> 00:15:44.067\n&gt;&gt; Yeah, it's better than the maiden\nname on the driver's license.\n\n309\n00:15:44.067 --> 00:15:45.894\nAnd I've got a new identity, and\n\n310\n00:15:45.894 --> 00:15:50.210\nas a result I can no longer be referred to\nby my old identity and see my old stuff.\n\n311\n00:15:50.210 --> 00:15:52.319\nSo back to why all this is important,\n\n312\n00:15:52.319 --> 00:15:54.979\nlet's go back to the screen\nhere if you could.\n\n313\n00:15:54.979 --> 00:15:58.432\nSo now what you see is, when we set\nthis up, remember, the external\n\n314\n00:15:58.432 --> 00:16:02.083\ntrust One of the key things that's\nuseful as we saw in the description.\n\n315\n00:16:02.083 --> 00:16:06.023\nAnd as we talked about is this idea\nof creating this path for migrations,\n\n316\n00:16:06.023 --> 00:16:06.680\nall right.\n\n317\n00:16:06.680 --> 00:16:08.930\nSo it is important to think about that and\n\n318\n00:16:08.930 --> 00:16:11.450\nis the history attribute in relation\non what you are about to see.\n\n319\n00:16:12.730 --> 00:16:15.810\nActive Directory Domain Server this\nlittle prompt that comes up here.\n\n320\n00:16:15.810 --> 00:16:20.250\nTo improve the security of this\nexternal trust, Security ID filtering,\n\n321\n00:16:20.250 --> 00:16:24.110\nsecurity identifier filtering,\nSID filtering is enabled, right?\n\n322\n00:16:24.110 --> 00:16:28.740\nHowever, if users have been\nmigrated to the trusted domain and\n\n323\n00:16:28.740 --> 00:16:32.420\ntheir SID histories as we talk\nabout have been preserved.\n\n324\n00:16:32.420 --> 00:16:34.740\nYou may choose to turn off the speech.\n\n325\n00:16:34.740 --> 00:16:37.210\nNow, what this does for us is two things.\n\n326\n00:16:37.210 --> 00:16:42.760\nNumber one, it allows us to\nbe able to keep track of and\n\n327\n00:16:42.760 --> 00:16:45.050\nunderstand, right, this issue.\n\n328\n00:16:45.050 --> 00:16:48.360\nBut more importantly,\nwhat this does first and foremost,\n\n329\n00:16:48.360 --> 00:16:53.020\nit allows us to be able to prevent\nthe misuse of the SID history attribute.\n\n330\n00:16:53.020 --> 00:16:56.210\nSo that way when we\nare looking at the SID history,\n\n331\n00:16:56.210 --> 00:16:59.370\nutilizing it to establish this\ncommunication's connectivity.\n\n332\n00:16:59.370 --> 00:17:02.730\nThe use of the external trust\nto see these resources.\n\n333\n00:17:02.730 --> 00:17:05.350\nIt reads only from\nthe object SID attribute,\n\n334\n00:17:05.350 --> 00:17:07.690\nand not the SID history attribute.\n\n335\n00:17:07.690 --> 00:17:11.520\nUnless, we have a need to see\nthe backwards historical information.\n\n336\n00:17:11.520 --> 00:17:14.930\nSo when we are,\nin other words, using this,\n\n337\n00:17:14.930 --> 00:17:19.285\nthe potential liability here is that\nif we reference the SID history.\n\n338\n00:17:19.285 --> 00:17:22.465\nWe could be able to gain access\nas an unauthorized user.\n\n339\n00:17:22.465 --> 00:17:25.435\nPretend for instance we're\nan administrator who's not this user.\n\n340\n00:17:25.435 --> 00:17:26.925\nI'm not the Cherokee user,\n\n341\n00:17:26.925 --> 00:17:29.735\nthe CherB account that represents\nlet's say Cherokee in my example.\n\n342\n00:17:29.735 --> 00:17:34.735\nI'm not her, but I log on as an admin that\nhas rights to manipulate this connection\n\n343\n00:17:34.735 --> 00:17:39.700\nand has rights to see that SID\nhistory information in her account.\n\n344\n00:17:39.700 --> 00:17:44.370\nBased on this connection and the fact that\nwe can do this across the external trust.\n\n345\n00:17:44.370 --> 00:17:48.790\nWell, if I did that I could effectively\nbecome the share be user and\n\n346\n00:17:48.790 --> 00:17:52.760\nI could see the resources and\ninteract with them that she has rights to.\n\n347\n00:17:52.760 --> 00:17:55.696\nAdministrators in other words\npotentially have a lot-\n\n348\n00:17:55.696 --> 00:17:56.600\n&gt;&gt; Liability.\n\n349\n00:17:56.600 --> 00:18:00.140\n&gt;&gt; Well, the access, not the liability,\nbut we have the liability generically,\n\n350\n00:18:00.140 --> 00:18:01.900\nbut they have the right.\n\n351\n00:18:01.900 --> 00:18:04.860\nAnd the permission and\ncapability to potentially and\n\n352\n00:18:04.860 --> 00:18:06.940\nI'm not saying never\nwould want to be clear.\n\n353\n00:18:06.940 --> 00:18:10.070\nSaying that they could in\nsome circumstances somebody\n\n354\n00:18:10.070 --> 00:18:12.390\nwho manipulates their credential\nwithout their knowledge.\n\n355\n00:18:12.390 --> 00:18:16.110\nCould misuse that to then gain\naccess to the city histories and\n\n356\n00:18:16.110 --> 00:18:18.870\nas a result access resources\nwe are not supposed to see.\n\n357\n00:18:18.870 --> 00:18:23.550\nWhat seed filtering does is it ignores and\nprevents us from seeing that seed history\n\n358\n00:18:23.550 --> 00:18:27.598\nattribute enforce us to use the seed\nobject of the user and the new domain.\n\n359\n00:18:27.598 --> 00:18:32.880\nSo the SID filtering is enabled to ensure\nthat that way we don't misuse this, right?\n\n360\n00:18:32.880 --> 00:18:33.910\n&gt;&gt; Okay.\n&gt;&gt; So this is what the SID\n\n361\n00:18:33.910 --> 00:18:35.160\nfiltering allows us to do.\n\n362\n00:18:36.350 --> 00:18:39.830\nIt prevents us from essentially\ngetting access to that information\n\n363\n00:18:39.830 --> 00:18:41.120\nin a way that could compromise it.\n\n364\n00:18:41.120 --> 00:18:43.370\nSo, it's just a nice little added feature.\n\n365\n00:18:43.370 --> 00:18:45.320\nAnd you see it is turn on by default here.\n\n366\n00:18:45.320 --> 00:18:48.030\nIt is enabled as you see,\nright, so it tells us that.\n\n367\n00:18:48.030 --> 00:18:50.300\nSo this is good, so\nwe're just gonna click OK.\n\n368\n00:18:50.300 --> 00:18:52.377\nSo we get out of that dialog box,\nso we could see what's happening.\n\n369\n00:18:52.377 --> 00:18:55.910\nAnd now that we are done you\ncould see we have finished.\n\n370\n00:18:55.910 --> 00:18:58.256\nWe did establish,\nwe did create the external trust and\n\n371\n00:18:58.256 --> 00:19:00.966\nfinish it just before we started\ntalking about the dialog box.\n\n372\n00:19:00.966 --> 00:19:05.190\nBut you could see here we now have our\ntrust pipe, in this case it says external.\n\n373\n00:19:05.190 --> 00:19:07.600\nNotice it also says transitive node,\n\n374\n00:19:07.600 --> 00:19:10.600\nwhereas the last\nwalkthrough we did on this.\n\n375\n00:19:10.600 --> 00:19:14.240\nWe saw the trust type was set to forest,\nand was transitive yes.\n\n376\n00:19:14.240 --> 00:19:16.800\nSo it actually has changed\nthe different type of trust,\n\n377\n00:19:16.800 --> 00:19:17.810\nbecause we selected a different one.\n\n378\n00:19:17.810 --> 00:19:20.860\nAnd have actually, now,\nbeen able to make an external trust.\n\n379\n00:19:20.860 --> 00:19:25.228\nAnd set it up so that we now have this\nrelationship, from practicelabs.com,\n\n380\n00:19:25.228 --> 00:19:26.860\nto practiceit.co.uk.\n\n381\n00:19:26.860 --> 00:19:29.280\nAnd we've secured that relationship, and\n\n382\n00:19:29.280 --> 00:19:32.010\nensured that the SID history\nattributes are not gonna be misused.\n\n383\n00:19:32.010 --> 00:19:36.358\nThrough SID filtering and everybody rides\noff in sunset and everybody's happy.\n\n384\n00:19:36.358 --> 00:19:38.520\n&gt;&gt; [LAUGH] Great, no more trust issues.\n\n385\n00:19:38.520 --> 00:19:43.160\nWe've got our external trust setup, so\nthank you for that Adam, and thank you for\n\n386\n00:19:43.160 --> 00:19:44.320\njoining us as well.\n\n387\n00:19:44.320 --> 00:19:46.220\nBut we do have more\ninformation headed your way.\n\n388\n00:19:46.220 --> 00:19:48.330\nWe're gonna go ahead and\nsign out for this show.\n\n389\n00:19:48.330 --> 00:19:49.890\nI've been your host, Cherokee Boose.\n\n390\n00:19:49.890 --> 00:19:50.890\n&gt;&gt; I'm Adam Gordon.\n\n391\n00:19:50.890 --> 00:19:52.337\n&gt;&gt; See you next time here at ITProTV.\n\n392\n00:19:52.337 --> 00:20:00.111\n[MUSIC]\n\n393\n00:20:00.111 --> 00:20:06.499\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "229565603"
        },
        {
          "description": "In this show, Adam and Cherokee explains how name suffix routing is a mechanism for managing how authentication requests route across forests joined with trusts. Tune in tho watch Adam demonstrate a step by step walk through and explain how it helps allow or block authentication.",
          "length": "709",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-4-name_suffix_routing-081117-PGM.00_11_32_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-4-name_suffix_routing-081117-PGM.00_11_32_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-3-4-name_suffix_routing-081117-PGM.00_11_32_27.Still001-sm.jpg",
          "title": "Name Suffix Routing",
          "transcript": "WEBVTT\n\n1\n00:00:00.159 --> 00:00:06.017\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:06.017 --> 00:00:06.778\n[CROSSTALK]\n\n3\n00:00:06.778 --> 00:00:07.994\n[MUSIC]\n\n4\n00:00:07.994 --> 00:00:12.514\nYou're watching ITProTV.\n\n5\n00:00:12.514 --> 00:00:15.725\n&gt;&gt; Welcome to Identity with\nWindows Server 2016 Series.\n\n6\n00:00:15.725 --> 00:00:17.795\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.795 --> 00:00:21.265\nIn this episode, we'll be taking\na look at name suffix routing.\n\n8\n00:00:21.265 --> 00:00:24.525\nAnd back with us today in studios,\nwe have Mr. Adam Gordon.\n\n9\n00:00:24.525 --> 00:00:25.325\nHow's it going today, Adam?\n\n10\n00:00:25.325 --> 00:00:27.297\n&gt;&gt; It's going well, it's going good.\n\n11\n00:00:27.297 --> 00:00:28.548\nLet's talk about name suffix routing.\n\n12\n00:00:28.548 --> 00:00:31.386\nIt's gonna be a short episode,\nwhich is incredibly unusual and\n\n13\n00:00:31.386 --> 00:00:33.767\nyou never hear those words\ncome out of my mouth.\n\n14\n00:00:33.767 --> 00:00:35.838\nAnd even when you do,\nwe never live up to that expectation.\n\n15\n00:00:35.838 --> 00:00:36.478\n&gt;&gt; No.\n\n16\n00:00:36.478 --> 00:00:39.502\n&gt;&gt; But this one is actually gonna be\nshort, because it's a very tiny topic and\n\n17\n00:00:39.502 --> 00:00:42.057\nthe demonstration is gonna\ntake all of two minutes to do.\n\n18\n00:00:42.057 --> 00:00:44.667\nBut it's such an important one\nbecause it is important to understand\n\n19\n00:00:44.667 --> 00:00:47.289\nwhy this particular skill set.\n\n20\n00:00:47.289 --> 00:00:50.700\nAnd the need to understand how\nto deploy this particular item\n\n21\n00:00:50.700 --> 00:00:52.060\nis going to be valuable for you.\n\n22\n00:00:52.060 --> 00:00:55.408\nAnd I hinted at this, we actually even\ntook a look at it when we talked about\n\n23\n00:00:55.408 --> 00:00:58.441\nsetting up forest trusts and\nwalked through the different paths.\n\n24\n00:00:58.441 --> 00:01:01.810\nSaid, look, there's name suffix routing,\nquickly explained the concept.\n\n25\n00:01:01.810 --> 00:01:04.510\nBut I wanted to spin back to this,\nsort of come back to this one.\n\n26\n00:01:04.510 --> 00:01:07.380\nActually, do just a deeper dive on it\nto make sure we're comfortable with\n\n27\n00:01:07.380 --> 00:01:08.420\nthis idea.\n\n28\n00:01:08.420 --> 00:01:12.010\nSo the concept behind name suffix routing\nis actually very straightforward.\n\n29\n00:01:12.010 --> 00:01:13.490\nWhen we are authenticating,\n\n30\n00:01:13.490 --> 00:01:18.000\nwe have to know what domain and/or what\narea we have to authenticate against.\n\n31\n00:01:18.000 --> 00:01:20.900\nAnd so we're routing or\nthinking about how we're gonna route and\n\n32\n00:01:20.900 --> 00:01:25.900\nmanage authentication requests that\nare coming across forest trusts from\n\n33\n00:01:25.900 --> 00:01:29.800\none forest into another to authenticate\nagainst the appropriate area.\n\n34\n00:01:32.500 --> 00:01:35.720\nJoining these two forests\nwith a forest trust implies\n\n35\n00:01:35.720 --> 00:01:39.750\nthat users in one area are gonna be\nable to access resources in another.\n\n36\n00:01:39.750 --> 00:01:42.040\nMeaning users from one forest\nare gonna be able to come and\n\n37\n00:01:42.040 --> 00:01:43.550\naccess resources in another.\n\n38\n00:01:43.550 --> 00:01:46.460\nIn name suffix routing, it's gonna help\nus to keep straight where everybody's\n\n39\n00:01:46.460 --> 00:01:49.480\ncoming from, where they're going to,\nand where we have to authenticate.\n\n40\n00:01:49.480 --> 00:01:50.755\nSo it is important for us.\n\n41\n00:01:50.755 --> 00:01:52.581\nIt's traffic management, if you will.\n\n42\n00:01:52.581 --> 00:01:55.405\nThe idea of routing traffic into\nthe appropriate place and doing so\n\n43\n00:01:55.405 --> 00:01:58.540\nbased on the name suffix, to make sure\nwe authenticate in the right area.\n\n44\n00:01:58.540 --> 00:02:02.701\nAnd that we wind up getting the proper\ncredential into the proper name space so\n\n45\n00:02:02.701 --> 00:02:06.799\nwe can authenticate it and not winding\nup either erroneously saying, hey,\n\n46\n00:02:06.799 --> 00:02:09.630\nyou're not allowed,\nwe can't authenticate you.\n\n47\n00:02:09.630 --> 00:02:12.006\nWe don't want you here,\nbecause we don't know who you are or\n\n48\n00:02:12.006 --> 00:02:13.124\nwhere you're coming from,\n\n49\n00:02:13.124 --> 00:02:16.309\nand/or allowing people in that obviously\ndon't belong there for some reason.\n\n50\n00:02:16.309 --> 00:02:21.242\nSo to simplify administration of these\nrequests, when we create the forest trust,\n\n51\n00:02:21.242 --> 00:02:24.580\nwe actually set up and\nroute this information natively.\n\n52\n00:02:24.580 --> 00:02:30.010\nSo we create some information and an entry\nin there that's gonna allow us to do this.\n\n53\n00:02:30.010 --> 00:02:32.170\nWe wanna understand what that is and\nwhy this happened.\n\n54\n00:02:32.170 --> 00:02:33.460\nSo let's take a look.\n\n55\n00:02:33.460 --> 00:02:35.140\nJust we'll go in, just give me one second.\n\n56\n00:02:35.140 --> 00:02:35.670\nWe'll go in.\n\n57\n00:02:36.970 --> 00:02:39.500\nAnd let's pull up our interface here,\njust so we can take a look.\n\n58\n00:02:39.500 --> 00:02:43.650\nI've already got some of the back end\nwork on this configured, ready to go.\n\n59\n00:02:43.650 --> 00:02:46.290\nWe are in our PracticeLabs.com domain.\n\n60\n00:02:46.290 --> 00:02:48.740\nWe are in the Active Directory Domains and\nTrust tool.\n\n61\n00:02:48.740 --> 00:02:52.740\nI've gone ahead and created a brand\nnew forest trust relationship.\n\n62\n00:02:52.740 --> 00:02:56.130\nI've changed out the forest names\nwe used for the last demonstration.\n\n63\n00:02:56.130 --> 00:02:59.469\nSo if you've seen the episode\nwhere we set up the forest trust,\n\n64\n00:02:59.469 --> 00:03:04.068\nwe've actually used practiceit.co.uk for\nthat one, created a separate forest for\n\n65\n00:03:04.068 --> 00:03:06.589\nthis one, apacresearchpracticelabs.com.\n\n66\n00:03:06.589 --> 00:03:10.177\nSo you'll see the trust relationship\nbetween the outgoing and\n\n67\n00:03:10.177 --> 00:03:11.333\nthe incoming here.\n\n68\n00:03:11.333 --> 00:03:13.854\nForest type transitive, yes.\n\n69\n00:03:13.854 --> 00:03:17.105\nNow what I've done is I've gone ahead and\nI've done something I didn't do in\n\n70\n00:03:17.105 --> 00:03:20.120\nthe prior demonstration, at the top,\non the outgoing trust already.\n\n71\n00:03:20.120 --> 00:03:23.645\nI'm gonna do the same thing on\nthe incoming trust and show you what I'm\n\n72\n00:03:23.645 --> 00:03:27.708\ntalking about with the pop-up dialog that\ncomes up and says hey, are you sure you\n\n73\n00:03:27.708 --> 00:03:31.818\nwanna update your domain name routing or\nyour name suffix routing information?\n\n74\n00:03:31.818 --> 00:03:36.023\nI'm gonna say yes, and then we're gonna\ngo take a look at the output of that and\n\n75\n00:03:36.023 --> 00:03:37.290\nwhat that means.\n\n76\n00:03:37.290 --> 00:03:40.360\nSo I'm gonna highlight this trust,\nand it already is highlighted.\n\n77\n00:03:40.360 --> 00:03:41.095\nI'm gonna click Properties here.\n\n78\n00:03:41.095 --> 00:03:44.560\nLet's bring this up so you can see this.\n\n79\n00:03:44.560 --> 00:03:48.790\nNow I did show you in that episode I just\nreferenced, that if I didn't confirm\n\n80\n00:03:48.790 --> 00:03:52.180\nthe trust, or even if I did either way,\nwhen I created it.\n\n81\n00:03:52.180 --> 00:03:55.901\nCuz I may have decided to just opt out\nof the very last dialogue in the trust\n\n82\n00:03:55.901 --> 00:04:00.460\ncreation box, where it says, hey, do you\nwant to confirm the trust, yes or no?\n\n83\n00:04:00.460 --> 00:04:02.240\nTwice yes or no, each direction.\n\n84\n00:04:02.240 --> 00:04:05.610\nI did no in one set when we did\nthe external trust, I think we did yes and\n\n85\n00:04:05.610 --> 00:04:06.390\nconfirmed it.\n\n86\n00:04:06.390 --> 00:04:09.174\nBut then I went in and showed you in\nthe properties whether I did that or not.\n\n87\n00:04:09.174 --> 00:04:12.656\nI can always come and use the validate\noption on each individual trust by\n\n88\n00:04:12.656 --> 00:04:16.840\ndirection, and validate the trust at\nany point in time, whenever I want to.\n\n89\n00:04:16.840 --> 00:04:18.241\nAnd so let's go ahead and do that.\n\n90\n00:04:18.241 --> 00:04:21.879\nI showed it to you but didn't actually do\nit that time, so we're gonna do it here.\n\n91\n00:04:21.879 --> 00:04:22.715\nWe'll validate this.\n\n92\n00:04:22.715 --> 00:04:23.970\nWe'll provide our credentials.\n\n93\n00:04:23.970 --> 00:04:31.085\nSo we just go in, click Yes, provide the\nuser credential that we are going to use,\n\n94\n00:04:31.085 --> 00:04:35.433\nadministrator, put in our password,\nclick OK.\n\n95\n00:04:37.812 --> 00:04:41.370\nClick OK twice,\ncuz the first time isn't good enough.\n\n96\n00:04:41.370 --> 00:04:45.420\nAnd you'll see here the trust has been\nverified as in place and active, great.\n\n97\n00:04:45.420 --> 00:04:47.355\nBut then we get the secondary pop-up.\n\n98\n00:04:47.355 --> 00:04:50.517\nThis is the one I'm talking about\nthat is specific to the name\n\n99\n00:04:50.517 --> 00:04:54.927\nsuffix routing information or at least\ninformation about the name suffix routing.\n\n100\n00:04:54.927 --> 00:04:59.823\nAnd it says here, new child domains were\nrecently added to the specified forest.\n\n101\n00:04:59.823 --> 00:05:01.302\nThis forest may or\nmay not have detected them yet.\n\n102\n00:05:01.302 --> 00:05:04.330\nIn other words,\nit may not have knowledge of them.\n\n103\n00:05:04.330 --> 00:05:07.710\nTo ensure that all traffic for\nthis trust is routed to\n\n104\n00:05:07.710 --> 00:05:12.290\nthe specified forest correctly, update\nthe name suffix routing information.\n\n105\n00:05:12.290 --> 00:05:16.261\nBecause if we don't update it, we're not\ngonna know that the traffic from that\n\n106\n00:05:16.261 --> 00:05:20.412\nchild domain is destined to go into this\nappropriate forest to be authenticated and\n\n107\n00:05:20.412 --> 00:05:22.746\nacross the appropriate trust relationship.\n\n108\n00:05:22.746 --> 00:05:25.679\nIn other words, we may not know\nhow to handle a request for\n\n109\n00:05:25.679 --> 00:05:30.022\nauthentication if we don't have knowledge\nof all the domain name spaces in each side\n\n110\n00:05:30.022 --> 00:05:31.140\nof the forest trust.\n\n111\n00:05:31.140 --> 00:05:32.600\nAnd that's what this is saying.\n\n112\n00:05:32.600 --> 00:05:35.550\nDo you want to update this\ninformation now, yes or no?\n\n113\n00:05:35.550 --> 00:05:38.395\nNow I can click No and update it\nmanually on my own later, but clearly,\n\n114\n00:05:38.395 --> 00:05:40.772\nthere's an advantage in saying Yes and\nhaving this done.\n\n115\n00:05:40.772 --> 00:05:44.468\nSo you wanna click Yes, it just does it,\nvery simple, very straightforward,\n\n116\n00:05:44.468 --> 00:05:45.400\nvery easy.\n\n117\n00:05:45.400 --> 00:05:49.320\nWhat it's doing, it's coming to\nthe Name Suffix Routing tab right here, so\n\n118\n00:05:49.320 --> 00:05:52.050\nthis tab just to the right.\n\n119\n00:05:52.050 --> 00:05:56.060\nAnd what it does, meaning, what\nthe wizard pop-up dialogue just did for\n\n120\n00:05:56.060 --> 00:06:00.900\nme, is it comes in and\nit makes sure that this entry,\n\n121\n00:06:00.900 --> 00:06:05.330\nor if there was a need for more than one\nentry, that all the entries would be here.\n\n122\n00:06:05.330 --> 00:06:08.770\nWithout this entry,\nlet's see if I can click away.\n\n123\n00:06:08.770 --> 00:06:11.810\nThis entry, which, go back to full\nscreen just so we can see this.\n\n124\n00:06:11.810 --> 00:06:14.060\nBut starts with an asterisk.\n\n125\n00:06:14.060 --> 00:06:15.990\nGonna kinda point to it right there.\n\n126\n00:06:15.990 --> 00:06:19.070\nAsterisk period in this case,\napac.research.\n\n127\n00:06:19.070 --> 00:06:24.090\nIt kinda trails off up at\npracticelabs.com, Routing Enabled.\n\n128\n00:06:24.090 --> 00:06:29.400\nAnd what that means is that any of the\nnamespaces underneath the forest will be\n\n129\n00:06:29.400 --> 00:06:33.020\nrouted to this particular, or for\nthis particular namespace, for\n\n130\n00:06:33.020 --> 00:06:36.330\nthis forest namespace,\nwill be handled, routed, and\n\n131\n00:06:36.330 --> 00:06:39.200\nresolved through this\nparticular trust connection.\n\n132\n00:06:39.200 --> 00:06:44.190\nAnd as a result, any of this traffic will\nwind up going to the right place between\n\n133\n00:06:44.190 --> 00:06:47.318\nthe APAP research practicelabs.com domain,\nand\n\n134\n00:06:47.318 --> 00:06:51.460\npracticelabs.com, which are the two\nseparate forests that I have.\n\n135\n00:06:51.460 --> 00:06:55.537\nAnd so as a result, and it says here,\neven if you just take a look,\n\n136\n00:06:55.537 --> 00:06:59.318\nif routing's enabled to, or\nfor a particular name suffix,\n\n137\n00:06:59.318 --> 00:07:04.533\nall authentication requests using the\nsuffix are routed to the specified forest.\n\n138\n00:07:04.533 --> 00:07:09.443\nAs a result, anything that comes in\nto authenticate against may be on\n\n139\n00:07:09.443 --> 00:07:13.087\nsales.apact.recert.practicelabs.com, or\n\n140\n00:07:13.087 --> 00:07:18.100\nmaybe hr.apact.practicelabs,\nor recert.practicelabs.com.\n\n141\n00:07:18.100 --> 00:07:22.093\nIn other words, anything that will\nbe filling in that asterisk for\n\n142\n00:07:22.093 --> 00:07:26.801\nthe placeholder as a domain underneath\nthat forest in that namespace and a user\n\n143\n00:07:26.801 --> 00:07:31.437\nthat comes in to authenticate against\nany one of those domains as they logon,\n\n144\n00:07:31.437 --> 00:07:35.790\nthat information is gonna get routed\nacross this trust relationship and\n\n145\n00:07:35.790 --> 00:07:39.335\nshow up and wind up in the APAP\npracticelabs.com forest.\n\n146\n00:07:39.335 --> 00:07:41.649\nOr APAP research.practicelabs.com forest,\nexcuse me.\n\n147\n00:07:41.649 --> 00:07:44.492\nIt's what I get for\nusing a really long crazy forest names.\n\n148\n00:07:44.492 --> 00:07:47.520\nAnd as a result,\nwe'll then get authenticated,\n\n149\n00:07:47.520 --> 00:07:52.064\nhopefully if the user is legitimate,\nprovides legitimate credentials,\n\n150\n00:07:52.064 --> 00:07:56.190\nand can prove who they are, and\nthey'll be allowed to log in.\n\n151\n00:07:56.190 --> 00:08:00.262\nSo if I'm sitting in practicelabs.com,\nand I put in a credential for\n\n152\n00:08:00.262 --> 00:08:03.574\na user that's gonna be in one\nof the subdomains in the APAC\n\n153\n00:08:03.574 --> 00:08:06.956\nresearch practicelabs.com forest,\nthis connection,\n\n154\n00:08:06.956 --> 00:08:11.235\nthese trust relationships, and\nspecifically, the name suffix routing\n\n155\n00:08:11.235 --> 00:08:15.463\nthat is applied to these trust\nrelationships will handle that traffic.\n\n156\n00:08:15.463 --> 00:08:19.815\nPass it across the trust relationship,\nallow it to be authenticated, and\n\n157\n00:08:19.815 --> 00:08:22.740\nallow the user to log on and\naccess resources.\n\n158\n00:08:22.740 --> 00:08:26.800\nSo this is the value, the importance,\nthe need for name suffix routing.\n\n159\n00:08:26.800 --> 00:08:30.610\nIt's an important concept, conceptually\nnot very difficult to understand, but\n\n160\n00:08:30.610 --> 00:08:32.040\nimportant to have a sense of.\n\n161\n00:08:32.040 --> 00:08:35.190\nIt's a little bit easier to wrap your\nhead around if you get to see it.\n\n162\n00:08:35.190 --> 00:08:37.430\nYou just kinda understand\nthe logic of how we set it up.\n\n163\n00:08:37.430 --> 00:08:39.160\nIt's an important skill set for the exam.\n\n164\n00:08:39.160 --> 00:08:42.820\nYou should be able to understand\nthe concept of name suffix routing.\n\n165\n00:08:42.820 --> 00:08:45.880\nYou may get asked about how it\nis configured, where we see it,\n\n166\n00:08:45.880 --> 00:08:46.790\nhow do we manage it.\n\n167\n00:08:46.790 --> 00:08:49.500\nIf we have to go in an edit it for\nsome reason, can we do that?\n\n168\n00:08:49.500 --> 00:08:51.920\nIf you join me back here,\nlet's just take a look at the Edit option,\n\n169\n00:08:51.920 --> 00:08:53.540\nand then I can show you that.\n\n170\n00:08:53.540 --> 00:08:55.310\nHighlight the name suffix routing.\n\n171\n00:08:55.310 --> 00:08:59.240\nYou can see down here, Disable,\nif we need to turn it off for some reason.\n\n172\n00:08:59.240 --> 00:09:01.800\nRefresh, if we think there's an update and\nwe wanna see it.\n\n173\n00:09:01.800 --> 00:09:03.673\nClick Edit.\nI can go in,\n\n174\n00:09:03.673 --> 00:09:08.474\nadd properties here as you can see,\n\n175\n00:09:08.474 --> 00:09:14.405\nname suffixes to exclude from the routing.\n\n176\n00:09:14.405 --> 00:09:18.365\nMeaning, if I want to exclude a certain\ndomain within the forest, but\n\n177\n00:09:18.365 --> 00:09:22.170\nallow all other domain namespaces\nin that forest to be routed.\n\n178\n00:09:22.170 --> 00:09:27.280\nSo envision for a minute, I have\na staging domain, or a QA domain, or\n\n179\n00:09:27.280 --> 00:09:32.270\na testing domain, something that\noften exists in organizations where\n\n180\n00:09:32.270 --> 00:09:36.420\napplication development takes place and\nthings of that nature that are gonna occur\n\n181\n00:09:36.420 --> 00:09:39.570\nin those domains typically should\nnot be seeing the light of day.\n\n182\n00:09:39.570 --> 00:09:42.970\nWe wouldn't allow information\nout of that domain because it's\n\n183\n00:09:42.970 --> 00:09:45.220\nused just as a throwaway test environment,\nright?\n\n184\n00:09:45.220 --> 00:09:50.220\nSo instead of just having a placeholder\nthat says asterisk anything at the forest\n\n185\n00:09:50.220 --> 00:09:54.000\nand move all that authentication traffic\nfor all those subdomains across and\n\n186\n00:09:54.000 --> 00:09:58.540\nauthenticate, I may wanna selectively\nblock domains like the QA,\n\n187\n00:09:58.540 --> 00:10:03.440\nlike the staging, like pre-production,\nlike app dev, whatever you call them.\n\n188\n00:10:03.440 --> 00:10:05.750\nSo I may wanna block\na list of those domains.\n\n189\n00:10:05.750 --> 00:10:09.030\nSo I may add them in here and\nsay, block these domains but\n\n190\n00:10:09.030 --> 00:10:10.870\nallow all other domains\nto be authenticated.\n\n191\n00:10:10.870 --> 00:10:14.162\nAnd that's what this particular edit\noption at the top will allow me to do.\n\n192\n00:10:14.162 --> 00:10:18.020\nAnd so I can go in and I can view that.\n\n193\n00:10:18.020 --> 00:10:20.140\nI could then, as a result,\nsay, hey, you know what?\n\n194\n00:10:20.140 --> 00:10:22.919\nI'll authenticate these 20\ndomains that exist, but\n\n195\n00:10:22.919 --> 00:10:26.061\nout of the 24, I wanna block 4 and\nonly allow 20 to be used.\n\n196\n00:10:26.061 --> 00:10:28.710\nAnd that gives me more granular control.\n\n197\n00:10:28.710 --> 00:10:32.640\nIt's very important for us to be able\ndo this because many corporations,\n\n198\n00:10:32.640 --> 00:10:34.340\nmany organizations or entities,\n\n199\n00:10:34.340 --> 00:10:37.750\nwill have these domains that they don't\nwant to authenticate against, but\n\n200\n00:10:37.750 --> 00:10:41.280\nthey want the rest of the forest\ndomain traffic to be authenticated.\n\n201\n00:10:41.280 --> 00:10:42.820\nAnd this is the way we would do that.\n\n202\n00:10:42.820 --> 00:10:44.540\nCould easily see a scenario question,\n\n203\n00:10:44.540 --> 00:10:48.150\nmaybe a troubleshooting question where\nyou would have to selectively go in and\n\n204\n00:10:48.150 --> 00:10:51.610\nknow how to edit out or\nprovide this exclusion list.\n\n205\n00:10:51.610 --> 00:10:53.660\nAnd you'd wanna know that you\nwould come and do it here.\n\n206\n00:10:53.660 --> 00:10:55.520\nSo it would be important for\nyou to be aware of that.\n\n207\n00:10:55.520 --> 00:10:59.070\nWe can do that right here just\nby editing the existing entry.\n\n208\n00:11:00.160 --> 00:11:03.123\nNow and again, we would use some on either\nside of the trust relationship depending\n\n209\n00:11:03.123 --> 00:11:05.491\nin what direction we would want\nthat traffic to flow, maybe both,\n\n210\n00:11:05.491 --> 00:11:07.421\nmaybe only one way,\ndepending on what we're doing.\n\n211\n00:11:07.421 --> 00:11:12.354\n&gt;&gt; All right, non-difficult to actually go\nahead and allow or restrict certain types\n\n212\n00:11:12.354 --> 00:11:15.773\nof traffic to our different-\n&gt;&gt; Mm-hm, very easy once you go in and\n\n213\n00:11:15.773 --> 00:11:17.035\nkinda get it all setup.\n\n214\n00:11:17.035 --> 00:11:18.545\n&gt;&gt; Well, thank you for\nshowing us that, Adam.\n\n215\n00:11:18.545 --> 00:11:21.550\nAnd you get a gold star because\nit actually was a short episode.\n\n216\n00:11:21.550 --> 00:11:23.831\n[LAUGH]\n&gt;&gt; It was, didn't I say it would be short?\n\n217\n00:11:23.831 --> 00:11:25.915\n&gt;&gt; Thank you, and thank you for\njoining us as well.\n\n218\n00:11:25.915 --> 00:11:29.114\nBut we are gonna go ahead and sign out of\nour really short episode here at ITProTV.\n\n219\n00:11:29.114 --> 00:11:31.355\nI've been your host, Cherokee Boose.\n\n220\n00:11:31.355 --> 00:11:32.245\n&gt;&gt; I'm Adam Gordon.\n\n221\n00:11:32.245 --> 00:11:33.310\n&gt;&gt; See you next time, bye.\n\n222\n00:11:33.310 --> 00:11:40.937\n[MUSIC]\n\n223\n00:11:40.937 --> 00:11:42.649\nThank you for watching ITProTV.\n\n",
          "vimeoId": "229703819"
        }
      ],
      "title": "Advanced AD DS infrastructure management"
    },
    {
      "episodes": [
        {
          "description": "In this show, Adam and Cherokee explain different partitions associated with AD DS. Learn the difference between configuration, schema, domain, and application partitions. Adam also demonstrates how to use the ADSI edit tool.",
          "length": "1862",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-1-ad_ds_sites_and_replication-081217-PGM.00_30_46_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-1-ad_ds_sites_and_replication-081217-PGM.00_30_46_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-1-ad_ds_sites_and_replication-081217-PGM.00_30_46_13.Still001-sm.jpg",
          "title": "AD DS Sites and Replication",
          "transcript": "WEBVTT\n\n1\n00:00:00.250 --> 00:00:06.518\nWelcome to ITProTV I'm your host,\nDon Pezet [CROSSTALK].\n\n2\n00:00:06.518 --> 00:00:08.320\n[MUSIC]\n\n3\n00:00:08.320 --> 00:00:11.020\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:11.020 --> 00:00:15.319\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n5\n00:00:15.319 --> 00:00:17.760\nI'm your show host, Cherokee Boose.\n\n6\n00:00:17.760 --> 00:00:22.580\nIn this episode, we'll be taking\na look at AD DS sites and replication.\n\n7\n00:00:22.580 --> 00:00:24.689\nBack with us today in the studios\nwe have Mr. Adam Gordon.\n\n8\n00:00:24.689 --> 00:00:26.080\nHow are you today, Adam?\n\n9\n00:00:26.080 --> 00:00:27.030\n&gt;&gt; Doing well, doing well.\n\n10\n00:00:27.030 --> 00:00:29.048\nHopefully, you're doing good also.\n\n11\n00:00:29.048 --> 00:00:32.040\nWe are gonna continue talking about ADDS.\n\n12\n00:00:32.040 --> 00:00:34.210\nBut instead of talking about the objects,\n\n13\n00:00:34.210 --> 00:00:36.980\nthe management,\nthe advanced infrastructure.\n\n14\n00:00:36.980 --> 00:00:38.762\nBeen through a lot of that stuff already.\n\n15\n00:00:38.762 --> 00:00:41.750\nEncourage you to go take a look at\nsome of the stuff we've been doing.\n\n16\n00:00:41.750 --> 00:00:44.930\nVery helpful to give you the general\nthought process around what we're\n\n17\n00:00:44.930 --> 00:00:45.890\nabout to get into.\n\n18\n00:00:45.890 --> 00:00:47.990\nWe're gonna talk about sites and\nreplication.\n\n19\n00:00:47.990 --> 00:00:49.740\nCould actually say replication and\nsites, but\n\n20\n00:00:49.740 --> 00:00:51.450\nwe do need sites in order to replicate.\n\n21\n00:00:51.450 --> 00:00:54.200\nSo, it is the right order\nto put that statement in.\n\n22\n00:00:54.200 --> 00:00:54.990\nWe're gonna jump in,\n\n23\n00:00:54.990 --> 00:00:58.830\nexpound a little bit on some of the stuff\nwe talked about in some prior episodes.\n\n24\n00:00:58.830 --> 00:01:02.485\nSpecifically we're gonna start by\ntalking about partitions in the schema.\n\n25\n00:01:02.485 --> 00:01:05.380\nAnd we had this conversation\na little bit earlier on.\n\n26\n00:01:05.380 --> 00:01:12.090\nWe were going through talking specifically\nabout how when we are using the schema.\n\n27\n00:01:12.090 --> 00:01:15.658\nWe think of it, and we've often talked\nabout it as this monolithic thing.\n\n28\n00:01:15.658 --> 00:01:19.593\nIt's the NTDS.dic file,\nIt's in the NTDS directory.\n\n29\n00:01:19.593 --> 00:01:23.300\nIt's got all this information in it\nabout objects and how they're created.\n\n30\n00:01:23.300 --> 00:01:26.494\nThe blueprints, or\nthe instructions, the owners manual.\n\n31\n00:01:26.494 --> 00:01:28.990\nYou've heard to me refer\nto it different ways.\n\n32\n00:01:28.990 --> 00:01:32.738\nAnd we go through and\nwe create a copy of an object defined as\n\n33\n00:01:32.738 --> 00:01:37.650\nuser with certain attributes and\ncertain properties and we provide value.\n\n34\n00:01:37.650 --> 00:01:41.426\nThat's kind of how you often hear\nthe schema and its impact and\n\n35\n00:01:41.426 --> 00:01:44.630\nits importance discussed and\nthat is all accurate.\n\n36\n00:01:44.630 --> 00:01:46.380\nThere's nothing wrong with any of that.\n\n37\n00:01:46.380 --> 00:01:50.609\nBut what we don't really go in to and\nwe haven't really talked too much about,\n\n38\n00:01:50.609 --> 00:01:54.851\nis this idea that the schema is actually\nbroken up Into different partitions.\n\n39\n00:01:54.851 --> 00:01:59.688\nOr different manageable areas of\ninformation that we share, we allocate,\n\n40\n00:01:59.688 --> 00:02:01.830\nwe use for a variety of things.\n\n41\n00:02:01.830 --> 00:02:05.850\nThere is a schema partition, or\na partition called the schema partition.\n\n42\n00:02:05.850 --> 00:02:08.720\nBut there's also one called\nthe configuration partition.\n\n43\n00:02:08.720 --> 00:02:13.329\nThere are different areas of\ninformation used to set up and\n\n44\n00:02:13.329 --> 00:02:16.632\nmaintain the, entire infrastructure.\n\n45\n00:02:16.632 --> 00:02:21.262\nAnd all of the information needed to\nsupport and use ADDS throughout every\n\n46\n00:02:21.262 --> 00:02:25.990\ndomain within the tree, throughout\nall the trees within the forest.\n\n47\n00:02:25.990 --> 00:02:29.287\nAnd so we're just gonna break that down\nfor you a little bit, talk a little bit\n\n48\n00:02:29.287 --> 00:02:32.536\nmore about that, make sure we understand\nthe logic of what partitions are,\n\n49\n00:02:32.536 --> 00:02:35.922\nname the partitions that are there,\nwe've already talked about two of them.\n\n50\n00:02:35.922 --> 00:02:39.221\nMake sure we understand what their scope,\ntheir focus and\n\n51\n00:02:39.221 --> 00:02:41.650\ntheir structure their importance is.\n\n52\n00:02:41.650 --> 00:02:44.130\nThen we're gonna go on and\ntalk some more about some other things.\n\n53\n00:02:44.130 --> 00:02:48.101\nDo a little demonstration at some point\nfor how to create some new sites,\n\n54\n00:02:48.101 --> 00:02:50.117\nset up a site, talk about what it is,\n\n55\n00:02:50.117 --> 00:02:54.304\nwhy is it important how does [INAUDIBLE]\nconstrain and control replication.\n\n56\n00:02:54.304 --> 00:02:57.690\nAnd eventually we'll get in we'll\ntake a look at how to monitor and\n\n57\n00:02:57.690 --> 00:02:59.770\nkeep track of replication.\n\n58\n00:02:59.770 --> 00:03:02.793\nThe rep admin tool and\nsome other tools we can talk about.\n\n59\n00:03:02.793 --> 00:03:06.230\nWe'll take a look at some of the behind\nthe scenes things that go on with\n\n60\n00:03:06.230 --> 00:03:07.120\nregards to this.\n\n61\n00:03:07.120 --> 00:03:10.523\nSo we talked about the idea as I\nsaid of what partitions represents,\n\n62\n00:03:10.523 --> 00:03:13.091\nsub dividing this information but\nspecifically,\n\n63\n00:03:13.091 --> 00:03:16.331\nthey really provide replication\nefficiency and scalability.\n\n64\n00:03:16.331 --> 00:03:20.670\nWith regards to the information being\nexchanged between domain controllers,\n\n65\n00:03:20.670 --> 00:03:25.008\nthe active directory data is broken up\ninto several partitions to make it easier\n\n66\n00:03:25.008 --> 00:03:29.302\nto mange, easier to say hey this stuff\nneeds to go to every domain controller.\n\n67\n00:03:29.302 --> 00:03:32.640\nLet's just put it in this this\ncontainer called a partition.\n\n68\n00:03:32.640 --> 00:03:36.910\nLet's send it off and replicate it,\nreplicate means copy by the way, so move\n\n69\n00:03:36.910 --> 00:03:41.393\nit around and make sure it's all up to\ndate and synchronized everywhere it goes.\n\n70\n00:03:41.393 --> 00:03:46.044\nAnd as a result we can more tightly\ncontrol this information because every\n\n71\n00:03:46.044 --> 00:03:49.708\npartition becomes essentially\na unit of replication.\n\n72\n00:03:49.708 --> 00:03:53.245\nWe're going to configure and\nreplicate the schema partition and\n\n73\n00:03:53.245 --> 00:03:58.270\nmake sure that the schema information gets\nto every domain controller in the forest.\n\n74\n00:03:58.270 --> 00:04:02.480\nWe're gonna take this configuration,\npartition information, and\n\n75\n00:04:02.480 --> 00:04:06.320\nreplicate it out separately because maybe\nit needs to be replicated on less or\n\n76\n00:04:06.320 --> 00:04:10.090\nmore of an aggressive schedule\nthan the schema Information does.\n\n77\n00:04:10.090 --> 00:04:13.562\nSo instead of handing somebody\na huge box with everything in it,\n\n78\n00:04:13.562 --> 00:04:17.761\nwe're able to subdivide that information\nif you think about the logic of it.\n\n79\n00:04:17.761 --> 00:04:22.021\nAnd we're able to get out the same\ninformation but give it out in smaller\n\n80\n00:04:22.021 --> 00:04:26.960\nchunks or pieces, having more tight\ncontrol over this or that aspect of it.\n\n81\n00:04:26.960 --> 00:04:31.457\nAnd because of that, we're able to then\nstructure the communication required,\n\n82\n00:04:31.457 --> 00:04:35.692\nto ensure that the active directory\ndomain service, the ADDS information,\n\n83\n00:04:35.692 --> 00:04:38.839\nis always up to date,\nalways relevant, always timely.\n\n84\n00:04:38.839 --> 00:04:42.920\nAnd therefore allow for management of\nobjects in the most optimized way.\n\n85\n00:04:42.920 --> 00:04:47.854\nThis is really the thought process behind\nreplication, behind these partitions\n\n86\n00:04:47.854 --> 00:04:52.512\nI mentioned we have the configuration\npartition, the scheme of partition.\n\n87\n00:04:52.512 --> 00:04:54.789\nWe mentioned those two you can probably\nget a sense of what they are but\n\n88\n00:04:54.789 --> 00:04:55.970\nwe'll talk more about them.\n\n89\n00:04:55.970 --> 00:05:00.360\nWe have domain partition set\nof domain partitions as well.\n\n90\n00:05:00.360 --> 00:05:03.140\nSo let's start by talking about\nthe configuration partition.\n\n91\n00:05:03.140 --> 00:05:05.958\nSo, Cherokee if I said to you,\nas I'm about to do so\n\n92\n00:05:05.958 --> 00:05:10.159\nprepare yourself if I said to you hey\nwe've thought about the configuration\n\n93\n00:05:10.159 --> 00:05:13.592\npartition if you had to guess\nyou weren't necessarily sure.\n\n94\n00:05:13.592 --> 00:05:15.749\nAnd we'll talk about what's\nin it in a minute but\n\n95\n00:05:15.749 --> 00:05:19.114\nif you weren't sure what would be in\nthere logically what do you think be some\n\n96\n00:05:19.114 --> 00:05:21.420\nthings we may put in\nthe configuration partition.\n\n97\n00:05:21.420 --> 00:05:23.087\n&gt;&gt; [LAUGH]\n&gt;&gt; And you're not allowed to tell me,\n\n98\n00:05:23.087 --> 00:05:26.106\nby the way, any [CROSSTALK]\nconfiguration related stuff, right?\n\n99\n00:05:26.106 --> 00:05:28.965\nIt is actually configuration related\nstuff, there's no doubt about that.\n\n100\n00:05:28.965 --> 00:05:32.272\nBut when we think about\nconfiguration related stuff.\n\n101\n00:05:32.272 --> 00:05:35.172\nThere's more to it than just,\nit's configuration, right?\n\n102\n00:05:35.172 --> 00:05:39.432\nWe have to think about the logic,\nfor instance, of what may be part of\n\n103\n00:05:39.432 --> 00:05:43.651\na configuration information exchange,\nor what would be in there.\n\n104\n00:05:43.651 --> 00:05:46.379\nAnd also who would potentially\nbenefit from this,\n\n105\n00:05:46.379 --> 00:05:51.075\ndoes it go to every domain controller and\nevery domain is it wide in other words,\n\n106\n00:05:51.075 --> 00:05:52.799\nis it limited to certain areas.\n\n107\n00:05:52.799 --> 00:05:54.401\nWell we need to think about this.\n\n108\n00:05:54.401 --> 00:05:58.631\nThe configuration information is\ngonna be so let's talk about that.\n\n109\n00:05:58.631 --> 00:06:03.041\nIs it gonna be domain wide, meaning it's\njust a configuration information for\n\n110\n00:06:03.041 --> 00:06:06.860\none domain or is it forest wide\nconfiguration information?\n\n111\n00:06:06.860 --> 00:06:10.772\nConfiguration about the entire forest and\nthe structure of all domains within it.\n\n112\n00:06:10.772 --> 00:06:14.590\n&gt;&gt; I think it will be referencing all\ndomains unless you only have one domain\n\n113\n00:06:14.590 --> 00:06:18.095\nand in that case it would just be\nhaving contained that information\n\n114\n00:06:18.095 --> 00:06:20.428\nthe configuration for that single domain.\n\n115\n00:06:20.428 --> 00:06:23.995\nBut if you have multiple then all of them\nshould be contained in the configuration\n\n116\n00:06:23.995 --> 00:06:24.576\npartition.\n\n117\n00:06:24.576 --> 00:06:26.952\n&gt;&gt; They would be you're absolutely\nright and even if we had and\n\n118\n00:06:26.952 --> 00:06:28.481\nyou make an excellent point, right?\n\n119\n00:06:28.481 --> 00:06:31.852\nEven if we had only one domain,\nstructuring our tree and\n\n120\n00:06:31.852 --> 00:06:33.870\nultimately our forest, right?\n\n121\n00:06:33.870 --> 00:06:37.960\nBecause we've talked about the fact, in\nprior discussions, that at the beginning\n\n122\n00:06:37.960 --> 00:06:42.150\nof this whole process, it's rare that\nwe set up something from scratch.\n\n123\n00:06:42.150 --> 00:06:45.110\nAnd start out often times, right?\n\n124\n00:06:45.110 --> 00:06:47.540\nAs an IT professional, at work,\n\n125\n00:06:47.540 --> 00:06:50.081\nyou're either inheriting\nan existing infrastructure,\n\n126\n00:06:50.081 --> 00:06:54.160\nor you're building on top of something\nthat's been in place for some time.\n\n127\n00:06:54.160 --> 00:06:56.100\nSo you have a skilled out infrastructure,\nright?\n\n128\n00:06:56.100 --> 00:07:00.520\nProbably multiple domain\ncontrollers in one or more domains,\n\n129\n00:07:00.520 --> 00:07:05.640\nperhaps more than one domain name space\nand a forest that's goes with that.\n\n130\n00:07:05.640 --> 00:07:10.440\nSmall to medium size business may have\na single domain a one name space.\n\n131\n00:07:10.440 --> 00:07:14.060\nYou know company.com or\nwhatever it maybe or whatever the name is.\n\n132\n00:07:14.060 --> 00:07:16.741\nAnd usually hopefully you have more\nthan one domain controller from\n\n133\n00:07:16.741 --> 00:07:17.642\na disaster recovery.\n\n134\n00:07:17.642 --> 00:07:19.300\nThis is continuity perspective.\n\n135\n00:07:19.300 --> 00:07:23.371\nWe talked about the fact that it is so\nvital to spread that information that's on\n\n136\n00:07:23.371 --> 00:07:26.798\nit to make control route,\nthe roles have to be spread out.\n\n137\n00:07:26.798 --> 00:07:29.680\nWe've talked about reasons why\nyou wanna have more than one.\n\n138\n00:07:29.680 --> 00:07:34.440\nSo there would be certainly some\nneed to ensure we have that done.\n\n139\n00:07:34.440 --> 00:07:38.007\nBut there are many companies that\nwould fall into this category with\n\n140\n00:07:38.007 --> 00:07:40.824\njust having a single domain,\nwith one named space and\n\n141\n00:07:40.824 --> 00:07:44.037\na very simple architecture to\ncreate the active directory.\n\n142\n00:07:44.037 --> 00:07:45.033\nAnd the forest and\n\n143\n00:07:45.033 --> 00:07:48.899\neven then the configuration partition\nwill have that information.\n\n144\n00:07:48.899 --> 00:07:53.040\nWe would say in other words, the scope is\nforest wide even though the forest may\n\n145\n00:07:53.040 --> 00:07:57.373\nbe maintained by and essentially consist\nof nothing more That a single domain with\n\n146\n00:07:57.373 --> 00:08:00.171\nmaybe one or\nmore domain controllers in it, right?\n\n147\n00:08:00.171 --> 00:08:04.192\nSo it's a good thing to think about and\nto remind us of, because here we can often\n\n148\n00:08:04.192 --> 00:08:07.880\nloose sight of the fact that\nthe majority of implementations.\n\n149\n00:08:07.880 --> 00:08:10.610\nTake place in small to\nmedium sized businesses.\n\n150\n00:08:10.610 --> 00:08:16.660\nAnd those small to medium sized businesses\nwill not have tremendous scalability,\n\n151\n00:08:16.660 --> 00:08:19.240\nor the need for tremendous\nscalability in their namespaces.\n\n152\n00:08:19.240 --> 00:08:24.290\nBecause they just don't have a need to\nhave four or five different domain spaces\n\n153\n00:08:24.290 --> 00:08:28.050\nor qualified names that are joined\ntogether into a large forest.\n\n154\n00:08:28.050 --> 00:08:30.890\nThis is more of a large scale\nenterprise thought process.\n\n155\n00:08:30.890 --> 00:08:33.080\nSo it will be forest-wide in scope.\n\n156\n00:08:33.080 --> 00:08:35.680\nBut it may be made up of nothing more\nthan one single domain name space.\n\n157\n00:08:35.680 --> 00:08:37.340\nYou're absolutely right in that respect.\n\n158\n00:08:37.340 --> 00:08:39.680\nSo it is going to contain\nforest wide ADDS.\n\n159\n00:08:39.680 --> 00:08:43.100\nStructural information which\ndomains as Cherokee said.\n\n160\n00:08:43.100 --> 00:08:43.620\nWhat exists?\n\n161\n00:08:43.620 --> 00:08:46.660\nWhat sites,\nas we'll be talking about will exist.\n\n162\n00:08:46.660 --> 00:08:50.640\nAnd which domain controllers\nwithin those domains exist?\n\n163\n00:08:50.640 --> 00:08:56.500\nSo we are naming the logical and physical\nentities, and the structure of them,\n\n164\n00:08:56.500 --> 00:09:00.610\nby creating this configuration, partition\ninformation, and then replicating it out.\n\n165\n00:09:00.610 --> 00:09:02.850\nIf you have domain with\ntwo domain controllers and\n\n166\n00:09:02.850 --> 00:09:07.670\none site, all that information is\ndiscussed, defined, noted and then,\n\n167\n00:09:07.670 --> 00:09:10.120\nmanaged through the replication\nof the configuration partition.\n\n168\n00:09:10.120 --> 00:09:12.910\nIn other words,\nthroughout the forest or in this case,\n\n169\n00:09:12.910 --> 00:09:16.140\nthroughout all the domain controllers in\nthat domain that represent the forest.\n\n170\n00:09:16.140 --> 00:09:19.180\nIt's gonna be probably the smallest\nof all the partitions.\n\n171\n00:09:19.180 --> 00:09:22.560\nBecause there is a very limited\namount of information that goes into\n\n172\n00:09:22.560 --> 00:09:24.130\nthis particular partition.\n\n173\n00:09:24.130 --> 00:09:26.910\nAll the other partition\nespecially the schemer partition\n\n174\n00:09:26.910 --> 00:09:28.740\nwill be much larger by comparison.\n\n175\n00:09:28.740 --> 00:09:32.038\nBecause there's many many\nobjects that get created.\n\n176\n00:09:32.038 --> 00:09:34.400\nBut the configuration\nof the containers for\n\n177\n00:09:34.400 --> 00:09:36.250\nthis objects is relatively smaller and\nstable.\n\n178\n00:09:36.250 --> 00:09:37.770\nYou don't change that very often.\n\n179\n00:09:37.770 --> 00:09:40.400\nSo this one is gonna be a fairly smaller.\n\n180\n00:09:40.400 --> 00:09:43.840\nAnd it's also not gonna have to\nbe replicated very frequently,\n\n181\n00:09:43.840 --> 00:09:47.920\nbecause once we get it out there and kind\nof stabilize it, everybody's got a copy,\n\n182\n00:09:47.920 --> 00:09:49.440\nwe hand them out to everybody.\n\n183\n00:09:49.440 --> 00:09:52.470\nUnless we make changes\nin the architecture and\n\n184\n00:09:52.470 --> 00:09:57.110\nstructure, we add a new domain controller,\nwe create an additional domain,\n\n185\n00:09:57.110 --> 00:10:00.995\na child domain in the parent domain,\nnumber of diagram, right?\n\n186\n00:10:00.995 --> 00:10:03.648\nITPro.tv at the top for root domain.\n\n187\n00:10:03.648 --> 00:10:07.348\nIn our ITPro.tv tree, we have hosts.\n\n188\n00:10:07.348 --> 00:10:11.860\nWe have audience.ITPro.tv,\nas we add one or both of those child\n\n189\n00:10:11.860 --> 00:10:15.810\ndomains the configuration partition\nhas to be updated, cuz we've added new\n\n190\n00:10:15.810 --> 00:10:20.320\ndomain name spaces, new domain controllers\nthat represent that domain namespace.\n\n191\n00:10:20.320 --> 00:10:21.850\nWe'd have to replicate that, but\n\n192\n00:10:21.850 --> 00:10:24.890\nonce we replicate that to\nrepresent the new information.\n\n193\n00:10:24.890 --> 00:10:26.020\nWe're done at that point,\n\n194\n00:10:26.020 --> 00:10:29.460\nwe don't have to replicate again until\nwe make another structural change.\n\n195\n00:10:29.460 --> 00:10:34.390\nAnd while we do certainly,\neven in the smallest of domains,\n\n196\n00:10:34.390 --> 00:10:37.040\npotentially have a need\nto update this over time.\n\n197\n00:10:37.040 --> 00:10:40.950\nOnce the initial structure of the domain,\nthe tree, the forest is kind of set out,\n\n198\n00:10:40.950 --> 00:10:44.610\nduring that initial growth spurt that\nwe often go through to set things up.\n\n199\n00:10:44.610 --> 00:10:47.880\nAnd then occasionally add a little\ninfrastructure, here and there.\n\n200\n00:10:47.880 --> 00:10:51.000\nIt's very infrequent, in most companies,\nthat you'll be doing any major\n\n201\n00:10:51.000 --> 00:10:54.480\narchitecture shifts, and\nrevisions, on a regular basis.\n\n202\n00:10:54.480 --> 00:10:57.570\nYou may do them every so often, but you're\nnot gonna be going in every few weeks and\n\n203\n00:10:57.570 --> 00:10:59.950\nhaving domain controllers,\nyou're not gonna go in every few weeks and\n\n204\n00:10:59.950 --> 00:11:01.220\nadd new domains.\n\n205\n00:11:01.220 --> 00:11:04.740\nUnless there's some sort of\ncompelling business reason.\n\n206\n00:11:04.740 --> 00:11:07.160\nYou're in the middle of mergers and\nacquisitions, right.\n\n207\n00:11:07.160 --> 00:11:10.860\nYou've experienced phenomenal growth for\nsome hopefully good reasons, but\n\n208\n00:11:10.860 --> 00:11:12.560\nwhatever they are, the company's growing.\n\n209\n00:11:12.560 --> 00:11:15.100\nYou're having to add infrastructure.\n\n210\n00:11:15.100 --> 00:11:17.500\nUnless that's happening\nin a certain cycle,\n\n211\n00:11:17.500 --> 00:11:20.538\nit's highly unlikely you're gonna change\nwhat's in the configuration partition.\n\n212\n00:11:20.538 --> 00:11:23.320\nSo, just wanna make sure we're aware\nof that, we have a sense of that.\n\n213\n00:11:23.320 --> 00:11:25.720\nWe have the scheme of partition.\n\n214\n00:11:25.720 --> 00:11:27.730\nWe think the schema partition,\nI kind of talked about this one,\n\n215\n00:11:27.730 --> 00:11:28.446\nI already gave this one away.\n\n216\n00:11:28.446 --> 00:11:30.050\n&gt;&gt; [LAUGH]\n&gt;&gt; But think this one is forest-wide\n\n217\n00:11:30.050 --> 00:11:32.420\nas well, right,\nthis one clearly has to be forest wide.\n\n218\n00:11:32.420 --> 00:11:33.160\n&gt;&gt; Definitely has to be.\n\n219\n00:11:33.160 --> 00:11:34.710\n&gt;&gt; Because it's got all\nthe information for\n\n220\n00:11:34.710 --> 00:11:37.300\nall the objects that are gonna be\nrepresented in the schema, right?\n\n221\n00:11:37.300 --> 00:11:39.980\nThis contains the definitions\nof all the objects.\n\n222\n00:11:39.980 --> 00:11:45.060\nSo, this one is the poster child,\nthe candidate for forest-wide replication.\n\n223\n00:11:45.060 --> 00:11:48.510\nIt's gonna give us the ability\nto understand how to create,\n\n224\n00:11:48.510 --> 00:11:50.615\nmanage and work with objects.\n\n225\n00:11:50.615 --> 00:11:52.295\nThat are defined in the schema.\n\n226\n00:11:52.295 --> 00:11:54.355\nSo this is important\nthe rules to create and\n\n227\n00:11:54.355 --> 00:11:56.965\nmanipulate them are laid\ndown through the schema.\n\n228\n00:11:56.965 --> 00:12:00.735\nAnd so the schema partition is where\nall this information is gonna be.\n\n229\n00:12:00.735 --> 00:12:03.425\nReplicates to all the domain\ncontrollers in the forest.\n\n230\n00:12:03.425 --> 00:12:07.265\nNot just in one domain, but\nall domains, all domain controllers.\n\n231\n00:12:07.265 --> 00:12:10.250\nAny one and\nall of them must have a copy of this.\n\n232\n00:12:10.250 --> 00:12:13.690\nBecause all of them are gonna be able to\nleverage this to be able to do their jobs.\n\n233\n00:12:13.690 --> 00:12:15.370\nTo be able to create, interact with,\n\n234\n00:12:15.370 --> 00:12:20.990\nmanage and essentially go through the life\ncycle of what an object or objects may be.\n\n235\n00:12:20.990 --> 00:12:24.900\nThe default set of information about\nobjects in the schema, in other words,\n\n236\n00:12:24.900 --> 00:12:27.380\nis represented here so\nplease be aware of that.\n\n237\n00:12:27.380 --> 00:12:31.960\nAlso, keep in mind that you interact\nwith the schema partition to manipulate,\n\n238\n00:12:31.960 --> 00:12:34.130\nmanage, modify the schema.\n\n239\n00:12:34.130 --> 00:12:36.130\nWe've talked about this\nin prior discussions.\n\n240\n00:12:36.130 --> 00:12:38.040\nWe need to have schema admin, right?\n\n241\n00:12:38.040 --> 00:12:39.740\nSo, if you're a member\nof the enterprise or\n\n242\n00:12:39.740 --> 00:12:43.350\nthe universal group level,\ncalled schema admin.\n\n243\n00:12:43.350 --> 00:12:45.300\nSo, just be aware of that.\n\n244\n00:12:45.300 --> 00:12:48.740\nLet's say you're an administrator\nof a single domain,\n\n245\n00:12:48.740 --> 00:12:51.070\nyou're not gonna have rights\nto modify the schema,\n\n246\n00:12:51.070 --> 00:12:53.930\neven though you may wanna\ncontrol objects in your domain.\n\n247\n00:12:53.930 --> 00:12:56.650\nDomain administrative rights gives\nyou the ability to do that, but\n\n248\n00:12:56.650 --> 00:12:59.000\nnot to modify the overarching definitions.\n\n249\n00:12:59.000 --> 00:13:01.700\nAnd the instructions of how\nall objects will be created.\n\n250\n00:13:01.700 --> 00:13:06.875\nThat's a schema admin level right,\nlimited to specifically tightly control.\n\n251\n00:13:06.875 --> 00:13:10.835\nTo maybe one or two people in\nthe organization traditionally.\n\n252\n00:13:10.835 --> 00:13:12.025\nBecause when you go in and\n\n253\n00:13:12.025 --> 00:13:16.275\nmodify the schema as I've talked\nabout before, it's a one way journey.\n\n254\n00:13:16.275 --> 00:13:19.505\nYou could put stuff in,\nyou can make changes to what's there.\n\n255\n00:13:19.505 --> 00:13:20.985\nBut you cannot remove objects.\n\n256\n00:13:20.985 --> 00:13:23.355\nSo we have be very concise and\n\n257\n00:13:23.355 --> 00:13:25.750\nvery thoughtful about what\nwe're gonna do with the schema.\n\n258\n00:13:25.750 --> 00:13:29.325\nCoz that's what we add things\nin those become permanent and\n\n259\n00:13:29.325 --> 00:13:30.500\nthey're never removed.\n\n260\n00:13:30.500 --> 00:13:31.750\nWe could hide them and\n\n261\n00:13:31.750 --> 00:13:35.190\nprevent them from being seen in\nconfiguration menus things like that.\n\n262\n00:13:35.190 --> 00:13:38.010\nBut they're always there we're just\nfiltering them out essentially.\n\n263\n00:13:38.010 --> 00:13:40.570\nBut we don't wanna bloat\nthe schema unnecessarily.\n\n264\n00:13:40.570 --> 00:13:43.850\nBecause number one it has to be\nreplicated to all domain controllers and\n\n265\n00:13:43.850 --> 00:13:47.410\nas we make changes that\ncreates replication traffic.\n\n266\n00:13:47.410 --> 00:13:49.480\nIn addition, over time,\n\n267\n00:13:49.480 --> 00:13:54.080\nthese definitions these objects that we\ncreate that we no longer want or need.\n\n268\n00:13:54.080 --> 00:13:57.390\nCan become problematic to us\ndepending on the size of the scale.\n\n269\n00:13:57.390 --> 00:13:59.212\nSo we do need to be aware of that.\n\n270\n00:13:59.212 --> 00:14:02.650\nThe schema partition starts out\nvery small because usually there's\n\n271\n00:14:02.650 --> 00:14:07.230\nnot a lot in the schema initially as we\nset up and install the active directory.\n\n272\n00:14:07.230 --> 00:14:09.750\nBut it can grow very large over time.\n\n273\n00:14:09.750 --> 00:14:12.020\nAnd the larger it gets the longer\nit takes to replicate,\n\n274\n00:14:12.020 --> 00:14:14.775\nthe more traffic that's created and\nat some point.\n\n275\n00:14:14.775 --> 00:14:18.680\nAll we can actually run into issues with\nmanaging and controlling that traffic.\n\n276\n00:14:18.680 --> 00:14:21.500\nSo would you have to be aware of that but\njust keep that in mind.\n\n277\n00:14:21.500 --> 00:14:25.750\nWe do have the domain partition,\nthird of the four partitions that exist.\n\n278\n00:14:25.750 --> 00:14:28.090\nThe application partition\nwould be the fourth partition.\n\n279\n00:14:28.090 --> 00:14:29.630\nWe'll come to that in just a minute.\n\n280\n00:14:29.630 --> 00:14:31.660\nSo, we talked about our domain partition.\n\n281\n00:14:31.660 --> 00:14:33.690\nWe talked about our schema partition.\n\n282\n00:14:33.690 --> 00:14:35.550\nTalked about our configuration partition.\n\n283\n00:14:35.550 --> 00:14:36.910\nBoth of them are forest-wide.\n\n284\n00:14:36.910 --> 00:14:39.870\nBoth of them are replicated out\nto all the domain controllers.\n\n285\n00:14:39.870 --> 00:14:41.060\nThe domain partition.\n\n286\n00:14:42.090 --> 00:14:43.610\nAnd we think this one is forest-wide.\n\n287\n00:14:43.610 --> 00:14:46.620\nWe think that maybe this one\nis a little more constrained,\n\n288\n00:14:46.620 --> 00:14:47.800\nmaybe limited to-\n&gt;&gt; The domain.\n\n289\n00:14:47.800 --> 00:14:49.464\n&gt;&gt; The domain in question, perhaps.\n\n290\n00:14:49.464 --> 00:14:50.170\n&gt;&gt; [LAUGH]\n&gt;&gt; Right?\n\n291\n00:14:50.170 --> 00:14:51.840\nSo this is pretty intuitive, right.\n\n292\n00:14:51.840 --> 00:14:54.320\nI mean, I'm playing around and\njoking around a little bit about this but\n\n293\n00:14:54.320 --> 00:14:56.946\nthe reality is when you think about\nthe logic of how they are described.\n\n294\n00:14:56.946 --> 00:14:58.537\nYou might as well actually\ndone a pretty good job.\n\n295\n00:14:58.537 --> 00:15:03.890\nAtleast three of the four they are fairly\nself-intuitive, fairly obvious.\n\n296\n00:15:03.890 --> 00:15:06.580\nIn the sense that the name\ndoes not imply the scope and\n\n297\n00:15:06.580 --> 00:15:09.222\nthe focus,\nthe function of what goes on there.\n\n298\n00:15:09.222 --> 00:15:11.930\nThe application partition that's\nthe one that you may need to\n\n299\n00:15:11.930 --> 00:15:14.720\nstop scratch your head for\na minute about how to think a bit about.\n\n300\n00:15:14.720 --> 00:15:15.810\nBut even that if you stop and\n\n301\n00:15:15.810 --> 00:15:18.690\nthink about it you can probably\nfigure out what's going on there.\n\n302\n00:15:18.690 --> 00:15:22.271\nBut the domain partition is that\ninformation about all domain specific\n\n303\n00:15:22.271 --> 00:15:23.950\nobjects within the domain.\n\n304\n00:15:23.950 --> 00:15:26.689\nSo remember our diagram ITPro.tv.\n\n305\n00:15:26.689 --> 00:15:31.230\nVersus host.ITPro.tv, two domains,\n\n306\n00:15:31.230 --> 00:15:35.867\nwithin the same tree, and\neach domain, parent ITPro.tv,\n\n307\n00:15:35.867 --> 00:15:39.874\nchild post.ITPro.tv is a separate entity.\n\n308\n00:15:39.874 --> 00:15:43.864\nWe'd talk about them in prior discussions\nbeing replication boundaries,\n\n309\n00:15:43.864 --> 00:15:45.804\nbeing administrative boundaries.\n\n310\n00:15:45.804 --> 00:15:50.654\nYou'd containerized areas that are gonna\nbe structured specifically to control and\n\n311\n00:15:50.654 --> 00:15:53.157\nmanage information within their borders.\n\n312\n00:15:53.157 --> 00:15:58.731\nAnd segment separate define differentiated\ninformation from other border controlled\n\n313\n00:15:58.731 --> 00:16:04.240\nareas, other domains, other name spaces in\nother trees at the farest level, right?\n\n314\n00:16:04.240 --> 00:16:05.828\nSo it's important to understand this.\n\n315\n00:16:05.828 --> 00:16:09.136\nSo has all the domain specific objects,\nusers, groups,\n\n316\n00:16:09.136 --> 00:16:13.067\ncomputers, OUs, the containers,\nwe went through all this stuff.\n\n317\n00:16:13.067 --> 00:16:17.370\nAny domain related settings about\nthe domain are part of this.\n\n318\n00:16:17.370 --> 00:16:19.430\nThe domain functional level, for instance,\n\n319\n00:16:19.430 --> 00:16:21.420\nwould be a setting that\nwould be part of this.\n\n320\n00:16:21.420 --> 00:16:24.072\nAre we at server 12, R2, server 16?\n\n321\n00:16:24.072 --> 00:16:27.570\nWe've been through and talked about\nthe difference between forest and\n\n322\n00:16:27.570 --> 00:16:31.238\ndomain functional levels, how they work,\nwhy we need to be aware of them,\n\n323\n00:16:31.238 --> 00:16:32.960\nwhat choosing them implies.\n\n324\n00:16:32.960 --> 00:16:35.470\nFact that all the domain controllers\nhave to be at the same level,\n\n325\n00:16:35.470 --> 00:16:39.690\nwhen you remove or\nchange that functional level up adding and\n\n326\n00:16:39.690 --> 00:16:43.930\nmaking available new capabilities as\na result of modifying that level.\n\n327\n00:16:43.930 --> 00:16:48.300\nSo these are all things that would be\nimportant that we have to consider what to\n\n328\n00:16:48.300 --> 00:16:52.010\nthink about that changes to this\npartition are fairly constant.\n\n329\n00:16:52.010 --> 00:16:55.970\nThis is probably the most active\nof all of the partitions.\n\n330\n00:16:55.970 --> 00:16:57.630\nBecause when we are adding or\n\n331\n00:16:57.630 --> 00:17:01.680\nremoving objects, we're not doing\nthat at the schema partition level\n\n332\n00:17:01.680 --> 00:17:05.970\nunless we're changing the definition of\nwhat an object quote unquote is, we're\n\n333\n00:17:05.970 --> 00:17:10.820\nintroducing a brand new object type that\nhas never been seen before in the schema.\n\n334\n00:17:10.820 --> 00:17:12.420\nAnd we do that from time to time.\n\n335\n00:17:12.420 --> 00:17:16.769\nSchema extension, where we add in\na program that relies on the schema, and\n\n336\n00:17:16.769 --> 00:17:19.990\nhas to add more definitions\nin order to function.\n\n337\n00:17:19.990 --> 00:17:24.140\nIt's done, we've talked about it in\nthe past, system center config manager\n\n338\n00:17:24.140 --> 00:17:27.960\ndoes this, exchange does this,\nwhere you extend the schema.\n\n339\n00:17:27.960 --> 00:17:31.920\nThat's a pretty rare event,\nby comparison, to creating new users.\n\n340\n00:17:31.920 --> 00:17:33.980\nAdding in new groups.\n\n341\n00:17:33.980 --> 00:17:37.291\nChanging and modifying right information.\n\n342\n00:17:37.291 --> 00:17:39.310\nThat kind of stuff, creating a new OU.\n\n343\n00:17:39.310 --> 00:17:41.611\nPutting new users in.\n\n344\n00:17:41.611 --> 00:17:45.060\nModifying the user's name or\nsomething like that.\n\n345\n00:17:45.060 --> 00:17:49.790\nAll that stuff is going to come back and\nresonate and store its information and\n\n346\n00:17:49.790 --> 00:17:51.810\nits updates in the domain partition.\n\n347\n00:17:51.810 --> 00:17:56.790\nNot in the schema partition,\nnot in the configuration partition, but in\n\n348\n00:17:56.790 --> 00:17:59.790\nthe domain partition, when it's specific\nto the objecy within the domain so\n\n349\n00:17:59.790 --> 00:18:03.120\nthis is the one that churns constantly or\nfairly frequently.\n\n350\n00:18:03.120 --> 00:18:07.500\nAnd this the one that experiences the most\nupdates and therefore is the most active.\n\n351\n00:18:07.500 --> 00:18:11.130\nSo every time an object is created,\nmodified, removed, some\n\n352\n00:18:11.130 --> 00:18:16.440\nsort of values updated whatever that maybe\neverything like that has to be replicated.\n\n353\n00:18:16.440 --> 00:18:20.175\nThis is a pretty consistently busy one,\nthis is the one that's got all th things\n\n354\n00:18:20.175 --> 00:18:23.605\ngoing on with it, the lively one\nthat's always got something going on.\n\n355\n00:18:23.605 --> 00:18:25.824\nYou ever have one of\nthose friends growing up?\n\n356\n00:18:25.824 --> 00:18:29.180\nYou know could never sit still just had\nto keep doing stuff no matter what.\n\n357\n00:18:29.180 --> 00:18:30.094\n&gt;&gt; I do.\n&gt;&gt; Yeah.\n\n358\n00:18:30.094 --> 00:18:32.089\n&gt;&gt; And I wasn't that person.\n\n359\n00:18:32.089 --> 00:18:32.910\n&gt;&gt; No, I was gonna say,\n\n360\n00:18:32.910 --> 00:18:35.308\nI was just thinking you probably\nknew people like that right?\n\n361\n00:18:35.308 --> 00:18:35.876\n&gt;&gt; Yeah.\n\n362\n00:18:35.876 --> 00:18:38.010\n&gt;&gt; So\nwe've all probably known people like that.\n\n363\n00:18:38.010 --> 00:18:40.348\nRight?\nJust constantly needing to be doing\n\n364\n00:18:40.348 --> 00:18:43.440\nthings, thinking about ten\nthousand things at once.\n\n365\n00:18:43.440 --> 00:18:46.160\nThat's what's going on with the domain\npartition just keep that in mind.\n\n366\n00:18:46.160 --> 00:18:49.078\nAll objects in the domain\npartition are stored and\n\n367\n00:18:49.078 --> 00:18:53.420\nreferenced in the domain partition,\nbut also in te global catalogue.\n\n368\n00:18:53.420 --> 00:18:54.610\nRight, remember that,\n\n369\n00:18:54.610 --> 00:18:58.110\nbut we have a subset of those\nattributes in the global catalogue.\n\n370\n00:18:58.110 --> 00:18:59.852\nWe don't store the complete set.\n\n371\n00:18:59.852 --> 00:19:03.862\nFor every object in the domain partition\nand in the global catalog, we have\n\n372\n00:19:03.862 --> 00:19:08.000\neverything in the domain partition,\nwe have a subset most frequently used,\n\n373\n00:19:08.000 --> 00:19:10.865\nmost likely to be referenced\nattributes and values,\n\n374\n00:19:10.865 --> 00:19:13.602\nstored in the global catalog for\nquick reference,\n\n375\n00:19:13.602 --> 00:19:17.630\nalmost like a little cheat sheet for\nquick lookups on certain things.\n\n376\n00:19:17.630 --> 00:19:20.840\nSo it gets that information through\nthe domain partition as well.\n\n377\n00:19:20.840 --> 00:19:24.810\nSo, understanding this linkage between the\nglobal catalog function, which remember,\n\n378\n00:19:24.810 --> 00:19:26.820\nmust run on a domain controller.\n\n379\n00:19:26.820 --> 00:19:30.020\nSo we essentially are talking\nabout domain controllers, right?\n\n380\n00:19:30.020 --> 00:19:34.234\nBut we're talking about just the subset\nof information they maintain specifically\n\n381\n00:19:34.234 --> 00:19:37.630\nidentified as the global catalog\nthat's going to be there as well.\n\n382\n00:19:37.630 --> 00:19:42.180\nAnd then we have our application partition\nor partitions may of more than one.\n\n383\n00:19:42.180 --> 00:19:46.640\nThe application partition stores\nthe non domain application related\n\n384\n00:19:46.640 --> 00:19:51.480\ninformation are this is going to be things\nthat they have to be updated things like\n\n385\n00:19:51.480 --> 00:19:56.560\nDNS Information if you're doing\nActive Directory integrating DNS.\n\n386\n00:19:56.560 --> 00:19:59.460\nThe integration of DNS,\nthe storage of that information,\n\n387\n00:19:59.460 --> 00:20:03.360\nthe referencing of it is actually\nreferenced by the application partition,\n\n388\n00:20:03.360 --> 00:20:07.220\nso that we know that the DNS structure,\nthe zone information is in\n\n389\n00:20:07.220 --> 00:20:12.470\nthe AD NTDS.dit file, and then we should\ngo look for it there and how we update it.\n\n390\n00:20:12.470 --> 00:20:16.049\nSo the application partition plays\na direct role in that, for instance.\n\n391\n00:20:16.049 --> 00:20:20.252\nSo this is something that, again,\nis pretty frequently referenced,\n\n392\n00:20:20.252 --> 00:20:21.940\nis used fairly often.\n\n393\n00:20:21.940 --> 00:20:24.910\nAnd does have a certain amount\nof churn associated with it.\n\n394\n00:20:24.910 --> 00:20:28.265\nBut it's probably not quite as\nactive as the domain partitions,\n\n395\n00:20:28.265 --> 00:20:30.160\nprobably the number one partition.\n\n396\n00:20:30.160 --> 00:20:31.830\nIt doesn't have a lot going on with it.\n\n397\n00:20:31.830 --> 00:20:34.468\nSo, just be aware of that.\n\n398\n00:20:34.468 --> 00:20:36.836\nWe don't store security\nprinciple information,\n\n399\n00:20:36.836 --> 00:20:40.635\nmeaning referencable information about\nunique objects, like users, groups,\n\n400\n00:20:40.635 --> 00:20:44.504\netcetera, in the application partition,\nwe do store it in the domain partition.\n\n401\n00:20:44.504 --> 00:20:48.178\nSo, you got another reason why we think of\nthe domain partition as being that most\n\n402\n00:20:48.178 --> 00:20:49.205\nfrequently used one,\n\n403\n00:20:49.205 --> 00:20:52.030\ncuz it's got all the stuff in\nthere that we have to be aware of.\n\n404\n00:20:52.030 --> 00:20:53.383\nSo just be aware of that.\n\n405\n00:20:53.383 --> 00:20:56.933\nAlso is interesting just breaking\nthat down or we can use one or\n\n406\n00:20:56.933 --> 00:20:59.680\nmore tools to be wanna\ntake a look at this stuff.\n\n407\n00:20:59.680 --> 00:21:04.920\nWe talked about schema management\nsnapping BSCHNNGMT.dll\n\n408\n00:21:04.920 --> 00:21:09.175\na snapping that we register to be able\nto go in and actually modify the schema.\n\n409\n00:21:09.175 --> 00:21:12.877\nBut if we just want to look at it in\na read only way see what's in there maybe\n\n410\n00:21:12.877 --> 00:21:16.462\nsee attributes and interact with them\nwe can use a tool called ADSI edit\n\n411\n00:21:16.462 --> 00:21:19.014\nyou've heard me mention\nthis a couple of times and\n\n412\n00:21:19.014 --> 00:21:21.056\nI How to set up the appropriate rights.\n\n413\n00:21:21.056 --> 00:21:25.747\nWe could go in, use the ADSI edit tool,\nconnect to and view these partitions.\n\n414\n00:21:25.747 --> 00:21:29.697\nSo if you wanna see these partitions,\nwanna understand more about them,\n\n415\n00:21:29.697 --> 00:21:33.307\nyou can use the ADSI edit tool\nto be able to go in and do that.\n\n416\n00:21:33.307 --> 00:21:35.199\nAnd that's also important to think about,\n\n417\n00:21:35.199 --> 00:21:38.687\nbecause if we don't understand how to get\ninto and take a look at the partitions.\n\n418\n00:21:38.687 --> 00:21:42.170\nThen we may actually be scratching\nour heads going, well great, Adam,\n\n419\n00:21:42.170 --> 00:21:45.370\nthat's cool, we know all about them,\nbut how do I get in there?\n\n420\n00:21:45.370 --> 00:21:46.310\nCan I even get in there?\n\n421\n00:21:46.310 --> 00:21:48.470\nAnd if I do get in there\nwhat's the purpose?\n\n422\n00:21:48.470 --> 00:21:49.760\nWhat's the goal, what's the reason?\n\n423\n00:21:49.760 --> 00:21:52.190\nWhat would be valuable if I did that?\n\n424\n00:21:52.190 --> 00:21:53.649\nAnd sometimes you're not sure.\n\n425\n00:21:53.649 --> 00:21:56.478\nYou have to ask these questions,\nother times you may actually know.\n\n426\n00:21:56.478 --> 00:21:59.553\nJust extending our lab timer here to\nmake sure we don't ran out of time in\n\n427\n00:21:59.553 --> 00:22:01.735\nour environment while we're talking.\n\n428\n00:22:01.735 --> 00:22:05.255\nAnd it would be helpful for\nyou to have sense of that and\n\n429\n00:22:05.255 --> 00:22:09.095\nyou know the reality is you may have\nnever seen or use the ideas added tool.\n\n430\n00:22:09.095 --> 00:22:12.150\nThe added tool you've come across I\nknow you're familiar with the stuff but\n\n431\n00:22:12.150 --> 00:22:15.157\nyou don't know about it but is that\nsomething you know back as you were doing\n\n432\n00:22:15.157 --> 00:22:18.202\nthis that you would have actually\ngo in and spend time using?\n\n433\n00:22:18.202 --> 00:22:21.082\n&gt;&gt; No, its not,\njust from an academic perspective but\n\n434\n00:22:21.082 --> 00:22:23.241\nnot as far as production goes.\n\n435\n00:22:23.241 --> 00:22:27.611\n&gt;&gt; So, meaning you would be familiar\nwith just from the description and\n\n436\n00:22:27.611 --> 00:22:30.821\nhave a sense of the fact\nthat the tool does exist but\n\n437\n00:22:30.821 --> 00:22:34.071\nnot really a tool that you would\nput to use so to speak, okay.\n\n438\n00:22:34.071 --> 00:22:36.967\nWell, if you wanna take\na look with me right here.\n\n439\n00:22:36.967 --> 00:22:38.686\nLet's just quickly show you\nwhat the tool looks like.\n\n440\n00:22:38.686 --> 00:22:40.382\nLet's just bringing it up\nwhile we were talking.\n\n441\n00:22:40.382 --> 00:22:44.488\nSo all I did was go into the server\nmanager on a domain controller,\n\n442\n00:22:44.488 --> 00:22:48.420\nwent to tools adci edits there\nin the alphabetical list.\n\n443\n00:22:48.420 --> 00:22:52.920\nIt's part of the configuration of\nthe ADDS feature and role as we\n\n444\n00:22:52.920 --> 00:22:56.320\nset it up as part of the management\ntools so you see it is installed there.\n\n445\n00:22:56.320 --> 00:22:59.240\nYou'll see it when you open it up,\nthere's really nothing in here.\n\n446\n00:22:59.240 --> 00:23:00.590\nIf I could just click away from that.\n\n447\n00:23:00.590 --> 00:23:04.050\nWhen you open it up it's just a blank\nconsole, there's nothing there.\n\n448\n00:23:04.050 --> 00:23:06.572\nCuz we have to connect to the name\nspace the instance that we wanna\n\n449\n00:23:06.572 --> 00:23:07.329\nactually manage.\n\n450\n00:23:07.329 --> 00:23:10.298\nSo, the first thing we do is right click,\nas you saw, the menu was there, and\n\n451\n00:23:10.298 --> 00:23:13.360\nconnect, connect to, and,\nobviously, have to specify that.\n\n452\n00:23:13.360 --> 00:23:18.030\nSo, we can go in, right here, connect to,\nand could we just go full screen, just so\n\n453\n00:23:18.030 --> 00:23:18.570\nyou can see this.\n\n454\n00:23:18.570 --> 00:23:20.420\nIt's a little hard to see\nwhat's going on there.\n\n455\n00:23:20.420 --> 00:23:25.010\nYou have the name here, right, the default\nname in context the path the connection\n\n456\n00:23:25.010 --> 00:23:30.270\npoints, select a type or a type, select or\ntype is what I am trying to say.\n\n457\n00:23:30.270 --> 00:23:34.069\nA distinguish name or naming context,\nright, so you would have to come in here\n\n458\n00:23:34.069 --> 00:23:37.195\nand if there is nothing there either\ntype it in or know what it is.\n\n459\n00:23:37.195 --> 00:23:41.699\nSelect the well known naming context,\neven default naming context,\n\n460\n00:23:41.699 --> 00:23:43.926\nthe schema, the configuration.\n\n461\n00:23:43.926 --> 00:23:49.063\nThese are the partitions that we can go in\nand take a look at for the naming context.\n\n462\n00:23:49.063 --> 00:23:52.920\nAnd then on the computer, right,\nwe specify select or type a domain\n\n463\n00:23:52.920 --> 00:23:57.540\ncontroller, whatever it may be, or\nthe default, the one you're logged into.\n\n464\n00:23:57.540 --> 00:24:01.500\nIn this case I'm logged into\nthe forest root domain for the domain.\n\n465\n00:24:01.500 --> 00:24:02.300\nSo I could use that.\n\n466\n00:24:02.300 --> 00:24:05.550\nI could specify that I want to\nuse SSL based encryption so\n\n467\n00:24:05.550 --> 00:24:07.140\nI can connect securely.\n\n468\n00:24:07.140 --> 00:24:08.326\nWe're doing this remotely.\n\n469\n00:24:08.326 --> 00:24:10.140\nPretty important to be\nthinking about security and\n\n470\n00:24:10.140 --> 00:24:14.830\nobviously wondering about hey, if I'm\nconnecting and I'm kinda outside and\n\n471\n00:24:14.830 --> 00:24:18.490\nI'm doing this, could somebody see\nthat traffic, maybe interact with it?\n\n472\n00:24:18.490 --> 00:24:20.160\nThe answer is,\nthat's always a possibility,\n\n473\n00:24:20.160 --> 00:24:22.520\nalways important to think about that.\n\n474\n00:24:22.520 --> 00:24:25.270\nSo we could use SSL, encrypt that traffic,\n\n475\n00:24:25.270 --> 00:24:28.800\nalways a good general recommendation\nto be doing so, right?\n\n476\n00:24:28.800 --> 00:24:31.900\nAnd so we could go in, just put in\nthe connection strings and then we'd be\n\n477\n00:24:31.900 --> 00:24:36.690\nable to go in and look at one or\nmore of these ares and interact with them.\n\n478\n00:24:36.690 --> 00:24:38.613\nThis allows us as it says here.\n\n479\n00:24:38.613 --> 00:24:41.668\nLet's cancel out of this real quick.\n\n480\n00:24:41.668 --> 00:24:46.674\nADDS interface editor,\nADSI editor is a low level editor for\n\n481\n00:24:46.674 --> 00:24:51.290\nthe ADDS, ADLDS the full and\nlight weight services.\n\n482\n00:24:51.290 --> 00:24:55.760\nAllows you to view, modify, create,\nand delete objects in the ADDS, right?\n\n483\n00:24:55.760 --> 00:25:00.600\nSo we're able to go in and manipulate, and\nmodify the schema with this as well as\n\n484\n00:25:00.600 --> 00:25:03.350\nbeing able to use the schema management\nsnap-in to be able to do this.\n\n485\n00:25:03.350 --> 00:25:05.840\nSo it's another way of going in and\ninteracting.\n\n486\n00:25:05.840 --> 00:25:06.850\nSo just keep that in mind.\n\n487\n00:25:06.850 --> 00:25:10.600\nIf you've never seen the tool before,\nobviously you would insert the localized\n\n488\n00:25:10.600 --> 00:25:13.640\nvariables for your environment that\nwould make the connection, right?\n\n489\n00:25:13.640 --> 00:25:16.600\nYou'd have to just know what\nthe connection string is,\n\n490\n00:25:16.600 --> 00:25:19.610\nthe distinguished name,\nyou'd have to know what domain controller.\n\n491\n00:25:19.610 --> 00:25:20.520\nBut in your environment,\n\n492\n00:25:20.520 --> 00:25:24.370\nonce you have that figured out, this tool\nwith the appropriate rights, of course,\n\n493\n00:25:24.370 --> 00:25:27.320\nyou'd have to have the appropriate\nrights to use a tool like this.\n\n494\n00:25:27.320 --> 00:25:32.300\nBut assuming you did you'd be able to\ngo in and be able to use this tool.\n\n495\n00:25:32.300 --> 00:25:34.010\nThird time's a charm when you click,\nI guess.\n\n496\n00:25:34.010 --> 00:25:36.100\n&gt;&gt; Got it.\n&gt;&gt; You'd be able to use this tool\n\n497\n00:25:36.100 --> 00:25:40.370\nto be able to go in and to see\nthe partitions we were just talking about.\n\n498\n00:25:40.370 --> 00:25:42.500\nInteract with them, of course, as you saw.\n\n499\n00:25:42.500 --> 00:25:46.910\nAnd although, we do not, let me be clear,\nwe do not recommend, when I say we,\n\n500\n00:25:46.910 --> 00:25:47.840\nI mean Microsoft.\n\n501\n00:25:47.840 --> 00:25:51.710\nWe do not recommend that this tool or\n\n502\n00:25:51.710 --> 00:25:55.670\nthe schema management snap-in or\nany poking around and\n\n503\n00:25:55.670 --> 00:25:59.660\nmessing around in the schema behind the\nscenes, in general, is done, unless there\n\n504\n00:25:59.660 --> 00:26:03.650\nare very tightly controlled, very\ntightly defined business requirements or\n\n505\n00:26:03.650 --> 00:26:07.680\nconditions that are pushing you\nto go in there and to do things.\n\n506\n00:26:07.680 --> 00:26:10.910\nIn other words, the schema is seen\njust like the registry is seen\n\n507\n00:26:10.910 --> 00:26:15.920\non an individual machine, as kind of\nthe sacrosanct place that you go into,\n\n508\n00:26:15.920 --> 00:26:19.380\nonly right with very,\nvery compelling reasons.\n\n509\n00:26:19.380 --> 00:26:24.000\nBecause there is such a likelihood,\nindeed an almost certainty that you can\n\n510\n00:26:24.000 --> 00:26:28.810\ndo damage and destroy the infrastructure\nif you are not 100% spot on and\n\n511\n00:26:28.810 --> 00:26:30.010\nunderstand what you're doing.\n\n512\n00:26:30.010 --> 00:26:34.790\nBecause the minute, the most minute,\nmost minimal of changes in that\n\n513\n00:26:34.790 --> 00:26:37.620\nenvironment takes place right\naway no matter what you do.\n\n514\n00:26:37.620 --> 00:26:41.690\nIn other words there is no hey let me\ndelay let me prompt you let me make sure\n\n515\n00:26:41.690 --> 00:26:44.920\nenvironment much like we have in\nmany other management consoles.\n\n516\n00:26:44.920 --> 00:26:49.020\nThe minute you make change that change\ngoes into production immediately.\n\n517\n00:26:49.020 --> 00:26:51.520\nAnd the good new s is you'll\nfind out right away if you blew\n\n518\n00:26:51.520 --> 00:26:55.235\nthe environment up cuz you'll immediately\nsee it destroyed right before your eyes.\n\n519\n00:26:55.235 --> 00:26:57.080\n&gt;&gt; [LAUGH]\n&gt;&gt; The bad news is it also happens right\n\n520\n00:26:57.080 --> 00:27:01.440\naway and there's no way to recover from\nthat without a lot of pain and suffering.\n\n521\n00:27:01.440 --> 00:27:05.210\nWe will talk about in upcoming discussions\n\n522\n00:27:05.210 --> 00:27:09.260\nhave hopefully done\na system state backup and\n\n523\n00:27:09.260 --> 00:27:14.000\nhave a full functional copy of this before\nyou went ahead and decided to blow it up.\n\n524\n00:27:14.000 --> 00:27:15.640\nHopefully, as I said.\n\n525\n00:27:15.640 --> 00:27:17.010\nRight, nothing is guaranteed.\n\n526\n00:27:17.010 --> 00:27:21.540\nAnd we could, at that point,\nhopefully use that to do a restore.\n\n527\n00:27:21.540 --> 00:27:24.270\nJust because you have a copy doesn't mean\nwe're gonna be successful, but we can\n\n528\n00:27:24.270 --> 00:27:27.330\npromise you if you don't have a copy,\nwe're not gonna be successful, right?\n\n529\n00:27:27.330 --> 00:27:29.030\nSo there's a lot of variables,\n\n530\n00:27:29.030 --> 00:27:32.870\na lot of uncertainty that goes\ninto operating in the schema.\n\n531\n00:27:32.870 --> 00:27:36.500\nIt's not something that you shouldn't do\nand you shouldn't fear if you have to do.\n\n532\n00:27:36.500 --> 00:27:39.410\nI don't wanna scare you into thinking\nyou should never go in there.\n\n533\n00:27:39.410 --> 00:27:42.110\nThere are legitimate,\ncompelling reasons for you to go in and\n\n534\n00:27:42.110 --> 00:27:43.500\ninteract with the schema.\n\n535\n00:27:43.500 --> 00:27:47.630\nBut having said that, there are very\nfew of them that make a lot of sense.\n\n536\n00:27:47.630 --> 00:27:49.440\nAnd so you really want to just\nthink about what you're doing,\n\n537\n00:27:49.440 --> 00:27:53.220\nmake sure you understand the importance\nof being able to go in there,\n\n538\n00:27:53.220 --> 00:27:55.690\nhave the appropriate understanding and\ntraining.\n\n539\n00:27:55.690 --> 00:27:58.530\nMeaning you've really thought through\nthe logic of what it means to\n\n540\n00:27:58.530 --> 00:27:59.450\ndeploy a tool like this.\n\n541\n00:27:59.450 --> 00:28:00.190\nWhat you're gonna do.\n\n542\n00:28:00.190 --> 00:28:03.430\nHave a checklist of things\nyou're accomplishing in there.\n\n543\n00:28:03.430 --> 00:28:06.098\nWrite down the information that\nyou're gonna be putting in.\n\n544\n00:28:06.098 --> 00:28:10.630\nI go in to use these tools infrequently\nbut probably a lot more frequent than\n\n545\n00:28:10.630 --> 00:28:14.800\nmost people do because I do a lot of this\nkind of work on behalf of customers.\n\n546\n00:28:14.800 --> 00:28:19.700\nAnd I have a standing rule not because I'm\ngonna make a mistake or I think I will but\n\n547\n00:28:19.700 --> 00:28:22.410\nbecause as you see when I\njoke around about a lot.\n\n548\n00:28:22.410 --> 00:28:23.680\nI'm not the world's best speller.\n\n549\n00:28:23.680 --> 00:28:25.430\nI'm not the world's best typer and\n\n550\n00:28:25.430 --> 00:28:28.010\nthose are skills that are pretty\nimportant to use a tool like this.\n\n551\n00:28:28.010 --> 00:28:30.670\nI will do my due diligence ahead of time.\n\n552\n00:28:30.670 --> 00:28:33.370\nI will meet with my customer,\nwe'll talk about what we're gonna do,\n\n553\n00:28:33.370 --> 00:28:34.780\nwhat we're looking to accomplish.\n\n554\n00:28:34.780 --> 00:28:37.720\nI will take specific notes\nabout what has to happen.\n\n555\n00:28:37.720 --> 00:28:41.490\nI will make sure that I get those\nnotes validated by the customer.\n\n556\n00:28:41.490 --> 00:28:43.790\nSpelling, names, etc.\n\n557\n00:28:43.790 --> 00:28:47.750\nI will actually have them sign off on\nthat to ensure that what they told me\n\n558\n00:28:47.750 --> 00:28:48.520\nis accurate.\n\n559\n00:28:48.520 --> 00:28:52.520\nCuz what I don't wanna have happen is\nwell, Mr. and Mrs. Customer, you said\n\n560\n00:28:52.520 --> 00:28:56.528\ncreate user called this with these\ndefinitional criteria as a new object.\n\n561\n00:28:56.528 --> 00:28:58.190\nNo we didn't we said something else.\n\n562\n00:28:58.190 --> 00:28:59.830\nWell no, we have it in writing.\n\n563\n00:28:59.830 --> 00:29:02.750\nWe both signed off, and agreed that's\nwhat we said we're going to do.\n\n564\n00:29:02.750 --> 00:29:06.290\nAnd then I go in using\nthat as my template, and\n\n565\n00:29:06.290 --> 00:29:09.920\nI made sure that everything is legitimate,\nand is correct.\n\n566\n00:29:09.920 --> 00:29:13.208\nI screen capture everything that I'm\ndoing right before I hit okay to\n\n567\n00:29:13.208 --> 00:29:14.960\nensure it's accurate.\n\n568\n00:29:14.960 --> 00:29:17.390\nAnd I make sure even though\nI've being overly methodical,\n\n569\n00:29:17.390 --> 00:29:20.425\noverly cautious that\nit's done the right way.\n\n570\n00:29:20.425 --> 00:29:23.460\nCuz that way I know that I'm not the one\nwho's going to be on the hook to go\n\n571\n00:29:23.460 --> 00:29:25.310\nfix the problem if something goes wrong.\n\n572\n00:29:25.310 --> 00:29:27.990\nNow that's just me, but\nthat's the real world and\n\n573\n00:29:27.990 --> 00:29:31.480\nyou have to really think about that\nas part of using a tool like this.\n\n574\n00:29:31.480 --> 00:29:32.950\nIt's not hard to do, but\n\n575\n00:29:32.950 --> 00:29:35.960\nit's hard to be prepared to do well\nis what I guess I'm trying to say and\n\n576\n00:29:35.960 --> 00:29:38.650\nmake sure I'm I suggesting that\nyou just think about, okay?\n\n577\n00:29:38.650 --> 00:29:42.220\nSo just be aware of that as we begin\nour conversations around sites and\n\n578\n00:29:42.220 --> 00:29:43.680\nreplication of sites.\n\n579\n00:29:43.680 --> 00:29:46.510\nWe haven't talked really about\nsites except very passing one\n\n580\n00:29:46.510 --> 00:29:49.590\nlittle phrase here or there throughout\nthis particular episode but\n\n581\n00:29:49.590 --> 00:29:52.250\nthe reality as we talked\nabout the information that\n\n582\n00:29:52.250 --> 00:29:55.250\nthe sites are gonna contain in that\nis gonna get replicated between them.\n\n583\n00:29:55.250 --> 00:29:59.090\nThat's what we spent the whole\nepisode talking about believe or not.\n\n584\n00:29:59.090 --> 00:30:03.680\nWe're gonna take that information,\ndrag it into another conversation with us\n\n585\n00:30:03.680 --> 00:30:08.380\ncoming up and we're gonna then broaden\nit into the actual physical topology and\n\n586\n00:30:08.380 --> 00:30:10.670\narchitecture of the sites,\nthe replication connectors, and\n\n587\n00:30:10.670 --> 00:30:13.860\nall that because that's gonna be what\nwe're gonna be talking about coming up.\n\n588\n00:30:13.860 --> 00:30:16.190\n&gt;&gt; All right as long as we're gonna\nbe dragging that information and\n\n589\n00:30:16.190 --> 00:30:17.610\nnot the members to the next show.\n\n590\n00:30:17.610 --> 00:30:18.910\n&gt;&gt; You're actually gonna\ndo the heavy lifting.\n\n591\n00:30:18.910 --> 00:30:19.501\nI'm kind of tired.\n\n592\n00:30:19.501 --> 00:30:20.186\n&gt;&gt; [LAUGH] Okay.\n\n593\n00:30:20.186 --> 00:30:22.978\n&gt;&gt; I'm gonna let you drag and\nI'll just standby, I'll direct.\n\n594\n00:30:22.978 --> 00:30:25.170\n&gt;&gt; Left, right, and\nkeep going up the hill.\n\n595\n00:30:25.170 --> 00:30:27.690\nNo you don't have your sparkly shoes\non today, you're wearing your-\n\n596\n00:30:27.690 --> 00:30:28.570\n&gt;&gt; Don't tell anyone.\n\n597\n00:30:28.570 --> 00:30:31.480\n&gt;&gt; You're not wearing your sparkly shoes,\nright, okay.\n\n598\n00:30:31.480 --> 00:30:33.145\n&gt;&gt; All right anyway,\nwe'll make it a team effort.\n\n599\n00:30:33.145 --> 00:30:36.290\nWe'll both drag that information\nforward to our next episode.\n\n600\n00:30:36.290 --> 00:30:39.650\n&gt;&gt; All right, well we don't want to left\nalone so make sure you join us for that.\n\n601\n00:30:39.650 --> 00:30:42.220\nBut for this show we are out of time so\nwere gonna go ahead and\n\n602\n00:30:42.220 --> 00:30:44.420\nsign out\n&gt;&gt; I've been your host Cherokee Boose.\n\n603\n00:30:44.420 --> 00:30:45.290\n&gt;&gt; I'm Adam Gordon.\n\n604\n00:30:45.290 --> 00:30:47.136\n&gt;&gt; See you next time here at ITPro TV.\n\n605\n00:30:47.136 --> 00:30:54.539\n[MUSIC]\n\n606\n00:30:54.539 --> 00:30:57.330\nThank you for watching ITPro TV.\n\n",
          "vimeoId": "229703627"
        },
        {
          "description": "In this episode, Cherokee and Adam build upon the previous shows conversation by exploring further into site and replication. First, Adam explain what a  site is and how connection objects relate to the replication process. Adam explains the function of the Knowledge Consistency Checker (KCC) as well as the way the changes are shared through polling.",
          "length": "2081",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-2-ad_ds_sites_and_replication_pt2-081217-PGM.00_34_24_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-2-ad_ds_sites_and_replication_pt2-081217-PGM.00_34_24_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-2-ad_ds_sites_and_replication_pt2-081217-PGM.00_34_24_07.Still001-sm.jpg",
          "title": "AD DS Sites and Replication Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:06.881\nWelcome to ITPRO.TV I am your\nhost Don Pezet [CROSSTALK]\n\n2\n00:00:06.881 --> 00:00:08.277\n[MUSIC]\n\n3\n00:00:08.277 --> 00:00:11.760\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:11.760 --> 00:00:15.405\n&gt;&gt; Welcome to your Identity with\nWindows server 2016 series.\n\n5\n00:00:15.405 --> 00:00:17.346\nI am your show host Cherokee Boose.\n\n6\n00:00:17.346 --> 00:00:21.468\nIn the previous discussion the previous\nepisode we were really looking\n\n7\n00:00:21.468 --> 00:00:24.771\nat different partitions\nwithin that ADDS environment.\n\n8\n00:00:24.771 --> 00:00:30.380\nAnd just as Adam promised, well I\ndrug him into this next episode here.\n\n9\n00:00:30.380 --> 00:00:32.950\nSo we're gonna go ahead and\ncontinue with that conversation and\n\n10\n00:00:32.950 --> 00:00:35.810\nwe'll be taking a look at sites and\nreplication.\n\n11\n00:00:35.810 --> 00:00:40.105\nSo of course, thank you for\nbeing here on your own free will, Adam.\n\n12\n00:00:40.105 --> 00:00:41.729\n&gt;&gt; Yeah,\nwe're not gonna mention the tether\n\n13\n00:00:41.729 --> 00:00:42.412\nthat's-\n&gt;&gt; [LAUGH]\n\n14\n00:00:42.412 --> 00:00:42.917\n&gt;&gt; Chaining me\n\n15\n00:00:42.917 --> 00:00:46.450\nright behind here to that Cherokee's\nholding on to keep me in place.\n\n16\n00:00:46.450 --> 00:00:49.257\nAnd by the way, great job with\ndragging me and not banging my head or\n\n17\n00:00:49.257 --> 00:00:50.675\nmaking me bump against the road.\n\n18\n00:00:50.675 --> 00:00:52.908\n&gt;&gt; [LAUGH]\n&gt;&gt; I appreciate that, all right, so\n\n19\n00:00:52.908 --> 00:00:54.360\nwe're gonna continue.\n\n20\n00:00:54.360 --> 00:00:58.048\nAnd Cherokee did not bang my head and give\nme that nasty little bump I have above\n\n21\n00:00:58.048 --> 00:00:59.992\nmy head there or on my head there rather.\n\n22\n00:00:59.992 --> 00:01:02.180\nThat was my own self\ninflicted wound not hers.\n\n23\n00:01:02.180 --> 00:01:06.505\nSo don't blame her, so let's talk or\ncontinue talking a little bit [COUGH]\n\n24\n00:01:06.505 --> 00:01:11.640\nabout the sites and the replication\nthat we alluded to in the last episode.\n\n25\n00:01:11.640 --> 00:01:12.980\nCherokee said, and\n\n26\n00:01:12.980 --> 00:01:16.950\nshe was right to say hey we spent a lot of\nthat time talking about the partitions.\n\n27\n00:01:16.950 --> 00:01:20.377\nAll the information,\nstructured how it's gonna be managed,\n\n28\n00:01:20.377 --> 00:01:24.398\nthe domain the application the schema,\nthe configuration partitions.\n\n29\n00:01:24.398 --> 00:01:26.531\nExplain what they are,\nwhy they're important,\n\n30\n00:01:26.531 --> 00:01:30.410\nthe scope of coverage they represent\nthe value of the information they contain.\n\n31\n00:01:30.410 --> 00:01:33.950\nWhy we replicate them, and\nhow often, more often than not,\n\n32\n00:01:33.950 --> 00:01:35.880\nthey are gonna be accessed and used.\n\n33\n00:01:35.880 --> 00:01:39.380\nWe also previewed and talked a bit about\na tool that could be used to see those,\n\n34\n00:01:39.380 --> 00:01:42.360\nthe ADDSI edit tool, pretty important\nto be aware of that as well.\n\n35\n00:01:42.360 --> 00:01:45.520\nSo if you haven't seen all that,\nprobably a good idea just to go back,\n\n36\n00:01:45.520 --> 00:01:48.160\nquickly take a little peek,\nmaybe put us on hold here for\n\n37\n00:01:48.160 --> 00:01:51.610\na couple minutes, make sure you're up to\ndate with what we're talking about there.\n\n38\n00:01:51.610 --> 00:01:53.840\nThen come on back to us\nhere in this episode.\n\n39\n00:01:53.840 --> 00:01:55.583\nSo we're gonna jump in from that point.\n\n40\n00:01:55.583 --> 00:01:59.772\nAnd we're gonna start talking about the\nActive Directory Sites and Services Tool,\n\n41\n00:01:59.772 --> 00:02:03.849\nwhich is where we see the architecture and\nthe items that allow us to create sites.\n\n42\n00:02:03.849 --> 00:02:06.012\nWe'll talk about what they are and\nwhy they're important.\n\n43\n00:02:06.012 --> 00:02:08.393\nWe're able to understand replication.\n\n44\n00:02:08.393 --> 00:02:13.730\nWe'll talk about connection objects, the\nknowledge consistency checker, called KCC.\n\n45\n00:02:13.730 --> 00:02:16.060\nAnd the reasons why we have\nthese things and what they do.\n\n46\n00:02:16.060 --> 00:02:20.680\nSo when we look to move information\naround, the idea of replicating as\n\n47\n00:02:20.680 --> 00:02:24.638\nwe were talking about, this stuff\nhappens and happens automatically.\n\n48\n00:02:24.638 --> 00:02:25.423\nThankfully for\n\n49\n00:02:25.423 --> 00:02:28.870\nus, we don't have to remember it's two\nhours since our last replication event,\n\n50\n00:02:28.870 --> 00:02:32.240\nlet me go run over there and\nclick some levers, pull some buttons.\n\n51\n00:02:32.240 --> 00:02:35.000\nOr click some buttons,\npull some levers, whatever you do.\n\n52\n00:02:35.000 --> 00:02:36.640\nRight, you know what I'm trying to say.\n\n53\n00:02:36.640 --> 00:02:40.700\nAnd go in there and do this as a manual or\na thought process that we have\n\n54\n00:02:40.700 --> 00:02:44.610\nto constantly be reminded to do,\nand execute on our own.\n\n55\n00:02:44.610 --> 00:02:47.480\nWhile we could do it that way,\nI can promise you if we had to do it\n\n56\n00:02:47.480 --> 00:02:50.090\nthat way that most systems would\nnever get fully up to date and\n\n57\n00:02:50.090 --> 00:02:51.910\nwe would probably have\na hard time keeping up.\n\n58\n00:02:51.910 --> 00:02:54.000\nCuz we would just forget to do it.\n\n59\n00:02:54.000 --> 00:02:55.829\nThings will get in the way and happen.\n\n60\n00:02:55.829 --> 00:02:56.495\nIn other words,\n\n61\n00:02:56.495 --> 00:02:59.400\nit would be really hard to do if it\nrelied on us having to remember to do it.\n\n62\n00:02:59.400 --> 00:03:03.592\nSo while we could have an aspect of this\nprocess that may be manually driven.\n\n63\n00:03:03.592 --> 00:03:07.846\nWe can create our own replication\nconnector separate from the automatic\n\n64\n00:03:07.846 --> 00:03:12.588\ntopology that gets generated, managed,\nand maintained by the infrastructure\n\n65\n00:03:12.588 --> 00:03:16.920\nthat we're gonna take a look at, and\nwe do have that option to do that.\n\n66\n00:03:16.920 --> 00:03:20.570\nThere are some benefits potentially, but\nthere's also some liability with getting\n\n67\n00:03:20.570 --> 00:03:24.920\ninvolved in that process and\nmanually creating replication connectors.\n\n68\n00:03:24.920 --> 00:03:29.181\nWe have to understand what the dos and\ndon'ts are there in other words, so\n\n69\n00:03:29.181 --> 00:03:32.550\nthe KCC which will be the automated\nprocess that checks and\n\n70\n00:03:32.550 --> 00:03:37.043\nvalidates replication topology is gonna\ndo a pretty good job for us overall.\n\n71\n00:03:37.043 --> 00:03:40.910\nCreate most if not all of\nthe replication connectors we need.\n\n72\n00:03:40.910 --> 00:03:44.430\nAnd I say most if not all because on\noccasion we may decide, you know what,\n\n73\n00:03:44.430 --> 00:03:46.850\neven though we have all of\nthis stuff laid out we're\n\n74\n00:03:46.850 --> 00:03:48.810\nconnected to everything\nwe are replicating.\n\n75\n00:03:48.810 --> 00:03:51.557\nI want a hard-coded specific pathway,\nright,\n\n76\n00:03:51.557 --> 00:03:54.646\na connection that's not there today for\nsome reason.\n\n77\n00:03:54.646 --> 00:03:59.031\nAnd I want to be able to control and\nspecify the priority, the costing involved\n\n78\n00:03:59.031 --> 00:04:02.753\nwith that path to signify whether\nit should be the preferred path or\n\n79\n00:04:02.753 --> 00:04:07.138\none that's used but only in certain\ncircumstances where the preferred path or\n\n80\n00:04:07.138 --> 00:04:08.810\npaths are unavailable.\n\n81\n00:04:08.810 --> 00:04:12.891\nAnd so I may wanna go in and\nproceed manually and create my own.\n\n82\n00:04:12.891 --> 00:04:17.000\nSo there are reasons to do that but the\nvalue in other words, is that yes we can\n\n83\n00:04:17.000 --> 00:04:21.178\ncontrol that topology to some degree and\nhard code in pathways that we may want\n\n84\n00:04:21.178 --> 00:04:25.760\nto have as either a fallback or scenario\nof some kind that may push us to use them.\n\n85\n00:04:25.760 --> 00:04:29.720\nThe downside is though that the KCC does\nnot really pay attention to those manual\n\n86\n00:04:29.720 --> 00:04:30.550\nconnectors.\n\n87\n00:04:30.550 --> 00:04:33.320\nAnd so we have to understand\nthe extent to which and\n\n88\n00:04:33.320 --> 00:04:35.300\nthe limitations of which that may or\nmay not be used.\n\n89\n00:04:35.300 --> 00:04:38.690\nWhen I say just pay attention,\nI don't mean that we can't use them but\n\n90\n00:04:38.690 --> 00:04:42.599\nwhat I mean is that in disaster recovery\nfail over scenarios, we may not be able to\n\n91\n00:04:42.599 --> 00:04:46.358\nuse them unless we take some additional\nsteps or are aware of the limitation.\n\n92\n00:04:46.358 --> 00:04:48.685\nSo it's just the kind of\nthings we want to know about,\n\n93\n00:04:48.685 --> 00:04:50.830\nand so\nwe'll delve into this just a little bit.\n\n94\n00:04:50.830 --> 00:04:55.286\nBut the idea first is I want to talk about\nthis idea of what's called a connection\n\n95\n00:04:55.286 --> 00:04:55.826\nobject.\n\n96\n00:04:55.826 --> 00:04:59.851\nSo a connection object is going to\nbe this, just like the name implies,\n\n97\n00:04:59.851 --> 00:05:02.869\nthis object that we use to be\nable to create a pathway or\n\n98\n00:05:02.869 --> 00:05:05.590\nconnectivity from one place to another.\n\n99\n00:05:05.590 --> 00:05:09.370\nWhen domain controllers replicate\nchanges from one another, or\n\n100\n00:05:09.370 --> 00:05:14.111\nbetween domain controllers and between\ndomains and between trees in the forest,\n\n101\n00:05:14.111 --> 00:05:17.358\nas we see different kinds of\nreplication taking place.\n\n102\n00:05:17.358 --> 00:05:19.499\nWhen we make a connection\nbetween two objects,\n\n103\n00:05:19.499 --> 00:05:22.910\nwe talk about these two objects\nbeing replication partners, right?\n\n104\n00:05:22.910 --> 00:05:27.140\nAnd so, domain controller A, domain\ncontroller B, create a connection and\n\n105\n00:05:27.140 --> 00:05:27.660\nreplicate.\n\n106\n00:05:27.660 --> 00:05:30.327\nThese are replication partners\nthat are exchanging information.\n\n107\n00:05:30.327 --> 00:05:33.854\nThe language of what we talk about and\nconnection objects,\n\n108\n00:05:33.854 --> 00:05:38.511\nthe actual pathways that link replication\npartners are created to facilitate\n\n109\n00:05:38.511 --> 00:05:41.110\nthe exchange of this information.\n\n110\n00:05:41.110 --> 00:05:43.760\nSo if you join me here let's just\ntake a look and see what we're doing.\n\n111\n00:05:43.760 --> 00:05:46.450\nI'm in the Active Directory\nsights services tool.\n\n112\n00:05:46.450 --> 00:05:48.230\nYou could see that right up here.\n\n113\n00:05:48.230 --> 00:05:52.136\nI've gone into the server manager on\nmy domain controller as we often do,\n\n114\n00:05:52.136 --> 00:05:56.160\ngo to the tools menu, opened up\nActive Directory sites and services.\n\n115\n00:05:56.160 --> 00:06:01.920\nI'm on the plad, DC01 practicelabs.com,\ndomain controller and domain.\n\n116\n00:06:01.920 --> 00:06:04.720\nYou could see that up at the top there,\nthat's where I'm connected.\n\n117\n00:06:04.720 --> 00:06:07.960\nAnd, what the tool looks like,\nas you open it up, is essentially this.\n\n118\n00:06:07.960 --> 00:06:09.560\nI have a sites folder.\n\n119\n00:06:09.560 --> 00:06:13.350\nUnderneath the sites folder,\nwe can just open up the sub hierarchy,\n\n120\n00:06:13.350 --> 00:06:15.030\nexposing the different levels.\n\n121\n00:06:15.030 --> 00:06:18.570\nI'll have intersite transports,\nwe'll get Into this at some point.\n\n122\n00:06:18.570 --> 00:06:21.340\nWe have subnets, we'll talk about\nwhat goes on in there, as well.\n\n123\n00:06:21.340 --> 00:06:25.618\nAnd default for a site name, which is\nthe initial site that is created out\n\n124\n00:06:25.618 --> 00:06:29.844\nof the box as we start setting up\nour Active Directory infrastructure.\n\n125\n00:06:29.844 --> 00:06:33.311\nCan we rename the default first site name\nsite, we can do that if we would like, but\n\n126\n00:06:33.311 --> 00:06:35.395\nthat's what it's called initially.\n\n127\n00:06:35.395 --> 00:06:38.355\nAnd it's actually more properly and\nmore formally called the default dash,\n\n128\n00:06:38.355 --> 00:06:41.915\nfirst dash site dash name site,\nbecause that's the actual name for it.\n\n129\n00:06:41.915 --> 00:06:44.163\nMaybe hard to see, because there\nare little dashes between those there.\n\n130\n00:06:44.163 --> 00:06:48.555\nAnd can we create new sites,\nand then associate one or\n\n131\n00:06:48.555 --> 00:06:52.050\nmore domain controllers, and one or\nmore IP subnets, with those sites?\n\n132\n00:06:52.050 --> 00:06:55.960\nAbsolutely we can right click and\ncreate new sites if we need to.\n\n133\n00:06:55.960 --> 00:06:59.100\nControlling and architecting\njust by doing this right here.\n\n134\n00:06:59.100 --> 00:07:00.440\nWe're gonna get in to how to do that and\n\n135\n00:07:00.440 --> 00:07:03.290\ntalk about the reasons why\nas part of our conversation.\n\n136\n00:07:03.290 --> 00:07:06.850\nBut let's just look at what goes on\nunderneath traditional sample site,\n\n137\n00:07:06.850 --> 00:07:09.060\nlike the default first\nsite named site here.\n\n138\n00:07:09.060 --> 00:07:12.760\nSo if we open this up,\nwe see we have a servers container, and\n\n139\n00:07:12.760 --> 00:07:16.710\nlet's just also move this over over here.\n\n140\n00:07:16.710 --> 00:07:20.370\nWe also have NTDS site settings\nyou can see as an object\n\n141\n00:07:20.370 --> 00:07:21.530\nright over here on the right.\n\n142\n00:07:21.530 --> 00:07:24.465\nDoesn't appear on the left,\nbut we do see it on the right.\n\n143\n00:07:24.465 --> 00:07:29.603\nAnd then under servers, we have a listing\nof however many replication objects,\n\n144\n00:07:29.603 --> 00:07:34.079\nthe domain controllers, that are gonna\nbe associated with the site.\n\n145\n00:07:34.079 --> 00:07:39.865\nIn this case I have two of them Pladddc01,\nPladddm012 domain controllers.\n\n146\n00:07:39.865 --> 00:07:41.425\nIn your role if you go and take a look,\n\n147\n00:07:41.425 --> 00:07:45.005\nif you have the ability to connect to\nthis tool and use it if you could see it.\n\n148\n00:07:45.005 --> 00:07:47.067\nIn other words, in production or\nan f sample, demo, lab,\n\n149\n00:07:47.067 --> 00:07:48.444\nenvironment whatever you're doing.\n\n150\n00:07:48.444 --> 00:07:53.172\nYou'll see all the domain controllers in\nthis particular site that are going to be\n\n151\n00:07:53.172 --> 00:07:57.505\noperational, active, up and running,\nbased on IP subnet association.\n\n152\n00:07:57.505 --> 00:07:58.827\nSo IP range.\n\n153\n00:07:58.827 --> 00:08:03.446\nNot based on the domain because we got\na multiple sites within a domain, but\n\n154\n00:08:03.446 --> 00:08:08.286\nwe're talking about associating them with\nthe site based on the IP subnet that\n\n155\n00:08:08.286 --> 00:08:10.970\nthey inherit or that they are part of.\n\n156\n00:08:10.970 --> 00:08:15.040\nSo in a domain, I may have two or\nthree different subnets.\n\n157\n00:08:15.040 --> 00:08:19.620\nAnd as a result if I link each subnet to\na specific site, that's how I start to\n\n158\n00:08:19.620 --> 00:08:24.260\nbuild up my site topology, the\narchitecture and structure of the sites.\n\n159\n00:08:24.260 --> 00:08:28.452\nSites are objects that represent\nthe ability to manage domain\n\n160\n00:08:28.452 --> 00:08:30.715\ncontrollers based on IP subnet.\n\n161\n00:08:30.715 --> 00:08:34.299\nAnd then control the replication,\nthe exchange of information between and\n\n162\n00:08:34.299 --> 00:08:36.377\namong them, based on the specifications.\n\n163\n00:08:36.377 --> 00:08:39.529\nIn this case,\nthe carving up of our IP subnet range or\n\n164\n00:08:39.529 --> 00:08:41.830\nblocks in the organization.\n\n165\n00:08:41.830 --> 00:08:46.010\nA lot of times in the real world,\nmany organizations\n\n166\n00:08:46.010 --> 00:08:49.830\nthat are big enough to have potentially\nmore than one physical location.\n\n167\n00:08:49.830 --> 00:08:53.200\nBecause you have to think about\nthe economy of scale that'll go into using\n\n168\n00:08:53.200 --> 00:08:56.050\nthe thought possess of creating\nmultiple sites traditionally.\n\n169\n00:08:56.050 --> 00:08:59.580\nIf you have one location,\nyou're a small to medium-sized business.\n\n170\n00:08:59.580 --> 00:09:03.820\nYou have one physical location,\none office, perhaps several buildings but\n\n171\n00:09:03.820 --> 00:09:07.490\nessentially just one block of area\nof space you manage geographically\n\n172\n00:09:07.490 --> 00:09:09.670\nthat's all contiguous, it's all together.\n\n173\n00:09:09.670 --> 00:09:12.410\nYou may only have a single site,\nthe default first site name site.\n\n174\n00:09:12.410 --> 00:09:15.420\nYou may rename that, just call it corp or\nsomething like that.\n\n175\n00:09:15.420 --> 00:09:18.500\nEasy to do, we'll take a look at\nhow to do that in just a second.\n\n176\n00:09:18.500 --> 00:09:22.607\nBut you essentially would have one site\nwith all your domain controllers in that\n\n177\n00:09:22.607 --> 00:09:26.417\nsite, however many you have, three,\nfour, five, whatever it may be.\n\n178\n00:09:26.417 --> 00:09:30.469\nAnd any and all IP subnets that may be\nassociated with the use of that network\n\n179\n00:09:30.469 --> 00:09:33.260\nwould be associated with that first site.\n\n180\n00:09:33.260 --> 00:09:35.110\nBut in larger and\n\n181\n00:09:35.110 --> 00:09:39.930\nglobal spanning organizations that\nhave different physical geographies.\n\n182\n00:09:39.930 --> 00:09:43.840\nWe have offices in New York, we have\noffices in Rome, we have offices in\n\n183\n00:09:43.840 --> 00:09:48.440\nBeijing, we have offices in Saudi Arabia,\nwe have offices in Brazil.\n\n184\n00:09:48.440 --> 00:09:52.979\nIf we're a global company or a regional\ncompany, we have offices in New York but\n\n185\n00:09:52.979 --> 00:09:56.841\nwe have offices in Seattle,\nwe have offices up in perhaps Calgary,\n\n186\n00:09:56.841 --> 00:10:00.199\nif we're thinking about\nNorth America overall, right?\n\n187\n00:10:00.199 --> 00:10:03.910\nAnd we wanna differentiate, and\nwe wanna be able to say, hey,\n\n188\n00:10:03.910 --> 00:10:05.310\nthe office in Calgary,\n\n189\n00:10:05.310 --> 00:10:10.297\nalthough it's part of just the name space\npracticelabs.com, has its own subnet.\n\n190\n00:10:10.297 --> 00:10:13.653\nAnd we wanna be able to say the domain\ncontrollers up there are in their own\n\n191\n00:10:13.653 --> 00:10:17.669\nsite, that will be one of their compelling\nreasons, one of the thought processes that\n\n192\n00:10:17.669 --> 00:10:20.436\nwe may actually go in and\ncreate separate sites to support.\n\n193\n00:10:20.436 --> 00:10:25.145\nAnd we would assign the IP subnet range\nfrom, let's say, the Calgary office.\n\n194\n00:10:25.145 --> 00:10:27.870\nAnd we would put it into that site,\nor associate it with that site.\n\n195\n00:10:27.870 --> 00:10:32.710\nThen all of the domain controllers that\nexist in the Calgary office or offices and\n\n196\n00:10:32.710 --> 00:10:36.411\nthat IP subnet range,\nwould become part of the Calgary site,\n\n197\n00:10:36.411 --> 00:10:38.560\nif that's what we called it.\n\n198\n00:10:38.560 --> 00:10:43.050\nAnd because of that, we could then\ncontrol the exchange of information\n\n199\n00:10:43.050 --> 00:10:48.010\nbetween inter versus intrasite\nreplication is what I'm gonna be\n\n200\n00:10:48.010 --> 00:10:50.970\ntalking about in kinda this conversation,\nright?\n\n201\n00:10:50.970 --> 00:10:55.760\nSo we can control the exchange of\ninformation between two sites, Calgary\n\n202\n00:10:55.760 --> 00:11:01.640\nlet's say, and Seattle, that would be\nintersite replication, between two sites.\n\n203\n00:11:03.940 --> 00:11:08.085\nAnd we could control the replication among\nthe domain controllers within that site,\n\n204\n00:11:08.085 --> 00:11:11.800\nintrasite replication,\nbetween members of that site,\n\n205\n00:11:11.800 --> 00:11:15.650\nthe domain controllers within\nthe Calgary or within the Seattle site.\n\n206\n00:11:15.650 --> 00:11:20.060\nAnd so the site container and\nthe site object allows us to have and\n\n207\n00:11:20.060 --> 00:11:23.570\nexert and\ncreate this level of control based on\n\n208\n00:11:23.570 --> 00:11:27.430\nIP address subnet association\nwith the site container.\n\n209\n00:11:27.430 --> 00:11:30.540\nAnd then the placement of domain\ncontrollers that are in those subnets into\n\n210\n00:11:30.540 --> 00:11:33.960\nthat container for the management,\nthe maintenance, and\n\n211\n00:11:33.960 --> 00:11:36.880\nthe controlling of\nreplication of information.\n\n212\n00:11:36.880 --> 00:11:40.090\nSo the logic, when you think about it,\nhopefully makes sense to you.\n\n213\n00:11:40.090 --> 00:11:42.890\nBut this is what the site\ntopology represents,\n\n214\n00:11:42.890 --> 00:11:47.100\nthe use of a single site in a relatively\nsmall, even somewhat large,\n\n215\n00:11:47.100 --> 00:11:50.780\ndomain tree and\nforest structure is perfectly fine.\n\n216\n00:11:51.944 --> 00:11:55.922\nThe default first site name site, or\nwhatever you choose to rename that into,\n\n217\n00:11:55.922 --> 00:11:59.962\ncan be used and just have all the domain\ncontrollers from all the domains stacked\n\n218\n00:11:59.962 --> 00:12:01.610\nup in there, and that's fine.\n\n219\n00:12:01.610 --> 00:12:05.856\nWe're just essentially then replicating\namong the domain controllers within that\n\n220\n00:12:05.856 --> 00:12:09.210\nsingle site boundary, and\nwe're doing intrasite replication.\n\n221\n00:12:09.210 --> 00:12:12.930\nAnd there's nothing wrong with that,\nwe don't have to have multiple sites.\n\n222\n00:12:12.930 --> 00:12:16.800\nBut there maybe reasons, as I said,\nbased on IP address subnets,\n\n223\n00:12:16.800 --> 00:12:20.095\nthat we would facilitate or\ndecide to use multiple sites.\n\n224\n00:12:20.095 --> 00:12:22.105\nSo the choice ultimately becomes ours.\n\n225\n00:12:22.105 --> 00:12:24.865\nCan we assign multiple\nsubnets to a single site?\n\n226\n00:12:24.865 --> 00:12:26.435\nWe could do that as well.\n\n227\n00:12:26.435 --> 00:12:29.267\nSo we could have this ability\nto scale that single site and\n\n228\n00:12:29.267 --> 00:12:32.335\nsimply have it contain all\nthe subnets we want to associate.\n\n229\n00:12:32.335 --> 00:12:35.205\nSo it's up to us to figure\nout what we want to do.\n\n230\n00:12:35.205 --> 00:12:38.559\nBut having said that,\nwe just want to understand that there may\n\n231\n00:12:38.559 --> 00:12:41.994\nbe some differences between inter and\nintrasite replication.\n\n232\n00:12:41.994 --> 00:12:46.923\nThat would also help us to decide whether\nit makes sense to go with multiple sites\n\n233\n00:12:46.923 --> 00:12:48.917\nor one large site.\n\n234\n00:12:48.917 --> 00:12:52.580\nIntrasite replication, replication\namong members of a single site,\n\n235\n00:12:52.580 --> 00:12:53.860\nthe domain controllers.\n\n236\n00:12:54.960 --> 00:12:59.250\nWhen they replicate we assume,\nwhen I say we, again, I mean Microsoft,\n\n237\n00:12:59.250 --> 00:13:03.510\nI mean the Active Directory, I mean the\nActive Directory sites and services tool.\n\n238\n00:13:03.510 --> 00:13:08.000\nIt is designed to assume that when\nyou do intrasite replication,\n\n239\n00:13:08.000 --> 00:13:11.750\nthat the connectivity between\nthe domain controllers in that site,\n\n240\n00:13:11.750 --> 00:13:16.200\nthe assumption is that it's high speed,\nreliable, good bandwidth.\n\n241\n00:13:16.200 --> 00:13:20.407\nAnd therefore we do not need to compress\nthe replication traffic in order to\n\n242\n00:13:20.407 --> 00:13:21.157\nreplicate.\n\n243\n00:13:21.157 --> 00:13:25.099\nCuz we're not worried about bandwidth\nmanagement as exhaustively and\n\n244\n00:13:25.099 --> 00:13:29.237\nextensively as we would be when we're\nfocused on intersite replication,\n\n245\n00:13:29.237 --> 00:13:31.390\nreplication between two sites.\n\n246\n00:13:31.390 --> 00:13:34.830\nAnd when we go between two sites,\nthe assumption, again operationally,\n\n247\n00:13:34.830 --> 00:13:37.110\nwhether this is true in your world or not.\n\n248\n00:13:37.110 --> 00:13:42.240\nWhether you have high speed dedicated\nfiber running between your sites and\n\n249\n00:13:42.240 --> 00:13:44.310\nmore bandwidth than you\nknow what to do with.\n\n250\n00:13:44.310 --> 00:13:46.930\nOr you have an old, kind of\n\n251\n00:13:46.930 --> 00:13:51.450\nvery slow connection that's intermittent\nbecause of just the geography and\n\n252\n00:13:51.450 --> 00:13:55.400\nthe challenges of distance and\nwhatever involved, doesn't matter.\n\n253\n00:13:55.400 --> 00:14:00.550\nWe assume that that connectivity\nbetween sites is gonna be of a lower\n\n254\n00:14:00.550 --> 00:14:04.690\nquality of not as fast,\nin terms of the amount of bandwidth.\n\n255\n00:14:04.690 --> 00:14:10.310\nAnd as a result, we will actually go ahead\nand compress replication traffic when it\n\n256\n00:14:10.310 --> 00:14:14.010\nmoves between sites automatically, as part\nof the set up and the thought process.\n\n257\n00:14:14.010 --> 00:14:18.050\nSo there are reasons that may push\nus to decide on one architecture\n\n258\n00:14:18.050 --> 00:14:19.230\nversus the other.\n\n259\n00:14:19.230 --> 00:14:23.130\nAnd again, we come down to things like\nstructure, bandwidth, quality of service.\n\n260\n00:14:23.130 --> 00:14:26.000\nTraditional things we'd be worried about\nwhen we think about the management and\n\n261\n00:14:26.000 --> 00:14:30.290\nthe timeliness of the movement and the\nvalidity of that information over time.\n\n262\n00:14:30.290 --> 00:14:32.202\nThese are important things to consider.\n\n263\n00:14:32.202 --> 00:14:35.624\nIf we have to replicate a very small\namonut of changes, then whether we\n\n264\n00:14:35.624 --> 00:14:40.050\ncompress or not is probably relevant cuz\nthey can move easily over that connection.\n\n265\n00:14:40.050 --> 00:14:43.744\nBut if we're replicating a large\nnumber of changes and we're doing so\n\n266\n00:14:43.744 --> 00:14:46.795\nfairly frequently,\nwe have to consider that because again,\n\n267\n00:14:46.795 --> 00:14:51.390\nintersite replication, we can schedule\nthat availability of that connector.\n\n268\n00:14:51.390 --> 00:14:54.000\nAnd we may say you know what,\nwe don't want to replicate during\n\n269\n00:14:54.000 --> 00:14:58.360\nbusiness hours because all of our other\ntraffic is going across this as well.\n\n270\n00:14:58.360 --> 00:15:01.970\nI wanna force replication into\na maintenance window, hypothetically.\n\n271\n00:15:01.970 --> 00:15:04.996\nMaybe, I don't know, at eight o'clock\nat night until four in the morning, or\n\n272\n00:15:04.996 --> 00:15:06.000\nsomething, right?\n\n273\n00:15:06.000 --> 00:15:06.677\nAfter hours,\n\n274\n00:15:06.677 --> 00:15:10.740\nif we have a traditional kind of nine to\nfive thought process about our business.\n\n275\n00:15:10.740 --> 00:15:13.800\nWe get in there in the morning, kind of\nwork until around dinner time when we\n\n276\n00:15:13.800 --> 00:15:16.490\nleave, and while there's\nalways traffic on the network.\n\n277\n00:15:16.490 --> 00:15:19.930\nThe majority of that traffic is\ngoing to be done during the day, or\n\n278\n00:15:19.930 --> 00:15:21.039\nbe created during the day.\n\n279\n00:15:21.039 --> 00:15:23.660\nThere's very minimal amount of\ntraffic that we may interfere with,\n\n280\n00:15:23.660 --> 00:15:24.490\nand get in the way of.\n\n281\n00:15:24.490 --> 00:15:27.810\nThere's probably backups that are taking\nplace, things like that at night.\n\n282\n00:15:27.810 --> 00:15:29.960\nBut in general there's a lot less usage.\n\n283\n00:15:29.960 --> 00:15:34.230\nSo we may schedule and therefore\nconstrain that replication traffic\n\n284\n00:15:34.230 --> 00:15:36.700\nby pushing it out to happen\nafter business hours.\n\n285\n00:15:36.700 --> 00:15:40.880\nThis will be yet another reason why\nthe use of intersite replication and\n\n286\n00:15:40.880 --> 00:15:43.830\nthe scheduling of those\nconnectors may make sense.\n\n287\n00:15:43.830 --> 00:15:47.573\nSo there's these compelling reasons that\nkinda go on that we don't always stop and\n\n288\n00:15:47.573 --> 00:15:51.048\nthink about that could actually help us\nto better understand how to manage our\n\n289\n00:15:51.048 --> 00:15:51.757\ninformation.\n\n290\n00:15:51.757 --> 00:15:53.227\nSo some things to consider,\n\n291\n00:15:53.227 --> 00:15:57.163\nsome things to think about just as we're\ntalking through the logic of this.\n\n292\n00:15:57.163 --> 00:16:00.574\nWanna make sure we kinda have a picture\non our mind of what that looks like.\n\n293\n00:16:00.574 --> 00:16:02.377\nWe talked about how to go in and see, and\n\n294\n00:16:02.377 --> 00:16:05.508\nunderstand the connection objects\nin the sites and services tool.\n\n295\n00:16:05.508 --> 00:16:08.886\nWe'll go back there in just a minute, take\na look around poke around a little more.\n\n296\n00:16:08.886 --> 00:16:12.155\nBut I want us to talk about this thing\ncalled the knowledge consistency checker\n\n297\n00:16:12.155 --> 00:16:14.993\nthat I mentioned, it's commonly\nreferred to as the KCC by the way.\n\n298\n00:16:14.993 --> 00:16:17.088\nKCC that in writing perhaps and\n\n299\n00:16:17.088 --> 00:16:21.207\nthe question somewhere you read\nabout a new documentation.\n\n300\n00:16:21.207 --> 00:16:23.388\nYou may see it's spelled up.\n\n301\n00:16:23.388 --> 00:16:25.771\nAnd a lot of times,\nwe'll see the acronym being used.\n\n302\n00:16:25.771 --> 00:16:28.832\nYou may see a question about\nthe KCC something, right?\n\n303\n00:16:28.832 --> 00:16:31.120\nWhatever what is,\njust wanna know what is is.\n\n304\n00:16:31.120 --> 00:16:34.911\nSo the KCC is gonna be a component that\nruns on every domain controller, so\n\n305\n00:16:34.911 --> 00:16:37.370\nit's part of the active\ndirectory structure.\n\n306\n00:16:37.370 --> 00:16:41.299\nIt is the behind the scenes\nitem that is keeping track of.\n\n307\n00:16:41.299 --> 00:16:43.444\nAnd understanding, and generating,\n\n308\n00:16:43.444 --> 00:16:48.388\nand optimizing our replication topology or\nthe replication connectors automatically.\n\n309\n00:16:48.388 --> 00:16:49.889\nHello how are you?\n\n310\n00:16:49.889 --> 00:16:50.591\n&gt;&gt; Hey, hi.\n\n311\n00:16:50.591 --> 00:16:51.616\n&gt;&gt; Can't see but I'm doing, hello too.\n\n312\n00:16:51.616 --> 00:16:54.471\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's go up, what do you wanna say?\n\n313\n00:16:54.471 --> 00:16:58.202\n&gt;&gt; Well, in my mind the first thing that\npops up when I hear KCC is almost like\n\n314\n00:16:58.202 --> 00:17:00.844\nan air pocket- [CROSSTALK]\n&gt;&gt; Kentucky Fried Chicken?\n\n315\n00:17:00.844 --> 00:17:01.877\nNo?\n&gt;&gt; Well.\n\n316\n00:17:01.877 --> 00:17:03.275\n[LAUGH]\n&gt;&gt; [LAUGH] That's KFC, that KCC.\n\n317\n00:17:03.275 --> 00:17:04.507\nI actually funny, right?\n\n318\n00:17:04.507 --> 00:17:07.195\nSo this is our random, our sidebar,\nwe haven't done one of those in a while.\n\n319\n00:17:07.195 --> 00:17:08.205\nOur random on sidebar.\n\n320\n00:17:08.205 --> 00:17:08.790\n&gt;&gt; I'm hungry now.\n\n321\n00:17:08.790 --> 00:17:10.275\n[LAUGH]\n&gt;&gt; Yeah, you get right to it.\n\n322\n00:17:10.275 --> 00:17:14.341\nSo actually I'm in the middle of talking\nabout this in a presentation with one of\n\n323\n00:17:14.341 --> 00:17:15.380\nmy customers.\n\n324\n00:17:15.380 --> 00:17:19.695\nI got a whole big group of IT engineers\nand stuff in the room, a whole group of\n\n325\n00:17:19.695 --> 00:17:24.580\nsenior leaders and a C-level executives in\nthis company I was giving a briefing to.\n\n326\n00:17:24.580 --> 00:17:26.879\nAnd I'm I'm just kinda\ngoing through the logic.\n\n327\n00:17:26.879 --> 00:17:28.068\nWe're talking about doing\nsome upgrades and things.\n\n328\n00:17:28.068 --> 00:17:31.412\nWe kinda mapped out a strategy and\none of the things involved was\n\n329\n00:17:31.412 --> 00:17:34.253\ngonna be re-architect\nthe sites in the topologies so\n\n330\n00:17:34.253 --> 00:17:36.917\nwe could better control\nthe flow of information.\n\n331\n00:17:36.917 --> 00:17:39.769\nTake advantage of new connections\nthat were being laid down.\n\n332\n00:17:39.769 --> 00:17:42.342\nAnd so we went into just a little\nbit of detail about the logic.\n\n333\n00:17:42.342 --> 00:17:46.274\nAnd at one point I had a talk about the\nKCC, and so I mentioned this whole thing.\n\n334\n00:17:46.274 --> 00:17:47.277\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n335\n00:17:47.277 --> 00:17:49.746\nsomebody dude in the back didn't\nreally hear me very well, and\n\n336\n00:17:49.746 --> 00:17:52.190\nsaid she was saying, KFC,\nwas that what you said?\n\n337\n00:17:52.190 --> 00:17:53.486\nAnd so it was funny.\n&gt;&gt; [LAUGH]\n\n338\n00:17:53.486 --> 00:17:54.353\n&gt;&gt; We have it before, it was a lot funnier\n\n339\n00:17:54.353 --> 00:17:55.149\nwhen you were there than it is now.\n\n340\n00:17:55.149 --> 00:17:56.198\nBut anyway-\n&gt;&gt; Okay.\n\n341\n00:17:56.198 --> 00:17:59.047\n&gt;&gt; I digress, don't let me talk unless\nyou have something important to say.\n\n342\n00:17:59.047 --> 00:18:01.730\n&gt;&gt; Unless I have something important\nto say, all right no pressure Adam.\n\n343\n00:18:01.730 --> 00:18:06.466\nNo, I was just thinking is it a good\nanalogy or decent analogy to think almost\n\n344\n00:18:06.466 --> 00:18:10.832\nlike an air traffic controller\nbecause we're dynamically looking at\n\n345\n00:18:10.832 --> 00:18:15.283\nthis different router paths to go\nahead and perform that replication?\n\n346\n00:18:15.283 --> 00:18:20.074\n&gt;&gt; It could be, the thing is with the KCC\nthat we're thinking about and using in,\n\n347\n00:18:20.074 --> 00:18:22.776\nI didn't get a chance\nto say this one piece.\n\n348\n00:18:22.776 --> 00:18:24.500\nWe're thinking about using it for\n\n349\n00:18:24.500 --> 00:18:27.960\ncontrol of replication among domain\ncontrollers within that site.\n\n350\n00:18:27.960 --> 00:18:30.290\nSo this is creating the connectivity and\n\n351\n00:18:30.290 --> 00:18:34.139\nhelping us to understand how to\nmanage it within the site, right.\n\n352\n00:18:34.139 --> 00:18:36.291\nSo the domain controllers and\nthe IP subnet,\n\n353\n00:18:36.291 --> 00:18:39.527\nthe sum that's associated with\nthe site will benefit from the KCC.\n\n354\n00:18:39.527 --> 00:18:44.274\nAlso, we can think about that if we\nwere thinking about it in the sense that\n\n355\n00:18:44.274 --> 00:18:48.581\nit's gonna control those pathways,\nbut within the site itself.\n\n356\n00:18:48.581 --> 00:18:51.802\nWhen we think about\ngoing between two sites,\n\n357\n00:18:51.802 --> 00:18:57.672\nwe bring in another element called the\nITSG, the Intersite Topology Generator.\n\n358\n00:18:57.672 --> 00:19:00.799\nAnd that's gonna create\nthe connectivity between sites,\n\n359\n00:19:00.799 --> 00:19:04.250\nthose replication connectors\nbetween sites that I spoke about.\n\n360\n00:19:04.250 --> 00:19:09.217\nAnd it's gonna reference the KCC in order\nto make sure they were having knowledge\n\n361\n00:19:09.217 --> 00:19:11.641\nof the domain controllers in the site.\n\n362\n00:19:11.641 --> 00:19:14.948\nAnd help us to understand and specify\nsomething called the bridged server,\n\n363\n00:19:14.948 --> 00:19:17.386\nwhich we would have to talk\nabout as part of that as well.\n\n364\n00:19:17.386 --> 00:19:22.263\nThe bridged server destination is the\ndomain controller in a site where we would\n\n365\n00:19:22.263 --> 00:19:26.488\nanchor and specify that\nthe Intersite Topology Generated connector\n\n366\n00:19:26.488 --> 00:19:30.516\nwould essentially be managed on\neither side of that connection.\n\n367\n00:19:30.516 --> 00:19:32.928\nSo it's the bridgehead or anchor point for\n\n368\n00:19:32.928 --> 00:19:36.151\nthe connection between the two\nsites as they replicate.\n\n369\n00:19:36.151 --> 00:19:39.287\nBecause we're not gonna replicate from\nevery domain controller and every site,\n\n370\n00:19:39.287 --> 00:19:41.702\nevery other one and every site,\nthat's counterproductive.\n\n371\n00:19:41.702 --> 00:19:45.442\nAnd essentially makes it even worse to\nmanage bandwidth that maybe limited\n\n372\n00:19:45.442 --> 00:19:46.639\nbetween the two sites.\n\n373\n00:19:46.639 --> 00:19:50.103\nInstead, what we're gonna do\nis make sure we designate one\n\n374\n00:19:50.103 --> 00:19:54.230\ndomain controller in a site,\ncall that the bridgehead server.\n\n375\n00:19:54.230 --> 00:19:57.107\nIf you're familiar with Exchange,\nmight have used Exchange\n\n376\n00:19:57.107 --> 00:20:00.609\nas a messaging platform and go back\nseveral generations on that platform.\n\n377\n00:20:00.609 --> 00:20:04.096\nYou will also be familiar with\nthe bridgehead server concept.\n\n378\n00:20:04.096 --> 00:20:07.698\nCuz we actually saw there before we\nactually started really thinking about\n\n379\n00:20:07.698 --> 00:20:10.384\nusing it in the Active Directory\nin a sense that we used to\n\n380\n00:20:10.384 --> 00:20:14.101\nhave Exchange servers that will bridge\nthat service to manage the exchange of\n\n381\n00:20:14.101 --> 00:20:17.214\ninformation between sites in\nthe Exchange Topology years ago.\n\n382\n00:20:17.214 --> 00:20:19.517\nIt's just kind of a thought\nprocess that comes to us.\n\n383\n00:20:19.517 --> 00:20:23.661\nAnd actually by the way, a lot of\nthings we do in the Active Directory,\n\n384\n00:20:23.661 --> 00:20:27.947\nif you go back far enough and you're\nhistorically kind of linked to these\n\n385\n00:20:27.947 --> 00:20:30.492\nplatforms going back in time long enough.\n\n386\n00:20:30.492 --> 00:20:36.550\nIf you look at exchange coming out of 5-0,\n5-5, 2000-2003,\n\n387\n00:20:36.550 --> 00:20:42.240\ninto the more mod 210 right into\nthe more modern versions of exchange,\n\n388\n00:20:42.240 --> 00:20:45.390\nyou will see that a lot of the structure.\n\n389\n00:20:45.390 --> 00:20:49.066\nA lot of the form, a lot of the function\nthat we now take for granted in our\n\n390\n00:20:49.066 --> 00:20:52.645\ndirectory actually originally was\nimplemented through Exchange.\n\n391\n00:20:52.645 --> 00:20:56.985\nAnd those two products have always kinda\nbeen associated with each other at certain\n\n392\n00:20:56.985 --> 00:20:57.860\npoints in time.\n\n393\n00:20:57.860 --> 00:21:01.237\nThey were kinda pushed away from each\nother, really not well-connected,\n\n394\n00:21:01.237 --> 00:21:02.352\nreally not integrated.\n\n395\n00:21:02.352 --> 00:21:06.415\nWe've obviously in the last several\ngenerations we've seen a coming together.\n\n396\n00:21:06.415 --> 00:21:09.609\nThey're almost one product that\njust happens to have two split\n\n397\n00:21:09.609 --> 00:21:12.147\npersonality kind of thought\nprocesses going on.\n\n398\n00:21:12.147 --> 00:21:13.977\nThe Exchange piece does mail.\n\n399\n00:21:13.977 --> 00:21:15.622\nThe AD piece does directory.\n\n400\n00:21:15.622 --> 00:21:17.513\nBut they're totally integrated now.\n\n401\n00:21:17.513 --> 00:21:19.145\nYou can't run Exchange without AD,\n\n402\n00:21:19.145 --> 00:21:21.679\nalthough you certainly can\nrun the AD without Exchange.\n\n403\n00:21:21.679 --> 00:21:25.133\nBut you can't use Exchange without\nintegration into the Active Directory\n\n404\n00:21:25.133 --> 00:21:27.228\ntoday because it's so tightly interwoven.\n\n405\n00:21:27.228 --> 00:21:29.324\nBut years ago a lot of the structure,\n\n406\n00:21:29.324 --> 00:21:32.989\na lot of the thought process that\nwe now seem to take for granted.\n\n407\n00:21:32.989 --> 00:21:35.984\nAnd what we think of is the ADDS\nwas actually first implemented and\n\n408\n00:21:35.984 --> 00:21:39.362\nkind of first architected and\nhashed out through the extremes platform,\n\n409\n00:21:39.362 --> 00:21:40.520\ninterestingly enough?\n\n410\n00:21:40.520 --> 00:21:42.813\nWell, lot of people don't realize this,\ndon't think about this, but\n\n411\n00:21:42.813 --> 00:21:43.724\nthat's actually the case.\n\n412\n00:21:43.724 --> 00:21:46.045\nSo it's kind of interesting,\njust when we think about it.\n\n413\n00:21:46.045 --> 00:21:49.455\nBut we would bring in some of these\nother tools and areas the ITSG,\n\n414\n00:21:49.455 --> 00:21:53.857\nthe bridgehead server concept, to broaden\nit to the analogy that your thinking of.\n\n415\n00:21:53.857 --> 00:21:55.761\nBut I think it's a great way\nwe're thinking about it.\n\n416\n00:21:55.761 --> 00:21:59.005\nBut we would just introduce couple other\nconcepts we hadn't quite gotten to yet,\n\n417\n00:21:59.005 --> 00:22:00.897\nto think about the logic\nof how that would work.\n\n418\n00:22:00.897 --> 00:22:04.258\nBecause air traffic control has to\nobviously be aware of any flights within,\n\n419\n00:22:04.258 --> 00:22:08.083\nlet's say, I don't know, a couple hundred\nmiles of the airport, whatever it may be,\n\n420\n00:22:08.083 --> 00:22:09.038\nit coming and going.\n\n421\n00:22:09.038 --> 00:22:14.097\nAnd it has to be able to spread out and\nreally see that arc of airspace, right.\n\n422\n00:22:14.097 --> 00:22:17.335\nIn doing a 360 degree arc\naround the airport property.\n\n423\n00:22:17.335 --> 00:22:20.903\nIt's not just limited to what's\nright there within a mile coming and\n\n424\n00:22:20.903 --> 00:22:22.019\ngoing on the ground.\n\n425\n00:22:22.019 --> 00:22:26.012\nIt's gotta really have a much higher\nlevel, visibility of a lot of other stuff.\n\n426\n00:22:26.012 --> 00:22:30.026\nAnd equally important, which is why I\nextended it by talking about the IST and\n\n427\n00:22:30.026 --> 00:22:30.967\nthe bridgehead.\n\n428\n00:22:30.967 --> 00:22:34.501\nThat tower has to be able to talk to,\nnot just the planes coming in but\n\n429\n00:22:34.501 --> 00:22:38.967\npotentially other towers, if there's\na problem, being able to understand what's\n\n430\n00:22:38.967 --> 00:22:42.080\ngoing on in those air spaces,\nto route traffic safely.\n\n431\n00:22:42.080 --> 00:22:46.320\nIn case of an emergency, something happens\non the landing space in the runways.\n\n432\n00:22:46.320 --> 00:22:47.910\nThere's a problem at the airport.\n\n433\n00:22:47.910 --> 00:22:48.819\nWe have to reroute all this traffic.\n\n434\n00:22:48.819 --> 00:22:50.809\nThey have to make sure they can\nsend you to another airport\n\n435\n00:22:50.809 --> 00:22:51.768\nthat can accommodate you.\n\n436\n00:22:51.768 --> 00:22:55.746\nSo there's all this airport to airport\ncommunication those would be the site\n\n437\n00:22:55.746 --> 00:22:57.592\nconnectors that the ISTG creates.\n\n438\n00:22:57.592 --> 00:22:58.185\n&gt;&gt; Cool.\n\n439\n00:22:58.185 --> 00:23:01.449\n&gt;&gt; And the bridge head servers would be\nthe towers in the sense that those little\n\n440\n00:23:01.449 --> 00:23:04.465\npoints of communication authoritatively\nexchanging information.\n\n441\n00:23:04.465 --> 00:23:08.619\nWe'll, if you think about the logic of it\nI can begin analogy work, if you just-\n\n442\n00:23:08.619 --> 00:23:09.195\n&gt;&gt; I like that.\n\n443\n00:23:09.195 --> 00:23:11.791\n[LAUGH]\n&gt;&gt; There's no outer working you wanna talk\n\n444\n00:23:11.791 --> 00:23:14.805\nabout ice cream drop and\ncandy canes I can do that too.\n\n445\n00:23:14.805 --> 00:23:16.634\nSo really I have to drop diet groups for\nthat one but it's been a really cool.\n\n446\n00:23:16.634 --> 00:23:19.177\n[CROSSTALK] But yeah I lied that-\n&gt;&gt; Do you have any samples?\n\n447\n00:23:19.177 --> 00:23:19.735\n&gt;&gt; We do.\n\n448\n00:23:19.735 --> 00:23:23.334\nI like the analogy in the sense again\nit's a great way to think about it.\n\n449\n00:23:23.334 --> 00:23:26.164\nBut we just need to add that\nother layer of information.\n\n450\n00:23:26.164 --> 00:23:29.411\nJust a couple of moving parts and pieces\nthat we haven't quite gotten to yet, but\n\n451\n00:23:29.411 --> 00:23:31.485\nare still equally important for\nyou to know about.\n\n452\n00:23:31.485 --> 00:23:33.754\nNow that we've gotten to them,\nthat's a load off my mind.\n\n453\n00:23:33.754 --> 00:23:35.394\n&gt;&gt; [LAUGH]\n&gt;&gt; Enough to worry about that whole,\n\n454\n00:23:35.394 --> 00:23:37.100\nwe just like saved an episode\njust by talking about that.\n\n455\n00:23:37.100 --> 00:23:39.027\nAll right, so we do now understand.\n\n456\n00:23:39.027 --> 00:23:42.369\nHopefully you'll have a better\nunderstanding of the case you see\n\n457\n00:23:42.369 --> 00:23:44.616\na little bit about it for\ninside the domain or\n\n458\n00:23:44.616 --> 00:23:47.855\nrather just inside the site itself,\nintrasite replication.\n\n459\n00:23:47.855 --> 00:23:50.972\nThe KCC is important link,\nthere''s domain controllers.\n\n460\n00:23:50.972 --> 00:23:53.651\nAnd make sure that they are talking and\ncommunicating.\n\n461\n00:23:53.651 --> 00:23:58.394\nWe add and delete and/or rebuild\nconnections on the fly as we add domain\n\n462\n00:23:58.394 --> 00:24:03.070\ncontrollers in, remove them,\nmove them around so to speak, right.\n\n463\n00:24:03.070 --> 00:24:04.530\nSo just be aware of that.\n\n464\n00:24:04.530 --> 00:24:07.690\nIt runs every 15 minutes by\ndefault to check the topology.\n\n465\n00:24:07.690 --> 00:24:10.848\nSo in theory, if you don't mess around\nwith it, leave it at the default settings.\n\n466\n00:24:10.848 --> 00:24:12.648\nFour times an hour, 24 hours a day,\n\n467\n00:24:12.648 --> 00:24:16.082\nevery day of the week, every week of\nthe month,every month of the year,\n\n468\n00:24:16.082 --> 00:24:18.630\ncontinuously until you\nget rid of the system.\n\n469\n00:24:18.630 --> 00:24:21.610\nSo 15 minutes by default,\nwe can modify that, of course.\n\n470\n00:24:21.610 --> 00:24:22.950\nBut just be aware of that.\n\n471\n00:24:22.950 --> 00:24:27.297\nBut it does designate replication routes\nbetween domain controllers within the site\n\n472\n00:24:27.297 --> 00:24:30.572\nthat are most favorable based\non the connection capabilities.\n\n473\n00:24:30.572 --> 00:24:32.633\nAnd the capabilities of\navailable at the time, so\n\n474\n00:24:32.633 --> 00:24:34.760\njust wanna make sure\nyou are aware of that.\n\n475\n00:24:34.760 --> 00:24:38.590\nI did talk about the fact we can create\nthese connection objects manually.\n\n476\n00:24:38.590 --> 00:24:42.430\nSo I did say hey we could go in and\ncreate our own dedicated pathways\n\n477\n00:24:42.430 --> 00:24:45.520\nbetween the main controllers,\nor between sites if we need to.\n\n478\n00:24:45.520 --> 00:24:49.020\nBut, and just keep in mind as I did say,\nwe can create them,\n\n479\n00:24:49.020 --> 00:24:50.650\nthey do persist by the way.\n\n480\n00:24:50.650 --> 00:24:53.270\nSo if we create them manually,\nI think I indicate they become static,\n\n481\n00:24:53.270 --> 00:24:56.480\nmeaning, they're there all the time,\nthey're dedicated, we want them there.\n\n482\n00:24:56.480 --> 00:25:00.796\nThat's good, but it's usually not required\nas I said, or recommended as I kind of\n\n483\n00:25:00.796 --> 00:25:04.879\nhinted that not, the best practice not\noften what we would recommend and see.\n\n484\n00:25:04.879 --> 00:25:09.737\nRecommended writing, because we don't\nverify the KCC as I talked about does not\n\n485\n00:25:09.737 --> 00:25:12.000\nverify these connections.\n\n486\n00:25:12.000 --> 00:25:14.810\nOr, we do not use them\nduring failover events.\n\n487\n00:25:14.810 --> 00:25:18.194\nMeaning, the KCC has a preference,\nit's kinda snobby.\n\n488\n00:25:18.194 --> 00:25:21.320\nIt only pays attention to stuff it\ncontrols and creates on its own.\n\n489\n00:25:21.320 --> 00:25:25.527\nSo if you create manual connections\nwhere you hard code a static path,\n\n490\n00:25:25.527 --> 00:25:26.682\nyou can have that.\n\n491\n00:25:26.682 --> 00:25:30.129\nBut the KCC is not gonna verify it, so\nwe don't know if it's actually up and\n\n492\n00:25:30.129 --> 00:25:33.691\nrunning and consistently available the way\nwe do with all the other automated\n\n493\n00:25:33.691 --> 00:25:35.330\nconnections the KCC creates.\n\n494\n00:25:35.330 --> 00:25:38.860\nThey're pinged essentially and\nchecked every 15 minutes by default.\n\n495\n00:25:38.860 --> 00:25:40.930\nAnd we know, if they're up and\nif they're not,\n\n496\n00:25:40.930 --> 00:25:45.260\nwe take steps to then reorient the\narchitecture by recreating and spinning up\n\n497\n00:25:45.260 --> 00:25:49.080\nnew connections automatically that's what\nthe KCC does, that's the value of it.\n\n498\n00:25:49.080 --> 00:25:52.617\nSo it's a fail safe mechanism\nthat every 50 minutes or so\n\n499\n00:25:52.617 --> 00:25:55.215\nis checking our topology\nto verify life and\n\n500\n00:25:55.215 --> 00:25:59.992\nverify connectivity pathways are valid and\nmost importantly are available.\n\n501\n00:25:59.992 --> 00:26:03.632\nReally important stuff, cuz you don't\nwanna go setting replicated traffic off\n\n502\n00:26:03.632 --> 00:26:06.590\ninto space to find out there's\nnothing on the other end, right?\n\n503\n00:26:06.590 --> 00:26:09.853\nWhen you knock on the door to drop\noff the package and nobody's there.\n\n504\n00:26:09.853 --> 00:26:12.710\nYou don't get the changes,\nthese things don't work real well.\n\n505\n00:26:12.710 --> 00:26:16.820\nSo, we are obviously doing this and\nthat's the main reason why the KCC exists.\n\n506\n00:26:16.820 --> 00:26:19.960\nBut it does not check the manual pass,\nso if you create a manual one,\n\n507\n00:26:19.960 --> 00:26:21.290\nwe just ignore it.\n\n508\n00:26:21.290 --> 00:26:22.938\nIt's there, whatever I have no idea.\n\n509\n00:26:22.938 --> 00:26:25.020\nI don't know what that is,\nI'm not touching it.\n\n510\n00:26:25.020 --> 00:26:26.658\nYou ever have one of those, right?\n\n511\n00:26:26.658 --> 00:26:28.490\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm not touching it, right?\n\n512\n00:26:28.490 --> 00:26:29.510\nI'm not gonna go near that thing.\n\n513\n00:26:29.510 --> 00:26:30.120\nI don't know what it is.\n\n514\n00:26:30.120 --> 00:26:33.820\nSo the KCC says, no way, I have no\nidea what it is, don't wanna know.\n\n515\n00:26:33.820 --> 00:26:35.990\nYou deal with it, you created it,\nyou're on your own.\n\n516\n00:26:35.990 --> 00:26:38.251\nIn addition, during failover events,\n\n517\n00:26:38.251 --> 00:26:41.839\nthe KCC will automatically create and\nor modify the replication\n\n518\n00:26:41.839 --> 00:26:46.302\ntopology between domain controllers in\nthis site again if there's a problem.\n\n519\n00:26:46.302 --> 00:26:48.811\nIn theory, that would be something\nI can do the domain controller\n\n520\n00:26:48.811 --> 00:26:50.050\nsuddenly went dark.\n\n521\n00:26:50.050 --> 00:26:54.370\nRight, I mean that is a disaster\nVCDR vent of some type.\n\n522\n00:26:54.370 --> 00:26:56.010\nIt may not be the same scale as, hey,\n\n523\n00:26:56.010 --> 00:26:58.850\nthe domain, entire domain just\nwent down because somebody\n\n524\n00:26:58.850 --> 00:27:02.310\nknocked over an entire row of racks of\nservers and disconnected everything.\n\n525\n00:27:02.310 --> 00:27:05.250\nBut a failure is a failure,\nno matter the scope and the scale.\n\n526\n00:27:05.250 --> 00:27:08.994\nIf we have a failure one or\nmore the replication objects,\n\n527\n00:27:08.994 --> 00:27:13.909\nthe partners inside the site, the KCC\nwill kick in and spawn new pathlets.\n\n528\n00:27:13.909 --> 00:27:16.718\nIt will failover, in other words,\nand use the existing ones or\n\n529\n00:27:16.718 --> 00:27:18.030\nmodify them as needed.\n\n530\n00:27:18.030 --> 00:27:20.495\nWe don't take any notice of\nanything create manually,\n\n531\n00:27:20.495 --> 00:27:24.180\nwhich means we will not use those\nfailover pathways if you've hardcoded.\n\n532\n00:27:24.180 --> 00:27:27.094\nBecause the cases he does not want\nhave anything to do with them, so\n\n533\n00:27:27.094 --> 00:27:31.145\nthere are some concerns which you'd have\nto be aware of with regards to creating\n\n534\n00:27:31.145 --> 00:27:32.195\nthis objects manuals.\n\n535\n00:27:32.195 --> 00:27:35.769\nJust be aware of that, have a sense of\nthat, make sure we are aware of that.\n\n536\n00:27:35.769 --> 00:27:41.480\nNot a big deal but just one that you do\nwant to kinda have a sense of, we do poll.\n\n537\n00:27:41.480 --> 00:27:45.150\nIn other words, we check the connection\nto see if there are changes available.\n\n538\n00:27:45.150 --> 00:27:46.390\nWe call that polling.\n\n539\n00:27:46.390 --> 00:27:49.107\nAnd so during polling,\nwe talked about the downstream and\n\n540\n00:27:49.107 --> 00:27:51.612\nthe upstream replication partners, right?\n\n541\n00:27:51.612 --> 00:27:56.780\nThe upstream is the one that may be\npushing down the changes, right?\n\n542\n00:27:56.780 --> 00:28:01.330\nSo I'm pushing from up above, you're\ngetting them by pulling them, right?\n\n543\n00:28:01.330 --> 00:28:03.262\nSo if you're pulling them,\nyou are the downstream.\n\n544\n00:28:03.262 --> 00:28:06.130\nIf you'repushing, you are the upstream,\njust the thought process there.\n\n545\n00:28:06.130 --> 00:28:10.415\nSo the downstream replication partner,\nthe one who would pull the changes across,\n\n546\n00:28:10.415 --> 00:28:13.130\nwill connect to and\ncheck with the upstream partner,\n\n547\n00:28:13.130 --> 00:28:16.591\nthe one who originate the sending\nof the changes and push them down.\n\n548\n00:28:16.591 --> 00:28:19.453\nAnd we do this to check whether or\nnot any changes are available,\n\n549\n00:28:19.453 --> 00:28:21.700\nif they've been cued up for replication.\n\n550\n00:28:21.700 --> 00:28:25.440\nAnd we talk about this thought process\nas being the polling thought process and\n\n551\n00:28:25.440 --> 00:28:27.160\nthe polling interval, right?\n\n552\n00:28:27.160 --> 00:28:31.110\nSo we can configure the polling\nfrequency or interval for a connection.\n\n553\n00:28:31.110 --> 00:28:34.092\nWe can go in and check the schedule,\nI'll show you this real quickly and\n\n554\n00:28:34.092 --> 00:28:35.294\nwe'll see how this is done.\n\n555\n00:28:35.294 --> 00:28:39.180\nBut the best practice recommendation\nis that, you don't change these.\n\n556\n00:28:39.180 --> 00:28:44.031\nIn other words, there's really no good\nreason for you, very few good reasons for\n\n557\n00:28:44.031 --> 00:28:48.600\nyou, to go in and modify the polling\nfrequency or the schedule of the time that\n\n558\n00:28:48.600 --> 00:28:52.922\nwe will go across and check for updates\nand pull them in or push them down.\n\n559\n00:28:52.922 --> 00:28:57.956\nWe tell you to leave this alone, let the\nKCC and the site topology management take\n\n560\n00:28:57.956 --> 00:29:03.330\nplace in the automated fashion that it\ndoes, with the systems controlling it.\n\n561\n00:29:03.330 --> 00:29:06.310\nIf there's a catastrophic failure you\nmay have to go in and get involved.\n\n562\n00:29:06.310 --> 00:29:11.100\nBut traditionally, modifying the timing\non those just simply throws off\n\n563\n00:29:11.100 --> 00:29:15.960\nthe ability for us to be replicating\nperhaps as frequently as we need to,\n\n564\n00:29:15.960 --> 00:29:18.930\nto minimize the amount of\ntraffic per replication event.\n\n565\n00:29:18.930 --> 00:29:21.360\nSo if we extend that time and\nsay, no not every 15 minutes,\n\n566\n00:29:21.360 --> 00:29:22.340\nlet's do it once an hour.\n\n567\n00:29:22.340 --> 00:29:25.140\nNot every hour, let's do it once a day.\n\n568\n00:29:25.140 --> 00:29:27.430\nYou're not gonna break\nanything beyond repair but\n\n569\n00:29:27.430 --> 00:29:32.070\nthe problem may become that because you're\nreplicating less frequently, if you go and\n\n570\n00:29:32.070 --> 00:29:34.720\nextend it for instance,\none possible outcome.\n\n571\n00:29:34.720 --> 00:29:39.020\nYou may generate less replication events\nbut when they happen, they're gonna take\n\n572\n00:29:39.020 --> 00:29:43.240\na lot more bandwidth and a lot more time\nto complete and that can cause disruption.\n\n573\n00:29:43.240 --> 00:29:45.632\nIf you go the other way and\nsay, you know what,\n\n574\n00:29:45.632 --> 00:29:48.093\nnot once a day we need to do\nlike once an hour, right?\n\n575\n00:29:48.093 --> 00:29:52.758\nYou may not, again, break anything beyond\nrepair but will happen is instead of\n\n576\n00:29:52.758 --> 00:29:57.640\none event every 24 hours, you're now\ngonna have 24 individual events.\n\n577\n00:29:57.640 --> 00:30:02.160\nYou may be generating less\ntraffic overall on one\n\n578\n00:30:02.160 --> 00:30:05.855\nsingle event over a longer amount of time,\nbut you're gonna read a lot more events.\n\n579\n00:30:05.855 --> 00:30:09.340\nAnd as a result, the amount of traffic\nthat you generate during the course of\n\n580\n00:30:09.340 --> 00:30:12.915\neach of those events could become\ndisruptive at any one point in time.\n\n581\n00:30:12.915 --> 00:30:17.562\nAnd so, you have to think about that\nreally, very carefully balancing and\n\n582\n00:30:17.562 --> 00:30:20.365\nmanaging this kind tight rope,\ntight wire or\n\n583\n00:30:20.365 --> 00:30:23.123\nhigh water tight rope\nact that you walking.\n\n584\n00:30:23.123 --> 00:30:26.425\nBecause it is a matter of balancing\nthe amount of bandwidth and\n\n585\n00:30:26.425 --> 00:30:28.402\nthe amount of replication traffic.\n\n586\n00:30:28.402 --> 00:30:30.582\nIt's really what these\nsettings are all about.\n\n587\n00:30:30.582 --> 00:30:33.502\nAnd if we are on the wrong\nside of that conversation,\n\n588\n00:30:33.502 --> 00:30:37.316\nwe may force an event to occur\nat an off peak period of time.\n\n589\n00:30:37.316 --> 00:30:40.366\nWe will also force an event to occur\nduring on peak period of time and\n\n590\n00:30:40.366 --> 00:30:42.156\nthat can really have a very negative or\n\n591\n00:30:42.156 --> 00:30:45.766\ndetrimental effect to our ability to\nsend and receive traffic overall.\n\n592\n00:30:45.766 --> 00:30:49.841\nBecause it's not just replication traffic,\nit's accumulative effect of all the other\n\n593\n00:30:49.841 --> 00:30:53.263\ntraffic that goes across the same\nbandwidth connections during the course\n\n594\n00:30:53.263 --> 00:30:56.705\nof a normal business day that we have\nto be concerned with and contend with.\n\n595\n00:30:56.705 --> 00:31:00.114\nWhen you start to think about that,\nnormally, we're connecting,\n\n596\n00:31:00.114 --> 00:31:03.875\neverything seems to be working okay,\ngetting our email, surfing the web,\n\n597\n00:31:03.875 --> 00:31:05.553\ndoing all the stuff we need to do.\n\n598\n00:31:05.553 --> 00:31:08.930\nAnd we're just like, yeah, whatever,\nit's working, right, no big deal.\n\n599\n00:31:08.930 --> 00:31:11.740\nBut, the slightest additional,\nincremental amount of\n\n600\n00:31:11.740 --> 00:31:15.335\ntraffic at the wrong time could tip that\nbalance, is what I'm suggesting to you.\n\n601\n00:31:15.335 --> 00:31:18.980\nAnd hopefully it doesn't, hopefully your\nsystems are architected in such a way that\n\n602\n00:31:18.980 --> 00:31:21.017\nyou have enough capacity,\nmore than you need.\n\n603\n00:31:21.017 --> 00:31:23.128\nBut, you never know at any moment in time,\n\n604\n00:31:23.128 --> 00:31:26.837\nthere could be such a huge volume of\ntraffic because of a spike in activity.\n\n605\n00:31:26.837 --> 00:31:30.743\nAnd we see these well defined business\ncycles throughout the normal day and\n\n606\n00:31:30.743 --> 00:31:32.142\nweek cycle in a business.\n\n607\n00:31:32.142 --> 00:31:36.634\nAround 7:30 to maybe 9:30 in the morning,\ndepending on your business cycle.\n\n608\n00:31:36.634 --> 00:31:38.685\nWe tend to see a huge\nuptick in network traffic,\n\n609\n00:31:38.685 --> 00:31:42.360\ncuz people are showing up at work and\nthey're authenticating and logging in.\n\n610\n00:31:42.360 --> 00:31:44.870\nThat's a pretty common\nbusiness cycle everyday.\n\n611\n00:31:44.870 --> 00:31:48.327\nAround lunch time, we tend to see a drop\nin traffic if people go out for lunch.\n\n612\n00:31:48.327 --> 00:31:51.120\nBut if people stay in for lunch,\nwe actually see a spiking traffic cuz\n\n613\n00:31:51.120 --> 00:31:53.433\nthey're surfing the web when\nthey're on lunch breaks,\n\n614\n00:31:53.433 --> 00:31:56.345\ndoing a bunch of stuff that maybe\nthey don't do when they're working.\n\n615\n00:31:56.345 --> 00:31:59.281\nSo that one can go in the way,\ndepending on what people are doing.\n\n616\n00:31:59.281 --> 00:32:04.431\nI knew again at the end of the business\nday, 4, 5, 6 o'clock, whatever it may be.\n\n617\n00:32:04.431 --> 00:32:07.979\nEven if you run a 24/7 shop, or\nyou have people there all the time,\n\n618\n00:32:07.979 --> 00:32:10.290\nthere are shifts that come out and\nthen go in.\n\n619\n00:32:10.290 --> 00:32:14.820\nAnd so there's a definite drop in traffic\nas people are leaving the network and\n\n620\n00:32:14.820 --> 00:32:19.363\na spike or an uptake as people come back\nin maybe for shift number two and log in.\n\n621\n00:32:19.363 --> 00:32:22.413\nSo we can see these cycles as part of\nthe maintenance of the network we have\n\n622\n00:32:22.413 --> 00:32:23.870\nbecome aware of them.\n\n623\n00:32:23.870 --> 00:32:26.450\nAdding to those cycles is\nreally not problematic, but\n\n624\n00:32:26.450 --> 00:32:29.910\nadding to them without really planning for\nthem can actually prove to be disastrous.\n\n625\n00:32:29.910 --> 00:32:32.530\nSo I just wanna make sure\nyou're aware of that as well.\n\n626\n00:32:32.530 --> 00:32:35.430\nIf we fail to respond,\nthe upstream partner\n\n627\n00:32:35.430 --> 00:32:39.060\nfails to respond to repeated polling\nqueries, we're knocking on the door.\n\n628\n00:32:39.060 --> 00:32:41.510\nHey, Cherokee, are you there,\nI need to know if we have any changes.\n\n629\n00:32:41.510 --> 00:32:44.840\nAnd Cherokee doesn't respond,\nI try two, three, four times, and\n\n630\n00:32:44.840 --> 00:32:47.910\nshe's just not talking to me,\nmuch like she's not doing now.\n\n631\n00:32:47.910 --> 00:32:49.500\n&gt;&gt; I'm probably at KFC.\n\n632\n00:32:49.500 --> 00:32:51.770\n&gt;&gt; You could be at KFC getting\nsomething to eat, right?\n\n633\n00:32:51.770 --> 00:32:55.950\nSo if she's not responding, if my upstream\nreplication part does not respond,\n\n634\n00:32:55.950 --> 00:33:00.130\nthen we actually wind up\nseeing the KCC coming online,\n\n635\n00:33:00.130 --> 00:33:03.272\nwe check the replication topology and\nmaybe something's happened.\n\n636\n00:33:03.272 --> 00:33:06.150\nMaybe she's out,\nmaybe she's not there, who knows what?\n\n637\n00:33:06.150 --> 00:33:09.530\nIf the KCC gets involved,\nchecks that topology, and\n\n638\n00:33:09.530 --> 00:33:13.710\nif something is wrong,\nmaybe legitimately she is offline, right?\n\n639\n00:33:13.710 --> 00:33:18.260\nShe put up the hey, gone to lunch, be back\nsoon sign, then the KCC will spawn another\n\n640\n00:33:18.260 --> 00:33:22.840\nconnection, or perhaps re-allocate\nthe connections to allow me to continue\n\n641\n00:33:22.840 --> 00:33:26.225\nto get that information but get it from\nanother domain controller that is online,\n\n642\n00:33:26.225 --> 00:33:28.080\ncoz maybe she's just not available.\n\n643\n00:33:28.080 --> 00:33:30.810\nBut, maybe there are two other\ndomain controllers that are, and\n\n644\n00:33:30.810 --> 00:33:34.240\nI'll have to figure out how to get one of\nthem or if I have an existing connection,\n\n645\n00:33:34.240 --> 00:33:37.240\nI'll just be told fail over to that\nconnection and use that one, or\n\n646\n00:33:37.240 --> 00:33:41.390\nI'll create a new one that will get me to\none or more of those domain controllers.\n\n647\n00:33:41.390 --> 00:33:43.970\nSo just wanna make sure we're aware of\nthat and we think about that because,\n\n648\n00:33:43.970 --> 00:33:47.900\nthis next level down as we're talking\nabout how replication takes place,\n\n649\n00:33:47.900 --> 00:33:51.760\nhow the sites are structured, we'll get\nback into this in our upcoming episodes.\n\n650\n00:33:51.760 --> 00:33:55.330\nAnd get back into the console, take\nanother look at more of what goes on in\n\n651\n00:33:55.330 --> 00:33:58.840\nthere, show you how to rename, show you\nhow to create sites and do all the stuff\n\n652\n00:33:58.840 --> 00:34:02.330\nwe were talking about, but we just have to\nmake sure we get through all the knowledge\n\n653\n00:34:02.330 --> 00:34:05.800\nthat's gonna be important for you to\nunderstand, the vocabulary, the ideas, so\n\n654\n00:34:05.800 --> 00:34:08.840\nthat when we go and we do stuff, you\nactually have a sense of what we're doing.\n\n655\n00:34:08.840 --> 00:34:11.790\n&gt;&gt; Think we're gonna be some experts\nby the time this is all over Adam.\n\n656\n00:34:11.790 --> 00:34:14.240\nWe're really getting into detail here,\nso thank you for that.\n\n657\n00:34:14.240 --> 00:34:15.890\nAnd thank you for joining us as well.\n\n658\n00:34:15.890 --> 00:34:19.810\nBut we have some more great information\nheaded your way, stay tuned for that.\n\n659\n00:34:19.810 --> 00:34:22.550\nWe'll go ahead and sign off for this show,\nI've been your host Cherokee Boose,\n\n660\n00:34:22.550 --> 00:34:23.570\n&gt;&gt; I'm Adam Gordon.\n\n661\n00:34:23.570 --> 00:34:27.057\n&gt;&gt; See you next time here at ITProTV.\n\n662\n00:34:27.057 --> 00:34:33.073\n[MUSIC]\n\n663\n00:34:33.073 --> 00:34:36.791\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "229703441"
        },
        {
          "description": "In this show, Adam and Cherokee continue explaining how replication occurs. They provide three situations in which conflicts may occur and what happens behind the scenes to provide conflict resolution. Adam shares how the version number, time stamp and GUID are all going to play a role in determining the change that will remain. Next Adam demonstrates how to use the sires and services tool to perform management actives.",
          "length": "1926",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-3-ad_ds_sites_and_replication_pt3-081217-PGM.00_31_49_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-3-ad_ds_sites_and_replication_pt3-081217-PGM.00_31_49_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-3-ad_ds_sites_and_replication_pt3-081217-PGM.00_31_49_26.Still001-sm.jpg",
          "title": "AD DS Sites and Replication Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:02.666\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.666 --> 00:00:03.490\n[CROSSTALK]\n[MUSIC]\n\n3\n00:00:03.490 --> 00:00:10.298\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:10.298 --> 00:00:14.764\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series.\n\n5\n00:00:14.764 --> 00:00:18.030\nI'm your show host, Cherokee Boose.\n\n6\n00:00:18.030 --> 00:00:21.814\nIn this episode,\nwe'll continue that previous conversation,\n\n7\n00:00:21.814 --> 00:00:24.702\nwhere we were looking at\ndifferent components and\n\n8\n00:00:24.702 --> 00:00:28.156\nthe different pieces to help\nfacilitate our replication.\n\n9\n00:00:28.156 --> 00:00:30.818\nInter and intrasite, woo hoo.\n\n10\n00:00:30.818 --> 00:00:32.945\nAnd of course, now you know we have Mr.\n\n11\n00:00:32.945 --> 00:00:36.630\nAdam Gordon back in studios with\nus to continue that conversation.\n\n12\n00:00:36.630 --> 00:00:37.975\nSo thank you for joining us, Adam.\n\n13\n00:00:37.975 --> 00:00:40.290\n&gt;&gt; Woo hoo.\n&gt;&gt; [LAUGH]\n\n14\n00:00:40.290 --> 00:00:41.236\n&gt;&gt; All right, that's gonna\n\n15\n00:00:41.236 --> 00:00:42.530\nbe our new official show greeting.\n\n16\n00:00:42.530 --> 00:00:43.112\n&gt;&gt; Did I just say that?\n\n17\n00:00:43.112 --> 00:00:43.720\nYeah, woo hoo.\n\n18\n00:00:43.720 --> 00:00:44.692\n&gt;&gt; Woo hoo.\n\n19\n00:00:44.692 --> 00:00:47.594\nAll right, so,\nlet's get back into our conversation.\n\n20\n00:00:47.594 --> 00:00:52.469\nWe left off in the last episode really\ndoing kind of a slightly deeper dive into\n\n21\n00:00:52.469 --> 00:00:55.847\nthe architecture,\nthe structure, the mechanics,\n\n22\n00:00:55.847 --> 00:01:00.290\nall the moving parts behind the scenes\nof the ADDS replication cycle.\n\n23\n00:01:00.290 --> 00:01:01.714\nTalked about the Sites and\n\n24\n00:01:01.714 --> 00:01:05.800\nServices Tool, took a look inside\nquickly just to preview what was there.\n\n25\n00:01:05.800 --> 00:01:09.101\nWe broke out into a conversation\naround the role of the KCC,\n\n26\n00:01:09.101 --> 00:01:11.224\nthe knowledge consistency checker.\n\n27\n00:01:11.224 --> 00:01:16.040\nWe brought in a discussion of the ISTG,\nthe intersite topology generator.\n\n28\n00:01:16.040 --> 00:01:20.594\nExtending our replication management\ncapabilities to domain controllers,\n\n29\n00:01:20.594 --> 00:01:22.043\nreplication objects and\n\n30\n00:01:22.043 --> 00:01:26.460\nreplication partners within that\nsingle site intrasite replication.\n\n31\n00:01:26.460 --> 00:01:29.930\nThat's the job, the role, the\nresponsibility, the function of the KCC.\n\n32\n00:01:29.930 --> 00:01:33.170\nManagement of them,\nmaking sure those connections are valid.\n\n33\n00:01:33.170 --> 00:01:36.320\nMaking sure if they go offline\nthat a new connection is spawned.\n\n34\n00:01:36.320 --> 00:01:39.523\nDoing that and checking that\nevery 15 minutes, managing that,\n\n35\n00:01:39.523 --> 00:01:43.800\nwe said all that's the job and the role,\nthe responsibility of the KCC.\n\n36\n00:01:43.800 --> 00:01:48.380\nWe brought in the ISTG, inter site\ntopology generator, and something called\n\n37\n00:01:48.380 --> 00:01:51.948\na bridge head server designation\nto broaden that conversation out.\n\n38\n00:01:51.948 --> 00:01:55.290\nSo that as we go from one site with two or\n\n39\n00:01:55.290 --> 00:01:59.250\nmore domain controllers within it as\nreplication partners and objects,\n\n40\n00:01:59.250 --> 00:02:02.760\nsharing information between and among\nthe members of the domain in the site.\n\n41\n00:02:02.760 --> 00:02:06.520\nAnd remember, the site designation\nis done based on IP subnets.\n\n42\n00:02:06.520 --> 00:02:09.520\nSo, whatever subnets\nare associated with that site,\n\n43\n00:02:09.520 --> 00:02:11.770\nall domain controllers in those\nsubnets will be a member or\n\n44\n00:02:11.770 --> 00:02:15.410\nmembers of that site,\nwhatever the name of the site is.\n\n45\n00:02:15.410 --> 00:02:18.700\nOur default first site name site\nis what we get automatically,\n\n46\n00:02:18.700 --> 00:02:22.290\nwe can rename that and choose to call it\nanything we want and create new sites.\n\n47\n00:02:22.290 --> 00:02:25.682\nBut as we extend replication\nfrom site one, hypothetically,\n\n48\n00:02:25.682 --> 00:02:29.459\nif that's the name for our site,\nout to sites two, three, and four.\n\n49\n00:02:29.459 --> 00:02:33.173\nGeographically spread out around\nour theater of operations based on\n\n50\n00:02:33.173 --> 00:02:37.760\ndifferent IP subnets, and whatever\nother requirements may be driving that.\n\n51\n00:02:37.760 --> 00:02:40.230\nAnd we need to connect\nthose sites together.\n\n52\n00:02:40.230 --> 00:02:44.657\nInter site replication,\nreplication between two sites, or\n\n53\n00:02:44.657 --> 00:02:46.650\namong two or more sites.\n\n54\n00:02:46.650 --> 00:02:48.433\nWe talk about extending those connections.\n\n55\n00:02:48.433 --> 00:02:51.860\nThe KCC plays a part but\nit's not the primary driver.\n\n56\n00:02:51.860 --> 00:02:56.540\nWe send out the ISTG, inter site topology\ngenerator gets into the act here.\n\n57\n00:02:56.540 --> 00:02:59.766\nCreates those connections\nbetween the two sites,\n\n58\n00:02:59.766 --> 00:03:04.500\nand we anchor those connections at what\nwe refer to as bridgehead servers.\n\n59\n00:03:04.500 --> 00:03:09.319\nThe bridgehead server is the domain\ncontroller designated with this special\n\n60\n00:03:09.319 --> 00:03:13.543\nrole that will be in charge of\nmaintaining and controlling access to\n\n61\n00:03:13.543 --> 00:03:18.810\nthat replication pathway between two\nsites that the ISTG sets up and manages.\n\n62\n00:03:18.810 --> 00:03:21.980\nChecks with the KCC to ensure\nthat the bridge head server,\n\n63\n00:03:21.980 --> 00:03:24.850\nthe domain controller that anchors\nit is online and available.\n\n64\n00:03:24.850 --> 00:03:27.054\nAnd that we've made the designation,\nand if that fails for\n\n65\n00:03:27.054 --> 00:03:28.478\nsome reason it has to choose a new one.\n\n66\n00:03:28.478 --> 00:03:31.560\nSo, the KCC plays a part\nbehind the scenes in that.\n\n67\n00:03:31.560 --> 00:03:33.130\nBut we really see that split off and\n\n68\n00:03:33.130 --> 00:03:36.620\ndifferentiated when we talk about\njumping out of one site and\n\n69\n00:03:36.620 --> 00:03:40.330\nreplicate in between them, versus\nreplication in and among a single site.\n\n70\n00:03:40.330 --> 00:03:41.930\nSo, just wanna make sure\nyou're aware of that.\n\n71\n00:03:41.930 --> 00:03:43.888\nAll that went on in the last episode,\n\n72\n00:03:43.888 --> 00:03:47.400\nnow what we're gonna do is build\non some of that knowledge.\n\n73\n00:03:47.400 --> 00:03:50.820\nAnd talk about what happens when\nwe actually move to replication.\n\n74\n00:03:50.820 --> 00:03:52.400\nBut not just when things go well.\n\n75\n00:03:52.400 --> 00:03:54.200\nHey, we have changes.\n\n76\n00:03:54.200 --> 00:03:57.113\nWe have the upstream and\ndownstream partners.\n\n77\n00:03:57.113 --> 00:04:00.696\nThe upstream partner is contacted by\nthe downstream replication partner as we\n\n78\n00:04:00.696 --> 00:04:02.715\ntalked about at the end\nof the last episode.\n\n79\n00:04:02.715 --> 00:04:06.410\nAnd we pull, we call that the pulling\nfrequency or pulling interval.\n\n80\n00:04:06.410 --> 00:04:10.101\nThe downstream partner knocks on\nthe door of the upstream partner, says,\n\n81\n00:04:10.101 --> 00:04:12.220\nhey Cherokee, you got any changes for me?\n\n82\n00:04:12.220 --> 00:04:16.985\nAnd Cherokee's the upstream partner,\nsays yeah Adam, here are some changes,\n\n83\n00:04:16.985 --> 00:04:20.642\na basket full of changes and so\nshe pushes those changes down.\n\n84\n00:04:20.642 --> 00:04:24.436\nI pull them from her and\nthen we replicate whatever based on these\n\n85\n00:04:24.436 --> 00:04:27.389\nscheduled frequency or\nreplication frequency,\n\n86\n00:04:27.389 --> 00:04:31.700\nwhats called a pulling frequency\nis set up for that connection.\n\n87\n00:04:31.700 --> 00:04:35.400\nAnd that all works fine as long as\nthose changes have been validated,\n\n88\n00:04:35.400 --> 00:04:38.800\nthey are seen as being legitimate and\nwe are able to connect.\n\n89\n00:04:38.800 --> 00:04:40.460\nAnd obviously have a conversation.\n\n90\n00:04:40.460 --> 00:04:42.620\nAnd, that's the normal way things work.\n\n91\n00:04:42.620 --> 00:04:47.480\nBut, when we go to replicate information,\nthere could be what's called a conflict.\n\n92\n00:04:47.480 --> 00:04:51.992\nChanges may have been made and those\nchanges may be counterproductive, meaning\n\n93\n00:04:51.992 --> 00:04:56.187\ntwo domain controllers may be fighting\nover making an update to an object.\n\n94\n00:04:56.187 --> 00:04:59.963\nSimultaneously modifying the same\nattribute value of the same object on two\n\n95\n00:04:59.963 --> 00:05:02.870\ndifferent domain controls\ncan lead to a conflict.\n\n96\n00:05:02.870 --> 00:05:07.770\nSo I go in as a domain admin,\nCherokee goes in as a domain admin.\n\n97\n00:05:07.770 --> 00:05:10.280\nWe operate on two separate\ndomain controllers just\n\n98\n00:05:10.280 --> 00:05:13.590\nbased on how we're connected to\nthe management tools we're using.\n\n99\n00:05:13.590 --> 00:05:17.255\nLet's say we're using either ADAC, or\nActive Directory users in computers,\n\n100\n00:05:17.255 --> 00:05:18.522\neither one of those tools.\n\n101\n00:05:18.522 --> 00:05:20.690\nCould be using PowerShell, right?\n\n102\n00:05:20.690 --> 00:05:22.982\nCould be using the command line,\nDS add, DS mod,\n\n103\n00:05:22.982 --> 00:05:25.340\nwe talked about a lot of\ndifferent tools to do this.\n\n104\n00:05:25.340 --> 00:05:29.130\nWhatever we choose, what's your tool\nof choice, what are you gonna choose?\n\n105\n00:05:29.130 --> 00:05:29.728\n&gt;&gt; Powershell.\n\n106\n00:05:29.728 --> 00:05:30.642\n&gt;&gt; Powershell, okay.\n\n107\n00:05:30.642 --> 00:05:36.300\nI'm gonna choose DS add and\nDS modification.\n\n108\n00:05:36.300 --> 00:05:38.587\n&gt;&gt; So I\"m just like waiting for\nyou and we're like ready, set, go.\n\n109\n00:05:38.587 --> 00:05:40.006\n&gt;&gt; So we're both there typing,\n\n110\n00:05:40.006 --> 00:05:43.400\nyou're gonna beat me every time\ncuz I can't type to save my life.\n\n111\n00:05:43.400 --> 00:05:44.782\nAnd if I do,\nit's usually spelled incorrectly.\n\n112\n00:05:44.782 --> 00:05:47.701\nSo, chances are good I'll\nmodify a different object.\n\n113\n00:05:47.701 --> 00:05:50.335\n&gt;&gt; [LAUGH]\n&gt;&gt; Just because I'll spell the name wrong.\n\n114\n00:05:50.335 --> 00:05:55.035\nBut let's assume for purposes of\nconversation that we actually were able\n\n115\n00:05:55.035 --> 00:05:57.913\nto go in and\nmodify the same attribute value,\n\n116\n00:05:57.913 --> 00:06:02.713\nmeaning we both opened up a user\ncalled Meghan, her account, let's say.\n\n117\n00:06:02.713 --> 00:06:07.048\nAnd on the Meghan user account we\nwent in and went to, I don't know,\n\n118\n00:06:07.048 --> 00:06:11.844\nphone number, or address, or\ndirect report manager or email addresses,\n\n119\n00:06:11.844 --> 00:06:15.105\nall these attributes in\nthere we can modify.\n\n120\n00:06:15.105 --> 00:06:16.515\nPick one, whichever one it is,\n\n121\n00:06:16.515 --> 00:06:19.655\njust as to be the same that we\nwould both go after and modify.\n\n122\n00:06:19.655 --> 00:06:21.025\nWe're gonna change the value there.\n\n123\n00:06:21.025 --> 00:06:22.614\nMaybe if it's the phone number,\n\n124\n00:06:22.614 --> 00:06:26.547\nCherokee's going to put in what she thinks\nwill be the updated cell phone number.\n\n125\n00:06:26.547 --> 00:06:28.707\nI've been told, hey,\ngo in and modify that and\n\n126\n00:06:28.707 --> 00:06:31.357\nput it Meghan's phone number\nin extension in the office.\n\n127\n00:06:31.357 --> 00:06:34.607\nAnd in theory, we're both making\na change to the attribute value.\n\n128\n00:06:34.607 --> 00:06:37.937\nBut, we're clearly putting in very\ndifferent information, right?\n\n129\n00:06:37.937 --> 00:06:40.920\nIf we do that,\nthat can lead to a replication conflict.\n\n130\n00:06:40.920 --> 00:06:45.160\nBecause now we have essentially two pieces\nof information for the same user object,\n\n131\n00:06:45.160 --> 00:06:48.026\nfor the same attribute, but\nthe values are different and\n\n132\n00:06:48.026 --> 00:06:51.150\nthey're emanating from two\ndifferent domain controllers.\n\n133\n00:06:51.150 --> 00:06:54.060\nThey both think they actually\nare correct and right in saying, hey,\n\n134\n00:06:54.060 --> 00:06:55.827\nyou should replicate this information.\n\n135\n00:06:55.827 --> 00:06:57.365\nThat can be a problem.\n\n136\n00:06:57.365 --> 00:06:59.265\nIndeed it is a problem,\nall right, so that can happen.\n\n137\n00:06:59.265 --> 00:07:03.863\nAdding or modifying the same object on one\ndomain controller at the same time that\n\n138\n00:07:03.863 --> 00:07:07.327\nthe container object for\nthat object is deleted on another.\n\n139\n00:07:07.327 --> 00:07:08.885\nIn other words, same scenario.\n\n140\n00:07:08.885 --> 00:07:10.703\nCherokee and I go in.\n\n141\n00:07:10.703 --> 00:07:12.250\nWe're modifying objects.\n\n142\n00:07:12.250 --> 00:07:14.574\nWhatever tools we're using,\nsame set of tools, right?\n\n143\n00:07:14.574 --> 00:07:15.781\nThey'd all work.\n\n144\n00:07:15.781 --> 00:07:21.578\nAnd instead of going in and modifying the\nobject, we're gonna go in and one of us,\n\n145\n00:07:21.578 --> 00:07:25.284\nwe are modifying it but one of us will be-\n&gt;&gt; Deleting.\n\n146\n00:07:25.284 --> 00:07:26.230\n&gt;&gt; Deleting it right?\n\n147\n00:07:26.230 --> 00:07:28.440\nThe other one will be\nmaking a change to it.\n\n148\n00:07:28.440 --> 00:07:29.349\nAnd of course again,\n\n149\n00:07:29.349 --> 00:07:32.390\ntwo separate domain controllers\nboth thinking they're in the right.\n\n150\n00:07:32.390 --> 00:07:34.856\nBoth carrying out what they\nthink is a legitimate and\n\n151\n00:07:34.856 --> 00:07:38.836\nindeed is a legitimate activity, assuming\nwe have the right credentials to do so and\n\n152\n00:07:38.836 --> 00:07:40.110\nuse the right tools.\n\n153\n00:07:40.110 --> 00:07:41.102\nPerfectly fine.\n\n154\n00:07:41.102 --> 00:07:45.841\nOnly problem is, you can't both delete and\nchange by modifying an object at the same\n\n155\n00:07:45.841 --> 00:07:48.390\ntime cuz one of you has\nto go before the other.\n\n156\n00:07:48.390 --> 00:07:52.254\nAnd one of you will be carrying out an\nactivity that's essentially polar opposite\n\n157\n00:07:52.254 --> 00:07:52.929\nof the other.\n\n158\n00:07:52.929 --> 00:07:54.864\nOne of you is deleting while the other\none's trying to make a change.\n\n159\n00:07:54.864 --> 00:07:57.740\nSo that's gonna be a change\nthat doesn't involve deleting.\n\n160\n00:07:57.740 --> 00:08:00.840\nDeleting is a change,\nit's the most permanent of changes.\n\n161\n00:08:00.840 --> 00:08:02.750\nIt is a change, so just be aware of that.\n\n162\n00:08:02.750 --> 00:08:06.590\nAlso adding objects with the same,\nwhat we call relative distinguished name,\n\n163\n00:08:06.590 --> 00:08:08.850\nthe same container\n[INAUDIBLE] simultaneously.\n\n164\n00:08:08.850 --> 00:08:13.640\nThis formal description, what I mean\nI'm just playing normal languages.\n\n165\n00:08:13.640 --> 00:08:17.866\nHey, we both go to create an object\ncalled Cherokee or called Chero B or\n\n166\n00:08:17.866 --> 00:08:21.247\ncalled Adam or\nAdam G on different domain controllers.\n\n167\n00:08:21.247 --> 00:08:25.791\nSimultaneously that object is gonna\nbe called the same thing inside of\n\n168\n00:08:25.791 --> 00:08:26.646\nthe domain.\n\n169\n00:08:26.646 --> 00:08:29.841\nAnd we can't have two objects that\nexist with the same information in\n\n170\n00:08:29.841 --> 00:08:31.175\nthe same domain namespace.\n\n171\n00:08:31.175 --> 00:08:33.454\nWe know that's one of\nthe biggest problems, and\n\n172\n00:08:33.454 --> 00:08:35.186\none of the biggest no-nos, right?\n\n173\n00:08:35.186 --> 00:08:39.540\nThat's just like having two machines with\nthe same IP address and the same sub-net.\n\n174\n00:08:39.540 --> 00:08:43.440\nWe have an IP conflict, in this case\nwe have a naming context conflict.\n\n175\n00:08:43.440 --> 00:08:46.360\nCuz you can't have two users with\nthe same name, that doesn't work.\n\n176\n00:08:46.360 --> 00:08:48.000\nSo any of these activities,\n\n177\n00:08:48.000 --> 00:08:51.500\nany of these things that are going on,\ncan lead to replication conflicts.\n\n178\n00:08:51.500 --> 00:08:53.180\nWe do have to be aware of that.\n\n179\n00:08:53.180 --> 00:08:55.910\nObviously, our goal is try\nto minimize conflicts,\n\n180\n00:08:55.910 --> 00:08:59.130\ntry to prevent behavior that would lead\nto these situations in the first place.\n\n181\n00:08:59.130 --> 00:09:00.880\n&gt;&gt; Well what happens when they do?\n\n182\n00:09:00.880 --> 00:09:02.125\n&gt;&gt; But obviously if they do right,\n\n183\n00:09:02.125 --> 00:09:05.180\nthen we obviously have to make sure we\nhave a plan, a thought process in place.\n\n184\n00:09:05.180 --> 00:09:09.057\nSo, when we do any kind of\nactivity whatever it may be.\n\n185\n00:09:09.057 --> 00:09:13.341\nAll the main controllers in the forest,\nare designed to operate in such a way that\n\n186\n00:09:13.341 --> 00:09:17.499\nwe would record and replicate object\nchanges at the attribute or value level,\n\n187\n00:09:17.499 --> 00:09:20.911\nrather than at the object level,\nwhen the key is safety checks.\n\n188\n00:09:20.911 --> 00:09:24.342\nSo in other words we're not\ngonna replicate changes for\n\n189\n00:09:24.342 --> 00:09:29.410\nthe major user account if that's the\nobject we were just talking about right?\n\n190\n00:09:29.410 --> 00:09:33.046\nWe're going to replicate and deal with\nthose changes at the attribute or\n\n191\n00:09:33.046 --> 00:09:35.854\nvalue level for the object,\nnot for the object itself.\n\n192\n00:09:35.854 --> 00:09:40.452\nAnd so, as a result, we can see changes\nto two different object attributes,\n\n193\n00:09:40.452 --> 00:09:44.768\nthings like user, name, postal code,\nemail address, phone number,\n\n194\n00:09:44.768 --> 00:09:47.630\nrattled off a bunch of\nthese that we were doing.\n\n195\n00:09:47.630 --> 00:09:51.781\nWe can go in and\nactually modify multiple attributes and\n\n196\n00:09:51.781 --> 00:09:55.190\nvalues simultaneously on an object.\n\n197\n00:09:55.190 --> 00:09:59.470\nOne individual or even two different\nindividuals, operating on the same object.\n\n198\n00:09:59.470 --> 00:10:03.943\nBecause we see those as individual events,\nas opposed to, locking the object open and\n\n199\n00:10:03.943 --> 00:10:05.303\none of us making changes.\n\n200\n00:10:05.303 --> 00:10:07.800\nThe other one being locked out,\nif you think about the logic of that.\n\n201\n00:10:07.800 --> 00:10:11.580\nAnd so, this is one of the mechanisms that\nactually prevents a lot of these concerns\n\n202\n00:10:11.580 --> 00:10:12.397\nfrom happening.\n\n203\n00:10:12.397 --> 00:10:16.366\nBecause I could replicate changes to\nan individual attribute or value off.\n\n204\n00:10:16.366 --> 00:10:19.607\nWhile other changes are being\nmade in theory simultaneously,\n\n205\n00:10:19.607 --> 00:10:23.577\nas long as they don't conflict by trying\nto modify, as you said the same exact\n\n206\n00:10:23.577 --> 00:10:26.650\nvalue for the same attributes\nact the same exact instance.\n\n207\n00:10:26.650 --> 00:10:30.420\nAnd you know this is\nthe thing people often miss.\n\n208\n00:10:30.420 --> 00:10:33.130\nDon't focus on when I have\nthis conversation with them.\n\n209\n00:10:33.130 --> 00:10:37.060\nSo you mean if I go in there, and\nwithin two minutes of each other,\n\n210\n00:10:37.060 --> 00:10:38.620\nwe both do the same thing,\nthere's a problem?\n\n211\n00:10:38.620 --> 00:10:40.850\nWell, no,\nI said it the same exact instant, right?\n\n212\n00:10:40.850 --> 00:10:43.360\nHow likely is it, that both Cherokee and\n\n213\n00:10:43.360 --> 00:10:48.520\nI, distance separating us, even if we're\nsitting side by side like we are here.\n\n214\n00:10:48.520 --> 00:10:50.890\nOn the keyboard saying,\nokay, are you ready?\n\n215\n00:10:50.890 --> 00:10:54.020\nLet's both go and we're trying to\nsynchronize doing it at the same time.\n\n216\n00:10:54.020 --> 00:11:01.150\nHow likely is it, that our changes will\nhit those systems, and then move through,\n\n217\n00:11:01.150 --> 00:11:05.680\nand into the replication pathways\nat the same exact instant.\n\n218\n00:11:05.680 --> 00:11:07.640\nSo unlikely that it almost never happens.\n\n219\n00:11:07.640 --> 00:11:08.580\nLet's put it that way.\n\n220\n00:11:08.580 --> 00:11:10.860\nWe do call these distinctions out.\n\n221\n00:11:10.860 --> 00:11:13.910\nWe wanted you to be aware of the\nactivities that could lead to conflicts,\n\n222\n00:11:13.910 --> 00:11:15.420\nbecause you do need to know about them,\n\n223\n00:11:15.420 --> 00:11:19.220\nif you are asked about them as part\nof a scenario for troubleshooting.\n\n224\n00:11:19.220 --> 00:11:22.503\nYou should understand\nthe three main reasons or\n\n225\n00:11:22.503 --> 00:11:24.330\ncould see replication conflicts.\n\n226\n00:11:24.330 --> 00:11:28.510\nThey do happen on occasion, as crazy as\nit is, you do something often enough and,\n\n227\n00:11:28.510 --> 00:11:32.180\nlaw of averages says you do an activity\noften enough, at some point, right,\n\n228\n00:11:32.180 --> 00:11:37.130\nyou will find that one unlikely scenario\nwhere those activities do cross and\n\n229\n00:11:37.130 --> 00:11:37.980\ncause a conflict.\n\n230\n00:11:37.980 --> 00:11:40.290\nSo do wanna make sure we're aware of that.\n\n231\n00:11:40.290 --> 00:11:42.462\nBut it is fairly unlikely\nbecause of the structure and\n\n232\n00:11:42.462 --> 00:11:44.302\nthe timing involved\nwith that would happen.\n\n233\n00:11:44.302 --> 00:11:47.414\nBut when originating updates are applied.\n\n234\n00:11:47.414 --> 00:11:49.749\nIn other words, the Cherokee update,\n\n235\n00:11:49.749 --> 00:11:54.492\nthe Adam update both are originating\nupdates in their own way to infrastructure\n\n236\n00:11:54.492 --> 00:11:58.110\ninformation on the Meghan\naccount around our scenario.\n\n237\n00:11:58.110 --> 00:12:00.860\nWhen we apply those to\nthe domain controller.\n\n238\n00:12:00.860 --> 00:12:02.560\nWe create what's called a stamp,\n\n239\n00:12:02.560 --> 00:12:07.100\na little categorical container that\nhas information associated with it.\n\n240\n00:12:07.100 --> 00:12:09.120\nWe create a stamp that\ntravels with the update,\n\n241\n00:12:09.120 --> 00:12:12.519\nthat tells us when the update was done,\nby who, and under what circumstances.\n\n242\n00:12:12.519 --> 00:12:14.114\nIt's almost like a Visa or\n\n243\n00:12:14.114 --> 00:12:17.678\na letter of transit authorizing\nthe change to take place.\n\n244\n00:12:17.678 --> 00:12:22.731\nAnd giving us the background information,\nthat tells us the history\n\n245\n00:12:22.731 --> 00:12:29.190\nthe providence around the change to ensure\nwe understand it, to ensure contextually.\n\n246\n00:12:29.190 --> 00:12:34.428\nWithin the directory namespace, within\nthe domain and around that infrastructure\n\n247\n00:12:34.428 --> 00:12:39.310\nthat the historical information and\nvalidation is always available to us.\n\n248\n00:12:39.310 --> 00:12:40.330\nVery, very important.\n\n249\n00:12:40.330 --> 00:12:45.400\nYou have a preference or at least at some\npoint you did for these full breed and\n\n250\n00:12:45.400 --> 00:12:47.220\nbloodline dogs you were sharing with me.\n\n251\n00:12:47.220 --> 00:12:50.460\nSo when you had the one that you showed,\nshowed me a picture by the way.\n\n252\n00:12:50.460 --> 00:12:52.530\nLovely dog, really cute, very, very cool.\n\n253\n00:12:52.530 --> 00:12:54.140\nBut when you showed me that picture.\n\n254\n00:12:54.140 --> 00:12:55.195\nActually, I didn't ask you.\n\n255\n00:12:55.195 --> 00:12:56.530\nBut did you actually have the pictures?\n\n256\n00:12:56.530 --> 00:12:58.680\nI'm sorry, did you have the papers?\n\n257\n00:12:58.680 --> 00:13:00.490\nCuz you told me it was a full blooded.\n\n258\n00:13:00.490 --> 00:13:01.246\nYou said large poodle, right?\n\n259\n00:13:01.246 --> 00:13:02.230\nFull blooded large poodle.\n\n260\n00:13:02.230 --> 00:13:02.831\n&gt;&gt; Standard.\n&gt;&gt; So\n\n261\n00:13:02.831 --> 00:13:06.543\ndid you actually have the papers that\nshowed that it was pure breed and\n\n262\n00:13:06.543 --> 00:13:07.430\nall that?\n\n263\n00:13:07.430 --> 00:13:08.270\n&gt;&gt; Yes.\n\n264\n00:13:08.270 --> 00:13:11.720\nSo you'll do the same kind of thing\nwhen you buy the dog or you get the dog,\n\n265\n00:13:11.720 --> 00:13:12.830\nhowever you get it.\n\n266\n00:13:12.830 --> 00:13:16.050\nIf you get a pure breed, you usually\nget papers that attest to that, right?\n\n267\n00:13:16.050 --> 00:13:17.180\nThey show the bloodline.\n\n268\n00:13:17.180 --> 00:13:21.895\nYes, this dog comes from this\nlineage thousands of years back.\n\n269\n00:13:21.895 --> 00:13:24.350\n&gt;&gt; [LAUGH]\n&gt;&gt; The king of all poodle dogs and\n\n270\n00:13:24.350 --> 00:13:27.370\nthe queen and\nthis is the prodigy of this exchange.\n\n271\n00:13:27.370 --> 00:13:28.040\nThat kind of thing.\n\n272\n00:13:28.040 --> 00:13:31.290\nSo you wanna think about the fact\nthat the stamp essentially.\n\n273\n00:13:31.290 --> 00:13:33.110\nIs gonna go along with this and\n\n274\n00:13:33.110 --> 00:13:35.150\nit replicates to all\nthe other domain controllers.\n\n275\n00:13:35.150 --> 00:13:38.170\nAnd what the stamp contains is\nsome interesting information.\n\n276\n00:13:38.170 --> 00:13:38.796\nRight, version number.\nSo\n\n277\n00:13:38.796 --> 00:13:43.190\nit keeps track of the information\nassociated with changing versions and so\n\n278\n00:13:43.190 --> 00:13:45.992\nwe know what change it is\nin relation to others.\n\n279\n00:13:45.992 --> 00:13:49.567\nSo the version of her starts at one for\neach of those attributes and\n\n280\n00:13:49.567 --> 00:13:51.460\nincreases by one for each update.\n\n281\n00:13:51.460 --> 00:13:54.642\nSo we can tell incrementally what this\nchange was in relation to others.\n\n282\n00:13:54.642 --> 00:13:58.890\nSo we have a historical counter that\nkinda keeps track of that for us.\n\n283\n00:13:58.890 --> 00:13:59.960\nWe have a time stamp.\n\n284\n00:13:59.960 --> 00:14:01.175\nI mentioned the time\nstamp would be important.\n\n285\n00:14:01.175 --> 00:14:04.679\nWe have to know when this change was\ninitiated compared to others around it.\n\n286\n00:14:04.679 --> 00:14:09.120\nSo the stamp has a time stamp\nas well as a version number.\n\n287\n00:14:09.120 --> 00:14:10.548\nAnd also the GUID.\n\n288\n00:14:10.548 --> 00:14:12.510\nThe server GUID specifically.\n\n289\n00:14:12.510 --> 00:14:15.983\nThe server GUID identifies the domain\ncontroller that is actually responsible\n\n290\n00:14:15.983 --> 00:14:17.550\nfor the originating update.\n\n291\n00:14:17.550 --> 00:14:20.740\nSo, domain control of the Cherokee\nwould be on, in theory,\n\n292\n00:14:20.740 --> 00:14:22.860\nin our example, would have a server GUID.\n\n293\n00:14:22.860 --> 00:14:25.190\nUnique, associated with it,\nthe domain controller.\n\n294\n00:14:25.190 --> 00:14:27.480\nThe one I was on would have it's\nown GUID associated with it.\n\n295\n00:14:27.480 --> 00:14:28.800\nThey're different objects.\n\n296\n00:14:28.800 --> 00:14:32.858\nAnd the stamp would be made up of the\nversion number for the attribute update,\n\n297\n00:14:32.858 --> 00:14:35.991\nthe time it actually was put\ninto the system and took place.\n\n298\n00:14:35.991 --> 00:14:38.416\nAs well as the server originating GUID.\n\n299\n00:14:38.416 --> 00:14:42.431\nSo that we could differentiate my\nchange based on the version number,\n\n300\n00:14:42.431 --> 00:14:44.471\nbased on the time it took place, and\n\n301\n00:14:44.471 --> 00:14:48.940\nmost importantly the origination point\nto make sure I was connected to.\n\n302\n00:14:48.940 --> 00:14:52.605\nVersus the same thing for Cherokee and\nher change as we go racing down the road\n\n303\n00:14:52.605 --> 00:14:56.153\ntrying to figure out which one of us is\ngonna be able to put that change in and\n\n304\n00:14:56.153 --> 00:14:59.265\nultimately, claim that change\nas being valid and legitimate.\n\n305\n00:14:59.265 --> 00:15:03.666\nSo having said that,\nwhat we often then see is that sometimes,\n\n306\n00:15:03.666 --> 00:15:05.670\nwe bump into or run afoul of.\n\n307\n00:15:05.670 --> 00:15:09.302\nAnd I'm just bringing up a table,\nI want to show you here real quickly,\n\n308\n00:15:09.302 --> 00:15:13.075\nwe bump into and run afoul of, as we said,\nsome of these conflict issues.\n\n309\n00:15:13.075 --> 00:15:16.600\nAnd so, a common replication conflicts and\nhow they get resolved.\n\n310\n00:15:16.600 --> 00:15:19.580\nI thought it would be good just to\nput that information into a little\n\n311\n00:15:19.580 --> 00:15:20.330\nchart for you.\n\n312\n00:15:21.500 --> 00:15:24.270\nWe talked about some of the things\nthat could lead to this, atrophied\n\n313\n00:15:24.270 --> 00:15:28.870\nvalue changes, adding or moving under\na deleted container option or deletion of\n\n314\n00:15:28.870 --> 00:15:32.240\ncontainer option, and adding objects\nwith the same relative distinguished in.\n\n315\n00:15:32.240 --> 00:15:35.040\nI walked through all three of these for\nyou already, talked about them, and\n\n316\n00:15:35.040 --> 00:15:36.490\nyou know explained the logic in them.\n\n317\n00:15:36.490 --> 00:15:40.060\nBut we try to summarize a lot of these\nthings for you, put them into a table and\n\n318\n00:15:40.060 --> 00:15:41.100\nchart something.\n\n319\n00:15:41.100 --> 00:15:42.460\nBreak them out separately for you.\n\n320\n00:15:42.460 --> 00:15:44.970\nGive them to you so\nthat way when you're studying you\n\n321\n00:15:44.970 --> 00:15:47.860\nhave a nice little handy set of\nnotes that you can reference.\n\n322\n00:15:47.860 --> 00:15:51.175\nWhen you wanna go back and review you\ncan have this up and say, okay, yeah.\n\n323\n00:15:51.175 --> 00:15:53.591\nI saw this in the episode,\nthey definitely talked about this.\n\n324\n00:15:53.591 --> 00:15:54.784\nHere's a little more detail.\n\n325\n00:15:54.784 --> 00:15:57.671\nSo now I can read about it and\nkinda put it in context.\n\n326\n00:15:57.671 --> 00:15:59.383\nUnderstand it, right?\n\n327\n00:15:59.383 --> 00:16:03.272\nSo that's obviously very important just to\nmake sure you're aware of and show you,\n\n328\n00:16:03.272 --> 00:16:06.774\nand you know this way if you just want\na little primer just on this one piece you\n\n329\n00:16:06.774 --> 00:16:10.549\ncould just break this out and say, great,\nI can can go get that document right,\n\n330\n00:16:10.549 --> 00:16:12.410\nAdam surely created that table for me.\n\n331\n00:16:12.410 --> 00:16:14.690\nLet me do a look at that and\nlet me just make sure I have that.\n\n332\n00:16:14.690 --> 00:16:17.140\nRight, so, you've got that as well.\n\n333\n00:16:17.140 --> 00:16:20.130\nWe make sure those are in the show notes\nfor you and you can get a hold of those.\n\n334\n00:16:20.130 --> 00:16:23.595\nSo, do take a look, but it's the same\ninformation that we just share with you as\n\n335\n00:16:23.595 --> 00:16:26.806\nwe're talking through this,\njust making sure you know what's there and\n\n336\n00:16:26.806 --> 00:16:28.127\nthat you have a sense of this.\n\n337\n00:16:28.127 --> 00:16:30.907\nAlright, why don't we go in and\nwhy don't we do the following,\n\n338\n00:16:30.907 --> 00:16:33.122\njust bring up the console\nhere while we're here and\n\n339\n00:16:33.122 --> 00:16:35.870\nwhy don't we just go back to the Sites and\nServices tool.\n\n340\n00:16:35.870 --> 00:16:38.310\nLet's go into and let's just take a look\nat somethings we've been discussing now\n\n341\n00:16:38.310 --> 00:16:41.920\nthat we have a little bit more\nbackground about the replication,\n\n342\n00:16:41.920 --> 00:16:44.470\nwith works,\nsome of the concerns associated with it.\n\n343\n00:16:44.470 --> 00:16:46.900\nSomebody whose refers go and\ntake a look at the console.\n\n344\n00:16:46.900 --> 00:16:50.340\nSo we're back in Sites and\nServices tools as you can see.\n\n345\n00:16:50.340 --> 00:16:53.000\nHasn't changed from the last\nepisode where we had it opened.\n\n346\n00:16:53.000 --> 00:16:56.447\nThe only thing that's different is I\njust went down one level under the site,\n\n347\n00:16:56.447 --> 00:16:57.945\ndefault first site, name site.\n\n348\n00:16:57.945 --> 00:17:02.701\nOpened up the server's folder,\nwent into one of the domain controllers,\n\n349\n00:17:02.701 --> 00:17:07.758\ncould go to each one, doesn't matter,\nopened it up saw the NTDS settings, and\n\n350\n00:17:07.758 --> 00:17:12.967\njust expounded or expanded on rather what\nwas on the right, just dragged it a lot so\n\n351\n00:17:12.967 --> 00:17:17.802\nyou could actually see what's there\nwhich is that automatically generated\n\n352\n00:17:17.802 --> 00:17:23.543\nconnection, from PLABDC01, from a PLABDM01\nrather, to PLABDC01 meaning the KCC\n\n353\n00:17:23.543 --> 00:17:28.951\nhas created this replication connection\nbetween these two replication partners.\n\n354\n00:17:28.951 --> 00:17:33.055\nAnd it originates the upstream\nserver would be the PLABDM01 and\n\n355\n00:17:33.055 --> 00:17:37.603\nthe PLABDC01 in this case I'm looking\nat this side of the connection,\n\n356\n00:17:37.603 --> 00:17:40.950\nright, is where we are at\nthe downstream side.\n\n357\n00:17:40.950 --> 00:17:43.450\nNotice from site default,\nfirst site, name site.\n\n358\n00:17:43.450 --> 00:17:45.150\nBecause I have not renamed the site yet.\n\n359\n00:17:45.150 --> 00:17:47.750\nWe'll go and\ntake a look at how to do that right now.\n\n360\n00:17:47.750 --> 00:17:49.500\nAnd the type connection, right?\n\n361\n00:17:49.500 --> 00:17:52.350\nSo if i wanna rename the site,\nlet's just start with that.\n\n362\n00:17:52.350 --> 00:17:56.200\nRight click and\nyou'll see right here, Rename.\n\n363\n00:17:56.200 --> 00:17:58.800\nSo if I wanna change that site name,\n\n364\n00:17:58.800 --> 00:18:01.810\ninstead of calling it\ndefault-first-site-name.\n\n365\n00:18:01.810 --> 00:18:07.698\nI wanna call it, let's see, core PHQ,\njust hit Enter, rename that site,\n\n366\n00:18:07.698 --> 00:18:12.206\nall it is is a descriptive\nmetadata tag on the site object so\n\n367\n00:18:12.206 --> 00:18:14.720\nit's very easy to rename.\n\n368\n00:18:14.720 --> 00:18:16.930\nOpen that back up,\nlet's go back here to PLABDC01.\n\n369\n00:18:16.930 --> 00:18:21.710\nLet's go back to NTDS settings, and\nyou'll see that when I do that from site\n\n370\n00:18:21.710 --> 00:18:24.622\nit's just renamed and\ntaken the site label and\n\n371\n00:18:24.622 --> 00:18:29.494\nupdated it automatically on that\nconnector, you see it updates right away.\n\n372\n00:18:29.494 --> 00:18:34.236\nIf we go to PLABDM01 or other domain\ncontroller, click NTDS settings,\n\n373\n00:18:34.236 --> 00:18:38.720\nyou'll see that this connection\nemanating from DC01.\n\n374\n00:18:38.720 --> 00:18:43.340\nBut it is the same, and the core PHQ site\ndesignation has been rendered there.\n\n375\n00:18:43.340 --> 00:18:45.910\nSo, renaming automatically\nupdates all the information.\n\n376\n00:18:45.910 --> 00:18:47.090\nThat's all, I'm simply trying to show you.\n\n377\n00:18:47.090 --> 00:18:47.890\nVery simple.\n\n378\n00:18:47.890 --> 00:18:49.020\nVery easy to see.\n\n379\n00:18:49.020 --> 00:18:53.700\nNow, in the core PHQ, or what used\nto be default-first-site-name site.\n\n380\n00:18:53.700 --> 00:18:59.320\nWe do have two domain controllers,\nand each one, as you saw, does have.\n\n381\n00:18:59.320 --> 00:19:00.510\nLet's just move this over.\n\n382\n00:19:05.210 --> 00:19:05.740\nThere we go.\nAll right.\n\n383\n00:19:08.390 --> 00:19:12.120\nAnd each one does have at the domain\ncontroller object level NTDS\n\n384\n00:19:12.120 --> 00:19:15.090\nsettings which you saw just\nclick on right down below and\n\n385\n00:19:15.090 --> 00:19:18.760\nwe have as you can see a DNS\nsettings item here as well.\n\n386\n00:19:18.760 --> 00:19:22.818\nBecause these are domain\ncontrollers that are also comeback.\n\n387\n00:19:22.818 --> 00:19:24.250\n&gt;&gt; DNS servers.\n\n388\n00:19:24.250 --> 00:19:26.245\n&gt;&gt; Because yes, they are also DNS servers.\n\n389\n00:19:26.245 --> 00:19:26.889\n&gt;&gt; [LAUGH]\n&gt;&gt; And we see\n\n390\n00:19:26.889 --> 00:19:28.903\nthat they're\nCS Active Directory-integrated DNS,\n\n391\n00:19:28.903 --> 00:19:31.497\nbut they also what I was looking for\nwas Global Catalog Groups as well.\n\n392\n00:19:31.497 --> 00:19:33.280\n&gt;&gt; Okay.\n&gt;&gt; So you've got all this information\n\n393\n00:19:33.280 --> 00:19:34.730\ncomes swirling around in here.\n\n394\n00:19:34.730 --> 00:19:38.230\nAnd the DNS settings, let's just take\na look at this while we're here.\n\n395\n00:19:39.330 --> 00:19:42.230\nProperties, you'll see there's\nreally not much to this,\n\n396\n00:19:42.230 --> 00:19:43.360\nnothing we can really modify.\n\n397\n00:19:43.360 --> 00:19:45.080\nWe can delete it,\nwe wouldn't wanna do that.\n\n398\n00:19:45.080 --> 00:19:47.950\nBut, what we're seeing is\nthat this information,\n\n399\n00:19:47.950 --> 00:19:52.100\nthe canonical name of the object, gives us\ninformation about the fact that this is\n\n400\n00:19:52.100 --> 00:19:55.790\nActive Directory-integrated DNS,\none was created and one was modified.\n\n401\n00:19:55.790 --> 00:19:59.330\nThe update sequence number,\nremember we talked about that unique\n\n402\n00:19:59.330 --> 00:20:02.650\nnumber that gets created every\ntime we do an update, right.\n\n403\n00:20:02.650 --> 00:20:06.150\nSo this is that tracking number\nthat we were talking about.\n\n404\n00:20:06.150 --> 00:20:08.950\nPrevent object or protect objects for\nbeing accidentally deleted.\n\n405\n00:20:08.950 --> 00:20:12.962\nWe've talked about accidental deletion\nbefore, and the fact that we can go in and\n\n406\n00:20:12.962 --> 00:20:16.200\nthat we see or use for\ninstance are automatically protected.\n\n407\n00:20:16.200 --> 00:20:20.473\nIn the act you have to use your computer\ninterface in Server 16 from accidental\n\n408\n00:20:20.473 --> 00:20:22.145\ndeletion, that's enabled.\n\n409\n00:20:22.145 --> 00:20:24.090\nYou have to go turn that off,\nyou don't need that.\n\n410\n00:20:24.090 --> 00:20:26.410\nYou have to actually use your\ncomputer tool if you wanna for\n\n411\n00:20:26.410 --> 00:20:30.390\nsome odd reason delete it, cuz when I did\nthe demo I showed you, right click delete.\n\n412\n00:20:30.390 --> 00:20:33.120\nIt looks like you're gonna be able to\ndelete it but in the end it comes up with\n\n413\n00:20:33.120 --> 00:20:37.270\ngoes, sorry, prevented from doing so\nbecause of accidental deletion protection.\n\n414\n00:20:37.270 --> 00:20:39.790\nAnd so we do have the capability\nto apply that here.\n\n415\n00:20:39.790 --> 00:20:41.010\nWe do have security.\n\n416\n00:20:41.010 --> 00:20:45.610\nWe always have a security tab and access\ncontrol list, access control entries,\n\n417\n00:20:45.610 --> 00:20:49.200\nwho gets access to this, under what\nconditions, any authenticated user.\n\n418\n00:20:49.200 --> 00:20:52.280\nGroup member can read,\nas you can see here for instance.\n\n419\n00:20:52.280 --> 00:20:55.150\nThere are some sort of special\npermissions that we'd have to delve into\n\n420\n00:20:55.150 --> 00:20:58.850\nhere in the advanced there to see\nmore about, whereas domain admins,\n\n421\n00:20:58.850 --> 00:21:01.590\nyou'll see, have full control read write.\n\n422\n00:21:01.590 --> 00:21:05.540\nAnd Enterprise admins have\nfull control read write.\n\n423\n00:21:05.540 --> 00:21:07.600\nSo you see we have different permissions.\n\n424\n00:21:07.600 --> 00:21:12.230\nAnd then the Attribute editor let's\nus delve into and see attributes.\n\n425\n00:21:12.230 --> 00:21:17.560\nYou'll see we can go in and we can modify\nand edit certain attributes so we can\n\n426\n00:21:17.560 --> 00:21:21.700\nfilter the list and we may look at certain\nattributes on an object, because we\n\n427\n00:21:21.700 --> 00:21:25.980\nwanna see what their set at and we can go\nin and see them and we can see that here.\n\n428\n00:21:25.980 --> 00:21:30.660\nAny object in here actually will show you\nthose kinds of pieces of information,\n\n429\n00:21:30.660 --> 00:21:35.460\nwhen we look at NTDS settings, see we do\nhave some slightly different capabilities.\n\n430\n00:21:35.460 --> 00:21:38.570\nWe can replicate configuration\nfrom the selected DC.\n\n431\n00:21:38.570 --> 00:21:41.650\nRemember we can move information\nbetween the main controls, right?\n\n432\n00:21:41.650 --> 00:21:45.000\nSo this is what this connection and\nset of settings implies.\n\n433\n00:21:45.000 --> 00:21:48.870\nReplicate configuration two so if we\nmake a change to the configuration on\n\n434\n00:21:48.870 --> 00:21:52.620\none side of this connection,\nwe can replicate it through the other.\n\n435\n00:21:52.620 --> 00:21:55.750\nThis will be replicate now\nas opposed to waiting for\n\n436\n00:21:55.750 --> 00:21:57.440\nthe topology to catch up with us.\n\n437\n00:21:57.440 --> 00:22:00.890\nWe create a new ADDS Services connection.\n\n438\n00:22:00.890 --> 00:22:03.490\nSo we create a new service\nconnection of some kind.\n\n439\n00:22:03.490 --> 00:22:06.970\nWe can go in, new connection, all tasks,\n\n440\n00:22:06.970 --> 00:22:10.685\nessentially just all the other things, but\nin addition check replication topology.\n\n441\n00:22:12.270 --> 00:22:14.830\nWe can go in and\ncheck replication topology.\n\n442\n00:22:14.830 --> 00:22:16.690\nSay hey, look, it's been checked.\n\n443\n00:22:16.690 --> 00:22:20.360\nYou will need to refresh the site\ncontainer to see any new or\n\n444\n00:22:20.360 --> 00:22:21.722\ndeleted connections.\n\n445\n00:22:21.722 --> 00:22:24.590\nNothing's gonna change because I got\ntwo domain controllers on one side\n\n446\n00:22:24.590 --> 00:22:28.490\nhaven't modified them but\nin a large topology with multiple sites\n\n447\n00:22:28.490 --> 00:22:32.630\nmultiple connections if I'd make\nchanges and they weren't showing up or\n\n448\n00:22:32.630 --> 00:22:35.790\nslow to replicate back and\nshow up in the console here.\n\n449\n00:22:35.790 --> 00:22:39.570\nChecking this and then refreshing would\ngive me hopefully assuming everything was\n\n450\n00:22:39.570 --> 00:22:43.134\ndone the right way, we'll then actually\nupdate and show me new connections or\n\n451\n00:22:43.134 --> 00:22:44.840\nmodified connections.\n\n452\n00:22:44.840 --> 00:22:49.520\nSo we could force a check on\nthe replication and the consistency and\n\n453\n00:22:49.520 --> 00:22:51.550\nall of that information right from here.\n\n454\n00:22:51.550 --> 00:22:55.660\nWe can of course delete and refresh so\nwe could go to Properties and\n\n455\n00:22:55.660 --> 00:22:59.970\nof the NTDS settings themselves\nI can see information.\n\n456\n00:22:59.970 --> 00:23:03.050\nIt is a global catalog server,\nthat is where we're gonna set\n\n457\n00:23:03.050 --> 00:23:07.370\nthe global catalog server settings for the\ndomain controller in the NTDS settings.\n\n458\n00:23:07.370 --> 00:23:08.980\n&gt;&gt; Okay.\n&gt;&gt; I mentioned in prior episodes that if\n\n459\n00:23:08.980 --> 00:23:13.805\nwe wanted to remove the global catalog\nsetting or the designations in global\n\n460\n00:23:13.805 --> 00:23:18.060\ncatalog server from the domain controller,\nthis would be the place to come and do it.\n\n461\n00:23:18.060 --> 00:23:22.900\nWe get the ability when we run the ADDS\nconfiguration wizard in the server manager\n\n462\n00:23:22.900 --> 00:23:27.050\nor through the command line, not command\nline rather, through PowerShell.\n\n463\n00:23:27.050 --> 00:23:31.496\nWe've done it in several different ways\nand demonstrations for you, now we do have\n\n464\n00:23:31.496 --> 00:23:35.688\nthe option either in the GUI to check or\nuncheck global catalog in PowerShell to\n\n465\n00:23:35.688 --> 00:23:39.880\nspecify that we do it on what the Google\ncatalog as part of the installation when\n\n466\n00:23:39.880 --> 00:23:43.602\nwe do install ADDS domain controller\nas the PowerShell commandlet.\n\n467\n00:23:43.602 --> 00:23:44.685\nWe have the option as one of\n\n468\n00:23:44.685 --> 00:23:47.050\nthe parameters to specify\nGoogle catalog server.\n\n469\n00:23:47.050 --> 00:23:48.920\nSo we can do this several different ways.\n\n470\n00:23:48.920 --> 00:23:52.232\nBut this is another way to go in and\ndo that.\n\n471\n00:23:52.232 --> 00:23:55.462\nWe do see the connections replicate from,\nreplicate to.\n\n472\n00:23:55.462 --> 00:23:57.863\nSo upstream, downstream, the direction.\n\n473\n00:23:57.863 --> 00:24:02.455\nWe see the object tab again which gives\nus the canonical name the information\n\n474\n00:24:02.455 --> 00:24:04.321\nthe update sequence number and\n\n475\n00:24:04.321 --> 00:24:07.850\nprotect object from accidental\ndeletion option as well.\n\n476\n00:24:07.850 --> 00:24:11.800\nRight you'll see the original number when\nit was created and the current number is\n\n477\n00:24:11.800 --> 00:24:16.370\nmuch larger meaning there have been some\nsort of changes or updates so we see that.\n\n478\n00:24:16.370 --> 00:24:20.881\nSecurity just like we saw before and again\nthe attribute editor tab to go in and\n\n479\n00:24:20.881 --> 00:24:21.980\nsee attributes.\n\n480\n00:24:21.980 --> 00:24:25.470\nAnd so in theory, just hypothetical,\nlet's say I wanted to go in and\n\n481\n00:24:25.470 --> 00:24:28.220\nI wanted to go to Description, an\nattribute that's not currently populated.\n\n482\n00:24:28.220 --> 00:24:30.230\nThis is not set, right,\nthere's nothing there.\n\n483\n00:24:30.230 --> 00:24:33.180\nSo if I wanted to maybe go in and\nput something in there, just click Edit.\n\n484\n00:24:33.180 --> 00:24:35.320\nYou'll see I can go ahead and\n\n485\n00:24:35.320 --> 00:24:39.120\nadd a value in here, and I can add a\ndescription, right, whatever that may be.\n\n486\n00:24:39.120 --> 00:24:41.830\nSo let's do hello world.\n\n487\n00:24:43.700 --> 00:24:44.570\nOkay, add that in.\n\n488\n00:24:46.070 --> 00:24:47.070\nClick OK.\n\n489\n00:24:47.070 --> 00:24:50.095\nAnd now the value for description\nwill be well whatever I typed in,\n\n490\n00:24:50.095 --> 00:24:53.490\nhello world, instead of not\nset since we know the value.\n\n491\n00:24:53.490 --> 00:24:57.330\nSo the attribute editing tab let's\nme literally like it implies edit\n\n492\n00:24:57.330 --> 00:25:01.630\nthe attribute, so I an go in and\nadd a value to, called description.\n\n493\n00:25:01.630 --> 00:25:02.490\nIf I choose it.\n\n494\n00:25:02.490 --> 00:25:06.055\nNow, we don't recommend you normally go\nin and do stuff like these by the way.\n\n495\n00:25:06.055 --> 00:25:06.910\n[LAUGH] You wouldn't for\n\n496\n00:25:06.910 --> 00:25:10.650\ninstance wanna go in and mess around with\nsomething like the distinguish game.\n\n497\n00:25:10.650 --> 00:25:15.170\nAnd notice, when I go to this one, I\ndon't have an edit option anymore, right?\n\n498\n00:25:15.170 --> 00:25:18.530\nInstead I have view because you're not\nallowed to make changes to this because we\n\n499\n00:25:18.530 --> 00:25:21.560\ndon't control this information directly.\n\n500\n00:25:21.560 --> 00:25:24.220\nThis is how we actually\nreference this object.\n\n501\n00:25:24.220 --> 00:25:26.590\nYou go in and\nmess around with the distinguished name,\n\n502\n00:25:26.590 --> 00:25:29.880\nthat object disappears and\nis no longer available to you, because\n\n503\n00:25:29.880 --> 00:25:33.810\nyou've suddenly taken something called\nlemonade, and you've called it Coca-Cola.\n\n504\n00:25:33.810 --> 00:25:36.800\nAnd we have no idea what that is,\nand you've essentially ruined it.\n\n505\n00:25:36.800 --> 00:25:41.790\nAnd so, because of that, we actually\nblock you on the attribute editor tab\n\n506\n00:25:41.790 --> 00:25:44.850\nfrom editing system controlled\nattributes that could\n\n507\n00:25:44.850 --> 00:25:47.930\nblow this object out of the water and\nprevent it from being used.\n\n508\n00:25:47.930 --> 00:25:50.530\nWe can view them, there's nothing\nwrong with going in and viewing.\n\n509\n00:25:50.530 --> 00:25:53.920\nBut, we're not going to be able,\nas you can see here, to make a change.\n\n510\n00:25:53.920 --> 00:25:54.710\nRight?\n\n511\n00:25:54.710 --> 00:25:55.998\nRead only, in other words, or\n\n512\n00:25:55.998 --> 00:25:58.530\nwindow shopping,\nhow ever you would prefer to do that.\n\n513\n00:25:58.530 --> 00:25:59.370\nBut, as you saw,\n\n514\n00:25:59.370 --> 00:26:03.550\nthere are certain attributes\nwithout values that I can modify.\n\n515\n00:26:03.550 --> 00:26:08.265\nThe ones that I've, value set,\nlike the description, where I said,\n\n516\n00:26:08.265 --> 00:26:09.770\nhello world, right?\n\n517\n00:26:09.770 --> 00:26:10.740\nSo I can do that.\n\n518\n00:26:10.740 --> 00:26:12.790\nSo if we wanna do that,\nwe can go ahead and do that.\n\n519\n00:26:12.790 --> 00:26:14.960\nIf you don't wanna keep the change,\nvery simple.\n\n520\n00:26:14.960 --> 00:26:17.770\nJust cancel out of it and\nit's like the change never existed.\n\n521\n00:26:17.770 --> 00:26:19.080\nSo we can go in and see those.\n\n522\n00:26:19.080 --> 00:26:21.480\nWe are in the NTDF settings.\n\n523\n00:26:21.480 --> 00:26:23.310\nLet's go in here as well.\n\n524\n00:26:23.310 --> 00:26:28.090\nLet's take a look at the automatically\ngenerated replication connection\n\n525\n00:26:28.090 --> 00:26:32.780\nbetween these two partners, so\nthe connector itself, right-click.\n\n526\n00:26:32.780 --> 00:26:37.100\nWe do have the ability to force\nmanual replication, replicate now.\n\n527\n00:26:37.100 --> 00:26:41.430\nIf we think we have changes that are not\nshowing up, maybe we're testing something,\n\n528\n00:26:41.430 --> 00:26:43.610\nfor whatever reason,\nwe feel we're out of sync.\n\n529\n00:26:43.610 --> 00:26:44.480\nWe can always go in and\n\n530\n00:26:44.480 --> 00:26:49.110\nforce a replications by right-clicking\ndoing manual or replicate now activities.\n\n531\n00:26:49.110 --> 00:26:51.410\nSo, we do have that\ncapability as you can see.\n\n532\n00:26:51.410 --> 00:26:54.860\nWe can delete even though this\nis automatically generated,\n\n533\n00:26:54.860 --> 00:26:57.060\nwe could delete it if we\nfeel there's a problem.\n\n534\n00:26:57.060 --> 00:26:58.390\nWe can rename.\n\n535\n00:26:58.390 --> 00:26:59.620\nAgain, not recommended to.\n\n536\n00:26:59.620 --> 00:27:03.710\nBut if you want to rename something\nthat is called automatically\n\n537\n00:27:03.710 --> 00:27:06.060\ngenerated into just bridge head connector.\n\n538\n00:27:06.060 --> 00:27:07.730\nYou wouldn't call it that\nbecause it's not a bridge head.\n\n539\n00:27:07.730 --> 00:27:09.560\nBut whatever you want to call it.\n\n540\n00:27:09.560 --> 00:27:11.980\nMaybe it's just connection one.\n\n541\n00:27:11.980 --> 00:27:14.880\nOr connection to domain controler x.\n\n542\n00:27:14.880 --> 00:27:17.030\nJust, so from a management perspective,\n\n543\n00:27:17.030 --> 00:27:19.860\nit's easier to understand what it is when\nyou look at it, feel free to rename it.\n\n544\n00:27:19.860 --> 00:27:22.660\nIt's metadata,\nit's just describing the connection,\n\n545\n00:27:22.660 --> 00:27:26.260\nit doesn't impact the ability of\nthe KCC to work with it in any way.\n\n546\n00:27:26.260 --> 00:27:29.770\nIt just makes it prettier and easier for\nyou to read, and if that's important to\n\n547\n00:27:29.770 --> 00:27:32.808\nyou, then that's what you should do,\nso feel free to rename it, right?\n\n548\n00:27:32.808 --> 00:27:36.440\nAll right so, properties,\nwhen we go in and I see- I talked about\n\n549\n00:27:36.440 --> 00:27:39.650\ncontrolling the schedule and\navailability of these connectors.\n\n550\n00:27:39.650 --> 00:27:42.920\nHow often the polling takes place, and\nthat you don't want to mess with this.\n\n551\n00:27:42.920 --> 00:27:44.340\nBut we do have options.\n\n552\n00:27:44.340 --> 00:27:47.200\nSo you'll see we can put in inscription,\nchange schedule.\n\n553\n00:27:47.200 --> 00:27:49.090\nWe'll go in and\ntake a look at in just a minute.\n\n554\n00:27:49.090 --> 00:27:50.710\nReplicate From Plaid DM01.\n\n555\n00:27:50.710 --> 00:27:53.200\nWe're on DC01 right now.\n\n556\n00:27:53.200 --> 00:27:54.480\nReplicate from there.\n\n557\n00:27:55.600 --> 00:27:58.030\nWhat site are we a member of,\nwe updated the site name,\n\n558\n00:27:58.030 --> 00:28:00.520\ncorphq automatically changes.\n\n559\n00:28:00.520 --> 00:28:03.400\nAnd, then we have some\nadditional information here.\n\n560\n00:28:03.400 --> 00:28:06.390\nWe could change where we're replicating\nfrom, if wanna redirect this direct this\n\n561\n00:28:06.390 --> 00:28:09.880\nconnector to another domain controller,\nwe can do that.\n\n562\n00:28:09.880 --> 00:28:12.420\nWe already have objects currently\nattribute tab we've explained those,\n\n563\n00:28:12.420 --> 00:28:14.150\nyou guys have a sense of that now.\n\n564\n00:28:14.150 --> 00:28:15.140\nLet's look at change schedule.\n\n565\n00:28:16.600 --> 00:28:19.340\nSo we go in- we get a pretty\nstandard schedule template.\n\n566\n00:28:19.340 --> 00:28:23.290\nIf you've seen any of the items\nin the active directories for\n\n567\n00:28:23.290 --> 00:28:24.990\ncomputer interface where you go in.\n\n568\n00:28:24.990 --> 00:28:27.680\nYou'll make accounts available for\nperiods of time, things like that.\n\n569\n00:28:27.680 --> 00:28:29.140\nYou have the same interface.\n\n570\n00:28:29.140 --> 00:28:31.090\nIt's been there all the way back to NT 4.\n\n571\n00:28:31.090 --> 00:28:32.040\nIt hasn't really changed.\n\n572\n00:28:32.040 --> 00:28:36.420\nIt's that same kind of bright\nblue interface that we often see.\n\n573\n00:28:36.420 --> 00:28:38.735\nI think the only thing different\nare the little icons here for\n\n574\n00:28:38.735 --> 00:28:39.744\nthe moon and the sun.\n\n575\n00:28:39.744 --> 00:28:41.144\nRight?\nThose are not always there but\n\n576\n00:28:41.144 --> 00:28:43.042\nother then that, it's always the same.\n\n577\n00:28:43.042 --> 00:28:46.805\nSo, you can see Monday through Sunday, 24\nhours, seven days a week, kind of thing.\n\n578\n00:28:46.805 --> 00:28:49.755\nNotice, by default,\nthe polling frequency once per hour.\n\n579\n00:28:49.755 --> 00:28:53.945\nRemember I said the KCC checks once\nevery 15 minutes by default to\n\n580\n00:28:53.945 --> 00:28:58.860\nverify the integrity of those connections\nand the integrity of the topology.\n\n581\n00:28:58.860 --> 00:29:00.010\nReplication itself.\n\n582\n00:29:00.010 --> 00:29:01.260\nThe polling frequency for\n\n583\n00:29:01.260 --> 00:29:06.120\npolling information from our upstream\npartner is gonna be once an hour.\n\n584\n00:29:06.120 --> 00:29:07.790\nAgain, we could modify that.\n\n585\n00:29:07.790 --> 00:29:11.840\nI said you could go out twice per hour,\nfour times per hour, so you\n\n586\n00:29:11.840 --> 00:29:16.040\ncan make changes here, but I recommended\nthat you don't mess around with this.\n\n587\n00:29:16.040 --> 00:29:19.950\nYou leave it at the default unless you\nhave bandwidth management considerations\n\n588\n00:29:19.950 --> 00:29:25.850\nor frequency of update changes showing up\nconcerns, meaning you need stuff to show\n\n589\n00:29:25.850 --> 00:29:29.560\nup much quicker than once an hour because\nit's slowing down business processes.\n\n590\n00:29:29.560 --> 00:29:32.710\nAnd then you really have to think\nabout and understand the implications,\n\n591\n00:29:32.710 --> 00:29:34.960\nas I suggested,\nto the changes you're making.\n\n592\n00:29:34.960 --> 00:29:36.380\nBut you do have an option to change it.\n\n593\n00:29:36.380 --> 00:29:38.623\nSo it's a strong encouragement not to, but\n\n594\n00:29:38.623 --> 00:29:43.380\nit's not an if you do it things are going\nto go horribly wrong kind of a scenario.\n\n595\n00:29:43.380 --> 00:29:45.450\nBut caveat emptor, right?\n\n596\n00:29:45.450 --> 00:29:49.880\nBuyer beware, educated buyers make\nbetter decisions, as we would say.\n\n597\n00:29:49.880 --> 00:29:52.950\nAnd that's important just for\nyou to think about, yes.\n\n598\n00:29:52.950 --> 00:29:55.870\n&gt;&gt; And you also just showed\nus an option to go ahead and\n\n599\n00:29:55.870 --> 00:29:59.166\nforce that if you needed to on a per-\n&gt;&gt; Just manual, just right-click and\n\n600\n00:29:59.166 --> 00:30:01.330\nreplicate now, just a manual replication.\n\n601\n00:30:01.330 --> 00:30:04.485\nBut the thing is you might not want\nto go in there five times a day.\n\n602\n00:30:04.485 --> 00:30:06.740\nRight-click, replicate now,\nbecause something is not showing up.\n\n603\n00:30:06.740 --> 00:30:08.498\n&gt;&gt; Sure.\n&gt;&gt; So there are compelling reasons why\n\n604\n00:30:08.498 --> 00:30:12.150\nyou may change this cycle to to have\nit be a little bit more aggressive.\n\n605\n00:30:12.150 --> 00:30:14.460\nBut as we talked about,\nI just want to point out the pros and\n\n606\n00:30:14.460 --> 00:30:16.860\ncons of these activities\nin the real world.\n\n607\n00:30:16.860 --> 00:30:21.780\nAlso from a troubleshooting perspective,\nscenario wise, perhaps on an exam.\n\n608\n00:30:21.780 --> 00:30:24.150\nHey, we're facing this or that issue.\n\n609\n00:30:24.150 --> 00:30:27.990\nDo we have an option to modify this or\nthat to affect this?\n\n610\n00:30:27.990 --> 00:30:30.570\nCan we replicate more aggressively\nto get this change to show up?\n\n611\n00:30:30.570 --> 00:30:34.750\nShould we replicate less aggressively\nto offset concerns that we're seeing?\n\n612\n00:30:34.750 --> 00:30:37.600\nYou could see troubleshooting\nanother side of that divide and\n\n613\n00:30:37.600 --> 00:30:40.775\nknowing the defaults and understanding\nthey've been modified by looking at\n\n614\n00:30:40.775 --> 00:30:45.010\nan interface is a very important skill for\nyou as you look to prepare for the exam.\n\n615\n00:30:45.010 --> 00:30:47.870\nBecause you should know whether\nyou're looking at a setting that\n\n616\n00:30:47.870 --> 00:30:50.450\nis the default or\nthat it has been modified.\n\n617\n00:30:50.450 --> 00:30:52.380\nAnd if so, maybe that's the problem.\n\n618\n00:30:52.380 --> 00:30:53.810\nMaybe that's the exact\nthing you've gotta go fix,\n\n619\n00:30:53.810 --> 00:30:56.820\nbecause somebody messed with the default,\nand if you were to put it back,\n\n620\n00:30:56.820 --> 00:30:59.340\nit would actually work the right way.\n\n621\n00:30:59.340 --> 00:31:00.870\nRemember mommy always\nsaid don't touch that,\n\n622\n00:31:00.870 --> 00:31:02.890\nand you're like,\nI can touch whatever I want.\n\n623\n00:31:02.890 --> 00:31:04.320\nAnd then inevitably you break something.\n\n624\n00:31:04.320 --> 00:31:06.620\nYou're like, if I only had\na sibling to blame it on, right?\n\n625\n00:31:06.620 --> 00:31:07.280\n&gt;&gt; Right.\n[LAUGH]\n\n626\n00:31:07.280 --> 00:31:08.930\n&gt;&gt; So luckily I do,\n\n627\n00:31:08.930 --> 00:31:11.010\nand I would always blame\nmy younger brother.\n\n628\n00:31:11.010 --> 00:31:13.210\n&gt;&gt; I have a sibling,\nI have a younger sister, yep.\n\n629\n00:31:13.210 --> 00:31:15.530\n[LAUGH]\n&gt;&gt; I would just blame him or blame her.\n\n630\n00:31:15.530 --> 00:31:17.240\nRight, it was never my fault.\n\n631\n00:31:17.240 --> 00:31:18.700\n&gt;&gt; That's right, all right.\n\n632\n00:31:18.700 --> 00:31:19.905\n&gt;&gt; I'm the golden child who says so.\n\n633\n00:31:19.905 --> 00:31:22.295\n&gt;&gt; [LAUGH] We've covered\na lot in this episode so far,\n\n634\n00:31:22.295 --> 00:31:27.270\nAdam I mean we've even looked at conflict\nresolution from a replication standpoint.\n\n635\n00:31:27.270 --> 00:31:28.790\nSo that's a new one there as well.\n\n636\n00:31:28.790 --> 00:31:30.650\n&gt;&gt; Little replication counselling.\n\n637\n00:31:30.650 --> 00:31:32.118\n&gt;&gt; Yeah.\n[LAUGH]\n\n638\n00:31:32.118 --> 00:31:33.778\n&gt;&gt; Relationship counseling.\n\n639\n00:31:33.778 --> 00:31:36.690\n&gt;&gt; [LAUGH] So yeah, and\nthat's gonna be in the next episode so\n\n640\n00:31:36.690 --> 00:31:38.100\nmake sure you stay tuned for that.\n\n641\n00:31:38.100 --> 00:31:39.100\nNo, just kidding.\n\n642\n00:31:39.100 --> 00:31:41.800\nBut we are gonna have some really\ngreat information for you, so\n\n643\n00:31:41.800 --> 00:31:43.590\nmake sure you don't miss out on that.\n\n644\n00:31:43.590 --> 00:31:46.240\nBut for this show,\nwe are out of time so we'll sign out.\n\n645\n00:31:46.240 --> 00:31:47.800\nI've been your host Cherokee Boose.\n\n646\n00:31:47.800 --> 00:31:48.550\n&gt;&gt; I'm Adam Gordon.\n\n647\n00:31:48.550 --> 00:31:50.471\n&gt;&gt; See you next time here at ITProTV.\n\n648\n00:31:50.471 --> 00:31:54.540\n[MUSIC]\n\n649\n00:31:54.540 --> 00:32:01.214\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229702987"
        },
        {
          "description": "In this episode, Cherokee and Adam continue exploring AD DS sites and replication. First Adam explains how Distributed File System (DFS) replaced File Replication Service (FRS) and how one can force a migration OS version contingent. Next, Adam explains what a site link is  as well as demonstrating the process creating and configuring one. The repadmin tool, dcdiag.exe tool and sitelink bridging are also explained.",
          "length": "3138",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-4-ad_ds_sites_and_replication_pt4-081217-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-4-ad_ds_sites_and_replication_pt4-081217-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-4-1-4-ad_ds_sites_and_replication_pt4-081217-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "AD DS Site and Replication Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:00.688\nWelcome to ITProTV.\n\n2\n00:00:00.688 --> 00:00:01.873\nI'm your host Don Pezet.\n\n3\n00:00:01.873 --> 00:00:06.740\n[CROSSTALK]\n\n4\n00:00:06.740 --> 00:00:08.269\n[MUSIC]\n\n5\n00:00:08.269 --> 00:00:13.062\n&gt;&gt; You're watching ITPro.TV\n&gt;&gt; Welcome to your Identity\n\n6\n00:00:13.062 --> 00:00:14.977\nwith Windows Server 2016 series.\n\n7\n00:00:14.977 --> 00:00:17.630\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.630 --> 00:00:22.750\nIn this episode, we'll continue taking\na look at AD DS sites and replication.\n\n9\n00:00:22.750 --> 00:00:25.870\nAnd I think we may even have\na little bit of a demonstration, and\n\n10\n00:00:25.870 --> 00:00:28.330\nsome SYSVOL information headed your way,\n\n11\n00:00:28.330 --> 00:00:32.550\nbrought to you by none other than\nMicrosoft expert Mr. Adam Gordon.\n\n12\n00:00:32.550 --> 00:00:33.540\nHow's it going today, Adam?\n\n13\n00:00:33.540 --> 00:00:34.519\n&gt;&gt; Good, good, goes well.\n\n14\n00:00:34.519 --> 00:00:37.832\nAlways a good time when we're\nhere talking about stuff.\n\n15\n00:00:37.832 --> 00:00:41.627\nWe're gonna continue our conversations,\nas Cherokee was suggesting we should do.\n\n16\n00:00:41.627 --> 00:00:43.684\nWe always follow her lead,\ncuz she's always right.\n\n17\n00:00:43.684 --> 00:00:45.571\n&gt;&gt; [LAUGH]\n&gt;&gt; She tells me to say that whenever\n\n18\n00:00:45.571 --> 00:00:46.739\nwe're off camera.\n\n19\n00:00:46.739 --> 00:00:47.933\n&gt;&gt; Goodness.\n&gt;&gt; All right, so SYSVOL,\n\n20\n00:00:47.933 --> 00:00:49.879\nyou mentioned we're gonna\ntalk about SYSVOL and\n\n21\n00:00:49.879 --> 00:00:52.090\nmaybe do a little\nreplication demonstration.\n\n22\n00:00:52.090 --> 00:00:54.030\nSo what do we start with first?\n\n23\n00:00:54.030 --> 00:00:56.870\nDealer's choice, but if you choose\nincorrectly I'm gonna override you,\n\n24\n00:00:56.870 --> 00:00:58.450\nbut what should we start with first?\n\n25\n00:00:58.450 --> 00:00:59.400\n&gt;&gt; How about SYSVOL?\n\n26\n00:00:59.400 --> 00:00:59.997\n&gt;&gt; SYSVOL, okay.\n\n27\n00:00:59.997 --> 00:01:02.028\nSo let's talk about SYSVOL.\n\n28\n00:01:02.028 --> 00:01:06.830\nThe SYSVOL container is going to be one\nof the two containers we often talk\n\n29\n00:01:06.830 --> 00:01:09.520\nabout when we think about replication.\n\n30\n00:01:09.520 --> 00:01:10.846\nWhere do we find the SYSVOL container?\n\n31\n00:01:10.846 --> 00:01:12.135\nDo you know where we find that, and\n\n32\n00:01:12.135 --> 00:01:14.501\nplease don't tell me wherever\nthe SYSVOL information lives.\n\n33\n00:01:14.501 --> 00:01:16.045\n&gt;&gt; I can't say behind\nthe mulberry bush again?\n\n34\n00:01:16.045 --> 00:01:17.253\n&gt;&gt; No, you can't say that,\nthat isn't good.\n\n35\n00:01:17.253 --> 00:01:19.169\nBut we do have a specific location,\ndo we not?\n\n36\n00:01:19.169 --> 00:01:22.865\n&gt;&gt; Yes, systemroot\\sysvol.\n\n37\n00:01:22.865 --> 00:01:25.521\n&gt;&gt; Okay, and actually the system root\noftentimes will be C Windows, right?\n\n38\n00:01:25.521 --> 00:01:28.932\nFor instance, we often see that\nas being where we would install.\n\n39\n00:01:28.932 --> 00:01:31.152\nYou often see that percent\nsystem represent for\n\n40\n00:01:31.152 --> 00:01:34.831\nsystem variable that is a placeholder\nrepresent whatever the system will be.\n\n41\n00:01:34.831 --> 00:01:38.707\nIf you're working on a script, let's say\nhypothetically, you're looking for a path,\n\n42\n00:01:38.707 --> 00:01:41.572\nyou may not know exactly where\nthe installation took place.\n\n43\n00:01:41.572 --> 00:01:45.150\nPercentage signs system represent,\nthe spaces is the placeholder,\n\n44\n00:01:45.150 --> 00:01:48.856\nthe official system variable that\nwill be replaced by the actual paths.\n\n45\n00:01:48.856 --> 00:01:53.165\nSo you will see it often referred to as\npercent system represent slash SYSVOL,\n\n46\n00:01:53.165 --> 00:01:54.678\nbut the SYSVOL directory?\n\n47\n00:01:54.678 --> 00:01:56.500\nWhat do we find in SYSVOL?\n\n48\n00:01:56.500 --> 00:01:58.950\nWhat are some things that may be in there?\n\n49\n00:01:58.950 --> 00:02:00.290\n&gt;&gt; Another great question here.\n\n50\n00:02:00.290 --> 00:02:02.490\nI don't think that's on any of your notes.\n\n51\n00:02:02.490 --> 00:02:03.080\n&gt;&gt; It is right there,\n\n52\n00:02:03.080 --> 00:02:05.950\nright below where you read,\npercent system, re-percent system.\n\n53\n00:02:05.950 --> 00:02:06.481\n&gt;&gt; Right.\nWell, let's see here.\n\n54\n00:02:06.481 --> 00:02:08.350\n&gt;&gt; So you'll see things\nlike logon scripts, right?\n\n55\n00:02:08.350 --> 00:02:09.050\n&gt;&gt; Logon scripts.\n\n56\n00:02:09.050 --> 00:02:10.240\n&gt;&gt; Logon scripts are there.\n\n57\n00:02:10.240 --> 00:02:11.000\nAnd what else?\n\n58\n00:02:11.000 --> 00:02:12.838\nIf we think about logon scripts,\nwhat other stuff may be in there?\n\n59\n00:02:12.838 --> 00:02:13.810\n&gt;&gt; Group policy?\n\n60\n00:02:13.810 --> 00:02:14.930\n&gt;&gt; Policy like, right?\n\n61\n00:02:14.930 --> 00:02:16.137\nGroup policy objects,\n\n62\n00:02:16.137 --> 00:02:19.523\ngroup policy templates would be\nan object that we would see there.\n\n63\n00:02:19.523 --> 00:02:25.554\nSo the SYSVOL directory is gonna be that\nlocation where we have a lot of the stuff,\n\n64\n00:02:25.554 --> 00:02:30.787\nthe templates, right, that we need\nto have in order to be able to apply\n\n65\n00:02:30.787 --> 00:02:35.868\nsettings to the domain controllers and\nby extension to the domain.\n\n66\n00:02:35.868 --> 00:02:39.350\nWe haven't really got into group\npolicy conversations in depth yet.\n\n67\n00:02:39.350 --> 00:02:40.977\nThey are going to be upcoming,\n\n68\n00:02:40.977 --> 00:02:44.307\nI encourage you to certainly take\na look at those at some point.\n\n69\n00:02:44.307 --> 00:02:48.186\nBut we will talk about, we probably\nmention at some prior conversations that\n\n70\n00:02:48.186 --> 00:02:52.100\ngroup policy can be applied at multiple\nlevels, right, within the forest.\n\n71\n00:02:52.100 --> 00:02:56.235\nAnd we have four group policy places,\nstandards, areas, or\n\n72\n00:02:56.235 --> 00:03:01.659\nthe order of precedence as we apply them\nfor places where group policy will live.\n\n73\n00:03:01.659 --> 00:03:04.300\nWe always have a local policy per machine.\n\n74\n00:03:04.300 --> 00:03:09.420\nIf we have no domain affiliation and\nwe have no settings at any of the levels.\n\n75\n00:03:09.420 --> 00:03:11.570\nWe'll detail what those\nare in just a second.\n\n76\n00:03:11.570 --> 00:03:15.157\nAnd it's a standalone machine or a machine\nthat is not gonna be affected by those\n\n77\n00:03:15.157 --> 00:03:17.737\nsettings, then the local\npolicy will take precedence.\n\n78\n00:03:17.737 --> 00:03:20.750\nAnd we will get our standard\nWindows based desktop,\n\n79\n00:03:20.750 --> 00:03:25.614\ntypically some sort of left margin defined\nobjects, those shortcuts that are on our\n\n80\n00:03:25.614 --> 00:03:29.120\ndesktop that we want them on\nthe left-hand side by default.\n\n81\n00:03:29.120 --> 00:03:34.596\nWe have a standardized background color or\ntemplate of design in the new Windows.\n\n82\n00:03:34.596 --> 00:03:38.152\nYou have that blue window kind of logo or\nicon that show up.\n\n83\n00:03:38.152 --> 00:03:39.900\nYou like the Windows 10?\n\n84\n00:03:39.900 --> 00:03:42.793\n&gt;&gt; Yeah.\n&gt;&gt; Windows server 12, R2 Server 16 thing,\n\n85\n00:03:42.793 --> 00:03:47.543\nlooks like the spooky horror picture with\nthe blue light coming through the window.\n\n86\n00:03:47.543 --> 00:03:50.986\nWhatever that maybe in earlier versions\nwould have been a different color on\n\n87\n00:03:50.986 --> 00:03:52.344\nbackground for the desktop.\n\n88\n00:03:52.344 --> 00:03:56.709\nYou have a start menu or whatever may pass\nfor a start menu depending on the LS,\n\n89\n00:03:56.709 --> 00:03:58.860\ntypically lower-left hand corner,\n\n90\n00:03:58.860 --> 00:04:02.200\nclock lower right,\nthat kind of stuff on the taskbar.\n\n91\n00:04:02.200 --> 00:04:04.813\nAll that's laid out controlled by policy,\nand\n\n92\n00:04:04.813 --> 00:04:09.321\nthe policy that impacts that generically\nand traditionally is the local policy,\n\n93\n00:04:09.321 --> 00:04:12.081\nunless we make changes in\none of the other levels.\n\n94\n00:04:12.081 --> 00:04:16.221\nWe also have a site level policy,\nfunny that we're talking about sites.\n\n95\n00:04:16.221 --> 00:04:17.970\nSo we have a site level policy.\n\n96\n00:04:17.970 --> 00:04:22.600\nWe have a site level policy, and\nthen we have a domain level policy, and\n\n97\n00:04:22.600 --> 00:04:25.470\nthen we have policies\napplied at the OU level.\n\n98\n00:04:25.470 --> 00:04:28.950\nSo the four level's of policy,\ngroup policy, that can be applied.\n\n99\n00:04:28.950 --> 00:04:33.070\nSo the SYSVOL container helps us\nunderstand those things, because it helps\n\n100\n00:04:33.070 --> 00:04:36.595\nus to understand the logon scripts and\nthe group policy templates.\n\n101\n00:04:36.595 --> 00:04:40.620\nThe .adm or .admx files that may be used,\nwhich are the extensions for\n\n102\n00:04:40.620 --> 00:04:44.290\nour templates, that will be used\nto apply these group policies.\n\n103\n00:04:44.290 --> 00:04:46.300\nSo SYSVOL becomes very important,\n\n104\n00:04:46.300 --> 00:04:48.870\ngets replicated out to every\ndomain controller in the domain.\n\n105\n00:04:48.870 --> 00:04:52.310\nCuz like many of the other things we\ntalked about, the domain partition for\n\n106\n00:04:52.310 --> 00:04:56.340\ninstance, as part of the replication\ncycle of the schema partitions,\n\n107\n00:04:56.340 --> 00:05:01.110\nor the domain partition, the application\npartition, the configuration partition.\n\n108\n00:05:01.110 --> 00:05:04.415\nWe talk about replication of those\nthings at what level they happen at.\n\n109\n00:05:04.415 --> 00:05:06.536\nSYSVOL gets replicated out as well.\n\n110\n00:05:06.536 --> 00:05:10.760\nWe replicated the SYSVOL information\njust like we do the other information\n\n111\n00:05:10.760 --> 00:05:13.470\nusing the sites and\nservices replication topology.\n\n112\n00:05:13.470 --> 00:05:16.450\nThe KCC that creates\nthat as we talked about.\n\n113\n00:05:16.450 --> 00:05:20.220\nBut there is a slight difference based on\nthe versioning of the operating systems\n\n114\n00:05:20.220 --> 00:05:24.400\ninvolved with the domain controllers, in\nterms of how replication will take place,\n\n115\n00:05:24.400 --> 00:05:25.850\nnot the use of the KCC,\n\n116\n00:05:25.850 --> 00:05:30.020\nnot the use of the replication connectors,\nbut something else.\n\n117\n00:05:30.020 --> 00:05:32.690\nDepending on domain controller's\noperating system's version,\n\n118\n00:05:32.690 --> 00:05:37.120\nthe domain's functional level,\nand the overall status of SYSVOL,\n\n119\n00:05:37.120 --> 00:05:41.030\nthe file replication service,\nwhat we call FRS or DFS,\n\n120\n00:05:41.030 --> 00:05:45.720\nDistributed FIle System replication\nis used as the backend technology.\n\n121\n00:05:45.720 --> 00:05:50.218\nFRS older technology used in the older\nversions of the operating system.\n\n122\n00:05:50.218 --> 00:05:57.410\nWe are seeing from 2008 forward that\nwe have switched over into DFS.\n\n123\n00:05:57.410 --> 00:06:02.630\nAnd so, our FRS was used in 2003 R2,\nan older domains 2003,\n\n124\n00:06:02.630 --> 00:06:10.347\n2003 R2, 2000, we would see FRS starting\nwith 2008, 8R2, 12, 12R2 and 16.\n\n125\n00:06:10.347 --> 00:06:13.762\nWe are switching over to DFS,\nand so we're using DFS.\n\n126\n00:06:13.762 --> 00:06:20.080\nFRS is no longer being used as of 12R2,\nit's actually phased out totally.\n\n127\n00:06:20.080 --> 00:06:22.440\nBut it's there as kind\nof an in arm bridge for\n\n128\n00:06:22.440 --> 00:06:25.500\nsome of the older slash newer\nversions as we migrate.\n\n129\n00:06:25.500 --> 00:06:30.348\nBut with 12R2 and into 16, we're now using\nDFS to be able to do that replication.\n\n130\n00:06:30.348 --> 00:06:33.766\nSo as we change and\nwe update our domain functional level,\n\n131\n00:06:33.766 --> 00:06:37.980\nit's one of the impacts of modifying\nthe domain functional level.\n\n132\n00:06:37.980 --> 00:06:41.660\nWe're switching the backend service and\ntechnology that actually drives\n\n133\n00:06:41.660 --> 00:06:44.940\nthis replication across these topologies,\nacross these connectors.\n\n134\n00:06:44.940 --> 00:06:47.370\nSo just wanna make sure\nyou're aware of that.\n\n135\n00:06:47.370 --> 00:06:51.200\nWe do get the added benefit of things like\nreplication scheduling, which you saw and\n\n136\n00:06:51.200 --> 00:06:53.460\nwhich we talked about in the last episode.\n\n137\n00:06:53.460 --> 00:06:57.890\nBandwidth throttling and also compression,\nI mentioned that we do compress and\n\n138\n00:06:57.890 --> 00:06:59.630\nwe do intro-site replication.\n\n139\n00:06:59.630 --> 00:07:01.200\nWe compress the traffic.\n\n140\n00:07:01.200 --> 00:07:06.110\nAnd we are able to do replication\ncompression using replication, excuse me,\n\n141\n00:07:06.110 --> 00:07:07.860\nremote deferential compression.\n\n142\n00:07:07.860 --> 00:07:11.780\nRDC is the name of the algorithm\nthat’s used with DFS to do\n\n143\n00:07:11.780 --> 00:07:12.890\nthe actual compression.\n\n144\n00:07:12.890 --> 00:07:14.960\nSo just make sure you're aware of that.\n\n145\n00:07:14.960 --> 00:07:19.250\nThere is a tool that allows us\nto be able to move replication\n\n146\n00:07:19.250 --> 00:07:24.600\nfrom older domain controllers and older\noperating system versions to be able to\n\n147\n00:07:24.600 --> 00:07:29.010\nupgrade it if you will or\nmigrate it from FRS to use DFS.\n\n148\n00:07:29.010 --> 00:07:33.960\nSo we could obviously just modify\nthe domain functional level,\n\n149\n00:07:33.960 --> 00:07:37.480\nupgrade the operating systems of\nthe domain controllers before we do that.\n\n150\n00:07:37.480 --> 00:07:39.650\nAnd it would automatically\ntake advantage of that.\n\n151\n00:07:39.650 --> 00:07:43.859\nBut let's say we're running a hybrid or\nmixed domain topology and\n\n152\n00:07:43.859 --> 00:07:48.535\nwe wanna move the replication into\nthe DFS area instead of just using FRS.\n\n153\n00:07:48.535 --> 00:07:53.144\nMaybe we're running 12, 12R2 and\n16 domain controllers in 12 and\n\n154\n00:07:53.144 --> 00:07:56.975\n12, in 12, excuse me,\nwe will still see both FRS and DFS.\n\n155\n00:07:56.975 --> 00:08:01.559\nWe wanna move for instance and\nforce the use of DFS,\n\n156\n00:08:01.559 --> 00:08:05.833\nthere's a tool called\nthe Dfsrmig.exe tool.\n\n157\n00:08:05.833 --> 00:08:08.039\nThat actually can be run\ncommand line tool, and\n\n158\n00:08:08.039 --> 00:08:10.254\nwe'll actually allows us\nto be able to do this.\n\n159\n00:08:10.254 --> 00:08:15.014\nYour domain functional level must be at\nleast Windows 2008 in order to be able to\n\n160\n00:08:15.014 --> 00:08:18.970\nuse the DFSR mig tool in order to\nbe able to force the migration.\n\n161\n00:08:18.970 --> 00:08:21.290\nSo just somethings to consider and\nthink about.\n\n162\n00:08:21.290 --> 00:08:24.508\nBut it would be helpful for\nyou to maybe have knowledge of that,\n\n163\n00:08:24.508 --> 00:08:27.682\nmaybe the distinction between\nthe two types of replication.\n\n164\n00:08:27.682 --> 00:08:30.032\nCertainly the operating\nsystem distinction,\n\n165\n00:08:30.032 --> 00:08:32.146\nline of demarcation from\nwhere we see one or\n\n166\n00:08:32.146 --> 00:08:35.624\nthe other preferentially used,\nwe could force it to be used.\n\n167\n00:08:35.624 --> 00:08:38.890\nAnd the tool we would use and the way\nwe would do that, all testable items.\n\n168\n00:08:38.890 --> 00:08:41.112\nPotentially all things\nthat may get asked about.\n\n169\n00:08:41.112 --> 00:08:45.073\nThe underlying architecture and\nthe machinery of replication is so\n\n170\n00:08:45.073 --> 00:08:49.800\nvital to our understanding of how to\nkeep a healthy infrastructure moving.\n\n171\n00:08:49.800 --> 00:08:52.486\nAnd Microsoft's pretty adamant about\nthe fact that when you deploy their\n\n172\n00:08:52.486 --> 00:08:54.303\ntechnology, they want you\nto do it the right way,\n\n173\n00:08:54.303 --> 00:08:55.877\nfunny though they are about that, right?\n\n174\n00:08:55.877 --> 00:08:58.862\n&gt;&gt; [LAUGH]\n&gt;&gt; Not just do it, but hey take the time\n\n175\n00:08:58.862 --> 00:09:02.990\nand do it right, crazy that they would say\nthat, but that's just how they are, right?\n\n176\n00:09:02.990 --> 00:09:04.970\nAnd so they wanna know that\nyou know how to do this,\n\n177\n00:09:04.970 --> 00:09:08.570\nthey're gonna take this pretty seriously\nwhich means on an exam you're most likely\n\n178\n00:09:08.570 --> 00:09:10.320\ngonna have to answer\nquestions about this stuff.\n\n179\n00:09:10.320 --> 00:09:13.552\nSo do take a look, do look it up,\ndo understand the nature of the tool.\n\n180\n00:09:13.552 --> 00:09:16.250\nMake sure you're familiar with\nhow that works and what it is.\n\n181\n00:09:16.250 --> 00:09:18.430\nWe've talked about sites and\ntheir structure,\n\n182\n00:09:18.430 --> 00:09:21.750\ntalked about the site I went through and\ndetailed that in the last episode for you.\n\n183\n00:09:21.750 --> 00:09:24.720\nAll the little pieces that go\non inside the site's tool.\n\n184\n00:09:24.720 --> 00:09:26.620\nWe're gonna go back in there and\ntake a look.\n\n185\n00:09:26.620 --> 00:09:31.380\nWe've talked about the Default First site,\nwe've talked about subnet objects and\n\n186\n00:09:31.380 --> 00:09:32.890\nwhat subnet represents.\n\n187\n00:09:32.890 --> 00:09:36.925\nWe've talked about the replication\nconnections, we've talked about intrasite\n\n188\n00:09:36.925 --> 00:09:39.986\nand intersite replication,\nthe difference between the two.\n\n189\n00:09:39.986 --> 00:09:44.587\nHow replication works between sites versus\nreplication working among members of\n\n190\n00:09:44.587 --> 00:09:45.760\na single site.\n\n191\n00:09:45.760 --> 00:09:49.752\nI wanna make sure we are aware of that\nwhen we do replication between sites\n\n192\n00:09:49.752 --> 00:09:54.334\nintrasite replication I mentioned there\nis compression applied automatically,\n\n193\n00:09:54.334 --> 00:09:56.181\nI reference that before for you.\n\n194\n00:09:56.181 --> 00:10:00.614\nWe replicate down to roughly 10 to 15% or\nexcuse me compressed down to roughly\n\n195\n00:10:00.614 --> 00:10:04.791\n10 to 15% of the original size of\nthe data when we replicate intersite and\n\n196\n00:10:04.791 --> 00:10:07.057\nwe force that compression to take place.\n\n197\n00:10:07.057 --> 00:10:08.620\nSo just be aware of that.\n\n198\n00:10:08.620 --> 00:10:12.270\nAnd we do usually as you saw\na schedule that replication it\n\n199\n00:10:12.270 --> 00:10:13.660\ncan find it's off peak hours.\n\n200\n00:10:13.660 --> 00:10:16.260\nSo that's usually the benefit\nof interset replication.\n\n201\n00:10:16.260 --> 00:10:19.457\nYou go to schedule when that\nconnection will be available.\n\n202\n00:10:19.457 --> 00:10:21.080\nSo just make sure you're aware of that.\n\n203\n00:10:21.080 --> 00:10:22.230\nHaven't looked at that part yet, but\n\n204\n00:10:22.230 --> 00:10:25.460\nwe'll be able to see that once we set up\nanother site and talk about replication.\n\n205\n00:10:25.460 --> 00:10:27.950\nAnd we'll see that, and\nI'll kind of walk you through that.\n\n206\n00:10:27.950 --> 00:10:32.040\nWe talked about change notifications\nbetween and among AD sites, and\n\n207\n00:10:32.040 --> 00:10:33.650\nhow we deal with that kind of stuff.\n\n208\n00:10:33.650 --> 00:10:37.894\nWe talked about what the ISTG,\nthe intersite topology generator,\n\n209\n00:10:37.894 --> 00:10:42.063\nis in our conversation that Cherokee\nhad brought up for us about hey\n\n210\n00:10:42.063 --> 00:10:46.472\nwhat would it look like can we use\nthis analogy of air traffic control?\n\n211\n00:10:46.472 --> 00:10:48.020\nAnd think about it's the same way?\n\n212\n00:10:48.020 --> 00:10:50.010\nDoes that describe what\nyou're talking about?\n\n213\n00:10:50.010 --> 00:10:52.200\nAnd we detailed out what the KCC does,\n\n214\n00:10:52.200 --> 00:10:56.307\nthe control of intra site replication\namong domain controls in a single\n\n215\n00:10:56.307 --> 00:11:00.561\nsite creating that automatic\nreplication connectivity anthropology.\n\n216\n00:11:00.561 --> 00:11:03.952\nMonitoring in every 15 minutes\nensuring health and integrity and\n\n217\n00:11:03.952 --> 00:11:07.412\ndetailing out how to manage fail\novers if something were to go wrong.\n\n218\n00:11:07.412 --> 00:11:11.730\nBut limited to a single site and then we\nbrought in the istg the intersite topology\n\n219\n00:11:11.730 --> 00:11:13.827\ngenerator connectivity between two or\n\n220\n00:11:13.827 --> 00:11:16.940\nmore sites or\nfrom one site to multiple other sites.\n\n221\n00:11:16.940 --> 00:11:21.428\nTo establish replication connections,\nleveraging the knowledge of the site\n\n222\n00:11:21.428 --> 00:11:25.655\ntopology inside the site with the case\nyou see so we could figure that out.\n\n223\n00:11:25.655 --> 00:11:28.983\nWe talked about the concept of\nthe bridgehead server as well,\n\n224\n00:11:28.983 --> 00:11:32.951\nlinking that replication portal or\nconnection from one site to another to\n\n225\n00:11:32.951 --> 00:11:35.767\na designated domain controller\nthat will manage and\n\n226\n00:11:35.767 --> 00:11:39.177\ncontrol the traffic on behalf of\nall of the members in the site.\n\n227\n00:11:39.177 --> 00:11:41.140\nThis is the idea of the Bridge.NET server.\n\n228\n00:11:41.140 --> 00:11:44.404\nSo we went through we talked about all\nthis, just reminding you of all this so\n\n229\n00:11:44.404 --> 00:11:45.691\nyou have a sense of what it is.\n\n230\n00:11:45.691 --> 00:11:50.894\nWe do try to find domain controllers\nin the topology in a single site that\n\n231\n00:11:50.894 --> 00:11:56.635\nwe can replicate with based on a variety\nof values and things that are going on.\n\n232\n00:11:56.635 --> 00:11:59.778\nAnd there is a little, give me just\nhalf a second to bring it up here\n\n233\n00:11:59.778 --> 00:12:03.240\nbefore I jump to the screen,\nif you just jump here with me quickly.\n\n234\n00:12:03.240 --> 00:12:05.870\nThere's a little blurb on\nthe webpage here about finding\n\n235\n00:12:05.870 --> 00:12:07.680\ndomain controller in the closest site and\nhow we replicate,\n\n236\n00:12:07.680 --> 00:12:11.840\ngiving you some information about this and\njust what will go on here.\n\n237\n00:12:11.840 --> 00:12:15.070\nThe Active Directory site and\nsubnet objects, how they're worked,\n\n238\n00:12:15.070 --> 00:12:19.510\nmapping IP addresses to site names as\nwe talked about with the subnets, and\n\n239\n00:12:19.510 --> 00:12:21.870\ngoing in and specifying all of this.\n\n240\n00:12:21.870 --> 00:12:25.026\nOn making sure we think about\nautomatic site coverage, and\n\n241\n00:12:25.026 --> 00:12:28.762\ndetermining site coverage on the basis\nof cost we assign a cost value.\n\n242\n00:12:28.762 --> 00:12:33.354\nThink of it as a metric to the individual\nconnectors much like when we take a look\n\n243\n00:12:33.354 --> 00:12:37.946\nat a routing table and we see a metric a\ncost value associated with a route to tell\n\n244\n00:12:37.946 --> 00:12:42.849\nus whether we should use it preferentially\nor use it on a secondary or tertiary way.\n\n245\n00:12:42.849 --> 00:12:45.328\nWhere the primary route will be this and\nthen the cost for\n\n246\n00:12:45.328 --> 00:12:46.488\nthe other route is this and\n\n247\n00:12:46.488 --> 00:12:50.001\nwe only fail over to that one if no other\nroutes are available, same idea here.\n\n248\n00:12:50.001 --> 00:12:53.821\nSite coverage and replication is\ndetermined partly based on the cost value\n\n249\n00:12:53.821 --> 00:12:55.710\nassociated with those connectors.\n\n250\n00:12:55.710 --> 00:12:58.013\nSo I just want to make sure\nwe're familiar with this idea,\n\n251\n00:12:58.013 --> 00:12:59.149\nthat we have a sense of this.\n\n252\n00:12:59.149 --> 00:13:02.618\nSo as we're talking about getting into\nthe demonstration we're about to do and\n\n253\n00:13:02.618 --> 00:13:04.481\ncreate another site and link up the sites,\n\n254\n00:13:04.481 --> 00:13:06.930\nthat you have a sense of\nthings we've already covered.\n\n255\n00:13:06.930 --> 00:13:09.790\nKind of the ground that we've\nbeen back over to remind you\n\n256\n00:13:09.790 --> 00:13:12.790\nof all the things that we've\ntalked about until now.\n\n257\n00:13:12.790 --> 00:13:13.829\nAnything I missed?\n\n258\n00:13:13.829 --> 00:13:15.621\nWe've got a whole hit list or\nthings that we went through there.\n\n259\n00:13:15.621 --> 00:13:18.309\nBut did I cover all that stuff\nwe've been through before?\n\n260\n00:13:18.309 --> 00:13:21.978\n&gt;&gt; I don't know,\nthat was like four shows Adam [LAUGH].\n\n261\n00:13:21.978 --> 00:13:23.887\n&gt;&gt; It was, it was.\n\n262\n00:13:23.887 --> 00:13:25.359\nBut I think we hit all the highlights.\n\n263\n00:13:25.359 --> 00:13:27.642\nAt least in most of them anyway\npretty sure we went through.\n\n264\n00:13:27.642 --> 00:13:29.103\n&gt;&gt; Yeah, we went pretty detailed.\n\n265\n00:13:29.103 --> 00:13:31.380\n&gt;&gt; All right, so\nlet's just give me a half a second yeah.\n\n266\n00:13:31.380 --> 00:13:34.171\nExtending the timer here just to make\nsure we don't run out of time during\n\n267\n00:13:34.171 --> 00:13:35.012\nthe demonstration.\n\n268\n00:13:35.012 --> 00:13:37.209\nYou don't want to see me do that,\nthat's kind of boring, all right.\n\n269\n00:13:37.209 --> 00:13:39.660\nCome on back in,\nlet's actually get back to work here.\n\n270\n00:13:39.660 --> 00:13:40.280\nLet's take a look.\n\n271\n00:13:40.280 --> 00:13:43.095\nWe're back in our sites and services tool.\n\n272\n00:13:43.095 --> 00:13:45.677\nWe left it open from our\nprior demonstration,\n\n273\n00:13:45.677 --> 00:13:48.798\nhad renamed the default first\nsite name site to corp HQ.\n\n274\n00:13:48.798 --> 00:13:50.609\nWe're just in there playing\naround a little bit,\n\n275\n00:13:50.609 --> 00:13:52.100\ntook a look at some of our settings.\n\n276\n00:13:52.100 --> 00:13:53.370\nEverything's just the way we left it.\n\n277\n00:13:53.370 --> 00:13:56.435\nWhat we're gonna do now is go in and\ncreate a brand new site.\n\n278\n00:13:56.435 --> 00:13:58.270\nWe've been talking about this,\nso let's go in and do this.\n\n279\n00:13:58.270 --> 00:14:01.530\nSo I'm gonna come up here\nto stie right up here.\n\n280\n00:14:01.530 --> 00:14:04.520\nRight click, new site.\n\n281\n00:14:04.520 --> 00:14:07.543\nGonna give the new site a name\nwhich move this over here just so\n\n282\n00:14:07.543 --> 00:14:11.880\nwe can See that and\nwe're gonna give it a name.\n\n283\n00:14:11.880 --> 00:14:15.920\nAnd as I said this name as you saw,\nwe can change on the fly.\n\n284\n00:14:15.920 --> 00:14:17.700\nWanna try to name it\nthe right way the first time.\n\n285\n00:14:17.700 --> 00:14:19.304\nOnly because it makes it easier\nwe don't have to go back and\n\n286\n00:14:19.304 --> 00:14:20.040\nworry about changing it.\n\n287\n00:14:20.040 --> 00:14:23.641\nBut it's a metadata tag that's\nsimply descriptive in nature.\n\n288\n00:14:23.641 --> 00:14:26.447\nNo value there in a sense that it is\nlinked to something irretrievably,\n\n289\n00:14:26.447 --> 00:14:29.320\nthere's no way to change it,\nwe just have to make good decisions right?\n\n290\n00:14:29.320 --> 00:14:33.160\nSo in this case we're going to call this,\nI'm just going to use\n\n291\n00:14:33.160 --> 00:14:35.730\nthe stuff that I have in my notes here,\njust to keep track of it.\n\n292\n00:14:35.730 --> 00:14:38.576\nCall it amia HQ,\nyou know a regional designation,\n\n293\n00:14:38.576 --> 00:14:42.879\nmaybe headquarters somewhere in the Amia\ntheater, I renamed our default for\n\n294\n00:14:42.879 --> 00:14:45.742\na site name to corp hq in\nour prior demonstrations.\n\n295\n00:14:45.742 --> 00:14:48.861\nSo we can call this anything we like,\nCherokee's really cool site.\n\n296\n00:14:48.861 --> 00:14:51.210\nWe could do it that, if we want to right?\n\n297\n00:14:51.210 --> 00:14:52.830\nI don't care, leave me alone, right?\n\n298\n00:14:52.830 --> 00:14:54.420\nDoesn't matter what we call it.\n\n299\n00:14:54.420 --> 00:14:55.540\nSo we can do that.\n\n300\n00:14:55.540 --> 00:14:59.396\nWe also have to select a site\nlink object for this site.\n\n301\n00:14:59.396 --> 00:15:00.260\nYou'll see this down here.\n\n302\n00:15:00.260 --> 00:15:04.682\nNow we only have one by default right\nnow which is the default IP site link.\n\n303\n00:15:04.682 --> 00:15:07.204\nYou'll see it right here\ni'll just highlight it, so\n\n304\n00:15:07.204 --> 00:15:09.655\nyou know it uses the IP protocol for\ntransport.\n\n305\n00:15:09.655 --> 00:15:13.009\nWe could create more site link objects,\nwe'll take a look and\n\n306\n00:15:13.009 --> 00:15:17.264\ntalk a bit about that in a moment but for\nnow this is part of the default structure\n\n307\n00:15:17.264 --> 00:15:21.292\nthat's created for the sites as we\ninstall configure adds out of the box.\n\n308\n00:15:21.292 --> 00:15:25.739\nJust like we have a default for site name,\nsite we have a default site wing connector\n\n309\n00:15:25.739 --> 00:15:30.180\ncalled the default IP site link and\nthis is what's going to be used.\n\n310\n00:15:30.180 --> 00:15:32.803\nSo, we're gonna choose that,\nwe don't really have a choice.\n\n311\n00:15:32.803 --> 00:15:37.990\nWe're gonna choose that, click OK,\nand click OK again, there we go.\n\n312\n00:15:37.990 --> 00:15:41.184\nAll right, so then we get this little\ndialogue box here, it says hey,\n\n313\n00:15:41.184 --> 00:15:42.440\nADDS, great.\n\n314\n00:15:42.440 --> 00:15:45.872\nSite amiahq has been created, it's there\nwe can't see it cuz we just have to open\n\n315\n00:15:45.872 --> 00:15:47.397\nup the hierarchy, but it is there.\n\n316\n00:15:47.397 --> 00:15:48.612\nTo finish configuration,\n\n317\n00:15:48.612 --> 00:15:51.740\nensure HQ was linked to other sites\nwith the site link as appropriate.\n\n318\n00:15:51.740 --> 00:15:54.620\nSo checkmark,\nwe gotta make sure we remember to do that.\n\n319\n00:15:54.620 --> 00:15:58.797\nFirst item, add subnets into the subnets\ncontainer, we've talked about that, but\n\n320\n00:15:58.797 --> 00:16:00.141\nwe'll take a look at that.\n\n321\n00:16:00.141 --> 00:16:03.746\nRemember, subnets would imply we\nhave some sense of the IP ranges and\n\n322\n00:16:03.746 --> 00:16:08.112\nthe subnets associated with them that we\nwanna carve out for this particular site.\n\n323\n00:16:08.112 --> 00:16:12.157\nIf this is a regional or geographic\ndistribution of machines In some sort of\n\n324\n00:16:12.157 --> 00:16:16.537\narea, and we have one or more buildings\nassociated with these things like that.\n\n325\n00:16:16.537 --> 00:16:19.866\nWe might have IP sub nets, or\na single sub net associated and\n\n326\n00:16:19.866 --> 00:16:23.530\nit does say add sub nets,\nbecause we could have more than one.\n\n327\n00:16:23.530 --> 00:16:26.740\nSo we'd have to think about that,\nprobably have that information at hand.\n\n328\n00:16:26.740 --> 00:16:30.080\nIf we didn't know what those were, no big\ndeal, we could add them after the fact.\n\n329\n00:16:30.080 --> 00:16:32.210\nyou see I can create\nthe site with no trouble,\n\n330\n00:16:32.210 --> 00:16:34.160\nI don't need to know any\nof that ahead of time.\n\n331\n00:16:34.160 --> 00:16:37.470\nBut as a next step, where I'm now gonna\ngo in and essentially start doing that,\n\n332\n00:16:37.470 --> 00:16:40.960\nprobably be a good idea to have that\ninformation, just because if I do,\n\n333\n00:16:40.960 --> 00:16:44.280\nit makes it a lot easier for\nme to go in and complete the next steps.\n\n334\n00:16:44.280 --> 00:16:47.760\nIf I don't have it, I gotta sit there and\nwait, and kind of figure all that out,\n\n335\n00:16:47.760 --> 00:16:49.310\nand it takes a little time, right?\n\n336\n00:16:49.310 --> 00:16:51.300\nSo it's just easier to have all that.\n\n337\n00:16:51.300 --> 00:16:55.020\nSo we're gonna go ahead- we'll make\nnote of that and then install one or\n\n338\n00:16:55.020 --> 00:16:58.110\nmore domain controllers in\nthe HQ the main HQ or move.\n\n339\n00:16:58.110 --> 00:17:00.780\nWe'll talk about moving domain\ncontrollers between sites.\n\n340\n00:17:00.780 --> 00:17:03.550\nMove an existing DC on site\nwe could do that as well.\n\n341\n00:17:03.550 --> 00:17:07.680\nWe could pick up a domain controller from\nour corps HQ site the site that we created\n\n342\n00:17:07.680 --> 00:17:10.770\nor renamed the default\nfirst site name into and\n\n343\n00:17:10.770 --> 00:17:16.050\nmove it there associated with that new\nsite or we can create add essentially\n\n344\n00:17:16.050 --> 00:17:20.270\nbrand new domain controllers into that\nsite and associate them with that.\n\n345\n00:17:20.270 --> 00:17:24.960\nWhen I do the installation of a domain\ncontroller the configuration of it.\n\n346\n00:17:24.960 --> 00:17:29.734\nUsing the ADDS configuration wizard\nthrough the server manager from\n\n347\n00:17:29.734 --> 00:17:33.940\npower shell, from the command\nline with DS add, DS mod etc.\n\n348\n00:17:33.940 --> 00:17:35.490\nWhen I'm going in and\n\n349\n00:17:35.490 --> 00:17:38.780\ndoing that whatever I may be doing\ndepending on what I'm doing in this case,\n\n350\n00:17:38.780 --> 00:17:43.410\nit will be PowerShell to install ADDS\ndomain controller, the command lets you do\n\n351\n00:17:43.410 --> 00:17:48.530\nthis, or through the graphical interface,\nthe wizard, the ADDS configuration wizard.\n\n352\n00:17:48.530 --> 00:17:51.470\nI have an option to specify the site and\n\n353\n00:17:51.470 --> 00:17:53.950\nI can specify the site I\nwanna be associated with.\n\n354\n00:17:53.950 --> 00:17:58.090\nSo if I wanted to put a brand new domain\ncontroller I'm installing directly\n\n355\n00:17:58.090 --> 00:18:02.360\ninto the HQ site, I would specify that\nas the name when I do the install.\n\n356\n00:18:02.360 --> 00:18:04.800\nAnd you've seen me do that\nin prior demonstrations.\n\n357\n00:18:04.800 --> 00:18:07.690\nWe just chose the default for\nsite name site,\n\n358\n00:18:07.690 --> 00:18:09.530\nbecause we just didn't\nbother to change the name.\n\n359\n00:18:09.530 --> 00:18:12.514\nBut I usually could have put a different\nsite designator in there, and\n\n360\n00:18:12.514 --> 00:18:14.700\nit would have then joined\nwhatever site was there.\n\n361\n00:18:14.700 --> 00:18:17.460\nIn this case, this AmeaHQ site,\nif we wanted to in theory.\n\n362\n00:18:17.460 --> 00:18:18.790\nSo, planning.\n\n363\n00:18:18.790 --> 00:18:19.318\nRight?\nAnd\n\n364\n00:18:19.318 --> 00:18:22.060\nhaving all those ducks lined up in a row.\n\n365\n00:18:22.060 --> 00:18:24.950\nMaking sure you have the proper\ninformation written down.\n\n366\n00:18:24.950 --> 00:18:26.310\nYou have referenced it correctly.\n\n367\n00:18:26.310 --> 00:18:30.360\nSo valuable as a time management tool for\nadministration purposes,\n\n368\n00:18:30.360 --> 00:18:33.850\nnot because you can't go off, spend more\ntime, get it right by doing these things.\n\n369\n00:18:33.850 --> 00:18:37.250\nBut if you have it all set already,\nwhy not take advantage of that and\n\n370\n00:18:37.250 --> 00:18:39.890\njust go in there and knock it all out\none time and just be done with it?\n\n371\n00:18:39.890 --> 00:18:42.000\nSo much quicker and so much easier.\n\n372\n00:18:42.000 --> 00:18:44.900\nSo they're just reminding us of\nthese things, kinda prepping us to\n\n373\n00:18:44.900 --> 00:18:47.990\nthink about what our next steps\nare gonna be with this wizard output,\n\n374\n00:18:47.990 --> 00:18:51.060\nthis dialog box that tells\nus we were successful.\n\n375\n00:18:51.060 --> 00:18:54.420\nIt says we will not see this message again\nuntil the next time we start AB sites and\n\n376\n00:18:54.420 --> 00:18:55.030\nservices.\n\n377\n00:18:55.030 --> 00:18:56.090\nOkay, no big deal.\n\n378\n00:18:56.090 --> 00:18:56.910\nSo we know that, great.\n\n379\n00:18:58.075 --> 00:19:01.590\nGonna click OK and then all our stuff\nsuddenly appears in there cuz it's been\n\n380\n00:19:01.590 --> 00:19:04.610\nthere, we're just not able to\nsee it until the screen changes.\n\n381\n00:19:04.610 --> 00:19:07.880\nAnd you'll see we now\nhave our AmeaHQ site.\n\n382\n00:19:07.880 --> 00:19:08.930\nWe can see that right there.\n\n383\n00:19:08.930 --> 00:19:11.860\nYou'll see we have our server's container,\nbut\n\n384\n00:19:11.860 --> 00:19:14.730\nour service container is unfortunately\na little barren right now.\n\n385\n00:19:14.730 --> 00:19:18.720\nThere's nothing in there, because we have\nnot added any domain controllers in, so\n\n386\n00:19:18.720 --> 00:19:21.330\nwe have to just consider that and\nthink about that.\n\n387\n00:19:21.330 --> 00:19:23.760\nSo now what we're going to do,\nis the following.\n\n388\n00:19:23.760 --> 00:19:28.380\nWe're going to go into our\nsubnets right up her and\n\n389\n00:19:28.380 --> 00:19:30.790\nyou'll see we have no subnets\nup in our subnet folder.\n\n390\n00:19:30.790 --> 00:19:32.520\nWe're gonna create a new subnet.\n\n391\n00:19:32.520 --> 00:19:35.510\nStart carving up and\nassigning some subnet information.\n\n392\n00:19:35.510 --> 00:19:39.070\nSo, I'm gonna right click new subnet.\n\n393\n00:19:39.070 --> 00:19:40.260\nGo in there.\n\n394\n00:19:40.260 --> 00:19:44.680\nMove this over so you can see this, I just\nhave to go in and I have to just figure\n\n395\n00:19:44.680 --> 00:19:47.470\nout what my prefix is going to be so I'm\njust going to look at my notes real quick.\n\n396\n00:19:47.470 --> 00:19:49.580\nYou're gonna pretend I'm not\ndoing that and you have no idea.\n\n397\n00:19:49.580 --> 00:19:52.730\nIt's just magic and it suddenly appears,\nbut I do write all this stuff down,\n\n398\n00:19:52.730 --> 00:19:54.350\nso I get it right when we're doing it.\n\n399\n00:19:54.350 --> 00:19:55.720\nJust like I keep telling you to do.\n\n400\n00:19:55.720 --> 00:19:57.530\nAnd I gotta remember all this stuff.\n\n401\n00:19:57.530 --> 00:19:58.640\nI don't always remember everything.\n\n402\n00:19:58.640 --> 00:20:01.500\nSo like everybody else, I actually\ngotta look it up every so often.\n\n403\n00:20:01.500 --> 00:20:02.640\nSo that's what I'm gonna do.\n\n404\n00:20:02.640 --> 00:20:04.720\nSo I'm gonna put in the prefix here.\n\n405\n00:20:04.720 --> 00:20:06.880\nAll right, so our prefix is gonna be.\n\n406\n00:20:06.880 --> 00:20:07.740\nWhat am I doing?\n\n407\n00:20:07.740 --> 00:20:10.380\nI am doing this for the.\n\n408\n00:20:10.380 --> 00:20:17.729\n&gt;&gt; Okay, so I got 192.168.0.0.\n\n409\n00:20:17.729 --> 00:20:23.610\n&gt;&gt; And then /24.\n\n410\n00:20:23.610 --> 00:20:27.276\nSo we're gonna use the 192.168.0 subnet,\nright?\n\n411\n00:20:27.276 --> 00:20:29.910\n/24 shorthand for\nwriting out our subnet mask.\n\n412\n00:20:29.910 --> 00:20:33.650\nOur bits, we're taking the first 24\nbits of the first 32 bits available for\n\n413\n00:20:33.650 --> 00:20:35.070\nthe IPv4 address.\n\n414\n00:20:35.070 --> 00:20:37.170\nGood thing this isn't IPv6.\n\n415\n00:20:37.170 --> 00:20:37.835\n128 bits.\n\n416\n00:20:37.835 --> 00:20:39.570\nThrow the whole thing off.\n\n417\n00:20:39.570 --> 00:20:43.642\nSo will have to do IPv4 right we are also\nusing up to 32 bits in the address.\n\n418\n00:20:43.642 --> 00:20:48.450\nThe /24 just accept the traditional\nshort hand notification and\n\n419\n00:20:48.450 --> 00:20:52.140\nthe way we write that that means that\nthe first three apps heads fully and\n\n420\n00:20:52.140 --> 00:20:57.220\ngive the subnet mask portion\nthat represents the domain or\n\n421\n00:20:57.220 --> 00:21:00.692\nthe network part, excuse me,\nof our address in the last eight octets,\n\n422\n00:21:00.692 --> 00:21:03.060\nof the last eight bits of\nthe last eight octets.\n\n423\n00:21:03.060 --> 00:21:05.130\nThe last eight bits.\n\n424\n00:21:05.130 --> 00:21:06.720\n&gt;&gt; Traditionally a class C, traditionally.\n\n425\n00:21:06.720 --> 00:21:07.643\n&gt;&gt; Thank you, that's what we're talking\nabout. &gt;&gt; Yeah. [LAUGH] &gt;&gt; A two class,\n\n426\n00:21:07.643 --> 00:21:08.603\nthank you very much.\n\n427\n00:21:08.603 --> 00:21:12.096\nI have your issue associated with\nmy thought process here right now,\n\n428\n00:21:12.096 --> 00:21:14.170\nI can't get my words out straight.\n\n429\n00:21:14.170 --> 00:21:17.540\nYeah, so 192 and\n168.0 is gonna be the network portion and\n\n430\n00:21:17.540 --> 00:21:22.160\nthe last 0 is gonna be our host\nIDs within that subnet mask.\n\n431\n00:21:22.160 --> 00:21:23.270\nSo we are specifying that, but\n\n432\n00:21:23.270 --> 00:21:26.020\nthen that's not enough because\nthe other thing we have to do here.\n\n433\n00:21:26.020 --> 00:21:29.710\nWe have two sites, we have to specify\nwhich site we wanna associate\n\n434\n00:21:29.710 --> 00:21:31.380\nthat particular subnet range with.\n\n435\n00:21:31.380 --> 00:21:32.980\nThis is the other part of this and\n\n436\n00:21:32.980 --> 00:21:37.630\nso we have to decide will be corp HQ, what\nwas our default first site name site or\n\n437\n00:21:37.630 --> 00:21:40.802\nwill be AmeaHQ, right whichever\none we wanna associate with.\n\n438\n00:21:40.802 --> 00:21:45.620\nI'm going to associate\nthis with our corp HQ.\n\n439\n00:21:45.620 --> 00:21:49.540\nSo I'm gonna highlight that one and\nassociate that subnet range here.\n\n440\n00:21:49.540 --> 00:21:50.620\nSo I'm gonna click OK.\n\n441\n00:21:50.620 --> 00:21:54.100\n&gt;&gt; It's like we're digitally\nrunning around and putting labels.\n\n442\n00:21:54.100 --> 00:21:56.830\nLike if I had a label maker and\nI'm really organizing and\n\n443\n00:21:56.830 --> 00:21:59.656\nidentifying all my different\ncomponents here through this process.\n\n444\n00:21:59.656 --> 00:22:00.658\n[LAUGH]\n&gt;&gt; It would, so yes,\n\n445\n00:22:00.658 --> 00:22:02.216\nnot a bad way of thinking about it.\n\n446\n00:22:02.216 --> 00:22:03.230\nIt certainly is.\n\n447\n00:22:03.230 --> 00:22:06.660\nWe're gonna create another subnet cuz we\nhave a secondary subnet we wanna use to\n\n448\n00:22:06.660 --> 00:22:08.150\nassociate with the other sites.\n\n449\n00:22:08.150 --> 00:22:11.460\nSo you can imagine obviously we'll\nwe walking down associating stuff.\n\n450\n00:22:11.460 --> 00:22:13.010\nSo let's do one more, right?\n\n451\n00:22:13.010 --> 00:22:16.130\nSo we'll right-click, do new subnet.\n\n452\n00:22:16.130 --> 00:22:19.018\nAnd this one is gonna be very similar,\n\n453\n00:22:19.018 --> 00:22:25.051\n192.168.1.0.\n\n454\n00:22:25.051 --> 00:22:28.900\nAgain /24 and\n\n455\n00:22:28.900 --> 00:22:33.130\nthis time something I don't\nthink I'd put in the period.\n\n456\n00:22:33.130 --> 00:22:35.150\nLet me fix that, one second.\n\n457\n00:22:36.310 --> 00:22:39.619\nI didn't put in the period for\n192 168 so that's better.\n\n458\n00:22:39.619 --> 00:22:43.880\n.1.0 /24, that looks a little better.\n\n459\n00:22:43.880 --> 00:22:47.040\nDoesn't populate on the line below\nthe right way if you don't put it in.\n\n460\n00:22:47.040 --> 00:22:50.974\nThis time I'm going to choose the AmeaHQ\nsite cuz I want to associate this other\n\n461\n00:22:50.974 --> 00:22:51.951\nsubnet with that.\n\n462\n00:22:51.951 --> 00:22:55.850\nI could associate it with corp HQ I\ncould do that as well if I wanted to but\n\n463\n00:22:55.850 --> 00:22:58.790\nI wanna have at least one subnet\nper site for the demonstration, so\n\n464\n00:22:58.790 --> 00:23:01.400\nwe're gonna go ahead and we're gonna\nselect that, put that in there.\n\n465\n00:23:01.400 --> 00:23:05.040\nAll right so\nnow we do see them both here and\n\n466\n00:23:05.040 --> 00:23:08.100\nwe do obviously have them associated so\nwe've done that.\n\n467\n00:23:08.100 --> 00:23:11.736\nAnd now what we're going to do,\nwe're going to go ahead and\n\n468\n00:23:11.736 --> 00:23:14.000\nwe're going to- what should we do?\n\n469\n00:23:14.000 --> 00:23:16.270\nI know what we're going to do, but\nwhat do you think we should do?\n\n470\n00:23:16.270 --> 00:23:17.710\n&gt;&gt; Add some servers.\n\n471\n00:23:17.710 --> 00:23:21.060\n&gt;&gt; No, well we have servers, I'm thinking\nmaybe you want to do a site link.\n\n472\n00:23:21.060 --> 00:23:21.900\n&gt;&gt; Ok.\n&gt;&gt; Maybe\n\n473\n00:23:21.900 --> 00:23:24.440\nlink the two together because remember,\nthe server is already in the site, but\n\n474\n00:23:24.440 --> 00:23:25.990\nwhat we want is to link the two sites.\n\n475\n00:23:25.990 --> 00:23:29.290\nWell, server's in one site, but what we\nwant to do is link the sites together so\n\n476\n00:23:29.290 --> 00:23:31.780\nwe have the architecture that\nallows us to move the information.\n\n477\n00:23:31.780 --> 00:23:32.470\n&gt;&gt; For the replication, okay.\n\n478\n00:23:32.470 --> 00:23:35.350\n&gt;&gt; So, create some site links\nthat will allow us to do this.\n\n479\n00:23:35.350 --> 00:23:40.840\nSo a site link is gonna be\neither using RPC over IP.\n\n480\n00:23:40.840 --> 00:23:44.770\nOr it's gonna use SMTP, as in the mail\nprotocol that we often think of and use,\n\n481\n00:23:44.770 --> 00:23:48.830\nsimple mail transport protocol, which is\nused traditionally with email systems.\n\n482\n00:23:48.830 --> 00:23:50.720\nBut also happens to be really robust and\n\n483\n00:23:50.720 --> 00:23:54.770\nvery good for bulk replication traffic and\nmanagement of traffic.\n\n484\n00:23:54.770 --> 00:23:58.170\nSo we can create a site link\nusing the protocol SMTP.\n\n485\n00:23:58.170 --> 00:24:02.184\nOr use RPC over IP which depending on\nthe type of traffic it is maybe more\n\n486\n00:24:02.184 --> 00:24:06.216\nappropriate depending on the kind\nof replication we wanna engage in.\n\n487\n00:24:06.216 --> 00:24:08.580\nSo we're gonna talk about and\njust take a look at that as well.\n\n488\n00:24:08.580 --> 00:24:12.450\nSo let's go in and let's go to our\ninter site transport which is a kind of\n\n489\n00:24:12.450 --> 00:24:14.480\na strange name for the folder.\n\n490\n00:24:14.480 --> 00:24:18.290\nYou know, it does really hint the fact\nthat these are essentially our protocols\n\n491\n00:24:18.290 --> 00:24:21.620\nin the connection for the site links,\nbut that's actually what we're gonna do.\n\n492\n00:24:21.620 --> 00:24:26.390\nWe just call it the intersite transport\ndirectory or intersite transport folder.\n\n493\n00:24:26.390 --> 00:24:29.720\nWhen I open it up you will see IP and\nSMTP as sub folders within.\n\n494\n00:24:29.720 --> 00:24:33.330\nI'm sorry, did you have a question,\nMiss Cherokee?\n\n495\n00:24:33.330 --> 00:24:33.930\n&gt;&gt; Yeah, I don't know.\n\n496\n00:24:33.930 --> 00:24:36.075\n&gt;&gt; Shocking as that may be.\n\n497\n00:24:36.075 --> 00:24:38.690\n&gt;&gt; So if we talk about those\nprotocols that you just mentioned.\n\n498\n00:24:38.690 --> 00:24:40.990\nWe talk about IP, we talked about SMTP.\n\n499\n00:24:40.990 --> 00:24:46.390\nNatively there isn't any kind of\nencryption so what do we do about that?\n\n500\n00:24:46.390 --> 00:24:47.537\n&gt;&gt; Well why don't we create it first and\n\n501\n00:24:47.537 --> 00:24:49.582\nthen let's talk about that as\npart of the process I'm creating.\n\n502\n00:24:49.582 --> 00:24:50.380\n&gt;&gt; Okay.\n\n503\n00:24:50.380 --> 00:24:52.030\n&gt;&gt; How about if we do that?\n\n504\n00:24:52.030 --> 00:24:52.630\n&gt;&gt; Sounds like a plan.\n\n505\n00:24:52.630 --> 00:24:53.730\n&gt;&gt; All right so.\n\n506\n00:24:53.730 --> 00:24:54.980\nLet's go back it.\n\n507\n00:24:54.980 --> 00:24:58.150\nSo you can see that I just clicked and,\nwell, Cherokee was just asking.\n\n508\n00:24:58.150 --> 00:25:00.970\nI just took advantage that\nquickly just to move the columns\n\n509\n00:25:00.970 --> 00:25:03.360\na little bit to see if you could\nsee it a little more clearly.\n\n510\n00:25:03.360 --> 00:25:07.105\nBut remember, we chose that default IP\nsite link when we created the site.\n\n511\n00:25:07.105 --> 00:25:08.455\nIt was at the bottom of the wizard there.\n\n512\n00:25:08.455 --> 00:25:09.815\nI said hey look that's there.\n\n513\n00:25:09.815 --> 00:25:10.565\nIt's our only choice.\n\n514\n00:25:10.565 --> 00:25:14.865\nIt's the one that's associated with us\nas we create the initial architecture\n\n515\n00:25:14.865 --> 00:25:15.665\nand lay it out.\n\n516\n00:25:15.665 --> 00:25:22.795\nSo our default site link connection or\nconnector is RPC over IP or IP connector.\n\n517\n00:25:22.795 --> 00:25:24.745\nIt's called the default IP site link.\n\n518\n00:25:24.745 --> 00:25:25.705\nYou can see it here.\n\n519\n00:25:25.705 --> 00:25:28.235\nType site link cost type up the metric.\n\n520\n00:25:28.235 --> 00:25:31.270\n100 that's the standard default cost for\neverything.\n\n521\n00:25:31.270 --> 00:25:34.690\nAnd replication interval 180 in minutes.\n\n522\n00:25:34.690 --> 00:25:36.650\nSo 3 hours, right?\n\n523\n00:25:36.650 --> 00:25:37.740\nAnd we see that.\n\n524\n00:25:37.740 --> 00:25:39.740\nSo we have IPM and\nwe can obviously create a new one.\n\n525\n00:25:39.740 --> 00:25:43.030\nIf we look at SMTP, just open that up,\nnotice there's nothing there.\n\n526\n00:25:43.030 --> 00:25:44.000\nWe would have to create one.\n\n527\n00:25:44.000 --> 00:25:47.135\nAll right so what we're gonna do is\ncreate a new site link in the IP folder.\n\n528\n00:25:50.420 --> 00:25:50.980\nGet back in there.\n\n529\n00:25:50.980 --> 00:25:52.950\nAll right so let's right click.\n\n530\n00:25:52.950 --> 00:25:53.660\nNew site link okay.\n\n531\n00:25:53.660 --> 00:25:59.560\nJust move this over here so\nwe can kind of see what's going on.\n\n532\n00:25:59.560 --> 00:26:02.040\nAdversely of course is we\nhave to give it a name right?\n\n533\n00:26:02.040 --> 00:26:03.430\nThat's going to be important.\n\n534\n00:26:03.430 --> 00:26:07.439\nThe name should again be something\nthat is descriptive in some way.\n\n535\n00:26:08.470 --> 00:26:12.120\nThat allows us, just by looking at it,\nto tell what it does, so\n\n536\n00:26:12.120 --> 00:26:14.040\nwe know what sites it is linking.\n\n537\n00:26:14.040 --> 00:26:16.440\nBut you can name this,\nin theory, anything you want.\n\n538\n00:26:16.440 --> 00:26:18.410\nHey, I'm late and\nI need you to replicate immediately,\n\n539\n00:26:18.410 --> 00:26:23.050\nwould be just as good as a Corp HQ to Amia\nHQ, if we wanted to name it so we knew,\n\n540\n00:26:23.050 --> 00:26:25.910\nmore or less, what was going on with it.\n\n541\n00:26:25.910 --> 00:26:30.540\nMy point is, that this is again just\na metadata descriptor tag that tells\n\n542\n00:26:30.540 --> 00:26:35.500\nus something, but best practice thought\nprocess, generic idea, you'll label\n\n543\n00:26:35.500 --> 00:26:39.390\nthe connectors in such a way that\nsomebody's who's going through a console\n\n544\n00:26:39.390 --> 00:26:43.310\nand sees 10, 20, 30 of these things\nthat doesn't know which one is which and\n\n545\n00:26:43.310 --> 00:26:47.470\nwhat it's doing could understand it,\nbecause that's the logic that we use here.\n\n546\n00:26:47.470 --> 00:26:50.220\nIf you only have 1 or 2 connectors,\nit's pretty self-evident, right,\n\n547\n00:26:50.220 --> 00:26:52.050\nand probably not a big deal to figure out.\n\n548\n00:26:52.050 --> 00:26:55.100\nBut if you have a whole bunch,\neasy to pick the wrong one and\n\n549\n00:26:55.100 --> 00:26:58.170\nmake a mistake by configuring something\nthat wasn't supposed to be changed\n\n550\n00:26:58.170 --> 00:27:00.050\non a connector that wasn't\nsupposed to be modified.\n\n551\n00:27:00.050 --> 00:27:03.972\nSo it is a really good idea to label these\nin a way that makes sense logically,\n\n552\n00:27:03.972 --> 00:27:06.566\n[CROSSTALK] so\nthat somebody can look at it- Yeah.\n\n553\n00:27:06.566 --> 00:27:07.715\nKeep it simple.\n\n554\n00:27:07.715 --> 00:27:09.550\nRight silly I prefer\nsilly instead of stupid.\n\n555\n00:27:09.550 --> 00:27:11.730\nI'm just that kind of nice\nperson what can I say?\n\n556\n00:27:11.730 --> 00:27:13.857\nAll right so I'm going to label\nthis in a way that makes sense.\n\n557\n00:27:13.857 --> 00:27:16.048\nSo we're going to say this is the corp.\n\n558\n00:27:16.048 --> 00:27:20.750\nWhat do we do?\nCorp HQ dash to Amia, right?\n\n559\n00:27:22.390 --> 00:27:26.450\nSo I'm going to do Corp HQ to Amia, link\njust so I know that this is the link that\n\n560\n00:27:26.450 --> 00:27:29.550\nin theory will link those two\ntogether just so we know.\n\n561\n00:27:29.550 --> 00:27:31.380\nWhat are the sites in this link?\n\n562\n00:27:31.380 --> 00:27:34.790\nWell we can see our two sites Corp HQ and\nAmia are there.\n\n563\n00:27:34.790 --> 00:27:37.990\nYou can see them so that's probably\na pretty good name for this right?\n\n564\n00:27:37.990 --> 00:27:40.800\nSo we're going to click okay and do that.\n\n565\n00:27:40.800 --> 00:27:44.580\nNow notice the type, the cost,\nand the replication.\n\n566\n00:27:44.580 --> 00:27:47.760\nInterval are identical for the default one\nbecause those are the standard settings.\n\n567\n00:27:47.760 --> 00:27:48.890\nThey don't change.\n\n568\n00:27:48.890 --> 00:27:50.850\nBut what did change here all right.\n\n569\n00:27:50.850 --> 00:27:54.300\nLet's go to properties on\nthe default IP site link right?\n\n570\n00:27:55.720 --> 00:27:57.100\nWhat could potentially change,\n\n571\n00:27:57.100 --> 00:27:59.590\nI shouldn't say that, it didn't change\ncause nothing's really changed.\n\n572\n00:27:59.590 --> 00:28:04.150\nBut what could change is I could\nschedule and modify the schedule for\n\n573\n00:28:04.150 --> 00:28:06.380\navailability on each connector.\n\n574\n00:28:06.380 --> 00:28:11.120\nI could change the replication interval,\nthe 180 value I said as in minutes,\n\n575\n00:28:11.120 --> 00:28:11.780\nevery 3 hours.\n\n576\n00:28:11.780 --> 00:28:14.400\nI could change the cost.\n\n577\n00:28:14.400 --> 00:28:18.420\nModifying any one or all of these\nwould create a preferential thought\n\n578\n00:28:18.420 --> 00:28:23.380\nprocess to have a selection that puts one\nup over the other, right, potentially.\n\n579\n00:28:23.380 --> 00:28:26.630\nOr degrades one and puts below the other,\nlet's think about it in either way.\n\n580\n00:28:26.630 --> 00:28:27.310\nBut essentially,\n\n581\n00:28:27.310 --> 00:28:31.960\nwe're pushing one forward and saying,\nuse this one as my preferred connector.\n\n582\n00:28:31.960 --> 00:28:34.000\nBecause in this case, both connections,\n\n583\n00:28:34.000 --> 00:28:38.230\nboth site links point to the fact that\nboth sides are gonna be link together and\n\n584\n00:28:38.230 --> 00:28:41.900\nreplication between them will\noccur across both of this.\n\n585\n00:28:41.900 --> 00:28:44.770\nIn other words, I don't really need\nthe secondary one because the default IP7\n\n586\n00:28:44.770 --> 00:28:47.420\nsort of doing that on my behalf.\n\n587\n00:28:47.420 --> 00:28:51.720\nBut I may create a second one and\ncome up with alternate scheming and\n\n588\n00:28:51.720 --> 00:28:55.660\nschedule solution so that way,\nI used the primary default one, let say,\n\n589\n00:28:55.660 --> 00:28:58.900\nduring normal business hours,\nbut maybe this other one\n\n590\n00:28:58.900 --> 00:29:02.840\nis used only during off business hours and\nthe schedule would allow me to do that.\n\n591\n00:29:02.840 --> 00:29:05.800\nSo just something to consider\nwhile Cherokee throws her\n\n592\n00:29:05.800 --> 00:29:06.980\nquestion back out there.\n\n593\n00:29:06.980 --> 00:29:09.530\n&gt;&gt; Well, earlier you had mentioned\nit's kind of like a routing metric.\n\n594\n00:29:09.530 --> 00:29:11.880\nSo with routing, I'm thinking.\n\n595\n00:29:11.880 --> 00:29:12.820\n&gt;&gt; That the cost.\n\n596\n00:29:12.820 --> 00:29:14.050\n&gt;&gt; The cost.\n&gt;&gt; But just to be clear so\n\n597\n00:29:14.050 --> 00:29:15.300\neverybody knows what we're talking about.\n\n598\n00:29:15.300 --> 00:29:16.060\nThat the value.\n\n599\n00:29:16.060 --> 00:29:17.240\nAnd let me just move this up so\n\n600\n00:29:17.240 --> 00:29:20.270\nwe can see what tie that wall\nCherokee is mentioning this.\n\n601\n00:29:20.270 --> 00:29:23.540\nThat the cost value down here,\nin this case, 100.\n\n602\n00:29:23.540 --> 00:29:27.160\nThat I likened it to the idea of\na metric in the routing table,\n\n603\n00:29:27.160 --> 00:29:28.810\nbecause it is a designator.\n\n604\n00:29:28.810 --> 00:29:33.170\nNot that that means $100 or 100 Euro or\n100 Swiss Francs or, you know,\n\n605\n00:29:33.170 --> 00:29:36.890\nwhatever currency we think of when we\ncome to mind for cause some money.\n\n606\n00:29:36.890 --> 00:29:39.210\nBut it is a numerical identifier.\n\n607\n00:29:39.210 --> 00:29:46.090\nBased on the, you know the actual size of\nthe number that is then see as a priority\n\n608\n00:29:46.090 --> 00:29:50.045\nsetting mechanism the lower or higher\nthe clause based on what we're doing.\n\n609\n00:29:50.045 --> 00:29:54.645\nThe more likely or less likely we are to\nuse that route as a preferred indicator\n\n610\n00:29:54.645 --> 00:29:58.295\nof the first versus second versus\nthird ordering of those preferences.\n\n611\n00:29:58.295 --> 00:30:03.835\nSo yes it is just like a metric in the\nrouting table where we look at that and\n\n612\n00:30:03.835 --> 00:30:04.485\nthink about that.\n\n613\n00:30:04.485 --> 00:30:05.913\nIt is treated the same way.\n\n614\n00:30:05.913 --> 00:30:08.530\n&gt;&gt; So we're looking for\nthe lower number there then?\n\n615\n00:30:08.530 --> 00:30:12.040\n&gt;&gt; So when we think about 100 is\nthe default that assigned everything\n\n616\n00:30:12.040 --> 00:30:14.900\njust because that's the number\nwe get out of the gate.\n\n617\n00:30:14.900 --> 00:30:17.310\nAnd so you normally wouldn't\neven mess with them and\n\n618\n00:30:17.310 --> 00:30:19.570\njust leave the cost metric at 100.\n\n619\n00:30:19.570 --> 00:30:22.340\nIt wouldn't even normally\nbe something we would move\n\n620\n00:30:22.340 --> 00:30:27.280\nBecause the way we would try to indicate\npreference would not be cost alone.\n\n621\n00:30:27.280 --> 00:30:28.580\nIt's usually not the preferred method.\n\n622\n00:30:28.580 --> 00:30:31.730\nThe preferred method is\nlet's use scheduling to make\n\n623\n00:30:31.730 --> 00:30:34.940\nthe connectors available during\ncertain periods of time and\n\n624\n00:30:34.940 --> 00:30:37.952\nthen at a certain time we kick\nover to a different connector.\n\n625\n00:30:37.952 --> 00:30:40.660\n&gt;&gt; Okay.\n&gt;&gt; Because maybe its got some\n\n626\n00:30:40.660 --> 00:30:43.260\nspecifically for\ninstance the IP versus SMTP.\n\n627\n00:30:43.260 --> 00:30:47.463\nWe may have a preference for one protocol\nover the other based on the kinds of\n\n628\n00:30:47.463 --> 00:30:49.875\nreplication traffic and the timing of it.\n\n629\n00:30:49.875 --> 00:30:51.015\nWe may say, you know what?\n\n630\n00:30:51.015 --> 00:30:55.555\nDuring business hours,\nmake this particular connector available.\n\n631\n00:30:55.555 --> 00:30:57.415\nCreate an SMTP one hypothetically.\n\n632\n00:30:57.415 --> 00:30:57.925\nSame idea.\n\n633\n00:30:57.925 --> 00:31:01.036\nSchedule it during off peak hours,\nor the inverse either way.\n\n634\n00:31:01.036 --> 00:31:04.665\nWe would often use scheduling to show\npreference, and maybe not costs.\n\n635\n00:31:04.665 --> 00:31:06.450\nIt would really depend on what we do.\n\n636\n00:31:06.450 --> 00:31:10.170\nTypically, we will use a schedule as\nopposed to a cost valued indicated,\n\n637\n00:31:10.170 --> 00:31:11.560\njust more often than not.\n\n638\n00:31:11.560 --> 00:31:14.550\nSo you could see here,\nreplication available.\n\n639\n00:31:14.550 --> 00:31:17.530\nI just went to the schedule, just while\nwe were talking, change schedule.\n\n640\n00:31:17.530 --> 00:31:20.710\nBlue, that same thing we looked at at\nthe other schedule item when I showed you\n\n641\n00:31:20.710 --> 00:31:23.360\nthe polling interval, and we said,\nhey, go in, it's once an hour,\n\n642\n00:31:23.360 --> 00:31:26.410\nyou could modify it, although we\ntell you strongly, probably, not to.\n\n643\n00:31:26.410 --> 00:31:28.010\nHere we encourage you to schedule and\n\n644\n00:31:28.010 --> 00:31:31.160\nthink about scheduling it's a different\nsetting in a different area.\n\n645\n00:31:31.160 --> 00:31:35.050\nBut same idea same act, graphic,\nright, same blue, same white.\n\n646\n00:31:35.050 --> 00:31:39.379\nNotice that by default the replication\nare of unsightly connectors are available\n\n647\n00:31:39.379 --> 00:31:42.778\n24/7 others are available all\nthe time that's what we see.\n\n648\n00:31:42.778 --> 00:31:47.984\nBut if we wanna block out a period\nof time hypothetically and just say,\n\n649\n00:31:47.984 --> 00:31:53.629\nthat right there, that is unavailable\njust if that's what we choose to do,\n\n650\n00:31:53.629 --> 00:31:55.323\nthen we could do that.\n\n651\n00:31:55.323 --> 00:31:59.854\nOr what we could do would\nbe something like this.\n\n652\n00:32:05.722 --> 00:32:10.254\n[LAUGH] I remembered this, Adam,\nthis is the fun part here.\n\n653\n00:32:10.254 --> 00:32:14.256\n[LAUGH] Maybe not the most\nefficient thing to do, but\n\n654\n00:32:14.256 --> 00:32:21.277\nit's definitely interesting Ta-da.\n\n655\n00:32:21.277 --> 00:32:24.385\n&gt;&gt; All right, so we can say we\nonly replicate or don't replicate.\n\n656\n00:32:24.385 --> 00:32:24.889\n&gt;&gt; [LAUGH]\n&gt;&gt; Hey, look.\n\n657\n00:32:24.889 --> 00:32:27.310\nYou've gotta find your fun\nwhere you can find it and\n\n658\n00:32:27.310 --> 00:32:30.150\ntake advantages of things\nwhen they present themselves.\n\n659\n00:32:30.150 --> 00:32:33.960\nSo you can see that we could and clearly,\nplease don't do this in the real world.\n\n660\n00:32:33.960 --> 00:32:36.800\nThat is not the preferred\nmanagement thought process.\n\n661\n00:32:36.800 --> 00:32:38.655\nBut just funning around a little bit here.\n\n662\n00:32:38.655 --> 00:32:42.730\nBut you can see obviously that we could\nselectively choose appearance of activity\n\n663\n00:32:42.730 --> 00:32:46.286\nor inactivity, availability in or\nunavailability on the connector.\n\n664\n00:32:46.286 --> 00:32:48.878\nAnd then when we did that in theory,\nif that was the case,\n\n665\n00:32:48.878 --> 00:32:52.227\nI would come along with the other\nconnector and fill in the blanks and say,\n\n666\n00:32:52.227 --> 00:32:54.352\nokay, you'll use this for whatever reason.\n\n667\n00:32:54.352 --> 00:32:57.219\n&gt;&gt; Like the secondary and you said even\ntertiary, depending on your design.\n\n668\n00:32:57.219 --> 00:33:00.270\n&gt;&gt; Depending on your choices or\nwhat you want to do.\n\n669\n00:33:00.270 --> 00:33:03.360\nWe obviously could do that\nif we needed to maybe one of\n\n670\n00:33:03.360 --> 00:33:05.210\nthem replicates more frequently.\n\n671\n00:33:05.210 --> 00:33:08.268\nAnother thing we would often choose to\nchange is the replication interval.\n\n672\n00:33:08.268 --> 00:33:11.094\nSo if the replication interval\non the default is three hours.\n\n673\n00:33:11.094 --> 00:33:14.700\nAnd by the way, we'll often recommend\nyou leave the default site or\n\n674\n00:33:14.700 --> 00:33:17.370\ndefault IP link pretty much intact.\n\n675\n00:33:17.370 --> 00:33:19.750\nYou may modify it in terms\nof the availability,\n\n676\n00:33:19.750 --> 00:33:22.070\nand you can certainly modify\nany of those settings.\n\n677\n00:33:22.070 --> 00:33:24.980\nBut unless you have a compelling\nreason to, you may not want to.\n\n678\n00:33:24.980 --> 00:33:29.730\nBut we will often say that\na replication interval\n\n679\n00:33:29.730 --> 00:33:34.750\nof 3 hours or 180 minutes is okay, cuz\ncertainly we may not have a lot of changes\n\n680\n00:33:34.750 --> 00:33:39.090\nthat have to take place and be pushed that\noften during a 3-hour cycle traditionally.\n\n681\n00:33:39.090 --> 00:33:40.320\nThink about the logic.\n\n682\n00:33:40.320 --> 00:33:43.213\nEven if you're in there creating users,\nhow often do you create users.\n\n683\n00:33:43.213 --> 00:33:45.460\nAnd you're doing a whole\nbunch every three hours,\n\n684\n00:33:45.460 --> 00:33:47.580\nyou're probably doing several a day.\n\n685\n00:33:47.580 --> 00:33:50.647\nAnd maybe do three or four in the morning\nand you don't do any for a while.\n\n686\n00:33:50.647 --> 00:33:54.030\nSo three hours is probably\nabout right in many instances.\n\n687\n00:33:54.030 --> 00:33:57.765\nBut overnight,\nyou might not have any of all.\n\n688\n00:33:57.765 --> 00:33:59.905\nAny changes or\nany minimal changes taking place.\n\n689\n00:33:59.905 --> 00:34:03.905\nSo maybe you wanna stop that replication\nevery three hours, cuz maybe overnight,\n\n690\n00:34:03.905 --> 00:34:06.735\nyou've got backups and other things\nrunning that really should have\n\n691\n00:34:06.735 --> 00:34:10.715\npreference for those connections\nto consume and use that bandwidth.\n\n692\n00:34:10.715 --> 00:34:16.967\nSo maybe you wanna say, hey, just\nreplicate once every eight hours between,\n\n693\n00:34:16.967 --> 00:34:23.609\nlet's say, the hours of maybe 6 o'clock\nat night till, let's say, whatever.\n\n694\n00:34:23.609 --> 00:34:25.590\n6 AM the next morning or whatever.\n\n695\n00:34:25.590 --> 00:34:29.130\nMaybe do it every 8 hours or\nonce every 12 hours.\n\n696\n00:34:29.130 --> 00:34:33.000\nMaybe just replicate one time\novernight in case there's any changes.\n\n697\n00:34:33.000 --> 00:34:35.562\nAnd then during the business day,\nlet's be a little bit more aggressive.\n\n698\n00:34:35.562 --> 00:34:40.069\nLet's do every three hours, you can\neasily modify that thought process with\n\n699\n00:34:40.069 --> 00:34:42.998\nthe schedule and\nwith the replication interval.\n\n700\n00:34:42.998 --> 00:34:46.917\nAnd you create a secondary connector that\ndoes that and kicks in overnight and\n\n701\n00:34:46.917 --> 00:34:48.430\nthen that's very easy to do.\n\n702\n00:34:48.430 --> 00:34:51.992\nAnd that's one of the logical typical\nways we may see this being done.\n\n703\n00:34:51.992 --> 00:34:55.339\nSomething that I think about and\nconsider but we certainly could do that.\n\n704\n00:34:55.339 --> 00:34:57.364\nAll right, so\nwe take a look at the Properties there,\n\n705\n00:34:57.364 --> 00:35:00.427\njust looking at my notes making sure we\nkinda covered everything we wanted to do.\n\n706\n00:35:00.427 --> 00:35:03.510\nTalked about our scheduling,\nwent through talked about that.\n\n707\n00:35:03.510 --> 00:35:08.042\nLet's just take a look at and talk about\nhow we can move a domain controller into\n\n708\n00:35:08.042 --> 00:35:11.559\none of these sites now that\nwe've created a secondary site.\n\n709\n00:35:11.559 --> 00:35:16.270\nRemember, both our domain controllers\nare sitting up here under HQ right now.\n\n710\n00:35:16.270 --> 00:35:19.900\nAnd we wanna be able to put at least\none into our EMEA HQ because it will be\n\n711\n00:35:19.900 --> 00:35:21.740\nimportant to move a domain\ncontroller in there.\n\n712\n00:35:21.740 --> 00:35:24.430\nSo we actually have the ability\nto move information.\n\n713\n00:35:24.430 --> 00:35:28.135\nRight now, we built all this\ninfrastructure, these connectors.\n\n714\n00:35:28.135 --> 00:35:31.564\nWe've built the protocols out and\nsupport replication with the site links.\n\n715\n00:35:31.564 --> 00:35:34.041\nWe've configured the availability\non the site links.\n\n716\n00:35:34.041 --> 00:35:36.845\nWe've done all that, but now we're just\nsitting around doing one of these and\n\n717\n00:35:36.845 --> 00:35:37.653\njust kind of waiting,\n\n718\n00:35:37.653 --> 00:35:40.695\nbecause there's actually nothing on the\nother side that's gonna be replicating.\n\n719\n00:35:40.695 --> 00:35:44.298\nCuz right now, all our replication\nis in trust site inside one site,\n\n720\n00:35:44.298 --> 00:35:47.130\nfour page queue between\ntwo domain controllers.\n\n721\n00:35:47.130 --> 00:35:49.436\nWe have no inter site\nreplication happening.\n\n722\n00:35:49.436 --> 00:35:51.982\nWe have the infrastructure\nset up to support it.\n\n723\n00:35:51.982 --> 00:35:54.929\nBut there's nothing on\nthe other side in the EMEA HQ.\n\n724\n00:35:54.929 --> 00:35:57.680\nThat's actually generating changes\nthat would have to be replicated.\n\n725\n00:35:57.680 --> 00:36:00.030\nSo right now,\nit's a very lonely place, right?\n\n726\n00:36:00.030 --> 00:36:00.530\nAnd we wanna-\n&gt;&gt; [LAUGH]\n\n727\n00:36:00.530 --> 00:36:01.898\n&gt;&gt; Make it a little more friendly,\n\n728\n00:36:01.898 --> 00:36:04.768\nwelcoming and home.\nSo we're gonna move a server in there and\n\n729\n00:36:04.768 --> 00:36:07.544\nshow you how to do that.\nBecause in often times, in the real world,\n\n730\n00:36:07.544 --> 00:36:10.383\nyou would have to do this.\nYou would start out with a single site.\n\n731\n00:36:10.383 --> 00:36:12.328\nRemember, when it goes into the default\n\n732\n00:36:12.328 --> 00:36:14.917\nfirst site name site by default.\nAnd that's the logic of\n\n733\n00:36:14.917 --> 00:36:18.203\nwhat everything would be.\nAnd at some point, as you build additional\n\n734\n00:36:18.203 --> 00:36:22.322\nsites, and then ultimately set up all the\nthings we just did, and then get ready to\n\n735\n00:36:22.322 --> 00:36:26.240\nmove those domain controllers out and\nstart them replicating inter site.\n\n736\n00:36:26.240 --> 00:36:28.515\nYou have to do what we're about to do and\nmove them.\n\n737\n00:36:28.515 --> 00:36:31.023\nAnd so this is a very important\nskill set to be aware of.\n\n738\n00:36:31.023 --> 00:36:32.286\nYou don't do it very often.\n\n739\n00:36:32.286 --> 00:36:34.574\nIt's the kind of thing that once\nyou get it done and set up,\n\n740\n00:36:34.574 --> 00:36:36.220\nyou essentially leave it alone.\n\n741\n00:36:36.220 --> 00:36:39.060\nUnless there's some sort of event\nthat requires you to go back and\n\n742\n00:36:39.060 --> 00:36:41.090\nrethink this,\nyou may just do this once and\n\n743\n00:36:41.090 --> 00:36:45.090\nnever revisit it again throughout the many\nyears the system's up and running.\n\n744\n00:36:45.090 --> 00:36:46.700\nBut it is important to know how to do.\n\n745\n00:36:46.700 --> 00:36:48.676\nSo join me here if you will.\n\n746\n00:36:48.676 --> 00:36:49.790\nThere we go.\n\n747\n00:36:49.790 --> 00:36:53.390\nAnd so we're in the server's container in\nthe site which has the domain controllers.\n\n748\n00:36:53.390 --> 00:36:54.310\nSo in this case,\n\n749\n00:36:54.310 --> 00:36:57.950\ncore phq, we're gonna pick our domain\ncontroller that we wanna move.\n\n750\n00:36:57.950 --> 00:36:59.887\nDo you have a preference for\nwhich one we wanna move?\n\n751\n00:36:59.887 --> 00:37:00.711\nDC01?\n\n752\n00:37:00.711 --> 00:37:01.554\nDM01?\n\n753\n00:37:01.554 --> 00:37:02.479\n&gt;&gt; DM01.\n\n754\n00:37:02.479 --> 00:37:03.415\n&gt;&gt; DM01.\n\n755\n00:37:03.415 --> 00:37:04.007\nAll right.\n\n756\n00:37:04.007 --> 00:37:04.954\nI like a girl who goes with\nthe DM instead of the DC.\n\n757\n00:37:04.954 --> 00:37:07.463\n&gt;&gt; [LAUGHS] Sure.\n\n758\n00:37:07.463 --> 00:37:09.910\n&gt;&gt; All right.\nSo we're gonna choose DM01, right?\n\n759\n00:37:09.910 --> 00:37:11.190\nSo we're gonna grab that one.\n\n760\n00:37:11.190 --> 00:37:12.230\nLet's right-click on it.\n\n761\n00:37:12.230 --> 00:37:15.210\nYou'll notice one of the options\nhere in the menu is to Move,\n\n762\n00:37:15.210 --> 00:37:16.150\nright there under Find.\n\n763\n00:37:16.150 --> 00:37:17.290\nYou could see it right there.\n\n764\n00:37:17.290 --> 00:37:18.474\nLet's just click Move.\n\n765\n00:37:18.474 --> 00:37:20.706\nAnd this is a very\nstraightforward process.\n\n766\n00:37:20.706 --> 00:37:21.617\nThere's only two options.\n\n767\n00:37:21.617 --> 00:37:22.449\nIt exists in one.\n\n768\n00:37:22.449 --> 00:37:23.674\nIt's not in the other.\n\n769\n00:37:23.674 --> 00:37:25.401\nNot a lot of mystery going on, right?\n\n770\n00:37:25.401 --> 00:37:26.753\nSo we're in Core PHQ.\n\n771\n00:37:26.753 --> 00:37:29.748\nWe can move to one site, EMEA HQ.\n\n772\n00:37:29.748 --> 00:37:31.274\nWe're gonna select that.\n\n773\n00:37:31.274 --> 00:37:32.610\nClick OK.\n\n774\n00:37:32.610 --> 00:37:36.751\nAnd then the machine is moved\nfrom Core PHQ into EMEA.\n\n775\n00:37:36.751 --> 00:37:44.960\nYou can see it down here, and,\nOnce we get up underneath there,\n\n776\n00:37:44.960 --> 00:37:49.128\nwe still see that we\nare having our connector.\n\n777\n00:37:49.128 --> 00:37:53.815\nYou see the KCC has our automatically\ngenerated connector from plaid\n\n778\n00:37:53.815 --> 00:37:57.224\nDC01 from the core PHQ site,\nwe could see that.\n\n779\n00:37:57.224 --> 00:38:02.076\nWe go to plaid DC01, let's look at\nthis one, come here, you'll see now\n\n780\n00:38:02.076 --> 00:38:07.100\nautomatically generated from server\nplat DM01 that hasn't updated yet.\n\n781\n00:38:07.100 --> 00:38:09.761\nNotice from Core PHQ,\nit still thinks it's there.\n\n782\n00:38:09.761 --> 00:38:12.470\nIt takes a couple of minutes for\nthat change to register for\n\n783\n00:38:12.470 --> 00:38:13.529\nthose to get updated.\n\n784\n00:38:13.529 --> 00:38:17.801\nBecause, remember, how often does\nthe KCC run to check the integrity of\n\n785\n00:38:17.801 --> 00:38:20.052\nthe topology and verify everything?\n\n786\n00:38:20.052 --> 00:38:22.140\n&gt;&gt; One hour?\n&gt;&gt; No, you wanna say 15 minutes.\n\n787\n00:38:22.140 --> 00:38:23.005\n&gt;&gt; Okay, that's right.\n\n788\n00:38:23.005 --> 00:38:24.220\n[LAUGH]\n&gt;&gt; Let's try that again,\n\n789\n00:38:24.220 --> 00:38:24.920\nhow often does it run?\n\n790\n00:38:24.920 --> 00:38:26.133\n&gt;&gt; 15 minutes.\n\n791\n00:38:26.133 --> 00:38:30.564\n&gt;&gt; Awesome, you are so knowledgeable,\nI can never get anything by you.\n\n792\n00:38:30.564 --> 00:38:32.197\nSo every 15 minutes.\n\n793\n00:38:32.197 --> 00:38:34.554\nThe one hour interval\nCherokee was thinking of.\n\n794\n00:38:34.554 --> 00:38:35.402\nRemember was the polling interval, right?\n\n795\n00:38:35.402 --> 00:38:36.347\n&gt;&gt; That's right.\n[INAUDIBLE]\n\n796\n00:38:36.347 --> 00:38:36.938\n&gt;&gt; Yeah, so it is.\n\n797\n00:38:36.938 --> 00:38:37.851\nYou gotta keep those things straight.\n\n798\n00:38:37.851 --> 00:38:38.388\nIt is a little confusing.\n\n799\n00:38:38.388 --> 00:38:41.160\n&gt;&gt; [LAUGH]\n&gt;&gt; So 15 minutes for the KCC.\n\n800\n00:38:41.160 --> 00:38:43.120\nSo that's not gonna update right away.\n\n801\n00:38:43.120 --> 00:38:46.387\nWe actually expect that to look that way\nbecause depending on where we are on that\n\n802\n00:38:46.387 --> 00:38:47.232\n15 minute cycle.\n\n803\n00:38:47.232 --> 00:38:50.207\nI mean, in theory, if I may have hit\nit right at the very end and it ran,\n\n804\n00:38:50.207 --> 00:38:52.993\nit may actually have updated or\nupdate very shortly there after.\n\n805\n00:38:52.993 --> 00:38:56.247\nBut logically I'm probably somewhere\nin the middle of that 15 minute arc.\n\n806\n00:38:56.247 --> 00:38:57.562\nAnd it will take a few minutes for\n\n807\n00:38:57.562 --> 00:39:01.310\nit to update before it actually realizes\nthe change and it's gotta figure that out.\n\n808\n00:39:01.310 --> 00:39:04.510\nSo, that can take a few minutes and\nwe expect that to happen and\n\n809\n00:39:04.510 --> 00:39:05.420\nto actually be that way.\n\n810\n00:39:05.420 --> 00:39:06.886\nSo, just be aware of that.\n\n811\n00:39:06.886 --> 00:39:08.070\nOn case you are looking at that,\n\n812\n00:39:08.070 --> 00:39:11.440\nI wanna know what happened and\nwhy that has not updated.\n\n813\n00:39:11.440 --> 00:39:14.488\nNow, I did mention that the other\nthing we would do also,\n\n814\n00:39:14.488 --> 00:39:16.595\nlet me just go bring this up real quick.\n\n815\n00:39:16.595 --> 00:39:21.101\nSo we bring PowerShell there we go, was\nthat I will talk to you about repadmin.\n\n816\n00:39:21.101 --> 00:39:24.214\nThe repadmin tool is the tool that\ncould be used to look at replication.\n\n817\n00:39:24.214 --> 00:39:26.504\nThought we'd just mention it quickly,\njust make sure you're aware of it.\n\n818\n00:39:26.504 --> 00:39:29.283\nSo we gotta have them take\nin the luxury of just having\n\n819\n00:39:29.283 --> 00:39:31.630\nrepadmin preloaded in PowerShell for you.\n\n820\n00:39:31.630 --> 00:39:34.650\nI just want to bring it up and show you\nreal quick what we're gonna do with it.\n\n821\n00:39:34.650 --> 00:39:36.540\nAs I often do,\nI brought up the help file for\n\n822\n00:39:36.540 --> 00:39:39.470\nyou before we get started with\nthe tool just to remind you,\n\n823\n00:39:39.470 --> 00:39:43.250\nit's always a good idea to go look up\nthe help file, read up on the commands.\n\n824\n00:39:43.250 --> 00:39:45.780\nThe parameters,\nthe ways which we use the tool.\n\n825\n00:39:45.780 --> 00:39:48.040\nEspecially if you're not\nfamiliar with the tool.\n\n826\n00:39:48.040 --> 00:39:50.360\nThe repadmin tool helps us understand and\nmanage.\n\n827\n00:39:50.360 --> 00:39:52.400\nAnd look at a diagnosed replication.\n\n828\n00:39:52.400 --> 00:39:54.381\nSo it's always a good thing\njust to take a look at that.\n\n829\n00:39:54.381 --> 00:39:56.595\nSo just showing you how you\npull that help file up,\n\n830\n00:39:56.595 --> 00:39:59.989\ntypically forward slash question mark,\nwe've talked about that before.\n\n831\n00:39:59.989 --> 00:40:03.272\nYou could see there's quite\na number of parameters in here.\n\n832\n00:40:03.272 --> 00:40:07.693\nKCC, show rep, show sin call, etc.\n\n833\n00:40:07.693 --> 00:40:09.942\nSo we're gonna go in, whoops,\nwent a little too far there.\n\n834\n00:40:09.942 --> 00:40:12.740\nWe're gonna go in and\njust issue a quick command here.\n\n835\n00:40:12.740 --> 00:40:16.110\nLet me just clear the screen just so\nwe can kind of see right at the top,\n\n836\n00:40:16.110 --> 00:40:17.056\neasy to work with.\n\n837\n00:40:17.056 --> 00:40:22.403\nSo let's type in Repadmin, and\nwe're gonna use the show repl,\n\n838\n00:40:22.403 --> 00:40:27.752\nR-E-P-L, show replication,\nshort for show replication,\n\n839\n00:40:27.752 --> 00:40:32.819\nshow repl, and then *,\nif I could find that on my keyboard.\n\n840\n00:40:32.819 --> 00:40:35.218\nSo show all the replication information.\n\n841\n00:40:35.218 --> 00:40:38.529\nIt's hard to see the asterisk, it's in\na kinda gray on the blue background there,\n\n842\n00:40:38.529 --> 00:40:39.445\nbut I just typed it in.\n\n843\n00:40:39.445 --> 00:40:44.396\nSpace, we're then gonna output\nthat into a text file, so\n\n844\n00:40:44.396 --> 00:40:50.171\nI can pipe that, I can just use\nthe sign to move that and output that.\n\n845\n00:40:50.171 --> 00:40:51.780\nI always forget, is that\nthe greater than or less than sign?\n\n846\n00:40:51.780 --> 00:40:52.381\nAre you good with that?\n\n847\n00:40:52.381 --> 00:40:53.196\n&gt;&gt; I can't see, hold on.\n\n848\n00:40:53.196 --> 00:40:54.944\n&gt;&gt; The little mouth is pointing away.\n\n849\n00:40:54.944 --> 00:40:56.122\n&gt;&gt; I think it's the greater than.\n\n850\n00:40:56.122 --> 00:40:57.993\n&gt;&gt; I never remember what one that is.\n\n851\n00:40:57.993 --> 00:40:59.283\nWhatever that is, that thing right there.\n\n852\n00:40:59.283 --> 00:41:00.305\n&gt;&gt; Yeah, [LAUGH].\n\n853\n00:41:00.305 --> 00:41:01.590\n&gt;&gt; I'm horrible with math.\n\n854\n00:41:01.590 --> 00:41:03.560\nAnyway, so we're gonna come\nup with a name for this file.\n\n855\n00:41:03.560 --> 00:41:07.290\nI'm gonna call this dcrepl.txt.\n\n856\n00:41:07.290 --> 00:41:08.898\nYou could call this anything you like.\n\n857\n00:41:08.898 --> 00:41:11.875\nLet me just move down\nthe console window just a touch,\n\n858\n00:41:11.875 --> 00:41:13.985\nso you can see it below,\nthat little blue square there.\n\n859\n00:41:13.985 --> 00:41:17.650\nDcrepl.txt, you can call this anything\nyou want, it's just the name of the file.\n\n860\n00:41:17.650 --> 00:41:21.458\nThis is gonna be something we'll output\nand then just hit this, and note I go back\n\n861\n00:41:21.458 --> 00:41:25.219\nto the screen, because we're creating\nthe file, we're not asking to see it.\n\n862\n00:41:25.219 --> 00:41:26.519\nNow we wanna take a look at it.\n\n863\n00:41:26.519 --> 00:41:28.711\nSo, we're going to use\nnotepad as our editor.\n\n864\n00:41:28.711 --> 00:41:33.176\nSo, we'll just type in notepad,\nand then the name of the file,\n\n865\n00:41:33.176 --> 00:41:35.588\ndcrel.txt, and just open that.\n\n866\n00:41:35.588 --> 00:41:38.866\nOpens up really quickly, and\nso I'll just move this over so\n\n867\n00:41:38.866 --> 00:41:41.423\nyou can kind of see this,\nand what we get here,\n\n868\n00:41:41.423 --> 00:41:45.030\nrunning the command show repl\ngives the full domain controller,\n\n869\n00:41:45.030 --> 00:41:49.778\nPLADDC1 practice labs.com, Corp HQ\nPLADDC1, what's the site associate with.\n\n870\n00:41:49.778 --> 00:41:53.114\nRemember, we left Plad DC1 in Corp HQ.\n\n871\n00:41:53.114 --> 00:41:56.721\nBlame Cherokee for that, cuz she chose\nPLADDM01 to move, so we moved that.\n\n872\n00:41:56.721 --> 00:41:59.435\n&gt;&gt; [LAUGH]\n&gt;&gt; So we're firing off against this system\n\n873\n00:41:59.435 --> 00:42:04.186\nand using this domain controller, and then\nit's showing us information about this.\n\n874\n00:42:04.186 --> 00:42:08.371\nIt shows us the object WID and\ninformation about that.\n\n875\n00:42:08.371 --> 00:42:10.088\nIt shows us inbound neighbors.\n\n876\n00:42:10.088 --> 00:42:16.570\nSo it's showing us DC practice labs,\nDC comm AMIA, HQ PlADDM01, via RPC.\n\n877\n00:42:16.570 --> 00:42:21.310\nRemember, the IP site link connection\ndefaults the site link IP,\n\n878\n00:42:21.310 --> 00:42:25.350\nand whatever we called the other one,\nCorp HQ to AMIA site link,\n\n879\n00:42:25.350 --> 00:42:29.625\nboth of them are IP site links, and\nI said IP is actually RPC over IP.\n\n880\n00:42:29.625 --> 00:42:34.690\nSo we're actually seeing that, so we can\ndetail that out, and the last attempt\n\n881\n00:42:34.690 --> 00:42:38.420\nwhen this was actually used to replicate,\nand whether it was successful or not, and\n\n882\n00:42:38.420 --> 00:42:41.680\nwe can see that stamped right there,\nthat indeed it was, and\n\n883\n00:42:41.680 --> 00:42:46.250\nthen we see some additional\ninformation about the schema names,\n\n884\n00:42:46.250 --> 00:42:49.040\nso the full naming context for\nthe common name.\n\n885\n00:42:49.040 --> 00:42:51.580\nWe see that,\nwe see some information about it.\n\n886\n00:42:51.580 --> 00:42:56.050\nWe see that DNS domain DNS zone,\nand DNS forest DNS zones, so\n\n887\n00:42:56.050 --> 00:43:01.749\nthe information that is being replicated,\nall the partition information,\n\n888\n00:43:01.749 --> 00:43:06.763\nand the various things are there,\nand then we see running command.\n\n889\n00:43:06.763 --> 00:43:11.366\nIt shows repl against PLADDM01, it does\nthe opposite, so it checks both sides of\n\n890\n00:43:11.366 --> 00:43:15.775\nthe connection, reports out on that\ninformation from both perspectives, and\n\n891\n00:43:15.775 --> 00:43:19.130\nit shows us the same information\ngoing the other way.\n\n892\n00:43:19.130 --> 00:43:21.750\nAgain, we would expect to the time\nstamps are the same, and date and\n\n893\n00:43:21.750 --> 00:43:25.560\ntime are successfully the same for both,\nbecause when we use those connectors,\n\n894\n00:43:25.560 --> 00:43:28.790\nwe're obviously using that site\nlink in two directions, so\n\n895\n00:43:28.790 --> 00:43:30.920\nwe would expect to see it for both sides.\n\n896\n00:43:30.920 --> 00:43:34.972\nBut we can see the domain, DNS, and forest\nDNS information is being replicated,\n\n897\n00:43:34.972 --> 00:43:37.569\ncuz right now it's really\nall we have to replicate.\n\n898\n00:43:37.569 --> 00:43:40.568\nThere's not much else going on for\nthe moment, and we're able to see that.\n\n899\n00:43:40.568 --> 00:43:45.514\nSo using repadmin, and going in, and\nusing show repl allows us to get a print\n\n900\n00:43:45.514 --> 00:43:50.641\nout on the status of our replication and\nlets us see what the current status is.\n\n901\n00:43:50.641 --> 00:43:54.226\nIt's a great way to diagnose quickly and\ninteract with this to understand it,\n\n902\n00:43:54.226 --> 00:43:56.452\nand there's a lot more\nthe rep admin tool can do,\n\n903\n00:43:56.452 --> 00:44:00.230\nit's just one little piece of the puzzle,\nbut good for you to be aware of the tool.\n\n904\n00:44:00.230 --> 00:44:03.220\nDefinitely, definitely\npotentially testable.\n\n905\n00:44:03.220 --> 00:44:04.990\nYou should go out,\ntake a look at the help file,\n\n906\n00:44:04.990 --> 00:44:07.320\nmake sure you understand what\nrepadmin can be used to do.\n\n907\n00:44:07.320 --> 00:44:10.206\nIt's been a tool, or is a tool,\nthat's been around for some time.\n\n908\n00:44:10.206 --> 00:44:13.158\nIt'd be good for you to have knowledge of\nit and make sure you are familiar with it.\n\n909\n00:44:13.158 --> 00:44:15.290\n&gt;&gt; All right, Adam, thank you for\nsharing that tool with us.\n\n910\n00:44:15.290 --> 00:44:18.022\nIs there anything else you'd like to,\nany kind of final thoughts you have here?\n\n911\n00:44:18.022 --> 00:44:20.407\n&gt;&gt; Actually, yeah, there are a couple\nof quick things just worth mentioning.\n\n912\n00:44:20.407 --> 00:44:24.128\nAlways important to just throw in a little\nextra added stuff on the top for you.\n\n913\n00:44:24.128 --> 00:44:26.024\nAs if we didn't give you enough already.\n\n914\n00:44:26.024 --> 00:44:28.102\nAll right, so quickly let's\ntalk about site link bridging.\n\n915\n00:44:28.102 --> 00:44:31.387\nOne of this interesting little concepts\nthat a lot of times people overlook and\n\n916\n00:44:31.387 --> 00:44:32.929\ndon't know was realized what it is,\n\n917\n00:44:32.929 --> 00:44:36.261\nwhy it's there, in fact that actually\nbe default, we need even need them, but\n\n918\n00:44:36.261 --> 00:44:39.755\nunderstanding why we don't need them,\nfirst we have to talk what they are.\n\n919\n00:44:39.755 --> 00:44:43.729\nSo site link bridge connects two or\nmore site links, site link bridge,\n\n920\n00:44:43.729 --> 00:44:48.366\nthe site links themselves we just created\nthe default IP site link, the core page,\n\n921\n00:44:48.366 --> 00:44:51.810\nthe core AMIA site link using\nthe IP that we just created will be\n\n922\n00:44:51.810 --> 00:44:53.421\ntwo examples of site links.\n\n923\n00:44:53.421 --> 00:44:57.916\nBundling them, linking them together into\nan administrative object that contains\n\n924\n00:44:57.916 --> 00:45:01.536\nthem, and creates a transitive\nrelationship between them for us.\n\n925\n00:45:01.536 --> 00:45:02.920\nWe can do this if we need to.\n\n926\n00:45:02.920 --> 00:45:05.451\nI'm gonna show you how to create\na bridge in just a second.\n\n927\n00:45:05.451 --> 00:45:09.012\nYou actually saw when we did the demo on\ncreating the site links, I right-clicked,\n\n928\n00:45:09.012 --> 00:45:10.766\none of the options was Site Link Bridges,\n\n929\n00:45:10.766 --> 00:45:13.730\nwe just didn't use it, but\nwe don't normally need this.\n\n930\n00:45:13.730 --> 00:45:18.402\nSite link bridging is necessary only if\nwe actually uncheck a setting that is\n\n931\n00:45:18.402 --> 00:45:23.512\nchecked by default which is to bridge all\nsite links automatically for the transfer\n\n932\n00:45:23.512 --> 00:45:28.406\nprotocol, meaning manage them this way\nalready, but let's just take a look.\n\n933\n00:45:28.406 --> 00:45:29.580\nSo when we go in.\n\n934\n00:45:29.580 --> 00:45:31.610\nI wanna say take a look,\ngive me just half a second,\n\n935\n00:45:31.610 --> 00:45:34.078\nI have to just pull the console\nup before we go in, there we go.\n\n936\n00:45:34.078 --> 00:45:36.558\nLet's just go in and take a look real\nquick at what I'm talking about.\n\n937\n00:45:36.558 --> 00:45:39.340\nSo I'm in the intersite\ntransports folder where we were.\n\n938\n00:45:39.340 --> 00:45:41.242\nYou see our two cyclings here.\n\n939\n00:45:41.242 --> 00:45:43.118\nI'm gonna go to the IP folder, and\n\n940\n00:45:43.118 --> 00:45:46.108\nI'm going to right-click\nhere on the folder itself.\n\n941\n00:45:46.108 --> 00:45:48.224\nGo and you can see a new site link bridge.\n\n942\n00:45:48.224 --> 00:45:50.390\nWe'll take a look at that in\njust a minute, create a bridge.\n\n943\n00:45:50.390 --> 00:45:53.251\nBut before we do that,\nlet's go to properties, and\n\n944\n00:45:53.251 --> 00:45:57.932\nyou'll see on the General tab, right here\nthe check box that is selected, bridge all\n\n945\n00:45:57.932 --> 00:46:02.678\nsite links, by default we're already doing\nthis so we don't have to create a separate\n\n946\n00:46:02.678 --> 00:46:06.869\nsite link bridge because we are bridging\nall the site links automatically.\n\n947\n00:46:06.869 --> 00:46:11.265\nBut if we unchecked that for some reason,\nand we disrupted that behavior, and\n\n948\n00:46:11.265 --> 00:46:15.659\nthen wanted to go and create a specific\nset of site link bridges linking certain\n\n949\n00:46:15.659 --> 00:46:20.455\nsite links together, creating transitivity\namong them, specifically based on our\n\n950\n00:46:20.455 --> 00:46:24.784\nthought processes as opposed to having\nthem all in one container being able to\n\n951\n00:46:24.784 --> 00:46:28.845\ninteract with each other, cuz that's\nthe idea behind it, then we can do\n\n952\n00:46:28.845 --> 00:46:33.085\nthe following, I could go in right-click\non the containers you just saw.\n\n953\n00:46:33.085 --> 00:46:37.798\nCreate a new search link bridge instead of\na search link, so the other option there.\n\n954\n00:46:37.798 --> 00:46:39.864\nMove this over so you can see this,\n\n955\n00:46:39.864 --> 00:46:44.590\nand you'll notice that we do have the two\nsearch links that are already there.\n\n956\n00:46:47.300 --> 00:46:48.641\nDrag that down.\n\n957\n00:46:48.641 --> 00:46:52.084\nWe do have, there we go, we do have\nthe two site links that are already there.\n\n958\n00:46:52.084 --> 00:46:55.769\nThe default IP site link and port HQ AMIA\nlink, they're already in the link that\n\n959\n00:46:55.769 --> 00:46:59.138\nwe're about to create, the link bridge,\nthey're already selected.\n\n960\n00:46:59.138 --> 00:47:02.110\nThe link bridge can be created\nonly if we have at least two or\n\n961\n00:47:02.110 --> 00:47:06.296\nmore site links joined together, so it\nputs those two in immediately by default,\n\n962\n00:47:06.296 --> 00:47:09.653\ncuz we have to have at least two,\nso we're putting them in there.\n\n963\n00:47:09.653 --> 00:47:14.560\nI have to give this a name, right, so\nI'm gonna call this the shareb site link,\n\n964\n00:47:14.560 --> 00:47:15.309\nall right?\n\n965\n00:47:15.309 --> 00:47:16.427\n&gt;&gt; Okay.\n&gt;&gt; That got your attention.\n\n966\n00:47:16.427 --> 00:47:18.990\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm gonna call it the shares site link,\n\n967\n00:47:18.990 --> 00:47:20.760\nand so now we're gonna click OK.\n\n968\n00:47:22.376 --> 00:47:26.220\nYou'll see that I have a site link\nbridge that has been created there,\n\n969\n00:47:26.220 --> 00:47:30.330\nlinking these two site links together,\nand allowing us to manage them\n\n970\n00:47:30.330 --> 00:47:34.470\nas a contiguous object that creates\ntransitivity between the site links, so\n\n971\n00:47:34.470 --> 00:47:37.155\nthat we can exchange\ninformation across them.\n\n972\n00:47:37.155 --> 00:47:42.480\nYou would have reasons to do this as I\nsaid only if the default setting to treat\n\n973\n00:47:42.480 --> 00:47:46.520\nall site links is bridged automatically on\nthe container has been removed and then we\n\n974\n00:47:46.520 --> 00:47:51.670\nhave to manually go in, and specify what\nthose site link bridges will be to create\n\n975\n00:47:51.670 --> 00:47:55.490\nthose connectivity blocks that we need\nto manage in terms of the transitivity.\n\n976\n00:47:55.490 --> 00:47:58.385\nSo that would be just something to\nconsider and just to be aware of.\n\n977\n00:47:58.385 --> 00:48:01.608\nThe other thing here would also\nbe universal group name caching.\n\n978\n00:48:01.608 --> 00:48:04.147\nWe've talked about\nuniversal groups before.\n\n979\n00:48:04.147 --> 00:48:08.154\nWe've spoken about the fact that this is\nsomething that may be valuable, because\n\n980\n00:48:08.154 --> 00:48:12.280\nuniversal groups have to be resolved,\nwe have to extend the membership of them.\n\n981\n00:48:12.280 --> 00:48:16.860\nThe forest level if you remember as we\ntalked about groups we have domain local.\n\n982\n00:48:16.860 --> 00:48:21.630\nLocal, global and universal groups,\nfour different types of groups and\n\n983\n00:48:21.630 --> 00:48:23.980\nwhen we have universal groups\nthey're at the forest level.\n\n984\n00:48:23.980 --> 00:48:29.060\nSo, in a domain on a domain controller\nyou need to have knowledge of them.\n\n985\n00:48:29.060 --> 00:48:32.100\nThat would be important for us or\nat least important for us to think about.\n\n986\n00:48:32.100 --> 00:48:33.180\nAnd to be aware of,\n\n987\n00:48:33.180 --> 00:48:36.400\nwe do need to understand who is\na member of that universal group.\n\n988\n00:48:36.400 --> 00:48:39.140\nWe have to expand the group membership and\nunderstand who's there,\n\n989\n00:48:39.140 --> 00:48:43.680\nand that takes resources, takes time,\ntakes access to information to do so.\n\n990\n00:48:43.680 --> 00:48:48.380\nCaching this information stores it,\nthe information, the local, Stores\n\n991\n00:48:48.380 --> 00:48:52.800\nthe universal membership locally, after\nwe attempt to sign in the first time.\n\n992\n00:48:52.800 --> 00:48:56.320\nSo if the user has universal group\nmemberships associated with that, and\n\n993\n00:48:56.320 --> 00:49:00.410\nwe cache universal group memberships,\nwe are caching that information.\n\n994\n00:49:00.410 --> 00:49:01.635\nMaking it available for the user.\n\n995\n00:49:01.635 --> 00:49:05.783\nSo that they can authenticate and log in,\neven if that reference point, the domain\n\n996\n00:49:05.783 --> 00:49:09.590\ncontrollers to extend and understand\nthat membership, is not available.\n\n997\n00:49:09.590 --> 00:49:11.662\nWe could still authenticate the user,\n\n998\n00:49:11.662 --> 00:49:15.220\nallow them to get in based on\nthe caching of that information.\n\n999\n00:49:15.220 --> 00:49:19.350\nThe domain controller will get the user's\nuniversal group membership information\n\n1000\n00:49:19.350 --> 00:49:22.020\nfrom, where do you think we\nget that from most likely.\n\n1001\n00:49:22.020 --> 00:49:23.120\n&gt;&gt; From the global catalog?\n\n1002\n00:49:23.120 --> 00:49:24.230\n&gt;&gt; From the global catalog server.\n\n1003\n00:49:24.230 --> 00:49:25.150\nWe talked about that.\n\n1004\n00:49:25.150 --> 00:49:26.470\nAnd then once we get that,\n\n1005\n00:49:26.470 --> 00:49:29.690\nwe're gonna have that available on that\ndomain controller, in that domain.\n\n1006\n00:49:29.690 --> 00:49:33.580\nRemember domain controllers are global\ncatalog servers, but it's gonna go to one\n\n1007\n00:49:33.580 --> 00:49:37.450\nfrom somewhere else, in another site,\nget it, bring it back most likely.\n\n1008\n00:49:37.450 --> 00:49:39.330\nAnd then as a result it has an available.\n\n1009\n00:49:39.330 --> 00:49:42.840\nSo now the next time we log in it's\nquicker, cuz we have that capability.\n\n1010\n00:49:42.840 --> 00:49:46.370\nSo universal group information\nis automatically gonna be\n\n1011\n00:49:46.370 --> 00:49:49.860\nrefreshed in the cache, every eight\nhours if you choose to do caching.\n\n1012\n00:49:49.860 --> 00:49:50.980\nSo we keep that up to date.\n\n1013\n00:49:50.980 --> 00:49:54.200\nAbout three times a day,\nwe check that to ensure it's up to date.\n\n1014\n00:49:54.200 --> 00:49:58.460\nAnd we refresh the cache and make sure\nwe have the most recent information.\n\n1015\n00:49:58.460 --> 00:50:01.590\nAnd then we contact more\ncatalogs in order to do that.\n\n1016\n00:50:01.590 --> 00:50:02.670\nSo keep that in mind.\n\n1017\n00:50:02.670 --> 00:50:07.400\nWe actually configure this from\nwithin NTDS site settings as well.\n\n1018\n00:50:07.400 --> 00:50:08.570\nWe can also go in.\n\n1019\n00:50:08.570 --> 00:50:10.280\nLet me just take a look here real quick.\n\n1020\n00:50:10.280 --> 00:50:11.030\nTake a look at this.\n\n1021\n00:50:11.030 --> 00:50:13.440\nGive me just one second,\nI just have to bring this up for\n\n1022\n00:50:13.440 --> 00:50:14.710\nyou and we'll take a look.\n\n1023\n00:50:14.710 --> 00:50:16.500\nBut just give me half a second to do that.\n\n1024\n00:50:18.710 --> 00:50:20.810\nAll right, and what am I doing?\n\n1025\n00:50:20.810 --> 00:50:22.561\nWe gotta go to the catalog there.\n\n1026\n00:50:22.561 --> 00:50:27.264\nGot our connections and\nhold on one second.\n\n1027\n00:50:27.264 --> 00:50:27.816\nYes.\n\n1028\n00:50:27.816 --> 00:50:28.939\nAnd CPS settings.\n\n1029\n00:50:28.939 --> 00:50:30.832\nWhat am I looking for?\n\n1030\n00:50:30.832 --> 00:50:33.377\nThere's my settings.\n\n1031\n00:50:33.377 --> 00:50:36.217\nAnd there [NOISE].\n\n1032\n00:50:36.217 --> 00:50:38.049\nOkay there.\n\n1033\n00:50:38.049 --> 00:50:39.129\nNo, that's actually.\n\n1034\n00:50:39.129 --> 00:50:39.695\nYeah, no that's fine.\n\n1035\n00:50:39.695 --> 00:50:42.005\nIs what I already had.\n\n1036\n00:50:42.005 --> 00:50:44.295\nSo we're gonna in, and we're going to.\n\n1037\n00:50:44.295 --> 00:50:45.374\n&gt;&gt; And just to verify we are.\n\n1038\n00:50:45.374 --> 00:50:48.421\n&gt;&gt; Just yeah, you could see right,\nthere shows the wrong one for\n\n1039\n00:50:48.421 --> 00:50:49.424\nwhere we need to go.\n\n1040\n00:50:49.424 --> 00:50:53.232\nSo you could see when we right click\nuniversal group membership caching notice,\n\n1041\n00:50:53.232 --> 00:50:56.658\nI can enable that if I choose to enable\nuniversal Group members of cache.\n\n1042\n00:50:56.658 --> 00:51:01.729\nAnd excuse me, I would check it off right\nhere, refresh cache from specify which\n\n1043\n00:51:01.729 --> 00:51:06.592\nof the two sides I wanna refresh on that\ncorp in this case [INAUDIBLE] what it is.\n\n1044\n00:51:06.592 --> 00:51:09.040\nAnd then I would be able to do that,\nright?\n\n1045\n00:51:09.040 --> 00:51:12.610\nSo I can specify or\nturn on the fact that this will happen.\n\n1046\n00:51:12.610 --> 00:51:15.619\nAnd it is not enabled by default as you\ncan see, I must enable it for the site.\n\n1047\n00:51:15.619 --> 00:51:17.731\nI did this on Corp HQ.\n\n1048\n00:51:17.731 --> 00:51:19.770\nWe could have it on one site and\nnot on the other.\n\n1049\n00:51:19.770 --> 00:51:20.690\nIt's up to me to decide.\n\n1050\n00:51:20.690 --> 00:51:23.420\nBut I can enable it,\njust by going to the site settings.\n\n1051\n00:51:23.420 --> 00:51:25.644\nThe site settings.\nI had gone in to the NTBS settings for\n\n1052\n00:51:25.644 --> 00:51:28.693\nthe server, the domain controller\nin the site by mistake.\n\n1053\n00:51:28.693 --> 00:51:31.558\nThat's why i didn't see it show up\non the tab, immediately realized,\n\n1054\n00:51:31.558 --> 00:51:34.900\nI'm in the wrong one, and that's why\nI went up and grabbed the other one.\n\n1055\n00:51:34.900 --> 00:51:38.950\nJust make sure you know which place to go\nto, because both are called NTDS settings.\n\n1056\n00:51:38.950 --> 00:51:40.650\nBut you have to make sure\nyou choose the site level,\n\n1057\n00:51:40.650 --> 00:51:43.540\nas opposed to the domain controller,\nor object level, for that.\n\n1058\n00:51:43.540 --> 00:51:45.600\nOkay, so\nyou can set that up there as well.\n\n1059\n00:51:45.600 --> 00:51:46.500\n&gt;&gt; Pretty cool, alright.\n\n1060\n00:51:46.500 --> 00:51:48.280\nSo yeah, we did cover a lot in this show.\n\n1061\n00:51:48.280 --> 00:51:50.980\nAnd I think that about covers it for\nthis particular section, so thank you for\n\n1062\n00:51:50.980 --> 00:51:52.110\nthat, Adam.\n\n1063\n00:51:52.110 --> 00:51:53.610\nAnd thank you for joining us as well.\n\n1064\n00:51:53.610 --> 00:51:56.690\nBut we do have more information\noverall headed your away.\n\n1065\n00:51:56.690 --> 00:51:58.520\nBut for this show,\nwe'll go ahead and sign out.\n\n1066\n00:51:58.520 --> 00:52:00.000\nI've been your host Cherokee Boose.\n\n1067\n00:52:00.000 --> 00:52:01.050\n&gt;&gt; I am Adam Gordon.\n\n1068\n00:52:01.050 --> 00:52:02.375\n&gt;&gt; See you next time here on ITProTV.\n\n1069\n00:52:02.375 --> 00:52:10.332\n[MUSIC]\n\n1070\n00:52:10.332 --> 00:52:12.871\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "229704833"
        }
      ],
      "title": "Implementing and administering AD DS sites and replication"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Adam and Cherokee introduce Group Policy. They cover fundamentals and encourage the study and use of group policy to get hands on experience. Adam demonstrates how to access local policy in a Windows 10 machine as well as domain policy on a domain controller to see how the interfaces differ. He walks thru the interface showing basics such as templates, RSOP and more!  He also shows how to use a command line tool GPResult.exe.",
          "length": "2378",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-1-implementing_group_policy-082817-PGM.00_39_21_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-1-implementing_group_policy-082817-PGM.00_39_21_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-1-implementing_group_policy-082817-PGM.00_39_21_23.Still001-sm.jpg",
          "title": "Implementing Group Policy",
          "transcript": "WEBVTT\n\n1\n00:00:00.250 --> 00:00:02.532\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.532 --> 00:00:06.276\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.276 --> 00:00:08.313\n[MUSIC]\n\n4\n00:00:08.313 --> 00:00:12.110\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.110 --> 00:00:16.340\n&gt;&gt; Welcome, ladies and gentlemen, to\nIdentity with Windows Server 2016 series.\n\n6\n00:00:16.340 --> 00:00:16.840\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.790 --> 00:00:23.050\nIn this episode, we'll be taking a look\nat, well, implementing group policy.\n\n8\n00:00:23.050 --> 00:00:27.216\nAnd back with us in the studios today\nwe have Microsoft expert, Adam Gordon.\n\n9\n00:00:27.216 --> 00:00:28.109\nHow's it going today, Adam?\n\n10\n00:00:28.109 --> 00:00:32.420\n&gt;&gt; Good, good, hopefully everybody's doing\nwell, looking forward to spending sometime\n\n11\n00:00:32.420 --> 00:00:35.610\ntalking with you, with Cherokee,\nand discussing group policy.\n\n12\n00:00:35.610 --> 00:00:38.432\nAnd it's actually a very\nlarge multi-faceted topic.\n\n13\n00:00:38.432 --> 00:00:42.317\nWe're gonna spend a few episodes going\nthrough the logistics on how we set it up,\n\n14\n00:00:42.317 --> 00:00:43.070\nwhat it means.\n\n15\n00:00:43.070 --> 00:00:47.059\nTalk about some interesting new features\nin 2016 of group policy preferences.\n\n16\n00:00:47.059 --> 00:00:50.945\nWhich are actually not a new in 2016, but\nyou may not have heard of them from prior\n\n17\n00:00:50.945 --> 00:00:52.990\nversions of the OS where\nwe supported them.\n\n18\n00:00:52.990 --> 00:00:56.750\nWe'll take a look at some of\nthe old-fashioned tools we can use to\n\n19\n00:00:56.750 --> 00:00:59.880\nfigure out what's going on\nwith group policy, GP results.\n\n20\n00:00:59.880 --> 00:01:01.530\nWe'll look at the editor and\n\n21\n00:01:01.530 --> 00:01:05.601\nthe way in which we can edit a policy\nlocally on an individual machine.\n\n22\n00:01:05.601 --> 00:01:08.422\nWhat we do when we go to the domain\ncontroller, let's say, and\n\n23\n00:01:08.422 --> 00:01:09.775\nedit domain-based policy.\n\n24\n00:01:09.775 --> 00:01:14.650\nAnd we set policy up, but also this idea\nof what we call client-side extensions.\n\n25\n00:01:14.650 --> 00:01:18.220\nNow we manage and manipulate\npolicy these days, all that works.\n\n26\n00:01:18.220 --> 00:01:21.450\nWhat a group policy store is,\nwhere we can put our group policies.\n\n27\n00:01:21.450 --> 00:01:27.260\nThe difference between the old-fashioned\nkind of older standard of .adm extensions,\n\n28\n00:01:27.260 --> 00:01:32.080\nthe new standard for .admx and\nADML extensions, what those are.\n\n29\n00:01:32.080 --> 00:01:34.818\nThose are language extensions,\nby the way, L for language.\n\n30\n00:01:34.818 --> 00:01:39.865\nBut ADMX extensions, the newer XML-based\ngroup policy extensions, which allow us,\n\n31\n00:01:39.865 --> 00:01:44.790\nand have for several generations now,\nto work with more modern group policy.\n\n32\n00:01:44.790 --> 00:01:47.110\nGive us access to all the new\nsettings that we see in and\n\n33\n00:01:47.110 --> 00:01:49.370\nare able to interact with,\nwe're gonna go through all that stuff.\n\n34\n00:01:49.370 --> 00:01:52.450\nAnd as if that wasn't enough,\nwell as always, gonna take you and\n\n35\n00:01:52.450 --> 00:01:54.860\nwalk you through how all that works,\nshow it to you.\n\n36\n00:01:54.860 --> 00:01:57.770\nMake sure you understand step-by-step\nexactly what you need to do.\n\n37\n00:01:57.770 --> 00:01:59.680\nNot only to work with group policy, but\n\n38\n00:01:59.680 --> 00:02:03.400\nalso to be successful with implementing it\nboth as you study, hopefully preparing for\n\n39\n00:02:03.400 --> 00:02:06.170\nthe exam, and\nthen the real world equally importantly.\n\n40\n00:02:06.170 --> 00:02:09.860\nOne of the most important things you're\ngonna be called on to do as a network\n\n41\n00:02:09.860 --> 00:02:14.240\nadministrator, as an IT professional,\nwhether you ever choose to certify or\n\n42\n00:02:14.240 --> 00:02:17.840\nnot obviously notwithstanding,\nis to manage and\n\n43\n00:02:17.840 --> 00:02:21.360\nto interact with the use of group\npolicy in your organization.\n\n44\n00:02:21.360 --> 00:02:25.277\nTo be able to control and to standardize\npolicy settings for security, for\n\n45\n00:02:25.277 --> 00:02:29.147\nthe desktop, for what we generically\ncall the user experience, right?\n\n46\n00:02:29.147 --> 00:02:31.945\nAnd understanding how that works,\nwhat that looks like,\n\n47\n00:02:31.945 --> 00:02:33.440\nwhy we do things a certain way.\n\n48\n00:02:33.440 --> 00:02:37.702\nIt's gonna make you a much more\nvaluable IT professional when we add in\n\n49\n00:02:37.702 --> 00:02:42.183\nthe capability of really understanding\ngroup policy from start to finish\n\n50\n00:02:42.183 --> 00:02:43.133\nthe right way.\n\n51\n00:02:43.133 --> 00:02:45.367\nAnd really understand what\ngoes on with it, how it works,\n\n52\n00:02:45.367 --> 00:02:46.760\nwhy it works the way it does.\n\n53\n00:02:46.760 --> 00:02:49.110\nYou become a very effective manager, and\n\n54\n00:02:49.110 --> 00:02:52.900\na very effective implementor of policy\nstandards for the organization.\n\n55\n00:02:52.900 --> 00:02:55.610\nAnd that's really what\ngroup policy's all about.\n\n56\n00:02:55.610 --> 00:02:58.730\nWe've had historically\nthe ability to manage the user\n\n57\n00:02:58.730 --> 00:03:00.620\nenvironment in one form or another.\n\n58\n00:03:00.620 --> 00:03:04.710\nGoing all the way back to prior times,\ntimes before we actually\n\n59\n00:03:04.710 --> 00:03:09.080\nhad a centralized directory service,\nthat we think of today as the ADDS.\n\n60\n00:03:09.080 --> 00:03:10.120\nWe go all the way back to Windows 95,\n\n61\n00:03:10.120 --> 00:03:13.890\nsome of the earliest versions of\nthe Microsoft operating system.\n\n62\n00:03:13.890 --> 00:03:17.980\nWhere we had what we now would\nthink of as a very early version\n\n63\n00:03:17.980 --> 00:03:20.550\nof what we traditionally\nnow call group policy,\n\n64\n00:03:20.550 --> 00:03:23.600\nwe had what's called the Poledit,\npolicy editor tool.\n\n65\n00:03:23.600 --> 00:03:28.440\nMay or may not remember Poledit, but\nPoledit was a tool we used in Windows 95,\n\n66\n00:03:28.440 --> 00:03:32.660\nWindows 98 prior to the implementation\nof the directory service.\n\n67\n00:03:32.660 --> 00:03:38.060\nBack when we would have had NT 4 with\na primary and backup domain structure.\n\n68\n00:03:38.060 --> 00:03:43.620\nPDC, BDCs, read-write on the PDC,\nread-only on the BDC solution.\n\n69\n00:03:43.620 --> 00:03:49.050\nWhere we had a flat, one kind of level or\nhierarchical model with regards\n\n70\n00:03:49.050 --> 00:03:53.010\nto the directory service, or what we've\nnow come to call the directory service.\n\n71\n00:03:53.010 --> 00:03:57.340\nAnd as a result, from the earliest days\nof the Microsoft operating systems,\n\n72\n00:03:57.340 --> 00:04:00.410\nwe've been able to apply some\nform of policy-based management.\n\n73\n00:04:00.410 --> 00:04:02.390\nThis is not new by any means.\n\n74\n00:04:02.390 --> 00:04:06.700\nBut the idea of centralizing policy\nmanagement in the directory, using\n\n75\n00:04:06.700 --> 00:04:11.470\na policy editor of some kind to apply\nwhat essentially becomes a template or\n\n76\n00:04:11.470 --> 00:04:16.660\na baseline for policy, and attach that at\ndifferent levels to different objects.\n\n77\n00:04:16.660 --> 00:04:20.310\nWe can do this at the site level, we've\ntalked about sites in some prior episodes,\n\n78\n00:04:20.310 --> 00:04:23.080\nwe'll refresh your memory as\nto what those things are.\n\n79\n00:04:23.080 --> 00:04:27.150\nWe could do it at the domain level,\nwe could do it at the OU level.\n\n80\n00:04:27.150 --> 00:04:31.860\nDifferent container objects that represent\nnamespace management capabilities and\n\n81\n00:04:31.860 --> 00:04:35.330\nobject management capabilities\nthroughout our forest.\n\n82\n00:04:35.330 --> 00:04:39.780\nAnd by applying policy at those levels,\nnot to mention the ability to nest\n\n83\n00:04:39.780 --> 00:04:42.110\nOUs inside of each other,\nwhich we've talked about.\n\n84\n00:04:42.110 --> 00:04:45.120\nWe talked about the ability\nto be able to manage objects\n\n85\n00:04:45.120 --> 00:04:47.050\nhierarchically in the namespace.\n\n86\n00:04:47.050 --> 00:04:50.486\nWe could apply policies to\na parent OU container or a sub,\n\n87\n00:04:50.486 --> 00:04:55.650\nwhat we would a call child OU container,\nnested one inside the other, right?\n\n88\n00:04:55.650 --> 00:04:59.659\nAnd as a result of that,\nwe're able to create hierarchy of not only\n\n89\n00:04:59.659 --> 00:05:03.107\ninterdependence and dependency,\nbut of inheritance.\n\n90\n00:05:03.107 --> 00:05:06.717\nAnd this is one of the really important\nthings, really important concepts, but\n\n91\n00:05:06.717 --> 00:05:10.290\nalso a really confusing topic for a lot of\npeople that we get into a group policy.\n\n92\n00:05:10.290 --> 00:05:13.923\nWhich is, they have got these\ncentrally conflicting policies or\n\n93\n00:05:13.923 --> 00:05:15.186\npolicies that exist.\n\n94\n00:05:15.186 --> 00:05:16.659\nThey may not conflict, but\n\n95\n00:05:16.659 --> 00:05:20.750\nthey exist at different levels of\nthe hierarchy in the organization.\n\n96\n00:05:20.750 --> 00:05:25.340\nMaybe a site level policy to apply changes\nto every machine within the forest.\n\n97\n00:05:25.340 --> 00:05:28.080\nAnd that's really what we would\ntraditionally do with the site level.\n\n98\n00:05:28.080 --> 00:05:32.780\nWhat site level policies are designed for,\nvery few things we apply there.\n\n99\n00:05:32.780 --> 00:05:36.516\nWe have the domain-level\npolicy at our namespace,\n\n100\n00:05:36.516 --> 00:05:40.030\ntalked a lot about the domain, what it\nlooks like, what it is, what it's not.\n\n101\n00:05:40.030 --> 00:05:43.734\nAnd equally important, what it\nrepresents for us in prior episodes.\n\n102\n00:05:43.734 --> 00:05:45.930\nIf you don't remember those conversations,\n\n103\n00:05:45.930 --> 00:05:49.080\nif you haven't seem them yet,\nI encourage you to go back take a look\n\n104\n00:05:49.080 --> 00:05:52.625\nat some of the earlier content surrounding\nthis whole area of knowledge for\n\n105\n00:05:52.625 --> 00:05:55.995\nthe Identity in Windows Server\n2016 discussions we're having.\n\n106\n00:05:55.995 --> 00:05:59.410\nCherokee and I spent a lot of time\ndeveloping the thought process for\n\n107\n00:05:59.410 --> 00:06:01.390\nyou around what a domain is, what a tree,\n\n108\n00:06:01.390 --> 00:06:04.720\nwhat a forest, what a site is,\nhow all that comes together.\n\n109\n00:06:04.720 --> 00:06:08.510\nOne of the things we talked about was\nthe fact that the domain is a boundary for\n\n110\n00:06:08.510 --> 00:06:09.280\nmany, many things.\n\n111\n00:06:09.280 --> 00:06:13.890\nA boundary hierarchically, for\nnamespace management, it's a boundary for\n\n112\n00:06:13.890 --> 00:06:17.510\nthe management of objects and association,\nit's a boundary for security and\n\n113\n00:06:17.510 --> 00:06:19.520\nthe application of\npolicy to those objects.\n\n114\n00:06:19.520 --> 00:06:23.030\nAnd we apply group policy at\nthat level for those reasons.\n\n115\n00:06:23.030 --> 00:06:26.430\nWhen we set something up like\nthe default domain policy, or\n\n116\n00:06:26.430 --> 00:06:30.280\nthe default domain controllers policy, we\nhave two default policies at that level.\n\n117\n00:06:30.280 --> 00:06:33.260\nRemind you of what they are,\ncuz we've spoken about them before.\n\n118\n00:06:33.260 --> 00:06:35.360\nWhen we apply one of\nboth of those policies,\n\n119\n00:06:35.360 --> 00:06:41.040\nas we do out of the box by default, when\nwe are starting out, creating our domain,\n\n120\n00:06:41.040 --> 00:06:44.540\nsetting up all the infrastructure,\nthose policies exist automatically.\n\n121\n00:06:44.540 --> 00:06:48.210\nThey apply security settings,\nour standard default settings for\n\n122\n00:06:48.210 --> 00:06:52.710\npassword complexity and\npassword management, password history.\n\n123\n00:06:52.710 --> 00:06:56.094\nThings like that that are related\nto security exist at that level.\n\n124\n00:06:56.094 --> 00:07:00.280\nThen we have some additional settings\nthat we see between those two policies.\n\n125\n00:07:00.280 --> 00:07:03.840\nWe apply settings to all the objects\nin the domain, in that namespace.\n\n126\n00:07:03.840 --> 00:07:07.870\nNot for the entire forest, that's the site\nlevel, but rather at the domain level.\n\n127\n00:07:07.870 --> 00:07:11.550\nAnd then per OU, we have the ability\nto be specific and say for\n\n128\n00:07:11.550 --> 00:07:16.310\nthe sales OU, or the host's OU,\nor the audience OU.\n\n129\n00:07:16.310 --> 00:07:17.600\nIf those were OUs in theory,\n\n130\n00:07:17.600 --> 00:07:20.585\nthat we had created,\nwe want to apply certain policies.\n\n131\n00:07:20.585 --> 00:07:25.590\nMaybe we wanna go ahead and\nperhaps create a policy for\n\n132\n00:07:25.590 --> 00:07:29.640\nthe audience OU that allows us to\ngive access to a lab environment.\n\n133\n00:07:29.640 --> 00:07:32.330\nAnd perhaps give you the rights to\nbe able to interact with that, so\n\n134\n00:07:32.330 --> 00:07:35.260\nyou can study and do your demonstrations,\nand follow along.\n\n135\n00:07:35.260 --> 00:07:37.300\nSo we could do that with group policy.\n\n136\n00:07:37.300 --> 00:07:41.170\nAnd we could combine those policies at\ndifferent levels to create what's called\n\n137\n00:07:41.170 --> 00:07:45.840\nthe effective policy at the end of that\nkind of mathematical algebraic formula.\n\n138\n00:07:45.840 --> 00:07:47.879\nPolicy at this level,\nplus this, plus this, and\n\n139\n00:07:47.879 --> 00:07:49.640\nwe get the effective policy at the bottom.\n\n140\n00:07:49.640 --> 00:07:53.970\nPolicy is cumulative, rolling down from\nthe very top of the hierarchy through all\n\n141\n00:07:53.970 --> 00:07:55.487\nthose levels to the bottom.\n\n142\n00:07:55.487 --> 00:07:59.757\nAnd as a result, we get the net effect\nof what those policy settings will be,\n\n143\n00:07:59.757 --> 00:08:02.760\nas long as they don't\ncancel each other out.\n\n144\n00:08:02.760 --> 00:08:03.695\nEverything's essentially\nvery straight forward.\n\n145\n00:08:03.695 --> 00:08:08.700\nA+B+C, at the bottom it gives\nyou a policy that says, ABC.\n\n146\n00:08:08.700 --> 00:08:13.080\nIf we have multiple settings both in\nthe user's area and the computer area and\n\n147\n00:08:13.080 --> 00:08:14.450\nwe're gonna in show you all this.\n\n148\n00:08:14.450 --> 00:08:18.870\nBut we manipulate two sets of settings for\nevery policy we create,\n\n149\n00:08:18.870 --> 00:08:21.210\na user centric set of settings.\n\n150\n00:08:21.210 --> 00:08:23.570\nA computer centric set of settings.\n\n151\n00:08:23.570 --> 00:08:25.560\nMany times those settings are different,\n\n152\n00:08:25.560 --> 00:08:27.780\noccasionally those\nsettings will be the same.\n\n153\n00:08:27.780 --> 00:08:31.953\nMeaning, we may have different versions\nof those settings that apply both\n\n154\n00:08:31.953 --> 00:08:34.970\nin the user and\nthe computer area per policy.\n\n155\n00:08:34.970 --> 00:08:37.780\nAnd they may interact with each\nother properly and occasionally,\n\n156\n00:08:37.780 --> 00:08:40.650\nif we set them both the same way,\none may override the other.\n\n157\n00:08:40.650 --> 00:08:42.999\nWe'll talk about some of those\npreferences and what they look like.\n\n158\n00:08:42.999 --> 00:08:46.681\nSo we have a lot of things going\non under the hood, right, and\n\n159\n00:08:46.681 --> 00:08:51.160\npolicy is really ultimately gonna be\nas much about managing the details,\n\n160\n00:08:51.160 --> 00:08:53.750\nas it is about managing the outcome.\n\n161\n00:08:53.750 --> 00:08:57.090\nWhat I mean about that when I talk to\ncustomers, when I talk to students,\n\n162\n00:08:57.090 --> 00:09:03.260\nwhen I talk to you about that, is that\npeople think and incorrectly, they assume.\n\n163\n00:09:03.260 --> 00:09:05.090\nThe policies complicated,\nquite the opposite.\n\n164\n00:09:05.090 --> 00:09:08.220\nThe policies actually fairly\na straight forward topic.\n\n165\n00:09:08.220 --> 00:09:12.440\nWhat's complicated is the things that get\nin the way of you doing it the right way\n\n166\n00:09:12.440 --> 00:09:15.130\nbecause you think or\nperhaps have been told or\n\n167\n00:09:15.130 --> 00:09:19.435\nperhaps not have been told in other words,\nnot have been told.\n\n168\n00:09:19.435 --> 00:09:20.803\n&gt;&gt; [LAUGH]\n&gt;&gt; Reverse my pronouns,\n\n169\n00:09:20.803 --> 00:09:21.832\nmy adjectives here.\n\n170\n00:09:21.832 --> 00:09:25.480\nSo they have not been told, you have not\nbeen told the proper way to do this.\n\n171\n00:09:25.480 --> 00:09:27.020\nRight, somebody's never sat you down and\n\n172\n00:09:27.020 --> 00:09:31.080\nsaid hey, it's really simple, here's\nthe three or four rules you gotta follow.\n\n173\n00:09:31.080 --> 00:09:32.410\nAs long as you understand these rules,\n\n174\n00:09:32.410 --> 00:09:35.480\nas long as you pay attention to them,\npolicy is gonna do what you want.\n\n175\n00:09:35.480 --> 00:09:37.890\nThe biggest mistake people make is they\ndon't pay attention to inheritance,\n\n176\n00:09:37.890 --> 00:09:42.160\nthey don't understand how policy\ninteracts level to level.\n\n177\n00:09:42.160 --> 00:09:44.170\nAnd they are concerned and\n\n178\n00:09:44.170 --> 00:09:47.150\nfrustrated by the fact that policy\nnever seems to work the right way.\n\n179\n00:09:47.150 --> 00:09:50.132\nSpend a lot of time troubleshooting\nthis for customers,\n\n180\n00:09:50.132 --> 00:09:54.354\nwhen they have issues where policies don't\ncome together and that bottom line in\n\n181\n00:09:54.354 --> 00:09:57.791\nthe equation where we solve in theory for\nwhat the policy will be.\n\n182\n00:09:57.791 --> 00:09:59.589\nThey don't get A+B+C equals ABC,\n\n183\n00:09:59.589 --> 00:10:02.895\nthey get a bunch of stuff that\nequals something that doesn't really\n\n184\n00:10:02.895 --> 00:10:07.150\nseem to work because they're not paying\nattention how policies interact.\n\n185\n00:10:07.150 --> 00:10:10.476\nAnd as a result,\nthey set policies at the wrong level.\n\n186\n00:10:10.476 --> 00:10:13.790\nThey wanna affect to know you and\nthey set policies at the site level and\n\n187\n00:10:13.790 --> 00:10:15.572\nthey affect the entire forest.\n\n188\n00:10:15.572 --> 00:10:19.010\nThey wanna affect the entire forest,\nthey set it at the domain level and\n\n189\n00:10:19.010 --> 00:10:22.460\nit only applies to one name space\ndoesn't have the desired effect.\n\n190\n00:10:22.460 --> 00:10:26.430\nYet when we eliminate these\nareas of misunderstanding and\n\n191\n00:10:26.430 --> 00:10:30.520\nwe literally focus your attention\non the right way to provide policy\n\n192\n00:10:30.520 --> 00:10:33.710\nbecomes a very simple, very easy exercise.\n\n193\n00:10:33.710 --> 00:10:37.415\nAnd once it's done which is the beautiful\npart about this whole thing,\n\n194\n00:10:37.415 --> 00:10:40.875\ncuz once you set this all up, while\nyou still occasionally have to go and\n\n195\n00:10:40.875 --> 00:10:45.045\nmake new policies, tweak, modify,\nmaintain, report on them.\n\n196\n00:10:45.045 --> 00:10:49.137\nWe'll take a look at what's called the\nRSOP, resulting set of policy tools and\n\n197\n00:10:49.137 --> 00:10:51.652\nour series of conversations\naround this topic.\n\n198\n00:10:51.652 --> 00:10:56.460\nHow we generate a nice HTML generic\nkind of centered report for\n\n199\n00:10:56.460 --> 00:10:58.317\nus on all the settings.\n\n200\n00:10:58.317 --> 00:10:59.724\nHow we can do that in the interface.\n\n201\n00:10:59.724 --> 00:11:01.450\nHow we can do it offline,\nso we could see it outside.\n\n202\n00:11:01.450 --> 00:11:05.542\nHow we can use GP result to\ncreate the same kind of report,\n\n203\n00:11:05.542 --> 00:11:07.302\nput it in a text file.\n\n204\n00:11:07.302 --> 00:11:09.102\nDifferent ways to do this, right?\n\n205\n00:11:09.102 --> 00:11:12.055\nFrom an audit standpoint,\nfrom a management standpoint,\n\n206\n00:11:12.055 --> 00:11:13.364\nthe document will be due.\n\n207\n00:11:13.364 --> 00:11:17.284\nBut once you create these policy's, if you\nget them right, there is very little work\n\n208\n00:11:17.284 --> 00:11:20.509\nthat goes into maintaining them cuz\nthey essentially do what they do.\n\n209\n00:11:20.509 --> 00:11:21.853\nYou wanna back them up of course,\n\n210\n00:11:21.853 --> 00:11:24.830\nwe'll talk about that have a copy of\nthem in case you have to restore them.\n\n211\n00:11:26.030 --> 00:11:29.287\nOnce you've done that, there's not allot\nof maintenance that's involved you have to\n\n212\n00:11:29.287 --> 00:11:30.705\nget out of the way and let it do its job.\n\n213\n00:11:30.705 --> 00:11:33.594\nThe trick is that when you create\nnew policies, you have to show and\n\n214\n00:11:33.594 --> 00:11:36.810\nmake sure you understand how they\nwill interact with existing policies.\n\n215\n00:11:36.810 --> 00:11:40.590\nSo a little bit of regression testing to\nmake sure you don't break anything is\n\n216\n00:11:40.590 --> 00:11:41.780\nalways appropriate.\n\n217\n00:11:41.780 --> 00:11:44.640\nBut aside from that policy's\nfairly straightforward.\n\n218\n00:11:44.640 --> 00:11:47.350\nSo we're gonna take you\nthrough the logic of this,\n\n219\n00:11:47.350 --> 00:11:50.840\ntalk to you about how this works, talk\nto you about some of the moving parts.\n\n220\n00:11:50.840 --> 00:11:54.330\nWhen we define policy settings\nwithin this object called the GPO,\n\n221\n00:11:54.330 --> 00:11:55.430\nthe group policy object.\n\n222\n00:11:55.430 --> 00:11:57.340\nThis is where we begin our journey.\n\n223\n00:11:57.340 --> 00:12:01.540\nThis is what we have to start talking\nabout cuz we understand the concept of\n\n224\n00:12:01.540 --> 00:12:04.790\nthe GPO as a container that\nrepresents all the settings,\n\n225\n00:12:04.790 --> 00:12:06.977\nwhatever the policy says we wanna do.\n\n226\n00:12:06.977 --> 00:12:12.053\nHide this icon from the desktop, modify\nthe control panel so it only shows these\n\n227\n00:12:12.053 --> 00:12:17.810\noptions, change the desktop background,\nput the standard company logo there.\n\n228\n00:12:17.810 --> 00:12:22.280\nAllow users to log in but have\nconstrained interface, remove options,\n\n229\n00:12:22.280 --> 00:12:26.720\ntake away certain settings on the start\nmenu, perhaps deploy software.\n\n230\n00:12:26.720 --> 00:12:28.790\nWe can do that through group policy.\n\n231\n00:12:28.790 --> 00:12:33.780\nPerhaps modify or make changes to this or\nthat environment by mapping a drive and\n\n232\n00:12:33.780 --> 00:12:35.510\ninstalling a print device.\n\n233\n00:12:35.510 --> 00:12:38.420\nAll these things we could do,\nthere's thousands literally.\n\n234\n00:12:38.420 --> 00:12:44.100\nSettings today and Server 16 with Windows\n10 on the client side that apply and\n\n235\n00:12:44.100 --> 00:12:47.970\npotentially levers that we can pull to\nmake modifications to these environments.\n\n236\n00:12:47.970 --> 00:12:50.640\nWhat we're essentially\ndoing with group policy,\n\n237\n00:12:50.640 --> 00:12:53.790\nis we're engaging in\nsafe registry editing.\n\n238\n00:12:53.790 --> 00:12:57.224\nSo if you think about the logic of\ngroup policy, what it really implies is\n\n239\n00:12:57.224 --> 00:13:00.096\nwe're going in and\nmaking changes to the registry which is,\n\n240\n00:13:00.096 --> 00:13:03.732\nwhere we would go under any circumstance\nregardless of what the interface.\n\n241\n00:13:03.732 --> 00:13:05.840\nWhat the GUI is to make a change.\n\n242\n00:13:05.840 --> 00:13:08.410\nAll those changes ultimately\nwind up in the registry.\n\n243\n00:13:08.410 --> 00:13:11.250\nYou install software,\nyou modify the registry of the system.\n\n244\n00:13:11.250 --> 00:13:14.720\nYou make a change to a setting,\nyou modify the registry of the system.\n\n245\n00:13:14.720 --> 00:13:18.180\nThat's the collection of settings\nto drive the operating system.\n\n246\n00:13:18.180 --> 00:13:23.360\nWe've always had this struggle which is,\nis it safe to go to the registry directly?\n\n247\n00:13:23.360 --> 00:13:23.960\nIs it allowed?\n\n248\n00:13:23.960 --> 00:13:25.130\nIs it a best practice?\n\n249\n00:13:25.130 --> 00:13:26.997\nWe use air quotes for that, right.\n\n250\n00:13:26.997 --> 00:13:27.899\nHello, right.\n\n251\n00:13:27.899 --> 00:13:30.527\n&gt;&gt; [LAUGH]\n&gt;&gt; Best practice, right does Microsoft in\n\n252\n00:13:30.527 --> 00:13:34.170\nother words recommend to us that we\nshould go poking around in the registry?\n\n253\n00:13:34.170 --> 00:13:38.638\nAnd the answer historically is no,\nwe don't want you in the registry by\n\n254\n00:13:38.638 --> 00:13:43.553\nyourself, right, without guidance,\nwithout some safety valves checks and\n\n255\n00:13:43.553 --> 00:13:46.390\ntools that will prevent\nyou from doing harm.\n\n256\n00:13:46.390 --> 00:13:50.460\nBecause registry editing through even\nthe registry editor tools, right?\n\n257\n00:13:50.460 --> 00:13:54.840\nThe Regedt32 or\nwhatever the tool may be that you'll use,\n\n258\n00:13:54.840 --> 00:13:57.100\nwhatever registry editor you favor, right?\n\n259\n00:13:57.100 --> 00:13:59.410\nWhatever it may be, yes,\nit's an authorized tool.\n\n260\n00:13:59.410 --> 00:14:00.520\nYes, we provide it to you.\n\n261\n00:14:00.520 --> 00:14:01.830\nYes, you can use it.\n\n262\n00:14:01.830 --> 00:14:03.840\nBut there's no undo arrow in there.\n\n263\n00:14:03.840 --> 00:14:05.870\nThere's no oops,\nI didn't mean to do that option, right.\n\n264\n00:14:05.870 --> 00:14:10.010\nIf you go in there,\nregistry editing takes place real time and\n\n265\n00:14:10.010 --> 00:14:10.970\nis applied immediately.\n\n266\n00:14:10.970 --> 00:14:14.980\nThe minute you type a value in and hit OK,\nthat's already applied to the system.\n\n267\n00:14:14.980 --> 00:14:17.751\nAnd you're gonna find out immediately,\nit's the perfect feedback loop.\n\n268\n00:14:17.751 --> 00:14:21.754\nYou're gonna know immediately whether you\ndid something wrong or not because as soon\n\n269\n00:14:21.754 --> 00:14:25.826\nas you hit OK, if the screen implodes and\neverything disappears, you made a mistake.\n\n270\n00:14:25.826 --> 00:14:28.597\nBut the problem is at that point,\nit's a little late to fix it, right?\n\n271\n00:14:28.597 --> 00:14:32.710\nIt's not like Word, where you can hit\nthe back arrow or ie or whatever and\n\n272\n00:14:32.710 --> 00:14:34.268\nget another shot, right?\n\n273\n00:14:34.268 --> 00:14:35.514\nAnd do it again the right way.\n\n274\n00:14:35.514 --> 00:14:37.290\nYou may have a shot at fixing it.\n\n275\n00:14:37.290 --> 00:14:39.640\nBut that may involve a system restore.\n\n276\n00:14:39.640 --> 00:14:41.228\nIt may involve a safe boot, right?\n\n277\n00:14:41.228 --> 00:14:44.200\nIt may involve a backup and\nrestore scenario.\n\n278\n00:14:44.200 --> 00:14:45.680\nIt's probably not gonna involve oops,\n\n279\n00:14:45.680 --> 00:14:48.390\nI didn't mean to do that,\nlet me try again, right?\n\n280\n00:14:48.390 --> 00:14:52.360\nAnd so while we want you making changes\nwe want you doing it in a way that's not\n\n281\n00:14:52.360 --> 00:14:53.760\ngonna harm the system.\n\n282\n00:14:53.760 --> 00:14:58.150\nWe wanna constrain your ability to do it,\nfocus you on the right way.\n\n283\n00:14:58.150 --> 00:15:01.010\nEliminate the distractions and\nget you in trouble.\n\n284\n00:15:01.010 --> 00:15:03.400\nThat's what registry editing\nreally should be and\n\n285\n00:15:03.400 --> 00:15:05.270\nthat's what group policy represents.\n\n286\n00:15:05.270 --> 00:15:11.210\nA use of a set of tools with an overlay,\na set of options, very well documented.\n\n287\n00:15:11.210 --> 00:15:12.270\nWe'll show you this when we go in and\n\n288\n00:15:12.270 --> 00:15:16.630\nwe take a look, that allow you to make\nchoices about turning on, turning off,\n\n289\n00:15:16.630 --> 00:15:19.840\nmodifying and\ncreating settings in the registry.\n\n290\n00:15:19.840 --> 00:15:22.190\nBut in a way that will not harm\nthe operating system, right.\n\n291\n00:15:22.190 --> 00:15:24.540\nThat's really the most important thing.\n\n292\n00:15:24.540 --> 00:15:27.600\nAnd while you in theory, could go\ndirectly to the registry editor and\n\n293\n00:15:27.600 --> 00:15:29.458\ndo the same thing that group policy does.\n\n294\n00:15:29.458 --> 00:15:31.165\nYou'd have to do it number one,\n\n295\n00:15:31.165 --> 00:15:35.890\non a per machine basis which would be very\ntime consuming not the best way to do it.\n\n296\n00:15:35.890 --> 00:15:39.170\nYou could setup a template\nwhere you get an image of\n\n297\n00:15:39.170 --> 00:15:41.930\na machine that's been modified and\nroll that out.\n\n298\n00:15:41.930 --> 00:15:45.132\nDeploy that through WDS,\nwhen there's deployment services,\n\n299\n00:15:45.132 --> 00:15:48.344\nghosts, whatever you use as\nan imaging platform could do that.\n\n300\n00:15:48.344 --> 00:15:50.949\nBut then every time you wanted to make\na change, you'd have to have big image.\n\n301\n00:15:50.949 --> 00:15:53.355\nThere's really no good way\nto push those changes out,\n\n302\n00:15:53.355 --> 00:15:55.726\nin other words with a central\nmanagement mechanism.\n\n303\n00:15:55.726 --> 00:15:57.320\nGroup policy overcomes that.\n\n304\n00:15:57.320 --> 00:16:01.336\nWe have an ability to send those out,\nand to replicate them and\n\n305\n00:16:01.336 --> 00:16:03.740\napply them every time a user logs on.\n\n306\n00:16:03.740 --> 00:16:05.670\nEvery time a computer starts up.\n\n307\n00:16:05.670 --> 00:16:07.860\nEvery time we log off,\nevery time we shut down.\n\n308\n00:16:07.860 --> 00:16:09.910\nIf we're talking about scripts.\n\n309\n00:16:09.910 --> 00:16:12.900\nGenerically, if we're talking about\npolicy, when we log on and or\n\n310\n00:16:12.900 --> 00:16:15.480\nwhen we start up, we're applying policy.\n\n311\n00:16:15.480 --> 00:16:16.380\nNot only then, but\n\n312\n00:16:16.380 --> 00:16:21.780\nwe're refreshing it anywhere from every 90\nminutes to potentially every 120 minutes.\n\n313\n00:16:21.780 --> 00:16:23.300\nOn a normal set of machines.\n\n314\n00:16:23.300 --> 00:16:26.510\nA member server, a client end point.\n\n315\n00:16:26.510 --> 00:16:29.220\nOn the local machine if we're\nnot a member of the domain.\n\n316\n00:16:29.220 --> 00:16:31.760\nAgain, anywhere from 90 to 120 minutes.\n\n317\n00:16:31.760 --> 00:16:35.260\nOn a domain controller, the only one\nthat doesn't refresh between 90 and\n\n318\n00:16:35.260 --> 00:16:36.810\n120 minutes, every 5 minutes by default.\n\n319\n00:16:36.810 --> 00:16:42.210\nBut those variable timelines\nare modifiable by you to some degree.\n\n320\n00:16:42.210 --> 00:16:45.540\nAnd they're controlled by us,\nby Microsoft to some degree.\n\n321\n00:16:45.540 --> 00:16:48.570\nBut there's room there for\nus to decide how that's gonna happen.\n\n322\n00:16:48.570 --> 00:16:51.450\nSecurity settings, for instance, and\nanything associated with security,\n\n323\n00:16:51.450 --> 00:16:54.830\ngets applied and\nrefreshed on that machine every 16 hours.\n\n324\n00:16:54.830 --> 00:16:57.170\nRegardless of whether\nyou've made changes or\n\n325\n00:16:57.170 --> 00:17:00.430\nnot, we go through we look,\nwe reapply that security template or\n\n326\n00:17:00.430 --> 00:17:04.880\nthe settings to ensure the system meets\nthe requirements for being secure.\n\n327\n00:17:04.880 --> 00:17:05.840\nThat's out of your control.\n\n328\n00:17:05.840 --> 00:17:08.890\nThat's hard coded into the system,\ncan't modify that with group policy.\n\n329\n00:17:08.890 --> 00:17:11.550\nThat's just how Microsoft manages\n\n330\n00:17:11.550 --> 00:17:14.750\nthe implementation of security to\nensure the system is locked down.\n\n331\n00:17:14.750 --> 00:17:16.530\nSo there's settings that\nyou want to be aware of.\n\n332\n00:17:16.530 --> 00:17:19.660\nThere's environmental variables\nthat you wanna account for.\n\n333\n00:17:19.660 --> 00:17:23.780\nWe may modify the application or policy\nbased on how slow or fast the link is\n\n334\n00:17:23.780 --> 00:17:27.380\nbetween the system, and the domain control\nwhere we're getting the policy from.\n\n335\n00:17:27.380 --> 00:17:29.450\nWe measure slow link, and\n\n336\n00:17:29.450 --> 00:17:34.090\nslow link processing as an option we\nhave as an owner and we can control.\n\n337\n00:17:34.090 --> 00:17:37.210\nThe minimum threshold is\n500 kilobytes by default.\n\n338\n00:17:37.210 --> 00:17:41.330\nBut we can specify, hey I want less or\nmore bandwidth is the threshold for\n\n339\n00:17:41.330 --> 00:17:44.170\napplying policy, and\nperhaps constrain the policy and\n\n340\n00:17:44.170 --> 00:17:48.830\nsay hey, don't deploy software if\nit's a slow link, less than 500k.\n\n341\n00:17:48.830 --> 00:17:50.990\nBut deploy software if it's above that,\nright.\n\n342\n00:17:50.990 --> 00:17:55.560\nBecause maybe we don't wanna push\nMicrosoft Office 2016 as a software\n\n343\n00:17:55.560 --> 00:17:57.200\ndeployment through group policy.\n\n344\n00:17:57.200 --> 00:18:01.310\nKnowing the bandwidth is so slow we're\ngonna just essentially lock system up or\n\n345\n00:18:01.310 --> 00:18:04.060\nbreak that connection, right,\nnot allow anyone else to use it.\n\n346\n00:18:04.060 --> 00:18:06.750\nSo group policy is this\nmulti-faceted system.\n\n347\n00:18:06.750 --> 00:18:11.090\nAll sorts of things we can do,\nall sorts of options that we have in\n\n348\n00:18:11.090 --> 00:18:15.700\norder to be able to control,\nmodify and create the environment.\n\n349\n00:18:15.700 --> 00:18:18.700\nThat we wanna be able to\nultimately operate with.\n\n350\n00:18:18.700 --> 00:18:19.910\nBut you gotta get in there, right.\n\n351\n00:18:19.910 --> 00:18:22.770\nYou gotta take a look,\nyou gotta understand what's going on.\n\n352\n00:18:22.770 --> 00:18:25.660\nYou gotta practice it to understand\nhow to do it the right way.\n\n353\n00:18:25.660 --> 00:18:30.290\nIf you don't, you're missing probably one\nof the most important opportunities in\n\n354\n00:18:30.290 --> 00:18:33.470\nterms of the power and\nthe strength of this tool to\n\n355\n00:18:33.470 --> 00:18:36.510\nbe able to deploy the environment and\ncontrol it the way you would like.\n\n356\n00:18:36.510 --> 00:18:37.480\nYeah.\nThere are other ways to\n\n357\n00:18:37.480 --> 00:18:38.700\nget to what we want to do.\n\n358\n00:18:38.700 --> 00:18:41.460\nBut they're not as effective,\nthey're not centrally managed.\n\n359\n00:18:41.460 --> 00:18:43.315\nAnd they're also not unfortunately,\n\n360\n00:18:43.315 --> 00:18:45.942\ngonna be as scalable as I\nsuggested to you, right?\n\n361\n00:18:45.942 --> 00:18:49.620\nJust not to be able to run\na 10,000 seat organization,\n\n362\n00:18:49.620 --> 00:18:52.310\nusing individual registry edits by hand.\n\n363\n00:18:52.310 --> 00:18:53.550\nJust doesn't scale that well.\n\n364\n00:18:53.550 --> 00:18:55.760\nSo keep that in mind as we get started.\n\n365\n00:18:55.760 --> 00:18:58.210\nRight I know Cherokee's been dying to\nsay something for like, ten minutes,\n\n366\n00:18:58.210 --> 00:19:00.380\nshe's like, shut up already,\nlet me say something.\n\n367\n00:19:00.380 --> 00:19:02.890\nSo, I'm gonna actually\nwatch Cherokee talking, and\n\n368\n00:19:02.890 --> 00:19:04.740\nyou're gonna ask your question and\nI'm gonna pay attention.\n\n369\n00:19:04.740 --> 00:19:07.520\nBut there is something I wanna show you,\nwe're not ready yet,\n\n370\n00:19:07.520 --> 00:19:08.810\nshe's gonna ask her question and\nI'm gonna look it up,\n\n371\n00:19:08.810 --> 00:19:12.030\nbut there's actually a set of\ngroup policies spreadsheets.\n\n372\n00:19:12.030 --> 00:19:13.920\nYou've heard me talk about them before\non some of the shows we've done.\n\n373\n00:19:13.920 --> 00:19:16.100\nI just want to bring it up,\nshow you where to find them.\n\n374\n00:19:16.100 --> 00:19:20.870\nThey're gonna show you essentially\na master list of all the current settings\n\n375\n00:19:20.870 --> 00:19:22.010\nBIOS, whatever they may be.\n\n376\n00:19:22.010 --> 00:19:24.830\nIn this case,\nwe're here to talk about the Server 16,\n\n377\n00:19:24.830 --> 00:19:26.710\nWindows 10 kinda falls\noff the same bucket.\n\n378\n00:19:26.710 --> 00:19:28.850\nBut you actually could go out and\nget this master list.\n\n379\n00:19:28.850 --> 00:19:31.750\nIt's a nice spreadsheet Microsoft\nputs out and updates and\n\n380\n00:19:31.750 --> 00:19:33.910\nit gives you the owners\nmanual of the group policy.\n\n381\n00:19:33.910 --> 00:19:36.540\nSo while you're asking it the question,\nI'm just gonna bring up on the web so\n\n382\n00:19:36.540 --> 00:19:39.040\nwe can show you as soon as I'm ready,\nwhere you can download that.\n\n383\n00:19:39.040 --> 00:19:42.080\nThat way you a fighting chance\nof figuring all this out.\n\n384\n00:19:42.080 --> 00:19:43.130\n&gt;&gt; Yeah, those ones are pretty cool.\n\n385\n00:19:43.130 --> 00:19:44.000\n&gt;&gt; They are pretty cool, right?\n\n386\n00:19:44.000 --> 00:19:44.880\nYeah, they are.\n&gt;&gt; So definitely give\n\n387\n00:19:44.880 --> 00:19:45.610\nyou a second to do that.\n\n388\n00:19:45.610 --> 00:19:46.590\nWe'll wait, we'll wait.\n\n389\n00:19:46.590 --> 00:19:48.030\nBut no,\nI didn't have any specific question.\n\n390\n00:19:48.030 --> 00:19:51.860\nI just kinda wanted to, what you\nwere saying was absolutely correct.\n\n391\n00:19:51.860 --> 00:19:56.445\nIn looking at it from a perspective\nof reducing that human error as well.\n\n392\n00:19:56.445 --> 00:19:59.095\nIf you think about,\nlike you said, it being scalable.\n\n393\n00:19:59.095 --> 00:20:02.945\nAnd even in a mixed environment,\nmaybe I have different operating systems,\n\n394\n00:20:02.945 --> 00:20:04.005\ndifferent versions.\n\n395\n00:20:04.005 --> 00:20:08.335\nAnd for me to know where each one of those\nregistry keys were to go in and modify.\n\n396\n00:20:08.335 --> 00:20:12.835\nAnd then knowing which hive it was in, and\nwith all the different operating systems.\n\n397\n00:20:12.835 --> 00:20:14.865\nIt could happen as far as errors go, so\n\n398\n00:20:14.865 --> 00:20:19.750\nwe're just helping eliminate that\nhuman error by utilizing group policy.\n\n399\n00:20:19.750 --> 00:20:21.570\n&gt;&gt; Yes, no, no, absolutely,\na hundred percent.\n\n400\n00:20:21.570 --> 00:20:22.800\nSo, if you wanna join me here.\n\n401\n00:20:22.800 --> 00:20:24.110\nI am true to my word.\n\n402\n00:20:24.110 --> 00:20:24.990\nIn this particular case.\n\n403\n00:20:24.990 --> 00:20:26.240\nI was quick enough.\n\n404\n00:20:26.240 --> 00:20:29.055\nSo, all I did, and I'll show you\nessentially how to find this.\n\n405\n00:20:29.055 --> 00:20:32.630\nWe;'ll put the link for this in the show\nnotes, by the way, as we often try to do.\n\n406\n00:20:32.630 --> 00:20:35.170\nBut all I did was literally\njust go out to Google and\n\n407\n00:20:35.170 --> 00:20:38.650\nI just typed in group policy\nspreadsheet download.\n\n408\n00:20:38.650 --> 00:20:40.770\nAnd again, we'll provide the link to you.\n\n409\n00:20:40.770 --> 00:20:44.630\nIt changes every so often, the reason I'm\ntelling you how I found it is Eversoft and\n\n410\n00:20:44.630 --> 00:20:47.490\nMicrosoft will change around\nsome of the download links.\n\n411\n00:20:47.490 --> 00:20:50.010\nYou go, it's not there any more,\nso just knowing how to Google for\n\n412\n00:20:50.010 --> 00:20:51.070\nit's always a good thing.\n\n413\n00:20:51.070 --> 00:20:53.540\nBut I Googled for that,\nI took the first link that came up.\n\n414\n00:20:53.540 --> 00:20:58.180\nAnd, you'll see group policy setting\nreference for Windows and Windows server.\n\n415\n00:20:58.180 --> 00:21:00.021\nAnd you can also buy\nyourself a Surface laptop.\n\n416\n00:21:00.021 --> 00:21:01.400\n[LAUGH]\n&gt;&gt; Feel free to do that as well if\n\n417\n00:21:01.400 --> 00:21:02.420\nyou like.\n\n418\n00:21:02.420 --> 00:21:06.490\nAnd you'll see, again, I just opened up\nthe details here to show you what it is.\n\n419\n00:21:06.490 --> 00:21:10.600\nYou can see it's, you know, from earlier\nin 2017, the most recent update to it.\n\n420\n00:21:10.600 --> 00:21:14.030\nMicrosoft updates it couple of times\na year depending on service packs,\n\n421\n00:21:14.030 --> 00:21:15.470\nfeatures, things like that.\n\n422\n00:21:15.470 --> 00:21:21.915\nYou'll see this one, Windows 10 and\nWindows Server 16 policy settings, XLSX.\n\n423\n00:21:21.915 --> 00:21:25.080\nSo it's the spreadsheet\nthat we're looking for.\n\n424\n00:21:25.080 --> 00:21:30.080\nAnd it will then allow you to be able to\ngo ahead and have all of this information.\n\n425\n00:21:30.080 --> 00:21:32.550\nSo if we download this,\njust take a quick look.\n\n426\n00:21:34.160 --> 00:21:35.800\nGo ahead and just grab this real quick.\n\n427\n00:21:35.800 --> 00:21:38.240\nI'll just save it off to the desktop here.\n\n428\n00:21:38.240 --> 00:21:39.600\nJust so we can take a look at it.\n\n429\n00:21:40.620 --> 00:21:41.780\nVery, very quick.\n\n430\n00:21:41.780 --> 00:21:43.040\nShouldn't take too long.\n\n431\n00:21:43.040 --> 00:21:45.240\nI'll just minimize my notes there for\na second.\n\n432\n00:21:45.240 --> 00:21:48.840\nAnd when you open this up, what we'll see,\n\n433\n00:21:50.780 --> 00:21:54.930\nthat is if I can get it to double\nclick and actually open, there we go.\n\n434\n00:21:54.930 --> 00:22:02.914\nWhat we'll see, is Try that one more time,\nI think I opened it twice.\n\n435\n00:22:02.914 --> 00:22:06.500\nError, no, show that again.\n\n436\n00:22:06.500 --> 00:22:08.225\nThree points, having me say that.\n\n437\n00:22:08.225 --> 00:22:11.095\nAll right, anyway,\nmaybe just something with the download.\n\n438\n00:22:11.095 --> 00:22:13.715\nBut ultimately when you do\nopen it up on your machine.\n\n439\n00:22:13.715 --> 00:22:15.105\n&gt;&gt; I was able to pull it up Adam.\n\n440\n00:22:15.105 --> 00:22:16.535\n&gt;&gt; Yeah when you open\nit up on your machine,\n\n441\n00:22:16.535 --> 00:22:19.175\njust I may have a problem with the file,\nprobably not even downloaded correctly.\n\n442\n00:22:19.175 --> 00:22:22.667\n&gt;&gt; But when you do go to open it,\nand you may have seen these already.\n\n443\n00:22:22.667 --> 00:22:23.837\nYou, hopefully you're using them.\n\n444\n00:22:23.837 --> 00:22:25.637\nIf you're not,\ndefinitely wanna go out and get it.\n\n445\n00:22:25.637 --> 00:22:29.457\nBut what you'll find is you'll\nfind that we have, I don't know,\n\n446\n00:22:29.457 --> 00:22:32.587\nthere's probably several thousand\nsettings in there at this point.\n\n447\n00:22:32.587 --> 00:22:35.587\nAnd the nice thing about\nthe spreadsheet is it's laid out and\n\n448\n00:22:35.587 --> 00:22:39.080\nit gives you the information\nI need to individual setting.\n\n449\n00:22:39.080 --> 00:22:42.250\nIt's searchable, so\nyou can put a filter line across, or\n\n450\n00:22:42.250 --> 00:22:45.454\nthe headers, and you could search and\nfilter and sort by column.\n\n451\n00:22:45.454 --> 00:22:49.490\nIt gives you the name of the setting, the\narea of the software interface it works\n\n452\n00:22:49.490 --> 00:22:52.150\nwith, so you can group all\nthe settings for, you know edge,\n\n453\n00:22:52.150 --> 00:22:53.930\ngroup all the settings for\nthe control panel,\n\n454\n00:22:53.930 --> 00:22:57.690\nyou can search by area and by function,\nshows you the registry keys.\n\n455\n00:22:57.690 --> 00:22:59.680\nSo it tells you where were modified.\n\n456\n00:22:59.680 --> 00:23:02.980\nGives you a detailed description\non what the setting does, and\n\n457\n00:23:02.980 --> 00:23:06.100\nthe potential dependencies\nof that setting,\n\n458\n00:23:06.100 --> 00:23:10.900\nas well as what operating systems or\ntypically that setting applies to.\n\n459\n00:23:10.900 --> 00:23:14.185\nBecause it's very rare that\nthe setting just applies let say\n\n460\n00:23:14.185 --> 00:23:15.185\nto the most recent OS.\n\n461\n00:23:15.185 --> 00:23:18.755\nA lot of those settings may have\nbeen around for several generations.\n\n462\n00:23:18.755 --> 00:23:22.720\nSo knowing in mixed domain environments\nwhere you may have Windows 7,\n\n463\n00:23:22.720 --> 00:23:26.883\nlet's say, maybe Windows 10 clients\nhow those settings will affect and\n\n464\n00:23:26.883 --> 00:23:29.907\nhave a play,\nis really valuable and important.\n\n465\n00:23:29.907 --> 00:23:34.837\nOr on the server side, maybe Server 16,\nServer 12 R2, Server 2008 R2,\n\n466\n00:23:34.837 --> 00:23:36.847\nwhatever on the server side.\n\n467\n00:23:36.847 --> 00:23:40.908\nAgain, if I set a setting in one\ndoes it roll through all of them and\n\n468\n00:23:40.908 --> 00:23:43.158\nyou know how's that gonna work,\nthat kinda thing.\n\n469\n00:23:43.158 --> 00:23:45.588\nJust be aware of that,\nand just think about that.\n\n470\n00:23:45.588 --> 00:23:47.358\nSo just a resource for you,\n\n471\n00:23:47.358 --> 00:23:51.386\nwe're kinda getting started, just a high\nlevel talking a little bit about policy.\n\n472\n00:23:51.386 --> 00:23:53.053\nWhat it is?\nHow we deal with it,\n\n473\n00:23:53.053 --> 00:23:58.385\nkinda what the details are we can use\nPower Shell to create policies as well\n\n474\n00:23:58.385 --> 00:24:03.631\nA New-GPO is the commandlet we would use,\nalong with a name parameter,\n\n475\n00:24:03.631 --> 00:24:07.420\nto be able to go ahead and\ncreate just a policy shell.\n\n476\n00:24:07.420 --> 00:24:09.800\nI'm not talking about\ndetailing in all the settings.\n\n477\n00:24:09.800 --> 00:24:12.491\nI'm just talking about\ncreating the policy itself,\n\n478\n00:24:12.491 --> 00:24:15.795\nwhich is nothing more than an empty\nshell that then can be edited.\n\n479\n00:24:15.795 --> 00:24:17.752\nSo this can be done with group policy,\nor excuse me,\n\n480\n00:24:17.752 --> 00:24:19.680\ngroup policy can be\ndone with group policy.\n\n481\n00:24:19.680 --> 00:24:21.470\nGroup policy can be done with PowerShell.\n\n482\n00:24:21.470 --> 00:24:25.100\nWe often, in many, many of our\ndiscussions, talk about PowerShell,\n\n483\n00:24:25.100 --> 00:24:28.160\nits importance, it's significance\nas a management tool, and\n\n484\n00:24:28.160 --> 00:24:29.610\nyour ability to use it.\n\n485\n00:24:29.610 --> 00:24:31.090\nVery important for\nyou to be thinking about that.\n\n486\n00:24:31.090 --> 00:24:35.206\nAnd you can create a link up policy\nthrough PowerShell at different levels,\n\n487\n00:24:35.206 --> 00:24:37.740\nsite, domain, OU, as we suggested.\n\n488\n00:24:37.740 --> 00:24:41.710\nSo the idea of the scope of the group\npolicy, right, becomes very important for\n\n489\n00:24:41.710 --> 00:24:44.090\nus to understand the thought process.\n\n490\n00:24:44.090 --> 00:24:47.490\nLet's go in, and give me just a second\nbefore we jump to the machine.\n\n491\n00:24:47.490 --> 00:24:52.155\nI just want to extend the lab timer here,\njust so that we can look at everything and\n\n492\n00:24:52.155 --> 00:24:53.065\nnot run out of time.\n\n493\n00:24:53.065 --> 00:24:56.465\nBut let's take a look at two\nexamples of group policy,\n\n494\n00:24:56.465 --> 00:24:59.645\njust to give you a sense what the console\nlooks like, get our feet wet a little bit.\n\n495\n00:24:59.645 --> 00:25:02.515\nYou've heard me talking about it for\nclose to 20 minutes now,\n\n496\n00:25:02.515 --> 00:25:04.235\nit's probably good to show you something.\n\n497\n00:25:04.235 --> 00:25:06.755\nRight, cuz Cherokee's making a face at\nme off camera, show them something,\n\n498\n00:25:06.755 --> 00:25:07.715\ndon't just talk.\n\n499\n00:25:07.715 --> 00:25:10.215\nSo, let's actually put\nsomething up on the screen.\n\n500\n00:25:10.215 --> 00:25:13.512\nSo what I'm looking at here\nis a Windows 10 machine.\n\n501\n00:25:13.512 --> 00:25:17.520\nRight, so I'm just on my Windows 10,\nas you could see, Desktop here.\n\n502\n00:25:17.520 --> 00:25:21.469\nAnd on my Windows 10 machine,\nI've got the group policy editor,\n\n503\n00:25:21.469 --> 00:25:23.560\nthe local policy editor opened up.\n\n504\n00:25:23.560 --> 00:25:26.894\nJust went through a run line,\nopened up the runline type GPEDIT, and\n\n505\n00:25:26.894 --> 00:25:28.569\nbrought the local policy editor.\n\n506\n00:25:28.569 --> 00:25:31.425\nYou could see it says,\nlocal computer policy right up here.\n\n507\n00:25:31.425 --> 00:25:35.130\nAnd when I taught you about the different\norder of policy that we can apply from\n\n508\n00:25:35.130 --> 00:25:36.160\nthe site level down.\n\n509\n00:25:36.160 --> 00:25:41.540\nI actually left out the local policy\non purpose, but every machine starts\n\n510\n00:25:41.540 --> 00:25:47.120\nout with any kind of machine, whatever\nit is, has local policies applied.\n\n511\n00:25:47.120 --> 00:25:51.226\nThis is what gives us our default\nenvironment, the blue background,\n\n512\n00:25:51.226 --> 00:25:54.330\nthe left margin justified\nicons on the desktop.\n\n513\n00:25:54.330 --> 00:25:56.714\nWhatever pass it for\nstart menu and start button,\n\n514\n00:25:56.714 --> 00:26:00.817\ndepending on what version of the OS you're\nusing, among all the other things we get.\n\n515\n00:26:00.817 --> 00:26:04.649\nThat's what a local computer policy does,\nand we always start with the local policy.\n\n516\n00:26:04.649 --> 00:26:09.185\nWe don't log in to a domain, or\non a standalone system that's the policy,\n\n517\n00:26:09.185 --> 00:26:10.130\nthe only one.\n\n518\n00:26:10.130 --> 00:26:11.840\nAnd the one that we operate from or\n\n519\n00:26:11.840 --> 00:26:14.875\nwhatever that effective set\nof settings is what we get.\n\n520\n00:26:14.875 --> 00:26:17.385\nAnd I'm gonna show you how\nto see those in a minute,\n\n521\n00:26:17.385 --> 00:26:19.515\nusing the GP Result tool\nthat I mentioned to you.\n\n522\n00:26:19.515 --> 00:26:22.775\nI've got it opened in the command prompt\nhere, and we'll take a look at it.\n\n523\n00:26:22.775 --> 00:26:25.905\nAnd I'll show you how to output\nthe contents of that to a text file and\n\n524\n00:26:25.905 --> 00:26:26.415\nread that.\n\n525\n00:26:26.415 --> 00:26:28.995\nBut that becomes the effective policy.\n\n526\n00:26:28.995 --> 00:26:32.515\nIf you're on a member server, but\nyou're logging into the domain, or\n\n527\n00:26:32.515 --> 00:26:35.170\na member of client.\n\n528\n00:26:35.170 --> 00:26:37.700\nJoin to the domain, but you're\nlogging in with a domain credential.\n\n529\n00:26:37.700 --> 00:26:39.190\nWe start with that local policy, but\n\n530\n00:26:39.190 --> 00:26:43.660\nthen all the domain, the site, the domain,\nthe OU policies, overlay that.\n\n531\n00:26:43.660 --> 00:26:46.070\nZeroing out, changing,\nmodifying settings as we go.\n\n532\n00:26:46.070 --> 00:26:49.202\nBut if we don't modify\na setting in the local policy,\n\n533\n00:26:49.202 --> 00:26:52.760\nit makes its way through to\nthe end result effective policy.\n\n534\n00:26:52.760 --> 00:26:56.380\nAnd that still plays a part in\ncrafting the environment that we have.\n\n535\n00:26:56.380 --> 00:26:59.380\nIf you don't for\ninstance at the OU level, or\n\n536\n00:26:59.380 --> 00:27:03.280\nat the site level, at the domain level,\nset a policy element that says,\n\n537\n00:27:03.280 --> 00:27:06.990\nchange background picture, or\nchange desktop background.\n\n538\n00:27:06.990 --> 00:27:10.575\nYou'll get the effective desktop\nsettings at the local policy implies\n\n539\n00:27:10.575 --> 00:27:12.100\nthe machine should have.\n\n540\n00:27:12.100 --> 00:27:14.430\nSo, the local policies\nare a very important thing.\n\n541\n00:27:14.430 --> 00:27:16.810\nIt is the beginning of our policy journey.\n\n542\n00:27:17.950 --> 00:27:20.640\nYou ever watch the Wizard\nof Oz when you were a kid?\n\n543\n00:27:20.640 --> 00:27:21.441\n&gt;&gt; I love that movie.\n\n544\n00:27:21.441 --> 00:27:24.710\n&gt;&gt; Great movie, right, most people\nprobably seen the Wizard of Oz.\n\n545\n00:27:24.710 --> 00:27:27.232\nAnd I'm talking about the original,\nby the way, right?\n\n546\n00:27:27.232 --> 00:27:30.160\nThe original one from the 1940s,\nif you've seen that.\n\n547\n00:27:30.160 --> 00:27:33.270\nMost of us have probably seen it at some\npoint, or at least have heard of it.\n\n548\n00:27:33.270 --> 00:27:36.323\nAnd if you remember the scene where\nDorothy falls out of the sky.\n\n549\n00:27:36.323 --> 00:27:38.976\nRight, so the storm happens,\neverything's in black and\n\n550\n00:27:38.976 --> 00:27:40.770\nwhite up until that point in the movie.\n\n551\n00:27:40.770 --> 00:27:43.760\nShe falls out of the sky, lands on\nthe Wicked Witch of the West, right?\n\n552\n00:27:43.760 --> 00:27:47.500\nOr, Wicked Witch of the East rather, and\nkills, you know the Pippi Longstockings,\n\n553\n00:27:47.500 --> 00:27:49.220\nred and white stockings witch.\n\n554\n00:27:49.220 --> 00:27:50.680\nThat's the part you wanna\nhave in the movie, right?\n\n555\n00:27:50.680 --> 00:27:53.060\nYou never see, all you see is here legs.\n\n556\n00:27:53.060 --> 00:27:54.370\nLike, we got a perfect part for you.\n\n557\n00:27:54.370 --> 00:27:55.530\nYou're gonna have the house fall on you.\n\n558\n00:27:55.530 --> 00:27:57.529\nYou're gonna be a crumbled up,\nshrivelled up pair of legs.\n\n559\n00:27:57.529 --> 00:27:59.690\nBut we're gonna pay you to\nbe in the movie, right?\n\n560\n00:27:59.690 --> 00:28:00.287\n&gt;&gt; That's all I worry about.\n\n561\n00:28:00.287 --> 00:28:01.918\n[LAUGH]\n&gt;&gt; Imagine that job, I want that job,\n\n562\n00:28:01.918 --> 00:28:02.960\nthat was my role.\n\n563\n00:28:02.960 --> 00:28:05.272\nSo the witch gets killed, right?\n\n564\n00:28:05.272 --> 00:28:08.530\nShe winds up coming out of the house,\nfigures out where she is, meets Glinda,\n\n565\n00:28:08.530 --> 00:28:10.235\nthe Good Witch of the North, right?\n\n566\n00:28:10.235 --> 00:28:10.882\n&gt;&gt; Yeah.\n\n567\n00:28:10.882 --> 00:28:13.560\n&gt;&gt; And there's a cool mode of transport,\nshow up in a bubble, right?\n\n568\n00:28:13.560 --> 00:28:15.075\nAnd everybody sings when you show up.\n\n569\n00:28:15.075 --> 00:28:16.340\n&gt;&gt; [LAUGH] I always wanted to be Glinda.\n\n570\n00:28:16.340 --> 00:28:18.910\n&gt;&gt; That there, so there you go,\nlike the original princess, right?\n\n571\n00:28:18.910 --> 00:28:21.680\nAnd so she shows up,\ntakes the ruby slippers.\n\n572\n00:28:21.680 --> 00:28:23.670\nBoom, puts them on Dorothy's feet.\n\n573\n00:28:23.670 --> 00:28:28.140\nAnd then Dorothy starts dancing around in\nthe town square right, meets the mayor and\n\n574\n00:28:28.140 --> 00:28:30.170\nall the munchkins,\ndoes the whole nine yards.\n\n575\n00:28:30.170 --> 00:28:32.350\nRemember, from the lollipop guild,\nit's a great movie, right?\n\n576\n00:28:32.350 --> 00:28:33.120\n&gt;&gt; I remember all of it, yeah.\n\n577\n00:28:33.120 --> 00:28:36.043\n&gt;&gt; So, at the end of that whole thing,\nright,\n\n578\n00:28:36.043 --> 00:28:40.474\nwe get in the center of the square,\nin the middle of munchkin land.\n\n579\n00:28:40.474 --> 00:28:44.090\nAnd she has to now take a journey, right?\n\n580\n00:28:44.090 --> 00:28:45.646\n&gt;&gt; Right.\n&gt;&gt; Okay, what is she gonna walk down, and\n\n581\n00:28:45.646 --> 00:28:46.710\nwhat is the journey going to be on?\n\n582\n00:28:46.710 --> 00:28:47.910\n&gt;&gt; The yellow brick road.\n\n583\n00:28:47.910 --> 00:28:48.980\n&gt;&gt; The yellow brick road, right?\n\n584\n00:28:48.980 --> 00:28:50.340\nAnd so,\nhow does the yellow brick road start out?\n\n585\n00:28:50.340 --> 00:28:52.440\nDo you remember what it looks like,\nand how they kind of picture it?\n\n586\n00:28:52.440 --> 00:28:53.050\n&gt;&gt; A curlicue.\n\n587\n00:28:53.050 --> 00:28:56.080\n&gt;&gt; We call that a spiral, but\nthank you very much, yes.\n\n588\n00:28:56.080 --> 00:28:57.988\nSo a spiral or a curlicues, right?\n\n589\n00:28:57.988 --> 00:29:01.730\nAnd so, it starts out this single\nlittle point, right, at literally.\n\n590\n00:29:01.730 --> 00:29:04.810\nThis little point that kind of widens this\nway, goes out, spirals around, right.\n\n591\n00:29:04.810 --> 00:29:06.947\nOr curlicues around to your point, and\n\n592\n00:29:06.947 --> 00:29:10.200\nthen winds up becoming this\nstraight kind of road, right.\n\n593\n00:29:10.200 --> 00:29:14.592\nThat ultimately she follows, right, and\nshe winds up down in, at the Emerald City,\n\n594\n00:29:14.592 --> 00:29:16.728\nand eventually has her whole adventure.\n\n595\n00:29:16.728 --> 00:29:18.058\nYou look at that now and say,\n\n596\n00:29:18.058 --> 00:29:21.460\nas an adult, and you see the backdrop\nof the Emerald City, right.\n\n597\n00:29:21.460 --> 00:29:25.070\nAnd it clearly looks like,\nwithout spoiling the magic, it looks,\n\n598\n00:29:25.070 --> 00:29:25.880\nyou could tell it's not real.\n\n599\n00:29:25.880 --> 00:29:26.890\n&gt;&gt; Well,\nthey didn't have all this CGI [INAUDIBLE]\n\n600\n00:29:26.890 --> 00:29:27.810\n&gt;&gt; Right, exactly, but you look at it as\n\n601\n00:29:27.810 --> 00:29:29.980\na kid and you're like,\nit's the most magical thing in the world.\n\n602\n00:29:29.980 --> 00:29:31.110\n&gt;&gt; Yeah.\n&gt;&gt; You look at it as an adult,\n\n603\n00:29:31.110 --> 00:29:34.100\nyou're like, yeah it's cool, but you\ncould tell it's a hand painted backdrop.\n\n604\n00:29:34.100 --> 00:29:35.460\nIt's just not you know.\n\n605\n00:29:35.460 --> 00:29:39.316\nAnyway, so my point is this is our\nrandom [INAUDIBLE] episode by the way.\n\n606\n00:29:39.316 --> 00:29:41.283\nBut there is a reason\nI'm talking about this.\n\n607\n00:29:41.283 --> 00:29:45.520\nMy point is that, it's like starting\nthe journey that Dorothy goes on,\n\n608\n00:29:45.520 --> 00:29:47.730\nfollowing the yellow brick\nrod with group policy.\n\n609\n00:29:47.730 --> 00:29:50.835\nThe local policy is that starting\npoint of the yellow brick road,\n\n610\n00:29:50.835 --> 00:29:51.916\nit's where we begin.\n\n611\n00:29:51.916 --> 00:29:56.030\nIf we don't have that starting point,\nwe've got no way to apply policy.\n\n612\n00:29:56.030 --> 00:30:00.960\nThere's no way to start out, because\nevery machine must have a local policy.\n\n613\n00:30:00.960 --> 00:30:04.950\nIn order to begin the journey to\napply policy to the machine, right?\n\n614\n00:30:04.950 --> 00:30:08.046\nSo you can now start referring to\nthat as the yellow brick road policy.\n\n615\n00:30:08.046 --> 00:30:09.706\nNo, don't call it that,\nthat's not what we call it.\n\n616\n00:30:09.706 --> 00:30:12.950\nAll right, so join me back here,\nwe're just talking about policy.\n\n617\n00:30:12.950 --> 00:30:16.637\nSo in the local computer policy,\nwe see the computer configuration area.\n\n618\n00:30:16.637 --> 00:30:22.380\nWe see the user configuration area, you\ncan see, let me just close this back up.\n\n619\n00:30:22.380 --> 00:30:25.820\nWe essentially,\nhave the same three subcategories in each.\n\n620\n00:30:25.820 --> 00:30:29.040\nI mentioned there's a lot of\nsettings that are gonna be similar\n\n621\n00:30:29.040 --> 00:30:30.810\nby category in each area.\n\n622\n00:30:30.810 --> 00:30:33.770\nSoftware settings, Windows settings,\nadministrative templates.\n\n623\n00:30:33.770 --> 00:30:36.571\nYou could see this here,\nunder software settings.\n\n624\n00:30:36.571 --> 00:30:41.830\nWe don't see anything, this is where we\nwould go to set up and deploy software.\n\n625\n00:30:41.830 --> 00:30:46.090\nEither to the computer,\nby publishing it and making it available.\n\n626\n00:30:46.090 --> 00:30:49.060\nOr to the user by deploying\nit to the user, again,\n\n627\n00:30:49.060 --> 00:30:50.170\ndepending on what we wanna do.\n\n628\n00:30:50.170 --> 00:30:54.098\nYou'll see we can come in here, and\neither see the details that are there, or\n\n629\n00:30:54.098 --> 00:30:56.583\ndecide to work with them and\nset them up, right.\n\n630\n00:30:56.583 --> 00:31:00.170\nSo, we can set those things there,\nWindows settings.\n\n631\n00:31:00.170 --> 00:31:04.450\nWe're not gonna go into all the details\nright now, just give you a quick overview.\n\n632\n00:31:04.450 --> 00:31:08.190\nBut we have the ability to set, and\nrun startup and shutdown scripts.\n\n633\n00:31:08.190 --> 00:31:10.160\nSame thing for the user area.\n\n634\n00:31:10.160 --> 00:31:13.790\nLogon, logoffs is what we call those\nscripts when they apply to users.\n\n635\n00:31:13.790 --> 00:31:17.330\nWe can look at deployed printers,\nwhich are specific to the computer.\n\n636\n00:31:17.330 --> 00:31:21.090\nMost users don't have those,\nwe have security settings in both areas.\n\n637\n00:31:21.090 --> 00:31:24.972\nPolicy based QOS, for the management of,\nsee you deployed printers for\n\n638\n00:31:24.972 --> 00:31:26.124\nthe user down there.\n\n639\n00:31:26.124 --> 00:31:29.270\nRight, so set up, right,\nmore or less the same.\n\n640\n00:31:29.270 --> 00:31:35.039\nAnd then under here, if I can get\nmy mouse to work with me here.\n\n641\n00:31:35.039 --> 00:31:39.658\nYou'll see that we have Control Panel,\nNetwork, Printers,\n\n642\n00:31:39.658 --> 00:31:42.370\nServer, Start Menu, and Task Bar.\n\n643\n00:31:42.370 --> 00:31:46.225\nI mentioned things like modifying\nthe components, all settings.\n\n644\n00:31:46.225 --> 00:31:48.255\nWe could see here, right?\n\n645\n00:31:48.255 --> 00:31:51.728\nSo we could see a list of various\nsettings we may wanna modify.\n\n646\n00:31:51.728 --> 00:31:56.208\nI like the way the local policy editor\nsets up, because it shows us the path,\n\n647\n00:31:56.208 --> 00:31:58.177\nmuch like the spreadsheet does.\n\n648\n00:31:58.177 --> 00:32:01.704\nFor this, and so we can go in, we can see.\n\n649\n00:32:01.704 --> 00:32:05.210\nGo under any one of these,\njust hypothetically.\n\n650\n00:32:05.210 --> 00:32:09.290\nLet's say maybe Bitlocker drive\nencryption, and let's just say,\n\n651\n00:32:10.290 --> 00:32:13.370\nstore Bitlocker information in\nthe active directory domain.\n\n652\n00:32:13.370 --> 00:32:16.055\nYou go in, whatever the setting is,\nit doesn't really matter what we choose.\n\n653\n00:32:16.055 --> 00:32:16.761\nAnd we're gonna have options.\n\n654\n00:32:16.761 --> 00:32:19.100\nNot configured, enabled, disabled.\n\n655\n00:32:19.100 --> 00:32:21.930\nIs the policy not enabled?\n\n656\n00:32:21.930 --> 00:32:23.660\nIs it enabled, or is it not configured?\n\n657\n00:32:23.660 --> 00:32:25.606\nAnd there's a difference\nbetween those three,\n\n658\n00:32:25.606 --> 00:32:28.900\nwe're gonna draw that difference out\nin one of our future conversations.\n\n659\n00:32:28.900 --> 00:32:32.680\nWhat we also have is great\ndocumentation about what the policy is,\n\n660\n00:32:32.680 --> 00:32:37.330\na nice description, and\nwe have a support environment information.\n\n661\n00:32:37.330 --> 00:32:40.240\nWhat OS's I mentioned from\nthe spreadsheet will the policy apply to,\n\n662\n00:32:40.240 --> 00:32:44.660\nin this case everything back as far\nas Windows Vista, and 2008, right?\n\n663\n00:32:44.660 --> 00:32:49.710\nAnd so we have the ability to take a look\nat this and really understand these items.\n\n664\n00:32:49.710 --> 00:32:52.290\nAnd we see that on both the user and\nthe computer side.\n\n665\n00:32:52.290 --> 00:32:54.140\nNow this is the local policy.\n\n666\n00:32:54.140 --> 00:32:56.780\nWe wanna see the effect of this policy.\n\n667\n00:32:56.780 --> 00:33:00.620\nWe don't have same set of tools,\nthe main system what's called the GPMC.\n\n668\n00:33:00.620 --> 00:33:05.450\nthe group policy management console,\nand the editing tool in the domain.\n\n669\n00:33:05.450 --> 00:33:09.400\nWe do have access to command line tools,\ngpresult is one of those tools.\n\n670\n00:33:09.400 --> 00:33:12.395\nAnd I've gone into the command\nline on the local machine here,\n\n671\n00:33:12.395 --> 00:33:13.478\nlet me just go back up.\n\n672\n00:33:13.478 --> 00:33:15.619\nAs I always do,\nI try to run the help file for you,\n\n673\n00:33:15.619 --> 00:33:19.310\ngive you a sense of how to work with tool\nin case you're not familiar with it.\n\n674\n00:33:19.310 --> 00:33:24.270\nThe tool formally, gpresult.exe, right,\nwhenever we examine a tool, it always is\n\n675\n00:33:24.270 --> 00:33:28.560\nimplied it has an execution, a command\non the end, or an executable extension.\n\n676\n00:33:28.560 --> 00:33:30.920\nSo gpresult/?\n\n677\n00:33:30.920 --> 00:33:36.460\nYou'll see that we get alt file lists,\nvarious switches we may wanna use.\n\n678\n00:33:36.460 --> 00:33:40.590\nI've gone ahead just as I'm\nscrolling down and I generated\n\n679\n00:33:41.620 --> 00:33:46.160\na report here just simply by\nusing the V switch, for verbose.\n\n680\n00:33:46.160 --> 00:33:50.430\nAnd I've outputted the information to\nthe console so I just echoed it back here.\n\n681\n00:33:50.430 --> 00:33:52.760\nAnd you can see,\nas I scroll down through it,\n\n682\n00:33:52.760 --> 00:33:55.470\nthere's quite a bit of information here.\n\n683\n00:33:55.470 --> 00:33:59.870\nAnd then, what I did at\nthe bottom was I went ahead and\n\n684\n00:33:59.870 --> 00:34:02.850\nsaid, I may want you to see\nthe user part of those settings.\n\n685\n00:34:02.850 --> 00:34:05.980\nI may wanna go ahead and\nactually see all of this information,\n\n686\n00:34:05.980 --> 00:34:09.050\nnot just simply read through it like\nI'm doing right now, and scroll.\n\n687\n00:34:09.050 --> 00:34:10.650\nOops, I went a bit too far.\n\n688\n00:34:10.650 --> 00:34:15.380\nAnd so I may wanna actually be able\nto use that in a more meaningful way.\n\n689\n00:34:15.380 --> 00:34:18.910\nSo I issued the same command,\nand I outed that file, or\n\n690\n00:34:18.910 --> 00:34:21.770\njust outputted that\nfile to a path locally.\n\n691\n00:34:21.770 --> 00:34:25.301\nI created a folder called gpr,\ngroup policy results,\n\n692\n00:34:25.301 --> 00:34:27.618\nin the C drive, named it gpr.txt.\n\n693\n00:34:27.618 --> 00:34:31.829\nAnd if you go in, and you see that\nfile is there, just open it up and\n\n694\n00:34:31.829 --> 00:34:33.600\nit becomes a Notepad file.\n\n695\n00:34:33.600 --> 00:34:37.008\nAnd I've got a nice little piece of\ndocumentation that gives me all of\n\n696\n00:34:37.008 --> 00:34:39.910\nthe output, everything I just\nsaw on the command prompt.\n\n697\n00:34:39.910 --> 00:34:43.459\nBut its all there, this is how when\nI audit a system, I'll ask somebody,\n\n698\n00:34:43.459 --> 00:34:47.181\nhey give me, essentially, produce a copy\nthat we can reference and verify,\n\n699\n00:34:47.181 --> 00:34:48.631\nshow me your documentation.\n\n700\n00:34:48.631 --> 00:34:51.010\nThis is one of the tools\nI recommend you use.\n\n701\n00:34:51.010 --> 00:34:55.760\nSupported by the OS manufacturer, outputs\nthe content, easily accessible, easy to\n\n702\n00:34:55.760 --> 00:35:00.400\nput the file out somewhere where we can\nthen take it and we can assess it, right?\n\n703\n00:35:00.400 --> 00:35:01.840\nSo just be aware of that.\n\n704\n00:35:01.840 --> 00:35:05.065\nBut the gpresults tool lets me\noutput this documentation, so\n\n705\n00:35:05.065 --> 00:35:07.720\nwhen we're looking at\na local machine right.\n\n706\n00:35:07.720 --> 00:35:10.990\nWe are looking at the opportunity and\nthe ability to work with that.\n\n707\n00:35:10.990 --> 00:35:14.505\nWhen we look at policy at the domain level\nusing group policy management console\n\n708\n00:35:14.505 --> 00:35:18.160\non the domain controller,\nthat's the other machine I'm on right now.\n\n709\n00:35:18.160 --> 00:35:20.330\nI still have the ability to\nlook at group policy, but\n\n710\n00:35:20.330 --> 00:35:22.290\nthe interface looks a lot different.\n\n711\n00:35:22.290 --> 00:35:24.540\nYou'll see i've got the domain.\n\n712\n00:35:24.540 --> 00:35:26.530\nInformation in this case practicelabs.com.\n\n713\n00:35:26.530 --> 00:35:28.280\nI've got my forest level here.\n\n714\n00:35:28.280 --> 00:35:30.450\nWhatever domains may be available.\n\n715\n00:35:30.450 --> 00:35:32.180\nI've got the default domain policy.\n\n716\n00:35:32.180 --> 00:35:33.820\nI mentioned that's one\nof the two we would see.\n\n717\n00:35:33.820 --> 00:35:37.130\nI've got my domain controllers\npolicy right here.\n\n718\n00:35:37.130 --> 00:35:38.410\nMy other default policy.\n\n719\n00:35:38.410 --> 00:35:41.215\nI've got my OU's that may be here.\n\n720\n00:35:41.215 --> 00:35:45.800\nEmea, Apack, and an SAmerica for\nvarious OU's I've created.\n\n721\n00:35:45.800 --> 00:35:47.501\nI've got a general catch all container.\n\n722\n00:35:47.501 --> 00:35:50.805\nGroup policy object that stores\nall of the GPOs that are created,\n\n723\n00:35:50.805 --> 00:35:52.135\nright now I only have two.\n\n724\n00:35:52.135 --> 00:35:54.590\nWe can see a list of them there.\n\n725\n00:35:54.590 --> 00:35:58.620\nI've got my WMI filters, we'll be\ntaking a look at this, how these work.\n\n726\n00:35:58.620 --> 00:36:00.970\nWMI, Windows Management Instrumentation,\n\n727\n00:36:00.970 --> 00:36:05.430\none of the underlying languages we use to\nbe able to manipulate, modify, monitor and\n\n728\n00:36:05.430 --> 00:36:08.718\nmanage systems since\nthe beginning of time in Windows.\n\n729\n00:36:08.718 --> 00:36:12.051\nIt's still available, although we're\nmoving away from it slowly but surely.\n\n730\n00:36:12.051 --> 00:36:16.611\nThe WQL, the WMI Query Language,\nis what's used to execute commands or\n\n731\n00:36:16.611 --> 00:36:19.600\nrequests for information using WMI.\n\n732\n00:36:19.600 --> 00:36:25.190\nWMI can go out and pull information\nfrom the class object definitions for\n\n733\n00:36:25.190 --> 00:36:28.760\nany of the managed\nresources in Windows OS.\n\n734\n00:36:28.760 --> 00:36:34.030\nAnd so we can find out the status\nof any kind of system function,\n\n735\n00:36:34.030 --> 00:36:38.870\nany kind of system peripheral, any kind of\nsettings in a Windows setting either on\n\n736\n00:36:38.870 --> 00:36:43.975\na local machine or a remote using a W\non my query, a WQL language query.\n\n737\n00:36:43.975 --> 00:36:45.045\nAnd then, report that back.\n\n738\n00:36:45.045 --> 00:36:49.125\nWe can filter and interact with\npolicies using that capability.\n\n739\n00:36:49.125 --> 00:36:50.345\nWe'll talk more about that.\n\n740\n00:36:50.345 --> 00:36:53.506\nAnd starter GPOs, these are things\nthat people often overlook.\n\n741\n00:36:53.506 --> 00:36:57.077\nWe'll be taking a look at his but\nwe can create starter GPOs.\n\n742\n00:36:57.077 --> 00:36:59.777\nThere's about 20 or so\n\n743\n00:36:59.777 --> 00:37:03.782\nof them approximately that get\ncreated when we click this button.\n\n744\n00:37:03.782 --> 00:37:07.548\nAnd we then use them,essentially, as\ntemplates that can be used to go out and\n\n745\n00:37:07.548 --> 00:37:10.528\naccomplish the most common things\nwe wanna be able to use and do.\n\n746\n00:37:10.528 --> 00:37:14.838\nLike the start of GPOs is building blocks,\nwe start with them literally, and\n\n747\n00:37:14.838 --> 00:37:15.756\nwe then use them.\n\n748\n00:37:15.756 --> 00:37:17.999\nWhen we wanna apply\npolicy at the site level,\n\n749\n00:37:17.999 --> 00:37:19.898\nwe have a sites container right here.\n\n750\n00:37:19.898 --> 00:37:24.013\nWe can go ahead, right-click,\nand we can decide to use, or\n\n751\n00:37:24.013 --> 00:37:29.560\npull in the site information, and\nthen create a policy there if we need to.\n\n752\n00:37:29.560 --> 00:37:33.570\nWe also, as you can see,\njust a sec, let me show sites here.\n\n753\n00:37:33.570 --> 00:37:38.580\nSo we can specify our site default\nfirst site name site bring that in.\n\n754\n00:37:38.580 --> 00:37:42.920\nSee the site information, then we can\nlink and create a GPO to that site.\n\n755\n00:37:42.920 --> 00:37:46.100\nWe just have to essentially enable\nthe selection of what site or\n\n756\n00:37:46.100 --> 00:37:48.200\nsites we wanna see,\nthere maybe more than one.\n\n757\n00:37:50.170 --> 00:37:52.700\nAnd again, we'll talk about this\nin some upcoming conversations,\n\n758\n00:37:52.700 --> 00:37:54.660\ngroup policy modeling tools.\n\n759\n00:37:54.660 --> 00:37:58.640\nThe group policy modeling tool\nlets me go in and do a what if or\n\n760\n00:37:58.640 --> 00:38:03.350\na scenario based analysis of what a policy\nmay do so I could get the output of that\n\n761\n00:38:03.350 --> 00:38:06.480\nbefore I decide whether or\nnot I wanna use it or create it.\n\n762\n00:38:06.480 --> 00:38:10.500\nAnd I have the group policy results,\nwhich is called the RSOP results and\n\n763\n00:38:10.500 --> 00:38:12.550\nset of policy item.\n\n764\n00:38:12.550 --> 00:38:16.793\nI can come in here and I can run a wizard\nthat will profile existing policies,\n\n765\n00:38:16.793 --> 00:38:20.174\ngive me the information to\nessentially see by computer, and\n\n766\n00:38:20.174 --> 00:38:22.916\nby user,\nwhat the output of that policy will be.\n\n767\n00:38:22.916 --> 00:38:26.810\nA nice HTML based report, as I mentioned,\nthat we can interact with.\n\n768\n00:38:26.810 --> 00:38:30.645\nIt's kind of a more interactive\nversion of what I just showed you with\n\n769\n00:38:30.645 --> 00:38:32.870\ngpresult on the local machine.\n\n770\n00:38:32.870 --> 00:38:36.900\nIt's just an HTML enabled version of that\ntool if you wanna think of it that way.\n\n771\n00:38:36.900 --> 00:38:38.370\nSo we have all these options.\n\n772\n00:38:38.370 --> 00:38:41.980\nAnd we're gonna be delving under the hood\nhere and examining all of the intricacies\n\n773\n00:38:41.980 --> 00:38:45.650\nand all the hidden gems associated with\ngroup policy in upcoming conversations.\n\n774\n00:38:45.650 --> 00:38:48.980\nBut in order for us to do that,\nCherokee has to tell me we're out of time.\n\n775\n00:38:48.980 --> 00:38:50.810\nShe has to say goodbye, and\nI have to say, you have to come back and\n\n776\n00:38:50.810 --> 00:38:52.450\nsee us in order for that to happen.\n\n777\n00:38:52.450 --> 00:38:53.770\nSo we're gonna do all that right now.\n\n778\n00:38:53.770 --> 00:38:54.340\n&gt;&gt; Why wouldn't they?\n\n779\n00:38:54.340 --> 00:38:55.650\nWe're gonna go gem hunting, and\n\n780\n00:38:55.650 --> 00:38:58.180\nwe're gonna be jumping down\nthat yellow brick road.\n\n781\n00:38:58.180 --> 00:39:00.120\nSo we've got a lot of cool\nthings headed our way, Adam.\n\n782\n00:39:00.120 --> 00:39:01.965\n&gt;&gt; Well, you're jumping cuz\nyou're wearing running shoes.\n\n783\n00:39:01.965 --> 00:39:03.811\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm gonna saunter because I'm cool and\n\n784\n00:39:03.811 --> 00:39:04.886\nI just wanna look kind of casual.\n\n785\n00:39:04.886 --> 00:39:06.167\n&gt;&gt; Swagger.\n\n786\n00:39:06.167 --> 00:39:07.103\n&gt;&gt; I'm gonna swag.\n\n787\n00:39:07.103 --> 00:39:10.563\n&gt;&gt; Okay, all right, well, I want to\npoint out that we are out of time, but\n\n788\n00:39:10.563 --> 00:39:12.900\nthank you for\ntaking that great introduction.\n\n789\n00:39:12.900 --> 00:39:16.170\nAnd it sounds like we've got a lot of work\nahead of us, so I'm excited for that.\n\n790\n00:39:16.170 --> 00:39:18.170\nAnd thank you for\nbeing with us as well, for this show,\n\n791\n00:39:18.170 --> 00:39:19.390\nwe'll go ahead and sign out.\n\n792\n00:39:19.390 --> 00:39:21.030\nI've been your host Cherokee Boose.\n\n793\n00:39:21.030 --> 00:39:21.600\n&gt;&gt; I'm Adam Gordon.\n\n794\n00:39:21.600 --> 00:39:22.775\n&gt;&gt; See you next time here at ITProTV.\n\n795\n00:39:22.775 --> 00:39:31.309\n[MUSIC]\n\n796\n00:39:31.309 --> 00:39:32.955\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231755821"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing group policy. They explain the order of GPO inheritance. Adam demonstrates how to block, link, and delegate those policies to name a few.  He also shows how to re-link the default domain policy after blocking an OU level policy.",
          "length": "2354",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-2-implementing_group_policy_pt2-082817-PGM.00_39_01_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-2-implementing_group_policy_pt2-082817-PGM.00_39_01_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-2-implementing_group_policy_pt2-082817-PGM.00_39_01_15.Still001-sm.jpg",
          "title": "Implementing Group Policy Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:01.190\nWelcome to ITPRO TV.\n\n2\n00:00:01.190 --> 00:00:06.298\nI'm your host Don Pezet [CROSSTALK]\n\n3\n00:00:06.298 --> 00:00:08.325\n[MUSIC]\n\n4\n00:00:08.325 --> 00:00:12.172\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.172 --> 00:00:17.100\n&gt;&gt; Welcome ladies and gentleman to your\nIdentity with Windows Server 2016 series.\n\n6\n00:00:17.100 --> 00:00:19.005\nI'm your show host Cherokee Boose.\n\n7\n00:00:19.005 --> 00:00:23.500\nIn this episode will pick back up taking\na look at implementing group policy.\n\n8\n00:00:23.500 --> 00:00:26.037\nAnd back in studios with us\ntoday we have Mr. Adam Gordon.\n\n9\n00:00:26.037 --> 00:00:27.810\nThanks for joining us today, Adam.\n\n10\n00:00:27.810 --> 00:00:28.470\n&gt;&gt; You're welcome.\n\n11\n00:00:28.470 --> 00:00:31.130\nI couldn't resist your imitation you\nhave me shackled to the table so\n\n12\n00:00:31.130 --> 00:00:32.480\nI couldn't go anywhere.\n\n13\n00:00:32.480 --> 00:00:34.100\nSo, glad to be back.\n\n14\n00:00:34.100 --> 00:00:35.555\nI'm only kidding about\nthe shackle by the way.\n\n15\n00:00:35.555 --> 00:00:36.188\n&gt;&gt; [LAUGH]\n&gt;&gt; I always love hanging out and\n\n16\n00:00:36.188 --> 00:00:37.683\nspending time with.\n&gt;&gt; Well, are you?\n\n17\n00:00:37.683 --> 00:00:40.201\n&gt;&gt; Well, let's just tell people I am so\nnobody worries and\n\n18\n00:00:40.201 --> 00:00:42.120\nthey don't think you're a bad person.\n\n19\n00:00:42.120 --> 00:00:45.760\nSo, I always love coming back and\nspending time with all of you Cherokee.\n\n20\n00:00:45.760 --> 00:00:48.580\nAll of you out there in\nour studio audience.\n\n21\n00:00:48.580 --> 00:00:51.530\nAlways a great opportunity to spend time\ntalking about really cool exciting things.\n\n22\n00:00:51.530 --> 00:00:54.740\nBut also sharing some knowledge with\nyou about things that, perhaps, may or\n\n23\n00:00:54.740 --> 00:00:57.980\nmay not, be something that you\nhave seen or familiar with before.\n\n24\n00:00:57.980 --> 00:01:02.136\nAnd as we said in our last episode about\ngroup policy, kind of our intro overview,\n\n25\n00:01:02.136 --> 00:01:04.786\nif you haven't seen that\nmaybe feel free to go back,\n\n26\n00:01:04.786 --> 00:01:08.186\ntake a quick look at the context\naround what we're talking about.\n\n27\n00:01:08.186 --> 00:01:11.634\nGroup policies is one of those topics\nthat can be exceedingly difficult if\n\n28\n00:01:11.634 --> 00:01:15.430\nnobody explains it to you and you haven't\nreally taken the time to figure it out.\n\n29\n00:01:15.430 --> 00:01:19.040\nIt could be deceptively simple if\nsomebody sits you down and says, hey,\n\n30\n00:01:19.040 --> 00:01:20.190\nthis is what we do.\n\n31\n00:01:20.190 --> 00:01:24.610\nThis is how we do it, and just really\ngive you the benefit of understanding and\n\n32\n00:01:24.610 --> 00:01:26.330\nthe ability to really see it firsthand.\n\n33\n00:01:26.330 --> 00:01:29.120\nAnd that's what we're trying to\ndo over our conversations here,\n\n34\n00:01:29.120 --> 00:01:31.580\nsort of show you all those things.\n\n35\n00:01:31.580 --> 00:01:33.810\nAnd walk you through how they work and\ncome together.\n\n36\n00:01:33.810 --> 00:01:36.480\nSo Cherokee is gonna help\nme as she always does,\n\n37\n00:01:36.480 --> 00:01:38.584\nshe's very good about doing this\nthings even wanted on tour.\n\n38\n00:01:38.584 --> 00:01:40.703\n&gt;&gt; [LAUGH]\n&gt;&gt; Ahead of time we're gonna do them but\n\n39\n00:01:40.703 --> 00:01:44.976\nshe's gonna help me just walk back through\na very important part of the first\n\n40\n00:01:44.976 --> 00:01:46.500\nconversation we had.\n\n41\n00:01:46.500 --> 00:01:51.100\nSort of remind you this is we get\nstarted which is the order of policy\n\n42\n00:01:51.100 --> 00:01:54.750\napplication or the order of precedence\nwe often refer to with either way.\n\n43\n00:01:54.750 --> 00:01:57.700\nIn other words,\nthe different stages the policy exist and\n\n44\n00:01:57.700 --> 00:02:01.710\nhow do we apply them based on\nthis kind of running total.\n\n45\n00:02:01.710 --> 00:02:05.970\nThis calculus or\nalgebra which puts a lot of people off and\n\n46\n00:02:05.970 --> 00:02:07.850\nkind of gives them the willies.\n\n47\n00:02:07.850 --> 00:02:09.410\nWhen we say we're gonna do some math.\n\n48\n00:02:09.410 --> 00:02:13.140\nI was actually talking\nto somebody recently and\n\n49\n00:02:13.140 --> 00:02:16.290\nwe were talking about\nsome CISSP related stuff.\n\n50\n00:02:16.290 --> 00:02:17.650\nJust general security stuff.\n\n51\n00:02:17.650 --> 00:02:19.180\nShe was getting ready to take the exam.\n\n52\n00:02:19.180 --> 00:02:22.370\nWe were chatting a little bit about some\nof the pros and cons of studying and\n\n53\n00:02:22.370 --> 00:02:23.150\nhow to do things.\n\n54\n00:02:23.150 --> 00:02:27.920\nAnd she, the young lady I was speaking\nwith, was expressing some frustration and\n\n55\n00:02:27.920 --> 00:02:30.620\nconcern about the fact\nthat there were a lot of\n\n56\n00:02:30.620 --> 00:02:34.092\nformulas associated with trying to figure\nout how to master all that knowledge.\n\n57\n00:02:34.092 --> 00:02:37.340\nAnd so that's kind of odd, there's\nonly about three that when I teach, or\n\n58\n00:02:37.340 --> 00:02:40.570\nI talk to people about, that I give them,\nand I kinda walk them through.\n\n59\n00:02:40.570 --> 00:02:42.630\nAnd which ones are you thinking there is?\n\n60\n00:02:42.630 --> 00:02:45.590\nAnd she went through all this stuff\nthat she had found somewhere, and\n\n61\n00:02:45.590 --> 00:02:47.700\njust wasn't actually accurate and\n\n62\n00:02:47.700 --> 00:02:51.030\nrepresentational of what the data\nneeded to be to really understand it.\n\n63\n00:02:51.030 --> 00:02:51.920\nAnd we streamlined those.\n\n64\n00:02:51.920 --> 00:02:56.124\nWe really just shrunk them down into\nthe three core formulas you need to know.\n\n65\n00:02:56.124 --> 00:02:59.813\nAnd she was so happy because I took this\ncomplex topic that she was worried about,\n\n66\n00:02:59.813 --> 00:03:02.230\nand we made it relativity straightforward.\n\n67\n00:03:02.230 --> 00:03:04.890\nAnd that's really what's important to\ndo with something like group policy.\n\n68\n00:03:04.890 --> 00:03:07.471\nReally understand the logic of it.\n\n69\n00:03:07.471 --> 00:03:08.970\nGet it straight in your mind.\n\n70\n00:03:08.970 --> 00:03:11.410\nAnd the most important advice\nwe can give you, both for\n\n71\n00:03:11.410 --> 00:03:15.170\nexam preparation, and equally important\nas you often hear me talk about\n\n72\n00:03:15.170 --> 00:03:17.060\nhow to apply this knowledge\nto the real world.\n\n73\n00:03:17.060 --> 00:03:20.210\nThere's two things you hear I\nstress all the time, number one,\n\n74\n00:03:20.210 --> 00:03:22.650\nyou gotta obviously pay\nattention to detail.\n\n75\n00:03:22.650 --> 00:03:23.750\nYou gotta practice.\n\n76\n00:03:23.750 --> 00:03:24.410\nYou gotta do it.\n\n77\n00:03:24.410 --> 00:03:27.240\nYou gotta figure out how to\nmake that knowledge your own.\n\n78\n00:03:27.240 --> 00:03:31.360\nBut with that, point number two I often\nshare with people especially customers and\n\n79\n00:03:31.360 --> 00:03:35.040\nstudents is,\nit's a one size fits one solution.\n\n80\n00:03:35.040 --> 00:03:37.860\nThe idea that yeah, there\nare definitely best practice standards.\n\n81\n00:03:37.860 --> 00:03:39.010\nThere are ways, there are tools,\n\n82\n00:03:39.010 --> 00:03:42.110\nthere are interfaces that don't\nchange what you have to use.\n\n83\n00:03:42.110 --> 00:03:46.970\nBut the outcome of the group policy, the\nfocus for you, what that end result, that\n\n84\n00:03:46.970 --> 00:03:50.850\nend game is for you and your organization\nit's very different from anybody else.\n\n85\n00:03:50.850 --> 00:03:54.580\nBecause you may decide the control aspects\nof the environment with policy that other\n\n86\n00:03:54.580 --> 00:03:58.490\npeople may or may not find to be\ninteresting important and or necessary.\n\n87\n00:03:58.490 --> 00:04:02.625\nAnd so having options and understanding\nthe mechanics is the most important thing.\n\n88\n00:04:02.625 --> 00:04:07.140\nBecause once you do that you can apply any\nof those setting through the same model,\n\n89\n00:04:07.140 --> 00:04:10.290\nthe same mechanism using the same\ntools over, and over, and over again.\n\n90\n00:04:10.290 --> 00:04:14.430\nAll you're doing is swapping out one check\nmark, a radio button, or a setting for\n\n91\n00:04:14.430 --> 00:04:17.618\nanother and just making sure that\nthey interact the right way.\n\n92\n00:04:17.618 --> 00:04:19.972\nSo let's walk through just the logic,\nif you don't mind Cherokee.\n\n93\n00:04:19.972 --> 00:04:22.330\nI know you said you'd\nbe willing to help me.\n\n94\n00:04:22.330 --> 00:04:24.741\nI appreciate that, so\nwhere do we start out,\n\n95\n00:04:24.741 --> 00:04:27.224\nwhere does our journey\ninto the policy begin.\n\n96\n00:04:27.224 --> 00:04:29.173\nWhere is our first policy\nwhere we see applied or\n\n97\n00:04:29.173 --> 00:04:31.900\nat least referenced as\npart of our conversation.\n\n98\n00:04:31.900 --> 00:04:34.380\n&gt;&gt; Well, I'm thinking Adam,\nbecause you just showed us here\n\n99\n00:04:34.380 --> 00:04:38.760\nin the Windows 10 machine, we're looking\nat that local policy to see if it exists.\n\n100\n00:04:38.760 --> 00:04:41.100\n&gt;&gt; So we always look for local policy,\n\n101\n00:04:41.100 --> 00:04:44.250\nwe call it the local GPO this\nis what we refer refer to it as.\n\n102\n00:04:44.250 --> 00:04:48.830\nWhether or not it is going to be\nthe end result policy, the only policy\n\n103\n00:04:48.830 --> 00:04:51.270\nthat's applied is gonna be the result\nof the next couple of minutes for\n\n104\n00:04:51.270 --> 00:04:55.610\nour conversation, the four other layers\nof policy we're gonna throw on the table.\n\n105\n00:04:55.610 --> 00:04:59.650\nBut the local policy, the local GPO is\nwhere we always begin without fail.\n\n106\n00:04:59.650 --> 00:05:04.200\nEvery machine has that, it is going to\nbe running from Windows 2000 forward.\n\n107\n00:05:04.200 --> 00:05:08.241\nRemember, prior to Windows 2000,\nwe had individual policies on\n\n108\n00:05:08.241 --> 00:05:12.558\na one machine only basis, nothing\ncentrally managed centrally applied,\n\n109\n00:05:12.558 --> 00:05:15.172\nthe way we see in\nthe Active Directory today.\n\n110\n00:05:15.172 --> 00:05:19.024\nSo when we reference group policy we\ngo all the way back to Windows 2000 all\n\n111\n00:05:19.024 --> 00:05:21.394\nthe way forward in this\ncase up to Server 16 and\n\n112\n00:05:21.394 --> 00:05:24.970\nwhatever may come beyond in the future,\nbut we are talking about that.\n\n113\n00:05:24.970 --> 00:05:28.140\nAt least on local GPO per\nmachine all the time.\n\n114\n00:05:28.140 --> 00:05:31.280\nIt's always applied first, and\nwe use that as our standard,\n\n115\n00:05:31.280 --> 00:05:34.040\nour base line,\nour environment that we build off of.\n\n116\n00:05:34.040 --> 00:05:37.090\nAbsolutely, so\nthen we have our second level policy.\n\n117\n00:05:37.090 --> 00:05:40.240\nAnd a lot of times we\nmay not see this policy.\n\n118\n00:05:40.240 --> 00:05:41.780\nIt may not be applied.\n\n119\n00:05:41.780 --> 00:05:45.004\nI showed you in the last episode,\njust did a quick run through\n\n120\n00:05:45.004 --> 00:05:48.680\nabout the local policy editor\nCherokee was pointing out.\n\n121\n00:05:48.680 --> 00:05:53.040\nAnd also on the domain side on domain\ncontroller using group policy management\n\n122\n00:05:53.040 --> 00:05:56.730\nconsole I quickly went through and\nshowed you the different levels of policy.\n\n123\n00:05:56.730 --> 00:05:59.600\nI showed you this policy\narea where it would be\n\n124\n00:05:59.600 --> 00:06:01.230\nshowed you how to enable seeing it.\n\n125\n00:06:01.230 --> 00:06:03.880\nBut we also saw there was\nno policy there by default.\n\n126\n00:06:03.880 --> 00:06:04.770\nThis would be the?\n\n127\n00:06:04.770 --> 00:06:05.720\n&gt;&gt; Site policy.\n\n128\n00:06:05.720 --> 00:06:07.160\n&gt;&gt; The site policy, absolute correct.\n\n129\n00:06:07.160 --> 00:06:09.524\nSite level GPO, that's what we call it.\n\n130\n00:06:09.524 --> 00:06:14.550\nAnd the site level GPO is optional,\nmeaning you may not have one by default.\n\n131\n00:06:14.550 --> 00:06:15.830\nYou will go ahead simply and\n\n132\n00:06:15.830 --> 00:06:20.480\ncreate one, as I think I mentioned in\nthe last episode, in order to validate and\n\n133\n00:06:20.480 --> 00:06:23.100\nto standardize settings\nacross the entire forest.\n\n134\n00:06:23.100 --> 00:06:25.532\nPotentially, every machine,\nin other words,\n\n135\n00:06:25.532 --> 00:06:29.385\nwould be hit by this policy if we apply\nit to the default first site named site,\n\n136\n00:06:29.385 --> 00:06:33.718\nwhich is where all objects would wind up\nbeing managed through, and/or other sites,\n\n137\n00:06:33.718 --> 00:06:36.356\ndepending on how we choose\nto architect our system.\n\n138\n00:06:36.356 --> 00:06:39.591\nBut ultimately we have the ability\nto in theory touch our machines in\n\n139\n00:06:39.591 --> 00:06:41.310\nthe forest with this policy.\n\n140\n00:06:41.310 --> 00:06:43.310\nIf there are multiple site GPOs,\n\n141\n00:06:43.310 --> 00:06:47.400\nwe apply them synchronously than\nbeing the policies in listed order.\n\n142\n00:06:47.400 --> 00:06:48.250\nSo, centrally,\n\n143\n00:06:48.250 --> 00:06:52.575\nalphabetically we go down the list, top\nto bottom and we apply those policies and\n\n144\n00:06:52.575 --> 00:06:57.235\nwe go down, making chains of the local\npolicy on the individual machine targeted.\n\n145\n00:06:57.235 --> 00:06:59.285\nAs a result, adding as we go.\n\n146\n00:06:59.285 --> 00:07:04.155\nRemember A plus B plus C and\nif we have two versions of A,\n\n147\n00:07:04.155 --> 00:07:08.935\nthen override one version of A with\nthe other version as we go and ultimately,\n\n148\n00:07:08.935 --> 00:07:13.230\nthe effective policy is accumulative net\neffect of all those settings at the very,\n\n149\n00:07:13.230 --> 00:07:15.710\nvery bottom of that thought process.\n\n150\n00:07:15.710 --> 00:07:18.150\nSo we see the site level policy,\nlevel two.\n\n151\n00:07:18.150 --> 00:07:20.000\nWhat about our third policy?\n\n152\n00:07:20.000 --> 00:07:23.140\nAs we kinda walked through the logic,\nwe took a look at these as well.\n\n153\n00:07:23.140 --> 00:07:24.885\nThis would be at the?\n\n154\n00:07:24.885 --> 00:07:25.704\n&gt;&gt; Domain.\n\n155\n00:07:25.704 --> 00:07:26.775\n&gt;&gt; At the domain level.\n\n156\n00:07:26.775 --> 00:07:31.195\nSo our domain level GPOs, plural,\nbecause we do have two as we saw.\n\n157\n00:07:31.195 --> 00:07:35.308\nWe have our default domain policy that\nwill be at our domain name space in our\n\n158\n00:07:35.308 --> 00:07:37.284\nexample with practicelabs.com.\n\n159\n00:07:37.284 --> 00:07:41.916\nAnd we also have a default domain\ncontroller's policy which sits in\n\n160\n00:07:41.916 --> 00:07:46.640\nthe domain controller so you would\njust actually a domain OU policy.\n\n161\n00:07:46.640 --> 00:07:49.260\nIt sits on the domain controller's OU and\nwe see that.\n\n162\n00:07:49.260 --> 00:07:52.867\nAnd we have those policies\nthey apply third in order.\n\n163\n00:07:52.867 --> 00:07:56.557\nAnd if there are multiple domain GPOs\nagain when they stack those up they apply\n\n164\n00:07:56.557 --> 00:07:59.964\nsynchronously again the order listed\njust kind of going down the list as\n\n165\n00:07:59.964 --> 00:08:00.667\nthey appear.\n\n166\n00:08:00.667 --> 00:08:01.970\nOur OU level policies,\n\n167\n00:08:01.970 --> 00:08:05.790\nlevel four that we've just\ndescribed would be there as well.\n\n168\n00:08:05.790 --> 00:08:08.700\nAnd now, we may have multiple OUs and\nthey may be nested, and\n\n169\n00:08:08.700 --> 00:08:10.645\nthis is the part I just wanted\nto spend a minute on and\n\n170\n00:08:10.645 --> 00:08:14.460\nkinda draw us out on a little bit,\ncuz we have to understand the logic here.\n\n171\n00:08:14.460 --> 00:08:17.851\nWhen we see OU policies try it\nat the parent container first,\n\n172\n00:08:17.851 --> 00:08:21.576\nthen we have a fifth level that\ntalks about child OUs, nested OUs so\n\n173\n00:08:21.576 --> 00:08:23.920\nused within OUs hierarchically.\n\n174\n00:08:23.920 --> 00:08:26.900\nSo if we have an OU called hosts, and\n\n175\n00:08:26.900 --> 00:08:30.230\nwithin that OU we have a separate OU for\neach host.\n\n176\n00:08:30.230 --> 00:08:33.270\nAn Adam OU, a Cherokee OU, right, etc.\n\n177\n00:08:33.270 --> 00:08:38.560\nWe may have a policy that covers\nthe entire set of OUs at the host level.\n\n178\n00:08:38.560 --> 00:08:43.130\nBut then each individual host OU\nmay have its own separate policy.\n\n179\n00:08:43.130 --> 00:08:45.870\nAnd we may see multiple\npolicies attached and applied.\n\n180\n00:08:45.870 --> 00:08:49.180\nAnd so OUs at the top level,\nat the parent level, are applied.\n\n181\n00:08:49.180 --> 00:08:53.170\nAgain multiple OUs, we go down\nsynchronously in the order listed.\n\n182\n00:08:53.170 --> 00:08:56.200\nChild based OUs would be the fifth level,\nthe sentry,\n\n183\n00:08:56.200 --> 00:08:58.300\nthe last level as we apply, if they exist.\n\n184\n00:08:58.300 --> 00:09:01.710\nIf they don't, we stop at the parent\ncontainer, and just that's what it is.\n\n185\n00:09:01.710 --> 00:09:04.580\nWe apply them again,\nalso synchronously in the listed order.\n\n186\n00:09:04.580 --> 00:09:08.950\nBut if we have multiple levels of child\nOUs, OUs nested inside of other OUs.\n\n187\n00:09:08.950 --> 00:09:14.080\nSo a parent, child, maybe grandchild,\nseveral layers down if you think about it.\n\n188\n00:09:14.080 --> 00:09:17.128\nGPOs link to the higher level OUs,\napply first.\n\n189\n00:09:17.128 --> 00:09:20.690\nAnd GPOs linked to the lower levels,\napply sequentially as we go down.\n\n190\n00:09:20.690 --> 00:09:23.900\nIn other words, the idea,\nthe thought process we have in mind,\n\n191\n00:09:23.900 --> 00:09:25.050\nthe rule of thumb.\n\n192\n00:09:25.050 --> 00:09:30.240\nIs that we apply from essentially\nthe top winding up down so\n\n193\n00:09:30.240 --> 00:09:32.040\nthat ultimately as we\nget down to the bottom,\n\n194\n00:09:32.040 --> 00:09:36.600\nvery last policy applied, should be the\none that is always closest to the object.\n\n195\n00:09:36.600 --> 00:09:40.290\nClosest to the computer, closest to\nthe user, whatever that object may be.\n\n196\n00:09:40.290 --> 00:09:44.230\nWhatever that object in that OU is that\nultimately wanna apply that policy to.\n\n197\n00:09:44.230 --> 00:09:48.820\nRemember, it could be a computer, could\nbe a user, could be multiples of both.\n\n198\n00:09:48.820 --> 00:09:50.870\nThat is the last policy applied.\n\n199\n00:09:50.870 --> 00:09:54.680\nSo we would walk down, right, and\nunderstand that, and we would kinda go and\n\n200\n00:09:54.680 --> 00:09:55.830\nthen apply those policies.\n\n201\n00:09:55.830 --> 00:09:59.990\nAnd ultimately, the last policy\napplied closest to the object wins,\n\n202\n00:09:59.990 --> 00:10:01.960\nis what we say, sets the tone.\n\n203\n00:10:01.960 --> 00:10:05.840\nWe would then cumulatively add\nup all the effect of all that.\n\n204\n00:10:05.840 --> 00:10:10.840\nAnd as a result we would then be able to\nsee what the affective policy would be.\n\n205\n00:10:10.840 --> 00:10:13.290\nAnd I've talked to you about\nresult instead of policy.\n\n206\n00:10:13.290 --> 00:10:15.470\nTalked to you about group policy modeling.\n\n207\n00:10:15.470 --> 00:10:19.390\nTalked to you about GP result, different\ntools and options to see what those look\n\n208\n00:10:19.390 --> 00:10:23.620\nlike and we'll be examining some of those\nin more details as we continue to go.\n\n209\n00:10:23.620 --> 00:10:27.760\nWe wanna make sure we're thinking about\nnot just how policy gets applied but\n\n210\n00:10:27.760 --> 00:10:31.710\nalso some of the options associated\nwith policy application generically.\n\n211\n00:10:31.710 --> 00:10:33.970\nWhat are some of the containers,\ntools, techniques, and\n\n212\n00:10:33.970 --> 00:10:37.510\nthings we should be aware of that may\nimpact what I just described to you.\n\n213\n00:10:37.510 --> 00:10:39.110\nSetting up the order, right.\n\n214\n00:10:39.110 --> 00:10:42.579\nOrder of precedence of policy processing\nis actually fairly straight forward.\n\n215\n00:10:42.579 --> 00:10:45.852\nApply your policy at a certain level and\nyou know what the outcome and\n\n216\n00:10:45.852 --> 00:10:46.778\ntheory should be.\n\n217\n00:10:46.778 --> 00:10:51.028\nBut when we think about how policy\nactually cumulatively is applied,\n\n218\n00:10:51.028 --> 00:10:55.927\nbased on what we just described, we're\ntalking about a very straightforward,\n\n219\n00:10:55.927 --> 00:10:57.700\nlinear progression.\n\n220\n00:10:57.700 --> 00:10:58.900\nJoin me back here for just a second,\n\n221\n00:10:58.900 --> 00:11:01.110\nI'm just bringing up the console\nwhile we're talking.\n\n222\n00:11:01.110 --> 00:11:04.770\nAnd what I mean is I can\ncome up here to the domain,\n\n223\n00:11:04.770 --> 00:11:07.020\nright, right-click at the domain level.\n\n224\n00:11:07.020 --> 00:11:11.790\nAnd I can right click and create a domain\nbased policy right there, as you can see.\n\n225\n00:11:11.790 --> 00:11:14.110\nI can link to an existing policy object,\n\n226\n00:11:14.110 --> 00:11:16.260\ncreating another policy\nthat I wanna apply.\n\n227\n00:11:16.260 --> 00:11:18.160\nThere's different ways to do this.\n\n228\n00:11:18.160 --> 00:11:23.420\nI can go a head, just click away from\nthere, I can go to an individual OU,\n\n229\n00:11:23.420 --> 00:11:28.500\nright click, create a policy and link\nit there, setting that level of policy.\n\n230\n00:11:28.500 --> 00:11:31.420\nWe've already taken a look at\nthe site level right here.\n\n231\n00:11:31.420 --> 00:11:35.990\nBring up the site object, create a policy\nright here, if I choose to do that,\n\n232\n00:11:35.990 --> 00:11:38.020\nwhatever the policy may be.\n\n233\n00:11:38.020 --> 00:11:40.275\nSo I can have policies\napplied different levels.\n\n234\n00:11:40.275 --> 00:11:41.410\nThen, of course, the local policy,\n\n235\n00:11:41.410 --> 00:11:43.890\nas we said, is already resident\non that machine, right.\n\n236\n00:11:43.890 --> 00:11:49.060\nWe've talked about that, and\nif I wanted to nest an OU, right.\n\n237\n00:11:49.060 --> 00:11:51.980\nSo you'll see here I have a pack,\nand I have IT underneath it,\n\n238\n00:11:51.980 --> 00:11:54.400\nessentially parent child relationship.\n\n239\n00:11:54.400 --> 00:11:59.310\nI can go to this level and\nI can go ahead and\n\n240\n00:11:59.310 --> 00:12:02.500\nI can create a policy and link it there.\n\n241\n00:12:02.500 --> 00:12:05.490\nAnd then I could go ahead and create\na policy and link it above or below.\n\n242\n00:12:05.490 --> 00:12:09.005\nAnd notice in the tool, I also have the\nability to create an OU right from here.\n\n243\n00:12:09.005 --> 00:12:11.785\nI don't even have to go back to the ADAC,\n\n244\n00:12:11.785 --> 00:12:13.905\nthe Active Directory\nAdministrative Center.\n\n245\n00:12:13.905 --> 00:12:16.055\nI don't have to go to\nActive Directory Users and\n\n246\n00:12:16.055 --> 00:12:19.815\nComputers, I don't have to\ngo to PowerShell, right.\n\n247\n00:12:19.815 --> 00:12:22.762\nI don't have to do a DS Add\nfrom the command line.\n\n248\n00:12:22.762 --> 00:12:26.032\nThere's all these different ways we've\ntalked about that you could create OUs.\n\n249\n00:12:26.032 --> 00:12:29.052\nI could do all that, but I could do it\nright from here in this tool as well.\n\n250\n00:12:29.052 --> 00:12:33.267\nSo if I wanted to create another OU,\nright, just go ahead and\n\n251\n00:12:33.267 --> 00:12:35.712\nsay new OU, and give it a name, right.\n\n252\n00:12:35.712 --> 00:12:38.872\nSo instead of IT, we'll call this, right,\n\n253\n00:12:38.872 --> 00:12:43.708\nshare one for Cherokee and we could\nsee that I just nested another OU.\n\n254\n00:12:43.708 --> 00:12:47.215\nAnd the idea here is that as I do that,\nif I have a policy,\n\n255\n00:12:47.215 --> 00:12:52.382\nnow lets just say hypothetically I created\nthis level right here at the parent OU.\n\n256\n00:12:52.382 --> 00:12:57.108\nLet's create a link, a new policy\nright here, just as a demonstration.\n\n257\n00:12:57.108 --> 00:13:02.397\nLet's call this policy test one,\njust so we can keep track of it.\n\n258\n00:13:02.397 --> 00:13:07.480\nAnd we see that we now have our policy\nitem right there, just gonna click on it.\n\n259\n00:13:07.480 --> 00:13:10.350\nJust so we could see that we\ncan go ahead and manage it.\n\n260\n00:13:10.350 --> 00:13:12.760\nAnd we'll get in and\nlook at the settings here in a minute.\n\n261\n00:13:12.760 --> 00:13:17.010\nBut you see that this policy\nexists at this level.\n\n262\n00:13:17.010 --> 00:13:22.620\nWhen I go to IT right here, notice\nthat when I go to the inheritance tab,\n\n263\n00:13:22.620 --> 00:13:26.600\nright there, just the second tab\nover as I highlight the object.\n\n264\n00:13:26.600 --> 00:13:31.690\nAnd look at it, that that policy is\nbeing inherited down the hierarchy.\n\n265\n00:13:31.690 --> 00:13:35.866\nBecause it's being applied to the objects\ndown below, along with our default domain\n\n266\n00:13:35.866 --> 00:13:39.067\npolicy, which we said would apply\nto every object in the domain.\n\n267\n00:13:39.067 --> 00:13:41.443\nThat's how we set our security\nsettings hypothetically, right.\n\n268\n00:13:41.443 --> 00:13:45.238\nFor things like logon, timeouts,\npasswords, things like that.\n\n269\n00:13:45.238 --> 00:13:48.513\nSo those policies are flowing down and\n\n270\n00:13:48.513 --> 00:13:52.512\nif I look at the sub sub OU,\nsame idea, right.\n\n271\n00:13:52.512 --> 00:13:56.830\nNow what we have to think about is this\nidea of not kinda upgrade the policy.\n\n272\n00:13:56.830 --> 00:13:59.070\nThat's easy, we just did that,\ncan I edit it?\n\n273\n00:13:59.070 --> 00:14:00.850\nThat's not hard, we can do that.\n\n274\n00:14:00.850 --> 00:14:04.650\nI wanna focus on things like how do\nI stop that policy from being applied\n\n275\n00:14:04.650 --> 00:14:06.730\nto this OU called chair one.\n\n276\n00:14:06.730 --> 00:14:10.170\nCuz I don't want that policy, can we,\nin other words, block inheritance,\n\n277\n00:14:10.170 --> 00:14:11.180\nprevent it from happening?\n\n278\n00:14:11.180 --> 00:14:13.470\nThis is one of the settings\nwe have to explore.\n\n279\n00:14:13.470 --> 00:14:16.010\nDo we understand the idea of\ninheritance and how it works?\n\n280\n00:14:16.010 --> 00:14:17.110\nAnd can we manipulate it?\n\n281\n00:14:17.110 --> 00:14:21.000\nAnd the answer is we can if we know what\nto look for and know what we're doing.\n\n282\n00:14:21.000 --> 00:14:24.860\nWhat about linking a policy and\nhaving policies linked from other areas,\n\n283\n00:14:24.860 --> 00:14:25.540\ncan we do that?\n\n284\n00:14:25.540 --> 00:14:27.940\nYou can see we have an option for that.\n\n285\n00:14:27.940 --> 00:14:31.730\nCan I delegate rights and\ncontrol security and access to the policy?\n\n286\n00:14:31.730 --> 00:14:33.250\nAnd the answer is of course we can.\n\n287\n00:14:33.250 --> 00:14:37.890\nIt's an object, the policy, we call it\na GPO specifically, Group Policy Object.\n\n288\n00:14:37.890 --> 00:14:42.450\nJust like every other object in Windows,\nwe have a security model that says any\n\n289\n00:14:42.450 --> 00:14:47.530\nobject will have user access rights\nassigned to it, or group access rights.\n\n290\n00:14:47.530 --> 00:14:50.123\nRight as an object,\nwe manage it in other words.\n\n291\n00:14:50.123 --> 00:14:53.120\nSo these are some of the other areas\nwe wanna spend a few minutes developing\n\n292\n00:14:53.120 --> 00:14:54.241\na thought process around.\n\n293\n00:14:54.241 --> 00:14:58.724\nBecause we have to start thinking not just\nabout right click, create, edit settings,\n\n294\n00:14:58.724 --> 00:15:00.015\nsave, policy applied.\n\n295\n00:15:00.015 --> 00:15:04.695\nThat's easy, but what if the same\npolicies don't apply to every object?\n\n296\n00:15:04.695 --> 00:15:08.615\nWhat if we have to manipulate certain\npolicies, allow some to apply,\n\n297\n00:15:08.615 --> 00:15:12.545\nperhaps block others, because they're\nonly meant to apply to a certain level?\n\n298\n00:15:12.545 --> 00:15:15.107\nThis becomes a little bit more involve,\na little bit more complex.\n\n299\n00:15:15.107 --> 00:15:17.857\nSo, when we think about policy,\nyou do a lot of work with policy.\n\n300\n00:15:17.857 --> 00:15:21.192\nAnd I know you often will talk to me and\nask me about policy.\n\n301\n00:15:21.192 --> 00:15:23.187\nOt tell me things that\nyou're doing with it.\n\n302\n00:15:23.187 --> 00:15:25.187\nDo you often deal with\nblocking inheritance or\n\n303\n00:15:25.187 --> 00:15:27.320\nmanipulating security through filtering?\n\n304\n00:15:27.320 --> 00:15:30.470\nIs that some of the stuff you may have to\ndo, or is it just kinda straightforward,\n\n305\n00:15:30.470 --> 00:15:33.250\njust what we would call vanilla\nbased policy management, right?\n\n306\n00:15:33.250 --> 00:15:35.070\nHow do you see it, in other words,\nI guess is what I'm asking?\n\n307\n00:15:35.070 --> 00:15:37.570\n&gt;&gt; I think it would be a little bit\nmore mint chocolate chip, Adam.\n\n308\n00:15:37.570 --> 00:15:40.195\n&gt;&gt; You're a little bit more of\na nontraditional kinda gal, right?\n\n309\n00:15:40.195 --> 00:15:42.820\n&gt;&gt; No, definitely taking\nadvantage of that blocking and\n\n310\n00:15:42.820 --> 00:15:44.730\nreally customizing those permissions.\n\n311\n00:15:44.730 --> 00:15:47.110\n&gt;&gt; All right, so, it is something\nthat's fairly straight forward.\n\n312\n00:15:47.110 --> 00:15:47.770\nSo, why don't we jump?\n\n313\n00:15:47.770 --> 00:15:49.370\nLet's just continue our conversation.\n\n314\n00:15:49.370 --> 00:15:50.422\nLet's take a look.\n&gt;&gt; Policies, not permissions,\n\n315\n00:15:50.422 --> 00:15:51.150\nbut you know what I meant.\n\n316\n00:15:51.150 --> 00:15:52.189\n&gt;&gt; Policies, no, no,\nI know what you meant.\n\n317\n00:15:52.189 --> 00:15:54.629\nRight, I just bypassed that whole thing\nand just went right to the policy.\n\n318\n00:15:54.629 --> 00:15:57.163\nAll right, so let's start by talking\nabout something called link order.\n\n319\n00:15:57.163 --> 00:15:59.126\nWhich is one of the things I\nwas just pointing out to you.\n\n320\n00:15:59.126 --> 00:16:03.621\nKind of understanding the precedence order\nGPOs linked to a given container is what\n\n321\n00:16:03.621 --> 00:16:04.336\nthis means.\n\n322\n00:16:04.336 --> 00:16:05.859\nWe obviously, we'll link them and\n\n323\n00:16:05.859 --> 00:16:08.720\nbased on linking them we apply\nwhat's called a precedence value.\n\n324\n00:16:08.720 --> 00:16:12.110\nNow the precedence value indicates\nhow policies will be applied.\n\n325\n00:16:12.110 --> 00:16:16.820\nThe lower the value meaning the closer to\nthe number one we get the more likely it\n\n326\n00:16:16.820 --> 00:16:19.660\nis that policy will take precedence and\napply over everything else.\n\n327\n00:16:19.660 --> 00:16:23.720\nThe higher the value, meaning further\naway from what it is, less likely it is.\n\n328\n00:16:23.720 --> 00:16:25.040\nAnd so we have to think about that.\n\n329\n00:16:25.040 --> 00:16:26.720\nBecause as we look at a policy.\n\n330\n00:16:26.720 --> 00:16:28.130\nLet me just go back here.\n\n331\n00:16:28.130 --> 00:16:30.387\nJust bring the policy up.\n\n332\n00:16:30.387 --> 00:16:33.147\nOne of the things we want\nto think about is that,\n\n333\n00:16:33.147 --> 00:16:37.430\nwhen we look at details we can see for\ninstance here, a policy is enabled.\n\n334\n00:16:37.430 --> 00:16:40.400\nWe'll talk about being able to\ndisable a policy if we choose to.\n\n335\n00:16:40.400 --> 00:16:43.840\nWe have tracking on the version number for\nupdates to the policy.\n\n336\n00:16:43.840 --> 00:16:45.772\nWe have a general set of settings.\n\n337\n00:16:45.772 --> 00:16:48.149\nRight now there's no settings in\nthe policy, it's a blank shell,\n\n338\n00:16:48.149 --> 00:16:49.470\nso there's nothing there.\n\n339\n00:16:49.470 --> 00:16:51.620\nWe have the ability to delegate,\nas we were looking at.\n\n340\n00:16:51.620 --> 00:16:55.510\nBut we also have the ability to be\nable to go in and enforce the policy,\n\n341\n00:16:55.510 --> 00:16:56.700\nmake it mandatory.\n\n342\n00:16:56.700 --> 00:16:59.660\nNot allow it to be blocked in any way,\nshape, or form.\n\n343\n00:16:59.660 --> 00:17:02.700\nWe have the ability to be able to go in,\nedit the policy.\n\n344\n00:17:02.700 --> 00:17:04.640\nThere's all these things\nthat we can do here.\n\n345\n00:17:04.640 --> 00:17:09.160\nSo making sure that we understand\nhow policy gets applied,\n\n346\n00:17:09.160 --> 00:17:12.670\nhow it is going to interact\nthrough the link order.\n\n347\n00:17:12.670 --> 00:17:15.360\nBecomes important because\nwe do want to understand\n\n348\n00:17:15.360 --> 00:17:18.560\nthat not all policies essentially,\nif you will, are equal.\n\n349\n00:17:18.560 --> 00:17:22.970\nAnd not policies will\nnecessarily be applied\n\n350\n00:17:22.970 --> 00:17:25.870\njust because we decide\nto put a policy in play.\n\n351\n00:17:25.870 --> 00:17:29.710\nAnd so we do have to understand that as\nwe create policies, if we are linking\n\n352\n00:17:29.710 --> 00:17:33.670\nthe policies, you see the link enabled\nyes, if we're enforcing a policy, yes or\n\n353\n00:17:33.670 --> 00:17:37.700\nno, we're impacting and\nchanging the way policy behavior applies.\n\n354\n00:17:37.700 --> 00:17:40.270\nAnd we may or may not be\napplying that policy as a result.\n\n355\n00:17:40.270 --> 00:17:42.200\nWe may block inheritances for\nall things to do and\n\n356\n00:17:42.200 --> 00:17:47.070\nto modify and controlling ultimately\nhow this will essentially take place.\n\n357\n00:17:47.070 --> 00:17:50.790\nAnd so if we decide, lets say I can either\nadd in the policy right down here by\n\n358\n00:17:50.790 --> 00:17:54.280\nthe way into the group policy objects\ncontainer, just looking at it.\n\n359\n00:17:54.280 --> 00:17:56.620\nOr I can go up here to the shortcut and\nwork with it.\n\n360\n00:17:56.620 --> 00:18:00.140\nBut if I decide that I want\nto come lets say to this\n\n361\n00:18:00.140 --> 00:18:02.320\nchild of you that we were discussing.\n\n362\n00:18:02.320 --> 00:18:05.840\nAnd I want to go ahead, and by the way the\nprecedence number that I was talking about\n\n363\n00:18:05.840 --> 00:18:10.580\nright here on group policy inheritance\nthat number lower closest to one\n\n364\n00:18:10.580 --> 00:18:14.380\nbecomes the policy to get supplied,\nwhen we apply them in sequential order.\n\n365\n00:18:14.380 --> 00:18:17.298\nNot that both these policies won't\nbe applied, quite the opposite,\n\n366\n00:18:17.298 --> 00:18:17.996\nthey both will.\n\n367\n00:18:17.996 --> 00:18:21.672\nBut what happens is the default\ndomain policy gets applied and\n\n368\n00:18:21.672 --> 00:18:25.460\nthen the policy test one policy\ngets applied afterwards.\n\n369\n00:18:25.460 --> 00:18:28.597\nAnd what precedence tells us\nis that that's the order,\n\n370\n00:18:28.597 --> 00:18:31.278\nthat we're going to be\nthinking about this in.\n\n371\n00:18:31.278 --> 00:18:33.614\nAnd that's how these\npolicies get applied so\n\n372\n00:18:33.614 --> 00:18:37.070\nwe know which one ultimately\nis the last one applied.\n\n373\n00:18:37.070 --> 00:18:40.060\nAnd as a result, with that cumulative\nset of settings may wind up being.\n\n374\n00:18:40.060 --> 00:18:43.680\nAnd manipulating this order is important\nbecause we're not familiar with this.\n\n375\n00:18:43.680 --> 00:18:46.370\nWe're not sure we know what's\ngoing on with precedence.\n\n376\n00:18:46.370 --> 00:18:50.030\nWe may set policies up in other words with\nthe wrong precedence, number, and order.\n\n377\n00:18:50.030 --> 00:18:53.950\nAnd as a result, we may wipe out the\nsettings we're actually trying to apply.\n\n378\n00:18:53.950 --> 00:18:55.190\nAnd if you think about the logic of it,\n\n379\n00:18:55.190 --> 00:18:59.390\nif it default domain policy gets\nsupplied after everything else,\n\n380\n00:18:59.390 --> 00:19:03.770\nit may make changes to OU settings\nthat we may or may not wanna have.\n\n381\n00:19:03.770 --> 00:19:07.730\nAnd if an OU policy gets played on top of,\na default domain policy\n\n382\n00:19:07.730 --> 00:19:12.190\nthat may override certain settings that we\nmay change, or whenever the case may be.\n\n383\n00:19:12.190 --> 00:19:15.087\nAnd so that's something that we do\nhave to think about as well and\n\n384\n00:19:15.087 --> 00:19:16.329\nmake sure we're aware of.\n\n385\n00:19:16.329 --> 00:19:20.597\nBecause those numbers will tell us\nultimately what policy becomes the last\n\n386\n00:19:20.597 --> 00:19:21.620\npolicy applied.\n\n387\n00:19:21.620 --> 00:19:25.898\nAnd that is a very important part\nof what we need to be aware of.\n\n388\n00:19:25.898 --> 00:19:30.990\nSo just to keep that in mind,\nwe can go ahead and we can obviously\n\n389\n00:19:30.990 --> 00:19:36.670\nif we are here move these up or\ndown to change the priority order.\n\n390\n00:19:37.890 --> 00:19:39.611\nWhat I'm I doing?\n\n391\n00:19:39.611 --> 00:19:44.807\n[SOUND] Let me do the following.\n\n392\n00:19:44.807 --> 00:19:47.420\nAnd I don't have any linked policies here.\n\n393\n00:19:47.420 --> 00:19:50.470\nLet me actually do it this way so\nwe can see it.\n\n394\n00:19:50.470 --> 00:19:57.766\nSo let me create a policy,\nand link it to here.\n\n395\n00:19:57.766 --> 00:20:02.590\nJust grab one that is linked, or rather\ncreate a linked policy, I should say.\n\n396\n00:20:02.590 --> 00:20:04.770\nLet's just put it here so\nwe can see something.\n\n397\n00:20:04.770 --> 00:20:06.480\nYou'll see the link order here.\n\n398\n00:20:06.480 --> 00:20:08.501\nAnd notice I can move up and\nmove down with these arrows,\n\n399\n00:20:08.501 --> 00:20:09.850\njust what I wanted to show you.\n\n400\n00:20:09.850 --> 00:20:11.854\nWe can impact that order\nof priority processing.\n\n401\n00:20:11.854 --> 00:20:12.670\n&gt;&gt; Is there additional ones?\n\n402\n00:20:12.670 --> 00:20:15.836\n&gt;&gt; Yes, I just can't do it from the other\nwindow because all we see is the actual\n\n403\n00:20:15.836 --> 00:20:16.490\noutput there.\n\n404\n00:20:16.490 --> 00:20:18.960\nWe don't have the arrows to move up and\ndown.\n\n405\n00:20:18.960 --> 00:20:21.770\nBut you see here a link group\npolicy objects, the link order,\n\n406\n00:20:21.770 --> 00:20:25.084\nthe lower the number again,\nthe policy applied with the lowest number.\n\n407\n00:20:25.084 --> 00:20:29.897\nSo once applied last if I had\nmultiple policies here, and\n\n408\n00:20:29.897 --> 00:20:34.120\nlet's just add another\none here really quickly.\n\n409\n00:20:34.120 --> 00:20:38.711\nJust to show you and then I decided that I\nwanted to prioritize, in this way, you see\n\n410\n00:20:38.711 --> 00:20:43.106\nhow I can flip flop those numbers just by\ngoing up and down and highlighting which\n\n411\n00:20:43.106 --> 00:20:47.870\none becomes one, which one becomes two\nessentially just moving them up and down.\n\n412\n00:20:47.870 --> 00:20:51.183\nBy clicking the arrows I could change\nthe order that they get applied in which\n\n413\n00:20:51.183 --> 00:20:54.653\neveryone gets applied last, remember\nit's the last one that makes changes and\n\n414\n00:20:54.653 --> 00:20:55.302\noverwrites.\n\n415\n00:20:55.302 --> 00:20:58.566\nAnd as a result we can manipulate and\nimpact that order so,\n\n416\n00:20:58.566 --> 00:21:02.430\nwe can change that here on\nthe linked group policy objects tab.\n\n417\n00:21:02.430 --> 00:21:05.320\nWe could see what's happening by\nplaying with policies that are linked.\n\n418\n00:21:05.320 --> 00:21:07.920\nRemember, a policy link just\nsays take this policy, apply it,\n\n419\n00:21:07.920 --> 00:21:10.410\nessentially, to this\nobject whatever it may be.\n\n420\n00:21:10.410 --> 00:21:12.190\nI don't always have to\ncreate new policies,\n\n421\n00:21:12.190 --> 00:21:14.490\nin other words,\non an object to manage them.\n\n422\n00:21:14.490 --> 00:21:18.060\nI may have a set of existing policies and\nI may just wanna reuse them essentially.\n\n423\n00:21:18.060 --> 00:21:19.010\nAs you were saying.\n\n424\n00:21:19.010 --> 00:21:22.520\nAnd if I do that, I just have to decide\nwhat order I want them applied in.\n\n425\n00:21:22.520 --> 00:21:26.740\nThat's what the link order represents and\nthat precedence of setting is essentially\n\n426\n00:21:26.740 --> 00:21:31.130\nthe idea of how we apply those\npolicies in what order and which one.\n\n427\n00:21:31.130 --> 00:21:34.271\nAnd remember, what we fight for is being\nthe last policy applied, essentially-\n\n428\n00:21:34.271 --> 00:21:34.844\n&gt;&gt; [LAUGH]\n\n429\n00:21:34.844 --> 00:21:36.437\n&gt;&gt; That means our changes are most\n\n430\n00:21:36.437 --> 00:21:39.440\nlikely to come all the way through and\nnot be manipulated,\n\n431\n00:21:39.440 --> 00:21:42.640\nmodified, or in somehow,\ncancelled out by other policies.\n\n432\n00:21:42.640 --> 00:21:45.370\nIf we're three or\nfour up the chain somewhere.\n\n433\n00:21:45.370 --> 00:21:48.040\nIf no other setting is\nmanipulate what we're setting,\n\n434\n00:21:48.040 --> 00:21:50.850\nthen our policy settings will flow\nall the way through no problem.\n\n435\n00:21:50.850 --> 00:21:55.500\nBut if I say A is on, and then a policy\nright below me says no, A is off, and\n\n436\n00:21:55.500 --> 00:21:56.630\nthat's the last policy applied.\n\n437\n00:21:56.630 --> 00:21:57.850\nA is off, it's not on.\n\n438\n00:21:57.850 --> 00:22:00.430\nI've essentially zeroed out that change.\n\n439\n00:22:00.430 --> 00:22:04.360\nSo we really want to try to be that\nlast policy applied if we truly want our\n\n440\n00:22:04.360 --> 00:22:07.840\nsettings to apply to everything that's\nsupposed to be managed in that container.\n\n441\n00:22:07.840 --> 00:22:10.535\nBut if you're not familiar\nwith linked processing or\n\n442\n00:22:10.535 --> 00:22:12.590\nin precedence you may not realize that.\n\n443\n00:22:12.590 --> 00:22:15.470\nYou may not have manipulated\nthose values to ensure that, and\n\n444\n00:22:15.470 --> 00:22:17.310\nyou may not be getting the outcomes\nthat you are looking for.\n\n445\n00:22:17.310 --> 00:22:19.370\nAnd this is one of the things\nyou do to troubleshoot.\n\n446\n00:22:19.370 --> 00:22:22.490\nTo go back and look for that, and\nsay well what if I flip those,\n\n447\n00:22:22.490 --> 00:22:25.500\ndoes that enforce the policy,\ndoes that make the changes the right way?\n\n448\n00:22:25.500 --> 00:22:28.280\nNow, there's another way\nto think about this.\n\n449\n00:22:28.280 --> 00:22:30.290\nThere's essentially two\nschools of thought here.\n\n450\n00:22:30.290 --> 00:22:33.690\nYour one school of thought, no best\npractice per se, no right and wrong.\n\n451\n00:22:33.690 --> 00:22:37.000\nAlthough Microsoft we kind of\nverge towards saying, hey, yeah,\n\n452\n00:22:37.000 --> 00:22:39.400\nyou should kind of do it this way.\n\n453\n00:22:39.400 --> 00:22:41.040\nBut what we have is two options.\n\n454\n00:22:41.040 --> 00:22:44.850\nOne is you've got a couple of\ndefault policies in there already.\n\n455\n00:22:44.850 --> 00:22:48.800\nThe default domain policy designed to\ndeal with security-related issues.\n\n456\n00:22:48.800 --> 00:22:52.060\nDefault domain controller policy\ndesigned to deal with specific\n\n457\n00:22:52.060 --> 00:22:54.920\nIssues associated with the computers,\nthe domain controllers, and\n\n458\n00:22:54.920 --> 00:22:56.530\nwhat you wanna have applied there.\n\n459\n00:22:56.530 --> 00:23:00.240\nOne school of thought is hey, just create\none massive policy, edit the default\n\n460\n00:23:00.240 --> 00:23:03.980\ndomain policy essentially,\nmake it broader than just security.\n\n461\n00:23:03.980 --> 00:23:07.160\nAlthough we really recommend you leave\njust security settings there and\n\n462\n00:23:07.160 --> 00:23:10.670\nnot really pile other stuff on,\nbut I see a lot of people do this.\n\n463\n00:23:10.670 --> 00:23:13.630\nJust make one big policy and\nhave that one policy flow through and\n\n464\n00:23:13.630 --> 00:23:15.050\nthat way everything's applied.\n\n465\n00:23:15.050 --> 00:23:19.750\nYou could do that, but the challenge\nbecomes that that number one could\n\n466\n00:23:19.750 --> 00:23:23.380\ntake a lot longer to apply, because\nremember, the bigger the policy is,\n\n467\n00:23:23.380 --> 00:23:27.690\nthe longer it takes to download the\npolicy, apply it during the log on cycle.\n\n468\n00:23:27.690 --> 00:23:29.860\nSo that is just something to consider.\n\n469\n00:23:29.860 --> 00:23:34.380\nNumber two, We have too many things\ngoing on, on a single policy.\n\n470\n00:23:34.380 --> 00:23:37.950\nWe may actually run out of\ntime to process that policy.\n\n471\n00:23:37.950 --> 00:23:39.720\nThe policy may not apply properly.\n\n472\n00:23:39.720 --> 00:23:41.270\nSo there are some issues there.\n\n473\n00:23:41.270 --> 00:23:43.070\nBut you can work through those and\n\n474\n00:23:43.070 --> 00:23:46.560\nmake sure that the policy is streamlined\nenough that you can apply it.\n\n475\n00:23:46.560 --> 00:23:47.610\nSo there is that option.\n\n476\n00:23:47.610 --> 00:23:50.590\nSo you may not have to worry about a lot\nof different policies at different levels,\n\n477\n00:23:50.590 --> 00:23:53.070\nwe just put everything really\nkind of at that level.\n\n478\n00:23:53.070 --> 00:23:55.804\nSay okay, everything up the domain\npolicy and it affects everybody.\n\n479\n00:23:55.804 --> 00:23:59.110\nBut the problem becomes if you don't want\neverybody to get the same exact set of\n\n480\n00:23:59.110 --> 00:23:59.622\nsettings.\n\n481\n00:23:59.622 --> 00:24:02.797\nIf you don't wanna deploy a piece of\nsoftware to everybody If you don't want\n\n482\n00:24:02.797 --> 00:24:05.143\neverybody to have the corporate\nlogo on their desktop.\n\n483\n00:24:05.143 --> 00:24:08.870\nIf you don't want everybody to have\na constrained control panel, then\n\n484\n00:24:08.870 --> 00:24:13.218\napplying the policy setting at the domain\nlevel may not be the appropriate choice,\n\n485\n00:24:13.218 --> 00:24:16.220\nbecause everybody's gonna\nget that same environment.\n\n486\n00:24:16.220 --> 00:24:20.360\nSo you're not gonna have any way of\ncreating separate areas that are gonna\n\n487\n00:24:20.360 --> 00:24:23.530\napply policies that are uniquely\ntailored to certain groups.\n\n488\n00:24:23.530 --> 00:24:26.110\nWhich we would choose to do\nby going to the OU level.\n\n489\n00:24:26.110 --> 00:24:28.597\nSo while that thought process may work for\nsome of you,\n\n490\n00:24:28.597 --> 00:24:30.014\nit may not be the best way to go.\n\n491\n00:24:30.014 --> 00:24:31.767\nIn fact,\nMicrosoft's kinda adamant about this.\n\n492\n00:24:31.767 --> 00:24:34.927\nWe say, look, security settings are gonna\napply to everyone in the domain\n\n493\n00:24:34.927 --> 00:24:36.240\nappropriate for that level.\n\n494\n00:24:36.240 --> 00:24:39.325\nOther stuff typically is not domain level.\n\n495\n00:24:39.325 --> 00:24:44.198\nIt's usually gonna vary by OU or by area,\nand you should manage out that level to\n\n496\n00:24:44.198 --> 00:24:48.052\ncreate the specific or\nspecificity of outcomes you want by OU,\n\n497\n00:24:48.052 --> 00:24:52.330\nas opposed to the broad brush\nthat the domain policy gives you.\n\n498\n00:24:52.330 --> 00:24:55.346\nBut if you're not deploying\nsoftware through group policy,\n\n499\n00:24:55.346 --> 00:24:58.015\nif you use a configuration\nmanagement tool to do that,\n\n500\n00:24:58.015 --> 00:25:02.249\nmaybe system center config manager, maybe\nwhatever the other tools are, OpenView,\n\n501\n00:25:02.249 --> 00:25:05.576\nTivoli, Orion, whatever you may use,\nwhatever those tools are.\n\n502\n00:25:05.576 --> 00:25:08.340\nIt doesn't matter,\nthen you may not have to worry about that.\n\n503\n00:25:08.340 --> 00:25:10.940\nIf you're not worried about anything\nother than just straight forward desktop\n\n504\n00:25:10.940 --> 00:25:12.540\nconfiguration management.\n\n505\n00:25:12.540 --> 00:25:16.770\nMaybe the domain policy's the best place\nif everybody gets the same desktop.\n\n506\n00:25:16.770 --> 00:25:19.820\nMy clients in banking in\nfinancial services for instance,\n\n507\n00:25:19.820 --> 00:25:22.992\ntend to lock down their systems,\nand everything is the same,\n\n508\n00:25:22.992 --> 00:25:25.559\nbecause you need a standard desktop,\neasy to do.\n\n509\n00:25:25.559 --> 00:25:28.325\nOne policy very streamlined,\nvery straightforward.\n\n510\n00:25:28.325 --> 00:25:31.636\nThe downside of having multiple\npolicies at the OU levels is,\n\n511\n00:25:31.636 --> 00:25:33.740\nyou get what's called policy bloat.\n\n512\n00:25:33.740 --> 00:25:36.548\nYou essentially get so many policies, and\n\n513\n00:25:36.548 --> 00:25:41.390\nthey get applied in kind of this\nconflicting mish-mosh kind of fashion.\n\n514\n00:25:41.390 --> 00:25:45.502\nThat unless you're very careful to manage\nthem, very careful to be aware of link\n\n515\n00:25:45.502 --> 00:25:48.888\norder, very careful to take note\nof how those policies interact,\n\n516\n00:25:48.888 --> 00:25:51.428\nyou may wind up with policies\nthat are configuring\n\n517\n00:25:51.428 --> 00:25:54.712\nsystems that are essentially at\nodds with one another, right?\n\n518\n00:25:54.712 --> 00:25:57.585\nAnd are not giving you the end result\nyou want but rather an effect,\n\n519\n00:25:57.585 --> 00:26:00.817\nare making it more difficult to manage and\npolicies should make it easier,\n\n520\n00:26:00.817 --> 00:26:02.436\nnot more difficult at the end of day.\n\n521\n00:26:02.436 --> 00:26:04.640\nThat's really the goal of group policy.\n\n522\n00:26:04.640 --> 00:26:07.420\nStreamline, centralize\nconfiguration management, and\n\n523\n00:26:07.420 --> 00:26:10.933\nstandardize the desktop experience,\nthat's what we're looking to do.\n\n524\n00:26:10.933 --> 00:26:14.287\nNot make things more complicated by having\n20 different policies that each does\n\n525\n00:26:14.287 --> 00:26:16.149\nits own little thing here and\nthere, right?\n\n526\n00:26:16.149 --> 00:26:20.050\n&gt;&gt; You can kinda troubleshoot, figure\nout who was overriding who and so forth.\n\n527\n00:26:20.050 --> 00:26:20.650\n&gt;&gt; Right, right.\n\n528\n00:26:20.650 --> 00:26:21.970\nSo just to be aware of that, right?\n\n529\n00:26:21.970 --> 00:26:25.111\nBecause you could go in, and\nmodify the default domain or\n\n530\n00:26:25.111 --> 00:26:28.521\nto make controller's policy,\nand it's not to be specific.\n\n531\n00:26:28.521 --> 00:26:31.280\nIt's not that Microsoft doesn't\nrecommend editing them, right?\n\n532\n00:26:31.280 --> 00:26:33.290\nThat's not the right way\nto think about that.\n\n533\n00:26:33.290 --> 00:26:36.550\nWhat I'm suggesting is, there definitely\nare compelling reasons to edit those\n\n534\n00:26:36.550 --> 00:26:40.560\npolicies, because you might have to modify\nthe security settings they represent,\n\n535\n00:26:40.560 --> 00:26:44.480\nto manipulate and standardize\nthe way you implement policy and\n\n536\n00:26:44.480 --> 00:26:46.600\nsecurity settings in your environment.\n\n537\n00:26:46.600 --> 00:26:48.380\nRemember, one size fits one.\n\n538\n00:26:48.380 --> 00:26:52.475\nThe off the shelf, generic way that\nthat policy template comes out,\n\n539\n00:26:52.475 --> 00:26:56.225\ndoes not fit the policy requirements for\nmost organizations.\n\n540\n00:26:56.225 --> 00:27:00.915\nIt may work for yours, but you may have\nto modify, either constrain or extend,\n\n541\n00:27:00.915 --> 00:27:05.885\nsettings in those security settings in\nthose policies to conform with regulatory,\n\n542\n00:27:05.885 --> 00:27:09.910\nstatutory, and policy driven\nmanagement in your organizations.\n\n543\n00:27:09.910 --> 00:27:14.110\nSo Microsoft, it's not that they\nrecommend, or do recommend anything that.\n\n544\n00:27:14.110 --> 00:27:18.130\nBut they recommend specifically is you\ndon't polish settings on top of what's\n\n545\n00:27:18.130 --> 00:27:18.972\nalready there.\n\n546\n00:27:18.972 --> 00:27:21.776\nBut we do encourage you, and\nrecommend that you go out and\n\n547\n00:27:21.776 --> 00:27:25.285\nchange those existing settings if\nyou have to manipulate security, to\n\n548\n00:27:25.285 --> 00:27:29.740\nmeet the specific requirements of due care\nand due diligence in your organization.\n\n549\n00:27:29.740 --> 00:27:33.790\nThat is part of the guidance you will find\nin our documentation about group policy.\n\n550\n00:27:33.790 --> 00:27:37.000\nSo, just to be aware of that and\nbe sure that point is, although subtle,\n\n551\n00:27:37.000 --> 00:27:40.970\nvery important and very clearly distinct,\nbecause it is a very important one, right?\n\n552\n00:27:40.970 --> 00:27:43.530\nSo we do wanna try to constrain those\npolicies to what they're already\n\n553\n00:27:43.530 --> 00:27:44.120\ndesigned for.\n\n554\n00:27:44.120 --> 00:27:47.960\nSo the other thought process I said is,\nlet's stack up other policies,\n\n555\n00:27:47.960 --> 00:27:49.420\ntypically at the OU level.\n\n556\n00:27:49.420 --> 00:27:53.190\nWhich is where we recommend\nthat you should go and manage,\n\n557\n00:27:53.190 --> 00:27:56.270\nand by OU, let's make those policies,\nright, just to be aware of that.\n\n558\n00:27:56.270 --> 00:27:58.810\nSo if we're thinking about that, if you\njoin me back here just to kind of drive\n\n559\n00:27:58.810 --> 00:28:02.100\nthis point home and\ngather up this part of the conversation.\n\n560\n00:28:02.100 --> 00:28:05.952\nTalked about link order, but I said, you\nknow what, if I want to block inheritance,\n\n561\n00:28:05.952 --> 00:28:07.932\nthat's the other thing\nthat we can do here,\n\n562\n00:28:07.932 --> 00:28:09.873\nlet me just go back to\nthe inheritance tab.\n\n563\n00:28:09.873 --> 00:28:14.060\nIf I wanna block inheritance on one or\nfour, one of these policies.\n\n564\n00:28:14.060 --> 00:28:16.054\nLet's say the policy test1 policy,\n\n565\n00:28:16.054 --> 00:28:19.520\ncuz we don't wanna block\nthe domain policy traditionally.\n\n566\n00:28:19.520 --> 00:28:23.060\nSo if I wanna block this,\nright, I can come in here and\n\n567\n00:28:23.060 --> 00:28:26.520\nyou'll see I can use the Block Inheritance\nitem on the object itself.\n\n568\n00:28:26.520 --> 00:28:30.280\nIn this case, on the OU, and if I do that,\n\n569\n00:28:30.280 --> 00:28:34.080\nnotice here I have block inheritance for\nall policies.\n\n570\n00:28:34.080 --> 00:28:35.420\nI didn't block one.\n\n571\n00:28:35.420 --> 00:28:37.644\nNotice when I did that,\nit blocks everything.\n\n572\n00:28:37.644 --> 00:28:39.845\nEssentially, I've zeroed all the policies.\n\n573\n00:28:39.845 --> 00:28:41.580\nAnd I said hey, no inheritance.\n\n574\n00:28:41.580 --> 00:28:42.600\nI'm not getting anything.\n\n575\n00:28:42.600 --> 00:28:46.470\nI'm starting over again,\neven if I only wanted to block one policy.\n\n576\n00:28:46.470 --> 00:28:51.180\nBecause when you use the block inheritance\noption, right at that OU container level,\n\n577\n00:28:51.180 --> 00:28:53.560\nor whatever container level you may be at,\n\n578\n00:28:53.560 --> 00:28:56.970\nyou're blocking the application\nof all policies, right?\n\n579\n00:28:56.970 --> 00:29:02.780\nAnd so, what I wanna do now if I wanna\nbring back that policy, is I have to\n\n580\n00:29:02.780 --> 00:29:08.840\nlink an existing policy back to the OU,\nspecifically to add it back in.\n\n581\n00:29:08.840 --> 00:29:12.560\nSo, we could certainly be selective and\nsay, hey, I only want one policy.\n\n582\n00:29:12.560 --> 00:29:16.380\nRemember, we said essentially hey,\nblock the policy but one policy, right?\n\n583\n00:29:16.380 --> 00:29:18.450\nAnd don't block the default domain policy.\n\n584\n00:29:18.450 --> 00:29:22.260\nBut what I'm showing you is, that what\nhappens when you block inheritance\n\n585\n00:29:22.260 --> 00:29:24.890\nis all policies get block by default.\n\n586\n00:29:24.890 --> 00:29:27.900\nWhich is the standard way this happens,\nno big deal.\n\n587\n00:29:27.900 --> 00:29:30.620\nYou just have to then have a second step,\nright-click,\n\n588\n00:29:30.620 --> 00:29:34.430\ngo back, then link specifically\nthe policies you wanna apply,\n\n589\n00:29:34.430 --> 00:29:38.170\nto put them back, and you're essentially\nnow staring with a clean slate.\n\n590\n00:29:38.170 --> 00:29:39.260\nI've relinked,\n\n591\n00:29:39.260 --> 00:29:43.790\nessentially reestablished the connectivity\nto apply the default to main policy.\n\n592\n00:29:43.790 --> 00:29:47.441\nBut I've filtered out,\nwhich is only blocking inheritance does,\n\n593\n00:29:47.441 --> 00:29:49.887\nI filtered out the policy\ncalled Policy One.\n\n594\n00:29:49.887 --> 00:29:51.700\nIt's not applying to this OU.\n\n595\n00:29:51.700 --> 00:29:54.460\nSo, the domain setting will\ncome all the way down, but\n\n596\n00:29:54.460 --> 00:29:59.920\nthe policy one settings will stop\nbased on inheritance at the IT OU.\n\n597\n00:29:59.920 --> 00:30:02.460\nComing down from the parent APAC,\n\n598\n00:30:02.460 --> 00:30:07.548\nwill not be applied to the grandchild\nthe share one or chair one, OU.\n\n599\n00:30:07.548 --> 00:30:08.760\nDo you prefer share of chair?\n\n600\n00:30:08.760 --> 00:30:12.838\n&gt;&gt; [CROSSTALK] It sure\nsounds like a chair.\n\n601\n00:30:12.838 --> 00:30:14.481\n&gt;&gt; It does and\nthat's what it is I'm just teasing you.\n\n602\n00:30:14.481 --> 00:30:17.649\nSo, we should go to the share 10U,\nyou see we block it.\n\n603\n00:30:17.649 --> 00:30:21.618\nAnd you'll see now we have this little\nblue circle, white exclamation point kind\n\n604\n00:30:21.618 --> 00:30:25.817\nof icon there that implies, it's very hard\nto see, that implies a block of some kind,\n\n605\n00:30:25.817 --> 00:30:30.200\nthis little blue circle that appeared at\nthe right corner of the folder there.\n\n606\n00:30:30.200 --> 00:30:34.222\nYou see the linked policy or policies,\nwhichever ones they may be, right?\n\n607\n00:30:34.222 --> 00:30:37.612\nSo be aware of that, just to be sure\nyou're clear on the visual, right,\n\n608\n00:30:37.612 --> 00:30:39.070\njust how that kind of happens.\n\n609\n00:30:39.070 --> 00:30:41.360\nBut also the steps involved, right?\n\n610\n00:30:41.360 --> 00:30:45.270\nMaking sure we know what\nthat a block is a full stop.\n\n611\n00:30:45.270 --> 00:30:46.913\nNo inheritance of any kind.\n\n612\n00:30:46.913 --> 00:30:50.290\nAnd we selectively add back to\ncreate the environment we want.\n\n613\n00:30:50.290 --> 00:30:51.820\nWhich makes it a lot easier for us.\n\n614\n00:30:51.820 --> 00:30:53.000\nCould we've done this any other way?\n\n615\n00:30:53.000 --> 00:30:56.440\nCould we, said block and then we give\nyou a checklist, uncheck and check.\n\n616\n00:30:56.440 --> 00:30:59.602\nThere's lots of ways to do this,\nbut from a secure stand point,\n\n617\n00:30:59.602 --> 00:31:01.022\nits easiest to say deny all.\n\n618\n00:31:01.022 --> 00:31:04.884\nAnd then open up individual policies\nthrough linking, than it is selectively\n\n619\n00:31:04.884 --> 00:31:08.159\nallow in one step, because we often\nfind is people make a mistake,\n\n620\n00:31:08.159 --> 00:31:12.370\nyou don't understand the interface, they\nmay select or deselect the appropriate or\n\n621\n00:31:12.370 --> 00:31:13.734\ninappropriate policies.\n\n622\n00:31:13.734 --> 00:31:16.098\nIt's just a lot easier to add\nback in the ones you want, and\n\n623\n00:31:16.098 --> 00:31:18.980\nthat's just the thought process\nbehind why we do it this way.\n\n624\n00:31:18.980 --> 00:31:20.590\nSo it's a permanent block.\n\n625\n00:31:20.590 --> 00:31:23.020\nUntil you choose to\nremove block inheritance,\n\n626\n00:31:23.020 --> 00:31:24.840\nthe policy will not be applied anymore.\n\n627\n00:31:24.840 --> 00:31:28.920\nAny policies that come from up above,\nwill no longer be applied either\n\n628\n00:31:28.920 --> 00:31:32.300\nunless we decide in the new ones, unless\nwe decide to add them through Lincoln.\n\n629\n00:31:32.300 --> 00:31:34.590\nSo a block essentially\nputs a rock in place,\n\n630\n00:31:34.590 --> 00:31:36.830\nright, that prevents\nanything from flowing down.\n\n631\n00:31:36.830 --> 00:31:38.740\nOr a roof, or whatever you wanna call it.\n\n632\n00:31:38.740 --> 00:31:40.555\nPrevents that from happening.\n\n633\n00:31:40.555 --> 00:31:41.856\nIt's a very effective tool, but\n\n634\n00:31:41.856 --> 00:31:44.760\none that can get you in trouble if\nyou're not familiar with the outcome.\n\n635\n00:31:44.760 --> 00:31:46.490\nSo, we do wanna make\nsure we're aware of that.\n\n636\n00:31:46.490 --> 00:31:49.530\nAnd then also, let's talk about\nenforcement of policy really quickly,\n\n637\n00:31:49.530 --> 00:31:52.230\njust to kinda talk about these\nfeatures that are hidden here,\n\n638\n00:31:52.230 --> 00:31:54.340\nbefore we wrap up this\npart of the conversation.\n\n639\n00:31:55.350 --> 00:31:57.310\nSo join me back here,\nI just want to show you one other thing.\n\n640\n00:31:57.310 --> 00:32:02.573\nLet me go to, go to this policy\nright here, policy test one And\n\n641\n00:32:02.573 --> 00:32:07.345\nyou'll notice here that I\nhave things like GPO Status.\n\n642\n00:32:07.345 --> 00:32:09.370\nAnd when I right-click, see it's enabled.\n\n643\n00:32:09.370 --> 00:32:14.269\nI can disable the policy, either the user\nportion only, computer portion only, or\n\n644\n00:32:14.269 --> 00:32:15.452\nthe entire policy.\n\n645\n00:32:15.452 --> 00:32:17.166\nSo I have the ability to be able to,\n\n646\n00:32:17.166 --> 00:32:19.750\nby default policy's\nenabled when we create it.\n\n647\n00:32:19.750 --> 00:32:23.390\nBut I can disable an aspect of the policy,\nor the entire policy.\n\n648\n00:32:23.390 --> 00:32:26.950\nThis is kinda one of those cool little\nhidden gems, people don't often realize.\n\n649\n00:32:26.950 --> 00:32:30.430\nIf we have a policy that only\nis configured for, let's say,\n\n650\n00:32:30.430 --> 00:32:33.035\nthe computer portion of the policy, right?\n\n651\n00:32:33.035 --> 00:32:37.597\nThe problem with policy processing is we\nhave to look at the entire policy file and\n\n652\n00:32:37.597 --> 00:32:38.603\ncheck the user and\n\n653\n00:32:38.603 --> 00:32:43.389\ncomputer settings to see whether there's\nanything there as we process the policy.\n\n654\n00:32:43.389 --> 00:32:47.718\nRemember, I talked about the fact that too\nmany policies too big can lead to a delay\n\n655\n00:32:47.718 --> 00:32:51.790\nand actually can timeout and\nthey cause the policy not to be applied.\n\n656\n00:32:51.790 --> 00:32:56.110\nOne of the ways we streamline that is if\nwe know that one of the two categories,\n\n657\n00:32:56.110 --> 00:32:56.980\ndoesn't matter which one it is.\n\n658\n00:32:56.980 --> 00:32:57.730\nJust choose one.\n\n659\n00:32:57.730 --> 00:33:01.870\nBut user or computer settings\nare not set in that policy.\n\n660\n00:33:01.870 --> 00:33:04.340\nWe could disable that\nportion of the policy.\n\n661\n00:33:04.340 --> 00:33:05.700\nMark essentially that policy and\n\n662\n00:33:05.700 --> 00:33:10.550\nsay hey, don't even pay attention to half\nthat policy cuz there's nothing there.\n\n663\n00:33:10.550 --> 00:33:13.060\nStreamlines and\nshortens the processing time.\n\n664\n00:33:13.060 --> 00:33:16.070\nWhich is a great way to\noptimize policy processing\n\n665\n00:33:16.070 --> 00:33:19.560\nwhen we are only configuring one-half,\nessentially, of the policy file.\n\n666\n00:33:19.560 --> 00:33:22.030\nSo just be aware of that, right?\n\n667\n00:33:22.030 --> 00:33:25.150\nJust so you know, and of course we\ncan disable the entire policy, right?\n\n668\n00:33:25.150 --> 00:33:26.540\nSo we can do that.\n\n669\n00:33:26.540 --> 00:33:30.420\nBut in addition, we just come out\nover here way from where this is.\n\n670\n00:33:30.420 --> 00:33:34.770\nWe can go ahead and\nwe could come over here to details.\n\n671\n00:33:34.770 --> 00:33:36.610\nAnd same thing, write enabled.\n\n672\n00:33:36.610 --> 00:33:39.130\nAll settings could do that\nright from here as well.\n\n673\n00:33:39.130 --> 00:33:43.630\nBut what we can also do is we\ncan go in and we can decide,\n\n674\n00:33:43.630 --> 00:33:46.135\nlet me come back, where am I?\n\n675\n00:33:46.135 --> 00:33:47.750\nLet me go over here.\n\n676\n00:33:47.750 --> 00:33:50.912\nJust click there, just one second.\n\n677\n00:33:50.912 --> 00:33:52.480\nThere we go, all right.\n\n678\n00:33:52.480 --> 00:33:57.336\nSo we can come over here, and we can\ndecide as well that I could right-click on\n\n679\n00:33:57.336 --> 00:34:00.343\nthe shortcut for the policy,\nsee right there?\n\n680\n00:34:00.343 --> 00:34:02.750\nAnd I can choose that\noption called Enforced.\n\n681\n00:34:02.750 --> 00:34:03.990\nNow enforce is kind of interesting,\n\n682\n00:34:03.990 --> 00:34:07.490\ncuz what enforce does is it\noverrides the block inheritance.\n\n683\n00:34:07.490 --> 00:34:11.520\nSo essentially, with block inheritance,\nI can say hey, I don't want the policy.\n\n684\n00:34:11.520 --> 00:34:15.610\nBut as a delegated administrative model,\nwhich is often what happens in\n\n685\n00:34:15.610 --> 00:34:20.420\nthese environments, we may have given\nrights to the OU to be administered,\n\n686\n00:34:20.420 --> 00:34:24.030\nlet's say in theory I give Cherokee\nher OU, and I give her rights.\n\n687\n00:34:24.030 --> 00:34:26.665\nInstead of give Cherokee, you're gonna\nbe the administrator of that OU.\n\n688\n00:34:26.665 --> 00:34:30.420\nIn the active directories, or\nin computer interface, in this result,\n\n689\n00:34:30.420 --> 00:34:31.970\nyou control that object.\n\n690\n00:34:31.970 --> 00:34:36.250\nBut as the farthest level or\ndomain level administrator,\n\n691\n00:34:36.250 --> 00:34:39.890\nI sit above Cherokee because I have rights\nto all the other objects including hers,\n\n692\n00:34:39.890 --> 00:34:44.090\nbut I've given her essentially delegated\nrights and said, hey, you're in charge.\n\n693\n00:34:44.090 --> 00:34:47.640\nBut, if she says, hey, okay great,\nthen I'm gonna block that policy.\n\n694\n00:34:47.640 --> 00:34:48.553\nI don't want it.\n\n695\n00:34:48.553 --> 00:34:52.556\nBut I come along and say, from let's say,\nmaybe either, enforced and\n\n696\n00:34:52.556 --> 00:34:56.510\ncompliant standpoint,\non audit standpoint, something like that,\n\n697\n00:34:56.510 --> 00:34:57.942\n&gt;&gt; Or you're just picking on me.\n\n698\n00:34:57.942 --> 00:35:00.880\n&gt;&gt; Or I just don't like you, and\nI said, I'm gonna get you back.\n\n699\n00:35:00.880 --> 00:35:01.837\nBut that would never happen, right?\n\n700\n00:35:01.837 --> 00:35:04.070\nBut let's just think theoretically for\na minute.\n\n701\n00:35:04.070 --> 00:35:06.357\nMaybe I'm the chief risk\nofficer in a company.\n\n702\n00:35:06.357 --> 00:35:07.960\nMaybe I'm the IA.\n\n703\n00:35:07.960 --> 00:35:09.860\nInformation assurance function.\n\n704\n00:35:09.860 --> 00:35:11.450\nWhatever you call that in your business.\n\n705\n00:35:11.450 --> 00:35:15.072\nI'm the security person who says,\nwait a second, that policy,\n\n706\n00:35:15.072 --> 00:35:19.180\nthat's gotta be applied because if it's\nnot applied, we're not managing properly.\n\n707\n00:35:19.180 --> 00:35:20.861\nOr whatever the reason is.\n\n708\n00:35:20.861 --> 00:35:23.290\nI may come along and\nI could do this one of two ways.\n\n709\n00:35:23.290 --> 00:35:26.570\nI could have a conversation with Cherokee\nsaying, hey, we need to apply that policy.\n\n710\n00:35:26.570 --> 00:35:28.510\nCan you remove the block?\n\n711\n00:35:28.510 --> 00:35:32.130\nMaybe you just didn't realize, and\nyou didn't know that, and we work it out.\n\n712\n00:35:32.130 --> 00:35:34.090\nOr I can just go ahead and\nsay, hey, you know what?\n\n713\n00:35:34.090 --> 00:35:36.740\nThat Cherokee, boy, I'm gonna show her.\n\n714\n00:35:36.740 --> 00:35:42.610\nAnd I can enforce the policy, because\nif I enforce it, then what policy does,\n\n715\n00:35:42.610 --> 00:35:47.460\nor rather, whoops, what the enforcement\ndoes, you'll see there.\n\n716\n00:35:47.460 --> 00:35:48.310\nNow, look.\n\n717\n00:35:48.310 --> 00:35:50.460\nEven though I blocked it,\nwhat does it say there?\n\n718\n00:35:50.460 --> 00:35:51.350\nIt's back, right?\n\n719\n00:35:51.350 --> 00:35:54.350\nWe agreed it was not there before,\nbecause I had gone ahead and\n\n720\n00:35:54.350 --> 00:35:56.310\nI had removed it through\nblock inheritance.\n\n721\n00:35:56.310 --> 00:35:58.280\nI put it back and\nnot only did I put it back.\n\n722\n00:35:58.280 --> 00:36:01.727\nBut I put it back, it says enforced and\nnotice the precedence number, right?\n\n723\n00:36:01.727 --> 00:36:02.720\nIt's gonna be enforced.\n\n724\n00:36:02.720 --> 00:36:04.330\nIt is the last policy applied.\n\n725\n00:36:04.330 --> 00:36:08.240\nIt will be enforced and\nyou don't have an option to block it.\n\n726\n00:36:08.240 --> 00:36:13.740\nBecause I can override your block with\nan enforcement option from up above.\n\n727\n00:36:13.740 --> 00:36:16.829\nSo, as the domain owner,\nor as the site owner.\n\n728\n00:36:16.829 --> 00:36:20.750\nWherever I sit as a whatever\nyou wanna think of me as.\n\n729\n00:36:20.750 --> 00:36:24.000\nEnterprise admin, domain admin,\ndepending on the hierarchy involved.\n\n730\n00:36:24.000 --> 00:36:28.480\nI can enforce a policy, pushing it down\nthrough the block inheritance that\n\n731\n00:36:28.480 --> 00:36:33.310\na delegated, or subobject administrator\nmay have decided to put in place.\n\n732\n00:36:33.310 --> 00:36:37.030\nThis is one of the concerns we\nhave when we give multiple people\n\n733\n00:36:37.030 --> 00:36:39.790\nrights to administer and\nmanage group policy, right?\n\n734\n00:36:39.790 --> 00:36:41.210\nToo many chefs they say, right.\n\n735\n00:36:41.210 --> 00:36:44.480\nSo, we have a lot of people in this\nconsole making options, and changes, and\n\n736\n00:36:44.480 --> 00:36:46.720\nselections for their OUs.\n\n737\n00:36:46.720 --> 00:36:50.510\nThey may start blocking stuff coming\nfrom up above, that could be an issue.\n\n738\n00:36:50.510 --> 00:36:52.900\nI as the overall administrator\ncan override them, but\n\n739\n00:36:52.900 --> 00:36:54.400\nnow we get into this tug-of-war, right,\n\n740\n00:36:54.400 --> 00:36:59.760\nbecause now I gotta put an enforcement\noption in place, forcing the policy down.\n\n741\n00:36:59.760 --> 00:37:01.960\nIt's always better if we can\njust talk about it, negotiate,\n\n742\n00:37:01.960 --> 00:37:04.850\nand say hey,\nmaybe we didn't understand each other.\n\n743\n00:37:04.850 --> 00:37:07.180\nLet's explain why this\npolicy has to be there.\n\n744\n00:37:07.180 --> 00:37:08.897\nTell me why you're blocking it.\n\n745\n00:37:08.897 --> 00:37:10.880\nLet's try to understand what's going on.\n\n746\n00:37:10.880 --> 00:37:13.320\nMaybe you didn't understand\nthe reason why we need it.\n\n747\n00:37:13.320 --> 00:37:15.890\nMaybe there's something in there\nthat's causing you concern.\n\n748\n00:37:15.890 --> 00:37:19.850\nMaybe we can modify that but\nstill put stuff I need in place.\n\n749\n00:37:19.850 --> 00:37:21.610\nThere's all these ways to work this out.\n\n750\n00:37:21.610 --> 00:37:25.460\nBut at the end of the day, can I just come\nright in and essentially steamroll over\n\n751\n00:37:25.460 --> 00:37:29.670\nthat setting and say to Cherokee,\nsorry, no, not gonna block it, right?\n\n752\n00:37:29.670 --> 00:37:30.670\nSo yeah, I could do that.\n\n753\n00:37:30.670 --> 00:37:32.280\nBut that may not be\nthe best way to manage it.\n\n754\n00:37:32.280 --> 00:37:35.070\nBut I want you to understand\nthe difference when block inheritance and\n\n755\n00:37:35.070 --> 00:37:36.040\nenforcement.\n\n756\n00:37:36.040 --> 00:37:39.150\nBecause block is that,\nlet's stop that policy.\n\n757\n00:37:39.150 --> 00:37:41.990\nBut as the overall administrator, I have\nthe right to push it down anyway and\n\n758\n00:37:41.990 --> 00:37:44.350\nenforce it on top of what's there.\n\n759\n00:37:44.350 --> 00:37:46.485\nSo we do need to understand some\nof the subtleties going on here.\n\n760\n00:37:46.485 --> 00:37:47.380\nIt's very important.\n\n761\n00:37:47.380 --> 00:37:48.274\nWe're in?\n\n762\n00:37:48.274 --> 00:37:50.002\n&gt;&gt; And we wanna stay on Adam's good side.\n\n763\n00:37:50.002 --> 00:37:50.510\n&gt;&gt; Yeah.\n\n764\n00:37:50.510 --> 00:37:54.911\nOtherwise I'm gonna come and I'm gonna\nenforce the policies on top of your OUs.\n\n765\n00:37:54.911 --> 00:37:55.615\nThat's never a good thing.\n\n766\n00:37:55.615 --> 00:37:56.287\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n767\n00:37:56.287 --> 00:37:59.328\nwe do wanna understand the idea of\nblocking her and see [INAUDIBLE] enforced.\n\n768\n00:37:59.328 --> 00:38:01.564\nDue as we talked about take\na look at link enablement,\n\n769\n00:38:01.564 --> 00:38:04.580\ntalked about the order of press and\nthen to policy application.\n\n770\n00:38:04.580 --> 00:38:08.334\nWalking through some of the subtleties\ninvolved as well as disabling\n\n771\n00:38:08.334 --> 00:38:12.020\nan aspect use or computer aspect of\nthe policy or the whole policy for\n\n772\n00:38:12.020 --> 00:38:13.800\nstreamlining processing.\n\n773\n00:38:13.800 --> 00:38:17.050\nWe took a look at that next layer down\nas we're peeling back those layers in\n\n774\n00:38:17.050 --> 00:38:20.380\nthe policy management console,\nshowing you some of the standard features.\n\n775\n00:38:20.380 --> 00:38:21.830\nThese have been there all along.\n\n776\n00:38:21.830 --> 00:38:24.450\nNothing I've shown you is brand new to 16.\n\n777\n00:38:24.450 --> 00:38:28.231\nThis has all been stuff that's been\nthere since Windows 2000 since we first\n\n778\n00:38:28.231 --> 00:38:31.802\ninvented, and put group policy out as\na tool to manage all these features.\n\n779\n00:38:31.802 --> 00:38:33.584\nAll these options have\nalways worked this way.\n\n780\n00:38:33.584 --> 00:38:36.810\nThe order of policy processing\nhas always worked this way.\n\n781\n00:38:36.810 --> 00:38:37.980\nThis is nothing new.\n\n782\n00:38:37.980 --> 00:38:41.630\nBut understanding it and taking it apart,\ndynamically putting it back together,\n\n783\n00:38:41.630 --> 00:38:44.950\nexplaining it as we go, making sure\nwe build that knowledge correctly for\n\n784\n00:38:44.950 --> 00:38:46.380\nyou, is our goal.\n\n785\n00:38:46.380 --> 00:38:49.240\nAnd that's what we're continuing\nto do not only in this episode but\n\n786\n00:38:49.240 --> 00:38:50.760\nin our upcoming conversations.\n\n787\n00:38:50.760 --> 00:38:52.130\n&gt;&gt; That's right.\nWe definitely are gonna have\n\n788\n00:38:52.130 --> 00:38:55.650\nadditional shows that are going to\ndive further into group policy.\n\n789\n00:38:55.650 --> 00:38:57.910\nSo thank you for\njoining us but stay tuned.\n\n790\n00:38:57.910 --> 00:38:59.770\nFor this show,\nwe'll go ahead and sign out.\n\n791\n00:38:59.770 --> 00:39:01.560\nI've been your host, Cherokee Boose.\n\n792\n00:39:01.560 --> 00:39:02.160\n&gt;&gt; I'm Adam Gordon.\n\n793\n00:39:02.160 --> 00:39:04.553\n&gt;&gt; See you next time here at ITProTV.\n\n794\n00:39:04.553 --> 00:39:10.107\n[MUSIC]\n\n795\n00:39:10.107 --> 00:39:11.900\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231536630"
        },
        {
          "description": "In this episode, Adam and Cherokee continue to discuss Group Policy. First, Adam shows where in the registry to look at the cached credential configuration. They also take about the 90-120 minute policy refresh interval. Adam shows how to modify this time frame. They also look at how to use GPUpdate to force and apply a policy among other configurations.",
          "length": "1763",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-3-implementing_group_policy_pt3-082817-PGM.00_29_03_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-3-implementing_group_policy_pt3-082817-PGM.00_29_03_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-3-implementing_group_policy_pt3-082817-PGM.00_29_03_14.Still001-sm.jpg",
          "title": "Implementing Group Policy Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.170\nWelcome to ITProTV.\n\n2\n00:00:01.170 --> 00:00:06.592\nI'm your host Don Pezet [CROSSTALK]\n\n3\n00:00:06.592 --> 00:00:08.172\n[MUSIC]\n\n4\n00:00:08.172 --> 00:00:11.943\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:11.943 --> 00:00:15.633\nWelcome back to your identity\nwith Windows Server 2016 series.\n\n6\n00:00:15.633 --> 00:00:17.866\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.866 --> 00:00:21.110\nIn this episode we'll continue\nto take a look at group policy.\n\n8\n00:00:21.110 --> 00:00:22.590\nWe've made it to part three.\n\n9\n00:00:22.590 --> 00:00:25.520\nWe still have a lot to cover so\nwe've asked Mr.\n\n10\n00:00:25.520 --> 00:00:27.810\nAdam Gordan to come back and\nhelp us out with this.\n\n11\n00:00:27.810 --> 00:00:29.302\nSo thank you for joining us today, Adam.\n\n12\n00:00:29.302 --> 00:00:31.910\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] Good to be back, always.\n\n13\n00:00:31.910 --> 00:00:33.670\nSo we're gonna continue our conversations.\n\n14\n00:00:33.670 --> 00:00:35.890\nWe're gonna continue\ntalking about group policy.\n\n15\n00:00:35.890 --> 00:00:38.750\nUp until this point we've talked about\nsome of the high level thought processes\n\n16\n00:00:38.750 --> 00:00:43.110\ntaking you into both the local policy\neditor on a Windows 10 machine.\n\n17\n00:00:43.110 --> 00:00:46.360\nTaking you into the group policy\nmanagement console on a domain controller.\n\n18\n00:00:46.360 --> 00:00:49.550\nShowed you some subtlety,\nthe richness, and the interactivity\n\n19\n00:00:49.550 --> 00:00:53.710\nassociated with managing policy both\nlocally and at the domain level.\n\n20\n00:00:53.710 --> 00:00:56.360\nWe've explained some of\nthe options with allowing\n\n21\n00:00:56.360 --> 00:00:59.510\npolicies to flow down the order\nof precedence of application.\n\n22\n00:00:59.510 --> 00:01:01.180\nWe've talked about link enablement,\n\n23\n00:01:01.180 --> 00:01:03.950\nwe've talked about the ability to\nbe able to block inheritance and\n\n24\n00:01:03.950 --> 00:01:07.940\noverride through an enforcement, and what\nthose things may or may not mean to us.\n\n25\n00:01:07.940 --> 00:01:12.300\nWe've also talked about the fact that\nthere are different policies that exist by\n\n26\n00:01:12.300 --> 00:01:15.940\ndefault, and I call that the default\ndomain policy, the domain controller's\n\n27\n00:01:15.940 --> 00:01:20.110\nOU policy and the difference between\nthem in terms of what their focus is.\n\n28\n00:01:20.110 --> 00:01:23.910\nRemember, domain policy focusing\non the security related settings.\n\n29\n00:01:23.910 --> 00:01:26.020\nSo I just wanna make sure\nwe're thinking about that.\n\n30\n00:01:26.020 --> 00:01:30.860\nWe did use the domain controller's policy,\nor the default domain policy, rather,\n\n31\n00:01:30.860 --> 00:01:34.440\nas an example to look at linking and\nblocking of inheritance\n\n32\n00:01:34.440 --> 00:01:36.970\nin the last episode, so I encourage\nyou to go back and take a look.\n\n33\n00:01:36.970 --> 00:01:41.140\nBut I also want to remind all\nof you as you look at that,\n\n34\n00:01:41.140 --> 00:01:44.620\nthat is not traditionally our\npolicy that we would do that with.\n\n35\n00:01:44.620 --> 00:01:47.920\nAnd it was pointed out as we were\ntalking about it in the chat window,\n\n36\n00:01:47.920 --> 00:01:51.610\nthat that may not necessarily\nbe a great example to use, and\n\n37\n00:01:51.610 --> 00:01:53.720\nI agree,\nit was not perhaps the best example.\n\n38\n00:01:53.720 --> 00:01:57.530\nIt was straight overall what the dos and\ndont's, and the pros and cons and\n\n39\n00:01:57.530 --> 00:01:59.340\nbest practices would be to do that.\n\n40\n00:01:59.340 --> 00:02:02.930\nAnd it's absolutely right to call that\nout, and frame that conversation that way.\n\n41\n00:02:02.930 --> 00:02:06.160\nCuz as I've pointed out, it's a policy,\ntwo of those, actually, but\n\n42\n00:02:06.160 --> 00:02:08.060\nthe domain controller policy,\nin particular,\n\n43\n00:02:08.060 --> 00:02:09.940\nthe default domain policy\nin a particular rather.\n\n44\n00:02:09.940 --> 00:02:11.741\nAnd Microsoft's very clear about it,\nas I said.\n\n45\n00:02:11.741 --> 00:02:14.616\nWe don't really want you messing\naround with that policy,\n\n46\n00:02:14.616 --> 00:02:17.551\nyou wouldn't typically block\napplication of that policy,\n\n47\n00:02:17.551 --> 00:02:21.260\ntry to link it back because certain\nsettings may not get reapplied.\n\n48\n00:02:21.260 --> 00:02:24.220\nAs a result of that which is part of kind\nof the kind of the running commentary to\n\n49\n00:02:24.220 --> 00:02:27.340\nthe dialog we had in the chat\nas we were going through that.\n\n50\n00:02:27.340 --> 00:02:30.920\nAnd it's good to call that out and\nto remind us of that remind me of that.\n\n51\n00:02:30.920 --> 00:02:33.790\nMake you aware of that because\nit is very valuable guidance\n\n52\n00:02:33.790 --> 00:02:34.970\nthat was pointed out in the chat window.\n\n53\n00:02:34.970 --> 00:02:36.420\nSo I just wanted to call that out and\n\n54\n00:02:36.420 --> 00:02:39.560\nmake sure we're all clear on the fact\nthat that was a demonstration.\n\n55\n00:02:39.560 --> 00:02:43.930\nIt was just meant really to show you the\nthought process behind how that feature\n\n56\n00:02:43.930 --> 00:02:47.960\nworks in terms of link enablement,\nblocking of inheritance overriding, but\n\n57\n00:02:47.960 --> 00:02:50.370\nthat the policy I chose\nto work with itself,\n\n58\n00:02:50.370 --> 00:02:53.815\njust out of expediency because it happened\nto be one of only three that were there,\n\n59\n00:02:53.815 --> 00:02:56.500\nI would not normally be the policy\nyou would choose to do that with.\n\n60\n00:02:56.500 --> 00:02:59.445\nAnd I think it's a very important\npoint to just remind you of it and\n\n61\n00:02:59.445 --> 00:03:00.935\nto make sure we call out.\n\n62\n00:03:00.935 --> 00:03:03.445\nSo it is important,\nI want to thank those of you who\n\n63\n00:03:03.445 --> 00:03:06.145\nhelped us work through that in the chat\nwindow, for your input as always.\n\n64\n00:03:06.145 --> 00:03:09.925\nBecause it's important for you guys to\ncall this stuff out and keep us honest and\n\n65\n00:03:09.925 --> 00:03:12.065\nkeep us on our toes as we\nwalk through these things,\n\n66\n00:03:12.065 --> 00:03:14.105\nand make sure we're doing\nthem the right way.\n\n67\n00:03:14.105 --> 00:03:18.870\nSo when we think about group policy,\ngroup policy client application,\n\n68\n00:03:18.870 --> 00:03:23.030\nthe application of policy through what we\ncall the group policy client services and\n\n69\n00:03:23.030 --> 00:03:24.130\nthe client-side extensions.\n\n70\n00:03:24.130 --> 00:03:26.470\nI think I mentioned this in one\nof our earlier conversations.\n\n71\n00:03:26.470 --> 00:03:30.180\nThis is an overarching theme and\nsome stuff we would talk about.\n\n72\n00:03:30.180 --> 00:03:33.345\nSo it's important to go back and take\na look at where policy actually lives,\n\n73\n00:03:33.345 --> 00:03:35.180\nhow we see it applied, where it's stored.\n\n74\n00:03:35.180 --> 00:03:38.510\nOn the domain side it's stored in\nthe domain control room SYSVOL container\n\n75\n00:03:38.510 --> 00:03:42.690\nin the domain sub container by individual\npolicy with the unique policy ID\n\n76\n00:03:42.690 --> 00:03:44.050\nessentially Gwyn.\n\n77\n00:03:44.050 --> 00:03:45.512\nWe'll take a look at those in a minute.\n\n78\n00:03:45.512 --> 00:03:46.785\nBut also on the client side,\n\n79\n00:03:46.785 --> 00:03:49.820\nwe see what are called the group\npolicy extensions in the register.\n\n80\n00:03:49.820 --> 00:03:52.600\nI thought it would be good to just\nstart out taking a look at those and\n\n81\n00:03:52.600 --> 00:03:55.660\nsee where they are,\nsee if in a sense a word policy winds up.\n\n82\n00:03:55.660 --> 00:04:00.280\nIf you join me here, I'm on my Windows\n10 machine and you can see here that,\n\n83\n00:04:00.280 --> 00:04:01.930\nlet me just gonna scroll\nup just a little bit.\n\n84\n00:04:01.930 --> 00:04:03.600\nI'm at the registry editor.\n\n85\n00:04:03.600 --> 00:04:06.810\nAnd if we go up to the top, we could\nactually see it down at the bottom here,\n\n86\n00:04:06.810 --> 00:04:08.630\nwhich is maybe kinda hard to track.\n\n87\n00:04:08.630 --> 00:04:11.250\nI'll go up, but\nyou can see the path right down here.\n\n88\n00:04:11.250 --> 00:04:15.384\nI'm in the\ncomputer/hq/local/machine/software/micros-\n\n89\n00:04:15.384 --> 00:04:20.680\noft/windowsnt/currentversion/winlogon/gp/-\nextensions/sub,\n\n90\n00:04:20.680 --> 00:04:23.230\nkeys inside the registry and\nthen obviously by folder.\n\n91\n00:04:23.230 --> 00:04:26.170\nI'm highlighting one or\nmore of the individual extensions and\n\n92\n00:04:26.170 --> 00:04:28.830\nyou could see what the policy\nelement may or may not be.\n\n93\n00:04:28.830 --> 00:04:31.310\nBut as you go up,\njust kinda see where we are.\n\n94\n00:04:31.310 --> 00:04:35.420\nJust track up to the top here real\nquick so you can kinda see this.\n\n95\n00:04:35.420 --> 00:04:39.550\nI'm in the local policy editor, just use\nRegedit, or the Registry Editor rather,\n\n96\n00:04:39.550 --> 00:04:41.400\nuse Regedit on the local machine.\n\n97\n00:04:41.400 --> 00:04:46.680\nBrought that up in local machine in\nsoftware inside software in Microsoft.\n\n98\n00:04:46.680 --> 00:04:51.580\nAnd as we scroll down inside\nthe Microsoft sub key all\n\n99\n00:04:51.580 --> 00:04:56.690\nthe way down here towards the bottom\nin Windows NT under current version.\n\n100\n00:04:56.690 --> 00:05:01.335\nAnd we continue on down to win logon\ndown towards the very bottom of this,\n\n101\n00:05:01.335 --> 00:05:06.070\nrather a long convoluted path and\nthen inside win logon to GP extensions.\n\n102\n00:05:06.070 --> 00:05:08.910\nGroup policy client side extensions\n\n103\n00:05:08.910 --> 00:05:12.760\nall the policy extensions that\nare applied to this particular machine.\n\n104\n00:05:12.760 --> 00:05:16.140\nAnd they may vary based on\nwhat OU the machine is in.\n\n105\n00:05:16.140 --> 00:05:20.160\nWhat policies as we talked about may or\nmay not be applied from the top down and\n\n106\n00:05:20.160 --> 00:05:22.840\nall the settings associated\nwith those policies.\n\n107\n00:05:22.840 --> 00:05:26.790\nSo two machines and different OUs with\ndifferent policies applied would have\n\n108\n00:05:26.790 --> 00:05:29.540\npotentially different policy\nextensions listed in the registry.\n\n109\n00:05:29.540 --> 00:05:33.575\nSo they may or may not look identical but\nmany of these will be very similar.\n\n110\n00:05:33.575 --> 00:05:35.695\nEach policy extension has unique tracker,\n\n111\n00:05:35.695 --> 00:05:37.890\na number of essentially\na unique [INAUDIBLE].\n\n112\n00:05:37.890 --> 00:05:41.132\nYou can highlight them here and\nsee what they are as I just randomly and\n\n113\n00:05:41.132 --> 00:05:44.100\nkind of clicking around,\nthere's the adv policy.\n\n114\n00:05:44.100 --> 00:05:48.030\nWhatever that particular policy GUID\nrepresents and the app policy or\n\n115\n00:05:48.030 --> 00:05:51.260\nthe adv policy if I was\nusing it would be applied.\n\n116\n00:05:51.260 --> 00:05:54.680\nI may see this one right here for\nie zone mapping.\n\n117\n00:05:54.680 --> 00:05:58.260\nJust as I click randomly around,\nyou can see different ones.\n\n118\n00:05:58.260 --> 00:06:02.180\nMicrosoft disk quota, you can see some\nof the settings associated with that.\n\n119\n00:06:02.180 --> 00:06:06.350\nSo every policy element as\nan extension is listed here.\n\n120\n00:06:06.350 --> 00:06:10.120\nWe could see the settings associated with\nthat and there are fair number of them\n\n121\n00:06:10.120 --> 00:06:13.140\nas accumulative effect of\nwhatever the policies are.\n\n122\n00:06:13.140 --> 00:06:16.470\nAnd may it apply and\nscroll back up to this machine and so\n\n123\n00:06:16.470 --> 00:06:18.200\nwe could see them here.\n\n124\n00:06:18.200 --> 00:06:22.480\nAgain just clicking through randomly\nshowing you what's different ones maybe\n\n125\n00:06:22.480 --> 00:06:25.210\ngroup policy applications\nwhatever they may apply.\n\n126\n00:06:25.210 --> 00:06:27.960\nSo, these are called\nthe client side extensions,\n\n127\n00:06:27.960 --> 00:06:31.180\nthese are the cumulative effect,\nthe settings that actually get applied.\n\n128\n00:06:31.180 --> 00:06:34.340\nYou remember I made the link in one of\nour last conversations about the fact\n\n129\n00:06:34.340 --> 00:06:39.100\nthat essentially what group policy\nobjects are, are pre-configured registry\n\n130\n00:06:39.100 --> 00:06:42.920\nediting templates that allow us to go\nahead and overlay a series of settings or\n\n131\n00:06:42.920 --> 00:06:47.440\nmodifications are made, could think of it\neither way, to the registry of a machine.\n\n132\n00:06:47.440 --> 00:06:50.470\nAnd the cumulative effect of those\nsettings are what we see as group policy.\n\n133\n00:06:50.470 --> 00:06:52.640\nWell, those individual settings\nhave to be enumerated.\n\n134\n00:06:52.640 --> 00:06:53.780\nWe have to track them.\n\n135\n00:06:53.780 --> 00:06:55.920\nWe have to see them actually\napplied in the registry.\n\n136\n00:06:55.920 --> 00:06:58.940\nThis is where we would go to actually\nsee them and to interact with them and\n\n137\n00:06:58.940 --> 00:06:59.960\nunderstand them.\n\n138\n00:06:59.960 --> 00:07:03.400\nWe could obviously see this in a different\nform using some of the reporting elements\n\n139\n00:07:03.400 --> 00:07:06.015\nI've talked to you about,\nwhether it's the GP result.\n\n140\n00:07:06.015 --> 00:07:10.300\nOur command line tool, whether it's RSOP,\nresultant set of policies.\n\n141\n00:07:10.300 --> 00:07:14.170\nWhether it's the effect of the policy and\nthe group policy management console,\n\n142\n00:07:14.170 --> 00:07:16.680\non the tab where we could see\nit right there for the settings.\n\n143\n00:07:16.680 --> 00:07:21.140\nThere's all these ways to see this, but\nwhat this shows us is the effect of all\n\n144\n00:07:21.140 --> 00:07:25.010\nthe policies being applied, the cumulative\neffect as we see on this machine.\n\n145\n00:07:25.010 --> 00:07:27.933\nWe would have to do some work on\nthe console in order to get all of that\n\n146\n00:07:27.933 --> 00:07:28.572\nin one place.\n\n147\n00:07:28.572 --> 00:07:31.863\nHere may not be the most obvious and the\nmost intuitive way to look at policy, but\n\n148\n00:07:31.863 --> 00:07:35.305\nit does give us an accurate representation\nof all the settings that were applied and\n\n149\n00:07:35.305 --> 00:07:36.920\nall the changes that are being made.\n\n150\n00:07:36.920 --> 00:07:39.410\nSo just something to consider\nas you look at policy.\n\n151\n00:07:39.410 --> 00:07:43.070\nAnd we talked a bit about client-side\nextensions, what they are,\n\n152\n00:07:43.070 --> 00:07:45.670\nwhy they show up the way they do,\nand kind of where they are.\n\n153\n00:07:45.670 --> 00:07:48.060\nWe also talked about group policy refresh.\n\n154\n00:07:48.060 --> 00:07:52.444\nI made it clear to you that there is\na logic, a timeline associated with this.\n\n155\n00:07:52.444 --> 00:07:53.884\nI said that on average,\n\n156\n00:07:53.884 --> 00:07:57.991\nanywhere from 90 to 120 minutes\nis the cycle we often will see.\n\n157\n00:07:57.991 --> 00:08:00.432\nI said we can modify that,\nI'm gonna show you how to do that.\n\n158\n00:08:00.432 --> 00:08:04.023\nWith some settings on the domain\ncontroller side for policy application.\n\n159\n00:08:04.023 --> 00:08:05.700\nWe'll take a look at those in a minute.\n\n160\n00:08:05.700 --> 00:08:09.190\nBut we actually see that\nwith a 30 minutes offset,\n\n161\n00:08:09.190 --> 00:08:13.365\nanywhere from 90 to 120 minutes,\nthe offset 0 to 30 minutes.\n\n162\n00:08:13.365 --> 00:08:18.055\nIs controlled by the policy\nmanagement application,\n\n163\n00:08:18.055 --> 00:08:21.840\na thought process at the domain level,\nmeaning that we assign a value.\n\n164\n00:08:21.840 --> 00:08:26.165\nThere's an algorithm the means to generate\na numerical value somewhere between 0 and\n\n165\n00:08:26.165 --> 00:08:30.885\n30 to generate and offset for every policy\nbeing applied for refresh purposes.\n\n166\n00:08:30.885 --> 00:08:32.065\nAs a result, we don't show up and\n\n167\n00:08:32.065 --> 00:08:36.290\ntry to refresh all policies on\nall clients all at the same time.\n\n168\n00:08:36.290 --> 00:08:39.990\nOverwhelming, created a lot of traffic and\nconcern at the main control.\n\n169\n00:08:39.990 --> 00:08:42.030\nSo we actually stagger those.\n\n170\n00:08:42.030 --> 00:08:46.230\nAnd that is, I'll say randomly thought\nout in the sense there is an unique\n\n171\n00:08:46.230 --> 00:08:48.750\nvalue assigned for that by a client.\n\n172\n00:08:48.750 --> 00:08:50.940\nBut there is a method,\na mechanism behind that.\n\n173\n00:08:50.940 --> 00:08:53.330\nAnd there is an algorithm that's\nused to actually generate that.\n\n174\n00:08:53.330 --> 00:08:55.300\nSo we do see that happening.\n\n175\n00:08:55.300 --> 00:08:58.070\nBut that is modifiable through policy,\nI'm gonna show you how in a minute.\n\n176\n00:08:58.070 --> 00:08:58.700\nYes?\n\n177\n00:08:58.700 --> 00:09:03.660\n&gt;&gt; Okay, so Adam,\nthis would be a good example of when we\n\n178\n00:09:03.660 --> 00:09:05.970\nmay need to go ahead and\npush that policy out immediately.\n\n179\n00:09:05.970 --> 00:09:10.290\nAnd we do have the ability to override or\nforce that information out,\n\n180\n00:09:10.290 --> 00:09:11.140\nthat policy, correct?\n\n181\n00:09:12.210 --> 00:09:16.370\n&gt;&gt; When you say push, let's be clear.\n\n182\n00:09:16.370 --> 00:09:19.630\nSo, because this is actually\nvery important point.\n\n183\n00:09:19.630 --> 00:09:23.120\nGroup policy is not a push technology,\nwe don't see it that way.\n\n184\n00:09:23.120 --> 00:09:28.930\nGroup policy is the client having\npolicies pulled from them,\n\n185\n00:09:28.930 --> 00:09:32.020\nor for them rather,\nI should say down and applied.\n\n186\n00:09:32.020 --> 00:09:34.610\nWe consider it a pull technology,\nnot a push.\n\n187\n00:09:34.610 --> 00:09:38.890\nAnd when refresh happens, or application\nof policy happens, it is the client.\n\n188\n00:09:38.890 --> 00:09:42.610\nWhen I say client, let's just be clear,\njust so we all agree.\n\n189\n00:09:42.610 --> 00:09:45.920\nWhatever the Windows operating\nsystem that you're logging into\n\n190\n00:09:45.920 --> 00:09:47.790\nis the client in our conversation.\n\n191\n00:09:47.790 --> 00:09:49.500\nThat can include a domain controller,\nby the way,\n\n192\n00:09:49.500 --> 00:09:53.360\nin theory, if you log on to that\ndomain controller or any server.\n\n193\n00:09:53.360 --> 00:09:55.150\nBut remember,\nwe have to aspects of policy.\n\n194\n00:09:55.150 --> 00:09:56.850\nUser side, and client side.\n\n195\n00:09:56.850 --> 00:09:58.820\nClient's side being computer side.\n\n196\n00:09:58.820 --> 00:10:04.280\nThose policies are going to be applied to\nthe machine based on an action that even\n\n197\n00:10:04.280 --> 00:10:08.150\nmachine or the user takes, logging and\nstarting up, logging off shutting down.\n\n198\n00:10:08.150 --> 00:10:13.260\nBut they're pulled down from the central\nrepository, the group policy store and or\n\n199\n00:10:13.260 --> 00:10:17.090\nthe domain controller where they're stored\nin the sys file container, on some sort of\n\n200\n00:10:17.090 --> 00:10:22.130\nregular cycle after initial event, after\nlog on, startup, whatever that may be.\n\n201\n00:10:22.130 --> 00:10:25.875\nThat's the refresh interval we're\ntalking about, but it's pull not push,\n\n202\n00:10:25.875 --> 00:10:28.370\nit's very important as\nI push the microphone.\n\n203\n00:10:28.370 --> 00:10:32.380\nVery important that we know it is a pull\ntechnology, it's never considered a push,\n\n204\n00:10:32.380 --> 00:10:35.380\nso absolutely correct in\nwhat you're asking but\n\n205\n00:10:35.380 --> 00:10:38.190\nlet's make sure the language\nrepresents the actual way it works.\n\n206\n00:10:38.190 --> 00:10:39.750\n&gt;&gt; Got it.\n&gt;&gt; It's what I'm suggesting, right?\n\n207\n00:10:39.750 --> 00:10:42.260\nAnd it's important for\nyou to know that as well by the way.\n\n208\n00:10:42.260 --> 00:10:45.190\nSubtle and\nyou know you may never see that but\n\n209\n00:10:45.190 --> 00:10:48.400\nyou never know you may get one of\nthose odd ball questions where\n\n210\n00:10:48.400 --> 00:10:51.340\nyou know we're trying to trick\nyou into figuring that out.\n\n211\n00:10:51.340 --> 00:10:54.800\nAnd group policy is always classified as\na pool technology the client's pulling\n\n212\n00:10:54.800 --> 00:10:57.960\nthe policy down and applying it\nevery time they go to get it and\n\n213\n00:10:57.960 --> 00:11:00.300\nrefer general controls when\nthey might go to get that.\n\n214\n00:11:00.300 --> 00:11:03.030\nSo it is important just\nto be aware of that.\n\n215\n00:11:03.030 --> 00:11:05.990\nSpeaking of where we go to\nget that how we control that\n\n216\n00:11:05.990 --> 00:11:08.750\nwhy don't we let me switch machines\nhere while we're talking so\n\n217\n00:11:08.750 --> 00:11:12.010\nlet me just a second to bring\nup the domain controller.\n\n218\n00:11:12.010 --> 00:11:17.480\nBefore we jump onto the machine,\nI'm just resetting the other console here.\n\n219\n00:11:17.480 --> 00:11:20.990\nI have the domain controller\ngroup management console open.\n\n220\n00:11:20.990 --> 00:11:23.940\nWhat I have, just to show you where I am,\n\n221\n00:11:23.940 --> 00:11:27.420\nI am looking at the policy\ncalled policy test one.\n\n222\n00:11:27.420 --> 00:11:28.930\nJust a sample policy we were using.\n\n223\n00:11:28.930 --> 00:11:30.080\nI just opened that one up.\n\n224\n00:11:30.080 --> 00:11:31.920\nEdited it just to show you this.\n\n225\n00:11:31.920 --> 00:11:34.870\nLet me just maybe move this\nover just a little bit, so\n\n226\n00:11:34.870 --> 00:11:37.540\nif we can we can drag that over and\nsee that.\n\n227\n00:11:37.540 --> 00:11:39.650\nOf course it's impossible to catch that.\n\n228\n00:11:39.650 --> 00:11:41.820\nWell, you get the general idea.\n\n229\n00:11:41.820 --> 00:11:44.220\nSo I'm in the policies area,\nadministrative template.\n\n230\n00:11:44.220 --> 00:11:47.220\nI'll just scroll over this way so\nyou can see it a little better.\n\n231\n00:11:47.220 --> 00:11:51.370\nAnd under there I'm in the system area and\nI've scrolled down.\n\n232\n00:11:51.370 --> 00:11:54.810\nAnd under system, I am in group policy and\nI'm looking at all the settings for\n\n233\n00:11:54.810 --> 00:11:58.360\nthe application of group policy\nto the system right here.\n\n234\n00:11:58.360 --> 00:12:01.430\nAnd there's a lot of settings that\nare here that are of interest to us,\n\n235\n00:12:01.430 --> 00:12:03.180\nmay wanna take note of.\n\n236\n00:12:03.180 --> 00:12:04.510\nThere's obvious ones, right?\n\n237\n00:12:04.510 --> 00:12:08.060\nConfigure disk quota policy,\nsettings, configure wire policy.\n\n238\n00:12:08.060 --> 00:12:10.630\nThere's a bunch of stuff along\nwith logging, and tracing,\n\n239\n00:12:10.630 --> 00:12:12.230\nand we could certainly go in and\n\n240\n00:12:12.230 --> 00:12:15.350\ntake a look here about all the different\nlogging and tracing options.\n\n241\n00:12:15.350 --> 00:12:17.390\nWe may want to engage it.\n\n242\n00:12:17.390 --> 00:12:21.410\nBut aside from that,\nwe scroll down a little bit which\n\n243\n00:12:21.410 --> 00:12:24.250\nis where I wanted to just\nspend a couple of minutes.\n\n244\n00:12:24.250 --> 00:12:28.830\nWe can see here, turn off group\npolicy background refresh, so\n\n245\n00:12:28.830 --> 00:12:32.880\nwe could turn off and control refresh and\ndecide how that's gonna happen\n\n246\n00:12:32.880 --> 00:12:35.720\nin the background which is just\nhappening behind the scenes.\n\n247\n00:12:35.720 --> 00:12:38.990\nWe could actually turn off local\ngroup policy object processing.\n\n248\n00:12:38.990 --> 00:12:42.170\nWe could essentially cut off that\nlocal group policy at the knees, and\n\n249\n00:12:42.170 --> 00:12:46.040\nstart applying group policy\nfrom the site level down, so\n\n250\n00:12:46.040 --> 00:12:50.940\nwe can block essentially that policy if\nwe choose to on a series of machines,\n\n251\n00:12:50.940 --> 00:12:54.940\nagain deciding IOU in theory,\nhow this may apply.\n\n252\n00:12:54.940 --> 00:13:00.060\nWe can remove the user's\nability to invoke a refresh.\n\n253\n00:13:00.060 --> 00:13:03.050\nSo we can actually prevent\nusers from being able to\n\n254\n00:13:03.050 --> 00:13:06.950\nuse something like a G P update command,\nright at the command line,\n\n255\n00:13:06.950 --> 00:13:11.710\nto force a refresh, and pull down,\nand apply policies out of sync.\n\n256\n00:13:11.710 --> 00:13:13.700\nIn other words, out, at some point,\n\n257\n00:13:13.700 --> 00:13:19.410\nmanually off the 90 to 120 minute eval\ncycle, somewhere in between there.\n\n258\n00:13:19.410 --> 00:13:23.500\nSo we can do those things if we choose to,\nwe could also set a caching for\n\n259\n00:13:23.500 --> 00:13:25.260\ngroup policy as you can see.\n\n260\n00:13:25.260 --> 00:13:29.230\nWe could set up that policy slow link\ndetection that I mentioned where I said,\n\n261\n00:13:29.230 --> 00:13:32.590\nwe have a minimum threshold of\n500 kilobits for fast or slow and\n\n262\n00:13:32.590 --> 00:13:33.740\nwe can modify that.\n\n263\n00:13:33.740 --> 00:13:36.970\nWe could go in and\nspecify that here if necessary.\n\n264\n00:13:36.970 --> 00:13:41.240\nThese are all settings as you can\nsee buried here if we enable that.\n\n265\n00:13:42.700 --> 00:13:44.920\nYou'll see the default is 500k,\nas I mentioned.\n\n266\n00:13:44.920 --> 00:13:49.310\nIt looks a little weird, because\nwhen it's turned off it's set to 0.\n\n267\n00:13:49.310 --> 00:13:50.890\nYou may look at that thing and\nwell, the default is 0.\n\n268\n00:13:50.890 --> 00:13:53.230\nBut when you enable it,\nthe default actually does change.\n\n269\n00:13:53.230 --> 00:13:54.770\nAnd we can then decide.\n\n270\n00:13:54.770 --> 00:13:59.730\nAs I said, you can take that down and say\nwell, maybe it'll be 128k instead of 500.\n\n271\n00:13:59.730 --> 00:14:01.950\nSo we can modify that here, if we need to,\n\n272\n00:14:01.950 --> 00:14:05.260\napplying that should we\ndecide we wanna modify that.\n\n273\n00:14:05.260 --> 00:14:07.490\nAnd we can then set the refresh intervals.\n\n274\n00:14:07.490 --> 00:14:12.020\nRemember, I said we can modify them\nif we don't want the 90 to 120 minute\n\n275\n00:14:12.020 --> 00:14:15.420\nvariable offset,\nwe wanna hard code a policy refresh for\n\n276\n00:14:15.420 --> 00:14:17.440\ncertain systems under certain conditions.\n\n277\n00:14:17.440 --> 00:14:19.580\nWe can go in here, as well,\nright, and do that.\n\n278\n00:14:19.580 --> 00:14:22.250\nSo it's up to us If we want to.\n\n279\n00:14:22.250 --> 00:14:25.890\nBut you could see sec root policy\nrefresh interval for computers.\n\n280\n00:14:25.890 --> 00:14:28.820\nAlso set at four,\nthe main controller, right?\n\n281\n00:14:28.820 --> 00:14:30.260\nSo, we have different options.\n\n282\n00:14:30.260 --> 00:14:31.810\nWe go in and do different things.\n\n283\n00:14:31.810 --> 00:14:34.930\nSo, a lot of these settings\noften just remain buried here.\n\n284\n00:14:34.930 --> 00:14:36.620\nWe may not realize they're here.\n\n285\n00:14:36.620 --> 00:14:39.130\nI'm just calling some of them\nout to show them to you so\n\n286\n00:14:39.130 --> 00:14:42.140\nyou have a sense of the fact that a lot\nof the things we're talking about\n\n287\n00:14:42.140 --> 00:14:43.840\nseem like they may just kind of be set.\n\n288\n00:14:43.840 --> 00:14:48.075\nYou don't always have a control element\nover them, are not able to modify that but\n\n289\n00:14:48.075 --> 00:14:49.865\nwe don't often talk about them that way.\n\n290\n00:14:49.865 --> 00:14:53.145\nWe just say, well, we have this refresh\ninterval and it's between 90 and\n\n291\n00:14:53.145 --> 00:14:54.365\n120 minutes on average.\n\n292\n00:14:54.365 --> 00:14:57.465\nAnd there's this algorithm that runs\nbehind the scenes and sets that value.\n\n293\n00:14:57.465 --> 00:15:00.025\nAnd that's how it works,\nit's always a random offset.\n\n294\n00:15:00.025 --> 00:15:03.275\nBut you actually can hard code\nthose values if you choose to.\n\n295\n00:15:03.275 --> 00:15:08.255\nAnd if you wanna set the refresh\ninterval for computers you can go in and\n\n296\n00:15:08.255 --> 00:15:10.040\nyou could see here.\n\n297\n00:15:10.040 --> 00:15:14.080\nHow often group policy's applied,\nthe range is anything from 0 up\n\n298\n00:15:14.080 --> 00:15:18.860\nto 44,640 minutes, which is\nequivalent of essentially 31 days.\n\n299\n00:15:18.860 --> 00:15:20.450\nIt is measured in minutes.\n\n300\n00:15:20.450 --> 00:15:23.970\nAnd you can see there's a random time\nadded to the refresh interval to prevent\n\n301\n00:15:23.970 --> 00:15:25.290\nall clients from showing up at once.\n\n302\n00:15:25.290 --> 00:15:30.275\nThat's the offset I suggested we generate\nand that values anything from 0 to 140.\n\n303\n00:15:30.275 --> 00:15:35.350\n1,440 minutes, a total of 24 hours,\nand you could set that as well.\n\n304\n00:15:35.350 --> 00:15:38.540\nYou notice the default there is 30\nminutes, which is what I was saying\n\n305\n00:15:38.540 --> 00:15:42.570\nwith that random offset from\nanywhere from 90 to 120,\n\n306\n00:15:42.570 --> 00:15:46.010\nbecause that's the random 30 minute\noffset that gets injected automatically.\n\n307\n00:15:46.010 --> 00:15:50.340\nBut we can modify these and we can go\nin and decide what we want to set.\n\n308\n00:15:50.340 --> 00:15:52.920\nAnd that's gonna require at least\none that's 2,000 support or\n\n309\n00:15:52.920 --> 00:15:54.400\nbetter as you can see.\n\n310\n00:15:54.400 --> 00:15:57.646\nSo we can go in, and we can play with\nthe majority of these settings, right?\n\n311\n00:15:57.646 --> 00:16:00.854\nIt's up to us to decide how to do this and\nwhat we want done.\n\n312\n00:16:00.854 --> 00:16:04.193\nBut we can configure these settings,\nand we just have to know where to go.\n\n313\n00:16:04.193 --> 00:16:08.705\nAnd the group policy container inside\nof any of those policies will give you\n\n314\n00:16:08.705 --> 00:16:10.120\nthe same capability.\n\n315\n00:16:10.120 --> 00:16:14.360\nIf we wanted to modify that\nup at the domain policy or\n\n316\n00:16:14.360 --> 00:16:17.140\nthe domain controller policy level,\nwe can make changes there.\n\n317\n00:16:17.140 --> 00:16:19.815\nI'm doing it at a OU based policy level\n\n318\n00:16:19.815 --> 00:16:23.045\nto show you we may wanna make these\nchanges to a certain group of machines or\n\n319\n00:16:23.045 --> 00:16:27.915\nobjects, add an OU, but perhaps not affect\nthe entire domain with these settings.\n\n320\n00:16:27.915 --> 00:16:31.037\nOr remember, if we wanted to affect,\nnot just the entire domain, but\n\n321\n00:16:31.037 --> 00:16:34.767\nthe site, meaning essentially at the\nfarthest level apply to all domains and\n\n322\n00:16:34.767 --> 00:16:40.467\napply it to all objects in theory, and not\nhave them do a 90 to 120 minute refresh,\n\n323\n00:16:40.467 --> 00:16:43.577\nbut rather, have them maybe do\na refresh once every 24 hours.\n\n324\n00:16:43.577 --> 00:16:47.217\nLet's just say hypothetically,\nwe could go in and set that tone for\n\n325\n00:16:47.217 --> 00:16:50.577\nall objects at the farthest\nlevel by using a site policy.\n\n326\n00:16:50.577 --> 00:16:53.420\nNot recommended,\nnot something we typically would do.\n\n327\n00:16:53.420 --> 00:16:56.950\nBut a generic rule of thumb\nis the policy at that level\n\n328\n00:16:56.950 --> 00:16:58.690\nis applied to any object in the site.\n\n329\n00:16:58.690 --> 00:17:02.450\nSo as a result, we're probably touching\nthe entire forest, as we said,\n\n330\n00:17:02.450 --> 00:17:06.275\nunder normal default circumstances\nwith our standard site topology being\n\n331\n00:17:06.275 --> 00:17:09.371\nthe default first signing site\nincorporating all objects,\n\n332\n00:17:09.371 --> 00:17:14.090\nall domain controllers that are members of\nthe default site representing the forest.\n\n333\n00:17:14.090 --> 00:17:15.520\nThey'd all wind up there.\n\n334\n00:17:15.520 --> 00:17:19.260\nUnless we modify that, we're essentially\napplying a policy at the forest level.\n\n335\n00:17:19.260 --> 00:17:22.309\nSo while we have the right and\nthe opportunity to do so, again,\n\n336\n00:17:22.309 --> 00:17:24.612\nMicrosoft's very clear\nabout this guidance,\n\n337\n00:17:24.612 --> 00:17:28.657\ndon't do it at that level unless you have\nan overwhelming, compelling reason to.\n\n338\n00:17:28.657 --> 00:17:32.102\nAnd if that overwhelming, compelling\nreason is a standard set of policy\n\n339\n00:17:32.102 --> 00:17:33.909\nsettings that apply to every object,\n\n340\n00:17:33.909 --> 00:17:37.930\nregardless of where they are that's\nthe target level, that's where you go.\n\n341\n00:17:37.930 --> 00:17:39.230\nBut be incredibly selective and\n\n342\n00:17:39.230 --> 00:17:43.140\nunderstand the impact of that because\nyou're messing around with policy settings\n\n343\n00:17:43.140 --> 00:17:47.330\nthat are gonna flow through every\nobject unless you override them and\n\n344\n00:17:47.330 --> 00:17:50.260\nthen there may not be a reason to do it\nthat way if you're gonna override them.\n\n345\n00:17:50.260 --> 00:17:53.440\nSo you really have to think about that and\njust understand the impact of something\n\n346\n00:17:53.440 --> 00:17:56.780\nlike messing around with\ngroup policy refresh rates.\n\n347\n00:17:56.780 --> 00:17:58.750\nYou can optimize policy application.\n\n348\n00:17:59.820 --> 00:18:04.240\nBut if you're not careful you may actually\nhave a lot of traffic being generated\n\n349\n00:18:04.240 --> 00:18:07.380\nwithin a very short period of time\nto refresh those policies, and\n\n350\n00:18:07.380 --> 00:18:10.100\nyou may actually wind up with a concern.\n\n351\n00:18:10.100 --> 00:18:13.890\nYou may actually overwhelm the system's\nability to process policies.\n\n352\n00:18:13.890 --> 00:18:17.117\nSo if you have enough machines showing up\nin a short enough period of time, you can\n\n353\n00:18:17.117 --> 00:18:20.452\nessentially create a denial service\nattack against you're own infrastructure.\n\n354\n00:18:20.452 --> 00:18:24.560\nWhile it's highly unlikely that will\nhappen, we take steps to offset and\n\n355\n00:18:24.560 --> 00:18:26.627\nrandomized that refresh variable.\n\n356\n00:18:26.627 --> 00:18:30.223\nIt's possible with enough machines in\na short enough period of time that you\n\n357\n00:18:30.223 --> 00:18:31.860\nactually could run into an issue.\n\n358\n00:18:31.860 --> 00:18:35.690\nSo you just wanna operate with caution\nthere is all I'm suggesting to you\n\n359\n00:18:35.690 --> 00:18:38.400\nwith regards to that,\njust keeping that in mind.\n\n360\n00:18:38.400 --> 00:18:42.760\nAlso we have the ability to provide for,\nlet me just scroll down so\n\n361\n00:18:42.760 --> 00:18:46.420\nyou can see this, it's down towards\nthe bottom here of these settings.\n\n362\n00:18:46.420 --> 00:18:47.970\nUnder this area where it says configure,\n\n363\n00:18:47.970 --> 00:18:51.290\nthere's quite a number of them down\nhere towards the bottom as you see.\n\n364\n00:18:51.290 --> 00:18:52.670\nI'll just choose one.\n\n365\n00:18:52.670 --> 00:18:57.240\nLet's say configure\napplication preference,\n\n366\n00:18:57.240 --> 00:19:00.020\ndevice preferences extension\njust this an option here.\n\n367\n00:19:01.510 --> 00:19:05.570\nWe can specify here under any of these\nsettings starting with configure in\n\n368\n00:19:05.570 --> 00:19:09.440\nthe group policy folder that we're\ntaking a look at, that we enable this.\n\n369\n00:19:09.440 --> 00:19:10.720\nSo let's just turn it on.\n\n370\n00:19:10.720 --> 00:19:13.000\nAllow processing across\na slow network connection.\n\n371\n00:19:13.000 --> 00:19:17.100\nWe can allow it to be processed and say,\neven though we cut certain things off\n\n372\n00:19:17.100 --> 00:19:21.470\nat the knees and say with slow policy\nlink enabled, there's slow policy link\n\n373\n00:19:21.470 --> 00:19:25.630\ndetection enabled, whatever that\nthreshold is, 500 k, whatever we said.\n\n374\n00:19:25.630 --> 00:19:28.160\nI said we would stop certain\nbehavior from occurring.\n\n375\n00:19:28.160 --> 00:19:31.660\nAll of these items we're looking at are\nthe behavioral elements that typically get\n\n376\n00:19:31.660 --> 00:19:35.550\ncut off during a slow network detection,\nso we can go in and override that and\n\n377\n00:19:35.550 --> 00:19:38.570\nsay, even though it's slow,\neven though we wouldn't normally do it,\n\n378\n00:19:38.570 --> 00:19:40.180\nlet's apply this one.\n\n379\n00:19:40.180 --> 00:19:42.960\nAnd this one may not be the best one to\nuse as an example since we're talking\n\n380\n00:19:42.960 --> 00:19:45.190\nabout it that way,\nlet's go to the one right below,\n\n381\n00:19:45.190 --> 00:19:47.160\nwhich is drive maps, all right.\n\n382\n00:19:47.160 --> 00:19:50.320\nYou may wanna go and then specify drive\nmaps are created, even though you don't\n\n383\n00:19:50.320 --> 00:19:53.404\nhave enough bandwidth normally to use\nthem, we normally would cut them off.\n\n384\n00:19:53.404 --> 00:19:56.446\nSo this may be your good\npolicy that we would look at.\n\n385\n00:19:56.446 --> 00:19:57.726\nApplication preferences,\n\n386\n00:19:57.726 --> 00:20:01.730\nmaybe it will install software even though\nthe policy says we normally should not.\n\n387\n00:20:01.730 --> 00:20:06.590\nWhatever it may be, right,\nyou can enable connectivity and\n\n388\n00:20:06.590 --> 00:20:09.330\nspecification of that\nover a slow connection.\n\n389\n00:20:09.330 --> 00:20:11.380\nSo you have that option, right?\n\n390\n00:20:11.380 --> 00:20:15.060\nAnd process even if the group\npolicy objects have not changed.\n\n391\n00:20:15.060 --> 00:20:18.070\nWe can actually force\nthe application of this policy\n\n392\n00:20:18.070 --> 00:20:21.260\nduring that 90 to 120\nminute refresh cycle.\n\n393\n00:20:21.260 --> 00:20:25.280\nBecause we also cut back on applying\npolicy elements that have not changed\n\n394\n00:20:25.280 --> 00:20:28.230\nto further optimize the use of\nthat bandwidth to make sure\n\n395\n00:20:28.230 --> 00:20:30.640\nthat we are sure that we're not\ngonna overwhelm the system.\n\n396\n00:20:30.640 --> 00:20:33.980\nWe may wanna force the application of\nthese settings even though they may not\n\n397\n00:20:33.980 --> 00:20:35.970\nhave been updated or\nchanged because in general,\n\n398\n00:20:35.970 --> 00:20:39.580\nwe don't reapply all policy\nsettings when we apply a policy.\n\n399\n00:20:39.580 --> 00:20:43.470\nWe apply and change only the settings that\nhave essentially migrated in some way,\n\n400\n00:20:43.470 --> 00:20:45.360\nthat are out of sync with the policy.\n\n401\n00:20:45.360 --> 00:20:49.820\nWe look at the change tracking, and we\napply a delta reference and say, if that\n\n402\n00:20:49.820 --> 00:20:53.460\npolicy setting has changed, make it look\nlike it should, whatever the policy is.\n\n403\n00:20:53.460 --> 00:20:55.050\nWe do look at the whole policy.\n\n404\n00:20:55.050 --> 00:20:56.480\nBut when we modify the system,\n\n405\n00:20:56.480 --> 00:21:00.140\napplying the changes that we find\nas a result of setting that policy.\n\n406\n00:21:00.140 --> 00:21:03.408\nSo we don't always apply all\nthe policy overall directly, but\n\n407\n00:21:03.408 --> 00:21:07.090\nwe simply apply the changes\nthe policy may or may not represent.\n\n408\n00:21:07.090 --> 00:21:09.887\nSo we can force that and say, hey,\neven though those things haven't changed,\n\n409\n00:21:09.887 --> 00:21:11.450\nmake sure that all those\ndrives are mapped.\n\n410\n00:21:11.450 --> 00:21:16.750\nAnd we can set that for all these areas\nforcing them, right, to be put back in and\n\n411\n00:21:16.750 --> 00:21:19.840\nforcing them to ensure that they\nactually set up the right way.\n\n412\n00:21:19.840 --> 00:21:22.960\nThis is also a nice subtle but\nvery important feature\n\n413\n00:21:22.960 --> 00:21:25.940\naround the client extensions and\nour capability to be able to do this.\n\n414\n00:21:25.940 --> 00:21:27.070\nThis is not new.\n\n415\n00:21:27.070 --> 00:21:30.790\nWe've had this essentially since 2000,\n2008 going forward.\n\n416\n00:21:30.790 --> 00:21:36.200\nBut the use of these subtle settings\nto further augment, further control and\n\n417\n00:21:36.200 --> 00:21:40.590\nto further, in this case actually it's in\n2003, the one I happen to be looking at\n\n418\n00:21:40.590 --> 00:21:43.000\nis supported for 2003 and\nXP all the way forward.\n\n419\n00:21:43.000 --> 00:21:45.120\nSo it goes back even\nfurther in some cases.\n\n420\n00:21:45.120 --> 00:21:49.240\nBut to be able to fine tune that, and\nreally control how those policies work,\n\n421\n00:21:49.240 --> 00:21:52.910\nunder what bandwidth conditions,\nwith what client-side preferences, and\n\n422\n00:21:52.910 --> 00:21:55.710\nhow we will or won't apply them,\ngives us full control, right?\n\n423\n00:21:55.710 --> 00:21:57.330\nWe can really narrowly define and\n\n424\n00:21:57.330 --> 00:22:01.460\nreally optimize what policy elements we\nwanna see, and under what conditions.\n\n425\n00:22:01.460 --> 00:22:04.790\nAnd although bandwidth processing\nrelated concerns about\n\n426\n00:22:04.790 --> 00:22:09.270\nthe idea of slow versus fast links\nmay not really exist in your world.\n\n427\n00:22:09.270 --> 00:22:11.010\nObviously, it's hard to say.\n\n428\n00:22:11.010 --> 00:22:14.230\nI do have a lot of customers\nthat are in remote locations.\n\n429\n00:22:14.230 --> 00:22:18.510\nEven in well connected environments in the\nUnited States, it's usually very difficult\n\n430\n00:22:18.510 --> 00:22:20.602\nto find an area that you don't\nhave a lot of good bandwidth in.\n\n431\n00:22:20.602 --> 00:22:23.520\nBut there certainly are areas in\nthe remote areas out in the middle of\n\n432\n00:22:23.520 --> 00:22:26.990\nthe United States where you\nmay have a satellite office in\n\n433\n00:22:26.990 --> 00:22:30.120\nsome sort of semi-wilderness environment,\nmaybe there isn't good Internet,\n\n434\n00:22:30.120 --> 00:22:33.280\nmaybe there isn't a good way to get\nhigh speed connectivity out there.\n\n435\n00:22:33.280 --> 00:22:35.647\nBut certainly in some other countries,\n\n436\n00:22:35.647 --> 00:22:39.404\nin parts of the world where they\nmay not have a capability to bring\n\n437\n00:22:39.404 --> 00:22:43.460\nInternet at high speed bandwidth to\nall areas of the country easily.\n\n438\n00:22:43.460 --> 00:22:45.810\nYou may be talking about satellite relays,\n\n439\n00:22:45.810 --> 00:22:49.150\nmicrowave relays as opposed\nto hardwired connections.\n\n440\n00:22:49.150 --> 00:22:51.810\nBandwidth may be available but\nit's incredibly expensive.\n\n441\n00:22:51.810 --> 00:22:56.550\nAnd as a result, you may not wanna\npush policy and take up that bandwidth\n\n442\n00:22:56.550 --> 00:23:01.140\nconsuming it to deploy software where you\nhave to pay literally 3, $4 a minute for\n\n443\n00:23:01.140 --> 00:23:04.780\nair time or whatever it maybe,\nmay not be cost effective.\n\n444\n00:23:04.780 --> 00:23:07.880\nSo there are reasons why you wanna\ncontrol the application of policy\n\n445\n00:23:07.880 --> 00:23:08.880\nbased on bandwidth.\n\n446\n00:23:08.880 --> 00:23:10.890\nVery, very important for\nus to think about that.\n\n447\n00:23:10.890 --> 00:23:12.440\nSo it's just one of those concerns, right?\n\n448\n00:23:12.440 --> 00:23:17.360\nBack years ago where we had slow dial-up\nconnections, back coming out of that time\n\n449\n00:23:17.360 --> 00:23:21.110\nwhere we had maybe ISDN connections\nto some satellite offices,\n\n450\n00:23:21.110 --> 00:23:26.200\n128 kilobits of bandwidth, traditionally,\nas opposed to maybe full T1 connections,\n\n451\n00:23:26.200 --> 00:23:29.218\nwe had to be really careful about\nmonitoring and measuring our bandwidth.\n\n452\n00:23:29.218 --> 00:23:31.257\nToday, it may not be as big of a deal,\nright?\n\n453\n00:23:31.257 --> 00:23:33.597\nWe just may not have as much of that,\nright?\n\n454\n00:23:33.597 --> 00:23:35.503\nSo it is just something to consider,\n\n455\n00:23:35.503 --> 00:23:39.497\nI mean, today most offices in many\ncentral cores, right, in major cities,\n\n456\n00:23:39.497 --> 00:23:43.680\nregardless of where you live in the world,\nare probably well connected.\n\n457\n00:23:43.680 --> 00:23:46.320\nBut it's out in the periphery that we\nstill want to worry about this and\n\n458\n00:23:46.320 --> 00:23:47.760\nwe sometimes have infrastructure there.\n\n459\n00:23:47.760 --> 00:23:50.744\nIt's very important to manage that\ninfrastructure, the same way that we would\n\n460\n00:23:50.744 --> 00:23:53.655\nany other infrastructure, right,\nit's very important to consider that.\n\n461\n00:23:53.655 --> 00:23:55.650\nLet me just get out of\nthis area that we were in.\n\n462\n00:23:55.650 --> 00:23:57.671\nLet me just show you something\nthat will also help.\n\n463\n00:23:57.671 --> 00:24:01.898\nYou have a little website that sometimes\nwill be Useful, this is in our show notes\n\n464\n00:24:01.898 --> 00:24:06.160\nby the way, Group Policy refresh\nintervals for computers from Microsoft.\n\n465\n00:24:06.160 --> 00:24:09.500\nWe just have some good information\nabout that 0 to 30 minute offset,\n\n466\n00:24:09.500 --> 00:24:10.870\nthe 90 minute standard.\n\n467\n00:24:10.870 --> 00:24:14.746\nRemember, domain controllers refresh\nat five minutes by default, we talked\n\n468\n00:24:14.746 --> 00:24:18.799\nabout that, that's a different refresh\npolicy cycle than all other computers so\n\n469\n00:24:18.799 --> 00:24:21.287\njust be aware of that,\nwe talk about that as well.\n\n470\n00:24:21.287 --> 00:24:26.227\nWe do specify, now you saw the most\nrecent setting I showed you was 31 days,\n\n471\n00:24:26.227 --> 00:24:29.953\n44,000 minutes approximately,\nwhatever it was,\n\n472\n00:24:29.953 --> 00:24:33.374\nhere they specify range\nup to 64,800 minutes,\n\n473\n00:24:33.374 --> 00:24:38.182\nlet me just kinda grab that right there,\nwhich is out to 45 days, right.\n\n474\n00:24:38.182 --> 00:24:41.506\nSo some of the information may have\nupdated and the website may not always,\n\n475\n00:24:41.506 --> 00:24:45.039\nin this case, be up to date with what\nwe're seeing currently in Server 16, so\n\n476\n00:24:45.039 --> 00:24:47.480\nyou just wanna make sure\nyou're aware of that.\n\n477\n00:24:47.480 --> 00:24:50.390\nThat was the standard, and\nis the standard in some cases for\n\n478\n00:24:50.390 --> 00:24:53.710\nearlier OSs, but in Server 16\nthey've cut that back a little bit.\n\n479\n00:24:53.710 --> 00:24:57.420\nBut they do make the point if you set that\nto zero then essentially what we do is we\n\n480\n00:24:57.420 --> 00:25:00.110\nforce group policy refresh\non a continuous basis, and\n\n481\n00:25:00.110 --> 00:25:03.410\nit says there every seven seconds,\nwhich would not be a good idea\n\n482\n00:25:03.410 --> 00:25:05.720\nbecause that's going to essentially\noverwhelm the system and\n\n483\n00:25:05.720 --> 00:25:09.840\ncause all sorts of concerns about being\nable to process and how we're doing that.\n\n484\n00:25:09.840 --> 00:25:11.890\nSo this makes some good points here,\nright,\n\n485\n00:25:11.890 --> 00:25:13.590\nsome things that you\njust wanna be aware of.\n\n486\n00:25:13.590 --> 00:25:17.530\nHave some links about being able to use\nbackground versus foreground policy\n\n487\n00:25:17.530 --> 00:25:20.360\nrefresh and the ability to be able to\nunderstand this a little bit more.\n\n488\n00:25:20.360 --> 00:25:23.450\nSo you may just wanna take advantage\nof that, take a look at the website,\n\n489\n00:25:23.450 --> 00:25:25.520\nread through some of the logic there,\nit may just be helpful for\n\n490\n00:25:25.520 --> 00:25:29.393\nyou, just get a better sense of-\n&gt;&gt; I just was saying thank you for\n\n491\n00:25:29.393 --> 00:25:33.409\nshowing, because I mean yeah, that's the\nultimate goal here most network admins,\n\n492\n00:25:33.409 --> 00:25:37.370\nsysadmins, whoever, that's just to\noptimize that infrastructure is what we're\n\n493\n00:25:37.370 --> 00:25:39.170\nreally looking to achieve.\n\n494\n00:25:39.170 --> 00:25:41.810\n&gt;&gt; You can, and just since we're talking\nabout refresh just one other quick thing,\n\n495\n00:25:41.810 --> 00:25:43.910\nlet me go back to the Windows 10 machine.\n\n496\n00:25:43.910 --> 00:25:47.614\nYou may have done this, I'm sure\nyou probably have done this before.\n\n497\n00:25:47.614 --> 00:25:51.787\nBut let's just clear the screen on the gp\nresult tool, but gpupdate, I mentioned\n\n498\n00:25:51.787 --> 00:25:55.600\nthat as a command that could be used\nto manually force the refresh to occur,\n\n499\n00:25:55.600 --> 00:25:59.738\njust wanted to remind you of that in case\nyou have not seen or used that tool again.\n\n500\n00:25:59.738 --> 00:26:03.420\nYou can always reference the help file\nfirst before you do anything else.\n\n501\n00:26:03.420 --> 00:26:07.970\nSo gpupdate/?,\nwe can use that to do a lot of things,\n\n502\n00:26:07.970 --> 00:26:12.000\nnot just force a policy refresh although\nthat's what it's often referenced as and\n\n503\n00:26:12.000 --> 00:26:13.800\nmore often than not what it's used for.\n\n504\n00:26:13.800 --> 00:26:16.340\nBut you could see we could\ntarget a computer, so\n\n505\n00:26:16.340 --> 00:26:20.393\nwe could specify the target, we could also\nthen specify just the computer settings,\n\n506\n00:26:20.393 --> 00:26:24.434\nthe user settings, or both, so we could\nselectively grab aspects of that policy.\n\n507\n00:26:24.434 --> 00:26:29.690\nAgain, generically you just often hear\npeople just say gpupdate\\force and just\n\n508\n00:26:29.690 --> 00:26:33.680\nforce application of the entire policy,\nthere's a lot more subtlety to this tool.\n\n509\n00:26:33.680 --> 00:26:37.670\nWe could specify a wait value, so we could\nactually set the number of seconds to wait\n\n510\n00:26:37.670 --> 00:26:41.547\nfor processing to actually finish to make\nsure policy in testing environments is\n\n511\n00:26:41.547 --> 00:26:44.170\nbeing processed in\na reasonable amount of time.\n\n512\n00:26:44.170 --> 00:26:46.210\nTo make sure we have the kind\nof bandwidth we need,\n\n513\n00:26:46.210 --> 00:26:48.190\nthose kind of things could be tested.\n\n514\n00:26:48.190 --> 00:26:54.120\nI explained the force switch where you can\nforce the application of policy there.\n\n515\n00:26:54.120 --> 00:26:58.317\nLog off, right, so lot of times most\nsettings will not require a log off or\n\n516\n00:26:58.317 --> 00:27:02.750\na restart, but some settings may not\ntake effect unless that happens.\n\n517\n00:27:02.750 --> 00:27:07.220\nAnd as a result, settings affecting the\nuser are typically not gonna be applied\n\n518\n00:27:07.220 --> 00:27:11.170\nunless you log off and log back in because\nthe user token and the generation of\n\n519\n00:27:11.170 --> 00:27:15.450\nthat policy does not update, and so you\nmay actually see that you have to do that.\n\n520\n00:27:15.450 --> 00:27:18.540\nAnd also, these days especially,\n\n521\n00:27:18.540 --> 00:27:22.890\nif you are using cached credentials\nas many systems will in the domain,\n\n522\n00:27:22.890 --> 00:27:27.030\nwhen you log in you may be logging\nin with a cached credential.\n\n523\n00:27:27.030 --> 00:27:32.100\nAnd as a result, policy may not get\napplied during refresh because you're not\n\n524\n00:27:32.100 --> 00:27:36.020\nessentially logging off,\nlogging in with a new credential, and\n\n525\n00:27:36.020 --> 00:27:39.460\nthat credential was already there on\nthe system cached from a prior log on,\n\n526\n00:27:39.460 --> 00:27:43.650\nit doesn't update, it's speeding up the\nlog on by giving you cached credentials.\n\n527\n00:27:43.650 --> 00:27:47.050\nAnd so some policies have to\nbe applied two, or three, or\n\n528\n00:27:47.050 --> 00:27:51.200\nfour times before they actually\napply because of these conditions.\n\n529\n00:27:51.200 --> 00:27:53.810\nAnd so you may wanna force a log off,\nseeing what happens,\n\n530\n00:27:53.810 --> 00:27:57.730\nyou may wanna force a restart to see what\nhappens to the computer as you shut down.\n\n531\n00:27:57.730 --> 00:28:01.830\nSo this tool can do those things and it's\nimportant just to be aware of the fact\n\n532\n00:28:01.830 --> 00:28:04.360\nthat it could be used to\nachieve those end results.\n\n533\n00:28:04.360 --> 00:28:07.630\nLog off boot sync as you can see, so\n\n534\n00:28:07.630 --> 00:28:10.400\nwe have different options,\ndon't under sell, in other words,\n\n535\n00:28:10.400 --> 00:28:13.960\nthe gpupdate tool, just relegate\nit to the use of the force switch.\n\n536\n00:28:13.960 --> 00:28:17.310\nAnd it's a brute force tool in\nthat respect, no pun intended,\n\n537\n00:28:17.310 --> 00:28:21.210\nbut it does get the job done but there's\na lot more richness and subtlety there.\n\n538\n00:28:21.210 --> 00:28:22.930\nAnd we tend to ask about, test on,\n\n539\n00:28:22.930 --> 00:28:27.010\nand expect you to know the richness and\nsubtlety around some of these tools so\n\n540\n00:28:27.010 --> 00:28:30.838\nit is important for you to take a look at\njust so you understand that there may be\n\n541\n00:28:30.838 --> 00:28:34.040\nmore functionality there,\nwhich is why I'm just calling that out.\n\n542\n00:28:34.040 --> 00:28:38.190\nBecause you may not simply be asked about\ngpupdate force, you may get asked about\n\n543\n00:28:38.190 --> 00:28:43.300\nsomething like gpupdate log off, or\ngpupdate sync, or gpupdate wait with\n\n544\n00:28:43.300 --> 00:28:47.140\na value and how do you specify that, is\nthat seconds, minutes, how does that work?\n\n545\n00:28:47.140 --> 00:28:49.781\nReading that help file will tell you\nthat and help you to understand that, so\n\n546\n00:28:49.781 --> 00:28:52.040\nit is important just to\ntake a look at that.\n\n547\n00:28:52.040 --> 00:28:55.010\n&gt;&gt; All right, Adam, we are out of time for\nthis particular episode, but\n\n548\n00:28:55.010 --> 00:28:57.820\nwe have several different topics\nthat we still have yet to cover, so\n\n549\n00:28:57.820 --> 00:28:59.870\nladies and gentlemen, don't go anywhere.\n\n550\n00:28:59.870 --> 00:29:04.160\nBut for this show we'll ahead and sign\nout, I've been your host, Cherokee Boose.\n\n551\n00:29:04.160 --> 00:29:05.681\n&gt;&gt; Who am I?\nThat means I'm Adam Gordon today,\n\n552\n00:29:05.681 --> 00:29:06.198\nthat's me.\n\n553\n00:29:06.198 --> 00:29:11.182\n&gt;&gt; All right,\nsee you next time here at ITProTV, bye.\n\n554\n00:29:11.182 --> 00:29:17.212\n[MUSIC]\n\n555\n00:29:17.212 --> 00:29:20.468\nThank you for watching ITProTV.\n\n",
          "vimeoId": "231536081"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing group policy. Adam demonstrates a new status feature located within GPMC. A demonstration of the Default Domain Policy and Default Domain Controllers Policy is shown as well as locating GPO's. Additional topics such as Security and WMI filtering is also touched upon.",
          "length": "2070",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-4-implementing_group_policy_pt4-082817.00_34_15_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-4-implementing_group_policy_pt4-082817.00_34_15_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-4-implementing_group_policy_pt4-082817.00_34_15_19.Still001-sm.jpg",
          "title": "Implementing Group Policy Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:06.571\nWelcome to ITProTV,\nI'm you host Don [CROSSTALK]\n\n2\n00:00:06.571 --> 00:00:08.195\n[MUSIC]\n\n3\n00:00:08.195 --> 00:00:11.977\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.977 --> 00:00:16.073\n&gt;&gt; Welcome back to your Identity\nwith Windows Server 2016 series.\n\n5\n00:00:16.073 --> 00:00:18.422\nI'm your show host Cherokee Boose.\n\n6\n00:00:18.422 --> 00:00:21.920\nIn this episode, we'll continue\ntaking a look at group policy and\n\n7\n00:00:21.920 --> 00:00:25.612\nback with us today in studios,\nwe have Microsoft expert Adam Gordon.\n\n8\n00:00:25.612 --> 00:00:26.913\nHow it's going Adam?\n\n9\n00:00:26.913 --> 00:00:29.430\n&gt;&gt; Good, good, hopefully going\nwell with everybody out there.\n\n10\n00:00:29.430 --> 00:00:30.150\nWhat are we gonna do?\n\n11\n00:00:30.150 --> 00:00:31.028\nTell me, what should we do?\n\n12\n00:00:31.028 --> 00:00:32.332\n[CROSSTALK] I'm gonna leave it up to you.\n\n13\n00:00:32.332 --> 00:00:34.768\n&gt;&gt; Well, Adam, we've covered a lot so\nfar in group policy.\n\n14\n00:00:34.768 --> 00:00:38.317\nIn the last episode you showed us\nwhere to look in the registry for\n\n15\n00:00:38.317 --> 00:00:39.972\nthose particular settings.\n\n16\n00:00:39.972 --> 00:00:41.800\n&gt;&gt; I did, that was awesome.\n\n17\n00:00:41.800 --> 00:00:43.200\nWe should do that again some time.\n\n18\n00:00:43.200 --> 00:00:44.580\nMaybe in another episode.\n\n19\n00:00:44.580 --> 00:00:45.982\nNot now, cuz we did that already.\n\n20\n00:00:45.982 --> 00:00:48.320\nSo what else should we do?\n\n21\n00:00:48.320 --> 00:00:51.313\n&gt;&gt; We talked about the different\ntypes of intervals in the last show.\n\n22\n00:00:51.313 --> 00:00:52.601\nAre we gonna pick back up there or\n\n23\n00:00:52.601 --> 00:00:54.861\nis there some other little\nsurprise you've got for us?\n\n24\n00:00:54.861 --> 00:00:57.320\n&gt;&gt; No, no, I'm gonna make you come\nup with something else besides that.\n\n25\n00:00:57.320 --> 00:00:59.350\n&gt;&gt; [LAUGH]\n&gt;&gt; So, I'm thinking we should do something\n\n26\n00:00:59.350 --> 00:01:00.775\ndifferent maybe-\n&gt;&gt; I'm looking at my notes here.\n\n27\n00:01:00.775 --> 00:01:02.602\n&gt;&gt; I was gonna say,\nbecause we talked about this.\n\n28\n00:01:02.602 --> 00:01:03.579\n&gt;&gt; [LAUGH]\n&gt;&gt; You didn't tell me what you\n\n29\n00:01:03.579 --> 00:01:04.190\nwere gonna pick.\n\n30\n00:01:04.190 --> 00:01:05.800\nSo I'm just gonna keep going.\n\n31\n00:01:05.800 --> 00:01:08.560\nSo I'm thinking, Cherokee and I talked\nbefore we came on for this episode.\n\n32\n00:01:08.560 --> 00:01:10.040\nWe said hey, what are we gonna do?\n\n33\n00:01:10.040 --> 00:01:10.840\nWhat are we gonna talk about?\n\n34\n00:01:10.840 --> 00:01:12.146\nWhere will we pick up?\n\n35\n00:01:12.146 --> 00:01:14.700\nWe did all this great stuff so\nfar, what's left?\n\n36\n00:01:14.700 --> 00:01:18.350\nAnd I thought the best place to jump back\nin, we actually didn't get a chance to do\n\n37\n00:01:18.350 --> 00:01:22.290\nit last time, was kind of right at the top\nof the list of things we wanna cover.\n\n38\n00:01:22.290 --> 00:01:25.565\nIs to step back and\nlook again at some of the interface items.\n\n39\n00:01:25.565 --> 00:01:27.870\nBut really start at the top\nthere with the domain.\n\n40\n00:01:27.870 --> 00:01:31.270\nAnd look at practicelabs.com,\nin this case our domain marker, and\n\n41\n00:01:31.270 --> 00:01:33.960\nlook at how we can tell where\nthe policies have been replicated.\n\n42\n00:01:33.960 --> 00:01:37.280\nBecause one of the things we've been\ntalking about, kind of up 'til now and\n\n43\n00:01:37.280 --> 00:01:41.475\nwill continue in this theme with our\ndemo is we're on the domain controller.\n\n44\n00:01:41.475 --> 00:01:43.305\nWe're looking at policy.\n\n45\n00:01:43.305 --> 00:01:46.255\nWe've been in the GPMC,\nGroup Policy Management Console,\n\n46\n00:01:46.255 --> 00:01:48.445\nthe editor that we've been talking about.\n\n47\n00:01:48.445 --> 00:01:51.235\nWe've looked at a bunch of different\noptions and things, as you said,\n\n48\n00:01:51.235 --> 00:01:52.890\nwe looked at registry settings.\n\n49\n00:01:52.890 --> 00:01:56.880\nWhere are the policy client\nside extensions gonna be found?\n\n50\n00:01:56.880 --> 00:01:59.220\nWe have talked about where\npolicies are stored.\n\n51\n00:01:59.220 --> 00:02:02.640\nWe'll show you on the domain controller\nin the sysfile directory where they are,\n\n52\n00:02:02.640 --> 00:02:04.810\nunique identifiers for\nthem, how to see them.\n\n53\n00:02:04.810 --> 00:02:08.100\nGonna look at a bunch of cool stuff but we\nhaven't really talked about the fact that\n\n54\n00:02:08.100 --> 00:02:11.160\npolicy is a domain level thought process.\n\n55\n00:02:11.160 --> 00:02:14.900\nWhen we work with it at the domain\ncontroller level, we have to replicate,\n\n56\n00:02:14.900 --> 00:02:17.410\ncopy these policies to\nmake them available,\n\n57\n00:02:17.410 --> 00:02:19.600\nspread them around to all the other\ndomain controllers, right?\n\n58\n00:02:19.600 --> 00:02:20.840\nWe've talked about this in other areas.\n\n59\n00:02:20.840 --> 00:02:24.534\nWe've talked extensively about this in\nprior conversations with regards to\n\n60\n00:02:24.534 --> 00:02:25.570\nthe global catalog.\n\n61\n00:02:25.570 --> 00:02:30.194\nThe function of the global catalog\nserver role being specified as having\n\n62\n00:02:30.194 --> 00:02:34.738\na workable copy, a subset but a copy\nof all the information in the schema\n\n63\n00:02:34.738 --> 00:02:38.855\nthat's used to authenticate and\nto validate objects.\n\n64\n00:02:38.855 --> 00:02:42.906\nCopy of that being replicated to every\ndomain controller because only a DC,\n\n65\n00:02:42.906 --> 00:02:47.036\nonly a domain controller machine can\nhold the global catalog designations.\n\n66\n00:02:47.036 --> 00:02:48.435\nWe've talked about that.\n\n67\n00:02:48.435 --> 00:02:51.715\nWe've talked about the role of\nreplication, mentioned the KCC,\n\n68\n00:02:51.715 --> 00:02:53.760\nthe Knowledge Consistency Checker.\n\n69\n00:02:53.760 --> 00:02:58.190\nThe ITSG or ISTG, I always get that wrong,\nintersite topology generator.\n\n70\n00:02:58.190 --> 00:03:01.820\nWe've talked about the role of sites,\ntalked about controller replication.\n\n71\n00:03:01.820 --> 00:03:03.540\nWe had these conversations early on.\n\n72\n00:03:03.540 --> 00:03:07.077\nI encourage you to go back and look at\nsome of them if you don't remember, but\n\n73\n00:03:07.077 --> 00:03:10.031\nwe even talked about DNS, right,\nstructure integrated D N S.\n\n74\n00:03:10.031 --> 00:03:12.428\n&gt;&gt; Mm-hm.\n&gt;&gt; The idea of putting DNS information,\n\n75\n00:03:12.428 --> 00:03:16.376\nSRV records, onto all of our domain\ncontrollers to make them available,\n\n76\n00:03:16.376 --> 00:03:19.190\nto secure them and\nto make them survivable, right?\n\n77\n00:03:19.190 --> 00:03:22.670\nWe're thinking about high availability,\nwe're thinking about load balancing,\n\n78\n00:03:22.670 --> 00:03:24.590\nall these things that\ncome from replication.\n\n79\n00:03:24.590 --> 00:03:29.296\nSo, we have the same thought process with\nregards to the group policies because we\n\n80\n00:03:29.296 --> 00:03:31.012\nhave to make them available.\n\n81\n00:03:31.012 --> 00:03:34.701\nWe don't just create them in one domain\ncontroller and then assume that all of\n\n82\n00:03:34.701 --> 00:03:38.630\nthe communication around group policies\ntakes place only with that one machine.\n\n83\n00:03:38.630 --> 00:03:42.000\nIf we did, we've been talking\nthe issues associated with too many\n\n84\n00:03:42.000 --> 00:03:45.370\npeople showing up all at once\ndemanding updates and offsets, right?\n\n85\n00:03:45.370 --> 00:03:48.140\nAnd the refresh interval, went through\nall of that in the last episode.\n\n86\n00:03:48.140 --> 00:03:49.940\nThis is one of those coping mechanisms.\n\n87\n00:03:49.940 --> 00:03:53.050\nSo I'm gonna vote for\nthe fact we should start here.\n\n88\n00:03:53.050 --> 00:03:53.840\nThat's what I'm gonna vote for.\n\n89\n00:03:53.840 --> 00:03:55.191\nYou can put something else up if you like.\n\n90\n00:03:55.191 --> 00:03:56.729\n&gt;&gt; [LAUGH] I'm not going to veto you here,\nAdam.\n\n91\n00:03:56.729 --> 00:03:57.419\n&gt;&gt; You're not going to what?\n\n92\n00:03:57.419 --> 00:03:58.231\n&gt;&gt; I'm not gonna veto you.\n\n93\n00:03:58.231 --> 00:04:00.990\nWe're gonna, we'll keep on-\n&gt;&gt; Cuz you know, if you said no,\n\n94\n00:04:00.990 --> 00:04:02.453\nI would do something else.\n\n95\n00:04:02.453 --> 00:04:03.507\nI've got an alternate plan prepared.\n\n96\n00:04:03.507 --> 00:04:05.736\n&gt;&gt; We've still got a little-\n&gt;&gt; We do,\n\n97\n00:04:05.736 --> 00:04:07.013\nwe have a lot of stuff to talk about.\n\n98\n00:04:07.013 --> 00:04:09.140\nBut you're gonna let me do this one.\n\n99\n00:04:09.140 --> 00:04:10.863\nYou are just awesome.\n\n100\n00:04:10.863 --> 00:04:12.840\nShe is such a cool person.\n\n101\n00:04:12.840 --> 00:04:13.520\nLet's take a look.\n\n102\n00:04:13.520 --> 00:04:14.390\nJoin me over here.\n\n103\n00:04:14.390 --> 00:04:16.110\nWe're gonna talk about\nreplication a little bit.\n\n104\n00:04:16.110 --> 00:04:18.400\nIf you would, please show my machine and\n\n105\n00:04:18.400 --> 00:04:22.100\nlet us take a look at how we tell whether\nor not policies have been replicated.\n\n106\n00:04:22.100 --> 00:04:26.450\nAs I mentioned, I'm in the GPMC and we're\nat the practicelabs.com domain identifier,\n\n107\n00:04:26.450 --> 00:04:27.960\nyou can see it over there on the left.\n\n108\n00:04:27.960 --> 00:04:29.916\nJust highlighted here up under the domain.\n\n109\n00:04:29.916 --> 00:04:32.406\nAnd what I've done is I've\ngone to the Status tab, and\n\n110\n00:04:32.406 --> 00:04:34.640\nthis is something you\ncould see new in 2016.\n\n111\n00:04:34.640 --> 00:04:37.036\nSee the Status tab,\ncheck on this information,\n\n112\n00:04:37.036 --> 00:04:39.700\ncan view the replication\nstatus by coming here.\n\n113\n00:04:39.700 --> 00:04:41.630\nAnd so I go to my Status tab, and\n\n114\n00:04:41.630 --> 00:04:46.830\nit says, this page shows status of AD and\nsysfile replications in DFSR.\n\n115\n00:04:46.830 --> 00:04:50.553\nSo the DFS,\nthe Distributed File System replication.\n\n116\n00:04:50.553 --> 00:04:53.360\nThis is what we default\nto now in the newer OSs.\n\n117\n00:04:53.360 --> 00:04:56.865\nWe used to use older replication,\nfile system replication.\n\n118\n00:04:56.865 --> 00:04:58.200\nWe no longer use that.\n\n119\n00:04:58.200 --> 00:05:02.055\nSo now we are dealing with DFSR\nreplication for the domains or\n\n120\n00:05:02.055 --> 00:05:06.679\nto the domain as it relates to global\npolicy, group policy, excuse me.\n\n121\n00:05:06.679 --> 00:05:10.464\nAnd it says status details here,\nyou'll see plabdc1.practicelabs.com is\n\n122\n00:05:10.464 --> 00:05:13.095\nthe baseline domain controller for\nthis domain.\n\n123\n00:05:13.095 --> 00:05:17.435\nI could change the domain controller that\nessentially controls the group policy.\n\n124\n00:05:17.435 --> 00:05:19.832\nThis is almost like a FSMO\nrole designation, right,\n\n125\n00:05:19.832 --> 00:05:22.617\nwhere we specify the role will\nbe linked to a certain machine.\n\n126\n00:05:22.617 --> 00:05:26.650\nRemember our FSMO conversations,\nflexible single operation masters.\n\n127\n00:05:26.650 --> 00:05:29.237\nI haven't talked about the whole FSOM\nversus FSMO thing where you just-\n\n128\n00:05:29.237 --> 00:05:30.410\n&gt;&gt; [LAUGH]\n\n129\n00:05:30.410 --> 00:05:30.960\n&gt;&gt; You know, the acronym\n\n130\n00:05:30.960 --> 00:05:35.320\nperhaps not accurately describing right\nwhat the FSMO actually represents.\n\n131\n00:05:35.320 --> 00:05:40.040\nF-S-M-O, flexible single master of\noperations is what it should be,\n\n132\n00:05:40.040 --> 00:05:40.900\naccording to the acronym.\n\n133\n00:05:40.900 --> 00:05:43.380\nBut it is flexible single\noperation masters.\n\n134\n00:05:43.380 --> 00:05:46.298\nI was the one who voted for FSOM when\nthey asked but they overrode me and\n\n135\n00:05:46.298 --> 00:05:47.798\nchose to go with FS-\n&gt;&gt; [LAUGH]\n\n136\n00:05:47.798 --> 00:05:49.520\n&gt;&gt; MO as an acronym instead.\n\n137\n00:05:49.520 --> 00:05:50.910\nNobody pays attention to me.\n\n138\n00:05:50.910 --> 00:05:53.860\nBut anyway, it's the same idea.\n\n139\n00:05:53.860 --> 00:05:57.650\nHere we can see that we can, and this is\none of the things you wanna look at in\n\n140\n00:05:57.650 --> 00:06:00.540\nthe interface,\nthis little circles with an arrow.\n\n141\n00:06:00.540 --> 00:06:02.810\nIt's usually pointing when\nyou don't click on it.\n\n142\n00:06:02.810 --> 00:06:04.250\nJust put it back so you can see it.\n\n143\n00:06:04.250 --> 00:06:05.510\nIt's pointing to the right.\n\n144\n00:06:05.510 --> 00:06:06.480\nIt's what we call a caret.\n\n145\n00:06:06.480 --> 00:06:07.430\nYou can pull that down.\n\n146\n00:06:07.430 --> 00:06:10.990\nAnd there is typically information\nto be found under there.\n\n147\n00:06:10.990 --> 00:06:13.360\nIn this case,\nthe site name which we can see.\n\n148\n00:06:13.360 --> 00:06:16.470\nI showed you how to add the sites\ninto your GPMC in one of the earlier\n\n149\n00:06:16.470 --> 00:06:19.160\nconversations we had,\npointing to it on the left there.\n\n150\n00:06:19.160 --> 00:06:22.450\nThe sites area, right click,\nshow the site or sites.\n\n151\n00:06:22.450 --> 00:06:24.700\nAnd it shows you what site\nthis is associated with.\n\n152\n00:06:24.700 --> 00:06:29.200\nThe IP address, notice by the way,\nIP address in IPv6, not IPv4.\n\n153\n00:06:29.200 --> 00:06:33.590\nAnd GPOs, right, data is uncollected,\nmeaning we have not replicated anything.\n\n154\n00:06:33.590 --> 00:06:34.800\nWe haven't looked at anything.\n\n155\n00:06:34.800 --> 00:06:37.716\nThat means it's on this one domain\ncontroller in the site but we have not\n\n156\n00:06:37.716 --> 00:06:40.596\ndone anything with the replication yet,\nbut we can at least see that.\n\n157\n00:06:40.596 --> 00:06:42.880\nI have the opportunity to change that.\n\n158\n00:06:42.880 --> 00:06:46.920\nIf I choose to change, I would have to\nhave another domain controller available.\n\n159\n00:06:46.920 --> 00:06:51.330\nNotice when I click for\nSelect New Baseline DC, or to change,\n\n160\n00:06:51.330 --> 00:06:54.370\nwhich is the wizard window\nthat I get that comes up.\n\n161\n00:06:54.370 --> 00:06:55.860\nNotice, I don't have an option,\n\n162\n00:06:55.860 --> 00:06:58.640\ncuz in our test environment,\nI'm only using one domain controller.\n\n163\n00:06:58.640 --> 00:07:00.300\nI haven't created a secondary one.\n\n164\n00:07:00.300 --> 00:07:02.292\nBut in your environments you would see,\nmost likely,\n\n165\n00:07:02.292 --> 00:07:04.251\nall the domain controllers\nthat you have available.\n\n166\n00:07:04.251 --> 00:07:08.690\nAnd you could choose to simply move\nresponsibility for the management of,\n\n167\n00:07:08.690 --> 00:07:13.720\nownership of this group policy over to and\nassign it to another domain control.\n\n168\n00:07:13.720 --> 00:07:17.029\nAnd essentially specify that\nwill be the owner of record for\n\n169\n00:07:17.029 --> 00:07:18.493\nthis particular policy.\n\n170\n00:07:18.493 --> 00:07:20.990\nSo you get an idea of how to do that.\n\n171\n00:07:20.990 --> 00:07:23.850\nCan we go full screen cuz I'm\nsitting right above the button?\n\n172\n00:07:23.850 --> 00:07:26.702\nNotice right here,\nwe have a Detect Now button.\n\n173\n00:07:26.702 --> 00:07:29.520\nI'm circling around it just you\ncan see at the lower right and\n\n174\n00:07:29.520 --> 00:07:32.580\nit says here no infrastructure\nstatus information exists.\n\n175\n00:07:32.580 --> 00:07:35.160\nClick Detect Now to\ngather that information.\n\n176\n00:07:35.160 --> 00:07:38.400\nShow me the replication topology,\nexplain to me what's going on.\n\n177\n00:07:38.400 --> 00:07:41.440\nShow me the status,\ncircle green check, circle red x,\n\n178\n00:07:41.440 --> 00:07:42.950\nyou'll see those in a minute.\n\n179\n00:07:42.950 --> 00:07:43.804\nTell me what's going on.\n\n180\n00:07:43.804 --> 00:07:46.121\nWe're gonna do that, click Detect Now.\n\n181\n00:07:46.121 --> 00:07:51.068\nIt takes just a minute as you can see, and\nwe'll see either a green check, excuse me,\n\n182\n00:07:51.068 --> 00:07:55.568\na red exclamation point or a question\nmark will be there when we have nothing.\n\n183\n00:07:55.568 --> 00:07:57.284\nRed X when we have an error, and\n\n184\n00:07:57.284 --> 00:08:01.114\nyou'll see zero domain controllers\nwith replication in progress.\n\n185\n00:08:01.114 --> 00:08:04.442\nSo we have no replication\nin progress taking place.\n\n186\n00:08:04.442 --> 00:08:07.172\nZero domain controllers\nwith replication in sync,\n\n187\n00:08:07.172 --> 00:08:10.350\nmeaning we have not replicated\nthe policy out anywhere.\n\n188\n00:08:10.350 --> 00:08:13.330\nBut, we can check the status on all\nthis just by coming here and looking.\n\n189\n00:08:13.330 --> 00:08:16.398\nSo, we have this new\ninformation capabilities,\n\n190\n00:08:16.398 --> 00:08:19.764\nnew management capability we\ncan look to and use here.\n\n191\n00:08:19.764 --> 00:08:20.700\nKinda nice, right?\n\n192\n00:08:20.700 --> 00:08:25.230\nBefore we would have to go in, we'd have\nto check the replication of the SYSVOL,\n\n193\n00:08:25.230 --> 00:08:27.340\nthe NTDS partitions, etc.\n\n194\n00:08:27.340 --> 00:08:31.690\nBy looking at the replication manager,\nreplmon or whatever it may be.\n\n195\n00:08:31.690 --> 00:08:34.394\nAnd policies would be replicated\nperhaps as part of that, but\n\n196\n00:08:34.394 --> 00:08:37.463\nwe'd have to go drill down,\nwe couldn't see it directly in the gpmc.\n\n197\n00:08:37.463 --> 00:08:40.230\nNow we have this capability and\nwe're able to go in and see this.\n\n198\n00:08:40.230 --> 00:08:43.970\nSo this part is actually nice,\nkind of a new feature if you will,\n\n199\n00:08:43.970 --> 00:08:47.388\nnew opportunity for us to extract\nsome additional information here.\n\n200\n00:08:47.388 --> 00:08:50.250\nWe've talked it in a couple of our\nprior conversations up until now about\n\n201\n00:08:50.250 --> 00:08:53.280\nthe different default policies\nthat exist out of the box.\n\n202\n00:08:53.280 --> 00:08:56.240\nI'm pointing to one right there,\nyou've heard me talk about it.\n\n203\n00:08:56.240 --> 00:08:59.920\nThe reasons why we have it, what we do\nwith it, the default domain policy.\n\n204\n00:08:59.920 --> 00:09:02.520\nYou've heard me mention that\nthis is where security settings,\n\n205\n00:09:02.520 --> 00:09:05.850\ntraditionally from Microsoft's\nperspective are supposed to be set.\n\n206\n00:09:05.850 --> 00:09:07.250\nAnd indeed they are, and\n\n207\n00:09:07.250 --> 00:09:11.110\nour recommendation about using it\npretty much exclusively for that.\n\n208\n00:09:11.110 --> 00:09:14.750\nI told you that certainly,\nyou can decide on your own to go out and\n\n209\n00:09:14.750 --> 00:09:17.390\napply settings through\nthat policy separately.\n\n210\n00:09:17.390 --> 00:09:22.950\nThey will apply to all of the members\nthat are connecting to the domain and\n\n211\n00:09:22.950 --> 00:09:24.910\nauthenticating and gathering this policy.\n\n212\n00:09:24.910 --> 00:09:28.990\nBut as we said, you may not wanna\nstart messing with that policy.\n\n213\n00:09:28.990 --> 00:09:32.430\nI explained the reasons, the pros and\ncons, the good and bad about that.\n\n214\n00:09:32.430 --> 00:09:36.405\nBut remember, keep in mind that this is\nwhere traditionally we would recommend,\n\n215\n00:09:36.405 --> 00:09:40.915\nand indeed, we specify that security\nsettings will be handled specifically.\n\n216\n00:09:40.915 --> 00:09:44.645\nSecurity settings dealing with logon and\ndealing with password policies, for\n\n217\n00:09:44.645 --> 00:09:45.715\nthe most part.\n\n218\n00:09:45.715 --> 00:09:49.912\nWhat I'm saying is, and I wanna be clear,\nthat other security settings such\n\n219\n00:09:49.912 --> 00:09:54.715\nas auditing, which is a security setting,\na subset of security, is not handled here.\n\n220\n00:09:54.715 --> 00:09:58.160\nWe're excluding that, we see that\nas being the traditional function\n\n221\n00:09:58.160 --> 00:10:02.990\nof the other default policy that exists,\nthe Default Domain Controllers Policy,\n\n222\n00:10:02.990 --> 00:10:05.760\nwhich you'll see right here\nunder Domain Controllers OU.\n\n223\n00:10:05.760 --> 00:10:10.660\nThat is where we recommend, Microsoft\ntells you that you should be setting your\n\n224\n00:10:10.660 --> 00:10:15.000\nauditing policy at the domain controller\non the Domain Controllers OU,\n\n225\n00:10:15.000 --> 00:10:16.870\ndomain controllers, most likely.\n\n226\n00:10:16.870 --> 00:10:18.760\nBecause that is where\nauditing should take place,\n\n227\n00:10:18.760 --> 00:10:21.650\nbecause that is where\nauthentication happens.\n\n228\n00:10:21.650 --> 00:10:24.252\nAnd we wanna be applied\nat point of contact.\n\n229\n00:10:24.252 --> 00:10:25.431\nAnd so we do segment and\n\n230\n00:10:25.431 --> 00:10:29.040\ndifferentiate functionality between\nthese two default policies.\n\n231\n00:10:29.040 --> 00:10:32.860\nIt's important to know what the\nexpectations are for those two policies.\n\n232\n00:10:32.860 --> 00:10:35.690\nImportant to understand what they're\nused for and important to make sure we\n\n233\n00:10:35.690 --> 00:10:38.726\nunderstand the dos and\ndon'ts as we've talked through before.\n\n234\n00:10:38.726 --> 00:10:42.140\nCouple for our prior episodes\nabout the minefield you get into\n\n235\n00:10:42.140 --> 00:10:46.580\nwhen you start modifying those two\npolicies and get out beyond the guidance.\n\n236\n00:10:46.580 --> 00:10:49.320\nWe're not saying you can't do it,\njust to be clear,\n\n237\n00:10:49.320 --> 00:10:53.510\nyou certainly have an option to but\nhaving said that, not recommended.\n\n238\n00:10:53.510 --> 00:10:57.130\nWhat that means for you in the exam world,\ndon't do it, right?\n\n239\n00:10:57.130 --> 00:11:00.370\nNot prudent as President Bush used to say,\nand\n\n240\n00:11:00.370 --> 00:11:03.620\nalso keep in mind with\nregards to the real world.\n\n241\n00:11:03.620 --> 00:11:07.670\nWhile I said there may be reasons\nwhy you would seek to make a change\n\n242\n00:11:07.670 --> 00:11:11.410\nin one of these two policies to\nalign with regulatory, statutory\n\n243\n00:11:11.410 --> 00:11:15.520\ncompliance requirements, to ensure\ncertain things are done a certain way.\n\n244\n00:11:15.520 --> 00:11:17.480\nThere's always an alternate\nway of doing that.\n\n245\n00:11:17.480 --> 00:11:19.570\nYou could create another policy and\n\n246\n00:11:19.570 --> 00:11:24.230\nlink it to the OUs in question, which is\nthe preferred method more often than not.\n\n247\n00:11:24.230 --> 00:11:25.770\nSo just keep that in mind.\n\n248\n00:11:25.770 --> 00:11:29.620\nNot saying you shouldn't look into the\nopportunity to modify those policies if\n\n249\n00:11:29.620 --> 00:11:33.970\nnecessary, but do so in a cautionary way,\nunderstanding the full impact,\n\n250\n00:11:33.970 --> 00:11:38.150\nas we have talked about and\nwe have said could be problematic for you.\n\n251\n00:11:38.150 --> 00:11:42.070\nUnderstand the full impact of the choices\nyou make there, just to keep that in mind.\n\n252\n00:11:42.070 --> 00:11:43.782\nLet's talk about where we find our GPOs,\nright.\n\n253\n00:11:43.782 --> 00:11:47.166\nWe were talking about the fact we can go\nin, Cherokee and I in the last episode,\n\n254\n00:11:47.166 --> 00:11:49.240\nwe showed you the client side extensions.\n\n255\n00:11:49.240 --> 00:11:51.860\nWhere they exist in\nthe registry of the machine.\n\n256\n00:11:51.860 --> 00:11:53.790\nI didn't get around to showing\nyou where policies are stored on\n\n257\n00:11:53.790 --> 00:11:55.630\nthe domain controller,\nbut I referenced it.\n\n258\n00:11:55.630 --> 00:11:59.480\nI said they're in the Sysvol container,\nwhich is C:\\Windows\\Sysvol.\n\n259\n00:11:59.480 --> 00:12:03.710\nThere's a domain container, subcontainer,\nsubfolder and then a policy subcontainer,\n\n260\n00:12:03.710 --> 00:12:04.460\nsubfolder there.\n\n261\n00:12:04.460 --> 00:12:08.212\nAnd so we go in C:\\Windows\\Sysvol\ndomain and then policies.\n\n262\n00:12:08.212 --> 00:12:11.280\nAnd then we have our policies listed\nby GUID, by unique identifier.\n\n263\n00:12:11.280 --> 00:12:14.764\nYou have to obviously figure out which\none is which with only two defaults,\n\n264\n00:12:14.764 --> 00:12:16.654\npretty straightforward to figure out.\n\n265\n00:12:16.654 --> 00:12:20.520\nAs you create more, you could track\nthem back to the creation ID and\n\n266\n00:12:20.520 --> 00:12:24.195\nthe timestamp for them in the GPMC and\nkind of see what they are.\n\n267\n00:12:24.195 --> 00:12:27.190\nBut let's take a look at what I'm\ntalking about if you join me back here.\n\n268\n00:12:27.190 --> 00:12:32.180\nLet's go in down here,\nlet me just bring this up, whoops had it.\n\n269\n00:12:32.180 --> 00:12:34.350\nYou never know when you click,\nsometimes it works and I click and\n\n270\n00:12:34.350 --> 00:12:35.266\nI wait and nothing happens.\n\n271\n00:12:35.266 --> 00:12:37.600\nI click twice, click twice,\nthinking nothing was gonna happen and\n\n272\n00:12:37.600 --> 00:12:39.310\nsure enough it actually worked\nthe right way this time.\n\n273\n00:12:39.310 --> 00:12:41.366\n&gt;&gt; Well if they ever have like a video\ngame with this kind of interface I\n\n274\n00:12:41.366 --> 00:12:44.970\nthink you would-\n&gt;&gt; I would suck and be the loser.\n\n275\n00:12:44.970 --> 00:12:49.140\nI would be the ultimate champ of nothing\nbecause it would never work for me.\n\n276\n00:12:49.140 --> 00:12:50.540\nAll right, so what do we see here?\n\n277\n00:12:50.540 --> 00:12:52.190\nGo full screen for me just a second.\n\n278\n00:12:52.190 --> 00:12:53.360\nLet's just check that path out.\n\n279\n00:12:53.360 --> 00:12:58.030\nYou'll see C:\\Windows\\Domain\\Policies\nlike I suggested.\n\n280\n00:12:58.030 --> 00:12:59.370\nI'm on the domain controller.\n\n281\n00:12:59.370 --> 00:13:01.148\nI'm just looking at it locally.\n\n282\n00:13:01.148 --> 00:13:04.759\nAnd you'll notice,\nin this case I have four folders,\n\n283\n00:13:04.759 --> 00:13:08.528\neach with a unique identifying\nGUID string because I have\n\n284\n00:13:08.528 --> 00:13:12.551\ngenerated a couple of policies\naside from the two defaults.\n\n285\n00:13:12.551 --> 00:13:15.321\nAnd we can tell,\nbased on date modification,\n\n286\n00:13:15.321 --> 00:13:19.227\nlet me just sort here based on date\nmodification that you can see,\n\n287\n00:13:19.227 --> 00:13:24.059\n28/08/2017, these are ones that were\ncreated in the last few minutes\n\n288\n00:13:24.059 --> 00:13:27.279\nright before we got on for\nthis episode to do the demo.\n\n289\n00:13:27.279 --> 00:13:31.546\nYou could see the timestamp there, and you\ncould see the two that are the defaults\n\n290\n00:13:31.546 --> 00:13:34.230\nthat we start out with, 25/11/2016.\n\n291\n00:13:34.230 --> 00:13:38.710\nThis is my default domain and/or\ndomain controller's OU policy.\n\n292\n00:13:38.710 --> 00:13:41.360\nWe'd have to figure out which is\nwhich by going and looking, but\n\n293\n00:13:41.360 --> 00:13:45.120\nwe can see that those are our two and\nthose are the two we start out with.\n\n294\n00:13:45.120 --> 00:13:48.880\nSo we see any and all the policies\nwe create being represented here.\n\n295\n00:13:48.880 --> 00:13:51.280\nNow, we have four policies overall.\n\n296\n00:13:52.660 --> 00:13:56.155\nI can see here when I go and\nI look at my Group Policy\n\n297\n00:13:56.155 --> 00:14:00.776\nobjects container in the GPMC,\nI do indeed have four policies.\n\n298\n00:14:00.776 --> 00:14:02.260\nThe two that are the standard.\n\n299\n00:14:02.260 --> 00:14:03.860\nI've created one called loopback.\n\n300\n00:14:03.860 --> 00:14:06.180\nI've created one called Windows 8 demo.\n\n301\n00:14:06.180 --> 00:14:08.010\nAnd so I could see that I\ndo indeed have four, and\n\n302\n00:14:08.010 --> 00:14:10.090\nI would have to now reference those.\n\n303\n00:14:10.090 --> 00:14:14.230\nNow, what I talked about was I\ncan highlight any one of these.\n\n304\n00:14:14.230 --> 00:14:17.160\nI can come here to details.\n\n305\n00:14:17.160 --> 00:14:20.538\nI can see the unique identifier,\n\n306\n00:14:20.538 --> 00:14:25.373\n8FAD whatever and I can go and\nI can track that.\n\n307\n00:14:25.373 --> 00:14:28.000\n8FAD, whatever, right?\n\n308\n00:14:28.000 --> 00:14:28.730\nThat one right there.\n\n309\n00:14:28.730 --> 00:14:29.960\nThat is the Windows 8 policy.\n\n310\n00:14:29.960 --> 00:14:32.040\nSo I can reference that and see it.\n\n311\n00:14:32.040 --> 00:14:35.050\nI could also drill in, look at the\nsettings and try to figure out what it is.\n\n312\n00:14:35.050 --> 00:14:38.750\nBut easily, just based on that GUID,\nthat unique identifier right there,\n\n313\n00:14:38.750 --> 00:14:42.348\nif I go to the policy itself,\ngo to the Details tab and\n\n314\n00:14:42.348 --> 00:14:46.362\nhighlight the policy in the GPMC, I see\nthat string and I can just track them, and\n\n315\n00:14:46.362 --> 00:14:49.450\nusually all I need is about\nthe first four or five digits.\n\n316\n00:14:49.450 --> 00:14:52.970\nBecause it's usually unique enough\nthat within those policies,\n\n317\n00:14:52.970 --> 00:14:56.130\nyou could tell almost immediately\nexactly which one will be there.\n\n318\n00:14:56.130 --> 00:14:58.640\nSo it's not hard to cross reference and\nfigure out.\n\n319\n00:14:58.640 --> 00:15:00.580\nSo we can certainly do that.\n\n320\n00:15:00.580 --> 00:15:03.688\nWhen we take a look,\nlet's just highlight one of these.\n\n321\n00:15:03.688 --> 00:15:06.243\nLet's just go in to to one of\nthe default built-in ones,\n\n322\n00:15:06.243 --> 00:15:09.660\nit will be the default domain or\nthe domain controllers policy.\n\n323\n00:15:09.660 --> 00:15:14.300\nI can see that there will\nbe in here a machine and\n\n324\n00:15:14.300 --> 00:15:19.010\na user subdirectory for settings unique\nto each side of the policy discussion.\n\n325\n00:15:19.010 --> 00:15:22.220\nA GPT, a configuration settings file.\n\n326\n00:15:22.220 --> 00:15:24.789\nUnderneath Machine, if I do have settings,\n\n327\n00:15:24.789 --> 00:15:27.967\nthis one I can see is gonna\nbe the default domain policy,\n\n328\n00:15:27.967 --> 00:15:32.378\ncuz it has a registry.pol file,\nwhich means that it's applying settings.\n\n329\n00:15:32.378 --> 00:15:35.090\nSo I can actually see\nwhat is going on there.\n\n330\n00:15:35.090 --> 00:15:41.790\nI have a Microsoft sub directory Windows\nNT, sec edit, GPT setup information.\n\n331\n00:15:41.790 --> 00:15:44.360\nSo I could see that it's giving\nme some template information and\n\n332\n00:15:44.360 --> 00:15:45.588\nsome settings information.\n\n333\n00:15:45.588 --> 00:15:51.130\nNow the regpal file, you can't open up,\nthe editor won't work for it.\n\n334\n00:15:51.130 --> 00:15:54.594\nIf you open it in Notepad, you get a bunch\nof garbage, it essentially looks like,\n\n335\n00:15:54.594 --> 00:15:57.777\nyou have a strange Wingding-like\ncharacter as you may have seen, right?\n\n336\n00:15:57.777 --> 00:16:00.948\nIt really doesn't show us\nanything that's valuable.\n\n337\n00:16:00.948 --> 00:16:05.012\nWe can certainly just take a look\nat it just so you can see it.\n\n338\n00:16:05.012 --> 00:16:07.606\nRight?\nBut when you open it up, you could see\n\n339\n00:16:07.606 --> 00:16:12.020\nthat there's really nothing that's\ngonna make any sense to us in there.\n\n340\n00:16:12.020 --> 00:16:15.680\nThis is a set of information items\nabout the registry manipulation,\n\n341\n00:16:15.680 --> 00:16:17.400\nof the registry applied settings.\n\n342\n00:16:17.400 --> 00:16:20.480\nAnd this is not going to\ngive us anything of value.\n\n343\n00:16:20.480 --> 00:16:23.010\nYou could see the path there, right?\n\n344\n00:16:23.010 --> 00:16:26.650\nThat we're looking at for some\ninformation for EFS and different things,\n\n345\n00:16:26.650 --> 00:16:28.760\nbut it has no bearing on what we're doing.\n\n346\n00:16:28.760 --> 00:16:31.350\nSo just so you understand,\nyou go poking around in there,\n\n347\n00:16:31.350 --> 00:16:34.200\nyou're unfortunately not\ngonna find much of value.\n\n348\n00:16:34.200 --> 00:16:36.620\nYou may find a folder that's empty.\n\n349\n00:16:36.620 --> 00:16:39.180\nThe empty folder means there's no\nsettings in that part of the policy.\n\n350\n00:16:39.180 --> 00:16:42.210\nIf there's nothing there it means\nwe manipulated machine part.\n\n351\n00:16:42.210 --> 00:16:44.270\nMachine is computer, right, in this case.\n\n352\n00:16:44.270 --> 00:16:46.370\nThe machine part, not the user part.\n\n353\n00:16:46.370 --> 00:16:50.220\nAnd we talked about being able to turn\noff processing on part of the policy if\n\n354\n00:16:50.220 --> 00:16:51.590\nwe wanna optimize that, right?\n\n355\n00:16:51.590 --> 00:16:55.370\nSo we have different things that\nare going on as we look at the policies.\n\n356\n00:16:55.370 --> 00:16:57.700\nSo you just wanna make sure\nyou're aware of that, all right?\n\n357\n00:16:57.700 --> 00:17:02.180\nWe can look at the GPT file if you\njust wanna see what it looks like.\n\n358\n00:17:02.180 --> 00:17:06.210\nThere's really nothing in there at all,\njust tells us what version of Group Policy\n\n359\n00:17:06.210 --> 00:17:09.770\nfrom a template and configuration\nperspective we're looking at.\n\n360\n00:17:09.770 --> 00:17:13.810\nAnd we can do the same thing by\nwalking through any of these areas.\n\n361\n00:17:13.810 --> 00:17:18.650\nYou could see essentially on the two\ndefault policies, they are the same.\n\n362\n00:17:18.650 --> 00:17:23.310\nThe GPTTMPL file if you wanna\ntake a look at that one just so\n\n363\n00:17:23.310 --> 00:17:26.120\nyou can see this one\ndoes have information,\n\n364\n00:17:26.120 --> 00:17:29.820\nit does tell us some information\nthat's readable, that we can see.\n\n365\n00:17:29.820 --> 00:17:35.050\nThere's certain identifiers in here for\nvarious things, right, that\n\n366\n00:17:35.050 --> 00:17:38.890\nmay be of interest to us if we're looking\nat security settings on the system.\n\n367\n00:17:38.890 --> 00:17:43.310\nBut again, not much that's really gonna\nbe of general value to us, right?\n\n368\n00:17:43.310 --> 00:17:46.890\nSo we can see this, and\nwe can certainly see\n\n369\n00:17:46.890 --> 00:17:50.200\nwhere the policies are stored just\nkind of going back up the chain.\n\n370\n00:17:50.200 --> 00:17:51.790\nSo we could see what's there.\n\n371\n00:17:51.790 --> 00:17:54.100\nWe do see that in the sys file directory.\n\n372\n00:17:54.100 --> 00:17:57.550\nSo I just wanted to show you\nwhere you'll find your GPO's,\n\n373\n00:17:57.550 --> 00:18:01.552\nwhere you can see them if you had to\ngo in and in some way work with them or\n\n374\n00:18:01.552 --> 00:18:03.900\nat least wanna know where they are.\n\n375\n00:18:03.900 --> 00:18:06.730\nWe talked about how to find them,\nwhere they would be located.\n\n376\n00:18:06.730 --> 00:18:10.350\nWe talked a little bit about replication,\nhow to find them there.\n\n377\n00:18:10.350 --> 00:18:13.260\nAnd of course,\nthe ability to work with them.\n\n378\n00:18:13.260 --> 00:18:17.110\nI've also mentioned starter GPOs, I think,\nin one of our prior conversations.\n\n379\n00:18:17.110 --> 00:18:18.200\nWe didn't actually create them.\n\n380\n00:18:18.200 --> 00:18:21.860\nSo I thought it would be good just to\ngo in and show you how that looks like,\n\n381\n00:18:21.860 --> 00:18:23.250\nwhat it looks like, how we do that.\n\n382\n00:18:23.250 --> 00:18:26.100\nIf you remember, I showed you when\nwe went through the quick overview,\n\n383\n00:18:26.100 --> 00:18:29.365\nhey, look there's a starter GPO folder,\nthere's nothing there.\n\n384\n00:18:29.365 --> 00:18:29.927\nClick on it.\n\n385\n00:18:29.927 --> 00:18:33.373\nI think incorrectly I said there'd\nbe 20 something, I think 27.\n\n386\n00:18:33.373 --> 00:18:36.424\nBut there's actually 10 that will\nbe created as starter GPO, and\n\n387\n00:18:36.424 --> 00:18:38.065\nthen you build from there.\n\n388\n00:18:38.065 --> 00:18:40.865\nYou could get up to 27, but\nyou would have to add other ones.\n\n389\n00:18:40.865 --> 00:18:43.455\nBut what we do is create\nstart a GPO folder.\n\n390\n00:18:43.455 --> 00:18:44.345\nSo let's just do that.\n\n391\n00:18:44.345 --> 00:18:50.145\nYou'll see once we do that here that\nyou'll have the opportunity to be able to\n\n392\n00:18:50.145 --> 00:18:55.610\ninteract with and work with\ndifferent policies that may exist.\n\n393\n00:18:55.610 --> 00:18:59.410\nDepending on the version of the OS we're\nworking with, you'll get different ones.\n\n394\n00:18:59.410 --> 00:19:03.620\nGroup policy reporting for\nfirewall ports, group policy removal, or\n\n395\n00:19:03.620 --> 00:19:07.510\ngroup policy remote update, rather,\nfor firewall, as you can see here.\n\n396\n00:19:07.510 --> 00:19:11.300\nAnd what we get is the ability\nto be able to go in and\n\n397\n00:19:11.300 --> 00:19:16.820\neither create a new GPO as a beginning\ntemplate which we can then go in and\n\n398\n00:19:16.820 --> 00:19:20.930\nuse as the seed value essentially\nto set the baseline for policies.\n\n399\n00:19:20.930 --> 00:19:23.680\nAnd then as we create our own policies,\nbuild on top of that.\n\n400\n00:19:23.680 --> 00:19:25.280\nSo think about the logic of this.\n\n401\n00:19:25.280 --> 00:19:30.620\nLet's say that maybe every policy I\nwant to create initially is going to\n\n402\n00:19:30.620 --> 00:19:31.980\nneed to have four or five settings.\n\n403\n00:19:31.980 --> 00:19:34.510\nI don't want to keep reproducing over and\nover again, right?\n\n404\n00:19:34.510 --> 00:19:36.560\nI just want to have them available.\n\n405\n00:19:36.560 --> 00:19:40.690\nSo, if I use the starter GPO to set\nthose policy settings which is more or\n\n406\n00:19:40.690 --> 00:19:43.330\nless what they're use for,\nI could then use that.\n\n407\n00:19:43.330 --> 00:19:44.600\nAnd so let's do the following.\n\n408\n00:19:44.600 --> 00:19:45.880\nJust to show you real quick.\n\n409\n00:19:45.880 --> 00:19:48.820\nLet's go in, create a new starter GPO.\n\n410\n00:19:48.820 --> 00:19:53.480\nLet's call this Paul Template 1.\n\n411\n00:19:53.480 --> 00:19:56.170\nDoesn't really matter what we call it,\nwe're just giving it a name just so\n\n412\n00:19:56.170 --> 00:19:58.360\nwe can actually see it there.\n\n413\n00:19:58.360 --> 00:19:59.750\nOkay, so we have that there.\n\n414\n00:19:59.750 --> 00:20:01.210\nLet's go in, right-click,\n\n415\n00:20:01.210 --> 00:20:04.100\nlet's treat it just like a normal\npolicy which is essentially what it is.\n\n416\n00:20:04.100 --> 00:20:05.610\nLet's just go edit it.\n\n417\n00:20:05.610 --> 00:20:09.110\nBut you'll notice when we edit it,\nwe have only certain options.\n\n418\n00:20:09.110 --> 00:20:12.710\nWe don't have the same set of\noptions we get with a full policy\n\n419\n00:20:12.710 --> 00:20:16.340\nwhere we have all the different areas\nwhere we have security settings and\n\n420\n00:20:16.340 --> 00:20:19.770\nwe have objects and things like that.\n\n421\n00:20:19.770 --> 00:20:22.640\nYou'll see here,\nwe do have computer and user, but\n\n422\n00:20:22.640 --> 00:20:26.620\nnotice the only item that we're actually\ngetting access to in both of those areas,\n\n423\n00:20:26.620 --> 00:20:30.850\nif I can pull this over,\nis administrative templates.\n\n424\n00:20:30.850 --> 00:20:32.070\nI give up, I can't pull that over.\n\n425\n00:20:32.070 --> 00:20:36.150\nAll right, so you'll see that\nwe have the ability to go in,\n\n426\n00:20:36.150 --> 00:20:40.147\nwe can go in here, let's say,\nmaybe go to Start Menu, and\n\n427\n00:20:40.147 --> 00:20:43.757\nlet's say pin to the apps,\nor pins apps to, right?\n\n428\n00:20:43.757 --> 00:20:45.490\nAnd we wanna go and enable this.\n\n429\n00:20:45.490 --> 00:20:50.140\nAnd we wanna specify that certain apps are\ngonna be pinned, let's say hypothetically,\n\n430\n00:20:50.140 --> 00:20:53.140\nto the Start Menu for\nevery policy as we start out, right?\n\n431\n00:20:53.140 --> 00:20:55.020\nSo we would set that there, right?\n\n432\n00:20:55.020 --> 00:20:57.650\nAnd maybe put that into the policy.\n\n433\n00:20:57.650 --> 00:21:01.640\nOr maybe we're gonna go in and\nmaybe we're going to turn\n\n434\n00:21:03.640 --> 00:21:07.940\noff the,\ndo not the display the lock screen, right?\n\n435\n00:21:07.940 --> 00:21:11.970\nJust hypothetically, let's say we want\nthat hard coded as our policy setting.\n\n436\n00:21:11.970 --> 00:21:15.610\nJust imagine whatever it may be, let's\njust pick one that's kinda innocuous,\n\n437\n00:21:15.610 --> 00:21:17.850\nthat we just don't really care about.\n\n438\n00:21:17.850 --> 00:21:21.390\nAll right, so we've got that,\nprevent changing Start Menu background.\n\n439\n00:21:21.390 --> 00:21:22.850\nLet's set that one as well.\n\n440\n00:21:22.850 --> 00:21:25.040\nJust pick a couple in this area, right?\n\n441\n00:21:25.040 --> 00:21:28.984\nSo we have that, and then up under\nComputer Configuration, right,\n\n442\n00:21:28.984 --> 00:21:31.097\nwe set those both to enable, right?\n\n443\n00:21:31.097 --> 00:21:34.682\nAnd let's pick one in Control Panel,\nlet's go in,\n\n444\n00:21:34.682 --> 00:21:38.980\nand under Control Panel\nlet's go to Personalization.\n\n445\n00:21:38.980 --> 00:21:42.090\nYou'll see these two\nrepresent themselves here.\n\n446\n00:21:42.090 --> 00:21:50.550\nLet's do also Prevent enabling\nlock screen camera, right?\n\n447\n00:21:50.550 --> 00:21:54.118\nSo again, let's just apply that one and\nclick OK, right?\n\n448\n00:21:54.118 --> 00:21:54.880\nApply, OK.\n\n449\n00:21:54.880 --> 00:21:57.100\nAll right, so we have three enabled.\n\n450\n00:21:57.100 --> 00:21:58.210\nWe'll be able to check those.\n\n451\n00:21:58.210 --> 00:22:00.720\nLet's close the editor.\n\n452\n00:22:00.720 --> 00:22:02.870\nAnd we that have starter GPL, right?\n\n453\n00:22:02.870 --> 00:22:09.540\nSo then, if I, let's say, come up here,\nor let's go to this one right-click.\n\n454\n00:22:09.540 --> 00:22:13.290\nAnd you'll see we can create a GPO,\nlink it here.\n\n455\n00:22:13.290 --> 00:22:16.090\nNotice source, starter GPO.\n\n456\n00:22:16.090 --> 00:22:20.460\nI can grab that and I can say okay, let's\nstart with that already pre-made, and\n\n457\n00:22:20.460 --> 00:22:24.030\nthen let me add my settings on top,\nhard-coding\n\n458\n00:22:24.030 --> 00:22:26.980\nthe things I want to have done so I don't\nhave to go back and do them every time.\n\n459\n00:22:26.980 --> 00:22:31.030\nInstead start with a generic template,\nwhich is what a normal policy is, it's\n\n460\n00:22:31.030 --> 00:22:35.110\njust all blank, no settings are enabled,\nand I have to reproduce those every time.\n\n461\n00:22:35.110 --> 00:22:37.320\nFor the two or three I made,\nright, not a big deal obviously.\n\n462\n00:22:37.320 --> 00:22:40.070\nIn the real world, you would hopefully\nhave more settings you want to do this\n\n463\n00:22:40.070 --> 00:22:43.230\nwith, and creating and\nstarter GPO would make a lot more sense.\n\n464\n00:22:43.230 --> 00:22:44.420\nBut we have that opportunity.\n\n465\n00:22:44.420 --> 00:22:49.540\nSo starter GPOs give us the ability,\nlet's just name this real quick.\n\n466\n00:22:49.540 --> 00:22:55.250\nWe'll call this Starter Test, right, so\nwe can differentiate, see what that is.\n\n467\n00:22:55.250 --> 00:22:56.570\nLet's Apply that.\n\n468\n00:22:56.570 --> 00:22:59.430\nLet's come up here to our\nGroup Policy Objects.\n\n469\n00:22:59.430 --> 00:23:01.730\nYou'll see Starter Test is there.\n\n470\n00:23:01.730 --> 00:23:02.490\nLet's right-click.\n\n471\n00:23:02.490 --> 00:23:03.500\nBut actually, you know what?\n\n472\n00:23:03.500 --> 00:23:05.050\nWe don't even need to right-click.\n\n473\n00:23:05.050 --> 00:23:08.060\nJust go here, let's go to settings,\nlet's show all.\n\n474\n00:23:08.060 --> 00:23:12.260\nAnd we could tell what the settings\nare that are pre-populated.\n\n475\n00:23:12.260 --> 00:23:14.710\nI don't even have to go in and edit them,\nI can just look at them right here,\n\n476\n00:23:14.710 --> 00:23:15.850\non the Settings tab.\n\n477\n00:23:15.850 --> 00:23:17.830\nAll I did was Show All at the top, and\n\n478\n00:23:17.830 --> 00:23:22.050\nthis gives me the idea of what the starter\nGPO provided, these three settings.\n\n479\n00:23:22.050 --> 00:23:24.420\nYou saw me set them to Enable\nin the starter GPO, and\n\n480\n00:23:24.420 --> 00:23:25.840\nthey have been produced here.\n\n481\n00:23:25.840 --> 00:23:28.810\nI haven't done anything else, but\nI could see they already exist.\n\n482\n00:23:28.810 --> 00:23:32.340\nSo starter GPOs provide\nme the opportunity,\n\n483\n00:23:32.340 --> 00:23:35.880\nprovide you the opportunity to go on and\npre-load settings\n\n484\n00:23:35.880 --> 00:23:40.080\nthat you wanna use as a starting point,\nand then obviously modify from there.\n\n485\n00:23:40.080 --> 00:23:42.400\nSo don't shell sort, shell sort.\n\n486\n00:23:42.400 --> 00:23:47.315\nDon't sell short the idea of using\na starter GPO or set of starter GPOs.\n\n487\n00:23:47.315 --> 00:23:50.658\nUsually I'll tell customers, I'll tell\nclients, I'll tell students, hey,\n\n488\n00:23:50.658 --> 00:23:52.602\nthis is why we use them,\nthis is how we use them.\n\n489\n00:23:52.602 --> 00:23:55.952\nBut in the real world,\nyou have a lot of customers that have,\n\n490\n00:23:55.952 --> 00:24:00.357\ndepending on the OS on the client side\nthat they are using, have created starter\n\n491\n00:24:00.357 --> 00:24:04.327\nGPOs to pre-configure certain settings for\nthe OS that are specific.\n\n492\n00:24:04.327 --> 00:24:08.301\nAnd then they'll pull the Win 7,\nthe Win 8, 8.1, 10, whatever it is.\n\n493\n00:24:08.301 --> 00:24:12.809\nStart a GPO and then they'll adjust and\nmodify based on a group of ten, or 12,\n\n494\n00:24:12.809 --> 00:24:16.600\nor 20 settings what it is they\nwanna have as the baseline.\n\n495\n00:24:16.600 --> 00:24:18.355\nSo that's one way to use this,\n\n496\n00:24:18.355 --> 00:24:21.825\nlots of different ways to think about it,\nof customers like you saw\n\n497\n00:24:21.825 --> 00:24:25.455\nin some of the default ones there with\nthe ability to modify the firewall, or\n\n498\n00:24:25.455 --> 00:24:29.945\ncontrol certain aspects of security\nmake you start a GPO to set that.\n\n499\n00:24:29.945 --> 00:24:32.865\nI've seen them a lot of\ndifferent ways using deploy, but\n\n500\n00:24:32.865 --> 00:24:37.390\nsomething to think about, but we do get\nand have the ability to use those GPOs.\n\n501\n00:24:37.390 --> 00:24:40.941\nAnd it's up to us to decide what to do\nwith them, but you should definitely think\n\n502\n00:24:40.941 --> 00:24:43.651\nabout using the ability to be\nable to build these templates.\n\n503\n00:24:43.651 --> 00:24:46.660\nAnd to interact with them,\nit can be very valuable for you.\n\n504\n00:24:46.660 --> 00:24:49.101\nAll right, so\nwe've talked a bit about starter GPOs,\n\n505\n00:24:49.101 --> 00:24:52.565\nany thoughts about where we are and\nwhat we're doing there, Miss Cherokee?\n\n506\n00:24:52.565 --> 00:24:53.480\n&gt;&gt; Well, I'm hoping-\n&gt;&gt; Saw\n\n507\n00:24:53.480 --> 00:24:55.145\nyou shuffling papers\nwhile we were talking.\n\n508\n00:24:55.145 --> 00:24:57.170\n&gt;&gt; [LAUGH] I'm trying to\nkeep up with you here, Adam.\n\n509\n00:24:57.170 --> 00:24:59.620\nAnd just kind of make sure I\nunderstand where we're headed.\n\n510\n00:24:59.620 --> 00:25:01.580\nIt looks like we're headed\ntoward some back ups.\n\n511\n00:25:01.580 --> 00:25:03.350\nSo if we create these GPOs,\n\n512\n00:25:03.350 --> 00:25:08.970\nwe want to make sure that we aren't\njust protecting our work so to speak.\n\n513\n00:25:08.970 --> 00:25:10.720\n&gt;&gt; We are, and we're going to\ntalk about back ups absolutely.\n\n514\n00:25:10.720 --> 00:25:12.426\nI was actually just going to quickly,\n\n515\n00:25:12.426 --> 00:25:15.784\nI just kinda slide in the whole idea\nof PowerShell, again just reminds us of\n\n516\n00:25:15.784 --> 00:25:17.075\nthe PowerShell commands,\n&gt;&gt; Okay.\n\n517\n00:25:17.075 --> 00:25:19.345\n&gt;&gt; So I'm just gonna show everybody what\nPowerShell commands we have available, but\n\n518\n00:25:19.345 --> 00:25:22.185\nthen we are indeed gonna go to backups,\nso we're gonna do that next.\n\n519\n00:25:22.185 --> 00:25:24.795\nBut, it's always good to remind\nourselves about these things, right?\n\n520\n00:25:24.795 --> 00:25:29.795\nAnd so, let me just go over here to Group\nPolicy cmdlets in Windows PowerShell,\n\n521\n00:25:29.795 --> 00:25:33.530\nagain a very simple Google\nsearch will bring this up.\n\n522\n00:25:33.530 --> 00:25:37.330\nAnd, you can see that we do have\nquite a few, Cherokee mentioned,\n\n523\n00:25:37.330 --> 00:25:41.650\nbackups right at the top of the list,\nvery first commandment, backup GPO, right?\n\n524\n00:25:41.650 --> 00:25:45.540\nYou could see we have a lot of other\noptions, we can set permissions,\n\n525\n00:25:45.540 --> 00:25:49.240\nget reports, set inheritance and\nunderstand it.\n\n526\n00:25:49.240 --> 00:25:54.560\nImport GPOs, create new GPOs, I mentioned\nthe new GPO command at least once or\n\n527\n00:25:54.560 --> 00:25:56.780\ntwice be able to things, back up GPO.\n\n528\n00:25:56.780 --> 00:26:01.490\nWould be the cmdlet there,\nwe can remove and rename and restore.\n\n529\n00:26:01.490 --> 00:26:03.820\nAnd set inheritance, set registry values.\n\n530\n00:26:03.820 --> 00:26:07.130\nAnything we can do from within\nthe GUI can be done with PowerShell.\n\n531\n00:26:07.130 --> 00:26:10.669\nDefinitely wanna take a look at these\ncmdlets if you're planning on taking\n\n532\n00:26:10.669 --> 00:26:13.812\nthe exam, as I've shown you,\ntalked about recommended to you and\n\n533\n00:26:13.812 --> 00:26:17.480\njust been every other area we go over,\nPowerShell is the new orange, right?\n\n534\n00:26:17.480 --> 00:26:20.105\nOr orange is the new black or whatever\nthey say, PowerShell is the new black.\n\n535\n00:26:20.105 --> 00:26:21.950\n&gt;&gt; [LAUGH]\n&gt;&gt; Meaning, definitely wanna go out and\n\n536\n00:26:21.950 --> 00:26:25.590\ntake a look at PowerShell, the important\nfeed of a sense of how you use PowerShell,\n\n537\n00:26:25.590 --> 00:26:26.430\nwhat you use it for.\n\n538\n00:26:26.430 --> 00:26:29.240\nAnd then make sure you\nunderstand the command specific\n\n539\n00:26:29.240 --> 00:26:30.760\nto a particular functionality.\n\n540\n00:26:30.760 --> 00:26:32.520\nLot of them are fairly commonsensical,\nright?\n\n541\n00:26:32.520 --> 00:26:35.306\nYou wanna create a new GPO,\nif you had a guess, right?\n\n542\n00:26:35.306 --> 00:26:38.390\nNew GPOs cmdlet, it wouldn't be\nthat hard to figure that out.\n\n543\n00:26:38.390 --> 00:26:41.538\nGet GPO to see this data set,\nGPO things like, that but\n\n544\n00:26:41.538 --> 00:26:46.341\nin some of the more esoteric ones like\nsetting registry values, things like that.\n\n545\n00:26:46.341 --> 00:26:49.603\nThat you may not have thought through that\ntypically are the ones we tend to focus on\n\n546\n00:26:49.603 --> 00:26:50.230\nand ask about.\n\n547\n00:26:50.230 --> 00:26:52.810\nSo I just wanna make sure you're\nfamiliar with what's going on there.\n\n548\n00:26:52.810 --> 00:26:56.290\nAll right, we did talk about, Cherokee\nsaid, hey, we're just about at the point.\n\n549\n00:26:56.290 --> 00:26:59.960\nWhere you have backups in your notes, want\nto talk about that, we do, but, curveball,\n\n550\n00:26:59.960 --> 00:27:02.680\nwe're gonna do backups, but not just\nsales, how about WMI filter in first?\n\n551\n00:27:02.680 --> 00:27:03.990\n&gt;&gt; Okay.\n&gt;&gt; Then we're gonna talk about backups.\n\n552\n00:27:03.990 --> 00:27:06.110\nJust to make sure,\nwe have a sense of what that is.\n\n553\n00:27:06.110 --> 00:27:07.250\nSo join me back here.\n\n554\n00:27:07.250 --> 00:27:09.230\nAnother function that we've mentioned.\n\n555\n00:27:09.230 --> 00:27:12.570\nBut I haven't really looked at it until\nnow, and I think it's important to talk\n\n556\n00:27:12.570 --> 00:27:16.290\nabout scoping and tailoring, which is the\nidea of security, and how we filter, and\n\n557\n00:27:16.290 --> 00:27:20.840\nhow we allow or deny permissions,\nand provides you access to interact\n\n558\n00:27:20.840 --> 00:27:24.770\nwith group policies, and backup certainly\nwill become part of that as well.\n\n559\n00:27:24.770 --> 00:27:26.830\nBut the idea here, let me just come down,\n\n560\n00:27:26.830 --> 00:27:31.930\nand let me come over here to scope\nright here on any of the policies.\n\n561\n00:27:31.930 --> 00:27:33.560\nIt doesn't matter which one.\n\n562\n00:27:33.560 --> 00:27:37.660\nAnd you can see that we do have\nthe display on the scope side,\n\n563\n00:27:37.660 --> 00:27:38.580\nwhere we link from.\n\n564\n00:27:38.580 --> 00:27:40.220\nThis is the domain that we're a member of.\n\n565\n00:27:40.220 --> 00:27:42.840\nThe following sites,\ndomains, no user linked.\n\n566\n00:27:42.840 --> 00:27:47.420\nRonnie and Emea, or we've linked\nthis to the Emea, E-M-E-A OU, so\n\n567\n00:27:47.420 --> 00:27:48.870\nwe can see that there.\n\n568\n00:27:48.870 --> 00:27:50.740\nIt's not enforced, but it is linked.\n\n569\n00:27:50.740 --> 00:27:53.300\nWe've talked about the importance\nof enforcement, and\n\n570\n00:27:53.300 --> 00:27:54.930\nblocking of inheritance before.\n\n571\n00:27:54.930 --> 00:27:57.330\nWe have security filtering and\nWMI filtering,\n\n572\n00:27:57.330 --> 00:28:01.020\nkinda the two I wanna spend a minute or\ntwo on before we look at backups.\n\n573\n00:28:01.020 --> 00:28:03.970\nSo security filtering,\nthis is really important.\n\n574\n00:28:03.970 --> 00:28:08.700\nThe idea here that,\nif we are not able to understand\n\n575\n00:28:08.700 --> 00:28:12.140\nhow to assign the right\npermissions to users or objects,\n\n576\n00:28:12.140 --> 00:28:16.090\nto be able to interact with policy we may\nnot be able to see in apply the policy.\n\n577\n00:28:16.090 --> 00:28:19.360\nWe'll have a little more say about\nthat in an upcoming conversation,\n\n578\n00:28:19.360 --> 00:28:21.850\njust previewing the idea\nof what goes on there.\n\n579\n00:28:21.850 --> 00:28:24.540\nHinting at the concept of\nan access control list and\n\n580\n00:28:24.540 --> 00:28:27.870\nwhat we may do with that,\nand then WMI filtering.\n\n581\n00:28:27.870 --> 00:28:29.580\nThis is linked right here.\n\n582\n00:28:29.580 --> 00:28:34.450\nThis area, right down here, is liked\nto the WMI filter's folder over here.\n\n583\n00:28:34.450 --> 00:28:37.835\nYou can see the WMI filters,\nlet's just clean this up a little bit.\n\n584\n00:28:37.835 --> 00:28:39.880\nJust so\nwe can see what's going on under there.\n\n585\n00:28:39.880 --> 00:28:42.620\nI have created a WMI filter.\n\n586\n00:28:42.620 --> 00:28:45.010\nHere's that double click\nagain I was doing.\n\n587\n00:28:45.010 --> 00:28:49.080\nYou can see I went and\ncreated one called windows 8.1 demo.\n\n588\n00:28:49.080 --> 00:28:52.739\nAnd I went in, and\nI right-clicked on WMI filters,\n\n589\n00:28:52.739 --> 00:28:56.576\ncreated a new filter by simply doing this,\nnaming it.\n\n590\n00:28:56.576 --> 00:29:00.360\nAnd then I had to add the query,\nby specifying the query string.\n\n591\n00:29:00.360 --> 00:29:04.350\nNow you obviously would have to\nknow the WMI namespace model.\n\n592\n00:29:04.350 --> 00:29:07.960\nYou would have to be familiar with WQL,\nthe WMI Query Language.\n\n593\n00:29:07.960 --> 00:29:09.920\nCan we go full screen,\nso you could see this?\n\n594\n00:29:09.920 --> 00:29:12.225\nI've put a string in here,\nbecause I already pre populated this one,\n\n595\n00:29:12.225 --> 00:29:15.650\nbecause you all, from watching me,\nknow how good I am at typing live.\n\n596\n00:29:15.650 --> 00:29:18.350\nSo I thought I would cheat a little bit,\nand have it set up ahead of time.\n\n597\n00:29:18.350 --> 00:29:22.886\nSo I'm in the root CIMV two name space,\nwhich is the root name space for WMI and\n\n598\n00:29:22.886 --> 00:29:26.690\nCIM, which is the non Microsoft\nspecific version of WMI.\n\n599\n00:29:26.690 --> 00:29:29.182\nWe do support both.\n\n600\n00:29:29.182 --> 00:29:33.040\nAnd the query strings select\nasterisk means all or any.\n\n601\n00:29:33.040 --> 00:29:38.070\nFrom the Win32_OperatingSystem\nclass where version like and\n\n602\n00:29:38.070 --> 00:29:41.378\nthen it says 6.3 percentage in quotes.\n\n603\n00:29:41.378 --> 00:29:45.055\n6.1 is the indicator for Windows 7.\n\n604\n00:29:45.055 --> 00:29:48.868\n6.2 indicators for Windows 8,\n6.3 indicator for Windows 8.1.\n\n605\n00:29:48.868 --> 00:29:52.142\nYou wouldn't know that of course, unless\nyou understood the current language you\n\n606\n00:29:52.142 --> 00:29:54.550\nknew, what that variable\nstring was supposed to be.\n\n607\n00:29:54.550 --> 00:29:59.220\nBut that numeric string with the percent\nsign, equals the version of the OS.\n\n608\n00:29:59.220 --> 00:30:02.875\nSo what I'm doing is,\nI'm using a descriptor, an query line,\n\n609\n00:30:02.875 --> 00:30:07.955\nto specify that I want this filter to\nbe available and use only to designate\n\n610\n00:30:07.955 --> 00:30:13.005\nWindows 8.1 machines, and then apply this\npolicy only to Windows 8.1 machines.\n\n611\n00:30:13.005 --> 00:30:15.755\nThat's essentially what I'm\ntrying to do with this filter.\n\n612\n00:30:15.755 --> 00:30:18.355\nWe can write filters do\nany number of things,\n\n613\n00:30:18.355 --> 00:30:23.805\nas I said there are literally hundreds\nof possible options using WMI and WQL.\n\n614\n00:30:23.805 --> 00:30:30.480\nYou can entertain or interact with any\naspect of the Windows class object model,\n\n615\n00:30:30.480 --> 00:30:35.470\nthe libraries that are defined, as long\nas you can use a declared class and\n\n616\n00:30:35.470 --> 00:30:39.950\nobject, win32_ and then fill in the blank,\nOS, hardware, software.\n\n617\n00:30:39.950 --> 00:30:42.840\nThere's 20 or 30 published,\nonce you can look at, and\n\n618\n00:30:42.840 --> 00:30:46.290\nthen below those,\nthere's hundreds of individual options.\n\n619\n00:30:46.290 --> 00:30:49.225\nThis gets into something you will\nlearn a lot more about, believe it or\n\n620\n00:30:49.225 --> 00:30:51.330\nnot, when you start\nlearning about PowerShell.\n\n621\n00:30:51.330 --> 00:30:55.209\nBecause at least when I teach PowerShell,\nwhen I use it with customers,\n\n622\n00:30:55.209 --> 00:30:59.662\nwhen I walk through and teach classes for\nMicrosoft on PowerShell, we do a whole set\n\n623\n00:30:59.662 --> 00:31:03.543\nof sections on both CIM and WMI, and\nhow to use the query options there and\n\n624\n00:31:03.543 --> 00:31:07.150\nthe class libraries there to\nbe able to pull information.\n\n625\n00:31:07.150 --> 00:31:09.940\nSo it's something that you could do\na little work on outside, or look at\n\n626\n00:31:09.940 --> 00:31:14.590\nthe PowerShell information in the ITProTV\nlibrary on the shows that have been done.\n\n627\n00:31:14.590 --> 00:31:16.260\nI'm sure you'll find coverage of it there.\n\n628\n00:31:16.260 --> 00:31:17.350\nBut you would have to go and\n\n629\n00:31:17.350 --> 00:31:20.570\nlearn a little bit more\nabout what the objects are.\n\n630\n00:31:20.570 --> 00:31:22.830\nBut you can use something like this,\nright?\n\n631\n00:31:22.830 --> 00:31:27.270\nAnd so if we create this, then what we do\nis we come over here which is go back up\n\n632\n00:31:27.270 --> 00:31:29.160\nfor our group policy objects for a minute.\n\n633\n00:31:29.160 --> 00:31:32.850\nI happen have a group policy\nI labelled Windows 8.1 demo,\n\n634\n00:31:32.850 --> 00:31:37.090\njust as a shell just to make the logic\nhere seem like it make sense.\n\n635\n00:31:37.090 --> 00:31:40.540\nIf I wanted to use the WMI\nfilter right now set to none,\n\n636\n00:31:40.540 --> 00:31:43.710\nwhat I can do is pull down,\nyou'll see the filter is there.\n\n637\n00:31:43.710 --> 00:31:48.041\nChoose that, and it says would you like to\nchange the WMI filter to Windows 8.1 demo?\n\n638\n00:31:48.041 --> 00:31:51.684\nYes, by applying that,\nwhat I've done is apply that filter,\n\n639\n00:31:51.684 --> 00:31:55.741\nand so now only computer objects that\nneed the criteria of the filter,\n\n640\n00:31:55.741 --> 00:31:58.430\nwill have this policy applied to them.\n\n641\n00:31:58.430 --> 00:32:03.440\nSo I've narrowly scoped or tailored, where\nI control the aspect of this policy so\n\n642\n00:32:03.440 --> 00:32:05.914\nthat I don't have to worry\nabout applying only to an OU,\n\n643\n00:32:05.914 --> 00:32:08.590\nonly where Windows 8.1.1 machines are-\n&gt;&gt; Right.\n\n644\n00:32:08.590 --> 00:32:12.170\n&gt;&gt; I can simply have it apply only to\nthe machines regardless of where they are.\n\n645\n00:32:12.170 --> 00:32:14.590\nSo it's another way of achieving\nthe same end result, but\n\n646\n00:32:14.590 --> 00:32:16.490\nyou know a lot of times you don't\nhave all those machines and\n\n647\n00:32:16.490 --> 00:32:20.370\none you easily identifiable or\neasily interacting with.\n\n648\n00:32:20.370 --> 00:32:24.809\nThis stream lines require us not to worry\nabout that, but simply use the driver\n\n649\n00:32:24.809 --> 00:32:28.389\nof the OS destination to be able\nto achieve the same and result.\n\n650\n00:32:28.389 --> 00:32:31.492\n&gt;&gt; I mean, it's very seldom that\nwe'll be in an environment where\n\n651\n00:32:31.492 --> 00:32:34.200\nevery single client side\noperating system is the same.\n\n652\n00:32:34.200 --> 00:32:37.170\nSo this could be a really efficient\nway to go ahead, like you said,\n\n653\n00:32:37.170 --> 00:32:39.050\nthe great word there, to tailor.\n\n654\n00:32:39.050 --> 00:32:43.150\nSo even if it was pushing out a specific\napplication, just it might be a little bit\n\n655\n00:32:43.150 --> 00:32:46.510\ndifferent depending the piece of software,\ndepending on the version, or whatever.\n\n656\n00:32:46.510 --> 00:32:49.517\nYou can really just, you know,\nset it up and be finished with it for\n\n657\n00:32:49.517 --> 00:32:50.716\nthat particular config.\n\n658\n00:32:50.716 --> 00:32:53.650\n&gt;&gt; You could, and it would be a great\nway to think about doing that.\n\n659\n00:32:53.650 --> 00:32:56.880\nWe're gonna have some other things to say\nabout some additional items associated\n\n660\n00:32:56.880 --> 00:33:00.100\nwith that thought process of security\nfiltering, in an upcoming conversation.\n\n661\n00:33:00.100 --> 00:33:02.910\nWe're gonna leave that and come back to\nthat, I just wanted to introduce the idea\n\n662\n00:33:02.910 --> 00:33:05.860\nof the fact that these security\noptions and filtering options exist.\n\n663\n00:33:05.860 --> 00:33:08.090\nWe often overlook them,\nthey're there, they're set.\n\n664\n00:33:08.090 --> 00:33:10.530\nWe don't really understand what they do,\nor have a reason to use them.\n\n665\n00:33:10.530 --> 00:33:12.880\nEspecially WMI,\nI find people just kind of ignore it.\n\n666\n00:33:12.880 --> 00:33:15.680\nIt's set to none, it's just kind of at the\nbottom and people just don't really see it\n\n667\n00:33:15.680 --> 00:33:18.090\nand don't pay attention to it and\nthey kind of just ignore it.\n\n668\n00:33:18.090 --> 00:33:21.940\nAnd yet, it gives us such a great\nopportunity to refine the application of\n\n669\n00:33:21.940 --> 00:33:25.910\nthat policy to the exact object\ntypes if we were smart about it.\n\n670\n00:33:25.910 --> 00:33:29.730\nThat we want to target, without\nturning ourselves inside out to do so.\n\n671\n00:33:29.730 --> 00:33:31.710\nIt does give us a lot of opportunity.\n\n672\n00:33:31.710 --> 00:33:33.850\nAll right, you're gonna give me a few\nextra minutes to do backup, or we gonna.\n\n673\n00:33:33.850 --> 00:33:35.851\n&gt;&gt; I'm gonna say, I think I have\nsome bad news for you, Adam.\n\n674\n00:33:35.851 --> 00:33:36.880\n&gt;&gt; Yeah.\n\n675\n00:33:36.880 --> 00:33:38.310\n&gt;&gt; You ate up your time here,\nwith the WMI.\n\n676\n00:33:38.310 --> 00:33:38.838\n&gt;&gt; All right, so\n\n677\n00:33:38.838 --> 00:33:41.489\nwe're going to come back to talk about\nbackups top of the next episode.\n\n678\n00:33:41.489 --> 00:33:43.270\nThat's going to be the very\nfirst thing we do.\n\n679\n00:33:43.270 --> 00:33:45.400\nWhen Cherokee ask me in the next episode,\nhey, what are we doing?\n\n680\n00:33:45.400 --> 00:33:48.390\nI'm gonna laugh and say, backups because\nthat's what we're gonna do next.\n\n681\n00:33:48.390 --> 00:33:49.760\nSo, come on back and see us for that.\n\n682\n00:33:49.760 --> 00:33:51.270\nIt could be really cool conversation.\n\n683\n00:33:51.270 --> 00:33:52.120\nNot just backups.\n\n684\n00:33:52.120 --> 00:33:54.300\nWe're gonna show you about\nbackups how to restore, but\n\n685\n00:33:54.300 --> 00:33:56.110\nalso something people often overlooked.\n\n686\n00:33:56.110 --> 00:33:57.870\nSomething called migration\ntable edito,r and\n\n687\n00:33:57.870 --> 00:34:01.170\nhow we deal with the signing permissions\nif we backup or store policy or\n\n688\n00:34:01.170 --> 00:34:04.010\nmove it between domains, and\nwe don't carry those permissions over.\n\n689\n00:34:04.010 --> 00:34:05.440\nLet me show you how to fix that.\n\n690\n00:34:05.440 --> 00:34:06.710\n&gt;&gt; All right, sounds like a plan.\n\n691\n00:34:06.710 --> 00:34:09.690\nSo thank you for that, Adam, and thank you\nfor joining us as well, but stay tuned.\n\n692\n00:34:09.690 --> 00:34:11.770\nYou don't want to miss what\nwe have coming your way.\n\n693\n00:34:11.770 --> 00:34:13.300\nBut this show,\nwe'll go ahead and sign out.\n\n694\n00:34:13.300 --> 00:34:14.850\nI've been your host, Cherokee Boose.\n\n695\n00:34:14.850 --> 00:34:15.640\n&gt;&gt; I'm Adam Gordon.\n\n696\n00:34:15.640 --> 00:34:18.920\n&gt;&gt; See you next time, here at IT Pro TV.\n\n697\n00:34:18.920 --> 00:34:24.916\n&gt;&gt; [MUSIC]\n\n698\n00:34:24.916 --> 00:34:26.850\n&gt;&gt; Thank you for watching ITPRO TV.\n\n",
          "vimeoId": "231537453"
        },
        {
          "description": "In this episode, Adam and Cherokee start the show by explaining and demonstrating how to create GPO backups. Remember not only can you backup and restore on a per policy basis, you can also manage as a whole. Adam also shows what a migration table editor is capable of doing in the event permissions are lost during a migration. They discuss a security update that effects the way security filters are related to the authenticated users group. Lastly, they discuss loopback policy processing.",
          "length": "1905",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-5-implementing_group_policy_pt5-082817-PGM.00_31_27_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-5-implementing_group_policy_pt5-082817-PGM.00_31_27_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-5-implementing_group_policy_pt5-082817-PGM.00_31_27_08.Still001-sm.jpg",
          "title": "Implementing Group Policy Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:06.179\nWelcome to ITPRO.TV [CROSSTALK]\n\n2\n00:00:06.179 --> 00:00:08.281\n[MUSIC]\n\n3\n00:00:08.281 --> 00:00:11.971\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:11.971 --> 00:00:16.270\n&gt;&gt; Welcome, ladies and gentlemen, to\nIdentity with Windows Server 2016 series.\n\n5\n00:00:16.270 --> 00:00:16.880\nI am your show host, Cherokee Boose.\n\n6\n00:00:18.550 --> 00:00:23.410\nIn this episode, we'll continue on our\njourney here through group policy.\n\n7\n00:00:23.410 --> 00:00:26.680\nAnd just as promised,\nwe're gonna be taking a look at, well,\n\n8\n00:00:26.680 --> 00:00:29.039\nstarting here with backups and\nGPO backups.\n\n9\n00:00:29.039 --> 00:00:32.490\nSo back in studios with us today,\nwe have Mr. Adam Gordon.\n\n10\n00:00:32.490 --> 00:00:33.750\nHow's it going today, Adam?\n\n11\n00:00:33.750 --> 00:00:36.183\n&gt;&gt; It's just backfully wonderful.\n\n12\n00:00:36.183 --> 00:00:38.570\n&gt;&gt; [LAUGH]\n&gt;&gt; You just keep working back up in there\n\n13\n00:00:38.570 --> 00:00:39.650\nand kind of say something.\n\n14\n00:00:39.650 --> 00:00:43.700\n&gt;&gt; We're not trying to beat Wes and Mike\nhere with their rendition of back ups.\n\n15\n00:00:43.700 --> 00:00:46.840\nI can't even tell you how many times\nthey said it during the actual episode.\n\n16\n00:00:46.840 --> 00:00:50.600\nBut I was thinking maybe we can come\nup with some kind of hip hop or\n\n17\n00:00:50.600 --> 00:00:52.600\nrap song to back it up.\n\n18\n00:00:52.600 --> 00:00:53.764\n&gt;&gt; You work on that while we're talking.\n\n19\n00:00:53.764 --> 00:00:55.717\n&gt;&gt; [LAUGH]\n&gt;&gt; Let me know how that goes Cherokee will\n\n20\n00:00:55.717 --> 00:00:57.546\nbe performing at the end of this episode.\n\n21\n00:00:57.546 --> 00:00:59.375\n&gt;&gt; Right.\n&gt;&gt; Make sure you stay tuned.\n\n22\n00:00:59.375 --> 00:01:00.612\nAll right, you missed the VMAs there.\n\n23\n00:01:00.612 --> 00:01:04.516\nYou would have been in line for\nthat if you had that done sooner, right?\n\n24\n00:01:04.516 --> 00:01:06.060\nYou could have made it.\n&gt;&gt; [LAUGH] I'm sure.\n\n25\n00:01:06.060 --> 00:01:08.980\n&gt;&gt; All right, so let's talk about\nhow we back up a group policy, very,\n\n26\n00:01:08.980 --> 00:01:09.890\nvery important.\n\n27\n00:01:09.890 --> 00:01:12.740\nRemember, of course, clearly,\nas we talked about in all areas for\n\n28\n00:01:12.740 --> 00:01:17.570\nall things, not just Microsoft, but\nanything computer related, right?\n\n29\n00:01:17.570 --> 00:01:21.536\nIt's good to engage in creation of\ncontent, use of these things, but\n\n30\n00:01:21.536 --> 00:01:25.112\nif we don't have a way to restore\nthem if something goes wrong.\n\n31\n00:01:25.112 --> 00:01:28.931\nWe're missing a very critical piece\nof infrastructure management,\n\n32\n00:01:28.931 --> 00:01:31.002\na very important piece of security and\n\n33\n00:01:31.002 --> 00:01:34.310\nof management in terms of\nthe stabilization of our system.\n\n34\n00:01:34.310 --> 00:01:37.200\nSo it is important to think about\nhow we deal with disasters.\n\n35\n00:01:37.200 --> 00:01:39.691\nBad things will happen,\nwe don't want them to.\n\n36\n00:01:39.691 --> 00:01:43.680\nWe prefer when they happen to others, not\nus, but we do know that they can happen.\n\n37\n00:01:43.680 --> 00:01:46.350\nAnd so we do have to plan to\nbe proactive in this regard.\n\n38\n00:01:46.350 --> 00:01:48.000\nSo let's see how we back up group policy.\n\n39\n00:01:48.000 --> 00:01:49.380\nIt's actually very straightforward.\n\n40\n00:01:49.380 --> 00:01:51.290\nIf you join me here,\nwe'll take a quick look at it.\n\n41\n00:01:51.290 --> 00:01:53.020\nI already have a backup directory set up.\n\n42\n00:01:53.020 --> 00:01:55.220\nI've backed up a couple of group policies.\n\n43\n00:01:55.220 --> 00:01:57.130\nLet's just take a quick look,\nso you can see.\n\n44\n00:01:57.130 --> 00:02:00.940\nCreated a folder on the desktop called GPO\nbackup, you can put it anywhere you like.\n\n45\n00:02:00.940 --> 00:02:03.575\nI just stuck it there on the desktop,\nso we could easily see it.\n\n46\n00:02:03.575 --> 00:02:06.970\nKnow where it is, but that way when\nyou have the path already set up,\n\n47\n00:02:06.970 --> 00:02:10.535\nyou could just simply point\nthe backup location or\n\n48\n00:02:10.535 --> 00:02:12.835\nreference it in the backup\nwhen you run it.\n\n49\n00:02:12.835 --> 00:02:15.404\nI've got a couple of GPOs that I\nhave backed up just to show you what\n\n50\n00:02:15.404 --> 00:02:16.555\nthey'll look like.\n\n51\n00:02:16.555 --> 00:02:20.165\nAgain, we reference the GUID right there,\nso we can see what the backup looks like.\n\n52\n00:02:20.165 --> 00:02:22.515\nYou can see I did them a little while ago.\n\n53\n00:02:23.715 --> 00:02:27.245\nEither one of these, you'll see\nwe do get a backup XML document,\n\n54\n00:02:27.245 --> 00:02:28.850\nit tells us what we did.\n\n55\n00:02:28.850 --> 00:02:33.020\nA group policy report listing all\nthe settings, domain sys file container,\n\n56\n00:02:33.020 --> 00:02:37.990\nGPO, machine and user to differentiate\nour settings in each area.\n\n57\n00:02:37.990 --> 00:02:39.670\nWe do have the settings folder there.\n\n58\n00:02:39.670 --> 00:02:44.200\nPopulators, we talked about in the other\nepisode where we looked at the policies\n\n59\n00:02:44.200 --> 00:02:45.860\nstored on the domain controller.\n\n60\n00:02:45.860 --> 00:02:47.570\nWe're obviously getting retropile file and\n\n61\n00:02:47.570 --> 00:02:50.920\nall the other stuff that shows us through\nour settings that will be applied.\n\n62\n00:02:50.920 --> 00:02:56.226\nSo we can see that and understand that,\nand if we go up here and\n\n63\n00:02:56.226 --> 00:03:02.160\nwe take a look at the GP report,\nThis is just XML.\n\n64\n00:03:02.160 --> 00:03:05.380\nWe can open this up,\ntake just a moment, right?\n\n65\n00:03:06.480 --> 00:03:09.370\nAnd you'll see that we can get a listing\nof, or you could right click and Enter,\n\n66\n00:03:09.370 --> 00:03:11.250\nopen in Notepad, whatever you wanna do.\n\n67\n00:03:11.250 --> 00:03:12.470\nBut you'll see we've got a creation,\n\n68\n00:03:12.470 --> 00:03:16.300\nmodification time,\nname of the policy default, domain policy.\n\n69\n00:03:16.300 --> 00:03:20.021\nSo we could see this policy in theory\nwould have settings regarding our security\n\n70\n00:03:20.021 --> 00:03:21.643\nsettings, so we would know that.\n\n71\n00:03:21.643 --> 00:03:25.760\nIt tells us the name of the domain,\nthe name of the owner, the SID.\n\n72\n00:03:25.760 --> 00:03:29.942\nRight, as you could see there, the owner\ngroup, along with all of the specificity\n\n73\n00:03:29.942 --> 00:03:33.948\nof the particular information we need to\nunderstand how the policy is applied,\n\n74\n00:03:33.948 --> 00:03:36.290\nwho is doing it and who is managing it.\n\n75\n00:03:36.290 --> 00:03:40.220\nAnd as we scroll down, we can also\nsee the settings of the policy.\n\n76\n00:03:40.220 --> 00:03:42.480\nClear text password false, right?\n\n77\n00:03:42.480 --> 00:03:46.990\nLockout bad count, lockout attempts,\nright, and what the number is,\n\n78\n00:03:46.990 --> 00:03:48.870\nand we could see all\nof that kind of stuff.\n\n79\n00:03:48.870 --> 00:03:53.808\nMinimum password length, 7, minimum\npassword age, 1, max password age, 42.\n\n80\n00:03:53.808 --> 00:03:56.016\nThese are the default settings,\ncomplexity true.\n\n81\n00:03:56.016 --> 00:03:58.666\nThis is our standard off the shelf\ndefault domain policy, right,\n\n82\n00:03:58.666 --> 00:04:01.050\nwith all the settings in tact,\nwe haven't modified them.\n\n83\n00:04:01.050 --> 00:04:02.500\nSo we can see them all there.\n\n84\n00:04:02.500 --> 00:04:06.840\nSo being able to have the back up clearly\nimplies having complete accurate record\n\n85\n00:04:06.840 --> 00:04:09.760\nof the policy and\nall the information associated with it, so\n\n86\n00:04:09.760 --> 00:04:13.130\nwe can re-apply that,\nif necessary to restore.\n\n87\n00:04:13.130 --> 00:04:15.760\nAnd we're able to see all that here,\njust by looking.\n\n88\n00:04:15.760 --> 00:04:19.960\nSo, all that information is contained,\nright, within the backup, just so\n\n89\n00:04:19.960 --> 00:04:23.110\nyou can see it and you see what it is.\n\n90\n00:04:23.110 --> 00:04:25.320\nSo let's just minimize this here.\n\n91\n00:04:25.320 --> 00:04:29.550\nLet's get back into the policy editor,\njust bring back up the interface.\n\n92\n00:04:29.550 --> 00:04:30.530\nSo how do we do a backup?\n\n93\n00:04:30.530 --> 00:04:35.536\nVery straightforward, let's just grab that\nnew policy I created during the last demo,\n\n94\n00:04:35.536 --> 00:04:38.818\nthe starter test one that we\nhaven't done anything with.\n\n95\n00:04:38.818 --> 00:04:42.360\nRight click, go up here,\nsee where it says Back Up?\n\n96\n00:04:43.700 --> 00:04:45.151\nWe have to specify.\n\n97\n00:04:45.151 --> 00:04:47.327\nI was hoping you were gonna break\ninto song there when I said back up,\n\n98\n00:04:47.327 --> 00:04:48.635\nbut I guess you're not ready yet?\n\n99\n00:04:48.635 --> 00:04:50.830\n&gt;&gt; [LAUGH]\n&gt;&gt; So you can see the path right there.\n\n100\n00:04:50.830 --> 00:04:54.111\nIt is set because I've already\ndone a couple of backups, though.\n\n101\n00:04:54.111 --> 00:04:56.710\nI already have specified the path before.\n\n102\n00:04:56.710 --> 00:04:58.060\nBut notice we have a browse option.\n\n103\n00:04:58.060 --> 00:04:59.920\nWe could easily go out and\nput it somewhere else.\n\n104\n00:04:59.920 --> 00:05:04.113\nUsually give it a little description,\nso I'll do something like Starter.\n\n105\n00:05:04.113 --> 00:05:07.079\nOf course,\nI'll try to spell that correctly.\n\n106\n00:05:07.079 --> 00:05:11.230\nBut I'll usually name it for the name\nof the policy, so I know what it is.\n\n107\n00:05:11.230 --> 00:05:14.300\nHit Back Up, it takes almost no time\ndepending on the size of the policy.\n\n108\n00:05:14.300 --> 00:05:15.730\nOf course, if it's a little bit bigger,\n\n109\n00:05:15.730 --> 00:05:17.820\nit will typically take a minute or\ntwo to run.\n\n110\n00:05:17.820 --> 00:05:19.780\nBut it's very quick even then.\n\n111\n00:05:19.780 --> 00:05:24.175\nClick OK, and that's all we have to do,\nour back up is done.\n\n112\n00:05:24.175 --> 00:05:28.344\nYou could see we just added a third\nitem here, based on timestamp,\n\n113\n00:05:28.344 --> 00:05:30.068\nthis is the one we just did.\n\n114\n00:05:30.068 --> 00:05:34.360\nWe could verify that based on referencing\nthe GUID to the details tab of the policy,\n\n115\n00:05:34.360 --> 00:05:35.908\nmaking sure those two match.\n\n116\n00:05:35.908 --> 00:05:38.972\nWe even know exactly what policy it is,\nwe've shown you how to do that before.\n\n117\n00:05:38.972 --> 00:05:42.588\nAnd we have all the settings there that\nwould allow us to be able to use that\n\n118\n00:05:42.588 --> 00:05:46.810\npolicy, if necessary, the back up,\nrather, if necessary, to restore.\n\n119\n00:05:46.810 --> 00:05:50.190\nAnd to that end,\nlet's just see what that means.\n\n120\n00:05:50.190 --> 00:05:53.570\nLet's go in here, right click,\nlet's delete that.\n\n121\n00:05:55.490 --> 00:05:56.640\nOkay, we got rid of that policy.\n\n122\n00:05:56.640 --> 00:05:59.080\nI think we can all agree it's\nnot there anymore, right?\n\n123\n00:05:59.080 --> 00:06:02.530\nWe can also agree that it is still\nsitting in the backup folder, so\n\n124\n00:06:02.530 --> 00:06:03.864\nwe do have a record of it.\n\n125\n00:06:03.864 --> 00:06:08.220\nIt's that first policy highlighted\nright there, as you can see.\n\n126\n00:06:08.220 --> 00:06:11.390\nSo if I wanna restore a policy, right,\n\n127\n00:06:11.390 --> 00:06:16.010\nI can go in Manage Backups,\nright from here if I wanna just do that.\n\n128\n00:06:16.010 --> 00:06:21.050\nOr I can go in and do it from up at\nthe other level, Backup Location.\n\n129\n00:06:22.630 --> 00:06:26.420\nI do have, as you can see, the opportunity\nto say, hey, maybe different backup\n\n130\n00:06:26.420 --> 00:06:29.580\nlocations, different backups, let me\npull down a reference, which one I want.\n\n131\n00:06:29.580 --> 00:06:31.899\nI only have one, so obviously,\nI'm gonna leave it at the default there.\n\n132\n00:06:31.899 --> 00:06:34.085\n&gt;&gt; But you just have to make sure\nyou're grabbing the right one if you\n\n133\n00:06:34.085 --> 00:06:35.010\ndid have multiples there.\n\n134\n00:06:35.010 --> 00:06:38.510\n&gt;&gt; Absolutely, so that's why it's so\nimportant to put that name or\n\n135\n00:06:38.510 --> 00:06:39.580\nthat description, and\n\n136\n00:06:39.580 --> 00:06:44.570\nyou can see, I've put a descriptor in for\nthe three policies I have backed up.\n\n137\n00:06:44.570 --> 00:06:47.560\nOne of them, I just called starter test,\nso we can obviously tell\n\n138\n00:06:47.560 --> 00:06:52.440\nwhat that one is because you'll notice\nhere, right, in the description.\n\n139\n00:06:52.440 --> 00:06:55.337\nYou'll notice that while I do have\nthe GPO id off to the side, and\n\n140\n00:06:55.337 --> 00:06:56.741\nI could use that if I wanted to.\n\n141\n00:06:56.741 --> 00:06:58.020\nThis is a little bit harder, right?\n\n142\n00:06:58.020 --> 00:07:01.570\nI have to go figure out the GPO id, and\nremember, if the policy's been deleted,\n\n143\n00:07:01.570 --> 00:07:05.590\nI can no longer look it up and\nsay that's the one on the Details tab.\n\n144\n00:07:05.590 --> 00:07:07.295\nCuz that policy is not there.\n\n145\n00:07:07.295 --> 00:07:09.292\nIf I don't have a document,\nin other words,\n\n146\n00:07:09.292 --> 00:07:12.725\nI may have not a record of the GPO id, and\nas a result, I may not know what it is.\n\n147\n00:07:12.725 --> 00:07:17.515\nSo, having a good accurate description\nhelps us to zero in on the right policy,\n\n148\n00:07:17.515 --> 00:07:19.143\nso it is important to do that.\n\n149\n00:07:19.143 --> 00:07:22.595\nSo, I can see here that I can\nhighlight this one, I will.\n\n150\n00:07:22.595 --> 00:07:24.805\nNow, notice down here I\njust wanna point this out,\n\n151\n00:07:24.805 --> 00:07:28.580\nthere may be multiple versions of\nthe GPO that have been backed up.\n\n152\n00:07:28.580 --> 00:07:30.557\nA lot of times, you'll do backups.\n\n153\n00:07:30.557 --> 00:07:34.210\nOver time, there's probably more\nthan one update to a policy.\n\n154\n00:07:34.210 --> 00:07:37.410\nYou may capture those through\niterative backups over time.\n\n155\n00:07:37.410 --> 00:07:39.530\nYou may only wanna see\nthe most recent version.\n\n156\n00:07:39.530 --> 00:07:43.098\nIf you check that box off, it'll filter\nbased on creation and date stamp and\n\n157\n00:07:43.098 --> 00:07:46.930\nonly show you, it being the interface,\nwill only show you the most recent one.\n\n158\n00:07:46.930 --> 00:07:48.420\nSo we can filter that.\n\n159\n00:07:48.420 --> 00:07:50.608\nAnd they wanna know that,\nif it comes up at some point.\n\n160\n00:07:50.608 --> 00:07:53.320\nYou never know when you're gonna be\nasked about those kind of things.\n\n161\n00:07:53.320 --> 00:07:54.571\nSo just take note of that.\n\n162\n00:07:54.571 --> 00:07:56.734\nA lot of times, these little settings\nare laying there in the window.\n\n163\n00:07:56.734 --> 00:07:59.964\nWe don't always see them or pay\nattention to them when we're practicing,\n\n164\n00:07:59.964 --> 00:08:02.936\nunless somebody makes a point of Saying,\nhey there's this thing and\n\n165\n00:08:02.936 --> 00:08:04.897\nit's always important\nto know what they do.\n\n166\n00:08:04.897 --> 00:08:08.070\nAll right, so you could see here\nI'm gonna highlight this, right.\n\n167\n00:08:09.680 --> 00:08:12.365\nNow, I'm just gonna point out something\nobvious and it's obvious to me,\n\n168\n00:08:12.365 --> 00:08:14.721\nit's obviously not obvious to everybody or\nthey would not do it.\n\n169\n00:08:14.721 --> 00:08:18.092\nWhy on earth when you are in\nthe middle of a DR event and\n\n170\n00:08:18.092 --> 00:08:20.008\nyou have to restore a policy,\n\n171\n00:08:20.008 --> 00:08:25.237\nwould you give somebody the opportunity\nto delete the backup that may save them?\n\n172\n00:08:25.237 --> 00:08:27.170\nYou notice what I'm pointing to,\nI'm not gonna do that.\n\n173\n00:08:27.170 --> 00:08:31.426\nBut you notice I can highlight that policy\nand I can delete it from the backup area.\n\n174\n00:08:31.426 --> 00:08:35.113\nNow I can explain why we give you\nthat option here, because this\n\n175\n00:08:35.113 --> 00:08:39.647\nis the managed backups interface,\nnot just the restore backups interface.\n\n176\n00:08:39.647 --> 00:08:41.643\nYou may wanna go in and\ndo a little house cleaning.\n\n177\n00:08:41.643 --> 00:08:43.809\nYou're not just gonna\nrestore in other words.\n\n178\n00:08:43.809 --> 00:08:46.163\nSo there are reasons why\nyou may wanna delete them.\n\n179\n00:08:46.163 --> 00:08:49.774\nBut you would think you would wanna put it\nsomewhere away from the restore button so\n\n180\n00:08:49.774 --> 00:08:51.551\nthat inadvertently, [CROSSTALK]\n&gt;&gt; Yeah.\n\n181\n00:08:51.551 --> 00:08:55.220\n&gt;&gt; You don't click on delete with the\npolicy highlighted if you're not paying\n\n182\n00:08:55.220 --> 00:08:56.180\nattention.\n\n183\n00:08:56.180 --> 00:08:59.019\nI'm just pointing out things that\nhave happened in the real world based\n\n184\n00:08:59.019 --> 00:09:00.970\non years of experience\nthat I can share with you.\n\n185\n00:09:00.970 --> 00:09:03.919\nAnd explain that you obviously\nwanna take a different path.\n\n186\n00:09:03.919 --> 00:09:06.548\n&gt;&gt; Or at least differentiate with a red\nand a green, or something, they're real.\n\n187\n00:09:06.548 --> 00:09:07.156\n&gt;&gt; That's just I don't know.\n\n188\n00:09:07.156 --> 00:09:09.040\nYeah, I get why they put it there,\ndon't get me wrong.\n\n189\n00:09:09.040 --> 00:09:11.435\nAnd I get the value of it, but you do\noccasionally need to delete a policy.\n\n190\n00:09:11.435 --> 00:09:14.288\nSo it's good to have an option to do it\nand not have to go into the directory and\n\n191\n00:09:14.288 --> 00:09:16.222\nmake sure you highlight the right one,\nwhatever.\n\n192\n00:09:16.222 --> 00:09:17.458\nIt's a lot easier here.\n\n193\n00:09:17.458 --> 00:09:19.949\nBut make the button on a separate screen.\n\n194\n00:09:19.949 --> 00:09:22.132\nGive me an option,\nlike I have to go somewhere and\n\n195\n00:09:22.132 --> 00:09:23.906\nactually purposely decide to do that.\n\n196\n00:09:23.906 --> 00:09:26.378\nAlso by the way, View Settings.\n\n197\n00:09:26.378 --> 00:09:26.962\nI can go in,\n\n198\n00:09:26.962 --> 00:09:30.248\nwhich is nice if I wanna verify\nthe policy just before I restore it.\n\n199\n00:09:30.248 --> 00:09:31.989\nMake sure I know what I'm getting here.\n\n200\n00:09:31.989 --> 00:09:34.853\nMy Starter Test policy has no settings,\nit's not gonna see anything.\n\n201\n00:09:34.853 --> 00:09:37.165\nBut you could see I'll be able verify and\n\n202\n00:09:37.165 --> 00:09:40.435\nensure that these settings\nactually are the ones I want.\n\n203\n00:09:40.435 --> 00:09:43.946\nMicrosoft's really done a good job\nof planning the logic of what you\n\n204\n00:09:43.946 --> 00:09:44.752\nwould do here.\n\n205\n00:09:44.752 --> 00:09:47.044\nHighlight Starter Test, let's hit Restore.\n\n206\n00:09:47.044 --> 00:09:51.580\nIf you wanna restore keep an eye\nover here as to what we're doing and\n\n207\n00:09:51.580 --> 00:09:56.779\njust kinda watch in what's happening,\nclick OK, successful, click OK.\n\n208\n00:09:56.779 --> 00:10:00.865\nMoment I click OK, close that window,\nnotice the policy is put back.\n\n209\n00:10:00.865 --> 00:10:03.768\nIt's automatically there,\nhaven't even closed the interface yet\n\n210\n00:10:03.768 --> 00:10:05.678\nbut the policy is already restored, right.\n\n211\n00:10:05.678 --> 00:10:09.482\nSo you could see that here and see how\nI would restore a policy as well as\n\n212\n00:10:09.482 --> 00:10:12.384\npotentially you know delete\none of them put it back.\n\n213\n00:10:12.384 --> 00:10:13.639\nSo we've talked about that.\n\n214\n00:10:13.639 --> 00:10:17.055\nI could do this from here,\nI could do it from PowerShell.\n\n215\n00:10:17.055 --> 00:10:18.486\nWe talked in the last episode.\n\n216\n00:10:18.486 --> 00:10:22.460\nBackup GPO right, Restore-GPO as\nommandlets, you could do all that.\n\n217\n00:10:22.460 --> 00:10:27.239\nOf a backup GPO commandlet will not be\nvery complicated backup GPO on specify\n\n218\n00:10:27.239 --> 00:10:27.919\nthe path.\n\n219\n00:10:27.919 --> 00:10:30.266\nSo use a path parameter, specify the path,\n\n220\n00:10:30.266 --> 00:10:33.698\nidentify the file and\nyou're essentially ready to go, right.\n\n221\n00:10:33.698 --> 00:10:37.400\nIt's very straightforward, so you could\ndo that easily from here if you want to.\n\n222\n00:10:37.400 --> 00:10:41.297\nSo we've talked about both backing up and\nrestoring.\n\n223\n00:10:41.297 --> 00:10:46.207\nWe can go in, and as I suggested not\njust back up, not just restore but\n\n224\n00:10:46.207 --> 00:10:52.000\nlet's say this time I'm pointing to\nit here, open migration table editor.\n\n225\n00:10:52.000 --> 00:10:53.286\nNotice I can open it right from here,\n\n226\n00:10:53.286 --> 00:10:55.913\nI'm gonna explain what it does in\na minute on the group policy objects tab.\n\n227\n00:10:55.913 --> 00:11:01.062\nNotice I can come up to the domain and\nnotice I can also what\n\n228\n00:11:01.062 --> 00:11:06.004\nam I looking for right here,\nup here rather excuse me.\n\n229\n00:11:06.004 --> 00:11:09.627\nI can come here is what I mean that\nthe domains can contain up domain and\n\n230\n00:11:09.627 --> 00:11:12.958\nnotice I could do the migration\ntable editor from here as well.\n\n231\n00:11:12.958 --> 00:11:14.970\nSo I can open it in either place.\n\n232\n00:11:14.970 --> 00:11:16.589\nWhat the migration table editor does,\n\n233\n00:11:16.589 --> 00:11:19.496\nI mentioned that one of the things I\nwould show you, say I can restore.\n\n234\n00:11:19.496 --> 00:11:23.181\nBut what if you are moving\na policy by importing it between,\n\n235\n00:11:23.181 --> 00:11:25.182\nlet's say areas of the forest.\n\n236\n00:11:25.182 --> 00:11:28.060\nOr you've restored maybe all\nthe permissions are not restored.\n\n237\n00:11:28.060 --> 00:11:31.277\nFor some reason you have to modify that or\nyou wanna add or\n\n238\n00:11:31.277 --> 00:11:34.088\nmodify those permissions\nas you are doing this.\n\n239\n00:11:34.088 --> 00:11:36.493\nIf you open the migration table editor,\n\n240\n00:11:36.493 --> 00:11:41.530\nmigration table editor lets me work with\npermissions and specify what they will be.\n\n241\n00:11:41.530 --> 00:11:44.327\nNow a couple of little ways of\nadding information in here.\n\n242\n00:11:44.327 --> 00:11:48.738\nYou can go to Tools, populate from GPO,\npopulate from backup.\n\n243\n00:11:48.738 --> 00:11:50.538\nSo let's populate from backup.\n\n244\n00:11:50.538 --> 00:11:52.400\nSpecify the backup.\n\n245\n00:11:53.670 --> 00:11:55.970\nLet's go in here, default domain backup.\n\n246\n00:11:55.970 --> 00:12:01.030\nI can do that or\npopulate from GPO, either way.\n\n247\n00:12:01.030 --> 00:12:03.733\nAnd notice when I populate from backup,\nI get nothing.\n\n248\n00:12:03.733 --> 00:12:08.877\nNotice when I populate from the GPO,\nright.\n\n249\n00:12:08.877 --> 00:12:11.708\nI also get nothing,\nunless I add one option.\n\n250\n00:12:11.708 --> 00:12:12.909\nLet me show you what I mean here.\n\n251\n00:12:14.510 --> 00:12:17.306\nDuring scan includes security\nprinciples from the deckle on the GPO.\n\n252\n00:12:17.306 --> 00:12:19.736\nI have to specify I want\nthe actual discretionary or\n\n253\n00:12:19.736 --> 00:12:23.015\naccess control to populate so\nthat I could see the individual users or\n\n254\n00:12:23.015 --> 00:12:24.275\ngroups that have rights.\n\n255\n00:12:24.275 --> 00:12:25.940\nAnd I can then work with them.\n\n256\n00:12:25.940 --> 00:12:28.029\nAnd this is something people often\nmiss when they use the tool.\n\n257\n00:12:28.029 --> 00:12:31.814\nI have to add them in and\nmake sure I'm accounting for them, right.\n\n258\n00:12:31.814 --> 00:12:36.669\nAnd if I populate from backup, notice that\nI can include that down here, as well.\n\n259\n00:12:36.669 --> 00:12:39.345\nThe reason I don't see any\nsecurity principles is by default,\n\n260\n00:12:39.345 --> 00:12:41.933\nthis tool doesn't load them is\nwhat I'm trying to show you.\n\n261\n00:12:41.933 --> 00:12:43.559\n&gt;&gt; Mm-hm.\n&gt;&gt; I have to select editing either\n\n262\n00:12:43.559 --> 00:12:46.928\ninterface, it's just a matter of\nknowing it's at the bottom there.\n\n263\n00:12:46.928 --> 00:12:50.650\nI have to select an event, show only\nlatest version option here as well.\n\n264\n00:12:50.650 --> 00:12:52.940\nBut let's say I choose this and I do this,\n\n265\n00:12:52.940 --> 00:12:55.366\na little bit different\nthan what I just did.\n\n266\n00:12:55.366 --> 00:12:59.299\nNotice I now get a listing for the groups\nor users depending on what it is,\n\n267\n00:12:59.299 --> 00:13:02.950\nthat are our security principles\nthat have rights here.\n\n268\n00:13:02.950 --> 00:13:06.714\nAnd as a result, I can now go and\nit's okay for enterprise admin, so\n\n269\n00:13:06.714 --> 00:13:08.509\nour domain admin is either one.\n\n270\n00:13:08.509 --> 00:13:12.543\nLet's say that I wanna specify or\nchange the group type.\n\n271\n00:13:12.543 --> 00:13:15.973\nAnd I wanna be able to modify this and\ninteract and\n\n272\n00:13:15.973 --> 00:13:19.246\nspecify a different setting here for\nsource.\n\n273\n00:13:19.246 --> 00:13:21.845\nI can do that, so\nI can change and map this and\n\n274\n00:13:21.845 --> 00:13:24.770\nmake sure that the group\ntypes are correct.\n\n275\n00:13:24.770 --> 00:13:28.135\nI can even add as you could see here,\nI can go in and\n\n276\n00:13:28.135 --> 00:13:30.447\nI could add a new user or group in.\n\n277\n00:13:30.447 --> 00:13:34.398\nAnd specify, not just remapping existing\nones but add additional ones or\n\n278\n00:13:34.398 --> 00:13:37.032\nput back items that have\nbeen removed if needed.\n\n279\n00:13:37.032 --> 00:13:41.047\nAnd the migration table editor\nallows me to modify permissions,\n\n280\n00:13:41.047 --> 00:13:45.140\ninteract with group memberships and\nspecify as a result, right.\n\n281\n00:13:45.140 --> 00:13:50.360\nThe destination being the same where I can\nspecify the name if I wanna modify that so\n\n282\n00:13:50.360 --> 00:13:53.250\nthat way I can remap permissions and\nmodify.\n\n283\n00:13:53.250 --> 00:13:57.239\nAnd ensure that they're gonna be\nprovided in the right contacts in\n\n284\n00:13:57.239 --> 00:13:59.028\nthe right way as I put this in.\n\n285\n00:13:59.028 --> 00:14:02.166\nSo I actually can do this and when I'm\ndone you'll see I could save this.\n\n286\n00:14:02.166 --> 00:14:06.779\nAnd by saving this, this is gonna map\nthose permissions for me in such a way.\n\n287\n00:14:06.779 --> 00:14:10.323\nAssuming I saved these of course,\nthat when I apply the policy and\n\n288\n00:14:10.323 --> 00:14:13.869\nI restore it, I'll have additional\npermissions where I'll put\n\n289\n00:14:13.869 --> 00:14:15.949\nback the appropriate ones as needed.\n\n290\n00:14:15.949 --> 00:14:17.884\nSo migration table\neditors were a important,\n\n291\n00:14:17.884 --> 00:14:21.308\npowerful tool because it does allow me to\nmodify and manipulate permissions if for\n\n292\n00:14:21.308 --> 00:14:22.811\nsome reason they are not restored.\n\n293\n00:14:22.811 --> 00:14:27.024\nWhen I copied GPO's for instance I don't\nbring over all the permissions associated\n\n294\n00:14:27.024 --> 00:14:29.286\nwith them and\nI would need to be aware of that.\n\n295\n00:14:29.286 --> 00:14:32.401\nWe have to make sure that we\nknow that we can reset those.\n\n296\n00:14:32.401 --> 00:14:37.706\nWe may wanna target or assign rights to an\nindividual user or group as part of that.\n\n297\n00:14:37.706 --> 00:14:39.794\nSo we do have to make\nsure that we know that.\n\n298\n00:14:39.794 --> 00:14:43.194\nWhen we're importing or\ncopying these policies between domains,\n\n299\n00:14:43.194 --> 00:14:47.488\nthat's really where migration table editor\nbecomes importance we do have to reset or\n\n300\n00:14:47.488 --> 00:14:48.990\naugment those permissions.\n\n301\n00:14:48.990 --> 00:14:51.573\nJust wanna make sure\nwe're familiar with that,\n\n302\n00:14:51.573 --> 00:14:53.849\nand that does allow us\nto be able to do this.\n\n303\n00:14:53.849 --> 00:14:56.310\nWe also could take a look at a policy.\n\n304\n00:14:56.310 --> 00:14:58.986\nWe just come in here and\nlets take a look at a policy.\n\n305\n00:14:58.986 --> 00:14:59.841\nI haven't used yet but\n\n306\n00:14:59.841 --> 00:15:02.632\nwe're gonna talk about loopback\nprocessing here in a couple of minutes.\n\n307\n00:15:02.632 --> 00:15:05.330\nIt's part of our general\nconversation in this section.\n\n308\n00:15:05.330 --> 00:15:08.685\nBut lets just use the policy that I've\ncreated to do this as an example for\n\n309\n00:15:08.685 --> 00:15:09.189\na minute.\n\n310\n00:15:09.189 --> 00:15:12.013\nAnd one of the things that we\ncould do is go to delegation here.\n\n311\n00:15:12.013 --> 00:15:15.211\nAnd you'll see that we have\nthe appropriate users and or\n\n312\n00:15:15.211 --> 00:15:19.840\ngroups right now to really all groups\nthat are assigned with permissions.\n\n313\n00:15:19.840 --> 00:15:23.444\nAnd if you remember, on the scope\ntab I mentioned security filtering,\n\n314\n00:15:23.444 --> 00:15:26.987\nin WMI filtering in the last episode and\nI said, hey we'll come back,\n\n315\n00:15:26.987 --> 00:15:29.591\na little bit more to say\nabout security filtering.\n\n316\n00:15:29.591 --> 00:15:33.171\nAnd security filtering is linked to\nthis idea of the delegation tab,\n\n317\n00:15:33.171 --> 00:15:36.826\na very meaningful way so let's just\ntalk about what's going on here.\n\n318\n00:15:36.826 --> 00:15:40.598\nSecurity filtering and the group that\nis listed here, authenticated users,.\n\n319\n00:15:40.598 --> 00:15:44.700\nYou see that we don't have all these\nadditional groups' system, enterprise\n\n320\n00:15:44.700 --> 00:15:49.189\nad and domain admin, enterprise domain\ncontrollers on the security filtering tab.\n\n321\n00:15:49.189 --> 00:15:52.275\nWe only have one of these groups,\nthe authenticated users group.\n\n322\n00:15:52.275 --> 00:15:56.558\nI notice it says specifically, I'm getting\nmy permissions from security filtering.\n\n323\n00:15:56.558 --> 00:16:01.462\nThe rest are applied essentially directly\nby being added or propagated on.\n\n324\n00:16:01.462 --> 00:16:05.826\nThis Delegation tab, because the majority\nof the work we do with access to a policy\n\n325\n00:16:05.826 --> 00:16:08.040\nis not done from security filtering, but\n\n326\n00:16:08.040 --> 00:16:12.520\nrather is going to be done through\nthe Delegation tab more often than not.\n\n327\n00:16:12.520 --> 00:16:16.680\nBut there's an important caveat about\nhaving authenticated users here.\n\n328\n00:16:16.680 --> 00:16:20.485\nIf you remove the authenticated users\ngroup, which sometimes people will do or\n\n329\n00:16:20.485 --> 00:16:24.201\nyou're told to do and you don't think\nabout it, you just go and remove them.\n\n330\n00:16:24.201 --> 00:16:28.505\nAs of, it was June, 2016,\nI have the reference for\n\n331\n00:16:28.505 --> 00:16:32.550\nthe exact security update\nin the show notes for you.\n\n332\n00:16:32.550 --> 00:16:35.220\nIt's 38-something,\nI forget the actual number.\n\n333\n00:16:35.220 --> 00:16:37.399\nI can look it up while we talking or\nCherokee will find it.\n\n334\n00:16:37.399 --> 00:16:39.115\nShe can read it out to\nus while we're talking.\n\n335\n00:16:39.115 --> 00:16:42.891\nBut the actual number for the security\nupdate in question and the timeline,\n\n336\n00:16:42.891 --> 00:16:45.610\nI have a little blurb about\nit in the show notes.\n\n337\n00:16:45.610 --> 00:16:49.512\nWe changed the way we actually\ndeal with security access and\n\n338\n00:16:49.512 --> 00:16:53.189\nthe granting of rights on GPOs,\nas of June of 2016.\n\n339\n00:16:53.189 --> 00:16:57.634\nAnd as a result of that, when you applied\nthis update to the OS, if you remove\n\n340\n00:16:57.634 --> 00:17:02.569\nauthenticated users from here, no policy\napplication whatsoever, no computer,\n\n341\n00:17:02.569 --> 00:17:07.640\nno user, no object, group object,\nnothing can download and see this policy.\n\n342\n00:17:07.640 --> 00:17:10.936\nSo if you remove authenticated users,\nthinking you're doing the right thing and\n\n343\n00:17:10.936 --> 00:17:14.328\nthen you're gonna scope and narrowly\ndefine, you're actually shooting yourself\n\n344\n00:17:14.328 --> 00:17:17.117\nin the foot cuz nothing's gonna be\nable to interact with the policy.\n\n345\n00:17:17.117 --> 00:17:21.544\nSo you have to not modify authenticated\nusers by removing it here, but rather,\n\n346\n00:17:21.544 --> 00:17:26.240\nyou will then delegate and refine that\nability here on the Delegation tab.\n\n347\n00:17:26.240 --> 00:17:28.549\nSo we just wanna make sure\nyou're clear on this idea.\n\n348\n00:17:28.549 --> 00:17:29.996\nYou'll notice there are additional ones.\n\n349\n00:17:29.996 --> 00:17:32.755\nAnd notice, by the way,\nwe have an option to add here.\n\n350\n00:17:32.755 --> 00:17:37.880\nAnd notice, I could add something like,\nlet's just say, domain guests, right?\n\n351\n00:17:37.880 --> 00:17:41.996\nSo let me just highlight this,\ncheck the names, put it in.\n\n352\n00:17:41.996 --> 00:17:46.299\nAnd notice, when I do this add group or\nuser, let me drag this over just so\n\n353\n00:17:46.299 --> 00:17:47.368\nyou can see this.\n\n354\n00:17:47.368 --> 00:17:50.230\nNotice that I only have three\nsets of permissions, right,\n\n355\n00:17:50.230 --> 00:17:53.105\nat least on the surface anyway,\nfrom this initial window.\n\n356\n00:17:53.105 --> 00:17:58.030\nRead, edit, edit, delete, modify security,\nessentially, full controls.\n\n357\n00:17:58.030 --> 00:18:00.094\nSo let's just say Read for the moment.\n\n358\n00:18:00.094 --> 00:18:02.685\nClick OK, and domain guests have Read.\n\n359\n00:18:02.685 --> 00:18:04.933\nBut then down in the bottom,\ncan you go full screen for me?\n\n360\n00:18:04.933 --> 00:18:07.220\nCuz I'm sitting over this\nbutton I wanna show you.\n\n361\n00:18:07.220 --> 00:18:10.019\nAdvanced on the right here,\nright here, right?\n\n362\n00:18:10.019 --> 00:18:13.691\nYou'll see I can click here,\nhighlight the group in question or user.\n\n363\n00:18:13.691 --> 00:18:18.468\nAnd I get the traditional, what we think\nof as the permission access control list\n\n364\n00:18:18.468 --> 00:18:22.030\nor the DACA with the access\ncontrol entries down below.\n\n365\n00:18:22.030 --> 00:18:25.170\nAnd I can assign more\nadvanced permissions,\n\n366\n00:18:25.170 --> 00:18:28.470\nin this case specifically,\nI can scroll down.\n\n367\n00:18:28.470 --> 00:18:31.540\nLet's highlight domain guest, just so\nwe know what we're dealing with.\n\n368\n00:18:31.540 --> 00:18:38.190\nWe see Read, but I can allow or\ndeny apply Group Policy permission.\n\n369\n00:18:38.190 --> 00:18:39.750\nIf you know anything\nabout Group Policy and\n\n370\n00:18:39.750 --> 00:18:41.570\nkinda how this has worked historically,\nagain,\n\n371\n00:18:41.570 --> 00:18:43.449\ngoing all the way back\nto Windows Server 2000.\n\n372\n00:18:43.449 --> 00:18:47.488\nThat's the permission you want to look\nat when you wanna block people or\n\n373\n00:18:47.488 --> 00:18:50.650\ngroups from having specific\naccess to a policy.\n\n374\n00:18:50.650 --> 00:18:53.485\nSo my point is you wouldn't go\nto the security filtering tab,\n\n375\n00:18:53.485 --> 00:18:56.113\nyou would traditionally come\nhere through Delegation.\n\n376\n00:18:56.113 --> 00:18:59.478\nBecause you have to block a user or\na group by adding them here,\n\n377\n00:18:59.478 --> 00:19:02.560\nas counter-intuitive as\nit may sound to you.\n\n378\n00:19:02.560 --> 00:19:06.720\nAdd them here the way you just saw me,\nassigning some sort of permission, and\n\n379\n00:19:06.720 --> 00:19:09.230\nthen deny applied Group Policy permission\n\n380\n00:19:09.230 --> 00:19:13.120\nunder the Advanced Settings to block\ntheir ability to use the Group Policy.\n\n381\n00:19:13.120 --> 00:19:15.090\nAnd this is how would\nactually see this occur.\n\n382\n00:19:15.090 --> 00:19:18.005\nSo, do just wanna make sure\nyou're familiar with this and\n\n383\n00:19:18.005 --> 00:19:19.321\njust have a sense of this.\n\n384\n00:19:19.321 --> 00:19:23.161\nCuz this is one of those things that\npeople get confused about all the time and\n\n385\n00:19:23.161 --> 00:19:26.810\ndon't necessarily understand\nthat they would come here to do.\n\n386\n00:19:26.810 --> 00:19:30.170\nWe would check off deny Group Policy here,\n\n387\n00:19:30.170 --> 00:19:32.790\nbecause apply Group Policy permission,\nrather.\n\n388\n00:19:32.790 --> 00:19:37.030\nCuz if we take a look, if we go back\nhere to scope, and we click Add,\n\n389\n00:19:39.305 --> 00:19:44.252\nLet's just do domain guests, that's what\nwe were doing for a minute, click OK.\n\n390\n00:19:44.252 --> 00:19:48.023\nNotice here,\nthat when I highlight properties,\n\n391\n00:19:48.023 --> 00:19:52.329\nnotice all I have is the ability\nto take a look at members,\n\n392\n00:19:52.329 --> 00:19:56.122\nto add members into the group here or\nremove them.\n\n393\n00:19:56.122 --> 00:20:00.621\nI have no permission settings,\nno opportunity here to specify, allow,\n\n394\n00:20:00.621 --> 00:20:01.500\nor deny.\n\n395\n00:20:01.500 --> 00:20:05.930\nI can only add members to this group,\nassuming they're given certain rights.\n\n396\n00:20:05.930 --> 00:20:09.130\nWe specify the rights, in other words,\non the Delegation tab.\n\n397\n00:20:09.130 --> 00:20:13.170\nWe specify the memberships of the groups\nthat will see the policy here.\n\n398\n00:20:13.170 --> 00:20:17.020\nThat's why if you remove authenticated\nusers as a group on this tab,\n\n399\n00:20:17.020 --> 00:20:21.120\nnobody sees the policy cuz nobody\nhas rights to interact with it.\n\n400\n00:20:21.120 --> 00:20:23.360\nSo I wanna make sure you distinguish\nbetween these two areas.\n\n401\n00:20:23.360 --> 00:20:25.930\nThat's why I said in the prior show,\nhey, we're gonna come back,\n\n402\n00:20:25.930 --> 00:20:29.170\ntalk a little bit more about security\nfiltering, what goes on there.\n\n403\n00:20:29.170 --> 00:20:32.418\nCuz it's not as easy and not as intuitive\nas it may look at first glance.\n\n404\n00:20:32.418 --> 00:20:35.020\nSo you would think,\nI just go there, I add a group in.\n\n405\n00:20:35.020 --> 00:20:35.890\nI'm done, right?.\n\n406\n00:20:35.890 --> 00:20:36.950\nGive them rights, no big deal.\n\n407\n00:20:36.950 --> 00:20:38.210\nQuite the opposite.\n\n408\n00:20:38.210 --> 00:20:43.130\nYou add a group or a user here,\nspecifically to allow the membership to\n\n409\n00:20:43.130 --> 00:20:47.630\nthen be referenced through the Delegation\ntab, so that way we assign permissions.\n\n410\n00:20:47.630 --> 00:20:51.240\nAnd you'll see everything that is here,\nright, authenticated users,\n\n411\n00:20:51.240 --> 00:20:55.230\nwe have an access permission granted\nthrough inheritance that's here.\n\n412\n00:20:55.230 --> 00:20:57.660\nAll these others are given rights, right?\n\n413\n00:20:57.660 --> 00:20:58.540\nThey're given permissions.\n\n414\n00:20:58.540 --> 00:21:00.700\nWe don't have to specify\nthem on security filtering.\n\n415\n00:21:00.700 --> 00:21:03.140\nThey have rights to the policy here,\nright?\n\n416\n00:21:03.140 --> 00:21:04.700\nIf we deny them here,\nthey're not gonna see it.\n\n417\n00:21:04.700 --> 00:21:09.991\nBecause remember, every user that touches\nthis machine, this domain controller, logs\n\n418\n00:21:09.991 --> 00:21:15.090\nand authenticates, gets this policy under\nthe guise of being an authenticated user.\n\n419\n00:21:15.090 --> 00:21:18.500\nI don't have to go add\ndomain guests there.\n\n420\n00:21:18.500 --> 00:21:21.850\nWell, guests would be a bad example\ncuz guests will not necessarily be\n\n421\n00:21:21.850 --> 00:21:24.160\nauthenticated users, but you get the idea.\n\n422\n00:21:24.160 --> 00:21:27.890\nAny user that comes in that sees\nthis policy would get it through\n\n423\n00:21:27.890 --> 00:21:31.290\nthe membership of authenticated\nusers on the Security Filtering tab.\n\n424\n00:21:31.290 --> 00:21:35.670\nIf you remove that group, you're removing\neverybody who would ever have rights to\n\n425\n00:21:35.670 --> 00:21:38.010\nsee this policy,\nregardless of what permission they get.\n\n426\n00:21:38.010 --> 00:21:42.002\nSo here's where we deal with policies,\nor excuse me, permissions to policy,\n\n427\n00:21:42.002 --> 00:21:43.201\non the Delegation tab.\n\n428\n00:21:43.201 --> 00:21:45.113\nIt's very important to\nknow the difference and\n\n429\n00:21:45.113 --> 00:21:47.720\nmake sure you're familiar with\nhow these two things interact.\n\n430\n00:21:47.720 --> 00:21:51.069\nIf you're not getting this right or\nhaving this done the right way,\n\n431\n00:21:51.069 --> 00:21:53.771\nwe actually run the risk of\nyou blowing the policy up and\n\n432\n00:21:53.771 --> 00:21:56.561\nnot allowing the policy to\nactually be made available.\n\n433\n00:21:56.561 --> 00:21:58.289\nWhich can obviously be a big deal, right,\n\n434\n00:21:58.289 --> 00:22:01.092\nif you're not familiar with what we\nare doing and how we are doing it.\n\n435\n00:22:01.092 --> 00:22:03.120\n&gt;&gt; Yeah, did you want that update number?\n\n436\n00:22:03.120 --> 00:22:04.060\n&gt;&gt; Yeah, do you have it?\n\n437\n00:22:04.060 --> 00:22:06.097\nI know it's in the notes,\nI just don't have the note in front of me.\n\n438\n00:22:06.097 --> 00:22:09.040\n&gt;&gt; Okay, I just Googled it so-\n&gt;&gt; If you have it, it's 38 something.\n\n439\n00:22:09.040 --> 00:22:11.629\nI have it in the notes,\nI just don't remember the exact number.\n\n440\n00:22:11.629 --> 00:22:12.480\nBut it is in the show notes.\n\n441\n00:22:12.480 --> 00:22:13.938\nWhen you go through your show notes,\n\n442\n00:22:13.938 --> 00:22:16.110\nyou'll see the reference\nto the update number there.\n\n443\n00:22:16.110 --> 00:22:19.208\nI just don't remember the whole string for\nwhat it is, but I know it's June of 2016.\n\n444\n00:22:19.208 --> 00:22:20.260\nI just don't remember the actual number.\n\n445\n00:22:20.260 --> 00:22:22.271\nIf you have it,\nyou can certainly give it to us.\n\n446\n00:22:22.271 --> 00:22:24.576\nBut it is [INAUDIBLE]-\n&gt;&gt; Okay,\n\n447\n00:22:24.576 --> 00:22:28.694\nthe one I see a link is from\nJune 22nd in the 16-072.\n\n448\n00:22:28.694 --> 00:22:32.228\nAnd it's referencing deploying\nGroup Policy security update.\n\n449\n00:22:32.228 --> 00:22:34.473\nAnd it says about removing the-\n&gt;&gt; Yeah, so\n\n450\n00:22:34.473 --> 00:22:36.125\nthere's an actual reference number.\n\n451\n00:22:36.125 --> 00:22:38.002\nThat's the just general update number.\n\n452\n00:22:38.002 --> 00:22:38.810\n&gt;&gt; You mean the key number?\n\n453\n00:22:38.810 --> 00:22:40.871\n&gt;&gt; Yeah, like a 38 something,\nsomething, something, whatever it is.\n\n454\n00:22:40.871 --> 00:22:41.510\n&gt;&gt; Yeah, that's [INAUDIBLE].\n\n455\n00:22:41.510 --> 00:22:42.874\n&gt;&gt; But\nthat's the link we're talking about.\n\n456\n00:22:42.874 --> 00:22:43.434\nThat's the one.\n\n457\n00:22:43.434 --> 00:22:44.300\nSo I put it in the additional notes.\n\n458\n00:22:44.300 --> 00:22:45.714\nI put the actual reference there so\n\n459\n00:22:45.714 --> 00:22:47.871\nyou would know what it was\nif you wanted to look it up.\n\n460\n00:22:47.871 --> 00:22:51.270\nSo I appreciate you Googling that for\nus while we were talking.\n\n461\n00:22:51.270 --> 00:22:52.040\nAll right, teamwork, yay.\n\n462\n00:22:52.040 --> 00:22:52.850\n&gt;&gt; Woo-hoo!\n\n463\n00:22:52.850 --> 00:22:54.159\n&gt;&gt; All right, awesome.\n\n464\n00:22:54.159 --> 00:22:57.943\nOkay, so let's talk a little bit, since we\nare continuing to just kind of drilling\n\n465\n00:22:57.943 --> 00:22:59.849\nthrough some of the functionality here.\n\n466\n00:22:59.849 --> 00:23:03.133\nI wanted to talk about,\nwe've talked about security filtering and\n\n467\n00:23:03.133 --> 00:23:04.232\nkind of Group Policy.\n\n468\n00:23:04.232 --> 00:23:07.350\nHow we can do that, removing,\nadding permissions.\n\n469\n00:23:07.350 --> 00:23:12.404\nI actually have it here, it's 3159398.\n\n470\n00:23:12.404 --> 00:23:14.289\nIt's amazing what I find when\nI scroll down on my notes and\n\n471\n00:23:14.289 --> 00:23:16.345\nactually get to the right section\nwhere that information is.\n\n472\n00:23:16.345 --> 00:23:21.648\nAll right, so it's 3159398, June,\n2016 is where we see that change applying.\n\n473\n00:23:21.648 --> 00:23:23.590\nJust so you know,\nI'm just scrolling through my notes,\n\n474\n00:23:23.590 --> 00:23:25.742\ncatching up with where we are,\nshowing you everything we did.\n\n475\n00:23:25.742 --> 00:23:27.300\nAll right, so loopback policy process.\n\n476\n00:23:27.300 --> 00:23:28.550\nLet's talk a little bit about this.\n\n477\n00:23:28.550 --> 00:23:30.260\nI have this test policy set up.\n\n478\n00:23:30.260 --> 00:23:31.912\nI wanted to explain the logic of this.\n\n479\n00:23:31.912 --> 00:23:34.313\nSo let's just jump back over here,\nif we could.\n\n480\n00:23:34.313 --> 00:23:35.612\nI wanna wrap up this conversation,\n\n481\n00:23:35.612 --> 00:23:37.960\nprobably just talking about\nloopback processing a little bit.\n\n482\n00:23:37.960 --> 00:23:39.514\nSo, you ever use loopback at all?\n\n483\n00:23:39.514 --> 00:23:41.307\nYou ever set up loopback\npolicy processing?\n\n484\n00:23:41.307 --> 00:23:42.440\n&gt;&gt; I don't think so, Adam.\n\n485\n00:23:42.440 --> 00:23:43.780\n&gt;&gt; It's kinda interesting.\n\n486\n00:23:43.780 --> 00:23:48.390\nIt's often used in environments where\nwe may have a standalone system,\n\n487\n00:23:48.390 --> 00:23:50.160\nmaybe a kiosk set-up of some kind.\n\n488\n00:23:50.160 --> 00:23:53.853\nSo you imagine, for instance,\nyou go like to the airport, let's say.\n\n489\n00:23:53.853 --> 00:23:57.167\nAnd you have those standalone machines\nwhere you check-in, check your bags,\n\n490\n00:23:57.167 --> 00:23:58.166\nall that kind of stuff.\n\n491\n00:23:58.166 --> 00:23:59.706\nThose are what we call kiosks,\n\n492\n00:23:59.706 --> 00:24:03.913\nwhere they're operating, really running\njust A lock down environment, we don't\n\n493\n00:24:03.913 --> 00:24:08.080\nwanna have any changes made, changes\nare made, we don't want them to stick.\n\n494\n00:24:08.080 --> 00:24:10.471\nThis is what loopback\nprocessing is good for.\n\n495\n00:24:10.471 --> 00:24:13.307\nSo a lot of times,\nwhen we wanna control that environment,\n\n496\n00:24:13.307 --> 00:24:16.730\nlock it down on a standalone system,\nwe will use loopback processing.\n\n497\n00:24:16.730 --> 00:24:21.070\nSo the idea is that we will essentially\ndump the changes, more often than not,\n\n498\n00:24:21.070 --> 00:24:22.630\nmade by a user, and\n\n499\n00:24:22.630 --> 00:24:27.070\njust keep the system current, or if we\nrestart the system, reapply those changes.\n\n500\n00:24:27.070 --> 00:24:30.380\nWe may choose to merge them, there may be\ntimes when we want those changes made.\n\n501\n00:24:30.380 --> 00:24:32.420\nBut traditionally, we will ignore them, so\n\n502\n00:24:32.420 --> 00:24:36.830\nwe have two options for\nloo back processing, replace or merge.\n\n503\n00:24:36.830 --> 00:24:39.060\nWe can, and\nI'll show you this when we set the policy,\n\n504\n00:24:39.060 --> 00:24:42.590\nif we choose replace,\nwe replace the GPO list for\n\n505\n00:24:42.590 --> 00:24:47.230\nthe user, by the GPO that's populated\nas part of the LoopBack Policy.\n\n506\n00:24:47.230 --> 00:24:49.940\nEssentially, whatever changes\nthe user makes get wiped out.\n\n507\n00:24:49.940 --> 00:24:53.310\nWe reset the system, it's always gonna\nbe whatever it's supposed to be.\n\n508\n00:24:53.310 --> 00:24:56.490\nIf we choose merge, we will add\nthe policy input from the user,\n\n509\n00:24:56.490 --> 00:25:00.345\nas long as it doesn't violate the settings\nthat we've already hardcoded.\n\n510\n00:25:00.345 --> 00:25:04.193\nAnd we'll essentially have a policy\nthat becomes the amalgamation of those\n\n511\n00:25:04.193 --> 00:25:07.120\nhardcoded settings with\nwhatever users may do.\n\n512\n00:25:07.120 --> 00:25:08.574\nSo let's take a look\nat how we set this up,\n\n513\n00:25:08.574 --> 00:25:10.039\nit's just a very simple set of settings.\n\n514\n00:25:10.039 --> 00:25:13.925\nI've just created a policy called\nLoopBack Policy, just to label so\n\n515\n00:25:13.925 --> 00:25:15.082\nwe know where it is.\n\n516\n00:25:15.082 --> 00:25:19.945\nRight-click on the group policy objects\nfolder, New, and I just labeled it\n\n517\n00:25:19.945 --> 00:25:24.090\nloopback processing, there's no rhyme or\nreason to it other than that.\n\n518\n00:25:24.090 --> 00:25:26.880\nWe can go in and edit it,\nI actually already have it open.\n\n519\n00:25:26.880 --> 00:25:31.123\nSo I just right click on and edit it, and\nI'm editing the LoopBack Policy right now.\n\n520\n00:25:31.123 --> 00:25:33.170\nIf you go up to the top here,\n\n521\n00:25:33.170 --> 00:25:38.050\nyou will seeLoopBack Policy right there,\nI'm editing it.\n\n522\n00:25:38.050 --> 00:25:42.420\nI'm up under computer configuration and\npolicies, administrative template system,\n\n523\n00:25:42.420 --> 00:25:44.410\njust so you could see where I am.\n\n524\n00:25:44.410 --> 00:25:46.880\nAnd I'm in the group policy folder,\n\n525\n00:25:46.880 --> 00:25:50.490\nwe've been in here before, I showed you\nthis in one of the earlier episodes.\n\n526\n00:25:50.490 --> 00:25:54.758\nWe looked at a bunch of the settings that\nmay be affected by slow policy processing\n\n527\n00:25:54.758 --> 00:25:56.516\ndetection and things like that,\n\n528\n00:25:56.516 --> 00:26:00.749\nhow to turn off the policy processing\ntime limits, how to enforce time limits.\n\n529\n00:26:00.749 --> 00:26:05.593\nWe went though all that kinda stuff, so\nall I did here was simply alphabetize, so\n\n530\n00:26:05.593 --> 00:26:08.990\nI can look at the settings,\nand have them available.\n\n531\n00:26:08.990 --> 00:26:13.160\nAnd I highlight a configure user group\npolicy loopback processing mode.\n\n532\n00:26:13.160 --> 00:26:16.780\nAs you can see here, not configured,\njust gonna double-click, just so\n\n533\n00:26:16.780 --> 00:26:17.540\nwe can bring it up.\n\n534\n00:26:17.540 --> 00:26:21.621\nLet's bring up the editor here, just make\nthis full screen just so you can see this,\n\n535\n00:26:21.621 --> 00:26:23.305\ncan we go full screen for a minute?\n\n536\n00:26:23.305 --> 00:26:25.640\nJust so we can see what's going on there,\nthank you very much.\n\n537\n00:26:25.640 --> 00:26:30.416\nAnd you can see that I enable this, and\nwhen I do, I have the mode differentiator\n\n538\n00:26:30.416 --> 00:26:34.942\nhere, Replace and/or Merge, and\nI can choose the appropriate setting.\n\n539\n00:26:34.942 --> 00:26:38.085\nI have to have at least Windows 2000\nto do this, I told you a lot of\n\n540\n00:26:38.085 --> 00:26:41.650\nthese settings go all the way back from\nthe very beginning of group policy, right?\n\n541\n00:26:41.650 --> 00:26:46.420\nAnd so it talks to us about the fact that\nwe could select one of the following modes\n\n542\n00:26:46.420 --> 00:26:49.120\nfrom the mode box,\nReplace versus Merge, and\n\n543\n00:26:49.120 --> 00:26:52.000\nexplains what I just told you\nabout the two different modes.\n\n544\n00:26:52.000 --> 00:26:56.640\nI like the way Microsoft, for\nmany years now, has gone out and\n\n545\n00:26:56.640 --> 00:27:00.600\nreally defined and documented for\nus what the options are in policy.\n\n546\n00:27:00.600 --> 00:27:04.930\nThey do a good job of explaining it,\nthey tell us what we're doing here, right?\n\n547\n00:27:04.930 --> 00:27:09.718\nAnd once we make a choice, whatever it may\nbe, we'll just set it to Merge, let's say,\n\n548\n00:27:09.718 --> 00:27:11.420\nand Apply, and just click OK.\n\n549\n00:27:11.420 --> 00:27:14.272\nWe have that there, but\nthen if we go here, and\n\n550\n00:27:14.272 --> 00:27:18.970\nwe go to Standard, notice we lose\nthe little explanatory column over here.\n\n551\n00:27:18.970 --> 00:27:21.980\nA lot of times people lose that,\ndon't know how to get that back.\n\n552\n00:27:21.980 --> 00:27:26.170\nThe extended tab gives us the explanation\nwe just saw in the documentation of\n\n553\n00:27:26.170 --> 00:27:29.610\nthe policy right here, so we can actually\njust read it in this little column.\n\n554\n00:27:29.610 --> 00:27:33.470\nAnd when we talk about standard versus\nextended policy, we're just talking about\n\n555\n00:27:33.470 --> 00:27:38.120\nthe way we differentiate and show you the\ndocumentation information inside the GPMC.\n\n556\n00:27:38.120 --> 00:27:40.650\nSo you can see that there,\nin case you were wondering and\n\n557\n00:27:40.650 --> 00:27:43.300\njust wanted to know what that was,\nSso we can see that.\n\n558\n00:27:43.300 --> 00:27:47.310\nSo the path to set this up, right,\nis in the group policy area.\n\n559\n00:27:47.310 --> 00:27:50.910\nWe set this up, we apply this and\nthen the system, when it applies, and\n\n560\n00:27:50.910 --> 00:27:54.570\nthis is a computer setting,\nwhich means it's applied to the computer,\n\n561\n00:27:54.570 --> 00:27:56.000\nnot through the user.\n\n562\n00:27:56.000 --> 00:27:58.927\nSo every time you start the computer up,\nthis policy applies,\n\n563\n00:27:58.927 --> 00:28:00.096\nzeroes out the changes.\n\n564\n00:28:00.096 --> 00:28:02.464\nWhether we choose to allow with replace or\na merge,\n\n565\n00:28:02.464 --> 00:28:05.889\nthe settings the user may engage in\nwhile they are in that active session.\n\n566\n00:28:05.889 --> 00:28:09.524\nMaybe they right click, edit\nthe background on the machine's desktop,\n\n567\n00:28:09.524 --> 00:28:14.040\nif we give them the right to do that, the\npolicy doesn't block that somewhere else.\n\n568\n00:28:14.040 --> 00:28:17.993\nThen what we would do is, we would\nsay if the policy was set to replace,\n\n569\n00:28:17.993 --> 00:28:19.806\nwe would just drop that change.\n\n570\n00:28:19.806 --> 00:28:22.328\nAnd as soon as the user logged out,\nthe session would reset,\n\n571\n00:28:22.328 --> 00:28:25.580\nthe background would go back to\nwhatever the policy said it should be.\n\n572\n00:28:25.580 --> 00:28:29.190\nMaybe it's a corporate logo or\nsomething, whatever the case is.\n\n573\n00:28:29.190 --> 00:28:32.926\nIf we allow for merging, as long as\nthe policy is not gonna be affected by\n\n574\n00:28:32.926 --> 00:28:36.122\nthe user settings,\nwe would actually keep those settings.\n\n575\n00:28:36.122 --> 00:28:40.212\nAnd that's the difference between the two,\nso it's a matter of how we choose to\n\n576\n00:28:40.212 --> 00:28:44.501\napply those settings over time, but merge\nversus replace will allow us to do this.\n\n577\n00:28:44.501 --> 00:28:48.708\nIf we combine this with security group\nfiltering, by the way, then we can go\n\n578\n00:28:48.708 --> 00:28:53.047\nahead and we can have a little bit more\ncontrol over what users and/or, in this\n\n579\n00:28:53.047 --> 00:28:57.420\ncase, what computer objects are gonna\nhave the rights to interact with this.\n\n580\n00:28:57.420 --> 00:29:00.160\nSo keep in mind what we just talked\nabout with security filtering and\n\n581\n00:29:00.160 --> 00:29:03.370\nthe ability to be able to control that,\nso just keep that in mind.\n\n582\n00:29:03.370 --> 00:29:07.053\nWe've also talked about the importance of,\nand I'll just remind you of,\n\n583\n00:29:07.053 --> 00:29:10.223\nthe importance of the slow policy\nlink detection here, right?\n\n584\n00:29:10.223 --> 00:29:14.920\nHow fast a policy link is, or\nhow fast the bandwidth between systems is,\n\n585\n00:29:14.920 --> 00:29:16.770\nis something we can modify.\n\n586\n00:29:16.770 --> 00:29:19.760\nAnd that same exact error we were\njust did with other settings,\n\n587\n00:29:19.760 --> 00:29:21.580\nremember 500k by default.\n\n588\n00:29:21.580 --> 00:29:22.630\nWe can drop that down,\n\n589\n00:29:22.630 --> 00:29:26.310\nraise that up, to specify threshold\nthrough policy processing.\n\n590\n00:29:26.310 --> 00:29:28.208\nSo it is something just to consider and\nto think about.\n\n591\n00:29:28.208 --> 00:29:33.008\nCombining these together will allow us to\nreally tightly maneuver, control, filter,\n\n592\n00:29:33.008 --> 00:29:35.760\nand apply policies,\ngiven the range of options and\n\n593\n00:29:35.760 --> 00:29:38.780\nthe specificity we need in\norder to make this possible.\n\n594\n00:29:38.780 --> 00:29:42.577\nSo it is important just to be aware of\nthese settings, how they work, as I said,\n\n595\n00:29:42.577 --> 00:29:45.600\nloopback processing's been\naround since Windows 2000.\n\n596\n00:29:45.600 --> 00:29:50.360\nIt is not a new setting,\nit's not one of those Server 2016 things,\n\n597\n00:29:50.360 --> 00:29:53.640\nit's been around for a long,\nlong time, right, but it is important.\n\n598\n00:29:53.640 --> 00:29:56.306\nWe would assign that policy\nby linking it to an OU,\n\n599\n00:29:56.306 --> 00:29:58.339\nstandard way we've shown how you do.\n\n600\n00:29:58.339 --> 00:30:00.687\nIf you wanna just join me here,\nwe can quickly take a look at that,\n\n601\n00:30:00.687 --> 00:30:01.434\njust to remind you.\n\n602\n00:30:01.434 --> 00:30:05.860\nLet's just say hypothetically,\nthe kiosk test OU that I've created here,\n\n603\n00:30:05.860 --> 00:30:08.510\nas you can see,\nI've already linked the policy there.\n\n604\n00:30:08.510 --> 00:30:11.060\nAll I did was right-click,\n\n605\n00:30:11.060 --> 00:30:14.490\nLink an existing GPO,\npulled it out of the list, put it there.\n\n606\n00:30:14.490 --> 00:30:15.930\nYou'll see link order,\n\n607\n00:30:15.930 --> 00:30:18.750\nthat means that policy's gonna\nbe applied before anything else.\n\n608\n00:30:18.750 --> 00:30:21.790\nAnd you'll see, or rather,\nwill be the policy applied, I should say,\n\n609\n00:30:21.790 --> 00:30:26.810\nnot enforced, link enabled yes,\nGPO enabled yes, no WMI filter.\n\n610\n00:30:26.810 --> 00:30:28.530\nAnd so we can see there\nthat it will be applied and\n\n611\n00:30:28.530 --> 00:30:30.556\nwe can see all the settings\nassociated with it, right.\n\n612\n00:30:30.556 --> 00:30:32.748\nJust wanna make sure we're\naware of that and things, for\n\n613\n00:30:32.748 --> 00:30:34.401\nthe logic of how some\nof these things work.\n\n614\n00:30:34.401 --> 00:30:38.786\nAllowing us to really get to, at the end\nof the day, the outcomes we look for for\n\n615\n00:30:38.786 --> 00:30:39.330\npolicy.\n\n616\n00:30:39.330 --> 00:30:43.047\nBecause policy, as you're beginning\nto see, this is our fifth episode,\n\n617\n00:30:43.047 --> 00:30:44.761\nif I remember correctly, right?\n\n618\n00:30:44.761 --> 00:30:45.364\n&gt;&gt; Yes.\n\n619\n00:30:45.364 --> 00:30:47.698\n&gt;&gt; Complex topic, we actually\nstill have some more stuff to go.\n\n620\n00:30:47.698 --> 00:30:51.430\nGonna talk about result in set of\npolicies, and group policy modeling.\n\n621\n00:30:51.430 --> 00:30:53.560\nWe haven't gotten down there yet\nat the bottom of the console.\n\n622\n00:30:53.560 --> 00:30:57.210\nWe're gonna take a look at what goes\non there in an upcoming conversation.\n\n623\n00:30:57.210 --> 00:30:59.452\nAnd we still have also,\naside from all that,\n\n624\n00:30:59.452 --> 00:31:02.594\nstill have to talk about some of\nthe other stuff around policy.\n\n625\n00:31:02.594 --> 00:31:06.588\nAnd just how we use policy to achieve\ncertain end results, things like folder\n\n626\n00:31:06.588 --> 00:31:10.650\nredirection, Internet Explorer\nconfiguration, software deployment.\n\n627\n00:31:10.650 --> 00:31:13.548\nThere's all this other stuff we can do\nthat we haven't really touched on yet, and\n\n628\n00:31:13.548 --> 00:31:15.942\nwe'll be talking about those things\nin upcoming episodes as well.\n\n629\n00:31:15.942 --> 00:31:17.766\n&gt;&gt; All right, perfect,\nso let's go ahead and\n\n630\n00:31:17.766 --> 00:31:20.160\nget started on those upcoming episodes,\nthen.\n\n631\n00:31:20.160 --> 00:31:22.927\nThank you for joining us, and thank you\nfor joining us as well, but stay tuned,\n\n632\n00:31:22.927 --> 00:31:24.600\nyou don't wanna miss\nwhat's coming your way.\n\n633\n00:31:24.600 --> 00:31:27.805\nFor this show, we'll go ahead and sign\nout, I've been your host, Cherokee Boose.\n\n634\n00:31:27.805 --> 00:31:28.638\n&gt;&gt; I'm Adam Gordon.\n\n635\n00:31:28.638 --> 00:31:31.227\n&gt;&gt; See you next time at ITProTV.\n\n636\n00:31:31.227 --> 00:31:37.980\n[MUSIC]\n\n637\n00:31:37.980 --> 00:31:41.009\n&gt;&gt; Thank you for watching, ITProTV.\n\n",
          "vimeoId": "231755223"
        },
        {
          "description": "In this show, Cherokee and Adam start the show covering RSoP. Adam shows where one would generate reporting log information. He also shows how to use a\"what if\" tool called Group Policy Modeling. He reiterates the use of the GPResult.exe tool as well as covers PowerShell cmdlets  used such as Get-GPResultantSetOfPolicy.",
          "length": "1958",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-6-implementing_group_policy_pt6-082817-PGM.00_34_14_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-6-implementing_group_policy_pt6-082817-PGM.00_34_14_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-5-1-6-implementing_group_policy_pt6-082817-PGM.00_34_14_20.Still001-sm.jpg",
          "title": "Implementing Group Policy Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.819\nWelcome to ITProTV,\nI'm you're host Don Pezet.\n\n2\n00:00:02.819 --> 00:00:05.098\n[CROSSTALK]\n&gt;&gt; Coming at you live from San Francisco,\n\n3\n00:00:05.098 --> 00:00:05.807\nCalifornia.\n\n4\n00:00:05.807 --> 00:00:08.228\n[MUSIC]\n\n5\n00:00:08.228 --> 00:00:12.015\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.015 --> 00:00:16.420\n&gt;&gt; Welcome ladies and gentlemen to your\nIdentity with Windows Server 2016 series.\n\n7\n00:00:16.420 --> 00:00:19.040\nI'm you're show host Cherokee Boose.\n\n8\n00:00:19.040 --> 00:00:23.620\nThis is actually a Part 6, we've made it\nthis far taking a look at group policy.\n\n9\n00:00:23.620 --> 00:00:26.864\nAnd back with us today,\nwe have Microsoft expert Adam Gordon.\n\n10\n00:00:26.864 --> 00:00:27.650\nHow's it going, Adam?\n\n11\n00:00:29.030 --> 00:00:30.898\nSix, Part 6, we made it.\n\n12\n00:00:30.898 --> 00:00:31.945\n&gt;&gt; Not five, but six.\n\n13\n00:00:31.945 --> 00:00:32.969\nIf we do it twice, we can do 12.\n\n14\n00:00:32.969 --> 00:00:33.860\n&gt;&gt; High five.\n\n15\n00:00:33.860 --> 00:00:34.825\n&gt;&gt; Awesome, a high six.\n\n16\n00:00:34.825 --> 00:00:36.731\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so it's going well,\n\n17\n00:00:36.731 --> 00:00:38.877\nwe're gonna continue our\nconversation about Group Policy.\n\n18\n00:00:38.877 --> 00:00:41.886\nKinda wrapping up a lot of the\nintroductory stuff, some of the bells and\n\n19\n00:00:41.886 --> 00:00:43.342\nwhistles, tools, techniques,\n\n20\n00:00:43.342 --> 00:00:45.930\nwe've been talking about here\nthroughout these episodes.\n\n21\n00:00:45.930 --> 00:00:49.090\nIt's got another set of episodes on\nthe other side of this Group Policy\n\n22\n00:00:49.090 --> 00:00:49.900\ndiscussion.\n\n23\n00:00:49.900 --> 00:00:52.955\nWe're gonna move into managing\nuser settings for Group Policy.\n\n24\n00:00:52.955 --> 00:00:54.575\nWe'll be talking about those.\n\n25\n00:00:54.575 --> 00:00:57.675\nI previewed, hinted at some of\nthat stuff in the last discussion.\n\n26\n00:00:57.675 --> 00:01:01.785\nThings like folder redirect, deploying\nsoftware, things of that nature that\n\n27\n00:01:01.785 --> 00:01:04.855\nare gonna control and\nbe used to control the user experience.\n\n28\n00:01:04.855 --> 00:01:07.775\nWell, I'll be dealing with those\nin some upcoming conversations.\n\n29\n00:01:07.775 --> 00:01:10.365\nEncourage you to come back,\ntake a look at that content as well.\n\n30\n00:01:10.365 --> 00:01:12.255\nPart of the overall exam objectives.\n\n31\n00:01:12.255 --> 00:01:14.385\nDefinitely some stuff you\nwanna be able to look at.\n\n32\n00:01:14.385 --> 00:01:16.065\nI looked at the exam objectives mapping.\n\n33\n00:01:16.065 --> 00:01:17.220\nWe don't always put it up.\n\n34\n00:01:17.220 --> 00:01:19.030\nSometimes might not be\nsuch a bad idea every so\n\n35\n00:01:19.030 --> 00:01:21.620\noften to do that and\nI'll put it up in a future show.\n\n36\n00:01:21.620 --> 00:01:22.970\nI'll have it up just to show you.\n\n37\n00:01:22.970 --> 00:01:26.590\nYou know you can go look at it at\nMicrosoft website, microsoft.com learning,\n\n38\n00:01:26.590 --> 00:01:30.190\ngo ahead and search for\nthe 7742 Exam, in this case.\n\n39\n00:01:30.190 --> 00:01:35.250\nBut when you look Group Policy by\npercentage weight, one of the two top\n\n40\n00:01:35.250 --> 00:01:40.960\npercentage weighted areas for the exam,\nthat and setting up and configuring ADDS.\n\n41\n00:01:40.960 --> 00:01:45.300\nWhich Cherokee and I have done a whole\nbunch of stuff on in prior episodes.\n\n42\n00:01:45.300 --> 00:01:49.220\nThose two together make up close to\n50% of the exam just by themselves\n\n43\n00:01:49.220 --> 00:01:50.430\nwithout anything else.\n\n44\n00:01:50.430 --> 00:01:51.960\nSo it's interesting, so\nwhen you go take a look,\n\n45\n00:01:51.960 --> 00:01:56.980\nthere's quite a bit of expectation around\nknowledge management in these areas.\n\n46\n00:01:56.980 --> 00:01:59.370\nWe spend a lot of time developing\nthe thoughts around them.\n\n47\n00:01:59.370 --> 00:02:02.890\nTalking about it with you, helping\nyou to better understand the tools,\n\n48\n00:02:02.890 --> 00:02:06.520\nthe techniques, the methodologies, the\nreasoning behind why we do certain things,\n\n49\n00:02:06.520 --> 00:02:07.390\nhow we do them.\n\n50\n00:02:07.390 --> 00:02:11.155\nTo make sure you're prepared and\nyou have the adequate tools, resources,\n\n51\n00:02:11.155 --> 00:02:14.280\nknowledge,and capabilities to go out and\nbe successful first time around.\n\n52\n00:02:14.280 --> 00:02:15.510\nVery important to do that.\n\n53\n00:02:15.510 --> 00:02:17.620\nSo we're gonna continue\nwith that thought process.\n\n54\n00:02:17.620 --> 00:02:19.280\nMiss Cherokee, what are we gonna start?\n\n55\n00:02:19.280 --> 00:02:21.207\n&gt;&gt; We are gonna start with\nResultant Set Of Policy.\n\n56\n00:02:21.207 --> 00:02:25.261\n&gt;&gt; RSOP, outstanding choice,\nof all the things you could have chosen.\n\n57\n00:02:25.261 --> 00:02:26.861\nRight in line of where we were.\n\n58\n00:02:26.861 --> 00:02:30.648\nSo we are gonna actually spend some time\ntalking about RSOP, Group Policy modeling.\n\n59\n00:02:30.648 --> 00:02:32.202\nAlready showed you GP Result,\n\n60\n00:02:32.202 --> 00:02:35.804\nwhich is the command line version of\nthe tools we're gonna talk about.\n\n61\n00:02:35.804 --> 00:02:38.311\nWe're also going to talk about\nlogging with Group Policy.\n\n62\n00:02:38.311 --> 00:02:41.950\nWe haven't really talked about all that\ninformation about what we do winds up.\n\n63\n00:02:41.950 --> 00:02:43.350\nYou can see it in the GPMC, but\n\n64\n00:02:43.350 --> 00:02:47.660\nwe have a series of logs that we may want\nto look at and a tool, the GP Log Viewer.\n\n65\n00:02:47.660 --> 00:02:48.908\nThat's been an oldie but a goody,\n\n66\n00:02:48.908 --> 00:02:50.855\nbeen around since Vista that\nwe can download and use.\n\n67\n00:02:50.855 --> 00:02:53.496\nCommand line tool,\nyou gotta play around a little,\n\n68\n00:02:53.496 --> 00:02:57.520\nget comfortable with it let us expound\non our knowledge of the log information,\n\n69\n00:02:57.520 --> 00:03:00.900\nmanipulate, manage it,\nexamine it in slightly different ways.\n\n70\n00:03:00.900 --> 00:03:04.200\nI'll show you what a find that tool, even\nthough it says it only works on Vista,\n\n71\n00:03:04.200 --> 00:03:05.446\nit also works on Server 16.\n\n72\n00:03:05.446 --> 00:03:08.827\nWe're gonna show you how to use that as\nwell, but only if you stay with us for\n\n73\n00:03:08.827 --> 00:03:10.250\nthe next part of this episode.\n\n74\n00:03:10.250 --> 00:03:11.780\nSo let's get started if we can.\n\n75\n00:03:11.780 --> 00:03:14.710\nCome back over here and\nwe have a whole lot of blue nothing.\n\n76\n00:03:14.710 --> 00:03:18.260\nThat is our desktop on our\nServer 2016 domain controller.\n\n77\n00:03:18.260 --> 00:03:20.970\nJust where we left it off\nfrom our last conversation.\n\n78\n00:03:20.970 --> 00:03:23.518\nWhat we're gonna do, come back in here,\n\n79\n00:03:23.518 --> 00:03:26.130\nlet me just open up\nthe Group Policy Management Console.\n\n80\n00:03:26.130 --> 00:03:27.710\nYou could see it right here.\n\n81\n00:03:27.710 --> 00:03:31.490\nNow what I have done is to set up\nbehind the scenes in the interim\n\n82\n00:03:31.490 --> 00:03:36.250\nbetween the last episode and this one,\na Windows 10 client, a Windows 8.1 client,\n\n83\n00:03:36.250 --> 00:03:41.090\ndomain controller has these as members\nthat are associated with the domain.\n\n84\n00:03:41.090 --> 00:03:43.080\nWe've logged into both,\njust made sure they're up and\n\n85\n00:03:43.080 --> 00:03:46.840\nrunning, made sure the WMI\nmanagement service is available so\n\n86\n00:03:46.840 --> 00:03:49.450\nwe can roam and reach out and\nconnect to those machines.\n\n87\n00:03:49.450 --> 00:03:52.700\nAnd I have at least one valid user in\nthe domain, that I'm gonna use just\n\n88\n00:03:52.700 --> 00:03:57.325\nto show you some group policy modelling\nand some group policy results.\n\n89\n00:03:57.325 --> 00:04:00.505\nAnd so we talked about all the other\naspects of the Group Policy interface.\n\n90\n00:04:00.505 --> 00:04:04.355\nLet me just bring all this stuff up here,\nso we can kinda collapse this and\n\n91\n00:04:04.355 --> 00:04:05.685\nclean up the interface a little bit.\n\n92\n00:04:05.685 --> 00:04:09.447\nHaving been through all the other stuff\nup there in the last five episodes.\n\n93\n00:04:09.447 --> 00:04:13.517\nIf you don't remember, haven't seen that,\nI encourage you to go back, take a look.\n\n94\n00:04:13.517 --> 00:04:15.197\nCherokee went through,\nexplained everything.\n\n95\n00:04:15.197 --> 00:04:16.839\nI just sat back and\ndidn't have anything to say.\n\n96\n00:04:16.839 --> 00:04:19.177\n&gt;&gt; [LAUGH]\n&gt;&gt; It was quite a restful day for me.\n\n97\n00:04:19.177 --> 00:04:22.167\nBut she went into great depth there,\ndid everything.\n\n98\n00:04:22.167 --> 00:04:25.977\nAnd what we're talking about now is\njust the bottom little areas down here.\n\n99\n00:04:25.977 --> 00:04:28.637\nGroup Policy modeling, and\nyou said Group Policy Results,\n\n100\n00:04:28.637 --> 00:04:31.010\nI said RSOP result instead of policy.\n\n101\n00:04:31.010 --> 00:04:34.630\nCuz that's actually what the name\nof the tool was years ago.\n\n102\n00:04:34.630 --> 00:04:37.240\nWe kinda still refer to it as RSOP, but\n\n103\n00:04:37.240 --> 00:04:40.640\nthe Group Policy Results Wizard\nis what we're talking about.\n\n104\n00:04:40.640 --> 00:04:43.410\nAnd Group Policy Results here,\nyou can see that.\n\n105\n00:04:43.410 --> 00:04:45.350\nWe can right-click and run the wizard.\n\n106\n00:04:45.350 --> 00:04:46.910\nI'm gonna show you how to\ndo that in a minute, but\n\n107\n00:04:46.910 --> 00:04:48.980\nI've already run the wizard once.\n\n108\n00:04:48.980 --> 00:04:52.130\nTargeting that Windows 10 machine\nthat I mentioned I have up and\n\n109\n00:04:52.130 --> 00:04:55.190\nrunning under the guise of\nthe administrative credential.\n\n110\n00:04:55.190 --> 00:04:58.170\nYou'll see the output of\nthat exercise right there.\n\n111\n00:04:58.170 --> 00:05:01.740\nGet a little Summary tab and\nthe Group Policy Results.\n\n112\n00:05:01.740 --> 00:05:07.100\nTells me what it is I ran, when I ran it,\nshows me that a fast link was detected.\n\n113\n00:05:07.100 --> 00:05:09.210\nNo errors detected on the computer or\n\n114\n00:05:09.210 --> 00:05:14.040\nthe user policy refresh tells you date and\ntime and timestamp for when we did that.\n\n115\n00:05:14.040 --> 00:05:16.821\nAnd it's nice you get this\nlittle more information link,\n\n116\n00:05:16.821 --> 00:05:20.451\nyou click on this it takes you out to\nMicrosoft, tells you what the effects of\n\n117\n00:05:20.451 --> 00:05:24.222\nwhat's called Fast Logon Optimization and\nFast Startup on Group Policy are.\n\n118\n00:05:24.222 --> 00:05:27.638\nMeaning the opportunity for\nus to be able to go in and\n\n119\n00:05:27.638 --> 00:05:30.900\ntake a look at the use of\nclient side extensions.\n\n120\n00:05:30.900 --> 00:05:34.940\nI mentioned this in one of our prior\nconversations the use of CSEs and\n\n121\n00:05:34.940 --> 00:05:39.270\nhow we force or don't force policy\napplication refresh as a result of that.\n\n122\n00:05:39.270 --> 00:05:43.540\nAnd just walks you through some of\nthe information of the backup on that.\n\n123\n00:05:43.540 --> 00:05:44.820\nSo you might want to take a look.\n\n124\n00:05:44.820 --> 00:05:48.360\nWe've had that conversation already,\nbut we could see that here.\n\n125\n00:05:48.360 --> 00:05:51.550\nWe have the ability to see\nthe details of the policy.\n\n126\n00:05:51.550 --> 00:05:54.930\nIn this case,\nas the administrator of the domain,\n\n127\n00:05:54.930 --> 00:05:57.790\nlogged onto a domain member on Windows 10.\n\n128\n00:05:57.790 --> 00:06:01.710\nWhat would be the cumulative effect\nof the policy that I would see.\n\n129\n00:06:01.710 --> 00:06:03.000\nAnd I see the computer name.\n\n130\n00:06:03.000 --> 00:06:04.020\nI see the site.\n\n131\n00:06:04.020 --> 00:06:05.800\nI see the security group membership.\n\n132\n00:06:05.800 --> 00:06:09.740\nSo if I want to I can click Show,\nsee what groups I may be involved with so\n\n133\n00:06:09.740 --> 00:06:11.470\nI can see this Information.\n\n134\n00:06:11.470 --> 00:06:13.960\nAgain, thinking ahead of the curve here.\n\n135\n00:06:13.960 --> 00:06:15.840\nOne of the great things\nwe can use this for\n\n136\n00:06:15.840 --> 00:06:19.550\nis documentation to validate our settings,\nto do an audit, to\n\n137\n00:06:19.550 --> 00:06:23.610\nbe able to a spot check and see whether or\nnot things or working the way they should.\n\n138\n00:06:23.610 --> 00:06:27.190\nThere's a lot of reasons why this kind\nof a tool could be very valuable for us.\n\n139\n00:06:27.190 --> 00:06:31.170\nThe component status group policy\ninfrastructure, registry and security,\n\n140\n00:06:31.170 --> 00:06:36.350\nnotice all success, time taken to check\nthat, and the event log information.\n\n141\n00:06:36.350 --> 00:06:39.360\nRemember, I mentioned the importance\nof logs, the fact that we can view logs\n\n142\n00:06:39.360 --> 00:06:41.910\nin different areas to find\ngroup policy information.\n\n143\n00:06:41.910 --> 00:06:44.060\nWe have a link for that right here.\n\n144\n00:06:44.060 --> 00:06:46.339\nWhen I click View Log on any one of these.\n\n145\n00:06:47.890 --> 00:06:51.330\nIf I click it and actually get the click,\nthere we go, to register,\n\n146\n00:06:51.330 --> 00:06:52.600\nit should go out.\n\n147\n00:06:52.600 --> 00:06:55.950\nAnd yes, I wanna keep running the script.\n\n148\n00:06:55.950 --> 00:06:59.220\nYou should go out and\nactually show me the log.\n\n149\n00:06:59.220 --> 00:07:01.690\nWell, that link appears\nnot to be connecting and\n\n150\n00:07:01.690 --> 00:07:03.100\ndoing what it's supposed to do.\n\n151\n00:07:03.100 --> 00:07:05.216\nShould take me out and\nactually pop the log entry up.\n\n152\n00:07:05.216 --> 00:07:07.652\nI'll show you the logs in a couple\nof minutes, don't worry about that.\n\n153\n00:07:07.652 --> 00:07:10.152\nWe may just have a little glitch\nwith the report because I ran it and\n\n154\n00:07:10.152 --> 00:07:11.438\nit's just been sitting a while.\n\n155\n00:07:11.438 --> 00:07:13.310\nBut in general,\nit should just pop up the log for you and\n\n156\n00:07:13.310 --> 00:07:14.382\nshow you what that looks like.\n\n157\n00:07:14.382 --> 00:07:18.150\nSo let's just write hide the component\nstatus, kind of roll this up here just so\n\n158\n00:07:18.150 --> 00:07:19.513\nwe can see what's going on.\n\n159\n00:07:19.513 --> 00:07:20.249\nCan we go full screen?\n\n160\n00:07:20.249 --> 00:07:22.691\nCuz I'm sitting over part of what's there,\njust so you can see this.\n\n161\n00:07:22.691 --> 00:07:25.068\nI'm gonna click Show All just so\neverything opens up and\n\n162\n00:07:25.068 --> 00:07:27.962\nyou can kinda see everything this\nwill be a little bit easier to see.\n\n163\n00:07:27.962 --> 00:07:32.555\nAnd then what you'll see down here is\nwe see the sum total of all the policy\n\n164\n00:07:32.555 --> 00:07:33.320\nsettings.\n\n165\n00:07:33.320 --> 00:07:36.270\nThis is the default domain policy.\n\n166\n00:07:36.270 --> 00:07:40.460\nSo the administrative policy, password\npolicy shows us what the standard is.\n\n167\n00:07:40.460 --> 00:07:44.720\nWhen the winning GPO, I love how they\nframe that everybody's a winner right?\n\n168\n00:07:44.720 --> 00:07:49.490\nThe winning GPO, this is the domain\npolicy in this case default,\n\n169\n00:07:49.490 --> 00:07:50.950\nthe domain policy that's being applied.\n\n170\n00:07:50.950 --> 00:07:52.927\nRemember, we talked about\nthe order of precedence?\n\n171\n00:07:52.927 --> 00:07:56.340\nTalked about what policy gets applied\nlast based on priority order.\n\n172\n00:07:56.340 --> 00:08:00.656\nThat one becoming the effective arbiter of\nthe settings in terms of the last settings\n\n173\n00:08:00.656 --> 00:08:01.217\napplied.\n\n174\n00:08:01.217 --> 00:08:04.945\nThis run through shows us what that\nwinning GPO was, what was the policy\n\n175\n00:08:04.945 --> 00:08:08.814\nthat got applied, And ultimately,\nwhich one is gonna take precedence.\n\n176\n00:08:08.814 --> 00:08:11.710\nSo it shows us where the settings\nare coming from, in other words.\n\n177\n00:08:11.710 --> 00:08:12.950\nVery important to be aware of that.\n\n178\n00:08:14.310 --> 00:08:16.334\nAnd it shows us, as we scroll down,\n\n179\n00:08:16.334 --> 00:08:19.241\nall of the various areas\nwhere settings may occur.\n\n180\n00:08:19.241 --> 00:08:22.899\nAs you can see, shows us Windows\ncomponents, Remote Desktop Services,\n\n181\n00:08:22.899 --> 00:08:25.970\nRemote Desktop Session Hosts,\nconnections, winning GPO.\n\n182\n00:08:25.970 --> 00:08:27.858\nNotice, Local Group Policy,\n\n183\n00:08:27.858 --> 00:08:31.778\nnotice on the Windows 10 machine\nsome settings are intact from\n\n184\n00:08:31.778 --> 00:08:36.630\nthe Local Group Policy, because\nthe domain policy does not affect them.\n\n185\n00:08:36.630 --> 00:08:40.680\nWe talked about this as well,\nwe said policy is cumulative.\n\n186\n00:08:40.680 --> 00:08:41.670\nAdd everything together.\n\n187\n00:08:41.670 --> 00:08:45.420\nWe start at the local policy in theory,\nas our starting point, unless we purposely\n\n188\n00:08:45.420 --> 00:08:49.770\nhave denied access to process that with\nthe Group Policy at the domain level.\n\n189\n00:08:49.770 --> 00:08:51.270\nWe said normally we wouldn't do that,\n\n190\n00:08:51.270 --> 00:08:53.730\nbut we do have an option\nto do that if we want to.\n\n191\n00:08:53.730 --> 00:08:55.220\nI showed you how you could,\nin other words,\n\n192\n00:08:55.220 --> 00:08:59.000\nblock the use of a local policy in\nfavor of the domain policy only.\n\n193\n00:08:59.000 --> 00:09:00.030\nBut, the assumption and\n\n194\n00:09:00.030 --> 00:09:03.640\nthe default standard is,\nlocal policy is the starting point.\n\n195\n00:09:03.640 --> 00:09:05.640\nWe add as we go,\n\n196\n00:09:05.640 --> 00:09:08.970\ncumulatively aggregate all those\nchanges from all the other policies.\n\n197\n00:09:08.970 --> 00:09:12.310\nRemember local,\nthen the site level, forest wide.\n\n198\n00:09:12.310 --> 00:09:14.700\nThen, the domain policy,\nwe're seeing that here.\n\n199\n00:09:14.700 --> 00:09:16.017\nThen, the parent OUs and\n\n200\n00:09:16.017 --> 00:09:19.969\nthen if we have child OUs nested in\nthrough all that synchronously as we go,\n\n201\n00:09:19.969 --> 00:09:24.020\nin order, we get the cumulative effect,\nthe net policy at the bottom.\n\n202\n00:09:24.020 --> 00:09:26.250\nWe're seeing evidence of\nthat exact behavior here.\n\n203\n00:09:26.250 --> 00:09:29.040\nWe're seeing that\nthe Local Group Policy stayed intact,\n\n204\n00:09:29.040 --> 00:09:33.220\nin this case, on the Windows 10 machine,\nbecause the domain policy\n\n205\n00:09:33.220 --> 00:09:35.380\nDid not do anything to change\nthese settings in any way.\n\n206\n00:09:35.380 --> 00:09:36.860\nAnd so, we do see evidence of that.\n\n207\n00:09:36.860 --> 00:09:38.040\nIf you read through here,\n\n208\n00:09:38.040 --> 00:09:40.740\nyou could see a couple places\nwhere that is actually the case.\n\n209\n00:09:40.740 --> 00:09:42.770\nSo you could see how this is set up.\n\n210\n00:09:42.770 --> 00:09:47.820\nWe can also see that the ADMX file is\nbeing used for policy definitions.\n\n211\n00:09:47.820 --> 00:09:52.370\nWe talked about ADMX, ADM and\nADML files in one of our prior episodes.\n\n212\n00:09:52.370 --> 00:09:52.870\nI did it again.\n\n213\n00:09:52.870 --> 00:09:55.480\nI hit the mic, even though I\npromised Megan I would not do that.\n\n214\n00:09:55.480 --> 00:09:58.420\nSo you can see here that we are able\nto see all the things we've\n\n215\n00:09:58.420 --> 00:10:01.900\nbeen talking about, a lot of the things\nwe've discussed coming together\n\n216\n00:10:01.900 --> 00:10:04.770\nin this report showing us what's going on.\n\n217\n00:10:04.770 --> 00:10:07.480\nWe could see the default domain\npolicy unique identifier right there.\n\n218\n00:10:07.480 --> 00:10:11.460\nThat helps us track the policy on the\ndomain controller, tells us what it is.\n\n219\n00:10:11.460 --> 00:10:14.310\nWe could see link location,\nwe could see enforcement,\n\n220\n00:10:14.310 --> 00:10:16.440\nwhether it is enforced,\nwhether it is disabled.\n\n221\n00:10:16.440 --> 00:10:19.306\nIf we're security filtering,\nwe talked about security filtering.\n\n222\n00:10:19.306 --> 00:10:21.945\nDo we have any WMI filtering?\n\n223\n00:10:21.945 --> 00:10:23.232\nWe could see no evidence of that.\n\n224\n00:10:23.232 --> 00:10:25.070\nAre we using the Local Group Policy?\n\n225\n00:10:25.070 --> 00:10:29.510\nAbsolutely, we see information\nabout that right here as well.\n\n226\n00:10:29.510 --> 00:10:32.830\nWhen we scroll down any WMI filters,\nhad they been applied,\n\n227\n00:10:32.830 --> 00:10:33.660\nwe would have seen them.\n\n228\n00:10:33.660 --> 00:10:34.960\nWe said there were none.\n\n229\n00:10:34.960 --> 00:10:37.460\nWe're seeing the user information,\ntells us the domain and\n\n230\n00:10:37.460 --> 00:10:39.510\nthe user that we are operating under.\n\n231\n00:10:39.510 --> 00:10:42.780\nLet's see if I can pop the log here, yeah,\nno, there's something wrong with that.\n\n232\n00:10:42.780 --> 00:10:44.325\nThere's some sort of error in the report.\n\n233\n00:10:44.325 --> 00:10:47.950\nBut you can see we could see that, and\nyeah, the script is misfiring a bit.\n\n234\n00:10:47.950 --> 00:10:51.430\nThere must be an error in\nthe report generation.\n\n235\n00:10:51.430 --> 00:10:56.624\nAnd so, you can see here that we have\nany denied GPOs, Local Group Policy,\n\n236\n00:10:56.624 --> 00:11:01.340\nlink local, enforced nodes,\nshowing us if anything is a problem.\n\n237\n00:11:01.340 --> 00:11:04.940\nAny errors, any concerns, anything that's\ncoming together and blocking each other,\n\n238\n00:11:04.940 --> 00:11:07.990\nall of that stuff's gonna be\nlisted here on the details.\n\n239\n00:11:07.990 --> 00:11:10.110\nVery robust, very thorough,\n\n240\n00:11:10.110 --> 00:11:15.110\nvery practical information and\npolicy events, there we go.\n\n241\n00:11:15.110 --> 00:11:18.710\nWe should be able to see here if\nthere are events of any kind or\n\n242\n00:11:18.710 --> 00:11:21.390\ninformation we would wanna know,\nwe're able to see them here.\n\n243\n00:11:21.390 --> 00:11:25.550\nNow, I do get an error here and\nthis is important, let me just show you.\n\n244\n00:11:25.550 --> 00:11:29.900\nIf I can get it to show up here and\nkind of explain what we did.\n\n245\n00:11:29.900 --> 00:11:32.300\nWe'll just take a look at\nthe Event ID right here.\n\n246\n00:11:32.300 --> 00:11:34.918\nLet me just bring this up.\n\n247\n00:11:34.918 --> 00:11:38.652\nThis tells me that, and by the way, this\nEvent ID is good for you to note here,\n\n248\n00:11:38.652 --> 00:11:39.633\nEvent ID 1129.\n\n249\n00:11:39.633 --> 00:11:43.618\nI had an error when I first\nran this before we set up and\n\n250\n00:11:43.618 --> 00:11:45.632\ncame on to do the episode.\n\n251\n00:11:45.632 --> 00:11:47.225\nI was trying to connect\nout to the Win 10 machine.\n\n252\n00:11:47.225 --> 00:11:49.970\nI had just started it up,\nit was not up and running yet.\n\n253\n00:11:49.970 --> 00:11:51.801\nI tried to do this\na little bit too quickly.\n\n254\n00:11:51.801 --> 00:11:55.826\nI wasn't paying attention to the power\nstatus, essentially the power-on status\n\n255\n00:11:55.826 --> 00:11:58.900\nand therefore the status\nof the Windows 10 machine.\n\n256\n00:11:58.900 --> 00:12:02.096\nNot all the services had started, and\nas a result it tried to connect and\n\n257\n00:12:02.096 --> 00:12:03.269\nessentially, the WMI and\n\n258\n00:12:03.269 --> 00:12:06.535\nRPC services were not running,\ncuz the system hadn't booted up fully.\n\n259\n00:12:06.535 --> 00:12:10.404\nAnd, I got this error because I tried to\nconnect and the machine wasn't there,\n\n260\n00:12:10.404 --> 00:12:11.810\nit just wasn't answering.\n\n261\n00:12:11.810 --> 00:12:15.792\nAnd so, Event ID 1129 tells me that\nthe machine on the other side is not\n\n262\n00:12:15.792 --> 00:12:16.920\nreachable.\n\n263\n00:12:16.920 --> 00:12:18.818\nAnd I'll show you this when\nwe run through the wizard,\n\n264\n00:12:18.818 --> 00:12:19.900\nwhat I mean by that in a minute.\n\n265\n00:12:19.900 --> 00:12:23.308\nBut, you make a choice as to whether or\nnot you're gonna target a machine, and\n\n266\n00:12:23.308 --> 00:12:26.730\nif so, are you using the local machine\nto run this wizard or a remote machine?\n\n267\n00:12:26.730 --> 00:12:30.701\nIf you do a remote machine, the machine\nhas to be turned on, has to have their RPC\n\n268\n00:12:30.701 --> 00:12:34.397\nand WMI services available, and\nyou may or may not have a firewall issue.\n\n269\n00:12:34.397 --> 00:12:38.317\nIf the firewall's blocking this WMI query,\nyou gotta let that through in order for\n\n270\n00:12:38.317 --> 00:12:41.957\nthis system, the domain controller to\nreach out and essentially control and\n\n271\n00:12:41.957 --> 00:12:45.653\nmanage that machine for purposes of\nprofiling it or exploring the registry and\n\n272\n00:12:45.653 --> 00:12:47.510\nlooking at the local settings.\n\n273\n00:12:47.510 --> 00:12:50.350\nIf that communication pathway is\nunavailable, you get an error, and so\n\n274\n00:12:50.350 --> 00:12:52.430\nthat Event ID is good for you to know.\n\n275\n00:12:52.430 --> 00:12:54.430\nYou never know when you\nmay get asked about that.\n\n276\n00:12:54.430 --> 00:12:56.530\nComes up sometimes on the exam,\n\n277\n00:12:56.530 --> 00:12:59.660\nyou never know, perhaps just in the real\nworld when you're troubleshooting.\n\n278\n00:12:59.660 --> 00:13:01.653\nSo you just wanna make\nsure you're aware of that.\n\n279\n00:13:01.653 --> 00:13:04.389\nAnd then, of course,\nwhen you're able to successfully connect,\n\n280\n00:13:04.389 --> 00:13:07.941\nyou have another set of Event IDs here,\n1500 and 1704, that help us to do that.\n\n281\n00:13:07.941 --> 00:13:11.080\nSo you can see the output of this.\n\n282\n00:13:11.080 --> 00:13:12.040\nWe could take this.\n\n283\n00:13:15.461 --> 00:13:17.473\nOkay, hold on while I\nrandomly click around and\n\n284\n00:13:17.473 --> 00:13:20.460\nhave things happen that\nI'm not intending to.\n\n285\n00:13:20.460 --> 00:13:21.340\nI don't make this stuff up.\n\n286\n00:13:21.340 --> 00:13:23.445\nI'm telling you,\nthe mouse has a mind of its own.\n\n287\n00:13:23.445 --> 00:13:25.610\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm not like, it's crazy.\n\n288\n00:13:25.610 --> 00:13:26.480\nAll right.\n\n289\n00:13:26.480 --> 00:13:27.830\nSo, let me do this.\n\n290\n00:13:27.830 --> 00:13:30.830\nLet me highlight there, right-click,\nwhich is what I was trying to do.\n\n291\n00:13:30.830 --> 00:13:31.745\nThere we go.\n\n292\n00:13:31.745 --> 00:13:35.620\nRight-click, and then you can see I can\nre-run the query if I wanna run it later.\n\n293\n00:13:35.620 --> 00:13:38.810\nI could save this report off,\nobviously export it, do something with it.\n\n294\n00:13:38.810 --> 00:13:41.460\nI mentioned the value of this\nfrom an audit standpoint.\n\n295\n00:13:41.460 --> 00:13:43.460\nI can look at Advanced View.\n\n296\n00:13:43.460 --> 00:13:46.471\nWhen I do Advanced View, which is\nwhat just popped up randomly before,\n\n297\n00:13:46.471 --> 00:13:49.982\nI essentially see the policy editing view\nwhere I can look at individual settings,\n\n298\n00:13:49.982 --> 00:13:50.898\ninteract with them.\n\n299\n00:13:50.898 --> 00:13:54.530\nSo, just want you to see the output of\nthe report before we see how to run it.\n\n300\n00:13:54.530 --> 00:13:59.865\nSo now that we've explored this,\nlet's go in and let's actually take a look\n\n301\n00:13:59.865 --> 00:14:05.520\nat how to run an RSOP result instead of\na Group Policy Results Wizard report.\n\n302\n00:14:05.520 --> 00:14:09.120\nRun the little Wizard here,\nlet's drag this over so you can see this.\n\n303\n00:14:09.120 --> 00:14:09.980\nClick Next.\n\n304\n00:14:11.030 --> 00:14:13.790\nRemember, I said we're gonna choose\nwhether we're gonna run this on the local\n\n305\n00:14:13.790 --> 00:14:16.140\nmachine or target a remote machine.\n\n306\n00:14:16.140 --> 00:14:18.740\nI targeted a remote machine,\nyou could see that here.\n\n307\n00:14:18.740 --> 00:14:22.980\nSo if I choose another computer,\nspecify here, go browse.\n\n308\n00:14:24.330 --> 00:14:28.160\nLet's just see our list of machines,\nI have a whole bunch here.\n\n309\n00:14:28.160 --> 00:14:32.410\nIf I choose one that's not up and running,\nI'm gonna get an error like I showed you.\n\n310\n00:14:32.410 --> 00:14:34.260\nIn times, it takes about a minute and\na half, two minutes so\n\n311\n00:14:34.260 --> 00:14:36.260\nI'm not gonna generate there\ncuz it takes a while, but\n\n312\n00:14:36.260 --> 00:14:37.900\nyou would see it time out eventually.\n\n313\n00:14:37.900 --> 00:14:43.550\nIf choose one that's up and running,\nhowever, then I should be able to go back\n\n314\n00:14:43.550 --> 00:14:46.480\nand almost immediately see it goes right\nthrough because I'm able to reach out\n\n315\n00:14:46.480 --> 00:14:49.790\nto the machine, connect, essentially\ncheck it to make sure it's available and\n\n316\n00:14:49.790 --> 00:14:52.270\nthat it'll accept the inbound\ncommunication request.\n\n317\n00:14:52.270 --> 00:14:55.780\nThe Plab Win81 machine is up and\nrunning, so\n\n318\n00:14:55.780 --> 00:14:57.860\nthat machine would be usable here, right?\n\n319\n00:14:57.860 --> 00:15:01.520\nSo I can choose that,\nthen select a specific user.\n\n320\n00:15:01.520 --> 00:15:03.230\nDo I want the local admin,\n\n321\n00:15:03.230 --> 00:15:07.880\ndo I want the Plab Win81 administrator,\nor the domain admin?\n\n322\n00:15:07.880 --> 00:15:10.900\nI've different options depending\non what I wanna do, right?\n\n323\n00:15:10.900 --> 00:15:16.890\nSo I can take the, let's say\nadministrator, on the local machine.\n\n324\n00:15:18.050 --> 00:15:20.740\nSpecify, generate the report, boom.\n\n325\n00:15:20.740 --> 00:15:23.570\nThat comes out, you can see there.\n\n326\n00:15:23.570 --> 00:15:27.500\nSee the details, generates the report,\nshows me the same information and\n\n327\n00:15:27.500 --> 00:15:31.080\nthis is how I would generate\na Group Policy results report or\n\n328\n00:15:31.080 --> 00:15:33.530\nresult instead of policy information item.\n\n329\n00:15:33.530 --> 00:15:35.460\nSo just by being able to target a machine,\n\n330\n00:15:35.460 --> 00:15:38.920\nspecify a user, I'm able to go\nthrough that with no trouble.\n\n331\n00:15:38.920 --> 00:15:42.200\nSo this is essentially a way for\nus to evaluate, model,\n\n332\n00:15:42.200 --> 00:15:46.250\ntroubleshoot, understand the impact\nof policy choices we make.\n\n333\n00:15:46.250 --> 00:15:50.180\nWe can query a local or a remote computer,\nas we said, under the guise of different\n\n334\n00:15:50.180 --> 00:15:53.640\nuser accounts to see the output and\nthe impact of policy.\n\n335\n00:15:53.640 --> 00:15:55.210\nThat's Group Policy results.\n\n336\n00:15:55.210 --> 00:15:57.026\nWhat about Group Policy modeling?\n\n337\n00:15:57.026 --> 00:15:59.088\nAgain, I've already run a demo for you.\n\n338\n00:15:59.088 --> 00:16:01.644\nWe'll just take a look at the output\nbefore we see how to run it.\n\n339\n00:16:01.644 --> 00:16:02.310\nA little bit more involved.\n\n340\n00:16:02.310 --> 00:16:05.385\nThe wizard has more options when\nwe do group policy modeling.\n\n341\n00:16:05.385 --> 00:16:09.063\nI call group policy modeling the what if\ntool, when I refer to it with clients,\n\n342\n00:16:09.063 --> 00:16:12.188\nbecause we're gonna make choices\nabout how policy would apply and\n\n343\n00:16:12.188 --> 00:16:14.680\nwhat it would do under\ncertain circumstances.\n\n344\n00:16:14.680 --> 00:16:16.480\nVersus group policy results.\n\n345\n00:16:16.480 --> 00:16:18.530\nI call that the as is tool, right?\n\n346\n00:16:18.530 --> 00:16:21.330\nThat's the actual effect that\nwe're getting based on policy\n\n347\n00:16:21.330 --> 00:16:24.510\nbeing applied under the guise of that\nuser on that particular machine.\n\n348\n00:16:24.510 --> 00:16:27.650\nSo slightly different take on these\ntwo tools, where they come from,\n\n349\n00:16:27.650 --> 00:16:31.110\nwhat they show us, how they are going\nto generate information for us.\n\n350\n00:16:31.110 --> 00:16:32.290\nSo let's take a look.\n\n351\n00:16:33.420 --> 00:16:38.690\nI've specified that the user Lisa Scott on\nthe Win 8.1 machine will be my alias so\n\n352\n00:16:38.690 --> 00:16:42.910\nI'm gonna run the simulation under so\nyou can see it here.\n\n353\n00:16:42.910 --> 00:16:47.270\nAnd I can see that, if I right click,\nI can save this report.\n\n354\n00:16:47.270 --> 00:16:49.170\nI can just highlight and\nlook at the report.\n\n355\n00:16:49.170 --> 00:16:50.460\nThe same options.\n\n356\n00:16:50.460 --> 00:16:54.600\nLooks identical to what we got\nwith the result incentive policy.\n\n357\n00:16:54.600 --> 00:16:57.620\nSo I see I do have no\nerrors when I run this.\n\n358\n00:16:57.620 --> 00:16:58.600\nI do have details,\n\n359\n00:16:58.600 --> 00:17:02.940\nthe details will essentially show\nme the similar information here.\n\n360\n00:17:02.940 --> 00:17:08.180\nBut it's showing me information\nspecific to this particular user and\n\n361\n00:17:08.180 --> 00:17:11.970\nit shows me the query,\nthe information that I run when I run it,\n\n362\n00:17:11.970 --> 00:17:15.890\nlast time query was run to make it so\nuseful for the simulation.\n\n363\n00:17:15.890 --> 00:17:18.750\nUser settings based on tells\nme the name of the user,\n\n364\n00:17:18.750 --> 00:17:20.830\ncomputer settings based on\ntells me of the machine.\n\n365\n00:17:20.830 --> 00:17:22.360\nI can specify these things.\n\n366\n00:17:22.360 --> 00:17:26.690\nMix and match users and machines together\nto get the exact profile I want to see.\n\n367\n00:17:26.690 --> 00:17:30.096\nI may want to be able to understand what\na user will experience when they log onto\n\n368\n00:17:30.096 --> 00:17:30.780\na type of desktop.\n\n369\n00:17:30.780 --> 00:17:32.610\nI want to be able to know that.\n\n370\n00:17:32.610 --> 00:17:35.460\nAnd so I'm able to figure that out and\nmake sure that I am.\n\n371\n00:17:35.460 --> 00:17:37.100\nEssentially previewing that, right?\n\n372\n00:17:37.100 --> 00:17:39.830\nI know ahead of time what that's going\nto look like and how it's gonna behave.\n\n373\n00:17:39.830 --> 00:17:42.410\nAnd so you could see here,\nthe site default,\n\n374\n00:17:42.410 --> 00:17:46.490\nfirst site name was a slow\nlink process in enable and\n\n375\n00:17:46.490 --> 00:17:50.270\nsimulate the idea of having a slow link\nand that threshold and what would happen.\n\n376\n00:17:50.270 --> 00:17:53.620\nMaybe certain policy settings\nwould be shut off and not enabled,\n\n377\n00:17:53.620 --> 00:17:55.150\nif I do that and we said that's the case.\n\n378\n00:17:55.150 --> 00:17:56.220\nSo we would see that.\n\n379\n00:17:56.220 --> 00:17:58.220\nIs the loopback process involved?\n\n380\n00:17:58.220 --> 00:18:01.583\nI didn't simulate that either but\nI'll be able to simulate that and\n\n381\n00:18:01.583 --> 00:18:05.300\nthen see what the effect of the policy\napplied will be zeroing up the changes\n\n382\n00:18:05.300 --> 00:18:06.599\nfrom users perspective.\n\n383\n00:18:06.599 --> 00:18:10.550\nAlternate user objects and\nI change or modify in this case,\n\n384\n00:18:10.550 --> 00:18:14.738\nLisa's membership it tell me what groups,\nshe is a member of,\n\n385\n00:18:14.738 --> 00:18:19.670\nallows me to modify them so I could\nsay normally she is in these groups.\n\n386\n00:18:19.670 --> 00:18:22.230\nWhat would happen if I put her in this or\nremove this?\n\n387\n00:18:22.230 --> 00:18:23.440\nWhat would be the impact?\n\n388\n00:18:23.440 --> 00:18:25.710\nSo I can do the what if\nscenario planning and\n\n389\n00:18:25.710 --> 00:18:28.060\njust decide how I want to play this\nout which is really kinda cool.\n\n390\n00:18:29.280 --> 00:18:32.808\nAnd are there w my filters that\nare applied and if so what are they and\n\n391\n00:18:32.808 --> 00:18:36.276\nI can see all of these and\nobviously they would be detailed right?\n\n392\n00:18:36.276 --> 00:18:39.660\nAnd so I could see the output of this and\nso let's go ahead, let's run this wizard.\n\n393\n00:18:39.660 --> 00:18:41.380\nLet's see what this looks like.\n\n394\n00:18:41.380 --> 00:18:44.560\nGroup Policy modeling, again,\njust right click, run the wizard.\n\n395\n00:18:44.560 --> 00:18:46.230\nSo let's pull this over.\n\n396\n00:18:46.230 --> 00:18:49.490\nIf you were few we're not paying attention\nto the welcome screen you'd swear\n\n397\n00:18:49.490 --> 00:18:51.260\nthis was the group policy results.\n\n398\n00:18:51.260 --> 00:18:53.790\nIt looks identical except for\nthe language in the beginning, but\n\n399\n00:18:53.790 --> 00:18:56.750\nwe'll very quickly see there\nare some differences here.\n\n400\n00:18:56.750 --> 00:19:01.500\nClick next, right away we have to specify\nwhat domain controller we will use for\n\n401\n00:19:01.500 --> 00:19:03.470\nthe simulation, what domain.\n\n402\n00:19:03.470 --> 00:19:06.970\nWe have multiple domains, we can\nsimulate the individual domain settings,\n\n403\n00:19:06.970 --> 00:19:08.960\nand choose the appropriate\ndomain controller.\n\n404\n00:19:08.960 --> 00:19:11.130\nWe're kind of limited in our example here.\n\n405\n00:19:11.130 --> 00:19:13.730\nWe have one domain, one domain controller,\nso we're going to set the default.\n\n406\n00:19:13.730 --> 00:19:16.780\nBut obviously in the real world\nyou may have more than one So\n\n407\n00:19:16.780 --> 00:19:18.060\nwe could choose that.\n\n408\n00:19:18.060 --> 00:19:19.560\nThen this is where it gets interesting.\n\n409\n00:19:19.560 --> 00:19:21.580\nNothing like what we saw\nin the other wizard.\n\n410\n00:19:21.580 --> 00:19:24.680\nThis whole container user computer thing,\nvery different.\n\n411\n00:19:24.680 --> 00:19:26.230\nThis is how I choose.\n\n412\n00:19:26.230 --> 00:19:30.680\nDo I wanna go in and peg the user\ninformation on the simulation to an OU?\n\n413\n00:19:30.680 --> 00:19:33.720\nLooking at all the users in an OU and\nhow they would behave?\n\n414\n00:19:33.720 --> 00:19:34.800\nOr an individual user?\n\n415\n00:19:34.800 --> 00:19:38.900\nWhen I did this before I ran this for\nan individual user called Lisa.\n\n416\n00:19:38.900 --> 00:19:43.510\nI may wanna choose instead a container,\nmaybe an OU called IT or\n\n417\n00:19:43.510 --> 00:19:46.880\nan OU called sales or whoever, or\nwhatever it should be I would say.\n\n418\n00:19:46.880 --> 00:19:51.370\nAnd that OU will then specify the settings\nfor me as opposed to an individual user.\n\n419\n00:19:51.370 --> 00:19:52.760\nSame thing with a computer.\n\n420\n00:19:52.760 --> 00:19:56.610\nDo I wanna use an OU for the computer\naccount or an individual computer?\n\n421\n00:19:56.610 --> 00:19:59.313\nI chose Lisa on Windows 8.1.\n\n422\n00:19:59.313 --> 00:20:04.122\nMaybe this time instead,\nI wanna go through and\n\n423\n00:20:04.122 --> 00:20:07.810\nbrowse and I want to choose an OU.\n\n424\n00:20:07.810 --> 00:20:11.980\nLet's say South America and for\n\n425\n00:20:11.980 --> 00:20:19.610\nthe computer I want to go through I want\nto browse and I want to choose the AMIAOU.\n\n426\n00:20:19.610 --> 00:20:21.950\nAssuming we may have policies\nassigned in each of these and\n\n427\n00:20:21.950 --> 00:20:24.470\nthey may obviously\ndifferentiate functionality or\n\n428\n00:20:24.470 --> 00:20:27.350\nthat we would want to see the results of,\nwhatever they are, right?\n\n429\n00:20:27.350 --> 00:20:28.560\nSo I can do this.\n\n430\n00:20:28.560 --> 00:20:31.226\nNow at any point in the wizard\nI opt out and sip here and say,\n\n431\n00:20:31.226 --> 00:20:34.737\nskip to the final page of the wizard,\nwithout collecting additional data.\n\n432\n00:20:34.737 --> 00:20:38.230\nIn other words, I can go and just say hey,\nyou know what, that's all I wanna do.\n\n433\n00:20:38.230 --> 00:20:39.710\nJust this setting here,\n\n434\n00:20:39.710 --> 00:20:43.360\ndone, I don't want to answer the 25 other\nquestions that are about to pop up and\n\n435\n00:20:43.360 --> 00:20:46.010\njust run the simulation at this point,\nor I can keep going.\n\n436\n00:20:46.010 --> 00:20:48.520\nWe're going to keep going,\nbut you have the option to\n\n437\n00:20:48.520 --> 00:20:52.090\ngo as far into the wizard as you want to\ngo before you decide to call it quits.\n\n438\n00:20:52.090 --> 00:20:53.320\nClick next.\n\n439\n00:20:53.320 --> 00:20:54.680\nSlow network connection,\n\n440\n00:20:54.680 --> 00:20:58.118\nthis is the slow network bandwidth\nthreshold that we can simulate.\n\n441\n00:20:58.118 --> 00:21:02.900\nLoop back process remember, we could do\nreplace or merge, I have my options here.\n\n442\n00:21:02.900 --> 00:21:04.920\nI didn't do that last time, remember?\n\n443\n00:21:04.920 --> 00:21:07.420\nI just ran the wizard, as I showed you,\nwithout those settings, but\n\n444\n00:21:07.420 --> 00:21:08.990\nI could put them in place.\n\n445\n00:21:08.990 --> 00:21:13.060\nSite, specify the site that\nthe computers are gonna be a member of.\n\n446\n00:21:13.060 --> 00:21:16.400\nOkay, so I can do all that,\nif I do have those available.\n\n447\n00:21:17.960 --> 00:21:19.140\nSecurity groups.\n\n448\n00:21:19.140 --> 00:21:21.500\nWhat groups do we want to simulate?\n\n449\n00:21:21.500 --> 00:21:26.330\nRemember I said that we could add or\nremove here, as needed.\n\n450\n00:21:26.330 --> 00:21:29.023\nMaybe I wanna add a group,\nright, so no problem.\n\n451\n00:21:34.356 --> 00:21:36.430\nAdd domain guests, right.\n\n452\n00:21:36.430 --> 00:21:37.900\nOr add whatever groups we want.\n\n453\n00:21:37.900 --> 00:21:40.680\nIt's up to us to decide okay,\nso I've done that.\n\n454\n00:21:40.680 --> 00:21:42.970\nI could restore the defaults,\nremove that if I need to.\n\n455\n00:21:44.100 --> 00:21:45.110\nSame thing here, right?\n\n456\n00:21:45.110 --> 00:21:48.433\nFor the commuter security group,\nsame idea, add security groups for\n\n457\n00:21:48.433 --> 00:21:49.741\nboth computers and users.\n\n458\n00:21:52.983 --> 00:21:56.230\nThen if there are w my filters,\nas I said, I would see them here.\n\n459\n00:21:56.230 --> 00:21:57.520\nI would choose the ones I wanted.\n\n460\n00:21:57.520 --> 00:22:00.340\nIf there was more than one or\nany of them, right?\n\n461\n00:22:00.340 --> 00:22:01.500\nI would be able to use them.\n\n462\n00:22:01.500 --> 00:22:03.272\nThere are none, so I'm not seeing them.\n\n463\n00:22:05.981 --> 00:22:08.235\nSame thing for the computers,\nboth users and\n\n464\n00:22:08.235 --> 00:22:12.400\ncomputers seeing the same screen twice,\nyou have to pay attention, right?\n\n465\n00:22:12.400 --> 00:22:14.700\nOne is for users, right?\n\n466\n00:22:14.700 --> 00:22:18.700\nAnd then one is for computers, that's\nwhy we see the same exact interface but\n\n467\n00:22:18.700 --> 00:22:19.820\nit just differentiates its where,\n\n468\n00:22:19.820 --> 00:22:22.830\ncuz remember we're looking\nat both sides of the policy.\n\n469\n00:22:22.830 --> 00:22:26.140\nUser settings, computer settings,\nwe're simulating the entire policy.\n\n470\n00:22:26.140 --> 00:22:28.970\nSo we may have policy settings for\n\n471\n00:22:28.970 --> 00:22:30.840\none area that are different\nfrom the other area.\n\n472\n00:22:30.840 --> 00:22:33.790\nYou wanna be able to differentiate and\nchoose those.\n\n473\n00:22:33.790 --> 00:22:36.446\nRemember, WMI filters can be\ntargeted at the computer.\n\n474\n00:22:36.446 --> 00:22:39.160\nIt could also be targeted if\nthe user has a user class.\n\n475\n00:22:39.160 --> 00:22:42.580\nWith 32 underscore not only we\ncould specify computer objects but\n\n476\n00:22:42.580 --> 00:22:43.650\nalso user objects.\n\n477\n00:22:43.650 --> 00:22:45.730\nSo I wanna just make\nsure we're aware of that.\n\n478\n00:22:47.380 --> 00:22:49.860\nNext, a summary of what we're about to do.\n\n479\n00:22:49.860 --> 00:22:51.050\nThe problem.\n\n480\n00:22:51.050 --> 00:22:52.040\nClick next.\n\n481\n00:22:52.040 --> 00:22:55.112\nThen each by the time we do that,\nit's already done.\n\n482\n00:22:55.112 --> 00:22:57.858\nOne things I don't like about this is that\nalways comes up and ready to rename that.\n\n483\n00:22:57.858 --> 00:23:01.178\nAnd if I'm not paying attention, cuz it\ncomes up like with the box selected and\n\n484\n00:23:01.178 --> 00:23:01.895\nyou can rename.\n\n485\n00:23:01.895 --> 00:23:03.680\nAnd if I'm not paying\nattention I hit a key.\n\n486\n00:23:03.680 --> 00:23:04.990\nI was at the back and rename it again.\n\n487\n00:23:04.990 --> 00:23:08.010\nSo you just have to pay attention to that,\nbut once you do that,\n\n488\n00:23:08.010 --> 00:23:10.530\nyou'll see the details just\nlike we went through here.\n\n489\n00:23:10.530 --> 00:23:13.220\nSummary of whatever\ninformation may be here.\n\n490\n00:23:13.220 --> 00:23:17.040\nRight, a slow link was detected,\nit says, right here, so\n\n491\n00:23:17.040 --> 00:23:20.640\nit may give us a little information\nabout that, and just shows us, you know,\n\n492\n00:23:20.640 --> 00:23:24.270\nagain if you need to read upon it,\nwhat's slow link information maybe, and\n\n493\n00:23:24.270 --> 00:23:28.190\njust reminds us of those things Showed\nyou that in the other walk through.\n\n494\n00:23:28.190 --> 00:23:32.890\nSo you could see group policy modelling as\nwell as the result instead of policies or\n\n495\n00:23:32.890 --> 00:23:34.450\nthe group policy wizard.\n\n496\n00:23:34.450 --> 00:23:36.950\nWe could generate these reports,\ngo through.\n\n497\n00:23:36.950 --> 00:23:41.030\nNow for the group policy results wizard,\nthere are a bunch of prereqs or,\n\n498\n00:23:41.030 --> 00:23:43.330\na background of things that have\nto be there for the wizard run.\n\n499\n00:23:43.330 --> 00:23:47.780\nI mentioned things like the machine being\nonline if wanna target another machine.\n\n500\n00:23:47.780 --> 00:23:49.570\nThe target must be online,\nI mentioned that.\n\n501\n00:23:49.570 --> 00:23:52.313\nYou have to have admin credentials\non the target computer.\n\n502\n00:23:52.313 --> 00:23:55.715\nYou have to be running at least\nWindows XP or newer, no big deal there.\n\n503\n00:23:55.715 --> 00:23:59.063\nHave to have WMI service running\nin the background as I mentioned.\n\n504\n00:23:59.063 --> 00:24:03.621\nRemember, I mentioned firewalls could be\nan option, specifically ports 135 and\n\n505\n00:24:03.621 --> 00:24:08.130\n445 have to be open in the firewall for us\nto move that information back and forth.\n\n506\n00:24:08.130 --> 00:24:11.474\nSo firewalls typically are the culprit\nhere, more often than not.\n\n507\n00:24:11.474 --> 00:24:16.902\nAlso, we must have signed in at least\nonce on the computer as a user.\n\n508\n00:24:16.902 --> 00:24:20.306\nSo that way, we can go ahead and\nwe can then target the computer and get\n\n509\n00:24:20.306 --> 00:24:24.200\nthe results of what the cache credentials\nand the input of that policy will be.\n\n510\n00:24:24.200 --> 00:24:27.780\nSo, have to have that user you wanna\ntarget logged on at least one time.\n\n511\n00:24:27.780 --> 00:24:29.185\nIn this case, we ran it as the admin.\n\n512\n00:24:29.185 --> 00:24:32.160\nI've logged onto both machines as\nthe administrator at least once, so\n\n513\n00:24:32.160 --> 00:24:33.600\nI was able to run it with no trouble.\n\n514\n00:24:33.600 --> 00:24:37.320\nThat hit list is in the show notes for\nyou, cuz it's goinna\n\n515\n00:24:37.320 --> 00:24:41.770\nbe real important to know those things\nto use the Group Policy Results wizard.\n\n516\n00:24:41.770 --> 00:24:44.420\nSo that list of about six or\nseven different prereqs\n\n517\n00:24:44.420 --> 00:24:47.810\nI just went through with you, all in the\nnotes, great study material for the exam.\n\n518\n00:24:47.810 --> 00:24:51.460\nThings like port numbers tend to come up,\nthings like, hey, this is not working,\n\n519\n00:24:51.460 --> 00:24:54.800\nas a troubleshooting scenario,\nwhat may or may not be the cause?\n\n520\n00:24:54.800 --> 00:24:58.910\nHaven't logged on as the user,\nWMI Service isn't running, firewall's on,\n\n521\n00:24:58.910 --> 00:25:01.360\ndon't have the port open, can't connect.\n\n522\n00:25:01.360 --> 00:25:04.380\nI showed you the error code you\nwould get if that's the case.\n\n523\n00:25:04.380 --> 00:25:05.800\nWanna make sure you're aware of all that.\n\n524\n00:25:05.800 --> 00:25:06.720\nThat could come up,\n\n525\n00:25:06.720 --> 00:25:10.900\nand obviously things may go sideways\nthere if you're not familiar with that.\n\n526\n00:25:10.900 --> 00:25:13.400\nI've shown you the GP result tool.\n\n527\n00:25:13.400 --> 00:25:16.080\nWe took a look at it, showed you\nthe switches associated with it.\n\n528\n00:25:16.080 --> 00:25:19.840\nI recommend that you take a look and\nthat you are aware of those switches.\n\n529\n00:25:19.840 --> 00:25:23.780\nAll those switches are in the user notes\nfor you or the show notes for you.\n\n530\n00:25:23.780 --> 00:25:26.080\nI made sure I detailed each one,\nexplained what they do,\n\n531\n00:25:26.080 --> 00:25:28.280\nso that way you know how to use the tool.\n\n532\n00:25:28.280 --> 00:25:32.530\nThe suggestion and hint there may be that\nyou never know, could come up again and\n\n533\n00:25:32.530 --> 00:25:33.680\nyou may want to be familiar with it.\n\n534\n00:25:33.680 --> 00:25:37.320\nI also talked about the fact that\nPowerShell commands are very important.\n\n535\n00:25:37.320 --> 00:25:38.870\nI showed you where to find them.\n\n536\n00:25:38.870 --> 00:25:43.965\nThe get GPResult and setup policy Cmdlet\nis used to essentially do the same thing\n\n537\n00:25:43.965 --> 00:25:47.935\nwith the Group Policy Results wizard we\njust did in the GUI, from PowerShell.\n\n538\n00:25:47.935 --> 00:25:51.265\nYou would use the user parameters.\n\n539\n00:25:51.265 --> 00:25:55.297\nSpecify your user, computer parameters,\nspecify the name, report type parameter,\n\n540\n00:25:55.297 --> 00:26:00.507\nspecify HTML and path, and you'll generate\nthat report directly through PowerShell.\n\n541\n00:26:00.507 --> 00:26:03.457\nAnd if you give me one second, I'll\nactually show you what that looks like,\n\n542\n00:26:03.457 --> 00:26:04.727\nbear with me one second.\n\n543\n00:26:04.727 --> 00:26:06.577\nI have it in my notes,\nI just have to bring up the string for\n\n544\n00:26:06.577 --> 00:26:08.007\nyou that I've already typed out.\n\n545\n00:26:08.007 --> 00:26:10.567\nGive me a second,\nI will just scroll down to get there and\n\n546\n00:26:10.567 --> 00:26:14.802\nshow you what that PowerShell commandlet\nwill look like, or that string.\n\n547\n00:26:16.240 --> 00:26:18.010\nWanna take a look with me right here.\n\n548\n00:26:18.010 --> 00:26:19.680\nWe're gonna see this right on the screen.\n\n549\n00:26:19.680 --> 00:26:22.190\nIf you go full screen,\nyou could probably see it a little better.\n\n550\n00:26:22.190 --> 00:26:23.580\nIt is a continuous line.\n\n551\n00:26:23.580 --> 00:26:27.070\nYou know how a lot of times we have\nto truncate that command line?\n\n552\n00:26:27.070 --> 00:26:28.690\nThat should be entered as\none continuous string.\n\n553\n00:26:28.690 --> 00:26:30.418\nIn other words, at the end of path C:,\n\n554\n00:26:30.418 --> 00:26:34.700\nthat \\Report.html should all\nbe a part of the same string.\n\n555\n00:26:34.700 --> 00:26:36.160\nYou would enter that continuously.\n\n556\n00:26:36.160 --> 00:26:40.230\nObviously, substitute out the variables\nI put in there for user and\n\n557\n00:26:40.230 --> 00:26:44.610\ncomputer, and then you would have\nthe ability to do that with PowerShell.\n\n558\n00:26:44.610 --> 00:26:46.030\nSo you could do that from there as well.\n\n559\n00:26:46.030 --> 00:26:48.518\nAnd since we're here, I told you\nabout the different policy logs.\n\n560\n00:26:48.518 --> 00:26:52.109\nWe're gonna to take a look at these right\nnow, but system log, application log,\n\n561\n00:26:52.109 --> 00:26:53.539\nGroup Policy operational log.\n\n562\n00:26:53.539 --> 00:26:56.850\nGonna go in and show you those,\nshow you where you can find them.\n\n563\n00:26:56.850 --> 00:27:00.950\nAnd, I'm gonna show you how to get this\ntool, the Group Policy Log View tool.\n\n564\n00:27:00.950 --> 00:27:03.420\nI already have it up and\nrunning on the domain\n\n565\n00:27:03.420 --> 00:27:06.610\ncontroller to show you where that is,\nthe download URL is right there.\n\n566\n00:27:06.610 --> 00:27:11.150\nThat's the one I told you actually works,\neven though it says it's for Vista.\n\n567\n00:27:11.150 --> 00:27:14.040\nIt will still work and you'll be\nable to use that with no trouble.\n\n568\n00:27:14.040 --> 00:27:16.590\nSo let's go and\nlet's take a look at these three logs and\n\n569\n00:27:16.590 --> 00:27:18.150\nmake sure we're comfortable with them.\n\n570\n00:27:18.150 --> 00:27:21.790\nWe have the system log, just so\nyou can see, the application log.\n\n571\n00:27:21.790 --> 00:27:24.120\nYou guys probably know about those,\nyou see them all the time.\n\n572\n00:27:24.120 --> 00:27:27.280\nThe one you're probably not familiar\nwith is Group Policy operational log.\n\n573\n00:27:27.280 --> 00:27:28.500\nI wanna show you about that one.\n\n574\n00:27:28.500 --> 00:27:31.270\nThat's the one that really has\na lot of detailed information about\n\n575\n00:27:31.270 --> 00:27:33.370\nGroup Policy that we wanna\nmake sure we're aware of.\n\n576\n00:27:33.370 --> 00:27:34.490\nSo let's come in here.\n\n577\n00:27:34.490 --> 00:27:37.770\nLet's take a look at the event\nviewer opened up right here, okay?\n\n578\n00:27:37.770 --> 00:27:41.080\nSo I just went in, went to Administrative\nTools on the domain controller,\n\n579\n00:27:41.080 --> 00:27:44.280\nopened up the event viewer, this is where\nwe go to see our logs traditionally.\n\n580\n00:27:44.280 --> 00:27:47.900\nI've got the Group Policy\noperational log already highlighted,\n\n581\n00:27:47.900 --> 00:27:50.350\nbut let's go back up here for a minute.\n\n582\n00:27:50.350 --> 00:27:53.070\nApplication and Security Log,\nright, and System Log.\n\n583\n00:27:53.070 --> 00:27:54.710\nYou know where those\nlogs are in the Windows.\n\n584\n00:27:54.710 --> 00:27:58.705\nYou can go in and see information about\nGroup Policy there, the aspects of it.\n\n585\n00:27:58.705 --> 00:28:03.907\nBut for the Group Policy log,\nwe're up under Applications and Services.\n\n586\n00:28:03.907 --> 00:28:05.910\nThe path is in the notes, by the way.\n\n587\n00:28:05.910 --> 00:28:06.640\nI showed it to you.\n\n588\n00:28:06.640 --> 00:28:11.103\nAnd then, we're up under Microsoft,\nup under Windows, right down here,\n\n589\n00:28:11.103 --> 00:28:12.650\nbit of a convoluted path.\n\n590\n00:28:12.650 --> 00:28:17.369\nYou gotta drill all the way down, and\nthen under Group Policy Operational, and\n\n591\n00:28:17.369 --> 00:28:20.062\nthis is gonna give us\ndetailed information.\n\n592\n00:28:20.062 --> 00:28:24.200\nNext policy processing for the domain\ncontroller will be attempted in 5 minutes.\n\n593\n00:28:24.200 --> 00:28:26.950\nRemember, I told you\nthe default refresh time for\n\n594\n00:28:26.950 --> 00:28:28.510\ndomain controller is five minutes.\n\n595\n00:28:29.580 --> 00:28:31.910\nSo we'll see evidence of that, right?\n\n596\n00:28:31.910 --> 00:28:34.820\nWe see completed periodic\npolicy processing, so\n\n597\n00:28:34.820 --> 00:28:36.700\nwe could see evidence of that.\n\n598\n00:28:36.700 --> 00:28:40.910\nFinish checking for non-system extensions,\njust rolling backwards, right?\n\n599\n00:28:40.910 --> 00:28:44.865\nSo we could see evidence of a lot\nof information being managed here.\n\n600\n00:28:44.865 --> 00:28:48.182\nSuccessfully completed download of\npolicies, we're just scrolling back,\n\n601\n00:28:48.182 --> 00:28:50.020\nlooking at some information in the logs.\n\n602\n00:28:50.020 --> 00:28:51.260\nSo these logs are important,\n\n603\n00:28:51.260 --> 00:28:54.430\ndefinitely wanna know what the logs are,\nwhere they are.\n\n604\n00:28:54.430 --> 00:28:57.220\nSystem logs would have high-level\ninformation like errors that may be\n\n605\n00:28:57.220 --> 00:29:00.980\noccurring, created by the Group Policy\nclient, if something was wrong.\n\n606\n00:29:00.980 --> 00:29:04.190\nThe application log, events recorded\nby the client side extensions.\n\n607\n00:29:04.190 --> 00:29:05.780\nIf there's any information on those,\n\n608\n00:29:05.780 --> 00:29:08.416\nwe talked about those,\nthey'd be in the Application Log.\n\n609\n00:29:08.416 --> 00:29:11.010\nAnd then, detailed information\nabout the actual nuts and\n\n610\n00:29:11.010 --> 00:29:15.230\nbolts, step-by-step processing of\nGroup Policy would be found in this log.\n\n611\n00:29:15.230 --> 00:29:18.340\nAnd those three logs together\nare gonna be used to troubleshoot, so\n\n612\n00:29:18.340 --> 00:29:20.870\nyou're gonna want to take a look at them,\nmake sure you're aware of them.\n\n613\n00:29:20.870 --> 00:29:24.340\nWe also have the Group Policy Log Viewer,\nand\n\n614\n00:29:24.340 --> 00:29:27.060\nyou can download that\ntool right from here.\n\n615\n00:29:28.500 --> 00:29:32.020\nThis is the URL that I provided\nto you in the show notes,\n\n616\n00:29:32.020 --> 00:29:35.070\nGroup Policy Log View,\nMicrosoft downloads site.\n\n617\n00:29:35.070 --> 00:29:38.360\nYou could see it says,\noperating system support of Windows Vista.\n\n618\n00:29:38.360 --> 00:29:40.850\nBut as I said, it runs in Server 16.\n\n619\n00:29:40.850 --> 00:29:44.480\nI have it installed and configured,\nso I'm gonna show you how to use it.\n\n620\n00:29:44.480 --> 00:29:48.235\nYou'll see right here it installs\nunder Program Filesx86 by default,\n\n621\n00:29:48.235 --> 00:29:50.300\nyou can modify that path when you run it.\n\n622\n00:29:50.300 --> 00:29:51.890\nI just put it in the default.\n\n623\n00:29:51.890 --> 00:29:56.705\nAll I did was just go to the command line,\nchange the directory, bring up the GP log,\n\n624\n00:29:56.705 --> 00:29:58.740\nview.exe executable, run it.\n\n625\n00:29:58.740 --> 00:30:00.840\nRun it in a command prompt\nwith admin rights by the way,\n\n626\n00:30:00.840 --> 00:30:02.800\nit needs elevated privileges to run.\n\n627\n00:30:02.800 --> 00:30:06.200\nSo you can see I'm in an admin command\nprompt, and you could see as I always do,\n\n628\n00:30:06.200 --> 00:30:08.990\nbring up the help file for\nyou, got some switches there.\n\n629\n00:30:08.990 --> 00:30:13.900\nO for output file, P for\ndump process ID and threat ID,\n\n630\n00:30:13.900 --> 00:30:20.640\ndetailed information, A for activity\nID GUID, X dumps the events into XML,\n\n631\n00:30:20.640 --> 00:30:25.900\nH dumps to HTML, I for the EVTX file,\nwhich is the event log file.\n\n632\n00:30:25.900 --> 00:30:28.502\nSo you could go in, and\nthey show you examples of how to do this.\n\n633\n00:30:28.502 --> 00:30:34.758\nScroll down, so\nyou can kinda see those right there.\n\n634\n00:30:34.758 --> 00:30:38.343\nSo, gplog -0 GPEvents.txt,\noutput to that file name.\n\n635\n00:30:38.343 --> 00:30:43.590\nGplog.exe, or log view -h,\nso for HTML output,\n\n636\n00:30:43.590 --> 00:30:48.620\nwith a specific event log ID that we want\nto dump, and then output that to HTML.\n\n637\n00:30:48.620 --> 00:30:50.125\nAll right, so you could any or\nall of these and\n\n638\n00:30:50.125 --> 00:30:52.260\nyou'll be able to then\ngenerate all this information.\n\n639\n00:30:52.260 --> 00:30:55.380\nWhat you're doing is taking this tool,\nusing it to suck all the information out\n\n640\n00:30:55.380 --> 00:30:58.260\nof the individual logs and\naggregate it into a report.\n\n641\n00:30:58.260 --> 00:31:00.170\nThat's essentially what this tool does.\n\n642\n00:31:00.170 --> 00:31:02.910\nAnd this is why we would then use this,\nor an offline text file,\n\n643\n00:31:02.910 --> 00:31:06.260\neither way, that you could then parse and\nsearch and do all sorts of stuff with.\n\n644\n00:31:06.260 --> 00:31:08.740\nSo, that's what this tool is good for.\n\n645\n00:31:08.740 --> 00:31:09.940\nIt's an oldie, but a goodie.\n\n646\n00:31:09.940 --> 00:31:13.220\nAnd I said don't let that hey,\nit runs on Vista thing fool you.\n\n647\n00:31:13.220 --> 00:31:15.210\nIt's still a valuable tool,\nit still works.\n\n648\n00:31:15.210 --> 00:31:18.700\nI use it all the time with clients when\nI have to look at information remotely.\n\n649\n00:31:18.700 --> 00:31:22.640\nI have them download, run the tool,\nextract the file, send it to me so\n\n650\n00:31:22.640 --> 00:31:24.890\nI can then go through,\nparse the file, search for\n\n651\n00:31:24.890 --> 00:31:28.300\nerror codes I need to resolve, and\nthen diagnose what's going on.\n\n652\n00:31:28.300 --> 00:31:31.130\nSo, it's quicker than me having\nto go through three logs\n\n653\n00:31:31.130 --> 00:31:33.090\nin order to be able to\nfind all this information.\n\n654\n00:31:33.090 --> 00:31:35.570\nAnd support at Microsoft\ntypically may have to use this,\n\n655\n00:31:35.570 --> 00:31:36.360\nat least in the old days,\n\n656\n00:31:36.360 --> 00:31:39.830\nthey used to have to this tool as well, to\ngive them information from the log files.\n\n657\n00:31:39.830 --> 00:31:41.810\nIt would be valuable for\nthem to help you diagnose what's wrong.\n\n658\n00:31:41.810 --> 00:31:44.520\nSo it's a good tool to use,\ndefinitely one to be aware of.\n\n659\n00:31:44.520 --> 00:31:46.540\nIt's one of those ones that\nkinda hides in the corner.\n\n660\n00:31:46.540 --> 00:31:49.720\nIf you're not familiar with the fact\nit exists, you may not know it's there.\n\n661\n00:31:49.720 --> 00:31:53.060\nIt may get right by you, but trust me,\nit's a good one to know about.\n\n662\n00:31:53.060 --> 00:31:56.220\nYou never know when it comes up, you never\nknow when you may get asked about whether\n\n663\n00:31:56.220 --> 00:31:59.920\nthat's a tool that does this and if it\ndoe,s hey it's good to know about it.\n\n664\n00:31:59.920 --> 00:32:02.646\nGet those questions right, the more you\nget right the more likely it is you're\n\n665\n00:32:02.646 --> 00:32:03.938\ngonna pass the exam on the first try.\n\n666\n00:32:03.938 --> 00:32:06.921\n&gt;&gt; We'll most definitely add them, and\nthank you for taking the time to show us\n\n667\n00:32:06.921 --> 00:32:09.112\nthe multiple ways to generate\nthese types of reports and\n\n668\n00:32:09.112 --> 00:32:10.480\ncheck that logging information.\n\n669\n00:32:10.480 --> 00:32:13.330\nBut it does look like we've\nactually came to the end\n\n670\n00:32:13.330 --> 00:32:16.970\nof our first section on Group Policy but\nladies and gentlemen stay tuned,\n\n671\n00:32:16.970 --> 00:32:18.980\nwe have more information headed your way.\n\n672\n00:32:18.980 --> 00:32:20.580\nFor this show,\nwe'll go ahead and sign out.\n\n673\n00:32:20.580 --> 00:32:22.280\nI've been your host, Cherokee Boose.\n\n674\n00:32:22.280 --> 00:32:24.315\n&gt;&gt; I'm Adam Gordon.\n&gt;&gt; See you next time here at ITPro TV.\n\n675\n00:32:24.315 --> 00:32:31.773\n[MUSIC]\n\n676\n00:32:31.773 --> 00:32:34.220\n&gt;&gt; Thank you for watching ITPro TV.\n\n",
          "vimeoId": "231754979"
        }
      ],
      "title": "Implementing Group Policy"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Adam and Cherokee begin looking at ways to manage users via group policy. First, they look at administrative templates. They explore .adml and .admx file extensions. Adam also demonstrates how to filter options. Adam shows how to create a PolicyDefinitions folder if not using a central share.",
          "length": "1689",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-1-managing_user_settings_with_group_policy-082817.00_27_55_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-1-managing_user_settings_with_group_policy-082817.00_27_55_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-1-managing_user_settings_with_group_policy-082817.00_27_55_07.Still001-sm.jpg",
          "title": "Managing User Settings with Group Policy",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.180\nWelcome to ITProTV.\n\n2\n00:00:01.180 --> 00:00:02.268\nI'm your host, Don Pezet.\n\n3\n00:00:02.268 --> 00:00:06.795\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.795 --> 00:00:07.914\n[MUSIC]\n\n5\n00:00:07.914 --> 00:00:11.542\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.542 --> 00:00:15.163\n&gt;&gt; Welcome to your identity with\nWindows Server 2016 series.\n\n7\n00:00:15.163 --> 00:00:16.080\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.850 --> 00:00:22.200\nIn this episode, we'll be taking a look\nat managing users with Group Policy.\n\n9\n00:00:22.200 --> 00:00:26.250\nI know you're probably thinking, we just\nleft that topic, what else could we cover?\n\n10\n00:00:26.250 --> 00:00:28.650\nWell, there are quite\na few topics here and\n\n11\n00:00:28.650 --> 00:00:31.270\nwe have Mr Adam Gordon back\nin studios to help us today.\n\n12\n00:00:31.270 --> 00:00:32.080\nHow's it going, Adam?\n\n13\n00:00:32.080 --> 00:00:33.010\n&gt;&gt; Going well, going well,\n\n14\n00:00:33.010 --> 00:00:37.560\ncontinuing to be a Group Policy tastic set\nof opportunities for us to talk about.\n\n15\n00:00:37.560 --> 00:00:40.180\nWe're actually gonna be talking about,\nas Cherokee just said,\n\n16\n00:00:40.180 --> 00:00:43.920\nspecifically in this set of episodes\nfocusing on managing user settings with\n\n17\n00:00:43.920 --> 00:00:46.810\nGroup Policy essentially\nthe same as Cherokee just said.\n\n18\n00:00:46.810 --> 00:00:50.799\nBut we're gonna focus on the idea of\nhow we could control user experience or\n\n19\n00:00:50.799 --> 00:00:53.410\nshape the user environment\nusing Group Policy.\n\n20\n00:00:53.410 --> 00:00:55.753\nAnd one of the first places\nwe'd do that from or\n\n21\n00:00:55.753 --> 00:00:59.299\none of the first things we think about\ndoing that with is an area where we\n\n22\n00:00:59.299 --> 00:01:02.360\nkind of touched on briefly\nin our prior conversations.\n\n23\n00:01:02.360 --> 00:01:03.252\nBut we didn't spend any time,\n\n24\n00:01:03.252 --> 00:01:06.560\nI would just pointed it out,\nas a group of settings they were there.\n\n25\n00:01:06.560 --> 00:01:09.940\nMentioned the idea of the file extension.\n\n26\n00:01:09.940 --> 00:01:10.650\nSo what they are, but\n\n27\n00:01:10.650 --> 00:01:14.240\nreally kind of glossed over the whole\nidea of administrative templates.\n\n28\n00:01:14.240 --> 00:01:16.712\nWe have the ability to use\nthese administrative templates.\n\n29\n00:01:16.712 --> 00:01:18.590\nWe're gonna take a look\nat them in more depth.\n\n30\n00:01:18.590 --> 00:01:22.910\nThe .adm old style templates,\nADMX, XML based.\n\n31\n00:01:22.910 --> 00:01:24.657\nThe newer extension, .adml.\n\n32\n00:01:24.657 --> 00:01:27.478\nThe language files that\nlocalize the ADMX files for\n\n33\n00:01:27.478 --> 00:01:31.743\nus in language specific implementations\nand how we bring all that together,\n\n34\n00:01:31.743 --> 00:01:33.785\nedit that, and interact with that.\n\n35\n00:01:33.785 --> 00:01:37.173\nSo, lot of hidden resources there, cuz a\nlot of times people look at administrative\n\n36\n00:01:37.173 --> 00:01:39.621\ntemplates don't really understand them for\nwhat they are.\n\n37\n00:01:39.621 --> 00:01:40.613\nDon't know where they come from.\n\n38\n00:01:40.613 --> 00:01:43.272\nThere's a bunch that\nare built in by default,\n\n39\n00:01:43.272 --> 00:01:48.275\nbunch that we can download and add in from\nvarious vendors, namely mainly Microsoft.\n\n40\n00:01:48.275 --> 00:01:51.525\nFor instance, the deployment of\nmanagement of Office 2016 as\n\n41\n00:01:51.525 --> 00:01:55.470\na software based deployment option to\ndeploy software through Group Policy.\n\n42\n00:01:55.470 --> 00:02:00.288\nYou may wanna download the ADMX files from\nMicrosoft to control Office 2016 in your\n\n43\n00:02:00.288 --> 00:02:02.212\nenvironment using Group Policy.\n\n44\n00:02:02.212 --> 00:02:05.140\nYou would have to get those\nfrom the download site.\n\n45\n00:02:05.140 --> 00:02:10.090\nImport them, add them in where template\nfiles or the admin templates when we file,\n\n46\n00:02:10.090 --> 00:02:11.520\nI'm gonna show you where that is.\n\n47\n00:02:11.520 --> 00:02:14.588\nAnd show you how to leverage those or\nusable that's called a Central Store.\n\n48\n00:02:14.588 --> 00:02:18.000\nJust a subfolder within the sys\nfile directory that you wanna\n\n49\n00:02:18.000 --> 00:02:20.760\ntell the domain controllers\ngo find their policies in, so\n\n50\n00:02:20.760 --> 00:02:23.200\nwe've essentially managing them,\nso we have options.\n\n51\n00:02:23.200 --> 00:02:25.700\nSo why don't you join me here and\nlet's take a look at this whole thing,\n\n52\n00:02:25.700 --> 00:02:27.730\ninstead of me just painting\na picture with words,\n\n53\n00:02:27.730 --> 00:02:30.320\nlet me show you how all\nthis comes together.\n\n54\n00:02:30.320 --> 00:02:32.110\nSo we're in our\nGroup Policy Management Console,\n\n55\n00:02:32.110 --> 00:02:34.720\nyou may recognize this from\nprior conversation we've had.\n\n56\n00:02:34.720 --> 00:02:38.575\nIf you haven't seen the episodes what we\nwent through and dealt with all the things\n\n57\n00:02:38.575 --> 00:02:42.710\nthat go on here, may be a good\ntime to stop, put us on hold here.\n\n58\n00:02:42.710 --> 00:02:45.944\nGo take a look at some of those episodes,\nget a better sense of all the things that\n\n59\n00:02:45.944 --> 00:02:48.330\nare going on in here first,\nthen come back and join us now.\n\n60\n00:02:48.330 --> 00:02:51.484\nAnd obviously, at that point, you'll\nbe a little bit more comfortable with\n\n61\n00:02:51.484 --> 00:02:54.150\nthe interface and\nwhat the expectations are in here.\n\n62\n00:02:54.150 --> 00:02:55.451\nWe're gonna go to\nthe default domain policy.\n\n63\n00:02:55.451 --> 00:02:58.510\nYou could do this with any policy,\nwhat I'm about to show you.\n\n64\n00:02:58.510 --> 00:03:02.810\nBut I've only got the two policies that we\nstart out with in the interface right now.\n\n65\n00:03:02.810 --> 00:03:05.240\nGonna use the default\ndomain policy to show you\n\n66\n00:03:05.240 --> 00:03:07.270\nsome of these administrative templates and\nwhat they are.\n\n67\n00:03:07.270 --> 00:03:11.080\nSo I'm gonna right-click, choose Edit,\nthe way I've done before, just like this.\n\n68\n00:03:11.080 --> 00:03:12.470\nI already have the policy open.\n\n69\n00:03:12.470 --> 00:03:15.250\nSo let's just pretend to click Edit and\nhere we are.\n\n70\n00:03:15.250 --> 00:03:19.623\nAnd, I have both computer and\nuser configurations, as you know.\n\n71\n00:03:19.623 --> 00:03:23.390\nAnd you'll see under\nuser configurations here,\n\n72\n00:03:23.390 --> 00:03:26.804\nI have policies and\nadmin templates as well.\n\n73\n00:03:26.804 --> 00:03:31.173\nAnd you'll see under administrative\ntemplates right here, policy definitions,\n\n74\n00:03:31.173 --> 00:03:33.840\nADMX files retrieved from,\nas it says there.\n\n75\n00:03:33.840 --> 00:03:36.510\nLocal computer,\nwhich is the domain controller.\n\n76\n00:03:36.510 --> 00:03:39.430\nAnd I have a series of\ndifferent areas that I can use.\n\n77\n00:03:39.430 --> 00:03:41.947\nAnd any one of these,\nclick on any one of them.\n\n78\n00:03:41.947 --> 00:03:44.753\nLet's just say server,\nwhatever it may be, has one or\n\n79\n00:03:44.753 --> 00:03:48.230\nmore settings associated with\nit that I can go in and modify.\n\n80\n00:03:48.230 --> 00:03:49.360\nThat part's pretty straightforward.\n\n81\n00:03:49.360 --> 00:03:53.207\nMost of you have probably edited policies\nor at least have looked at this editor\n\n82\n00:03:53.207 --> 00:03:55.619\nbefore, and have gone in and\nmade changes here.\n\n83\n00:03:55.619 --> 00:03:58.374\nAnd may not have even really thought much\nabout the fact that they happen to be up\n\n84\n00:03:58.374 --> 00:03:59.650\nunder administrative templates.\n\n85\n00:03:59.650 --> 00:04:01.960\nThey're just settings\nyou were told to modify,\n\n86\n00:04:01.960 --> 00:04:04.320\nor that you knew you needed to modify.\n\n87\n00:04:04.320 --> 00:04:07.943\nYou went ahead and did that, but\nmight never have really thought about what\n\n88\n00:04:07.943 --> 00:04:10.946\nthe admin template designation meant,\nwhat you were doing.\n\n89\n00:04:10.946 --> 00:04:14.634\nif there was any specificity associated\nwith this action that may be worthwhile\n\n90\n00:04:14.634 --> 00:04:16.514\nfor you to understand at a deeper level.\n\n91\n00:04:16.514 --> 00:04:20.650\nThe answer to all those questions are, of\ncourse, always yes, there is specificity.\n\n92\n00:04:20.650 --> 00:04:22.060\nYes, there is significance.\n\n93\n00:04:22.060 --> 00:04:25.190\nYes, it would be good for\nyou to have a better sense of that,\n\n94\n00:04:25.190 --> 00:04:27.620\nand we're gonna explore that right now.\n\n95\n00:04:27.620 --> 00:04:32.630\nSo, the extension, the file extension\ntype for an administrative template.\n\n96\n00:04:32.630 --> 00:04:34.270\nI mentioned .adm,\n\n97\n00:04:34.270 --> 00:04:38.445\nold style, prior to some of the newer\ngeneration of operating systems.\n\n98\n00:04:38.445 --> 00:04:39.490\nADMX for\n\n99\n00:04:39.490 --> 00:04:43.920\nthe newer ones, X implies XML based, so\nwe'll take a look at what that means.\n\n100\n00:04:43.920 --> 00:04:49.370\nAnd .adml for language localization,\nalong with the ADMX files.\n\n101\n00:04:49.370 --> 00:04:53.130\nSo, when we come in here and\nwe see the admin template area,\n\n102\n00:04:53.130 --> 00:04:54.080\nwhat does that really mean?\n\n103\n00:04:54.080 --> 00:04:57.090\nWell, what it really means is on\nthe local machine, in this case,\n\n104\n00:04:57.090 --> 00:05:03.080\nthe domain controller, if we go in and\nwe take a look at the file explorer.\n\n105\n00:05:03.080 --> 00:05:09.430\nWe can go in here and we can see, if you\ntake a look at the path that I am in,\n\n106\n00:05:09.430 --> 00:05:13.600\nsee Windows PolicyDefinitions\nwill be the default directory\n\n107\n00:05:13.600 --> 00:05:17.960\non the local machine if we are not using\nwhat I called or termed a Central Store.\n\n108\n00:05:17.960 --> 00:05:19.830\nCome back to that idea in a few minutes.\n\n109\n00:05:19.830 --> 00:05:24.750\nThe local install directory for the policy\nare the administrative templates for\n\n110\n00:05:24.750 --> 00:05:27.940\nGroup Policy will be this\npath on the local machine.\n\n111\n00:05:27.940 --> 00:05:32.902\nAnd you'll see here, that all of\nthe files here have .admx extensions.\n\n112\n00:05:32.902 --> 00:05:36.084\nThere's quite a few of them here,\n196 items.\n\n113\n00:05:36.084 --> 00:05:41.167\nRight, and then if I look at en-US in\nthe subfolder, all of my ADML files,\n\n114\n00:05:41.167 --> 00:05:46.012\n195, which is the right number for\nthe ADMX files because the number\n\n115\n00:05:46.012 --> 00:05:49.988\nin the file folder directory\nincluded the folder en-US.\n\n116\n00:05:49.988 --> 00:05:54.666\nSo if you take that away,\n195 ADMX extensions for templates,\n\n117\n00:05:54.666 --> 00:06:00.040\n195 files language files had matched\nto localize that to English.\n\n118\n00:06:00.040 --> 00:06:03.784\nAnd every one of the ADMX files\nhas a corresponding ADML file that\n\n119\n00:06:03.784 --> 00:06:04.694\nequates it to.\n\n120\n00:06:04.694 --> 00:06:08.583\nYou saw in the directory there en-US,\nthe English derivative or\n\n121\n00:06:08.583 --> 00:06:11.310\nEnglish version of this particular policy.\n\n122\n00:06:11.310 --> 00:06:14.913\nIf we were using a French or German or\nRussian or Chinese or Spanish,\n\n123\n00:06:14.913 --> 00:06:18.342\npick your language,\nwhatever language you may be supporting.\n\n124\n00:06:18.342 --> 00:06:22.111\nAlas, we see the appropriate folder there,\ninstead of en-US,\n\n125\n00:06:22.111 --> 00:06:24.453\nyou would see FR for French or whatever.\n\n126\n00:06:24.453 --> 00:06:28.991\nAnd it would have ADML files that\nlocalize those ADMX settings,\n\n127\n00:06:28.991 --> 00:06:33.040\nthose templates into,\nin this case, French or German.\n\n128\n00:06:33.040 --> 00:06:35.120\nAnd this is a break from the ADM files.\n\n129\n00:06:35.120 --> 00:06:39.664\nThe ADM files' old school way of doing\nthis we're not able to be displayed in\n\n130\n00:06:39.664 --> 00:06:41.800\nlocalized languages the same way.\n\n131\n00:06:41.800 --> 00:06:44.588\nBecause they were all combined together,\nall the settings and\n\n132\n00:06:44.588 --> 00:06:48.210\neverything were in one place, it was\nharder to localize them and see them.\n\n133\n00:06:48.210 --> 00:06:50.050\nBy splitting the config file,\n\n134\n00:06:50.050 --> 00:06:54.660\nthe ADMX template file from the\nlocalization language file, we could see\n\n135\n00:06:54.660 --> 00:06:58.620\nthe policy independent of the language and\noverlay the language to translate it.\n\n136\n00:06:58.620 --> 00:07:02.380\nSo that allows us to have a standard\npolicy file that get displayed or\n\n137\n00:07:02.380 --> 00:07:04.650\nessentially translated by the ADML file.\n\n138\n00:07:04.650 --> 00:07:08.100\nIt's such kind of interesting new way of\ndoing it, when I say new I mean, that\n\n139\n00:07:08.100 --> 00:07:12.298\nserver generations in the OS already, but\nthis is how we now do this which is nice.\n\n140\n00:07:12.298 --> 00:07:15.979\nSo I could see the corresponding\nADML files for any one of these.\n\n141\n00:07:15.979 --> 00:07:21.101\nAnd let's just hypothetically say,\nwe choose the camera ADML file.\n\n142\n00:07:21.101 --> 00:07:23.797\nYou'll see that if you want\nto go to open this file,\n\n143\n00:07:23.797 --> 00:07:28.270\nit's one of those files you're not really\nnormally gonna open but choose Notepad.\n\n144\n00:07:29.760 --> 00:07:32.680\nWhile we can open it,\nit is a text file, no big deal.\n\n145\n00:07:32.680 --> 00:07:39.172\nIt's not one of those files we can't read,\nbut there's just not much there.\n\n146\n00:07:39.172 --> 00:07:42.456\nAll this is doing for\nus is we're going in, and\n\n147\n00:07:42.456 --> 00:07:45.620\nwe are seeing the XML encoding version.\n\n148\n00:07:45.620 --> 00:07:50.560\nWe are seeing the information about\nthe corresponding ADMX file and\n\n149\n00:07:50.560 --> 00:07:53.010\nwe are seeing just some\ngeneral information.\n\n150\n00:07:53.010 --> 00:07:55.162\nIf you disable this property settings,\nit says, it can't be save.\n\n151\n00:07:55.162 --> 00:07:56.954\nNotice it's all in English.\n\n152\n00:07:56.954 --> 00:08:00.082\nIf I looked at this ADML file on\na computer in French or German,\n\n153\n00:08:00.082 --> 00:08:03.708\nlocalized to the language,\nthis whole file would be in that language.\n\n154\n00:08:03.708 --> 00:08:07.388\nThis is what translates The descriptive\ninformation about the policy,\n\n155\n00:08:07.388 --> 00:08:11.610\ninto the appropriate display language for\nthe user looking at it in the console, so\n\n156\n00:08:11.610 --> 00:08:14.447\nthat's what these language files do,\nthat's exactly\n\n157\n00:08:14.447 --> 00:08:18.280\nwhat we would expect to see,\nis this information in English, right?\n\n158\n00:08:18.280 --> 00:08:22.650\nIn this case, in my demo environment,\ncuz I'm using an English-based PC.\n\n159\n00:08:22.650 --> 00:08:25.520\nSo if we go back up one\nlevel to the ADMX settings,\n\n160\n00:08:25.520 --> 00:08:30.360\nwhere all these templates go to\nthe same file, the camera ADMX file,\n\n161\n00:08:30.360 --> 00:08:35.090\nright-click Open with,\nbring this up again we gonna use Notepad,\n\n162\n00:08:35.090 --> 00:08:37.770\nthe Swiss Army knife of the IT\nprofessional everywhere.\n\n163\n00:08:37.770 --> 00:08:38.948\n&gt;&gt; Yeah.\n&gt;&gt; Did I tell you my Swiss Army knife\n\n164\n00:08:38.948 --> 00:08:40.063\nstory for when I was in Europe?\n\n165\n00:08:40.063 --> 00:08:43.074\n&gt;&gt; No\n&gt;&gt; I didn't tell you, so I ran a massage,\n\n166\n00:08:43.074 --> 00:08:47.960\nso was in Switzerland, the home of\nthe Swiss Army knife, and was looking for,\n\n167\n00:08:47.960 --> 00:08:50.720\nI thought maybe I'll get one, right.\n\n168\n00:08:50.720 --> 00:08:54.530\nAnd then Darlene reminded me, hey, you've\ngot one from like a million years ago that\n\n169\n00:08:54.530 --> 00:08:57.080\nyou bought when you went,\nand that you never use.\n\n170\n00:08:57.080 --> 00:08:58.580\nAnd I had this conversation with her,\nwell,\n\n171\n00:08:58.580 --> 00:09:00.430\nI don't think I have it because\nI've never seen, no, I have it,\n\n172\n00:09:00.430 --> 00:09:01.445\nit's just put away, you have it.\n\n173\n00:09:01.445 --> 00:09:02.754\n&gt;&gt; [LAUGH]\n&gt;&gt; And so we get home, and of course.\n\n174\n00:09:02.754 --> 00:09:03.493\n&gt;&gt; She would know.\n\n175\n00:09:03.493 --> 00:09:04.550\n[LAUGH]\n&gt;&gt; Right, we get home and\n\n176\n00:09:04.550 --> 00:09:06.760\nof course, what do I look for,\nand what do I not find?\n\n177\n00:09:06.760 --> 00:09:07.920\nMy Swiss Army knife.\n\n178\n00:09:07.920 --> 00:09:10.980\nSo had I bought one, I would have\nobviously had one, but no, I don't.\n\n179\n00:09:10.980 --> 00:09:12.176\nBut I'm not gonna hold a grudge.\n\n180\n00:09:12.176 --> 00:09:13.825\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm certainly not gonna be that\n\n181\n00:09:13.825 --> 00:09:16.440\nperson that says, I told you so,\nat least not to her face.\n\n182\n00:09:16.440 --> 00:09:19.346\nBut behind her back when she won't see it,\nI will say, I told you so and\n\n183\n00:09:19.346 --> 00:09:20.479\nI should've [CROSSTALK]\n&gt;&gt; But\n\n184\n00:09:20.479 --> 00:09:22.220\nyou do realize we\nare recording this right?\n\n185\n00:09:22.220 --> 00:09:23.830\n&gt;&gt; She'll never see it, so it's okay.\n\n186\n00:09:23.830 --> 00:09:26.360\nI'll make sure she doesn't see this\nepisode, so it's not a problem.\n\n187\n00:09:26.360 --> 00:09:31.190\nAll right, so anyway so take a look here,\nyou could see, go back to the file please.\n\n188\n00:09:31.190 --> 00:09:36.190\nYou see we do have a little bit\nmore information here, right?\n\n189\n00:09:36.190 --> 00:09:38.790\nClearly does have some\nsettings information,\n\n190\n00:09:38.790 --> 00:09:42.700\nclearly does have a little bit different\ninformation than what we saw in the L,\n\n191\n00:09:42.700 --> 00:09:45.980\nthe ADML file, the language\nfile that does the translation.\n\n192\n00:09:45.980 --> 00:09:49.500\nThese are the settings, the administrative\ntemplate settings for the camera.\n\n193\n00:09:49.500 --> 00:09:53.300\nSome files are bigger than others, some\nhave more settings associated with them.\n\n194\n00:09:53.300 --> 00:09:55.119\nThis is a relatively small one, but\n\n195\n00:09:55.119 --> 00:09:57.796\nchoose something like\nthe bits file right above it.\n\n196\n00:09:57.796 --> 00:09:59.594\nThat is 56K, so\nit's gonna be a little bit bigger.\n\n197\n00:09:59.594 --> 00:10:02.195\nThere's gonna be more substance to do it.\n\n198\n00:10:02.195 --> 00:10:08.005\nWe open that one up, there will be quite\na number of settings supported on,\n\n199\n00:10:08.005 --> 00:10:10.885\nyou can see all the different\nsettings in here, what they are.\n\n200\n00:10:10.885 --> 00:10:15.070\nThis is the nuts and bolts of the actual\nadministrative templates settings that we\n\n201\n00:10:15.070 --> 00:10:19.470\ngo through and edit at the GMPC so we're\nlooking at the actual settings themselves,\n\n202\n00:10:19.470 --> 00:10:21.460\nright, so you could see that there.\n\n203\n00:10:21.460 --> 00:10:24.730\nSo let's just go in, we'll just kinda\nget rid of that for the moment.\n\n204\n00:10:24.730 --> 00:10:28.480\n&gt;&gt; We were super fluent with this coding\nlanguage and we wanted to go ahead and\n\n205\n00:10:28.480 --> 00:10:32.650\nmodify that text file, would that be\nequivalent to modifying it through the GM-\n\n206\n00:10:32.650 --> 00:10:33.579\n&gt;&gt; It could be, ADMX,\n\n207\n00:10:33.579 --> 00:10:35.248\nwhich is written in XML,\n&gt;&gt; Okay.\n\n208\n00:10:35.248 --> 00:10:37.577\n&gt;&gt; So it's very English-like.\n\n209\n00:10:37.577 --> 00:10:40.610\nYou would obviously have to know\nwhat settings you're changing.\n\n210\n00:10:40.610 --> 00:10:43.740\nJust make sure you're setting the settings\ncorrectly as you change them,\n\n211\n00:10:43.740 --> 00:10:44.740\nas you were pointing out.\n\n212\n00:10:44.740 --> 00:10:47.758\nBut yes, you could certainly go in,\ndo that, no problem.\n\n213\n00:10:47.758 --> 00:10:50.060\nBut not recommended, not a best practice.\n\n214\n00:10:50.060 --> 00:10:53.990\nAgain, to be clear, we almost without\nexception never recommend going to\n\n215\n00:10:53.990 --> 00:10:57.700\na source file like this and editing it\ndirectly, the recommendation is hey,\n\n216\n00:10:57.700 --> 00:11:00.150\ngo to the interface, which we're\nabout to go take a look at and do.\n\n217\n00:11:00.150 --> 00:11:01.392\n&gt;&gt; Okay.\n&gt;&gt; Make the changes there,\n\n218\n00:11:01.392 --> 00:11:02.639\nwrite it back to the file,\n\n219\n00:11:02.639 --> 00:11:05.306\nthe reason being there may\nbe dependencies in the file,\n\n220\n00:11:05.306 --> 00:11:09.440\nthere may be areas in the code that\nare linked to a setting you're changing.\n\n221\n00:11:09.440 --> 00:11:13.190\nAnd in the interface when you make\nthat setting change, it will tell you,\n\n222\n00:11:13.190 --> 00:11:17.220\nby the way, you have to set this numerical\nvalue, remember for instance when we went\n\n223\n00:11:17.220 --> 00:11:19.035\ninto the prior episode,\nwe took a look at loop that process.\n\n224\n00:11:19.035 --> 00:11:20.056\n&gt;&gt; Yes.\nWe enabled it,\n\n225\n00:11:20.056 --> 00:11:24.688\nwe had to make a choice on the two options\nfor whether we wanted to do merge,\n\n226\n00:11:24.688 --> 00:11:27.570\nright, or essentially you know overwrite.\n\n227\n00:11:27.570 --> 00:11:29.800\nAnd so just not keep,\nor dump the settings.\n\n228\n00:11:29.800 --> 00:11:33.430\nIf we didn't do that, and we only\nchange one option, the setting would be\n\n229\n00:11:33.430 --> 00:11:36.640\nincomplete, the policy would not be\napplied correctly, we have an error.\n\n230\n00:11:36.640 --> 00:11:40.370\nWe don't know necessarily what all those\ndependencies are if we try to edit here,\n\n231\n00:11:40.370 --> 00:11:43.950\nand we may have on our mind\nan understanding of that, right?\n\n232\n00:11:43.950 --> 00:11:44.885\nBut if we don't know that?\n\n233\n00:11:44.885 --> 00:11:46.670\n&gt;&gt; Right.\n&gt;&gt; We run the risk of actually corrupting\n\n234\n00:11:46.670 --> 00:11:49.400\nthe policy and\nnot applying the settings correctly.\n\n235\n00:11:49.400 --> 00:11:53.700\nSo it's never recommended to do it here\nalthough technically it's certainly\n\n236\n00:11:53.700 --> 00:11:56.450\npossible if you knew what you were\ndoing cuz the effects is the same.\n\n237\n00:11:56.450 --> 00:12:00.475\nAll we're doing is writing back to\nthis file while we're making changes.\n\n238\n00:12:00.475 --> 00:12:04.500\nBut we have to update the file in such\na way that it actually reflects accurately\n\n239\n00:12:04.500 --> 00:12:07.520\nwhat those settings are and\nwe often miss one or more of them and\n\n240\n00:12:07.520 --> 00:12:09.710\nthat becomes the issue where it\njust doesn't work the right way.\n\n241\n00:12:09.710 --> 00:12:12.510\nSo, not for exam purposes, certainly.\n\n242\n00:12:12.510 --> 00:12:15.310\nNever the right answer,\ngo edit it in the file.\n\n243\n00:12:15.310 --> 00:12:17.910\nAlways edit it through the GUI,\nas we're about to see here.\n\n244\n00:12:17.910 --> 00:12:21.480\nFor the real life, up to you, obviously.\n\n245\n00:12:21.480 --> 00:12:23.030\nMy recommendation would\nbe use the GUI anyway.\n\n246\n00:12:23.030 --> 00:12:25.200\n&gt;&gt; Okay.\n&gt;&gt; But always that possibility.\n\n247\n00:12:25.200 --> 00:12:26.140\nOr go to your friend's machine.\n\n248\n00:12:26.140 --> 00:12:26.828\nEdit on there and so then, you know.\n\n249\n00:12:26.828 --> 00:12:28.355\n&gt;&gt; [LAUGH]\n&gt;&gt; If it works there, then go and\n\n250\n00:12:28.355 --> 00:12:30.017\ntry it at home and it'll be fine.\n\n251\n00:12:30.017 --> 00:12:30.962\nNo problem.\nAll right, so\n\n252\n00:12:30.962 --> 00:12:33.280\nwhat we're gonna do is we're here.\n\n253\n00:12:33.280 --> 00:12:34.640\nSo you've seen where\nthese settings come from.\n\n254\n00:12:34.640 --> 00:12:38.320\nYou've seen these categories where\nthe actual information would be.\n\n255\n00:12:38.320 --> 00:12:40.260\nSo now we have a sense of that.\n\n256\n00:12:40.260 --> 00:12:40.770\nKnow what that is.\n\n257\n00:12:40.770 --> 00:12:43.280\nYou can see under Windows components,\nhere, Camera.\n\n258\n00:12:43.280 --> 00:12:45.240\nI was just looking at\nthe setting right there.\n\n259\n00:12:45.240 --> 00:12:50.720\nThat's why the ADMX file was so\nsmall versus Bit Locker Drive Encryption.\n\n260\n00:12:50.720 --> 00:12:52.329\nLook at all the different options we have.\n\n261\n00:12:52.329 --> 00:12:56.116\nThat's why we have 56K ADMX file, because\nit's got so many different options and\n\n262\n00:12:56.116 --> 00:12:56.930\nsettings.\n\n263\n00:12:56.930 --> 00:13:00.410\nAnd like I was saying, if you don't\nset the right dependencies in here,\n\n264\n00:13:00.410 --> 00:13:02.060\nchances are good you\nscrew up the policy file.\n\n265\n00:13:02.060 --> 00:13:03.620\nIt's not gonna work the right way.\n\n266\n00:13:03.620 --> 00:13:06.548\nBut the camera is probably a safe bet,\nthere's only one thing to edit.\n\n267\n00:13:06.548 --> 00:13:08.224\n&gt;&gt; [LAUGH]\n&gt;&gt; It's really hard to get that wrong,\n\n268\n00:13:08.224 --> 00:13:10.050\nit's a yes no, allow or deny.\n\n269\n00:13:10.050 --> 00:13:13.680\nBut in these there may be three or four\nsettings that have to be set for this to\n\n270\n00:13:13.680 --> 00:13:17.330\nactually work the right way, you may not\nbe able to be aware of what they are.\n\n271\n00:13:17.330 --> 00:13:19.760\nSo we have all the options here,\nas you can see.\n\n272\n00:13:19.760 --> 00:13:22.790\nNow what people don't realize\nabout administrative templates,\n\n273\n00:13:22.790 --> 00:13:23.810\nlet me just come up here.\n\n274\n00:13:25.230 --> 00:13:28.270\nCouple of things, number one,\nwe could add or remove templates.\n\n275\n00:13:28.270 --> 00:13:32.530\nI showed you the default stacks, about\n195 of them, that are there in Server 16.\n\n276\n00:13:32.530 --> 00:13:37.430\nI mentioned we could import additional\nones, we could bring those in, right?\n\n277\n00:13:37.430 --> 00:13:42.830\nSo we may go out to download them from\nMicrosoft, I mentioned Office 2016\n\n278\n00:13:42.830 --> 00:13:47.740\nconfiguration of additional software items\nthat may be added from other vendors.\n\n279\n00:13:47.740 --> 00:13:51.780\nWe could bring those in, dump them in\nthat directory and then import them to\n\n280\n00:13:51.780 --> 00:13:56.360\nmake sure they are available, add/remove\ntemplates, go Add and then we could just\n\n281\n00:13:56.360 --> 00:13:59.510\ngo browse, see where those templates\nwill be and then bring them in.\n\n282\n00:13:59.510 --> 00:14:02.420\nWe would obviously go in to\nthe directory where we have them and\n\n283\n00:14:02.420 --> 00:14:03.160\nmake them available.\n\n284\n00:14:03.160 --> 00:14:06.540\nA lot of times these are delivered by\ndownloading an MSI of some kind and\n\n285\n00:14:06.540 --> 00:14:08.070\nthen templates are exposed.\n\n286\n00:14:08.070 --> 00:14:10.820\nOnce you run or do the install\nyou can bring them in that way.\n\n287\n00:14:10.820 --> 00:14:14.010\nSo it's up to you to decide, but\nyou can download these packages.\n\n288\n00:14:14.010 --> 00:14:18.530\nSo one option, one thing to be aware\nof is we can import policy templates,\n\n289\n00:14:18.530 --> 00:14:19.880\nvery important to be aware of that.\n\n290\n00:14:19.880 --> 00:14:25.390\nIn addition, notice that we can filter,\nwe have filter options.\n\n291\n00:14:25.390 --> 00:14:27.550\nAgain, I don't know how many of you\nhave ever gone in and done this, or\n\n292\n00:14:27.550 --> 00:14:30.250\nseen the filtering options\nfrom administrative templates.\n\n293\n00:14:30.250 --> 00:14:31.670\nWe do have this option.\n\n294\n00:14:31.670 --> 00:14:33.800\nSelect the type of policy\nsettings to display.\n\n295\n00:14:33.800 --> 00:14:36.520\nI wanna see policies that are Managed.\n\n296\n00:14:36.520 --> 00:14:38.290\nI wanna see policies that are Configured.\n\n297\n00:14:38.290 --> 00:14:41.230\nI wanna see policies\nthat may be Commented.\n\n298\n00:14:41.230 --> 00:14:45.700\nDo I wanna enable a keyword\nfilter just using metadata.\n\n299\n00:14:45.700 --> 00:14:50.080\nI can go search for\nany key word in the policy setting title,\n\n300\n00:14:50.080 --> 00:14:52.320\nin the help text, or in a comment.\n\n301\n00:14:52.320 --> 00:14:54.700\nNotice I have the option to do that.\n\n302\n00:14:54.700 --> 00:14:56.940\nAnd notice I can do any, all, or exact.\n\n303\n00:14:56.940 --> 00:14:59.350\nSo I can be very specific about my match.\n\n304\n00:14:59.350 --> 00:15:02.000\nAnd Enable Requirements Filters.\n\n305\n00:15:03.120 --> 00:15:08.480\nI can look at specific requirements,\nwhat version of IE,\n\n306\n00:15:08.480 --> 00:15:12.660\nwhat version of bits, what version\nof this data we're supporting.\n\n307\n00:15:12.660 --> 00:15:17.720\nAnd I can filter and only see templates\nunique to the strings that I specify here.\n\n308\n00:15:17.720 --> 00:15:18.630\nI may not wanna see,\n\n309\n00:15:18.630 --> 00:15:23.180\nI don't know, 150, 200 almost\ntemplates by default out of the box.\n\n310\n00:15:23.180 --> 00:15:26.751\nBut I have to be a way through here\nmaybe I wanna craft a policy that's only\n\n311\n00:15:26.751 --> 00:15:29.459\ngonna be unique and\nspecific to the supported IE11.\n\n312\n00:15:29.459 --> 00:15:32.516\nWell, I could just go ahead and\nI can do that and you could see for\n\n313\n00:15:32.516 --> 00:15:35.309\ninstance, I could choose to filter for\nIE11, right?\n\n314\n00:15:35.309 --> 00:15:37.781\nAnd then I can decide whether or not, and\n\n315\n00:15:37.781 --> 00:15:42.530\nyou'll notice that that changed\ndramatically what I'm viewing right now.\n\n316\n00:15:42.530 --> 00:15:46.778\nYou see I went from having all those\nsettings and all those options there under\n\n317\n00:15:46.778 --> 00:15:51.028\nmultiple categories to very small\nconstrained interface right now because I\n\n318\n00:15:51.028 --> 00:15:55.598\nfiltered it and I asked specifically to be\nable to see only things related to IE, and\n\n319\n00:15:55.598 --> 00:15:57.853\nagain you may have not done this before.\n\n320\n00:15:57.853 --> 00:16:01.058\nIt's just maybe something that's kind of\nnever really popped up on your radar when\n\n321\n00:16:01.058 --> 00:16:03.847\nyou're looking at the stuff going,\nyeah, I just need to get in there and\n\n322\n00:16:03.847 --> 00:16:04.745\nget this policy done.\n\n323\n00:16:04.745 --> 00:16:07.425\nYou never bothered to realize\nyou have these capabilities and\n\n324\n00:16:07.425 --> 00:16:08.669\nthe flexibility to do this.\n\n325\n00:16:08.669 --> 00:16:11.957\nBut administrative templates\nare the way we essentially go in and\n\n326\n00:16:11.957 --> 00:16:15.725\ncontrol and craft the user environment and\nthe user settings specifically\n\n327\n00:16:15.725 --> 00:16:18.652\nbased on what the outcome is\nwe want the policy to achieve,\n\n328\n00:16:18.652 --> 00:16:22.090\nout beyond the basics of hey,\nlet's set a password policy.\n\n329\n00:16:22.090 --> 00:16:25.760\nBut set a lockout account policy\nwhen things don't go the right way.\n\n330\n00:16:25.760 --> 00:16:29.070\nThose default settings in the domain\npolicy, we know they're there.\n\n331\n00:16:29.070 --> 00:16:31.910\nThese are all the things under\nthe hood that traditional policy\n\n332\n00:16:31.910 --> 00:16:34.900\nmanagement is used for,\nout beyond the basics of just security.\n\n333\n00:16:34.900 --> 00:16:36.370\nAnd this is where the magic happens.\n\n334\n00:16:36.370 --> 00:16:39.290\nBut you could do it the old fashioned way,\nJust get in there and\n\n335\n00:16:39.290 --> 00:16:42.840\nhack through everything and\nhope you find the right settings or\n\n336\n00:16:42.840 --> 00:16:45.900\nyou could do what we suggested in one\nof the prior episodes, go download that\n\n337\n00:16:45.900 --> 00:16:49.750\npolicy setting spreadsheet that I\nmentioned that we downloaded, right?\n\n338\n00:16:49.750 --> 00:16:50.840\nYou can take a look at that.\n\n339\n00:16:50.840 --> 00:16:54.425\nBut again there's thousands of settings\nin there you have to filter that thing to\n\n340\n00:16:54.425 --> 00:16:57.055\nfind the settings you want\nthen go match them here and\n\n341\n00:16:57.055 --> 00:17:00.095\ntry to find them among the roughly 280 MX\n\n342\n00:17:00.095 --> 00:17:04.285\nenabled settings that are available\njust on the computer side alone, right?\n\n343\n00:17:04.285 --> 00:17:07.165\nWe could go in and we could filter and\nsubdivide that down,\n\n344\n00:17:07.165 --> 00:17:09.525\nI don't know ten whatever\nthey maybe in there.\n\n345\n00:17:09.525 --> 00:17:13.195\nSpecifically let us craft that policy and\nthen it's a lot easier for\n\n346\n00:17:13.195 --> 00:17:14.535\nus to get the job done.\n\n347\n00:17:14.535 --> 00:17:19.570\nSo be able to go in and\nuse this is actually a really powerful\n\n348\n00:17:19.570 --> 00:17:24.370\nfeature it just gives us so much more\ncapability flexibility and ability to be\n\n349\n00:17:24.370 --> 00:17:29.100\nable to bring our focus, our need, our\nfull policy management to be on a timely\n\n350\n00:17:29.100 --> 00:17:32.130\nfashion as administrator it's very\nimportant for you to think about this.\n\n351\n00:17:32.130 --> 00:17:36.278\nRemember and Cherokee can attest to this\nwhen she often does when she [INAUDIBLE]\n\n352\n00:17:36.278 --> 00:17:39.450\nyeah that's right you may see\nit that way on the exam, right,\n\n353\n00:17:39.450 --> 00:17:42.870\nyou're not just gonna be asked to\nproblem solve or troubleshoot.\n\n354\n00:17:42.870 --> 00:17:43.640\nWe've talked about this.\n\n355\n00:17:43.640 --> 00:17:44.270\nYou definitely will.\n\n356\n00:17:44.270 --> 00:17:48.506\nBut often times, those questions\nare couched in something like, right,\n\n357\n00:17:48.506 --> 00:17:53.151\nstandard disclaimer, something like\nthe following language that's the actual\n\n358\n00:17:53.151 --> 00:17:55.185\nlanguage you'll see, by the way.\n\n359\n00:17:55.185 --> 00:17:59.506\nIt's called the Charlie Brown format,\nremember that, you ever see that?\n\n360\n00:17:59.506 --> 00:18:04.391\nI had that conversation when I was having\nthe conversation about my Swiss army knife\n\n361\n00:18:04.391 --> 00:18:05.031\nfactory.\n\n362\n00:18:05.031 --> 00:18:07.831\nShe was like [SOUND]\nthat’s all you ever say.\n\n363\n00:18:07.831 --> 00:18:09.440\n&gt;&gt; [LAUGH]\n&gt;&gt; I said well that’s true because\n\n364\n00:18:09.440 --> 00:18:11.000\nyou didn't tell me the right answer.\n\n365\n00:18:11.000 --> 00:18:15.520\nSo, what I'm suggesting though was that\nwhat you're going to get is something\n\n366\n00:18:15.520 --> 00:18:17.040\nalong the lines of\na scenario word problem.\n\n367\n00:18:17.040 --> 00:18:19.300\nThis is going on,\nthis is not working whatever.\n\n368\n00:18:19.300 --> 00:18:24.830\nAnd not just solve the problem but solve\nit with the least administrative overhead,\n\n369\n00:18:24.830 --> 00:18:27.740\nthe least administrative cost, least\nadministrative burden something like.\n\n370\n00:18:27.740 --> 00:18:31.150\nImplying hey there's more than\none way to get this done.\n\n371\n00:18:31.150 --> 00:18:36.080\nChoose the most economical from a time,\nmoney, perspective because we don't\n\n372\n00:18:36.080 --> 00:18:39.750\nwant you sitting there for an hour solving\nthe problem, we want you to get it done,\n\n373\n00:18:39.750 --> 00:18:43.100\nand show us you know how to use our tools,\nreach into that bag,\n\n374\n00:18:43.100 --> 00:18:44.790\nit's 20 options we gave you,\n\n375\n00:18:44.790 --> 00:18:48.300\npull out the right options it's gonna get\nit done quickly Maybe it's PowerShell.\n\n376\n00:18:48.300 --> 00:18:51.840\nMaybe it's an old fashioned too like\nGP log viewer, like I showed you in\n\n377\n00:18:51.840 --> 00:18:55.060\none of the prior episodes from\nour first set of conversations or\n\n378\n00:18:55.060 --> 00:18:57.380\nout group policy that's\nbeen there since Vista.\n\n379\n00:18:57.380 --> 00:18:59.070\nI've showed you the demo on the tool.\n\n380\n00:18:59.070 --> 00:19:01.070\nLet's do a lot of really great things.\n\n381\n00:19:01.070 --> 00:19:04.440\nExport content to HTML format,\naggregate log files.\n\n382\n00:19:04.440 --> 00:19:07.520\nBut if you don't know about the tool, how\nare you gonna get that as a right answer\n\n383\n00:19:07.520 --> 00:19:09.740\non the exam, you don't even\nknow the tool exists, right?\n\n384\n00:19:09.740 --> 00:19:11.430\nSo we're trying to show y'all the options.\n\n385\n00:19:11.430 --> 00:19:15.330\nBut my point is you've got to be prepared\nto understand not only how to use them,\n\n386\n00:19:15.330 --> 00:19:18.405\nbut what's the most equitable use of your\ntime as an administrator to get the job\n\n387\n00:19:18.405 --> 00:19:22.485\nand sometimes it may be a filter,\nas opposed to just going in and\n\n388\n00:19:22.485 --> 00:19:25.215\nknowing you just have an inventory of\n200 settings, and it's hunting and\n\n389\n00:19:25.215 --> 00:19:28.685\nsearching through to find the right\none is all I'm suggesting, right?\n\n390\n00:19:28.685 --> 00:19:30.175\nSo keep that in mind and be aware of it.\n\n391\n00:19:30.175 --> 00:19:32.890\nAll right, so, got all that, right?\n\n392\n00:19:32.890 --> 00:19:35.820\nWe know how to do some filtering, can we\ndo the same thing down on the user side?\n\n393\n00:19:35.820 --> 00:19:38.040\nIt works the same way,\njust join me down here.\n\n394\n00:19:38.040 --> 00:19:39.130\nRight, no difference.\n\n395\n00:19:39.130 --> 00:19:42.042\nJust kinda move this over so\nwe can kinda see that a little bit,\n\n396\n00:19:42.042 --> 00:19:44.853\nyou can see coming from ADMX\nfiles from the local computer.\n\n397\n00:19:44.853 --> 00:19:47.490\nAll right, so we can open this up.\n\n398\n00:19:47.490 --> 00:19:50.660\nAnd you'll see here,\nnow the filter's applied.\n\n399\n00:19:50.660 --> 00:19:52.660\nRemember I applied the IE filter.\n\n400\n00:19:52.660 --> 00:19:54.150\nApplies to both, computers and users.\n\n401\n00:19:54.150 --> 00:19:57.430\nYou'll see it filters the entire\npolicy segment right, so\n\n402\n00:19:57.430 --> 00:20:02.090\nif we want to get rid of that filter,\nwe got to go back, right filter on, right.\n\n403\n00:20:03.260 --> 00:20:05.690\nFilter off, it's like wax on,\nwax off, right we need Mr.\n\n404\n00:20:05.690 --> 00:20:06.860\nMiyagi to help us out here.\n\n405\n00:20:06.860 --> 00:20:09.720\nSo once I removed the filter,\nwhat do you see?\n\n406\n00:20:09.720 --> 00:20:10.980\nAll the options come back.\n\n407\n00:20:10.980 --> 00:20:13.520\nWe're not removing them, deleting them,\nwe're simply hiding them from view,\n\n408\n00:20:13.520 --> 00:20:14.860\nthat's what filters do.\n\n409\n00:20:14.860 --> 00:20:15.500\nMakes it easier for\n\n410\n00:20:15.500 --> 00:20:19.520\nus to work with the policy and figure out\nhow we want to go ahead and configure it.\n\n411\n00:20:19.520 --> 00:20:20.820\nGot the same option here, right?\n\n412\n00:20:20.820 --> 00:20:25.500\nControl Panel, go in,\ncan I filter just in this one area?\n\n413\n00:20:27.230 --> 00:20:30.940\nRemember, if I choose Filter On it applies\nto the filter that I already configured.\n\n414\n00:20:30.940 --> 00:20:34.510\nWhat I need to do is go back to\nFilter Options to reprogram the Filter.\n\n415\n00:20:34.510 --> 00:20:38.250\nOtherwise if I turn it back on\nthe same filter I already created.\n\n416\n00:20:38.250 --> 00:20:42.780\nI just did that you see a filter for\nIE, control panel went away.\n\n417\n00:20:42.780 --> 00:20:47.390\nSo if I wanna filter here, let me go in,\nlet me go to filter options.\n\n418\n00:20:47.390 --> 00:20:50.770\nLet me change that filter and\nlet me make a choice.\n\n419\n00:20:50.770 --> 00:20:54.380\nAnd then yeah I can filter whatever I want\nBut that filter is already programmed.\n\n420\n00:20:54.380 --> 00:20:56.960\nIf I reapply it,\nit's gonna work the same way.\n\n421\n00:20:56.960 --> 00:20:58.505\nSo do have just to remember that, right?\n\n422\n00:20:58.505 --> 00:21:01.760\n[LAUGH] Just remember that and make\nsure you are aware of that, all right.\n\n423\n00:21:01.760 --> 00:21:04.490\nSo i.e Windows operating system,\n\n424\n00:21:04.490 --> 00:21:06.940\nyou could see all sorts of\ndifferent stuff done here.\n\n425\n00:21:06.940 --> 00:21:08.354\nFor instance, under Windows XP,\n\n426\n00:21:08.354 --> 00:21:10.708\nwhere I noticed we have\ndifferent build levels, right?\n\n427\n00:21:10.708 --> 00:21:13.270\nFor the OS,\nwe can also filter accordingly.\n\n428\n00:21:13.270 --> 00:21:15.650\nIf I did that I would make\nit next to no setting or\n\n429\n00:21:15.650 --> 00:21:17.190\nsomething depending on what I am doing.\n\n430\n00:21:17.190 --> 00:21:18.400\nSo just keep that in mind, right.\n\n431\n00:21:18.400 --> 00:21:20.470\nWe can use the filtering capabilities.\n\n432\n00:21:20.470 --> 00:21:23.820\nVery, very helpful for\nus to be able to do that.\n\n433\n00:21:23.820 --> 00:21:26.390\nWe can go in, we can use ADMX files.\n\n434\n00:21:26.390 --> 00:21:30.740\nDownload them as I suggested from one or\nmore websites, simply from Microsoft.\n\n435\n00:21:30.740 --> 00:21:33.820\nBring them in, explode out the MSI,\ndrop them in there,\n\n436\n00:21:33.820 --> 00:21:35.320\nwhatever package format they come in.\n\n437\n00:21:35.320 --> 00:21:38.940\nAnd then I showed you how to import them,\nand to put them to work.\n\n438\n00:21:38.940 --> 00:21:44.580\nThe other thing is that the standard\ndefault directly will be as you saw,\n\n439\n00:21:44.580 --> 00:21:46.520\nlet me go back, so you can see this.\n\n440\n00:21:47.710 --> 00:21:51.780\nWill be the C window\npolicy definition path.\n\n441\n00:21:51.780 --> 00:21:56.240\nThis is the local directory where\nADMX falls on the local machine.\n\n442\n00:21:56.240 --> 00:21:59.000\nMachine is to make a chore,\ndoesn't matter what it is.\n\n443\n00:21:59.000 --> 00:22:02.250\nIf I want to use a different directory,\n\n444\n00:22:02.250 --> 00:22:08.140\ncentral store as we call it to be able to\ncreate the ADMX files, put them in there,\n\n445\n00:22:08.140 --> 00:22:12.000\ngive everybody or I should say\nanybody as a user who has rights and\n\n446\n00:22:12.000 --> 00:22:16.330\npermissions to create our energy PO's to\nput those ADMX files there and save those\n\n447\n00:22:16.330 --> 00:22:20.170\npolicies off and make them available I\nwill create what's called a central store.\n\n448\n00:22:20.170 --> 00:22:23.860\nBut I can do that which changes\nthe location of this directory and lets us\n\n449\n00:22:23.860 --> 00:22:29.720\ncreate one through a published UNC, a\npath, that allows us to then provide that.\n\n450\n00:22:29.720 --> 00:22:33.180\nSo let's take a look at what\nwe do if we wanted to do that.\n\n451\n00:22:33.180 --> 00:22:37.240\nWe could come in here, go to my\nother directory that I have set up.\n\n452\n00:22:37.240 --> 00:22:42.410\nI would be In here in the window\nSysvol Directory, and\n\n453\n00:22:42.410 --> 00:22:47.490\ninside Sysvol, I'm in the Policies folder,\nI created a dummy generic\n\n454\n00:22:47.490 --> 00:22:51.320\nplaceholder called New Folder, just to\nshow you where I would create the folder,\n\n455\n00:22:51.320 --> 00:22:54.580\nI'm gonna show you what to name it\nright now, but right click on it.\n\n456\n00:22:54.580 --> 00:22:57.120\nYou would actually create a folder called.\n\n457\n00:22:58.590 --> 00:23:03.170\nInstead of New Folder,\ncalled PolicyDefinitions.\n\n458\n00:23:03.170 --> 00:23:07.210\nThat would be no spaces,\njust like I am creating it there.\n\n459\n00:23:07.210 --> 00:23:11.155\nSo PolicyDefinitions, capital P capital D,\nno space right there.\n\n460\n00:23:11.155 --> 00:23:15.555\nThe downside to this is that\nyou have to manually copy all\n\n461\n00:23:15.555 --> 00:23:20.705\nthe ADMX files over from\nC:\\Windows\\Policies to bring them in.\n\n462\n00:23:20.705 --> 00:23:24.665\nAnd anybody who puts policies here,\nADMX files here, has to do so and\n\n463\n00:23:24.665 --> 00:23:25.205\nknow the path.\n\n464\n00:23:25.205 --> 00:23:27.115\nIn other words,\nwe don't prepopulate this, or\n\n465\n00:23:27.115 --> 00:23:29.502\nwe're not gonna populate this\njust because you created it.\n\n466\n00:23:29.502 --> 00:23:33.880\nAnd all of a sudden all\nthe ADMX files show up in here.\n\n467\n00:23:33.880 --> 00:23:37.650\nThis is a generic empty directory\nunless you put something in.\n\n468\n00:23:37.650 --> 00:23:39.500\nSo as an admin if you create this and\n\n469\n00:23:39.500 --> 00:23:44.070\nwant to use what we call the central\nstore, you must manually populate this and\n\n470\n00:23:44.070 --> 00:23:47.330\nmanually sync it and\nset it up on all the domain controllers.\n\n471\n00:23:47.330 --> 00:23:50.747\nSo there's a little bit of work involved\nhere, it would be nice if we did this for\n\n472\n00:23:50.747 --> 00:23:52.075\nyou but we're not doing that.\n\n473\n00:23:52.075 --> 00:23:55.837\nSo I just want you to understand,\nknow what the limitations of this will be.\n\n474\n00:23:55.837 --> 00:23:58.136\nIt is good to use, right?\n\n475\n00:23:58.136 --> 00:24:02.004\nWe will go, we being the domain\ncontroller in this case,\n\n476\n00:24:02.004 --> 00:24:06.762\nMicrosoft has programmed the domain\ncontroller to look at the central\n\n477\n00:24:06.762 --> 00:24:11.825\nstore as its primary mechanism for\nusing the ADMX files, if it exists.\n\n478\n00:24:11.825 --> 00:24:16.215\nIt will go here and ignore, see\nWindows.policy folder and the local quote,\n\n479\n00:24:16.215 --> 00:24:18.795\nunquote cache of those policy ADMX files.\n\n480\n00:24:18.795 --> 00:24:21.905\nSo, by just creating this folder,\nnot putting anything here,\n\n481\n00:24:21.905 --> 00:24:24.725\nyou've essentially shot\nyourself in the foot.\n\n482\n00:24:24.725 --> 00:24:29.200\nBecause we look at the policy definitions\nfolder, as being the central store.\n\n483\n00:24:29.200 --> 00:24:30.530\nDomain controllers will default here.\n\n484\n00:24:30.530 --> 00:24:33.410\nThey see nothing here,\nthey will not go anywhere else.\n\n485\n00:24:33.410 --> 00:24:36.170\nThey will ignore all\nthe other local ADMX files.\n\n486\n00:24:36.170 --> 00:24:40.930\nSo if you're gonna do this, you must\npopulate it or bad things will happen.\n\n487\n00:24:40.930 --> 00:24:42.840\nThings like policies don't show up,\nthey don't apply,\n\n488\n00:24:42.840 --> 00:24:45.740\nand you've got all sorts of issues and\nyou may not know why.\n\n489\n00:24:45.740 --> 00:24:46.790\nThat is the behavior.\n\n490\n00:24:46.790 --> 00:24:50.170\nSo please be aware of that,\nplease understand that.\n\n491\n00:24:50.170 --> 00:24:55.090\nOther format to create this is FQDN,\nSYSVOL, FQDN policy.\n\n492\n00:24:55.090 --> 00:24:59.400\nSo for instance, if you give me half a\nsecond, let me just bring my notes up to,\n\n493\n00:24:59.400 --> 00:25:01.580\nshow actually, I did not bring\nup my notes for this section.\n\n494\n00:25:01.580 --> 00:25:03.710\nForget I said that, I will just\ntell you what it is, no big deal.\n\n495\n00:25:03.710 --> 00:25:05.000\nI don't have my notes up for this section.\n\n496\n00:25:05.000 --> 00:25:07.330\nI have my notes up from\na prior conversation.\n\n497\n00:25:07.330 --> 00:25:09.250\nBut very straightforward, very easy.\n\n498\n00:25:09.250 --> 00:25:14.260\nLet's just say hypothetically the name\nof the server was Server16.ITPro.TV.\n\n499\n00:25:14.260 --> 00:25:19.680\nSo, backslash, backslash server16.ITPro.TV\nwill be the name, the FDQN of the server.\n\n500\n00:25:19.680 --> 00:25:22.390\nStandard UNC,\nuniversal name it can mention path\n\n501\n00:25:22.390 --> 00:25:26.350\nslash sysvol which is gonna be\nthe named folder where we find this.\n\n502\n00:25:26.350 --> 00:25:28.095\nSlash name of the machine again,\n\n503\n00:25:28.095 --> 00:25:33.840\nServer16.ITPro.TV slash policies which\nis the sub directory we get into and\n\n504\n00:25:33.840 --> 00:25:37.230\nthen policy definition sits\nin the policies folder.\n\n505\n00:25:37.230 --> 00:25:42.360\nAnd you will find that that's then how we\nlocate the central store, by doing that.\n\n506\n00:25:42.360 --> 00:25:44.830\nWe will then copy all\nthose files in there.\n\n507\n00:25:44.830 --> 00:25:48.150\nAnd by putting them in there, the domain\ncontroller will default there and\n\n508\n00:25:48.150 --> 00:25:49.580\nactually start to use the ADMX.\n\n509\n00:25:49.580 --> 00:25:51.120\nAnd don't forget the ADML files,\n\n510\n00:25:51.120 --> 00:25:54.040\nas well, cuz the ADMX files\nare only half the battle.\n\n511\n00:25:54.040 --> 00:25:55.890\nWe have to make sure they're in\nthe appropriate language and\n\n512\n00:25:55.890 --> 00:25:57.160\ndisplayed properly.\n\n513\n00:25:57.160 --> 00:26:00.020\nEven if you're in English, you just say,\nwell, I'm gonna go show up in English.\n\n514\n00:26:00.020 --> 00:26:04.290\nCopy both sets over, remember it's\njust simply the folder right inside\n\n515\n00:26:04.290 --> 00:26:08.580\nthe ADMX Directory, that subfolder ENUS,\nor whatever the language is.\n\n516\n00:26:08.580 --> 00:26:11.770\nCopy everything and put them in there so\nthat the policies can be read,\n\n517\n00:26:11.770 --> 00:26:13.890\notherwise you're gonna\nwind up with a problem.\n\n518\n00:26:13.890 --> 00:26:16.200\nThings are not gonna work the right way.\n\n519\n00:26:16.200 --> 00:26:18.740\nAlso, if you are doing service packs and\n\n520\n00:26:18.740 --> 00:26:23.240\nother software updates, Office 2016\nI mentioned has its own .ADMX files.\n\n521\n00:26:23.240 --> 00:26:27.230\nWhen you apply service packs, there tend\nto be new ADMX files applied, you have to\n\n522\n00:26:27.230 --> 00:26:32.310\ngrab those and manually copy them over,\ninto the central store policy definitions\n\n523\n00:26:32.310 --> 00:26:35.720\ndirectory, or they don't show up and\nyou won't have the most recent settings.\n\n524\n00:26:35.720 --> 00:26:38.970\nSo using a central store is good,\nbut there's a lot\n\n525\n00:26:38.970 --> 00:26:42.970\nof backend work that has to happen with\nthis to make sure it goes the right way.\n\n526\n00:26:42.970 --> 00:26:45.040\nWanna make sure we're aware that,\nwe're thinking about that,\n\n527\n00:26:45.040 --> 00:26:49.730\nwe have a sense of that,so that we\nunderstand the dos and don'ts here or\n\n528\n00:26:49.730 --> 00:26:52.460\ninadvertently, we may wind up not\nbeing able to apply the right policy,\n\n529\n00:26:52.460 --> 00:26:55.540\nwhich obviously can lead to all\nsorts of concerns from a security\n\n530\n00:26:55.540 --> 00:26:58.248\nas well as just from a useability and\na user settings standpoint.\n\n531\n00:26:58.248 --> 00:27:01.980\nSo do wanna make sure, as we're\nfocusing these conversations on, hey,\n\n532\n00:27:01.980 --> 00:27:05.550\nthis is how we manage user settings,\nthese are the experience settings for\n\n533\n00:27:05.550 --> 00:27:08.430\nusers, that we have the right\ngroup of settings, right?\n\n534\n00:27:08.430 --> 00:27:11.810\nAt the right time to make sure\nwe craft that environment\n\n535\n00:27:11.810 --> 00:27:12.800\nin the appropriate manner.\n\n536\n00:27:12.800 --> 00:27:16.240\nSo, to do that is to understand that as\nwe're starting our conversations here.\n\n537\n00:27:16.240 --> 00:27:18.830\nBeginning our journey into\nthe user setting areas.\n\n538\n00:27:18.830 --> 00:27:20.690\nHow we manage and how we set them up?\n\n539\n00:27:20.690 --> 00:27:22.840\nAdministrative templates could\nbe a very valuable tool.\n\n540\n00:27:22.840 --> 00:27:25.600\nBut as you saw this a little more\ncomplexity involved with them if you\n\n541\n00:27:25.600 --> 00:27:27.910\nhaven't use them before or\nuse them in this way.\n\n542\n00:27:27.910 --> 00:27:30.552\nI just want to make sure you're\nfamiliar with all the dos and don'ts.\n\n543\n00:27:30.552 --> 00:27:34.200\n&gt;&gt; All right, Adam, well, thank you for\nyour time to explain that and\n\n544\n00:27:34.200 --> 00:27:38.040\nalso thank you for taking the time to\nexplain what we should be buying for\n\n545\n00:27:38.040 --> 00:27:39.724\nour holiday Christmas party.\n\n546\n00:27:39.724 --> 00:27:43.600\n[LAUGH] All right, but thank you so\nmuch ladies and gentlemen for joining us.\n\n547\n00:27:43.600 --> 00:27:47.120\nAs wel,l we still have several different\nsettings I would like to cover in\n\n548\n00:27:47.120 --> 00:27:49.690\nthe following episode so\nplease stay tuned for that.\n\n549\n00:27:49.690 --> 00:27:53.750\nBut this show will go ahead and sign out,\nI've been your host Cherokee Boose\n\n550\n00:27:53.750 --> 00:27:54.440\n&gt;&gt; I am Adam Gordon.\n\n551\n00:27:54.440 --> 00:27:56.477\n&gt;&gt; See you next time here ITPro.TV.\n\n552\n00:27:56.477 --> 00:28:03.727\n[MUSIC]\n\n553\n00:28:03.727 --> 00:28:05.730\n&gt;&gt; Thank you for watching ITPROTV.\n\n",
          "vimeoId": "231754722"
        },
        {
          "description": "In this show, Cherokee and Adam continue to examine managing users with Group Policy. After a short recap Adam demonstrates how to import a GPO using the Cross-Domain copying wizard to copy policies from one domain to another and how it integrates with the migration table editor.",
          "length": "1791",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-2-managing_user_settings_with_group_policy_pt2-082917.00_29_37_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-2-managing_user_settings_with_group_policy_pt2-082917.00_29_37_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-2-managing_user_settings_with_group_policy_pt2-082917.00_29_37_25.Still001-sm.jpg",
          "title": "Managing User Settings with Group Policy Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.330 --> 00:00:01.265\nWelcome to ITProTV,\nI'm your host, Don Pezet-\n\n2\n00:00:01.265 --> 00:00:01.909\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:01.909 --> 00:00:07.838\n[MUSIC]\n\n4\n00:00:07.838 --> 00:00:11.003\n&gt;&gt; You're watching, ITProTV.\n\n5\n00:00:11.003 --> 00:00:15.483\n&gt;&gt; Welcome to your Identity with Windows\nServer 2016 series, I'm your show host,\n\n6\n00:00:15.483 --> 00:00:16.425\nCherokee Boose.\n\n7\n00:00:17.790 --> 00:00:21.930\nIn this episode, we'll be taking a look at\na continuation of a previous discussion,\n\n8\n00:00:21.930 --> 00:00:26.320\nwhere we're looking at managing\nuser settings with group policy.\n\n9\n00:00:26.320 --> 00:00:30.350\nAnd back with us in studios today,\nwe have Microsoft expert, Adam Gordon.\n\n10\n00:00:30.350 --> 00:00:31.190\nHow's it going today, Adam?\n\n11\n00:00:31.190 --> 00:00:34.085\n&gt;&gt; I'm taking a look, it's going good.\n\n12\n00:00:34.085 --> 00:00:35.686\nLook, I'm focusing\n&gt;&gt; [SOUND] [LAUGH].\n\n13\n00:00:35.686 --> 00:00:38.587\n&gt;&gt; Hello, it is going well, hopefully,\nit goes well for all of you.\n\n14\n00:00:38.587 --> 00:00:42.600\nWe are gonna continue,\nas Cherokee was just explaining.\n\n15\n00:00:42.600 --> 00:00:43.340\nOur journey,\n\n16\n00:00:43.340 --> 00:00:47.600\nour conversation around management of\nuser settings with group policies.\n\n17\n00:00:47.600 --> 00:00:52.336\nWe have been talking, and have done\nquite a bit of work around group policy,\n\n18\n00:00:52.336 --> 00:00:53.008\noverall.\n\n19\n00:00:53.008 --> 00:00:56.395\nWe have a whole set or\nseries of conversations that laid down\n\n20\n00:00:56.395 --> 00:01:00.204\nthe foundation for us,\nwith regards to group policy management.\n\n21\n00:01:00.204 --> 00:01:02.919\nWhat group policy is,\nwhat group policy objects are,\n\n22\n00:01:02.919 --> 00:01:05.650\nhow we use the group\npolicy management console?\n\n23\n00:01:05.650 --> 00:01:08.713\nAnd tools such as the command\nline gpresults tool, and\n\n24\n00:01:08.713 --> 00:01:12.844\nall of the things that are in group\npolicy management within our purview,\n\n25\n00:01:12.844 --> 00:01:15.570\nwithin our capabilities in Server 16.\n\n26\n00:01:15.570 --> 00:01:20.610\nTo be able to really understand how we\ncan structure, how we can configure,\n\n27\n00:01:20.610 --> 00:01:25.364\ncontrol and manage, as well as audit for\ncompliance and reliability.\n\n28\n00:01:25.364 --> 00:01:28.981\nThe settings of group policy gives\nus the opportunity to use, and\n\n29\n00:01:28.981 --> 00:01:32.225\nthe abilities that it gives us\nto control with regards to.\n\n30\n00:01:32.225 --> 00:01:35.799\nAnd reach out and control with regards to\nthe user experience both on the desktop\n\n31\n00:01:35.799 --> 00:01:39.230\nside, but also generically, across\nall of the infrastructure we manage.\n\n32\n00:01:39.230 --> 00:01:43.420\nAll of our servers, whether they\nare logged into by users directly or not.\n\n33\n00:01:43.420 --> 00:01:46.580\nWhether they are running in\nan administrative capacity, or\n\n34\n00:01:46.580 --> 00:01:49.570\nsimply are standalone servers\nproviding functionality.\n\n35\n00:01:49.570 --> 00:01:53.250\nWhatever it may be, if it's a Windows\nbased Operating System we can control,\n\n36\n00:01:53.250 --> 00:01:55.720\nreach out to, and\nthen manage it with group policy.\n\n37\n00:01:55.720 --> 00:01:58.990\nAnd as users interact with it,\nwe have that opportunity, as well.\n\n38\n00:01:58.990 --> 00:02:01.330\nAnd so we've explored those\ntopics in great detail.\n\n39\n00:02:01.330 --> 00:02:02.590\nEncourage you to go back,\n\n40\n00:02:02.590 --> 00:02:05.020\ntake a look at some of those\nepisodes before we continue here.\n\n41\n00:02:05.020 --> 00:02:07.900\nWhat we're gonna do is build on\nthe previous conversation we had with\n\n42\n00:02:07.900 --> 00:02:10.500\nregards to user settings,\nmanagement of group policy,\n\n43\n00:02:10.500 --> 00:02:13.010\nhow we engage around those activities.\n\n44\n00:02:13.010 --> 00:02:16.550\nIn the last conversation, the last episode\nwe had, spent some time talking about\n\n45\n00:02:16.550 --> 00:02:19.760\nthe concepts of administrative\ntemplates in a little more depth.\n\n46\n00:02:19.760 --> 00:02:22.910\nTalked about the ideas behind what\nadministrative templates are.\n\n47\n00:02:22.910 --> 00:02:25.860\nThe use of the older file extension, .adm.\n\n48\n00:02:25.860 --> 00:02:28.923\nThe use of the newer file extension,\n.admx.\n\n49\n00:02:28.923 --> 00:02:33.465\nThe difference there, the language and\nlocalization capabilities that .adml\n\n50\n00:02:33.465 --> 00:02:37.752\nfiles provide to us, with regards to\nthe use of administrative templates.\n\n51\n00:02:37.752 --> 00:02:43.116\nAnd we also spoke about the idea of the\ncentral store, where we can store these\n\n52\n00:02:43.116 --> 00:02:48.910\nadministrative templates, refer to them,\npull them in, and leverage them.\n\n53\n00:02:48.910 --> 00:02:52.590\nVersus local stores on an individual\nmachine in the Windows directory, and\n\n54\n00:02:52.590 --> 00:02:53.854\na sub folder, policies or\n\n55\n00:02:53.854 --> 00:02:56.510\npolicy definitions depending\non what you're doing.\n\n56\n00:02:56.510 --> 00:02:59.260\nSo I talked about that,\nexplained how we create a central store.\n\n57\n00:02:59.260 --> 00:03:03.180\nTalked about the value of that,\nthought it was worth a lot to go back.\n\n58\n00:03:03.180 --> 00:03:05.880\nExplained that in a little more depth\nin the sense it was just really walking\n\n59\n00:03:05.880 --> 00:03:08.830\nthrough the logic with you,\nshowing you how that happens.\n\n60\n00:03:08.830 --> 00:03:11.910\nIt is a testable objective in\nthe sense that you should understand\n\n61\n00:03:11.910 --> 00:03:13.590\nhow a central store operates.\n\n62\n00:03:13.590 --> 00:03:15.498\nSo we're gonna jump back\nin to look at that.\n\n63\n00:03:15.498 --> 00:03:18.793\nWe're gonna tie that to a broader\nconversation around the use of\n\n64\n00:03:18.793 --> 00:03:21.670\nthe migration policy, or\nthe migration table editor.\n\n65\n00:03:21.670 --> 00:03:25.264\nTo see how we actually import\npolicies across domains,\n\n66\n00:03:25.264 --> 00:03:27.370\nI mentioned this yesterday.\n\n67\n00:03:27.370 --> 00:03:29.240\nYesterday, listen to me,\nas if it was yesterday.\n\n68\n00:03:29.240 --> 00:03:32.100\nI mentioned this in our prior episode,\nyou don't know when it was,\n\n69\n00:03:32.100 --> 00:03:33.820\nforget I said that,\ncuz you don't when we shoot these.\n\n70\n00:03:33.820 --> 00:03:35.250\n&gt;&gt; Cuz you're wearing different clothing,\nAdam.\n\n71\n00:03:35.250 --> 00:03:37.228\n[LAUGH]\n&gt;&gt; I'm wearing different clothing, but\n\n72\n00:03:37.228 --> 00:03:39.946\nI could've run out of the studio,\nput something back on, and changed.\n\n73\n00:03:39.946 --> 00:03:40.539\nYou never know,\n\n74\n00:03:40.539 --> 00:03:43.307\nI may pop back in with the same clothing\non at any point for any reason.\n\n75\n00:03:43.307 --> 00:03:45.377\n&gt;&gt; [LAUGH]\n&gt;&gt; Or there may be an alternate of me,\n\n76\n00:03:45.377 --> 00:03:48.030\nthere could be like a,\nwhat we call a doppelganger, right?\n\n77\n00:03:48.030 --> 00:03:50.174\nJust my evil twin,\nrunning around somewhere.\n\n78\n00:03:50.174 --> 00:03:53.260\nBut no, I'm not a cloned instance,\nI am actually, Adam.\n\n79\n00:03:53.260 --> 00:03:55.290\nAnd we are talking about group policy.\n\n80\n00:03:55.290 --> 00:03:59.000\nBut I did mention in the last episode\nthe migration table editor, as well.\n\n81\n00:03:59.000 --> 00:03:59.823\nI showed you the value of that.\n\n82\n00:03:59.823 --> 00:04:03.381\nTalked about how we can cross map, and\ninteract with things like permissions and\n\n83\n00:04:03.381 --> 00:04:05.590\nsettings, make sure that\nthey are transferred.\n\n84\n00:04:05.590 --> 00:04:10.540\nSo we're gonna build on that whole thought\nprocess by showing you how to import\n\n85\n00:04:10.540 --> 00:04:11.597\na group policy.\n\n86\n00:04:11.597 --> 00:04:14.617\nI created one in out route\ndomain practicelabs.com,\n\n87\n00:04:14.617 --> 00:04:16.462\nset up a secondary child domain.\n\n88\n00:04:16.462 --> 00:04:21.367\nWe're gonna copy a policy over,\nuse the wizard to be able to do that,\n\n89\n00:04:21.367 --> 00:04:23.066\nand see how that works.\n\n90\n00:04:23.066 --> 00:04:26.561\nAnd then, we'll bring all of this\ndiscussion kind of full circle, and\n\n91\n00:04:26.561 --> 00:04:30.067\nshow you how all of these individual\nmoving parts come together for us.\n\n92\n00:04:30.067 --> 00:04:33.179\nSo we're gonna jump and\nstart by doing that if you join me here,\n\n93\n00:04:33.179 --> 00:04:35.725\nlet's take a look at the set\nup we have and the GPMC.\n\n94\n00:04:35.725 --> 00:04:41.060\nYou'll see right now, I have two domains\nloaded, my APAC core practice labs.com,\n\n95\n00:04:41.060 --> 00:04:45.410\nwhich will be my child domain\nin the practice labs.com domain.\n\n96\n00:04:45.410 --> 00:04:48.640\nWe're gonna ignore that for the moment,\nbut just showing you it's there.\n\n97\n00:04:48.640 --> 00:04:53.600\nWe're gonna come down here to\npracticelabs.com, the original domain.\n\n98\n00:04:53.600 --> 00:04:56.210\nWe usually start out\ndemoing with in many cases.\n\n99\n00:04:56.210 --> 00:04:59.741\nAnd you'll notice that I\nhave the EMEA OU opened up.\n\n100\n00:04:59.741 --> 00:05:03.086\nI have a user desktop restrictions\npolicy that I've created there.\n\n101\n00:05:03.086 --> 00:05:07.470\nI have that list in our group\npolicy objects right here.\n\n102\n00:05:07.470 --> 00:05:10.570\nAnd when I go and I open that policy up,\nI've already right clicked,\n\n103\n00:05:10.570 --> 00:05:14.520\nchosen Edit and opened the policy,\njust to show you what it looks like.\n\n104\n00:05:14.520 --> 00:05:18.298\nAnd I've done that, because I've extended\nthe bar there in the middle of the screen,\n\n105\n00:05:18.298 --> 00:05:19.972\nso we could actually see it properly.\n\n106\n00:05:19.972 --> 00:05:21.786\n&gt;&gt; [LAUGH]\n&gt;&gt; I planned ahead, right,\n\n107\n00:05:21.786 --> 00:05:22.470\nI planned ahead.\n\n108\n00:05:22.470 --> 00:05:25.040\nGot all of these things lined up for\nyou ahead of time.\n\n109\n00:05:25.040 --> 00:05:28.630\nSince you've seen me struggle sometimes\nin prior episodes of trying to move\n\n110\n00:05:28.630 --> 00:05:32.308\nthe little bar here, catch it and\nmove it over to show you stuff.\n\n111\n00:05:32.308 --> 00:05:35.650\nAnd we could see that I've opened up,\nin this case the default domain policy.\n\n112\n00:05:35.650 --> 00:05:38.100\nBut any of the policies would work,\nwouldn't really matter.\n\n113\n00:05:38.100 --> 00:05:40.440\nAnd I've gone down to\nadministrative templates, and\n\n114\n00:05:40.440 --> 00:05:41.880\nI can hover to show you this.\n\n115\n00:05:41.880 --> 00:05:45.340\nBut I thought it would be great to extend\nit, actually you can see it for real.\n\n116\n00:05:45.340 --> 00:05:48.733\nInstead of me just hovering a little pop\nup that comes up for about ten seconds.\n\n117\n00:05:48.733 --> 00:05:51.673\nBut notice, policy definitions admx files,\nas we said,\n\n118\n00:05:51.673 --> 00:05:53.475\nretrieved from the central store.\n\n119\n00:05:53.475 --> 00:05:57.650\nI've created the central store that we've\ntalked about, I've all ready loaded it.\n\n120\n00:05:57.650 --> 00:06:02.320\nPut all of the policy admx files and\nadml files there, as well.\n\n121\n00:06:02.320 --> 00:06:03.750\nI'm gonna show you,\n\n122\n00:06:03.750 --> 00:06:07.070\ngo back walk through the logic of\nhow we did this in just a moment.\n\n123\n00:06:07.070 --> 00:06:10.040\nBut Cherokee's waving at me\nfrom over there and smiling, so\n\n124\n00:06:10.040 --> 00:06:11.600\nshe wants to say something.\n\n125\n00:06:11.600 --> 00:06:13.160\nWhile we're just bringing\nup the files exporter,\n\n126\n00:06:13.160 --> 00:06:16.180\nwe're gonna show you how we actually\nimplement the central store.\n\n127\n00:06:16.180 --> 00:06:20.654\n&gt;&gt; But no, Adam, this is where we had\nseen previously we weren't obtaining\n\n128\n00:06:20.654 --> 00:06:25.431\nthose policies from the central store,\nwe hadn't set up in the past episode.\n\n129\n00:06:25.431 --> 00:06:26.247\nSo it would look different?\n\n130\n00:06:26.247 --> 00:06:31.280\n&gt;&gt; Well, we actually, you're correct,\nright, so we were getting them.\n\n131\n00:06:31.280 --> 00:06:34.588\nThey were being given to us, we were\nreceiving them when we went to look\n\n132\n00:06:34.588 --> 00:06:38.292\nfrom the directory in the Windows\nDirectory, or the sub directory rather, in\n\n133\n00:06:38.292 --> 00:06:42.700\nthe Windows installation, which would have\nbeen the policy or policy definitions.\n\n134\n00:06:42.700 --> 00:06:44.710\n[INAUDIBLE] Or what we chose to call it.\n\n135\n00:06:44.710 --> 00:06:47.832\nBut it was not coming from the central\nstore, it was essentially,\n\n136\n00:06:47.832 --> 00:06:49.296\ncoming from a local instance.\n\n137\n00:06:49.296 --> 00:06:50.869\nSo we have gone ahead and done that, and\n\n138\n00:06:50.869 --> 00:06:54.145\nI'm gonna show you the two different\ndistinct folders that I'm talking about.\n\n139\n00:06:54.145 --> 00:07:00.370\n&gt;&gt; Great.\n&gt;&gt; So let's take a look here at our path.\n\n140\n00:07:00.370 --> 00:07:03.379\nThese one, the See Windows\nPolicy Definitions Directory,\n\n141\n00:07:03.379 --> 00:07:06.456\nis what is used in lieu of\nthe central store, traditionally.\n\n142\n00:07:06.456 --> 00:07:11.610\nCould be See Windows Policies, it just\ndepends on what the installation is.\n\n143\n00:07:11.610 --> 00:07:14.402\nBut typically,\nyou see policy definitions, and\n\n144\n00:07:14.402 --> 00:07:18.140\nthat is the name of the folder we\nwill create for the central store.\n\n145\n00:07:18.140 --> 00:07:20.716\nIt must be policy definitions, no spaces.\n\n146\n00:07:20.716 --> 00:07:23.410\nThat's how we name it capital P,\ncapital D.\n\n147\n00:07:23.410 --> 00:07:27.050\nBut you'll see here that inside of this\ndirectory, let me just click here and\n\n148\n00:07:27.050 --> 00:07:28.680\nkind of unhighlight everything.\n\n149\n00:07:28.680 --> 00:07:33.738\nWe have our admx files, and\nI showed you these in the last episode.\n\n150\n00:07:33.738 --> 00:07:36.430\nThere's 195 of them, all listed here.\n\n151\n00:07:36.430 --> 00:07:39.970\nWe went in, we took a look a what one of\nthe files would be, some of the settings.\n\n152\n00:07:39.970 --> 00:07:43.070\nTook a look at the camera one\nversus the BitLocker one.\n\n153\n00:07:43.070 --> 00:07:46.250\nSaw the different settings and\nwhat would be in there as text files.\n\n154\n00:07:46.250 --> 00:07:48.499\nWe also took a look at this folder enus.\n\n155\n00:07:48.499 --> 00:07:51.938\nThese are where in this folder\nall the adml files will be.\n\n156\n00:07:51.938 --> 00:07:55.454\nThe language, localization files for\nwhatever language, or\n\n157\n00:07:55.454 --> 00:07:57.057\nlanguages you may be using.\n\n158\n00:07:57.057 --> 00:08:00.210\nThis will localize the ADMX files,\nthe descriptions of them,\n\n159\n00:08:00.210 --> 00:08:04.290\ninto the appropriate language so\nthat we can actually interact with them.\n\n160\n00:08:04.290 --> 00:08:08.260\nSo we have both of these file extensions\nthat we talked about present here.\n\n161\n00:08:08.260 --> 00:08:11.730\nSo when we set up the Central Store,\nit's gonna be a two step process.\n\n162\n00:08:11.730 --> 00:08:18.440\nStep one is going to be that\nwe are going to come in and\n\n163\n00:08:18.440 --> 00:08:22.910\nwe are going to, whoops, let's me get\nback to where we were just one second.\n\n164\n00:08:22.910 --> 00:08:24.190\nI just clicked inadvertently.\n\n165\n00:08:24.190 --> 00:08:27.560\nI love that mouse, I can't say\nany of the good things about it.\n\n166\n00:08:27.560 --> 00:08:32.260\nSo what you'll see here is we've\ngone into the C Windows directory,\n\n167\n00:08:32.260 --> 00:08:34.910\nif you just follow\nthe logic here to sysval.\n\n168\n00:08:34.910 --> 00:08:39.050\nSysval is where we're gonna find\nthe policies subdirectory so\n\n169\n00:08:39.050 --> 00:08:41.670\nwe can actually set up the Central Store.\n\n170\n00:08:41.670 --> 00:08:46.650\nSo we went to sysval, and then we went\nto our, in this case, named instance.\n\n171\n00:08:46.650 --> 00:08:52.820\nWent to policies and then I created in\nthe policies subdirectory in sysval,\n\n172\n00:08:52.820 --> 00:08:54.990\na folder called policy definitions.\n\n173\n00:08:54.990 --> 00:08:57.660\nThat's the same folder we saw\nin the Windows directory.\n\n174\n00:08:57.660 --> 00:09:02.070\nNamed it the same thing, right-click new\nfolder, policy definitions, no mystery.\n\n175\n00:09:02.070 --> 00:09:04.440\nIt's an empty folder when\nwe create it initially.\n\n176\n00:09:04.440 --> 00:09:09.153\nSo there's really nothing that has to be\ndone other than just having the ability to\n\n177\n00:09:09.153 --> 00:09:11.885\nget to this machine,\nthis domain controller,\n\n178\n00:09:11.885 --> 00:09:16.553\nhave the ability to create a directory or\na folder rather within this directory.\n\n179\n00:09:16.553 --> 00:09:20.649\nAnd so an administrative user, a domain\nadmin will have rights to do this,\n\n180\n00:09:20.649 --> 00:09:23.391\nthe enterprise admin\nwhatever rights to do this.\n\n181\n00:09:23.391 --> 00:09:27.835\nAnd then once you've done this,\ngo into the PolicyDefinitions folder.\n\n182\n00:09:27.835 --> 00:09:32.685\nIt will be empty at that point although\nyou see mine is full of ADMX and\n\n183\n00:09:32.685 --> 00:09:34.795\nthe directory for ADML files.\n\n184\n00:09:34.795 --> 00:09:37.765\nI went to the other folder,\nin the Windows policy definition's\n\n185\n00:09:37.765 --> 00:09:41.530\ndirectory on the domain control,\nagain, on the local machine.\n\n186\n00:09:41.530 --> 00:09:44.950\nCopied everything, and\nmoved it over here, pasted it here.\n\n187\n00:09:44.950 --> 00:09:49.550\nSo it's a very simple create,\ncopy-paste function as two separate steps.\n\n188\n00:09:49.550 --> 00:09:53.575\nWe're moving all the contents from or\nmaking a copy of the contents from\n\n189\n00:09:53.575 --> 00:09:58.276\nthe PolicyDefinitions folder in Windows\nover to the new PolicyDefinitions folder\n\n190\n00:09:58.276 --> 00:10:01.720\nwe've created that will become\nknown as the Central Store.\n\n191\n00:10:01.720 --> 00:10:05.957\nAnd so once we've populated this,\nwe now have all of our ADMX and\n\n192\n00:10:05.957 --> 00:10:09.150\nif necessary, ADML files available to us.\n\n193\n00:10:09.150 --> 00:10:13.230\nSo we've done that, and just by doing\nthat alone, nothing else required,\n\n194\n00:10:13.230 --> 00:10:16.855\ndon't have to make any additional\nsettings, don't have to do anything else.\n\n195\n00:10:16.855 --> 00:10:20.625\nI've told the domain controller and\nthe group policy management console and\n\n196\n00:10:20.625 --> 00:10:22.015\nthe editor as a result.\n\n197\n00:10:22.015 --> 00:10:25.545\nHey, your preference for using\nthe Central Store is now available because\n\n198\n00:10:25.545 --> 00:10:28.537\nour preference as I explained in\nthe last episode is that we will\n\n199\n00:10:28.537 --> 00:10:32.227\ndefault to using the Central Store\nif it is created and available.\n\n200\n00:10:32.227 --> 00:10:33.327\nIf not, we'll look for\n\n201\n00:10:33.327 --> 00:10:36.457\nthe local instantiated instance\non the domain controller.\n\n202\n00:10:36.457 --> 00:10:38.927\nAnd we'll use the templates,\nthe ADMX files for\n\n203\n00:10:38.927 --> 00:10:40.773\nadministrative templates from there.\n\n204\n00:10:40.773 --> 00:10:45.283\nSo by creating this directory called\npolicy definitions in the policy's\n\n205\n00:10:45.283 --> 00:10:49.733\ndirectory in inside sysFile, we've been\nable to Central Store functionality.\n\n206\n00:10:49.733 --> 00:10:52.943\nWe now see that all of our\nadministrative templates whether they're\n\n207\n00:10:52.943 --> 00:10:56.513\ncoming on the computer side,\nsame thing on the user side.\n\n208\n00:10:56.513 --> 00:11:00.000\nIf I come down here, let's open it up.\n\n209\n00:11:00.000 --> 00:11:04.090\nYou could see down there that they\ncome from the Central Store now,\n\n210\n00:11:04.090 --> 00:11:06.728\ninstead of from the local instance.\n\n211\n00:11:06.728 --> 00:11:10.860\nSo we are enabling this functionality by\ndoing this and now, of course obviously,\n\n212\n00:11:10.860 --> 00:11:14.180\nwe make changes to any of\nthe administrative template settings.\n\n213\n00:11:14.180 --> 00:11:16.820\nWhatever they maybe can go\nin 195 different templates,\n\n214\n00:11:16.820 --> 00:11:20.680\nyou could change whatever you would\nlike in terms of settings in there.\n\n215\n00:11:20.680 --> 00:11:24.450\nWe save them off and they are saved and\napplied as a result of that.\n\n216\n00:11:24.450 --> 00:11:26.290\nBut all that information is now stored and\n\n217\n00:11:26.290 --> 00:11:29.380\nmanaged through the Central Store,\ninstead of from the local instance.\n\n218\n00:11:29.380 --> 00:11:32.380\nSo, this is what we did yesterday but\njust a little bit more depth,\n\n219\n00:11:32.380 --> 00:11:37.780\nin terms of the conversation and the step\nby step process around how we do that.\n\n220\n00:11:37.780 --> 00:11:40.318\nSo that's the Central Store aspect,\nhow we create it,\n\n221\n00:11:40.318 --> 00:11:42.104\nwhat we would then be able to do with it.\n\n222\n00:11:42.104 --> 00:11:43.861\nNow I'd mentioned yesterday, all right,\n\n223\n00:11:43.861 --> 00:11:45.436\nare you going to keep saying yesterday\n&gt;&gt; [LAUGH]\n\n224\n00:11:45.436 --> 00:11:46.999\n&gt;&gt; I mentioned as we talked about in our\n\n225\n00:11:46.999 --> 00:11:50.333\nprior episode, which happens to have\nbeen yesterday when we filmed it, but\n\n226\n00:11:50.333 --> 00:11:51.550\nthat's beside the point.\n\n227\n00:11:51.550 --> 00:11:54.550\nBut I did mention in the prior\nepisode that we did,\n\n228\n00:11:54.550 --> 00:11:57.880\nthat there are additional ADMX\ntemplates that you may download.\n\n229\n00:11:57.880 --> 00:12:00.630\nYou may get from all vendors,\ntypically Microsoft.\n\n230\n00:12:00.630 --> 00:12:04.620\nI think I mentioned Office 2016, for\ninstance, has a set of ADMX templates\n\n231\n00:12:04.620 --> 00:12:07.850\nassociated with it for\ncustomization of deployment in management.\n\n232\n00:12:07.850 --> 00:12:11.560\nSo that's typically one you may go out and\ndownload as a separate add-on.\n\n233\n00:12:11.560 --> 00:12:13.724\nYou would then unpack those ADMX files,\n\n234\n00:12:13.724 --> 00:12:16.526\nwhether they come as an MSI\nfile that you would run and\n\n235\n00:12:16.526 --> 00:12:20.710\nthen allow you to get access to them or\nmaybe just download them directly.\n\n236\n00:12:20.710 --> 00:12:24.860\nWhatever they may be, you would then\nput those into the Central Store.\n\n237\n00:12:24.860 --> 00:12:26.880\nSo we'd have to use those and\n\n238\n00:12:26.880 --> 00:12:29.570\ndeploy them into the Central Store\nto make them available to us.\n\n239\n00:12:29.570 --> 00:12:33.540\nAnd then, once we've done that, they will\nthen show up as options available to\n\n240\n00:12:33.540 --> 00:12:37.890\nus additional augmented administrative\ntemplate options available for\n\n241\n00:12:37.890 --> 00:12:42.200\nus to leverage or deploy as part of\nthe policies, but we have to do that.\n\n242\n00:12:42.200 --> 00:12:46.945\nAnd we have to do that into\nthe domain controllers, plural.\n\n243\n00:12:46.945 --> 00:12:50.932\nBecause these policy templates have\nto be a synchronized and therefore,\n\n244\n00:12:50.932 --> 00:12:53.323\nmade available on all domain controllers.\n\n245\n00:12:53.323 --> 00:12:56.447\nIf we are going to be managing\ngroup policy from more than one,\n\n246\n00:12:56.447 --> 00:13:00.552\nwhich we traditionally do because of\nthe distributed architecture of Windows.\n\n247\n00:13:00.552 --> 00:13:04.575\nAnd our environment in terms of having\nmultiple domain controllers doing things\n\n248\n00:13:04.575 --> 00:13:08.776\nrepetitively and systematically, so they\nback each other up and we can load balance\n\n249\n00:13:08.776 --> 00:13:12.340\nand create sustainability,\nhighly available systems, right?\n\n250\n00:13:12.340 --> 00:13:14.880\nSo we make all of our domain\ncontrollers global catalog servers,\n\n251\n00:13:14.880 --> 00:13:15.930\ntraditionally for instance.\n\n252\n00:13:15.930 --> 00:13:18.940\nWe use Active Directory integrated DNS.\n\n253\n00:13:18.940 --> 00:13:22.670\nSo that way, we have multiple\ncopies of our zone information.\n\n254\n00:13:22.670 --> 00:13:25.230\nOne domain controller stops working for\nsome reason.\n\n255\n00:13:25.230 --> 00:13:26.970\nSo think about the logic of this.\n\n256\n00:13:26.970 --> 00:13:31.038\nWe would have to reproduce this thought\nprocess, create the Central Store and\n\n257\n00:13:31.038 --> 00:13:32.095\nmake it available.\n\n258\n00:13:32.095 --> 00:13:35.966\nAnd make sure all of the templates are\navailable on all of the domain controllers\n\n259\n00:13:35.966 --> 00:13:38.566\nso those policies can be applied and\nbe manifesting,\n\n260\n00:13:38.566 --> 00:13:42.600\nwe have crossed all the domain controllers\nsays users and computers come in.\n\n261\n00:13:42.600 --> 00:13:44.650\nCheck in authenticated and\nhave policies applied.\n\n262\n00:13:44.650 --> 00:13:47.860\nSo just wanna make sure you're thinking\nabout those things as we continue this\n\n263\n00:13:47.860 --> 00:13:49.620\npart of the conversation, yes.\n\n264\n00:13:49.620 --> 00:13:52.580\n&gt;&gt; Well, I was just gonna ask\nif there were any major pros or\n\n265\n00:13:52.580 --> 00:13:53.670\ncons that we should consider.\n\n266\n00:13:53.670 --> 00:13:54.470\nBut I mean, obviously,\n\n267\n00:13:54.470 --> 00:13:58.580\nyou just stated there for\nredundancy that would be a big pro for us.\n\n268\n00:13:58.580 --> 00:14:02.900\nBut is there anything that would weigh in\non making that decision is if I should\n\n269\n00:14:02.900 --> 00:14:06.430\ncreate a Central Store or\njust utilize the domain controller?\n\n270\n00:14:06.430 --> 00:14:10.700\n&gt;&gt; Really, no major, hey,\ndo this it's gonna be really awesome.\n\n271\n00:14:10.700 --> 00:14:12.515\nOr do this and wow,\nit's just gonna be horrible.\n\n272\n00:14:12.515 --> 00:14:13.464\n&gt;&gt; Okay.\n&gt;&gt; You should never,\n\n273\n00:14:13.464 --> 00:14:15.160\never do it that way cuz of these reasons.\n\n274\n00:14:15.160 --> 00:14:16.152\nNothing like that.\n\n275\n00:14:16.152 --> 00:14:19.270\nReally the biggest thing, as we just\ntalked about and as you suggested,\n\n276\n00:14:19.270 --> 00:14:22.334\nwe cover it is just this idea of\nunderstanding, that you have to produce\n\n277\n00:14:22.334 --> 00:14:25.014\nthis thought process and\napply it to the domain controllers.\n\n278\n00:14:25.014 --> 00:14:26.989\nAnd probably the biggest issue, and\n\n279\n00:14:26.989 --> 00:14:31.003\nit's the same issue whether you use\na Central Store or you just use the local\n\n280\n00:14:31.003 --> 00:14:35.222\ninstantiated copy is adding these\ntemplates as you wanna add functionality.\n\n281\n00:14:35.222 --> 00:14:37.562\nAnd ensuring they're added to all\nthe different domain controllers so\n\n282\n00:14:37.562 --> 00:14:39.110\nthey're available everywhere.\n\n283\n00:14:39.110 --> 00:14:42.593\nIt's a manual process in theory,\nregardless of which way you go.\n\n284\n00:14:42.593 --> 00:14:46.530\nCertainly, could we automate something\nlike this by setting them up in one area,\n\n285\n00:14:46.530 --> 00:14:49.796\nusing PowerShell for instance,\nas a script to copy and place them?\n\n286\n00:14:49.796 --> 00:14:52.600\nCould we create the Central Store\nusing PowerShell?\n\n287\n00:14:52.600 --> 00:14:55.240\nWe could do those things if we really\nwanna go to the trouble of automating\n\n288\n00:14:55.240 --> 00:14:57.920\nthem, but\nhow often are you gonna have to do this?\n\n289\n00:14:57.920 --> 00:15:00.860\nHow often do you add administrative\ntemplates to domain controller would\n\n290\n00:15:00.860 --> 00:15:02.330\nbe my question?\n\n291\n00:15:02.330 --> 00:15:04.120\nThe answer is not that often.\n\n292\n00:15:04.120 --> 00:15:05.240\nIt's probably not worth the time and\n\n293\n00:15:05.240 --> 00:15:08.330\ntrouble to think about automating, because\nwe're just not gonna do it very often.\n\n294\n00:15:08.330 --> 00:15:10.723\nSo, other than just knowing\nwe have to keep up with it,\n\n295\n00:15:10.723 --> 00:15:12.346\nreally no issue one way or the other.\n\n296\n00:15:12.346 --> 00:15:13.093\n&gt;&gt; Okay.\n\n297\n00:15:13.093 --> 00:15:14.972\n&gt;&gt; So it's pretty\nstraightforward in that respect.\n\n298\n00:15:14.972 --> 00:15:17.780\nAll right so, the two thumbs up\nseal of approval for that one.\n\n299\n00:15:17.780 --> 00:15:19.010\nSo let's continue.\n\n300\n00:15:19.010 --> 00:15:21.760\nI said we would broaden this conversation\nnot just remind ourselves of\n\n301\n00:15:21.760 --> 00:15:22.360\nthe Central Store,\n\n302\n00:15:22.360 --> 00:15:26.730\nbut also take a look at how we import\na group policy object between two domains.\n\n303\n00:15:26.730 --> 00:15:29.870\nHow do we create it in one and\nmove it across the divide to the other.\n\n304\n00:15:29.870 --> 00:15:33.390\nThat's gonna be that user desktop\nrestrictions policy that I mentioned,\n\n305\n00:15:33.390 --> 00:15:34.760\nthat I've created, that we're gonna use.\n\n306\n00:15:34.760 --> 00:15:37.340\nSo if we go back here we take a look.\n\n307\n00:15:37.340 --> 00:15:41.664\nWhat we'll find is, we have our user\ndesktop restrictions policy down here,\n\n308\n00:15:41.664 --> 00:15:43.047\nin practicelabs.com.\n\n309\n00:15:43.047 --> 00:15:46.333\nYou'll see it right here,\nunderneath Group Policy Objects.\n\n310\n00:15:46.333 --> 00:15:50.520\nAnd if we look up at the APAC Corp\npracticelabs.com child domain,\n\n311\n00:15:50.520 --> 00:15:54.730\nyou'll see under group policy\nobjects the policy does not exist.\n\n312\n00:15:54.730 --> 00:15:55.247\nIt's not there yet.\n\n313\n00:15:55.247 --> 00:15:58.465\nSo we clearly have a policy in one,\nbut not in the other.\n\n314\n00:15:58.465 --> 00:15:59.172\nNow, you may or\n\n315\n00:15:59.172 --> 00:16:02.619\nmay not be familiar with how to get\nmultiple domains to get up in your gpmcs.\n\n316\n00:16:02.619 --> 00:16:06.759\nSo let me just Explained what I did to do\nthis just so you know how this is done.\n\n317\n00:16:06.759 --> 00:16:09.760\nI showed you a couple of episodes\nback how to add sites in.\n\n318\n00:16:09.760 --> 00:16:13.329\nSo if we wanna add a site policy,\nthe site's container is there but\n\n319\n00:16:13.329 --> 00:16:14.552\nit's not populated.\n\n320\n00:16:14.552 --> 00:16:17.769\nWe had to right-click, go and\nadd the sites in by using a pick list,\n\n321\n00:16:17.769 --> 00:16:21.050\nessentially a checkbox selector,\nand then they become available.\n\n322\n00:16:21.050 --> 00:16:22.430\nIt's the same idea with the domains.\n\n323\n00:16:22.430 --> 00:16:24.620\nWe just simply select the one or ones.\n\n324\n00:16:24.620 --> 00:16:27.210\nWe would like GPMC to be focused on and\nshow us.\n\n325\n00:16:27.210 --> 00:16:30.050\nSo you right-click on\nthe domains folder up here.\n\n326\n00:16:30.050 --> 00:16:31.780\nYou could see a dash show too right now,\n\n327\n00:16:31.780 --> 00:16:35.360\nbut all I did was show domains,\nvery simple.\n\n328\n00:16:35.360 --> 00:16:41.540\nI get to pick list, and if I wanna\nremove the APAC domain, just click OK.\n\n329\n00:16:41.540 --> 00:16:43.420\nIt will go away, it's very easy.\n\n330\n00:16:43.420 --> 00:16:47.098\nWhen I wanna bring it back in, which is\nhow the GPMC traditionally starts out,\n\n331\n00:16:47.098 --> 00:16:49.289\nfocused on the domain\nyou're managing from.\n\n332\n00:16:49.289 --> 00:16:52.928\nSo you typically wouldn't see multiple\ndomains in there unless you've already\n\n333\n00:16:52.928 --> 00:16:54.670\npreloaded that and set that up.\n\n334\n00:16:54.670 --> 00:16:58.360\nAll I did just to drive the demo\nwas come in, do show domains.\n\n335\n00:16:58.360 --> 00:17:00.870\nI simply selected that box right there.\n\n336\n00:17:00.870 --> 00:17:04.588\nAnd obviously in your environment that\nwould be whatever domain's localized in\n\n337\n00:17:04.588 --> 00:17:06.557\nyour architecture, named accordingly,\n\n338\n00:17:06.557 --> 00:17:09.630\nwould be the domain or domains you\nwanna be able to manage, right?\n\n339\n00:17:09.630 --> 00:17:12.872\nSo you would add the appropriate\ndomains for your environment.\n\n340\n00:17:12.872 --> 00:17:15.290\nAnd you'll see the minute I do that,\nit pops right back in.\n\n341\n00:17:15.290 --> 00:17:16.470\nWe're back to where we were.\n\n342\n00:17:16.470 --> 00:17:18.140\nSo we're just gonna go ahead,\nopen this up.\n\n343\n00:17:19.140 --> 00:17:23.598\nAnd we're going to be able to [COUGH]\ncause or rather, excuse me, as a result,\n\n344\n00:17:23.598 --> 00:17:28.345\nbe able to cause our ability to be able to\nmanage the additional domains to show up.\n\n345\n00:17:28.345 --> 00:17:30.763\nI did have Group Policy objects open,\n\n346\n00:17:30.763 --> 00:17:35.537\ngive me just one second here just to move\nthis over so we can see, here we go.\n\n347\n00:17:35.537 --> 00:17:40.126\nThat we're now gonna be able to use this\nwizard that I mentioned to drive the copy\n\n348\n00:17:40.126 --> 00:17:41.845\nof this particular policy.\n\n349\n00:17:41.845 --> 00:17:44.444\nSo user desktop restrictions\ngonna right-click here.\n\n350\n00:17:44.444 --> 00:17:47.666\nI made a change, I just edited the policy,\nadded one setting to it, so\n\n351\n00:17:47.666 --> 00:17:49.445\nit has something of substance.\n\n352\n00:17:49.445 --> 00:17:52.755\nSo we're gonna go ahead and\nwe're going to copy.\n\n353\n00:17:52.755 --> 00:17:54.730\nSo let me go copy here.\n\n354\n00:17:54.730 --> 00:17:58.000\nAnd now, I'm just gonna go up here and\ncome over here.\n\n355\n00:17:58.000 --> 00:18:02.030\nAnd again, you wanna focus on the Group\nPolicy objects folder as the place you\n\n356\n00:18:02.030 --> 00:18:03.582\nwanna copy from and paste to.\n\n357\n00:18:03.582 --> 00:18:05.737\nSo we're gonna right-click,\ndo a paste here.\n\n358\n00:18:07.049 --> 00:18:09.560\nAnd notice I have that option right here.\n\n359\n00:18:09.560 --> 00:18:13.010\nAnd when I do that,\nthe Cross-Domain Copying Wizard pops up.\n\n360\n00:18:13.010 --> 00:18:16.120\nLet me just kinda move this down so\nwe can see it.\n\n361\n00:18:16.120 --> 00:18:19.322\nBut we're able to still see\nwhat's going on over here.\n\n362\n00:18:19.322 --> 00:18:21.130\nAnd actually,\nlet me move that up just a touch,\n\n363\n00:18:21.130 --> 00:18:23.320\nbecause we're not able to\nsee the bottom of that.\n\n364\n00:18:23.320 --> 00:18:24.320\nAll right, let me click Next.\n\n365\n00:18:24.320 --> 00:18:27.040\nAnd actually, before we do that,\nlet me just show you what's going on here.\n\n366\n00:18:27.040 --> 00:18:28.625\nSo the wizard, it's good, right?\n\n367\n00:18:28.625 --> 00:18:32.159\nWe get this great documentation\ntypically these days on what wizards do.\n\n368\n00:18:32.159 --> 00:18:35.650\nIf you take time to explain what happens,\npeople take time to read it.\n\n369\n00:18:35.650 --> 00:18:37.590\nEverybody's usually a lot happier, right?\n\n370\n00:18:37.590 --> 00:18:39.850\nSo the wizard helps us\ncopy GPOs across domains.\n\n371\n00:18:39.850 --> 00:18:44.680\nIn order to do that, you must specify\nthe permissions to use for the new GPOs,\n\n372\n00:18:44.680 --> 00:18:45.620\nvery important.\n\n373\n00:18:45.620 --> 00:18:48.240\nWe have to provide those\npermissions that I mentioned\n\n374\n00:18:48.240 --> 00:18:51.480\nin some of the prior episodes as\npermissions do not transfer over.\n\n375\n00:18:51.480 --> 00:18:54.288\nWe have to make sure that they\nare specified if necessary.\n\n376\n00:18:54.288 --> 00:18:58.840\nSo that also helps you transfer any UNC\npaths or principles, I use these groups,\n\n377\n00:18:58.840 --> 00:19:01.310\netc., that have to be\nassociated within the GPS.\n\n378\n00:19:01.310 --> 00:19:03.450\nSo we do wanna make sure\nwe're aware of that and\n\n379\n00:19:03.450 --> 00:19:06.940\nthat we're going to take steps to\nunderstand how that's gonna happen.\n\n380\n00:19:06.940 --> 00:19:09.333\nSo let's state here, click Next.\n\n381\n00:19:09.333 --> 00:19:12.248\nYou'll see the first step is,\nuse these permissions,\n\n382\n00:19:12.248 --> 00:19:14.500\neither use the default permissions.\n\n383\n00:19:14.500 --> 00:19:18.950\nSo reset the GPO essentially where the\ndefault permissions would be or remove, or\n\n384\n00:19:18.950 --> 00:19:22.570\nexcuse me, preserve or migrate this\npermission from the original GPS.\n\n385\n00:19:22.570 --> 00:19:25.390\nWe can bring them over and\nmake sure they're associated or\n\n386\n00:19:25.390 --> 00:19:26.892\nwe can reset them and then change them.\n\n387\n00:19:26.892 --> 00:19:29.850\nIt's gonna be up to us to decide\nwhat we're gonna do with them.\n\n388\n00:19:29.850 --> 00:19:33.733\nSo we're gonna go ahead and we're going\nto use the default permissions, but\n\n389\n00:19:33.733 --> 00:19:38.210\nlet me just show you what will happen if\nI do this, it's pretty straightforward.\n\n390\n00:19:38.210 --> 00:19:41.110\nRight, says here, the source should be\nable to contain references to security\n\n391\n00:19:41.110 --> 00:19:42.880\nprinciples under UNC paths.\n\n392\n00:19:42.880 --> 00:19:46.010\nSpecify how this was transferred\nthese resources, click Next.\n\n393\n00:19:46.010 --> 00:19:49.952\nIf I retain them, I'm now gonna have to\nbe told or asked how to deal with them,\n\n394\n00:19:49.952 --> 00:19:54.200\nbecause I have to now make arrangements\nfor the security principles, the users and\n\n395\n00:19:54.200 --> 00:19:55.125\nthe references.\n\n396\n00:19:55.125 --> 00:19:57.934\nIncluding the UNCs for\nwhere the policies may be coming from and\n\n397\n00:19:57.934 --> 00:20:00.350\nthings it references to be made available.\n\n398\n00:20:00.350 --> 00:20:03.760\nBut if, on the other hand, back,\n\n399\n00:20:03.760 --> 00:20:06.850\nif I use the default permissions, so\nlet's just choose that one, right?\n\n400\n00:20:08.130 --> 00:20:11.660\nSays, source does not contain any\nreferences to security principles.\n\n401\n00:20:11.660 --> 00:20:16.464\nTo continue click Next, because I'm using\nthe default standard baseline permissions.\n\n402\n00:20:16.464 --> 00:20:19.819\nNo additional customization,\nno additional security filtering or\n\n403\n00:20:19.819 --> 00:20:23.806\nthings that I may have done that we've\ntalked about delegations, for instance,\n\n404\n00:20:23.806 --> 00:20:27.305\nthat we've shown you in prior episodes\nare gonna be retained or saved.\n\n405\n00:20:27.305 --> 00:20:30.380\nI'm gonna reset the clock on those and\nI'm gonna start from scratch.\n\n406\n00:20:30.380 --> 00:20:33.410\nAuthenticated users will\nbe there as our default.\n\n407\n00:20:33.410 --> 00:20:37.090\nSecurity filtering group,\nour standard delegations will be there.\n\n408\n00:20:37.090 --> 00:20:40.980\nAuthenticated users will inherit that\nread permission that lets Group Policy be\n\n409\n00:20:40.980 --> 00:20:45.170\napplied and then we'll have some of\nthe system groups that are there.\n\n410\n00:20:45.170 --> 00:20:47.270\nSo that way, we have the ability\nto be able to work with and\n\n411\n00:20:47.270 --> 00:20:48.760\nmanage those policies.\n\n412\n00:20:48.760 --> 00:20:50.960\nBut, nothing else will be associated.\n\n413\n00:20:50.960 --> 00:20:53.330\nSo we do have to make some choices, right?\n\n414\n00:20:53.330 --> 00:20:57.500\nSo it's up to us to decide how that will\nwork, what we wanna do, in other words,\n\n415\n00:20:57.500 --> 00:20:59.250\nand how that will come out.\n\n416\n00:20:59.250 --> 00:21:02.177\nAnd then once we've made a choice here,\nwe'll be able to go forward.\n\n417\n00:21:02.177 --> 00:21:05.260\nSo in this case, I'm just gonna\nleave it at the default, right.\n\n418\n00:21:05.260 --> 00:21:06.170\nWe're not really worried about it.\n\n419\n00:21:06.170 --> 00:21:09.400\nI don't have any security delegations or\nanything customized that would really be\n\n420\n00:21:09.400 --> 00:21:11.410\nconcerned about that I'm\ngonna wanna bring over.\n\n421\n00:21:11.410 --> 00:21:12.920\nSo, we're gonna click Next.\n\n422\n00:21:12.920 --> 00:21:17.180\nAnd you'll see once I do that,\nreally is nothing else to the wizard here.\n\n423\n00:21:17.180 --> 00:21:22.280\nIt will just simply copy the policy over,\ndrop it in, set it as a standard default.\n\n424\n00:21:22.280 --> 00:21:23.670\nAnd then I'll be able to work with it.\n\n425\n00:21:23.670 --> 00:21:26.602\nBut, if I did, let me just go\nback just to show you, right,\n\n426\n00:21:26.602 --> 00:21:28.913\none more time just to go\nthrough the next step.\n\n427\n00:21:28.913 --> 00:21:33.538\nIf I do choose to preserve, click Next,\nand then click Next ,whoops then,\n\n428\n00:21:33.538 --> 00:21:37.000\nsorry I clicked twice so\nquickly I went right by it.\n\n429\n00:21:37.000 --> 00:21:41.030\nThen this other option appears where I\nhave to either copy identically in terms\n\n430\n00:21:41.030 --> 00:21:43.660\nof mapping what those permissions will be,\nor\n\n431\n00:21:43.660 --> 00:21:46.310\nuse the migration table\nthat will help me map them.\n\n432\n00:21:46.310 --> 00:21:50.140\nI mentioned migration table editor,\nso I wanted to show you the screen.\n\n433\n00:21:50.140 --> 00:21:54.694\nIf I had used the migration table editor\nto essentially create that mapping that we\n\n434\n00:21:54.694 --> 00:21:55.816\nwanted to have, and\n\n435\n00:21:55.816 --> 00:21:59.522\nmake sure we need to have those\nusers indoor permissions would be.\n\n436\n00:21:59.522 --> 00:22:02.436\nAnd we talked about that,\nactually demoed how you can load,\n\n437\n00:22:02.436 --> 00:22:04.720\nI think we get the default domain policy.\n\n438\n00:22:04.720 --> 00:22:08.370\nShow the enterprise admin and domain admin\naccounts and show how they were mapped and\n\n439\n00:22:08.370 --> 00:22:09.360\nwhat they were.\n\n440\n00:22:09.360 --> 00:22:13.796\nIf we had a file that we saved off for\nthat, I could actually go in here,\n\n441\n00:22:13.796 --> 00:22:14.860\ngrab that file.\n\n442\n00:22:14.860 --> 00:22:17.260\nI would obviously have to\nspecify where it would be.\n\n443\n00:22:17.260 --> 00:22:21.488\nAnd then I could use that migration table\neditor file to apply those settings.\n\n444\n00:22:21.488 --> 00:22:25.685\nAnd then make sure they're applied to\nthe policy so that they would show up and\n\n445\n00:22:25.685 --> 00:22:27.180\nthey would be associated.\n\n446\n00:22:27.180 --> 00:22:31.240\nThey would map correctly and this is\nthe value of the migration table editor,\n\n447\n00:22:31.240 --> 00:22:32.125\njust so we know.\n\n448\n00:22:32.125 --> 00:22:34.280\nAnd we can use that if we choose to.\n\n449\n00:22:34.280 --> 00:22:37.500\nNow, if there's checkbox here as well,\nuse migration table exclusively or\n\n450\n00:22:37.500 --> 00:22:39.770\nmigration table exclusively.\n\n451\n00:22:39.770 --> 00:22:41.980\nIt allows us to be able to specify\n\n452\n00:22:43.310 --> 00:22:46.710\nonly that those options from\nthe regression table will be used.\n\n453\n00:22:46.710 --> 00:22:49.870\nIt says there, if you take a look,\nif any security principles or\n\n454\n00:22:49.870 --> 00:22:53.320\nUNC paths in the GPO backups\nare not found in the table,\n\n455\n00:22:53.320 --> 00:22:55.280\ndo not perform the import operation.\n\n456\n00:22:55.280 --> 00:22:59.940\nIn other words, if we had something\nthat was not part of that migration map,\n\n457\n00:22:59.940 --> 00:23:03.430\nwe would not actually proceed\nas we look at the information.\n\n458\n00:23:03.430 --> 00:23:06.053\nSo we have different ways\nof choosing to do this.\n\n459\n00:23:06.053 --> 00:23:10.642\nIt's really a question of what we decide,\nwe would like to do, what for us,\n\n460\n00:23:10.642 --> 00:23:15.094\nwill be most important is obviously\nmaking sure that those permissions,\n\n461\n00:23:15.094 --> 00:23:18.571\nthose security principles\nare all mapped accordingly.\n\n462\n00:23:18.571 --> 00:23:22.730\nSo we don't deny people access to\nthe policy or deny the use of that policy.\n\n463\n00:23:22.730 --> 00:23:26.020\nIf it's important to be able\nto have that mapping for\n\n464\n00:23:26.020 --> 00:23:28.488\nsome reason,\nwhatever the mapping may be, right?\n\n465\n00:23:28.488 --> 00:23:30.230\nSo, just wanna make sure you see that, and\n\n466\n00:23:30.230 --> 00:23:32.270\nhave a chance to go through it,\nthere we go.\n\n467\n00:23:32.270 --> 00:23:34.440\nHave a chance to go through that,\nand are familiar with that.\n\n468\n00:23:34.440 --> 00:23:38.400\nLet's hit Finish, you'll see it does\nbring the policy in, no problem.\n\n469\n00:23:38.400 --> 00:23:41.383\nUnless you have an error in\nthe policy file for some reason,\n\n470\n00:23:41.383 --> 00:23:43.480\nthere should be no issue with the import.\n\n471\n00:23:43.480 --> 00:23:47.050\nAnd you'll see that we now have\na copy of the policy right here.\n\n472\n00:23:47.050 --> 00:23:50.608\nYou'll see we do have the original\npolicy still resident down below,\n\n473\n00:23:50.608 --> 00:23:51.882\nthis in both places now.\n\n474\n00:23:51.882 --> 00:23:56.122\nBut notice that the link for each of\nthe policies in terms of the domain,\n\n475\n00:23:56.122 --> 00:24:01.066\nit's focused on, as I click on the one for\npractice labs Focus there on the Emia OU,\n\n476\n00:24:01.066 --> 00:24:03.562\nwhich is where we originally created it.\n\n477\n00:24:03.562 --> 00:24:05.415\nThe one up here, as you can see,\n\n478\n00:24:05.415 --> 00:24:08.581\nin apacpracticelabs.com not\nassociated with an OU or\n\n479\n00:24:08.581 --> 00:24:13.660\na container of any kind because I haven't\ndecided what to do with the policy yet.\n\n480\n00:24:13.660 --> 00:24:15.050\nI just have it available.\n\n481\n00:24:15.050 --> 00:24:19.550\nIt's in my group policy object file,\nso I can use it as a deployed policy,\n\n482\n00:24:19.550 --> 00:24:20.200\nif I choose to.\n\n483\n00:24:20.200 --> 00:24:21.670\nBut I haven't linked it anywhere.\n\n484\n00:24:21.670 --> 00:24:24.280\nSo it resets the policy in the sense\n\n485\n00:24:24.280 --> 00:24:27.200\nit removes the reference to\nthe old OU in the prior domain.\n\n486\n00:24:27.200 --> 00:24:28.370\nBut everything else stays the same.\n\n487\n00:24:28.370 --> 00:24:30.310\nSo we just wanna make sure\nwe're familiar with that.\n\n488\n00:24:30.310 --> 00:24:34.470\nWe see the outcome of that and we see how\nwe can move policies between domains.\n\n489\n00:24:34.470 --> 00:24:38.980\nKeep in mind that as this idea of maybe\ncentrally provisioning a policy from an IT\n\n490\n00:24:38.980 --> 00:24:40.220\nperspective, right?\n\n491\n00:24:40.220 --> 00:24:44.830\nIf we have central IT oversight in, and\nlet's say practicelabs.com is maybe our\n\n492\n00:24:44.830 --> 00:24:49.120\ncorporate domain just following the logic\nof what the example may indicate to us.\n\n493\n00:24:49.120 --> 00:24:53.645\nIf central IT's being managed from up\nabove and some of these child domains like\n\n494\n00:24:53.645 --> 00:24:58.120\nAPAC, maybe by region in our example, is\ngonna get the benefit of policies already\n\n495\n00:24:58.120 --> 00:25:01.460\ncreated, but the administrators there\ndon't have to do it themselves.\n\n496\n00:25:01.460 --> 00:25:05.530\nThe central IT function in\nthe corporate domain will provide them.\n\n497\n00:25:05.530 --> 00:25:10.200\nWe've created the policy,\nwhatever user restrictions may imply, and\n\n498\n00:25:10.200 --> 00:25:11.340\nthen we simply push it out.\n\n499\n00:25:11.340 --> 00:25:15.530\nAnd then those domains that are getting it\nor inheriting that policy through a copy\n\n500\n00:25:15.530 --> 00:25:19.140\npaste function can apply it, but\nthen they can localize it to their OUs,\n\n501\n00:25:19.140 --> 00:25:21.800\nlocalize it to their\norganizational structure.\n\n502\n00:25:21.800 --> 00:25:24.810\nBut the heavy lifting of creating\nthe policy is done once instead\n\n503\n00:25:24.810 --> 00:25:28.550\nof having to reproduce the policy\nliterally by hand from scratch.\n\n504\n00:25:28.550 --> 00:25:32.190\nA policy was a small number\nsettings really not a big deal.\n\n505\n00:25:32.190 --> 00:25:34.835\nBut a policy with a very large\nnumber of settings, especially\n\n506\n00:25:34.835 --> 00:25:38.855\nif it's deploying software, things like\nthat, that may be valuable and that may be\n\n507\n00:25:38.855 --> 00:25:42.845\nsomething we wanna do once and standardize\nthe package deployment and management.\n\n508\n00:25:42.845 --> 00:25:44.075\nWe could push that policy out.\n\n509\n00:25:44.075 --> 00:25:45.539\nSo being able to copy this and\n\n510\n00:25:45.539 --> 00:25:49.990\nimport is what we call it importing the\nGPO is the formal name for this function.\n\n511\n00:25:49.990 --> 00:25:52.140\nWe choose to do imports of GPOs.\n\n512\n00:25:52.140 --> 00:25:55.320\nWe have the ability to do so in a way\nthat allows us to leverage all the hard\n\n513\n00:25:55.320 --> 00:26:00.290\nwork done in one time, one place, one area\nor make it available systematically across\n\n514\n00:26:00.290 --> 00:26:04.490\nthe broader, essentially in theory across\nthe forest if we choose to do it that way.\n\n515\n00:26:04.490 --> 00:26:08.200\nCuz we could target any of the domains\nthat may be available to us as long as we\n\n516\n00:26:08.200 --> 00:26:11.260\ncan get access to the management\nwith this import function.\n\n517\n00:26:11.260 --> 00:26:12.720\nSo it is a nice feature.\n\n518\n00:26:12.720 --> 00:26:16.300\nIt's one that's been around in\nthis case for a little bit.\n\n519\n00:26:16.300 --> 00:26:19.050\nIt's not exclusive and new to server 16.\n\n520\n00:26:19.050 --> 00:26:21.640\nBut it is certainly something we wanna\nmake sure you're familiar with and\n\n521\n00:26:21.640 --> 00:26:25.170\nhave the ability to understand how to do\nas part of management of group policy.\n\n522\n00:26:25.170 --> 00:26:29.340\nAnd with that bend,\nthat focus of user settings and\n\n523\n00:26:29.340 --> 00:26:31.636\nmanaging the user experience\nwith group policy.\n\n524\n00:26:31.636 --> 00:26:35.540\nWhich really lets us take those settings\nand push them out into other domains\n\n525\n00:26:35.540 --> 00:26:39.680\nto standardize the way we envision\nmanaging user experiences across\n\n526\n00:26:39.680 --> 00:26:43.820\nall of the domains that may make up our\ntree and potentially across the forest.\n\n527\n00:26:43.820 --> 00:26:47.020\nIt gives us the ability to do which is\nwhat group policy is designed to do,\n\n528\n00:26:47.020 --> 00:26:49.970\nstandardize that experience to\nthe greatest extent possible.\n\n529\n00:26:49.970 --> 00:26:54.360\nAnd that's why a tool or a set of tools\nlike this that we can use within the GPMC\n\n530\n00:26:54.360 --> 00:26:58.100\nin terms of functionality become\nreally important for us to delve into,\n\n531\n00:26:58.100 --> 00:27:03.220\ndig out, really focus on for a few minutes\nand show you the opportunity to use\n\n532\n00:27:03.220 --> 00:27:07.220\nwhen you are able to couple this with\nsomething like using the ADMX files,\n\n533\n00:27:07.220 --> 00:27:10.200\nthe administrative template files,\nto craft policies.\n\n534\n00:27:10.200 --> 00:27:13.010\nIt really does make for\na much stronger approach for management.\n\n535\n00:27:13.010 --> 00:27:15.700\nSo just something to think about and\nto be aware of.\n\n536\n00:27:15.700 --> 00:27:17.830\nAnd it is something to consider.\n\n537\n00:27:17.830 --> 00:27:20.711\nJust a quick note and I did misspeak,\nI think, if I'm not mistaken,\n\n538\n00:27:20.711 --> 00:27:22.468\nand Mike corrected me in the chat window.\n\n539\n00:27:22.468 --> 00:27:26.206\nSo I appreciate Mike doing that,\nall of you doing that on occasion when we\n\n540\n00:27:26.206 --> 00:27:29.519\nthrow out knowledge and\nperhaps in the grand scheme but things as\n\n541\n00:27:29.519 --> 00:27:33.900\nwe're flowing through it don't necessarily\nput the right information out there.\n\n542\n00:27:33.900 --> 00:27:35.730\nVery important to make sure we do that.\n\n543\n00:27:35.730 --> 00:27:40.160\nI did mention that we would have to\nreplicate the central store right across\n\n544\n00:27:40.160 --> 00:27:41.470\nthe domain controllers.\n\n545\n00:27:41.470 --> 00:27:43.420\nWhat I really was thinking\nwhen I mentioned that and\n\n546\n00:27:43.420 --> 00:27:45.550\ndidn't mention it the right way,\nMike called it out.\n\n547\n00:27:45.550 --> 00:27:49.380\nAnd again I appreciate him doing that,\nis we do have to have that replicator.\n\n548\n00:27:49.380 --> 00:27:52.110\nBut the way it gets replicated,\nand I explained that incorrectly,\n\n549\n00:27:52.110 --> 00:27:54.100\nis that you would manually do that.\n\n550\n00:27:54.100 --> 00:27:57.010\nWhat I was really thinking about was\nthe fact that we would have to populate\n\n551\n00:27:57.010 --> 00:27:59.560\nthose templates if we're\nnot using the central store\n\n552\n00:27:59.560 --> 00:28:01.680\nacross those domain controllers manually.\n\n553\n00:28:01.680 --> 00:28:05.330\nWhat he called out correctly is the sys\nfile will ultimately replicate that\n\n554\n00:28:05.330 --> 00:28:08.180\ncentral store functionality out\nto the other domain controllers,\n\n555\n00:28:08.180 --> 00:28:11.050\nwhich is why we put it in\nthe sys file in the first place.\n\n556\n00:28:11.050 --> 00:28:15.170\nThe creation of that subfolder\ncalled policy definition, right?\n\n557\n00:28:15.170 --> 00:28:17.490\nAnd it will ultimately over\ntime be replicated out.\n\n558\n00:28:17.490 --> 00:28:21.301\nAnd as a result, you just simply\nlet it replicate, or let it copy,\n\n559\n00:28:21.301 --> 00:28:24.719\nget out of the way let sys file\ndo it's job, in other words.\n\n560\n00:28:24.719 --> 00:28:27.556\nAnd over time,\ndepending on the replication apology and\n\n561\n00:28:27.556 --> 00:28:31.337\nall the other things that may go into\nthat variable around how long it takes,\n\n562\n00:28:31.337 --> 00:28:34.820\nyou will see that populate show up and\neventually be replicated.\n\n563\n00:28:34.820 --> 00:28:35.792\nBut do keep in mind,\n\n564\n00:28:35.792 --> 00:28:39.116\nyou do still have the manual aspect\nof ensuring that the original ADMX\n\n565\n00:28:39.116 --> 00:28:42.613\nfiles you deployed to whatever that\ndomain controller is that may become\n\n566\n00:28:42.613 --> 00:28:46.660\nthe tip of the spear, the point of\nreference for adding those new ADMX files.\n\n567\n00:28:46.660 --> 00:28:50.730\nYou still have a manual thought\nprocess there cuz, as I explained,\n\n568\n00:28:50.730 --> 00:28:53.350\nyou have to deploy those\nADMX files initially\n\n569\n00:28:53.350 --> 00:28:56.590\ninto that new policy\ndefinitions folder in sys file.\n\n570\n00:28:56.590 --> 00:28:59.640\nIn other words, add them to\nthe central store, in other words.\n\n571\n00:28:59.640 --> 00:29:03.866\nAnd once they're there, over time,\nas we pointed out and as we've discussed,\n\n572\n00:29:03.866 --> 00:29:04.932\nit will replicate.\n\n573\n00:29:04.932 --> 00:29:07.244\nIt will ultimately show up and\nbe available everywhere,\n\n574\n00:29:07.244 --> 00:29:09.749\nbut I wanna just make sure we're\nclear on that and make sure you\n\n575\n00:29:09.749 --> 00:29:13.810\nhave the right information about how we do\nthat so that you understand the process.\n\n576\n00:29:13.810 --> 00:29:15.278\n&gt;&gt; Just automating it to the next level,\nthey're a little-\n\n577\n00:29:15.278 --> 00:29:15.845\n&gt;&gt; Hopefully.\n\n578\n00:29:15.845 --> 00:29:16.865\n&gt;&gt; Yeah.\n&gt;&gt; Hopefully,\n\n579\n00:29:16.865 --> 00:29:20.273\nif you're able to do it that way,\nobviously, that will make a lot of sense,\n\n580\n00:29:20.273 --> 00:29:20.931\nabsolutely.\n\n581\n00:29:20.931 --> 00:29:22.323\n&gt;&gt; All right, Adam, well,\nthank you so much for\n\n582\n00:29:22.323 --> 00:29:23.833\neverything that we've\ncovered during the show.\n\n583\n00:29:23.833 --> 00:29:25.752\nBut ladies and gentlemen, stay tuned,\n\n584\n00:29:25.752 --> 00:29:28.805\nwe have some more management with\ngroup policy headed your way.\n\n585\n00:29:28.805 --> 00:29:30.399\nFor this show we'll go ahead and sign out.\n\n586\n00:29:30.399 --> 00:29:31.815\nI've been your host, Cherokee Boose.\n\n587\n00:29:31.815 --> 00:29:33.184\n&gt;&gt; I am Adam Gordon-\n&gt;&gt; See you next-\n\n588\n00:29:33.184 --> 00:29:35.264\n&gt;&gt; Who's scratching his eye cuz I have\n\n589\n00:29:35.264 --> 00:29:36.360\nsomething in it.\n\n590\n00:29:36.360 --> 00:29:37.570\n[LAUGH] All right, take care, everybody.\n\n591\n00:29:37.570 --> 00:29:40.097\nThank you.\n\n592\n00:29:40.097 --> 00:29:45.975\n[MUSIC]\n\n593\n00:29:45.975 --> 00:29:51.094\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231754473"
        },
        {
          "description": "In this episode, Adam and Cherokee continue to explore the feature rich GPMC interface and highlights Security templates, way to import/export these templates. They also look at a tools such Security Compliance Manager (SCM) and ADMX Migrator.",
          "length": "2111",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-3-managing_user_settings_with_group_policy_pt3-082917.00_34_57_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-3-managing_user_settings_with_group_policy_pt3-082917.00_34_57_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-3-managing_user_settings_with_group_policy_pt3-082917.00_34_57_09.Still001-sm.jpg",
          "title": "Managing User Settings with Group Policy Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:02.126\nWelcome to IT Pro TV, I'm your host.\n\n2\n00:00:02.126 --> 00:00:07.317\n[CROSSTALK]\n\n3\n00:00:07.317 --> 00:00:08.461\n[MUSIC]\n\n4\n00:00:08.461 --> 00:00:10.949\n&gt;&gt; You're watching IT Pro TV.\n\n5\n00:00:10.949 --> 00:00:12.164\n[MUSIC]\n\n6\n00:00:12.164 --> 00:00:16.550\n&gt;&gt; Welcome back to your identity with\nMicrosoft Windows server 2016 series.\n\n7\n00:00:16.550 --> 00:00:18.590\nI'm your show host, Cherokee Boose.\n\n8\n00:00:18.590 --> 00:00:23.810\nIn this episode, we'll continue to look at\nmanaging user settings with group policy.\n\n9\n00:00:23.810 --> 00:00:26.500\nAnd back with us today in studios,\nwe have Mr. Adam Gordon.\n\n10\n00:00:26.500 --> 00:00:27.220\nHow's it going, Adam?\n\n11\n00:00:28.360 --> 00:00:29.290\n&gt;&gt; Awesome.\n&gt;&gt; Woo-hoo!\n\n12\n00:00:29.290 --> 00:00:30.042\n&gt;&gt; I should say awesome.\n\n13\n00:00:30.042 --> 00:00:31.887\n&gt;&gt; Woo-hoo!\n[LAUGH] &gt;&gt; Gotta face the right place.\n\n14\n00:00:31.887 --> 00:00:34.035\nAnyway.\nDo one of these, I'll face each one.\n\n15\n00:00:34.035 --> 00:00:38.020\nRight, okay, it is going well, regardless\nof where I face and what I talk about.\n\n16\n00:00:38.020 --> 00:00:43.010\nWe're here to spend some additional time\ndelving even deeper into the idea of using\n\n17\n00:00:43.010 --> 00:00:44.460\ngroup policy to manage user settings.\n\n18\n00:00:44.460 --> 00:00:47.465\nIt's essentially controlling the user\nexperience is what we have been\n\n19\n00:00:47.465 --> 00:00:48.174\ntalking about.\n\n20\n00:00:48.174 --> 00:00:50.603\nUsers, well you know they get\nup to all sorts of stuff right?\n\n21\n00:00:50.603 --> 00:00:54.795\nWe know they're left to their own\ndevices they will find the fondest of\n\n22\n00:00:54.795 --> 00:00:58.419\nways to interact with systems and\nperhaps get into places and\n\n23\n00:00:58.419 --> 00:01:02.840\nExecute functionality that we may\nhave a preference for them not to do.\n\n24\n00:01:02.840 --> 00:01:05.560\nAnd we'll use that concept for\npreferences coming up in\n\n25\n00:01:05.560 --> 00:01:09.130\nsome of our conversations about user\npolicy, how we can approach and\n\n26\n00:01:09.130 --> 00:01:11.940\ntherefore control what users may or\nmay not choose to get up to.\n\n27\n00:01:11.940 --> 00:01:15.540\nAnd we'll take a look at preferences and\na subset of group policy and\n\n28\n00:01:15.540 --> 00:01:16.260\nhow that may work.\n\n29\n00:01:16.260 --> 00:01:18.016\nBut we're gonna talk about\na bunch of different things.\n\n30\n00:01:18.016 --> 00:01:21.540\nWe're gonna start by taking a look at some\nof the security-related functions that\n\n31\n00:01:21.540 --> 00:01:22.850\ngroup policy provides.\n\n32\n00:01:22.850 --> 00:01:26.560\nWe've talked about up until now,\nthe idea of the default domain policy.\n\n33\n00:01:26.560 --> 00:01:31.660\nThis idea of being able to apply security\nsettings, things primarily focused on\n\n34\n00:01:31.660 --> 00:01:36.220\npassword control, and management,\naccount lock-out control, and management.\n\n35\n00:01:36.220 --> 00:01:39.620\nSettings that really allow us to\nconstrain, and control specifically,\n\n36\n00:01:39.620 --> 00:01:45.050\nhow users across the domain, across\nthe tree, across the forest are going\n\n37\n00:01:45.050 --> 00:01:49.790\nto behave my domain by policy, trying\nto standardize the security aspects.\n\n38\n00:01:49.790 --> 00:01:51.870\nAnd we've talked about people\ndomain controller's policy,\n\n39\n00:01:51.870 --> 00:01:55.110\nthe two default policies\nthat we see in exist.\n\n40\n00:01:55.110 --> 00:01:59.315\nWe've talked about the preference there\nin the thought process in the guidance,\n\n41\n00:01:59.315 --> 00:02:02.775\nabout making sure that we use audit\nsettings, and apply audit settings for\n\n42\n00:02:02.775 --> 00:02:05.985\nactivities at the default domain\ncontrollers policy level,\n\n43\n00:02:05.985 --> 00:02:07.635\napplied to the main controller's OU.\n\n44\n00:02:07.635 --> 00:02:09.815\nAnd we spent some time talking\nabout those things, but\n\n45\n00:02:09.815 --> 00:02:13.910\nthere are other settings that exists for\nus to pull levers on and\n\n46\n00:02:13.910 --> 00:02:17.860\ncontrol aspects of security\nthrough this idea of being able to\n\n47\n00:02:17.860 --> 00:02:21.550\ninteract with a variety of security\nsettings is not unusual to us.\n\n48\n00:02:21.550 --> 00:02:22.900\nHopefully not for you.\n\n49\n00:02:22.900 --> 00:02:26.590\nLet's take a look at Look at what\nexist in there just you have a sense.\n\n50\n00:02:26.590 --> 00:02:27.950\nAnd you could see right up here.\n\n51\n00:02:27.950 --> 00:02:30.630\nWe just change the focus\nof where we are cuz it's\n\n52\n00:02:30.630 --> 00:02:34.060\ndown below looking at the preference\nsetting just what you're just seeing.\n\n53\n00:02:34.060 --> 00:02:38.020\nYou'll see here above the computer\narea right here insecurity settings.\n\n54\n00:02:38.020 --> 00:02:40.120\nThere are a number of areas.\n\n55\n00:02:40.120 --> 00:02:44.270\nYou probably see them a little bit\neasier over here as they're highlighted.\n\n56\n00:02:44.270 --> 00:02:48.050\nThere's that dreaded pull\nthe collar over again capability.\n\n57\n00:02:48.050 --> 00:02:50.760\nAnd you can see we have\nthings like account policies,\n\n58\n00:02:50.760 --> 00:02:54.190\nlocal policies, event log,\nfor instance settings.\n\n59\n00:02:54.190 --> 00:02:55.370\nThe ability to restrict groups.\n\n60\n00:02:55.370 --> 00:02:58.630\nWe've talked about this on some of\nthe earlier conversations we've had.\n\n61\n00:02:58.630 --> 00:03:03.520\nSpecifying control system service\nsettings, interact with and modify perhaps\n\n62\n00:03:03.520 --> 00:03:08.105\neven edit and change register settings\nthis is result of applying group policy.\n\n63\n00:03:08.105 --> 00:03:09.715\nFile systems security settings.\n\n64\n00:03:09.715 --> 00:03:13.095\nSo there's a variety of different\nareas and topics we can get into here.\n\n65\n00:03:13.095 --> 00:03:16.715\nPublic key policies for P K I\ninfrastructure, we'll have a lot more to\n\n66\n00:03:16.715 --> 00:03:20.465\nsay about that in upcoming conversations\nwith regards to certificates services\n\n67\n00:03:20.465 --> 00:03:24.485\ncalled A B C S and how certificate\nservices are deployed and used.\n\n68\n00:03:24.485 --> 00:03:27.955\nWe see Windows firewall advanced\nsecurity setting features, there's so\n\n69\n00:03:27.955 --> 00:03:31.510\nmany different places we\ncould go in to interact with.\n\n70\n00:03:31.510 --> 00:03:36.170\nBut the reality is what we have all\nof these we may have other more\n\n71\n00:03:36.170 --> 00:03:38.720\ninvolve settings perhaps even\nnewer settings think about for\n\n72\n00:03:38.720 --> 00:03:40.400\ninstance the admin of Windows 10.\n\n73\n00:03:40.400 --> 00:03:44.400\nAnd the constant updating that goes on\nbehind the scenes maybe twice to three\n\n74\n00:03:44.400 --> 00:03:48.320\ntimes a year as Microsoft really\nmoved to push out these updates.\n\n75\n00:03:48.320 --> 00:03:53.080\nSeeing the desktop and indeed operating\nsystem overall In an as a service\n\n76\n00:03:53.080 --> 00:03:57.660\nmentality, as a service thought process\nfor updating means we can package and\n\n77\n00:03:57.660 --> 00:04:01.020\nupdate push up dates package mount,\nroll them out,\n\n78\n00:04:01.020 --> 00:04:05.050\neither in a phased approach depending\non whether you choose to use branch and\n\n79\n00:04:05.050 --> 00:04:08.240\nor long term service branch\ndifferent options around Windows 10.\n\n80\n00:04:08.240 --> 00:04:11.580\nHow you choose to play it from\nan enterprise perspective\n\n81\n00:04:11.580 --> 00:04:13.370\npushing off those updates for\nperiod of times.\n\n82\n00:04:13.370 --> 00:04:17.120\nYou get to do your regression testing and\nfigure out what those update changes\n\n83\n00:04:17.120 --> 00:04:20.105\nwill mean to your environment or\nyou embrace them openly, right, and\n\n84\n00:04:20.105 --> 00:04:24.215\njust accept them as part of a download and\nan update perhaps in the consumer channel,\n\n85\n00:04:24.215 --> 00:04:27.125\nright, an individual use at home,\nsomething like that.\n\n86\n00:04:27.125 --> 00:04:30.527\nSo whatever we see there, there's new\nfeatures, new functionality emerging.\n\n87\n00:04:30.527 --> 00:04:32.697\nAnd of course, there's new security\nsettings that may go with that.\n\n88\n00:04:32.697 --> 00:04:35.987\nAnd so we have some opportunity to\nget in front of that, corral that,\n\n89\n00:04:35.987 --> 00:04:39.117\nunderstand that, using security templates.\n\n90\n00:04:39.117 --> 00:04:41.727\nWhich are files that allow us\nto manage and apply settings and\n\n91\n00:04:41.727 --> 00:04:44.003\nchanges is one way to do this.\n\n92\n00:04:44.003 --> 00:04:46.973\nThey are based on the Windows\noperating system.\n\n93\n00:04:46.973 --> 00:04:51.104\nSo, we have security settings or security\ntemplates that could be set up for\n\n94\n00:04:51.104 --> 00:04:55.763\ndifferent OS as Windows 7, Windows 8,\nWindows 10, Server 16, Server 12.\n\n95\n00:04:55.763 --> 00:04:59.732\nWhatever the case may be much like\ngeneric or rather, excuse me,\n\n96\n00:04:59.732 --> 00:05:04.311\nspecific group policy approaches\nwhere we have unique settings per OS.\n\n97\n00:05:04.311 --> 00:05:07.151\nThe same idea applies\nwith regards to security.\n\n98\n00:05:07.151 --> 00:05:09.921\nAnd so we can use different tools,\nthe sec edit tool\n\n99\n00:05:09.921 --> 00:05:14.540\nis the command line tool would allow\nus to look at current configurations.\n\n100\n00:05:14.540 --> 00:05:16.710\nAnd see what may be going on.\n\n101\n00:05:16.710 --> 00:05:19.920\nI'm gonna wrap with those configurations,\nbetter understand them.\n\n102\n00:05:19.920 --> 00:05:21.700\nSo that's one way to do this.\n\n103\n00:05:21.700 --> 00:05:24.910\nThere is a security template snap-in\nthat could be loaded in an MMC,\n\n104\n00:05:24.910 --> 00:05:28.660\nthat allows you to create\nsecurity policies and templates.\n\n105\n00:05:28.660 --> 00:05:31.400\nWe also have the ability to\nuse group policy directly.\n\n106\n00:05:31.400 --> 00:05:34.430\nAnd there's a tool,\nlet me just bring up the website, here.\n\n107\n00:05:34.430 --> 00:05:36.810\nWanna join me here,\nwe could take a look and see the SCM,\n\n108\n00:05:36.810 --> 00:05:40.870\nSecurity Compliance Manager tool,\nanother way we can do this.\n\n109\n00:05:40.870 --> 00:05:44.810\nAnd Security Compliance Manager,\nagain currently add version four based on\n\n110\n00:05:44.810 --> 00:05:48.090\nthe timeline we're putting this\nepisode together for you four.\n\n111\n00:05:48.090 --> 00:05:51.980\nYou may be looking at this several months\ndown the road for where we shot this and\n\n112\n00:05:51.980 --> 00:05:52.810\nhistorically.\n\n113\n00:05:52.810 --> 00:05:54.140\nThis may have been accurate at the time,\nbut\n\n114\n00:05:54.140 --> 00:05:56.760\nkeep in mind these tools\ndo update over time.\n\n115\n00:05:56.760 --> 00:05:59.970\nYou may be looking at this website now,\nand it may say version five, or\n\n116\n00:05:59.970 --> 00:06:00.630\nwhatever it is.\n\n117\n00:06:00.630 --> 00:06:03.390\nSo just understand that obviously\nit's the most recent version of\n\n118\n00:06:03.390 --> 00:06:05.200\nthe tool that we would\nwant you to focus on.\n\n119\n00:06:05.200 --> 00:06:07.840\nThere is the opportunity to download\nthe tool but before you do that,\n\n120\n00:06:07.840 --> 00:06:10.540\nyou may wanna better\nunderstand what the tool does.\n\n121\n00:06:10.540 --> 00:06:15.990\nThis tool allows us to be able to look\nat and incorporate security settings and\n\n122\n00:06:15.990 --> 00:06:18.920\nmanagement capabilities and\nit does make the statement there that\n\n123\n00:06:18.920 --> 00:06:22.810\nis now supporting fully server 16 and\nWindows 10 product baselines.\n\n124\n00:06:22.810 --> 00:06:27.100\nAllows us to apply a new baselines to\ndivide support based on best practice\n\n125\n00:06:27.100 --> 00:06:29.360\nrecommendations and capabilities.\n\n126\n00:06:29.360 --> 00:06:33.130\nIf you remember years ago, and they still\nexist in one form or another in certain\n\n127\n00:06:33.130 --> 00:06:38.060\nproduct lines, but Microsoft had a set\nof best practice analyzers, BPAs,\n\n128\n00:06:38.060 --> 00:06:39.640\nright, is what they used to be called.\n\n129\n00:06:39.640 --> 00:06:41.375\nAnd if you had ever seen those or\n\n130\n00:06:41.375 --> 00:06:44.565\nare familiar with those,\nagain you may still see some of them.\n\n131\n00:06:44.565 --> 00:06:45.805\nSome of them exist independently.\n\n132\n00:06:45.805 --> 00:06:50.325\nSome of them are built in now as\nwizards in products like Exchange,\n\n133\n00:06:50.325 --> 00:06:53.165\nlike SharePoint where we look\nat configuration settings and\n\n134\n00:06:53.165 --> 00:06:57.447\nhealth Capabilities and we monitor or\nallow you to understand the benefit from\n\n135\n00:06:57.447 --> 00:07:01.807\nthe capabilities those insights provide to\nbetter secure and manage your products.\n\n136\n00:07:01.807 --> 00:07:05.572\nBut this whole series of they were\nmarketed under the concept of solution\n\n137\n00:07:05.572 --> 00:07:07.432\naccelerators at one point as well.\n\n138\n00:07:07.432 --> 00:07:09.317\nYou may have seen them historically right.\n\n139\n00:07:09.317 --> 00:07:14.030\nAnd yes and go ahead.\n\n140\n00:07:14.030 --> 00:07:16.270\n&gt;&gt; So just make sure\nthe understanding here Adam.\n\n141\n00:07:16.270 --> 00:07:21.180\nThis is basically I'm looking at this\nscripting here or taking that information\n\n142\n00:07:21.180 --> 00:07:25.520\nlike this baselines or with the security\nbaseline analyser I work as analysing\n\n143\n00:07:25.520 --> 00:07:30.020\nthe system looking for ADV relations\nagainst your security policies or\n\n144\n00:07:30.020 --> 00:07:33.450\nany kind of best practice\nrecommendations that might help us.\n\n145\n00:07:33.450 --> 00:07:35.550\nWell, if you look,\nI just zoomed in a little bit so\n\n146\n00:07:35.550 --> 00:07:37.790\nwe could see it specifically\nto kind of focus on it.\n\n147\n00:07:37.790 --> 00:07:40.390\nI'm just gonna highlight instead of\nreading it, just kinda point you to it.\n\n148\n00:07:40.390 --> 00:07:44.034\nBut you see here, ready to play policies\nbased on security guidelines and\n\n149\n00:07:44.034 --> 00:07:47.682\nrecommendations, industry best\npractices coming from Microsoft and,\n\n150\n00:07:47.682 --> 00:07:50.179\nobviously specific in this case,\nBIOS version.\n\n151\n00:07:50.179 --> 00:07:52.628\nSo this really just builds on the logic.\n\n152\n00:07:52.628 --> 00:07:55.332\nSo the short answer is essentially yes,\nto what you said.\n\n153\n00:07:55.332 --> 00:07:57.122\nBut builds on the logic.\n\n154\n00:07:57.122 --> 00:08:00.623\nAnd the foundation that\nthe best practice analyzers and\n\n155\n00:08:00.623 --> 00:08:03.390\nthe security thought process around them.\n\n156\n00:08:03.390 --> 00:08:06.960\nThe solution accelerator\nthought process that we had and\n\n157\n00:08:06.960 --> 00:08:11.330\nmarketed them under, really provided, just\ntaking it essentially to the next level.\n\n158\n00:08:11.330 --> 00:08:14.930\nMake it available as a second\nincorporated tool set.\n\n159\n00:08:14.930 --> 00:08:16.620\nWe do have a lot of capabilities.\n\n160\n00:08:16.620 --> 00:08:18.050\nPretty cool technology.\n\n161\n00:08:18.050 --> 00:08:21.900\nFull support for the newest OSs,\nobviously very critical there.\n\n162\n00:08:21.900 --> 00:08:27.810\nThe gold master support very important for\nindustry and vertical capabilities that\n\n163\n00:08:27.810 --> 00:08:32.540\nrequire hard coded baseline management,\nfor not only continuous management, but\n\n164\n00:08:32.540 --> 00:08:36.320\nremediation and audit verification and\nvalidation capabilities.\n\n165\n00:08:36.320 --> 00:08:38.860\nThink of any industry\nthat has statutory or\n\n166\n00:08:38.860 --> 00:08:43.380\nregulatory requirement to have a certain\ncapability or baseline in place.\n\n167\n00:08:43.380 --> 00:08:46.320\nYou can now use that thought process and\nsupport it and\n\n168\n00:08:46.320 --> 00:08:50.460\naugment it by auditing and verifying\nit with this tool set which is great.\n\n169\n00:08:50.460 --> 00:08:53.340\nSo I'm thinking military for\ninstance where you get\n\n170\n00:08:53.340 --> 00:08:56.730\nin any kind of federal government space\nwhere you get guidance from DISSA or\n\n171\n00:08:56.730 --> 00:09:01.060\nthe appropriate source in the government\nthat says hey this is the application of\n\n172\n00:09:01.060 --> 00:09:04.840\nthis image to this master is what we\ngo with and this is how you do it.\n\n173\n00:09:04.840 --> 00:09:08.450\nThis tool could help you to apply and\nmanage that, that's one example.\n\n174\n00:09:08.450 --> 00:09:09.730\nConfigure standalone machines.\n\n175\n00:09:09.730 --> 00:09:14.195\nYou could deploy your configurations\nto non-domain joined computers\n\n176\n00:09:14.195 --> 00:09:18.365\nusing the GPO pack feature,\nwhere you can essentially create the GPO.\n\n177\n00:09:18.365 --> 00:09:20.325\nApply it there,\neven though it's not part of the domain.\n\n178\n00:09:20.325 --> 00:09:23.665\nSo we're extending support\nout to stand alone instances.\n\n179\n00:09:23.665 --> 00:09:26.805\nAnd standardizing their configuration and\nauditing and\n\n180\n00:09:26.805 --> 00:09:29.825\nvalidating that configuration\nto ensure it's applied.\n\n181\n00:09:29.825 --> 00:09:32.710\nSo think about the fact that for\n\n182\n00:09:32.710 --> 00:09:37.340\ninstance you may have in a DMZ,\nright, the ability to be able to, and\n\n183\n00:09:37.340 --> 00:09:42.230\noften we do recommend that you use\nin the DMZ standalone machines that\n\n184\n00:09:42.230 --> 00:09:45.730\nmay not be joined directly to the domain\nto accomplish certain capabilities.\n\n185\n00:09:45.730 --> 00:09:49.640\nWe may even deploy a separate\ninstance of the active directory\n\n186\n00:09:49.640 --> 00:09:53.130\nright into the DMZ specifically\nto handle authentication.\n\n187\n00:09:53.130 --> 00:09:55.960\nLocal just to the DMC resources.\n\n188\n00:09:55.960 --> 00:09:59.000\nLots of different ways we manifest\nfrom security standpoint.\n\n189\n00:09:59.000 --> 00:10:02.490\nSo the configuration of standalone\nmachines and the management of policy for\n\n190\n00:10:02.490 --> 00:10:06.890\nthem could be valuable, updating and\nprovided updated security guidance, right?\n\n191\n00:10:06.890 --> 00:10:11.120\nWhere you get essentially the benefit\nof Microsoft's expertise, guidance,\n\n192\n00:10:11.120 --> 00:10:14.580\nknowledge, awareness of\nthe entire ecosystem of security,\n\n193\n00:10:14.580 --> 00:10:18.120\nand the capabilities, and\nthe concerns that they address\n\n194\n00:10:18.120 --> 00:10:20.830\nversus just you heads down\nkind of in your environment.\n\n195\n00:10:20.830 --> 00:10:22.710\nThinking, I have to get this done.\n\n196\n00:10:22.710 --> 00:10:25.850\nMaybe not seeing the broader picture\naround things like advanced persistent\n\n197\n00:10:25.850 --> 00:10:30.060\nthreat detection, the broader\npicture around emerging threats.\n\n198\n00:10:30.060 --> 00:10:33.454\nAnd I'm not saying that this tool by\nitself will prevent you [CROSSTALK].\n\n199\n00:10:33.454 --> 00:10:34.497\n&gt;&gt; All encompassing.\n&gt;&gt; From falling prey to those things.\n\n200\n00:10:34.497 --> 00:10:36.344\nQuite the opposite it may or may not.\n\n201\n00:10:36.344 --> 00:10:37.889\nIt's not anti-malware.\n\n202\n00:10:37.889 --> 00:10:40.140\nIt's not anti-virus protection.\n\n203\n00:10:40.140 --> 00:10:42.150\nThis is the ability to\nconfigure systems and\n\n204\n00:10:42.150 --> 00:10:45.190\napply those configurations\nin a standardized way.\n\n205\n00:10:45.190 --> 00:10:46.130\nNothing more than that.\n\n206\n00:10:46.130 --> 00:10:50.920\nBut I'm just pointing out that a tool like\nthis gives you the broader benefit of that\n\n207\n00:10:50.920 --> 00:10:55.700\nholistic all up ecosystem based approach\nas opposed to only knowing what you know\n\n208\n00:10:55.700 --> 00:10:59.220\nand perhaps not taking full advantage of\nsome of that guidance, so just to be clear\n\n209\n00:10:59.220 --> 00:11:03.550\nabout that, but you see we have different\noptions for exporting customization.\n\n210\n00:11:03.550 --> 00:11:07.752\nBut, you know a very, very important\npoint about any of the tools that we show\n\n211\n00:11:07.752 --> 00:11:12.213\nyou this tool, a tool I'm gonna mention in\njust a moment, reaching back to a prior\n\n212\n00:11:12.213 --> 00:11:16.612\nepisode, actually two episodes around\nthe use of administrative templates and\n\n213\n00:11:16.612 --> 00:11:20.387\nfile formats for them and how we\nmove between file formats if needed.\n\n214\n00:11:20.387 --> 00:11:24.265\nAny of the tools we talk about in any\nof the episodes, whether it's myself or\n\n215\n00:11:24.265 --> 00:11:28.021\nany of the other hosts here, any of\nthe other presenters here at ITPRoTV,\n\n216\n00:11:28.021 --> 00:11:31.960\nwe would try to share the experience and\nknowledge we have in the real world but\n\n217\n00:11:31.960 --> 00:11:35.052\nalso obviously industry best practices and\nstandards, and\n\n218\n00:11:35.052 --> 00:11:37.910\nrecommend them and\nguide you to take a look at them.\n\n219\n00:11:37.910 --> 00:11:40.350\nBut you know tools,\nlike anything else, right,\n\n220\n00:11:40.350 --> 00:11:42.330\nin the right hands create\nbeautiful works of art.\n\n221\n00:11:42.330 --> 00:11:43.060\nIn the wrong hands,\n\n222\n00:11:43.060 --> 00:11:46.250\nwell, you've got a smoldering ruin\nwhere your network used to be.\n\n223\n00:11:46.250 --> 00:11:50.340\nSo really important that you\nexercise due diligence and due care,\n\n224\n00:11:50.340 --> 00:11:54.260\nrun any tool we recommend to take a look\nat just because I'm suggesting or\n\n225\n00:11:54.260 --> 00:11:56.410\nCherokee suggests or anybody suggesting.\n\n226\n00:11:56.410 --> 00:11:59.100\nMaybe a good tool for you,\ndoesn't mean it's the best tool and\n\n227\n00:11:59.100 --> 00:12:00.660\ndoesn't mean it's the right tool.\n\n228\n00:12:00.660 --> 00:12:02.140\nwhich means it's an option.\n\n229\n00:12:02.140 --> 00:12:04.180\nI often talk about what your IT toolbox or\n\n230\n00:12:04.180 --> 00:12:08.450\ntoolkit may look like and I talk\nabout a lot of tools I find value in,\n\n231\n00:12:08.450 --> 00:12:12.590\nthat I may use with customers, I may\nuse or recommend for others to use but\n\n232\n00:12:12.590 --> 00:12:15.810\nthey may not be appropriate in your\nenvironment for a variety of reasons and\n\n233\n00:12:15.810 --> 00:12:18.990\neven if they are, you have to\nunderstand how to fully utilize them.\n\n234\n00:12:18.990 --> 00:12:19.750\nYou often,\n\n235\n00:12:19.750 --> 00:12:23.110\nalmost without exception, especially\nif I am using that command line tool.\n\n236\n00:12:23.110 --> 00:12:24.790\nI always bring up the help file first, and\n\n237\n00:12:24.790 --> 00:12:27.420\nsay hey,\nmake sure you read this help file.\n\n238\n00:12:27.420 --> 00:12:29.870\nLook at those switches,\nunderstand what you're doing.\n\n239\n00:12:29.870 --> 00:12:31.890\nDon't just execute\nthe tool,in other words,\n\n240\n00:12:31.890 --> 00:12:35.560\nwithout really understanding\nall the cautionary tales.\n\n241\n00:12:35.560 --> 00:12:37.960\nThe guidance, and the proper path forward.\n\n242\n00:12:37.960 --> 00:12:41.110\nOr you can, and\nindeed most likely will, cause damage.\n\n243\n00:12:41.110 --> 00:12:42.750\nAnd that's the exact opposite\nof what you want to do.\n\n244\n00:12:42.750 --> 00:12:48.160\nWe don't want you to Wind to blowing\nup something or rush to use a tool.\n\n245\n00:12:48.160 --> 00:12:51.150\nBreak the exact thing tools design\nto help you fix and manage.\n\n246\n00:12:51.150 --> 00:12:55.240\nWe want you to be successful and they way\nyou do that is you plan to be successful\n\n247\n00:12:55.240 --> 00:12:56.860\nas you've often heard me talk about.\n\n248\n00:12:56.860 --> 00:12:58.460\nDon't plan to fail, right?\n\n249\n00:12:58.460 --> 00:13:02.250\nPlan to be successful, plan to be\nsuccessful means you thrive to allow,\n\n250\n00:13:02.250 --> 00:13:06.580\nyou demo it to a non-threatening intrusive\narea where you're not gonna impact your\n\n251\n00:13:06.580 --> 00:13:10.590\nnetwork and once you feel you fully\nhave understanding of it, you then with\n\n252\n00:13:10.590 --> 00:13:15.140\nthe proper respect and the proper\ncapabilities in place to back you up and\n\n253\n00:13:15.140 --> 00:13:17.060\nmake sure you can recover from a mistake.\n\n254\n00:13:17.060 --> 00:13:20.030\nDeploy the tool and obviously manage\nit to the best effect you can.\n\n255\n00:13:20.030 --> 00:13:22.240\nBut just take that guidance for\nwhat it's worth.\n\n256\n00:13:22.240 --> 00:13:25.600\nI don't often stop and really give\nyou that cautionary guidance entail.\n\n257\n00:13:25.600 --> 00:13:27.620\nAnd I probably should a little more often.\n\n258\n00:13:27.620 --> 00:13:29.270\nBut it is really important\nto call that out and\n\n259\n00:13:29.270 --> 00:13:31.120\njust make sure we're\ncomfortable with that right?\n\n260\n00:13:31.120 --> 00:13:34.530\nJust as a thought process this week,\nyou'll think about continuing through\n\n261\n00:13:34.530 --> 00:13:38.720\nthose conversations and what the value of\na tool like this maybe which is obviously,\n\n262\n00:13:38.720 --> 00:13:42.170\nultimately, that we can deploy\nthis capability and use it.\n\n263\n00:13:42.170 --> 00:13:46.310\nBut it's very easy for Microsoft to\nput out a tool, it's so hard for\n\n264\n00:13:46.310 --> 00:13:49.100\nyou to understand the value of how to\ndeploy that tool is one I'm suggesting to\n\n265\n00:13:49.100 --> 00:13:52.320\nyou and I wanna make sure you understand\nthe value of deploying the right tool for\n\n266\n00:13:52.320 --> 00:13:53.150\nthe right solution.\n\n267\n00:13:53.150 --> 00:13:55.540\nSo, it is importance to consider is that.\n\n268\n00:13:55.540 --> 00:13:58.400\nHopefully makes sense and I'm sure\nCherokee would probably agree with me,\n\n269\n00:13:58.400 --> 00:13:59.430\nif she\n&gt;&gt; Yes.\n\n270\n00:13:59.430 --> 00:13:59.960\n&gt;&gt; Chimed in.\n\n271\n00:13:59.960 --> 00:14:01.230\n&gt;&gt; Test first, always.\n\n272\n00:14:01.230 --> 00:14:02.640\nResearch, and test,\n\n273\n00:14:02.640 --> 00:14:04.670\nand plan, and plan even\n&gt;&gt; Test on\n\n274\n00:14:04.670 --> 00:14:05.435\nyour friend's network\n\n275\n00:14:05.435 --> 00:14:06.330\n&gt;&gt; [LAUGH]\n&gt;&gt; Right?\n\n276\n00:14:06.330 --> 00:14:08.120\nIt's always good to test on your friend's\n\n277\n00:14:08.120 --> 00:14:09.600\nnetwork.\nAnd then that way if something doesn't go\n\n278\n00:14:09.600 --> 00:14:13.760\nright, you can obviously just stop You\nknow, fix it, quote on quote, right?\n\n279\n00:14:13.760 --> 00:14:15.740\nAll right, so, no, don't test but do just,\n\n280\n00:14:15.740 --> 00:14:18.950\nobviously show the right amount of respect\nfor the tool is what I'm suggesting.\n\n281\n00:14:18.950 --> 00:14:20.910\nVery, very important for\nyou to be aware of that.\n\n282\n00:14:20.910 --> 00:14:25.855\nAll right, so, whether we are using a tool\nlike SCM, whether we're using a tool like\n\n283\n00:14:25.855 --> 00:14:29.770\nSecEdit whether we're using the security\ntemplate snap in for the MMC or\n\n284\n00:14:29.770 --> 00:14:35.360\nwe're going to import a policy into\ngroup policy, an INF file for security.\n\n285\n00:14:35.360 --> 00:14:36.750\nThere's lots of different options.\n\n286\n00:14:36.750 --> 00:14:39.020\nLet me show you what I mean by that.\n\n287\n00:14:39.020 --> 00:14:40.110\nWe may take the output.\n\n288\n00:14:40.110 --> 00:14:40.940\nJust give me half a second.\n\n289\n00:14:40.940 --> 00:14:43.490\nI'm just extending the lab\ntimer behind the scenes so\n\n290\n00:14:43.490 --> 00:14:46.490\nwe don't run out of time before\nI go back into the machine.\n\n291\n00:14:46.490 --> 00:14:51.440\nBut we may create a template or\nhave an INF file that we get\n\n292\n00:14:51.440 --> 00:14:55.030\nfrom somewhere that would set up security\ntemplate settings available to us.\n\n293\n00:14:55.030 --> 00:14:57.040\nAnd I was mentioning,\nthat there's a lot of ways for\n\n294\n00:14:57.040 --> 00:14:59.180\nus to augment the settings, right?\n\n295\n00:14:59.180 --> 00:15:02.690\nAnd again, when those hidden features, you\nmay just not be aware of that exists in\n\n296\n00:15:02.690 --> 00:15:06.670\nthe console the group policy management\ncontents was so feature rich, so\n\n297\n00:15:06.670 --> 00:15:10.110\nmultifaceted, you literally\ncould spend three or\n\n298\n00:15:10.110 --> 00:15:12.040\nfour days exploring all\nthe capabilities in here.\n\n299\n00:15:12.040 --> 00:15:16.100\nReally learning how to use it properly,\nit has become such a feature rich and\n\n300\n00:15:16.100 --> 00:15:18.440\ncomplex environment for management.\n\n301\n00:15:18.440 --> 00:15:22.440\nIt's not the original policy editor\nwe saw back in the original days of\n\n302\n00:15:22.440 --> 00:15:24.590\ngroup policy around the 2000 mark.\n\n303\n00:15:24.590 --> 00:15:27.620\nIt's grown so much,\nespecially in the last several years.\n\n304\n00:15:27.620 --> 00:15:31.590\nWith the added complexity of some of\nthe more modern operating systems we see.\n\n305\n00:15:31.590 --> 00:15:33.110\nSo security settings right there,\n\n306\n00:15:33.110 --> 00:15:36.220\nand we've been in, what people don't\noften realize is you can right click and\n\n307\n00:15:36.220 --> 00:15:38.350\nuse this option right here\ncalled Import Policy.\n\n308\n00:15:38.350 --> 00:15:42.653\nAnd we can import an INF file that\noverlays additional template base settings\n\n309\n00:15:42.653 --> 00:15:45.963\nthat will extend our capabilities,\nessentially adding or\n\n310\n00:15:45.963 --> 00:15:50.023\nmodifying what we wanna do here if we\nwanna bring in a policy of some kind.\n\n311\n00:15:50.023 --> 00:15:52.586\nAnd so if we import policy,\nagain, you'll see templates.\n\n312\n00:15:52.586 --> 00:15:56.791\nThey are in the security template file\nformat of INF, that's what we would need.\n\n313\n00:15:56.791 --> 00:16:00.142\nAnd by bringing in that file,\nwe can augment and add or\n\n314\n00:16:00.142 --> 00:16:03.130\nmodify the capabilities here,\nif necessary.\n\n315\n00:16:03.130 --> 00:16:05.842\nSo this will be yet\nanother way to be able to do that.\n\n316\n00:16:05.842 --> 00:16:10.310\nWe could export a template from somewhere,\nhave a vendor provide that template, and\n\n317\n00:16:10.310 --> 00:16:13.860\nthen add those features and\ncapabilities in if we choose to do that.\n\n318\n00:16:13.860 --> 00:16:17.716\nSo I just thought I'd mention that\nas we're talking about the security\n\n319\n00:16:17.716 --> 00:16:21.008\ncapabilities and\nthe possibilities of managing them here.\n\n320\n00:16:21.008 --> 00:16:25.341\nI did manage, or rather, I did mention\nthat I would show you quickly how to deal\n\n321\n00:16:25.341 --> 00:16:28.957\nwith the older file type for\nadministrative templates, .ADM,\n\n322\n00:16:28.957 --> 00:16:33.580\nas you've heard me mention several times,\nconverting those out into ADMX files.\n\n323\n00:16:33.580 --> 00:16:35.743\nNewer file type based on XML.\n\n324\n00:16:35.743 --> 00:16:41.970\nIt sounds like a fairly straightforward\nthought process, and indeed it often is.\n\n325\n00:16:41.970 --> 00:16:44.043\nBut again cautionary tale, right?\n\n326\n00:16:44.043 --> 00:16:46.750\nThis is a tool that Microsoft provides.\n\n327\n00:16:46.750 --> 00:16:49.525\nIt's an MMC snap-in,\nit's called the ADMX migrator.\n\n328\n00:16:49.525 --> 00:16:52.058\nYou can imagine based on\nthat name what it may do.\n\n329\n00:16:52.058 --> 00:16:56.550\nAnd it simplifies the process of\nconverting those ADM templates into ADMX.\n\n330\n00:16:56.550 --> 00:16:59.758\nIt gives you a graphical\nformat editor to do so.\n\n331\n00:16:59.758 --> 00:17:02.790\nYou download the tool, the URL for\nthis tool is in the show notes.\n\n332\n00:17:02.790 --> 00:17:05.283\nPlease do take a look at\nit if you're interested.\n\n333\n00:17:05.283 --> 00:17:07.790\nYou add it in,\nit's fairly straight forward.\n\n334\n00:17:07.790 --> 00:17:10.567\nNotice the tool by the way,\nit's been around for some time now.\n\n335\n00:17:10.567 --> 00:17:14.483\nSo this is not a new thought\nprocess by any means, but\n\n336\n00:17:14.483 --> 00:17:19.382\nit does allow us to be able to\nconvert ADM files into ADMX formats.\n\n337\n00:17:19.382 --> 00:17:24.327\nAnd then allows us to work with them\nadding the ADML capability to localize and\n\n338\n00:17:24.327 --> 00:17:27.462\nto multi language support\nas we've talk about.\n\n339\n00:17:27.462 --> 00:17:30.559\nSo that way, we have that capability,\ndeploying through the central store.\n\n340\n00:17:30.559 --> 00:17:32.970\nAll the things we've talked\nabout that would be available.\n\n341\n00:17:32.970 --> 00:17:35.226\nSo just think about that.\n\n342\n00:17:35.226 --> 00:17:38.632\nBut it is going to give you\nthe ability to be able to have\n\n343\n00:17:38.632 --> 00:17:41.300\na graphical environment to do the swift.\n\n344\n00:17:41.300 --> 00:17:44.158\nNot the only way to get this done but\ncertainly,\n\n345\n00:17:44.158 --> 00:17:47.000\nprobably a good way to\nthink about doing it.\n\n346\n00:17:47.000 --> 00:17:51.058\nThere is a link here for support with\nADMX Migrator when you do the download.\n\n347\n00:17:51.058 --> 00:17:53.104\nYou should probably follow this lane and\n\n348\n00:17:53.104 --> 00:17:56.310\ntake a look at known issues\nassociated with the tool.\n\n349\n00:17:56.310 --> 00:18:01.007\nSo just again, full disclosure, so you're\nknowledgeable about how to use the tool\n\n350\n00:18:01.007 --> 00:18:05.787\nand the understanding of it, so obviously\njust take advantage of that information.\n\n351\n00:18:05.787 --> 00:18:11.197\nAnd also system requirements, you'll see\nyour .net framework, MMC capabilities,\n\n352\n00:18:11.197 --> 00:18:15.452\nvery straight forward,\nyou'll see here Windows Vista, XP, etc.\n\n353\n00:18:15.452 --> 00:18:18.545\nIt does work with essentially\neverything from Vista forward, so\n\n354\n00:18:18.545 --> 00:18:21.030\nyou're gonna be able to\ndeploy that tool and use it.\n\n355\n00:18:21.030 --> 00:18:22.474\nBut just make sure you're\nfamiliar with it, right?\n\n356\n00:18:22.474 --> 00:18:25.586\nJust again, one of those tools that\nwould really help us to manage that\n\n357\n00:18:25.586 --> 00:18:27.240\ncapability and to interact with it.\n\n358\n00:18:27.240 --> 00:18:29.560\nSo just wanna make sure you\nhave a chance to see that.\n\n359\n00:18:29.560 --> 00:18:33.192\nAll right, so we've talked about the ADMX\nfiles, talked about how to migrate them,\n\n360\n00:18:33.192 --> 00:18:35.680\ntalked about security\ntemplates a little bit.\n\n361\n00:18:35.680 --> 00:18:39.386\nTalked about the ability to be\nable to add ADMX templates in.\n\n362\n00:18:39.386 --> 00:18:41.514\nI showed you how to do this in\none of the prior episodes, but\n\n363\n00:18:41.514 --> 00:18:44.650\nsince we're here we'll just talking about\nright-click and features that you get.\n\n364\n00:18:44.650 --> 00:18:46.308\nLet me just quickly remind you of that,\n\n365\n00:18:46.308 --> 00:18:48.832\nbefore we talk about folder\nredirection here a little bit.\n\n366\n00:18:48.832 --> 00:18:50.976\nSee, I told you we'd be able to get to\nit in this episode, miss smarty pants.\n\n367\n00:18:50.976 --> 00:18:52.269\n&gt;&gt; Okay.\n\n368\n00:18:52.269 --> 00:18:54.494\n&gt;&gt; All right, so\nCherokee was joshing me off camera,\n\n369\n00:18:54.494 --> 00:18:57.100\nsaying you're never gonna\nget to that all in one show.\n\n370\n00:18:57.100 --> 00:18:58.129\nIt's gonna to be a second show.\n\n371\n00:18:58.129 --> 00:19:00.610\nI said, no, we'll get to it, I promise.\n\n372\n00:19:00.610 --> 00:19:04.094\nAll right, so you'll see here we\nare getting these from the central store.\n\n373\n00:19:04.094 --> 00:19:05.810\nThe pop-up there reminds us of that.\n\n374\n00:19:07.170 --> 00:19:10.876\nAdd remove templates is how we extend\nthe capability by adding new templates in\n\n375\n00:19:10.876 --> 00:19:12.746\nonce they're available in the store.\n\n376\n00:19:12.746 --> 00:19:14.120\nRight, we can go here.\n\n377\n00:19:14.120 --> 00:19:17.557\nWe can go grab and\nadd them from wherever we may wanna do,\n\n378\n00:19:17.557 --> 00:19:19.472\nuse them to import them, etc.\n\n379\n00:19:19.472 --> 00:19:22.650\nSo you could see I've got some\nvariety of different options here.\n\n380\n00:19:22.650 --> 00:19:26.887\nBring in those files and we said\nsomething, if you download the Office 2016\n\n381\n00:19:26.887 --> 00:19:29.999\nADMX files or something like that,\nyou wanna add them in.\n\n382\n00:19:29.999 --> 00:19:33.970\nThen we would have the ability to use\nthose right, just so you're aware of that.\n\n383\n00:19:33.970 --> 00:19:36.677\nSo just keep that in mind, right?\n\n384\n00:19:36.677 --> 00:19:40.700\nAll right, so folder redirection,\nright, folder redirection.\n\n385\n00:19:40.700 --> 00:19:42.369\nSo let's talk a bit about\nfolder redirection.\n\n386\n00:19:42.369 --> 00:19:44.737\nSo when we think about folder redirection,\n\n387\n00:19:44.737 --> 00:19:48.833\nat least when I think about folder\nredirection, I think about the ability to\n\n388\n00:19:48.833 --> 00:19:52.680\nbe able to control where a user may\nput their my documents for instance.\n\n389\n00:19:52.680 --> 00:19:56.360\nOr not then in the corporate environment,\nwe'd have things like my music, or\n\n390\n00:19:56.360 --> 00:19:59.830\nmy pictures, necessarily on a local\nmachine that you may be using.\n\n391\n00:19:59.830 --> 00:20:01.238\nBut they could be there.\n\n392\n00:20:01.238 --> 00:20:02.630\nThat's part of it certainly.\n\n393\n00:20:02.630 --> 00:20:07.065\nAnything unique to the user that is\npart of their profile historically.\n\n394\n00:20:07.065 --> 00:20:09.400\nBut we really think of things\nlike that work output.\n\n395\n00:20:09.400 --> 00:20:13.177\nSo things that may go into My Documents\nwhen you save something generically by\n\n396\n00:20:13.177 --> 00:20:13.709\ndefault.\n\n397\n00:20:13.709 --> 00:20:17.870\nWe may wanna take that information and\nliterally throw it somewhere else.\n\n398\n00:20:17.870 --> 00:20:23.340\nRedirect it out to essentially manage\nfile server more often than not.\n\n399\n00:20:23.340 --> 00:20:28.106\nOr a series of them scattered throughout\nthe organization that would be used\n\n400\n00:20:28.106 --> 00:20:32.424\nto be able to remove locally created\nwork off the instance of the local\n\n401\n00:20:32.424 --> 00:20:34.075\nmachine making it safer.\n\n402\n00:20:34.075 --> 00:20:37.419\nBacking it up, let's say hypothetically\nthrough the file server structure.\n\n403\n00:20:37.419 --> 00:20:40.974\nSo that way, if that machine is\ncompromised or, for whatever reason,\n\n404\n00:20:40.974 --> 00:20:44.824\nhas to go away, we have to issue you a new\nwork station or something like that,\n\n405\n00:20:44.824 --> 00:20:47.579\nwe have the capability to\nreproduce your data for you.\n\n406\n00:20:47.579 --> 00:20:51.382\nCuz it's not only on the local machine,\nwhere it may or may not be backed up,\n\n407\n00:20:51.382 --> 00:20:55.067\nwe may or may not have control over it,\nwe may or may not scan it regularly,\n\n408\n00:20:55.067 --> 00:20:57.698\nlooking for viruses,\nmalware, things like that.\n\n409\n00:20:57.698 --> 00:21:01.583\nWhereas if we centrally manage all\nthat data, it becomes much easier for\n\n410\n00:21:01.583 --> 00:21:04.333\nus to control, reproduce it,\nbut also secure it.\n\n411\n00:21:04.333 --> 00:21:08.210\nPeople often overlook the value of folder\nredirection from a security standpoint.\n\n412\n00:21:08.210 --> 00:21:13.217\nWe give each user their own subdirectory\nin some sort of hierarchical structure and\n\n413\n00:21:13.217 --> 00:21:18.222\nessentially tie it to a user profile that\ncan become a roaming profile available for\n\n414\n00:21:18.222 --> 00:21:19.668\nthem anywhere they go.\n\n415\n00:21:19.668 --> 00:21:23.197\nWe now control that data with all\nthe things I just talked about but\n\n416\n00:21:23.197 --> 00:21:26.791\nwe also block other users from seeing\nit because we lock them out and\n\n417\n00:21:26.791 --> 00:21:28.800\napply access control permissions.\n\n418\n00:21:28.800 --> 00:21:29.385\nSo that way,\n\n419\n00:21:29.385 --> 00:21:32.908\nessentially that data is tied to that user\nin a way that it becomes more secure.\n\n420\n00:21:32.908 --> 00:21:36.823\nSo these are things that would be valuable\nthat we just wanna think about in regards\n\n421\n00:21:36.823 --> 00:21:38.380\nto full redirection.\n\n422\n00:21:38.380 --> 00:21:42.666\nThere is a lot of capabilities and\npotential value in using full redirection.\n\n423\n00:21:42.666 --> 00:21:43.638\nBut we do have to go in and\n\n424\n00:21:43.638 --> 00:21:46.040\nthink through the logic of how\nto enable this and set it up.\n\n425\n00:21:46.040 --> 00:21:48.440\nIt's not just a matter of saying hey,\nI'm gonna do that and\n\n426\n00:21:48.440 --> 00:21:49.644\nsuddenly it starts working.\n\n427\n00:21:49.644 --> 00:21:51.050\nThere is some background work, right?\n\n428\n00:21:51.050 --> 00:21:52.726\nA little bit of thought\nprocess that goes into this.\n\n429\n00:21:52.726 --> 00:21:53.928\nWe're gonna talk about that, but\n\n430\n00:21:53.928 --> 00:21:56.794\nCherokee is gonna talk about something\nI'm hoping related to full redirection.\n\n431\n00:21:56.794 --> 00:21:58.677\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm not sure but,\n\n432\n00:21:58.677 --> 00:22:00.980\nshe wants to ask a question or\nadd a comment, so just quickly,\n\n433\n00:22:00.980 --> 00:22:01.888\nwhat did you wanna say?\n\n434\n00:22:01.888 --> 00:22:03.750\n&gt;&gt; I just wanna add to that Adam,\n\n435\n00:22:03.750 --> 00:22:08.306\nbecause I think it is kind of\nan under-utilized technology sometimes.\n\n436\n00:22:08.306 --> 00:22:13.687\nBecause we do have other options nowadays,\nespecially even with cloud computing and\n\n437\n00:22:13.687 --> 00:22:17.583\nthe ability to store files remotely and\nprovide that backup.\n\n438\n00:22:17.583 --> 00:22:20.901\nBut for\nmaybe a company that has a limited budget,\n\n439\n00:22:20.901 --> 00:22:26.050\nthis isn't something that cost anything\nadditional to go ahead and deploy.\n\n440\n00:22:26.050 --> 00:22:30.220\nI mean, as long as you have that central\nstore to be able to save those files and\n\n441\n00:22:30.220 --> 00:22:33.571\nthe storage requirements there and\nalso you're keeping it.\n\n442\n00:22:33.571 --> 00:22:35.480\nYou have the ability to keep in house.\n\n443\n00:22:35.480 --> 00:22:38.397\nYou don't have to rely on a third\nparty like you see with that cloud and\n\n444\n00:22:38.397 --> 00:22:40.022\nthere are other solutions out there.\n\n445\n00:22:40.022 --> 00:22:41.220\nBut this is a really great one.\n\n446\n00:22:41.220 --> 00:22:44.897\nIt's been around for a while and\ndefinitely a look into that if you've\n\n447\n00:22:44.897 --> 00:22:48.215\nnever heard of work folders and\nwe'll take a look at that here.\n\n448\n00:22:48.215 --> 00:22:50.557\n&gt;&gt; Well, yeah, we'll call it\nfolder redirection generically.\n\n449\n00:22:50.557 --> 00:22:52.012\n&gt;&gt; Sorry, I did say work folders.\n\n450\n00:22:52.012 --> 00:22:55.350\nI'm thinking of those other ways to\ngo ahead and deploy that [CROSSTALK].\n\n451\n00:22:55.350 --> 00:22:56.124\n&gt;&gt; No, there are.\n\n452\n00:22:56.124 --> 00:22:59.228\nJust generically we'll just\ncall it folder redirection.\n\n453\n00:22:59.228 --> 00:23:01.582\nBut it's essentially the same technology,\nright?\n\n454\n00:23:01.582 --> 00:23:05.420\nThe thought process more or\nless will be the same.\n\n455\n00:23:05.420 --> 00:23:07.226\nI was just about to put\nup a list real quick, so\n\n456\n00:23:07.226 --> 00:23:08.523\ngive me just a second to do that.\n\n457\n00:23:08.523 --> 00:23:10.526\nBut what could be redirected?\n\n458\n00:23:10.526 --> 00:23:13.334\nInstead of just rattling off a list, it's\neasier just to look at the show notes and\n\n459\n00:23:13.334 --> 00:23:14.322\nshow you what we have there.\n\n460\n00:23:14.322 --> 00:23:15.601\nBut you can see.\n\n461\n00:23:15.601 --> 00:23:20.145\nApp data,\nI mentioned roaming profile related stuff.\n\n462\n00:23:20.145 --> 00:23:23.123\nContacts, Desktop,\nI mentioned things like My Documents.\n\n463\n00:23:23.123 --> 00:23:24.985\nCherokee mentioned some other stuff.\n\n464\n00:23:24.985 --> 00:23:26.445\nI mentioned music, pictures.\n\n465\n00:23:26.445 --> 00:23:29.120\nAlthough again,\nin the corporate environment, that may or\n\n466\n00:23:29.120 --> 00:23:31.100\nmay not necessarily be what you want.\n\n467\n00:23:31.100 --> 00:23:32.356\nVideos, things like that.\n\n468\n00:23:32.356 --> 00:23:35.980\nBut any of the local data on a machine,\nunique to that user,\n\n469\n00:23:35.980 --> 00:23:40.548\npart of their work creation effort,\ntheir use of the system, falls into,\n\n470\n00:23:40.548 --> 00:23:43.321\nalmost without exception, this category.\n\n471\n00:23:43.321 --> 00:23:47.670\nThe other thing is that the folder\nappears to be local to the user, right?\n\n472\n00:23:47.670 --> 00:23:52.640\nSo when we redirect and it's stored out on\nthe shared Drive somewhere in the Cloud or\n\n473\n00:23:52.640 --> 00:23:53.776\nwhatever you set or\n\n474\n00:23:53.776 --> 00:23:58.190\non a folder rather on a file server\nsomewhere up in our network to the user.\n\n475\n00:23:58.190 --> 00:23:59.870\nWhen they go to save their data,\n\n476\n00:23:59.870 --> 00:24:02.030\nit appears as if they're\nsaving it on the machine.\n\n477\n00:24:02.030 --> 00:24:05.210\nThey don't really understand or see to\nthem, it's transparent in other words.\n\n478\n00:24:05.210 --> 00:24:07.620\nThat they're actually\nconnecting out to something.\n\n479\n00:24:07.620 --> 00:24:10.540\nWe often hear people say I saved\neverything to the x drive.\n\n480\n00:24:10.540 --> 00:24:12.585\nWhere you're like talk to the people and\nthey're like, yeah,\n\n481\n00:24:12.585 --> 00:24:13.581\nI don't know where my stuff is.\n\n482\n00:24:13.581 --> 00:24:14.564\n&gt;&gt; Don't you have that too?\n\n483\n00:24:14.564 --> 00:24:15.427\n&gt;&gt; Don't you have an x drive?\n\n484\n00:24:15.427 --> 00:24:17.314\n&gt;&gt; [LAUGH]\n&gt;&gt; And the average user may or\n\n485\n00:24:17.314 --> 00:24:21.239\nmay not realize that the x drive is\na drive map that is obviously pointing\n\n486\n00:24:21.239 --> 00:24:24.512\nto a UNC somewhere that their\ndata is actually stored on that\n\n487\n00:24:24.512 --> 00:24:28.740\nIT may have provided or configured or\nwhatever the case may be for that.\n\n488\n00:24:28.740 --> 00:24:32.750\nSo, just wanna make sure we're aware of\nthat and think about the fact to the user,\n\n489\n00:24:32.750 --> 00:24:34.250\nit maybe transparent.\n\n490\n00:24:34.250 --> 00:24:38.560\nNormally you don't even see or really\nunderstand the fact that they hit save or\n\n491\n00:24:38.560 --> 00:24:40.989\nsave as and name a file,\nwhatever it maybe.\n\n492\n00:24:40.989 --> 00:24:46.010\nBut the default path and location is often\nhard coded when we do folder redirection.\n\n493\n00:24:46.010 --> 00:24:49.920\nAnd as a result, the default location for\nsaving in Microsoft Office,\n\n494\n00:24:49.920 --> 00:24:53.390\npick your product whatever it may be,\nWord, PowerPoint,\n\n495\n00:24:53.390 --> 00:24:57.530\nExcel, any of those productivity\ntools we use to create content.\n\n496\n00:24:57.530 --> 00:25:00.888\nThat we can actually reach in and\ncontrol that as well with the appropriate\n\n497\n00:25:00.888 --> 00:25:03.607\nadministrative templates and\nthe appropriate settings.\n\n498\n00:25:03.607 --> 00:25:07.260\nWe can actually hard code those\ndefault save to locations.\n\n499\n00:25:07.260 --> 00:25:11.780\nAnd redirect that work output\nup to a share on a file server.\n\n500\n00:25:11.780 --> 00:25:16.500\nWe can upload it into a file library or\na document library,\n\n501\n00:25:16.500 --> 00:25:19.520\nlet me use the proper terminology\nwith SharePoint for instance.\n\n502\n00:25:19.520 --> 00:25:23.789\nSo we can actually link that users\ncapability to save to SharePoint directly,\n\n503\n00:25:23.789 --> 00:25:27.153\nleveraging some of the modern\nenterprise content management\n\n504\n00:25:27.153 --> 00:25:29.434\ncapabilities we have across platforms.\n\n505\n00:25:29.434 --> 00:25:33.604\nAs we look at a suite of products from\nMicrosoft as supposed just looking at\n\n506\n00:25:33.604 --> 00:25:36.782\nthe OS separately from all\nthe capabilities around it.\n\n507\n00:25:36.782 --> 00:25:39.142\nAnd as we start to broaden\nour thought process,\n\n508\n00:25:39.142 --> 00:25:42.685\nwe can do a variety of things that\nreally become very enabling, right?\n\n509\n00:25:42.685 --> 00:25:45.727\nWith regards to how users produce\ncontent and what they are able to do.\n\n510\n00:25:45.727 --> 00:25:48.937\nSo there lots of capabilities here,\nbut we do have to just think about\n\n511\n00:25:48.937 --> 00:25:51.057\nthe logic of how we're gonna deploy those,\nwhat they may mean.\n\n512\n00:25:51.057 --> 00:25:54.557\nAnd of course, obviously, how they're\ngoing to then become valuable for us.\n\n513\n00:25:54.557 --> 00:25:56.827\nAnd so there's different\nsettings that are available for\n\n514\n00:25:56.827 --> 00:25:58.755\nfolder redirection since\nI have my notes up.\n\n515\n00:25:58.755 --> 00:26:01.590\nWe just quickly take a look at them\ninstead of me just talking about them?\n\n516\n00:26:01.590 --> 00:26:03.390\nWe'll just go full screen just so\nyou can kind of see and\n\n517\n00:26:03.390 --> 00:26:04.900\nI'm not sitting [LAUGH] over part of it.\n\n518\n00:26:04.900 --> 00:26:06.570\nWe'll just show it to you real quick.\n\n519\n00:26:06.570 --> 00:26:09.670\nThe default setting means no\nfolder redirection enabled.\n\n520\n00:26:09.670 --> 00:26:13.420\nThe basic setting allows you to specify\nusers who are directing out to a common\n\n521\n00:26:13.420 --> 00:26:17.830\narea versus users who may need to have\nprivate data where we can segment and\n\n522\n00:26:17.830 --> 00:26:22.360\nas I said, control what that may\nlook like on a per user basis.\n\n523\n00:26:22.360 --> 00:26:24.360\nAnd then we specify network locations for\n\n524\n00:26:24.360 --> 00:26:27.275\ndifferent AD security groups\nunder what's called advanced.\n\n525\n00:26:27.275 --> 00:26:31.305\nAnd then we could do what's called follow\nthe documents folder available for\n\n526\n00:26:31.305 --> 00:26:32.565\npictures, music, videos.\n\n527\n00:26:32.565 --> 00:26:36.924\nAgain, in a corporate world, corporate\nenvironment I don't tend to see this is\n\n528\n00:26:36.924 --> 00:26:39.430\nbeing a setting that makes as much sense.\n\n529\n00:26:39.430 --> 00:26:42.180\nWe don't typically use that.\n\n530\n00:26:42.180 --> 00:26:43.920\nThat may be used in certain environments.\n\n531\n00:26:43.920 --> 00:26:47.301\nObviously, if you have people that\nare working in graphic design,\n\n532\n00:26:47.301 --> 00:26:49.093\nif they're working in marketing.\n\n533\n00:26:49.093 --> 00:26:54.190\nI can envision a variety of roles where\nyou may have those things going on.\n\n534\n00:26:54.190 --> 00:26:57.330\nBut many of my corporate\nclients just don't want people,\n\n535\n00:26:57.330 --> 00:26:59.730\nright dealing with those\nthings on the work side.\n\n536\n00:26:59.730 --> 00:27:03.090\nAnd they don't actually use those\ncapabilities, so that setting may or\n\n537\n00:27:03.090 --> 00:27:05.050\nmay not work for\nyou is all I'm suggesting.\n\n538\n00:27:05.050 --> 00:27:06.420\nBut you could do that and\n\n539\n00:27:06.420 --> 00:27:09.040\nyou could obviously have\nthose then uploaded as well.\n\n540\n00:27:09.040 --> 00:27:12.700\nBut we can do the same thing by just\nsimply redirecting the majority from\n\n541\n00:27:12.700 --> 00:27:16.500\nall of the user folders and\nprofile up to a standard setting.\n\n542\n00:27:16.500 --> 00:27:17.850\nWe can do that either way.\n\n543\n00:27:17.850 --> 00:27:20.119\nYou can essentially,\nachieve the same result.\n\n544\n00:27:20.119 --> 00:27:23.226\nAll right, so the target folder\nlocation for both basic and\n\n545\n00:27:23.226 --> 00:27:25.665\nadvance settings,\nI have those here as well.\n\n546\n00:27:25.665 --> 00:27:27.360\nWe can quickly just take a look those.\n\n547\n00:27:27.360 --> 00:27:30.940\nIf we can go back to the full screen\nas you can see the text behind me.\n\n548\n00:27:30.940 --> 00:27:33.780\nSo, we'll create a folder for\neach user under the root path.\n\n549\n00:27:33.780 --> 00:27:36.547\nAnd that folder typically\nin the form of the UNC.\n\n550\n00:27:36.547 --> 00:27:38.490\nIf you've done it just\nwell I'm highlighting it.\n\n551\n00:27:38.490 --> 00:27:41.770\nIf you've done this before and I know\nyou've done folder redirection before,\n\n552\n00:27:41.770 --> 00:27:44.250\nmost of us have some\nexposure to it I'm sure.\n\n553\n00:27:44.250 --> 00:27:47.200\nYou're just really creating\nthe shared path up on the target\n\n554\n00:27:47.200 --> 00:27:51.140\nresource that you wanna provide for\nstorage server of some kind.\n\n555\n00:27:51.140 --> 00:27:58.049\nSo imagine that's file server one slash\nusers slash the user account name\n\n556\n00:27:58.049 --> 00:28:03.185\nCherokee, Adam, Mike,\nright, whatever it may be.\n\n557\n00:28:03.185 --> 00:28:06.408\nAnd then a folder name underneath\neach user has that path for\n\n558\n00:28:06.408 --> 00:28:07.900\ntheir redirected folder.\n\n559\n00:28:07.900 --> 00:28:09.500\nSo that remains private as I said,\n\n560\n00:28:09.500 --> 00:28:13.705\nwe could secure that obviously and make\nsure we grant exclusive rights to that.\n\n561\n00:28:13.705 --> 00:28:17.840\nAnd the current contents of the folder\nwill move to that new location for\n\n562\n00:28:17.840 --> 00:28:20.150\ndocuments for instance, right?\n\n563\n00:28:20.150 --> 00:28:22.257\nSo we will do that.\n\n564\n00:28:22.257 --> 00:28:25.471\nAnd as a result, we will go in and\n\n565\n00:28:25.471 --> 00:28:31.080\nalso then have the ability\nto control what's going on.\n\n566\n00:28:31.080 --> 00:28:33.700\nWe may direct to an explicit path.\n\n567\n00:28:33.700 --> 00:28:36.050\nRight, multiple users can\nuse the same share path and\n\n568\n00:28:36.050 --> 00:28:40.290\nthen underneath that we can\ndecide to create sub directories.\n\n569\n00:28:40.290 --> 00:28:43.200\nWe could redirect to the local\nuser profile location or\n\n570\n00:28:43.200 --> 00:28:44.860\nredirect to the user's home directory.\n\n571\n00:28:44.860 --> 00:28:48.530\nAgain, that one's specific for\nthe documents folder.\n\n572\n00:28:48.530 --> 00:28:50.080\nBut we have different options, right?\n\n573\n00:28:50.080 --> 00:28:52.030\nAnd we can obviously decide to do that.\n\n574\n00:28:52.030 --> 00:28:54.870\nBut when we remove folder redirection\nwhich is really important.\n\n575\n00:28:54.870 --> 00:28:58.160\nI have a little note here before we just\nclick and take a look at permissions\n\n576\n00:28:58.160 --> 00:29:00.950\nwhich is the document reference\nat the bottom of the screen.\n\n577\n00:29:00.950 --> 00:29:03.670\nIf we decide to remove\nfolder redirection and\n\n578\n00:29:03.670 --> 00:29:06.800\nas I point out there, you have to think\nabout what happens with that data, right?\n\n579\n00:29:06.800 --> 00:29:11.170\nBecause we moved it all up\ninto the sky somewhere.\n\n580\n00:29:11.170 --> 00:29:12.690\nInto the cloud, right?\n\n581\n00:29:12.690 --> 00:29:17.885\nWhatever that redirected folder,\nspecific path, or specificity may be.\n\n582\n00:29:17.885 --> 00:29:22.230\nAnd as I point out there, the default is\nleaving the data in the redirected folder.\n\n583\n00:29:22.230 --> 00:29:25.750\nIt doesn't, in other words,\nautomatically revert back down.\n\n584\n00:29:25.750 --> 00:29:28.770\nAnd we have to think about what we're\ndoing and how we're managing and\n\n585\n00:29:28.770 --> 00:29:30.120\noptimizing that.\n\n586\n00:29:30.120 --> 00:29:31.730\nBecause we may have to go get the data for\n\n587\n00:29:31.730 --> 00:29:36.180\nthe user after we remove the policy that\nredirects and bring it back for them.\n\n588\n00:29:36.180 --> 00:29:37.150\nOr they'll go to use it and\n\n589\n00:29:37.150 --> 00:29:39.790\nit won't be there which could\nbe a bit of a disruption.\n\n590\n00:29:39.790 --> 00:29:43.930\nSo just a question that you just want\nto ask in your mind and think about.\n\n591\n00:29:43.930 --> 00:29:46.740\nWe don't often go into\nsetting up a policy.\n\n592\n00:29:46.740 --> 00:29:47.330\nThinking okay,\n\n593\n00:29:47.330 --> 00:29:50.280\nwhen I get rid of this policy at some\npoint in the future what's gonna happen.\n\n594\n00:29:50.280 --> 00:29:52.550\nWe just deploy the policy,\ntypically what we do.\n\n595\n00:29:52.550 --> 00:29:54.910\nHey, I'm being told that I\nneed to redirect that data.\n\n596\n00:29:54.910 --> 00:29:56.540\nHow am I gonna deal with that,\nwhat am I gonna do?\n\n597\n00:29:56.540 --> 00:30:00.440\nLet me go figure out the policy settings\nand make sure I know how to do that.\n\n598\n00:30:00.440 --> 00:30:03.644\nAnd let me set it up and then it's\ngood but the problem of course may\n\n599\n00:30:03.644 --> 00:30:06.906\nbecome at some point,\nyou may come up with different technology,\n\n600\n00:30:06.906 --> 00:30:09.482\ndifferent way doing this\nrequirements may change.\n\n601\n00:30:09.482 --> 00:30:13.698\nAnd we may no longer wanted to folder\nredirection and as a result of that,\n\n602\n00:30:13.698 --> 00:30:18.263\nwe may then have to change this approach\nin a great perfect kind of storm example\n\n603\n00:30:18.263 --> 00:30:20.770\nof this is the idea of folder redirection.\n\n604\n00:30:20.770 --> 00:30:24.570\nOlder technology as we've talked about\nin the sense has been around a long time\n\n605\n00:30:24.570 --> 00:30:25.490\nas a capability.\n\n606\n00:30:25.490 --> 00:30:27.793\nAt one point we had this\nidea of work folders and\n\n607\n00:30:27.793 --> 00:30:31.412\ndifferent ways of approaching this but\nessentially it was all the same.\n\n608\n00:30:31.412 --> 00:30:35.610\nAnd then several years ago,\nit's part of this evolving process.\n\n609\n00:30:35.610 --> 00:30:37.800\nWe also get this idea of hey,\n\n610\n00:30:37.800 --> 00:30:40.720\nlet's virtualize not just\nthe environments on servers.\n\n611\n00:30:40.720 --> 00:30:44.062\nLet's do what's called VDI,\nvirtual desktop, right, infrastructure.\n\n612\n00:30:44.062 --> 00:30:47.295\nLet's create entire virtual\ninstances of operating\n\n613\n00:30:47.295 --> 00:30:51.816\nsystems that could be deployed on demand\nlike a roaming profile to a user but\n\n614\n00:30:51.816 --> 00:30:55.499\ninstead of just their data coming\ndown to their fixed asset.\n\n615\n00:30:55.499 --> 00:30:59.423\nLet's actually deploy\nthe entire operating system and\n\n616\n00:30:59.423 --> 00:31:02.760\nall the data with it as\npart of that process.\n\n617\n00:31:02.760 --> 00:31:05.600\nAnd regardless of the vendor that does\nthis Microsoft certainly has this\n\n618\n00:31:05.600 --> 00:31:09.790\ncapability, has for many years,\nmany other vendors,\n\n619\n00:31:09.790 --> 00:31:12.640\nthat I'm sure come to the tip of\nyour tongue and you can understand.\n\n620\n00:31:12.640 --> 00:31:16.610\nAnd think through the logic of who\nthey may be also playing the space.\n\n621\n00:31:16.610 --> 00:31:21.190\nYou have companies like VMware, companies\nlike Citrix offer this technology as well.\n\n622\n00:31:21.190 --> 00:31:23.870\nAll the major virtualization\nvendors today do but\n\n623\n00:31:23.870 --> 00:31:27.900\nit's becoming much more common to\nvirtualize the desktop infrastructure.\n\n624\n00:31:27.900 --> 00:31:32.510\nAnd if we move to a VDI solution\naway from simple folder redirection.\n\n625\n00:31:32.510 --> 00:31:37.158\nWe have to rethink the logic of what we're\ndoing with folder redirection because it's\n\n626\n00:31:37.158 --> 00:31:39.462\nnow a subset of a much broader technology.\n\n627\n00:31:39.462 --> 00:31:43.147\nAnd we're deploying the user data\nas part of the folder redirection.\n\n628\n00:31:43.147 --> 00:31:47.087\nIn other words, becomes part of that\nthought process of bringing the OS down.\n\n629\n00:31:47.087 --> 00:31:49.853\nFor the user to whatever\ndevice they may log in to, and\n\n630\n00:31:49.853 --> 00:31:52.390\nas a result,\nwe may have to change our approach.\n\n631\n00:31:52.390 --> 00:31:56.270\nMaybe we still use folder redirection\npolicy base, maybe we don't.\n\n632\n00:31:56.270 --> 00:31:59.700\nMaybe we actually just put\neverything into a VDI instance, and\n\n633\n00:31:59.700 --> 00:32:03.750\nthat VDI instance becomes the operational\nenvironment for the user.\n\n634\n00:32:03.750 --> 00:32:06.230\nAnd we still home their\ndata somewhere else, but\n\n635\n00:32:06.230 --> 00:32:09.500\nmaybe we use a different technology\nto create that opportunity.\n\n636\n00:32:09.500 --> 00:32:12.140\nMaybe we stay with folder redirection,\nit's hard to say.\n\n637\n00:32:12.140 --> 00:32:14.500\nBut just keeping in mind that\nif we did have to remove it for\n\n638\n00:32:14.500 --> 00:32:18.300\nsome reason, we would have to think\nabout what the outcome of that is.\n\n639\n00:32:18.300 --> 00:32:21.650\nAnd if we don't pull the data back\nautomatically, make steps, or\n\n640\n00:32:21.650 --> 00:32:23.700\ntake steps to ensure that's gonna happen.\n\n641\n00:32:23.700 --> 00:32:29.380\nI've talked about also, the fact that\nbefore in some of our prior conversations,\n\n642\n00:32:29.380 --> 00:32:32.020\npolicies may not apply\nthe first time a user logs in.\n\n643\n00:32:32.020 --> 00:32:34.930\nReminding you that because\nof cached credentials and\n\n644\n00:32:34.930 --> 00:32:37.590\naccelerated user log on capabilities.\n\n645\n00:32:37.590 --> 00:32:41.874\nBecause of the use of cached credentials\nto get users into environments quicker,\n\n646\n00:32:41.874 --> 00:32:45.611\nspeeding them up in term of the front\nend loading of the system for them.\n\n647\n00:32:45.611 --> 00:32:49.523\nAnd the application of policy being\npart of that cache credential and\n\n648\n00:32:49.523 --> 00:32:54.050\nnot refreshing every time they go in,\nwe may see multiple iterations, right?\n\n649\n00:32:54.050 --> 00:32:56.210\nBefore the policy actually applies, and so\n\n650\n00:32:56.210 --> 00:32:58.330\nyou get these weird instances every so\noften.\n\n651\n00:32:58.330 --> 00:33:02.150\nWhere a user will log in, and folder\nredirection doesn't take place right away,\n\n652\n00:33:02.150 --> 00:33:04.590\nand they think or you think,\nhey, it's not working.\n\n653\n00:33:04.590 --> 00:33:08.600\nAnd then they log off, log back in, or\nrestart the machine and log back in, and\n\n654\n00:33:08.600 --> 00:33:09.670\nall of a sudden it kicks in.\n\n655\n00:33:09.670 --> 00:33:11.730\nBut maybe it took two or three log ons for\n\n656\n00:33:11.730 --> 00:33:15.060\nit to take effect, because of\nthe use of cache credentials, and\n\n657\n00:33:15.060 --> 00:33:18.740\nthe impact of policy against cache\ncredentials, as I've spoken about before.\n\n658\n00:33:18.740 --> 00:33:20.150\nSo just keep that in mind.\n\n659\n00:33:20.150 --> 00:33:23.970\nAgain, it's one of those things that\njust as a broad context, the background\n\n660\n00:33:23.970 --> 00:33:27.830\naround this thought process, we have to\njust keep in mind that things do work.\n\n661\n00:33:27.830 --> 00:33:31.423\nBut they may not always work exactly\nas advertised the very first time, and\n\n662\n00:33:31.423 --> 00:33:33.946\nthere may be reasons why we\nhave to see that iterate.\n\n663\n00:33:33.946 --> 00:33:37.565\nAnd there may be additional factors,\nlike what are we redirecting, where to,\n\n664\n00:33:37.565 --> 00:33:39.132\nhow, under what circumstances,\n\n665\n00:33:39.132 --> 00:33:42.060\nand how do we pull it back if\nwe wanna stop the redirection?\n\n666\n00:33:42.060 --> 00:33:44.314\nThat we should consider as we\nlook at the technology and\n\n667\n00:33:44.314 --> 00:33:45.541\nunderstand how to deploy it.\n\n668\n00:33:45.541 --> 00:33:47.789\nIt is something very valuable as a tool.\n\n669\n00:33:47.789 --> 00:33:49.580\nDefinitely something you wanna think of.\n\n670\n00:33:49.580 --> 00:33:51.730\nIn the upcoming episode,\nwe're gonna have right after this one,\n\n671\n00:33:51.730 --> 00:33:53.310\ncuz if I'm not mistaken, right.\n\n672\n00:33:53.310 --> 00:33:54.517\nWe are just about out of time.\n\n673\n00:33:54.517 --> 00:33:57.471\nBut I will show you that document\nI mentioned in the show notes that\n\n674\n00:33:57.471 --> 00:34:00.803\nI was referencing about permissions\nrequired to use folder, excuse me,\n\n675\n00:34:00.803 --> 00:34:03.240\nto use folder redirection\nwe'll take a look at that.\n\n676\n00:34:03.240 --> 00:34:06.110\nI have a nice little table set up,\njust to show you the dos and donts there,\n\n677\n00:34:06.110 --> 00:34:07.930\nand we'll just take a look\nat the policy settings.\n\n678\n00:34:07.930 --> 00:34:09.900\nI mentioned them,\nshowed them to you real quickly.\n\n679\n00:34:09.900 --> 00:34:10.890\nI'll go back into the editor,\n\n680\n00:34:10.890 --> 00:34:14.245\nwe'll just make sure you see how to do\nthat, where those policy settings are.\n\n681\n00:34:14.245 --> 00:34:16.795\nJust see you understand the way\nin which you'll accomplish this.\n\n682\n00:34:16.795 --> 00:34:18.995\nThat way you can use\nthe technology if you choose to.\n\n683\n00:34:18.995 --> 00:34:22.135\n&gt;&gt; All right so, so far in this episode\nwe've done a lot of different things.\n\n684\n00:34:22.135 --> 00:34:25.275\nLooking at the different feature rich\ncapabilities for our group policy\n\n685\n00:34:25.275 --> 00:34:29.820\nmanagement interface there and we also\nlooked at some different types of tools.\n\n686\n00:34:29.820 --> 00:34:33.295\nAnd then we were able to take a look,\nalso, at our folder redirection.\n\n687\n00:34:33.295 --> 00:34:38.495\nWe got there, although I was\na little [LAUGH] pessimistic.\n\n688\n00:34:38.495 --> 00:34:41.850\n&gt;&gt; Hey, hey, hey.\nI mentioned it, we discussed it.\n\n689\n00:34:41.850 --> 00:34:44.510\nWe got over halfway through it, and\n\n690\n00:34:44.510 --> 00:34:47.236\nI'm claiming victory because\nwe got it into that episode.\n\n691\n00:34:47.236 --> 00:34:47.959\n&gt;&gt; Well, thank you for that, Adam.\n\n692\n00:34:47.959 --> 00:34:49.809\n&gt;&gt; All right.\n&gt;&gt; And thank you for being here as well,\n\n693\n00:34:49.809 --> 00:34:52.950\nbut we do have additional information\nto cover, so don't go anywhere.\n\n694\n00:34:52.950 --> 00:34:54.500\nWe'll go ahead and sign out for this show.\n\n695\n00:34:54.500 --> 00:34:56.290\nI've been your host, Cherokee Boose.\n\n696\n00:34:56.290 --> 00:34:56.910\n&gt;&gt; I'm Adam Gordon.\n\n697\n00:34:56.910 --> 00:35:01.366\n&gt;&gt; See you next time here at ITProTV.\n\n698\n00:35:01.366 --> 00:35:06.089\n[MUSIC]\n\n699\n00:35:06.089 --> 00:35:08.010\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231754149"
        },
        {
          "description": "In this show, Cherokee and Adam continue to examine managing users with Group Policy. Adam demonstrates how to set up folder redirection and explains how to troubleshoot some issues that may arise. Next, they discuss how a preference differs from a policy. Adam also demonstrates how to manage software with Group Policy.",
          "length": "2502",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-4-managing_user_settings_with_group_policy_pt4-082917-CLN.00_41_24_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-4-managing_user_settings_with_group_policy_pt4-082917-CLN.00_41_24_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-4-managing_user_settings_with_group_policy_pt4-082917-CLN.00_41_24_06.Still001-sm.jpg",
          "title": "Managing User Settings with Group Policy Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:01.794\nWelcome to IT Pro TV I'm your host Dan.\n\n2\n00:00:01.794 --> 00:00:06.977\n[CROSSTALK]\n[MUSIC]\n\n3\n00:00:06.977 --> 00:00:11.240\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:11.240 --> 00:00:14.897\n&gt;&gt; Welcome back to identity with\nWindows Server 2016 series.\n\n5\n00:00:14.897 --> 00:00:16.916\nI'm your show host Cherokee Boose.\n\n6\n00:00:16.916 --> 00:00:21.579\nIn this episode we'll pick back up\nwith our conversation where we were\n\n7\n00:00:21.579 --> 00:00:25.227\nlooking at managing user\nsettings with group policy.\n\n8\n00:00:25.227 --> 00:00:29.434\nBack with us in studios today we\nhave Microsoft expert Adam Gordon.\n\n9\n00:00:29.434 --> 00:00:31.876\nAdam, we can go ahead and\nget started with this show,\n\n10\n00:00:31.876 --> 00:00:34.663\nif I can get my words out properly,\nand we'll, boy then.\n\n11\n00:00:34.663 --> 00:00:36.474\n[CROSSTALK]\n&gt;&gt; All right, not yesterday, but today and\n\n12\n00:00:36.474 --> 00:00:39.300\nuser settings with group policy,\nnot user and group management.\n\n13\n00:00:39.300 --> 00:00:39.813\n&gt;&gt; That's right.\n\n14\n00:00:39.813 --> 00:00:42.297\n&gt;&gt; All right, so we are gonna\ncontinue our conversations, and\n\n15\n00:00:42.297 --> 00:00:43.915\nwe're gonna pick up where we left off.\n\n16\n00:00:43.915 --> 00:00:46.193\nCherokee was suggesting we\nhad talked in prior episode,\n\n17\n00:00:46.193 --> 00:00:49.382\nif you have not had a chance to see that,\ndefinitely wanna go back, take a look.\n\n18\n00:00:49.382 --> 00:00:52.834\nSpawned a really interesting set of\nconversations that will continue to pick\n\n19\n00:00:52.834 --> 00:00:56.110\nup the thread on here,\nwhich was around fold and redirection.\n\n20\n00:00:56.110 --> 00:00:59.815\nAt the end of the conversation we had\ntalked about the idea of using group\n\n21\n00:00:59.815 --> 00:01:02.179\npolicy to manage an aspect\nof user settings.\n\n22\n00:01:02.179 --> 00:01:04.913\nOne that is often,\nas I think you pointed out,\n\n23\n00:01:04.913 --> 00:01:08.983\nperhaps overlooked sometimes\nthe ability to redirect folder data or\n\n24\n00:01:08.983 --> 00:01:13.420\ndata from the user desktop folders,\nmy pictures, my documents, right.\n\n25\n00:01:13.420 --> 00:01:17.431\nThings like that, application data,\nroaming profile data and\n\n26\n00:01:17.431 --> 00:01:22.186\ncontrol it stori-typically somewhere\ncentrally on a server in the network\n\n27\n00:01:22.186 --> 00:01:25.320\naccessible through the UNC\na shared public path.\n\n28\n00:01:25.320 --> 00:01:29.477\nAnd then make that available to the\nindividual user or perhaps from a joint\n\n29\n00:01:29.477 --> 00:01:34.440\nlocation managed on behalf of all users\nthe individual data then comes back down.\n\n30\n00:01:34.440 --> 00:01:38.408\nWe talked about the security and the\nmanagement implications of doing this is\n\n31\n00:01:38.408 --> 00:01:41.348\nwhy it's important to be able\nto segment that user data.\n\n32\n00:01:41.348 --> 00:01:43.304\nWe talked about the recoverability and\n\n33\n00:01:43.304 --> 00:01:46.770\nsurvivability of that data by\ngetting it off the local machine.\n\n34\n00:01:46.770 --> 00:01:49.318\nHaving it centrally managed and\nbacked up through a redirect.\n\n35\n00:01:49.318 --> 00:01:52.720\nAnd we agreed that it was a really good\nidea to think about doing these things.\n\n36\n00:01:52.720 --> 00:01:53.989\nWe talked about all that, that was great.\n\n37\n00:01:53.989 --> 00:01:56.160\nBut we missed on two\nvery important points.\n\n38\n00:01:56.160 --> 00:01:59.614\nI had a document I promised I was gonna\nshow you, invited you to come back,\n\n39\n00:01:59.614 --> 00:02:01.870\nsee us here for\nthis particular conversation.\n\n40\n00:02:01.870 --> 00:02:04.802\nWe're gonna do that in a moment,\nabout the security requirements and\n\n41\n00:02:04.802 --> 00:02:07.449\npermissions associated with\nsetting up folder redirection.\n\n42\n00:02:07.449 --> 00:02:10.300\nIn other words, what permissions do we\nneed to do that and how do we do it?\n\n43\n00:02:10.300 --> 00:02:14.163\nAnd how do we do it piece was I promised\nyou I'd show you a quick little demo as we\n\n44\n00:02:14.163 --> 00:02:17.739\noften try to do in the policy editor,\nin this case we'll be in the GPMC.\n\n45\n00:02:17.739 --> 00:02:22.110\nI have a sample policy already set up and\nlabelled folder redirection.\n\n46\n00:02:22.110 --> 00:02:23.280\nWe'll just go and edit that.\n\n47\n00:02:23.280 --> 00:02:26.808\nTake a look at the settings both in\nthe computer area and the user area.\n\n48\n00:02:26.808 --> 00:02:31.670\nHad a really interesting conversation\nthat got spawned coming out of the last\n\n49\n00:02:31.670 --> 00:02:33.556\nepisode around issues of us.\n\n50\n00:02:33.556 --> 00:02:37.956\nJust dealing with where we set that\nredirection up, whether it is a computer\n\n51\n00:02:37.956 --> 00:02:41.630\nbased setting or a user based setting and\nhow we drive that.\n\n52\n00:02:41.630 --> 00:02:45.392\nAnd some of the concerns we have perhaps\nfrom a troubleshooting perspective around\n\n53\n00:02:45.392 --> 00:02:47.177\nthings that may or may not be apparent.\n\n54\n00:02:47.177 --> 00:02:48.587\nWe do have some new features and\n\n55\n00:02:48.587 --> 00:02:52.510\ncapabilities in the last few versions of\nthe OS, that may get in the way of that.\n\n56\n00:02:52.510 --> 00:02:55.094\nReplication of that data can\nbecome a little bit problematic,\n\n57\n00:02:55.094 --> 00:02:57.540\ndepending on what we're doing and\nhow we're managing it.\n\n58\n00:02:57.540 --> 00:02:59.144\nSo just want to tease some of that out for\nyou,\n\n59\n00:02:59.144 --> 00:03:01.110\nmake sure we're comfortable with all that.\n\n60\n00:03:01.110 --> 00:03:05.086\nAnd if that is not enough, Cherokee has\npromised that she's gona show us how to do\n\n61\n00:03:05.086 --> 00:03:08.832\nsoftware based installations and\nsoftware deployment with group policy.\n\n62\n00:03:08.832 --> 00:03:10.550\nActually, I promised that I would do that.\n\n63\n00:03:10.550 --> 00:03:11.623\nI'm just putting her on the spot.\n\n64\n00:03:11.623 --> 00:03:13.949\n&gt;&gt; I was just gonna support\nyou in every way possible.\n\n65\n00:03:13.949 --> 00:03:15.640\n[LAUGH]\n&gt;&gt; You will, you are very good about that.\n\n66\n00:03:15.640 --> 00:03:17.967\nSo we are gonna jointly show it to you,\nbut\n\n67\n00:03:17.967 --> 00:03:22.034\nI'm gonna walk through the logic of\nhow we do software basa deployment.\n\n68\n00:03:22.034 --> 00:03:27.095\nThink MSI files, something like Windows 7,\nWindows 10, Office 2016.\n\n69\n00:03:27.095 --> 00:03:30.144\nWhatever it may be you may not deploy\nan operating system this way, but\n\n70\n00:03:30.144 --> 00:03:32.537\nlet's say we're deploying\nan application this way.\n\n71\n00:03:32.537 --> 00:03:36.110\nWe have an MSI file and\ncertainly we wanna be able to deploy it.\n\n72\n00:03:36.110 --> 00:03:39.196\nOne of the ways to do that is through\na group policy based deployment.\n\n73\n00:03:39.196 --> 00:03:41.204\nWe do have the ability to\ndo it with other tools, but\n\n74\n00:03:41.204 --> 00:03:42.855\nwe're here talking about group policy.\n\n75\n00:03:42.855 --> 00:03:45.583\nI wanna show you how to do that as\nwell I have a couple of MSI setup.\n\n76\n00:03:45.583 --> 00:03:49.524\nWe'll use it to talk about the differences\nbetween publishing software or\n\n77\n00:03:49.524 --> 00:03:50.345\nassigning it.\n\n78\n00:03:50.345 --> 00:03:54.103\nWhether we give it to computer through\ngroup policy, a solution, or a user.\n\n79\n00:03:54.103 --> 00:03:57.463\nAnd then we allow them to get the benefits\nof that software being deployed.\n\n80\n00:03:57.463 --> 00:03:58.965\nWe will walk you through that as well.\n\n81\n00:03:58.965 --> 00:04:00.494\nLet's start with folder redirection.\n\n82\n00:04:00.494 --> 00:04:03.476\nIf you wanna join me here let\nme just bring the document up\n\n83\n00:04:03.476 --> 00:04:05.707\nbefore we get into the policy real quick.\n\n84\n00:04:05.707 --> 00:04:08.250\nWhat are the permissions required\nto use folder redirection?\n\n85\n00:04:08.250 --> 00:04:12.375\nIf we just go full screen here for just a\nsecond just so you can see that document,\n\n86\n00:04:12.375 --> 00:04:14.360\nyou'll see that we have the ability.\n\n87\n00:04:14.360 --> 00:04:18.315\nAnd I've kind of labeled it out here for\nus so that we can tell what's going on and\n\n88\n00:04:18.315 --> 00:04:19.640\nkind of where we are.\n\n89\n00:04:19.640 --> 00:04:24.196\nWe have the NTFS file system or I have\nthe NTFS file system permissions for\n\n90\n00:04:24.196 --> 00:04:26.820\nthe root folder that will be shared here.\n\n91\n00:04:26.820 --> 00:04:32.763\nThe creator owner would be the user in\nquestion or the account in question.\n\n92\n00:04:32.763 --> 00:04:35.112\nIt's not always a user as you can see,\n\n93\n00:04:35.112 --> 00:04:39.534\nthe administrator full control to\nsubfolders and files only, right.\n\n94\n00:04:39.534 --> 00:04:40.862\n[COUGH] So what do we get?\n\n95\n00:04:40.862 --> 00:04:41.961\nWhat do we assign?\n\n96\n00:04:41.961 --> 00:04:47.160\nYou'll see the administrator will not\nhave rights right there to the root.\n\n97\n00:04:47.160 --> 00:04:50.354\nBut you'll see the security group of\nusers that save data on the share,\n\n98\n00:04:50.354 --> 00:04:52.656\nwill be given rights to their own folders,\nright.\n\n99\n00:04:52.656 --> 00:04:56.377\nSo they will have the ability to be\nable to work with their own directories,\n\n100\n00:04:56.377 --> 00:04:57.038\nif you will.\n\n101\n00:04:57.038 --> 00:05:00.358\nIt's one of the benefits of sharing\nfolders and setting them up for\n\n102\n00:05:00.358 --> 00:05:01.138\nredirection.\n\n103\n00:05:01.138 --> 00:05:04.595\nThe individual user will have the ability\nto manage their own data, but\n\n104\n00:05:04.595 --> 00:05:05.929\nnobody else gets in there.\n\n105\n00:05:05.929 --> 00:05:06.895\nAt least in theory anyway,\n\n106\n00:05:06.895 --> 00:05:09.130\nnobody else should be getting in\nthere if we do it the right way.\n\n107\n00:05:09.130 --> 00:05:13.040\nAnd notice the system itself through\na service account or a system account.\n\n108\n00:05:13.040 --> 00:05:17.325\nWe'll have rights to manage that because\nwe obviously are gonna rely on the use of\n\n109\n00:05:17.325 --> 00:05:19.290\nthose accounts to be able to do that.\n\n110\n00:05:19.290 --> 00:05:21.600\nShare permissions for the root folder.\n\n111\n00:05:21.600 --> 00:05:24.349\nEach individual user will\nhave the ability to have full\n\n112\n00:05:24.349 --> 00:05:26.630\ncontrol to their own\ndata as we talked about.\n\n113\n00:05:26.630 --> 00:05:30.630\nAnd NTFS permissions free to\nusers who redirected folder.\n\n114\n00:05:30.630 --> 00:05:34.306\n%Username%, that's a system\nvariable string that represents\n\n115\n00:05:34.306 --> 00:05:35.559\nthe individual user.\n\n116\n00:05:35.559 --> 00:05:39.557\nWe often use those percentage signs on\neither side of something like that to\n\n117\n00:05:39.557 --> 00:05:43.780\nrepresent a variable, in this case\nuser name, we could see %Systemroot%.\n\n118\n00:05:43.780 --> 00:05:46.265\nWe often talk about that\nas the placeholder for\n\n119\n00:05:46.265 --> 00:05:48.119\nthe install directory for the OS.\n\n120\n00:05:48.119 --> 00:05:52.234\nSo when we say %Systemroot% it often\nC Windows wherever you happen to have\n\n121\n00:05:52.234 --> 00:05:55.150\ninstalled Windows,\nnormally the C drive, eight.\n\n122\n00:05:55.150 --> 00:05:59.700\nSo that just signifies a system variable\nin this case, whatever the username is for\n\n123\n00:05:59.700 --> 00:06:04.185\nthe individual user in question, full\ncontrol they are essentially given rights\n\n124\n00:06:04.185 --> 00:06:08.222\nas owners of their own data and\nadministrators will see to a full control.\n\n125\n00:06:08.222 --> 00:06:11.354\nAlso because remember,\nadministrators can get in and\n\n126\n00:06:11.354 --> 00:06:16.324\nsee an individual user's folders interact\nwith data both as an oversight mechanism,\n\n127\n00:06:16.324 --> 00:06:19.220\npotentially as a coverability mechanism.\n\n128\n00:06:19.220 --> 00:06:22.194\nWe never blocked the administrators\nfrom getting in, but\n\n129\n00:06:22.194 --> 00:06:26.211\nwe don't want them necessarily in there\neveryday moving around doing stuff.\n\n130\n00:06:26.211 --> 00:06:28.632\nWe just want them to have the ability\nto oversee the system, and\n\n131\n00:06:28.632 --> 00:06:30.070\nthat's why they have rights.\n\n132\n00:06:30.070 --> 00:06:32.511\nAnd then the system itself\nremember has full control as well.\n\n133\n00:06:32.511 --> 00:06:36.210\nSo just giving you the understanding\nof what the permissions may be.\n\n134\n00:06:36.210 --> 00:06:37.431\nIt's always good.\n\n135\n00:06:37.431 --> 00:06:41.969\nRemember this may be testable information,\ncertainly real world information as you're\n\n136\n00:06:41.969 --> 00:06:46.460\nsetting up full to redirection, wanted to\nknow how these permissions may play out.\n\n137\n00:06:46.460 --> 00:06:49.613\nHey do I just share a folder,\nand if I share a folder,\n\n138\n00:06:49.613 --> 00:06:52.573\nam I doing enough to get\nthe redirection moving?\n\n139\n00:06:52.573 --> 00:06:54.498\nIs there something specific I need to do?\n\n140\n00:06:54.498 --> 00:06:56.191\nYou may wanna walk through\nthe logic of that and\n\n141\n00:06:56.191 --> 00:06:58.460\njust make sure you're comfortable\nwith those permissions.\n\n142\n00:06:58.460 --> 00:07:02.348\nSo that's why we provide the document\nlike that from time to time Yes, ma'am.\n\n143\n00:07:02.348 --> 00:07:07.230\n&gt;&gt; Yeah, I was just going to point out,\nfrom like you said real world experiences.\n\n144\n00:07:07.230 --> 00:07:11.344\nIf you're dealing with just different\nlevels of your security policy.\n\n145\n00:07:11.344 --> 00:07:15.505\nThis is good to know to make sure that\nyou are adhering to that security policy,\n\n146\n00:07:15.505 --> 00:07:19.730\nif you have types of levels for documents\nand so forth, for confidentiality and\n\n147\n00:07:19.730 --> 00:07:22.620\njust being aware of- [CROSSTALK]\n&gt;&gt; Are we talking about things like\n\n148\n00:07:22.620 --> 00:07:24.140\nclassification of data, for instance?\n\n149\n00:07:24.140 --> 00:07:25.110\n&gt;&gt; Yeah, exactly.\nThe classification.\n\n150\n00:07:25.110 --> 00:07:26.325\n&gt;&gt; Right, when you say security\npolicy typically, right?\n\n151\n00:07:26.325 --> 00:07:27.430\n&gt;&gt; Yes.\n&gt;&gt; More often than what we mean.\n\n152\n00:07:27.430 --> 00:07:30.281\nSo no absolutely if you're trying\nto implement either some sort\n\n153\n00:07:30.281 --> 00:07:33.466\nof data classification scheme,\nas you're calling out with a policy.\n\n154\n00:07:33.466 --> 00:07:37.380\nSometimes I just refer to that generically\nas regulatory or statutory compliance.\n\n155\n00:07:37.380 --> 00:07:40.268\nBut we're both saying the same\nthing essentially, Cherokee and I.\n\n156\n00:07:40.268 --> 00:07:44.000\nIt's a very important point to call out,\nwhich is hey, you may be redirecting.\n\n157\n00:07:44.000 --> 00:07:45.720\nAs we talked about not just cause it's so\n\n158\n00:07:45.720 --> 00:07:48.161\nvaluable to put the user data\nout there and safeguard it.\n\n159\n00:07:48.161 --> 00:07:51.335\nBut also because you want to actually\ncontrol in a certain way to prove that\n\n160\n00:07:51.335 --> 00:07:54.060\nyour implementing certain guidelines or\ncertain standards.\n\n161\n00:07:54.060 --> 00:07:58.767\nAnd that you have verifiable,\nauditable and as a result.\n\n162\n00:07:58.767 --> 00:08:01.905\nSpecific permissions and\nor controls in place.\n\n163\n00:08:01.905 --> 00:08:07.160\nSo these opportunities would give you\nthe benefit of any or all those things.\n\n164\n00:08:07.160 --> 00:08:08.880\nSo absolutely, a policy driven or\n\n165\n00:08:08.880 --> 00:08:12.620\ndata classification driven solution would\nbe a great business requirement that\n\n166\n00:08:12.620 --> 00:08:15.490\nfolder redirection could\nhelp us to address, right?\n\n167\n00:08:15.490 --> 00:08:19.040\nAs, perhaps, a troubleshooting or\nproblem solving scenario.\n\n168\n00:08:19.040 --> 00:08:19.840\nWho knows, you never know.\n\n169\n00:08:19.840 --> 00:08:22.650\nYou may see something like that\nat some point in the future.\n\n170\n00:08:22.650 --> 00:08:23.880\nI've heard tell, anyway.\n\n171\n00:08:23.880 --> 00:08:27.660\nThere are scenario based questions on\nexams these days, and you never know what\n\n172\n00:08:27.660 --> 00:08:29.990\nthey may ask you to do, and how they\nmay ask you to approach something.\n\n173\n00:08:29.990 --> 00:08:33.610\nSo, always good for you to be be\naware of those kinds of things.\n\n174\n00:08:33.610 --> 00:08:35.910\nSo, we appreciate Cherokee\ncalling that out for us.\n\n175\n00:08:35.910 --> 00:08:36.734\nGold star Cherokee, gold star.\n\n176\n00:08:36.734 --> 00:08:38.620\n&gt;&gt; [LAUGH]\n&gt;&gt; All right so,\n\n177\n00:08:38.620 --> 00:08:41.060\nlet's take a look at how to actually\ndo this folder redirection thing.\n\n178\n00:08:41.060 --> 00:08:43.940\nJoin me here if you will, or\nactually right up there, if you will.\n\n179\n00:08:43.940 --> 00:08:46.453\nAnd you'll see that we are in the GPMC,\nright?\n\n180\n00:08:46.453 --> 00:08:50.032\nThis hasn't really changed in any and\nall the conversations we've been having.\n\n181\n00:08:50.032 --> 00:08:53.688\nActually left it intact from our\nconversation about being able to\n\n182\n00:08:53.688 --> 00:08:58.005\nadd a child domain in and show you how to\ncopy a policy between two domains, and\n\n183\n00:08:58.005 --> 00:08:59.350\nwhat that looked like.\n\n184\n00:08:59.350 --> 00:09:00.887\nSo I just left the setup intact.\n\n185\n00:09:00.887 --> 00:09:02.730\nWe're just continuing a demo here.\n\n186\n00:09:02.730 --> 00:09:05.650\nWhat I am going to simply do though,\nis just quickly kind of\n\n187\n00:09:05.650 --> 00:09:09.130\ncollapse that part of this down, just make\nthe interface a little bit easier to see,\n\n188\n00:09:09.130 --> 00:09:11.690\nand just not be quite so cluttered.\n\n189\n00:09:11.690 --> 00:09:15.760\nSo down here, I have created a group\npolicy object called folder redirection,\n\n190\n00:09:15.760 --> 00:09:16.820\nobviously named so\n\n191\n00:09:16.820 --> 00:09:21.010\nthat we can drive a demonstration\naround this particular aspect.\n\n192\n00:09:21.010 --> 00:09:26.150\nAnd I've gone ahead and I have linked that\nto, as we can see here, the engineering\n\n193\n00:09:26.150 --> 00:09:30.863\nOU, which is right up here under EMEA,\nnot that we need to know where it is.\n\n194\n00:09:30.863 --> 00:09:32.156\nIt doesn't really matter to us.\n\n195\n00:09:32.156 --> 00:09:34.054\nFrom the perspective of\nus applying the policy,\n\n196\n00:09:34.054 --> 00:09:35.496\nwe obviously wanna know where it is.\n\n197\n00:09:35.496 --> 00:09:39.201\nBut for purposes of demonstration,\nI'm just pointing out how you can use\n\n198\n00:09:39.201 --> 00:09:41.904\nthe interface to tell what\nthe scope of the policy is.\n\n199\n00:09:41.904 --> 00:09:44.500\nIn other words,\nwhere is it focused, right?\n\n200\n00:09:44.500 --> 00:09:48.610\nWhat OU in this case, or object,\ndoes it affect or does it point to?\n\n201\n00:09:48.610 --> 00:09:52.640\nSo we can tell just by looking,\nit's linked to the engineering OU.\n\n202\n00:09:52.640 --> 00:09:54.946\nAnd if we open that up,\nwe can see the shortcut for\n\n203\n00:09:54.946 --> 00:09:57.022\nthe policy sitting right there.\n\n204\n00:09:57.022 --> 00:09:58.310\nAll right, so we're gonna right click,\n\n205\n00:09:58.310 --> 00:10:01.480\nand we're gonna go ahead and\nwe're going to edit this GPO.\n\n206\n00:10:01.480 --> 00:10:02.530\nSo let's open this up.\n\n207\n00:10:04.290 --> 00:10:07.140\nLet me just bring this over here\nfull screen, so we can see this.\n\n208\n00:10:07.140 --> 00:10:11.433\nNow, I mentioned that we\nare gonna want to examine some of\n\n209\n00:10:11.433 --> 00:10:15.374\nthe settings associated\nwith folder redirection.\n\n210\n00:10:15.374 --> 00:10:19.118\nAnd I mention that it could be\ndone in either the computer and or\n\n211\n00:10:19.118 --> 00:10:22.360\nthe user specification,\nas part of the policy.\n\n212\n00:10:22.360 --> 00:10:24.910\nThere are a couple of\nways to approach this.\n\n213\n00:10:24.910 --> 00:10:26.320\nLet's take a look at policies and\n\n214\n00:10:26.320 --> 00:10:30.540\nup under policies, let's just look at\nWindows settings here real quickly.\n\n215\n00:10:30.540 --> 00:10:34.600\nLet's open up and take a look at,\n\n216\n00:10:34.600 --> 00:10:38.660\nunder security settings, just one thing\nthat I wanna point out to you before we go\n\n217\n00:10:38.660 --> 00:10:43.310\ninto the policy settings for\nthe folder redirection formally.\n\n218\n00:10:43.310 --> 00:10:45.730\nJust one thing I wanna remind us of,\nright?\n\n219\n00:10:45.730 --> 00:10:50.832\nOne of the other things that can often\nhappen here with policy, and we have\n\n220\n00:10:50.832 --> 00:10:56.453\nlots of opportunities, is that we may\ndecide through a file system permission.\n\n221\n00:10:56.453 --> 00:10:59.750\nSo, just look at security settings,\nand settings associated with this.\n\n222\n00:10:59.750 --> 00:11:04.556\nWe may decide here up under security\nsettings that we have what is\n\n223\n00:11:04.556 --> 00:11:07.143\nknown as a central access policy.\n\n224\n00:11:07.143 --> 00:11:10.969\nAnd we may decide to,\nif we have a central access policy,\n\n225\n00:11:10.969 --> 00:11:15.950\nwe don't have them set up and\nwe're not really using them right now.\n\n226\n00:11:15.950 --> 00:11:19.880\nBut if we decided that we were gonna play\nwith some of the security aspects or\n\n227\n00:11:19.880 --> 00:11:23.920\nsettings of policy, and implemented\nsomething like an access policy that\n\n228\n00:11:23.920 --> 00:11:29.490\ncontrols access to aspects of the file\nsystem, we may actually inadvertently\n\n229\n00:11:29.490 --> 00:11:32.020\nwind up shooting ourselves in the foot\nwith something like folder redirection.\n\n230\n00:11:32.020 --> 00:11:32.826\nIn other words,\n\n231\n00:11:32.826 --> 00:11:36.458\nthis could become an issue where we\nhave competitive settings in a policy.\n\n232\n00:11:36.458 --> 00:11:39.137\nAnd as a result,\nwe may block the ability for\n\n233\n00:11:39.137 --> 00:11:43.999\nusers to have access to certain system\nfiles or directories, inadvertently.\n\n234\n00:11:43.999 --> 00:11:46.699\nNot on purpose, I'm not suggesting\nwe would do it that way.\n\n235\n00:11:46.699 --> 00:11:52.170\nBut I am simply calling out that there's a\nlot of complexity inside of settings here.\n\n236\n00:11:52.170 --> 00:11:56.586\nAnd we have to be very careful about\nhow we start to add ingredients, right,\n\n237\n00:11:56.586 --> 00:11:57.828\nbuild our policies.\n\n238\n00:11:57.828 --> 00:12:02.427\nBecause if we're not aware of some of the\nother areas that policy can control, and\n\n239\n00:12:02.427 --> 00:12:06.964\nby default you will see that there's no\nsettings in something like security file\n\n240\n00:12:06.964 --> 00:12:09.498\nsystem central access policies,\nthat may or\n\n241\n00:12:09.498 --> 00:12:11.789\nmay not impact our ability to do things.\n\n242\n00:12:11.789 --> 00:12:14.651\nBut that doesn't mean that other\npolicies have not been set,\n\n243\n00:12:14.651 --> 00:12:18.700\nit doesn't mean that we're not using,\nas we've talked about, starter GPOs.\n\n244\n00:12:18.700 --> 00:12:21.810\nRemember we had the conversation\nabout GPOs that may have pre-made\n\n245\n00:12:21.810 --> 00:12:26.410\npolicy elements already defined,\nthat we use as building blocks to kinda\n\n246\n00:12:26.410 --> 00:12:29.640\nstreamline the application of policy,\nget us out of the gate quickly.\n\n247\n00:12:29.640 --> 00:12:32.970\nWhat I'm simply suggesting is,\nas you get into something detailed like\n\n248\n00:12:32.970 --> 00:12:37.110\nfolder redirection, it always is important\nto be aware of your surroundings, right?\n\n249\n00:12:37.110 --> 00:12:38.710\nGenerically, no matter what we do.\n\n250\n00:12:38.710 --> 00:12:41.280\nOperational awareness,\nsituational awareness.\n\n251\n00:12:41.280 --> 00:12:44.198\nYou've heard it referred to\ndifferent ways in the real world,\n\n252\n00:12:44.198 --> 00:12:46.907\nbased on people that have to\ndo things like this every day.\n\n253\n00:12:46.907 --> 00:12:48.203\nWere you just making your\nhair move out of the way, or\n\n254\n00:12:48.203 --> 00:12:49.329\nwere you actually wanting\nto say something?\n\n255\n00:12:49.329 --> 00:12:50.975\n&gt;&gt; I did have something to say.\n\n256\n00:12:50.975 --> 00:12:52.280\nYou're doing a great job, Adam.\n\n257\n00:12:52.280 --> 00:12:53.103\n[LAUGH]\n&gt;&gt; Okay.\n\n258\n00:12:53.103 --> 00:12:54.167\nI appreciate that.\n\n259\n00:12:54.167 --> 00:12:55.780\nIt was like our universal sign.\n\n260\n00:12:55.780 --> 00:12:56.358\nI wasn't sure what it was.\n&gt;&gt; Well,\n\n261\n00:12:56.358 --> 00:12:58.183\nwhen you're talking about knowing\nyour environment and everything.\n\n262\n00:12:58.183 --> 00:13:02.899\nFor instance, you wouldn't want to be\nredirecting the storage of this data to\n\n263\n00:13:02.899 --> 00:13:06.624\na location on a volume in which\nthe user did not have access to.\n\n264\n00:13:06.624 --> 00:13:08.280\nAnd that's kind of like what\nyou're referencing here.\n\n265\n00:13:08.280 --> 00:13:11.640\nJust knowing the ins and\nouts of your network or your environment.\n\n266\n00:13:11.640 --> 00:13:15.182\n&gt;&gt; Definitely right, and so definitely\none of the things we want to consider.\n\n267\n00:13:15.182 --> 00:13:18.793\nAnd just as you said,\nI'm pointing out that the complexity,\n\n268\n00:13:18.793 --> 00:13:24.056\nI'll prefer to refer to it as the positive\nrichness associated with group policy,\n\n269\n00:13:24.056 --> 00:13:27.105\nas opposed to the, perhaps,\nnegative connotation of complexity.\n\n270\n00:13:27.105 --> 00:13:31.175\nBut the richness associated with group\npolicy management is so diverse today.\n\n271\n00:13:31.175 --> 00:13:35.570\nWe've talked about this in other episodes,\nthat it really does bear the need for\n\n272\n00:13:35.570 --> 00:13:38.220\nan individual,\nan IT professional such as any of you\n\n273\n00:13:38.220 --> 00:13:41.360\nthat are interacting with us around\nthis content, to really, and\n\n274\n00:13:41.360 --> 00:13:44.360\nwe've talked about it before, not only\nplan to be successful, but take the time\n\n275\n00:13:44.360 --> 00:13:47.770\nto get to know the tools of the trade,\nunderstand the operational environment.\n\n276\n00:13:47.770 --> 00:13:51.810\nKnow what it is you are capable of doing\nwith policy, so you understand how\n\n277\n00:13:51.810 --> 00:13:55.990\nto do it not only effectively,\nnot only efficiently, but properly, right?\n\n278\n00:13:55.990 --> 00:13:57.228\nGet it right the first time,\nin other words.\n\n279\n00:13:57.228 --> 00:13:58.467\nJust important to think about that.\n\n280\n00:13:58.467 --> 00:14:00.890\nAll right, so, having said that,\njoin me back here.\n\n281\n00:14:00.890 --> 00:14:05.470\nWhere are the settings specific to fold\nthe redirection on the computer end of\n\n282\n00:14:05.470 --> 00:14:06.255\nthe policy?\n\n283\n00:14:06.255 --> 00:14:07.910\nLet me just show you where I am.\n\n284\n00:14:07.910 --> 00:14:10.026\nSo I've gone up here.\n\n285\n00:14:10.026 --> 00:14:11.395\nLet me just get rid of\nthe Windows settings so\n\n286\n00:14:11.395 --> 00:14:12.830\nwe're not really worried about those.\n\n287\n00:14:12.830 --> 00:14:15.880\nJust pointing out some of the other\nareas you'd wanna consider.\n\n288\n00:14:15.880 --> 00:14:20.158\nBut up under, as you can see here,\nComputer, Policies, and this time,\n\n289\n00:14:20.158 --> 00:14:21.885\nAdministrative Templates.\n\n290\n00:14:21.885 --> 00:14:24.480\nSo I'm down in an area we've\nalready talked a lot about.\n\n291\n00:14:24.480 --> 00:14:29.420\nI'm in System, which is where we see the\nfolder redirection capability existing.\n\n292\n00:14:29.420 --> 00:14:30.928\nLet's just scroll down alphabetically.\n\n293\n00:14:30.928 --> 00:14:32.277\nFolder redirection.\n\n294\n00:14:32.277 --> 00:14:35.544\nNow on the computer side, it's only\ntwo settings here, deceptively simple.\n\n295\n00:14:35.544 --> 00:14:38.378\nBut that's because we don't\ntraditionally do folder redirection at\n\n296\n00:14:38.378 --> 00:14:39.440\nthe computer level.\n\n297\n00:14:39.440 --> 00:14:41.304\nWe often control it and, indeed,\n\n298\n00:14:41.304 --> 00:14:44.147\nnormally control it at\nthe user end of the spectrum.\n\n299\n00:14:44.147 --> 00:14:46.570\nWe'll go down to the user settings,\nlook at this and you'll see,\n\n300\n00:14:46.570 --> 00:14:49.085\nthere's a lot more settings there,\nas we've indicated.\n\n301\n00:14:49.085 --> 00:14:50.933\nAll the opportunity to redirect.\n\n302\n00:14:50.933 --> 00:14:55.715\nThe individual folders that we may want to\ncontrol by folder can be specified there.\n\n303\n00:14:55.715 --> 00:14:59.148\nThe basic versus advanced settings that\nI've spoken about in the last episode were\n\n304\n00:14:59.148 --> 00:14:59.943\navailable there.\n\n305\n00:14:59.943 --> 00:15:01.325\nWe're gonna see all that.\n\n306\n00:15:01.325 --> 00:15:04.600\nBut there is this little area that\ncontrols the computer side, that we may,\n\n307\n00:15:04.600 --> 00:15:08.505\nwithout realizing it, set up and say, hey,\nI've done folder redirection, I'm done.\n\n308\n00:15:08.505 --> 00:15:09.780\nAnd we declare victory.\n\n309\n00:15:09.780 --> 00:15:12.540\nThat's not necessarily,\nnot only the endgame, but\n\n310\n00:15:12.540 --> 00:15:15.120\nthat may actually cause\na bit of a challenge for us.\n\n311\n00:15:15.120 --> 00:15:16.500\nAnd let me point out why.\n\n312\n00:15:16.500 --> 00:15:18.746\nSo, redirect folders on\nprimary computers only.\n\n313\n00:15:18.746 --> 00:15:22.020\nThis is one of the settings\nthat we have to be aware of.\n\n314\n00:15:22.020 --> 00:15:24.640\nNumber one operating\nsystem specific certainly.\n\n315\n00:15:24.640 --> 00:15:29.921\nAt least Windows server 12, Windows 8,\nand or Windows RT, meaning 881,\n\n316\n00:15:29.921 --> 00:15:34.523\nany of the surface line of hardware\nthat we use, Surface Pro, right?\n\n317\n00:15:34.523 --> 00:15:38.220\nThose kinds of tablets, Server 12 and\nbetter, we've had this capability.\n\n318\n00:15:38.220 --> 00:15:42.317\nMicrosoft's provided it to us for several\ngenerations to designate a machine as\n\n319\n00:15:42.317 --> 00:15:45.041\na primary computer for\npolicy management purposes.\n\n320\n00:15:45.041 --> 00:15:49.137\nWe see this extended into SUCM in\nconfiguration management side, to be able\n\n321\n00:15:49.137 --> 00:15:52.977\nto do software based deployments\nthrough the application catalogue,\n\n322\n00:15:52.977 --> 00:15:54.780\nto primary designated devices.\n\n323\n00:15:54.780 --> 00:15:58.476\nSo, lots of reasons why this takes\nplace and why we have this capability.\n\n324\n00:15:58.476 --> 00:16:03.411\nIf we choose to set folder redirection at\nthe computer level, through the computer\n\n325\n00:16:03.411 --> 00:16:08.150\npolicy here, we happen to choose only\nredirect folders on primary computers.\n\n326\n00:16:08.150 --> 00:16:10.530\nAnd redirect only two primary computers,\n\n327\n00:16:10.530 --> 00:16:14.720\nthen users may login to a device not\ntagged as their primary computer.\n\n328\n00:16:14.720 --> 00:16:17.460\nAnd they will not have access\nto the folders being redirected.\n\n329\n00:16:17.460 --> 00:16:21.340\nIn other words, they would loose access\nto that because they would not show up.\n\n330\n00:16:21.340 --> 00:16:23.650\nAnd this is one of those bizarre\nlittle corky things, but\n\n331\n00:16:23.650 --> 00:16:27.390\nit could be an issue because they wouldn't\nhave access to it in one system, but\n\n332\n00:16:27.390 --> 00:16:30.720\nin theory when they go back and log it\nin their primary machine they would.\n\n333\n00:16:30.720 --> 00:16:33.677\nAnd this is one of those things and\nalthough unusual and\n\n334\n00:16:33.677 --> 00:16:36.065\nnot normally something that would happen.\n\n335\n00:16:36.065 --> 00:16:39.374\nCan certainly happen if we're just\nobviously focusing on one area of\n\n336\n00:16:39.374 --> 00:16:43.254\nthe policy perhaps not understanding the\nfuller benefit of doing this at the user\n\n337\n00:16:43.254 --> 00:16:45.365\nend of the spectrum\nwith the user settings,\n\n338\n00:16:45.365 --> 00:16:47.210\nas opposed to the computer settings.\n\n339\n00:16:47.210 --> 00:16:51.300\nSo just wanted to point this out to you,\nbecause again, this may be one of those\n\n340\n00:16:51.300 --> 00:16:53.530\nthings you get stuck in a loop,\ntrying to troubleshoot, figure out.\n\n341\n00:16:53.530 --> 00:16:54.080\n&gt;&gt; Troubleshooting.\n\n342\n00:16:54.080 --> 00:16:55.120\nYou're just like, what's going on?\n\n343\n00:16:55.120 --> 00:16:56.920\n&gt;&gt; You may or\nmay not realize you set it there.\n\n344\n00:16:56.920 --> 00:16:58.440\nAnd it is a possibility,\n\n345\n00:16:58.440 --> 00:17:01.580\nI'm not suggesting it would be\none you would normally run into.\n\n346\n00:17:01.580 --> 00:17:04.380\nBut we do have settings in both places,\nand a lot of times,\n\n347\n00:17:04.380 --> 00:17:09.280\nthese preferences will look very similar\nin both locations, both computer and user.\n\n348\n00:17:09.280 --> 00:17:12.720\nIn the sense the folder name is\nidentical in both as you'll see.\n\n349\n00:17:12.720 --> 00:17:15.390\nBut obviously the depth of\nsettings is very different\n\n350\n00:17:15.390 --> 00:17:18.810\nas you're gonna see right now as we go\ndown into the user area of the policy.\n\n351\n00:17:18.810 --> 00:17:20.350\nSo let's just get out of here.\n\n352\n00:17:20.350 --> 00:17:21.860\nJust kind of clean this part up.\n\n353\n00:17:21.860 --> 00:17:25.020\nCome down here under administrative\ntemplates right as where we were.\n\n354\n00:17:25.020 --> 00:17:27.440\nLet's go down in here under the user side.\n\n355\n00:17:28.860 --> 00:17:32.980\nLet's go down here under Policies,\nAdministrative templates, let me just\n\n356\n00:17:32.980 --> 00:17:38.660\nbring this up right here, again let's go\ninto System, it's the same exact place.\n\n357\n00:17:38.660 --> 00:17:40.550\nScroll down, Folder Redirection.\n\n358\n00:17:40.550 --> 00:17:44.990\nLess folders overall, but\na few more settings as you can see.\n\n359\n00:17:44.990 --> 00:17:48.480\nAnd when we go in to folder redirection\nhere, do not automatically,\n\n360\n00:17:48.480 --> 00:17:50.950\nlet me just kinda extend this over here.\n\n361\n00:17:50.950 --> 00:17:54.390\nSo give me a second just to\nshow you a little bit more and\n\n362\n00:17:54.390 --> 00:17:59.516\njust to see that because I moved the other\npart over so far, it's kind of verging\n\n363\n00:17:59.516 --> 00:18:04.203\non our ability here, or impacting our\nability to see the entire screen.\n\n364\n00:18:04.203 --> 00:18:06.860\nOf course, now I can't drag the bar\ngoing back the other, anyway.\n\n365\n00:18:06.860 --> 00:18:07.570\n&gt;&gt; You can do it.\n\n366\n00:18:07.570 --> 00:18:08.630\n&gt;&gt; All right, no, I can't do it.\n\n367\n00:18:08.630 --> 00:18:10.390\nI'm giving up, I'm declaring failure.\n\n368\n00:18:10.390 --> 00:18:14.550\nAll right, so do not automatically make\nall redirected folders available offline.\n\n369\n00:18:14.550 --> 00:18:18.880\nWe have options for this notice, do not\nautomatically make specific folders we\n\n370\n00:18:18.880 --> 00:18:22.050\ndirected offline, so your with the option\nto start cherry picking what we do and\n\n371\n00:18:22.050 --> 00:18:24.830\ndon't want available\nthrough offline usage.\n\n372\n00:18:24.830 --> 00:18:28.640\nRedirect folders, again, on primary\ncomputer only can be specified here.\n\n373\n00:18:28.640 --> 00:18:31.511\nBut remember when user and\ncomputer settings combine,\n\n374\n00:18:31.511 --> 00:18:34.564\nwe may have one overriding\nthe other depending on whether or\n\n375\n00:18:34.564 --> 00:18:38.770\nnot they are similar or not so we just\nhave to think about the logic of this.\n\n376\n00:18:38.770 --> 00:18:43.160\nSo we have some additional\noptions here that we can use.\n\n377\n00:18:43.160 --> 00:18:45.180\nSo we do wanna make sure\nwe're aware of that.\n\n378\n00:18:45.180 --> 00:18:49.440\nAnd then, besides our ability to be able\nto go in and set up just the nuts and\n\n379\n00:18:49.440 --> 00:18:53.200\nbolts generically, right of the,\nhey where do we go and\n\n380\n00:18:53.200 --> 00:18:55.300\nwhere do we set up the folder redirection.\n\n381\n00:18:55.300 --> 00:18:58.110\nWe haven't really gotten into our\nconversation about preferences yet,\n\n382\n00:18:58.110 --> 00:18:59.240\nbut yeah, we can go in.\n\n383\n00:18:59.240 --> 00:19:04.200\nDown here I just wanna point out something\ntoo, just bring up the window settings.\n\n384\n00:19:04.200 --> 00:19:08.660\nAnd although it's not the same\nthing as folder redirection\n\n385\n00:19:08.660 --> 00:19:12.040\nit is something that could be\nmisconstrued for folder redirection.\n\n386\n00:19:12.040 --> 00:19:13.250\nAnd inadvertently, again,\n\n387\n00:19:13.250 --> 00:19:16.870\nif you set this without necessarily\nthinking through the logic of what it is.\n\n388\n00:19:16.870 --> 00:19:18.650\nThinking I'm creating folders and\n\n389\n00:19:18.650 --> 00:19:23.360\ntherefore redirecting data to them using\na preference setting which is an alternate\n\n390\n00:19:23.360 --> 00:19:27.480\nway of implementing group policy settings\nor additional way, I should say.\n\n391\n00:19:27.480 --> 00:19:30.520\nWe've had preferences for\na couple of generations of the OS now.\n\n392\n00:19:30.520 --> 00:19:33.910\nThey give us the ability to have\nmore fine, granular control\n\n393\n00:19:33.910 --> 00:19:37.350\nof areas of group policy, essentially\nextending the functionality out.\n\n394\n00:19:37.350 --> 00:19:39.090\nWe see the group policy.\n\n395\n00:19:39.090 --> 00:19:39.800\nWe can delve in.\n\n396\n00:19:39.800 --> 00:19:43.330\nYou can see the various areas, the\nregistry, the creation of environmental\n\n397\n00:19:43.330 --> 00:19:47.500\nvariables on the user side, applications,\ndrive maps, whatever it may be.\n\n398\n00:19:47.500 --> 00:19:52.520\nAnd we can specifically create or augment\nthe opportunity with policy to manage.\n\n399\n00:19:52.520 --> 00:19:56.670\nAnd we have a folders area both in the\ncomputer side and on the user side here.\n\n400\n00:19:56.670 --> 00:19:59.209\nNot the same thing as same\nthing as folder redirection,\n\n401\n00:19:59.209 --> 00:20:01.801\nbut we can actually create folders and\nmap what will go and\n\n402\n00:20:01.801 --> 00:20:05.275\nwhere those folders will go and\nhow they'll be treated using preferences.\n\n403\n00:20:05.275 --> 00:20:09.239\nSo we just wanna make sure we understand\nthat folder redirection is a group policy\n\n404\n00:20:09.239 --> 00:20:10.122\nsetting.\n\n405\n00:20:10.122 --> 00:20:11.942\nIt is not a preference setting.\n\n406\n00:20:11.942 --> 00:20:14.392\nAlthough, preferences\nare part of group policy.\n\n407\n00:20:14.392 --> 00:20:18.237\nI'm just trying to ensure you understand\nhow we go set these things and\n\n408\n00:20:18.237 --> 00:20:20.092\nwhere to enable them, if you will,\n\n409\n00:20:20.092 --> 00:20:22.702\njust to make sure we understand\nthe logic of how we're doing that.\n\n410\n00:20:22.702 --> 00:20:25.402\nJust don't want that to get\nlost in the conversation,\n\n411\n00:20:25.402 --> 00:20:27.722\nso to speak, right,\nas we go through and take a look.\n\n412\n00:20:27.722 --> 00:20:30.160\nSo we're able to set all this up.\n\n413\n00:20:30.160 --> 00:20:35.570\nWe're obviously able to go in and to take\na look at all sorts of different settings,\n\n414\n00:20:35.570 --> 00:20:37.675\nand interact with them,\nwhen they set all settings.\n\n415\n00:20:37.675 --> 00:20:42.000\nJust pointing out way of all settings\narea here under administrative templates,\n\n416\n00:20:42.000 --> 00:20:46.020\nthat lists accumulative, a fact of all the\nsettings we have from all the different\n\n417\n00:20:46.020 --> 00:20:47.290\nadministrative templates.\n\n418\n00:20:47.290 --> 00:20:50.250\nWe could scroll through and\nsee them listed here as well.\n\n419\n00:20:50.250 --> 00:20:52.810\nJust scrolling down so\nyou can see all of them and\n\n420\n00:20:52.810 --> 00:20:56.210\nall the different things that\nmay come about as we go through.\n\n421\n00:20:56.210 --> 00:21:00.060\nSo you can see if I can stop long\nenough to get back to the f section,\n\n422\n00:21:00.060 --> 00:21:03.830\nthere are some things on\nfolder redirection here.\n\n423\n00:21:03.830 --> 00:21:05.950\nAnd again,\nwe can see depending on what it is.\n\n424\n00:21:05.950 --> 00:21:07.695\nThey look identical as you can see.\n\n425\n00:21:07.695 --> 00:21:11.890\nBut you'll see that they are based\non operating system versioning for\n\n426\n00:21:11.890 --> 00:21:13.260\nFolder Redirection.\n\n427\n00:21:13.260 --> 00:21:16.020\nWe take the newer one and we enable that.\n\n428\n00:21:16.020 --> 00:21:21.850\nThat's enabling us to be able to go in and\nadd this in so we can use this setting so\n\n429\n00:21:21.850 --> 00:21:26.510\nthat we can restrict the use of or allow\nthe use of something whatever it may be.\n\n430\n00:21:26.510 --> 00:21:29.677\nThere's all these different places where\nwe may see the words, Folder Redirection.\n\n431\n00:21:29.677 --> 00:21:32.393\nWell, we wanna know exactly how\nwe're gonna go in and set them up.\n\n432\n00:21:32.393 --> 00:21:34.593\nAnd what we're gonna do in\norder to ensure, right,\n\n433\n00:21:34.593 --> 00:21:38.208\nthat we are adding the right settings in\nfor the right reasons, in the right areas.\n\n434\n00:21:38.208 --> 00:21:41.380\nSo just wanna make sure you're comfortable\nwith that as we're going through.\n\n435\n00:21:41.380 --> 00:21:43.030\nKind of thinking through\nthe logic of this,\n\n436\n00:21:43.030 --> 00:21:46.870\nmaking sure we understand how we're\ngonna set folder redirection up.\n\n437\n00:21:46.870 --> 00:21:50.240\nI mentioned that we also would take a\nquick look at software deployment, right?\n\n438\n00:21:50.240 --> 00:21:51.810\nSo let's go up and do that,\n\n439\n00:21:51.810 --> 00:21:53.770\nwe have some interesting things\nwe could talk about there.\n\n440\n00:21:53.770 --> 00:21:54.650\nLet me just kinda.\n\n441\n00:21:54.650 --> 00:21:57.360\nClean the interface up\nhere just a little bit,\n\n442\n00:21:57.360 --> 00:22:01.450\njust kind of get this back to a place\nwhere it's easy for us to interact around.\n\n443\n00:22:01.450 --> 00:22:05.980\nAnd so underneath policies of\nboth the computer area and\n\n444\n00:22:05.980 --> 00:22:09.440\nin the user areas you can see, just\nkind of open it up so we can see both.\n\n445\n00:22:09.440 --> 00:22:13.360\nYou see software installation\nunder software settings.\n\n446\n00:22:13.360 --> 00:22:16.500\nWe do have again the ability to be\nable to target this at a computer or\n\n447\n00:22:16.500 --> 00:22:20.160\na user based on the policy or indeed both,\ndepending on what we wanna do.\n\n448\n00:22:20.160 --> 00:22:24.410\nAnd the software installation item has\nnothing in it by default, it's empty.\n\n449\n00:22:24.410 --> 00:22:27.600\nAs a container we have to create\npackages that are dropped in and\n\n450\n00:22:27.600 --> 00:22:28.480\nthen configured here.\n\n451\n00:22:28.480 --> 00:22:33.430\nAnd so the idea would be that\nwe can right click new package.\n\n452\n00:22:33.430 --> 00:22:38.120\nAnd then we get the ability to go out and\nto path to a package.\n\n453\n00:22:38.120 --> 00:22:40.660\nNow, the package,\nwhen we go out and we get it,\n\n454\n00:22:40.660 --> 00:22:43.620\nwill be typically an MSI\nfile of some kind, right?\n\n455\n00:22:43.620 --> 00:22:46.970\nNot typically, it will be an MSI\nfile of some kind, I should say.\n\n456\n00:22:46.970 --> 00:22:48.080\nAnd as a result,\n\n457\n00:22:48.080 --> 00:22:51.660\nthat has to be sitting out there somewhere\nin the directory that we can get to.\n\n458\n00:22:51.660 --> 00:22:56.520\nBut not a local directory,\nwe need to use a UNC, a published share.\n\n459\n00:22:56.520 --> 00:23:00.247\nTo connect to this four group policy\nto be able to enable the deployment of\n\n460\n00:23:00.247 --> 00:23:04.666\nthis software, redirecting it back out to\nall the systems that will get this policy.\n\n461\n00:23:04.666 --> 00:23:08.092\nThey have to, in other words,\nbe able to connect to the share and\n\n462\n00:23:08.092 --> 00:23:10.830\npull down the software once\nthe policy is applied.\n\n463\n00:23:10.830 --> 00:23:12.850\nThey being the targeted machines or\n\n464\n00:23:12.850 --> 00:23:16.040\nthe user as the user logs in\nthe machine the user is on.\n\n465\n00:23:16.040 --> 00:23:20.137\nEither way, it has to invoke that software\nby pulling it down from a common area.\n\n466\n00:23:20.137 --> 00:23:25.993\nSo if we go ahead and we do this\non a local path, a C:\\ software,\n\n467\n00:23:25.993 --> 00:23:30.771\non the domain controller,\nbut that's not shared.\n\n468\n00:23:30.771 --> 00:23:35.522\nHow is somebody who connects remotely from\noutside on another machine gonna get that?\n\n469\n00:23:35.522 --> 00:23:36.380\n&gt;&gt; Right.\n&gt;&gt; You may say, well,\n\n470\n00:23:36.380 --> 00:23:39.800\nthey could connect to the administrative\nshare, the C$ share, well, yeah,\n\n471\n00:23:39.800 --> 00:23:42.910\nbut that's a share,\nthat's not a path that's local.\n\n472\n00:23:42.910 --> 00:23:46.390\nAnd so my point is, the trick is that\nyou have to know that the path here,\n\n473\n00:23:46.390 --> 00:23:48.360\nhas to be a UNC, right.\n\n474\n00:23:48.360 --> 00:23:53.171\nIf you don't actually specify the UNC and\nyou do a local path, which you could do,\n\n475\n00:23:53.171 --> 00:23:55.355\nwe actually warn you in the console.\n\n476\n00:23:55.355 --> 00:23:58.607\nIt comes up with a big kind of dialog\nbox that says, hey, this is not a UNC,\n\n477\n00:23:58.607 --> 00:23:59.250\nit's local.\n\n478\n00:23:59.250 --> 00:24:01.061\nThis may or may not work the right way.\n\n479\n00:24:01.061 --> 00:24:03.140\nYou may have issues,\nare you sure you wanna do this?\n\n480\n00:24:03.140 --> 00:24:07.113\nWe actually could click yes, but\nhopefully, that's a warning to you that\n\n481\n00:24:07.113 --> 00:24:10.276\nyou gotta go back and\nmake sure it's gonna be through a UNC.\n\n482\n00:24:10.276 --> 00:24:13.134\nAnd I've already just set that\npath up if you take a look,\n\n483\n00:24:13.134 --> 00:24:17.186\ncuz I just put the software in before we\ngot started to make sure it was available,\n\n484\n00:24:17.186 --> 00:24:19.330\nand just specified where it would be.\n\n485\n00:24:19.330 --> 00:24:22.060\nYou could see the default path now,\nbecause I've already gone\n\n486\n00:24:22.060 --> 00:24:26.600\nto this area once to ensure this path\nis there, is in the form of a UNC.\n\n487\n00:24:26.600 --> 00:24:30.506\nSlash slash or backslash backslash server\nname, whatever the server will be,\n\n488\n00:24:30.506 --> 00:24:34.469\nin this case my domain controller, single\nslash after that, name of the share,\n\n489\n00:24:34.469 --> 00:24:36.706\nin this case the directory\ncalled help desk.\n\n490\n00:24:36.706 --> 00:24:39.542\nAnd then I have a couple of MSI\nfiles that I'm gonna be able to use.\n\n491\n00:24:39.542 --> 00:24:42.424\nI'll choose whichever one I wanna use,\nbut just so\n\n492\n00:24:42.424 --> 00:24:45.090\nyou know,\ndoes need to be in the form of a UNC.\n\n493\n00:24:45.090 --> 00:24:47.370\nSo I'm gonna grab one of the MSI files.\n\n494\n00:24:47.370 --> 00:24:48.570\nWhere do we get these from?\n\n495\n00:24:48.570 --> 00:24:50.440\nDownloaded these from Microsoft.\n\n496\n00:24:50.440 --> 00:24:52.270\nDownload them from another vendor.\n\n497\n00:24:52.270 --> 00:24:56.090\nGet them from some sort of internal\nsoftware that's been created by a dev\n\n498\n00:24:56.090 --> 00:24:58.830\nteam, as long as they\npackage it up as an MSI.\n\n499\n00:24:58.830 --> 00:25:00.910\nCome from anywhere in other words, right?\n\n500\n00:25:00.910 --> 00:25:02.467\nA lot of times today especially,\n\n501\n00:25:02.467 --> 00:25:06.305\ncompanies are in the business of making\ntheir own internal development efforts,\n\n502\n00:25:06.305 --> 00:25:09.600\nor being cycled towards making their\nown applications and software.\n\n503\n00:25:09.600 --> 00:25:13.203\nAnd we can easily deploy those the same\nway we could anything that's external,\n\n504\n00:25:13.203 --> 00:25:14.461\nfrom a third party vendor.\n\n505\n00:25:14.461 --> 00:25:16.155\nSo, just keep that in mind,\n\n506\n00:25:16.155 --> 00:25:20.105\nthat we will often get these\nprepackaged from some external source.\n\n507\n00:25:20.105 --> 00:25:21.625\nSo download them.\n\n508\n00:25:21.625 --> 00:25:24.895\nFollowing standard best practice,\nbusiness practices,\n\n509\n00:25:24.895 --> 00:25:29.065\nfrom a security standpoint,\nalways verify the source of that download.\n\n510\n00:25:29.065 --> 00:25:33.895\nDigitally sign software to ensure that\nit has integrity, has proof of origin\n\n511\n00:25:33.895 --> 00:25:37.550\nassociated with it, would be the standing\nrule of thumb that we often think about.\n\n512\n00:25:37.550 --> 00:25:39.990\nThat doesn't mean the software\ncan't be spoofed.\n\n513\n00:25:39.990 --> 00:25:42.330\nIt doesn't mean the software\nmay not contain malware.\n\n514\n00:25:42.330 --> 00:25:44.250\nIt may still be bad software.\n\n515\n00:25:44.250 --> 00:25:47.610\nBut the bar is a lot higher for somebody\nto trick you into downloading that,\n\n516\n00:25:47.610 --> 00:25:51.090\nif you're verifying the digital\nsignatures and the hash values, right,\n\n517\n00:25:51.090 --> 00:25:52.216\nassociated with the software.\n\n518\n00:25:52.216 --> 00:25:53.824\nSo-\n&gt;&gt; Yeah, wouldn't that be horrible,\n\n519\n00:25:53.824 --> 00:25:56.608\nif we set this all up just to push\nout a virus to all of our end users?\n\n520\n00:25:56.608 --> 00:25:59.146\n[LAUGH]\n&gt;&gt; Depends on whether we like our end\n\n521\n00:25:59.146 --> 00:26:00.600\nusers, I suppose.\n\n522\n00:26:00.600 --> 00:26:04.000\nIn some cases, that may actually wind\nup being not such a bad thing, right?\n\n523\n00:26:04.000 --> 00:26:06.180\nBut it is never a good thing.\n\n524\n00:26:06.180 --> 00:26:07.541\nLet's not joke about that,\ncuz that is correct.\n\n525\n00:26:07.541 --> 00:26:08.770\nIt would never be a good thing.\n\n526\n00:26:08.770 --> 00:26:11.090\nSo let's go ahead,\nlet's just grab the MSI file.\n\n527\n00:26:11.090 --> 00:26:12.000\nLet me do that real quick.\n\n528\n00:26:12.000 --> 00:26:15.460\nJust double click on the one I wanna use,\nas you can see there.\n\n529\n00:26:15.460 --> 00:26:19.610\nAnd then I get the option,\nsince I'm doing this on the computer side,\n\n530\n00:26:19.610 --> 00:26:22.310\nas you can see right here,\ncomputer configuration.\n\n531\n00:26:22.310 --> 00:26:26.210\nI have the option to assign\nthe software to the computer.\n\n532\n00:26:26.210 --> 00:26:26.863\nOr I have advanced.\n\n533\n00:26:26.863 --> 00:26:29.280\nAnd then if I do advanced,\nI get some additional options.\n\n534\n00:26:29.280 --> 00:26:32.440\nSo let's just take a look at what\nwe're gonna do, just we'll kind of\n\n535\n00:26:32.440 --> 00:26:36.020\nwalk through each one real quickly,\nsee the differences associated with this.\n\n536\n00:26:36.020 --> 00:26:39.490\nWe'll take a quick look at the user side,\nmake sure we understand that as well.\n\n537\n00:26:39.490 --> 00:26:42.241\nSo I do an assignment here,\njust move this up so we can see.\n\n538\n00:26:42.241 --> 00:26:50.370\nLet's click OK, the software package is\ndeposited inside of the little area there.\n\n539\n00:26:50.370 --> 00:26:54.380\nIt is set to deployment for assignment,\nor rather it's set as assigned, right?\n\n540\n00:26:54.380 --> 00:26:58.790\nWhatever the versioning is, etc.,\nbased on the metadata of the package.\n\n541\n00:26:58.790 --> 00:27:03.210\nAnd we see our path there,\nalong with the actual source path,\n\n542\n00:27:03.210 --> 00:27:07.218\nalong with the actual version and\nall that kinda stuff.\n\n543\n00:27:07.218 --> 00:27:08.441\nThat's what I was suggesting.\n\n544\n00:27:08.441 --> 00:27:08.968\nSo we have all that.\nAnd\n\n545\n00:27:08.968 --> 00:27:13.063\nthen we can go in, we could take a look\nat the properties of the package,\n\n546\n00:27:13.063 --> 00:27:16.703\nsince we're not really asked to\ninteract with them in any way.\n\n547\n00:27:16.703 --> 00:27:20.760\nWe will see general,\nwe will see some general information.\n\n548\n00:27:20.760 --> 00:27:24.088\nThe URL for it to be available,\nif that's provided.\n\n549\n00:27:24.088 --> 00:27:26.730\nThat's from the vendor by the way,\nnot from us.\n\n550\n00:27:26.730 --> 00:27:28.127\nAnd then,\nthe deployment is hardcoded to assignment.\n\n551\n00:27:28.127 --> 00:27:30.210\nNotice I can't modify that.\n\n552\n00:27:30.210 --> 00:27:33.864\nNotice I can specify uninstall\nbehavior for the software,\n\n553\n00:27:33.864 --> 00:27:38.110\nif it does have the ability to be\nuninstalled when it's out of scope.\n\n554\n00:27:38.110 --> 00:27:40.170\nI can pull it back, in other words.\n\n555\n00:27:40.170 --> 00:27:42.470\nSo I can use that capability.\n\n556\n00:27:42.470 --> 00:27:46.231\nI do have some advanced items here,\nwhere I can ignore language capacity on\n\n557\n00:27:46.231 --> 00:27:50.529\nthe system, and whether, in this case,\nthe software, just hypothetically let's\n\n558\n00:27:50.529 --> 00:27:53.550\nsay is in English, or\nmaybe the core OS is in English.\n\n559\n00:27:53.550 --> 00:27:55.090\nSo there's a match, no big deal.\n\n560\n00:27:55.090 --> 00:27:59.380\nBut I may be deploying a alternate\nlanguage version of software to\n\n561\n00:27:59.380 --> 00:28:01.880\na non-matching OS.\n\n562\n00:28:01.880 --> 00:28:06.310\nMeaning I may deploy a French version of\nsoftware to a Windows OS that's English,\n\n563\n00:28:06.310 --> 00:28:07.540\nor vice versa.\n\n564\n00:28:07.540 --> 00:28:10.660\nNormally, that would cause a red flag and\nwould cause a conflict.\n\n565\n00:28:10.660 --> 00:28:13.180\nI can override that behavior and\nsimply say ignore.\n\n566\n00:28:13.180 --> 00:28:15.300\nAnd I can push the software out anyway.\n\n567\n00:28:15.300 --> 00:28:19.077\nSo I have the capability to kinda control\nand modify that behavior if I want to,\n\n568\n00:28:19.077 --> 00:28:20.174\nin the advanced area.\n\n569\n00:28:20.174 --> 00:28:25.338\nIf I'm gonna specify upgrades that this\npackage will address, meaning I'm gonna be\n\n570\n00:28:25.338 --> 00:28:30.238\nsuperseding a prior package or something\nto that effect, I can add that in here.\n\n571\n00:28:30.238 --> 00:28:34.703\nIf I am doing categorization of my\nsoftware, meaning I have categories, hey,\n\n572\n00:28:34.703 --> 00:28:39.038\nthis is productivity, this is office,\nwhatever the metadata tags may be for\n\n573\n00:28:39.038 --> 00:28:40.121\ncategorization.\n\n574\n00:28:40.121 --> 00:28:43.439\nIf I've created those,\nI would then be able to see them and\n\n575\n00:28:43.439 --> 00:28:46.510\njust assign them here, so\nthat I can manage that way.\n\n576\n00:28:46.510 --> 00:28:48.630\nOptional, not required by any means.\n\n577\n00:28:48.630 --> 00:28:53.370\nIf I'm making any modifications or\ntransforms to customize this package,\n\n578\n00:28:53.370 --> 00:28:56.430\nmeaning I'm adding\nadditional capabilities and\n\n579\n00:28:56.430 --> 00:29:00.630\ndeployment options to this package,\nthat will be pushed as part of this so\n\n580\n00:29:00.630 --> 00:29:03.880\nthat it will further enhance or\nmodify the end user experience.\n\n581\n00:29:03.880 --> 00:29:06.580\nWe call those, typically,\ntransforms generically,\n\n582\n00:29:06.580 --> 00:29:09.140\nI would have a list of those and\nbe able to interact with those.\n\n583\n00:29:09.140 --> 00:29:13.038\nThose would have to be packaged and made\navailable as part of the core MSI package\n\n584\n00:29:13.038 --> 00:29:15.668\nthat I bring in their knot,\nso we don't see any here.\n\n585\n00:29:15.668 --> 00:29:19.230\nThis gets out beyond the conversation\nwere having about using an MSI file.\n\n586\n00:29:19.230 --> 00:29:24.413\nBut if you're actually using a repackaging\nplatform to create the MSIs,\n\n587\n00:29:24.413 --> 00:29:29.679\ntake the executables, all supporting\nfiles, and put them into a bundle,\n\n588\n00:29:29.679 --> 00:29:35.110\nwrap them with a bow, deliver them for\nuse as an MSI, then Ys, for instance,\n\n589\n00:29:35.110 --> 00:29:40.420\nWYSC is one of the package editors\nyou may use to do this kind of work.\n\n590\n00:29:40.420 --> 00:29:42.982\nThere are many of them out there,\nsystem center,\n\n591\n00:29:42.982 --> 00:29:47.255\nconfig manager has a repackaging set of\ntools associated with it, historically,\n\n592\n00:29:47.255 --> 00:29:49.402\nthat could be used to\ndo this kind of work.\n\n593\n00:29:49.402 --> 00:29:52.490\nThere are third party\nrepackagers that exist in\n\n594\n00:29:52.490 --> 00:29:55.510\nthe Microsoft Deployment Tool kit,\nthe MDT.\n\n595\n00:29:55.510 --> 00:29:59.101\nWe have tools that can do some of this\nkind of work depending on the version of\n\n596\n00:29:59.101 --> 00:30:00.070\nthe MDT you may use.\n\n597\n00:30:00.070 --> 00:30:02.148\nThere's different ways\nto find these things.\n\n598\n00:30:02.148 --> 00:30:05.893\nBut ultimately, you're taking a bunch of\nsupport files and including them, right,\n\n599\n00:30:05.893 --> 00:30:06.595\nessentially.\n\n600\n00:30:06.595 --> 00:30:10.290\nAnd then you would seem something listed\nhere, cuz there maybe additional scripted\n\n601\n00:30:10.290 --> 00:30:14.710\ninformation, as part of the instruction\nset the MSI provides, to drive deployment.\n\n602\n00:30:14.710 --> 00:30:17.540\nYou may have additional files\nthat add functionality.\n\n603\n00:30:17.540 --> 00:30:22.150\nThings like that have been explained and\nencoded in the information around the MSI\n\n604\n00:30:22.150 --> 00:30:24.415\nand the executables and\nall the files it works with.\n\n605\n00:30:24.415 --> 00:30:26.940\nThat's what we would see here,\nif we were using that.\n\n606\n00:30:26.940 --> 00:30:30.350\nAnd then, like always, we always have a\nsecurity tab that gives us permissions and\n\n607\n00:30:30.350 --> 00:30:32.570\nallows us to interact with whatever it is.\n\n608\n00:30:32.570 --> 00:30:36.940\nAnd in this case, we certainly see that\nhere, so we would have this capability.\n\n609\n00:30:36.940 --> 00:30:41.574\nThis is assigned, meaning when we deploy\nthis software through the group policy,\n\n610\n00:30:41.574 --> 00:30:44.302\nit gets assigned to the computer,\nnot the user.\n\n611\n00:30:44.302 --> 00:30:46.195\nAnd so, when the computer restarts or\n\n612\n00:30:46.195 --> 00:30:49.627\nstarts up the first time,\ndepending on when the policy's applied,\n\n613\n00:30:49.627 --> 00:30:53.889\nthis software will then be made available\nfor the users through the computer itself,\n\n614\n00:30:53.889 --> 00:30:57.410\nin other words, through control panel,\nin the add remove programs.\n\n615\n00:30:57.410 --> 00:30:58.587\nWe'll see it installed,\n\n616\n00:30:58.587 --> 00:31:01.810\nand we would have then the opportunity\nto interact with that software.\n\n617\n00:31:01.810 --> 00:31:05.595\nBut the user will have nothing to do,\nbecause it's assigned to the computer.\n\n618\n00:31:05.595 --> 00:31:07.965\nSo in other words,\nwe're pushing it directly to the computer.\n\n619\n00:31:07.965 --> 00:31:10.495\nThe user's essentially\nirrelevant to this process.\n\n620\n00:31:10.495 --> 00:31:12.135\nIf we do it through the computer\nside of the policy,\n\n621\n00:31:12.135 --> 00:31:14.985\nthey don't really have much to do or\nreally anything to say about it.\n\n622\n00:31:14.985 --> 00:31:18.125\nThey just get out of the way more\noften than not, and it just happens.\n\n623\n00:31:18.125 --> 00:31:20.526\nBut let's say we're gonna\ncreate another package here,\n\n624\n00:31:20.526 --> 00:31:22.842\ncuz we said we would look at\nthe advanced option as well.\n\n625\n00:31:22.842 --> 00:31:24.241\nSo let's do the same thing.\n\n626\n00:31:24.241 --> 00:31:26.175\nWe'll just go ahead and grab this one.\n\n627\n00:31:26.175 --> 00:31:29.490\nThis time let's just do advanced,\njust so you see the difference here.\n\n628\n00:31:29.490 --> 00:31:30.950\nRight, so this one is set to assigned.\n\n629\n00:31:30.950 --> 00:31:32.822\nStill in the computer setting, by the way.\n\n630\n00:31:32.822 --> 00:31:36.462\nSo it says, select this option to\nconfigure published or assigned options,\n\n631\n00:31:36.462 --> 00:31:39.375\nand to apply modifications to a package,\nas we talked about.\n\n632\n00:31:39.375 --> 00:31:43.088\nSo if we had those modifications\nwe wanted to apply, and\n\n633\n00:31:43.088 --> 00:31:47.300\nthey weren't preloaded,\nwe may be able to add them in here.\n\n634\n00:31:47.300 --> 00:31:50.660\nThat's one of the advantages of advanced,\nif we had other things we wanna do.\n\n635\n00:31:50.660 --> 00:31:51.680\nBut you'll notice,\nI have the same interface.\n\n636\n00:31:51.680 --> 00:31:54.930\nIt's not that any of\nthe options are different.\n\n637\n00:31:54.930 --> 00:31:58.260\nI can't change this and\nmake it published, it's still assigned.\n\n638\n00:31:58.260 --> 00:31:59.303\nAll this other stuff is still grayed out.\n\n639\n00:31:59.303 --> 00:32:03.317\nThese are still available,\nthis is still available, modifications,\n\n640\n00:32:03.317 --> 00:32:04.580\nI can't add them now.\n\n641\n00:32:04.580 --> 00:32:08.628\nRemember I said that they may be hard\ncoded as part of the MSI originally but\n\n642\n00:32:08.628 --> 00:32:12.370\nI could also add them in if I have\na thought about how I want to do that.\n\n643\n00:32:12.370 --> 00:32:15.390\nAnd the advanced setting would\nallow me to do that here.\n\n644\n00:32:15.390 --> 00:32:19.400\nI would be able to go grab\nan additional transform of some kind,\n\n645\n00:32:19.400 --> 00:32:21.580\nsome additional capability.\n\n646\n00:32:21.580 --> 00:32:25.806\nAnd probably the biggest change or\nadditional benefit that the advanced\n\n647\n00:32:25.806 --> 00:32:28.784\nappointment gives me is\nthe ability to fine tune and\n\n648\n00:32:28.784 --> 00:32:32.402\nwork with those transforms outside\nthe patch but add them in.\n\n649\n00:32:32.402 --> 00:32:34.940\nYou're supposed to have them as\npart of the original deployment.\n\n650\n00:32:34.940 --> 00:32:36.050\nSo I can do that here.\n\n651\n00:32:36.050 --> 00:32:38.910\nThat would be really the only\nkey differentiator and\n\n652\n00:32:38.910 --> 00:32:41.320\nthen we have our security area as well.\n\n653\n00:32:41.320 --> 00:32:44.530\nSo I could do that if I chose to\nmake that and just simply say yes.\n\n654\n00:32:44.530 --> 00:32:47.390\nI would get an advanced package\nthat was specified there.\n\n655\n00:32:47.390 --> 00:32:52.400\nLet's look at the user's side of\nthe equation, right click, New, again,\n\n656\n00:32:52.400 --> 00:32:56.820\nPackage, looks the same,\nspecify because my path is already there,\n\n657\n00:32:56.820 --> 00:32:58.220\nI don't have to type it in.\n\n658\n00:32:58.220 --> 00:33:01.940\nLet's choose a different package just cuz\nwe're using seven zip for the other one,\n\n659\n00:33:01.940 --> 00:33:03.320\nI'll use WinZip for this one.\n\n660\n00:33:04.480 --> 00:33:08.740\nNow notice I have three options,\nPublish, Assigned or Advanced right,\n\n661\n00:33:08.740 --> 00:33:13.800\nwe've only been looking at the assignment\nor advanced options with computers.\n\n662\n00:33:13.800 --> 00:33:17.450\nPublish means make it available since\nthey advertise it which is what it some\n\n663\n00:33:17.450 --> 00:33:20.710\npoint early on in its history,\nwe would have heard it referred to as,\n\n664\n00:33:20.710 --> 00:33:24.730\na lot of people still refer\nto publishing as advertising.\n\n665\n00:33:24.730 --> 00:33:26.580\nMake it available.\n\n666\n00:33:26.580 --> 00:33:30.770\nLet the user, in other words, choose to\ninvoke the software through installation,\n\n667\n00:33:30.770 --> 00:33:33.910\nwhen they would like to use it,\nas opposed to assigning it to them.\n\n668\n00:33:33.910 --> 00:33:36.668\nMake it mandatory for\nthem to have it available and\n\n669\n00:33:36.668 --> 00:33:40.881\nhave it installed when they log in\npublishing means invoke, essentially.\n\n670\n00:33:40.881 --> 00:33:42.850\nGo get it when you wanna use it.\n\n671\n00:33:42.850 --> 00:33:45.630\nIt is there but\nyou're not gonna have it as a mandatory\n\n672\n00:33:45.630 --> 00:33:47.750\nthought process that's\nthe key differentiator.\n\n673\n00:33:47.750 --> 00:33:49.720\nAnd then advanced,\nthe same idea we just saw.\n\n674\n00:33:49.720 --> 00:33:52.640\nSo let's just look at Published\nsince we haven't seen that one yet.\n\n675\n00:33:54.430 --> 00:33:56.250\nYou'll see we do publish there.\n\n676\n00:33:56.250 --> 00:33:59.630\nAnd again, very quick,\nvery easy, right click.\n\n677\n00:33:59.630 --> 00:34:01.010\nWe do have properties.\n\n678\n00:34:01.010 --> 00:34:02.890\nAnd notice by the way, Auto Install.\n\n679\n00:34:02.890 --> 00:34:06.760\nMeaning, it's going to make itself\navailable there as we talked about.\n\n680\n00:34:06.760 --> 00:34:10.810\nAre we gonna change that and\ncan we modify that to assign from publish?\n\n681\n00:34:10.810 --> 00:34:14.940\nNotice I can change that and\nwalk that over to assign or\n\n682\n00:34:14.940 --> 00:34:18.420\nsimply check off the box\nto make that change.\n\n683\n00:34:18.420 --> 00:34:21.680\nDeployment, I can do the same thing here,\nchange between published and assigned.\n\n684\n00:34:22.950 --> 00:34:25.300\nLet me just move this over so\nyou can see this,\n\n685\n00:34:25.300 --> 00:34:30.390\nnotice here auto install the application\nthrough file extension activation.\n\n686\n00:34:30.390 --> 00:34:33.620\nRemember I said the user\nessentially invokes the software,\n\n687\n00:34:33.620 --> 00:34:37.490\nwe advertise that its available\nin the ad remove programs area.\n\n688\n00:34:37.490 --> 00:34:40.680\nAnd then if you double click on that or\n\n689\n00:34:40.680 --> 00:34:45.115\nload up a file that has that extension\nlet's just hypothetically say that this is\n\n690\n00:34:45.115 --> 00:34:49.615\nnot WinZip, but\nmaybe this is Microsoft Word, right?\n\n691\n00:34:49.615 --> 00:34:52.515\nThe Word program broken on\nseparately from Office.\n\n692\n00:34:52.515 --> 00:34:55.725\nAnd let's say, we're deploying it that way\nas a stand alone product which we could do\n\n693\n00:34:55.725 --> 00:34:58.207\nin theory, if that's what we wanted to do.\n\n694\n00:34:58.207 --> 00:35:02.324\nIf I download a document that has\na .doc.docx extension without Word\n\n695\n00:35:02.324 --> 00:35:06.023\nbeing installed,\nthe document doesn't align with the icon,\n\n696\n00:35:06.023 --> 00:35:10.439\nit doesn't change the overall look of\nthe document when you try to open it.\n\n697\n00:35:10.439 --> 00:35:13.576\nWindows says, hey, I don't know what to\nopen this with, what are your options,\n\n698\n00:35:13.576 --> 00:35:15.904\nNotepad, Wordpad, whatever,\nthat's normal behavior.\n\n699\n00:35:15.904 --> 00:35:20.423\nCuz the program that's associated with\nthat file extension is not installed in\n\n700\n00:35:20.423 --> 00:35:21.440\nthe os natively.\n\n701\n00:35:21.440 --> 00:35:25.853\nWhen we publish software, we can invoke\nthe software installation based on double\n\n702\n00:35:25.853 --> 00:35:27.830\nclicking on a file extension.\n\n703\n00:35:27.830 --> 00:35:31.720\nSo if I load or try to load that Word\ndocument without Word being installed but\n\n704\n00:35:31.720 --> 00:35:35.880\nI've published Word through group policy\nand it's a pending publish, essentially\n\n705\n00:35:35.880 --> 00:35:37.305\nit's just sitting there waiting-\n&gt;&gt; They have [INAUDIBLE].\n\n706\n00:35:37.305 --> 00:35:39.235\n&gt;&gt; On the user to say,\nI want it, it pops up and\n\n707\n00:35:39.235 --> 00:35:41.690\nsays, you must want me to install that.\n\n708\n00:35:41.690 --> 00:35:43.320\nAnd it starts to install Word, so\n\n709\n00:35:43.320 --> 00:35:46.380\nyou can actually access the file\nafter the installation is done.\n\n710\n00:35:46.380 --> 00:35:50.040\nCall that invoking the software\nthrough the execution of the file.\n\n711\n00:35:50.040 --> 00:35:51.460\nSo by launching the file,\n\n712\n00:35:51.460 --> 00:35:55.025\nyou essentially are launching or\ntriggering this behaviour natively\n\n713\n00:35:55.025 --> 00:35:58.135\nbased on the setting of installing\nthe software when it's published.\n\n714\n00:35:58.135 --> 00:35:59.175\nSo just make sure you're aware of that.\n\n715\n00:35:59.175 --> 00:36:01.225\nYou see the logic of that connection.\n\n716\n00:36:01.225 --> 00:36:05.117\nAnd you can of course see that and\nthen, we can decide whether or not,\n\n717\n00:36:05.117 --> 00:36:08.140\nas I said,\nwe do natively by default when we publish,\n\n718\n00:36:08.140 --> 00:36:11.265\ndisplay the software of\nadvertisement essentially.\n\n719\n00:36:11.265 --> 00:36:14.495\nThe banner for it shows up in add\nremove programs, as I mentioned and\n\n720\n00:36:14.495 --> 00:36:18.010\nyou see I'm pointing there to an option\nthat lets us opt out of that.\n\n721\n00:36:18.010 --> 00:36:21.860\nDon't display this package in\nthe Add Remove Programs in Control Panel.\n\n722\n00:36:21.860 --> 00:36:26.290\nIn other words, stealth it, have it be\navailable as a published option but\n\n723\n00:36:26.290 --> 00:36:30.740\nwe're not gonna advertise it\nblatantly right in the add remove\n\n724\n00:36:31.760 --> 00:36:33.290\ncontrol panel area or\nadd remove programs in control panel area.\n\n725\n00:36:33.290 --> 00:36:36.490\nAnd instead,\nwe are simply going to have it there but\n\n726\n00:36:36.490 --> 00:36:40.330\nwe're not gonna realize it's there and\nunless the user invokes it some way,\n\n727\n00:36:40.330 --> 00:36:42.770\nthere's just not gonna see it, they\nwon't be aware of the fact that's there.\n\n728\n00:36:42.770 --> 00:36:44.880\nSo we do have options, right?\n\n729\n00:36:44.880 --> 00:36:48.350\nWhen we do a publish,\njust wanna make sure you're aware of that.\n\n730\n00:36:48.350 --> 00:36:53.890\nSo we do have the ability to be able to\ndecide how that is going to behave, right?\n\n731\n00:36:53.890 --> 00:36:57.990\nAnd we do have the option to select,\nas you can see or unselect settings\n\n732\n00:36:57.990 --> 00:37:01.520\nwhich is based on what it is we are\nchoosing or would like to accomplish here.\n\n733\n00:37:01.520 --> 00:37:04.190\nUpgrades essentially behave the same way.\n\n734\n00:37:06.310 --> 00:37:10.000\nThe only difference here is that we can\nforce an upgrade to become required for\n\n735\n00:37:10.000 --> 00:37:13.220\nexisting packages, unlike when we\nsend it off for the computer area.\n\n736\n00:37:13.220 --> 00:37:16.150\nWe have that option to do that\nwhen we're publishing it here.\n\n737\n00:37:16.150 --> 00:37:18.960\nBut we do have categories,\nwe do have modifications.\n\n738\n00:37:18.960 --> 00:37:20.900\nA greyed out one, we're publishing again.\n\n739\n00:37:20.900 --> 00:37:23.770\nIf you had transforms as part\nof the overall MSI package,\n\n740\n00:37:23.770 --> 00:37:26.510\nyou'll be able to deploy that\ncomplex logic automatically.\n\n741\n00:37:26.510 --> 00:37:29.760\nIf not, we would have to not\npublish the software but\n\n742\n00:37:29.760 --> 00:37:33.280\nrather as you saw,\nmake it available through an advanced\n\n743\n00:37:33.280 --> 00:37:37.380\noption to then add the transforms in\nourself as we saw in the computer side.\n\n744\n00:37:37.380 --> 00:37:39.920\nSo we could do this just click OK, just so\n\n745\n00:37:39.920 --> 00:37:42.070\nwe have that there and\nwe could set that to publish.\n\n746\n00:37:42.070 --> 00:37:45.660\nCan we change that to instead of publish\nassign or change that to advanced?\n\n747\n00:37:45.660 --> 00:37:48.174\nYeah, just go back and\nmodify it as you've seen but\n\n748\n00:37:48.174 --> 00:37:51.573\nby doing software based appointment\nwith group policy managing it.\n\n749\n00:37:51.573 --> 00:37:56.373\nWe have the opportunity to be able to\ndeploy software to very large, potentially\n\n750\n00:37:56.373 --> 00:38:01.740\nlarge segments of objects, computers,\nusers or both, control that behaviour.\n\n751\n00:38:01.740 --> 00:38:05.490\nIt's been around as an option or\nability to do since Windows 2000,\n\n752\n00:38:05.490 --> 00:38:09.970\nthe earliest days of group policy\nhave given us this capability.\n\n753\n00:38:09.970 --> 00:38:12.260\nIt's an oldy but a goody,\nright as we would say.\n\n754\n00:38:12.260 --> 00:38:17.350\nIt is not as refined,\nnot as granular in our ability to control.\n\n755\n00:38:17.350 --> 00:38:21.370\nThe outcomes of software management\nas we would get with something like\n\n756\n00:38:21.370 --> 00:38:24.410\na configuration management software,\ntools such as SCCM,\n\n757\n00:38:24.410 --> 00:38:26.970\nsystem center config manager.\n\n758\n00:38:26.970 --> 00:38:29.980\nDefinitely a lot more granularity,\na little more capabilities, a lot more\n\n759\n00:38:29.980 --> 00:38:34.460\nflexibility on that kind of a scaled\nenterprise configuration management and\n\n760\n00:38:34.460 --> 00:38:36.220\nasset management program.\n\n761\n00:38:36.220 --> 00:38:40.020\nBut certainly, enough to get the job\ndone here, if our main goal is to\n\n762\n00:38:40.020 --> 00:38:45.020\ntake a very simplistic MSI package\nlike I said, something like Office.\n\n763\n00:38:45.020 --> 00:38:46.330\nWe don't need a lot of bells and whistles.\n\n764\n00:38:46.330 --> 00:38:47.990\nWe don't have to do\na lot of customization,\n\n765\n00:38:47.990 --> 00:38:50.830\nalthough we have the ability to\ndo some basic transforms there.\n\n766\n00:38:50.830 --> 00:38:52.965\nAnd we really just wanna\npush it out to the masses.\n\n767\n00:38:52.965 --> 00:38:57.475\nGet it deployed, get the software out\nthere, ensure it's being deployed and\n\n768\n00:38:57.475 --> 00:39:00.665\nkeep it deployed every\ntime the user's log in and\n\n769\n00:39:00.665 --> 00:39:03.925\nthe computer restarts to ensure\ncompliance with that policy.\n\n770\n00:39:03.925 --> 00:39:06.235\nRemember, we always recheck and\nreapply policy.\n\n771\n00:39:06.235 --> 00:39:08.715\nSo that way if somebody misses\nit it's uninstalled etc.\n\n772\n00:39:08.715 --> 00:39:10.255\nIt will be reapplied.\n\n773\n00:39:10.255 --> 00:39:13.250\nWe can do that with this but\nthat's not the only way.\n\n774\n00:39:13.250 --> 00:39:16.140\nGroup policy based upon new software\nis not the only way to manage\n\n775\n00:39:16.140 --> 00:39:16.970\nsoftware appointments.\n\n776\n00:39:16.970 --> 00:39:20.642\nSo there are many other ways to do\nthis but it is very important for\n\n777\n00:39:20.642 --> 00:39:22.382\nus to understand this.\n\n778\n00:39:22.382 --> 00:39:25.958\nServer 16 continues this fine tradition,\nas I said it goes all the way back to\n\n779\n00:39:25.958 --> 00:39:29.890\nServer 2000 with our ability to\ndo this in one form or another.\n\n780\n00:39:29.890 --> 00:39:32.489\nHas not really changed all\nthat much over the years but\n\n781\n00:39:32.489 --> 00:39:35.378\nit is definitely a refined\ncapability that allows us to have\n\n782\n00:39:35.378 --> 00:39:38.933\nflexibility with regards to either\nassignments of computers or users.\n\n783\n00:39:38.933 --> 00:39:42.382\nThrough publishing, through assignment and\nthrough advanced feature manipulation.\n\n784\n00:39:42.382 --> 00:39:45.290\nSo wanna make sure we're comfortable\nwith that and how all that works.\n\n785\n00:39:45.290 --> 00:39:46.290\n&gt;&gt; All right, Adam, this is pretty cool.\n\n786\n00:39:46.290 --> 00:39:48.920\nYou've showed us quite a few things,\nquite a few features that\n\n787\n00:39:48.920 --> 00:39:53.270\ngroup policy isn't able to offer to make\nthat user experience more enjoyable but\n\n788\n00:39:53.270 --> 00:39:56.100\nis there anything else that we'll\nbe looking at to moving forward?\n\n789\n00:39:56.100 --> 00:39:58.790\nOr do you have any finals thoughts for\nthis show?\n\n790\n00:39:58.790 --> 00:39:59.380\n&gt;&gt; Both.\n\n791\n00:39:59.380 --> 00:39:59.909\n&gt;&gt; Okay.\n&gt;&gt; So\n\n792\n00:39:59.909 --> 00:40:00.683\njust real quick,\n&gt;&gt; [LAUGH]\n\n793\n00:40:00.683 --> 00:40:01.337\n&gt;&gt; With regards to\n\n794\n00:40:01.337 --> 00:40:02.600\nusers in assigned software.\n\n795\n00:40:02.600 --> 00:40:06.250\nIf we assign software to users and\nthey log into a computer.\n\n796\n00:40:06.250 --> 00:40:08.430\nAnd this should hopefully make\nsense to you, It's logical.\n\n797\n00:40:08.430 --> 00:40:09.744\nIt's also somewhat intuitive but\n\n798\n00:40:09.744 --> 00:40:12.061\nI did mention, I just wanna\nmake sure you're clear on this.\n\n799\n00:40:12.061 --> 00:40:16.723\nUsers, if there's multiple users log in to\na computer, each with their own profiles,\n\n800\n00:40:16.723 --> 00:40:18.770\nthey will not share software.\n\n801\n00:40:18.770 --> 00:40:20.800\nSo in other words,\nif I assign it to Cherokee as a user,\n\n802\n00:40:20.800 --> 00:40:22.044\nthe software deployment.\n\n803\n00:40:22.044 --> 00:40:22.711\n&gt;&gt; Good to know.\n\n804\n00:40:22.711 --> 00:40:27.029\nAnd I log in as Adam separately,\nI will not see Cherokee's assigned\n\n805\n00:40:27.029 --> 00:40:30.600\nsoftware if we are governed\nby different policies.\n\n806\n00:40:30.600 --> 00:40:33.350\nAnd I do the deployment\nof software to the user.\n\n807\n00:40:33.350 --> 00:40:37.097\nHowever, if I do it to the computer and\nI make it assigned to the computer\n\n808\n00:40:37.097 --> 00:40:40.095\nall users logging into that\ncomputer regardless of their\n\n809\n00:40:40.095 --> 00:40:43.610\nprofile will see the software\nassuming that we make it mandatory.\n\n810\n00:40:43.610 --> 00:40:45.060\nAnd it shows up for everybody, right?\n\n811\n00:40:45.060 --> 00:40:47.110\nBecause we're doing it to the computer.\n\n812\n00:40:47.110 --> 00:40:49.260\nIt's there irrespective\nof the user that logs in.\n\n813\n00:40:49.260 --> 00:40:51.390\nSo, just a subtle but\nvery important point.\n\n814\n00:40:51.390 --> 00:40:53.240\nJust wanna make sure we're clear on that.\n\n815\n00:40:53.240 --> 00:40:55.210\nWith regards to what may be coming up.\n\n816\n00:40:55.210 --> 00:40:58.519\nYeah, I think we want to,\nas I'm just looking at my notes here.\n\n817\n00:40:58.519 --> 00:41:02.480\nWanna make sure that we think\nabout group policy preferences.\n\n818\n00:41:02.480 --> 00:41:04.515\nI did mention them,\nwe just took a quick look at them.\n\n819\n00:41:04.515 --> 00:41:07.480\nWanna go back and just make sure we're\ncomfortable with that and what that will\n\n820\n00:41:07.480 --> 00:41:11.100\nbe, explore a little bit about that got\nsome interesting things going on there.\n\n821\n00:41:11.100 --> 00:41:14.330\nAnd then a couple of other things just\nto wrap up our conversation around group\n\n822\n00:41:14.330 --> 00:41:17.510\npolicy but then we'll be moving\non doing some other stuff.\n\n823\n00:41:17.510 --> 00:41:18.620\n&gt;&gt; Perfect thank you so much.\n\n824\n00:41:18.620 --> 00:41:20.290\nAnd thank you for\nbeing with us as well but for\n\n825\n00:41:20.290 --> 00:41:22.250\nthis show we're gonna go ahead and\nsign out.\n\n826\n00:41:22.250 --> 00:41:24.240\nI've been your host, Cherokee Boose.\n\n827\n00:41:24.240 --> 00:41:24.900\n&gt;&gt; I am Adam Gordon.\n\n828\n00:41:24.900 --> 00:41:28.185\n&gt;&gt; See you next time here at ITProTV.\n\n829\n00:41:28.185 --> 00:41:34.233\n[MUSIC]\n\n830\n00:41:34.233 --> 00:41:37.411\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231753529"
        },
        {
          "description": "This shows kicks off with Adam and Cherokee walking through a demonstration where the documents folder is redirected to a central location. Next, Adam demonstrates how to setup up automation using scripts via GPMC.  Lastly, they spend more time discussing preferences.",
          "length": "2015",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-5-managing_user_settings_with_group_policy_pt5-082917-PGM.00_33_17_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-5-managing_user_settings_with_group_policy_pt5-082917-PGM.00_33_17_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-6-1-5-managing_user_settings_with_group_policy_pt5-082917-PGM.00_33_17_01.Still001-sm.jpg",
          "title": "Managing User Settings with Group Policy Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:00.781\nWelcome to ITProTV.\n\n2\n00:00:00.781 --> 00:00:01.281\nI'm your host, Don Pezet.\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:01.281 --> 00:00:08.279\n[MUSIC]\n\n4\n00:00:08.279 --> 00:00:11.131\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.131 --> 00:00:13.124\n&gt;&gt; Welcome, ladies and gentlemen,\n\n6\n00:00:13.124 --> 00:00:17.661\nto Identify with Windows Server 2016.\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.661 --> 00:00:18.749\nIn this episode,\n\n8\n00:00:18.749 --> 00:00:23.490\nwe'll continue looking at how to manage\nuser settings with Group Policy.\n\n9\n00:00:23.490 --> 00:00:26.180\nAnd back with us today, in the studio,\nis we have Mr Adam Gordon.\n\n10\n00:00:26.180 --> 00:00:27.450\nThank you for joining us today, Adam.\n\n11\n00:00:29.502 --> 00:00:30.953\n&gt;&gt; That was so good, I'm just in awe.\n\n12\n00:00:30.953 --> 00:00:32.268\n&gt;&gt; [LAUGH] I'm like I can't.\n\n13\n00:00:32.268 --> 00:00:34.400\n&gt;&gt; I can't say anything, it was flawless.\n\n14\n00:00:34.400 --> 00:00:36.337\nAll right, so, Cherokee set us up.\n\n15\n00:00:36.337 --> 00:00:38.300\nLet's get back to what\nwe're talking about here.\n\n16\n00:00:38.300 --> 00:00:42.630\nSo, more fun and\nintrigue with user settings and\n\n17\n00:00:42.630 --> 00:00:44.560\nmanagement of these\nsettings with Group Policy.\n\n18\n00:00:44.560 --> 00:00:47.633\nSo when we think about going in and\ncontinuing to control the environment,\n\n19\n00:00:47.633 --> 00:00:49.406\nwe've talked about folder redirection.\n\n20\n00:00:49.406 --> 00:00:52.450\nWe're gonna revisit that for\njust a couple of seconds.\n\n21\n00:00:52.450 --> 00:00:56.020\nI neglected to show you something really\ncritical in the last walk-through,\n\n22\n00:00:56.020 --> 00:00:59.980\nwhich was, hey, we tilted all the settings\naround it, had he actually implemented.\n\n23\n00:00:59.980 --> 00:01:01.150\nSo I left out that little piece.\n\n24\n00:01:01.150 --> 00:01:04.400\nWe're just gonna take a quick look\nunder the hood there, in the user area,\n\n25\n00:01:04.400 --> 00:01:06.080\nwhere we were and Window settings and\n\n26\n00:01:06.080 --> 00:01:09.560\njust see how by folder we can actually\njust right-click and implement that.\n\n27\n00:01:09.560 --> 00:01:11.190\nSo I just wanna make sure you see that.\n\n28\n00:01:11.190 --> 00:01:14.120\nSo we'll go over that, but we're gonna\njump through that pretty quickly.\n\n29\n00:01:14.120 --> 00:01:16.290\nGonna take a look at scripts.\n\n30\n00:01:16.290 --> 00:01:19.500\nWe're gonna take a look at log on,\nlog off, shutdown and\n\n31\n00:01:19.500 --> 00:01:22.640\nstartup scripts just to remind ourselves\nof what we can do with scripts,\n\n32\n00:01:22.640 --> 00:01:28.480\nboth Visual Basic, any kind of\nscripting language, JScript, etc.\n\n33\n00:01:28.480 --> 00:01:31.480\nBut since 2008 R2 PowerShell,\nwhich you hear me talk about a great deal,\n\n34\n00:01:31.480 --> 00:01:34.690\nit was supported there as well, which is\nkinda cool, so we'll take a look at that.\n\n35\n00:01:34.690 --> 00:01:36.640\nWe already talked about preferences.\n\n36\n00:01:36.640 --> 00:01:40.991\nSo we are going to go in and\nmake sure we have a quick word to say.\n\n37\n00:01:40.991 --> 00:01:45.173\nI kinda previewed preferences in the last\ndiscussion, the last episode with regards\n\n38\n00:01:45.173 --> 00:01:49.080\nto full to redirection walking through\nthe logic of the dos and don'ts around.\n\n39\n00:01:49.080 --> 00:01:52.872\nMaking sure we know where to set settings,\nwe're gonna go back have a slightly deeper\n\n40\n00:01:52.872 --> 00:01:56.380\nconversation around preferences\njust to round out that topic.\n\n41\n00:01:56.380 --> 00:02:00.274\nAnd item level targeting which lets us\ngo in and be very specific and granular.\n\n42\n00:02:00.274 --> 00:02:02.840\nIt's one of the nice things about\npreferences as I had discussed.\n\n43\n00:02:02.840 --> 00:02:05.070\nAnd we'll take a look at that as well.\n\n44\n00:02:05.070 --> 00:02:05.970\nSo we're gonna do all that.\n\n45\n00:02:05.970 --> 00:02:11.260\nSo if you join me here or right up\nthere as we often say, we will begin.\n\n46\n00:02:11.260 --> 00:02:14.200\nSo I'm in the same policy editor\nwe've been using for some time.\n\n47\n00:02:14.200 --> 00:02:18.910\nAnd I've highlighted here,\njust starting with that additional little\n\n48\n00:02:18.910 --> 00:02:21.280\nnugget of information around\nthe folder redirection.\n\n49\n00:02:21.280 --> 00:02:23.310\nI'm in the users area of the policy.\n\n50\n00:02:23.310 --> 00:02:25.161\nLet me just scroll up so you can see.\n\n51\n00:02:25.161 --> 00:02:28.366\nAnd I'm in under user configuration\npolicies windows settings,\n\n52\n00:02:28.366 --> 00:02:29.890\nfolder redirection.\n\n53\n00:02:29.890 --> 00:02:33.230\nWe'd been down in the other area down\nhere, under administrative templates,\n\n54\n00:02:33.230 --> 00:02:37.230\nto look at the client's side extensions\nfor folder redirection on both sides,\n\n55\n00:02:37.230 --> 00:02:38.360\ncomputer and user.\n\n56\n00:02:38.360 --> 00:02:41.378\nBut we just wanna make sure we see\nthe actual settings by folder than can\n\n57\n00:02:41.378 --> 00:02:42.102\nbe redirected.\n\n58\n00:02:42.102 --> 00:02:45.650\nIf you remember back to the episode,\nwe started talking about this in.\n\n59\n00:02:45.650 --> 00:02:47.634\nI walk through the list of the 12 or so\n\n60\n00:02:47.634 --> 00:02:51.168\nfolders that are sitting up there\non the left that you can redirect.\n\n61\n00:02:51.168 --> 00:02:54.715\nSince you have the list of these in\nshow notes, would be a good idea for\n\n62\n00:02:54.715 --> 00:02:56.620\nyou to have a sense of what these are.\n\n63\n00:02:56.620 --> 00:03:01.440\nYou never know when you may see a drag and\ndrop, interactive, choose all that apply,\n\n64\n00:03:01.440 --> 00:03:04.710\ntell me which folders can and\ncan not be redirected opportunity.\n\n65\n00:03:04.710 --> 00:03:07.210\nAnd you would wanna make sure\nyou answer appropriately,\n\n66\n00:03:07.210 --> 00:03:09.490\nif you are given that opportunity.\n\n67\n00:03:09.490 --> 00:03:12.650\nWe're going to take a look at\nthe documents folder, which is\n\n68\n00:03:12.650 --> 00:03:16.600\noften the folder that is most likely\nthe target of redirection activities,\n\n69\n00:03:16.600 --> 00:03:18.010\nif you think about\nthe logic of what we do.\n\n70\n00:03:19.790 --> 00:03:23.170\nRight-click on documents or\nany of them as you could see there, and\n\n71\n00:03:23.170 --> 00:03:24.901\nselect before you right-click.\n\n72\n00:03:24.901 --> 00:03:27.805\nAnd notice there's nothing\nin any of these, right,\n\n73\n00:03:27.805 --> 00:03:31.042\nthis is not where we go to see\nall the music that the user has.\n\n74\n00:03:31.042 --> 00:03:35.223\nIt's not where we see what the videos are,\nthis is where we go to set settings around\n\n75\n00:03:35.223 --> 00:03:38.122\nhow to deal with that stuff,\nso nothing here by default.\n\n76\n00:03:38.122 --> 00:03:41.120\nRight, so don't be shocked when you\ngo in and don't see anything there,\n\n77\n00:03:41.120 --> 00:03:42.825\nthat is expected and normal.\n\n78\n00:03:42.825 --> 00:03:47.250\nRight-click, and again, don't be\nshocked when you see a new item here.\n\n79\n00:03:47.250 --> 00:03:50.750\nThis is not something we're setting\nbased on setting multiples.\n\n80\n00:03:50.750 --> 00:03:54.180\nThis is a collection of settings that\nwe've found under that properties item\n\n81\n00:03:54.180 --> 00:03:58.410\nthat we're gonna take a look in a minute\nthat will apply to every user or\n\n82\n00:03:58.410 --> 00:04:00.620\ncomputer that gets hit with this policy.\n\n83\n00:04:00.620 --> 00:04:03.310\nSo we set it once,\nmanipulate the properties, and\n\n84\n00:04:03.310 --> 00:04:05.670\nthat's how we apply this\nparticular setting.\n\n85\n00:04:05.670 --> 00:04:07.680\nI want to make sure you're\nfamiliar with that.\n\n86\n00:04:07.680 --> 00:04:12.070\nGo to Properties, and we get our document,\nin this case, Folder Properties.\n\n87\n00:04:12.070 --> 00:04:14.140\nTarget., what are we going to target?\n\n88\n00:04:14.140 --> 00:04:18.630\nSetting not configured, well, clearly\nnot turned on by default, we know that.\n\n89\n00:04:18.630 --> 00:04:19.920\nBasic versus advanced.\n\n90\n00:04:19.920 --> 00:04:22.610\nI mentioned this in the episode,\nwhere we went through and took a look at\n\n91\n00:04:22.610 --> 00:04:25.780\nthe different settings that we would have\nthe opportunity to do a basic redirect, or\n\n92\n00:04:25.780 --> 00:04:26.870\na more advanced redirect.\n\n93\n00:04:26.870 --> 00:04:29.320\nYou wanna make sure we're\ncomfortable with that.\n\n94\n00:04:29.320 --> 00:04:32.590\nThe basic difference here,\nno pun intended, the difference here,\n\n95\n00:04:32.590 --> 00:04:34.120\nI should say, did you pick up on that?\n\n96\n00:04:34.120 --> 00:04:34.890\nYou didn't say anything.\n\n97\n00:04:34.890 --> 00:04:35.756\nYou're not paying attention.\n\n98\n00:04:35.756 --> 00:04:36.475\n&gt;&gt; The basic difference.\n\n99\n00:04:36.475 --> 00:04:37.122\n&gt;&gt; You didn't pay attention.\n\n100\n00:04:37.122 --> 00:04:38.134\n&gt;&gt; [LAUGH]\n&gt;&gt; When I said basic,\n\n101\n00:04:38.134 --> 00:04:38.844\nyou didn't pay attention.\n\n102\n00:04:38.844 --> 00:04:41.448\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so the basic differences,\n\n103\n00:04:41.448 --> 00:04:44.188\nI would say, right,\nis that with basic is you can see.\n\n104\n00:04:44.188 --> 00:04:46.650\nI don't know, it's little hard\nto see the words, kind of small.\n\n105\n00:04:46.650 --> 00:04:49.450\nWe're hovering over them, but\nredirect everyone's folder to\n\n106\n00:04:49.450 --> 00:04:54.360\nthe same location as basic, advance to\nspecify location for various user groups.\n\n107\n00:04:54.360 --> 00:04:57.560\nAnd we talked about this a little\nbit in the episode, but clearly,\n\n108\n00:04:57.560 --> 00:05:02.050\nthere may be times when we just wanna send\neverybody to the same location, right?\n\n109\n00:05:02.050 --> 00:05:05.150\nBut there may be times where\ncertain groups will get redirected\n\n110\n00:05:05.150 --> 00:05:07.370\nto certain servers,\neither from a security standpoint.\n\n111\n00:05:07.370 --> 00:05:10.980\nCherokee called that out and\nmade us remember the fact, and think about\n\n112\n00:05:10.980 --> 00:05:15.264\nthe security implications of some sort of\npolicy based management of redirection.\n\n113\n00:05:15.264 --> 00:05:18.835\nMaybe a regulatory or\nsome sort of compliance concern, right,\n\n114\n00:05:18.835 --> 00:05:19.970\nas you called that.\n\n115\n00:05:19.970 --> 00:05:21.570\nSo there are reasons why we may\nchoose one of the other here.\n\n116\n00:05:21.570 --> 00:05:23.730\nI just wanna call that out for you.\n\n117\n00:05:23.730 --> 00:05:26.230\nLet's do advance so\nthat you can see the difference here.\n\n118\n00:05:26.230 --> 00:05:31.430\nWhen we do advances, we have to add the\nsecurity group, whereas when we do basic,\n\n119\n00:05:32.830 --> 00:05:37.670\nnotice we add the location and the path\nwhere we wanna put everybody, right?\n\n120\n00:05:37.670 --> 00:05:38.790\nSo it's a different approach.\n\n121\n00:05:38.790 --> 00:05:42.598\nWanna make sure we're seeing that as we\ndocumented that in our conversations and\n\n122\n00:05:42.598 --> 00:05:43.888\nwhat that would look like.\n\n123\n00:05:43.888 --> 00:05:45.474\n&gt;&gt; So really the access for\n\n124\n00:05:45.474 --> 00:05:50.080\nthe basic there would be contingent\non the destination of that data.\n\n125\n00:05:51.220 --> 00:05:54.450\n&gt;&gt; The access in terms of the users\nbeing able to get to the directory or\n\n126\n00:05:54.450 --> 00:05:55.590\nthe UNC path.\n\n127\n00:05:55.590 --> 00:05:58.040\n&gt;&gt; Management access or administrators, so\n\n128\n00:05:58.040 --> 00:06:02.628\nwhoever was given administrative-\n&gt;&gt; Well, remember we talked about the fact\n\n129\n00:06:02.628 --> 00:06:06.315\non the permission document that I share\nwith everybody in the prior episode as\n\n130\n00:06:06.315 --> 00:06:10.474\nwell that, administrators will have access\nat individual folders underneath that.\n\n131\n00:06:10.474 --> 00:06:15.148\nBut the system service or whatever is used\nto create that, the NTFS system solution\n\n132\n00:06:15.148 --> 00:06:19.130\nwould have permissions, and\nthat the individual users would.\n\n133\n00:06:19.130 --> 00:06:22.560\nBut administrators may not have\naccess to the NTFS shared root.\n\n134\n00:06:22.560 --> 00:06:24.320\nThey will have access to\nall the individual folders.\n\n135\n00:06:24.320 --> 00:06:25.699\nSo depends on what level\nwe're talking about.\n\n136\n00:06:25.699 --> 00:06:26.230\n&gt;&gt; Okay.\n\n137\n00:06:26.230 --> 00:06:27.550\n&gt;&gt; That's on that permissions document,\n\n138\n00:06:27.550 --> 00:06:30.800\nthat Word document we throw up or\nthrew up rather in the last.\n\n139\n00:06:30.800 --> 00:06:32.130\n&gt;&gt; You threw up, Adam?\n\n140\n00:06:32.130 --> 00:06:33.150\n&gt;&gt; Well, sometimes.\n&gt;&gt; [LAUGH]\n\n141\n00:06:33.150 --> 00:06:34.840\n&gt;&gt; When you're not around, right.\n\n142\n00:06:34.840 --> 00:06:36.640\nBut we put that up on the screen.\n\n143\n00:06:36.640 --> 00:06:38.970\nIn the last episode,\nwanna check the show notes for that.\n\n144\n00:06:38.970 --> 00:06:42.310\nIt was the permissions table that\nI created and put up for you.\n\n145\n00:06:42.310 --> 00:06:43.610\nAll right, just go to your membership.\n\n146\n00:06:43.610 --> 00:06:46.300\nRight, we're gonna browse,\nthis is our standard pick list, right.\n\n147\n00:06:46.300 --> 00:06:47.720\nWe're familiar with this.\n\n148\n00:06:47.720 --> 00:06:50.250\nLet's do domain guests.\n\n149\n00:06:50.250 --> 00:06:52.090\nMake sure that's spelled correctly.\n\n150\n00:06:52.090 --> 00:06:54.230\nSurvey says, hey,\nI got that right look at that.\n\n151\n00:06:54.230 --> 00:06:56.260\nIt's amazing what you could do when\nyou type with your eyes closed cuz you\n\n152\n00:06:56.260 --> 00:06:58.690\ncan't see cuz of the blinding light,\nbut yes, you get it right.\n\n153\n00:06:58.690 --> 00:07:02.865\nAll right so, practice labs domain,\ndomain guests are group in this case,\n\n154\n00:07:02.865 --> 00:07:04.311\ntarget folder location.\n\n155\n00:07:04.311 --> 00:07:07.690\nIt's not that we're not gonna be able\nto set the target folder location or\n\n156\n00:07:07.690 --> 00:07:09.680\nroot path just like we do for basic.\n\n157\n00:07:09.680 --> 00:07:12.970\nWe're just adding an additional\nlayer to the wizard by\n\n158\n00:07:12.970 --> 00:07:16.970\nspecifying what the group will be that\nwe want to target to this location.\n\n159\n00:07:16.970 --> 00:07:18.730\nThat's what advanced lets us do.\n\n160\n00:07:18.730 --> 00:07:19.582\nDidn't want to imply,\n\n161\n00:07:19.582 --> 00:07:22.019\ndon't want you think,\nthat we don't get still set the locations.\n\n162\n00:07:22.019 --> 00:07:24.853\nBecause we have to,\nit's the only way we can get to the data,\n\n163\n00:07:24.853 --> 00:07:26.250\nas Cherokee was suggesting.\n\n164\n00:07:26.250 --> 00:07:27.710\nAnd it's very important for\nus to consider.\n\n165\n00:07:27.710 --> 00:07:29.340\nSo we do have that as well.\n\n166\n00:07:29.340 --> 00:07:31.560\nCreate a folder for\neach user under the root path,\n\n167\n00:07:31.560 --> 00:07:33.590\nwe talked about this as an option.\n\n168\n00:07:33.590 --> 00:07:35.060\nRedirect to the user's home directory.\n\n169\n00:07:35.060 --> 00:07:37.750\nI'll walk through these four options\nwhen I share notes with you.\n\n170\n00:07:37.750 --> 00:07:40.580\nWe put them up on the screen,\nexplain them to you before.\n\n171\n00:07:40.580 --> 00:07:43.920\nRedirect the folder or redirect for\nthe following location,\n\n172\n00:07:43.920 --> 00:07:48.220\nrather to the following location, or\nredirect to the local profile, right,\n\n173\n00:07:48.220 --> 00:07:49.930\nlocation, whatever that may be,\nuser profile.\n\n174\n00:07:49.930 --> 00:07:52.351\nSo we can choose the appropriate one.\n\n175\n00:07:52.351 --> 00:07:54.920\nCreate a folder underneath\nthe root path for every user.\n\n176\n00:07:54.920 --> 00:07:57.560\nSpecify the root path,\nwhatever that will be.\n\n177\n00:07:57.560 --> 00:08:00.583\nRight, so we would specify what\nthat is put in the UNC here or\n\n178\n00:08:00.583 --> 00:08:02.043\nwhatever we're gonna use.\n\n179\n00:08:02.043 --> 00:08:03.510\nAnd we have that set up, right?\n\n180\n00:08:03.510 --> 00:08:06.400\nSo we could obviously\ndo that if necessary.\n\n181\n00:08:06.400 --> 00:08:10.000\nLet's just choose to redirect to the users\nsome of the directory, all right?\n\n182\n00:08:12.650 --> 00:08:15.990\nJust so we can put something in there,\njust to show you real quick.\n\n183\n00:08:15.990 --> 00:08:18.550\nAnd then under settings which\nis what we also wanna see,\n\n184\n00:08:18.550 --> 00:08:20.370\njust to show you how this comes together.\n\n185\n00:08:20.370 --> 00:08:22.685\nGrant user inclusive\nrights to this folder.\n\n186\n00:08:22.685 --> 00:08:26.354\nWe said that traditionally this is done\nto give users the rights to manage their\n\n187\n00:08:26.354 --> 00:08:29.390\nown data, keep them away and\nout of other people's area.\n\n188\n00:08:29.390 --> 00:08:31.940\nMove the contents of the document\nto the new location.\n\n189\n00:08:31.940 --> 00:08:34.500\nWe talked about this,\nremember we relocate the data,\n\n190\n00:08:34.500 --> 00:08:37.680\nI said that would happen normally\nby default because of the setting.\n\n191\n00:08:37.680 --> 00:08:41.790\nI am then,\nalso apply this to perhaps older OS's,\n\n192\n00:08:41.790 --> 00:08:44.320\nwe probably don't have too many of\nthese floating around anymore but\n\n193\n00:08:44.320 --> 00:08:46.880\nwe do still have the ability\nto manage those.\n\n194\n00:08:46.880 --> 00:08:48.510\nAnd then I talked about policy removal and\n\n195\n00:08:48.510 --> 00:08:51.390\nI said the default behavior was\nthat we leave the data behind.\n\n196\n00:08:51.390 --> 00:08:53.820\nWe have to plan for that,\nhow we're gonna deal with that.\n\n197\n00:08:53.820 --> 00:08:58.170\nWe do have an option to pull the data back\nif we choose to remove the policy but\n\n198\n00:08:58.170 --> 00:08:59.330\nwe have to say or\n\n199\n00:08:59.330 --> 00:09:04.050\nspecify that we wanna redirect back\nto wherever that data came from.\n\n200\n00:09:04.050 --> 00:09:06.330\nOtherwise, the default would\nbe to leave the data there and\n\n201\n00:09:06.330 --> 00:09:08.390\nsimply remove the redirection for\nthe policy.\n\n202\n00:09:08.390 --> 00:09:10.610\nSo we do just wanna make sure\nwe're familiar with that and\n\n203\n00:09:10.610 --> 00:09:12.870\nwe have a sense of how\nthis comes together.\n\n204\n00:09:12.870 --> 00:09:15.891\nWe would then apply them and of course\nthen the policy would be put in place.\n\n205\n00:09:15.891 --> 00:09:19.610\nSo this would happen for any of the\nfolders as we walkthrough folder by folder\n\n206\n00:09:19.610 --> 00:09:23.270\nthroughout this list selectively choosing\nthe ones that we wanna be able to\n\n207\n00:09:23.270 --> 00:09:25.090\nultimately use redirection with.\n\n208\n00:09:25.090 --> 00:09:29.100\nSo just so you see that last part\nof the puzzle come together and so\n\n209\n00:09:29.100 --> 00:09:32.120\nwe understand a little bit\nbetter how all that operates.\n\n210\n00:09:32.120 --> 00:09:34.280\nAll right, thoughts, questions,\ncomments there, Miss Cherokee?\n\n211\n00:09:34.280 --> 00:09:37.428\nI see the steam is rising,\nbubbles are coming up there.\n\n212\n00:09:37.428 --> 00:09:38.650\n&gt;&gt; [LAUGH]\n&gt;&gt; What's going on?\n\n213\n00:09:38.650 --> 00:09:39.690\n&gt;&gt; What about scripts, Adam?\n\n214\n00:09:39.690 --> 00:09:40.980\nWhat if I wanna push those out?\n\n215\n00:09:40.980 --> 00:09:42.160\n&gt;&gt; What do you wanna push those out?\n\n216\n00:09:42.160 --> 00:09:43.081\nSo we're gonna take a look\nat those right now.\n\n217\n00:09:43.081 --> 00:09:44.659\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Right there.\n\n218\n00:09:44.659 --> 00:09:47.765\n&gt;&gt; [LAUGH]\n&gt;&gt; Look at how just in sync we are right\n\n219\n00:09:47.765 --> 00:09:48.510\nthere.\n\n220\n00:09:48.510 --> 00:09:52.520\nAll right, so look at and let's talk about\nand we did say we would address scripts,\n\n221\n00:09:52.520 --> 00:09:53.750\nthat's our next item on.\n\n222\n00:09:53.750 --> 00:09:56.620\nSo I'm gonna stay in the user area\njust to show you the user scripts.\n\n223\n00:09:56.620 --> 00:09:59.500\nWe can go up and take a look at\nthe computer based scripts, log off and\n\n224\n00:09:59.500 --> 00:10:03.890\nlog on for user start up shut down for\ncomputer for script categories that we\n\n225\n00:10:03.890 --> 00:10:07.900\nobviously would apply the same\nlogic to any or all four of them.\n\n226\n00:10:07.900 --> 00:10:09.980\nSo we have the two areas here.\n\n227\n00:10:09.980 --> 00:10:13.480\nWe go and select the appropriate one,\nwe do have properties we wanna manage\n\n228\n00:10:13.480 --> 00:10:17.630\nthrough, right click choose properties and\nor properties from the interface.\n\n229\n00:10:17.630 --> 00:10:22.140\nWe have to add our script in,\nwhatever the scripts may be,\n\n230\n00:10:22.140 --> 00:10:25.520\nI did mention that we do support\ndifferent and we just click Add.\n\n231\n00:10:25.520 --> 00:10:27.610\nWe do support different languages.\n\n232\n00:10:27.610 --> 00:10:30.270\nI mentioned things like\nVBScript generically,\n\n233\n00:10:30.270 --> 00:10:32.450\nbeen around forever and a day.\n\n234\n00:10:32.450 --> 00:10:34.370\nI think I mentioned JScript.\n\n235\n00:10:34.370 --> 00:10:35.850\nCommands or batch files can be used.\n\n236\n00:10:35.850 --> 00:10:38.535\nSo any kind of script that we\nwould traditionally supported\n\n237\n00:10:38.535 --> 00:10:39.895\nWindows can be used here.\n\n238\n00:10:39.895 --> 00:10:43.475\nBut I also hinted at the fact and talked\nabout the fact, you'll see right there.\n\n239\n00:10:43.475 --> 00:10:47.045\nWe do support PowerShell as well,\nand we do PowerShell scripting.\n\n240\n00:10:47.045 --> 00:10:48.615\nSo let's say,\nwe can specify the script name,\n\n241\n00:10:48.615 --> 00:10:50.595\nwhatever parameters may be necessary.\n\n242\n00:10:50.595 --> 00:10:54.335\nStack those up,\nput them in some sorta prioritized order.\n\n243\n00:10:54.335 --> 00:10:55.895\nSo we will execute them and\n\n244\n00:10:55.895 --> 00:10:58.740\nsee what order those scripts run\nin if we have more than one.\n\n245\n00:10:58.740 --> 00:11:00.920\nSo we can those up so to speak.\n\n246\n00:11:00.920 --> 00:11:04.050\nNow again, I made this point\nin the last episode where\n\n247\n00:11:04.050 --> 00:11:07.980\nwe talked about software deployment and\ndeploying software through group policy\n\n248\n00:11:07.980 --> 00:11:10.480\nthat this is a feature that's\nbeen around since Windows 2000.\n\n249\n00:11:10.480 --> 00:11:13.160\nVery first iterations of group policy.\n\n250\n00:11:13.160 --> 00:11:16.290\nWe've had the capability to manage and\nuse scripts.\n\n251\n00:11:16.290 --> 00:11:18.510\nAlthough not PowerShell support for\nscripts but\n\n252\n00:11:18.510 --> 00:11:21.450\ncertainly scripts themselves\nsince the very beginning.\n\n253\n00:11:21.450 --> 00:11:23.540\nWe've had the ability to\norder their priority and\n\n254\n00:11:23.540 --> 00:11:27.440\npreference for the deployment of\nthe scripts and kinda them up.\n\n255\n00:11:27.440 --> 00:11:31.260\nBut I also called out that while we\nhave these tools, they are not as\n\n256\n00:11:31.260 --> 00:11:35.940\ngranular in group policy, as they may be\nin other tool sets that are external.\n\n257\n00:11:35.940 --> 00:11:40.120\nI mentioned configuration management\nwith SCCM, system center config manager.\n\n258\n00:11:40.120 --> 00:11:42.900\nI mentioned the MDT,\nthe Microsoft Deployment Toolkit.\n\n259\n00:11:42.900 --> 00:11:44.920\nThat's two examples of tool sets.\n\n260\n00:11:44.920 --> 00:11:48.800\nSitting outside of operating system based\nmanagement through group policy that\n\n261\n00:11:48.800 --> 00:11:51.890\ngives a lot more granularity\nin certain areas.\n\n262\n00:11:51.890 --> 00:11:56.481\nWe can set up very detailed task\nscheduling and sequencing of individual\n\n263\n00:11:56.481 --> 00:12:01.899\nscripts or multiple scripts through those\ntools that are much, much more complex and\n\n264\n00:12:01.899 --> 00:12:05.679\nmuch richer in feature and\nfunctionality than we can here.\n\n265\n00:12:05.679 --> 00:12:07.910\nSo not undersell the value of this.\n\n266\n00:12:07.910 --> 00:12:11.800\nBut to simply point out that this is\none potential opportunity to manage.\n\n267\n00:12:11.800 --> 00:12:14.862\nIf we need that kind of complexity,\nthat kind of richness,\n\n268\n00:12:14.862 --> 00:12:16.899\nthat kind of additional granularity.\n\n269\n00:12:16.899 --> 00:12:19.720\nWe have to look out side of group\npolicy in order to implement that.\n\n270\n00:12:19.720 --> 00:12:21.280\nSo just keep that in mind.\n\n271\n00:12:21.280 --> 00:12:23.970\nBut we could then grab those scripts\nthat have been created there and\n\n272\n00:12:23.970 --> 00:12:25.790\ndeploy them potentially\nhere if we choose to.\n\n273\n00:12:25.790 --> 00:12:29.479\nSo, do keep that in mind and remember,\nwith the addition of PowerShell.\n\n274\n00:12:30.860 --> 00:12:36.090\nAnything that is running from a 2008 or\nto a Windows 7 or later will support this.\n\n275\n00:12:37.300 --> 00:12:39.390\nWith the use of PowerShell scripts,\n\n276\n00:12:39.390 --> 00:12:41.420\nwe have the ability to\ndo just about anything.\n\n277\n00:12:41.420 --> 00:12:43.330\nAnd we can get pretty granular and\n\n278\n00:12:43.330 --> 00:12:46.330\nprovide that layer of\nfunctionality we're looking for.\n\n279\n00:12:46.330 --> 00:12:49.510\nCuz PowerShell gives us\naccess to literally thousands\n\n280\n00:12:49.510 --> 00:12:52.050\npotentially of cmdlets,\ndepending on what what we're doing and\n\n281\n00:12:52.050 --> 00:12:54.800\nwhat aspect of the operating\nsystem we wanna control.\n\n282\n00:12:54.800 --> 00:12:59.570\nAnd we can use any kinda PowerShell script\nthat will be supported based on the OS and\n\n283\n00:12:59.570 --> 00:13:03.330\nthe functionalities in that OS,\nas long as those features are available.\n\n284\n00:13:03.330 --> 00:13:07.110\nPowerShell will be able to execute under\nthe guise of, in this case, a log on or\n\n285\n00:13:07.110 --> 00:13:10.670\nlog off or shutdown or startup script,\ndepending on what we're doing and\n\n286\n00:13:10.670 --> 00:13:12.000\ncan do any of those things there.\n\n287\n00:13:12.000 --> 00:13:14.460\nSo we're looking at the log on,\nlog off scripts.\n\n288\n00:13:14.460 --> 00:13:19.170\nIf we go up and we take a look at\nthe same area up at the top here\n\n289\n00:13:20.550 --> 00:13:23.820\nunder the computer area,\nstart up shut down same idea.\n\n290\n00:13:23.820 --> 00:13:26.690\nYou can see the start up shut\ndown scripts here as well,\n\n291\n00:13:26.690 --> 00:13:29.610\nif we highlight any one of them and\nit doesn't matter which one,\n\n292\n00:13:29.610 --> 00:13:32.130\nyou'll see we get essentially\nthe same exact interface, right?\n\n293\n00:13:32.130 --> 00:13:36.120\nSame support, just a matter of where the\nscript is targeted based on computer or\n\n294\n00:13:36.120 --> 00:13:38.650\nuser action and\nphase of the life cycle work.\n\n295\n00:13:38.650 --> 00:13:40.230\nWe're getting on, we're getting off.\n\n296\n00:13:40.230 --> 00:13:42.418\nWe're logging on, we're logging off,\nwhatever it may be.\n\n297\n00:13:42.418 --> 00:13:46.540\nSo just make sure you know the logic of\nhow to use scripts and apply scripts.\n\n298\n00:13:46.540 --> 00:13:49.240\nWhat are some common activities\nwe may use scripts for?\n\n299\n00:13:49.240 --> 00:13:52.526\nThings like mapping drives, installing\nprinters, traditionally have been done.\n\n300\n00:13:52.526 --> 00:13:53.899\n&gt;&gt; Start up that might be a good\nstart up types of [INAUDIBLE].\n\n301\n00:13:53.899 --> 00:13:57.168\nStart up would be good for that,\nmaybe defrag on a machine right,\n\n302\n00:13:57.168 --> 00:13:59.794\nmaybe wanna do a scan on the hard drive or\nsomething.\n\n303\n00:13:59.794 --> 00:14:03.300\nMaybe you wanna do a quick scan for\nhealth check or some kind.\n\n304\n00:14:03.300 --> 00:14:08.060\nSo, maybe some sort of check to understand\nwhether we have certain patches stored and\n\n305\n00:14:08.060 --> 00:14:11.000\nif not, maybe then remediate and\ninstall them.\n\n306\n00:14:11.000 --> 00:14:12.770\nPowerShell could be useful for\nthat kind of stuff.\n\n307\n00:14:12.770 --> 00:14:16.760\nWe can do some sort of comparison,\npipe that comparison across\n\n308\n00:14:16.760 --> 00:14:19.450\ntwo another operator and\nthen take some sort of action.\n\n309\n00:14:19.450 --> 00:14:20.960\n&gt;&gt; Initiating backup.\n\n310\n00:14:20.960 --> 00:14:22.550\n&gt;&gt; All sort capabilities of backups.\n\n311\n00:14:22.550 --> 00:14:24.980\nYes, you could do that as well.\n\n312\n00:14:24.980 --> 00:14:29.204\nThere are lots and lots of capabilities\nhere but some of those capabilities may\n\n313\n00:14:29.204 --> 00:14:32.668\nactually be better served moving\naway from the scripting area.\n\n314\n00:14:32.668 --> 00:14:36.428\nAnd perhaps being drawn into,\nas I bang into my microphone,\n\n315\n00:14:36.428 --> 00:14:40.410\ndrawn into the use of the additional\nnewer feature that we see and\n\n316\n00:14:40.410 --> 00:14:44.190\nwe have talked about in Server\n16 the idea of preferences.\n\n317\n00:14:44.190 --> 00:14:47.580\nAnd the use of preferences\nto augment group policy.\n\n318\n00:14:47.580 --> 00:14:52.110\nThere's over 20 group policy extensions\nthat preferences give us access to.\n\n319\n00:14:52.110 --> 00:14:55.180\nBeing more granular and\nconfigurable in terms of the settings.\n\n320\n00:14:55.180 --> 00:14:57.890\nWe could drill down and\nfurther augment our ability to manage.\n\n321\n00:14:57.890 --> 00:14:59.220\nSo preferences are actually kind of cool.\n\n322\n00:14:59.220 --> 00:15:01.392\nAnd we're gonna take\na look at them as well.\n\n323\n00:15:01.392 --> 00:15:04.090\nKind of wrapping our conversations and\nour thoughts in this area.\n\n324\n00:15:04.090 --> 00:15:08.010\nSo let me just clean up our\nenvironment here just a little bit.\n\n325\n00:15:08.010 --> 00:15:09.670\nGet the system area, oops.\n\n326\n00:15:09.670 --> 00:15:14.860\nOpen the app and close that I should\nsay so we can see all of the preference\n\n327\n00:15:14.860 --> 00:15:18.590\nareas up in the computer area and\nof course as well, in the user area.\n\n328\n00:15:18.590 --> 00:15:21.783\nAgain, let me just do\na little quick housekeeping\n\n329\n00:15:21.783 --> 00:15:25.203\nhere just to make sure we can\nsee what they look like and\n\n330\n00:15:25.203 --> 00:15:29.023\nyou could see that we can now see,\nhopefully both the user.\n\n331\n00:15:29.023 --> 00:15:31.050\nAnd the computer area for\npreferences on the screen.\n\n332\n00:15:31.050 --> 00:15:36.160\nYou better part of it anyway, clearly some\nadditional preferences in the user area,\n\n333\n00:15:36.160 --> 00:15:39.080\nright, than we see in the computer area.\n\n334\n00:15:39.080 --> 00:15:41.740\nBut essentially, they look very similar.\n\n335\n00:15:41.740 --> 00:15:45.558\nAnd we have both control panel settings\nand Windows settings as areas for\n\n336\n00:15:45.558 --> 00:15:47.006\npreferences on your both.\n\n337\n00:15:47.006 --> 00:15:50.153\nAnd again, this is the idea of\nbeing able to dive a little deeper,\n\n338\n00:15:50.153 --> 00:15:53.187\ngo a little broader and\nwider with granularity in a container,\n\n339\n00:15:53.187 --> 00:15:55.780\nin an environmental variable area,\nin a files area.\n\n340\n00:15:55.780 --> 00:15:56.718\nFolders area.\n\n341\n00:15:56.718 --> 00:16:00.575\nJust like it's on the categories there\nthat allow us to that be very specific.\n\n342\n00:16:00.575 --> 00:16:03.000\nSo, let's take a look at\nwhat we mean by that.\n\n343\n00:16:03.000 --> 00:16:06.870\nLet's say hypothetically,\nthat we wanted to go in, go to Folders,\n\n344\n00:16:06.870 --> 00:16:09.805\nI used this example when talking\nabout folder redirection, and said,\n\n345\n00:16:09.805 --> 00:16:11.925\nhey, not the same thing\nas folder redirection.\n\n346\n00:16:11.925 --> 00:16:14.555\nDon't get suckered into\nthinking creating folders here,\n\n347\n00:16:14.555 --> 00:16:18.045\nis the same thing as folder redirection,\ncuz it's not, it's very different.\n\n348\n00:16:18.045 --> 00:16:23.525\nSo here, if I wanna pre populate a folder,\nright click New Folder.\n\n349\n00:16:24.920 --> 00:16:28.150\nWe then get the ability to\ncreate a new folder, and specify\n\n350\n00:16:28.150 --> 00:16:32.120\nwhether we're gonna create one, replace\none that's there, update, or delete.\n\n351\n00:16:32.120 --> 00:16:34.430\nSo we can take actions with Preferences.\n\n352\n00:16:34.430 --> 00:16:37.345\nSo let's say we're gonna\ncreate a new folder.\n\n353\n00:16:37.345 --> 00:16:39.435\nSpecify the path for the folder.\n\n354\n00:16:39.435 --> 00:16:43.024\nNotice that I can go out, and\nI can browse to find the path.\n\n355\n00:16:43.024 --> 00:16:47.845\nAnd maybe I will say that I'm\ngonna create that in the C drive,\n\n356\n00:16:47.845 --> 00:16:52.294\nand up under the C drive,\nmake a new folder and call that,\n\n357\n00:16:52.294 --> 00:16:55.900\nTest one, or something like that.\n\n358\n00:16:55.900 --> 00:16:57.212\nAnd so select that path, so\n\n359\n00:16:57.212 --> 00:17:01.226\nthat I wanna be able to use that directory\nto make sure that's what we're gonna do.\n\n360\n00:17:01.226 --> 00:17:04.710\nThat obviously path would have to be\navailable on the machine, right, so\n\n361\n00:17:04.710 --> 00:17:07.230\nC whatever would be the path I use.\n\n362\n00:17:07.230 --> 00:17:10.931\nWhat is or what are the attributes,\nis it read only, hidden archive,\n\n363\n00:17:10.931 --> 00:17:12.325\nwhatever the case may be?\n\n364\n00:17:12.325 --> 00:17:15.163\nBecause I chose create, none of these\nitems down below are available,\n\n365\n00:17:15.163 --> 00:17:16.070\nthey're grayed out.\n\n366\n00:17:16.070 --> 00:17:19.759\nBecause when I create something, I'm not\ngonna delete this folder, if it's emptied,\n\n367\n00:17:19.759 --> 00:17:20.657\nor things like that.\n\n368\n00:17:20.657 --> 00:17:23.024\nBut if I chose a different\noption like Replace,\n\n369\n00:17:23.024 --> 00:17:25.580\nyou'll see that these\noptions become available.\n\n370\n00:17:25.580 --> 00:17:28.420\nBecause I may then wanna take\nfurther action with the preference\n\n371\n00:17:28.420 --> 00:17:29.240\nsettings that are there.\n\n372\n00:17:29.240 --> 00:17:33.980\nSo, that list below of about five\nboxed items that we can select\n\n373\n00:17:33.980 --> 00:17:35.090\nis going to be contextual.\n\n374\n00:17:35.090 --> 00:17:38.390\nIt's based on the setting I make\nup above with regards to action.\n\n375\n00:17:38.390 --> 00:17:41.242\nJust wanna make sure we see that,\nand we have a sense of that, okay?\n\n376\n00:17:41.242 --> 00:17:44.063\nSo we're gonna create, and then on common,\n\n377\n00:17:44.063 --> 00:17:47.860\nstop processing items in this\nextension if an error occurs.\n\n378\n00:17:47.860 --> 00:17:50.530\nMeaning don't do this if\nwe run into an error.\n\n379\n00:17:50.530 --> 00:17:53.170\nRemove the item when it\nis no longer applied.\n\n380\n00:17:53.170 --> 00:17:56.080\nMeaning if we remove the policy,\nremove the folder, right?\n\n381\n00:17:56.080 --> 00:17:58.050\nJust like we talked about\nwith folder redirection.\n\n382\n00:17:58.050 --> 00:17:59.630\nGet rid of the folder policy.\n\n383\n00:17:59.630 --> 00:18:01.920\nAre we leaving the data behind,\nor are we pulling it back?\n\n384\n00:18:01.920 --> 00:18:02.710\nWhat are we gonna do?\n\n385\n00:18:02.710 --> 00:18:04.020\nHow are we gonna manage that?\n\n386\n00:18:04.020 --> 00:18:05.481\nApply once and do not reapply.\n\n387\n00:18:05.481 --> 00:18:06.714\nOne of the nice things, or\n\n388\n00:18:06.714 --> 00:18:10.360\npotentially the things that we have\nto be aware of with preferences is.\n\n389\n00:18:10.360 --> 00:18:14.879\nWe have the option to apply them just like\ngroup policy settings on a regular basis\n\n390\n00:18:14.879 --> 00:18:19.737\nas refreshes occur, or we could decide we\nonly wanna apply them once, and that's it.\n\n391\n00:18:19.737 --> 00:18:23.515\nDo it one time, and then don't reapply,\ndon't continuously do this.\n\n392\n00:18:23.515 --> 00:18:26.855\nWe can be more granular in\nhow our preferences behave\n\n393\n00:18:26.855 --> 00:18:28.855\ncompared to group policies.\n\n394\n00:18:28.855 --> 00:18:31.305\nNow the other thing about group policy,\nwhich is interesting.\n\n395\n00:18:31.305 --> 00:18:33.606\nLet me be clear,\npreferences are part of group policy.\n\n396\n00:18:33.606 --> 00:18:36.891\nAnd I don't wanna indicate,\nthey're not an aspect of group policy.\n\n397\n00:18:36.891 --> 00:18:41.530\nBut they operate slightly differently\nthan the rest of the group policy does.\n\n398\n00:18:41.530 --> 00:18:43.850\nAnd also disregards aside\nfrom being applied once for\n\n399\n00:18:43.850 --> 00:18:45.640\nus to being plug continuously.\n\n400\n00:18:45.640 --> 00:18:49.830\nGroup policy, when you applied group\npolicy overall, locks out the interface.\n\n401\n00:18:49.830 --> 00:18:52.260\nThat it applies to or\nprevents users from making changes.\n\n402\n00:18:52.260 --> 00:18:55.130\nIn other words, if I say to you,\nhey, Cherokee, you have a policy.\n\n403\n00:18:55.130 --> 00:18:59.400\nI'm giving you a group policy that says,\ncontrol panel, remove the ad,\n\n404\n00:18:59.400 --> 00:19:03.220\nremove programs icon, remove the access\nto the Windows firewall, whatever.\n\n405\n00:19:03.220 --> 00:19:06.040\nAs the policy, that will be removed,\nand it's locked out and\n\n406\n00:19:06.040 --> 00:19:06.830\nyou're not gonna see it.\n\n407\n00:19:06.830 --> 00:19:08.040\nIt's not optional, right?\n\n408\n00:19:08.040 --> 00:19:09.555\nYou're gonna not see it.\n\n409\n00:19:09.555 --> 00:19:12.127\nIn theory, you may or may not know this,\n\n410\n00:19:12.127 --> 00:19:16.605\nif you are a user that is rights that\ncan essentially cheat the policy.\n\n411\n00:19:16.605 --> 00:19:19.489\nMeaning, the full admin rights,\nand you can get into the registry,\n\n412\n00:19:19.489 --> 00:19:22.390\nyou can actually go modify the effects\nof the policy and override it.\n\n413\n00:19:22.390 --> 00:19:24.765\nI'm not supposed to tell you this,\nso don't say anything, right?\n\n414\n00:19:24.765 --> 00:19:25.845\nPretend you didn't hear this.\n\n415\n00:19:25.845 --> 00:19:29.085\nBut, we could registry edit and\nessentially zero out, and\n\n416\n00:19:29.085 --> 00:19:33.725\nchange the policy if we have rights on the\nmachine at the time the policy's applied.\n\n417\n00:19:33.725 --> 00:19:37.080\nBut then, the next time the policy\napplies, it'll reset our registry changes.\n\n418\n00:19:37.080 --> 00:19:39.710\nThis is that, you're constant\nbattle of I'm right, no you're not.\n\n419\n00:19:39.710 --> 00:19:41.020\nYes, I am, you're not.\n\n420\n00:19:41.020 --> 00:19:43.020\nIt's really counter productive and\ncounter intuitive.\n\n421\n00:19:43.020 --> 00:19:44.970\nBut in theory and in practice,\n\n422\n00:19:44.970 --> 00:19:49.760\nas an individual user with rights\nto edit registries on that machine.\n\n423\n00:19:49.760 --> 00:19:54.430\nI can change back whatever policies\nare applying and changing,\n\n424\n00:19:54.430 --> 00:19:56.100\nas long as I have rights to do so.\n\n425\n00:19:56.100 --> 00:19:58.310\nBut it's on a, literally,\na per session basis.\n\n426\n00:19:58.310 --> 00:20:02.410\nThe minute that policy changes and\nreapplies within 90 minutes,\n\n427\n00:20:02.410 --> 00:20:04.075\napproximately to 120 minutes.\n\n428\n00:20:04.075 --> 00:20:07.595\nThat change will be zeroed out by me\nin the registry, and it will be reset.\n\n429\n00:20:07.595 --> 00:20:10.815\nSo I'm fighting a never ending battle,\nis what I'm suggesting to you,\n\n430\n00:20:10.815 --> 00:20:13.455\nbut with preferences, that's not the case.\n\n431\n00:20:13.455 --> 00:20:15.995\nWhen we apply a preference, the user\nactually has the right to go in and\n\n432\n00:20:15.995 --> 00:20:18.315\nmake a change, and\nwe don't lock out the interface.\n\n433\n00:20:18.315 --> 00:20:20.615\nSo, preferences behave\na little differently.\n\n434\n00:20:20.615 --> 00:20:23.915\nThey are almost like softly\nenforced elements of policy,\n\n435\n00:20:23.915 --> 00:20:27.485\nas opposed to policy elements,\nwhich are a hardened force,\n\n436\n00:20:27.485 --> 00:20:30.610\nor I was gonna say hardly,\nwhich would not have been good.\n\n437\n00:20:30.610 --> 00:20:35.788\nA hard enforced, or required, if you will,\nI think that's the term you said, right?\n\n438\n00:20:35.788 --> 00:20:37.090\nSo you wanna think about that,\n\n439\n00:20:37.090 --> 00:20:40.390\nbecause that is a slight difference\nin how preferences are seen.\n\n440\n00:20:40.390 --> 00:20:41.610\nSo it's actually kind of interesting,\nright?\n\n441\n00:20:41.610 --> 00:20:43.390\nWe do have all sorts of options here.\n\n442\n00:20:43.390 --> 00:20:46.330\nNow I wanna show you another thing, which\nis actually kinda cool with preferences.\n\n443\n00:20:46.330 --> 00:20:49.500\nSo take a look here, you can see,\nitem level targeting.\n\n444\n00:20:49.500 --> 00:20:51.290\nCherokee and I were talking\nabout this before we get started\n\n445\n00:20:51.290 --> 00:20:52.750\nwith the episode in the show.\n\n446\n00:20:52.750 --> 00:20:55.370\nIt's just like wow, item level targeting,\nand we can do that.\n\n447\n00:20:55.370 --> 00:20:56.363\nAnd yeah,\nwe're gonna talk about that, as well.\n\n448\n00:20:56.363 --> 00:20:57.546\n&gt;&gt; Is that how I sound?\n\n449\n00:20:57.546 --> 00:20:58.768\n&gt;&gt; No, no, definitely not.\n\n450\n00:20:58.768 --> 00:21:00.977\n&gt;&gt; [LAUGH]\n&gt;&gt; You have a much, much nicer and\n\n451\n00:21:00.977 --> 00:21:01.769\nricher,\n&gt;&gt; Uh-huh.\n\n452\n00:21:01.769 --> 00:21:03.350\n&gt;&gt; And a lot of voice than I do.\n\n453\n00:21:03.350 --> 00:21:06.550\nI could never attempt to\nimpersonate your voice.\n\n454\n00:21:06.550 --> 00:21:09.050\nNor can I impersonate your walking\nwhen you squeak with your shoes.\n\n455\n00:21:09.050 --> 00:21:10.233\nI cannot do that either.\n\n456\n00:21:10.233 --> 00:21:15.100\nAll right, so, when we go in and\ncheck off, or select as you can see here.\n\n457\n00:21:15.100 --> 00:21:17.980\nLet me just pull this down, so\nyou could see this right about there.\n\n458\n00:21:17.980 --> 00:21:21.572\nItem level targeting for\nthe individual preference in question.\n\n459\n00:21:21.572 --> 00:21:26.063\nClick the targeting button,\nwe then get the targeting editor.\n\n460\n00:21:28.185 --> 00:21:31.340\nAnd I'll just put this over to the side,\nso you can see kind of both.\n\n461\n00:21:31.340 --> 00:21:34.100\nWe click the targeting button,\nwe have the targeting editor.\n\n462\n00:21:34.100 --> 00:21:37.690\nAnd we can specify, New Item.\n\n463\n00:21:37.690 --> 00:21:41.220\nAnd we got a whole bunch of stuff in here,\nas you can see.\n\n464\n00:21:41.220 --> 00:21:43.970\nThis particular item we're\nlooking at is folder.\n\n465\n00:21:43.970 --> 00:21:47.340\nBut we have the ability to\ngo to an individual item.\n\n466\n00:21:47.340 --> 00:21:53.648\nAnd let's say, we wanna go in and\ntarget a certain Operating System.\n\n467\n00:21:53.648 --> 00:21:57.290\nLet's just say Operating System is,\nand we specify there Windows 8.\n\n468\n00:21:57.290 --> 00:22:02.180\nAnd the product is Windows 8, but notice\nwe can choose the exact Operating System.\n\n469\n00:22:02.180 --> 00:22:09.060\nSo we are being very prescriptive here,\nnarrowing, scoping and tailoring, right?\n\n470\n00:22:09.060 --> 00:22:13.200\nIn other words, focusing in on exactly\nwhat OS we may want this folder\n\n471\n00:22:13.200 --> 00:22:16.850\napplication to occur with, and\nhow that policy will then be applied.\n\n472\n00:22:16.850 --> 00:22:23.965\nAnd so we may say, you know what, I want\nto do this on Windows 7 edition any.\n\n473\n00:22:23.965 --> 00:22:28.640\nBased on Windows 7 I have the editions\nthere, maybe I wanna target Ultimate, so\n\n474\n00:22:28.640 --> 00:22:32.032\nonly the specificity of\nthe Windows 7 Ultimate machine.\n\n475\n00:22:32.032 --> 00:22:35.599\nAnd notice as I'm doing this that\nit's building the logic up here, and\n\n476\n00:22:35.599 --> 00:22:36.915\nadding these options in.\n\n477\n00:22:36.915 --> 00:22:40.245\nEssentially building the string that's\ngonna be used as the comparison\n\n478\n00:22:40.245 --> 00:22:41.190\nfor targeting.\n\n479\n00:22:41.190 --> 00:22:42.630\nThis is,\nI don't know if you've already done this.\n\n480\n00:22:42.630 --> 00:22:44.190\nLet's say for instance, the Outlook,\n\n481\n00:22:44.190 --> 00:22:48.325\nwhere you go to build the business logic\naround routing, emails to folders, right?\n\n482\n00:22:48.325 --> 00:22:50.531\n[CROSSTALK] You use that\npic list that we build.\n\n483\n00:22:50.531 --> 00:22:52.270\n&gt;&gt; Yeah.\n&gt;&gt; And has those terms you click on,\n\n484\n00:22:52.270 --> 00:22:53.525\nyou program them what you want them to do.\n\n485\n00:22:53.525 --> 00:22:54.365\nDo you wanna\n&gt;&gt; If this then that\n\n486\n00:22:54.365 --> 00:22:55.000\n&gt;&gt; Kinda sets it up.\n\n487\n00:22:55.000 --> 00:22:58.360\nExactly, so it's very similar to that,\nif you've ever done this in Visio.\n\n488\n00:22:58.360 --> 00:23:01.435\nWhere you're building a diagram,\na diagrammatic flow,\n\n489\n00:23:01.435 --> 00:23:03.640\nwhere you're actually creating logic.\n\n490\n00:23:03.640 --> 00:23:06.345\nIf you can enable those\ndiagrams to do various things.\n\n491\n00:23:06.345 --> 00:23:08.725\nRight, if you've done it in\nthose programs it works similar.\n\n492\n00:23:08.725 --> 00:23:12.105\n&gt;&gt; If yes continue,\nif no revisit or whatever.\n\n493\n00:23:12.105 --> 00:23:12.630\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH]\n\n494\n00:23:12.630 --> 00:23:13.740\n&gt;&gt; Just whatever you would think of and\n\n495\n00:23:13.740 --> 00:23:16.370\nso release here,\nyou see we can drill down, right?\n\n496\n00:23:16.370 --> 00:23:20.360\nWe may have weather service pack,\nor installed or not.\n\n497\n00:23:20.360 --> 00:23:22.150\nThere's, obviously depending\non the choice you made,\n\n498\n00:23:22.150 --> 00:23:24.490\nthere's gonna be a lot\nof different things.\n\n499\n00:23:24.490 --> 00:23:27.460\nAnd then,\nwe can also specify computer roll.\n\n500\n00:23:27.460 --> 00:23:30.560\nIn this case for a Windows 7 Workstation,\nit wouldn't really be a roll, but\n\n501\n00:23:30.560 --> 00:23:33.000\nif we did a server based OS,\nwe may have domain controller.\n\n502\n00:23:33.000 --> 00:23:34.732\nYou have different options for service.\n\n503\n00:23:34.732 --> 00:23:38.341\nWe'd have a lot of different things\nwe could do here, and then it says,\n\n504\n00:23:38.341 --> 00:23:40.215\nif we just scroll down so you can see.\n\n505\n00:23:40.215 --> 00:23:43.108\nAny OS targeting items or\nNOS system targeting item,\n\n506\n00:23:43.108 --> 00:23:46.334\nallows a preference arm to be\nbought at computers to users.\n\n507\n00:23:46.334 --> 00:23:51.326\nOnly, if the computer the processing\ncomputer's Operating System product name,\n\n508\n00:23:51.326 --> 00:23:52.811\netc, matches, right?\n\n509\n00:23:52.811 --> 00:23:55.909\nSo in other words, what I'm doing is\nWe're creating an exclusionary filter.\n\n510\n00:23:55.909 --> 00:24:00.220\nIf the computer doesn't match this filter,\nwe don't apply this Preference.\n\n511\n00:24:00.220 --> 00:24:01.160\nIf it does, we do.\n\n512\n00:24:01.160 --> 00:24:04.304\nSo we could have a general\npolicy applied to,\n\n513\n00:24:04.304 --> 00:24:08.292\nlet's say, the broadest level\nOU to hit all computers.\n\n514\n00:24:08.292 --> 00:24:12.113\nBut then narrowly define which\ncomputers get the Preferences,\n\n515\n00:24:12.113 --> 00:24:16.428\nin this aspect of the policy, without\nhaving to go in and create separate\n\n516\n00:24:16.428 --> 00:24:20.620\npolicies by OS targeting BOU or\nby computer type in order to do that.\n\n517\n00:24:20.620 --> 00:24:22.540\nSo it gives us a lot more flexibility.\n\n518\n00:24:22.540 --> 00:24:26.010\nMuch more granularity with regards\nto us doing item level targeting.\n\n519\n00:24:26.010 --> 00:24:28.000\nSo it's very nice, right, in that respect.\n\n520\n00:24:28.000 --> 00:24:29.620\nIt really gives us a lot of capability.\n\n521\n00:24:29.620 --> 00:24:33.450\nSo I've done that part, Add collection.\n\n522\n00:24:33.450 --> 00:24:35.810\nSo in addition, the OS is whatever.\n\n523\n00:24:37.880 --> 00:24:41.050\nAnd this collection is true, so\nit says your targeting items supplied to\n\n524\n00:24:41.050 --> 00:24:44.180\nPreferences, item are evaluated\nas a logical expression.\n\n525\n00:24:44.180 --> 00:24:48.360\nA targeting collection allows you\nto create or allows you creation,\n\n526\n00:24:48.360 --> 00:24:52.510\nthe ability to create a parenthetical\ngrouping within that expression.\n\n527\n00:24:52.510 --> 00:24:56.750\nSo we can go in and we can, you modify\nyour ad with this kind of an item,\n\n528\n00:24:56.750 --> 00:24:59.480\nand you put something in or\ntake something out.\n\n529\n00:24:59.480 --> 00:25:02.681\nWe can all reorder moving up and\nmoving down as we go.\n\n530\n00:25:02.681 --> 00:25:05.740\nYou could see,\nI'm just adding additional items there.\n\n531\n00:25:05.740 --> 00:25:09.988\nAnd yeah, we get a little help file here\nthat gives us some additional information\n\n532\n00:25:09.988 --> 00:25:11.044\nabout how we can do.\n\n533\n00:25:11.044 --> 00:25:13.117\nThis is actually just the MMC help file,\nbut\n\n534\n00:25:13.117 --> 00:25:17.345\nthere is a help file specific to actually,\nthis one I just clicked on the wrong link.\n\n535\n00:25:17.345 --> 00:25:19.215\nWhere we can go in and\nsee the targeting editor,\n\n536\n00:25:19.215 --> 00:25:20.660\nif we wanna read a little bit more.\n\n537\n00:25:20.660 --> 00:25:25.640\nSo we would have to specify this and when\nwe right click on the add disk collection.\n\n538\n00:25:25.640 --> 00:25:27.490\nAgain, add the targeting item.\n\n539\n00:25:27.490 --> 00:25:30.696\nAdd Collection, Move Up,\nItem Options, Ands or Ors, right?\n\n540\n00:25:30.696 --> 00:25:32.761\nYou were saying hey,\nlet's do essentially a boolean.\n\n541\n00:25:32.761 --> 00:25:33.420\n&gt;&gt; Mm-hm.\n\n542\n00:25:33.420 --> 00:25:34.330\n&gt;&gt; Right, comparison.\n\n543\n00:25:34.330 --> 00:25:36.173\nIf I wanna change that from and to or,\n\n544\n00:25:36.173 --> 00:25:38.734\nI wouldn't put two of these\nback to back like this.\n\n545\n00:25:38.734 --> 00:25:42.049\nSo let me delete one and just make\nthis make a little more sense here.\n\n546\n00:25:42.049 --> 00:25:48.770\nAnd then and this collection is true and\nthen below, add another item.\n\n547\n00:25:48.770 --> 00:25:52.190\nAnd let's say that we do disk space.\n\n548\n00:25:52.190 --> 00:25:55.010\nSo I would now add comparisons, right, and\n\n549\n00:25:55.010 --> 00:25:58.970\nsay I've got all these choices or\noptions that I'm specifying.\n\n550\n00:25:58.970 --> 00:26:03.100\nAnd because I said and this is true,\nit must be the top and the bottom, right?\n\n551\n00:26:03.100 --> 00:26:05.070\nI could do an or there, that or that.\n\n552\n00:26:05.070 --> 00:26:08.980\nSo it could be Windows 7 Ultimate, or I\ncould have a certain amount of disk space,\n\n553\n00:26:08.980 --> 00:26:11.700\nif you think about the logic if that's\nwhat I'm doing with disk, right?\n\n554\n00:26:11.700 --> 00:26:15.700\nBut if I do Windows 7 Ultimate and\nwhat is below has to be true.\n\n555\n00:26:15.700 --> 00:26:20.350\nIt will be Windows 7 Ultimate and maybe\n50% free space on the disk or whatever.\n\n556\n00:26:20.350 --> 00:26:23.910\nI'm stacking up all these\nconditions that have to be met\n\n557\n00:26:23.910 --> 00:26:27.785\nbefore I actually apply this particular\npreference, this creation of a folder or\n\n558\n00:26:27.785 --> 00:26:29.325\nwhatever it is that I may be doing.\n\n559\n00:26:29.325 --> 00:26:33.325\nSo I'm able to build very complex logic,\nas Cherokee was suggesting, by using these\n\n560\n00:26:33.325 --> 00:26:38.195\nboolean operators, these ANDs, these ORs,\nto be able to join and create comparisons.\n\n561\n00:26:38.195 --> 00:26:40.855\nSo I'm able to go in and do this as well.\n\n562\n00:26:40.855 --> 00:26:42.989\nAnd of course I could just keep going and\ngoing.\n\n563\n00:26:42.989 --> 00:26:47.505\nAnd then once I'm done,\nI can move up and/or move down, right?\n\n564\n00:26:47.505 --> 00:26:53.429\nAnd specify that I want that one on top.\n\n565\n00:26:53.429 --> 00:26:58.270\nAnd I wanna be able to save this one,\nand then instead of and,\n\n566\n00:26:58.270 --> 00:27:04.280\nI wanna be able to say,\nthat I wanna make that or.\n\n567\n00:27:04.280 --> 00:27:06.100\nAnd so I can make it or instead of and.\n\n568\n00:27:06.100 --> 00:27:08.920\nAnd I can say that or that,\nor you say is, is not, right.\n\n569\n00:27:08.920 --> 00:27:11.444\nI can do true falses, essentially,\nin comparison, as well.\n\n570\n00:27:11.444 --> 00:27:15.559\nSo I have all these different options with\nthe targeting editor that I could specify.\n\n571\n00:27:15.559 --> 00:27:19.673\nAnd then once I'm done,right,\nI can click OK.\n\n572\n00:27:19.673 --> 00:27:21.329\nAnd I wait one second.\n\n573\n00:27:21.329 --> 00:27:23.881\nI didn't specify that, I got that, okay.\n\n574\n00:27:23.881 --> 00:27:27.467\nDrive letter, whatever it may be.\n\n575\n00:27:27.467 --> 00:27:30.780\nYou can see there,\n80 gigs whatever this case may be, right.\n\n576\n00:27:30.780 --> 00:27:32.390\nSo we got all that.\n\n577\n00:27:32.390 --> 00:27:33.241\nAnd then.\n\n578\n00:27:38.670 --> 00:27:41.640\nLets get rid of the comparison\noperative cuz I'm not gonna use that.\n\n579\n00:27:41.640 --> 00:27:44.330\nBut you see I can go through and\nbuild that logic out.\n\n580\n00:27:44.330 --> 00:27:46.960\nAnd then once I'm done and\nI've done all the targeting, and\n\n581\n00:27:46.960 --> 00:27:49.660\nI have all the general stuff, right.\n\n582\n00:27:49.660 --> 00:27:52.940\nClick Apply, click OK, just click OK,\nit doesn't really matter.\n\n583\n00:27:52.940 --> 00:27:54.158\nBut see once you do that,\n\n584\n00:27:54.158 --> 00:27:58.113\nyou then have the folder here it does tell\nus exactly what's then programmed in.\n\n585\n00:27:58.113 --> 00:28:01.200\nSo we see the reference to\nthe Preference item here.\n\n586\n00:28:01.200 --> 00:28:05.547\nAnd we can go in and we can disable\nthis if we don't wanna use this.\n\n587\n00:28:05.547 --> 00:28:08.704\nLet's see we have the ability to manage\nit by going back to Properties and\n\n588\n00:28:08.704 --> 00:28:09.701\ninteracting with it.\n\n589\n00:28:09.701 --> 00:28:10.683\nWe could do all the stuff we need.\n\n590\n00:28:10.683 --> 00:28:13.659\n&gt;&gt; You also had a cool little tip about\ndisabling using the function keys.\n\n591\n00:28:15.260 --> 00:28:19.210\n&gt;&gt; Turning on or off functionality based\non function keys, yeah, that we can use.\n\n592\n00:28:19.210 --> 00:28:20.500\nA certain functionality may or\n\n593\n00:28:20.500 --> 00:28:24.920\nmay not be present natively in the editor\nbecause maybe it's just master disabled.\n\n594\n00:28:24.920 --> 00:28:27.610\nSo we can enable it using some\nof the different function keys.\n\n595\n00:28:27.610 --> 00:28:28.965\nI think I listed F8-\n&gt;&gt; In the notes, yeah.\n\n596\n00:28:28.965 --> 00:28:30.998\n&gt;&gt; F10 was in there.\n\n597\n00:28:30.998 --> 00:28:32.814\nFive, I forget exactly\noff the top of my head,\n\n598\n00:28:32.814 --> 00:28:36.180\njust give me one second to scroll down\non my notes and I'll find the reference.\n\n599\n00:28:36.180 --> 00:28:38.161\nI just forgot off the top\nof my head what they are.\n\n600\n00:28:38.161 --> 00:28:40.830\nF5 enables all settings on the tab.\n\n601\n00:28:40.830 --> 00:28:43.630\nF6 enables only selected group settings.\n\n602\n00:28:43.630 --> 00:28:47.425\nF7 and F8, disable either some or all.\n\n603\n00:28:47.425 --> 00:28:51.815\nSo you could use those function keys, as\nwell, to be able to enable functionality,\n\n604\n00:28:51.815 --> 00:28:53.035\ndepending on what you're doing.\n\n605\n00:28:53.035 --> 00:28:56.295\nNot gonna demo those here because\nfunction keys being pressed through into\n\n606\n00:28:56.295 --> 00:29:00.040\nthe virtual environment,\nin our test environment with our labs and\n\n607\n00:29:00.040 --> 00:29:01.690\nthe remote access we use.\n\n608\n00:29:01.690 --> 00:29:04.260\nThey never, unfortunately,\ngo through the right way.\n\n609\n00:29:04.260 --> 00:29:06.452\n&gt;&gt; I know [CROSSTALK] full up the onscreen\nkeyboard to go ahead to go ahead and\n\n610\n00:29:06.452 --> 00:29:07.192\npush them out that way.\n\n611\n00:29:07.192 --> 00:29:07.762\nBut you get the point.\n\n612\n00:29:07.762 --> 00:29:10.150\nYou know how to use a keyboard with this-\n&gt;&gt; Yeah, you certainly could do that.\n\n613\n00:29:10.150 --> 00:29:13.700\nWe just don't wanna do it here, cuz it'll\nwind up blowing up the environment and\n\n614\n00:29:13.700 --> 00:29:16.240\nwho knows what'll happen then,\ncuz it won't work the right way.\n\n615\n00:29:16.240 --> 00:29:18.553\nBut you get the general idea for\nPreferences hopefully, right.\n\n616\n00:29:18.553 --> 00:29:21.016\nAnd being able to use the task item,\nright,\n\n617\n00:29:21.016 --> 00:29:24.345\nto be able to specifically target\na certain item or be very,\n\n618\n00:29:24.345 --> 00:29:28.055\nvery granular about this is actually\na pretty cool way to do this.\n\n619\n00:29:28.055 --> 00:29:30.960\nItem-level targeting is\nwhat we're talking about.\n\n620\n00:29:30.960 --> 00:29:33.840\nThere are different scenarios where\nthis may or may not make sense.\n\n621\n00:29:33.840 --> 00:29:36.230\nObviously, a whole bunch of them,\nyou could probably think of.\n\n622\n00:29:36.230 --> 00:29:40.240\nBut the more granular you wanna be,\nand the more targeted to a specific\n\n623\n00:29:40.240 --> 00:29:42.990\nkind of deployment that you\nwant the policy to address.\n\n624\n00:29:42.990 --> 00:29:44.850\nMore likely does this\nscenario makes sense?\n\n625\n00:29:44.850 --> 00:29:48.255\nThis mirrors, to a certain degree,\nthe more granular and\n\n626\n00:29:48.255 --> 00:29:51.880\nmore broader functionality we\nget with something like SCCM.\n\n627\n00:29:51.880 --> 00:29:56.343\nWhere we could do collection based\ntargeting of the application of software\n\n628\n00:29:56.343 --> 00:29:58.433\nor the modification of a hardware or\n\n629\n00:29:58.433 --> 00:30:02.290\nsoftware item based on a collection\nof policies or Preferences.\n\n630\n00:30:02.290 --> 00:30:06.440\nSo we're trying to take some of that very\nvery high-level enterprise functionality.\n\n631\n00:30:06.440 --> 00:30:07.310\nAnd a very limited way,\n\n632\n00:30:07.310 --> 00:30:10.720\nport it back into group policy\nediting here with Preferences.\n\n633\n00:30:10.720 --> 00:30:13.690\nNot the exact same thing,\ndon't wanna make that comparison and\n\n634\n00:30:13.690 --> 00:30:15.410\nsay unequivocably it's always the same.\n\n635\n00:30:15.410 --> 00:30:16.391\nIt is different but\n\n636\n00:30:16.391 --> 00:30:19.837\nit mirrors the ability to do that\nkind of stuff to a certain degree.\n\n637\n00:30:19.837 --> 00:30:22.837\nAnd so it does give us that flexibility\nwhich is actually very nice and\n\n638\n00:30:22.837 --> 00:30:25.180\ngives us that additional level of control.\n\n639\n00:30:25.180 --> 00:30:28.450\nYou could see if we look at the user\narea just by wrapping up our\n\n640\n00:30:28.450 --> 00:30:30.250\nconversation around Preferences.\n\n641\n00:30:30.250 --> 00:30:36.770\nYou could see that we can go in, take\na look at things like applications here.\n\n642\n00:30:36.770 --> 00:30:39.750\nDrive Maps, remember I said a lot of\nthings we would typically do with\n\n643\n00:30:39.750 --> 00:30:41.880\nscripting can be done\nthrough Preferences now.\n\n644\n00:30:41.880 --> 00:30:43.710\nWe can map drives, right.\n\n645\n00:30:43.710 --> 00:30:47.280\nWe can go ahead and we can install and\nconfigure printers.\n\n646\n00:30:47.280 --> 00:30:49.736\nYou can see down here,\nwe have that capability.\n\n647\n00:30:49.736 --> 00:30:53.060\nWe can create user accounts and\ngroups in the local system, so we can\n\n648\n00:30:53.060 --> 00:30:55.980\ncreate an account for administrative\npurposes, something like that.\n\n649\n00:30:55.980 --> 00:30:59.690\nModify and control the Start menus,\nschedule tasks.\n\n650\n00:30:59.690 --> 00:31:02.590\nOne of the nice things I\nlike is Folder Options.\n\n651\n00:31:02.590 --> 00:31:07.090\nWe can go in and\nunder Folder Options buy OS version, so\n\n652\n00:31:07.090 --> 00:31:09.110\nchoose your appropriate level.\n\n653\n00:31:09.110 --> 00:31:12.790\nWe can go in and hard code, and\nchoose what those settings will be for\n\n654\n00:31:12.790 --> 00:31:14.030\nthe folder options.\n\n655\n00:31:14.030 --> 00:31:18.210\nDo we display the hidden OS files,\ndo we not, things like that.\n\n656\n00:31:18.210 --> 00:31:21.240\nDo we show icons, thumbnails,\nwhatever the case may be.\n\n657\n00:31:21.240 --> 00:31:26.050\nWe can go on in, and select and\nactually interact with all of those,\n\n658\n00:31:26.050 --> 00:31:27.710\nso we can see those.\n\n659\n00:31:27.710 --> 00:31:29.570\nSo maybe one way to look at this.\n\n660\n00:31:29.570 --> 00:31:33.008\nInternet Settings, we can go in.\n\n661\n00:31:33.008 --> 00:31:36.830\nAgain, by version of the OS, or\nin this case, by version of the program.\n\n662\n00:31:36.830 --> 00:31:40.220\nAnd notice, by the way,\nno IE 11, no Edge, right?\n\n663\n00:31:40.220 --> 00:31:42.100\nThat's separate,\nthis is just up through IE 10.\n\n664\n00:31:42.100 --> 00:31:44.630\n&gt;&gt; Okay.\n&gt;&gt; But you do have that capability, right?\n\n665\n00:31:44.630 --> 00:31:47.565\nSo we can do, let's say for\nIE 10, going in and\n\n666\n00:31:47.565 --> 00:31:51.152\ndeciding what settings we're\ngonna be able to go in and do.\n\n667\n00:31:51.152 --> 00:31:55.920\nYou may wanna preload a URL for\nsupport, right, for users?\n\n668\n00:31:55.920 --> 00:31:59.310\nThat's usually typically something that's\ndone using this kind of a setting.\n\n669\n00:31:59.310 --> 00:32:00.620\nSo Preferences could be used to do that.\n\n670\n00:32:00.620 --> 00:32:03.070\nMaybe preload the home page for\nall users, so\n\n671\n00:32:03.070 --> 00:32:04.930\nthey always go to a corporate home page.\n\n672\n00:32:04.930 --> 00:32:07.880\nYou could do this a variety of ways,\nbut one of the ways would be with\n\n673\n00:32:07.880 --> 00:32:11.420\nPreferences here, so\nwe could do that as well just so you know.\n\n674\n00:32:11.420 --> 00:32:15.120\nThere's lots of different things we could\nset here with Preferences if we chose to,\n\n675\n00:32:15.120 --> 00:32:18.150\ncreate shortcuts,\nprop them on the desktop for users.\n\n676\n00:32:18.150 --> 00:32:19.770\nAgain, can we do this other ways?\n\n677\n00:32:19.770 --> 00:32:21.879\nAbsolutely, you create a desktop image or\n\n678\n00:32:21.879 --> 00:32:25.698\nan image of the OS to play the image\nwithout anything preset you could do that.\n\n679\n00:32:25.698 --> 00:32:27.377\nFine tune it with policies, but\n\n680\n00:32:27.377 --> 00:32:31.052\nwe can use Preferences to achieve\nsome of the end results that we want.\n\n681\n00:32:31.052 --> 00:32:34.228\nAnd maybe in the anteroom,\nas we deploy that image and then three,\n\n682\n00:32:34.228 --> 00:32:36.338\nfour months later come back and\nrefresh it.\n\n683\n00:32:36.338 --> 00:32:39.531\nIn the mean time, we may be able to do\nupdates with the Preferences that will\n\n684\n00:32:39.531 --> 00:32:41.000\naggregate those changes for us and\n\n685\n00:32:41.000 --> 00:32:43.345\nput them there until we get\na roundup dating our image.\n\n686\n00:32:43.345 --> 00:32:46.040\nSo lots of different ways to think\nabout this, but a lot of value.\n\n687\n00:32:46.040 --> 00:32:48.992\nAnd a lot of capabilities that we\nfind within the Preference area?\n\n688\n00:32:48.992 --> 00:32:51.520\n&gt;&gt; All right, does this mean that\nwe've reached the Emerald City?\n\n689\n00:32:52.810 --> 00:32:56.369\n&gt;&gt; It means that we have gotten\npass the flying monkeys.\n\n690\n00:32:56.369 --> 00:32:58.269\n&gt;&gt; [LAUGH]\n&gt;&gt; But we are not quite there yet.\n\n691\n00:32:58.269 --> 00:33:01.900\nBecause, although we are done with\nthis topic, we do still as you know,\n\n692\n00:33:01.900 --> 00:33:05.830\nstill have more very important things to\ncontinue to discuss along the lines of\n\n693\n00:33:05.830 --> 00:33:08.530\nall the exam objectives and\nknowledge items we need.\n\n694\n00:33:08.530 --> 00:33:10.640\nSo we're, like, about half way there.\n\n695\n00:33:10.640 --> 00:33:12.400\n&gt;&gt; All right,\nsounds like a good plan, Adam.\n\n696\n00:33:12.400 --> 00:33:14.880\nSo ladies and gentlemen,\nstay turn for more information,\n\n697\n00:33:14.880 --> 00:33:17.770\nwe've got headed your way for\nthis show, go ahead and sign out.\n\n698\n00:33:17.770 --> 00:33:19.340\nI've been your host Cherokee Boose.\n\n699\n00:33:19.340 --> 00:33:20.110\n&gt;&gt; I'm Adam Gordon.\n\n700\n00:33:20.110 --> 00:33:21.748\n&gt;&gt; See you next time here at ITProTV.\n\n701\n00:33:21.748 --> 00:33:23.736\n[MUSIC]\n\n702\n00:33:23.736 --> 00:33:27.019\n&gt;&gt; Thank you for\n\n703\n00:33:27.019 --> 00:33:32.098\nwatching ITProTV.\n\n",
          "vimeoId": "231753854"
        }
      ],
      "title": "Managing user settings with Group Policy"
    },
    {
      "episodes": [
        {
          "description": "In this show, Adam and Cherokee encourage security awareness whilst using AD DS. First, Adam defines Default Domain Policy vs Default Domain Controllers Policy. Adam also navigates through the security settings in the Group Policy Manager.",
          "length": "1650",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-1-securing_ad_ds-081217-PGM.00_00_11_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-1-securing_ad_ds-081217-PGM.00_00_11_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-1-securing_ad_ds-081217-PGM.00_00_11_21.Still001-sm.jpg",
          "title": "Securing AD DS",
          "transcript": "WEBVTT\n\n1\n00:00:00.320 --> 00:00:01.406\nWelcome to ITProTV.\n\n2\n00:00:01.406 --> 00:00:02.544\nI'm your host, Don Pezet.\n\n3\n00:00:02.544 --> 00:00:06.413\n[CROSSTALK]\n\n4\n00:00:06.413 --> 00:00:08.197\n[MUSIC]\n\n5\n00:00:08.197 --> 00:00:11.962\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.962 --> 00:00:15.284\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 Series.\n\n7\n00:00:15.284 --> 00:00:17.650\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.650 --> 00:00:21.400\nIn this episode,\nwe'll be taking a look at securing AD DS.\n\n9\n00:00:21.400 --> 00:00:24.690\nAnd with us today,\nback in studios we have Mr. Adam Gordon.\n\n10\n00:00:24.690 --> 00:00:27.730\nAnd who else better than\nhim to explain this topic.\n\n11\n00:00:27.730 --> 00:00:32.150\nBecause not only is Mr. Gordon a Microsoft\nexpert but he's also a security expert.\n\n12\n00:00:32.150 --> 00:00:34.070\nSo we're really in for it today.\n\n13\n00:00:34.070 --> 00:00:37.361\n[LAUGH]\n&gt;&gt; Okay, if you say so.\n\n14\n00:00:37.361 --> 00:00:41.350\nI'm gonna try to live up to-\n&gt;&gt; Live up to those expectations?\n\n15\n00:00:41.350 --> 00:00:42.498\n&gt;&gt; And that threat all in one.\n\n16\n00:00:42.498 --> 00:00:48.110\nSo let's [LAUGH] start talking, not\nonly about Microsoft infrastructure and\n\n17\n00:00:48.110 --> 00:00:51.780\nyou've certainly been doing quite a bit of\nthat in all of our conversations up until\n\n18\n00:00:51.780 --> 00:00:56.905\nthis point,\nfocusing on the AD DS thought process.\n\n19\n00:00:56.905 --> 00:01:00.855\nThe Active Directory Domain Services,\nwhat we do with the directories,\n\n20\n00:01:00.855 --> 00:01:05.251\ntaking a look back at many, many areas if\nyou think about where we've come from and\n\n21\n00:01:05.251 --> 00:01:08.201\nwhere we are up until this\npoint in our conversations.\n\n22\n00:01:08.201 --> 00:01:12.036\nIf you've kept up with us and kind of\nlooked at all of the episodes we put\n\n23\n00:01:12.036 --> 00:01:16.521\ntogether in sequence, you'll have seen\nquite a bit of conversations or heard and\n\n24\n00:01:16.521 --> 00:01:20.486\ninteracted with quite a number of\nconversations around replication and\n\n25\n00:01:20.486 --> 00:01:25.361\nsite management around the thought process\nbehind the schema and how it's structured,\n\n26\n00:01:25.361 --> 00:01:27.137\nthe partitions that make it up.\n\n27\n00:01:27.137 --> 00:01:31.336\nYou will have seen us and heard us talk\nabout in-depth objects, object management,\n\n28\n00:01:31.336 --> 00:01:34.670\nwhat an object is, how it's created,\nwhy it's important.\n\n29\n00:01:34.670 --> 00:01:38.155\nWould've talked through\nextensively group policy and\n\n30\n00:01:38.155 --> 00:01:42.749\nhow group policy is gonna be literally\nthe enforcement are of what we do and\n\n31\n00:01:42.749 --> 00:01:47.342\nhow we do it everyday and why it is so\nincredibly valuable and important for\n\n32\n00:01:47.342 --> 00:01:51.936\nus to understand how to make good\ndecisions with regards to group policy,\n\n33\n00:01:51.936 --> 00:01:56.415\nat different levels at which we can\napply policy, a policy interacts.\n\n34\n00:01:56.415 --> 00:02:00.530\nAnd what the expected and sometimes\nunexpected consequences of interacting\n\n35\n00:02:00.530 --> 00:02:04.730\nwith policy without fully understanding\nhow to use it correctly can be.\n\n36\n00:02:04.730 --> 00:02:08.230\nWe're not going to revisit policy per\nse in this conversation directly, but\n\n37\n00:02:08.230 --> 00:02:13.400\nactually it would be impossible to talk\nabout security and security in a Microsoft\n\n38\n00:02:13.400 --> 00:02:18.710\ncentric world, AD DS driven, without\ntalking about policy and group policies.\n\n39\n00:02:18.710 --> 00:02:21.895\nBecause the majority of what\nwe do to create security and\n\n40\n00:02:21.895 --> 00:02:25.372\nto enforce security settings\nis done through group policy.\n\n41\n00:02:25.372 --> 00:02:27.527\nAnd so we are going to walk\nback down memory lane so\n\n42\n00:02:27.527 --> 00:02:31.050\nto speak take another look at some of\nthe things that we've already previewed,\n\n43\n00:02:31.050 --> 00:02:33.911\nhighlighted, discussed in some\nof the group policy episodes.\n\n44\n00:02:33.911 --> 00:02:34.876\nYou haven't seen these?\n\n45\n00:02:34.876 --> 00:02:36.710\nI encourage you to go back and\ntake another look.\n\n46\n00:02:36.710 --> 00:02:38.910\nWe're gonna do that from a much\nhigher level perspective.\n\n47\n00:02:38.910 --> 00:02:42.011\nWe're gonna eliminate and avoid all\nthat stuff we've already talked about.\n\n48\n00:02:42.011 --> 00:02:46.793\nReally just drill down in the group policy\nmanagement editor on some of the security\n\n49\n00:02:46.793 --> 00:02:48.110\nrelated aspects.\n\n50\n00:02:48.110 --> 00:02:52.627\nGonna begin but talking about something\nvery important is the difference between\n\n51\n00:02:52.627 --> 00:02:56.324\nthe default domain policy and\nthe default domain controller's policy.\n\n52\n00:02:56.324 --> 00:02:59.115\nAnd there actually are two and\nyou may or may not have seen them and\n\n53\n00:02:59.115 --> 00:03:00.724\nyou may not be aware of what they are.\n\n54\n00:03:00.724 --> 00:03:04.305\nAnd the fact that we actually have two\ndistinctly different ones a lot of times\n\n55\n00:03:04.305 --> 00:03:08.106\npeople forget and they'll realize that we\nhave them cause we do a good job of hiding\n\n56\n00:03:08.106 --> 00:03:12.510\nthe default domain controller's policy\ncause it's in the domain controller's OU.\n\n57\n00:03:12.510 --> 00:03:15.249\nSo when you go into the editor\nunless you expand the OU and\n\n58\n00:03:15.249 --> 00:03:18.005\ntake a look you wouldn't see\nthe policy element there.\n\n59\n00:03:18.005 --> 00:03:22.080\nYou see the shortcut for the default\nmain policy at the top of the editor and\n\n60\n00:03:22.080 --> 00:03:26.483\nthat's the one we often refer to and the\none that we often see and interact with,\n\n61\n00:03:26.483 --> 00:03:28.140\nand so we often forget.\n\n62\n00:03:28.140 --> 00:03:30.490\nOr sometimes we just don't realize\nthat we actually have two.\n\n63\n00:03:30.490 --> 00:03:32.680\nBut it is important to\ndistinguish between them.\n\n64\n00:03:32.680 --> 00:03:36.000\nThe default domain policy which is\nthe one that's at the top of the editor.\n\n65\n00:03:36.000 --> 00:03:37.748\nWe'll go back in and\ntake a look in a minute.\n\n66\n00:03:37.748 --> 00:03:41.520\nBut the one that's there,\nthis GPO links to the domain object.\n\n67\n00:03:41.520 --> 00:03:45.470\nWhatever the name of our domain is and\nour example in our scenarios and our lab\n\n68\n00:03:45.470 --> 00:03:49.933\nenvironment, it's always practicelabs.com\nthat we've been using up until now.\n\n69\n00:03:49.933 --> 00:03:54.734\nIt applies to any and all objects in\nthe domains, all the users and computers,\n\n70\n00:03:54.734 --> 00:03:58.956\nour client computers, domain controllers,\nservers, any of those\n\n71\n00:03:58.956 --> 00:04:03.581\nthings are all gonna be bound by and\ndetached by the default domain policy.\n\n72\n00:04:03.581 --> 00:04:08.513\nIt contain only settings that\nare explicitly designed to and meant for\n\n73\n00:04:08.513 --> 00:04:10.866\nthe application to all objects.\n\n74\n00:04:10.866 --> 00:04:15.137\nSo in other words if anything has to touch\nevery object in the domain should be\n\n75\n00:04:15.137 --> 00:04:17.953\ntaught about it set at\nthe default domain policy.\n\n76\n00:04:17.953 --> 00:04:20.841\nThe default domain controls\npolicy on the other hand,\n\n77\n00:04:20.841 --> 00:04:23.099\nthe one that is down on\nthe domain control so\n\n78\n00:04:23.099 --> 00:04:26.867\nyou want level below links to\nthe specifically the domain controller so\n\n79\n00:04:26.867 --> 00:04:31.104\nyou and touches and applies specifically\nto all the main controllers in the OU.\n\n80\n00:04:31.104 --> 00:04:34.227\nThis is where most of our security\nsettings pertaining to the main\n\n81\n00:04:34.227 --> 00:04:37.460\ncontrollers will be set and\nthis is often where we interact.\n\n82\n00:04:37.460 --> 00:04:38.550\nSo why don't we go in, and\n\n83\n00:04:38.550 --> 00:04:41.508\nwhy don't we take a look really quickly\nat the difference between these two.\n\n84\n00:04:41.508 --> 00:04:44.890\nGive me just one second\njust to bring this up, so\n\n85\n00:04:44.890 --> 00:04:48.020\nwe have the policies available,\nwanna join me here and take a look.\n\n86\n00:04:48.020 --> 00:04:51.960\nSo we are in group policy\nmanagement editor, have gone to\n\n87\n00:04:51.960 --> 00:04:56.910\nthe domain controller, in this case\nPLABDC01 in practicelabs.com, have gone\n\n88\n00:04:56.910 --> 00:05:01.010\nwith the server manager, and the server\nmanager have gone with the tools menu,\n\n89\n00:05:01.010 --> 00:05:04.940\nopened up group policy editor, and just\nbrought up the console so we can see it.\n\n90\n00:05:04.940 --> 00:05:08.846\nIf you've seen the episodes on group\npolicy, they should look very familiar to\n\n91\n00:05:08.846 --> 00:05:12.074\nyou cuz we spent quite a bit of time,\nin and out of this area there.\n\n92\n00:05:12.074 --> 00:05:16.172\nWe have opened up the forest area,\nwe've opened up the domains container,\n\n93\n00:05:16.172 --> 00:05:17.709\nthe domain name instance and\n\n94\n00:05:17.709 --> 00:05:21.210\nthen the default domain policy\nshort cut is right there.\n\n95\n00:05:21.210 --> 00:05:24.840\nThat is one that applies to all objects\nin the domain we just discussed.\n\n96\n00:05:24.840 --> 00:05:27.300\nI opened up the domain controllers OU and\n\n97\n00:05:27.300 --> 00:05:30.430\nright below it the default\ndomain controllers policy.\n\n98\n00:05:30.430 --> 00:05:34.079\nThe other policy we just discussed,\nspecific to only the domain controllers,\n\n99\n00:05:34.079 --> 00:05:37.193\nand the security settings associated\nwith them, it will be there.\n\n100\n00:05:37.193 --> 00:05:39.699\nWe're gonna take a look at both, and\nyou'll see some of the subtle but\n\n101\n00:05:39.699 --> 00:05:41.710\nimportance differences between them.\n\n102\n00:05:41.710 --> 00:05:45.678\nSo do you have preference for\nwhere we start here, Ms. Cherokee?\n\n103\n00:05:45.678 --> 00:05:48.460\n&gt;&gt; I'll let you choose this time, Adam.\n\n104\n00:05:48.460 --> 00:05:50.071\n&gt;&gt; You are so nice.\n\n105\n00:05:50.071 --> 00:05:52.348\n&gt;&gt; I know,\nI'm feeling really generous today.\n\n106\n00:05:52.348 --> 00:05:55.060\n&gt;&gt; I ought to ask you more\noften what your preference is.\n\n107\n00:05:55.060 --> 00:05:58.146\nAll right, so let's start with\nthe default domain policy,\n\n108\n00:05:58.146 --> 00:06:01.955\nthe one that applies to all objects in\nthe domain, the one we often see and or\n\n109\n00:06:01.955 --> 00:06:05.002\noften thinking hey that's the one,\nthat's the only one.\n\n110\n00:06:05.002 --> 00:06:06.829\nAnd at the end is one, the one of two.\n\n111\n00:06:06.829 --> 00:06:08.571\nSo we're gonna right-click to edit.\n\n112\n00:06:08.571 --> 00:06:11.798\nI've just highlighted the policy so\nwe can see the details of it and\n\n113\n00:06:11.798 --> 00:06:15.195\nyou often will see and have a need to\ninteract with things here as we've\n\n114\n00:06:15.195 --> 00:06:17.440\ndiscussed in some of the prior episodes.\n\n115\n00:06:17.440 --> 00:06:20.240\nOur security filtering, for\ninstance, is often something we will\n\n116\n00:06:20.240 --> 00:06:24.690\ntake advantage of to apply or block the\napplication of policy to certain groups.\n\n117\n00:06:24.690 --> 00:06:25.613\nSo just be thinking about that.\n\n118\n00:06:25.613 --> 00:06:27.180\nWe've talked about that before.\n\n119\n00:06:27.180 --> 00:06:31.210\nThe details tab so it's useful here to\nsee what the settings of the policy are.\n\n120\n00:06:31.210 --> 00:06:34.947\nWe don't wanna go in, and edit the policy,\nwe could go into details to understand,\n\n121\n00:06:34.947 --> 00:06:37.844\nwhen it was created, what the scope is and\nthen the Settings tab to\n\n122\n00:06:37.844 --> 00:06:41.764\nactually see what the individual settings,\ninstead of editing so we can preview that.\n\n123\n00:06:41.764 --> 00:06:43.271\nWe'll take a look there real quick.\n\n124\n00:06:43.271 --> 00:06:44.849\nAnd also delegation, right?\n\n125\n00:06:44.849 --> 00:06:47.115\nSo let's go ahead and\nclick on the details.\n\n126\n00:06:47.115 --> 00:06:49.295\nYou can see the domain,\nthe policy it's associated with.\n\n127\n00:06:49.295 --> 00:06:50.925\nWe know that here, of course.\n\n128\n00:06:50.925 --> 00:06:54.495\nThe owners, we can see who is the owner\nof record of the domain admins group.\n\n129\n00:06:54.495 --> 00:06:57.565\nWhich we would expect from\nthe default domain policy objects.\n\n130\n00:06:57.565 --> 00:07:02.270\nBut if a policy is created by somebody\nelse maybe a policy attached to OU\n\n131\n00:07:02.270 --> 00:07:03.084\ndown here.\n\n132\n00:07:03.084 --> 00:07:05.711\nCreated separately,\nwe would see the name of that user or\n\n133\n00:07:05.711 --> 00:07:07.144\nthe group that is owning that.\n\n134\n00:07:07.144 --> 00:07:08.590\nSo just be aware of that.\n\n135\n00:07:08.590 --> 00:07:10.564\nCreation modification, date,\n\n136\n00:07:10.564 --> 00:07:15.154\nuser and computer version if we have\nversioning the unique ID so the.\n\n137\n00:07:15.154 --> 00:07:17.870\nThe GPO status enabled so it is enabled.\n\n138\n00:07:17.870 --> 00:07:21.405\nAnd if there's any documentary comments or\nhistorical information,\n\n139\n00:07:21.405 --> 00:07:22.805\nwe would see that there.\n\n140\n00:07:22.805 --> 00:07:28.475\nSettings, we get our RSOP\nresulted set of policy settings,\n\n141\n00:07:28.475 --> 00:07:29.935\nso we can see that down here.\n\n142\n00:07:29.935 --> 00:07:31.280\nGroup policy results by the way,\n\n143\n00:07:31.280 --> 00:07:34.366\nwould be another way of get this\ninformation as we've talked about before.\n\n144\n00:07:34.366 --> 00:07:38.320\nAnd you'll see the default domain policy\nwhen we are collecting that information,\n\n145\n00:07:38.320 --> 00:07:39.495\nand then just open it up.\n\n146\n00:07:39.495 --> 00:07:42.765\nVery simply Show All,\nwe could see what the settings are.\n\n147\n00:07:42.765 --> 00:07:44.695\nSo instead of having to go in,\ncan we go full screen, just so\n\n148\n00:07:44.695 --> 00:07:46.380\nyou can see kind of what's\ngoing on behind me there.\n\n149\n00:07:46.380 --> 00:07:49.870\nSo instead of having to go in, right\nclick in edit and then open the editor,\n\n150\n00:07:49.870 --> 00:07:51.900\nwhich we could do if we\nwanted to do this at all.\n\n151\n00:07:51.900 --> 00:07:55.032\nDo that for you in a minute just to\nremind you of the fact that we can go in\n\n152\n00:07:55.032 --> 00:07:55.636\nand do this.\n\n153\n00:07:55.636 --> 00:07:59.357\nCould right click here, edit, and then\nopen up the editor, and actually look at\n\n154\n00:07:59.357 --> 00:08:02.437\nand not just see the settings, but\nactually make changes to them.\n\n155\n00:08:02.437 --> 00:08:03.368\nIf we choose to.\n\n156\n00:08:03.368 --> 00:08:06.205\nThe difference between\nthe settings tab here and\n\n157\n00:08:06.205 --> 00:08:10.838\nediting is that if we go to the settings\ntab, which we're looking at right now we\n\n158\n00:08:10.838 --> 00:08:15.640\nsee a flat one dimensional report on\nthe cumulative settings of the policy.\n\n159\n00:08:15.640 --> 00:08:17.385\nWe have no way to edit or\nmake changes here.\n\n160\n00:08:17.385 --> 00:08:19.259\nWe can only see essentially,\nwhat the settings are.\n\n161\n00:08:19.259 --> 00:08:21.832\nIf we choose edit,\nwe could see the settings, but\n\n162\n00:08:21.832 --> 00:08:25.017\nwe can also make changes to them,\napply, modify, turn off,\n\n163\n00:08:25.017 --> 00:08:28.635\nenable, disable, whatever you\nwould refer to them to the mass.\n\n164\n00:08:28.635 --> 00:08:33.355\nSo we can see here the default to\nmain policy where we will often make\n\n165\n00:08:33.355 --> 00:08:35.605\nour security related settings for\n\n166\n00:08:35.605 --> 00:08:39.085\nall objects in the domain like\npassword policy, minimum.\n\n167\n00:08:39.085 --> 00:08:42.127\nMaximum password age,\nstandard stuff we would see,\n\n168\n00:08:42.127 --> 00:08:45.243\npassword complexity\nrequirements things like that.\n\n169\n00:08:45.243 --> 00:08:48.090\nWe often see those account policies,\npassword policies here,\n\n170\n00:08:48.090 --> 00:08:49.841\nwe'll see the defaults that are here.\n\n171\n00:08:49.841 --> 00:08:52.818\n24 passwords remembered for\npassword history.\n\n172\n00:08:52.818 --> 00:08:54.619\n42 days on the maximum.\n\n173\n00:08:54.619 --> 00:08:57.057\nPassword age minimum is one day.\n\n174\n00:08:57.057 --> 00:08:59.120\nCharacter length minimum is seven.\n\n175\n00:08:59.120 --> 00:09:01.702\nPasswords complexity requirement enabled.\n\n176\n00:09:01.702 --> 00:09:04.390\nStore passwords with reversible\nencryption disabled.\n\n177\n00:09:04.390 --> 00:09:06.860\nStandard default policy settings for\n\n178\n00:09:06.860 --> 00:09:10.648\nour security in the account\npolicy password policy area.\n\n179\n00:09:10.648 --> 00:09:15.880\nAt the domain, as we scroll down we'll\nsee we have some additional things.\n\n180\n00:09:15.880 --> 00:09:19.907\nThe lockout policy,\nright zero invalid logon attempts for\n\n181\n00:09:19.907 --> 00:09:22.492\nlockout policy in terms of corborus.\n\n182\n00:09:22.492 --> 00:09:25.867\nRight corborus in terms\nof log on restrictions.\n\n183\n00:09:25.867 --> 00:09:29.918\nWhat's maximum lifetime for\nsession ticket, 600 minute or ten hours,\n\n184\n00:09:29.918 --> 00:09:31.560\nas you can see by default.\n\n185\n00:09:31.560 --> 00:09:34.790\nWhat's maximum lifetime for\nuser ticket renewal, seven days.\n\n186\n00:09:34.790 --> 00:09:39.057\nFive minutes in terms of the tolerance for\nclock synchronization.\n\n187\n00:09:39.057 --> 00:09:40.625\nThese are the standard default settings.\n\n188\n00:09:40.625 --> 00:09:43.890\nAgain, can they be modified,\nabsolutely just go in and\n\n189\n00:09:43.890 --> 00:09:45.560\nmake the change by going in.\n\n190\n00:09:45.560 --> 00:09:48.320\nAnd editing, we're gonna take\na look at that in just a moment.\n\n191\n00:09:48.320 --> 00:09:51.100\nSo we could see all\nthe different policy settings\n\n192\n00:09:51.100 --> 00:09:53.590\njust by looking at this information here.\n\n193\n00:09:53.590 --> 00:09:58.130\nNice thing is we can right click here, we\ncan print this report out, we can save it.\n\n194\n00:09:58.130 --> 00:10:02.017\nSo if we want to generate this report,\na great way to generate documentation for\n\n195\n00:10:02.017 --> 00:10:02.544\nan audit.\n\n196\n00:10:02.544 --> 00:10:07.433\nFor just building the information about\nhow things are configured for BCDR.\n\n197\n00:10:07.433 --> 00:10:10.823\nPurposes if we have to do a restoration or\nreconfiguration later,\n\n198\n00:10:10.823 --> 00:10:13.615\nwe can output this information and\nhave it available.\n\n199\n00:10:13.615 --> 00:10:16.363\nSo don't bypass and\nyou'll over think this.\n\n200\n00:10:16.363 --> 00:10:19.880\nUse the simple, easy capabilities\nbuilt right into the console.\n\n201\n00:10:19.880 --> 00:10:21.248\nDo a save report here.\n\n202\n00:10:21.248 --> 00:10:23.820\nSo we can do that, let's look at\na way to validate what's there.\n\n203\n00:10:23.820 --> 00:10:27.778\nBut if we wanna make a change, let's come\nover here, right click on the policy.\n\n204\n00:10:27.778 --> 00:10:28.925\nLet's choose Edit.\n\n205\n00:10:28.925 --> 00:10:30.881\nWe'll get our policy editor to open up.\n\n206\n00:10:30.881 --> 00:10:32.801\nThis again should look familiar to you,\n\n207\n00:10:32.801 --> 00:10:35.009\nbased on some of the work\nwe've already done.\n\n208\n00:10:35.009 --> 00:10:39.380\nYou'll see we do have both our\ncomputer and user configuration areas.\n\n209\n00:10:39.380 --> 00:10:43.470\nCuz remember, group policy does have both\na user and a configurate, or user and\n\n210\n00:10:43.470 --> 00:10:45.777\na computer configuration component.\n\n211\n00:10:45.777 --> 00:10:48.605\nNaming a block of settings\nspecific to the computer.\n\n212\n00:10:48.605 --> 00:10:51.678\nA block of settings applied for\nsimply to the user.\n\n213\n00:10:51.678 --> 00:10:54.407\nMore often than that those settings\nare different from each other.\n\n214\n00:10:54.407 --> 00:10:57.087\nOn occasion they are the same\nas we've talked about.\n\n215\n00:10:57.087 --> 00:10:59.283\nAnd then may be overlap\nin contention there.\n\n216\n00:10:59.283 --> 00:11:02.381\nWe talked about how that's dealt with and\nwhat happens when that is the case.\n\n217\n00:11:02.381 --> 00:11:06.372\nAnd if you don't remember that\nconversation encourage you to go back,\n\n218\n00:11:06.372 --> 00:11:09.579\ntake a look, go back and\nlisten to those episodes again.\n\n219\n00:11:09.579 --> 00:11:13.353\nI do a great job of going through and\ntalking about that, if I do say so myself.\n\n220\n00:11:13.353 --> 00:11:14.449\n&gt;&gt; [LAUGH]\n&gt;&gt; Alright, so\n\n221\n00:11:14.449 --> 00:11:17.695\nlet's just quickly take a look\nat computer configuration here.\n\n222\n00:11:17.695 --> 00:11:20.710\nRemember we do have two blocks\nup underneath each one of these.\n\n223\n00:11:20.710 --> 00:11:23.880\nThey are identical in the sense that\nthey start off the same policies and\n\n224\n00:11:23.880 --> 00:11:24.670\npreferences.\n\n225\n00:11:24.670 --> 00:11:28.009\nBut then the things contained within\nthose two folders are obviously gonna be\n\n226\n00:11:28.009 --> 00:11:31.140\ndifferent based on what we see up\nunder for the computer configuration,\n\n227\n00:11:31.140 --> 00:11:32.644\nunder policy software settings.\n\n228\n00:11:32.644 --> 00:11:34.670\nWindow settings administrative templates.\n\n229\n00:11:34.670 --> 00:11:39.055\nWe do see the same group of folders here.\n\n230\n00:11:39.055 --> 00:11:40.982\nBut as we open up software settings,\n\n231\n00:11:40.982 --> 00:11:44.091\nsoftware installation you'll\nsee they are both the same,\n\n232\n00:11:44.091 --> 00:11:48.130\nalthough they address different aspects\nas we open up Windows settings.\n\n233\n00:11:48.130 --> 00:11:50.241\nThat's where we begin\nto see some difference.\n\n234\n00:11:50.241 --> 00:11:54.500\nJust get the software settings cleaned up\nthere, so they're not getting in our way.\n\n235\n00:11:54.500 --> 00:11:58.460\nYou'll notice that when we do software\nexcuse me when we do Windows settings\n\n236\n00:11:59.680 --> 00:12:02.490\nyou will see that we do\nsee some differences here.\n\n237\n00:12:02.490 --> 00:12:07.061\nWe have name, retention, or\nexcuse me name resolution, policy.\n\n238\n00:12:07.061 --> 00:12:10.410\nYou'll notice that's not gonna be\ncreated down here on the user.\n\n239\n00:12:10.410 --> 00:12:12.301\nWe do have script, start up shut down.\n\n240\n00:12:12.301 --> 00:12:15.856\nWe do have scripts on a user, but notice\nlog on, log off as supposed to start up,\n\n241\n00:12:15.856 --> 00:12:16.771\nshut down, right?\n\n242\n00:12:16.771 --> 00:12:20.345\nBecause start up, shut down is\na computer driven function and log on,\n\n243\n00:12:20.345 --> 00:12:22.150\nlog off is a user driven function.\n\n244\n00:12:22.150 --> 00:12:26.225\nSo we have to go to apply scripts based on\nthe user or the computer with different\n\n245\n00:12:26.225 --> 00:12:29.870\naspects of the behavioral curve but\nwe have to then use the appropriate\n\n246\n00:12:29.870 --> 00:12:33.235\nsubset of settings- [CROSSTALK]\n&gt;&gt; Although sometimes I do shut down.\n\n247\n00:12:33.235 --> 00:12:36.703\n[LAUGH]\n&gt;&gt; That could happen.\n\n248\n00:12:36.703 --> 00:12:37.695\nIt's been known to happen, right.\n\n249\n00:12:37.695 --> 00:12:39.782\n&gt;&gt; [LAUGH]\n&gt;&gt; But we would not apply a script for\n\n250\n00:12:39.782 --> 00:12:41.104\nyou to do that on purpose.\n\n251\n00:12:41.104 --> 00:12:45.166\nI'll get self-inflicted wound as opposed\nto one that is driven by policy.\n\n252\n00:12:45.166 --> 00:12:48.794\nSo deployed printers as you could see\non the computer side we don't have that\n\n253\n00:12:48.794 --> 00:12:51.590\non the user side that we\na fold to redirection, right.\n\n254\n00:12:51.590 --> 00:12:55.060\nBecause we're gonna redirect\nthe folders for the user's profile,\n\n255\n00:12:55.060 --> 00:12:56.590\nwe did this in one of\nour earlier episodes.\n\n256\n00:12:56.590 --> 00:12:57.910\nWe took a look at that, and\n\n257\n00:12:57.910 --> 00:13:01.151\ntalked about the use of full\nregresion applied to the policy, or\n\n258\n00:13:01.151 --> 00:13:04.646\nexcuse me the policy applied to create\nthe profile so we can see that.\n\n259\n00:13:04.646 --> 00:13:08.216\nWe do see security settings so that we're\ndrillin on here in just a minute under\n\n260\n00:13:08.216 --> 00:13:11.410\nwindows for the computer where\nwe don't see that for the user.\n\n261\n00:13:11.410 --> 00:13:14.015\nSo you can see there\ndefinitely are differences\n\n262\n00:13:14.015 --> 00:13:15.979\nas we look at the individual areas.\n\n263\n00:13:15.979 --> 00:13:17.421\nI just wanted to remind you of that,\n\n264\n00:13:17.421 --> 00:13:19.977\nwe're not gonna worry about\nthe user settings for the moment.\n\n265\n00:13:19.977 --> 00:13:22.985\nWe're gonna focus here instead\non the security settings.\n\n266\n00:13:22.985 --> 00:13:26.163\nSo let's go in under security\nsettings kind of bring these up.\n\n267\n00:13:26.163 --> 00:13:30.399\nNow let's just talk about some of\nthe things that we may find here, or\n\n268\n00:13:30.399 --> 00:13:31.797\nwhole group of these.\n\n269\n00:13:31.797 --> 00:13:34.950\nAnd there are many important\nthings that exist here.\n\n270\n00:13:34.950 --> 00:13:37.599\nAlso, you'll see we have account policies.\n\n271\n00:13:37.599 --> 00:13:40.810\nAnd we do know that under account\npolicies, we have password policies.\n\n272\n00:13:40.810 --> 00:13:45.030\nWe just saw this in the settings tab,\nwhere we actually saw the output of this.\n\n273\n00:13:45.030 --> 00:13:48.965\nBut as we said if we want to come in and\nmodify this we would have to come in here,\n\n274\n00:13:48.965 --> 00:13:50.431\ncome to password policies.\n\n275\n00:13:50.431 --> 00:13:55.170\nAnd let's say in theory we wanted\nto change our maximum password age.\n\n276\n00:13:55.170 --> 00:14:00.110\nDouble click on this, instead of 42 days\nlet's say we wanna make that a little bit\n\n277\n00:14:00.110 --> 00:14:04.078\nmore aggressive and maybe said we\nwant to change that down to 30.\n\n278\n00:14:04.078 --> 00:14:06.807\nSo our passwords be changed\na little more frequently,\n\n279\n00:14:06.807 --> 00:14:09.355\na good best practice\nin many organizations.\n\n280\n00:14:09.355 --> 00:14:13.324\nSo we will click Apply,\nwe will click OK, make that change.\n\n281\n00:14:13.324 --> 00:14:15.644\nAnd now that has been changed to 30.\n\n282\n00:14:15.644 --> 00:14:19.831\nAnd if we just minimize this for\na moment, and we come back out here,\n\n283\n00:14:19.831 --> 00:14:20.863\njust go up here.\n\n284\n00:14:20.863 --> 00:14:24.900\nWe'll notice right now that that number\nis still the same on the settings tab.\n\n285\n00:14:24.900 --> 00:14:28.872\nBecause once we take a snapshot of\nthe settings display here, it's static.\n\n286\n00:14:28.872 --> 00:14:33.307\nWe wanna see that change reflected, if you\nwanna update the settings here, right?\n\n287\n00:14:33.307 --> 00:14:36.190\nWe have to regenerate this in\norder to be able to see this.\n\n288\n00:14:36.190 --> 00:14:43.512\nSo we would have to come in here, right,\nand do a refresh, draw that back down.\n\n289\n00:14:43.512 --> 00:14:47.414\nShow all again, and\nnotice that now 30 days it's been updated.\n\n290\n00:14:47.414 --> 00:14:51.460\nSo we can certainly see the output\nof a change almost immediately.\n\n291\n00:14:51.460 --> 00:14:55.168\nBut remember this is a static page,\nit's not just gonna refresh on its own.\n\n292\n00:14:55.168 --> 00:14:57.200\nWe have to go and\nrefresh in order to display that.\n\n293\n00:14:57.200 --> 00:15:00.280\nJust to show you what's going\non in there while we're talking.\n\n294\n00:15:00.280 --> 00:15:02.520\nAll right, so\nwe come back here to the editor.\n\n295\n00:15:02.520 --> 00:15:03.991\nYou can see we made a change.\n\n296\n00:15:03.991 --> 00:15:05.357\nWe do whatever we need to do.\n\n297\n00:15:05.357 --> 00:15:09.383\nNow one of the interesting things,\nlet's just go in.\n\n298\n00:15:09.383 --> 00:15:10.504\nLet's go to properties and\n\n299\n00:15:10.504 --> 00:15:13.820\nactually instead of this one let's\ngo to complexity requirements.\n\n300\n00:15:13.820 --> 00:15:15.625\nLet's go to properties,\njust open this one up.\n\n301\n00:15:15.625 --> 00:15:16.990\nNow a simple enable and disable.\n\n302\n00:15:16.990 --> 00:15:18.725\nThis one's pretty straight forward.\n\n303\n00:15:18.725 --> 00:15:23.131\nBut love the explain tab that's included\nhere with all the different settings.\n\n304\n00:15:23.131 --> 00:15:27.941\nAnd every one of these has an explain\ntablets, some sort of documentation on it.\n\n305\n00:15:27.941 --> 00:15:30.587\nYou'll see that it does\nexplain what the policy is,\n\n306\n00:15:30.587 --> 00:15:32.824\npassword must meet complex requirements.\n\n307\n00:15:32.824 --> 00:15:35.566\nThe security settings determines\nwhat the passwords will meet these\n\n308\n00:15:35.566 --> 00:15:36.700\nrequirements or not.\n\n309\n00:15:36.700 --> 00:15:41.226\nIf policy is enabled passwords must\nmeet the following list of requirements.\n\n310\n00:15:41.226 --> 00:15:44.845\nAnd what the default would be,\nwhich is enabled on domain controllers.\n\n311\n00:15:44.845 --> 00:15:48.820\nAnd note by default member computers\nfall the configuration of their domain\n\n312\n00:15:48.820 --> 00:15:52.733\ncontrollers, meaning this applies to\nall objects within the domains, so\n\n313\n00:15:52.733 --> 00:15:53.492\nwe know that.\n\n314\n00:15:53.492 --> 00:15:57.597\nAnd it gives us a list of exactly what\nthe expectations are in this case for\n\n315\n00:15:57.597 --> 00:16:02.127\nwhat the individual items that contribute\nto the complexity of a password are.\n\n316\n00:16:02.127 --> 00:16:06.254\nAnd it says the policy as enabled\npasswords must meet the following minimum\n\n317\n00:16:06.254 --> 00:16:08.950\nrequirements, and so\nit tells us what they are.\n\n318\n00:16:08.950 --> 00:16:11.333\nOn not contain the user's account name or\n\n319\n00:16:11.333 --> 00:16:14.879\nparts of users full name that\nexceed two consecutive starts.\n\n320\n00:16:14.879 --> 00:16:19.089\nWell, that's pretty interesting cuz if\na lot of people often wanna use their\n\n321\n00:16:19.089 --> 00:16:22.520\npassword to make it something like\nif you my username is Adam G,\n\n322\n00:16:22.520 --> 00:16:25.165\nyou know Adam G 123 or\nsomething basically.\n\n323\n00:16:25.165 --> 00:16:29.520\nWell, won't be able to do that because\nI cannot use the username as part of\n\n324\n00:16:29.520 --> 00:16:34.038\nthe password, but a few consecutive or\nmore than two consecutive letters.\n\n325\n00:16:34.038 --> 00:16:36.962\nI will be told Hanes\nviolates the master policy.\n\n326\n00:16:36.962 --> 00:16:39.577\nSo it's always good to go in and\nread up on this stuff.\n\n327\n00:16:39.577 --> 00:16:43.031\nBecause this helps us as administrators,\nas IT professionals,\n\n328\n00:16:43.031 --> 00:16:46.000\nas security minded professionals,\nto give guidance.\n\n329\n00:16:46.000 --> 00:16:48.578\nAnd to help users understand\nwhat are the best practice\n\n330\n00:16:48.578 --> 00:16:51.108\nrecommendations to create passwords for\ninstance.\n\n331\n00:16:51.108 --> 00:16:53.390\nHey, it's easy to say\ncreate a complex password.\n\n332\n00:16:53.390 --> 00:16:55.905\nIt's hard to tell users exactly\nwhat complexity means and\n\n333\n00:16:55.905 --> 00:16:57.759\ngive them guidance on what they should do.\n\n334\n00:16:57.759 --> 00:17:01.479\nBecause if the cultural imperative\nis out just use your name and\n\n335\n00:17:01.479 --> 00:17:04.088\nadd on a number to it and\nthat doesn't work.\n\n336\n00:17:04.088 --> 00:17:05.868\nAnd people don't know\nwhy they get frustrated.\n\n337\n00:17:05.868 --> 00:17:07.639\nWell, who are they gonna blame, right?\n\n338\n00:17:07.639 --> 00:17:10.535\nThey're gonna blame you, the IT\nprofessional cuz they think you're doing\n\n339\n00:17:10.535 --> 00:17:12.600\nsomething to prevent them from doing that.\n\n340\n00:17:12.600 --> 00:17:16.210\nInstead what should happen is you\nshould provide better guidance to them.\n\n341\n00:17:16.210 --> 00:17:21.049\nBetter documentation that explains\nto them what the expectations are.\n\n342\n00:17:21.049 --> 00:17:24.941\nTo spell that urban myth and legend, the\nverbal knowledge that goes around that's\n\n343\n00:17:24.941 --> 00:17:27.007\noften off track in organizations, right?\n\n344\n00:17:27.007 --> 00:17:30.699\n&gt;&gt; Have some suggestions of what\na good secure password would be.\n\n345\n00:17:30.699 --> 00:17:32.544\n&gt;&gt; Yes,\ngive them a little bit of guidance.\n\n346\n00:17:32.544 --> 00:17:35.991\nHelp them to better understand\nhow to operate successfully.\n\n347\n00:17:35.991 --> 00:17:39.761\nAnd if all that get out your hammer and\nstarted forcing your policy, right.\n\n348\n00:17:39.761 --> 00:17:41.752\nBut you would want to-\n&gt;&gt; No.\n\n349\n00:17:41.752 --> 00:17:45.438\n&gt;&gt; Make an example of one or two,\ntake ones you don't like very much only\n\n350\n00:17:45.438 --> 00:17:47.930\na couple,\nI'm not saying a lot just like one.\n\n351\n00:17:47.930 --> 00:17:49.223\n&gt;&gt; Is that what happened to you Adam?\n\n352\n00:17:49.223 --> 00:17:52.285\n&gt;&gt; A little tap, one yeah,\neverybody thinks they fall right in line,\n\n353\n00:17:52.285 --> 00:17:54.233\nright after that there are no more issues.\n\n354\n00:17:54.233 --> 00:17:56.910\nYes, Ms. Cherokee, absolutely,\nwhatever you say, right.\n\n355\n00:17:56.910 --> 00:17:59.189\nSo it is just something to consider.\n\n356\n00:17:59.189 --> 00:18:00.438\nAnd let me be clear, no,\n\n357\n00:18:00.438 --> 00:18:04.380\nI'm not condoning that you create\nviolence among your user population.\n\n358\n00:18:04.380 --> 00:18:06.561\nAnd enforce your policies with\na heavy hand, not at all,\n\n359\n00:18:06.561 --> 00:18:07.840\nonly kidding around about that.\n\n360\n00:18:07.840 --> 00:18:10.820\nAnd I'm sure you all understand that,\nright.\n\n361\n00:18:10.820 --> 00:18:13.973\nBut what I am suggesting\nis that documentation, and\n\n362\n00:18:13.973 --> 00:18:15.699\nthe communication of that.\n\n363\n00:18:15.699 --> 00:18:18.942\nAnd the effectiveness of that goes\ndirectly to the heart of one of the most\n\n364\n00:18:18.942 --> 00:18:22.665\nimportant elements we can think about when\nwe think about securing any resources,\n\n365\n00:18:22.665 --> 00:18:23.910\nunder any circumstances.\n\n366\n00:18:23.910 --> 00:18:27.648\nAD driven or not,\nwhich is communication of the expectation.\n\n367\n00:18:27.648 --> 00:18:31.412\nAnd setting of that baseline, so\nthat understanding is going to\n\n368\n00:18:31.412 --> 00:18:36.083\nbe standardized among all participants\nis probably the number one thing we talk\n\n369\n00:18:36.083 --> 00:18:40.212\nabout when we talk about how to\ncreate logical and physical security.\n\n370\n00:18:40.212 --> 00:18:43.370\nAnd most importantly, the culture of\nsecurity that supports the implementation\n\n371\n00:18:43.370 --> 00:18:45.170\nand the outcomes you're looking for.\n\n372\n00:18:45.170 --> 00:18:48.281\nIt's training and awareness, gotta\ntell people what the expectations are.\n\n373\n00:18:48.281 --> 00:18:51.490\nGive them the opportunity to\ninteract in the proper way.\n\n374\n00:18:51.490 --> 00:18:54.466\nAnd make sure they understand what\nthe right and wrong decisions are to make.\n\n375\n00:18:54.466 --> 00:18:58.120\nAnd documentation like this helps you\nto be able to do that effectively, so\n\n376\n00:18:58.120 --> 00:19:00.970\njust pointing that out,\nhelping you to think about that.\n\n377\n00:19:00.970 --> 00:19:04.054\nSo we can see and\nmake changes in here, obviously.\n\n378\n00:19:04.054 --> 00:19:07.470\nWe have account lockout policies, so let's\njust take a look at some of them here.\n\n379\n00:19:08.660 --> 00:19:12.717\nLockout duration, invalid lock,\nrather lockout threshold.\n\n380\n00:19:12.717 --> 00:19:15.675\nAnd reset account lockout counter after,\nafter so\n\n381\n00:19:15.675 --> 00:19:19.720\nmany bad attempts or so much time,\nwhatever the case may be.\n\n382\n00:19:19.720 --> 00:19:21.427\nWe saw these on the settings as well.\n\n383\n00:19:21.427 --> 00:19:23.083\nWe have Kerbero's policy.\n\n384\n00:19:23.083 --> 00:19:26.580\nWe need to make a change here, one of\nthe things we can do come in and do that.\n\n385\n00:19:26.580 --> 00:19:29.451\nSo those are all up under account\npolicies, what about local policies?\n\n386\n00:19:29.451 --> 00:19:30.866\nSo let's take a look in here.\n\n387\n00:19:30.866 --> 00:19:32.718\nWe do have our audit policy.\n\n388\n00:19:32.718 --> 00:19:35.733\nWe do have the ability to go\nin under audit policies and\n\n389\n00:19:35.733 --> 00:19:38.220\naudit our standard set of auditing events.\n\n390\n00:19:38.220 --> 00:19:40.738\nThese are not the advanced\nauditing capabilities that we\n\n391\n00:19:40.738 --> 00:19:42.742\nhave in some of our\nnewer operating systems.\n\n392\n00:19:42.742 --> 00:19:45.489\nThese are the ones that go\nall the way back to NT4, or\n\n393\n00:19:45.489 --> 00:19:49.744\nin order to be able to go in and audit\naccount login events, account management.\n\n394\n00:19:49.744 --> 00:19:54.254\nWe've total of nine items here, that's\nkind of our standard default auditing.\n\n395\n00:19:54.254 --> 00:19:57.905\nBut notice by the way that auditing\nis not enabled by default.\n\n396\n00:19:57.905 --> 00:20:02.786\nThat we would have to turn on auditing\nin our default domain policy.\n\n397\n00:20:02.786 --> 00:20:06.550\nIn other words by default at the domain\nlevel we are not auditing any of these\n\n398\n00:20:06.550 --> 00:20:07.157\nsettings.\n\n399\n00:20:07.157 --> 00:20:10.129\nSo that we may wanna have a record\nof them, it would be helpful for\n\n400\n00:20:10.129 --> 00:20:11.300\nus to know that.\n\n401\n00:20:11.300 --> 00:20:15.170\nNow what may be interesting,\nmaybe let's just minimize out of here for\n\n402\n00:20:15.170 --> 00:20:16.210\njust one moment.\n\n403\n00:20:16.210 --> 00:20:19.443\nLet's come over here to\nthe domain controllers, OU,\n\n404\n00:20:19.443 --> 00:20:23.118\nthe domain controllers policy,\ndifferent policy, right.\n\n405\n00:20:23.118 --> 00:20:26.562\nLet's take a look at setting\nhere real quick, and\n\n406\n00:20:26.562 --> 00:20:29.606\nlet's take a look at\nwhat the settings are?\n\n407\n00:20:29.606 --> 00:20:33.864\nWe could see all of these, we see access\ncomputer from the network at work station\n\n408\n00:20:33.864 --> 00:20:38.186\ndomain all the nuts and bolts operational\nitems that have to happen against domain\n\n409\n00:20:38.186 --> 00:20:40.230\ncontrollers are specified here.\n\n410\n00:20:40.230 --> 00:20:42.410\nNot in the default domain policy.\n\n411\n00:20:42.410 --> 00:20:44.048\nSo just so you know that will go in,\n\n412\n00:20:44.048 --> 00:20:46.427\nwe'll talk about some of\nthese as we scroll down.\n\n413\n00:20:46.427 --> 00:20:52.065\nAnd then on domain controller itself,\ndomain member, Microsoft network, etc.\n\n414\n00:20:52.065 --> 00:20:56.287\nBut notice as we look at any of these that\nthere is, again a lot of stuff that's set\n\n415\n00:20:56.287 --> 00:20:59.204\nhere but there's no auditing\nthat is set here except for\n\n416\n00:20:59.204 --> 00:21:03.207\nggenerate security audits right there,\nthat's the one I was looking for.\n\n417\n00:21:03.207 --> 00:21:06.314\nThat's the one item, I don't know if\nI can highlight yet, and highlight.\n\n418\n00:21:06.314 --> 00:21:09.320\nSo I should, well, I kinda of have it on\ndrag without really being able to move.\n\n419\n00:21:09.320 --> 00:21:11.613\nBut generate security audits is set here.\n\n420\n00:21:11.613 --> 00:21:15.095\nSo there's one little aspect of auditing\nthat is configured at the domain\n\n421\n00:21:15.095 --> 00:21:16.970\ncontroller's policy by default.\n\n422\n00:21:16.970 --> 00:21:20.395\nBut at the domain level,\nwe do not actually generate or\n\n423\n00:21:20.395 --> 00:21:22.036\nhave an audit policy set.\n\n424\n00:21:22.036 --> 00:21:23.184\nWe must go in and set that.\n\n425\n00:21:23.184 --> 00:21:27.106\nSo that's another interesting from a\nsecurity standpoint aspect of how we think\n\n426\n00:21:27.106 --> 00:21:27.758\nabout this.\n\n427\n00:21:27.758 --> 00:21:31.146\nBecause logically, to think about this\nmore often than not from a security\n\n428\n00:21:31.146 --> 00:21:34.235\nstandpoint we probably would want\na audit for some of these things.\n\n429\n00:21:34.235 --> 00:21:36.500\nBut the challenge is out\nof the box by default,\n\n430\n00:21:36.500 --> 00:21:38.780\nwe don't know what you\nwould wanna audit for.\n\n431\n00:21:38.780 --> 00:21:40.957\nNow would you wanna audit for\nit at all times?\n\n432\n00:21:40.957 --> 00:21:43.264\nIn other words, during normal operations,\n\n433\n00:21:43.264 --> 00:21:47.453\nwould you really wanna audit account log\non events, account management events,\n\n434\n00:21:47.453 --> 00:21:51.380\naccount log on, and object access,\npolicy change, privilege use, etc?\n\n435\n00:21:51.380 --> 00:21:55.042\nYou may wanna know about a lot of these,\nbut these are often things that you turn\n\n436\n00:21:55.042 --> 00:21:57.610\non for periods of time to take\na look at certain things.\n\n437\n00:21:57.610 --> 00:22:00.410\nAnd have records of them, but\nmay not run all the time.\n\n438\n00:22:00.410 --> 00:22:04.087\nBecause this generates a lot of\ninformation, can fill up your security\n\n439\n00:22:04.087 --> 00:22:06.920\nlogs very quickly, and\ncan generate a lot of traffic.\n\n440\n00:22:06.920 --> 00:22:11.052\nIf you're logged in through a syslog or\nsome sort of SEM system where those events\n\n441\n00:22:11.052 --> 00:22:13.560\nare being gathered and\nthen centrally managed.\n\n442\n00:22:13.560 --> 00:22:17.226\nAnd transported to another system\noutside of the domain controllers across\n\n443\n00:22:17.226 --> 00:22:17.913\nthe network,\n\n444\n00:22:17.913 --> 00:22:21.830\nyou may be generating a performance\noverhead that you may not want to have.\n\n445\n00:22:21.830 --> 00:22:23.979\nAnd so we don't turn them on\nby default for that reason.\n\n446\n00:22:23.979 --> 00:22:26.454\nBut it is important to consider that and\nbe aware of that.\n\n447\n00:22:26.454 --> 00:22:29.276\nSo we have them here, we obviously\ntake a look on it if we needed.\n\n448\n00:22:29.276 --> 00:22:30.736\nWe have user rights assignments.\n\n449\n00:22:30.736 --> 00:22:33.173\nLet's just go and take a look here.\n\n450\n00:22:33.173 --> 00:22:36.911\nAnd you'll see that while these settings\nshould look familiar to you because we\n\n451\n00:22:36.911 --> 00:22:39.935\njust previewed them on\nthe domain controller's policy.\n\n452\n00:22:39.935 --> 00:22:43.508\nWe saw a lot of the them more set we defer\nto the main controllers policy to set\n\n453\n00:22:43.508 --> 00:22:44.094\nthem here.\n\n454\n00:22:44.094 --> 00:22:48.465\nBecause remember, if we set them at\nthe default domain policy they applied to\n\n455\n00:22:48.465 --> 00:22:53.039\nevery computer in the domain not just\nthe domain controllers but to the servers,\n\n456\n00:22:53.039 --> 00:22:54.670\nthe work stations, right.\n\n457\n00:22:54.670 --> 00:22:58.826\nAnd we don't wanna allow log on locally,\nor block log on locally.\n\n458\n00:22:58.826 --> 00:23:03.540\nOr debug programs to create a page file,\nor change the system's time, or\n\n459\n00:23:03.540 --> 00:23:05.230\nwhatever may be there.\n\n460\n00:23:05.230 --> 00:23:07.134\nWe don't wanna do those on every computer.\n\n461\n00:23:07.134 --> 00:23:08.879\n&gt;&gt; Right.\n&gt;&gt; We only wanna do them on the domain,\n\n462\n00:23:08.879 --> 00:23:10.323\nwell, you may want to but-\n&gt;&gt; Usually.\n\n463\n00:23:10.323 --> 00:23:11.980\n&gt;&gt; Traditionally more often than not.\n\n464\n00:23:11.980 --> 00:23:15.968\nA lot of those things should only be\ndone under domain control, right.\n\n465\n00:23:15.968 --> 00:23:19.817\nHistorically we will control a lot longer\nlocally to domain controls cuz we don't\n\n466\n00:23:19.817 --> 00:23:21.110\nwant people setting down.\n\n467\n00:23:21.110 --> 00:23:24.520\nAnd interacting logging on there we\nwill sit only the domain admin group,\n\n468\n00:23:24.520 --> 00:23:26.530\nthe enterprise admin group whatever.\n\n469\n00:23:26.530 --> 00:23:30.267\nBut not normal users, we don't want them\nbe able to log unlocally we only want them\n\n470\n00:23:30.267 --> 00:23:31.576\nto authenticate remotely.\n\n471\n00:23:31.576 --> 00:23:33.501\nAnd so we will see this control applied.\n\n472\n00:23:33.501 --> 00:23:37.215\nBut knowing and being able to\ndistinguish between the levels here.\n\n473\n00:23:37.215 --> 00:23:41.122\nThe default domain policy applies\nto every object in the domain.\n\n474\n00:23:41.122 --> 00:23:45.202\nAnd the default and main controllers\npolicy at the domain controllers OU,\n\n475\n00:23:45.202 --> 00:23:49.960\napply only to the domain controllers as\na subset of machines within the domain.\n\n476\n00:23:49.960 --> 00:23:53.412\nVery important distinction as you begin to\nsee and really develop the ideas around.\n\n477\n00:23:53.412 --> 00:23:56.314\nAnd begin to understand\nwhy that is the case?\n\n478\n00:23:56.314 --> 00:23:57.714\nWe have security options here.\n\n479\n00:23:57.714 --> 00:24:01.047\nAgain,you'll think about all\nthe different things that take place,\n\n480\n00:24:01.047 --> 00:24:03.390\nand there are quite a number\nof them as you can see.\n\n481\n00:24:04.750 --> 00:24:05.539\nGo all the way down.\n\n482\n00:24:05.539 --> 00:24:08.659\nAnd while there are a couple\nthat are enabled right here,\n\n483\n00:24:08.659 --> 00:24:12.310\ndo not store LAN manager hash\nvalues on next password change.\n\n484\n00:24:12.310 --> 00:24:16.150\nWe do that as a security setting,\npreventing exposure of the password.\n\n485\n00:24:16.150 --> 00:24:20.350\nYou could see force log off when log\non hours expire has been disabled.\n\n486\n00:24:20.350 --> 00:24:23.040\nHave the default policy for\nthe domain level.\n\n487\n00:24:23.040 --> 00:24:23.560\nRight?\n\n488\n00:24:23.560 --> 00:24:27.610\nBut you could see other than that almost\neverything is set to not define because we\n\n489\n00:24:27.610 --> 00:24:33.170\nwill set these either on a individual\nbasis so we may assign them to a OU and\n\n490\n00:24:33.170 --> 00:24:35.700\nspecify how they're gonna behave only for\ncertain computers.\n\n491\n00:24:35.700 --> 00:24:39.510\nFor instance for the domain controllers\nversus all computers would be one way of\n\n492\n00:24:39.510 --> 00:24:44.050\nthinking about it so we will do that but\nwe often do that with a specific focus and\n\n493\n00:24:44.050 --> 00:24:46.980\nfilter to an OU and at the OU level.\n\n494\n00:24:46.980 --> 00:24:49.600\nSo it is important to go through and\nthink about these and\n\n495\n00:24:49.600 --> 00:24:52.090\nto understand the difference\nbetween these two policies\n\n496\n00:24:52.090 --> 00:24:55.110\nas would begin our journey into\nthe discussion around security.\n\n497\n00:24:55.110 --> 00:24:59.490\nBecause if we understand the distinction\nbetween the policy at the domain level and\n\n498\n00:24:59.490 --> 00:25:03.450\nthe policy that is applied to domain\ncontroller as a subset of the domain.\n\n499\n00:25:03.450 --> 00:25:06.350\nWe could begin to differentiate our\nbehavior or expected outcomes or\n\n500\n00:25:06.350 --> 00:25:08.280\nmanagement of security and\n\n501\n00:25:08.280 --> 00:25:13.250\nit makes our overall security stance a lot\nmore ,from our perspective, beneficial and\n\n502\n00:25:13.250 --> 00:25:16.590\nmore challenging to the bad actor,\nthe threat sources trying to break in.\n\n503\n00:25:16.590 --> 00:25:18.520\nAs we set our security up properly and\n\n504\n00:25:18.520 --> 00:25:23.042\nwe have over lapping neutrally reinforcing\nlayers or levels of controls we call this.\n\n505\n00:25:23.042 --> 00:25:26.890\nDefense and depth genetically\nas an architectural element or\n\n506\n00:25:26.890 --> 00:25:30.750\nthought process part of the overall\ndesign of what we call the ESA,\n\n507\n00:25:30.750 --> 00:25:32.650\nthe enterprise security architecture.\n\n508\n00:25:32.650 --> 00:25:33.300\nThe framework and\n\n509\n00:25:33.300 --> 00:25:37.650\nfile process of how security interwoven\ninto the enterprise at all times.\n\n510\n00:25:37.650 --> 00:25:39.100\nAnd the master blueprint,\n\n511\n00:25:39.100 --> 00:25:43.050\nif you will, or plan that allows us\nto speak to security knowledgeably.\n\n512\n00:25:43.050 --> 00:25:46.520\nAnd to paint a picture at multiple\nlevels of what security looks like,\n\n513\n00:25:46.520 --> 00:25:48.140\nboth physically and logically.\n\n514\n00:25:48.140 --> 00:25:52.350\nIf we think about creating our defense\nin depth architecture and one of the key\n\n515\n00:25:52.350 --> 00:25:56.340\nanchor points for it is policy management\nappropriate policies settings applied to\n\n516\n00:25:56.340 --> 00:25:59.950\nappropriate objects at the appropriate\nlevel with the right amount of\n\n517\n00:25:59.950 --> 00:26:04.090\ndocumentation, right amount of audit\nability, verification and validation.\n\n518\n00:26:04.090 --> 00:26:07.955\nWe build on a very solid basis to be able\nto then create a secure environment and\n\n519\n00:26:07.955 --> 00:26:09.620\nto manage that going forward.\n\n520\n00:26:09.620 --> 00:26:12.670\nIt is very important for\nyou to be aware of these differences.\n\n521\n00:26:12.670 --> 00:26:16.329\nImportant for you to be able to understand\nhow to operate, if asked to troubleshoot\n\n522\n00:26:16.329 --> 00:26:19.884\nor to speak knowledgeably about these on\nan exam, for instance, and of course as\n\n523\n00:26:19.884 --> 00:26:23.622\nalways we say, in the real world, equally,\nif not more important than on the exam.\n\n524\n00:26:23.622 --> 00:26:27.459\nBecause once you get it right on the exam,\nyou're probably gonna walk away, and go,\n\n525\n00:26:27.459 --> 00:26:30.410\nI'm done, and\nyou may not use that knowledge again.\n\n526\n00:26:30.410 --> 00:26:32.615\nReality is you should\nacknowledge all the time.\n\n527\n00:26:32.615 --> 00:26:36.410\nThe exam is just one small element of\na much bigger picture because in the real\n\n528\n00:26:36.410 --> 00:26:39.180\nworld this is something you have to think\nabout and do everyday if you're going to\n\n529\n00:26:39.180 --> 00:26:44.240\nbe successful as an IT administrator, as\na security focus IT Admin in the directory\n\n530\n00:26:44.240 --> 00:26:47.750\nservice and just as a good cooperate\ncitizen going about your business and\n\n531\n00:26:47.750 --> 00:26:49.040\nmaking sure you're doing\nthings the right way.\n\n532\n00:26:49.040 --> 00:26:52.260\nYou gotta know and understand how to do\nthese things it's very, very important.\n\n533\n00:26:52.260 --> 00:26:55.180\n&gt;&gt; Most definitely Adam, security should\nalways be at the back of our minds.\n\n534\n00:26:55.180 --> 00:26:59.550\nTo thank you for showing us how we could\napproach coming up with the strategy for\n\n535\n00:26:59.550 --> 00:27:01.890\nthat and\nlooking at some of the security settings.\n\n536\n00:27:01.890 --> 00:27:05.515\nBut I think we still have quite a bit\nto go when we talk about security here\n\n537\n00:27:05.515 --> 00:27:06.580\nwithin ADDS.\n\n538\n00:27:06.580 --> 00:27:08.090\nSo make sure you stay tuned for that.\n\n539\n00:27:08.090 --> 00:27:09.709\nBut for this show we are gonna\ngo ahead and sign out.\n\n540\n00:27:09.709 --> 00:27:11.540\nI have been your host Cherokee Boose.\n\n541\n00:27:11.540 --> 00:27:12.654\n&gt;&gt; I am Adam Gordek.\n\n542\n00:27:12.654 --> 00:27:14.299\n&gt;&gt; See you next time here at ITPRO.TV.\n\n543\n00:27:14.299 --> 00:27:22.071\n[MUSIC]\n\n544\n00:27:22.071 --> 00:27:25.150\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "229704596"
        },
        {
          "description": "In this show, Adam and Cherokee continue talking about security in AD DS. First, restricted groups are explained followed by a demo showing how to create a restricted users group as well as a protected users group. Next, they look at fine-grained password policies. Adam defines password setting objects (PSOs) and how the policies are applied not at the OU level but rather at the group level. A PowersShell method is covered as well as using the GUI through ADAC.",
          "length": "2010",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-2-securing_ad_ds_pt2-081217-PGM.00_33_14_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-2-securing_ad_ds_pt2-081217-PGM.00_33_14_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-2-securing_ad_ds_pt2-081217-PGM.00_33_14_09.Still001-sm.jpg",
          "title": "Securing AD DS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:03.836\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.836 --> 00:00:07.655\n[CROSSTALK]\n\n3\n00:00:07.655 --> 00:00:08.546\n[MUSIC]\n\n4\n00:00:08.546 --> 00:00:11.068\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:11.068 --> 00:00:17.010\n&gt;&gt; Welcome to Identify with Windows Server\n2016, I'm your show host Cherokee Boose.\n\n6\n00:00:17.010 --> 00:00:20.919\nIn this episode, we'll continue taking\na look at security within AD DS.\n\n7\n00:00:20.919 --> 00:00:23.112\nBack with us today we have Mr.\nAdam Gordon.\n\n8\n00:00:23.112 --> 00:00:24.460\nHow's it going today Adam?\n\n9\n00:00:24.460 --> 00:00:25.910\n&gt;&gt; Going well, how about for you?\n\n10\n00:00:25.910 --> 00:00:26.660\n&gt;&gt; I'm doing excellent.\n\n11\n00:00:26.660 --> 00:00:27.860\nThank you for asking.\n\n12\n00:00:27.860 --> 00:00:28.680\n&gt;&gt; Awesome.\n\n13\n00:00:28.680 --> 00:00:29.210\nAll right,\n\n14\n00:00:29.210 --> 00:00:33.600\nso let's get back into our conversations\nabout security within the AD DS.\n\n15\n00:00:33.600 --> 00:00:34.766\nWe're gonna talk about or\n\n16\n00:00:34.766 --> 00:00:38.423\ndrill down a little bit more on some of\nthe specificities associated with settings\n\n17\n00:00:38.423 --> 00:00:41.982\nin one or more of the policy areas,\ndefault, the main policy, in particular.\n\n18\n00:00:41.982 --> 00:00:45.720\nGonna look at restricted groups that\nshould preview those in the prior episode.\n\n19\n00:00:45.720 --> 00:00:49.445\nWhile back, I will talk that and we\ntalked that group and management overall.\n\n20\n00:00:49.445 --> 00:00:51.664\nYou have to find them and set them up,\ntalk about what they're work.\n\n21\n00:00:51.664 --> 00:00:53.415\nI will remind you that.\n\n22\n00:00:53.415 --> 00:00:56.160\nWe'll talk about protective users\nsecurity group and what that is,\n\n23\n00:00:56.160 --> 00:00:57.303\nkind of a difference there.\n\n24\n00:00:57.303 --> 00:01:01.804\nWe're also gonna talk about password\npolicies a little bit more in depth and\n\n25\n00:01:01.804 --> 00:01:06.024\nhow could some of the more granular\n[INAUDIBLE] called the fine grained or\n\n26\n00:01:06.024 --> 00:01:09.423\nfiner granularity password\npolicies we can implement.\n\n27\n00:01:09.423 --> 00:01:12.911\nOn top we have set it up,\nyou can use in PowerShell or ADAC.\n\n28\n00:01:12.911 --> 00:01:16.690\nAnd we'll actually do it through ADAC\njust show you what it looks like.\n\n29\n00:01:16.690 --> 00:01:18.532\nWe'll talk about the PowerShell\ncommandlents and\n\n30\n00:01:18.532 --> 00:01:19.568\nhow you can leverage those.\n\n31\n00:01:19.568 --> 00:01:22.690\nSo restrictive groups,\nlet's talk about restrictive groups.\n\n32\n00:01:22.690 --> 00:01:26.550\nThe idea behind restrictive groups in\nthe policy editor, we'll go in and\n\n33\n00:01:26.550 --> 00:01:27.780\ntake a look where we find them.\n\n34\n00:01:27.780 --> 00:01:30.610\nThe shell that we use to\nput restricted groups into\n\n35\n00:01:30.610 --> 00:01:32.080\nin the default domain policy's empty.\n\n36\n00:01:32.080 --> 00:01:34.360\nIn other words, it's a container,\nbut there's nothing there.\n\n37\n00:01:34.360 --> 00:01:37.800\nWe right click New Group,\nwe add the group in, we configure it.\n\n38\n00:01:37.800 --> 00:01:42.960\nThis allows us to be able to essentially\ncontrol membership in a local group and\n\n39\n00:01:42.960 --> 00:01:47.260\nspecify what it will be like from a policy\nperspective so that local users and\n\n40\n00:01:47.260 --> 00:01:50.750\nadministrators in that system can't\nmodify it, we control it centrally.\n\n41\n00:01:50.750 --> 00:01:52.530\nThat's what restrictive groups are for.\n\n42\n00:01:52.530 --> 00:01:57.190\nWe can only work with them, or rather we\nshould know that we can work with them\n\n43\n00:01:57.190 --> 00:02:00.790\nbased on them being local\ngroups on the machine.\n\n44\n00:02:00.790 --> 00:02:05.564\nNot domain level groups or\nwhat we would call global groups or\n\n45\n00:02:05.564 --> 00:02:09.130\ndomain local groups or\nrather local groups.\n\n46\n00:02:09.130 --> 00:02:11.939\nSo we just wanna keep that in mind or\nbe aware of that.\n\n47\n00:02:11.939 --> 00:02:14.699\nSo when we use this,\nreally just hard coding and\n\n48\n00:02:14.699 --> 00:02:18.495\nlocking up changes to what that\ngroup membership will look like,\n\n49\n00:02:18.495 --> 00:02:22.309\nyou control it centrally from\na centralized admin perspective.\n\n50\n00:02:22.309 --> 00:02:24.220\nWe'll take a look at\nthat in just a moment.\n\n51\n00:02:24.220 --> 00:02:25.620\nWhat about protected users?\n\n52\n00:02:25.620 --> 00:02:27.330\nThe protected users security group.\n\n53\n00:02:27.330 --> 00:02:31.410\nThis prevents highly sensitive\naccounts that may be compromised and\n\n54\n00:02:31.410 --> 00:02:34.980\nif they were compromised, could lead\nto somebody getting into our systems.\n\n55\n00:02:34.980 --> 00:02:39.890\nThink domain admin, think local admin,\nthink schema admin,\n\n56\n00:02:39.890 --> 00:02:42.860\nenterprise admin,\nwhatever other kind of group or\n\n57\n00:02:42.860 --> 00:02:45.940\naccounts specific to groups\nwould fall into this thinking.\n\n58\n00:02:45.940 --> 00:02:48.940\nHighly sensitive accounts that\nhave rights to many many areas\n\n59\n00:02:48.940 --> 00:02:52.120\nprevents them from using\ncache credentials,\n\n60\n00:02:52.120 --> 00:02:56.170\nforces them to validate their\nlog on every time they log on.\n\n61\n00:02:56.170 --> 00:03:01.100\nSo if we put them into this group, we're\nforcing them to provide that credential\n\n62\n00:03:01.100 --> 00:03:05.740\nand make sure it's validated through the\nnormal exchange of information every time,\n\n63\n00:03:05.740 --> 00:03:07.660\nand not allowing that\ncredential to be cached.\n\n64\n00:03:07.660 --> 00:03:11.530\nThat's really what protected users,\nsecurity groups are used for.\n\n65\n00:03:11.530 --> 00:03:15.865\nSo we just want to think about this,\nwe can't use these or user groups,\n\n66\n00:03:15.865 --> 00:03:20.662\nuser's that go into this group can not\nuse for instance NTLM authentication.\n\n67\n00:03:20.662 --> 00:03:24.856\nThey're going to be forced to be able to\nuse a stronger level of encryption with\n\n68\n00:03:24.856 --> 00:03:25.720\nKerberos.\n\n69\n00:03:25.720 --> 00:03:29.274\nThey have to use the AES, the Advanced\nEncryption Standard algorithm.\n\n70\n00:03:29.274 --> 00:03:34.506\nYou would probably think of that about\nit at all as being the replacement for\n\n71\n00:03:34.506 --> 00:03:40.140\nan older encryption algorithm know as DES,\nthe Data Encryption Standard.\n\n72\n00:03:40.140 --> 00:03:43.430\nWe used to use DES to do a lot\nof the encryption and still do.\n\n73\n00:03:43.430 --> 00:03:44.250\nIt's an option.\n\n74\n00:03:44.250 --> 00:03:47.670\nAlthough you may notice three DES\nthree dash DES, or triple DES.\n\n75\n00:03:47.670 --> 00:03:51.750\nBut we used to use triple DES, and\nindeed still have the option to do so,\n\n76\n00:03:51.750 --> 00:03:56.036\nit's used with IP sec, and can be used\nwith Kerberos depending on how new or\n\n77\n00:03:56.036 --> 00:03:58.366\nold the implementation of Kerberos is.\n\n78\n00:03:58.366 --> 00:04:03.137\nBut we also now have AES which\nreplaces DES is more secure,stronger\n\n79\n00:04:03.137 --> 00:04:06.535\nless likely to be broken things like that.\n\n80\n00:04:06.535 --> 00:04:11.096\nAnd we would have to as part of the use\nof this designation force the use of\n\n81\n00:04:11.096 --> 00:04:14.896\nthe AES encryption as oppose to\nthe older DES encryption for\n\n82\n00:04:14.896 --> 00:04:19.015\nthe exchange of the user credentials\nbecause DES can be broken.\n\n83\n00:04:19.015 --> 00:04:22.930\nIt's shown to be weak and\npotentially subject to attack.\n\n84\n00:04:22.930 --> 00:04:25.990\nNot saying it would be broken\nin normal environmental and\n\n85\n00:04:25.990 --> 00:04:27.250\nenterprise circumstances.\n\n86\n00:04:27.250 --> 00:04:32.260\nBut if somebody was really gung ho and\ndecided they wanted that credential and\n\n87\n00:04:32.260 --> 00:04:36.200\ngrabbed that network traffic through\nsome sort of sniffing solution,\n\n88\n00:04:36.200 --> 00:04:39.890\ntook the hashes and the information\nthat were going back and forth and\n\n89\n00:04:39.890 --> 00:04:44.180\nfound they were encrypted with DES, they\nhad the right resources and enough time,\n\n90\n00:04:44.180 --> 00:04:48.380\nthey actually could potentially find the\nkey that would unlock that information and\n\n91\n00:04:48.380 --> 00:04:49.640\nbreak the encryption.\n\n92\n00:04:49.640 --> 00:04:53.310\nWhereas with AES it would be\nunlikely that that could happen.\n\n93\n00:04:53.310 --> 00:04:55.220\nSo wanna make sure\nyou're aware of that and\n\n94\n00:04:55.220 --> 00:04:57.920\njust think about some of\nthe logic associated with this.\n\n95\n00:04:57.920 --> 00:05:01.370\nWhy don't we go in and take a look\nat a couple of these things quickly.\n\n96\n00:05:01.370 --> 00:05:05.270\nAnd then we'll take a look at the fine\ngrained password policies as well.\n\n97\n00:05:05.270 --> 00:05:10.550\nSo I'm on my domain controller plabdc01\nin the practicelabs.com domain.\n\n98\n00:05:10.550 --> 00:05:12.010\nPretty comfortable with\nthis we've been in and\n\n99\n00:05:12.010 --> 00:05:14.730\nout of this quite a bit in our\nconversations up until now.\n\n100\n00:05:14.730 --> 00:05:17.660\nGot a whole bunch of stuff opened\nup on my task bar down here.\n\n101\n00:05:17.660 --> 00:05:20.910\nWe're gonna take a look at the various\nthings we've been talking about.\n\n102\n00:05:20.910 --> 00:05:21.640\nLet's go in here.\n\n103\n00:05:21.640 --> 00:05:23.980\nLet's start with the Group Policy Editor.\n\n104\n00:05:23.980 --> 00:05:26.560\nAnd let's take a look at that\nrestricted groups designation.\n\n105\n00:05:26.560 --> 00:05:29.380\nThen we'll go in to the active\ndirectory users and computers.\n\n106\n00:05:29.380 --> 00:05:31.960\nWe'll take a look at detecting users set.\n\n107\n00:05:31.960 --> 00:05:35.324\nSo we're in here,\nnow I've just gone ahead and gone and\n\n108\n00:05:35.324 --> 00:05:37.482\nopened up the Group Policy Editor.\n\n109\n00:05:37.482 --> 00:05:40.273\nSo I've gone into server manager,\ngone into the tools menu,\n\n110\n00:05:40.273 --> 00:05:44.020\nopened up the Group Policy Editor on\nthe domain controller, as we often do.\n\n111\n00:05:44.020 --> 00:05:46.675\nTell you where we're starting,\njust so if you're keeping up with us.\n\n112\n00:05:46.675 --> 00:05:48.890\nI want to know how we got to this tool.\n\n113\n00:05:48.890 --> 00:05:51.090\nMaybe this is the first time\nyou're hearing about this,\n\n114\n00:05:51.090 --> 00:05:52.750\ndon't have any idea what it is.\n\n115\n00:05:52.750 --> 00:05:55.200\nWanna know why we're going there and\nhow to get there,\n\n116\n00:05:55.200 --> 00:05:57.760\nalways good to know where we start\nbefore we just jump right in.\n\n117\n00:05:57.760 --> 00:06:01.280\nSo I always try to verbalize that for\nyou, make sure you know where we are.\n\n118\n00:06:01.280 --> 00:06:04.700\nAnd I've gone ahead when I've\nopened up the Group Policy Editor,\n\n119\n00:06:04.700 --> 00:06:06.870\nwhich will look like this.\n\n120\n00:06:06.870 --> 00:06:10.110\nI've gone ahead and\ngone to the practicelabs.com domain.\n\n121\n00:06:10.110 --> 00:06:13.972\nRemember in your world,\nif you're using your own domain and\n\n122\n00:06:13.972 --> 00:06:18.665\nyour own environment to do kind of\na follow along or to do labs or practice,\n\n123\n00:06:18.665 --> 00:06:23.210\nyou're not using the hosted labs\nfrom practicelabs.com that we use,\n\n124\n00:06:23.210 --> 00:06:26.798\nwe provide you as part of you\ninteracting with ITProTV.\n\n125\n00:06:26.798 --> 00:06:29.830\nBut if you're not using that your\ndomain name may be different.\n\n126\n00:06:29.830 --> 00:06:31.370\nYour environment may\nlook slightly different.\n\n127\n00:06:31.370 --> 00:06:35.690\nSo just understand that we've opened up\nthe equivalent of the policy editor and\n\n128\n00:06:35.690 --> 00:06:39.980\nwe've gone into our domain,\nwhatever that domain name is.\n\n129\n00:06:39.980 --> 00:06:42.456\nLet the locals see the default\ndomain policy icon, or\n\n130\n00:06:42.456 --> 00:06:43.786\nthe little shortcut for it.\n\n131\n00:06:43.786 --> 00:06:45.430\nI've right clicked on it.\n\n132\n00:06:45.430 --> 00:06:48.840\nShows the edit.\nSo I've just gone ahead, done this.\n\n133\n00:06:48.840 --> 00:06:49.391\nShows an edit.\n\n134\n00:06:49.391 --> 00:06:51.171\nAnd then once I've done that,\n\n135\n00:06:51.171 --> 00:06:54.740\nI've opened up the policy\neditor which looks like this.\n\n136\n00:06:54.740 --> 00:06:58.290\nAnd I've gone into the computer\nconfiguration area.\n\n137\n00:06:58.290 --> 00:07:01.900\nI've opened up the policies folder,\nthe windows settings.\n\n138\n00:07:01.900 --> 00:07:06.340\nAnd underneath security settings right\nhere, I've gone to restricted groups and\n\n139\n00:07:06.340 --> 00:07:08.280\nI highlighted that folder.\n\n140\n00:07:08.280 --> 00:07:12.650\nJust so you could see there's nothing in\nit by default and by design right here.\n\n141\n00:07:12.650 --> 00:07:18.220\nI'm gonna right click on restricted groups\nand I'm just going to click add group.\n\n142\n00:07:18.220 --> 00:07:20.667\nAnd I can then specify the group\nthat I wanna put in here,\n\n143\n00:07:20.667 --> 00:07:22.031\nwhatever group that would be.\n\n144\n00:07:22.031 --> 00:07:25.850\nAnd I would now specify once I do that\nI can then control the membership of\n\n145\n00:07:25.850 --> 00:07:26.960\nthat group.\n\n146\n00:07:26.960 --> 00:07:32.960\nSo let's do phcp users,\nI think that is a group that will work.\n\n147\n00:07:32.960 --> 00:07:33.970\nLet's just make sure.\n\n148\n00:07:39.509 --> 00:07:43.020\nYes, so got a local group there.\n\n149\n00:07:43.020 --> 00:07:47.400\nClick OK, and\nthen you'll see once I do that,\n\n150\n00:07:47.400 --> 00:07:50.270\nlet's just bring this over so\nyou can take a look here.\n\n151\n00:07:50.270 --> 00:07:53.220\nOnce I've done that notice that I\nhave to configure membership in,\n\n152\n00:07:53.220 --> 00:07:54.870\nactually let me bring it over this way.\n\n153\n00:07:54.870 --> 00:07:57.963\nI keep forgetting that I'm sitting on the\nright hand corner of that screen while I'm\n\n154\n00:07:57.963 --> 00:07:58.582\ntalking to you.\n\n155\n00:07:58.582 --> 00:08:01.878\nSo you can see once I do that,\nthat members of this group,\n\n156\n00:08:01.878 --> 00:08:03.399\nthis group is a member of.\n\n157\n00:08:03.399 --> 00:08:05.964\nI can add group members in here.\n\n158\n00:08:05.964 --> 00:08:08.556\nDeciding or specifying who\nwill be a member of the group.\n\n159\n00:08:08.556 --> 00:08:12.197\nAnd as a result, I'm now hard coding\nthe membership in that group, and\n\n160\n00:08:12.197 --> 00:08:16.080\nthat's gonna be the membership on\nany machine that has that group.\n\n161\n00:08:16.080 --> 00:08:19.200\nAnd as a result, it will be\ncontrolled by me through this policy.\n\n162\n00:08:19.200 --> 00:08:21.400\nA local administrator's not gonna\nbe able to go in and modify that.\n\n163\n00:08:21.400 --> 00:08:24.230\nIt's gonna be blocked and\nonly I will be able to [INAUDIBLE].\n\n164\n00:08:24.230 --> 00:08:26.470\nWhoever controls the policy\nwill be able to do that.\n\n165\n00:08:26.470 --> 00:08:29.830\nBut as the creator owner, I'm the one\nwho's on record as controlling it.\n\n166\n00:08:29.830 --> 00:08:32.660\nBut in theory, a member of the domain\nadmin group who could come in and\n\n167\n00:08:32.660 --> 00:08:35.180\nedit the policy could\ncertainly control it as well.\n\n168\n00:08:35.180 --> 00:08:38.000\nSo I would just specify membership here,\nand then I would be\n\n169\n00:08:38.000 --> 00:08:42.440\nable to hard code that group, right,\nso let's add members of this group.\n\n170\n00:08:42.440 --> 00:08:50.930\nLet's say the guest count, perhaps.\n\n171\n00:08:50.930 --> 00:08:53.920\nOkay, and there we go, and\nso now I've gone ahead and\n\n172\n00:08:53.920 --> 00:08:55.840\ncreated a restricted group\nthrough this policy.\n\n173\n00:08:55.840 --> 00:09:01.030\nIf I close the policy editor window,\nthe policy has not been applied yet\n\n174\n00:09:01.030 --> 00:09:03.330\nin the sense that although\nthe policy is keyed up.\n\n175\n00:09:03.330 --> 00:09:05.670\nThere is a delay between\nthe time I create a policy and\n\n176\n00:09:05.670 --> 00:09:09.620\ntypically the time it's gonna\nbe applied to domain members.\n\n177\n00:09:09.620 --> 00:09:14.258\nWe would have to go in and either wait for\nthe interval for refresh to happen.\n\n178\n00:09:14.258 --> 00:09:17.670\nAnywhere from 30 minutes up about to\ntwo hours depending on where we are.\n\n179\n00:09:17.670 --> 00:09:19.740\nAnd some variable circumstances.\n\n180\n00:09:19.740 --> 00:09:23.720\nI could force a refresh of this policy,\nby going to a local machinery,\n\n181\n00:09:23.720 --> 00:09:25.650\nany machine to number the domain.\n\n182\n00:09:25.650 --> 00:09:28.500\nOpening a command prompt with\nadministrative credentials and\n\n183\n00:09:28.500 --> 00:09:30.150\ntyping in GPUPDATE/Force.\n\n184\n00:09:30.150 --> 00:09:34.470\nAnd that would allow me to pull down and\nrefresh both the computer and\n\n185\n00:09:34.470 --> 00:09:36.570\nuser aspects of policy.\n\n186\n00:09:36.570 --> 00:09:38.890\nAnd I would see the policy being applied.\n\n187\n00:09:38.890 --> 00:09:40.260\nSo I can do several different things.\n\n188\n00:09:40.260 --> 00:09:42.250\nI could shut the machine off and log out.\n\n189\n00:09:42.250 --> 00:09:46.190\nLog back on after the machine starts back\nup, policy's reapplied automatically\n\n190\n00:09:46.190 --> 00:09:48.810\nduring that cycle, and\nthe policy would then apply as well.\n\n191\n00:09:48.810 --> 00:09:52.020\nSo I have a few different options for\nhow I could see this policy apply.\n\n192\n00:09:52.020 --> 00:09:54.770\nIt'd be up to me to\ndecide what I wanna do.\n\n193\n00:09:54.770 --> 00:09:57.600\nI could just wait and\neventually it'll get applied anyway.\n\n194\n00:09:57.600 --> 00:10:01.200\nSo it's up to me, but that's how I\nwould deal with a restricted group.\n\n195\n00:10:01.200 --> 00:10:03.090\nSo let's just minimize there.\n\n196\n00:10:03.090 --> 00:10:04.020\nQuestions?\nThoughts?\n\n197\n00:10:04.020 --> 00:10:06.700\n&gt;&gt; No, I'm just trying to.\n\n198\n00:10:06.700 --> 00:10:10.072\n&gt;&gt; Randomness that you wanna inject into\nour thought process as you all just did?\n\n199\n00:10:10.072 --> 00:10:12.180\n&gt;&gt; Yeah [LAUGH] I'm sure I can\ncome up with some randomness, but\n\n200\n00:10:12.180 --> 00:10:15.520\nI'm just trying to absorb everything and\nsee where we're headed with this one.\n\n201\n00:10:15.520 --> 00:10:18.100\nBecause we did talk about,\nother kind of groups too.\n\n202\n00:10:18.100 --> 00:10:21.440\nSo I'm just kind of waiting to see what\nelse we're gonna be looking at here.\n\n203\n00:10:21.440 --> 00:10:22.760\n&gt;&gt; If I can get it to\ncome up the right way.\n\n204\n00:10:22.760 --> 00:10:23.330\nThere we go, all right.\n\n205\n00:10:23.330 --> 00:10:26.580\nSo we're gonna take a look at in addition.\n\n206\n00:10:26.580 --> 00:10:29.570\nLets go in here and\nlet me just expand this out real quick.\n\n207\n00:10:29.570 --> 00:10:32.510\nI just have to setup to talk about\nthe password settings the fine\n\n208\n00:10:32.510 --> 00:10:34.420\ngranular password settings.\n\n209\n00:10:34.420 --> 00:10:35.520\nWe'll do that in just a minute but\n\n210\n00:10:35.520 --> 00:10:38.685\nthat's what the password settings\ncontainer in the system is for.\n\n211\n00:10:38.685 --> 00:10:39.910\n&gt;&gt; Okay\n&gt;&gt; But before we do that let's\n\n212\n00:10:39.910 --> 00:10:42.750\njust go into users right here.\n\n213\n00:10:42.750 --> 00:10:46.670\nAnd let's go and let's look for\nour protected users group.\n\n214\n00:10:46.670 --> 00:10:48.540\nSo let's just scroll down here.\n\n215\n00:10:48.540 --> 00:10:50.900\n&gt;&gt; That's the one.\n&gt;&gt; And where did it go?\n\n216\n00:10:50.900 --> 00:10:56.144\nThis one is [INAUDIBLE].\n\n217\n00:10:56.144 --> 00:11:05.040\nAnd then.\n\n218\n00:11:05.040 --> 00:11:05.780\nThere, it's right there.\n\n219\n00:11:05.780 --> 00:11:07.810\nI don't know why it\nwasn't up there before.\n\n220\n00:11:07.810 --> 00:11:09.440\nBut [INAUDIBLE] it just sorting so\nI can see.\n\n221\n00:11:09.440 --> 00:11:10.690\nYou can see it right there.\n\n222\n00:11:10.690 --> 00:11:13.290\nI think I probably just unscrolled all\nthe way up, so it was just in there and\n\n223\n00:11:13.290 --> 00:11:16.520\nI hadn't actually seen it, although\nit's possible that it was there and\n\n224\n00:11:16.520 --> 00:11:18.100\nI was looking right at it and\ndidn't realize it.\n\n225\n00:11:18.100 --> 00:11:21.400\n&gt;&gt; Now, our protected users, these\nare the really like the high-sensitivity\n\n226\n00:11:21.400 --> 00:11:22.960\ntype accounts that I need to deal with?\n\n227\n00:11:22.960 --> 00:11:24.780\n&gt;&gt; Exactly, right,\nthis is the one that we talked about,\n\n228\n00:11:24.780 --> 00:11:28.310\nthat maybe those domain admin,\nenterprise admin.\n\n229\n00:11:28.310 --> 00:11:32.000\nOne of those accounts that we don't wanna\nhave the credentials cached for, but\n\n230\n00:11:32.000 --> 00:11:36.240\nrather want to force authentication on an\non-going basis to ensure that we actually\n\n231\n00:11:36.240 --> 00:11:39.840\nhave, you have the user that really\nshould legitimately own that credential.\n\n232\n00:11:39.840 --> 00:11:43.260\nHas understanding of it and is using it\nas opposed to somebody who may have taken\n\n233\n00:11:43.260 --> 00:11:47.400\nover a system where the credential may be\ncached, stored, and is using it without\n\n234\n00:11:47.400 --> 00:11:51.350\nour knowledge and obviously without real\nknowledge of the username and password.\n\n235\n00:11:51.350 --> 00:11:53.850\nAnd it just trying to pawn\nthemselves up and masquerades them.\n\n236\n00:11:53.850 --> 00:11:55.420\n&gt;&gt; Like a man in the middle attack or\nsomething.\n\n237\n00:11:55.420 --> 00:11:58.320\n&gt;&gt; Something like that, it's actually\na replay attack, man in the middle\n\n238\n00:11:58.320 --> 00:11:59.250\n&gt;&gt; Things of that nature,\n\n239\n00:11:59.250 --> 00:12:00.200\nabsolutely correct.\n\n240\n00:12:00.200 --> 00:12:02.490\nSo we do have this group\ncalled protected users.\n\n241\n00:12:02.490 --> 00:12:05.200\nYou can see it is a global group,\nyou can see it here.\n\n242\n00:12:05.200 --> 00:12:08.460\nBut if we go in, let's just double-click\nto bring up the properties of it.\n\n243\n00:12:08.460 --> 00:12:11.510\nYou'll see we have members, and by default\nthere are no members in there, but\n\n244\n00:12:11.510 --> 00:12:12.800\nwe know we can add them.\n\n245\n00:12:12.800 --> 00:12:16.440\nAgain, we would have to designate, based\non our thought process around security,\n\n246\n00:12:16.440 --> 00:12:18.810\nwhether or not this is a good idea,\nand if so.\n\n247\n00:12:18.810 --> 00:12:22.420\nWhat would be the most likely group\nof users that would be put in here.\n\n248\n00:12:22.420 --> 00:12:24.520\nSo we would add in a user account or two.\n\n249\n00:12:24.520 --> 00:12:25.800\nAnd once we've done that,\n\n250\n00:12:25.800 --> 00:12:28.910\nwe would then be affording them\nthe protection that I mentioned.\n\n251\n00:12:28.910 --> 00:12:33.840\nNo use of mtlm, no pre-cache of\nthe credential, forcing the use of aes as\n\n252\n00:12:33.840 --> 00:12:38.210\nopposed to des as the algorithm\nof choice to encrypt for.\n\n253\n00:12:38.210 --> 00:12:40.060\nSo that we would then allow for\n\n254\n00:12:40.060 --> 00:12:43.700\nthese higher levels of security to be\napplied to these accounts forcing them to\n\n255\n00:12:43.700 --> 00:12:46.530\nbe considered more secure and\nacting accordingly.\n\n256\n00:12:46.530 --> 00:12:49.690\nSo this is the protected users groups,\nyou could see it there.\n\n257\n00:12:49.690 --> 00:12:53.298\nHave to configure that from within\nthe directory user in computer\n\n258\n00:12:53.298 --> 00:12:54.672\nto be able to access that..\n\n259\n00:12:54.672 --> 00:12:59.300\nThe directory administrative center and\nsee that as well.\n\n260\n00:12:59.300 --> 00:13:01.330\nYou just wanna make sure\nyou're aware of that.\n\n261\n00:13:01.330 --> 00:13:02.720\nAll right so\nwe talked about those two things and\n\n262\n00:13:02.720 --> 00:13:04.290\nI mentioned that now that we've done that.\n\n263\n00:13:04.290 --> 00:13:08.950\nWanna then circle back, talk about fine\ngrained password policies a little bit.\n\n264\n00:13:08.950 --> 00:13:13.530\nAnd why we may wanna drill down below\nthe basic password policies, and\n\n265\n00:13:13.530 --> 00:13:18.910\napply slightly more granularity or\ndetailed management and\n\n266\n00:13:18.910 --> 00:13:20.540\nthought processes around that.\n\n267\n00:13:20.540 --> 00:13:23.380\nTo our password and\nlockout policies specifically.\n\n268\n00:13:23.380 --> 00:13:29.150\nStarting with Server 2008 we can actually\ndefine more than one password policy for\n\n269\n00:13:29.150 --> 00:13:33.780\na domain by implementing this idea what\nare called fine grained password policy.\n\n270\n00:13:33.780 --> 00:13:36.930\nSo this is not new,\n2008, 8R2, 12, 12R2,16.\n\n271\n00:13:36.930 --> 00:13:40.790\nFive generations of the OS that\nwe've had these capabilities.\n\n272\n00:13:40.790 --> 00:13:43.050\nYou know that we could do this for\ngoing back so far.\n\n273\n00:13:43.050 --> 00:13:44.220\n&gt;&gt; For what?\n\n274\n00:13:44.220 --> 00:13:46.130\n&gt;&gt; For say hello,\n&gt;&gt; Hello [LAUGH]\n\n275\n00:13:46.130 --> 00:13:48.790\n&gt;&gt; How are you good glad you're keeping\n\n276\n00:13:48.790 --> 00:13:49.520\nup with us.\n\n277\n00:13:49.520 --> 00:13:51.670\nSo we're talking about fine\ngrained password policies.\n\n278\n00:13:51.670 --> 00:13:54.280\nSo I was just asking we've been\nable to do this since Windows 2008.\n\n279\n00:13:54.280 --> 00:13:55.460\n&gt;&gt; For a while.\n\n280\n00:13:55.460 --> 00:13:59.170\n&gt;&gt; For a while now right so let's just ask\nif you really want that quite that far.\n\n281\n00:13:59.170 --> 00:13:59.920\n&gt;&gt; Since 2008.\n\n282\n00:13:59.920 --> 00:14:00.450\n&gt;&gt; Since 2008.\n\n283\n00:14:00.450 --> 00:14:01.698\n&gt;&gt; Yeah I can remember 2008.\n\n284\n00:14:01.698 --> 00:14:05.880\n[LAUGH] It's like a little\ndistant memory but it's there.\n\n285\n00:14:05.880 --> 00:14:08.930\n&gt;&gt; I'm gonna just start actually\ntalking about stuff that makes sense.\n\n286\n00:14:08.930 --> 00:14:12.250\nWe're gonna slowly but\nsurely fade you out of this conversation.\n\n287\n00:14:12.250 --> 00:14:14.510\nCan we just cut there we\ngo perfect all right.\n\n288\n00:14:14.510 --> 00:14:17.070\nSo pay attention to the person who\nhas something relevant to say.\n\n289\n00:14:17.070 --> 00:14:21.480\nIgnore the person who really was just\ntalking and not actually saying much.\n\n290\n00:14:21.480 --> 00:14:25.450\nAll right, so, we're just gonna be talking\nabout the idea that find great paths for\n\n291\n00:14:25.450 --> 00:14:30.380\npolicies, the ability to apply more\nthan one of them, as I was suggesting,\n\n292\n00:14:30.380 --> 00:14:31.910\nto, in this case, a single domain.\n\n293\n00:14:31.910 --> 00:14:33.850\nSo normally, prior to 2008.\n\n294\n00:14:33.850 --> 00:14:36.560\nWhen we applied the policy of\nthe default domain policy,\n\n295\n00:14:36.560 --> 00:14:38.160\nwe've have our password policy there.\n\n296\n00:14:38.160 --> 00:14:39.580\nBut that what is, that's what we applied.\n\n297\n00:14:39.580 --> 00:14:40.850\nThat's what to.\n\n298\n00:14:40.850 --> 00:14:42.820\nAnd that was the only policy we use.\n\n299\n00:14:42.820 --> 00:14:46.790\nWe now actually since 2008 have\nmultiple password policies and\n\n300\n00:14:46.790 --> 00:14:49.690\nthat's with fine graining\nis gonna allow us to do.\n\n301\n00:14:49.690 --> 00:14:53.170\nBut in order to do this we have to\nhave two new objects that are created.\n\n302\n00:14:53.170 --> 00:14:56.830\nAnd starting with 2008 forward,\nwe have the password settings container.\n\n303\n00:14:56.830 --> 00:14:59.440\nYou actually just saw that\na moment ago when I went in and\n\n304\n00:14:59.440 --> 00:15:01.430\nI showed you the protected users group.\n\n305\n00:15:01.430 --> 00:15:04.710\nI was in the system container,\ncuz I had turned on the advanced features,\n\n306\n00:15:04.710 --> 00:15:06.440\nI had it already set up for that.\n\n307\n00:15:06.440 --> 00:15:08.190\nI was there, I highlighted it and\n\n308\n00:15:08.190 --> 00:15:10.920\nI just left it sitting on\nthe password settings container.\n\n309\n00:15:10.920 --> 00:15:13.250\nSo you got to see that a moment ago,\nan object.\n\n310\n00:15:13.250 --> 00:15:15.940\nThat is in the active directory\non the domain controllers,\n\n311\n00:15:15.940 --> 00:15:19.470\non the system container which\nis hidden by the normal view.\n\n312\n00:15:19.470 --> 00:15:22.310\nBut we turn on advanced features and\nwe see it there.\n\n313\n00:15:22.310 --> 00:15:23.750\nThat container is empty by default.\n\n314\n00:15:23.750 --> 00:15:26.950\nCuz by default, we don't have any\nfine grained password policies, but\n\n315\n00:15:26.950 --> 00:15:28.490\nwe're gonna show you how to create one.\n\n316\n00:15:28.490 --> 00:15:30.590\nSo we have the password\nsettings container.\n\n317\n00:15:30.590 --> 00:15:33.620\nThat's container in the schema,\n\n318\n00:15:33.620 --> 00:15:37.495\ndesigned in the system use facility to\nhold these policies once they are created.\n\n319\n00:15:37.495 --> 00:15:42.335\nAnd then we have PSOs,\nPassword Settings Objects and\n\n320\n00:15:42.335 --> 00:15:45.507\nwe as members of the domain admin group.\n\n321\n00:15:45.507 --> 00:15:49.301\nCan create this PSOs,\ndefining specific password and\n\n322\n00:15:49.301 --> 00:15:53.950\naccount lockout settings linking\nthem to a specific group.\n\n323\n00:15:53.950 --> 00:15:55.161\nSecurity group or user.\n\n324\n00:15:55.161 --> 00:15:59.567\nThe trick is we can not link these\nfine grained password policies\n\n325\n00:15:59.567 --> 00:16:03.332\ndirectly to an OU like we do\nto a default domain policy.\n\n326\n00:16:03.332 --> 00:16:05.401\nInstead we have to use what's\ncalled a shadow group.\n\n327\n00:16:05.401 --> 00:16:09.054\nWe essentially have to create a security\ngroup, and then link the policy there, and\n\n328\n00:16:09.054 --> 00:16:10.296\nthen, as a result apply it.\n\n329\n00:16:10.296 --> 00:16:12.540\nSo we're bypassing the OU essentially,\n\n330\n00:16:12.540 --> 00:16:16.397\ncuz the policy's already linked to\nthe OU at the default domain level.\n\n331\n00:16:16.397 --> 00:16:19.722\nThese additional policies get linked\nto groups instead of the OUs and\n\n332\n00:16:19.722 --> 00:16:21.047\nthat's how we apply them.\n\n333\n00:16:21.047 --> 00:16:23.563\nSo the same idea, it's just a matter\nof knowing that we're gonna do that.\n\n334\n00:16:23.563 --> 00:16:27.959\nThey apply only to user objects,\nthese policies, intraorg person objects or\n\n335\n00:16:27.959 --> 00:16:29.436\nglobal security groups.\n\n336\n00:16:29.436 --> 00:16:32.565\nAnd that's how we're going to assign and\nalign with them.\n\n337\n00:16:32.565 --> 00:16:37.408\nSo we are modifying an actual attribute\nwhen we do this called the ms-DS-PSO\n\n338\n00:16:37.408 --> 00:16:38.903\napplied attribute..\n\n339\n00:16:38.903 --> 00:16:41.260\nIt is an empty attribute by default.\n\n340\n00:16:41.260 --> 00:16:44.591\nWe're gonna fill it with a policy\nif it's used to apply one.\n\n341\n00:16:44.591 --> 00:16:50.960\nSo the ms-DS-PSO applied attribute is\nthe new attribute that's been created.\n\n342\n00:16:50.960 --> 00:16:54.830\nAnd that we modify when we actually\ncreate these particular policies.\n\n343\n00:16:54.830 --> 00:16:59.729\nAnd as a result, we're gonna go in and\npotentially have a subset of policies by\n\n344\n00:16:59.729 --> 00:17:04.644\ngroup that can override and modify\nthe default password policy in the domain.\n\n345\n00:17:04.644 --> 00:17:06.305\nThat's essentially what we're doing,\n\n346\n00:17:06.305 --> 00:17:08.730\nthe account lockout as well\ncuz it does affect both.\n\n347\n00:17:08.730 --> 00:17:12.205\nRemember, domain admins are the ones\nthat have the rights to create this and\n\n348\n00:17:12.205 --> 00:17:12.864\napply these.\n\n349\n00:17:12.864 --> 00:17:16.376\nBut, if we could choose to we could\ndelegate this right to a subset of\n\n350\n00:17:16.376 --> 00:17:17.374\nadministrators.\n\n351\n00:17:17.374 --> 00:17:22.196\nYou may not wanna give delegated rights or\nfine-grained password policies to anybody.\n\n352\n00:17:22.196 --> 00:17:24.079\nYou may wanna control\nthat as a domain admin.\n\n353\n00:17:24.079 --> 00:17:28.460\nBut if we are delegating and involving\nthat, and we talked about the use of\n\n354\n00:17:28.460 --> 00:17:32.503\nthe delegation thought process in\nthe wizard to delegate control.\n\n355\n00:17:32.503 --> 00:17:36.460\nSo this is one of the things we can do if\nwe choose to, so just be aware of that.\n\n356\n00:17:36.460 --> 00:17:39.124\nI mentioned that we don't apply\nthis at the OU level, but\n\n357\n00:17:39.124 --> 00:17:42.246\nrather we apply them at the group level,\nso just keep that in mind.\n\n358\n00:17:42.246 --> 00:17:46.400\nAnd I mentioned that we use either\nPowerShell or Adapt to be able do this.\n\n359\n00:17:46.400 --> 00:17:50.138\nIf we wanna go in and we wanna use\nPowerShell, if you wanna join me here\n\n360\n00:17:50.138 --> 00:17:53.247\nin the demo enviroment,\nlet me just show you something.\n\n361\n00:17:53.247 --> 00:17:54.873\nSo I brought up PowerShell,\n\n362\n00:17:54.873 --> 00:17:58.255\njust as I try to do when we\nissue some of these commands.\n\n363\n00:17:58.255 --> 00:18:00.633\nReminding you that you can\nget help in PowerShell.\n\n364\n00:18:00.633 --> 00:18:04.713\nFor a command like this, a commandlet like\nthis, that you may not be familiar with,\n\n365\n00:18:04.713 --> 00:18:07.430\nmay be good to look up\nthe help file the first time.\n\n366\n00:18:07.430 --> 00:18:11.486\nSo gethelpnewadfindgreenpasswordpolicy\nis the cmdlet.\n\n367\n00:18:11.486 --> 00:18:13.326\nSo I just issued the help command there.\n\n368\n00:18:13.326 --> 00:18:16.759\nI updated the help file just to make\nsure we have the latest information, so\n\n369\n00:18:16.759 --> 00:18:18.239\nthat's what you see at the top.\n\n370\n00:18:18.239 --> 00:18:22.113\nBut New-ADFineGrainedPasswordPolicy\ncreates a new AD fine grained password\n\n371\n00:18:22.113 --> 00:18:23.275\npolicy from the shell.\n\n372\n00:18:23.275 --> 00:18:26.307\nGives you the syntax,\nas we've talked about the description,\n\n373\n00:18:26.307 --> 00:18:27.650\nshows us how to do this.\n\n374\n00:18:27.650 --> 00:18:31.775\nAnd remember, I've talked about the value\nof looking at examples, detailed and full,\n\n375\n00:18:31.775 --> 00:18:34.968\nas well as online, for a PowerShell\nhelp in some prior discussions.\n\n376\n00:18:34.968 --> 00:18:38.532\nThis is a truncated kind of\nexecutive overview of the help file.\n\n377\n00:18:38.532 --> 00:18:42.768\nIf you wanna see the full one with\nall the detailed syntax examples and\n\n378\n00:18:42.768 --> 00:18:46.506\nall the parameters and\nall the values associated with them.\n\n379\n00:18:46.506 --> 00:18:49.451\nAnother words, all the things\nyou really need to work with,\n\n380\n00:18:49.451 --> 00:18:52.767\nyou should do the full parameter at\nthe end of the help file request.\n\n381\n00:18:52.767 --> 00:18:55.326\nAnd you would then get much\ndifferent view of this.\n\n382\n00:18:55.326 --> 00:18:58.881\nBut I can do this through PowerShell,\nthat would be one way.\n\n383\n00:18:58.881 --> 00:19:03.301\nBut it may be a little complex,\nlet me show you what I mean.\n\n384\n00:19:03.301 --> 00:19:07.010\nSo if I was, can we just go full screen\njust so you can see the syntax on this?\n\n385\n00:19:07.010 --> 00:19:10.800\nIf I was to go in and issue\nNew-ADFineGrainedPasswordPolicy right\n\n386\n00:19:10.800 --> 00:19:13.135\nhere, and I just explained what that is.\n\n387\n00:19:13.135 --> 00:19:17.070\nIf I wanted to use that in PowerShell\nto actually do this, you will see that\n\n388\n00:19:17.070 --> 00:19:21.264\nI would have to, this would, by the way,\nall be one continuous line, right?\n\n389\n00:19:21.264 --> 00:19:23.210\nIt is just that it's\ntruncated in my notes.\n\n390\n00:19:23.210 --> 00:19:27.896\nBut I would type in something like this in\norder to be able to actually issue that\n\n391\n00:19:27.896 --> 00:19:28.470\npolicy.\n\n392\n00:19:28.470 --> 00:19:31.125\nIt would be, fairly involved five,\nsix lines of stuff-\n\n393\n00:19:31.125 --> 00:19:32.917\n&gt;&gt; Like a couple typos for me at least?\n\n394\n00:19:32.917 --> 00:19:33.807\n&gt;&gt; Yeah, you could do it.\n\n395\n00:19:33.807 --> 00:19:37.068\n&gt;&gt; [LAUGH]\n&gt;&gt; So New-ADFineGrainedPasswordPolicy,\n\n396\n00:19:37.068 --> 00:19:38.690\nwhat's the name of the policy?\n\n397\n00:19:38.690 --> 00:19:41.850\nI called mine ITPRO, PWD,\ncall it anything you want.\n\n398\n00:19:41.850 --> 00:19:44.976\nComplexityEnabled:$true-LockoutDuration.\n\n399\n00:19:44.976 --> 00:19:46.018\nWhat's the lock out gonna be?\n\n400\n00:19:46.018 --> 00:19:48.030\nThis is set for 45 minutes.\n\n401\n00:19:48.030 --> 00:19:49.856\nLock out observation window the same.\n\n402\n00:19:49.856 --> 00:19:52.785\nHow long do we look for it,\nlook out threshold, right?\n\n403\n00:19:52.785 --> 00:19:56.610\nMax password age, 30 days,\nmin password age 5 days,\n\n404\n00:19:56.610 --> 00:19:59.652\nmin password length 8, password history.\n\n405\n00:19:59.652 --> 00:20:01.240\nYou get the idea we've been\ngoing through all this.\n\n406\n00:20:01.240 --> 00:20:05.241\nYou could see all the settings that\nwe would normally have in the default\n\n407\n00:20:05.241 --> 00:20:09.120\ndomain policy for the password,\nand the password policy are there.\n\n408\n00:20:09.120 --> 00:20:13.895\nWe have to know every parameter, what it's\ncalled, and then provide every value.\n\n409\n00:20:13.895 --> 00:20:17.550\nAnd we know that or rather would have\nto know that we'd provide those values,\n\n410\n00:20:17.550 --> 00:20:21.321\nalmost all of them anyway, are provided\ninside quotes because they are strings\n\n411\n00:20:21.321 --> 00:20:22.853\nthat have to be read correctly.\n\n412\n00:20:22.853 --> 00:20:24.460\nAnd so we have to provide them that way.\n\n413\n00:20:24.460 --> 00:20:26.523\nSo there's a lot more to this, right?\n\n414\n00:20:26.523 --> 00:20:27.850\nIf you do this from PowerShell.\n\n415\n00:20:27.850 --> 00:20:30.184\nBut this can be done very simply.\n\n416\n00:20:30.184 --> 00:20:33.248\nAnd then the next part of this if\nwe scroll down you could see here,\n\n417\n00:20:33.248 --> 00:20:35.444\nAdd-FineGrainedPasswordPolicySubject.\n\n418\n00:20:35.444 --> 00:20:37.004\nThis allows you to link to the user or\n\n419\n00:20:37.004 --> 00:20:39.449\nthe group that's gonna actually\nbe the target of this.\n\n420\n00:20:39.449 --> 00:20:41.458\n&gt;&gt; Okay.\n&gt;&gt; So that it's a separate cmdlet\n\n421\n00:20:41.458 --> 00:20:42.157\nfor that.\n\n422\n00:20:42.157 --> 00:20:42.919\n&gt;&gt; Attach it to something.\n\n423\n00:20:42.919 --> 00:20:45.200\n&gt;&gt; So that it's a separate cmdlet for\nthat.\n\n424\n00:20:45.200 --> 00:20:46.350\nSo we would use that one.\n\n425\n00:20:46.350 --> 00:20:48.552\nAgain go look it up in the [INAUDIBLE].\n\n426\n00:20:48.552 --> 00:20:52.120\nAnd you could see here\nAdd ADF [INAUDIBLE] subject.\n\n427\n00:20:52.120 --> 00:20:53.540\nSpecify the name of the policy.\n\n428\n00:20:53.540 --> 00:20:58.170\nAnd then the subjects that\nwe are going to Applied to,\n\n429\n00:20:58.170 --> 00:21:01.810\nI made this applied to the hosts group,\nwhatever that would be.\n\n430\n00:21:01.810 --> 00:21:04.850\nIf I had a group called hosts right and\nI would specify that, and\n\n431\n00:21:04.850 --> 00:21:06.220\nthen that's how that one would go.\n\n432\n00:21:06.220 --> 00:21:10.410\nThat's actually the easier of the two\nright, applying it to the hosts group\n\n433\n00:21:10.410 --> 00:21:12.680\nis a lot easier than creating\nthe policy in the first place,\n\n434\n00:21:12.680 --> 00:21:14.550\none line versus six or seven.\n\n435\n00:21:14.550 --> 00:21:16.810\nSo I can do that in PowerShell right, but\n\n436\n00:21:16.810 --> 00:21:22.190\nwhat if I wanted to do this inside of Or\nin a GUI, I could do that as well.\n\n437\n00:21:23.200 --> 00:21:25.220\nI can go to ADAC so\nI'm just gonna minimize that.\n\n438\n00:21:25.220 --> 00:21:28.690\nLet me bring up ADAC right here.\n\n439\n00:21:28.690 --> 00:21:32.310\nSo in case you haven't seen ADAC before,\nactive directory administrative center.\n\n440\n00:21:32.310 --> 00:21:35.950\nAgain go to the server manager on\nthe domain controller, go to tools,\n\n441\n00:21:35.950 --> 00:21:36.810\nvery top of the list,\n\n442\n00:21:36.810 --> 00:21:40.500\nvery first tool up there active\ndirectory administrative center, ADAC.\n\n443\n00:21:40.500 --> 00:21:42.520\nOpened it up, it's what I've done.\n\n444\n00:21:42.520 --> 00:21:45.400\nOver here I've gone to\nthe practice lab's local domain.\n\n445\n00:21:45.400 --> 00:21:48.960\nIn other words this is the tool's focus\non the domain that I'm administering from\n\n446\n00:21:48.960 --> 00:21:52.550\nthe domain controller that I'm\nadministering on in your environment.\n\n447\n00:21:52.550 --> 00:21:55.680\nIf you're using a domain different\nthan the practice lab's domain and\n\n448\n00:21:55.680 --> 00:21:59.960\nthe hosted practice lab's from\nour environment that we provide.\n\n449\n00:21:59.960 --> 00:22:02.350\nYou may say something different,\nconnect to that domain.\n\n450\n00:22:02.350 --> 00:22:08.280\nThat's all, once you've done that,\nI've gone in and have come in here and\n\n451\n00:22:08.280 --> 00:22:11.460\nyou can look at the breadcrumb trail or\nthe path right up here.\n\n452\n00:22:11.460 --> 00:22:15.375\nI've gone to the systems container, just\nlike I did in the Active Directory Users\n\n453\n00:22:15.375 --> 00:22:18.860\nand Computers, and\nI've gone to password settings container.\n\n454\n00:22:18.860 --> 00:22:21.710\nYou saw me show you that,\nthat when I showed you it was empty.\n\n455\n00:22:21.710 --> 00:22:25.910\nIn the password setting container\nI have to create the password.\n\n456\n00:22:25.910 --> 00:22:31.020\nI can then come up here and\nI can go to New, right over here.\n\n457\n00:22:31.020 --> 00:22:33.260\nUnder New,\nyou'll see that I have this option for\n\n458\n00:22:33.260 --> 00:22:36.100\npassword settings right there, right?\n\n459\n00:22:36.100 --> 00:22:39.200\nThat's gonna let me edit and contain,\nor rather, edit and create this.\n\n460\n00:22:39.200 --> 00:22:42.590\nNow let's just go to the Active Directory\nUsers and Computers for just a minute.\n\n461\n00:22:42.590 --> 00:22:46.580\nLet's go to the systems container,\nlet's just open this up.\n\n462\n00:22:46.580 --> 00:22:48.560\nLet's go find the passwords\nsettings container,\n\n463\n00:22:48.560 --> 00:22:51.350\nsame container we're just\nlooking at right now in AGAP.\n\n464\n00:22:51.350 --> 00:22:56.650\nYou can see, right click, and\nnotice that even under all Tasks,\n\n465\n00:22:56.650 --> 00:22:58.810\nI don't have the option to\ncreate password settings.\n\n466\n00:22:58.810 --> 00:23:01.660\nI can see the object in\nactive directory users and\n\n467\n00:23:01.660 --> 00:23:04.690\ncomputers, I can see the output\nof what goes in there.\n\n468\n00:23:04.690 --> 00:23:06.870\nBut I have no ability to\nwork with it from here,\n\n469\n00:23:06.870 --> 00:23:12.080\nwhen I said you could do it from place,\nPowerShell or ADAP, that's it, right?\n\n470\n00:23:12.080 --> 00:23:14.050\nYou can't administer it from here.\n\n471\n00:23:14.050 --> 00:23:16.320\nWhich you can see it\nfrom here after the fact.\n\n472\n00:23:16.320 --> 00:23:19.140\nSo, I just want you to make\nsure you're aware of that.\n\n473\n00:23:19.140 --> 00:23:20.090\nSo, we can come in here.\n\n474\n00:23:20.090 --> 00:23:21.340\nLet's go up here, go to New.\n\n475\n00:23:23.240 --> 00:23:25.020\nAnd let's go to Password settings.\n\n476\n00:23:26.340 --> 00:23:27.380\nGive this just a moment.\n\n477\n00:23:28.580 --> 00:23:30.670\nAnd when we do that, there we go.\n\n478\n00:23:30.670 --> 00:23:32.020\nWe get our Create Password Settings.\n\n479\n00:23:32.020 --> 00:23:33.420\nJust takes a second to come up.\n\n480\n00:23:33.420 --> 00:23:35.080\nWe got our create\npassword settings dialog.\n\n481\n00:23:35.080 --> 00:23:36.200\nCan we go full screen?\n\n482\n00:23:36.200 --> 00:23:37.960\nI'm gonna make this full screen just so\nwe can see it.\n\n483\n00:23:37.960 --> 00:23:38.620\nAll right, thank you.\n\n484\n00:23:38.620 --> 00:23:41.587\nAnd so when we do this,\ngive that a second, expand out,\n\n485\n00:23:41.587 --> 00:23:43.050\na little bit easier to see.\n\n486\n00:23:43.050 --> 00:23:46.418\nYou'll see that we have the names,\nwe have to give this a name, right?\n\n487\n00:23:46.418 --> 00:23:49.160\nSo let's call this ITPROPWD.\n\n488\n00:23:50.910 --> 00:23:53.783\nThat's what we called it in\nour potential demo scripts, so\n\n489\n00:23:53.783 --> 00:23:55.744\nwe'll just call it the same thing here.\n\n490\n00:23:55.744 --> 00:23:57.739\nAnd then we have precedence.\n\n491\n00:23:57.739 --> 00:23:58.812\nPassword settings for\n\n492\n00:23:58.812 --> 00:24:02.605\nlower precedence number will overwrite\nones with a higher precedence number.\n\n493\n00:24:02.605 --> 00:24:06.905\nWe may stack up multiple policies, so\nwe have to provide a precedence then.\n\n494\n00:24:06.905 --> 00:24:09.200\nSo let's put five in there,\nright, whatever it may be.\n\n495\n00:24:09.200 --> 00:24:12.970\nI think I had eight or something for\nwhen I did in the PowerShell script,\n\n496\n00:24:12.970 --> 00:24:14.350\nI forget what the number was I provided.\n\n497\n00:24:14.350 --> 00:24:17.610\nBut that's some sort of a number in there,\nI forget what it was, but\n\n498\n00:24:17.610 --> 00:24:19.380\nyou provide a precedence.\n\n499\n00:24:19.380 --> 00:24:22.075\nAnd so\nthat enforced minimum password length.\n\n500\n00:24:22.075 --> 00:24:25.110\nMinimum password length in characters,\nyou can see here seven,\n\n501\n00:24:25.110 --> 00:24:28.920\nyou can see forced password history,\nnumber of passwords remembered.\n\n502\n00:24:28.920 --> 00:24:32.620\nSee a number here, store passwords\nusing reversible encryption,\n\n503\n00:24:32.620 --> 00:24:34.650\npasswords must be complex and\nrequirements.\n\n504\n00:24:34.650 --> 00:24:38.106\nNotice that for some that are just\ncheck boxes without a value\n\n505\n00:24:38.106 --> 00:24:42.670\nbeing specified separately, they're\nnot asterisked out as being required.\n\n506\n00:24:42.670 --> 00:24:44.890\nI can just, in other words,\nmake them optional or not.\n\n507\n00:24:44.890 --> 00:24:48.730\nComplexity in other words is not a\nrequirement but I may choose to enable it,\n\n508\n00:24:48.730 --> 00:24:51.710\nbut if I enable enforcement\namong password length\n\n509\n00:24:51.710 --> 00:24:55.850\nI have to specify value because I have\nto provide what that value will be.\n\n510\n00:24:55.850 --> 00:24:59.210\nThis is the same logic that we see in\nthe group policy editor by the way.\n\n511\n00:24:59.210 --> 00:25:01.400\nIt's just a matter of how\nwe're choosing to see this.\n\n512\n00:25:01.400 --> 00:25:02.630\nPassword age options.\n\n513\n00:25:02.630 --> 00:25:04.070\nYou see them over here.\n\n514\n00:25:04.070 --> 00:25:05.980\nEnforce account lockout policy.\n\n515\n00:25:05.980 --> 00:25:09.320\nNotice it's not enabled even though\nthere are some asterisks there.\n\n516\n00:25:09.320 --> 00:25:12.740\nThey're grayed out because I haven't\nchosen to turn on that area of the policy.\n\n517\n00:25:12.740 --> 00:25:17.620\nIf I enable it,\nI'll then have to provide, Right here,\n\n518\n00:25:17.620 --> 00:25:21.190\nI'll have to provide, number of\nfailed logon attempts allowed, right?\n\n519\n00:25:21.190 --> 00:25:22.300\n&gt;&gt; Five.\n&gt;&gt; Three.\n\n520\n00:25:22.300 --> 00:25:22.860\n&gt;&gt; Okay.\n&gt;&gt; No.\n\n521\n00:25:22.860 --> 00:25:23.366\n&gt;&gt; Yeah.\n\n522\n00:25:23.366 --> 00:25:23.920\n&gt;&gt; [LAUGH]\n\n523\n00:25:23.920 --> 00:25:24.723\n&gt;&gt; I'm draconian.\n\n524\n00:25:24.723 --> 00:25:25.280\n&gt;&gt; [LAUGH]\n\n525\n00:25:25.280 --> 00:25:26.380\n&gt;&gt; You can't get it right in three,\n\n526\n00:25:26.380 --> 00:25:28.550\nyou don't belong logging in to my domain.\n\n527\n00:25:28.550 --> 00:25:29.870\nJust go play in somebody else's and\n\n528\n00:25:29.870 --> 00:25:32.490\nlet them have the pleasure of\nadministering you as a user.\n\n529\n00:25:32.490 --> 00:25:35.695\nAlright so, account will be locked out for\na duration of minutes,\n\n530\n00:25:35.695 --> 00:25:37.020\nyou'll see there, 30.\n\n531\n00:25:37.020 --> 00:25:39.098\n&gt;&gt; I'm not gonna say anything here.\n\n532\n00:25:39.098 --> 00:25:41.310\n&gt;&gt; [LAUGH]\n&gt;&gt; 9,999.\n\n533\n00:25:41.310 --> 00:25:43.350\n&gt;&gt; Man, Adam doesn't play around.\n\n534\n00:25:43.350 --> 00:25:46.030\n&gt;&gt; In other words, I don't want you back.\n\n535\n00:25:46.030 --> 00:25:50.320\nIf you can't figure it out within three,\nyou should go play somewhere else, right?\n\n536\n00:25:50.320 --> 00:25:53.240\nSo our administrator manually\nunlocks the account.\n\n537\n00:25:53.240 --> 00:25:54.530\nI could specify either one.\n\n538\n00:25:54.530 --> 00:25:55.871\nEssentially it's the same if I do that.\n\n539\n00:25:55.871 --> 00:26:00.020\n9999 is basically you're locked\nout until I reset you either way.\n\n540\n00:26:00.020 --> 00:26:01.750\nAll right, so we have that.\n\n541\n00:26:01.750 --> 00:26:04.250\nProtect from accidental deletion,\nremember we talked about that, and\n\n542\n00:26:04.250 --> 00:26:08.360\nthe importance of protecting certain\nthings that are critical to our operation\n\n543\n00:26:08.360 --> 00:26:12.480\nfrom being accidentally deleted,\nlike OUs which are protected by default.\n\n544\n00:26:12.480 --> 00:26:14.300\nSo we've talked about that and\nhow that would play out.\n\n545\n00:26:14.300 --> 00:26:17.800\nSo you could see that, and\nthen down here directly applies to.\n\n546\n00:26:17.800 --> 00:26:21.420\nThis is the second part of that power\nshell commandlet that we talked about.\n\n547\n00:26:21.420 --> 00:26:24.220\nWe did the first one, which was,\nhey create the policy.\n\n548\n00:26:24.220 --> 00:26:27.862\nThe second one was, hey apply it to\nthis particular user or group, and\n\n549\n00:26:27.862 --> 00:26:29.680\nwe do both right from in here.\n\n550\n00:26:29.680 --> 00:26:31.130\nJust go back to full screen for me,\n\n551\n00:26:31.130 --> 00:26:34.110\ncause you can't see the add button\nthat's sitting right behind me there.\n\n552\n00:26:34.110 --> 00:26:34.930\nBut off to the right.\n\n553\n00:26:34.930 --> 00:26:37.010\nLet me just scroll down so you can see.\n\n554\n00:26:37.010 --> 00:26:39.210\nI can go in and specify add.\n\n555\n00:26:39.210 --> 00:26:42.480\nSo let's go in and specify add,\nget my little pick list here.\n\n556\n00:26:42.480 --> 00:26:43.830\nLet's move this over.\n\n557\n00:26:43.830 --> 00:26:45.440\nWe go in and we grab our group.\n\n558\n00:26:46.560 --> 00:26:51.220\nLet's do DHCP users if that's\nwhat we decide to do, or\n\n559\n00:26:51.220 --> 00:26:54.066\nlet's choose a group that\nis gonna be appropriate.\n\n560\n00:26:54.066 --> 00:26:56.720\nThat one's probably not of the right type.\n\n561\n00:26:56.720 --> 00:26:58.620\nSo let me go in and do.\n\n562\n00:26:58.620 --> 00:27:01.720\nLet's see if we can do guests.\n\n563\n00:27:01.720 --> 00:27:03.480\nNope, okay hold on one second.\n\n564\n00:27:03.480 --> 00:27:05.590\nI keep forgetting to look\nthis up ahead of time.\n\n565\n00:27:05.590 --> 00:27:08.250\nIt's best if I [INAUDIBLE]\n&gt;&gt; What type of group they are?\n\n566\n00:27:08.250 --> 00:27:08.920\n&gt;&gt; What type of group?\n\n567\n00:27:08.920 --> 00:27:10.270\nYes, let me just, one second.\n\n568\n00:27:10.270 --> 00:27:10.840\nI just have to go in and\n\n569\n00:27:10.840 --> 00:27:13.300\nlook real quick because I forget\nwhat group would be available for\n\n570\n00:27:13.300 --> 00:27:14.600\nme to actually put something on.\n\n571\n00:27:14.600 --> 00:27:16.350\nSo let me just take a look here.\n\n572\n00:27:19.438 --> 00:27:21.339\nLet me see.\n\n573\n00:27:24.077 --> 00:27:26.722\nAnd-\n&gt;&gt; Domain users?\n\n574\n00:27:26.722 --> 00:27:28.310\n&gt;&gt; What was I trying?\n\n575\n00:27:28.310 --> 00:27:32.068\nNo, that yes, just that was a local and I\nneed a global and yes, like domain guest,\n\n576\n00:27:32.068 --> 00:27:33.223\nwe'll do domain guest.\n\n577\n00:27:33.223 --> 00:27:39.047\nLet me just go grab that one.\n\n578\n00:27:39.047 --> 00:27:44.808\nSo let's try domain guests.\n\n579\n00:27:44.808 --> 00:27:46.090\nAll right, there we go.\n\n580\n00:27:46.090 --> 00:27:49.630\nI just keep forgetting the http users in\nour environment is local and not global.\n\n581\n00:27:49.630 --> 00:27:53.810\nAll right, so domain guests, you could\nsee I've got that all set up there.\n\n582\n00:27:53.810 --> 00:27:57.280\nAnd then if I'm done,\nright go ahead, click OK.\n\n583\n00:27:57.280 --> 00:27:58.580\nJust a second.\n\n584\n00:27:58.580 --> 00:28:01.730\nSo now that's been created, and so now\n\n585\n00:28:04.480 --> 00:28:08.510\nI can come in here and I'm just going\nto give it a second right here.\n\n586\n00:28:08.510 --> 00:28:12.990\nSee a reference to the password policy\nthat I have created, you can see it there,\n\n587\n00:28:12.990 --> 00:28:14.680\nyou just have to refresh sometimes.\n\n588\n00:28:14.680 --> 00:28:18.210\nRemember if the interface is open a lot of\ntimes we don't always refresh it doesn't\n\n589\n00:28:18.210 --> 00:28:19.270\nshow up right away.\n\n590\n00:28:19.270 --> 00:28:21.590\nDon't be thrown off by that,\ndon't go, my god, something's wrong,\n\n591\n00:28:21.590 --> 00:28:22.870\nI don't see it, just refresh.\n\n592\n00:28:22.870 --> 00:28:25.940\nChances are good it's there,\nyou just may not see it there, right?\n\n593\n00:28:25.940 --> 00:28:30.500\nSo we can see it there, remember I talked\nabout the fact that we will see this and\n\n594\n00:28:30.500 --> 00:28:32.430\nbe able to understand that it's there.\n\n595\n00:28:32.430 --> 00:28:36.250\nWe just can't interact with it, all we're\nseeing is just the properties of it.\n\n596\n00:28:36.250 --> 00:28:38.770\nWe could in theory modify the permissions,\nwe don't wanna go in and\n\n597\n00:28:38.770 --> 00:28:40.440\nmess around with that, but we could.\n\n598\n00:28:40.440 --> 00:28:43.710\nBut we can't really edit the policy in\nany way to do that we have to go back to\n\n599\n00:28:43.710 --> 00:28:44.250\nADAP, right?\n\n600\n00:28:44.250 --> 00:28:46.710\nWe can only really go in and\nsee the output of it here.\n\n601\n00:28:46.710 --> 00:28:49.670\nSo we're able to go in and\nassign and apply this.\n\n602\n00:28:49.670 --> 00:28:52.190\nAnd right be able to create, so\nyou can see now that we've done that.\n\n603\n00:28:52.190 --> 00:28:55.910\nWe have the password policy,\nthe fine-grained password policy.\n\n604\n00:28:55.910 --> 00:28:59.720\nWe also have the PSO,\nthe password object or the.\n\n605\n00:28:59.720 --> 00:29:03.480\nThe passwords settings object that is\ncreated to allow the policy to work.\n\n606\n00:29:03.480 --> 00:29:06.020\nBut remember, I noticed,\nI didn't apply it an OU.\n\n607\n00:29:06.020 --> 00:29:08.710\nI applied it actually at a group level.\n\n608\n00:29:08.710 --> 00:29:09.700\nIn this case, I chose a group.\n\n609\n00:29:09.700 --> 00:29:11.930\nCould have chosen a user,\nbut I chose a group.\n\n610\n00:29:11.930 --> 00:29:16.480\nAnd so we're actually applying it directly\nto a group, domain guests, right, and\n\n611\n00:29:16.480 --> 00:29:17.450\nthat would then apply to them.\n\n612\n00:29:17.450 --> 00:29:20.320\nIn the real world,\nwe probably wouldn't do that there, right?\n\n613\n00:29:20.320 --> 00:29:25.340\nBut we would do it to a different group,\nmaybe a group like VPN users, right?\n\n614\n00:29:25.340 --> 00:29:28.115\nA remote group like we used\nin our prior demonstration,\n\n615\n00:29:28.115 --> 00:29:29.785\nwhere we talked about how to go in and\n\n616\n00:29:29.785 --> 00:29:32.875\ncreate password replication policies for\nthe read-only domain controller.\n\n617\n00:29:32.875 --> 00:29:35.625\nWe had that group we use that\nI created just to show you.\n\n618\n00:29:35.625 --> 00:29:39.465\nWe had a group like that that was\na global group that we wanted to apply\n\n619\n00:29:39.465 --> 00:29:43.480\nrestrictions for password management to,\nthat would be the way to do it,\n\n620\n00:29:43.480 --> 00:29:47.030\nmaybe those room of users have\nspecial requirements for passwords.\n\n621\n00:29:47.030 --> 00:29:50.550\nAnd we're gonna set them up separately\nfrom the default domain policy and\n\n622\n00:29:50.550 --> 00:29:51.207\nthe requirements.\n\n623\n00:29:51.207 --> 00:29:54.990\nSo, that could be one way to do that,\nso this'll be the way that we can.\n\n624\n00:29:54.990 --> 00:29:59.750\nWe talked about PSO precedence, the idea\nof that number order and the lower\n\n625\n00:29:59.750 --> 00:30:03.990\nthe value the fact that that will take\nprecedence over one with the higher value.\n\n626\n00:30:03.990 --> 00:30:06.900\nSo just keep that in mind that\nway if we stack up policies.\n\n627\n00:30:06.900 --> 00:30:10.170\nWe opt which window one will supply\ncause the one with the lowest value is\n\n628\n00:30:10.170 --> 00:30:11.390\nthe one that also wins.\n\n629\n00:30:11.390 --> 00:30:15.070\nSo just be aware of that in some case you\nknow it's a higher value that wins,in\n\n630\n00:30:15.070 --> 00:30:16.660\nthis case it's the lower value.\n\n631\n00:30:16.660 --> 00:30:21.800\nSo meaning the lower numerical value which\nsome specifies just be aware of that.\n\n632\n00:30:21.800 --> 00:30:27.810\nAnd in addition we do wanna make sure\nthat we know that we have this attribute,\n\n633\n00:30:27.810 --> 00:30:29.510\na new attribute as well.\n\n634\n00:30:29.510 --> 00:30:32.100\nMSDS resultant PSO.\n\n635\n00:30:32.100 --> 00:30:37.340\nThe MSDS resultant PSO attribute is\nthe attribute that determines The fact\n\n636\n00:30:37.340 --> 00:30:41.570\nthat we have this policy applied to us\nas a user, and what the settings are.\n\n637\n00:30:41.570 --> 00:30:43.380\nSo we look at that and can derive that.\n\n638\n00:30:43.380 --> 00:30:46.660\nSo just another way of understanding\nhow this is happening.\n\n639\n00:30:46.660 --> 00:30:50.860\n&gt;&gt; If we ever want to double check and\nsee what the ultimate outcome is?\n\n640\n00:30:50.860 --> 00:30:51.490\n&gt;&gt; Well, so yeah.\n\n641\n00:30:51.490 --> 00:30:52.960\nSo for instance, let's just go in here.\n\n642\n00:30:52.960 --> 00:30:54.670\nWe did this, what?\nFor domain guests, right?\n\n643\n00:30:54.670 --> 00:30:55.290\n&gt;&gt; Okay.\n&gt;&gt; So\n\n644\n00:30:55.290 --> 00:30:57.290\ngive me just a second\nbefore we flip back over,\n\n645\n00:30:57.290 --> 00:30:58.990\ncuz I have to get back to where we were.\n\n646\n00:30:58.990 --> 00:31:01.278\nSo give me just a second, and get in.\n\n647\n00:31:01.278 --> 00:31:02.893\nThere.\n\n648\n00:31:02.893 --> 00:31:05.320\nWhere is this?\n\n649\n00:31:05.320 --> 00:31:06.460\nLet me go in.\nThere we are.\n\n650\n00:31:06.460 --> 00:31:08.210\nOkay so, we go in here.\n\n651\n00:31:08.210 --> 00:31:12.740\nJust give me one second, to bring this up,\njust to make sure that we can see it.\n\n652\n00:31:12.740 --> 00:31:14.257\nThere we are.\nCome on, click, click, click.\n\n653\n00:31:14.257 --> 00:31:15.146\nAll right, there.\n\n654\n00:31:15.146 --> 00:31:21.940\nSo, MSDS LMN, MSDS,\nlet's just move this over.\n\n655\n00:31:21.940 --> 00:31:24.670\nAll right, so we have a whole\nbunch of MSDS attributes here.\n\n656\n00:31:24.670 --> 00:31:28.520\nI'm in the attribute editor for\nthe domain guest group.\n\n657\n00:31:28.520 --> 00:31:30.500\nSo I right click one to Properties.\n\n658\n00:31:30.500 --> 00:31:33.670\nJust brought up the properties tab,\nor the properties sheet, rather.\n\n659\n00:31:33.670 --> 00:31:35.250\nWent to attribute editor.\n\n660\n00:31:35.250 --> 00:31:36.330\nJust so you know where we are.\n\n661\n00:31:36.330 --> 00:31:39.230\nWe talked about the attribute and\nsaid hay, we can go check, right?\n\n662\n00:31:39.230 --> 00:31:40.000\nAnd see.\nAbsolutely.\n\n663\n00:31:40.000 --> 00:31:41.870\nSo we just go ahead and\npull up the attribute.\n\n664\n00:31:41.870 --> 00:31:42.680\nSo MSDS.\n\n665\n00:31:42.680 --> 00:31:44.460\nJust down.\n\n666\n00:31:44.460 --> 00:31:48.520\nIt's alphabetical, so\nwe just have to go down.\n\n667\n00:31:48.520 --> 00:31:50.495\nWhere are we, here?\n\n668\n00:31:54.584 --> 00:31:59.940\nWe would actually need, let me see.\n\n669\n00:31:59.940 --> 00:32:02.200\nI haven't actually put it\non a rather updated yet.\n\n670\n00:32:02.200 --> 00:32:04.710\nCome to think of it,\nit hasn't been logged on.\n\n671\n00:32:04.710 --> 00:32:06.030\nIt hasn't actually showed up.\n\n672\n00:32:06.030 --> 00:32:07.850\n&gt;&gt; Okay.\n&gt;&gt; The policy has probably not been\n\n673\n00:32:07.850 --> 00:32:08.790\napplied yet.\n\n674\n00:32:08.790 --> 00:32:11.900\nSo the attribute may not have\nactually populated and shown up.\n\n675\n00:32:11.900 --> 00:32:12.540\nBut it will,\n\n676\n00:32:12.540 --> 00:32:15.210\nit's just that it may not have actually\napplied yet because of refresh.\n\n677\n00:32:15.210 --> 00:32:17.100\nNow that I'm thinking about it,\nit's only been like five minutes,\n\n678\n00:32:17.100 --> 00:32:18.830\nso chances are good it's not there.\n\n679\n00:32:18.830 --> 00:32:21.340\nBut yes, we would be able to check\nover time once it gets applied.\n\n680\n00:32:21.340 --> 00:32:23.110\nThe attribute will get populated,\nit would show up.\n\n681\n00:32:23.110 --> 00:32:26.610\nWe'd actually be able to see the result\ninstead of that once it's applied and\n\n682\n00:32:26.610 --> 00:32:28.670\nthe user logs in and is bound by that,\n\n683\n00:32:28.670 --> 00:32:31.020\nwe would actually see\nthat populate into them.\n\n684\n00:32:31.020 --> 00:32:33.960\nSo yeah, we could use it to authenticate\nand actually validate that it's actually\n\n685\n00:32:33.960 --> 00:32:37.220\nbeing applied, but we'd have to wait for\nit to actually instantiate fully.\n\n686\n00:32:37.220 --> 00:32:38.820\nBut we would use that attribute tab.\n\n687\n00:32:38.820 --> 00:32:41.050\nWe see it on the editor,\non the attribute editor tab.\n\n688\n00:32:41.050 --> 00:32:41.830\nThat's where we would see it.\n\n689\n00:32:41.830 --> 00:32:43.990\nYes, so we could do that if we wanted.\n\n690\n00:32:43.990 --> 00:32:48.990\n&gt;&gt; Okay, so Adam, do you have any other\nthoughts, or are we wrapping p here?\n\n691\n00:32:48.990 --> 00:32:51.265\n&gt;&gt; I have lots of other thoughts.\n\n692\n00:32:51.265 --> 00:32:54.250\n&gt;&gt; []LAUGHS].\nI should have rephrased that, actually.\n\n693\n00:32:54.250 --> 00:32:57.160\n&gt;&gt; I could go on, but I think I'm\ngoing to spare you and let you.\n\n694\n00:32:57.160 --> 00:32:59.560\nWrap us up here and we'll come back for\nanother episode and\n\n695\n00:32:59.560 --> 00:33:00.910\ntalk more about other stuff.\n\n696\n00:33:00.910 --> 00:33:03.150\n&gt;&gt; All right, let's go ahead and\nwrap things up.\n\n697\n00:33:03.150 --> 00:33:05.200\nLadies and gentlemen thank you for\njoining us, but\n\n698\n00:33:05.200 --> 00:33:08.690\nstay tuned, we do have more information\ncoming to you in the next show.\n\n699\n00:33:08.690 --> 00:33:10.750\nBut for this one we'll go ahead and\nsign out.\n\n700\n00:33:10.750 --> 00:33:12.240\nI've been your host, Cherokee Bruce.\n\n701\n00:33:12.240 --> 00:33:13.260\n&gt;&gt; I'm Adam Gordon.\n\n702\n00:33:13.260 --> 00:33:16.839\n&gt;&gt; See you here next time on ITProTV.\n\n703\n00:33:16.839 --> 00:33:22.820\n[MUSIC]\n\n704\n00:33:22.820 --> 00:33:26.149\nThank you for watching ITProTV.\n\n",
          "vimeoId": "229704338"
        },
        {
          "description": "In this show, Cherokee and Adam discuss managed service accounts (MSAs). Adam demonstrates how to create MSAs via PowerShell. Adam also shows how  to create a KDS root key.",
          "length": "1875",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-3-securing_ad_ds_pt3-082917-PGM.00_31_51_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-3-securing_ad_ds_pt3-082917-PGM.00_31_51_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-1-3-securing_ad_ds_pt3-082917-PGM.00_31_51_09.Still001-sm.jpg",
          "title": "Securing AD DS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.290 --> 00:00:04.450\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:04.450 --> 00:00:07.372\n&gt;&gt; Coming to you live from\nSan Francisco [CROSSTALK].\n\n3\n00:00:07.372 --> 00:00:08.527\n[MUSIC]\n\n4\n00:00:08.527 --> 00:00:11.284\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.284 --> 00:00:15.164\n&gt;&gt; Welcome back to our Identity\nwith Windows Server 2016 series.\n\n6\n00:00:15.164 --> 00:00:17.830\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.830 --> 00:00:22.430\nIn this episode, we'll be taking a look\nat a part three for securing ADDS.\n\n8\n00:00:22.430 --> 00:00:25.070\nAnd back with us in studios we have Mr.\nAdam Gordon.\n\n9\n00:00:25.070 --> 00:00:26.490\nThank you for joining us, Adam.\n\n10\n00:00:26.490 --> 00:00:28.290\n&gt;&gt; Thank you, so securing ADDS.\n\n11\n00:00:28.290 --> 00:00:32.606\nWe've been talking a lot about the fact\nthat as we think about security,\n\n12\n00:00:32.606 --> 00:00:36.284\nwe have to be of broad in our\nthought process and our context but\n\n13\n00:00:36.284 --> 00:00:38.783\nalso narrowly focus scope and tailored.\n\n14\n00:00:38.783 --> 00:00:42.250\nSo you often hear me refer to it with\nregards to the application of security.\n\n15\n00:00:42.250 --> 00:00:45.100\nWe have to balance our\nability to understand how to\n\n16\n00:00:45.100 --> 00:00:46.940\nprovide access and manage it.\n\n17\n00:00:46.940 --> 00:00:50.240\nBut to limit access in some\nrespects in certain objects.\n\n18\n00:00:50.240 --> 00:00:54.530\nBroaden access, in other cases,\nout to many objects, and to all the time,\n\n19\n00:00:54.530 --> 00:00:58.100\nkeep track of audit and\nunderstand what is happening and\n\n20\n00:00:58.100 --> 00:01:01.530\nto refine our vision and\nour thought process around the security.\n\n21\n00:01:01.530 --> 00:01:05.230\nSo keeping those themes in mind, we're\ngonna continue our conversations here.\n\n22\n00:01:05.230 --> 00:01:08.520\nWe have talked in some prior\nepisodes both in this topic area and\n\n23\n00:01:08.520 --> 00:01:12.570\nin prior topics about things\nlike group policy for instance.\n\n24\n00:01:12.570 --> 00:01:16.510\nHow we can manage and use group policy\nto achieve certain end results.\n\n25\n00:01:16.510 --> 00:01:19.990\nReally being able to control the client or\nend-user experience.\n\n26\n00:01:19.990 --> 00:01:24.700\nWe've talked about the use of\nthe structures of the active directory,\n\n27\n00:01:24.700 --> 00:01:30.810\nthe domain, the tree, the forest, the site\nand replication to manage the flow,\n\n28\n00:01:30.810 --> 00:01:34.250\ncontrol, constrain and\nto secure the flow of information.\n\n29\n00:01:34.250 --> 00:01:38.302\nSo we have security undermines almost from\nvery beginning as we started to talk about\n\n30\n00:01:38.302 --> 00:01:38.883\nidentity.\n\n31\n00:01:38.883 --> 00:01:42.600\nAnd identity services within the ADDS.\n\n32\n00:01:42.600 --> 00:01:46.830\nWe're gonna take on an interesting aspect\nof that here in this conversation,\n\n33\n00:01:46.830 --> 00:01:48.980\nsomething called MSAs, or\nmanaged service accounts,\n\n34\n00:01:48.980 --> 00:01:52.750\na new feature in 2016 that we focus on and\ntalk about.\n\n35\n00:01:52.750 --> 00:01:57.610\nThe ability to extend the identity for\nproxying essentially on\n\n36\n00:01:57.610 --> 00:02:02.930\nbehalf of an individual user, or perhaps\na shared group of users or computers.\n\n37\n00:02:02.930 --> 00:02:05.730\nYou could think of it either way,\ngroups specifically or computers.\n\n38\n00:02:05.730 --> 00:02:09.743\nWhen I say groups of users, I mean\na group as opposed to an individual.\n\n39\n00:02:09.743 --> 00:02:14.005\nWe can use this account, this proxy\naccount, which is what we would often\n\n40\n00:02:14.005 --> 00:02:18.220\nthink of it as, to take on certain\nroles and certain responsibilities.\n\n41\n00:02:18.220 --> 00:02:21.335\nLike being able to go out and\nget a password and provide that so\n\n42\n00:02:21.335 --> 00:02:25.335\nwe could interact with a service and\ngive that information to the service.\n\n43\n00:02:25.335 --> 00:02:29.995\nWe actually can think of the idea\nof using the same password for\n\n44\n00:02:29.995 --> 00:02:34.650\nthe management of this account and letting\nWindows itself control the password and\n\n45\n00:02:34.650 --> 00:02:37.210\nchange it out on the same\ncycle as computer account.\n\n46\n00:02:37.210 --> 00:02:41.280\nEssentially push off responsibility for\nmanagement of the MSA\n\n47\n00:02:41.280 --> 00:02:45.230\nto the operating system, as supposed to us\nhaving to maintain those service accounts.\n\n48\n00:02:45.230 --> 00:02:48.490\nAnd if you think traditionally about\nwhat service accounts have been used for\n\n49\n00:02:48.490 --> 00:02:49.920\nhistorically.\n\n50\n00:02:49.920 --> 00:02:52.990\nWe would create a generic user\naccount more often than not.\n\n51\n00:02:52.990 --> 00:02:56.450\nPerhaps assign it certain rights or\nthrough the use of\n\n52\n00:02:56.450 --> 00:03:00.510\nthe configuration wizard, the vendor\nprovides to install configure software.\n\n53\n00:03:00.510 --> 00:03:03.890\nSay, use this account and\nassign it whatever rights you know,\n\n54\n00:03:03.890 --> 00:03:06.380\nyou need in order to run this software.\n\n55\n00:03:06.380 --> 00:03:10.380\nAnd then, your Windows or the applications\nstart to goes off does its thing,\n\n56\n00:03:10.380 --> 00:03:12.460\noften a combination of\nthose two things and\n\n57\n00:03:12.460 --> 00:03:16.858\nthat account is then given certain rights,\nperhaps not Philemon rights, or\n\n58\n00:03:16.858 --> 00:03:19.570\nrestricted set of rights but\nmore than the average user.\n\n59\n00:03:19.570 --> 00:03:22.880\nAnd it is then tagged quote and\nquote, as a service account, right.\n\n60\n00:03:22.880 --> 00:03:24.400\nThis is often what happens.\n\n61\n00:03:24.400 --> 00:03:25.790\nWe install SharePoint.\n\n62\n00:03:25.790 --> 00:03:27.380\nWe need a farm admin account.\n\n63\n00:03:27.380 --> 00:03:30.320\nWe need an account to be able to\ndo certain things in exchange.\n\n64\n00:03:30.320 --> 00:03:33.880\nWe need accounts to be able to manage and\ninteract with SQL databases and\n\n65\n00:03:33.880 --> 00:03:36.960\nwe will set these accounts up and\nassign them certain rights.\n\n66\n00:03:36.960 --> 00:03:38.560\nAnd we've historically\nlumped them together and\n\n67\n00:03:38.560 --> 00:03:40.700\njust described them generically\nas service accounts.\n\n68\n00:03:40.700 --> 00:03:41.980\nAnd that's what we call them.\n\n69\n00:03:41.980 --> 00:03:44.210\nBut they've always been\naccounts we've created,\n\n70\n00:03:44.210 --> 00:03:49.180\nas individuals, as administrators, and\nthen had something assign rights to.\n\n71\n00:03:49.180 --> 00:03:52.500\nAnd then we've had to worry about\nmanaging those accounts traditionally, or\n\n72\n00:03:52.500 --> 00:03:55.710\nperhaps the operating system or the\napplication takes over management of them.\n\n73\n00:03:55.710 --> 00:03:58.990\nBut there's always been that tickle in\nthe back of our throat, at the back of\n\n74\n00:03:58.990 --> 00:04:02.490\nour mind about, hey we created that\naccount do we bear responsible for it?\n\n75\n00:04:02.490 --> 00:04:04.770\nIt's not always clear who manages it,\n\n76\n00:04:04.770 --> 00:04:08.790\nwho resets the password,\nI do reset the password, what happens?\n\n77\n00:04:08.790 --> 00:04:10.840\nThis service can't stop working.\n\n78\n00:04:10.840 --> 00:04:13.910\nDo the services reliant on and\nstop behaving the right way.\n\n79\n00:04:13.910 --> 00:04:17.677\nThese are things that can cause us\nproblems cause us pause at a minimum and\n\n80\n00:04:17.677 --> 00:04:20.968\nas administrators,\nwe have not always been clear on, right?\n\n81\n00:04:20.968 --> 00:04:22.830\nAnd this is something that\nwe have to thing about.\n\n82\n00:04:22.830 --> 00:04:25.950\nSo join me here,\nlet's take a look at what the new and\n\n83\n00:04:25.950 --> 00:04:28.030\nimproved version of managing\nthis may look like.\n\n84\n00:04:28.030 --> 00:04:31.210\nSo what I've done is I've gone into\nactive directory users and computers,\n\n85\n00:04:31.210 --> 00:04:35.100\nyou'll hopefully recognize a tool\nby this point in our conversations.\n\n86\n00:04:35.100 --> 00:04:37.821\nIf you're jumping into this\nmaterial kinda right here,\n\n87\n00:04:37.821 --> 00:04:41.630\nperhaps haven't seen prior episodes in\nthe series that we're going through.\n\n88\n00:04:41.630 --> 00:04:43.581\nI encourage you to at\nleast just step back and\n\n89\n00:04:43.581 --> 00:04:47.115\njust be aware of the fact that there is a\nwhole bunch of material that comes before\n\n90\n00:04:47.115 --> 00:04:49.620\nthis I would have talked about\nthis tool in particular.\n\n91\n00:04:49.620 --> 00:04:51.130\nBut I'm gonna show you where we went to,\n\n92\n00:04:51.130 --> 00:04:55.110\nto load this tool just in case this is\nsomething that may be newer for you.\n\n93\n00:04:55.110 --> 00:04:57.820\nWe always go to the Server Manager\nto find tools like this.\n\n94\n00:04:57.820 --> 00:05:00.250\nWe go to the Tools menu,\nas you can see here.\n\n95\n00:05:00.250 --> 00:05:04.057\nAnd right near the top, we have several\ntools that are labeled in one form or\n\n96\n00:05:04.057 --> 00:05:06.240\nanother with the words Active Directory.\n\n97\n00:05:06.240 --> 00:05:09.695\nWe're focusing on right now the users and\ncomputers tool.\n\n98\n00:05:09.695 --> 00:05:12.445\nWe're gonna come back and\nlook at the Active Directory module for\n\n99\n00:05:12.445 --> 00:05:15.655\nWindows PowerShell in just a couple\nminutes to create these managed service\n\n100\n00:05:15.655 --> 00:05:17.435\naccounts once I show\nyou where they are and\n\n101\n00:05:17.435 --> 00:05:19.505\nhow to see them once\nthey have been created.\n\n102\n00:05:19.505 --> 00:05:21.015\nSo we use two tools out of this list.\n\n103\n00:05:21.015 --> 00:05:24.405\nBut we're gonna start with\nActive Directory users and computers.\n\n104\n00:05:24.405 --> 00:05:27.675\nSo we're gonna come in here,\nload that tool up.\n\n105\n00:05:27.675 --> 00:05:30.170\nLet's assume for\na minute I click there and it did open up.\n\n106\n00:05:30.170 --> 00:05:34.910\nNow when it opens up, what we're gonna\nfind is that the tool looks like this.\n\n107\n00:05:34.910 --> 00:05:39.156\nIt does not have what is called\nthe advanced features view enabled and so\n\n108\n00:05:39.156 --> 00:05:43.066\nwe're not gonna see this account\ntraditionally, or this view.\n\n109\n00:05:43.066 --> 00:05:45.375\nLet me just refresh this, one second.\n\n110\n00:05:45.375 --> 00:05:49.244\n[SOUND] There we go, all right now\nyou won't normally see the container,\n\n111\n00:05:49.244 --> 00:05:52.489\nyou will see it now because\nI've already created accounts.\n\n112\n00:05:52.489 --> 00:05:56.529\nSo it is there and it will be there but\nnormally you turn to the advanced features\n\n113\n00:05:56.529 --> 00:05:58.870\nview in order to actually\nbe able to see this.\n\n114\n00:05:58.870 --> 00:06:04.730\nSo if we open the tool just from scratch,\nwe'll just reopen the tool so you can see.\n\n115\n00:06:06.560 --> 00:06:08.320\nIt looks like this, right?\n\n116\n00:06:08.320 --> 00:06:10.580\nThis is not the advanced features view.\n\n117\n00:06:10.580 --> 00:06:11.600\nWhoops.\n\n118\n00:06:11.600 --> 00:06:12.280\nIt is not enabled.\n\n119\n00:06:12.280 --> 00:06:12.980\nThere we go.\n\n120\n00:06:12.980 --> 00:06:16.300\nBut once we populate\nthe amount of services amount\n\n121\n00:06:16.300 --> 00:06:18.640\ncontainer you see I have\nthree accounts already there.\n\n122\n00:06:18.640 --> 00:06:20.170\nIt will show up and\n\n123\n00:06:20.170 --> 00:06:23.110\nit will be there even though it's not\na part of the advanced features view.\n\n124\n00:06:23.110 --> 00:06:23.900\nAnd enabled right?\n\n125\n00:06:23.900 --> 00:06:26.010\n&gt;&gt; Which is nice because if\nyou're looking for something.\n\n126\n00:06:26.010 --> 00:06:28.260\nScratching your, like yeah,\nI forgot about that.\n\n127\n00:06:28.260 --> 00:06:28.870\n&gt;&gt; Advanced features.\n\n128\n00:06:28.870 --> 00:06:31.760\nRight.\nSo initially, when you turn this feature\n\n129\n00:06:31.760 --> 00:06:35.410\non, by using advanced features,\nit displays the empty folder.\n\n130\n00:06:35.410 --> 00:06:37.050\nThe empty folder's not\ndisplayed by default.\n\n131\n00:06:37.050 --> 00:06:39.140\nThat's what the advanced\nfeature view does, but\n\n132\n00:06:39.140 --> 00:06:42.340\nbecause I've already populated accounts,\nthey actually do or\n\n133\n00:06:42.340 --> 00:06:45.830\nthe folder does show up as part of the\nnormal view whether you enable it or not.\n\n134\n00:06:45.830 --> 00:06:47.720\nSo just you're not confused about that.\n\n135\n00:06:47.720 --> 00:06:50.220\nBut when you go in here initially,\nthis will be empty.\n\n136\n00:06:50.220 --> 00:06:51.565\nThere will be no accounts here.\n\n137\n00:06:51.565 --> 00:06:53.442\nYou'll have to create them.\n\n138\n00:06:53.442 --> 00:06:57.480\nNow, you can't, unlike a normal OU,\nwhere you right-click new object and\n\n139\n00:06:57.480 --> 00:07:00.790\ncreate a user account,\nwe can create objects in here, right?\n\n140\n00:07:00.790 --> 00:07:04.090\nSo I can go in New, and\nI have the access and\n\n141\n00:07:04.090 --> 00:07:06.320\nthe opportunity to create\nall sorts of objects.\n\n142\n00:07:06.320 --> 00:07:08.330\nBut the objects that\nare specifically there,\n\n143\n00:07:08.330 --> 00:07:12.040\nthat user account which\nhas a unique graphic.\n\n144\n00:07:12.040 --> 00:07:12.672\nI know it's hard to see.\n\n145\n00:07:12.672 --> 00:07:14.180\nCan we can go full screen just for\na second?\n\n146\n00:07:14.180 --> 00:07:15.690\nIt may be a little bit\neasier to see the graphic.\n\n147\n00:07:15.690 --> 00:07:16.948\n&gt;&gt; This little [CROSSTALK] in here.\n\n148\n00:07:16.948 --> 00:07:18.294\n&gt;&gt; It's got like a services icon, right.\n\n149\n00:07:18.294 --> 00:07:22.370\nIf you remember what traditionally the\nicon for services may be in Windows, and\n\n150\n00:07:22.370 --> 00:07:25.900\nthe services MMC it's the little gear\nright, the little cog like you said.\n\n151\n00:07:25.900 --> 00:07:28.420\nSo this is a special\nkind of account because\n\n152\n00:07:28.420 --> 00:07:30.540\nif you look at a standard user account.\n\n153\n00:07:30.540 --> 00:07:34.000\nIt's got the user icon groups have\nthe double headed icon right?\n\n154\n00:07:34.000 --> 00:07:36.806\nThese accounts although\nthey are user accounts,\n\n155\n00:07:36.806 --> 00:07:40.423\nthey are managed service accounts,\nand so they are different.\n\n156\n00:07:40.423 --> 00:07:44.420\nThey are not the traditional user\naccounts but rather a special sub set.\n\n157\n00:07:44.420 --> 00:07:46.120\nAnd when you look at Type here.\n\n158\n00:07:46.120 --> 00:07:47.931\nI've extended it so you could see it.\n\n159\n00:07:47.931 --> 00:07:50.200\nIt does say, MSDS, right?\n\n160\n00:07:50.200 --> 00:07:51.800\nMicrosoft directory service.\n\n161\n00:07:51.800 --> 00:07:53.021\nGroup manage service account.\n\n162\n00:07:53.021 --> 00:07:57.604\nI created a group manage service account,\nan account that has specifically-\n\n163\n00:07:57.604 --> 00:08:02.328\nDesignated for it, one or more groups or\nmachines or both that are given rights to\n\n164\n00:08:02.328 --> 00:08:07.119\nuse the account, as opposed to just a\ngeneric standard managed service account,\n\n165\n00:08:07.119 --> 00:08:12.070\nwhich is a just an individual managed\nservice account unique to one machine.\n\n166\n00:08:12.070 --> 00:08:14.920\nThe idea behind service accounts,\nas I mentioned, and let's stay full\n\n167\n00:08:14.920 --> 00:08:18.110\nscreen just while I am talking about this,\nso I can show you while I'm talking.\n\n168\n00:08:18.110 --> 00:08:22.260\nBut the idea behind managed service\naccounts are that we can go in, and\n\n169\n00:08:22.260 --> 00:08:24.200\nwe can decide on an individual server,\n\n170\n00:08:24.200 --> 00:08:27.040\non a domain controller to be\nable to create this account.\n\n171\n00:08:27.040 --> 00:08:30.120\nAnd to use it,\nto be able to as a service account does,\n\n172\n00:08:30.120 --> 00:08:34.700\nproxy on our behalf to provide the ability\nfor things like authentication and\n\n173\n00:08:34.700 --> 00:08:36.970\nsecurity contexts for running services.\n\n174\n00:08:36.970 --> 00:08:42.200\nMeaning to be able to use it to provide\nthe password and the access information.\n\n175\n00:08:42.200 --> 00:08:45.926\nAnd the usage of that service account\nwill be assigned to that service, and\n\n176\n00:08:45.926 --> 00:08:49.136\nthe service uses it to be able to\naccess and do what it needs to do.\n\n177\n00:08:49.136 --> 00:08:52.690\nWe get it away from using a normal\nstandard user account, in other words.\n\n178\n00:08:52.690 --> 00:08:55.790\nBut in order to create these,\nwe can't just right click and\n\n179\n00:08:55.790 --> 00:08:59.525\ndo this because there's no\nMSDS Group Manage Service Account option.\n\n180\n00:08:59.525 --> 00:09:05.380\nWhen I right click and choose New, you'll\nsee while we do have MSDS options here.\n\n181\n00:09:05.380 --> 00:09:08.360\nWe have KeyCredential, ResourceProperty,\n\n182\n00:09:08.360 --> 00:09:12.090\nShadowPrincipal, we don't have\na Manage Service Account.\n\n183\n00:09:12.090 --> 00:09:15.550\nSo that's not created in this interface\nwhen we see the output of it.\n\n184\n00:09:15.550 --> 00:09:19.085\nTo create those accounts,\nwe have to actually go to PowerShell.\n\n185\n00:09:19.085 --> 00:09:22.520\nBut not just PowerShell, we have to\ngo to the Active Directory module for\n\n186\n00:09:22.520 --> 00:09:23.412\nPowerShell.\n\n187\n00:09:23.412 --> 00:09:28.605\nSo a specific implementation of PowerShell\nthat has features, or in this case,\n\n188\n00:09:28.605 --> 00:09:31.900\ncommandlets assigned that are unique\nto the management of Active Directory.\n\n189\n00:09:31.900 --> 00:09:34.490\nSo we go back to our server manager.\n\n190\n00:09:34.490 --> 00:09:37.520\nWe go to the Active Directory Module for\nWindows Powershell.\n\n191\n00:09:37.520 --> 00:09:41.200\nI've loaded that already, so\nI don't have to bother to open it and\n\n192\n00:09:41.200 --> 00:09:43.580\njust reprogram the font and everything.\n\n193\n00:09:43.580 --> 00:09:45.860\nSo I have it open,\nas I often do, it's right here.\n\n194\n00:09:47.060 --> 00:09:50.890\nNotice I'm running it under the guise\nof the administrator credential, and\n\n195\n00:09:50.890 --> 00:09:53.930\nActive Directory Module for\nWindows PowerShell right there.\n\n196\n00:09:53.930 --> 00:09:56.720\nI've just gone, and the only thing I do\nto modify these, is you'll often hear me\n\n197\n00:09:56.720 --> 00:10:00.150\nsay and explain to you,\nis right click on the bar &gt; Properties.\n\n198\n00:10:00.150 --> 00:10:03.000\nI make the font a little bigger,\ntypically 18 point.\n\n199\n00:10:03.000 --> 00:10:05.470\nI make it Lucinda Console for the fonts.\n\n200\n00:10:05.470 --> 00:10:07.480\nYou could see it clearly when I'm typing.\n\n201\n00:10:07.480 --> 00:10:10.190\nOther than that, the console is\nrunning the way it would normally.\n\n202\n00:10:10.190 --> 00:10:12.110\nThat's the only difference\nbetween mine and yours.\n\n203\n00:10:12.110 --> 00:10:14.770\nIf you do this and\nfont's a little smaller, right,\n\n204\n00:10:14.770 --> 00:10:16.390\nit's just simply because\nyou haven't modified it.\n\n205\n00:10:16.390 --> 00:10:20.293\nBut other than that, the permissions,\nthe functionality etc., all the same.\n\n206\n00:10:20.293 --> 00:10:24.133\nNow having said that, the other thing I\ndid in this particular instance was I\n\n207\n00:10:24.133 --> 00:10:27.493\nupdated the help files because I\nwanted to show you the help file for\n\n208\n00:10:27.493 --> 00:10:28.480\nthis commandlet.\n\n209\n00:10:28.480 --> 00:10:30.020\nNew AD service account.\n\n210\n00:10:30.020 --> 00:10:34.980\nIn our demo environments, we don't have\nupdated installs that are constantly\n\n211\n00:10:34.980 --> 00:10:37.200\nconnected to the Internet or\nare always updating.\n\n212\n00:10:37.200 --> 00:10:40.090\nWe spin up an instance, use it for\na period of time and then shut it off.\n\n213\n00:10:40.090 --> 00:10:43.050\nSo a lot of times when we do this,\nbehind the scenes,\n\n214\n00:10:43.050 --> 00:10:46.840\nbefore I show you PowerShell, I'll\nusually run an update on the help files.\n\n215\n00:10:46.840 --> 00:10:49.620\nSo I did a get help command for\nnew AD service account.\n\n216\n00:10:49.620 --> 00:10:52.160\nFirst time it was run,\nthe system prompts me, it says hey,\n\n217\n00:10:52.160 --> 00:10:54.340\ndo you want to download and\nupdate the help files?\n\n218\n00:10:54.340 --> 00:10:56.740\nHit Yes, waited for that to happen.\n\n219\n00:10:56.740 --> 00:10:58.680\nSo now when I run the help file,\nin just a minute,\n\n220\n00:10:58.680 --> 00:11:01.110\nyou're gonna see the most\nrecent up to date help.\n\n221\n00:11:01.110 --> 00:11:05.080\nSo those two things, just full disclosure,\nso you know how to make my environment and\n\n222\n00:11:05.080 --> 00:11:07.320\nyour environment look identical and\nbehave identically,\n\n223\n00:11:07.320 --> 00:11:10.610\nif you're gonna follow along\ntry to do this demo with me.\n\n224\n00:11:10.610 --> 00:11:13.861\nJust so you know what I did, so you'll\nhave an understanding of how we stretch\n\n225\n00:11:13.861 --> 00:11:15.969\nand make these environments\nwork the way they do.\n\n226\n00:11:15.969 --> 00:11:19.023\nI've simply updated the help file,\nand I've simply changed the font size.\n\n227\n00:11:19.023 --> 00:11:20.631\nJust so you're familiar with that.\n\n228\n00:11:20.631 --> 00:11:22.960\nAll right, so having said that,\nPowerShell, right?\n\n229\n00:11:22.960 --> 00:11:24.080\nWe've talked about this before.\n\n230\n00:11:25.220 --> 00:11:29.080\nSeries of commandlets, in this case, the\ncommandlets here are gonna be specific to\n\n231\n00:11:29.080 --> 00:11:31.790\nthe management and\nconfiguration of Active Directory.\n\n232\n00:11:31.790 --> 00:11:35.220\nSo I have a commandlet called\nthe New-ADServiceAccount commandlet.\n\n233\n00:11:35.220 --> 00:11:37.440\nThis is how I make manage service account.\n\n234\n00:11:37.440 --> 00:11:40.750\nI've specified the name parameter,\nso cname, and\n\n235\n00:11:40.750 --> 00:11:44.450\nthen I've given it a name,\nAdam3c of the accounts that I have there.\n\n236\n00:11:44.450 --> 00:11:47.676\nI've created three of them already,\nAdam1, Adam2, Adam3.\n\n237\n00:11:47.676 --> 00:11:52.202\nI've obviously run this three times,\nright, using the same general command.\n\n238\n00:11:52.202 --> 00:11:54.070\nI'm not gonna rerun this\ncuz it'll give me an error.\n\n239\n00:11:54.070 --> 00:11:56.510\nI'm just using it as a starting point for\nour discussions.\n\n240\n00:11:56.510 --> 00:11:58.676\nIf I did this again,\nit will come back and say, hey, sorry,\n\n241\n00:11:58.676 --> 00:12:00.004\nwait a second you already have that.\n\n242\n00:12:00.004 --> 00:12:01.700\nAnd it will tell me I can't create it.\n\n243\n00:12:01.700 --> 00:12:05.310\nSo I'll modify that,\nmake that Adam4 in just a minute.\n\n244\n00:12:05.310 --> 00:12:06.506\nRemember the TV show Adam 12?\n\n245\n00:12:06.506 --> 00:12:07.027\n&gt;&gt; No.\n\n246\n00:12:07.027 --> 00:12:08.691\n&gt;&gt; You're probably too young\nto remember that, yeah.\n\n247\n00:12:08.691 --> 00:12:10.765\nThat's a TV show back in the 50s and\nthe 60s.\n\n248\n00:12:10.765 --> 00:12:13.457\nAll right, so DNS host name,\nanother parameter,\n\n249\n00:12:13.457 --> 00:12:16.838\nwhat is the machine that I'm\ntargeting to create this managed or\n\n250\n00:12:16.838 --> 00:12:19.980\nnew AD service account\nmanaged service account on.\n\n251\n00:12:19.980 --> 00:12:21.670\nIn this case, my domain controller.\n\n252\n00:12:21.670 --> 00:12:23.700\nI am local on that domain controller.\n\n253\n00:12:23.700 --> 00:12:27.310\nIf I leave out DNS host name,\nby the way, and don't specify,\n\n254\n00:12:27.310 --> 00:12:31.360\nthe prompt will show up and it'll say\nDNS host name before I am successful.\n\n255\n00:12:31.360 --> 00:12:32.740\nI'll have to provide the host names.\n\n256\n00:12:32.740 --> 00:12:36.830\nSo I can provide that ahead of time,\nload it into the string as I'm\n\n257\n00:12:36.830 --> 00:12:40.250\nexecuting PowerShell or\nthe command will simply prompt for it.\n\n258\n00:12:40.250 --> 00:12:41.990\nIt's up to me to decide how to do that.\n\n259\n00:12:41.990 --> 00:12:44.685\nAnd then I know it kind of trails off,\nit's hard to see, but\n\n260\n00:12:44.685 --> 00:12:49.510\nprincipals here, principles allowed\n\n261\n00:12:49.510 --> 00:12:54.133\nto retrieve managed password is the other\nparameter at the far end, kind of wraps.\n\n262\n00:12:54.133 --> 00:12:57.390\nAgain this is one of the things where if\nyou had to enter, it was a mile wide,\n\n263\n00:12:57.390 --> 00:12:59.940\nyou'd be able to put everything\nin as a single line, but\n\n264\n00:12:59.940 --> 00:13:02.090\nbecause it's in this\ninterface it does wrap.\n\n265\n00:13:02.090 --> 00:13:03.340\nJust explaining it to you.\n\n266\n00:13:03.340 --> 00:13:06.463\nThat's one of the additional\nparameters I can specify.\n\n267\n00:13:06.463 --> 00:13:10.215\nWhen I wanna create a managed service\naccount that is a group managed service\n\n268\n00:13:10.215 --> 00:13:14.710\naccount, I use this parameter, principles\nallowed to retrieve managed passwords.\n\n269\n00:13:14.710 --> 00:13:18.670\nYou'll see I've specified, in this case,\na group called corp users.\n\n270\n00:13:18.670 --> 00:13:21.100\nSo I've specified at least one group, or\n\n271\n00:13:21.100 --> 00:13:26.170\na host, remember I said you could do\ncomputer or group or selection of both.\n\n272\n00:13:26.170 --> 00:13:30.810\nI would put them in, comma separate them\nif I needed to specify more than one.\n\n273\n00:13:30.810 --> 00:13:33.340\nIf the name has a space, put it in quotes.\n\n274\n00:13:33.340 --> 00:13:36.210\nStandard things we think\nabout with PowerShell.\n\n275\n00:13:36.210 --> 00:13:38.350\nAnd then so I specify those and\n\n276\n00:13:38.350 --> 00:13:41.080\nthen enabled parameter,\nwhich means enable the account.\n\n277\n00:13:41.080 --> 00:13:42.135\nAllow it to be active.\n\n278\n00:13:42.135 --> 00:13:46.550\n$true, the variable that says,\nyes, enable this and make it true.\n\n279\n00:13:46.550 --> 00:13:48.790\nSo that's what the string here reads like,\nand\n\n280\n00:13:48.790 --> 00:13:51.940\nthat's what this PowerShell\ncommand will actually do.\n\n281\n00:13:51.940 --> 00:13:54.560\nNow, before we do anything else,\nbefore we look at the help file,\n\n282\n00:13:54.560 --> 00:13:56.950\nlet me go back here let\nme just switch that out.\n\n283\n00:13:58.510 --> 00:14:02.140\nSaid that I would take this and\nmake a fourth managed service account.\n\n284\n00:14:02.140 --> 00:14:07.412\nSo let's do that, instead of Adam3,\nlet's make that Adam4.\n\n285\n00:14:07.412 --> 00:14:10.814\nYou can see I've just\nchanged that right now, and\n\n286\n00:14:10.814 --> 00:14:16.622\nI've left corp users there, Right?\n\n287\n00:14:16.622 --> 00:14:17.982\nCan leave corp users there.\n\n288\n00:14:17.982 --> 00:14:23.268\nIf I wanna change that out, let's put in\n\n289\n00:14:23.268 --> 00:14:29.320\ndomain Guests.\n\n290\n00:14:29.320 --> 00:14:30.870\nThat has a space.\n\n291\n00:14:30.870 --> 00:14:34.130\nPut that in quotes, double quotes,\nso I can enclose the space and\n\n292\n00:14:34.130 --> 00:14:37.280\nuse it as a little string and\nuse the name, so we can do that.\n\n293\n00:14:38.340 --> 00:14:40.370\nHit Enter, and what did I do?\n\n294\n00:14:40.370 --> 00:14:44.119\nCannot find an object with,\ndid I spell that incorrectly?\n\n295\n00:14:44.119 --> 00:14:45.415\nDomain, yes, I did.\n\n296\n00:14:45.415 --> 00:14:48.190\nDomain, I guess, is spelled A-I, not I-A.\n\n297\n00:14:48.190 --> 00:14:48.720\nAlways good.\n\n298\n00:14:48.720 --> 00:14:51.690\nRemember, I've told you,\nI can never be trusted to type on my own.\n\n299\n00:14:51.690 --> 00:14:53.020\nI need a seeing eye human.\n\n300\n00:14:53.020 --> 00:14:54.600\nI wrote domian instead of domain.\n\n301\n00:14:54.600 --> 00:14:55.777\nThat's why I'm getting an error.\n\n302\n00:14:55.777 --> 00:14:59.100\nBy the way, good for you to read\nthe errors that occur with PowerShell.\n\n303\n00:14:59.100 --> 00:15:02.180\nRed will become your friend as\nyou learn how to use PowerShell.\n\n304\n00:15:02.180 --> 00:15:04.250\nIt is the color of anger\nin the real world.\n\n305\n00:15:04.250 --> 00:15:06.495\nIt is also the color of\nerror in PowerShell, but\n\n306\n00:15:06.495 --> 00:15:08.020\nlot of good information there.\n\n307\n00:15:08.020 --> 00:15:09.961\nAll I had to do is quickly\nlook at that and go, hey,\n\n308\n00:15:09.961 --> 00:15:11.690\nthat error tells me\nexactly what was wrong.\n\n309\n00:15:11.690 --> 00:15:14.670\nNow, let me explain what I\nmean before I correct it.\n\n310\n00:15:14.670 --> 00:15:19.000\nThe error here, just highlight,\nso you can see it.\n\n311\n00:15:19.000 --> 00:15:23.314\nThis part of the error, which is kinda\nhard to read, but you can hopefully see.\n\n312\n00:15:23.314 --> 00:15:27.041\nIt says here, info provided in\nthe extended attribute wasn't correct.\n\n313\n00:15:27.041 --> 00:15:32.784\nAnd it goes on, it says cannot find an\nattribute with identity that says domain.\n\n314\n00:15:32.784 --> 00:15:38.190\nAnd I thought domain but I can see\nclearly D-O-M-I-A-N guests is incorrect.\n\n315\n00:15:38.190 --> 00:15:40.640\nSo it does tell me\nexactly what I did wrong.\n\n316\n00:15:40.640 --> 00:15:41.722\nI just have to pay attention.\n\n317\n00:15:41.722 --> 00:15:43.592\nI'm gonna go fix that right now.\n\n318\n00:15:43.592 --> 00:15:45.680\nJust spell that like that.\n\n319\n00:15:45.680 --> 00:15:49.420\nSpell it correctly, hit Enter and boom,\nit goes through with no trouble, right?\n\n320\n00:15:49.420 --> 00:15:53.252\nSo obviously, spelling errors\nnotwithstanding, pretty easy to do this.\n\n321\n00:15:53.252 --> 00:15:56.970\nSo I've done that, and then,\nby the way, echoes back to the console.\n\n322\n00:15:56.970 --> 00:15:58.933\nI don't get any input that says,\nhey, you did a good job.\n\n323\n00:15:58.933 --> 00:16:01.251\nI only get output that\nsays you have an error.\n\n324\n00:16:01.251 --> 00:16:04.259\nSo as a result, if nothing happens,\nI know that I was actually successful.\n\n325\n00:16:04.259 --> 00:16:06.050\n&gt;&gt; Do you want a cookie?\n\n326\n00:16:06.050 --> 00:16:08.250\n&gt;&gt; No, I don't want a cookie,\nbut thank you for offering.\n\n327\n00:16:08.250 --> 00:16:10.933\nSo now I'm gonna go back here.\n\n328\n00:16:10.933 --> 00:16:12.594\nI'm gonna go to my active\ndirectory user in computers.\n\n329\n00:16:12.594 --> 00:16:15.696\n&gt;&gt; That'd be great though if PowerShell\njust like offered up a nice little cookie\n\n330\n00:16:15.696 --> 00:16:16.972\nevery time you had a correctly.\n\n331\n00:16:16.972 --> 00:16:17.816\n&gt;&gt; A PowerShell cookie!\n\n332\n00:16:17.816 --> 00:16:20.380\n&gt;&gt; Yeah. [LAUGH] &gt;&gt; Yeah,\nall right a virtual cookie.\n\n333\n00:16:20.380 --> 00:16:23.158\nSo now notice it does not appear there,\nit is there, but\n\n334\n00:16:23.158 --> 00:16:26.782\nremember not every interface updates and\nrefreshes on a regular basis.\n\n335\n00:16:26.782 --> 00:16:29.340\nAnd if we have it open while we\nare doing this we don't always see\n\n336\n00:16:29.340 --> 00:16:30.170\nthe refresh right?\n\n337\n00:16:30.170 --> 00:16:33.195\nSo just be aware of that, it is there\nwere gonna just simply refresh and\n\n338\n00:16:33.195 --> 00:16:35.833\nwhen we do that it boom,\npops right in and we can see it there.\n\n339\n00:16:35.833 --> 00:16:40.428\nNow let's take a look at something else,\nlet's go in here lets go to Properties.\n\n340\n00:16:43.171 --> 00:16:43.671\nHold on one second.\n\n341\n00:16:52.704 --> 00:16:54.522\nI know why.\n\n342\n00:16:54.522 --> 00:16:56.295\nI'm just gonna turn on advanced features.\n\n343\n00:16:56.295 --> 00:16:59.752\nI forgot the tab I wanna see for attribute\nediting is not there because I'm looking\n\n344\n00:16:59.752 --> 00:17:02.221\nat it and go, hey, that's weird,\nit's not showing up.\n\n345\n00:17:02.221 --> 00:17:04.301\nBut then I realized we're not\nin advanced features mode.\n\n346\n00:17:04.301 --> 00:17:06.705\nI'm normally in the advanced\nfeatures view when I do that.\n\n347\n00:17:06.705 --> 00:17:07.677\n&gt;&gt; It'll creep up on you.\n\n348\n00:17:07.677 --> 00:17:10.589\n&gt;&gt; So what I wanted to show you is\nthere are some other tabs that you\n\n349\n00:17:10.589 --> 00:17:11.327\nwanna look at.\n\n350\n00:17:11.327 --> 00:17:13.420\nSo certainly the Attribute Editor.\n\n351\n00:17:13.420 --> 00:17:16.339\nSo the attribute that we just specified,\nright?\n\n352\n00:17:16.339 --> 00:17:20.241\nLet's just go down here, MS.\n\n353\n00:17:20.241 --> 00:17:24.690\nAnd, right here, let me just open it up so\nyou can kinda see this a little bit.\n\n354\n00:17:24.690 --> 00:17:29.415\nSo the attribute that we just actually\nmanipulated, with that PowerShell string,\n\n355\n00:17:29.415 --> 00:17:33.541\nspecifically the principles allowed\nto retrieve and manage password and\n\n356\n00:17:33.541 --> 00:17:35.823\nI specified the name of a group, right?\n\n357\n00:17:35.823 --> 00:17:37.051\nDomain guests.\n\n358\n00:17:37.051 --> 00:17:41.724\nThis attribute I'm highlighting over\nhere in the attribute editor, the MSDS\n\n359\n00:17:41.724 --> 00:17:46.560\ngroup MS membership or MSA membership\nattribute is what I actually manipulate.\n\n360\n00:17:46.560 --> 00:17:51.431\nIn other words I programmed the value\nof domain guests into this attribute.\n\n361\n00:17:51.431 --> 00:17:54.369\nNow you don't see the word\ndomain guests there,\n\n362\n00:17:54.369 --> 00:17:59.075\nwhat you see is this string that looks\nkind of odd and bizarre right there.\n\n363\n00:17:59.075 --> 00:18:02.260\nAnd if you go all the way across it says,\nNT Security Descriptor.\n\n364\n00:18:02.260 --> 00:18:06.860\nSo what I'm seeing is the actual\nunique identifier for that attribute.\n\n365\n00:18:06.860 --> 00:18:10.679\nBut I'm not seeing the value,\nI'm seeing what Windows represents it as.\n\n366\n00:18:10.679 --> 00:18:14.650\nIn other words, I don't actually show you,\nin this interface.\n\n367\n00:18:14.650 --> 00:18:18.913\nNowhere can you see this in the GUI,\nwhat the actual membership is that's\n\n368\n00:18:18.913 --> 00:18:22.440\nassociated with that MSA,\nmanaged service account group.\n\n369\n00:18:22.440 --> 00:18:24.252\nI simply see a reference to it.\n\n370\n00:18:24.252 --> 00:18:27.078\nNow, if I try to edit it as many\nattributes can be edited from here,\n\n371\n00:18:27.078 --> 00:18:29.960\nI'm gonna get an error saying,\nhey, you can't set that up.\n\n372\n00:18:29.960 --> 00:18:31.627\nYou can't modify that, you can't see that.\n\n373\n00:18:31.627 --> 00:18:35.836\nThis attribute does not expose an editable\nattribute interface for you and\n\n374\n00:18:35.836 --> 00:18:38.880\nyou'll see when you do this,\nwe get an error.\n\n375\n00:18:38.880 --> 00:18:40.312\nThere's no handle that\nallows me to edit this.\n\n376\n00:18:40.312 --> 00:18:44.473\nSo if you wanna add or remove or modify\nmembership on this managed service account\n\n377\n00:18:44.473 --> 00:18:47.303\ngroup, you have to have to\ndo it only from PowerShell.\n\n378\n00:18:47.303 --> 00:18:48.972\nYou cannot edit the attribute here and\n\n379\n00:18:48.972 --> 00:18:51.642\ndo that the way you may be able\nto with many other attributes.\n\n380\n00:18:51.642 --> 00:18:54.451\nMany of those other attributes,\nI could just edit and go in and\n\n381\n00:18:54.451 --> 00:18:57.436\ntype in whatever the value is and\nI can make a change, no problem.\n\n382\n00:18:57.436 --> 00:18:58.422\nThis attribute and\n\n383\n00:18:58.422 --> 00:19:03.050\nseveral others relating to things like\nthis are not available for you to manage.\n\n384\n00:19:03.050 --> 00:19:07.640\nSo as a result, while we essentially see\nthe output of the managed service account\n\n385\n00:19:07.640 --> 00:19:09.030\ncreation process here.\n\n386\n00:19:09.030 --> 00:19:10.760\nThat's just it we just see it.\n\n387\n00:19:10.760 --> 00:19:12.834\nEssentially it's just like\na read only interface.\n\n388\n00:19:12.834 --> 00:19:15.880\nWe can only see them,\nwe can't actually interact with them and\n\n389\n00:19:15.880 --> 00:19:17.565\nmodify the value there in any way.\n\n390\n00:19:17.565 --> 00:19:20.629\nSo just be aware of that cuz sometimes\npeople get the bright idea of saying,\n\n391\n00:19:20.629 --> 00:19:22.065\nwell, I'll just skip PowerShell.\n\n392\n00:19:22.065 --> 00:19:24.345\nI'll just go and create or\nmodify it there.\n\n393\n00:19:24.345 --> 00:19:25.003\nNot gonna work that way.\n\n394\n00:19:25.003 --> 00:19:25.536\nCan't do that.\n\n395\n00:19:25.536 --> 00:19:27.220\nIt does not allow you to.\n\n396\n00:19:27.220 --> 00:19:31.342\nSo I said I will show you the help file\nfor this cuz I want you to understand one\n\n397\n00:19:31.342 --> 00:19:34.500\nother aspect of what we need\nto do which is the following.\n\n398\n00:19:36.040 --> 00:19:39.878\nBefore I show you this, I'm going to\ntype another PowerShell cmdlet here.\n\n399\n00:19:39.878 --> 00:19:41.588\nGet KDS root key.\n\n400\n00:19:41.588 --> 00:19:45.854\nNow, this is not the command that\nyou're going to use to create the key.\n\n401\n00:19:45.854 --> 00:19:49.650\nBut this is the command that's gonna\nshow us what the current KDS root key or\n\n402\n00:19:49.650 --> 00:19:51.346\nkeys are that are in this system.\n\n403\n00:19:51.346 --> 00:19:54.950\nI have three or\nfour of them resident at this point.\n\n404\n00:19:54.950 --> 00:19:58.160\nThe trick with creating managed service\naccounts, which I haven't shared with you\n\n405\n00:19:58.160 --> 00:20:01.700\nyet, but I like you so I'm gonna share\nthis with you cuz you need to know this.\n\n406\n00:20:01.700 --> 00:20:04.317\nAnd if you read the documentation on\nhow to create managed service accounts,\n\n407\n00:20:04.317 --> 00:20:05.169\nwe'll talk about this.\n\n408\n00:20:05.169 --> 00:20:07.782\nAnd if you read my show notes, we talk\nabout it on the show notes as well,\n\n409\n00:20:07.782 --> 00:20:10.313\ngive you all the information necessary\nto understand what I'm about\n\n410\n00:20:10.313 --> 00:20:11.030\nto explain to you.\n\n411\n00:20:11.030 --> 00:20:13.888\nIn order to create\nmanaged service accounts,\n\n412\n00:20:13.888 --> 00:20:18.078\nwe must first have a KDS root key\nresonant on the domain controller.\n\n413\n00:20:18.078 --> 00:20:22.400\nSingular, if we're going this only on\na single domain controller in the domain.\n\n414\n00:20:22.400 --> 00:20:25.413\nIf we're going to expand this and\nultimately have multiple domain\n\n415\n00:20:25.413 --> 00:20:28.007\ncontrollers, we have to wait for\nthis key to replicate.\n\n416\n00:20:28.007 --> 00:20:31.209\nSo it'd just take a while and it has to\nbe created and then we have to wait for\n\n417\n00:20:31.209 --> 00:20:34.310\nit to show up and have it available\nin every domain controller.\n\n418\n00:20:34.310 --> 00:20:37.260\nBut this idea of being able to check and\nsee what's there is important.\n\n419\n00:20:37.260 --> 00:20:41.914\nNow there is a PowerShell string that you\nwill use to be able to create this and\n\n420\n00:20:41.914 --> 00:20:44.830\nwe actually reference\nthis in the help file.\n\n421\n00:20:44.830 --> 00:20:45.697\nI'm gonna show you this introduction.\n\n422\n00:20:45.697 --> 00:20:48.370\nIt says hey,\nyou need to create the KDS root key.\n\n423\n00:20:48.370 --> 00:20:51.300\nKDS, by the way, key distribution server.\n\n424\n00:20:51.300 --> 00:20:55.410\nYou may know that from our discussions\nwith regards to licensing and\n\n425\n00:20:55.410 --> 00:20:58.220\nvarious things that you hear\nus mention from time to time.\n\n426\n00:20:58.220 --> 00:21:02.730\nAnd we use the add KDS root\nkey PowerShell cmdlet to\n\n427\n00:21:02.730 --> 00:21:05.370\nbe able to create this key\non a domain controller.\n\n428\n00:21:05.370 --> 00:21:09.524\nAnd if we use the effective immediately\nparameter, it is created right then and\n\n429\n00:21:09.524 --> 00:21:11.827\nthere and that's how I created those keys.\n\n430\n00:21:11.827 --> 00:21:18.890\nIf I do this with the following instead,\nadd KDS root.\n\n431\n00:21:18.890 --> 00:21:21.983\nI'm just going to scroll down here just so\nyou can see this, so\n\n432\n00:21:21.983 --> 00:21:23.122\ngive me just a second.\n\n433\n00:21:23.122 --> 00:21:25.050\nMake it a little bit easier for\nyou to see that.\n\n434\n00:21:25.050 --> 00:21:26.840\nAnd if I use the effective,\n\n435\n00:21:32.104 --> 00:21:36.670\nIt would help if I spelled correctly,\nthere we go.\n\n436\n00:21:36.670 --> 00:21:39.805\nEffective time or effective\nimmediately to parameter options,\n\n437\n00:21:39.805 --> 00:21:41.577\neffective immediately parameter.\n\n438\n00:21:41.577 --> 00:21:44.730\nIf I just do that it's gonna\ncreate the key for me right away.\n\n439\n00:21:44.730 --> 00:21:47.767\nBut there's a trick to this, and again,\nyou gotta read the documentation.\n\n440\n00:21:47.767 --> 00:21:50.409\nTo get a better understanding top to\nbottom what I'm explaining to you at\n\n441\n00:21:50.409 --> 00:21:51.880\na very high level here.\n\n442\n00:21:51.880 --> 00:21:55.680\nWe actually are manipulating and managing\nthe key based on the creation value\n\n443\n00:21:55.680 --> 00:21:58.220\nwith a time parameter,\nyou just don't see that here.\n\n444\n00:21:58.220 --> 00:22:02.926\nAnd there's a ten hour offset that is\nused to be able to create this key and\n\n445\n00:22:02.926 --> 00:22:05.023\nmake it create it immediately.\n\n446\n00:22:05.023 --> 00:22:07.759\nAnd we can manipulate that\ntime value to be able to\n\n447\n00:22:07.759 --> 00:22:12.186\ncreate a key locally on this one machine\nthat's available for test purposes.\n\n448\n00:22:12.186 --> 00:22:14.075\nVersus creating and\nthen having to wait for\n\n449\n00:22:14.075 --> 00:22:16.021\nit to wind up being replicated everywhere.\n\n450\n00:22:16.021 --> 00:22:21.910\nSo when we do just this like that we're\ncreating it and then we're setting it up.\n\n451\n00:22:21.910 --> 00:22:23.720\nWe have to wait for\nthese keys to be made available.\n\n452\n00:22:23.720 --> 00:22:29.249\nIf however, we do this and we add in to\nget data at hours minus ten substring.\n\n453\n00:22:29.249 --> 00:22:32.225\nWe're gonna be able to create that\nkey locally on this one machine and\n\n454\n00:22:32.225 --> 00:22:33.780\ntag it so we can use it immediately.\n\n455\n00:22:33.780 --> 00:22:35.433\nWhen I say immediately, I mean right away.\n\n456\n00:22:35.433 --> 00:22:37.250\nLet me just show you what I mean.\n\n457\n00:22:37.250 --> 00:22:39.760\nSo we're gonna do a double parentheses.\n\n458\n00:22:39.760 --> 00:22:44.281\nWe're going to do get date,\nwhich is another cmdlet here.\n\n459\n00:22:44.281 --> 00:22:48.478\nWe're gonna close that,\ndo the addhours item.\n\n460\n00:22:48.478 --> 00:22:53.047\nAnd then we're gonna open up and\ndo a -10 for a ten hour offset,\n\n461\n00:22:53.047 --> 00:22:57.580\nwhich is what's used to be able\nto specify the current time.\n\n462\n00:22:57.580 --> 00:23:01.871\nAnd we can walk that back or forwards\nbased on how we actually manipulate that\n\n463\n00:23:01.871 --> 00:23:06.428\nadd hours -10 means essentially do it\nright now in the current moment cuz we use\n\n464\n00:23:06.428 --> 00:23:08.589\na ten hour offset as we create the key.\n\n465\n00:23:08.589 --> 00:23:12.418\nSo if we did add hours -9 or something\nlike that we're moving forwards in\n\n466\n00:23:12.418 --> 00:23:16.951\nthe time zone, we're specifying created,\nbut created at different points in time.\n\n467\n00:23:16.951 --> 00:23:19.220\nAgain, read the full documentation\non this particular item.\n\n468\n00:23:19.220 --> 00:23:21.501\nYou'll see a little bit more\nof a reference to it and\n\n469\n00:23:21.501 --> 00:23:22.888\na better understanding of it.\n\n470\n00:23:22.888 --> 00:23:26.763\nBut I just want to show you that this\nstring has to be issued first when we\n\n471\n00:23:26.763 --> 00:23:29.720\nactually want to use\nmanaged service accounts.\n\n472\n00:23:29.720 --> 00:23:33.130\nHave to first have a KDS root key created.\n\n473\n00:23:33.130 --> 00:23:34.420\nThese don't exist by default.\n\n474\n00:23:34.420 --> 00:23:37.290\nSo in other words, you would have to\ncreate this, or you'll get an error.\n\n475\n00:23:37.290 --> 00:23:42.286\nCuz what will happen is you'll go to use\nthe creation the new ADS cmdlet that I\n\n476\n00:23:42.286 --> 00:23:43.153\nshowed you.\n\n477\n00:23:43.153 --> 00:23:46.747\nAnd when you do new ADS account and you\ndon't have the key you already created,\n\n478\n00:23:46.747 --> 00:23:50.088\nPowerShell comes back and says, hey,\nno key found and I can't do that.\n\n479\n00:23:50.088 --> 00:23:50.619\nGives you an error.\n\n480\n00:23:50.619 --> 00:23:53.267\nAnd it's prescriptive,\nit does say hey this is the problem, but\n\n481\n00:23:53.267 --> 00:23:54.920\nit doesn't really tell you how to do it.\n\n482\n00:23:54.920 --> 00:23:58.710\nSo I'm just showing you this because\nI want you to know that, and\n\n483\n00:23:58.710 --> 00:24:01.660\nthen we just move pass\nthis here real quick.\n\n484\n00:24:01.660 --> 00:24:06.776\nLet me show you to get,\nhelp command I was talking about a new AD,\n\n485\n00:24:13.537 --> 00:24:14.111\nWhat am I doing?\n\n486\n00:24:14.111 --> 00:24:20.500\nI'm doing a new AD service account, right,\nso waiting for it to go through there.\n\n487\n00:24:20.500 --> 00:24:23.260\nLet me just do this, that will be\na little bit quicker, there we go.\n\n488\n00:24:23.260 --> 00:24:25.081\nGet help new AD service account.\n\n489\n00:24:25.081 --> 00:24:27.747\nAnd when I do that, and I think I've\ntalked about the difference with help\n\n490\n00:24:27.747 --> 00:24:30.113\nfiles before but I'm just gonna\nquickly remind you of this here.\n\n491\n00:24:30.113 --> 00:24:33.417\nIf I just do that without specifying\na parameter like forward detail,\n\n492\n00:24:33.417 --> 00:24:36.273\nI'm gonna get a very short\ntruncated help file, which may or\n\n493\n00:24:36.273 --> 00:24:37.738\nmay not be very valuable to me.\n\n494\n00:24:37.738 --> 00:24:39.727\nIt doesn't give me examples, for instance,\n\n495\n00:24:39.727 --> 00:24:42.005\nwhich is what I would\ntypically wanna see for usage.\n\n496\n00:24:42.005 --> 00:24:46.580\nAnd so instead, what I like to do is\nI like default when I do the help\n\n497\n00:24:46.580 --> 00:24:49.760\nfile because that's going to give\nme a lot more as you can see.\n\n498\n00:24:49.760 --> 00:24:54.317\nGives me depending on the particular help\nfile, anywhere from one to maybe as many\n\n499\n00:24:54.317 --> 00:24:58.166\nas 12 or 20 different examples of syntax,\nusage of the command.\n\n500\n00:24:58.166 --> 00:25:00.400\nYou could see several of them here.\n\n501\n00:25:00.400 --> 00:25:05.486\nBut it also, in this case, tells me\nthat we need to use the key distribution\n\n502\n00:25:05.486 --> 00:25:09.140\nservice root key and that has to be\ncreated, the thing i just showed you.\n\n503\n00:25:09.140 --> 00:25:12.746\nAnd it gives you a nice URL, it tells you\nwhere to go to find a help file that will\n\n504\n00:25:12.746 --> 00:25:14.706\ntell you how to create this and\nwhat to do.\n\n505\n00:25:14.706 --> 00:25:17.790\nSo you go out just read up on it,\nit shows you the command Ijust showed you.\n\n506\n00:25:17.790 --> 00:25:20.540\nHow to use, create the keys,\nyou will do that first.\n\n507\n00:25:20.540 --> 00:25:24.430\nOnce you've done that, you're then\nable to go ahead and then use one or\n\n508\n00:25:24.430 --> 00:25:28.670\nmore of the syntax lines that we've taken\na look at to create the service accounts.\n\n509\n00:25:28.670 --> 00:25:32.290\nAnd then assign whatever the manage groups\nservices account may be in terms of\n\n510\n00:25:32.290 --> 00:25:36.070\nthe user, groups and or the computers\nthat are gonna have access to it.\n\n511\n00:25:36.070 --> 00:25:39.570\nSo we walked through that thoughtout\nprocess, shown you how to do that.\n\n512\n00:25:39.570 --> 00:25:42.910\nMake sure you understand how to\nuse the help file to verify that.\n\n513\n00:25:42.910 --> 00:25:46.350\nBut take a look at all of\nthe stuff in the help file.\n\n514\n00:25:46.350 --> 00:25:48.350\nAnd specifically, what I mean is,\n\n515\n00:25:48.350 --> 00:25:52.800\nyou can see all the different parameters\nyou hear me keep referring to.\n\n516\n00:25:52.800 --> 00:25:58.465\nBut the one that we took a look at,\nwhich is very important for you to see is\n\n517\n00:25:58.465 --> 00:26:05.010\nPrincipalsAllowedToRetrieveManagedPassword\nright there, right?\n\n518\n00:26:05.010 --> 00:26:09.820\nAnd if you read this,\nJust kinda highlight as we go down.\n\n519\n00:26:09.820 --> 00:26:14.500\nWhat you'll find is, right, just like I\ntold you, specifies membership policy for\n\n520\n00:26:14.500 --> 00:26:18.799\nsystems, which can use a group Managed\nService Account, the one we created.\n\n521\n00:26:18.799 --> 00:26:21.077\nFor service to run under a group\nManaged Service Account,\n\n522\n00:26:21.077 --> 00:26:23.410\nthe system must be in the membership\npolicy of the account.\n\n523\n00:26:23.410 --> 00:26:25.414\nIn other words, you have to add and\nspecified here.\n\n524\n00:26:25.414 --> 00:26:29.200\nIts parameter sets the MSDS group,\nMSA, membership attribute,\n\n525\n00:26:29.200 --> 00:26:30.780\nthe one I just showed you in the editor.\n\n526\n00:26:30.780 --> 00:26:36.065\nWhen I showed you we can't change in the\nuser accounts and management interface.\n\n527\n00:26:36.065 --> 00:26:39.335\nOther group Managed Service Account\nobject, tremor should\n\n528\n00:26:39.335 --> 00:26:43.325\nbe set to the principles allowed to\nuse as group Managed Service Account.\n\n529\n00:26:43.325 --> 00:26:44.354\nSo we're seeing it, and\n\n530\n00:26:44.354 --> 00:26:47.196\nwe're specifying which ones will\nnot be allowed to do this, right.\n\n531\n00:26:47.196 --> 00:26:51.484\nSo just showing you how you use a help\nfile to your benefit to understand how to\n\n532\n00:26:51.484 --> 00:26:55.645\nactually achieve this result,\nin which case, whatever will look to do.\n\n533\n00:26:55.645 --> 00:26:56.612\nSo just be aware of that,\n\n534\n00:26:56.612 --> 00:26:59.203\nbecause that's what we're actually\ndoing with this parameter.\n\n535\n00:26:59.203 --> 00:27:03.453\nWe're specifying the group, the name of\nthe group or the computer, in this case,\n\n536\n00:27:03.453 --> 00:27:07.281\nwe did groups, that can actually attach\nto this Managed Service Account,\n\n537\n00:27:07.281 --> 00:27:10.210\nthis group Managed Service Account,\nand leverage it.\n\n538\n00:27:10.210 --> 00:27:13.698\nBecause we may want this to operate\non behalf of a group of users or\n\n539\n00:27:13.698 --> 00:27:15.517\non behalf of several computers.\n\n540\n00:27:15.517 --> 00:27:18.890\nAnd we're now giving it the right to do\nthat, based on setting this parameter and\n\n541\n00:27:18.890 --> 00:27:20.250\nproviding a value as input.\n\n542\n00:27:20.250 --> 00:27:23.650\nSo it's important to understand that and\nknow what is accepted here and\n\n543\n00:27:23.650 --> 00:27:24.850\nhow this works, right?\n\n544\n00:27:24.850 --> 00:27:26.060\nJust so you're aware of that.\n\n545\n00:27:26.060 --> 00:27:28.398\n&gt;&gt; Yeah, thank you for\nshowing us that help file system for\n\n546\n00:27:28.398 --> 00:27:29.609\nthe really great tips here.\n\n547\n00:27:29.609 --> 00:27:32.951\nLooking at obtaining that key\ndistribution root key there,\n\n548\n00:27:32.951 --> 00:27:35.190\nas well as looking at the advanced view.\n\n549\n00:27:35.190 --> 00:27:37.758\nSo all really great things\nin this episode, Adam.\n\n550\n00:27:37.758 --> 00:27:39.518\nBut thank you so much,\nladies and gentlemen.\n\n551\n00:27:39.518 --> 00:27:40.449\n&gt;&gt; We're not done.\n\n552\n00:27:40.449 --> 00:27:41.089\n&gt;&gt; We're not done.\n&gt;&gt; We're not done.\n\n553\n00:27:41.089 --> 00:27:41.719\n&gt;&gt; We're not done.\n\n554\n00:27:41.719 --> 00:27:42.219\n&gt;&gt; Okay.\n\n555\n00:27:42.219 --> 00:27:43.479\n&gt;&gt; You don't pay attention to the bottom\n\n556\n00:27:43.479 --> 00:27:44.837\nof the note.\nThere's something right below everything\n\n557\n00:27:44.837 --> 00:27:45.696\nwe were just talking about.\n&gt;&gt; Hold\n\n558\n00:27:45.696 --> 00:27:46.593\non.\nI told you to remember this one little\n\n559\n00:27:46.593 --> 00:27:48.251\naddition.\n&gt;&gt; Service principal names.\n\n560\n00:27:48.251 --> 00:27:48.771\n&gt;&gt; We gotta talk\n\n561\n00:27:48.771 --> 00:27:52.813\nabout that before we finish up.\nSo we're gonna quickly just add one little\n\n562\n00:27:52.813 --> 00:27:55.059\npiece to the puzzle.\nOr not to the puzzle per say,\n\n563\n00:27:55.059 --> 00:27:57.250\nbut just add one little piece\nof additional information.\n\n564\n00:27:57.250 --> 00:27:57.970\nYou just wanna be aware of,\n\n565\n00:27:57.970 --> 00:28:00.770\nreally more of a reminder\nof how a term is used and\n\n566\n00:28:00.770 --> 00:28:04.059\nwhat it is used for.\nCherokee kind of hinted at what it is,\n\n567\n00:28:04.059 --> 00:28:06.824\nSPN, so\nwhat we call service principal names.\n\n568\n00:28:06.824 --> 00:28:08.361\nWhen we think about a service principal\n\n569\n00:28:08.361 --> 00:28:11.575\nname, Cherokee, since you were kind enough\nto ignore my note there and pretend it\n\n570\n00:28:11.575 --> 00:28:13.905\ndidn't exist there for a minute.\nI'm sure you taking a look at it while\n\n571\n00:28:13.905 --> 00:28:14.830\nwe're talking.\n&gt;&gt; Uh-huh.\n\n572\n00:28:14.830 --> 00:28:16.100\n&gt;&gt; So just, let's talk about it for\n\n573\n00:28:16.100 --> 00:28:18.030\na minute.\nSo what is the service principal name?\n\n574\n00:28:18.030 --> 00:28:20.380\nJust if we wanted to define the concept.\n\n575\n00:28:20.380 --> 00:28:21.350\nWe're thinking about\n\n576\n00:28:21.350 --> 00:28:24.060\nsome sort of way we can reference\nsomething traditionally, right?\n\n577\n00:28:24.060 --> 00:28:26.370\nSo what does an SPN represent for us?\n\n578\n00:28:26.370 --> 00:28:27.700\n&gt;&gt; A unique identifier for\n\n579\n00:28:27.700 --> 00:28:29.060\na particular component.\n\n580\n00:28:29.060 --> 00:28:29.750\n&gt;&gt; Exactly that.\n\n581\n00:28:29.750 --> 00:28:34.090\nSo it's an instance name or a way of\nidentifying a service in this case,\n\n582\n00:28:34.090 --> 00:28:36.980\nthat we wanna be able to latch onto,\nor perhaps call and use.\n\n583\n00:28:36.980 --> 00:28:39.760\nAnd it lets us go in and\nallows us to specify.\n\n584\n00:28:39.760 --> 00:28:41.920\nHey, that unique running\ninstance to that service,\n\n585\n00:28:41.920 --> 00:28:43.380\nI wanna be able to work with that.\n\n586\n00:28:43.380 --> 00:28:46.500\nSo we often refer to not an SPN per se,\nbut\n\n587\n00:28:46.500 --> 00:28:51.060\nthings like an SPN we talk about a SID,\nor a GUID or unique UUID.\n\n588\n00:28:51.060 --> 00:28:54.990\nAll these different ways of referring to\nuniqueness and calling out an object.\n\n589\n00:28:54.990 --> 00:28:57.314\nAnd SPN is just another one\nof those things we use, but\n\n590\n00:28:57.314 --> 00:29:00.014\nit's specific typically to\na service running on a computer.\n\n591\n00:29:00.014 --> 00:29:03.524\nSo the service running has its own\nunique instantiated reference, and\n\n592\n00:29:03.524 --> 00:29:04.760\nthat's called the SPN.\n\n593\n00:29:04.760 --> 00:29:09.290\nAnd we have that, but we can also create\nthose and attach them, if we want to.\n\n594\n00:29:09.290 --> 00:29:10.350\nSo we can tag and\n\n595\n00:29:10.350 --> 00:29:14.060\nuse those, allowing us to be able to\nclaim that identity or call that service.\n\n596\n00:29:14.060 --> 00:29:18.483\nSo just wanna remind you of the fact that\nwe do have SPNs, service principal names.\n\n597\n00:29:18.483 --> 00:29:22.673\nWhen we are using Windows Server 12 and or\nServer 16, we can actually use the service\n\n598\n00:29:22.673 --> 00:29:26.110\nprincipal names to do what is\ncalled constrained allegation.\n\n599\n00:29:26.110 --> 00:29:29.300\nSo we have this idea that we can\nactually specify through a proxy,\n\n600\n00:29:29.300 --> 00:29:30.286\nthe ability to use or\n\n601\n00:29:30.286 --> 00:29:34.358\ncall these services kind of linking back\nto this idea of managed service accounts.\n\n602\n00:29:34.358 --> 00:29:37.636\nNow we can see them being used,\nand preferred or referenced so\n\n603\n00:29:37.636 --> 00:29:40.993\nwe can actually call the service and\nprovide the information.\n\n604\n00:29:40.993 --> 00:29:42.622\nIn this case, the authentication or\n\n605\n00:29:42.622 --> 00:29:45.983\nthe group identity that we're gonna use\nto be able to assign this account and\n\n606\n00:29:45.983 --> 00:29:49.470\nactually be able to drive it and use it so\nwe can access the service in question.\n\n607\n00:29:49.470 --> 00:29:51.490\nSo it's important just to make\nsure we're aware of that.\n\n608\n00:29:51.490 --> 00:29:53.320\nWe think about what SPNs are and\n\n609\n00:29:53.320 --> 00:29:55.960\nwhy they're important with regards\nto managed service accounts.\n\n610\n00:29:55.960 --> 00:29:58.660\nCuz that does really complete\nthe puzzle for us so we close that\n\n611\n00:29:58.660 --> 00:30:01.990\npicture out nicely and just give us\nthe understanding of how to do that.\n\n612\n00:30:01.990 --> 00:30:06.894\nThat proxy name, by the way,\nof service for user to proxy, proxy name.\n\n613\n00:30:06.894 --> 00:30:10.096\nI have to look it up cuz I\ndon't always remember it,\n\n614\n00:30:10.096 --> 00:30:14.712\nis known as the S4U2proxy extension\nthat allows service to use Kerberos\n\n615\n00:30:14.712 --> 00:30:18.071\nservice tickets to obtain\nthe service information.\n\n616\n00:30:18.071 --> 00:30:21.171\nAnd then I'll actually be able\nto leverage these accounts,\n\n617\n00:30:21.171 --> 00:30:24.290\nit's know as the S4U2proxy,\nthat's what it's called.\n\n618\n00:30:24.290 --> 00:30:27.013\nSo if you just ever see that, it's in\nthe show notes, you can take a look.\n\n619\n00:30:27.013 --> 00:30:30.040\nBut if you ever see that or wonder\nwhat that is, that's the actual proxy\n\n620\n00:30:30.040 --> 00:30:32.865\nthat's being used on the backend\nto deal with these services, and\n\n621\n00:30:32.865 --> 00:30:35.837\nhow we interact with that and\ntranslate information back and forth.\n\n622\n00:30:35.837 --> 00:30:36.780\n&gt;&gt; All right Adam,\n\n623\n00:30:36.780 --> 00:30:40.120\nI'm glad you didn't let me lose that\nlast little piece to the puzzle there.\n\n624\n00:30:40.120 --> 00:30:41.690\nSo now we've got a full picture.\n\n625\n00:30:41.690 --> 00:30:45.780\nWe can go ahead and Shellac it and\nframe it, and sign out for this episode.\n\n626\n00:30:45.780 --> 00:30:47.055\n&gt;&gt; Shellac it and frame it.\n\n627\n00:30:47.055 --> 00:30:48.930\n&gt;&gt; [LAUGH]\n&gt;&gt; Where is that come from?\n\n628\n00:30:48.930 --> 00:30:52.290\n&gt;&gt; [LAUGH] I've been your host,\nCherokee Boose.\n\n629\n00:30:52.290 --> 00:30:56.520\n&gt;&gt; I am trouble by that reference,\nbut I am Adam Gordon.\n\n630\n00:30:56.520 --> 00:30:58.590\n&gt;&gt; See you next time here at ITProTV, bye.\n\n631\n00:30:58.590 --> 00:30:59.262\n&gt;&gt; Take care everybody.\n\n632\n00:31:01.073 --> 00:31:07.003\n[MUSIC]\n\n633\n00:31:07.003 --> 00:31:09.620\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231753292"
        },
        {
          "description": "In this episode, Cherokee and Adam discuss how to configure Password Replication Policy for RODCs. First, Adam shows the default allow and deny group settings. Next, he shows how to add a group to allow credential caching for both user user and computer accounts. Advanced settings are also shown to pre-populate account settings.",
          "length": "1650",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-2-password_replication_policy_for_rodcs-081217-PGM.00_27_14_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-2-password_replication_policy_for_rodcs-081217-PGM.00_27_14_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-7-2-password_replication_policy_for_rodcs-081217-PGM.00_27_14_21.Still001-sm.jpg",
          "title": "Password Replication Policy for RODCs",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:06.216\nWelcome to ITPRO.TV I'm\nyour host [CROSSTALK]\n\n2\n00:00:06.216 --> 00:00:08.461\n[MUSIC]\n\n3\n00:00:08.461 --> 00:00:13.394\n&gt;&gt; You're watching ITPRO.TV\n&gt;&gt; Welcome to Identity\n\n4\n00:00:13.394 --> 00:00:17.570\nwith Windows Server 2016,\nI'm your show host, Cherokee Boose.\n\n5\n00:00:17.570 --> 00:00:22.320\nIn this episode we'll be taking a look at\nhow to set password replication policy for\n\n6\n00:00:22.320 --> 00:00:24.220\nread only domain controllers.\n\n7\n00:00:24.220 --> 00:00:26.550\nBack with us today in studios\nwe have Mr Adam Gordon.\n\n8\n00:00:26.550 --> 00:00:27.880\nHow's it going today Adam?\n\n9\n00:00:27.880 --> 00:00:29.170\n&gt;&gt; Going well, going very good.\n\n10\n00:00:29.170 --> 00:00:31.650\nWe're gonna talk about a very specific and\n\n11\n00:00:31.650 --> 00:00:35.040\nimportant, topic,\none that is an exam objective, so\n\n12\n00:00:35.040 --> 00:00:38.490\ncertainly one that you want to perk up and\npay attention to as a skill set.\n\n13\n00:00:38.490 --> 00:00:41.460\nWe've talked about we know how to make\ncontrols before, I've actually walked you\n\n14\n00:00:41.460 --> 00:00:43.630\nthrough the process of how to install and\nconfigure one.\n\n15\n00:00:43.630 --> 00:00:46.460\nIf you haven't seen us do that\ndefinitely worth the time to go back and\n\n16\n00:00:46.460 --> 00:00:48.030\ntake a look at that episode.\n\n17\n00:00:48.030 --> 00:00:51.810\nAnd we're not gonna focus on how to\ninstall one here although I will speak to\n\n18\n00:00:51.810 --> 00:00:54.760\nthe installation process to\nremind you of one specific thing.\n\n19\n00:00:54.760 --> 00:00:58.410\nBut in general we've already taken the\nliberty of configuring we'd only need to\n\n20\n00:00:58.410 --> 00:01:00.997\nmake a controller in our domain,\npractice labs dot com.\n\n21\n00:01:00.997 --> 00:01:05.922\nHave some stood up the machine the main\ncontroller, finished that process,\n\n22\n00:01:05.922 --> 00:01:10.038\nset up the administration,\na console they the computers interface so\n\n23\n00:01:10.038 --> 00:01:13.243\nwe can see it we're going to take\na look at it in just a minute.\n\n24\n00:01:13.243 --> 00:01:16.786\nBut just want to remind you of what\nreally the main controllers are,\n\n25\n00:01:16.786 --> 00:01:20.845\nwhy they're important, what they're\nused for and their role in security.\n\n26\n00:01:20.845 --> 00:01:22.802\nWhen we think of read-only\ndomain controllers,\n\n27\n00:01:22.802 --> 00:01:25.120\nwe're thinking of literally\na domain controller.\n\n28\n00:01:25.120 --> 00:01:29.220\nBut not the traditional one we would\noften consider and normally define.\n\n29\n00:01:29.220 --> 00:01:33.290\nOne that has the ability to both read and\nwrite to and from the schema,\n\n30\n00:01:33.290 --> 00:01:35.030\nthe ntds.dit file.\n\n31\n00:01:35.030 --> 00:01:38.140\nAnd to make changes to\nthe active directory objects and\n\n32\n00:01:38.140 --> 00:01:42.475\nadminister them at point of contact\nat that particular domain controller.\n\n33\n00:01:42.475 --> 00:01:46.984\nBut rather it is a domain controller\nthat as the name implies has a copy of\n\n34\n00:01:46.984 --> 00:01:49.025\nthe ntds.dit file the schema.\n\n35\n00:01:49.025 --> 00:01:51.925\nBut is going to be barred from\nmaking changes to that copy but\n\n36\n00:01:51.925 --> 00:01:55.405\nrather only using it to be able to\ninteract with an administer objects in\n\n37\n00:01:55.405 --> 00:01:59.001\na sense of allowing them to authenticate,\nvalidating that they exist and\n\n38\n00:01:59.001 --> 00:02:03.460\nthen their granted rights, but\ncannot make changes at point of contact.\n\n39\n00:02:03.460 --> 00:02:07.890\nSo it is literally a read-only interface,\none that is used simply for validation of\n\n40\n00:02:07.890 --> 00:02:11.690\nusers in a remote office, branch office,\nwhatever the case may be, and\n\n41\n00:02:11.690 --> 00:02:15.820\na place where, for a variety of business\nreasons and for a variety of security\n\n42\n00:02:15.820 --> 00:02:19.740\nreasons, we may not have the ability\nto deploy a normal domain controller.\n\n43\n00:02:19.740 --> 00:02:24.810\nOr perhaps there are not gonna be IT\nprofessionals on sight that can be\n\n44\n00:02:24.810 --> 00:02:28.450\nable to be there moment to\nmoment to maintain this machine.\n\n45\n00:02:28.450 --> 00:02:31.490\nMaybe we are worried about the fact\nbecause it's in a branch office\n\n46\n00:02:31.490 --> 00:02:34.630\nwith minimum oversight at someone who\ncould steal the domain controller and\n\n47\n00:02:34.630 --> 00:02:38.910\nget a copy of the configuration and\nall the information succeeded with it.\n\n48\n00:02:38.910 --> 00:02:41.966\nIn a form that would be editable and\ncould then compromise objects and\n\n49\n00:02:41.966 --> 00:02:45.910\nwe use a to make a photo\naddress some of these concerns.\n\n50\n00:02:45.910 --> 00:02:47.836\nSo we do maintain a copy\nof all the objects and\n\n51\n00:02:47.836 --> 00:02:51.025\nthe attributes in the domain on a real\ndomain controller in other words.\n\n52\n00:02:51.025 --> 00:02:54.844\nBut that copy is going to be lacking\nsome very important information,\n\n53\n00:02:54.844 --> 00:02:58.275\nsecure information,\ninside password related properties and\n\n54\n00:02:58.275 --> 00:03:02.547\nthe information about security aspects\nof the object is not gonna be there till\n\n55\n00:03:02.547 --> 00:03:06.980\nthat the copy or the domain controlled\ncopies of the readable, writable.\n\n56\n00:03:06.980 --> 00:03:10.310\nAnd we are not gonna maintain information\non a [INAUDIBLE] typically for\n\n57\n00:03:10.310 --> 00:03:12.930\nthat however, there are exceptions.\n\n58\n00:03:12.930 --> 00:03:15.630\nWe're gonna talk about this idea\nof being able to enable caching,\n\n59\n00:03:15.630 --> 00:03:16.815\nthe caching of credentials.\n\n60\n00:03:16.815 --> 00:03:20.671\n[INAUDIBLE] domain controller, if we\nchoose to allow certain user accounts to\n\n61\n00:03:20.671 --> 00:03:24.030\nbe cached or to be maintained\nin read only domain controller.\n\n62\n00:03:24.030 --> 00:03:25.760\nThen we will have that information and\n\n63\n00:03:25.760 --> 00:03:28.480\nthat is an option we can\ndecide to configure.\n\n64\n00:03:28.480 --> 00:03:32.290\nIf we do not configure caching then we're\ngoing to make controller get sign in\n\n65\n00:03:32.290 --> 00:03:34.930\nrequest from the users in that location.\n\n66\n00:03:34.930 --> 00:03:38.590\nAnd that's to forward them out to the\ndomain controller somewhere else in one of\n\n67\n00:03:38.590 --> 00:03:41.330\nthose sites that has the ability\nto interact with this\n\n68\n00:03:41.330 --> 00:03:42.655\nsecurity principle information.\n\n69\n00:03:42.655 --> 00:03:46.680\nReadable-writable copy of the domain\ncontroller and it does the authentication\n\n70\n00:03:46.680 --> 00:03:50.160\non behalf of the read only domain\ncontroller, validates user account.\n\n71\n00:03:51.160 --> 00:03:53.580\nWe then are gonna get\nthat information back and\n\n72\n00:03:53.580 --> 00:03:57.210\nthen the domain controller essentially\nthen says to the user okay you're good.\n\n73\n00:03:57.210 --> 00:03:59.560\nBut it acts as a pass\nthrough almost like a proxy.\n\n74\n00:03:59.560 --> 00:04:03.640\nIf we enable caching through a pass\nthrough replication policy which is\n\n75\n00:04:03.640 --> 00:04:06.840\nwhat we're gonna do and\ntalk about how to do in just a moment.\n\n76\n00:04:06.840 --> 00:04:09.196\nThen we can actually\nspecify either a group or\n\n77\n00:04:09.196 --> 00:04:13.226\nindividual user accounts within the group\nthat will have their passwords and\n\n78\n00:04:13.226 --> 00:04:16.525\ntheir information cached on\nthe read only domain controller.\n\n79\n00:04:16.525 --> 00:04:18.250\nWe could be selective, in other words and\n\n80\n00:04:18.250 --> 00:04:21.220\nthere are certain accounts that we\nprobably don't wanna have cached.\n\n81\n00:04:21.220 --> 00:04:25.640\nThe local or rather the domain admin\naccount, and the enterprise admin account.\n\n82\n00:04:25.640 --> 00:04:29.100\nSeems like that barred from being able\nto be cached should not be there.\n\n83\n00:04:29.100 --> 00:04:32.827\nWe don't put them there, but an average\nuser, who may just have to be able to\n\n84\n00:04:32.827 --> 00:04:36.634\nauthenticate directly through that read\nonly to make it [INAUDIBLE] locally.\n\n85\n00:04:36.634 --> 00:04:40.020\nAnd needs to speed that process up and\nensure it can happen even if we're not\n\n86\n00:04:40.020 --> 00:04:43.462\nable to contact the external to make\na [INAUDIBLE] to authenticate, we should\n\n87\n00:04:43.462 --> 00:04:47.100\nbe able to cache that credential locally\nand we, indeed, can configure that.\n\n88\n00:04:47.100 --> 00:04:50.800\nAnd we do that through this\npassword replication policy.\n\n89\n00:04:50.800 --> 00:04:53.030\nLittle bit different on the sense\nthat I often scratch my head and\n\n90\n00:04:53.030 --> 00:04:53.840\nwanted to think about this.\n\n91\n00:04:53.840 --> 00:04:56.523\nSo why didn't we call\nthe policy username caching.\n\n92\n00:04:56.523 --> 00:04:57.220\n&gt;&gt; [LAUGH]\n&gt;&gt; Or\n\n93\n00:04:57.220 --> 00:05:00.010\ncredential caching cuz that's\nreally what it's use for.\n\n94\n00:05:00.010 --> 00:05:02.940\nI understand why we call it\npassword replication policy\n\n95\n00:05:02.940 --> 00:05:07.230\ncuz we are replicating the shared\nsecretly security identifier information.\n\n96\n00:05:07.230 --> 00:05:11.220\nEssentially the password information\nis being replicated when we cached\n\n97\n00:05:11.220 --> 00:05:13.750\nafter the first initial logon request.\n\n98\n00:05:13.750 --> 00:05:17.627\nWhere we make that request and we go to\nfrom the read only domain controller up to\n\n99\n00:05:17.627 --> 00:05:20.977\nthe other domain controller in\nwhatever we would call the hub site,\n\n100\n00:05:20.977 --> 00:05:23.176\nofficially if you read the documentation.\n\n101\n00:05:23.176 --> 00:05:26.022\nThe hub site where we would get that\ninformation from, the readable,\n\n102\n00:05:26.022 --> 00:05:28.070\nwriteable copy of the domain controller.\n\n103\n00:05:28.070 --> 00:05:32.160\nWe go request it the first time cuz even\nthough we're allowed to cash it, we don't\n\n104\n00:05:32.160 --> 00:05:36.040\nhave access to it until we request it\nthe first time, and we bring it down.\n\n105\n00:05:36.040 --> 00:05:40.400\nSo the password replication policy then\nsays, this user account you're requesting.\n\n106\n00:05:40.400 --> 00:05:43.740\nYeah, you can keep a copy of that and\ninstead of just us authenticating and\n\n107\n00:05:43.740 --> 00:05:45.800\ntelling you it's okay,\nwe're gonna authenticate and\n\n108\n00:05:45.800 --> 00:05:49.140\nsend you the information so\nyou can do it on your own the next time.\n\n109\n00:05:49.140 --> 00:05:52.310\nSo I understand why we call it\na password replication policy, but\n\n110\n00:05:52.310 --> 00:05:53.920\nin my mind I've always\nthought it would just be so\n\n111\n00:05:53.920 --> 00:05:58.090\nmuch easier if we just called it configure\nuser credential caching or something.\n\n112\n00:05:58.090 --> 00:06:01.550\nSo people knew exactly what it was,\ncuz when I talk to people about password\n\n113\n00:06:01.550 --> 00:06:05.340\nreplication, and the fact that that's how\nwe actually drive caching on renal and\n\n114\n00:06:05.340 --> 00:06:08.600\ndomain controllers, they scratch their\nhead and go, that's so not obvious,\n\n115\n00:06:08.600 --> 00:06:11.120\nwhy would you just not call it\nsomething that actually makes sense?\n\n116\n00:06:11.120 --> 00:06:12.350\nBecause I've been sitting in a meeting and\n\n117\n00:06:12.350 --> 00:06:14.230\nactually have a say in\nwhat it was to be called.\n\n118\n00:06:14.230 --> 00:06:17.260\nWhen they asks for votes,\nI was suspiciously when they absent.\n\n119\n00:06:17.260 --> 00:06:20.410\nSo I didn't get to say anything about it,\nand that's why it's not named that.\n\n120\n00:06:20.410 --> 00:06:23.640\nSo we do cache or can cache and\n\n121\n00:06:23.640 --> 00:06:27.200\nit's important also to understand that\nwe don't just cache user credentials.\n\n122\n00:06:27.200 --> 00:06:30.270\nBut if we only cache user credentials,\nwe're missing half of the puzzle.\n\n123\n00:06:30.270 --> 00:06:31.910\nWe have to cache both user and\n\n124\n00:06:31.910 --> 00:06:34.780\ncomputer credentials because\nwe have to authenticate both\n\n125\n00:06:34.780 --> 00:06:37.970\nwith the read only domain controller to\nauthenticate the user and allow them in.\n\n126\n00:06:37.970 --> 00:06:40.120\nAnd if we only have one and\nnot the other, guess what?\n\n127\n00:06:40.120 --> 00:06:42.120\nWe're still talking to that\nother domain controller and\n\n128\n00:06:42.120 --> 00:06:45.410\nhaving to do this round trip every time\ncuz we can't authenticate the user without\n\n129\n00:06:45.410 --> 00:06:48.740\nthe computer account as part of what\nthe user is authenticating with.\n\n130\n00:06:48.740 --> 00:06:51.500\nSo we actually can specify both user and\n\n131\n00:06:51.500 --> 00:06:54.770\ncomputer accounts and\nhave both actually cache.\n\n132\n00:06:54.770 --> 00:06:58.260\nSo we can specify in cache\nthe credential's security information\n\n133\n00:06:58.260 --> 00:06:59.710\nspecific to both.\n\n134\n00:06:59.710 --> 00:07:02.900\nSo we're gonna be doing that,\nwe'll take a look at that.\n\n135\n00:07:02.900 --> 00:07:07.680\nThe outcome of this becomes obviously that\nif we know is compromised, somebody steals\n\n136\n00:07:07.680 --> 00:07:12.220\nit, whatever the case maybe, hacks\nwhatever we do or whatever can be done\n\n137\n00:07:12.220 --> 00:07:16.000\nare that only the credentials that have\nbeen cached locally have to be reset.\n\n138\n00:07:16.000 --> 00:07:20.382\nWe have to worry about managing and\nadministering them in the domain control\n\n139\n00:07:20.382 --> 00:07:23.570\nreadable, writeable to essentially\nprevent them from being compromised,\n\n140\n00:07:23.570 --> 00:07:28.190\nwhich immediately go and disable those\naccounts, reset their passwords, re-enable\n\n141\n00:07:28.190 --> 00:07:32.380\nthem, forcing anybody who might have been\nusing them to be walked out as a result.\n\n142\n00:07:32.380 --> 00:07:35.882\nAnd we should look to do that and\nhave a standing policy to do that.\n\n143\n00:07:35.882 --> 00:07:38.046\nBut we're gonna have to do\nthat across the entire domain.\n\n144\n00:07:38.046 --> 00:07:41.739\nWe're have to do that for the very small\nsubset, if we're smart, of credentials\n\n145\n00:07:41.739 --> 00:07:44.914\nthat have been cache as a result of\nthis password replication policy.\n\n146\n00:07:44.914 --> 00:07:48.782\nSo it is important to think about and\nto really understand the way\n\n147\n00:07:48.782 --> 00:07:52.940\nwe deploy this skill and this\ncapability to minimize our exposure and\n\n148\n00:07:52.940 --> 00:07:57.905\nmaximize our ability to Offset the lag in\ntime it takes to do this authentication.\n\n149\n00:07:57.905 --> 00:07:59.478\nSpeed it up by managing it locally but\n\n150\n00:07:59.478 --> 00:08:01.820\nto only expose certain\nuser accounts as a result.\n\n151\n00:08:01.820 --> 00:08:03.440\nYes, Cherokee, you wanted to ask.\n\n152\n00:08:03.440 --> 00:08:04.464\n&gt;&gt; That's right.\nSo Adam,\n\n153\n00:08:04.464 --> 00:08:09.710\nwe look at the increased security by\nutilizing read-only domain controllers.\n\n154\n00:08:09.710 --> 00:08:14.280\nBut what are we giving up or is there\nsomething that we need to consider,\n\n155\n00:08:14.280 --> 00:08:18.130\nas far as limitations,\nwhen using read-only domain controllers?\n\n156\n00:08:18.130 --> 00:08:19.310\n&gt;&gt; Well there are some limitations.\n\n157\n00:08:19.310 --> 00:08:21.570\nWe'll get to those and\nlet's talk about those in a second.\n\n158\n00:08:21.570 --> 00:08:24.877\nI did reference or wanna make sure we\nreference, that I said at the beginning.\n\n159\n00:08:24.877 --> 00:08:26.650\nHey, we're not gonna\ntalk about the install.\n\n160\n00:08:26.650 --> 00:08:27.570\nWe've already done this.\n\n161\n00:08:27.570 --> 00:08:31.090\nBut there's one aspect of install I wanna\nbring back up by way of talking about this\n\n162\n00:08:31.090 --> 00:08:31.760\nsetup.\n\n163\n00:08:31.760 --> 00:08:34.230\nAnd so during the installation\nof read-only domain controller,\n\n164\n00:08:34.230 --> 00:08:37.350\nwe actually have an option in the GUI if\nwe do this through the active directory\n\n165\n00:08:37.350 --> 00:08:38.460\nconfiguration.\n\n166\n00:08:38.460 --> 00:08:40.244\nA wizard through the server manager.\n\n167\n00:08:40.244 --> 00:08:42.733\nWe could do this from\nthe PowerShell as well.\n\n168\n00:08:42.733 --> 00:08:47.058\nWe can specify the installation of\na configuration of a read-only domain\n\n169\n00:08:47.058 --> 00:08:50.282\ncontroller by doing install\nADDS domain controller.\n\n170\n00:08:50.282 --> 00:08:53.870\nAnd then using a parameter for\nread-only, the RODC parameter.\n\n171\n00:08:53.870 --> 00:08:55.702\nWe can specify the same thing.\n\n172\n00:08:55.702 --> 00:08:59.472\nWe actually have the right to delegate\nadministrative responsibility for\n\n173\n00:08:59.472 --> 00:09:01.340\nthe read-only domain controller.\n\n174\n00:09:01.340 --> 00:09:04.760\nThe equivalent of a local admin group\nexists on the read-only domain controller\n\n175\n00:09:04.760 --> 00:09:08.920\nthat gives use the right to specify\nthat we put a user or group of users in.\n\n176\n00:09:08.920 --> 00:09:12.230\nAnd say they will have rights\nto administer the RODC, so\n\n177\n00:09:12.230 --> 00:09:13.420\nthey can maintain it.\n\n178\n00:09:13.420 --> 00:09:15.420\nBut they're not gonna\nhave domain admin rights.\n\n179\n00:09:15.420 --> 00:09:18.610\nNot the same kinda rights you would\nhave on a full domain controller.\n\n180\n00:09:18.610 --> 00:09:20.986\nThey essentially are just\ngiven local admin rights,\n\n181\n00:09:20.986 --> 00:09:22.843\neven though this is a domain controller.\n\n182\n00:09:22.843 --> 00:09:25.991\nWe normally say there's no local\ncapabilities on a domain controller,\n\n183\n00:09:25.991 --> 00:09:26.875\ncuz there aren't.\n\n184\n00:09:26.875 --> 00:09:28.490\nIt's all domain based.\n\n185\n00:09:28.490 --> 00:09:31.850\nBut the reality is,\nin this case since it's read-only,\n\n186\n00:09:31.850 --> 00:09:34.720\nit's more like a normal machine\nthan a domain controller.\n\n187\n00:09:34.720 --> 00:09:37.000\nAnd we actually have this\nadministrative capability.\n\n188\n00:09:37.000 --> 00:09:39.843\nSo we do have the option during\nthe install to specify that and\n\n189\n00:09:39.843 --> 00:09:41.903\nwe could say,\nas a point of contact on site,\n\n190\n00:09:41.903 --> 00:09:45.442\nyour is gonna be the point of\ncontact who administers the machine.\n\n191\n00:09:45.442 --> 00:09:48.536\nLet's delegate the responsibility\nbeing group and\n\n192\n00:09:48.536 --> 00:09:51.837\nmake sure has rights to go to the box,\nlog in and interact with it,\n\n193\n00:09:51.837 --> 00:09:54.203\nmaybe do patch management,\nthings of that nature.\n\n194\n00:09:54.203 --> 00:09:56.852\nThey may have to be done\nlocally at point of contact so\n\n195\n00:09:56.852 --> 00:09:59.936\nwe actually can delegate\nadministrative responsibility.\n\n196\n00:09:59.936 --> 00:10:03.688\nBut it's not the same as giving that user\nwhat would normally be domain admin rights\n\n197\n00:10:03.688 --> 00:10:07.353\nby making them a member of the group that\ncan administer the domain controllers.\n\n198\n00:10:07.353 --> 00:10:09.450\nThat are full-fledged domain controllers.\n\n199\n00:10:09.450 --> 00:10:10.660\nVery important distinction.\n\n200\n00:10:10.660 --> 00:10:11.970\nWe wanna make sure we're aware of.\n\n201\n00:10:11.970 --> 00:10:13.290\nSo you mentioned limitations, right?\n\n202\n00:10:13.290 --> 00:10:14.870\nThere certainly are some.\n\n203\n00:10:14.870 --> 00:10:18.590\nI do have a long module list\nof these in the show notes.\n\n204\n00:10:18.590 --> 00:10:21.750\nI'm probably not gonna hit all of them\noff the top of my head but two or three.\n\n205\n00:10:21.750 --> 00:10:24.286\nWe can’t hold FSMO roles on\na read-only domain controller.\n\n206\n00:10:24.286 --> 00:10:26.162\n&gt;&gt; Okay.\n&gt;&gt; Thought that the importance of FSMO\n\n207\n00:10:26.162 --> 00:10:27.770\nroles and why they're necessary.\n\n208\n00:10:27.770 --> 00:10:31.314\nWe're barred from putting a FSMO role\non a read-only domain controller, so\n\n209\n00:10:31.314 --> 00:10:32.605\njust one of the key things.\n\n210\n00:10:32.605 --> 00:10:36.410\nRead-only domain controllers cannot be\nbridge head servers for replication,\n\n211\n00:10:36.410 --> 00:10:38.170\nfor inter-site replication.\n\n212\n00:10:38.170 --> 00:10:41.890\nWe've talked extensively about\nreplication in some prior episodes and\n\n213\n00:10:41.890 --> 00:10:44.480\nthe designation of what\nthe bridge head server means that\n\n214\n00:10:44.480 --> 00:10:47.950\nhow it is part of the inter-site\nreplication process.\n\n215\n00:10:47.950 --> 00:10:49.720\nSo just some key things there.\n\n216\n00:10:52.720 --> 00:10:53.830\nWhat's another one?\n\n217\n00:10:53.830 --> 00:10:57.610\nWe should have only one\nRODC per site per domain.\n\n218\n00:10:57.610 --> 00:10:58.780\nThat's a recommendation.\n\n219\n00:10:58.780 --> 00:11:01.846\nSo it'll be kinda the limitation, although\nI don't know that you would consider that\n\n220\n00:11:01.846 --> 00:11:03.220\nin limitation, quote unquote.\n\n221\n00:11:03.220 --> 00:11:05.160\nBut it is an important thought process.\n\n222\n00:11:05.160 --> 00:11:08.800\nMeaning, we're not gonna liberally\nsprinkle these things all over the place\n\n223\n00:11:08.800 --> 00:11:10.640\nand have 20 read-only domain controllers.\n\n224\n00:11:10.640 --> 00:11:13.611\nWe have to think about the logic\nof that and understand that.\n\n225\n00:11:13.611 --> 00:11:18.275\nOne per site per domain, meaning we really\nhave to think logically about where we're\n\n226\n00:11:18.275 --> 00:11:20.090\ngonna place these things.\n\n227\n00:11:20.090 --> 00:11:23.230\nThe reason for this, and\nthis is not a hard rule.\n\n228\n00:11:23.230 --> 00:11:25.998\nWe consider a limitation for\nthe following reason.\n\n229\n00:11:25.998 --> 00:11:29.160\nYou could have multiple\nRODCs per site per domain.\n\n230\n00:11:29.160 --> 00:11:32.600\nThe problem is, we may have\ninconsistency because of caching.\n\n231\n00:11:32.600 --> 00:11:36.475\nBecause when they specify that certain\naccounts are cached on one RODC but\n\n232\n00:11:36.475 --> 00:11:40.411\nthey may not be cached on another because\nyou may be using different RODCs in\n\n233\n00:11:40.411 --> 00:11:44.430\ndifferent domains for different\nsites to represent different users.\n\n234\n00:11:44.430 --> 00:11:47.700\nAnd if we don't specify,\ncache is consistent across all of them.\n\n235\n00:11:47.700 --> 00:11:50.580\nThe user may hit a different domain\ncontroller during log on and\n\n236\n00:11:50.580 --> 00:11:51.784\nhave different results.\n\n237\n00:11:51.784 --> 00:11:54.986\nAnd so that can lead to complications,\nconcerns and\n\n238\n00:11:54.986 --> 00:11:58.715\neven potentially some issues\nthat can lead to corruption.\n\n239\n00:11:58.715 --> 00:12:00.360\nSo, that is a problem.\n\n240\n00:12:00.360 --> 00:12:04.960\nIt's not a huge issue and you can kinda\nbypass that if you plan accordingly, but\n\n241\n00:12:04.960 --> 00:12:06.300\nit is, in theory, a limitation.\n\n242\n00:12:06.300 --> 00:12:07.620\nRight, so some of the ones to think of.\n\n243\n00:12:07.620 --> 00:12:09.230\nAs I said,\nI'm probably not gonna hit all of them.\n\n244\n00:12:09.230 --> 00:12:12.185\nThere's a list of about I think seven or\neight that I put in there.\n\n245\n00:12:12.185 --> 00:12:15.383\nOne of things that you can do,\nand not only as a limitation but\n\n246\n00:12:15.383 --> 00:12:18.729\nrather more as a hey, by the way,\nyou could do this with RODCs.\n\n247\n00:12:18.729 --> 00:12:21.640\nYou could actually use RODCs\nto install the DNS server.\n\n248\n00:12:21.640 --> 00:12:23.658\nSo like a normal domain controller,\n\n249\n00:12:23.658 --> 00:12:27.935\nthey can host DNS which does\nobviously make this important.\n\n250\n00:12:27.935 --> 00:12:31.621\nBecause it does allow us to have the DNS\nor reference the DNS information\n\n251\n00:12:31.621 --> 00:12:35.556\non that read-only domain controller in\nthat site so that we can validate and\n\n252\n00:12:35.556 --> 00:12:37.965\nof course do resolution for\nresources there.\n\n253\n00:12:37.965 --> 00:12:42.055\nSo that actually is important,\nso just something to consider.\n\n254\n00:12:42.055 --> 00:12:44.843\nSo we do have some, I guess,\nlittle pros and cons.\n\n255\n00:12:44.843 --> 00:12:47.918\nYou wanna think about it that way in\nregards to how we would do this, so\n\n256\n00:12:47.918 --> 00:12:48.947\nthinking about that.\n\n257\n00:12:48.947 --> 00:12:52.141\nAll right, so let's go in and\nlet's do the following.\n\n258\n00:12:52.141 --> 00:12:54.640\nLet's actually go in and\ntake a look at how we set this up.\n\n259\n00:12:54.640 --> 00:12:57.595\nWe're giving you roughly about 10\nto 15 minutes of background and\n\n260\n00:12:57.595 --> 00:13:00.196\nI wanna do about the same on the demo and\nkind of walk through and\n\n261\n00:13:00.196 --> 00:13:02.520\ngive you a really good\nthorough understanding above.\n\n262\n00:13:02.520 --> 00:13:04.044\nSo join me here if you will.\n\n263\n00:13:04.044 --> 00:13:07.947\nWe are on our read-only, or rather we\nhave our read-only domain controller.\n\n264\n00:13:07.947 --> 00:13:11.362\nI've highlighted it to administrator,\nbut I'm on my normal domain controller.\n\n265\n00:13:11.362 --> 00:13:13.681\nMy DC01 machine.\n\n266\n00:13:13.681 --> 00:13:16.675\nI've opened up the active directory\nuser and computer manager, so\n\n267\n00:13:16.675 --> 00:13:20.316\nI'm in from server manager, went in,\nwent to the tools menu, opened this tool.\n\n268\n00:13:20.316 --> 00:13:21.931\nI have it up and running here.\n\n269\n00:13:21.931 --> 00:13:22.970\nYou can see me highlighting it.\n\n270\n00:13:24.100 --> 00:13:26.483\nWhat I've done is gone to\nthe domain controller, so\n\n271\n00:13:26.483 --> 00:13:30.110\nyou just to highlight the fact that\nI have a read-only domain controller.\n\n272\n00:13:30.110 --> 00:13:33.753\nYou could see it there, it's specified as\nboth read-only and global catalogs, so\n\n273\n00:13:33.753 --> 00:13:36.535\nyou could see that it is indeed\na read-only domain controller.\n\n274\n00:13:36.535 --> 00:13:40.567\nNow, what I've done is I've gone ahead and\njust created a group that I'm gonna use to\n\n275\n00:13:40.567 --> 00:13:43.094\nspecify the credentials that\nI wanna set up in cache.\n\n276\n00:13:43.094 --> 00:13:43.906\nWe're talking about that.\n\n277\n00:13:43.906 --> 00:13:48.788\nI've done that in America OU, the several\nU operations I've just gone in, created\n\n278\n00:13:48.788 --> 00:13:53.627\na VPN user's group just before we started,\njust so we had a group to work with.\n\n279\n00:13:53.627 --> 00:13:55.047\nAnd I put a couple of users and\n\n280\n00:13:55.047 --> 00:13:59.007\na computer account in the VPN user's\ngroup to show you what they are.\n\n281\n00:13:59.007 --> 00:14:00.517\nGo here, go to Properties real quick.\n\n282\n00:14:02.367 --> 00:14:06.017\nAnd under Members, went in,\nadded Emily Hayes,\n\n283\n00:14:06.017 --> 00:14:09.947\nJohn Summers, and\nthe Windows 10 demo machine that I have.\n\n284\n00:14:09.947 --> 00:14:12.660\nSo I added both computer accounts and\nuser accounts in here.\n\n285\n00:14:12.660 --> 00:14:16.220\nSpecified a couple just to use for\ndemonstration purposes.\n\n286\n00:14:16.220 --> 00:14:19.252\nWe made this a global\ngroup as you can see.\n\n287\n00:14:19.252 --> 00:14:21.902\nSecurity group so\nwe just know what it is in the domain.\n\n288\n00:14:21.902 --> 00:14:25.611\nIf you don't remember the distinction\nbetween security and distribution, domain,\n\n289\n00:14:25.611 --> 00:14:27.345\nlocal, global, and universal.\n\n290\n00:14:27.345 --> 00:14:28.925\nBoy, have we got an episode for you.\n\n291\n00:14:28.925 --> 00:14:30.155\nGo back and take a look.\n\n292\n00:14:30.155 --> 00:14:32.845\nCherokee and I walked through\nthat whole thought process.\n\n293\n00:14:32.845 --> 00:14:37.235\nI did what I think is a pretty reasonable\njob at explaining the differences there.\n\n294\n00:14:37.235 --> 00:14:40.405\nMake sure we called out all the things\nwe have to be worried about.\n\n295\n00:14:40.405 --> 00:14:44.005\nThe different types of groups, their\nscope in terms of what their coverage is.\n\n296\n00:14:44.005 --> 00:14:45.820\nAnd how they operate and\nhow they interact.\n\n297\n00:14:45.820 --> 00:14:49.000\nVery important information for\nexam preparation purposes.\n\n298\n00:14:49.000 --> 00:14:53.140\nEncourage you to go back and take a look\nat that just to make sure you're clear.\n\n299\n00:14:53.140 --> 00:14:57.340\nAll right, or\nas Jack Nicholson said in A Few Good Men.\n\n300\n00:14:57.340 --> 00:14:58.380\nAre we clear?\n\n301\n00:14:58.380 --> 00:14:59.350\nAre we crystal?\n\n302\n00:14:59.350 --> 00:15:01.070\nOr what is, Tim Cruise, Tom Cruise.\n\n303\n00:15:01.070 --> 00:15:02.024\nTim Cruise, Tom Cruise.\n\n304\n00:15:02.024 --> 00:15:05.070\nTom Cruise says, yes we're crystal.\n\n305\n00:15:05.070 --> 00:15:05.880\nCrystal clear.\n\n306\n00:15:05.880 --> 00:15:06.863\n&gt;&gt; Clear as mud.\n&gt;&gt; Is what you have to be.\n\n307\n00:15:06.863 --> 00:15:09.482\nAll right, so 01.\n\n308\n00:15:09.482 --> 00:15:12.948\nWe're gonna highlight our\ndomain controller object.\n\n309\n00:15:12.948 --> 00:15:15.093\nWe're gonna right click,\ngo to Properties and\n\n310\n00:15:15.093 --> 00:15:18.804\nthis is where we're gonna be able to see\nthe tab for Password Replication Policy.\n\n311\n00:15:18.804 --> 00:15:21.400\nIt's kinda hiding there and\npeople don't even realize it's there and\n\n312\n00:15:21.400 --> 00:15:23.748\nmay not have even realize it's\nthere when you've looked at it.\n\n313\n00:15:23.748 --> 00:15:25.910\nAnd now we're gonna go and take a look.\n\n314\n00:15:25.910 --> 00:15:30.140\nSo we're gonna right click and\nwe go to Properties.\n\n315\n00:15:30.140 --> 00:15:36.500\nAnd, right over there, up at the top,\nPassword Replication Policy.\n\n316\n00:15:36.500 --> 00:15:40.996\nAnd we see, that we do have, since this\nis a read-only domain controller and\n\n317\n00:15:40.996 --> 00:15:43.641\nRODC storage users and computer passwords.\n\n318\n00:15:43.641 --> 00:15:46.634\nAccording to the policy below,\nwe'll get into this in a minute.\n\n319\n00:15:46.634 --> 00:15:49.752\nOnly passwords for\naccounts that are in the Allow group.\n\n320\n00:15:49.752 --> 00:15:51.640\nSo we have two groups, Allow and Deny, and\n\n321\n00:15:51.640 --> 00:15:54.326\nI'm gonna show you these groups\nbefore we actually do this.\n\n322\n00:15:54.326 --> 00:15:56.648\nCan be replicated to the RODC.\n\n323\n00:15:56.648 --> 00:16:01.620\nSo before we get into this, right, before\nwe get into this, just cancel out of here.\n\n324\n00:16:01.620 --> 00:16:06.090\nLet's come over here, let's go back to\nthe users container for just a moment.\n\n325\n00:16:06.090 --> 00:16:08.740\nNotice I said container and not OU.\n\n326\n00:16:08.740 --> 00:16:11.200\nAnd I'm gonna let Cherokee\nanswer the question.\n\n327\n00:16:11.200 --> 00:16:12.200\nwhich is the following.\n\n328\n00:16:12.200 --> 00:16:14.270\nWhy do we distinguish between OU's and\ncontainers?\n\n329\n00:16:14.270 --> 00:16:15.680\nWe talked about this as well and\n\n330\n00:16:15.680 --> 00:16:18.938\nwhy did I say containers instead of\nOU's when I talk about the users?\n\n331\n00:16:18.938 --> 00:16:21.717\n&gt;&gt; Because we cannot apply\npolicy to a container, but\n\n332\n00:16:21.717 --> 00:16:23.663\nyou can to an organisational unit.\n\n333\n00:16:23.663 --> 00:16:24.883\n&gt;&gt; That is just\n&gt;&gt; [LAUGH]\n\n334\n00:16:24.883 --> 00:16:27.113\n&gt;&gt; Outstanding!\n\n335\n00:16:27.113 --> 00:16:28.980\n&gt;&gt; I love presenting with this woman.\n\n336\n00:16:28.980 --> 00:16:31.550\nShe is always so spot on with information.\n\n337\n00:16:31.550 --> 00:16:32.240\n&gt;&gt; Not always.\n\n338\n00:16:32.240 --> 00:16:32.805\n[LAUGH]\n&gt;&gt; No.\n\n339\n00:16:32.805 --> 00:16:34.940\nI'm giving you the benefit\nof doubt always.\n\n340\n00:16:34.940 --> 00:16:35.915\nOn camera, anyway.\n\n341\n00:16:35.915 --> 00:16:37.235\n&gt;&gt; [LAUGH]\n&gt;&gt; After we get done editing,\n\n342\n00:16:37.235 --> 00:16:39.002\nshe is always spot on with information.\n\n343\n00:16:39.002 --> 00:16:40.340\nAll right but that is absolutely correct.\n\n344\n00:16:40.340 --> 00:16:43.190\nWe also talked about that, by the way,\nin the same episode where we talked about\n\n345\n00:16:43.190 --> 00:16:46.990\ngroups and made the distinction\nbetween OU's and container objects,\n\n346\n00:16:46.990 --> 00:16:49.870\nbecause we often misrepresent them and\ndon't really speak about them in the right\n\n347\n00:16:49.870 --> 00:16:53.540\nway with the right understanding,\nas Cherokee just reminded us of.\n\n348\n00:16:53.540 --> 00:16:58.200\nWhich is that containers are not the same\nthing as OUs containers cannot have\n\n349\n00:16:58.200 --> 00:17:02.640\npolicies applied to them and by the way\nwe cannot right click on a container and\n\n350\n00:17:02.640 --> 00:17:05.700\ncreate an OU within it because we\ncan't apply the policies to it.\n\n351\n00:17:05.700 --> 00:17:09.880\nBut within an OU we can apply policies one\nof the four levels we apply group policies\n\n352\n00:17:09.880 --> 00:17:14.181\nat and we can certainly create or\nnest an OU inside of another OU.\n\n353\n00:17:14.181 --> 00:17:17.011\nSo it's just important for\nus to remind ourselves about that.\n\n354\n00:17:17.011 --> 00:17:21.002\nSo in the users container I have\ntwo groups that are of interest\n\n355\n00:17:21.002 --> 00:17:25.402\nto us here allowed RODC passport\nreplication group, right there.\n\n356\n00:17:26.500 --> 00:17:32.216\nIt is a security group as you can see,\nif I can jut finish pulling that accross,\n\n357\n00:17:32.216 --> 00:17:36.907\nthat is domain local, it's scope,\nyou can see it right there.\n\n358\n00:17:36.907 --> 00:17:42.550\nAnd I have the denied read-only password\nreplication group right below it.\n\n359\n00:17:42.550 --> 00:17:44.860\nAgain, security group domain local.\n\n360\n00:17:44.860 --> 00:17:47.970\nSo these are specific to the domain,\nright, and\n\n361\n00:17:47.970 --> 00:17:51.700\neach domain has this set\nof groups created with it.\n\n362\n00:17:51.700 --> 00:17:55.910\nAnd we use those to drive the password\nreplication policy for RODC and\n\n363\n00:17:55.910 --> 00:17:58.060\nspecific only to RODCs.\n\n364\n00:17:58.060 --> 00:17:59.240\nBut those are there.\n\n365\n00:17:59.240 --> 00:18:01.310\nYou have to take notice of them and\nbe aware of them.\n\n366\n00:18:01.310 --> 00:18:03.710\nNow if we go to the plaid\nBC 1 to make a chart,\n\n367\n00:18:03.710 --> 00:18:09.100\nthe one that's not read only,\nright click, go to properties here.\n\n368\n00:18:09.100 --> 00:18:11.890\nNotice we don't have the password\nreplication policy tab.\n\n369\n00:18:11.890 --> 00:18:14.723\nWhich is why you may have never seen\nit and actually even be aware of it,\n\n370\n00:18:14.723 --> 00:18:18.051\nbecause if we don't deal with the read\nonly domain controllers you don't see it.\n\n371\n00:18:18.051 --> 00:18:21.214\nBecause it's only available on\na Read-only to domain controller, so\n\n372\n00:18:21.214 --> 00:18:22.267\none of the reasons why,\n\n373\n00:18:22.267 --> 00:18:24.340\nof course it does cuz I said it does,\n&gt;&gt; [LAUGH]\n\n374\n00:18:24.340 --> 00:18:26.260\n&gt;&gt; One of the many reasons why\n\n375\n00:18:26.260 --> 00:18:31.260\nwe need to make sure we're able to go in\nand we're able to understand and know that\n\n376\n00:18:31.260 --> 00:18:33.970\nwe have to have a read-only to domain\ncontroller to activate this function and\n\n377\n00:18:33.970 --> 00:18:37.000\naccess them and use the groups,\nthat are there whether or\n\n378\n00:18:37.000 --> 00:18:39.190\nnot we have read-only domain controllers\n&gt;&gt; But\n\n379\n00:18:39.190 --> 00:18:42.350\nto leverage them to apply this policy,\nwhich we're gonna do right now.\n\n380\n00:18:42.350 --> 00:18:47.310\nSo let's go back to the PLAB SA01 machine,\na domain control that is read only.\n\n381\n00:18:47.310 --> 00:18:49.290\nRight click.\nWe'll go back to our properties.\n\n382\n00:18:50.480 --> 00:18:52.270\nGo to our replication policy tab.\n\n383\n00:18:53.700 --> 00:18:57.623\nAnd we do now have a listing, but\nwhat we have to do is we have to go in and\n\n384\n00:18:57.623 --> 00:19:00.400\nadd this group,\nthe VPN group that we created and\n\n385\n00:19:00.400 --> 00:19:02.933\nspecify we wanna allow those credentials.\n\n386\n00:19:02.933 --> 00:19:04.949\nAnd notice, by the way, if we take a look,\n\n387\n00:19:04.949 --> 00:19:08.714\nfor some of the groups that are here\naccount operators, right setting denied.\n\n388\n00:19:08.714 --> 00:19:11.850\nWe're not gonna be able to\ncache those credentials.\n\n389\n00:19:11.850 --> 00:19:14.400\nAdministrators, denied.\n\n390\n00:19:14.400 --> 00:19:17.840\nAllowed RODC pastor replication group,\nallowed.\n\n391\n00:19:17.840 --> 00:19:19.680\nBackup operators, denied.\n\n392\n00:19:19.680 --> 00:19:21.834\nRODC pastor replication group and\nserver operators.\n\n393\n00:19:21.834 --> 00:19:24.148\nWe have some that are pre-populated,\nthat are already set,\n\n394\n00:19:24.148 --> 00:19:25.670\nat least the majority of them, anyway.\n\n395\n00:19:25.670 --> 00:19:29.274\nOut of the six that are there, five of\nthem set to deny by default, right?\n\n396\n00:19:29.274 --> 00:19:32.400\nI haven't done anything, this is\njust how it happens out of the box.\n\n397\n00:19:32.400 --> 00:19:35.290\nInstall the RODC and\nspin it up and go in and\n\n398\n00:19:35.290 --> 00:19:37.890\nlook you're gonna see the same\nexact thing on your machine,\n\n399\n00:19:37.890 --> 00:19:41.250\nidentical because that's how\nthe default configuration is set up.\n\n400\n00:19:41.250 --> 00:19:44.450\nOne group and one group only that\nallows everything else would just\n\n401\n00:19:44.450 --> 00:19:49.020\nspecifically deny so that we do not put\nthose there and and they are denied.\n\n402\n00:19:49.020 --> 00:19:50.528\nOkay, so we're gonna go in and\n\n403\n00:19:50.528 --> 00:19:53.491\nwe're gonna set an additional\ngroup up that we wanna allow.\n\n404\n00:19:53.491 --> 00:19:57.317\nSo we're gonna click here and\nwe're gonna specify are we gonna allow or\n\n405\n00:19:57.317 --> 00:20:00.098\nare we gonna deny,\nthose are my two options.\n\n406\n00:20:00.098 --> 00:20:02.730\nAm I gonna leverage the ability\nthat I want to put them there or\n\n407\n00:20:02.730 --> 00:20:06.070\nspecifically bar them from being placed,\nwe want to allow them.\n\n408\n00:20:06.070 --> 00:20:08.330\nSo we're gonna go in and\nwe're gonna specify.\n\n409\n00:20:08.330 --> 00:20:12.310\nLet me scroll down so that I make\nsure I grab the right information.\n\n410\n00:20:12.310 --> 00:20:14.300\nVPN users just remember what the group is.\n\n411\n00:20:14.300 --> 00:20:17.120\nAllow passwords and we're gonna click OK.\n\n412\n00:20:18.250 --> 00:20:24.180\nGet a little pick list provider here, so\nVPN users, right, just specify the name,\n\n413\n00:20:24.180 --> 00:20:27.070\nobviously typing it,\nspelling it correctly would be important.\n\n414\n00:20:27.070 --> 00:20:28.790\nClick OK just so we can grab it.\n\n415\n00:20:30.100 --> 00:20:31.540\nAnd then we're adding it in.\n\n416\n00:20:31.540 --> 00:20:35.970\nAnd notice at the bottom here, set to\nallow, right, if I sort by allow or deny,\n\n417\n00:20:35.970 --> 00:20:38.320\njust bring it up there so\nyou could see it easily.\n\n418\n00:20:38.320 --> 00:20:41.880\nSet to allow, right, so now that we've\ndone that, we're actually setting it.\n\n419\n00:20:41.880 --> 00:20:45.573\nAnd now that we've done this,\nwhat we're gonna be able to do is,\n\n420\n00:20:45.573 --> 00:20:47.550\nwe'll click OK here of course.\n\n421\n00:20:47.550 --> 00:20:49.470\nSo let met just click ok.\n\n422\n00:20:49.470 --> 00:20:52.820\nSo we've specified that and\nwe have set that up and ready to go.\n\n423\n00:20:52.820 --> 00:20:53.804\nBut we're not done yet.\n\n424\n00:20:53.804 --> 00:20:58.467\nWhat we're gonna do now is go in and\nwe're take a look at pre-populated, right,\n\n425\n00:20:58.467 --> 00:20:59.238\npasswords.\n\n426\n00:20:59.238 --> 00:21:02.510\nSo we're gonna go back to that exact same\narea, but instead of just clicking okay\n\n427\n00:21:02.510 --> 00:21:05.440\nand using just the add, we're gonna use\nthat advanced button that was sitting down\n\n428\n00:21:05.440 --> 00:21:07.760\nthere on the left, and\ntake a look at one other item.\n\n429\n00:21:07.760 --> 00:21:10.055\nSo, let's go back in.\n\n430\n00:21:10.055 --> 00:21:12.220\nLet's go to properties.\n\n431\n00:21:12.220 --> 00:21:14.970\nGo back here, password replication policy.\n\n432\n00:21:14.970 --> 00:21:16.830\nSo that's all good,\nwe can see our settings,\n\n433\n00:21:16.830 --> 00:21:19.270\nwe do know that we do have VPN users.\n\n434\n00:21:19.270 --> 00:21:20.550\nLet's go to advanced over here.\n\n435\n00:21:22.650 --> 00:21:25.090\nNow, advanced password replication policy,\n\n436\n00:21:25.090 --> 00:21:28.567\nlet me just kind of move this off jut\na little bit so that we can see it,\n\n437\n00:21:28.567 --> 00:21:31.690\nwe have policy usage and\nwe have pre-populated passwords.\n\n438\n00:21:31.690 --> 00:21:33.510\nWe're gonna take a look\nat this in just a second.\n\n439\n00:21:33.510 --> 00:21:36.900\nAll right, so what we're gonna do here\nis we're gonna come and we're gonna take\n\n440\n00:21:36.900 --> 00:21:41.130\na look at what we can do with populating\nor pre-populating of the passwords.\n\n441\n00:21:41.130 --> 00:21:43.230\nLet's click pre-populate password.\n\n442\n00:21:45.340 --> 00:21:48.096\nAnd we're gonna get a little pick list,\nand I'm gonna look for\n\n443\n00:21:48.096 --> 00:21:50.720\njust a specific user or\nusers that I wanna type in there.\n\n444\n00:21:50.720 --> 00:21:54.010\nGive me a second just to look up the names\nbecause I don't remember all three,\n\n445\n00:21:54.010 --> 00:21:55.120\nit was Emily, John, and yeah okay.\n\n446\n00:21:55.120 --> 00:21:56.770\nSo let me just make sure I\nhave the spelling correctly.\n\n447\n00:21:56.770 --> 00:22:01.790\nAll right so we're gonna put in the user\naccounts that we wanna have the passwords\n\n448\n00:22:01.790 --> 00:22:03.970\nand make sure that we\nare populating them for.\n\n449\n00:22:03.970 --> 00:22:09.400\nSo let's do Emily Hays,\nit was John Summers,\n\n450\n00:22:09.400 --> 00:22:12.590\nand we'll also grab our computer\naccount for that Windows 10 machine, so\n\n451\n00:22:12.590 --> 00:22:16.770\nwe'll do plab win 10 which was that,\n\n452\n00:22:16.770 --> 00:22:20.770\nI'm separating these with a semicolon so\nI can put in multiple objects as long as I\n\n453\n00:22:20.770 --> 00:22:24.250\nseparate them accordingly, that way\nthe system can pick up all of them.\n\n454\n00:22:24.250 --> 00:22:27.590\nNow notice, by the way here,\nselect objects of this type, users or\n\n455\n00:22:27.590 --> 00:22:31.710\ncomputers, so the fact that I'm\nputting a computer account in means it\n\n456\n00:22:31.710 --> 00:22:34.030\nwill be recognized automatically.\n\n457\n00:22:34.030 --> 00:22:37.969\nI've talked about in some other cases the\nfact that normally when we go to do this,\n\n458\n00:22:37.969 --> 00:22:40.194\nin the normal dialogue box for\nthis pick list,\n\n459\n00:22:40.194 --> 00:22:42.839\nthat computer accounts will\nnormally be deselected.\n\n460\n00:22:42.839 --> 00:22:46.724\nWe don't normally, in other words, use\nthose objects out of the box we'd have to\n\n461\n00:22:46.724 --> 00:22:50.214\ngo and select computers to get it to\nrecognize that or it would not know what\n\n462\n00:22:50.214 --> 00:22:54.043\nthe computer account is here, because\nremember, I talked about the fact that we\n\n463\n00:22:54.043 --> 00:22:56.960\nshould normally cash both user and\ncomputer accounts.\n\n464\n00:22:56.960 --> 00:23:00.247\nThat's what we need to do to really be\nable to authenticate both that we expect\n\n465\n00:23:00.247 --> 00:23:03.040\nthat you would put computers in and\nthat's the default setting.\n\n466\n00:23:03.040 --> 00:23:06.218\nSo it's just nice to kind of\nsee that logic being applied.\n\n467\n00:23:06.218 --> 00:23:07.290\nLet's check names.\n\n468\n00:23:07.290 --> 00:23:09.137\nThey should all come up and they do.\n\n469\n00:23:09.137 --> 00:23:10.600\nOkay, so that's good.\n\n470\n00:23:10.600 --> 00:23:11.170\nClick okay.\n\n471\n00:23:11.170 --> 00:23:15.580\nNow, let's move this over so\nwe can see what this dialogue window is.\n\n472\n00:23:15.580 --> 00:23:16.620\nCould we actually just go full screen.\n\n473\n00:23:16.620 --> 00:23:18.720\nWe wanna be able to see what some\nof the verbiage here, right.\n\n474\n00:23:18.720 --> 00:23:20.180\nSo, pre-populated passwords.\n\n475\n00:23:20.180 --> 00:23:23.090\nIf you wish to send\nthe current passwords for\n\n476\n00:23:23.090 --> 00:23:25.660\nthese accounts to the read\nonly domain controller now.\n\n477\n00:23:25.660 --> 00:23:29.080\nIn other words, pre-populating is hey,\nI don't wait for\n\n478\n00:23:29.080 --> 00:23:33.720\nthe first time this user goes to make a\nrequest to log in to authenticate to go up\n\n479\n00:23:33.720 --> 00:23:37.360\nto the domain control where I get it,\ndo that and bring it back down.\n\n480\n00:23:37.360 --> 00:23:39.880\nI want them here now so\nthat they're ready to go so that,\n\n481\n00:23:39.880 --> 00:23:43.510\nwhen they do show up the first time, I'm\nalready able to authenticate them locally.\n\n482\n00:23:43.510 --> 00:23:45.920\nI don't have to go through\nthe extra process.\n\n483\n00:23:45.920 --> 00:23:47.761\nI wanna get it out of the way now, right?\n\n484\n00:23:47.761 --> 00:23:52.720\nSo this is instant gratification, in other\nwords, as opposed to delaying the process.\n\n485\n00:23:52.720 --> 00:23:54.331\nSo we can cheat a little bit and\n\n486\n00:23:54.331 --> 00:23:57.299\njust Pretend like we've\nalready made the requests and\n\n487\n00:23:57.299 --> 00:24:00.890\nask them to ship those passwords\ndown to us now if we prepopulate.\n\n488\n00:24:00.890 --> 00:24:01.640\nIs there,\n\n489\n00:24:01.640 --> 00:24:05.880\nare there compelling reasons why we should\ndo this from a business perspective?\n\n490\n00:24:05.880 --> 00:24:07.100\nDoes it make sense?\n\n491\n00:24:07.100 --> 00:24:07.910\nIt's up to you.\n\n492\n00:24:07.910 --> 00:24:11.505\nIt's not like this is gonna matter\nultimately in the grand scheme of things,\n\n493\n00:24:11.505 --> 00:24:14.736\nas long as the users are in a group\nthat are set to allow for the policy.\n\n494\n00:24:14.736 --> 00:24:18.970\nThe VPN users group is what these members\nare apart of and we are allowing them.\n\n495\n00:24:18.970 --> 00:24:20.170\nThis will work either way,\n\n496\n00:24:20.170 --> 00:24:23.353\nit's just that it will take a little\nbit longer the first time these users\n\n497\n00:24:23.353 --> 00:24:26.870\ngo to authenticate against the read-only\ndomain controller for it to happen.\n\n498\n00:24:26.870 --> 00:24:31.200\nIf we pre-populate, they'll authenticate\nthe first time a little bit quicker.\n\n499\n00:24:31.200 --> 00:24:33.659\nAfter that, their credentials are cached-\n&gt;&gt; [CROSSTALK], yeah.\n\n500\n00:24:33.659 --> 00:24:34.980\n&gt;&gt; Doesn't really matter.\n\n501\n00:24:34.980 --> 00:24:39.720\nBut, in a situation where we're\nreally concerned about bandwidth, and\n\n502\n00:24:39.720 --> 00:24:43.410\nconcerned about the availability of those\ndomain controllers to pull the credentials\n\n503\n00:24:43.410 --> 00:24:47.090\nin from, it may be a good idea to\nprepopulate them and have them available.\n\n504\n00:24:47.090 --> 00:24:48.130\nAnd for bulk loading,\n\n505\n00:24:48.130 --> 00:24:52.300\na bunch of users initially,\nprepopulation speeds up that process.\n\n506\n00:24:52.300 --> 00:24:56.160\nIf we only have one or two, probably\nnot a big deal either way, up to us.\n\n507\n00:24:56.160 --> 00:25:00.404\nBut we can prepopulate, so\njust keep that in mind.\n\n508\n00:25:00.404 --> 00:25:04.610\nAnd we do get warned,\nbut I've told you this.\n\n509\n00:25:04.610 --> 00:25:07.638\nSays warning, if you're prepopulating\npasswords have user accounts.\n\n510\n00:25:07.638 --> 00:25:11.515\nBe sure to prepopulate passwords of\ncomputer accounts that these users\n\n511\n00:25:11.515 --> 00:25:12.558\nare using as well.\n\n512\n00:25:12.558 --> 00:25:15.073\nBecause of you don't have both,\nremember I said,\n\n513\n00:25:15.073 --> 00:25:17.470\nthe user's not gonna be\nable to authenticate and\n\n514\n00:25:17.470 --> 00:25:21.160\nlog in properly because we have to\ncheck both, not just the user, right?\n\n515\n00:25:21.160 --> 00:25:22.180\nSo just keep that in mind.\n\n516\n00:25:22.180 --> 00:25:28.080\nThat's why specifically said and went\nout of my way to ensure we talked about\n\n517\n00:25:28.080 --> 00:25:30.770\nthe use of both computer and\nuser accounts.\n\n518\n00:25:30.770 --> 00:25:34.730\nAnd I included both a user and\na computer account here to show us that.\n\n519\n00:25:34.730 --> 00:25:36.203\nSo we're gonna say yes here.\n\n520\n00:25:36.203 --> 00:25:37.680\nWe're gonna prepopulated.\n\n521\n00:25:37.680 --> 00:25:41.690\nPasswords for all accounts were\nsuccessfully prepopulated, awesome.\n\n522\n00:25:41.690 --> 00:25:44.170\nOkay, processes really quickly,\nholds them in.\n\n523\n00:25:44.170 --> 00:25:47.298\nNow they're on the list here,\nso now they're all available.\n\n524\n00:25:47.298 --> 00:25:51.204\nIf we wanna export this list by the way\nfor documentation purposes, auto purposes,\n\n525\n00:25:51.204 --> 00:25:52.640\ngreat, we can do that.\n\n526\n00:25:52.640 --> 00:25:54.565\nLittle export function right here.\n\n527\n00:25:56.345 --> 00:26:01.645\nCreated as CSV file, real straightforward,\njust drop that on the desktop and\n\n528\n00:26:01.645 --> 00:26:06.910\nuse something like, RODC Power, or\nwhatever you want to call it, boom.\n\n529\n00:26:06.910 --> 00:26:08.320\nWe actually have a copy of that.\n\n530\n00:26:08.320 --> 00:26:10.353\nAnd we now, can just include\nthat when we have an audit.\n\n531\n00:26:10.353 --> 00:26:12.930\nOur documentation is up to date,\neverything is good.\n\n532\n00:26:12.930 --> 00:26:14.290\nSo we have all that.\n\n533\n00:26:14.290 --> 00:26:17.110\nAnd now, let's just go ahead,\nlet's just close.\n\n534\n00:26:17.110 --> 00:26:19.580\n&gt;&gt; And that will help with\nresetting those passwords.\n\n535\n00:26:19.580 --> 00:26:21.490\nSo you know which ones to go ahead and\nreset too.\n\n536\n00:26:21.490 --> 00:26:24.980\n&gt;&gt; The exact reason we wanna do that,\nabsolutely correct.\n\n537\n00:26:24.980 --> 00:26:27.150\nLike I said,\nyou're right on top of this stuff.\n\n538\n00:26:27.150 --> 00:26:29.202\nI don't even need that I can go sit down,\nI do not need to be here,\n\n539\n00:26:29.202 --> 00:26:29.936\nyou could do all this.\n\n540\n00:26:29.936 --> 00:26:31.046\n&gt;&gt; Don't go sit down.\n\n541\n00:26:31.046 --> 00:26:31.646\n[LAUGH]\n&gt;&gt; I can do all,\n\n542\n00:26:31.646 --> 00:26:34.900\nI can just sit over there, off in the\ncorner, you could do all this yourself,\n\n543\n00:26:34.900 --> 00:26:36.480\nyou know all this stuff.\n\n544\n00:26:36.480 --> 00:26:39.824\nAll right so, you seen how we\nset up the password policy or\n\n545\n00:26:39.824 --> 00:26:44.368\nthe replication policy for password\ncontrol freeload domain controllers.\n\n546\n00:26:44.368 --> 00:26:46.191\nWe've talked about the importance of it,\n\n547\n00:26:46.191 --> 00:26:48.225\nkind of framed the contextual\nlogic behind it.\n\n548\n00:26:48.225 --> 00:26:51.533\nWe've showed to how to use a group that\nwe create to just corral, constrain, and\n\n549\n00:26:51.533 --> 00:26:52.470\ncontrol those users.\n\n550\n00:26:52.470 --> 00:26:54.006\nMakes it a little bit\neasier to keep track of.\n\n551\n00:26:54.006 --> 00:26:55.430\nWe've talked about the settings,\n\n552\n00:26:55.430 --> 00:26:58.610\nI've shown you how to prepopulate,\nwhy we prepopulate?\n\n553\n00:26:58.610 --> 00:27:02.590\nShow me the outcome of that and there\nwe are, all said and done, ready to go.\n\n554\n00:27:02.590 --> 00:27:04.590\n&gt;&gt; Pretty cool, thank you for\ntaking the time show us.\n\n555\n00:27:04.590 --> 00:27:06.660\nAnd thank you for\ntaking the time to be here with us.\n\n556\n00:27:06.660 --> 00:27:09.030\nBut we do have more\ninformation headed your way.\n\n557\n00:27:09.030 --> 00:27:10.910\nWe'll go ahead and sign out for this show.\n\n558\n00:27:10.910 --> 00:27:12.520\nI've been you host, Cherokee Boose.\n\n559\n00:27:12.520 --> 00:27:13.430\n&gt;&gt; I'm Adam Gordon.\n\n560\n00:27:13.430 --> 00:27:15.594\n&gt;&gt; See you next time here at ITProTV.\n\n561\n00:27:15.594 --> 00:27:22.800\n[MUSIC]\n\n562\n00:27:22.800 --> 00:27:25.896\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "229704155"
        }
      ],
      "title": "Securing Active Directory Domain Services"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam introduce Active Directory Certificate Services. They begin defining components that make up a Public Key Infrastructure (PKI) to prepare you for the subsequent shows.",
          "length": "1579",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-1-deploying_and_managing_ad_cs-082917.00_26_02_29.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-1-deploying_and_managing_ad_cs-082917.00_26_02_29.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-1-deploying_and_managing_ad_cs-082917.00_26_02_29.Still002-sm.jpg",
          "title": "Deploying and Managing AD CS",
          "transcript": "WEBVTT\n\n1\n00:00:00.310 --> 00:00:01.773\nWelcome to ITProTV, I'm your host.\n\n2\n00:00:01.773 --> 00:00:06.317\n[CROSSTALK]\n\n3\n00:00:06.317 --> 00:00:08.258\n[MUSIC]\n\n4\n00:00:08.258 --> 00:00:11.981\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.981 --> 00:00:15.582\n&gt;&gt; Welcome to Identity with Windows\nServers 2016 series, I'm your show host,\n\n6\n00:00:15.582 --> 00:00:16.370\nCherokee Boose.\n\n7\n00:00:17.780 --> 00:00:22.680\nIn this episode, we'll be taking a look\nat deploying and managing with ADCS,\n\n8\n00:00:22.680 --> 00:00:24.500\nand they did not say ADDS.\n\n9\n00:00:24.500 --> 00:00:29.180\nThat's simply because we'll be looking at\nactive directory certificate services.\n\n10\n00:00:29.180 --> 00:00:30.770\nAnd with us today, we have Mr.\n\n11\n00:00:30.770 --> 00:00:33.360\nAdam Gordon to help cover this topic,\nhow's it going today, Adam?\n\n12\n00:00:33.360 --> 00:00:36.621\n&gt;&gt; Going well, going well, hopefully\neverybody is doing well also, you and\n\n13\n00:00:36.621 --> 00:00:38.863\nof course everybody who is\npaying attention to us.\n\n14\n00:00:38.863 --> 00:00:43.169\nWith ADCS, as you were so adamant about,\nand not ADDS, I was ready for you to say\n\n15\n00:00:43.169 --> 00:00:47.693\nactive directory certificate service and\nnot active directory domain services.\n\n16\n00:00:47.693 --> 00:00:50.698\nAnd see if you tripped over it, but\nyou did a great job, that was awesome.\n\n17\n00:00:50.698 --> 00:00:54.049\nSo we are gonna continue talking\nabout services, overall, around\n\n18\n00:00:54.049 --> 00:00:58.237\nthe Active Directory, but as Cherokee\nindicated, we're gonna switch our focus.\n\n19\n00:00:58.237 --> 00:01:02.021\nWe've been talking about ADDS in\nmany of our episodes prior to this,\n\n20\n00:01:02.021 --> 00:01:05.610\nwe talked about policy based\nmanagement in prior conversation,\n\n21\n00:01:05.610 --> 00:01:07.570\nwe talked about securing ADDS.\n\n22\n00:01:07.570 --> 00:01:12.150\nWe're gonna change our focus now to ADCS,\ncertificate services, for a bit.\n\n23\n00:01:12.150 --> 00:01:17.450\nLater on we'll talk about FS, Federation\nServices, RMS rights, management services.\n\n24\n00:01:17.450 --> 00:01:19.534\nGot a lot of other areas\nof equal interest and\n\n25\n00:01:19.534 --> 00:01:22.772\nimportance we're gonna engage topics and\nconversations around.\n\n26\n00:01:22.772 --> 00:01:26.512\nWe're gonna start with\ncertificate services, overall,\n\n27\n00:01:26.512 --> 00:01:30.709\ncertificate services, in our minds,\nwhen you think about that.\n\n28\n00:01:30.709 --> 00:01:35.010\nI think about, I'm sure most of you do,\nthe idea of generically what's called PKI,\n\n29\n00:01:35.010 --> 00:01:36.523\npublic key infrastructure.\n\n30\n00:01:36.523 --> 00:01:38.197\nAn acronym we hear quite a bit about,\n\n31\n00:01:38.197 --> 00:01:41.923\nespecially with regards to the language\nwe are approaching digital management of\n\n32\n00:01:41.923 --> 00:01:45.990\nidentity which is what certificate\nservices helps us to understand how to do.\n\n33\n00:01:45.990 --> 00:01:48.720\nWe are hopefully thinking about\nsome of the building blocks and\n\n34\n00:01:48.720 --> 00:01:52.060\ncomponents of a PKI infrastructure.\n\n35\n00:01:52.060 --> 00:01:54.448\nThings like certificate authorities,\n\n36\n00:01:54.448 --> 00:01:58.947\nthat are commonly called CAs, we have\nboth enterprise and standalone CAs.\n\n37\n00:01:58.947 --> 00:02:02.706\nSo we have the ability to join\na certificate authority to our directory\n\n38\n00:02:02.706 --> 00:02:05.715\nservice, in which case we'd\ncall it an enterprise CA.\n\n39\n00:02:05.715 --> 00:02:09.205\nIf we have a standalone CA,\nit sits outside the directory service,\n\n40\n00:02:09.205 --> 00:02:12.222\nnot connected to it,\nnot leveraging the LDAP directory.\n\n41\n00:02:12.222 --> 00:02:14.634\nThe user accounts, and computer accounts,\n\n42\n00:02:14.634 --> 00:02:18.962\nThe information found there to validate\nand formally manage those identities.\n\n43\n00:02:18.962 --> 00:02:22.838\nAnd then within the enterprise or\nstandalone designation,\n\n44\n00:02:22.838 --> 00:02:27.474\nwe then have the ability to say we\nhave from a hierarchical perspective,\n\n45\n00:02:27.474 --> 00:02:32.414\na setup or specification realm where\nthe CA sits in relation to others above,\n\n46\n00:02:32.414 --> 00:02:33.784\nbelow and around it.\n\n47\n00:02:33.784 --> 00:02:37.100\nWe have what are known as enterprise or\nstandalone route CAs,\n\n48\n00:02:37.100 --> 00:02:39.090\nthat sit on the top of our hierarchy.\n\n49\n00:02:39.090 --> 00:02:41.620\nWe'll explain what they do and\nhow they work in just a moment,\n\n50\n00:02:41.620 --> 00:02:44.600\ngot a great little picture that we'll\nput up to talk about this with.\n\n51\n00:02:44.600 --> 00:02:48.350\nWe may have what are known sometimes\nreferred to as intermediate CAs, but\n\n52\n00:02:48.350 --> 00:02:53.010\nmore often than not, referred to as\nsubordinate CAs generically as a category.\n\n53\n00:02:53.010 --> 00:02:57.707\nBut intermediate and/or issuing CAs\nare terms you sometimes hear around that\n\n54\n00:02:57.707 --> 00:02:58.640\ndesignation.\n\n55\n00:02:58.640 --> 00:03:02.280\nYou'll see those on the graphic we're\ngonna use with you here in just a minute.\n\n56\n00:03:02.280 --> 00:03:05.550\nBut we lump those together generically,\nas subordinate CAs.\n\n57\n00:03:05.550 --> 00:03:07.747\nWhen we just talk about the hierarchy,\n\n58\n00:03:07.747 --> 00:03:10.621\na subordinate CA is a CA\nthat sits below the root CA.\n\n59\n00:03:10.621 --> 00:03:15.055\nAnd performs a very similar function,\nbut does so in, more often than not,\n\n60\n00:03:15.055 --> 00:03:19.027\ndirect contact with users or\ncomputers requesting certificates.\n\n61\n00:03:19.027 --> 00:03:22.753\nAs opposed to cutting out and\nnot speaking directly to them, but\n\n62\n00:03:22.753 --> 00:03:26.557\nbuffering those conversations,\nwhich is what the root CA does.\n\n63\n00:03:26.557 --> 00:03:31.468\nAnd uses in traditional hierarchies\nin PKI the intermediate or\n\n64\n00:03:31.468 --> 00:03:36.110\nthe issuing CAs to do that on\nits behalf by extending trust.\n\n65\n00:03:36.110 --> 00:03:39.930\nAnd we'll talk about what that concept\nis and why that is important as well.\n\n66\n00:03:39.930 --> 00:03:44.882\nBut we do also see the opportunity to do\nwhat's called flattening that hierarchy.\n\n67\n00:03:44.882 --> 00:03:49.592\nHaving a single root CA that issues\ncertificates, regardless of whether users,\n\n68\n00:03:49.592 --> 00:03:51.910\ncomputers, or others are asking.\n\n69\n00:03:51.910 --> 00:03:53.400\nNo intermediate, no issuing,\n\n70\n00:03:53.400 --> 00:03:57.840\nno subordinate CAs of any kind,\nnot the standard way we often will deploy.\n\n71\n00:03:57.840 --> 00:04:02.610\nNot the best practice way we recommend\nyou deploy your PKI installation.\n\n72\n00:04:02.610 --> 00:04:06.620\nBut is, in many cases, especially in\nsmall and medium sized businesses,\n\n73\n00:04:06.620 --> 00:04:09.630\nthe way that we often see it done,\njust because of expediency.\n\n74\n00:04:09.630 --> 00:04:11.050\nSo we'll at least talk about it and\n\n75\n00:04:11.050 --> 00:04:13.510\nacknowledge the fact that\nthat may exist as well.\n\n76\n00:04:13.510 --> 00:04:17.960\nSo we have different components, all PKI\nrelated, in terms of the role services and\n\n77\n00:04:17.960 --> 00:04:21.060\nthe effort as a result of what\ngoes into setting that up.\n\n78\n00:04:21.060 --> 00:04:23.581\nWe're gonna talk about, and\nwe have talked about the CA,\n\n79\n00:04:23.581 --> 00:04:25.335\nwe'll talk about the different roles.\n\n80\n00:04:25.335 --> 00:04:26.524\nAnd if you join me here,\n\n81\n00:04:26.524 --> 00:04:30.104\nwe'll take a quick look at the picture\nthat helps us to represent that.\n\n82\n00:04:30.104 --> 00:04:31.646\nWe can credit,\nI don't know who can credit for this,\n\n83\n00:04:31.646 --> 00:04:32.862\nit wasn't you who created this, per se.\n\n84\n00:04:32.862 --> 00:04:35.661\n&gt;&gt; I don't remember if I created\nthis one or not [CROSSTALK]\n\n85\n00:04:35.661 --> 00:04:37.601\n&gt;&gt; One of the hosts here at ITProTV did,\n\n86\n00:04:37.601 --> 00:04:40.793\nso whoever, we just wanna thank\ngenerically anybody who may\n\n87\n00:04:40.793 --> 00:04:43.370\nhave been involved with\ncreating this diagram.\n\n88\n00:04:43.370 --> 00:04:46.530\nBut you can see it's a very generic\ndiagram, nothing too involved, but\n\n89\n00:04:46.530 --> 00:04:48.140\nit does really put across very easily,\n\n90\n00:04:48.140 --> 00:04:52.050\nvery succinctly, the ideas behind what\nthe certificate authorities represent.\n\n91\n00:04:52.050 --> 00:04:56.770\nWe can see at the top of the hierarchy up\nhere our root level CA, let's ignore for\n\n92\n00:04:56.770 --> 00:04:58.470\nthe minute it's labeled offline or online.\n\n93\n00:04:58.470 --> 00:05:01.730\nLet's just focus on the designation, talk\nabout that, and then we'll come back and\n\n94\n00:05:01.730 --> 00:05:05.420\ntalk about that idea, and\nwhy offline may be very important for us.\n\n95\n00:05:05.420 --> 00:05:09.040\nSo a root CA sits at\nthe top of the hierarchy,\n\n96\n00:05:09.040 --> 00:05:14.190\nit is the first certificate authority that\nis installed into the PKI infrastructure.\n\n97\n00:05:14.190 --> 00:05:17.231\nIt has, as a result of that,\nthe designation of being\n\n98\n00:05:17.231 --> 00:05:21.097\nthe primary certificate authority\nthat will issue certificates.\n\n99\n00:05:21.097 --> 00:05:24.559\nAnd as I said, if we simply\nflatten that topology and say,\n\n100\n00:05:24.559 --> 00:05:28.304\npretend for a minute there's\nnothing below that CA, it can and\n\n101\n00:05:28.304 --> 00:05:33.550\nindeed does issue certificates on its own\nbehalf, and issue certificates to anybody.\n\n102\n00:05:33.550 --> 00:05:37.520\nThese objects down here, the users,\nas we can see down here, or\n\n103\n00:05:37.520 --> 00:05:42.430\ncomputers that may be represented as\nobjects that are requesting certificates.\n\n104\n00:05:42.430 --> 00:05:45.534\nIf we roll those right up to\nthe root CA at the very top, and\n\n105\n00:05:45.534 --> 00:05:49.107\nhave the root CA talk to those objects,\nthey will make requests.\n\n106\n00:05:49.107 --> 00:05:53.701\nThe root CA will validate those requests\nagainst a, if it is an enterprise\n\n107\n00:05:53.701 --> 00:05:57.627\njoined CA, so it is a CA that is\njoined to the Active Directory,\n\n108\n00:05:57.627 --> 00:06:01.722\nit will validate those requests\nagainst the directory service.\n\n109\n00:06:01.722 --> 00:06:05.914\nIf it is a standalone CA,\nit will then have to [COUGH] excuse me,\n\n110\n00:06:05.914 --> 00:06:08.830\nhave those requests, whatever they are.\n\n111\n00:06:08.830 --> 00:06:11.841\nThe certificate request from\nthe user versus the computer,\n\n112\n00:06:11.841 --> 00:06:14.260\nat the end of the day,\nwinds up in the same place,\n\n113\n00:06:14.260 --> 00:06:18.670\nwe do have credentials that are provided,\nunique identities that are proffered.\n\n114\n00:06:18.670 --> 00:06:22.740\nWe have to validate those in some way to\nprove that the credential is valid before\n\n115\n00:06:22.740 --> 00:06:24.060\nwe issue the certificate.\n\n116\n00:06:24.060 --> 00:06:25.342\nIf it's a standalone CA,\n\n117\n00:06:25.342 --> 00:06:28.738\nthose certificates are not issued\nimmediately and automatically.\n\n118\n00:06:28.738 --> 00:06:33.530\nBut rather, usually the certificate\nmanager, whoever's in charge of that PKI,\n\n119\n00:06:33.530 --> 00:06:37.295\nwill have to come along and\nengage in a manual process in some way,\n\n120\n00:06:37.295 --> 00:06:41.812\noutside of the actual request and outside\nof the offering of the certificate,\n\n121\n00:06:41.812 --> 00:06:43.690\nas a separate standalone step.\n\n122\n00:06:43.690 --> 00:06:46.139\nAnd validate those credentials,\nwhatever they may be,\n\n123\n00:06:46.139 --> 00:06:48.980\ncuz we don't have a directory\nservice to validate against.\n\n124\n00:06:48.980 --> 00:06:52.075\nSo the manager will come along,\nlook at those credentials, and\n\n125\n00:06:52.075 --> 00:06:55.740\nthen make a decision, and say yes or\nno and issue the certificate or not.\n\n126\n00:06:55.740 --> 00:07:00.040\nSo we don't see automatic certificate\nrequests, or rather, automatic certificate\n\n127\n00:07:00.040 --> 00:07:03.420\napproval and issuance, when we have\na standalone CA, traditionally.\n\n128\n00:07:03.420 --> 00:07:07.510\nWe see that with the enterprise CAs,\nwhich are joined to a directory service.\n\n129\n00:07:07.510 --> 00:07:10.082\nSo the root CA can do that, but typically,\n\n130\n00:07:10.082 --> 00:07:12.732\nthe root CA sets up like this,\nwhere we see.\n\n131\n00:07:12.732 --> 00:07:16.426\nAnd again, let's just group together for\na minute intermediate and issuing CAs,\n\n132\n00:07:16.426 --> 00:07:19.399\nand generically say they're all\nreferred to as subordinate CAs.\n\n133\n00:07:19.399 --> 00:07:21.985\nThey live below in the hierarchy,\nthe root CA, and\n\n134\n00:07:21.985 --> 00:07:24.900\nwe can see that represented\nby the diagram here.\n\n135\n00:07:24.900 --> 00:07:28.270\nAnd whether we have intermediate and\nthen issuing, or we just get rid of\n\n136\n00:07:28.270 --> 00:07:32.389\nintermediate and say we just have issuing\nbelow the root, it doesn't really matter.\n\n137\n00:07:32.389 --> 00:07:37.372\nWhat happens is, the root CA issues\na certificate to every subordinate CA that\n\n138\n00:07:37.372 --> 00:07:41.687\nexists below it in the hierarchy,\nextending the root CA's trust.\n\n139\n00:07:41.687 --> 00:07:46.538\nAnd the root CA's ability to specify\nthat certificates can be issued in its\n\n140\n00:07:46.538 --> 00:07:48.545\nname to one of those machines.\n\n141\n00:07:48.545 --> 00:07:53.510\nAnd we can see that flowing down, based on\nthe arrow unidirectionally pointing down,\n\n142\n00:07:53.510 --> 00:07:56.706\nallowing us to see the relationship\nbetween the root and\n\n143\n00:07:56.706 --> 00:07:59.574\nany of the subordinate CAs\nflow from the top down.\n\n144\n00:07:59.574 --> 00:08:03.417\nAnd the idea is that if the root CA\nissues a certificate to a subordinate CA,\n\n145\n00:08:03.417 --> 00:08:07.382\nit gives the subordinate CA the right\nto issue certificates on it's behalf,\n\n146\n00:08:07.382 --> 00:08:08.650\nin it's name.\n\n147\n00:08:08.650 --> 00:08:13.855\nAs a result of having that certificate,\nthe root CA trusts the subordinate CA.\n\n148\n00:08:13.855 --> 00:08:17.125\nAnd the subordinate CA is\ntrusted by the root CA.\n\n149\n00:08:17.125 --> 00:08:21.115\nVery important to specify that\ndesignation in that language\n\n150\n00:08:21.115 --> 00:08:24.015\nto indicate the one way flow\nof trust from top to bottom.\n\n151\n00:08:24.015 --> 00:08:25.603\nJust wanna make sure we're aware of that.\n\n152\n00:08:25.603 --> 00:08:31.500\nAnd then as we continue down, if in\nour example, we have intermediate CAs.\n\n153\n00:08:31.500 --> 00:08:35.772\nWhich are used to issue\ncertificates on behalf of the root\n\n154\n00:08:35.772 --> 00:08:38.180\nto issuing CAs down below them.\n\n155\n00:08:38.180 --> 00:08:42.457\nThen the issuing CA is receiving a\ncertificate from the intermediate CA which\n\n156\n00:08:42.457 --> 00:08:46.690\nreceived its original certificate and\nthe right to issue from the root CA.\n\n157\n00:08:46.690 --> 00:08:49.780\nKind of in a multi step\nhierarchy as we go down.\n\n158\n00:08:49.780 --> 00:08:51.000\nAnd as a result,\n\n159\n00:08:51.000 --> 00:08:55.340\nthe issuing CA is the CA because of\nthe designation of being online.\n\n160\n00:08:55.340 --> 00:08:58.989\nNow, we wanna take on this idea of\nonline offline and what it represents.\n\n161\n00:08:58.989 --> 00:09:03.728\nWhen the issuing CA is specified as\nbeing online, where we see the user or\n\n162\n00:09:03.728 --> 00:09:08.714\nthe computer object showing up and\ninteracting and having a conversation.\n\n163\n00:09:08.714 --> 00:09:11.352\nAnd we actually should\nrealistically probably made these\n\n164\n00:09:11.352 --> 00:09:14.149\narrows bidirectional just to show\nthe user makes a request and\n\n165\n00:09:14.149 --> 00:09:17.671\nthen the request is brought back to\nthe user in form of issuing a certificate.\n\n166\n00:09:17.671 --> 00:09:20.902\nBut that's not really what this\ndiagram is meant to represent.\n\n167\n00:09:20.902 --> 00:09:24.380\nIt's really just meant to represent\nthe flow of information and\n\n168\n00:09:24.380 --> 00:09:28.600\nthe flow of trust down from the root\ninto the user object or computer object,\n\n169\n00:09:28.600 --> 00:09:30.840\nultimately after certificates are issued.\n\n170\n00:09:30.840 --> 00:09:34.870\nSo it's perfectly legitimate to see\nthe diagram showing up this way.\n\n171\n00:09:34.870 --> 00:09:37.970\nBut if we were seeing the communication\npathway and the flow back and\n\n172\n00:09:37.970 --> 00:09:40.610\nforth then this arrow\nwould be by directional.\n\n173\n00:09:40.610 --> 00:09:44.180\nIndicating a two way communication\nbetween the issuing CA and the object.\n\n174\n00:09:44.180 --> 00:09:45.610\nBut easy enough for\n\n175\n00:09:45.610 --> 00:09:48.790\nus to talk about that without having\nto worry modifying the diagram.\n\n176\n00:09:48.790 --> 00:09:52.540\nSo, the issuing CA, because it is online,\n\n177\n00:09:52.540 --> 00:09:56.480\nallows us to be able to issue\na certificate but to an object,\n\n178\n00:09:56.480 --> 00:09:59.190\nin this case,\ninstead of another certificate authority.\n\n179\n00:09:59.190 --> 00:10:03.110\nAnd the reason it is online\nis that it is the only CA.\n\n180\n00:10:03.110 --> 00:10:05.690\nNotice the other two\nare designated as offline.\n\n181\n00:10:05.690 --> 00:10:10.172\nIt is the only CA that is enabled to\nissue certificates directly to users or\n\n182\n00:10:10.172 --> 00:10:14.024\ncomputers on behalf of the members\nhigher up in the hierarchy.\n\n183\n00:10:14.024 --> 00:10:17.559\nIn other words, the root CA, the\nintermediate CA both designated offline\n\n184\n00:10:17.559 --> 00:10:19.869\nare not open for business,\nso to speak, right.\n\n185\n00:10:19.869 --> 00:10:22.030\nThey will not talk or interact with or\n\n186\n00:10:22.030 --> 00:10:26.090\nin any way acknowledge requests\ncoming from users or computers.\n\n187\n00:10:26.090 --> 00:10:29.565\nIf the user or computer were to try and\nmake a request up here, or\n\n188\n00:10:29.565 --> 00:10:32.055\nmake a request up here,\nthey would get no response.\n\n189\n00:10:32.055 --> 00:10:35.450\nThey would get an error saying that\ncertificate authority is unavailable,\n\n190\n00:10:35.450 --> 00:10:39.405\nbecause the CA is not accepting inbound\ncommunications, with one exception.\n\n191\n00:10:39.405 --> 00:10:40.195\nIt acknowledges, and\n\n192\n00:10:40.195 --> 00:10:45.245\naccepts inbound communications from\na CA lower in the hierarchy, or above it\n\n193\n00:10:45.245 --> 00:10:49.345\ndepending on the relationship, if there is\na reason administratively to communicate.\n\n194\n00:10:49.345 --> 00:10:53.120\nBut, issuing certificates,\nthat is only done by a CA that is online.\n\n195\n00:10:53.120 --> 00:10:56.040\nNow the online destination\nalso indicates one other thing\n\n196\n00:10:56.040 --> 00:10:57.590\nversus offline traditionally.\n\n197\n00:10:57.590 --> 00:11:02.670\nWe don't just leave the CA in place\nturned on but turn off the CA service.\n\n198\n00:11:02.670 --> 00:11:04.440\nIn theory we could do that, but\n\n199\n00:11:04.440 --> 00:11:07.340\nit's not really how we achieve\nan offline designation.\n\n200\n00:11:07.340 --> 00:11:11.202\nThe offline designation implies that\ncertificate authority's actually not\n\n201\n00:11:11.202 --> 00:11:13.900\npowered on and\nnot actually connected to the network.\n\n202\n00:11:13.900 --> 00:11:15.552\nSo it could be a communicator with,\n\n203\n00:11:15.552 --> 00:11:19.086\nit's normally actually taken down more\noften than not as stored securely.\n\n204\n00:11:19.086 --> 00:11:23.457\nMaybe in a vault or somewhere, in a\nprotected area where people are not likely\n\n205\n00:11:23.457 --> 00:11:26.499\nto get to it and steal it or\nin anyway interact with it.\n\n206\n00:11:26.499 --> 00:11:29.379\nBecause the ability to extend trust,\n\n207\n00:11:29.379 --> 00:11:34.419\nto be able to issue certificates on\nbehalf of one of those CAs, is so\n\n208\n00:11:34.419 --> 00:11:39.639\nvaluable to what we do in our PKI\ninfrastructure, that if anybody was\n\n209\n00:11:39.639 --> 00:11:45.562\nto compromise one of those offline CAs\nthey could issue fake certificates.\n\n210\n00:11:45.562 --> 00:11:48.892\nThey are real in a sense they are really\nlegitimately issued by the CA.\n\n211\n00:11:48.892 --> 00:11:50.382\n&gt;&gt; Illegitimate certificates.\n\n212\n00:11:50.382 --> 00:11:54.509\n&gt;&gt; Well they are legitimate in the sense\nthat they are traditionally and formally\n\n213\n00:11:54.509 --> 00:11:58.900\nissued according to the guidelines of the\ncertificate authority issued by the CA.\n\n214\n00:11:58.900 --> 00:12:01.640\nBut they're illegitimate in the sense\nthat they're being used for\n\n215\n00:12:01.640 --> 00:12:03.382\nsome sort of fraudulent purpose, right.\n\n216\n00:12:03.382 --> 00:12:07.599\nThey're being used to manipulate, modify,\nor gain control of permissions that\n\n217\n00:12:07.599 --> 00:12:11.037\nare associated with the certificates\nto get up to no good, right.\n\n218\n00:12:11.037 --> 00:12:15.914\nSo if that certificate is somehow spoofed\nor modified and issued incorrectly\n\n219\n00:12:15.914 --> 00:12:20.940\nwithout proper authority, that certificate\nissued let's say, from the root\n\n220\n00:12:20.940 --> 00:12:26.284\nperhaps an intermediate CA, would allow\na bad actor into the business themselves.\n\n221\n00:12:26.284 --> 00:12:30.091\nIssuing certificates in the directory and\nauthenticating users,\n\n222\n00:12:30.091 --> 00:12:33.095\non boarding computers,\njoining them to the domain,\n\n223\n00:12:33.095 --> 00:12:36.718\ngiving them rights to do right things and\nidentify themselves.\n\n224\n00:12:36.718 --> 00:12:39.421\nWhen in fact they're not being,\nin any way,\n\n225\n00:12:39.421 --> 00:12:43.060\nnormally vetted in through\nthe normal processes approved.\n\n226\n00:12:43.060 --> 00:12:46.020\nRight, and this would lead to all\nsorts of concerns and compromises and\n\n227\n00:12:46.020 --> 00:12:47.310\nbad things would happen.\n\n228\n00:12:47.310 --> 00:12:50.910\nSo it is very important for\nus to distinguish between off line and\n\n229\n00:12:50.910 --> 00:12:54.620\non line when we talk about PKI and\ntalk about certificate authorities.\n\n230\n00:12:54.620 --> 00:12:56.996\nBut it's important as\na overall thought process and\n\n231\n00:12:56.996 --> 00:12:59.435\nwe have to put it into\nthe context of everything else.\n\n232\n00:12:59.435 --> 00:13:00.670\nAnd so traditionally,\n\n233\n00:13:00.670 --> 00:13:04.016\nwe don't see root CAs issuing\ncertificates directly to users.\n\n234\n00:13:04.016 --> 00:13:09.480\nBut rather they issue them to subordinate\nCAs who then issue on their behalf.\n\n235\n00:13:09.480 --> 00:13:12.550\nThe root CA's taken down,\ntraditionally stored securely.\n\n236\n00:13:12.550 --> 00:13:16.250\nOnly brought back online when we\nhave to either give life to another\n\n237\n00:13:16.250 --> 00:13:20.380\nsubordinate CA, issue another sub\nCA certificate to authorize one.\n\n238\n00:13:20.380 --> 00:13:25.110\nOr during the validity period the\ncertificates typically are made good for\n\n239\n00:13:25.110 --> 00:13:26.690\nmaybe one year, or three years,\n\n240\n00:13:26.690 --> 00:13:29.860\nfive years for a CA traditionally\nin the subordinate role.\n\n241\n00:13:29.860 --> 00:13:33.318\nThe root CA typically will have its\ncertificates set up and issued and\n\n242\n00:13:33.318 --> 00:13:36.440\nself signed for maybe as long as 20 years,\nit really just depends,\n\n243\n00:13:36.440 --> 00:13:38.160\nyou can manipulate those values.\n\n244\n00:13:38.160 --> 00:13:43.220\nBut the traditional CA subordinate CA\nissuing intermediate CA certificate often\n\n245\n00:13:43.220 --> 00:13:46.890\nis made good for a period of maybe\nanywhere from one to five years.\n\n246\n00:13:46.890 --> 00:13:49.930\nAnd so those CAs will stay offline,\n\n247\n00:13:49.930 --> 00:13:54.240\nthe root CA, intermediate CAs typically\nstay offline the majority of that time.\n\n248\n00:13:54.240 --> 00:13:55.416\nAnd then the issuing CA,\n\n249\n00:13:55.416 --> 00:13:58.840\nwhen it's getting close to the end of\nit's life cycle has to be renewed.\n\n250\n00:13:58.840 --> 00:14:00.130\nWe'll see the root CA or\n\n251\n00:14:00.130 --> 00:14:04.520\nthe intermediate CA come back online\nissue an updated certificate to it,\n\n252\n00:14:04.520 --> 00:14:08.130\nextending its life cycle,\ngiving it another one, three, five years.\n\n253\n00:14:08.130 --> 00:14:10.220\nAnd then we take that off line again.\n\n254\n00:14:10.220 --> 00:14:14.010\nAnd as a result we can then issue\ncertificates for an ongoing period of time\n\n255\n00:14:14.010 --> 00:14:18.340\nthroughout that thought process and across\nthe environment that the PKI presents.\n\n256\n00:14:18.340 --> 00:14:22.310\nSo, just wanna make sure we're\nthinking about the moving parts here.\n\n257\n00:14:22.310 --> 00:14:24.660\nThe general pieces we have are CAs,\n\n258\n00:14:24.660 --> 00:14:27.990\nwe could do this through a web,\nenablement web enrollment.\n\n259\n00:14:27.990 --> 00:14:32.120\nInterfaced typically in most modern\nPKI infrastructures certainly in\n\n260\n00:14:32.120 --> 00:14:35.190\nmost modern Microsoft\nbased PKI in particular.\n\n261\n00:14:35.190 --> 00:14:38.670\nWe've had a web interface since\nWindows NT4, going all the way back\n\n262\n00:14:38.670 --> 00:14:43.560\nprior to Windows 2000, for certificate\nservices, it's looked very similar.\n\n263\n00:14:43.560 --> 00:14:46.490\nIt's always been the machine name\nforward slash cert serve, right.\n\n264\n00:14:46.490 --> 00:14:48.540\nSo that's been the URL to get to it.\n\n265\n00:14:48.540 --> 00:14:52.270\nCERTSRV and that's usually how we\nget to the webinar enrollment.\n\n266\n00:14:52.270 --> 00:14:55.100\nThe web enablement area,\nso we'd run a certificate\n\n267\n00:14:55.100 --> 00:14:57.840\nservice bound to a web\nservice in other words.\n\n268\n00:14:57.840 --> 00:15:01.370\nUsing IIS, the underlining web server\nin Windows, in Microsoft to do that.\n\n269\n00:15:01.370 --> 00:15:04.684\nAnd we have that capability, so\nwe can do web enrollment and\n\n270\n00:15:04.684 --> 00:15:06.419\nweb issuing of certificates.\n\n271\n00:15:06.419 --> 00:15:08.700\nWe can also enroll, these days,\n\n272\n00:15:08.700 --> 00:15:12.781\ndevices and users remotely\nfrom outside of the directory.\n\n273\n00:15:12.781 --> 00:15:16.070\nSo can we go back to the picture cuz\nwe actually wanna reference this.\n\n274\n00:15:16.070 --> 00:15:19.740\nI don't have it on the diagram but\nwe actually could in theory,\n\n275\n00:15:19.740 --> 00:15:23.130\nif we have lets say a security\nperimeter around this entire area and\n\n276\n00:15:23.130 --> 00:15:24.780\nlets say this was internal.\n\n277\n00:15:24.780 --> 00:15:28.510\nMaybe we have a firewall,\nlets just say hypothetically out here and\n\n278\n00:15:28.510 --> 00:15:31.050\nsome sort of DMZ and\nwe have the outside world.\n\n279\n00:15:31.050 --> 00:15:35.850\nIf we have these users from down here, and\nthese computers from outside coming in,\n\n280\n00:15:35.850 --> 00:15:39.960\nwe could remotely enroll those devices and\ngive them certificates to manage them.\n\n281\n00:15:39.960 --> 00:15:43.680\nAnd this is done with mobile\ndevice management software today.\n\n282\n00:15:43.680 --> 00:15:46.110\nAlso things like\nSystem Center Config Manager,\n\n283\n00:15:46.110 --> 00:15:49.890\nwhen we use the web enabled version of\nthat, with Intune through the cloud.\n\n284\n00:15:49.890 --> 00:15:52.750\nWe could do mobile device management and\nenroll devices.\n\n285\n00:15:52.750 --> 00:15:55.752\nWe could do the same thing with\nFCCM when we own it on prem.\n\n286\n00:15:55.752 --> 00:15:58.247\nSo we see certificates being issued and\nused through.\n\n287\n00:15:58.247 --> 00:16:01.561\nA variety of sources, both directly and\nthrough a web interface.\n\n288\n00:16:01.561 --> 00:16:05.244\nAnd we do web enrollment to be able\nto do this, so we can issue and\n\n289\n00:16:05.244 --> 00:16:07.480\nrenew certificates through the web.\n\n290\n00:16:07.480 --> 00:16:08.813\nSo it's another feature.\n\n291\n00:16:08.813 --> 00:16:11.030\nWe have what's known as online responders.\n\n292\n00:16:12.100 --> 00:16:16.070\nThese are used to be able to tell whether\nor not, or the service, as a component of\n\n293\n00:16:16.070 --> 00:16:19.930\nPKI, is used to determine for\nus whether or not a certificate is valid.\n\n294\n00:16:19.930 --> 00:16:21.870\nWe have what's known as a CRL.\n\n295\n00:16:21.870 --> 00:16:23.670\nA certificate revocation list.\n\n296\n00:16:23.670 --> 00:16:26.883\nAnd again, that's a function\nthat's been around forever in PKI.\n\n297\n00:16:26.883 --> 00:16:31.078\nIt used to be, and still is, potentially,\na manually published list that lists\n\n298\n00:16:31.078 --> 00:16:34.350\nliterally all the certificate\nidentities that have been, for\n\n299\n00:16:34.350 --> 00:16:36.340\nsome reason, rendered inoperable.\n\n300\n00:16:36.340 --> 00:16:39.580\nEither you forgot to pay your bill and\nthe vender yanked your certificate, or\n\n301\n00:16:39.580 --> 00:16:43.280\nyou did something bad and your certificate\nwas revoked, or the certificate expired,\n\n302\n00:16:43.280 --> 00:16:44.430\nit's no longer valid.\n\n303\n00:16:44.430 --> 00:16:47.683\nThere's all these reasons why certificates\nmay wind up on the CRL, but it's\n\n304\n00:16:47.683 --> 00:16:51.252\nthe naughty list, right, the list that\nsays your certificate's no longer valid.\n\n305\n00:16:51.252 --> 00:16:55.674\nAnd as a result, we publish that list and\nmake it available as a downloadable file,\n\n306\n00:16:55.674 --> 00:16:56.930\nhistorically.\n\n307\n00:16:56.930 --> 00:16:59.710\nAnd then applications have\nto get a copy of that list\n\n308\n00:16:59.710 --> 00:17:03.050\nto ensure they're only accepting\ncertificates from users and\n\n309\n00:17:03.050 --> 00:17:06.640\nsystems that are still valid, and\nthose certificates are seen as being good.\n\n310\n00:17:06.640 --> 00:17:09.964\nI remember years ago when I was growing\nup as a kid, and I don't know if you have\n\n311\n00:17:09.964 --> 00:17:12.694\nthis point of reference or not,\nCherokee, you may or may not.\n\n312\n00:17:12.694 --> 00:17:16.500\nI'm thinking probably not, but\nsome of you listening to us very well may.\n\n313\n00:17:16.500 --> 00:17:20.874\nIf you're of a certain age and are old\nenough, you may remember when credit cards\n\n314\n00:17:20.874 --> 00:17:23.860\nwere validated,\nnot with the machinery we use today.\n\n315\n00:17:23.860 --> 00:17:26.000\nYou just swipe it through\nthe payment terminal and\n\n316\n00:17:26.000 --> 00:17:27.810\nthe credit card gets\nauthorized immediately.\n\n317\n00:17:27.810 --> 00:17:30.776\nWe know immediately electronically\nwhether or not the credit card is valid,\n\n318\n00:17:30.776 --> 00:17:32.657\nif it's stolen,\nif there's a problem with it.\n\n319\n00:17:32.657 --> 00:17:34.787\nSame thing with checks,\nthe AccuCheck readers,\n\n320\n00:17:34.787 --> 00:17:38.150\nalthough most people probably don't\nuse checks all that much anymore.\n\n321\n00:17:38.150 --> 00:17:40.480\nBut for a period of time,\nchecks were very popular.\n\n322\n00:17:40.480 --> 00:17:43.580\nYou would write a check, and in the old\ndays, there was really no way to validate\n\n323\n00:17:43.580 --> 00:17:45.036\nthe check if-\n&gt;&gt; Carbon copy?\n\n324\n00:17:45.036 --> 00:17:46.753\n&gt;&gt; No, no, not carbon copy.\n\n325\n00:17:46.753 --> 00:17:50.324\nNo, the AccuCheck where you just run\nthe check through an electronic scanner,\n\n326\n00:17:50.324 --> 00:17:52.724\nreads the bank routing information and\neverything,\n\n327\n00:17:52.724 --> 00:17:55.761\npings the bank to see whether or\nnot the money's in the account, and\n\n328\n00:17:55.761 --> 00:17:59.580\nelectronically verifies whether the check\nwill be valid and will be cashed.\n\n329\n00:17:59.580 --> 00:18:01.807\nThe main company that does\nit is called AccuCheck.\n\n330\n00:18:01.807 --> 00:18:04.280\nIt's just the name of the technology or\nthe company that does this.\n\n331\n00:18:04.280 --> 00:18:09.120\nBut anyway, so years ago, you would\ntake a check as a vendor, as somebody,\n\n332\n00:18:09.120 --> 00:18:12.340\nlet's say Publix or whoever the company\nwas who was taking the check.\n\n333\n00:18:12.340 --> 00:18:14.280\nThey really didn't know for\nsure whether or\n\n334\n00:18:14.280 --> 00:18:15.950\nnot you had money in\nthe account to cover it.\n\n335\n00:18:15.950 --> 00:18:19.196\nThey would try to sign you up ahead of\ntime and have information about you, so\n\n336\n00:18:19.196 --> 00:18:21.702\nif you bounced a check on them,\nthey could come after you.\n\n337\n00:18:21.702 --> 00:18:24.497\nBut if somebody took a check from you,\nit was essentially on faith,\n\n338\n00:18:24.497 --> 00:18:27.647\nbecause we had no way of knowing whether\nthe money was really in the account.\n\n339\n00:18:27.647 --> 00:18:28.735\nSame thing with credit cards.\n\n340\n00:18:28.735 --> 00:18:32.641\nAt a certain point early on,\nyou took a credit card as a vendor,\n\n341\n00:18:32.641 --> 00:18:36.713\nbefore we had the ability to\nelectronically verify the account.\n\n342\n00:18:36.713 --> 00:18:39.941\nYou remember the old days, where you had\nthe credit card, you put it on the reader.\n\n343\n00:18:39.941 --> 00:18:40.820\n&gt;&gt; Yeah,\nthat's what I was thinking of, that-\n\n344\n00:18:40.820 --> 00:18:41.407\n&gt;&gt; The carbon, that's what\n\n345\n00:18:41.407 --> 00:18:41.972\nyou were talking about.\n\n346\n00:18:41.972 --> 00:18:44.965\nThat was the charge slip, or\nthe charge blank, as they would call it.\n\n347\n00:18:44.965 --> 00:18:47.733\nBut that wasn't in any way\nauthorizing the credit card.\n\n348\n00:18:47.733 --> 00:18:51.945\nIt just gave you a copy of the receipt you\nwould turn in to the credit card company.\n\n349\n00:18:51.945 --> 00:18:55.130\nAnd a week or two later,\nas a person who was receiving payments,\n\n350\n00:18:55.130 --> 00:18:57.770\nyou would then get reconciled, and\nthe money would show up in your account.\n\n351\n00:18:57.770 --> 00:19:00.160\nBut this was all a very\nmanual process years ago.\n\n352\n00:19:00.160 --> 00:19:04.330\nAnd you would have to dial up and actually\ncheck the validity of the credit card by\n\n353\n00:19:04.330 --> 00:19:06.430\ngetting on the phone and\ncalling the credit card company.\n\n354\n00:19:06.430 --> 00:19:07.650\nThis was all very manual.\n\n355\n00:19:07.650 --> 00:19:11.223\nAnd I remember growing up as a kid-\n&gt;&gt; Maybe I should have all these stops\n\n356\n00:19:11.223 --> 00:19:13.032\nbefore I go to use a credit card.\n\n357\n00:19:13.032 --> 00:19:14.848\n[LAUGH]\n&gt;&gt; Well, these days it's all there,\n\n358\n00:19:14.848 --> 00:19:15.400\nbut it's electronic.\n\n359\n00:19:15.400 --> 00:19:19.030\n&gt;&gt; I know, but think about, maybe it'll-\n&gt;&gt; Well, what we did years ago was,\n\n360\n00:19:19.030 --> 00:19:20.390\nyou have what was called a hot list.\n\n361\n00:19:20.390 --> 00:19:23.218\nSo you actually had a published list,\nvery similar to the CRL.\n\n362\n00:19:23.218 --> 00:19:26.510\nAnd you would have this hot list,\nand the hot list was a book.\n\n363\n00:19:26.510 --> 00:19:29.758\nIt was actually a book printed\non almost like tissue paper.\n\n364\n00:19:29.758 --> 00:19:31.476\n&gt;&gt; People who didn't pay their bills?\n\n365\n00:19:31.476 --> 00:19:35.035\n&gt;&gt; Credit cards that were stolen, credit\ncards that were revoked, whatever it was.\n\n366\n00:19:35.035 --> 00:19:38.349\nBack in the Wild West days,\nwhen credit cards were first sent out,\n\n367\n00:19:38.349 --> 00:19:42.196\nback in the late 1960s,\nearly 1970s when banks started doing this,\n\n368\n00:19:42.196 --> 00:19:45.568\nbanks would send out credit cards\nunsolicited in order to get people\n\n369\n00:19:45.568 --> 00:19:47.719\nto use them, because they were brand new.\n\n370\n00:19:47.719 --> 00:19:50.890\nI mean, can you imagine\nthe ridiculousness of this today.\n\n371\n00:19:50.890 --> 00:19:53.540\nBanks were just essentially\nspamming people and\n\n372\n00:19:53.540 --> 00:19:56.550\nsending credit cards in the mail,\nwhether you wanted one or not.\n\n373\n00:19:56.550 --> 00:19:58.776\nAnd they showed up at your house,\nand you got one,\n\n374\n00:19:58.776 --> 00:20:00.372\nyou got several of them typically.\n\n375\n00:20:00.372 --> 00:20:02.840\nAnd the crooks became wise\nto this very quickly.\n\n376\n00:20:02.840 --> 00:20:05.766\nThey said, well, they're showing up in\nthe mail, nobody knows you got them,\n\n377\n00:20:05.766 --> 00:20:06.735\nnobody knows you have it.\n\n378\n00:20:06.735 --> 00:20:10.485\nIf we take it and we go use it,\nthe bank is gonna allow the charges,\n\n379\n00:20:10.485 --> 00:20:12.275\nand you're not going to know.\n\n380\n00:20:12.275 --> 00:20:15.942\nAnd this is back before we had your\naccount information, before we called you,\n\n381\n00:20:15.942 --> 00:20:17.910\nbefore the web, before any of this.\n\n382\n00:20:17.910 --> 00:20:20.330\nThis was all just,\nyou showed them a piece of plastic.\n\n383\n00:20:20.330 --> 00:20:21.660\nPeople said, okay, we'll take it.\n\n384\n00:20:21.660 --> 00:20:23.250\nYou mean it's in use instead of money?\n\n385\n00:20:23.250 --> 00:20:24.030\nYeah.\n\n386\n00:20:24.030 --> 00:20:26.050\nAnd you would run the charge slip.\n\n387\n00:20:26.050 --> 00:20:29.570\nAnd then the merchant would submit that,\nbut it was all paper.\n\n388\n00:20:29.570 --> 00:20:31.200\nAnd none of it was electronic.\n\n389\n00:20:31.200 --> 00:20:34.113\nIf you had to verify a credit card,\nyou went through the hot list.\n\n390\n00:20:34.113 --> 00:20:36.250\nThe hot list was published once a month.\n\n391\n00:20:36.250 --> 00:20:37.870\nSo if you stole a credit card,\n\n392\n00:20:37.870 --> 00:20:41.370\nyou had up to 30 days to use it before\nit showed up on the list the next month.\n\n393\n00:20:41.370 --> 00:20:42.800\nSo this was the crazy thing.\n\n394\n00:20:42.800 --> 00:20:46.551\nSo if you timed it right, you could get\na credit card and go shopping with it for\n\n395\n00:20:46.551 --> 00:20:49.403\na period of time,\nbefore it would show up as being stolen.\n\n396\n00:20:49.403 --> 00:20:51.090\nAnd this is what people did.\n\n397\n00:20:51.090 --> 00:20:53.949\nAnd so as a result, you would have to,\nas a vendor, as a merchant,\n\n398\n00:20:53.949 --> 00:20:55.952\nlook up the credit card\nnumber in the hot list.\n\n399\n00:20:55.952 --> 00:20:59.860\nIt's just like what the CRL represents,\nessentially that list of bad IDs.\n\n400\n00:20:59.860 --> 00:21:02.980\nAnd I remember growing up,\nI had a friend, a family friend of ours,\n\n401\n00:21:02.980 --> 00:21:06.060\nwho grew up with their kids,\nwho owned gas stations.\n\n402\n00:21:06.060 --> 00:21:09.490\nAnd so I grew up essentially running\naround on the gas stations with these\n\n403\n00:21:09.490 --> 00:21:11.060\nkids, cuz we all grew up together.\n\n404\n00:21:11.060 --> 00:21:13.170\nAnd I remember they worked\nin the gas station,\n\n405\n00:21:13.170 --> 00:21:15.590\nmy friends as young teenagers\nhelping their folks out.\n\n406\n00:21:15.590 --> 00:21:17.094\nAnd I used to hang out with them, and\n\n407\n00:21:17.094 --> 00:21:19.313\noccasionally I would see\nthem taking credit cards.\n\n408\n00:21:19.313 --> 00:21:22.160\nAnd they would have to go and\nlook it up against the hot list.\n\n409\n00:21:22.160 --> 00:21:24.063\nAnd if the number was there,\nthey would cut the credit card up.\n\n410\n00:21:24.063 --> 00:21:28.123\nIf it wasn't, and they thought somebody\nwas up to no good, they had to call,\n\n411\n00:21:28.123 --> 00:21:31.819\ntext, whoever the vendor was, and\nactually say hey, I'm so and so.\n\n412\n00:21:31.819 --> 00:21:32.370\nI have this card.\n\n413\n00:21:32.370 --> 00:21:33.440\nIs it stolen?\n\n414\n00:21:33.440 --> 00:21:35.550\nBecause you wouldn't get\nan update to the CRL,\n\n415\n00:21:35.550 --> 00:21:37.240\nyou wouldn't get an update\nto the hot list.\n\n416\n00:21:37.240 --> 00:21:40.290\nIt wasn't electronic, it was published,\nand they went out once a month.\n\n417\n00:21:40.290 --> 00:21:43.490\nAnd so, it was just kinda interesting,\nbecause this is the same idea we used for\n\n418\n00:21:43.490 --> 00:21:45.415\ncertificates for a long, long time.\n\n419\n00:21:45.415 --> 00:21:48.520\nCRLs were published, and you had to\ngo out and request an update for\n\n420\n00:21:48.520 --> 00:21:50.915\nthe list to get it from\nthe certificate authority.\n\n421\n00:21:50.915 --> 00:21:53.927\nIt wasn't automatically\nelectronically published and\n\n422\n00:21:53.927 --> 00:21:55.690\nmade available until recently.\n\n423\n00:21:55.690 --> 00:21:58.500\nWe now use a newer technology called OCSP.\n\n424\n00:21:58.500 --> 00:22:01.931\nThe online responder, which is what I was\ntalking about before Cherokee led us off\n\n425\n00:22:01.931 --> 00:22:03.384\ninto this whole digression here.\n\n426\n00:22:03.384 --> 00:22:04.512\n&gt;&gt; [LAUGH]\n&gt;&gt; That was my fault, I'm only kidding.\n\n427\n00:22:04.512 --> 00:22:05.316\n&gt;&gt; But it does make sense,\n\n428\n00:22:05.316 --> 00:22:06.580\nbecause that's the newer way-\n&gt;&gt; It is.\n\n429\n00:22:06.580 --> 00:22:07.222\n&gt;&gt; Just like how you explained.\n\n430\n00:22:07.222 --> 00:22:09.742\n&gt;&gt; It is, it's just historically just\nwhat we would have seen, and kind of,\n\n431\n00:22:09.742 --> 00:22:11.905\nreal life is what we see mirrored\nby a lot of these technologies-\n\n432\n00:22:11.905 --> 00:22:12.758\n&gt;&gt; Transitioning to.\n\n433\n00:22:12.758 --> 00:22:15.490\n&gt;&gt; When we think about it, so, OCSP.\n\n434\n00:22:15.490 --> 00:22:19.603\nOnline certificate status protocol,\na new protocol that's been around since,\n\n435\n00:22:19.603 --> 00:22:21.698\nI think, Server 12, or 2008 R2.\n\n436\n00:22:21.698 --> 00:22:25.339\nIt's been around for a few generations\nnow, automates this process,\n\n437\n00:22:25.339 --> 00:22:29.100\nallows us to update, as in,\nlet's say, an application using PKI.\n\n438\n00:22:29.100 --> 00:22:29.980\nWe can download and\n\n439\n00:22:29.980 --> 00:22:34.710\nreceive the latest certificate revocation\nlists electronically, get them from,\n\n440\n00:22:34.710 --> 00:22:38.590\nin this case, whatever the root CA or\nthe supporting CA may be that provides it.\n\n441\n00:22:38.590 --> 00:22:41.010\nBy having support for\nthis protocol in the application,\n\n442\n00:22:41.010 --> 00:22:44.260\nthe application can go out and\nrequest the most recent version, and\n\n443\n00:22:44.260 --> 00:22:47.120\nconsistently update and\ncheck for certificate status.\n\n444\n00:22:47.120 --> 00:22:49.910\nSo, it's really revolutionized\nthe way we deal with these things.\n\n445\n00:22:49.910 --> 00:22:53.015\nWe don't have to worry, necessarily,\nanymore about going in and\n\n446\n00:22:53.015 --> 00:22:56.899\nhaving certificates being accepted,\nwhen they've actually been invalidated,\n\n447\n00:22:56.899 --> 00:23:00.573\ncuz we don't have the most recent CRL\nloaded or available in the application.\n\n448\n00:23:00.573 --> 00:23:04.906\nThis online certificate status protocol or\nonline responder, as we refer to it as,\n\n449\n00:23:04.906 --> 00:23:09.176\nhas really taken the burden away from us,\nand really updates on an ongoing basis our\n\n450\n00:23:09.176 --> 00:23:11.617\nability to stay current\nwith the technology and\n\n451\n00:23:11.617 --> 00:23:13.415\nwith the security implications.\n\n452\n00:23:13.415 --> 00:23:14.574\nSo, certificate revocation.\n\n453\n00:23:14.574 --> 00:23:16.200\nSo, that part's really nice.\n\n454\n00:23:16.200 --> 00:23:19.810\nWe do have network device enrollment\nservices, I mentioned this capability.\n\n455\n00:23:19.810 --> 00:23:23.298\nThis is the online capability,\nto be able to bring devices online, and\n\n456\n00:23:23.298 --> 00:23:26.906\nthrow certificates into them, and\nreference them, and register them,\n\n457\n00:23:26.906 --> 00:23:30.475\neither outside the firewall or inside,\nbehind the firewall on the LAN.\n\n458\n00:23:30.475 --> 00:23:33.690\nBut the thing about all the mobile\ndevices we managed today.\n\n459\n00:23:33.690 --> 00:23:38.160\nWhether it is people's cell phones,\nwhether it's tablets,\n\n460\n00:23:38.160 --> 00:23:43.480\nwhether it is a personally owned device\nthat is homing or using corporate data,\n\n461\n00:23:43.480 --> 00:23:46.796\ncorporate owned but personally enabled,\nwhat we call COPE as an acronym,\n\n462\n00:23:46.796 --> 00:23:50.090\nC O P E, which is a cell phone\ngiven to you by the company, but\n\n463\n00:23:50.090 --> 00:23:52.140\nyou put your personal data on as well.\n\n464\n00:23:52.140 --> 00:23:54.882\nLess and less likely to see that today,\ncuz we don't tend to see a lot of that.\n\n465\n00:23:54.882 --> 00:23:59.239\nBut we do have corporate owned devices\nthat are gonna be personally enabled\n\n466\n00:23:59.239 --> 00:23:59.939\nwith data.\n\n467\n00:23:59.939 --> 00:24:03.440\nAnd so, segmenting these areas\nis becoming very important.\n\n468\n00:24:03.440 --> 00:24:08.290\nWe can do network device enrollment, using\nNDES, Network Device Enrollment Services.\n\n469\n00:24:08.290 --> 00:24:09.610\nSo we have that capability.\n\n470\n00:24:09.610 --> 00:24:12.515\nWe have certificate enrollment\nweb services, as I mentioned,\n\n471\n00:24:12.515 --> 00:24:15.527\nwhere a client can connect through\na web interface and download and\n\n472\n00:24:15.527 --> 00:24:19.401\nengage with certificate enrollment, with,\nessentially, a proxy client that runs\n\n473\n00:24:19.401 --> 00:24:22.670\non behalf of the system,\nthat allows us to issue certificates.\n\n474\n00:24:22.670 --> 00:24:27.066\nSo we can request, renew, install,\ncertificates through this proxy service,\n\n475\n00:24:27.066 --> 00:24:31.400\nretrieve the CRLs doing this, download\nthe root certificate to validate a trust\n\n476\n00:24:31.400 --> 00:24:35.732\nchain, enroll over the Internet as I said,\nor, what will become important to us\n\n477\n00:24:35.732 --> 00:24:39.370\nlater is, we talk about federation\nservices across forests.\n\n478\n00:24:39.370 --> 00:24:41.020\nSo cross forest enrollment and\n\n479\n00:24:41.020 --> 00:24:45.120\ntrust management can be done with this\nonline capability through the web.\n\n480\n00:24:45.120 --> 00:24:46.672\nReally enables a lot of what we do today.\n\n481\n00:24:46.672 --> 00:24:50.334\nSo all these different moving parts and\npieces are there, and\n\n482\n00:24:50.334 --> 00:24:55.275\nthe ABCS server role provides all these\nfunctionalities and capabilities for us.\n\n483\n00:24:55.275 --> 00:24:58.253\nWe'll be setting up and installing,\nconfiguring, and showing you that\n\n484\n00:24:58.253 --> 00:25:01.270\ninterface, showing you how to manage\nit in upcoming conversations.\n\n485\n00:25:01.270 --> 00:25:01.935\nBut really,\n\n486\n00:25:01.935 --> 00:25:06.232\njust wanted to lay down the foundational\nelements here about the hierarchy for PKI.\n\n487\n00:25:06.232 --> 00:25:10.245\nThe moving parts and pieces within the\nWindows infrastructure to support that,\n\n488\n00:25:10.245 --> 00:25:12.429\nwhat a root CA is,\nwhat a subordinate CA is,\n\n489\n00:25:12.429 --> 00:25:14.980\nhow we see enterprise versus stand alone.\n\n490\n00:25:14.980 --> 00:25:16.970\nWhat we can do with those CAs and\n\n491\n00:25:16.970 --> 00:25:20.840\nhow we interact with them is really just\na matter of what we choose to set up and\n\n492\n00:25:20.840 --> 00:25:25.170\nhow deep the hierarchy may go, based on\nthe kind of architecture that we have.\n\n493\n00:25:25.170 --> 00:25:28.690\nAs I said, we may simply see a flat,\none level hierarchy.\n\n494\n00:25:28.690 --> 00:25:31.370\nWe may see two or three levels,\nas we saw in the diagram.\n\n495\n00:25:31.370 --> 00:25:33.840\nBut it's really a question of\nwhat we make choices around,\n\n496\n00:25:33.840 --> 00:25:36.610\nhow we choose to implement,\nthat will drive that more often than not.\n\n497\n00:25:36.610 --> 00:25:39.040\nSo, just some thoughts as we get started,\nif you will.\n\n498\n00:25:39.040 --> 00:25:40.560\nAny questions?\n\n499\n00:25:40.560 --> 00:25:41.650\nThings to think about?\n\n500\n00:25:41.650 --> 00:25:42.227\n&gt;&gt; Things to think about.\n\n501\n00:25:42.227 --> 00:25:43.747\n&gt;&gt; Thoughts you wanna throw out there?\n\n502\n00:25:43.747 --> 00:25:47.633\nYeah, just kinda keep an open mind as we\nenter into our certificate services here,\n\n503\n00:25:47.633 --> 00:25:50.864\nbecause there are a lot of different\nways that we can configure them.\n\n504\n00:25:50.864 --> 00:25:53.787\nAnd I sure Adam would be here every\nstep of the way to walk with us through\n\n505\n00:25:53.787 --> 00:25:55.635\nthe process, so thank you for that, Adam.\n\n506\n00:25:55.635 --> 00:25:56.169\n&gt;&gt; You are welcome.\n\n507\n00:25:56.169 --> 00:25:59.998\n&gt;&gt; And thank you for join us as well, but\nfor this show we'll go ahead and sign out.\n\n508\n00:25:59.998 --> 00:26:01.758\nI've been your host, Cherokee Boose.\n\n509\n00:26:01.758 --> 00:26:02.569\n&gt;&gt; I'm Adam Gordon.\n\n510\n00:26:02.569 --> 00:26:05.865\n&gt;&gt; See you next time, here at ITProTV.\n\n511\n00:26:05.865 --> 00:26:11.827\n[MUSIC]\n\n512\n00:26:11.827 --> 00:26:18.548\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231755509"
        },
        {
          "description": "In this show, Adam and Cherokee continue covering Active Directory Certificate Services. They recap the PKI infrastructure and explain reasons why or why not one would choose a specific topology or design. They look at the differences between standalone and enterprise CA,  considerations for configuring a root CA and how to create a CA via PowerShell.",
          "length": "2451",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-2-deploying_and_managing_ad_cs_pt2-083017-PGM.00_40_36_08.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-2-deploying_and_managing_ad_cs_pt2-083017-PGM.00_40_36_08.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-2-deploying_and_managing_ad_cs_pt2-083017-PGM.00_40_36_08.Still002-sm.jpg",
          "title": "Deploying and Managing AD CS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.120 --> 00:00:01.416\nWelcome to ITProTV,\n\n2\n00:00:01.416 --> 00:00:06.108\nI'm your host Don Pezet coming at you\nlive from San Francisco, California.\n\n3\n00:00:06.108 --> 00:00:06.931\n[CROSSTALK]\n\n4\n00:00:06.931 --> 00:00:08.529\n[MUSIC]\n\n5\n00:00:08.529 --> 00:00:10.838\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:10.838 --> 00:00:15.740\n&gt;&gt; Welcome to your Identity with Windows\nServer 2016 series, I'm your show host,\n\n7\n00:00:15.740 --> 00:00:16.770\nCherokee Boose.\n\n8\n00:00:18.230 --> 00:00:21.630\nIn this episode, we'll continue\ntaking a look at how to deploy and\n\n9\n00:00:21.630 --> 00:00:24.690\nmanage active directory\ncertificate services.\n\n10\n00:00:24.690 --> 00:00:28.070\nWith us today, back in studios,\nwe have Microsoft expert, Adam Gordon.\n\n11\n00:00:28.070 --> 00:00:29.190\nHow's it going today, Adam?\n\n12\n00:00:29.190 --> 00:00:31.890\n&gt;&gt; Good, good.\nHopefully everybody's doing well.\n\n13\n00:00:31.890 --> 00:00:34.580\nAnd we're gonna have a really\ncool conversation, continue,\n\n14\n00:00:34.580 --> 00:00:38.500\npick up where we left off regarding ADCS,\nactive directory certificate service.\n\n15\n00:00:38.500 --> 00:00:39.210\nYou said that.\n\n16\n00:00:39.210 --> 00:00:40.010\nThat was great.\n\n17\n00:00:40.010 --> 00:00:40.940\n&gt;&gt; Yeah.\n&gt;&gt; I like that.\n\n18\n00:00:40.940 --> 00:00:42.740\nGot that out on the first try.\n\n19\n00:00:42.740 --> 00:00:46.480\nSo we left off last time, just really\nsetting out some of the highlights and\n\n20\n00:00:46.480 --> 00:00:49.720\noverviews of what\ncertificate services are.\n\n21\n00:00:49.720 --> 00:00:53.130\nWhat we look forward to them being\nable to do with regards to PKI.\n\n22\n00:00:53.130 --> 00:00:54.410\nIn the Windows environment,\n\n23\n00:00:54.410 --> 00:00:57.730\nif you haven't seen that prior episode,\nreally good idea to go back take a look,\n\n24\n00:00:57.730 --> 00:01:00.650\nwe're gonna quickly hit the highlights and\nrefresh the thought process\n\n25\n00:01:00.650 --> 00:01:05.480\naround the differences between what\na stand alone versus an enterprise CA is.\n\n26\n00:01:05.480 --> 00:01:08.590\nConsiderations for setting up and\ndeploying that root CA.\n\n27\n00:01:08.590 --> 00:01:09.480\nDo we leave it online?\n\n28\n00:01:09.480 --> 00:01:10.350\nDo we take it offline?\n\n29\n00:01:10.350 --> 00:01:12.730\nYou know, what are we doing with that?\n\n30\n00:01:12.730 --> 00:01:15.840\nWhat are the subordinate CAs, or\nwhat we refer to as intermediate or\n\n31\n00:01:15.840 --> 00:01:18.440\nissuing CAs, depending on how\nyou choose to refer to them.\n\n32\n00:01:18.440 --> 00:01:21.940\nSo we're going to start this with a quick\ndiagram we used in our last episode.\n\n33\n00:01:21.940 --> 00:01:24.990\nJust to remind you of that,\nif we could just take a quick look.\n\n34\n00:01:24.990 --> 00:01:26.300\nPut that up on the screen.\n\n35\n00:01:26.300 --> 00:01:30.020\nHopefully you have a sense of\nthis from our prior discussions.\n\n36\n00:01:30.020 --> 00:01:31.710\nRemember, we look at the hierarchy,\n\n37\n00:01:31.710 --> 00:01:36.060\nthe root CA up at the top, is going to be\nthat machine that we do want to safeguard.\n\n38\n00:01:36.060 --> 00:01:40.040\nWe do want to make sure it doesn't\ntalk to any other systems other than\n\n39\n00:01:40.040 --> 00:01:44.600\nan intermediate or an issuing CA of some\nkind, classifying both of those together,\n\n40\n00:01:44.600 --> 00:01:48.750\ngrouping them into a generic category\nreferred to as subordinate CAs.\n\n41\n00:01:48.750 --> 00:01:52.890\nThe idea of CA being either a root or\na subordinate implies a hierarchy,\n\n42\n00:01:52.890 --> 00:01:55.000\nand we can see that just\nbased on the diagram.\n\n43\n00:01:55.000 --> 00:01:58.730\nThe root CA, sometimes people\nsay parent CA versus child CA.\n\n44\n00:01:58.730 --> 00:02:01.290\nThere are a lot of different ways\nof describing the hierarchy,\n\n45\n00:02:01.290 --> 00:02:03.540\nbut let's stick with root,\nlet's stick with subordinate,\n\n46\n00:02:03.540 --> 00:02:06.540\nbecause those are the terms\nwe normally will refer to.\n\n47\n00:02:06.540 --> 00:02:09.550\nThe root CA is gonna be that\n\n48\n00:02:09.550 --> 00:02:14.500\ninitial certificate services system\nthat we set up, the initial CA.\n\n49\n00:02:14.500 --> 00:02:20.040\nAnd as a result [COUGH] what we're doing\nis we are not only instantiating the role.\n\n50\n00:02:20.040 --> 00:02:23.160\nBut what we're doing is also giving\nthat role a special designation.\n\n51\n00:02:23.160 --> 00:02:25.280\nBy making it the root\ncertificate authority,\n\n52\n00:02:25.280 --> 00:02:29.550\nwe are making it the initial machine\nthat is gonna be responsible for\n\n53\n00:02:29.550 --> 00:02:32.270\nestablishment and\nmanagement of the hierarchy, and\n\n54\n00:02:32.270 --> 00:02:36.710\nthe ability to as a result propagate\ntrust down the hierarchy chain.\n\n55\n00:02:36.710 --> 00:02:38.320\nWe'll talk more about that and\n\n56\n00:02:38.320 --> 00:02:41.000\nexplain what that means as we get\ninto how we set these things up.\n\n57\n00:02:41.000 --> 00:02:44.750\nGonna do a quick overview and\ndemo for you using PowerShell,\n\n58\n00:02:44.750 --> 00:02:47.670\nshow you how to set up and install\nthe roles for the certificate authorities.\n\n59\n00:02:47.670 --> 00:02:49.480\nThat's gonna be coming up\nhere in just a moment.\n\n60\n00:02:49.480 --> 00:02:53.950\nBut the idea is that the root CA gives out\ncertificates, that's it's only primary,\n\n61\n00:02:53.950 --> 00:02:58.440\nsole purpose, let me issue\ncertificates but not just to anybody.\n\n62\n00:02:58.440 --> 00:03:01.900\nWe don't talk to individual users,\nlet's say, down here.\n\n63\n00:03:01.900 --> 00:03:02.810\nThat's Cherokee, by the way,\n\n64\n00:03:02.810 --> 00:03:06.415\nif you haven't seen her in person\nright over there on the right, right?\n\n65\n00:03:06.415 --> 00:03:09.075\nAnd you could see over here,\nmachines of some kind,\n\n66\n00:03:09.075 --> 00:03:12.475\nwhatever desktop, laptop, server,\nmobile device, computers,\n\n67\n00:03:12.475 --> 00:03:16.335\nwhatever they may be, some sort of\nsystem that needs a certificate.\n\n68\n00:03:16.335 --> 00:03:20.015\nWe can issue certificates through\ncomputers or devices, generically.\n\n69\n00:03:20.015 --> 00:03:23.770\nCan issue them to individuals,\nusers, generically.\n\n70\n00:03:23.770 --> 00:03:27.090\nAnd those certificates are issued by a CA.\n\n71\n00:03:27.090 --> 00:03:29.470\nBut normally, and\nagain we made some exceptions and\n\n72\n00:03:29.470 --> 00:03:32.490\ntalked about some different\nvariations on a theme with PKI.\n\n73\n00:03:32.490 --> 00:03:35.670\nBut if we're following the normal\nstandard rules of engagement,\n\n74\n00:03:35.670 --> 00:03:39.320\nnormal standard architectural\nprinciples and best practices,\n\n75\n00:03:39.320 --> 00:03:44.150\nwe would see a root CA issuing\ncertificates solely to a subordinate CA.\n\n76\n00:03:44.150 --> 00:03:49.080\nAnd then that CA, the subordinate CA, or\nCAs if there's more than one as we see in\n\n77\n00:03:49.080 --> 00:03:54.390\nour diagram here we'd then be able to\nissue certificates on behalf of the root\n\n78\n00:03:54.390 --> 00:03:58.800\nin order give them to individuals,\ncomputers, or some combination of those\n\n79\n00:03:58.800 --> 00:04:01.620\nas they decide to show up and\nstart to request certificates.\n\n80\n00:04:01.620 --> 00:04:04.330\nI'll actually show you what that\nprocess looks like through a web\n\n81\n00:04:04.330 --> 00:04:05.200\nenrollment as well.\n\n82\n00:04:05.200 --> 00:04:07.750\nAs part of a walk through\nin a demonstration.\n\n83\n00:04:07.750 --> 00:04:10.770\nI did say there are exceptions and\nremember that we talked about the fact we\n\n84\n00:04:10.770 --> 00:04:14.350\ncould flatten this hierarchy,\nwe could essentially pretend for a minute,\n\n85\n00:04:14.350 --> 00:04:17.835\nwe roll all of these intermediate and\nissuing CA.\n\n86\n00:04:17.835 --> 00:04:20.645\nGaze up and just make them disappear and\n\n87\n00:04:20.645 --> 00:04:25.665\nlet's just say we have single root CA and\nthat was the extent of our PKI.\n\n88\n00:04:25.665 --> 00:04:29.135\nWe see that some small systems,\ntest environments for\n\n89\n00:04:29.135 --> 00:04:32.895\ninstance where we just want to be able\nto get certificates issued, understand\n\n90\n00:04:32.895 --> 00:04:36.245\nthe logic of how to apply them, how to\nmake sure they're working the right way.\n\n91\n00:04:36.245 --> 00:04:38.235\nWe may start out just by doing that.\n\n92\n00:04:38.235 --> 00:04:42.420\nWe see it in small, medium size\nbusinesses where they may not have either\n\n93\n00:04:42.420 --> 00:04:47.570\nthe knowledge or the resources or\na combination of those issues that\n\n94\n00:04:47.570 --> 00:04:50.480\nreally lead to the understanding\nof how to manage PKI and\n\n95\n00:04:50.480 --> 00:04:56.010\npublic key infrastructures and\ncertificate authorities properly.\n\n96\n00:04:56.010 --> 00:04:58.860\nI do get asked from time to time\nby students about whether or\n\n97\n00:04:58.860 --> 00:05:00.980\nnot we can simply run\nwith a single root CA.\n\n98\n00:05:00.980 --> 00:05:02.210\nThe answer is yes.\n\n99\n00:05:02.210 --> 00:05:03.580\nThe system works.\n\n100\n00:05:03.580 --> 00:05:08.580\nIt's not that you can't issue certificates\ndirectly from here to a device.\n\n101\n00:05:08.580 --> 00:05:12.360\nThere's nothing that\ntechnically prevents that.\n\n102\n00:05:12.360 --> 00:05:13.500\nThe architecture works.\n\n103\n00:05:13.500 --> 00:05:17.230\nThe system itself will work just fine\nassuming you build the CA properly.\n\n104\n00:05:17.230 --> 00:05:19.190\nOf course, it is up and running.\n\n105\n00:05:19.190 --> 00:05:21.390\nThere are no issues with\nthe implementation.\n\n106\n00:05:21.390 --> 00:05:22.380\nSo we can do that.\n\n107\n00:05:22.380 --> 00:05:24.110\nBut there are security concerns.\n\n108\n00:05:24.110 --> 00:05:28.430\nThere are challenges associated\nwith allowing a root CA to directly\n\n109\n00:05:28.430 --> 00:05:29.710\ninteract with users.\n\n110\n00:05:29.710 --> 00:05:33.060\nThe biggest challenge is we talked about\nin our last episode is the fact that if\n\n111\n00:05:33.060 --> 00:05:37.500\nthe certificate authority is compromised,\nif somebody is able to gain control or\n\n112\n00:05:37.500 --> 00:05:42.830\nsomehow issue certificates out of that\nCA under fraudulent or false pretences,\n\n113\n00:05:42.830 --> 00:05:47.390\nwhatever you want to think of that\nas Then we are compromising any and\n\n114\n00:05:47.390 --> 00:05:51.080\nall certificates issued by that\nparticular certificate authority and\n\n115\n00:05:51.080 --> 00:05:55.870\nthis is the key reason, the driver,\nnotice how I worked the word key in there?\n\n116\n00:05:55.870 --> 00:05:56.370\n&gt;&gt; Fancy, Adam.\n\n117\n00:05:56.370 --> 00:05:58.200\n&gt;&gt; PKI.\nThe whole key thing, right?\n\n118\n00:05:58.200 --> 00:06:01.500\nSo you gotta pick up on those little\nthings we do as we talk about that stuff.\n\n119\n00:06:01.500 --> 00:06:04.720\nActually just do that to keep Cherokee\ninterested so she is following along and\n\n120\n00:06:04.720 --> 00:06:06.840\nmake sure she's actually\nengaged with our conversations.\n\n121\n00:06:06.840 --> 00:06:07.840\n&gt;&gt; I'm following along.\n&gt;&gt; I know you are.\n\n122\n00:06:07.840 --> 00:06:08.990\nYou did actually signal me earlier.\n\n123\n00:06:08.990 --> 00:06:10.910\nYou wanted to say something or\nask a question while we were talking?\n\n124\n00:06:10.910 --> 00:06:14.810\n&gt;&gt; Well you are just covering that, that\nthis is not like a set in stone hierarchy.\n\n125\n00:06:14.810 --> 00:06:16.090\nThe design here.\n\n126\n00:06:16.090 --> 00:06:18.080\nYou can remove additional tiers there.\n\n127\n00:06:18.080 --> 00:06:20.950\nYou know, you could have a two-tier, like\nyou were saying, that flat architecture.\n\n128\n00:06:20.950 --> 00:06:25.450\nSo yeah, just keep that in mind because\nnot all organizations have the budget or\n\n129\n00:06:25.450 --> 00:06:29.240\nthe resources to build up\na three-tier hierarchy like this.\n\n130\n00:06:29.240 --> 00:06:30.180\n&gt;&gt; It can be complex.\n\n131\n00:06:30.180 --> 00:06:33.300\nIt can take time, money,\nresources, as you suggested.\n\n132\n00:06:33.300 --> 00:06:34.540\nLittle bit easier these days.\n\n133\n00:06:34.540 --> 00:06:38.550\nWe haven't really talked about the thought\nprocess behind the fact that more\n\n134\n00:06:38.550 --> 00:06:42.660\noften than not these days, not just these\nsystems, but almost any system we see.\n\n135\n00:06:42.660 --> 00:06:47.320\nAny computer we in theory talk about,\nusually is a virtualized It's not always.\n\n136\n00:06:47.320 --> 00:06:50.620\nThere are many reasons why you may\nstill run physical infrastructure.\n\n137\n00:06:50.620 --> 00:06:52.460\nNot every company virtualizes.\n\n138\n00:06:52.460 --> 00:06:55.310\nNot every system is a candidate for\nvirtualization.\n\n139\n00:06:55.310 --> 00:06:57.620\nNot every system from our regulatory or\n\n140\n00:06:57.620 --> 00:07:00.540\ncompliance perspective may be\nallowed to be virtualized.\n\n141\n00:07:00.540 --> 00:07:03.960\nThere are reasons why you may choose to\ndo certain things or not, but more and\n\n142\n00:07:03.960 --> 00:07:08.560\nmore we're seeing in general,\nmany of the normal infrastructure\n\n143\n00:07:08.560 --> 00:07:11.960\nsystems that we would just take for\ngranted would be running as wrapped.\n\n144\n00:07:11.960 --> 00:07:14.820\nEither wrapped and\nstacked mounted infrastructure physical\n\n145\n00:07:14.820 --> 00:07:18.930\ninfrastructure sitting somewhere outside\na wrap in an enterprise environment has\n\n146\n00:07:18.930 --> 00:07:22.934\nbecome virtualized, domain controllers are\ncertainly virtualized very commonly today.\n\n147\n00:07:22.934 --> 00:07:26.160\nCertificate authorities tend\nto be virtualized as a result\n\n148\n00:07:26.160 --> 00:07:29.650\nof those roles sitting there more often\nthan not, on the enterprise side.\n\n149\n00:07:29.650 --> 00:07:31.770\nAnd so\nwe see a lot of this being virtualized,\n\n150\n00:07:31.770 --> 00:07:36.160\nwhich takes away one of the key drivers,\nwhich may have been the expense of buying,\n\n151\n00:07:36.160 --> 00:07:38.920\nand as a result,\nhaving to run additional hardware.\n\n152\n00:07:38.920 --> 00:07:42.190\nDoesn't remove the need to buy and\nlicense the software.\n\n153\n00:07:42.190 --> 00:07:42.820\nKeep that in mind.\n\n154\n00:07:42.820 --> 00:07:44.300\nWe always wanna make sure, right?\n\n155\n00:07:44.300 --> 00:07:45.290\nWe're talking about the fact,\n\n156\n00:07:45.290 --> 00:07:48.210\nreminding you of the fact that every time\nyou install an instance, it should be\n\n157\n00:07:48.210 --> 00:07:52.730\na licensed instance unless you're testing\nand using some sort of demo environment.\n\n158\n00:07:52.730 --> 00:07:55.868\nAnd you just love the cost of having\na licensed software, the underlying OS.\n\n159\n00:07:55.868 --> 00:07:59.706\nBut assuming that's the case, we may be\ncutting down on the cost by virtualizing.\n\n160\n00:07:59.706 --> 00:08:03.153\nSo there are pro and\ncon factors we weigh at every point.\n\n161\n00:08:03.153 --> 00:08:05.934\nIn our discussions and\nour decision points about architecture.\n\n162\n00:08:05.934 --> 00:08:10.692\nBut let's assume that the key driver more\noften than not, as I was suggesting,\n\n163\n00:08:10.692 --> 00:08:13.463\nis really this idea of\nfocusing on security and\n\n164\n00:08:13.463 --> 00:08:16.820\nmaking sure we understand\nthat by having a multilayer.\n\n165\n00:08:16.820 --> 00:08:19.970\nEither a dual layer or\na single layer hierarchy.\n\n166\n00:08:19.970 --> 00:08:20.720\nWhatever it may be.\n\n167\n00:08:20.720 --> 00:08:23.139\nBut at least one level of\nsubordinate CAs at a minimum.\n\n168\n00:08:23.139 --> 00:08:26.370\nBetween the root CA and\nthe operational users and\n\n169\n00:08:26.370 --> 00:08:28.570\ncomputers that are seeking certificates.\n\n170\n00:08:28.570 --> 00:08:32.360\nWe're gonna create this ability to stand\noff and essentially have a cut out or\n\n171\n00:08:32.360 --> 00:08:36.140\na proxy layer that allows the root CA,\nif we can go back to the picture,\n\n172\n00:08:36.140 --> 00:08:40.560\nthe root CA to be able to issue\ncertificates to an intermediate or\n\n173\n00:08:40.560 --> 00:08:43.570\nsome sort of issuing CA\nin the subordinate role.\n\n174\n00:08:43.570 --> 00:08:46.350\nAnd as a result of propagating\nthose certificates down and\n\n175\n00:08:46.350 --> 00:08:50.310\nextending trust, the root CA says,\nI'm gonna trust you,\n\n176\n00:08:50.310 --> 00:08:53.640\nMr and Mrs Intermediate,\nMr and Mrs Issuing CA.\n\n177\n00:08:53.640 --> 00:08:58.250\nI'm gonna trust you and give you my\ntrust to do the work that needs to be\n\n178\n00:08:58.250 --> 00:09:02.070\ndone to talk to these individual users,\ntalk to these computers.\n\n179\n00:09:02.070 --> 00:09:04.500\nGive out certificates on our behalf.\n\n180\n00:09:04.500 --> 00:09:07.240\nOur behalf meaning\nthe hierarchy of the PKI.\n\n181\n00:09:07.240 --> 00:09:10.780\nAnd I'm gonna go off and I'm gonna be\nlabeled offline as we can see here.\n\n182\n00:09:10.780 --> 00:09:12.080\nAnd we talked about.\n\n183\n00:09:12.080 --> 00:09:16.360\nAnd I'm gonna be stored securely somewhere\nand I'm gonna be only brought back out,\n\n184\n00:09:16.360 --> 00:09:18.510\ntrotted out, turned on, connected.\n\n185\n00:09:18.510 --> 00:09:23.340\nWhen there is a reason to bring up another\nsubordinates CA to extend the hierarchy at\n\n186\n00:09:23.340 --> 00:09:27.330\nsome level or there is a reason to renew\nthose certificates I'd given you to\n\n187\n00:09:27.330 --> 00:09:30.990\noperate on my behalf because they do have\na validity period associated with them.\n\n188\n00:09:30.990 --> 00:09:33.670\nCertificates and\nwe wanna make sure we understand that\n\n189\n00:09:33.670 --> 00:09:37.670\ncertificates should never be issued\nforever nor it can maybe realistically.\n\n190\n00:09:37.670 --> 00:09:41.270\nBut we could serve the issue not for\nvery long period of time is some cases but\n\n191\n00:09:41.270 --> 00:09:44.840\nwe spoke about in our Last episode.\n\n192\n00:09:44.840 --> 00:09:49.120\nThe fact that, on average, a subordinate\nCA's certificate and intermediate and\n\n193\n00:09:49.120 --> 00:09:53.570\nissuing CA is typically given anywhere\nfrom maybe one to three to five years,\n\n194\n00:09:53.570 --> 00:09:55.500\ndepending on role and\nwhat you're doing with it.\n\n195\n00:09:55.500 --> 00:09:59.700\nBut somewhere between a 1 and 5, your\nmark is probably about right on average.\n\n196\n00:09:59.700 --> 00:10:02.050\nYou don't want certificates\nsitting out there too long.\n\n197\n00:10:02.050 --> 00:10:05.070\nBecause there is the chance\nthat the longer they exist\n\n198\n00:10:05.070 --> 00:10:08.340\nin certain circumstances, the more likely\nit is they may become compromised.\n\n199\n00:10:08.340 --> 00:10:09.875\nAnd [CROSSTALK]\n&gt;&gt; And the time that they're being\n\n200\n00:10:09.875 --> 00:10:13.450\nutilized without you even realizing\nthat they've been compromised as well.\n\n201\n00:10:13.450 --> 00:10:14.330\n&gt;&gt; There could be that and\n\n202\n00:10:14.330 --> 00:10:16.600\nyou know it really does come\ndown to making good choices.\n\n203\n00:10:16.600 --> 00:10:19.480\nWe've talked, although not in\nnecessarily this particular episode,\n\n204\n00:10:19.480 --> 00:10:22.650\nor even this set of episodes\nright now around PKI.\n\n205\n00:10:22.650 --> 00:10:26.850\nWe haven't really talked about or reminded\nyou about the issues associated with\n\n206\n00:10:26.850 --> 00:10:30.150\nthe choices you make with regards to\ncertificate algorithms that are used to\n\n207\n00:10:30.150 --> 00:10:34.460\ngenerate the public private key pairs\nthat are used to essentially represent\n\n208\n00:10:34.460 --> 00:10:37.540\nthe cryptography function set\ncertificate are often used to drive.\n\n209\n00:10:37.540 --> 00:10:41.470\nSo using something like an R say algorithm\nwhich is a very common algorithm.\n\n210\n00:10:41.470 --> 00:10:47.070\n2048 bit let's say, would provide various\nstrong protection but the reality is it\n\n211\n00:10:47.070 --> 00:10:51.840\ndoes provide protection for a very defined\nand insurnable limited period of time.\n\n212\n00:10:51.840 --> 00:10:55.814\nMeaning that the longer the certificate\nsits out there, the more likely it is that\n\n213\n00:10:55.814 --> 00:10:59.443\nit may become compromise because the keys\nthat are used may actually become\n\n214\n00:10:59.443 --> 00:11:03.400\nknown because of the fact that,\nover time, computing power gets better.\n\n215\n00:11:03.400 --> 00:11:07.800\nAnd the protections cryptography provides\nare cut down over a period of time,\n\n216\n00:11:07.800 --> 00:11:10.580\nbased on the ability\nforce to throw more power\n\n217\n00:11:10.580 --> 00:11:12.644\nat the problem of trying\nto guess those keys.\n\n218\n00:11:12.644 --> 00:11:14.110\nAnd so this becomes a shell game.\n\n219\n00:11:14.110 --> 00:11:15.680\nwe've got to move a lot of pieces around,\n\n220\n00:11:15.680 --> 00:11:19.080\nor maybe a chess game is a better\nway of thinking about that, right?\n\n221\n00:11:19.080 --> 00:11:23.330\nStrategic and thinking about the logic of\nmoves we make and places on the board.\n\n222\n00:11:23.330 --> 00:11:26.410\nWe will operate from, we don't wanna\nhave certificates to sit out there for\n\n223\n00:11:26.410 --> 00:11:29.560\ntoo long because we are concerned\nabout the life cycle\n\n224\n00:11:29.560 --> 00:11:33.140\nof the management of the security of and\nrelated to that certificate.\n\n225\n00:11:33.140 --> 00:11:34.830\nSo we have to think about\nall these things but\n\n226\n00:11:34.830 --> 00:11:38.730\ngenerically we wanna understand that the\nlogic of a hierarchy as we've talked about\n\n227\n00:11:38.730 --> 00:11:43.950\nin our last episode is really the logic\nof applying security best practices and\n\n228\n00:11:43.950 --> 00:11:47.270\nprotections to our digital\nidentity management function,\n\n229\n00:11:47.270 --> 00:11:50.950\nwhich is what certificates are designed\nto provide in one form or another.\n\n230\n00:11:50.950 --> 00:11:55.520\nAnd by providing that thought process and\nlinking it to a broader concept of\n\n231\n00:11:55.520 --> 00:11:59.150\nwhat's called the enterprise security\narchitecture, we're really thinking about\n\n232\n00:11:59.150 --> 00:12:02.590\nhow to put protections in place that allow\nus to to do the things we need to do.\n\n233\n00:12:02.590 --> 00:12:05.500\nExtend trust,\nuse certificates to represent that trust.\n\n234\n00:12:05.500 --> 00:12:10.010\nProvide the ability to transfer that\ntrust to designated authorized,\n\n235\n00:12:10.010 --> 00:12:15.610\nauthenticated users on behalf of a third\nparty that will represent that trust.\n\n236\n00:12:15.610 --> 00:12:20.250\nBut to do so in a secure, and as a result,\na manageable way with a life cycle\n\n237\n00:12:20.250 --> 00:12:23.500\nattached to it and administrative\ncontrols in place as we're gonna start\n\n238\n00:12:23.500 --> 00:12:26.510\nto take a look at that will allow\nus to control those aspects.\n\n239\n00:12:26.510 --> 00:12:28.260\nWe'll be able to look at certificates,\n\n240\n00:12:28.260 --> 00:12:32.510\nissue them securely, authenticate the\nusers of the devices that are asking for\n\n241\n00:12:32.510 --> 00:12:35.970\nthose certificates, ensure that\nthat authentication is done against\n\n242\n00:12:35.970 --> 00:12:39.720\na directory service that will provide,\nwithin reasonable parameters,\n\n243\n00:12:39.720 --> 00:12:42.930\nan ability to validate that credential,\nperhaps single, dual,\n\n244\n00:12:42.930 --> 00:12:47.710\nmultifactor authentication being used\nto augment the authentication process.\n\n245\n00:12:47.710 --> 00:12:50.600\nMaybe just a username and a password,\nmaybe a username, and a password,\n\n246\n00:12:50.600 --> 00:12:53.740\nand a smart card, or a pin,\nor something else that\n\n247\n00:12:53.740 --> 00:12:57.270\ncould be added to further authenticate\nthat user or that device.\n\n248\n00:12:57.270 --> 00:12:58.150\nAnd then, as a result,\n\n249\n00:12:58.150 --> 00:13:01.940\nif we trust the user, trust the device,\ngive them a certificate.\n\n250\n00:13:01.940 --> 00:13:06.300\nRegister that certificate, make it\navailable, allow it to be used to identify\n\n251\n00:13:06.300 --> 00:13:11.250\nthem, issue email with digital signatures,\ncertify the file integrity\n\n252\n00:13:11.250 --> 00:13:15.798\nof software, authorize web server or\nsome sort of website operatives.\n\n253\n00:13:15.798 --> 00:13:20.245\nThere's a million reasons why and things\nthat certificates can be used to do.\n\n254\n00:13:20.245 --> 00:13:24.235\nAnd we can see those drive encryption,\nEFS for instance,\n\n255\n00:13:24.235 --> 00:13:27.485\nthe Encrypting File System in Windows,\nuses certificates that are issued for\n\n256\n00:13:27.485 --> 00:13:29.185\nrecovery and things of that nature.\n\n257\n00:13:29.185 --> 00:13:31.485\nJust lots of reasons why we would do this.\n\n258\n00:13:31.485 --> 00:13:34.865\nAnd then over time keep track of that\ncertificate as you were suggesting.\n\n259\n00:13:34.865 --> 00:13:37.505\nIf we have to revoke it,\ncreate what's known as a CRL or\n\n260\n00:13:37.505 --> 00:13:41.130\nCertificate of Revocation List,\nas we spoke about, whether that is\n\n261\n00:13:41.130 --> 00:13:45.530\nthe old-fashioned downloadable list,\nthe newer improved thought process that's\n\n262\n00:13:45.530 --> 00:13:49.690\ndigital and managed online with OCSP,\nthe online certificate status protocol.\n\n263\n00:13:49.690 --> 00:13:53.150\nTo be able to check that CRL through\nthe application in real time,\n\n264\n00:13:53.150 --> 00:13:56.150\nAgainst the certificate server,\nagainst the hierarchy.\n\n265\n00:13:56.150 --> 00:13:59.470\nHowever we do those things, we have\nto think about all these pieces and\n\n266\n00:13:59.470 --> 00:14:02.620\nput them all into play in order to really\nunderstand the value of certificates to\n\n267\n00:14:02.620 --> 00:14:03.910\nthe organization.\n\n268\n00:14:03.910 --> 00:14:05.650\nSo, let me just quickly share with you.\n\n269\n00:14:05.650 --> 00:14:07.060\nGive me one second while we're doing this.\n\n270\n00:14:07.060 --> 00:14:09.030\nJust getting out of the graphic for\na minute and\n\n271\n00:14:09.030 --> 00:14:11.390\nbringing up the Word document\nthat I wanna show you.\n\n272\n00:14:11.390 --> 00:14:13.680\nThe differences between Standalone and\nEnterprise CAs,\n\n273\n00:14:13.680 --> 00:14:15.240\njust to remind ourselves of this.\n\n274\n00:14:15.240 --> 00:14:20.650\nWe talked about the fact that a standalone\nCA certificate authority, whether\n\n275\n00:14:20.650 --> 00:14:23.310\nit is a root or a subordinate, we're not\nworried about the designation right now,\n\n276\n00:14:23.310 --> 00:14:27.990\njust rather the categorization of\nthe type of CA we would choose to deploy.\n\n277\n00:14:27.990 --> 00:14:32.700\nThe standalone CA is a CA that is\nnot directly integrated into the,\n\n278\n00:14:32.700 --> 00:14:35.120\nin this case, Active Directory,\nthe LDAP directory.\n\n279\n00:14:35.120 --> 00:14:39.510\nIt is off on its own, not a member server,\nnot joined to the domain.\n\n280\n00:14:39.510 --> 00:14:42.210\nAs a result has no way to interact with or\n\n281\n00:14:42.210 --> 00:14:44.950\nany way to understand what\nthat LDAP directory would be.\n\n282\n00:14:44.950 --> 00:14:49.900\nSo we will use this as a standalone or\noffline CA as you can see, but\n\n283\n00:14:49.900 --> 00:14:53.220\nit is not one that is available on\nthe network more often than not.\n\n284\n00:14:53.220 --> 00:14:57.310\nOne that will intermittently come and\ngo, it does not depend on ADDS but\n\n285\n00:14:57.310 --> 00:15:01.400\nwe can deploy it into the environments\nwhere ADDS is not gonna be.\n\n286\n00:15:01.400 --> 00:15:05.600\nSo think about maybe as I think I said in\nour last episode at DMZ hypothetically.\n\n287\n00:15:05.600 --> 00:15:09.070\nWhere we may not have the active\ndirectory capability, but\n\n288\n00:15:09.070 --> 00:15:13.460\nwe do have systems that have to exist,\nweb servers are great examples of this,\n\n289\n00:15:13.460 --> 00:15:16.290\nthat exist in our peripheral\ndefense zone in the DMZ,\n\n290\n00:15:16.290 --> 00:15:21.400\nbeing able to issue certificates to them,\nwe may want to be able to do that from\n\n291\n00:15:21.400 --> 00:15:25.290\na PKI solutions tenuously,\nif it's not directly tied back.\n\n292\n00:15:25.290 --> 00:15:27.910\nTo the enterprise cuz we\nmay not want to expose\n\n293\n00:15:27.910 --> 00:15:31.038\nsome of the things associated\nwith certificates in that way.\n\n294\n00:15:31.038 --> 00:15:33.704\nWe may use a standalone CA\nthat is totally isolated but\n\n295\n00:15:33.704 --> 00:15:37.437\ndoes give us the ability to authorize and\nto validate those web servers with\n\n296\n00:15:37.437 --> 00:15:40.876\na certificate that can be used and\npotentially trusted by people that\n\n297\n00:15:40.876 --> 00:15:44.158\nare gonna do business with that\nweb server in one form or another.\n\n298\n00:15:44.158 --> 00:15:49.023\nAs a result, when we do the request,\nthe process cannot be automated like it is\n\n299\n00:15:49.023 --> 00:15:53.078\non the enterprise side where we\nare tied to the Active Directory or\n\n300\n00:15:53.078 --> 00:15:55.167\nan ldapt directory of some kind.\n\n301\n00:15:55.167 --> 00:15:57.664\nWindows would obviously call\nthat the Active Directory.\n\n302\n00:15:57.664 --> 00:16:02.035\nAnd as a result when we make the request,\nthat request sits at the web server or\n\n303\n00:16:02.035 --> 00:16:06.359\nexcuse me in the certificate services\nrather, on the certificate server.\n\n304\n00:16:06.359 --> 00:16:10.400\nAnd the manager or whoever's the\ndesignated representative that controls\n\n305\n00:16:10.400 --> 00:16:14.520\nthat CA, the certificate manager is\nwhat we typically call that role.\n\n306\n00:16:14.520 --> 00:16:17.824\nThey have to go in and\nmanually intervene, examine the request,\n\n307\n00:16:17.824 --> 00:16:19.755\nas I talked about in the last episode.\n\n308\n00:16:19.755 --> 00:16:22.085\nTake those credentials,\nsomehow validate them,\n\n309\n00:16:22.085 --> 00:16:25.562\nwhatever that process will look like,\nwhatever they do to figure that out.\n\n310\n00:16:25.562 --> 00:16:28.872\nAnd then decide yes or no, issue or\ndon't issue the certificate,\n\n311\n00:16:28.872 --> 00:16:32.195\nthey have to right-click and\nessentially go to the pending area.\n\n312\n00:16:32.195 --> 00:16:34.274\nWe'll show you this in\nthe walk through and\n\n313\n00:16:34.274 --> 00:16:37.797\nthey will right click on the certificate\nrequested and choose to issue or\n\n314\n00:16:37.797 --> 00:16:40.710\nnot to allow or deny, so\nit is a more involved process.\n\n315\n00:16:40.710 --> 00:16:44.280\nThere are more steps involved because on\nthe enterprise side as you can kind of\n\n316\n00:16:44.280 --> 00:16:46.510\nlook at the chart and see the comparison.\n\n317\n00:16:46.510 --> 00:16:50.647\nWe do have the option to do manual\nenrollment but we could do web enrollment,\n\n318\n00:16:50.647 --> 00:16:51.690\nauto enrollment.\n\n319\n00:16:51.690 --> 00:16:56.012\nSo as a result, we can automate this\nprocess where you go to a web page,\n\n320\n00:16:56.012 --> 00:16:59.551\nthe machinename/searchserve\nis the traditional URL.\n\n321\n00:16:59.551 --> 00:17:03.542\nWe talked about this in the last episode,\nit's been that way since Windows NT 4\n\n322\n00:17:03.542 --> 00:17:06.210\nsince we started using\ncertificate services.\n\n323\n00:17:06.210 --> 00:17:08.750\nAnd as a result,\nwe can go fill out a form,\n\n324\n00:17:08.750 --> 00:17:11.150\nanswer some questions based\non the kind of certificate.\n\n325\n00:17:11.150 --> 00:17:14.710\nWe wanna use the template involved,\nin other words makes the choices for\n\n326\n00:17:14.710 --> 00:17:16.400\nus in terms of the form fields.\n\n327\n00:17:16.400 --> 00:17:19.500\nWe enter that information and\nassuming we are a valid user,\n\n328\n00:17:19.500 --> 00:17:23.090\nassuming our credentials\nare registered in the LDAP directory.\n\n329\n00:17:23.090 --> 00:17:26.160\nMaking a lot of assumptions but\njust putting out there what would have to\n\n330\n00:17:26.160 --> 00:17:28.640\nhappen that process can\nbe fully automated.\n\n331\n00:17:28.640 --> 00:17:31.620\nWe will click on a couple of buttons,\nhit submit,\n\n332\n00:17:31.620 --> 00:17:34.830\nalmost immediately that certificate\nrequest is approved, comes back.\n\n333\n00:17:34.830 --> 00:17:38.130\nAnd we see a page with a form with\na little icon that says, hey,\n\n334\n00:17:38.130 --> 00:17:40.590\ncertificate issued,\ndo you want to install?\n\n335\n00:17:40.590 --> 00:17:44.450\nAnd you can click on it and it downloads\nthe certificate into your system,\n\n336\n00:17:44.450 --> 00:17:47.520\nassociates it with you, and\nyour certificate is ready to go,\n\n337\n00:17:47.520 --> 00:17:48.390\nit's been issued.\n\n338\n00:17:48.390 --> 00:17:51.570\nSo it's moved automatically\nout of the pending area into\n\n339\n00:17:51.570 --> 00:17:55.020\nissued as part of the certificate services\nprocess that goes on behind the scenes.\n\n340\n00:17:55.020 --> 00:17:57.290\nAnd again, we'll take a look at this and\nsee how this works.\n\n341\n00:17:57.290 --> 00:18:01.371\nSo just making sure that you understand\nthat the manual process associated\n\n342\n00:18:01.371 --> 00:18:04.931\nwith a standalone, implies that\nwe have to be paying attention,\n\n343\n00:18:04.931 --> 00:18:06.697\ncheck the queue every so often.\n\n344\n00:18:06.697 --> 00:18:11.417\nWhereas issuing requests and having\nthem automated and approved or denied,\n\n345\n00:18:11.417 --> 00:18:13.747\nis the hallmark of the enterprise CA.\n\n346\n00:18:13.747 --> 00:18:17.442\nThe association with the LDAP directory,\nwhatever that may look like and\n\n347\n00:18:17.442 --> 00:18:19.330\nwhatever that will ultimately be.\n\n348\n00:18:19.330 --> 00:18:21.180\nSo just a little summary chart for you,\n\n349\n00:18:21.180 --> 00:18:23.430\ngive you a highlight on\nthe differences there.\n\n350\n00:18:23.430 --> 00:18:27.478\nI do have another one, as well,\nconsiderations for deploying a root CA,\n\n351\n00:18:27.478 --> 00:18:30.959\nwe talked about the different\nroles root versus subordinate.\n\n352\n00:18:30.959 --> 00:18:33.603\nAnd the idea of the root CA route,\nremember,\n\n353\n00:18:33.603 --> 00:18:38.490\nis the idea that we're going to be issuing\ncertificates to other CAs on our behalf.\n\n354\n00:18:38.490 --> 00:18:42.249\nTo establish a chain that we can\nvalidate a path for trust and so\n\n355\n00:18:42.249 --> 00:18:46.920\nwe wanna think about what the logic is and\nwhat the requirements may be.\n\n356\n00:18:46.920 --> 00:18:50.340\nWe need what's called a CSP\na cryptographic service provider,\n\n357\n00:18:50.340 --> 00:18:54.060\nthat will be used to generate the keys\nthat we talked about that are used to\n\n358\n00:18:54.060 --> 00:18:55.750\ndesignate the certificates.\n\n359\n00:18:55.750 --> 00:19:00.744\nIn the Microsoft world the CSP is\ndesignated as whatever the name may\n\n360\n00:19:00.744 --> 00:19:05.737\nbe this one is the RSA CSP as you can\nsee right here if I can highlight,\n\n361\n00:19:05.737 --> 00:19:07.940\nI need a course on how to do it.\n\n362\n00:19:07.940 --> 00:19:10.073\nDo we have a course in the library\non how to actually use a mouse?\n\n363\n00:19:10.073 --> 00:19:11.076\n&gt;&gt; Like a text editing?\n\n364\n00:19:11.076 --> 00:19:12.324\n&gt;&gt; No, just how to use a mouse.\n\n365\n00:19:12.324 --> 00:19:13.689\n&gt;&gt; [LAUGH]\n&gt;&gt; I seem to be lacking in\n\n366\n00:19:13.689 --> 00:19:16.361\nthat fundamental skill lately,\nI'm thinking maybe I\n\n367\n00:19:16.361 --> 00:19:20.325\ncould learn quickly from one of our hosts\nhere about how to use a mouse correctly.\n\n368\n00:19:20.325 --> 00:19:23.208\nSo you can see that I just\nhighlighted the name, but\n\n369\n00:19:23.208 --> 00:19:26.444\nI also talked about it down\nhere I could just scroll down.\n\n370\n00:19:26.444 --> 00:19:28.445\nAny provider with a number sign or\n\n371\n00:19:28.445 --> 00:19:32.100\na hash sign in the name is\na cryptographic service provider.\n\n372\n00:19:32.100 --> 00:19:35.381\nBut a cryptographic service provider of\na specific type, what's called a CNG,\n\n373\n00:19:35.381 --> 00:19:37.890\nthe next generation provider,\nit's almost like Star Trek,\n\n374\n00:19:37.890 --> 00:19:39.162\nthe Next Generation, right?\n\n375\n00:19:39.162 --> 00:19:39.796\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n376\n00:19:39.796 --> 00:19:42.192\nthey are a newer cryptographic\nservice provider,\n\n377\n00:19:42.192 --> 00:19:45.430\nthere are some older ones that\nare kind of been there a long time.\n\n378\n00:19:45.430 --> 00:19:48.241\nThere's a NextGen new\nupdated functionality,\n\n379\n00:19:48.241 --> 00:19:52.225\nstronger encryption algorithms,\nstronger keys things like that.\n\n380\n00:19:52.225 --> 00:19:56.986\nAnd so, when we see a hashtag or a number\nsign in the name that designates the CNG\n\n381\n00:19:56.986 --> 00:19:59.815\nor cryptographic next generation provider.\n\n382\n00:19:59.815 --> 00:20:02.064\nJust so you know how to read\nthat when you go in and\n\n383\n00:20:02.064 --> 00:20:03.995\nstart to see how you make these choices.\n\n384\n00:20:03.995 --> 00:20:08.120\nThe key character length, you have to\nspecify what the key length will be,\n\n385\n00:20:08.120 --> 00:20:12.786\nI mention you may use something like\na 2048 bit key, perhaps a 4096 bit key.\n\n386\n00:20:12.786 --> 00:20:17.934\nWhich is typically what we recommend\nas you can see as the best practice for\n\n387\n00:20:17.934 --> 00:20:20.932\na root CA because that key has to be so\nlong.\n\n388\n00:20:20.932 --> 00:20:26.710\nSo complex, so strong, you can refer to it\nusing any of those thought processes or\n\n389\n00:20:26.710 --> 00:20:29.559\ndescriptors when you talk about keys and\n\n390\n00:20:29.559 --> 00:20:33.420\nwe talked about security\nin cryptography of a key.\n\n391\n00:20:33.420 --> 00:20:37.750\nWe talk about the two factors,\nwe talk about the key space and\n\n392\n00:20:37.750 --> 00:20:39.700\nwe also talk about the work factor.\n\n393\n00:20:39.700 --> 00:20:42.288\nKey space is the number\nof theoretical matches or\n\n394\n00:20:42.288 --> 00:20:45.075\nkey combinations that exist\nthat can be generated.\n\n395\n00:20:45.075 --> 00:20:48.906\nAnd obviously, the longer that list or\nthe bigger the number,\n\n396\n00:20:48.906 --> 00:20:53.545\nthe bigger the key space, the stronger\nthe protection the key is afforded.\n\n397\n00:20:53.545 --> 00:20:57.200\nAnd we also talked about work factors,\na measure of key protection,\n\n398\n00:20:57.200 --> 00:20:59.480\nwork factor measured typically in years.\n\n399\n00:20:59.480 --> 00:21:03.424\nIf it's measured in anything less than\nthat, it's probably not real strong but\n\n400\n00:21:03.424 --> 00:21:06.092\na measure of the estimation\nof the time may take to break\n\n401\n00:21:06.092 --> 00:21:09.120\nthe cryptographic protection\nby finding the key.\n\n402\n00:21:09.120 --> 00:21:13.236\nAnd so we want really long work\nfactors in terms of years and\n\n403\n00:21:13.236 --> 00:21:17.025\nwe want really, very,\nvery big key spaces, right?\n\n404\n00:21:17.025 --> 00:21:20.582\n10 to the 248th power is\ngonna give you a very,\n\n405\n00:21:20.582 --> 00:21:24.488\nvery long key space and\nas a result provide protection.\n\n406\n00:21:24.488 --> 00:21:28.997\nSo 4096 bit keys today are not unusual the\ndownside here just as you know is that it\n\n407\n00:21:28.997 --> 00:21:32.315\nwill take a while to render that key,\nto initially create it.\n\n408\n00:21:32.315 --> 00:21:37.319\nThe lower or slower that computer is\nin the sense of the computing power,\n\n409\n00:21:37.319 --> 00:21:40.118\nthe number of CPUs and the amount of RAM.\n\n410\n00:21:40.118 --> 00:21:43.569\nThe slower it runs, the longer it will\ntake to churn out a key of that size,\n\n411\n00:21:43.569 --> 00:21:47.075\nit doesn't sound like a big key, but\nit can take a little bit of time.\n\n412\n00:21:47.075 --> 00:21:47.995\nJust be aware of that,\n\n413\n00:21:47.995 --> 00:21:53.175\nyou need a modern computer running\na modern OS, 64 bit with the appropriate\n\n414\n00:21:53.175 --> 00:21:56.785\nhardware to support that to generate\na key in a reasonable amount of time.\n\n415\n00:21:56.785 --> 00:21:57.955\nJust make sure you're aware of that.\n\n416\n00:21:59.200 --> 00:22:03.370\nHashing algorithms that are used to sign\ncertificates that are issued by the CA.\n\n417\n00:22:03.370 --> 00:22:08.417\nPeople often overlook this and don't\nrealize this, we've talked about SHA,\n\n418\n00:22:08.417 --> 00:22:12.655\nsecure hashing algorithm,\nin other episodes for other reasons.\n\n419\n00:22:12.655 --> 00:22:15.203\nAnd it's one of many hashing\nalgorithms that are available,\n\n420\n00:22:15.203 --> 00:22:17.270\na very common one that is used very often.\n\n421\n00:22:17.270 --> 00:22:20.782\nMD5 is one you often hear about as well,\nMessage Digest.\n\n422\n00:22:20.782 --> 00:22:25.291\nAnd SHA-1, while it is and\nhas been the default hashing algorithm Is\n\n423\n00:22:25.291 --> 00:22:30.117\nan issue because in previous versions\nwe would have defaulted to SHA-1.\n\n424\n00:22:30.117 --> 00:22:35.647\nWe now use SHA-256 in Windows Server 16,\nthe reason is the SHA-1 is no longer,\n\n425\n00:22:35.647 --> 00:22:39.615\nas I've pointed out there is\nconsidered to be secure enough.\n\n426\n00:22:39.615 --> 00:22:42.220\nMeaning it can theoretically\nbecome compromised,\n\n427\n00:22:42.220 --> 00:22:45.415\nthere are concerns about\nthe affordability of the protection or\n\n428\n00:22:45.415 --> 00:22:49.043\nthe protection it affords, so\nwe want to make sure we're aware of that.\n\n429\n00:22:49.043 --> 00:22:53.352\nThe default has been changed because\nthe recommendation has, as you can see,\n\n430\n00:22:53.352 --> 00:22:57.074\nessentially by 2017 we should\nstop using SHA-1 for hashing,\n\n431\n00:22:57.074 --> 00:22:58.855\nwe should move to SHA-256.\n\n432\n00:22:58.855 --> 00:23:01.280\nWhat that implies is that the hash value,\n\n433\n00:23:01.280 --> 00:23:05.651\nwhat's called the hash string that's\ngenerated to provide the integrity\n\n434\n00:23:05.651 --> 00:23:11.440\nprotection is 256 bits as opposed to 160\nbits, which is what SHA-1 means, SHA-160.\n\n435\n00:23:11.440 --> 00:23:13.301\nWe just abbreviated a shy\none when we write it.\n\n436\n00:23:13.301 --> 00:23:16.271\n&gt;&gt; And you'll see this in even a lot of\nmanufacturers, even with different types\n\n437\n00:23:16.271 --> 00:23:18.791\nof software and hardware they're\nstopping that support itself.\n\n438\n00:23:18.791 --> 00:23:23.101\n&gt;&gt; Yes, they're moving away, they've moved\naway from triple dash, three dashes,\n\n439\n00:23:23.101 --> 00:23:26.090\nthat encryption algorithm over\nthe last number of years.\n\n440\n00:23:26.090 --> 00:23:30.185\nBecause although it is still certainly\nusable, it does not provide long term\n\n441\n00:23:30.185 --> 00:23:34.541\nencrypted or long term cryptographic\nprotection for highly confidential data.\n\n442\n00:23:34.541 --> 00:23:37.410\nIt's been proven that it could\npotentially be compromised,\n\n443\n00:23:37.410 --> 00:23:38.907\nwe've made change toward AES.\n\n444\n00:23:38.907 --> 00:23:42.864\nThe Advanced Encryption Standard, and\nother algorithms that provide a stronger,\n\n445\n00:23:42.864 --> 00:23:45.050\nand as a result,\nlonger lasting protection.\n\n446\n00:23:45.050 --> 00:23:48.929\nSo, we see that happening cyclically\nfrom time to time, just so you know.\n\n447\n00:23:48.929 --> 00:23:52.606\nSo there are just different items here\nthat I called that that would be helpful\n\n448\n00:23:52.606 --> 00:23:56.116\nfor you to be aware of the status at\nthe bottom there's gonna be an online or\n\n449\n00:23:56.116 --> 00:23:57.544\noffline CA things like that.\n\n450\n00:23:57.544 --> 00:24:02.099\nSo wanna make sure we're just thinking\nthrough the logic Of these points and\n\n451\n00:24:02.099 --> 00:24:05.230\njust the review of these\nparticular items helps us,\n\n452\n00:24:05.230 --> 00:24:09.928\nhopefully helps you hopefully just to\nthink about things we have to think about\n\n453\n00:24:09.928 --> 00:24:14.293\nif we're gonna decide to deploy\nan offline versus a stand alone root CA.\n\n454\n00:24:14.293 --> 00:24:17.709\nWe have to consider as I said\nthings like the algorithm choices.\n\n455\n00:24:17.709 --> 00:24:21.546\nHow are we gonna figure\nout what CSP we wanna use.\n\n456\n00:24:21.546 --> 00:24:25.097\nHow we're gonna figure out what\nthat looks like in our world and\n\n457\n00:24:25.097 --> 00:24:27.978\nknowing something like\ndefaulting to shy 256,\n\n458\n00:24:27.978 --> 00:24:31.330\nversus making a choice that\nmay lessen those protections.\n\n459\n00:24:31.330 --> 00:24:33.282\nThese are just all touch points, right.\n\n460\n00:24:33.282 --> 00:24:34.992\nThings that is best practices and\n\n461\n00:24:34.992 --> 00:24:39.093\nthings that from a stand point of just\nknowledge may or may not be familiar with.\n\n462\n00:24:39.093 --> 00:24:42.554\nA lot of you may not have ever set\nup a PKI, start to finish before.\n\n463\n00:24:42.554 --> 00:24:46.439\nWe often inherit these systems that are\nrunning in our infrastructure as we start\n\n464\n00:24:46.439 --> 00:24:47.248\nto manage them.\n\n465\n00:24:47.248 --> 00:24:50.151\nBecause somebody in the distant\npast has set these things up and\n\n466\n00:24:50.151 --> 00:24:53.453\nthey've just kind of had a life of\ntheir own, they continue to evolve.\n\n467\n00:24:53.453 --> 00:24:55.971\nAs I mentioned certificate\nservices on the Windows\n\n468\n00:24:55.971 --> 00:24:59.542\nside have been around since at least\nWindows NT 4.0, which is eight or\n\n469\n00:24:59.542 --> 00:25:04.011\nnine generations of our core server-side\nenterprise-based operating systems today.\n\n470\n00:25:04.011 --> 00:25:07.148\nAnd if you have, well you probably don't\nhave a system that's been upgraded\n\n471\n00:25:07.148 --> 00:25:10.346\nliterally in place through every\niteration of that, that wouldn't happen.\n\n472\n00:25:10.346 --> 00:25:13.429\nBut you may have certificate\nservices that have been\n\n473\n00:25:13.429 --> 00:25:17.085\naround at a minimum since\nmaybe Server 2000, 2003.\n\n474\n00:25:17.085 --> 00:25:20.300\nThat have lived in one form or\nanother in your enterprise for\n\n475\n00:25:20.300 --> 00:25:21.791\nseveral generations now.\n\n476\n00:25:21.791 --> 00:25:23.263\nAnd it's not uncommon to see that.\n\n477\n00:25:23.263 --> 00:25:25.364\nWe don't tend to reinvent the wheel and\n\n478\n00:25:25.364 --> 00:25:28.303\ndeploy certificate services\nout of the box brand new.\n\n479\n00:25:28.303 --> 00:25:31.381\nAs we upgrade our underlying OSS\non the domain controller side,\n\n480\n00:25:31.381 --> 00:25:34.751\nwe just roll those certificate\nservices forward more often than not.\n\n481\n00:25:34.751 --> 00:25:37.939\nSo it may be three or four generations\nold at this point, if not older.\n\n482\n00:25:37.939 --> 00:25:39.024\nAnd you may not have set them up.\n\n483\n00:25:39.024 --> 00:25:41.894\nSomebody may have done this,\na consultant may have come in and done it.\n\n484\n00:25:41.894 --> 00:25:44.790\nAnd just handed it back\nto the organization.\n\n485\n00:25:44.790 --> 00:25:48.645\nThere may or may not be good documentation\naround how these certificate services\n\n486\n00:25:48.645 --> 00:25:51.946\nare set up, what they're designed to do,\nhow they are structured.\n\n487\n00:25:51.946 --> 00:25:53.321\nAnd it may be a little confusing.\n\n488\n00:25:53.321 --> 00:25:56.654\nWe had this conversation offline,\nCherokee and I, before we came on\n\n489\n00:25:56.654 --> 00:26:00.491\nto do the episode, just about\nthe perception, the fear factor, right.\n\n490\n00:26:00.491 --> 00:26:04.002\n&gt;&gt; Yeah.\n&gt;&gt; Of PKI versus the reality perhaps of\n\n491\n00:26:04.002 --> 00:26:06.701\nyou have this not simplicity.\n\n492\n00:26:06.701 --> 00:26:09.479\nLet me be fair,\nthere is some complexity involve but\n\n493\n00:26:09.479 --> 00:26:11.879\nI think people tend to\nhype the complexity and\n\n494\n00:26:11.879 --> 00:26:15.812\nthe concern builds in your mind because\nyou hear that it's so difficult.\n\n495\n00:26:15.812 --> 00:26:18.522\nAnd when you get in there and you start\nlooking around, you find that although,\n\n496\n00:26:18.522 --> 00:26:19.912\nyes, you've gotta make good choices.\n\n497\n00:26:19.912 --> 00:26:22.909\nYou've got to pay attention to\ndetails just like everything else,\n\n498\n00:26:22.909 --> 00:26:25.339\nthat there's a lot of great\ndocumentation out there.\n\n499\n00:26:25.339 --> 00:26:27.570\nA lot of good guidance\non how to get it right.\n\n500\n00:26:27.570 --> 00:26:29.402\nAnd it's not overly difficult.\n\n501\n00:26:29.402 --> 00:26:32.180\nIt's just one of those things that\nif you don't pay attention to,\n\n502\n00:26:32.180 --> 00:26:33.127\ncan get away from you.\n\n503\n00:26:33.127 --> 00:26:36.730\nBut as long as you pay attention to\nthe details, there really is never\n\n504\n00:26:36.730 --> 00:26:39.976\na good reason for you not to be\nable to master this technology.\n\n505\n00:26:39.976 --> 00:26:42.992\nYou just have to take the time to invest\nto understand how to do it correctly.\n\n506\n00:26:42.992 --> 00:26:45.901\nYou had wanted to I think,\nif I'm not mistaken, say something.\n\n507\n00:26:45.901 --> 00:26:46.787\n&gt;&gt; I did have a question here.\n\n508\n00:26:46.787 --> 00:26:48.306\nI'm looking at the time here Adam and\n\n509\n00:26:48.306 --> 00:26:51.249\nI know you said you wanted to show\nus something here, a demonstration.\n\n510\n00:26:51.249 --> 00:26:54.010\nSo I just wanted to see if we were\ngonna get started with that or\n\n511\n00:26:54.010 --> 00:26:55.752\nwhat it was that you wanted to show us?\n\n512\n00:26:55.752 --> 00:26:56.837\n&gt;&gt; I did, we are and thank you for\n\n513\n00:26:56.837 --> 00:27:00.011\nsaying that because here we- [CROSSTALK]\n&gt;&gt; [LAUGH] I don't wanna be\n\n514\n00:27:00.011 --> 00:27:05.706\na Debbie Downer here with the time, but\nyou know that is part of my role here.\n\n515\n00:27:05.706 --> 00:27:10.790\n&gt;&gt; Yeah, I do and- I am\n\n516\n00:27:10.790 --> 00:27:16.111\ngoing to log back into my,\nwhich is why you see me looking down.\n\n517\n00:27:16.111 --> 00:27:19.564\nI had my consoles all up and ready to go,\nand you know the lovely issue I'm having.\n\n518\n00:27:19.564 --> 00:27:20.726\n[CROSSTALK]\n&gt;&gt; Did you get timed out?\n\n519\n00:27:20.726 --> 00:27:22.035\n&gt;&gt; What?\n\n520\n00:27:22.035 --> 00:27:25.604\nNo, no, no, they're up, but I went to\nclick on it, instead they just closed so\n\n521\n00:27:25.604 --> 00:27:26.610\nI have to reopen them.\n\n522\n00:27:26.610 --> 00:27:29.927\nSo, [LAUGH] here we are, CS,\nwe are going to do the phone.\n\n523\n00:27:29.927 --> 00:27:32.812\nWe're gonna just quickly at high level\nwalk through the concepts of how we\n\n524\n00:27:32.812 --> 00:27:33.331\nset this up.\n\n525\n00:27:33.331 --> 00:27:37.969\nWe'll come back and do a little bit\nmore thorough conversation about some of\n\n526\n00:27:37.969 --> 00:27:40.584\nthe additional features in just a moment.\n\n527\n00:27:40.584 --> 00:27:44.931\nBut let me show you in PowerShell here.\n\n528\n00:27:44.931 --> 00:27:50.099\nJust starting up at the top,\nwhat the ability to set up and\n\n529\n00:27:50.099 --> 00:27:53.229\ninstall a PKI may look like for us.\n\n530\n00:27:53.229 --> 00:27:55.080\nSo let me move that over just so\nwe can see it a little bit easier.\n\n531\n00:27:55.080 --> 00:27:57.653\nCan we go full screen,\ncuz I'm sitting over part of that, and\n\n532\n00:27:57.653 --> 00:28:00.336\nas a result I have it moved away\nfrom the edge, it's hard to see.\n\n533\n00:28:00.336 --> 00:28:04.291\nAll right, so I've gone through on\nmy initial domain controller here.\n\n534\n00:28:04.291 --> 00:28:08.880\nThis is my plabdc01 machine\nin our demo environment.\n\n535\n00:28:08.880 --> 00:28:12.800\nI've gone into PowerShell, remember the\nonly thing I do is just modify the console\n\n536\n00:28:12.800 --> 00:28:15.096\nfont so\nthat you could see it a little bit easier.\n\n537\n00:28:15.096 --> 00:28:18.502\nThis is PowerShell just loaded from\nthe server manager running under\n\n538\n00:28:18.502 --> 00:28:20.271\nthe administrative credentials.\n\n539\n00:28:20.271 --> 00:28:23.997\nSo I'm the domain admin logged in just so\nyou know who I am and what I'm doing.\n\n540\n00:28:23.997 --> 00:28:27.276\nAnd you could see here\nthat I have gone in.\n\n541\n00:28:27.276 --> 00:28:31.749\nAnd just go up to the top, what I\nhave done is started with the command\n\n542\n00:28:31.749 --> 00:28:35.213\nthat allows me to do the add\nwindows feature cmdlet.\n\n543\n00:28:35.213 --> 00:28:39.925\nA very standard command we use in a lot of\nour discussions as we've been installing\n\n544\n00:28:39.925 --> 00:28:41.302\nand configuring AD DS.\n\n545\n00:28:41.302 --> 00:28:42.330\nWe're now doing AD CS.\n\n546\n00:28:42.330 --> 00:28:47.478\nWe'll eventually do in some up coming\nconversations federation services and\n\n547\n00:28:47.478 --> 00:28:48.886\nrights management.\n\n548\n00:28:48.886 --> 00:28:53.311\nSo we use this cmdlet you spin those\nfeatures up if we wanna do an install\n\n549\n00:28:53.311 --> 00:28:56.547\noutside of the gooey,\noutside of server manager.\n\n550\n00:28:56.547 --> 00:29:01.349\nWe use the name parameter,\nin this case I'm naming the features,\n\n551\n00:29:01.349 --> 00:29:02.904\nthe AD CS authority.\n\n552\n00:29:02.904 --> 00:29:07.806\nSo this certificate authority and the web\nenrollment feature this allows me to\n\n553\n00:29:07.806 --> 00:29:12.485\nuse the website that is running on\nthe system or install and instantiate and\n\n554\n00:29:12.485 --> 00:29:14.129\nI with a default website.\n\n555\n00:29:14.129 --> 00:29:19.055\nAttach the certificate enrollment\ndirectory and the serve virtual directory\n\n556\n00:29:19.055 --> 00:29:23.388\nthat is essentially the web pages\nthat are used to drive enrollment.\n\n557\n00:29:23.388 --> 00:29:26.622\nAnd allows me then to have a web based\ninterface to request certificates,\n\n558\n00:29:26.622 --> 00:29:27.725\nthat's what this does.\n\n559\n00:29:27.725 --> 00:29:29.788\nInclude management tools parameter.\n\n560\n00:29:29.788 --> 00:29:32.650\nPut all the management tools and\nthe necessary dependencies in.\n\n561\n00:29:32.650 --> 00:29:34.140\nSo I do that, doesn't take very long.\n\n562\n00:29:34.140 --> 00:29:37.159\nYou can see we have our success true,\nrestart not needed.\n\n563\n00:29:37.159 --> 00:29:38.658\nNo execute success.\n\n564\n00:29:38.658 --> 00:29:40.795\nWe've installed them,\ninstantiated the role.\n\n565\n00:29:40.795 --> 00:29:44.282\nWe then go down to install\nactive directory or\n\n566\n00:29:44.282 --> 00:29:48.609\nAdcscertificationAuthority, and\nthen then CA type.\n\n567\n00:29:48.609 --> 00:29:53.524\nSo we use another commandlet,\nnow the install AdcscertificationAuthority\n\n568\n00:29:53.524 --> 00:29:57.160\ncommandlet, CA type parameter and\nenterprise root CA.\n\n569\n00:29:57.160 --> 00:29:59.242\nRemember we talked about making choices.\n\n570\n00:29:59.242 --> 00:30:02.365\nAre we doing a stand alone, or\nare we doing an enterprise?\n\n571\n00:30:02.365 --> 00:30:04.264\nIs it a root or a subordinate CA?\n\n572\n00:30:04.264 --> 00:30:08.036\nI'm making those choices based on\nthe value that I specify here.\n\n573\n00:30:08.036 --> 00:30:11.923\nSo I've chosen to install\nan enterprise root CA on this machine.\n\n574\n00:30:11.923 --> 00:30:13.492\nAre we prepared to do that?\n\n575\n00:30:13.492 --> 00:30:15.160\nConfirm, a yes for all.\n\n576\n00:30:15.160 --> 00:30:18.025\nNow notice here this is a little\nbit different the output for\n\n577\n00:30:18.025 --> 00:30:21.932\nthese series of commands I'm gonna go\nthrough for install this, install that.\n\n578\n00:30:21.932 --> 00:30:25.188\nYou can see ABCS web enrollment\ndown below, same idea.\n\n579\n00:30:25.188 --> 00:30:28.871\nWe don't get a success restart\nneeded exit code feature result.\n\n580\n00:30:28.871 --> 00:30:30.288\nWe get error ID error string.\n\n581\n00:30:30.288 --> 00:30:33.925\nAnd this may throw you first time you do\nthis if you're not prepared for this.\n\n582\n00:30:33.925 --> 00:30:36.789\nAnd don't know that this\nis the expected output and\n\n583\n00:30:36.789 --> 00:30:38.993\nthis is just simply how we report back.\n\n584\n00:30:38.993 --> 00:30:42.812\nError id zero implies success,\nthere has been no error.\n\n585\n00:30:42.812 --> 00:30:45.496\nIf there was a problem,\nif we saw another error id code,\n\n586\n00:30:45.496 --> 00:30:49.568\nwe'd see something with an error string\nthat actually stipulates what went wrong.\n\n587\n00:30:49.568 --> 00:30:52.083\nRemember red is our friend on the console,\nright.\n\n588\n00:30:52.083 --> 00:30:55.179\nWe see red console text,\nwe know we have an error.\n\n589\n00:30:55.179 --> 00:30:56.937\nSo don't be concerned about that.\n\n590\n00:30:56.937 --> 00:30:58.844\nRead the errors I've talked to you about.\n\n591\n00:30:58.844 --> 00:31:01.905\nUnderstand what's going on, and\nthen obviously troubleshoot accordingly.\n\n592\n00:31:01.905 --> 00:31:06.024\nBut error ID zero as an error code,\nan exit code means success.\n\n593\n00:31:06.024 --> 00:31:10.303\nSo in this case we expect to see that, and\nthat's the proper output we would want,\n\n594\n00:31:10.303 --> 00:31:12.985\nassuming everything went well,\njust so you know.\n\n595\n00:31:12.985 --> 00:31:16.747\nSo we have that, so\nwe've used the add Windows feature cmdlts.\n\n596\n00:31:16.747 --> 00:31:21.439\nWe have used the install AD CS\ncertification authority cmdlts with a CA\n\n597\n00:31:21.439 --> 00:31:23.914\ntype parameter to specify the type.\n\n598\n00:31:23.914 --> 00:31:28.064\nWe then come down and\ndo install AD CS web enrollment.\n\n599\n00:31:28.064 --> 00:31:30.154\nSo we've added the features up top.\n\n600\n00:31:30.154 --> 00:31:34.543\nWe're now installing, essentially thinking\nof this as step two to configure each\n\n601\n00:31:34.543 --> 00:31:37.438\none is essentially what we\ndo with the install cmdlts.\n\n602\n00:31:37.438 --> 00:31:41.558\nInstall AB CS Web enrollment,\nreally nothing to do other than just\n\n603\n00:31:41.558 --> 00:31:45.766\nsimply hit yes or A for all, and\ndo that again Error ID zero perfect.\n\n604\n00:31:45.766 --> 00:31:46.862\nWe got all that.\n\n605\n00:31:46.862 --> 00:31:48.273\nHaving done that,\n\n606\n00:31:48.273 --> 00:31:53.575\nwhat we then get is the ability to go\nto the server manager, go to tools.\n\n607\n00:31:53.575 --> 00:31:57.830\nOpen up in the list alphabetically what's\ncalled certification authority tool,\n\n608\n00:31:57.830 --> 00:31:58.932\nthe management MMC.\n\n609\n00:31:58.932 --> 00:32:03.422\nSo we've done that, and you could see\nhere, I have the certification authority\n\n610\n00:32:03.422 --> 00:32:07.925\nlocal because it's pointing to this\nmachine, practice labs, PLABDC01CA.\n\n611\n00:32:07.925 --> 00:32:11.519\nAnd then I have the ability to,\nas you can see C, not only the CA,\n\n612\n00:32:11.519 --> 00:32:15.116\nit's got a little green circle\nmaybe a little bit harder to see,\n\n613\n00:32:15.116 --> 00:32:17.795\nit's off to the left there,\nwhite check in it.\n\n614\n00:32:17.795 --> 00:32:21.309\nThat indicates the CA is online,\nfunctional, running, that's good.\n\n615\n00:32:21.309 --> 00:32:24.595\nWe have the ability to look at\ncertificates that have been revoked none\n\n616\n00:32:24.595 --> 00:32:25.157\nright now.\n\n617\n00:32:25.157 --> 00:32:28.320\nWe'll do that in an upcoming\nconversation take a look at CRLs,\n\n618\n00:32:28.320 --> 00:32:29.997\nCertificate Replication List.\n\n619\n00:32:29.997 --> 00:32:33.837\nWe have issued certificates as long as I\ndo have some issued we'll be taking a look\n\n620\n00:32:33.837 --> 00:32:35.368\nat that those and how we do that.\n\n621\n00:32:35.368 --> 00:32:37.593\nI don't have anything pending right now.\n\n622\n00:32:37.593 --> 00:32:41.997\nAnd this is an Enterprise CA, so the only\nones are pending would be a certificate\n\n623\n00:32:41.997 --> 00:32:44.983\nthat for some reason is not\nable to be authenticated.\n\n624\n00:32:44.983 --> 00:32:47.974\nAnd we may then have the ability\nto go in and deal with that.\n\n625\n00:32:47.974 --> 00:32:50.968\nBut remember this is typically\nan automated process,\n\n626\n00:32:50.968 --> 00:32:53.187\nunless the user makes a manual request.\n\n627\n00:32:53.187 --> 00:32:57.005\nThese certificate requests that show\nup at the Enterprise side will normally\n\n628\n00:32:57.005 --> 00:33:00.238\nget automatically authenticated\nagainst the LDAP directory and\n\n629\n00:33:00.238 --> 00:33:02.898\nissued immediately if\nthe credentials are correct.\n\n630\n00:33:02.898 --> 00:33:06.399\nSo we don't tend to see things in pending\nhere but we may see things that were not\n\n631\n00:33:06.399 --> 00:33:08.964\nissued because the credentials\ncould not be validated.\n\n632\n00:33:08.964 --> 00:33:12.476\nSo failed requests, we may see those,\nalthough we don't have any right now.\n\n633\n00:33:12.476 --> 00:33:16.682\nAnd then we have our templates, and\nthis is a subset of all the templates that\n\n634\n00:33:16.682 --> 00:33:21.381\nexist on the system, but the ones that are\nactively set up and are available for use.\n\n635\n00:33:21.381 --> 00:33:25.467\nWe do have different versions of\ntemplates, so you have version one,\n\n636\n00:33:25.467 --> 00:33:29.970\nversion two, there's different levels\nof templates based on old versus new\n\n637\n00:33:29.970 --> 00:33:32.135\nfunctionality, things like that.\n\n638\n00:33:32.135 --> 00:33:34.730\nWe'll get into some of that and\ndiscuss some of that later.\n\n639\n00:33:34.730 --> 00:33:39.085\nBut we have a standard list of certificate\ntemplates that often will show up and\n\n640\n00:33:39.085 --> 00:33:39.945\nbe available.\n\n641\n00:33:39.945 --> 00:33:43.410\nI mentioned some of the functions\nthat we can use certificates for, and\n\n642\n00:33:43.410 --> 00:33:44.928\ntemplates really drive that.\n\n643\n00:33:44.928 --> 00:33:49.141\nYou could see we have things like\nbasic EFS, EFS recovery agent,\n\n644\n00:33:49.141 --> 00:33:54.505\ndomain controller authentication,\ndirectory email, replication web server,\n\n645\n00:33:54.505 --> 00:33:58.883\ndomain controller, computer and\nuser, device and user, right?\n\n646\n00:33:58.883 --> 00:34:03.147\nSo subordinates CA, a certificates edition\nto a subordinate CA has a template\n\n647\n00:34:03.147 --> 00:34:06.846\nspecifically that will be used to do that,\nso we can see these here.\n\n648\n00:34:06.846 --> 00:34:09.880\nAnd we have the ability to manage and\ninteract with the CA.\n\n649\n00:34:09.880 --> 00:34:13.085\nWe can right-click and\nobviously do things like stop and\n\n650\n00:34:13.085 --> 00:34:17.578\nstart submit requests back up and restore\nworks for all of this functionality.\n\n651\n00:34:17.578 --> 00:34:21.415\nRenew the certificate that gives\nthe CA permission to operate so\n\n652\n00:34:21.415 --> 00:34:23.558\nwe can do that if it is set to expire.\n\n653\n00:34:23.558 --> 00:34:26.254\nBut we can also go into properties and\nlook at again,\n\n654\n00:34:26.254 --> 00:34:29.950\nwe'll go into this in a little more\ndetail in upcoming conversations.\n\n655\n00:34:29.950 --> 00:34:33.034\nBut look at the actual\ncertificate that we would renew,\n\n656\n00:34:33.034 --> 00:34:35.998\nthe certificate that gives\nthe CA its own authority.\n\n657\n00:34:35.998 --> 00:34:39.098\nWe could see the cryptographic\nsettings and the hash algorithm.\n\n658\n00:34:39.098 --> 00:34:43.192\nRemember we default to shy 256\nyou can see that right there.\n\n659\n00:34:43.192 --> 00:34:48.034\nView certificate, we can see\nthe certificate issued to the CA,\n\n660\n00:34:48.034 --> 00:34:50.826\nissued on behalf of the CA by itself.\n\n661\n00:34:50.826 --> 00:34:56.362\nIt's issued from the CA to itself, it's\na self-issued, self-signed certificate.\n\n662\n00:34:56.362 --> 00:35:01.063\nYou'll see it's issued for five years,\nwe've talked about that validity period\n\n663\n00:35:01.063 --> 00:35:04.836\nsimply mean one to five years for\nthose CAs depending on what we do.\n\n664\n00:35:04.836 --> 00:35:07.758\nWe could see the details,\nwe'll take a look at some of these later.\n\n665\n00:35:07.758 --> 00:35:10.221\nIt's a version three certificate template.\n\n666\n00:35:10.221 --> 00:35:14.009\nAnd then we'll see the certification\npath and in this case it starts and\n\n667\n00:35:14.009 --> 00:35:15.095\nfinishes at the CA.\n\n668\n00:35:15.095 --> 00:35:15.715\n&gt;&gt; Itself.\n\n669\n00:35:15.715 --> 00:35:18.279\n&gt;&gt; Because it's the root CA,\nit is the place where everything begins.\n\n670\n00:35:18.279 --> 00:35:20.487\nRemember the Wizard of Oz, right?\n\n671\n00:35:20.487 --> 00:35:23.755\n[COUGH] Follow the all over route\nanalogy that I used, right?\n\n672\n00:35:23.755 --> 00:35:27.393\nThat's where we begin and that's the\ncenter point in where we then fan out from\n\n673\n00:35:27.393 --> 00:35:31.160\nand I'm gonna show you the subordinate CA\nthat I installed here in just a minute.\n\n674\n00:35:31.160 --> 00:35:33.198\nWhen we look at that certification path,\n\n675\n00:35:33.198 --> 00:35:35.538\nwe'll see there are two\ncertificates listed.\n\n676\n00:35:35.538 --> 00:35:37.640\nThe certificate for the subordinate CA and\n\n677\n00:35:37.640 --> 00:35:40.272\nthen the reference back to\nthis root CA certificate,\n\n678\n00:35:40.272 --> 00:35:44.611\nbuilding that certification path or trust\npath that I've talked about and mentioned.\n\n679\n00:35:44.611 --> 00:35:47.830\nAnd we see the status of the certificate,\nit's okay, right?\n\n680\n00:35:47.830 --> 00:35:51.325\nSo it's in other words accepted,\nit's usable, and it is online.\n\n681\n00:35:51.325 --> 00:35:53.703\nAnd there's a lot of other stuff in there,\nwe'll come back,\n\n682\n00:35:53.703 --> 00:35:55.371\nwe'll take a look at those things as well.\n\n683\n00:35:55.371 --> 00:35:59.303\nLet me just minimize that console,\njust quickly extend this out.\n\n684\n00:35:59.303 --> 00:36:02.999\nLet me open up our other console,\nour subordinate CA, so\n\n685\n00:36:02.999 --> 00:36:06.243\nlet me just come back in here and\nload this back up.\n\n686\n00:36:06.243 --> 00:36:10.083\nWe have installed and\nconfigured a subordinate CA as well.\n\n687\n00:36:10.083 --> 00:36:14.165\nAgain we'll come back to the graphical\ninterface here in just one second.\n\n688\n00:36:14.165 --> 00:36:19.266\nBut let me walk you through in\nPowerShell just like I did.\n\n689\n00:36:19.266 --> 00:36:23.541\nWhat I did to install and configure this,\nyou can hopefully see that,\n\n690\n00:36:23.541 --> 00:36:28.409\nlet me just move that over just a little\nbit so you can see what's going on there.\n\n691\n00:36:28.409 --> 00:36:29.473\nCan we go full screen again there,\n\n692\n00:36:29.473 --> 00:36:31.134\njust because I'm gonna be\nsitting over part of that.\n\n693\n00:36:31.134 --> 00:36:32.348\nThank you so much.\n\n694\n00:36:32.348 --> 00:36:36.020\nAnd you can see here we start out\nlife essentially the same way in this\n\n695\n00:36:36.020 --> 00:36:40.472\nPowerShell instance on this additional\ncertificate authority we're looking to\n\n696\n00:36:40.472 --> 00:36:41.841\nbuild as a subordinate.\n\n697\n00:36:41.841 --> 00:36:45.820\nAdd-windows Features,\nwhat's the parameter, what are the values\n\n698\n00:36:45.820 --> 00:36:50.553\nadcs-cert-authority, adcs-web-enrollment,\ninclude management tools.\n\n699\n00:36:50.553 --> 00:36:53.920\nNo difference there we install\nthe same set of features,\n\n700\n00:36:53.920 --> 00:36:56.736\nstarting out that way\ncuz we're building a CA.\n\n701\n00:36:56.736 --> 00:37:00.839\nThe difference becomes what the next\nstep is where we do install ADCS\n\n702\n00:37:00.839 --> 00:37:04.728\ncertification authority CA type,\nwe make a different choice.\n\n703\n00:37:04.728 --> 00:37:09.587\nIn this case Enterprise Subordinates CA,\nso you could see that there that's\n\n704\n00:37:09.587 --> 00:37:12.949\nhow we choose to link this CA\nto the existing root ca and\n\n705\n00:37:12.949 --> 00:37:16.413\ndesignate it whether it is Enterprise or\nstand alone.\n\n706\n00:37:16.413 --> 00:37:20.147\nIn this case would choose Enterprise and\nwe wanna link it to the existing one and\n\n707\n00:37:20.147 --> 00:37:20.721\nto the end.\n\n708\n00:37:20.721 --> 00:37:25.517\nAlthough it's hard to see let me scroll\nover you could see I then add in\n\n709\n00:37:25.517 --> 00:37:27.679\nanother parameter parent CA.\n\n710\n00:37:27.679 --> 00:37:32.562\nSo I have to then specify what the parent\nis vulnerable link to and I identify it.\n\n711\n00:37:32.562 --> 00:37:37.784\nIt's PLABDC01.practicelabs.com\nright there.\n\n712\n00:37:37.784 --> 00:37:41.923\nAnd then the name,\nPractice Labs PLABDC01CA to specify it.\n\n713\n00:37:41.923 --> 00:37:49.087\nSo we do that, again, a for all to confirm\nthe steps, errorid 0, Exit Code Success.\n\n714\n00:37:49.087 --> 00:37:53.184\nThen install-adcswebenrollment,\nsame steps, right?\n\n715\n00:37:53.184 --> 00:37:55.476\nWe're just making some\ndifferent choices here.\n\n716\n00:37:55.476 --> 00:37:57.801\nWe've done that and we have that set up.\n\n717\n00:37:57.801 --> 00:38:03.133\nSo now that we have been successful with,\nin theory, standing up our subordinate CA.\n\n718\n00:38:03.133 --> 00:38:04.966\nAgain, we go to Server Manager,\n\n719\n00:38:04.966 --> 00:38:08.242\nopen the Certification Authority MMC\nfrom the Tools list.\n\n720\n00:38:08.242 --> 00:38:11.765\nYou see that here,\nwe see a different name, Practice labs.\n\n721\n00:38:11.765 --> 00:38:15.340\nIn this case, PLABDM01,\nthe name of this machine's CA.\n\n722\n00:38:15.340 --> 00:38:19.383\nBut this doesn't really indicate in\nthe console that it's a subordinate CA.\n\n723\n00:38:19.383 --> 00:38:22.627\nWe know it is, but\nwe don't see it in the console that way,\n\n724\n00:38:22.627 --> 00:38:24.365\nwe simply see it as another CA.\n\n725\n00:38:24.365 --> 00:38:27.854\nBut we can come in here and we can tell,\nand I'm gonna show you what I meant with\n\n726\n00:38:27.854 --> 00:38:30.188\nthose certificates and\nthat trust path right now.\n\n727\n00:38:30.188 --> 00:38:34.746\nAgain we go back here,\nright click, go to Properties.\n\n728\n00:38:34.746 --> 00:38:38.425\nWe go in again, we look at the root\ncertificate that is issued\n\n729\n00:38:38.425 --> 00:38:41.325\nhere to the CA to give it\nthe ability to operate.\n\n730\n00:38:41.325 --> 00:38:44.239\nWe could see the name of the CA,\nwe know that.\n\n731\n00:38:44.239 --> 00:38:46.087\nAnd again the cryptographic provider.\n\n732\n00:38:46.087 --> 00:38:50.593\nLet's go View Certificate and\nwe could see, just pull this over so\n\n733\n00:38:50.593 --> 00:38:51.809\nyou can see this.\n\n734\n00:38:51.809 --> 00:38:58.107\nThe certificate is issued from itself to,\nI'm sorry I'm gonna try that again.\n\n735\n00:38:58.107 --> 00:39:02.622\nIssued to the DMCA, but\nyou can see it's issued by the other CA,\n\n736\n00:39:02.622 --> 00:39:07.900\nthe root CA, the DC01 CA, and\nwe can see issuance evidence right there.\n\n737\n00:39:07.900 --> 00:39:12.024\nWe do see the timeline, again, this is\ndone for two years, it's a subordinate.\n\n738\n00:39:12.024 --> 00:39:15.418\nI said the average is somewhere\nbetween one to five years typically,\n\n739\n00:39:15.418 --> 00:39:16.479\nso we could see that.\n\n740\n00:39:16.479 --> 00:39:18.228\nAnd we go to the Certification path.\n\n741\n00:39:18.228 --> 00:39:21.712\nRemember I said we would see both\ncertificates kinda lined up one underneath\n\n742\n00:39:21.712 --> 00:39:22.261\nthe other.\n\n743\n00:39:22.261 --> 00:39:25.940\nThere is the certification authority,\nsub CA certificate,\n\n744\n00:39:25.940 --> 00:39:30.624\nbut there is the ability then to look at\nroot CA certificate, seeing the path.\n\n745\n00:39:30.624 --> 00:39:34.851\nWe can actually view that certificate and\nbring it up right here and\n\n746\n00:39:34.851 --> 00:39:36.220\nwe can see it as well.\n\n747\n00:39:36.220 --> 00:39:38.735\nWe can see the original\nwhat we looked at for.\n\n748\n00:39:38.735 --> 00:39:45.145\nAnd notice when we do that, both of them\nare listed as being status okay, right?\n\n749\n00:39:45.145 --> 00:39:48.085\nSo we can see that they\nare both available.\n\n750\n00:39:48.085 --> 00:39:49.136\nIf one was revoked for\n\n751\n00:39:49.136 --> 00:39:52.013\nsome reason, whatever the reason\nwas is no longer valid.\n\n752\n00:39:52.013 --> 00:39:55.497\nWe would we see a different standing\nthere and hopefully understand.\n\n753\n00:39:55.497 --> 00:39:59.347\nBut that is the case and we'd have to\ntake steps to deal with that in some way.\n\n754\n00:39:59.347 --> 00:40:02.730\nWe'll go back through, take a look under\nthe hood at a lot more of these areas,\n\n755\n00:40:02.730 --> 00:40:05.344\na lot of tabs in there,\na lot of interesting things going on,\n\n756\n00:40:05.344 --> 00:40:06.288\nwe wanna be aware of.\n\n757\n00:40:06.288 --> 00:40:10.112\nWe'll take a look in our upcoming\nconversations about how to\n\n758\n00:40:10.112 --> 00:40:14.688\nrevoke a certificate, how to then\npublish out a CRL and see that happen.\n\n759\n00:40:14.688 --> 00:40:17.759\nWe obviously have talked a bit about\ncertificates that may have already been\n\n760\n00:40:17.759 --> 00:40:18.337\nissued here.\n\n761\n00:40:18.337 --> 00:40:20.475\nAnd all the other things\nthat are available to us and\n\n762\n00:40:20.475 --> 00:40:23.677\nwe'll look at all those details as part\nof managing the CA thought process.\n\n763\n00:40:23.677 --> 00:40:24.957\n&gt;&gt; All right, sounds like a plan Adam.\n\n764\n00:40:24.957 --> 00:40:27.329\nWe were able to go ahead and\nsee how we can get one spun up and\n\n765\n00:40:27.329 --> 00:40:29.322\nwe'll come back and\nlook at all those details.\n\n766\n00:40:29.322 --> 00:40:31.948\nSo thank you for that and\nthank you for joining us as well.\n\n767\n00:40:31.948 --> 00:40:35.553\nBut for this show we'll go ahead and sign\nout, I've been your host Cherokee Boose.\n\n768\n00:40:35.553 --> 00:40:36.957\n&gt;&gt; I am Adam Gordon.\n\n769\n00:40:36.957 --> 00:40:40.098\n&gt;&gt; See you next time here at ITProTV.\n\n770\n00:40:40.098 --> 00:40:46.367\n[MUSIC]\n\n771\n00:40:46.367 --> 00:40:49.477\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "231882318"
        },
        {
          "description": "In this episode, Cherokee and Adam begin the show reiterating some vocab terms. Next Adam how to use the CAPolicy.inf file. They also set up a standalone CA via PowerShell.",
          "length": "2275",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-3-deploying_and_managing_ad_cs_pt3-083017-PGM.00_37_36_18.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-3-deploying_and_managing_ad_cs_pt3-083017-PGM.00_37_36_18.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-3-deploying_and_managing_ad_cs_pt3-083017-PGM.00_37_36_18.Still002-sm.jpg",
          "title": "Deploying and Managing AD CS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.131 --> 00:00:01.213\nWelcome to ITProTV.\n\n2\n00:00:01.213 --> 00:00:03.252\n[CROSSTALK]\n\n3\n00:00:03.252 --> 00:00:08.320\n[MUSIC]\n\n4\n00:00:08.320 --> 00:00:10.853\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:10.853 --> 00:00:11.905\n[MUSIC]\n\n6\n00:00:11.905 --> 00:00:15.337\n&gt;&gt; Welcome to back to Identity\nwith Windows Server 2016.\n\n7\n00:00:15.337 --> 00:00:17.337\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.337 --> 00:00:21.202\nIn this episode, we'll continue our\ndiscussion where we're looking at managing\n\n9\n00:00:21.202 --> 00:00:23.863\nand deploying active directory\ncertificate services.\n\n10\n00:00:23.863 --> 00:00:26.780\nAnd back with us in studios today,\nwe have Mr. Adam Gordon.\n\n11\n00:00:26.780 --> 00:00:28.090\nThanks for joining us today, Adam.\n\n12\n00:00:28.090 --> 00:00:30.305\n&gt;&gt; Thank you.\nAlways a pleasure to be here spending time\n\n13\n00:00:30.305 --> 00:00:33.622\nwith all of you, with Cherokee, and\nwith everybody who may at some point wanna\n\n14\n00:00:33.622 --> 00:00:36.457\nspend time with us cuz we're cool and\nyou like hanging out with us.\n\n15\n00:00:36.457 --> 00:00:37.717\nWe talk about good stuff.\n\n16\n00:00:37.717 --> 00:00:41.111\nSo let's continue talking about ADCS or\nas Cherokee indicated,\n\n17\n00:00:41.111 --> 00:00:43.343\nActive Directory Certificate Services.\n\n18\n00:00:43.343 --> 00:00:46.168\nThat's worth a fist bump cuz\nyou got that one the first try.\n\n19\n00:00:46.168 --> 00:00:46.972\nThat was awesome.\n\n20\n00:00:46.972 --> 00:00:48.880\nAll right, so ADCS,\nwhat are we talking about?\n\n21\n00:00:48.880 --> 00:00:52.667\nLet's actually go take a look at\na couple pf quick vocabulary items.\n\n22\n00:00:52.667 --> 00:00:55.199\nA great little summary page\nMicrosoft has out there.\n\n23\n00:00:55.199 --> 00:00:57.031\nEnterprise PKI Concepts.\n\n24\n00:00:57.031 --> 00:01:00.455\nWe'll make sure you have the URL for\nthis in the show notes.\n\n25\n00:01:00.455 --> 00:01:04.630\nBut as always, good to just go out and\nsee what's going on at the vendor sites.\n\n26\n00:01:04.630 --> 00:01:09.732\nSpecifically, get it from the proverbial\nfountain of knowledge if you will.\n\n27\n00:01:09.732 --> 00:01:12.152\nThis information is not\nspecific to Microsoft.\n\n28\n00:01:12.152 --> 00:01:16.800\nIt is generically just vocabulary around\nPKI, but the explanations are very good,\n\n29\n00:01:16.800 --> 00:01:19.614\nthey're helpful, and\nthey do put into context and\n\n30\n00:01:19.614 --> 00:01:22.900\nfocus for us in I think that\nare very easily consumable way.\n\n31\n00:01:22.900 --> 00:01:25.428\nSome of the topics we've been\ntalking about in prior episodes.\n\n32\n00:01:25.428 --> 00:01:28.480\nWe've talked about the CA concepts,\nyou can see them defined there.\n\n33\n00:01:28.480 --> 00:01:31.001\nWhat a certificate is,\nwe've talked a bit about that,\n\n34\n00:01:31.001 --> 00:01:33.374\nwe'll have more to say about\nwhat those are as we go.\n\n35\n00:01:33.374 --> 00:01:35.530\nI've talked about certificate\nrevocation lists.\n\n36\n00:01:35.530 --> 00:01:38.386\nWe're gonna take a look at that and\nsee how we deal with that,\n\n37\n00:01:38.386 --> 00:01:42.418\nas well as a certificate revocation list,\nwhat's called DP or distribution point,\n\n38\n00:01:42.418 --> 00:01:44.884\nwhere we get the certificate\nrevocation list from.\n\n39\n00:01:44.884 --> 00:01:47.502\nAnd there's also this\nthing called the AIA, or\n\n40\n00:01:47.502 --> 00:01:49.868\nauthority information access location.\n\n41\n00:01:49.868 --> 00:01:51.428\nThis is one you will\noften will hear about.\n\n42\n00:01:51.428 --> 00:01:57.035\nWe're gonna discuss this a little bit with\nsomething called the CAPolicy.inf file,\n\n43\n00:01:57.035 --> 00:01:59.874\nan answer file that could\nbe used to change or\n\n44\n00:01:59.874 --> 00:02:03.582\nprovide specific details\naround the deployment of a CA.\n\n45\n00:02:03.582 --> 00:02:07.785\nInstead of using the default deployment\noptions, we can provide these and\n\n46\n00:02:07.785 --> 00:02:11.922\nhave the specific answers that are in\nthe CA policy inf file applied during\n\n47\n00:02:11.922 --> 00:02:14.680\nthe deployment,\ncustomizing or modifying it.\n\n48\n00:02:14.680 --> 00:02:17.585\nSo we'll take a look at how to create\nthat file in a minute and talk about it.\n\n49\n00:02:17.585 --> 00:02:21.080\nBut the authority information access,\nor AIA, location as well.\n\n50\n00:02:21.080 --> 00:02:23.407\nLet me actually just zoom in\nwhile we're talking just so\n\n51\n00:02:23.407 --> 00:02:26.141\nyou could see this just a little\nbit better, a little bit easier.\n\n52\n00:02:26.141 --> 00:02:28.190\nObviously important to have\na sense of the vocabulary.\n\n53\n00:02:28.190 --> 00:02:31.345\nBut this one in particular is\ngood to have an awareness of.\n\n54\n00:02:31.345 --> 00:02:33.822\nLet's just highlight it so\nyou can see what we're talking about.\n\n55\n00:02:33.822 --> 00:02:37.669\nAIAs are URLs added to a certificate\nin the authority information,\n\n56\n00:02:37.669 --> 00:02:38.824\nacts as extension.\n\n57\n00:02:38.824 --> 00:02:40.926\nI'm gonna show you where\nthis is as we go in.\n\n58\n00:02:40.926 --> 00:02:45.049\nAnd we are publishing information\nabout the certificate details,\n\n59\n00:02:45.049 --> 00:02:49.168\nputting in one or more URLs with\nplaceholder variables for CA name,\n\n60\n00:02:49.168 --> 00:02:52.294\ncertificate revocation list name,\ndelta, etc.\n\n61\n00:02:52.294 --> 00:02:53.817\nThere's different options\nwe'll program in.\n\n62\n00:02:53.817 --> 00:02:54.978\nWe'll take a look at that.\n\n63\n00:02:54.978 --> 00:02:57.244\nThese URLs are used by an application or\n\n64\n00:02:57.244 --> 00:03:00.206\na service to retrieve\nthe issuing CA certificate.\n\n65\n00:03:00.206 --> 00:03:03.182\nThis is important because we may,\nremember,\n\n66\n00:03:03.182 --> 00:03:06.325\nbe getting a certificate\nfrom a subordinate CA.\n\n67\n00:03:06.325 --> 00:03:10.146\nWe may not be seeing every certificate\nin the chain all the way up to the root.\n\n68\n00:03:10.146 --> 00:03:13.782\nAnd so this is going to allow us to\nbe able to validate the signature and\n\n69\n00:03:13.782 --> 00:03:18.043\nbuild a path to a trusted certificate, so\nit points us in a direction where we need\n\n70\n00:03:18.043 --> 00:03:20.298\nto be to be able to grab and\nfill in the gaps or\n\n71\n00:03:20.298 --> 00:03:24.687\nthe delta areas between our issuing CA and\nperhaps other CAs higher up in the chain,\n\n72\n00:03:24.687 --> 00:03:28.762\nallowing us to make sure we're able to\nsee all of that path and understand it,\n\n73\n00:03:28.762 --> 00:03:31.582\nuse it, validate it and\nif necessary, acquire one or\n\n74\n00:03:31.582 --> 00:03:35.909\nmore those of certificates to ensure we\ncan validate where they're coming from so\n\n75\n00:03:35.909 --> 00:03:39.852\nthat we can see that whole trust path\nthat I showed you in the last episode.\n\n76\n00:03:39.852 --> 00:03:44.191\nIf you remember, we went through and took\na look at how to install and configure\n\n77\n00:03:44.191 --> 00:03:48.496\nusing PowerShell, both an enterprise\nroute, enterprise subordinate CA.\n\n78\n00:03:48.496 --> 00:03:51.206\nAnd as we've done that or\nas we went through and did that,\n\n79\n00:03:51.206 --> 00:03:54.762\nwe took a look at the trust path on the\nsubordinate CA and saw that it actually\n\n80\n00:03:54.762 --> 00:03:57.821\ndoes reference back up to the root\ncertificate from the root CA.\n\n81\n00:03:57.821 --> 00:04:01.567\nSo I just wanna make sure we're familiar\nwith the logic of these things, these\n\n82\n00:04:01.567 --> 00:04:05.392\nvocabulary terms and how they come into\nplay here as we begin our conversation.\n\n83\n00:04:05.392 --> 00:04:07.669\nSo always good just to\ncheck in with vocabulary,\n\n84\n00:04:07.669 --> 00:04:10.777\nmake sure we have a working knowledge\nof how to refer to things, and\n\n85\n00:04:10.777 --> 00:04:13.177\nthen we understand the logic\nof what we're doing.\n\n86\n00:04:13.177 --> 00:04:16.804\nLet's take a look at the CA\npolicy.inf file that I mentioned.\n\n87\n00:04:16.804 --> 00:04:21.552\nThe idea behind this is that as we\nconfigure our certificate authority during\n\n88\n00:04:21.552 --> 00:04:26.518\nthe installation, you saw me do this\nthrough PowerShell, and just to remind you\n\n89\n00:04:26.518 --> 00:04:31.118\nof the demonstration we did during\nthe last episode you can see right here,\n\n90\n00:04:31.118 --> 00:04:33.259\nI just kind of left PowerShell up.\n\n91\n00:04:33.259 --> 00:04:37.739\nWe walked through the logic of how to\nadd the Windows features for ADCS cert\n\n92\n00:04:37.739 --> 00:04:42.738\nauthority and web enrollment capabilities\nincluding all the management tools.\n\n93\n00:04:42.738 --> 00:04:46.317\nWe then we ahead and after we did\nthe add Windows feature commandlet,\n\n94\n00:04:46.317 --> 00:04:48.600\nwe used two separate install commandlets,\n\n95\n00:04:48.600 --> 00:04:51.516\none specifying the certification\nauthority, the CA.\n\n96\n00:04:51.516 --> 00:04:55.853\nUsed the CAType parameter, specified\na value of enterprise root in this case.\n\n97\n00:04:55.853 --> 00:04:58.122\nI'm gonna do another walk\nthrough with you here and\n\n98\n00:04:58.122 --> 00:04:59.713\nshow you how to set up a stand alone.\n\n99\n00:04:59.713 --> 00:05:01.467\nRemember, we talked about\nthe difference there.\n\n100\n00:05:01.467 --> 00:05:07.008\nI said, hey you would just variable or\nuse a variable input parameter for that.\n\n101\n00:05:07.008 --> 00:05:10.274\nInstead of enterprise root CA, you would\nspecify enterprise subordinate CA.\n\n102\n00:05:10.274 --> 00:05:12.484\nWe did that as well, but\nI will show you stand alone.\n\n103\n00:05:12.484 --> 00:05:14.846\nWe'll do that, and\nI have that set up on a different machine.\n\n104\n00:05:14.846 --> 00:05:16.475\nI will be showing you\nthat in a few minutes.\n\n105\n00:05:16.475 --> 00:05:19.304\nBut install ACDS certification authority,\nCA type.\n\n106\n00:05:19.304 --> 00:05:21.232\nWe then went through, did the install.\n\n107\n00:05:21.232 --> 00:05:24.714\nACDS web enrollment to set up and\nallow us or\n\n108\n00:05:24.714 --> 00:05:30.247\ninstantiate the web enrollment capability,\nso we did all of that.\n\n109\n00:05:30.247 --> 00:05:32.224\nWe got our CA stood up.\n\n110\n00:05:32.224 --> 00:05:34.826\nWe went into the server manager,\nwent to tools,\n\n111\n00:05:34.826 --> 00:05:37.497\nunder tools selected\ncertification authority.\n\n112\n00:05:37.497 --> 00:05:41.029\nA link to open up the MMC specific\nto management of the certificates.\n\n113\n00:05:41.029 --> 00:05:43.493\nAnd by the way,\ntwo things here just to be clear on.\n\n114\n00:05:43.493 --> 00:05:44.409\nI get this sometimes.\n\n115\n00:05:44.409 --> 00:05:48.456\nPeople will occasionally say,\nI can load that certificate, MMC, and\n\n116\n00:05:48.456 --> 00:05:49.443\nI know what to do.\n\n117\n00:05:49.443 --> 00:05:51.531\nAnd they make an obvious wrong choice, so\n\n118\n00:05:51.531 --> 00:05:53.627\nI just want to equip\nyou to deal with that.\n\n119\n00:05:53.627 --> 00:05:55.914\nI'm just gonna open up\nan MMC really quickly.\n\n120\n00:05:55.914 --> 00:05:59.990\nRight click on the Start menu item,\nin this case the Windows flag there\n\n121\n00:05:59.990 --> 00:06:03.319\nat the lower left-hand side\nof our Server 16 desktop.\n\n122\n00:06:03.319 --> 00:06:07.962\nRun, just opening up a Run line,\ntyping MMC to open a blank MMC shell.\n\n123\n00:06:07.962 --> 00:06:11.279\nVery straightforward, very easy to do,\nhave our console here.\n\n124\n00:06:11.279 --> 00:06:15.368\nGonna go to File,\ngonna go to Add/Remove Snap-ins.\n\n125\n00:06:15.368 --> 00:06:21.325\nAnd we're gonna see here,\nlet me just move this over, And\n\n126\n00:06:21.325 --> 00:06:24.115\nnotice I did that flawlessly, I practiced\n&gt;&gt; [LAUGH]\n\n127\n00:06:24.115 --> 00:06:26.140\n&gt;&gt; The entire time between episodes so\n\n128\n00:06:26.140 --> 00:06:27.089\nI could do that.\n\n129\n00:06:27.089 --> 00:06:30.949\nI was so nervous, you can't see\nmy hands like this on the mouse.\n\n130\n00:06:30.949 --> 00:06:35.130\nIt was [SOUND] crazy,\njust absolutely crazy, but I got it done.\n\n131\n00:06:35.130 --> 00:06:36.717\nAll right, so I'm only kidding.\n\n132\n00:06:36.717 --> 00:06:40.045\nJust wanna show you a common mistake\npeople may make if they're not paying\n\n133\n00:06:40.045 --> 00:06:42.578\nattention because it is very\neasy to get confused here.\n\n134\n00:06:42.578 --> 00:06:44.742\nCan we just go full screen just so\nwe could see this real quick?\n\n135\n00:06:44.742 --> 00:06:48.748\nYou can see that there are three items\nright on a certificate authority, right?\n\n136\n00:06:48.748 --> 00:06:52.393\nSo obviously on a machine that\nhas the CA features installed and\n\n137\n00:06:52.393 --> 00:06:55.160\nconfigured is where\nyou'll find these three.\n\n138\n00:06:55.160 --> 00:06:57.268\nIf you're on a machine without\nthe certificate authority,\n\n139\n00:06:57.268 --> 00:07:00.050\nwe'd always see the first of the three\nthat I'm pointing to in the middle here.\n\n140\n00:07:00.050 --> 00:07:02.299\nJust certificates for the local store, but\n\n141\n00:07:02.299 --> 00:07:06.069\nthe idea is you have certificate\ntemplates, certification authority,\n\n142\n00:07:06.069 --> 00:07:10.102\nwhich is the MMC we're using, through\nthe server manager and certificates.\n\n143\n00:07:10.102 --> 00:07:15.051\nAnd what people sometimes get wrong is\nI can just load that certificates item,\n\n144\n00:07:15.051 --> 00:07:18.940\nthe local certificate store manager\nessentially in the MMC, and\n\n145\n00:07:18.940 --> 00:07:23.343\nI'll see all the enterprise level or\nstand alone level CA certificates.\n\n146\n00:07:23.343 --> 00:07:25.014\nWell, no you'll see machine and\n\n147\n00:07:25.014 --> 00:07:28.071\nuser certificates local to that\none machine not from the CA.\n\n148\n00:07:28.071 --> 00:07:30.657\nSo just wanna make sure you're\nclear that when we go and\n\n149\n00:07:30.657 --> 00:07:34.596\nwe talk about loading that tool, we're\nactually talking about the one designated\n\n150\n00:07:34.596 --> 00:07:36.304\nthe MMC certification authority.\n\n151\n00:07:36.304 --> 00:07:40.426\nNow if you wanna make your own MMC,\nin theory you could certainly do that.\n\n152\n00:07:40.426 --> 00:07:43.712\nYou don't wanna go in to the server\nmanager and just open that one tool.\n\n153\n00:07:43.712 --> 00:07:47.198\nYou know maybe you want the active\ndirectory user in computer manager in\n\n154\n00:07:47.198 --> 00:07:51.676\nthere, maybe you want certificates and/or\nthe templates and certification authority,\n\n155\n00:07:51.676 --> 00:07:53.999\nmaybe some other stuff,\nso you can load that And\n\n156\n00:07:53.999 --> 00:07:56.643\nget to the same place just\nhave more tools available.\n\n157\n00:07:56.643 --> 00:08:00.230\nThat's obviously always an option wanna\nencourage you to think about that.\n\n158\n00:08:00.230 --> 00:08:03.050\nBut I just wanted to show you\nthat sometimes people will just\n\n159\n00:08:03.050 --> 00:08:06.380\nconfuse which certificate,\ntemplate, or which certificate or\n\n160\n00:08:06.380 --> 00:08:09.330\nwhich CA snap in for\nthe MMC they have to use.\n\n161\n00:08:09.330 --> 00:08:11.270\nSo just make sure you're aware of that.\n\n162\n00:08:11.270 --> 00:08:16.670\nAlso the other thing, we went ahead and\nwe ran through the configuration.\n\n163\n00:08:16.670 --> 00:08:19.660\nWe're about to take a look at some of\nthe options that I'm gonna show you\n\n164\n00:08:19.660 --> 00:08:22.310\nhow to create the CA Policy file.\n\n165\n00:08:22.310 --> 00:08:24.650\nI've already done that,\nI'm gonna show that to you on a machine.\n\n166\n00:08:24.650 --> 00:08:28.555\nBut I just wanted to quickly show you\nwhat the Web Enrollment piece does.\n\n167\n00:08:28.555 --> 00:08:32.375\nWe mentioned the last couple of episodes,\nI said hey we do get this web\n\n168\n00:08:32.375 --> 00:08:36.855\ncapability if we install the certificate\nauthority with the Web Enrollment option.\n\n169\n00:08:36.855 --> 00:08:38.615\nYou saw that we chose to do that.\n\n170\n00:08:38.615 --> 00:08:42.505\nWe've configured it and what it does,\nas I mentioned, is it binds to the default\n\n171\n00:08:42.505 --> 00:08:47.640\nwebsite on the system we install,\nIS, the web server for Windows.\n\n172\n00:08:47.640 --> 00:08:52.203\nAnd we then have our Default Web Site and\nunderneath we get a CertEnrol and\n\n173\n00:08:52.203 --> 00:08:56.980\nCertSrv, our virtual directory and\ninformation associated with it,\n\n174\n00:08:56.980 --> 00:09:01.510\nproviding access to the webpages that are\ngonna be used to drive the Web Erollment.\n\n175\n00:09:01.510 --> 00:09:02.190\nYou can see them here.\n\n176\n00:09:02.190 --> 00:09:04.160\nNow, one of the things that can happen.\n\n177\n00:09:04.160 --> 00:09:05.910\nAgain, you just gotta pay\nattention to this and know,\n\n178\n00:09:05.910 --> 00:09:08.910\nkind of separate details\nbehind the scenes on this.\n\n179\n00:09:08.910 --> 00:09:11.750\nAnd the reason I'm pointing this out\nis it's good to come in and know\n\n180\n00:09:11.750 --> 00:09:15.610\nthe default behavior versus what you need\nin order to make this work the right way.\n\n181\n00:09:15.610 --> 00:09:19.260\nIf you bind this to the Default Web Site,\nwhich is the case during the install and\n\n182\n00:09:19.260 --> 00:09:24.030\nthis is how it works, what will happen\nis that the virtual directory for\n\n183\n00:09:24.030 --> 00:09:28.870\nCertSrv right here, which is the\ninformation that provides the web pages\n\n184\n00:09:28.870 --> 00:09:33.940\nthat are loaded, in the sub directory for\nthis particular website.\n\n185\n00:09:33.940 --> 00:09:38.260\nThis automatically is gonna be\nworking with HTTP and HTTPS.\n\n186\n00:09:38.260 --> 00:09:41.020\nThe binding in other words allows for\nboth HTTP and\n\n187\n00:09:41.020 --> 00:09:45.070\nHTTPS to be served up which is what we\nneed to be able to secure the communicate\n\n188\n00:09:45.070 --> 00:09:48.270\nwith the certificate services\nenrollment web page.\n\n189\n00:09:48.270 --> 00:09:52.240\nAnd what I mean by that is that we can\ngo in, we can look at basic settings, so\n\n190\n00:09:52.240 --> 00:09:53.990\njust highlight the page over here.\n\n191\n00:09:53.990 --> 00:09:58.592\nCome over here to basic settings,\nand you'll see we have our path,\n\n192\n00:09:58.592 --> 00:10:02.815\nour alias, our application pool,\nour physical path, etc.\n\n193\n00:10:02.815 --> 00:10:05.060\nWhere we can do test our settings,\ndo all that.\n\n194\n00:10:05.060 --> 00:10:10.860\nWe could also look at our ability\nto go in under Advanced Settings.\n\n195\n00:10:10.860 --> 00:10:13.580\nAnd we can see which is where\nwe would go to take a look.\n\n196\n00:10:13.580 --> 00:10:17.160\nThe fact that under\nBehavior Enabled Protocols it will list\n\n197\n00:10:17.160 --> 00:10:18.540\nHTTP by default, by the way.\n\n198\n00:10:18.540 --> 00:10:22.670\nI've just typed in HTTPS there, but\nit lists HTTP out of the box by default.\n\n199\n00:10:22.670 --> 00:10:23.770\nNow if you look, and\n\n200\n00:10:23.770 --> 00:10:27.630\nthis is one of those little things you\njust gotta kinda work around here, right?\n\n201\n00:10:27.630 --> 00:10:32.190\nHighlight this, look here, it'll say HTTP,\nbut it actually supports both protocol.\n\n202\n00:10:32.190 --> 00:10:33.830\nYou just may not realize that.\n\n203\n00:10:33.830 --> 00:10:37.140\nYou gotta read this Enabled Protocol\nsection down here which you have to hover\n\n204\n00:10:37.140 --> 00:10:40.560\nand even if we go full screen, it's like\nfour lines, it's like this crazy long.\n\n205\n00:10:40.560 --> 00:10:43.310\nIt's really hard to understand and\nsee everything in there but\n\n206\n00:10:43.310 --> 00:10:48.360\nwhat it basically tells you is that\nas long as it says either HTTP or\n\n207\n00:10:48.360 --> 00:10:51.060\nHTTPS, it will support both protocols.\n\n208\n00:10:51.060 --> 00:10:54.350\nIf it doesn't have anything then it\ndefaults to a different solution,\n\n209\n00:10:54.350 --> 00:10:56.170\nyou have to then go in and\nadd some things.\n\n210\n00:10:56.170 --> 00:10:59.130\nSo by default out of the box,\nHTTP is there and\n\n211\n00:10:59.130 --> 00:11:02.420\nHTTPS is implied and will be supported,\nso just be aware of that.\n\n212\n00:11:02.420 --> 00:11:06.260\nHowever, this is not the part\nthat is the complicated part.\n\n213\n00:11:06.260 --> 00:11:07.800\nIt's a little crazy.\n\n214\n00:11:07.800 --> 00:11:10.190\nThe complicated part is\nthe default website itself.\n\n215\n00:11:10.190 --> 00:11:14.990\nWhen we go and take a look which is\nwhere the subset of pages gets honed on\n\n216\n00:11:14.990 --> 00:11:17.280\nis set for HTTP by default.\n\n217\n00:11:17.280 --> 00:11:21.600\nIn other words the bindings on\nthe default website don't support HTTPS\n\n218\n00:11:21.600 --> 00:11:22.540\nout of the box.\n\n219\n00:11:22.540 --> 00:11:26.680\nAnd as a result, you have to actually\ngo and configurate your HTTPS\n\n220\n00:11:26.680 --> 00:11:31.370\nsupport on the default website or when you\nconnect to the certificate web server,\n\n221\n00:11:31.370 --> 00:11:34.610\nthe pages, you'll be able to load the\npage, you'll be able to make a request,\n\n222\n00:11:34.610 --> 00:11:37.950\nbut you get to the end of the request\nform and it comes up with a warning.\n\n223\n00:11:37.950 --> 00:11:39.120\nIt says essentially hey,\n\n224\n00:11:39.120 --> 00:11:43.330\nin order to complete auto enrollment,\nyou must have HTTPS support.\n\n225\n00:11:43.330 --> 00:11:45.270\nAnd you don't have that\nenabled on the web page.\n\n226\n00:11:45.270 --> 00:11:47.060\nAnd so\nwe can't complete the auto enrollment.\n\n227\n00:11:47.060 --> 00:11:50.970\nSo essentially it doesn't work\nthe way it's supposed to because HTTPS\n\n228\n00:11:50.970 --> 00:11:53.350\nprotocol support is not bound or enabled.\n\n229\n00:11:53.350 --> 00:11:56.241\nBut not on the CertSrv sub\nvirtual directory and site, but\n\n230\n00:11:56.241 --> 00:12:00.400\non the default website, which is\nwhere essentially have to go through.\n\n231\n00:12:00.400 --> 00:12:03.250\nSo it's one of those little hidden\nthings you may not be aware of.\n\n232\n00:12:03.250 --> 00:12:06.050\nYou figure it out when you read\nthe message, and go wait let me go check,\n\n233\n00:12:06.050 --> 00:12:09.080\nand I didn't realize, and you got to\nfumble around in there a little bit in\n\n234\n00:12:09.080 --> 00:12:11.180\norder to make sure you\nunderstand what's going on.\n\n235\n00:12:11.180 --> 00:12:13.510\nSo what you have to do is\ngo to the default website.\n\n236\n00:12:13.510 --> 00:12:17.376\nCome over here to bindings\nright up here under Edit site,\n\n237\n00:12:17.376 --> 00:12:19.565\nyou'll see bindings up there.\n\n238\n00:12:19.565 --> 00:12:21.968\nIt's little hard to see it's in\nlight blue but I'm pointing to it,\n\n239\n00:12:21.968 --> 00:12:24.370\nit's right under Edit site,\nyou'll be able to see it.\n\n240\n00:12:24.370 --> 00:12:27.020\nWhen you go to bindings that's\nwhere we would normally by default,\n\n241\n00:12:27.020 --> 00:12:30.430\nbecause I've edited mine so\nit does have HTTPS there.\n\n242\n00:12:30.430 --> 00:12:34.600\nWhen you look at it, you'll see\nHTTP port 80, IP address asterisk,\n\n243\n00:12:34.600 --> 00:12:38.050\nmeaning any IP coming\nin would be accepted or\n\n244\n00:12:38.050 --> 00:12:41.360\nbind to any IP address rather on\nthe interface is what I mean to say.\n\n245\n00:12:41.360 --> 00:12:46.180\nAnd so that by itself is not enough\nbecause HTTP here does not imply\n\n246\n00:12:46.180 --> 00:12:51.180\nboth HTTP and HTTPS, they way it does\non the CertSrv virtual directory where\n\n247\n00:12:51.180 --> 00:12:54.230\nwe see it that it does support both\nunder enablement of the protocol.\n\n248\n00:12:54.230 --> 00:12:58.610\nSo here you would have to go in and\nadd this, because as I think Cherokee was\n\n249\n00:12:58.610 --> 00:13:04.870\nabout to ask, if we added HTTP can we\nmake that pull down and say HTTPS, right?\n\n250\n00:13:04.870 --> 00:13:08.500\nAnd it's grayed out and we're not able\nto change that, that's hard coded for\n\n251\n00:13:08.500 --> 00:13:09.630\nthe website.\n\n252\n00:13:09.630 --> 00:13:13.560\nYou can't modify the initial binding,\nit is set to HTTP.\n\n253\n00:13:13.560 --> 00:13:17.860\nSo instead of being able to modify that,\nwe have to add an additional binding,\n\n254\n00:13:17.860 --> 00:13:18.940\nso you just click Add.\n\n255\n00:13:18.940 --> 00:13:23.660\nIt's very simple, you pull down, you have\nthe ability at that point to choose HTTPS,\n\n256\n00:13:23.660 --> 00:13:28.230\njust set it all on assigned on\nautomatically puts the port in for\n\n257\n00:13:28.230 --> 00:13:32.160\nport 443 unless you choose to change\nthat by randomizing that port.\n\n258\n00:13:32.160 --> 00:13:33.832\nYou could specify a host name,\n\n259\n00:13:33.832 --> 00:13:37.758\nspecify an SSL certificate that you\nwanna bind there to allow support for\n\n260\n00:13:37.758 --> 00:13:42.133\nthat whether it's the machine certificate,\nor the CA certificate in our case,\n\n261\n00:13:42.133 --> 00:13:46.343\ncuz we're using the CA and the machine\nessentially are co-terminus there.\n\n262\n00:13:46.343 --> 00:13:47.536\nThey are the same identity but\n\n263\n00:13:47.536 --> 00:13:49.930\nthey have different certificates\nto do different things.\n\n264\n00:13:49.930 --> 00:13:52.130\nOne is a domain controller certificate.\n\n265\n00:13:52.130 --> 00:13:54.170\nThe other is a root CA certificate.\n\n266\n00:13:54.170 --> 00:13:56.240\nAs we've talked about,\ndifferent certificate types.\n\n267\n00:13:56.240 --> 00:13:59.626\nSo you would bind the appropriate\ncertificate here depending on what you\n\n268\n00:13:59.626 --> 00:14:00.970\nchoose to do.\n\n269\n00:14:00.970 --> 00:14:05.790\nAnd then once you've done all that,\nyou would then have this binding and\n\n270\n00:14:05.790 --> 00:14:09.660\nthat will allow you to then\nbe able to support HTTPS.\n\n271\n00:14:09.660 --> 00:14:13.784\nAnd then, when you go in and\nyou do something like\n\n272\n00:14:13.784 --> 00:14:19.720\nthis Whoops,\nactually we could do it right from here.\n\n273\n00:14:19.720 --> 00:14:22.350\nWhen you go in and\nyou do something like this,\n\n274\n00:14:22.350 --> 00:14:27.832\nlet me just open up a web\nbrowser quickly and you connect.\n\n275\n00:14:27.832 --> 00:14:31.215\n[SOUND] And it is always machine name so\n\n276\n00:14:31.215 --> 00:14:35.800\nI could literally on this\nmachine do localhost but\n\n277\n00:14:35.800 --> 00:14:40.180\nwe'll type in PLABDC01, and then CertSrv.\n\n278\n00:14:40.180 --> 00:14:44.896\nSo, C-E-R-T-S-R-V, and you will then get\na certificate warning depending on whether\n\n279\n00:14:44.896 --> 00:14:49.253\nyou've chosen the appropriate certificate,\ntaken the certificate, download it,\n\n280\n00:14:49.253 --> 00:14:51.650\nput it in the store on the local machine.\n\n281\n00:14:51.650 --> 00:14:54.020\nSo it's really common when we\nsee the certificate warning.\n\n282\n00:14:54.020 --> 00:14:56.620\nIt just means you are being told\nthat the certificate is not being\n\n283\n00:14:56.620 --> 00:14:59.130\ntrusted by you because it's not loaded and\navailable.\n\n284\n00:14:59.130 --> 00:15:00.920\nBut you can easily move through that,\nno big deal.\n\n285\n00:15:00.920 --> 00:15:03.230\nYou'll then see we are although\nit's hard to see but\n\n286\n00:15:03.230 --> 00:15:06.560\nwe are using HTTPS up\nthere importing to it.\n\n287\n00:15:06.560 --> 00:15:08.780\nIt is using secure HTTP.\n\n288\n00:15:08.780 --> 00:15:12.820\nWe get a little certificate error warning\ncuz we do not trust the certificate.\n\n289\n00:15:12.820 --> 00:15:16.720\nBut then, if we go and\nrequest a certificate,\n\n290\n00:15:16.720 --> 00:15:21.150\nwhatever that certificate request maybe,\nwe choose the appropriate choice which I'm\n\n291\n00:15:21.150 --> 00:15:23.530\njust clicking through quickly\njust to get to this here.\n\n292\n00:15:23.530 --> 00:15:26.925\nThis is not the warning by the way,\nthat I said would pop up and say, hey,\n\n293\n00:15:26.925 --> 00:15:27.975\nyou can't do this.\n\n294\n00:15:27.975 --> 00:15:29.895\nThis is a separate\nwarning that comes up and\n\n295\n00:15:29.895 --> 00:15:33.405\nsays we attempted to perform additional\ncertificate operation on your behalf.\n\n296\n00:15:33.405 --> 00:15:36.535\nYou're proxying, in other words\nyou request through this website.\n\n297\n00:15:36.535 --> 00:15:41.015\nYou should only allow this to\nbe done if you trust the source.\n\n298\n00:15:41.015 --> 00:15:41.595\nAre you sure?\n\n299\n00:15:41.595 --> 00:15:42.995\nYes, absolutely.\n\n300\n00:15:42.995 --> 00:15:44.875\nSo we're gonna get a page\nhere in just a minute.\n\n301\n00:15:46.250 --> 00:15:47.579\nIt's just resolving.\n\n302\n00:15:47.579 --> 00:15:49.672\nThis our Certificate Request Form,\n\n303\n00:15:49.672 --> 00:15:53.798\nwhatever that may be in terms of\nthe type of certificate template we use.\n\n304\n00:15:53.798 --> 00:15:55.706\nYou could see there are several there.\n\n305\n00:15:55.706 --> 00:15:58.466\nNot that we're gonna fill this out,\nbut whichever one we choose,\n\n306\n00:15:58.466 --> 00:15:59.660\nit doesn't really matter.\n\n307\n00:15:59.660 --> 00:16:03.330\nObviously this form changes based\non selection we will make here.\n\n308\n00:16:03.330 --> 00:16:06.040\nWe choose the appropriate things, right?\n\n309\n00:16:07.110 --> 00:16:08.490\nSo you'll see, depending on what I choose,\n\n310\n00:16:08.490 --> 00:16:11.900\nthe form is obviously pegged\nto a different template.\n\n311\n00:16:11.900 --> 00:16:15.170\nAnd then based on that,\nwhen I'm done at the bottom,\n\n312\n00:16:15.170 --> 00:16:18.240\nwhatever it may be,\nI'll put that through, I'll hit Submit.\n\n313\n00:16:18.240 --> 00:16:22.581\nAssuming this is a valid request, the\ncertification of the credentials is done\n\n314\n00:16:22.581 --> 00:16:24.979\nproperly, or the authentication rather,\n\n315\n00:16:24.979 --> 00:16:27.958\nof the credentials is done properly,\nand we provide,\n\n316\n00:16:27.958 --> 00:16:32.690\nif we are asked to provide information\nabout credentials, they are validated.\n\n317\n00:16:32.690 --> 00:16:36.580\nOur certificate is issued, and we get\na little pop up, as I said, that says,\n\n318\n00:16:36.580 --> 00:16:37.550\nessentially, click here.\n\n319\n00:16:37.550 --> 00:16:40.830\nYou can install the certificate, download\nit, save it, whatever you wanna do, and\n\n320\n00:16:40.830 --> 00:16:42.520\nthen the certificate's available for use.\n\n321\n00:16:42.520 --> 00:16:44.960\nSo, I'm just pointing out that in\norder to set this up and actually\n\n322\n00:16:46.030 --> 00:16:49.740\nuse the web enrollment function, there is\na little bit of magic behind the scenes\n\n323\n00:16:49.740 --> 00:16:52.730\nthat we don't really necessarily\ndocument or talk about formally.\n\n324\n00:16:52.730 --> 00:16:53.910\nBut you just have to know or\n\n325\n00:16:53.910 --> 00:16:58.530\nbe aware of the fact it could occur,\nif it does just want you to be prepared.\n\n326\n00:16:58.530 --> 00:17:01.420\nSo that way you're not caught\nshort saying, wait a second.\n\n327\n00:17:01.420 --> 00:17:04.110\nWhy do go to the trouble of installing\nweb enrollment, configuring it,\n\n328\n00:17:04.110 --> 00:17:05.630\nand then all of a sudden it's not working.\n\n329\n00:17:05.630 --> 00:17:06.740\nWhat's going on with that?\n\n330\n00:17:06.740 --> 00:17:09.550\nWhat's going on with that is just turn on\nthe right protocol support on the website.\n\n331\n00:17:09.550 --> 00:17:11.230\nAnd so if you read the pop up,\n\n332\n00:17:11.230 --> 00:17:15.660\nthe little warning, it does again, very\nsuccinctly tell you error codes are good.\n\n333\n00:17:15.660 --> 00:17:18.380\nError warnings are good that\ndo tell you what is wrong.\n\n334\n00:17:18.380 --> 00:17:19.820\nBut you do have to pay attention to them.\n\n335\n00:17:19.820 --> 00:17:21.390\nJust make sure you understand\nthe logic of that.\n\n336\n00:17:21.390 --> 00:17:23.840\nSo I've shown you how to address\nthat issue should it come up.\n\n337\n00:17:23.840 --> 00:17:25.310\nIt's very simple to do.\n\n338\n00:17:25.310 --> 00:17:26.590\nIt's not very complicated.\n\n339\n00:17:26.590 --> 00:17:31.910\nIf you have rights to the certificate,\nenrollment and configuration processes,\n\n340\n00:17:31.910 --> 00:17:35.660\na domain or enterprise admin or\nthe certificate authority administrator,\n\n341\n00:17:35.660 --> 00:17:38.520\nyou should be able to get into\nthe web server and deal with that.\n\n342\n00:17:38.520 --> 00:17:41.390\nIf someone else maintains those,\njust ask them to work with you\n\n343\n00:17:41.390 --> 00:17:44.600\nexplain what you need,\nyou need to enable HTTPS and\n\n344\n00:17:44.600 --> 00:17:47.950\nbind that to default web sites\nto enable auto enrollment.\n\n345\n00:17:47.950 --> 00:17:49.710\nThey can easily go and\ndo that you thought,\n\n346\n00:17:49.710 --> 00:17:52.040\nif you know what you're doing\nyou're gonna do quickly.\n\n347\n00:17:52.040 --> 00:17:53.810\nIt's a 30 second process it\ndoesn't take long at all.\n\n348\n00:17:53.810 --> 00:17:55.510\nIt's very, very simple to do, but\n\n349\n00:17:55.510 --> 00:17:59.910\nby doing that we then enable our ability\nto be able to use the web enrollment area.\n\n350\n00:17:59.910 --> 00:18:03.030\nSo, let's assumed we've done all of that\njust back fill some of the knowledge we\n\n351\n00:18:03.030 --> 00:18:04.050\nhave and\n\n352\n00:18:04.050 --> 00:18:08.210\nwe wanna be able to talk about the\nCAPolicy.inf file that I mentioned, right?\n\n353\n00:18:08.210 --> 00:18:11.719\nThis idea of being able to go through and\nuse this file.\n\n354\n00:18:13.143 --> 00:18:17.250\nThis file right here, which is sitting\non my desktop that I have created.\n\n355\n00:18:17.250 --> 00:18:20.270\nI have it opened right here, by the way,\nI'm gonna bring it up in just a second.\n\n356\n00:18:20.270 --> 00:18:24.760\nBut, CAPolicy.inf is the name of\nthe file that will act essentially\n\n357\n00:18:24.760 --> 00:18:27.600\nas a plain text file that has various\nsettings that we want to then\n\n358\n00:18:27.600 --> 00:18:30.180\nmanipulate the installation of a CA with.\n\n359\n00:18:30.180 --> 00:18:33.716\nThink of this as an answer file,\nunattend.txt or\n\n360\n00:18:33.716 --> 00:18:38.570\nunattend.xml, if you're familiar\nwith WDS or let's go way back,\n\n361\n00:18:38.570 --> 00:18:42.490\nRIS, right, Remote Install Services,\nwould have been unattend.txt.\n\n362\n00:18:42.490 --> 00:18:45.440\nMore recently Windows Deployment Services,\nWDS, you\n\n363\n00:18:45.440 --> 00:18:49.610\nwould be using unattend.xml as an answer\nfile to script and automate that install.\n\n364\n00:18:49.610 --> 00:18:53.040\nIf you're doing that, you're familiar\nwith the concept of creating a file.\n\n365\n00:18:53.040 --> 00:18:55.940\nIf you use a virtual environments,\n\n366\n00:18:55.940 --> 00:19:00.410\nlike VMwares, vSphere or vCenter rather,\nused the config manager there.\n\n367\n00:19:00.410 --> 00:19:05.010\nYou create an unattend answer file, config\nmanager specification, that's what we call\n\n368\n00:19:05.010 --> 00:19:08.820\nit there in Hyper-V, we have the same\noption to script and automate install.\n\n369\n00:19:08.820 --> 00:19:13.090\nSo the idea is very similar to what we\nsee around in multiple infrastructure\n\n370\n00:19:13.090 --> 00:19:14.160\nplatforms.\n\n371\n00:19:14.160 --> 00:19:16.210\nLet's prepopulate a series of answers.\n\n372\n00:19:16.210 --> 00:19:19.230\nThere are four sections in this power and\ntake a look right now and\n\n373\n00:19:19.230 --> 00:19:21.340\njust talk a little about them,\nwhat they are?\n\n374\n00:19:21.340 --> 00:19:23.280\nBut let's just make sure\nwe understand the logic.\n\n375\n00:19:23.280 --> 00:19:27.302\nAnd then we can obviously understand\nthe effect of what this file has in\n\n376\n00:19:27.302 --> 00:19:28.130\nstore for us.\n\n377\n00:19:28.130 --> 00:19:30.419\nSo, I'm gonna bring this up real quick,\nand while I am doing that, Cherokee,\n\n378\n00:19:30.419 --> 00:19:32.450\nI know you have been waiting patiently,\nyou wanted to say something.\n\n379\n00:19:32.450 --> 00:19:35.530\n&gt;&gt; It's okay, I just was,\nlike you said, to understand it.\n\n380\n00:19:35.530 --> 00:19:39.399\nBut when you open it, I think it will make\na little more sense also because it's just\n\n381\n00:19:39.399 --> 00:19:42.495\nkind of like if you were going into\nthe graphical user interface and\n\n382\n00:19:42.495 --> 00:19:45.425\nselecting these options, but\nhere you have that answer file so\n\n383\n00:19:45.425 --> 00:19:47.357\nyou don't have to actually be-\n&gt;&gt; You do,\n\n384\n00:19:47.357 --> 00:19:49.584\nI have an even better resource than this.\n\n385\n00:19:49.584 --> 00:19:51.402\n&gt;&gt; Look at that.\n[INAUDIBLE] which is what we're gonna do.\n\n386\n00:19:51.402 --> 00:19:55.100\nWe're gonna look at it, but\nI have a sample template created for you.\n\n387\n00:19:55.100 --> 00:19:57.090\nWe can even provide a sample template for\n\n388\n00:19:57.090 --> 00:20:00.540\nyou if you'd like, but you can easily\ncreate your own, right, from this website.\n\n389\n00:20:00.540 --> 00:20:02.940\nBut you could see Prepare\nthe CAPolicy.inf File.\n\n390\n00:20:02.940 --> 00:20:05.940\nIt's very straightforward,\napplies to our interface.\n\n391\n00:20:05.940 --> 00:20:08.000\nYou would prepare the file.\n\n392\n00:20:08.000 --> 00:20:11.550\nIt says before doing the install the ADCS\nas you suggested, and we talked about\n\n393\n00:20:11.550 --> 00:20:15.910\nbecause clearly what we wanna do is have\nthe file in place, reference the file,\n\n394\n00:20:15.910 --> 00:20:20.180\nso that way all those customizations\nby area are gonna be apparent so\n\n395\n00:20:20.180 --> 00:20:21.740\nwe can actually modify the install.\n\n396\n00:20:21.740 --> 00:20:24.430\nNow, we did that, or\nhave done elements of it.\n\n397\n00:20:24.430 --> 00:20:27.690\nI'm gonna show you when we do a stand\nalone install that we're gonna call out\n\n398\n00:20:27.690 --> 00:20:31.070\na bunch of parameters and\nconfigure it through PowerShell.\n\n399\n00:20:31.070 --> 00:20:32.960\nI've been doing these\nthings in PowerShell.\n\n400\n00:20:32.960 --> 00:20:35.640\nI can modify any of those\nsettings by using a parameter and\n\n401\n00:20:35.640 --> 00:20:39.870\na value, an attribute value to do that,\nso we can keep the same end result.\n\n402\n00:20:39.870 --> 00:20:43.200\nBut if you're gonna do it through the,\neither through PowerShell by calling\n\n403\n00:20:43.200 --> 00:20:46.570\nthe file with the interface, you\nessentially can do the same thing, right?\n\n404\n00:20:46.570 --> 00:20:50.000\nAnd so,\nyou'll see what the file looks like here.\n\n405\n00:20:50.000 --> 00:20:54.270\nI'm gonna make it a little bigger and\neasy to read by opening it up in Notepad.\n\n406\n00:20:54.270 --> 00:20:56.120\nBut essentially we have sections here.\n\n407\n00:20:56.120 --> 00:20:58.700\nWe have a Version section,\n\n408\n00:20:58.700 --> 00:21:03.410\nwe have an Internal Policy section,\nPolicy Statement Extension.\n\n409\n00:21:03.410 --> 00:21:06.910\nSections are bracketed off, right, so\nyou could see what they are by looking at\n\n410\n00:21:06.910 --> 00:21:09.860\nthose brackets and\nthere is information in each one of these.\n\n411\n00:21:09.860 --> 00:21:10.780\nSo I have that here.\n\n412\n00:21:10.780 --> 00:21:14.480\nLet's make this just a little bit bigger\nso we can see what it looks like.\n\n413\n00:21:18.120 --> 00:21:23.160\nAnd I always wanted to do\nsomething like a crazy font.\n\n414\n00:21:23.160 --> 00:21:24.200\n&gt;&gt; Right.\n\n415\n00:21:24.200 --> 00:21:25.210\n&gt;&gt; Like curls?\n\n416\n00:21:25.210 --> 00:21:26.630\n&gt;&gt; Yeah, like something totally nuts.\n\n417\n00:21:26.630 --> 00:21:29.410\nAll right, so you can hopefully see\na little bit easier what this file\n\n418\n00:21:29.410 --> 00:21:30.390\nlooks like now.\n\n419\n00:21:30.390 --> 00:21:33.693\nSo we do have a section called\nVersion here, this specifies,\n\n420\n00:21:33.693 --> 00:21:35.546\nright, the section for Version.\n\n421\n00:21:35.546 --> 00:21:39.369\nIt will help us specify in a sense to\nunderstand what the version of the file\n\n422\n00:21:39.369 --> 00:21:42.410\nand the version of the OS that\nwe're attaching to will be.\n\n423\n00:21:42.410 --> 00:21:44.190\nOur Policy Statement Extensions,\n\n424\n00:21:44.190 --> 00:21:47.840\nthis is an internal policy statements\nwe're gonna be using it to manage\n\n425\n00:21:47.840 --> 00:21:52.390\nconfiguration of our Internal Policy which\nis that of a separate section down here,\n\n426\n00:21:52.390 --> 00:21:55.560\nand you'll see we have some items\nin the internal policy section.\n\n427\n00:21:55.560 --> 00:21:58.830\nThe OID, which is the object identifier or\n\n428\n00:21:58.830 --> 00:22:01.850\nthe unique identifier for\nthis particular policy extension.\n\n429\n00:22:01.850 --> 00:22:04.770\nThis is a legal policy statement,\nthe OID references.\n\n430\n00:22:04.770 --> 00:22:11.150\nThat, the URL for this right here,\nis going to give us important information.\n\n431\n00:22:11.150 --> 00:22:15.469\nObviously you would take that out,\nI copied this Policy file off that\n\n432\n00:22:15.469 --> 00:22:19.130\nwebsite for Microsoft from\nthe documentation they have.\n\n433\n00:22:19.130 --> 00:22:21.171\nSo it says, your corp.contoso.com and\nit drops it in here.\n\n434\n00:22:21.171 --> 00:22:22.452\n&gt;&gt; The Contoso domain.\n\n435\n00:22:22.452 --> 00:22:24.340\n&gt;&gt; Cuz that's one of the default domains,\nright?\n\n436\n00:22:24.340 --> 00:22:28.360\nThat Microsoft usually uses in their\ndocumentation, so you'll see that there.\n\n437\n00:22:28.360 --> 00:22:29.919\nSo obviously in the real world,\n\n438\n00:22:29.919 --> 00:22:33.686\nyou would simply modify that to point\nto whatever URL you're gonna provide.\n\n439\n00:22:33.686 --> 00:22:36.956\nIf you are gonna provide a legal\npolicy statement for the PKI and for\n\n440\n00:22:36.956 --> 00:22:38.900\nthe issuance of the certificate.\n\n441\n00:22:38.900 --> 00:22:40.460\nYou would localize that in other words.\n\n442\n00:22:40.460 --> 00:22:41.100\nRight?\n\n443\n00:22:41.100 --> 00:22:42.783\nSo that would be the URL for that.\n\n444\n00:22:42.783 --> 00:22:45.564\nWe're just leaving it intact based\non the documentation from the site.\n\n445\n00:22:45.564 --> 00:22:49.500\nAnd then, Certserv_Server section\n\n446\n00:22:49.500 --> 00:22:52.430\nyou could see some things that are of\na little more interest to us here.\n\n447\n00:22:52.430 --> 00:22:54.160\nThe Renewal Key Length, right?\n\n448\n00:22:54.160 --> 00:22:56.050\nThe Validity Period, we talked about that.\n\n449\n00:22:56.050 --> 00:23:00.810\nThe Period units in years, Period rather\nis years per units, 5 means five years.\n\n450\n00:23:00.810 --> 00:23:04.760\nYou're gonna see me use those exact\nparameters with PowerShell when I show you\n\n451\n00:23:04.760 --> 00:23:08.270\nhow to setup a stand-alone CA and\njust quickly walk through that with you.\n\n452\n00:23:08.270 --> 00:23:13.003\nI'm gonna use those exact parameters and\nyou're gonna see me specify a stand-alone\n\n453\n00:23:13.003 --> 00:23:17.814\nCA, centered up a stand-alone root CA with\na 10 year Period unit as opposed to five.\n\n454\n00:23:17.814 --> 00:23:21.882\nSo you'll gonna see me do this,\nthe CRL Period equals weeks,\n\n455\n00:23:21.882 --> 00:23:26.650\nPeriod Units one, so one week for\nthe CRL server revocation list.\n\n456\n00:23:26.650 --> 00:23:28.165\nLow Default Templates.\n\n457\n00:23:28.165 --> 00:23:31.223\nAlternate Signature Algorithm and\nthen the Distribution Point and\n\n458\n00:23:31.223 --> 00:23:32.890\nthe Authority Information Access.\n\n459\n00:23:32.890 --> 00:23:34.510\nThe AIA section.\n\n460\n00:23:34.510 --> 00:23:36.390\nSo we have different sections in here.\n\n461\n00:23:36.390 --> 00:23:40.274\nAnd we could specify all sorts of\ndifferent things that we wanna do to\n\n462\n00:23:40.274 --> 00:23:41.716\ncustomize the install.\n\n463\n00:23:41.716 --> 00:23:43.892\nBut as I said,\nif you don't choose to use this file,\n\n464\n00:23:43.892 --> 00:23:47.305\nyou can do the same thing from PowerShell\njust knowing what the parameters are that\n\n465\n00:23:47.305 --> 00:23:50.790\nyou're gonna use with the commandlets and\nWe've been able to do that very easily.\n\n466\n00:23:50.790 --> 00:23:55.137\nBut I did want you to see the CAPolicy.inf\nfile just to get a sense of how to\n\n467\n00:23:55.137 --> 00:23:56.290\ncreate one.\n\n468\n00:23:56.290 --> 00:23:59.840\nWe can go in under the AIA section,\nfor instance.\n\n469\n00:23:59.840 --> 00:24:03.020\nWe would type in a URL specific to us.\n\n470\n00:24:03.020 --> 00:24:07.480\nSo PKI,\ninstead of corp.contoso.com whatever.\n\n471\n00:24:07.480 --> 00:24:11.225\nWe may go and\ndo something like PKI ITPro.TV.\n\n472\n00:24:11.225 --> 00:24:16.109\nAnd instead of the slash PKI we would put\nremember the AIA is where we're going\n\n473\n00:24:16.109 --> 00:24:20.406\nto go find the certificate data and\nthe path to the certificates in the track.\n\n474\n00:24:20.406 --> 00:24:24.238\nSo we do something like SERT data and\nthen specify the name of a file so\n\n475\n00:24:24.238 --> 00:24:26.370\nthat way we know how to find that.\n\n476\n00:24:26.370 --> 00:24:28.570\nAnd we could do that under\nthe AIA if we choose to.\n\n477\n00:24:28.570 --> 00:24:33.030\nSo we'd be able to modify that setting or\nthose settings by using this.\n\n478\n00:24:33.030 --> 00:24:36.120\nAnd went through talked a little bit\nabout just some of the options there.\n\n479\n00:24:36.120 --> 00:24:39.790\nI'm just looking at my notes to make\nsure that we are not missing anything.\n\n480\n00:24:39.790 --> 00:24:42.860\nRemember the PowerShell commandlets\nthat we've looked at already.\n\n481\n00:24:42.860 --> 00:24:46.640\nBut let's take a look at an additional\nway of using this in PowerShell.\n\n482\n00:24:46.640 --> 00:24:50.440\nLet me bring up the stand-alone\nCA that we have just set up.\n\n483\n00:24:50.440 --> 00:24:52.150\nThere it is right there.\n\n484\n00:24:52.150 --> 00:24:57.470\nAnd so we see we do have\nPLABSA01 root CA right here.\n\n485\n00:24:57.470 --> 00:25:00.250\nThis is going to be my stand-alone CA.\n\n486\n00:25:00.250 --> 00:25:01.900\nI've set this up and configured it,\n\n487\n00:25:01.900 --> 00:25:05.640\nand the way we can tell that is let's\ngo up here, look at PowerShell.\n\n488\n00:25:05.640 --> 00:25:07.960\nCan we just go full-screen again,\nso we can see that?\n\n489\n00:25:07.960 --> 00:25:10.768\nSo we start out life the same way here,\nadd Windows features,\n\n490\n00:25:10.768 --> 00:25:14.490\nname adcs-cert- authority-web-enrollment,\ninclude management tools.\n\n491\n00:25:14.490 --> 00:25:15.860\nYou've seen me do that.\n\n492\n00:25:15.860 --> 00:25:18.690\nWe then install\nthe ADF Certification Authority.\n\n493\n00:25:18.690 --> 00:25:21.280\nCA type, but\nthis time notice StandalonerootCA,\n\n494\n00:25:21.280 --> 00:25:24.980\ninstead of EnterpriserootCA,\nright we're doing standalone now.\n\n495\n00:25:24.980 --> 00:25:28.601\nKeyLength, because I have to specify these\nthings depending on what I wanna do.\n\n496\n00:25:28.601 --> 00:25:31.598\n4096, so I used the KeyLength parameter.\n\n497\n00:25:31.598 --> 00:25:36.720\nCACommonName, PLABSA0-rootca,\njust kind of trails off.\n\n498\n00:25:36.720 --> 00:25:37.970\nValidity Period, years.\n\n499\n00:25:37.970 --> 00:25:39.130\nValidity Period Units, 10.\n\n500\n00:25:39.130 --> 00:25:43.100\nRemember we saw in the CAPolicy.inf\nfile the same settings but\n\n501\n00:25:43.100 --> 00:25:47.650\nit said, Validity period, years,\nValidity Period Units in the file, five.\n\n502\n00:25:47.650 --> 00:25:48.923\nWe're making ours 10.\n\n503\n00:25:48.923 --> 00:25:50.890\n&gt;&gt; Yeah.\n&gt;&gt; Just a matter of what we choose.\n\n504\n00:25:50.890 --> 00:25:53.830\nAnd then confirm error,\nI've talked to you about ErrorId 0,\n\n505\n00:25:53.830 --> 00:25:55.640\nknowing that that's the expected outcome.\n\n506\n00:25:55.640 --> 00:25:59.578\nThen install AdcsWebEnrollment and\nyou could see ErrorId 0.\n\n507\n00:25:59.578 --> 00:26:05.230\nWe're able to now stand up our\nroot CA in stand-alone form.\n\n508\n00:26:05.230 --> 00:26:06.110\nIt is right here.\n\n509\n00:26:06.110 --> 00:26:09.110\nThis is our root CA that I\ninstalled through PowerShell.\n\n510\n00:26:09.110 --> 00:26:11.090\nIt's a stand-alone root CA.\n\n511\n00:26:11.090 --> 00:26:12.930\nThis one has been configured\na little bit differently.\n\n512\n00:26:12.930 --> 00:26:14.780\nWe were able to do the same thing.\n\n513\n00:26:14.780 --> 00:26:17.710\nCould have used the INF file,\nbut I also, as you saw,\n\n514\n00:26:17.710 --> 00:26:20.908\nwas able to go through PowerShell,\nand simply manipulate PowerShell,\n\n515\n00:26:20.908 --> 00:26:23.760\nthe parameters and\nthe values achieve the same end result.\n\n516\n00:26:23.760 --> 00:26:25.628\nSo, we've shown you how to set up and\n\n517\n00:26:25.628 --> 00:26:29.911\nstand up and configure both an Enterprise\nRoot and subordinate CA joined together,\n\n518\n00:26:29.911 --> 00:26:32.987\nwe've shown you how to set up and\nconfigure subordinate, or\n\n519\n00:26:32.987 --> 00:26:34.356\nexcuse me rather-\n&gt;&gt; Standalone.\n\n520\n00:26:34.356 --> 00:26:38.572\n&gt;&gt; Standalone Root CA, talked about the\nCAPolicy, INF file, how we can use that,\n\n521\n00:26:38.572 --> 00:26:42.660\ndefine the concept of the AIAs,\nyou understand what that is used for.\n\n522\n00:26:42.660 --> 00:26:48.000\nAnd remember that when we look\nat PowerShell, since we're here\n\n523\n00:26:48.000 --> 00:26:50.950\nwhen we look at PowerShell,\nlet me just go in here real quick and\n\n524\n00:26:50.950 --> 00:26:54.200\nI'm just gonna scroll down just\na little bit, just kind of\n\n525\n00:26:54.200 --> 00:26:57.350\nget rid of the distractions of what's up\nthere at the top of the screen for us.\n\n526\n00:26:57.350 --> 00:27:01.551\nRemember that when we use PowerShell,\nwe may have to occasionally import\n\n527\n00:27:01.551 --> 00:27:05.768\na module to provide functionality and\nsupport for the things we wanna do.\n\n528\n00:27:05.768 --> 00:27:09.343\nIf we want to be able to\nuse PowerShell commandlets,\n\n529\n00:27:09.343 --> 00:27:14.545\nto be able to do either deployment\nconfiguration, installation of the CS or\n\n530\n00:27:14.545 --> 00:27:19.240\ncertificate services and/or to\nbe able to do administration.\n\n531\n00:27:19.240 --> 00:27:23.015\nWe may have to import\nthe appropriate modules, and so, for\n\n532\n00:27:23.015 --> 00:27:25.790\ndoing import module command, right.\n\n533\n00:27:25.790 --> 00:27:30.830\nIn this case we want the deployment\ncommand, so adcsdeployment, all right.\n\n534\n00:27:30.830 --> 00:27:34.700\nSo, you could see we could import that\nmodule, this will bring in the commands\n\n535\n00:27:34.700 --> 00:27:38.770\navailable for me or necessary for me to\nbe able to work with the deployment of\n\n536\n00:27:38.770 --> 00:27:43.780\nActive Directory Certificate Services,\nand, or ADCS Administration.\n\n537\n00:27:45.930 --> 00:27:48.810\nAnd when I do administration I'm\nbringing in the commandlets that\n\n538\n00:27:48.810 --> 00:27:53.260\nprovide the capability for me to\nadminister the certificate authority in\n\n539\n00:27:53.260 --> 00:27:57.470\nthe PKI infrastructure once I have it\nconfigured, stood up and ready to go.\n\n540\n00:27:57.470 --> 00:28:00.190\nSo, you may have to bring in one or\n\n541\n00:28:00.190 --> 00:28:02.700\nboth of these modules to\ndo what you need to do.\n\n542\n00:28:02.700 --> 00:28:06.080\nYou see me working with them because they\nalready there but to showing the behind\n\n543\n00:28:06.080 --> 00:28:09.570\nthe scenes magic not forgetting that\nsometimes you have to reach out and\n\n544\n00:28:09.570 --> 00:28:10.710\ngrab those.\n\n545\n00:28:10.710 --> 00:28:14.450\nThe import module commandlet is always\nvery good to give a stat now if we're not\n\n546\n00:28:14.450 --> 00:28:18.040\nsure if they've been brought in or not,\nwe obviously could try the import.\n\n547\n00:28:18.040 --> 00:28:20.880\nBut you know the import if\nit has already been done,\n\n548\n00:28:20.880 --> 00:28:22.500\nthere's no reason to do it again.\n\n549\n00:28:22.500 --> 00:28:25.203\nSo instead what we can do is use\na command called Get-Command,\n\n550\n00:28:25.203 --> 00:28:26.890\nthe commandlet called Get-Command.\n\n551\n00:28:26.890 --> 00:28:30.947\nSo Get-Command which is a commandlet\nthat will allow us to query and\n\n552\n00:28:30.947 --> 00:28:35.150\nsee what commands are available\nbased on what module we specify.\n\n553\n00:28:35.150 --> 00:28:37.010\nWe use a module parameter.\n\n554\n00:28:37.010 --> 00:28:41.480\nSo we use the module there to be able to\nspecify Get-Commands from this module and\n\n555\n00:28:41.480 --> 00:28:43.620\nif the commands are available,\nthey'll be displayed.\n\n556\n00:28:43.620 --> 00:28:44.960\nIf they're not, they won't be.\n\n557\n00:28:44.960 --> 00:28:49.827\nSo if we did something like ADCS and\nI wasn't sure which module was there.\n\n558\n00:28:49.827 --> 00:28:51.377\n&gt;&gt; Right.\n&gt;&gt; Is it the deployment module or\n\n559\n00:28:51.377 --> 00:28:52.370\nthe admin module?\n\n560\n00:28:52.370 --> 00:28:53.940\nI could do each individual one.\n\n561\n00:28:53.940 --> 00:28:56.010\nBut what if I just use a wildcard, right?\n\n562\n00:28:56.010 --> 00:28:59.600\nIf I just do ADCS asterisk,\nit'll pull in any commands from any module\n\n563\n00:28:59.600 --> 00:29:02.630\nthat starts with ADCS and\nshows them to me, right?\n\n564\n00:29:02.630 --> 00:29:06.026\nAnd I get this nice little list of any\ncommandlets that may be listed there or\n\n565\n00:29:06.026 --> 00:29:08.940\nrather any commandlets that\nare listed there are the commandlets\n\n566\n00:29:08.940 --> 00:29:11.396\nthat are installed and\navailable as part of the module.\n\n567\n00:29:11.396 --> 00:29:14.370\nAnd so you could see,\nI have from both ADCSAdministration and\n\n568\n00:29:14.370 --> 00:29:18.240\nADCSDeployment list here and\nthe source column each one comes from.\n\n569\n00:29:18.240 --> 00:29:20.165\nShows me all the different\ncommandlets I've been using.\n\n570\n00:29:20.165 --> 00:29:24.760\nSome of them are ready to drive\ndeployments, but we can easily go in and\n\n571\n00:29:24.760 --> 00:29:27.910\nsimply query the system to see\nwhat commandlets are available.\n\n572\n00:29:27.910 --> 00:29:30.940\nAnd by the way, this can be done with\nany module that PowerShell uses.\n\n573\n00:29:30.940 --> 00:29:34.390\nWe're focusing on the CA,\nCertificate Authority modules,\n\n574\n00:29:34.390 --> 00:29:37.240\nbut you can do this with\nany module in PowerShell.\n\n575\n00:29:37.240 --> 00:29:40.770\nActive Directory Administration,\nany of the modules that may exist.\n\n576\n00:29:40.770 --> 00:29:42.450\nThere are literally, potentially,\n\n577\n00:29:42.450 --> 00:29:45.318\nwith the built-in ones alone\nthere are about 20 or 30.\n\n578\n00:29:45.318 --> 00:29:49.570\nThere's an unlimited theoretical amount\nof modules because you can make your own\n\n579\n00:29:49.570 --> 00:29:53.030\nmodules in PowerShell by\ncreating your own functionality,\n\n580\n00:29:53.030 --> 00:29:57.560\nsaving those commandlets off and\ncreating what we call a operational\n\n581\n00:29:57.560 --> 00:30:00.320\nadministrative unit call the module and\nmaking them available.\n\n582\n00:30:00.320 --> 00:30:03.880\nYou're just essentially saving that\ninformation off in a certain way to then\n\n583\n00:30:03.880 --> 00:30:06.290\nexport it and\nyou could import those modules.\n\n584\n00:30:06.290 --> 00:30:09.691\nAnd we see custom modules being used all\nthe time for various things in PowerShell.\n\n585\n00:30:09.691 --> 00:30:13.380\nSo just beware of the fact that this is\njust a generic way to be able to query\n\n586\n00:30:13.380 --> 00:30:17.494\nPowerShell and understand what maybe\ntheir Get-Command, parameter module,\n\n587\n00:30:17.494 --> 00:30:20.294\nwhatever the name or beginning,\nparts of the name is.\n\n588\n00:30:20.294 --> 00:30:23.849\nIf you wanna use the asterisk, as well\ncard to indicate whatever may come before\n\n589\n00:30:23.849 --> 00:30:26.950\nor after that depending on where\nyou put it, you can do that.\n\n590\n00:30:26.950 --> 00:30:29.730\nAnd it's then easy to\nunderstand what may be loaded.\n\n591\n00:30:29.730 --> 00:30:31.200\nSo just wanted to show you that.\n\n592\n00:30:31.200 --> 00:30:32.720\nMake sure you were aware of that.\n\n593\n00:30:32.720 --> 00:30:35.550\nBut we could see things like,\nI didn't mean to cut you off, Cherokee.\n\n594\n00:30:35.550 --> 00:30:36.150\nI know you were.\n&gt;&gt; No.\n\n595\n00:30:36.150 --> 00:30:38.960\n&gt;&gt; Teeing your head up swooping\naround towards me to say something.\n\n596\n00:30:38.960 --> 00:30:42.640\nBut I just wanted to point out that we\nsee a lot of different commandlets.\n\n597\n00:30:42.640 --> 00:30:46.050\nI did put a list of the majority of the\npretty important ones in the show notes.\n\n598\n00:30:46.050 --> 00:30:50.790\nI'm just looking to make sure I do\nhave ones there like add CA template,\n\n599\n00:30:50.790 --> 00:30:53.430\nget CA template, etc.\n\n600\n00:30:53.430 --> 00:30:56.760\nWe list out most of the common ones\nyou would often think of using.\n\n601\n00:30:56.760 --> 00:31:00.190\nGive you a quick, maybe one sentence or\nso description of what they do.\n\n602\n00:31:00.190 --> 00:31:04.340\nA lot of them are pretty self-explanatory,\nuninstall, get ad, remove,\n\n603\n00:31:04.340 --> 00:31:05.670\nthey're pretty easy to write.\n\n604\n00:31:05.670 --> 00:31:09.713\nBut you should take a look at them from\nan exam perspective, always good to know\n\n605\n00:31:09.713 --> 00:31:14.016\nabout commandlets, always good to\nunderstand the functionality that's there.\n\n606\n00:31:14.016 --> 00:31:17.368\nPut a couple of URLs in the show notes for\nyou, but we're gonna see a complete list\n\n607\n00:31:17.368 --> 00:31:20.795\non Microsoft's websites, as we always do,\nabout the PowerShell commandlets.\n\n608\n00:31:20.795 --> 00:31:23.705\nFollow up with those,\nif you wanna see them for yourself.\n\n609\n00:31:23.705 --> 00:31:25.735\nBut they're not installed\nthe way mine are.\n\n610\n00:31:25.735 --> 00:31:27.935\nYou wanna be able to read up on them,\njust go ahead and\n\n611\n00:31:27.935 --> 00:31:29.645\njust go look at the URLs\nin the show notes.\n\n612\n00:31:29.645 --> 00:31:33.065\nYou'll be able to get a complete listing\nof every one of those commands, both for\n\n613\n00:31:33.065 --> 00:31:35.685\nthe deployment commandlets and\nthe administration commandlets, so\n\n614\n00:31:35.685 --> 00:31:37.410\nthe complete set of both modules.\n\n615\n00:31:37.410 --> 00:31:39.920\nYou'll be able to see them and\ninteract with them there.\n\n616\n00:31:39.920 --> 00:31:42.020\nDo we have Quick Time?\n\n617\n00:31:42.020 --> 00:31:43.443\nQuick Time, remember QuickTime?\n\n618\n00:31:43.443 --> 00:31:44.194\n&gt;&gt; Yeah.\n&gt;&gt; It was a cool program.\n\n619\n00:31:44.194 --> 00:31:45.518\n&gt;&gt; Yeah.\n&gt;&gt; I was gonna ask you\n\n620\n00:31:45.518 --> 00:31:48.444\nif we have time quickly to be able\nto look at one of the utility but\n\n621\n00:31:48.444 --> 00:31:51.835\nI'm gonna Just make an executive decision,\nsay we do for just a minute.\n\n622\n00:31:51.835 --> 00:31:55.453\nI just want to show one other\nthing which is the sort util.\n\n623\n00:31:55.453 --> 00:31:57.932\n&gt;&gt; Okay, I was just gonna say quickly\nAdam that Wildcard is great for\n\n624\n00:31:57.932 --> 00:31:58.574\na lot of things.\n\n625\n00:31:58.574 --> 00:32:02.213\nNot only like you're showing for the\nsyntax in those actual commandlets there,\n\n626\n00:32:02.213 --> 00:32:05.262\nbut even just sometimes you know\nthe service name versus the display\n\n627\n00:32:05.262 --> 00:32:08.410\nname within PowerShell,\nthere might be a slight difference there.\n\n628\n00:32:08.410 --> 00:32:11.075\nAnd just remembering every single\none of those can be difficult.\n\n629\n00:32:11.075 --> 00:32:14.688\n&gt;&gt; If you have a variation in the name,\nsyntax you're suggesting, wildcards\n\n630\n00:32:14.688 --> 00:32:18.477\nare your friend in the command shell,\nand in general, not just in PowerShell.\n\n631\n00:32:18.477 --> 00:32:19.970\nBut I mean in lots of places,\n\n632\n00:32:19.970 --> 00:32:23.208\nit allows you to do essentially\na search from that string, and\n\n633\n00:32:23.208 --> 00:32:27.148\nthen anything appended on the end makes\nit a lot easier to find things, so.\n\n634\n00:32:27.148 --> 00:32:29.201\nOne of those old school\nadministrative tricks.\n\n635\n00:32:29.201 --> 00:32:33.030\nYou can now claim to be an old school\nadministrator instead of an old school\n\n636\n00:32:33.030 --> 00:32:33.662\ngangster.\n\n637\n00:32:33.662 --> 00:32:36.689\nThat's like an OSA instead of an OSG,\nright?\n\n638\n00:32:36.689 --> 00:32:40.776\nAll right, so our OG original gangster,\nOA original administrator, right?\n\n639\n00:32:40.776 --> 00:32:44.143\nWouldn't it be great if Microsoft\nhad that as a certification title?\n\n640\n00:32:44.143 --> 00:32:45.126\nThat would be cool.\n\n641\n00:32:45.126 --> 00:32:49.207\nYou could become, instead of an MCSE,\nyou could be an MCSEOA,\n\n642\n00:32:49.207 --> 00:32:52.604\nlike original administrator,\nhardcore, right?\n\n643\n00:32:52.604 --> 00:32:55.169\nYou'd have to walk around with\na computer chain around your neck, and\n\n644\n00:32:55.169 --> 00:32:55.914\nall sorts of stuff.\n\n645\n00:32:55.914 --> 00:32:56.548\n&gt;&gt; And a walker.\n\n646\n00:32:56.548 --> 00:32:57.093\n&gt;&gt; And a walker.\n\n647\n00:32:57.093 --> 00:32:58.816\nYeah, you'd be like an old-school fool.\n\n648\n00:32:58.816 --> 00:33:00.546\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so we digress.\n\n649\n00:33:00.546 --> 00:33:02.726\nLet's just quickly talk\nabout Cert Utility.\n\n650\n00:33:02.726 --> 00:33:05.516\nWhich is just one of the other things\nI wanna throw out there quickly.\n\n651\n00:33:05.516 --> 00:33:08.780\nWe can manage the certificate's\nservices interface.\n\n652\n00:33:08.780 --> 00:33:11.057\nYou've seen the MMC,\nwe've poked around a little bit.\n\n653\n00:33:11.057 --> 00:33:14.065\nWe're obviously gonna come back,\ndo a little more deep dive in there around\n\n654\n00:33:14.065 --> 00:33:16.001\ncertificate revocation,\nlistings like that.\n\n655\n00:33:16.001 --> 00:33:20.030\nBut there are command line options for\neverything we do, PowerShell as a command\n\n656\n00:33:20.030 --> 00:33:23.587\nlines, scripting languages certainly\nalways a valuable option, but\n\n657\n00:33:23.587 --> 00:33:27.580\nyou see we do have command line tools\nthat come to us before PowerShell.\n\n658\n00:33:27.580 --> 00:33:30.594\nCertutil is one of those tools I was\nbringing up the help file for you.\n\n659\n00:33:30.594 --> 00:33:32.553\nWhen we introduce a tool,\nyou could see it here.\n\n660\n00:33:32.553 --> 00:33:36.949\nAnything we can do from the MMC to manage\nthe certificate authority can be done from\n\n661\n00:33:36.949 --> 00:33:37.595\nCertutil.\n\n662\n00:33:37.595 --> 00:33:41.675\nThis is the original tool that would have\nbeen available to you before PowerShell\n\n663\n00:33:41.675 --> 00:33:42.816\nemerges on the scene.\n\n664\n00:33:42.816 --> 00:33:46.402\nBeen around since again probably\nthe earliest days of Microsoft's use\n\n665\n00:33:46.402 --> 00:33:50.045\nof certificate services, although\nthe way back to NT4 we have this tool\n\n666\n00:33:50.045 --> 00:33:53.770\nalong with the graphical interface\nto manage the certificate services.\n\n667\n00:33:53.770 --> 00:33:57.300\nSo just be aware of that but\ncertain utility allows us to go in and\n\n668\n00:33:57.300 --> 00:34:02.630\nto get information in a variety of ways\nto do any kind of administrative activity\n\n669\n00:34:02.630 --> 00:34:05.600\nto issue certificates,\nto deny them to check the CRL.\n\n670\n00:34:05.600 --> 00:34:10.898\nYou could see there, getCRL right down\nhere, shut down the Active Directory\n\n671\n00:34:10.898 --> 00:34:15.968\ncertificates services, in other words\ntake the system down restart it.\n\n672\n00:34:15.968 --> 00:34:19.430\nDeny pending request, resubmit,\nyou see all sorts of stuff,\n\n673\n00:34:19.430 --> 00:34:21.074\nyou can dump the config file.\n\n674\n00:34:21.074 --> 00:34:24.920\nSo you can understand the configuration\nof the certificate of authority.\n\n675\n00:34:24.920 --> 00:34:28.880\nThis is good for back up information for\ndocumentation for instance.\n\n676\n00:34:28.880 --> 00:34:32.519\nSpeaking of back ups it's easier\nto right-click in the interface,\n\n677\n00:34:32.519 --> 00:34:35.465\ngo to the root of the CA,\nthe icon for the server itself,\n\n678\n00:34:35.465 --> 00:34:38.496\nright-click and\nthen under task to back up and restore.\n\n679\n00:34:38.496 --> 00:34:40.393\nYou can do it all right from here as well.\n\n680\n00:34:40.393 --> 00:34:42.663\nYou could see we could dumped\nthe certificate store.\n\n681\n00:34:42.663 --> 00:34:45.880\nSo we can actually get a copy of those\ncertificate and see what they are.\n\n682\n00:34:45.880 --> 00:34:47.778\nWe can publish certificates or\n\n683\n00:34:47.778 --> 00:34:51.750\nCRLs to the Active Directory\nfrom this tool, dsPublish.\n\n684\n00:34:51.750 --> 00:34:55.717\nWe can display the templates,\nwork with templates, remove them,\n\n685\n00:34:55.717 --> 00:34:58.023\nadd them, make them available, etc.\n\n686\n00:34:58.023 --> 00:35:02.200\nWe talked about different template\nformats, Versions 1 through Version 4.\n\n687\n00:35:02.200 --> 00:35:05.918\nThe default today typically\nis a Version 3 certificate.\n\n688\n00:35:05.918 --> 00:35:09.027\nA Version 3 template is often used\nto issue many certificates, but\n\n689\n00:35:09.027 --> 00:35:11.766\nwe actually have four versions\nof certificate templates.\n\n690\n00:35:11.766 --> 00:35:14.204\nAnd we'll explain what\nthose are at some point,\n\n691\n00:35:14.204 --> 00:35:18.021\nunless Cherokee's going to throw that\npiece of trivia out for us right now.\n\n692\n00:35:18.021 --> 00:35:20.850\nYou want to quickly tap dance\nthrough those certificate templates?\n\n693\n00:35:20.850 --> 00:35:22.143\nOr you want me to do it later?\n\n694\n00:35:22.143 --> 00:35:24.542\n&gt;&gt; We can do it later, cuz we\nare getting close on time here, Adam.\n\n695\n00:35:24.542 --> 00:35:27.785\n&gt;&gt; Okay, I'll defer to you cuz you're\nalways so good at managing our time.\n\n696\n00:35:27.785 --> 00:35:28.437\n&gt;&gt; [LAUGH] Yeah.\n\n697\n00:35:28.437 --> 00:35:29.613\n&gt;&gt; And I'm so good at running over, so\n\n698\n00:35:29.613 --> 00:35:31.037\nbetween the two of us\nwe try to get it right.\n\n699\n00:35:31.037 --> 00:35:32.792\nSo just wanted to show\nyou the help file here.\n\n700\n00:35:32.792 --> 00:35:37.177\nTake a look under the hood at Certutil,\nnot suggesting you have to go in and\n\n701\n00:35:37.177 --> 00:35:38.044\nuse the tool.\n\n702\n00:35:38.044 --> 00:35:41.472\nKinda cutting off the end there, there is\na C associated with that as you can see.\n\n703\n00:35:41.472 --> 00:35:43.108\nIt's hiding on the edge of the screen.\n\n704\n00:35:43.108 --> 00:35:46.480\nEverybody thinks it's ertutil because I\njust wasn't pronouncing it correctly.\n\n705\n00:35:46.480 --> 00:35:49.647\nBut it is Certutil, but not suggesting\nnecessarily have to use this tool in\n\n706\n00:35:49.647 --> 00:35:52.862\nthe real world to manage, but definitely\nwant to throw it out there make sure\n\n707\n00:35:52.862 --> 00:35:56.382\nyou're aware of it and also definitely\nrecommending, strongly encouraging that\n\n708\n00:35:56.382 --> 00:35:59.327\nyou are familiar with it if you're\nplanning on attempting the exam.\n\n709\n00:35:59.327 --> 00:36:02.846\nBecause although you may not use it in the\nreal world we may have an expectation that\n\n710\n00:36:02.846 --> 00:36:06.008\nyou should be able to use it and they\nask you questions about it and of course\n\n711\n00:36:06.008 --> 00:36:09.425\npeople that are prepared are the people\nthat pay attention to those details, so\n\n712\n00:36:09.425 --> 00:36:11.728\njust be one of those people,\nas we would say, right?\n\n713\n00:36:11.728 --> 00:36:14.533\n&gt;&gt; [LAUGH]\n&gt;&gt; So, go through the conversation,\n\n714\n00:36:14.533 --> 00:36:16.808\nhopefully some valuable information for\n\n715\n00:36:16.808 --> 00:36:19.538\nyou with regards to some of\nthe ways we can set up and\n\n716\n00:36:19.538 --> 00:36:23.698\nmanage throwing in that stand alone CA\noption showing you some of the tools.\n\n717\n00:36:23.698 --> 00:36:26.740\nWe're gonna come back and to be talking\nabout some of the Certificate Authorities.\n\n718\n00:36:26.740 --> 00:36:29.015\nWe will take a look at\nthe certificate replication lists and\n\n719\n00:36:29.015 --> 00:36:31.212\nrevoke a certificate to show\nyou how to publish that out.\n\n720\n00:36:31.212 --> 00:36:34.244\nWe will also through in a little\nconversation quickly reach backwards,\n\n721\n00:36:34.244 --> 00:36:37.576\nsome important conversations about the\nfact we can manage PKI with group policy\n\n722\n00:36:37.576 --> 00:36:39.430\nwhich may scare the heck\nout of some people.\n\n723\n00:36:39.430 --> 00:36:40.960\nBut we are going to talk\nabout that as well.\n\n724\n00:36:40.960 --> 00:36:43.548\nBecause group policy,\nnot as scary as you think it may be.\n\n725\n00:36:43.548 --> 00:36:46.320\nIf you've been through those episodes\nwith us you hopefully know that.\n\n726\n00:36:46.320 --> 00:36:48.470\nAnd as hopefully you're seeing,\ncertificate authorities,\n\n727\n00:36:48.470 --> 00:36:51.090\nwhile there's a lot of\ndetail around managing them,\n\n728\n00:36:51.090 --> 00:36:52.420\nthere's not a lot of scary detail.\n\n729\n00:36:52.420 --> 00:36:54.619\nJust a lot of stuff you gotta\nmake sure you do the right way.\n\n730\n00:36:54.619 --> 00:36:56.620\nAnd then it's really just\na matter of point and\n\n731\n00:36:56.620 --> 00:36:58.172\nclick more often than that, okay?\n\n732\n00:36:58.172 --> 00:37:01.347\n&gt;&gt; Maybe they should issue me a buzzer,\nlike a timer.\n\n733\n00:37:01.347 --> 00:37:03.863\nHow would you feel about that\ninstead of me like signaling to you,\n\n734\n00:37:03.863 --> 00:37:04.836\nI could just [SOUND] Yeah.\n\n735\n00:37:04.836 --> 00:37:05.821\n&gt;&gt; Yeah, wrong.\n\n736\n00:37:05.821 --> 00:37:07.331\n&gt;&gt; [LAUGH] All right.\n\n737\n00:37:07.331 --> 00:37:10.352\n[LAUGH] He's really enthusiastic\nabout that as you can tell, so\n\n738\n00:37:10.352 --> 00:37:12.524\nI'm gonna just make an executive decision.\n\n739\n00:37:12.524 --> 00:37:14.450\nWe're gonna veto that thought process.\n\n740\n00:37:14.450 --> 00:37:15.585\n&gt;&gt; [LAUGH] All right,\nladies and gentlemen.\n\n741\n00:37:15.585 --> 00:37:17.915\nThank you so much, but\nwe are out of time for this episode, so\n\n742\n00:37:17.915 --> 00:37:19.080\nwe'll go ahead and sign out.\n\n743\n00:37:19.080 --> 00:37:21.062\nI've been your host, Cherokee Boose.\n\n744\n00:37:21.062 --> 00:37:22.276\n&gt;&gt; It would be great if you had the X.\n\n745\n00:37:22.276 --> 00:37:23.915\nYou remember like in Family Feud,\nyou ever see that?\n\n746\n00:37:23.915 --> 00:37:24.786\n&gt;&gt; Yeah.\n&gt;&gt; They put a big red X [INAUDIBLE]\n\n747\n00:37:24.786 --> 00:37:25.673\n&gt;&gt; Or even, what was the other?\n\n748\n00:37:25.673 --> 00:37:26.337\nX Factor.\n\n749\n00:37:26.337 --> 00:37:27.579\n&gt;&gt; Yeah, they would do the X as well.\n\n750\n00:37:27.579 --> 00:37:29.673\nIf we could put that above your head.\n\n751\n00:37:29.673 --> 00:37:31.915\n&gt;&gt; Or a hole in the floor that-\n&gt;&gt; That just opens up and\n\n752\n00:37:31.915 --> 00:37:32.476\nyou fall through?\n\n753\n00:37:32.476 --> 00:37:33.961\n&gt;&gt; [LAUGH]\n&gt;&gt; So I can keep talk.\n\n754\n00:37:33.961 --> 00:37:35.931\nThat would be great if we could do that.\n\n755\n00:37:35.931 --> 00:37:37.389\nAll right, so anyway, I am Adam Gordon.\n\n756\n00:37:37.389 --> 00:37:38.147\n&gt;&gt; We're signing out, yeah.\n\n757\n00:37:38.147 --> 00:37:39.048\n&gt;&gt; And we are done.\n\n758\n00:37:39.048 --> 00:37:41.031\nSo come on back and see us for\nanother episode, guys.\n\n759\n00:37:41.031 --> 00:37:41.570\nTake care.\n\n760\n00:37:41.570 --> 00:37:42.627\n&gt;&gt; Bye.\n\n761\n00:37:42.627 --> 00:37:49.933\n[MUSIC]\n\n762\n00:37:49.933 --> 00:37:50.800\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231884001"
        },
        {
          "description": "In this show, Adam and Cherokee continue covering Active Directory Certificate Services. First, Adam walks through the properties for credential roaming. Next, he shows and explains tabs s in the CA properties dialogue box, such as the exit and policy module options. Lastly, they discuss and demonstrate how to revoke a certificate.",
          "length": "1954",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-4-deploying_and_managing_ad_cs_pt4-083017-PGM.00_32_21_08.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-4-deploying_and_managing_ad_cs_pt4-083017-PGM.00_32_21_08.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-4-deploying_and_managing_ad_cs_pt4-083017-PGM.00_32_21_08.Still002-sm.jpg",
          "title": "Deploying and Managing AD CS Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.087 --> 00:00:02.647\nWelcome to ITPro.TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.647 --> 00:00:06.318\n[CROSSTALK]\n\n3\n00:00:06.318 --> 00:00:08.323\n[MUSIC]\n\n4\n00:00:08.323 --> 00:00:12.195\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:12.195 --> 00:00:16.565\n&gt;&gt; Welcome ladies and gentlemen to\nIdentity with Windows Server 2016 series.\n\n6\n00:00:16.565 --> 00:00:18.810\nI'm your show host Cherokee Boose.\n\n7\n00:00:18.810 --> 00:00:23.440\nIn this episode we'll continue taking a\nlook at managing and deploying with ADCS.\n\n8\n00:00:23.440 --> 00:00:27.670\nAnd back with us today in the studios,\nwe have Microsoft expert Adam Gordon.\n\n9\n00:00:27.670 --> 00:00:28.540\nThanks for joining us Adam.\n\n10\n00:00:28.540 --> 00:00:29.200\n&gt;&gt; Look.\n\n11\n00:00:29.200 --> 00:00:32.040\nInstead of Jazz hands, PKI hands\n&gt;&gt; O, PKI hands.\n\n12\n00:00:32.040 --> 00:00:33.332\n&gt;&gt; Awesome, all right.\n\n13\n00:00:33.332 --> 00:00:35.480\n&gt;&gt; [LAUGH]\n&gt;&gt; You can order those from the ITPRO.TV\n\n14\n00:00:35.480 --> 00:00:38.720\nwebsite catalog and\nour store for $5.95 for a pair.\n\n15\n00:00:40.270 --> 00:00:42.125\nOnly kidding, you can't do that.\n\n16\n00:00:42.125 --> 00:00:44.595\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's talk a little bit more about\n\n17\n00:00:44.595 --> 00:00:46.225\nabout ABCS specifically.\n\n18\n00:00:46.225 --> 00:00:46.815\nWanted to go and\n\n19\n00:00:46.815 --> 00:00:50.035\njust quickly show you some of the options\nyou have with group policy managing\n\n20\n00:00:50.035 --> 00:00:53.265\nboth PKI and the deployment of\ncertificates and configuration.\n\n21\n00:00:53.265 --> 00:00:55.875\nAlthough we may have a couple different\noptions in there, it's a section for\n\n22\n00:00:55.875 --> 00:00:59.587\npublic key policies around PKI and\nthe use of those.\n\n23\n00:00:59.587 --> 00:01:02.607\nAnd then we have the ability to\nmanage certificates themselves.\n\n24\n00:01:02.607 --> 00:01:04.277\nSo just point those out to you quickly.\n\n25\n00:01:04.277 --> 00:01:08.227\nThen I wanna go in talk a little bit\nabout roles, certificate services, in\n\n26\n00:01:08.227 --> 00:01:12.168\nterms of security and who gets to do what,\njust giving you the lay of the land there.\n\n27\n00:01:12.168 --> 00:01:14.608\nAnd then, as I said, we'll talk\nabout how to revoke a certificate,\n\n28\n00:01:14.608 --> 00:01:16.238\ntake a look at that CRL, and\n\n29\n00:01:16.238 --> 00:01:18.568\nmake sure we understand the logic of that,\nalong with some other stuff.\n\n30\n00:01:18.568 --> 00:01:19.468\nSo, join me here.\n\n31\n00:01:19.468 --> 00:01:23.688\nWe're on our domain controller, the same\nmachine that happens to be the certificate\n\n32\n00:01:23.688 --> 00:01:28.000\nauthority our enterprise root CA that\nwe've been discussing things on.\n\n33\n00:01:28.000 --> 00:01:32.500\nHave gone in to the active directory\ngroup policy management console.\n\n34\n00:01:32.500 --> 00:01:33.940\nSo just open up the GPMC.\n\n35\n00:01:33.940 --> 00:01:36.970\nI've loaded up our default domain policy.\n\n36\n00:01:36.970 --> 00:01:39.530\nYou can see it right up there,\njust so you know where we are.\n\n37\n00:01:39.530 --> 00:01:42.880\nCould do this in any policy, but\nI just happened to choose that policy.\n\n38\n00:01:42.880 --> 00:01:47.100\nI'm up looking at the public key policy\narea just to show you some of the settings\n\n39\n00:01:47.100 --> 00:01:48.410\nassociated with it.\n\n40\n00:01:48.410 --> 00:01:51.590\nLet me click there because those\nother areas is the one down below for\n\n41\n00:01:51.590 --> 00:01:53.860\ngroup policy under\nadministrative templates.\n\n42\n00:01:53.860 --> 00:01:58.480\nBut you can see here that we\ndo have up under computer,\n\n43\n00:01:58.480 --> 00:02:02.600\nup under policies, up under Windows\nsettings, under security settings.\n\n44\n00:02:02.600 --> 00:02:05.330\nWe do have a section here that\nwill be of interest to us.\n\n45\n00:02:05.330 --> 00:02:10.000\nWe have the ability to go in and work with\nand see certificates that are already set\n\n46\n00:02:10.000 --> 00:02:12.960\nup and available based on having\nthe certificate authority and\n\n47\n00:02:12.960 --> 00:02:16.020\nhaving that information\nyou could see here.\n\n48\n00:02:17.180 --> 00:02:21.220\nFile recovery for instance for\nour administrative credential for EFS.\n\n49\n00:02:21.220 --> 00:02:23.050\nWe have data protection policies.\n\n50\n00:02:23.050 --> 00:02:24.310\nThey may get defined.\n\n51\n00:02:24.310 --> 00:02:26.040\nWe're not as worried about some of those.\n\n52\n00:02:26.040 --> 00:02:30.120\nSome of these don't necessarily have to\ndo with certificate authority management\n\n53\n00:02:30.120 --> 00:02:33.610\ndirectly, but you can see automatic\ncertificate request settings.\n\n54\n00:02:33.610 --> 00:02:38.460\nWe may be able to go in here and\nissue an automatic certificate request set\n\n55\n00:02:38.460 --> 00:02:43.280\nup wizard through the set up wizard, issue\nsome policy guidance on how this may work.\n\n56\n00:02:43.280 --> 00:02:46.130\nUsing this, an administrator can\nspecify which types of certificates\n\n57\n00:02:46.130 --> 00:02:50.050\nwill automatically be requested by\na computer, and then can be issued.\n\n58\n00:02:50.050 --> 00:02:53.990\nSo we may be able to control front\nend Information management and\n\n59\n00:02:53.990 --> 00:02:57.970\nprocessing on the CA by using\nsome of these policy elements.\n\n60\n00:02:57.970 --> 00:03:01.290\nSo you can see we're able to go in and\nmodify aspects of that.\n\n61\n00:03:01.290 --> 00:03:05.170\nTrusted root certification authorities,\nI can import a trusted roots\n\n62\n00:03:05.170 --> 00:03:08.820\nCA certificate here, making it available\nto all the computers deploying,\n\n63\n00:03:08.820 --> 00:03:13.670\nin other words that root CA, rather\nthat certificate for the root CA, so\n\n64\n00:03:13.670 --> 00:03:16.210\nthat way we don't see some of those\ncertificate errors like the one I\n\n65\n00:03:16.210 --> 00:03:19.510\nshowed you that we got when we went to\nthe certificate enrollment website.\n\n66\n00:03:19.510 --> 00:03:21.710\nWe could avoid that by\npre-publishing certificates and\n\n67\n00:03:21.710 --> 00:03:23.440\npushing them out through group policies.\n\n68\n00:03:23.440 --> 00:03:26.080\nSo there are definitely reasons\nwhy we may wanna take a look\n\n69\n00:03:26.080 --> 00:03:28.160\nat some of these areas here.\n\n70\n00:03:28.160 --> 00:03:32.790\nAnd then down below in the same\narea in computer settings,\n\n71\n00:03:32.790 --> 00:03:35.420\nadministrative templates,\nthe policy definitions.\n\n72\n00:03:35.420 --> 00:03:38.750\nWe've taken a look at these and talked\nabout them extensively in prior episodes.\n\n73\n00:03:38.750 --> 00:03:44.510\nUp under system as I scroll down\nright here I had it highlighted but\n\n74\n00:03:44.510 --> 00:03:45.460\nthen I deselected it.\n\n75\n00:03:45.460 --> 00:03:46.840\nSo I'm just gonna rehighlight it.\n\n76\n00:03:46.840 --> 00:03:51.090\nUnder group policy right over [LAUGH].\n\n77\n00:03:51.090 --> 00:03:53.180\nYeah, somewhere on that area out there.\n\n78\n00:03:53.180 --> 00:03:56.050\nAnyway, up right up there,\nright, you could see.\n\n79\n00:03:56.050 --> 00:03:59.100\nWe have a whole bunch of settings here,\nright,\n\n80\n00:03:59.100 --> 00:04:04.300\nconfigure just called policy processing,\nconfigure security policy processing.\n\n81\n00:04:04.300 --> 00:04:06.760\nGot a bunch of different\nstuff with group policy.\n\n82\n00:04:06.760 --> 00:04:11.540\nSome may or may not be specific to\nsecurity, excuse me, to certificates,\n\n83\n00:04:11.540 --> 00:04:15.180\nbut there may be some things in\nhere we do want to take a look at.\n\n84\n00:04:15.180 --> 00:04:17.360\nWe can go in and we can configure.\n\n85\n00:04:17.360 --> 00:04:21.380\nThis primarily controls the aspects of\ngroup policy itself, as opposed to,\n\n86\n00:04:21.380 --> 00:04:24.300\nnecessarily, certificate\nservices related to it.\n\n87\n00:04:24.300 --> 00:04:28.110\nBut there are some things that\nwe just wanna be aware of.\n\n88\n00:04:28.110 --> 00:04:29.330\nWhere did it go, so yeah.\n\n89\n00:04:29.330 --> 00:04:31.700\nSo, EFS recovery policy processing.\n\n90\n00:04:31.700 --> 00:04:35.350\nThis indirectly is tied to\nthe certificates used for EFS.\n\n91\n00:04:35.350 --> 00:04:38.980\nYou wanna just take note of the fact\nthat some of the certificate usage\n\n92\n00:04:38.980 --> 00:04:42.230\nmay be controlled by group policy\nsettings in an area like this in\n\n93\n00:04:42.230 --> 00:04:45.710\nterms of what we can do and how we can\ndo it once we have those certificates.\n\n94\n00:04:45.710 --> 00:04:48.170\nSo, not directly related to certificates,\n\n95\n00:04:48.170 --> 00:04:52.290\nbut Indirectly related to the use of\ncertificates, another aspect of group\n\n96\n00:04:52.290 --> 00:04:56.170\npolicy processing and control that\nwe just may want to be aware of,\n\n97\n00:04:56.170 --> 00:04:59.430\njust make sure that we are familiar\nwith when we look at group policies.\n\n98\n00:04:59.430 --> 00:05:02.300\nSo there's different areas that we\ncan go in and we can manage through.\n\n99\n00:05:03.470 --> 00:05:07.140\nJust wanna be thinking about some of\nthose things as we look at group policy\n\n100\n00:05:07.140 --> 00:05:10.750\nup under this area in the computer area.\n\n101\n00:05:10.750 --> 00:05:13.790\nLet me just scroll up and\nkinda clean this up real quick.\n\n102\n00:05:13.790 --> 00:05:19.660\nAnd we do have up under\nthe user area as well,\n\n103\n00:05:19.660 --> 00:05:23.460\nwe do have our security settings, right?\n\n104\n00:05:23.460 --> 00:05:27.440\nYou'll see here public key policies,\nsame way that we've looked at that,\n\n105\n00:05:27.440 --> 00:05:30.940\nwe do have certificate enrollment policy,\ncredential roaming, auto enrollment.\n\n106\n00:05:30.940 --> 00:05:32.020\nThese are on the computer set up,\n\n107\n00:05:32.020 --> 00:05:34.360\nI just didn't point them out they\nwere at the bottom of that list.\n\n108\n00:05:34.360 --> 00:05:36.270\nBut we'd want to look at\nthese sections either for\n\n109\n00:05:36.270 --> 00:05:40.140\na computer or user as well when we\nare looking at auto enrollment.\n\n110\n00:05:40.140 --> 00:05:44.260\nIn this case for the certificate\nservices credential roaming and\n\n111\n00:05:44.260 --> 00:05:45.160\nthe enrollment policy.\n\n112\n00:05:45.160 --> 00:05:48.330\nWe're looking at controlling aspects\nof how certificates will be issued,\n\n113\n00:05:48.330 --> 00:05:50.830\nhow they're used, how we can control them.\n\n114\n00:05:50.830 --> 00:05:54.768\nSo if we look at auto enrollment\nyou'll see it's not configured.\n\n115\n00:05:54.768 --> 00:05:58.740\nWe can whoops, enable that and\nwhen we do we can then control\n\n116\n00:05:58.740 --> 00:06:01.040\nupdate certificates that\nuser certificate template,\n\n117\n00:06:01.040 --> 00:06:03.730\nrenew expired certificates\nupdate pending and remove.\n\n118\n00:06:03.730 --> 00:06:06.670\nWe control aspects of\nthe behavior through group policy\n\n119\n00:06:06.670 --> 00:06:08.750\nby applying these either on computer or\n\n120\n00:06:08.750 --> 00:06:13.230\nthe user area of policy or both in theory\nwe don't wanna attach and control to both.\n\n121\n00:06:13.230 --> 00:06:17.700\nLog expiration and show information around\nevents at a certain percentage of the life\n\n122\n00:06:17.700 --> 00:06:19.650\ncycle left, things like that.\n\n123\n00:06:19.650 --> 00:06:23.340\nWe could specify additional stores\nthat may be used for certificates, and\n\n124\n00:06:23.340 --> 00:06:25.880\nwe can obviously, control that behavior.\n\n125\n00:06:25.880 --> 00:06:29.080\nSo we can see that here\nwith credential roaming.\n\n126\n00:06:29.080 --> 00:06:32.790\nWe enable, there we go, we enable.\n\n127\n00:06:32.790 --> 00:06:36.920\nWe could specify some of the time\nmanagement values around credential\n\n128\n00:06:36.920 --> 00:06:39.560\nroaming, allowing us to\ncontrol how this will work,\n\n129\n00:06:39.560 --> 00:06:42.260\nhow do we maintain our certificates\nacross multiple computers.\n\n130\n00:06:42.260 --> 00:06:45.600\nWithin the AD directory service so\nwe can go in or\n\n131\n00:06:45.600 --> 00:06:47.790\nthe active directory\ndomain service rather.\n\n132\n00:06:47.790 --> 00:06:49.430\nWe can go in and do this as well.\n\n133\n00:06:49.430 --> 00:06:53.372\nSo we can control a lot of\naspects of policy-solution and\n\n134\n00:06:53.372 --> 00:06:56.080\npolicy-management around\ncertificates here.\n\n135\n00:06:56.080 --> 00:06:58.830\nRoam, smart-card certificates, roam.\n\n136\n00:06:58.830 --> 00:07:03.120\nDifferent kinds of certificates that\nare issued, we can add filters to do that.\n\n137\n00:07:03.120 --> 00:07:06.240\nSo we can allow those to\nbe moved between computers.\n\n138\n00:07:06.240 --> 00:07:11.500\nA lot of times in these days in many of\nour enterprise solutions it may not be\n\n139\n00:07:11.500 --> 00:07:15.750\nunusual for users to have more than\none system that they log into.\n\n140\n00:07:15.750 --> 00:07:19.830\nWe may be a shift worker that logs in\non a eight hour cycle in the office.\n\n141\n00:07:19.830 --> 00:07:22.190\nBut you may have a cube that\nyou share with other people and\n\n142\n00:07:22.190 --> 00:07:24.140\nyou just have a fixed\nasset that you log into.\n\n143\n00:07:24.140 --> 00:07:26.650\nA lot of companies go to\nthis model these days.\n\n144\n00:07:26.650 --> 00:07:30.880\nYou may be given your own computer or\ncomputers, whatever the case may be.\n\n145\n00:07:30.880 --> 00:07:34.570\nSo there's different ways to approach\nthis, but we may want to require or\n\n146\n00:07:34.570 --> 00:07:35.900\ncontrol aspects of this.\n\n147\n00:07:35.900 --> 00:07:38.740\nAnd so,\ncertificate enrollment policy as well.\n\n148\n00:07:38.740 --> 00:07:43.570\nIf we enable this, we could then\nspecify the enrollment policy\n\n149\n00:07:43.570 --> 00:07:46.740\nthat is to be used for users and\nor computers as I showed you.\n\n150\n00:07:46.740 --> 00:07:50.370\nYou'll see we have the default\nenrollment policy, which is there.\n\n151\n00:07:50.370 --> 00:07:51.630\nWe could add or\n\n152\n00:07:51.630 --> 00:07:55.290\nlook at the properties of that policy\nhere in the group policy editor.\n\n153\n00:07:55.290 --> 00:07:58.079\nBe able to manipulate that and\nunderstand that a little more.\n\n154\n00:07:58.079 --> 00:08:01.832\nWe have the LDAP directory\nservice being specified here,\n\n155\n00:08:01.832 --> 00:08:06.283\nenable auto enrollment and\nautomatic renewal for enrollment here.\n\n156\n00:08:06.283 --> 00:08:09.035\nAnd we can add or remove that policy.\n\n157\n00:08:09.035 --> 00:08:12.875\nAnd we could even add another\npolicy in here if we had to.\n\n158\n00:08:12.875 --> 00:08:15.455\nIf we had different\npolicies that may be used,\n\n159\n00:08:15.455 --> 00:08:19.570\nwe could bring in another authentication\ntype for the provider here.\n\n160\n00:08:19.570 --> 00:08:23.835\nWe can use Windows integrated,\nwhich is typically what's done anonymous.\n\n161\n00:08:23.835 --> 00:08:27.450\nUsername and password,\nkind of a generic single factor solution,\n\n162\n00:08:27.450 --> 00:08:30.760\na certificate based authentication type.\n\n163\n00:08:30.760 --> 00:08:34.690\nSo, depending on what we choose, we will\nthen have different options to do that.\n\n164\n00:08:34.690 --> 00:08:37.670\nAnd we can specify\nproperties of the policy.\n\n165\n00:08:37.670 --> 00:08:40.940\nPolicies will be created elsewhere,\nwe're just gonna reference them.\n\n166\n00:08:40.940 --> 00:08:43.410\nPolicies can be created through\nthe certificate authority.\n\n167\n00:08:43.410 --> 00:08:46.800\nSo we may be doing that, and\nreferencing them through policy.\n\n168\n00:08:46.800 --> 00:08:48.830\nSo we can do a lot of things\nhere with group policy,\n\n169\n00:08:48.830 --> 00:08:50.200\nwith regards to CA management.\n\n170\n00:08:50.200 --> 00:08:53.840\nSo, just wanna point those out to you,\nmake sure you're familiar with the logic\n\n171\n00:08:53.840 --> 00:08:56.240\nand the fact that we do have\noptions to go in and see these,\n\n172\n00:08:56.240 --> 00:08:57.570\ncuz sometimes they get overlooked.\n\n173\n00:08:57.570 --> 00:09:00.690\nWe just don't really think about the fact\nthat we actually have levers we can\n\n174\n00:09:00.690 --> 00:09:04.360\npull with regards to group policy,\nspecific to the use of and\n\n175\n00:09:04.360 --> 00:09:08.420\nthe configuration of the certificate\nauthority interface, and most importantly,\n\n176\n00:09:08.420 --> 00:09:09.360\nthe certificate output, right?\n\n177\n00:09:09.360 --> 00:09:11.483\nThe outputs we use from them,\nand certificates that are issued.\n\n178\n00:09:11.483 --> 00:09:13.440\nSo, do wanna think about that.\n\n179\n00:09:13.440 --> 00:09:17.240\nIt does require a little bit of time and\nattention to detail to understand how\n\n180\n00:09:17.240 --> 00:09:21.380\nto make sure these policies are set\nproperly, but they can add value for you.\n\n181\n00:09:21.380 --> 00:09:23.340\nI did list in our share notes, just so\n\n182\n00:09:23.340 --> 00:09:26.470\nyou know, some of the high level areas\nwe just looked at categorically.\n\n183\n00:09:26.470 --> 00:09:28.220\nJust to make sure you're\ncomfortable with what they are, so\n\n184\n00:09:28.220 --> 00:09:30.100\nyou have a sense of what's there.\n\n185\n00:09:31.230 --> 00:09:33.470\nI mentioned that we would\nalso take a look at, and\n\n186\n00:09:33.470 --> 00:09:36.968\nI'll just bring the document up while\nwe're talking, roles in groups that\n\n187\n00:09:36.968 --> 00:09:40.595\nare involved with regards to setting\nup an active directory ADCS deployment.\n\n188\n00:09:40.595 --> 00:09:42.619\nAnd there are different groups and\n\n189\n00:09:42.619 --> 00:09:46.900\ndesignations of job-related\ndescriptions that may be important.\n\n190\n00:09:46.900 --> 00:09:48.910\nI mentioned a couple of times\nthe certificate manager,\n\n191\n00:09:48.910 --> 00:09:50.500\nor the CA administrator.\n\n192\n00:09:50.500 --> 00:09:52.410\nYou can kinda see what they would do here.\n\n193\n00:09:52.410 --> 00:09:54.280\nThese are standard roles,\n\n194\n00:09:54.280 --> 00:09:57.530\nthese are standard definitions\nof what the role may entail.\n\n195\n00:09:57.530 --> 00:10:01.820\nStandard responsibilities, you may decide\nto call someone a certificate manager\n\n196\n00:10:01.820 --> 00:10:05.490\nin your environment, but maybe not\nnecessarily classify them as doing this.\n\n197\n00:10:05.490 --> 00:10:08.770\nSo just understand, you may choose\nto use these roles, you may not.\n\n198\n00:10:08.770 --> 00:10:12.350\nThere's no requirement for\nyou to call somebody by this role name.\n\n199\n00:10:12.350 --> 00:10:15.290\nBut I'm just pointing out these\nare the common roles we often ascribe\n\n200\n00:10:15.290 --> 00:10:17.520\nto functionality in the CA environment.\n\n201\n00:10:17.520 --> 00:10:21.410\nSomebody who's in charge of backups,\nright, an auditor who may be managing\n\n202\n00:10:21.410 --> 00:10:26.160\nsecurity log and validation aspects\nof the operation of the CA over time.\n\n203\n00:10:26.160 --> 00:10:29.969\nEnrollees are the users and or computers\nthat are seeking certificates, right?\n\n204\n00:10:29.969 --> 00:10:32.950\nThe objects that we're going to issue them\nto, assuming we authenticate correctly.\n\n205\n00:10:32.950 --> 00:10:35.591\nSo, just want to make sure\nyou have a sense of these and\n\n206\n00:10:35.591 --> 00:10:37.428\nare familiar with the logic of them.\n\n207\n00:10:37.428 --> 00:10:39.889\nAnd it's probably helpful to have\njust a little list to study from.\n\n208\n00:10:39.889 --> 00:10:43.939\nAnd again, you may never know when\na role may be asked about, or\n\n209\n00:10:43.939 --> 00:10:47.854\nit may be used in a scenario,\nin a word problem or something.\n\n210\n00:10:47.854 --> 00:10:50.714\nAnd you may have to understand the logic\nof what that role definition would imply,\n\n211\n00:10:50.714 --> 00:10:52.012\nand answer questions accordingly.\n\n212\n00:10:52.012 --> 00:10:55.550\n&gt;&gt; Or even reading job descriptions, if\nyou were going to apply for a job, right?\n\n213\n00:10:55.550 --> 00:10:57.892\nMaking sure you have those quals for a-\n&gt;&gt; Absolutely,\n\n214\n00:10:57.892 --> 00:11:01.534\nyou may also see the fact that you may\nactually be given that in a job role,\n\n215\n00:11:01.534 --> 00:11:03.790\nit's a great way of thinking about it.\n\n216\n00:11:03.790 --> 00:11:07.984\nMeaning we may use an industry standard\ndescription of a CA role or function, and\n\n217\n00:11:07.984 --> 00:11:11.684\nexpect you to know if we're asking\nyou about those responsibilities,\n\n218\n00:11:11.684 --> 00:11:14.228\nwhat they are and\nperhaps be familiar with them.\n\n219\n00:11:14.228 --> 00:11:16.450\nSo, always important to think about that.\n\n220\n00:11:16.450 --> 00:11:18.470\nLet's go back to the CA interface.\n\n221\n00:11:18.470 --> 00:11:21.400\nLet's talk about the other side of roles,\nwhich is permissions that\n\n222\n00:11:21.400 --> 00:11:25.930\nwe may ascribe or give out from\nconfiguring the CA security perspective.\n\n223\n00:11:25.930 --> 00:11:29.520\nSo if we take a look at the CA itself,\nright click, we've been in here before.\n\n224\n00:11:29.520 --> 00:11:30.720\nGo to properties.\n\n225\n00:11:30.720 --> 00:11:33.360\nOne of the things we\nalways have on any object\n\n226\n00:11:33.360 --> 00:11:35.970\nin the Windows environment\nis always a security tab.\n\n227\n00:11:35.970 --> 00:11:38.291\nWe may or\nmay not understand what we do there,\n\n228\n00:11:38.291 --> 00:11:41.970\noften not necessarily have a reason\nto go and look very carefully at it.\n\n229\n00:11:41.970 --> 00:11:46.117\nBut as administrative professionals, as,\nperhaps, professionals who are managing\n\n230\n00:11:46.117 --> 00:11:49.926\naspects of an environment like CA,\ncertificate authority, infrastructure,\n\n231\n00:11:49.926 --> 00:11:52.851\nwe wanna have a better sense of\npermissions and what they are.\n\n232\n00:11:52.851 --> 00:11:54.210\nSo, it's always good to look.\n\n233\n00:11:54.210 --> 00:11:56.920\nYou'll see we have a very standard,\nnormal interface.\n\n234\n00:11:56.920 --> 00:12:00.510\nOur access control entries are gonna be\ndown here in terms of the permissions.\n\n235\n00:12:00.510 --> 00:12:02.750\nThe list of groups of users\nwe're targeting are up here.\n\n236\n00:12:02.750 --> 00:12:04.450\nIn this case,\n\n237\n00:12:04.450 --> 00:12:08.320\nthe authenticated users group is given\na request certificates permission.\n\n238\n00:12:08.320 --> 00:12:10.200\nWhereas domain admins is,\nyou click and see,\n\n239\n00:12:10.200 --> 00:12:13.130\nwe change the permission map a little bit.\n\n240\n00:12:13.130 --> 00:12:17.330\nIssue and manage, and manage CA,\nEnterprise admin, same thing,\n\n241\n00:12:17.330 --> 00:12:19.100\nadministrator, same thing.\n\n242\n00:12:19.100 --> 00:12:21.880\nWe do have the ability,\nas you are hopefully familiar with,\n\n243\n00:12:21.880 --> 00:12:25.900\nto be able to click add, add in a user or\na group here if we need to for\n\n244\n00:12:25.900 --> 00:12:31.190\nsome reason, giving them the rights\nthat may be necessary for\n\n245\n00:12:31.190 --> 00:12:33.310\nthem to perform some sort of function.\n\n246\n00:12:33.310 --> 00:12:35.450\nI'm gonna use the domain guests group.\n\n247\n00:12:35.450 --> 00:12:39.300\nJust add that in, specify that right here,\nand then obviously,\n\n248\n00:12:39.300 --> 00:12:42.130\nchoose whatever level of\npermission we would like to give.\n\n249\n00:12:42.130 --> 00:12:45.070\nNotice, by the way, the default\npermission, request certificates.\n\n250\n00:12:45.070 --> 00:12:49.055\nIn other words, any object, any user or\ngroup that is added here, will at\n\n251\n00:12:49.055 --> 00:12:53.055\na minimum be given request certificates\nas an out of the box permission.\n\n252\n00:12:53.055 --> 00:12:56.155\nWe would then have to add additional\npermissions as necessary.\n\n253\n00:12:56.155 --> 00:12:57.935\nSo you just may wanna be aware of that.\n\n254\n00:12:57.935 --> 00:13:02.215\nBut we do have read, we do have issue and\nmanage, manage CA request certificates.\n\n255\n00:13:02.215 --> 00:13:07.695\nRead lets us go in and locate the CA, find\ninformation out about it, access it using\n\n256\n00:13:07.695 --> 00:13:11.930\nthe web console, so we can interact with\nit, the CA being certificate authority.\n\n257\n00:13:11.930 --> 00:13:17.122\nIssue and manage certificates allows us\nto do just that, to issue and or manage.\n\n258\n00:13:17.122 --> 00:13:20.370\nManage the CA gives us rights at\nthis level to be an administrator.\n\n259\n00:13:20.370 --> 00:13:23.270\nAnd request certificates,\nthe default permission, lets an object\n\n260\n00:13:23.270 --> 00:13:26.450\nrequest certificates and put in\na request that can then be processed.\n\n261\n00:13:26.450 --> 00:13:29.070\nSo just wanna make sure\nwe're familiar with that.\n\n262\n00:13:29.070 --> 00:13:32.260\nImportant to know what those\npermission levels may be.\n\n263\n00:13:32.260 --> 00:13:35.857\nWe can obviously use the security tab,\nas I was suggesting, to delegate or\n\n264\n00:13:35.857 --> 00:13:37.639\nadminister permissions on the fly.\n\n265\n00:13:37.639 --> 00:13:39.195\nCan also remove somebody here, by the way.\n\n266\n00:13:39.195 --> 00:13:43.209\nAnd we can do that just by going in,\nhighlighting something like domain guests,\n\n267\n00:13:43.209 --> 00:13:45.521\nif we choose to remove\nthem just click remove.\n\n268\n00:13:45.521 --> 00:13:49.633\nAnd as you can see, once we apply and\nmake that change permanent, it goes away.\n\n269\n00:13:49.633 --> 00:13:52.540\nAnd then we're able to just go back to\ndoing what we were doing, and adding and\n\n270\n00:13:52.540 --> 00:13:53.355\nremoving as needed.\n\n271\n00:13:53.355 --> 00:13:55.805\nSo, just make sure you're\ncomfortable with security.\n\n272\n00:13:55.805 --> 00:13:58.990\nWe can go in, and before I show\nyou how to revoke a certificate,\n\n273\n00:13:58.990 --> 00:14:02.140\nwhich we are going to do, and\ntalk about and use the CRL.\n\n274\n00:14:02.140 --> 00:14:04.955\nI keep threatening to do that in every\nepisode, we never get to it, but\n\n275\n00:14:04.955 --> 00:14:06.312\nactually gonna do it in this one.\n\n276\n00:14:06.312 --> 00:14:09.002\nBut just before we do that, I wanna talk\nabout this idea of what's called the exit\n\n277\n00:14:09.002 --> 00:14:10.480\nmodule, which is what's sitting up here.\n\n278\n00:14:10.480 --> 00:14:11.425\nIt's one of the properties.\n\n279\n00:14:11.425 --> 00:14:13.715\nI'm gonna just hit that tab real quick.\n\n280\n00:14:13.715 --> 00:14:16.923\nNamed appropriately, but when people hear\nabout this, if they even do stop to think\n\n281\n00:14:16.923 --> 00:14:19.690\nabout it and hear about it,\nthey may not understand what it does.\n\n282\n00:14:19.690 --> 00:14:22.570\nSo if I ask you, just quickly, Cherokee,\nand I know you may have taken a look\n\n283\n00:14:22.570 --> 00:14:25.139\nat this, and may actually have\na sense of what it does ahead of time.\n\n284\n00:14:25.139 --> 00:14:26.290\n&gt;&gt; I haven't, all right.\n\n285\n00:14:26.290 --> 00:14:27.609\n&gt;&gt; But just in case you haven't, so,\n\n286\n00:14:27.609 --> 00:14:30.375\nand this is actually great if you\nhaven't taken a look at the notes,\n\n287\n00:14:30.375 --> 00:14:33.890\nthen you won't necessarily know\nintuitively what it does or doesn't do.\n\n288\n00:14:33.890 --> 00:14:36.580\nSo if I asked you, hey,\nwhat do you think the exit module does?\n\n289\n00:14:36.580 --> 00:14:39.570\nSo what do you think an exit module,\nin other words functionally,\n\n290\n00:14:39.570 --> 00:14:42.170\nwhat do you think an exit module\nis designed to do for us?\n\n291\n00:14:42.170 --> 00:14:42.690\nBest guess.\n\n292\n00:14:42.690 --> 00:14:43.673\nAnd again, I want you to guess.\n\n293\n00:14:43.673 --> 00:14:45.006\n&gt;&gt; I don't want you to\nnecessarily know ahead of time.\n\n294\n00:14:45.006 --> 00:14:46.283\n&gt;&gt; I don't know this one ahead of time.\n\n295\n00:14:46.283 --> 00:14:50.970\nSo maybe just having an exit strategy for\nany kind of expiration, for\n\n296\n00:14:50.970 --> 00:14:53.270\nthat validity period there?\n\n297\n00:14:53.270 --> 00:14:56.600\n&gt;&gt; So it's great guess, and it's one\nof several we may hear from people on\n\n298\n00:14:56.600 --> 00:14:57.950\na regular basis about what it does.\n\n299\n00:14:57.950 --> 00:15:02.371\nAnd not actually, let's say, 100%.\n\n300\n00:15:02.371 --> 00:15:04.238\nI'm gonna just be generous and\nsay you're within the ballpark.\n\n301\n00:15:04.238 --> 00:15:06.499\n&gt;&gt; Hey, yeah, you don't have to\nsweeten it up for me here, Adam.\n\n302\n00:15:06.499 --> 00:15:08.643\n&gt;&gt; But as they say in baseball,\na swing and a miss, right?\n\n303\n00:15:08.643 --> 00:15:11.810\nSo, all right, and this is important\nbecause this is what often happens.\n\n304\n00:15:11.810 --> 00:15:12.830\nPeople see this and\n\n305\n00:15:12.830 --> 00:15:16.990\nwe may see in some documentation\nsomewhere, in the exit module, blah.\n\n306\n00:15:16.990 --> 00:15:18.740\nIt says something like Windows default,\n\n307\n00:15:18.740 --> 00:15:22.530\nwhich is what you normally see, although\nwe can obviously add and modify them here.\n\n308\n00:15:22.530 --> 00:15:25.300\nBut what it actually does, and\nit is aptly named, if you stop and\n\n309\n00:15:25.300 --> 00:15:27.440\nreally get the logic of the description.\n\n310\n00:15:27.440 --> 00:15:32.350\nIt decides for us what's gonna happen,\nonce the certificate is issued by the CA.\n\n311\n00:15:32.350 --> 00:15:33.180\nSo in other words,\n\n312\n00:15:33.180 --> 00:15:36.540\nwhen I issue the certificate, what do\nI do to deal with it at that point?\n\n313\n00:15:36.540 --> 00:15:40.370\nExit modules, in other words, provide\nthe answer to the question, now what?\n\n314\n00:15:40.370 --> 00:15:43.040\nBecause I've issued it, but\nit's sitting in the CA.\n\n315\n00:15:43.040 --> 00:15:46.739\nHow do I then, perhaps, send an email\nto the user who has requested it to\n\n316\n00:15:46.739 --> 00:15:49.096\nnotify them the certificate's available?\n\n317\n00:15:49.096 --> 00:15:50.015\nHow do I publish it?\n\n318\n00:15:50.015 --> 00:15:52.775\nPerhaps publish it out to the website,\nmake it available for download.\n\n319\n00:15:52.775 --> 00:15:54.056\nAs they said, we often see.\n\n320\n00:15:54.056 --> 00:15:56.887\nSo the exit module is a set of\ninstructions to tell us what to do once\n\n321\n00:15:56.887 --> 00:15:58.696\nthe certificate itself has been issued.\n\n322\n00:15:58.696 --> 00:15:59.290\n&gt;&gt; Okay.\n\n323\n00:15:59.290 --> 00:16:00.488\n&gt;&gt; That's actually what\nthe exit module does.\n\n324\n00:16:00.488 --> 00:16:04.553\nSo it is important to know that\nexit modules are incredibly,\n\n325\n00:16:04.553 --> 00:16:06.235\nincredibly important.\n\n326\n00:16:06.235 --> 00:16:10.678\nIf we don't have it, our certificates get\ngummed up in the issuance chain of events\n\n327\n00:16:10.678 --> 00:16:12.450\nand kind of in the machinery.\n\n328\n00:16:12.450 --> 00:16:15.010\nThey're there, but\nwe essentially have no way to get to them\n\n329\n00:16:15.010 --> 00:16:18.940\nbecause the exit module explains to the\nsystem what the steps are to publish or\n\n330\n00:16:18.940 --> 00:16:21.160\nmake that to normally publish.\n\n331\n00:16:21.160 --> 00:16:24.450\nThe publisher make that certificate\navailable so someone can download and\n\n332\n00:16:24.450 --> 00:16:27.730\nconsume it, and that's a very critical\nstep because if we don't do that\n\n333\n00:16:27.730 --> 00:16:28.900\nthe certificate won't be available.\n\n334\n00:16:28.900 --> 00:16:29.760\nWe won't be able to access it.\n\n335\n00:16:29.760 --> 00:16:31.070\n&gt;&gt; So what's the default then?\n\n336\n00:16:31.070 --> 00:16:32.400\nBecause if I've just used it.\n\n337\n00:16:32.400 --> 00:16:32.900\n&gt;&gt; Publish.\n&gt;&gt; Okay.\n\n338\n00:16:32.900 --> 00:16:33.900\n&gt;&gt; To make it available on the website so\n\n339\n00:16:33.900 --> 00:16:35.650\nyou can download and grab it.\n&gt;&gt; Yeah because I was gonna say it wasn't\n\n340\n00:16:35.650 --> 00:16:38.200\nlike broken but I haven't luckily\nexperienced any issues from that.\n\n341\n00:16:38.200 --> 00:16:42.630\nBut if you had a specialized method\nof obtaining that then for sure.\n\n342\n00:16:42.630 --> 00:16:45.790\n&gt;&gt; You can modify that, but the default,\nwhich is what we would normally use and\n\n343\n00:16:45.790 --> 00:16:46.660\nwhat we want to go with.\n\n344\n00:16:46.660 --> 00:16:51.420\nSorry, there's a little dirt on my\nscreen there is actually to be able to\n\n345\n00:16:51.420 --> 00:16:55.070\nmake available through publishing and\nperhaps notify the user depending on what\n\n346\n00:16:55.070 --> 00:16:58.400\nadditional steps we may take that\nthe certificate's available.\n\n347\n00:16:58.400 --> 00:17:01.920\nIf the user, depending on the certificate\ntemplate provides an email.\n\n348\n00:17:01.920 --> 00:17:04.960\nWe may be actually, as part of\nthe default exit module behavior,\n\n349\n00:17:04.960 --> 00:17:07.590\nbe able to pop a notification,\nsay hey, your certificate's available.\n\n350\n00:17:07.590 --> 00:17:09.110\n&gt;&gt; Okay.\n&gt;&gt; You can go in and grab it.\n\n351\n00:17:09.110 --> 00:17:12.240\nIf they don't, because certificate\ntemplate may not require that, we will\n\n352\n00:17:12.240 --> 00:17:15.930\njust publish the certificate directly,\nbind it to the user account, let's say.\n\n353\n00:17:15.930 --> 00:17:19.240\nFor instance, in the AD or the computer\naccount, which is often what's done.\n\n354\n00:17:19.240 --> 00:17:20.270\nIt's just done behind the scenes.\n\n355\n00:17:20.270 --> 00:17:20.850\n&gt;&gt; Right.\n\n356\n00:17:20.850 --> 00:17:22.730\nThe exit module controls\nall that behavior.\n\n357\n00:17:22.730 --> 00:17:24.460\n&gt;&gt; Okay.\n&gt;&gt; So that's why often times we don't have\n\n358\n00:17:24.460 --> 00:17:25.300\nto do anything.\n\n359\n00:17:25.300 --> 00:17:28.210\nCertificates are just either\nare automatically published and bound, or\n\n360\n00:17:28.210 --> 00:17:31.860\nwe get a link, we go download it, we go\nback and check on the certificate server.\n\n361\n00:17:31.860 --> 00:17:33.780\nWe see the web page, but\nwe see it published there,\n\n362\n00:17:33.780 --> 00:17:35.330\nand we can go grab it or\nmake it available.\n\n363\n00:17:35.330 --> 00:17:36.980\nThat's what the exit module does.\n\n364\n00:17:36.980 --> 00:17:38.490\nSo it's actually important to know that.\n\n365\n00:17:38.490 --> 00:17:39.950\nAnd then, the CA policy module,\n\n366\n00:17:39.950 --> 00:17:42.980\nremember I just talked about policies\na moment ago, in group policies.\n\n367\n00:17:42.980 --> 00:17:46.610\nI said, yeah, we can reference them, but\nthey're actually created somewhere else,\n\n368\n00:17:46.610 --> 00:17:50.430\nand the default policy was there, or\nwe saw one of the policies that was there.\n\n369\n00:17:50.430 --> 00:17:52.840\nYou could see that we\nhave our policy module.\n\n370\n00:17:52.840 --> 00:17:56.010\nSpecifies how to handle certificate\nrequests for both enterprise and\n\n371\n00:17:56.010 --> 00:17:57.080\nstandalone CA's.\n\n372\n00:17:57.080 --> 00:17:58.930\nThis one,\nthe description is a little more apt.\n\n373\n00:17:58.930 --> 00:18:02.680\nIt is a little bit more on\ntarget in terms of what it does.\n\n374\n00:18:02.680 --> 00:18:05.600\nWe have a version statement there,\nso we know what version it is.\n\n375\n00:18:05.600 --> 00:18:09.790\nBut we can see by delving in what\nthe request handling may be.\n\n376\n00:18:09.790 --> 00:18:13.020\nIt's really not a lot of levers we can\npull, there's not a lot we can do.\n\n377\n00:18:13.020 --> 00:18:15.390\nFollow the settings in the certificate\ntemplate if applicable.\n\n378\n00:18:15.390 --> 00:18:18.410\nOtherwise it'll automatically\nissue what the issuance policy is.\n\n379\n00:18:18.410 --> 00:18:21.660\nAs opposed to set certificate or\nrequest status to pending.\n\n380\n00:18:21.660 --> 00:18:24.450\nAnd then have the administrator\ncome in and manually intervene.\n\n381\n00:18:24.450 --> 00:18:27.340\nSo we could set with the default will be,\nbut we can go in and\n\n382\n00:18:27.340 --> 00:18:29.120\nselect the policy module.\n\n383\n00:18:29.120 --> 00:18:30.180\nOur Windows default is there.\n\n384\n00:18:30.180 --> 00:18:35.230\nUnless we have other policy modules added\nthrough either additional extensions or\n\n385\n00:18:35.230 --> 00:18:37.895\nfunctionality that may be\nour only set of choices.\n\n386\n00:18:37.895 --> 00:18:39.695\nSo, we just wanna see that and\nbe aware of that.\n\n387\n00:18:39.695 --> 00:18:43.005\nBut we do have our policy and\nour exit modules here.\n\n388\n00:18:43.005 --> 00:18:46.345\nAgain, just to see a note\nwhat's here right we may or\n\n389\n00:18:46.345 --> 00:18:48.865\nmay not have other modules\ndepending on what we choose to do.\n\n390\n00:18:48.865 --> 00:18:52.695\nBut we can't see the properties\nassociated with this.\n\n391\n00:18:52.695 --> 00:18:56.275\nAnd we can allow in this on the exit\nmodule, the only other option we have\n\n392\n00:18:56.275 --> 00:18:59.370\nwould be the last to be published\ndirectly to the file system.\n\n393\n00:18:59.370 --> 00:19:01.990\nIt's supposed to make them available for\ndownload or\n\n394\n00:19:01.990 --> 00:19:03.660\nautomatic binding or things like that.\n\n395\n00:19:03.660 --> 00:19:05.890\nSo we do have certain capabilities.\n\n396\n00:19:05.890 --> 00:19:07.070\nJust wanna call those out.\n\n397\n00:19:07.070 --> 00:19:10.340\nSo as we go in and\nwe start to look at some of the functions,\n\n398\n00:19:10.340 --> 00:19:11.980\nwe have a sense of what\nthese things are doing.\n\n399\n00:19:11.980 --> 00:19:16.932\nVery important to know about policy\nmodules and exit modules, how they work.\n\n400\n00:19:16.932 --> 00:19:20.260\nRight, so just wanna make sure that we\ncan think about the logic of that and\n\n401\n00:19:20.260 --> 00:19:21.740\njust make sure we understand that.\n\n402\n00:19:21.740 --> 00:19:25.820\nWe have talked about certificate,\nrevocation publishing.\n\n403\n00:19:25.820 --> 00:19:28.865\nI mentioned the AIA and\nthe use of the AIA locations,\n\n404\n00:19:28.865 --> 00:19:32.290\nto be able to find the missing links in\nthe chain to download certificates all\n\n405\n00:19:32.290 --> 00:19:35.700\nthe way through the trust path, so\nwe've talked a little bit about those.\n\n406\n00:19:35.700 --> 00:19:40.600\nLet's go in and\nlet me go in here to issued certificates.\n\n407\n00:19:40.600 --> 00:19:44.960\nWe're on our Root CA, right,\nin our enterprise system, so\n\n408\n00:19:44.960 --> 00:19:45.940\nour enterprise Root CA.\n\n409\n00:19:45.940 --> 00:19:48.520\nI've gone ahead and\nissued a certificate through\n\n410\n00:19:48.520 --> 00:19:50.770\nthe web interface that I showed you\nin one of the earlier episodes.\n\n411\n00:19:50.770 --> 00:19:52.560\nI did that a little while ago, so\n\n412\n00:19:52.560 --> 00:19:55.910\nI just went through and clicked through\nthe logic and the request form.\n\n413\n00:19:55.910 --> 00:20:00.570\nSet the certificate in motion, got it, had\nit automatically issued so it's available.\n\n414\n00:20:00.570 --> 00:20:02.250\nSo I see evidence of that here.\n\n415\n00:20:02.250 --> 00:20:05.570\nThis certificate number five\nwas a web server certificate.\n\n416\n00:20:05.570 --> 00:20:06.440\nI'm just hovering over.\n\n417\n00:20:06.440 --> 00:20:10.440\nYou can see certificate\ntemplate type right there.\n\n418\n00:20:10.440 --> 00:20:13.900\nSo we can kind of see there,\nright there what that is.\n\n419\n00:20:13.900 --> 00:20:16.270\nThe serial number associated with it so\n\n420\n00:20:16.270 --> 00:20:19.310\nwe do have the serial number unique\nidentifier, the effective date.\n\n421\n00:20:19.310 --> 00:20:21.340\nJust all the information is here, right?\n\n422\n00:20:21.340 --> 00:20:25.940\nSo I can go in and\nI can view the certificate of\n\n423\n00:20:25.940 --> 00:20:29.320\nthe attribute fixed let's just take\na quick look before we revoke it.\n\n424\n00:20:29.320 --> 00:20:31.628\nWe're gonna go in and revoke it so\nwe could see what that does.\n\n425\n00:20:31.628 --> 00:20:36.470\nSo bring this over here just so\nyou can see what the attributes and\n\n426\n00:20:36.470 --> 00:20:39.100\nextensions on the certificate\nmay look like.\n\n427\n00:20:39.100 --> 00:20:41.810\nWe can see the OS version\nof the requestor.\n\n428\n00:20:41.810 --> 00:20:43.140\nRequest the CSS provider,\n\n429\n00:20:43.140 --> 00:20:48.390\nthe cryptographic security provider,\nthe RSA provider was used.\n\n430\n00:20:48.390 --> 00:20:51.575\nThe information in this case,\n\n431\n00:20:51.575 --> 00:20:56.620\nplabbconepracticelabs.com was the machine\nthat was used to provide this.\n\n432\n00:20:56.620 --> 00:21:00.640\nExtensions here the key usage\ncertificate template name.\n\n433\n00:21:00.640 --> 00:21:04.420\nI could just kind of click through so you\ncould see it as a web server certificate.\n\n434\n00:21:04.420 --> 00:21:06.000\nWe could tell that already.\n\n435\n00:21:06.000 --> 00:21:11.210\nInformation about the various items\nare just gonna be shown here as I go down.\n\n436\n00:21:11.210 --> 00:21:13.140\nWhat is my CRL distribution point,\n\n437\n00:21:13.140 --> 00:21:17.010\nmy certificate revocation list\ndistribution point, or CDP?\n\n438\n00:21:17.010 --> 00:21:20.900\nAnd I can see a path that shows me that,\nand explains what that is.\n\n439\n00:21:20.900 --> 00:21:24.780\nBecause this is an enterprise root CA,\nor just an enterprise CA,\n\n440\n00:21:24.780 --> 00:21:28.110\nI see the information about\nthe association all the way down.\n\n441\n00:21:28.110 --> 00:21:32.340\nIt's hard to follow, it's kinda small, and\nyou gotta read line by line to see it.\n\n442\n00:21:32.340 --> 00:21:34.378\nBut it does give me all\nthe URL information.\n\n443\n00:21:34.378 --> 00:21:41.270\nAnd shows me where I would go\nto be able to find all of this.\n\n444\n00:21:41.270 --> 00:21:44.660\nSo I'm kind of highlighting all this\ninformation to actually resolve and\n\n445\n00:21:44.660 --> 00:21:49.010\nget these information points or\ndistribution points for the CRL.\n\n446\n00:21:49.010 --> 00:21:53.600\nIf we have AIA information,\nthe authority information access,\n\n447\n00:21:53.600 --> 00:21:56.690\nthat additional capability we talked\nabout leveraging and putting in.\n\n448\n00:21:56.690 --> 00:21:59.100\nI could see the information on that here.\n\n449\n00:21:59.100 --> 00:22:02.725\nSo I would see the information provided\nhere as well for the URL to go out and\n\n450\n00:22:02.725 --> 00:22:07.485\nfind the path to get those downloadable\ncertificates if I need them.\n\n451\n00:22:07.485 --> 00:22:10.585\nI could see whatever the case\nmay be just in terms of all of\n\n452\n00:22:10.585 --> 00:22:11.945\nthese extensions that are map.\n\n453\n00:22:11.945 --> 00:22:15.475\nA lot of this is information that was\nprovided when I fill in the template.\n\n454\n00:22:15.475 --> 00:22:19.135\nThe AIA and the CDP information\nis actually created outside of\n\n455\n00:22:19.135 --> 00:22:22.710\nthe certificate template and\nis just mapped on the CA itself.\n\n456\n00:22:22.710 --> 00:22:23.700\nAnd then we add that, and\n\n457\n00:22:23.700 --> 00:22:26.480\njust tag that to every certificate\nthat is going to be created.\n\n458\n00:22:26.480 --> 00:22:28.580\nWe'll take a look at that\nseparately in a moment.\n\n459\n00:22:28.580 --> 00:22:31.010\nSo I'm going to right click and\nI'm going to go ahead, and\n\n460\n00:22:31.010 --> 00:22:33.290\ninstead of view,\nI'm going to revoke the certificate.\n\n461\n00:22:33.290 --> 00:22:35.910\nNow before I do that,\nlet's just make sure we agree,\n\n462\n00:22:35.910 --> 00:22:39.610\nthere are no revoked certificates right\nnow, so we have nothing in there.\n\n463\n00:22:39.610 --> 00:22:41.390\nAnd before we even do that,\n\n464\n00:22:41.390 --> 00:22:46.120\nlet's go take a look real quick,\nwe come up here, right-click.\n\n465\n00:22:46.120 --> 00:22:49.700\nLet's go take a look at our\ncertificate revocation list.\n\n466\n00:22:49.700 --> 00:22:52.340\nI'm gonna go to Revoke Certificates,\ngo to Properties.\n\n467\n00:22:52.340 --> 00:22:55.010\nI have Certificate Revocation\nList Publishing Parameters,\n\n468\n00:22:55.010 --> 00:22:58.960\njust how often do I publish the CRL,\nhow often do I publish a delta CRL,\n\n469\n00:22:58.960 --> 00:23:01.790\nthe initial CRL, and then the changed CRL.\n\n470\n00:23:01.790 --> 00:23:03.750\nYou can see I can manipulate\nthose time values.\n\n471\n00:23:03.750 --> 00:23:04.920\nHours, minutes, days.\n\n472\n00:23:04.920 --> 00:23:08.850\nCould pull this down, years, weeks,\nmonths, whatever the case may be.\n\n473\n00:23:08.850 --> 00:23:11.960\nYou can obviously modify those as needed,\nbut\n\n474\n00:23:11.960 --> 00:23:14.920\nview CRL is where we actually\ngo to see the current CRL.\n\n475\n00:23:14.920 --> 00:23:19.130\nI have issued at least one initial CRL,\none Delta CRL.\n\n476\n00:23:19.130 --> 00:23:21.760\nWhen I do view,\nwe can see the current CRL.\n\n477\n00:23:21.760 --> 00:23:24.930\nI'm just gonna move this over so\nyou can see what it is.\n\n478\n00:23:24.930 --> 00:23:26.470\nWhen we go to Revocation Lists,\n\n479\n00:23:26.470 --> 00:23:29.470\nnotice there are no certificates\non the revocation list right now.\n\n480\n00:23:29.470 --> 00:23:33.040\nIn other words, just normal operation,\nno revoked certificates yet,\n\n481\n00:23:33.040 --> 00:23:34.690\nnothing published, nothing updated.\n\n482\n00:23:34.690 --> 00:23:36.480\nThe CRL that has been issued is blank.\n\n483\n00:23:36.480 --> 00:23:39.940\nSo I just want to show you that before\nwe start with the process, right?\n\n484\n00:23:39.940 --> 00:23:43.090\nSo you can see there's nothing there,\nalthough we have issued one.\n\n485\n00:23:43.090 --> 00:23:45.005\nAnd if we look at the Delta CRL,\n\n486\n00:23:45.005 --> 00:23:50.150\nan update that may have occurred since\nthe revocation list was initially created.\n\n487\n00:23:50.150 --> 00:23:53.890\nYou'll notice also that there's\nnothing on the Delta CRL either.\n\n488\n00:23:53.890 --> 00:23:56.621\nOkay?\nMeaning no certificates are listed there,\n\n489\n00:23:56.621 --> 00:23:58.233\nspecifically is what I mean.\n\n490\n00:23:58.233 --> 00:24:04.249\nAll right, so having said that, if we-\n&gt;&gt; I'm trying to think, Adam.\n\n491\n00:24:04.249 --> 00:24:06.490\nI can't remember the actual term.\n\n492\n00:24:06.490 --> 00:24:11.360\nLet's say I was suspecting that\na certificate had been manipulated or\n\n493\n00:24:11.360 --> 00:24:11.950\nmodified.\n\n494\n00:24:11.950 --> 00:24:16.950\nCan't I suspend it before actually\nperforming this revocation process?\n\n495\n00:24:16.950 --> 00:24:18.590\nUntil like a pending.\n\n496\n00:24:18.590 --> 00:24:21.180\nI know Microsoft has\na specific word in there.\n\n497\n00:24:21.180 --> 00:24:23.691\n&gt;&gt; Pending is the status for\ncertificates [CROSSTALK] being issued,\n\n498\n00:24:23.691 --> 00:24:24.883\nnot when it's being revoked.\n\n499\n00:24:24.883 --> 00:24:27.080\n&gt;&gt; Right, I think it's suspended.\n\n500\n00:24:27.080 --> 00:24:30.270\n&gt;&gt; When you are pending,\nyou're pending being issued.\n\n501\n00:24:30.270 --> 00:24:32.880\nYou can see here pending requests, right?\n\n502\n00:24:32.880 --> 00:24:35.999\nRight here, there's nothing in there\nbecause I haven't issued a certificate\n\n503\n00:24:35.999 --> 00:24:38.522\nthat's manually issued and\ntherefore has to be acknowledged.\n\n504\n00:24:38.522 --> 00:24:40.250\nBut I could see that category in theory.\n\n505\n00:24:40.250 --> 00:24:42.840\nBut, so it would be pending\nas the status we give for\n\n506\n00:24:42.840 --> 00:24:44.280\na certificate that's being issued.\n\n507\n00:24:44.280 --> 00:24:46.500\n&gt;&gt; Okay.\n&gt;&gt; Issued on a standalone CA is manually\n\n508\n00:24:46.500 --> 00:24:48.060\nissued and then has to be approved.\n\n509\n00:24:48.060 --> 00:24:49.283\nThat's a different status.\n\n510\n00:24:49.283 --> 00:24:50.850\nAll right, so revoked status.\n\n511\n00:24:50.850 --> 00:24:52.940\nLet's just go over here for\na second, right click.\n\n512\n00:24:52.940 --> 00:24:56.262\nI'm not gonna do this yet, but\nif I want to publish the CRL to update it.\n\n513\n00:24:56.262 --> 00:24:57.230\nI'll click there.\n\n514\n00:24:57.230 --> 00:25:02.050\nAfter I revoke the certificate, I'm gonna\ngo publish it, publish the revocation and\n\n515\n00:25:02.050 --> 00:25:03.950\nthen update the CRL,\nshow you how that works.\n\n516\n00:25:03.950 --> 00:25:07.130\nSo, just wanted to establish that we\nhave no certificates in the revoke\n\n517\n00:25:07.130 --> 00:25:08.050\nstatus currently.\n\n518\n00:25:08.050 --> 00:25:09.920\nAll right so\nlet's just go in here real quick,\n\n519\n00:25:09.920 --> 00:25:11.940\nissue, let's highlight a certificate.\n\n520\n00:25:11.940 --> 00:25:13.860\nWe'll use the web one,\nthat's because I issued,\n\n521\n00:25:13.860 --> 00:25:16.040\nI'm not really attaching to\nanything I'm not using it.\n\n522\n00:25:16.040 --> 00:25:18.060\nWhere as if I go and zero out and\n\n523\n00:25:18.060 --> 00:25:20.460\nrevoke one of the other\ncertificates I could actually.\n\n524\n00:25:20.460 --> 00:25:24.140\nCause damage to the CA infrastructure\nbecause it will revoke a certificate being\n\n525\n00:25:24.140 --> 00:25:26.860\nused to authenticate and\nto validate functionality.\n\n526\n00:25:26.860 --> 00:25:28.680\nSo, I'm gonna right click here.\n\n527\n00:25:28.680 --> 00:25:32.040\nNormally we would do this more often than\nnot by the way to a user certificate.\n\n528\n00:25:32.040 --> 00:25:33.980\nI just don't have a user\ncertificate issued.\n\n529\n00:25:33.980 --> 00:25:38.020\nI'm using simply a web service certificate\nas a stand in, but revoke certificate.\n\n530\n00:25:39.140 --> 00:25:41.110\nSo let's just see what we're doing here.\n\n531\n00:25:41.110 --> 00:25:44.380\nSo, reason code right I'll\nhave to specify a reason.\n\n532\n00:25:44.380 --> 00:25:46.300\nAnd this is what you're\nprobably thinking of Cherokee.\n\n533\n00:25:46.300 --> 00:25:49.812\nNot the status per se but\nthe reason code, suspended.\n\n534\n00:25:49.812 --> 00:25:50.800\n&gt;&gt; Suspended, okay.\n\n535\n00:25:50.800 --> 00:25:53.360\n&gt;&gt; So it's a reason code,\nwhich is what you were asking about.\n\n536\n00:25:53.360 --> 00:25:56.950\nThat tells us the theory, just these are\ngeneral categories that have been created.\n\n537\n00:25:56.950 --> 00:25:59.560\nThey're just essentially\nmeta data that says what\n\n538\n00:25:59.560 --> 00:26:02.690\nthe from an auditability standpoint and\n\n539\n00:26:02.690 --> 00:26:07.150\nfrom a tracking standpoint, what the logic\nbehind this revocation request will be.\n\n540\n00:26:07.150 --> 00:26:08.570\nRevocation is revocation, not suspended.\n\n541\n00:26:08.570 --> 00:26:09.620\n&gt;&gt; Okay, okay.\n\n542\n00:26:09.620 --> 00:26:13.600\n&gt;&gt; When you revoke, you are pulling the\nright of that certificate to be used and\n\n543\n00:26:13.600 --> 00:26:14.710\nbe seen as valid.\n\n544\n00:26:14.710 --> 00:26:17.300\nWe don't put that into a temporary or\npending state.\n\n545\n00:26:17.300 --> 00:26:19.820\nWhen we revoke its either it's good or\nit's revoked.\n\n546\n00:26:19.820 --> 00:26:24.220\nWell, we can assign a code to\nthe revocation to specify something like,\n\n547\n00:26:24.220 --> 00:26:28.620\nwe may have suspended the certificate in\nthe sense that we call it revoked, but\n\n548\n00:26:28.620 --> 00:26:32.030\nwe're suspending it in the sense that yet\nfor now it's no good.\n\n549\n00:26:32.030 --> 00:26:35.200\nWe may give you back that\ncertificate by reinstating it, but\n\n550\n00:26:35.200 --> 00:26:37.350\nthe code is essentially\nwhat you're referencing.\n\n551\n00:26:37.350 --> 00:26:40.050\nNot the logic of the fact that we\nwould actually still revoke it.\n\n552\n00:26:40.050 --> 00:26:42.810\nI think that's what you were thinking,\nin terms of that.\n\n553\n00:26:42.810 --> 00:26:45.450\nSo it's usually good to have a code or\n\n554\n00:26:45.450 --> 00:26:47.820\nreason code that you've\nagreed on ahead of time.\n\n555\n00:26:47.820 --> 00:26:51.810\nYou know if a user perhaps,\nis being accused of doing something with\n\n556\n00:26:51.810 --> 00:26:54.760\nthe certificate that\nmaybe inappropriate it.\n\n557\n00:26:54.760 --> 00:26:56.799\n&gt;&gt; Investigation pending or\nsomething like that?\n\n558\n00:26:56.799 --> 00:26:59.392\n&gt;&gt; Yeah, you know, yeah we may not have\na category here that says, you know,\n\n559\n00:26:59.392 --> 00:27:00.390\nkey compromise something.\n\n560\n00:27:00.390 --> 00:27:01.340\nIt's probably not appropriate.\n\n561\n00:27:01.340 --> 00:27:03.350\nMore like I'm gonna suspend it because,\n\n562\n00:27:03.350 --> 00:27:05.330\nand you then have an idea\nof what that means.\n\n563\n00:27:05.330 --> 00:27:08.350\nSo let's just say suspended,\nand then date and time, right?\n\n564\n00:27:08.350 --> 00:27:11.330\nToday's date and timestamp or\nwhatever it may be.\n\n565\n00:27:11.330 --> 00:27:14.510\nWe'll go ahead and we'll specify when and\nwhere this happens.\n\n566\n00:27:14.510 --> 00:27:16.450\nSo I'm just gonna leave the default there,\nbut you get the idea.\n\n567\n00:27:16.450 --> 00:27:19.970\nAll right, so notice that certificate\ndisappeared from here, right?\n\n568\n00:27:21.250 --> 00:27:25.468\nWent into revoked, and\nwe'll see it now, and it is there.\n\n569\n00:27:25.468 --> 00:27:27.320\n&gt;&gt; A little red X.\n&gt;&gt; Revocation reason, suspended.\n\n570\n00:27:27.320 --> 00:27:29.890\nYeah a little circle, red circle,\nwhite X kind of thing.\n\n571\n00:27:29.890 --> 00:27:34.870\nYou can see it there, and notice that I\ncan unrevoke the certificate, which may\n\n572\n00:27:34.870 --> 00:27:38.650\nalso, as I said, be what you were thinking\nof, if you saw a code for suspended.\n\n573\n00:27:38.650 --> 00:27:40.200\nBut again, we use the terminology,\n\n574\n00:27:40.200 --> 00:27:44.800\nrevoke, unrevoke, not suspended,\nunsuspended, the category is suspended.\n\n575\n00:27:44.800 --> 00:27:46.860\nThe action is revoked around the vouchers.\n\n576\n00:27:46.860 --> 00:27:48.050\nTo make everybody clear on that and\n\n577\n00:27:48.050 --> 00:27:49.830\nto make sure that we\nunderstand the logic of that.\n\n578\n00:27:49.830 --> 00:27:51.735\nI think that's what you\nkinda have in your mind.\n\n579\n00:27:51.735 --> 00:27:52.567\n&gt;&gt; Yeah, I was thinking.\n\n580\n00:27:52.567 --> 00:27:53.535\n&gt;&gt; Just a matter of how we do it.\n\n581\n00:27:53.535 --> 00:27:54.800\n&gt;&gt; Okay.\n&gt;&gt; Does that make sense?\n\n582\n00:27:54.800 --> 00:27:56.166\n&gt;&gt; Yeah.\n&gt;&gt; Okay, all right so\n\n583\n00:27:56.166 --> 00:27:58.193\nunrevoke we're not gonna do that yet.\n\n584\n00:27:58.193 --> 00:27:59.350\nI just want to show you that's there.\n\n585\n00:27:59.350 --> 00:28:00.640\nSo, we revoke this, right?\n\n586\n00:28:00.640 --> 00:28:02.790\nSo now,\nwhat we're going to do is to follow,\n\n587\n00:28:02.790 --> 00:28:07.810\nlet's go here, let's go here,\nlet's publish an update to our CRL,\n\n588\n00:28:07.810 --> 00:28:11.420\nbecause remember,\nwe have the CRL set to once an hour.\n\n589\n00:28:11.420 --> 00:28:13.310\nAnd then, I think,\nDelta's every 30 minutes.\n\n590\n00:28:13.310 --> 00:28:16.860\nI would literally have to wait 30 minutes\nto an hour for this change to update,\n\n591\n00:28:16.860 --> 00:28:19.200\nbefore I see evidence of it in the CRL.\n\n592\n00:28:19.200 --> 00:28:21.320\nBut if I publish and\nthen go look at the CRL,\n\n593\n00:28:21.320 --> 00:28:23.270\nI will see an updated\ncertificate listed there.\n\n594\n00:28:23.270 --> 00:28:24.780\nSo let's just publish this.\n\n595\n00:28:24.780 --> 00:28:28.090\nNow type of publisher or\ntype of CRL to publish.\n\n596\n00:28:28.090 --> 00:28:29.490\nLet's just point there.\n\n597\n00:28:29.490 --> 00:28:33.040\nOn New CRL, which means a brand new CRL.\n\n598\n00:28:33.040 --> 00:28:36.550\nThe top item on that tab of two\nthat we looked at for properties or\n\n599\n00:28:36.550 --> 00:28:37.500\nDelta CRL only.\n\n600\n00:28:37.500 --> 00:28:40.700\nOnly publish The delta but not a full CRL.\n\n601\n00:28:40.700 --> 00:28:41.560\n&gt;&gt; Whatever's been changed.\n\n602\n00:28:41.560 --> 00:28:42.600\n&gt;&gt; Right, whatever's been changed.\n\n603\n00:28:42.600 --> 00:28:46.500\nWe could do either one, so it's just\na complete new CRL which contains\n\n604\n00:28:46.500 --> 00:28:48.860\nup to date or\nup to the moment revocation information.\n\n605\n00:28:48.860 --> 00:28:51.710\nIf we do new issues\nan abbreviated version CRL\n\n606\n00:28:51.710 --> 00:28:53.320\npertaining only new updates for the delta.\n\n607\n00:28:53.320 --> 00:28:54.700\nSo it's up to us to decide.\n\n608\n00:28:54.700 --> 00:28:57.250\nLet's do new CRL, click OK.\n\n609\n00:28:57.250 --> 00:28:58.130\nHappens right?\n\n610\n00:28:58.130 --> 00:28:59.250\nNothing has changed.\n\n611\n00:28:59.250 --> 00:29:00.740\nThe certificate is still there.\n\n612\n00:29:00.740 --> 00:29:02.565\nRight that data hasn't been modified.\n\n613\n00:29:02.565 --> 00:29:09.240\nBut, what we'll be able to do now is\ngo into properties, come over here,\n\n614\n00:29:09.240 --> 00:29:14.220\nand we can go in, let's go in.\n\n615\n00:29:14.220 --> 00:29:16.820\nLet's see, that should,\nhopefully, have updated.\n\n616\n00:29:18.320 --> 00:29:20.880\nJust take a look there, I don't see\nthe key index, it's still at 0,\n\n617\n00:29:20.880 --> 00:29:21.870\nit may not have.\n\n618\n00:29:21.870 --> 00:29:23.250\nLet me see, there we go, okay.\n\n619\n00:29:23.250 --> 00:29:27.970\nAnd so we can see now that, we see\nserial number, something is listed here.\n\n620\n00:29:27.970 --> 00:29:31.260\nThis serial number, we'd have to track\nit against the serial number here.\n\n621\n00:29:31.260 --> 00:29:32.010\nI can't really hover it and\n\n622\n00:29:32.010 --> 00:29:35.700\nget the whole thing to show up but you\ncan kind of see 70 a whole bunch of 0s.\n\n623\n00:29:35.700 --> 00:29:41.760\n0513 after kind of trails off but you can\nsee the serial number is indeed the same.\n\n624\n00:29:41.760 --> 00:29:44.110\nAnd the revocation date and\ntimestamp is there.\n\n625\n00:29:44.110 --> 00:29:45.860\nAnd when I highlight that,\n\n626\n00:29:45.860 --> 00:29:50.600\nit does show me the reason code\nsuspended is the reason code we specify.\n\n627\n00:29:50.600 --> 00:29:52.240\nSo I could see all that information.\n\n628\n00:29:52.240 --> 00:29:55.975\nAnd I could just highlight or\nsense with the general information there.\n\n629\n00:29:55.975 --> 00:29:58.645\nSo that's what we see with the CRL,\ncertificate of revocation.\n\n630\n00:29:58.645 --> 00:30:01.045\nWe see the ability to\nrevoke the certificate.\n\n631\n00:30:01.045 --> 00:30:02.295\nCode or tag it according.\n\n632\n00:30:02.295 --> 00:30:05.795\nEach code has a number, identifiers,\nand attribute identified with it.\n\n633\n00:30:05.795 --> 00:30:10.935\nBut you could see, key has been\ncompromised, CA compromised, whatever.\n\n634\n00:30:10.935 --> 00:30:13.675\nAnd then we're able to tag that\ncertificate, update the CRL,\n\n635\n00:30:13.675 --> 00:30:18.110\nand then any application that uses\nthat CRL when it downloads this.\n\n636\n00:30:18.110 --> 00:30:21.948\nWe'll then be told, hey, ignore that\ncertificate no longer valid don't accept\n\n637\n00:30:21.948 --> 00:30:24.726\nit, which is what we want the CRL\nto be able to drive for us and\n\n638\n00:30:24.726 --> 00:30:26.526\nensure that we know what's going on.\n\n639\n00:30:26.526 --> 00:30:31.080\nAnd if we go and publish the Delta CRL\nwe would see that update here as well.\n\n640\n00:30:31.080 --> 00:30:36.370\nBecause remember the Delta CRL right\nnow it's been updated because I\n\n641\n00:30:36.370 --> 00:30:40.150\nforced the new one which automatically\ncreates a Delta CRL that mirrors that.\n\n642\n00:30:40.150 --> 00:30:42.180\nSo we see both but\nit could have just published.\n\n643\n00:30:42.180 --> 00:30:46.480\nThe delta left the original one in tact,\nwhich would have shown no certificates.\n\n644\n00:30:46.480 --> 00:30:47.650\nBut the delta would have been updated.\n\n645\n00:30:47.650 --> 00:30:49.190\nSo I can do this one way or the other.\n\n646\n00:30:49.190 --> 00:30:54.570\nTypically, you publish a full CRL when\nyou have lots and lots of activity.\n\n647\n00:30:54.570 --> 00:30:58.020\nIf there's only one or two, you may\njust choose to publish a Delta CRL,\n\n648\n00:30:58.020 --> 00:31:02.600\nremember also that using OCSP,\nthe Online Certificate Status Protocol,\n\n649\n00:31:02.600 --> 00:31:05.040\napplications that are enabled and\nsupport that can now\n\n650\n00:31:05.040 --> 00:31:08.760\nquery the certificate authority directly\nand get the most recent information.\n\n651\n00:31:08.760 --> 00:31:11.840\nSo it may not be in business to manually\npublishing these things all the time.\n\n652\n00:31:11.840 --> 00:31:15.520\nWe do have timelines that update them\nanyway but we may just leave them to their\n\n653\n00:31:15.520 --> 00:31:19.380\nown devices and OCSP can then come in and\nrequest an updated status.\n\n654\n00:31:19.380 --> 00:31:21.629\nSo we have a couple of different\nways at handling this.\n\n655\n00:31:21.629 --> 00:31:22.643\nJust depending on what we're doing and\nhow we're doing it. &gt;&gt; Yeah, and\n\n656\n00:31:22.643 --> 00:31:26.801\nusually from the client side, most\nbrowsers moderate, like up to date version\n\n657\n00:31:26.801 --> 00:31:31.220\nof the browsers are able to go ahead and\nuse that technology when we're navigating.\n\n658\n00:31:31.220 --> 00:31:33.020\nIt's not something we have\nto focus on too much.\n\n659\n00:31:33.020 --> 00:31:34.720\n&gt;&gt; They are, but it's not just browsers.\n\n660\n00:31:34.720 --> 00:31:36.290\nBrowsers are one of the big consumers but\nremember,\n\n661\n00:31:36.290 --> 00:31:40.090\nthere may be a lot of applications that\nare PKI enabled, that are not necessarily\n\n662\n00:31:40.090 --> 00:31:43.950\nweb browsers and they will also use and\nconsume certificates, so\n\n663\n00:31:43.950 --> 00:31:47.260\nwe just have to make sure we understand\nthat the application generically whatever\n\n664\n00:31:47.260 --> 00:31:50.200\nit may be is what's driving the use\nof ocsb must be enabled for\n\n665\n00:31:50.200 --> 00:31:52.890\nsupport protocols, but absolutely correct.\n\n666\n00:31:52.890 --> 00:31:55.260\n&gt;&gt; So we actually made it to\nthe end of this episode, but\n\n667\n00:31:55.260 --> 00:31:59.400\nwe did forget to look at versions so\nhow about we pin that to the next one.\n\n668\n00:31:59.400 --> 00:32:03.280\n&gt;&gt; We didn't forget it's going to come up,\nbut we have to go in and talk about.\n\n669\n00:32:03.280 --> 00:32:05.910\nHow we just take a look at those CDP and\nAIA locations,\n\n670\n00:32:05.910 --> 00:32:06.670\nas far as how we create them.\n\n671\n00:32:06.670 --> 00:32:07.660\n&gt;&gt; So that'll be a good point to do that.\n\n672\n00:32:07.660 --> 00:32:09.430\n&gt;&gt; We're gonna do that first\nbefore we do versions.\n\n673\n00:32:09.430 --> 00:32:11.380\nAnd then we're gonna do\ncertificate versions, absolutely.\n\n674\n00:32:11.380 --> 00:32:13.460\n&gt;&gt; All right, so ladies and\ngentlemen, you don't wanna miss that.\n\n675\n00:32:13.460 --> 00:32:15.850\nStay tuned,\nwe have more information headed your way.\n\n676\n00:32:15.850 --> 00:32:17.950\nBut for this show,\nwe'll go ahead and sign out.\n\n677\n00:32:17.950 --> 00:32:19.400\nI've been your host.\n\n678\n00:32:19.400 --> 00:32:20.241\n&gt;&gt; I am Adam Gordon.\n\n679\n00:32:20.241 --> 00:32:23.513\n&gt;&gt; See you next time here at ITProTV\n\n680\n00:32:23.513 --> 00:32:29.244\n[MUSIC]\n\n681\n00:32:29.244 --> 00:32:32.735\nThank you for watching ITProTV.\n\n",
          "vimeoId": "231883153"
        },
        {
          "description": "In this episode, Cherokee and Adam begin explaining and demonstrating how to configure Certificate Revocation List (CRL) Distribution Points (CDPs) and Authority Information Access (AIA) locations. Next, they discuss common trouble shooting issues and share troubleshooting tools such as PKIView.msc, Certutil.exe various snap-ins and more!",
          "length": "1938",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-5-deploying_and_managing_ad_cs_pt5-083017-PGM.00_32_03_02.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-5-deploying_and_managing_ad_cs_pt5-083017-PGM.00_32_03_02.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-5-deploying_and_managing_ad_cs_pt5-083017-PGM.00_32_03_02.Still001-sm.jpg",
          "title": "Deploying and Managing AD CS Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:01.274\nWelcome to ITProTV.\n\n2\n00:00:01.274 --> 00:00:02.562\nI'm your host, Don Pezet.\n\n3\n00:00:02.562 --> 00:00:08.349\n[CROSSTALK]\n\n4\n00:00:08.349 --> 00:00:12.040\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.040 --> 00:00:15.716\n&gt;&gt; Welcome back to your Identity\nwith Windows Server 2016 series.\n\n6\n00:00:15.716 --> 00:00:18.080\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.080 --> 00:00:21.025\nIn this episode,\nwe'll continue looking at managing and\n\n8\n00:00:21.025 --> 00:00:23.737\ndeploying active directory\ncertificate services.\n\n9\n00:00:23.737 --> 00:00:26.260\nBack with us today in studios,\nwe have Mr. Adam Gordon.\n\n10\n00:00:26.260 --> 00:00:27.620\nThank you for joining us, Adam.\n\n11\n00:00:27.620 --> 00:00:29.660\n&gt;&gt; You sounded so\nhesitant and serious there.\n\n12\n00:00:29.660 --> 00:00:31.470\nI was waiting for that-\n&gt;&gt; So serious, never.\n\n13\n00:00:31.470 --> 00:00:36.243\n&gt;&gt; Breezy, excited Cherokee to come out,\nand I'm looking at the kind of just very-\n\n14\n00:00:36.243 --> 00:00:36.986\n&gt;&gt; Humdrum?\n\n15\n00:00:36.986 --> 00:00:38.542\n&gt;&gt; Very, no, no, no, no,\nI didn't say humdrum.\n\n16\n00:00:38.542 --> 00:00:39.165\nDon't-\n&gt;&gt; [LAUGH]\n\n17\n00:00:39.165 --> 00:00:40.012\n&gt;&gt; Don't go there,\n\n18\n00:00:40.012 --> 00:00:41.370\nnever accuse me of that.\n\n19\n00:00:41.370 --> 00:00:43.000\nJust very staid, kind of reserved.\n\n20\n00:00:43.000 --> 00:00:46.610\nLike Miss Reserved Cherokee showed\nup instead of Miss Crazy Cherokee.\n\n21\n00:00:46.610 --> 00:00:48.986\n&gt;&gt; Well, certificates,\nI mean this is serious business, Adam,\n\n22\n00:00:48.986 --> 00:00:49.822\nwe have to be serious.\n\n23\n00:00:49.822 --> 00:00:50.958\n&gt;&gt; No, it's fun and wacky.\n\n24\n00:00:50.958 --> 00:00:52.456\n&gt;&gt; [LAUGH]\n&gt;&gt; Remember, PKI hands, right?\n\n25\n00:00:52.456 --> 00:00:53.211\n&gt;&gt; [LAUGH] PKI hands, yeah!\n\n26\n00:00:53.211 --> 00:00:54.241\n[LAUGH]\n&gt;&gt; If you haven't seen that from\n\n27\n00:00:54.241 --> 00:00:55.330\nthe last episode.\n\n28\n00:00:55.330 --> 00:00:59.960\nAll right, let's jump back in, pick up\nwhere we left off in our last episode or\n\n29\n00:00:59.960 --> 00:01:00.920\nlast discussion.\n\n30\n00:01:00.920 --> 00:01:03.532\nWe had shown you,\ncorrect me if I'm wrong, Miss Cherokee,\n\n31\n00:01:03.532 --> 00:01:05.288\ncertificate revocation list, right?\n\n32\n00:01:05.288 --> 00:01:05.910\n&gt;&gt; We did.\n\n33\n00:01:05.910 --> 00:01:08.817\n&gt;&gt; We talked about that., we talked\nabout the exit module, policy module,\n\n34\n00:01:08.817 --> 00:01:10.907\nhow some of that stuff works,\nwhat an exit module is.\n\n35\n00:01:10.907 --> 00:01:11.650\n&gt;&gt; Right.\n\n36\n00:01:11.650 --> 00:01:13.509\n&gt;&gt; I did a little show and\ntell, and Q&amp;A on that.\n\n37\n00:01:13.509 --> 00:01:15.906\nAnd we showed you how to\nrevoke a certificate,\n\n38\n00:01:15.906 --> 00:01:18.316\npublish it out to the delta and\nthe normal CRL.\n\n39\n00:01:18.316 --> 00:01:20.640\nWe just talked about\nthe importance of all of that.\n\n40\n00:01:20.640 --> 00:01:23.607\nAnd we said we would come back and\npick right back up where we left off,\n\n41\n00:01:23.607 --> 00:01:25.002\nwe're gonna do that right now.\n\n42\n00:01:25.002 --> 00:01:27.642\nUnlike many times where we say we're\ngonna do that and we never do,\n\n43\n00:01:27.642 --> 00:01:28.935\nwe're actually gonna do that.\n\n44\n00:01:28.935 --> 00:01:33.808\nI did promise we would talk about\ncertificate revocation list distribution\n\n45\n00:01:33.808 --> 00:01:37.320\npoints, which are called CDPs,\nand the AIA, right?\n\n46\n00:01:37.320 --> 00:01:41.930\nThe whole idea of bring able to go in and\nnot only to publish this information but\n\n47\n00:01:41.930 --> 00:01:45.960\nlook at authority information access and\nthe URLs associated with them.\n\n48\n00:01:45.960 --> 00:01:49.918\nWe defined both of these already, but\njust to remind you quickly what they are.\n\n49\n00:01:49.918 --> 00:01:50.989\nYou're gonna help me do this or\n\n50\n00:01:50.989 --> 00:01:53.968\nyou're just-\n&gt;&gt; Okay, I'll help you in any way I can.\n\n51\n00:01:53.968 --> 00:01:55.308\nWhat are we looking at here?\n\n52\n00:01:55.308 --> 00:01:56.152\n&gt;&gt; 2 plus 2, what does it equal?\n\n53\n00:01:56.152 --> 00:02:01.023\n&gt;&gt; [LAUGH]\n&gt;&gt; So we see on the screen there.\n\n54\n00:02:01.023 --> 00:02:05.218\nI was gonna talk about what a CDP is,\nso the CRL distribution point.\n\n55\n00:02:05.218 --> 00:02:08.163\nAnd I'll pull down just so you can see,\nwe'll go through each one,\n\n56\n00:02:08.163 --> 00:02:09.410\nwhat the AIA reference was.\n\n57\n00:02:09.410 --> 00:02:13.375\nSo I just wanna remind everybody, right,\nwhat a CRL distribution point is,\n\n58\n00:02:13.375 --> 00:02:15.160\nwhat an AIA is, what it does.\n\n59\n00:02:15.160 --> 00:02:19.344\nSo the CDP, right, what is the CDP,\nor the CRL distribution point?\n\n60\n00:02:19.344 --> 00:02:20.180\nWhat does that tell us?\n\n61\n00:02:20.180 --> 00:02:22.120\nWhat are we using that for,\nis what I'm asking or suggesting?\n\n62\n00:02:22.120 --> 00:02:24.460\n&gt;&gt; Kind of like a destination address.\n\n63\n00:02:24.460 --> 00:02:29.700\nIf I'm putting something into my GPS, I\nknow that's the place where I need to go.\n\n64\n00:02:29.700 --> 00:02:31.685\n&gt;&gt; So specifically yes,\nthe place we need to go.\n\n65\n00:02:31.685 --> 00:02:33.191\n&gt;&gt; [LAUGH]\n&gt;&gt; The place we need to go to verify\n\n66\n00:02:33.191 --> 00:02:35.506\nthe CRL and make sure\nthe certificates are valid, right?\n\n67\n00:02:35.506 --> 00:02:40.140\nAnd that is where we'll get our quote\nunquote authoritative CRL list.\n\n68\n00:02:40.140 --> 00:02:43.280\nThat's the place we go to get that from,\nwherever the application is or\n\n69\n00:02:43.280 --> 00:02:45.538\nwhat the application is that\nwe're using that we refer to.\n\n70\n00:02:45.538 --> 00:02:48.484\nWeb browser, as Cherokee\nsuggested in our last discussion,\n\n71\n00:02:48.484 --> 00:02:52.940\nand/or perhaps just a PKI\nenabled application of any kind.\n\n72\n00:02:52.940 --> 00:02:55.773\nIt has to be told where to\ngo to find this CRL and\n\n73\n00:02:55.773 --> 00:02:59.289\nthe CRL distribution point\nlists the CDP information.\n\n74\n00:02:59.289 --> 00:03:03.316\nThe URL, or URLs, as you can see, because\nwe have more than one there that we will\n\n75\n00:03:03.316 --> 00:03:05.770\nprovide, are gonna give\nus that information.\n\n76\n00:03:05.770 --> 00:03:06.446\nSo we need to do that.\n\n77\n00:03:06.446 --> 00:03:09.276\nI'm gonna show you how to create that,\nhow to add in a custom one,\n\n78\n00:03:09.276 --> 00:03:10.420\nexplain what we do there.\n\n79\n00:03:10.420 --> 00:03:11.915\nWe're gonna walk through\nthat in just a moment.\n\n80\n00:03:11.915 --> 00:03:14.160\nLet's just switch over here.\n\n81\n00:03:14.160 --> 00:03:16.309\nWe can see that this\ndoes change a little bit.\n\n82\n00:03:16.309 --> 00:03:19.306\nWhat about the AIA, right,\n[COUGH] the Authority and\n\n83\n00:03:19.306 --> 00:03:22.040\nInformation Access,\nwhat does this do for us?\n\n84\n00:03:22.040 --> 00:03:26.060\nThis is also an address and URL.\n\n85\n00:03:26.060 --> 00:03:28.908\n&gt;&gt; I don't remember the exact\nAIA specification, but\n\n86\n00:03:28.908 --> 00:03:32.284\nI do remember it is a URL, again,\nto designate where we go to.\n\n87\n00:03:32.284 --> 00:03:35.278\n&gt;&gt; To remember to find the certificates\nthroughout the trust path, right?\n\n88\n00:03:35.278 --> 00:03:39.245\nSo in other words,\nif we have to verify the trust path or\n\n89\n00:03:39.245 --> 00:03:42.543\nthe trust chain,\nthe AIA helps us to do that.\n\n90\n00:03:42.543 --> 00:03:45.020\nThe CDP helps us to verify\nthe certificate revocation list and\n\n91\n00:03:45.020 --> 00:03:47.029\ntells us where to go to\nget that authoritatively.\n\n92\n00:03:47.029 --> 00:03:51.059\nSo between the two, both URLs both,\nright, absolutely, between the two,\n\n93\n00:03:51.059 --> 00:03:54.159\nwe're providing guidance to\nbe able to say definitively,\n\n94\n00:03:54.159 --> 00:03:57.322\nhere's what the trust path looks\nlike kind of top to bottom.\n\n95\n00:03:57.322 --> 00:03:58.903\nHere's the certificate locations.\n\n96\n00:03:58.903 --> 00:04:00.651\nYou can find them, Mr. and Mrs.\n\n97\n00:04:00.651 --> 00:04:03.713\nKPI-enabled application,\nif you need them to verify and\n\n98\n00:04:03.713 --> 00:04:07.758\nauthenticate the trust paths,\nyou know the certificates are valid.\n\n99\n00:04:07.758 --> 00:04:12.490\nAnd then the CRL CDP reference tells us\nwhere to go to find that list that tells\n\n100\n00:04:12.490 --> 00:04:15.920\nus that certificates are no longer to\nbe accepted, no longer to be used.\n\n101\n00:04:15.920 --> 00:04:19.102\nSo between both it gives us very\nimportant pieces of the puzzle.\n\n102\n00:04:19.102 --> 00:04:20.920\nI wanna make sure we know\nhow to work with both.\n\n103\n00:04:20.920 --> 00:04:22.860\nSo now that we have a general\nsense of what they do,\n\n104\n00:04:22.860 --> 00:04:25.400\nwrote a little description of\neach one of the show notes for\n\n105\n00:04:25.400 --> 00:04:27.910\nyou, reminding you essentially\nwhat we just discussed.\n\n106\n00:04:27.910 --> 00:04:29.460\nCherokee typeset that for me,\n\n107\n00:04:29.460 --> 00:04:31.970\ndid a little QA on it to make\nsure I spelled it correctly.\n\n108\n00:04:31.970 --> 00:04:33.840\nAnd she okie dokied it, so\nit's gonna be okay for you.\n\n109\n00:04:33.840 --> 00:04:35.858\n&gt;&gt; There's a big smiley face on the note.\n\n110\n00:04:35.858 --> 00:04:38.020\n&gt;&gt; There is,\na little Cherokee smiley face.\n\n111\n00:04:38.020 --> 00:04:38.660\nSo we have that.\n\n112\n00:04:38.660 --> 00:04:40.448\nSo let's talk about how\nwe set these things up.\n\n113\n00:04:40.448 --> 00:04:44.600\nWhere I am, I right-click on\nthe certificate authority, the CA icon in\n\n114\n00:04:44.600 --> 00:04:48.970\nthe CA console that we're here,\nright-click Properties as you see me do.\n\n115\n00:04:48.970 --> 00:04:50.325\nWe're on the Properties area.\n\n116\n00:04:50.325 --> 00:04:51.824\nI went to the Extensions tab.\n\n117\n00:04:51.824 --> 00:04:54.696\nWe've taken a look at exit module,\npolicy module,\n\n118\n00:04:54.696 --> 00:04:56.865\ntalked about security in here before.\n\n119\n00:04:56.865 --> 00:04:58.305\nWe're gonna go to Extensions, right?\n\n120\n00:04:58.305 --> 00:05:02.435\nSo on the Extensions module or Extensions\ntab rather, we select our extension.\n\n121\n00:05:02.435 --> 00:05:04.240\nYou'll notice there are only two options.\n\n122\n00:05:04.240 --> 00:05:08.460\nLet's start with the CRL CDP, just cuz\nit's the one on the top of the list,\n\n123\n00:05:08.460 --> 00:05:10.580\nwhich is interesting,\ncuz alphabetically, it would be AIA,\n\n124\n00:05:10.580 --> 00:05:13.900\nbut that's just the default in how\nit comes in, so it is what it is.\n\n125\n00:05:13.900 --> 00:05:16.690\nAnyway, so specify locations\nfrom which users may be able to\n\n126\n00:05:16.690 --> 00:05:18.460\nobtain a certificate revocation list.\n\n127\n00:05:18.460 --> 00:05:20.720\nI noticed there are different\nlocations already programmed here.\n\n128\n00:05:20.720 --> 00:05:23.620\nThere's a default path to the local\n\n129\n00:05:23.620 --> 00:05:27.110\npublication point in the certificate\nauthority, that first item there.\n\n130\n00:05:27.110 --> 00:05:28.520\nI know it's hard to see them, and\n\n131\n00:05:28.520 --> 00:05:30.470\neven if we go full screen you\nwon't see them much better.\n\n132\n00:05:30.470 --> 00:05:33.740\nWe could do that, just to briefly\nshow you what it looks like, but\n\n133\n00:05:33.740 --> 00:05:35.770\nyou can't really grab them and get better.\n\n134\n00:05:35.770 --> 00:05:37.510\nOne thing I don't like\nabout this interface.\n\n135\n00:05:37.510 --> 00:05:42.688\nThere's no way to double-click and see it\npop, there's no hover, show me the path.\n\n136\n00:05:42.688 --> 00:05:45.431\nThere's no right-click, copy, and\nlet me see it offline, drop it in there.\n\n137\n00:05:45.431 --> 00:05:47.200\n&gt;&gt; You got a scrolly bar.\n\n138\n00:05:47.200 --> 00:05:48.350\n&gt;&gt; You do have a scrolly bar.\n\n139\n00:05:48.350 --> 00:05:51.140\nSo that is the only way you could do that,\nbut it's kind of hard.\n\n140\n00:05:51.140 --> 00:05:52.400\nLook at this really long one.\n\n141\n00:05:52.400 --> 00:05:54.390\nThe second one, that's just ridiculous.\n\n142\n00:05:54.390 --> 00:05:56.580\nThere's no way you're gonna\nbe able to figure that out.\n\n143\n00:05:56.580 --> 00:05:58.850\nLook at that and\nremember what that is for LDAP, right?\n\n144\n00:05:58.850 --> 00:06:00.270\nThat's just impractical.\n\n145\n00:06:00.270 --> 00:06:03.840\nAnd the problem is, there's really no\nway to get this information once it's in\n\n146\n00:06:03.840 --> 00:06:09.260\nthere, which is one thing I don't like\nabout these two editable entry points.\n\n147\n00:06:09.260 --> 00:06:11.856\nOnce we add, and when we add,\nwe do have the option to create this, and\n\n148\n00:06:11.856 --> 00:06:13.137\nI'm gonna show you how do to that.\n\n149\n00:06:13.137 --> 00:06:16.675\nBut once we add it, if we make a mistake\nand screw up and put it there and\n\n150\n00:06:16.675 --> 00:06:19.237\nit's wrong and\neven just like one little letter,\n\n151\n00:06:19.237 --> 00:06:22.552\none bracket, you'll see there's\nall this stuff you gotta do.\n\n152\n00:06:22.552 --> 00:06:26.430\nPut an underscore on the wrong place,\nput .crl when it's supposed to be .crt,\n\n153\n00:06:26.430 --> 00:06:29.045\nyou gotta go back and\nmove and start over again.\n\n154\n00:06:29.045 --> 00:06:30.725\nThere's no way to edit that,\nthat's the challenge.\n\n155\n00:06:30.725 --> 00:06:33.035\nIt's just not easily\naccessible in the interface.\n\n156\n00:06:33.035 --> 00:06:34.685\nSo you do have to pay attention to this.\n\n157\n00:06:34.685 --> 00:06:36.035\nWhen people fear the PKI,\n\n158\n00:06:36.035 --> 00:06:40.010\nwhat they really fear is\nthe ridiculousness around editing this.\n\n159\n00:06:40.010 --> 00:06:40.848\nThat's what they fear.\n\n160\n00:06:40.848 --> 00:06:43.010\nEverything else is just as you've seen,\npretty straightforward.\n\n161\n00:06:43.010 --> 00:06:44.600\nSo we do have different options.\n\n162\n00:06:44.600 --> 00:06:45.940\nWe do have a local path always.\n\n163\n00:06:45.940 --> 00:06:48.911\nThere's an LDAP specifier,\nthere's an HTTP.\n\n164\n00:06:48.911 --> 00:06:51.708\nI know it's kind of hard\nto see in here as well.\n\n165\n00:06:51.708 --> 00:06:53.572\nSo I'm gonna highlight the last one,\n\n166\n00:06:53.572 --> 00:06:56.575\nwhich is the one that I've added\nas a custom path statement.\n\n167\n00:06:56.575 --> 00:06:59.270\nAnd what it is, so I was smart.\n\n168\n00:06:59.270 --> 00:07:04.177\nI added it, but I actually copied\nit here so you can see it.\n\n169\n00:07:04.177 --> 00:07:07.310\nLet me just make this a little bigger,\nso you can actually see what it says.\n\n170\n00:07:08.990 --> 00:07:10.181\nAnd so what I did,\n\n171\n00:07:17.067 --> 00:07:20.973\nWas I went in and I typed in, and\nI'm gonna show you how to do this.\n\n172\n00:07:20.973 --> 00:07:25.144\nThis path, HTTP, the source of the,\nin this case, CRL,\n\n173\n00:07:25.144 --> 00:07:28.120\nwhich is the certificate authority.\n\n174\n00:07:28.120 --> 00:07:33.550\nSo the fully qualified domain name, the\nplabsa01, practicelabs.com, in our case,\n\n175\n00:07:33.550 --> 00:07:37.170\nalways has cert data after that, because\nyou're specifying the kind of data.\n\n176\n00:07:37.170 --> 00:07:41.030\nNotice both the AIA and\nthe CDP path statements,\n\n177\n00:07:41.030 --> 00:07:46.910\nboth of them are gonna start as you can\nsee there, right, with that path, whatever\n\n178\n00:07:46.910 --> 00:07:51.570\nthe protocol is, in this case HTTP and\nthe certdata, before we do anything else.\n\n179\n00:07:51.570 --> 00:07:56.727\nAnd then you'll see I have some bracketed\ninformation or bracketed placeholders.\n\n180\n00:07:56.727 --> 00:08:01.439\nCaName as a variable placeholder for\nthe CDP, which will be replaced with\n\n181\n00:08:01.439 --> 00:08:05.550\nthe name of the CA when we actually\nread the statement and use it.\n\n182\n00:08:05.550 --> 00:08:10.050\nAnd then delta CRL allowed that tells\nme that I can use both a delta CRL and\n\n183\n00:08:10.050 --> 00:08:15.310\na normal CRL.CRL for the certificate\nrevocation list for the extension.\n\n184\n00:08:15.310 --> 00:08:16.030\nSo I have that.\n\n185\n00:08:16.030 --> 00:08:20.410\nSo I've typed that in, but\nthe way I do this is the following.\n\n186\n00:08:20.410 --> 00:08:23.900\nI go in here, and we'll talk about these\nsettings down here in a minute as well.\n\n187\n00:08:23.900 --> 00:08:26.520\nI go to Add, because remember I\ncan't modify an existing one.\n\n188\n00:08:26.520 --> 00:08:28.060\nI must add a new one.\n\n189\n00:08:28.060 --> 00:08:30.990\nAnd I have to specify and literally\njust type in this path statement.\n\n190\n00:08:30.990 --> 00:08:32.540\nSo I'll type it in, so\n\n191\n00:08:32.540 --> 00:08:37.030\ninstead of me having to type the whole\nthing, let me cheat just a little bit,\n\n192\n00:08:37.030 --> 00:08:42.270\nbecause we're gonna add in\nthese items on the end here.\n\n193\n00:08:42.270 --> 00:08:46.320\nBut let me just cheat by pasting in\nthe beginning of that path statement, so\n\n194\n00:08:46.320 --> 00:08:47.550\nI don't have to type it again.\n\n195\n00:08:49.060 --> 00:08:51.010\nAnd I'll put A for data on the end.\n\n196\n00:08:51.010 --> 00:08:53.631\nNow the part that you then have\nto figure out is the following.\n\n197\n00:08:53.631 --> 00:08:55.340\nRight, we could, in theory,\ntype the whole thing out.\n\n198\n00:08:55.340 --> 00:08:56.580\nIf we knew what the brackets were, and\n\n199\n00:08:56.580 --> 00:08:59.170\nexactly what has to be there and\nthe capitalization, all that.\n\n200\n00:08:59.170 --> 00:09:00.510\nYou could type it all in, but\n\n201\n00:09:00.510 --> 00:09:03.500\nwhat normally happens is people then\ncome here and choose variables.\n\n202\n00:09:03.500 --> 00:09:04.180\nCan we go full screen?\n\n203\n00:09:04.180 --> 00:09:05.940\nI want you to be able to see\nthis a little bit easier.\n\n204\n00:09:05.940 --> 00:09:09.261\nWe're gonna choose variables out\nof this pick list, and by the way,\n\n205\n00:09:09.261 --> 00:09:11.561\nnotice, there are quite\na few of them in there.\n\n206\n00:09:11.561 --> 00:09:14.440\nWe'll choose CA name, for instance.\n\n207\n00:09:14.440 --> 00:09:16.410\nWe are up here, so\nyou could see where we are.\n\n208\n00:09:16.410 --> 00:09:20.430\nWe're gonna click Insert, and\nnotice it adds the variable for me, and\n\n209\n00:09:20.430 --> 00:09:22.381\nthen I may have to add another one.\n\n210\n00:09:22.381 --> 00:09:23.553\nWe did CRL.\n\n211\n00:09:23.553 --> 00:09:26.967\nIn this case, right, delta CRL allowed.\n\n212\n00:09:26.967 --> 00:09:30.700\nI would choose that one,\nclick Insert, kinda puts it in.\n\n213\n00:09:30.700 --> 00:09:33.974\nAnd then at the end of that line,\nbecause remember, once I get out of this\n\n214\n00:09:33.974 --> 00:09:36.944\ninterface, I can't go back and\nedit it, and I can't change it.\n\n215\n00:09:36.944 --> 00:09:38.610\nWhich means we have to do it again.\n\n216\n00:09:38.610 --> 00:09:42.260\nSo if you forget to do anything in here,\nright, you gotta do it over.\n\n217\n00:09:42.260 --> 00:09:44.790\nSo at that point,\nI'd have to go to the very end of that.\n\n218\n00:09:44.790 --> 00:09:47.750\nI click there, period,\nin this case CRL for\n\n219\n00:09:47.750 --> 00:09:51.390\ncertificate revocation list as the file\nextension that I wanna specify.\n\n220\n00:09:52.650 --> 00:09:53.893\nI'd have to put all that in.\n\n221\n00:09:53.893 --> 00:09:56.860\nI would have to then\nclick OK when I did that.\n\n222\n00:09:56.860 --> 00:09:59.047\nI'm not gonna do that cuz\nit already exists there.\n\n223\n00:09:59.047 --> 00:10:03.170\nBut when I did that, I would then have\nlet's say this line, in theory, for\n\n224\n00:10:03.170 --> 00:10:06.380\nthe entry for the CDP published or\nmade available.\n\n225\n00:10:06.380 --> 00:10:10.240\nThen I have added it in, but I'm not\ndone yet because once I've added it,\n\n226\n00:10:10.240 --> 00:10:13.660\nnow what I need to do is come\ndown here and I have to specify.\n\n227\n00:10:13.660 --> 00:10:16.960\nLet me click up here so you can see\nthat the settings are different for\n\n228\n00:10:16.960 --> 00:10:18.060\neach one of these.\n\n229\n00:10:18.060 --> 00:10:20.970\nThe file designator has\ndifferent options selected,\n\n230\n00:10:20.970 --> 00:10:24.150\nthe HTTP other designator has no options.\n\n231\n00:10:24.150 --> 00:10:27.260\nSo every one of these lines is\nessentially an unique configuration, and\n\n232\n00:10:27.260 --> 00:10:30.720\nI can program in the additional\noptions down below.\n\n233\n00:10:30.720 --> 00:10:34.360\nAnd when I did that I checked off,\nIncluded CRLs.\n\n234\n00:10:34.360 --> 00:10:37.600\nClients use this to find the delta CRL\nlocation because I'm specifying the delta\n\n235\n00:10:37.600 --> 00:10:41.200\nCRL in this particular string,\nso I want them to see that.\n\n236\n00:10:41.200 --> 00:10:44.130\nAnd include in the CDP extensions\nof issued certificates.\n\n237\n00:10:44.130 --> 00:10:47.620\nSo that way when the certificate is\nissued they have all this information\n\n238\n00:10:47.620 --> 00:10:49.410\nin the certificate already.\n\n239\n00:10:49.410 --> 00:10:52.530\nI showed you this when I showed you\nthe certificate, and we took a look at\n\n240\n00:10:52.530 --> 00:10:55.650\nthe certificate replication\ninformation in the last episode.\n\n241\n00:10:55.650 --> 00:10:57.750\nWe went in and, remember,\nI opened up the web surf certificate,\n\n242\n00:10:57.750 --> 00:10:59.150\nwe looked at the attributes.\n\n243\n00:10:59.150 --> 00:11:02.720\nAnd I showed you,\nlook there's the CDP information.\n\n244\n00:11:02.720 --> 00:11:08.426\nLook there's the AIA information, right?\n\n245\n00:11:08.426 --> 00:11:09.748\nAcronyms just swimming in my head.\n\n246\n00:11:09.748 --> 00:11:10.775\n&gt;&gt; How about A1A?\n\n247\n00:11:10.775 --> 00:11:12.888\n&gt;&gt; Or A1A if you live in Florida,\nit's true.\n\n248\n00:11:12.888 --> 00:11:13.705\n&gt;&gt; [LAUGH].\n&gt;&gt; And so\n\n249\n00:11:13.705 --> 00:11:17.459\nI showed were both of\nthose statements were.\n\n250\n00:11:17.459 --> 00:11:19.529\nAnd I said, hey, look,\nthose are there, and I said,\n\n251\n00:11:19.529 --> 00:11:21.751\nwe're gonna take a look at how\nto actually put them there.\n\n252\n00:11:21.751 --> 00:11:24.400\nAnd I'm going to show you that,\nand that's we're doing right now.\n\n253\n00:11:24.400 --> 00:11:27.310\nSo this is the CDP, and\nthis is how we would modify.\n\n254\n00:11:27.310 --> 00:11:30.088\nSame thing for AIA, by the way,\nhighlight that one here,\n\n255\n00:11:30.088 --> 00:11:33.335\nnotice the interface change a little bit,\noptions are different.\n\n256\n00:11:33.335 --> 00:11:37.960\nI've already hard coded and put in one\nthat I've put in my self as a custom one.\n\n257\n00:11:37.960 --> 00:11:39.330\nI've done the same thing.\n\n258\n00:11:39.330 --> 00:11:42.379\nClick Add,\nthat line is gonna look like this.\n\n259\n00:11:42.379 --> 00:11:45.484\nIt's gonna be this whole line\nwith server DNS name and\n\n260\n00:11:45.484 --> 00:11:49.150\nan underscore to separate the server\nDNS name from the CA name.\n\n261\n00:11:49.150 --> 00:11:53.930\nSo that we have it, underscore,\nso it will be server DNS_CA name.\n\n262\n00:11:53.930 --> 00:11:57.990\nAnd then cert,\ncertificate name .crt is put in here.\n\n263\n00:11:57.990 --> 00:12:01.730\nSo again, I would highlight or\nhave typed in ahead of time, whatever,\n\n264\n00:12:01.730 --> 00:12:05.930\nthis whole part right here, which is\nwhat I had just done on the other one.\n\n265\n00:12:05.930 --> 00:12:08.350\nRemember they do start out the same,\nright?\n\n266\n00:12:08.350 --> 00:12:13.120\nSo I'll go in here, I'll go Add,\nand again I would just paste it in.\n\n267\n00:12:14.750 --> 00:12:17.278\nAfter you do this a few thousand\ntimes you remember, hey,\n\n268\n00:12:17.278 --> 00:12:20.127\nlet me just type that part out cuz\nI'm gonna create a few of these.\n\n269\n00:12:20.127 --> 00:12:23.007\nAnd you have a little shortcut as opposed\nto having to type the whole thing from\n\n270\n00:12:23.007 --> 00:12:23.850\nscratch, right?\n\n271\n00:12:23.850 --> 00:12:26.860\nWhat we call a rookie mistake\nis what I would suggest you may\n\n272\n00:12:26.860 --> 00:12:28.140\nwant to avoid making.\n\n273\n00:12:28.140 --> 00:12:29.230\nSame idea here, right?\n\n274\n00:12:29.230 --> 00:12:31.070\nPull this down,\nyou can see there is a list,\n\n275\n00:12:31.070 --> 00:12:32.860\nalthough a smaller list of variables.\n\n276\n00:12:32.860 --> 00:12:33.590\nYou've seen me do this.\n\n277\n00:12:33.590 --> 00:12:34.570\nYou know what you would do here.\n\n278\n00:12:34.570 --> 00:12:38.150\nPut in the appropriate variables based\non what you're looking to designate,\n\n279\n00:12:38.150 --> 00:12:41.820\nserver DNS name, server short name,\ncertificate name, whatever.\n\n280\n00:12:41.820 --> 00:12:46.090\nInsert them, add in the appropriate\npunctuation, ultimately, the extension for\n\n281\n00:12:46.090 --> 00:12:48.950\nCRT, and then you'll be able\nto make these available.\n\n282\n00:12:48.950 --> 00:12:52.680\nIn this case, I said include in the AA\nextension of issued certificates.\n\n283\n00:12:52.680 --> 00:12:55.674\nThat's how it wound up being published\ninto the certificate that I issued,\n\n284\n00:12:55.674 --> 00:12:56.908\nthe web service certificate.\n\n285\n00:12:56.908 --> 00:12:59.888\nThat's how we saw that in the attributes\nwhen I looked at the certificate.\n\n286\n00:12:59.888 --> 00:13:03.940\nI published it when I made it available\nhere, and that makes it essentially\n\n287\n00:13:03.940 --> 00:13:08.251\ntagged on and a part of the attributes\nof every certificate that's published or\n\n288\n00:13:08.251 --> 00:13:09.900\nissued through the CA.\n\n289\n00:13:09.900 --> 00:13:13.450\nSo we can do that and\nsee that information here.\n\n290\n00:13:13.450 --> 00:13:18.190\nAnd so as a result, we're able to modify\nand control what these extensions are.\n\n291\n00:13:18.190 --> 00:13:19.390\nVery important to know how to do this.\n\n292\n00:13:19.390 --> 00:13:22.110\nVery important to know that while\nyou could go with the defaults,\n\n293\n00:13:22.110 --> 00:13:24.050\nyou may want to provide\nadditional guidance,\n\n294\n00:13:24.050 --> 00:13:27.640\nadditional information,\nadditional paths to find these items.\n\n295\n00:13:27.640 --> 00:13:30.590\nAnd it's important to\nspecify them when you do,\n\n296\n00:13:30.590 --> 00:13:34.130\nby engaging this activity\nhere as we suggested.\n\n297\n00:13:34.130 --> 00:13:35.510\nSo please be aware of that.\n\n298\n00:13:35.510 --> 00:13:39.830\nI did say we have HTTP capabilities here,\nfile capabilities, the local file,\n\n299\n00:13:39.830 --> 00:13:41.700\nthe LDAP as well.\n\n300\n00:13:41.700 --> 00:13:44.528\nAlso, people overlook the fact that FTP,\nalthough it's not here,\n\n301\n00:13:44.528 --> 00:13:45.423\nI didn't put one in.\n\n302\n00:13:45.423 --> 00:13:46.080\nIt can be used.\n\n303\n00:13:46.080 --> 00:13:47.620\nA lot of times CRLs,\n\n304\n00:13:47.620 --> 00:13:50.770\nespecially if they get big,\nwill simply be a large file we download.\n\n305\n00:13:50.770 --> 00:13:52.300\nFTP would be the perfect option for\n\n306\n00:13:52.300 --> 00:13:57.550\nthat and we can use FTP as opposed to\nweb service here if we choose ton or\n\n307\n00:13:57.550 --> 00:14:01.140\nboth are web services, what I meant\nwas HTTP is a traditional web browser.\n\n308\n00:14:01.140 --> 00:14:03.110\nGo out, see the actual page.\n\n309\n00:14:03.110 --> 00:14:06.657\nGet the file that way, versus simply\ndownload the file through FTP.\n\n310\n00:14:06.657 --> 00:14:09.322\nSo we can do any or all of those.\n\n311\n00:14:09.322 --> 00:14:14.416\nWould be good for\nyou to know that the URL supports those\n\n312\n00:14:14.416 --> 00:14:19.307\ndifferent options, file,\nLDAP, HTTP and or FTP.\n\n313\n00:14:19.307 --> 00:14:21.890\nWhen I say, file, I mean file address,\nthe path there, right?\n\n314\n00:14:21.890 --> 00:14:22.838\nSo make sure you know those.\n\n315\n00:14:22.838 --> 00:14:26.820\nThey are in the show notes, but\nthat may be good, valuable information for\n\n316\n00:14:26.820 --> 00:14:28.690\nyou with regards to exam preparation.\n\n317\n00:14:28.690 --> 00:14:29.660\nLet's put it that way.\n\n318\n00:14:29.660 --> 00:14:32.120\nNow, if we are on an enterprise CA,\n\n319\n00:14:32.120 --> 00:14:36.150\nthis information is going to automatically\nbe configured, so it's already there.\n\n320\n00:14:36.150 --> 00:14:37.860\nI don't necessarily have to add it and\n\n321\n00:14:37.860 --> 00:14:40.958\nyou would then be able to see this\npublished out as part of the certificates.\n\n322\n00:14:40.958 --> 00:14:42.620\nIn an offline or stand alone CA,\n\n323\n00:14:42.620 --> 00:14:45.610\nwhich is what I'm on right now,\nI'm going in and doing this.\n\n324\n00:14:45.610 --> 00:14:48.990\nSo another very important point\nis on the stand alone CAs,\n\n325\n00:14:48.990 --> 00:14:53.010\nwe may have to actually add this\ninformation in to make it available for\n\n326\n00:14:53.010 --> 00:14:54.445\ncertificates that are being issued.\n\n327\n00:14:54.445 --> 00:14:58.250\nWhereas on an enterprise CA the default\ninformation is published and\n\n328\n00:14:58.250 --> 00:15:00.800\nmade available,\nwouldn't necessarily have to do that.\n\n329\n00:15:00.800 --> 00:15:02.700\nSo just make sure you're aware of that.\n\n330\n00:15:02.700 --> 00:15:04.360\nJust think about the logic of that.\n\n331\n00:15:04.360 --> 00:15:08.960\nAlso, in addition, do make sure\nyou know that this information,\n\n332\n00:15:08.960 --> 00:15:11.180\nif we could go back cuz I just\nwanna point something out.\n\n333\n00:15:11.180 --> 00:15:15.420\nThis information is tied to\nthe idea specifically, right?\n\n334\n00:15:15.420 --> 00:15:16.866\nThe CDP, in particular,\n\n335\n00:15:16.866 --> 00:15:20.510\nis tied to the availability of\nthe certificate revocation list.\n\n336\n00:15:20.510 --> 00:15:24.180\nIf the CRL expires, and\nit's not kept up to date,\n\n337\n00:15:24.180 --> 00:15:28.420\nthen resolution using these URLs or\nwhatever path we're providing will fail,\n\n338\n00:15:28.420 --> 00:15:31.180\nand that information will\nnot be found as valid.\n\n339\n00:15:31.180 --> 00:15:34.390\nAnd as a result then the ability to\nvalidate certificates will fail.\n\n340\n00:15:34.390 --> 00:15:37.850\nSo we do need to keep up to date\nwith our maintenance, right?\n\n341\n00:15:37.850 --> 00:15:38.972\nOur care and grooming and\n\n342\n00:15:38.972 --> 00:15:41.703\nfeeding of our CRLs,\nas we talked about in the last episode.\n\n343\n00:15:41.703 --> 00:15:45.187\nYou saw how we specified release\ncould go in potentially and\n\n344\n00:15:45.187 --> 00:15:47.704\nspecify the refresh intervals on the CRL.\n\n345\n00:15:47.704 --> 00:15:49.982\nIf you set that CRL,\nlet me just show you while we're talking.\n\n346\n00:15:49.982 --> 00:15:54.315\nIf you set that CRL interval,\nthat refresh interval for CRLs,\n\n347\n00:15:54.315 --> 00:15:58.975\ntoo far out, then it may overlap\nthe expiration of certificates and\n\n348\n00:15:58.975 --> 00:16:02.351\nthat can be a problem cuz\nit may not be refreshed.\n\n349\n00:16:02.351 --> 00:16:06.059\nAnd I talked to you about the fact\nthat the default may be one week or\n\n350\n00:16:06.059 --> 00:16:07.850\nwhatever the case may be.\n\n351\n00:16:07.850 --> 00:16:12.470\nBut notice we could do years here as\nwell as months, weeks, days, hours.\n\n352\n00:16:12.470 --> 00:16:16.280\nI think I had mine on the enterprise roots\nin the other episode, when I set it up and\n\n353\n00:16:16.280 --> 00:16:20.000\nshowed it to you set to an hour and\nlike 30 minutes for the delta CRL.\n\n354\n00:16:20.000 --> 00:16:24.690\nJust to force this to kind of refresh\nduring the course of our conversations and\n\n355\n00:16:24.690 --> 00:16:25.550\nshow you things.\n\n356\n00:16:25.550 --> 00:16:28.820\nBut the default is one week for\nCRL publish interval and\n\n357\n00:16:28.820 --> 00:16:31.800\nthe default for\na delta CRL if we use it is one day.\n\n358\n00:16:31.800 --> 00:16:34.820\nYou may have this set\ninadvertently out to a year and\n\n359\n00:16:34.820 --> 00:16:39.140\nthat can be a problem because you may run\nover, the overlap may occur where you have\n\n360\n00:16:39.140 --> 00:16:43.030\na strip that's expiring but the CRL has\nnot been updated, that can be an issue.\n\n361\n00:16:43.030 --> 00:16:46.710\nSo just wanna make sure we're managing and\nthinking through the logic of that.\n\n362\n00:16:48.050 --> 00:16:50.830\nAs part of the user is because it\nis important to keep track of that\n\n363\n00:16:50.830 --> 00:16:51.680\ninformation.\n\n364\n00:16:51.680 --> 00:16:56.020\nAlso clients that are not going to be\nmembers of the domain should be using a,\n\n365\n00:16:56.020 --> 00:16:59.880\ninstead of LDAP path there, or a web path\nthat we may have to authenticate against,\n\n366\n00:16:59.880 --> 00:17:01.680\nprobably a file path\nwhere they can get go and\n\n367\n00:17:01.680 --> 00:17:06.930\ngrab that from a directory under a generic\naccount like authenticated users or\n\n368\n00:17:06.930 --> 00:17:10.350\nguest or whatever you specify them may\nhave rights to that, and the share.\n\n369\n00:17:10.350 --> 00:17:12.780\nMaybe it's published somewhere at\na standalone CA, wouldn't be a big deal,\n\n370\n00:17:12.780 --> 00:17:14.470\nthey're not members of the domain anyway.\n\n371\n00:17:14.470 --> 00:17:18.590\nBut in an enterprise CA, remember, if we\nhave non domain members trying to get to\n\n372\n00:17:18.590 --> 00:17:21.520\nthat, external members, whatever,\nthat could be an issue.\n\n373\n00:17:21.520 --> 00:17:23.620\nSo you just have to think\nabout the logic of that.\n\n374\n00:17:23.620 --> 00:17:25.390\nExternal clients may be accessing this.\n\n375\n00:17:25.390 --> 00:17:29.233\nYou may have to publish this using HTTP\nto an externally available source,\n\n376\n00:17:29.233 --> 00:17:32.527\nsome may have a website in the DMZ\nthat is used that's external,\n\n377\n00:17:32.527 --> 00:17:34.297\nthat external clients can get to.\n\n378\n00:17:34.297 --> 00:17:37.528\nSo there's lots of reasons why we\nwould manipulate this architecture and\n\n379\n00:17:37.528 --> 00:17:41.018\nthese paths so I just want you to be aware\nof that and be thinking through the logic\n\n380\n00:17:41.018 --> 00:17:44.740\nof how these URLs come about, where\nthey come from, why they're important.\n\n381\n00:17:44.740 --> 00:17:48.860\nAnd why we would be specifying them if all\nwe're doing is internal clients against\n\n382\n00:17:48.860 --> 00:17:52.084\nthe directory, no big deal,\nthe LDAT paths are already there,\n\n383\n00:17:52.084 --> 00:17:55.906\non the Enterprise Route CA it's published,\nand that's what they use, but\n\n384\n00:17:55.906 --> 00:18:00.056\nwe have a lot of other clients that may be\naccessing this that may not be available.\n\n385\n00:18:00.056 --> 00:18:01.949\nAnd as a result not be able to use that,\nand\n\n386\n00:18:01.949 --> 00:18:05.796\nthat's why we can manipulate these values,\njust to make sure we're clear on that,\n\n387\n00:18:05.796 --> 00:18:07.987\nor at least you think\nthrough the logic of that.\n\n388\n00:18:07.987 --> 00:18:11.542\nFrom a little troubleshooting CA\nperspective we wanna talk about some\n\n389\n00:18:11.542 --> 00:18:14.350\nof the tools we could use\nin the CA environment.\n\n390\n00:18:14.350 --> 00:18:17.050\nI showed you cert util one\nof our prior episodes.\n\n391\n00:18:17.050 --> 00:18:18.853\nTalked about the certificate MMC.\n\n392\n00:18:18.853 --> 00:18:22.100\nThe snap in, I showed you how you\ncould go add one or more of those.\n\n393\n00:18:22.100 --> 00:18:26.128\nWe're to take a look at a couple of those\nwhen we talk about templates and versions.\n\n394\n00:18:26.128 --> 00:18:27.860\nMade me promise I would attempt\nto get that in in this episode.\n\n395\n00:18:27.860 --> 00:18:30.656\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm gonna see if I can live up to my\n\n396\n00:18:30.656 --> 00:18:32.549\ncommitment to her, which was perhaps.\n\n397\n00:18:32.549 --> 00:18:33.870\n&gt;&gt; [LAUGH]\n&gt;&gt; So I was non-committal.\n\n398\n00:18:33.870 --> 00:18:37.630\n&gt;&gt; But before we get to that, I did wanna\nshow you an often misunderstood and\n\n399\n00:18:37.630 --> 00:18:41.680\nactually even forgot about tool that\npeople can use for troubleshooting.\n\n400\n00:18:41.680 --> 00:18:44.819\nBut they don't even realize it's there\nwhich is an unfortunate circumstance\n\n401\n00:18:44.819 --> 00:18:47.112\nbecause you may not have seen\nthis it's called PKIview.\n\n402\n00:18:47.112 --> 00:18:50.155\nIt's one of the extensions we get\nadd in with its own MMC, may or\n\n403\n00:18:50.155 --> 00:18:51.310\nmay not have seen this.\n\n404\n00:18:51.310 --> 00:18:53.450\nMay or may not have know about it.\n\n405\n00:18:53.450 --> 00:18:54.920\nBut I do wanna demonstrate it for\n\n406\n00:18:54.920 --> 00:18:59.370\nyou so give me just one second just\nto kinda flip over my console here.\n\n407\n00:18:59.370 --> 00:19:01.310\nGet away from my standalone.\n\n408\n00:19:01.310 --> 00:19:05.130\nConsole get over to my domain controller.\n\n409\n00:19:05.130 --> 00:19:07.940\nLet me just clean this up for\nhalf a second while we're doing that.\n\n410\n00:19:07.940 --> 00:19:11.300\nJust have a whole bunch of stuff\nopened up here from before.\n\n411\n00:19:11.300 --> 00:19:15.283\nShame on me for being a bad host and\nnot cleaning up my work environment.\n\n412\n00:19:15.283 --> 00:19:16.310\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n413\n00:19:16.310 --> 00:19:17.460\njust come on over here and join me.\n\n414\n00:19:17.460 --> 00:19:19.805\nI'm just gonna run the command\nto bring this up real quick.\n\n415\n00:19:19.805 --> 00:19:24.692\nLet's go into the run line,\nI'm going to type in actually I already\n\n416\n00:19:24.692 --> 00:19:28.480\nhave it there you can\nprobably see it pkiview.msc.\n\n417\n00:19:28.480 --> 00:19:29.960\nJust have it typed in.\n\n418\n00:19:29.960 --> 00:19:33.910\nGonna load that this is obviously gonna\nbe an administrative level command.\n\n419\n00:19:33.910 --> 00:19:35.270\nWe execute, this opens up.\n\n420\n00:19:35.270 --> 00:19:37.005\nYou can see Enterprise PKI.\n\n421\n00:19:37.005 --> 00:19:41.480\nWe see practice labs,\nPLABDC01 which is the root.\n\n422\n00:19:41.480 --> 00:19:47.000\nWe see our PLABDM01 which is my\nsubordinate CA in this case.\n\n423\n00:19:47.000 --> 00:19:50.103\nAnd, again, you may or\nmay not have seen this PKI view.\n\n424\n00:19:50.103 --> 00:19:52.020\nA tool we can use to go in.\n\n425\n00:19:52.020 --> 00:19:55.320\nAnd we can see certain aspects of\nthe certificate authorities and\n\n426\n00:19:55.320 --> 00:19:56.320\nmanage them here.\n\n427\n00:19:56.320 --> 00:19:59.430\nWe can see the CDP location,\nwhen it's expiring.\n\n428\n00:19:59.430 --> 00:20:01.790\nSee I clicked on it,\nI'm able to see the revocation list.\n\n429\n00:20:01.790 --> 00:20:04.710\nThe Delta CRL, when it is available.\n\n430\n00:20:04.710 --> 00:20:05.730\nThe AIA location.\n\n431\n00:20:05.730 --> 00:20:08.330\nRemember we talked about being able\nto list these and link them and\n\n432\n00:20:08.330 --> 00:20:08.980\nhave them available.\n\n433\n00:20:08.980 --> 00:20:10.560\nI could see these.\n\n434\n00:20:10.560 --> 00:20:12.930\nThe CA certificate itself on each CA.\n\n435\n00:20:12.930 --> 00:20:13.740\nAnd the status.\n\n436\n00:20:13.740 --> 00:20:15.970\nSo I can see some good information here.\n\n437\n00:20:15.970 --> 00:20:20.670\nObviously have the ability to manage\nthe CA over here under actiosn off on the,\n\n438\n00:20:22.480 --> 00:20:23.825\nup there somewhere,\nwherever it says manager.\n\n439\n00:20:23.825 --> 00:20:24.640\n&gt;&gt; [LAUGH]\n&gt;&gt; I can do that.\n\n440\n00:20:24.640 --> 00:20:26.108\nI'm so\nchallenged by directions because camera-\n\n441\n00:20:26.108 --> 00:20:26.853\n&gt;&gt; It's above your head.\n\n442\n00:20:26.853 --> 00:20:27.507\nJust point straight up over your head.\n\n443\n00:20:27.507 --> 00:20:29.020\n&gt;&gt; But it's exactly the opposite.\n\n444\n00:20:29.020 --> 00:20:32.030\nLogically, intuitively, you're like,\nyeah, I wanna go there, right?\n\n445\n00:20:32.030 --> 00:20:32.810\nI wanna go there.\n\n446\n00:20:32.810 --> 00:20:34.610\n&gt;&gt; It is backwards because\nwe're on camera looking at it.\n\n447\n00:20:34.610 --> 00:20:35.960\n&gt;&gt; It's backwards because we're on camera.\n\n448\n00:20:35.960 --> 00:20:37.114\nBut if I did this, or if I did this.\n\n449\n00:20:37.114 --> 00:20:39.200\n&gt;&gt; [LAUGH]\n&gt;&gt; And then like still probably back.\n\n450\n00:20:39.200 --> 00:20:41.210\n&gt;&gt; Still just put your\nhand in there [LAUGH].\n\n451\n00:20:41.210 --> 00:20:42.900\n&gt;&gt; I'll just have you reach up there for\nit.\n\n452\n00:20:42.900 --> 00:20:44.130\nAnyway, so it is there.\n\n453\n00:20:44.130 --> 00:20:46.357\nThat's what we need the big\nflashing arrow for.\n\n454\n00:20:46.357 --> 00:20:48.165\nSo we have that, like maybe [INAUDIBLE].\n\n455\n00:20:48.165 --> 00:20:51.190\n&gt;&gt; They won't let me have the pop,\nbam and wow.\n\n456\n00:20:51.190 --> 00:20:52.660\n&gt;&gt; I want the cartoon stuff.\n\n457\n00:20:52.660 --> 00:20:55.276\nLike I said Megan because she's so\ngood that she would already be on top.\n\n458\n00:20:55.276 --> 00:20:57.156\nShe would be pressing the button and\n\n459\n00:20:57.156 --> 00:21:00.650\nit would show up at this point\nright there before I even did that.\n\n460\n00:21:00.650 --> 00:21:02.938\nThat's on my wants and needs list.\n\n461\n00:21:02.938 --> 00:21:04.680\n&gt;&gt; Our list is growing here.\n\n462\n00:21:04.680 --> 00:21:05.770\n&gt;&gt; That's what I want right there.\n\n463\n00:21:05.770 --> 00:21:11.610\nSo notice when I click manage, it opens\nthe certificate authority management MMC.\n\n464\n00:21:11.610 --> 00:21:13.430\nSo it spawns that right out of here.\n\n465\n00:21:13.430 --> 00:21:17.070\nSo PKI View could be used to do\nthis kinda stuff which is nice.\n\n466\n00:21:17.070 --> 00:21:21.658\nWe could view the CRL, copy it, save\nit off, refresh it, that kind of thing.\n\n467\n00:21:21.658 --> 00:21:23.890\nI can do the same thing for\nthe subordinate CA.\n\n468\n00:21:25.030 --> 00:21:27.930\nAnd I'm able to kinda waft through\nthe logical managing those aspects.\n\n469\n00:21:27.930 --> 00:21:31.600\nSo PKI View, one of those tools a lot\nof people don't realize is there.\n\n470\n00:21:31.600 --> 00:21:34.930\nA little bit of a off in the corner tool.\n\n471\n00:21:34.930 --> 00:21:36.080\nNot always talked about.\n\n472\n00:21:36.080 --> 00:21:37.830\nNot readily accessible and documented,\n\n473\n00:21:37.830 --> 00:21:40.410\ncuz it's not part of the traditional\nadministrative toolkit.\n\n474\n00:21:40.410 --> 00:21:41.440\nBut you do see it there.\n\n475\n00:21:41.440 --> 00:21:42.320\nDefinitely wanna check it out.\n\n476\n00:21:42.320 --> 00:21:45.090\nIt's one of those cool little ones\nyou wanna know and be aware of.\n\n477\n00:21:45.090 --> 00:21:48.920\nWe talked about the certification\nauthority console the CA console.\n\n478\n00:21:48.920 --> 00:21:52.200\nI've talked about cert util,\ntalked about the fact we have\n\n479\n00:21:52.200 --> 00:21:55.170\ncertificate templates as\na separate snap in for the MMC.\n\n480\n00:21:55.170 --> 00:21:57.200\n&gt;&gt; Yep-\n&gt;&gt; We're gonna talk about templates.\n\n481\n00:21:57.200 --> 00:21:59.347\nI've shown you how to use\nPowerShell extensively.\n\n482\n00:21:59.347 --> 00:22:02.966\nI've shown you the group policy\nmanagement capabilities for PKI.\n\n483\n00:22:02.966 --> 00:22:05.522\nSo I think we've gone through most if\nnot all of those options, tools, and\n\n484\n00:22:05.522 --> 00:22:06.223\ntroubleshooting.\n\n485\n00:22:06.223 --> 00:22:08.650\n&gt;&gt; GP result in\nthe previous episodes also.\n\n486\n00:22:08.650 --> 00:22:13.280\n&gt;&gt; Yeah, we could use that to see how\nPKI related and policy related settings.\n\n487\n00:22:13.280 --> 00:22:14.330\nWe may choose,\n\n488\n00:22:14.330 --> 00:22:17.780\nwe talked about in our last episode,\nwould potentially come out and affect us.\n\n489\n00:22:17.780 --> 00:22:20.170\nSo obviously good to think about that.\n\n490\n00:22:20.170 --> 00:22:23.805\nAnd so just keep in mind there\nare reasons why and mechanisms that may\n\n491\n00:22:23.805 --> 00:22:27.095\nbe valuable to help us troubleshoot when\nthings do or don't work the right way, and\n\n492\n00:22:27.095 --> 00:22:31.145\nwe wanna make sure we take advantage of\nthose, obviously important to think about.\n\n493\n00:22:31.145 --> 00:22:34.095\nBefore we do talk about template versions,\nwe are gonna do that,\n\n494\n00:22:34.095 --> 00:22:37.485\nwhat are some of the common\nissues we face with CA concerns?\n\n495\n00:22:37.485 --> 00:22:38.675\nTroubleshooting tools are good,\n\n496\n00:22:38.675 --> 00:22:42.675\nbut there are some logical reasons why\nthings may not work as advertised.\n\n497\n00:22:42.675 --> 00:22:46.240\nWhat is users or computers,\nremember we do issue stickets,\n\n498\n00:22:46.240 --> 00:22:49.380\npotentially one or the other or\nboth are not able to automatically enroll\n\n499\n00:22:49.380 --> 00:22:50.970\nwhen we specify that\nthey should be able to.\n\n500\n00:22:50.970 --> 00:22:54.240\nWe talked about the way to control that,\nor one of the ways with group policy.\n\n501\n00:22:54.240 --> 00:22:57.440\nWhat if they show up, knock on the door,\nbut essentially nobody answers?\n\n502\n00:22:57.440 --> 00:22:59.500\nOr what if they show up,\nknock on the door, provide credentials but\n\n503\n00:22:59.500 --> 00:23:01.280\nthose credentials are not validated?\n\n504\n00:23:01.280 --> 00:23:02.900\nAll these things may go wrong.\n\n505\n00:23:02.900 --> 00:23:06.152\nWe wanna think about and remember\nthe logic of specifying auto enrollment\n\n506\n00:23:06.152 --> 00:23:07.843\ncapabilities through Group Policy.\n\n507\n00:23:07.843 --> 00:23:09.789\nThe last episode I did show\nyou how to do that, so\n\n508\n00:23:09.789 --> 00:23:13.010\ntroubleshoot there is what I'm\nsuggesting to you if you have an issue.\n\n509\n00:23:13.010 --> 00:23:16.450\nYou may have zeroed out, or\nmade a change in one area of the policy,\n\n510\n00:23:16.450 --> 00:23:22.320\nperhaps through Policy Application and\nthe interaction of group policies,\n\n511\n00:23:22.320 --> 00:23:24.780\nperhaps made a change that\nhas affected that ability, or\n\n512\n00:23:24.780 --> 00:23:29.600\nthe policy is not being applied properly,\nor not directly during the initial log on.\n\n513\n00:23:29.600 --> 00:23:33.468\nRemember, we've talked about in\nprior episodes with group policy,\n\n514\n00:23:33.468 --> 00:23:37.267\nthe fact that policy doesn't always\napply the first time you use it,\n\n515\n00:23:37.267 --> 00:23:40.936\nbecause of the prevalence and\npreference now, in Windows 10 and\n\n516\n00:23:40.936 --> 00:23:44.964\nServer 16 in the new OSs, of using\ncache credentials speed of log ons.\n\n517\n00:23:44.964 --> 00:23:48.689\nAnd as a result of that, we may have\nto apply the policy more than once,\n\n518\n00:23:48.689 --> 00:23:51.360\nin order to see that policy\nactually take effect.\n\n519\n00:23:51.360 --> 00:23:55.875\nSo we use our policy or neither the policy\nappropriate to users asking and\n\n520\n00:23:55.875 --> 00:23:59.661\nindeed instructing users to\nauto enroll for certificates.\n\n521\n00:23:59.661 --> 00:24:03.220\nIf we do that, and the policies\nnot apply because auto logon or\n\n522\n00:24:03.220 --> 00:24:07.790\nuse of cached credentials with logons\nmay be applying to the user account.\n\n523\n00:24:07.790 --> 00:24:11.470\nWe may see policies having to be\nreferenced two or three times on average.\n\n524\n00:24:11.470 --> 00:24:14.950\nMaybe even occasionally four times,\nbefore that policy does finally\n\n525\n00:24:14.950 --> 00:24:18.060\nget caught up with the cached\ncredentials and is applied.\n\n526\n00:24:18.060 --> 00:24:21.510\nThe average standard more often than not,\nis twice.\n\n527\n00:24:21.510 --> 00:24:24.390\nMeaning policies would have to\nbe applied twice typically,\n\n528\n00:24:24.390 --> 00:24:29.030\nbefore they do affect auto logons or\ncache credentials with those logons.\n\n529\n00:24:29.030 --> 00:24:32.850\nAnd as a result, the initial instance of\nthe policy when you log in the first time,\n\n530\n00:24:32.850 --> 00:24:36.410\nalthough it's referenced, doesn't get\nintegrated into the cache credential and\n\n531\n00:24:36.410 --> 00:24:38.810\napplied until we log off,\nlog back in again.\n\n532\n00:24:38.810 --> 00:24:41.850\nSo you may not see that happen right away,\njump in and\n\n533\n00:24:41.850 --> 00:24:44.670\nsay, I gotta start troubleshooting, and\nthen all of a sudden it starts working.\n\n534\n00:24:44.670 --> 00:24:47.050\nYou may never actually\nreach an understanding or\n\n535\n00:24:47.050 --> 00:24:48.720\na conclusion as to what went wrong.\n\n536\n00:24:48.720 --> 00:24:51.130\nNothing went wrong,\nit's the expected behavior, but\n\n537\n00:24:51.130 --> 00:24:52.510\nyou just may not have\nwaited long enough for\n\n538\n00:24:52.510 --> 00:24:55.390\nthe policy to apply because of\nthe use of the cache credential.\n\n539\n00:24:55.390 --> 00:24:59.785\nSo that is something to consider and\nbe aware of, one of those crazy kind of\n\n540\n00:24:59.785 --> 00:25:03.505\nscenarios but those are the scenarios\nwe love to ask about on exams.\n\n541\n00:25:03.505 --> 00:25:05.645\nAnd if you're not familiar with it well,\nyou may or\n\n542\n00:25:05.645 --> 00:25:08.825\nmay not understand the logic of the answer\nand it may not make sense to you.\n\n543\n00:25:08.825 --> 00:25:10.379\nBecause who would choose\nthat as a normal answer.\n\n544\n00:25:10.379 --> 00:25:13.257\nWell, I'll just wait for\nthe user to log off, log back in and\n\n545\n00:25:13.257 --> 00:25:15.075\nreapply the policy and then it works.\n\n546\n00:25:15.075 --> 00:25:17.655\nThat may not be the most\nobvious answer on the page,\n\n547\n00:25:17.655 --> 00:25:19.515\neven though it happens to be\nthe correct one in many cases.\n\n548\n00:25:19.515 --> 00:25:23.930\nSo just be aware of that,\nmaking sure permissions are set correctly.\n\n549\n00:25:23.930 --> 00:25:26.050\nAnother area that is a Gotcha\nwith regards to this.\n\n550\n00:25:26.050 --> 00:25:29.410\nWe talked about security permissions and\nthe request permission.\n\n551\n00:25:29.410 --> 00:25:32.220\nA request certificates permission\nrather which is the default.\n\n552\n00:25:32.220 --> 00:25:35.620\nBut again, if you deselect that or\nsomehow put a user or\n\n553\n00:25:35.620 --> 00:25:39.740\na computer into a group designation that\nblocks that permission, then they may not\n\n554\n00:25:39.740 --> 00:25:42.850\nbe able to get a certificate and as\na result will not be able to authenticate.\n\n555\n00:25:42.850 --> 00:25:45.720\nIt will be denied and\nthat's a very simple thing to fix but\n\n556\n00:25:45.720 --> 00:25:48.150\nmaybe not the most obvious\nthing when it happens.\n\n557\n00:25:48.150 --> 00:25:49.970\nSo just wanna make sure\nwe're aware of that.\n\n558\n00:25:49.970 --> 00:25:53.620\nMake sure that the CA is in business,\npublishing the certificate templates that\n\n559\n00:25:53.620 --> 00:25:56.150\nare available and\nusing those certificates.\n\n560\n00:25:56.150 --> 00:25:56.790\nAnd as a result,\n\n561\n00:25:56.790 --> 00:26:00.660\nthose templates rather, that we can issue\nthe type of certificate the user wants.\n\n562\n00:26:00.660 --> 00:26:03.399\nAs crazy as that sounds, sometimes\nthat template's just not available,\n\n563\n00:26:03.399 --> 00:26:04.884\nmeaning we haven't made it available.\n\n564\n00:26:04.884 --> 00:26:07.391\nAnd as a result of that,\nthe user may be looking for\n\n565\n00:26:07.391 --> 00:26:09.910\na certificate that's just not in the menu.\n\n566\n00:26:09.910 --> 00:26:13.560\nAnd as a result, they can't get\na certificate or as silly as this sounds,\n\n567\n00:26:13.560 --> 00:26:15.350\nthe CA is offline, right?\n\n568\n00:26:15.350 --> 00:26:17.148\nAnd you can't do business\nwhen the CA is offline.\n\n569\n00:26:17.148 --> 00:26:21.372\nAnd we've talked extensively about\nthe fact that taking CAs offline to secure\n\n570\n00:26:21.372 --> 00:26:25.468\nthem is an accepted and normal practice,\ndepending on the level of the CA and\n\n571\n00:26:25.468 --> 00:26:26.720\nthe hierarchy.\n\n572\n00:26:26.720 --> 00:26:29.610\nAnd if that CA you're attempting\nto connect to is offline,\n\n573\n00:26:29.610 --> 00:26:31.150\nthen you wont be able\nto get a certificate.\n\n574\n00:26:31.150 --> 00:26:34.260\nAnd that is something again from\na troubleshooting perspective you would\n\n575\n00:26:34.260 --> 00:26:35.240\nwant to be aware of.\n\n576\n00:26:35.240 --> 00:26:37.520\nKnow that, make sure you're aware of that.\n\n577\n00:26:37.520 --> 00:26:38.480\nIf you're getting issues and\n\n578\n00:26:38.480 --> 00:26:40.830\nerrors when you're trying to\nhit a web enrollment page.\n\n579\n00:26:40.830 --> 00:26:43.169\nMaybe web enrollment has not\nbeen configured for the CA,\n\n580\n00:26:43.169 --> 00:26:44.393\neven though the CA is online.\n\n581\n00:26:44.393 --> 00:26:47.837\nYou may have to submit the request in\na different form in order to do that, or\n\n582\n00:26:47.837 --> 00:26:50.808\nnot at all because the web\nenrollment option's not available.\n\n583\n00:26:50.808 --> 00:26:54.230\nIt will be easy to manipulate a question,\nis what I'm suggesting to you.\n\n584\n00:26:54.230 --> 00:26:57.903\nA scenario, where any or all of these\nthings could be presented as issues,\n\n585\n00:26:57.903 --> 00:26:59.143\nthings have gone wrong.\n\n586\n00:26:59.143 --> 00:27:02.192\nPlease help us to diagnose,\nto understand to troubleshoot.\n\n587\n00:27:02.192 --> 00:27:07.370\nMr. and Mrs. MCP candidate who wants to\nget certified in Server 16 as an MCSA or\n\n588\n00:27:07.370 --> 00:27:10.961\nMCSE or whatever you are looking\nto ultimately become.\n\n589\n00:27:10.961 --> 00:27:14.139\nAnd we will promise you 100%,\nno question about it,\n\n590\n00:27:14.139 --> 00:27:17.530\ngonna have to deal with\ntroubleshooting issues on the exam.\n\n591\n00:27:17.530 --> 00:27:18.627\nYou should hopefully know that.\n\n592\n00:27:18.627 --> 00:27:20.970\nIt should not be a surprise to you.\n\n593\n00:27:20.970 --> 00:27:25.140\nWe try to prepare you for that,\nCherokee, myself, Mike, Ronnie, Daniel,\n\n594\n00:27:25.140 --> 00:27:27.280\nwhoever talks to you about\nthese things and whatever.\n\n595\n00:27:27.280 --> 00:27:30.560\nParticular set of episodes or\nwhatever topics you may see, right?\n\n596\n00:27:30.560 --> 00:27:34.690\nWe always mention the fact that this is\none of those categories of question types\n\n597\n00:27:34.690 --> 00:27:36.110\nyou're very likely to encounter.\n\n598\n00:27:36.110 --> 00:27:37.016\nNot just in Microsoft by the way.\n\n599\n00:27:37.016 --> 00:27:38.360\nAcross any vendor, right?\n\n600\n00:27:38.360 --> 00:27:42.368\nSo Cisco, be the same conversation,\nVMware, Citrix, you name it.\n\n601\n00:27:42.368 --> 00:27:45.260\nThere's troubleshooting among any of or\nall of these vendors,\n\n602\n00:27:45.260 --> 00:27:47.860\ncuz we want you to\nunderstand the vendor to us.\n\n603\n00:27:47.860 --> 00:27:50.360\nTo understand how to deploy,\nmanage and of course,\n\n604\n00:27:50.360 --> 00:27:52.410\nfix the product if something goes wrong.\n\n605\n00:27:52.410 --> 00:27:55.730\nAnd before we give you that set of\nletters after your name that you are so\n\n606\n00:27:55.730 --> 00:27:56.930\nrichly deserving of.\n\n607\n00:27:56.930 --> 00:27:58.190\nWhen you do take and pass an exam,\n\n608\n00:27:58.190 --> 00:28:01.460\nyou do have to show that you're capable of\ndoing these things as part of the process.\n\n609\n00:28:01.460 --> 00:28:06.300\nSo making sure you understand the logic of\nwhat can go wrong is really the extension\n\n610\n00:28:06.300 --> 00:28:09.260\nof how do I deploy the knowledge\nto administer properly, right?\n\n611\n00:28:09.260 --> 00:28:12.480\nI can't think of the last time\nI took an exam in the thirty\n\n612\n00:28:12.480 --> 00:28:14.130\nyears I've been doing this or so.\n\n613\n00:28:14.130 --> 00:28:17.139\nThat I didn't see troubleshooting\nquestions at some level for\n\n614\n00:28:17.139 --> 00:28:19.534\nsome reason on something\nthat I had to figure out.\n\n615\n00:28:19.534 --> 00:28:22.760\nMaybe obvious, may just be something\nI'm prepared for and I know how to do.\n\n616\n00:28:22.760 --> 00:28:25.840\nMaybe a crazy wacky off in\nthe corner kinda scenario that I\n\n617\n00:28:25.840 --> 00:28:28.230\nnever encountered and\nI just never know the answer to.\n\n618\n00:28:28.230 --> 00:28:31.550\nLike everybody else I guess, and\nmaybe I get it right, maybe I don't.\n\n619\n00:28:31.550 --> 00:28:34.450\nBut ultimately the point\nis if you're prepared for\n\n620\n00:28:34.450 --> 00:28:36.930\nthose scenarios, you're much more\nlikely to know the answer and\n\n621\n00:28:36.930 --> 00:28:39.675\ntherefore, hopefully, get it right,\nwithout having to guess, right?\n\n622\n00:28:39.675 --> 00:28:43.945\nNot the preferred test question answering\nmethodology which would be let me guess as\n\n623\n00:28:43.945 --> 00:28:45.638\nopposed to try to get it correct.\n\n624\n00:28:45.638 --> 00:28:48.953\n&gt;&gt; Well, also, in real life too, Adam,\nI mean like having that book's marked,\n\n625\n00:28:48.953 --> 00:28:50.415\ndon't get me wrong, is great.\n\n626\n00:28:50.415 --> 00:28:56.565\nBut then coupling it with the common\nsense or I guess, experience\n\n627\n00:28:56.565 --> 00:29:00.885\nto know how to apply it is really-\n&gt;&gt; And when not to apply it which is also\n\n628\n00:29:00.885 --> 00:29:05.300\nvery important because a lot of times in\nexams, we will ask scenario questions in\n\n629\n00:29:05.300 --> 00:29:09.760\nsuch a way that we will purposely tempt\nyou to bring that real world knowledge in.\n\n630\n00:29:09.760 --> 00:29:13.590\nAnd then tell you that's absolutely wrong\nbecause you're not doing it the methodical\n\n631\n00:29:13.590 --> 00:29:16.180\nway that we have specified in\nthe documentation is quote, unquote,\n\n632\n00:29:16.180 --> 00:29:17.260\nthe best practice way.\n\n633\n00:29:17.260 --> 00:29:19.980\nCuz let's be honest,\nwe talk a lot about best practices.\n\n634\n00:29:19.980 --> 00:29:23.930\nI go out of my way as do many of\nthe hosts here at ITProTV to remind you\n\n635\n00:29:23.930 --> 00:29:24.610\nof what those things are.\n\n636\n00:29:24.610 --> 00:29:27.960\nAnd explain the importance of them and\ntell you why you should leverage and\n\n637\n00:29:27.960 --> 00:29:29.400\nuse those best practices.\n\n638\n00:29:29.400 --> 00:29:32.410\nBut I also go out of my way to remind\nyou and tell you that in many times and\n\n639\n00:29:32.410 --> 00:29:34.517\nmany ways,\nan organization is a living entity.\n\n640\n00:29:34.517 --> 00:29:38.731\nAnd your business is not going to be\na cookie cutter off the shelf model.\n\n641\n00:29:38.731 --> 00:29:39.342\n&gt;&gt; One size fits all.\n\n642\n00:29:39.342 --> 00:29:41.380\n&gt;&gt; And it's a one size fits one.\n\n643\n00:29:41.380 --> 00:29:42.870\nDeployment of that knowledge and\n\n644\n00:29:42.870 --> 00:29:47.830\nthat uniqueness that you have in your\norganization into the configuration.\n\n645\n00:29:47.830 --> 00:29:49.730\nSo you have to customize, in other words.\n\n646\n00:29:49.730 --> 00:29:53.590\nAnd really adjust what you do to fit\nthe environment that you're managing.\n\n647\n00:29:53.590 --> 00:29:56.650\nAnd while vendors acknowledge that that's\nimportant, they're steadfast about\n\n648\n00:29:56.650 --> 00:29:59.380\nthe fact that there are certain\nways they want their stuff done.\n\n649\n00:29:59.380 --> 00:30:01.330\nRight or wrong,\nyou just have to understand that.\n\n650\n00:30:01.330 --> 00:30:03.660\nAnd so they will test,\nthey being the vendor, right?\n\n651\n00:30:03.660 --> 00:30:06.798\nThey will test for the best practice\nanswer, not the real world answer.\n\n652\n00:30:06.798 --> 00:30:09.580\nAnd we've tried to make that clear\nto you and talk to you about that.\n\n653\n00:30:09.580 --> 00:30:11.660\nAnd explain why that's so\nimportant for you to know.\n\n654\n00:30:11.660 --> 00:30:15.410\nBut it is a gotcha because you have the\nbiggest temptation you have on an exam.\n\n655\n00:30:16.510 --> 00:30:19.069\nReach and grab that real world knowledge\nthat you worked very hard to acquire by\n\n656\n00:30:19.069 --> 00:30:19.662\nthe way, right?\n\n657\n00:30:19.662 --> 00:30:22.775\nYou've put a lot of time and energy in\nto learn how to do your job the way it's\n\n658\n00:30:22.775 --> 00:30:24.217\nsupposed to be done in your world.\n\n659\n00:30:24.217 --> 00:30:27.090\nAnd you're good at it,\nI don't doubt that for a minute.\n\n660\n00:30:27.090 --> 00:30:28.460\nBut the reality is that knowledge,\n\n661\n00:30:28.460 --> 00:30:31.590\nI tell my students all the time,\nwill absolutely kill you on an exam.\n\n662\n00:30:31.590 --> 00:30:34.100\nBecause it's the one thing\nvendors will do to trip you up.\n\n663\n00:30:34.100 --> 00:30:37.360\nThey will write that question in such\na way that you will be tempted to\n\n664\n00:30:37.360 --> 00:30:40.840\nuse the non standard real world answers.\n\n665\n00:30:40.840 --> 00:30:43.640\nAnd those will be there, and\nthey are not technically wrong.\n\n666\n00:30:43.640 --> 00:30:45.282\nThey are just not the correct answer for\n\n667\n00:30:45.282 --> 00:30:47.534\nthe question based on the way\nit's asked on the exam.\n\n668\n00:30:47.534 --> 00:30:48.584\nIn other words,\n\n669\n00:30:48.584 --> 00:30:53.700\nthe best possible answer is gonna be\nthe best practiced standard answer.\n\n670\n00:30:53.700 --> 00:30:57.924\nNot the way in this case you choose to\nimplement the guidance in the real world.\n\n671\n00:30:57.924 --> 00:31:01.100\nI do try to make sure I'm on point with\nthem when we do our demonstrations,\n\n672\n00:31:01.100 --> 00:31:04.280\nour discussions, our talk and\nwalk throughs of stuff.\n\n673\n00:31:04.280 --> 00:31:06.320\nAnd sometimes we do a better\njob of it than others.\n\n674\n00:31:06.320 --> 00:31:09.780\nI'm sure making that clear, but it is\na message that bears repeating every so\n\n675\n00:31:09.780 --> 00:31:12.490\noften just to make sure you're\non point with that as well.\n\n676\n00:31:12.490 --> 00:31:15.368\nAnd yet as I say that I look and see that-\n&gt;&gt; [LAUGH]\n\n677\n00:31:15.368 --> 00:31:15.933\n&gt;&gt; I'm gonna have to\n\n678\n00:31:15.933 --> 00:31:17.180\nunfortunately disappoint Cherokee.\n\n679\n00:31:17.180 --> 00:31:19.996\n&gt;&gt; A message worth repeating is\nthat Adam we are out of time.\n\n680\n00:31:19.996 --> 00:31:22.768\n&gt;&gt; It is and we're gonna have to come\nback and talk about templates and\n\n681\n00:31:22.768 --> 00:31:25.170\nthe four different kinds of templates,\nhow we get them.\n\n682\n00:31:25.170 --> 00:31:27.490\nVery exciting, don't wanna miss that,\nit's gonna be important.\n\n683\n00:31:27.490 --> 00:31:29.180\nBut we also, which I did not get to and\n\n684\n00:31:29.180 --> 00:31:32.060\nwe will, just to remind of how\nwe deal with renewals, right?\n\n685\n00:31:32.060 --> 00:31:34.316\nThe certificates do expire, and\nwe do have validity periods and\n\n686\n00:31:34.316 --> 00:31:35.122\nwe have to renew them.\n\n687\n00:31:35.122 --> 00:31:38.110\nAnd I just want to make sure we just\nhave a few words to say about that.\n\n688\n00:31:38.110 --> 00:31:41.570\nRenewing that root CA, what can\nhappen if you don't do that, which is\n\n689\n00:31:41.570 --> 00:31:44.910\nessentially a cascading failure down\nthe stream, if we don't pay attention.\n\n690\n00:31:44.910 --> 00:31:48.078\nSo if we wanna talk about some of those\nthings, we'll do that as we come back and\n\n691\n00:31:48.078 --> 00:31:50.202\nhave another episode for\nyou because wealth [LAUGH].\n\n692\n00:31:50.202 --> 00:31:50.762\n&gt;&gt; [LAUGH]\n&gt;&gt; We\n\n693\n00:31:50.762 --> 00:31:54.010\ngot more stuff to say than time to say\nit in, so that's what we're gonna do.\n\n694\n00:31:54.010 --> 00:31:57.090\n&gt;&gt; Perfect, thank you Adam, and\nthank you for joining us but stay tuned,\n\n695\n00:31:57.090 --> 00:31:58.780\nwe have more information to bring you.\n\n696\n00:31:58.780 --> 00:32:00.480\nFor this show,\nwe'll go ahead and sign out.\n\n697\n00:32:00.480 --> 00:32:02.010\nI've been your host, Cherokee Boose.\n\n698\n00:32:02.010 --> 00:32:04.018\n&gt;&gt; I'm Adam Gordon.\n&gt;&gt; See you next time here at ITPro.TV.\n\n699\n00:32:06.437 --> 00:32:12.131\n[MUSIC]\n\n700\n00:32:12.131 --> 00:32:15.037\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "231882760"
        },
        {
          "description": "n this show, Adam and Cherokee kick off the show and explain why and how one would renew a certificate and what will happen if not properly planned for. Next, they also show how one would execute Back up and restore. Lastly, they look at different template versions and demonstrate how to duplicate a template for customization.",
          "length": "2124",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-6-deploying_and_managing_ad_cs_pt6-083017-PGM.00_35_10_10.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-6-deploying_and_managing_ad_cs_pt6-083017-PGM.00_35_10_10.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-1-6-deploying_and_managing_ad_cs_pt6-083017-PGM.00_35_10_10.Still002-sm.jpg",
          "title": "Deploying and Managing AD CS Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.093\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.093 --> 00:00:06.121\n[CROSSTALK]\n\n3\n00:00:06.121 --> 00:00:08.060\n[MUSIC]\n\n4\n00:00:08.060 --> 00:00:11.626\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.626 --> 00:00:15.433\n&gt;&gt; Welcome back to Identity with\nWindows Server 2016 Series.\n\n6\n00:00:15.433 --> 00:00:18.100\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.100 --> 00:00:22.360\nIn this episode, we'll be looking\nat how to deploy and manage ADCS.\n\n8\n00:00:22.360 --> 00:00:25.540\nAnd back with us today,\nwe have Microsoft expert, Adam Gordon.\n\n9\n00:00:25.540 --> 00:00:26.940\nThank you for joining us, Adam.\n\n10\n00:00:26.940 --> 00:00:28.219\n&gt;&gt; Thank you, always, always a pleasure.\n\n11\n00:00:28.219 --> 00:00:29.124\nAlways glad to be here.\n\n12\n00:00:29.124 --> 00:00:31.659\nI would say I'm really\ndarn glad to be here but\n\n13\n00:00:31.659 --> 00:00:34.337\nI don't wanna go out on a limb and\nget all crazy.\n\n14\n00:00:34.337 --> 00:00:35.951\nBut I'm very happy to be here nonetheless.\n\n15\n00:00:35.951 --> 00:00:36.992\n&gt;&gt; That's right, remember we do have\n\n16\n00:00:36.992 --> 00:00:37.774\na list of-\n&gt;&gt; We do.\n\n17\n00:00:37.774 --> 00:00:38.493\n&gt;&gt; Words we can't say.\n\n18\n00:00:38.493 --> 00:00:39.875\n&gt;&gt; Can't say that other D word.\n\n19\n00:00:39.875 --> 00:00:41.373\n&gt;&gt; [LAUGH]\n&gt;&gt; So I'm gonna say darn instead.\n\n20\n00:00:41.373 --> 00:00:42.615\nDarn it.\n\n21\n00:00:42.615 --> 00:00:45.860\nAll right so, let's get back to\nwhat we're here to talk about.\n\n22\n00:00:45.860 --> 00:00:48.300\nSo we are gonna continue\nour conversations.\n\n23\n00:00:48.300 --> 00:00:50.348\nWe're gonna literally jump back in,\nas we say,\n\n24\n00:00:50.348 --> 00:00:52.340\nor pick right back up where we left off.\n\n25\n00:00:52.340 --> 00:00:54.890\nAnd I was about to talk about\nrenewal of certificates,\n\n26\n00:00:54.890 --> 00:00:57.210\njust reminding us of\nthe fact we have to do that.\n\n27\n00:00:57.210 --> 00:00:59.910\nThe revocation period and the CRL list and\n\n28\n00:00:59.910 --> 00:01:01.690\nall the stuff we talked\nabout is important.\n\n29\n00:01:01.690 --> 00:01:05.150\nAnd the validity period is equally\nimportant as we talk about the length or\n\n30\n00:01:05.150 --> 00:01:07.360\nduration of that certificate's life cycle.\n\n31\n00:01:07.360 --> 00:01:09.910\nWe have to stay on the right\nside of that conversation.\n\n32\n00:01:09.910 --> 00:01:12.798\nI had a phone call,\nI vividly remember to this day,\n\n33\n00:01:12.798 --> 00:01:15.228\nfrom a customer a couple\nof years back now.\n\n34\n00:01:15.228 --> 00:01:18.750\nI was travelling and happened to be\non the I think the West Coast of\n\n35\n00:01:18.750 --> 00:01:23.123\nthe United States on business, speaking\nout at one of the security conferences\n\n36\n00:01:23.123 --> 00:01:25.730\nthat I tend to speak at on a yearly basis.\n\n37\n00:01:25.730 --> 00:01:30.590\nAnd I get a phone call,\nit's some ridiculous hour back East, so\n\n38\n00:01:30.590 --> 00:01:33.590\nit's probably six in the morning\nback East, start of business.\n\n39\n00:01:33.590 --> 00:01:38.060\nIt's three o'clock in the morning where I\nam, had just come in from being out and\n\n40\n00:01:38.060 --> 00:01:41.636\nsocializing and all the stuff\nyou do around those conferences.\n\n41\n00:01:41.636 --> 00:01:44.375\nAnd that's just code, by the way, for-\n&gt;&gt; [LAUGH]\n\n42\n00:01:44.375 --> 00:01:45.019\n&gt;&gt; Hanging out and partying\n\n43\n00:01:45.019 --> 00:01:46.035\nin case you are not familiar with that.\n\n44\n00:01:46.035 --> 00:01:47.452\n&gt;&gt; [LAUGH] I'm like, wait, wait,\nwhat are you talking about, Adam?\n\n45\n00:01:47.452 --> 00:01:49.109\n&gt;&gt; Cherokee's got her raised\neyebrow looking at me like come on,\n\n46\n00:01:49.109 --> 00:01:50.056\njust tell them what you were doing.\n\n47\n00:01:50.056 --> 00:01:51.810\nYou're out there drinking and being silly.\n\n48\n00:01:51.810 --> 00:01:54.990\nSo, yeah, we were just out having\na good time, bunch of my friends and I.\n\n49\n00:01:54.990 --> 00:01:57.430\nAnd so we got there and\nwe came back about three in the morning.\n\n50\n00:01:57.430 --> 00:01:59.070\nI just gotten in the bed, falling asleep.\n\n51\n00:01:59.070 --> 00:02:00.870\nI get a phone call from a client.\n\n52\n00:02:00.870 --> 00:02:05.300\nPhone goes off, picked up the phone, cuz\nobviously I have to answer the phone when\n\n53\n00:02:05.300 --> 00:02:08.300\nclients are calling and offering you\nmoney at ridiculous hours of the morning.\n\n54\n00:02:08.300 --> 00:02:10.660\nAnd so I remembered talking\nto this customer of mine.\n\n55\n00:02:10.660 --> 00:02:13.780\nI'd just seen them about two weeks prior,\nbefore I left to go on this trip.\n\n56\n00:02:13.780 --> 00:02:16.149\nAnd I specifically had had this\nconversation with them, right?\n\n57\n00:02:16.149 --> 00:02:17.393\nAnd it's always one of those things.\n\n58\n00:02:17.393 --> 00:02:20.527\nThey called up and said, hey, and\nthe conversation always starts out, right?\n\n59\n00:02:20.527 --> 00:02:24.254\nSo hey, are you okay to talk,\nare you available?\n\n60\n00:02:24.254 --> 00:02:25.172\n&gt;&gt; Are you busy?\nYep.\n\n61\n00:02:25.172 --> 00:02:26.135\n[LAUGH]\n&gt;&gt; Are you busy?\n\n62\n00:02:26.135 --> 00:02:27.930\nNo, it's three in the morning,\nI'm always okay to talk.\n\n63\n00:02:27.930 --> 00:02:28.570\nI'm never busy.\n\n64\n00:02:28.570 --> 00:02:32.165\nFor you, George, if his name was George,\nI'm never too busy is what I say.\n\n65\n00:02:32.165 --> 00:02:32.705\nWhat can I do for you?\n\n66\n00:02:32.705 --> 00:02:33.936\nWell, funny story.\n\n67\n00:02:33.936 --> 00:02:36.409\nBy the way, I think I may have\nsaid this in one other episode-\n\n68\n00:02:36.409 --> 00:02:37.813\n&gt;&gt; Funny stories, they're never funny.\n\n69\n00:02:37.813 --> 00:02:39.261\n&gt;&gt; Yeah, funny stories are just not funny.\n\n70\n00:02:39.261 --> 00:02:39.946\n&gt;&gt; No, [LAUGH].\n\n71\n00:02:39.946 --> 00:02:42.411\n&gt;&gt; We've heard it often enough to know,\nas people that do this for\n\n72\n00:02:42.411 --> 00:02:45.245\na living that you're about to\ntell something that's not funny.\n\n73\n00:02:45.245 --> 00:02:48.217\nAnd you might as well just get right to it\nbecause if it was a funny story, I promise\n\n74\n00:02:48.217 --> 00:02:51.040\nyou, you wouldn't be calling me at three\nin the morning to share it with me.\n\n75\n00:02:51.040 --> 00:02:52.911\n&gt;&gt; [LAUGH]\n&gt;&gt; You would tell it when you're awake\n\n76\n00:02:52.911 --> 00:02:53.512\nand not stressed.\n\n77\n00:02:53.512 --> 00:02:57.565\nSo, it's not a funny story, but it's a\ngood intro, so funny story, great George,\n\n78\n00:02:57.565 --> 00:02:59.070\nwhat's the funny story?\n\n79\n00:02:59.070 --> 00:03:02.440\nRemember that conversation we have when\nwe were here two weeks ago about ensuring\n\n80\n00:03:02.440 --> 00:03:05.630\nthat our certificates are up to date,\nour validity periods are valid,\n\n81\n00:03:05.630 --> 00:03:08.900\nthat we are not gonna have\nany expired certificates?\n\n82\n00:03:08.900 --> 00:03:11.510\nAnd I'm thinking,\nI know exactly what's coming next.\n\n83\n00:03:11.510 --> 00:03:14.480\nI warned these guys,\nI told them in no uncertain terms\n\n84\n00:03:14.480 --> 00:03:17.720\nthat certificate on the site\nis gonna expire in two weeks.\n\n85\n00:03:17.720 --> 00:03:21.910\nYou better take advantage of the time\nwhen you have, get this renewed before.\n\n86\n00:03:21.910 --> 00:03:25.360\nAnd I knew without him even telling\nme that the certificate had expired.\n\n87\n00:03:25.360 --> 00:03:28.887\nHe was calling me to figure out how to do\nit because he didn't know how to do it and\n\n88\n00:03:28.887 --> 00:03:29.537\nhe panicked.\n\n89\n00:03:29.537 --> 00:03:34.300\nAnd sure enough, I said, yeah, absolutely\nI remember, and what's the problem?\n\n90\n00:03:34.300 --> 00:03:36.190\nWell, Adam, funny story.\n\n91\n00:03:36.190 --> 00:03:37.370\nAgain, not funny.\n\n92\n00:03:37.370 --> 00:03:39.970\nBut hey, our certificates have expired.\n\n93\n00:03:39.970 --> 00:03:43.110\nNobody can get into the web\nportal to interact with\n\n94\n00:03:43.110 --> 00:03:44.840\nall the stuff that goes on there.\n\n95\n00:03:44.840 --> 00:03:48.360\nMy boss is about to just\nthrow me out the window.\n\n96\n00:03:48.360 --> 00:03:50.090\nYou gotta help me, I gotta fix this.\n\n97\n00:03:50.090 --> 00:03:50.900\nI said, okay, no big deal.\n\n98\n00:03:50.900 --> 00:03:52.030\nIt's easy to fix.\n\n99\n00:03:52.030 --> 00:03:54.410\nThe problem is actually\na very straightforward one.\n\n100\n00:03:54.410 --> 00:03:57.960\nYou just gotta go in and essentially renew\nthe certificate, have it reissued, and\n\n101\n00:03:57.960 --> 00:04:00.480\nassign or attach it to the web interface.\n\n102\n00:04:00.480 --> 00:04:02.901\nAnd, boom, you're back up and\nrunning in five minutes, no big deal.\n\n103\n00:04:02.901 --> 00:04:04.227\nAnd I walked him through it,\n\n104\n00:04:04.227 --> 00:04:07.218\nluckily I could do this in my sleep\nliterally cuz I was sleeping.\n\n105\n00:04:07.218 --> 00:04:10.240\nAnd I walked him through it and\neverything was fine.\n\n106\n00:04:10.240 --> 00:04:13.100\nBut if you don't pay attention to\nthese things, this is the real world.\n\n107\n00:04:13.100 --> 00:04:13.990\nThis is what happens.\n\n108\n00:04:13.990 --> 00:04:17.480\nCertificates expire, and when they expire,\nservices are interrupted.\n\n109\n00:04:17.480 --> 00:04:20.840\nAnd so, we have to understand\nthe importance is we manage ADCS or\n\n110\n00:04:20.840 --> 00:04:23.892\nany certificates regardless\nof who they are attached to,\n\n111\n00:04:23.892 --> 00:04:26.400\nwho the vendor is behind them,\nwhat they mean.\n\n112\n00:04:26.400 --> 00:04:27.868\nThis is a universal issue.\n\n113\n00:04:27.868 --> 00:04:29.610\nCertificates are issued for\na period of time.\n\n114\n00:04:29.610 --> 00:04:31.510\nWhen they expire,\nthey are no good anymore.\n\n115\n00:04:31.510 --> 00:04:32.620\nYou have to get a new one or\n\n116\n00:04:32.620 --> 00:04:36.160\ndecide you no longer consume that\nservice with that certificate that way.\n\n117\n00:04:36.160 --> 00:04:39.680\nAnd since that's normally not an option,\nwe have to make sure we renew them.\n\n118\n00:04:39.680 --> 00:04:43.850\nSo just be aware of that, the importance\nof that validity period of certificates.\n\n119\n00:04:43.850 --> 00:04:45.510\nIt's very important to pay attention to.\n\n120\n00:04:45.510 --> 00:04:49.060\nRenewal of a certificate is\nnot a very complicated thing.\n\n121\n00:04:49.060 --> 00:04:51.312\nIf you wanna join me here, we'd take\na look at how to renew a certificate.\n\n122\n00:04:51.312 --> 00:04:58.900\nPractice labs, PROV-DC-01-CA, you can see\nhere I'm on the root, Enterprise Root CA.\n\n123\n00:04:58.900 --> 00:05:00.690\nIf this certificate were to expire for\n\n124\n00:05:00.690 --> 00:05:05.580\nsome reason, right-click on\nthe Certificate Authority itself.\n\n125\n00:05:05.580 --> 00:05:08.710\nAnd one of the things that we do\nhave here, Renew the CA Certificate,\n\n126\n00:05:08.710 --> 00:05:10.278\nI can follow the wizard to do that.\n\n127\n00:05:10.278 --> 00:05:14.330\nI have to stop the Certificate Authority\nServices from running when I do this so\n\n128\n00:05:14.330 --> 00:05:15.665\njust be aware of the fact we do this.\n\n129\n00:05:15.665 --> 00:05:18.410\nYou got a wizard that pops up as Yes or\nNo, do you want to or not?\n\n130\n00:05:18.410 --> 00:05:20.911\nAnd you obviously click Yes to\nstop them and then you can renew.\n\n131\n00:05:20.911 --> 00:05:22.490\nAnd then you start them up again.\n\n132\n00:05:22.490 --> 00:05:23.375\nBut just be aware of that.\n\n133\n00:05:23.375 --> 00:05:25.808\nIf we need to renew another certificate,\n\n134\n00:05:25.808 --> 00:05:29.080\nwe can go through\nthe Certificate Web Enrollment page.\n\n135\n00:05:29.080 --> 00:05:30.360\nIf it's a user sticker or\n\n136\n00:05:30.360 --> 00:05:33.620\nsomething like that and you go in and\nmake a request to do that.\n\n137\n00:05:33.620 --> 00:05:37.630\nWe've seen that as an option and at least\nlooked at some of those aspects before.\n\n138\n00:05:37.630 --> 00:05:39.560\nSo renewal's not a complicated thing, but\n\n139\n00:05:39.560 --> 00:05:42.150\nit is something that just\nhas to be planned for.\n\n140\n00:05:42.150 --> 00:05:46.290\nI tell my customers hey, put a big old\nwhite sticky note or yellow sticky note up\n\n141\n00:05:46.290 --> 00:05:50.334\non somewhere you're gonna watch it\nevery day,, when you go in the office.\n\n142\n00:05:50.334 --> 00:05:53.904\nPut a big bright yellow highlight\naround it, with a date, and\n\n143\n00:05:53.904 --> 00:05:57.930\nright below it, it says,\nmust renew certificates before, right?\n\n144\n00:05:57.930 --> 00:06:00.285\nLiterally, be as obnoxiously\nobvious as you can be.\n\n145\n00:06:00.285 --> 00:06:03.347\nBecause you're gonna stare at that\nevery day and as that date gets closer,\n\n146\n00:06:03.347 --> 00:06:05.830\nhopefully, you're gonna remember\nyou have to go do that.\n\n147\n00:06:05.830 --> 00:06:09.730\nBecause it's one of those things that is\nthe million details we juggle every day,\n\n148\n00:06:09.730 --> 00:06:12.270\nit's in our minds, yeah,\nI'm gonna remember to do that, absolutely.\n\n149\n00:06:12.270 --> 00:06:13.310\nI'm not gonna forget.\n\n150\n00:06:13.310 --> 00:06:13.859\nSure enough-\n&gt;&gt; And then we end\n\n151\n00:06:13.859 --> 00:06:14.359\nup-\n&gt;&gt; You're gonna forget.\n\n152\n00:06:14.359 --> 00:06:15.334\n&gt;&gt; On the phone with Adam at 3 AM.\n\n153\n00:06:15.334 --> 00:06:16.356\n[LAUGH]\n\n154\n00:06:16.356 --> 00:06:17.680\n&gt;&gt; And you can feel free to call\n\n155\n00:06:17.680 --> 00:06:20.879\nat 3 AM and do that, but\nI'm not gonna answer the phone, right?\n\n156\n00:06:20.879 --> 00:06:22.700\nBecause it may not be my problem,\n\n157\n00:06:22.700 --> 00:06:24.840\nbecause if I'm not your guy, right?\n\n158\n00:06:24.840 --> 00:06:27.380\nThen I might not be renewing\nyour certificates, right?\n\n159\n00:06:27.380 --> 00:06:30.341\nGeorge, my buddy,\nwas able to call me because, well,\n\n160\n00:06:30.341 --> 00:06:32.359\nthat's what they needed advice for.\n\n161\n00:06:32.359 --> 00:06:34.690\nI said, hey look,\nif you need something, you call me.\n\n162\n00:06:34.690 --> 00:06:37.280\nAnd I'm sincere about that with\nmy students, with my customers,\n\n163\n00:06:37.280 --> 00:06:38.250\nwith all of you.\n\n164\n00:06:38.250 --> 00:06:41.430\nDon't have a problem if you have\na question, that's why we have a forum.\n\n165\n00:06:41.430 --> 00:06:41.949\nSubmit a question.\n\n166\n00:06:41.949 --> 00:06:45.578\nWe love to answer those questions about\nanything you see on any of our shows,\n\n167\n00:06:45.578 --> 00:06:47.210\nany of our discussions.\n\n168\n00:06:47.210 --> 00:06:49.810\nCherokee does that, I do that,\nall the hosts here will do that.\n\n169\n00:06:49.810 --> 00:06:51.853\nWe love to hear from all of you and\nencourage you to do that.\n\n170\n00:06:51.853 --> 00:06:55.313\nBut submitting a request to the forum\nabout will we renew your certificate is\n\n171\n00:06:55.313 --> 00:06:58.790\nnot gonna get one of us to come out and\ndo it for you, you gotta do it yourself.\n\n172\n00:06:58.790 --> 00:07:01.520\nWe may walk you through the process and\nexplain the logic on how to do it, but\n\n173\n00:07:01.520 --> 00:07:02.900\nyou're gonna have to go do it yourself.\n\n174\n00:07:02.900 --> 00:07:05.660\nSo make sure you're thinking\nabout those things, right?\n\n175\n00:07:05.660 --> 00:07:07.701\nI often talk about planning to be\nsuccessful or planning to fail.\n\n176\n00:07:07.701 --> 00:07:08.246\n&gt;&gt; Right.\n\n177\n00:07:08.246 --> 00:07:09.635\n&gt;&gt; And this is one of those, hey,\n\n178\n00:07:09.635 --> 00:07:12.100\nlet's plan to be successful opportunities,\nright?\n\n179\n00:07:12.100 --> 00:07:16.160\nBe that person, make yourself superstar in\nthe eyes of your boss and your customers.\n\n180\n00:07:16.160 --> 00:07:18.907\nDon't be that person that fails, right,\ncause then you're gonna obviously have\n\n181\n00:07:18.907 --> 00:07:20.766\nto explain why things didn't\nwork the way they should.\n\n182\n00:07:20.766 --> 00:07:23.088\nAll right, you know about renewing,\nwe know about how do that, what about-\n\n183\n00:07:23.088 --> 00:07:25.568\n&gt;&gt; Speaking of failing or backups,\n\n184\n00:07:25.568 --> 00:07:27.256\nare we getting there?\n\n185\n00:07:27.256 --> 00:07:30.576\n&gt;&gt; Okay, not the segue I was hoping for\nbut I was-\n\n186\n00:07:30.576 --> 00:07:32.690\n&gt;&gt; [LAUGH] Aww, man, I missed again.\n\n187\n00:07:32.690 --> 00:07:35.310\n&gt;&gt; I was about to say that but\nyou didn't prep me ahead of time.\n\n188\n00:07:35.310 --> 00:07:36.030\n&gt;&gt; Okay, no.\n\n189\n00:07:36.030 --> 00:07:37.770\n&gt;&gt; I'm gonna say what about failure,\nand you're gonna say, well,\n\n190\n00:07:37.770 --> 00:07:38.441\nwe can backup and secure.\n\n191\n00:07:38.441 --> 00:07:39.091\n&gt;&gt; I gotta back up.\n\n192\n00:07:39.091 --> 00:07:41.010\n&gt;&gt; So let's try that again.\n\n193\n00:07:41.010 --> 00:07:41.990\n&gt;&gt; Okay.\n\n194\n00:07:41.990 --> 00:07:44.221\nSo speaking of failing-\n&gt;&gt; Let's talk about back ups.\n\n195\n00:07:44.221 --> 00:07:45.266\n&gt;&gt; Perfect.\n\n196\n00:07:45.266 --> 00:07:46.820\n[LAUGH]\n&gt;&gt; Outstanding.\n\n197\n00:07:46.820 --> 00:07:49.699\nAll right, so we got to get our\nqueues together here sometimes.\n\n198\n00:07:49.699 --> 00:07:51.697\nWe're not quite at the same place,\nat the same time.\n\n199\n00:07:51.697 --> 00:07:53.663\nBut hey, this is what you come to see.\n\n200\n00:07:53.663 --> 00:07:55.780\nLive entertainment and\neducation all in one.\n\n201\n00:07:55.780 --> 00:07:57.872\nThat's why we call it\nedutainment by the way,\n\n202\n00:07:57.872 --> 00:08:01.208\nin case you didn't pick up on that\nsmall little thing we often talk about.\n\n203\n00:08:01.208 --> 00:08:02.382\nBacking up CAs right?\n\n204\n00:08:02.382 --> 00:08:03.086\nHow do we do that?\n\n205\n00:08:03.086 --> 00:08:07.064\nThis is also important if we have,\nas Cherokee was polite enough to suggest\n\n206\n00:08:07.064 --> 00:08:10.615\ntwice, cuz I'm just too dense to\nbe pay attention the first time.\n\n207\n00:08:10.615 --> 00:08:12.700\nIf we have a failure what\ndo we do to fix that?\n\n208\n00:08:12.700 --> 00:08:14.380\nWell, we're gonna back up, clearly.\n\n209\n00:08:14.380 --> 00:08:17.130\nBacking up our CA,\nbacking up anything is important, but\n\n210\n00:08:17.130 --> 00:08:19.920\nbacking up our CA in particular,\nvery important.\n\n211\n00:08:19.920 --> 00:08:22.885\nThe database associated with\nthe certificates, the keys associated with\n\n212\n00:08:22.885 --> 00:08:25.718\nthem, log information about them,\nI'm gonna show you how to do that.\n\n213\n00:08:25.718 --> 00:08:28.030\nI actually already ran a backup,\nwe'll show you the backup of that.\n\n214\n00:08:28.030 --> 00:08:29.301\nRestoring is very simple,\n\n215\n00:08:29.301 --> 00:08:32.681\nright below the option that says backup\nis the option that says restore.\n\n216\n00:08:32.681 --> 00:08:36.110\nYou just have to know what the path is and\nobviously have access to that information,\n\n217\n00:08:36.110 --> 00:08:38.014\nI wanna walk you through\nthat in just a second.\n\n218\n00:08:38.014 --> 00:08:41.641\nRemember some of the prior episodes\nwe've gone through in this area,\n\n219\n00:08:41.641 --> 00:08:44.596\nin this body of knowledge so\nto speak, around identity.\n\n220\n00:08:44.596 --> 00:08:48.920\nIn server 16 we talked about the ADDS,\ntalked about backing up, and\n\n221\n00:08:48.920 --> 00:08:52.809\ndealing with the schema so\nthe NTDS.ditfile and [INAUDIBLE] and\n\n222\n00:08:52.809 --> 00:08:57.310\nthe replication that takes place there for\nthings like group policies.\n\n223\n00:08:57.310 --> 00:09:00.440\nWe've talked about group policy and\nbacking up policies as well.\n\n224\n00:09:00.440 --> 00:09:02.880\nWe had a whole set of\nconversations on that.\n\n225\n00:09:02.880 --> 00:09:07.735\nWe will have some coming information in\nsome future episodes about just managing\n\n226\n00:09:07.735 --> 00:09:12.265\nthe restoration process around\nADDS with a authoritative or\n\n227\n00:09:12.265 --> 00:09:16.400\nnon-authoritative restore and how we deal\nwith those things using NTDS Util and\n\n228\n00:09:16.400 --> 00:09:18.600\nsome of the utilities and\ntools around that.\n\n229\n00:09:18.600 --> 00:09:22.500\nBut there's a lot of things that require\nour attention ADCSs are just simply one of\n\n230\n00:09:22.500 --> 00:09:26.230\nthose many areas and we have to really\nfocus on and pay attention to the care,\n\n231\n00:09:26.230 --> 00:09:29.900\ngrooming, and feeding of our services\nto ensure they work the right way.\n\n232\n00:09:29.900 --> 00:09:31.560\nSo let's take a look if you join me here.\n\n233\n00:09:31.560 --> 00:09:33.440\nI'm in the certificate authority.\n\n234\n00:09:33.440 --> 00:09:37.190\nI've right clicked, just in the same area\nI was when I showed you how to renew\n\n235\n00:09:37.190 --> 00:09:39.440\na certificate or\ntalked about doing it right here.\n\n236\n00:09:39.440 --> 00:09:42.340\nAll tasks, this case, back up the CA.\n\n237\n00:09:42.340 --> 00:09:43.450\nNow I've already done a back up,\n\n238\n00:09:43.450 --> 00:09:45.880\nwe'll go take a look at what\nthat looks like in a moment.\n\n239\n00:09:45.880 --> 00:09:48.760\nWe do have a wizard here, I just want\nto point one thing out to you when we\n\n240\n00:09:48.760 --> 00:09:51.870\nuse the wizard, if I can just click and\ngrab that window.\n\n241\n00:09:53.120 --> 00:09:57.129\nWhen we click next we're going to be\nprompted for the options, private key and\n\n242\n00:09:57.129 --> 00:10:00.893\nCA certificates, the key and the\ncertificate of the CA have to be backed up\n\n243\n00:10:00.893 --> 00:10:02.919\nin order to be able to do a restoration.\n\n244\n00:10:02.919 --> 00:10:05.670\nAnd certificate database and\ncertificate database logs.\n\n245\n00:10:05.670 --> 00:10:09.560\nSo we wanna make sure we\nare able to do that as well.\n\n246\n00:10:09.560 --> 00:10:11.720\nAnd then the first time you do this.\n\n247\n00:10:11.720 --> 00:10:14.020\nI've already done one backup,\nas I suggested to you,\n\n248\n00:10:14.020 --> 00:10:16.620\nI did this right before we got\nready to come on for the episode so\n\n249\n00:10:16.620 --> 00:10:19.525\nI already would have the backup done so\nI could show you this feature.\n\n250\n00:10:19.525 --> 00:10:22.507\nThat option box that is\nright now not grayed out but\n\n251\n00:10:22.507 --> 00:10:26.280\nis not selected where it says\nperforming incremental back up.\n\n252\n00:10:26.280 --> 00:10:28.790\nThe first time you run the back up that\nwill stay grayed out even though you\n\n253\n00:10:28.790 --> 00:10:31.500\ncheck off both boxes because\nyou have to do a full back up\n\n254\n00:10:31.500 --> 00:10:33.750\nthe first time you run\nthe back up on the CA.\n\n255\n00:10:33.750 --> 00:10:36.761\nI've done that already essentially\nby running the back up once.\n\n256\n00:10:36.761 --> 00:10:40.974\nI can now do a Delta backup, essentially\nincremental, just looking at the changes\n\n257\n00:10:40.974 --> 00:10:44.650\nsince the last time I ran the backup,\nif I choose to check that box off.\n\n258\n00:10:44.650 --> 00:10:47.440\nOr I could just do another full backup,\nthe option would be mine.\n\n259\n00:10:47.440 --> 00:10:50.080\nBut making sure you know\nthe difference between what the full\n\n260\n00:10:50.080 --> 00:10:54.670\nvs incremental backup is and obviously,\nthe benefit of one vs the other, and\n\n261\n00:10:54.670 --> 00:10:59.900\nthe ability to restore with one or\nmultiple backups if I do incrementals.\n\n262\n00:10:59.900 --> 00:11:02.427\nIs important you want to make sure\nyou're comfortable with that.\n\n263\n00:11:02.427 --> 00:11:03.780\nSo we have that option.\n\n264\n00:11:03.780 --> 00:11:05.720\nHave to specify a backup location.\n\n265\n00:11:05.720 --> 00:11:08.350\nThe note here the back up\ndirectory must be empty right.\n\n266\n00:11:08.350 --> 00:11:10.765\nWe have to back up into\nan empty directory, so\n\n267\n00:11:10.765 --> 00:11:13.752\nyou want to make sure you think\nabout that, know that and\n\n268\n00:11:13.752 --> 00:11:17.886\nhave a directory available ahead of time\nbecause if you go in and browse in some\n\n269\n00:11:17.886 --> 00:11:21.794\ninterfaces you can go browse and\nactually right click and make a folder.\n\n270\n00:11:21.794 --> 00:11:24.994\nYou're not gonna have that option here\nas you will see I'm right clicking.\n\n271\n00:11:24.994 --> 00:11:27.790\nNothing is happening,\nno make new folder button.\n\n272\n00:11:27.790 --> 00:11:29.738\nI have to have a preset folder.\n\n273\n00:11:29.738 --> 00:11:32.884\nAnd I always wondered why the default is\nsystem 32 when you would never back up\n\n274\n00:11:32.884 --> 00:11:34.742\nthere because it's not\nan empty directory and\n\n275\n00:11:34.742 --> 00:11:36.760\nit would be the last place\nyou would wanna back up.\n\n276\n00:11:36.760 --> 00:11:37.431\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n277\n00:11:37.431 --> 00:11:41.176\nI just you know it is what it is cuz I\nunderstand it's a Windows OS function,\n\n278\n00:11:41.176 --> 00:11:44.387\nthe function lives in system 32\nas one of the subdirectories so\n\n279\n00:11:44.387 --> 00:11:48.190\nI'd understand why it'd be default there\nbut just I would think the default\n\n280\n00:11:48.190 --> 00:11:51.186\nshould be like,\nhey type in the path kind of thing, right?\n\n281\n00:11:51.186 --> 00:11:55.649\nNot even a browser option, but\nI have created an empty directory,\n\n282\n00:11:55.649 --> 00:11:58.612\nwhen I ran my backup right here,\nCA backup.\n\n283\n00:11:58.612 --> 00:12:00.783\nI always just throw stuff on the desktop,\nit's so\n\n284\n00:12:00.783 --> 00:12:04.270\nmuch easier to find when I do that and\nthen it disappears when I click on it.\n\n285\n00:12:04.270 --> 00:12:07.759\nAnd you can see here that\nin the CA backup folder,\n\n286\n00:12:07.759 --> 00:12:12.202\nwhich is what we're looking at\nI have the certificate for CA.\n\n287\n00:12:12.202 --> 00:12:15.583\nI have the database folder because\nI asked for that to be backed up.\n\n288\n00:12:15.583 --> 00:12:19.622\nThat's actually the key rather I should\nsay the key as opposed to the certificate.\n\n289\n00:12:19.622 --> 00:12:24.985\nThe PIK of personal information, the\npersonal information file, and then I have\n\n290\n00:12:24.985 --> 00:12:30.440\nthe .dat file for the backup, I have a log\nfile, and I have the database itself.\n\n291\n00:12:30.440 --> 00:12:32.264\nSo I have all that information available.\n\n292\n00:12:32.264 --> 00:12:36.045\nSo I have everything I need to do\na restore, I could just take that, go, and\n\n293\n00:12:36.045 --> 00:12:39.418\nuse it on another system if I wanna\nrebuild that CA somewhere else.\n\n294\n00:12:39.418 --> 00:12:43.226\nI walk through in the show notes with you\na couple different scenarios just to give\n\n295\n00:12:43.226 --> 00:12:47.090\nyou the benefit of how would I do this if\nit was the same system, different system,\n\n296\n00:12:47.090 --> 00:12:48.660\nenterprise CA, stand alone CA.\n\n297\n00:12:48.660 --> 00:12:50.680\nI just walk though some of\nthe logic of those things.\n\n298\n00:12:50.680 --> 00:12:53.160\nBut the steps are essentially the same for\nthe most part.\n\n299\n00:12:53.160 --> 00:12:54.370\nWe do need to have the backup and\n\n300\n00:12:54.370 --> 00:12:58.510\nthen we obviously run the restore\ncapability through the console.\n\n301\n00:12:58.510 --> 00:13:04.240\nAnd we have that here,\nall tasks, restore CA.\n\n302\n00:13:04.240 --> 00:13:07.620\nWe have to shut off the certificate\nservices to do a restore, so\n\n303\n00:13:07.620 --> 00:13:08.230\nwe'd have to click OK.\n\n304\n00:13:08.230 --> 00:13:11.350\nRight?\nAnd then we get the wizard that shows up\n\n305\n00:13:11.350 --> 00:13:14.180\nessentially because we\nhave taken down the CA,\n\n306\n00:13:14.180 --> 00:13:17.310\nalthough it doesn't refresh,\nthat actually is not running right now.\n\n307\n00:13:17.310 --> 00:13:18.358\nSo just so you're aware of that.\n\n308\n00:13:18.358 --> 00:13:21.560\nIt just doesn't change the status there,\nthe console doesn't refresh.\n\n309\n00:13:21.560 --> 00:13:22.960\nBut it is turned off for the moment.\n\n310\n00:13:22.960 --> 00:13:23.975\nYou would click Next,\n\n311\n00:13:23.975 --> 00:13:27.351\nagain you would choose what you're\ngonna restore the options in the file.\n\n312\n00:13:27.351 --> 00:13:30.655\nYou would have to specify the location,\nso we'd have to go in and grab that.\n\n313\n00:13:30.655 --> 00:13:34.471\nIt does tell us for incremental restores,\nfirst select the full backup, and then\n\n314\n00:13:34.471 --> 00:13:38.185\nobviously we run with each incremental so\nyou know how to deal with that.\n\n315\n00:13:38.185 --> 00:13:39.775\nSo just be aware of that.\n\n316\n00:13:39.775 --> 00:13:42.415\nSo I did talk about the difference there,\nI'm just making sure you're\n\n317\n00:13:42.415 --> 00:13:45.815\ncomfortable with that and we would\nfinish that up, and it does update.\n\n318\n00:13:45.815 --> 00:13:48.049\nYou can see it's kinda hard to see,\nif you go full screen,\n\n319\n00:13:48.049 --> 00:13:49.332\nyou may see the change in status.\n\n320\n00:13:49.332 --> 00:13:52.494\nWhen you get out of the wizard, because\nthe wizard window pops immediately,\n\n321\n00:13:52.494 --> 00:13:53.816\nas the console status changes.\n\n322\n00:13:53.816 --> 00:13:56.035\nThe console doesn't catch up and refresh.\n\n323\n00:13:56.035 --> 00:13:59.760\nIt'd look like it's green, but then it\ngoes into the state where you can see,\n\n324\n00:13:59.760 --> 00:14:02.110\nit's kind of a white\ncircle with a black dot,\n\n325\n00:14:02.110 --> 00:14:05.480\nwhich means the services have been\nturned off during the restoration.\n\n326\n00:14:05.480 --> 00:14:09.540\nIt's easy enough to fix, we just have to\ncome back in here, and you'll see instead\n\n327\n00:14:09.540 --> 00:14:13.086\nof stop, we now have an ability to\nstart the service, and we can do that.\n\n328\n00:14:13.086 --> 00:14:15.520\nIt'll go back and\nthen as soon as you do that, it opens up.\n\n329\n00:14:15.520 --> 00:14:18.690\nGot a little green circle there And\nthe CA is back online.\n\n330\n00:14:18.690 --> 00:14:22.000\nSo just so we know how that's happening\nand kind of what's going on in there so\n\n331\n00:14:22.000 --> 00:14:23.350\nwe can see that.\n\n332\n00:14:23.350 --> 00:14:27.828\nAnd then the other thing we said we\nwould take a look at I wanna talk about.\n\n333\n00:14:27.828 --> 00:14:29.880\nLet me click here is\ncertificate templates and\n\n334\n00:14:29.880 --> 00:14:33.624\nwe can see right there that I mentioned we\ndo have four different types of templates.\n\n335\n00:14:33.624 --> 00:14:36.445\nSo if you just want to make\nsure we're comfortable with and\n\n336\n00:14:36.445 --> 00:14:40.128\naware of the difference is I know that we\nsaid that we would talk about them and\n\n337\n00:14:40.128 --> 00:14:41.641\nCherokee you promised me you.\n\n338\n00:14:41.641 --> 00:14:42.433\n&gt;&gt; I been trying Adam.\n\n339\n00:14:42.433 --> 00:14:44.160\n&gt;&gt; You even begged me and said-\n&gt;&gt; [LAUGH]\n\n340\n00:14:44.160 --> 00:14:45.820\n&gt;&gt; Let me talk about the versions and\n\n341\n00:14:45.820 --> 00:14:49.620\nme explain them, cuz I'm so\nprepared and comfortable.\n\n342\n00:14:49.620 --> 00:14:50.150\n&gt;&gt; Sure.\n\n343\n00:14:50.150 --> 00:14:52.819\n&gt;&gt; Read up on all my versions that I want\nto be the one to talks about that, but I\n\n344\n00:14:52.819 --> 00:14:55.683\nsaid no, no, no I'm going to do it because\nI don't want to put you on the spot.\n\n345\n00:14:55.683 --> 00:14:56.398\n&gt;&gt; [LAUGH].\n\n346\n00:14:56.398 --> 00:14:59.646\n&gt;&gt; And I'm only teasing we're going to\nboth talk about this template versions,\n\n347\n00:14:59.646 --> 00:15:02.756\nbut shes been after me for a couple of\nepisodes if you've been watching us.\n\n348\n00:15:02.756 --> 00:15:05.455\nIn sequence to talk about this so we\nkeep not being able to get to it because\n\n349\n00:15:05.455 --> 00:15:08.306\nthey keep coming up with all this other\ncool stuff we got to talk about first.\n\n350\n00:15:08.306 --> 00:15:09.102\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n351\n00:15:09.102 --> 00:15:11.819\nI promised we would get it in this\nepisode, and we are going to talk about\n\n352\n00:15:11.819 --> 00:15:14.376\nit so lets first talk about the fact\nthat we do have templates here.\n\n353\n00:15:14.376 --> 00:15:17.493\nBut interesting we don't see templates,\nwhen we look at a stand-alone root CA as\n\n354\n00:15:17.493 --> 00:15:19.134\nyou and\nI were chatting a little bit about.\n\n355\n00:15:19.134 --> 00:15:19.655\nRight?\n\n356\n00:15:19.655 --> 00:15:21.799\nAnd the idea is the templates\nare available to us,\n\n357\n00:15:21.799 --> 00:15:23.030\ncuz we are an enterprise CA.\n\n358\n00:15:23.030 --> 00:15:26.690\nThe templates come to us as part of\nthe designation of being an enterprise CA.\n\n359\n00:15:26.690 --> 00:15:29.527\nSo one of the first things you'll\nrealize is you don't see templates in\n\n360\n00:15:29.527 --> 00:15:31.620\nthe interface,\nwhen you look at a stand-alone CA.\n\n361\n00:15:31.620 --> 00:15:34.605\nYou see them with the enterprise C,\nso we can see that.\n\n362\n00:15:34.605 --> 00:15:36.460\nWe do have certificate templates folder.\n\n363\n00:15:36.460 --> 00:15:39.594\nAnd I mention to you,\nin one of the early episodes that we did,\n\n364\n00:15:39.594 --> 00:15:43.273\nthat templates, although there are quite\na number of them on the show and\n\n365\n00:15:43.273 --> 00:15:46.949\nI mean in a minute because there are many,\nmany more of the ones we see here\n\n366\n00:15:46.949 --> 00:15:50.626\nlurking in that folder we just don't\nsee them so we have to right click and\n\n367\n00:15:50.626 --> 00:15:54.123\ngo into manage and open a separate\nconsole essentially to see them.\n\n368\n00:15:54.123 --> 00:15:57.899\nBut there is a subset of certificate\ntemplates that are available that\n\n369\n00:15:57.899 --> 00:16:00.207\nare published and turned on, if you will.\n\n370\n00:16:00.207 --> 00:16:03.467\nIn the enterprise subordinate or root CA.\n\n371\n00:16:03.467 --> 00:16:05.802\nAnd we see them here, and I walked through\nsome of the logic, what these are.\n\n372\n00:16:05.802 --> 00:16:08.823\nAnd I showed you and explained to you,\nas we looked at the web interface for\n\n373\n00:16:08.823 --> 00:16:09.420\nenrollment.\n\n374\n00:16:09.420 --> 00:16:13.611\nThat the templates are the ones that drive\nthe forms on the web enrollment area.\n\n375\n00:16:13.611 --> 00:16:17.850\nAnd that we see the various pages based\non the templates that we were using.\n\n376\n00:16:17.850 --> 00:16:19.660\nAnd they're used to then,\nissue certificates.\n\n377\n00:16:19.660 --> 00:16:22.470\nSo we hopefully know what templates do.\n\n378\n00:16:22.470 --> 00:16:25.320\nEach template has a set of\nsettings associated with it.\n\n379\n00:16:25.320 --> 00:16:29.580\nLet's just choose the basic EFS template\nhypothetically, can look at Properties.\n\n380\n00:16:29.580 --> 00:16:31.820\nWe'll see just a general statement here.\n\n381\n00:16:31.820 --> 00:16:34.230\nThe properties that we wanna see\nare gonna be in a separate window.\n\n382\n00:16:34.230 --> 00:16:37.670\nWe're not gonna edit them and really\ninteract with the template here directly.\n\n383\n00:16:37.670 --> 00:16:39.312\nAll we see is general usage.\n\n384\n00:16:39.312 --> 00:16:42.940\nWhen you see information that's important,\nincluding null address no,\n\n385\n00:16:42.940 --> 00:16:48.130\npublic key usage list, key encipherment,\npublic key usage critical, yes.\n\n386\n00:16:48.130 --> 00:16:50.710\nSo does tell us what\nthe general statement,\n\n387\n00:16:50.710 --> 00:16:53.100\nor the practice statement for\nthe certificate is.\n\n388\n00:16:53.100 --> 00:16:59.880\nWhereas when we look at a user, and we\nlook here, we see different, there we go.\n\n389\n00:16:59.880 --> 00:17:03.310\nWe see different information\nassociated with it, the statement, or\n\n390\n00:17:03.310 --> 00:17:06.270\nthe certificate purpose statement, that\ntells us what the certificates are for.\n\n391\n00:17:06.270 --> 00:17:08.560\nThat's the extent of what\nwe see with a template.\n\n392\n00:17:08.560 --> 00:17:12.010\nWe can right click and delete it\nfrom here, removing it from use, but\n\n393\n00:17:12.010 --> 00:17:13.380\nthat's not really the full story.\n\n394\n00:17:13.380 --> 00:17:16.359\nAs a matter of fact, it's really nothing\nto speak of with regards to templates.\n\n395\n00:17:16.359 --> 00:17:19.790\nCuz the magic and the mystery of\ntemplates is in a different area.\n\n396\n00:17:19.790 --> 00:17:23.200\nSo if we right click here and\nwe choose Manage instead.\n\n397\n00:17:23.200 --> 00:17:27.070\nWe open up a separate certificate\ntemplate console, the MMC.\n\n398\n00:17:27.070 --> 00:17:30.930\nOne of those options I showed you of the\nthree that we could choose theoretically.\n\n399\n00:17:30.930 --> 00:17:34.230\nMade our own MMC for Certificate\nManagement templates was one of them.\n\n400\n00:17:34.230 --> 00:17:37.350\nThis will be essentially what\nwe're looking at the same idea.\n\n401\n00:17:37.350 --> 00:17:39.760\nAnd so when we click here,\nlet's just open this up.\n\n402\n00:17:39.760 --> 00:17:44.400\nWe are gonna see the certificate templates\nfor, in this case the enterprise root CA.\n\n403\n00:17:44.400 --> 00:17:47.290\nWe could connect to a different domain\ncontroller if you wanna manage that.\n\n404\n00:17:47.290 --> 00:17:51.480\nWe could view the OIDs, the Object\nIdentifiers for the templates here.\n\n405\n00:17:51.480 --> 00:17:53.738\nWe can centrally do these\nthings right from here,\n\n406\n00:17:53.738 --> 00:17:56.780\nrefresh us to make sure we're\nlooking at most recent lists.\n\n407\n00:17:56.780 --> 00:17:59.905\nAnd then we all the templates and if you\nnotice there are quite a few of them,\n\n408\n00:17:59.905 --> 00:18:03.294\n33 certificate templates where it's\nhard to see it's over the corner there.\n\n409\n00:18:03.294 --> 00:18:07.586\nBut 33 is that magic number as opposed\nto only about handful maybe 8 or\n\n410\n00:18:07.586 --> 00:18:11.602\n10 or 12 that are actually active\nright now that are being use.\n\n411\n00:18:11.602 --> 00:18:16.630\nSo we do have many more than what we\nare originally seeing in the area.\n\n412\n00:18:16.630 --> 00:18:18.580\nAnd I mentioned that there\nare different versions.\n\n413\n00:18:19.630 --> 00:18:23.490\nSchema version is what you see\nthe most here in the template console.\n\n414\n00:18:23.490 --> 00:18:27.140\nI sorted so\nthat we are going in descending order so\n\n415\n00:18:27.140 --> 00:18:28.320\nversion three at the top.\n\n416\n00:18:28.320 --> 00:18:32.680\nOnly one of them OCSP signing\nis a version three template.\n\n417\n00:18:32.680 --> 00:18:35.800\nFew version twos you can see there\nare things like CA exchange.\n\n418\n00:18:35.800 --> 00:18:38.530\nKey a recovery agent,\nKerberos authentication, etc.\n\n419\n00:18:38.530 --> 00:18:41.890\nAnd then the majority of them,\nroughly, probably about 20 or\n\n420\n00:18:41.890 --> 00:18:45.090\nso are version 1 templates,\ndesignated here.\n\n421\n00:18:45.090 --> 00:18:49.560\nNow the interesting thing about version\n1 is that the only we can modify with\n\n422\n00:18:49.560 --> 00:18:53.050\nthe properties of a version one\ntemplate are the permissions associated\n\n423\n00:18:53.050 --> 00:18:53.930\non the Security tab.\n\n424\n00:18:53.930 --> 00:18:55.200\nAnd I've shown you these before.\n\n425\n00:18:55.200 --> 00:18:56.310\nSo in other words we can go in and\n\n426\n00:18:56.310 --> 00:19:00.550\nmess around with read versus change or\nsomething like that or read, write,\n\n427\n00:19:00.550 --> 00:19:04.040\nallow or just allow the permissions\nin there, but that's all we can do.\n\n428\n00:19:04.040 --> 00:19:06.190\nAll the other options are lockdown.\n\n429\n00:19:06.190 --> 00:19:07.920\nLet me show you what I mean.\n\n430\n00:19:07.920 --> 00:19:12.050\nSo properties, there-\n&gt;&gt; And when we're talking about security,\n\n431\n00:19:12.050 --> 00:19:16.680\nif memory service right with the older\nversions like version one here,\n\n432\n00:19:16.680 --> 00:19:22.310\nyou have those\n&gt;&gt; Lower key links or like the older less\n\n433\n00:19:22.310 --> 00:19:27.390\ngonna wear this like I think they\nuse like lower types of encryption.\n\n434\n00:19:27.390 --> 00:19:30.400\nMaybe like or was that an option here?\n\n435\n00:19:30.400 --> 00:19:34.483\n&gt;&gt; So you will see that we do have\nchoose different cryptographic providers\n\n436\n00:19:34.483 --> 00:19:35.413\n[CROSSTALK]\n&gt;&gt; Okay.\n\n437\n00:19:35.413 --> 00:19:37.827\n[CROSSTALK]\n&gt;&gt; We're not making the choice entries\n\n438\n00:19:37.827 --> 00:19:41.090\ngreat out so\nthe CSPs would have options for that.\n\n439\n00:19:41.090 --> 00:19:46.020\nThis particular one is not really choosing\nan algorithm and a key strength per se.\n\n440\n00:19:46.020 --> 00:19:49.450\nIt's just showing us the cryptographic\nproviders that will provide that.\n\n441\n00:19:49.450 --> 00:19:51.990\nBut yeah,\nthe older templates may be using lower\n\n442\n00:19:51.990 --> 00:19:52.710\nlevel-\n&gt;&gt; Okay.\n\n443\n00:19:52.710 --> 00:19:56.290\n&gt;&gt; Cryptographic providers which would\nindicate lower level protections may or\n\n444\n00:19:56.290 --> 00:19:57.170\nmay not be available.\n\n445\n00:19:57.170 --> 00:20:00.220\nSo yeah, that is good to be aware of and\nto know.\n\n446\n00:20:00.220 --> 00:20:02.370\nExtensions are here, things like that.\n\n447\n00:20:02.370 --> 00:20:05.120\nBut notice everything is grayed\nout as I'm clicking around kinda\n\n448\n00:20:05.120 --> 00:20:06.790\nbeen just doing that while we're talking.\n\n449\n00:20:06.790 --> 00:20:10.130\nNotice I have no option to make any\nchanges in this level one template except\n\n450\n00:20:10.130 --> 00:20:14.790\nfor the permissions on level one templates\nor version 1 templates only allow me to\n\n451\n00:20:14.790 --> 00:20:19.817\nmodify other permissions as\nopposed to any of the settings.\n\n452\n00:20:19.817 --> 00:20:20.930\nAs if you will, right?\n\n453\n00:20:20.930 --> 00:20:24.730\nNow what we do is we can modify rather\ncreate a copy of this template.\n\n454\n00:20:24.730 --> 00:20:28.690\nThe best practice is never modify\nthe template, rather right-click,\n\n455\n00:20:28.690 --> 00:20:31.470\nduplicate which you'll see as\nan option and then work with a copy.\n\n456\n00:20:31.470 --> 00:20:36.910\nSo let's just make a copy of this one,\nright-click, duplicate, template.\n\n457\n00:20:36.910 --> 00:20:38.590\nLet's do that, and then when you do that,\n\n458\n00:20:38.590 --> 00:20:42.610\nyou'll see we can go in and\nyou'll see we can make changes.\n\n459\n00:20:42.610 --> 00:20:44.040\nThat's how we actually make changes and\n\n460\n00:20:44.040 --> 00:20:46.750\nthings like on\nthe cryptographic module here.\n\n461\n00:20:47.860 --> 00:20:50.920\nWe can see that we have the ability to\n\n462\n00:20:50.920 --> 00:20:55.810\nchoose a different c providers as I\nwas suggesting you were asking about.\n\n463\n00:20:55.810 --> 00:20:59.300\nThat is where is we make a duplicate\nwe could then modify this and\n\n464\n00:20:59.300 --> 00:21:03.560\nwe do have the option to be able to\nassign higher level permissions and\n\n465\n00:21:03.560 --> 00:21:07.700\nprotections based on what we do but\nwe have to modify a copy.\n\n466\n00:21:07.700 --> 00:21:08.940\nNever modify the template.\n\n467\n00:21:08.940 --> 00:21:12.800\nThe templates are lockdown to prevent\nthis kind of stuff from happening.\n\n468\n00:21:12.800 --> 00:21:17.660\nSo a version 1 template can only have\npermissions modified unless we duplicate\n\n469\n00:21:17.660 --> 00:21:21.310\nit and then make a copy of it in which\ncase we customize it to our needs and\n\n470\n00:21:21.310 --> 00:21:22.170\nwe can do that.\n\n471\n00:21:22.170 --> 00:21:25.920\nA version two template will\nhave different options,\n\n472\n00:21:25.920 --> 00:21:28.998\nlet's just take a look hypothetically\nsomething like workstation authentication.\n\n473\n00:21:28.998 --> 00:21:33.160\nYou'll see there's a lot more options then\nthere was in the version 1 template so\n\n474\n00:21:33.160 --> 00:21:34.360\nwe do have the ability to do that.\n\n475\n00:21:35.860 --> 00:21:40.160\nTo use auto enrollment minimum of version\n2 template requirements in order to do\n\n476\n00:21:40.160 --> 00:21:43.450\nan auto enrollment, meaning none of the\nversion 1 templates will support the use\n\n477\n00:21:43.450 --> 00:21:48.240\nof auto enrollment, but version 2, version\n3, and above version 4 templates do.\n\n478\n00:21:48.240 --> 00:21:52.030\nSo little subtle things you want to know\nabout, all this capture in the show notes\n\n479\n00:21:52.030 --> 00:21:54.350\nfor you, but\neven though we are talking about it here.\n\n480\n00:21:54.350 --> 00:21:55.170\nBut just be aware of that.\n\n481\n00:21:55.170 --> 00:21:58.765\nNotice we do have the ability to\nmodify other settings in the version\n\n482\n00:21:58.765 --> 00:22:00.560\n2 template besides security.\n\n483\n00:22:00.560 --> 00:22:03.530\nEven if we don't make a copy,\nwe can make changes here.\n\n484\n00:22:03.530 --> 00:22:05.440\nWhereas, in version 1\nwe're not allowed to.\n\n485\n00:22:05.440 --> 00:22:09.700\nWe're only allowed to make changes to the\nSecurity tab, so just be aware of that.\n\n486\n00:22:09.700 --> 00:22:12.110\nWe can duplicate the version 1 template,\nas I showed you,\n\n487\n00:22:12.110 --> 00:22:15.950\nessentially making it into a version\n2 template by modifying the settings.\n\n488\n00:22:15.950 --> 00:22:17.930\nAnd enabling things like auto enrollment.\n\n489\n00:22:17.930 --> 00:22:20.650\nBut in version 1 template by\ndefault unless we change it\n\n490\n00:22:20.650 --> 00:22:24.150\nwill not support auto enrollment, so\njust make sure you're aware of that and\n\n491\n00:22:24.150 --> 00:22:26.520\nagain we can make changes here\ndo whatever we need to do.\n\n492\n00:22:26.520 --> 00:22:30.470\nThings like extensions can be added and\nmodified, security can be added and\n\n493\n00:22:30.470 --> 00:22:34.950\nmodified here, key usage so\nwe can go in and edit the key usage area.\n\n494\n00:22:34.950 --> 00:22:37.480\nWe could specify digital signatures,\nand or\n\n495\n00:22:37.480 --> 00:22:40.480\ndigital signatures, and non repudiation.\n\n496\n00:22:40.480 --> 00:22:41.820\nWe could specify allow, or\n\n497\n00:22:41.820 --> 00:22:45.760\ncertain kinds of key exchanged based\non what we're doing for key generation.\n\n498\n00:22:45.760 --> 00:22:48.700\nWe could look at the cryptographic\nproviders, and change the algorithms and\n\n499\n00:22:48.700 --> 00:22:49.670\nthe key strengths.\n\n500\n00:22:49.670 --> 00:22:51.930\nWe can do all of the things that\nwe would think would be important,\n\n501\n00:22:51.930 --> 00:22:53.460\nthat we need to do.\n\n502\n00:22:53.460 --> 00:22:56.930\nVersion 3 templates,\nlet's just take a look at one of those.\n\n503\n00:22:56.930 --> 00:22:59.070\nFind one up here, there's one right there.\n\n504\n00:23:00.510 --> 00:23:03.660\nThere we go ROCSP response signing.\n\n505\n00:23:03.660 --> 00:23:07.380\nSo again you know fairly consistent\nthey look very similar to version 2.\n\n506\n00:23:07.380 --> 00:23:11.420\nThe main thing is that we support\ncryptographic next generation CSPs.\n\n507\n00:23:11.420 --> 00:23:12.530\nWe talked about this.\n\n508\n00:23:12.530 --> 00:23:16.240\nThis is support or enhanced support for\ncryptographic functions.\n\n509\n00:23:16.240 --> 00:23:19.960\nSpecifically for what's known as\nSuite B cryptographic algorithms,\n\n510\n00:23:19.960 --> 00:23:22.735\nthat's where we get into things like AES,\nmore advanced,\n\n511\n00:23:22.735 --> 00:23:27.480\nmore algorithms are supported with\nSuite B as opposed to older Suite A.\n\n512\n00:23:27.480 --> 00:23:29.090\nDash, triple desk, stuff like that.\n\n513\n00:23:29.090 --> 00:23:34.360\nSo this gives us the newest capabilities\nand support for cryptographic algorithms.\n\n514\n00:23:34.360 --> 00:23:36.410\nSo we do have for instance RSA there,\n\n515\n00:23:36.410 --> 00:23:40.290\nright, you could see where is the default\non an earlier version would have been\n\n516\n00:23:40.290 --> 00:23:43.020\nnot RS6 wouldn't have been supported or\nnot available.\n\n517\n00:23:44.020 --> 00:23:46.150\nIf I can get that to come up, there we go.\n\n518\n00:23:46.150 --> 00:23:47.750\nAnd some of the newer providers as well.\n\n519\n00:23:47.750 --> 00:23:49.161\nDSA and some of those, right?\n\n520\n00:23:49.161 --> 00:23:53.545\nSo we do have the enhanced capabilities\nthere so we will see that.\n\n521\n00:23:53.545 --> 00:23:55.648\nRSAs one of those big ones that typically.\n\n522\n00:23:55.648 --> 00:23:59.269\nPeople were thinking about and focusing\non today, a very secure algorithm,\n\n523\n00:23:59.269 --> 00:24:02.612\nvery robust, almost impossible,\nat least with current technology,\n\n524\n00:24:02.612 --> 00:24:05.540\nas far as we know,\nhas not been successfully cracked.\n\n525\n00:24:05.540 --> 00:24:06.556\nOf course I'm saying that now and\n\n526\n00:24:06.556 --> 00:24:09.143\nsomeone will see this a year from now and\ngo ah-ha, you're wrong, it was cracked.\n\n527\n00:24:09.143 --> 00:24:11.040\n&gt;&gt; [LAUGH]\n&gt;&gt; You didn't see the update,\n\n528\n00:24:11.040 --> 00:24:14.540\nbut remember, when we do a show or\nfilm this particular episode, or\n\n529\n00:24:14.540 --> 00:24:18.360\nwhatever episodes we're doing,\nit is a snapshot frozen moment in time.\n\n530\n00:24:18.360 --> 00:24:22.200\nAs of now, RSA is considered as one of the\nmost secure algorithms on the planet for\n\n531\n00:24:22.200 --> 00:24:23.270\ncommercial use.\n\n532\n00:24:23.270 --> 00:24:27.580\nThat can change in a moment's notice but\nhas not been successfully cracked.\n\n533\n00:24:27.580 --> 00:24:29.170\nThe RSA challenge has been out there for\n\n534\n00:24:29.170 --> 00:24:33.370\na long time around the algorithm,\nwas never proven to be successful.\n\n535\n00:24:33.370 --> 00:24:36.765\nRSA put out a bounty on the algorithm\nthat said, hey, have at it.\n\n536\n00:24:36.765 --> 00:24:37.640\nTry to figure it out.\n\n537\n00:24:37.640 --> 00:24:39.000\nIf you can crack it, good luck.\n\n538\n00:24:39.000 --> 00:24:40.946\nAnd nobody was able to claim the prize, so\n\n539\n00:24:40.946 --> 00:24:43.124\nit is considered a very\nsecure algorithm now.\n\n540\n00:24:43.124 --> 00:24:47.527\nIt is because of the fact that it is\nthe product of factoring incredibly\n\n541\n00:24:47.527 --> 00:24:49.850\nridiculously large prime numbers.\n\n542\n00:24:49.850 --> 00:24:52.086\nWe're not talking about like,\none, three, five and seven.\n\n543\n00:24:52.086 --> 00:24:55.432\nWe're talking about numbers with hundreds\nof places that are prime numbers, and\n\n544\n00:24:55.432 --> 00:24:56.800\nthe factoring of those numbers.\n\n545\n00:24:56.800 --> 00:25:00.000\nAnd then the distillation of that\nto generate keys as seed values is\n\n546\n00:25:00.000 --> 00:25:01.350\nessentially what's done.\n\n547\n00:25:01.350 --> 00:25:04.628\nAnd that's why it's considered to be-\n&gt;&gt; And trying to reverse engineer that,\n\n548\n00:25:04.628 --> 00:25:05.566\nyou'd have to be or\n\n549\n00:25:05.566 --> 00:25:07.680\nhave the computing power to really-\n&gt;&gt; Yeah.\n\n550\n00:25:07.680 --> 00:25:08.390\n&gt;&gt; Handle all that.\n\n551\n00:25:08.390 --> 00:25:10.063\n&gt;&gt; Or\nbe an alien who could travel in time.\n\n552\n00:25:10.063 --> 00:25:11.430\n&gt;&gt; [LAUGH]\n&gt;&gt; In which case you would go and\n\n553\n00:25:11.430 --> 00:25:12.905\nfigure it out and-\n&gt;&gt; But you never know.\n\n554\n00:25:12.905 --> 00:25:15.109\n&gt;&gt; Look, I go forward 1,000 years.\n\n555\n00:25:15.109 --> 00:25:16.083\n&gt;&gt; [LAUGH]\n&gt;&gt; I know the answer and\n\n556\n00:25:16.083 --> 00:25:17.625\nnow I can solve any problem, right?\n\n557\n00:25:17.625 --> 00:25:18.789\nAll right, so anyways, so you know.\n\n558\n00:25:18.789 --> 00:25:20.644\nAnd then, of course,\nfurther requests for hash down here.\n\n559\n00:25:20.644 --> 00:25:24.207\nYou see we do also support some\npretty high end hashing algorithms,\n\n560\n00:25:24.207 --> 00:25:28.471\nSHA512 and things like that,\nalthough we do have older ones, MB5, SHA1.\n\n561\n00:25:28.471 --> 00:25:31.810\nRemember we did say,\nSHA1 is not recommended anymore.\n\n562\n00:25:31.810 --> 00:25:35.501\nInteresting that it is the default there,\neven though we're recommending 256,\n\n563\n00:25:35.501 --> 00:25:36.830\nbut just so you know, right?\n\n564\n00:25:36.830 --> 00:25:38.130\nSo we have all of these.\n\n565\n00:25:38.130 --> 00:25:43.521\nAnd so version 3, templates for version 3,\ncertificate templates are used for\n\n566\n00:25:43.521 --> 00:25:47.208\nthat high level cryptographic\nsupport we call Suite B.\n\n567\n00:25:47.208 --> 00:25:52.133\nThe CNG, the cryptographic next generation\nsupport is the key defining characteristic\n\n568\n00:25:52.133 --> 00:25:53.440\nof that template.\n\n569\n00:25:53.440 --> 00:25:56.902\nAnd then version 4, only available for\nServer 12, forward 12,\n\n570\n00:25:56.902 --> 00:26:00.830\n12 R2, and 16, and obviously\npotentially what comes after that.\n\n571\n00:26:00.830 --> 00:26:03.498\nAnd Windows 8 forward 881 and\n10, these help\n\n572\n00:26:03.498 --> 00:26:08.300\nto determine which the operating features\nare that are supported with certificates.\n\n573\n00:26:08.300 --> 00:26:10.545\nSo they do enable newer features,\n\n574\n00:26:10.545 --> 00:26:14.195\nthings like the ability to be\nable to specify primary machine.\n\n575\n00:26:14.195 --> 00:26:18.095\nAnd as a result of that, attach\ncertificates to the primary workspace.\n\n576\n00:26:18.095 --> 00:26:20.065\nThings of that nature would happen there.\n\n577\n00:26:20.065 --> 00:26:23.630\nWe do also provide support for\ncryptographic service providers and\n\n578\n00:26:23.630 --> 00:26:27.180\nkey storage providers so\nwe can set them up and work with them.\n\n579\n00:26:27.180 --> 00:26:28.640\nBut they are unique to newer OSs,\n\n580\n00:26:28.640 --> 00:26:31.240\nso we don't see one here\njust cuz we don't have any.\n\n581\n00:26:31.240 --> 00:26:35.440\nBut if we did see one we'd see them\nbeing operating system specific\n\n582\n00:26:35.440 --> 00:26:36.272\nto those versions.\n\n583\n00:26:36.272 --> 00:26:39.270\nJust wanna make sure we're aware of\nthat and are thinking about that.\n\n584\n00:26:39.270 --> 00:26:43.550\nWe have talked about the differences\nin the thought process around\n\n585\n00:26:43.550 --> 00:26:45.030\nusing a certificate template.\n\n586\n00:26:45.030 --> 00:26:50.362\nIf we wanna take a template,\nlet's say, and go in.\n\n587\n00:26:50.362 --> 00:26:54.320\nLet me just go to properties on this one\njust so we can see here real quickly.\n\n588\n00:26:54.320 --> 00:26:56.371\nWe can see, yeah,\nwe do have permissions here,\n\n589\n00:26:56.371 --> 00:26:58.880\na little bit different than\nsome of the other permissions.\n\n590\n00:26:58.880 --> 00:27:01.490\nRemember version 2 and\nabove support auto-enroll.\n\n591\n00:27:01.490 --> 00:27:04.500\nYou could see this is a version 3,\nso auto-enroll was there.\n\n592\n00:27:04.500 --> 00:27:05.310\nSo we have full control.\n\n593\n00:27:05.310 --> 00:27:07.667\nRead, write, enroll and auto-enroll again.\n\n594\n00:27:07.667 --> 00:27:11.560\nProbably just wanna have a sense of\nthese permissions on the templates.\n\n595\n00:27:11.560 --> 00:27:13.080\nPretty self explanatory for the most part.\n\n596\n00:27:13.080 --> 00:27:17.350\nI'm sure most, if not all of you,\nwould be comfortable either explaining or\n\n597\n00:27:17.350 --> 00:27:18.740\nguessing if you didn't even know.\n\n598\n00:27:18.740 --> 00:27:19.480\nBut we want you to know.\n\n599\n00:27:19.480 --> 00:27:22.360\nWe don't want to guess\nwhat full control implies.\n\n600\n00:27:22.360 --> 00:27:26.240\nTotal control or total administrative\ncapability and oversight of,\n\n601\n00:27:26.240 --> 00:27:28.370\nin this case the use of the template.\n\n602\n00:27:28.370 --> 00:27:32.090\nSo allows a security principal to modify\nany raw attributes of that template\n\n603\n00:27:32.090 --> 00:27:33.232\nis what I'm suggesting.\n\n604\n00:27:33.232 --> 00:27:36.210\nWhereas read allows us to see\nthe certificate template but\n\n605\n00:27:36.210 --> 00:27:39.160\nperhaps not make changes to it\ndepending on what we're doing.\n\n606\n00:27:39.160 --> 00:27:43.612\nWe require a minimum read permission\nto find the templates in the ADCS or\n\n607\n00:27:43.612 --> 00:27:44.659\nABDS, rather.\n\n608\n00:27:44.659 --> 00:27:47.592\nSo as a result you'll see\nthe default permission for\n\n609\n00:27:47.592 --> 00:27:51.592\nauthenticated users is read,\nwhich means we could find the template,\n\n610\n00:27:51.592 --> 00:27:56.059\nuse it when it's available, but we're\ngoing to not necessarily have rights to\n\n611\n00:27:56.059 --> 00:28:01.040\nmodify it even though I'm an administrator\nright now and I have rights to do that.\n\n612\n00:28:01.040 --> 00:28:03.400\nI'm looking at it because I'm\na member of the domain and\n\n613\n00:28:03.400 --> 00:28:06.800\nEnterprise admins group that has read,\nwrite, and enroll, so\n\n614\n00:28:06.800 --> 00:28:09.590\nI'm able to look at and\nmake changes to the template here.\n\n615\n00:28:09.590 --> 00:28:13.720\nBut as an authenticated user, which\nadministrator happens to be as well, but\n\n616\n00:28:13.720 --> 00:28:16.660\nI have additional permissions that\ncombine to give me the sum total\n\n617\n00:28:16.660 --> 00:28:20.500\nof those permissions, right,\nbut as an authenticated user.\n\n618\n00:28:20.500 --> 00:28:24.120\nJust by myself, if I was a member\nof domain users, let's say, or\n\n619\n00:28:24.120 --> 00:28:28.790\na computer in an OU that was a member\nof a group that was authenticated,\n\n620\n00:28:28.790 --> 00:28:30.160\nI would only have rights to read.\n\n621\n00:28:30.160 --> 00:28:32.760\nWhich means I would see the template but I\nwould not be able to do anything with it.\n\n622\n00:28:32.760 --> 00:28:35.250\nSo wanna make sure we\nunderstand that logic.\n\n623\n00:28:35.250 --> 00:28:38.520\nWrite allows me to go in and\nmodify the attributes of a template.\n\n624\n00:28:38.520 --> 00:28:41.378\nThat's why admins have the ability\nto modify the template.\n\n625\n00:28:41.378 --> 00:28:45.590\nSee, we do have write as well as enroll\npermission for both Enterprise and\n\n626\n00:28:45.590 --> 00:28:48.930\ndomain admins, so we are specifying that.\n\n627\n00:28:48.930 --> 00:28:51.810\nEnroll allows me to have\neither a computer or\n\n628\n00:28:51.810 --> 00:28:54.740\na user account enrolled based\non certificate template.\n\n629\n00:28:54.740 --> 00:28:58.048\nWe have to have read permission as well\nas enroll for that to work, though.\n\n630\n00:28:58.048 --> 00:28:59.900\nSo just wanna make sure\nthat you're aware of that.\n\n631\n00:28:59.900 --> 00:29:01.510\nAnd then we have auto-enroll, and\n\n632\n00:29:01.510 --> 00:29:05.100\nauto-enroll down here is that other\npermission that's very important for us.\n\n633\n00:29:05.100 --> 00:29:09.930\nAlthough, notice, by default,\nnot selected, not enabled for\n\n634\n00:29:09.930 --> 00:29:12.870\nother Enterprise admins\nand/or domain admins, right?\n\n635\n00:29:12.870 --> 00:29:14.340\nBut we do have auto-enroll, and\n\n636\n00:29:14.340 --> 00:29:17.421\nauto-enroll allows the certificate\nto be used to auto-enroll,\n\n637\n00:29:17.421 --> 00:29:21.260\nto literally automate the process of\nenrollment for a user or a computer.\n\n638\n00:29:21.260 --> 00:29:25.150\nNow OCSP response signing would\nnot have auto-enrollment enabled.\n\n639\n00:29:25.150 --> 00:29:27.800\nThere's no reason for it to do that, but\n\n640\n00:29:27.800 --> 00:29:33.420\nwe may have auto-enrollment on something\nlike work station authentication.\n\n641\n00:29:33.420 --> 00:29:37.915\nHypothetically, that may be something that\nwould make sense and we would see that\n\n642\n00:29:37.915 --> 00:29:43.660\nauto-enroll is there and we have the\nability to enroll for domain computers.\n\n643\n00:29:43.660 --> 00:29:46.893\nBut not auto-enroll because you wanna\nbe able to control enrollment and\n\n644\n00:29:46.893 --> 00:29:49.225\nmaybe have the computer\nrequest that certificate or\n\n645\n00:29:49.225 --> 00:29:52.050\nhave validation occur before\nwe accept the assignment.\n\n646\n00:29:52.050 --> 00:29:54.420\nSo you can see and think through\nthe logic of whether this would or\n\n647\n00:29:54.420 --> 00:29:56.010\nwould not make sense.\n\n648\n00:29:56.010 --> 00:29:58.750\nBut you could see the different\npermissions were assigned\n\n649\n00:29:58.750 --> 00:30:02.960\nto different groups of users based on\nthe kind of template that we are seeing.\n\n650\n00:30:02.960 --> 00:30:06.590\nWe have domain computers on work\nstation authentication as we need all\n\n651\n00:30:06.590 --> 00:30:09.820\nthe computers in the domain to be able to\nhave a certificate to authenticate with,\n\n652\n00:30:09.820 --> 00:30:14.100\nwhereas domain computers don't belong\nin OCSP remote response signing\n\n653\n00:30:14.100 --> 00:30:16.620\ncuz they're not gonna be consuming\nthe certificate normally.\n\n654\n00:30:16.620 --> 00:30:21.150\nSo it does depend on what we are looking\nat and just how we are setting that up.\n\n655\n00:30:21.150 --> 00:30:24.700\nAnd we can see as we look across these\nthat there will be different options,\n\n656\n00:30:24.700 --> 00:30:26.450\nkey recovery agent.\n\n657\n00:30:26.450 --> 00:30:29.380\nIf we look, for instance,\nat this particular template as well.\n\n658\n00:30:30.560 --> 00:30:31.426\nTry that one more time.\n\n659\n00:30:35.244 --> 00:30:39.450\nAnd there we go, choose Properties, there.\n\n660\n00:30:40.940 --> 00:30:41.497\nIs it me?\n\n661\n00:30:41.497 --> 00:30:42.220\nAm I only clicking like?\n\n662\n00:30:42.220 --> 00:30:43.830\n&gt;&gt; It's playing a game with you here,\nAdam.\n\n663\n00:30:43.830 --> 00:30:44.330\n&gt;&gt; It is.\n\n664\n00:30:46.320 --> 00:30:48.530\nOkay, let's play hide the property window.\n\n665\n00:30:48.530 --> 00:30:49.580\nWhere did it go?\n\n666\n00:30:52.320 --> 00:30:53.520\nLet's try this one more time.\n\n667\n00:30:53.520 --> 00:30:56.880\nAll right, let me go back to\nthe certificate template console.\n\n668\n00:30:56.880 --> 00:30:57.910\nLove that latency.\n\n669\n00:30:57.910 --> 00:30:59.830\nBoy, just can't say enough\ngood stuff about that.\n\n670\n00:30:59.830 --> 00:31:01.530\nAll right, so\nlet's try this one more time.\n\n671\n00:31:01.530 --> 00:31:02.560\nLet's right-click there.\n\n672\n00:31:03.930 --> 00:31:05.900\nTry to be slow and methodical.\n\n673\n00:31:05.900 --> 00:31:10.290\nI will speak slowly and\nI will carry a big mouse.\n\n674\n00:31:10.290 --> 00:31:11.307\nAll right, so let's go here.\n\n675\n00:31:11.307 --> 00:31:12.570\nLet's go to Security.\n\n676\n00:31:12.570 --> 00:31:16.883\nNow we can see again something like\nDomain Admins, Enterprise Admins, right?\n\n677\n00:31:16.883 --> 00:31:21.990\nYou don't tend to see auto-enroll assigned\nfor many of these templates automatically.\n\n678\n00:31:21.990 --> 00:31:27.100\nYou tend to add that in and perhaps enable\nthat as a permission assigned to a certain\n\n679\n00:31:27.100 --> 00:31:30.400\ngroup or a certain cross section\nof systems that may require it.\n\n680\n00:31:30.400 --> 00:31:31.900\nBut it's not normally in the template.\n\n681\n00:31:31.900 --> 00:31:33.660\nSo I just want you to see it,\nunderstand that.\n\n682\n00:31:33.660 --> 00:31:37.184\nBut just understand that we would normally\nnot see auto-enrollment assigned,\n\n683\n00:31:37.184 --> 00:31:38.788\neven though it is a permission that,\n\n684\n00:31:38.788 --> 00:31:42.031\nmore often than not, we will potentially\nhave to work with at some point.\n\n685\n00:31:42.031 --> 00:31:43.650\nAll right, so we do see templates here.\n\n686\n00:31:43.650 --> 00:31:48.500\nWe can see that we are able to duplicate,\nand to let's say work with one.\n\n687\n00:31:48.500 --> 00:31:51.551\nYou can see here, make a copy of one,\nlet's say, right?\n\n688\n00:31:51.551 --> 00:31:52.476\nSo we could do that.\n\n689\n00:31:52.476 --> 00:31:56.200\nModify the properties, and\nof course, as a result, right,\n\n690\n00:32:01.071 --> 00:32:07.430\nAs a result, we can go in,\none more time, there we go.\n\n691\n00:32:07.430 --> 00:32:11.426\nAs a result, we can go in and either\ndecide to make a change with the domain\n\n692\n00:32:11.426 --> 00:32:16.550\ncontroller we are focusing on to manage or\nwe can come back here, right?\n\n693\n00:32:16.550 --> 00:32:21.110\nAnd we can go ahead and\nwe can bring in a certificate from that\n\n694\n00:32:21.110 --> 00:32:23.870\ncache of certificates that\nwe were managing just now.\n\n695\n00:32:23.870 --> 00:32:28.150\nWe do that by coming back to the\ncertificate template folder on the CA, so\n\n696\n00:32:28.150 --> 00:32:31.370\nback in the main administrative console,\nas you can see.\n\n697\n00:32:31.370 --> 00:32:34.760\nRight-click instead of manage where we\ngo to configure them, make our copies,\n\n698\n00:32:34.760 --> 00:32:36.750\nprogram them, set them up,\nsign permissions,\n\n699\n00:32:36.750 --> 00:32:40.285\nall the backend work we would do\nto make sure they're available.\n\n700\n00:32:40.285 --> 00:32:44.365\nThen what we do is new certificate\ntemplates to assure template issue.\n\n701\n00:32:44.365 --> 00:32:45.319\nWe will then come in and\n\n702\n00:32:45.319 --> 00:32:47.794\nwe see the complete list of\ntemplates that are available.\n\n703\n00:32:47.794 --> 00:32:50.909\nWe just have to choose the one,\nthere's our version three template, for\n\n704\n00:32:50.909 --> 00:32:53.181\ninstance, that maybe we wanna go ahead and\nbring in.\n\n705\n00:32:53.181 --> 00:32:55.504\nWe could go ahead and do that, click OK.\n\n706\n00:32:55.504 --> 00:32:58.794\nThat now gets added right here and\nthen we can now use that template and\n\n707\n00:32:58.794 --> 00:33:03.260\nhave that available, whatever that may\nmean, however, it's been programmed.\n\n708\n00:33:03.260 --> 00:33:07.290\nAnd remember, when we come in here and\nwe look at Properties of the template\n\n709\n00:33:07.290 --> 00:33:10.470\nwhich is added to the list here,\nwe're not modifying the actual settings.\n\n710\n00:33:10.470 --> 00:33:13.610\nAll we're doing is seeing the usage\nstatement of what it's gonna be used for.\n\n711\n00:33:13.610 --> 00:33:16.040\nIt's already been programmed in\ntheory in the other console.\n\n712\n00:33:16.040 --> 00:33:18.461\nIf we haven't done that, then we're\nstuck with the default settings,\n\n713\n00:33:18.461 --> 00:33:19.419\nwe may want to make changes.\n\n714\n00:33:19.419 --> 00:33:22.970\nAnd so if we don't like what we have here,\nwe can delete that.\n\n715\n00:33:22.970 --> 00:33:25.000\nAre we sure?\n\n716\n00:33:25.000 --> 00:33:27.501\nYeah, now we didn't delete\nit out of the cache,\n\n717\n00:33:27.501 --> 00:33:29.340\nwe just deleted it out of this list.\n\n718\n00:33:29.340 --> 00:33:34.131\nIf we go back and we go to Manage, you'll\nsee that that template is still sitting\n\n719\n00:33:34.131 --> 00:33:38.890\nin the Template Master File, the list\nof all the templates that are there.\n\n720\n00:33:38.890 --> 00:33:41.820\nAll we do is delete the reference to\nthe copy that we wanted to load into\n\n721\n00:33:41.820 --> 00:33:44.840\nthe certificate environment,\nthe managed environment.\n\n722\n00:33:44.840 --> 00:33:47.618\nSo we just remove that instance but\nthe original template is still intact so\n\n723\n00:33:47.618 --> 00:33:50.262\nwe're not getting rid of that when we\ndo a delete from the main console,\n\n724\n00:33:50.262 --> 00:33:52.002\ncuz sometimes people\nare worried about that.\n\n725\n00:33:52.002 --> 00:33:55.770\nThey got them deleted, I don't have\na copy of it, now I'm not gonna have it.\n\n726\n00:33:55.770 --> 00:33:56.410\nQuite the opposite.\n\n727\n00:33:56.410 --> 00:34:00.190\nAll you're doing is removing the copy\nthat you made available by publishing it.\n\n728\n00:34:00.190 --> 00:34:01.390\nThe original is still in tact and\n\n729\n00:34:01.390 --> 00:34:04.030\nhas not been modified in any way,\nso just be aware of that.\n\n730\n00:34:04.030 --> 00:34:06.860\nAnd we can obviously modify\na change is here made,\n\n731\n00:34:06.860 --> 00:34:09.760\ncan then be pushed and updated out\nto the template, if we need to.\n\n732\n00:34:09.760 --> 00:34:12.874\nSo it's all these different ways we can\nuse these templates and manage with them.\n\n733\n00:34:12.874 --> 00:34:15.770\nSo I did promise you we'll\ntalk about it and we did.\n\n734\n00:34:15.770 --> 00:34:19.650\n&gt;&gt; All right, so when it comes to\nmanaging our certificate services here,\n\n735\n00:34:19.650 --> 00:34:21.830\nAdam, are we getting\nclose to the finish line,\n\n736\n00:34:21.830 --> 00:34:23.769\ndo we have another show coming or-\n&gt;&gt; We'll,\n\n737\n00:34:23.769 --> 00:34:26.085\nwe've talked about auto enrollment,\nthe idea behind it.\n\n738\n00:34:26.085 --> 00:34:27.443\nWe talked about manual enrollment.\n\n739\n00:34:27.443 --> 00:34:29.990\nWe talked about\nCA Web Enrollment a little bit.\n\n740\n00:34:29.990 --> 00:34:31.750\nAnd we probably wanna go back and\n\n741\n00:34:31.750 --> 00:34:33.330\njust make sure we're\ncomfortable with those terms.\n\n742\n00:34:33.330 --> 00:34:37.291\nProbably wanna have one more show, perhaps\njust to define those credential roaming,\n\n743\n00:34:37.291 --> 00:34:40.182\nI know we mentioned quickly,\nwe took a look at a setting there.\n\n744\n00:34:40.182 --> 00:34:42.800\nAnd how we would enable that,\nbut may wanna just go back and\n\n745\n00:34:42.800 --> 00:34:46.032\nmaybe let's talk about some vocabulary\nrelated to some of this stuff.\n\n746\n00:34:46.032 --> 00:34:48.420\nJust to make sure we define\nthat a little bit more.\n\n747\n00:34:48.420 --> 00:34:50.962\nMaybe play around with a couple more\nlittle small items off in the corner,\n\n748\n00:34:50.962 --> 00:34:53.187\njust to make sure we're comfortable\nwith some of those things.\n\n749\n00:34:53.187 --> 00:34:56.620\nSo probably one more show to come back and\njust finalize on before we finish up.\n\n750\n00:34:56.620 --> 00:34:57.612\n&gt;&gt; Okay, but we did get through templates.\n\n751\n00:34:57.612 --> 00:34:58.367\n&gt;&gt; We did.\n\n752\n00:34:58.367 --> 00:35:00.560\n&gt;&gt; I mean, we finally got there,\nso that was awesome.\n\n753\n00:35:00.560 --> 00:35:01.810\nSo thank you for your time, Adam.\n\n754\n00:35:01.810 --> 00:35:03.290\nBut thank you for your time, as well.\n\n755\n00:35:03.290 --> 00:35:05.104\nBut stay tuned,\nwe have more information headed your way.\n\n756\n00:35:05.104 --> 00:35:07.101\nFor this show,\nwe'll go ahead and sign out.\n\n757\n00:35:07.101 --> 00:35:08.447\nI've been your host, Cherokee Boose.\n\n758\n00:35:08.447 --> 00:35:09.690\n&gt;&gt; I am Adam Gordon.\n\n759\n00:35:09.690 --> 00:35:12.917\n&gt;&gt; See you next time here at ITProTV.\n\n760\n00:35:12.917 --> 00:35:18.781\n[MUSIC]\n\n761\n00:35:18.781 --> 00:35:21.719\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "231883551"
        },
        {
          "description": "In this episode, Adam and Cherokee continue to discuss certificate services. Specifically, they look at ways to deploy and manage certificates. Adam creates a Secure User template and shows how to link a certificate through group policy to set up auto enrollment. Next, they talk about what an enrollment agent is where you would configure it.",
          "length": "1984",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-2-1-auto_enrollment_and_key_archiving-083117-PGM.00_00_11_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-2-1-auto_enrollment_and_key_archiving-083117-PGM.00_00_11_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-2-1-auto_enrollment_and_key_archiving-083117-PGM.00_00_11_25.Still001-sm.jpg",
          "title": "Auto Enrollment and Key Archiving",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:01.393\nWelcome to ITProTV.\n\n2\n00:00:01.393 --> 00:00:02.921\nI'm your host, Don Pezet.\n\n3\n00:00:02.921 --> 00:00:05.600\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Coming at you live from\n\n4\n00:00:05.600 --> 00:00:06.436\nSan Francisco, California.\n\n5\n00:00:06.436 --> 00:00:08.301\n[MUSIC]\n\n6\n00:00:08.301 --> 00:00:12.113\n&gt;&gt; You're watching ITProTV.\n\n7\n00:00:12.113 --> 00:00:15.200\n&gt;&gt; Good morning, good evening,\ngood afternoon, wherever you are.\n\n8\n00:00:15.200 --> 00:00:18.870\nThank you for joining us for\nanother great episode here at ITProTV.\n\n9\n00:00:18.870 --> 00:00:20.750\nI'm your host, Cherokee Boose.\n\n10\n00:00:20.750 --> 00:00:24.530\nIn this episode, we'll be taking a look\nat auto enrollment and key archiving.\n\n11\n00:00:24.530 --> 00:00:28.790\nAnd back with us in studios today we\nhave Microsoft expert, Adam Gordon.\n\n12\n00:00:28.790 --> 00:00:29.840\nHow's it going today, Adam?\n\n13\n00:00:29.840 --> 00:00:30.450\n&gt;&gt; It's going well.\n\n14\n00:00:30.450 --> 00:00:31.840\nHopefully it goes well for everybody.\n\n15\n00:00:31.840 --> 00:00:33.920\nAnd good day wherever you may be.\n\n16\n00:00:33.920 --> 00:00:36.830\nThat's just a shorter way of\nsaying all that great stuff\n\n17\n00:00:36.830 --> 00:00:38.570\nCherokee was just throwing out there.\n\n18\n00:00:38.570 --> 00:00:40.000\nIt is, at some point,\n\n19\n00:00:40.000 --> 00:00:43.090\nanywhere in the world, always an\nopportunity to say good morning, good day,\n\n20\n00:00:43.090 --> 00:00:47.140\ngood evening, or in general, just\nhello to anybody who may be listening.\n\n21\n00:00:47.140 --> 00:00:50.357\nSo we're glad to have you join us, and\nhopefully you will look forward to this\n\n22\n00:00:50.357 --> 00:00:52.201\nconversation as much as Cherokee and\nI are.\n\n23\n00:00:52.201 --> 00:00:54.566\nWe're just chatting before\nwe start our episode,\n\n24\n00:00:54.566 --> 00:00:58.471\ntalking about how we're looking forward\nto talking about this stuff, exciting and\n\n25\n00:00:58.471 --> 00:01:00.795\na very,\nvery cool discussion we're gonna have.\n\n26\n00:01:00.795 --> 00:01:04.504\nWe've been talking up until this\npoint with some of our episodes,\n\n27\n00:01:04.504 --> 00:01:08.745\nencourage you to go back take a look at\nthe entire group of discussions we've\n\n28\n00:01:08.745 --> 00:01:11.481\nbeen having around certificates,\naround PKI.\n\n29\n00:01:11.481 --> 00:01:13.550\nA lot of interesting information there.\n\n30\n00:01:13.550 --> 00:01:16.510\nContinuing our conversations\naround identify in server,\n\n31\n00:01:16.510 --> 00:01:20.750\nWindows Server 16 overall,\nfocusing in on ADCS.\n\n32\n00:01:20.750 --> 00:01:25.730\nBut as a subset of what we do\nwith certificate services, MPKI,\n\n33\n00:01:25.730 --> 00:01:29.910\nwe talked a little bit, especially in\nour prior episode right before this one,\n\n34\n00:01:29.910 --> 00:01:31.955\nabout certificate life cycle management.\n\n35\n00:01:31.955 --> 00:01:36.400\nWe did spend some time talking\n\n36\n00:01:36.400 --> 00:01:39.200\nabout certificate revocation\nlists amongst some other things.\n\n37\n00:01:39.200 --> 00:01:43.190\nTalked about how enrollment using\ncertificates can be driven.\n\n38\n00:01:43.190 --> 00:01:46.180\nI spent a little bit of time going\nover the concepts of group policy.\n\n39\n00:01:46.180 --> 00:01:49.695\nHow to reach backwards into\nthe group policy conversations.\n\n40\n00:01:49.695 --> 00:01:52.395\nPull that whole idea of group\npolicy management forward,\n\n41\n00:01:52.395 --> 00:01:55.225\nlink it to the idea of\ncertificate management.\n\n42\n00:01:55.225 --> 00:01:58.405\nWant to go back and really drill down\na little bit on that more formally.\n\n43\n00:01:58.405 --> 00:02:02.967\nAlso we talked about templates, the value\nof templates in an enterprise PKI.\n\n44\n00:02:02.967 --> 00:02:05.487\nI want to link those concepts together.\n\n45\n00:02:05.487 --> 00:02:09.057\nSo I thought we would do a little skills\nbased conversation, pull out some of\n\n46\n00:02:09.057 --> 00:02:12.457\nthe objectives for the exam,\ndrill down on them a little more formally.\n\n47\n00:02:12.457 --> 00:02:14.177\nSo that way we could show them to you and\n\n48\n00:02:14.177 --> 00:02:17.158\nalso narrate through the process\nof what we do with them.\n\n49\n00:02:17.158 --> 00:02:20.858\nWe're gonna do a little quick discussion\non certificate auto enrollment, go back,\n\n50\n00:02:20.858 --> 00:02:22.928\nlook at the template interface.\n\n51\n00:02:22.928 --> 00:02:25.738\nShow you how to pull the template forward,\ncreate a duplicate of it,\n\n52\n00:02:25.738 --> 00:02:28.788\nmanage it, set it up,\nlink it to a group policy and\n\n53\n00:02:28.788 --> 00:02:32.228\nuse to drive user based auto\nenrollment of certificates.\n\n54\n00:02:32.228 --> 00:02:35.248\nRemember, the idea of auto\nenrollment is the idea of literally,\n\n55\n00:02:35.248 --> 00:02:36.800\njust what the name implies.\n\n56\n00:02:36.800 --> 00:02:41.990\nThe idea of taking a process, in this case\nassigning the certificate to either a user\n\n57\n00:02:41.990 --> 00:02:45.690\nor a computer, linking it to\ntheir identity, in other words,\n\n58\n00:02:45.690 --> 00:02:49.640\nallowing them to have access to it and\nmaking it available to them.\n\n59\n00:02:49.640 --> 00:02:52.460\nAnd allowing them to benefit from,\nin this case,\n\n60\n00:02:52.460 --> 00:02:55.470\nthe extension of trust that\nthe certificate implies.\n\n61\n00:02:55.470 --> 00:02:58.800\nWe've talked about the idea of\nthe trust chain and the fact that as,\n\n62\n00:02:58.800 --> 00:03:02.930\nthrough the hierarchy certificates\nare issued, we are essentially\n\n63\n00:03:02.930 --> 00:03:07.300\ndelivering trust to the end user or\nthe end point that's gonna consume that\n\n64\n00:03:07.300 --> 00:03:12.250\ncertificate via a hierarchy of\nintermediary certificate issuers.\n\n65\n00:03:12.250 --> 00:03:16.856\nSo we're gonna use that though process and\ninstead of having to have the user go and\n\n66\n00:03:16.856 --> 00:03:18.940\nmake a request for the certificate.\n\n67\n00:03:18.940 --> 00:03:22.034\nWe've talked about what that\nthought process may look like,\n\n68\n00:03:22.034 --> 00:03:26.570\nhow we can use the web enrollment feature\nto go to the web, enable page for the CA.\n\n69\n00:03:26.570 --> 00:03:28.680\nWhether it's an Enterprise CA or\n\n70\n00:03:28.680 --> 00:03:32.490\nit is a stand-alone CA with\na web enrollment capability.\n\n71\n00:03:32.490 --> 00:03:34.560\nOn either of those two thought process, or\n\n72\n00:03:34.560 --> 00:03:38.030\neither of those two ways in\nwhich we could set up the CA.\n\n73\n00:03:38.030 --> 00:03:42.020\nAnd we're then able to make a request,\nhave it configured,\n\n74\n00:03:42.020 --> 00:03:45.210\nhave it issued assuming that\nthe certificate credentials,\n\n75\n00:03:45.210 --> 00:03:49.590\nthe credentials of the user or the device\nrequesting, are authenticated in some way.\n\n76\n00:03:49.590 --> 00:03:52.610\nIf it's an Enterprise CA,\nwe can automate that process.\n\n77\n00:03:52.610 --> 00:03:56.120\nIf it's a stand alone CA,\nsimply more of a manual process.\n\n78\n00:03:56.120 --> 00:04:00.530\nThe certificate administrator or\nmanager of the CA solution has to go in,\n\n79\n00:04:00.530 --> 00:04:03.090\nintervene, and\ndecide to issue that certificate.\n\n80\n00:04:03.090 --> 00:04:05.790\nBut either way,\nwe're able to provide that process.\n\n81\n00:04:05.790 --> 00:04:09.560\nBut the user has to get involved to make\nthe request and then they have to wait and\n\n82\n00:04:09.560 --> 00:04:12.400\nprobably download and\ninstall that certificate.\n\n83\n00:04:12.400 --> 00:04:16.590\nAuto enrollment allows\nthe administrator of the CA\n\n84\n00:04:16.590 --> 00:04:19.740\nenvironment to set up a template,\nspecify the permissions and\n\n85\n00:04:19.740 --> 00:04:23.750\nthe associated things the certificate\nwill allow the user of the device to do.\n\n86\n00:04:23.750 --> 00:04:25.830\nDo auto-enrollment on either side.\n\n87\n00:04:25.830 --> 00:04:28.650\nWe're gonna focus on\nusers in this example.\n\n88\n00:04:28.650 --> 00:04:32.310\nWe're then able to create a template,\nmanage that template, publish it,\n\n89\n00:04:32.310 --> 00:04:33.000\nmake it available.\n\n90\n00:04:33.000 --> 00:04:35.910\nWe've walked you through that process,\nI'll show you how to do that again.\n\n91\n00:04:35.910 --> 00:04:39.160\nWe'll then go into the Group Policy\nEditor, create a group policy.\n\n92\n00:04:39.160 --> 00:04:41.470\nI've already got a group policy set up and\n\n93\n00:04:41.470 --> 00:04:43.430\nI've got the auto-enrollment\nfeature configured.\n\n94\n00:04:43.430 --> 00:04:44.760\nWe'll just remind you of where that is,\n\n95\n00:04:44.760 --> 00:04:47.690\nin the Public Key Policies\ninside the Settings.\n\n96\n00:04:47.690 --> 00:04:51.660\nAnd so, we'll kinda tie this all together\nfor the first part of our conversation.\n\n97\n00:04:51.660 --> 00:04:54.770\nAnd then as we do that,\nwe'll then be able to look ahead and\n\n98\n00:04:54.770 --> 00:05:00.670\nthink about what do we now do with the\nPKI, on the certificate authority side.\n\n99\n00:05:00.670 --> 00:05:03.798\nHow do we deal with archiving\nof the keys that are so\n\n100\n00:05:03.798 --> 00:05:05.964\nimportant for us to manage the CA?\n\n101\n00:05:05.964 --> 00:05:07.110\nAnd we're gonna talk more about that.\n\n102\n00:05:07.110 --> 00:05:09.072\nWe hinted at that,\nshowed you a little bit of that.\n\n103\n00:05:09.072 --> 00:05:12.820\nWhen we did the backup and restore\nconversation in one of our prior episodes.\n\n104\n00:05:12.820 --> 00:05:17.480\nWe're gonna go back and actually create\na key recovery agent certificate.\n\n105\n00:05:17.480 --> 00:05:20.480\nWe're then gonna be able to\nuse that certificate template\n\n106\n00:05:20.480 --> 00:05:24.420\nto issue a certificate to me,\nlet's say, as the administrator.\n\n107\n00:05:24.420 --> 00:05:26.790\nWe'll walk you through the process\nof what goes on there as well.\n\n108\n00:05:26.790 --> 00:05:29.840\nSo let's start by jumping in over here,\nif we can.\n\n109\n00:05:29.840 --> 00:05:35.180\nAnd if you want to join me on the machine,\nwe are looking at our domain based,\n\n110\n00:05:35.180 --> 00:05:39.029\nor Enterprise root CA,\nPractice Labs Plat VM01CA.\n\n111\n00:05:39.029 --> 00:05:41.650\nSo we got certificate authority\nalready enabled to setup.\n\n112\n00:05:41.650 --> 00:05:46.900\nWe've gone ahead, and just to remind you,\nalways taken opportunity to show you,\n\n113\n00:05:46.900 --> 00:05:49.570\nwhat we do, and\nhow we do it just before we get started.\n\n114\n00:05:49.570 --> 00:05:53.120\nI've done the back end work on this and\nI've shown you several times already.\n\n115\n00:05:53.120 --> 00:05:56.660\nWe will use PowerShell just to\nstand up and configure the CA, so\n\n116\n00:05:56.660 --> 00:06:00.750\nadd Windows feature,\nwrite name ADCS, cert authority,\n\n117\n00:06:00.750 --> 00:06:04.260\nADCS web enrollment,\nincluded our management tools there.\n\n118\n00:06:04.260 --> 00:06:08.125\nWent ahead and installed the ADCS\ncertification authority or\n\n119\n00:06:08.125 --> 00:06:12.105\nrather use the cmdlet to install\nthese certifications authority.\n\n120\n00:06:12.105 --> 00:06:16.485\nCA type, Enterprise root CA, you've seen\nme do both Enterprise root CA there,\n\n121\n00:06:16.485 --> 00:06:19.720\nEnterprise subordinate CA,\nstandalone root CA,\n\n122\n00:06:19.720 --> 00:06:24.680\ndemoed through various episodes, up until\nnow, different ways we could do this.\n\n123\n00:06:24.680 --> 00:06:25.890\nReminding you of that.\n\n124\n00:06:25.890 --> 00:06:29.000\nAlso just reminding you that\nthe output here that we look for\n\n125\n00:06:29.000 --> 00:06:33.010\nas a success is errorid 0\nunderneath these activities.\n\n126\n00:06:33.010 --> 00:06:38.100\nSo that way, unlike at the top, where we\nsee Success True and Exit Code Success.\n\n127\n00:06:38.100 --> 00:06:43.809\nErrorid 0 as the output for\nthe install-ADCSCertificationAuthority and\n\n128\n00:06:43.809 --> 00:06:48.220\ninstall-adcswebenrollment cmdlets\nis what we expect.\n\n129\n00:06:48.220 --> 00:06:50.170\nSo we've done all that ahead of time.\n\n130\n00:06:50.170 --> 00:06:51.330\nStood up our CA.\n\n131\n00:06:51.330 --> 00:06:52.750\nIt's all ready to go.\n\n132\n00:06:52.750 --> 00:06:56.350\nI'm in the certificate templates folder\nand you'll notice here I have two\n\n133\n00:06:56.350 --> 00:06:59.990\ncertificate templates that we\nprobably haven't seen before.\n\n134\n00:06:59.990 --> 00:07:02.150\nOne of them I've labelled secure user and\n\n135\n00:07:02.150 --> 00:07:04.170\nI'll explain how I got\nthis in just a minute.\n\n136\n00:07:04.170 --> 00:07:05.630\nThe other is the key recovery agent,\n\n137\n00:07:05.630 --> 00:07:08.300\nwhich we're gonna use for\npart two of our demonstration.\n\n138\n00:07:08.300 --> 00:07:11.760\nWhat I did to be able to enable\nthese templates is I went in\n\n139\n00:07:11.760 --> 00:07:15.630\nthe certificate templates area,\nwhere I clicked Manage.\n\n140\n00:07:15.630 --> 00:07:20.230\nOpen up a separate MMC with\nthe certificate templates management\n\n141\n00:07:20.230 --> 00:07:20.760\ncapability.\n\n142\n00:07:20.760 --> 00:07:21.890\nSo we've done this before.\n\n143\n00:07:21.890 --> 00:07:22.790\nWe'll open this again.\n\n144\n00:07:22.790 --> 00:07:26.520\nWe went through and talked about our\ncertificate versions in a prior episode.\n\n145\n00:07:26.520 --> 00:07:29.030\nUse this template in this\narea to be able to do that.\n\n146\n00:07:29.030 --> 00:07:30.660\nSo if you haven't seen that or\n\n147\n00:07:30.660 --> 00:07:33.280\ndon't remember that,\nimportant to go back and take a look.\n\n148\n00:07:33.280 --> 00:07:36.430\nRemember there are four certificate\nversions that we detail out.\n\n149\n00:07:36.430 --> 00:07:39.000\nTalk about v1, 2, 3, 4.\n\n150\n00:07:39.000 --> 00:07:40.360\nWe went through, took a look at them.\n\n151\n00:07:40.360 --> 00:07:42.690\nTalked about the key\ndefining characteristic or\n\n152\n00:07:42.690 --> 00:07:45.060\ncharacteristics of those.\n\n153\n00:07:45.060 --> 00:07:48.610\nIf you remember, for instance, I'm going\nto quiz Cherokee here real quickly see if\n\n154\n00:07:48.610 --> 00:07:50.370\nshe was paying attention to our episode.\n\n155\n00:07:50.370 --> 00:07:53.640\nSo you remember the key to finding\ncharacteristic of version 1 with\n\n156\n00:07:53.640 --> 00:07:54.830\nthe version 1 template was?\n\n157\n00:07:54.830 --> 00:07:56.240\nYou said, it was many things, but\n\n158\n00:07:56.240 --> 00:08:00.920\nit was kinda something in particular that\nreally defined version 1 template for us.\n\n159\n00:08:00.920 --> 00:08:01.511\nDo you have idea what it was?\n\n160\n00:08:01.511 --> 00:08:04.707\n&gt;&gt; So we're looking at to\nthe properties were all grade out.\n\n161\n00:08:04.707 --> 00:08:07.540\nWe really couldn't change anything and\n\n162\n00:08:07.540 --> 00:08:10.878\nwe did see that Lower\nencryption scheme there.\n\n163\n00:08:10.878 --> 00:08:13.296\nI know, I remember talking about that but\n\n164\n00:08:13.296 --> 00:08:17.110\nI don't know if that was the key\ndefining element, am I missing?\n\n165\n00:08:17.110 --> 00:08:18.050\n&gt;&gt; Kind of not really.\n\n166\n00:08:18.050 --> 00:08:22.480\nThat was more for\nversion two and version three.\n\n167\n00:08:22.480 --> 00:08:24.930\nVersion one, you're on the right track,\nsee a lot of stuff is grayed out.\n\n168\n00:08:24.930 --> 00:08:27.555\nThe key characteristic of version one is\nthat we're not able to modify anything\n\n169\n00:08:27.555 --> 00:08:29.925\nother than security tab,\nthe permissions, right, in the template.\n\n170\n00:08:29.925 --> 00:08:31.859\n&gt;&gt; Yes, okay.\nI was thinking but you helps me with that.\n\n171\n00:08:31.859 --> 00:08:33.431\n&gt;&gt; That would be the key\ncharacteristic there.\n\n172\n00:08:33.431 --> 00:08:34.531\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n173\n00:08:34.531 --> 00:08:38.269\nthen we did what you were discussing and\ntalked about that more in version two, and\n\n174\n00:08:38.269 --> 00:08:40.671\nversion three templates,\nas we added support for.\n\n175\n00:08:40.671 --> 00:08:44.968\nAnd then version four for the newer suite\nB cryptographic algorithms, the CNG,\n\n176\n00:08:44.968 --> 00:08:47.446\nthe cryptographic new\ngen support as we said.\n\n177\n00:08:47.446 --> 00:08:48.298\n&gt;&gt; Yes.\n\n178\n00:08:48.298 --> 00:08:49.126\n&gt;&gt; So\nthat was some of the later templates-\n\n179\n00:08:49.126 --> 00:08:50.490\n&gt;&gt; Not Start Trek but [LAUGH].\n\n180\n00:08:50.490 --> 00:08:54.850\n&gt;&gt; Not The Next Generation on Star Trek\nbut next generation of our suite of\n\n181\n00:08:54.850 --> 00:08:58.310\ncryptographic algorithms, what we call\nsuite B or cryptographic suite B support.\n\n182\n00:08:58.310 --> 00:09:02.609\nSo If you don't remember that conversation\nobviously, I always invite you to go back,\n\n183\n00:09:02.609 --> 00:09:05.743\ntake a look at some of that prior\nknowledge, pull that forward,\n\n184\n00:09:05.743 --> 00:09:07.560\nreference it as you go through here.\n\n185\n00:09:07.560 --> 00:09:10.700\nAnd it will fall into place and\nmake a lot more sense for you.\n\n186\n00:09:10.700 --> 00:09:12.220\nSo, we have our different templates.\n\n187\n00:09:12.220 --> 00:09:15.480\nWhat I did to create that\nsecure user template.\n\n188\n00:09:15.480 --> 00:09:19.040\nWhat's come in here, as we've talked\nabout before, let me just scroll down so\n\n189\n00:09:19.040 --> 00:09:22.280\nwe can see where\nthe template that I used is.\n\n190\n00:09:22.280 --> 00:09:26.440\nI took this generation one or\nversion one template called user.\n\n191\n00:09:26.440 --> 00:09:30.731\nAnd the thing about this area is that this\nis where we come to see a master list of\n\n192\n00:09:30.731 --> 00:09:31.866\nall the templates.\n\n193\n00:09:31.866 --> 00:09:34.416\nThere are 33 or now 34 or them in here.\n\n194\n00:09:34.416 --> 00:09:38.746\nAnd as a result,\nwhat we're able to do because I've issued\n\n195\n00:09:38.746 --> 00:09:43.090\nthe secure user template,\nit is listed in the master list.\n\n196\n00:09:43.090 --> 00:09:46.300\nBecause I have a copy of it that\nis now available for management.\n\n197\n00:09:46.300 --> 00:09:50.960\nBut when you load this up initially,\nyou'll have 33 templates you'll see,\n\n198\n00:09:50.960 --> 00:09:54.040\nso just don't be thrown off by the\nnumbers, unless you're following along,\n\n199\n00:09:54.040 --> 00:09:55.420\ndoing this demonstration.\n\n200\n00:09:55.420 --> 00:09:57.157\nOr hands on exercise with me.\n\n201\n00:09:57.157 --> 00:09:59.450\nBut I right clicked on the user template.\n\n202\n00:09:59.450 --> 00:10:00.310\nI made a copy of it.\n\n203\n00:10:00.310 --> 00:10:03.050\nSo duplicate template is what I did.\n\n204\n00:10:03.050 --> 00:10:06.050\nI then gave the template that\nI created a copy of a name.\n\n205\n00:10:06.050 --> 00:10:07.400\nI called it secure user.\n\n206\n00:10:07.400 --> 00:10:11.000\nThat's where this template that\nwe're gonna use has come from.\n\n207\n00:10:11.000 --> 00:10:12.790\nSo I can right click here.\n\n208\n00:10:12.790 --> 00:10:18.400\nI can go in, just to go to Properties to\nshow you what the template settings are.\n\n209\n00:10:18.400 --> 00:10:20.870\nAnd I came here to get a couple of\nthings I named it obviously, so\n\n210\n00:10:20.870 --> 00:10:25.130\nI changed the name from secure or\nrather user to security user.\n\n211\n00:10:25.130 --> 00:10:28.628\nSo, I went to the general tab,\nwent ahead and\n\n212\n00:10:28.628 --> 00:10:32.784\ngave it a display name, so\nI modified that property.\n\n213\n00:10:32.784 --> 00:10:36.680\nAlthough I didn't make any changes but\nI could go into compatibility here.\n\n214\n00:10:36.680 --> 00:10:40.915\nAnd I could go in and say, for\nthe certification authority, and\n\n215\n00:10:40.915 --> 00:10:44.927\nour certificate recipients,\nspecify the origination OS.\n\n216\n00:10:44.927 --> 00:10:47.336\nMake sure we're using the lowest\ncommon denominator for\n\n217\n00:10:47.336 --> 00:10:49.230\noperating Systems that will consume.\n\n218\n00:10:49.230 --> 00:10:52.965\nThe certificates always wanna make sure\nif we're gonna be supporting older OSs,\n\n219\n00:10:52.965 --> 00:10:54.163\nas you could see, right.\n\n220\n00:10:54.163 --> 00:10:58.510\nWe may have to specify that we have\nthe appropriate version there.\n\n221\n00:10:58.510 --> 00:10:59.750\nIf we know for a fact,\n\n222\n00:10:59.750 --> 00:11:02.960\nit's gonna be a newer OS we're not gonna\nbother with any backwards compatibility.\n\n223\n00:11:02.960 --> 00:11:05.320\nWe may wanna raise that\nlevel up a little bit.\n\n224\n00:11:05.320 --> 00:11:08.020\nSo it's just up to you to decide\nhow to deal with that, right?\n\n225\n00:11:08.020 --> 00:11:09.810\nBut just make sure you're aware of that.\n\n226\n00:11:09.810 --> 00:11:15.070\nIt does tell us that,\nwe make these changes that we may or\n\n227\n00:11:15.070 --> 00:11:19.160\nmay not prevent earlier operating systems\nfrom using the template depends on other\n\n228\n00:11:19.160 --> 00:11:21.160\nfactors, permissions in particular.\n\n229\n00:11:21.160 --> 00:11:25.120\nBut we do wanna know that we\nare enabling features based on this or\n\n230\n00:11:25.120 --> 00:11:27.530\nchanging the way the template\ncan be consumed.\n\n231\n00:11:27.530 --> 00:11:29.550\nJust wanna make sure we're aware of that.\n\n232\n00:11:29.550 --> 00:11:35.389\nWe went in, I went in I should say, and\nI went to, just go over here to security.\n\n233\n00:11:35.389 --> 00:11:39.105\nAnd one of things we talked about in our\nconversation around permissions one of\n\n234\n00:11:39.105 --> 00:11:42.541\nthe prior episodes, went through and\ntalked about these permissions,\n\n235\n00:11:42.541 --> 00:11:45.160\nfull control, read, write,\nenroll, auto enroll.\n\n236\n00:11:45.160 --> 00:11:48.454\nSpoke about the auto enroll permissions\nspecifically on how it's used.\n\n237\n00:11:48.454 --> 00:11:50.837\nAnd I made the point of\nthe fact that by default,\n\n238\n00:11:50.837 --> 00:11:54.545\nwe don't see auto enrollment permissions\nassigned in these templates.\n\n239\n00:11:54.545 --> 00:11:58.285\nIt's a [INAUDIBLE] we would typically\ngrant to do this particular activity.\n\n240\n00:11:58.285 --> 00:12:01.195\nSo I went in, specified for\nauthenticated users,\n\n241\n00:12:01.195 --> 00:12:05.795\nso the group that would allow us to see\nan interact with the template and user,\n\n242\n00:12:05.795 --> 00:12:08.415\nin other words,\nthat would be a user in the system.\n\n243\n00:12:08.415 --> 00:12:12.454\nIn the directory, that can authenticate\nwould be given membership or\n\n244\n00:12:12.454 --> 00:12:14.857\nwould be accessible through this group.\n\n245\n00:12:14.857 --> 00:12:18.130\nAnd therefore, could see and\nuse the template when it's applied.\n\n246\n00:12:18.130 --> 00:12:20.850\nI made sure that the auto\nenroll permission was granted.\n\n247\n00:12:20.850 --> 00:12:24.834\nSo I had to go in and\nselect this and check off allowed.\n\n248\n00:12:24.834 --> 00:12:29.690\nAnd then, I went to super templates\nwhich would be blank by default.\n\n249\n00:12:29.690 --> 00:12:33.480\nAnd I went ahead and I added the user\ntemplate there because remember\n\n250\n00:12:33.480 --> 00:12:37.205\nby default,\nevery user is given the user template.\n\n251\n00:12:37.205 --> 00:12:39.558\nThat's how we are linking users or\n\n252\n00:12:39.558 --> 00:12:43.330\nrather certificates to user in\nthe Active Directory just out of the gate.\n\n253\n00:12:43.330 --> 00:12:47.942\nAnd I wanna supersede that template with\nthis template, giving them the ability to\n\n254\n00:12:47.942 --> 00:12:51.540\nauto enroll and do whatever else\nI may have applied as settings or\n\n255\n00:12:51.540 --> 00:12:54.195\npermissions or\nrequirements on this template.\n\n256\n00:12:54.195 --> 00:12:59.545\nSo using these certificates supersede\nit's template it allows me to say, hey\n\n257\n00:12:59.545 --> 00:13:03.235\nforget about that other template, this is\nnow the new normal in other words, right?\n\n258\n00:13:03.235 --> 00:13:07.887\nThis new template is gonna take the place\nof this one, I'm putting on the tab here.\n\n259\n00:13:07.887 --> 00:13:11.557\nAnd so I've called out the user\ntemplate and said, from now on,\n\n260\n00:13:11.557 --> 00:13:15.142\nevery user should no longer get the user\ntemplate or template called user.\n\n261\n00:13:15.142 --> 00:13:16.878\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; But now will get what's called\n\n262\n00:13:16.878 --> 00:13:17.617\nsecure user.\n\n263\n00:13:17.617 --> 00:13:20.180\nMy new improved version,\nif you will, right?\n\n264\n00:13:20.180 --> 00:13:22.000\nOf this template, so we're gonna do that.\n\n265\n00:13:22.000 --> 00:13:23.613\nSo I've gone ahead, and\nI've just set all this up.\n\n266\n00:13:23.613 --> 00:13:26.040\nSo I'm gonna cancel out of there\njust to show you what we did.\n\n267\n00:13:26.040 --> 00:13:30.900\nI'm gonna close the certificate\ntemplates management console.\n\n268\n00:13:30.900 --> 00:13:34.220\nAnd as I did that, I'm gonna close\nthe certificate authority by accident.\n\n269\n00:13:34.220 --> 00:13:36.190\nSo let me just go back and\nopen that back up real quick.\n\n270\n00:13:36.190 --> 00:13:37.379\nGive me just one second to do that.\n\n271\n00:13:37.379 --> 00:13:43.030\nAll right, and so\nminimize that just bring this back up.\n\n272\n00:13:43.030 --> 00:13:48.020\nSo we were here and\nwe were looking at certificate templates.\n\n273\n00:13:48.020 --> 00:13:50.320\nAnd we now have secure user here.\n\n274\n00:13:50.320 --> 00:13:55.030\nI have brought the template in to\nstep two in this process after I go\n\n275\n00:13:55.030 --> 00:13:58.150\nduplicate the template\nin the template MMC,\n\n276\n00:13:58.150 --> 00:14:01.010\nI would then come back to\nthe certification authority.\n\n277\n00:14:01.010 --> 00:14:04.585\nRight click and\ninstead of Manage which was step one,\n\n278\n00:14:04.585 --> 00:14:07.218\ngo to new certificate template issue.\n\n279\n00:14:07.218 --> 00:14:10.797\nI would simply choose my copy of\nthe template, in this case secure user,\n\n280\n00:14:10.797 --> 00:14:11.960\nout of the list.\n\n281\n00:14:11.960 --> 00:14:14.470\nAnd click OK, and\nit automatically becomes available here.\n\n282\n00:14:14.470 --> 00:14:17.340\nAnd you've seen me do this in one\nof the prior discussions we've went\n\n283\n00:14:17.340 --> 00:14:18.300\nthrough as well.\n\n284\n00:14:18.300 --> 00:14:22.460\nSo I've set this up, kind of have\nthis part of the process ready to go.\n\n285\n00:14:22.460 --> 00:14:25.546\nWhat I'm gonna do now is flip\nover to my domain controller,\n\n286\n00:14:25.546 --> 00:14:27.904\ngo into my group policy\nmanagement console.\n\n287\n00:14:27.904 --> 00:14:29.581\nAnd show you the group policy tie in for\n\n288\n00:14:29.581 --> 00:14:32.741\nauto enrollment to kind of just\ncomplete this part of our walk through.\n\n289\n00:14:32.741 --> 00:14:34.156\nAnd make sure we're comfortable with this.\n\n290\n00:14:34.156 --> 00:14:37.452\nSo let me go over here,\n\n291\n00:14:37.452 --> 00:14:42.500\nlet me go to our group policy here.\n\n292\n00:14:42.500 --> 00:14:47.200\nI've opened up a group policy management\nconsole on the domain controller.\n\n293\n00:14:47.200 --> 00:14:51.460\nYou can see, this should hopefully\nlook familiar to you based on the very\n\n294\n00:14:51.460 --> 00:14:54.260\nlarge amount of discussions\nwe've devoted to group policy.\n\n295\n00:14:54.260 --> 00:14:57.300\nIf you haven't seen those episodes, I\nencourage you to go back and take a look.\n\n296\n00:14:57.300 --> 00:14:59.851\nWe go in depth into everything\ngoing on in the editor here and\n\n297\n00:14:59.851 --> 00:15:02.723\nall the various things that we need\nto be aware of for group policy.\n\n298\n00:15:02.723 --> 00:15:06.809\nI've simply opened up my hierarchy here,\ngone down to an OU,\n\n299\n00:15:06.809 --> 00:15:10.780\nhappened to have just chosen\nthe IT OU under APAC here.\n\n300\n00:15:10.780 --> 00:15:12.965\nA right click, create new policy,\n\n301\n00:15:12.965 --> 00:15:15.780\nlinked it here, named it\ncertificate auto enrollment just so\n\n302\n00:15:15.780 --> 00:15:19.360\nwe could track what we're doing with it,\nhave a sense of what it is.\n\n303\n00:15:19.360 --> 00:15:22.440\nRight clicked on it, shows edit,\nso I've done all of that.\n\n304\n00:15:22.440 --> 00:15:26.180\nWhen I did that, I just have\nthe policy open in the editor, so\n\n305\n00:15:26.180 --> 00:15:27.460\nyou could see it there.\n\n306\n00:15:27.460 --> 00:15:31.580\nI've gone to the user preferences or\nexcuse me, user configuration area.\n\n307\n00:15:31.580 --> 00:15:36.815\nAnd under user, I've gone into policies,\nwindow settings, public key policies.\n\n308\n00:15:36.815 --> 00:15:39.335\nI actually explored these\nsettings with you in\n\n309\n00:15:39.335 --> 00:15:42.235\na prior episode we talked about\nwhat you could do there and\n\n310\n00:15:42.235 --> 00:15:45.065\nwe spent some time just exploring\nthe linkage with group policy.\n\n311\n00:15:45.065 --> 00:15:48.665\nBut I wanted to just come back and really\njust draw this out a little more, just\n\n312\n00:15:48.665 --> 00:15:52.760\nshow you how we create this connection so\nwe understand the logic here.\n\n313\n00:15:52.760 --> 00:15:56.316\nSo I went ahead on public key policies and\nthe root of that directory\n\n314\n00:15:56.316 --> 00:15:59.889\nthere are some certificate settings and\nthen some other folders.\n\n315\n00:15:59.889 --> 00:16:02.986\nWe go to certificate services for\nthe client, auto enrollment,\n\n316\n00:16:02.986 --> 00:16:05.594\nthat's the one that I'm\ngonna manipulate right now.\n\n317\n00:16:05.594 --> 00:16:08.373\nSo we're just gonna double click\non that just to bring it up.\n\n318\n00:16:08.373 --> 00:16:09.744\nIt is disabled by default.\n\n319\n00:16:09.744 --> 00:16:12.490\nSo I've just simply pulled down\nour not configured rather.\n\n320\n00:16:12.490 --> 00:16:16.410\nI've just simply pulled this down and\nchose to enable this.\n\n321\n00:16:16.410 --> 00:16:18.925\nSo I've just turned on the settings here.\n\n322\n00:16:18.925 --> 00:16:20.860\nAnd then these options become available.\n\n323\n00:16:20.860 --> 00:16:25.290\nAnd I've checked off the following boxes\njust so you can see what we have selected.\n\n324\n00:16:25.290 --> 00:16:29.350\nRenew expired certificates,\nupdate pending, and remove revoked.\n\n325\n00:16:29.350 --> 00:16:31.290\nWe're enabling that behavior on this.\n\n326\n00:16:31.290 --> 00:16:36.170\nSo that way, as I deploy this new\ncertificate template over time,\n\n327\n00:16:36.170 --> 00:16:39.060\nwe've talked about the certificate\nrevocation lifecycle,\n\n328\n00:16:39.060 --> 00:16:43.670\ntalked about the certificate timing\nlifecycle in terms of the validity period.\n\n329\n00:16:43.670 --> 00:16:45.150\nIf certificates are renewed,\n\n330\n00:16:45.150 --> 00:16:49.180\nor if they have to be updated we wanna\nhave that capability as part of this.\n\n331\n00:16:49.180 --> 00:16:53.810\nRemember, auto enrollment implies minimal\nto no interaction from the end user or\n\n332\n00:16:53.810 --> 00:16:57.900\nthe device other than just consuming\nthe certificate, getting it and\n\n333\n00:16:57.900 --> 00:16:58.880\nhaving it available.\n\n334\n00:16:58.880 --> 00:17:01.610\nIf I have to start messing\naround after I put it out there,\n\n335\n00:17:01.610 --> 00:17:04.840\nwith having the user click\nto renew a certificate, or\n\n336\n00:17:04.840 --> 00:17:09.020\nhave to then download a new one and worry\nabout publishing it, and all that stuff.\n\n337\n00:17:09.020 --> 00:17:13.230\nIf I have to get the user involved or have\nthe device prompt the user to do stuff,\n\n338\n00:17:13.230 --> 00:17:14.765\nI'm defeating the purpose essentially,\nright?\n\n339\n00:17:14.765 --> 00:17:18.300\nWe've taking an automated process and\nconverted it back into a person\n\n340\n00:17:18.300 --> 00:17:21.260\nintensive process, which just\ndoesn't really make a lot of sense.\n\n341\n00:17:21.260 --> 00:17:23.998\nI might as well just not do this in\nthe first place if that's the outcome.\n\n342\n00:17:23.998 --> 00:17:28.152\nSo checking off these boxes allows us\nto ensure that the automation of that\n\n343\n00:17:28.152 --> 00:17:31.450\nprocess will be carried all\nthe way through, right?\n\n344\n00:17:31.450 --> 00:17:34.080\nUpdate certificates that\nuse certificate templates.\n\n345\n00:17:34.080 --> 00:17:36.696\nSo we're just making sure we\nhave the capabilities there.\n\n346\n00:17:36.696 --> 00:17:40.131\nAnd display user notifications for\nexpiring certificates in user and\n\n347\n00:17:40.131 --> 00:17:41.070\nmachine My Store.\n\n348\n00:17:41.070 --> 00:17:44.125\nSo prompt users tell them,\nhey you have this certificate expiring.\n\n349\n00:17:44.125 --> 00:17:46.840\nBut we're gonna try to automate as\nmuch of that process as possible.\n\n350\n00:17:46.840 --> 00:17:47.866\nSo I've selected these.\n\n351\n00:17:47.866 --> 00:17:50.340\nThese boxes would not be\nchecked off by default.\n\n352\n00:17:50.340 --> 00:17:51.850\nThey would be blank in other words.\n\n353\n00:17:51.850 --> 00:17:53.660\nSo we're gonna select those.\n\n354\n00:17:53.660 --> 00:17:55.200\nYou'll mix and match in your world.\n\n355\n00:17:55.200 --> 00:17:57.390\nThis may or may not make sense for you.\n\n356\n00:17:57.390 --> 00:18:01.080\nWe're simply showing you the logic of\nhow to carry out this kind of activity.\n\n357\n00:18:01.080 --> 00:18:05.110\nRemember, we often talk about this\nconcept of tailoring this information\n\n358\n00:18:05.110 --> 00:18:08.760\nto your experiences in the real world,\none size fits one.\n\n359\n00:18:08.760 --> 00:18:10.250\nYou may not want to use auto enrollment.\n\n360\n00:18:10.250 --> 00:18:12.320\nYou may want users to have to opt in.\n\n361\n00:18:12.320 --> 00:18:15.161\nYou may want a person intensive process.\n\n362\n00:18:15.161 --> 00:18:17.020\nThere may be reasons\nwhy you're doing that.\n\n363\n00:18:17.020 --> 00:18:18.770\nThere may be policy reasons.\n\n364\n00:18:18.770 --> 00:18:23.953\nThere may be user requirements that you\nare complying with where users have\n\n365\n00:18:23.953 --> 00:18:29.399\nto opt in in order to make sure that you\nhave essentially their buy in on record.\n\n366\n00:18:29.399 --> 00:18:32.005\nBecause there may be a permission\nand/or regulatory or\n\n367\n00:18:32.005 --> 00:18:34.070\nstatutory issue you have to address.\n\n368\n00:18:34.070 --> 00:18:36.272\nWhere users have to give\nyou essentially permission-\n\n369\n00:18:36.272 --> 00:18:37.060\n&gt;&gt; Acknowledgement.\n\n370\n00:18:37.060 --> 00:18:38.490\n&gt;&gt; Allow certain things that acknowledge.\n\n371\n00:18:38.490 --> 00:18:42.800\nSo there may be reasons why you do or\ndon't wanna do this in a certain way.\n\n372\n00:18:42.800 --> 00:18:44.490\nNot suggesting you have to do it this way.\n\n373\n00:18:44.490 --> 00:18:46.280\nNot even suggesting it's\na good thing to do.\n\n374\n00:18:46.280 --> 00:18:50.280\nBut I am suggesting it's a skill you\nwanna make sure you're familiar with\n\n375\n00:18:50.280 --> 00:18:52.680\nif you plan on pursuing certification.\n\n376\n00:18:52.680 --> 00:18:54.790\nBecause you may be asked\nabout the steps involved, or\n\n377\n00:18:54.790 --> 00:18:58.650\nat least the intricacies of how\nyou link a certificate template\n\n378\n00:18:58.650 --> 00:19:01.040\nthrough group policy and\nallow it to be applied.\n\n379\n00:19:01.040 --> 00:19:04.160\nAnd so generically this will be a good\nset of skills, in other words, for\n\n380\n00:19:04.160 --> 00:19:06.180\nyou to possess, is what I'm suggesting.\n\n381\n00:19:06.180 --> 00:19:07.530\nSo just showing you how this is done.\n\n382\n00:19:07.530 --> 00:19:10.500\nSo we've gone in, we've certainly\nmade these connections here.\n\n383\n00:19:10.500 --> 00:19:12.238\nWe've gone ahead and created this clearly.\n\n384\n00:19:12.238 --> 00:19:16.110\nOnce I exit out of the policy editor,\nI can then apply the policy.\n\n385\n00:19:16.110 --> 00:19:20.252\nEither through just normal policy\napplication and the refresh intervals.\n\n386\n00:19:20.252 --> 00:19:21.820\nWe've talked about those before.\n\n387\n00:19:21.820 --> 00:19:25.410\nI may force a policy update\nusing a GPUpdate /force.\n\n388\n00:19:25.410 --> 00:19:26.330\nI may log off,\n\n389\n00:19:26.330 --> 00:19:31.370\nsign off the user to get them to log back\nin to update the policy in realtime.\n\n390\n00:19:31.370 --> 00:19:34.670\nI may restart the machine\nif it's a computer policy.\n\n391\n00:19:34.670 --> 00:19:36.060\nSo there's different things I can do.\n\n392\n00:19:36.060 --> 00:19:39.340\nWe'll talk about the impact\nof credential caching.\n\n393\n00:19:39.340 --> 00:19:41.950\nSo that way policies may not\napply in the first round.\n\n394\n00:19:41.950 --> 00:19:45.640\nRemember, there's usually a minimum of\ntwo, maybe as many as four logins for\n\n395\n00:19:45.640 --> 00:19:49.030\nusers, that maybe required to\nattach that policy properly.\n\n396\n00:19:49.030 --> 00:19:52.380\nHave it fully instantiated as\npart of credential caching.\n\n397\n00:19:52.380 --> 00:19:55.950\nBecause we use that fast user\nlogon capability in the newer OS's\n\n398\n00:19:55.950 --> 00:19:57.790\nby using caching of the credentials.\n\n399\n00:19:57.790 --> 00:20:01.060\nSo there's just a lot of things to\nconsider here and remind ourselves of.\n\n400\n00:20:01.060 --> 00:20:03.930\nWe've talked about\ncredential roaming up here,\n\n401\n00:20:03.930 --> 00:20:08.180\nthe ability to be able to allow users\nto have their credentials follow them.\n\n402\n00:20:08.180 --> 00:20:10.184\nDo that through group policy.\n\n403\n00:20:10.184 --> 00:20:13.383\nSo we've talked about different ways\nin which we can leverage some of these\n\n404\n00:20:13.383 --> 00:20:13.900\nsettings.\n\n405\n00:20:13.900 --> 00:20:18.168\nJust wanna remind you of that as\nwe're completing our walkthrough or\n\n406\n00:20:18.168 --> 00:20:19.600\nour thought process here.\n\n407\n00:20:19.600 --> 00:20:22.860\nUsers can access their credentials\nremotely with credential roaming.\n\n408\n00:20:22.860 --> 00:20:26.180\nSo we could configure this as well\nas part of the settings here.\n\n409\n00:20:26.180 --> 00:20:29.690\nThis makes essentially their certificates\ntheir private keys available to them.\n\n410\n00:20:29.690 --> 00:20:31.690\nIt's an extension of the roaming profile.\n\n411\n00:20:31.690 --> 00:20:34.650\nOr if you remember the concepts\nsurrounding a roaming profile.\n\n412\n00:20:35.750 --> 00:20:41.260\nWe can take the Ntuser.dat DAT file,\nconvert that, either into a mandatory\n\n413\n00:20:41.260 --> 00:20:46.031\nprofile, into user.man,\nchange the extension for mandatory.\n\n414\n00:20:46.031 --> 00:20:50.581\nAnd or enable that profile to be roaming,\nwhere instead of it being homed locally on\n\n415\n00:20:50.581 --> 00:20:54.936\na single machine and just configured\nthere, we could save the profile material\n\n416\n00:20:54.936 --> 00:20:59.489\nand the contents of it out to a network\nshare, very similar to folder redirection.\n\n417\n00:20:59.489 --> 00:21:03.280\nWe've talked about that, as a policy\noption and how we could drive that.\n\n418\n00:21:03.280 --> 00:21:07.040\nAnd by enabling that profile to\nbecome based on the network,\n\n419\n00:21:07.040 --> 00:21:10.204\nit could be pulled down for\na user when they login wherever they go.\n\n420\n00:21:10.204 --> 00:21:11.345\nThat's the general idea.\n\n421\n00:21:11.345 --> 00:21:13.820\nWe've had this capability\nsince Windows 95.\n\n422\n00:21:13.820 --> 00:21:17.760\nThis is probably one of the oldest things\nwe think of doing with roaming profiles.\n\n423\n00:21:17.760 --> 00:21:20.670\nWe're just extending that\nlogic with credential roaming,\n\n424\n00:21:20.670 --> 00:21:24.680\nessentially attaching the credentials\nto that thought process and\n\n425\n00:21:24.680 --> 00:21:28.380\nallowing them to be available regardless\nof where the user logs in from.\n\n426\n00:21:28.380 --> 00:21:31.620\nThat way those credentials\nwill follow them.\n\n427\n00:21:31.620 --> 00:21:35.000\nThis allows the private key, or\ncertificate in the user's local\n\n428\n00:21:35.000 --> 00:21:40.230\ncertificate store, to be made available,\nso they can be used wherever they may go.\n\n429\n00:21:40.230 --> 00:21:41.200\nHello.\n\n430\n00:21:41.200 --> 00:21:43.420\n&gt;&gt; Hey, so I see an enrollment agent.\n\n431\n00:21:43.420 --> 00:21:46.810\nSo how does that tie into everything\nthat we're looking at here?\n\n432\n00:21:46.810 --> 00:21:49.884\nWe just talked about auto enrollment,\nbut what role does that play?\n\n433\n00:21:49.884 --> 00:21:52.904\n&gt;&gt; So we have to go back,\nwhich we'll do here in just a second and\n\n434\n00:21:52.904 --> 00:21:55.590\ntake a look at the CA again\nto have the context of that.\n\n435\n00:21:55.590 --> 00:21:58.750\nBecause we have certificate templates\nthat will allow us to actually\n\n436\n00:21:58.750 --> 00:22:00.450\nconfigure these enrollment agents.\n\n437\n00:22:00.450 --> 00:22:01.800\nSo let's go take a look at that.\n\n438\n00:22:01.800 --> 00:22:03.660\nAnd then we kinda talk\nthrough it as we go.\n\n439\n00:22:03.660 --> 00:22:04.780\nSo we're just gonna get out of here.\n\n440\n00:22:04.780 --> 00:22:06.470\nYou've kinda seen\nthe logic of group policy.\n\n441\n00:22:06.470 --> 00:22:08.340\nSo I'm just gonna minimize.\n\n442\n00:22:08.340 --> 00:22:10.750\nOr not even minimize,\nI'll just bring up the other console.\n\n443\n00:22:10.750 --> 00:22:13.560\nBut let's just go back to our\nother machine, where we were.\n\n444\n00:22:13.560 --> 00:22:15.870\nAnd we have enrollment agent capabilities.\n\n445\n00:22:15.870 --> 00:22:19.245\nThese are templates that allow\nus to be able to go in and\n\n446\n00:22:19.245 --> 00:22:21.055\nconfigure certificate enrollment so\n\n447\n00:22:21.055 --> 00:22:26.625\nusers can essentially enroll on behalf\nof other users in the organization.\n\n448\n00:22:26.625 --> 00:22:28.845\nEssentially, we're delegating the install\nprocess, if you think about it.\n\n449\n00:22:28.845 --> 00:22:31.895\nIt's basically like a delegated\nadministrative capability.\n\n450\n00:22:31.895 --> 00:22:32.905\nBut let's take a look.\n\n451\n00:22:32.905 --> 00:22:35.805\nIf we go back in here,\nlet me just bring this back up.\n\n452\n00:22:35.805 --> 00:22:36.705\nLet's just go, Manage.\n\n453\n00:22:36.705 --> 00:22:38.585\nWe'll bring back up the template area.\n\n454\n00:22:39.860 --> 00:22:42.607\nAnd we can see right down here.\n\n455\n00:22:42.607 --> 00:22:44.591\nLet me just see if I can\nclick to highlight so\n\n456\n00:22:44.591 --> 00:22:46.090\nwe have a sense of where to look.\n\n457\n00:22:46.090 --> 00:22:48.730\nAnd we'll scroll down just a little bit.\n\n458\n00:22:48.730 --> 00:22:51.650\nWe have three of them.\n\n459\n00:22:51.650 --> 00:22:54.550\nLet me just bring this over so\nyou can see this.\n\n460\n00:22:54.550 --> 00:22:56.790\nI'll highlight them so\nyou can see where they are.\n\n461\n00:22:56.790 --> 00:22:59.480\nMaybe if we go full screen it may\nbe a little bit easier to see.\n\n462\n00:22:59.480 --> 00:23:02.290\nBut you can see alphabetically\nthe list is pretty straightforward.\n\n463\n00:23:02.290 --> 00:23:06.700\nIf you take a look at enrollment agent,\nwe have enrollment agent for the computer.\n\n464\n00:23:06.700 --> 00:23:11.500\nEnrollment agent not computer is user\nenrollment agent, just so you know.\n\n465\n00:23:11.500 --> 00:23:12.770\nThen we have a computer version.\n\n466\n00:23:12.770 --> 00:23:15.240\nAnd then we have one specific for\nExchange and offline request.\n\n467\n00:23:15.240 --> 00:23:17.260\n&gt;&gt; And you didn't create these templates.\n\n468\n00:23:17.260 --> 00:23:18.280\n&gt;&gt; No, these are there,\n\n469\n00:23:18.280 --> 00:23:21.840\nwe're just looking at the template store,\nthe ones that are loaded by default.\n\n470\n00:23:21.840 --> 00:23:25.580\nOf those 33 I mentioned these\n3 would be part of that.\n\n471\n00:23:25.580 --> 00:23:27.800\nAnd we're just looking at them\nin the management area so\n\n472\n00:23:27.800 --> 00:23:29.100\nwe could see what they are.\n\n473\n00:23:29.100 --> 00:23:32.490\nIf we want to use them then\nobviously we have to go in,\n\n474\n00:23:32.490 --> 00:23:34.190\ncreate a copy just like we talked about.\n\n475\n00:23:34.190 --> 00:23:37.860\nSo best practice and\ngood hygiene for management.\n\n476\n00:23:37.860 --> 00:23:41.260\nWe would then use that copy,\nconfigure it accordingly.\n\n477\n00:23:41.260 --> 00:23:45.000\nWhether we're gonna do user enrollment,\ncomputer enrollment agent.\n\n478\n00:23:45.000 --> 00:23:48.100\nEssentially allow someone or\nsomething to make a request.\n\n479\n00:23:48.100 --> 00:23:52.360\nAnd then in case of the Exchange\nenrollment agent, we can do that offline,\n\n480\n00:23:52.360 --> 00:23:53.350\nas you can see.\n\n481\n00:23:53.350 --> 00:23:56.080\nWe can request certificates\non behalf of another subject.\n\n482\n00:23:56.080 --> 00:23:59.952\nAnd supply the subject name in\nthe enrollment request for Exchange,\n\n483\n00:23:59.952 --> 00:24:01.229\nif we do that offline.\n\n484\n00:24:01.229 --> 00:24:04.517\nThis is typically gonna be used\nby that particular template,\n\n485\n00:24:04.517 --> 00:24:07.122\nused by the network device\nenrollment service.\n\n486\n00:24:07.122 --> 00:24:10.956\nTo do enrollment agents on\nbehalf of devices for exchange.\n\n487\n00:24:10.956 --> 00:24:15.586\nThe enrollment agent for the computer does\nrequests assembly on behalf of computers.\n\n488\n00:24:15.586 --> 00:24:18.756\nAnd as I said the enrollment age in\none generically does it on behalf,\n\n489\n00:24:18.756 --> 00:24:19.958\nof what we call a subject,\n\n490\n00:24:19.958 --> 00:24:23.306\nwhich is really just the user in\nthe language of access control, right?\n\n491\n00:24:23.306 --> 00:24:24.637\nSo we're talking about that.\n\n492\n00:24:24.637 --> 00:24:28.052\nOr we can restrict the ability,\nor control the ability for and\n\n493\n00:24:28.052 --> 00:24:31.612\nthrough these certificates for\nhow these request will be made.\n\n494\n00:24:31.612 --> 00:24:32.356\nAnd by doing so\n\n495\n00:24:32.356 --> 00:24:36.703\nwe're able to then kinda constrain the\nlogic of who gets to request certificates.\n\n496\n00:24:36.703 --> 00:24:41.100\nRemember, a lot of times we may have\nto use some sort of a stand-in,\n\n497\n00:24:41.100 --> 00:24:46.287\nwhat we call in the language of access\ncontrol, an NPE, a non-person entity.\n\n498\n00:24:46.287 --> 00:24:49.649\nJust means a service,\nan application, a computer,\n\n499\n00:24:49.649 --> 00:24:54.357\nsomething other than a user,\ntraditionally, that may make a request, or\n\n500\n00:24:54.357 --> 00:24:58.490\ngo seek access on behalf of a user\nto execute some sort of process.\n\n501\n00:24:58.490 --> 00:25:01.947\nIf you're in an application and\nyou click a button that says,\n\n502\n00:25:01.947 --> 00:25:06.348\ngo get me this and bring it back, whatever\nthe equivalent of that function is.\n\n503\n00:25:06.348 --> 00:25:09.736\nYour credential as a user may or\nmay not be used, and you may or\n\n504\n00:25:09.736 --> 00:25:11.937\nmay not really be doing that activity.\n\n505\n00:25:11.937 --> 00:25:16.129\nLot of times the application will take\nyour credential and use it on your behalf.\n\n506\n00:25:16.129 --> 00:25:19.877\nBut sometimes the application will\nlatch on to a service account, right?\n\n507\n00:25:19.877 --> 00:25:23.302\nFor instance, hypothetically,\nin this system a constrained account\n\n508\n00:25:23.302 --> 00:25:26.953\nthat has less rights, but is designed\nspecifically operate at that level,\n\n509\n00:25:26.953 --> 00:25:30.205\ngiving the application the ability\nto be able to make this request or\n\n510\n00:25:30.205 --> 00:25:34.107\ntransit the network and validate the\nidentity, it needs to access the service.\n\n511\n00:25:34.107 --> 00:25:38.175\nBut not to do so under the guise of the\nuser because when they wanna constrain or\n\n512\n00:25:38.175 --> 00:25:39.058\nrestrict that.\n\n513\n00:25:39.058 --> 00:25:43.427\nAnd so enrollment agents will allow us to\noperate with that thought process in mind\n\n514\n00:25:43.427 --> 00:25:47.603\nand allow us to be able to go out specify\nhow this will work with regards to making\n\n515\n00:25:47.603 --> 00:25:51.998\ncertificate requests and enrolling users,\ncomputers, things of that nature.\n\n516\n00:25:51.998 --> 00:25:55.334\nSo it's good to just remind ourselves\nof that we can see them here.\n\n517\n00:25:55.334 --> 00:25:59.195\nThere are templates,\nthey are by default in the Enterprise CA.\n\n518\n00:25:59.195 --> 00:26:01.179\nWe can go in, and since we're here,\n\n519\n00:26:01.179 --> 00:26:04.127\nduplicate that template if we\nwant to make a copy of it.\n\n520\n00:26:04.127 --> 00:26:05.582\nWhen we do that, by the way,\n\n521\n00:26:05.582 --> 00:26:08.762\njust general good practice when\nyou duplicate the template.\n\n522\n00:26:08.762 --> 00:26:12.861\nI didn't do the steps, I just kind of\nexplained them after the fact, etc.,\n\n523\n00:26:12.861 --> 00:26:16.222\nto create a copy of the user template,\nmarked it secured user.\n\n524\n00:26:16.222 --> 00:26:20.155\nBut just so you know, the very first step\nis the best practice you always should\n\n525\n00:26:20.155 --> 00:26:24.278\nengage in when copy a template, when you\nduplicate it to use the proper language.\n\n526\n00:26:24.278 --> 00:26:24.794\n&gt;&gt; Change the name?\n\n527\n00:26:24.794 --> 00:26:27.967\n&gt;&gt; First thing, always go to general,\nalways change the name.\n\n528\n00:26:27.967 --> 00:26:29.758\nNot because if you forget it's a big deal.\n\n529\n00:26:29.758 --> 00:26:33.245\nWe name it copy of, so you can obviously\ngo back and rename it afterwards,\n\n530\n00:26:33.245 --> 00:26:34.442\nyou'll know what it is.\n\n531\n00:26:34.442 --> 00:26:37.592\nAnd when I say best practice,\nI really mean from my perspective,\n\n532\n00:26:37.592 --> 00:26:39.435\njust of all my experience doing this.\n\n533\n00:26:39.435 --> 00:26:43.736\nI'm the kind of person that if I don't\ndo it and I just don't have a regimented\n\n534\n00:26:43.736 --> 00:26:47.461\nthought process, I forget, and\nthen I got 20 copies of things.\n\n535\n00:26:47.461 --> 00:26:50.719\nI don't remember which is a copy\nI was working on, just harder for\n\n536\n00:26:50.719 --> 00:26:54.110\nme to track stuff, so I just get in\nthe habit of always name it first.\n\n537\n00:26:54.110 --> 00:26:58.159\nSo that way, if I know I'm doing it for\na certain client, or I'm doing it in their\n\n538\n00:26:58.159 --> 00:27:01.510\nenvironment for a specific reason,\nI'm gonna assign that name.\n\n539\n00:27:01.510 --> 00:27:03.488\nA lot of times when they have\nnaming conventions, right?\n\n540\n00:27:03.488 --> 00:27:07.744\nStandards that we may have to align within\nthe enterprise for a variety of things.\n\n541\n00:27:07.744 --> 00:27:11.756\nThis is gonna make a lot more sense for\nthings like creating computer accounts and\n\n542\n00:27:11.756 --> 00:27:12.827\nimaging computers.\n\n543\n00:27:12.827 --> 00:27:15.674\nWe can always supply naming convention and\ntemplates but\n\n544\n00:27:15.674 --> 00:27:19.417\nit's a good idea to get the habit of\ndoing stuff like that across the board.\n\n545\n00:27:19.417 --> 00:27:24.174\nStandardize your management thought\nprocess, make that idea consistent that\n\n546\n00:27:24.174 --> 00:27:29.073\nway from a perspective of verification\nvalidation things like that from auditing\n\n547\n00:27:29.073 --> 00:27:32.777\nperspective teaches you first\nto look at and see what it does.\n\n548\n00:27:32.777 --> 00:27:33.562\nIt's great for\n\n549\n00:27:33.562 --> 00:27:37.909\ndocumentation purposes as we often talk\nabout standardizing that naming convention\n\n550\n00:27:37.909 --> 00:27:41.427\nmeans that we will always have a name\nto describe the functionality.\n\n551\n00:27:41.427 --> 00:27:45.243\nReferences something of importance and\nas a result just makes it that much easier\n\n552\n00:27:45.243 --> 00:27:49.170\nfor somebody who comes along that's gonna\ndo what we have to do when we're not there\n\n553\n00:27:49.170 --> 00:27:52.109\nand ensure that they have\na fighting chance to be successful.\n\n554\n00:27:52.109 --> 00:27:55.849\nBut also, let's be selfish for a minute we\ncan make sure we control the naming and\n\n555\n00:27:55.849 --> 00:27:58.049\nall that, we set up, so\nwhen they come along and\n\n556\n00:27:58.049 --> 00:28:00.985\ndo while we're not there they\ndon't screw things up, right?\n\n557\n00:28:00.985 --> 00:28:02.589\nI mean we don't want them to fail but\n\n558\n00:28:02.589 --> 00:28:05.372\nwe also we didn't want them to\nmake our lives harder, right?\n\n559\n00:28:05.372 --> 00:28:08.918\nSo as a result we wanna try to give\neverybody as much information as possible.\n\n560\n00:28:08.918 --> 00:28:10.574\nSo I always start up and just naming it.\n\n561\n00:28:10.574 --> 00:28:12.270\nSo name it whatever you want, right?\n\n562\n00:28:12.270 --> 00:28:13.956\nIn this case it doesn't really matter,\n\n563\n00:28:13.956 --> 00:28:15.997\nI'm just showing you what\nthe options are here.\n\n564\n00:28:15.997 --> 00:28:18.202\nBut I'm just explaining\nthat may be important.\n\n565\n00:28:18.202 --> 00:28:21.354\nThe other reason I tell people,\nhey, definitely do naming first,\n\n566\n00:28:21.354 --> 00:28:24.636\nis not even so much for the name,\nbut more because of validity period.\n\n567\n00:28:24.636 --> 00:28:26.973\nAnd this is one of those things\nwe really gotta think about,\n\n568\n00:28:26.973 --> 00:28:28.479\nwhich is on the general tab by the way.\n\n569\n00:28:28.479 --> 00:28:30.322\nYou can see it right there,\nI'm pointing to it.\n\n570\n00:28:30.322 --> 00:28:32.312\nThat's the certificate life cycle.\n\n571\n00:28:32.312 --> 00:28:35.722\nThat's the life cycle of the template\nmeaning, when we assign the gear,\n\n572\n00:28:35.722 --> 00:28:37.097\nnot the template itself, but\n\n573\n00:28:37.097 --> 00:28:40.134\nrather the certificates that\nare generated from this template.\n\n574\n00:28:40.134 --> 00:28:42.745\nWe'll have a validity period\nof this amount of time and\n\n575\n00:28:42.745 --> 00:28:44.920\nmost importantly a renewal period, right?\n\n576\n00:28:44.920 --> 00:28:48.422\nWhich is the window you have to renew\nthe certificate towards the end of its\n\n577\n00:28:48.422 --> 00:28:49.053\nlife cycle.\n\n578\n00:28:49.053 --> 00:28:52.414\nSo want to make sure we're thinking\nabout these things and again,\n\n579\n00:28:52.414 --> 00:28:54.164\nthe defaults may work fine for us.\n\n580\n00:28:54.164 --> 00:28:56.532\nTwo year validity period I set on average.\n\n581\n00:28:56.532 --> 00:29:00.034\nYou've heard me say in several\ndifferent episodes the life cycle or\n\n582\n00:29:00.034 --> 00:29:04.336\nthe validity period for templates or for\ncertificates rather is usually somewhere\n\n583\n00:29:04.336 --> 00:29:07.233\nbetween one to five years\ndepending on their function.\n\n584\n00:29:07.233 --> 00:29:10.763\nYou may go a little bit longer may go a\nlittle bit less for certain certificates.\n\n585\n00:29:10.763 --> 00:29:13.650\nBut on average,\nwe see most certificate life cycles,\n\n586\n00:29:13.650 --> 00:29:17.062\nmost validity periods are somewhere\nbetween one to five years.\n\n587\n00:29:17.062 --> 00:29:20.385\nSo a two year validity period\nis not unusual by any means.\n\n588\n00:29:20.385 --> 00:29:23.195\nBut you may want this enrollment\nagent to have a longer.\n\n589\n00:29:23.195 --> 00:29:24.748\nOr shorter validity period,\n\n590\n00:29:24.748 --> 00:29:28.417\nin other words you may wanna cycle\nthis certificate more frequently.\n\n591\n00:29:28.417 --> 00:29:31.081\nOr less frequently just depending\non a variety of factors.\n\n592\n00:29:31.081 --> 00:29:33.433\n&gt;&gt; So, just making this like a routine\nkinda helps you remember hey,\n\n593\n00:29:33.433 --> 00:29:34.703\nI need to choose a validity period.\n\n594\n00:29:34.703 --> 00:29:35.655\n[CROSSTALK]\n&gt;&gt; Absolutely,\n\n595\n00:29:35.655 --> 00:29:38.706\ncuz a lot of times you will get in\nthere and not think about naming it and\n\n596\n00:29:38.706 --> 00:29:41.766\njust overlook the fact that hey,\nthere's a validity period issue.\n\n597\n00:29:41.766 --> 00:29:44.035\nI got to go make sure I've\nkind of aligned with it.\n\n598\n00:29:44.035 --> 00:29:47.174\nWhat I actually really recommend,\ncustomers and my students and\n\n599\n00:29:47.174 --> 00:29:50.266\njust anybody I talk with this stuff due,\nis create a checklist.\n\n600\n00:29:50.266 --> 00:29:54.929\nIn other words, take that process walk it\nthrough, kind of sit down and say okay,\n\n601\n00:29:54.929 --> 00:29:56.702\ntab-by-tab what's there.\n\n602\n00:29:56.702 --> 00:30:00.627\nSo do a little exploratory information\ngathering before you do anything.\n\n603\n00:30:00.627 --> 00:30:03.502\nEssentially what I'm doing here,\nopen it up, create a copy so\n\n604\n00:30:03.502 --> 00:30:05.251\nyou don't mess anything up, right?\n\n605\n00:30:05.251 --> 00:30:06.623\nAnd then play with the copy.\n\n606\n00:30:06.623 --> 00:30:10.027\nOn this tab I see these features,\non this tab I see these.\n\n607\n00:30:10.027 --> 00:30:13.900\nLet me make some notes, let me figure out\nwhat really I need to set on average.\n\n608\n00:30:13.900 --> 00:30:16.343\nIn what order should I do it,\nbased on what I'm doing.\n\n609\n00:30:16.343 --> 00:30:17.486\nOrder is not that critical.\n\n610\n00:30:17.486 --> 00:30:21.061\nIf you set validity period absolutely\nlast before you exit the template copy,\n\n611\n00:30:21.061 --> 00:30:22.807\nversus first, that's irrelevant.\n\n612\n00:30:22.807 --> 00:30:25.793\nIt doesn't matter what order\nyou configure these tabs in.\n\n613\n00:30:25.793 --> 00:30:28.438\nWhat's important is that you know there\nare certain tabs you must touch, and\n\n614\n00:30:28.438 --> 00:30:30.605\ncertain things you must do,\nis what I'm suggesting, right?\n\n615\n00:30:30.605 --> 00:30:33.504\nBut the order you do them in, really\nirrelevant, it doesn't really matter.\n\n616\n00:30:33.504 --> 00:30:37.623\nI'm just suggesting, go to general first,\nget those things out of the way.\n\n617\n00:30:37.623 --> 00:30:39.077\nName it, set the validity period or\n\n618\n00:30:39.077 --> 00:30:41.221\nat least acknowledge\nthe validity period is there.\n\n619\n00:30:41.221 --> 00:30:43.230\nSo yeah it's good,\ntwo years no problem and then go off and\n\n620\n00:30:43.230 --> 00:30:44.757\ndo all the other stuff\nthat we talked about.\n\n621\n00:30:44.757 --> 00:30:48.247\nGo to the security tab, allocate those\npermissions whatever they may be.\n\n622\n00:30:48.247 --> 00:30:51.022\nAuto enroll read, write, whatever it is.\n\n623\n00:30:51.022 --> 00:30:52.575\nGo in and go to the subject name.\n\n624\n00:30:52.575 --> 00:30:56.622\nGo to the superseded templates tab and\nmake sure you align those things.\n\n625\n00:30:56.622 --> 00:30:59.885\nDo all that stuff, I don't care\nwhat order you do it in, right?\n\n626\n00:30:59.885 --> 00:31:02.059\nBut I do care, you should care, as well,\n\n627\n00:31:02.059 --> 00:31:05.740\nabout making sure we hit all of\nthose capabilities and requirements.\n\n628\n00:31:05.740 --> 00:31:06.922\nWe don't leave something out.\n\n629\n00:31:06.922 --> 00:31:09.052\nCan we go back and edit it after the fact?\n\n630\n00:31:09.052 --> 00:31:10.722\nAbsolutely, never a problem.\n\n631\n00:31:10.722 --> 00:31:12.499\nYou make a mistake, you forget something,\n\n632\n00:31:12.499 --> 00:31:16.162\njust go back into the management interface\nhere, right-click, go to the copy, right?\n\n633\n00:31:16.162 --> 00:31:17.809\nProperties, and just make the change.\n\n634\n00:31:17.809 --> 00:31:20.444\nBut if you have to do a job\ntwice to get it right,\n\n635\n00:31:20.444 --> 00:31:24.174\nthat's better than not getting it\nright once and screwing it up.\n\n636\n00:31:24.174 --> 00:31:25.745\nBut it's not as good as getting\nit right the first time.\n\n637\n00:31:25.745 --> 00:31:28.228\nAnd while over time you\nget better at thing, and\n\n638\n00:31:28.228 --> 00:31:30.163\nclearly there's a learning curve.\n\n639\n00:31:30.163 --> 00:31:33.194\nThe quicker out of the gate you are to\nfigure out how to do things the right way,\n\n640\n00:31:33.194 --> 00:31:34.687\nthe better you're gonna be overall,\n\n641\n00:31:34.687 --> 00:31:37.313\nless mistakes you're gonna make\nlet's be honest, ultimately.\n\n642\n00:31:37.313 --> 00:31:39.024\nAnd also more successful\nyou're gonna be and\n\n643\n00:31:39.024 --> 00:31:42.141\nunderstand how to apply this knowledge in\nthe real world, but also for the exams.\n\n644\n00:31:42.141 --> 00:31:44.062\nIt's gonna be very important for\nyou to think about that.\n\n645\n00:31:44.062 --> 00:31:45.697\nSo just some thoughts about this.\n\n646\n00:31:45.697 --> 00:31:49.586\nBut enrollment agents as you can see, just\na matter of manipulating those templates\n\n647\n00:31:49.586 --> 00:31:51.517\nand deciding which one we're gonna use.\n\n648\n00:31:51.517 --> 00:31:54.254\nSo that's what that particular\nconversation's about, but\n\n649\n00:31:54.254 --> 00:31:55.419\nI am looking at the clock.\n\n650\n00:31:55.419 --> 00:31:57.446\nI'm gonna be Ms. Cherokee for\nthis part of the conversation.\n\n651\n00:31:57.446 --> 00:31:59.724\n&gt;&gt; [LAUGH] Okay,\nare you gonna do it in my voice, though?\n\n652\n00:31:59.724 --> 00:32:03.531\n&gt;&gt; No, I don't think I can, but\nI can move my lips and not say anything.\n\n653\n00:32:03.531 --> 00:32:05.118\nAnd if we don't focus on you, and\n\n654\n00:32:05.118 --> 00:32:06.008\nyou talk-\n&gt;&gt; Okay.\n\n655\n00:32:06.008 --> 00:32:09.211\n&gt;&gt; And we cut this part out of the\nconversation, nobody knows we're about to\n\n656\n00:32:09.211 --> 00:32:12.894\ndo that, which probably won't happen cuz\nI already said it, but we could pretend.\n\n657\n00:32:12.894 --> 00:32:13.677\n&gt;&gt; Okay, let's do it.\n\n658\n00:32:13.677 --> 00:32:15.479\n&gt;&gt; All right, so you're gonna focus on me-\n&gt;&gt; Yeah.\n\n659\n00:32:15.479 --> 00:32:18.247\n&gt;&gt; And I'm gonna mouth the words and\nwhat are we gonna say, we're gonna say\n\n660\n00:32:18.247 --> 00:32:18.915\n&gt;&gt; We're out of time.\n\n661\n00:32:18.915 --> 00:32:19.794\nJust so we're clear.\n\n662\n00:32:19.794 --> 00:32:21.382\n&gt;&gt; [CROSSTALK] Keep going Adam.\n\n663\n00:32:21.382 --> 00:32:23.336\n&gt;&gt; Good, all right, so.\n\n664\n00:32:23.336 --> 00:32:25.033\n&gt;&gt; We are out of time ladies and\ngentlemen.\n\n665\n00:32:25.033 --> 00:32:27.258\nBut we hope you join us for\nthe next episode.\n\n666\n00:32:27.258 --> 00:32:29.228\n&gt;&gt; DPI hands to distract you\nbecause I can't keep up.\n\n667\n00:32:29.228 --> 00:32:32.421\n[LAUGH] All right so\nwe are out of time, absolutely correct.\n\n668\n00:32:32.421 --> 00:32:35.803\nAnd we are, as I promised you,\nwe still have to talk about key archiving.\n\n669\n00:32:35.803 --> 00:32:39.019\nWhich means we're gonna come back, do\nanother episode right after this one and\n\n670\n00:32:39.019 --> 00:32:41.483\nwe're just gonna do the hands\non deep dive on key archiving.\n\n671\n00:32:41.483 --> 00:32:43.314\nKinda break it out as its\nown little discussion.\n\n672\n00:32:43.314 --> 00:32:45.885\n&gt;&gt; All right, we're gonna go ahead and\nsign out, I've been your host,\n\n673\n00:32:45.885 --> 00:32:46.548\nCherokee Boose.\n\n674\n00:32:46.548 --> 00:32:47.709\n&gt;&gt; I am Adam Gordon.\n\n675\n00:32:47.709 --> 00:32:50.993\n&gt;&gt; See you next time here at ITProTV.\n\n676\n00:32:50.993 --> 00:32:57.041\n[MUSIC]\n\n677\n00:32:57.041 --> 00:33:00.207\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232485158"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing certificate services. Specifically, they examine key archivng.  Adam demonstrates the steps to create a Key Recovery Agent (KRA). Adam makes sure you understand that you must enable this functionality on both the CA and the specific certificate templates.",
          "length": "2655",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-2-2-auto_enrollment_and_key_archiving_pt2-083117-PGM.00_43_55_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-2-2-auto_enrollment_and_key_archiving_pt2-083117-PGM.00_43_55_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-2-2-auto_enrollment_and_key_archiving_pt2-083117-PGM.00_43_55_06.Still001-sm.jpg",
          "title": "Auto Enrollment and Key Archiving Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.043 --> 00:00:01.180\nWelcome to ITProTV,\nI'm your host [CROSSTALK]\n\n2\n00:00:01.180 --> 00:00:07.607\n&gt;&gt; [MUSIC]\n\n3\n00:00:07.607 --> 00:00:10.629\nYou're watching ITProTV.\n\n4\n00:00:10.629 --> 00:00:13.230\n&gt;&gt; Welcome back to our Identity\nwith Windows Server 2016 series.\n\n5\n00:00:13.230 --> 00:00:16.545\nI'm your show host, Cherokee Boose.\n\n6\n00:00:17.870 --> 00:00:21.394\nThis is actually a continuation\nof a previous conversation,\n\n7\n00:00:21.394 --> 00:00:24.998\nwhere we taking a look at\nauto-enrollment and key archiving.\n\n8\n00:00:24.998 --> 00:00:28.947\nSpecifically, we got to spend some\ntime really taking a look at that\n\n9\n00:00:28.947 --> 00:00:33.058\nauto-enrollment process, and\neven looking at enrollment agents.\n\n10\n00:00:33.058 --> 00:00:34.705\nAnd we were able to convince Mr.\n\n11\n00:00:34.705 --> 00:00:38.060\nAdam Gordon to come back in studios\nto help us with key archivals.\n\n12\n00:00:38.060 --> 00:00:39.750\nSo thank you for joining us today, Adam.\n\n13\n00:00:39.750 --> 00:00:41.210\n&gt;&gt; Thank you, where's my coffee?\n\n14\n00:00:41.210 --> 00:00:42.860\nYou promised me coffee, where's no coffee.\n\n15\n00:00:42.860 --> 00:00:44.540\n&gt;&gt; Will work for coffee,\nthat was the stipulation.\n\n16\n00:00:44.540 --> 00:00:46.036\n&gt;&gt; I'm upset,\nbecause that was the promise,\n\n17\n00:00:46.036 --> 00:00:48.110\nthere was gonna be a big\ncup of coffee right there.\n\n18\n00:00:48.110 --> 00:00:50.080\nAll right, so,\nwe're gonna continue talking,\n\n19\n00:00:50.080 --> 00:00:53.200\nkind of a part two of this\nlast episode with Cherokee.\n\n20\n00:00:53.200 --> 00:00:55.470\nAnd again, we're gonna pick up and\njust jump right back in,\n\n21\n00:00:55.470 --> 00:00:59.970\nwe were talking through the beginning\nof the thought processes.\n\n22\n00:00:59.970 --> 00:01:03.852\nI mentioned that that there's this thing\ncalled key archival, or key archiving,\n\n23\n00:01:03.852 --> 00:01:06.247\ndepending on just kinda\nthe way you think about it.\n\n24\n00:01:06.247 --> 00:01:10.769\nWe use a key recovery agent template,\nthat's called a KRA certificate template,\n\n25\n00:01:10.769 --> 00:01:15.097\nto issue the certificate that will be used\nto drive key archiving in the archival\n\n26\n00:01:15.097 --> 00:01:15.690\nprocess.\n\n27\n00:01:15.690 --> 00:01:18.638\nSo we're just gonna explain a little bit\nabout that in a little more depth before\n\n28\n00:01:18.638 --> 00:01:19.482\nwe go in, take a look.\n\n29\n00:01:19.482 --> 00:01:21.135\nBut I have our environment set up,\n\n30\n00:01:21.135 --> 00:01:23.990\nwe have the queue recovery\nagent template already teed up.\n\n31\n00:01:23.990 --> 00:01:27.035\nYou probably saw it in the beginning\nof the demonstration we went through in\n\n32\n00:01:27.035 --> 00:01:29.324\nthe last episode,\nit was there along with Secure User.\n\n33\n00:01:29.324 --> 00:01:32.999\nWe're gonna go through, use that,\nopen up a separate MMC for\n\n34\n00:01:32.999 --> 00:01:37.468\ncertificates on the local machine,\nuse the personal certificate store.\n\n35\n00:01:37.468 --> 00:01:39.488\nIssue a certificate request, go in and\n\n36\n00:01:39.488 --> 00:01:43.223\ngrab a certificate that can then be\ntied to this idea of key recovery, and\n\n37\n00:01:43.223 --> 00:01:45.760\njust walk through the process\nof how we do that.\n\n38\n00:01:45.760 --> 00:01:49.300\nBut key archival and recovery overall,\nit's really the idea of storing,\n\n39\n00:01:49.300 --> 00:01:53.170\nand using, and potentially\nhaving access to the private key\n\n40\n00:01:53.170 --> 00:01:56.690\nin the private-public key pair\nthat we may be interacting with.\n\n41\n00:01:56.690 --> 00:02:00.170\nOr in just a private key scenario alone,\neither way,\n\n42\n00:02:00.170 --> 00:02:03.980\ncuz we do have private keys in both\nsymmetric and asymmetric cryptography.\n\n43\n00:02:03.980 --> 00:02:07.660\nBut we're talking about focusing on\nthe ability to interact with and\n\n44\n00:02:07.660 --> 00:02:09.330\narchive a private key.\n\n45\n00:02:09.330 --> 00:02:12.220\nAnd that's really what the key\narchival process is all about.\n\n46\n00:02:12.220 --> 00:02:15.170\nIf we have to recover that key,\nor pull it back, or for\n\n47\n00:02:15.170 --> 00:02:18.420\nsome reason it's been made unavailable,\nwe have to get access to it?\n\n48\n00:02:18.420 --> 00:02:22.680\nThis thought process is gonna give us\na safety net, a way to get access to\n\n49\n00:02:22.680 --> 00:02:26.970\nthe key, and have a secure functional\ninterface to be able to work with it.\n\n50\n00:02:26.970 --> 00:02:29.360\nHave a copy of it, but\nalso keep it secured.\n\n51\n00:02:29.360 --> 00:02:33.130\nThe most important element, most\nimportant thought process, if you will,\n\n52\n00:02:33.130 --> 00:02:37.100\nwhen we think about cryptography,\nis the idea of key management.\n\n53\n00:02:37.100 --> 00:02:41.860\nAnd really specifically, focusing on\nthe security of the keys that we use.\n\n54\n00:02:41.860 --> 00:02:45.036\nAnd there are certain keys in\nthe public-private key pair,\n\n55\n00:02:45.036 --> 00:02:48.156\nwhat we would call the public key,\nthat is made available.\n\n56\n00:02:48.156 --> 00:02:51.396\nOr potentially can be made\navailable to end users, to systems,\n\n57\n00:02:51.396 --> 00:02:53.510\nunder a variety of circumstances.\n\n58\n00:02:53.510 --> 00:02:55.630\nThings that may want to\ninteract with that key, and\n\n59\n00:02:55.630 --> 00:02:59.470\nhave access to it to drive\naspects of the key usage.\n\n60\n00:02:59.470 --> 00:03:02.830\nWhether it is to digitally sign an email,\n\n61\n00:03:02.830 --> 00:03:07.320\nand perhaps you use that key to be\nable to securely transmit the message.\n\n62\n00:03:07.320 --> 00:03:12.260\nPerhaps to validate a file's integrity,\nthrough some sort of hashing capability.\n\n63\n00:03:12.260 --> 00:03:17.580\nWhatever it may be, there are aspects of\ncryptography that do involve showing,\n\n64\n00:03:17.580 --> 00:03:21.230\nor making available, keys to users,\nand not keeping them secret.\n\n65\n00:03:21.230 --> 00:03:23.700\nThose would be what we classify\ntraditionally as public keys.\n\n66\n00:03:23.700 --> 00:03:26.730\nBut there's an area of cryptography,\nin terms of key management,\n\n67\n00:03:26.730 --> 00:03:32.160\nthat focuses really on the secrecy, the\nsecurity of the long term management of,\n\n68\n00:03:32.160 --> 00:03:34.410\nand the privacy of,\nwhat we call the private key.\n\n69\n00:03:34.410 --> 00:03:37.301\nAnd this is actually something\nknown as Kerckhoff's Principle,\n\n70\n00:03:37.301 --> 00:03:38.802\nwhen we talk about cryptography.\n\n71\n00:03:38.802 --> 00:03:42.057\nA principle that states that if all\nthe elements of the cryptosystem,\n\n72\n00:03:42.057 --> 00:03:44.388\nall the moving parts of\ncryptography that we use.\n\n73\n00:03:44.388 --> 00:03:46.338\nThe algorithm, the key, the key pairs,\n\n74\n00:03:46.338 --> 00:03:48.866\nif we're doing private-public\nkey cryptography.\n\n75\n00:03:48.866 --> 00:03:53.012\nThe plaintext, the data that's going\ninto the system that will be encrypted.\n\n76\n00:03:53.012 --> 00:03:55.430\nThe ciphertext,\nthe encrypted text that comes out, or\n\n77\n00:03:55.430 --> 00:03:57.125\ndata that comes out the back end.\n\n78\n00:03:57.125 --> 00:03:59.535\nAll these things we could expose,\nand in theory,\n\n79\n00:03:59.535 --> 00:04:02.905\ngive away knowledge of all of them, with\none exception, which is the private key.\n\n80\n00:04:02.905 --> 00:04:05.975\nAnd so when we think about\nfocusing on security of the keys,\n\n81\n00:04:05.975 --> 00:04:08.505\nwe're really thinking about\nensuring that we understand how to\n\n82\n00:04:08.505 --> 00:04:10.235\nmanage that private key effectively.\n\n83\n00:04:10.235 --> 00:04:14.145\nAnd so this process helps us to really\nzero in on that idea with regards to what\n\n84\n00:04:14.145 --> 00:04:17.380\nwe're doing here,\nmaking sure we understand the logic of it.\n\n85\n00:04:17.380 --> 00:04:20.096\nDid I get all of the public/private\nkey stuff, [CROSSTALK]?\n\n86\n00:04:20.096 --> 00:04:22.460\n&gt;&gt; We don't have our little-\n&gt;&gt; We don't have Bob and Alice, right, and\n\n87\n00:04:22.460 --> 00:04:24.792\nall our little [CROSSTALK]\n&gt;&gt; We don't have Bob and Alice, and\n\n88\n00:04:24.792 --> 00:04:27.189\nwe don't have our little props,\nour key props this time.\n\n89\n00:04:27.189 --> 00:04:28.135\n&gt;&gt; Remember, yeah,\nwe did that's right, I remember.\n\n90\n00:04:28.135 --> 00:04:31.280\nWe have the keys from the last time we\ndid that, I wonder where those went?\n\n91\n00:04:31.280 --> 00:04:32.090\nWe actually had, that's right.\n\n92\n00:04:32.090 --> 00:04:33.438\n&gt;&gt; I still have them.\n\n93\n00:04:33.438 --> 00:04:33.990\n&gt;&gt; You do, okay, yeah.\n\n94\n00:04:33.990 --> 00:04:35.920\n&gt;&gt; As a souvenir.\n&gt;&gt; That's right, Cherokee and I actually,\n\n95\n00:04:35.920 --> 00:04:38.119\nwe did a cool little set of shows\nfrom a security perspective,\n\n96\n00:04:38.119 --> 00:04:40.250\nwith regards to keys,\nkey management, that whole thing.\n\n97\n00:04:40.250 --> 00:04:42.750\nAnd we have the keys, we kept handing\nthem back and forth, that's right.\n\n98\n00:04:42.750 --> 00:04:43.410\n&gt;&gt; [LAUGH]\n&gt;&gt; But anyway,\n\n99\n00:04:43.410 --> 00:04:46.650\nso I'm hoping that you feel we got\neverything organized and correct,\n\n100\n00:04:46.650 --> 00:04:47.490\nwhen we talked about that.\n\n101\n00:04:47.490 --> 00:04:49.950\nBut just a little security background,\nan overlay,\n\n102\n00:04:49.950 --> 00:04:53.770\nnot necessarily specific to any of\nthe things we're talking about.\n\n103\n00:04:53.770 --> 00:04:56.985\nBut more background information,\njust putting the context out there for us,\n\n104\n00:04:56.985 --> 00:05:00.066\nwith regards to what we're gonna do,\nor at least how we're gonna do that.\n\n105\n00:05:00.066 --> 00:05:03.154\nRemember, key archiving,\nthe idea of storing a copy of the key,\n\n106\n00:05:03.154 --> 00:05:04.290\nkeeping it available.\n\n107\n00:05:04.290 --> 00:05:07.373\nSecurely, right, with some sort of\nprotection associated with it, and\n\n108\n00:05:07.373 --> 00:05:10.870\nthen potentially make it available for\nuse, you need either a recovery scenario.\n\n109\n00:05:10.870 --> 00:05:14.332\nOr in a scenario where we're meaning\nto get it back for some reason,\n\n110\n00:05:14.332 --> 00:05:17.876\nif we need it, is a pretty standard\nthought process in lots of areas.\n\n111\n00:05:17.876 --> 00:05:20.551\nWe have the ability to\ndo what's key escrowing,\n\n112\n00:05:20.551 --> 00:05:23.758\nplant a copy of a key somewhere\nwith a trusted third party.\n\n113\n00:05:23.758 --> 00:05:26.507\nTypically out of the system,\nso that it's removed and\n\n114\n00:05:26.507 --> 00:05:31.051\nmay not be susceptible to being grabbed,\nhacked, attacked, compromised, whatever,\n\n115\n00:05:31.051 --> 00:05:32.214\nand stored securely.\n\n116\n00:05:32.214 --> 00:05:35.992\nWhere we can then, under certain\ncircumstances, provided we have the right\n\n117\n00:05:35.992 --> 00:05:40.450\ncredentials, perhaps the right password,\nthe right information, whatever it is.\n\n118\n00:05:40.450 --> 00:05:44.501\nGo to that that escrow agent and say,\nplease give my a copy of the key, kind of,\n\n119\n00:05:44.501 --> 00:05:47.238\nhere's my reasoning,\nhere's the information you require.\n\n120\n00:05:47.238 --> 00:05:50.257\nAnd can I get a copy so we can do\nrecovery, or whatever the case may be.\n\n121\n00:05:50.257 --> 00:05:53.715\nSo with business continuity,\ndisaster recovery capabilities,\n\n122\n00:05:53.715 --> 00:05:57.665\nthis thought process does extend\ninto many areas of the IT space.\n\n123\n00:05:57.665 --> 00:05:58.974\nBut we're just extending it, and\n\n124\n00:05:58.974 --> 00:06:01.545\nthinking about talking about\nit with specificity here.\n\n125\n00:06:01.545 --> 00:06:06.449\nWhen we engage in and automatically, or\nrather, when we engage and set up the use\n\n126\n00:06:06.449 --> 00:06:10.436\nof key archiving and recovery,\nonce we do this and we set this up.\n\n127\n00:06:10.436 --> 00:06:11.390\nit's not enabled by default, so\n\n128\n00:06:11.390 --> 00:06:13.305\nwe obviously just have to go\nthrough some steps, which we'll do.\n\n129\n00:06:13.305 --> 00:06:17.235\nBut once we do that, starts and\napplies on the CA at that point.\n\n130\n00:06:17.235 --> 00:06:22.290\nBut any certificates that have been issued\nprior to us enabling this are not gonna\n\n131\n00:06:22.290 --> 00:06:26.320\nessentially be the benefit of, or\nthe beneficiary of, this functionality.\n\n132\n00:06:26.320 --> 00:06:29.790\nSo we do have a line in the sand we\nessentially draw when we do this, and\n\n133\n00:06:29.790 --> 00:06:32.240\nfrom the time forward\nthat this is enabled.\n\n134\n00:06:32.240 --> 00:06:35.280\nThose certificates issued after\nthat will benefit from this, and\n\n135\n00:06:35.280 --> 00:06:38.770\nwill have their keys archived, so\nwe can recover them if need be.\n\n136\n00:06:38.770 --> 00:06:42.680\nBut certificates issued prior will\nnot necessarily benefit from this,\n\n137\n00:06:42.680 --> 00:06:44.980\nunless we reissue them at\na certain point in the future.\n\n138\n00:06:44.980 --> 00:06:46.990\nAnd then, as a result,\nthen we can do that.\n\n139\n00:06:46.990 --> 00:06:51.015\nSo keep in mind, we are potentially\ncreating a before and after scenario here,\n\n140\n00:06:51.015 --> 00:06:55.025\nwhere certain certificates may or\nmay not benefit from this technology.\n\n141\n00:06:55.025 --> 00:06:56.885\nSo I just wanna be aware of this and\nthink about it.\n\n142\n00:06:56.885 --> 00:07:00.585\nWe do enroll based on this KRA template,\nso why don't we just take a look and\n\n143\n00:07:00.585 --> 00:07:02.865\nat least start by talking\nabout what that looks like.\n\n144\n00:07:02.865 --> 00:07:07.585\nLet me get out of where I am right now,\ngo back over to the Enterprise side,\n\n145\n00:07:07.585 --> 00:07:09.255\nour certificate authority here.\n\n146\n00:07:09.255 --> 00:07:12.136\nCertificate templates area,\nkey recovery agents, so\n\n147\n00:07:12.136 --> 00:07:13.798\nwe can see the template is here.\n\n148\n00:07:13.798 --> 00:07:16.375\nRemember, I went in,\nmanaged the certificate templates,\n\n149\n00:07:16.375 --> 00:07:18.760\ntook the key recovery agent and\njust made it available.\n\n150\n00:07:18.760 --> 00:07:22.598\nSo I may have modified any of the settings\nthat I would have wanted to take a look\n\n151\n00:07:22.598 --> 00:07:23.340\nat there.\n\n152\n00:07:23.340 --> 00:07:27.940\nI then came in here, went ahead,\nnew certificate template to issue,\n\n153\n00:07:27.940 --> 00:07:29.550\npulled in key recovery agent.\n\n154\n00:07:29.550 --> 00:07:32.430\nI did that for Secure User in our\nprior demonstration, as well.\n\n155\n00:07:32.430 --> 00:07:36.533\nAnd then once the certificate\ntemplate is available,\n\n156\n00:07:36.533 --> 00:07:41.182\nwhat we're then gonna do,\njust bring back up this other MMC.\n\n157\n00:07:41.182 --> 00:07:44.411\nSo I just created a blank MMC,\nwent to the add and remove snap-ins,\n\n158\n00:07:44.411 --> 00:07:46.974\nwent to the certificate snap-in,\nbrought that in.\n\n159\n00:07:46.974 --> 00:07:50.289\nMade sure that I created a certificate\nconsole that I can use to manage\n\n160\n00:07:50.289 --> 00:07:52.360\ncertificates on the local machine.\n\n161\n00:07:52.360 --> 00:07:55.293\nAnd I'm in the certificate area for\nthe current user, as you can see.\n\n162\n00:07:55.293 --> 00:07:59.909\nI'm in personal, and what I'm gonna do is\nI'm gonna go ahead, And I'm gonna go and\n\n163\n00:07:59.909 --> 00:08:04.150\nissue, or make a new request, for\na certificate that I can then attach here.\n\n164\n00:08:04.150 --> 00:08:09.950\nSo, I'm gonna right-click &gt;\nAll Tasks &gt; Request New Certificate.\n\n165\n00:08:09.950 --> 00:08:13.280\nAnd the little wizard here that we're\ngonna use just gives me some basic\n\n166\n00:08:13.280 --> 00:08:13.860\ninformation.\n\n167\n00:08:13.860 --> 00:08:16.922\nSays hey, you're gonna install\ncertificates, and we're gonna be able to\n\n168\n00:08:16.922 --> 00:08:19.530\nultimately go through and\ninstall certificates as a result of this.\n\n169\n00:08:19.530 --> 00:08:21.720\nAnd it kind of just explains\nwhat certificates are.\n\n170\n00:08:21.720 --> 00:08:22.760\nObviously, read through that.\n\n171\n00:08:22.760 --> 00:08:24.220\nIt says, hey, before you do this,\n\n172\n00:08:24.220 --> 00:08:27.330\nverify your computer's connected cuz\nyou have to connect to the network.\n\n173\n00:08:27.330 --> 00:08:30.630\nYou have to be able to see and\ninteract with the certificate authority.\n\n174\n00:08:30.630 --> 00:08:32.610\nI'm on the same machine, so\nthat's really not an issue.\n\n175\n00:08:32.610 --> 00:08:35.360\nBut, generically, you just wanna\nmake sure you have connectivity.\n\n176\n00:08:35.360 --> 00:08:38.970\nAnd most importantly, the credentials\nyou're gonna use, whoever you're logged\n\n177\n00:08:38.970 --> 00:08:42.500\non as, is gonna be the right credential\nthat may give you this capability.\n\n178\n00:08:42.500 --> 00:08:44.420\nSo, I'm gonna click Next.\n\n179\n00:08:44.420 --> 00:08:47.730\nWe have our certificate enrollment policy.\n\n180\n00:08:47.730 --> 00:08:50.650\nThe default one, the Active Directory\nenrollment policy is what we'll operate\n\n181\n00:08:50.650 --> 00:08:57.170\nunder, configured by the administrator\nof the CA and by whoever manages the CA.\n\n182\n00:08:57.170 --> 00:09:00.900\nWe may have any additional ones that\nare here or ones that I can add in.\n\n183\n00:09:00.900 --> 00:09:02.330\nWe're not gonna worry\nabout doing that now,\n\n184\n00:09:02.330 --> 00:09:05.590\nbut we'll use simply\nthe enrollment policy 4AD.\n\n185\n00:09:05.590 --> 00:09:09.523\nThen I have a list of, under\nthe Enrollment Policy whatever certificate\n\n186\n00:09:09.523 --> 00:09:13.521\ntemplates, as in the templates we just\ntalked about and we took a look at,\n\n187\n00:09:13.521 --> 00:09:14.953\nare made available to me.\n\n188\n00:09:14.953 --> 00:09:16.952\nAnd obviously,\nthe one we're focused on here,\n\n189\n00:09:16.952 --> 00:09:19.510\nkey recovery agent is\nwhat we're gonna select.\n\n190\n00:09:19.510 --> 00:09:20.550\nThat's the one I've added in.\n\n191\n00:09:20.550 --> 00:09:25.340\nSo I'm gonna make a check or a selection\nthere to do that, notice status available.\n\n192\n00:09:25.340 --> 00:09:28.505\nIf we wanna see a little bit about this,\njust wanna understand the details here.\n\n193\n00:09:28.505 --> 00:09:33.280\nLet me click here just to bring this down,\nwe kind of focus on this.\n\n194\n00:09:33.280 --> 00:09:37.140\nFollowing describes, or the options\nare described, what's the key usage,\n\n195\n00:09:37.140 --> 00:09:38.460\nwhat's it's used for?\n\n196\n00:09:38.460 --> 00:09:41.118\nWhat's the application of\nthe policy key recovery agent?\n\n197\n00:09:41.118 --> 00:09:44.487\nAnd importantly validity\nperiod measured in days.\n\n198\n00:09:44.487 --> 00:09:47.620\n730, so what,\nroughly almost 2 years, right?\n\n199\n00:09:47.620 --> 00:09:49.040\nSo just over two years.\n\n200\n00:09:49.040 --> 00:09:50.754\nSo just be aware of that.\n\n201\n00:09:50.754 --> 00:09:54.790\nOr actually 2 years,\n365 times 2 is 2 years, yeah, so 2 years.\n\n202\n00:09:54.790 --> 00:09:56.220\nSo we do have that.\n\n203\n00:09:56.220 --> 00:09:59.090\nAnd we could see properties\nhere if we want to.\n\n204\n00:09:59.090 --> 00:10:02.100\nReally nothing that we're gonna interact\nwith, but we can just take a look.\n\n205\n00:10:02.100 --> 00:10:06.630\nRight, so we can see here,\nextensions, the key information,\n\n206\n00:10:06.630 --> 00:10:09.160\ncertification authority that's\nissuing the certificate.\n\n207\n00:10:09.160 --> 00:10:12.190\nAgain we're on the local machine,\nwe are on the CA in other words.\n\n208\n00:10:12.190 --> 00:10:14.580\nBut we could see that information here.\n\n209\n00:10:14.580 --> 00:10:18.566\nSo we do have options, properties that we\ncan potentially interact with if need be\n\n210\n00:10:18.566 --> 00:10:19.678\nor make changes with.\n\n211\n00:10:19.678 --> 00:10:23.380\nAll right, so, we're gonna click\nEnroll here just to grab this.\n\n212\n00:10:23.380 --> 00:10:28.670\nSo let me click Enroll, let me click\nEnroll and actually mean it this time.\n\n213\n00:10:28.670 --> 00:10:29.580\nThere we go.\n\n214\n00:10:29.580 --> 00:10:31.820\nAll right.\n&gt;&gt; You have to click with confidence,\n\n215\n00:10:31.820 --> 00:10:32.560\nAdam.\n\n216\n00:10:32.560 --> 00:10:34.920\n&gt;&gt; I figured out,\nI actually think I know what it is.\n\n217\n00:10:34.920 --> 00:10:38.130\nThe mouse has this long kind of\narea that you can hold and click.\n\n218\n00:10:38.130 --> 00:10:40.980\nAnd I'm holding it, so\nI'm kinda clicking back here and\n\n219\n00:10:40.980 --> 00:10:43.690\nwhile it does theoretically click,\nit makes the click noise.\n\n220\n00:10:43.690 --> 00:10:44.500\n&gt;&gt; It doesn't push it down, right?\n\n221\n00:10:44.500 --> 00:10:46.325\n[LAUGH]-\n&gt;&gt; I don't think it's actually triggering\n\n222\n00:10:46.325 --> 00:10:48.547\nthe little click part-\n&gt;&gt; I think we can find you another mouse.-\n\n223\n00:10:48.547 --> 00:10:49.196\n&gt;&gt; in the front that does that.\n\n224\n00:10:49.196 --> 00:10:53.388\nSo I'm having to like grab the mouse\nmuch like I would if I was holding\n\n225\n00:10:53.388 --> 00:10:56.933\nit from the front, and\nthen I'm actually able to click.\n\n226\n00:10:56.933 --> 00:10:58.014\nSo, I'm mouse-challenged apparently.\n\n227\n00:10:58.014 --> 00:10:59.280\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so anyway, so\n\n228\n00:10:59.280 --> 00:11:01.760\nKey Recovery Agent has\nstatus enrollment pending.\n\n229\n00:11:01.760 --> 00:11:04.870\nThat's what we're looking for,\nbecause we are sending this through.\n\n230\n00:11:04.870 --> 00:11:08.840\nThis is one of those requests\nthat's not gonna be auto generated.\n\n231\n00:11:08.840 --> 00:11:12.340\nWe're gonna go in as\nthe certificate CA administrator,\n\n232\n00:11:12.340 --> 00:11:15.900\ngo see it in the Pending column\ninside the CA in just a minute,\n\n233\n00:11:15.900 --> 00:11:18.010\nwe'll then be able to click on it and\nissue it.\n\n234\n00:11:18.010 --> 00:11:20.640\nSo, just wanted to show you this part of\nthe process since we haven't looked at it\n\n235\n00:11:20.640 --> 00:11:21.400\nuntil now.\n\n236\n00:11:21.400 --> 00:11:23.450\nSo, enrollment pending is\nwhat we expect to see.\n\n237\n00:11:23.450 --> 00:11:26.350\nWe can look at details here\njust to see what this says.\n\n238\n00:11:26.350 --> 00:11:31.540\nIt says essentially that we have a request\nthat is pending, I can view the request.\n\n239\n00:11:31.540 --> 00:11:35.738\nSo I can go in, and it's the same\ninformation I just saw expect it's grayed\n\n240\n00:11:35.738 --> 00:11:40.156\nout now as opposed to having those options\navailable for me, to make changes.\n\n241\n00:11:40.156 --> 00:11:44.108\nYou could see everything is grayed out\nbecause I've generated a request from that\n\n242\n00:11:44.108 --> 00:11:45.780\ntemplate and I've submitted it.\n\n243\n00:11:45.780 --> 00:11:49.370\nIt's in a pending status, so\nnow I can only go in and have it approved.\n\n244\n00:11:49.370 --> 00:11:52.390\nI can't make any changes to any\nof the things that are here.\n\n245\n00:11:52.390 --> 00:11:55.250\nCuz at this point it's kind of\nin a holding pattern, right?\n\n246\n00:11:55.250 --> 00:11:57.638\nSo, I'm gonna click Finish.\n\n247\n00:11:57.638 --> 00:11:59.570\nAnd nothing happens here for the moment.\n\n248\n00:11:59.570 --> 00:12:02.580\nSo, we're gonna go back\nover to this console.\n\n249\n00:12:02.580 --> 00:12:06.130\nWell, obviously, in the real world this\nmaybe on two very different machines,\n\n250\n00:12:06.130 --> 00:12:07.970\nand two people maybe involved in this.\n\n251\n00:12:07.970 --> 00:12:11.430\nI'm doing this all from one machine,\nplaying both sides, both parts.\n\n252\n00:12:11.430 --> 00:12:16.190\nBut the reality is the CA manager, or the\nperson that's in charge of certificates,\n\n253\n00:12:16.190 --> 00:12:18.020\nwould then be called on to come in here.\n\n254\n00:12:18.020 --> 00:12:20.920\nUnder Pending Requests,\nwe can see, in this case,\n\n255\n00:12:20.920 --> 00:12:24.500\nthat we have this particular\nrequest taken under submission.\n\n256\n00:12:24.500 --> 00:12:25.860\nSo we're waiting on it.\n\n257\n00:12:25.860 --> 00:12:28.650\nIt tells me who the requestor was,\nthe submission date.\n\n258\n00:12:28.650 --> 00:12:31.360\nThis is my certificate that I\njust went in and requested.\n\n259\n00:12:31.360 --> 00:12:35.240\nSo, we're gonna highlight this,\nwe can right click here &gt; All tasks.\n\n260\n00:12:35.240 --> 00:12:37.320\nNotice, we have really\njust have two options,\n\n261\n00:12:37.320 --> 00:12:41.200\nI mean we can view the attributes, we\ncan look at it just to see what's there.\n\n262\n00:12:41.200 --> 00:12:44.130\nBut there's really no\ninformation that's gonna\n\n263\n00:12:44.130 --> 00:12:47.360\nbenefit us other than just maybe helping\nus to decide whether this is a valid\n\n264\n00:12:47.360 --> 00:12:49.970\nrequest from somebody that\nwe wanna issue to or not.\n\n265\n00:12:49.970 --> 00:12:53.629\nSo as an administrator, you may look at\nthe attributes but once you've figured\n\n266\n00:12:53.629 --> 00:12:57.411\nthat out, you really only have two course\nof actions here, either issue or deny.\n\n267\n00:12:57.411 --> 00:13:00.297\nRight, allow issue,\ngive the certificate out, or deny,\n\n268\n00:13:00.297 --> 00:13:01.866\nessentially fail the request.\n\n269\n00:13:01.866 --> 00:13:05.620\nAnd take it from pending and to failed,\nor pending into issue, right?\n\n270\n00:13:05.620 --> 00:13:06.690\nAbove or below.\n\n271\n00:13:06.690 --> 00:13:08.410\nSo we're gonna issue this certificate.\n\n272\n00:13:08.410 --> 00:13:09.780\nSo I'm gonna go ahead and click Issue.\n\n273\n00:13:10.900 --> 00:13:15.270\nDisappears immediately,\ngoes over here into Issued Certificates.\n\n274\n00:13:15.270 --> 00:13:19.490\nWe could see now, Certificate, Template,\nKey, Recovery, Agent, so it's been issued.\n\n275\n00:13:19.490 --> 00:13:21.820\nGives me the expiration date information.\n\n276\n00:13:21.820 --> 00:13:23.730\nOur request ID is there.\n\n277\n00:13:23.730 --> 00:13:28.784\nAnd the requester name,\nif I just pull that over,\n\n278\n00:13:28.784 --> 00:13:33.780\nThere we go, is me,\nthe administrator, right.\n\n279\n00:13:33.780 --> 00:13:37.400\nPractice Labs Administrator, the domain\nadmin is the credential I'm using.\n\n280\n00:13:37.400 --> 00:13:41.009\nSo I can come back over here now,\nback to where I was.\n\n281\n00:13:41.009 --> 00:13:44.160\nAnd now what I can do is kinda kick\nin the next part of the process here.\n\n282\n00:13:44.160 --> 00:13:46.980\nWhich is, hey how do I go out,\ngrab that certificate and\n\n283\n00:13:46.980 --> 00:13:49.200\nwhat do I actually do in\norder to work with it.\n\n284\n00:13:49.200 --> 00:13:51.200\nSo what we're gonna do is the following.\n\n285\n00:13:51.200 --> 00:13:52.247\nWe're gonna go out and\n\n286\n00:13:52.247 --> 00:13:55.620\nI'm gonna actually go copy this\ncertificate before I do anything else.\n\n287\n00:13:55.620 --> 00:13:58.983\nBut I'm gonna copy it,\nmake a copy of it to a file but\n\n288\n00:13:58.983 --> 00:14:03.940\nI'll be able to come in here and I'll\nbe able to go though and bring this in.\n\n289\n00:14:03.940 --> 00:14:04.863\nLet me just show you.\n\n290\n00:14:04.863 --> 00:14:08.910\nYou'll see that I can import\nthe certificate once I make a copy of it.\n\n291\n00:14:08.910 --> 00:14:12.230\nSo I'm gonna go copy it right now, then\nI'm gonna come in here and essentially use\n\n292\n00:14:12.230 --> 00:14:15.000\nthe import function to bring\nthe certificate in and make it available.\n\n293\n00:14:15.000 --> 00:14:16.583\nSo, I'm gonna do that.\n\n294\n00:14:16.583 --> 00:14:17.629\nAnd then once we've done that,\n\n295\n00:14:17.629 --> 00:14:19.970\nwe'll be able to use the certificate\nto drive these kinds of activity.\n\n296\n00:14:19.970 --> 00:14:21.550\nSo let's go back her.\n\n297\n00:14:21.550 --> 00:14:25.250\nLet's come here, let's right-click,\nand let's go in here.\n\n298\n00:14:25.250 --> 00:14:27.890\nAnd what we're gonna do is the following.\n\n299\n00:14:27.890 --> 00:14:29.010\nJust gonna open this up.\n\n300\n00:14:30.300 --> 00:14:32.920\n&gt;&gt; Okay, so\nthe people who are actually obtaining or\n\n301\n00:14:32.920 --> 00:14:34.710\ngetting access to this certificate.\n\n302\n00:14:34.710 --> 00:14:37.500\nThey're going to be the ones who\ncan decrypt that information or,\n\n303\n00:14:37.500 --> 00:14:43.060\nlike you said, drive those ways\nthat we would be able to use this?\n\n304\n00:14:43.060 --> 00:14:48.950\nIf I had received this particular\ncertificate and now I actually have it,\n\n305\n00:14:48.950 --> 00:14:52.510\nI'm able to decrypt the information\nat that point in time?\n\n306\n00:14:52.510 --> 00:14:56.510\n&gt;&gt; Well, if you have this certificate,\nwhat you have is the ability to be able\n\n307\n00:14:56.510 --> 00:14:59.662\nto go and use it to recover-\n&gt;&gt; Access to KRA.\n\n308\n00:14:59.662 --> 00:15:04.197\n&gt;&gt; Somebody's key who, well, this is is\nthe certificate template for the KRA.\n\n309\n00:15:04.197 --> 00:15:07.200\nIn other words we issued\na certificate under this template.\n\n310\n00:15:07.200 --> 00:15:12.052\nBut what the certificate itself represents\nis the ability to have this capability\n\n311\n00:15:12.052 --> 00:15:14.340\nto become a key recovery agent.\n\n312\n00:15:14.340 --> 00:15:18.910\nSo you would have the ability to\nsee other keys or use the recovery\n\n313\n00:15:18.910 --> 00:15:23.044\ncapability to go get someone's key and\npotentially then recover information or\n\n314\n00:15:23.044 --> 00:15:26.710\ndecrypt it or whatever you're suggesting\nas a result of that permission or\n\n315\n00:15:26.710 --> 00:15:28.700\nthat right that the certificate\nwould infer on you.\n\n316\n00:15:28.700 --> 00:15:29.380\n&gt;&gt; Okay.\n\n317\n00:15:29.380 --> 00:15:31.925\n&gt;&gt; So in theory, yes,\nyou could use this to do that.\n\n318\n00:15:31.925 --> 00:15:33.132\n&gt;&gt; We're just not giving\nthis out to everyone,\n\n319\n00:15:33.132 --> 00:15:34.140\nit's gonna be a select-\n&gt;&gt; Well no,\n\n320\n00:15:34.140 --> 00:15:38.030\ntypically you wouldn't give this to\njust anybody cuz this is literally\n\n321\n00:15:38.030 --> 00:15:41.930\nessentially giving someone the rights\nto see any kind of encrypted data.\n\n322\n00:15:41.930 --> 00:15:44.970\nThat would be in a system\nwhere this role or\n\n323\n00:15:44.970 --> 00:15:47.950\nthis capability that the certificate\nis inferring could be used.\n\n324\n00:15:47.950 --> 00:15:50.441\nSo you may be able to unlock\nall sorts of encrypted data,\n\n325\n00:15:50.441 --> 00:15:52.457\nwhich would not necessarily\nbe a good thing.\n\n326\n00:15:52.457 --> 00:15:57.171\nSo, no, we wouldn't wanna just randomly\ngive this out to Some general user.\n\n327\n00:15:57.171 --> 00:16:02.430\nWe technically reserve this for some sort\nof either a delegated responsibility or\n\n328\n00:16:02.430 --> 00:16:06.786\nrole that may have rights to do\nrecovery under some circumstances.\n\n329\n00:16:06.786 --> 00:16:09.140\nI mentioned BCDR, business continuity.\n\n330\n00:16:09.140 --> 00:16:12.680\nDisaster recovery generically is\nthe thought process that we often see\n\n331\n00:16:12.680 --> 00:16:16.890\na role like this or a permission like\nthis assigned to certain rights or\n\n332\n00:16:16.890 --> 00:16:20.610\ngiven certain rights under that\ndesignation to drive recovery.\n\n333\n00:16:20.610 --> 00:16:24.590\nThe administrative credentials and\nthe either at the forest level or\n\n334\n00:16:24.590 --> 00:16:28.080\nthe domain level typically have\nrights to do this kind of stuff.\n\n335\n00:16:28.080 --> 00:16:31.617\nFor instance, EFS the encrypted\nfile system in the older versions\n\n336\n00:16:31.617 --> 00:16:35.440\nof Windows and even in the newer\nversions which we still support it.\n\n337\n00:16:35.440 --> 00:16:38.124\nBut, if you were using EFS\njust hypothetically right,\n\n338\n00:16:38.124 --> 00:16:41.680\ndomain admins have rights automatically\nrights to key recovery agents.\n\n339\n00:16:41.680 --> 00:16:43.790\nTo be able to recover data in that system.\n\n340\n00:16:43.790 --> 00:16:47.510\nSo we would be given the right in theory\nto be able to get access to data.\n\n341\n00:16:47.510 --> 00:16:52.450\nWe may delegate this out and use this\non behalf of other requirements, or\n\n342\n00:16:52.450 --> 00:16:54.410\nother users to be able to recover data for\nthem.\n\n343\n00:16:54.410 --> 00:16:56.360\nSo, yeah, you may give this to somebody.\n\n344\n00:16:56.360 --> 00:16:57.200\nBut typically,\n\n345\n00:16:57.200 --> 00:16:58.779\nit's not something you would give out\n&gt;&gt; Right.\n\n346\n00:16:58.779 --> 00:17:00.940\n[LAUGH]\n&gt;&gt; To just a normal general user.\n\n347\n00:17:00.940 --> 00:17:03.670\nLet's put it that way, all right, so\nif we go back into where we were,\n\n348\n00:17:03.670 --> 00:17:06.580\nwhat we're gonna do is copy this\ncertificate out to the file.\n\n349\n00:17:06.580 --> 00:17:08.720\nSo, I've just gone opened up,\nright click properties.\n\n350\n00:17:08.720 --> 00:17:09.940\nJust opened up the certificate.\n\n351\n00:17:09.940 --> 00:17:10.990\nBut I'm on the details tab.\n\n352\n00:17:10.990 --> 00:17:13.530\nWe've looked at this before,\nand kinda seen this.\n\n353\n00:17:13.530 --> 00:17:17.760\nWhat we're going to do is come over here,\nwhere it says copy to file.\n\n354\n00:17:17.760 --> 00:17:21.990\nJust run a little export wizard\nessentially make a copy of this and put\n\n355\n00:17:21.990 --> 00:17:25.400\nit into a form that I can then transfer\nto the person who's gonna load it.\n\n356\n00:17:25.400 --> 00:17:26.450\nAnd again, it'll be me and\n\n357\n00:17:26.450 --> 00:17:29.050\nI'll just load it into the personal\nstore in the other console.\n\n358\n00:17:29.050 --> 00:17:32.030\nBut this is how we would get\nthe certificate out of the CA\n\n359\n00:17:32.030 --> 00:17:34.650\nto make a copy and\nallow someone to then have access to it.\n\n360\n00:17:34.650 --> 00:17:36.730\nSo, welcome to Certificate Export Wizard,\n\n361\n00:17:36.730 --> 00:17:40.700\nwhich allows us to essentially copy\ncertificates and make them available.\n\n362\n00:17:40.700 --> 00:17:42.320\nSo, click Next.\n\n363\n00:17:42.320 --> 00:17:46.270\nAnd then we have to specify what the\nencoding for the certificate will be, or\n\n364\n00:17:46.270 --> 00:17:48.240\nthe file format we want to use.\n\n365\n00:17:48.240 --> 00:17:50.899\nIs it a der x509 certificate?\n\n366\n00:17:50.899 --> 00:17:52.230\nIs it a bay 64?\n\n367\n00:17:52.230 --> 00:17:56.670\nIs it some sort of cryptographic\nstandard we're going to apply?\n\n368\n00:17:56.670 --> 00:18:00.970\nPkcs number 7, pkcs number 12,\nyou know there's different standards for\n\n369\n00:18:00.970 --> 00:18:03.650\ncertificate types,\ndepending on what we wanna do and\n\n370\n00:18:03.650 --> 00:18:05.762\nhow we wanna export that information.\n\n371\n00:18:05.762 --> 00:18:08.470\nWe're gonna use the der\nstandard format we see for\n\n372\n00:18:08.470 --> 00:18:11.030\nmany, if not most\ncertificates in common use,\n\n373\n00:18:11.030 --> 00:18:15.480\nthat any of us would just generically come\nacross, is an x.509 version 3 certificate.\n\n374\n00:18:15.480 --> 00:18:20.555\nAnd this der encoded key\nx509.cer file type that we're\n\n375\n00:18:20.555 --> 00:18:25.035\ngonna use represents that x509 standard,\nwhich is just kind of a globally agreed\n\n376\n00:18:25.035 --> 00:18:29.385\nupon recognize standard for traditional\ncertificates that we often use.\n\n377\n00:18:29.385 --> 00:18:30.845\nSo x509, we're gonna click Next.\n\n378\n00:18:32.410 --> 00:18:35.590\nGive it a file name,\nwhatever we wanna call it in this case.\n\n379\n00:18:35.590 --> 00:18:39.090\nI'm gonna put it in my file path so\nI know where to store it just so\n\n380\n00:18:39.090 --> 00:18:40.310\nI can go grab it.\n\n381\n00:18:40.310 --> 00:18:44.220\nSo we'll do that, I'm gonna call mine,\nsince it's the admin credential,\n\n382\n00:18:44.220 --> 00:18:47.500\nI'll do Admin KRA so\nI know what this represents.\n\n383\n00:18:47.500 --> 00:18:49.740\nIn the real world name it\nwhatever you want as I suggested,\n\n384\n00:18:49.740 --> 00:18:53.120\nbut clearly naming it something\nthat ties it to the user or\n\n385\n00:18:53.120 --> 00:18:55.690\nties it to the function is usually\na good best practice, right?\n\n386\n00:18:55.690 --> 00:18:59.000\nSo I'll put it in the root of the C\ndrive so I remember where to find it.\n\n387\n00:18:59.000 --> 00:19:00.810\nKeeping in mind,\nI'm really on the same machine.\n\n388\n00:19:00.810 --> 00:19:02.060\nI'm just gonna go get it and\n\n389\n00:19:02.060 --> 00:19:04.680\nimport it from there in the next\nstep on the other console.\n\n390\n00:19:04.680 --> 00:19:06.810\nSo I'm gonna put it there, click Next.\n\n391\n00:19:08.540 --> 00:19:11.000\nAnd just finish up really\nno mystery to the wizard.\n\n392\n00:19:11.000 --> 00:19:12.860\nIt's very quick once I do that.\n\n393\n00:19:12.860 --> 00:19:13.800\nExport was successful.\n\n394\n00:19:13.800 --> 00:19:15.140\nThat's what we wanna see.\n\n395\n00:19:15.140 --> 00:19:15.970\nSo let's click there.\n\n396\n00:19:15.970 --> 00:19:17.520\nWe'll get out of here.\n\n397\n00:19:17.520 --> 00:19:20.780\nWe can just go quickly take a look at\nthat before we actually do the import.\n\n398\n00:19:20.780 --> 00:19:22.720\nSo, let's just go over\nhere to the C drive.\n\n399\n00:19:22.720 --> 00:19:25.840\nAnd we'll see right there, admin KRA,\n\n400\n00:19:25.840 --> 00:19:30.000\nthere is my, you can see it down there,\nSecurity Certificate.\n\n401\n00:19:30.000 --> 00:19:30.810\nIt's kinda hard to see,\n\n402\n00:19:30.810 --> 00:19:33.350\nif you go full screen you can probably\nsee it a little bit easier there.\n\n403\n00:19:33.350 --> 00:19:35.670\nSo we can see that\ncertificate is sitting there.\n\n404\n00:19:35.670 --> 00:19:37.780\nWe'll right-click on it,\nwe'll just take a look at it real quick.\n\n405\n00:19:37.780 --> 00:19:40.550\nBut you can see it's just in the root,\nor where you happen to put it.\n\n406\n00:19:40.550 --> 00:19:42.140\nIt doesn't really matter where it will be.\n\n407\n00:19:42.140 --> 00:19:44.260\nI'm gonna go import it in just a minute.\n\n408\n00:19:44.260 --> 00:19:48.280\nBut if I wanna take a look at it, just\nin the interim, I can right-click, I can\n\n409\n00:19:48.280 --> 00:19:52.030\nopen the certificate, I can even install\nfrom here, but we're not gonna do that.\n\n410\n00:19:52.030 --> 00:19:54.930\nBut if I open, just to take a look at it.\n\n411\n00:19:54.930 --> 00:19:59.357\nIt's the same certificate we were just\nlooking at in the CA on the properties\n\n412\n00:19:59.357 --> 00:20:01.028\nwhen I went to copy it right?\n\n413\n00:20:01.028 --> 00:20:03.310\nSo no difference, just a copy of it.\n\n414\n00:20:03.310 --> 00:20:07.540\nBut you can see, it is issued for\nKRA purposes, Key Recovery Agent,\n\n415\n00:20:07.540 --> 00:20:11.420\nissued to in this case the domain admin,\nso your administrator credential.\n\n416\n00:20:11.420 --> 00:20:13.680\nIssued by the CA, we know that.\n\n417\n00:20:13.680 --> 00:20:15.870\nWe know our validity period two years.\n\n418\n00:20:15.870 --> 00:20:18.250\nAnd we have the certification path\n\n419\n00:20:18.250 --> 00:20:20.530\nfrom the user that it was\nissued to up to the CA.\n\n420\n00:20:20.530 --> 00:20:21.800\nSo we can see that.\n\n421\n00:20:21.800 --> 00:20:23.890\nCertificates, both of them, are good.\n\n422\n00:20:23.890 --> 00:20:25.760\nSo we have our trust path enabled.\n\n423\n00:20:25.760 --> 00:20:27.890\nAnd we can see whatever details\nmay be important to us.\n\n424\n00:20:27.890 --> 00:20:29.930\nI mentioned it's a V3 certificate.\n\n425\n00:20:29.930 --> 00:20:33.277\nWe can see that validity period issuance.\n\n426\n00:20:33.277 --> 00:20:35.860\nAbove information here,\na little bit more than maybe\n\n427\n00:20:35.860 --> 00:20:39.205\na standard certificate may have,\njust depending on what we're doing.\n\n428\n00:20:39.205 --> 00:20:40.530\nBut we can see here.\n\n429\n00:20:40.530 --> 00:20:44.718\nYou know can cipher from it, is the usage\nsha1 is our thumb print algorithm,\n\n430\n00:20:44.718 --> 00:20:48.714\nwe talked about sha1, sha256,\ndifferent algorithms being used for\n\n431\n00:20:48.714 --> 00:20:52.290\ndifferent things,\nwent through some of that already.\n\n432\n00:20:52.290 --> 00:20:54.250\nWe have the CRL distribution point.\n\n433\n00:20:54.250 --> 00:20:56.930\nWe took a look at CRL distribution points.\n\n434\n00:20:56.930 --> 00:20:59.700\nRemember, we call them CDPs just for\nshort.\n\n435\n00:20:59.700 --> 00:21:05.030\nCertificate replication list is the CRL\nand the CDP acronym distribution point.\n\n436\n00:21:05.030 --> 00:21:07.750\nTalked about AIAs,\nonce we had that whole conversation.\n\n437\n00:21:07.750 --> 00:21:10.340\nShowed you how to program\nin the information,\n\n438\n00:21:10.340 --> 00:21:13.290\nadd the additional URLs\nto create those and\n\n439\n00:21:13.290 --> 00:21:16.420\nmake sure those references\nare available as we issue certificates.\n\n440\n00:21:16.420 --> 00:21:18.080\nWalk you through the logic\nof how to do all that and\n\n441\n00:21:18.080 --> 00:21:21.050\nwhat the naming syntax would\nlook like how to edit that.\n\n442\n00:21:21.050 --> 00:21:23.780\nSo you know we've been through all these\npieces to show you kind of where they\n\n443\n00:21:23.780 --> 00:21:27.200\nare and remind you of them as we're just\nwalking through this certificate since we\n\n444\n00:21:27.200 --> 00:21:29.205\nhave the opportunity to see it quickly.\n\n445\n00:21:29.205 --> 00:21:30.450\nCuz we're looking at it.\n\n446\n00:21:30.450 --> 00:21:33.450\nWhat the key usage is,\nyou know it's used for key recovery.\n\n447\n00:21:33.450 --> 00:21:37.910\nAnd just the template information\nthat shows us what template was used\n\n448\n00:21:37.910 --> 00:21:40.610\nto actually drive this\nparticular certificate creation.\n\n449\n00:21:40.610 --> 00:21:41.380\nSo we've done all that.\n\n450\n00:21:41.380 --> 00:21:43.370\nWe're just gonna get out\nof here kinda quick, okay.\n\n451\n00:21:43.370 --> 00:21:44.200\nSo we have that there.\n\n452\n00:21:44.200 --> 00:21:46.560\nLet's minimize our Explorer.\n\n453\n00:21:47.590 --> 00:21:48.470\nLet's go in.\n\n454\n00:21:48.470 --> 00:21:53.610\nLet me pull up my other Console here so\nback to my original MMC, the one\n\n455\n00:21:53.610 --> 00:21:57.200\nI created separately for certificates\njust in the local store personal.\n\n456\n00:21:57.200 --> 00:21:59.850\nSo now we're gonna use that import\nfunction, pull in the certificate.\n\n457\n00:21:59.850 --> 00:22:04.760\nSo we're gonna go here, we're gonna\nright-click, All tasks, Import, okay?\n\n458\n00:22:06.190 --> 00:22:06.940\nHere we go.\n\n459\n00:22:06.940 --> 00:22:10.470\nWelcome to Certificate Import Wizard,\nessentially part two of the export, right?\n\n460\n00:22:10.470 --> 00:22:12.840\nSo store location,\nwe're doing Current User.\n\n461\n00:22:12.840 --> 00:22:16.500\nSo I'm linking it to the user\ncredential in the personal store for\n\n462\n00:22:16.500 --> 00:22:20.240\na user certificate, which is what this\ntype of certificate will be used for.\n\n463\n00:22:20.240 --> 00:22:23.520\nWe've already made those choices as\nwe've created and spun up the MMC, and\n\n464\n00:22:23.520 --> 00:22:27.060\nfocused it on the right kind of\ncertificates as I've created it.\n\n465\n00:22:27.060 --> 00:22:29.690\nSo we're just gonna go ahead and\ndo that, click Next.\n\n466\n00:22:29.690 --> 00:22:32.600\nFile name essentially type in the path or\nbrowse.\n\n467\n00:22:32.600 --> 00:22:36.620\nI'm just not gonna bother to type\nbecause we all know how that turns out.\n\n468\n00:22:36.620 --> 00:22:39.420\nSo I'm just going to simply come here and\ngo grab that certificate.\n\n469\n00:22:39.420 --> 00:22:43.600\nIf this was, remember Don, on the CA\ndirectly across the network somewhere,\n\n470\n00:22:43.600 --> 00:22:45.180\nnot on the local machine.\n\n471\n00:22:45.180 --> 00:22:47.520\nCuz traditionally you may not\ndo this on the CA itself.\n\n472\n00:22:47.520 --> 00:22:49.110\nIt's very rare you'd do it this way.\n\n473\n00:22:49.110 --> 00:22:51.410\nYou'd normally be on\na workstation somewhere.\n\n474\n00:22:51.410 --> 00:22:54.510\nHave that issue, you'd have to go out and\nget that either from a network share,\n\n475\n00:22:54.510 --> 00:22:57.100\nwhere somebody put it,\nor the root directory,\n\n476\n00:22:57.100 --> 00:22:59.010\nperhaps the admin share on the CA.\n\n477\n00:22:59.010 --> 00:23:02.550\nWherever that GIF is exported\nto by the CA, certificate owner,\n\n478\n00:23:02.550 --> 00:23:05.630\nadministrator, whoever did that\napproval that we walked through.\n\n479\n00:23:05.630 --> 00:23:07.810\nThey put it somewhere,\nthey would tell you hey, go here.\n\n480\n00:23:07.810 --> 00:23:10.130\nAnd you would type in probably an UNC.\n\n481\n00:23:10.130 --> 00:23:11.630\nTo find the file most likely.\n\n482\n00:23:11.630 --> 00:23:12.710\nA share of some kind.\n\n483\n00:23:12.710 --> 00:23:15.960\nOr have it maybe on an external media or\nsomething,\n\n484\n00:23:15.960 --> 00:23:17.510\nand insert it, and have it locally.\n\n485\n00:23:17.510 --> 00:23:18.620\nHowever they sent it to you.\n\n486\n00:23:18.620 --> 00:23:21.600\nWhatever they did, however they told you\nto get it, you would obviously modify this\n\n487\n00:23:21.600 --> 00:23:23.970\nfilename path,\nis what I'm suggesting just so you know.\n\n488\n00:23:23.970 --> 00:23:26.830\nBut for us it's local, because it's on\nthe same machine, it's easy to get to.\n\n489\n00:23:26.830 --> 00:23:29.750\nAll right, so\nwe're just specifying it here.\n\n490\n00:23:29.750 --> 00:23:33.715\nIt says we can store multiple certificates\nof the following formats if we choose to,\n\n491\n00:23:33.715 --> 00:23:36.230\nhere so that's fine,\nwe have our certificate.\n\n492\n00:23:36.230 --> 00:23:40.730\nLet's click next, certificate stores are\nsystem areas where certificates are kept.\n\n493\n00:23:40.730 --> 00:23:44.240\nWe know that and then it says Windows can\nautomatically select this certificate\n\n494\n00:23:44.240 --> 00:23:45.820\nstory, you could specify one.\n\n495\n00:23:45.820 --> 00:23:49.150\nI notice we have it hard coded to place\nall certificates in the following store.\n\n496\n00:23:49.150 --> 00:23:53.120\nReason it's doing that is I've already\nselected the certificate store up there.\n\n497\n00:23:53.120 --> 00:23:54.070\nCurrent user.\n\n498\n00:23:54.070 --> 00:23:56.210\nI've highlighted the folder\nbefore I did the import.\n\n499\n00:23:56.210 --> 00:23:59.905\nIn other words this choice on this\nscreen is tied directly to the folder I\n\n500\n00:23:59.905 --> 00:24:03.601\nright clicked on, it shows import from So\nthat path essentially is hard\n\n501\n00:24:03.601 --> 00:24:06.700\ncoded based on the choice I\nmade to launch this wizard.\n\n502\n00:24:06.700 --> 00:24:09.980\nIf I had started up at\nthe top right here right?\n\n503\n00:24:09.980 --> 00:24:14.990\nI would be prompted to make a selection\nand or I could change that selection or\n\n504\n00:24:14.990 --> 00:24:17.390\nI could just automatically let\nWindows decide where to put it but\n\n505\n00:24:17.390 --> 00:24:18.750\nwe want it in the personal folder.\n\n506\n00:24:18.750 --> 00:24:20.070\nSo that's why we're doing that.\n\n507\n00:24:20.070 --> 00:24:23.180\nJust so you know how that shows up you\nknow what that is there all right, so\n\n508\n00:24:23.180 --> 00:24:23.740\nwe're going to go ahead.\n\n509\n00:24:23.740 --> 00:24:24.530\nWe're going to add that in.\n\n510\n00:24:24.530 --> 00:24:26.220\nWe're going to complete\nthe import wizard here.\n\n511\n00:24:26.220 --> 00:24:27.630\nLet me just do this.\n\n512\n00:24:27.630 --> 00:24:29.620\nLet's just go ahead and click next.\n\n513\n00:24:31.000 --> 00:24:31.870\nComplete the wizard.\n\n514\n00:24:31.870 --> 00:24:32.880\nWhat is it intended for?\n\n515\n00:24:32.880 --> 00:24:34.250\nWhere is it being stored?\n\n516\n00:24:34.250 --> 00:24:36.040\nRight all that click finish.\n\n517\n00:24:36.040 --> 00:24:37.940\nGive that one second,\nimport was successful.\n\n518\n00:24:37.940 --> 00:24:43.220\nLike to see that, and then we suddenly\ndevelop a new folder here, subdirectory.\n\n519\n00:24:43.220 --> 00:24:46.340\nIt creates that for us as part of\nthe import under there we could see\n\n520\n00:24:46.340 --> 00:24:50.120\nthe administrator certificate or\nthe KRA certificate, I should say.\n\n521\n00:24:50.120 --> 00:24:52.000\nThat certificate,\nI know it's kind of hard to see.\n\n522\n00:24:52.000 --> 00:24:54.790\nIf you go full screen you may be able\nto tell the detail a little bit more.\n\n523\n00:24:54.790 --> 00:24:56.480\nBut this certificate at\nthe upper-left hand corner,\n\n524\n00:24:56.480 --> 00:24:57.972\nI'm gonna kinda hover and point to it.\n\n525\n00:24:57.972 --> 00:25:00.630\nThere's like this little gold blob,\nif you will.\n\n526\n00:25:00.630 --> 00:25:03.700\nIt looks like a key, it's supposed to\nrepresent a key on the certificate.\n\n527\n00:25:03.700 --> 00:25:08.010\nThat's just what the KRA certificate looks\nlike from the template when it's issued.\n\n528\n00:25:08.010 --> 00:25:11.225\nSo that's what that particular\njust graphic represents.\n\n529\n00:25:11.225 --> 00:25:15.400\nBut we can see there now that we\nactually can see this certificate.\n\n530\n00:25:15.400 --> 00:25:18.082\nWe can see its for\nintended purpose recovery agent.\n\n531\n00:25:18.082 --> 00:25:20.960\nThere really no surprises there,\nand we've already done this.\n\n532\n00:25:20.960 --> 00:25:23.140\nBut now what we need to do\nis we need to go configure.\n\n533\n00:25:23.140 --> 00:25:24.990\nWe're gonna do this in just a second.\n\n534\n00:25:24.990 --> 00:25:29.490\nBut go configure the CA for\nthe key archival process.\n\n535\n00:25:29.490 --> 00:25:30.400\nSo what we're gonna do now,\n\n536\n00:25:30.400 --> 00:25:33.720\nwe have the certificate, so we're gonna\ngo back to our Certification Authority.\n\n537\n00:25:33.720 --> 00:25:40.030\nWe just click here we're gonna go up\nhere to our, going to click and go.\n\n538\n00:25:40.030 --> 00:25:43.340\nWe're gonna click up on our\nCA that we're managing.\n\n539\n00:25:43.340 --> 00:25:44.380\nWe're gonna right click here.\n\n540\n00:25:44.380 --> 00:25:47.040\nWe're gonna go into properties.\n\n541\n00:25:48.120 --> 00:25:51.840\nSo we're gonna come in here now, and what\nwe have to do now is we have to go in and\n\n542\n00:25:51.840 --> 00:25:56.090\nwe have to be able to use\nour Recovery Agents Tab.\n\n543\n00:25:56.090 --> 00:25:59.100\nAnd kinda do a little work in here to\nensure that we're actually able configure\n\n544\n00:25:59.100 --> 00:26:00.280\nthe CA side to this equation.\n\n545\n00:26:00.280 --> 00:26:02.130\nSo that's what we're gonna do now.\n\n546\n00:26:02.130 --> 00:26:03.750\nSo, we're gonna go to\nthe Recovery Agent's Tab.\n\n547\n00:26:03.750 --> 00:26:04.980\nWe're gonna go ahead and say.\n\n548\n00:26:04.980 --> 00:26:08.060\nInstead of do not archive the key\nbecause remember, I said by default,\n\n549\n00:26:08.060 --> 00:26:11.730\nas we were starting this process,\nthe CA is not set up for, not enabled,\n\n550\n00:26:11.730 --> 00:26:17.300\nnot configured to drive key archiving and\nkey recovery through an archive.\n\n551\n00:26:17.300 --> 00:26:20.290\nIn other words, a default setting is,\nhey, we're not gonna archive the key.\n\n552\n00:26:20.290 --> 00:26:23.910\nSo, we have to enable that functionality\nwith a certificate assigned to a user\n\n553\n00:26:23.910 --> 00:26:25.910\nwho could then use this functionality,\na certificate.\n\n554\n00:26:25.910 --> 00:26:30.190\nCherokee was suggesting,\nhey do we just give this to anybody?\n\n555\n00:26:30.190 --> 00:26:32.180\nNo, but I like you Cherokee\nwhen you give it to you, right?\n\n556\n00:26:32.180 --> 00:26:34.570\nSo we will made Cherokee\nthe KRA in theory.\n\n557\n00:26:34.570 --> 00:26:37.580\nBut now we have to inform\nthe CA that it's okay to this.\n\n558\n00:26:37.580 --> 00:26:38.520\nBecause by default it says,\n\n559\n00:26:38.520 --> 00:26:41.730\nhey I'm not archive in that key remember,\nkeep that key secret, right?\n\n560\n00:26:41.730 --> 00:26:42.750\nDon't tell anybody what it is.\n\n561\n00:26:42.750 --> 00:26:43.620\nDon't make a copy of it.\n\n562\n00:26:43.620 --> 00:26:45.530\nSo, we gotta change that behavior.\n\n563\n00:26:45.530 --> 00:26:47.010\nSo, now we're gonna go in and do that.\n\n564\n00:26:47.010 --> 00:26:49.160\nSo, we're on the recovery agent side.\n\n565\n00:26:49.160 --> 00:26:51.340\nWe're gonna obviously enable this,\nso archive the keys.\n\n566\n00:26:51.340 --> 00:26:52.600\nSo, that's good.\n\n567\n00:26:52.600 --> 00:26:55.650\nAnd, it says number of\nrecovery agents to use.\n\n568\n00:26:55.650 --> 00:26:59.060\nSpecify the number where to grant\npermission to here essentially.\n\n569\n00:26:59.060 --> 00:27:00.810\nAnd then,\nkey recovery agents certificates,\n\n570\n00:27:00.810 --> 00:27:02.580\nwell we have one of those, don't we?\n\n571\n00:27:02.580 --> 00:27:03.208\nI mean, that's the whole idea.\n\n572\n00:27:03.208 --> 00:27:04.335\n&gt;&gt; We just made one, yeah.\n&gt;&gt; We just made one, right.\n\n573\n00:27:04.335 --> 00:27:05.220\n[LAUGH]\n&gt;&gt; So\n\n574\n00:27:05.220 --> 00:27:07.790\nnothing like using that certificate\nto actually drive this capability.\n\n575\n00:27:07.790 --> 00:27:08.900\nThat's exactly what we're gonna do.\n\n576\n00:27:08.900 --> 00:27:09.892\nSo we're gonna click add here,\n\n577\n00:27:09.892 --> 00:27:11.900\nyou can probably tell where\nI'm going with this, right?\n\n578\n00:27:11.900 --> 00:27:13.560\nWe're gonna grab this, click add.\n\n579\n00:27:13.560 --> 00:27:16.970\nNow it says, key Recovery agent selection,\nplease select a key recovery agency\n\n580\n00:27:16.970 --> 00:27:20.010\ncertificate, notice it already\nreads the certificate.\n\n581\n00:27:20.010 --> 00:27:22.470\nAnd it's always good, and by the way\nthis is a big gotcha in the real world,\n\n582\n00:27:22.470 --> 00:27:23.690\nlet me just kinda of call.\n\n583\n00:27:23.690 --> 00:27:25.190\nNot a time out where we're\nunder the blue screen, but\n\n584\n00:27:25.190 --> 00:27:26.825\nI'm gonna call it virtual time out for\na second.\n\n585\n00:27:26.825 --> 00:27:30.401\nFor our conversation I mean specifically\nshare some little experience if you heard\n\n586\n00:27:30.401 --> 00:27:31.340\nabout this.\n\n587\n00:27:31.340 --> 00:27:35.330\nSo when you're going through in doing this\nright it's real tempting especially cuz\n\n588\n00:27:35.330 --> 00:27:36.510\nwe get this window.\n\n589\n00:27:36.510 --> 00:27:40.380\nAnd if you roll your heads down is most\nIT professionals most administrators\n\n590\n00:27:40.380 --> 00:27:44.020\nthat do this are you're clicking\ndo what you're gotta do\n\n591\n00:27:44.020 --> 00:27:45.765\npretty confident hopefully into skills.\n\n592\n00:27:45.765 --> 00:27:48.580\nI'm sure you're all been going\nthrough keeping up with us.\n\n593\n00:27:48.580 --> 00:27:51.780\nYou know what to do and\nyou're gonna make a choice here.\n\n594\n00:27:51.780 --> 00:27:54.130\nBut if you're not paying attention and\nyou don't stop, and\n\n595\n00:27:54.130 --> 00:27:57.600\njust verify that certificate\nis the right certificate.\n\n596\n00:27:57.600 --> 00:28:01.160\nAnd notice you have a name here,\nnotice we have an issuer,\n\n597\n00:28:01.160 --> 00:28:02.680\nnotice we have validity period.\n\n598\n00:28:02.680 --> 00:28:04.640\nAll three those things,\nthat things I pointed out.\n\n599\n00:28:05.730 --> 00:28:08.750\nI talked about, I said,\nthis is who's getting the certificate.\n\n600\n00:28:08.750 --> 00:28:10.980\nThis is who's issuing it,\nthat's the validity period.\n\n601\n00:28:10.980 --> 00:28:16.200\nBut could there be more than one\ncertificate issued to this credential for\n\n602\n00:28:16.200 --> 00:28:17.120\nthis particular reason?\n\n603\n00:28:17.120 --> 00:28:19.920\nYeah, if you're not careful and\nclear about what you're doing,\n\n604\n00:28:19.920 --> 00:28:22.370\nmaybe you've got multiple certificates\nfloating around in there.\n\n605\n00:28:22.370 --> 00:28:24.290\nI've seen it happen where we\nchoose the wrong certificates,\n\n606\n00:28:24.290 --> 00:28:25.610\nit's not the end of the world.\n\n607\n00:28:25.610 --> 00:28:27.160\nThen you've gotta go back and fix it.\n\n608\n00:28:27.160 --> 00:28:29.950\nTo make sure,\nclick here to view certificate properties,\n\n609\n00:28:29.950 --> 00:28:32.550\nalways good to double check,\nis what I'm suggesting to you here, right.\n\n610\n00:28:32.550 --> 00:28:36.570\nStop for five seconds,\nget out of that autopilot Next, Next,\n\n611\n00:28:36.570 --> 00:28:39.870\nNext kind of mentality a lot of\nus unfortunately operate with.\n\n612\n00:28:39.870 --> 00:28:42.790\nBecause we think that we're just\ngonna move on to the next thing.\n\n613\n00:28:42.790 --> 00:28:44.510\nWe think we know what's going on.\n\n614\n00:28:44.510 --> 00:28:45.460\nLet's just double check.\n\n615\n00:28:45.460 --> 00:28:46.340\nLet's click there.\n\n616\n00:28:46.340 --> 00:28:48.190\nIs it the same certificate right?\n\n617\n00:28:48.190 --> 00:28:52.570\nWe have a private key that corresponds\nto the certificate, we do, hopefully.\n\n618\n00:28:52.570 --> 00:28:55.010\nYou'll look at the details,\nlet's make sure.\n\n619\n00:28:55.010 --> 00:28:56.770\nLook at the certification path.\n\n620\n00:28:56.770 --> 00:29:00.700\nIndicators of concern that may\nbe problematic, we wanna catch\n\n621\n00:29:00.700 --> 00:29:03.930\nthose before we go too far down the road\nis what I am suggesting to you.\n\n622\n00:29:03.930 --> 00:29:06.010\nAlways a good idea just to stop.\n\n623\n00:29:06.010 --> 00:29:08.090\nCatch our breath,\nmake sure we're doing the right thing.\n\n624\n00:29:08.090 --> 00:29:12.430\nGood news is, that screen is not going way\nunless you click one of these two buttons.\n\n625\n00:29:12.430 --> 00:29:15.210\nSo if you take a couple minutes\nto just do your due diligence and\n\n626\n00:29:15.210 --> 00:29:17.962\nmake sure you're on the right\ncertificate you're about to enter,\n\n627\n00:29:17.962 --> 00:29:20.265\nthe right one here,\nnothing bad is gonna happen.\n\n628\n00:29:20.265 --> 00:29:23.675\nYou are not gonna miss this window, you\nare not gonna lose out on this capability.\n\n629\n00:29:23.675 --> 00:29:26.655\nYou are gonna still have the opportunity\nto install this certificate.\n\n630\n00:29:26.655 --> 00:29:30.235\nEverything is gonna be fine, so\nwe obviously have the right one, right?\n\n631\n00:29:30.235 --> 00:29:33.200\nThis is the big indicator right\nthere that we're doing this.\n\n632\n00:29:33.200 --> 00:29:33.790\nLet's click OK.\n\n633\n00:29:33.790 --> 00:29:36.730\nWell that with obviously this information,\nI should say.\n\n634\n00:29:36.730 --> 00:29:38.450\nLet's click OK.\n\n635\n00:29:38.450 --> 00:29:41.230\nNotice all we have to do is click OK and\nit shows up there.\n\n636\n00:29:41.230 --> 00:29:44.670\nLike I said, if for some reason\nyou make a mistake, no big deal.\n\n637\n00:29:44.670 --> 00:29:45.970\nHighlight it, remove it,\n\n638\n00:29:45.970 --> 00:29:49.270\njust put back in the another certificate\nthat may be the appropriate one.\n\n639\n00:29:49.270 --> 00:29:53.330\nIt's not as if you made a decision\nhere you have to live with forever but\n\n640\n00:29:53.330 --> 00:29:57.500\nI'm just trying to avoid\nyou causing delays right.\n\n641\n00:29:57.500 --> 00:29:58.670\nIt concerns with the process.\n\n642\n00:29:58.670 --> 00:30:01.330\nAll right so we've done that but\nnotice you may see it over here.\n\n643\n00:30:01.330 --> 00:30:02.580\nIt's kinda hard to see off to the side.\n\n644\n00:30:02.580 --> 00:30:05.000\nBut it says status not loaded, right.\n\n645\n00:30:05.000 --> 00:30:06.148\nWe're gonna fix that right now.\n\n646\n00:30:06.148 --> 00:30:07.640\nSo we're gonna,\nare you one of those people,\n\n647\n00:30:07.640 --> 00:30:08.725\nI think we've had this conversation.\n\n648\n00:30:08.725 --> 00:30:10.590\n&gt;&gt; [INAUDIBLE] apply.\n&gt;&gt; Are you one of those apply versus okay,\n\n649\n00:30:10.590 --> 00:30:11.320\nor are you just the.\n\n650\n00:30:11.320 --> 00:30:12.940\n&gt;&gt; I said I was, but you know-\n&gt;&gt; You did.\n\n651\n00:30:12.940 --> 00:30:15.430\n&gt;&gt; It's just,\n&gt;&gt; I guess maybe habit,\n\n652\n00:30:15.430 --> 00:30:17.410\nit's not necessary, but you know what?\n\n653\n00:30:17.410 --> 00:30:19.630\nIf we do it,\nit's gonna be active and I might,\n\n654\n00:30:19.630 --> 00:30:22.500\nif I'm like working in other windows, then\nI would at least know that it's going,\n\n655\n00:30:22.500 --> 00:30:24.150\nit's working in the background.\n\n656\n00:30:24.150 --> 00:30:27.240\nBut I don't stress out about it.\n\n657\n00:30:27.240 --> 00:30:29.130\n&gt;&gt; So, good thing you don't\nbecause I didn't click apply,\n\n658\n00:30:29.130 --> 00:30:30.652\njust clicked OK while you\nwere explaining that.\n\n659\n00:30:30.652 --> 00:30:32.080\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so either way.\n\n660\n00:30:32.080 --> 00:30:33.450\nClick apply, then OK click OK.\n\n661\n00:30:33.450 --> 00:30:37.210\nOn this short cutting, it's process\none step to get us moving here.\n\n662\n00:30:37.210 --> 00:30:38.040\nSo we're gonna click OK,\n\n663\n00:30:38.040 --> 00:30:40.720\nbut the thing I wanted to show\nyou is the prompt we get, right?\n\n664\n00:30:40.720 --> 00:30:45.980\nCertification authority, hey, to do this\nyou gotta restart the ADCS services.\n\n665\n00:30:45.980 --> 00:30:48.397\nWe actually talked about this when we,\n\n666\n00:30:48.397 --> 00:30:51.410\nI forget what we were doing\non the prior episode.\n\n667\n00:30:51.410 --> 00:30:54.320\nAnd I said, hey, in order to have this\nhappen have to actually restart and\n\n668\n00:30:54.320 --> 00:30:56.050\nI clicked,\nI think with the back up, right.\n\n669\n00:30:56.050 --> 00:30:57.350\nWhen we're doing the back up and restore.\n\n670\n00:30:57.350 --> 00:31:00.660\nI think I showed you to do the restore\nwe had to bring down the CA services and\n\n671\n00:31:00.660 --> 00:31:01.670\nthen bring them back up.\n\n672\n00:31:01.670 --> 00:31:03.250\nSo we see this prompt from time to time.\n\n673\n00:31:03.250 --> 00:31:04.850\nIt's not unusual, right?\n\n674\n00:31:04.850 --> 00:31:06.570\nSo just make sure you're aware of that.\n\n675\n00:31:06.570 --> 00:31:09.500\nWe're gonna go ahead,\nwe're going to do this.\n\n676\n00:31:09.500 --> 00:31:13.680\nStill says not loaded cuz remember until\nwe actually do this cycle the services,\n\n677\n00:31:13.680 --> 00:31:15.670\nwe're not gonna see and\ninteract with this.\n\n678\n00:31:15.670 --> 00:31:17.100\nSo we wanna click yes here.\n\n679\n00:31:17.100 --> 00:31:17.740\nIt is important.\n\n680\n00:31:17.740 --> 00:31:18.810\nSo, we're gonna click yes.\n\n681\n00:31:18.810 --> 00:31:20.950\nWe got the little stopping,\nstarting right?\n\n682\n00:31:20.950 --> 00:31:24.400\nAnd then that goes away and\nthen we've actually enabled that.\n\n683\n00:31:24.400 --> 00:31:28.690\nSo if we go back and\nwe take a look now, we\n\n684\n00:31:28.690 --> 00:31:33.510\ngo over here, there we go all right.\n\n685\n00:31:33.510 --> 00:31:34.460\nSo we go over here now.\n\n686\n00:31:34.460 --> 00:31:40.220\nWe can see- wait hold on one second\nI want Recovery, not enrollment.\n\n687\n00:31:40.220 --> 00:31:41.620\nThere we go.\nGotta click on the right tab.\n\n688\n00:31:41.620 --> 00:31:43.710\nAlright, so\nyou can see now we have the certificate.\n\n689\n00:31:43.710 --> 00:31:47.210\nBut notice the status has changed\nfrom not loaded, to that, right?\n\n690\n00:31:47.210 --> 00:31:48.867\nBecause we've cycled the services, and\n\n691\n00:31:48.867 --> 00:31:51.248\nas a result we've brought the certificate\nonline and it's available.\n\n692\n00:31:51.248 --> 00:31:54.980\nSo now that we've done that,\nwe are actually able to go in, and\n\n693\n00:31:54.980 --> 00:31:56.810\nwe're actually able to put this to work.\n\n694\n00:31:56.810 --> 00:31:59.392\nAnd we can create new certificates or\nnew templates and\n\n695\n00:31:59.392 --> 00:32:02.609\nsome kinda start issuing them,\nmaybe enable for using archiving.\n\n696\n00:32:02.609 --> 00:32:05.070\nBe some additional things\nmaybe you wanna engage in.\n\n697\n00:32:05.070 --> 00:32:06.721\nTo ultimately put this to use but.\n\n698\n00:32:06.721 --> 00:32:09.172\nThis is how we set up\nthe back end infrastructure.\n\n699\n00:32:09.172 --> 00:32:12.759\nAnd the requirements associated with\nsetting up the key recovery agent to then\n\n700\n00:32:12.759 --> 00:32:14.825\nstart using it,\nloading the certificate and\n\n701\n00:32:14.825 --> 00:32:18.870\nafter we've enabled rather issued it, so,\nit can be enabled and made available.\n\n702\n00:32:18.870 --> 00:32:23.061\nAnd once we've done that, we now have the\nability to start using this to recover if\n\n703\n00:32:23.061 --> 00:32:25.576\nthere is a need to under\ncertain circumstances.\n\n704\n00:32:25.576 --> 00:32:28.371\nSo thoughts, questions?\n\n705\n00:32:28.371 --> 00:32:30.537\nYou always have something,\nso I figure I'll stop here.\n\n706\n00:32:30.537 --> 00:32:32.454\nJust hit OK while we're talking here,\njust to get out of this.\n\n707\n00:32:32.454 --> 00:32:35.542\nBut, yeah\n&gt;&gt; Yeah, so if we're looking at this Adam,\n\n708\n00:32:35.542 --> 00:32:39.350\nand you talked about assigning me\nthe role of the key recovery agent\n\n709\n00:32:39.350 --> 00:32:44.043\nthen would this be something that we would\nwanna make sure is obviously documented\n\n710\n00:32:44.043 --> 00:32:48.192\nin our disaster recovery plan,\nin our business continuity plans just so\n\n711\n00:32:48.192 --> 00:32:51.550\nthat we know, hey,\nit's Cherokee's responsibility.\n\n712\n00:32:51.550 --> 00:32:52.650\nJust kind of a side note there.\n\n713\n00:32:53.710 --> 00:32:58.430\n&gt;&gt; I think it would always be a good idea\nto have documentation on, there we go.\n\n714\n00:32:58.430 --> 00:33:01.993\nHave documentation on, what we're doing\nand you've heard me say many many times,\n\n715\n00:33:01.993 --> 00:33:03.913\nI know you are a big\nproponent of this as well.\n\n716\n00:33:03.913 --> 00:33:04.455\n&gt;&gt; Right.\n\n717\n00:33:04.455 --> 00:33:07.280\n&gt;&gt; That documentation is super critical,\nright?\n\n718\n00:33:07.280 --> 00:33:10.290\nSo, I would agree 100% that we\nshould document whatever we do.\n\n719\n00:33:10.290 --> 00:33:14.489\nEspecially at a level like this where\nwe're really changing the configuration\n\n720\n00:33:14.489 --> 00:33:18.748\nand structure at a root level, no pun\nintended by the way, of the Enterprise CA,\n\n721\n00:33:18.748 --> 00:33:20.079\nthe root CA in this case.\n\n722\n00:33:20.079 --> 00:33:24.598\nThat is we're enabling a functionality on\nthe root that by design when we deploy is\n\n723\n00:33:24.598 --> 00:33:28.080\nnot enabled because of the concerns\naround using it properly.\n\n724\n00:33:28.080 --> 00:33:31.910\nThe security implications, in other words,\nof opening up this functionality.\n\n725\n00:33:31.910 --> 00:33:36.590\nGiving someone the rights to have access\nto this set of functional elements,\n\n726\n00:33:36.590 --> 00:33:40.413\nthis archival capability and\nrecovery capability of the key.\n\n727\n00:33:40.413 --> 00:33:43.831\nAnd so we really just have to think about\nthat and make sure we're confident,\n\n728\n00:33:43.831 --> 00:33:46.785\nwe're planning to be successful,\nas we often talk about.\n\n729\n00:33:46.785 --> 00:33:48.097\nAnd we're not over reaching or\n\n730\n00:33:48.097 --> 00:33:50.830\nperhaps underestimating\nthe impact of our decisions.\n\n731\n00:33:50.830 --> 00:33:54.835\nAnd I think the documentation is so\nvital to what we do around these things\n\n732\n00:33:54.835 --> 00:33:58.140\ncuz a lot of times what'll happen\nis you make this determination.\n\n733\n00:33:58.140 --> 00:34:01.350\nYou do this, and you don't document,\nright, to your point and\n\n734\n00:34:01.350 --> 00:34:04.990\nthen later down the road,\nwe are not sure who has that.\n\n735\n00:34:04.990 --> 00:34:08.608\nOr who's able to exercise that right or\nwhy somebody is doing that when in theory\n\n736\n00:34:08.608 --> 00:34:10.662\nit was supposed to be somebody else,\nright?\n\n737\n00:34:10.662 --> 00:34:14.448\nIn theory, maybe we made a mistake and\nassigned two recovery agents and\n\n738\n00:34:14.448 --> 00:34:16.162\nmaybe we only meant to have one.\n\n739\n00:34:16.162 --> 00:34:18.690\nOr maybe I came in and did this, right?\n\n740\n00:34:18.690 --> 00:34:22.246\nAnd you didn't realize what I had done cuz\nthere was no documentation to your point.\n\n741\n00:34:22.246 --> 00:34:25.597\nAnd maybe you go and spin up another\ncertificate template or rather another\n\n742\n00:34:25.597 --> 00:34:29.810\nrecovery agent under the template,\nand you give someone else that, right?\n\n743\n00:34:29.810 --> 00:34:33.789\nYou would sign that and now we start\nstacking up recovery agents cuz maybe we\n\n744\n00:34:33.789 --> 00:34:38.277\nare not really all as administers thinking\nclearly about managing together instead\n\n745\n00:34:38.277 --> 00:34:41.329\nof managing in silos,\nkind of isolated from each other.\n\n746\n00:34:41.329 --> 00:34:43.460\nSo there's lots of things\nthat can go wrong.\n\n747\n00:34:43.460 --> 00:34:45.990\nSo change control is a great\nway to think about it.\n\n748\n00:34:45.990 --> 00:34:50.592\nWe always value, right, people adding\nsome context to the conversation,\n\n749\n00:34:50.592 --> 00:34:52.170\ncomment from the chat is great, right?\n\n750\n00:34:52.170 --> 00:34:54.121\nSo thank you, Mike,\nit's a great way of thinking about it.\n\n751\n00:34:54.121 --> 00:34:56.997\nI was struggling for that concept [LAUGH]\nso I appreciate you throwing out there.\n\n752\n00:34:56.997 --> 00:34:59.454\nBut yeah, it really is,\nas Mike suggested in the chat.\n\n753\n00:34:59.454 --> 00:35:02.079\nI think, it's really a concept\naround change control, right?\n\n754\n00:35:02.079 --> 00:35:04.162\nWe've talked a lot about value and\nwhy that's important.\n\n755\n00:35:04.162 --> 00:35:06.912\nLet me just round out this\npart of the conversation.\n\n756\n00:35:06.912 --> 00:35:09.690\nWant to show you just this last\nlittle piece we're talking about.\n\n757\n00:35:09.690 --> 00:35:13.121\nThat was a rotation, a clockwise?\n\n758\n00:35:13.121 --> 00:35:16.642\nIt was counterclockwise this way, but then\nit's on camera, so it goes the other way,\n\n759\n00:35:16.642 --> 00:35:18.790\nand I'm in Australia so\nit's actually backwards.\n\n760\n00:35:18.790 --> 00:35:21.450\nI'm not really in Australia, I'm just\nsaying that to further confuse you.\n\n761\n00:35:21.450 --> 00:35:22.920\nI don't know what direction that was but\n\n762\n00:35:22.920 --> 00:35:26.695\nwhatever it was through the magic\nof ITPRO.TV, look at where we are.\n\n763\n00:35:26.695 --> 00:35:29.180\n[LAUGH] So\nwe're in our certificate console here.\n\n764\n00:35:29.180 --> 00:35:33.760\nRemember, all I did was right-click\non the CA, came in here.\n\n765\n00:35:33.760 --> 00:35:34.690\nOne strip gets templates.\n\n766\n00:35:34.690 --> 00:35:36.060\nJust get back to where we were.\n\n767\n00:35:36.060 --> 00:35:36.990\nAnd I'm managing.\n\n768\n00:35:36.990 --> 00:35:38.622\nI wanna see the certificates here.\n\n769\n00:35:38.622 --> 00:35:40.900\nSo what I'm gonna do,\nI'm gonna go in, right?\n\n770\n00:35:40.900 --> 00:35:43.786\nI'm gonna go in and I'm going to,\nwait, do I actually have it here?\n\n771\n00:35:43.786 --> 00:35:44.954\nI do have it here.\nYeah, there we go.\n\n772\n00:35:44.954 --> 00:35:45.829\nI have it already open.\n\n773\n00:35:45.829 --> 00:35:49.079\nI want to manage it, I want to go and\ngrab this template to make a copy.\n\n774\n00:35:49.079 --> 00:35:52.365\nI'm gonna duplicate the user template and\nI'm gonna go ahead and\n\n775\n00:35:52.365 --> 00:35:55.180\nI'm gonna just go ahead and\nsee what we can do with this.\n\n776\n00:35:55.180 --> 00:35:59.446\nLet's just go down here for just a second,\nuse that user template again, right?\n\n777\n00:35:59.446 --> 00:36:03.600\nRemember, we'll often reuse these master\ntemplates, copy them, duplicate them, and\n\n778\n00:36:03.600 --> 00:36:07.740\nspin up alternate versions, alternate\nreality stories of these templates\n\n779\n00:36:07.740 --> 00:36:09.140\nby making copies and enabling them.\n\n780\n00:36:09.140 --> 00:36:10.162\nIt's what I'm gonna do now.\n\n781\n00:36:10.162 --> 00:36:12.560\nIt's what we did with Super-user\nwhen we did that in the prior demo.\n\n782\n00:36:12.560 --> 00:36:16.590\nIt's what I did to make a copy of the KRA,\nkey recovery agent.\n\n783\n00:36:16.590 --> 00:36:18.980\nSo, I'm gonna come in here, right click,\nI'm gonna duplicate this template.\n\n784\n00:36:20.650 --> 00:36:23.930\nWe've talked through the logic of the fact\nthat we can make certain choices here.\n\n785\n00:36:23.930 --> 00:36:27.835\nSo we're gonna go to our General tab,\nremember my best practice recommendation,\n\n786\n00:36:27.835 --> 00:36:29.412\nname first, configure second.\n\n787\n00:36:29.412 --> 00:36:33.871\nSo I'm gonna say this is, let's say,\nan EFS user template, just to name it so\n\n788\n00:36:33.871 --> 00:36:35.205\nwe know what it is.\n\n789\n00:36:35.205 --> 00:36:39.715\nI'm gonna go ahead, and to Cherokee's\npoint, I'll click Apply to save off\n\n790\n00:36:39.715 --> 00:36:41.995\nthose changes,\nas I'm iterating through editing here.\n\n791\n00:36:41.995 --> 00:36:45.445\nThere is actually a valid reason for\nusing the Apply versus OK.\n\n792\n00:36:45.445 --> 00:36:49.077\nRight, the main reason would be,\nin a multi-tabbed interface like this,\n\n793\n00:36:49.077 --> 00:36:52.083\nas you suggested, if I click Apply\nthat change is now added in,\n\n794\n00:36:52.083 --> 00:36:54.555\nyou can see it's grayed out and\nnow it's there.\n\n795\n00:36:54.555 --> 00:36:57.230\nBut I haven't exited the interface,\nI can keep editing.\n\n796\n00:36:57.230 --> 00:36:58.583\nInstead of having to right-click and\n\n797\n00:36:58.583 --> 00:37:00.704\ncome back in every time,\nI forgot to make that change.\n\n798\n00:37:00.704 --> 00:37:03.700\nLet me go back in, wait, forgot that one,\nand you're in there five times.\n\n799\n00:37:03.700 --> 00:37:06.600\nThis way, I can just stay in there and\nkind of walk through all the tabs.\n\n800\n00:37:06.600 --> 00:37:08.871\nSo, there really is a valid reason for.\n\n801\n00:37:08.871 --> 00:37:10.149\n&gt;&gt; [LAUGH]\n&gt;&gt; So it is important,\n\n802\n00:37:10.149 --> 00:37:11.911\ncall that out, be proud of it, right?\n\n803\n00:37:11.911 --> 00:37:12.912\nThat's important to know.\n\n804\n00:37:12.912 --> 00:37:16.496\nAll right, so, Request Handling, let's\ncome over here and see what's going on.\n\n805\n00:37:16.496 --> 00:37:18.121\nSo what's the purpose here?\n\n806\n00:37:18.121 --> 00:37:18.621\nWhat are we gonna do?\n\n807\n00:37:18.621 --> 00:37:21.461\nOur purpose here is that we're\ngonna archive the subject's\n\n808\n00:37:21.461 --> 00:37:24.030\nencryption private key, so\nwe're gonna click here.\n\n809\n00:37:25.600 --> 00:37:29.310\nAnd we are going to do the following,\nright there.\n\n810\n00:37:29.310 --> 00:37:31.392\nArchive, I can get it to, there we go.\n\n811\n00:37:31.392 --> 00:37:35.070\nAll right, so archive, let me just\npull this down what I was hoping to do\n\n812\n00:37:35.070 --> 00:37:37.110\nwas to select it and\nthen to show you what pops up.\n\n813\n00:37:37.110 --> 00:37:38.579\nSo let's just frame that real quick.\n\n814\n00:37:38.579 --> 00:37:39.497\nCan we just go in full screen?\n\n815\n00:37:39.497 --> 00:37:40.729\nI want you to be able to see this and\n\n816\n00:37:40.729 --> 00:37:42.960\njust be able to see the logic\nof what I'm doing here.\n\n817\n00:37:42.960 --> 00:37:46.760\nSo on the Request Handling tab,\nwhat I did is left the purpose alone.\n\n818\n00:37:46.760 --> 00:37:51.090\nBut under Purpose, there's an option here,\nArchive subjects inscription private key.\n\n819\n00:37:51.090 --> 00:37:53.830\nRemember, the subject is the user,\nthe entity,\n\n820\n00:37:53.830 --> 00:37:57.380\nwhatever we call it, that's making\na request, traditionally to see data.\n\n821\n00:37:57.380 --> 00:38:00.700\nInteract with it normally,\nin the language of access control.\n\n822\n00:38:00.700 --> 00:38:03.180\nSo we're gonna archive that private key.\n\n823\n00:38:03.180 --> 00:38:05.774\nAnd then when we do that,\nchange key archival property, right,\n\n824\n00:38:05.774 --> 00:38:07.060\nit's gotta little pop up here.\n\n825\n00:38:07.060 --> 00:38:10.460\nIt says, hey, key archival is only\nenabled for future certificates.\n\n826\n00:38:10.460 --> 00:38:14.860\nRemember I told you that once we\nenable it, it's a forward thinking,\n\n827\n00:38:14.860 --> 00:38:16.780\nforward only application.\n\n828\n00:38:16.780 --> 00:38:18.420\nThere's no retrograde.\n\n829\n00:38:18.420 --> 00:38:21.714\nLet me apply this idea to\neverything that came before.\n\n830\n00:38:21.714 --> 00:38:24.720\nAll certificates, in other word,\nissued under any of these\n\n831\n00:38:24.720 --> 00:38:28.700\nkinds of templates where this would makes\nsense that have happened up until now,\n\n832\n00:38:28.700 --> 00:38:32.390\nwe're not gonna benefit from this\npolicy going forward from this change,\n\n833\n00:38:32.390 --> 00:38:34.480\nit's enablement of this going forward.\n\n834\n00:38:34.480 --> 00:38:37.572\nSo it's only gonna work, or excuse me,\nthey're not gonna benefit from it in\n\n835\n00:38:37.572 --> 00:38:40.714\na retrograde way, we're not gonna\napply this, in other words, backwards,\n\n836\n00:38:40.714 --> 00:38:42.780\nwe're only gonna apply it forwards, right?\n\n837\n00:38:42.780 --> 00:38:46.264\nSo as a result, just reminding us of that\nand I wanted you to see that, I mentioned\n\n838\n00:38:46.264 --> 00:38:49.662\nit but I wanted to actually see that here\nto understand the logic of it, right?\n\n839\n00:38:49.662 --> 00:38:50.830\nWe're gonna apply it going forward.\n\n840\n00:38:50.830 --> 00:38:54.655\nSo it says, keys for certificates that\nare already issued will not be archived,\n\n841\n00:38:54.655 --> 00:38:56.578\nand then see help for more information.\n\n842\n00:38:56.578 --> 00:38:59.878\nSo you can obviously go take a look,\nand it says there are no certificate\n\n843\n00:38:59.878 --> 00:39:03.563\nauthorities currently using or issuing\ncertificates based on this template as\n\n844\n00:39:03.563 --> 00:39:06.060\nwe're about to create this template,\nand add it in.\n\n845\n00:39:06.060 --> 00:39:08.030\nYes, I know it's stuck and\nit isn't working.\n\n846\n00:39:08.030 --> 00:39:10.080\nI know we're not still on 15 minutes.\n\n847\n00:39:10.080 --> 00:39:11.371\nI actually rigged it\nwhen you weren't looking.\n\n848\n00:39:11.371 --> 00:39:12.329\nSo we'll just stop there.\n\n849\n00:39:12.329 --> 00:39:14.145\nAnd Cherokee is just pointing at me,\nright?\n\n850\n00:39:14.145 --> 00:39:17.300\n[LAUGH] And she's saying,\nhey, what's going on,\n\n851\n00:39:17.300 --> 00:39:18.900\ninside the clock is stuck on the wall.\n\n852\n00:39:18.900 --> 00:39:20.829\nSo we're at our perpetual 15 minutes.\n\n853\n00:39:20.829 --> 00:39:21.704\nI could just keep going.\n\n854\n00:39:21.704 --> 00:39:22.496\nWe're never gonna run out of time.\n\n855\n00:39:22.496 --> 00:39:24.454\n&gt;&gt; Longest episode ever.\n\n856\n00:39:24.454 --> 00:39:28.429\n&gt;&gt; Ever, ever, all right, we're almost\ndone, I just wanna get this issued out,\n\n857\n00:39:28.429 --> 00:39:31.877\njust so we can see what that idea was\nabout going forward we only issue,\n\n858\n00:39:31.877 --> 00:39:34.585\nwe're not gonna,\nyou apply that going back, right?\n\n859\n00:39:34.585 --> 00:39:36.145\nSo we've done that, right?\n\n860\n00:39:36.145 --> 00:39:39.435\nSo we've specified, hey, we wanna archive,\nthat's gonna be important, right?\n\n861\n00:39:39.435 --> 00:39:42.725\nAnd then once we do all that,\nwe're gonna go ahead, hit Apply.\n\n862\n00:39:42.725 --> 00:39:43.755\nSo let me just do that.\n\n863\n00:39:43.755 --> 00:39:45.251\nThere are other options here by the way,\n\n864\n00:39:45.251 --> 00:39:47.328\nwe're just not really concerned\nabout them right now.\n\n865\n00:39:47.328 --> 00:39:48.865\nSo let's hit Apply there.\n\n866\n00:39:48.865 --> 00:39:51.645\nI also wanna go out,\njust go to the subject name tab, so\n\n867\n00:39:51.645 --> 00:39:53.950\nlet's just go take a look\nat that real quick.\n\n868\n00:39:53.950 --> 00:39:57.800\nAnd here is where we can choose some\nthings we're gonna put in to or perhaps\n\n869\n00:39:57.800 --> 00:40:02.273\nremove from the certificate with regards\nto building the certificate information,\n\n870\n00:40:02.273 --> 00:40:05.936\nthe subject name, the information\ncertificate from, in this case,\n\n871\n00:40:05.936 --> 00:40:08.070\nthe directory service AD Information.\n\n872\n00:40:08.070 --> 00:40:11.512\nThis is where, hypothetically,\nif you had email or\n\n873\n00:40:11.512 --> 00:40:15.501\ndidn't have email, if you had an SPN or\na UPN or whatever, or\n\n874\n00:40:15.501 --> 00:40:19.280\ninclude email if you had it,\nyou would make selections.\n\n875\n00:40:19.280 --> 00:40:23.605\nNow keep in mind, many organizations,\nyou do have email specified as part of\n\n876\n00:40:23.605 --> 00:40:27.535\nthe user profile, the objects and\nthe attributes for the user.\n\n877\n00:40:27.535 --> 00:40:30.135\nYou may not, so it's up to you to\ndecide what's gonna go on here.\n\n878\n00:40:30.135 --> 00:40:34.014\nBut I just wanted you to see that we\ncan modify the subject name, format,\n\n879\n00:40:34.014 --> 00:40:38.542\ncommon name, full distinguished name,\nand, or you include or not include email.\n\n880\n00:40:38.542 --> 00:40:41.917\nJust depending on what we're doing if\nwe have that available to us or not.\n\n881\n00:40:41.917 --> 00:40:44.018\nMay or may not.\nIt's really up to you to decide.\n\n882\n00:40:44.018 --> 00:40:46.396\nWe'll just go ahead and\nremove it just so we know.\n\n883\n00:40:46.396 --> 00:40:49.095\nSo I'm gonna apply that just\nto let you see that change.\n\n884\n00:40:49.095 --> 00:40:50.387\nLet's go to security here.\n\n885\n00:40:51.467 --> 00:40:54.369\nWe've talked about this, remember,\nin the permissions associated here.\n\n886\n00:40:54.369 --> 00:40:59.820\nWe're gonna go ahead and make sure\nthat we have the enroll option here.\n\n887\n00:40:59.820 --> 00:41:01.420\nAuthenticated users not auto enrolled.\n\n888\n00:41:01.420 --> 00:41:02.720\nWe talked about the difference here,\nright?\n\n889\n00:41:02.720 --> 00:41:06.775\nBut enroll, so we're gonna choose enroll\nthis time instead of auto enroll to give\n\n890\n00:41:06.775 --> 00:41:09.949\nauthenticated users the ability\nnot just to see the template but\n\n891\n00:41:09.949 --> 00:41:11.437\nto actually use it to enroll.\n\n892\n00:41:11.437 --> 00:41:14.765\nAnd in this case,\nuse it as a certificate for EFS use.\n\n893\n00:41:14.765 --> 00:41:16.468\nThat's what we're labeling it for but\n\n894\n00:41:16.468 --> 00:41:19.626\nalso then to allow us to have access\nto the key archive and capabilities.\n\n895\n00:41:19.626 --> 00:41:23.310\nSo Enroll, let's click Apply there,\nmake sure we have that.\n\n896\n00:41:23.310 --> 00:41:24.580\nAll right, so we've done all that.\n\n897\n00:41:24.580 --> 00:41:26.365\nI think that was everything\nwe were gonna do.\n\n898\n00:41:26.365 --> 00:41:28.090\nYeah, just gonna issue that out.\n\n899\n00:41:28.090 --> 00:41:29.900\nSo, let's click OK.\n\n900\n00:41:29.900 --> 00:41:32.310\nWe have that there,\nEFS user at the bottom.\n\n901\n00:41:32.310 --> 00:41:35.150\nRemember how we bring that\nback in just to tie this up.\n\n902\n00:41:35.150 --> 00:41:37.720\nWe just close the certificate\nmanagement console,\n\n903\n00:41:37.720 --> 00:41:40.790\ncome back to the certificate\ntemplate area under the CA.\n\n904\n00:41:40.790 --> 00:41:42.370\nRemember to bring this in and\nmake it available.\n\n905\n00:41:42.370 --> 00:41:43.312\nWhat do we do?\n\n906\n00:41:43.312 --> 00:41:48.309\nRight click here and instead of manage, we\ngo to New, certificate template to issue.\n\n907\n00:41:48.309 --> 00:41:51.230\nWe just go find our template,\nin this case, alphabetically.\n\n908\n00:41:51.230 --> 00:41:52.410\nPretty straightforward.\n\n909\n00:41:52.410 --> 00:41:56.980\nEFS User and then click OK,\nand then that shows up.\n\n910\n00:41:56.980 --> 00:41:59.160\nShould be right up top there,\nthat's there.\n\n911\n00:41:59.160 --> 00:42:03.008\nAnd now we can actually use that template\nto start to issue certificates based on it\n\n912\n00:42:03.008 --> 00:42:06.966\nand/or, in this case, whatever we're gonna\ndo with it, but have it available and\n\n913\n00:42:06.966 --> 00:42:08.055\nstart to work with it.\n\n914\n00:42:08.055 --> 00:42:11.590\nSo when we set up key archiving,\nor key archival, we're using key\n\n915\n00:42:11.590 --> 00:42:15.530\narchiving as part of that process,\na few things I've gotta worry about.\n\n916\n00:42:15.530 --> 00:42:17.940\nWe gotta have that KRA template available.\n\n917\n00:42:17.940 --> 00:42:22.594\nWe talked about how to get that in there,\nuse that to drive the issuance of at least\n\n918\n00:42:22.594 --> 00:42:26.377\none certificate, assign that,\nand enable QR cobbing at the CA.\n\n919\n00:42:26.377 --> 00:42:30.425\nAnd then maybe use that functionality with\nanother certificate to devolve that down\n\n920\n00:42:30.425 --> 00:42:32.885\nto users that may then be\nable to benefit from that.\n\n921\n00:42:32.885 --> 00:42:37.510\nSo we've kinda walked through the thought\nprocess overall and seen it end to end.\n\n922\n00:42:37.510 --> 00:42:41.130\nAnd as a result of that,\nwe're now able to go ahead and\n\n923\n00:42:41.130 --> 00:42:45.000\nactually able to either use that\ncertificate by enrolling users for\n\n924\n00:42:45.000 --> 00:42:47.595\nit or just have it there for\nfuture use at some point.\n\n925\n00:42:47.595 --> 00:42:49.767\nBut this is how we go through the process,\nstart to finish.\n\n926\n00:42:49.767 --> 00:42:52.126\n&gt;&gt; Awesome, thank you for\nshowing us how to do that, Adam.\n\n927\n00:42:52.126 --> 00:42:56.428\nI'm just sitting here thinking I wish I\nwould've had access to these videos when\n\n928\n00:42:56.428 --> 00:42:59.539\nI was struggling through some\nof this stuff and learning.\n\n929\n00:42:59.539 --> 00:43:02.510\nBut now the good news is you\nguys do have access to that.\n\n930\n00:43:02.510 --> 00:43:04.627\nSo I wanna say thank you for that.\n\n931\n00:43:04.627 --> 00:43:07.010\n[LAUGH]\n&gt;&gt; You wanna say it took too long.\n\n932\n00:43:07.010 --> 00:43:09.100\nYou wish I'd have stopped talking\nten minutes ago, but that's okay.\n\n933\n00:43:09.100 --> 00:43:10.431\n&gt;&gt; It's been a lot of information, though.\n\n934\n00:43:10.431 --> 00:43:11.599\n&gt;&gt; It is, I'm just teasing.\n&gt;&gt; A lot of good information.\n\n935\n00:43:12.630 --> 00:43:13.420\n&gt;&gt; Hopefully, hopefully.\n\n936\n00:43:13.420 --> 00:43:14.185\nAll kidding aside,\n\n937\n00:43:14.185 --> 00:43:16.845\nsome of these topics do take a little\nlonger than others to go through.\n\n938\n00:43:16.845 --> 00:43:20.030\nAnd you can see when we're taking the time\nnot only to show you how to do it.\n\n939\n00:43:20.030 --> 00:43:22.401\nBut reinforce the discussions\nwe've had in other areas and\n\n940\n00:43:22.401 --> 00:43:24.821\nbring it back together with\nthe graphical learning piece and\n\n941\n00:43:24.821 --> 00:43:28.061\nreally just it explain it to you as a\ntopical deep-dive, takes a little longer.\n\n942\n00:43:28.061 --> 00:43:30.340\nBut hopefully, you find value in that.\n\n943\n00:43:30.340 --> 00:43:33.534\nAnd hopefully, it becomes something that\nyou can reference to both prepare for\n\n944\n00:43:33.534 --> 00:43:36.550\nthe exam, obviously important skills\nthere, but also in the real world.\n\n945\n00:43:36.550 --> 00:43:38.650\nAnd a day, a week, a month,\na year from now, your boss comes and says,\n\n946\n00:43:38.650 --> 00:43:39.537\nI need you to do this, right?\n\n947\n00:43:39.537 --> 00:43:43.009\n&gt;&gt; If you're tasked with this,\nthen you'll, yeah, there's the video.\n\n948\n00:43:43.009 --> 00:43:43.516\n[LAUGH]\n&gt;&gt; How do I get that done, I don't\n\n949\n00:43:43.516 --> 00:43:44.792\nremember.\nI could go look it up, but\n\n950\n00:43:44.792 --> 00:43:47.899\nmaybe there's something on ITProTV\nthat will tell me how to do that.\n\n951\n00:43:47.899 --> 00:43:49.509\nAnd sure enough,\nin this case, there would be.\n\n952\n00:43:49.509 --> 00:43:50.288\n&gt;&gt; Awesome.\n\n953\n00:43:50.288 --> 00:43:53.243\nSo the bad news is we\nare out of time though.\n\n954\n00:43:53.243 --> 00:43:54.971\nSo we are gonna have to go ahead and\nsign out.\n\n955\n00:43:54.971 --> 00:43:56.379\nI've been your host Cherokee Boose.\n\n956\n00:43:56.379 --> 00:43:57.893\n&gt;&gt; [LAUGH] I am Adam Gordon.\n\n957\n00:43:57.893 --> 00:43:59.682\n&gt;&gt; See you next time here at ITProTV.\n\n958\n00:43:59.682 --> 00:44:01.358\n&gt;&gt; Take care, everybody.\n\n959\n00:44:01.358 --> 00:44:05.467\n[MUSIC]\n\n960\n00:44:05.467 --> 00:44:08.411\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232484578"
        },
        {
          "description": "In this episode, Adam and Cherokee walk through the steps of how to configure the template for Online Certificate Status Protocol (OCSP) response and configure the online responder feature. Adam also demonstrates how to add responder configurations.",
          "length": "1909",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-3-install_and_configure_online_responder-083117-PGM.00_31_32_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-3-install_and_configure_online_responder-083117-PGM.00_31_32_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-8-3-install_and_configure_online_responder-083117-PGM.00_31_32_17.Still001-sm.jpg",
          "title": "Install and Configure Online Responder",
          "transcript": "WEBVTT\n\n1\n00:00:00.360 --> 00:00:01.534\nWelcome to ITProTV.\n\n2\n00:00:01.534 --> 00:00:02.599\nI'm your host, Don Pezet.\n\n3\n00:00:02.599 --> 00:00:06.858\n[CROSSTALK]\n\n4\n00:00:06.858 --> 00:00:08.276\n[MUSIC]\n\n5\n00:00:08.276 --> 00:00:12.149\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.149 --> 00:00:15.383\n&gt;&gt; Welcome back to Identity with\nWindows Server 2016 series.\n\n7\n00:00:15.383 --> 00:00:16.284\n&gt;&gt; Can I do it?\n\n8\n00:00:16.284 --> 00:00:16.841\nCan I do it?\n\n9\n00:00:16.841 --> 00:00:17.734\nPlease, can I do it?\n&gt;&gt; Yeah, say it.\n\n10\n00:00:17.734 --> 00:00:19.864\n[LAUGH]\n&gt;&gt; Can I say what we're here to do?\n\n11\n00:00:19.864 --> 00:00:20.452\n&gt;&gt; Yes.\n\n12\n00:00:20.452 --> 00:00:22.106\n&gt;&gt; Online Responder.\n\n13\n00:00:22.106 --> 00:00:24.853\n&gt;&gt; Install and-\n&gt;&gt; Configure.\n\n14\n00:00:24.853 --> 00:00:25.790\n&gt;&gt; Configure.\n\n15\n00:00:25.790 --> 00:00:27.462\n&gt;&gt; We're gonna talk\nabout how to set it up.\n\n16\n00:00:27.462 --> 00:00:29.030\n&gt;&gt; [LAUGH]\n&gt;&gt; And it's actually really cool.\n\n17\n00:00:29.030 --> 00:00:30.610\nAnd I jumped in and\nsaid that because well,\n\n18\n00:00:30.610 --> 00:00:34.470\nI wanted Cherokee to make sure she's fresh\nfor our conversation in a little bit.\n\n19\n00:00:34.470 --> 00:00:36.030\nCuz I'm gonna ask her to\nhelp me out with this.\n\n20\n00:00:36.030 --> 00:00:39.710\nAnd by the way, huge,\nhuge value added in this episode.\n\n21\n00:00:39.710 --> 00:00:43.350\nWe now are being sponsored by Megan,\nnew mouse.\n\n22\n00:00:43.350 --> 00:00:45.107\nNew and improved, it actually works.\n\n23\n00:00:45.107 --> 00:00:46.421\nIt's gonna be awesome.\n\n24\n00:00:46.421 --> 00:00:46.990\n&gt;&gt; [LAUGH]\n&gt;&gt; So you're\n\n25\n00:00:46.990 --> 00:00:49.330\ngonna actually see me\nclicking my heart out here.\n\n26\n00:00:49.330 --> 00:00:50.670\nIt's gonna go the right way.\n\n27\n00:00:50.670 --> 00:00:54.590\nSo we are gonna talk about what you\nwould think of what we've talked about\n\n28\n00:00:54.590 --> 00:00:56.190\nas the Online Responders.\n\n29\n00:00:56.190 --> 00:00:58.690\nActually, something I mentioned in\na broader context in one of our\n\n30\n00:00:58.690 --> 00:00:59.330\nprior episodes.\n\n31\n00:00:59.330 --> 00:01:02.395\nSo I wanna spend a little time with you\nhere just going through the set up and\n\n32\n00:01:02.395 --> 00:01:03.496\nthe configuration of it.\n\n33\n00:01:03.496 --> 00:01:04.938\nAnd it is an exam objectives here,\n\n34\n00:01:04.938 --> 00:01:07.630\nI just gonna wanna make sure\nyou're familiar with it.\n\n35\n00:01:07.630 --> 00:01:10.590\nBut what we have talked about it\nin the respect to is something\n\n36\n00:01:10.590 --> 00:01:11.340\nknown as a protocol.\n\n37\n00:01:11.340 --> 00:01:13.990\nThe OCSP, the online certificate security,\nor excuse me,\n\n38\n00:01:13.990 --> 00:01:16.410\nOnline Certificate Status Protocol.\n\n39\n00:01:16.410 --> 00:01:21.260\nOCSP is used in partnership with the\nOnline Responder capability to allow us to\n\n40\n00:01:21.260 --> 00:01:26.060\ndo that automated check of the CRL,\nthe certificate, the revocation list.\n\n41\n00:01:26.060 --> 00:01:29.190\nTo ensure that we understand whether or\nnot certificates are valid.\n\n42\n00:01:29.190 --> 00:01:33.100\nWe've been through the logic of this,\ntalked about the reasons why a CRL is so\n\n43\n00:01:33.100 --> 00:01:33.610\nimportant.\n\n44\n00:01:33.610 --> 00:01:38.280\nThe fact that it historically has been\nkind of a intense job to get copies of\n\n45\n00:01:38.280 --> 00:01:40.910\nthe CRL out there to distribute them.\n\n46\n00:01:40.910 --> 00:01:44.920\nBecause although they are going to be, in\nthis case, as we've seen and talked about.\n\n47\n00:01:44.920 --> 00:01:48.100\nWe could set up a refresh cycle and\nsay every hour, or every day, or\n\n48\n00:01:48.100 --> 00:01:49.880\nwhatever, publish one.\n\n49\n00:01:49.880 --> 00:01:50.530\nWe may have to go out and\n\n50\n00:01:50.530 --> 00:01:53.480\nmanually retrieve that in order\nto be able to make use of it.\n\n51\n00:01:53.480 --> 00:01:55.894\nSo it may not just be\navailable to us automatically.\n\n52\n00:01:55.894 --> 00:02:00.571\nAnd although we do have CDPs, certificate\nrevocation list distribution points,\n\n53\n00:02:00.571 --> 00:02:04.067\nwe still may have to go out and\nretrieve the CRL file from that.\n\n54\n00:02:04.067 --> 00:02:08.290\nAnd of the application that is checking\nthe status of those certificates.\n\n55\n00:02:08.290 --> 00:02:10.630\nBe aware of that and\nobviously integrate that thought process.\n\n56\n00:02:10.630 --> 00:02:14.410\nSo OCSP comes along, helps us to\nautomate this a little bit easier.\n\n57\n00:02:14.410 --> 00:02:18.900\nThe Online Responder is some of the things\nthat go on behind the scenes to really\n\n58\n00:02:18.900 --> 00:02:20.050\nfacilitate that process.\n\n59\n00:02:20.050 --> 00:02:22.400\nSo we thought we'd go in,\ntake a look at it with you.\n\n60\n00:02:22.400 --> 00:02:24.300\nCherokee's been kind enough to help me and\n\n61\n00:02:24.300 --> 00:02:26.690\nactually volunteered to\nkeep me on track here.\n\n62\n00:02:26.690 --> 00:02:30.448\nEvery time I say something then, or other\nthan Online Responder, she's gonna correct\n\n63\n00:02:30.448 --> 00:02:33.260\nme cuz gonna make sure we talk\nabout the technology the right way.\n\n64\n00:02:33.260 --> 00:02:34.149\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so let's drop, and\n\n65\n00:02:34.149 --> 00:02:35.390\nlet's take a look at how\nwe set this thing up.\n\n66\n00:02:35.390 --> 00:02:37.250\nSo I've done a little bit\nof work behind the scenes,\n\n67\n00:02:37.250 --> 00:02:39.610\ngonna walk you through what\nwe've done up until this point.\n\n68\n00:02:39.610 --> 00:02:43.430\nAnd then we'll jump in, and then from\nhere, we'll use a wizard to go ahead and\n\n69\n00:02:43.430 --> 00:02:47.380\nconfigure or finish the configuration\nof the Online Responder feature.\n\n70\n00:02:47.380 --> 00:02:48.360\nI've got that installed.\n\n71\n00:02:48.360 --> 00:02:51.570\nSo we're gonna see how we stand that up,\nfinish that configuration, and\n\n72\n00:02:51.570 --> 00:02:54.060\njust walk through the logic of\nhow all these comes together.\n\n73\n00:02:54.060 --> 00:02:56.330\nBut first, the prep work,\nas they say, right?\n\n74\n00:02:56.330 --> 00:03:00.340\nSo we've done this part before, you\nhopefully are looking at this going wow,\n\n75\n00:03:00.340 --> 00:03:02.410\nthat looks kinda familiar,\nAdam, we've seen this before.\n\n76\n00:03:02.410 --> 00:03:03.968\nAnd by the way, notice how easy,\n\n77\n00:03:03.968 --> 00:03:05.223\nhow effortless-\n&gt;&gt; Wow.\n\n78\n00:03:05.223 --> 00:03:06.340\n&gt;&gt; That was.\n\n79\n00:03:06.340 --> 00:03:07.520\n&gt;&gt; What an improvement.\n\n80\n00:03:07.520 --> 00:03:08.730\n&gt;&gt; Awesome, right?\n\n81\n00:03:08.730 --> 00:03:10.720\nMeagan mouse 2.0, new and improved.\n\n82\n00:03:10.720 --> 00:03:13.510\nAll right, so\npublic key policies, we are here\n\n83\n00:03:13.510 --> 00:03:17.640\nup under the computer configuration area,\nin the policies area, in Windows settings.\n\n84\n00:03:17.640 --> 00:03:18.810\nUnder security settings,\n\n85\n00:03:18.810 --> 00:03:22.150\npublic key policies,Certificate\nServices Client Auto-Enrollment.\n\n86\n00:03:22.150 --> 00:03:24.135\nYou see me go in and\ntalk about this before.\n\n87\n00:03:24.135 --> 00:03:29.210\nI'm setting up a group policy, specific\nto auto enrollment and the control of it.\n\n88\n00:03:29.210 --> 00:03:32.430\nBut unlike the last time I did this, in\none of our prior episodes where we focused\n\n89\n00:03:32.430 --> 00:03:36.170\non the user side,\nsame set of settings, same idea.\n\n90\n00:03:36.170 --> 00:03:40.370\nHey, let's figure out how to auto-enroll\nusers with this particular policy.\n\n91\n00:03:40.370 --> 00:03:42.140\nWe're focusing on\nthe computer side this time.\n\n92\n00:03:42.140 --> 00:03:46.190\nBecause the Online Responder's gonna\nbe a computer, a feature that we\n\n93\n00:03:46.190 --> 00:03:49.980\nare installing, configuring,\nsetting up to use this functionality.\n\n94\n00:03:49.980 --> 00:03:52.614\nIt's gonna be driven by\na server role in this case.\n\n95\n00:03:52.614 --> 00:03:55.870\nAnd we wanna have a policy that\nwill auto-enroll the certificates.\n\n96\n00:03:55.870 --> 00:03:59.406\nAnd set up and allow us to manage\nthat on that particular machine so\n\n97\n00:03:59.406 --> 00:04:01.029\nlimiting it to this machine.\n\n98\n00:04:01.029 --> 00:04:01.904\nI'm gonna show you and\n\n99\n00:04:01.904 --> 00:04:04.590\nremind you how we do this from\nour group policy conversation.\n\n100\n00:04:04.590 --> 00:04:07.500\nBefore I get out to that area, before I\ngo and click out and show you what I'm\n\n101\n00:04:07.500 --> 00:04:12.580\ntalking about, if Miss Cherokee, if we\nwanted to, if I'm not disturbing you.\n\n102\n00:04:12.580 --> 00:04:13.995\nMake sure it's okay to ask you a question.\n\n103\n00:04:13.995 --> 00:04:15.765\n&gt;&gt; [LAUGH]\n&gt;&gt; So if we want to be able to, and\n\n104\n00:04:15.765 --> 00:04:19.010\nI'll give you a little hint as\nwe're talking about this filter.\n\n105\n00:04:19.010 --> 00:04:20.070\n&gt;&gt; Okay, okay.\n\n106\n00:04:20.070 --> 00:04:22.560\n&gt;&gt; Perhaps, this policy,\nand not just say, hey,\n\n107\n00:04:22.560 --> 00:04:26.400\napply to all people or\nall computers in this case.\n\n108\n00:04:26.400 --> 00:04:29.331\nBut I rather wanna filter this\npolicy a little bit, right?\n\n109\n00:04:29.331 --> 00:04:30.290\n&gt;&gt; [LAUGH] Okay.\n\n110\n00:04:30.290 --> 00:04:32.998\n&gt;&gt; Not suggesting filtering is part of the\nanswer, just saying filtering is policy.\n\n111\n00:04:32.998 --> 00:04:33.894\n&gt;&gt; Okay.\n\n112\n00:04:33.894 --> 00:04:37.180\n&gt;&gt; So if I wanted to filter this,\nthere is an area on the property.\n\n113\n00:04:37.180 --> 00:04:41.140\nSo the policy out of this window but\nback on the actual window behind me here,\n\n114\n00:04:41.140 --> 00:04:44.380\nright, where I'm looking at\nthe properties of the policy.\n\n115\n00:04:44.380 --> 00:04:47.020\nI right click, edit,\nI see that whole screen and everything.\n\n116\n00:04:47.020 --> 00:04:50.532\nSo if I wanted to go in there and\nmaybe do a little filtering,\n\n117\n00:04:50.532 --> 00:04:51.948\nwhere would I be going?\n\n118\n00:04:51.948 --> 00:04:53.700\nWhat would be the name of that section?\n\n119\n00:04:53.700 --> 00:04:54.847\n&gt;&gt; Now, if Cherokee doesn't look\n\n120\n00:04:54.847 --> 00:04:55.402\nat the screen,\n\n121\n00:04:55.402 --> 00:04:56.092\n&gt;&gt; [LAUGH]\n&gt;&gt; But looks at me-\n\n122\n00:04:56.092 --> 00:04:56.592\n&gt;&gt; I'm trying to look at the screen, guys.\n\n123\n00:04:56.592 --> 00:04:57.145\n&gt;&gt; Right, and I move,\n\n124\n00:04:57.145 --> 00:04:58.543\nno, don't look at the screen.\n&gt;&gt; Okay.\n\n125\n00:04:58.543 --> 00:04:59.931\n&gt;&gt; I'm gonna move this almost like they\n\n126\n00:04:59.931 --> 00:05:02.106\ndo it in TV, right?\nSo you could see that those of you in\n\n127\n00:05:02.106 --> 00:05:05.547\nthe studio audience, you could see I'm\nkind of, don't look, you're cheating,\n\n128\n00:05:05.547 --> 00:05:06.642\nright?\n&gt;&gt; [LAUGH]\n\n129\n00:05:06.642 --> 00:05:07.310\n&gt;&gt; I'm just kind of\n\n130\n00:05:07.310 --> 00:05:09.650\nshowing you what the preview of\nthe answer's gonna be, right?\n\n131\n00:05:09.650 --> 00:05:12.170\nWe're gonna go and take a look at\nthis right here and talk about this.\n\n132\n00:05:12.170 --> 00:05:16.020\nBut if I wanted to filter the policy a\nlittle bit before I actually go in there,\n\n133\n00:05:16.020 --> 00:05:16.804\nwhat am I gonna be using?\n\n134\n00:05:16.804 --> 00:05:17.707\nWhat am I gonna do?\n\n135\n00:05:17.707 --> 00:05:18.942\n&gt;&gt; All right, so I did cheat a little bit,\nI'm not gonna lie.\n\n136\n00:05:18.942 --> 00:05:20.229\n&gt;&gt; I know you did, I saw you look.\n\n137\n00:05:20.229 --> 00:05:21.158\n&gt;&gt; [LAUGH]\n&gt;&gt; But that's okay.\n\n138\n00:05:21.158 --> 00:05:22.385\n&gt;&gt; I saw security filtering Adam.\n\n139\n00:05:22.385 --> 00:05:23.956\n&gt;&gt; Security filtering, absolutely.\n\n140\n00:05:23.956 --> 00:05:27.440\nSo we're gonna go in, right, we're gonna\ngo back here to security filtering area.\n\n141\n00:05:27.440 --> 00:05:29.949\nWe talked about this in our group\npolicy conversation, so you may or\n\n142\n00:05:29.949 --> 00:05:31.140\nmay not remember it.\n\n143\n00:05:31.140 --> 00:05:34.240\nObviously, go back, take a look at those\nepisodes if you need a quick refresher.\n\n144\n00:05:34.240 --> 00:05:36.540\nBut with security policy or\nsecurity filtering rather,\n\n145\n00:05:36.540 --> 00:05:39.950\nlet's just do one group policy,\nis it allows us to scope and tailor.\n\n146\n00:05:39.950 --> 00:05:44.430\nDecide which group or groups in this case\nor an individual object in this case,\n\n147\n00:05:44.430 --> 00:05:47.660\na computer object will be\nable to apply the policy.\n\n148\n00:05:47.660 --> 00:05:48.880\nAnd so I've gone ahead and\n\n149\n00:05:48.880 --> 00:05:52.900\nI've added beyond the authenticated\nusers' group which is there by default.\n\n150\n00:05:52.900 --> 00:05:57.470\nI've added the machine, the PLABDM01\nmachine that will ultimately have\n\n151\n00:05:57.470 --> 00:05:59.820\nthe Online Responder\nfeature configured on it.\n\n152\n00:05:59.820 --> 00:06:04.400\nI've added it to the security\nfiltering tab, deciding and\n\n153\n00:06:04.400 --> 00:06:08.610\nnarrowing the application of this policy,\nspecifically to this one machine.\n\n154\n00:06:08.610 --> 00:06:11.371\nAnd so as a result,\nwe're gonna configure this one machine.\n\n155\n00:06:11.371 --> 00:06:15.007\nAnd we're gonna make sure this machine\nhas the auto-enrollment capabilities that\n\n156\n00:06:15.007 --> 00:06:17.140\nthe policy's stipulating we should use.\n\n157\n00:06:17.140 --> 00:06:18.110\nAnd that's what we're doing here.\n\n158\n00:06:18.110 --> 00:06:21.180\nSo just using a little bit of our\nprior knowledge to set this up and\n\n159\n00:06:21.180 --> 00:06:23.180\nmake this work a little bit easier for us.\n\n160\n00:06:23.180 --> 00:06:24.990\nSo we have our policy, I've created it.\n\n161\n00:06:24.990 --> 00:06:26.830\nI call it the computer\ncertificate auto-enroll, but\n\n162\n00:06:26.830 --> 00:06:28.110\ncall it whatever you'd like.\n\n163\n00:06:28.110 --> 00:06:30.340\nBut notice I put it up\nat the domain level,\n\n164\n00:06:30.340 --> 00:06:35.090\nI did not put it on one of the OUs because\nI want it to apply at the domain level.\n\n165\n00:06:35.090 --> 00:06:37.270\nBut that way,\nI can hit this particular machine,\n\n166\n00:06:37.270 --> 00:06:39.370\nwhich is a computer in the domain.\n\n167\n00:06:39.370 --> 00:06:42.020\nSo that way I can actually\napply this to the computer.\n\n168\n00:06:42.020 --> 00:06:46.770\nSo reminding ourselves of some of the\nworking methodologies parts, things that\n\n169\n00:06:46.770 --> 00:06:50.603\nwe think of in the ways we approach group\npolicy is part of our conversation here.\n\n170\n00:06:50.603 --> 00:06:52.290\nSo I'm gonna have my policy in place.\n\n171\n00:06:52.290 --> 00:06:53.970\nI've already done that, set it up.\n\n172\n00:06:53.970 --> 00:06:57.377\nI've done a GPUpdate/force\nto apply the group policy.\n\n173\n00:06:57.377 --> 00:07:00.000\nWe'll have to configure\nthe Online Responder capability.\n\n174\n00:07:00.000 --> 00:07:01.350\nWe're gonna look at that in a minute.\n\n175\n00:07:01.350 --> 00:07:04.365\nAnd then, we'll have to restart the\nmachine to make sure the policy's there,\n\n176\n00:07:04.365 --> 00:07:05.087\nso we'll do that.\n\n177\n00:07:05.087 --> 00:07:09.162\nBut what we've done in addition to that,\nand we're gonna set that piece up and\n\n178\n00:07:09.162 --> 00:07:10.610\nin motion in a second.\n\n179\n00:07:10.610 --> 00:07:12.800\nI've come over here to my\ncertificate authority.\n\n180\n00:07:12.800 --> 00:07:14.386\nSo this is a separate machine.\n\n181\n00:07:14.386 --> 00:07:18.849\nNot the DM01 machine that we're gonna\nmake the Online Responder out of, but\n\n182\n00:07:18.849 --> 00:07:23.115\nrather our DC, our domain controller,\nwhich is our Enterprise Route CA.\n\n183\n00:07:23.115 --> 00:07:26.420\nYou've seen me use this machine in and\nout of some of these discussions.\n\n184\n00:07:26.420 --> 00:07:31.460\nAnd I've gone ahead and what I've done is\nI've gone into certificate template area.\n\n185\n00:07:31.460 --> 00:07:34.226\nI've gone to manage certificate templates.\n\n186\n00:07:34.226 --> 00:07:37.980\nI've gotten a copy of the OCSP\nresponse signing template.\n\n187\n00:07:37.980 --> 00:07:39.793\nYou could see I'm highlighting it here.\n\n188\n00:07:39.793 --> 00:07:43.014\nAnd I've brought it in after I've\nconfigured it and made it available.\n\n189\n00:07:43.014 --> 00:07:45.815\nSo that way I'm now able\nto use this template.\n\n190\n00:07:45.815 --> 00:07:48.601\nBecause this is what I'm gonna use\nto be able to issue a certificate or\n\n191\n00:07:48.601 --> 00:07:51.210\ncertificates, depending on how\nmany I need or what I'm doing.\n\n192\n00:07:51.210 --> 00:07:54.820\nThat will allow me to enable\nthe Online Responder functionality and\n\n193\n00:07:54.820 --> 00:07:55.715\nwork with OCSP.\n\n194\n00:07:55.715 --> 00:08:00.425\nSo that we can, as a result, use\nthe protocol and the feature to be able to\n\n195\n00:08:00.425 --> 00:08:04.535\nallow for this functionality and\ncheck the status of the CRLs.\n\n196\n00:08:04.535 --> 00:08:05.913\nOnline in an automated way.\n\n197\n00:08:05.913 --> 00:08:07.639\nSo I'm gonna stand this feature up.\n\n198\n00:08:07.639 --> 00:08:10.274\nAnd I'm gonna configure it, but\nI've put the template in place.\n\n199\n00:08:10.274 --> 00:08:14.268\nSo that way I can use the template\nto issue certificates at some point,\n\n200\n00:08:14.268 --> 00:08:14.954\nif needed.\n\n201\n00:08:14.954 --> 00:08:18.822\nSo I've gone ahead and done that already\nbehind the scenes, just so you know.\n\n202\n00:08:18.822 --> 00:08:21.172\nAnd then, let me just show\nyou one quick thing in here.\n\n203\n00:08:21.172 --> 00:08:24.564\nJust on the templates specifically.\n\n204\n00:08:24.564 --> 00:08:28.065\nI filtered the list just so\nwe could see it up at the top so\n\n205\n00:08:28.065 --> 00:08:30.054\nyou know why it shows up there.\n\n206\n00:08:30.054 --> 00:08:31.076\nAnd it's not in alphabetical order.\n\n207\n00:08:31.076 --> 00:08:32.968\nSo I'm gonna go in, and what I did here,\n\n208\n00:08:32.968 --> 00:08:36.100\nwe'll just go to properties real\nquick just to show you one thing.\n\n209\n00:08:38.190 --> 00:08:45.364\nAnd we can go in and we can, and actually\nwhat I did was not on request handling.\n\n210\n00:08:45.364 --> 00:08:46.886\nWhere did I go?\n\n211\n00:08:46.886 --> 00:08:49.870\nI just wanna make sure that I'm thinking,\nyes, I went to Security.\n\n212\n00:08:49.870 --> 00:08:51.874\nJust think about what I did and\nwhat I wanna show you.\n\n213\n00:08:51.874 --> 00:08:54.274\nSo I went to the Security tab\non this particular template.\n\n214\n00:08:54.274 --> 00:08:59.806\nAnd I had to go in and\nadd the computer account in here as well.\n\n215\n00:08:59.806 --> 00:09:03.576\nAnd assigned it the right set, I'm gonna\nneed it to have to use the template to be\n\n216\n00:09:03.576 --> 00:09:06.802\nable to, in other words have\na certificate issued on it's behalf.\n\n217\n00:09:06.802 --> 00:09:10.786\nCuz remember, we've auto enrolled or\nset the auto enrollment feature up in\n\n218\n00:09:10.786 --> 00:09:14.957\nthe policy, but to get to the template,\nthe normal security capabilities, or\n\n219\n00:09:14.957 --> 00:09:19.780\nthe configuration on templates, as we\ntalk about, is authenticated users group.\n\n220\n00:09:19.780 --> 00:09:23.562\nAnd remember they get reads so\nthat we can see the policy template.\n\n221\n00:09:23.562 --> 00:09:25.235\nWe can use the template,\nin other words, and\n\n222\n00:09:25.235 --> 00:09:28.470\ninteract with it to generate certificate\nrequests and have them approved.\n\n223\n00:09:28.470 --> 00:09:31.382\nWe have domain and\nenterprise admins to oversee and manage.\n\n224\n00:09:31.382 --> 00:09:35.804\nBut we don't have the PLAB, DMS-R1,\nor any kind of machine account there,\n\n225\n00:09:35.804 --> 00:09:39.630\nbecause normally certificates\nare not always given to computers.\n\n226\n00:09:39.630 --> 00:09:41.656\nBut certainly, or rather,\nthey're not always given to users.\n\n227\n00:09:41.656 --> 00:09:42.760\nVery often, they're given to both.\n\n228\n00:09:42.760 --> 00:09:44.356\nBut the preference, typically,\n\n229\n00:09:44.356 --> 00:09:47.058\nis most certificates go to\nusers as opposed to computers.\n\n230\n00:09:47.058 --> 00:09:50.479\nSo, we just go ahead and wanna make sure\nwe can add in the computer account and\n\n231\n00:09:50.479 --> 00:09:51.732\nassign it the rights here.\n\n232\n00:09:51.732 --> 00:09:54.427\nIt's gonna have read so\nit can interact, obviously,\n\n233\n00:09:54.427 --> 00:09:56.314\njust like authenticated users will.\n\n234\n00:09:56.314 --> 00:09:59.646\nBut it's also gonna get enroll and\nauto enroll to be able to create and\n\n235\n00:09:59.646 --> 00:10:01.600\nuse a certificate from this template.\n\n236\n00:10:01.600 --> 00:10:05.254\nSo I've assigned that\nspecifically on the template.\n\n237\n00:10:05.254 --> 00:10:09.023\nAnd then, when I create or\nuse the template by pulling it out and\n\n238\n00:10:09.023 --> 00:10:11.229\ninstalling it into the system here,\n\n239\n00:10:11.229 --> 00:10:15.230\nI now have that security setting\nalready enabled on the template.\n\n240\n00:10:15.230 --> 00:10:16.550\nSo when I issue certificates,\n\n241\n00:10:16.550 --> 00:10:18.646\nthat computer will be able\nto get a certificate.\n\n242\n00:10:18.646 --> 00:10:21.555\nSo, just showing you the connections\nbehind the scenes that we have to\n\n243\n00:10:21.555 --> 00:10:22.160\nthink about.\n\n244\n00:10:22.160 --> 00:10:24.588\nIn your world,\nwhat would you be doing here?\n\n245\n00:10:24.588 --> 00:10:26.589\nChoosing whatever certificate,\nor excuse me,\n\n246\n00:10:26.589 --> 00:10:28.687\nwhatever computer is gonna\ninhabit this role, and\n\n247\n00:10:28.687 --> 00:10:32.120\nput the name into that computer there,\nand set that up in the group policy.\n\n248\n00:10:32.120 --> 00:10:35.161\nI'm just showing you what computer\nwe're using in the named instance\n\n249\n00:10:35.161 --> 00:10:37.234\nwe've decided to use for\nthis demonstration.\n\n250\n00:10:37.234 --> 00:10:42.020\nSo I'm gonna move over here,\nto my DM1 or DM01 machine.\n\n251\n00:10:42.020 --> 00:10:44.831\nI'm on the machine,\nI'll just point out right up here,\n\n252\n00:10:44.831 --> 00:10:49.166\nwe have a little cautionary flag, which is\nindicating that there's something pending\n\n253\n00:10:49.166 --> 00:10:53.406\nthat we have to deal with, which will be\nthe configuration or finishment, new word.\n\n254\n00:10:53.406 --> 00:10:54.972\nFinishing of-\n&gt;&gt; [LAUGH]\n\n255\n00:10:54.972 --> 00:10:56.795\n&gt;&gt; The configuration that I started in\n\n256\n00:10:56.795 --> 00:10:59.780\nPowerShell by installing\nthe Online Responder feature.\n\n257\n00:10:59.780 --> 00:11:03.962\nWe're gonna go in and walk through that,\nbut I just wanna show you how we did that.\n\n258\n00:11:03.962 --> 00:11:06.120\nSo let me bring up PowerShell,\njust before we go any further.\n\n259\n00:11:06.120 --> 00:11:09.976\nAnd what I did, and you could see\nit here pretty straightforward.\n\n260\n00:11:09.976 --> 00:11:14.441\nI added the Windows feature,\nused the Add-WindowsFeature cmdlet,\n\n261\n00:11:14.441 --> 00:11:18.450\na name parameter, ADCS online search,\nthat's a new one, and\n\n262\n00:11:18.450 --> 00:11:20.734\nRSAT Online Responder, also new.\n\n263\n00:11:20.734 --> 00:11:24.856\nWe haven't seen those features before,\nwe've been focusing almost exclusively on\n\n264\n00:11:24.856 --> 00:11:27.730\nthe ADCS features, and\n[CROSSTALK] we have been doing that.\n\n265\n00:11:27.730 --> 00:11:30.268\nBut the subset has been,\nthe web enrollment,\n\n266\n00:11:30.268 --> 00:11:33.732\nand been the certification authority,\nat least up until now.\n\n267\n00:11:33.732 --> 00:11:35.044\nThat's what we've historically\nbeen using this for.\n\n268\n00:11:35.044 --> 00:11:39.246\nWe're doing something a little bit\ndifferent here, and what we're doing is\n\n269\n00:11:39.246 --> 00:11:43.257\nwe're adding in some additional features\nthat are part of the ADCS active\n\n270\n00:11:43.257 --> 00:11:48.062\ndirectory certificate services feature\nset, but we're focusing on different ones.\n\n271\n00:11:48.062 --> 00:11:49.600\nI include our management tools,\ndid all that.\n\n272\n00:11:49.600 --> 00:11:53.950\nPretty straightforward, just a real world\nhint, this does take slightly longer,\n\n273\n00:11:53.950 --> 00:11:57.090\nperhaps depending on just what's\ngoing on in your machine.\n\n274\n00:11:57.090 --> 00:12:01.297\nI found on average, this took me about\na minute longer just to run through and\n\n275\n00:12:01.297 --> 00:12:05.569\nlet it configure, then just the normal\nset up of the CA functionality did just\n\n276\n00:12:05.569 --> 00:12:10.025\nbecause we're putting in some additional\ndependencies and things like that.\n\n277\n00:12:10.025 --> 00:12:11.124\nSo just a little longer.\n\n278\n00:12:11.124 --> 00:12:12.292\nSo don't be surprised by that.\n\n279\n00:12:12.292 --> 00:12:13.364\nIf you see that happening.\n\n280\n00:12:13.364 --> 00:12:17.310\nAll right, so we did all that, and\nthen we come back into Server Manager, and\n\n281\n00:12:17.310 --> 00:12:21.319\nwe have this right here, which says,\nhey, post deployment configuration,\n\n282\n00:12:21.319 --> 00:12:25.010\nconfigure the AB certificate\nservices on the destination server.\n\n283\n00:12:25.010 --> 00:12:28.258\nSo we have to finish the configuration,\nthat's what we're gonna go through and\n\n284\n00:12:28.258 --> 00:12:28.842\ndo right now.\n\n285\n00:12:28.842 --> 00:12:29.916\nSo let me just click here.\n\n286\n00:12:29.916 --> 00:12:34.164\nBring this up and just give me a second,\nI kinda center that, so\n\n287\n00:12:34.164 --> 00:12:36.256\nwe could see what's going on.\n\n288\n00:12:36.256 --> 00:12:39.560\nSo I wanted you to see this wizard, so\nthat way you could see what we do to\n\n289\n00:12:39.560 --> 00:12:43.707\nspecify the credentials, to configure the\nRole Services, choose the Role Services.\n\n290\n00:12:43.707 --> 00:12:46.426\nIn this case we'll be choosing\nthe Online Responder, but\n\n291\n00:12:46.426 --> 00:12:50.211\nI wanted you to see this cuz if I do this\nbehind the scenes and it's already setup,\n\n292\n00:12:50.211 --> 00:12:53.493\nBy the time we come back in,\nare you not able to actually see this,\n\n293\n00:12:53.493 --> 00:12:57.688\nand you don't get a chance to understand\nwhat we're doing and how we're doing it.\n\n294\n00:12:57.688 --> 00:12:59.288\nAnd this just kinda happens one time and\nits done.\n\n295\n00:12:59.288 --> 00:13:02.833\nSo, just wanted to point that out to you\nand just make sure, or at least show you,\n\n296\n00:13:02.833 --> 00:13:06.086\nwalk-through this rather, with you and\nshow you how this is gonna work.\n\n297\n00:13:06.086 --> 00:13:09.605\nSo, let me just get down here, [INAUDIBLE]\nlook up one quick thing on the credential\n\n298\n00:13:09.605 --> 00:13:11.854\non my notes,\nthat I forgot to take note of in my mind.\n\n299\n00:13:11.854 --> 00:13:13.998\nSo just getting to the point in\nmy notes where I can see it.\n\n300\n00:13:13.998 --> 00:13:16.492\nJust so we know what it is,\nall right, perfect.\n\n301\n00:13:16.492 --> 00:13:18.268\nSo Role Services, Online Responder.\n\n302\n00:13:18.268 --> 00:13:19.710\nAnd we got all that.\n\n303\n00:13:19.710 --> 00:13:24.225\nOkay, so, our credentials here,\npractice labs administrator, domain admin,\n\n304\n00:13:24.225 --> 00:13:25.440\nno big deal.\n\n305\n00:13:25.440 --> 00:13:30.186\nThen, what we're gonna do,\nclick here, select our role.\n\n306\n00:13:30.186 --> 00:13:33.714\nOnline Responder is the only role\nthat's available because that's\n\n307\n00:13:33.714 --> 00:13:37.804\nthe one we said we wanted to have created\nas a feature, so we've got that set up.\n\n308\n00:13:37.804 --> 00:13:41.652\nCheck, next, confirmation,\nall right, really straightforward,\n\n309\n00:13:41.652 --> 00:13:43.970\nno mystery in the interface here.\n\n310\n00:13:43.970 --> 00:13:45.804\nClick configure.\n\n311\n00:13:45.804 --> 00:13:47.388\nWait for that to happen, very easy.\n\n312\n00:13:47.388 --> 00:13:49.050\nSee it just goes really, really quickly.\n\n313\n00:13:49.050 --> 00:13:51.607\nNow, interestingly,\nif you wanna read up a little bit or\n\n314\n00:13:51.607 --> 00:13:55.391\nget some more information, I encourage you\nto always to follow those help links, or\n\n315\n00:13:55.391 --> 00:13:57.174\njust online additional information.\n\n316\n00:13:57.174 --> 00:13:58.948\nSo I always encourage you to go out and\ntake a look at that.\n\n317\n00:13:58.948 --> 00:14:01.362\nNow what we're gonna have to do\nonce this is done, you'll see here.\n\n318\n00:14:01.362 --> 00:14:08.110\nI just click close, all right, so,\nwhat we're gonna do now is the following,\n\n319\n00:14:08.110 --> 00:14:13.074\nI'm gonna go in, and\nI'm going to restart this machine.\n\n320\n00:14:13.074 --> 00:14:15.918\nAnd restart, as you may have\nseen this [INAUDIBLE] prior,\n\n321\n00:14:15.918 --> 00:14:18.228\n[LAUGH] it ventures in\nour demonstration area,\n\n322\n00:14:18.228 --> 00:14:22.520\ndoes number one take a couple of minutes,\nand number two requires consoling back in.\n\n323\n00:14:22.520 --> 00:14:27.604\nSo, we're gonna use the magic of ITProTV,\npause and restart technology here.\n\n324\n00:14:27.604 --> 00:14:29.972\nWe're gonna just go ahead and\ndo that restart for you behind the scenes.\n\n325\n00:14:29.972 --> 00:14:31.476\nSo just come back and join us.\n\n326\n00:14:31.476 --> 00:14:33.206\nWe'll be back on the machine, ready to go.\n\n327\n00:14:33.206 --> 00:14:35.062\nJust before we do that,\nthe reason we're restarting.\n\n328\n00:14:35.062 --> 00:14:37.356\nRemember I mentioned the group policy, and\n\n329\n00:14:37.356 --> 00:14:39.836\nthe fact that we applied\nit at the domain level.\n\n330\n00:14:39.836 --> 00:14:42.654\nBut remember, it's being targeted,\nfocused specifically on this machine.\n\n331\n00:14:42.654 --> 00:14:47.040\nAfter we start the machine, so\nwe know the policy is gonna take effect.\n\n332\n00:14:47.040 --> 00:14:50.038\nSo I'm gonna do that behind the scenes\nnow just to make sure we get the policy\n\n333\n00:14:50.038 --> 00:14:53.250\napplied for auto enrollment, that way\nwhen we come back up it's ready to go.\n\n334\n00:14:53.250 --> 00:14:56.667\nWe're gonna do that we'll then obviously\nbe able to go in to our Server Manager,\n\n335\n00:14:56.667 --> 00:14:58.948\njust to tell you what we're\ngonna do when we get back.\n\n336\n00:14:58.948 --> 00:14:59.521\nGo to Tools,\n\n337\n00:14:59.521 --> 00:15:03.320\nwe'll take a look at the Online Responder\nConfiguration Management interface.\n\n338\n00:15:03.320 --> 00:15:05.973\nWe'll have some stuff to do in there just\nto show you how this rounds out, and\n\n339\n00:15:05.973 --> 00:15:08.628\nthat will be what we're gonna do as\nsoon as you come back join me in just,\n\n340\n00:15:08.628 --> 00:15:09.724\nI don't know, what do we say?\n\n341\n00:15:09.724 --> 00:15:10.820\n&gt;&gt; Three seconds.\n\n342\n00:15:10.820 --> 00:15:11.634\n&gt;&gt; Three minutes.\n\n343\n00:15:11.634 --> 00:15:12.498\n&gt;&gt; Three minutes.\n\n344\n00:15:12.498 --> 00:15:14.354\nSomething between [LAUGH] two seconds and\nthree minutes.\n\n345\n00:15:14.354 --> 00:15:16.821\nBut I'm gonna restart, you're gonna stay\nright there, as soon as you come back and\n\n346\n00:15:16.821 --> 00:15:18.548\njoin us, we'll be back up with\nthe interface ready to go.\n\n347\n00:15:18.548 --> 00:15:21.094\nAll right, so, welcome back.\n\n348\n00:15:21.094 --> 00:15:25.782\nHere we are restarted, refreshed, and of\ncourse recharged, and ready to continue.\n\n349\n00:15:25.782 --> 00:15:30.022\nJoin me here if you will, in or\nI should say up there, in our console.\n\n350\n00:15:30.022 --> 00:15:31.778\nSo I've just restarted\nthe machine behind the scenes.\n\n351\n00:15:31.778 --> 00:15:35.352\nWe were talking about right before\nwe took that quick little magical TV\n\n352\n00:15:35.352 --> 00:15:36.600\nsponsor break.\n\n353\n00:15:36.600 --> 00:15:39.042\nWe're back with everything up and\nrunning, ready to go.\n\n354\n00:15:39.042 --> 00:15:41.789\nOur console is available to us,\nso we're gonna go in and\n\n355\n00:15:41.789 --> 00:15:43.740\ntake a look at that in just a moment.\n\n356\n00:15:43.740 --> 00:15:47.247\nJust to show you, we do have the Online\nResponder Management module there.\n\n357\n00:15:47.247 --> 00:15:49.150\nWe'll be using that tool in a moment.\n\n358\n00:15:49.150 --> 00:15:52.964\nBefore we do that, we're gonna open up and\na create a little custom MMC here.\n\n359\n00:15:52.964 --> 00:15:54.180\nYou've seen me do this before.\n\n360\n00:15:54.180 --> 00:15:56.457\nThis will bring the run line up here.\n\n361\n00:15:56.457 --> 00:15:59.302\nJust gonna type MMC, here.\n\n362\n00:15:59.302 --> 00:16:02.558\nOpen that up, we're gonna go to a file.\n\n363\n00:16:02.558 --> 00:16:06.075\nAnd we're gonna go to add remove snap in,\nand we're gonna go ahead and\n\n364\n00:16:06.075 --> 00:16:08.530\nwe're gonna put the certificates,\nsnap it in.\n\n365\n00:16:08.530 --> 00:16:12.120\nWe did this when we were talking\nabout user certificates, and\n\n366\n00:16:12.120 --> 00:16:17.020\nwe've taken a look at how to deal with\nthat with the key recovery agent.\n\n367\n00:16:17.020 --> 00:16:20.290\nWE did a discussion on how\nto do key archiving, and\n\n368\n00:16:20.290 --> 00:16:22.170\na presentation of how\nyou'd walk through that.\n\n369\n00:16:22.170 --> 00:16:23.530\nOne of our prior episodes.\n\n370\n00:16:23.530 --> 00:16:26.180\nSo I used an MMC very similar to his, but\n\n371\n00:16:26.180 --> 00:16:30.510\nfocused it on the specific kind\nof certificates we wanted there.\n\n372\n00:16:30.510 --> 00:16:32.360\nWe're gonna change that thought process.\n\n373\n00:16:32.360 --> 00:16:35.140\nFocus it here on the computer\naccount instead of the user.\n\n374\n00:16:35.140 --> 00:16:36.980\nSame idea, we're gonna click Add.\n\n375\n00:16:36.980 --> 00:16:38.150\nBring that over here.\n\n376\n00:16:38.150 --> 00:16:39.730\nGives us our option.\n\n377\n00:16:39.730 --> 00:16:41.230\nI use my user account.\n\n378\n00:16:41.230 --> 00:16:45.450\nWhen I set up for the KRA demonstration\nbecause I was focusing on the admin\n\n379\n00:16:45.450 --> 00:16:49.330\ncredential on the local machine\ngetting that KRA certificate issued\n\n380\n00:16:49.330 --> 00:16:53.180\ndropping it in to the personal store so\nthat MMC was created that way.\n\n381\n00:16:53.180 --> 00:16:55.770\nWe are going to change this and\ndo computer account.\n\n382\n00:16:55.770 --> 00:16:58.340\nBecause we're dealing with computer\nrelated certificates in this specific\n\n383\n00:16:58.340 --> 00:16:59.310\ndemonstration.\n\n384\n00:16:59.310 --> 00:17:01.360\nComputer account here for the focus.\n\n385\n00:17:01.360 --> 00:17:01.920\nClick next.\n\n386\n00:17:01.920 --> 00:17:02.790\nIs it local?\n\n387\n00:17:02.790 --> 00:17:04.000\nIs it another computer?\n\n388\n00:17:04.000 --> 00:17:05.380\nYou've probably seen this before.\n\n389\n00:17:05.380 --> 00:17:08.250\nWe're just going to do local because\nwe're going to work on the local machine.\n\n390\n00:17:08.250 --> 00:17:10.030\nWe're going to leave that default there.\n\n391\n00:17:10.030 --> 00:17:10.710\nHit finish.\n\n392\n00:17:10.710 --> 00:17:14.250\nWe're going to go ahead and okay out of\nthat just so we have that ready to go.\n\n393\n00:17:14.250 --> 00:17:17.290\nWe'll just bring this up here so\nwe can see that.\n\n394\n00:17:17.290 --> 00:17:19.970\nAnd smooth this over just a wee bit.\n\n395\n00:17:19.970 --> 00:17:24.330\nAlright and so down here again looks the\nsame but we're going to be working with\n\n396\n00:17:24.330 --> 00:17:28.450\ncomputers as opposed to user certificates\nthis time so we have this opened up and\n\n397\n00:17:28.450 --> 00:17:30.350\nwhat we're going to do is the following.\n\n398\n00:17:31.680 --> 00:17:34.500\nGonna come in you can see under personal,\n\n399\n00:17:34.500 --> 00:17:36.990\nlet's open this up here\nunder certificates.\n\n400\n00:17:36.990 --> 00:17:41.150\nWe do have, extend this out so\nyou can see what's going on here.\n\n401\n00:17:41.150 --> 00:17:43.290\nWe do have a couple of certificates here.\n\n402\n00:17:43.290 --> 00:17:48.550\nYou'll see we do have\nthe Microsoft Remote Attestation Service,\n\n403\n00:17:48.550 --> 00:17:53.586\nand Plot VM01 PracticeLabs.com You'll\nsee OCSP signing is there.\n\n404\n00:17:53.586 --> 00:17:57.265\nThat's one of the, or that is the\ncertificate that has been generated and\n\n405\n00:17:57.265 --> 00:18:02.245\ngiven to this system as a result of what\nwe just did with the configuration and\n\n406\n00:18:02.245 --> 00:18:03.165\nthe policy.\n\n407\n00:18:03.165 --> 00:18:07.695\nRemember we set the policy up auto enroll\nand provide that information restarting\n\n408\n00:18:07.695 --> 00:18:11.475\na generated or forced that policy\nto be applied to this machine.\n\n409\n00:18:11.475 --> 00:18:14.775\nSo we're seeing the output of that,\njust showing you what is there.\n\n410\n00:18:14.775 --> 00:18:17.205\nAnd we can see,\nwe just wanna take a look here.\n\n411\n00:18:18.290 --> 00:18:23.360\nLet's right click on this just to take a\nlook at this, see the properties of this.\n\n412\n00:18:23.360 --> 00:18:26.020\nWe can see certificate purpose,\nenable all purposes for\n\n413\n00:18:26.020 --> 00:18:28.460\nOCSP signing is what it's used for.\n\n414\n00:18:28.460 --> 00:18:31.550\nWe don't have any cross\ncertification right now, but\n\n415\n00:18:31.550 --> 00:18:34.840\nwe do have just some general\ninformation on the certificate.\n\n416\n00:18:34.840 --> 00:18:35.665\nAnd we can actually.\n\n417\n00:18:39.124 --> 00:18:43.065\nPop the certificate up and\nsee here that is for OCSP signing,\n\n418\n00:18:43.065 --> 00:18:47.391\nwas issued to this machine,\nthe PLABDM01 machine, issued by,\n\n419\n00:18:47.391 --> 00:18:51.910\nyou can see our root enterprise CA,\nthe PLABDC01CA.\n\n420\n00:18:51.910 --> 00:18:55.690\nIt's got our validity period there,\nas you can see, and\n\n421\n00:18:55.690 --> 00:18:59.810\nit is good for what, two weeks,\nit looks like, approximately, right?\n\n422\n00:18:59.810 --> 00:19:00.450\nYeah, so good for\n\n423\n00:19:00.450 --> 00:19:04.450\ntwo weeks, and you'll see we have\nthe private key that corresponds there,\n\n424\n00:19:04.450 --> 00:19:07.670\ngot all the details we've looked\nat before associated with that.\n\n425\n00:19:07.670 --> 00:19:10.040\nAnd of course we always know to\ncheck our certification path.\n\n426\n00:19:10.040 --> 00:19:14.280\nAnd we can see that the path does\nlead back to our root enterprise ca,\n\n427\n00:19:14.280 --> 00:19:16.680\nand it looks like a good path, right?\n\n428\n00:19:16.680 --> 00:19:18.580\nAll right, so we have all that and so\n\n429\n00:19:18.580 --> 00:19:21.350\nwhat we're gonna do now is\ngo in as I was suggesting.\n\n430\n00:19:21.350 --> 00:19:23.570\nAnd we're gonna go back,\nset up the online responder.\n\n431\n00:19:23.570 --> 00:19:26.500\nI'm gonna load up\nthe online responder tool,\n\n432\n00:19:26.500 --> 00:19:29.880\nso just go back to our\nserver manager here.\n\n433\n00:19:29.880 --> 00:19:32.720\nBring this in,\nwhere is that online responder management?\n\n434\n00:19:32.720 --> 00:19:33.710\nLet's bring this up.\n\n435\n00:19:33.710 --> 00:19:35.710\nIn case you haven't seen this before,\ncan we go full screen?\n\n436\n00:19:35.710 --> 00:19:36.790\nBecause you're going to want to,\n\n437\n00:19:36.790 --> 00:19:39.210\nalthough I'm not sitting over everything,\nanything per say right now, but\n\n438\n00:19:39.210 --> 00:19:41.470\nyou are going to want to see this,\nit is going to be important.\n\n439\n00:19:41.470 --> 00:19:44.960\nIn case you haven't seen this console\nbefore, and you may not have, It's one of\n\n440\n00:19:44.960 --> 00:19:47.790\nthings that if you haven't really had\na chance or a reason to go in and play\n\n441\n00:19:47.790 --> 00:19:51.840\naround with, it may be one of those kinda\nmysterious things you don't really see or\n\n442\n00:19:51.840 --> 00:19:54.510\ninteract with very often, so\nit's good to take a look.\n\n443\n00:19:54.510 --> 00:19:57.750\nAnd what we're gonna do is\njust move this over, just so\n\n444\n00:19:57.750 --> 00:19:59.510\nyou can see what's going on up here.\n\n445\n00:19:59.510 --> 00:20:04.100\nOnline responder, so\nit has our machine designated there,\n\n446\n00:20:04.100 --> 00:20:08.400\nrevocation configuration,\narray configuration if we happen to have.\n\n447\n00:20:08.400 --> 00:20:09.920\nAny information on one or\n\n448\n00:20:09.920 --> 00:20:14.180\nmore machines that take part in\nthe online responder configuration.\n\n449\n00:20:14.180 --> 00:20:17.320\nYou can see here right\nnow the only machine that\n\n450\n00:20:17.320 --> 00:20:20.430\nis currently set up is the machine that\nI've specified, the local machine.\n\n451\n00:20:20.430 --> 00:20:22.460\nFirst thing we're going\nto do is come in here and\n\n452\n00:20:22.460 --> 00:20:24.740\ndeal with the revocation configuration.\n\n453\n00:20:24.740 --> 00:20:28.170\nThis is where we're going to be able to\ngo in, right click add a configuration.\n\n454\n00:20:28.170 --> 00:20:29.770\nWe're going to do that right now.\n\n455\n00:20:29.770 --> 00:20:33.680\nAnd so let's go in and go,\ngot a little wizard, right?\n\n456\n00:20:33.680 --> 00:20:38.590\nNice, big interface here, somebody who\nwas really paying attention to UI design\n\n457\n00:20:38.590 --> 00:20:39.950\nwhen they put this one up, right?\n\n458\n00:20:39.950 --> 00:20:42.020\nAlmost comes right out\nyou in 3D just about.\n\n459\n00:20:42.020 --> 00:20:44.310\nAll right, so let's go back, let's just\ntake a look at what's going on there.\n\n460\n00:20:44.310 --> 00:20:45.690\n&gt;&gt; We'll walk into the server closet and\n\n461\n00:20:45.690 --> 00:20:47.675\nAdam's sitting there with\nhis little 3-D glasses on.\n\n462\n00:20:47.675 --> 00:20:50.269\n[LAUGH]\n&gt;&gt; My God it's just coming out at me\n\n463\n00:20:50.269 --> 00:20:50.851\nin 3-D.\n\n464\n00:20:50.851 --> 00:20:54.946\nAll right so we are going to add the\nrevocation configuration in here as you\n\n465\n00:20:54.946 --> 00:20:57.866\ncan see,\nadd this in to our online responder array.\n\n466\n00:20:57.866 --> 00:20:59.620\nThe array is a one number array.\n\n467\n00:20:59.620 --> 00:21:01.065\nBut you get the idea.\n\n468\n00:21:01.065 --> 00:21:03.575\nWe have to specify a name for\nthe new revocation configuration.\n\n469\n00:21:03.575 --> 00:21:05.575\nThat's easy,\nthat's just a descriptive name.\n\n470\n00:21:05.575 --> 00:21:09.415\nSelect a CA certificate to associate\nwith the revocation configuration.\n\n471\n00:21:09.415 --> 00:21:12.795\nThat's a little more involved, but we know\nwhat the CA certificate's gonna be, so\n\n472\n00:21:12.795 --> 00:21:13.775\nthat's not too difficult.\n\n473\n00:21:13.775 --> 00:21:18.240\nThat'll be our CA certificate that we have\nand that is available to us the name of\n\n474\n00:21:18.240 --> 00:21:23.440\nthat certificate revocation configuration\n\n475\n00:21:23.440 --> 00:21:27.260\nrather we're gonna put in there will\nbe in this case the name of the CA.\n\n476\n00:21:27.260 --> 00:21:28.685\nSo it'd be practice labs.\n\n477\n00:21:28.685 --> 00:21:31.290\n[INAUDIBLE] vc1ca cuz\nthat's the name of our CA.\n\n478\n00:21:31.290 --> 00:21:35.290\nWe'll select a signing certificate to\nsign the online responder responses.\n\n479\n00:21:35.290 --> 00:21:36.550\nWe'll have access to that.\n\n480\n00:21:36.550 --> 00:21:40.220\nWe'll configure the provider that\nprocesses those revocation status reports.\n\n481\n00:21:40.220 --> 00:21:42.600\nSo we're gonna go through and\nput all these pieces in place.\n\n482\n00:21:42.600 --> 00:21:44.040\nLet's start here with the name.\n\n483\n00:21:44.040 --> 00:21:49.240\nWe're gonna put in, as I mentioned,\npracticelabs, [INAUDIBLE] dc01,\n\n484\n00:21:49.240 --> 00:21:52.980\nwhich is the name of\nour root enterprise or\n\n485\n00:21:52.980 --> 00:21:56.970\nenterprise root CA [INAUDIBLE] DC01-CA so\nwe're gonna put that in.\n\n486\n00:21:58.270 --> 00:22:01.600\nJust make sure we spell that correctly.\n\n487\n00:22:01.600 --> 00:22:04.570\nPractice labs,\n[INAUDIBLE] DC01-CA very good.\n\n488\n00:22:04.570 --> 00:22:06.390\nAll right so we're gonna click Next there.\n\n489\n00:22:06.390 --> 00:22:07.970\nThen we have to select a certificate,\n\n490\n00:22:07.970 --> 00:22:10.880\nis it gonna come from\nan existing enterprise CA?\n\n491\n00:22:10.880 --> 00:22:15.690\nAre we gonna choose to create or select\none from the local certificate store,\n\n492\n00:22:15.690 --> 00:22:17.620\nare we importing it from a file?\n\n493\n00:22:17.620 --> 00:22:22.150\nRemember you saw me export a certificate\nand the demonstration around the k-array.\n\n494\n00:22:22.150 --> 00:22:24.720\nOnce I issued it out of the CA,\nI right clicked it, exported it,\n\n495\n00:22:24.720 --> 00:22:26.140\nsaved it to a file.\n\n496\n00:22:26.140 --> 00:22:29.870\nAnd then we imported it as a certificate,\na .cer file.\n\n497\n00:22:29.870 --> 00:22:30.720\nSo you saw me do that.\n\n498\n00:22:30.720 --> 00:22:33.860\nIf you haven't gone and watched that\nepisode, you could certainly go back,\n\n499\n00:22:33.860 --> 00:22:37.040\ntake a look, but I walk through the logic\nof how we would actually export and\n\n500\n00:22:37.040 --> 00:22:41.610\nimport a certificate using a file type,\nin this case, the x.509.CER file type.\n\n501\n00:22:41.610 --> 00:22:46.900\nSo, that's what that third option\nrepresents, if I had a file for\n\n502\n00:22:46.900 --> 00:22:50.660\nthe certificate that had been issued and\nthat somehow was communicated to me.\n\n503\n00:22:50.660 --> 00:22:54.710\nI could just grab that file and\npath to it and pull it in here.\n\n504\n00:22:54.710 --> 00:22:55.960\nI'd have different options.\n\n505\n00:22:55.960 --> 00:22:57.830\nWe're going to use the default\nselect certificate from\n\n506\n00:22:57.830 --> 00:22:59.620\nan existing enterprise CA.\n\n507\n00:22:59.620 --> 00:23:02.685\nWe'll be going ahead and\ndoing that, so we'll click Next,\n\n508\n00:23:02.685 --> 00:23:06.865\nbrowse the CA for the certificates that\nare published in Active Directory or\n\n509\n00:23:06.865 --> 00:23:08.195\nbrowse by computer name.\n\n510\n00:23:08.195 --> 00:23:09.155\nYou can do either one.\n\n511\n00:23:09.155 --> 00:23:13.545\nI'm gonna go ahead and\nI'm going to browse by computer name.\n\n512\n00:23:15.050 --> 00:23:18.330\nSo we'll click Browse there, and\nwe're going to specify since it's not\n\n513\n00:23:18.330 --> 00:23:22.390\nthe local computer, we're on plabdm01,\nthe one that's going to be configured\n\n514\n00:23:22.390 --> 00:23:25.430\nas the online responder, but\nthat's not the route CA.\n\n515\n00:23:25.430 --> 00:23:28.250\nThe root CA is the plabdc01 machine.\n\n516\n00:23:28.250 --> 00:23:29.680\nI'm gonna type in another computer, and\n\n517\n00:23:29.680 --> 00:23:32.530\nI'm gonna obviously then make\nsure that the name matches up.\n\n518\n00:23:32.530 --> 00:23:36.640\nSo I'm going to do plabdc01,\njust type that in.\n\n519\n00:23:36.640 --> 00:23:39.100\nI could go browse for\nthat as well, by the way.\n\n520\n00:23:39.100 --> 00:23:45.700\nBut I'll type in the fully qualified\ndomain name here, so practicelabs.com I\n\n521\n00:23:45.700 --> 00:23:49.400\nthink that is .com, let me just make sure\nthat we didn't spell that incorrectly.\n\n522\n00:23:49.400 --> 00:23:50.110\nNo that looks good.\n\n523\n00:23:50.110 --> 00:23:53.730\nAll right, let me just show you what\nbrowse looks like, you're used to this.\n\n524\n00:23:53.730 --> 00:23:56.694\nThis is just the normal\npick list window we get, so\n\n525\n00:23:56.694 --> 00:23:58.894\nyou can probably find it either way.\n\n526\n00:23:58.894 --> 00:24:01.770\nJust wanna show you, oops, I forgot\nwhen I do that it wipes it out, okay.\n\n527\n00:24:01.770 --> 00:24:02.975\nLet me go ahead and type it one more time,\n\n528\n00:24:02.975 --> 00:24:04.328\nI just wanted to show\nyou what it looked like.\n\n529\n00:24:04.328 --> 00:24:07.288\nLike, but here we can cheat a little bit,\njust do PLABDC01.\n\n530\n00:24:07.288 --> 00:24:10.698\nIt will find it for us,\nwon't have to type the whole thing out.\n\n531\n00:24:10.698 --> 00:24:14.018\nBut you get the idea, just translates\nthat out to fully qualified domain name.\n\n532\n00:24:14.018 --> 00:24:16.658\nAll right, so we've got that,\nwe'll click OK, and\n\n533\n00:24:16.658 --> 00:24:20.800\nnotice then that it populates it down\nhere for us and allows us to see that.\n\n534\n00:24:20.800 --> 00:24:24.430\nWe click there, notice it brings\nin the certificate from there and\n\n535\n00:24:24.430 --> 00:24:28.430\nshows us the root enterprise,\nenterprise root CA certificate.\n\n536\n00:24:28.430 --> 00:24:30.300\nSo it's already gone out\ngotten that from AD,\n\n537\n00:24:30.300 --> 00:24:34.220\nit being the wizard that we're driving\nhere, and allows us to bring that back in.\n\n538\n00:24:34.220 --> 00:24:34.770\nRight, just so\n\n539\n00:24:34.770 --> 00:24:39.050\nyou can see how that is going to show\nup here and what that link represents.\n\n540\n00:24:39.050 --> 00:24:39.960\nWe'll click Next.\n\n541\n00:24:41.000 --> 00:24:45.316\nWe then have to specify here,\nonce we've done that, what the, and\n\n542\n00:24:45.316 --> 00:24:49.876\njust give me one second, the select\nsigning certificate page will be.\n\n543\n00:24:49.876 --> 00:24:51.987\nAll right, so automatically\nselect a signing certificate.\n\n544\n00:24:51.987 --> 00:24:56.296\nNotice here, checked off, auto-enroll for\nan OCSP signing certificate.\n\n545\n00:24:56.296 --> 00:24:58.622\nThe certification authority's\nalready pre-populated.\n\n546\n00:24:58.622 --> 00:25:00.430\nThe template's already pre-populated.\n\n547\n00:25:00.430 --> 00:25:02.600\nRemember, I've positioned that template,\n\n548\n00:25:02.600 --> 00:25:05.142\nmade it available at\nthe enterprise root CA already.\n\n549\n00:25:05.142 --> 00:25:07.000\nSaw the background work we were doing,\nright?\n\n550\n00:25:07.000 --> 00:25:07.910\nSet that up.\n\n551\n00:25:07.910 --> 00:25:10.570\nRemember that template's\nalready been configured\n\n552\n00:25:10.570 --> 00:25:14.140\nwith the PLABDM01 computer account,\ngiving it the rights to use it.\n\n553\n00:25:14.140 --> 00:25:15.660\nAll that stuff we did is there.\n\n554\n00:25:15.660 --> 00:25:18.780\nSo that when we do this, we're actually\ngonna be able to get that certificate\n\n555\n00:25:18.780 --> 00:25:21.480\nbecause that's essentially\nwhat this process entails.\n\n556\n00:25:21.480 --> 00:25:24.920\nDo I have the rights to go use that\ntemplate, request a certificate?\n\n557\n00:25:24.920 --> 00:25:28.840\nAnd as the computer account or\nthe requester, do I have the ability?\n\n558\n00:25:28.840 --> 00:25:31.010\nAm I on the permission\nlist to access that?\n\n559\n00:25:31.010 --> 00:25:32.180\nThe answer is in this case yes,\n\n560\n00:25:32.180 --> 00:25:34.450\ncuz we set ourselves up and\nwe've enabled that, right?\n\n561\n00:25:34.450 --> 00:25:37.460\nSo thinking through the logic of what\nI showed you was the pre-work here.\n\n562\n00:25:37.460 --> 00:25:38.786\nIt's important to know that.\n\n563\n00:25:38.786 --> 00:25:40.234\nAll right, so\nwe're gonna go ahead and do that.\n\n564\n00:25:40.234 --> 00:25:41.510\nWe're gonna click Next.\n\n565\n00:25:42.630 --> 00:25:46.590\nThen revocation provider's component of\nthe Online Responder of the processes, or\n\n566\n00:25:46.590 --> 00:25:48.970\nthat does process\ncertificate status requests.\n\n567\n00:25:48.970 --> 00:25:51.160\nTo view and edit the process,\nor the properties,\n\n568\n00:25:51.160 --> 00:25:52.660\nrather, click the Provider button.\n\n569\n00:25:52.660 --> 00:25:53.189\nWe can go in.\n\n570\n00:25:53.189 --> 00:25:55.200\nWe could see those\nproperties if we choose to.\n\n571\n00:25:55.200 --> 00:25:56.580\nIt's up to us.\n\n572\n00:25:56.580 --> 00:25:59.800\nSo If we go in, click the Provider button,\n\n573\n00:25:59.800 --> 00:26:04.000\nwe'll see the base CRL here,\nthe Certificate Revocation List.\n\n574\n00:26:04.000 --> 00:26:06.830\nWe can add in both for\nthat and the delta CRLs.\n\n575\n00:26:06.830 --> 00:26:09.014\nWe've been through and\ntalked about this before, by the way.\n\n576\n00:26:09.014 --> 00:26:10.501\nIf you remember in some of the prior\n\n577\n00:26:10.501 --> 00:26:14.215\nepisodes around the Active Directory\nCertificate Services conversations.\n\n578\n00:26:14.215 --> 00:26:17.459\nI showed you how to work\nwith both the base CRL, or\n\n579\n00:26:17.459 --> 00:26:19.685\nwhat is just the normal full CRL.\n\n580\n00:26:19.685 --> 00:26:22.498\nWe talked about the delta CRLs,\nthe differences between them.\n\n581\n00:26:22.498 --> 00:26:23.778\nCherokee, remember?\n\n582\n00:26:23.778 --> 00:26:25.667\nIf you just wanna help me out here for\na minute,\n\n583\n00:26:25.667 --> 00:26:28.550\nyou remember the difference between\nthe base and the delta CRL?\n\n584\n00:26:28.550 --> 00:26:31.000\nWhat was the reason we would\nneed one versus the other,\n\n585\n00:26:31.000 --> 00:26:32.000\nI guess is what I'm asking you.\n\n586\n00:26:32.000 --> 00:26:36.220\n&gt;&gt; So your delta is just going to be for\nany of those changes that have been\n\n587\n00:26:36.220 --> 00:26:39.530\nmade to the CRL, whereas the base\nwas the whole kit and caboodle.\n\n588\n00:26:39.530 --> 00:26:41.550\n&gt;&gt; The base was the whole kit and\ncaboodle.\n\n589\n00:26:41.550 --> 00:26:42.157\n&gt;&gt; Is that right?\n\n590\n00:26:42.157 --> 00:26:43.577\n[LAUGH]\n&gt;&gt; Obviously,\n\n591\n00:26:43.577 --> 00:26:46.950\nthat's the official okie dokie IT term,\nyes, the kit and caboodle.\n\n592\n00:26:46.950 --> 00:26:47.528\nAbsolutely.\n\n593\n00:26:47.528 --> 00:26:49.370\nSo yes, essentially, the delta CRLs,\n\n594\n00:26:49.370 --> 00:26:51.360\nremember, will just be\nthose change blocks.\n\n595\n00:26:51.360 --> 00:26:56.202\nThose replication or the acknowledgement\nof those items that are changed since we\n\n596\n00:26:56.202 --> 00:26:57.684\npublished the full CRL.\n\n597\n00:26:57.684 --> 00:27:01.530\nAnd the reason is that we may not wanna\npublish a full CRL as aggressively as\n\n598\n00:27:01.530 --> 00:27:05.204\nthe delta CRLs, because the full CRL\nmay grow to be very big over time.\n\n599\n00:27:05.204 --> 00:27:07.254\n&gt;&gt; Right.\n&gt;&gt; Whereas the delta CRLs may be smaller,\n\n600\n00:27:07.254 --> 00:27:09.110\nand so essentially are incremental.\n\n601\n00:27:09.110 --> 00:27:10.775\nSo we're just thinking\nabout the logic of that.\n\n602\n00:27:10.775 --> 00:27:12.686\nAll right, so\nwe're just looking at the setup here,\n\n603\n00:27:12.686 --> 00:27:15.110\njust seeing kind of what's there,\nand knowing what it is.\n\n604\n00:27:15.110 --> 00:27:16.570\nSo we have all of this information.\n\n605\n00:27:16.570 --> 00:27:17.867\nWe're not gonna make any changes here.\n\n606\n00:27:17.867 --> 00:27:19.766\nI just wanted to show you what's\nin there for the provider.\n\n607\n00:27:19.766 --> 00:27:22.759\nLet's click OK, we'll finish this up.\n\n608\n00:27:22.759 --> 00:27:24.627\nDo that.\n\n609\n00:27:24.627 --> 00:27:26.979\nJust wait for that to come through.\n\n610\n00:27:26.979 --> 00:27:32.300\nAll right, so now we have specified\na revocation configuration.\n\n611\n00:27:32.300 --> 00:27:34.800\nWe can just click and\nsee that that is now there.\n\n612\n00:27:34.800 --> 00:27:37.630\nSigning certificate is now\nautomatically enrolled.\n\n613\n00:27:37.630 --> 00:27:39.279\nEnrollment template has\nbeen registered as that.\n\n614\n00:27:39.279 --> 00:27:40.900\nSo we can see that.\n\n615\n00:27:40.900 --> 00:27:43.500\nAnd we could see that we\nnow have this information.\n\n616\n00:27:43.500 --> 00:27:47.375\nNow if we go back over here,\njust make sure I'm choosing, there we go.\n\n617\n00:27:47.375 --> 00:27:49.020\nJust wanted to choose the right one.\n\n618\n00:27:49.020 --> 00:27:51.720\nWe come back over here\ninto issued certificates,\n\n619\n00:27:51.720 --> 00:27:55.320\nwhat we will see on the root CA,\njust going back here for a minute.\n\n620\n00:27:55.320 --> 00:27:57.530\nSince we just issued\na couple of certificates,\n\n621\n00:27:57.530 --> 00:28:01.260\nprobably worth our time to go look and\nsee what they are.\n\n622\n00:28:01.260 --> 00:28:05.600\nAnd you could see here that we now have\nOCSP response signing certificates that\n\n623\n00:28:05.600 --> 00:28:06.640\nhave been issued.\n\n624\n00:28:06.640 --> 00:28:09.470\nAnd those are the certificates that we\njust essentially went through the wizard\n\n625\n00:28:09.470 --> 00:28:10.320\nin order to generate.\n\n626\n00:28:10.320 --> 00:28:13.970\nSo we can actually get this moving and\nhave the cell available to us, right?\n\n627\n00:28:13.970 --> 00:28:15.450\nSo once we have that up and\n\n628\n00:28:15.450 --> 00:28:19.680\nrunning, and we'll go back, we'll take\na look at the interface there in a minute.\n\n629\n00:28:19.680 --> 00:28:22.310\nJust to show you it is all kind\nof configured and working, but\n\n630\n00:28:22.310 --> 00:28:24.490\nwe could see the certificates are issued.\n\n631\n00:28:24.490 --> 00:28:26.730\nWe could see the outcome\nof what we just did.\n\n632\n00:28:26.730 --> 00:28:30.230\nWe go and\nwe take a look at either one of them here.\n\n633\n00:28:30.230 --> 00:28:34.560\nWe will see that it's issued to PLABDM01,\nwhich we'll pull this over so you can see\n\n634\n00:28:34.560 --> 00:28:38.150\nPLABDM01, which is what we were\ntalking about for OSCP signing, right?\n\n635\n00:28:38.150 --> 00:28:41.310\nSo these are the certificates that we\nactually were just trying to get a hold of\n\n636\n00:28:41.310 --> 00:28:44.570\nand trying to work with,\njust to see the outcome of that process.\n\n637\n00:28:44.570 --> 00:28:46.090\nLet's come back over here.\n\n638\n00:28:46.090 --> 00:28:50.795\nWe can see now that the status is,\njust take a look down here so you can see.\n\n639\n00:28:50.795 --> 00:28:53.906\nThe status is now changed on\nthe main page here to working,\n\n640\n00:28:53.906 --> 00:28:57.100\nmeaning the Online Responder\nhas now been configured.\n\n641\n00:28:57.100 --> 00:28:59.370\nThe configuration we just went\nthrough to grab the certificate,\n\n642\n00:28:59.370 --> 00:29:01.310\nset it all up, is what we need.\n\n643\n00:29:01.310 --> 00:29:03.050\nAnd now we'll be able to go in and\n\n644\n00:29:03.050 --> 00:29:06.390\nactually use OCSP if we\nhave an application or\n\n645\n00:29:06.390 --> 00:29:10.680\na requirement that is gonna say hey,\ngo check that CRL or go check It online.\n\n646\n00:29:10.680 --> 00:29:12.688\nWe now have the mechanics,\nthe moving parts,\n\n647\n00:29:12.688 --> 00:29:15.897\nthe pieces behind the scene in place\nto be able to actually leverage that.\n\n648\n00:29:15.897 --> 00:29:18.731\nNow we could go in and\ncheck that by going in and\n\n649\n00:29:18.731 --> 00:29:21.200\nsetting up whatever the system may be.\n\n650\n00:29:21.200 --> 00:29:25.010\nThe application whatever will be to\nactually then use the CRL online and\n\n651\n00:29:25.010 --> 00:29:26.095\nleverage this process.\n\n652\n00:29:26.095 --> 00:29:29.110\nBut this is what we would do behind\nthe scenes to enable it to ensure it's\n\n653\n00:29:29.110 --> 00:29:30.320\nworking the right way.\n\n654\n00:29:30.320 --> 00:29:32.940\nJust wanted to make sure you had\na chance to walk through this with us.\n\n655\n00:29:32.940 --> 00:29:34.670\nAgain, it's one of those hidden gems.\n\n656\n00:29:34.670 --> 00:29:36.914\nWe don't often see someone configure this.\n\n657\n00:29:36.914 --> 00:29:40.449\nThis is often done for us, and we just\ninherit the online configuration or\n\n658\n00:29:40.449 --> 00:29:43.650\nthe Online Responder configuration\nalready established.\n\n659\n00:29:43.650 --> 00:29:44.310\nBut if you have to go in and\n\n660\n00:29:44.310 --> 00:29:47.620\nset it up yourself, wanna make sure\nyou understand the steps involved.\n\n661\n00:29:47.620 --> 00:29:51.380\nAnd understand how you can actually go\nthrough the logic of this to ensure\n\n662\n00:29:51.380 --> 00:29:52.400\nthat it is configured.\n\n663\n00:29:52.400 --> 00:29:55.796\nOne of the thing I'll show you real\nquickly just because I like you.\n\n664\n00:29:55.796 --> 00:29:57.487\n&gt;&gt; [LAUGH]\n&gt;&gt; And because I happen to click on it,\n\n665\n00:29:57.487 --> 00:29:58.631\nremember I wanted to show it to you.\n\n666\n00:29:58.631 --> 00:30:02.120\nSo I'm just back in the interface, right,\nremember we were just here a minute ago.\n\n667\n00:30:02.120 --> 00:30:04.910\ni showed you the status working,\nright, so that's important.\n\n668\n00:30:04.910 --> 00:30:08.080\nI just wanted to show you once we do\nthe Array configuration and specify\n\n669\n00:30:08.080 --> 00:30:14.140\nthe revocation configuration, we could\nsee the name of the Array configuration.\n\n670\n00:30:14.140 --> 00:30:17.740\nBut we could see the signing status\nof the certificate except okay.\n\n671\n00:30:17.740 --> 00:30:20.933\nAnd we can actually see the certificate,\nand if we scroll down,\n\n672\n00:30:20.933 --> 00:30:22.660\nwe just kinda move this down here.\n\n673\n00:30:23.950 --> 00:30:25.630\nGives you just a little bit\nof information about it.\n\n674\n00:30:25.630 --> 00:30:28.910\nSo when we look at the array, when we\nactually look at the members of the array,\n\n675\n00:30:28.910 --> 00:30:32.010\nwe'd be able to actually see the\ncertificate if we choose to or need to.\n\n676\n00:30:32.010 --> 00:30:35.040\nAnd see that it is indeed online and\nthat everything is working the right way.\n\n677\n00:30:35.040 --> 00:30:38.760\nSo we can come in and\ninteract with the managers necessary.\n\n678\n00:30:38.760 --> 00:30:41.200\nHere we have a little refresh option.\n\n679\n00:30:41.200 --> 00:30:42.140\nWe think we're missing something.\n\n680\n00:30:42.140 --> 00:30:43.240\nWe have to make sure it's up to date.\n\n681\n00:30:43.240 --> 00:30:44.240\nWe can do that.\n\n682\n00:30:44.240 --> 00:30:46.670\nYou'll notice we can go in and\n\n683\n00:30:46.670 --> 00:30:49.210\nwe can view the provider\nproperties of the certificate.\n\n684\n00:30:49.210 --> 00:30:52.060\nWe can delete that configuration for\nsome reason.\n\n685\n00:30:52.060 --> 00:30:52.836\nWe have an issue.\n\n686\n00:30:52.836 --> 00:30:57.790\nWe can obviously create a new revocation\nconfiguration if necessary, but\n\n687\n00:30:57.790 --> 00:31:01.280\na fairly limited interface,\njust not a lot to do here.\n\n688\n00:31:01.280 --> 00:31:05.075\nWe can view the certificate properties and\nthe certificate itself and delete it.\n\n689\n00:31:05.075 --> 00:31:08.379\nOnce we get it set up, it's essentially\njust a matter of leaving it in place\n\n690\n00:31:08.379 --> 00:31:11.920\nand/or perhaps just re-creating one\nat some point, or adding a new one.\n\n691\n00:31:11.920 --> 00:31:13.477\nBut other than that,\nit basically just works.\n\n692\n00:31:13.477 --> 00:31:16.052\nSo we just get out of the way and\ndon't really do too much with it,\n\n693\n00:31:16.052 --> 00:31:17.267\nonce it is set up and running.\n\n694\n00:31:17.267 --> 00:31:17.834\n&gt;&gt; Pretty cool.\n\n695\n00:31:17.834 --> 00:31:20.615\nThat's been one of the many\nthings that we've looked at here,\n\n696\n00:31:20.615 --> 00:31:24.135\ntalking about different ways we can\nconfigure and manage these certificates.\n\n697\n00:31:24.135 --> 00:31:25.715\nSo thank you for that, Adam.\n\n698\n00:31:25.715 --> 00:31:28.495\nAnd thank you for joining us, but\nwe are out of time for this episode.\n\n699\n00:31:28.495 --> 00:31:29.925\nSo we'll go ahead and sign out.\n\n700\n00:31:29.925 --> 00:31:31.535\nI've been your host, Cherokee Boose.\n\n701\n00:31:31.535 --> 00:31:32.135\n&gt;&gt; I'm Adam Gordon.\n\n702\n00:31:32.135 --> 00:31:34.190\n&gt;&gt; See you next time here at ITProTV.\n\n703\n00:31:34.190 --> 00:31:41.663\n[MUSIC]\n\n704\n00:31:41.663 --> 00:31:44.877\n&gt;&gt; Thank you for watching IT Pro TV.\n\n",
          "vimeoId": "232484887"
        }
      ],
      "title": "Deploying and managing AD CS"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam set the stage for Active Directory Federation Services. They discuss key terms and components to prepare you for the upcoming shows.",
          "length": "1711",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-implementing_and_administering_ad_fs-083117-PGM.00_28_16_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-implementing_and_administering_ad_fs-083117-PGM.00_28_16_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-implementing_and_administering_ad_fs-083117-PGM.00_28_16_23.Still001-sm.jpg",
          "title": "Implementing and Administering AD FS",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.334\nWelcome to ITProTV,\nI'm your host Don Prezet.\n\n2\n00:00:02.334 --> 00:00:07.832\n[CROSSTALK]\n\n3\n00:00:07.832 --> 00:00:11.702\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.702 --> 00:00:15.463\n&gt;&gt; Welcome, ladies and gentlemen,\nto Identity with Windows Server 2016.\n\n5\n00:00:15.463 --> 00:00:18.320\nI'm your show host, Cherokee Boose.\n\n6\n00:00:18.320 --> 00:00:21.293\nIn this episode,\nwe'll be taking a look at implementing and\n\n7\n00:00:21.293 --> 00:00:24.106\nadministering Active Directory\nFederation Services.\n\n8\n00:00:24.106 --> 00:00:28.150\nBack with us today in studios,\nwe have Microsoft expert, Mr. Adam Gordon.\n\n9\n00:00:28.150 --> 00:00:29.410\nThanks for joining today, Adam.\n\n10\n00:00:29.410 --> 00:00:32.628\n&gt;&gt; Thank you, always is a pleasure to he\nhere spending time with all of you guys,\n\n11\n00:00:32.628 --> 00:00:33.816\nenjoying all the fun facts,\n\n12\n00:00:33.816 --> 00:00:36.390\nand things that we're gonna talk about and\nshare with you.\n\n13\n00:00:36.390 --> 00:00:37.968\nLet's get started by doing that.\n\n14\n00:00:37.968 --> 00:00:38.921\nTalk about Federation Services.\n\n15\n00:00:38.921 --> 00:00:43.163\nUp until this point in our conversations,\nif you haven't been keeping up with us,\n\n16\n00:00:43.163 --> 00:00:44.960\ngood to go back, take a look.\n\n17\n00:00:44.960 --> 00:00:47.326\nWe've talked about a lot of\nstuff associated with AD.\n\n18\n00:00:47.326 --> 00:00:51.076\nWe did ADDS, we've done ADCS,\nwe've done group policy.\n\n19\n00:00:51.076 --> 00:00:55.573\nWe've talked about a lot of the moving\nparts and pieces associated with identity\n\n20\n00:00:55.573 --> 00:00:59.606\nmanagement, and the structure,\nconfiguration, and architecture,\n\n21\n00:00:59.606 --> 00:01:03.903\nas well as oversight management\nadministration of the directory services,\n\n22\n00:01:03.903 --> 00:01:09.155\nthe domain infrastructure, the forest, the\ntree, all the things that go into that.\n\n23\n00:01:09.155 --> 00:01:13.435\nWe're gonna take a slightly different tact\nand turn in this set of conversations.\n\n24\n00:01:13.435 --> 00:01:16.924\nWe're gonna focus on how we extend\nthe thought process of trust,\n\n25\n00:01:16.924 --> 00:01:20.414\nwhich is something we talked about\nwith certificate services and\n\n26\n00:01:20.414 --> 00:01:24.170\nhow we extend trust through the hierarchy,\nthe PKI infrastructure.\n\n27\n00:01:24.170 --> 00:01:27.550\nWe create the root and\nthen the intermediate and or\n\n28\n00:01:27.550 --> 00:01:32.556\nissuing CAs as we think about\nparent-child or root and subordinate CAs.\n\n29\n00:01:32.556 --> 00:01:34.350\nWe've talked through that\nwhole thought process.\n\n30\n00:01:34.350 --> 00:01:36.180\nBut the idea is still the same.\n\n31\n00:01:36.180 --> 00:01:37.550\nWe took trust and\n\n32\n00:01:37.550 --> 00:01:42.030\nthe information associated with issuance\nof that trust at the top of the hierarchy.\n\n33\n00:01:42.030 --> 00:01:45.440\nAnd pushed it down by propagating\nit into some of the lower levels,\n\n34\n00:01:45.440 --> 00:01:48.940\neventually out to a user,\nperhaps a computer.\n\n35\n00:01:48.940 --> 00:01:53.080\nIssuing them one or more certificates that\nwere representative of that trust chain,\n\n36\n00:01:53.080 --> 00:01:54.560\nor that path of trust.\n\n37\n00:01:54.560 --> 00:01:57.220\nAnd we're gonna think about that\nthought process extended out,\n\n38\n00:01:57.220 --> 00:02:00.740\ntalk about with regards to\nidentity federation or ADFS,\n\n39\n00:02:00.740 --> 00:02:04.060\nIdentity of Federation Services\neithin the Active Directory.\n\n40\n00:02:04.060 --> 00:02:08.390\nThe idea of federation is the idea\nof extending trust beyond typically,\n\n41\n00:02:08.390 --> 00:02:11.690\nmore often than not,\nthe borders of our organization,\n\n42\n00:02:11.690 --> 00:02:15.840\nrepresented by the forest boundary\nwhich we've talked about before.\n\n43\n00:02:15.840 --> 00:02:19.080\nAlthough we can certainly think about\ndoing this from different levels of\n\n44\n00:02:19.080 --> 00:02:21.940\nthe organization, depending on\nwhat our organization looks like.\n\n45\n00:02:21.940 --> 00:02:25.100\nBut ultimately,\ncreating a trust relationship and\n\n46\n00:02:25.100 --> 00:02:28.978\nextending that relationship to\nencompass the ability to be able\n\n47\n00:02:28.978 --> 00:02:33.932\nto authenticate users and grant rights or\naccess to resources from one business or\n\n48\n00:02:33.932 --> 00:02:37.590\none area of the business to\nanother business outside.\n\n49\n00:02:37.590 --> 00:02:41.916\nAnd we are linking those two together\nin some sort of managed, organized,\n\n50\n00:02:41.916 --> 00:02:46.380\nthoughtful, and authenticated way that\nallows us to authoritatively say,\n\n51\n00:02:46.380 --> 00:02:49.950\nthese users from this area should\nbe able to be given access and\n\n52\n00:02:49.950 --> 00:02:54.298\nbe trusted and granted rights to access\nresources in this area over there.\n\n53\n00:02:54.298 --> 00:02:56.700\nAnd so we talked about the ways\nin which this happens.\n\n54\n00:02:56.700 --> 00:02:57.910\nThis is not a new concept.\n\n55\n00:02:57.910 --> 00:02:59.430\nIt's been around as a thought process for\n\n56\n00:02:59.430 --> 00:03:03.200\nsome time, not new just to Microsoft,\nand not new in general.\n\n57\n00:03:03.200 --> 00:03:05.060\nAs I said, many organizations,\n\n58\n00:03:05.060 --> 00:03:09.140\nmany vendors, implement some form of\nfederation identity management today.\n\n59\n00:03:09.140 --> 00:03:14.430\nAnd the idea of being able to understand\nhow we can link organizations together,\n\n60\n00:03:14.430 --> 00:03:17.810\nextending this concept of association and\n\n61\n00:03:17.810 --> 00:03:21.530\nresource access, it's what Federation\nServices allows us to think about.\n\n62\n00:03:21.530 --> 00:03:26.450\nTo identify, authenticate, and authorize\nthe thought process of identity lifecycle\n\n63\n00:03:26.450 --> 00:03:30.630\nmanagement across one or more boundaries\nis really what federation is all about.\n\n64\n00:03:30.630 --> 00:03:33.390\nThe idea of establishing this\nfederation partnership and\n\n65\n00:03:33.390 --> 00:03:38.560\nallowing both parties to agree to\nparticipate and equally consume and\n\n66\n00:03:38.560 --> 00:03:43.250\nprovide resources and authentication\nthrough this relationship is what we do.\n\n67\n00:03:43.250 --> 00:03:46.660\nIt's a web service solution in\nthe sense that we see it implemented\n\n68\n00:03:46.660 --> 00:03:50.710\nthrough the idea of web services and\nthe architecture of web services today.\n\n69\n00:03:50.710 --> 00:03:54.480\nSo, we think about being\nable to authenticate\n\n70\n00:03:54.480 --> 00:03:56.690\nfrom a local Active Directory source.\n\n71\n00:03:56.690 --> 00:04:00.540\nLet's say what we would, and let's use the\nlanguage of cloud for just a minute, so\n\n72\n00:04:00.540 --> 00:04:02.025\nbring in the idea of on-prem and\n\n73\n00:04:02.025 --> 00:04:05.660\noff-prem into our conversation if\nyou're familiar with that terminology.\n\n74\n00:04:05.660 --> 00:04:07.980\nLet me paint you a picture,\nin other words.\n\n75\n00:04:07.980 --> 00:04:11.350\nIf we think about the logic of being\nable to authenticate against one or\n\n76\n00:04:11.350 --> 00:04:14.760\nmore domain controllers that\nwe control and manage on-prem,\n\n77\n00:04:14.760 --> 00:04:19.400\na traditional infrastructure in the LAN,\nin our data center, on our\n\n78\n00:04:19.400 --> 00:04:23.570\ninternal network, what we've been talking\nabout up until now, in other words.\n\n79\n00:04:23.570 --> 00:04:28.440\nAnd if we, as a user, move to authenticate\ninto that system, sit on a logon prompt,\n\n80\n00:04:28.440 --> 00:04:33.090\nprovide a username or password, perhaps\nsome additional credential capabilities\n\n81\n00:04:33.090 --> 00:04:37.410\nthrough a smart card or certificates that\nare linked to our account in some way.\n\n82\n00:04:37.410 --> 00:04:41.920\nAnd we push that information through into\nthe directory service, authenticate,\n\n83\n00:04:41.920 --> 00:04:45.740\nbe granted access, come back, and\nessentially then, get rights to do things.\n\n84\n00:04:45.740 --> 00:04:48.560\nThat's a traditional identity\nlifecycle management model.\n\n85\n00:04:48.560 --> 00:04:52.370\nBut it's taking place on-prem within\nthe boundaries of our organization\n\n86\n00:04:52.370 --> 00:04:53.760\nin our infrastructure.\n\n87\n00:04:53.760 --> 00:04:56.320\nWe control the directory,\nwe control the users.\n\n88\n00:04:56.320 --> 00:04:59.110\nWe control the object and\nthe authentication,\n\n89\n00:04:59.110 --> 00:05:02.800\nas well as authorization process and\nthe granting of resources access.\n\n90\n00:05:02.800 --> 00:05:05.900\nAll of that's controlled by us,\nthe organization owner or\n\n91\n00:05:05.900 --> 00:05:09.000\nthe enterprise level,\nthe IT function that maintains that.\n\n92\n00:05:09.000 --> 00:05:11.653\nBut if we then think of what\nhappens traditionally the cloud,\n\n93\n00:05:11.653 --> 00:05:13.756\nlet's assume now we're\ngonna extend that out.\n\n94\n00:05:13.756 --> 00:05:18.009\nWe'll keep with our Microsoft theme,\nlet's go to Office 365,\n\n95\n00:05:18.009 --> 00:05:21.020\nhypothetically, go out to the cloud.\n\n96\n00:05:21.020 --> 00:05:25.880\nUse Exchange Online, SharePoint Online,\nSkype for Business Online,\n\n97\n00:05:25.880 --> 00:05:30.821\nand perhaps a directory service\nassociated with that in the cloud through\n\n98\n00:05:30.821 --> 00:05:34.664\nMicrosoft's Office 365 and\nAzure Fabric platform.\n\n99\n00:05:34.664 --> 00:05:38.353\nWhen we're doing that,\nif we're gonna be authenticating and\n\n100\n00:05:38.353 --> 00:05:40.859\nlinking ourselves to that organization,\n\n101\n00:05:40.859 --> 00:05:45.384\nwe may have to set up the directory\nsynchronization that allows those systems\n\n102\n00:05:45.384 --> 00:05:49.980\nto talk to each other on-prem\ninfrastructure to the cloud in Microsoft.\n\n103\n00:05:49.980 --> 00:05:53.480\nAnd we will use or\ncan use federation to be able to do this.\n\n104\n00:05:53.480 --> 00:05:55.930\nWe can do this between\ntwo different parties.\n\n105\n00:05:55.930 --> 00:06:00.930\nMaybe the Cherokee company, and the Adam\ncompany wanna agree to share resources,\n\n106\n00:06:00.930 --> 00:06:02.580\ntotally different from one another.\n\n107\n00:06:02.580 --> 00:06:07.034\nAnd federation may be an option for us\nthrough some sort of shared interface that\n\n108\n00:06:07.034 --> 00:06:10.101\nwe can use to assign or\nascribe rights to individuals.\n\n109\n00:06:10.101 --> 00:06:11.610\nThere's lots of ways we\ncould think of this.\n\n110\n00:06:11.610 --> 00:06:16.410\nBut ultimately, each partner will define\nwhich of its resources become accessible\n\n111\n00:06:16.410 --> 00:06:18.000\nto the organization in question,\n\n112\n00:06:18.000 --> 00:06:20.790\nthe partner organizations\nas they're referred to.\n\n113\n00:06:20.790 --> 00:06:24.740\nSo Cherokee would have to decide what\nresources she may wanna make available\n\n114\n00:06:24.740 --> 00:06:26.880\nto the members of my organization.\n\n115\n00:06:26.880 --> 00:06:29.610\nI would, in theory,\nhave to do the same going the other way.\n\n116\n00:06:29.610 --> 00:06:33.140\nAnd as a result of that,\nwe would then be able to control and\n\n117\n00:06:33.140 --> 00:06:36.940\ngrant access to resources on\na fairly constrained basis, and\n\n118\n00:06:36.940 --> 00:06:40.332\nprovide the pathways and\nthe mechanisms in order to do so.\n\n119\n00:06:40.332 --> 00:06:43.708\nWe're gonna get into how all that works\nover the course of our conversations.\n\n120\n00:06:43.708 --> 00:06:47.300\nWe're gonna set up and\nshow you how ADFS services are enabled.\n\n121\n00:06:47.300 --> 00:06:50.899\nWe'll do that as a walk through at some\npoint in one or more of the upcoming\n\n122\n00:06:50.899 --> 00:06:54.805\nepisodes, beyond this initial just\nglimpse at the wide world of federation.\n\n123\n00:06:54.805 --> 00:06:58.253\nBut we're just kind of just laying down\nsome of the thought processes on how this\n\n124\n00:06:58.253 --> 00:06:59.597\nbegins as we get started here.\n\n125\n00:06:59.597 --> 00:07:02.270\nCherokee I know you wanted to\njust jump in and say something.\n\n126\n00:07:02.270 --> 00:07:05.280\n&gt;&gt; All right, so Adam I don't think\nMicrosoft is really looking for\n\n127\n00:07:05.280 --> 00:07:09.000\nthose legal documents as far as\nknowing the acronyms and the terms\n\n128\n00:07:09.000 --> 00:07:12.630\nassociated with the names of those\ndocuments like some other vendors might.\n\n129\n00:07:12.630 --> 00:07:15.070\nBut it would be a good idea\nto just keep in mind that\n\n130\n00:07:15.070 --> 00:07:19.100\nyou should have everything kind of\nhashed out and squared away prior to\n\n131\n00:07:19.100 --> 00:07:22.800\nentering any agreement with third parties,\nlike just with everything.\n\n132\n00:07:22.800 --> 00:07:29.730\nSo that you're not trying to come to terms\nwith that during any kind of dissolving\n\n133\n00:07:29.730 --> 00:07:33.410\nof that relationship between, like Adam\ncompany and Cherokee company here.\n\n134\n00:07:33.410 --> 00:07:38.128\nSo we definitely wanna keep that in\nmind and for real life purposes.\n\n135\n00:07:38.128 --> 00:07:39.235\n&gt;&gt; Very important, no doubt about it.\n\n136\n00:07:39.235 --> 00:07:41.220\nAnd generically, right, we always want it.\n\n137\n00:07:41.220 --> 00:07:45.048\nWe've talked a lot about over various\nepisodes, not just in this one but\n\n138\n00:07:45.048 --> 00:07:45.751\nmany areas.\n\n139\n00:07:45.751 --> 00:07:47.061\nWe've talked about the value and\n\n140\n00:07:47.061 --> 00:07:50.292\nthe importance of documentation, the value\nand importance of understanding and\n\n141\n00:07:50.292 --> 00:07:53.034\nhaving a real good idea ahead of time\nof what the expectations may be.\n\n142\n00:07:53.034 --> 00:07:54.181\n&gt;&gt; Right.\n&gt;&gt; That you're entering into.\n\n143\n00:07:54.181 --> 00:07:56.050\nA lot of things you're talking about and\nreally being specific about.\n\n144\n00:07:56.050 --> 00:08:00.191\nSo, there's no doubt that as we\nget into federation Those things\n\n145\n00:08:00.191 --> 00:08:01.787\nare equally important.\n\n146\n00:08:01.787 --> 00:08:04.922\nEven, I would hazard a guess to say, and\nto be fair to what Cherokee is saying,\n\n147\n00:08:04.922 --> 00:08:08.152\nperhaps so important that they may even be\na little bit more important than some of\n\n148\n00:08:08.152 --> 00:08:09.220\nthe other stuff, right?\n\n149\n00:08:09.220 --> 00:08:11.930\nAnd what you're suggesting\nis knowing ahead of time,\n\n150\n00:08:11.930 --> 00:08:15.770\nbecause we're gonna extend\ntrust out to a third party.\n\n151\n00:08:15.770 --> 00:08:17.950\nPerhaps a company we do business with.\n\n152\n00:08:17.950 --> 00:08:20.940\nMaybe the Cherokee and Adam company have\na long history together, maybe they don't.\n\n153\n00:08:20.940 --> 00:08:23.260\nMaybe we're newly partnered, hard to say.\n\n154\n00:08:23.260 --> 00:08:26.380\nBut even more important when you're\nbeginning those relationships to really\n\n155\n00:08:26.380 --> 00:08:29.750\nhave as much as that thought out\nahead of that as possible and\n\n156\n00:08:29.750 --> 00:08:30.700\nit's a great thing to bring up.\n\n157\n00:08:30.700 --> 00:08:34.170\nBecause we are extending trust, I mean\nthat is what a federation is about right.\n\n158\n00:08:34.170 --> 00:08:38.270\nWe're agreeing, in one form or\nanother to say that we will\n\n159\n00:08:38.270 --> 00:08:41.380\ntrust each other under limited\ncircumstances, whatever those may be.\n\n160\n00:08:41.380 --> 00:08:44.900\nAnd what Cherokee is pointing out is just\nreally vetting and really documenting and\n\n161\n00:08:44.900 --> 00:08:47.490\nagreeing to what those\ncircumstances will be in writing or\n\n162\n00:08:47.490 --> 00:08:49.350\nwhatever that form maybe what ever we do.\n\n163\n00:08:49.350 --> 00:08:52.870\nIt's so critical to the success and\nit's not just about, hey,\n\n164\n00:08:52.870 --> 00:08:56.710\nlet's push the buttons, let's check off\nthe boxes, let's configure the policies.\n\n165\n00:08:56.710 --> 00:08:59.510\nThose things are important, we'll talk\nabout all that and how to do that,\n\n166\n00:08:59.510 --> 00:09:01.675\nI call that just the nuts and\nbolts of federation.\n\n167\n00:09:01.675 --> 00:09:04.255\nBut what Cherokee's really\nreminding us about is that\n\n168\n00:09:04.255 --> 00:09:06.085\nthere's a lot more to it to be successful.\n\n169\n00:09:06.085 --> 00:09:09.215\nThe policy, the administration,\nthe due care, the due diligence,\n\n170\n00:09:09.215 --> 00:09:11.775\nthe oversight is equally\nimportant with regards to that.\n\n171\n00:09:11.775 --> 00:09:13.675\nSo it's a very important\npoint that we make,\n\n172\n00:09:13.675 --> 00:09:15.668\nand that's worth the security high five.\n\n173\n00:09:15.668 --> 00:09:16.388\n&gt;&gt; Let's go.\n\n174\n00:09:16.388 --> 00:09:18.400\n[LAUGH]\n&gt;&gt; It's kind of a fist pump.\n\n175\n00:09:18.400 --> 00:09:21.530\nChanged it up, all right, so very good\npoint, really important to think about.\n\n176\n00:09:21.530 --> 00:09:25.970\nSo when we consider and we talk about the\nidea of federation, we have to bring in\n\n177\n00:09:25.970 --> 00:09:29.390\nthis idea and I kind of reference\nthe cloud and web services a little bit.\n\n178\n00:09:29.390 --> 00:09:33.110\nBecause I want to set the stage for\nsome of the vocabulary, the terminology,\n\n179\n00:09:33.110 --> 00:09:34.180\nthings we think of.\n\n180\n00:09:34.180 --> 00:09:35.370\nClaims based identity,\n\n181\n00:09:35.370 --> 00:09:38.840\nclaims based authentication\nare things we hear about as well.\n\n182\n00:09:38.840 --> 00:09:43.150\nAnd these are terms that are not unique to\ncloud or web services in the federation,\n\n183\n00:09:43.150 --> 00:09:46.550\nbut are really brought forth and\nreally put front and center by that.\n\n184\n00:09:46.550 --> 00:09:48.680\nAnd have a little document that\nI thought I'd share with you.\n\n185\n00:09:48.680 --> 00:09:50.170\nGive me just a second and\nbring it up here.\n\n186\n00:09:50.170 --> 00:09:53.400\nIf you wanna join me here on the veranda,\ncan we go full screen just so\n\n187\n00:09:53.400 --> 00:09:55.570\nwe can see this and\nI'm not sitting over the topic.\n\n188\n00:09:55.570 --> 00:09:59.230\nI put together a little ADFS\ncomponents conversation document for\n\n189\n00:09:59.230 --> 00:10:02.470\nus as we try to sometimes,\nlay some things out in\n\n190\n00:10:02.470 --> 00:10:06.950\na format that let's us look at them, talk\nabout them and you explain them as we go.\n\n191\n00:10:06.950 --> 00:10:10.270\nClaims, as that was just mentioned\na moment ago, claim rules, providers.\n\n192\n00:10:10.270 --> 00:10:11.190\nThat stuff's all here,\n\n193\n00:10:11.190 --> 00:10:15.680\nbut let's go through kind of layout\nthe moving parts and pieces of federation.\n\n194\n00:10:15.680 --> 00:10:18.000\nAnd along the way, we'll obviously\ntry to fill in some of the gaps here.\n\n195\n00:10:18.000 --> 00:10:21.384\nSo when we think about how we setup,\nand configure, and\n\n196\n00:10:21.384 --> 00:10:23.600\nbuild out the ADFS solution.\n\n197\n00:10:23.600 --> 00:10:26.350\nWe're gonna make sure that we\nthink about all these components.\n\n198\n00:10:26.350 --> 00:10:30.630\nAnd again, you'll see us put all this\ninto action as we configure ADFS and\n\n199\n00:10:30.630 --> 00:10:33.020\nkind of stand it up in one\nof our upcoming episodes.\n\n200\n00:10:33.020 --> 00:10:38.075\nBut the federation server itself this is\nthe feature and role that is gonna go\n\n201\n00:10:38.075 --> 00:10:43.035\nahead, and setup issue manage doubted\nrequest involving the identity claims.\n\n202\n00:10:43.035 --> 00:10:46.755\nClaims I mentioned this a moment ago\njust jumped over, the web proxy for\n\n203\n00:10:46.755 --> 00:10:48.035\nminimal come back to that.\n\n204\n00:10:48.035 --> 00:10:52.787\nBut a claim is as you can see, we define\nit as a statement that's made, right,\n\n205\n00:10:52.787 --> 00:10:53.837\nabout something.\n\n206\n00:10:53.837 --> 00:10:56.067\nYou can often say I'm claiming something,\nright?\n\n207\n00:10:56.067 --> 00:10:57.457\nI'm claiming this or claiming that.\n\n208\n00:10:57.457 --> 00:11:02.317\nAnd what you're doing is you're saying to\nsomebody or anybody who's around you hey,\n\n209\n00:11:02.317 --> 00:11:06.397\nauthoritatively I'm either saying\nthat this is mine or I have some sort\n\n210\n00:11:06.397 --> 00:11:09.907\nof information about this that makes\nit something we have to discuss.\n\n211\n00:11:09.907 --> 00:11:14.360\nBut also, really what the claim implies is\nyou authoritatively are saying that this\n\n212\n00:11:14.360 --> 00:11:18.770\nis something that should be taken\nfrom you and used to validate you.\n\n213\n00:11:18.770 --> 00:11:22.190\nAnd if we can approve that and\nsomehow reference that in our directory or\n\n214\n00:11:22.190 --> 00:11:26.020\nthrough our federation services\nthrough a look up of some kind.\n\n215\n00:11:26.020 --> 00:11:28.870\nWe can use that to, in this case\n\n216\n00:11:28.870 --> 00:11:31.890\nauthoritative will say yes your\nauthenticated you are who you say you are.\n\n217\n00:11:31.890 --> 00:11:36.400\nSo claims allow us as you can see they're\nstatements made by a trusted entity about\n\n218\n00:11:36.400 --> 00:11:40.530\nan object such as a user and\na claim can include things like name,\n\n219\n00:11:40.530 --> 00:11:44.215\njob title, any other factor that\ncould be used to authenticate you.\n\n220\n00:11:44.215 --> 00:11:48.575\nWhen we think about a user object and we\nthink about the properties associated with\n\n221\n00:11:48.575 --> 00:11:52.255\nthem in the active directory, we've taken\na look at users over time in some of\n\n222\n00:11:52.255 --> 00:11:55.755\nthe other episodes, and we'll go in and\nwe'll take a look again at some point.\n\n223\n00:11:55.755 --> 00:11:59.523\n[INAUDIBLE] go into the active directory\nuser and computer management interface, or\n\n224\n00:11:59.523 --> 00:12:02.915\nADAC, any of the tools we've talked\nabout that we've looked at, and we see\n\n225\n00:12:02.915 --> 00:12:06.440\nthe user object and we understand the\ndefinition of that object in the schema.\n\n226\n00:12:06.440 --> 00:12:10.540\nWe've been through these conversations\nearlier in some of our prior episodes.\n\n227\n00:12:10.540 --> 00:12:15.110\nAnd we look at all of the object\ndefinitions, the properties,\n\n228\n00:12:15.110 --> 00:12:16.950\nthe attributes that\nare associated with that object,\n\n229\n00:12:16.950 --> 00:12:19.200\nin this case the object type user.\n\n230\n00:12:19.200 --> 00:12:23.070\nAnd we look at things like the manager,\nthe address, right?\n\n231\n00:12:23.070 --> 00:12:25.250\nThe phone number, the postal code.\n\n232\n00:12:25.250 --> 00:12:28.420\nThese are properties that are and\nattributes and\n\n233\n00:12:28.420 --> 00:12:29.670\nproperties that were signed.\n\n234\n00:12:29.670 --> 00:12:33.705\nThe properties In this case, may be\naddress as a block of properties for\n\n235\n00:12:33.705 --> 00:12:36.545\nthe user and\nthen attributes that are there, right.\n\n236\n00:12:36.545 --> 00:12:40.365\nAnd when we think about those things, any\nof all of those potentially could be used\n\n237\n00:12:40.365 --> 00:12:43.795\nas claims when we're talking about claims\nbased off of authentication and the use of\n\n238\n00:12:43.795 --> 00:12:47.615\nfederation services or rather the use\nof claims with federation services.\n\n239\n00:12:47.615 --> 00:12:52.370\nSo when we think about claims, we're\nreally just thinking about statements or\n\n240\n00:12:52.370 --> 00:12:56.290\nattributes that are attached to\na user that the user can use,\n\n241\n00:12:56.290 --> 00:13:00.220\ncan claim, hence the name, to use to\nbe able to authenticate themselves.\n\n242\n00:13:00.220 --> 00:13:03.890\nI may be able to use my employee number,\nmy social security number,\n\n243\n00:13:03.890 --> 00:13:06.760\nmy email address, whatever it may be.\n\n244\n00:13:06.760 --> 00:13:08.260\nAnd if the interface design,\n\n245\n00:13:08.260 --> 00:13:13.080\nthe form, that I may be asked to use to\nauthenticate, or to login, or to provide\n\n246\n00:13:13.080 --> 00:13:16.910\ncredentials through in an application and\npush them Into this system.\n\n247\n00:13:16.910 --> 00:13:21.690\nHave them be relayed and accepted,\nvalidated, and then opened up to allow me\n\n248\n00:13:21.690 --> 00:13:25.960\nto use resources on the trusting and\ntrusted sides of the equation.\n\n249\n00:13:25.960 --> 00:13:27.570\nIf that claim is processed and\n\n250\n00:13:27.570 --> 00:13:31.760\nseen as being valid, then I can\nauthenticate the user based on that.\n\n251\n00:13:31.760 --> 00:13:35.560\nAnd if we agree on what those claims\nare and we have a database of some kind,\n\n252\n00:13:35.560 --> 00:13:38.530\na directory service we can\nlook up claims against,\n\n253\n00:13:38.530 --> 00:13:42.240\nwe begin to develop this picture of\nwhat claims based off an occasion is.\n\n254\n00:13:42.240 --> 00:13:45.350\nAnd that's indeed what we're talking\nabout and claims-based identity,\n\n255\n00:13:45.350 --> 00:13:48.710\nis the idea of linking these\nclaims to the user object.\n\n256\n00:13:48.710 --> 00:13:52.800\nAnd then authentication with claims to\nthe idea of using them to substitute for,\n\n257\n00:13:52.800 --> 00:13:57.690\naugment in many cases, add to the initial\nthought process around authentication,\n\n258\n00:13:57.690 --> 00:14:01.010\nwhich is, always been traditionally\nusername and password, right.\n\n259\n00:14:01.010 --> 00:14:05.060\nProvide that, and then hey, we'll log\nyou in but the Cherokee company or\n\n260\n00:14:05.060 --> 00:14:09.050\nthe Atom company don't share common sense\nof users in a single domain, right.\n\n261\n00:14:09.050 --> 00:14:11.750\nIn other words, we're not using\nthe same forms, the same schema,\n\n262\n00:14:11.750 --> 00:14:14.040\nthe same definition of users.\n\n263\n00:14:14.040 --> 00:14:16.520\nHer company may not have records of or\n\n264\n00:14:16.520 --> 00:14:20.050\nknowledge of users in my\nfar same idea likewise.\n\n265\n00:14:20.050 --> 00:14:24.680\nBut with claims we can match those and map\nthem through what are known as relaying\n\n266\n00:14:24.680 --> 00:14:28.760\nparties, or the relying party,\nback and forth.\n\n267\n00:14:28.760 --> 00:14:31.830\nAnd as a result, when we set up\nthis trust, we can extend, and\n\n268\n00:14:31.830 --> 00:14:32.680\nthat's what we're doing.\n\n269\n00:14:32.680 --> 00:14:34.800\nKnowledge of them to allow for\nauthentication.\n\n270\n00:14:34.800 --> 00:14:36.725\nI can authenticate my Users.\n\n271\n00:14:36.725 --> 00:14:40.005\nI can yes, they're good and\nyou should accept them and trust them and\n\n272\n00:14:40.005 --> 00:14:41.785\nCherokee can essentially do the same for\n\n273\n00:14:41.785 --> 00:14:45.045\nme and because of that we can\nthen allow them to interact.\n\n274\n00:14:45.045 --> 00:14:47.805\nClaims are one of the key things\nwe exchange in order to do.\n\n275\n00:14:47.805 --> 00:14:49.930\nIt's almost like big BitCoins.\n\n276\n00:14:49.930 --> 00:14:53.520\nDigital currency of the realm but\nin regards to federation services.\n\n277\n00:14:53.520 --> 00:14:56.600\nWe're defining these terms and\nwe're allowing them to be\n\n278\n00:14:56.600 --> 00:14:59.390\nallowed to add additional complexity but\nalso additional value.\n\n279\n00:14:59.390 --> 00:15:02.080\n&gt;&gt; I really messed up there and\nmissed that boat though Adam.\n\n280\n00:15:02.080 --> 00:15:02.730\n&gt;&gt; You missed what?\n\n281\n00:15:02.730 --> 00:15:03.980\n&gt;&gt; I missed the BitCoin boat.\n\n282\n00:15:03.980 --> 00:15:05.580\n&gt;&gt; You did, okay.\n\n283\n00:15:05.580 --> 00:15:07.710\nWell you know if you have two\nBitCoins you get back on the boat.\n\n284\n00:15:07.710 --> 00:15:10.310\nBecause next time it's not going to\ncost you, so get on an get a ticket.\n\n285\n00:15:10.310 --> 00:15:11.460\nAlright, so\nwe're going to keep moving here.\n\n286\n00:15:11.460 --> 00:15:12.610\nWe're not talking about BitCoin.\n\n287\n00:15:12.610 --> 00:15:16.110\nWe're not talking about boats but rather\ngo back to our document if you would.\n\n288\n00:15:16.110 --> 00:15:18.030\nWe're just talking about\ndefining some terms.\n\n289\n00:15:18.030 --> 00:15:19.540\nSo we have federation server.\n\n290\n00:15:19.540 --> 00:15:21.180\nWe have claims,\nI just mentioned what claims are,\n\n291\n00:15:21.180 --> 00:15:23.480\nwanted you to find them\nin the context of this.\n\n292\n00:15:23.480 --> 00:15:27.060\nWe have claim rules, these are the rules\nthat, obviously, interact with and\n\n293\n00:15:27.060 --> 00:15:30.690\nessentially shape how federation\nservers are gonna process these claims,\n\n294\n00:15:30.690 --> 00:15:31.960\nI was mentioning that.\n\n295\n00:15:31.960 --> 00:15:34.190\nLet's skip over the proxy for\njust a moment,\n\n296\n00:15:34.190 --> 00:15:37.470\ncome back to that, just wanna talk about\nsome of the other things down here.\n\n297\n00:15:37.470 --> 00:15:39.670\nWe have what's known as\nthe attribute store,\n\n298\n00:15:39.670 --> 00:15:41.650\nthis is where we look up claims values.\n\n299\n00:15:41.650 --> 00:15:46.110\nThink of the attributes for, by default,\nis being the AD DS as you can see.\n\n300\n00:15:46.110 --> 00:15:47.512\nThat's our common attribute store.\n\n301\n00:15:47.512 --> 00:15:51.408\nWe may use other attribute stores\nfrom outside the organization, but\n\n302\n00:15:51.408 --> 00:15:56.031\ntraditionally if we're going to be doing\nthis with our own individual resources,\n\n303\n00:15:56.031 --> 00:15:59.747\nour own objects, and our own system\nThe athlete store is the AD DS.\n\n304\n00:15:59.747 --> 00:16:02.403\nIt's where we go just to validate\nthe claims and look them up.\n\n305\n00:16:02.403 --> 00:16:06.270\nThe claim providers are the service that\nissue claims and authenticate users.\n\n306\n00:16:06.270 --> 00:16:08.670\nExcuse me, that issue claims and\nauthenticate users.\n\n307\n00:16:08.670 --> 00:16:13.250\nThis is one side of the AD FS\nauthentication authorization process.\n\n308\n00:16:13.250 --> 00:16:14.661\nThe other part is going to be,\n\n309\n00:16:14.661 --> 00:16:18.260\nyou could see there the relying\nparties as we talked about just now.\n\n310\n00:16:18.260 --> 00:16:20.184\nAnd the idea's that you\nhave claim providers.\n\n311\n00:16:20.184 --> 00:16:21.538\nThey provide the claims.\n\n312\n00:16:21.538 --> 00:16:25.320\nThe relying party relies on the claim\nprovider to provide the claim.\n\n313\n00:16:25.320 --> 00:16:29.160\nAnd then as a result, we have two sides\nof the equation being brought together.\n\n314\n00:16:29.160 --> 00:16:31.750\nRelying party is where\nthe application is located.\n\n315\n00:16:31.750 --> 00:16:35.030\nSo the claim provider is the side\nequation where the users are,\n\n316\n00:16:35.030 --> 00:16:37.510\nif we would just think about\nthe generic logic of this.\n\n317\n00:16:37.510 --> 00:16:40.470\nThe relying party is the side of\nthe equation where the application or\n\n318\n00:16:40.470 --> 00:16:44.260\nservices that users wanna be\nable to authenticate and use.\n\n319\n00:16:44.260 --> 00:16:46.830\nAnd so if, let's just say hypothetically,\nthe Cherokee Company,\n\n320\n00:16:46.830 --> 00:16:49.090\nin our example, is providing the users.\n\n321\n00:16:49.090 --> 00:16:52.985\nThen, she would be or her company would\nbe the claim provider in our example.\n\n322\n00:16:52.985 --> 00:16:57.265\nAnd if my company, The Adam Company, was\na relying party, I have the web service or\n\n323\n00:16:57.265 --> 00:17:00.435\napplication that the Cherokee\nusers wanted to use.\n\n324\n00:17:00.435 --> 00:17:02.535\nThen as a result,\nI would be the relying party.\n\n325\n00:17:02.535 --> 00:17:05.705\nI have to rely on the claims\nbeing provided and\n\n326\n00:17:05.705 --> 00:17:10.705\npresented through Cherokee's side of\nthe AD FS equation to allow the service,\n\n327\n00:17:10.705 --> 00:17:14.680\nmy web service, whatever it is, to be made\navailable and to be authenticated and\n\n328\n00:17:14.680 --> 00:17:16.850\nauthorized for users to use.\n\n329\n00:17:16.850 --> 00:17:18.946\nAnd you'll see the relying\nparty is a web service,\n\n330\n00:17:18.946 --> 00:17:20.473\nconsumes claims from the provider.\n\n331\n00:17:20.473 --> 00:17:24.839\nRelying party has to have the either\nidentity framework installed or\n\n332\n00:17:24.839 --> 00:17:28.901\nthe AD FS claims aware agent,\nwhatever version may be current,\n\n333\n00:17:28.901 --> 00:17:33.685\ncurrently version one, but maybe\nversion two over time, whatever it is.\n\n334\n00:17:33.685 --> 00:17:38.080\nBut the idea is that we're going to\nrely in this example on Cherokee,\n\n335\n00:17:38.080 --> 00:17:41.860\nthe claims provider, the manage user\nauthentication and issue claims\n\n336\n00:17:41.860 --> 00:17:46.250\nthat the users will then present to me,\nto my side, to the relying party.\n\n337\n00:17:46.250 --> 00:17:50.060\nI will take those claims and\nthen allow them, assuming that I can\n\n338\n00:17:50.060 --> 00:17:53.880\nwork through the logic of validating them\nand trust them to then have access to\n\n339\n00:17:53.880 --> 00:17:58.040\nwhatever resources, maybe it's a web\napp of some kind or whatever it may be.\n\n340\n00:17:58.040 --> 00:17:59.960\nThe way we do this is\nthe claim provider trust.\n\n341\n00:17:59.960 --> 00:18:03.849\nYou could see here the claims provider\ntrust contains the data that defines\n\n342\n00:18:03.849 --> 00:18:07.820\nthe rules under which clients might\nrequest claims from a claim provider.\n\n343\n00:18:07.820 --> 00:18:11.470\nAnd as we scroll down, subsequently\nsubmit them to a relying party.\n\n344\n00:18:11.470 --> 00:18:13.800\nThis is the bridge, the pathway, right,\n\n345\n00:18:13.800 --> 00:18:17.020\nessentially the communication path\nthat we create and as a result,\n\n346\n00:18:17.020 --> 00:18:20.600\nat least one half of it anyway,\ntrusts the various identifiers, right?\n\n347\n00:18:20.600 --> 00:18:23.550\nAnd then we have the relying\npart trusts the other side.\n\n348\n00:18:23.550 --> 00:18:26.510\nSo again, just like as you can see, it's\nkinda hard to put them both on screen at\n\n349\n00:18:26.510 --> 00:18:28.670\nthe same time, but\nas we have claim providers and\n\n350\n00:18:28.670 --> 00:18:33.350\nrelying parties we have a trust that each\none creates going to the other side.The\n\n351\n00:18:33.350 --> 00:18:35.880\nclaim provider creates the claim\nprovider trust, the relying party.\n\n352\n00:18:35.880 --> 00:18:40.010\n&gt;&gt; Are we gonna need to bring Brad\nback into studios for this episode?\n\n353\n00:18:40.010 --> 00:18:41.088\n&gt;&gt; No, not this one.\n\n354\n00:18:41.088 --> 00:18:41.956\n&gt;&gt; [LAUGH]\n&gt;&gt; He was so kind to come in and\n\n355\n00:18:41.956 --> 00:18:42.898\ndo that with us that one time.\n\n356\n00:18:42.898 --> 00:18:46.005\nBut I think I used my hey, be good\nsport chip when I asked him to come in,\n\n357\n00:18:46.005 --> 00:18:47.164\non the spur of the moment,\n\n358\n00:18:47.164 --> 00:18:50.920\nand asked him to take part in our\nthree way transit of trust discussion.\n\n359\n00:18:50.920 --> 00:18:53.550\nSo yeah no,\nwe're gonna give him pass on that one.\n\n360\n00:18:53.550 --> 00:18:55.020\nBut relying party trust,\n\n361\n00:18:55.020 --> 00:18:57.740\nwe just set the trust of going\nthe other way as you can see.\n\n362\n00:18:57.740 --> 00:18:59.740\nSo we have the relying party,\nthe claim party.\n\n363\n00:18:59.740 --> 00:19:02.980\nAnd then we have obviously,\nthe trust that were associated with them.\n\n364\n00:19:02.980 --> 00:19:04.680\nSo you can hopefully\nmake sense of that and\n\n365\n00:19:04.680 --> 00:19:06.760\nhave a sense of how that's\ngonna come together as well.\n\n366\n00:19:06.760 --> 00:19:09.808\nWe have certificates,\nshocking though that may be, right?\n\n367\n00:19:09.808 --> 00:19:12.182\n&gt;&gt; [LAUGH]\n&gt;&gt; So I could spend to, I don't know,\n\n368\n00:19:12.182 --> 00:19:14.989\nsix or seven or\neight episodes on that whole topic, right?\n\n369\n00:19:14.989 --> 00:19:17.750\nBut certificates AD CS,\nright, certificate services.\n\n370\n00:19:17.750 --> 00:19:21.410\nSo the output of that, we use digital\ncertificates when we communicate\n\n371\n00:19:21.410 --> 00:19:26.178\nsecurely over this whole communication\ninfrastructure we're putting together.\n\n372\n00:19:26.178 --> 00:19:30.060\nAnd we're gonna use those certificates\nas you can see there for the ability to\n\n373\n00:19:30.060 --> 00:19:34.725\nvalidate sign tokens and issue Information\nthat helps us to ensure identity.\n\n374\n00:19:34.725 --> 00:19:38.015\nSo digital certificates are kinda\nunderlying most of what we do.\n\n375\n00:19:38.015 --> 00:19:40.543\nIt's fair to say that if we're\ntalking about a web service and\n\n376\n00:19:40.543 --> 00:19:43.557\nwe're talking about anything that has\nto do with the extension of trust or\n\n377\n00:19:43.557 --> 00:19:44.942\nvalidation of identity.\n\n378\n00:19:44.942 --> 00:19:48.562\nSomewhere buried at that some level\nin there, you're going to find one or\n\n379\n00:19:48.562 --> 00:19:51.012\nmore certificates, right,\njust as a general rule of thumb.\n\n380\n00:19:51.012 --> 00:19:54.948\nSo knowledge of AD CS is I'm not\ngonna say a prerequisite, but\n\n381\n00:19:54.948 --> 00:20:00.038\nI'm gonna say is very strongly encouraged\nto understand how to work with AD FS.\n\n382\n00:20:00.038 --> 00:20:04.070\nCuz you can't really do federation\nservices without the ability to have a PKI\n\n383\n00:20:04.070 --> 00:20:08.041\nsolution in place that issues certificates\nto validate aspects of the trust\n\n384\n00:20:08.041 --> 00:20:12.092\nestablishment and ultimately to validate\nall the things that we're doing.\n\n385\n00:20:12.092 --> 00:20:14.410\n&gt;&gt; So you're gonna have to pair\nthese two together, in other words.\n\n386\n00:20:14.410 --> 00:20:17.020\nWe then have endpoints\nwhich are gonna allow us,\n\n387\n00:20:17.020 --> 00:20:21.622\nas you can see, to do things like token\nissuance, metadata, publishing information\n\n388\n00:20:21.622 --> 00:20:25.510\nabout the structure and the nature of\nclaims or what we're talking about here.\n\n389\n00:20:25.510 --> 00:20:28.610\nWe do have built-in endpoints that\ncome as part of the AD FS solution, so\n\n390\n00:20:28.610 --> 00:20:30.260\nit's not that we're gonna have\nto go out and create our own.\n\n391\n00:20:30.260 --> 00:20:34.570\nBut there are specific functional\nelements, right, that are signed there.\n\n392\n00:20:34.570 --> 00:20:37.368\nAgain, token issuance,\nmetadata publishing,\n\n393\n00:20:37.368 --> 00:20:41.499\nthese are traditional things that\nare signed to endpoint capabilities,\n\n394\n00:20:41.499 --> 00:20:43.910\njust to give you a sense\nof the vocabulary.\n\n395\n00:20:43.910 --> 00:20:45.218\nI'm just scrolling back up because I do.\n\n396\n00:20:45.218 --> 00:20:48.952\nWe're not done yet, wanna talk quickly\nabout federation server proxy and\n\n397\n00:20:48.952 --> 00:20:51.040\nwhat's called the web app proxy.\n\n398\n00:20:51.040 --> 00:20:53.468\nThis is also a very important\npart of what we do.\n\n399\n00:20:53.468 --> 00:20:56.642\nIt's kind of broken out separately in the\nsense that it is an optional component as\n\n400\n00:20:56.642 --> 00:20:58.810\nyou see there so, may or\nmay not be using it.\n\n401\n00:20:58.810 --> 00:21:00.900\nIf we think about what proxies are,\nand Cherokee,\n\n402\n00:21:00.900 --> 00:21:02.690\nmaybe you can help me out here for\njust a second.\n\n403\n00:21:02.690 --> 00:21:06.330\nIf we think about what proxies are,\ngeneric, before we get to the specific\n\n404\n00:21:06.330 --> 00:21:11.130\napplication assigned definition here with\nregards to federation service, give me\n\n405\n00:21:11.130 --> 00:21:14.330\na working definition, hypothetically,\ngenerically of what a proxy does.\n\n406\n00:21:14.330 --> 00:21:15.950\nWhat do we think proxies do?\n\n407\n00:21:15.950 --> 00:21:21.501\n&gt;&gt; Generically, I would say a proxy would\nact like a man in the middle almost,\n\n408\n00:21:21.501 --> 00:21:26.260\nand they're able to filter information,\nrelay information,\n\n409\n00:21:26.260 --> 00:21:29.446\nand just kind of control the environment.\n\n410\n00:21:29.446 --> 00:21:34.757\nBut in addition to a firewall,\nwe can't rely on that as our sole,\n\n411\n00:21:34.757 --> 00:21:38.310\nwhat's the word I'm looking for here?\n\n412\n00:21:38.310 --> 00:21:40.190\n&gt;&gt; Access control,\nborder gateway device, just-\n\n413\n00:21:40.190 --> 00:21:40.930\n&gt;&gt; Exactly, but that's in addition to.\n\n414\n00:21:40.930 --> 00:21:42.520\n&gt;&gt; Security mechanism.\n\n415\n00:21:42.520 --> 00:21:43.310\n&gt;&gt; Yeah.\n&gt;&gt; Or maybe, okay.\n\n416\n00:21:43.310 --> 00:21:46.042\nAll right, so\nproxies do all those things, right?\n\n417\n00:21:46.042 --> 00:21:47.196\nThey certainly do\nthe things you described.\n\n418\n00:21:47.196 --> 00:21:47.860\n&gt;&gt; They can.\n&gt;&gt; Generically,\n\n419\n00:21:47.860 --> 00:21:51.728\nwe could say proxies are certainly\ngoing to be gatekeepers.\n\n420\n00:21:51.728 --> 00:21:55.500\nThey are gonna provide the ability to\nmask, we sometimes hear it referred to as\n\n421\n00:21:55.500 --> 00:21:59.900\nnatting, right, generic we do adder's\ntranslation for internal versus external.\n\n422\n00:21:59.900 --> 00:22:02.429\nThey are gateway devices,\ntypically border devices,\n\n423\n00:22:02.429 --> 00:22:04.860\nthat differentiate between internal and\nexternal.\n\n424\n00:22:04.860 --> 00:22:08.498\nAnd specifically, one of the key things we\noften associate with them is the idea of\n\n425\n00:22:08.498 --> 00:22:10.460\ncash and content speeding up access.\n\n426\n00:22:10.460 --> 00:22:13.062\nNot necessarily important\nin this particular case.\n\n427\n00:22:13.062 --> 00:22:16.340\nBut what really the key role that we\nfocused on with regards to the proxy\n\n428\n00:22:16.340 --> 00:22:19.660\ndefinition is the one I just\nmentioned before the caching and\n\n429\n00:22:19.660 --> 00:22:22.240\nspeeding up of access,\nwhich is the natting or\n\n430\n00:22:22.240 --> 00:22:26.270\nthe ability to be able to differentiate\nand hide internal resources.\n\n431\n00:22:26.270 --> 00:22:29.118\nAnd make them appear as if they\nare something different when we\n\n432\n00:22:29.118 --> 00:22:33.132\npresent them to the outside world, right,\nthis sleight of hand ability that we have.\n\n433\n00:22:33.132 --> 00:22:35.077\nAnd the federation server proxy, and\n\n434\n00:22:35.077 --> 00:22:37.813\nspecifically the web app\nproxy functionality really\n\n435\n00:22:37.813 --> 00:22:42.030\nkinda speaks to that optional component\ndeployed in the perimeter network.\n\n436\n00:22:42.030 --> 00:22:43.340\nSo it's a border or gateway device.\n\n437\n00:22:43.340 --> 00:22:45.890\nWe'd see the perimeter\ntypically being the DMZ,\n\n438\n00:22:45.890 --> 00:22:47.890\ngenerically we've talked\nabout architecture, right?\n\n439\n00:22:47.890 --> 00:22:51.280\nDoes not add any functionality\nspecifically to AD FS deployments,\n\n440\n00:22:51.280 --> 00:22:54.967\nbut rather deployed to provide layers\nof security and enhance security as\n\n441\n00:22:54.967 --> 00:22:58.786\nwe say there, for connections from\nthe internet to the federation server.\n\n442\n00:22:58.786 --> 00:22:59.822\nIn other words,\n\n443\n00:22:59.822 --> 00:23:04.420\nwe're gonna come from the outside in\nto deal with the federation server.\n\n444\n00:23:04.420 --> 00:23:08.160\nJust remember we are going to have\npeople from outside of our organization\n\n445\n00:23:08.160 --> 00:23:11.800\ncoming in having to connect to one\nside of that federation partnership.\n\n446\n00:23:11.800 --> 00:23:14.180\nWe have to communicate with them and\ndo so securely.\n\n447\n00:23:14.180 --> 00:23:19.080\nIf we put the federation server proxy or\nweb and or web app proxies in place.\n\n448\n00:23:19.080 --> 00:23:23.840\nWhat they do is they allow us to be\nable to provide a layer of security\n\n449\n00:23:23.840 --> 00:23:27.890\nof authentication of stand off control\nthat allows us to tightly monitor those\n\n450\n00:23:27.890 --> 00:23:30.110\ncommunications and\ncontrol who's coming in.\n\n451\n00:23:30.110 --> 00:23:33.978\nSo it just adds complexity in the sense\nthat it just adds to the architecture.\n\n452\n00:23:33.978 --> 00:23:36.820\nBut it's not really a complexity issue,\nit's a security issue for us.\n\n453\n00:23:36.820 --> 00:23:38.866\nAnd we're gonna talk more about them,\nwhat they are, why they're important.\n\n454\n00:23:38.866 --> 00:23:40.540\nI have a lot to say about them, so\n\n455\n00:23:40.540 --> 00:23:44.372\na whole set of exam objectives around\nthis idea of the web app proxy.\n\n456\n00:23:44.372 --> 00:23:47.590\nWe'll explore those and just make sure\nwe're comfortable with the discussion of\n\n457\n00:23:47.590 --> 00:23:49.038\nwhat it does and how it works.\n\n458\n00:23:49.038 --> 00:23:51.963\nBut just wanna lay out the definition and\nthe concept here for\n\n459\n00:23:51.963 --> 00:23:53.061\nyou as we get started.\n\n460\n00:23:53.061 --> 00:23:54.730\nJust give you an idea\nof what we're gonna do.\n\n461\n00:23:54.730 --> 00:23:56.472\nBut all these terms are gonna\ncome together for us.\n\n462\n00:23:56.472 --> 00:23:57.893\nAll right, all these terms are part\nof what we're talking about.\n\n463\n00:23:57.893 --> 00:24:00.915\nOr thinking about,\nthey're all very important.\n\n464\n00:24:00.915 --> 00:24:03.527\nWhen we think about web services,\nwe also have to think about,\n\n465\n00:24:03.527 --> 00:24:06.220\nwe've talked about it a lot,\nof the things that are there.\n\n466\n00:24:06.220 --> 00:24:11.190\nWe have to think about the idea of\nsecurity specifications unique to the web.\n\n467\n00:24:11.190 --> 00:24:14.001\nWeb services and web services\nsecurity don't exist in a vacuum,\n\n468\n00:24:14.001 --> 00:24:15.648\nthere are some well known standards.\n\n469\n00:24:15.648 --> 00:24:21.070\nWS-Security for Web Services Security, W\nServices or WS-Trust, Web Services Trust,\n\n470\n00:24:21.070 --> 00:24:25.723\nWS-Federation, the one we're talking\nabout that Microsoft implements.\n\n471\n00:24:25.723 --> 00:24:29.421\nThere's AD FS Web Service Federation,\nthe WS-F PRP, or\n\n472\n00:24:29.421 --> 00:24:32.820\nWeb Service Federation\nPassive Requester Profile,\n\n473\n00:24:32.820 --> 00:24:36.380\nthe Web Service Federation\nActive Requestor Profile.\n\n474\n00:24:36.380 --> 00:24:39.895\nWe have all these different services or\nsecurity definitions that are used,\n\n475\n00:24:39.895 --> 00:24:41.203\nalmost without exception.\n\n476\n00:24:41.203 --> 00:24:44.450\nA lot of them built around\nthe idea of how we exchange and\n\n477\n00:24:44.450 --> 00:24:49.323\nsecurely manage information, how we define\ntrust and extend the issuance of that\n\n478\n00:24:49.323 --> 00:24:54.000\nthrough things like security tokens and\nmanagement of trust relationships.\n\n479\n00:24:54.000 --> 00:24:57.340\nSo they're very important for\nus generically to have a sense of.\n\n480\n00:24:57.340 --> 00:24:59.120\nI talk a little bit about\nthem in the show notes and\n\n481\n00:24:59.120 --> 00:25:01.800\njust give you like a working\ndefinition of what they are.\n\n482\n00:25:01.800 --> 00:25:05.482\nWouldn't spend too much time on them per\nse with regards to exam preparation.\n\n483\n00:25:05.482 --> 00:25:07.510\nReally just more\nbackground information for\n\n484\n00:25:07.510 --> 00:25:09.960\nyou to give you a sense\nof where they come from.\n\n485\n00:25:09.960 --> 00:25:14.130\nSAML, Security Assertion Markup Language,\nan XML based standard language for\n\n486\n00:25:14.130 --> 00:25:18.090\nclaims based exchange of identity\ninformation between the provider and\n\n487\n00:25:18.090 --> 00:25:20.010\nthe service or application provider.\n\n488\n00:25:20.010 --> 00:25:22.540\nThe identity provider,\nwhen I say provider, and service or\n\n489\n00:25:22.540 --> 00:25:23.720\napplication provider.\n\n490\n00:25:23.720 --> 00:25:25.241\nSAML's an interesting standard.\n\n491\n00:25:25.241 --> 00:25:28.469\nIt's been around for\na very long time at this point.\n\n492\n00:25:28.469 --> 00:25:32.939\nWe are using that language to be able to\nexchange and move information back and\n\n493\n00:25:32.939 --> 00:25:34.520\nforth in terms of claim.\n\n494\n00:25:34.520 --> 00:25:38.870\nSo, again, just wanna make sure we're\naware of the logic of that, what that is.\n\n495\n00:25:38.870 --> 00:25:43.251\nSome of the things associated with it are\nthe underlying architecture elements that\n\n496\n00:25:43.251 --> 00:25:47.136\nmake, in Microsoft's case, the\nimplementation of AD FS not generic, or\n\n497\n00:25:47.136 --> 00:25:49.806\nexcuse me, not specific,\nrather, to our world.\n\n498\n00:25:49.806 --> 00:25:53.711\nBut generic in the sense we align with\nopen standards and web-based standards, so\n\n499\n00:25:53.711 --> 00:25:57.070\nthat we can interact with\nFederation Services from other providers.\n\n500\n00:25:57.070 --> 00:26:00.690\nAnd we can interact with other\norganizations and federate with them.\n\n501\n00:26:00.690 --> 00:26:03.560\nImagine if we had a closed world where\nyou could only federate with other\n\n502\n00:26:03.560 --> 00:26:04.530\nMicrosoft entities.\n\n503\n00:26:04.530 --> 00:26:07.470\nThat's not a bad thing, but that would\neliminate the ability to be able to\n\n504\n00:26:07.470 --> 00:26:10.360\nextend this trust and\nfederate out to other parties.\n\n505\n00:26:10.360 --> 00:26:13.310\nMaybe the Cherokee organization\nis not Microsoft centric.\n\n506\n00:26:13.310 --> 00:26:16.548\nMaybe, as a result,\nwhile they do have directory services,\n\n507\n00:26:16.548 --> 00:26:18.229\nthey're not based on the AD DS,\n\n508\n00:26:18.229 --> 00:26:22.425\nthey're not based on the Active Directory\nstructure that we use in Microsoft.\n\n509\n00:26:22.425 --> 00:26:25.546\nBut we still wanna be able to\nfederate with them and extend trust,\n\n510\n00:26:25.546 --> 00:26:28.348\naccept claims or\nissue claims against them and from them.\n\n511\n00:26:28.348 --> 00:26:31.687\nAnd we would have to have a set of\nstandards that are not proprietary and\n\n512\n00:26:31.687 --> 00:26:35.740\nclosed, but rather based on open security\nstandards for the web in order to do this.\n\n513\n00:26:35.740 --> 00:26:39.687\nThings like SOAP you may have heard of,\nSAML we talked about.\n\n514\n00:26:39.687 --> 00:26:43.448\nThis is the language, right,\nof these web security services, or\n\n515\n00:26:43.448 --> 00:26:48.070\nweb security structures that we use,\nand the standards that we align with.\n\n516\n00:26:48.070 --> 00:26:50.890\nAnd so we wanna make sure we're\naware of the fact that we are broad\n\n517\n00:26:50.890 --> 00:26:52.080\nin our application of this.\n\n518\n00:26:52.080 --> 00:26:54.820\nAnd we are broad in our interpretation\nof what it means to federate,\n\n519\n00:26:54.820 --> 00:26:57.190\nand that's good for\nus if we are Microsoft centric.\n\n520\n00:26:57.190 --> 00:27:00.496\nBut it's good for everybody, so\nthat we can associate with them and\n\n521\n00:27:00.496 --> 00:27:03.921\nshare information with them through\nthe use of Federation Services.\n\n522\n00:27:03.921 --> 00:27:05.446\nSo just keeping that in mind,\n\n523\n00:27:05.446 --> 00:27:09.719\nthe idea of essentially using claims based\nauthentication in the Active Directory\n\n524\n00:27:09.719 --> 00:27:13.380\nnamespace to extend this trust\nrelationship between two parties.\n\n525\n00:27:13.380 --> 00:27:17.399\nAnd to implement the identity provider and\nservice provider components in\n\n526\n00:27:17.399 --> 00:27:21.174\nthe identity federation model is\nwhat AD FS really represents for us.\n\n527\n00:27:21.174 --> 00:27:24.201\nAnd that's what we wanna be thinking about\nas we just look to get started here.\n\n528\n00:27:24.201 --> 00:27:27.904\nWe'll, obviously, be coming back talking\nmore about this in terms of new features,\n\n529\n00:27:27.904 --> 00:27:30.030\nhow we set it up,\nwhat are the moving parts.\n\n530\n00:27:30.030 --> 00:27:32.540\nBut, really, just wanted to lay down\nsome of the foundational elements,\n\n531\n00:27:32.540 --> 00:27:36.160\ndiscuss some vocabulary with you,\nget you thinking about that a little bit.\n\n532\n00:27:36.160 --> 00:27:39.970\nIntroduce the idea of the Cherokee and\nAdam companies here, so that way,\n\n533\n00:27:39.970 --> 00:27:42.673\nwhen we issue stock and\nhave our IPO and we go public,\n\n534\n00:27:42.673 --> 00:27:44.530\nyou guys heard about it first here.\n\n535\n00:27:44.530 --> 00:27:45.991\n&gt;&gt; We gotta think about [CROSSTALK] our\nproduct or our service there as well.\n\n536\n00:27:45.991 --> 00:27:48.863\n&gt;&gt; Well, I was thinking like bubble-\n&gt;&gt; We'll develop it.\n\n537\n00:27:48.863 --> 00:27:50.095\n&gt;&gt; Like maybe-\n&gt;&gt; Bubble technology?\n\n538\n00:27:50.095 --> 00:27:51.878\n&gt;&gt; Maybe bubble technology,\nyou never know, right?\n\n539\n00:27:51.878 --> 00:27:54.234\nBubble pillow technology,\nas Peter was saying.\n\n540\n00:27:54.234 --> 00:27:58.650\nAll right, so anyway, I digress, which\nhappens often, so, what can I tell you?\n\n541\n00:27:58.650 --> 00:28:00.524\nSo I think though it's probably\na good place for us to-\n\n542\n00:28:00.524 --> 00:28:01.675\n&gt;&gt; Yeah, I mean we've covered,\n\n543\n00:28:01.675 --> 00:28:03.991\nwe've got a solid foundation here for\nFederation Services.\n\n544\n00:28:03.991 --> 00:28:08.413\nSo I think that's about it, and we'll\nget started and get into the meat of it,\n\n545\n00:28:08.413 --> 00:28:09.623\nas Jo would say here.\n\n546\n00:28:09.623 --> 00:28:13.061\nSo we'll go ahead and get started with\nthat, but first we're gonna sign out for\n\n547\n00:28:13.061 --> 00:28:13.740\nthis episode.\n\n548\n00:28:13.740 --> 00:28:15.510\nI've been your host, Cherokee Boose.\n\n549\n00:28:15.510 --> 00:28:16.520\n&gt;&gt; I am Adam Gordon.\n\n550\n00:28:16.520 --> 00:28:18.251\n&gt;&gt; See you next time here at ITProTV.\n\n551\n00:28:18.251 --> 00:28:24.884\n[MUSIC]\n\n552\n00:28:24.884 --> 00:28:28.062\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232484272"
        },
        {
          "description": "In this episode, Cherokee and Adam recap what Active Directory Federation Services. Adam show how to install and configure ADFS.",
          "length": "2427",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-2-implementing_and_administering_ad_fs_pt2-090117-PGM.00_44_03_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-2-implementing_and_administering_ad_fs_pt2-090117-PGM.00_44_03_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-2-implementing_and_administering_ad_fs_pt2-090117-PGM.00_44_03_14.Still001-sm.jpg",
          "title": "Implementing and Administering AD FS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:06.480\nWelcome to ITPRO.TV,\nI'm your host Don Pezet, [CROSSTALK]\n\n2\n00:00:06.480 --> 00:00:08.301\n[MUSIC]\n\n3\n00:00:08.301 --> 00:00:11.827\n&gt;&gt; You are watching ITPRO.TV.\n\n4\n00:00:11.827 --> 00:00:15.247\n&gt;&gt; Welcome to your identity with\nWindows Server 2016 series,\n\n5\n00:00:15.247 --> 00:00:17.219\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.219 --> 00:00:21.033\nIn this episode we'll continue\ntaking a look at administering and\n\n7\n00:00:21.033 --> 00:00:22.267\nimplementing ADFS.\n\n8\n00:00:22.267 --> 00:00:26.070\nBack in studios with us today we\nhave Microsoft expert, Adam Gordon.\n\n9\n00:00:26.070 --> 00:00:27.490\nThank you for joining us today, Adam.\n\n10\n00:00:27.490 --> 00:00:28.070\n&gt;&gt; You're welcome.\n\n11\n00:00:28.070 --> 00:00:28.620\nAlways glad to be here.\n\n12\n00:00:28.620 --> 00:00:31.330\nYou know, if I switched your notes out\nbefore we came on and you looked down and\n\n13\n00:00:31.330 --> 00:00:34.630\nsaw something like a strange picture,\nyou would have freaked out and\n\n14\n00:00:34.630 --> 00:00:36.340\nwould not have known what we were doing.\n\n15\n00:00:36.340 --> 00:00:38.463\nCuz I [INAUDIBLE] a little\nsideways glance when you\n\n16\n00:00:38.463 --> 00:00:39.042\nwere looking\n\n17\n00:00:39.042 --> 00:00:39.542\n&gt;&gt; [LAUGH]\n\n18\n00:00:39.542 --> 00:00:40.092\n&gt;&gt; At me.\n&gt;&gt; [LAUGH]\n\n19\n00:00:40.092 --> 00:00:41.844\n&gt;&gt; I don't know if anybody else did.\n\n20\n00:00:41.844 --> 00:00:42.964\n&gt;&gt; But I do know, I really do know what\n\n21\n00:00:42.964 --> 00:00:43.804\nwe're gonna be doing.\n&gt;&gt; You do?\n\n22\n00:00:43.804 --> 00:00:44.314\nI know you do.\n\n23\n00:00:44.314 --> 00:00:44.974\n&gt;&gt; We talked about it\n\n24\n00:00:44.974 --> 00:00:45.914\nquite a bit.\n&gt;&gt; We did.\n\n25\n00:00:45.914 --> 00:00:47.294\nWe talked about before we came on\n\n26\n00:00:47.294 --> 00:00:48.524\nto do the episode.\n&gt;&gt; [LAUGH]\n\n27\n00:00:48.524 --> 00:00:50.112\n&gt;&gt; So I know you know what's going on, but\n\n28\n00:00:50.112 --> 00:00:52.262\nit was just cute.\nI should have put like a lol cat or\n\n29\n00:00:52.262 --> 00:00:53.044\nsomething\n&gt;&gt; Yeah.\n\n30\n00:00:53.044 --> 00:00:53.574\n&gt;&gt; And you would've been\n\n31\n00:00:53.574 --> 00:00:54.224\nlike, aww.\n&gt;&gt; Like those\n\n32\n00:00:54.224 --> 00:00:55.144\nteleprompters-\n&gt;&gt; Yeah.\n\n33\n00:00:55.144 --> 00:00:56.711\n&gt;&gt; Whenever they put crazy things and\n\n34\n00:00:56.711 --> 00:00:58.066\nmake people read them?\n&gt;&gt; Exactly,\n\n35\n00:00:58.066 --> 00:01:00.014\nlike that picture we had of\nDon in his Hawaiian shirt or\n\n36\n00:01:00.014 --> 00:01:02.244\nsomething, could have done that.\n&gt;&gt; [LAUGH] But really,\n\n37\n00:01:02.244 --> 00:01:05.354\nwe are gonna be configuring and\nsetting up confederation services.\n\n38\n00:01:05.354 --> 00:01:06.564\n&gt;&gt; We are, we're gonna continue kinda\n\n39\n00:01:06.564 --> 00:01:09.054\nthat thought process we had from\nour prior episode where you and\n\n40\n00:01:09.054 --> 00:01:12.064\nI did a little overview kind of\njust introduce the concepts.\n\n41\n00:01:12.064 --> 00:01:12.594\n&gt;&gt; Introduction.\n\n42\n00:01:12.594 --> 00:01:14.334\n&gt;&gt; Talk about some of the vocabulary.\n\n43\n00:01:14.334 --> 00:01:16.584\nHey, what's claim, what's claim rule,\n\n44\n00:01:16.584 --> 00:01:18.494\nwhat's a claim provider,\nwhat's a relying party,\n\n45\n00:01:18.494 --> 00:01:19.224\nthings like that.\nSo\n\n46\n00:01:19.224 --> 00:01:21.954\none thing we talk about a lot\nare just the moving parts and\n\n47\n00:01:21.954 --> 00:01:25.774\nthe idea behind federation.\nAnd we are gonna continue and actually get\n\n48\n00:01:25.774 --> 00:01:28.904\nin there and start to do the set up.\nIt's gonna take a little bit of time to\n\n49\n00:01:28.904 --> 00:01:31.834\nwalk us through all of the specific steps.\nWe are going to take up go through it,\n\n50\n00:01:31.834 --> 00:01:35.050\nwe'll stop every so often if\nsomething's restarting along the way.\n\n51\n00:01:35.050 --> 00:01:36.700\nAnd we'll either take a look at things as\n\n52\n00:01:36.700 --> 00:01:37.620\nthey progress.\nBut\n\n53\n00:01:37.620 --> 00:01:40.350\nI thought it would be good\nmaybe as we get started with,\n\n54\n00:01:40.350 --> 00:01:44.260\njust quickly from our perspective,\nmaybe quickly summarize what ADFS is.\n\n55\n00:01:44.260 --> 00:01:47.070\nOr just more generically,\nremind everybody what federation is.\n\n56\n00:01:47.070 --> 00:01:49.380\nSo maybe you and I could have a quick\nchat about that for a second.\n\n57\n00:01:49.380 --> 00:01:51.580\n&gt;&gt; Okay.\n&gt;&gt; So when we think about federation,\n\n58\n00:01:51.580 --> 00:01:54.720\nwe talked about in the last episode\nthat the idea is really about\n\n59\n00:01:54.720 --> 00:01:56.070\nan extension of trust.\n\n60\n00:01:56.070 --> 00:02:01.050\nThe idea, we build on this from the ADCS\nconversations, certificate services.\n\n61\n00:02:01.050 --> 00:02:02.660\nYou haven't seen those episodes.\n\n62\n00:02:02.660 --> 00:02:04.570\nBoy did you miss a lot of fun there.\n\n63\n00:02:04.570 --> 00:02:05.930\nYou want to go ahead and take a look?\n\n64\n00:02:05.930 --> 00:02:09.790\nCherokee and I spent some time talking\nabout how we can create certificates.\n\n65\n00:02:09.790 --> 00:02:13.070\nUse the certificate infrastructure\nthe PKI infrastructure,\n\n66\n00:02:13.070 --> 00:02:16.420\nbe able to issue certificates, and\nwe did a lot of work around that.\n\n67\n00:02:16.420 --> 00:02:19.870\nBut the output of that is one or\nmore digital certificates.\n\n68\n00:02:19.870 --> 00:02:24.030\nAnd the idea of using those certificates\nto represent identity, to authenticate,\n\n69\n00:02:24.030 --> 00:02:29.830\nto validate and to then allow access\nto be granted to a service, to a user,\n\n70\n00:02:29.830 --> 00:02:32.500\nperhaps to a computer maybe all three-\n&gt;&gt; To have a resource.\n\n71\n00:02:32.500 --> 00:02:33.860\n&gt;&gt; Yeah, whatever it may be.\n\n72\n00:02:33.860 --> 00:02:36.370\nAnd so when we think about that,\n\n73\n00:02:36.370 --> 00:02:38.880\nwe kind of roll that idea\nforward here into federation.\n\n74\n00:02:38.880 --> 00:02:41.980\nSo, let's come up with maybe one or\ntwo sentence quick definition.\n\n75\n00:02:41.980 --> 00:02:44.280\nIf you had to summarize federation,\nwhat, from your perspective,\n\n76\n00:02:44.280 --> 00:02:47.500\nwhat would you tell the good\nfolk out there at ITProTV land,\n\n77\n00:02:47.500 --> 00:02:50.740\nif they had to go out and\nspread the good word about federation?\n\n78\n00:02:50.740 --> 00:02:52.270\nWhat would we want them to say?\n\n79\n00:02:52.270 --> 00:02:54.330\n&gt;&gt; Okay, so I would say that it is\n\n80\n00:02:56.970 --> 00:03:00.570\nintegration solutions for\nexternal domains.\n\n81\n00:03:00.570 --> 00:03:04.230\nDomains that are not within our forest.\n\n82\n00:03:05.480 --> 00:03:08.360\n&gt;&gt; I don't dislike that, but\nlet me ask you a follow up question then.\n\n83\n00:03:08.360 --> 00:03:12.530\nIf you're going to be along those lines,\nbe a little bit specific.\n\n84\n00:03:12.530 --> 00:03:16.480\nYou've kind of named some things\nthat are very Microsoft centric.\n\n85\n00:03:16.480 --> 00:03:17.966\nYou named domains, you named forests.\n\n86\n00:03:17.966 --> 00:03:21.867\nAnd there's not necessarily a bad\nthing associated with that, but\n\n87\n00:03:21.867 --> 00:03:25.540\nit is a little narrower and\nperhaps a little constraining.\n\n88\n00:03:25.540 --> 00:03:30.580\nMy point is, do we see Federation as\nonly being a Microsoft centric and\n\n89\n00:03:30.580 --> 00:03:32.420\nWindows centric thought process,\n\n90\n00:03:32.420 --> 00:03:36.950\nor could we see Federation as being more\nbroad than what we would be talking about?\n\n91\n00:03:36.950 --> 00:03:39.604\n&gt;&gt; Yeah, so we could definitely\nuse it with other systems,\n\n92\n00:03:39.604 --> 00:03:41.777\nnot just in a Microsoft\ncentric environment.\n\n93\n00:03:41.777 --> 00:03:43.960\n&gt;&gt; And we can,\nyou're absolutely right about that.\n\n94\n00:03:43.960 --> 00:03:46.630\nSo my point is,\nmaybe we don't wanna just say,\n\n95\n00:03:46.630 --> 00:03:50.750\nas you said, hey maybe it extends this\nability for us to integrate, right?\n\n96\n00:03:50.750 --> 00:03:54.167\nYour word, which I like a lot the domains\nthat may be outside of our forest,\n\n97\n00:03:54.167 --> 00:03:56.947\nbecause that is true from\nthe perspective of a Window service\n\n98\n00:03:56.947 --> 00:03:58.530\n&gt;&gt; But they may not have a domain.\n\n99\n00:03:58.530 --> 00:04:00.500\n&gt;&gt; But\nwe may not be running a Windows system.\n\n100\n00:04:00.500 --> 00:04:02.910\nWe may not have a domain for\ninstance Linux, UNIX,\n\n101\n00:04:02.910 --> 00:04:05.720\nwe call those concepts realms, we don't\nnecessarily refer to them as domains.\n\n102\n00:04:05.720 --> 00:04:06.940\nI know that you know that.\n\n103\n00:04:06.940 --> 00:04:10.060\nAnd so what I'm just suggesting is maybe\nyou wanna make it a little broader,\n\n104\n00:04:10.060 --> 00:04:13.520\nlet's not make it specific to\na vendor let's just say generically,\n\n105\n00:04:13.520 --> 00:04:17.860\nit's a great way of thinking about\nhow we integrate the services that\n\n106\n00:04:17.860 --> 00:04:22.860\nallow us to authenticate users and grant\naccess to resources across name spaces.\n\n107\n00:04:22.860 --> 00:04:24.640\nBecause it doesn't matter who generates or\n\n108\n00:04:24.640 --> 00:04:27.540\nwho essentially is going\nto sponsor that name space.\n\n109\n00:04:27.540 --> 00:04:29.850\nNot domain centric, not Microsoft centric.\n\n110\n00:04:29.850 --> 00:04:30.930\n&gt;&gt; Right.\n&gt;&gt; Does that make more sense?\n\n111\n00:04:30.930 --> 00:04:31.430\n&gt;&gt; Yeah, I like it.\n\n112\n00:04:31.430 --> 00:04:32.580\n&gt;&gt; Yeah, cuz I think it's good.\n\n113\n00:04:32.580 --> 00:04:35.730\nIt's just that we wanna make sure\nthat while we could definitely limit\n\n114\n00:04:35.730 --> 00:04:40.220\nthe definition just to Windows, if we're\ntalking about Microsoft related services,\n\n115\n00:04:40.220 --> 00:04:44.420\nspecifically in other words, the\nimplementation of federation being ADFS.\n\n116\n00:04:44.420 --> 00:04:45.835\nBut we do wanna understand more broadly\nthat it can be implemented outside of\n\n117\n00:04:45.835 --> 00:04:46.355\nthe Windows environment.\n\n118\n00:04:46.355 --> 00:04:48.234\n&gt;&gt; And that's probably just me,\n\n119\n00:04:48.234 --> 00:04:51.930\ncuz I tend to stick in my little\nMicrosoft bubble sometimes.\n\n120\n00:04:51.930 --> 00:04:54.925\nAnd I know that's just probably\nthe way I think, sometimes.\n\n121\n00:04:54.925 --> 00:05:00.280\n&gt;&gt; No, it's not just you, you know it's\na really good way seeing the world.\n\n122\n00:05:00.280 --> 00:05:03.950\nBut it's also in this conversation,\nwe want to do Microsoft centric.\n\n123\n00:05:03.950 --> 00:05:04.630\nIt's not a bad thing.\n\n124\n00:05:04.630 --> 00:05:07.274\nWe're talking about their implementation,\ntheir services.\n\n125\n00:05:07.274 --> 00:05:10.940\nTheir product, and we're talking about how\nyou get ready to certify to do this thing.\n\n126\n00:05:10.940 --> 00:05:12.870\nSo we wanna definitely be aware of that.\n\n127\n00:05:12.870 --> 00:05:16.130\nBut I'm just trying to make sure that we\nalso understand that we're not limiting\n\n128\n00:05:16.130 --> 00:05:19.860\nourselves just to Microsoft infrastructure\nas we talk about federation.\n\n129\n00:05:19.860 --> 00:05:21.890\nAll right, so\n&gt;&gt; [LAUGH] I get a high five?\n\n130\n00:05:21.890 --> 00:05:22.560\n&gt;&gt; High five.\n\n131\n00:05:22.560 --> 00:05:23.240\n&gt;&gt; Okay.\n\n132\n00:05:23.240 --> 00:05:25.040\n&gt;&gt; No it was good cuz that was\nthe exact definition we want,\n\n133\n00:05:25.040 --> 00:05:27.900\nit was just a matter of making sure\nthat we know that we should extend that,\n\n134\n00:05:27.900 --> 00:05:31.050\nmaybe if we're thinking about\nit in a larger perspective.\n\n135\n00:05:31.050 --> 00:05:33.420\nNot just limited to this\nconversation per say.\n\n136\n00:05:33.420 --> 00:05:34.780\nSo definitely worth a high five.\n\n137\n00:05:34.780 --> 00:05:36.270\nAll right.\nSo we've got some really cool stuff that\n\n138\n00:05:36.270 --> 00:05:37.380\ngoes on with federation.\n\n139\n00:05:37.380 --> 00:05:41.710\nWhat about some features that are new\nto Windows 16 and I kind of hinted in\n\n140\n00:05:41.710 --> 00:05:44.620\nthe last episode I said, hey there is\nsome new stuff there we'll get to it,\n\n141\n00:05:44.620 --> 00:05:46.820\nwe haven't really shown you or\ntalked about it.\n\n142\n00:05:46.820 --> 00:05:48.580\nWe just didn't have a chance\nin the last episode.\n\n143\n00:05:48.580 --> 00:05:51.090\nBut there is a quick list of\nsome things that are new.\n\n144\n00:05:51.090 --> 00:05:54.424\nADFS has been around for\na little bit now, this is not a brand,\n\n145\n00:05:54.424 --> 00:05:56.873\nbrand new thought process with Server 16.\n\n146\n00:05:56.873 --> 00:06:00.980\nAnd so as a result, you just wanna\nbe thinking about the logic of this.\n\n147\n00:06:00.980 --> 00:06:02.960\nMaybe just throw out one or\ntwo quick items for you.\n\n148\n00:06:02.960 --> 00:06:04.360\nGive me just a half a second.\n\n149\n00:06:04.360 --> 00:06:07.200\nI actually have a little list, but before\nwe put it up just give me half a second.\n\n150\n00:06:07.200 --> 00:06:10.240\nI still have to roll down to that part of\nmy notes here, just to make it easier for\n\n151\n00:06:10.240 --> 00:06:11.050\nyou to see.\n\n152\n00:06:11.050 --> 00:06:13.850\nSo, some new features, you wanna join\nme here, we'll just take a quick look,\n\n153\n00:06:13.850 --> 00:06:16.500\nit's just easier to put them up on the\nscreen sometimes than it is to just rattle\n\n154\n00:06:16.500 --> 00:06:18.590\nthem all off and\ntry to talk to you about them.\n\n155\n00:06:18.590 --> 00:06:22.080\nSo you can see there some new things\nthat are introduced in Server 16,\n\n156\n00:06:22.080 --> 00:06:25.290\nthere is a couple items up\nunder conditional access.\n\n157\n00:06:25.290 --> 00:06:28.030\nWe'll kind of scroll down just\nto make sure you aware of those.\n\n158\n00:06:28.030 --> 00:06:32.530\nBut we do have support for\na directory that is LDAP compliant,\n\n159\n00:06:32.530 --> 00:06:34.800\nas I was just mentioning with Cherokee.\n\n160\n00:06:34.800 --> 00:06:37.290\nWe can extend this out\nbeyond the Windows or\n\n161\n00:06:37.290 --> 00:06:40.630\nMicrosoft bubble,\nI liked how you provided that definition.\n\n162\n00:06:40.630 --> 00:06:43.600\nYeah, I'm kind of in my little bubble,\nmy little vision of the world.\n\n163\n00:06:43.600 --> 00:06:45.790\nIt's all Microsoft centric and pretty.\n\n164\n00:06:45.790 --> 00:06:47.660\nBut there is stuff going on outside, so\n\n165\n00:06:47.660 --> 00:06:50.630\nI just wanna acknowledge\nthat we are able to do that.\n\n166\n00:06:50.630 --> 00:06:54.830\nAnything that is LDAP v3 complaint can\nbe done and interacted with there.\n\n167\n00:06:54.830 --> 00:06:59.014\nThat extends out to things\nlike Sun's iPlanet, for\n\n168\n00:06:59.014 --> 00:07:03.597\ninstance, is their version\nof LDAP centric directory.\n\n169\n00:07:03.597 --> 00:07:06.450\n[INAUDIBLE] directory generically.\n\n170\n00:07:06.450 --> 00:07:09.120\nThere's all these other LDAP\nproviders that may be worthwhile.\n\n171\n00:07:09.120 --> 00:07:11.480\nWhen was the last time you heard\nsomeone talk about Novell?\n\n172\n00:07:11.480 --> 00:07:13.260\nThat's not something you hear every day.\n\n173\n00:07:13.260 --> 00:07:15.500\nAlthough there is still very\nviable set of solutions.\n\n174\n00:07:15.500 --> 00:07:18.360\n&gt;&gt; I think you were probably\nthe last person we were looking at\n\n175\n00:07:18.360 --> 00:07:21.000\nthe Active Directory structure.\n\n176\n00:07:21.000 --> 00:07:24.210\n&gt;&gt; I would probably mention things like\nNovell Z Directory and some of that stuff.\n\n177\n00:07:24.210 --> 00:07:25.140\nIt does come up.\n\n178\n00:07:25.140 --> 00:07:26.374\nYou want to be aware of it.\n\n179\n00:07:26.374 --> 00:07:28.340\nSome new factors of authentication.\n\n180\n00:07:28.340 --> 00:07:32.210\nWe can use Azure, multi-factor\nauthentication which is nice for\n\n181\n00:07:32.210 --> 00:07:35.510\nme to highlight there so you can see that.\n\n182\n00:07:35.510 --> 00:07:38.824\nYou're really extending into the cloud and\nthe cloud fabric and\n\n183\n00:07:38.824 --> 00:07:40.983\nthe capabilities associated with that.\n\n184\n00:07:40.983 --> 00:07:45.864\nWe've talked about this in some of the\nother areas, not necessarily specific to\n\n185\n00:07:45.864 --> 00:07:49.812\nthis particular episode or\nthis set of episodes around ADFS, but\n\n186\n00:07:49.812 --> 00:07:53.714\nI've mentioned Azure in some of\nthe areas we've talked about.\n\n187\n00:07:53.714 --> 00:07:58.160\nWe certainly talk a lot about it In\nsome areas where we think about and\n\n188\n00:07:58.160 --> 00:08:02.762\nfocus on cloud services, and\nbe able to extend not only identity, but\n\n189\n00:08:02.762 --> 00:08:07.300\nidentity management through\nthe Azure Fabric and link it with ABFS.\n\n190\n00:08:07.300 --> 00:08:10.260\nThat's a factor of authentication\nthat's very valuable to us.\n\n191\n00:08:10.260 --> 00:08:12.180\nSo wanna make sure we're aware of that.\n\n192\n00:08:12.180 --> 00:08:15.170\nWe do have some improvements here in\nAD test manager if we can kinda go\n\n193\n00:08:15.170 --> 00:08:17.150\nback just so\nyou can see what's behind me there.\n\n194\n00:08:17.150 --> 00:08:18.900\nI gotta wear my invisibility cloak so\n\n195\n00:08:18.900 --> 00:08:20.840\nthat when we do the screen in screen-\n&gt;&gt; [LAUGH]\n\n196\n00:08:20.840 --> 00:08:21.510\n&gt;&gt; I can just you know,\n\n197\n00:08:21.510 --> 00:08:22.460\nyou can actually see through me.\n\n198\n00:08:22.460 --> 00:08:26.080\nIf it was kind of opaque that would be\ncool cuz then, you can see me talking, but\n\n199\n00:08:26.080 --> 00:08:28.480\nthen you can actually still\nsee what's going on behind me.\n\n200\n00:08:28.480 --> 00:08:30.200\nThat whole Harry Potter thing.\n\n201\n00:08:30.200 --> 00:08:34.090\nSo anyway, application policies, we do\nhave the ability to be able to use these,\n\n202\n00:08:34.090 --> 00:08:36.000\ndelegated service management.\n\n203\n00:08:36.000 --> 00:08:39.740\nWe don't have to be a local server admin\nto be able to administer ADFS now,\n\n204\n00:08:39.740 --> 00:08:41.970\nwe could delegate that task and\nthat role out.\n\n205\n00:08:41.970 --> 00:08:43.520\nCuz up until 12 R2,\n\n206\n00:08:43.520 --> 00:08:47.620\nwe had to have writes on the system to\nbe able to administer it as a role.\n\n207\n00:08:47.620 --> 00:08:50.650\nWe don't have to do that anymore, so\nit's kind of nice, just a little change.\n\n208\n00:08:50.650 --> 00:08:54.720\nProbably, potentially a little pivot\npoint for some exam preparation there.\n\n209\n00:08:54.720 --> 00:08:56.520\nThey tend to ask about that kind of stuff.\n\n210\n00:08:56.520 --> 00:09:00.670\nHey, in this scenario, this version of the\nOS, you need to be configured this way.\n\n211\n00:09:00.670 --> 00:09:03.630\nYou don't need that anymore,\nso that's probably a good one.\n\n212\n00:09:03.630 --> 00:09:05.830\nJust to call out,\nwe'll highlight that for a second.\n\n213\n00:09:05.830 --> 00:09:07.110\nJust draw your attention to it.\n\n214\n00:09:07.110 --> 00:09:11.090\nIt's where we need the big flashing arrow\nthat comes in and says, hey, right here.\n\n215\n00:09:11.090 --> 00:09:14.090\nDid you ever see Yellow Submarine,\nthe Beatles movie?\n\n216\n00:09:14.090 --> 00:09:15.370\n&gt;&gt; No.\n&gt;&gt; With the hand,\n\n217\n00:09:15.370 --> 00:09:17.920\nthey would chase this animated huge hand?\n\n218\n00:09:17.920 --> 00:09:19.190\nThey would kind of chase and run around.\n\n219\n00:09:19.190 --> 00:09:21.760\n&gt;&gt; I do think I kind of\nlike the music video?\n\n220\n00:09:21.760 --> 00:09:23.390\n&gt;&gt; Yeah, something like that, yeah.\n\n221\n00:09:23.390 --> 00:09:25.820\nSo if we had that that would kind of\ncome on the screen and just point out.\n\n222\n00:09:25.820 --> 00:09:26.810\n&gt;&gt; You know what'd be kind of cool?\n\n223\n00:09:26.810 --> 00:09:27.780\n&gt;&gt; Yeah?\n&gt;&gt; Just wait for\n\n224\n00:09:27.780 --> 00:09:31.170\nthe day when we can actually\nbe little holograms and\n\n225\n00:09:31.170 --> 00:09:33.160\nthen Adam will be sitting next to you.\n\n226\n00:09:33.160 --> 00:09:34.590\n&gt;&gt; Like Tupac,\nI can be like the Tupac hologram.\n\n227\n00:09:34.590 --> 00:09:37.010\n&gt;&gt; Yeah, and he'll be taking to\nyou about federation services,\n\n228\n00:09:37.010 --> 00:09:40.228\nlike right on your little desk,\nor your hand or whatever.\n\n229\n00:09:40.228 --> 00:09:41.787\n[LAUGH]\n&gt;&gt; Can do that, yeah.\n\n230\n00:09:41.787 --> 00:09:42.732\nLike Princess Lea, I could just kind\nof [CROSSTALK] hand right there.\n\n231\n00:09:42.732 --> 00:09:44.621\n&gt;&gt; Yeah, like hey Adam.\n\n232\n00:09:44.621 --> 00:09:47.110\n[LAUGH]\n&gt;&gt; Be like an Adam in your pocket, or\n\n233\n00:09:47.110 --> 00:09:49.410\nan Adam in your hand kind of thing.\n\n234\n00:09:49.410 --> 00:09:51.730\nAll right, so ADFS, certainly lots\nof different things going on.\n\n235\n00:09:51.730 --> 00:09:53.305\nIf you take a look right behind me there.\n\n236\n00:09:53.305 --> 00:09:57.239\n[LAUGH] We could see that,\nyeah we do have as I mentioned,\n\n237\n00:09:57.239 --> 00:09:59.940\njust give us some bells and whistles.\n\n238\n00:09:59.940 --> 00:10:02.420\nLet me just bring conditional\naccess up here just so\n\n239\n00:10:02.420 --> 00:10:04.970\nwe can see that as well\ndown at the bottom.\n\n240\n00:10:04.970 --> 00:10:09.580\nWe have this idea of conditional access,\nwe can allow access for or from those\n\n241\n00:10:09.580 --> 00:10:14.220\nusers and those devices specifically for\nthose users that are managed with whatever\n\n242\n00:10:14.220 --> 00:10:17.535\nthe quote unquote corporate standard\nwould be, meaning a device that is\n\n243\n00:10:17.535 --> 00:10:22.840\ncorporate-enabled and managed, may be\nallowed to access a federation solution.\n\n244\n00:10:22.840 --> 00:10:26.115\nWhereas one that outside of that\nstandard may not be, right?\n\n245\n00:10:26.115 --> 00:10:28.225\nAnd we can now start to differentiate,\n\n246\n00:10:28.225 --> 00:10:31.705\nreally extending our device\nmanagement platform capabilities,\n\n247\n00:10:31.705 --> 00:10:35.195\nand seeing a lot of other threads\ncoming in to kinda come together here.\n\n248\n00:10:35.195 --> 00:10:38.705\nRestrict access to computers joined to the\ncorporate domain, so as a result again,\n\n249\n00:10:38.705 --> 00:10:40.605\ndomain join becomes really important.\n\n250\n00:10:40.605 --> 00:10:41.995\nIt's a thought process,\n\n251\n00:10:41.995 --> 00:10:47.355\nbecause now we can significantly limit\nour access to these environments,\n\n252\n00:10:47.355 --> 00:10:51.230\njust to infrastructure that's managed so\nwe don't have to worry about that.\n\n253\n00:10:51.230 --> 00:10:54.760\nAnd we can require MFA,\nmulti-factor authentication for\n\n254\n00:10:54.760 --> 00:10:58.920\ncomputers not joined to the domain\nif we choose to allow them access.\n\n255\n00:10:58.920 --> 00:11:01.380\nSo we can be conditional\nin a lot of different ways,\n\n256\n00:11:01.380 --> 00:11:04.810\nwhich does make this a much\nstronger solution for us.\n\n257\n00:11:04.810 --> 00:11:06.450\nSo, if you just want to be aware of that,\n\n258\n00:11:06.450 --> 00:11:09.960\njust be thinking about that, just give you\na quick preview of the environment we're\n\n259\n00:11:09.960 --> 00:11:11.670\ngonna start playing with\nhere in a couple minutes.\n\n260\n00:11:11.670 --> 00:11:13.880\nI'm just making sure we\nextend the lab timer so\n\n261\n00:11:13.880 --> 00:11:18.220\nwe don't lose our access to it, while\nwe are going to get ready to go in and\n\n262\n00:11:18.220 --> 00:11:20.310\nstart talking about how\nto configure things.\n\n263\n00:11:20.310 --> 00:11:24.060\nAnd if you'll remember, we went\nthrough this great vocabulary list.\n\n264\n00:11:24.060 --> 00:11:26.995\nI call it great because well I created it,\nso of course it's great.\n\n265\n00:11:26.995 --> 00:11:30.065\nBut we did do this last\ntime in the other episode.\n\n266\n00:11:30.065 --> 00:11:30.875\nI'm just reminding you of it,\n\n267\n00:11:30.875 --> 00:11:32.745\nI'm not gonna go back through\nall the definitions now.\n\n268\n00:11:32.745 --> 00:11:34.835\nBut encourage you to go take\na look at the show notes,\n\n269\n00:11:34.835 --> 00:11:36.945\ncuz we do provide these\nkind of documents for you.\n\n270\n00:11:36.945 --> 00:11:38.280\nYou can go grab them.\n\n271\n00:11:38.280 --> 00:11:39.630\nThe ADFS component list.\n\n272\n00:11:39.630 --> 00:11:42.200\nWe're gonna start\nconfiguring aspects of this.\n\n273\n00:11:42.200 --> 00:11:45.550\nWe talked a lot about how claims work,\nwhat they are, the attribute store,\n\n274\n00:11:45.550 --> 00:11:49.718\nwhich is where the claims are gonna be\nfound, traditionally the Active Directory,\n\n275\n00:11:49.718 --> 00:11:52.350\nADFS in Windows.\n\n276\n00:11:52.350 --> 00:11:55.290\nWe talked about claim providers,\nand relying parties.\n\n277\n00:11:55.290 --> 00:11:56.560\nWe talked about the provider trust,\n\n278\n00:11:56.560 --> 00:11:59.480\nthe relying party trust,\ncertificates and their value.\n\n279\n00:11:59.480 --> 00:12:02.970\nI'm gonna have a couple of things to say\njust quickly about certificates right now,\n\n280\n00:12:02.970 --> 00:12:04.810\nas we get started,\njust the different kinds.\n\n281\n00:12:04.810 --> 00:12:06.640\n&gt;&gt; What else could be left\non certificates Adam?\n\n282\n00:12:06.640 --> 00:12:09.150\n&gt;&gt; Well just the different kinds\nof certificates that are specific\n\n283\n00:12:09.150 --> 00:12:10.320\nto this environment.\n\n284\n00:12:10.320 --> 00:12:13.300\n&gt;&gt; I know, I'm just-\n&gt;&gt; Not per say the types of certificates,\n\n285\n00:12:13.300 --> 00:12:17.080\nbut more specifically the choices we\nmake around certificates we issue here.\n\n286\n00:12:17.080 --> 00:12:20.360\nYou're right, because we've done a lot on\ncertificates, probably there's not much\n\n287\n00:12:20.360 --> 00:12:24.350\nmore to say there, but on knowing we do\nneed different kinds of certificates.\n\n288\n00:12:24.350 --> 00:12:26.830\nSurface communication certificates,\nfor instance.\n\n289\n00:12:26.830 --> 00:12:29.870\nAny computer that's gonna\ncommunicate requires a certificate\n\n290\n00:12:29.870 --> 00:12:32.530\nof this type that is used for\nservice communication.\n\n291\n00:12:32.530 --> 00:12:34.610\nSo just wanna make sure\nwe're aware of that.\n\n292\n00:12:34.610 --> 00:12:37.630\nWe do need token signing certificates.\n\n293\n00:12:37.630 --> 00:12:40.800\nThese will be used to sign\nthe tokens that we are gonna use and\n\n294\n00:12:40.800 --> 00:12:45.800\nthe tokens are used, or issued rather I\nshould say by our Federation Server and\n\n295\n00:12:45.800 --> 00:12:48.830\nthose certificates are then gonna\nallow the tokens to be signed.\n\n296\n00:12:48.830 --> 00:12:52.620\nThey indicate which Federation Server\nissues the tokens so that's very important\n\n297\n00:12:52.620 --> 00:12:56.010\nto know and to be aware so let me just may\nbe just scroll a little bit what we're\n\n298\n00:12:56.010 --> 00:12:58.800\ntalking so those certificates\nare just kinda there on the master.\n\n299\n00:12:58.800 --> 00:13:00.440\nSo you could see them.\n\n300\n00:13:00.440 --> 00:13:01.690\nI did mention they're used for\n\n301\n00:13:01.690 --> 00:13:05.560\ntoken signing in my little\ndefinition here, right so we know,\n\n302\n00:13:05.560 --> 00:13:10.710\nthe token issuing process, to receiving\nprocess, the metadata publishing process.\n\n303\n00:13:10.710 --> 00:13:13.110\nWe have these certificate needs.\n\n304\n00:13:13.110 --> 00:13:17.010\nThey were assigning certificates and\nproviding functionality there, for\n\n305\n00:13:17.010 --> 00:13:20.390\nthese token decryption\ncertificates we used as well.\n\n306\n00:13:20.390 --> 00:13:22.900\nWe have to make sure we have those.\n\n307\n00:13:22.900 --> 00:13:26.530\nAnd when we think about issuing\ncertificates we have to make sure that we\n\n308\n00:13:26.530 --> 00:13:31.450\nunderstand that we may have, and\nindeed most likely will have a need\n\n309\n00:13:31.450 --> 00:13:35.680\nto issue certificates from a public CA,\nmeaning we may go out to a third party.\n\n310\n00:13:35.680 --> 00:13:39.220\nAnd we may contract to get certificates,\nand bring them in, and\n\n311\n00:13:39.220 --> 00:13:43.790\nuse them to establish one or more of the\nfunctionality items we're talking about,\n\n312\n00:13:43.790 --> 00:13:48.860\nbecause we may need to use a third-party,\nessentially an external trusted CA.\n\n313\n00:13:48.860 --> 00:13:50.090\nSo that both us and\n\n314\n00:13:50.090 --> 00:13:54.140\nour federation partner, as well as all\nthe other intermediaries, the users and\n\n315\n00:13:54.140 --> 00:13:57.010\nthe systems on either side,\nwill be able to trust those certificates.\n\n316\n00:13:57.010 --> 00:13:59.960\nBecause we go back to the idea\nof the Cherokee Company and\n\n317\n00:13:59.960 --> 00:14:02.330\nthe Adam Company, right,\nthat we talked about in the last episode.\n\n318\n00:14:02.330 --> 00:14:06.140\nAnd while Cherokee and Adam may agree\nthat we're gonna trust each other,\n\n319\n00:14:06.140 --> 00:14:10.620\nextend through Federation, the ability for\nusers and resources to get together and\n\n320\n00:14:10.620 --> 00:14:15.600\nessentially work, the problem may be\nthat when we're signing, initially,\n\n321\n00:14:15.600 --> 00:14:16.300\nthese certificates for\n\n322\n00:14:16.300 --> 00:14:19.970\nour own PKI infrastructure,\nit may make that more complicated.\n\n323\n00:14:19.970 --> 00:14:25.095\nNot for us per se, but for\nthird party users of our systems\n\n324\n00:14:25.095 --> 00:14:27.435\nthat have no way to know if they\nreally should trust us, right?\n\n325\n00:14:27.435 --> 00:14:29.895\nAnd they make it, that certificate or\nthat prompt and say well,\n\n326\n00:14:29.895 --> 00:14:35.575\nI don't know who this Cherokee root\nEnterprise CA PKI thing is, right?\n\n327\n00:14:35.575 --> 00:14:39.605\nI don't know if I should trust that\ncertificate, sounds a little bit odd,\n\n328\n00:14:39.605 --> 00:14:41.705\nmaybe you don't know who or what that is.\n\n329\n00:14:41.705 --> 00:14:45.320\nSo yeah, but if we get that certificate\nfrom RSA, from Vera Sign, from.\n\n330\n00:14:45.320 --> 00:14:47.940\nFrom whoever one of\nthose third parties are.\n\n331\n00:14:47.940 --> 00:14:48.850\n&gt;&gt; You get that reputation.\n\n332\n00:14:48.850 --> 00:14:49.830\n&gt;&gt; You get the reputation.\n\n333\n00:14:49.830 --> 00:14:51.740\nYou get the ability to really trust.\n\n334\n00:14:51.740 --> 00:14:54.770\nAnd we've talked about that idea\nof the inheritance of that trust,\n\n335\n00:14:54.770 --> 00:14:55.360\nand the value of it.\n\n336\n00:14:55.360 --> 00:14:57.200\nAnd so that's just an option to consider,\n\n337\n00:14:57.200 --> 00:15:00.870\njust wanna remind you about that fact,\nthat we do have the ability.\n\n338\n00:15:00.870 --> 00:15:03.890\n&gt;&gt; But then you have to pay them,\ntoo, that's the other thing.\n\n339\n00:15:03.890 --> 00:15:05.310\n&gt;&gt; Well you do, right.\nSo there's obviously pros and\n\n340\n00:15:05.310 --> 00:15:10.250\ncons with everything, but\nthe assumption would be that ability\n\n341\n00:15:10.250 --> 00:15:13.620\nto be able to leverage that third-party\ntrust is going to make it easier all\n\n342\n00:15:13.620 --> 00:15:16.820\nthroughout the chain of people who will\nhave to interact with those certificates.\n\n343\n00:15:16.820 --> 00:15:18.280\nTo be able to extend the trust and\n\n344\n00:15:18.280 --> 00:15:20.020\nactually make it something\nthat would make sense.\n\n345\n00:15:20.020 --> 00:15:21.750\nBut you're right,\nwe have to pay for that privilege.\n\n346\n00:15:21.750 --> 00:15:23.710\n&gt;&gt; But we pay for\nconvenience in a lot of ways in life, so.\n\n347\n00:15:23.710 --> 00:15:24.610\n&gt;&gt; We do, absolutely.\n\n348\n00:15:24.610 --> 00:15:27.670\nRight, so it is important for\nus just to consider those things.\n\n349\n00:15:27.670 --> 00:15:28.860\nSo just throwing them out there for you,\n\n350\n00:15:28.860 --> 00:15:30.960\njust some things to\njust maybe think about.\n\n351\n00:15:30.960 --> 00:15:33.160\nAll right, we talked about\nthe different federation server roles.\n\n352\n00:15:33.160 --> 00:15:35.070\nSome of them are up on this list, as well.\n\n353\n00:15:35.070 --> 00:15:40.210\nJust reminding you about them, the claim\nprovider, as I mentioned, claims provider.\n\n354\n00:15:40.210 --> 00:15:41.660\nLet me speak properly.\n\n355\n00:15:41.660 --> 00:15:45.540\nThe relying parties, right?\n\n356\n00:15:45.540 --> 00:15:47.060\nI've just pluralized both of them.\n\n357\n00:15:47.060 --> 00:15:48.500\nWe talked about what they are, there.\n\n358\n00:15:48.500 --> 00:15:50.978\nTalked about the web\napplication proxies as well.\n\n359\n00:15:50.978 --> 00:15:54.251\nWe'll have more to say about that later,\nbut remember, that's up here.\n\n360\n00:15:54.251 --> 00:15:56.334\nSo I put in all the different\nmoving parts and\n\n361\n00:15:56.334 --> 00:15:58.979\npieces Just to make sure\nwe're familiar with them, and\n\n362\n00:15:58.979 --> 00:16:02.880\nkinda what's gonna happen there and\nhow we're gonna put these to work.\n\n363\n00:16:02.880 --> 00:16:06.470\nThere is, aside from this document, just\nsome detail in the show notes that kind of\n\n364\n00:16:06.470 --> 00:16:08.710\ndoes summarize all these definitions.\n\n365\n00:16:08.710 --> 00:16:13.460\nBut puts them into the context of hey,\nhow we're gonna go do an install,\n\n366\n00:16:13.460 --> 00:16:17.310\nwhat we're gonna do I went through and\ndetailed out how we would set this up for\n\n367\n00:16:17.310 --> 00:16:18.820\nonline services, for instance.\n\n368\n00:16:18.820 --> 00:16:21.940\nAnd just walked you through\nthe logic of setting up the SSO,\n\n369\n00:16:21.940 --> 00:16:25.610\nsingle sign-on environment,\ndeploying into your on-prem, and\n\n370\n00:16:25.610 --> 00:16:28.670\nthen installing the ADFS roles,\nand then setting that up.\n\n371\n00:16:28.670 --> 00:16:31.940\nAnd then you would just kind of,\nwhat you would do there as a high level.\n\n372\n00:16:31.940 --> 00:16:36.390\nAs well as making sure that\nis you're gonna link out\n\n373\n00:16:36.390 --> 00:16:41.410\nspecifically with an on-prem and then\nhybrid environment out into the cloud,\n\n374\n00:16:41.410 --> 00:16:44.260\nbut you know that there are some\nMicrosoft tools that will be helpful.\n\n375\n00:16:44.260 --> 00:16:45.890\nAnd I make this note, I believe.\n\n376\n00:16:45.890 --> 00:16:48.180\nYeah, I did make a note in the show notes,\nI'm just looking.\n\n377\n00:16:48.180 --> 00:16:50.560\nI make this note in the show notes,\ngive me half a second.\n\n378\n00:16:50.560 --> 00:16:52.710\nI will show you what I mean by that.\n\n379\n00:16:52.710 --> 00:16:55.110\nBut I wanna just point it\nout to you specifically\n\n380\n00:16:55.110 --> 00:16:58.860\nthat when you go to the tool link,\nand I did provide the tool link.\n\n381\n00:16:58.860 --> 00:17:01.670\nRight here, so\nyou could see in the show notes.\n\n382\n00:17:01.670 --> 00:17:06.220\nBut I put right there that tool link, and\nif you're familiar with Office 365 you\n\n383\n00:17:06.220 --> 00:17:09.970\nwill probably notice that that\nis portal.office.com/tools.\n\n384\n00:17:09.970 --> 00:17:12.590\nI do point out here that in order to use\n\n385\n00:17:12.590 --> 00:17:14.670\nthe online tools that\nMicrosoft recommends.\n\n386\n00:17:14.670 --> 00:17:18.210\nThat you will use in order to be\nable to configure this system and\n\n387\n00:17:18.210 --> 00:17:22.220\nset it up so that it can be hosted and\nwork with Office 365.\n\n388\n00:17:22.220 --> 00:17:25.160\nYou must have an account to be\nable to get in to use the tools.\n\n389\n00:17:25.160 --> 00:17:28.700\nSo there's all this great documentation\nabout, go online, use the tools,\n\n390\n00:17:28.700 --> 00:17:32.310\nhere's what you do, but to get to the\ntools you gotta actually have an account.\n\n391\n00:17:32.310 --> 00:17:34.840\nSo you may try that URL, it may not work,\n\n392\n00:17:34.840 --> 00:17:37.890\nit will not work,\nin the sense that you must login.\n\n393\n00:17:37.890 --> 00:17:42.090\nIf you don't have a credential to do so,\nyou will not be able to see that.\n\n394\n00:17:42.090 --> 00:17:44.130\nSo just so you know, just so\nyou're aware of that.\n\n395\n00:17:44.130 --> 00:17:46.520\nBut assuming you have an account,\nyou can go through that.\n\n396\n00:17:46.520 --> 00:17:49.410\nAnd you will be able to get in and\nactually use the tools and\n\n397\n00:17:49.410 --> 00:17:50.730\nconfigure the system.\n\n398\n00:17:50.730 --> 00:17:54.210\nSo, I just walked you through the steps\nassociated with online configuration,\n\n399\n00:17:54.210 --> 00:17:55.980\njust so you know how to do that.\n\n400\n00:17:55.980 --> 00:17:58.850\nBut there is also a checklist\nthat will be helpful.\n\n401\n00:17:58.850 --> 00:18:00.050\nAnd give me just half a second.\n\n402\n00:18:00.050 --> 00:18:03.940\nI did apologize, forgot to grab the url,\neven though I have it right there.\n\n403\n00:18:03.940 --> 00:18:06.820\nBut let me just grab it out of the notes\nreal quick and just show this to you.\n\n404\n00:18:06.820 --> 00:18:11.810\nWe normally have these preloaded and I am\nashamed to say, I was not a good smee and\n\n405\n00:18:11.810 --> 00:18:13.710\na good Microsoft expert.\n\n406\n00:18:13.710 --> 00:18:16.765\nI forgot to load my url, so\nI'm falling down on the job today.\n\n407\n00:18:16.765 --> 00:18:18.280\n&gt;&gt; [LAUGH]\n&gt;&gt; But let me just put this in\n\n408\n00:18:18.280 --> 00:18:19.240\nhere real quick.\n\n409\n00:18:19.240 --> 00:18:22.410\nSo this is a URL you can get to.\n\n410\n00:18:22.410 --> 00:18:26.480\nYou will be able to use without having\nan O365 account, just so you know.\n\n411\n00:18:26.480 --> 00:18:30.440\nAlso by the way, it says, it's being\narchived not being maintained, and\n\n412\n00:18:30.440 --> 00:18:32.102\nthe date is a little old there.\n\n413\n00:18:32.102 --> 00:18:35.440\nJust to understand that while that is\nthe case, Cherokee mentioned the value of\n\n414\n00:18:35.440 --> 00:18:39.190\na checklist for doing some different\nthings in a couple of different shows\n\n415\n00:18:39.190 --> 00:18:41.460\nwho've done, it's a really great\nway of thinking about stuff.\n\n416\n00:18:41.460 --> 00:18:45.560\nI would encourage you to take a look here\nand just see and if we can can kinda just\n\n417\n00:18:45.560 --> 00:18:48.190\ngo back to full screen so\nyou can see whats going on behind me.\n\n418\n00:18:48.190 --> 00:18:51.810\nWhile, some of the steps may have\nchanged in the sense that, yeah,\n\n419\n00:18:51.810 --> 00:18:55.992\nmaybe the most latest iteration is going\nto have slightly different instruction\n\n420\n00:18:55.992 --> 00:18:57.220\nsteps associated with it.\n\n421\n00:18:57.220 --> 00:19:01.135\nThe idea of the checklist, the reason\nI like the URL is that it really walks\n\n422\n00:19:01.135 --> 00:19:05.065\nus through the logic of every single step,\nbreaks it down for us.\n\n423\n00:19:05.065 --> 00:19:06.285\n&gt;&gt; Break badly.\n\n424\n00:19:06.285 --> 00:19:08.773\n&gt;&gt; Yeah,\nI mean perhaps a little simplistically.\n\n425\n00:19:08.773 --> 00:19:13.082\nMake sure that you understand\nthe ADFS Terminology, plan before you do.\n\n426\n00:19:13.082 --> 00:19:15.862\nLook, those are all important things,\nbut you may be able to fast forward\n\n427\n00:19:15.862 --> 00:19:18.162\nthrough some of these just because\nyou have knowledge of stuff.\n\n428\n00:19:18.162 --> 00:19:19.602\nBut it's also a great way to study for\n\n429\n00:19:19.602 --> 00:19:22.792\nthe information necessary to\nbe successful on the exam.\n\n430\n00:19:22.792 --> 00:19:26.191\nRight, because kind of forces us\nto think about all the stages and\n\n431\n00:19:26.191 --> 00:19:26.851\nwhat we have to do.\n\n432\n00:19:26.851 --> 00:19:31.461\nAnd as I said, something like check\nthis particular link for 12R2.\n\n433\n00:19:31.461 --> 00:19:33.271\nObviously we're talking about Server 16,\n\n434\n00:19:33.271 --> 00:19:36.945\nthere may be updated information\nspecific to how would we deploy\n\n435\n00:19:36.945 --> 00:19:42.265\nthe Federation Server Form on a Version\n16 versus Version 12R2 system.\n\n436\n00:19:42.265 --> 00:19:43.665\nWe're gonna be walking through and\n\n437\n00:19:43.665 --> 00:19:47.535\nstarting to show you how to do some of\nthat here in the next couple of minutes.\n\n438\n00:19:47.535 --> 00:19:51.755\nBut I did try to include links to lot of\nsupporting areas that would be valuable\n\n439\n00:19:51.755 --> 00:19:52.715\nand helpful for you.\n\n440\n00:19:52.715 --> 00:19:56.795\nAs you can see as we kinda scroll down,\nand how do you use PowerShell, and\n\n441\n00:19:56.795 --> 00:19:59.317\nwhat can you do to setup\nthe trust between ADFS and\n\n442\n00:19:59.317 --> 00:20:01.830\nAzure AD really good to\ntake a look at that.\n\n443\n00:20:01.830 --> 00:20:04.340\nAnd again, there may be updated\ninformation about doing\n\n444\n00:20:04.340 --> 00:20:05.150\nsomething like this.\n\n445\n00:20:05.150 --> 00:20:08.470\nBecause, you know, the Azure platform\ndoes update on a pretty consistent and\n\n446\n00:20:08.470 --> 00:20:12.070\nregular basis, so you do just want to\nmake sure that you're aware of that.\n\n447\n00:20:13.104 --> 00:20:17.280\nBut generically, going through and\nlooking at some of these, and just either\n\n448\n00:20:17.280 --> 00:20:20.910\nlooking at the current information, or\nat least using it as a starting point.\n\n449\n00:20:20.910 --> 00:20:25.550\nAs you can see, it does show us\nall of the detailed information,\n\n450\n00:20:25.550 --> 00:20:28.670\nspecifically the PowerShell command\nthat's associated with configuration.\n\n451\n00:20:28.670 --> 00:20:29.840\nSo it would be a good idea for\n\n452\n00:20:29.840 --> 00:20:33.960\nyou to take a look, just have a better\nsense of how things are gonna run.\n\n453\n00:20:33.960 --> 00:20:38.300\nThis is a great way to review, as I said,\nall of the information necessary for\n\n454\n00:20:38.300 --> 00:20:41.440\nus to actually get started and\nkick off this process.\n\n455\n00:20:41.440 --> 00:20:44.070\nAnd speaking of getting started and\nkicking off\n\n456\n00:20:44.070 --> 00:20:44.690\n&gt;&gt; And kicking it off?\n\n457\n00:20:44.690 --> 00:20:47.560\n&gt;&gt; This process, let's just,\nlet me just kind of minimize everything.\n\n458\n00:20:47.560 --> 00:20:51.160\nSo, we do have a few minutes left in this\nparticular episode before we have to\n\n459\n00:20:51.160 --> 00:20:52.540\njump into a new one.\n\n460\n00:20:52.540 --> 00:20:53.280\nSo let's go ahead.\n\n461\n00:20:53.280 --> 00:20:54.560\nLet's at least begin the process,\n\n462\n00:20:54.560 --> 00:20:59.430\nkinda chip away at it just a little bit to\nget us down the road here to get started.\n\n463\n00:20:59.430 --> 00:21:04.770\nWe're gonna go ahead and show you how to\nstart installing and configuring ADFS,\n\n464\n00:21:04.770 --> 00:21:07.410\nand threatening to do that, we're\nactually gonna make good in our promise.\n\n465\n00:21:07.410 --> 00:21:09.480\nSo I've done a little\npre-work as I often do.\n\n466\n00:21:09.480 --> 00:21:12.210\nLet me explain to you just a couple\nof things that are going on here.\n\n467\n00:21:12.210 --> 00:21:14.850\nAnd give you a general idea of\nwhere we are and what we're doing.\n\n468\n00:21:14.850 --> 00:21:17.520\nSo you'll see I'm in PowerShell\non this particular machine.\n\n469\n00:21:17.520 --> 00:21:21.260\nWe scroll back up to the top so you can\nsee where we are and what we're doing.\n\n470\n00:21:21.260 --> 00:21:23.580\nI've gone ahead and\nI've used the Ad Windows feature cmdlet.\n\n471\n00:21:23.580 --> 00:21:25.685\nYou've seen me do this fairly often.\n\n472\n00:21:25.685 --> 00:21:27.865\nI've installed the web server feature.\n\n473\n00:21:27.865 --> 00:21:29.685\nNow not enough tools have been installed.\n\n474\n00:21:29.685 --> 00:21:32.175\nI've gone ahead and\nI've just check the host name,\n\n475\n00:21:32.175 --> 00:21:34.655\njust to make sure I know what machine\nwill work and accept the three or\n\n476\n00:21:34.655 --> 00:21:37.705\nfour consoles with different\nrules open for different things.\n\n477\n00:21:37.705 --> 00:21:42.875\nYou may see that but that's not anything\nthat we have to do to do a configuration.\n\n478\n00:21:42.875 --> 00:21:46.065\nThat's just me being careful and\ndetail-oriented.\n\n479\n00:21:46.065 --> 00:21:50.600\nI talked about in one of our prior\nepisodes in a different topic area,\n\n480\n00:21:50.600 --> 00:21:54.730\nthe use of the Add-KdsRootKey feature.\n\n481\n00:21:54.730 --> 00:21:56.700\nYou see it right there, the cmdlet.\n\n482\n00:21:56.700 --> 00:22:00.640\nAnd I used it when we were setting up\nmanaged service accounts to show you how\n\n483\n00:22:00.640 --> 00:22:03.500\nto generate the key that is necessary for\n\n484\n00:22:03.500 --> 00:22:06.860\nus to then be able to create the MSAs or\nGMSAs.\n\n485\n00:22:06.860 --> 00:22:09.210\nThe Group Manage Service Accounts or\nManage Service Accounts.\n\n486\n00:22:09.210 --> 00:22:12.020\nIf you haven't seen that\nepisode don't remember that.\n\n487\n00:22:12.020 --> 00:22:13.940\nIt's not something that's\ncoming to mind right now.\n\n488\n00:22:13.940 --> 00:22:15.330\nDefinitely wanna go take a look at that.\n\n489\n00:22:15.330 --> 00:22:19.150\nNot just to help you understand what we're\ndoing here, I'll explain it real quick.\n\n490\n00:22:19.150 --> 00:22:22.640\nBut it's gonna be important cuz it\nis an exam objective, how to use and\n\n491\n00:22:22.640 --> 00:22:24.160\nwork with Managed Service Accounts.\n\n492\n00:22:24.160 --> 00:22:26.910\nWe did a pretty good,\nthorough discussion of how to do that and\n\n493\n00:22:26.910 --> 00:22:29.700\nshowed you how to create\nthem using PowerShell.\n\n494\n00:22:29.700 --> 00:22:31.270\nSo I wanna make sure you\njust remember that and\n\n495\n00:22:31.270 --> 00:22:33.200\nmake that linkage while we're here.\n\n496\n00:22:33.200 --> 00:22:36.470\nWe go back full screen just so you can see\nthe edge that's being cutoff right now.\n\n497\n00:22:36.470 --> 00:22:38.942\nAnd that way I can make faces to Cherokee\nwhile you guys are not watching,\n\n498\n00:22:38.942 --> 00:22:39.500\nand\n&gt;&gt; [LAUGH]\n\n499\n00:22:39.500 --> 00:22:40.380\n&gt;&gt; You don't necessarily\n\n500\n00:22:40.380 --> 00:22:40.970\nsee what's going on.\n\n501\n00:22:40.970 --> 00:22:43.240\nAll right, wouldn't it be great if\nit was just like a recording of\n\n502\n00:22:43.240 --> 00:22:43.750\nyou and I\n&gt;&gt; I know.\n\n503\n00:22:43.750 --> 00:22:44.810\n&gt;&gt; While we're in fullscreen?\n\n504\n00:22:44.810 --> 00:22:46.120\n&gt;&gt; I was gonna say,\neven if Cherokee's here.\n\n505\n00:22:46.120 --> 00:22:47.590\n&gt;&gt; Cuz, yeah, we could be out like getting\n\n506\n00:22:47.590 --> 00:22:48.126\ncoffee\n&gt;&gt; [LAUGH]\n\n507\n00:22:48.126 --> 00:22:48.790\n&gt;&gt; Right now and nobody would\n\n508\n00:22:48.790 --> 00:22:49.750\n&gt;&gt; Except for the fact that\n\n509\n00:22:49.750 --> 00:22:51.570\nhe keeps putting the box in box back up.\n\n510\n00:22:51.570 --> 00:22:54.630\nBut if we weren't here you wouldn't\nreally know if we had just a recording.\n\n511\n00:22:54.630 --> 00:22:57.710\nWe are here, by the way, you could\nsee us talking in the background.\n\n512\n00:22:57.710 --> 00:23:00.820\nAll right, so Add-KdsRootKey,\nwhat do we have going on here?\n\n513\n00:23:00.820 --> 00:23:03.570\nThis generates, and you can see\nthe rootkey is right down here.\n\n514\n00:23:03.570 --> 00:23:07.806\nThis generates a KDS key for us which then\nwill allow us to be able to do things like\n\n515\n00:23:07.806 --> 00:23:09.719\ncreate a Managed Service Account.\n\n516\n00:23:09.719 --> 00:23:13.090\nWhich will become, will do\na Group Management Service Account but\n\n517\n00:23:13.090 --> 00:23:16.550\nwill become part of the overall\nprocess of configuring ADFS.\n\n518\n00:23:16.550 --> 00:23:19.420\nI just double check to make\nsure the root key was created.\n\n519\n00:23:19.420 --> 00:23:23.960\nWe do see output of it when we\nrun the command but I use the get\n\n520\n00:23:23.960 --> 00:23:27.760\nkey DS root key PowerShell command right\nafter I add it just to double check on it.\n\n521\n00:23:27.760 --> 00:23:28.850\nMake sure it is there.\n\n522\n00:23:28.850 --> 00:23:31.720\nI can see it is setup and\ninstantiated so it's good to go.\n\n523\n00:23:31.720 --> 00:23:34.770\nAnd so once we've done that,\nand by the way just so\n\n524\n00:23:34.770 --> 00:23:39.950\nyou're not thrown by this right,\n0109 this is not day and month.\n\n525\n00:23:39.950 --> 00:23:43.370\nBut rather, this is right, excuse me,\nthis is day and month rather not month and\n\n526\n00:23:43.370 --> 00:23:46.520\nday the way we maybe used to sing so\nthat's September first.\n\n527\n00:23:46.520 --> 00:23:47.835\nAs opposed to January 9th, right?\n\n528\n00:23:47.835 --> 00:23:49.950\n[LAUGH] Just to make sure\nyou're familiar with that.\n\n529\n00:23:49.950 --> 00:23:52.082\nOther than you may say,\nyou may look at that and go,\n\n530\n00:23:52.082 --> 00:23:54.573\nwhy does he have a key that's\neffective from January 9th?\n\n531\n00:23:54.573 --> 00:23:57.407\nIf you realize that, if you're watching,\nwe may be shooting this\n\n532\n00:23:57.407 --> 00:24:00.746\na little bit later, cuz you could see\nthe time right down there, and the date,\n\n533\n00:24:00.746 --> 00:24:02.130\nand see that it is September 1.\n\n534\n00:24:02.130 --> 00:24:05.270\nAll right, so we did all this,\nthen we went ahead.\n\n535\n00:24:05.270 --> 00:24:09.230\nI added windowsFeature,\nadded in the adfs-federation feature,\n\n536\n00:24:09.230 --> 00:24:12.180\nwhich is what we're Here to talk about,\nincluding the management tools.\n\n537\n00:24:12.180 --> 00:24:14.655\nWent through, did the initial install,\nwhich was very, very quick.\n\n538\n00:24:14.655 --> 00:24:17.648\nBut then it says, hey,\nto finish configuring this server,\n\n539\n00:24:17.648 --> 00:24:21.244\nmake sure you either follow this URL,\nwhich you can go out and read up on.\n\n540\n00:24:21.244 --> 00:24:24.151\nWhich would just show you what I'm\nabout to walk through with you.\n\n541\n00:24:24.151 --> 00:24:26.920\nWhich would tell you to come\nback into Server Manager,\n\n542\n00:24:26.920 --> 00:24:29.980\nnotice our notification\ncaution flag up there, right?\n\n543\n00:24:29.980 --> 00:24:34.400\nI'm gonna click there, and you'll see that\nit says Post Deployment Configuration.\n\n544\n00:24:34.400 --> 00:24:37.260\nConfigure the Federation Service\non this server.\n\n545\n00:24:37.260 --> 00:24:40.152\nSo we're gonna go ahead and\nwe're gonna start in on that process.\n\n546\n00:24:40.152 --> 00:24:42.280\nWe're gonna get a little\nwizard that will come up.\n\n547\n00:24:42.280 --> 00:24:45.990\nLet me move that up, so we center that and\nsee what's going on there.\n\n548\n00:24:45.990 --> 00:24:52.250\nNotice our target server PlaidDC01,\nso we are on this machine.\n\n549\n00:24:52.250 --> 00:24:54.850\nAnd we're gonna go through,\nalthough ADFS shows up here,\n\n550\n00:24:54.850 --> 00:24:56.990\nbecause we've done the initial install.\n\n551\n00:24:56.990 --> 00:24:58.580\nWe're gonna configure it now.\n\n552\n00:24:58.580 --> 00:25:00.550\nSo we're gonna go ahead,\nrun through the wizard.\n\n553\n00:25:00.550 --> 00:25:03.000\nWelcome to\nADFS Configuration Services Wizard.\n\n554\n00:25:03.000 --> 00:25:07.790\nBefore you begin, make sure you have an\nADDS domain administrator account, we do.\n\n555\n00:25:07.790 --> 00:25:12.780\nA publicly trusted certificate for\nSSL server authentication.\n\n556\n00:25:12.780 --> 00:25:16.480\nI talked about the need to potentially\ngo out and get that public certificate,\n\n557\n00:25:16.480 --> 00:25:18.840\nso we have talked about that already.\n\n558\n00:25:18.840 --> 00:25:21.360\nWe're gonna cheat a little bit and\nuse one that was signed internally, but\n\n559\n00:25:21.360 --> 00:25:22.520\nthat's okay.\n\n560\n00:25:22.520 --> 00:25:24.050\nYou could do either one.\n\n561\n00:25:24.050 --> 00:25:25.660\nAll right, so\nwe do have prereqs here, right?\n\n562\n00:25:25.660 --> 00:25:30.220\nSo if you were unsure what to do,\nyou could click on the prereq link.\n\n563\n00:25:30.220 --> 00:25:34.080\nTakes us out, which is always important\nto be aware of, and does show us\n\n564\n00:25:34.080 --> 00:25:39.030\nthe requirements, certificates,\nhardware, proxy, ADDS itself.\n\n565\n00:25:39.030 --> 00:25:42.090\nA database requirements,\nbrowser requirements, etc.\n\n566\n00:25:42.090 --> 00:25:44.939\nSo it does show us all\nthe different recommendations and\n\n567\n00:25:44.939 --> 00:25:46.462\nrequirements that are here.\n\n568\n00:25:46.462 --> 00:25:50.433\nSo we will see that we're going to\nhave a very good authoritative and\n\n569\n00:25:50.433 --> 00:25:52.322\nthorough list up to the minute.\n\n570\n00:25:52.322 --> 00:25:56.212\nIn this case, a little bit more\nfunctionally since it is focused on\n\n571\n00:25:56.212 --> 00:25:59.040\nServer 16 with the latest information.\n\n572\n00:25:59.040 --> 00:26:01.360\nSo I encourage you to take\na look at that link and\n\n573\n00:26:01.360 --> 00:26:03.530\njust make sure you're\ncomfortable with what's there.\n\n574\n00:26:03.530 --> 00:26:06.360\nThat way you can see all\nthe different types we talked about.\n\n575\n00:26:06.360 --> 00:26:08.820\nToken Signing Certificate is there.\n\n576\n00:26:08.820 --> 00:26:10.238\nTalks about what it is.\n\n577\n00:26:10.238 --> 00:26:13.360\nThe Encrypting, Decrypting Certificate,\nI mentioned the token encryption,\n\n578\n00:26:13.360 --> 00:26:16.430\ndecryption as well, there's my prompt.\n\n579\n00:26:16.430 --> 00:26:20.210\nLet me just click there real quick so\nwe can set that, so we have that.\n\n580\n00:26:21.230 --> 00:26:23.670\nAnd it does tell us here,\na good caution to be aware of.\n\n581\n00:26:23.670 --> 00:26:25.910\nStuff gets used for\ntoken signing and token decrypt,\n\n582\n00:26:25.910 --> 00:26:29.040\nencrypt are critical, right,\nto our functionality.\n\n583\n00:26:29.040 --> 00:26:33.160\nCustomers managing their own certificates\nshould ensure these are backed up and\n\n584\n00:26:33.160 --> 00:26:33.840\navailable.\n\n585\n00:26:33.840 --> 00:26:36.920\nIn other words,\nif you're not using a third party PKI and\n\n586\n00:26:36.920 --> 00:26:39.400\nyou're doing it yourself,\nwhich we will be doing, which is fine.\n\n587\n00:26:39.400 --> 00:26:43.300\nThey're just reminding us of the fact\nthat if we don't practice safe\n\n588\n00:26:43.300 --> 00:26:46.200\nPKI administration,\nwe don't back up our certificates.\n\n589\n00:26:46.200 --> 00:26:49.520\nAnd they are somehow compromised,\nwe can't restore them, or\n\n590\n00:26:49.520 --> 00:26:53.360\ndon't have access to them, our ADFS\ninfrastructure comes crashing down.\n\n591\n00:26:53.360 --> 00:26:57.210\nAnd so, that is important for us just\nas a cautionary tale to be aware of.\n\n592\n00:26:57.210 --> 00:26:59.260\nSo just make sure you're aware of that.\n\n593\n00:26:59.260 --> 00:27:02.000\nUser certificates are here,\nhardware requirements.\n\n594\n00:27:02.000 --> 00:27:06.000\nNow I actually would recommend, especially\nif you're gonna do this in the real world,\n\n595\n00:27:06.000 --> 00:27:08.620\nand you can see this capacity\nplanning spreadsheet is here.\n\n596\n00:27:08.620 --> 00:27:12.976\nNow I actually have a copy of this, and\nwe can associate it with the show notes,\n\n597\n00:27:12.976 --> 00:27:14.891\nit is sitting right here, right?\n\n598\n00:27:14.891 --> 00:27:18.623\nI do have it here, just so\nyou can see quickly what it looks like.\n\n599\n00:27:18.623 --> 00:27:20.305\nI'm just gonna bring it up for\njust a moment.\n\n600\n00:27:20.305 --> 00:27:25.544\nAnd I use this with my customers when I\nhave to do ADFS-related work with them and\n\n601\n00:27:25.544 --> 00:27:29.580\nhelp them to have a better sense\nof how we can plan for this.\n\n602\n00:27:29.580 --> 00:27:33.750\nAnd you can see, if you've ever used any\nof the Microsoft planning tools before.\n\n603\n00:27:33.750 --> 00:27:39.240\nIt's just a fancy spreadsheet with\na bunch of pre-work done by somebody.\n\n604\n00:27:39.240 --> 00:27:41.260\nThe people that make these\nthings work very hard and\n\n605\n00:27:41.260 --> 00:27:44.410\nmake them work the right way, and\nmake them relatively effortless to use.\n\n606\n00:27:44.410 --> 00:27:47.680\nSo we do wanna thank whoever put\nthis together, it's a great tool.\n\n607\n00:27:47.680 --> 00:27:50.840\nThere's a data tab that fills in or\n\n608\n00:27:50.840 --> 00:27:53.730\nfeeds all of the fields\nthat we're gonna use here.\n\n609\n00:27:53.730 --> 00:27:56.530\nLabeled, Do Not Modify, for\nhopefully obvious reasons,\n\n610\n00:27:56.530 --> 00:27:58.740\ncuz you mess that up you\nmess up the spreadsheet.\n\n611\n00:27:58.740 --> 00:28:03.350\nBut the idea is that we can then go in,\nstart to put some values in here and\n\n612\n00:28:03.350 --> 00:28:04.270\nstart to scale up and\n\n613\n00:28:04.270 --> 00:28:08.680\nfigure out exactly what we need in\nterms of our scaled infrastructure.\n\n614\n00:28:08.680 --> 00:28:11.960\nSo the total recommended number of servers\ndown here and how they're gonna set up\n\n615\n00:28:11.960 --> 00:28:15.480\nalong with their database information\nwill be the output of this.\n\n616\n00:28:15.480 --> 00:28:17.030\nYou definitely wanna\ntake a look into this.\n\n617\n00:28:17.030 --> 00:28:19.210\nThis is a really valuable tool.\n\n618\n00:28:19.210 --> 00:28:21.940\nAnd it is available from here.\n\n619\n00:28:21.940 --> 00:28:26.800\nIt is available, if you just go out and\nGoogle for ADFS 2016 capacity planning\n\n620\n00:28:26.800 --> 00:28:29.810\nspreadsheet, you'll find the link,\nyou download it separately.\n\n621\n00:28:29.810 --> 00:28:32.190\nYou get it from the show notes,\nget it from us, right?\n\n622\n00:28:32.190 --> 00:28:33.490\nIt's gonna be posted there.\n\n623\n00:28:33.490 --> 00:28:36.601\nBut the reason I'm suggesting you go\nout and get the most recent copy,\n\n624\n00:28:36.601 --> 00:28:39.922\nis the copy I'm gonna post in the show\nnotes is a copy that was the most recent\n\n625\n00:28:39.922 --> 00:28:41.945\none at the type we put\nthis episode together.\n\n626\n00:28:41.945 --> 00:28:44.779\nYou may be watching this,\nwho knows, six months, a year,\n\n627\n00:28:44.779 --> 00:28:46.947\nperhaps even longer than\nthat down the road.\n\n628\n00:28:46.947 --> 00:28:49.281\nAnd that spreadsheet is bound\nto change over time, and\n\n629\n00:28:49.281 --> 00:28:52.887\nif you get the most recent version with\nthe updated hardware requirements, you'll\n\n630\n00:28:52.887 --> 00:28:56.055\nobviously be in a much better position\nto use into the real world, right?\n\n631\n00:28:56.055 --> 00:28:58.135\nIt's just the tools, so\njust be aware of that.\n\n632\n00:28:58.135 --> 00:29:00.149\nWe do have some basic\nrecommendations here,\n\n633\n00:29:00.149 --> 00:29:03.705\nSQL server hardware recommendations\nare important, pay attention to those.\n\n634\n00:29:03.705 --> 00:29:07.755\nI've got a couple little links in the show\nnotes that's setting up highly available\n\n635\n00:29:07.755 --> 00:29:11.536\nand scalable database structures to\nback ADFS, with regards to clustering.\n\n636\n00:29:11.536 --> 00:29:13.540\nSo those may be worthwhile for\nyou to take a look at.\n\n637\n00:29:13.540 --> 00:29:15.030\nSo just a lot of stuff in here,\n\n638\n00:29:15.030 --> 00:29:18.180\nyou can obviously go through this and\nmake heads or tails of it on your own.\n\n639\n00:29:18.180 --> 00:29:24.130\nAll right, so having said that, let me\nbring the right idea, wrong, minimize.\n\n640\n00:29:24.130 --> 00:29:25.080\nLet's bring that back up,\n\n641\n00:29:25.080 --> 00:29:27.500\nlet's actually get through\nthe initial part of this wizard.\n\n642\n00:29:27.500 --> 00:29:31.950\nSo we're gonna go ahead, we're going\nto get off of this initial screen.\n\n643\n00:29:31.950 --> 00:29:35.980\nYou'll see here, select an option below,\ncreate the first federation server\n\n644\n00:29:35.980 --> 00:29:40.000\nin the farm and, or add a federation\nserver to an existing farm.\n\n645\n00:29:40.000 --> 00:29:44.489\nNow we call this when we do this\ninitially and as we set this up.\n\n646\n00:29:44.489 --> 00:29:48.091\nWhen we run this, what we are doing is\nwe're establishing this it says there,\n\n647\n00:29:48.091 --> 00:29:48.973\nright, our farm.\n\n648\n00:29:48.973 --> 00:29:53.972\nAnd what we are going to do is, we\nare going to essentially create the first\n\n649\n00:29:53.972 --> 00:29:57.020\nserver and then extend that out over time.\n\n650\n00:29:57.020 --> 00:30:00.070\nSo we'll just accept the defaults here.\n\n651\n00:30:00.070 --> 00:30:04.070\nAnd by the way, Azure Active Directory,\nconnect a link for\n\n652\n00:30:04.070 --> 00:30:07.119\nthat back to Office 365 down here as well.\n\n653\n00:30:07.119 --> 00:30:09.180\nWe're gonna go to ConnectADDS.\n\n654\n00:30:09.180 --> 00:30:11.529\nThis is where we have to\nprovide our credential,\n\n655\n00:30:11.529 --> 00:30:13.430\nif we don't have the appropriate one.\n\n656\n00:30:13.430 --> 00:30:15.040\nSo we're just gonna make sure.\n\n657\n00:30:15.040 --> 00:30:18.310\nIn this case, we're doing our\npractice labs admin credential there.\n\n658\n00:30:18.310 --> 00:30:19.780\nThat's our domain admin.\n\n659\n00:30:19.780 --> 00:30:21.160\nSo we're gonna be doing that.\n\n660\n00:30:21.160 --> 00:30:24.900\nThen we're gonna go ahead and we're\ngonna specify our service properties.\n\n661\n00:30:24.900 --> 00:30:25.930\nWe're not gonna make a change here.\n\n662\n00:30:25.930 --> 00:30:27.600\nWe'll accept the default.\n\n663\n00:30:27.600 --> 00:30:30.910\nWe're gonna specify our service\nproperties, our SSL certificate.\n\n664\n00:30:30.910 --> 00:30:33.570\nThis is where certificates start\nto come in, our service name for\n\n665\n00:30:33.570 --> 00:30:35.350\nthe federation and the display name.\n\n666\n00:30:35.350 --> 00:30:36.850\nSo we're gonna go ahead here.\n\n667\n00:30:36.850 --> 00:30:39.710\nAnd we are going to click and pull down,\n\n668\n00:30:39.710 --> 00:30:44.660\nbecause I already have some certificates\npre-staged and available for me to use.\n\n669\n00:30:44.660 --> 00:30:45.835\nAnd so, you'll see I have two there.\n\n670\n00:30:45.835 --> 00:30:50.600\nPlaidDC, practice labs.com.\n\n671\n00:30:50.600 --> 00:30:52.410\nOne big, one small.\n\n672\n00:30:52.410 --> 00:30:56.905\nSo we're gonna go ahead, and\nwe're gonna select this smaller one here.\n\n673\n00:30:56.905 --> 00:31:00.429\nAnd the reason I know it's the right one,\nis that it populates and\n\n674\n00:31:00.429 --> 00:31:03.828\nsays adfspracticelabs.com for\nmy federation service name,\n\n675\n00:31:03.828 --> 00:31:07.548\nbecause I've named the service\nalready behind the scenes, created\n\n676\n00:31:07.548 --> 00:31:12.060\nthe certificates that are necessary by\ngoing into the certificate architecture.\n\n677\n00:31:12.060 --> 00:31:15.054\nSo the certificate\nauthority in the domain,\n\n678\n00:31:15.054 --> 00:31:18.216\nin this case in\nthe practicelabs.com domain.\n\n679\n00:31:18.216 --> 00:31:22.606\nI've used the root certificate authority,\nthe enterprise root CA.\n\n680\n00:31:22.606 --> 00:31:25.244\nI've gone ahead and\nestablished a certificate template,\n\n681\n00:31:25.244 --> 00:31:28.989\nand I've issued a certificate and already\nbound that certificate to the machine and\n\n682\n00:31:28.989 --> 00:31:30.410\nmade it available.\n\n683\n00:31:30.410 --> 00:31:34.090\nWe've talked about how to do all these\nthings in prior conversations around\n\n684\n00:31:34.090 --> 00:31:37.300\nthe ADCS infrastructure that we've\nbeen through the certificate services.\n\n685\n00:31:37.300 --> 00:31:40.432\nSo I'm just not showing that whole\npart of this because we've really\n\n686\n00:31:40.432 --> 00:31:43.574\nwalked through the logic of how to\ndo those pieces in other episodes.\n\n687\n00:31:43.574 --> 00:31:46.790\nBut we're just referencing it here,\nso that you see and understand and\n\n688\n00:31:46.790 --> 00:31:50.585\nknow that that certificate does exist and\nyou see where it's coming from.\n\n689\n00:31:50.585 --> 00:31:53.754\nAnd if i needed to import a certificate,\nnotice I could grab one and\n\n690\n00:31:53.754 --> 00:31:54.837\nimport it right here.\n\n691\n00:31:54.837 --> 00:31:56.720\nAdding it in if I needed to.\n\n692\n00:31:56.720 --> 00:32:01.618\nI've just prestaged mine and I could see\nthe certificate if I wasn't sure which\n\n693\n00:32:01.618 --> 00:32:05.140\none I needed to use I could just come and\ntake a quick look.\n\n694\n00:32:05.140 --> 00:32:07.020\nAnd we've done this in other episodes.\n\n695\n00:32:07.020 --> 00:32:12.234\nIt is issued, as you can see,\nby the PracticeLabs v01CA issued to,\n\n696\n00:32:12.234 --> 00:32:14.520\nthe DC01 machine.\n\n697\n00:32:14.520 --> 00:32:16.610\nSo, issue to, the domain controller there.\n\n698\n00:32:16.610 --> 00:32:20.060\nIt shows identity of a remote computer,\ngot some details there.\n\n699\n00:32:20.060 --> 00:32:23.120\nSee the certification path,\neverything is good.\n\n700\n00:32:23.120 --> 00:32:26.810\nSo we have all that, so that's how we\nknow we're using the right instance.\n\n701\n00:32:26.810 --> 00:32:28.170\nAnd then, our display name, well,\n\n702\n00:32:28.170 --> 00:32:31.890\nthat's just really what we want to see\nas we go to references and manager.\n\n703\n00:32:31.890 --> 00:32:36.800\nYou can name this anything you'd like\nmetadata descriptor tag, but we're gonna\n\n704\n00:32:36.800 --> 00:32:40.630\ngo ahead and call this something that\nroughly approximates what it is.\n\n705\n00:32:40.630 --> 00:32:45.376\nSo I'm gonna do practice labs federation\nservice so we can keep track.\n\n706\n00:32:45.376 --> 00:32:47.460\nWe have a general sense\nof what it's gonna do.\n\n707\n00:32:47.460 --> 00:32:51.390\nSo you'll label that obviously whatever\nyou think would make the most sense.\n\n708\n00:32:51.390 --> 00:32:54.640\nSo practice labs federation service\nIs what I'm going to call mine.\n\n709\n00:32:54.640 --> 00:32:55.700\nWe'll click, Next.\n\n710\n00:32:55.700 --> 00:32:57.140\nSpecify the service account here.\n\n711\n00:32:57.140 --> 00:32:59.560\nNotice it gives us a domain prompt, so\n\n712\n00:32:59.560 --> 00:33:02.950\nwe have to then specify what\nour service account will be.\n\n713\n00:33:02.950 --> 00:33:06.890\nNow it says create a group service\naccount, I mentioned MSA or GMSAs,\n\n714\n00:33:06.890 --> 00:33:09.285\ngroup managed service account before.\n\n715\n00:33:09.285 --> 00:33:13.015\nThe idea of a managed service account\nis an account that we will use, create.\n\n716\n00:33:13.015 --> 00:33:17.475\nIt will be in the Active Directory in a\ncontainer called managed service accounts,\n\n717\n00:33:17.475 --> 00:33:19.785\nthat we can see with\nthe advanced features view.\n\n718\n00:33:19.785 --> 00:33:21.625\nWe showed you how to do all that.\n\n719\n00:33:21.625 --> 00:33:26.600\nAnd we said that those accounts become\naccounts that we can delegate to.\n\n720\n00:33:26.600 --> 00:33:30.460\nThey are controlled as service\naccounts by the Active Directory and\n\n721\n00:33:30.460 --> 00:33:34.620\nused on our behalf in this case,\nwhatever group MSA we will create here.\n\n722\n00:33:34.620 --> 00:33:37.445\nWhatever we decide to name it,\nwill be created and\n\n723\n00:33:37.445 --> 00:33:40.675\nwill then be given delegated\nresponsibility of becoming\n\n724\n00:33:40.675 --> 00:33:44.055\nthe service account that will\nbe used on behalf of the ADFS.\n\n725\n00:33:44.055 --> 00:33:47.835\nSo we're creating just an updated version\nof a traditional service account.\n\n726\n00:33:47.835 --> 00:33:52.685\nWe just call them managed service\naccounts if they are singular one account\n\n727\n00:33:52.685 --> 00:33:57.325\non this machine locally, not delegated,\nnot shared by multiple machines.\n\n728\n00:33:57.325 --> 00:34:00.750\nWe want to have whats called a group\nmanaged service account, a GMSA.\n\n729\n00:34:00.750 --> 00:34:02.230\nThat is the same idea.\n\n730\n00:34:02.230 --> 00:34:05.290\nIt is an managed service account but\nit's one that can be shared among multiple\n\n731\n00:34:05.290 --> 00:34:08.890\nmachines in the directory, and so\ncan be used by more than one machine.\n\n732\n00:34:08.890 --> 00:34:12.660\nIt's not local or limited to just\nthat one instance that we install.\n\n733\n00:34:12.660 --> 00:34:16.620\nWe're gonna use a G, a group managed\nservice account here because we need this\n\n734\n00:34:16.620 --> 00:34:20.400\naccount to be able to be used by more\nthan one machine when it is delegated and\n\n735\n00:34:20.400 --> 00:34:21.603\nused on behalf of ADFS.\n\n736\n00:34:21.603 --> 00:34:23.330\nSo that's why we're doing this here.\n\n737\n00:34:23.330 --> 00:34:26.320\nSo we're gonna be asked to provide\nthe name and have this created.\n\n738\n00:34:26.320 --> 00:34:29.271\nSo in the domain, practicelabs,\nwhat do we wanna do?\n\n739\n00:34:29.271 --> 00:34:34.480\nI'm gonna call mine FS-GSMA.\n\n740\n00:34:34.480 --> 00:34:39.690\nFS for federation services, GSMA you\nknow as Group Managed Service Accounts.\n\n741\n00:34:39.690 --> 00:34:43.080\nSo obviously,\nyou can name it whatever you'd like.\n\n742\n00:34:43.080 --> 00:34:46.880\nThere's no standard here in the sense\nthat if I don't put FS there,\n\n743\n00:34:46.880 --> 00:34:47.790\nI don't know what it is.\n\n744\n00:34:47.790 --> 00:34:50.410\nBut do keep in mind, if you don't\nlabel it something that makes sense,\n\n745\n00:34:50.410 --> 00:34:52.450\nwe may not have a sense\nof what that account is.\n\n746\n00:34:52.450 --> 00:34:55.811\nAnd there may be more group managed\nservice account, we have to go search for\n\n747\n00:34:55.811 --> 00:34:57.606\nand figure out what's going on with it.\n\n748\n00:34:57.606 --> 00:35:00.731\nIt would be good to have a name that\nactually refers back to something like\n\n749\n00:35:00.731 --> 00:35:02.280\nwhat it actually is expected to be.\n\n750\n00:35:02.280 --> 00:35:05.182\n&gt;&gt; Kind of like when I lost my boat key?\n\n751\n00:35:05.182 --> 00:35:08.730\n&gt;&gt; [LAUGH]\nYou think you know exactly what\n\n752\n00:35:08.730 --> 00:35:10.699\nkey is what, and\nthen you've got all these.\n\n753\n00:35:10.699 --> 00:35:12.730\n[LAUGH]\n&gt;&gt; Sure, I guess, yeah, you know.\n\n754\n00:35:12.730 --> 00:35:14.490\n&gt;&gt; You get back the keys,\nand then you're like.\n\n755\n00:35:14.490 --> 00:35:16.550\nWait, I don't know which one\nI'm supposed to use here.\n\n756\n00:35:16.550 --> 00:35:19.480\n&gt;&gt; I was just kind of struggling\nhow I equate that to an IT centric\n\n757\n00:35:19.480 --> 00:35:20.950\nfederation service example.\n\n758\n00:35:20.950 --> 00:35:22.840\nBut you were so exuberant about it,\n\n759\n00:35:22.840 --> 00:35:24.330\nI'm just going to say that was good and\nwe'll move on.\n\n760\n00:35:24.330 --> 00:35:25.480\nAs a matter of fact, awesome.\n\n761\n00:35:25.480 --> 00:35:26.450\nOkay, great.\n\n762\n00:35:26.450 --> 00:35:27.700\n&gt;&gt; Okay.\n&gt;&gt; All right, cool.\n\n763\n00:35:27.700 --> 00:35:30.920\nNo more crazy key analogies\nwhile we're talking.\n\n764\n00:35:30.920 --> 00:35:33.580\nAll right so, if it was certificates,\nthen keys would be appropriate, but\n\n765\n00:35:33.580 --> 00:35:34.440\nit's not certificates.\n\n766\n00:35:34.440 --> 00:35:36.260\nAll right, so we do create our own here.\n\n767\n00:35:36.260 --> 00:35:40.350\nNow just keep in mind, so you can see,\nI could actually use an existing GMSA.\n\n768\n00:35:40.350 --> 00:35:42.440\nIf I already had one created,\nin other words, if I had gone in and\n\n769\n00:35:42.440 --> 00:35:43.830\njust prepopulated this.\n\n770\n00:35:43.830 --> 00:35:46.340\nI could actually just say yeah,\nlet me go grab that one.\n\n771\n00:35:46.340 --> 00:35:48.250\nBut because I haven't created it yet,\nwe're gonna create it.\n\n772\n00:35:48.250 --> 00:35:49.650\nSo, let's click Next.\n\n773\n00:35:49.650 --> 00:35:51.330\nNow we have to specify the database.\n\n774\n00:35:51.330 --> 00:35:52.860\nSo, a couple of options here.\n\n775\n00:35:53.900 --> 00:35:58.450\nWe can create a database on the server\nusing what's known as the W-I-D, or WID,\n\n776\n00:35:58.450 --> 00:36:03.470\nWindows Internal Database, a database that\nis just homed on this single machine.\n\n777\n00:36:03.470 --> 00:36:05.120\nOr we could scale out, as I mentioned.\n\n778\n00:36:05.120 --> 00:36:07.260\nI said I put some links\nin the show notes for\n\n779\n00:36:07.260 --> 00:36:11.190\nyou about SQL Server, high availability\nand clustering the backend.\n\n780\n00:36:11.190 --> 00:36:15.530\nOr hosting of an ADFS data solution\nthat is gonna be enterprise-scalable.\n\n781\n00:36:15.530 --> 00:36:18.170\nAnd we can host on SQL Server databases.\n\n782\n00:36:18.170 --> 00:36:20.900\nSQL 14, SQL 16, whatever the case may be.\n\n783\n00:36:20.900 --> 00:36:24.360\nAnd we can specify how we're going to do\nthis, it's really up to us to decide.\n\n784\n00:36:24.360 --> 00:36:26.850\nFor purposes of our walk through and\ndemonstration,\n\n785\n00:36:26.850 --> 00:36:30.120\nwe're not going to go in and\nset up a whole SQL database separately,\n\n786\n00:36:30.120 --> 00:36:32.405\nwe'll just use the built-in\ninternal database.\n\n787\n00:36:32.405 --> 00:36:34.685\nIn the real world you would most\nlikely want to scale this to\n\n788\n00:36:34.685 --> 00:36:36.435\na SQL Enterprise solution.\n\n789\n00:36:36.435 --> 00:36:39.465\nSo you would be thinking about\nspecifying the SQL Server.\n\n790\n00:36:39.465 --> 00:36:42.455\nIf you did that you'd have to have\nthe database host name and the instance,\n\n791\n00:36:42.455 --> 00:36:44.682\nwhich is essentially the machine name and\n\n792\n00:36:44.682 --> 00:36:47.432\nthen the actual named database\ninstance you wanna use or\n\n793\n00:36:47.432 --> 00:36:50.742\ncreate depending on whether it's already\nbeen prepopulated for you or not.\n\n794\n00:36:50.742 --> 00:36:52.012\nSo just be aware of that.\n\n795\n00:36:52.012 --> 00:36:53.502\nAll right, so\nwe're just gonna go ahead and\n\n796\n00:36:53.502 --> 00:36:56.862\ncreate the local instance\nof WID we're gonna do that.\n\n797\n00:36:56.862 --> 00:36:59.872\nWe're gonna just get a quick option\nhere on the sense that we can review our\n\n798\n00:36:59.872 --> 00:37:00.492\nselections.\n\n799\n00:37:00.492 --> 00:37:02.082\nIt'll take just a moment to come up.\n\n800\n00:37:02.082 --> 00:37:05.222\nI do often remind you of the fact\nthat this is a great opportunity for\n\n801\n00:37:05.222 --> 00:37:06.830\nyou to document what you are doing.\n\n802\n00:37:06.830 --> 00:37:09.148\nAnd also you're happy that he\nsaid it was a good analogy.\n\n803\n00:37:09.148 --> 00:37:10.910\n[INAUDIBLE]\n&gt;&gt; [LAUGH] Yeah.\n\n804\n00:37:10.910 --> 00:37:11.450\n&gt;&gt; Yeah.\n\n805\n00:37:11.450 --> 00:37:12.843\n&gt;&gt; Thanks Doug you got my\nback in the cap there.\n\n806\n00:37:12.843 --> 00:37:14.595\n[LAUGH]\n&gt;&gt; You should see the smile on her face\n\n807\n00:37:14.595 --> 00:37:17.688\nwhen you put that up there Doug,\nshe was like aw that was so nice.\n\n808\n00:37:17.688 --> 00:37:19.915\n&gt;&gt; He got the key analogy better.\n\n809\n00:37:19.915 --> 00:37:21.260\n[LAUGH]\n&gt;&gt; All right,\n\n810\n00:37:21.260 --> 00:37:25.650\nso you could see I also do sometimes\nencourage you to go and we'll just edge\n\n811\n00:37:25.650 --> 00:37:29.190\nto the screen there and hit the view\nscript button which you can also see.\n\n812\n00:37:29.190 --> 00:37:31.480\nIt generates the PowerShell script.\n\n813\n00:37:31.480 --> 00:37:33.980\nAnd I've talked about this in\na lot of other episodes where\n\n814\n00:37:33.980 --> 00:37:37.750\neven though we have this great GUI\nenvironment we're walking through,\n\n815\n00:37:37.750 --> 00:37:41.710\nmaking choices here in our environment\nwhere we can point and click.\n\n816\n00:37:41.710 --> 00:37:44.650\nWhat we're really doing is just\nessentially creating an answer file\n\n817\n00:37:44.650 --> 00:37:47.090\nthat's gonna be executed\nbehind the scenes by\n\n818\n00:37:47.090 --> 00:37:50.500\nthe Windows services that are gonna\nbe charged with doing this.\n\n819\n00:37:50.500 --> 00:37:53.448\nAnd they're going to use PowerShell to\ngo in and configure this whole thing.\n\n820\n00:37:53.448 --> 00:37:58.130\nAnd so If we know PowerShell,\ndo you know Power hell?\n\n821\n00:37:58.130 --> 00:37:59.320\nI know PowerShell.\n\n822\n00:37:59.320 --> 00:38:03.530\nIf you knew PowerShell,\nyou would actually be able to go in and\n\n823\n00:38:03.530 --> 00:38:05.822\ndo this right from\nPowerShell with this script.\n\n824\n00:38:05.822 --> 00:38:09.860\nAnd soit's nice to go take a look at\nthis because it does tell you exactly\n\n825\n00:38:09.860 --> 00:38:11.110\nwhat's going to happen behind the scenes.\n\n826\n00:38:11.110 --> 00:38:13.300\n&gt;&gt; I feel like there's always\nmore to learn with PowerShell.\n\n827\n00:38:13.300 --> 00:38:13.970\n&gt;&gt; There always is.\n\n828\n00:38:13.970 --> 00:38:15.080\nThere's no doubt about it.\n\n829\n00:38:15.080 --> 00:38:17.890\nAll right, so [COUGH] let's go ahead.\n\n830\n00:38:17.890 --> 00:38:21.350\nWe've got kind of our teed up\nsolution here, let's click Next.\n\n831\n00:38:21.350 --> 00:38:23.630\nWe're gonna do a quick pre-req check.\n\n832\n00:38:23.630 --> 00:38:27.710\nSo it's gonna check all the pre-reqs we\nsaw on the website that are there, passes,\n\n833\n00:38:27.710 --> 00:38:31.285\nso we are cleared for\ntakeoff, as they say.\n\n834\n00:38:31.285 --> 00:38:36.255\nThere is this little caution here about\nthis route key for the GSMA being created.\n\n835\n00:38:36.255 --> 00:38:37.855\nIf you have more than\none domain controller,\n\n836\n00:38:37.855 --> 00:38:40.992\nit says, the key may not have\nnecessarily replicated out.\n\n837\n00:38:40.992 --> 00:38:44.112\nThat is something to consider,\nbecause the key does need to be available\n\n838\n00:38:44.112 --> 00:38:47.672\nthroughout the directory forest,\nfor it to be accessible.\n\n839\n00:38:47.672 --> 00:38:49.442\nBut as we're creating, configuring,\n\n840\n00:38:49.442 --> 00:38:53.702\nsince we are on the machine where we\ncreated the root key it's not a big deal.\n\n841\n00:38:53.702 --> 00:38:56.222\nBut for ultimately setting up\nthe trust relationships and\n\n842\n00:38:56.222 --> 00:39:00.622\nall the other stuff we're gonna do in\nthe coming parts of this demonstration\n\n843\n00:39:00.622 --> 00:39:05.150\nas we continue in our next episode to walk\nthrough this, that would get in the way.\n\n844\n00:39:05.150 --> 00:39:07.080\nBut by the time we get there,\nit'll all be replicated out,\n\n845\n00:39:07.080 --> 00:39:08.700\nit won't have a problem, it'll be fine.\n\n846\n00:39:08.700 --> 00:39:12.230\nSo just pointing out in the real world\nthat if you're doing this over a period of\n\n847\n00:39:12.230 --> 00:39:15.090\nseveral minutes versus several\nhours versus several days,\n\n848\n00:39:15.090 --> 00:39:16.705\nsome of these problems just\ndisappear on their own.\n\n849\n00:39:16.705 --> 00:39:19.670\nBecause replication kicks in and\neventually the keys show up everywhere and\n\n850\n00:39:19.670 --> 00:39:20.620\nyou don't have an issue.\n\n851\n00:39:20.620 --> 00:39:22.540\nSo we're fine here,\nwe're gonna click Configure.\n\n852\n00:39:23.800 --> 00:39:25.010\nIt's gonna go ahead, do it's thing.\n\n853\n00:39:25.010 --> 00:39:28.030\nNow you'll be able to watch,\ninstall the internal database.\n\n854\n00:39:28.030 --> 00:39:30.600\nYou're going to kinda see\nit walk through that.\n\n855\n00:39:30.600 --> 00:39:32.900\nIt is gonna take a few minutes to do this,\n\n856\n00:39:32.900 --> 00:39:36.520\nI'm guessing it's going to\nbe about 5 minutes or so.\n\n857\n00:39:36.520 --> 00:39:40.740\nAnd it's a good place, you can see the SQL\nconfiguration starting on the WID.\n\n858\n00:39:40.740 --> 00:39:44.650\nAnd so it's also a good place for\nus to maybe end our discussions here, and\n\n859\n00:39:44.650 --> 00:39:47.210\ncome back with another episode,\npick up at this point,\n\n860\n00:39:47.210 --> 00:39:49.080\nbecause it is going to\ntake us a few minutes.\n\n861\n00:39:49.080 --> 00:39:51.170\nBut it's also I think, based on Mr.\n\n862\n00:39:51.170 --> 00:39:53.560\nClock on the wall there, that-\n&gt;&gt; [LAUGH]\n\n863\n00:39:53.560 --> 00:39:54.800\n&gt;&gt; We are just about out of time.\n\n864\n00:39:54.800 --> 00:39:58.100\nSo it's probably just an awesome place for\nus to say goodbye, and\n\n865\n00:39:58.100 --> 00:39:59.990\nsay come on back and see us again.\n\n866\n00:39:59.990 --> 00:40:00.670\n&gt;&gt; Perfect, Adam.\n\n867\n00:40:00.670 --> 00:40:01.730\nWell, thank you for your time.\n\n868\n00:40:01.730 --> 00:40:03.120\nBut thank you for your time as well.\n\n869\n00:40:03.120 --> 00:40:04.300\nStay tuned.\nWe're gonna go ahead and\n\n870\n00:40:04.300 --> 00:40:05.580\nwrap up this configuration.\n\n871\n00:40:05.580 --> 00:40:07.120\nHope to see you in the next episode.\n\n872\n00:40:07.120 --> 00:40:09.300\nBut for now we'll go ahead and sign out.\n\n873\n00:40:09.300 --> 00:40:11.230\nI have been your host Cherokee Boose.\n\n874\n00:40:11.230 --> 00:40:11.900\n&gt;&gt; I am Adam Gordon.\n\n875\n00:40:11.900 --> 00:40:14.316\n&gt;&gt; See you next time here at ITProTV.\n\n876\n00:40:14.316 --> 00:40:20.325\n[MUSIC]\n\n877\n00:40:20.325 --> 00:40:23.488\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232482971"
        },
        {
          "description": "In this show, Adam and Cherokee continue discussing ADFS. First, Adam addresses a question in the chat referencing certificates. Adam shows what to doif you need to modify an existing certification. Next, Adam demonstrates how to add a relying party trust.",
          "length": "2163",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-3-implementing_and_administering_ad_fs_pt3-090117-PGM.00_36_18_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-3-implementing_and_administering_ad_fs_pt3-090117-PGM.00_36_18_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-3-implementing_and_administering_ad_fs_pt3-090117-PGM.00_36_18_15.Still001-sm.jpg",
          "title": "Implementing and Administering AD FS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.077\nWelcome to ITProTV.\n\n2\n00:00:01.077 --> 00:00:04.134\nI'm your host Don Pezet.\n\n3\n00:00:04.134 --> 00:00:06.691\n[CROSSTALK]\n\n4\n00:00:06.691 --> 00:00:08.257\n&gt;&gt; [MUSIC]\n\n5\n00:00:08.257 --> 00:00:09.038\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:09.038 --> 00:00:15.522\n&gt;&gt; Welcome back to your Identity\nwith Windows Server 2016 series.\n\n7\n00:00:15.522 --> 00:00:17.275\nI'm your show host Cherokee Boose.\n\n8\n00:00:17.275 --> 00:00:18.093\n&gt;&gt; I'm not.\n\n9\n00:00:18.093 --> 00:00:20.902\n&gt;&gt; [LAUGH]\n&gt;&gt; I just thought I'd add that in there.\n\n10\n00:00:20.902 --> 00:00:24.111\n&gt;&gt; You guys already know it's\nthe quirky and zany duo here.\n\n11\n00:00:24.111 --> 00:00:28.376\nWe're gonna be taking a look back at\nyour implementing and administering\n\n12\n00:00:28.376 --> 00:00:31.566\nActive Directory Federation Services,\n&gt;&gt; Aren't to you special?\n\n13\n00:00:31.566 --> 00:00:35.345\n&gt;&gt; Yeah. [LAUGH] &gt;&gt; Okay.\n&gt;&gt; Yeah, it's Friday, thank you for\n\n14\n00:00:35.345 --> 00:00:36.678\njoining us.\n\n15\n00:00:36.678 --> 00:00:37.806\nWe've got Adam back in studios.\n\n16\n00:00:37.806 --> 00:00:42.011\nWe're gonna pick back up where we\nleft off, we had just installed ADFS.\n\n17\n00:00:42.011 --> 00:00:43.030\nSo what are we gonna be\nlooking at first here, Adam?\n\n18\n00:00:43.030 --> 00:00:46.698\n&gt;&gt; Well, yeah,\nwe actually had done part of it.\n\n19\n00:00:46.698 --> 00:00:48.183\nWe had, through the magic of ITProTV,\n\n20\n00:00:48.183 --> 00:00:50.075\nhave now configured both\nsides of that solution.\n\n21\n00:00:50.075 --> 00:00:54.421\nBut we did walk through the beginning\nsteps of configuring the ADFS feature\n\n22\n00:00:54.421 --> 00:00:56.774\nenroll on one side of our relationship.\n\n23\n00:00:56.774 --> 00:00:59.295\nWe just did the other\nside behind the scene,\n\n24\n00:00:59.295 --> 00:01:02.582\nit's identical to what you\njust saw in the last episode.\n\n25\n00:01:02.582 --> 00:01:04.043\nJust while we are waiting to come back,\n\n26\n00:01:04.043 --> 00:01:07.071\nthat way we're not just gonna walk back\nthrough something we're already done.\n\n27\n00:01:07.071 --> 00:01:09.850\nSo we've essentially\nconfigured the wizard or\n\n28\n00:01:09.850 --> 00:01:13.194\nused the wizard to configure\nboth sides of the ADFS role.\n\n29\n00:01:13.194 --> 00:01:16.707\nWe've set that up, configured it,\ncreated our group manager service account.\n\n30\n00:01:16.707 --> 00:01:21.058\nSet that up with the appropriate\ncredentials in each of the two federated\n\n31\n00:01:21.058 --> 00:01:25.356\ndomains that we're gonna be linking,\nforest to forest, so to speak.\n\n32\n00:01:25.356 --> 00:01:26.922\nSo we've done that,\nyou saw me do that already.\n\n33\n00:01:26.922 --> 00:01:31.716\nWe're gonna now go in and we're gonna\nconfigure where we're aligning party\n\n34\n00:01:31.716 --> 00:01:34.602\ntrust for\na claim web app that we have running.\n\n35\n00:01:34.602 --> 00:01:37.122\nSo we're gonna essentially\nset up the bridges or\n\n36\n00:01:37.122 --> 00:01:40.577\nthe trust relationships the next\nstep down or the next layer down.\n\n37\n00:01:40.577 --> 00:01:44.742\nAnd we're also gonna take a look at\nspecial call out, special shout out,\n\n38\n00:01:44.742 --> 00:01:49.111\nspecial request from our chat room Doug\nas I've been walking through this and\n\n39\n00:01:49.111 --> 00:01:50.605\ngoing through it with us.\n\n40\n00:01:50.605 --> 00:01:53.533\nAnd run it with a big of a snag\nwith certificates and he said,\n\n41\n00:01:53.533 --> 00:01:55.946\nhey can you show us quickly\nhow to deal with that?\n\n42\n00:01:55.946 --> 00:01:58.345\nAnd I thought it's actually\ngreat idea to help him but\n\n43\n00:01:58.345 --> 00:02:01.556\nit's also gonna actually add little\nextra depth to our conversation.\n\n44\n00:02:01.556 --> 00:02:06.181\nSo we're gonna actually take that thought\nprocess and that recommendation from him.\n\n45\n00:02:06.181 --> 00:02:07.926\nWe're gonna jump in and\ntalk about that real quick.\n\n46\n00:02:07.926 --> 00:02:11.587\nAnd it was a great question which is,\nif I already ADFS configured and\n\n47\n00:02:11.587 --> 00:02:15.822\nI have certificates but something's\nhappened to them or for whatever reason,\n\n48\n00:02:15.822 --> 00:02:17.920\nI have to add new ones or issue new ones.\n\n49\n00:02:17.920 --> 00:02:20.132\nDo I have an option to do that,\nand if so, how?\n\n50\n00:02:20.132 --> 00:02:21.549\nAnd so, Doug this is for you, and\n\n51\n00:02:21.549 --> 00:02:23.943\nwe're gonna show you how to\ntake care of that right now.\n\n52\n00:02:23.943 --> 00:02:25.502\nJoin me here, if you will.\n\n53\n00:02:25.502 --> 00:02:28.078\nLet's take a look at our console,\nour ADFS management console.\n\n54\n00:02:28.078 --> 00:02:29.644\nSo, where we are?\n\n55\n00:02:29.644 --> 00:02:31.807\nLet me just minimize this so\nyou could see where we are,\n\n56\n00:02:31.807 --> 00:02:33.372\nwe're on our nice bright blue screen.\n\n57\n00:02:33.372 --> 00:02:35.008\nBut that's not really\nwhat I wanna show you.\n\n58\n00:02:35.008 --> 00:02:37.017\nWe're in our machine here,\n\n59\n00:02:37.017 --> 00:02:41.631\nI'm on one of the two machines that\nhas got ADFS configured on it.\n\n60\n00:02:41.631 --> 00:02:44.383\nPlabSA01, what I wanted to show you, so\n\n61\n00:02:44.383 --> 00:02:47.757\nI've gone into the Tools\nmenu from Server Manager.\n\n62\n00:02:47.757 --> 00:02:52.679\nAnd after ADFS is configured on each of\nthe two machines that will anchor these\n\n63\n00:02:52.679 --> 00:02:55.797\ntrust relationships and\nhave ADFS configured.\n\n64\n00:02:55.797 --> 00:02:59.299\nI have a new tool there\nthe ADFS Management tool.\n\n65\n00:02:59.299 --> 00:03:00.617\nSo I've opened that up.\n\n66\n00:03:00.617 --> 00:03:05.025\nAnd so that's what you saw me\ninteracting with just a moment ago.\n\n67\n00:03:05.025 --> 00:03:08.223\nAnd so I'm in the ADFS Management tool and\nI'm gonna go in and\n\n68\n00:03:08.223 --> 00:03:11.069\nuse the relying party trusts\nfolder in just a minute.\n\n69\n00:03:11.069 --> 00:03:15.583\nI'm gonna right click and\nadd the trust relationship in.\n\n70\n00:03:15.583 --> 00:03:16.559\nBut before I do that,\n\n71\n00:03:16.559 --> 00:03:19.714\nwe're gonna open up the service\narea right up underneath ADFS here.\n\n72\n00:03:19.714 --> 00:03:22.886\nAnd among the many things we have,\nyou'll see our Attributes Store,\n\n73\n00:03:22.886 --> 00:03:24.138\nwe've talked about that.\n\n74\n00:03:24.138 --> 00:03:28.101\nSo we can interact with our Attribute\nStore, see what's going on there.\n\n75\n00:03:28.101 --> 00:03:30.990\nIn this case,\nour Active Directory ADDS attribute store,\n\n76\n00:03:30.990 --> 00:03:34.587\nwhich is remember the default if\nyou're using the Windows environment.\n\n77\n00:03:34.587 --> 00:03:37.641\nBut remember, we do have the ability\nto add attribute stores,\n\n78\n00:03:37.641 --> 00:03:38.975\nso we can add more than one.\n\n79\n00:03:38.975 --> 00:03:42.898\nWe talked about that external concept and\nthe hosting there that we can use.\n\n80\n00:03:42.898 --> 00:03:46.153\nWe have authentication\nmethods as specified here.\n\n81\n00:03:46.153 --> 00:03:50.568\nWe can go in and see that we will have\nforms based authentication and or\n\n82\n00:03:50.568 --> 00:03:55.446\nMicrosoft passport authentication for\nextranet or external connectivity\n\n83\n00:03:55.446 --> 00:04:00.111\non the intranet, internally forms,\nWindows and Microsoft Passport.\n\n84\n00:04:00.111 --> 00:04:03.238\nAnd MFA, Multi Factor Authentication,\ncurrently not configured,\n\n85\n00:04:03.238 --> 00:04:04.935\nthose can be set up and modified here.\n\n86\n00:04:04.935 --> 00:04:08.995\nCertificates which is where we're\ngonna come back to in just a minute.\n\n87\n00:04:08.995 --> 00:04:11.402\nWe'll see our certificates\nthat already set up there.\n\n88\n00:04:11.402 --> 00:04:15.755\nAnd we'll see we do have the opportunity\nto add some certificates or set them here\n\n89\n00:04:15.755 --> 00:04:19.354\nand set a primary certificate so\nwe'll be able to go in and do that.\n\n90\n00:04:19.354 --> 00:04:23.481\nWe do have Claims Descriptions, Device\nRegistrations, Scope Descriptions or\n\n91\n00:04:23.481 --> 00:04:26.700\nWeb App Proxy Capability which\nwe'll look at and talk about and\n\n92\n00:04:26.700 --> 00:04:28.356\nsome upcoming conversations.\n\n93\n00:04:28.356 --> 00:04:32.568\nSo we got a lot going on in here, but\nunder the Certificates area, right\n\n94\n00:04:32.568 --> 00:04:37.289\nclick just like we do over here on the\nActions area, essentially the same menu.\n\n95\n00:04:37.289 --> 00:04:39.198\nAdd token, signing a token decrypting and\n\n96\n00:04:39.198 --> 00:04:41.648\nwill reset the service\ncommunication certificates.\n\n97\n00:04:41.648 --> 00:04:44.927\nSo, we can go in Doug,\ndepending on exactly what certificate or\n\n98\n00:04:44.927 --> 00:04:48.350\ngroup of certificates you may be\nlooking to modify or manipulate.\n\n99\n00:04:48.350 --> 00:04:53.050\nWe can go in and we can add one more\nhere or set the appropriate one.\n\n100\n00:04:53.050 --> 00:04:58.030\nAnd then we can also set as primary for\nour specific certificate.\n\n101\n00:04:58.030 --> 00:05:01.256\nNotice there's a designation here for\nprimary certificates under\n\n102\n00:05:01.256 --> 00:05:04.267\ntoken decrypting/token signing,\nwe can have more than one.\n\n103\n00:05:04.267 --> 00:05:06.973\nAnd this may solve the problem\nwhere we can go in,\n\n104\n00:05:06.973 --> 00:05:11.461\nadd another set of those certificates,\nthen manipulate the appropriate ones,\n\n105\n00:05:11.461 --> 00:05:14.045\nthe new ones perhaps,\nthat are being issued.\n\n106\n00:05:14.045 --> 00:05:18.421\nAnd we can then label them as primary,\nmaking them the ones that we will use.\n\n107\n00:05:18.421 --> 00:05:20.510\nSo we can go in and do that from here.\n\n108\n00:05:20.510 --> 00:05:23.370\nWe would have to have other\ncertificates of course already issued,\n\n109\n00:05:23.370 --> 00:05:25.535\nI haven't gone and\nissued on any new certificate.\n\n110\n00:05:25.535 --> 00:05:28.898\nBut it wouldn't be hard to do let us\njust jump over to one of the machines\n\n111\n00:05:28.898 --> 00:05:31.921\nwhere we could at least see\nthe certificate infrastructure but\n\n112\n00:05:31.921 --> 00:05:34.389\nthey kinda pick behind\nthe covers a little better.\n\n113\n00:05:34.389 --> 00:05:38.177\nUnder the covers behind the great\nwall of silence around certificates.\n\n114\n00:05:38.177 --> 00:05:41.728\nAnd let's take a look just so\nwe know what we're talking about and\n\n115\n00:05:41.728 --> 00:05:43.096\nwhat we would have to do.\n\n116\n00:05:43.096 --> 00:05:45.998\nWe just ensure our lab timer\nis set appropriately here so\n\n117\n00:05:45.998 --> 00:05:47.370\nwe don't run out of time.\n\n118\n00:05:47.370 --> 00:05:54.774\nAnd let's go over and let me figure out,\nthere we go, our PLabDC01 machine.\n\n119\n00:05:54.774 --> 00:05:57.383\nSo just looking at where our PKI\nunder certificate authority will be.\n\n120\n00:05:57.383 --> 00:06:01.879\nSo we're just gonna pull that up,\nwe could see ADCS is installed here.\n\n121\n00:06:01.879 --> 00:06:04.575\nSo if we go in,\nlet's just go here real quick so\n\n122\n00:06:04.575 --> 00:06:06.594\nwe could see what we have going on.\n\n123\n00:06:06.594 --> 00:06:11.485\nCertification authority, you'll see that\ninside of our certification authority,\n\n124\n00:06:11.485 --> 00:06:15.638\nwe have our certificate templates,\nI have already created a template for\n\n125\n00:06:15.638 --> 00:06:17.784\nserver authentication right there.\n\n126\n00:06:17.784 --> 00:06:19.137\nI've configured and set it up so\n\n127\n00:06:19.137 --> 00:06:21.357\nI have the ability to be\nable to issue certificates.\n\n128\n00:06:21.357 --> 00:06:24.418\nAnd so what I could do to\nissue these certificates and\n\n129\n00:06:24.418 --> 00:06:28.383\nI'm assuming this is something\nsimilar to what Doug may have done or\n\n130\n00:06:28.383 --> 00:06:31.256\nwould be doing or\nany of you would do in this case.\n\n131\n00:06:31.256 --> 00:06:34.229\nYou would go in and open up and\nMMC, so let's just go here,\n\n132\n00:06:34.229 --> 00:06:37.285\nlet's create a Microsoft Management\nconsole real quick.\n\n133\n00:06:37.285 --> 00:06:42.165\nAnd we would go into File &gt; Add/Remove\nSnap in, you've heard me talk about this,\n\n134\n00:06:42.165 --> 00:06:44.757\nand seen me do this\na bunch of times already.\n\n135\n00:06:44.757 --> 00:06:48.079\nThe certificate snap in, which would\nlet us focus on certificates for\n\n136\n00:06:48.079 --> 00:06:51.021\nthe local machine, user-based,\ncomputer-based, etc.\n\n137\n00:06:51.021 --> 00:06:54.333\nIn this case we'll look at\na computer-based certificate, so\n\n138\n00:06:54.333 --> 00:06:57.217\nwe'll grab that,\nwe'll focus the console, right?\n\n139\n00:06:57.217 --> 00:07:00.803\nSo, we're gonna do the computer account,\nas opposed to service or my user.\n\n140\n00:07:00.803 --> 00:07:04.941\nAnd then local computer, so we'll\njust program that real quick, hit OK.\n\n141\n00:07:04.941 --> 00:07:06.658\nWe'll come into the certificate store.\n\n142\n00:07:06.658 --> 00:07:11.198\nLet's just make this a bit bigger just so\nwe can see that.\n\n143\n00:07:11.198 --> 00:07:13.464\nAnd we see under Personal right there,\nnever make it personal, by the way.\n\n144\n00:07:13.464 --> 00:07:16.550\nAlways make it about the technology.\n\n145\n00:07:16.550 --> 00:07:18.280\n&gt;&gt; [LAUGH]\n&gt;&gt; Never make it personal, all right?\n\n146\n00:07:18.280 --> 00:07:22.438\nSo we're gonna right click and you'll see\nhere, I can create or add or request,\n\n147\n00:07:22.438 --> 00:07:25.759\nrather, a new certificate by\ncoming right here and doing this.\n\n148\n00:07:25.759 --> 00:07:28.496\nAnd this is what we would\ndo to issue a certificate.\n\n149\n00:07:28.496 --> 00:07:32.743\nWe have some certificates already there,\nbut let's just take a look.\n\n150\n00:07:32.743 --> 00:07:35.989\nSo request the new certificate,\ngot a little wizard here, right?\n\n151\n00:07:35.989 --> 00:07:39.710\nAnd we would go through Active Directory\nand Active Directory enrollment policy,\n\n152\n00:07:39.710 --> 00:07:41.471\nexcuse me, we use the default policy.\n\n153\n00:07:41.471 --> 00:07:45.702\nNow this is actually cool, because I\ndidn't show you this part, I just did it.\n\n154\n00:07:45.702 --> 00:07:47.531\nAnd it's actually good for\nyou to see this,\n\n155\n00:07:47.531 --> 00:07:50.355\ncuz this sometimes confuses people\nwho may not be familiar with it.\n\n156\n00:07:50.355 --> 00:07:53.083\nIt's kind of a behind the scenes\nlook at what we're doing.\n\n157\n00:07:53.083 --> 00:07:56.089\nI'm gonna use the template that\nI've specified that I can use,\n\n158\n00:07:56.089 --> 00:07:58.993\nTo issue certificates,\nit happens to be this one right here.\n\n159\n00:07:58.993 --> 00:08:02.793\nBut notice on the prior times I've been\nin this wizard issuing certificates and\n\n160\n00:08:02.793 --> 00:08:03.595\nshown you this.\n\n161\n00:08:03.595 --> 00:08:07.174\nAnd just said look, we'll check that off,\nand boom, it's ready to go.\n\n162\n00:08:07.174 --> 00:08:09.317\nBut it's actually a little notice there,\nit says hey,\n\n163\n00:08:09.317 --> 00:08:12.202\nmore information is required to enroll,\nplease click here to configure.\n\n164\n00:08:12.202 --> 00:08:13.766\nSo while I can select this,\n\n165\n00:08:13.766 --> 00:08:17.310\nI do actually need to provide\nsome answers to some questions.\n\n166\n00:08:17.310 --> 00:08:20.725\nWe're gonna actually go in,\ntake a look at this real quick.\n\n167\n00:08:20.725 --> 00:08:22.909\nI have to go in and\nI have to specify some things.\n\n168\n00:08:22.909 --> 00:08:27.140\nI have to go in on the Subject tab,\nwhere the little caution flag is,\n\n169\n00:08:27.140 --> 00:08:29.829\nwhich is where I have to configure things.\n\n170\n00:08:29.829 --> 00:08:33.807\nI'm gonna have to specify a common\nname for this certificate and\n\n171\n00:08:33.807 --> 00:08:39.188\nalso some directory information down here\nfor alternative names, specifically some\n\n172\n00:08:39.188 --> 00:08:44.272\nDNS information that would be in our case\nspecific to our lab environment needed in\n\n173\n00:08:44.272 --> 00:08:49.304\norder to configure the certificate, so\nwe would just go in and put this stuff in.\n\n174\n00:08:49.304 --> 00:08:52.410\nSo, I'm gonna, for\ninstance, go in here and\n\n175\n00:08:52.410 --> 00:08:57.354\nsay plabdc01.practicelabs.com,\nwhich is the name of the machine,\n\n176\n00:08:57.354 --> 00:09:02.156\nI'm issuing the certificate on behalf of,\nso I would do that in there.\n\n177\n00:09:02.156 --> 00:09:05.550\nI would then go in and\nput the DNS information here.\n\n178\n00:09:05.550 --> 00:09:13.079\nAnd I would do\nplabdc01.practicelabs.com and\n\n179\n00:09:13.079 --> 00:09:20.264\nI would add in all\nthe required DNS information.\n\n180\n00:09:20.264 --> 00:09:22.855\nThere's a few things and\nI'll show you what they are.\n\n181\n00:09:22.855 --> 00:09:25.673\nI'm not gonna actually put them all in and\nissue the certificates,\n\n182\n00:09:25.673 --> 00:09:28.897\nit's already set up but just wanted you\nto see the logic of how I would do this.\n\n183\n00:09:28.897 --> 00:09:30.456\nBut we would just finish up, hit OK.\n\n184\n00:09:30.456 --> 00:09:32.515\nWe would then hit Enroll Here.\n\n185\n00:09:32.515 --> 00:09:36.070\nThe certificate then gets immediately\nissued as long as you've provided\n\n186\n00:09:36.070 --> 00:09:37.284\nthe right information.\n\n187\n00:09:37.284 --> 00:09:38.235\nSo that part's not too difficult.\n\n188\n00:09:38.235 --> 00:09:41.056\nWhat I did is issue this certificate.\n\n189\n00:09:41.056 --> 00:09:42.244\nLet's pretend I just did that and\n\n190\n00:09:42.244 --> 00:09:44.377\nthat's the certificate that\npopped out the back end here.\n\n191\n00:09:44.377 --> 00:09:49.637\nThis is just the one I've already\ngot that's bound that I'm using.\n\n192\n00:09:49.637 --> 00:09:56.034\nBut if we take a look, we can go in and\nwe can see, That this certificate,\n\n193\n00:09:56.034 --> 00:09:57.882\nright there and right there,\non that this certificate is, where is it?\n\n194\n00:10:11.905 --> 00:10:13.839\nSo let me get to what I'm looking for.\n\n195\n00:10:13.839 --> 00:10:20.163\nAnd all right, so this is the template\nthat was used, plabswebs, so\n\n196\n00:10:20.163 --> 00:10:25.851\nI can tell it was issued by\nthe template I was just showing you.\n\n197\n00:10:25.851 --> 00:10:28.798\nSo sort of just wanted to get to\nthe issue, and this information, so\n\n198\n00:10:28.798 --> 00:10:30.370\nyou could actually equate the two.\n\n199\n00:10:30.370 --> 00:10:32.678\nAnd see that it was issued\nwith that template.\n\n200\n00:10:32.678 --> 00:10:35.751\nAnd it is used for server authentication.\n\n201\n00:10:35.751 --> 00:10:40.442\nAnd we have the server authentication\npolicy applied which is what\n\n202\n00:10:40.442 --> 00:10:43.721\nyou just saw me fille\nout the information for.\n\n203\n00:10:43.721 --> 00:10:47.274\nAnd then you could see the information\nthat I actually would have put into\n\n204\n00:10:47.274 --> 00:10:50.723\nthat window that I was working with\nwhere I just didn't type it all in.\n\n205\n00:10:50.723 --> 00:10:54.340\nBut what you would have seen what\nwould have to have go in there or\n\n206\n00:10:54.340 --> 00:10:58.300\nwhat would have gone and that I would\nhave had to if type if I didn't and\n\n207\n00:10:58.300 --> 00:11:02.333\nactually configure the certificate\nis the subject altered the name,\n\n208\n00:11:02.333 --> 00:11:05.504\nthe send information,\nthe DNS information, right.\n\n209\n00:11:05.504 --> 00:11:09.964\nSo there were three values in our lab\nenvironment that we're demoing with that\n\n210\n00:11:09.964 --> 00:11:13.830\nwe have to provide to make sure that\neverything works the right way.\n\n211\n00:11:13.830 --> 00:11:17.404\nADFS practice-labs.com,\nsort of a certification authority,\n\n212\n00:11:17.404 --> 00:11:21.631\nADFS practice-labs and\nEnterprise registration.practice-labs.com.\n\n213\n00:11:21.631 --> 00:11:22.919\nSo we would see all of these.\n\n214\n00:11:22.919 --> 00:11:28.068\nNow, that could potentially have actually\ngone to the certificate in question.\n\n215\n00:11:28.068 --> 00:11:31.405\nAnd actually highlighted\nthe subject alternative name line.\n\n216\n00:11:31.405 --> 00:11:35.781\nA nd actually chosen to go in,\ndepending on what may, or\n\n217\n00:11:35.781 --> 00:11:39.337\nmay not,\nhave been up with the certificate.\n\n218\n00:11:39.337 --> 00:11:42.916\nI don't know what the issue was, and\nI'm not sure if editing the certificate\n\n219\n00:11:42.916 --> 00:11:46.884\nproperties would've solved any of the name\nresolution issues that may, or may not,\n\n220\n00:11:46.884 --> 00:11:47.950\nhave been happening.\n\n221\n00:11:47.950 --> 00:11:52.506\nBecause it's hard to say but you could\nhave gone in and potentially modified that\n\n222\n00:11:52.506 --> 00:11:56.327\nyou could see some of the properties\nassociated with certificate.\n\n223\n00:11:56.327 --> 00:12:00.226\nBut if I was naming issue, another one if\nyou as I suggested perhaps in a little\n\n224\n00:12:00.226 --> 00:12:04.186\ndiscussion offline, it may be the problem\nwith one of the name strings typed in\n\n225\n00:12:04.186 --> 00:12:06.711\nthe directory,\nresolving one of the case may be.\n\n226\n00:12:06.711 --> 00:12:10.477\nNotice we can't actually modify them\nonce they are in the certificates.\n\n227\n00:12:10.477 --> 00:12:13.716\nWe can modify some of the properties but\nnot those specifically.\n\n228\n00:12:13.716 --> 00:12:17.504\nSo, you may have to go back and\nactually go and reissue.\n\n229\n00:12:17.504 --> 00:12:19.476\nSo, we got to the point of hey,\nif I reissue certificates,\n\n230\n00:12:19.476 --> 00:12:20.272\nhow do I deal with that?\n\n231\n00:12:20.272 --> 00:12:24.137\nSo, we're just walking through the logic\nof that as part of our thought process.\n\n232\n00:12:24.137 --> 00:12:26.647\nSo, let's assume for\na minute, hypothetically,\n\n233\n00:12:26.647 --> 00:12:28.766\nthis is our reissued certificate, right?\n\n234\n00:12:28.766 --> 00:12:29.437\nNo big deal.\n\n235\n00:12:29.437 --> 00:12:32.040\nSo, we obviously have that certificate,\nthat's fine.\n\n236\n00:12:32.040 --> 00:12:37.096\nSo then once we have the certificate,\nwe could then use that certificate and\n\n237\n00:12:37.096 --> 00:12:42.706\nbring it in, right, so we're back to that\nidea of where we are on the other machine.\n\n238\n00:12:42.706 --> 00:12:45.571\nLet me just get back to where we were,\nright here.\n\n239\n00:12:45.571 --> 00:12:49.580\nAnd so once those certificates\nare available, if I add in one of\n\n240\n00:12:49.580 --> 00:12:54.439\nthose certificate types, whatever it\nmay be, token signing or whatever.\n\n241\n00:12:54.439 --> 00:12:58.504\nI can go in, says certificates cannot be\nmodified if it has automatic certificate\n\n242\n00:12:58.504 --> 00:13:02.047\nrollover features, enable, disable\nthe automatic rollover and try again.\n\n243\n00:13:02.047 --> 00:13:05.430\nYou get that warning if you\nhave it configured that way.\n\n244\n00:13:05.430 --> 00:13:08.481\nWe do have it configured in\nthe settings in the background, so\n\n245\n00:13:08.481 --> 00:13:10.477\nyou would just have to disable that, but\n\n246\n00:13:10.477 --> 00:13:14.589\nonce you disable that,You could then go\nin and actually modify the settings here,\n\n247\n00:13:14.589 --> 00:13:18.609\nbring in a certificate, and then simply as\nI said swap it and make it the primary.\n\n248\n00:13:18.609 --> 00:13:22.573\nThat would then replace the existing\ncertificates that had been issued, and\n\n249\n00:13:22.573 --> 00:13:25.809\nallow us to then theoretically swap out,\nso to speak, right?\n\n250\n00:13:25.809 --> 00:13:30.231\nSo that should allow you to move those\ncertificates around, just so you know so\n\n251\n00:13:30.231 --> 00:13:32.653\nyou could do that if you needed to, right?\n\n252\n00:13:32.653 --> 00:13:36.945\nSo that would be one way or rather the way\nto deal with the particular issue of hey,\n\n253\n00:13:36.945 --> 00:13:38.729\nhow do I get the certificates in?\n\n254\n00:13:38.729 --> 00:13:43.173\nHow do I ensure that those certificates\ncan be added if we already have adfs up\n\n255\n00:13:43.173 --> 00:13:44.014\nand running?\n\n256\n00:13:44.014 --> 00:13:47.387\nSo hopefully that makes a little sense,\njust so that we can go in and\n\n257\n00:13:47.387 --> 00:13:48.182\nsee that part.\n\n258\n00:13:48.182 --> 00:13:51.690\nNot the exact thing we're here to talk\nabout, but a very important sub part.\n\n259\n00:13:51.690 --> 00:13:53.862\nIf we have to troubleshoot\nof what we may need to do.\n\n260\n00:13:53.862 --> 00:13:57.429\nSo let's actually take a look\nat the line Party Trusts.\n\n261\n00:13:57.429 --> 00:13:59.529\nWhat I was gonna suggest,\nwe do kind of a step two here.\n\n262\n00:13:59.529 --> 00:14:03.928\nWe're gonna go in, take a look at how\nto set up through the line Party Trust.\n\n263\n00:14:03.928 --> 00:14:08.833\nI'm just going to make sure, and I think\nI did already do the exception there.\n\n264\n00:14:08.833 --> 00:14:11.884\nYeah, I just make sure that I have my\nproxy settings configured the right way.\n\n265\n00:14:11.884 --> 00:14:12.840\nSpaced on my notes.\n\n266\n00:14:12.840 --> 00:14:16.155\nAll right, so we're gonna go ahead and\nadd a relying Party Trust.\n\n267\n00:14:16.155 --> 00:14:18.127\nLet me go in, just get my information\nhere for my name correct.\n\n268\n00:14:18.127 --> 00:14:22.913\nSo I'm in the management interface,\nrelying Party Trust, right click.\n\n269\n00:14:22.913 --> 00:14:24.281\nYou can see here add relying Party Trust.\n\n270\n00:14:24.281 --> 00:14:25.782\nLet's do that.\n\n271\n00:14:25.782 --> 00:14:31.141\nNow remember if we go back to our trusty,\nhandy, dandy, vocabulary list,\n\n272\n00:14:31.141 --> 00:14:36.522\na relying party remember is the party\nwhere the application maybe located.\n\n273\n00:14:36.522 --> 00:14:40.757\nAnd the functions that are gonna be\nnecessary for us to be able to consume\n\n274\n00:14:40.757 --> 00:14:45.638\nclaims right, from the claims provider is\nwhat the relying party has to address.\n\n275\n00:14:45.638 --> 00:14:49.265\nAnd the relying party trust,\nwhich is what we're taking a look at.\n\n276\n00:14:49.265 --> 00:14:53.527\nContains ADFS configuration data used\nto provide claims about a user or\n\n277\n00:14:53.527 --> 00:14:55.241\na client to a relying party.\n\n278\n00:14:55.241 --> 00:14:58.604\nIt has the various identifiers and\nthings associated with that.\n\n279\n00:14:58.604 --> 00:15:01.350\nSo we're gonna be setting\nthat up right now.\n\n280\n00:15:01.350 --> 00:15:03.270\nJust so you have a sense of what that is.\n\n281\n00:15:03.270 --> 00:15:05.875\nAnd we can obviously walk through,\nsee how to address that.\n\n282\n00:15:05.875 --> 00:15:08.281\nJust so\nyou can kind of keep up with where we are.\n\n283\n00:15:08.281 --> 00:15:10.051\nYou just have a sense of what we're doing.\n\n284\n00:15:10.051 --> 00:15:10.933\nAll right, so we're gonna go in here.\n\n285\n00:15:10.933 --> 00:15:15.070\nWe are on the welcome to the add\nrelying Party Trust Wizard and\n\n286\n00:15:15.070 --> 00:15:18.576\nwe have either claims aware or\nnon-claims aware.\n\n287\n00:15:18.576 --> 00:15:21.701\nWe have to specify what it\nis we're going to be doing.\n\n288\n00:15:21.701 --> 00:15:22.821\nWe're gonna go ahead.\n\n289\n00:15:25.503 --> 00:15:31.448\nAnd we are going to do a claims aware\napplication trust or claims aware trust.\n\n290\n00:15:31.448 --> 00:15:33.061\nSo we're just gonna leave\nthe default there and\n\n291\n00:15:33.061 --> 00:15:34.279\nkinda click start to get past that.\n\n292\n00:15:34.279 --> 00:15:39.065\nAnd the difference obviously is, if it's\nclaims aware we're able to provide claims\n\n293\n00:15:39.065 --> 00:15:43.136\nand make the trust available to be\nused for the propagation of the claim.\n\n294\n00:15:43.136 --> 00:15:46.082\nSo try to think about the logic of that,\nso that's what we're doing.\n\n295\n00:15:46.082 --> 00:15:48.634\nSo then we have our\nSelect Data Source Page.\n\n296\n00:15:48.634 --> 00:15:51.854\nSelect the option that will then specify.\n\n297\n00:15:51.854 --> 00:15:55.921\nThe default import data about\nthe relying party published online or\n\n298\n00:15:55.921 --> 00:15:58.640\non a local network,\nimport data from a file.\n\n299\n00:15:58.640 --> 00:16:00.417\nAnd or enter data manually, right?\n\n300\n00:16:00.417 --> 00:16:02.384\nWe have a couple different\nways to go here.\n\n301\n00:16:02.384 --> 00:16:05.424\nWe're gonna import data from\neither published online or\n\n302\n00:16:05.424 --> 00:16:07.336\nfrom a local network essentially.\n\n303\n00:16:07.336 --> 00:16:09.010\nWe're gonna use the default choice.\n\n304\n00:16:09.010 --> 00:16:13.770\nWe're gonna specify\nthe federation metadata address,\n\n305\n00:16:13.770 --> 00:16:17.050\nand make sure that that's available.\n\n306\n00:16:17.050 --> 00:16:19.975\nWe're gonna do adfs.practicelabs.com.\n\n307\n00:16:19.975 --> 00:16:21.428\nAnd we're gonna type that in.\n\n308\n00:16:21.428 --> 00:16:24.162\nWe're then gonna go ahead, click Next.\n\n309\n00:16:24.162 --> 00:16:26.923\nI'm just going to make sure\nthat I spelled that correctly.\n\n310\n00:16:26.923 --> 00:16:28.980\nHopefully I did.\nAll right, so display name,\n\n311\n00:16:28.980 --> 00:16:30.916\nwhat are we going to call it?\n\n312\n00:16:30.916 --> 00:16:31.882\nWhat do we want to have there?\n\n313\n00:16:31.882 --> 00:16:36.743\nInstead of just the fully qualified\ndomain name, which really doesn't make\n\n314\n00:16:36.743 --> 00:16:41.031\na lot of sense, cuz that's probably\nnot the best way to label this.\n\n315\n00:16:41.031 --> 00:16:43.838\nSo we'll call this\nPractice Labs Relying Party.\n\n316\n00:16:43.838 --> 00:16:48.306\nThat way we know what this particular\ntrust is, and we have a sense of it.\n\n317\n00:16:48.306 --> 00:16:49.654\nSo we'll do that.\n\n318\n00:16:49.654 --> 00:16:50.595\nHow many notes or\n\n319\n00:16:50.595 --> 00:16:54.581\nthings you wanna put in there you can\nobviously put in if you choose to.\n\n320\n00:16:54.581 --> 00:16:56.364\nWe then see our access control policy.\n\n321\n00:16:56.364 --> 00:17:01.770\nWe have to make a choice about the kind of\naccess control that we may want to apply.\n\n322\n00:17:01.770 --> 00:17:04.714\nWe have at the top there, permit everyone.\n\n323\n00:17:04.714 --> 00:17:08.801\nThis is essentially like the full control\nshare permission we give to the everyone\n\n324\n00:17:08.801 --> 00:17:09.641\ngroup, right?\n\n325\n00:17:09.641 --> 00:17:11.912\nSo essentially everyone can use this.\n\n326\n00:17:11.912 --> 00:17:14.422\nSo maybe not appropriate\nin every scenario,\n\n327\n00:17:14.422 --> 00:17:16.609\ncertainly not in normal business use.\n\n328\n00:17:16.609 --> 00:17:19.061\nThere are reasons why we may do this.\n\n329\n00:17:19.061 --> 00:17:23.302\nBut generically, you would typically\nwant to be able to permit everyone,\n\n330\n00:17:23.302 --> 00:17:27.612\nbut restrict to something like MFA,\nmultifactor authentication, MFA for\n\n331\n00:17:27.612 --> 00:17:31.783\na specific group, or from the extranet\nonly, or from an authenticated or\n\n332\n00:17:31.783 --> 00:17:33.362\nunauthenticated device.\n\n333\n00:17:33.362 --> 00:17:35.499\nSo you have categories, right?\n\n334\n00:17:35.499 --> 00:17:38.634\nWe would not just generically\nthrow this wide open and say, hey,\n\n335\n00:17:38.634 --> 00:17:40.288\nno matter who you are, come on in.\n\n336\n00:17:40.288 --> 00:17:42.684\nBut just for purposes of our\nconversation and how we're doing this,\n\n337\n00:17:42.684 --> 00:17:44.180\nwe'll just set it up and permit everyone.\n\n338\n00:17:44.180 --> 00:17:47.637\nSo you could see that there.\n\n339\n00:17:47.637 --> 00:17:51.478\nSo we're gonna just set that and\npermit everybody.\n\n340\n00:17:51.478 --> 00:17:53.444\nThen down at the bottom here, click Next.\n\n341\n00:17:53.444 --> 00:17:58.031\nAnd by the way, I meant to say\nsomething about it and I forgot.\n\n342\n00:17:58.031 --> 00:18:00.678\nIf you decide you wanna\ngo through this but\n\n343\n00:18:00.678 --> 00:18:04.700\nnot configure a axis policy right now,\nnotice you can opt out.\n\n344\n00:18:04.700 --> 00:18:08.668\nBecause unless you choose an access\npolicy, you don't get the option for\n\n345\n00:18:08.668 --> 00:18:10.980\nthe next button, so just be aware of that.\n\n346\n00:18:10.980 --> 00:18:12.513\nBut you can opt out and\nsay, hey, you know what?\n\n347\n00:18:12.513 --> 00:18:16.389\nI don't wanna do that right now,\nI'll configure it later.\n\n348\n00:18:16.389 --> 00:18:17.427\nAnd then you will be able to go forward.\n\n349\n00:18:17.427 --> 00:18:18.962\nYou just have to come back and\n\n350\n00:18:18.962 --> 00:18:22.873\nenable it before we actually can set\nthe trust up and have it functional.\n\n351\n00:18:22.873 --> 00:18:23.916\nIt's up to you to decide.\n\n352\n00:18:23.916 --> 00:18:25.302\nSo we did permit everyone.\n\n353\n00:18:25.302 --> 00:18:26.655\nClick Next.\nAll right, so\n\n354\n00:18:26.655 --> 00:18:30.591\nthen we have a bunch of tabs in there,\na bunch of stuff going on.\n\n355\n00:18:30.591 --> 00:18:33.950\nOn the ready to add trust,\nrelying parties, federation,\n\n356\n00:18:33.950 --> 00:18:36.785\nmetadata URL you could\nsee is prepopulated here.\n\n357\n00:18:36.785 --> 00:18:38.897\nWe could see it right there.\n\n358\n00:18:38.897 --> 00:18:43.810\nIt's chosen a rather prepopulated based\non the URL I put in on the other page\n\n359\n00:18:43.810 --> 00:18:47.476\nwith then the additional\ninformation that lets us get to\n\n360\n00:18:47.476 --> 00:18:50.920\nwhere the federation\nmetadata would be populated.\n\n361\n00:18:50.920 --> 00:18:55.773\nSo we're gonna click Next\nthere just to finish up, and\n\n362\n00:18:55.773 --> 00:19:00.955\nconfigure claims issuance policy for\nthis application.\n\n363\n00:19:00.955 --> 00:19:02.643\nWe have the ability to be able to do that.\n\n364\n00:19:02.643 --> 00:19:06.471\nOur claims issuance policy would allow\nus then to specify how claims will be\n\n365\n00:19:06.471 --> 00:19:07.151\naddressed.\n\n366\n00:19:07.151 --> 00:19:09.863\nSo we're gonna go ahead and\nmake sure we're gonna leave that there,\n\n367\n00:19:09.863 --> 00:19:11.190\ncuz we wanna go ahead and do that.\n\n368\n00:19:11.190 --> 00:19:14.767\nSo we're gonna go ahead and click Close.\n\n369\n00:19:14.767 --> 00:19:19.941\nAll right, and so we have our practice\nlabs relying party, it is enabled.\n\n370\n00:19:19.941 --> 00:19:22.868\nOur type is WS Trust SAM or\n\n371\n00:19:22.868 --> 00:19:27.614\nWS Federation for our ADFS federation.\n\n372\n00:19:27.614 --> 00:19:31.680\nWe have our identifier.\nOur accesses permit everybody as you can\n\n373\n00:19:31.680 --> 00:19:32.238\nsee.\n\n374\n00:19:32.238 --> 00:19:33.275\nSo we do have that.\n\n375\n00:19:33.275 --> 00:19:36.233\nAnd then what we're gonna do is\nconfigure the claim rules, right, for\n\n376\n00:19:36.233 --> 00:19:37.331\nthe relying party trust.\n\n377\n00:19:37.331 --> 00:19:42.665\nSo we're gonna go ahead and\nwe're gonna do that right now.\n\n378\n00:19:42.665 --> 00:19:45.570\nWe're gonna go ahead and\nwe are going to right-click right here.\n\n379\n00:19:45.570 --> 00:19:51.101\nAnd you'll see that we can go ahead and\nedit the claims issuance policy.\n\n380\n00:19:51.101 --> 00:19:54.687\nThis is essentially what that check\nbox allows us to go in and do.\n\n381\n00:19:54.687 --> 00:19:55.971\nLet's just go in.\n\n382\n00:19:55.971 --> 00:20:00.102\nAll right, so now you'll see we have to\nadd some rules at the bottom on the lower\n\n383\n00:20:00.102 --> 00:20:03.060\nleft there,\nbecause we have nothing there by default.\n\n384\n00:20:03.060 --> 00:20:05.666\nSo we're gonna go in, and\nwe're gonna add a rule.\n\n385\n00:20:05.666 --> 00:20:11.311\nSo issuance tran, or issuance transform\nrules, that's what we're gonna add in.\n\n386\n00:20:11.311 --> 00:20:12.686\nSo we're gonna come in here, and\n\n387\n00:20:12.686 --> 00:20:15.450\nwe're gonna make some choices\nbased on our select rule template.\n\n388\n00:20:15.450 --> 00:20:18.941\nSo we're gonna scroll down and what we're\ngonna do, or I'm gonna scroll down and\n\n389\n00:20:18.941 --> 00:20:19.556\nchoose here.\n\n390\n00:20:19.556 --> 00:20:24.404\nI want pass through or\nfilter on incoming claims.\n\n391\n00:20:24.404 --> 00:20:27.216\nSo instead of send LDAP\nattributes as claim,\n\n392\n00:20:27.216 --> 00:20:30.476\nI'm gonna choose,\nthere's a group of items here.\n\n393\n00:20:30.476 --> 00:20:34.267\nI'm gonna do pass through or\nfilter based on an incoming claim,\n\n394\n00:20:34.267 --> 00:20:37.581\nmeaning I'm gonna look at\nwhat comes across the trust.\n\n395\n00:20:37.581 --> 00:20:40.721\nI'm going to either decide to\njust pass it right along, or\n\n396\n00:20:40.721 --> 00:20:43.992\nfilter it if a claim is involved\nthat may specify something,\n\n397\n00:20:43.992 --> 00:20:48.502\nlike maybe email address is offered as\na claim, hypothetically, from somebody.\n\n398\n00:20:48.502 --> 00:20:52.415\nMaybe UPN, universal principal name,\nmaybe a display name, or\n\n399\n00:20:52.415 --> 00:20:56.769\njust subject name, or something like that,\nwhatever the claim may be.\n\n400\n00:20:56.769 --> 00:20:59.206\nThere's a whole bunch of stuff I could do.\n\n401\n00:20:59.206 --> 00:21:03.139\nWhatever it is, I'm gonna set up here\na claim rule template that will then allow\n\n402\n00:21:03.139 --> 00:21:06.308\nme to work with those and\nfigure out what the options will be, and\n\n403\n00:21:06.308 --> 00:21:08.850\nas a result kinda dictate\nhow this will come about.\n\n404\n00:21:08.850 --> 00:21:11.164\nSo it does tell me here,\nclaim rule template description,\n\n405\n00:21:11.164 --> 00:21:12.102\nwhich is nice, right?\n\n406\n00:21:12.102 --> 00:21:15.709\nYou can see use the pass-through or\nfilter, use the pass-through or filter and\n\n407\n00:21:15.709 --> 00:21:17.152\nincoming claim rule template.\n\n408\n00:21:17.152 --> 00:21:20.345\nYou can pass through all incoming\nclaims with a selected claim type.\n\n409\n00:21:20.345 --> 00:21:22.981\nYou can also filter the value\nof an incoming claim, so\n\n410\n00:21:22.981 --> 00:21:26.908\nyou can match it to do something like an\nemail address or a domain designation for\n\n411\n00:21:26.908 --> 00:21:31.032\nthe email at, it says something like\nfabricam.com, or whatever the case may be.\n\n412\n00:21:31.032 --> 00:21:34.070\nSo we just wanna make sure\nwe're familiar with that.\n\n413\n00:21:34.070 --> 00:21:37.334\nSo we're gonna go ahead and we're\ngonna click Next, just to go ahead and\n\n414\n00:21:37.334 --> 00:21:39.860\nconfigure the rule now that\nwe've made the selection.\n\n415\n00:21:39.860 --> 00:21:41.032\nWe'll have to give it a name.\n\n416\n00:21:41.032 --> 00:21:46.140\nSo we'll label this,\npass through, T-H-R-O-U-G-H.\n\n417\n00:21:46.140 --> 00:21:52.337\nRight, ever do that, spell something\nin your head while you're talking?\n\n418\n00:21:52.337 --> 00:21:53.763\n&gt;&gt; All the time, especially in PowerShell.\n\n419\n00:21:53.763 --> 00:21:54.523\nYeah.\n\n420\n00:21:54.523 --> 00:21:56.056\n&gt;&gt; You still get it wrong, but\n\n421\n00:21:56.056 --> 00:21:59.207\nit still just sounds more\nformal when you do it that way.\n\n422\n00:21:59.207 --> 00:22:03.417\n&gt;&gt; It's like a little bit of help,\nlike your own little cheerleader there.\n\n423\n00:22:03.417 --> 00:22:05.094\n&gt;&gt; Yeah, all right, so pass through\nthe Windows account named room.\n\n424\n00:22:05.094 --> 00:22:07.452\nAnd I'm just labeling it so\nwe know we what it does.\n\n425\n00:22:07.452 --> 00:22:09.596\nGiving it essentially the same name,\nmore or less,\n\n426\n00:22:09.596 --> 00:22:12.239\nas the functionality of the template\nimplies, just so we know.\n\n427\n00:22:12.239 --> 00:22:16.420\nAll right, so there we have, and then from\nthe incoming claim type drop-down list I'm\n\n428\n00:22:16.420 --> 00:22:17.958\ngonna select what we want here.\n\n429\n00:22:17.958 --> 00:22:22.424\nYou can see under specify claim type,\nI'm gonna choose the Windows account name.\n\n430\n00:22:22.424 --> 00:22:24.709\nNotice by the way, this list here, right?\n\n431\n00:22:24.709 --> 00:22:27.521\nAnd you could see just all\nthe different options we have for\n\n432\n00:22:27.521 --> 00:22:31.267\nclients I was mentioning this, just so\nmany things we could see on this list.\n\n433\n00:22:31.267 --> 00:22:33.354\n&gt;&gt; That is a lot.\n&gt;&gt; Some of the things like email, right,\n\n434\n00:22:33.354 --> 00:22:35.921\ngiven name, UPN, common name,\nall sorts of stuff.\n\n435\n00:22:35.921 --> 00:22:37.733\nBut there's quite a lot here, and\n\n436\n00:22:37.733 --> 00:22:41.497\nif we scroll down, you see there's\npart two, part three, part four.\n\n437\n00:22:41.497 --> 00:22:42.794\nIt just keeps going and\ngoing and going, right?\n\n438\n00:22:42.794 --> 00:22:44.944\nNow the only thing I hate about this,\nquite honestly,\n\n439\n00:22:44.944 --> 00:22:46.592\nis that it's not alphabetized, right?\n\n440\n00:22:46.592 --> 00:22:51.063\nSo when you're looking for something like-\n&gt;&gt; Authentication method providers,\n\n441\n00:22:51.063 --> 00:22:53.907\nmethod provider,\nall the way at the bottom there.\n\n442\n00:22:53.907 --> 00:22:56.599\n&gt;&gt; Right, well, just if you're looking\nfor, let's say, I'm looking for\n\n443\n00:22:56.599 --> 00:22:57.765\nWindows account name, right?\n\n444\n00:22:57.765 --> 00:23:00.685\nSo if you kinda go through here,\nwell, Windows device group,\n\n445\n00:23:00.685 --> 00:23:03.838\nWindows deny only is there, but\nWindows account name is not there.\n\n446\n00:23:03.838 --> 00:23:05.180\nYou gotta go back up.\n\n447\n00:23:05.180 --> 00:23:10.145\nSo it's a little bit hard to kinda\nfind some things sometimes because it\n\n448\n00:23:10.145 --> 00:23:11.480\nis not intuitive.\n\n449\n00:23:11.480 --> 00:23:12.924\nThere's Windows account name,\nit's, I don't know,\n\n450\n00:23:12.924 --> 00:23:14.014\nan eighth of the way down or\nwhatever it is.\n\n451\n00:23:14.014 --> 00:23:15.676\nBut it's not alphabetized so\n\n452\n00:23:15.676 --> 00:23:19.613\nit's sometimes just a little tough\nto find what you're looking for.\n\n453\n00:23:19.613 --> 00:23:20.257\nIt would be nicer if it was alphabetized.\n\n454\n00:23:20.257 --> 00:23:24.101\nIt would just make it a little bit easier,\nbut hey, who am I, right?\n\n455\n00:23:24.101 --> 00:23:27.021\nI'm just simply the person who\ngets to explain things to you.\n\n456\n00:23:27.021 --> 00:23:28.347\nAll right, so we have all that, and\n\n457\n00:23:28.347 --> 00:23:30.933\nwe're going to ensure to pass through\nall claim values is selected.\n\n458\n00:23:30.933 --> 00:23:32.541\nIt should be.\n\n459\n00:23:32.541 --> 00:23:35.066\nDo notice we have pass-through\nall specific claims, or\n\n460\n00:23:35.066 --> 00:23:36.600\nonly a specific claim value type.\n\n461\n00:23:36.600 --> 00:23:41.064\nWe could detail that, pass through only\nclaimed values that match a specific email\n\n462\n00:23:41.064 --> 00:23:42.738\nsuffix if we were doing email.\n\n463\n00:23:42.738 --> 00:23:45.767\nSo it can be something like\nat Cherokeecorp.com or\n\n464\n00:23:45.767 --> 00:23:48.097\nsomething along those lines, right?\n\n465\n00:23:48.097 --> 00:23:51.703\nOr pass through only claim values\nthat start with a specific value.\n\n466\n00:23:51.703 --> 00:23:53.534\nSo it could be like a domain designation.\n\n467\n00:23:53.534 --> 00:23:55.464\nYou see there the default domain they use.\n\n468\n00:23:55.464 --> 00:23:57.585\nYou know, Microsoft's FabriKam domain or.\n\n469\n00:23:57.585 --> 00:23:59.012\nSomething like that, but\nwhatever it could be.\n\n470\n00:23:59.012 --> 00:24:01.872\nIt could be filtering, or\nbe specific, or be general.\n\n471\n00:24:01.872 --> 00:24:05.478\nSo we're gonna do this here, and\nthen pass through all claim values.\n\n472\n00:24:05.478 --> 00:24:05.983\nWe've got that.\n\n473\n00:24:05.983 --> 00:24:07.532\nWe'll click finish.\n\n474\n00:24:07.532 --> 00:24:10.686\nPut our rule in place there,\nas you can see.\n\n475\n00:24:10.686 --> 00:24:13.402\nAnd then, you will see that\nthe rule was given a number.\n\n476\n00:24:13.402 --> 00:24:15.752\nWe haven't added more than one rule yet.\n\n477\n00:24:15.752 --> 00:24:18.366\nBut you can see, and probably hit\nwhere I'm going at with this, or\n\n478\n00:24:18.366 --> 00:24:21.448\nfigure out where I'm going with this,\nwhich is, if I had multiple rules, and\n\n479\n00:24:21.448 --> 00:24:23.711\nI start numbering them, and\nthey're applied in order.\n\n480\n00:24:23.711 --> 00:24:26.862\nSo you can see, although they're grayed\nout right now, that I do have arrows here\n\n481\n00:24:26.862 --> 00:24:29.210\nthat I will be able to manipulate\nthe order of these rules in.\n\n482\n00:24:29.210 --> 00:24:32.324\nSo once I get them all in, I can say,\nhey, put this one on the top,\n\n483\n00:24:32.324 --> 00:24:35.967\nand let's go through in this way,\nbecause we are gonna be matching as we go.\n\n484\n00:24:35.967 --> 00:24:38.838\nSo may wanna specify certain\nprioritized order for\n\n485\n00:24:38.838 --> 00:24:42.054\nmaking sure the transform\nrules are going to be applied.\n\n486\n00:24:42.054 --> 00:24:42.728\nSo just keep that in mind.\n\n487\n00:24:42.728 --> 00:24:44.026\nWe're gonna add another rule in here.\n\n488\n00:24:44.026 --> 00:24:46.256\nThat way we can see what we're doing.\n\n489\n00:24:46.256 --> 00:24:48.192\nAnd by the way, just before we do this,\n\n490\n00:24:48.192 --> 00:24:50.914\ndo notice that I can edit\nthe existing rule if I need to.\n\n491\n00:24:50.914 --> 00:24:54.205\nI can also remove a rule, if I decide\nit's just not gonna be appropriate for\n\n492\n00:24:54.205 --> 00:24:55.000\nsome odd reason.\n\n493\n00:24:55.000 --> 00:24:58.212\nSo, I can go in there and\nmanipulate those if I need to.\n\n494\n00:24:58.212 --> 00:25:02.224\nAll right, we're going to do another pass\nthrough or filter an incoming claim rule.\n\n495\n00:25:02.224 --> 00:25:04.576\nSo essentially, same rule we just did.\n\n496\n00:25:04.576 --> 00:25:06.777\nLet's just go back there.\n\n497\n00:25:06.777 --> 00:25:08.935\nNot gonna bother to walk\nthrough the explanation,\n\n498\n00:25:08.935 --> 00:25:10.701\ncuz we already talked about what that is.\n\n499\n00:25:10.701 --> 00:25:12.357\nYou guys have seen that or\nheard that already.\n\n500\n00:25:12.357 --> 00:25:15.185\nThis time, we're gonna do email,\ninstead of just Windows account names.\n\n501\n00:25:15.185 --> 00:25:16.939\nSo we're gonna create another\ninstance of this rule.\n\n502\n00:25:16.939 --> 00:25:19.464\nWe're gonna add email in as\nthe claim we're gonna use.\n\n503\n00:25:19.464 --> 00:25:21.355\nSo we're just gonna go ahead and\nlabel that real quick.\n\n504\n00:25:21.355 --> 00:25:23.058\nSo we're gonna do pass through emails.\n\n505\n00:25:23.058 --> 00:25:27.546\nSo let's do pass through-\n&gt;&gt; So would these build upon each other,\n\n506\n00:25:27.546 --> 00:25:31.020\nand I'd have to have that Windows name and\nthe email, or how does that work?\n\n507\n00:25:31.020 --> 00:25:31.934\n&gt;&gt; I'm not gonna tell you.\n\n508\n00:25:31.934 --> 00:25:32.821\nIt's a secret.\n&gt;&gt; [LAUGH]\n\n509\n00:25:32.821 --> 00:25:33.321\n&gt;&gt; Okay.\n\n510\n00:25:33.321 --> 00:25:35.138\n&gt;&gt; Stop asking such annoying questions.\n\n511\n00:25:35.138 --> 00:25:35.809\n&gt;&gt; Aah!\n\n512\n00:25:35.809 --> 00:25:37.974\n&gt;&gt; All right, so give me just one sec.\n\n513\n00:25:37.974 --> 00:25:39.745\nWe're gonna talk through that,\n\n514\n00:25:39.745 --> 00:25:41.657\njust give me one second.\nYou're screwing up\n\n515\n00:25:41.657 --> 00:25:42.636\nmy spelling here.\n&gt;&gt; [LAUGH]\n\n516\n00:25:42.636 --> 00:25:44.332\n&gt;&gt; My internal voice is not loud enough to\n\n517\n00:25:44.332 --> 00:25:47.308\ndrown you out.\nAll right, so email, that's through email\n\n518\n00:25:47.308 --> 00:25:51.347\naddress rules, so we got that.\nWe're gonna go ahead and incoming type.\n\n519\n00:25:51.347 --> 00:25:53.187\nI gotta do email here, so let's do email.\n\n520\n00:25:53.187 --> 00:25:54.153\nNow, the nice thing is,\n\n521\n00:25:54.153 --> 00:25:56.730\nemail happens to be at the top of\nthe list, cuz more often than not,\n\n522\n00:25:56.730 --> 00:26:00.344\none of the most popular ones we use.\nSo that part's actually easy to find.\n\n523\n00:26:00.344 --> 00:26:00.872\nAll right, so\n\n524\n00:26:00.872 --> 00:26:03.618\nwe're gonna pass through all claim values.\nLet's hit finish there.\n\n525\n00:26:03.618 --> 00:26:04.995\nLet's make sure I got that correct.\n\n526\n00:26:04.995 --> 00:26:06.502\nI did do email, okay.\n\n527\n00:26:06.502 --> 00:26:07.598\nJust make sure, you never know.\n\n528\n00:26:07.598 --> 00:26:09.392\nAll right, so we got that, as well.\n\n529\n00:26:09.392 --> 00:26:11.008\nSo we have two of those there.\n\n530\n00:26:11.008 --> 00:26:14.613\nAnd you can see that we can go ahead, and\n\n531\n00:26:14.613 --> 00:26:17.952\nwe can add them in.\nI'm just gonna reorder them here for\n\n532\n00:26:17.952 --> 00:26:20.629\njust a second, if I wanted to.\nYou could see, I can kinda move them up\n\n533\n00:26:20.629 --> 00:26:22.943\nand down, like I was talking about.\nWe can manipulate these.\n\n534\n00:26:22.943 --> 00:26:24.358\nAnd so when we're doing this and\n\n535\n00:26:24.358 --> 00:26:25.513\nwe're transforming, or\n\n536\n00:26:25.513 --> 00:26:28.714\ngoing through the transforms that\nspecify the claims that will be sent,\n\n537\n00:26:28.714 --> 00:26:32.318\nwe're gonna match these claims, right?\nWe're gonna have to have all of these,\n\n538\n00:26:32.318 --> 00:26:35.007\nessentially, as we stack them up,\nwe're gonna say, okay,\n\n539\n00:26:35.007 --> 00:26:37.924\ndo we have a Windows account,\na name, do we have an email account?\n\n540\n00:26:37.924 --> 00:26:38.576\nIf we match one or\n\n541\n00:26:38.576 --> 00:26:41.812\nmore of those, we will be able to move\nthrough, because we permitted everybody.\n\n542\n00:26:41.812 --> 00:26:44.044\nWe're doing that so we can actually have,\n\n543\n00:26:44.044 --> 00:26:46.958\nin this case, have them go,\nso it'll be nice, right?\n\n544\n00:26:46.958 --> 00:26:48.092\nSo all right, so where am I?\n\n545\n00:26:48.092 --> 00:26:49.316\nWe're back here,\n\n546\n00:26:49.316 --> 00:26:53.487\nI've got those two transform rules.\nWe're gonna add one more for UPN.\n\n547\n00:26:53.487 --> 00:26:54.958\nWe're gonna add one more and\n\n548\n00:26:54.958 --> 00:26:58.023\nhave all three of these stack up,\nso we can match all three,\n\n549\n00:26:58.023 --> 00:27:00.801\nto be able to do this.\nSo let me do add rule here,\n\n550\n00:27:00.801 --> 00:27:03.970\ncuz I did program in UPN.\nAnd I'll show you where the claims come\n\n551\n00:27:03.970 --> 00:27:07.231\nfrom, all right, just in terms of what\nwe're talking about, in just a minute.\n\n552\n00:27:07.231 --> 00:27:08.928\nAll right, so I'm gonna do one more.\n\n553\n00:27:08.928 --> 00:27:10.348\nI'm gonna do past or filter.\n\n554\n00:27:10.348 --> 00:27:11.772\n&gt;&gt; User principal name?\n\n555\n00:27:11.772 --> 00:27:12.871\n&gt;&gt; The user principal name?\n\n556\n00:27:12.871 --> 00:27:13.914\n&gt;&gt; Yeah, the UPN, right.\n\n557\n00:27:13.914 --> 00:27:17.225\nI'm gonna add the UPN as well, just one\nmore, so I'm just gonna add another one in\n\n558\n00:27:17.225 --> 00:27:19.251\nhere real quick, and\njust make sure we have that.\n\n559\n00:27:19.251 --> 00:27:20.519\nSo give me a second.\n\n560\n00:27:20.519 --> 00:27:21.720\nLet me add that in.\n\n561\n00:27:21.720 --> 00:27:25.892\nLet's just call this pass through UPN.\n\n562\n00:27:25.892 --> 00:27:27.197\nRight, we'll do UPN there.\n\n563\n00:27:27.197 --> 00:27:29.025\nOkay great, so we've got that.\n\n564\n00:27:29.025 --> 00:27:33.178\nAnd we're gonna do a UPN type for\nour claim.\n\n565\n00:27:33.178 --> 00:27:35.724\nAll right, so let's do that.\n\n566\n00:27:35.724 --> 00:27:38.841\nPull that down.\n\n567\n00:27:38.841 --> 00:27:40.726\nUPN right at the top there.\n\n568\n00:27:40.726 --> 00:27:41.850\nAll right, so we've got UPN.\n\n569\n00:27:41.850 --> 00:27:44.656\nWe're gonna make sure that's pass\nthrough all claim types as well.\n\n570\n00:27:44.656 --> 00:27:45.436\nSo we've got that.\n\n571\n00:27:45.436 --> 00:27:47.385\nAll right, so\nwe got that all set up there.\n\n572\n00:27:47.385 --> 00:27:53.074\nAnd then, let me go through and yeah,\nname, I forgot, I gotta do name as well.\n\n573\n00:27:53.074 --> 00:27:54.466\nI'm just looking at my hit list here.\n\n574\n00:27:54.466 --> 00:27:57.617\nGot a total of four that we set up,\nso we'll do one more.\n\n575\n00:27:57.617 --> 00:28:02.122\nThat going in there, that going in there,\nand what's that one?\n\n576\n00:28:02.122 --> 00:28:06.013\nPass through name rules, so\n\n577\n00:28:06.013 --> 00:28:10.073\nwe'll do pass through name.\n\n578\n00:28:10.073 --> 00:28:13.725\nAll right, so we got that, and\nthat's going to be our name type.\n\n579\n00:28:13.725 --> 00:28:20.357\nSo let me just scroll down, and\nyou are claimed for name, right there.\n\n580\n00:28:20.357 --> 00:28:22.676\nAll right,\nwe're going to do a pass through for\n\n581\n00:28:22.676 --> 00:28:24.190\nall claims on that one as well.\n\n582\n00:28:24.190 --> 00:28:25.546\nAll right, so we've got all that.\n\n583\n00:28:25.546 --> 00:28:29.326\nAnd so now that we have that,\nlet me just click OK,\n\n584\n00:28:29.326 --> 00:28:32.849\nwe'll kinda close that out,\nand apply that.\n\n585\n00:28:32.849 --> 00:28:37.710\nSo we now have our relying party trust,\nas you can see.\n\n586\n00:28:37.710 --> 00:28:41.032\nWe've gone in, we've added in our rules.\n\n587\n00:28:41.032 --> 00:28:46.077\nSo let's go in and\nlet's go to Properties, really quickly.\n\n588\n00:28:46.077 --> 00:28:49.176\nLet's take a look at kinda some of\nthe stuff that may be going on up here.\n\n589\n00:28:49.176 --> 00:28:50.816\nLet me move that up so you can see.\n\n590\n00:28:50.816 --> 00:28:52.968\nAll right, so we've got a bunch of\ndifferent tabs up here you may be\n\n591\n00:28:52.968 --> 00:28:53.516\ninterested in.\n\n592\n00:28:53.516 --> 00:28:55.771\nCould we go to full screen so\nyou could see this a little bit bigger,\n\n593\n00:28:55.771 --> 00:28:56.588\ncuz it's kinda small.\n\n594\n00:28:56.588 --> 00:28:58.014\nIt's kinda hard to see\nwhat's going on there.\n\n595\n00:28:58.014 --> 00:28:59.913\nOr we could stay box in box.\n\n596\n00:28:59.913 --> 00:29:00.928\nWe could do that either way.\n\n597\n00:29:00.928 --> 00:29:01.430\nLet's try it.\n\n598\n00:29:01.430 --> 00:29:02.463\nThere we go, one more time.\n\n599\n00:29:02.463 --> 00:29:05.302\nLittle latency in delay on our\nrequest to go full screen there.\n\n600\n00:29:05.302 --> 00:29:06.195\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n601\n00:29:06.195 --> 00:29:08.411\nwe're just gonna take a look at a couple\nof things that are in here real quick.\n\n602\n00:29:08.411 --> 00:29:12.519\nYou'll see that we do\nhave the monitoring tab.\n\n603\n00:29:12.519 --> 00:29:15.373\nWe have our relying parties\nfederation metadata URL.\n\n604\n00:29:15.373 --> 00:29:16.923\nYou can see there, we do have that URL.\n\n605\n00:29:16.923 --> 00:29:19.790\nWe can test it and\nmake sure it's available, if we need to.\n\n606\n00:29:19.790 --> 00:29:24.174\nThe monitor relying party\ncheck box is checked off.\n\n607\n00:29:24.174 --> 00:29:28.702\nAnd automatically update the relying\nparty, so that we can check the importance\n\n608\n00:29:28.702 --> 00:29:32.963\nof this, or rather, check the freshness\nof this data if it does update, and\n\n609\n00:29:32.963 --> 00:29:35.309\nmake sure that it is\nbeing kept up to date.\n\n610\n00:29:35.309 --> 00:29:36.416\nSo you could go in.\n\n611\n00:29:36.416 --> 00:29:37.509\nYou could test there.\n\n612\n00:29:37.509 --> 00:29:38.964\nYou'll see it was validated successfully.\n\n613\n00:29:38.964 --> 00:29:40.475\nIt's what we expect to see if we go ahead.\n\n614\n00:29:40.475 --> 00:29:42.555\nAnd we click that,\nmeaning the URL link is good.\n\n615\n00:29:42.555 --> 00:29:44.239\nAnd we know that it is available to us.\n\n616\n00:29:44.239 --> 00:29:46.643\nRight, so the trust was successfully\ncreated, in other words.\n\n617\n00:29:46.643 --> 00:29:49.961\nBy being able to access that metadata URL,\nthat's our, hey,\n\n618\n00:29:49.961 --> 00:29:53.042\nis the trust really working,\nkind of indicator, right?\n\n619\n00:29:53.042 --> 00:29:55.177\nBe great if they just had a little\nsmiley face, or an unhappy face.\n\n620\n00:29:55.177 --> 00:29:57.361\n&gt;&gt; [LAUGH]\n&gt;&gt; Or like a half smiley half,\n\n621\n00:29:57.361 --> 00:29:59.373\nit's a half trust, not totally there.\n\n622\n00:29:59.373 --> 00:30:02.656\nRight, you could think of all these\nways to come up with kind of a UI.\n\n623\n00:30:02.656 --> 00:30:06.149\nBut again, the lobby at Microsoft for\nthe people with the box and\n\n624\n00:30:06.149 --> 00:30:10.563\nthe blue circle seems to be really strong,\nand so they're the ones that win out.\n\n625\n00:30:10.563 --> 00:30:13.706\nBut you can see, we do wanna check and\nvalidate the success here, right,\n\n626\n00:30:13.706 --> 00:30:14.681\nit is very important.\n\n627\n00:30:14.681 --> 00:30:15.693\nAll kidding aside,\n\n628\n00:30:15.693 --> 00:30:19.155\nthis does tell us that our trust\nwas actually successfully created.\n\n629\n00:30:19.155 --> 00:30:22.234\nSo very important to go in and\nmake sure we have been able to do that.\n\n630\n00:30:22.234 --> 00:30:23.610\nSo we're taking a look.\n\n631\n00:30:23.610 --> 00:30:28.065\nAnd once we have done this,\nwe would obviously go and\n\n632\n00:30:28.065 --> 00:30:30.509\ndo the claim provider side.\n\n633\n00:30:30.509 --> 00:30:31.896\nWe just did the relying party trust,\nright?\n\n634\n00:30:31.896 --> 00:30:34.347\nAnd so let me just do two things.\n\n635\n00:30:34.347 --> 00:30:36.559\nLet me just show you quickly\na couple things that are in here.\n\n636\n00:30:36.559 --> 00:30:38.838\nAnd then I'll just talk quickly\nabout the claim provider side.\n\n637\n00:30:38.838 --> 00:30:40.474\nI'm not gonna do the claim provider side,\n\n638\n00:30:40.474 --> 00:30:43.072\ncuz it's identical to what we just\ndid from the other perspective.\n\n639\n00:30:43.072 --> 00:30:45.559\nWe're just showing you\nhalf of the solution,\n\n640\n00:30:45.559 --> 00:30:49.015\nimplying that you would create it and\nconfigure it the same way.\n\n641\n00:30:49.015 --> 00:30:53.146\nI'm just showing you the steps involved,\nbut I will point out what we need to do.\n\n642\n00:30:53.146 --> 00:30:55.613\nBut just since we're here, let's look\nat Properties for just a minute.\n\n643\n00:30:55.613 --> 00:30:59.062\nWe do have our identifiers here,\nour relying party identifiers.\n\n644\n00:30:59.062 --> 00:31:01.424\nThese are all the URLs,\nthe ones that we have put in,\n\n645\n00:31:01.424 --> 00:31:03.748\nalong with all the others\nthat are used to resolve.\n\n646\n00:31:03.748 --> 00:31:08.464\nIf we are using an encryption here, we'll\nbe able to see that we are able to take\n\n647\n00:31:08.464 --> 00:31:12.554\na look at the certificate that will\nbe used for encryption, right?\n\n648\n00:31:12.554 --> 00:31:14.914\nNotice it's not trusted,\nbut it is available to us.\n\n649\n00:31:14.914 --> 00:31:16.879\nSo we could see it there.\n\n650\n00:31:16.879 --> 00:31:18.883\nWe can look at the signature information.\n\n651\n00:31:18.883 --> 00:31:20.518\nThere's our signature certificate.\n\n652\n00:31:20.518 --> 00:31:24.776\nSo again we can take a look,\nview the certificate there, and\n\n653\n00:31:24.776 --> 00:31:27.043\nwe can see that it is available.\n\n654\n00:31:27.043 --> 00:31:29.611\nWe can look at accepted claims.\n\n655\n00:31:29.611 --> 00:31:33.009\nThis is obviously important\nto go take a look at.\n\n656\n00:31:33.009 --> 00:31:36.544\nWe can see here,\na list of potential claims, and\n\n657\n00:31:36.544 --> 00:31:40.269\nwhether any of them are going\nto be required or not.\n\n658\n00:31:40.269 --> 00:31:43.757\nNone are required, right, cuz remember,\nwe put four on the list and said,\n\n659\n00:31:43.757 --> 00:31:45.568\nlet's try to filter a match for those.\n\n660\n00:31:45.568 --> 00:31:46.900\nBut we said, permit everybody.\n\n661\n00:31:46.900 --> 00:31:49.151\nWe're not filtering\nbased on a certain type.\n\n662\n00:31:49.151 --> 00:31:53.130\nSo we're just listing these accepted\nclaims and saying that they could be used,\n\n663\n00:31:53.130 --> 00:31:54.720\nbut we're not requiring them.\n\n664\n00:31:54.720 --> 00:31:57.496\nRemember, we could say, hey,\nyou must have this claim.\n\n665\n00:31:57.496 --> 00:32:00.408\nIf you don't have this claim,\nwe're not going to let you in,\n\n666\n00:32:00.408 --> 00:32:03.040\nmeaning that if you don't\nprovide your email address,\n\n667\n00:32:03.040 --> 00:32:06.736\nif you don't provide your domain name,\nor your UPN, you're not getting in.\n\n668\n00:32:06.736 --> 00:32:08.671\n&gt;&gt; Right.\n&gt;&gt; But we've made it, essentially,\n\n669\n00:32:08.671 --> 00:32:11.183\npermit all, and\nwhile we've put claims in on the list,\n\n670\n00:32:11.183 --> 00:32:13.595\non the reliant party trust,\nwe've specified four.\n\n671\n00:32:13.595 --> 00:32:14.214\n&gt;&gt; Allowing that either or.\n\n672\n00:32:14.214 --> 00:32:15.821\n&gt;&gt; Claims that we'd like to see.\n\n673\n00:32:15.821 --> 00:32:16.981\nWe're not saying they're required.\n\n674\n00:32:16.981 --> 00:32:19.055\n&gt;&gt; Right.\n&gt;&gt; We're not saying hey, do this or else.\n\n675\n00:32:19.055 --> 00:32:21.694\nWe're just saying these are ones that\nwould most likely were full to perform if\n\n676\n00:32:21.694 --> 00:32:23.098\nyou do provide these, we will allow you.\n\n677\n00:32:23.098 --> 00:32:26.289\nAnd so we're not necessarily\nseeing any central required here,\n\n678\n00:32:26.289 --> 00:32:28.957\nbut it is important just to note that,\nand to see that we\n\n679\n00:32:28.957 --> 00:32:32.804\ncould see that they have been central\nrequired, right, if we choose to look.\n\n680\n00:32:32.804 --> 00:32:35.650\nWe don't really have anything on\norganization here, but under end points,\n\n681\n00:32:35.650 --> 00:32:36.801\nsome interesting stuff to me.\n\n682\n00:32:36.801 --> 00:32:40.088\nJust be of interest to\nyou to go take a look at.\n\n683\n00:32:40.088 --> 00:32:44.559\nThis is gonna set up all the URLs that we\ntalked about for the various information\n\n684\n00:32:44.559 --> 00:32:48.580\nthat we can use and get and resolve\nwith regards to how we test the trust.\n\n685\n00:32:48.580 --> 00:32:52.425\nThe metadata information,\nas you saw, for federation so\n\n686\n00:32:52.425 --> 00:32:56.902\nwe could see the ADFF's\npracticelabs.com URL that we specified,\n\n687\n00:32:56.902 --> 00:33:01.156\nalong with all the others for\nSAMAL as well as the WS federation.\n\n688\n00:33:01.156 --> 00:33:02.862\nSo we can see that here.\n\n689\n00:33:02.862 --> 00:33:04.462\nAnd we can see information.\n\n690\n00:33:04.462 --> 00:33:06.422\nJust, very very basic.\n\n691\n00:33:06.422 --> 00:33:09.236\nNothing really fancy here but\nto see what's there.\n\n692\n00:33:09.236 --> 00:33:14.660\nWe can if we do have any proxy endpoints,\nsee those listed as well.\n\n693\n00:33:14.660 --> 00:33:17.660\nWe didn't put in any notes in so we're\nnot gonna see anything there of course.\n\n694\n00:33:17.660 --> 00:33:21.256\nAnd under advanced, the only thing we\nsee is the algorithm that's used for\n\n695\n00:33:21.256 --> 00:33:22.124\nsecure hashing.\n\n696\n00:33:22.124 --> 00:33:24.769\nRemember we talked about in\none of our prior episodes,\n\n697\n00:33:24.769 --> 00:33:27.310\nthe fact that we have\nswitched away from SHY160.\n\n698\n00:33:27.310 --> 00:33:29.836\nWe're now on SHY256 as our\ndefault signing algorithm.\n\n699\n00:33:29.836 --> 00:33:31.530\nThat's new in Server16.\n\n700\n00:33:31.530 --> 00:33:33.392\nThat is an update that we have seen.\n\n701\n00:33:33.392 --> 00:33:35.569\nEarlier versions would\nhave defaulted to SHY.\n\n702\n00:33:35.569 --> 00:33:39.378\nWhat you would have seen in SHY1,\nwhich we generically refer to as SHY1,\n\n703\n00:33:39.378 --> 00:33:40.716\nit's really SHY160.\n\n704\n00:33:40.716 --> 00:33:44.673\nSo just know that while we move to\nShy256 as opposed to Shy1, it is there.\n\n705\n00:33:44.673 --> 00:33:46.999\nIt is an option.\n\n706\n00:33:46.999 --> 00:33:50.041\nBut the standard default is now this\nbecause the changes being stronger and\n\n707\n00:33:50.041 --> 00:33:51.498\nprovides more robust protection.\n\n708\n00:33:51.498 --> 00:33:53.798\nSo just so you're aware of that.\n\n709\n00:33:53.798 --> 00:33:55.404\nSo we do see a lot in\nthe properties there.\n\n710\n00:33:55.404 --> 00:33:58.919\nIt may be worth your time just to go and\ntake a look poke around under the hood\n\n711\n00:33:58.919 --> 00:34:01.435\na little bit just to make\nsure you see what's there.\n\n712\n00:34:01.435 --> 00:34:07.380\nI did say that we would obviously\nput in the claims provider trust.\n\n713\n00:34:07.380 --> 00:34:09.182\nAnd we would go in and\nbe able to do that as well.\n\n714\n00:34:09.182 --> 00:34:13.090\nYou'll see here that on\nthe claims provider trust under\n\n715\n00:34:13.090 --> 00:34:17.010\nActive Directory enabled yes,\nI can edit claim rules.\n\n716\n00:34:17.010 --> 00:34:21.845\nAnd you'll notice here, that I do have\na bunch of rules that are already there,\n\n717\n00:34:21.845 --> 00:34:23.515\none through ten are there.\n\n718\n00:34:23.515 --> 00:34:27.710\nPass through all Windows account names,\nname claims, SID claims, etc.\n\n719\n00:34:27.710 --> 00:34:32.303\nBut you could add in, I added in\nan outgoing LDAP attribute rule for\n\n720\n00:34:32.303 --> 00:34:34.445\nemail, UPN name, et cetera.\n\n721\n00:34:34.445 --> 00:34:38.482\nAnd this one, which is mapped right here,\nis where we get email address, UPN, and\n\n722\n00:34:38.482 --> 00:34:40.690\nname in terms of the claims\nwe just provided.\n\n723\n00:34:40.690 --> 00:34:45.492\nOr said we wanna map on\nthe relying party trust, right?\n\n724\n00:34:45.492 --> 00:34:48.558\nSo these are the claim rules that allow\nme to ensure that as they're outgoing,\n\n725\n00:34:48.558 --> 00:34:49.631\nI can accept them, right?\n\n726\n00:34:49.631 --> 00:34:51.754\nWhen I provide them on the other side.\n\n727\n00:34:51.754 --> 00:34:55.532\nSo, I've gone ahead and\njust done this and set this up as well.\n\n728\n00:34:55.532 --> 00:34:58.175\nSo we have all of this,\nwhen you come back and\n\n729\n00:34:58.175 --> 00:35:01.963\nwe take a look [COUGH] I'm just\nwrapping up just a couple of odds so\n\n730\n00:35:01.963 --> 00:35:05.687\nbasically done with the setup,\nfor up for the most part here.\n\n731\n00:35:05.687 --> 00:35:10.530\nI will show you how to create this claims\nprovider trust for the claims web app.\n\n732\n00:35:10.530 --> 00:35:12.956\nThis other part that we're gonna do real\nquick, just to go in and set this up.\n\n733\n00:35:12.956 --> 00:35:16.530\nThat'll be part three, I suppose, right?\n\n734\n00:35:16.530 --> 00:35:17.035\nIn this discussion.\n\n735\n00:35:17.035 --> 00:35:19.197\nBecause we're just about out of time here.\n\n736\n00:35:19.197 --> 00:35:21.023\nWe're gonna spin one more up real quick,\n\n737\n00:35:21.023 --> 00:35:23.850\nmake sure we can add in just the last\nlittle pieces of the puzzle.\n\n738\n00:35:23.850 --> 00:35:27.317\nAnd finish up this walk-through\nwith how we set up ADFS end to end.\n\n739\n00:35:27.317 --> 00:35:28.512\n&gt;&gt; All right, sounds like a plan.\n\n740\n00:35:28.512 --> 00:35:32.357\nSo I think that's a part three for when\nwe've started the actual demonstration.\n\n741\n00:35:32.357 --> 00:35:34.444\nBut for\nyou guys that should be a part four.\n\n742\n00:35:34.444 --> 00:35:36.216\n&gt;&gt; Part four overall.\n\n743\n00:35:36.216 --> 00:35:38.620\n&gt;&gt; Yeah, so just make sure you catch that.\nWe'll be heading that up here in a few\n\n744\n00:35:38.620 --> 00:35:40.431\nmoments, so stay tuned for that.\n\n745\n00:35:40.431 --> 00:35:42.471\nBut for this show,\nwe'll go ahead and sign out.\n\n746\n00:35:42.471 --> 00:35:43.934\nI've been your host Cherokee Boose.\n\n747\n00:35:43.934 --> 00:35:45.703\n&gt;&gt; I am Adam Gordon.\n\n748\n00:35:45.703 --> 00:35:48.452\n&gt;&gt; See you next time here at ITProTV.\n\n749\n00:35:48.452 --> 00:35:54.214\n[MUSIC]\n\n750\n00:35:54.214 --> 00:35:57.686\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "232828689"
        },
        {
          "description": "In this episode, Cherokee and Adam continue to configure ADFS. Specifically, Adam shows how to set up the claim provider trust.",
          "length": "578",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-4-implementing_and_administering_ad_fs_pt4-090117.00_09_25_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-4-implementing_and_administering_ad_fs_pt4-090117.00_09_25_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-4-implementing_and_administering_ad_fs_pt4-090117.00_09_25_06.Still001-sm.jpg",
          "title": "Implementing and Administering AD FS Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.318\nWelcome to ITProTV.\n\n2\n00:00:01.318 --> 00:00:02.579\nI'm your host, Don Pezet.\n\n3\n00:00:02.579 --> 00:00:06.401\n[CROSSTALK]\n\n4\n00:00:06.401 --> 00:00:08.417\n[MUSIC]\n\n5\n00:00:08.417 --> 00:00:12.107\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.107 --> 00:00:16.220\n&gt;&gt; Welcome ladies and gentlemen,\nto Identity with Windows Server 2016.\n\n7\n00:00:16.220 --> 00:00:18.252\nI'm your show host, Cherokee Boose.\n\n8\n00:00:18.252 --> 00:00:22.185\nIn this episode, we'll continue\ntaking a look at implementing and\n\n9\n00:00:22.185 --> 00:00:25.504\nadministering active directory\nfederation services.\n\n10\n00:00:25.504 --> 00:00:28.671\nBack in studios with us today,\nwe have Mr. Adam Gordon.\n\n11\n00:00:28.671 --> 00:00:30.157\nThank you for joining us today Adam.\n\n12\n00:00:30.157 --> 00:00:31.087\n&gt;&gt; You're welcome.\n\n13\n00:00:31.087 --> 00:00:32.119\nGlad to be back.\n\n14\n00:00:32.119 --> 00:00:35.567\nIt seems like only five minutes ago\nthat we were just here doing something.\n\n15\n00:00:35.567 --> 00:00:37.804\n&gt;&gt; [LAUGH]\n&gt;&gt; It's the magic ITProTV.\n\n16\n00:00:37.804 --> 00:00:39.791\nI tell you it's like\nbeing in a time machine.\n\n17\n00:00:39.791 --> 00:00:41.213\nYou could travel back and forth.\n\n18\n00:00:41.213 --> 00:00:43.281\n&gt;&gt; That's right, we're actually in\nthe middle of something, right?\n\n19\n00:00:43.281 --> 00:00:44.503\n&gt;&gt; We are in the middle of something,\nI was gonna say.\n\n20\n00:00:44.503 --> 00:00:47.001\nWe're gonna jump right back and\npick right back where we left off.\n\n21\n00:00:47.001 --> 00:00:50.663\nWe had been talking in our last episode\nand by the way, if you haven't seen that\n\n22\n00:00:50.663 --> 00:00:54.235\nlast episode and the one before that,\nreally need to go back and take a look.\n\n23\n00:00:54.235 --> 00:00:58.108\nSo what we're doing is building\nthe ADFS solution in pieces,\n\n24\n00:00:58.108 --> 00:01:00.415\nand we've gone through and set up and\n\n25\n00:01:00.415 --> 00:01:04.971\ninstalled the configured the ADFS\nfeatures on both sides of the divide.\n\n26\n00:01:04.971 --> 00:01:08.014\nThe claim provider and\nthe relying party, we've gone ahead and\n\n27\n00:01:08.014 --> 00:01:09.150\ninstalled all of that.\n\n28\n00:01:09.150 --> 00:01:13.472\nIt was kinda the first part of this,\nwe then went ahead just to the very last\n\n29\n00:01:13.472 --> 00:01:18.169\nepisode and set up and configured the\nrelying party trust side of the equation.\n\n30\n00:01:18.169 --> 00:01:21.847\nWe're about to do the claim provider trust\njust to flip it around show you what\n\n31\n00:01:21.847 --> 00:01:23.836\nthe other side of that window looks like.\n\n32\n00:01:23.836 --> 00:01:27.176\nBut we actually also threw in a little\ntroubleshooting about hey, what goes\n\n33\n00:01:27.176 --> 00:01:30.794\nwrong, we have some certificates,\nhave some issues something's not working.\n\n34\n00:01:30.794 --> 00:01:32.134\nHow do we add them in?\n\n35\n00:01:32.134 --> 00:01:33.023\nHow do we deal with that?\n\n36\n00:01:33.023 --> 00:01:35.195\nHow do we address them and repurpose them?\n\n37\n00:01:35.195 --> 00:01:37.698\nI walked you through a quick\nscenario around that.\n\n38\n00:01:37.698 --> 00:01:40.690\nAnd we went ahead and took a look\nunder the hood at some of the service\n\n39\n00:01:40.690 --> 00:01:43.267\nconfiguration options in\nthe ADFS management console.\n\n40\n00:01:43.267 --> 00:01:45.767\nSo definitely important for\nyou to go back and take a look at that.\n\n41\n00:01:45.767 --> 00:01:46.846\nWe're gonna jump back in.\n\n42\n00:01:46.846 --> 00:01:48.892\nI've switched machines in the interim,\nby the way.\n\n43\n00:01:48.892 --> 00:01:50.943\nWe're now on the claim provider side,\n\n44\n00:01:50.943 --> 00:01:54.126\nwe were on the relying party\nside in our last demonstration.\n\n45\n00:01:54.126 --> 00:01:56.137\nWe're now on the claim provider side.\n\n46\n00:01:56.137 --> 00:01:59.726\nWe take a look at the relying party trust,\nwe will see they're not listed here,\n\n47\n00:01:59.726 --> 00:02:01.613\ncuz we created them on the other machine.\n\n48\n00:02:01.613 --> 00:02:04.243\nWe're on the claim provider\ntrust side now, so\n\n49\n00:02:04.243 --> 00:02:06.427\nI'm gonna go to claim provider trust.\n\n50\n00:02:06.427 --> 00:02:10.120\nRight click, you could see here,\nor select I should say.\n\n51\n00:02:10.120 --> 00:02:13.609\nWe have Active Directory,\nit is enabled here as our initial item.\n\n52\n00:02:13.609 --> 00:02:17.181\nWe're gonna go ahead and\nwhat we're gonna do is crank out or\n\n53\n00:02:17.181 --> 00:02:19.473\nadd in another claim provider trust.\n\n54\n00:02:19.473 --> 00:02:23.661\nSo we're gonna go right click here, add\nclaim provider trust just like we did for\n\n55\n00:02:23.661 --> 00:02:27.802\nthe relying party trust, essentially\nthe same idea, just the opposite side.\n\n56\n00:02:27.802 --> 00:02:33.499\nWe're gonna name this, or rather select\nthe data source for this I should say.\n\n57\n00:02:33.499 --> 00:02:36.821\nAnd so, we did this,\nyou saw me do this in the last episode,\n\n58\n00:02:36.821 --> 00:02:39.218\nwe did this with the relying party trusts.\n\n59\n00:02:39.218 --> 00:02:43.917\nAnd so, that one was the ADFS\npracticelab.com, right?\n\n60\n00:02:43.917 --> 00:02:46.499\nThis one is gonna be\nthe practiceit.code.uk one,\n\n61\n00:02:46.499 --> 00:02:50.253\ncuz it's the other side of our federation,\nthe equivalent of a Cherokee and\n\n62\n00:02:50.253 --> 00:02:53.030\nAdam companies that we're\nlinking together, right?\n\n63\n00:02:53.030 --> 00:02:59.796\nSo I'm gonna put in\nadfs.practicesitet.co.uk,\n\n64\n00:02:59.796 --> 00:03:04.314\nI'm supposed to backslash there.\n\n65\n00:03:04.314 --> 00:03:08.455\nAll right, so adfspracticesitet.co.uk.\n\n66\n00:03:08.455 --> 00:03:09.102\nSo we got that.\n\n67\n00:03:09.102 --> 00:03:13.885\nWe've already talked through in the prior\nepisode the differences between importing\n\n68\n00:03:13.885 --> 00:03:15.980\ndata, specifying the metadata URL,\n\n69\n00:03:15.980 --> 00:03:19.201\nimporting from a file, and\nor entering claims manually.\n\n70\n00:03:19.201 --> 00:03:21.736\nSo we've given you the logic around those,\n\n71\n00:03:21.736 --> 00:03:24.967\njust using our default choice again here,\nclick Next.\n\n72\n00:03:24.967 --> 00:03:28.644\nWe have to name this for\nour display purposes.\n\n73\n00:03:28.644 --> 00:03:37.039\nWe'll call this one the practice\nIT claims provider.\n\n74\n00:03:37.039 --> 00:03:39.239\nAnd we'll click Next.\n\n75\n00:03:39.239 --> 00:03:41.732\nWe are seeing our metadata URL.\n\n76\n00:03:41.732 --> 00:03:45.916\nWe talked about significant of this and\nhow this used to access the data to\n\n77\n00:03:45.916 --> 00:03:49.151\nconfigure and establish a trust for\nthe ADFS solution.\n\n78\n00:03:49.151 --> 00:03:51.747\nWe tested that in the other demo and\nshowed that, and\n\n79\n00:03:51.747 --> 00:03:55.357\nobviously we would have the same\nthought process here when we finish up.\n\n80\n00:03:55.357 --> 00:03:59.003\nSo we're just looking at that, we've got\neverything ready to go it looks like.\n\n81\n00:03:59.003 --> 00:04:01.404\nWe're gonna go ahead,\nwe're gonna click Next.\n\n82\n00:04:01.404 --> 00:04:04.332\nWe're gonna leave that check mark there,\nwe wanna be able to go ahead and\n\n83\n00:04:04.332 --> 00:04:05.350\ntake a look at the rules.\n\n84\n00:04:05.350 --> 00:04:07.666\nSo we're gonna make sure that is the case.\n\n85\n00:04:07.666 --> 00:04:10.614\nWe'll click Close, we'll instantiate that.\n\n86\n00:04:10.614 --> 00:04:15.546\nSo we do now have our claims provider\ntrust or second one setup there.\n\n87\n00:04:15.546 --> 00:04:18.450\nWe're gonna configure some claim\nrules now for the provider trust.\n\n88\n00:04:18.450 --> 00:04:23.191\nSo we're gonna go in, we're gonna right\nclick on our new claim provider trust and\n\n89\n00:04:23.191 --> 00:04:24.505\nedit the claim rules.\n\n90\n00:04:24.505 --> 00:04:26.088\nYou've seen me do this already.\n\n91\n00:04:26.088 --> 00:04:30.976\nSo let's go in, come over here, right\nclick, and we'll edit our claim rules.\n\n92\n00:04:32.773 --> 00:04:35.444\nMove our little box up here,\nso you can see.\n\n93\n00:04:35.444 --> 00:04:41.800\nOn our Acceptance Transform Rules,\nwe're gonna go ahead and add rule in here.\n\n94\n00:04:41.800 --> 00:04:47.740\nAnd we're gonna go and we are going to use\nthe pass through or filter an incoming\n\n95\n00:04:47.740 --> 00:04:51.226\nclaim template, just like we did-\n&gt;&gt; Like we saw previously?\n\n96\n00:04:51.226 --> 00:04:52.643\n&gt;&gt; In the other demonstration, exactly.\n\n97\n00:04:52.643 --> 00:04:53.573\nNo different, right?\n\n98\n00:04:53.573 --> 00:04:55.793\nSo we're just gonna choose\nout of the list here.\n\n99\n00:04:55.793 --> 00:04:57.903\nPass through or filter an incoming claim.\n\n100\n00:04:57.903 --> 00:05:00.526\nWe talked about the ways in\nwhich this could work and\n\n101\n00:05:00.526 --> 00:05:03.342\nwhat those claim rules were\nthat we created as you saw.\n\n102\n00:05:03.342 --> 00:05:06.461\nSo I'm gonna go ahead,\nI'm gonna give this a name.\n\n103\n00:05:06.461 --> 00:05:13.218\nLet's do a pass through Windows account,\njust like we did on the other one.\n\n104\n00:05:13.218 --> 00:05:14.855\nAccount name rule.\n\n105\n00:05:14.855 --> 00:05:17.226\nI'm the fastest one finger-\n&gt;&gt; [LAUGH]\n\n106\n00:05:17.226 --> 00:05:19.092\n&gt;&gt; Tech typer that I know.\n\n107\n00:05:19.092 --> 00:05:20.534\nAll right, so we're gonna go here.\n\n108\n00:05:20.534 --> 00:05:22.014\nI'm gonna pull down match.\n\n109\n00:05:22.014 --> 00:05:24.456\nThe claim type to the name and\ndo Windows account name.\n\n110\n00:05:24.456 --> 00:05:27.064\nYou heard me talked about the fact\nthat these are not alphabetized.\n\n111\n00:05:27.064 --> 00:05:28.139\n&gt;&gt; Right.\n&gt;&gt; The pick list, so\n\n112\n00:05:28.139 --> 00:05:29.853\nit maybe hard sometimes to\nfind what we are looking.\n\n113\n00:05:29.853 --> 00:05:30.551\n&gt;&gt; What are you looking for here?\n\n114\n00:05:30.551 --> 00:05:31.275\n&gt;&gt; Windows account names.\n\n115\n00:05:31.275 --> 00:05:32.703\nAnd so, that's not too bad, but\n\n116\n00:05:32.703 --> 00:05:35.259\nremember we saw some Ws all\nthe way to the bottom of the list.\n\n117\n00:05:35.259 --> 00:05:38.457\nIt was kind of random and\nyou're chaotic it's not alphabetized.\n\n118\n00:05:38.457 --> 00:05:41.366\nSo Windows account name,\nwe just make sure we chose that.\n\n119\n00:05:41.366 --> 00:05:44.084\nWe do and\npass through all claim values, right?\n\n120\n00:05:44.084 --> 00:05:46.918\nWe've talked about this and\nthe reason why we need to choose that,\n\n121\n00:05:46.918 --> 00:05:48.599\nso we're just gonna click Next there.\n\n122\n00:05:48.599 --> 00:05:52.325\nNow it says here, we didn't this\non the other one by the way.\n\n123\n00:05:52.325 --> 00:05:55.191\nBut it says here, just so you can see or\n\n124\n00:05:55.191 --> 00:06:00.309\nrather that we are able to see,\nlet me just show you this real quick.\n\n125\n00:06:00.309 --> 00:06:03.597\nBecause we didn't get this in the last\ndemo on the other side when we set\n\n126\n00:06:03.597 --> 00:06:07.140\nthis up, we just did this and hit Next,\nand it was okay and it went through.\n\n127\n00:06:07.140 --> 00:06:10.091\nSo our security best patch\nrecommends that you select an option\n\n128\n00:06:10.091 --> 00:06:13.765\nthat will pass through only a specific\nclaim value or claim value that starts or\n\n129\n00:06:13.765 --> 00:06:14.779\nends with whatever.\n\n130\n00:06:14.779 --> 00:06:17.542\nSelecting the option,\nsince we pass through all.\n\n131\n00:06:17.542 --> 00:06:19.182\nOn means that a claim provider,\n\n132\n00:06:19.182 --> 00:06:22.050\nyou essentially open your\nself up to vulnerabilities.\n\n133\n00:06:22.050 --> 00:06:26.452\nAnd I've talked about this in the last\nepisode where I said, hey, we do this.\n\n134\n00:06:26.452 --> 00:06:30.052\nThis is the equivalent of giving like\nfull control permission to a share or\n\n135\n00:06:30.052 --> 00:06:33.028\nfull control under share\npermission of the everyone group.\n\n136\n00:06:33.028 --> 00:06:36.384\nWhere we're letting everybody who can\nmake use of this connection use it and\n\n137\n00:06:36.384 --> 00:06:39.281\nwe're not really being specific\nabout what we do or don't want.\n\n138\n00:06:39.281 --> 00:06:42.143\nAnd I showed you some of the other\noptions where we set up and\n\n139\n00:06:42.143 --> 00:06:45.591\ninstead of just passing through\neverybody and allowing everybody and\n\n140\n00:06:45.591 --> 00:06:49.641\npass through all claims, we said, hey,\nlet's limit who we add and who we allow.\n\n141\n00:06:49.641 --> 00:06:52.312\nAnd let's maybe be more\nspecific with the claims here.\n\n142\n00:06:52.312 --> 00:06:53.457\nAnd I said, we could filter.\n\n143\n00:06:53.457 --> 00:06:55.505\nAnd I gave you some ideas\nabout what we could do.\n\n144\n00:06:55.505 --> 00:06:59.347\nSo we would not as I mentioned\nprobably do this in the real world.\n\n145\n00:06:59.347 --> 00:07:02.581\nThis is just a demonstration to\nshow you how to set this up to walk\n\n146\n00:07:02.581 --> 00:07:05.763\nthrough the logic of it with you,\nget you familiar with that.\n\n147\n00:07:05.763 --> 00:07:07.582\nBut we would be a little\nbit more specific.\n\n148\n00:07:07.582 --> 00:07:08.790\nSo the warning is appropriate.\n\n149\n00:07:08.790 --> 00:07:11.989\nAnd we would expect that and\nwe are encouraged to see that,\n\n150\n00:07:11.989 --> 00:07:15.134\nMicrosoft doing its job,\ntry to keep us safe and secure.\n\n151\n00:07:15.134 --> 00:07:16.233\nSo we're gonna click Yes.\n\n152\n00:07:16.233 --> 00:07:19.345\nWe understand the impact of our decisions,\nin other words, right?\n\n153\n00:07:19.345 --> 00:07:22.315\nBut they're just reminding us of\nthe fact that if we make a bad decision,\n\n154\n00:07:22.315 --> 00:07:23.591\nthen it's our fault, right?\n\n155\n00:07:23.591 --> 00:07:24.680\n&gt;&gt; [LAUGH]\n&gt;&gt; So no backsies-\n\n156\n00:07:24.680 --> 00:07:25.670\n&gt;&gt; I just feel like I'm getting\n\n157\n00:07:25.670 --> 00:07:27.034\na lecture from my parents, right now.\n\n158\n00:07:27.034 --> 00:07:28.827\n&gt;&gt; Well, what that really should say is,\nno backsies, right?\n\n159\n00:07:28.827 --> 00:07:31.411\nIt should be a pair of hands throwing it\nat you, saying, I don't want it anymore.\n\n160\n00:07:31.411 --> 00:07:32.276\nIt's your issue, right?\n\n161\n00:07:32.276 --> 00:07:32.798\n&gt;&gt; Yup.\n\n162\n00:07:32.798 --> 00:07:35.223\n&gt;&gt; That's all, hands washed,\nwe're done, right, nothing else.\n\n163\n00:07:35.223 --> 00:07:38.657\nAll right, so you could see right we\nwould obviously stack the claims up here.\n\n164\n00:07:38.657 --> 00:07:41.264\nWe're not gonna put a whole bunch in\nthe way we did in the last episode.\n\n165\n00:07:41.264 --> 00:07:43.295\nYou saw me go through now\nlike four claims, right?\n\n166\n00:07:43.295 --> 00:07:44.483\n&gt;&gt; Right.\n&gt;&gt; Just put a bunch of stuff in.\n\n167\n00:07:44.483 --> 00:07:47.104\nIt would be the same thing here,\nwe're just not gonna stack them up.\n\n168\n00:07:47.104 --> 00:07:50.805\nWhat I really just wanna show you was\nsetting up the claim provider side of\n\n169\n00:07:50.805 --> 00:07:54.750\nthis, cuz we did the relying party side\nwith the same idea here when we are done\n\n170\n00:07:54.750 --> 00:07:56.402\njust click Apply, click Okay.\n\n171\n00:07:56.402 --> 00:07:59.689\nWe now have our claim\nprovider trust set up.\n\n172\n00:07:59.689 --> 00:08:02.146\nWe do have our claims associated with it.\n\n173\n00:08:02.146 --> 00:08:06.583\nWe have our relying party trust on\nthe other side, we've already seen that.\n\n174\n00:08:06.583 --> 00:08:10.231\nWe do have our certificates,\nas we showed you on the prior episode,\n\n175\n00:08:10.231 --> 00:08:11.319\nsetup here as well.\n\n176\n00:08:11.319 --> 00:08:14.315\nAnd we do have our\nattribute store available.\n\n177\n00:08:14.315 --> 00:08:16.355\nWe talked about adding\nmore attribute stores in.\n\n178\n00:08:16.355 --> 00:08:18.556\nI mentioned the Authentication Methods.\n\n179\n00:08:18.556 --> 00:08:22.599\nI showed you in the other demonstration\nhow we could go through modifying one or\n\n180\n00:08:22.599 --> 00:08:24.077\nmore of those if we chose to.\n\n181\n00:08:24.077 --> 00:08:27.027\nWe do have our claims descriptions,\nthey're all listed here.\n\n182\n00:08:27.027 --> 00:08:29.624\nSo all the different things\nthat we would need to do,\n\n183\n00:08:29.624 --> 00:08:32.703\nincluding our access control policies,\nall of that is here.\n\n184\n00:08:32.703 --> 00:08:35.670\nAnd we could interact and\nobviously make changes as need.\n\n185\n00:08:35.670 --> 00:08:38.655\nBut this sets up both\nsides of the relationship.\n\n186\n00:08:38.655 --> 00:08:42.150\nWe now have both our relying party and\nour claims provider trusts.\n\n187\n00:08:42.150 --> 00:08:44.870\nWe've added our claims and\nour rules to process them.\n\n188\n00:08:44.870 --> 00:08:46.870\nWe've talked about how\nto manage certificates.\n\n189\n00:08:46.870 --> 00:08:50.253\nThat essentially boys and\ngirls, ladies and gentlemen,\n\n190\n00:08:50.253 --> 00:08:54.478\neverybody who may be listening,\nthat is how we setup ADFS 10.\n\n191\n00:08:54.478 --> 00:08:57.797\n&gt;&gt; [SOUND] And you know what,\nAdam did promise a shorter episode here.\n\n192\n00:08:57.797 --> 00:09:01.130\nAnd I really didn't believe him,\nbut we did get a short one in.\n\n193\n00:09:01.130 --> 00:09:03.252\nIt kind of makes up for\nall the longer ones I guess.\n\n194\n00:09:03.252 --> 00:09:03.999\n&gt;&gt; No it doesn't.\n\n195\n00:09:03.999 --> 00:09:05.382\nBut that's okay.\n&gt;&gt; [LAUGH]\n\n196\n00:09:05.382 --> 00:09:06.120\n&gt;&gt; Just means we didn't\n\n197\n00:09:06.120 --> 00:09:06.982\ntalk as much in this one.\n\n198\n00:09:06.982 --> 00:09:09.165\n&gt;&gt; No, but\nat least we've completed this thought.\n\n199\n00:09:09.165 --> 00:09:13.057\nYou guys have seen the beginning to\nthe end now, so we can go ahead and\n\n200\n00:09:13.057 --> 00:09:17.242\ncontinue and pick back up in the next\nepisode talking about ADFS as well.\n\n201\n00:09:17.242 --> 00:09:18.288\nSo thank you for that.\n\n202\n00:09:18.288 --> 00:09:20.423\nBut, for this show,\nwe'll go ahead and sign out.\n\n203\n00:09:20.423 --> 00:09:22.081\nI've been your host, Cherokee Boose.\n\n204\n00:09:22.081 --> 00:09:24.028\n&gt;&gt; I am Adam Gordon.\n\n205\n00:09:24.028 --> 00:09:25.833\n&gt;&gt; See you next time here at ITPro TV.\n\n206\n00:09:25.833 --> 00:09:26.585\n&gt;&gt; Take care everybody.\n\n207\n00:09:26.585 --> 00:09:32.577\n[MUSIC]\n\n208\n00:09:32.577 --> 00:09:35.757\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232828602"
        },
        {
          "description": "In this episode, Cherokee and Adam welcome you back to another conversation surrounding Active Directory Federation Services. Adam first recaps the concepts and explains the holistic approach demonstrated in the previous few shows.  He also expounds on web application proxies.",
          "length": "2272",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-5-implementing_and_administering_ad_fs_pt5-090517-PGM.00_37_36_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-5-implementing_and_administering_ad_fs_pt5-090517-PGM.00_37_36_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-9-1-5-implementing_and_administering_ad_fs_pt5-090517-PGM.00_37_36_07.Still001-sm.jpg",
          "title": "Implementing and Administering AD FS Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.177 --> 00:00:03.168\nWelcome to ITProTV, I'm your host.\n\n2\n00:00:03.168 --> 00:00:04.508\n[CROSSTALK]\n\n3\n00:00:04.508 --> 00:00:08.248\n[MUSIC]\n\n4\n00:00:08.248 --> 00:00:10.776\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:10.776 --> 00:00:15.184\n&gt;&gt; Welcome to your Identity with\nWindows Server 2016 series,\n\n6\n00:00:15.184 --> 00:00:17.722\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.722 --> 00:00:21.779\nIn this episode, we'll continue\ntaking a look at implementing and\n\n8\n00:00:21.779 --> 00:00:23.139\nadministering ADFS.\n\n9\n00:00:23.139 --> 00:00:25.883\nBack with us today in studios we\nhave Microsoft expert, Adam Gordon,\n\n10\n00:00:25.883 --> 00:00:27.425\nthank you for joining us today, Adam.\n\n11\n00:00:27.425 --> 00:00:29.975\n&gt;&gt; Hello, hopefully everybody's\ndoing well, glad to be back.\n\n12\n00:00:29.975 --> 00:00:34.039\nAlways fun and exciting to talk about,\nin this case ADFS.\n\n13\n00:00:34.039 --> 00:00:34.679\n&gt;&gt; Yes.\n\n14\n00:00:34.679 --> 00:00:35.846\n&gt;&gt; Right.\n\n15\n00:00:35.846 --> 00:00:36.431\n&gt;&gt; Yeah.\n\n16\n00:00:36.431 --> 00:00:37.982\n&gt;&gt; You're sure?\n&gt;&gt; Directory federation services.\n\n17\n00:00:37.982 --> 00:00:38.686\n&gt;&gt; Are you absolutely sure?\n\n18\n00:00:38.686 --> 00:00:39.318\n&gt;&gt; Yeah.\n\n19\n00:00:39.318 --> 00:00:40.655\n&gt;&gt; Are you positive?\n&gt;&gt; Did I not say it right?\n\n20\n00:00:40.655 --> 00:00:41.818\n&gt;&gt; No, you did, I'm just messing with you.\n\n21\n00:00:41.818 --> 00:00:44.012\n&gt;&gt; [LAUGH] We'll we've talked about it for\na little while now.\n\n22\n00:00:44.012 --> 00:00:48.835\nWe had four full parts, and we did\nsome demonstrations in the last few.\n\n23\n00:00:48.835 --> 00:00:51.429\nSo what are we really gonna be\nlooking at here in this episode, Adam?\n\n24\n00:00:51.429 --> 00:00:54.448\n&gt;&gt; So we're gonna just, I thought we would\njust do a quick kind of recap of some of\n\n25\n00:00:54.448 --> 00:00:56.220\nthe stuff we did in our\nlast couple episodes.\n\n26\n00:00:56.220 --> 00:00:59.465\nIf you haven't seen them,\nwe actually did a pretty good,\n\n27\n00:00:59.465 --> 00:01:02.512\nthorough walkthrough of how to implement,\ninstall,\n\n28\n00:01:02.512 --> 00:01:07.034\nconfigure, set up ADFS kinda end to end,\nhow to set up and instantiate the role.\n\n29\n00:01:07.034 --> 00:01:10.848\nHow to then go through and\nconfigure it using the management console,\n\n30\n00:01:10.848 --> 00:01:13.443\ntook a look at the certificate\nrelated issues.\n\n31\n00:01:13.443 --> 00:01:16.036\nTalked about how to regenerate\ncertificates and apply them if necessary.\n\n32\n00:01:16.036 --> 00:01:17.783\nSo went through, did all that,\n\n33\n00:01:17.783 --> 00:01:21.233\nand there's a bunch of stuff to\nsupport this in the show notes.\n\n34\n00:01:21.233 --> 00:01:24.305\nI just wanted to point out a few\nof the key takeaways there,\n\n35\n00:01:24.305 --> 00:01:27.454\njust to get us back into the spirit\nof ADFS as we continue on.\n\n36\n00:01:27.454 --> 00:01:31.519\nAnd then we want to go ahead and kinda\nintegrate into this conversation the last\n\n37\n00:01:31.519 --> 00:01:34.477\npiece we had mentioned in one\nof our beginning episodes,\n\n38\n00:01:34.477 --> 00:01:36.461\nwhich was the web application proxy.\n\n39\n00:01:36.461 --> 00:01:40.177\nAnd just have a few words to say\nabout that, in terms of what it does,\n\n40\n00:01:40.177 --> 00:01:44.893\nwhy we need it, and what value there might\nbe, in terms of the web application proxy.\n\n41\n00:01:44.893 --> 00:01:46.546\nSo as we looked as deploying ADFS,\n\n42\n00:01:46.546 --> 00:01:50.141\nwe talked about this idea of creating\na solution where we can extend trust.\n\n43\n00:01:50.141 --> 00:01:54.835\nAnd we've talked through the logic of what\nADFS represents, the moving parts and\n\n44\n00:01:54.835 --> 00:01:55.389\npieces.\n\n45\n00:01:55.389 --> 00:01:59.088\nThe claims, the claim provider trust,\nthe relying party,\n\n46\n00:01:59.088 --> 00:02:03.453\nthe relying party trust, we've talked\nthrough the logic of all that.\n\n47\n00:02:03.453 --> 00:02:07.044\nWhat we had mentioned, and what I\nmentioned I thought would be good to start\n\n48\n00:02:07.044 --> 00:02:10.189\nout with, was some of the scalability\nissues around using ADFS.\n\n49\n00:02:10.189 --> 00:02:12.499\nWe want to make this a highly available\nsolution if we're gonna implement it,\n\n50\n00:02:12.499 --> 00:02:14.565\nand really, high availability in\nthis regard is focused primarily on\n\n51\n00:02:14.565 --> 00:02:15.277\nthe backend database.\n\n52\n00:02:15.277 --> 00:02:19.550\nThe SQL or Microsoft SQL Server,\nversus the WID,\n\n53\n00:02:19.550 --> 00:02:23.436\nwhat we call\nthe Windows Internal Database.\n\n54\n00:02:23.436 --> 00:02:27.123\nWe had that option, we went through\nthat as we did the deployment.\n\n55\n00:02:27.123 --> 00:02:30.539\nChose, or made the choice,\nabout where we would put the data, and\n\n56\n00:02:30.539 --> 00:02:31.820\nhow we would scale that.\n\n57\n00:02:31.820 --> 00:02:34.415\nIn our demonstration we\nchose to use the WID, and\n\n58\n00:02:34.415 --> 00:02:38.656\nexplained the logic of doing that, but\nalso made it clear that we could scale out\n\n59\n00:02:38.656 --> 00:02:41.713\nin an enterprise environment\nto an external SQL server.\n\n60\n00:02:41.713 --> 00:02:43.987\nMost likely a clustered\nSQL server database,\n\n61\n00:02:43.987 --> 00:02:45.800\nto provide high data availability.\n\n62\n00:02:45.800 --> 00:02:49.124\nSo if you want to join me here,\nthese URLs are in the show notes for\n\n63\n00:02:49.124 --> 00:02:50.364\nyou as they always are.\n\n64\n00:02:50.364 --> 00:02:52.942\nI just wanted to point out some\nof the web pages that help to\n\n65\n00:02:52.942 --> 00:02:55.435\nsupport some of the conversations\nwe'd been having.\n\n66\n00:02:55.435 --> 00:02:59.062\nMake sure you're familiar with\nthe resources we're providing you, kind of\n\n67\n00:02:59.062 --> 00:03:02.875\npoint them out, make sure you know to go\nlook for them and take advantage of them.\n\n68\n00:03:02.875 --> 00:03:06.803\nSo if you are gonna set up high\navailability solutions with SQL,\n\n69\n00:03:06.803 --> 00:03:11.768\nmaking sure we understand how to deal\nwith some of the technology that's there.\n\n70\n00:03:11.768 --> 00:03:16.897\nWe talk a lot about SQL backing and\nstoring the data, for the majority of our\n\n71\n00:03:16.897 --> 00:03:21.882\nsolutions today, it forms the back\nend traditionally for SharePoint.\n\n72\n00:03:21.882 --> 00:03:26.755\nIn terms of storing our data, that may be\nintegrated into our SharePoint document\n\n73\n00:03:26.755 --> 00:03:31.626\nlibraries or any kind of our data, our\nlists, our libraries, things like that,\n\n74\n00:03:31.626 --> 00:03:33.267\nall that winds up in In SQL.\n\n75\n00:03:33.267 --> 00:03:36.976\nWe talk about it being the backend for\nthe databases for system center.\n\n76\n00:03:36.976 --> 00:03:40.151\nSo for the config manager,\nall the inventory, hardware,\n\n77\n00:03:40.151 --> 00:03:43.595\nsoftware based that we do for\nSCOM, System Center Ops Manager.\n\n78\n00:03:43.595 --> 00:03:46.747\nAll the monitoring data goes into one or\nmore SQL databases.\n\n79\n00:03:46.747 --> 00:03:51.303\nThere are several of them,\ndepending on what we're talking about.\n\n80\n00:03:51.303 --> 00:03:54.057\nMost of our products today\nin the Microsoft suite,\n\n81\n00:03:54.057 --> 00:03:58.155\nas we just look at it holistically across\nthe enterprise, use one or more SQL\n\n82\n00:03:58.155 --> 00:04:02.912\nservers traditionally to store databases,\nor to store data, rather, in databases.\n\n83\n00:04:02.912 --> 00:04:05.817\nSo it is very important for\nus to be thinking constantly,\n\n84\n00:04:05.817 --> 00:04:08.670\nam I making good decisions,\nam I scaling the right way?\n\n85\n00:04:08.670 --> 00:04:13.444\nDo I understand the flexibility, but\nalso the requirements of the solution?\n\n86\n00:04:13.444 --> 00:04:16.256\nWe'll have a word to say in just\na minute about making sure that we\n\n87\n00:04:16.256 --> 00:04:17.101\nknow how to scale.\n\n88\n00:04:17.101 --> 00:04:21.128\nI've talked about the planning spreadsheet\nwe can use to understand hardware and\n\n89\n00:04:21.128 --> 00:04:23.299\nsizing requirements for ADFS deployment.\n\n90\n00:04:23.299 --> 00:04:25.255\nRemind you of where to\ngo to find that as well,\n\n91\n00:04:25.255 --> 00:04:27.937\none of the options that you just\nwanna make sure you remember.\n\n92\n00:04:27.937 --> 00:04:31.767\nActually demoed and walked through that\nspreadsheet with you in one of the last\n\n93\n00:04:31.767 --> 00:04:33.925\nepisodes, as we started the walkthrough.\n\n94\n00:04:33.925 --> 00:04:36.578\nAnd I reminded you of the fact\nthat it would be a good idea for\n\n95\n00:04:36.578 --> 00:04:39.032\nyou to take a look at that,\nif you're gonna use ADFS.\n\n96\n00:04:39.032 --> 00:04:42.315\nSo looking at scalability options here,\nand high-availability,\n\n97\n00:04:42.315 --> 00:04:44.126\nyour always on failover clustering,\n\n98\n00:04:44.126 --> 00:04:47.023\nalways on availability groups,\npresent themselves here.\n\n99\n00:04:47.023 --> 00:04:50.937\nDatabase mirroring, although\nmirroring is going to be deprecated,\n\n100\n00:04:50.937 --> 00:04:53.936\nit is being moved away from\nin future versions of SQL.\n\n101\n00:04:53.936 --> 00:04:58.236\nSo you'll wanna read through the logic\nof what's here, make some good choices,\n\n102\n00:04:58.236 --> 00:05:00.808\nunderstand the benefits\nof what you're doing.\n\n103\n00:05:00.808 --> 00:05:03.240\nLog shipping is always a good idea, so\n\n104\n00:05:03.240 --> 00:05:06.360\njust making sure you\nunderstand how to use this.\n\n105\n00:05:06.360 --> 00:05:09.685\nAnd features that are supported for\nSQL Server, the most recent edition,\n\n106\n00:05:09.685 --> 00:05:10.329\nServer 16.\n\n107\n00:05:10.329 --> 00:05:13.871\nKnowing what options you have,\nmaybe you're running on SQL 12,\n\n108\n00:05:13.871 --> 00:05:15.747\nmaybe you're running on SQL 14.\n\n109\n00:05:15.747 --> 00:05:19.303\nThere may be different versions of\na product based on just the life\n\n110\n00:05:19.303 --> 00:05:21.317\ncycle of how you set your systems up.\n\n111\n00:05:21.317 --> 00:05:25.962\nI see this a lot in the real world talking\nwith customers, talking with students\n\n112\n00:05:25.962 --> 00:05:30.693\nas they come through our classes, and\nwe interact with them around technology.\n\n113\n00:05:30.693 --> 00:05:34.114\nAll of you, if you have questions and\nwe talk with you in the chat, or\n\n114\n00:05:34.114 --> 00:05:37.538\nperhaps just respond to you after a show,\nwhen you pose a question,\n\n115\n00:05:37.538 --> 00:05:39.424\nwe love when you do that, by the way.\n\n116\n00:05:39.424 --> 00:05:44.291\nBut there's multiple versions of products,\nand we talk about ADFS, in this case,\n\n117\n00:05:44.291 --> 00:05:47.183\nwe tell you about Server 16,\nhow to set that up.\n\n118\n00:05:47.183 --> 00:05:49.202\nAnd you may run mixed environments and\n\n119\n00:05:49.202 --> 00:05:52.178\nyou may be running a Server\n16 ADFS-based solution.\n\n120\n00:05:52.178 --> 00:05:56.180\nBut you may be running that on an older\nversion of SQL, older meaning not SQL 16,\n\n121\n00:05:56.180 --> 00:05:57.700\nnot the most current version.\n\n122\n00:05:57.700 --> 00:06:01.256\nAnd so as a result, you always wanna\nbe reading up on those things,\n\n123\n00:06:01.256 --> 00:06:05.842\nunderstand how they interact, right,how\nthose systems will support one another.\n\n124\n00:06:05.842 --> 00:06:07.623\nIt's usually a safe bet that two or\n\n125\n00:06:07.623 --> 00:06:11.555\nthree versions prior to the current\nversion is roughly that period where you\n\n126\n00:06:11.555 --> 00:06:14.397\nstart running into backwards\ncompatibility issues.\n\n127\n00:06:14.397 --> 00:06:19.303\nMeaning traditionally SQL 12, 14, and 16,\nlet's say in theory, three timelines for\n\n128\n00:06:19.303 --> 00:06:20.421\nproducts in market.\n\n129\n00:06:20.421 --> 00:06:23.762\nProbably all three of those will\nsupport high availability, and\n\n130\n00:06:23.762 --> 00:06:27.588\nsupport a frontend database backend\nsolution that's highly available,\n\n131\n00:06:27.588 --> 00:06:29.671\nwith something like a Server 16 ADFS.\n\n132\n00:06:29.671 --> 00:06:34.382\nOr Certificate Services solution, we've\ntalked about Certificate Services before,\n\n133\n00:06:34.382 --> 00:06:36.589\nthings like that, usually not an issue.\n\n134\n00:06:36.589 --> 00:06:40.702\nBut there may be small variations in\nfeature and functionalities support based\n\n135\n00:06:40.702 --> 00:06:43.720\non that life cycle, and\nyou always wanna be aware of that.\n\n136\n00:06:43.720 --> 00:06:47.797\nThings like, as I said, database\nmirroring, which has been prevalent,\n\n137\n00:06:47.797 --> 00:06:48.845\nbut is going away.\n\n138\n00:06:48.845 --> 00:06:52.258\nAnd as a result, if you bet the farm,\nno pun intended, right, SQL farms.\n\n139\n00:06:52.258 --> 00:06:55.312\nBut if you bet the farm on,\nhey, what can I tell you,\n\n140\n00:06:55.312 --> 00:06:58.662\nyou gotta take those opportunities\nwhere you find them.\n\n141\n00:06:58.662 --> 00:07:03.101\nSo if you bet the farm on a technology\nsolution like database mirroring to create\n\n142\n00:07:03.101 --> 00:07:06.414\nhigh availability, which for\na long time was one of the best\n\n143\n00:07:06.414 --> 00:07:09.412\nalternative solutions we had,\nand a great way to go.\n\n144\n00:07:09.412 --> 00:07:13.226\nYou have to start thinking, hey,\nI have to start rethinking and perhaps\n\n145\n00:07:13.226 --> 00:07:17.681\nplanning a different solution, and maybe\nlooking at a different way of doing this.\n\n146\n00:07:17.681 --> 00:07:19.881\nAnd maybe failover cluster instances,\n\n147\n00:07:19.881 --> 00:07:22.540\nalways on availability is\ngonna be the way to go.\n\n148\n00:07:22.540 --> 00:07:26.706\nAnd so, just reminding you, while this\nis not an SQL, Microsoft SQL Server,\n\n149\n00:07:26.706 --> 00:07:27.779\ndiscussion per se,\n\n150\n00:07:27.779 --> 00:07:31.332\nwe have great content in the ITProTV\nlibrary around that product.\n\n151\n00:07:31.332 --> 00:07:33.374\nI encourage you to go take a look and\n\n152\n00:07:33.374 --> 00:07:36.200\nfollow up there if you\nhave questions about it.\n\n153\n00:07:36.200 --> 00:07:39.445\nBut just reminding you that high\navailability is one of the key things we\n\n154\n00:07:39.445 --> 00:07:40.484\nhave to focus on here.\n\n155\n00:07:40.484 --> 00:07:43.577\nThis really affects user authentication,\nthe high availability piece,\n\n156\n00:07:43.577 --> 00:07:45.254\nnot the actual service functionality.\n\n157\n00:07:45.254 --> 00:07:48.984\nIn other words, the idea behind\ncreating high availability for\n\n158\n00:07:48.984 --> 00:07:52.161\nADFS is ensuring that the user\nauthentication piece,\n\n159\n00:07:52.161 --> 00:07:57.067\nto use the trust relationships Provide the\nclaims and authenticate the users across\n\n160\n00:07:57.067 --> 00:08:01.925\nthose trusts between the provider and the\nrelying parties is gonna be functional.\n\n161\n00:08:01.925 --> 00:08:05.012\nAnd we're really thinking about\nthe backend database is being made highly\n\n162\n00:08:05.012 --> 00:08:06.340\navailable to facilitate that.\n\n163\n00:08:06.340 --> 00:08:08.776\nSo I just wanna to make sure\nyou're familiar with that.\n\n164\n00:08:08.776 --> 00:08:10.928\nWe do set up traditionally a farm.\n\n165\n00:08:10.928 --> 00:08:13.636\nWe talked about that logic,\nfirst ADFS server,\n\n166\n00:08:13.636 --> 00:08:18.259\nwith the first role instantiated anchors\nthe farm and then we build out from there,\n\n167\n00:08:18.259 --> 00:08:20.194\nas you saw in our demonstrations.\n\n168\n00:08:20.194 --> 00:08:25.447\nWe deployed the server into a federated\nfarm starting with 12 R2 going forward.\n\n169\n00:08:25.447 --> 00:08:26.814\nThat's the way we do this so\n\n170\n00:08:26.814 --> 00:08:29.850\nin 16 that will be the methodology\nof the thought process.\n\n171\n00:08:29.850 --> 00:08:34.016\nWe could use network load balancing to\nbalance load coming in on the front end.\n\n172\n00:08:34.016 --> 00:08:37.446\nThis is typically a Windows\nnetwork load balancing solution.\n\n173\n00:08:37.446 --> 00:08:42.409\nSoftware based is a feature running in\nserver 16 or server 12 R2, whatever it is.\n\n174\n00:08:42.409 --> 00:08:44.309\nWe can use hardware based load balancing.\n\n175\n00:08:44.309 --> 00:08:46.495\nThat would be a third party solution.\n\n176\n00:08:46.495 --> 00:08:49.110\nDoesn't matter what it is,\nbut we do support that.\n\n177\n00:08:49.110 --> 00:08:51.341\nSo be thinking about some\nof those things right?\n\n178\n00:08:51.341 --> 00:08:53.786\nJust consider those\nthings as we are talking.\n\n179\n00:08:53.786 --> 00:08:57.528\nThe configuration databases I mentioned is\nreally the database we target here, and\n\n180\n00:08:57.528 --> 00:08:59.645\nso we just wanna make\nsure we're aware of that.\n\n181\n00:08:59.645 --> 00:09:03.968\nWith regards to planning for ADFS server\ncapacity again, if you join me here,\n\n182\n00:09:03.968 --> 00:09:07.846\nlet's just take a quick look at\na website that will be helpful for you.\n\n183\n00:09:07.846 --> 00:09:13.215\nKeeping in mind that, again,\nclasses server 16, 12 R2 12.\n\n184\n00:09:13.215 --> 00:09:18.310\nSo you're going back a few versions,\ntalks about how to plan for this product.\n\n185\n00:09:18.310 --> 00:09:22.719\nGives you, which I like, all the different\nreferences we can click through here for\n\n186\n00:09:22.719 --> 00:09:23.660\nvarious things.\n\n187\n00:09:23.660 --> 00:09:27.800\nWhat are the requirements for deploying\nADFS servers and federated proxies?\n\n188\n00:09:27.800 --> 00:09:29.267\nClick there and you'll see that, right?\n\n189\n00:09:29.267 --> 00:09:32.155\nAnd we can just kind of click\nthrough here to see them.\n\n190\n00:09:32.155 --> 00:09:33.939\nHow do we do the deployment?\n\n191\n00:09:33.939 --> 00:09:35.765\nWhat are the operational considerations?\n\n192\n00:09:35.765 --> 00:09:40.738\nWhat's the technical reference, the FAQ\nfor the most recent version, for 16.\n\n193\n00:09:40.738 --> 00:09:42.559\nAll that's right here on this site, right?\n\n194\n00:09:42.559 --> 00:09:44.639\nSo this is where you get to go and\n\n195\n00:09:44.639 --> 00:09:48.640\nreally do the deep dive if you\nwanna get into those details.\n\n196\n00:09:48.640 --> 00:09:51.701\nThat planning capacity spreadsheet\nthat they're talking about, link for\n\n197\n00:09:51.701 --> 00:09:52.334\nit right here.\n\n198\n00:09:52.334 --> 00:09:53.284\nYou can download it.\n\n199\n00:09:53.284 --> 00:09:56.361\nI showed it to you,\nshowed you how you could go through,\n\n200\n00:09:56.361 --> 00:09:58.926\nkind of just have a sense\nof how to work with it.\n\n201\n00:09:58.926 --> 00:10:03.131\nIt may not be really all that important\nfor you as a single deployment scenario,\n\n202\n00:10:03.131 --> 00:10:07.274\nmeaning you're just gonna build this\nout for your own enterprise, one time,\n\n203\n00:10:07.274 --> 00:10:08.802\ncouple of servers, right?\n\n204\n00:10:08.802 --> 00:10:11.245\nMaybe two or three, easily deployed,\n\n205\n00:10:11.245 --> 00:10:14.510\nprobably running virtualized\nmore often than not.\n\n206\n00:10:14.510 --> 00:10:17.853\nReally not that hard to guess what\nthe scalability requirements are.\n\n207\n00:10:17.853 --> 00:10:20.649\nI'm not suggesting you\nshouldn't use the spreadsheet,\n\n208\n00:10:20.649 --> 00:10:24.813\nit's a great exercise to go through, great\nway to get your hands into the technology,\n\n209\n00:10:24.813 --> 00:10:26.887\nreally understand it right at that level.\n\n210\n00:10:26.887 --> 00:10:30.154\nBut it's really a tool that was designed\nprimarily for consultancy, to use when\n\n211\n00:10:30.154 --> 00:10:32.807\nthey're doing huge scaled deployments-\n&gt;&gt; [CROSSTALK] scaled deployments.\n\n212\n00:10:32.807 --> 00:10:34.078\n&gt;&gt; Lots and lots of them.\n\n213\n00:10:34.078 --> 00:10:36.184\nI use it with customers all the time.\n\n214\n00:10:36.184 --> 00:10:41.292\nBut I'm be using because I'm doing 100,\n200 of these, right?\n\n215\n00:10:41.292 --> 00:10:45.415\nI wanna work with different customers\nacross the space of a year, let's say, and\n\n216\n00:10:45.415 --> 00:10:48.703\nconfiguring them or at least\nshowing them how to configure this,\n\n217\n00:10:48.703 --> 00:10:51.513\nwhereas you're doing one and\nyou're just gonna roll it\n\n218\n00:10:51.513 --> 00:10:55.864\nout based on a templated deployment onto\na server instance running in your Hyper-V.\n\n219\n00:10:55.864 --> 00:10:59.415\nLet's say, virtual environment or vm or\nenvironment or whatever it may be.\n\n220\n00:10:59.415 --> 00:11:02.492\nIt's probably still important to make\nsure you're scaling it the right way.\n\n221\n00:11:02.492 --> 00:11:04.672\nDon't get me wrong, but reality is,\n\n222\n00:11:04.672 --> 00:11:08.709\nthose templated deployments you\nprobably do have enough resources.\n\n223\n00:11:08.709 --> 00:11:11.788\nI would be more concerned about\nthe backend SQL structure and\n\n224\n00:11:11.788 --> 00:11:13.900\nhigh availability there in other words,\n\n225\n00:11:13.900 --> 00:11:17.535\nthan I would about scalability in\nyour virtualized server instances.\n\n226\n00:11:17.535 --> 00:11:21.648\nJust cuz I'm sure you probably have enough\nresources to run them more often than not.\n\n227\n00:11:21.648 --> 00:11:26.123\nBut this will hopefully help you\njust get a better sense of this.\n\n228\n00:11:26.123 --> 00:11:28.447\nWe talked about claims and\nclaim rules, what they are.\n\n229\n00:11:28.447 --> 00:11:31.648\nRemind you of the claim types\nwhat we talked about and\n\n230\n00:11:31.648 --> 00:11:34.136\njust this idea of how we can make claims.\n\n231\n00:11:34.136 --> 00:11:38.464\nHere we focused on things like the user\nprincipal name, the email I think we did,\n\n232\n00:11:38.464 --> 00:11:40.322\nif I remember correctly, right?\n\n233\n00:11:40.322 --> 00:11:44.138\nWe went through in the walk through-\n&gt;&gt; Configurations.\n\n234\n00:11:44.138 --> 00:11:46.086\n&gt;&gt; And showed you-\n&gt;&gt; With all of different options,\n\n235\n00:11:46.086 --> 00:11:49.104\nthe different names, types of\nidentifiers that you could choose-\n\n236\n00:11:49.104 --> 00:11:49.890\n&gt;&gt; The claims, right, the claims, yeah.\n\n237\n00:11:49.890 --> 00:11:50.647\n&gt;&gt; Yes.\n&gt;&gt; We mapped three or\n\n238\n00:11:50.647 --> 00:11:53.624\nfour of them as we created claims rules,\nI remember definitely the email.\n\n239\n00:11:53.624 --> 00:11:55.371\nI know we did user principal name.\n\n240\n00:11:55.371 --> 00:11:57.224\nI know there were a couple of\nothers in there that are similar,\n\n241\n00:11:57.224 --> 00:11:58.340\nremember what every one of them was.\n\n242\n00:11:58.340 --> 00:12:02.111\nBut you saw us go through and\ncreate several different claim rules,\n\n243\n00:12:02.111 --> 00:12:06.627\nkinda stacked them up and make sure you\ngot a chance to understand what they were.\n\n244\n00:12:06.627 --> 00:12:09.591\nRemember that the claims are stored\nin the attributes store,\n\n245\n00:12:09.591 --> 00:12:12.954\nwe saw the option about whether\nthe attribute store, and by default,\n\n246\n00:12:12.954 --> 00:12:16.887\nit typically is, the localized Active\nDirectory instance in our forest that we,\n\n247\n00:12:16.887 --> 00:12:20.934\ndepending on what side of the divide we're\non, whether we're the claim provider or\n\n248\n00:12:20.934 --> 00:12:22.316\nthe relying party, right?\n\n249\n00:12:22.316 --> 00:12:27.601\nBut we've set them up in the claim\nprovider side in the attribute store.\n\n250\n00:12:27.601 --> 00:12:30.757\nAnd we usually use our\nown ADDS implementation.\n\n251\n00:12:30.757 --> 00:12:34.661\nBut we did talk about the fact we do have\nsupport for third-party LDAP providers for\n\n252\n00:12:34.661 --> 00:12:37.587\nthe attribute store we saw in\nthe wizard as we walked through.\n\n253\n00:12:37.587 --> 00:12:38.705\nWe could hand that over,\n\n254\n00:12:38.705 --> 00:12:41.754\nessentially path it out to\na third-party provider if we needed to.\n\n255\n00:12:41.754 --> 00:12:45.228\nSo I just wanna remind you of that, just\nmake sure you're comfortable with that.\n\n256\n00:12:45.228 --> 00:12:48.467\nKeeping in mind some of the high\nlevel things we talked about,\n\n257\n00:12:48.467 --> 00:12:52.352\njust to make sure that we have a sense\nof that and are just familiar with it.\n\n258\n00:12:52.352 --> 00:12:55.586\nWith regards to, if we could just\ncome back in another URL, so\n\n259\n00:12:55.586 --> 00:12:59.446\nsetting up the federation server form\nusing SQL Server as opposed to WID,\n\n260\n00:12:59.446 --> 00:13:01.952\nas I was suggesting some\nchoices to make there.\n\n261\n00:13:01.952 --> 00:13:04.709\nJust wanna make sure you take a look.\n\n262\n00:13:04.709 --> 00:13:05.713\nWhat should we be doing?\n\n263\n00:13:05.713 --> 00:13:06.624\nWhy did we scale out?\n\n264\n00:13:06.624 --> 00:13:08.035\nWhat are the choices there?\n\n265\n00:13:08.035 --> 00:13:12.082\nAnd kind of the left or right fork in\nthe road methodology that we think,\n\n266\n00:13:12.082 --> 00:13:15.597\nof benefits of supporting and\nscaling up, right, with SQL.\n\n267\n00:13:15.597 --> 00:13:20.481\nLarge number of trust relationships, more\nthan 100 are supported, support for token\n\n268\n00:13:20.481 --> 00:13:24.593\nreplay detection, which is a security\nfeature to prevent replay attacks,\n\n269\n00:13:24.593 --> 00:13:27.630\na spoof, masquerade attacks,\nthings of that nature.\n\n270\n00:13:27.630 --> 00:13:32.431\nWe get the benefit of XAML 2.0, so we get\nthe benefit of using the later version of\n\n271\n00:13:32.431 --> 00:13:36.763\nXAML Security Assertion markup\nlanguage that's widely deployed today.\n\n272\n00:13:36.763 --> 00:13:39.614\nAnd we have again things\nlike high availability.\n\n273\n00:13:39.614 --> 00:13:43.581\nDatabase mirroring we said is good, but\nin reality it's being moved away from.\n\n274\n00:13:43.581 --> 00:13:47.994\nBut things like failover clustering,\nreporting capabilities, things like that.\n\n275\n00:13:47.994 --> 00:13:49.289\nSo just be aware of that.\n\n276\n00:13:49.289 --> 00:13:52.014\nAnd the key limitation as we mentioned,\nright,\n\n277\n00:13:52.014 --> 00:13:56.734\nis that there's no redundancy by default,\nmeaning you must use the built in tools to\n\n278\n00:13:56.734 --> 00:13:59.742\ncreate redundancy on the SQL\nside if you go with that.\n\n279\n00:13:59.742 --> 00:14:01.356\nSo just be aware of that.\n\n280\n00:14:01.356 --> 00:14:05.399\nAnd although it says the federation server\nfrom the WID topology automatically\n\n281\n00:14:05.399 --> 00:14:09.804\nreplicates the database to all federation\nservers in the farm, the federation server\n\n282\n00:14:09.804 --> 00:14:13.327\nwith the SQL Server topology contains\nonly one copy of the database.\n\n283\n00:14:13.327 --> 00:14:17.048\nSo again, just making it clear that\na lot of times the WID solution,\n\n284\n00:14:17.048 --> 00:14:20.771\nthe internal database, may be more\nattractive for a lot of small and\n\n285\n00:14:20.771 --> 00:14:25.247\nmedium sized deployments cuz it does get\nreplicated to every server in the farm.\n\n286\n00:14:25.247 --> 00:14:29.417\nAnd if you're scaling the farm out, you\nhave multiple copies of that associated\n\n287\n00:14:29.417 --> 00:14:32.300\nwith your usage,\nwhereas with SQL ultimately great for\n\n288\n00:14:32.300 --> 00:14:35.919\nlarge deployments but you have to make\nthose choices on the back end and\n\n289\n00:14:35.919 --> 00:14:38.220\nmake sure you understand\nthe logic of that.\n\n290\n00:14:38.220 --> 00:14:39.906\nSo just reinforcing that with you.\n\n291\n00:14:39.906 --> 00:14:42.548\nJust making sure you're\nfamiliar with those choices.\n\n292\n00:14:42.548 --> 00:14:45.741\nYou have a sense of how that works and\nwhat our options are there.\n\n293\n00:14:45.741 --> 00:14:47.555\nWe talked about claims rules, right?\n\n294\n00:14:47.555 --> 00:14:51.408\nThe idea of claims rules for the claims\nprovider trust and claims rules for\n\n295\n00:14:51.408 --> 00:14:52.784\nthe relying party trust.\n\n296\n00:14:52.784 --> 00:14:55.299\nThe two sides of the divide,\nwe've talked about that.\n\n297\n00:14:55.299 --> 00:14:59.766\nThe claim provider trust is the trust\nrelationship between the ADFS server and\n\n298\n00:14:59.766 --> 00:15:01.059\nthe claims provider.\n\n299\n00:15:01.059 --> 00:15:05.125\nSo we went through, set that up, and we\nalso talked about the relying party trust,\n\n300\n00:15:05.125 --> 00:15:08.164\nthe other side between the ADFS server and\nthe relying party.\n\n301\n00:15:08.164 --> 00:15:10.347\nSo just make sure you're aware of that.\n\n302\n00:15:10.347 --> 00:15:13.165\nYou saw me walk through and\nset up both sides of these.\n\n303\n00:15:13.165 --> 00:15:17.013\nWe went through, took a look at the rules\nthat were associated with that.\n\n304\n00:15:17.013 --> 00:15:18.905\nWe could do issuance transform rules.\n\n305\n00:15:18.905 --> 00:15:23.844\nWe could do issuance authorization rules\nor delegation authorization rules.\n\n306\n00:15:23.844 --> 00:15:26.386\nWe did the transform rule,\nso we have to set those up,\n\n307\n00:15:26.386 --> 00:15:29.621\ntook a look at how to issue claims or\nset up and map claims under that.\n\n308\n00:15:29.621 --> 00:15:32.357\nSo we went through,\nwe took a look at all that.\n\n309\n00:15:32.357 --> 00:15:34.620\nAnd remember that we're\na set of default rules.\n\n310\n00:15:34.620 --> 00:15:36.567\nI showed them to you, that were there.\n\n311\n00:15:36.567 --> 00:15:37.587\nWe kinda built off them.\n\n312\n00:15:37.587 --> 00:15:41.135\nBut we saw there was a list of default\nrules that had already been in place,\n\n313\n00:15:41.135 --> 00:15:43.263\nwe kind of walked through\nthe logic of that.\n\n314\n00:15:43.263 --> 00:15:46.299\nWe talked about claim provider trusts,\nrelying party trusts, and\n\n315\n00:15:46.299 --> 00:15:47.160\nwe set all that up.\n\n316\n00:15:47.160 --> 00:15:49.880\nWe talked about how to import data for\n\n317\n00:15:49.880 --> 00:15:53.574\nthe provider trust we did from a file,\nremember.\n\n318\n00:15:53.574 --> 00:15:56.989\nDo it manually or if the system is online,\nwe can add in the URL and\n\n319\n00:15:56.989 --> 00:15:58.330\nbring in that metadata.\n\n320\n00:15:58.330 --> 00:15:59.775\nWe showed you how to do that.\n\n321\n00:15:59.775 --> 00:16:04.559\nWe put in that long URL string,\nhttps, the server instance,\n\n322\n00:16:04.559 --> 00:16:08.699\nfederation, federation usually a month and\na year,\n\n323\n00:16:08.699 --> 00:16:14.596\nlike something 2016 slash federation\nXML or federation metadata XML.\n\n324\n00:16:14.596 --> 00:16:18.703\nWe did that whole string, we tested it,\nand we actually saw the metadata come in.\n\n325\n00:16:18.703 --> 00:16:22.094\nWe populated it, we validated the trust,\nit was created, and\n\n326\n00:16:22.094 --> 00:16:25.819\nwe used that online instance, or\nthat online capability to do that.\n\n327\n00:16:25.819 --> 00:16:29.991\nSo we do have several ways of providing\nthis data, just reminding you of that.\n\n328\n00:16:29.991 --> 00:16:34.527\nSame thing with the relying party trust,\nwe went through and did the same thing.\n\n329\n00:16:34.527 --> 00:16:37.437\nAnd we imported data in this case\nthrough the federation metadata as well\n\n330\n00:16:37.437 --> 00:16:38.067\nin both sides.\n\n331\n00:16:38.067 --> 00:16:42.013\nBut we have the ability to do it\nfrom a file as well as manually.\n\n332\n00:16:42.013 --> 00:16:43.827\nSo just keeping that in mind.\n\n333\n00:16:43.827 --> 00:16:47.328\nAnd we also talked about the fact that\nwe have to create service accounts and\n\n334\n00:16:47.328 --> 00:16:49.773\nI showed you we created not\njust a service account but\n\n335\n00:16:49.773 --> 00:16:52.011\na very unique special\nkind of service account.\n\n336\n00:16:52.011 --> 00:16:53.877\nWe've talked about it in prior episodes.\n\n337\n00:16:53.877 --> 00:16:56.625\nWe created a managed service\naccount we call MSA, but\n\n338\n00:16:56.625 --> 00:17:00.729\nnot just a Managed Service Account,\nGrouped Managed Service Account, GMSA.\n\n339\n00:17:00.729 --> 00:17:04.018\nThe difference being and we talked about\nthis in the episode where we did the walk\n\n340\n00:17:04.018 --> 00:17:07.324\nthrough in the configuration and the\nwizard that the managed service account.\n\n341\n00:17:07.324 --> 00:17:10.252\nIt's a service account,\na new version that we think of.\n\n342\n00:17:10.252 --> 00:17:13.539\nControlled by the system, but\nlocal to only that one machine,\n\n343\n00:17:13.539 --> 00:17:16.279\ncannot be shared with other\nmachines in the system.\n\n344\n00:17:16.279 --> 00:17:20.526\nAnd so we scale that to become a group\nmanaged service account, a GMSA and\n\n345\n00:17:20.526 --> 00:17:24.916\nthe group managed service accounts\nare rather an account that can be used by\n\n346\n00:17:24.916 --> 00:17:28.978\nmultiple systems, for multiple\nservers on behalf of that service.\n\n347\n00:17:28.978 --> 00:17:31.149\nAnd so we created that gave it a name,\n\n348\n00:17:31.149 --> 00:17:35.632\nassociated with the wizard as we walk\nthrough and named it FMSA or whatever,\n\n349\n00:17:35.632 --> 00:17:40.415\nFSMSA for Federation Services Managed\nService Account, whatever it would be.\n\n350\n00:17:40.415 --> 00:17:43.424\nAnd we set that up and\nuse that account on both sides.\n\n351\n00:17:43.424 --> 00:17:44.577\nJust remember that.\n\n352\n00:17:44.577 --> 00:17:46.479\nWe also took a look at our certificates.\n\n353\n00:17:46.479 --> 00:17:48.581\nSaw how the certificates were issued.\n\n354\n00:17:48.581 --> 00:17:53.126\nI walked you through how to create\nthe templates using the ADCS certificate\n\n355\n00:17:53.126 --> 00:17:55.447\nauthority in the enterprise root CA.\n\n356\n00:17:55.447 --> 00:17:57.147\nWe set up the certificate templates.\n\n357\n00:17:57.147 --> 00:17:58.430\nWe issued the certificates.\n\n358\n00:17:58.430 --> 00:18:01.938\nShowed you how to import\nthe certificates into the machine,\n\n359\n00:18:01.938 --> 00:18:06.081\nthe computer account into the personal\ncertificates for the machine.\n\n360\n00:18:06.081 --> 00:18:06.785\nBrought those certificates in.\n\n361\n00:18:06.785 --> 00:18:08.430\nMade sure they were available.\n\n362\n00:18:08.430 --> 00:18:10.074\nWe walked through that whole process.\n\n363\n00:18:10.074 --> 00:18:13.874\nThen we took a look at how with\nthe ADFS Management Console,\n\n364\n00:18:13.874 --> 00:18:17.525\nonce we installed the role in other words,\nand set it up.\n\n365\n00:18:17.525 --> 00:18:19.664\nWe saw there's a tool we can open up and\nuse to configure it.\n\n366\n00:18:19.664 --> 00:18:23.727\nWe went in we took a look at the existing\ncertificates talked about how to remap\n\n367\n00:18:23.727 --> 00:18:27.854\ncertificates if for some reasons we had\nto update them, mark them as primary,\n\n368\n00:18:27.854 --> 00:18:31.313\nwalk through the whole logic of\nhow to swap out them if necessary.\n\n369\n00:18:31.313 --> 00:18:33.590\nWe then went ahead and\nconfigured the trust relationships.\n\n370\n00:18:33.590 --> 00:18:37.722\nWe also, although I didn't spent a lot of\ntime on it, but you have to also keep in\n\n371\n00:18:37.722 --> 00:18:41.890\nmind that there are DNS records you may\nneed to configure and have available so.\n\n372\n00:18:41.890 --> 00:18:46.707\nYou are doing that, we may need to make\nsure the DNS is set up to provide immerse\n\n373\n00:18:46.707 --> 00:18:51.230\nresolution for this service, so\njust reminding you of that as well, and\n\n374\n00:18:51.230 --> 00:18:55.926\nthere is a caveat, kind of a best\npractice, I call it out in the show notes.\n\n375\n00:18:55.926 --> 00:19:00.523\nYou should not use C-name records to set\nup a host record for federation services,\n\n376\n00:19:00.523 --> 00:19:04.804\nrather a host record should be used right\nto find the system and to do all that.\n\n377\n00:19:04.804 --> 00:19:07.705\nBut not C-name records specifically,\nin other words,\n\n378\n00:19:07.705 --> 00:19:11.571\nno alias C-name records should be used\nall because they can get in the way and\n\n379\n00:19:11.571 --> 00:19:13.701\ncause confusion so just be aware of that.\n\n380\n00:19:13.701 --> 00:19:15.558\nI don't think I ever\nmentioned this by the way,\n\n381\n00:19:15.558 --> 00:19:18.119\nyou know what version of ADFS\nwere currently used in Server 16?\n\n382\n00:19:18.119 --> 00:19:18.985\n&gt;&gt; I don't.\n\n383\n00:19:18.985 --> 00:19:20.465\nNeither do I, I was hoping you did.\n\n384\n00:19:20.465 --> 00:19:22.597\n&gt;&gt; [LAUGH]\n&gt;&gt; I can look it up for us though.\n\n385\n00:19:22.597 --> 00:19:23.506\n&gt;&gt; I know what version.\n\n386\n00:19:23.506 --> 00:19:24.292\nI'm only kidding.\n\n387\n00:19:24.292 --> 00:19:25.494\nIt's version 3.0.\n\n388\n00:19:25.494 --> 00:19:29.305\nSo, in case you're ever asked about that,\nmaybe one of those little stupid,\n\n389\n00:19:29.305 --> 00:19:32.958\ndo you know that little bit of trivia\nthing that could come up at some point.\n\n390\n00:19:32.958 --> 00:19:35.517\nBut the ADFS version of 3.0 is\nwhat we deploy in server 16 if you\n\n391\n00:19:35.517 --> 00:19:36.397\nactually set that up.\n\n392\n00:19:36.397 --> 00:19:37.551\nSo, just be aware of that.\n\n393\n00:19:37.551 --> 00:19:42.001\nRemember the first server we deployed, as\nyou saw, becomes the anchor for the farm.\n\n394\n00:19:42.001 --> 00:19:45.314\nAnd then we scale out from there,\nso we did talk about that,\n\n395\n00:19:45.314 --> 00:19:48.716\nand remember we do have an option\nto do this with PowerShell.\n\n396\n00:19:48.716 --> 00:19:52.750\nI shared with you some of the commands\nthat could be used on Install ADFS farm,\n\n397\n00:19:52.750 --> 00:19:56.785\ncan be used as the command let's you\ninstall and configure the first server in\n\n398\n00:19:56.785 --> 00:19:59.915\nthe farm and actually do all\nthe configuration from there.\n\n399\n00:19:59.915 --> 00:20:03.162\nOnce we set up the first server,\nthe additional servers that are added or\n\n400\n00:20:03.162 --> 00:20:04.453\nadded to the existing form.\n\n401\n00:20:04.453 --> 00:20:06.596\nFor instance, on the steps by farm page,\n\n402\n00:20:06.596 --> 00:20:09.487\nyou would specify the information\nthere to add them in.\n\n403\n00:20:09.487 --> 00:20:12.709\nObviously make your choices for\nthe SQL sever database.\n\n404\n00:20:12.709 --> 00:20:17.309\nAnd then, I'm just looking at my notes to\nmake sure we didn't miss anything else we\n\n405\n00:20:17.309 --> 00:20:18.256\nwanna cover.\n\n406\n00:20:18.256 --> 00:20:22.459\nYeah so you can use the add ADFS farm\nnode to add a federation server,\n\n407\n00:20:22.459 --> 00:20:26.610\nthe cmdlet add it in, we talked\nabout the cmdlet for creating one.\n\n408\n00:20:26.610 --> 00:20:30.024\nWe do a pre-req check so\nwe wanna make sure all that is good.\n\n409\n00:20:30.024 --> 00:20:31.926\nWe've been through all that and\n\n410\n00:20:31.926 --> 00:20:36.872\nonce we've set that up I think resource\npartner side, essentially the same side.\n\n411\n00:20:36.872 --> 00:20:39.757\nWe talked about doing\nthe opposite side there.\n\n412\n00:20:39.757 --> 00:20:42.205\nWe talked about our attributes and\nour claims.\n\n413\n00:20:42.205 --> 00:20:46.673\nI'm just looking to make sure I didn't\nmiss anything in our notes that we wanted\n\n414\n00:20:46.673 --> 00:20:47.951\nto highlight for you.\n\n415\n00:20:47.951 --> 00:20:52.301\nDo also talk a bit about managing\nthe certificates, certificate life cycle.\n\n416\n00:20:52.301 --> 00:20:56.656\nJust making sure that you are aware of\ncertificates, the importance of them.\n\n417\n00:20:56.656 --> 00:21:00.016\nRemember the decrypt and\nencrypt token certificates,\n\n418\n00:21:00.016 --> 00:21:04.029\nthe sign in certificates are primarily\nthe ones we focus on there.\n\n419\n00:21:04.029 --> 00:21:08.400\nIf you're gonna link this to Office 365,\nthis being ADFS, and use it through let\n\n420\n00:21:08.400 --> 00:21:12.478\nsay, the Office 365 solution,\nwe talked about that, how you may do that.\n\n421\n00:21:12.478 --> 00:21:15.566\nJust a quick note, I put this in\nthe show notes for you as well.\n\n422\n00:21:15.566 --> 00:21:17.262\nIf you wanna take a look here.\n\n423\n00:21:17.262 --> 00:21:21.532\nThe Office 365 Federation Metadata\nUpdate Automation Installation Tool,\n\n424\n00:21:21.532 --> 00:21:22.686\nthat's a mouthful.\n\n425\n00:21:22.686 --> 00:21:26.343\nI showed you one of the tool portals\nthat you would go into to actually do\n\n426\n00:21:26.343 --> 00:21:27.521\nthe configuration and\n\n427\n00:21:27.521 --> 00:21:31.120\nI noted that when we went there\nessentially it's just a sign in page.\n\n428\n00:21:31.120 --> 00:21:34.453\nAnd you have to have an account to\nget into Office 365 to configure,\n\n429\n00:21:34.453 --> 00:21:36.496\nuse the tools, the planning mechanisms.\n\n430\n00:21:36.496 --> 00:21:40.638\nSo you have to already have an account\nin other words to then get access to\n\n431\n00:21:40.638 --> 00:21:44.037\nthe tools in use,\nthe federation tools they are to set up.\n\n432\n00:21:44.037 --> 00:21:47.650\nFederation with Microsoft to\ndrive that through Office 365.\n\n433\n00:21:47.650 --> 00:21:49.978\nCan't really show you\nthat particular piece but\n\n434\n00:21:49.978 --> 00:21:52.134\nwe did talk about the fact\nyou would go there,\n\n435\n00:21:52.134 --> 00:21:55.958\nthe tools are pretty self-explanatory and\nit's great set of documentation.\n\n436\n00:21:55.958 --> 00:21:58.642\nBut the Federation Metadata Update Tool\nis available.\n\n437\n00:21:58.642 --> 00:21:59.668\nYou can download this.\n\n438\n00:21:59.668 --> 00:22:03.632\nYou can actually take a look at PowerShell\nscripts essentially as you could see here.\n\n439\n00:22:03.632 --> 00:22:08.741\nAnd what it does is it automates the\nMetadata Federation information update for\n\n440\n00:22:08.741 --> 00:22:13.472\nOffice 365, that way when you change\nthe two consigning certificates\n\n441\n00:22:13.472 --> 00:22:17.755\nyou don't have to worry about them\ntiming out or having a problem.\n\n442\n00:22:17.755 --> 00:22:21.374\nThis will essentially automate\nthe updating the sync of that information.\n\n443\n00:22:21.374 --> 00:22:25.452\nSo this may be valuable for you, but only\nif you're using this particular setup.\n\n444\n00:22:25.452 --> 00:22:27.405\nIf you're not using Office 365,\n\n445\n00:22:27.405 --> 00:22:30.119\nthen it may not obviously\nbe of any interest to you.\n\n446\n00:22:30.119 --> 00:22:33.821\nBut there are PowerShell cmdlets to\ndo all this as well just so you know.\n\n447\n00:22:33.821 --> 00:22:38.203\nAll right, and then, if we want\nto put applications out there and\n\n448\n00:22:38.203 --> 00:22:42.919\nmake them available through what's\ncalled a web application proxy.\n\n449\n00:22:42.919 --> 00:22:44.733\nWhich is what we're gonna\ntalk about here for\n\n450\n00:22:44.733 --> 00:22:46.513\nthe last couple of\nminutes of this episode.\n\n451\n00:22:46.513 --> 00:22:49.015\nWe're gonna come back,\ntake a look at this in just a minute, or\n\n452\n00:22:49.015 --> 00:22:49.980\nwe can just leave it up.\n\n453\n00:22:49.980 --> 00:22:53.415\nAnd we'll just talk a little bit about it\nbut the idea is that the web application\n\n454\n00:22:53.415 --> 00:22:56.456\nproxy was this last little piece of\nthe puzzle that we've mentioned.\n\n455\n00:22:56.456 --> 00:22:58.892\nWe had talked about it\non the overview intro.\n\n456\n00:22:58.892 --> 00:23:01.866\nOne of the very first\nepisode surround this topic,\n\n457\n00:23:01.866 --> 00:23:05.945\naround ADFS mentioned what it is what\nit does was on the list of roles and\n\n458\n00:23:05.945 --> 00:23:10.510\nthe different moving parts, went to that\nshort that I walk through with you but\n\n459\n00:23:10.510 --> 00:23:13.856\nall the Victorian parts that\nmake up the ADFS solutions.\n\n460\n00:23:13.856 --> 00:23:17.520\nThe web up proxy allows you\nlike any proxy does to have\n\n461\n00:23:17.520 --> 00:23:21.954\nremote access from the outside\ninto consuming user services.\n\n462\n00:23:21.954 --> 00:23:25.057\nWe can use the secure access\nto web based applications but\n\n463\n00:23:25.057 --> 00:23:27.393\nnot allow direct access from the outside.\n\n464\n00:23:27.393 --> 00:23:32.599\nSo another tweet on top and\nthen wrap directly with a SharePoint or\n\n465\n00:23:32.599 --> 00:23:36.955\nexchange, or\nwhatever it may be through the outside,\n\n466\n00:23:36.955 --> 00:23:41.326\nunsecured, what we to call\nthe way ender just a cloud.\n\n467\n00:23:41.326 --> 00:23:44.953\nBut rather we come through some\nsort of gateways services,\n\n468\n00:23:44.953 --> 00:23:47.139\nremote RDG is just remote gateway.\n\n469\n00:23:47.139 --> 00:23:51.907\nAnd we come in and we are then able\nto use this proxy to stand off.\n\n470\n00:23:51.907 --> 00:23:55.353\nWe will have to authenticate,\nprovide credentials, pass them through,\n\n471\n00:23:55.353 --> 00:23:56.664\naudit what's going on, and\n\n472\n00:23:56.664 --> 00:24:00.230\nensure that the user is authenticated\nbefore they ever get access to the app.\n\n473\n00:24:00.230 --> 00:24:05.054\nSo it's a more secure and more scalable\nsolution for us, cuz it lets us do things\n\n474\n00:24:05.054 --> 00:24:09.021\nlike provide load balancing,\nprovide the capability to audit.\n\n475\n00:24:09.021 --> 00:24:14.056\nSo we generically in identity services and\nidentity management call this IAAA, right?\n\n476\n00:24:14.056 --> 00:24:17.983\nThe identity lifecycle where\nwe identify the inbound user,\n\n477\n00:24:17.983 --> 00:24:20.300\nwe will seek to authenticate them.\n\n478\n00:24:20.300 --> 00:24:23.369\nOnce we have figured out that they\nare legitimately who they say they are,\n\n479\n00:24:23.369 --> 00:24:27.087\nwe've authenticated their credential,\nagain, it's an LDAP directory or whatever,\n\n480\n00:24:27.087 --> 00:24:30.405\nwe will then authorize them, we'll grant\nthem access based on whatever rights\n\n481\n00:24:30.405 --> 00:24:33.625\nthey're suppose to be given, and\nthen in this case we'll audit, right, so\n\n482\n00:24:33.625 --> 00:24:37.275\nwe can keep track of what they're doing,\nknow what's happening, things like that.\n\n483\n00:24:37.275 --> 00:24:41.537\nSo, your Web App Proxies are very good\nbecause they allow us to be able to\n\n484\n00:24:41.537 --> 00:24:46.516\nprovide this capability, to screen the\ninternal network from the outside world,\n\n485\n00:24:46.516 --> 00:24:49.857\npublish and make available\na standard IP and/or URL for\n\n486\n00:24:49.857 --> 00:24:52.022\naccess to any and all of these apps.\n\n487\n00:24:52.022 --> 00:24:56.922\nNot exposing the inside, what's happening\nbehind the firewall, behind the proxy,\n\n488\n00:24:56.922 --> 00:25:01.214\nand make everything look just very staid\nand very, very easily managed from\n\n489\n00:25:01.214 --> 00:25:05.401\nthe outside world, but also very secure,\nand proxies are not a new idea.\n\n490\n00:25:05.401 --> 00:25:09.740\nWe've had proxies for some time,\nthis is not something new by any means.\n\n491\n00:25:09.740 --> 00:25:14.293\nWe're just putting that proxy capability\nto work in the area of the federation\n\n492\n00:25:14.293 --> 00:25:18.916\nservices to further allow us to be able to\nensure that we provide the security and\n\n493\n00:25:18.916 --> 00:25:19.753\nthe support.\n\n494\n00:25:19.753 --> 00:25:23.565\nSo, proxies traditionally deployed in\nthe perimeter network, we call that a DMZ,\n\n495\n00:25:23.565 --> 00:25:25.081\nas I'm sure you're well aware.\n\n496\n00:25:25.081 --> 00:25:29.119\nAnd we put a Web App Proxy into that area,\nagain to accept inbound requests for\n\n497\n00:25:29.119 --> 00:25:33.596\nthese applications or these request for\napplications, making them available, but\n\n498\n00:25:33.596 --> 00:25:36.786\npublishing them out through\nthis device to control access.\n\n499\n00:25:36.786 --> 00:25:40.431\nAnd so, whether if you go back here and\njust join me for a minute on the website,\n\n500\n00:25:40.431 --> 00:25:42.697\nwhether we publish\nsomething like SharePoint,\n\n501\n00:25:42.697 --> 00:25:44.754\nwe talk a little bit\nabout how we can do this.\n\n502\n00:25:44.754 --> 00:25:47.220\nSharePoint site uses\nclaims-based authentication.\n\n503\n00:25:47.220 --> 00:25:51.474\nYou use the Add Relying Party Trust Wizard\nto configure the relying party trust for\n\n504\n00:25:51.474 --> 00:25:51.975\nthe app.\n\n505\n00:25:51.975 --> 00:25:52.527\nYou saw me do that.\n\n506\n00:25:52.527 --> 00:25:54.972\nIf we use\nIntegrated Windows Authentication,\n\n507\n00:25:54.972 --> 00:25:58.525\nwe do non-claims-based relying\nparties trust to configure that.\n\n508\n00:25:58.525 --> 00:26:03.918\nWe then allow the authentication to take\nplace so we're gonna authenticate it.\n\n509\n00:26:03.918 --> 00:26:05.431\nWe're gonna do WIndows authentication.\n\n510\n00:26:05.431 --> 00:26:08.579\nWe have to have a Web App Proxy\njoined to the domain so\n\n511\n00:26:08.579 --> 00:26:12.537\nwe can take the inbound credential for\nthe domain-based user,\n\n512\n00:26:12.537 --> 00:26:17.242\npass it to the LDAP, a directory the ADDS,\nauthenticate the user, right?\n\n513\n00:26:17.242 --> 00:26:20.199\nRemember IWA,\nIntegrated Windows Authentication,\n\n514\n00:26:20.199 --> 00:26:22.198\nis normal Windows Authentication.\n\n515\n00:26:22.198 --> 00:26:25.873\nIt's what we think of as being able to\nprovide a username and a password, right,\n\n516\n00:26:25.873 --> 00:26:27.507\nour traditional thought process.\n\n517\n00:26:27.507 --> 00:26:30.680\nSo we have to be joined to the domain,\nthe Web App Proxy does,\n\n518\n00:26:30.680 --> 00:26:33.978\nto be able to see the domain controllers,\ninteract with them,\n\n519\n00:26:33.978 --> 00:26:36.405\ndo the authentication on\nbehalf of the user and\n\n520\n00:26:36.405 --> 00:26:40.723\nprovide that pass through back and forth\nto allow users to authenticate inbound.\n\n521\n00:26:40.723 --> 00:26:43.752\nSo you just wanna be thinking about\nthe logic of this and what this does and\n\n522\n00:26:43.752 --> 00:26:44.753\nwhy this is important.\n\n523\n00:26:44.753 --> 00:26:45.997\nAlso they tell us hey,\n\n524\n00:26:45.997 --> 00:26:49.739\nthe application has to support\nKerberos constrained delegation.\n\n525\n00:26:49.739 --> 00:26:53.277\nThe ability to be able to\ndelegate that authentication,\n\n526\n00:26:53.277 --> 00:26:55.720\nin this case through the Web App Proxy.\n\n527\n00:26:55.720 --> 00:26:57.722\nSo there are just things\nwe need to know about.\n\n528\n00:26:57.722 --> 00:27:00.612\nSharePoint supports this,\nExchange supports this,\n\n529\n00:27:00.612 --> 00:27:05.028\nall of our Microsoft-centric applications\nin the current catalog support this.\n\n530\n00:27:05.028 --> 00:27:08.310\nBut we just have to be aware as architects\nand as people that are gonna manage this\n\n531\n00:27:08.310 --> 00:27:10.714\ndeployment that we would have\nto set this up a certain way.\n\n532\n00:27:10.714 --> 00:27:12.186\nSo like this website,\n\n533\n00:27:12.186 --> 00:27:16.764\nI like the website because it gives\nus all the information necessary.\n\n534\n00:27:16.764 --> 00:27:20.862\nBy the way even though it says\nWindows Server Technical Preview,\n\n535\n00:27:20.862 --> 00:27:22.586\nit applies to Server 16.\n\n536\n00:27:22.586 --> 00:27:25.883\nIt just hasn't been updated, you know\nsomeone didn't get the memo to go back and\n\n537\n00:27:25.883 --> 00:27:28.473\nsay, hey, let's put the final\nversion of the product there.\n\n538\n00:27:28.473 --> 00:27:31.557\nBut this will work, and I try to point\nthose things out from time to time,\n\n539\n00:27:31.557 --> 00:27:34.742\nwe show you these websites so when you\nsee that, you scratch your head going\n\n540\n00:27:34.742 --> 00:27:37.543\nwhy's he showing us stuff that\nprobably doesn't work anymore?\n\n541\n00:27:37.543 --> 00:27:39.922\nIt works just fine,\nI wouldn't put a website up there and\n\n542\n00:27:39.922 --> 00:27:42.306\nshow it to you if the information\nwasn't appropriate for\n\n543\n00:27:42.306 --> 00:27:44.855\nthe topic we're discussing at\nleast not knowingly anyway.\n\n544\n00:27:44.855 --> 00:27:45.959\n&gt;&gt; [LAUGH]\n&gt;&gt; And I will always make sure\n\n545\n00:27:45.959 --> 00:27:46.618\nCherokee checks it.\n\n546\n00:27:46.618 --> 00:27:48.495\nSo I have somebody to blame if-\n&gt;&gt; [LAUGH]\n\n547\n00:27:48.495 --> 00:27:49.250\n&gt;&gt; It doesn't turn out the right way.\n\n548\n00:27:49.250 --> 00:27:50.574\nI understand, but she said it was okay.\n\n549\n00:27:50.574 --> 00:27:52.637\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; So why doesn't it work?\n\n550\n00:27:52.637 --> 00:27:55.661\nBut you can see things like\nOutlook,Web App are supported here, right.\n\n551\n00:27:55.661 --> 00:27:57.677\nSo to use claim-based authentication.\n\n552\n00:27:57.677 --> 00:28:01.243\nThere are some lengths,\nyou just gotta pay attention but\n\n553\n00:28:01.243 --> 00:28:04.374\nwe can use ADFS through\nthe Web App Proxy with OWA.\n\n554\n00:28:04.374 --> 00:28:08.299\nThat's the traditional way, a lot of\nus will consume email today, right.\n\n555\n00:28:08.299 --> 00:28:11.892\nYou'll go and log on remotely, get into\na web interface, look at your web,\n\n556\n00:28:11.892 --> 00:28:13.931\nyour inbox, right, so things like that.\n\n557\n00:28:13.931 --> 00:28:16.904\nSo, your Outlook anywhere,\nright, Exchange Active Sync,\n\n558\n00:28:16.904 --> 00:28:20.516\nyou'll see we can support those kind\nof things for pre-authentication.\n\n559\n00:28:20.516 --> 00:28:23.951\nSo devices, mobile devices,\ngrabbing that inbox information for\n\n560\n00:28:23.951 --> 00:28:25.951\nsupport, any and all of that is there.\n\n561\n00:28:25.951 --> 00:28:29.650\nSo we just talked about this,\nthe Remote Desktop Gateway.\n\n562\n00:28:29.650 --> 00:28:33.357\nMaking sure application services\nare provided, and supported there,\n\n563\n00:28:33.357 --> 00:28:36.953\nso you can either publish apps, but\nalso get them to administration.\n\n564\n00:28:36.953 --> 00:28:40.179\nAgain, the idea is that this goes\nthrough the Web App Proxy as well.\n\n565\n00:28:40.179 --> 00:28:42.274\nSo any and\nall of these capabilities, right?\n\n566\n00:28:42.274 --> 00:28:46.861\nWe use ADFS paired with the Web App Proxy\nto pre-authenticate Internet users,\n\n567\n00:28:46.861 --> 00:28:48.034\npass them through.\n\n568\n00:28:48.034 --> 00:28:51.554\nAnd as soon as we authenticate them,\nallow them to access services.\n\n569\n00:28:51.554 --> 00:28:53.430\nThis is what the Web App Proxy does.\n\n570\n00:28:53.430 --> 00:28:57.071\nSo just wanna make sure you're familiar\nwith the logic of this, right,\n\n571\n00:28:57.071 --> 00:28:57.856\nwe do support.\n\n572\n00:28:57.856 --> 00:29:01.500\nAnd because of the advent of new\nupdated features in Server 16,\n\n573\n00:29:01.500 --> 00:29:05.819\nhave the ability to be able to do wild\ncard domain publishing for web apps now.\n\n574\n00:29:05.819 --> 00:29:09.372\nSo we could publish a domain with\nan asterisk to signify any of the child or\n\n575\n00:29:09.372 --> 00:29:11.777\nsubdomains as part of\nthe Web App Proxy feature.\n\n576\n00:29:11.777 --> 00:29:14.086\nThis was not available in prior versions.\n\n577\n00:29:14.086 --> 00:29:16.740\nWe do support that now in Server 16,\nwhich is kinda cool.\n\n578\n00:29:16.740 --> 00:29:19.713\nSo we could do something like ITPro.TV and\n\n579\n00:29:19.713 --> 00:29:23.767\nyou could put an asterisk in front,\nasterisk.itprotv.\n\n580\n00:29:23.767 --> 00:29:28.365\nAny of those subdomains or anything in\nfront of it are ITPro.TV.asterisk, and\n\n581\n00:29:28.365 --> 00:29:31.353\neven coming after we support\nwild card publishing.\n\n582\n00:29:31.353 --> 00:29:35.506\nSo we'll gather up all those domains and\nsubdomains without having to name them\n\n583\n00:29:35.506 --> 00:29:37.867\nall, which was one of\nthe down sides to this.\n\n584\n00:29:37.867 --> 00:29:40.369\nBecause as we had gone\nthrough in prior versions,\n\n585\n00:29:40.369 --> 00:29:44.239\nif you've ever deployed a technology\nlike this, you may have that list of all\n\n586\n00:29:44.239 --> 00:29:48.550\nthose domains you have to enter namespaces\nwho don't publish wild card publishing.\n\n587\n00:29:48.550 --> 00:29:51.969\nIt becomes a little tedious because\nyou've got to literally put in-\n\n588\n00:29:51.969 --> 00:29:52.533\n&gt;&gt; [CROSSTALK]\n\n589\n00:29:52.533 --> 00:29:54.963\n&gt;&gt; Yeah, if you've ever done let's say IE\n\n590\n00:29:54.963 --> 00:29:56.970\nand some earlier versions of IE.\n\n591\n00:29:56.970 --> 00:29:59.758\nWhere it always pops up if you have\nthe enhanced security feature.\n\n592\n00:29:59.758 --> 00:30:00.375\n&gt;&gt; Yeah.\n\n593\n00:30:00.375 --> 00:30:01.735\n&gt;&gt; That annoying feature, right?\n\n594\n00:30:01.735 --> 00:30:03.346\nAnd if you had that turned on,\n\n595\n00:30:03.346 --> 00:30:07.347\nyou had to add every website you went\nto to that exclusion list to allow it.\n\n596\n00:30:07.347 --> 00:30:09.120\nAnd you kept getting the prompts.\n\n597\n00:30:09.120 --> 00:30:11.720\nIf you've ever done that in third or\nfourth or fifth time, and\n\n598\n00:30:11.720 --> 00:30:15.188\nyou just scratch your head going, this is\ninsane, why do I just not turn this off.\n\n599\n00:30:15.188 --> 00:30:17.906\nYou get the idea that I'm\ntrying to put across here.\n\n600\n00:30:17.906 --> 00:30:19.974\nIt can get very difficult\nto authenticate and\n\n601\n00:30:19.974 --> 00:30:22.813\nto validate those domains if\nyou don't have them all listed.\n\n602\n00:30:22.813 --> 00:30:26.451\nAnd until we started supporting\nwildcard domain publishing,\n\n603\n00:30:26.451 --> 00:30:31.057\nit was an exercise in every domain,\nfully instantiated, to put it on the list.\n\n604\n00:30:31.057 --> 00:30:32.792\nNow, obviously a lot easier,\nright, so just be aware of that.\n\n605\n00:30:32.792 --> 00:30:36.270\nWe do support things like\nHTTP to HTTPS redirect, so\n\n606\n00:30:36.270 --> 00:30:41.649\nwe can redirect an insecure connection to\na secure connection coming through and\n\n607\n00:30:41.649 --> 00:30:44.275\nencrypt the traffic, which is great.\n\n608\n00:30:44.275 --> 00:30:46.960\nSo we can you know make sure,\nfor instance,\n\n609\n00:30:46.960 --> 00:30:50.891\nif a user doesn't type HTTPS in\nthe URL but it's supposed to be.\n\n610\n00:30:50.891 --> 00:30:51.870\nWe do the translation for\n\n611\n00:30:51.870 --> 00:30:54.773\nthe them automatically insuring\nthey're always connecting securely.\n\n612\n00:30:54.773 --> 00:30:57.491\nIt's another new feature we\nsupport in Server 16 with this.\n\n613\n00:30:57.491 --> 00:31:02.622\nWe do support HTTP Publishing so\nwe pass through the applications or\n\n614\n00:31:02.622 --> 00:31:05.782\npre-authentication with HTTP as well.\n\n615\n00:31:05.782 --> 00:31:09.263\nSo we do have a lot of new features and\nupdates which is really kinda nice.\n\n616\n00:31:09.263 --> 00:31:13.870\nAnd we can link the Web App Proxy to the\nADFS Proxy so we're able to use that for\n\n617\n00:31:13.870 --> 00:31:18.500\nauthentication, making sure we just\nhave a sense of what those things are.\n\n618\n00:31:18.500 --> 00:31:20.636\nAnd I'm just looking,\nI just wanna scroll down.\n\n619\n00:31:20.636 --> 00:31:23.943\nProbably, and I'm going to put this up so\nyou can see it here.\n\n620\n00:31:23.943 --> 00:31:27.551\nJust give me one second, I'm just getting\nthe location in my notes that I wanna show\n\n621\n00:31:27.551 --> 00:31:30.542\nyou just before we put it up I just\nwant to scroll down to get there, but\n\n622\n00:31:30.542 --> 00:31:33.453\nthere's one thing I want to share\nwith you about the Web App Proxy.\n\n623\n00:31:33.453 --> 00:31:36.140\nIt's easier to show to you than\nto try to talk to you about it,\n\n624\n00:31:36.140 --> 00:31:39.463\nwhich is just a couple of the case\nstudies, what are the business reasons,\n\n625\n00:31:39.463 --> 00:31:42.250\nthe logical deployment scenarios\nthat we would use this for.\n\n626\n00:31:42.250 --> 00:31:46.615\nAnd so let me just show you\nwhat those may look like.\n\n627\n00:31:46.615 --> 00:31:49.765\nCuz there's a couple URLs I wanna show you\njust about the different ways we would see\n\n628\n00:31:49.765 --> 00:31:51.432\nthis depending on how\nyou choose to deploy.\n\n629\n00:31:51.432 --> 00:31:53.793\nSo let me get to the point here.\n\n630\n00:31:53.793 --> 00:31:54.997\nYep, right there.\n\n631\n00:31:54.997 --> 00:31:57.390\nAll right, so if you just want to\njoin me here, let me just quickly.\n\n632\n00:31:57.390 --> 00:31:57.945\nCan we go fullscreen?\n\n633\n00:31:57.945 --> 00:32:00.121\nJust make it a little bit easier for\nyou to see.\n\n634\n00:32:00.121 --> 00:32:03.329\nSo, you'll see here scenarios for\nusing the web app proxy.\n\n635\n00:32:03.329 --> 00:32:06.352\nSomething like publishing remote\ndesktop gateway services.\n\n636\n00:32:06.352 --> 00:32:08.196\nThis'll be one of the key scenarios.\n\n637\n00:32:08.196 --> 00:32:13.014\nAnd when I say key scenarios what I mean\nis, probably really good for you to have\n\n638\n00:32:13.014 --> 00:32:17.250\na sense of how to do this maybe if\nyou're asked about it at some point.\n\n639\n00:32:17.250 --> 00:32:20.201\nIt is certainly and\nclearly defined as an exam objective.\n\n640\n00:32:20.201 --> 00:32:22.799\nSo you want to make sure you're\naware of it when we put it that way,\n\n641\n00:32:22.799 --> 00:32:25.326\nwhich is why I'm taking the time\njust to make sure you see this.\n\n642\n00:32:25.326 --> 00:32:28.385\nYou have two options to publish\nthe gateway services through the web\n\n643\n00:32:28.385 --> 00:32:28.926\napp proxy.\n\n644\n00:32:28.926 --> 00:32:32.642\nWe could do the application using\nthe pass-through authentication I was just\n\n645\n00:32:32.642 --> 00:32:33.486\nmentioning, and\n\n646\n00:32:33.486 --> 00:32:36.765\nI just have a couple of things that\nmay be of value to you here, right?\n\n647\n00:32:36.765 --> 00:32:40.713\nSo we can go through and\ndepending on what we choose to do,\n\n648\n00:32:40.713 --> 00:32:45.981\nif the Remote Desktop Web Access and\nRD Gateway roles are on the same Server,\n\n649\n00:32:45.981 --> 00:32:48.478\nand they could be split up, right?\n\n650\n00:32:48.478 --> 00:32:49.872\nDepending on what you choose to do.\n\n651\n00:32:49.872 --> 00:32:54.758\nIf they're on the same server we'd just\npublish a simple HTTPS URL like this.\n\n652\n00:32:54.758 --> 00:32:57.561\nRDG just stands for Remote Desktop Gateway\nin this example, right?.\n\n653\n00:32:57.561 --> 00:33:00.487\nSo rdg.itpro.tv.\n\n654\n00:33:00.487 --> 00:33:03.500\nThis is the URL everybody\nwould go to from outside, and\n\n655\n00:33:03.500 --> 00:33:06.196\nthey would resolve the web\napp proxy at that URL.\n\n656\n00:33:06.196 --> 00:33:08.231\nAnd they would then through\nthat be able to get in, and\n\n657\n00:33:08.231 --> 00:33:11.049\nget to the Remote Desktop Gateway,\nand they'd be able to authenticate.\n\n658\n00:33:11.049 --> 00:33:13.193\nThey'd have some sort of page there,\n\n659\n00:33:13.193 --> 00:33:16.208\ntypically a form based\nauthentication of some kind.\n\n660\n00:33:16.208 --> 00:33:18.837\nThey would provide their\nauthentication and pass through, and\n\n661\n00:33:18.837 --> 00:33:20.108\nbe able to access the gateway.\n\n662\n00:33:20.108 --> 00:33:24.839\nSo, if everything is running in one\nsystem, the RD Web Access in RD Gateway\n\n663\n00:33:24.839 --> 00:33:28.306\nroles, you would use one URL and\npublish it like this.\n\n664\n00:33:28.306 --> 00:33:32.774\nIf we split those roles up, Web Access and\nRD Gateway are on separate systems.\n\n665\n00:33:32.774 --> 00:33:35.505\nAnd we have to individually\npublish those directories.\n\n666\n00:33:35.505 --> 00:33:39.811\nThen we would use, as you can see here,\neither two options,\n\n667\n00:33:39.811 --> 00:33:44.034\nsame FQDN and the URL would\nessentially be as follows here or\n\n668\n00:33:44.034 --> 00:33:49.541\nif we use different FQDNs to name each\nservice, it would be what I show below.\n\n669\n00:33:49.541 --> 00:33:54.157\nSo, if we are using the same fully\nqualified domain name, https you could see\n\n670\n00:33:54.157 --> 00:33:58.147\nhere, it starts out the same again rdg,\nremote desktop gateway.\n\n671\n00:33:58.147 --> 00:34:01.289\nWe just added a sub directory rdweb,right?\n\n672\n00:34:01.289 --> 00:34:02.381\nRemote desktop web.\n\n673\n00:34:02.381 --> 00:34:08.759\nFor the web access and you can see RPC\nthere for the actual RD gateway, right.\n\n674\n00:34:08.759 --> 00:34:13.113\nSo the RPC remote procedure call for\nthat, so we could do one or both of those.\n\n675\n00:34:13.113 --> 00:34:15.017\nOr we can just simply as you can see here.\n\n676\n00:34:15.017 --> 00:34:18.350\nWe have different URLs, or\ndifferent FQDNs, rather.\n\n677\n00:34:18.350 --> 00:34:19.776\nWe would see https.\n\n678\n00:34:19.776 --> 00:34:22.837\nSomething like rdweb.itpro.tv/rdweb and\n\n679\n00:34:22.837 --> 00:34:27.866\nthen something like gateway.itpro.tv/rpc\nif we wanted to change that.\n\n680\n00:34:27.866 --> 00:34:30.231\nWe could change it,\nit's really up to us to decide.\n\n681\n00:34:30.231 --> 00:34:34.880\nRemember, you have the naming convention\nwe use is ultimately what translates into\n\n682\n00:34:34.880 --> 00:34:37.440\nthe URL and\nthe FQDM is what we have to focus on.\n\n683\n00:34:37.440 --> 00:34:41.984\nSo, just wanted to make sure you had a\nchance to see that in case you were kinda\n\n684\n00:34:41.984 --> 00:34:45.053\nreasoning through in your\nmind what that would be.\n\n685\n00:34:45.053 --> 00:34:47.835\nJust making sure that\nyou have a reference.\n\n686\n00:34:47.835 --> 00:34:49.579\nGo back to the show notes and take a look.\n\n687\n00:34:49.579 --> 00:34:54.052\nAs I said this particular conversation\nis one of those pieces that is\n\n688\n00:34:54.052 --> 00:34:55.391\nan exam objective.\n\n689\n00:34:55.391 --> 00:34:59.992\nYou may get asked hey, how do we deal with\npublishing an RD remote desktop gateway\n\n690\n00:34:59.992 --> 00:35:01.560\nthrough the web app proxy.\n\n691\n00:35:01.560 --> 00:35:02.875\nWhat are the steps?\n\n692\n00:35:02.875 --> 00:35:04.807\nWhat are the options for URLs?\n\n693\n00:35:04.807 --> 00:35:06.381\nWhat are my FQDN options?\n\n694\n00:35:06.381 --> 00:35:09.711\nSo, this information is definitely\nimportant for you to take a look at and\n\n695\n00:35:09.711 --> 00:35:13.383\njust make sure you converse in web because\nyou may be asked about it at some point.\n\n696\n00:35:13.383 --> 00:35:16.780\nAnd I did show you the website, just a\ncouple of minutes ago about how we walked\n\n697\n00:35:16.780 --> 00:35:19.665\nthrough the logic of public and\nSharePoint, through Exchange.\n\n698\n00:35:19.665 --> 00:35:21.777\nThose are also potential targets.\n\n699\n00:35:21.777 --> 00:35:26.674\nHard to saw which one, or any of those,\nwould potentially be asked about.\n\n700\n00:35:26.674 --> 00:35:30.704\nBut the exam objectives do definitely\ncall out the fact that may see one or\n\n701\n00:35:30.704 --> 00:35:31.573\nmore of these.\n\n702\n00:35:31.573 --> 00:35:34.131\nAnd Remote Desktop Gateway is\none that's usually focused on,\n\n703\n00:35:34.131 --> 00:35:35.731\nbecause it's a little more esoteric.\n\n704\n00:35:35.731 --> 00:35:38.853\nBut it's also very important,\nbecause a lot of times we use it again and\n\n705\n00:35:38.853 --> 00:35:40.480\ndo administration and access apps.\n\n706\n00:35:40.480 --> 00:35:43.494\nSo it would be one of those ones that\nyou wanna spend a few minutes on.\n\n707\n00:35:43.494 --> 00:35:44.881\nAnd just make sure you have a sense.\n\n708\n00:35:44.881 --> 00:35:46.150\nLet's put it that way, right?\n\n709\n00:35:46.150 --> 00:35:47.992\n&gt;&gt; Awesome, well thank you for\nshowing us how to do that.\n\n710\n00:35:47.992 --> 00:35:51.307\nAnd just as a reminder, like Adam said,\neven if you feel as if this is something\n\n711\n00:35:51.307 --> 00:35:54.376\nyou may not encounter in your environment,\nyou definitely want to focus\n\n712\n00:35:54.376 --> 00:35:56.766\non these topics because they\nare listed as objectives.\n\n713\n00:35:56.766 --> 00:36:00.420\nBut I think that does round out\nour federation service discussion.\n\n714\n00:36:00.420 --> 00:36:02.772\n&gt;&gt; It does, the only thing I just,\nwanted to add, I just forgot to add.\n\n715\n00:36:02.772 --> 00:36:05.451\nAnd, it's just, good to know.\n\n716\n00:36:05.451 --> 00:36:07.835\nThis is an after the fact-dipline.\n\n717\n00:36:07.835 --> 00:36:10.842\nAnd, what I mean by, this being the web\napp proxy piece we're talking about.\n\n718\n00:36:10.842 --> 00:36:12.557\nYou always, alway, always, right?\n\n719\n00:36:12.557 --> 00:36:13.721\nJust, bear in your mind.\n\n720\n00:36:13.721 --> 00:36:14.553\nBurn it in.\n\n721\n00:36:14.553 --> 00:36:15.671\nBest practice, right?\n\n722\n00:36:15.671 --> 00:36:17.058\nCherokee said, so.\n\n723\n00:36:17.058 --> 00:36:17.591\n&gt;&gt; [LAUGH].\n\n724\n00:36:17.591 --> 00:36:18.539\n&gt;&gt; Make sure you know it.\n\n725\n00:36:18.539 --> 00:36:20.919\nWe always deploy ADFS first.\n\n726\n00:36:20.919 --> 00:36:22.576\nWeb app proxy afterwards.\n\n727\n00:36:22.576 --> 00:36:24.161\nIn other words, web app proxy,\n\n728\n00:36:24.161 --> 00:36:27.586\nsecond after the ADFS form is up\nbecause we have to integrate the two.\n\n729\n00:36:27.586 --> 00:36:30.868\nAnd we need the ADFS tests available to\nthen be able to leverage a web app proxy\n\n730\n00:36:30.868 --> 00:36:32.318\npass-through functionality.\n\n731\n00:36:32.318 --> 00:36:35.324\nBecause remember it relies\nit being a web app proxy,\n\n732\n00:36:35.324 --> 00:36:39.917\nrelies on ADFS to be able to push those\nclaims and that authentication through.\n\n733\n00:36:39.917 --> 00:36:42.932\nAnd so ADFS has to be stood up before\nwe can configure the web app proxy.\n\n734\n00:36:42.932 --> 00:36:46.083\nSo, just want to make sure you on clear\non that, you have a sense of that.\n\n735\n00:36:46.083 --> 00:36:48.649\nThat's one of those little gotchya's,\nthat's real easy to miss.\n\n736\n00:36:48.649 --> 00:36:52.695\nAnd you can get a scenario question,\nyeah, I'll deploy web app proxy first,\n\n737\n00:36:52.695 --> 00:36:55.807\nbecause I wanna secure the gateway\nbefore I do anything else.\n\n738\n00:36:55.807 --> 00:36:57.993\nNo, we want to set up the infrastructure,\n\n739\n00:36:57.993 --> 00:37:01.844\nhave the ability to do the trust\nrelationships, and the authentication.\n\n740\n00:37:01.844 --> 00:37:05.218\nAnd then put proxy in place in front,\nto be able to leverage that.\n\n741\n00:37:05.218 --> 00:37:07.495\nBecause we have other\nsecurity gateway devices.\n\n742\n00:37:07.495 --> 00:37:09.847\nFirewalls, routers, IDS, IPS, whatever.\n\n743\n00:37:09.847 --> 00:37:13.322\nThe assumption is those are operating\nin respect of this scenario.\n\n744\n00:37:13.322 --> 00:37:17.086\nSo you're not putting the web app proxy\nout as your frontline security solution.\n\n745\n00:37:17.086 --> 00:37:20.576\nYou're putting it as your front line\npass through authentication manager.\n\n746\n00:37:20.576 --> 00:37:23.371\nAnd the ADFS backend has to\nbe there to support that.\n\n747\n00:37:23.371 --> 00:37:24.852\nSo, I just wanna make sure\nyou're clear on that and\n\n748\n00:37:24.852 --> 00:37:25.859\nthinking about that as we wrap up.\n\n749\n00:37:25.859 --> 00:37:27.056\n&gt;&gt; All right, sounds like a plan.\n\n750\n00:37:27.056 --> 00:37:28.774\nSo, thank you for joining us today but\n\n751\n00:37:28.774 --> 00:37:31.199\nstay tuned we have more\ninformation headed your way.\n\n752\n00:37:31.199 --> 00:37:32.678\nFor this show,\nwe'll go ahead and sign out.\n\n753\n00:37:32.678 --> 00:37:34.021\nI've been your host, Cherokee Boose.\n\n754\n00:37:34.021 --> 00:37:35.136\n&gt;&gt; I am Adam Gordon.\n\n755\n00:37:35.136 --> 00:37:38.608\n&gt;&gt; See you next time here at IT ProTV.\n\n756\n00:37:38.608 --> 00:37:44.641\n[MUSIC]\n\n757\n00:37:44.641 --> 00:37:47.980\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "232675046"
        }
      ],
      "title": "Implementing and administering AD FS"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Cherokee and Adam Introduce Active Directory Rights Management Service. Adam explains the concept and underpinning key architecture. They also discuss other components such as the AD RMS sever, client and AD RMS-enabled apps.",
          "length": "1490",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-1-implementing_and_administering_ad_rms-090517.00_24_36_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-1-implementing_and_administering_ad_rms-090517.00_24_36_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-1-implementing_and_administering_ad_rms-090517.00_24_36_19.Still001-sm.jpg",
          "title": "Implementing and Administering AD RMS",
          "transcript": "WEBVTT\n\n1\n00:00:00.124 --> 00:00:06.405\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:06.405 --> 00:00:07.550\n[CROSSTALK]\n\n3\n00:00:07.550 --> 00:00:13.374\n[MUSIC]\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:13.374 --> 00:00:16.390\n&gt;&gt; [LAUGH] I missed it.\n\n5\n00:00:16.390 --> 00:00:19.425\n&gt;&gt; Okay, so I guess the answer to\nthe question was no, we're not ready.\n\n6\n00:00:19.425 --> 00:00:21.112\nSo now I think we are, yeah.\n\n7\n00:00:21.112 --> 00:00:23.205\n&gt;&gt; [LAUGH] All right.\n\n8\n00:00:23.205 --> 00:00:26.841\n&gt;&gt; Welcome to ITProTV,\n\n9\n00:00:26.841 --> 00:00:31.286\nI'm your host Don Pezet.\n\n10\n00:00:31.286 --> 00:00:32.083\n[CROSSTALK]\n\n11\n00:00:32.083 --> 00:00:33.809\n[MUSIC]\n\n12\n00:00:33.809 --> 00:00:36.310\n&gt;&gt; You're watching ITProTV.\n\n13\n00:00:36.310 --> 00:00:40.100\n&gt;&gt; Welcome back to Identity with\nWindows Server 2016 series.\n\n14\n00:00:40.100 --> 00:00:42.837\nI'm your show host Cherokee Boose.\n\n15\n00:00:42.837 --> 00:00:47.781\nIn this episode, we'll be taking a look\nat implementing and administering AD RMS.\n\n16\n00:00:47.781 --> 00:00:51.630\nAnd back with us today in studios,\nwe have Mr. Adam Gordon.\n\n17\n00:00:51.630 --> 00:00:53.327\nThank you for joining us today, Adam.\n\n18\n00:00:53.327 --> 00:00:55.258\n&gt;&gt; Always glad to be here,\nalways a pleasure.\n\n19\n00:00:55.258 --> 00:00:56.342\nThank you for inviting me back,\n\n20\n00:00:56.342 --> 00:00:58.320\nespecially after we switched\nplaces in our last episode.\n\n21\n00:00:58.320 --> 00:01:00.317\n&gt;&gt; [LAUGH]\n&gt;&gt; If you haven't seen that,\n\n22\n00:01:00.317 --> 00:01:03.582\nthe whole backup switcheroo,\nas we now call that episode,\n\n23\n00:01:03.582 --> 00:01:05.559\nyou should definitely take a look.\n\n24\n00:01:05.559 --> 00:01:07.666\nFun and excitement here,\nit's never boring.\n\n25\n00:01:07.666 --> 00:01:09.126\nNever a dull moment here at ITProTV.\n\n26\n00:01:09.126 --> 00:01:12.540\nWe're always looking for new and\ninnovative ways to change our setup.\n\n27\n00:01:12.540 --> 00:01:13.618\nSo we can show you and\n\n28\n00:01:13.618 --> 00:01:17.696\nteach you more about all the exciting\ntechnology we're here to talk about.\n\n29\n00:01:17.696 --> 00:01:21.816\nSo all kidding aside, if you have not seen\nthe last episode which rounded out our\n\n30\n00:01:21.816 --> 00:01:26.120\nconversation around backups and how we do\nall that, and you haven't taken a look at\n\n31\n00:01:26.120 --> 00:01:29.586\nthat because you may not have been\ngoing through it sequentially.\n\n32\n00:01:29.586 --> 00:01:31.814\nOr if you are,\nmaybe it's in front of where we are.\n\n33\n00:01:31.814 --> 00:01:34.310\nBut we did a really cool\ndiscussion about backups and\n\n34\n00:01:34.310 --> 00:01:37.499\nhow we deal with authoritative,\nnon-authoritative restores.\n\n35\n00:01:37.499 --> 00:01:39.232\nAnd it's important to go\nback and/or go forward, and\n\n36\n00:01:39.232 --> 00:01:40.182\ntake a look at all that stuff.\n\n37\n00:01:40.182 --> 00:01:43.796\nCuz when you do backups and restores, you\ncan time travel backwards and forwards.\n\n38\n00:01:43.796 --> 00:01:45.001\n&gt;&gt; [LAUGH]\n&gt;&gt; So it's kinda that whole theme thing.\n\n39\n00:01:45.001 --> 00:01:47.431\nAll right, let's talk about AD RMS.\n\n40\n00:01:47.431 --> 00:01:51.223\nSo Active Directory,\nwe've done AD DS, we've done AD CS.\n\n41\n00:01:51.223 --> 00:01:55.515\nWe've done AD FS and RMS,\nRights Management Services, right?\n\n42\n00:01:55.515 --> 00:01:59.285\nAnd the idea of being able to essentially\ncontrol through the use of or\n\n43\n00:01:59.285 --> 00:02:03.770\nthe application of rights to an object,\nin this case, let's say a piece of data,\n\n44\n00:02:03.770 --> 00:02:07.865\nperhaps a spreadsheet, maybe a PowerPoint\nslide deck, a Word document,\n\n45\n00:02:07.865 --> 00:02:08.975\nwhatever it may be.\n\n46\n00:02:08.975 --> 00:02:12.509\nSome object that we want to assign\npermissions and rights to and\n\n47\n00:02:12.509 --> 00:02:16.377\nmanage with some sort of policy-based\ntemplate that will allow us,\n\n48\n00:02:16.377 --> 00:02:20.311\nas the administrator/creator-owner,\nto decide whether or not and\n\n49\n00:02:20.311 --> 00:02:24.509\nunder what circumstances a piece of data\nmay or may not be available to other\n\n50\n00:02:24.509 --> 00:02:27.933\nusers, and if so,\nto what extent they can interact with it.\n\n51\n00:02:27.933 --> 00:02:32.453\nAnd then to apply that logic to the\nability, or through the system we create\n\n52\n00:02:32.453 --> 00:02:36.901\nhave that ability, to apply that logic\nto objects far and wide, close and\n\n53\n00:02:36.901 --> 00:02:40.947\nfar away from us in the AD,\nis really what we're thinking of here.\n\n54\n00:02:40.947 --> 00:02:43.890\nAnd rights management is a very\nimportant thought process.\n\n55\n00:02:43.890 --> 00:02:48.799\nThe ability to be to go in and\nto control access, and control use, and\n\n56\n00:02:48.799 --> 00:02:52.271\ncontrol the ability to be\nable to communicate and\n\n57\n00:02:52.271 --> 00:02:57.369\ndistribute content is what RMS really\nhelps us to understand how to do.\n\n58\n00:02:57.369 --> 00:03:00.897\nThere are some moving parts and pieces,\nand some things that we just wanna talk\n\n59\n00:03:00.897 --> 00:03:03.516\nabout and make sure we have a sense of,\nalways important,\n\n60\n00:03:03.516 --> 00:03:06.831\nas we begin the conversation around\ntechnology like this at a high level,\n\n61\n00:03:06.831 --> 00:03:08.827\nto better understand the thought process.\n\n62\n00:03:08.827 --> 00:03:11.465\nWe setup and implement the AD RMS\nfunctionality as we do with\n\n63\n00:03:11.465 --> 00:03:13.330\nall the other areas we've talked about.\n\n64\n00:03:13.330 --> 00:03:16.210\nGoing into Server Manager,\nusing the Manage,\n\n65\n00:03:16.210 --> 00:03:19.534\nand then the Add/Remove\nfeature to be able to do that.\n\n66\n00:03:19.534 --> 00:03:20.479\nOr through PowerShell,\n\n67\n00:03:20.479 --> 00:03:22.822\nas we'll take a look at when we\ndo our hands-on walkthrough.\n\n68\n00:03:22.822 --> 00:03:27.284\nAdd Windows feature, specify,\nAD DS, AD CS, AD FS,\n\n69\n00:03:27.284 --> 00:03:32.134\nin this case AD RMS,\nActive Directory Rights Management.\n\n70\n00:03:32.134 --> 00:03:35.585\nAnd then we go through, include\nmanagement tools, and then we configure.\n\n71\n00:03:35.585 --> 00:03:39.758\nAnd we have a management interface\nthrough the MMC that we'll begin to use.\n\n72\n00:03:39.758 --> 00:03:42.187\nAnd so\nwhen we set up the AD RMS components,\n\n73\n00:03:42.187 --> 00:03:45.509\nwe have what is known as\nthe roots certification cluster.\n\n74\n00:03:45.509 --> 00:03:50.390\nWhich is the grouping of these components\nthat we put together, we manage through.\n\n75\n00:03:50.390 --> 00:03:54.029\nWhen we do that, we put our first\nAD RMS server into the forest,\n\n76\n00:03:54.029 --> 00:03:55.895\nestablishing our bridgehead.\n\n77\n00:03:55.895 --> 00:03:58.401\nWe create the cluster just\nlike we do with AD FS.\n\n78\n00:03:58.401 --> 00:04:02.400\nWhere we establish our initial server,\ninstall it into the server farm.\n\n79\n00:04:02.400 --> 00:04:06.587\nAnd then we build out from there, very\nsimilar thought process as we scale up,\n\n80\n00:04:06.587 --> 00:04:07.418\nand scale out.\n\n81\n00:04:07.418 --> 00:04:11.083\nThe root certification cluster manages\nall licensing capabilities, and\n\n82\n00:04:11.083 --> 00:04:14.295\nallows us to be able to go in and\nspecify how licenses are granted.\n\n83\n00:04:14.295 --> 00:04:18.364\nAnd we'll talk about some of the different\nserver licensing options, or\n\n84\n00:04:18.364 --> 00:04:21.655\nlicense certificate as they are called,\nthat we give out.\n\n85\n00:04:21.655 --> 00:04:23.379\nWe'll go through the logic\nof that in just a moment.\n\n86\n00:04:23.379 --> 00:04:26.964\nRemember, we're gonna have to\nstore configuration information.\n\n87\n00:04:26.964 --> 00:04:31.358\nJust like we do with Federation Services,\njust like we do with Certificate Services,\n\n88\n00:04:31.358 --> 00:04:33.164\nmany of these other capabilities,\n\n89\n00:04:33.164 --> 00:04:36.003\nAD DS itself stores information\nin the Ntds.dit file.\n\n90\n00:04:36.003 --> 00:04:36.905\nWe've talked about that.\n\n91\n00:04:36.905 --> 00:04:43.064\nBut with AD FS, AD RMS also back-ends\nits configuration data into a database.\n\n92\n00:04:43.064 --> 00:04:46.499\nAnd we have the same conversation here\nthat we would have had in the prior\n\n93\n00:04:46.499 --> 00:04:47.655\nepisodes around AD FS.\n\n94\n00:04:47.655 --> 00:04:52.493\nWhich will be, are we using the Windows\ninternal database which is called the WID?\n\n95\n00:04:52.493 --> 00:04:56.796\nAnd/or are we gonna use the SQL Database,\nthe scale out solution that allows us from\n\n96\n00:04:56.796 --> 00:04:59.887\nan enterprise standpoint to\ncreate high availability, and\n\n97\n00:04:59.887 --> 00:05:02.855\nto create some sort of SQL cluster,\nthat we can then use and\n\n98\n00:05:02.855 --> 00:05:05.842\nmake sure it's available to\nus in a variety of scenarios.\n\n99\n00:05:05.842 --> 00:05:10.377\nAnd we've been through that conversation,\ntalked about the thought process,\n\n100\n00:05:10.377 --> 00:05:12.311\nthe benefits, the pros and cons,\n\n101\n00:05:12.311 --> 00:05:15.122\nif you will,\nof using one over the other for AD FS.\n\n102\n00:05:15.122 --> 00:05:18.280\nNothing has changed, so\nthe conversation replicates itself here.\n\n103\n00:05:18.280 --> 00:05:19.082\nWe use WID,\n\n104\n00:05:19.082 --> 00:05:23.663\nwe have an instantiated instance\nper server as we build out the RMS.\n\n105\n00:05:23.663 --> 00:05:24.364\nIf we use SQL,\n\n106\n00:05:24.364 --> 00:05:28.470\nwe're pushing that config data off to a\nnamed instance in a SQL cluster somewhere.\n\n107\n00:05:28.470 --> 00:05:31.118\nWe then can use things like high\navailability groups, or database\n\n108\n00:05:31.118 --> 00:05:34.332\nmirroring, of different technologies\non the SQL side, depending on version,\n\n109\n00:05:34.332 --> 00:05:37.142\nto be able to create the high\navailability capabilities that we want.\n\n110\n00:05:37.142 --> 00:05:39.893\nSo I just wanna make sure\nwe are aware of that.\n\n111\n00:05:39.893 --> 00:05:43.752\nAnd we're thinking about those choices and\nthe implications of them,\n\n112\n00:05:43.752 --> 00:05:47.944\nin terms of what we've talked about and\nhow that technology plays out for us.\n\n113\n00:05:47.944 --> 00:05:50.665\nScalability, obviously one of\nthe things to consider there.\n\n114\n00:05:50.665 --> 00:05:55.118\nFunctionality, in terms of performance,\nwe can optimize and maintain an external\n\n115\n00:05:55.118 --> 00:05:59.023\nSQL cluster a little bit easier than\nwe do the Windows internal database.\n\n116\n00:05:59.023 --> 00:06:01.289\nWhich is running inside the single system,\nand\n\n117\n00:06:01.289 --> 00:06:04.360\nwe have very limited opportunity\nto manage and really oversee.\n\n118\n00:06:04.360 --> 00:06:05.688\nBut that's not a bad thing.\n\n119\n00:06:05.688 --> 00:06:08.197\nIt's optimized and\ntuned to run kind of heads down,\n\n120\n00:06:08.197 --> 00:06:10.145\nwithout us really interacting with it.\n\n121\n00:06:10.145 --> 00:06:13.111\nBut there's a limit to which\nwe can essentially go to.\n\n122\n00:06:13.111 --> 00:06:14.769\nAnd then we really can't go beyond,\n\n123\n00:06:14.769 --> 00:06:17.296\nwith regards to management\nof that internal database.\n\n124\n00:06:17.296 --> 00:06:19.554\nSo you wanna be thinking about that and\ndecide on the scalability issues.\n\n125\n00:06:19.554 --> 00:06:22.558\nWhat are some of the key moving\nparts that we think of here?\n\n126\n00:06:22.558 --> 00:06:24.888\nWe have an AD RMS server.\n\n127\n00:06:24.888 --> 00:06:27.859\nThat's gonna be a member of\nthe AD domain that we set up,\n\n128\n00:06:27.859 --> 00:06:30.211\nand install, and instantiate the role on.\n\n129\n00:06:30.211 --> 00:06:33.688\nWe are then going to be able\nto talk about AD RMS clients.\n\n130\n00:06:33.688 --> 00:06:38.412\nClients are gonna be the endpoints\nthat are gonna consume and use AD RMS.\n\n131\n00:06:38.412 --> 00:06:41.502\nWe wanna open up data that's\nprotected with AD RMS.\n\n132\n00:06:41.502 --> 00:06:43.440\nWe do so on a client traditionally.\n\n133\n00:06:43.440 --> 00:06:48.405\nAnything with Windows 10, Windows 8,\n8.1, and/or Windows 7, we'll be able to.\n\n134\n00:06:48.405 --> 00:06:51.388\nActually all the way back to Vista,\nwe'll be able to use the AD RMS\n\n135\n00:06:51.388 --> 00:06:54.165\nclient software built in\nnatively to the operating system.\n\n136\n00:06:54.165 --> 00:07:00.974\nSo help me here, Cherokee, Vista,\nWindows 7, 8, 8.1, Windows 10 currently.\n\n137\n00:07:00.974 --> 00:07:03.357\nIf I'm not mistaken that is five, right?\n\n138\n00:07:03.357 --> 00:07:05.817\nSo five little piggies,\nthey all went to market, right?\n\n139\n00:07:05.817 --> 00:07:06.899\n&gt;&gt; [LAUGH]\n&gt;&gt; So five,\n\n140\n00:07:06.899 --> 00:07:11.102\nfive versions of the client OS that\nwe go backwards in time against.\n\n141\n00:07:11.102 --> 00:07:15.005\nMost of us, if not any of us, are probably\nno longer running Windows Vista.\n\n142\n00:07:15.005 --> 00:07:17.052\nBut certainly, you may still have\nWindows 7 in your environment.\n\n143\n00:07:17.052 --> 00:07:18.908\nIt's a very common OS,\nstill very prevalent today.\n\n144\n00:07:18.908 --> 00:07:22.728\n8, 8.1, may or\nmay not have been real important and\n\n145\n00:07:22.728 --> 00:07:25.995\ndeployed very heavily\non the enterprise side.\n\n146\n00:07:25.995 --> 00:07:29.063\nMany businesses kind of skipped\nover those generations of OSs.\n\n147\n00:07:29.063 --> 00:07:32.033\nBut they did jump from 7,\nif they have jumped into 10.\n\n148\n00:07:32.033 --> 00:07:34.340\nSo Windows 10 is becoming more prevalent.\n\n149\n00:07:34.340 --> 00:07:36.531\nAny and\nall of those can be AD RMS clients,\n\n150\n00:07:36.531 --> 00:07:40.546\nand will run the software necessary to\nbe a client natively, inside the OS.\n\n151\n00:07:40.546 --> 00:07:41.590\nWithout the client,\n\n152\n00:07:41.590 --> 00:07:45.070\nAD RMS-enabled apps, which are the third\nkind of leg that we stand on,\n\n153\n00:07:45.070 --> 00:07:48.731\nare not gonna be able to interact, and\nto be able to open up and use content.\n\n154\n00:07:48.731 --> 00:07:50.631\nSo just be aware of that.\n\n155\n00:07:50.631 --> 00:07:55.121\nWe're not gonna, in other words, be able\nto use protected content if we don't run\n\n156\n00:07:55.121 --> 00:07:57.514\nthe AD RMS client and\nhave that capability.\n\n157\n00:07:57.514 --> 00:08:02.015\nThat is separate from The ADRMS-enabled\napp, which is the software that's going to\n\n158\n00:08:02.015 --> 00:08:05.954\nbe ADRMS-enabled, which understands and\ncan process those rights, and\n\n159\n00:08:05.954 --> 00:08:09.975\napply them to the data, and still show\nus whatever it is we're looking for.\n\n160\n00:08:09.975 --> 00:08:12.510\nThink SharePoint, think Exchange here.\n\n161\n00:08:12.510 --> 00:08:15.371\nThink Microsoft Office, Office 2013,\n\n162\n00:08:15.371 --> 00:08:20.123\nOffice 2016, any of all of these\nare going to be ADRMS-enabled apps.\n\n163\n00:08:20.123 --> 00:08:24.489\nAs some examples of what we may see so\nExchange 13, SharePoint 13.\n\n164\n00:08:24.489 --> 00:08:27.429\nIn Exchange 16,\nSharePoint 16, Office, etc.\n\n165\n00:08:27.429 --> 00:08:31.769\nAny all of those would qualify or fall\nunder the moniker of ADRMS enabled apps,\n\n166\n00:08:31.769 --> 00:08:32.569\nas examples.\n\n167\n00:08:32.569 --> 00:08:34.842\nRight and\nthere are obviously others as well, but\n\n168\n00:08:34.842 --> 00:08:36.366\nthose are kind of the ones we see.\n\n169\n00:08:36.366 --> 00:08:40.134\nWe do have certificates and\nlicenses that we have to engage with and\n\n170\n00:08:40.134 --> 00:08:42.709\nkinda understand the logic\nof around ADRMS.\n\n171\n00:08:42.709 --> 00:08:47.037\nThe service license or certificate,\nwhich is the certificate granted to\n\n172\n00:08:47.037 --> 00:08:51.734\nthe original machine or initial machine\nwe build out the ADRMS cluster around.\n\n173\n00:08:51.734 --> 00:08:56.054\nWhen we generate this, we create the ADRMS\ncluster by installing the first machine.\n\n174\n00:08:56.054 --> 00:08:59.036\nConfiguring the roll\nthe certificate is generated.\n\n175\n00:08:59.036 --> 00:09:01.196\nIt lasts for,\ndo you know how long the actual-\n\n176\n00:09:01.196 --> 00:09:02.164\n&gt;&gt; I did and that's pretty amazing.\n\n177\n00:09:02.164 --> 00:09:04.187\n&gt;&gt; And you read it, right,\nbecause you saw it, right?\n\n178\n00:09:04.187 --> 00:09:05.484\nBut you never guess that.\n\n179\n00:09:05.484 --> 00:09:08.409\nThat's a ridiculous ridiculous\namount of time, right?\n\n180\n00:09:08.409 --> 00:09:13.033\n&gt;&gt; [LAUGH] Like it's gonna be active\nafter I die, and after my kids die?\n\n181\n00:09:13.033 --> 00:09:14.130\n&gt;&gt; Yeah-\n&gt;&gt; [LAUGH] That's a little\n\n182\n00:09:14.130 --> 00:09:14.834\ndepressing, but, it is.\n\n183\n00:09:14.834 --> 00:09:15.828\n[LAUGH]\n&gt;&gt; It is kinda,\n\n184\n00:09:15.828 --> 00:09:17.245\nit's like why would you\nneed one that long?\n\n185\n00:09:17.245 --> 00:09:18.655\nAnd we're not,\nby the way gonna tell you how long it is,\n\n186\n00:09:18.655 --> 00:09:20.037\nwe're just gonna keep it a secret,\njust the two of us.\n\n187\n00:09:20.037 --> 00:09:22.134\n&gt;&gt; [LAUGH]\n&gt;&gt; Where it's really cool, but we're just,\n\n188\n00:09:22.134 --> 00:09:23.964\nwe're not gonna share it with you because\n&gt;&gt; Well, you know,\n\n189\n00:09:23.964 --> 00:09:26.631\nyou haven't said anything cool, fun,\nand exciting, or contributed a joke.\n\n190\n00:09:26.631 --> 00:09:27.608\nYou-\n&gt;&gt; [LAUGH]\n\n191\n00:09:27.608 --> 00:09:28.816\n&gt;&gt; Just a simple joke, nothing big,\n\n192\n00:09:28.816 --> 00:09:30.349\njust one joke, right, somebody-\n&gt;&gt; I'll tell you.\n\n193\n00:09:30.349 --> 00:09:31.668\n&gt;&gt; Else say something, all right, so-\n&gt;&gt; [LAUGH]\n\n194\n00:09:31.668 --> 00:09:32.799\n&gt;&gt; Anything, whatever it is.\n\n195\n00:09:32.799 --> 00:09:34.780\nBut it is, It's actually\na ridiculous long amount of time.\n\n196\n00:09:34.780 --> 00:09:38.678\n250 years for\nthat certificate validity period.\n\n197\n00:09:38.678 --> 00:09:41.198\nWe've talked about our\ncertificate discussions,\n\n198\n00:09:41.198 --> 00:09:44.975\nif you've seen those episodes prior to\nthis, the idea of validity periods for\n\n199\n00:09:44.975 --> 00:09:46.994\ncertificates and how long they last for.\n\n200\n00:09:46.994 --> 00:09:50.121\nAnd we said right on average when we\ntalked about it there, the average\n\n201\n00:09:50.121 --> 00:09:53.460\ncertificate validity period for\na root certificate and or a subordinate or\n\n202\n00:09:53.460 --> 00:09:56.441\nany of those kind of things,\nbetween one to five years on average.\n\n203\n00:09:56.441 --> 00:10:00.737\nThere are some that go out maybe 15 20\nyears for the roots if you're gonna keep\n\n204\n00:10:00.737 --> 00:10:05.624\nthem around for a long period of time, but\nmaybe 15 to 20 at the most, but 250 years?\n\n205\n00:10:05.624 --> 00:10:08.541\nThat's overdoing it just a little\nbit as far as I'm concerned, right?\n\n206\n00:10:08.541 --> 00:10:10.621\nI mean,\ncontent is needing to be protected, and\n\n207\n00:10:10.621 --> 00:10:12.308\nwe obviously need to think about that.\n\n208\n00:10:12.308 --> 00:10:18.645\nBut the server license or certificate is\nessentially like the root CA certificate.\n\n209\n00:10:18.645 --> 00:10:22.572\nIt gives us the right to issue and grant\nother certificates and issue and grant\n\n210\n00:10:22.572 --> 00:10:26.517\nthe appropriate infrastructure systems\nthat we need to set up and maintain.\n\n211\n00:10:26.517 --> 00:10:30.198\nSo this is the thing,\nthis is the initial thing we do.\n\n212\n00:10:30.198 --> 00:10:34.080\n250 years on a validity period so\njust make sure you are aware of that.\n\n213\n00:10:34.080 --> 00:10:37.219\nMake sure you write that on your will and\nmake sure you leave that to somebody.\n\n214\n00:10:37.219 --> 00:10:38.530\nThat's gonna be around for a while.\n\n215\n00:10:38.530 --> 00:10:42.958\nServer license or\ncertificate are gonna be then granted.\n\n216\n00:10:42.958 --> 00:10:43.826\n250 years and\n\n217\n00:10:43.826 --> 00:10:47.733\nas a result we then have the ability\nto setup all the other infrastructure.\n\n218\n00:10:47.733 --> 00:10:51.221\nWhat are called RACs, R-A-Cs or\nRights Accounts Certificates,\n\n219\n00:10:51.221 --> 00:10:54.831\nare given to clients, that's what\ngoes to the ADRMS enabled client,\n\n220\n00:10:54.831 --> 00:10:58.828\nthat allows them to access the client\nunderstand and interact in the system.\n\n221\n00:10:58.828 --> 00:11:01.376\nWe call them R-A-Cs or RACs generically.\n\n222\n00:11:01.376 --> 00:11:05.953\nWe have a client licensor certificate or\ncertificates, there may be more than one.\n\n223\n00:11:05.953 --> 00:11:08.856\nWe have what are called PLs,\nor Publishing Licenses.\n\n224\n00:11:08.856 --> 00:11:11.073\nThat's what's used to\npublish the content and\n\n225\n00:11:11.073 --> 00:11:14.076\nsay it is authorized with these\nconditions associated with it.\n\n226\n00:11:14.076 --> 00:11:17.272\nWe'll get more into this as we do the\nwalk-through and actually set all this up.\n\n227\n00:11:17.272 --> 00:11:18.848\nWe have what are called use licenses.\n\n228\n00:11:18.848 --> 00:11:22.592\nThat is what allows us to, then, consume\nthe contents and have access to it.\n\n229\n00:11:22.592 --> 00:11:24.790\nAnd we have what are called\nrights policy templates.\n\n230\n00:11:24.790 --> 00:11:27.860\nYou know about templates, we've talked\nabout them in a lot of different areas.\n\n231\n00:11:27.860 --> 00:11:30.880\nThese are the default templates that\nare built in or the ones we build and\n\n232\n00:11:30.880 --> 00:11:32.605\ncreate depending on what we're doing.\n\n233\n00:11:32.605 --> 00:11:37.169\nThat are gonna then allow us to assign and\napply whatever specific protections or\n\n234\n00:11:37.169 --> 00:11:41.126\npermissions we wanna put onto a system,\nor onto data in this case, and\n\n235\n00:11:41.126 --> 00:11:42.220\nthen grant those.\n\n236\n00:11:42.220 --> 00:11:44.545\nAnd then obviously based\non the authentication.\n\n237\n00:11:44.545 --> 00:11:48.468\nWith certificate in the license grants\nconsume that content out of the system\n\n238\n00:11:48.468 --> 00:11:49.203\nover client.\n\n239\n00:11:49.203 --> 00:11:53.324\nSo we have several license or\ncertificates what are called racks rights,\n\n240\n00:11:53.324 --> 00:11:57.645\naccount certificates, client license or\ncertificates, we have server and\n\n241\n00:11:57.645 --> 00:12:00.176\nclient license or certificates both sides.\n\n242\n00:12:00.176 --> 00:12:02.777\nWhatever you call PLs,\nor publishing licenses.\n\n243\n00:12:02.777 --> 00:12:08.057\nUse licenses, no UL acronym, just use\nlicenses, and rights policy templates.\n\n244\n00:12:08.057 --> 00:12:11.002\nTotal of six items that are created and\ninstantiated,\n\n245\n00:12:11.002 --> 00:12:12.739\nas part of our use of the system.\n\n246\n00:12:12.739 --> 00:12:14.956\nSo just wanted to make sure\nwe're familiar with that,\n\n247\n00:12:14.956 --> 00:12:16.744\nhave a sense of what\nthose moving parts are.\n\n248\n00:12:16.744 --> 00:12:21.586\nWe're just doing a quick, high-level\noverview of the ADRMS technology in\n\n249\n00:12:21.586 --> 00:12:23.715\nthis particular conversation.\n\n250\n00:12:23.715 --> 00:12:27.072\nJust making sure you're comfortable\nwith this things before we go in and\n\n251\n00:12:27.072 --> 00:12:28.679\nstart to configure as we often do.\n\n252\n00:12:28.679 --> 00:12:32.991\nThe service license or certificate\nas gonna use public private key\n\n253\n00:12:32.991 --> 00:12:35.999\nencryption which is\npublic private key pair.\n\n254\n00:12:35.999 --> 00:12:38.345\nRight, so we're gonna using\ncertificates in the traditional way.\n\n255\n00:12:38.345 --> 00:12:42.865\nWe're gonna be issuing one or a set of\nkey pairs either public private key or\n\n256\n00:12:42.865 --> 00:12:45.112\nsymmetric single key private only.\n\n257\n00:12:45.112 --> 00:12:48.492\nKeys that are then gonna be used\nto encrypt and provide validity,\n\n258\n00:12:48.492 --> 00:12:51.935\nprovide integrity,\nprovide non repudiation, proof of origin,\n\n259\n00:12:51.935 --> 00:12:54.777\nas well as encryption\ndepending on what we're doing.\n\n260\n00:12:54.777 --> 00:12:58.778\nSo the server license or certificate,\npublic key will be used to encrypt\n\n261\n00:12:58.778 --> 00:13:02.723\nthe content of the key in what's known\nas the PL or publishing license.\n\n262\n00:13:02.723 --> 00:13:06.590\nSo we're to take that master\ncertificate that's 250 years,\n\n263\n00:13:06.590 --> 00:13:10.599\nright the server license or\ncertificate and we're gonna use that to\n\n264\n00:13:10.599 --> 00:13:14.274\nthen encrypt the content in the PL or\nthe publishing license.\n\n265\n00:13:14.274 --> 00:13:17.766\nThis allows the rms server to\nextract the content key and\n\n266\n00:13:17.766 --> 00:13:20.667\nissue end user's licenses\nagainst that key.\n\n267\n00:13:20.667 --> 00:13:24.679\nBut to do so in a secure way because\nwe use the public key to encrypt.\n\n268\n00:13:24.679 --> 00:13:28.888\nOnly the private key, corresponding key\nin the key pair, can be used to decrypt.\n\n269\n00:13:28.888 --> 00:13:30.909\nThe thing we have to\nremember about cryptography,\n\n270\n00:13:30.909 --> 00:13:32.743\nthere's two kind of standing rules, right?\n\n271\n00:13:32.743 --> 00:13:36.524\nOne is when you have a single key,\nsymmetric encryption, single key only,\n\n272\n00:13:36.524 --> 00:13:39.908\nprivate key only, the same key is\nused to both encrypt and decrypt.\n\n273\n00:13:39.908 --> 00:13:43.950\nSo the challenge here is how do we\nsecurely transmit that key, keep it safe,\n\n274\n00:13:43.950 --> 00:13:47.565\nand allow parties to use that key\nwithout exposing it along the way.\n\n275\n00:13:47.565 --> 00:13:51.080\nAnd that's one of the fundamental\nweaknesses in the symmetric only system is\n\n276\n00:13:51.080 --> 00:13:53.578\nkey transmission,\nkey maintenance, key security.\n\n277\n00:13:53.578 --> 00:13:55.074\nIt's very difficult to do.\n\n278\n00:13:55.074 --> 00:13:58.917\nBut in public, private key pairs,\nthe one we call asymmetric systems,\n\n279\n00:13:58.917 --> 00:14:00.178\nwhere we have two keys.\n\n280\n00:14:00.178 --> 00:14:04.238\nMathematically related, they essentially\nare two sides of the same coin, so\n\n281\n00:14:04.238 --> 00:14:07.262\nthey're bound together they're\nwhat we call a key pair.\n\n282\n00:14:07.262 --> 00:14:10.658\nThe rules standing where [INAUDIBLE]\nis one is called public, one is called\n\n283\n00:14:10.658 --> 00:14:14.271\nprivate and we have two rules, one is,\nprivate keys are always kept private,\n\n284\n00:14:14.271 --> 00:14:17.142\nyou never share the private key,\nyou don't give it anybody.\n\n285\n00:14:17.142 --> 00:14:22.889\nOr you really constrain the use under\ncertain circumstances to prevent it from\n\n286\n00:14:22.889 --> 00:14:28.299\nbeing compromise and not sharing is\nthe only part of the crypto-system.\n\n287\n00:14:28.299 --> 00:14:31.577\nAll the moving elements in\nthe cryptography system together equal\n\n288\n00:14:31.577 --> 00:14:32.698\nthe crypto-system.\n\n289\n00:14:32.698 --> 00:14:37.302\nThe plain text or whatever were\nget of encoded someway or encrypt.\n\n290\n00:14:37.302 --> 00:14:40.015\nThe output, the cypher text or\nthe in-cypher text,\n\n291\n00:14:40.015 --> 00:14:44.056\nthe mathematics associated with it,\nthe algorithm or algorithms and the key or\n\n292\n00:14:44.056 --> 00:14:45.823\nkeys associated with the system.\n\n293\n00:14:45.823 --> 00:14:49.126\n[INAUDIBLE] said hey, give the bad\nguys everything except for one thing,\n\n294\n00:14:49.126 --> 00:14:50.544\nkeep the private key secured.\n\n295\n00:14:50.544 --> 00:14:53.258\nDon't tell them that, and\nthe system will remain intact or\n\n296\n00:14:53.258 --> 00:14:55.826\nremain secure as long as\nyou've built a strong system.\n\n297\n00:14:55.826 --> 00:14:59.994\nThe key space itself, the number of\npossible key combinations is very broad,\n\n298\n00:14:59.994 --> 00:15:03.910\nAnd what we call the work factor,\nthe measure of time it takes to break that\n\n299\n00:15:03.910 --> 00:15:06.396\nsystem by guessing the keys\nis very very long.\n\n300\n00:15:06.396 --> 00:15:10.325\nIf you've done your job the right way,\nuse strong algorithms, large key spaces,\n\n301\n00:15:10.325 --> 00:15:11.292\nhigh work factors.\n\n302\n00:15:11.292 --> 00:15:15.091\nKeep the private key private, and the bad\nguys are probably not gonna guess that key\n\n303\n00:15:15.091 --> 00:15:17.922\nand be able to crack the system\nin a reasonable amount of time.\n\n304\n00:15:17.922 --> 00:15:21.125\nThis is the fundamental underlying\nprinciple that we build modern\n\n305\n00:15:21.125 --> 00:15:22.620\ncryptography systems on and.\n\n306\n00:15:22.620 --> 00:15:25.294\nHave that are part of several\nhundred years in one for or\n\n307\n00:15:25.294 --> 00:15:27.806\nanother throughout\nthe history of cryptography.\n\n308\n00:15:27.806 --> 00:15:31.463\nSo we have that and then we have\none other rule that goes with this,\n\n309\n00:15:31.463 --> 00:15:35.805\nwhich is as I mentioned, public private\nkey pair asymmetric cryptography.\n\n310\n00:15:35.805 --> 00:15:39.280\nOne key when it does one function\nis only gonna do that function.\n\n311\n00:15:39.280 --> 00:15:42.644\nThe other key in the key pair\nimmediately is then able to do only\n\n312\n00:15:42.644 --> 00:15:44.270\nthat the opposite function.\n\n313\n00:15:44.270 --> 00:15:46.268\nSo if we use the public key to encrypt,\n\n314\n00:15:46.268 --> 00:15:49.586\nthe only key that can decrypt is\nthe private key and vise versa.\n\n315\n00:15:49.586 --> 00:15:51.600\nIf the private key were\nto be used to encrypt,\n\n316\n00:15:51.600 --> 00:15:53.195\nthen the public key could decrypt.\n\n317\n00:15:53.195 --> 00:15:58.046\nBut because we purposely choose to use the\npublic key here Of the service licenser\n\n318\n00:15:58.046 --> 00:16:03.058\ncertificate to encrypt the information\naround the PL, the publishing licenses.\n\n319\n00:16:03.058 --> 00:16:07.353\nThat means that the private key of that\nkey pair held by the server that owns\n\n320\n00:16:07.353 --> 00:16:11.531\nthe server licensing certificate,\nthe server license certificate.\n\n321\n00:16:11.531 --> 00:16:13.465\nThat's the only key that can decrypt, and\n\n322\n00:16:13.465 --> 00:16:16.743\nbecause of that, the key is now secure,\nand we can encrypt the content,\n\n323\n00:16:16.743 --> 00:16:19.568\nbut only allow it to be decrypted\nunder terms that we specify.\n\n324\n00:16:19.568 --> 00:16:22.517\nSo this is a very important thought\nprocess for us to understand,\n\n325\n00:16:22.517 --> 00:16:26.325\nbecause by using the public key to encrypt\nthe content of the PL, we're limiting its\n\n326\n00:16:26.325 --> 00:16:29.970\nability to be unencrypted to only people\nthat have access to that private key, or\n\n327\n00:16:29.970 --> 00:16:32.007\nsystems, whatever it may be, in this case,\n\n328\n00:16:32.007 --> 00:16:34.985\nwe're obviously talking about a computer,\nnot an individual.\n\n329\n00:16:34.985 --> 00:16:38.604\nBut you get the idea, it allows\nus to extract the content key and\n\n330\n00:16:38.604 --> 00:16:41.490\nissue user licenses against\nthe publishing key.\n\n331\n00:16:41.490 --> 00:16:44.511\nBut to do so in a way that does\nnot compromise the integrity or\n\n332\n00:16:44.511 --> 00:16:48.208\nthe confidentiality of that process,\nwhich is very, very important.\n\n333\n00:16:48.208 --> 00:16:52.097\nSo just interesting, when you think about\nthat, a little bit of cryptography thrown\n\n334\n00:16:52.097 --> 00:16:55.298\nin this quick review for us, but\na subject we talked quite a bit about.\n\n335\n00:16:55.298 --> 00:16:59.284\nI think it's important to have that little\nprimer/review in a discussion like this,\n\n336\n00:16:59.284 --> 00:17:02.234\nas we're starting to throw\ncertificates around and say, hey,\n\n337\n00:17:02.234 --> 00:17:03.615\nthis certificate does this.\n\n338\n00:17:03.615 --> 00:17:06.430\nWe're using this key from this\ncertificate, that means this happens.\n\n339\n00:17:06.430 --> 00:17:09.402\nIt's important to understand the logic\nof why we would choose a public key,\n\n340\n00:17:09.402 --> 00:17:12.654\nbecause most people hear public key,\nthey maybe say, well, no, that's wrong,\n\n341\n00:17:12.654 --> 00:17:13.452\nyou can't do that.\n\n342\n00:17:13.452 --> 00:17:16.590\nUse the public key, everybody knows\nthe key that you use to encrypt, well,\n\n343\n00:17:16.590 --> 00:17:17.286\nyou're right.\n\n344\n00:17:17.286 --> 00:17:19.884\nYou know the key that I use to encrypt,\nbut that doesn't do you any good,\n\n345\n00:17:19.884 --> 00:17:21.303\ncuz that key can't be used to decrypt.\n\n346\n00:17:21.303 --> 00:17:25.472\nAnd that's what many people often\nmisunderstand and don't understand about\n\n347\n00:17:25.472 --> 00:17:29.146\nthe logic of public private key pair,\nor asymmetric cryptography.\n\n348\n00:17:29.146 --> 00:17:33.245\nAnd it's very important as a distinction,\nbecause if this was a symmetric system,\n\n349\n00:17:33.245 --> 00:17:35.975\nand we used the private key to encrypt,\nyou're right.\n\n350\n00:17:35.975 --> 00:17:37.875\nPrivate key could be\nused to decrypt as well,\n\n351\n00:17:37.875 --> 00:17:40.134\nthat would be an issue if we\ngave away the private key.\n\n352\n00:17:40.134 --> 00:17:43.469\nBut because we're using a different key,\nprogrammed to only do one function,\n\n353\n00:17:43.469 --> 00:17:45.226\nit's what we will call one way function.\n\n354\n00:17:45.226 --> 00:17:47.600\nIt is not able to be used to unencrypt,\n\n355\n00:17:47.600 --> 00:17:50.653\nonly the opposite key of\nthe key pair can do that.\n\n356\n00:17:50.653 --> 00:17:54.472\nSo, it is very important for us to, just\nto be aware of that, and to In your mind,\n\n357\n00:17:54.472 --> 00:17:57.284\nhave a sense of that as relaying\nout this thought process and\n\n358\n00:17:57.284 --> 00:17:59.225\njust some of the logistics around this.\n\n359\n00:17:59.225 --> 00:18:02.293\nSo we have the ADRMS machine certificate.\n\n360\n00:18:02.293 --> 00:18:04.015\nIt identifies a trusted computer or\ndevice.\n\n361\n00:18:04.015 --> 00:18:08.381\nThis identifies the client computer and\nmakes them a trusted computer so\n\n362\n00:18:08.381 --> 00:18:11.830\nthat they can then participate\nin this thought process.\n\n363\n00:18:11.830 --> 00:18:15.766\nAnd as a result, the machine certificate\nis also gonna be in play here.\n\n364\n00:18:15.766 --> 00:18:18.130\nWe use the machine\ncertificate's public key.\n\n365\n00:18:18.130 --> 00:18:20.176\nAnd we encrypt the rack, right?\n\n366\n00:18:20.176 --> 00:18:21.816\nThe right certificate that we give.\n\n367\n00:18:21.816 --> 00:18:24.687\nWe encrypt the rack private key.\n\n368\n00:18:24.687 --> 00:18:25.848\nAnd again, think about the logic of this.\n\n369\n00:18:25.848 --> 00:18:28.797\nTake the public key from\nthe machine certificate and\n\n370\n00:18:28.797 --> 00:18:30.548\nencrypt a private key with it.\n\n371\n00:18:30.548 --> 00:18:33.912\nThe only key that can unencrypt that\nis the private key that goes with\n\n372\n00:18:33.912 --> 00:18:35.461\nthat corresponding key pair.\n\n373\n00:18:35.461 --> 00:18:38.211\nThe machine certificate's private key\ncould be used to decrypt the rack.\n\n374\n00:18:38.211 --> 00:18:41.940\nIf we're encrypting and decrypting\nwe can see it interact with it, but\n\n375\n00:18:41.940 --> 00:18:45.672\nit's stored securely in what we call\nthe client computer's lock box,\n\n376\n00:18:45.672 --> 00:18:49.741\nwhich is just generic terminology for\nthe TPM, or trusted platform module.\n\n377\n00:18:49.741 --> 00:18:53.058\nWe talk about TPMs a couple of\ndifferent places here and there.\n\n378\n00:18:53.058 --> 00:18:57.320\nA TPM is traditionally a hardware chip or\na hardware item that is included in\n\n379\n00:18:57.320 --> 00:19:00.782\nthe motherboard or\non the motherboard of modern computers.\n\n380\n00:19:00.782 --> 00:19:05.174\nMost laptops, many tablets,\nmost servers have them today.\n\n381\n00:19:05.174 --> 00:19:07.065\nThere are software versions of TPMs but\n\n382\n00:19:07.065 --> 00:19:10.277\nwhich you usually think of\nthe misbehaving of hardware-based And\n\n383\n00:19:10.277 --> 00:19:13.905\nthe idea of this hardware module is\ngonna be in the, or on the motherboard.\n\n384\n00:19:13.905 --> 00:19:18.538\nIt is tamper-proof, meaning it's a one-way\nsystem that we put stuff into, and\n\n385\n00:19:18.538 --> 00:19:20.094\nwe give limited access to.\n\n386\n00:19:20.094 --> 00:19:23.384\nIf you don't have rights to get in there,\ndon't have the proper keys and the And\n\n387\n00:19:23.384 --> 00:19:26.481\nthe proper access based on being\na validated user, an owner of the system,\n\n388\n00:19:26.481 --> 00:19:28.621\nand try to break in there and\naccess what's there.\n\n389\n00:19:28.621 --> 00:19:30.948\nAll of the content just self destructs and\ndisappears.\n\n390\n00:19:30.948 --> 00:19:32.859\nYou're not able to interact with it.\n\n391\n00:19:32.859 --> 00:19:35.287\nAnd so it's a secure vault,\nessentially, for\n\n392\n00:19:35.287 --> 00:19:38.760\ncryptographic credential management\nbuilt into modern systems.\n\n393\n00:19:38.760 --> 00:19:42.991\nHardware base traditionally, will leverage\nthat by putting the private keys and\n\n394\n00:19:42.991 --> 00:19:47.224\nthe certificate information into the TPM\nwhat's called the Client Lockbox in our\n\n395\n00:19:47.224 --> 00:19:48.037\nterminology.\n\n396\n00:19:48.037 --> 00:19:50.479\nWhich is where we store this information,\nso\n\n397\n00:19:50.479 --> 00:19:54.027\nthose private keys used to decrypt\nare gonna be stored securely.\n\n398\n00:19:54.027 --> 00:19:57.312\nNobody can get access to them,\neven if somebody grabs a computer,\n\n399\n00:19:57.312 --> 00:20:01.371\nruns away with it, busts it open, tries\nto pull the TPM chip off the motherboard.\n\n400\n00:20:01.371 --> 00:20:05.065\nJust the act of doing that alone, or\ntrying to access it, without the proper\n\n401\n00:20:05.065 --> 00:20:09.111\ninterface, without the proper rights,\nprevents access cuz the information is no\n\n402\n00:20:09.111 --> 00:20:13.102\nlonger available, it's centrally destroyed\nor rendered inoperable because of\n\n403\n00:20:13.102 --> 00:20:16.850\nthe encryption associated with it and\nthe lack of proper key to get in there.\n\n404\n00:20:16.850 --> 00:20:21.425\nSo we're gonna store this private key\nsecurely preventing them from falling into\n\n405\n00:20:21.425 --> 00:20:23.424\nhopefully, that actor's hands.\n\n406\n00:20:23.424 --> 00:20:24.624\nThis is the kind of thought process.\n\n407\n00:20:24.624 --> 00:20:26.877\nWe do see external TPMs referenced,\n\n408\n00:20:26.877 --> 00:20:30.737\nwe call them nature HSM in case\nyou're not familiar with that.\n\n409\n00:20:30.737 --> 00:20:32.445\nHardware Modules.\n\n410\n00:20:32.445 --> 00:20:36.544\nThe idea is that those HSMs are gonna\nalso essentially be available to us, but\n\n411\n00:20:36.544 --> 00:20:38.766\nit's unlikely we wanna use one of those.\n\n412\n00:20:38.766 --> 00:20:43.367\nWe would prefer to use a built in TPM\ncuz we have complete control over it\n\n413\n00:20:43.367 --> 00:20:44.384\ninside the OS.\n\n414\n00:20:44.384 --> 00:20:47.900\nAnd HSM is used on servers,\ntraditionally, that are gonna hosts in\n\n415\n00:20:47.900 --> 00:20:51.926\nvirtualized environments to store and\nact as a TPM for multiple VMs running.\n\n416\n00:20:51.926 --> 00:20:55.065\nAnd allow them to store their\ncryptographic credentials and\n\n417\n00:20:55.065 --> 00:20:56.364\nthings like that there.\n\n418\n00:20:56.364 --> 00:20:57.959\nSo, just so you know, what those are.\n\n419\n00:20:57.959 --> 00:21:00.063\nThey look like external USB drives.\n\n420\n00:21:00.063 --> 00:21:01.488\nYou plug them in to servers and\n\n421\n00:21:01.488 --> 00:21:04.922\nyou can use them essentially as\nexternal portable TPM if you choose to.\n\n422\n00:21:04.922 --> 00:21:09.026\nBut when we think of the client computer's\nlockbox, we're telling you about a built\n\n423\n00:21:09.026 --> 00:21:12.688\nin TPM, right in the OS itself or\nhardware based, but on the system itself.\n\n424\n00:21:12.688 --> 00:21:13.560\nI should say.\n\n425\n00:21:13.560 --> 00:21:14.226\nSo just be aware of that.\n\n426\n00:21:14.226 --> 00:21:17.781\nWe talked about the RAC,\nthe Rights Account Certificate,\n\n427\n00:21:17.781 --> 00:21:19.281\nthat is going to be used.\n\n428\n00:21:19.281 --> 00:21:21.058\nThis identifies a specific user.\n\n429\n00:21:21.058 --> 00:21:23.366\nHey, Cherokee has her own version of this.\n\n430\n00:21:23.366 --> 00:21:26.005\nI have my own version of this,\nthat kind of thing.\n\n431\n00:21:26.005 --> 00:21:30.242\nThe default validity period for the RAC\nis 365 days, so much smaller, right.\n\n432\n00:21:30.242 --> 00:21:35.097\nOne to 150 is the overall server licensure\ncertificate, but it is available to us for\n\n433\n00:21:35.097 --> 00:21:36.879\none year and then gets renewed.\n\n434\n00:21:36.879 --> 00:21:38.818\nAs a result of that, so\njust be aware of that.\n\n435\n00:21:38.818 --> 00:21:40.252\nWe do have to have, by the way,\n\n436\n00:21:40.252 --> 00:21:43.471\ne-mail addresses associated with\nour accounts to issue the racks.\n\n437\n00:21:43.471 --> 00:21:44.665\nIt's one of the requirements.\n\n438\n00:21:44.665 --> 00:21:49.153\nSo, inside of the ADDS, we often will\nassociate e-mail address with accounts.\n\n439\n00:21:49.153 --> 00:21:51.798\nWe have to have e-mail addresses\nassociated with the account to\n\n440\n00:21:51.798 --> 00:21:52.386\nissue a rack or\n\n441\n00:21:52.386 --> 00:21:55.680\nto give the certificate out to identify\nusers who have rights to use the system.\n\n442\n00:21:55.680 --> 00:21:59.103\nSo,just make sure you're aware of that and\nthink about that.\n\n443\n00:21:59.103 --> 00:22:00.389\nI call that out in the notes.\n\n444\n00:22:00.389 --> 00:22:00.979\nYes, Cherokee.\n\n445\n00:22:00.979 --> 00:22:04.881\n&gt;&gt; Yeah, and then you have a note here\nthat says that a temporary rack is\n\n446\n00:22:04.881 --> 00:22:08.249\nrelevant here for 15 minutes or\nvalid for 15 minutes.\n\n447\n00:22:08.249 --> 00:22:11.705\nBut what is a temporary rack and\nwhere would we use one?\n\n448\n00:22:11.705 --> 00:22:14.907\n&gt;&gt; So if you kept reading,\nyou would see that the temporary rack is\n\n449\n00:22:14.907 --> 00:22:17.578\njust that temporary\n&gt;&gt; It is used when we are accessing\n\n450\n00:22:17.578 --> 00:22:21.801\ninformation from a computer not a member\nof the same first as the ADRMS cluster.\n\n451\n00:22:21.801 --> 00:22:24.836\nIn other words towards we're\noutside somewhere coming in and\n\n452\n00:22:24.836 --> 00:22:28.337\naccessing content on a machine we\ndon't normally use in a situation and\n\n453\n00:22:28.337 --> 00:22:30.336\nin a set up we're not normally a part of.\n\n454\n00:22:30.336 --> 00:22:34.139\nAnd we're being given this temporary rack,\ntemporary grant of user rights and\n\n455\n00:22:34.139 --> 00:22:36.633\nidentity to open the content,\nbut it's a femoral,\n\n456\n00:22:36.633 --> 00:22:39.603\nit's just literally there long enough for\nus to work with it.\n\n457\n00:22:39.603 --> 00:22:43.508\nAnd then it self destructs, disappears so\nit's not remnant, doesn't stay there.\n\n458\n00:22:43.508 --> 00:22:46.775\nAnd as a result of that we're not gonna\nleave behind credentials that may be used\n\n459\n00:22:46.775 --> 00:22:49.576\nto access the content when we're\nno longer there to authenticate.\n\n460\n00:22:49.576 --> 00:22:54.205\nThe validity period of that can be moved,\nby the way, default of 15 minutes.\n\n461\n00:22:54.205 --> 00:22:58.004\nWe can modify that if we know we're gonna\nhave a bunch of users accessing content\n\n462\n00:22:58.004 --> 00:22:59.999\nfrom outside the system for some reason.\n\n463\n00:22:59.999 --> 00:23:04.170\nWe wanna adjust that period and maybe make\nit 30 minutes or whatever the case may be.\n\n464\n00:23:04.170 --> 00:23:05.835\nWe can adjust that if necessary.\n\n465\n00:23:05.835 --> 00:23:09.596\nWe do that in the ADRMS console, we'll\ntake a look at that when we do our walk\n\n466\n00:23:09.596 --> 00:23:12.245\nthrough, we could at least\npoint out where that is.\n\n467\n00:23:12.245 --> 00:23:15.228\nBut it's up under the rights account\ncertificate policies note in the ADRMS\n\n468\n00:23:15.228 --> 00:23:17.239\nconsole, we'll see\nthe management capability.\n\n469\n00:23:17.239 --> 00:23:21.346\nWe'll just modify the time\nvalue if we choose to.\n\n470\n00:23:21.346 --> 00:23:25.183\nThat's what a temporary rack is a use\nof the rights accounts grants but\n\n471\n00:23:25.183 --> 00:23:27.078\nonly in a limited circumstances.\n\n472\n00:23:27.078 --> 00:23:29.744\nHow convenient,\nI don't even have to read nowadays.\n\n473\n00:23:29.744 --> 00:23:30.951\n&gt;&gt; We were just talking\nabout that no too long ago.\n\n474\n00:23:30.951 --> 00:23:32.399\n&gt;&gt; I know.\n[LAUGH]\n\n475\n00:23:32.399 --> 00:23:33.518\n&gt;&gt; Exactly, so you know.\n\n476\n00:23:33.518 --> 00:23:36.292\nAll right, so\nwe have all these different certificates,\n\n477\n00:23:36.292 --> 00:23:39.801\nall these different licensers that\nare going to be coming into play here,\n\n478\n00:23:39.801 --> 00:23:42.928\njust talking about all of\nthe different moving parts and pieces.\n\n479\n00:23:42.928 --> 00:23:45.532\nBut we're then gonna go through\non an upcoming episode,\n\n480\n00:23:45.532 --> 00:23:48.733\nwe're gonna show you just like we\nhave been doing in a walk-through,\n\n481\n00:23:48.733 --> 00:23:50.271\nkind of stand up the technology.\n\n482\n00:23:50.271 --> 00:23:53.026\nGo through, configure it, and\nI'll walk through the console,\n\n483\n00:23:53.026 --> 00:23:56.496\nshow you all the moving parts, make sure\nwe know how to deal with all these things.\n\n484\n00:23:56.496 --> 00:23:58.849\nAnd then just make sure that\neverything makes sense, works for you,\n\n485\n00:23:58.849 --> 00:24:00.117\nbefore we wrap up our conversation.\n\n486\n00:24:00.117 --> 00:24:02.770\nAnd you're gonna have to come back and\njoin us for\n\n487\n00:24:02.770 --> 00:24:04.786\nanother episode in order to do that.\n\n488\n00:24:04.786 --> 00:24:06.263\nI'm thinking maybe more than\none by the time we get done.\n\n489\n00:24:06.263 --> 00:24:09.497\nWe're gonna set that up and\nhave that for you, but until then,\n\n490\n00:24:09.497 --> 00:24:11.710\nwe are going to say,\nwhat do we always say?\n\n491\n00:24:11.710 --> 00:24:13.576\nAll right ladies and gentlemen.\n\n492\n00:24:13.576 --> 00:24:15.501\n[LAUGH]\n&gt;&gt; That's what we say, okay.\n\n493\n00:24:15.501 --> 00:24:17.129\n&gt;&gt; I don't know, what do we always say?\n\n494\n00:24:17.129 --> 00:24:20.540\n&gt;&gt; That we're out of time and that we have\nto go and we hope everybody comes back.\n\n495\n00:24:20.540 --> 00:24:22.871\n&gt;&gt; We do hope you come back, always.\n\n496\n00:24:22.871 --> 00:24:26.101\nWe're getting so close to the end here for\nthe entire series,\n\n497\n00:24:26.101 --> 00:24:28.351\nwhy wouldn't you come back at this point?\n\n498\n00:24:28.351 --> 00:24:31.981\nSo, thank you so much for joining us but\nwe're gonna go ahead and sign out for\n\n499\n00:24:31.981 --> 00:24:32.560\nthis show.\n\n500\n00:24:32.560 --> 00:24:34.110\nI've been your host Cherokee Boose.\n\n501\n00:24:34.110 --> 00:24:35.620\n&gt;&gt; I am Adam Gordon.\n\n502\n00:24:35.620 --> 00:24:39.030\n&gt;&gt; See you next time here on ITPROTV.\n\n503\n00:24:39.030 --> 00:24:45.033\n[MUSIC]\n\n504\n00:24:45.033 --> 00:24:50.230\n&gt;&gt; Thank you for watching ITPROTV.\n\n",
          "vimeoId": "232827521"
        },
        {
          "description": "In this show, Cherokee and Adam take time to provide a deep explanation of the AD RMS process and explain certain scenarios one may want to use this technology. Tune in to learn the nine step process.",
          "length": "1718",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-2-implementing_and_administering_ad_rms_pt2-090617.00_28_22_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-2-implementing_and_administering_ad_rms_pt2-090617.00_28_22_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-2-implementing_and_administering_ad_rms_pt2-090617.00_28_22_27.Still001-sm.jpg",
          "title": "Implementing and Administering AD RMS Part 2",
          "transcript": "",
          "vimeoId": "232827748"
        },
        {
          "description": "In this episode, Adam and Cherokee use process explained in the previous show to walk through a demonstration on how to set up AD RMS. Topics covered include  certificates, licences, how to create a super users group and more!",
          "length": "2254",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-3-implementing_and_administering_ad_rms_pt3-090617.00_41_28_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-3-implementing_and_administering_ad_rms_pt3-090617.00_41_28_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-3-implementing_and_administering_ad_rms_pt3-090617.00_41_28_24.Still001-sm.jpg",
          "title": "Implementing and Administering AD RMS Part 3",
          "transcript": "",
          "vimeoId": "232827964"
        },
        {
          "description": "In this show, Cherokee and Adam begin explaining and demonstrating how to a create distributed rights policy template. You will see additional configuration options such as  how to create an exclusion policy and  view a trust policy.",
          "length": "2114",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-4-implementing_and_administering_ad_rms_pt4-090617-CLN.00_34_57_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-4-implementing_and_administering_ad_rms_pt4-090617-CLN.00_34_57_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-10-1-4-implementing_and_administering_ad_rms_pt4-090617-CLN.00_34_57_24.Still001-sm.jpg",
          "title": "Implementing and Administering AD RMS Part 4",
          "transcript": "",
          "vimeoId": "232828364"
        }
      ],
      "title": "Implementing and administering AD RMS"
    },
    {
      "episodes": [
        {
          "description": "In this show, Adam and Cherokee begin by showing NTDS files and locations to be familiar with. Next, Adam uses NTDSUtil.exe to simulate a failure by shutting down the Domain Controller and removing the failed object, often called a metadata cleanup. He also explains what restart-able AD DS is and the three sates available.",
          "length": "1966",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-1-maintain_the_ad_ds-090517.00_32_31_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-1-maintain_the_ad_ds-090517.00_32_31_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-1-maintain_the_ad_ds-090517.00_32_31_17.Still001-sm.jpg",
          "title": "Maintain the AD DS",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.120\nWelcome to ITProTV.\n\n2\n00:00:01.120 --> 00:00:02.392\nI'm your host, Don Pezet.\n\n3\n00:00:02.392 --> 00:00:07.099\n[CROSSTALK]\n\n4\n00:00:07.099 --> 00:00:08.317\n[MUSIC]\n\n5\n00:00:08.317 --> 00:00:11.746\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.746 --> 00:00:13.736\n&gt;&gt; Welcome back to Identity with\nWindows Server 2016 series.\n\n7\n00:00:13.736 --> 00:00:17.435\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.435 --> 00:00:19.582\nIf you've ever wondered\nhow to go ahead and\n\n9\n00:00:19.582 --> 00:00:23.462\nmaintain ADDS once it's already been\nset up or you're just getting ready for\n\n10\n00:00:23.462 --> 00:00:26.937\nthat exam certification,\nthen this is the perfect episode for you.\n\n11\n00:00:26.937 --> 00:00:31.351\nWe have Microsoft expert Mr. Adam Gordon\nback in studios to help explain the topic.\n\n12\n00:00:31.351 --> 00:00:33.001\nHow's it going today, Adam?\n\n13\n00:00:33.001 --> 00:00:37.045\n&gt;&gt; It's going well, it's going good.\nHopefully all of you out there are equally\n\n14\n00:00:37.045 --> 00:00:40.195\nexuberant about maintaining ADDS.\n\n15\n00:00:40.195 --> 00:00:41.455\nExuberant, that's a big word.\n\n16\n00:00:41.455 --> 00:00:43.376\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n17\n00:00:43.376 --> 00:00:45.588\nlet us talk a little bit about ADDS.\n\n18\n00:00:45.588 --> 00:00:50.532\nSo we've talked a lot actually about ADDS\nup until this point in our conversations.\n\n19\n00:00:50.532 --> 00:00:54.600\nI have quite a number of episodes\ndealing with this particular technology,\n\n20\n00:00:54.600 --> 00:00:59.001\nthe directory service that we talk about,\nour domains, our trees, our forest.\n\n21\n00:00:59.001 --> 00:01:02.233\nAnd we're not gonna revisit all that,\ncuz we've done all that already.\n\n22\n00:01:02.233 --> 00:01:05.777\nBut reminding you of the importance of it\ncertainly as we continue to talk about\n\n23\n00:01:05.777 --> 00:01:08.101\nidentity and\nidentity management in Server 16.\n\n24\n00:01:08.101 --> 00:01:11.156\nWe're gonna take a slightly different\napproach in this conversation.\n\n25\n00:01:11.156 --> 00:01:16.227\nWe're gonna talk about how we maintain,\nnot how we set up, not how we administer,\n\n26\n00:01:16.227 --> 00:01:20.718\nnot how we optimize, but rather how\nwe actually deal with restoration and\n\n27\n00:01:20.718 --> 00:01:23.989\nmanagement of things when\nthey go sideways, right?\n\n28\n00:01:23.989 --> 00:01:28.818\nAnd so first thing we need to think about\nis what are those contributory factors,\n\n29\n00:01:28.818 --> 00:01:31.740\nand most importantly what\nare the moving parts?\n\n30\n00:01:31.740 --> 00:01:34.450\nWhat are the files that\nmake up the NTBS directory,\n\n31\n00:01:34.450 --> 00:01:36.918\nwhich is where we find\nour ADDS installation?\n\n32\n00:01:36.918 --> 00:01:40.668\nSo just a quick primer/reminder for\nyou before we take a look at,\n\n33\n00:01:40.668 --> 00:01:43.941\namong other things,\nhow to deal with metadata cleanup,\n\n34\n00:01:43.941 --> 00:01:47.417\nwhich is what we do when we have\nto remove an object from ADDS,\n\n35\n00:01:47.417 --> 00:01:51.882\nsomething like a domain controller,\nfor instance, that has gone missing.\n\n36\n00:01:51.882 --> 00:01:55.848\nWe're gonna use a utility you've come\nto know and love Cherokee's favorite.\n\n37\n00:01:55.848 --> 00:01:59.381\nShe talks about it nonstop when\nwe're not on camera, NTDSutil.\n\n38\n00:01:59.381 --> 00:02:01.697\nAnd we're gonna go take a look\nat that command line tool.\n\n39\n00:02:01.697 --> 00:02:04.128\nWe're gonna show you a little\nslightly different aspect of it.\n\n40\n00:02:04.128 --> 00:02:06.762\nWe've used it to do a variety of things.\n\n41\n00:02:06.762 --> 00:02:10.758\nIf you have not seen the episode where we\ngo through and do the transference and\n\n42\n00:02:10.758 --> 00:02:15.086\nseizing of FISMA roles, one of the great\nexamples of what she can use NTDSutil for.\n\n43\n00:02:15.086 --> 00:02:17.537\nWe took a look at that, kinda walked\nthrough the logic of it there.\n\n44\n00:02:17.537 --> 00:02:20.885\nI encourage you to go back perhaps,\ntake a look at that episode,\n\n45\n00:02:20.885 --> 00:02:23.180\nget a sense of the kind\nof things we do there.\n\n46\n00:02:23.180 --> 00:02:26.318\nWe're gonna use that utility to\ndo a little metadata clean-up.\n\n47\n00:02:26.318 --> 00:02:29.076\nOr else we're going to\ncreate ADDS snapshots.\n\n48\n00:02:29.076 --> 00:02:31.474\nWhat we do there,\nwe use the utility for that.\n\n49\n00:02:31.474 --> 00:02:34.195\nWe can also do authoritative or\nnonauthoritative restores.\n\n50\n00:02:34.195 --> 00:02:37.092\nAnd take a look at some of that,\nboth in this episode and\n\n51\n00:02:37.092 --> 00:02:39.560\nmost likely into an upcoming\nepisode as well.\n\n52\n00:02:39.560 --> 00:02:40.106\nCuz Cherokee and\n\n53\n00:02:40.106 --> 00:02:42.612\nMegan have a bet on how many episodes\nit's going to take to get through this.\n\n54\n00:02:42.612 --> 00:02:44.609\n&gt;&gt; [LAUGH]\n&gt;&gt; And I'm gonna keep talking and\n\n55\n00:02:44.609 --> 00:02:47.721\ntalking and talking until I win the pool\nas opposed to letting them win.\n\n56\n00:02:47.721 --> 00:02:49.826\nSo let's start by taking\na look over here if we could.\n\n57\n00:02:49.826 --> 00:02:53.811\nI'm just gonna remind you the files that\nmake up the traditional Active Directory\n\n58\n00:02:53.811 --> 00:02:55.613\ninstallation in NTDS in the folder.\n\n59\n00:02:55.613 --> 00:02:59.932\nIf you take a look at the path here\nthat we are in, see Windows NTDS, right?\n\n60\n00:02:59.932 --> 00:03:03.679\nSo just on our domain controller,\nany of them you can go there,\n\n61\n00:03:03.679 --> 00:03:06.523\nwe've got a bunch of\ndifferent types of files.\n\n62\n00:03:06.523 --> 00:03:09.614\nWe do have a couple of checkpoint files,\n.chk files,\n\n63\n00:03:09.614 --> 00:03:14.455\nthe edb.checkpoint file that helps us keep\ntrack of, essentially like a bookmark,\n\n64\n00:03:14.455 --> 00:03:17.099\nright, tells this\ntransaction where we are.\n\n65\n00:03:17.099 --> 00:03:21.837\nWhat checkpoints do is tells us what is\ncommitted or what our last known set of\n\n66\n00:03:21.837 --> 00:03:25.557\ntransactions are and\nhow we walk through the logic of that.\n\n67\n00:03:25.557 --> 00:03:28.169\nSo we could constantly\nkeep a reference point for\n\n68\n00:03:28.169 --> 00:03:30.156\nwhat's happening in the database.\n\n69\n00:03:30.156 --> 00:03:34.956\nRemember, probably the most important\nthing to think of in terms of underlining\n\n70\n00:03:34.956 --> 00:03:39.406\nor captioning or summarizing the\nfunctionality of what ADDS actually is,\n\n71\n00:03:39.406 --> 00:03:42.036\nis that it is a database\nat the end of the day.\n\n72\n00:03:42.036 --> 00:03:45.132\nThe NTDS.dit file,\nwhich is sitting right down here.\n\n73\n00:03:45.132 --> 00:03:49.693\nThat is our, what we think of as the ADDS,\nis the schema and\n\n74\n00:03:49.693 --> 00:03:52.784\nthe schema's contained in that file.\n\n75\n00:03:52.784 --> 00:03:56.305\nThat is what the Active Directory is when\nyou distill it down and represent it, and\n\n76\n00:03:56.305 --> 00:03:57.950\nthe sum total of everything in there.\n\n77\n00:03:57.950 --> 00:04:01.088\nIt's the sum total of all the objects,\nthe class object,\n\n78\n00:04:01.088 --> 00:04:04.226\nproperty attribute value\ndefinitions that we think of and\n\n79\n00:04:04.226 --> 00:04:07.447\nwe've talked extensively about the makeup,\nthe schema.\n\n80\n00:04:07.447 --> 00:04:08.903\nThey're all represented there.\n\n81\n00:04:08.903 --> 00:04:12.188\nAnd that is just a very large,\nin some cases, large or small,\n\n82\n00:04:12.188 --> 00:04:15.559\nin this case not too big,\nabout 20, almost 21 megabytes.\n\n83\n00:04:15.559 --> 00:04:16.944\nBut just a large data file.\n\n84\n00:04:16.944 --> 00:04:20.370\nAnd it's in the form of\na data file that we use and\n\n85\n00:04:20.370 --> 00:04:25.612\nrepresent as a type of a database,\nfor lack of better way to describe it.\n\n86\n00:04:25.612 --> 00:04:28.831\nNow you could think of the schema\nas representing the ability for\n\n87\n00:04:28.831 --> 00:04:32.706\nus to manage that along the lines of what\ndatabases do and the Active Directory\n\n88\n00:04:32.706 --> 00:04:36.293\nfile, the NTBS.dit file is just that,\nnothing more, nothing less.\n\n89\n00:04:36.293 --> 00:04:39.114\nIt's just a collection of information.\n\n90\n00:04:39.114 --> 00:04:42.522\nAnd we have checkpoint files to\nkeep track of what's coming and\n\n91\n00:04:42.522 --> 00:04:45.562\ngoing in thereto help us\nunderstand what is happening.\n\n92\n00:04:45.562 --> 00:04:47.935\nWe have, [COUGH] in addition, log files.\n\n93\n00:04:47.935 --> 00:04:49.427\nThey keep track of what we're doing.\n\n94\n00:04:49.427 --> 00:04:54.374\nSo they keep a record of the transactional\ninformation that comes and goes.\n\n95\n00:04:54.374 --> 00:04:56.614\nAnd we also have, as you can see,\na working temp EDB.\n\n96\n00:04:56.614 --> 00:05:01.140\nIt's kind of a working scratch directory\nwhere things are going in and being\n\n97\n00:05:01.140 --> 00:05:06.093\nrecorded as they're transitioning through\nfrom the various places they come in,\n\n98\n00:05:06.093 --> 00:05:10.926\nand the various stages they exist in as we\nmove them in and out and create objects.\n\n99\n00:05:10.926 --> 00:05:14.798\nAnd so we have a lot of\ndifferent things going on.\n\n100\n00:05:14.798 --> 00:05:17.098\nWe also have these files right here,\n\n101\n00:05:17.098 --> 00:05:21.845\nwhich are gonna be our temp files that\nare used, right, to be able to go in and\n\n102\n00:05:21.845 --> 00:05:26.402\ncreate, and I will talk a little bit\nabout this in the show notes for you.\n\n103\n00:05:26.402 --> 00:05:29.637\nA couple of log files\nthat are 10 megs in size.\n\n104\n00:05:29.637 --> 00:05:34.198\nYou can see they're 10 megabytes, roughly,\napproximately 10.2 kilobytes, 10 megs.\n\n105\n00:05:34.198 --> 00:05:37.384\nAnd we have two of them that\nADDS creates as space savers.\n\n106\n00:05:37.384 --> 00:05:41.090\nWe essentially use them as holds\non a certain amount of data,\n\n107\n00:05:41.090 --> 00:05:44.520\nspace on the hard drive,\nin this case, 10 megs each.\n\n108\n00:05:44.520 --> 00:05:48.626\nSo then transactionally, if we were to\nrun a hard drive in this towards the very\n\n109\n00:05:48.626 --> 00:05:53.109\nedge, and get within 20 megabytes, or\neven 0 megabytes of free space available,\n\n110\n00:05:53.109 --> 00:05:56.874\nwe would have a little bit of space\nleft over that's just unallocated.\n\n111\n00:05:56.874 --> 00:06:00.393\nWe can dump our active transactions\nfrom memory into to save them and\n\n112\n00:06:00.393 --> 00:06:02.681\nwrite them properly against the database,\n\n113\n00:06:02.681 --> 00:06:05.727\nbefore we shut down the system\ncuz we've run out of space.\n\n114\n00:06:05.727 --> 00:06:08.639\nSo transactionally,\nthese are almost like swap files,\n\n115\n00:06:08.639 --> 00:06:12.414\nif you think about the logic of what\nswap files traditionally represent.\n\n116\n00:06:12.414 --> 00:06:17.284\nAllocated space that, in this case, the\noperating system or the application using,\n\n117\n00:06:17.284 --> 00:06:20.351\nin this case, the OS to store and\nmanage information,\n\n118\n00:06:20.351 --> 00:06:22.502\nwould carve out, maintain a lock on.\n\n119\n00:06:22.502 --> 00:06:27.093\nNot typically putting data in there,\nunless we're under memory contention and\n\n120\n00:06:27.093 --> 00:06:27.643\nneed it.\n\n121\n00:06:27.643 --> 00:06:32.130\nBut, like a swap file, like a paging file,\nwhere we may use it if necessary, but\n\n122\n00:06:32.130 --> 00:06:35.431\nwould traditionally just hold\nthat space open and lock it so\n\n123\n00:06:35.431 --> 00:06:37.622\nthat we have access to it exclusively.\n\n124\n00:06:37.622 --> 00:06:39.415\nThat's what these files are used for.\n\n125\n00:06:39.415 --> 00:06:42.367\nSo we have different moving parts and\npieces that exist in here.\n\n126\n00:06:42.367 --> 00:06:46.311\nSo I just want to remind you of those and\nwhat they represent for us as we go in and\n\n127\n00:06:46.311 --> 00:06:48.276\nwe start to think about what we can do.\n\n128\n00:06:48.276 --> 00:06:52.405\nI mentioned, I'm just gonna bring\nthis up while we're talking,\n\n129\n00:06:52.405 --> 00:06:55.809\nthat we will go into the NTDS\nutility called NTDSutil.\n\n130\n00:06:55.809 --> 00:06:59.811\nNow I have already used it to walk to\nthe end of a process, and I'm at the very,\n\n131\n00:06:59.811 --> 00:07:00.686\nvery last step.\n\n132\n00:07:00.686 --> 00:07:05.313\nWe are to go back, take a look of what\nthis process is after I click Yes here.\n\n133\n00:07:05.313 --> 00:07:07.314\nBut I wanted to get through the 15 or\n\n134\n00:07:07.314 --> 00:07:11.459\n20 steps required of entering a bunch\nof different commands in NTDSutil.\n\n135\n00:07:11.459 --> 00:07:15.284\nAnd walking into different menus, making\na bunch of choices, backing out of them.\n\n136\n00:07:15.284 --> 00:07:18.994\nYou see me do that in a couple of\ndifferent demos, cuz Ntdsutil is\n\n137\n00:07:18.994 --> 00:07:23.837\na multi-layered tool, much like Netsh\nwould be, if you're familiar with that.\n\n138\n00:07:23.837 --> 00:07:27.740\nAnd if you don't remember Netsh, or\nhaven't seen us use it, go back,\n\n139\n00:07:27.740 --> 00:07:32.050\ntake a look at the Networking with\nServer 2016 episode Cherokee and I did.\n\n140\n00:07:32.050 --> 00:07:33.577\nWe talk about tools like Netsh there.\n\n141\n00:07:33.577 --> 00:07:37.440\nAgain, one of those multi-layer tools\nwhere you open it, you launch it, you get\n\n142\n00:07:37.440 --> 00:07:41.304\nyour own command prompt, a subcommand\nprompt inside the shell, and you then have\n\n143\n00:07:41.304 --> 00:07:45.342\nmultiple layers of functionality you drove\ndown to accomplish with certain things.\n\n144\n00:07:45.342 --> 00:07:47.318\nAnd NTDSutil works the same way.\n\n145\n00:07:47.318 --> 00:07:49.802\nAnd so it's a easy tool to use\nonce you get your bearings, but\n\n146\n00:07:49.802 --> 00:07:52.777\na complicated tool if you're not\nfamiliar with what layer you're on and\n\n147\n00:07:52.777 --> 00:07:54.213\nwhat level you're operating at.\n\n148\n00:07:54.213 --> 00:07:57.163\nYou could easily lose track of where\nyou are, in other words, and so,\n\n149\n00:07:57.163 --> 00:08:00.364\nI just walked through that, so let me\nback up and explain what we're doing.\n\n150\n00:08:00.364 --> 00:08:04.238\nWe'll go ahead and click Yes,\nwe'll let this activity play itself out,\n\n151\n00:08:04.238 --> 00:08:07.816\nthen we'll take a look at the command\nstructure we engaged in here.\n\n152\n00:08:07.816 --> 00:08:11.864\nBut I'm using Ntdsutil to do what we\nwould generically call metadata cleanup.\n\n153\n00:08:11.864 --> 00:08:16.059\nBut what we mean by that is, we have an\nobject, in this case a domain controller,\n\n154\n00:08:16.059 --> 00:08:20.321\nthat has gone missing, and we're gonna\nremove that domain controller reference\n\n155\n00:08:20.321 --> 00:08:23.494\nto it from using the NTDS utility\nfrom the Active Directory.\n\n156\n00:08:23.494 --> 00:08:27.519\nWe're gonna essentially mark\nit as deleted and remove it so\n\n157\n00:08:27.519 --> 00:08:30.186\nthat way we know it's not coming back.\n\n158\n00:08:30.186 --> 00:08:32.546\nWe don't look for it or\ntry to leverage it any longer.\n\n159\n00:08:32.546 --> 00:08:35.418\nWe have to do this by going in and\ncleaning up and\n\n160\n00:08:35.418 --> 00:08:38.898\nre-writing and\nchanging metadata in order to to that.\n\n161\n00:08:38.898 --> 00:08:41.160\nAnd so Ntdsutil gives us that capability.\n\n162\n00:08:41.160 --> 00:08:45.360\nWe're gonna go in the dialogue\nprompt that I have for your server,\n\n163\n00:08:45.360 --> 00:08:47.387\nremove configuration dialog.\n\n164\n00:08:47.387 --> 00:08:48.834\nThis is the end of the process.\n\n165\n00:08:48.834 --> 00:08:53.242\nYou could see the last command I\ntyped here, remove selected server.\n\n166\n00:08:53.242 --> 00:08:55.112\nAnd that's what gives me this prompt.\n\n167\n00:08:55.112 --> 00:08:59.131\nI'm about to click Yes, what this is\ntelling me and it gives me the named\n\n168\n00:08:59.131 --> 00:09:04.028\ninstance, the PLABDC01 domain controller\nthat I made prior to the demonstration.\n\n169\n00:09:04.028 --> 00:09:07.556\nSetup, installed, then turned\noff just to simulate a failure.\n\n170\n00:09:07.556 --> 00:09:08.991\n&gt;&gt; Breaking things, yeah.\n\n171\n00:09:08.991 --> 00:09:10.329\n&gt;&gt; And essentially just breaking things.\n\n172\n00:09:10.329 --> 00:09:13.650\nAnd then by turning it off it's\nno longer available, right?\n\n173\n00:09:13.650 --> 00:09:16.288\nAnd so we can simulate the fact\nthat in theory it's failed and\n\n174\n00:09:16.288 --> 00:09:17.645\nas a result we wanna remove it.\n\n175\n00:09:17.645 --> 00:09:19.591\nSo we're gonna do that.\n\n176\n00:09:19.591 --> 00:09:22.320\nIt says, hey, this is not\nthe last server for the domain,\n\n177\n00:09:22.320 --> 00:09:25.943\nmeaning we have more than one domain\ncontroller and as a result we can do this,\n\n178\n00:09:25.943 --> 00:09:28.767\nbut we just wanna make sure\nwe're making the right choice.\n\n179\n00:09:28.767 --> 00:09:31.878\nSo we're going to click Yes here,\nso lets do that.\n\n180\n00:09:31.878 --> 00:09:33.613\nWe'll then watch what happens.\n\n181\n00:09:33.613 --> 00:09:36.453\nOkay, you'll see here,\nlet's just wait for that to come up.\n\n182\n00:09:36.453 --> 00:09:39.101\nIt has done that, can we go full screen?\n\n183\n00:09:39.101 --> 00:09:40.510\nWe want to see the edge of that,\n\n184\n00:09:40.510 --> 00:09:43.400\nyeah because it's kind of cutting\noff a little bit over there.\n\n185\n00:09:43.400 --> 00:09:46.923\nAll right, so let's just track back up\nhere and then we'll look at the bottom of\n\n186\n00:09:46.923 --> 00:09:49.301\nthis and actually see what\nhappened in just a minute.\n\n187\n00:09:49.301 --> 00:09:53.636\nBut let me track all the way back up here\nminus a couple of spelling mistakes where\n\n188\n00:09:53.636 --> 00:09:56.937\nI misspelled domain or\nservice correctly or something, and\n\n189\n00:09:56.937 --> 00:09:59.676\nlet's just kinda walk\nthrough the logic of this.\n\n190\n00:09:59.676 --> 00:10:03.720\nSo, we open the tool using Ntdsutil to\nadd at administrative command prompt,\n\n191\n00:10:03.720 --> 00:10:07.765\nload the tool, we've got our Ntdsutil\ncommand prompt, issue the command for\n\n192\n00:10:07.765 --> 00:10:08.825\nmetadata cleanup.\n\n193\n00:10:08.825 --> 00:10:09.950\nWe did that.\n\n194\n00:10:09.950 --> 00:10:14.356\nWe then went in under metadata clean up at\nthe sub-command and went to connections.\n\n195\n00:10:14.356 --> 00:10:17.117\nAnd we always start at Ntdsutil more\noften that not when we're doing\n\n196\n00:10:17.117 --> 00:10:19.893\nthis using the connections area,\nor a connections sub-command.\n\n197\n00:10:19.893 --> 00:10:23.147\nWhat are we gonna bind to,\nin other word, what server,\n\n198\n00:10:23.147 --> 00:10:26.141\nwhat named instance do we wanna work with,\nright?\n\n199\n00:10:26.141 --> 00:10:28.686\nAnd so you'll see here server\nconnections: connect to server,\n\n200\n00:10:28.686 --> 00:10:30.083\nyou know what are we connecting to.\n\n201\n00:10:30.083 --> 00:10:34.574\nIn this case plabdc01, our surviving\ndomain controller, and bound to that,\n\n202\n00:10:34.574 --> 00:10:38.150\nconnected to it using the credential,\nlocally logged on user.\n\n203\n00:10:38.150 --> 00:10:40.665\nI'm logged in as the domain admin.\n\n204\n00:10:40.665 --> 00:10:43.804\nYou can see the admin command prompt\nis run under that credential as well.\n\n205\n00:10:43.804 --> 00:10:45.649\nSo that makes sense.\n\n206\n00:10:45.649 --> 00:10:49.444\nThen I quit the server connection\nsub-menu, in other words,\n\n207\n00:10:49.444 --> 00:10:53.168\nI've bound to the named instance,\nfocused my console tool,\n\n208\n00:10:53.168 --> 00:10:57.893\nmy command shell tool, Ntdsutil, on\nthat instance but now I'm backing out of\n\n209\n00:10:57.893 --> 00:11:02.650\nthat sublevel going up one level in\nNtdsutil to start issuing other commands.\n\n210\n00:11:02.650 --> 00:11:06.433\nBut I'm now operating from the plabdc01\ndomain controller Ntdsutil,\n\n211\n00:11:06.433 --> 00:11:09.787\nin other words, just focus now and\nwe'll do all its operating and\n\n212\n00:11:09.787 --> 00:11:13.264\nall its data gathering and\nall of its representation of data through\n\n213\n00:11:13.264 --> 00:11:15.826\nthe console shell will be\ndone by connecting to and\n\n214\n00:11:15.826 --> 00:11:19.192\nusing whatever information is\nfound on this domain controller.\n\n215\n00:11:19.192 --> 00:11:20.170\nIn this case, the named instance.\n\n216\n00:11:20.170 --> 00:11:21.577\nSo I've done that.\n\n217\n00:11:21.577 --> 00:11:22.549\nSo now I'm up one level, right?\n\n218\n00:11:22.549 --> 00:11:26.389\nSo let's go back to full screen if we\ncould, and let's continue walking through.\n\n219\n00:11:26.389 --> 00:11:27.530\nSo I've done that.\n\n220\n00:11:27.530 --> 00:11:31.356\nAnd what we're now at, cuz you could\nsee I issue the quit command and\n\n221\n00:11:31.356 --> 00:11:34.447\nreminding you,\nnot because I wanna quit the console,\n\n222\n00:11:34.447 --> 00:11:38.101\nI wanna quit the level I'm on and\nmove one level back up, right.\n\n223\n00:11:38.101 --> 00:11:42.130\nSo this is almost like an up arrow to go\nup one level, that's what quit represents.\n\n224\n00:11:42.130 --> 00:11:43.155\nWhat I mean, one of the sub menus.\n\n225\n00:11:43.155 --> 00:11:45.153\n&gt;&gt; Otherwise, yeah, you gotta run\nthe next command things don't work and\n\n226\n00:11:45.153 --> 00:11:45.990\nthen you're like, yeah.\n\n227\n00:11:45.990 --> 00:11:46.948\n&gt;&gt; Because you're not\nin the right sub-menu.\n\n228\n00:11:46.948 --> 00:11:47.662\n&gt;&gt; Yeah.\n\n229\n00:11:47.662 --> 00:11:51.059\n&gt;&gt; You know, that command does't exist\nin this menu because one level up or\n\n230\n00:11:51.059 --> 00:11:52.517\nsomething like that exactly.\n\n231\n00:11:52.517 --> 00:11:54.976\nSo, don't fear the quick command, right?\n\n232\n00:11:54.976 --> 00:11:57.332\nIt's not the same thing as exit,\nnotice I'm not typing exit, right?\n\n233\n00:11:57.332 --> 00:12:01.574\nExit would be the wrong thing to type\nhere cuz exit will exit out as opposed\n\n234\n00:12:01.574 --> 00:12:02.420\nto quitting.\n\n235\n00:12:02.420 --> 00:12:06.704\nSo now we're back up at metadata cleanup\nand notice that was the menu level I\n\n236\n00:12:06.704 --> 00:12:11.210\nstarted at right here, right, before\nI went into the connection sub-menu.\n\n237\n00:12:11.210 --> 00:12:14.122\nI'm now back at metadata cleanup,\nright here, right.\n\n238\n00:12:14.122 --> 00:12:18.704\nAnd now I'm issuing another command,\nselect operation target, and\n\n239\n00:12:18.704 --> 00:12:22.209\nthen I'm in the sub-menu\nselect operation target.\n\n240\n00:12:22.209 --> 00:12:27.102\nList current selections, as I said,\nit helps if you spell correctly.\n\n241\n00:12:27.102 --> 00:12:28.896\nI left the e out of selections.\n\n242\n00:12:28.896 --> 00:12:29.673\nI spelled selctions.\n\n243\n00:12:29.673 --> 00:12:33.303\nNo e, so I got a little imbalance syntax.\n\n244\n00:12:33.303 --> 00:12:34.000\nThat happened a couple of\ntimes as I was typing.\n\n245\n00:12:34.000 --> 00:12:36.888\nWhich for me is actually an improvement.\n\n246\n00:12:36.888 --> 00:12:38.500\n&gt;&gt; [LAUGH]\n&gt;&gt; So that's actually not bad.\n\n247\n00:12:38.500 --> 00:12:42.060\nBut select I typed it correctly\nthe next time as you can see.\n\n248\n00:12:42.060 --> 00:12:46.447\nAnd then what that command does\nright here, just so you can see,\n\n249\n00:12:46.447 --> 00:12:48.719\nis it shows me the current state or\n\n250\n00:12:48.719 --> 00:12:53.691\nthe current list of selections that\nI have programmed into the console.\n\n251\n00:12:53.691 --> 00:12:56.394\nNo current site, domain,\nserver, or Naming Context.\n\n252\n00:12:56.394 --> 00:13:01.228\nI am the operation target, right,\nin other words it's not been specified.\n\n253\n00:13:01.228 --> 00:13:05.285\nI'm working off the domain controller but\nI haven't specified any values for\n\n254\n00:13:05.285 --> 00:13:06.342\nany of these items.\n\n255\n00:13:06.342 --> 00:13:09.006\nWe've talked about sites before,\nwe know what a domain is,\n\n256\n00:13:09.006 --> 00:13:11.790\nyou know what a server is,\nyou know what the Naming Context is.\n\n257\n00:13:11.790 --> 00:13:13.276\nWe've talked about these things, right?\n\n258\n00:13:13.276 --> 00:13:17.969\nSo, I have to go in and choose them in\norder to drill down essentially, and\n\n259\n00:13:17.969 --> 00:13:22.741\nprogram in exactly where I wanna be before\nI can reach in and grab this server\n\n260\n00:13:22.741 --> 00:13:27.332\nobject, this domain controller object for\nPLABSA01 and remove it.\n\n261\n00:13:27.332 --> 00:13:31.789\nAnd so, the next series of commands are\ngonna be commands that allow me to walk\n\n262\n00:13:31.789 --> 00:13:36.522\nthrough these individual areas, specifying\nvalues so that the entire process of\n\n263\n00:13:36.522 --> 00:13:41.392\nnaming this domain, this site, this\nserver, the naming context, targeting this\n\n264\n00:13:41.392 --> 00:13:45.944\nmachine for removal, is gonna be completed\nover the next series of commands.\n\n265\n00:13:45.944 --> 00:13:49.262\nSo we currently start out by saying hey,\nthere's nothing there, great.\n\n266\n00:13:49.262 --> 00:13:52.008\nThen list domains.\n\n267\n00:13:52.008 --> 00:13:52.516\nNext command, it finds one domain.\n\n268\n00:13:52.516 --> 00:13:57.932\nDomain 0,\nwhich is set to PRACTICELABS.COM.\n\n269\n00:13:57.932 --> 00:14:01.206\nWe always start numbering at 0, right?\nWe've talked about that before why that's\n\n270\n00:14:01.206 --> 00:14:02.108\nimportant.\n\n271\n00:14:02.108 --> 00:14:03.365\nSo what do I do there?\n\n272\n00:14:03.365 --> 00:14:05.486\nI then issue a select command.\n\n273\n00:14:05.486 --> 00:14:06.554\nAnd I select the domain.\n\n274\n00:14:06.554 --> 00:14:09.780\nSo that way and again, we have to\nspell correctly, I left out the e for\n\n275\n00:14:09.780 --> 00:14:12.188\nselect that's why I got\nthe Invalid Syntax error.\n\n276\n00:14:12.188 --> 00:14:13.198\nSeems to be a theme.\n\n277\n00:14:13.198 --> 00:14:15.539\nIt's good thing I'm not\non like real fortune,\n\n278\n00:14:15.539 --> 00:14:18.360\nI won't be able to use variables\nthat would be horrible.\n\n279\n00:14:18.360 --> 00:14:21.251\nRight?\nSo select operation target here.\n\n280\n00:14:21.251 --> 00:14:21.770\nSelect domain 0.\n\n281\n00:14:21.770 --> 00:14:27.864\nSo I've specified I want domain 0,\nPRACTICELABS.COM, to become the domain.\n\n282\n00:14:27.864 --> 00:14:28.475\nIt's gonna populate that list.\n\n283\n00:14:28.475 --> 00:14:33.139\nInstead of it saying no current domain,\nit'll now say PRACTICELABS.COM.\n\n284\n00:14:33.139 --> 00:14:36.876\nSo, I'm going through and\nstarting to make some selections here.\n\n285\n00:14:36.876 --> 00:14:39.429\nSo just scroll down.\n\n286\n00:14:39.429 --> 00:14:41.222\nAnd so once I've done that,\n\n287\n00:14:41.222 --> 00:14:46.151\nyou'll see that domain is now set to\nPRACTICELABS.COM, but site, server,\n\n288\n00:14:46.151 --> 00:14:49.828\nNaming Context are not listed,\nor not programmed in yet.\n\n289\n00:14:49.828 --> 00:14:53.549\nNow, list sites, next command.\n\n290\n00:14:53.549 --> 00:14:55.197\nRight?\nFinds one site.\n\n291\n00:14:55.197 --> 00:14:57.507\nGives me the naming context for the site,\n\n292\n00:14:57.507 --> 00:15:01.141\nwhich is the default first site\nname site in PRACTICELABS.COM.\n\n293\n00:15:01.141 --> 00:15:02.284\nRight?\nWe know that.\n\n294\n00:15:02.284 --> 00:15:07.412\nSo then, I go ahead and I list the sites,\nright, so I can see they're there.\n\n295\n00:15:07.412 --> 00:15:08.784\nThen I go ahead and I select site 0.\n\n296\n00:15:08.784 --> 00:15:13.302\n&gt;&gt; Right?\n\n297\n00:15:13.302 --> 00:15:14.661\n&gt;&gt; I listed it twice just to make sure\nthat I had typed it correctly and\n\n298\n00:15:14.661 --> 00:15:15.549\nthat I was giving the right information.\n\n299\n00:15:15.549 --> 00:15:19.073\nNo reason other than that.\n\n300\n00:15:19.073 --> 00:15:20.846\nThat was just me not paying\nattention to where I was.\n\n301\n00:15:20.846 --> 00:15:22.830\nThat's why it says, list sites twice.\n\n302\n00:15:22.830 --> 00:15:25.828\nSo I went ahead and\nI select site 0, right?\n\n303\n00:15:25.828 --> 00:15:31.466\nAnd so now, you'll see my domain is set\nto PRACTICELABS.COM and right above it,\n\n304\n00:15:31.466 --> 00:15:36.695\nmy site and my domain both in that list\nare now gonna have values whereas the No\n\n305\n00:15:36.695 --> 00:15:41.871\ncurrent server, No current Naming Context\nare still left unidentified.\n\n306\n00:15:41.871 --> 00:15:42.575\nRight?\n\n307\n00:15:42.575 --> 00:15:45.147\nSo slowly but\nsurely I'm chipping away at this list.\n\n308\n00:15:45.147 --> 00:15:49.323\nI'm adding values in to narrow down\nmy focus, to make the selection for\n\n309\n00:15:49.323 --> 00:15:53.577\nthe right objects, so I can remove it\nat the end of this process, right.\n\n310\n00:15:53.577 --> 00:15:56.281\nSo I'm populating all of\nthese values as I go.\n\n311\n00:15:56.281 --> 00:15:57.187\nAll right.\nSo then,\n\n312\n00:15:57.187 --> 00:16:02.109\nI list the servers in the site because\nnow I've populated the site I can go list\n\n313\n00:16:02.109 --> 00:16:05.385\nthe servers and\nnow you'll see I find two servers.\n\n314\n00:16:05.385 --> 00:16:08.472\n0 is PLABDC01.\n\n315\n00:16:08.472 --> 00:16:14.906\n1 is PLABSA01 which is obviously the one\nthat ultimately I wanna remove, right?\n\n316\n00:16:14.906 --> 00:16:17.432\n&gt;&gt; Look at that and\nthat's without any typos, Adam, look.\n\n317\n00:16:17.432 --> 00:16:19.631\n[LAUGH] That's a long string of syntax.\n\n318\n00:16:19.631 --> 00:16:20.658\n&gt;&gt; It is, isn't it?\n\n319\n00:16:20.658 --> 00:16:22.474\nI actually made it more\nthan two sentences.\n\n320\n00:16:22.474 --> 00:16:23.093\n&gt;&gt; That's right.\n\n321\n00:16:23.093 --> 00:16:23.919\n&gt;&gt; Without making a mistake.\n\n322\n00:16:23.919 --> 00:16:26.075\nAll right, so select operational target,\n\n323\n00:16:26.075 --> 00:16:29.289\nselect server one because remember\nthis is the machine, right?\n\n324\n00:16:29.289 --> 00:16:30.523\nPLABSA01, that I wanna remove.\n\n325\n00:16:30.523 --> 00:16:32.766\nThis is the one that we've\nsimulated the failure for\n\n326\n00:16:32.766 --> 00:16:34.248\nthat we wanna be able to get rid of.\n\n327\n00:16:34.248 --> 00:16:35.399\nSo I've selected that.\n\n328\n00:16:35.399 --> 00:16:37.506\nSo now, right?\n\n329\n00:16:37.506 --> 00:16:38.948\nLet's go back again and look.\n\n330\n00:16:38.948 --> 00:16:40.686\nYou could see I have\ngot my site populated.\n\n331\n00:16:40.686 --> 00:16:45.588\nI've got my domain populated,\nmy server is now populated as well,\n\n332\n00:16:45.588 --> 00:16:47.914\nyou could see it there, right?\n\n333\n00:16:47.914 --> 00:16:52.399\nAnd my computer object, all that is part\nof the server selection that I made,\n\n334\n00:16:52.399 --> 00:16:55.032\nall that stuff comes in\nas part of the server.\n\n335\n00:16:55.032 --> 00:16:56.974\nPLABSA01 is all populated.\n\n336\n00:16:56.974 --> 00:16:59.419\nNotice, no current naming context.\n\n337\n00:16:59.419 --> 00:17:00.610\nThat one is still empty.\n\n338\n00:17:00.610 --> 00:17:02.555\nI haven't specified anything there yet.\n\n339\n00:17:02.555 --> 00:17:07.575\nBut three of the four values in that list\nthat we started with, now have information\n\n340\n00:17:07.575 --> 00:17:12.037\nassociated with them to drive my\nability to be able to remove PLABSA01.\n\n341\n00:17:12.037 --> 00:17:12.943\nThen list naming context.\n\n342\n00:17:12.943 --> 00:17:14.791\nWe're about to do the naming context,\nright?\n\n343\n00:17:14.791 --> 00:17:16.075\nWe need all four, right?\n\n344\n00:17:16.075 --> 00:17:16.734\nSo I've done that.\n\n345\n00:17:16.734 --> 00:17:19.053\nFive gaming contexts are found.\n\n346\n00:17:19.053 --> 00:17:20.002\nYou'll see them listed here.\n\n347\n00:17:20.002 --> 00:17:21.116\nZero through four.\n\n348\n00:17:21.116 --> 00:17:25.580\nI have my configuration partition right?\n\n349\n00:17:25.580 --> 00:17:30.610\nI have my domain partition, my schema,\nmy domain DNS and foreseen notes.\n\n350\n00:17:30.610 --> 00:17:33.503\nRemember those are all the partitions\nthat exist in the schema.\n\n351\n00:17:33.503 --> 00:17:37.219\nWe talked about these back it seems\nlike a real long time ago now, right?\n\n352\n00:17:37.219 --> 00:17:39.117\nSome very early episodes\nyou may not remember them.\n\n353\n00:17:39.117 --> 00:17:43.270\nBut, if you go back and listen to some of\nthose early episodes where Cherokee and\n\n354\n00:17:43.270 --> 00:17:47.549\nI broke down the structure of ADDS, walked\nthrough how the schema is structured,\n\n355\n00:17:47.549 --> 00:17:51.410\nwhat goes on in there, what are all\nthe partitions associated with that.\n\n356\n00:17:51.410 --> 00:17:55.710\nThe schema is one of the five partitions\nbut we have a configuration partition,\n\n357\n00:17:55.710 --> 00:18:00.264\ndomain partition DNS, at the domain in the\nfirst level all that's part of what makes\n\n358\n00:18:00.264 --> 00:18:02.280\nup the Active Directory, the ADDS.\n\n359\n00:18:02.280 --> 00:18:04.216\nWe're seeing those here, right?\n\n360\n00:18:04.216 --> 00:18:05.839\nThey're called\nNaming Contexts in the tool.\n\n361\n00:18:05.839 --> 00:18:07.831\nAnd we have to select the naming context.\n\n362\n00:18:07.831 --> 00:18:12.531\nWell, in order to deal with the domain, or\nrather in order to deal with the server,\n\n363\n00:18:12.531 --> 00:18:16.446\nthe domain controller, I have to\nchoose the domain naming context.\n\n364\n00:18:16.446 --> 00:18:20.661\nWhich is the number one naming context\nhere, the second one found on the list.\n\n365\n00:18:20.661 --> 00:18:21.598\nPracticelabs.com.\n\n366\n00:18:21.598 --> 00:18:22.465\nSo I go ahead.\n\n367\n00:18:22.465 --> 00:18:23.995\nI select that.\n\n368\n00:18:23.995 --> 00:18:28.585\nSo now you can see,\nthat all four of those properties now have\n\n369\n00:18:28.585 --> 00:18:33.011\nvalues associated with them,\nor the attributes rather.\n\n370\n00:18:33.011 --> 00:18:36.145\nNaming context has the domain\nvalue associated with it.\n\n371\n00:18:36.145 --> 00:18:37.916\nSo I've named everything, right?\n\n372\n00:18:37.916 --> 00:18:40.616\nSo now I quit at that point.\n\n373\n00:18:40.616 --> 00:18:41.653\nLet's just go up here.\n\n374\n00:18:41.653 --> 00:18:45.014\nI quit out of select operation\ntarget again to move up one level,\n\n375\n00:18:45.014 --> 00:18:49.322\nwent back to metadata cleanup, and I\nissued the remove selected server command.\n\n376\n00:18:49.322 --> 00:18:52.210\nThis is what we're we picked up\nthe demo at the beginning, right?\n\n377\n00:18:52.210 --> 00:18:54.729\nWhere I had the prompt in\nessentially yes or no, right?\n\n378\n00:18:54.729 --> 00:18:55.806\nI hit yes.\n\n379\n00:18:55.806 --> 00:18:58.161\nAnd then from there,\nwe now see the output.\n\n380\n00:18:58.161 --> 00:19:01.351\nTransferring or seizing FSMO\nroles off the selected server.\n\n381\n00:19:01.351 --> 00:19:04.494\nIf there are any roles there\nbecause the server has died.\n\n382\n00:19:04.494 --> 00:19:08.525\nThe part of this process is we\nwill if the server's available,\n\n383\n00:19:08.525 --> 00:19:13.088\nwe talked about the fact in the episode\nwhere we did the transferring and\n\n384\n00:19:13.088 --> 00:19:17.727\nseizing that even if we go into the tool\nour preference is always even if we\n\n385\n00:19:17.727 --> 00:19:21.790\nstart out and we try seize we'll\nalways try to transfer first.\n\n386\n00:19:21.790 --> 00:19:25.574\nAssuming that we have a preference for,\nI should say, that we want to see if\n\n387\n00:19:25.574 --> 00:19:28.839\nthe machine is still available,\nif we can communicate with it.\n\n388\n00:19:28.839 --> 00:19:31.611\nIt's less disruptive as we said, right?\n\n389\n00:19:31.611 --> 00:19:34.739\nLess problematic if we have\nto transfer the role, right?\n\n390\n00:19:34.739 --> 00:19:37.499\nIt ends better for us than if we\nhave to seize the role, right?\n\n391\n00:19:37.499 --> 00:19:38.903\n&gt;&gt; Yeah, you say it was pretty violent.\n\n392\n00:19:38.903 --> 00:19:40.185\n&gt;&gt; Right,very violent, exactly.\n\n393\n00:19:40.185 --> 00:19:41.553\n&gt;&gt; Kicking me and stuff [LAUGH].\n\n394\n00:19:41.553 --> 00:19:44.497\n&gt;&gt; But remember, you came out,\nwe have that on tape, right?\n\n395\n00:19:44.497 --> 00:19:46.079\nThere was no harm, no foul there.\n\n396\n00:19:46.079 --> 00:19:47.034\nNothing happened right?\n\n397\n00:19:47.034 --> 00:19:48.227\nI never left my side of the podium.\n\n398\n00:19:48.227 --> 00:19:49.673\n&gt;&gt; [LAUGH]\n&gt;&gt; All right.\n\n399\n00:19:49.673 --> 00:19:52.048\nSo transferring or ceasing the FSMO roles,\nif there are one or\n\n400\n00:19:52.048 --> 00:19:54.986\nmore roles assigned to that domain\ncontroller, we didn't bother to look.\n\n401\n00:19:54.986 --> 00:19:58.636\nWe don't know what was there but\nwe know if there were any,\n\n402\n00:19:58.636 --> 00:20:03.271\nthere would be a graft removing the FRS\nmetadata for the selected server.\n\n403\n00:20:03.271 --> 00:20:05.146\nA file replication service metadata.\n\n404\n00:20:05.146 --> 00:20:10.088\nSearching for FRS file replication\nservice members, under PLABSA01,\n\n405\n00:20:10.088 --> 00:20:12.764\nit's going in, deleting the subtree.\n\n406\n00:20:12.764 --> 00:20:17.285\nThe attempt to remove the information\nthere, at that point fails.\n\n407\n00:20:17.285 --> 00:20:19.933\nIt says it fails, that's just\ntelling us that it was a successful,\n\n408\n00:20:19.933 --> 00:20:20.962\nactually believe or not.\n\n409\n00:20:20.962 --> 00:20:23.357\nWhich is hey, it's already removed\nthe object, there's no more data there,\n\n410\n00:20:23.357 --> 00:20:24.333\nthat's what they're seeing.\n\n411\n00:20:24.333 --> 00:20:29.142\nAnd then PLABSA01 removed from server,\nright?\n\n412\n00:20:29.142 --> 00:20:34.156\nAnd then it says,hey, it removed it from\nthe instance in the domain controller,\n\n413\n00:20:34.156 --> 00:20:38.661\nand it puts back to this command prompt\nright here and shows us that, yes,\n\n414\n00:20:38.661 --> 00:20:39.984\nwe are done, right?\n\n415\n00:20:39.984 --> 00:20:45.801\nAnd at that point,\nwe type quit just to move up, right?\n\n416\n00:20:45.801 --> 00:20:47.082\nThrough the tool, right?\n\n417\n00:20:47.082 --> 00:20:51.312\nWe get back out of NTDS util at the end\nof that, and we now have done metadata\n\n418\n00:20:51.312 --> 00:20:55.547\ncleanup and removed the PLABSA01 object,\nand removed the reference to\n\n419\n00:20:55.547 --> 00:21:00.493\nit from the domain controller, the\nsurviving domain controller, the PLABSA01.\n\n420\n00:21:00.493 --> 00:21:05.460\nSo, when you have to go and walk through\nmetadata cleanup, which is code.\n\n421\n00:21:05.460 --> 00:21:10.197\nIn this case, in NTDSUTIL speak for some\nobject the domain controller has failed\n\n422\n00:21:10.197 --> 00:21:15.074\nand we have to remove it and as you saw\npotentially seize, hopefully transfer, but\n\n423\n00:21:15.074 --> 00:21:20.184\nif it's an outright failure we're going to\nhave to seize, not transfer, the roles.\n\n424\n00:21:20.184 --> 00:21:22.875\nThe FSMO roles bring them back\noperationally control them.\n\n425\n00:21:22.875 --> 00:21:25.214\nIf you have to do that,\nthen you have to go in and\n\n426\n00:21:25.214 --> 00:21:28.874\nwalk through these steps that you and\nI just walked through, in order for\n\n427\n00:21:28.874 --> 00:21:30.920\nyou to understand how to do it properly.\n\n428\n00:21:30.920 --> 00:21:35.628\nSo that, the references to that object are\nremoved in a thoughtful thorough way and\n\n429\n00:21:35.628 --> 00:21:39.598\nthe associated data that was managed\nby that machine is transferred,\n\n430\n00:21:39.598 --> 00:21:43.969\nmeaning the FISMO roles or whatever\nmetadata references them are removed and\n\n431\n00:21:43.969 --> 00:21:47.358\ntransferred over to one of\nthe surviving objects, right?\n\n432\n00:21:47.358 --> 00:21:50.125\nAnd that's what we would need to have and\nneed to see.\n\n433\n00:21:50.125 --> 00:21:52.640\nAnd so assuming that has\nall been successful, right?\n\n434\n00:21:52.640 --> 00:21:54.467\nWe come over here.\n\n435\n00:21:54.467 --> 00:22:00.402\nGo to the active directory set of tools\nthat we can use in Sidesurfer Manager.\n\n436\n00:22:00.402 --> 00:22:03.301\nSo let's go into Tools on\nour domain controller.\n\n437\n00:22:03.301 --> 00:22:07.231\nWe should be able to go into\nActive Directory Users and Computers.\n\n438\n00:22:07.231 --> 00:22:08.059\nLet's open that up.\n\n439\n00:22:08.059 --> 00:22:11.861\nAnd you'll see that there\nare under domain controllers.\n\n440\n00:22:11.861 --> 00:22:13.681\nThere is no PLABSA01 account.\n\n441\n00:22:13.681 --> 00:22:16.790\nThere would have been up until\nthe time we went and we removed it.\n\n442\n00:22:16.790 --> 00:22:17.901\nIt's no longer there.\n\n443\n00:22:17.901 --> 00:22:18.766\nUnder computers,\n\n444\n00:22:18.766 --> 00:22:22.614\nyou could see there's no PLABSA01 computer\naccount because it's been removed.\n\n445\n00:22:22.614 --> 00:22:25.044\nIt wouldn't have been\nthere in the first place.\n\n446\n00:22:25.044 --> 00:22:28.025\nIt was a domain controller,\nbut it's not in either place,\n\n447\n00:22:28.025 --> 00:22:31.380\nmeaning that machine no longer\nexists as a referenceable object.\n\n448\n00:22:31.380 --> 00:22:33.488\nSo we know the removal was successful.\n\n449\n00:22:33.488 --> 00:22:35.511\nWe can take a look at them.\n\n450\n00:22:35.511 --> 00:22:39.325\nWe've done this with a FSMO roles when we\nwent through and talked about seizing and\n\n451\n00:22:39.325 --> 00:22:40.222\nor transferring.\n\n452\n00:22:40.222 --> 00:22:42.071\nCome over here to the domain in question.\n\n453\n00:22:42.071 --> 00:22:45.367\nGo to the operations masters area.\n\n454\n00:22:45.367 --> 00:22:50.400\nAnd we can see, that when we look at\neach of the domain based FSMO roles.\n\n455\n00:22:50.400 --> 00:22:55.251\nPLABDC01 is the operation\nmaster record holder here.\n\n456\n00:22:55.251 --> 00:23:00.218\nFor the RID master, for the PVC emulator\nand for the infrastructure master.\n\n457\n00:23:00.218 --> 00:23:03.532\nSo the seizing of those roles,\nalthough we don't know for\n\n458\n00:23:03.532 --> 00:23:07.332\nsure if any of the roles had been\nassigned to PLABSA01 one or not.\n\n459\n00:23:07.332 --> 00:23:11.087\nHad they been they are now back where they\nbelong with the surviving members, so\n\n460\n00:23:11.087 --> 00:23:13.627\nwe can just verify that and\nknow that that is the case.\n\n461\n00:23:13.627 --> 00:23:14.697\nSo we can see that.\n\n462\n00:23:14.697 --> 00:23:18.051\nWe could look at the forest level\nroles as well, if we want to go in.\n\n463\n00:23:18.051 --> 00:23:22.840\nTake a look, we go to the domain and trust\ntool, see the domain naming master there,\n\n464\n00:23:22.840 --> 00:23:25.470\nwe could load the schema\nmanagement snap in and\n\n465\n00:23:25.470 --> 00:23:29.124\nlook at the schema management FSMO role,\nwe'd have to do that.\n\n466\n00:23:29.124 --> 00:23:32.118\nThat's not registered but\nwe could go add that DLO if we chose to.\n\n467\n00:23:32.118 --> 00:23:34.268\nBut we could see all of that has happened.\n\n468\n00:23:34.268 --> 00:23:38.329\nIt's all been essentially detailed\nout the way it's supposed to be.\n\n469\n00:23:38.329 --> 00:23:39.571\nAnd everything's working the right way.\n\n470\n00:23:39.571 --> 00:23:41.135\nWe can still manage the domain.\n\n471\n00:23:41.135 --> 00:23:42.663\nPolicies available to us.\n\n472\n00:23:42.663 --> 00:23:45.916\nAnd even things we would have done\nis all part of and just in part and\n\n473\n00:23:45.916 --> 00:23:49.006\nparcel of this functionality,\nis all there with no trouble.\n\n474\n00:23:49.006 --> 00:23:52.931\nSo being able to go in and get rid of this\nobject, when a domain controller fails,\n\n475\n00:23:52.931 --> 00:23:54.745\nis something you should be aware of.\n\n476\n00:23:54.745 --> 00:23:56.221\nYou should know how to do.\n\n477\n00:23:56.221 --> 00:23:57.113\nIt does come up.\n\n478\n00:23:57.113 --> 00:23:59.094\nIt is important to make\nsure you're comfortable.\n\n479\n00:23:59.094 --> 00:24:01.862\nWith doing this, because this can occur.\n\n480\n00:24:01.862 --> 00:24:05.245\nNow, this brings up\nan interesting side discussion,\n\n481\n00:24:05.245 --> 00:24:09.889\nwhich is this idea of what we call\nRestartable AD DS in Server 16 12 R2.\n\n482\n00:24:09.889 --> 00:24:12.469\nWe kinda reference this a couple\nof generations running right now.\n\n483\n00:24:12.469 --> 00:24:16.198\nWhich is really just kind of a fancy\nway of talking about the fact that\n\n484\n00:24:16.198 --> 00:24:18.358\nthe Active Directory can be stopped and\n\n485\n00:24:18.358 --> 00:24:21.319\nstarted as service these days for\nmaintenance work.\n\n486\n00:24:21.319 --> 00:24:25.301\nSo we can go in and take down the AD DS\nservice, do maintenance on the system,\n\n487\n00:24:25.301 --> 00:24:26.250\nbring it back up.\n\n488\n00:24:26.250 --> 00:24:30.323\nWe don't always have to restart in\norder to accomplish certain things,\n\n489\n00:24:30.323 --> 00:24:31.266\nin other words.\n\n490\n00:24:31.266 --> 00:24:33.323\nMicrosoft's really made, no,\nI will not let you make a comment.\n\n491\n00:24:33.323 --> 00:24:34.726\n&gt;&gt; [LAUGH]\n&gt;&gt; Stop bothering me.\n\n492\n00:24:34.726 --> 00:24:38.100\nAll right, so Cherokee has something\nshe want to throw in here.\n\n493\n00:24:38.100 --> 00:24:40.558\nShe's gonna do that in just one second\njust let me finish my thought real quick.\n\n494\n00:24:40.558 --> 00:24:42.638\n&gt;&gt; Sure.\n&gt;&gt; Which is, Microsoft has really,\n\n495\n00:24:42.638 --> 00:24:45.160\nin the last several generations of the OS.\n\n496\n00:24:45.160 --> 00:24:48.957\nMade a lot of progress, and we have\nto them credit where credit is due.\n\n497\n00:24:48.957 --> 00:24:53.181\nThey've made a lot of progress in getting\nrid of the need to restart systems in\n\n498\n00:24:53.181 --> 00:24:57.221\norder to accomplish a lot of the\nconfiguration related things that we do.\n\n499\n00:24:57.221 --> 00:24:59.958\nSo installing and\nconfiguring a lot of the features and\n\n500\n00:24:59.958 --> 00:25:03.710\nthe roles through server manage or\nthrough PowerShell, however we do it,\n\n501\n00:25:03.710 --> 00:25:05.871\nyou often see me do\na combination of those.\n\n502\n00:25:05.871 --> 00:25:10.773\nBut whatever tool of choice you use, it's\nnot unheard of that we have to restart.\n\n503\n00:25:10.773 --> 00:25:14.328\nWe still have to restart to do certain\nthings, but it's a lot less likely\n\n504\n00:25:14.328 --> 00:25:17.649\ntoday than it's ever been that we\nhave to restart in order to set up or\n\n505\n00:25:17.649 --> 00:25:19.196\naccentuate a feature or role.\n\n506\n00:25:19.196 --> 00:25:23.447\nSo, we really wanna give them credit for\nthat because that is a value add for\n\n507\n00:25:23.447 --> 00:25:24.810\nus as administrators.\n\n508\n00:25:24.810 --> 00:25:28.854\nMakes our job a lot easier, so this idea\nof Restartable AD DS plays into that.\n\n509\n00:25:28.854 --> 00:25:31.544\nWhere we can essentially\ntreat the AD DS as a service.\n\n510\n00:25:31.544 --> 00:25:33.732\nStop it when we need to,\ndo what we need to, and\n\n511\n00:25:33.732 --> 00:25:36.543\nthen restart it without necessarily\nhaving to shut down and\n\n512\n00:25:36.543 --> 00:25:38.750\nrestart the machine it\nruns on is part of that.\n\n513\n00:25:38.750 --> 00:25:41.245\nLet me come back to that\nthem in just a second.\n\n514\n00:25:41.245 --> 00:25:44.917\nJust wanna talk to you about the different\nstates that domain controllers can exist\n\n515\n00:25:44.917 --> 00:25:46.503\nin as a result of Restartable AD DS.\n\n516\n00:25:46.503 --> 00:25:47.735\nBut before we get there.\n\n517\n00:25:47.735 --> 00:25:50.525\n&gt;&gt; I think my question may be a little\npremature here, I might wanna save it.\n\n518\n00:25:50.525 --> 00:25:53.810\n&gt;&gt; Outstanding, then we're just gonna\nkeep going, we're not gonna say a word.\n\n519\n00:25:53.810 --> 00:25:55.301\nSo no what did you want to ask?\n\n520\n00:25:55.301 --> 00:25:58.472\n&gt;&gt; About snapshots and\nstopping and restarting service.\n\n521\n00:25:58.472 --> 00:26:02.398\n&gt;&gt; A little premature, let's actually\nput that off cuz I'm just looking we're\n\n522\n00:26:02.398 --> 00:26:06.493\nprobably not gonna be able to- [CROSSTALK]\n&gt;&gt; So let's get to that as soon as we talk\n\n523\n00:26:06.493 --> 00:26:10.116\nabout this part first, then we can\nsee what time we have left, so.\n\n524\n00:26:10.116 --> 00:26:13.234\nLet's just return to this idea\nof Restartable AD DS, right?\n\n525\n00:26:13.234 --> 00:26:17.703\nSo the domain controller can exist in one\nof three states with regards to AD DS,\n\n526\n00:26:17.703 --> 00:26:19.001\nor Restartable AD DS.\n\n527\n00:26:19.001 --> 00:26:21.994\nAnd when we think about this,\nby the way from Server 12 forward,\n\n528\n00:26:21.994 --> 00:26:25.850\nas I mentioned 12, 12R2, and Server 16,\nwe kinda see this thought process.\n\n529\n00:26:25.850 --> 00:26:29.506\nSo AD DS is starting, things are normal,\neverything's running.\n\n530\n00:26:29.506 --> 00:26:33.394\nThat's our traditional domain controllers\nup and running, just like it is\n\n531\n00:26:33.394 --> 00:26:37.180\nessentially right now as you've saw in\nthe demo where I was just in there.\n\n532\n00:26:37.180 --> 00:26:40.332\nTake a look at it, we could do any task\nthat are related to maintenance or\n\n533\n00:26:40.332 --> 00:26:41.922\noperations or anything like that.\n\n534\n00:26:41.922 --> 00:26:45.598\nAD DS stop,\nclearly the exact opposite, right?\n\n535\n00:26:45.598 --> 00:26:48.159\nPolar opposite 180 degrees not available,\nright?\n\n536\n00:26:48.159 --> 00:26:52.023\nSo the AD DS has been taken down,\nthe services no longer online for\n\n537\n00:26:52.023 --> 00:26:53.159\nwhatever reason.\n\n538\n00:26:53.159 --> 00:26:56.379\nWe're obviously then gonna\nhave to wait to do something.\n\n539\n00:26:56.379 --> 00:27:00.681\nAgain, this is from Server 12 forward,\nprior to Server 12 we did not see this.\n\n540\n00:27:00.681 --> 00:27:05.150\nThis is a newer feature of\nfunction called Restartable AD DS.\n\n541\n00:27:05.150 --> 00:27:08.445\nI'm stressing that because you need to\nmake sure you understand that this is\n\n542\n00:27:08.445 --> 00:27:09.018\navailable.\n\n543\n00:27:09.018 --> 00:27:13.341\nYou need to be able to speak intelligently\nabout the three stages that the main\n\n544\n00:27:13.341 --> 00:27:16.151\ncontroller can exist in\nunder Restartable AD DS.\n\n545\n00:27:16.151 --> 00:27:19.459\nThe third one is upcoming here\nin just a second called DSRM,\n\n546\n00:27:19.459 --> 00:27:21.451\nDirectory Services Restore Mode.\n\n547\n00:27:21.451 --> 00:27:24.540\nBut you also need to make sure,\nbecause we love to ask,\n\n548\n00:27:24.540 --> 00:27:26.366\nhey when do we see this feature?\n\n549\n00:27:26.366 --> 00:27:29.391\nI'm on a 2008, base system and\na mixed environment, 12 and\n\n550\n00:27:29.391 --> 00:27:30.968\n12 are two domain controllers.\n\n551\n00:27:30.968 --> 00:27:34.490\nWhy is my server a way to make\nit short not behaving this way,\n\n552\n00:27:34.490 --> 00:27:38.434\nversus my 12R2 which is Microsoft\nloves to access kind of mix and\n\n553\n00:27:38.434 --> 00:27:41.902\nmatch scenario questions to\ncatch you on these features.\n\n554\n00:27:41.902 --> 00:27:45.825\nAnd make sure you understand when they are\navailable to you in mixed environments,\n\n555\n00:27:45.825 --> 00:27:48.963\none of the biggest things as\nadministrators, we have to master and\n\n556\n00:27:48.963 --> 00:27:51.166\nprove knowledge of,\nis what features exist.\n\n557\n00:27:51.166 --> 00:27:53.798\nAnd therefore,\nwhat I can do to administer,\n\n558\n00:27:53.798 --> 00:27:56.026\ngiven the mixed environments we run.\n\n559\n00:27:56.026 --> 00:27:58.012\nAnd that's a big pivot point for\nexam preparation.\n\n560\n00:27:58.012 --> 00:28:01.629\nSo I'm really stressing this because\nI want you to make sure you know.\n\n561\n00:28:01.629 --> 00:28:04.559\nWalk that back three generations,\nand if it's prior to 12,\n\n562\n00:28:04.559 --> 00:28:06.063\nwe don't see this capability.\n\n563\n00:28:06.063 --> 00:28:08.125\nVery important to make\nsure you're aware of that.\n\n564\n00:28:08.125 --> 00:28:12.000\nAll right, so the third state, DSRM,\nDirectory Services Restore Mode.\n\n565\n00:28:12.000 --> 00:28:18.139\nThis is where we are offline\nin recoverability mode.\n\n566\n00:28:18.139 --> 00:28:21.132\nYou restart it, hit F8,\nwent into safe mode, and are trying to do\n\n567\n00:28:21.132 --> 00:28:24.572\nan authoritative or non-authoritative\nrestore from that command shell.\n\n568\n00:28:24.572 --> 00:28:30.179\nThose are the three states that the domain\ncontroller can exist in AD DS started,\n\n569\n00:28:30.179 --> 00:28:33.079\nAD DS stopped, DSRM, or recovery mode.\n\n570\n00:28:33.079 --> 00:28:35.066\nIt's just generically now called DSRM,\n\n571\n00:28:35.066 --> 00:28:37.342\nused to call\nDirectory Services Restore Mode.\n\n572\n00:28:37.342 --> 00:28:41.704\nThat was the name we used for it, so\nwanna make sure you're familiar with that.\n\n573\n00:28:41.704 --> 00:28:44.604\nIf the member, or\nif the domain controller is stopped\n\n574\n00:28:44.604 --> 00:28:48.288\nthen clearly you may get a failure\nwhen you try to do certain things.\n\n575\n00:28:48.288 --> 00:28:51.704\nIf it's started then you should\nget a success so to speak so\n\n576\n00:28:51.704 --> 00:28:54.995\nmake sure you're aware of that and\nhave a sense of that.\n\n577\n00:28:54.995 --> 00:28:58.460\nBut it is important to understand that and\njust make sure you are familiar with that.\n\n578\n00:28:58.460 --> 00:29:01.723\nNow, do take a look here, let me just\nshow you something really quickly, so\n\n579\n00:29:01.723 --> 00:29:02.905\njoin me back here, right?\n\n580\n00:29:02.905 --> 00:29:05.501\nYou having heard that,\nif you haven't gone and looked before,\n\n581\n00:29:05.501 --> 00:29:06.855\nmay say, that's awesome.\n\n582\n00:29:06.855 --> 00:29:10.025\nSo like I can right click, and\nstop and start it like DNS or\n\n583\n00:29:10.025 --> 00:29:11.556\nDHCP as a service, right?\n\n584\n00:29:11.556 --> 00:29:14.127\nNo, not at all,\nnot what we're talking about.\n\n585\n00:29:14.127 --> 00:29:16.916\nSo notice I'm right clicking\non the domain itself.\n\n586\n00:29:16.916 --> 00:29:20.607\nNotice if I go to a domain\ncontroller that I can go in, and\n\n587\n00:29:20.607 --> 00:29:25.570\nyou'll see I can add a group,\ndo various things, move them around, etc.\n\n588\n00:29:25.570 --> 00:29:29.375\nBut notice I'm not stopping and\nstarting AD DS from here.\n\n589\n00:29:29.375 --> 00:29:32.990\nIt's not something we choose to do\noutside of a management console,\n\n590\n00:29:32.990 --> 00:29:36.728\nmeaning outside of a wizard that is\nallowing me to make choices about how\n\n591\n00:29:36.728 --> 00:29:40.495\nservices will be configured,\nfeatures, roles, etc., are added.\n\n592\n00:29:40.495 --> 00:29:44.308\nWe have this capability, but it's not\ngiven to us as administrators directly.\n\n593\n00:29:44.308 --> 00:29:48.478\nIt's indirectly launched and\nmanaged through Server Manager.\n\n594\n00:29:48.478 --> 00:29:52.133\nSo when you go into Server Manager,\nyou go to Manage, you go to Add or Remove,\n\n595\n00:29:52.133 --> 00:29:54.690\nyou're obviously hopefully not removing,\nright?\n\n596\n00:29:54.690 --> 00:29:58.906\nBut Add roles or features, whatever it\nmay be, and you walk through that wizard.\n\n597\n00:29:58.906 --> 00:30:00.598\nIf it involves the use of AD DS,\n\n598\n00:30:00.598 --> 00:30:03.854\nthe wizard is programmed to do\nthe stopping and starting and\n\n599\n00:30:03.854 --> 00:30:07.981\nmanaging that as part of the configuration\nof do whatever choices we make.\n\n600\n00:30:07.981 --> 00:30:11.659\nSo, just keep in mind,\nwe'll apply that restartable AD DS,\n\n601\n00:30:11.659 --> 00:30:14.649\nwe're talking about treating\nAD DS as a service.\n\n602\n00:30:14.649 --> 00:30:18.919\nAnd as a result, that treatment as\na service comes from configuration,\n\n603\n00:30:18.919 --> 00:30:23.818\nreconfiguration, or associated maintenance\ntasks with a tool like Ntdsutil, or\n\n604\n00:30:23.818 --> 00:30:25.646\nany of the command line tools.\n\n605\n00:30:25.646 --> 00:30:28.615\nThat may be used to manage\naspects of the AD DS.\n\n606\n00:30:28.615 --> 00:30:33.492\nThat's where we get the capability to turn\non and off, or shut down, stop, start,\n\n607\n00:30:33.492 --> 00:30:34.743\nand or through DSRM.\n\n608\n00:30:34.743 --> 00:30:37.270\nNot from you right-clicking and\ntrying to go in and choose something.\n\n609\n00:30:37.270 --> 00:30:41.554\n&gt;&gt; Just like an easy accidental stop\nof Active Directory service and then.\n\n610\n00:30:41.554 --> 00:30:45.140\n&gt;&gt; Well, it would obviously it could lead\nto imagine the chaos that would happen if\n\n611\n00:30:45.140 --> 00:30:45.900\nyou had that by.\n\n612\n00:30:45.900 --> 00:30:49.645\nAnd as you said by accident, or somebody\non purpose cuz they wanna go do harm.\n\n613\n00:30:49.645 --> 00:30:51.632\nA bad actor gets in there and\nshuts down AD DS.\n\n614\n00:30:51.632 --> 00:30:55.154\nSo that couldn't fix it by restarting it,\nbut the point is it's incredibly\n\n615\n00:30:55.154 --> 00:30:58.252\ndisruptive during production,\nduring business hours, right?\n\n616\n00:30:58.252 --> 00:31:00.811\nSo definitely don't want that\njust floating around and saying,\n\n617\n00:31:00.811 --> 00:31:03.151\noops I made a mistake option,\nwe wanna try to head that off.\n\n618\n00:31:03.151 --> 00:31:06.758\nSo that's not there, I just wanna make\nsure you saw that and know that you're not\n\n619\n00:31:06.758 --> 00:31:09.700\ngonna go looking for that and find,\neven though we talk about it.\n\n620\n00:31:09.700 --> 00:31:13.574\nAs being the capability that's driven\nthrough wizard interfaces that have rights\n\n621\n00:31:13.574 --> 00:31:17.636\nbased on service accounts, or credentials\nyou provide to perform those activities.\n\n622\n00:31:17.636 --> 00:31:18.885\nAs, we've shown you time and\n\n623\n00:31:18.885 --> 00:31:21.390\nagain during a lot of our\ndemonstrations we walk throughs.\n\n624\n00:31:21.390 --> 00:31:24.803\nSo, I wanted to call that out and\nmake sure you're clear with that.\n\n625\n00:31:24.803 --> 00:31:28.693\nCherokee did mention snap shots and\nas always she's keeping us on track so\n\n626\n00:31:28.693 --> 00:31:29.267\nto speak.\n\n627\n00:31:29.267 --> 00:31:32.317\nBut that is gonna be an upcoming\nconversation if I'm not mistaken for\n\n628\n00:31:32.317 --> 00:31:33.168\nanother episode.\n\n629\n00:31:33.168 --> 00:31:36.796\nBut we are gonna talk about AD snapshots,\nhow you deal with snapshots, and\n\n630\n00:31:36.796 --> 00:31:39.171\ntaking snapshots of\nthe Active Directory AD DS.\n\n631\n00:31:39.171 --> 00:31:41.369\nSo we're definitely gonna\ncome back to talk about that.\n\n632\n00:31:41.369 --> 00:31:45.344\nAnd we're also gonna talk about that\nauthoritative, non-authoritative restore\n\n633\n00:31:45.344 --> 00:31:48.599\noptions, or those set of options\nthat occur through the DSRM state.\n\n634\n00:31:48.599 --> 00:31:50.543\nSo one of the three states\nof the domain controller.\n\n635\n00:31:50.543 --> 00:31:53.740\nWe're gonna walk through,\ntake a look on how to deal with that.\n\n636\n00:31:53.740 --> 00:31:56.766\nAnd another cool feature, which is kind\nof indirectly related to snapshots.\n\n637\n00:31:56.766 --> 00:31:59.076\nWhich is the Active Directory Recycle Bin.\n\n638\n00:31:59.076 --> 00:32:01.975\nWe're gonna take a look at that and\ntalk about how to enable that, you may or\n\n639\n00:32:01.975 --> 00:32:03.001\nmay not have it turned on.\n\n640\n00:32:03.001 --> 00:32:06.168\nAnd the fact that once you do enable it,\nwell you're stuck with it,\n\n641\n00:32:06.168 --> 00:32:08.624\ncuz you're not turning it\noff after it's enabled.\n\n642\n00:32:08.624 --> 00:32:11.914\nBut we'll talk about the value add that\nit gives you, and the ability to recover\n\n643\n00:32:11.914 --> 00:32:14.190\nobjects in a different way as\nresult of the use of that.\n\n644\n00:32:14.190 --> 00:32:16.252\nWe're gonna be taking a look at that\nin an upcoming episode as well.\n\n645\n00:32:16.252 --> 00:32:19.898\n&gt;&gt; Yeah, talking about accidentally\nperforming harm to your system here,\n\n646\n00:32:19.898 --> 00:32:23.154\nthat sounds like the next episode\nis going to be perfect for that.\n\n647\n00:32:23.154 --> 00:32:25.934\nSo you definitely don't wanna miss all\nof our maintenance topics that we'll be\n\n648\n00:32:25.934 --> 00:32:26.524\ncovering next.\n\n649\n00:32:26.524 --> 00:32:29.256\nFor this show,\nwe'll go ahead and sign out.\n\n650\n00:32:29.256 --> 00:32:29.853\nI've been your host, Cherokee Boose.\n\n651\n00:32:29.853 --> 00:32:31.053\n&gt;&gt; I am am Adam Gordon.\n\n652\n00:32:31.053 --> 00:32:32.701\n&gt;&gt; See you next time, here at ITProTV.\n\n653\n00:32:34.685 --> 00:32:37.916\n[MUSIC]\n\n654\n00:32:37.916 --> 00:32:43.384\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232677139"
        },
        {
          "description": "In this episode, Cherokee and Adam discuss restore and recovery options. First, Adam demonstrates how to create and use Active Directory snapshots. He also shows how to enable the Active Directory Recycle Bin and why that can be such an important tool in the event of an accidental deletion.",
          "length": "2433",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-2-maintain_the_ad_ds_pt2-090517.00_40_18_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-2-maintain_the_ad_ds_pt2-090517.00_40_18_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-2-maintain_the_ad_ds_pt2-090517.00_40_18_23.Still001-sm.jpg",
          "title": "Maintain the AD DS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.377\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.377 --> 00:00:06.398\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.398 --> 00:00:08.313\n[MUSIC]\n\n4\n00:00:08.313 --> 00:00:11.805\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.805 --> 00:00:15.998\n&gt;&gt; Welcome ladies and gentlemen to\nidentity with Window's Server 2016.\n\n6\n00:00:15.998 --> 00:00:18.050\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.050 --> 00:00:19.027\nIn this episode,\n\n8\n00:00:19.027 --> 00:00:23.075\nwe'll continue taking a look at\ndifferent ways we can maintain the ADDS.\n\n9\n00:00:23.075 --> 00:00:26.193\nAnd back with us today in studios,\nwe have Microsoft expert Mr.\n\n10\n00:00:26.193 --> 00:00:28.401\nAdam Gordon, thank you for\njoining us Adam.\n\n11\n00:00:28.401 --> 00:00:31.389\n&gt;&gt; Hello, always a pleasure to be back,\nthank you, thank you, thank you,\n\n12\n00:00:31.389 --> 00:00:33.334\nthank everybody, wonderful, outstanding.\n\n13\n00:00:33.334 --> 00:00:36.009\nBig virtual hand shake to everybody out\nthere, high five as we like say for\n\n14\n00:00:36.009 --> 00:00:38.530\nthanking, we haven't done a high five for\nthis episode, awesome.\n\n15\n00:00:38.530 --> 00:00:40.926\n&gt;&gt; [LAUGH]\n&gt;&gt; Because you got ADDS out with like,\n\n16\n00:00:40.926 --> 00:00:43.741\nyou almost sounded like ADES,\nI was waiting, but it was ADDS.\n\n17\n00:00:43.741 --> 00:00:46.898\n&gt;&gt; [LAUGH]\n&gt;&gt; You just rolled through it so quickly.\n\n18\n00:00:46.898 --> 00:00:50.217\nYou made your D into an E,\nyou advanced it by one.\n\n19\n00:00:50.217 --> 00:00:53.104\nAll right, so managing Active Directory,\nwe've talked in the last episode,\n\n20\n00:00:53.104 --> 00:00:54.535\nwe're gonna pick up where we left off.\n\n21\n00:00:54.535 --> 00:00:58.000\nAbout, if you have seen that\nepisode you will remember.\n\n22\n00:00:58.000 --> 00:01:01.409\nWe went through and talked a little bit\nabout how to use NTDSutil to be able to do\n\n23\n00:01:01.409 --> 00:01:03.680\nwhat we call metadata clean up,\nremove an object.\n\n24\n00:01:03.680 --> 00:01:06.391\nWe simulated a domain controller\nobject failure, went in,\n\n25\n00:01:06.391 --> 00:01:09.966\nwalked through the logic of how to use the\ncommand line tool to be able to do that.\n\n26\n00:01:09.966 --> 00:01:13.709\nWe're gonna return back to NTDSutil, but\nto look at yet another functionality.\n\n27\n00:01:13.709 --> 00:01:16.989\nIn this case, I promised you a quick\ndiscussion of snapshots, how we do them.\n\n28\n00:01:16.989 --> 00:01:20.291\nNow we do them take a look at them,\nwe'll do that.\n\n29\n00:01:20.291 --> 00:01:23.726\nWe will also talk about the Recycle Bin,\nthe AD Recycle Bin.\n\n30\n00:01:23.726 --> 00:01:26.417\nAn often overlooked feature,\nit is not turned on by default,\n\n31\n00:01:26.417 --> 00:01:27.364\nwe have to enable it.\n\n32\n00:01:27.364 --> 00:01:31.455\nSo we will take a look at how to do that\nfrom ADAC and talk about the value of\n\n33\n00:01:31.455 --> 00:01:35.296\nusing the Active Directory r Recycle Bin,\nwhat was it you told me?\n\n34\n00:01:35.296 --> 00:01:36.514\nWe don't get-\n&gt;&gt; You don't get fines.\n\n35\n00:01:36.514 --> 00:01:38.485\nYeah, I guess it depends\non where you live,\n\n36\n00:01:38.485 --> 00:01:41.216\nlike certain areas that\nare forward thinking like Seattle.\n\n37\n00:01:41.216 --> 00:01:42.406\nOf course recycling,\n\n38\n00:01:42.406 --> 00:01:46.801\nyou definitely have to have your Active\nDirectory recycling bin turned on as well.\n\n39\n00:01:46.801 --> 00:01:50.582\n&gt;&gt; So that they can pick it up at the curb\nevery week and take the recycling and\n\n40\n00:01:50.582 --> 00:01:52.452\nreuse it for those less fortunate.\n\n41\n00:01:52.452 --> 00:01:54.421\n&gt;&gt; [LAUGH] Horrible joke.\n\n42\n00:01:54.421 --> 00:01:58.757\n&gt;&gt; Have their own fully functional ADDS,\nyou get to recycle somebody elses.\n\n43\n00:01:58.757 --> 00:02:04.503\nAll right, so let's,\nthat is today's absolute silliness.\n\n44\n00:02:04.503 --> 00:02:08.912\nAll right, so ADDS util, join me here,\nlet's talk about snapshot,\n\n45\n00:02:08.912 --> 00:02:11.320\nso with the idea behind here, there.\n\n46\n00:02:11.320 --> 00:02:13.528\nOkay, the join me here\nbutton wasn't working.\n\n47\n00:02:13.528 --> 00:02:15.966\nAll right, so we've got NTDSutil.\n\n48\n00:02:15.966 --> 00:02:17.110\nNow I have a split screen here,\n\n49\n00:02:17.110 --> 00:02:19.497\nI'll explain what I'm doing but\nI have two command prompts up.\n\n50\n00:02:19.497 --> 00:02:22.728\nI changed the background color on one so\nwe could differentiate,\n\n51\n00:02:22.728 --> 00:02:23.854\nmake it easier to see.\n\n52\n00:02:23.854 --> 00:02:26.826\nWe'll walk through the logic\nof how we set up the snapshot,\n\n53\n00:02:26.826 --> 00:02:28.559\nthat's the upper command shell.\n\n54\n00:02:28.559 --> 00:02:32.996\nAnd then the lower one, we take the output\nof that and use a tool called DSA main and\n\n55\n00:02:32.996 --> 00:02:36.471\nwe then use that to mount the snapshot so\nwe can actually see it.\n\n56\n00:02:36.471 --> 00:02:39.776\nI'm gonna show you how to take that\nsnapshot once it's mounted and\n\n57\n00:02:39.776 --> 00:02:43.557\ninteract with it within the management\ntool, in the AD user's computer and\n\n58\n00:02:43.557 --> 00:02:44.815\nmanagement interface.\n\n59\n00:02:44.815 --> 00:02:47.811\nSo let's start with NTDSutil with\nSnapshot could we go full screen so\n\n60\n00:02:47.811 --> 00:02:50.043\nwe could see the edge of that,\nif you would please.\n\n61\n00:02:50.043 --> 00:02:55.631\nYou'll see right over here, issue\nthe snapshot command inside NTDSutil,\n\n62\n00:02:55.631 --> 00:02:59.834\nactivate instance NTDS we\nfocused on the NTDS instance.\n\n63\n00:02:59.834 --> 00:03:04.434\nSet that to the NTDS directory so\nwe can work with the Active Directory,\n\n64\n00:03:04.434 --> 00:03:07.742\nwent back to snapshot,\nissue the create command.\n\n65\n00:03:07.742 --> 00:03:11.313\nWe created a snapshot, the snapshot,\nevery time we do that,\n\n66\n00:03:11.313 --> 00:03:14.765\ngets a GUID a unique identifier for\nthe snapshot object..\n\n67\n00:03:14.765 --> 00:03:17.965\nThe recommendation is note that\nGUID because as you can see,\n\n68\n00:03:17.965 --> 00:03:21.561\nwe do need to be able to have that GUID,\nso we can mount the snapshot.\n\n69\n00:03:21.561 --> 00:03:25.425\nWe have to know what it is and reproduce\nit, so I just went in, copied it.\n\n70\n00:03:25.425 --> 00:03:30.383\nI just went up here to the command\nshell went to edit, mark,\n\n71\n00:03:30.383 --> 00:03:33.366\ndid that just went ahead copied it.\n\n72\n00:03:33.366 --> 00:03:36.168\nI just usually drop it into a Notepad or\nsomething, so\n\n73\n00:03:36.168 --> 00:03:38.740\nI can just keep track of it,\nso I know where it is.\n\n74\n00:03:38.740 --> 00:03:41.445\nCan you imagine me having to type that and\nactually get that correct?\n\n75\n00:03:41.445 --> 00:03:43.334\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Like if that is very unlikely, so\n\n76\n00:03:43.334 --> 00:03:47.036\nI went ahead, I did that and\nthen just put R in the command line now.\n\n77\n00:03:47.036 --> 00:03:48.968\n&gt;&gt; It says babe in there,\nthough, that's kinda funny.\n\n78\n00:03:48.968 --> 00:03:50.423\n&gt;&gt; It is what?\n&gt;&gt; It says babe in there.\n\n79\n00:03:50.423 --> 00:03:51.678\n&gt;&gt; It does, yeah, I noticed that.\n\n80\n00:03:51.678 --> 00:03:52.915\n&gt;&gt; [LAUGH] Yeah.\n\n81\n00:03:52.915 --> 00:03:55.624\n&gt;&gt; Just the random association of\nthe characters, I was looking at going\n\n82\n00:03:55.624 --> 00:03:58.638\nshe's definitely gonna pick up on that and\nmake a comment as soon as I highlight it.\n\n83\n00:03:58.638 --> 00:04:01.409\nSo, we've got the GUID string there,\nright?\n\n84\n00:04:01.409 --> 00:04:03.858\nWe'll just call it the babe GUID\nstring and so we see that, so\n\n85\n00:04:03.858 --> 00:04:05.744\nwe know we have the GUID,\nI copied it, right?\n\n86\n00:04:05.744 --> 00:04:07.445\nSo we see generated successfully.\n\n87\n00:04:07.445 --> 00:04:12.205\nThen I do a list all command to be able to\nsee the snapshot instances, so I could see\n\n88\n00:04:12.205 --> 00:04:16.771\nthe date and time stamp for the snapshot\nthat matches the GUID right up there.\n\n89\n00:04:16.771 --> 00:04:23.168\nSo we could see this was done September\n5th, 2017 at 16:40 right military time.\n\n90\n00:04:23.168 --> 00:04:26.320\nSo we have that and then I go and\nI do snapshot mount and\n\n91\n00:04:26.320 --> 00:04:30.762\nthen I just leave a space and I pasted\nin the GUID string, so I mount it, and\n\n92\n00:04:30.762 --> 00:04:32.648\nthen the snapshot is mounted.\n\n93\n00:04:32.648 --> 00:04:38.504\nYou see it's mounted as C:\\$SNAP_,\nthe day and\n\n94\n00:04:38.504 --> 00:04:44.110\ntime stamp, VOLUMEC\\ so\nthat's been mounted.\n\n95\n00:04:44.110 --> 00:04:45.928\nWhat I then can do is come over here and\n\n96\n00:04:45.928 --> 00:04:49.821\nI can actually see in the Windows Explorer\nthat that snapshot file is mounted.\n\n97\n00:04:49.821 --> 00:04:54.161\nYou can see it right there and we can see\nthat it is available, so we do see it.\n\n98\n00:04:54.161 --> 00:04:57.603\nInto Windows Explorer once that becomes\navailable and we do the snapshot.\n\n99\n00:04:57.603 --> 00:05:01.190\nNow let's just talk about snapshots for\na minute, what they are, before we get to\n\n100\n00:05:01.190 --> 00:05:04.057\nthe bottom of command line with\nDSA main and what we're gonna do.\n\n101\n00:05:04.057 --> 00:05:06.775\nAnd we go and mount this and\nactually take a look at how to use it, so\n\n102\n00:05:06.775 --> 00:05:10.096\nCherokee, help me if you don't mind,\ntalk about snapshots here for a minute.\n\n103\n00:05:10.096 --> 00:05:13.263\nI know you and I've talked about them\nbefore, we were chatting about them just\n\n104\n00:05:13.263 --> 00:05:16.584\nbefore we came on to do this episode, so\nwhat's the value of creating a snapshot?\n\n105\n00:05:16.584 --> 00:05:19.978\nOr you were gonna ask me something\nabout snapshots from the last episode,\n\n106\n00:05:19.978 --> 00:05:21.741\nwe didn't quite get a chance to do it.\n\n107\n00:05:21.741 --> 00:05:23.652\nI know you said you wanted to\nthrow that question out here, so\n\n108\n00:05:23.652 --> 00:05:25.566\nlet's start with your question-\n&gt;&gt; Okay.\n\n109\n00:05:25.566 --> 00:05:28.034\n&gt;&gt; And let's maybe talk a little bit about\nwhat snapshots are and how we use them.\n\n110\n00:05:28.034 --> 00:05:34.108\n&gt;&gt; Okay, sure, so my question specifically\nwas we had talked about stopping and\n\n111\n00:05:34.108 --> 00:05:37.617\nrestarting that Active Directory service.\n\n112\n00:05:37.617 --> 00:05:41.172\nAlthough it wasn't something\nthat we really needed to do,\n\n113\n00:05:41.172 --> 00:05:44.809\nbut, when I'm working in\ndifferent types of hypervisors.\n\n114\n00:05:44.809 --> 00:05:49.722\nI will stop, or shut that machine down,\nbefore taking a snapshot to help\n\n115\n00:05:49.722 --> 00:05:53.850\nsave with disk space and\nany kind of, just getting a really.\n\n116\n00:05:53.850 --> 00:05:57.989\nClean snapshot of that particular image\nthen I was wondering if that was something\n\n117\n00:05:57.989 --> 00:06:01.961\nthat we needed to think about here in\nthis situation when creating snapshots.\n\n118\n00:06:01.961 --> 00:06:05.102\n&gt;&gt; So [COUGH] short answer is yes and\nno, right?\n\n119\n00:06:05.102 --> 00:06:08.379\n[LAUGH] What I mean by that is the\nfollowing, we always wanna be concerned\n\n120\n00:06:08.379 --> 00:06:11.565\nabout that but as we talked about it\nin the last episode with the ADDS.\n\n121\n00:06:11.565 --> 00:06:12.787\nThe restartable ADDS, right?\n\n122\n00:06:12.787 --> 00:06:15.670\nStudy of treating AD\nessentially as a service and\n\n123\n00:06:15.670 --> 00:06:20.665\nletting the configuration wizards manage\nour capabilities start and stop that to do\n\n124\n00:06:20.665 --> 00:06:25.258\nconfiguration without necessarily\nrequiring a full restart of the system.\n\n125\n00:06:25.258 --> 00:06:28.767\nI made the point when I'm on my way to\nmake the point that we don't have control\n\n126\n00:06:28.767 --> 00:06:31.579\nas administrators in between\nthe console over that, right?\n\n127\n00:06:31.579 --> 00:06:34.651\nThat central driven by the wizard or\nthe configuration of\n\n128\n00:06:34.651 --> 00:06:38.171\nthe particular application or\nfunction that we're engaging and\n\n129\n00:06:38.171 --> 00:06:41.191\nthat operating system through\nthat was your controls.\n\n130\n00:06:41.191 --> 00:06:45.035\nThe ability to shut down, start up, stop\nand start that service, things like that.\n\n131\n00:06:45.035 --> 00:06:48.424\nSo while we do,\nas all snapshots are taken and\n\n132\n00:06:48.424 --> 00:06:52.186\nall snapshots are essentially\ndone the same way.\n\n133\n00:06:52.186 --> 00:06:56.821\nThis is a back up feature in the sense\nthat we use the Window's backup service to\n\n134\n00:06:56.821 --> 00:06:58.309\nbe able to do snapshots.\n\n135\n00:06:58.309 --> 00:07:02.994\nThe shadow volume, shadow snapshot,\nthe volume shadow snapshot\n\n136\n00:07:02.994 --> 00:07:07.524\nwriting service is what's used for\nthis, so the copy service.\n\n137\n00:07:07.524 --> 00:07:11.338\nSo, all back up products, regardless\nof what they are, who makes them,\n\n138\n00:07:11.338 --> 00:07:15.337\nare all essentially gonna do what I'm\nabout to describe to you in some fashion\n\n139\n00:07:15.337 --> 00:07:16.094\nthe same way.\n\n140\n00:07:16.094 --> 00:07:18.658\nJust insert the appropriate\nvendor name and reference for\n\n141\n00:07:18.658 --> 00:07:22.336\nthe service localized and you'll have\nan explanation of how snapshotting works.\n\n142\n00:07:22.336 --> 00:07:28.423\nWhat snapshotting is is the ability\nto take a clean, bit streamed copy.\n\n143\n00:07:28.423 --> 00:07:33.028\nAn identical image of what's going on on\nthe system you want to have access to and\n\n144\n00:07:33.028 --> 00:07:37.568\nthen have that and put that somewhere\nelse, typically off to separate media,\n\n145\n00:07:37.568 --> 00:07:38.074\nright?\n\n146\n00:07:38.074 --> 00:07:42.786\nA hard drive, perhaps even locally or\nremotely across the network into\n\n147\n00:07:42.786 --> 00:07:47.825\na share or USB drive to take whatever\nthat mechanism is where you will put it.\n\n148\n00:07:47.825 --> 00:07:51.866\nBut passing that data somewhere and\nto do so in a way that creates and\n\n149\n00:07:51.866 --> 00:07:55.419\nforces us to evaluate and\nto ensure integrity of the data.\n\n150\n00:07:55.419 --> 00:07:58.475\nSo it's an identical copy,\nand that the data itself is,\n\n151\n00:07:58.475 --> 00:08:02.371\nas Cherokee was talking about in her\ncomment in her question, is clean.\n\n152\n00:08:02.371 --> 00:08:06.184\nMeaning we're not gonna have any file\nlocks that perhaps cause corruption or\n\n153\n00:08:06.184 --> 00:08:08.717\ndisruption of the data stream,\nthings like that.\n\n154\n00:08:08.717 --> 00:08:12.242\nAnd so what snapshotting technology\ndoes is, the term we use for\n\n155\n00:08:12.242 --> 00:08:15.980\nit in many vendors is quiescing,\na fancy term for pausing, right?\n\n156\n00:08:15.980 --> 00:08:18.823\nThe ability to be able to interact\nwith the data has to be clean.\n\n157\n00:08:18.823 --> 00:08:21.452\nWe have to get in leaving\nthe snapshot service or\n\n158\n00:08:21.452 --> 00:08:23.832\nthe functionality driving the snapshot.\n\n159\n00:08:23.832 --> 00:08:28.221\nWe have to take exclusive control of all\nthe data, breaking momentarily any and all\n\n160\n00:08:28.221 --> 00:08:32.250\nfile locks or service locks that prevent\nus from getting access to the data.\n\n161\n00:08:32.250 --> 00:08:36.457\nAnd so what snapshotting does is, it\nallows us through this thought process to\n\n162\n00:08:36.457 --> 00:08:40.107\nquiesce or pause all read/write\nactivity on the data in question.\n\n163\n00:08:40.107 --> 00:08:43.997\nLong enough that the system can\nessentially gain complete control\n\n164\n00:08:43.997 --> 00:08:45.881\nof the data and make a copy of it.\n\n165\n00:08:45.881 --> 00:08:50.539\nWe often do that into memory because it's\nvery quick, and then from memory we dump\n\n166\n00:08:50.539 --> 00:08:55.083\nthat to whatever the external media is for\nthe directory, offline so to speak.\n\n167\n00:08:55.083 --> 00:08:58.718\nWe do that, in other words, by releasing\nthe file lock, we unquiesce the data,\n\n168\n00:08:58.718 --> 00:09:00.222\neverything goes back to normal.\n\n169\n00:09:00.222 --> 00:09:03.369\nAnd then we work with that\nclean image to create the copy,\n\n170\n00:09:03.369 --> 00:09:05.284\nthat's how snapshotting works.\n\n171\n00:09:05.284 --> 00:09:10.187\nAnd so as a result, when we snapshot data,\nwe are not quite stopping, but we are,\n\n172\n00:09:10.187 --> 00:09:14.807\nyou can think of it almost like pausing\nthe directory service, in this case,\n\n173\n00:09:14.807 --> 00:09:16.821\nlong enough to quiesce the data.\n\n174\n00:09:16.821 --> 00:09:21.002\nThe NTDS directory and whatever else,\nthe NTDS.dit file, rather, and\n\n175\n00:09:21.002 --> 00:09:23.837\nwhatever additional files\nmay need to be paused,\n\n176\n00:09:23.837 --> 00:09:28.101\nthe checkpoint file, the log files,\netc, so we know everything is good.\n\n177\n00:09:28.101 --> 00:09:33.338\nWe put a pause on everything, we buffer\ntransactional data so nothing is lost.\n\n178\n00:09:33.338 --> 00:09:37.232\nAgain memories used traditionally in\ncache of some kind, just buffer this.\n\n179\n00:09:37.232 --> 00:09:38.682\nWe're talking in our world,\n\n180\n00:09:38.682 --> 00:09:42.279\nwe think of this as being something\nthat seems like it would take forever.\n\n181\n00:09:42.279 --> 00:09:45.453\nWe're talking about probably milliseconds\nmore often than not to do this,\n\n182\n00:09:45.453 --> 00:09:47.098\ncertainly maybe a few seconds at most.\n\n183\n00:09:47.098 --> 00:09:50.348\nBut it's so quick traditionally\nthat we just don't understand and\n\n184\n00:09:50.348 --> 00:09:52.582\nrealize the fact that\nthis is even occurring.\n\n185\n00:09:52.582 --> 00:09:55.184\nTo us, it's transparent,\nwe don't see, in other words,\n\n186\n00:09:55.184 --> 00:09:58.055\na slowdown in service capabilities or\nmanagement capabilities.\n\n187\n00:09:58.055 --> 00:10:00.192\nAs a result of this,\nthe operating system and\n\n188\n00:10:00.192 --> 00:10:03.520\nthe service configuration interfaces\nmanage all this on our behalf.\n\n189\n00:10:03.520 --> 00:10:07.406\nWhich is why we don't worry about startup,\nshutdown, is it paused, is it on,\n\n190\n00:10:07.406 --> 00:10:08.980\nis it off, it's just all done.\n\n191\n00:10:08.980 --> 00:10:12.598\nBut essentially, the term would be, we\nquiesce, we are pausing that service long\n\n192\n00:10:12.598 --> 00:10:15.202\nenough to allow us to do that and\nthen capture the snapshot.\n\n193\n00:10:15.202 --> 00:10:18.624\nSo we do worry about it, but\nit is managed and it's done on our behalf,\n\n194\n00:10:18.624 --> 00:10:21.887\nso we don't do it directly, so don't lose-\n&gt;&gt; Can I get a high five for\n\n195\n00:10:21.887 --> 00:10:22.620\nno extra work?\n\n196\n00:10:22.620 --> 00:10:24.898\n&gt;&gt; Absolutely\n&gt;&gt; Sure, he's like-\n\n197\n00:10:24.898 --> 00:10:26.071\n&gt;&gt; But I want change, right,\n\n198\n00:10:26.071 --> 00:10:27.243\nit's like a high five, but\n\n199\n00:10:27.243 --> 00:10:30.665\nI want change cuz I did all the work and\nyou just had to listen to the explanation.\n\n200\n00:10:30.665 --> 00:10:33.166\n&gt;&gt; [LAUGH] I'll have to\nget my change purse.\n\n201\n00:10:33.166 --> 00:10:35.406\n&gt;&gt; You'll have to give me like\na high two and a half back.\n\n202\n00:10:35.406 --> 00:10:37.351\n&gt;&gt; Okay.\n&gt;&gt; That's like a middle high five,\n\n203\n00:10:37.351 --> 00:10:40.227\nlike down here, but\nonly the finger tips touch, exactly.\n\n204\n00:10:40.227 --> 00:10:42.151\n&gt;&gt; All right, so\nwe've got that, hey, look,\n\n205\n00:10:42.151 --> 00:10:44.189\nyou started this whole crazy discussion,\nso.\n\n206\n00:10:44.189 --> 00:10:45.195\n&gt;&gt; I'm sorry I did.\n\n207\n00:10:45.195 --> 00:10:47.687\n&gt;&gt; All right, so I'm just taking\nit to its logical conclusion, so\n\n208\n00:10:47.687 --> 00:10:49.086\nwe did do our snapshot, as you saw.\n\n209\n00:10:49.086 --> 00:10:52.576\nSo we mounted that great thought process\nabout just bringing in the idea of,\n\n210\n00:10:52.576 --> 00:10:56.131\ndo we need to be aware of those things\nas an important, how do snapshots work.\n\n211\n00:10:56.131 --> 00:10:59.355\nMaking sure we have a sense of that, as\npart of this conversation, very important.\n\n212\n00:10:59.355 --> 00:11:02.311\nWe've shown you how to create, and\ntake the snapshot, and mount it.\n\n213\n00:11:02.311 --> 00:11:05.706\nLet's go to step two now, so\njoin me back here, if you will.\n\n214\n00:11:05.706 --> 00:11:08.082\nSo at the bottom here,\nwe've essentially mounted our snapshot.\n\n215\n00:11:08.082 --> 00:11:12.346\nLet me bring up our other command\nwindow here, our command prompt.\n\n216\n00:11:12.346 --> 00:11:15.942\nI'll just bring it up right above there,\nso we can just see what the GUID,\n\n217\n00:11:15.942 --> 00:11:16.755\nwhat's there.\n\n218\n00:11:16.755 --> 00:11:19.559\nIf we can go full screen again, just so\nwe could take a look at that, please.\n\n219\n00:11:19.559 --> 00:11:22.267\nAnd so\nI've opened up a separate command prompt,\n\n220\n00:11:22.267 --> 00:11:25.296\nI could have done it in\nthe original command prompt, but\n\n221\n00:11:25.296 --> 00:11:28.987\nit's exiting out of NTDS util and\ncontinuing to type the commands.\n\n222\n00:11:28.987 --> 00:11:32.806\nBut I just did it here so we could see\nboth simultaneously, different color,\n\n223\n00:11:32.806 --> 00:11:34.945\neasier to just keep track of, hopefully.\n\n224\n00:11:34.945 --> 00:11:37.737\nSo again, just administrative\ncommand prompt, nothing special,\n\n225\n00:11:37.737 --> 00:11:38.899\nwithout loading NTDS util.\n\n226\n00:11:38.899 --> 00:11:43.677\nSo we're just at the prompt where it\nopens, in this case, Windows/System32.\n\n227\n00:11:43.677 --> 00:11:49.764\nDSA name, right, so I'm using the DSA\nname tool with the DB path parameters,\n\n228\n00:11:49.764 --> 00:11:53.377\nso I'm specifying the path for\nthe database.\n\n229\n00:11:53.377 --> 00:11:56.795\nI put in the path for\nmy snapshot that is mounted, and\n\n230\n00:11:56.795 --> 00:12:00.084\nthat actually came from right down here,\nright?\n\n231\n00:12:00.084 --> 00:12:03.553\nRemember, we have the GUID and\nthe timestamp associated with it.\n\n232\n00:12:03.553 --> 00:12:08.821\nSo the beginning of that path $snap_\nthen this string of information right\n\n233\n00:12:08.821 --> 00:12:13.700\nhere without, obviously,\nthe backslashes and the colons, right?\n\n234\n00:12:13.700 --> 00:12:18.767\nAnd then _volumec$ and\nthen Windows ntds ntds.dit.\n\n235\n00:12:18.767 --> 00:12:22.286\nWhat I actually did was, remember,\nI showed you, I went to the C drive,\n\n236\n00:12:22.286 --> 00:12:24.019\nI got this information right here,\n\n237\n00:12:24.019 --> 00:12:26.825\nthat's the beginning of\nthe path statement that I used.\n\n238\n00:12:26.825 --> 00:12:30.117\nI looked for the mounted identifier for\nthe snapshot volume,\n\n239\n00:12:30.117 --> 00:12:31.325\nwhich is what that is.\n\n240\n00:12:31.325 --> 00:12:37.113\nI took $snap_, that whole string for\ndate and time creation,\n\n241\n00:12:37.113 --> 00:12:42.042\n_volumec$, right, and\nthen I added in the fact that\n\n242\n00:12:42.042 --> 00:12:46.775\nI want that in Windows NTDS.dit ldap port,\nright?\n\n243\n00:12:46.775 --> 00:12:52.070\nAnother parameter, port 5000, and then\nI mount it with that LDAP port in that\n\n244\n00:12:52.070 --> 00:12:57.853\ndesignation, in that directory, so that's\nwhy I'm gonna make it available, right?\n\n245\n00:12:57.853 --> 00:13:00.983\nSo I've done that and it says,\nokay, NTDS general service control,\n\n246\n00:13:00.983 --> 00:13:03.438\nActive Directory Domain Services\nstartup complete.\n\n247\n00:13:03.438 --> 00:13:10.538\nI now essentially am running two complete,\nseparate instances of NTDS simultaneously.\n\n248\n00:13:10.538 --> 00:13:14.083\nAnd I'm going to explain what I mean by\nthis, so I'm going to minimize this for\n\n249\n00:13:14.083 --> 00:13:16.180\na minute, let's minimize this for\na minute,\n\n250\n00:13:16.180 --> 00:13:17.812\ncome back to those in just a second.\n\n251\n00:13:17.812 --> 00:13:21.797\nLet's come over here to our Active\nDirectory user and computer manager,\n\n252\n00:13:21.797 --> 00:13:23.153\nwe were in here earlier.\n\n253\n00:13:23.153 --> 00:13:27.094\nIn the last episode, we took a look at\nthe output of our NTDS util removal of\n\n254\n00:13:27.094 --> 00:13:30.277\nthe meta data cleanup,\nremoval of the domain controller,\n\n255\n00:13:30.277 --> 00:13:32.839\nthe SA [INAUDIBLE] the one\nwe saw that it was gone.\n\n256\n00:13:32.839 --> 00:13:36.151\nAnd we looked at the FSMO roles, and\nwe saw that they had been seized or\n\n257\n00:13:36.151 --> 00:13:37.767\ntransferred as a result of that.\n\n258\n00:13:37.767 --> 00:13:42.521\nWhat I'm now doing is, I'm about to go\nin and show you how we can mount that\n\n259\n00:13:42.521 --> 00:13:46.227\nsnapshot instance of\nthe Active Directory that we have.\n\n260\n00:13:46.227 --> 00:13:49.392\nWe're gonna do that in just a second,\nbut before we do that,\n\n261\n00:13:49.392 --> 00:13:53.610\nlet's just go in here and agree that under\nAmia, under Engineering, I only have\n\n262\n00:13:53.610 --> 00:13:57.173\none group called G Engineering,\nand one user called John Summers.\n\n263\n00:13:57.173 --> 00:13:57.868\n&gt;&gt; I agree.\n&gt;&gt; Okay,\n\n264\n00:13:57.868 --> 00:14:01.238\nwe can hopefully all agree on that,\nso we're gonna keep that in mind.\n\n265\n00:14:01.238 --> 00:14:05.501\nNow we're gonna come up here to our\ndomain instance, right-click, and\n\n266\n00:14:05.501 --> 00:14:08.684\nwe've done this before,\nchange domain controller.\n\n267\n00:14:08.684 --> 00:14:12.384\nAnd we've come in here, but\nwe've never had this instance before, or\n\n268\n00:14:12.384 --> 00:14:13.939\nthis opportunity, rather.\n\n269\n00:14:13.939 --> 00:14:18.318\nWe're gonna say this domain controller or\nADLDS lightweight directory service, and\n\n270\n00:14:18.318 --> 00:14:21.558\ninstead of the named instance,\nwhich is what we often choose and\n\n271\n00:14:21.558 --> 00:14:25.105\nwhat we're on right now, type\na directory server name and port here.\n\n272\n00:14:25.105 --> 00:14:29.350\nWe're gonna go right here, and we're\ngonna type in our directory service and\n\n273\n00:14:29.350 --> 00:14:29.939\nour port.\n\n274\n00:14:29.939 --> 00:14:34.332\nThat LDAP port 5000 that we specified,\n\n275\n00:14:34.332 --> 00:14:39.211\nright, so plabdc01:5000, all right?\n\n276\n00:14:39.211 --> 00:14:41.897\nWe're gonna put that in\nbecause that's the name of\n\n277\n00:14:41.897 --> 00:14:44.843\nthe domain controller we snapshotted,\nthe instance.\n\n278\n00:14:44.843 --> 00:14:48.261\nAnd the port number we wanna use to\nconnect to that running instance that has\n\n279\n00:14:48.261 --> 00:14:51.152\nbeen mounted from the root of\nthe C drive snapshot, all right?\n\n280\n00:14:51.152 --> 00:14:55.959\nSo we gonna do that we gonna click here,\nwe're gonna click OK,\n\n281\n00:14:55.959 --> 00:14:59.871\ngive that a second,\nwatch what happens over here.\n\n282\n00:14:59.871 --> 00:15:06.505\nAnd we wait, anybody know any good jokes,\nit'll take just a minute.\n\n283\n00:15:06.505 --> 00:15:11.905\n&gt;&gt; You told me I was only allowed to have\none silliness and so I can't continue.\n\n284\n00:15:11.905 --> 00:15:12.857\n&gt;&gt; Only one silliness?\n\n285\n00:15:12.857 --> 00:15:16.913\n&gt;&gt; Per episode, the beginning of this\nshow, when we talked about Recycling Bin.\n\n286\n00:15:16.913 --> 00:15:19.706\n&gt;&gt; No,\nyou can have another one if you'd like.\n\n287\n00:15:19.706 --> 00:15:24.713\n&gt;&gt; So I had to look up to see how to spell\nquiesce, because I'm not very familiar\n\n288\n00:15:24.713 --> 00:15:29.977\nwith that term, and so I Googled it, and\nit has a really beautiful definition.\n\n289\n00:15:29.977 --> 00:15:30.721\n&gt;&gt; It does.\n\n290\n00:15:30.721 --> 00:15:35.534\n&gt;&gt; It says, tranquility at rest,\nand then underneath that,\n\n291\n00:15:35.534 --> 00:15:41.329\nit gives an example, and it says,\nquiescent gall stones, and [LAUGH].\n\n292\n00:15:41.329 --> 00:15:43.829\n&gt;&gt; I don't know if I'd be going\nthat far with my definition or\n\n293\n00:15:43.829 --> 00:15:46.238\nmy appreciation of the term,\nbut okay, I'm with you.\n\n294\n00:15:46.238 --> 00:15:49.416\n&gt;&gt; Okay and so now,\nthis is the crazy part,\n\n295\n00:15:49.416 --> 00:15:54.574\nI actually have two gall stones,\nAdam, named Phineas and Ferb.\n\n296\n00:15:54.574 --> 00:15:55.718\nDid you know that?\n\n297\n00:15:55.718 --> 00:15:56.470\n&gt;&gt; I did not.\n\n298\n00:15:56.470 --> 00:15:57.363\n&gt;&gt; Now you do.\n\n299\n00:15:57.363 --> 00:15:59.263\n&gt;&gt; And they are they are at rest?\n\n300\n00:15:59.263 --> 00:16:02.719\n&gt;&gt; That's right, they are perfectly\ntranquil and they are at rest.\n\n301\n00:16:02.719 --> 00:16:03.312\n&gt;&gt; They are in a bottle somewhere?\n\n302\n00:16:03.312 --> 00:16:04.546\n&gt;&gt; I didn't even know they exist.\n\n303\n00:16:04.546 --> 00:16:07.307\nMy sister, she she works at a hospital.\n\n304\n00:16:07.307 --> 00:16:08.715\nShe's like, look, by the way.\n\n305\n00:16:08.715 --> 00:16:10.074\nAnd her friend named them, so.\n\n306\n00:16:10.074 --> 00:16:11.347\n&gt;&gt; Phineas and Ferb.\n\n307\n00:16:11.347 --> 00:16:11.925\n&gt;&gt; Yeah [LAUGH].\n\n308\n00:16:11.925 --> 00:16:15.384\n&gt;&gt; Outstanding, all right,\nand this is why-\n\n309\n00:16:15.384 --> 00:16:17.111\n&gt;&gt; I'm not allowed to talk anymore!\n\n310\n00:16:17.111 --> 00:16:17.845\n&gt;&gt; Boys and girls,\n\n311\n00:16:17.845 --> 00:16:21.154\nwe never allow Cherokee to do a show\nwithout somebody with her at all times.\n\n312\n00:16:21.154 --> 00:16:22.018\n&gt;&gt; Monitoring me.\n\n313\n00:16:22.018 --> 00:16:24.117\n&gt;&gt; And usually we don't allow\nher to talk very often, either.\n\n314\n00:16:24.117 --> 00:16:25.925\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, I like that, Phineas and\n\n315\n00:16:25.925 --> 00:16:27.037\nFerb, another really cool cartoon.\n\n316\n00:16:27.037 --> 00:16:30.288\nAlso a very,\nvery big fan of Phineas and Ferb.\n\n317\n00:16:30.288 --> 00:16:32.674\nAll right, so\nlet's take a look at what happened here.\n\n318\n00:16:32.674 --> 00:16:36.685\nSo it looks, on the surface, if we don't\njust pay attention to the fact that\n\n319\n00:16:36.685 --> 00:16:40.199\nthe interface kinda shuts for\na second, opens back up and resets,\n\n320\n00:16:40.199 --> 00:16:44.237\nwe wouldn't even know by looking that\nwe're looking at another instance.\n\n321\n00:16:44.237 --> 00:16:47.793\nBut I told you I had to keep track\nof something to show that we are.\n\n322\n00:16:47.793 --> 00:16:52.709\nSo we're on Active Directory Users and\nComputers, and if we look up here,\n\n323\n00:16:52.709 --> 00:16:56.143\nwe can tell that we are on\nthe snapshotted instance,\n\n324\n00:16:56.143 --> 00:17:00.142\ncuz we can see the port\ndesignation right there, 5000.\n\n325\n00:17:00.142 --> 00:17:04.856\nAnd if I come in to the EMEA engineering\nOU, where we agreed we have one group and\n\n326\n00:17:04.856 --> 00:17:08.641\none user, we now see another user\nhas emerged because I went and\n\n327\n00:17:08.641 --> 00:17:13.500\ndeleted the Elizabeth account from the\noriginal Active Directory schema before\n\n328\n00:17:13.500 --> 00:17:15.375\nwe actually did the snapshot.\n\n329\n00:17:15.375 --> 00:17:17.957\nAnd so, now we are looking\nat a snapshotted instance of\n\n330\n00:17:17.957 --> 00:17:21.344\nthe Active Directory schema before\nthe deletion, which was mounted.\n\n331\n00:17:21.344 --> 00:17:25.902\nAnd we can see that the user is actually\nback and we have access to that account.\n\n332\n00:17:25.902 --> 00:17:28.097\nSo snapshots are frozen moments in time.\n\n333\n00:17:28.097 --> 00:17:30.009\nThey allow us to time-travel back and\n\n334\n00:17:30.009 --> 00:17:33.853\nforth just like snapshots would in any\nother instance for any other reason.\n\n335\n00:17:33.853 --> 00:17:37.497\nWe can use them, mount them,\nsee what was going on at a moment of time.\n\n336\n00:17:37.497 --> 00:17:40.043\nObviously interact with the data here\nif we needed as a point of reference.\n\n337\n00:17:40.043 --> 00:17:43.414\nSo we can see what the current\nstate of the system is,\n\n338\n00:17:43.414 --> 00:17:48.636\ncurrent state of the schema versus what\na prior state would be, from a snapshot.\n\n339\n00:17:48.636 --> 00:17:51.978\nSo just make sure you\nunderstand the logic of that.\n\n340\n00:17:51.978 --> 00:17:56.969\nBut we can tell that we are working\noff a snapshotted instance because\n\n341\n00:17:56.969 --> 00:18:00.854\nthe reference here does tell\nus that the user is back.\n\n342\n00:18:00.854 --> 00:18:05.700\nIf I want to change, Change Domain\nControllers again, highlight that,\n\n343\n00:18:05.700 --> 00:18:07.662\ngo there, open this back up.\n\n344\n00:18:07.662 --> 00:18:10.940\nAnd you can see the reference to the port,\nthe LDAP port,\n\n345\n00:18:10.940 --> 00:18:13.620\nto designate that snapshot\ninstance is gone.\n\n346\n00:18:13.620 --> 00:18:15.275\nAnd if we come back over here,\n\n347\n00:18:15.275 --> 00:18:18.527\nwe can see that the Elizabeth\nuser account is gone as well.\n\n348\n00:18:18.527 --> 00:18:22.381\nWe are looking at the current state of\nthe schema on the live directory or\n\n349\n00:18:22.381 --> 00:18:25.480\ndomain controller without\nthe snapshot being applied.\n\n350\n00:18:25.480 --> 00:18:29.258\nSo we're able to move back and forth as a\nresult of using snapshots to see what some\n\n351\n00:18:29.258 --> 00:18:32.037\nsort of prior state would have been,\nwhatever that may be,\n\n352\n00:18:32.037 --> 00:18:34.783\nwhatever the reasons would be\nthat we would wanna do that.\n\n353\n00:18:34.783 --> 00:18:37.583\nSo, this is how we create a snapshot,\nhow we work with one,\n\n354\n00:18:37.583 --> 00:18:39.375\nhow we're able to interact with one.\n\n355\n00:18:39.375 --> 00:18:43.167\nThe only thing we have not\ndone is we haven't gone in and\n\n356\n00:18:43.167 --> 00:18:44.985\nunmounted the snapshot.\n\n357\n00:18:44.985 --> 00:18:47.800\nSo if you give me just a second,\nwe're gonna go in and we're gonna do that.\n\n358\n00:18:47.800 --> 00:18:49.383\nOr I'll just show you how to go in and\ndo that,\n\n359\n00:18:49.383 --> 00:18:51.064\ncuz you always want to\nclean up after yourself.\n\n360\n00:18:51.064 --> 00:18:52.747\nSo what we're gonna do is the following.\n\n361\n00:18:52.747 --> 00:18:58.120\nJust gonna go back into Ntdsutil,\nI left it up and running there for us.\n\n362\n00:18:58.120 --> 00:18:59.884\nSo let's go in, let's do that.\n\n363\n00:18:59.884 --> 00:19:04.473\nAnd let me come over here, there we go.\n\n364\n00:19:04.473 --> 00:19:07.234\nAll right, so we're in our\nsnapshot instance, as you can see.\n\n365\n00:19:07.234 --> 00:19:10.548\nAnd in this case, instead of mount,\nwhat do you think I'm gonna type\n\n366\n00:19:10.548 --> 00:19:13.590\nto get rid of the snapshot,\nperhaps unmounting the snapshot.\n\n367\n00:19:13.590 --> 00:19:14.745\n&gt;&gt; Unmount.\n[LAUGH]\n\n368\n00:19:14.745 --> 00:19:15.652\n&gt;&gt; I'm just gonna unmount the snapshot.\n\n369\n00:19:15.652 --> 00:19:19.011\nSo I'm gonna cheat a little bit, cuz I\ndon't wanna type the GUID there again.\n\n370\n00:19:19.011 --> 00:19:20.658\nSo I'm gonna do unmount.\n\n371\n00:19:20.658 --> 00:19:22.907\nAnd by unmounting the snapshot,\n\n372\n00:19:22.907 --> 00:19:26.770\nyou probably saw it go through real quick,\nit does that.\n\n373\n00:19:26.770 --> 00:19:29.654\nWhen I come in here, let's just refresh.\n\n374\n00:19:29.654 --> 00:19:34.090\nWe'll see the snapshot instance\ndisappears from the Windows Explorer,\n\n375\n00:19:34.090 --> 00:19:35.457\ncuz I've removed it.\n\n376\n00:19:35.457 --> 00:19:38.797\nIt is Microsoft,\nwe may have to refresh to see the change.\n\n377\n00:19:38.797 --> 00:19:41.563\nYou always know that, and\nthat is sometimes the case.\n\n378\n00:19:41.563 --> 00:19:46.938\nAnd so, now that I've done that,\nif I try to go in here and\n\n379\n00:19:46.938 --> 00:19:51.868\nI try to change my domain controller,\nand I go back,\n\n380\n00:19:51.868 --> 00:19:54.679\nI won't have the ability to.\n\n381\n00:19:54.679 --> 00:19:55.560\nAlthough I can type it,\n\n382\n00:19:55.560 --> 00:19:58.345\nit will error out and not connect\nbecause I don't have a mounted instance.\n\n383\n00:19:58.345 --> 00:19:59.498\nIt's not available.\n\n384\n00:19:59.498 --> 00:20:03.951\nSo, plaiddc01: 5000.\n\n385\n00:20:03.951 --> 00:20:07.554\nIf I try that and click OK,\nwe're not going to get that same outcome,\n\n386\n00:20:07.554 --> 00:20:11.049\nwe're going to get an error because\nthe instance doesn't exist.\n\n387\n00:20:11.049 --> 00:20:13.605\nThe snapshot has been unmounted,\nit's not available.\n\n388\n00:20:13.605 --> 00:20:14.958\nSo I won't be able to resolve it.\n\n389\n00:20:14.958 --> 00:20:16.234\nEventually it will give me an error.\n\n390\n00:20:16.234 --> 00:20:19.274\nSo I can easily mount snapshots,\nload them, interact with them.\n\n391\n00:20:19.274 --> 00:20:21.989\nBut I can also unmount them just as\neasily by using the unmount command.\n\n392\n00:20:21.989 --> 00:20:24.689\nSo, I just want to make sure\nyou're able to see that,\n\n393\n00:20:24.689 --> 00:20:27.217\nyou are able to see how easy\nit is to work with them.\n\n394\n00:20:27.217 --> 00:20:30.057\nIt's very, very easy to do,\nyou just have to go in and\n\n395\n00:20:30.057 --> 00:20:32.598\nquit the NTDS utility in\norder to clean that up.\n\n396\n00:20:32.598 --> 00:20:34.529\nWe're going to go in and\ndo that, there we go.\n\n397\n00:20:34.529 --> 00:20:36.871\nJust waiting on the error just to come\nup essentially so you could see that.\n\n398\n00:20:36.871 --> 00:20:39.963\nServer not operational, in other words,\na named instance cannot be resolved.\n\n399\n00:20:39.963 --> 00:20:41.570\nAll right, so hit Cancel here.\n\n400\n00:20:41.570 --> 00:20:45.707\nLet's just minimize this for a second,\nand let's just get out of here and\n\n401\n00:20:45.707 --> 00:20:46.594\nclean this up.\n\n402\n00:20:46.594 --> 00:20:51.018\nSo let's do, remember I taught\nyou in the last episode about\n\n403\n00:20:51.018 --> 00:20:53.679\nthe difference with exit versus quit?\n\n404\n00:20:53.679 --> 00:20:55.984\nRemember, I told you quit\nis the proper syntax here.\n\n405\n00:20:55.984 --> 00:20:57.592\nSo just showing you that.\n\n406\n00:20:57.592 --> 00:21:01.420\nSo quit, and then, quit.\n\n407\n00:21:01.420 --> 00:21:03.600\nWe're back at our command prompt,\nokay, so just clean that up.\n\n408\n00:21:03.600 --> 00:21:05.041\nSo we've gone ahead and we've done that.\n\n409\n00:21:05.041 --> 00:21:08.409\nWe're gonna get out of Ntdsutil for\nthe next part of this conversation.\n\n410\n00:21:08.409 --> 00:21:12.066\nWe also said we'd talk about\nthe Active Directory Recycle Bin.\n\n411\n00:21:12.066 --> 00:21:15.116\nWe're gonna open up ADAC,\na tool we've seen in prior episodes.\n\n412\n00:21:15.116 --> 00:21:17.096\nHaven't been in there in a little bit, but\n\n413\n00:21:17.096 --> 00:21:20.465\ncertainly in some of our earlier\nconversations we have made use of ADAC.\n\n414\n00:21:20.465 --> 00:21:23.966\nAnd you'll notice I'm on\nthe Active Directory domain named instance\n\n415\n00:21:23.966 --> 00:21:27.662\nPRACTICELABS right here, and\nhighlighting it shows me all the details.\n\n416\n00:21:27.662 --> 00:21:28.608\nCan we go full screen?\n\n417\n00:21:28.608 --> 00:21:32.247\nCuz it is right above where I am right\nthere, just at the edge, off to the right\n\n418\n00:21:32.247 --> 00:21:35.844\nhere, among the other things you could\nsee, we can enable the Recycle Bin.\n\n419\n00:21:35.844 --> 00:21:38.439\nNow, I told you when we\nwere talking about this.\n\n420\n00:21:38.439 --> 00:21:39.261\n&gt;&gt; This is a life-altering decision,\nright?\n\n421\n00:21:39.261 --> 00:21:42.350\n&gt;&gt; Well, it is in the sense that I told\nyou that once we enable the Recycle Bin,\n\n422\n00:21:42.350 --> 00:21:43.344\nit cannot be disabled.\n\n423\n00:21:43.344 --> 00:21:47.051\nSo we have to think about this\nas a one-time, one-way journey.\n\n424\n00:21:47.051 --> 00:21:49.877\nJust like adding objects into the schema,\n\n425\n00:21:49.877 --> 00:21:53.563\nyou create a user account,\nyou can delete the user, but\n\n426\n00:21:53.563 --> 00:21:59.073\nthe reference to the object called user as\na defined class object is never removed.\n\n427\n00:21:59.073 --> 00:22:01.876\nJust the instance that you\nhappen to create of that user.\n\n428\n00:22:01.876 --> 00:22:05.241\nSo putting things into the schema\nis essentially a one-way journey.\n\n429\n00:22:05.241 --> 00:22:10.344\nOnce we extend the definition base or\nadd an object type, we cannot remove it.\n\n430\n00:22:10.344 --> 00:22:13.265\nWe can mask it, we can turn it off or\nfilter it from being seen in\n\n431\n00:22:13.265 --> 00:22:15.700\nthe interface, but\nwe cannot actually remove it.\n\n432\n00:22:15.700 --> 00:22:19.087\nThe only way to do that is by destroying\nthe scheme and starting over.\n\n433\n00:22:19.087 --> 00:22:22.026\nEssentially blowing up\nthe Active Directory and beginning again.\n\n434\n00:22:22.026 --> 00:22:26.001\n&gt;&gt; Would there be any obvious reason\nas to why I wouldn't want to?\n\n435\n00:22:26.001 --> 00:22:27.523\nHow much storage could\nit actually take up?\n\n436\n00:22:27.523 --> 00:22:30.029\nAnd can we delete the Recycle Bin and\n[CROSSTALK]?\n\n437\n00:22:30.029 --> 00:22:31.431\n&gt;&gt; Well, it's not a question\nof deleting the Recyle Bin.\n\n438\n00:22:31.431 --> 00:22:34.438\nWe use it to recover objects,\nis what we use it for.\n\n439\n00:22:34.438 --> 00:22:40.569\nNo, there's no downside per se to enabling\nthe Active Directory Recycle Bin.\n\n440\n00:22:40.569 --> 00:22:44.013\nIt does give us the ability to recover\nobjects in a slightly different way,\n\n441\n00:22:44.013 --> 00:22:46.923\nwith a little bit more flexibility\nassociated with recovery.\n\n442\n00:22:46.923 --> 00:22:47.620\n&gt;&gt; Okay.\n\n443\n00:22:47.620 --> 00:22:50.169\n&gt;&gt; So there really is not a downside,\nit's not a space thing.\n\n444\n00:22:50.169 --> 00:22:53.847\nIt's not like we're gonna run out of room\nif all of a sudden we use it versus not\n\n445\n00:22:53.847 --> 00:22:54.367\nusing it.\n\n446\n00:22:54.367 --> 00:22:56.137\nSo we really don't have\nany of those concerns.\n\n447\n00:22:56.137 --> 00:22:57.987\nBut we just wanna note\nthat if you enable it,\n\n448\n00:22:57.987 --> 00:23:00.247\nyou're just not gonna be\nable to turn it off anymore.\n\n449\n00:23:00.247 --> 00:23:02.024\nEssentially it's always on at that point.\n\n450\n00:23:02.024 --> 00:23:04.372\nSo we just have to know that,\nthat's all I'm suggesting.\n\n451\n00:23:04.372 --> 00:23:06.101\nAll right, so we can go back to\nfull screen, we'll enable this.\n\n452\n00:23:06.101 --> 00:23:09.892\nSo let us do that, here we are,\nlet's click Enable.\n\n453\n00:23:09.892 --> 00:23:13.892\nEnable directory, or, excuse me,\nenable Recycle Bin confirmation.\n\n454\n00:23:13.892 --> 00:23:15.418\nAre you sure you wanna perform this?\n\n455\n00:23:15.418 --> 00:23:18.050\nOnce the Recycle Bin has been enabled,\nit cannot be disabled.\n\n456\n00:23:18.050 --> 00:23:20.112\nSo we tell you that, okay, no problem.\n\n457\n00:23:20.112 --> 00:23:21.302\nLet's click that.\n\n458\n00:23:21.302 --> 00:23:23.565\nNow it says, please refresh ADAC now.\n\n459\n00:23:23.565 --> 00:23:25.209\nIt's begun enabling the Recycle Bin.\n\n460\n00:23:25.209 --> 00:23:28.357\nAnd the Recycle Bin will not function\nreliably until all domain controllers and\n\n461\n00:23:28.357 --> 00:23:29.537\nports have replicated this.\n\n462\n00:23:29.537 --> 00:23:32.545\nSo, you'll need a large-scale\ndistributed architecture.\n\n463\n00:23:32.545 --> 00:23:35.301\nIt could take a few minutes is\nwhat we're suggesting to you, so\n\n464\n00:23:35.301 --> 00:23:37.602\nyou just wanna make sure\nthat you're aware of that.\n\n465\n00:23:37.602 --> 00:23:42.354\nAnd obviously, once we do that,\nwe will then be able to go in and\n\n466\n00:23:42.354 --> 00:23:45.691\nwe'll take a look and see what's going on.\n\n467\n00:23:45.691 --> 00:23:48.497\nSo let me click OK here.\n\n468\n00:23:48.497 --> 00:23:54.254\nOnce we do that, let's do a little\nrefresh It does gray out the enable\n\n469\n00:23:54.254 --> 00:24:00.337\nrecycle bin item that essentially then\ntells us that we have enabled it.\n\n470\n00:24:00.337 --> 00:24:03.328\nThis item right here,\ndeleted objects this container.\n\n471\n00:24:03.328 --> 00:24:04.188\nAnd so you also or\n\n472\n00:24:04.188 --> 00:24:08.563\nthis container also tells us that we've\nenabled it because that container exists.\n\n473\n00:24:08.563 --> 00:24:11.058\nBecause we have been enabled\nthe active directory recycle bin,\n\n474\n00:24:11.058 --> 00:24:12.035\nit was not there before.\n\n475\n00:24:12.035 --> 00:24:17.068\nIt is now there, so we do wanna be\naware of that, let's come over here and\n\n476\n00:24:17.068 --> 00:24:22.117\nlet's take a look in the active\ndirectory user and computer interface.\n\n477\n00:24:22.117 --> 00:24:26.654\nLet's go in, whoops, and let's go what am\nI looking for here, view advance features.\n\n478\n00:24:26.654 --> 00:24:28.956\nAnd when we come into advance features,\n\n479\n00:24:28.956 --> 00:24:33.827\nnotice here by the way that we don't see\nthe deleted items, right, OU or container,\n\n480\n00:24:33.827 --> 00:24:36.958\nin the Active Directory User's\ncomputer interface.\n\n481\n00:24:36.958 --> 00:24:38.859\nWe see it in ADAC, we don't see it here.\n\n482\n00:24:38.859 --> 00:24:42.426\nSo even under Advanced Features, right,\nwe're gonna be in ADAC in order to be\n\n483\n00:24:42.426 --> 00:24:44.655\nable to use this, so\nI just wanna point that out.\n\n484\n00:24:44.655 --> 00:24:48.014\nAll right, so let's go in and\nlet's do the following,\n\n485\n00:24:48.014 --> 00:24:50.451\nlet's go in and let us, lets go in here.\n\n486\n00:24:50.451 --> 00:24:55.306\nLet me go in, and\nlet's create a user real quick.\n\n487\n00:24:55.306 --> 00:25:00.431\nLet me just do it here in\nthe user's OU all right,\n\n488\n00:25:00.431 --> 00:25:04.560\nand let me do a new user just to show you.\n\n489\n00:25:04.560 --> 00:25:12.093\nAnd let's do test share one for\nour user get Cherokee to work here, right.\n\n490\n00:25:12.093 --> 00:25:16.838\nSo test share one is our user.\n\n491\n00:25:16.838 --> 00:25:22.098\nLet's click next,\nlet's give this user a password.\n\n492\n00:25:24.430 --> 00:25:28.319\nLet's set the password never to expire.\n\n493\n00:25:28.319 --> 00:25:31.011\nWe just go ahead and\nlet's just create our user.\n\n494\n00:25:31.011 --> 00:25:34.463\nSo we can agree we have a user\ndown there right, test share one.\n\n495\n00:25:34.463 --> 00:25:36.384\nOkay, so\nnow right once we've done all that.\n\n496\n00:25:36.384 --> 00:25:39.197\nWhat I'm gonna do is I'm\ngonna go delete that user and\n\n497\n00:25:39.197 --> 00:25:41.270\nthen we're gonna go see what happens.\n\n498\n00:25:41.270 --> 00:25:45.135\nBut before we do that let's\ncome here a little quick.\n\n499\n00:25:45.135 --> 00:25:52.317\nSo let's come over here,\nlet's go into the deleted objects, right?\n\n500\n00:25:52.317 --> 00:25:59.652\nAnd notice that unlike in, one of these\nothers, right let's just highlight here.\n\n501\n00:25:59.652 --> 00:26:00.981\n&gt;&gt; We haven't deleted anything yet.\n\n502\n00:26:00.981 --> 00:26:03.727\n&gt;&gt; Yeah, haven't deleted anything yet,\nright, so there's nothing in here or\n\n503\n00:26:03.727 --> 00:26:06.055\nwhat I'm gonna say is just I was\nwaiting for it to pop up over there,\n\n504\n00:26:06.055 --> 00:26:07.701\njust giving it a moment to show up,\nall right.\n\n505\n00:26:07.701 --> 00:26:09.167\nSo we don't have anything in here, right.\n\n506\n00:26:09.167 --> 00:26:12.029\nWe agree before we do anything\nthere is nothing in there, okay.\n\n507\n00:26:12.029 --> 00:26:18.437\nSo, let's come over here,\nlet's right click, go there, let's delete.\n\n508\n00:26:18.437 --> 00:26:21.640\nYes, okay, so, we agree that's gone right,\nit is deleted.\n\n509\n00:26:21.640 --> 00:26:26.143\nWe'll just do a quickly refresh we know,\noops.\n\n510\n00:26:26.143 --> 00:26:28.212\n&gt;&gt; Now did you, I didn't notice,\n\n511\n00:26:28.212 --> 00:26:32.820\ndid you uncheck the protected deletion\nbox when you created that user?\n\n512\n00:26:32.820 --> 00:26:34.864\n&gt;&gt; No.\n&gt;&gt; No, okay.\n\n513\n00:26:34.864 --> 00:26:36.587\n&gt;&gt; I did not, sorry.\n\n514\n00:26:36.587 --> 00:26:39.618\n&gt;&gt; So didn't,\nit allowed you to delete it then-\n\n515\n00:26:39.618 --> 00:26:40.923\n&gt;&gt; Well, it didn't really delete it,\n\n516\n00:26:40.923 --> 00:26:43.071\nit's part of the [CROSSTALK]\n&gt;&gt; That's what I'm saying, so\n\n517\n00:26:43.071 --> 00:26:44.388\nthat's a little bit different.\n\n518\n00:26:44.388 --> 00:26:47.128\n&gt;&gt; Because now I just, all I did was\nrefresh but we need that just to show you.\n\n519\n00:26:47.128 --> 00:26:49.261\nCuz it doesn't pop in you\ngotta just refresh and\n\n520\n00:26:49.261 --> 00:26:51.140\nmake it show up if you\nalready had it open.\n\n521\n00:26:51.140 --> 00:26:53.212\nHow those consoles don't always refresh,\n\n522\n00:26:53.212 --> 00:26:55.686\nright at the right time when\nwe are doing something.\n\n523\n00:26:55.686 --> 00:26:58.505\nSometimes you have to just\npolitely remind it to.\n\n524\n00:26:58.505 --> 00:27:01.775\nSo all I did was go up and simply do\na refresh with the object selected.\n\n525\n00:27:01.775 --> 00:27:05.538\nYou can see immediately that user that\nwe quote unquote deleted has actually\n\n526\n00:27:05.538 --> 00:27:06.374\npopped in here.\n\n527\n00:27:06.374 --> 00:27:09.773\nAnd we can see that this now becomes\nthe catch all container right, for\n\n528\n00:27:09.773 --> 00:27:10.469\nthis object.\n\n529\n00:27:10.469 --> 00:27:15.343\nNow you'll notice over here on the right\nthat I have the ability to restore\n\n530\n00:27:15.343 --> 00:27:16.296\nthis object.\n\n531\n00:27:16.296 --> 00:27:18.833\nI have the ability to restore\nit to the original location.\n\n532\n00:27:18.833 --> 00:27:21.786\nI can restore it to a different location,\nrestore, restore two.\n\n533\n00:27:21.786 --> 00:27:25.864\nI can locate the parent, I can actually\nlook at properties of the subject, so\n\n534\n00:27:25.864 --> 00:27:28.373\nI can,\nyou will see some general information or\n\n535\n00:27:28.373 --> 00:27:30.970\nproperties about the object\nwhatever it may be.\n\n536\n00:27:30.970 --> 00:27:35.527\nAlso by locating the parent, I can go in,\nI could try to find information about\n\n537\n00:27:35.527 --> 00:27:39.064\nthese object whatever it may be so\nI can do different things.\n\n538\n00:27:39.064 --> 00:27:43.214\nBut if I chose restore to, I can\ndecide where I wanna put this object.\n\n539\n00:27:43.214 --> 00:27:46.256\nLet's say I wanna put it\nback in the APAC ITOU,\n\n540\n00:27:46.256 --> 00:27:49.699\nwhich we know clearly was\nnot where it went, right?\n\n541\n00:27:49.699 --> 00:27:53.159\nSo, I've gone ahead and I've done that,\nyou can see it's no longer here.\n\n542\n00:27:53.159 --> 00:27:57.334\nLet's go back over there,\nit's not in users, we agree it's not here.\n\n543\n00:27:57.334 --> 00:27:58.856\nBut if we go into APAC IT,\n\n544\n00:27:58.856 --> 00:28:02.271\nwe do know that it will be there\nwe can see it right there.\n\n545\n00:28:02.271 --> 00:28:07.119\nSo the recycle bin does allow me to\ncatch objects that have been deleted and\n\n546\n00:28:07.119 --> 00:28:10.167\nto restore them or\nput them back in and create or\n\n547\n00:28:10.167 --> 00:28:12.610\nhave access to that functionality.\n\n548\n00:28:12.610 --> 00:28:17.585\nNow when we delete and restore objects\nin ADDS, we have some opportunity.\n\n549\n00:28:17.585 --> 00:28:19.571\nWe have to think about the logic of this,\nright?\n\n550\n00:28:19.571 --> 00:28:22.234\nOur recovery options is another\ntruly depend on whether or\n\n551\n00:28:22.234 --> 00:28:24.580\nnot we have\nActive Directory Recycle Bin enabled.\n\n552\n00:28:24.580 --> 00:28:26.913\nSo when we think about this,\nyou asked earlier hey,\n\n553\n00:28:26.913 --> 00:28:28.621\nis there a good reason to enable this?\n\n554\n00:28:28.621 --> 00:28:32.515\nIs there a bad reason will be not\nwanna enable the AD a recycle bin?\n\n555\n00:28:32.515 --> 00:28:36.167\nAnd I said no, not really because\nit does give us more flexibility so\n\n556\n00:28:36.167 --> 00:28:39.821\nwe could easily identify deleted\nobject go back and restore that and\n\n557\n00:28:39.821 --> 00:28:41.503\nwe have a time window for that.\n\n558\n00:28:41.503 --> 00:28:45.024\nUsually by default 180 days more often\nthan not depending on whether or\n\n559\n00:28:45.024 --> 00:28:48.603\nnot we manipulate the default time\nvalues associated with tomb stoning and\n\n560\n00:28:48.603 --> 00:28:50.269\nthe management of objects right?\n\n561\n00:28:50.269 --> 00:28:54.125\nBut assuming we don't, we have up to 180\ndays to deal with that object typically.\n\n562\n00:28:54.125 --> 00:28:58.935\nSo, something that's been removed in\nother words is not necessarily gone which\n\n563\n00:28:58.935 --> 00:28:59.509\nis good.\n\n564\n00:28:59.509 --> 00:29:02.992\nWe call what I just did\nrestoring the object.\n\n565\n00:29:02.992 --> 00:29:05.797\nWe call it reanimating,\nthat's the formal term we use, but\n\n566\n00:29:05.797 --> 00:29:09.152\nyou saw it's just essentially\na right-click or select on the object and\n\n567\n00:29:09.152 --> 00:29:12.289\nrestore and restore to either original or\nalternate path, right?\n\n568\n00:29:12.289 --> 00:29:16.570\nSo we can do that and if we don't reach\nthe tombstone lifecycle end point,\n\n569\n00:29:16.570 --> 00:29:20.315\nin other words, I told you 180\ndays by default on the object.\n\n570\n00:29:20.315 --> 00:29:22.889\nMeaning, when we delete\nan object normally,\n\n571\n00:29:22.889 --> 00:29:27.383\nthe object is tombstoned, traditionally,\nthat is just like the name implies.\n\n572\n00:29:27.383 --> 00:29:30.916\nPut a marker there, or I quote,\nunquote, call it a tombstone,\n\n573\n00:29:30.916 --> 00:29:34.582\nthat marker says, hey this object\nis gonna be in this limbo state,\n\n574\n00:29:34.582 --> 00:29:38.573\nit's essentially in this state where\nI can restore it if I choose to, for\n\n575\n00:29:38.573 --> 00:29:41.859\nup to a certain period of time,\nthe default is 180 days.\n\n576\n00:29:41.859 --> 00:29:45.291\nIf I go to retrieve the object\nduring the tombstone life cycle,\n\n577\n00:29:45.291 --> 00:29:47.880\nas long as we haven't\ncounted down to zero, and\n\n578\n00:29:47.880 --> 00:29:52.188\nthen ultimately removed that object\npermanently, I can recover the object.\n\n579\n00:29:52.188 --> 00:29:56.311\nThe Active Directory Recycle Bin\nmakes it easier for me to do that,\n\n580\n00:29:56.311 --> 00:30:01.020\ncuz it gives me a graphical interface\nI don't have to go in, do an Ntdsutil,\n\n581\n00:30:01.020 --> 00:30:03.617\ndo a DSRM, do an authoritative restore.\n\n582\n00:30:03.617 --> 00:30:07.630\nAnd put that object back and mark it as\nauthoritative to push the object back to\n\n583\n00:30:07.630 --> 00:30:11.644\nall the domain controllers that have had\nit removed saying we need this back,\n\n584\n00:30:11.644 --> 00:30:14.014\nwhich is the old fashioned\nway of doing this.\n\n585\n00:30:14.014 --> 00:30:17.356\nAnd I could easily have done that well,\neasily is a relative term.\n\n586\n00:30:17.356 --> 00:30:20.296\nBut I could have done that\nwith this deleted user.\n\n587\n00:30:20.296 --> 00:30:24.427\nBut it would have been more involved and\nalthough it is certainly a possibility\n\n588\n00:30:24.427 --> 00:30:28.244\nto do a brick level object for store\nof a single user account or an object,\n\n589\n00:30:28.244 --> 00:30:31.453\na computer account, an OU or\nwhatever you may have deleted.\n\n590\n00:30:31.453 --> 00:30:35.828\nWe can do that obviously we have that\nability since Windows 2000 to do that,\n\n591\n00:30:35.828 --> 00:30:39.503\nbut it is a little involved with\nthe Active Directory recycle bin.\n\n592\n00:30:39.503 --> 00:30:41.650\nGives me the ability to be able to do is,\n\n593\n00:30:41.650 --> 00:30:46.027\nhave this graphical interface operate\nwith these objects in a much easier way.\n\n594\n00:30:46.027 --> 00:30:48.223\nBecause they don't have to go in,\n\n595\n00:30:48.223 --> 00:30:51.720\nlaunch a command line shell\nwith a tool like Ntdsutil.\n\n596\n00:30:51.720 --> 00:30:55.831\nGo in, and then restart this system\nin order to be able to recover using\n\n597\n00:30:55.831 --> 00:30:57.516\nan authoritative restore.\n\n598\n00:30:57.516 --> 00:31:00.643\nMark the object's unique identifier,\nthe sequence change number,\n\n599\n00:31:00.643 --> 00:31:02.979\nit's called the USN,\nthe update sequence number.\n\n600\n00:31:02.979 --> 00:31:07.276\nAt such a high level that authoritatively,\nthe object that we are restoring from\n\n601\n00:31:07.276 --> 00:31:11.444\nthe backup that we have done of the system\nstate, we have said to have a backup of\n\n602\n00:31:11.444 --> 00:31:14.496\nthe system state to be able to\nrestore the object as well.\n\n603\n00:31:14.496 --> 00:31:18.758\nBut, knowing that that object,\nthat identifier has been marked at a high\n\n604\n00:31:18.758 --> 00:31:23.500\nlevel, we increment the number and make\nit ridiculously high, so that if the seam\n\n605\n00:31:23.500 --> 00:31:27.446\nis being authoritative and\ninstead of us in a normal restore model.\n\n606\n00:31:27.446 --> 00:31:30.818\nWe'll talk more about this in the upcoming\nepisode where I walk you through had\n\n607\n00:31:30.818 --> 00:31:31.491\nto do restore.\n\n608\n00:31:31.491 --> 00:31:34.447\nBut the general idea with the two\noptions to restore objects and\n\n609\n00:31:34.447 --> 00:31:36.025\nafter directory from Ntdsutil.\n\n610\n00:31:36.025 --> 00:31:38.310\nUntil we do It's called\nthe normal restore or\n\n611\n00:31:38.310 --> 00:31:41.631\na non-authoritative restore you\nheard referred to either way.\n\n612\n00:31:41.631 --> 00:31:44.999\nBut these days, we're just documenting and\nthen calling it in a normal restore.\n\n613\n00:31:44.999 --> 00:31:49.083\nAnd what the normal non-authoritative\nrestore implies is we're gonna do a poll\n\n614\n00:31:49.083 --> 00:31:49.872\nreplication.\n\n615\n00:31:49.872 --> 00:31:54.174\nAnd what we're gonna do is restore the\nActive Directory schema to a certain point\n\n616\n00:31:54.174 --> 00:31:57.272\nin time prior to whatever corruption or\nissue Occurred and\n\n617\n00:31:57.272 --> 00:32:01.827\nwe're gonna back fill our restoration,\nright, and we're gonna get all the changes\n\n618\n00:32:01.827 --> 00:32:04.697\nthat have occurred right up\nuntil that point in time.\n\n619\n00:32:04.697 --> 00:32:08.605\nNow, that's good if we just had a domain\ncontroller that somehow something happened\n\n620\n00:32:08.605 --> 00:32:11.696\nto we just wanna take the current state,\nreplicate it back and say,\n\n621\n00:32:11.696 --> 00:32:13.726\nokay, you're okay, everything is good.\n\n622\n00:32:13.726 --> 00:32:16.462\nThis is not what we do if we want\nto restore a deleted object.\n\n623\n00:32:16.462 --> 00:32:19.310\nBecause the object deletion\nis gonna be overwritten, or\n\n624\n00:32:19.310 --> 00:32:22.750\nrather the replacement of that object\nfrom an earlier point in time,\n\n625\n00:32:22.750 --> 00:32:26.633\nis gonna be overwritten with the deletion\nobject command that was executed.\n\n626\n00:32:26.633 --> 00:32:30.368\nCuz as we pull the changes from existing\ndomain controllers that are fully up to\n\n627\n00:32:30.368 --> 00:32:32.528\ndate, they say, no, that object's gone.\n\n628\n00:32:32.528 --> 00:32:36.018\nThey're gonna tell us it's gone, and we're\ngonna wind up with it not being there.\n\n629\n00:32:36.018 --> 00:32:37.643\nIt'll be there for five or ten minutes and\n\n630\n00:32:37.643 --> 00:32:40.019\nthen it'll be replicated out\nof the system, essentially.\n\n631\n00:32:40.019 --> 00:32:43.720\nThat's what we call a normal or\nnon-authoritative restore.\n\n632\n00:32:43.720 --> 00:32:47.156\nWe essentially are back filling through\na pull replication into the domain\n\n633\n00:32:47.156 --> 00:32:48.857\ncontroller we brought back online.\n\n634\n00:32:48.857 --> 00:32:52.784\nWe have no say over what goes in, we just\ntake whatever changes have been made in\n\n635\n00:32:52.784 --> 00:32:56.664\nthe system up until that point and we drop\nthem on you and you now are up to date.\n\n636\n00:32:56.664 --> 00:32:59.400\nBut unfortunately, of course,\nif we're restoring an object,\n\n637\n00:32:59.400 --> 00:33:01.500\nit doesn't work because\nthe object disappears.\n\n638\n00:33:01.500 --> 00:33:04.262\nSo instead we have to do what's\ncalled an authoritative restore.\n\n639\n00:33:04.262 --> 00:33:07.401\nThe authoritative restore flips\nthe tables and does it the other way.\n\n640\n00:33:07.401 --> 00:33:12.104\nWe represent the object information in the\nrestoration on the domain controller in\n\n641\n00:33:12.104 --> 00:33:14.132\nquestion as being authoritative.\n\n642\n00:33:14.132 --> 00:33:18.021\nWe are now gonna push knowledge of that\nout, instead of pulling knowledge of\n\n643\n00:33:18.021 --> 00:33:21.727\neverything else in, and because of\nthat we're gonna be able to mark that\n\n644\n00:33:21.727 --> 00:33:25.229\nobject's reintegration into\nthe system as being authoritative.\n\n645\n00:33:25.229 --> 00:33:28.006\nAnd we push the status of that out and\nwe tell everybody else out there,\n\n646\n00:33:28.006 --> 00:33:31.133\nall the other domain controllers, no,\nyou're not supposed to get rid of it.\n\n647\n00:33:31.133 --> 00:33:33.313\nAs a matter of fact,\nyou need a copy of it, here it is.\n\n648\n00:33:33.313 --> 00:33:35.990\nAdd it because what you have is incorrect.\n\n649\n00:33:35.990 --> 00:33:37.358\nAnd that's a different way of doing it.\n\n650\n00:33:37.358 --> 00:33:38.984\nAnd we're now pushing instead of pulling.\n\n651\n00:33:38.984 --> 00:33:42.218\nSo we've always had that option to\ndo this but it is time consuming,\n\n652\n00:33:42.218 --> 00:33:45.253\nit is cumbersome, and\nit is more difficult and more involved.\n\n653\n00:33:45.253 --> 00:33:49.367\nThe use of theActive Directory Recycle Bin\nstreamlines that process dramatically cuz\n\n654\n00:33:49.367 --> 00:33:53.194\nwith the appropriate rights, obviously,\nwe have to have domain admin rights in\n\n655\n00:33:53.194 --> 00:33:57.104\nthe domain we're dealing to be able to\nrestore an object deleted from our domain.\n\n656\n00:33:57.104 --> 00:33:58.211\nYou saw me do that.\n\n657\n00:33:58.211 --> 00:34:01.906\nBut assuming you have rights to ADAC,\nassuming you have rights to go in, and\n\n658\n00:34:01.906 --> 00:34:05.687\nAD Recycle Bin has been enabled, we can\ngo in and do exactly what you saw me do.\n\n659\n00:34:05.687 --> 00:34:08.472\nAnd we can do that as often as necessary\nwithout having to worry about it, so\n\n660\n00:34:08.472 --> 00:34:09.324\njust be aware of that.\n\n661\n00:34:09.324 --> 00:34:11.882\nNow the Active Directory\ndatabase is self-maintaining.\n\n662\n00:34:11.882 --> 00:34:15.891\nEvery 12 hours we go through and\nwe run what's called the garbage\n\n663\n00:34:15.891 --> 00:34:20.697\ncollection store procedure, which cleans\nup all the trash behind the scenes.\n\n664\n00:34:20.697 --> 00:34:23.815\nObjects that have been marked for\ndeletion, objects that have to be removed,\n\n665\n00:34:23.815 --> 00:34:26.334\nobjects that are changed or\nmodified whatever the case may be.\n\n666\n00:34:26.334 --> 00:34:29.072\nAgain, this is something\nthat's gone on for\n\n667\n00:34:29.072 --> 00:34:32.469\n17 years since Windows\n2000 was first launched.\n\n668\n00:34:32.469 --> 00:34:35.996\nSo it removes all deleted objects,\nthe garbage collection task does,\n\n669\n00:34:35.996 --> 00:34:38.418\nthat have outlived their\ntombstone life cycle.\n\n670\n00:34:38.418 --> 00:34:40.493\nMeaning every 12 hours, twice a day,\n\n671\n00:34:40.493 --> 00:34:44.290\nwe check to see if something's\nexpired that 180 day tombstone value.\n\n672\n00:34:44.290 --> 00:34:48.138\nIf it has, we permanently delete\nthe object and we go ahead and\n\n673\n00:34:48.138 --> 00:34:51.912\ndo online defragmentation,\nkind of go behind the scenes and\n\n674\n00:34:51.912 --> 00:34:55.250\ndefragment the ADDS database,\nthe ntds.dit file.\n\n675\n00:34:55.250 --> 00:34:56.287\nSo, as a result,\n\n676\n00:34:56.287 --> 00:35:01.290\ntwice a day we're getting rid of objects\nthat have exceeded the 180 day timeline.\n\n677\n00:35:01.290 --> 00:35:04.584\nSo, while the recycle bin is good and\nit does capture an object,\n\n678\n00:35:04.584 --> 00:35:07.148\nwe're still bound by\nthat 180 day life cycle.\n\n679\n00:35:07.148 --> 00:35:10.755\nIf we don't get rid of it by then,\nthat object will disappear from\n\n680\n00:35:10.755 --> 00:35:15.217\nthe AD Recycle Bin, will be removed by\nthe garbage collection task that runs, or\n\n681\n00:35:15.217 --> 00:35:18.585\nstore procedure that runs every 12 hours,\nso twice a day.\n\n682\n00:35:18.585 --> 00:35:20.468\nSo just wanna make sure\nyou're aware of that.\n\n683\n00:35:20.468 --> 00:35:22.723\nWe can do what I just\nshowed you using ADAC,\n\n684\n00:35:22.723 --> 00:35:25.301\nwe could also use a command\nline tool called LDP.\n\n685\n00:35:25.301 --> 00:35:29.494\nThe LDP tool is a command line tool\nthat lets us go in and restore objects.\n\n686\n00:35:29.494 --> 00:35:31.690\nIt's up to you to decide\nwhich one you wanna use.\n\n687\n00:35:31.690 --> 00:35:33.211\nLDP is an oldie but a goodie.\n\n688\n00:35:33.211 --> 00:35:35.434\nIt's been around forever and a day.\n\n689\n00:35:35.434 --> 00:35:36.992\nLDP.exe, you can run that tool,\n\n690\n00:35:36.992 --> 00:35:39.425\nlook at the help file if\nyou're not familiar with it.\n\n691\n00:35:39.425 --> 00:35:42.993\nWe've often talked about how to do\nthat and to interact with tools and\n\n692\n00:35:42.993 --> 00:35:45.406\nit's just one of those\ntools that you can use.\n\n693\n00:35:45.406 --> 00:35:47.310\nI go through the steps in the show notes,\n\n694\n00:35:47.310 --> 00:35:50.783\nkind of walk you through the logic of\nhow to use LDP if you're interested.\n\n695\n00:35:50.783 --> 00:35:53.740\nWe've talked about how to configure and\nenable the Recycle Bin.\n\n696\n00:35:53.740 --> 00:35:56.472\nSo I showed you that as well or\ntalked about that as well.\n\n697\n00:35:56.472 --> 00:35:59.906\nWhat I do wanna do is just, and give\nme just one second to bring up the part\n\n698\n00:35:59.906 --> 00:36:01.988\nof the show notes I wanna show you for\nthis.\n\n699\n00:36:01.988 --> 00:36:04.138\nSo give me one second cuz I\nhave the wrong text file.\n\n700\n00:36:04.138 --> 00:36:06.342\nThat's the one I want right there.\n\n701\n00:36:06.342 --> 00:36:09.425\nHold on one second,\nI haven't gotten to the parts yet.\n\n702\n00:36:09.425 --> 00:36:12.391\nI just brought the text file in\nthe virtual machine environment we're\n\n703\n00:36:12.391 --> 00:36:13.100\ndemoing off of.\n\n704\n00:36:13.100 --> 00:36:15.167\nI'm trying to say, scratching my\nhead going where are my show notes?\n\n705\n00:36:15.167 --> 00:36:16.635\nWhy do all I see is a grid?\n\n706\n00:36:16.635 --> 00:36:18.532\nBut I was looking at the wrong-\n&gt;&gt; machine?\n\n707\n00:36:18.532 --> 00:36:19.727\n&gt;&gt; Notepad file, yeah, wrong machine.\n\n708\n00:36:19.727 --> 00:36:21.149\nCuz the task bars\nare identical on the bottom,\n\n709\n00:36:21.149 --> 00:36:22.769\nthey look the same if you're\nnot paying attention.\n\n710\n00:36:22.769 --> 00:36:24.667\nAll right, so\nif you just want to join me here,\n\n711\n00:36:24.667 --> 00:36:26.874\nlet me just show you quickly\nwhat the attributes are.\n\n712\n00:36:26.874 --> 00:36:29.377\nCan we go full-screen just so\nI can show you this?\n\n713\n00:36:29.377 --> 00:36:31.364\nI talked about the fact that\nwe enabled the Recycle Bin,\n\n714\n00:36:31.364 --> 00:36:32.430\nI went through that with you.\n\n715\n00:36:32.430 --> 00:36:34.989\nAnd then we obviously have\nto pay attention to that,\n\n716\n00:36:34.989 --> 00:36:38.320\nbut the values that we modified for\nthe Recycle Bin are listed here.\n\n717\n00:36:38.320 --> 00:36:43.335\nThe MSDS-deletedObjectLifetime\nattribute is going to be manipulated.\n\n718\n00:36:43.335 --> 00:36:45.794\nThis determines the deleted\nobject lifetime, right.\n\n719\n00:36:45.794 --> 00:36:48.520\nSo when we use\nthe Active Directory Recycle Bin or\n\n720\n00:36:48.520 --> 00:36:51.846\nthe recycled object specifically,\nthe value of the legacy\n\n721\n00:36:51.846 --> 00:36:56.593\ntombstoneLifetime attribute ultimately\ngets to determine what that lifetime is.\n\n722\n00:36:56.593 --> 00:37:00.994\nAnd the deleted object lifetime attribute\nthere, and the other one that I mentioned,\n\n723\n00:37:00.994 --> 00:37:04.806\nthe recycled object lifetime attribute\nright down here, I explain both.\n\n724\n00:37:04.806 --> 00:37:05.948\nBoth of these are set to null.\n\n725\n00:37:05.948 --> 00:37:07.721\nI talk about this right here.\n\n726\n00:37:07.721 --> 00:37:09.636\nThe value is set to null for both.\n\n727\n00:37:09.636 --> 00:37:15.467\nThe value being set to null means that\nwe default to the standard tombstone\n\n728\n00:37:15.467 --> 00:37:21.410\nobject lifetime, which is 180 days,\nas I mentioned to you by default.\n\n729\n00:37:21.410 --> 00:37:24.253\nAnd because the lifetime\nvalue is 180 days,\n\n730\n00:37:24.253 --> 00:37:28.529\nthat's what we wind up with if we\ndon't manipulate these attributes.\n\n731\n00:37:28.529 --> 00:37:32.327\nAnd there's no reason for you to go in and\ndo that, but hypothetically,\n\n732\n00:37:32.327 --> 00:37:35.517\nif you wanted to you could go in and\nuse PowerShell to do that.\n\n733\n00:37:35.517 --> 00:37:38.777\nI just give you the commands,\nthe syntax down here to do that.\n\n734\n00:37:38.777 --> 00:37:42.950\nSo use PowerShell, let's say in theory\nyou wanted to set this to 205 days for\n\n735\n00:37:42.950 --> 00:37:46.142\ndeleted objects instead of\n180 days by default, right.\n\n736\n00:37:46.142 --> 00:37:51.015\nSo set ADObject, Identity,\nwhatever the specific path would be,\n\n737\n00:37:51.015 --> 00:37:55.987\nobviously you would insert the variables\nhere for your named space.\n\n738\n00:37:55.987 --> 00:38:00.386\nSpecify the partition, and\nyou would then go in here and\n\n739\n00:38:00.386 --> 00:38:04.887\nyou would see, replace at and\nthen tombstonelifetime.\n\n740\n00:38:04.887 --> 00:38:06.797\nWhich is what you would go in and do,\n\n741\n00:38:06.797 --> 00:38:09.750\nthis is the tombstonelifetime\nattribute right here.\n\n742\n00:38:09.750 --> 00:38:13.924\nThat is set to whatever the numerical\nvalue is that you want.\n\n743\n00:38:13.924 --> 00:38:17.804\nSo by default, it's 180 days,\nyou can modify that make it 205.\n\n744\n00:38:17.804 --> 00:38:21.228\nI just randomly chose a number for\npurposes of demonstration,\n\n745\n00:38:21.228 --> 00:38:23.499\nbut you could do whatever you would like.\n\n746\n00:38:23.499 --> 00:38:27.656\nAnd by doing that, you're then able\nto go in and manipulate that value.\n\n747\n00:38:27.656 --> 00:38:30.568\nAnd you can do the same thing for\nthe other value here,\n\n748\n00:38:30.568 --> 00:38:32.270\nthe deleted object lifetime.\n\n749\n00:38:32.270 --> 00:38:36.394\nSo remember, if you don't set both values,\nthey default to null, and\n\n750\n00:38:36.394 --> 00:38:39.166\nnull equals 180 and\none feeds off the other.\n\n751\n00:38:39.166 --> 00:38:43.820\nSo you would have to set both to the same\nnumber to get the achieved desired result,\n\n752\n00:38:43.820 --> 00:38:48.084\nwhich is I want to modify that and\nnot make it 180 days but make it 205.\n\n753\n00:38:48.084 --> 00:38:49.755\nOr whatever number you're looking for.\n\n754\n00:38:49.755 --> 00:38:54.585\nSo, to set the deleted object life\nlifetime to 205 days, again same idea, but\n\n755\n00:38:54.585 --> 00:38:58.995\ninstead of the attribute being referred\nto with the other one, as you saw,\n\n756\n00:38:58.995 --> 00:39:02.713\nthere is tombstoneLifetime,\nMSDS DeletedObjectLifetime.\n\n757\n00:39:02.713 --> 00:39:04.343\nBoth have to be set to 205.\n\n758\n00:39:04.343 --> 00:39:08.322\nThe configuration is the same,\nthe PowerShell cmdlet are the same.\n\n759\n00:39:08.322 --> 00:39:11.926\nThe only thing we're doing is just\nspecifying what attribute we're replacing.\n\n760\n00:39:11.926 --> 00:39:16.387\nAnd once we've done that, we're able\nto go in with no trouble and set it up.\n\n761\n00:39:16.387 --> 00:39:20.005\nAnd then once we've done that, we're\nable to go in and restore as you saw.\n\n762\n00:39:20.005 --> 00:39:24.166\nIt's very simple for us and easy for us\nto go in and restore an object as long as\n\n763\n00:39:24.166 --> 00:39:28.670\nwe haven't exceeded that tombstone and\nor MS deleted object lifetime variable.\n\n764\n00:39:28.670 --> 00:39:31.152\nIn this case, if both are set to 205.\n\n765\n00:39:31.152 --> 00:39:35.927\nIf I did this, my timeout, my tombstone\nlife would be 205 days, not 108,\n\n766\n00:39:35.927 --> 00:39:38.595\nbut as long as we do that,\nthen we're good and\n\n767\n00:39:38.595 --> 00:39:41.634\nwe just simply go back into\nADAC like we suggested.\n\n768\n00:39:41.634 --> 00:39:44.943\nExcept that I timed out, so I'm not\ngonna be able to go back into ADAC but\n\n769\n00:39:44.943 --> 00:39:46.059\nI was going to show you.\n\n770\n00:39:46.059 --> 00:39:48.753\nWe've already seen that,\nthat we would go in and\n\n771\n00:39:48.753 --> 00:39:53.500\nwe would simply find the deleted object in\nthe deleted objects OU, in the container.\n\n772\n00:39:53.500 --> 00:39:56.006\nRight-click and then choose to restore,\nas I showed you.\n\n773\n00:39:56.006 --> 00:39:58.244\nThat's how we would use\nthe Active Directory Recycle Bin.\n\n774\n00:39:58.244 --> 00:40:02.323\n&gt;&gt; Pretty cool, will alleviate some stress\nthat some admins may have about items that\n\n775\n00:40:02.323 --> 00:40:03.728\naccidentally get deleted.\n\n776\n00:40:03.728 --> 00:40:07.625\nWe've seen several different restore type\ncapabilities here within this episode,, so\n\n777\n00:40:07.625 --> 00:40:08.715\nthank you for that Adam.\n\n778\n00:40:08.715 --> 00:40:11.847\nAnd thank you so much for\nbeing with us, but stay tuned,\n\n779\n00:40:11.847 --> 00:40:14.259\nwe have more information headed your way.\n\n780\n00:40:14.259 --> 00:40:15.711\nFor this show I'll go ahead and sign out.\n\n781\n00:40:15.711 --> 00:40:17.089\nI've been your host, Cherokee Boose.\n\n782\n00:40:17.089 --> 00:40:17.997\n&gt;&gt; I'm Adam Gordon.\n\n783\n00:40:17.997 --> 00:40:19.552\n&gt;&gt; See you next time here at ITProTV.\n\n784\n00:40:19.552 --> 00:40:27.303\n[MUSIC]\n\n785\n00:40:27.303 --> 00:40:30.065\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "232676613"
        },
        {
          "description": "In this show, Adam and Cherokee begin by demonstrating how to create a backup and other helpful features such as the accidental deletion prevention option. Adam shows how to use MSConfig.exe to reboot into Restore Mode to demonstrate a normal and authoritative restore.",
          "length": "2903",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-3-maintain_the_ad_ds_pt3-090517.00_48_07_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-3-maintain_the_ad_ds_pt3-090517.00_48_07_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70742/microsoft-server70742-11-1-3-maintain_the_ad_ds_pt3-090517.00_48_07_24.Still001-sm.jpg",
          "title": "Maintain the AD DS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.055 --> 00:00:02.945\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.945 --> 00:00:06.145\n[CROSSTALK]\n\n3\n00:00:06.145 --> 00:00:08.311\n[MUSIC]\n\n4\n00:00:08.311 --> 00:00:12.065\n&gt;&gt; You are watching ITProTV.\n\n5\n00:00:12.065 --> 00:00:15.948\n&gt;&gt; Welcome to Identity with\nWindows Server 2016 series.\n\n6\n00:00:15.948 --> 00:00:17.985\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.985 --> 00:00:22.316\nIn this episode we will continue\ntaking a look how to maintain ADDS.\n\n8\n00:00:22.316 --> 00:00:25.185\nAnd back with us today in the studios,\nwe have Mr. Adam Gordon.\n\n9\n00:00:25.185 --> 00:00:26.572\nThank you for joining us today, Adam.\n\n10\n00:00:26.572 --> 00:00:28.588\n&gt;&gt; Thank you, I'm just stretching,\nexcited about backups.\n\n11\n00:00:28.588 --> 00:00:30.275\n&gt;&gt; Woo, yea.\n\n12\n00:00:30.275 --> 00:00:32.100\n[LAUGH]\n&gt;&gt; Getting ready to do all that heavy\n\n13\n00:00:32.100 --> 00:00:34.124\nlifting we gotta do to\ntalk about this stuff.\n\n14\n00:00:34.124 --> 00:00:36.396\nSo, I'm glad to be here, glad to be back.\n\n15\n00:00:36.396 --> 00:00:39.127\nAlways glad to be spending\ntime in talking with you.\n\n16\n00:00:39.127 --> 00:00:43.664\nWe're going to continue our journey\nthrough the unwieldy and wilderness and\n\n17\n00:00:43.664 --> 00:00:47.233\nwild related events associated\nwith maintaining the ADDS.\n\n18\n00:00:47.233 --> 00:00:50.860\nWe did, in the last couple of episodes,\ntalk about a lot of different aspects.\n\n19\n00:00:50.860 --> 00:00:53.313\nIf you haven't seen those, it'll be\ngood for you to go back take a look.\n\n20\n00:00:53.313 --> 00:00:57.890\nWe spent some time in Ntdsutil\nin both episodes actually.\n\n21\n00:00:57.890 --> 00:01:02.962\nTalked a bit about how to do a snapshot,\ntake a snapshot of the Active Directory,\n\n22\n00:01:02.962 --> 00:01:06.029\nmount that, take a look at it,\nshowed you that.\n\n23\n00:01:06.029 --> 00:01:08.034\nKind of interesting if you\nhaven't done that before.\n\n24\n00:01:08.034 --> 00:01:11.629\nWe talked about the use of\nthe Active Directory Recycle Bin,\n\n25\n00:01:11.629 --> 00:01:14.533\nsomething that Cherokee\nis incredibly fond of.\n\n26\n00:01:14.533 --> 00:01:15.898\n&gt;&gt; [LAUGH].\n&gt;&gt; You saw us configure that.\n\n27\n00:01:15.898 --> 00:01:19.984\nTake a look at that through ADAC and\nsee how to delete and restore an object.\n\n28\n00:01:19.984 --> 00:01:24.844\nTalked about the tombstone thought process\nthere and the end of life for an object,\n\n29\n00:01:24.844 --> 00:01:25.893\n180 days out.\n\n30\n00:01:25.893 --> 00:01:29.869\nAnd how to manipulate that with Powershell\nso we can get around that if we want to\n\n31\n00:01:29.869 --> 00:01:33.315\nextend that to use the AD Recycle Bin\na little bit more effectively.\n\n32\n00:01:33.315 --> 00:01:35.922\nOr, although we didn't talk about it,\nmaybe pull that back in and\n\n33\n00:01:35.922 --> 00:01:38.356\nshorten that thought process,\ncuz we could do it either way.\n\n34\n00:01:38.356 --> 00:01:42.224\nEssentially we can stay at that 180 day\nmarker, extend it out as I showed you, or\n\n35\n00:01:42.224 --> 00:01:44.780\nmake that smaller and\nsay well, maybe only 90 days.\n\n36\n00:01:44.780 --> 00:01:48.145\nCuz maybe we have retention policies some\nkind in the business that we want to\n\n37\n00:01:48.145 --> 00:01:50.316\naddress and\nmake sure we're in alignment with.\n\n38\n00:01:50.316 --> 00:01:51.937\nSo there's all these possibilities.\n\n39\n00:01:51.937 --> 00:01:53.932\nWe went through the logic\nof what you would do there.\n\n40\n00:01:53.932 --> 00:01:58.916\nWe also spoke a little bit about the idea\nof how we can go in and, in general,\n\n41\n00:01:58.916 --> 00:02:04.086\nhow we can maintain the health and\nthought process around Active Directory.\n\n42\n00:02:04.086 --> 00:02:08.364\nTalked about the domain,\ncontroller states, ADDS is started,\n\n43\n00:02:08.364 --> 00:02:12.351\nADDS is stopped, DSRM,\nDirectory Services Restore Mode.\n\n44\n00:02:12.351 --> 00:02:14.777\nWe're gonna take look under\nthe covers at that and\n\n45\n00:02:14.777 --> 00:02:18.196\nin more detail here cuz we're gonna\nfocus in on backups and restores.\n\n46\n00:02:18.196 --> 00:02:22.711\nWe talked about, in the last episode, the\nthought process as just part of a general\n\n47\n00:02:22.711 --> 00:02:26.840\nnarrative associated with Active\nDirectory, of the ability to be able to go\n\n48\n00:02:26.840 --> 00:02:30.402\nin and do either Authoritative or\nNon-Authoritative restore.\n\n49\n00:02:30.402 --> 00:02:33.581\nAnd we're gonna go just take a look at\nthat, we already kind of discussed it\n\n50\n00:02:33.581 --> 00:02:36.518\nCherokee is gonna help me here, and\nhelp us to remember what that is.\n\n51\n00:02:36.518 --> 00:02:38.438\nShe's gonna talk quickly\nabout the difference.\n\n52\n00:02:38.438 --> 00:02:41.089\nShe's been practicing like you\nwouldn't believe off camera, and\n\n53\n00:02:41.089 --> 00:02:42.214\nI'm pretty confident she.\n\n54\n00:02:42.214 --> 00:02:43.601\n&gt;&gt; I have?\n[LAUGH]\n\n55\n00:02:43.601 --> 00:02:44.872\n&gt;&gt; Well you read through it at least\n\n56\n00:02:44.872 --> 00:02:45.489\nonce or twice.\n\n57\n00:02:45.489 --> 00:02:48.109\nPretty confident she's got it\nall straight and ready to go.\n\n58\n00:02:48.109 --> 00:02:49.521\nBut we're going to talk through this.\n\n59\n00:02:49.521 --> 00:02:52.504\nShe's going to help me review the\ndifference between the key characteristics\n\n60\n00:02:52.504 --> 00:02:54.278\nor difference between\nthese two approaches.\n\n61\n00:02:54.278 --> 00:02:56.932\nBut before we get into that let me just\nshow you what we did to kind of set up\n\n62\n00:02:56.932 --> 00:02:57.656\nthe environment.\n\n63\n00:02:57.656 --> 00:03:00.401\nI'll give you quick idea what we're\ngonna do so join me here if you will.\n\n64\n00:03:00.401 --> 00:03:01.820\nWe have PowerShell up and running,\n\n65\n00:03:01.820 --> 00:03:03.772\nthat should hopefully not\nbe a surprise for you.\n\n66\n00:03:03.772 --> 00:03:05.932\nAnd what we did is,\nI went ahead and installed and\n\n67\n00:03:05.932 --> 00:03:08.369\ncreated a secondary domain\ncontroller in the domain.\n\n68\n00:03:08.369 --> 00:03:13.451\nSo I've done all that, restarted, used\nthe Add-WindowsFeature AD Domain Services\n\n69\n00:03:13.451 --> 00:03:15.900\ninstead of Windows Server Backup there.\n\n70\n00:03:15.900 --> 00:03:19.570\nAnd then include Management Tools,\nand then we went ahead and\n\n71\n00:03:19.570 --> 00:03:21.265\nconfigured the directory,\n\n72\n00:03:21.265 --> 00:03:25.655\ninstall ADDSDomainController would\nhave been the commandlet for that.\n\n73\n00:03:25.655 --> 00:03:29.120\nSpecified all the information, so\njust got all that out of the way, so\n\n74\n00:03:29.120 --> 00:03:32.733\nthis machine we're working on is now\na domain controller in the domain.\n\n75\n00:03:32.733 --> 00:03:36.491\nWe then had gone ahead, or I went ahead\nusing PowerShell after the restart,\n\n76\n00:03:36.491 --> 00:03:38.320\nAdd-WindowsFeature commandlet.\n\n77\n00:03:38.320 --> 00:03:41.826\nThis time Windows Server Backup, and\nthen I'll be including Management Tools.\n\n78\n00:03:41.826 --> 00:03:46.224\nSo we've installed and have configured\nthe Windows Server Backup feature.\n\n79\n00:03:46.224 --> 00:03:49.606\nThat way we can run a System State backup,\nwhich I've already done and\n\n80\n00:03:49.606 --> 00:03:50.992\nI'll show you what that is.\n\n81\n00:03:50.992 --> 00:03:53.733\nAnd then we're gonna use that\nto drive our restore process.\n\n82\n00:03:53.733 --> 00:03:56.581\nSo just wanna make sure we're\ncomfortable with where that comes from.\n\n83\n00:03:56.581 --> 00:03:59.694\nSo we've done all that, and\nactually, let me close out\n\n84\n00:03:59.694 --> 00:04:04.213\nof that cuz we're gonna have to restart\nthis machine here in a couple of minutes.\n\n85\n00:04:04.213 --> 00:04:05.779\nWe have our Active Directory up and\n\n86\n00:04:05.779 --> 00:04:08.106\nrunning, we'll get back\nto that in just a minute.\n\n87\n00:04:08.106 --> 00:04:11.704\nBut what I did is I then went\ninto the Server Manager, and\n\n88\n00:04:11.704 --> 00:04:15.456\nin the Server Manager just went to Tools,\nas we always do,\n\n89\n00:04:15.456 --> 00:04:20.143\nand came down here all the way to\nthe bottom, and Windows Server Backup.\n\n90\n00:04:20.143 --> 00:04:23.957\nI know it's hard to see cuz it's behind\nme, but if you, there we go, look at that,\n\n91\n00:04:23.957 --> 00:04:26.519\nyou'll see at the bottom of\nthe list under PowerShell,\n\n92\n00:04:26.519 --> 00:04:28.224\nWindows Server Backup now appears.\n\n93\n00:04:28.224 --> 00:04:33.853\nSo I went ahead and just clicked on that,\nand as a result of selecting that tool,\n\n94\n00:04:33.853 --> 00:04:38.066\nwe now have our Windows Server Backup\nitem, its opened up.\n\n95\n00:04:38.066 --> 00:04:42.663\nNow I've gone ahead and highlighted Local\nBackup here, right clicked and chosen.\n\n96\n00:04:42.663 --> 00:04:44.501\nBackup once because I had not done,\n\n97\n00:04:44.501 --> 00:04:47.931\nas you will not have either if you're\njust setting this up and doing\n\n98\n00:04:47.931 --> 00:04:51.990\nit the first time, had not done or do not\nhave a System State backup available.\n\n99\n00:04:51.990 --> 00:04:55.525\nNow I have in the interim since\nyou have joined us because this\n\n100\n00:04:55.525 --> 00:04:59.905\ntook about ten minutes, so I did it\nbefore I came on camera for the episode.\n\n101\n00:04:59.905 --> 00:05:03.051\nI've gone ahead and you can see,\nsuccessfully, actually created a backup.\n\n102\n00:05:03.051 --> 00:05:07.043\nI'm gonna show you what to do but it takes\na while to run this so I figured it wasn't\n\n103\n00:05:07.043 --> 00:05:11.188\nworth starting it, having to cut away,\ncome back, wait the 10 or 15 minuets.\n\n104\n00:05:11.188 --> 00:05:12.771\nWe'll just have it ready ahead of time and\n\n105\n00:05:12.771 --> 00:05:14.772\njust kinda walk you through\nthe logic of what we did.\n\n106\n00:05:14.772 --> 00:05:18.013\nSome of these things you have to see,\nothers you can just take on faith and\n\n107\n00:05:18.013 --> 00:05:21.322\njust assume its gonna work a certain\nway and you'll be fine knowing that.\n\n108\n00:05:21.322 --> 00:05:24.564\nI'm gonna show you how to walk\nthrough the wizard right now, but\n\n109\n00:05:24.564 --> 00:05:26.197\nwe did go ahead and did run that.\n\n110\n00:05:26.197 --> 00:05:28.654\nSo as a result, I do have this available.\n\n111\n00:05:28.654 --> 00:05:31.297\nLet me just go ahead,\nlet me just open the tool back up,\n\n112\n00:05:31.297 --> 00:05:35.210\nI'll just refresh the interface real quick\nbefore we go through and take a look.\n\n113\n00:05:35.210 --> 00:05:38.602\nSo Windows Server Backup,\njust open that back up, and\n\n114\n00:05:38.602 --> 00:05:42.154\nwe have got that there successful,\neverything is good.\n\n115\n00:05:42.154 --> 00:05:45.851\nAll I did was right click,\nBackup once, we're gonna back and\n\n116\n00:05:45.851 --> 00:05:48.279\nuse that Recover option in a little bit.\n\n117\n00:05:48.279 --> 00:05:52.459\nI went ahead and chose the default here,\ndifferent options, I'm running this backup\n\n118\n00:05:52.459 --> 00:05:55.568\nagainst a domain controller\nlocally on the domain controller.\n\n119\n00:05:55.568 --> 00:05:59.309\nI'm gonna grab the System State and\nI dropped it into the D drive,\n\n120\n00:05:59.309 --> 00:06:03.066\njust a directory that I have there,\nit's got 40 gigs of space.\n\n121\n00:06:03.066 --> 00:06:05.232\nI'll show you what the backup\nlooks like in a minute.\n\n122\n00:06:05.232 --> 00:06:08.936\nSo, I'm not gonna do a full server backup,\nbecause that backs up everything,\n\n123\n00:06:08.936 --> 00:06:12.439\nI'm gonna choose Custom, cuz we wanna\nbe able to do a System State Backup.\n\n124\n00:06:12.439 --> 00:06:17.256\nAnd I clicked Next, we have to wait for\nthe items to come up here so\n\n125\n00:06:17.256 --> 00:06:20.390\nwe just have to wait for this to populate.\n\n126\n00:06:20.390 --> 00:06:25.612\nAnd once we get that to come up, sometimes\nit takes a second to populate the list.\n\n127\n00:06:25.612 --> 00:06:28.647\nSo once we have that,\nthen we'll be able to go through, and\n\n128\n00:06:28.647 --> 00:06:32.656\nin the meantime let me just show you what\nwe'll actually be the result of this,\n\n129\n00:06:32.656 --> 00:06:34.686\nwhich is I ran the System State Backup.\n\n130\n00:06:34.686 --> 00:06:38.536\nYou could see there we do have the Windows\nImage backup created as a result of\n\n131\n00:06:38.536 --> 00:06:39.769\nrunning System State.\n\n132\n00:06:39.769 --> 00:06:44.051\nI put it on the D drive here, so I just\nmounted another volume to make enough\n\n133\n00:06:44.051 --> 00:06:47.311\nroom cuz the C drive only has\nabout 8 gigs of free space.\n\n134\n00:06:47.311 --> 00:06:49.888\nThe backup is just over eight gigs for\nthe System State, so\n\n135\n00:06:49.888 --> 00:06:51.421\nit really wouldn't have worked.\n\n136\n00:06:51.421 --> 00:06:54.384\nSo I just created a new directory or\nnew drive rather and\n\n137\n00:06:54.384 --> 00:06:58.004\nthen Windows Image back up is\nthe generic folder that's created.\n\n138\n00:06:58.004 --> 00:07:01.201\nThe named instance for\nthe machine in question PlavSA01,\n\n139\n00:07:01.201 --> 00:07:02.900\nthat's the name of my machine.\n\n140\n00:07:02.900 --> 00:07:06.025\nI do have some directories and\nfiles that get created.\n\n141\n00:07:06.025 --> 00:07:08.507\nI have a Log directory,\ngot the various log or\n\n142\n00:07:08.507 --> 00:07:12.636\nlogs that are gonna tell us what went on,\nso always important to have that.\n\n143\n00:07:12.636 --> 00:07:16.834\nI have my catalog where I have\na backup of the Global Catalog and\n\n144\n00:07:16.834 --> 00:07:19.191\nthe Global Catalog information.\n\n145\n00:07:19.191 --> 00:07:23.399\nSo I have the Global Catalog information\nbecause this is a domain controller,\n\n146\n00:07:23.399 --> 00:07:25.066\nit is a Global Catalog Server.\n\n147\n00:07:25.066 --> 00:07:28.803\nI do have a metadata cache folder,\nthere's nothing in it,\n\n148\n00:07:28.803 --> 00:07:30.985\nbut I do have that folder created.\n\n149\n00:07:30.985 --> 00:07:33.897\nAnd then the guts of the backup\nwhere I actually want to go and\n\n150\n00:07:33.897 --> 00:07:36.528\nsee the data is sitting here,\njust over 8 gigs of it.\n\n151\n00:07:36.528 --> 00:07:39.975\nI do have a hard drive\nimage that is created for\n\n152\n00:07:39.975 --> 00:07:45.989\nthe System State Backup that is just over\n8 gigs in size, as you can see there.\n\n153\n00:07:45.989 --> 00:07:48.747\nI then have bunch of XML documents.\n\n154\n00:07:48.747 --> 00:07:53.724\nA lot of them just have this very long\nnew identifier extension associated\n\n155\n00:07:53.724 --> 00:07:58.712\nwith them that are gonna give me\ninformation about aspects of the backup.\n\n156\n00:07:58.712 --> 00:08:00.476\nAs it's running these files are created.\n\n157\n00:08:00.476 --> 00:08:04.134\nAnd you can see there's one for\nregistry excludes, for components,\n\n158\n00:08:04.134 --> 00:08:07.234\nadditional files,\nyou can kinda see what some of them are.\n\n159\n00:08:07.234 --> 00:08:10.005\nThe backup specs itself,\nand then a bunch of files\n\n160\n00:08:10.005 --> 00:08:14.034\nthat just keep track of various things\nthat were done during the backup.\n\n161\n00:08:14.034 --> 00:08:16.106\nSo all of that is part of what happens,\nbut\n\n162\n00:08:16.106 --> 00:08:19.150\nthe system stayed information\nthe part that we're really.\n\n163\n00:08:19.150 --> 00:08:22.742\nThinking of and wanna have captured is all\ncontained on this hard drive image file.\n\n164\n00:08:22.742 --> 00:08:27.246\nAll right, that's what we are seeing.\n\n165\n00:08:27.246 --> 00:08:32.395\nSo all of that was done as part of this\nand, let's go back here real quick.\n\n166\n00:08:32.395 --> 00:08:33.890\nLet's get that to go in there.\n\n167\n00:08:33.890 --> 00:08:37.664\nAlright and so add items,\nwhat are we gonna add.\n\n168\n00:08:37.664 --> 00:08:39.399\nRight here we have a choice,\nyou have a little pick list.\n\n169\n00:08:39.399 --> 00:08:43.330\nAnd all I did was come in, do system\nstate, which you wanna make sure if you're\n\n170\n00:08:43.330 --> 00:08:45.775\nnot paying attention kinda\nglancing quickly and\n\n171\n00:08:45.775 --> 00:08:48.296\nyou're not really familiar\nwith the interface.\n\n172\n00:08:48.296 --> 00:08:52.852\nYou may inadvertently choose\nsystem reserve without realizing.\n\n173\n00:08:52.852 --> 00:08:54.163\nCuz they both say system, but\nyou've gotta pay attention.\n\n174\n00:08:54.163 --> 00:08:58.146\nSystem reserve is not what we want here.\n\n175\n00:08:58.146 --> 00:09:00.571\nWe wanna do system state,\nwhich has little kind of a gear or\n\n176\n00:09:00.571 --> 00:09:01.970\ncircle icon associated with it.\n\n177\n00:09:01.970 --> 00:09:06.560\nSo you can see we just select this\nitem right up here, check it off.\n\n178\n00:09:06.560 --> 00:09:08.564\nWe then go ahead, we add that in.\n\n179\n00:09:08.564 --> 00:09:11.242\nAnd then, click next,\nspecify our destination,\n\n180\n00:09:11.242 --> 00:09:15.352\neither remote or over the network,\nbecause we don't have the capability with\n\n181\n00:09:15.352 --> 00:09:18.925\nWindows backup to backup over the network,\nwe can backup locally.\n\n182\n00:09:18.925 --> 00:09:19.865\nIn my case, we did it locally.\n\n183\n00:09:19.865 --> 00:09:22.490\nSo you could go to wherever you want.\n\n184\n00:09:22.490 --> 00:09:27.532\nSelect backup destination, how much time,\nor rather how much space do we have, etc.\n\n185\n00:09:27.532 --> 00:09:28.066\nIt's then gonna go ahead,\nand it's gonna run.\n\n186\n00:09:28.066 --> 00:09:32.196\nI mentioned this in the last episode when\nwe were talking about snapshots a little\n\n187\n00:09:32.196 --> 00:09:33.424\nbit, if you remember.\n\n188\n00:09:33.424 --> 00:09:34.607\n&gt;&gt; The volume shadow.\n&gt;&gt; We explained the difference\n\n189\n00:09:34.607 --> 00:09:35.365\nof volume shadow.\n\n190\n00:09:35.365 --> 00:09:39.569\nService for snap shotting you can see\nthe VSS copy backup will be used.\n\n191\n00:09:39.569 --> 00:09:43.902\nThat's the standard backup interface\nthat is used not just by Microsoft but\n\n192\n00:09:43.902 --> 00:09:48.655\neverybody on the planet pretty much uses\nvolume shadow copy service at this point.\n\n193\n00:09:48.655 --> 00:09:52.042\nTo drive their backups,\nit's pretty standard thought process so\n\n194\n00:09:52.042 --> 00:09:52.957\nwe would do this.\n\n195\n00:09:52.957 --> 00:09:57.446\nThis takes and ours is small in the demo\nenvironment but it took about ten minutes\n\n196\n00:09:57.446 --> 00:10:01.282\non average to load all the files,\nkinda go out, gather them all up.\n\n197\n00:10:01.282 --> 00:10:02.306\nAnd then write them.\n\n198\n00:10:02.306 --> 00:10:06.955\nSo, if you have a larger AD, which you\nvery well may do, it could take a while,\n\n199\n00:10:06.955 --> 00:10:08.724\njust so you are aware of that.\n\n200\n00:10:08.724 --> 00:10:09.640\nBut, we are kind of\nshortcutting that process.\n\n201\n00:10:09.640 --> 00:10:11.265\nWe've done that already.\n\n202\n00:10:11.265 --> 00:10:12.500\nI would hit backup, it would run.\n\n203\n00:10:12.500 --> 00:10:13.948\nWe're not going to bother with that.\n\n204\n00:10:13.948 --> 00:10:16.603\nWe'll just assume it has run successfully.\n\n205\n00:10:16.603 --> 00:10:18.439\nAnd it has, and\nwe could see evidence of that here.\n\n206\n00:10:18.439 --> 00:10:22.194\nWe can come down here see information\nabout the backups, successful,\n\n207\n00:10:22.194 --> 00:10:25.333\nview details, the backup available,\nthat kind of thing.\n\n208\n00:10:25.333 --> 00:10:29.593\nAnd so we could see information\nabout it when it was done.\n\n209\n00:10:29.593 --> 00:10:33.280\nIt's almost 8 gigs in size as you can see,\nand just see a general information,\n\n210\n00:10:33.280 --> 00:10:36.416\nincluding a list of all the backed\nup files, which is just looking at\n\n211\n00:10:36.416 --> 00:10:39.630\none of the log files and seeing all\nthe files that have been backed up.\n\n212\n00:10:39.630 --> 00:10:41.401\nSo if you want to get\na record of all that,\n\n213\n00:10:41.401 --> 00:10:43.435\nyou could certainly see\nas I scroll down here,\n\n214\n00:10:43.435 --> 00:10:46.581\nall of the different information\nthat's part of that backup, right?\n\n215\n00:10:46.581 --> 00:10:48.964\nSo, all that is there.\n\n216\n00:10:48.964 --> 00:10:51.663\nSo, we have all that.\nSo, let's assume we've done that,\n\n217\n00:10:51.663 --> 00:10:52.855\nthat's all good.\n\n218\n00:10:52.855 --> 00:10:55.530\nSo you've seen how we will\ncreate the system state backup,\n\n219\n00:10:55.530 --> 00:10:56.661\nthat part is important.\n\n220\n00:10:56.661 --> 00:10:58.565\nThen, what I did to get ready for\n\n221\n00:10:58.565 --> 00:11:03.365\ndoing some restore activities as I have to\ngo in and remove something because if we\n\n222\n00:11:03.365 --> 00:11:07.973\ndon't remove anything then why on earth\nwould we bother restoring, right?\n\n223\n00:11:07.973 --> 00:11:11.872\nSo, I've gone in and I've used a little\ntrick that Cherokee mentioned in the last\n\n224\n00:11:11.872 --> 00:11:13.524\nshow, last episode, actually.\n\n225\n00:11:13.524 --> 00:11:17.327\nShe asked about it,\nwhen we were talking about snapshots and\n\n226\n00:11:17.327 --> 00:11:22.097\nthat I deleted a user account, the same\nuser account I deleted here as well,\n\n227\n00:11:22.097 --> 00:11:24.279\nwhich was the Elizabeth account.\n\n228\n00:11:24.279 --> 00:11:28.227\nI went in an just removed it again\nfrom the same OU, I also removed,\n\n229\n00:11:28.227 --> 00:11:32.314\nsome of you may be used to seeing\nan APAC OU at the very top of that list,\n\n230\n00:11:32.314 --> 00:11:33.881\nI removed that OU as well.\n\n231\n00:11:33.881 --> 00:11:35.555\nAnd so I removed an OU, a sub OU,\n\n232\n00:11:35.555 --> 00:11:39.903\nbecause it was nested along with some user\naccounts, and a separate user account.\n\n233\n00:11:39.903 --> 00:11:44.013\nAnd at one point Cherokee asked when\nyou were removing that user account did\n\n234\n00:11:44.013 --> 00:11:48.202\nyou remove or change the attribute for\nprevent accidental deletion right?\n\n235\n00:11:48.202 --> 00:11:51.606\nAnd she'd asked about that but\nI didn't really go back and address it or\n\n236\n00:11:51.606 --> 00:11:52.189\nanswer it.\n\n237\n00:11:52.189 --> 00:11:54.183\nI just said no not really.\n\n238\n00:11:54.183 --> 00:11:57.179\nHere's kind of what we did, but\nI didn't really get into the specifics.\n\n239\n00:11:57.179 --> 00:11:59.475\nSo I just want to remind you of\nwhat Cherokee was talking about.\n\n240\n00:11:59.475 --> 00:12:02.807\nIt's really important to think about this,\nright?\n\n241\n00:12:02.807 --> 00:12:05.716\nSo let's say I wanted to go and\ndelete an OU, any OU here.\n\n242\n00:12:05.716 --> 00:12:07.910\nLet's just say hypothetically\nNorth America.\n\n243\n00:12:07.910 --> 00:12:10.482\nRight?\nAnd I right-click as the administrator and\n\n244\n00:12:10.482 --> 00:12:12.658\nI go Delete, thinking okay, I can do that.\n\n245\n00:12:12.658 --> 00:12:16.167\nAre you sure you want to delete this so\nyou name North America.\n\n246\n00:12:16.167 --> 00:12:19.514\nI notice, I get almost immediately\nan errors that says by the way, or\n\n247\n00:12:19.514 --> 00:12:20.979\nthis is the warning, right?\n\n248\n00:12:20.979 --> 00:12:25.103\nSays by the way, you don't have sufficient\nprivileges to delete this, so this object\n\n249\n00:12:25.103 --> 00:12:29.134\nis protected from accidental deletion,\nwhich is what Cherokee was talking about.\n\n250\n00:12:29.134 --> 00:12:33.443\nAnd so in order to delete that set of\nnested OUs what I had to do was go to\n\n251\n00:12:33.443 --> 00:12:33.985\nthe OU.\n\n252\n00:12:33.985 --> 00:12:35.232\nOne at a time.\n\n253\n00:12:35.232 --> 00:12:39.351\nGo to Properties.\nGo to the Object Tab.\n\n254\n00:12:39.351 --> 00:12:42.333\nI turned on Advanced Features in\nthe View by the way, just so you know.\n\n255\n00:12:42.333 --> 00:12:42.973\n&gt;&gt; I was going to say, yeah.\n\n256\n00:12:42.973 --> 00:12:43.857\nCuz I was looking for that.\n\n257\n00:12:43.857 --> 00:12:45.577\n&gt;&gt; Otherwise it doesn't show up.\n\n258\n00:12:45.577 --> 00:12:47.552\nYou could be looking all day,\nit won't be there. &gt;&gt; Where did it go?\n\n259\n00:12:47.552 --> 00:12:48.594\n&gt;&gt; But I did turn on under View,\n\n260\n00:12:48.594 --> 00:12:50.473\nI did turn on Advanced Features,\njust so you know.\n\n261\n00:12:50.473 --> 00:12:53.102\nYou should be able to tell by\nthe way just by looking over here,\n\n262\n00:12:53.102 --> 00:12:56.251\nbecause you could see some OUs that\nwould not normally be available to me.\n\n263\n00:12:56.251 --> 00:13:00.163\nThings like the system OU, the program\ndata, container rather I should say,\n\n264\n00:13:00.163 --> 00:13:03.542\nsystem container, program data container,\nlost and found keys,\n\n265\n00:13:03.542 --> 00:13:05.161\nforeign security principles.\n\n266\n00:13:05.161 --> 00:13:10.083\nThose are container objects that don't\nexist unless we or rather unmask them,\n\n267\n00:13:10.083 --> 00:13:10.602\nright?\n\n268\n00:13:10.602 --> 00:13:14.050\nThe filter is removed by using\nthe add features, and the view,\n\n269\n00:13:14.050 --> 00:13:17.252\nadvanced features to show them\nis what I was trying to say.\n\n270\n00:13:17.252 --> 00:13:21.972\nSo I went in and I unchecked this box\nnow mistake people often make, right?\n\n271\n00:13:21.972 --> 00:13:26.401\nThey'll do this right here,\nNorth America okay click apply click okay.\n\n272\n00:13:26.401 --> 00:13:30.663\nAnd they'll come back here notice\nthere is a nested OU here,\n\n273\n00:13:30.663 --> 00:13:35.103\noperations is underneath here and\nthey will do the following.\n\n274\n00:13:35.103 --> 00:13:39.453\nAnd we'll get that which is fine, that's\nwhat we expect to get object North America\n\n275\n00:13:39.453 --> 00:13:43.331\ncontains other objects, are you sure\nyou wanna delete all those objects?\n\n276\n00:13:43.331 --> 00:13:47.361\nYes, I do and we still get that\nbecause I have permission on the root,\n\n277\n00:13:47.361 --> 00:13:50.222\non the parent container\nin this case in America.\n\n278\n00:13:50.222 --> 00:13:53.677\nI don't have the same rights to\noperations to sub nested OU,\n\n279\n00:13:53.677 --> 00:13:57.745\nI have not gonna unchecked prevents\nfrom accidental deletion on both,\n\n280\n00:13:57.745 --> 00:14:01.228\nwithout doing that,\nyou can't delete a nested hierarchy.\n\n281\n00:14:01.228 --> 00:14:04.800\nCuz this is not an inherited attribute,\nmuch like many are,\n\n282\n00:14:04.800 --> 00:14:08.442\nthis is set per object, and\nthis is not bound by inheritance,\n\n283\n00:14:08.442 --> 00:14:11.123\nwe set this individually\non every OU as we go.\n\n284\n00:14:11.123 --> 00:14:14.586\nWhich means you have to unset it on every\none if you wannna delete a hierarchy that\n\n285\n00:14:14.586 --> 00:14:15.112\nis nested.\n\n286\n00:14:15.112 --> 00:14:18.854\nSo you just have to make sure that you're\nthinking about the logic of this, but\n\n287\n00:14:18.854 --> 00:14:21.861\nCherokee brought up a really\ninteresting and very valuable and\n\n288\n00:14:21.861 --> 00:14:24.151\nimportant point as she\nwas talking about this.\n\n289\n00:14:24.151 --> 00:14:27.445\nWe just really didn't go into the detail\nof it, but I thought it was better served\n\n290\n00:14:27.445 --> 00:14:30.367\nin this conversation since we're\ntalking about back ups and restore.\n\n291\n00:14:30.367 --> 00:14:32.233\nThis is the perfect place\nto remind you of this.\n\n292\n00:14:32.233 --> 00:14:34.770\nWe've talked about this in one\nof our early episodes way back\n\n293\n00:14:34.770 --> 00:14:35.964\nwhen we talked about ADDS and\n\n294\n00:14:35.964 --> 00:14:39.166\nkinda the whole structure of the back\nof the very first episodes that we did.\n\n295\n00:14:39.166 --> 00:14:41.589\nWe went through the slides and\nexplained it to you but,\n\n296\n00:14:41.589 --> 00:14:45.185\nit's always good to remind you of that and\nto make sure you're familiar with it.\n\n297\n00:14:45.185 --> 00:14:48.783\nSo, I appreciate you bringing it up in the\nlast episode because it actually is really\n\n298\n00:14:48.783 --> 00:14:51.490\nvaluable piece of information for\nus to focus on and remember.\n\n299\n00:14:51.490 --> 00:14:54.220\nAll right so we've gone and just kind\nof thought through the logic of that.\n\n300\n00:14:54.220 --> 00:14:59.938\nI've gone and I've deleted the nested\nhierarchy of OUs the APAC beneath it.\n\n301\n00:14:59.938 --> 00:15:02.849\nI've deleted one of the user objects,\nI was able to remove that as well.\n\n302\n00:15:02.849 --> 00:15:04.546\nI've done some damage in there so\n\n303\n00:15:04.546 --> 00:15:07.407\nnow we're gonna talk about\nhow we're going in a fix it.\n\n304\n00:15:07.407 --> 00:15:09.578\nThat's the next stop on\nour thought process train.\n\n305\n00:15:09.578 --> 00:15:11.350\nSo let me just clean up here.\n\n306\n00:15:11.350 --> 00:15:15.103\nJust close down the backup interface.\n\n307\n00:15:15.103 --> 00:15:15.966\nGet rid of Active Directory users and\ncomputers.\n\n308\n00:15:15.966 --> 00:15:19.218\nI'm gonna have to restart this\nmachine in just a minute.\n\n309\n00:15:19.218 --> 00:15:21.166\nSo just a little administrative hygiene.\n\n310\n00:15:21.166 --> 00:15:22.536\nMaking sure everything is tidied up.\n\n311\n00:15:22.536 --> 00:15:25.734\nWe're gonna go in and\nuse a tool that is very important,\n\n312\n00:15:25.734 --> 00:15:29.421\none that people often overlook and\ndon't spend a lot of time on.\n\n313\n00:15:29.421 --> 00:15:30.029\nI'm going to the run line.\n\n314\n00:15:30.029 --> 00:15:31.910\nGonna type ms config.\n\n315\n00:15:31.910 --> 00:15:34.986\nAn oldy, and an oldy, but a goody.\n\n316\n00:15:34.986 --> 00:15:37.088\n&gt;&gt; [LAUGH]\n&gt;&gt; And when we go in and we take a look,\n\n317\n00:15:37.088 --> 00:15:40.071\nif you've never been into the system\nconfiguration tool, you may or\n\n318\n00:15:40.071 --> 00:15:40.695\nmay not have.\n\n319\n00:15:40.695 --> 00:15:45.110\nYou may remember MS info, MS info 32,\nwhich is not the same thing as system\n\n320\n00:15:45.110 --> 00:15:48.011\nconfig, although people\noften confuse the two.\n\n321\n00:15:48.011 --> 00:15:51.223\nBut this is where we go to change\nthe boot sequence of the system,\n\n322\n00:15:51.223 --> 00:15:53.556\nor parameters around how\nthe system boots up.\n\n323\n00:15:53.556 --> 00:15:57.058\nAnd so we are gonna go to our boot tap,\nwe are gonna go ahead and\n\n324\n00:15:57.058 --> 00:16:00.648\nwe are going to be able to go and\nspecify we wanna use safe boot.\n\n325\n00:16:00.648 --> 00:16:03.811\nSo we're gonna specify\nthe safe boot option here, and\n\n326\n00:16:03.811 --> 00:16:07.935\none of those is Active Directory Repair,\nwhich is what I call the DSRM,\n\n327\n00:16:07.935 --> 00:16:10.018\nDirectory Services Restore Mode.\n\n328\n00:16:10.018 --> 00:16:13.885\nAnd so we go to safe boot,\nchange this to Active Directory Repair.\n\n329\n00:16:13.885 --> 00:16:18.169\nBecause now what this is gonna do is\nrestart the machine for us in safe mode,\n\n330\n00:16:18.169 --> 00:16:21.786\nforce it to go into DSRM, or\nDirectory Services Restore Mode.\n\n331\n00:16:21.786 --> 00:16:25.968\nThe active directory repair capability\nwill then be able to go ahead and\n\n332\n00:16:25.968 --> 00:16:29.186\naccess the Windows Server Backup\nonce we come back up.\n\n333\n00:16:29.186 --> 00:16:33.563\nWe'll be able to use that system state\nbackup, and we'll be able to do a restore.\n\n334\n00:16:33.563 --> 00:16:35.774\nAnd then we can also load NTDS util,\n\n335\n00:16:35.774 --> 00:16:39.556\nwe'll do what's called\nthe non-authoritative restore.\n\n336\n00:16:39.556 --> 00:16:43.252\nAnd then we'll be able to use NTDS util,\nour favorite command line tool.\n\n337\n00:16:43.252 --> 00:16:46.218\nAnd we'll be able to an authoritative\nrestore by going in and\n\n338\n00:16:46.218 --> 00:16:49.014\ndoing the authoritative\nrestore from within NTDS util,\n\n339\n00:16:49.014 --> 00:16:51.535\nonce we've booted into\nActive Directory repair.\n\n340\n00:16:51.535 --> 00:16:55.624\nThe reason for this is that the ADDS\nservice has to be turned off,\n\n341\n00:16:55.624 --> 00:16:59.049\nwe cannot be actively using\nADDS when we do a restore.\n\n342\n00:16:59.049 --> 00:17:03.584\nAnd when we boot to safe mode,\nthat allows the system to come up but\n\n343\n00:17:03.584 --> 00:17:05.243\nkeeps ADDS turned off.\n\n344\n00:17:05.243 --> 00:17:09.324\nThen we're gonna see that if we try to go\nin right now, launch NTDS util, go in and\n\n345\n00:17:09.324 --> 00:17:12.284\nlaunch authoritative restore,\nit'll give us an error.\n\n346\n00:17:12.284 --> 00:17:18.120\nSaying, hey, that's really cool, but guess\nwhat, NTDS util cannot work with ADDS\n\n347\n00:17:18.120 --> 00:17:23.739\nengaged, and either turn off ADDS and come\non back, or we can't do what you want.\n\n348\n00:17:23.739 --> 00:17:26.617\nAnd so we're gonna see how that's gonna\nplay out when we actually reboot here.\n\n349\n00:17:26.617 --> 00:17:28.758\nSo I'm gonna go ahead and set this up, so\n\n350\n00:17:28.758 --> 00:17:32.234\nthis forces the reboot to occur in\nthe way that we would like it to.\n\n351\n00:17:32.234 --> 00:17:36.014\nSo otherwise, we're gonna sit there and\ntry to hit F8, try to get into safe mode,\n\n352\n00:17:36.014 --> 00:17:37.914\nand you've probably had that pleasure.\n\n353\n00:17:37.914 --> 00:17:40.217\nAnd that can be a little\nchallenging sometimes,\n\n354\n00:17:40.217 --> 00:17:43.027\nespecially in a virtual machine\nwhere we're consoled in,\n\n355\n00:17:43.027 --> 00:17:46.020\nand we don't have the ability\nto see it when it's starting up.\n\n356\n00:17:46.020 --> 00:17:49.528\nWe can't ever get to that side of the\nmachine until it's actually got a GUI with\n\n357\n00:17:49.528 --> 00:17:50.819\nour particular interface.\n\n358\n00:17:50.819 --> 00:17:54.098\nAnd so there's no way for us to do it\nother than this, so this is there for\n\n359\n00:17:54.098 --> 00:17:56.744\nus to leverage,\nthat's why we're gonna do it this way.\n\n360\n00:17:56.744 --> 00:17:59.431\n&gt;&gt; I always feel strange, like when\nyou're going into that boot menu, and\n\n361\n00:17:59.431 --> 00:18:02.717\nyou're pressing it like a frantic person,\nand it's like, what are people thinking?\n\n362\n00:18:02.717 --> 00:18:04.113\n&gt;&gt; Yeah [LAUGH].\n\n363\n00:18:04.113 --> 00:18:05.454\n&gt;&gt; She didn't take her medicine today,\nor something.\n\n364\n00:18:05.454 --> 00:18:07.555\n&gt;&gt; Right [LAUGH].\n&gt;&gt; All right, so we're going to go ahead,\n\n365\n00:18:07.555 --> 00:18:10.882\nwe're going to obviously instantiate this\nchange here, I'm going to hit Apply,\n\n366\n00:18:10.882 --> 00:18:11.747\nI'm going to hit OK.\n\n367\n00:18:11.747 --> 00:18:14.480\nSo, we've got that notice,\nby the way, and if you can't see,\n\n368\n00:18:14.480 --> 00:18:16.817\nwe can just go full screen\nreal quickly just so you can.\n\n369\n00:18:16.817 --> 00:18:18.328\nBut it says, hey, on system config,\n\n370\n00:18:18.328 --> 00:18:20.803\nyou may need to restart your\ncomputer to apply these changes.\n\n371\n00:18:20.803 --> 00:18:24.197\nBefore restarting, save any and\nall files, do you want to restart, so\n\n372\n00:18:24.197 --> 00:18:26.697\nwe're prompted to at this\npoint apply the restart.\n\n373\n00:18:26.697 --> 00:18:28.716\nWe're going to do that, before we do that,\n\n374\n00:18:28.716 --> 00:18:30.798\nlet me just explain\nwhat's about to happen.\n\n375\n00:18:30.798 --> 00:18:33.691\nOnce I do that and we restart,\nwe're gonna have to wait for\n\n376\n00:18:33.691 --> 00:18:35.063\nthe system to come back up.\n\n377\n00:18:35.063 --> 00:18:38.032\nIt does take about three or\nfour minutes so what we're going to do is,\n\n378\n00:18:38.032 --> 00:18:39.377\nwe're going to restart this.\n\n379\n00:18:39.377 --> 00:18:41.777\nWe're going to use that\ncut away we do sometimes,\n\n380\n00:18:41.777 --> 00:18:45.608\nwhere we're going to come right back in\nwith the system already turned back on,\n\n381\n00:18:45.608 --> 00:18:47.916\nloaded back up,\nlogged back in, in safe mode.\n\n382\n00:18:47.916 --> 00:18:50.436\nBut that's going to take a few\nminutes behind the scenes, so\n\n383\n00:18:50.436 --> 00:18:53.319\nwe're going to go ahead,\nI'm going to hit the restart button here.\n\n384\n00:18:53.319 --> 00:18:56.925\nThen we're gonna cut away, and when we\ncome back, we'll be back on the desktop,\n\n385\n00:18:56.925 --> 00:18:58.198\nso you will notice a change.\n\n386\n00:18:58.198 --> 00:19:01.600\nWe'll be back on the desktop with this\nmachine operating in safe mode, and\n\n387\n00:19:01.600 --> 00:19:04.410\nonce we're there,\nwe'll pick back up with, essentially,\n\n388\n00:19:04.410 --> 00:19:06.426\nthe discussion at that point and continue.\n\n389\n00:19:06.426 --> 00:19:08.115\nAnd we'll go back into\nWindows Server Backup, and\n\n390\n00:19:08.115 --> 00:19:09.859\nwe'll show you how to do\nthe restores at that point.\n\n391\n00:19:09.859 --> 00:19:13.011\nSo, you'll come on back in just a minute,\nI'm gonna go ahead and hit the restart,\n\n392\n00:19:13.011 --> 00:19:14.827\nyou got a drumroll for\nme, make this exciting.\n\n393\n00:19:14.827 --> 00:19:17.542\n&gt;&gt; [SOUND]\n&gt;&gt; That was a weak drumroll, but okay.\n\n394\n00:19:17.542 --> 00:19:19.288\n&gt;&gt; [LAUGH] It was.\n&gt;&gt; All right, so we're gonna wait for\n\n395\n00:19:19.288 --> 00:19:20.252\nthat to come back up.\n\n396\n00:19:20.252 --> 00:19:23.869\nAnd then, as soon as you come back and\njoin us, we'll have that ready to go, and\n\n397\n00:19:23.869 --> 00:19:27.230\nthen we'll pick up where we left off,\nokay, we'll see you in just a sec.\n\n398\n00:19:28.916 --> 00:19:33.148\nAll righty, hello, how are you,\nwelcome back, it's been so long.\n\n399\n00:19:33.148 --> 00:19:36.766\nIt's actually only been about 30 seconds,\nbut through the magic of ITProTV,\n\n400\n00:19:36.766 --> 00:19:40.022\nwe're going to make it seem like it\nwas just about that much right there.\n\n401\n00:19:40.022 --> 00:19:42.559\nSo we're actually back,\nand as I said we would be,\n\n402\n00:19:42.559 --> 00:19:44.749\nwe are back with our machine up and\nrunning.\n\n403\n00:19:44.749 --> 00:19:47.510\nWe're in safe mode, we're gonna\nshow you that in just a second.\n\n404\n00:19:47.510 --> 00:19:50.299\nFrom there, we're gonna go ahead and\nshow you what safe mode means,\n\n405\n00:19:50.299 --> 00:19:51.754\nwhich is services are not running.\n\n406\n00:19:51.754 --> 00:19:55.459\nSo ADDS has been stalled, if you will,\nit is permanently stopped right now,\n\n407\n00:19:55.459 --> 00:19:56.830\nwe're gonna show you that.\n\n408\n00:19:56.830 --> 00:19:59.287\nWe're then gonna go in and\nload the Windows server back up,\n\n409\n00:19:59.287 --> 00:20:00.968\ntake a look at how we drive that restore.\n\n410\n00:20:00.968 --> 00:20:03.599\nAnd then look at NTDS utility,\nkind round out our conversation.\n\n411\n00:20:03.599 --> 00:20:08.403\nSo if you join me right back up there,\nawesome, you can see,\n\n412\n00:20:08.403 --> 00:20:11.150\nand if you have not seen it before.\n\n413\n00:20:11.150 --> 00:20:14.240\nI now have a safe mode Recycle Bin,\nwhich you may or may not have seen,\n\n414\n00:20:14.240 --> 00:20:15.853\nthat you can see right below there.\n\n415\n00:20:15.853 --> 00:20:17.259\nAt each corner of the machine,\n\n416\n00:20:17.259 --> 00:20:20.232\nif you haven't seen what safe mode\nlooks like and how it comes up,\n\n417\n00:20:20.232 --> 00:20:23.606\nyou'll see it does say safe mode at\nthe corners of each part of the screen.\n\n418\n00:20:23.606 --> 00:20:27.877\nThat's one of the ways we can tell\nthat we are in safe mode, by the way.\n\n419\n00:20:27.877 --> 00:20:31.330\nIn addition, just do that,\njust let it resize,\n\n420\n00:20:31.330 --> 00:20:34.044\njust give it one second, there we go.\n\n421\n00:20:34.044 --> 00:20:37.863\nSo, in addition, we go into the server\nmanager, which is up and running.\n\n422\n00:20:37.863 --> 00:20:40.293\nYou will see we've got\nall sorts of red there,\n\n423\n00:20:40.293 --> 00:20:44.727\nwhich typically we're not used to seeing,\nand we have red on a variety of services.\n\n424\n00:20:44.727 --> 00:20:48.880\nWe bring this up, you will see there are\nlots of services that are normally set to\n\n425\n00:20:48.880 --> 00:20:51.180\nautomatic that are stopped\nthat we rely on.\n\n426\n00:20:51.180 --> 00:20:55.024\nDNS is not running,\nDFS replication is not running,\n\n427\n00:20:55.024 --> 00:21:00.502\nKerberos KEDC is not running, ADDS is\nnot running, those are the biggies.\n\n428\n00:21:00.502 --> 00:21:05.121\n&gt;&gt; So we can see how pulling in the delete\nor the recycle button and pulling in\n\n429\n00:21:05.121 --> 00:21:09.923\nindividual objects is really less\ninvasive than this process right here.\n\n430\n00:21:09.923 --> 00:21:13.739\n&gt;&gt; Because it doesn't require the stopping\nof everything in order to do a restore,\n\n431\n00:21:13.739 --> 00:21:17.458\nabsolutely, for an individual object\nto be restored, absolutely correct.\n\n432\n00:21:17.458 --> 00:21:20.741\nSo you can see that we have,\nduring the safe mode process, stopped what\n\n433\n00:21:20.741 --> 00:21:24.385\nwould normally be services that are the\nbread and butter of what we do, right?\n\n434\n00:21:24.385 --> 00:21:29.633\nThey've got to be running, if they're not,\nno authentication, no user administration.\n\n435\n00:21:29.633 --> 00:21:31.291\nNone of the stuff we take for\ngranted happens,\n\n436\n00:21:31.291 --> 00:21:32.788\nbecause these things are not available.\n\n437\n00:21:32.788 --> 00:21:37.256\nSo when we talk about the domain\ncontroller being in ADDS stopped mode\n\n438\n00:21:37.256 --> 00:21:40.878\nstate, that is what we're talking about,\nright now,\n\n439\n00:21:40.878 --> 00:21:44.442\nthis is how you see that ADDS\nhas been stopped, right?\n\n440\n00:21:44.442 --> 00:21:47.653\nSo all right, so I just wanted to show you\nthat so you could see what's going on.\n\n441\n00:21:47.653 --> 00:21:49.861\nLet's go up to the tools menu,\nwe're gonna go there,\n\n442\n00:21:49.861 --> 00:21:52.022\nwe're gonna launch our\nWindows Server Backup Tool.\n\n443\n00:21:52.022 --> 00:21:55.004\nSo let's come down to the bottom here,\nI know you can't see it, it's right below\n\n444\n00:21:55.004 --> 00:21:58.177\nme, but you can kind of see the blue, I'm\njust kind of highlighting it, right there.\n\n445\n00:21:58.177 --> 00:22:02.043\nThat is actually Windows Server Backup,\njust close your eyes, use the Force,\n\n446\n00:22:02.043 --> 00:22:03.206\nimagine, if you will.\n\n447\n00:22:03.206 --> 00:22:06.349\nSo that is there, we can see it,\nwe saw this before we restarted, right,\n\n448\n00:22:06.349 --> 00:22:07.481\nyou know what is in there.\n\n449\n00:22:07.481 --> 00:22:11.010\nWe're gonna come here and I said we would\nuse that restore feature that when we\n\n450\n00:22:11.010 --> 00:22:14.721\nright clicked, we saw backup and I ran\nthe backup, so now we're gonna restore.\n\n451\n00:22:14.721 --> 00:22:19.854\nSo we're gonna right click instead\nof backup once, we're gonna recover.\n\n452\n00:22:19.854 --> 00:22:22.593\nSo just wait for that,\nwe just have to wait for that to come up,\n\n453\n00:22:22.593 --> 00:22:23.720\ndoesn't take too long.\n\n454\n00:22:23.720 --> 00:22:28.156\nAnd now what we're gonna do is are we\ngonna recover, where's the backup stored,\n\n455\n00:22:28.156 --> 00:22:30.549\nis it on this server,\nis it somewhere else?\n\n456\n00:22:30.549 --> 00:22:33.020\nRemember, we have the option to\nput the backup on the network,\n\n457\n00:22:33.020 --> 00:22:35.211\nwe're gonna recover from\nthe local instance, right,\n\n458\n00:22:35.211 --> 00:22:37.326\ncuz I showed you where it was,\nsitting in the D drive.\n\n459\n00:22:37.326 --> 00:22:41.900\nSo, this server, right, whatever\nthe name instance is, let's click Next,\n\n460\n00:22:41.900 --> 00:22:44.655\nwe have to specify what\nthe backup instance is.\n\n461\n00:22:44.655 --> 00:22:47.936\nWe only have one, this makes it simple and\neasy, but in the real world,\n\n462\n00:22:47.936 --> 00:22:49.808\nyou may have multiple backups, right.\n\n463\n00:22:49.808 --> 00:22:52.696\nSo you may have options to go\nto a certain point in time, so\n\n464\n00:22:52.696 --> 00:22:55.661\nyou would have to use this\ninterface to choose what you do.\n\n465\n00:22:55.661 --> 00:22:59.281\nIf you're familiar with system restore,\nif you've ever seen that capability on\n\n466\n00:22:59.281 --> 00:23:02.436\nthe workstation side, or even on\nthe server side, with the calendar.\n\n467\n00:23:02.436 --> 00:23:06.057\nWhere it shows you with bold highlighting\nthat shows you what instances have been\n\n468\n00:23:06.057 --> 00:23:09.106\nbacked up, and what you have as\na restore point, you can view that.\n\n469\n00:23:09.106 --> 00:23:14.008\nIn recoverable item, you'll notice it\nsays here, system state, showing us that\n\n470\n00:23:14.008 --> 00:23:18.366\non that date, we have a backup that was\na system state backup at that time.\n\n471\n00:23:18.366 --> 00:23:19.877\nAnd we can click here, by the way, and\n\n472\n00:23:19.877 --> 00:23:23.257\nit just shows us nothing more than it just\nsays, yeah, it's a system state backup.\n\n473\n00:23:23.257 --> 00:23:25.264\nYou don't see all the files,\nwe don't see anything,\n\n474\n00:23:25.264 --> 00:23:27.139\ncuz we haven't actually\nmounted the catalog yet,\n\n475\n00:23:27.139 --> 00:23:29.900\nwe're just taking a look the fact that\nit is there, so we're gonna, yes?\n\n476\n00:23:29.900 --> 00:23:36.020\n&gt;&gt; But if you wanted to test this\nrestoration process in a non-live machine,\n\n477\n00:23:36.020 --> 00:23:39.237\njust in a simulated environment here.\n\n478\n00:23:39.237 --> 00:23:41.883\nCould you take those files and\nexport them and\n\n479\n00:23:41.883 --> 00:23:44.470\nbring them into a false domain controller?\n\n480\n00:23:44.470 --> 00:23:46.137\n&gt;&gt; Well, you'd have to do that offline,\n\n481\n00:23:46.137 --> 00:23:48.218\ntotally isolated from\nthe actual environment.\n\n482\n00:23:48.218 --> 00:23:51.833\nYou'll have to reproduce part of the\ninfrastructure to be able to restore that\n\n483\n00:23:51.833 --> 00:23:52.829\ndomain controller.\n\n484\n00:23:52.829 --> 00:23:56.565\nSo while we could essentially have\na playground off to the side that we could\n\n485\n00:23:56.565 --> 00:24:00.853\nplay with, and certainly test the validity\nof the backup to ensure it has integrity.\n\n486\n00:24:00.853 --> 00:24:03.500\nWe couldn't just take a machine\nthat is not a domain controller-\n\n487\n00:24:03.500 --> 00:24:04.057\n&gt;&gt; Right.\n\n488\n00:24:04.057 --> 00:24:04.778\n&gt;&gt; Slap this in there and\n\n489\n00:24:04.778 --> 00:24:07.597\nsay okay if we're gonna make one cuz there\nwill be no forest, no tree, no nothing.\n\n490\n00:24:07.597 --> 00:24:11.966\nJust remember this is one domain\ncontroller among several in the forest,\n\n491\n00:24:11.966 --> 00:24:15.065\nhappens to be the one that\nhas no FSMO roles by default\n\n492\n00:24:15.065 --> 00:24:19.374\ncuz we made this as a secondary domain\ncontroller in an existing domain.\n\n493\n00:24:19.374 --> 00:24:20.891\nAll the other roles that\nare instantiated on a separate machine.\n\n494\n00:24:20.891 --> 00:24:23.943\nSo we'd have to do some stuff\nbefore we could do that, but yeah,\n\n495\n00:24:23.943 --> 00:24:27.278\nI mean it's not beyond the realm of\npossibility that we could do that,\n\n496\n00:24:27.278 --> 00:24:28.993\nwe would just have to plan for that.\n\n497\n00:24:28.993 --> 00:24:31.341\nThis machine and\nthis system state restore,\n\n498\n00:24:31.341 --> 00:24:34.244\nwhile this system state has\nall that information in it,\n\n499\n00:24:34.244 --> 00:24:38.259\nthe machine where we're storing against\nis not the one that we would choose to\n\n500\n00:24:38.259 --> 00:24:42.071\nrestore against in that isolated\nenvironment with nothing else right?\n\n501\n00:24:42.071 --> 00:24:45.009\nCuz we wouldn't have anything else to\nreference but we could, I mean it's not\n\n502\n00:24:45.009 --> 00:24:48.125\nthat it wouldn't work but we just wouldn't\nthen be able to turn it on and do anything\n\n503\n00:24:48.125 --> 00:24:51.107\nwith it because the minute we turned it on\nand tried to connect it back to make sure\n\n504\n00:24:51.107 --> 00:24:52.970\nit was working to actually test it-\n&gt;&gt; Yeah.\n\n505\n00:24:52.970 --> 00:24:54.535\n&gt;&gt; There's no infrastructure for\nit to connect to.\n\n506\n00:24:54.535 --> 00:24:55.606\n&gt;&gt; [INAUDIBLE] Yeah.\n\n507\n00:24:55.606 --> 00:24:57.664\nSo we wouldn't really, we just\nwouldn't know for sure that it worked.\n\n508\n00:24:57.664 --> 00:25:01.563\nWhereas if we had that infrastructure,\nreplicated it there and then restored\n\n509\n00:25:01.563 --> 00:25:05.119\nthis, we could test the entire thought\nprocess all the way up and down.\n\n510\n00:25:05.119 --> 00:25:05.861\n&gt;&gt; Process.\nOkay.\n\n511\n00:25:05.861 --> 00:25:07.106\n&gt;&gt; So\nwe would probably just wanna do a little\n\n512\n00:25:07.106 --> 00:25:08.251\nbit on the backend before we did that.\n\n513\n00:25:08.251 --> 00:25:11.010\nAll right, so we're gonna choose\nhere our instance, right.\n\n514\n00:25:11.010 --> 00:25:12.084\nWe're gonna click Next.\n\n515\n00:25:12.084 --> 00:25:14.509\nWhat do we wanna recover?\n\n516\n00:25:14.509 --> 00:25:18.335\nFiles and folders, where we can browse and\nkind of include what we want.\n\n517\n00:25:18.335 --> 00:25:20.477\nVolumes, we want system state,\nbut obviously,\n\n518\n00:25:20.477 --> 00:25:23.752\ndepending on the nature of the backup,\nwe may actually have backed up data.\n\n519\n00:25:23.752 --> 00:25:27.900\nCuz, remember, one of the options was\nserver data and then choose what files and\n\n520\n00:25:27.900 --> 00:25:29.248\nfolders or system state.\n\n521\n00:25:29.248 --> 00:25:32.167\nSo we are doing system state,\nI am gonna jump in there.\n\n522\n00:25:34.346 --> 00:25:37.603\nAnd then original location or alternate\nlocation, so where do we wanna put this?\n\n523\n00:25:37.603 --> 00:25:39.338\nDo we wanna put it back where it was?\n\n524\n00:25:39.338 --> 00:25:40.819\nDo we wanna put it into\na different location?\n\n525\n00:25:40.819 --> 00:25:43.504\nIt'll be up to us to decide, right?\n\n526\n00:25:43.504 --> 00:25:47.558\nClearly, in the real world, original\nlocation is normally gonna be the case,\n\n527\n00:25:47.558 --> 00:25:49.444\nbut alternate location can be done.\n\n528\n00:25:49.444 --> 00:25:52.324\nCherokee was saying hey, maybe we\nwanna test this outside somewhere,\n\n529\n00:25:52.324 --> 00:25:54.584\nmake sure it's good before we\nreally have to rely on it.\n\n530\n00:25:54.584 --> 00:25:57.605\nSo one of the ways to do that would be\nto do an alternate location restore, and\n\n531\n00:25:57.605 --> 00:26:00.122\njust take a look at everything,\nmake sure everything is good.\n\n532\n00:26:00.122 --> 00:26:02.057\nWe're gonna go with original location.\n\n533\n00:26:02.057 --> 00:26:03.373\nAnd now notice here,\n\n534\n00:26:03.373 --> 00:26:07.116\nperform an authoritative restore\nof the Active Directory.\n\n535\n00:26:07.116 --> 00:26:11.310\nIt says you must, if we do,\nthese options restore system state.\n\n536\n00:26:11.310 --> 00:26:14.641\nYou must restart the computer at\nthe end of the recovery operation,\n\n537\n00:26:14.641 --> 00:26:16.276\nif you chose to check off the box,\n\n538\n00:26:16.276 --> 00:26:19.679\nwe can do an authoritative restore\nright from here, as you will see.\n\n539\n00:26:19.679 --> 00:26:23.354\nBut we're not gonna do that,\nwe're actually gonna go into Ntdsutil and\n\n540\n00:26:23.354 --> 00:26:24.447\ndo it from Ntdsutil.\n\n541\n00:26:24.447 --> 00:26:28.058\nBut we can use this interface to\nperform an authoritative restore.\n\n542\n00:26:28.058 --> 00:26:31.401\nNow let's just, I said we would come\nback to that idea of hey let's make sure\n\n543\n00:26:31.401 --> 00:26:33.335\nwe know the difference between the two,\nbut\n\n544\n00:26:33.335 --> 00:26:36.123\nlets just get into this little\nbit before we do the discussion.\n\n545\n00:26:36.123 --> 00:26:39.981\nSo Cherokee is going to help me quickly\nremind all of you what the difference\n\n546\n00:26:39.981 --> 00:26:42.308\nbetween a,\nwhat we can traditional normal or\n\n547\n00:26:42.308 --> 00:26:46.718\nnonauthoritative, you could do them either\nway they mean the same thing, a normal or\n\n548\n00:26:46.718 --> 00:26:49.865\nnonauthoritative restore vs\nan authoritative restore is.\n\n549\n00:26:49.865 --> 00:26:52.160\nSo, let's talk about normal,\nor nonauthoritative, first.\n\n550\n00:26:52.160 --> 00:26:55.730\nWhat do we think is the key characteristic\nor the defining thought process,\n\n551\n00:26:55.730 --> 00:26:59.044\nwhat kind of backup, or what kind\nof restore, rather, are we doing?\n\n552\n00:26:59.044 --> 00:26:59.954\n&gt;&gt; A pull.\n\n553\n00:26:59.954 --> 00:27:04.080\n&gt;&gt; Okay, so a pull, not a pole,\nnot a pole, but a pull.\n\n554\n00:27:04.080 --> 00:27:04.658\n&gt;&gt; Pull.\n\n555\n00:27:04.658 --> 00:27:05.395\n&gt;&gt; So we are pulling.\n\n556\n00:27:05.395 --> 00:27:06.052\n&gt;&gt; Pulling.\n\n557\n00:27:06.052 --> 00:27:07.324\n&gt;&gt; Changes, right, or information.\n\n558\n00:27:07.324 --> 00:27:08.066\n&gt;&gt; Correct.\n\n559\n00:27:08.066 --> 00:27:10.877\n&gt;&gt; So let's just make sure we have\na little bit more substance [CROSSTALK].\n\n560\n00:27:10.877 --> 00:27:11.663\n&gt;&gt; More.\n[LAUGH]\n\n561\n00:27:11.663 --> 00:27:12.439\n&gt;&gt; You're absolutely correct.\n\n562\n00:27:12.439 --> 00:27:13.304\nBut yes, the key word.\n\n563\n00:27:13.304 --> 00:27:14.212\nI know you were focusing on the key word.\n\n564\n00:27:14.212 --> 00:27:15.772\nKeyword is pull, right.\n\n565\n00:27:15.772 --> 00:27:16.350\n&gt;&gt; Yeah.\n\n566\n00:27:16.350 --> 00:27:19.140\n&gt;&gt; Versus push, push would be\nthe authoritative restore versus pull,\n\n567\n00:27:19.140 --> 00:27:22.231\na nonauthoritative, but let's make\nsure we're clear on the difference.\n\n568\n00:27:22.231 --> 00:27:25.064\nSo Cherokee says hey, it's pull,\nand she's absolutely right.\n\n569\n00:27:25.064 --> 00:27:29.865\nWhat we mean by that is when we do\nthe restore, we are going to lay down\n\n570\n00:27:29.865 --> 00:27:35.456\na foundation from the system restore,\nthis point in time backup that we have.\n\n571\n00:27:35.456 --> 00:27:38.920\nWe're gonna replay all that information,\nrestore all that data.\n\n572\n00:27:38.920 --> 00:27:41.389\nAnd let's just hypothetically\nsay it was 24 hours ago.\n\n573\n00:27:41.389 --> 00:27:44.393\nI know it's not based on what you saw\nin the interface, the timestamps.\n\n574\n00:27:44.393 --> 00:27:45.998\nYou know, it was just a few minutes ago.\n\n575\n00:27:45.998 --> 00:27:49.651\nYou saw me walking through this and doing\nit with you as part of our narrative, but\n\n576\n00:27:49.651 --> 00:27:52.892\nlet's just assume, for\ndiscussion purposes, it was 24 hours ago.\n\n577\n00:27:52.892 --> 00:27:57.350\nSo, I'm gonna start by laying down\nthat foundational specification.\n\n578\n00:27:57.350 --> 00:27:58.545\nAll the data goes back in.\n\n579\n00:27:58.545 --> 00:28:02.121\nAnd we're at the point\nwhen we finish restoring,\n\n580\n00:28:02.121 --> 00:28:07.332\nwhere we essentially replay that back up,\nwe are 24 hours in the past.\n\n581\n00:28:07.332 --> 00:28:10.868\nAnd then what happens is for\nthe nonauthoritative, or a normal restore,\n\n582\n00:28:10.868 --> 00:28:14.233\nwe connect back up to these other\ndomain controllers, or brothers and\n\n583\n00:28:14.233 --> 00:28:17.903\nsisters out there in the hierarchy,\nand we say, hey, wow, I just woke up.\n\n584\n00:28:17.903 --> 00:28:18.438\nWhat's going on?\n\n585\n00:28:18.438 --> 00:28:19.833\nWhat did I miss right?\n\n586\n00:28:19.833 --> 00:28:24.241\nKind of like waking up when you've been\nout having a fun the night before, right.\n\n587\n00:28:24.241 --> 00:28:25.024\nWhat did I miss?\n\n588\n00:28:25.024 --> 00:28:26.342\n&gt;&gt; [LAUGH] Like an active\ndirectory blackout.\n\n589\n00:28:26.342 --> 00:28:28.527\n&gt;&gt; Like an directory blackout or\nbasher parties.\n\n590\n00:28:28.527 --> 00:28:29.758\nNow the ad party, right.\n\n591\n00:28:29.758 --> 00:28:31.115\nSo, I missed 24 hours.\n\n592\n00:28:31.115 --> 00:28:31.936\nWhat's going on?\n\n593\n00:28:31.936 --> 00:28:33.875\nWhat are you,\nyou have to tell me what's happened.\n\n594\n00:28:33.875 --> 00:28:37.607\nSo, as a result, all the domain\ncontrollers say, yeah, no problem, here's\n\n595\n00:28:37.607 --> 00:28:41.300\nall the changes that have occurred since\nyou decided to take a vacation, right.\n\n596\n00:28:41.300 --> 00:28:42.985\nAnd now we're gonna pull them in.\n\n597\n00:28:42.985 --> 00:28:46.601\nSo we are receiving those\nchanges from existing domain\n\n598\n00:28:46.601 --> 00:28:50.147\ncontrollers to get us up to\nthe current point in time.\n\n599\n00:28:50.147 --> 00:28:51.826\nWe are pulling those changes in, right?\n\n600\n00:28:51.826 --> 00:28:55.360\n&gt;&gt; So the active directory was\nour designated driver, basically?\n\n601\n00:28:55.360 --> 00:28:57.667\n[LAUGH] in this situation.\n\n602\n00:28:57.667 --> 00:28:58.537\n&gt;&gt; Domain controller,\n\n603\n00:28:58.537 --> 00:29:01.173\nyes, the authoritative domain controller-\n&gt;&gt; Authoritative domain\n\n604\n00:29:01.173 --> 00:29:02.118\ncontroller, there you go.\n\n605\n00:29:02.118 --> 00:29:03.397\n&gt;&gt; Was the designated driver absolutely.\n\n606\n00:29:03.397 --> 00:29:05.027\nSo we have a responsible party and\n\n607\n00:29:05.027 --> 00:29:08.298\nthey are providing changes to us\nthat is a nonauthoritative rule.\n\n608\n00:29:08.298 --> 00:29:10.357\nWhat we generically call,\njust the normal restore.\n\n609\n00:29:10.357 --> 00:29:14.505\nNow, if we do an authoritative restore,\nif we checked off this box,\n\n610\n00:29:14.505 --> 00:29:18.668\nand/or we go to Ntdsutil,\nwhat happens is, we flip that around..\n\n611\n00:29:18.668 --> 00:29:22.835\nWe still lay down the foundation where\n24 hours ago, when we set this up, and\n\n612\n00:29:22.835 --> 00:29:25.500\nwe are done with that part,\nwe've got that data.\n\n613\n00:29:25.500 --> 00:29:29.666\nHowever, in the case of an authoritative\nrestore, we change something.\n\n614\n00:29:29.666 --> 00:29:33.389\nThere's something called a USN,\na unique or an update sequence number,\n\n615\n00:29:33.389 --> 00:29:34.540\na unique identifier.\n\n616\n00:29:34.540 --> 00:29:37.123\nA numerical identifier that's\nincremented for every object,\n\n617\n00:29:37.123 --> 00:29:38.279\nevery time we make a change.\n\n618\n00:29:38.279 --> 00:29:42.427\nIn a nonauthoritative or normal restore\nwe do not mess with that number on\n\n619\n00:29:42.427 --> 00:29:44.535\nthe objects that are being put back,\n\n620\n00:29:44.535 --> 00:29:47.326\nwe leave it essentially\nas it was 24 hours ago.\n\n621\n00:29:47.326 --> 00:29:51.842\nThat number is smaller than the number of\nany objects that have changed since then,\n\n622\n00:29:51.842 --> 00:29:55.080\nthe ones that we're going to pull back in,\nin other words.\n\n623\n00:29:55.080 --> 00:29:56.526\nThose numbers are higher\nto signify changes.\n\n624\n00:29:56.526 --> 00:30:00.960\nAnd those objects were adjusted\naccordingly as part of the back fill\n\n625\n00:30:00.960 --> 00:30:04.397\nprocess in a nonauthoritative or\na normal restore.\n\n626\n00:30:04.397 --> 00:30:06.783\nAnd we gain information and\n\n627\n00:30:06.783 --> 00:30:12.813\nwe get the benefit of those non-changed\nversus changed in the USNs.\n\n628\n00:30:12.813 --> 00:30:16.460\nAnd the USNs, the numbers that have not\nchanged on objects that are essentially\n\n629\n00:30:16.460 --> 00:30:18.481\nthe same for 24 hours, we don't modify.\n\n630\n00:30:18.481 --> 00:30:19.427\nWe leave them alone.\n\n631\n00:30:19.427 --> 00:30:22.947\nThe number that has changed on an object\nindicates something has gone on in\n\n632\n00:30:22.947 --> 00:30:25.406\nthe last 24 hours,\nI wasn't paying attention.\n\n633\n00:30:25.406 --> 00:30:29.361\nAnd we take the change from the domain\ncontrollers that are going to be providing\n\n634\n00:30:29.361 --> 00:30:33.154\nit, we pulled it in, we update our\nversion to match their reality, right.\n\n635\n00:30:33.154 --> 00:30:35.185\n&gt;&gt; Yeah.\n&gt;&gt; And that's how we think of it.\n\n636\n00:30:35.185 --> 00:30:39.262\nSo that's the nonauthoritative or just\nthe generic what we call normal restore,\n\n637\n00:30:39.262 --> 00:30:42.700\nwhich we're gonna go through and\ntake a look at here in just a minute.\n\n638\n00:30:42.700 --> 00:30:44.871\nThe authoritative restore is different.\n\n639\n00:30:44.871 --> 00:30:48.494\nWe do the same thing, but\ninstead of us accepting those changes and\n\n640\n00:30:48.494 --> 00:30:51.289\npulling them in,\nwe're gonna outbound changes.\n\n641\n00:30:51.289 --> 00:30:53.609\nWe're gonna be the originator\nof the change.\n\n642\n00:30:53.609 --> 00:30:57.558\nWe're gonna mark the USNs,\nthe update sequence numbers on objects\n\n643\n00:30:57.558 --> 00:31:02.268\nthat we wanna restore, higher than the\ncurrent version that exists out there for\n\n644\n00:31:02.268 --> 00:31:05.195\nthat object 24 hours later\nin the modern world.\n\n645\n00:31:05.195 --> 00:31:08.251\nAnd we're going to say we are the\noriginator of the change, believe us,\n\n646\n00:31:08.251 --> 00:31:09.716\nwe are the ones you should follow.\n\n647\n00:31:09.716 --> 00:31:12.782\nAnd we're gonna,\ninstead of pulling the changes in,\n\n648\n00:31:12.782 --> 00:31:14.721\nwe're going to push changes out.\n\n649\n00:31:14.721 --> 00:31:18.275\nAnd we are going to become the originator\nof the reality and everybody around us is\n\n650\n00:31:18.275 --> 00:31:21.108\ngoing to change their reality to\nmatch our version of the story.\n\n651\n00:31:21.108 --> 00:31:23.448\n&gt;&gt; That's a great world\n&gt;&gt; We're going to do that.\n\n652\n00:31:23.448 --> 00:31:24.176\n&gt;&gt; What?\n\n653\n00:31:24.176 --> 00:31:25.099\n&gt;&gt; That would be a great\nworld in real life.\n\n654\n00:31:25.099 --> 00:31:26.101\n&gt;&gt; Wouldn't that be awesome?\n\n655\n00:31:26.101 --> 00:31:28.006\n&gt;&gt; [LAUGH] You guys\nare stuck in my reality.\n\n656\n00:31:28.006 --> 00:31:28.888\n[LAUGH]\n&gt;&gt; You get to wake up and\n\n657\n00:31:28.888 --> 00:31:29.995\nyou got to live with Cherokee's reality.\n\n658\n00:31:29.995 --> 00:31:34.058\nRun, run far, run fast, run now while\nyou have a chance boys and girls.\n\n659\n00:31:34.058 --> 00:31:34.708\nAlright.\n\n660\n00:31:34.708 --> 00:31:37.755\nSo this is what we're going to do, right,\nthis is essentially the thought process.\n\n661\n00:31:37.755 --> 00:31:39.713\nSo first part is we're gonna go ahead and\n\n662\n00:31:39.713 --> 00:31:42.429\nwe're gonna lay down this\noriginal location restore.\n\n663\n00:31:42.429 --> 00:31:43.500\nRight?\nNonauthoritative.\n\n664\n00:31:43.500 --> 00:31:44.652\nSo, gonna go ahead, we're gonna do that.\n\n665\n00:31:44.652 --> 00:31:45.468\nWe are gonna click next.\n\n666\n00:31:45.468 --> 00:31:49.228\nNow, it says note this recovery option\nwill cause all replicated content on\n\n667\n00:31:49.228 --> 00:31:51.766\nthe local server to\nresyncronize after recovery.\n\n668\n00:31:51.766 --> 00:31:52.507\nPull everything in.\n\n669\n00:31:52.507 --> 00:31:54.316\nThat's exactly what we want to see right?\n\n670\n00:31:54.316 --> 00:31:56.958\nThis may cause potential latency or\noutage issues.\n\n671\n00:31:56.958 --> 00:31:59.599\nMeaning, hey, if there's a lot\nof stuff that's got a backflow,\n\n672\n00:31:59.599 --> 00:32:02.306\nyou may have a network issue cuz\nyou're bringing all this stuff in.\n\n673\n00:32:02.306 --> 00:32:03.837\nServer may become unresponsive for\n\n674\n00:32:03.837 --> 00:32:05.987\na period of time while\nit's copying everything.\n\n675\n00:32:05.987 --> 00:32:10.316\nBut no big deal ADDS is off anyway so\nit's not like it's actively engaging and\n\n676\n00:32:10.316 --> 00:32:13.646\ndealing with objects right now and\nauthenticating users,\n\n677\n00:32:13.646 --> 00:32:15.659\nnone of that's happening anyway.\n\n678\n00:32:15.659 --> 00:32:17.377\nAll they're saying is hey by the way,\n\n679\n00:32:17.377 --> 00:32:19.860\nyou're about to create\npotentially a lot of traffic.\n\n680\n00:32:19.860 --> 00:32:21.953\nAnd just be aware of the fact\nthat that could be an issue.\n\n681\n00:32:21.953 --> 00:32:26.660\nSo you don't wanna do this during high\nproduction usage times, middle of the day,\n\n682\n00:32:26.660 --> 00:32:27.812\nthat kind of stuff.\n\n683\n00:32:27.812 --> 00:32:31.808\nYou wanna schedule this or get this off\nonto an area where you're not gonna impact\n\n684\n00:32:31.808 --> 00:32:33.708\nservices and impact functionality.\n\n685\n00:32:33.708 --> 00:32:36.994\nNo big deal, we're gonna click OK,\nit's gonna go ahead,\n\n686\n00:32:36.994 --> 00:32:41.533\nwe're gonna click Recover and it says,\nSystem state recovery cannot be paused or\n\n687\n00:32:41.533 --> 00:32:43.338\ncancelled once it has started.\n\n688\n00:32:43.338 --> 00:32:45.523\nNeeds a restart of the server\nto complete the recovery.\n\n689\n00:32:45.523 --> 00:32:46.529\nDo you want to continue?\n\n690\n00:32:46.529 --> 00:32:50.048\nWe're gonna let this run, where I'm just\ngonna have to pause again, come back with\n\n691\n00:32:50.048 --> 00:32:53.585\nthis kind of in process, because this will\ntake a few minutes and we have to restart.\n\n692\n00:32:53.585 --> 00:32:54.773\nSo we're gonna kick this off and\n\n693\n00:32:54.773 --> 00:32:56.754\nthen we're gonna see what\nhappens when we come back.\n\n694\n00:32:56.754 --> 00:32:59.286\nBut we are gonna let this run,\nbut it is important to know,\n\n695\n00:32:59.286 --> 00:33:01.008\nhey, this cannot be stopped, right?\n\n696\n00:33:01.008 --> 00:33:04.810\nSo once we start this if you have buyer's\nremorse and say, I didn't mean to do that,\n\n697\n00:33:04.810 --> 00:33:05.368\nguess what,\n\n698\n00:33:05.368 --> 00:33:08.893\nyou better go figure out something else to\ndo for half an hour while this plays out.\n\n699\n00:33:08.893 --> 00:33:11.407\nSo we're gonna hit yes here,\ngonna let it do its thing,\n\n700\n00:33:11.407 --> 00:33:13.719\nits initializing you can\nkind of see it beginning.\n\n701\n00:33:13.719 --> 00:33:17.973\nYou'll see it is starting, right,\nto find files, starting to read them,\n\n702\n00:33:17.973 --> 00:33:21.834\nput them all in here, populate this so\nthat we know what we have to do.\n\n703\n00:33:21.834 --> 00:33:24.291\nAnd then, of course, once this is done and\nit's still estimating by the way, so\n\n704\n00:33:24.291 --> 00:33:26.823\nit's gonna take a few minutes just to read\nall this data in from the manifest files,\n\n705\n00:33:26.823 --> 00:33:28.776\nthe xml files that were part of\nthat backup and mount and load that\n\n706\n00:33:28.776 --> 00:33:31.340\n8 gig virtual harddrive image that's gonna\nallow us to actually access the data.\n\n707\n00:33:31.340 --> 00:33:36.272\nAnd then that has to be read back in and\nupdated, that's gonna take time,\n\n708\n00:33:36.272 --> 00:33:40.251\nso, we're gonna let this run,\nyou're gonna come back and\n\n709\n00:33:40.251 --> 00:33:43.611\njoin us in a few minutes\nonce this is all finished.\n\n710\n00:33:43.611 --> 00:33:46.312\nAnd we'll talk about\nthe next steps from there.\n\n711\n00:33:46.312 --> 00:33:49.229\nAll righty, look at that,\nthat is so exciting.\n\n712\n00:33:49.229 --> 00:33:52.951\nI had to fight Cherokee for control of\nthe mouse, we both raced back to button.\n\n713\n00:33:52.951 --> 00:33:55.195\nIt was like, I wanna press the button,\n\n714\n00:33:55.195 --> 00:33:58.058\nI wanna be the one who gets\nto restart the machine.\n\n715\n00:33:58.058 --> 00:34:00.982\nBut I beat her back here, as you can see,\nbecause I was a little bit quicker,\n\n716\n00:34:00.982 --> 00:34:03.267\nshe went the long way, and I, well-\n&gt;&gt; [LAUGH]\n\n717\n00:34:03.267 --> 00:34:04.371\n&gt;&gt; I just jumped right across the top\n\n718\n00:34:04.371 --> 00:34:04.888\nof the podium.\n\n719\n00:34:04.888 --> 00:34:08.737\nSo you can see what we're about to do\nhere, we finished the restore portion.\n\n720\n00:34:08.737 --> 00:34:10.503\nYou could see it as completed.\n\n721\n00:34:10.503 --> 00:34:13.598\nThe Windows server backup dialog box,\nI'm just gonna move this over so\n\n722\n00:34:13.598 --> 00:34:16.139\nyou kind of get a glimpse as\nto what's going on back there.\n\n723\n00:34:16.139 --> 00:34:19.665\nWe're gonna hit restart here in just\na second, but you'll see that we do have\n\n724\n00:34:19.665 --> 00:34:23.420\neverything showing status complete,\nI can't scroll down, but it is all there.\n\n725\n00:34:23.420 --> 00:34:27.886\nAnd we're gonna go ahead,\nwe're gonna hit restart.\n\n726\n00:34:27.886 --> 00:34:29.710\nWhen I do this,\nthe system is gonna restart,\n\n727\n00:34:29.710 --> 00:34:32.782\nwe're gonna cut away again real quick,\nlet it do that, it takes about two or\n\n728\n00:34:32.782 --> 00:34:34.572\nthree minutes behind\nthe scenes to do that.\n\n729\n00:34:34.572 --> 00:34:38.222\nWhen we come back, the next time we're\ngonna actually have the console up,\n\n730\n00:34:38.222 --> 00:34:39.544\nit's gonna be restarted.\n\n731\n00:34:39.544 --> 00:34:44.064\nWe'll go into Ntds Util and then we're\ngonna continue from there as we talk about\n\n732\n00:34:44.064 --> 00:34:47.863\nkinda wrap up this portion of our\ndemonstration slash discussion.\n\n733\n00:34:47.863 --> 00:34:49.585\nSo, I'm gonna click restart.\n\n734\n00:34:49.585 --> 00:34:53.503\nYou're gonna close your eyes, pretend\nthat it's just gonna take that quick.\n\n735\n00:34:53.503 --> 00:34:57.752\nAnd we're gonna come right back and\nshow you what happens after this.\n\n736\n00:34:57.752 --> 00:35:00.243\nAll righty.\nSo, part 20,000 200 million,\n\n737\n00:35:00.243 --> 00:35:03.756\nwhatever it was we are rebooted it five,\nsix, seven, eight times, but\n\n738\n00:35:03.756 --> 00:35:05.675\nI promise you we're almost at the end.\n\n739\n00:35:05.675 --> 00:35:08.687\nSo, we restarted again, right,\ncoming out of the, hey,\n\n740\n00:35:08.687 --> 00:35:11.959\nlet's hit the the restart button\nin safe mode during a restore.\n\n741\n00:35:11.959 --> 00:35:12.830\nWe get back in,\n\n742\n00:35:12.830 --> 00:35:17.321\nwe're still in a compromised state of\nthe sense that ADDS is still not running.\n\n743\n00:35:17.321 --> 00:35:19.534\nBut let me just show you\nwhat I mean by that.\n\n744\n00:35:19.534 --> 00:35:22.991\nSo when we come up, you will see\nthat we're still in safe mode,\n\n745\n00:35:22.991 --> 00:35:25.292\nright, so you can see safe mode is there.\n\n746\n00:35:25.292 --> 00:35:30.097\nWe have a command prompt that tells us,\nthe command line version of a command line\n\n747\n00:35:30.097 --> 00:35:35.044\ninterface for the windows backup solution\nis there tells us, yes the systems state\n\n748\n00:35:35.044 --> 00:35:39.094\nrecovery operation that started\nout was successfully completed.\n\n749\n00:35:39.094 --> 00:35:44.166\nPress Enter to continue, we're going\nto do that in just one second, but\n\n750\n00:35:44.166 --> 00:35:49.675\nserver manager starts up, as well and\nwe can see that DNS is still not running.\n\n751\n00:35:49.675 --> 00:35:53.226\nThe DFS replication, the Kerberos KDC and\n\n752\n00:35:53.226 --> 00:35:58.754\nADDS are still in a stopped state\neven though the steps automatic.\n\n753\n00:35:58.754 --> 00:36:02.347\nSo we are still in safe mode\nwith no access to the ADDS\n\n754\n00:36:02.347 --> 00:36:06.791\ninfrastructure cuz it's all\nessentially on pause right now.\n\n755\n00:36:06.791 --> 00:36:10.422\nAnd that's gonna allow\nus to come over here.\n\n756\n00:36:10.422 --> 00:36:13.108\nNow, let me just change the console\nfont a little bit, just so\n\n757\n00:36:13.108 --> 00:36:14.876\nwe could see that a little more clearly.\n\n758\n00:36:14.876 --> 00:36:18.117\nAs we normally do, I just didn't\ndo that before we came back on.\n\n759\n00:36:18.117 --> 00:36:20.917\nSo, I wanted you to see it and\njust see how it comes up.\n\n760\n00:36:20.917 --> 00:36:23.947\nSo we're gonna go there and\nlisten to the console, 20 point,\n\n761\n00:36:23.947 --> 00:36:26.033\nmake that a little bit easier for\nyou to see.\n\n762\n00:36:26.033 --> 00:36:30.177\nSo we gonna hit enter there, okay,\nand oops, hold on one second,\n\n763\n00:36:30.177 --> 00:36:34.484\nthat's not what we wanted,\nthat's to start little copy function.\n\n764\n00:36:45.144 --> 00:36:48.508\nWhere'd it, lost it,\njust give me one second, hold on.\n\n765\n00:36:50.642 --> 00:36:53.524\nAll right, there we go,\nI just need the command prompt,\n\n766\n00:36:53.524 --> 00:36:55.335\ndoesn't really matter what it is.\n\n767\n00:36:55.335 --> 00:36:58.247\nThat was just essentially say thank you,\nyou did the restore.\n\n768\n00:36:58.247 --> 00:37:02.154\nWe just need to launch NTDS details so\nlet me just open another console.\n\n769\n00:37:02.154 --> 00:37:05.609\nAnd one that's not gonna be all\nmessed up with the copy buffer\n\n770\n00:37:05.609 --> 00:37:07.181\nthat we use in the machine.\n\n771\n00:37:07.181 --> 00:37:11.715\nAnd then we can go ahead and\nget back to what we were doing.\n\n772\n00:37:11.715 --> 00:37:17.066\nSo what I was gonna simply do\nat that point was type NTDSUtil.\n\n773\n00:37:17.066 --> 00:37:19.235\nGet to our NTDSUtil prompt.\n\n774\n00:37:19.235 --> 00:37:21.542\nWe're then going to,\nas I bang into the microphone,\n\n775\n00:37:21.542 --> 00:37:24.177\nit wouldn't be a good show if I\ndidn't do that at least once.\n\n776\n00:37:24.177 --> 00:37:27.005\nWe're gonna activate our instance,\nwe've done it before, so-\n\n777\n00:37:27.005 --> 00:37:27.923\n&gt;&gt; You're not the only one.\n\n778\n00:37:27.923 --> 00:37:30.871\nYeah, activate instant NTDS.\n\n779\n00:37:30.871 --> 00:37:33.599\nYou've seen me do this with NTDSUtil,\nbefore.\n\n780\n00:37:33.599 --> 00:37:36.275\nSet it to the NTDS instance so\nwe can use it.\n\n781\n00:37:36.275 --> 00:37:38.960\nNow we're going to engage our\nauthoritative restore, so\n\n782\n00:37:38.960 --> 00:37:40.396\nwhat do you think we type here?\n\n783\n00:37:40.396 --> 00:37:43.202\nAuthoritative restore.\n\n784\n00:37:43.202 --> 00:37:48.693\nSo we're gonna type that, we get to\nthe authoritative restore prompt.\n\n785\n00:37:48.693 --> 00:37:53.405\nNow I told you that at this point if we\nhad the ADDS service running, this is\n\n786\n00:37:53.405 --> 00:37:58.427\nwhere we get that error saying hey,\nyou can't do this until you turn off ADDS.\n\n787\n00:37:58.427 --> 00:38:03.107\nBut ADDS is off, so we can go past that\npoint and actually do the authoritative\n\n788\n00:38:03.107 --> 00:38:07.356\nrestore right now, so, we're gonna\nnow do a restore on the sub tree.\n\n789\n00:38:07.356 --> 00:38:08.776\nSo, restore sub tree.\n\n790\n00:38:08.776 --> 00:38:13.495\nI'm gonna put in our identifier, OU=APAC.\n\n791\n00:38:13.495 --> 00:38:14.828\n&gt;&gt; I think you've got a typo there.\n\n792\n00:38:14.828 --> 00:38:15.581\nRestore.\n\n793\n00:38:15.581 --> 00:38:16.357\n&gt;&gt; Yeah.\n\n794\n00:38:16.357 --> 00:38:18.314\n&gt;&gt; It wouldn't be good without a typo.\n\n795\n00:38:18.314 --> 00:38:19.966\nYou're not supposed to tell people that.\n\n796\n00:38:19.966 --> 00:38:21.446\n&gt;&gt; [LAUGH]\n&gt;&gt; You blew the whole surprise so\n\n797\n00:38:21.446 --> 00:38:24.141\nI could get the error and\nthen say look at what I did.\n\n798\n00:38:24.141 --> 00:38:26.290\nAll right, so it's so\nhard to find good help these days.\n\n799\n00:38:26.290 --> 00:38:28.262\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so, OUAPAC and then,\n\n800\n00:38:28.262 --> 00:38:32.398\nthank you very much by the way, you did\nsave me the trouble of having redo that,\n\n801\n00:38:32.398 --> 00:38:34.921\nso I do appreciate you\ncatching that DC equals.\n\n802\n00:38:34.921 --> 00:38:38.181\nSo I'm gonna put in our domain\nname practice lab DC com.\n\n803\n00:38:38.181 --> 00:38:41.537\nSo I'm gonna do that practicelabs Comma,\n\n804\n00:38:41.537 --> 00:38:47.050\nmake sure we spell that correctly,\ndc=com, and then close quotes.\n\n805\n00:38:47.050 --> 00:38:51.758\nSo we're gonna go ahead and provide the\nsubtree to restore APAC, which remember\n\n806\n00:38:51.758 --> 00:38:56.415\nwas the OU that we went through and I\ndeleted, so I've talked to you about that.\n\n807\n00:38:56.415 --> 00:38:57.556\nSo I am gonna hit that.\n\n808\n00:38:57.556 --> 00:38:59.584\nAre you sure you wanna\nperform this action?\n\n809\n00:38:59.584 --> 00:39:00.753\nJust click Yes.\n\n810\n00:39:00.753 --> 00:39:06.596\nOpening the Did database as an NTDS which\nis why we mount to the instance NTD.\n\n811\n00:39:06.596 --> 00:39:09.846\nSo we did that, current time is\nmost recent database update,\n\n812\n00:39:09.846 --> 00:39:12.547\nincreasing version numbers by-\n&gt;&gt; [CROSSTALK].\n\n813\n00:39:12.547 --> 00:39:15.375\n&gt;&gt; It's just like super confidence,\nit's like we are done.\n\n814\n00:39:15.375 --> 00:39:17.791\n[LAUGH]\n&gt;&gt; I am in charge, right?\n\n815\n00:39:17.791 --> 00:39:18.394\n&gt;&gt; That's right.\n\n816\n00:39:18.394 --> 00:39:21.176\n&gt;&gt; All right, and you can see,\nremember I taught you about updating.\n\n817\n00:39:21.176 --> 00:39:24.734\nThat were increasing the version number,\nright?\n\n818\n00:39:24.734 --> 00:39:25.811\nAnd that's what we're doing here.\n\n819\n00:39:25.811 --> 00:39:29.701\nAnd notice we did that by a hundred\nthousand which is gonna make it bigger,\n\n820\n00:39:29.701 --> 00:39:33.971\nultimately, than anything else that we\nwould see out there that's been sitting\n\n821\n00:39:33.971 --> 00:39:35.938\nthere making changes along the way.\n\n822\n00:39:35.938 --> 00:39:37.802\nSo remember we're trying to\ndo an authoritative restore.\n\n823\n00:39:37.802 --> 00:39:40.417\nWe're gonna become the origination\npoint for the reality.\n\n824\n00:39:40.417 --> 00:39:41.971\nWe're gonna push our reality out.\n\n825\n00:39:41.971 --> 00:39:45.616\nWe're updating that version number in\norder to specify that that's the case.\n\n826\n00:39:45.616 --> 00:39:49.698\nSo that way, our version of reality\nbecomes the version everybody's gonna\n\n827\n00:39:49.698 --> 00:39:52.068\naccept and\nchange to represent what we are.\n\n828\n00:39:52.068 --> 00:39:55.194\nAnd that's why we're updating those\nversion numbers by a hundred thousand.\n\n829\n00:39:55.194 --> 00:39:57.051\nAll right,\ncounting records in need of updating.\n\n830\n00:39:57.051 --> 00:39:59.174\nRecords found, no records found, right?\n\n831\n00:39:59.174 --> 00:40:00.916\nCould not parse the give in the end.\n\n832\n00:40:00.916 --> 00:40:04.837\nHere to restore failed, so looks like\nI have some sort of a problem there.\n\n833\n00:40:04.837 --> 00:40:07.983\nLet's go in and let's take a look and\nmake sure I didn't do anything.\n\n834\n00:40:07.983 --> 00:40:10.488\nAnd I think I did,\nI see what I did by the way.\n\n835\n00:40:10.488 --> 00:40:11.089\nAnybody notice it?\n\n836\n00:40:11.089 --> 00:40:12.906\nYou're probably gonna notice\n&gt;&gt; I was\n\n837\n00:40:12.906 --> 00:40:13.466\ngonna say, should I be able to see this?\n\n838\n00:40:13.466 --> 00:40:16.526\n&gt;&gt; You should.\nI didn't notice it myself.\n\n839\n00:40:16.526 --> 00:40:18.250\nSo I had two errors, right?\n\n840\n00:40:18.250 --> 00:40:19.873\nOne was restore wasn't spelled correctly.\n\n841\n00:40:19.873 --> 00:40:23.156\nThat is a period instead of a comma,\nwhich is why we are getting that error.\n\n842\n00:40:23.156 --> 00:40:23.755\n&gt;&gt; Okay.\n\n843\n00:40:23.755 --> 00:40:24.924\n&gt;&gt; So that happened, but that's okay.\n\n844\n00:40:24.924 --> 00:40:26.550\nWe can easily fix that.\n\n845\n00:40:26.550 --> 00:40:29.809\nAgain, just gotta go back and make sure\nwe're doing the right thing there.\n\n846\n00:40:29.809 --> 00:40:33.454\nAll right, so\nthat would be me not typing correctly.\n\n847\n00:40:33.454 --> 00:40:35.241\nAll right, let's do that, and\n\n848\n00:40:35.241 --> 00:40:38.698\nthat should actually allow us to\ndo it the right way this time.\n\n849\n00:40:38.698 --> 00:40:40.080\nThere we go.\nThat's what we expect to see.\n\n850\n00:40:40.080 --> 00:40:43.958\nIt successfully updated certain number\nof records based on whatever we're\n\n851\n00:40:43.958 --> 00:40:46.818\nasking it to do,\nwhen we put a comma instead of a period.\n\n852\n00:40:46.818 --> 00:40:50.700\nIt's amazing what happens when you\nactually perceive the world the right way.\n\n853\n00:40:50.700 --> 00:40:53.134\nAnd so we went ahead,\nwe were able to do that.\n\n854\n00:40:53.134 --> 00:40:57.104\nAnd following text file with a list of\nauthoritative historic records are being\n\n855\n00:40:57.104 --> 00:40:57.645\ncreated.\n\n856\n00:40:57.645 --> 00:40:59.319\nWe see there's a reference for\na text file.\n\n857\n00:40:59.319 --> 00:41:00.226\nHow it will be there.\n\n858\n00:41:00.226 --> 00:41:04.178\nOne or more object back links following\nL DIV files are being updated and or\n\n859\n00:41:04.178 --> 00:41:04.832\nrestored.\n\n860\n00:41:04.832 --> 00:41:08.239\nSo it gives us the name of the file there\nand then authoritative restore completed\n\n861\n00:41:08.239 --> 00:41:10.158\nsuccessfully which is\nwhat we wanted to see.\n\n862\n00:41:10.158 --> 00:41:12.233\nSo, we put that part back.\n\n863\n00:41:12.233 --> 00:41:13.925\nNow remember,\nADDS is not running right now.\n\n864\n00:41:13.925 --> 00:41:18.262\nI can't even check to see whether or not\nthis has happened until I get out of safe\n\n865\n00:41:18.262 --> 00:41:22.429\non I reboot yet again, right, in order\nto be able to see the output of this.\n\n866\n00:41:22.429 --> 00:41:26.595\nSo, we still are not able to tell for\nsure that we did get hey, this started or\n\n867\n00:41:26.595 --> 00:41:30.064\nrather was redone was restored\ncompletely and successfully.\n\n868\n00:41:30.064 --> 00:41:34.446\nWe assume it's good, but we're gonna check\nthat, we're gonna restart one more time.\n\n869\n00:41:34.446 --> 00:41:38.195\nBut before we do that,\nlet's restore the user object as well,\n\n870\n00:41:38.195 --> 00:41:40.617\nso I restore the OU and the OU hierarchy.\n\n871\n00:41:40.617 --> 00:41:43.200\nI haven't restored Elizabeth as a user and\nso\n\n872\n00:41:43.200 --> 00:41:46.057\nshe is gonna be out there\nkind of alone by herself.\n\n873\n00:41:46.057 --> 00:41:47.048\nSo let's bring her back home as well.\n\n874\n00:41:47.048 --> 00:41:49.597\nSo let's do restore.\n\n875\n00:41:49.597 --> 00:41:52.045\nI misspell, thank you very much.\n\n876\n00:41:52.045 --> 00:41:53.820\nIt's such a pleasure working with you.\n\n877\n00:41:53.820 --> 00:41:56.185\n[LAUGH]\n&gt;&gt; Restore object, all right, so\n\n878\n00:41:56.185 --> 00:41:59.183\nwe're gonna go ahead we're\ngonna do that CN equals,\n\n879\n00:41:59.183 --> 00:42:01.723\nyou're like the little\nkid in the back seat.\n\n880\n00:42:01.723 --> 00:42:02.291\nAre we there yet?\n\n881\n00:42:02.291 --> 00:42:05.402\n&gt;&gt; I'm sure you'll have plenty\nof chances to pick on me.\n\n882\n00:42:05.402 --> 00:42:06.511\n&gt;&gt; All right, Elizabeth.\n\n883\n00:42:06.511 --> 00:42:08.137\nAnd what's Elizabeth's last name?\n\n884\n00:42:08.137 --> 00:42:10.272\nWaybridge.\n\n885\n00:42:10.272 --> 00:42:13.423\nAllright, so\nwe're gonna do Waybridge and we're gonna\n\n886\n00:42:13.423 --> 00:42:16.155\nspell that correctly cause I left out the\n&gt;&gt; I wasn't\n\n887\n00:42:16.155 --> 00:42:17.127\ngonna say-\n&gt;&gt; Yeah,\n\n888\n00:42:17.127 --> 00:42:19.098\nyou just weren't sure about that one.\n\n889\n00:42:19.098 --> 00:42:24.117\nSo Waybridge, all right comma and\n\n890\n00:42:24.117 --> 00:42:30.183\nwe're gonna do this in the engineering.\n\n891\n00:42:30.183 --> 00:42:35.024\nOU equals engineering and then we have\nour OU as a EMEA for the main one and\n\n892\n00:42:35.024 --> 00:42:38.214\nthen, what's the theme of EMEA anyways?\n\n893\n00:42:38.214 --> 00:42:40.267\n&gt;&gt; Of EMEA anyway, what is that\nacronym supposed to be replacing?\n\n894\n00:42:40.267 --> 00:42:43.678\n&gt;&gt; Middle East so\nit's you know a regional reference here.\n\n895\n00:42:43.678 --> 00:42:44.488\n&gt;&gt; Okay.\n\n896\n00:42:44.488 --> 00:42:45.932\n&gt;&gt; La Tom for Latin America.\n\n897\n00:42:45.932 --> 00:42:49.474\nAnd the Americas you have Asia\n&gt;&gt; You did not.\n\n898\n00:42:49.474 --> 00:42:50.773\n&gt;&gt; Yeah well, is Asia Pacific.\n\n899\n00:42:50.773 --> 00:42:54.430\nEMEA is Europe and Middle East and Africa.\n\n900\n00:42:54.430 --> 00:42:55.429\n&gt;&gt; Okay cool.\n\n901\n00:42:55.429 --> 00:42:59.059\n&gt;&gt; So it's just the regional\nIt's like Microsoft speak.\n\n902\n00:42:59.059 --> 00:43:02.136\nThey're not the only ones who do it but\nthat's how they refer to their regions.\n\n903\n00:43:02.136 --> 00:43:06.338\n&gt;&gt; Okay.\n\n904\n00:43:06.338 --> 00:43:12.296\nAll right, so I'm just gonna type\nthis in and DC equals dot com.\n\n905\n00:43:12.296 --> 00:43:13.736\nClose that off.\n\n906\n00:43:13.736 --> 00:43:18.463\nAnd Elizabeth Weighbridge, engineering,\nMia practice labs com boom, are we sure,\n\n907\n00:43:18.463 --> 00:43:19.901\nabsolutely and go ahead.\n\n908\n00:43:19.901 --> 00:43:25.054\nWe updated that, so we have got her\nback along with any information\n\n909\n00:43:25.054 --> 00:43:30.685\nthat will be required to ensure that\nshe is instantiated successfully.\n\n910\n00:43:30.685 --> 00:43:33.627\nNow we're gonna back out of this\ngracefully I'm gonna show you how to\n\n911\n00:43:33.627 --> 00:43:34.856\nrestock it out of safe mode.\n\n912\n00:43:34.856 --> 00:43:36.331\nWe'll come back up one more time.\n\n913\n00:43:36.331 --> 00:43:38.579\nWe'll see the output of this.\n\n914\n00:43:38.579 --> 00:43:40.904\nSo, we're gonna quit outta here,\nwe're gonna quit outta here.\n\n915\n00:43:40.904 --> 00:43:43.339\nWe've done this before.\n\n916\n00:43:43.339 --> 00:43:45.328\nWe're gonna go ahead and just exit,\n\n917\n00:43:45.328 --> 00:43:47.777\nactually I can't even\ndo it right from here.\n\n918\n00:43:47.777 --> 00:43:50.072\nI don't even need to\nexit before I do that.\n\n919\n00:43:50.072 --> 00:43:51.520\nLet's type MS config.\n\n920\n00:43:51.520 --> 00:43:52.503\nWell we need MS config.\n\n921\n00:43:52.503 --> 00:43:53.551\n&gt;&gt; We checked it.\n\n922\n00:43:53.551 --> 00:43:56.597\n&gt;&gt; So we're going to uncheck force\nthe safe boot or safe mode boot.\n\n923\n00:43:56.597 --> 00:43:59.681\nWe're going to essentially come in here.\n\n924\n00:43:59.681 --> 00:44:00.553\nWe're going to uncheck that.\nMeaning,\n\n925\n00:44:00.553 --> 00:44:02.922\nwe're going to boot back up normally now.\n\n926\n00:44:02.922 --> 00:44:06.220\nThis is how we get out of safe mode\nbecause every time we've been restarting,\n\n927\n00:44:06.220 --> 00:44:09.534\nwe've left that setting intact, so\nwe're going into safe mode every time.\n\n928\n00:44:09.534 --> 00:44:10.497\nNow we're gonna boot normally.\n\n929\n00:44:10.497 --> 00:44:12.610\nEssentially just follow that.\n\n930\n00:44:12.610 --> 00:44:13.333\nSo we're gonna click apply.\n\n931\n00:44:13.333 --> 00:44:14.510\nClick OK.\n\n932\n00:44:14.510 --> 00:44:15.697\nJust like it did last time.\n\n933\n00:44:15.697 --> 00:44:17.019\nHey, you need to restart, great.\n\n934\n00:44:17.019 --> 00:44:19.923\nOnce I do this,\nwe're gonna cut away one more time.\n\n935\n00:44:19.923 --> 00:44:22.930\nWe'll restart, we're gonna come back up,\nlog back in, everything will be running.\n\n936\n00:44:22.930 --> 00:44:25.813\nWe'll be able to open up\nActive Directory user computers,\n\n937\n00:44:25.813 --> 00:44:28.476\nwe'll see the OUs are restored,\nthe users restored.\n\n938\n00:44:28.476 --> 00:44:30.963\nAnd we will at that point have then\ndone an authoritative restore.\n\n939\n00:44:30.963 --> 00:44:33.967\nSo you're gonna come back and\njoin us for that in just a moment.\n\n940\n00:44:33.967 --> 00:44:37.060\nLet me hit restart and we're gonna cut\naway, and as soon as we come back,\n\n941\n00:44:37.060 --> 00:44:38.350\nwe'll be ready to finish up.\n\n942\n00:44:40.161 --> 00:44:40.749\nAll right, so we're back.\n\n943\n00:44:40.749 --> 00:44:45.166\nNotice I'm having a much better hair\nday today than I was just before.\n\n944\n00:44:45.166 --> 00:44:47.819\nAnd I'm also wearing such\na beautiful shade of eye shadow.\n\n945\n00:44:47.819 --> 00:44:50.174\nI'm modeling the latest cosmetics.\n\n946\n00:44:50.174 --> 00:44:51.604\nAll right, so here we are.\n\n947\n00:44:51.604 --> 00:44:55.185\nWe're gonna go ahead, we're gonna just\ntake a quick look at the services and\n\n948\n00:44:55.185 --> 00:44:57.678\nsee that the, yeah,\nif we go there we're gonna see-\n\n949\n00:44:57.678 --> 00:45:00.501\n&gt;&gt; Hold on, I'm gonna put happy here.\n\n950\n00:45:00.501 --> 00:45:01.685\n&gt;&gt; You wanna use the mouse?\n\n951\n00:45:01.685 --> 00:45:02.185\nYeah.\n&gt;&gt; Yeah\n\n952\n00:45:02.185 --> 00:45:02.807\n&gt;&gt; Forgot about\n\n953\n00:45:02.807 --> 00:45:03.392\nthat.\n&gt;&gt; Yeah, there\n\n954\n00:45:03.392 --> 00:45:03.892\nyou go.\n&gt;&gt; [LAUGH]\n\n955\n00:45:03.892 --> 00:45:06.252\n&gt;&gt; All right, so, you can see the services\n\n956\n00:45:06.252 --> 00:45:08.207\nare indeed up and running now.\nSo\n\n957\n00:45:08.207 --> 00:45:12.819\nall the services we saw that are no longer\ngoing to be in STOP mode ADDS, DNS,\n\n958\n00:45:12.819 --> 00:45:15.663\nKerberos, can see are all running.\nSo we're gonna click, OK, there, or\n\n959\n00:45:15.663 --> 00:45:17.620\nCancel, either way.\nWe're gonna go up to Tools, and\n\n960\n00:45:17.620 --> 00:45:21.975\nunder tools, we're gonna load the Active\nDirectory Users and Computers interface.\n\n961\n00:45:21.975 --> 00:45:23.401\nGive that just a second to come up.\n\n962\n00:45:23.401 --> 00:45:25.789\nWe do see the eight pack OU at the top has\n\n963\n00:45:25.789 --> 00:45:30.807\nbeen restored underneath it when you click\non A pack, you'll see the sub OU IT.\n\n964\n00:45:30.807 --> 00:45:33.288\nAnd any of the objects associated with it\n\n965\n00:45:33.288 --> 00:45:36.940\nare there, so that was part\nof the authoritative restore,\n\n966\n00:45:36.940 --> 00:45:41.624\nwe go to the EMEA OU, also the EMEA OU\nbelow domain controllers right there.\n\n967\n00:45:41.624 --> 00:45:42.858\nAnd then up underneath\n\n968\n00:45:42.858 --> 00:45:47.083\nengineering's sub-OU, you'll see,\nyou click on engineering, you'll\n\n969\n00:45:47.083 --> 00:45:50.797\nsee Elizabeth has been restored as well.\nOur other user that we did\n\n970\n00:45:50.797 --> 00:45:52.937\nthe authoritative restore for.\nAnd so\n\n971\n00:45:52.937 --> 00:45:55.970\nwe can see the authoritative restore's\nresults, which are that all the objects\n\n972\n00:45:55.970 --> 00:46:00.332\nare back where they're supposed to be.\nEverything has been set up and\n\n973\n00:46:00.332 --> 00:46:05.080\nis ready to go.\nAnd if we right click on practicelabs.com\n\n974\n00:46:05.080 --> 00:46:10.708\nand we choose change domain controller,\nand you'll see that right now,\n\n975\n00:46:10.708 --> 00:46:14.445\nwe are using the plad\nSA01 domain controller.\n\n976\n00:46:14.445 --> 00:46:17.734\nWe go to plad DC01.\n\n977\n00:46:17.734 --> 00:46:19.740\nHighlight that,\n\n978\n00:46:19.740 --> 00:46:21.438\nclick ok.\nAnd give that a second.\n\n979\n00:46:21.438 --> 00:46:25.011\nAll right now open practice-labs.com back\n\n980\n00:46:25.011 --> 00:46:26.930\nup.\nWe do see A pack is still there so\n\n981\n00:46:26.930 --> 00:46:31.158\nit has been replicated between the domain\ncontrollers authoritatively restored.\n\n982\n00:46:31.158 --> 00:46:32.809\nWe can see everything.\n\n983\n00:46:32.809 --> 00:46:33.817\nIf we go to EMEA,\n\n984\n00:46:33.817 --> 00:46:38.052\nwe should also see under Engineering.\nIn the sub-OU under EMEA that\n\n985\n00:46:38.052 --> 00:46:41.550\nElizabeth user is there as well.\nAnd we can see that she exists\n\n986\n00:46:41.550 --> 00:46:45.128\non both domain controllers.\nSo not only did we authoritate a restore,\n\n987\n00:46:45.128 --> 00:46:47.772\nbut we authoritated,\nrestored, and replicated.\n\n988\n00:46:47.772 --> 00:46:50.018\nThose changes by pushing them out, right?\n\n989\n00:46:50.018 --> 00:46:51.931\nWe became the source of reality and\n\n990\n00:46:51.931 --> 00:46:55.207\nallowed everything to flow from us, and\n&gt;&gt; [CROSSTALK]\n\n991\n00:46:55.207 --> 00:46:55.783\n&gt;&gt; And that's now\n\n992\n00:46:55.783 --> 00:46:58.624\nwhy I'm Adam because this is the altered\nstate of the new source of reality.\n\n993\n00:46:58.624 --> 00:46:59.196\n&gt;&gt; You are and\n\n994\n00:46:59.196 --> 00:47:02.252\nyour camera is looking quite high there,\nso adjusted for\n\n995\n00:47:02.252 --> 00:47:03.303\nthe height.\nI like that.\n\n996\n00:47:03.303 --> 00:47:05.619\nI'm actually shorter than you are.\n\n997\n00:47:05.619 --> 00:47:07.666\nYou'll notice I have a lot of top room\n\n998\n00:47:07.666 --> 00:47:09.285\nnow.\nI'm on my tippy toes and\n\n999\n00:47:09.285 --> 00:47:11.927\nI still have four inches.\n&gt;&gt; Maybe we should wear hats,\n\n1000\n00:47:11.927 --> 00:47:13.240\nlike top hats.\n&gt;&gt; Perhaps or\n\n1001\n00:47:13.240 --> 00:47:16.406\nI should just jump, look see there I go.\n&gt;&gt; [LAUGH] But\n\n1002\n00:47:16.406 --> 00:47:18.453\nyou're successful.\n&gt;&gt; We were, we were.\n\n1003\n00:47:18.453 --> 00:47:19.807\n&gt;&gt; And that's what really counts, right?\n\n1004\n00:47:19.807 --> 00:47:21.206\n&gt;&gt; Absolutely.\n\n1005\n00:47:21.206 --> 00:47:23.044\nWe were and so everything has now\n\n1006\n00:47:23.044 --> 00:47:27.216\nbeen done and that boys and girls is\nhow you do an authoritative restore.\n\n1007\n00:47:27.216 --> 00:47:29.381\nSo, we've locked through the whole process\n\n1008\n00:47:29.381 --> 00:47:30.968\nfor you.\nAppreciate Cherokee helping me out here.\n\n1009\n00:47:30.968 --> 00:47:32.511\n&gt;&gt; [LAUGH]\n\n1010\n00:47:32.511 --> 00:47:34.425\n&gt;&gt; And we did turn this studio 180 degrees\n\n1011\n00:47:34.425 --> 00:47:37.486\nto achieve this effect, by the way.\nBut we have lock through,\n\n1012\n00:47:37.486 --> 00:47:41.063\ndone the authoritative restore.\nWe've gone through shown you how to use\n\n1013\n00:47:41.063 --> 00:47:43.203\nthe system state.\nBackup to do the restore,\n\n1014\n00:47:43.203 --> 00:47:47.302\nlay down the foundational elements, and\nthen provide the authoritative restore.\n\n1015\n00:47:47.302 --> 00:47:49.252\nRestoring the objects along the way and\n\n1016\n00:47:49.252 --> 00:47:52.931\nmarking them authoritatively so\nthey appeared and replicated back out.\n\n1017\n00:47:52.931 --> 00:47:54.515\nThank you for your time and attention.\n\n1018\n00:47:54.515 --> 00:47:56.056\nThank you for switching with me,\n\n1019\n00:47:56.056 --> 00:47:59.472\nI appreciate you doing that for us.\nAnd not often you see me on this side over\n\n1020\n00:47:59.472 --> 00:48:01.439\nhere, we're all turned around.\n&gt;&gt; [LAUGH]\n\n1021\n00:48:01.439 --> 00:48:03.208\n&gt;&gt; All right, anyway, we are out of time,\n\n1022\n00:48:03.208 --> 00:48:05.454\nas Cherokee says and\nI'm gonna let you take us out.\n\n1023\n00:48:05.454 --> 00:48:07.093\n&gt;&gt; I've been your host, Adam Gordon.\n\n1024\n00:48:07.093 --> 00:48:08.672\n&gt;&gt; I've been your host Cherokee Boose.\n\n1025\n00:48:08.672 --> 00:48:12.305\n&gt;&gt; See you next time here at ITPRO.TV.\n\n1026\n00:48:12.305 --> 00:48:18.285\n[MUSIC].\n\n1027\n00:48:18.285 --> 00:48:23.323\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "232677520"
        }
      ],
      "title": "Monitoring, managing, and recovering AD DS"
    }
  ],
  "url": "mcsa-windows-server-2016-70742",
  "vLab": false
}
