{
  "description": "This course will show you how you can mitigate malware threats, identify security issues by using auditing and the Advanced Threat Analysis feature in Windows Server 2016, secure your virtualization platform, and use new deployment options, such as Nano server and containers to enhance security. The course also explains how you can help protect access to files by using encryption and dynamic access control, and how you can enhance your network’s security.",
  "descriptionMD": "This course will show you how you can mitigate malware threats, identify security issues by using auditing and the Advanced Threat Analysis feature in Windows Server 2016, secure your virtualization platform, and use new deployment options, such as Nano server and containers to enhance security. The course also explains how you can help protect access to files by using encryption and dynamic access control, and how you can enhance your network’s security.",
  "length": "113907",
  "name": "MCSE Windows Server 2016 - 70-744",
  "practiceExam": false,
  "subtitle": "Securing Windows Server 2016",
  "tagUrl": "microsoft-technical",
  "topics": [
    {
      "episodes": [
        {
          "description": "This course will show you how you can mitigate malware threats, identify security issues by using auditing and the Advanced Threat Analysis feature in Windows Server 2016, secure your virtualization platform, and use new deployment options, such as Nano server and containers to enhance security. The course also explains how you can help protect access to files by using encryption and dynamic access control, and how you can enhance your network’s security.",
          "length": "307",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-0-0-0-overview-100517-PGM.00_08_26_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-0-0-0-overview-100517-PGM.00_08_26_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-0-0-0-overview-100517-PGM.00_08_26_23.Still001-sm.jpg",
          "title": "Overview",
          "transcript": "",
          "vimeoId": "243355579"
        },
        {
          "description": "In this show, Adam and Cherokee provide a high level security overview. Adam explains what an bad actor is and explains several attack vectors. He also covers different phases in an attack and phases associated with incident response. Lastly, Adam urges that security should not be a one size fits all as well as sharing info on downloadable tools called sysinternals.",
          "length": "2056",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-1-1-security_overview-091217-PGM.00_34_01_18.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-1-1-security_overview-091217-PGM.00_34_01_18.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-1-1-security_overview-091217-PGM.00_34_01_18.Still001-sm.jpg",
          "title": "Security Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.290 --> 00:00:02.711\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.711 --> 00:00:06.758\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.758 --> 00:00:08.387\n[MUSIC]\n\n4\n00:00:08.387 --> 00:00:11.923\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.923 --> 00:00:16.066\n&gt;&gt; Welcome, ladies and gentlemen, to your\nSecuring Windows Server 2016 series.\n\n6\n00:00:16.066 --> 00:00:18.300\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.300 --> 00:00:22.220\nIn this episode, we'll be taking\na look at a security overview.\n\n8\n00:00:22.220 --> 00:00:24.810\nAnd of course, with us today,\nwe have Microsoft expert, Mr.\n\n9\n00:00:24.810 --> 00:00:26.440\nAdam Gordon, in the studios.\n\n10\n00:00:26.440 --> 00:00:28.050\nThank you for joining us today, Adam.\n\n11\n00:00:28.050 --> 00:00:28.730\n&gt;&gt; Hello, everybody.\n\n12\n00:00:28.730 --> 00:00:31.490\nHopefully you're all doing well,\neverybody is good.\n\n13\n00:00:31.490 --> 00:00:34.330\nWe are happy, as always,\nto be here spending time with you.\n\n14\n00:00:34.330 --> 00:00:36.880\nWe're gonna talk about one\nof my more favorite topics.\n\n15\n00:00:36.880 --> 00:00:39.800\nCherokee and I both enjoy\ntalking about security with you,\n\n16\n00:00:39.800 --> 00:00:41.410\nand hopefully you'll enjoy it as well.\n\n17\n00:00:41.410 --> 00:00:45.334\nWe thought we would start with\nthis episode as an overview.\n\n18\n00:00:45.334 --> 00:00:49.317\nKind of going through some of the thought\nprocess behind the ideas that surround\n\n19\n00:00:49.317 --> 00:00:49.920\nsecurity.\n\n20\n00:00:49.920 --> 00:00:52.870\nWe're gonna talk a lot in depth\nin upcoming episodes about\n\n21\n00:00:52.870 --> 00:00:56.460\nsecurity technology specific\nto Microsoft Server 16.\n\n22\n00:00:56.460 --> 00:01:01.060\nHow we do those things we have to do, and\nuse the technologies Microsoft provides\n\n23\n00:01:01.060 --> 00:01:05.080\nto ensure that we can build\nan enterprise security architecture.\n\n24\n00:01:05.080 --> 00:01:08.531\nAnd enable it and administer it in\nways that will make us more secure.\n\n25\n00:01:08.531 --> 00:01:11.545\nAnd ultimately allow us,\nas security professionals,\n\n26\n00:01:11.545 --> 00:01:13.276\nallow you as IT professionals,\n\n27\n00:01:13.276 --> 00:01:17.200\nto do the things we need to do to\nachieve security across the enterprise.\n\n28\n00:01:17.200 --> 00:01:21.200\nBut in order to do that, we have to speak\nand understand the language of security,\n\n29\n00:01:21.200 --> 00:01:23.860\nand really think about ultimately\n\n30\n00:01:23.860 --> 00:01:27.370\nwhat a culture of security\nentails in the organization.\n\n31\n00:01:27.370 --> 00:01:31.620\nHow do we get everybody from the most\nsenior leaders in the organization,\n\n32\n00:01:31.620 --> 00:01:36.120\nthe C-level executives, and the line of\nbusiness owners, who we call stakeholders,\n\n33\n00:01:36.120 --> 00:01:39.920\nas well as the individual average\neveryday information worker.\n\n34\n00:01:39.920 --> 00:01:44.740\nPeople like yourself, like myself, like\nCherokee, people who just use computers,\n\n35\n00:01:44.740 --> 00:01:48.350\ninteract with information, and\ndo that on a regular basis.\n\n36\n00:01:48.350 --> 00:01:51.100\nHow do we get everybody, and\nall those people in between,\n\n37\n00:01:51.100 --> 00:01:54.920\non the bell curve of security, to pay\nattention to things that are common sense?\n\n38\n00:01:54.920 --> 00:01:58.864\nHow get them to see something, and when\nthey see something, say something, for\n\n39\n00:01:58.864 --> 00:01:59.447\ninstance?\n\n40\n00:01:59.447 --> 00:02:03.880\nAnd how do we get them to help us identify\nwhat seems to be unusual and odd,\n\n41\n00:02:03.880 --> 00:02:07.380\nwith regards to suspicious or\nunknown behavior?\n\n42\n00:02:07.380 --> 00:02:10.950\nSomething is not looking the right way,\nsomething isn't acting the right way.\n\n43\n00:02:10.950 --> 00:02:13.320\nCommon sense would say,\nat least for most of us, is hey,\n\n44\n00:02:13.320 --> 00:02:16.380\nmaybe I should tell somebody,\nmaybe I should say something.\n\n45\n00:02:16.380 --> 00:02:17.400\nBut as we know, and\n\n46\n00:02:17.400 --> 00:02:20.680\nI'm sure all of you know, there's nothing\ncommon about common sense, right?\n\n47\n00:02:20.680 --> 00:02:22.180\nAnd so we have to think about and\n\n48\n00:02:22.180 --> 00:02:25.600\nreally go out of our way to take steps\nto build up that thought process.\n\n49\n00:02:25.600 --> 00:02:28.710\nTo create policy, process, procedure, and\n\n50\n00:02:28.710 --> 00:02:32.900\noversight to ensure that we're\nmanaging security in every aspect of\n\n51\n00:02:32.900 --> 00:02:37.110\nthe organizational area, or\nthought process, as we go through.\n\n52\n00:02:37.110 --> 00:02:39.610\nAnd in order to do that, we've gotta talk\nabout some basic building blocks and\n\n53\n00:02:39.610 --> 00:02:40.210\nvocabulary.\n\n54\n00:02:40.210 --> 00:02:44.670\nSo let's start by talking about\nwhat the language of security is.\n\n55\n00:02:44.670 --> 00:02:48.033\nRegardless of platform, so in other\nwords regardless of whether you're\n\n56\n00:02:48.033 --> 00:02:51.179\non Microsoft's platform in this case,\nwhether you're on a Linux,\n\n57\n00:02:51.179 --> 00:02:54.080\nUnix platform, whether you're\non a mobile device platform.\n\n58\n00:02:54.080 --> 00:02:56.115\nRegardless of where you are and\nwhat you do,\n\n59\n00:02:56.115 --> 00:02:59.085\nthe thought process with regards\nto the security vocabulary and\n\n60\n00:02:59.085 --> 00:03:02.170\nthe ideas behind them is the same,\ndoesn't really matter.\n\n61\n00:03:02.170 --> 00:03:06.000\nWhen we talk about an attack vector,\na direction, a way,\n\n62\n00:03:06.000 --> 00:03:11.800\na methodology that a bad actor is gonna\nseek to come at us or seek to attack us.\n\n63\n00:03:11.800 --> 00:03:14.320\nThat definition of attack\nvector is the same,\n\n64\n00:03:14.320 --> 00:03:17.160\nregardless of the device,\nregardless of the platform.\n\n65\n00:03:17.160 --> 00:03:20.640\nWhen we think about a bad actor,\nwhat is commonly called a threat actor or\n\n66\n00:03:20.640 --> 00:03:23.370\na threat source,\nwe're talking about the person or\n\n67\n00:03:23.370 --> 00:03:25.300\nthe group of people that\nmay look to do us harm.\n\n68\n00:03:25.300 --> 00:03:28.110\nWe traditionally hear them\nrefered to as hackers or\n\n69\n00:03:28.110 --> 00:03:31.320\npeople that may be up to no good,\nvariety of terms.\n\n70\n00:03:31.320 --> 00:03:35.250\nBut traditionally we refer to them\nas threat sources or bad actors.\n\n71\n00:03:35.250 --> 00:03:38.655\nOr even threat actors in\nthe language of risk management,\n\n72\n00:03:38.655 --> 00:03:43.230\nand the language that we use to describe\nthese activities and these people.\n\n73\n00:03:43.230 --> 00:03:44.471\nWhen we think about weaknesses,\n\n74\n00:03:44.471 --> 00:03:46.517\nwe think about a term known\nas vulnerability, right?\n\n75\n00:03:46.517 --> 00:03:50.609\nAnd the vulnerability or the weakness is\nthe point at which the threat source,\n\n76\n00:03:50.609 --> 00:03:53.089\nthe bad actor,\nlooks to exploit our weakness,\n\n77\n00:03:53.089 --> 00:03:55.940\nlooks to take advantage\nof that vulnerability.\n\n78\n00:03:55.940 --> 00:03:59.480\nAnd creates an attack vector that\nwill somehow triangulate, right,\n\n79\n00:03:59.480 --> 00:04:02.780\nseek to be advantageous and\nattached to that vulnerability, and\n\n80\n00:04:02.780 --> 00:04:04.870\ntake advantage of it in some way.\n\n81\n00:04:04.870 --> 00:04:09.780\nSo we have to think about the terminology\nand the general thought processes\n\n82\n00:04:09.780 --> 00:04:12.585\nassociated with not only security,\nbut also the negative.\n\n83\n00:04:12.585 --> 00:04:16.020\nRight, the inverse of security,\nwhich is the attack that the hacker or\n\n84\n00:04:16.020 --> 00:04:17.460\nthe bad actor is looking to carry out.\n\n85\n00:04:17.460 --> 00:04:20.790\nIn order to better understand\nnot just what we have to do, but\n\n86\n00:04:20.790 --> 00:04:22.140\nthe mindset of the adversary.\n\n87\n00:04:22.140 --> 00:04:24.810\nAnd this is one of the things that,\nas we think about security,\n\n88\n00:04:24.810 --> 00:04:27.590\nand we talk a lot about\nsecurity in upcoming episodes,\n\n89\n00:04:27.590 --> 00:04:30.520\nwe'll return to from time to time\nas a general thought process.\n\n90\n00:04:30.520 --> 00:04:32.310\nWhy do we do things the way we do?\n\n91\n00:04:32.310 --> 00:04:35.310\nWell usually from a prescriptive basis,\nbecause the vendor,\n\n92\n00:04:35.310 --> 00:04:38.730\nin this case Microsoft, has said hey,\nthis tool works this way, do this,\n\n93\n00:04:38.730 --> 00:04:41.760\nthis is the best practice in\norder to achieve this end result.\n\n94\n00:04:41.760 --> 00:04:43.500\nThat all makes a lot of sense, but\n\n95\n00:04:43.500 --> 00:04:47.970\nultimately what's behind that best\npractice methodology is an awareness of\n\n96\n00:04:47.970 --> 00:04:52.030\nthe idea that the bad actor is likely\nto exploit this particular approach.\n\n97\n00:04:52.030 --> 00:04:54.950\nAnd this what we call counter measure,\nor this control,\n\n98\n00:04:54.950 --> 00:04:58.700\nthose terms are interchangeable and\nsynonymous with one another.\n\n99\n00:04:58.700 --> 00:05:01.440\nThis countermeasure or\ncontrol we're putting in place,\n\n100\n00:05:01.440 --> 00:05:05.580\nthis best practice we're applying, this\nparticular approach that we are using,\n\n101\n00:05:05.580 --> 00:05:08.270\nthis tool that will\nachieve this end result,\n\n102\n00:05:08.270 --> 00:05:12.530\nis designed to address that concern,\nwhatever that concern may be.\n\n103\n00:05:12.530 --> 00:05:15.930\nMinimize or mitigate is a term\nyou'll often hear us use or\n\n104\n00:05:15.930 --> 00:05:18.890\nrefer to with regards to risk\nmanagement and security.\n\n105\n00:05:18.890 --> 00:05:23.670\nAnd minimization or mitigation of risk\nis what we talk about with security.\n\n106\n00:05:23.670 --> 00:05:26.620\nAnd the idea of using a counter measure or\n\n107\n00:05:26.620 --> 00:05:30.636\na control to achieve that end result\nis also something very important.\n\n108\n00:05:30.636 --> 00:05:33.420\nSo attack vectors really\nare what we really address,\n\n109\n00:05:33.420 --> 00:05:37.770\nwhat we think of, what we look to manage\nwith regards to how we approach security.\n\n110\n00:05:37.770 --> 00:05:40.640\nAnd there are many different ways\nwe could see attacks happening.\n\n111\n00:05:40.640 --> 00:05:44.100\nThink about the logic you see\neveryday in your organizations,\n\n112\n00:05:44.100 --> 00:05:47.000\nyou see individuals using\ndesktop computers, right?\n\n113\n00:05:47.000 --> 00:05:51.379\nInteracting with productivity\ntools such as Microsoft Office,\n\n114\n00:05:51.379 --> 00:05:54.652\nAdobe Acrobat,\nprobably Java and Adobe Flash.\n\n115\n00:05:54.652 --> 00:05:57.070\nAnd who knows what else,\nall sorts of software, right?\n\n116\n00:05:57.070 --> 00:06:02.632\nAnd some of that software, as we know,\nis relatively secure, others not so much.\n\n117\n00:06:02.632 --> 00:06:05.620\nRight, there's a lot of concern,\na lot of patches,\n\n118\n00:06:05.620 --> 00:06:10.090\na lot of indications of weakness and\nvulnerabilities that have to be addressed.\n\n119\n00:06:10.090 --> 00:06:14.480\nSome much more important, more impactful\nthan others, and we also talk when we talk\n\n120\n00:06:14.480 --> 00:06:18.130\nabout management of risk and\nsecurity, we talk about probability.\n\n121\n00:06:18.130 --> 00:06:23.420\nWe talk about likelihood, likelihood or\nprobability, again synonymous terms.\n\n122\n00:06:23.420 --> 00:06:27.840\nThis is a measure of the percentage or\nsome sort of value,\n\n123\n00:06:27.840 --> 00:06:31.650\nnumeric value, the chance that\nthis particular attack vector,\n\n124\n00:06:31.650 --> 00:06:35.150\nthis particular issue, this\nvulnerability will be used against us.\n\n125\n00:06:35.150 --> 00:06:38.460\nAnd we talk about the idea of impact or\nexposure.\n\n126\n00:06:38.460 --> 00:06:42.460\nAgain, terms we often hear used\nsynonymously with each other,\n\n127\n00:06:42.460 --> 00:06:46.670\nwhich is a measure, again typically\na numerical value, perhaps dollar value.\n\n128\n00:06:46.670 --> 00:06:50.890\nDepends on what we're doing and\nhow we're assessing, of the likelihood.\n\n129\n00:06:50.890 --> 00:06:53.881\nSo the probability or likelihood is\nmeasured as well as the impact or\n\n130\n00:06:53.881 --> 00:06:54.410\nexposure.\n\n131\n00:06:54.410 --> 00:06:58.139\nThe impact or exposure, a measure of\nhow badly something will hurt us or\n\n132\n00:06:58.139 --> 00:07:02.182\nwhat it will cost us were that risk or\nthat particular vulnerability to be used\n\n133\n00:07:02.182 --> 00:07:05.183\nby an attacker successfully\nto gain advantage, right?\n\n134\n00:07:05.183 --> 00:07:07.110\nTo, in other words, attack our systems.\n\n135\n00:07:07.110 --> 00:07:11.340\nSo we think about how to measure and\nmanage all of these moving parts.\n\n136\n00:07:11.340 --> 00:07:15.022\nWe think about all different places where\nattacks or attack vectors may occur.\n\n137\n00:07:15.022 --> 00:07:15.544\nSo Cherokee,\n\n138\n00:07:15.544 --> 00:07:18.290\nnot to leave you out from my running\ndialogue here for the last few minutes.\n\n139\n00:07:18.290 --> 00:07:21.611\n&gt;&gt; That's okay, I know you are passionate\nabout this, and that is great,\n\n140\n00:07:21.611 --> 00:07:24.400\ncuz this is a perfect show for\nyou to be teaching here.\n\n141\n00:07:24.400 --> 00:07:25.179\n&gt;&gt; Thank you.\n&gt;&gt; [LAUGH]\n\n142\n00:07:25.179 --> 00:07:26.730\n&gt;&gt; Appreciate that thought process.\n\n143\n00:07:26.730 --> 00:07:30.107\nSo help me to better understand,\nhelp us to better understand,\n\n144\n00:07:30.107 --> 00:07:32.495\nwhat are some of the attack vectors,\nright?\n\n145\n00:07:32.495 --> 00:07:34.085\nThe places we should look at,\n\n146\n00:07:34.085 --> 00:07:38.750\nthings we wanna be concerned about as IT\nprofessionals, as security professionals.\n\n147\n00:07:38.750 --> 00:07:41.610\nWhat are places we look at\nwhere attacks may occur, right?\n\n148\n00:07:41.610 --> 00:07:43.450\n&gt;&gt; Jeez, email, I mean, we see-\n&gt;&gt; Email, good.\n\n149\n00:07:43.450 --> 00:07:45.620\n&gt;&gt; Tons of emails on a daily basis.\n\n150\n00:07:45.620 --> 00:07:48.968\nYou might even wanna think\nabout any kind of downloads,\n\n151\n00:07:48.968 --> 00:07:51.613\ndepending on where you\nare on the Internet.\n\n152\n00:07:51.613 --> 00:07:55.097\nIf you don't know the source,\nif it's not a trusted source,\n\n153\n00:07:55.097 --> 00:07:59.586\nyou never wanna be downloading without\nsome kind of malware scanning utility.\n\n154\n00:07:59.586 --> 00:08:05.190\nOr at least some kind of defense on your\nnetwork for that, any kind of scanning.\n\n155\n00:08:05.190 --> 00:08:08.240\nYou also wanna think about\ndifferent types of attacks.\n\n156\n00:08:08.240 --> 00:08:10.510\nIt's not always just\na digital type of attack.\n\n157\n00:08:10.510 --> 00:08:13.255\nYou may even experience\nsocial engineering.\n\n158\n00:08:13.255 --> 00:08:17.355\nSo you might have policies and\nprocedures in place that employees need to\n\n159\n00:08:17.355 --> 00:08:20.065\nfollow to prevent those\ntypes of attacks as well.\n\n160\n00:08:20.065 --> 00:08:24.465\n&gt;&gt; So all great examples, right, of attack\nvectors, things we would wanna look at.\n\n161\n00:08:24.465 --> 00:08:26.992\nWe mentioned, or Cherokee mentioned email.\n\n162\n00:08:26.992 --> 00:08:30.957\nThis is certainly one of probably the most\nprevalent ways we see attacks being\n\n163\n00:08:30.957 --> 00:08:31.691\npropagated.\n\n164\n00:08:31.691 --> 00:08:35.779\nAttacks like phishing attacks,\nsocial engineering attacks,\n\n165\n00:08:35.779 --> 00:08:39.878\nmasquerading, spoofing,\nmisdirection, cache poisoning.\n\n166\n00:08:39.878 --> 00:08:43.328\nThese are all categories or types of\nattacks that are all spread, potentially,\n\n167\n00:08:43.328 --> 00:08:44.048\nthrough email.\n\n168\n00:08:44.048 --> 00:08:48.228\nYou mentioned malware, more broadly,\ndownloads, knowing the source, right, and\n\n169\n00:08:48.228 --> 00:08:49.620\nusing secure sources.\n\n170\n00:08:49.620 --> 00:08:52.925\nWe have to think about things like\ndigitally signing our software using\n\n171\n00:08:52.925 --> 00:08:57.040\nhashing to validate the source and\nprovide proof of origin.\n\n172\n00:08:57.040 --> 00:09:00.221\nSo that we know we're using legitimate\nsoftware, to Cherokee's point,\n\n173\n00:09:00.221 --> 00:09:00.986\nvery important.\n\n174\n00:09:00.986 --> 00:09:04.874\nAnd even then, right, hashes, although\nit's unlikely that they will be spoofed,\n\n175\n00:09:04.874 --> 00:09:07.900\nthere have been attacks in\nthe past where this has occurred.\n\n176\n00:09:07.900 --> 00:09:10.220\nAnd so we have to have a healthy\ndosage of skepticism, right?\n\n177\n00:09:10.220 --> 00:09:13.010\nReally think long and hard about\nwhat we're doing, where we're going,\n\n178\n00:09:13.010 --> 00:09:16.980\nhow we're doing that,\nwho's behind that web page, right?\n\n179\n00:09:16.980 --> 00:09:18.940\nIs it a trusted good actor?\n\n180\n00:09:18.940 --> 00:09:23.172\nIs it somebody masquerading, pretending\nto be somebody they're not, right?\n\n181\n00:09:23.172 --> 00:09:24.350\nYou never know, right?\n\n182\n00:09:24.350 --> 00:09:27.280\nSo we may go out and\nget redirected to a site that looks and\n\n183\n00:09:27.280 --> 00:09:31.220\nfeels legitimately just like a real site.\n\n184\n00:09:31.220 --> 00:09:34.540\nBut there is some common sense\nthought process we have to apply here.\n\n185\n00:09:34.540 --> 00:09:38.510\nFor instance, in the financial sector,\nregardless of where you live in the world,\n\n186\n00:09:38.510 --> 00:09:42.180\nalmost without exception,\ncredit card companies today, banks today\n\n187\n00:09:42.180 --> 00:09:46.530\nhave made it clear that they will not\ncommunicate with customers by email.\n\n188\n00:09:46.530 --> 00:09:51.970\nVia links to web pages, ask you to do\nthings like reset passwords on your\n\n189\n00:09:51.970 --> 00:09:55.880\naccounts, provide account information,\nPIN numbers, things like that.\n\n190\n00:09:55.880 --> 00:09:57.700\nThat's not an accepted practice.\n\n191\n00:09:57.700 --> 00:09:59.300\nIt's not a good practice.\n\n192\n00:09:59.300 --> 00:10:02.472\nBanks and financial institutions and\ncredit card issuers,\n\n193\n00:10:02.472 --> 00:10:05.582\namong many other vendors,\nknow that this is just a really,\n\n194\n00:10:05.582 --> 00:10:09.205\nfor lack of a better way of describing it,\ndumb thing to do via email.\n\n195\n00:10:09.205 --> 00:10:11.873\nAnd they've gone out of their way to\nensure to the best of their ability,\n\n196\n00:10:11.873 --> 00:10:14.604\nthey've communicated to their customers\nthat they would never do this.\n\n197\n00:10:14.604 --> 00:10:18.610\nAnd should you see emails to that effect,\ntreat them as suspicious.\n\n198\n00:10:18.610 --> 00:10:20.210\nDo not click on links.\n\n199\n00:10:20.210 --> 00:10:24.367\nForward them to the anti-fraud units\nthat these businesses maintain.\n\n200\n00:10:24.367 --> 00:10:25.950\nBut at a minimum, ignore them.\n\n201\n00:10:25.950 --> 00:10:29.010\nBecause what you often find\nis that these emails look\n\n202\n00:10:29.010 --> 00:10:33.650\nidentical to the real emails you may get\nwith regards to general customer service.\n\n203\n00:10:33.650 --> 00:10:35.990\nIt's easy to download\na corporate logo today.\n\n204\n00:10:35.990 --> 00:10:39.680\nIt's easy to scrape and\nliterally take the guts of an email,\n\n205\n00:10:39.680 --> 00:10:42.220\nincluding the frame,\nthe contact information,\n\n206\n00:10:42.220 --> 00:10:46.150\nall that, from a legitimate email,\nreproduce it in a fake email.\n\n207\n00:10:46.150 --> 00:10:50.700\nAnd simply make that fake email look\nalmost 100% accurate, with the exception\n\n208\n00:10:50.700 --> 00:10:54.734\nof a URL that's buried somewhere in\nthere behind one of those click here.\n\n209\n00:10:54.734 --> 00:10:56.650\nRight, we've all seen\nthose kind of emails.\n\n210\n00:10:56.650 --> 00:11:00.200\nClick here to log on, or click here\nto report this, or whatever, and\n\n211\n00:11:00.200 --> 00:11:04.620\nthe words click here are usually gonna\nbe blue and enabled as a URL link.\n\n212\n00:11:04.620 --> 00:11:07.229\nIf you don't have the ability to hover or\n\n213\n00:11:07.229 --> 00:11:10.470\nto preview that link and\nsee where it resolves to.\n\n214\n00:11:10.470 --> 00:11:14.288\nAnd let's be honest, how many of your\nusers, right, as IT professionals,\n\n215\n00:11:14.288 --> 00:11:18.314\nall of you probably know, never click on\nthat link unless you know where it goes.\n\n216\n00:11:18.314 --> 00:11:20.025\nAlways look at it first.\n\n217\n00:11:20.025 --> 00:11:21.660\nIf you're not clear where it goes,\n\n218\n00:11:21.660 --> 00:11:25.470\ndon't access it from a machine\nthat has any sort of exposure.\n\n219\n00:11:25.470 --> 00:11:29.410\nUse a standoff machine that's\nrunning as an isolated machine,\n\n220\n00:11:29.410 --> 00:11:33.670\nmaybe a virtualized machine of some kind,\nperhaps running in a sandbox.\n\n221\n00:11:33.670 --> 00:11:35.890\nI use, for instance, my mobile device.\n\n222\n00:11:35.890 --> 00:11:39.910\nYou've heard me talk in other shows about\nthe fact I still run a BlackBerry, right,\n\n223\n00:11:39.910 --> 00:11:40.850\nproudly.\n\n224\n00:11:40.850 --> 00:11:44.890\nAnd one of the reasons I do that is that\nit is, whether you like BlackBerry or not,\n\n225\n00:11:44.890 --> 00:11:48.040\nwhether you agree with them\nas a platform any longer or\n\n226\n00:11:48.040 --> 00:11:51.430\nnot, it is one of the most\nsecure platforms out there.\n\n227\n00:11:51.430 --> 00:11:55.300\nAnd the web browser is very secure,\nthe native browser built in.\n\n228\n00:11:55.300 --> 00:11:57.390\nAlthough these days now,\nrunning on Android,\n\n229\n00:11:57.390 --> 00:12:00.690\nour native browser is the Chrome browser,\nright, the Google browser.\n\n230\n00:12:00.690 --> 00:12:04.970\nBut up until recently, in prior versions,\nwe had a native BlackBerry browser.\n\n231\n00:12:04.970 --> 00:12:06.060\nAnd I would run other browsers.\n\n232\n00:12:06.060 --> 00:12:06.670\nI would download and\n\n233\n00:12:06.670 --> 00:12:10.280\nrun things like the Alpha browser, there\nare different secure browsers you can use.\n\n234\n00:12:10.280 --> 00:12:15.160\nI'll use my device to preview emails\nfrom clients when they send them to\n\n235\n00:12:15.160 --> 00:12:17.280\nme wanting to know whether\nthey're legitimate or not.\n\n236\n00:12:17.280 --> 00:12:22.220\nBecause I can click on it on there, and\nI'm not gonna be able to expose my device.\n\n237\n00:12:22.220 --> 00:12:25.530\nBecause I'm not worried about going to a\nfake site, cuz it's not gonna load malware\n\n238\n00:12:25.530 --> 00:12:29.240\nonto my machine, or rather,\nonto my phone traditionally, right?\n\n239\n00:12:29.240 --> 00:12:31.100\nSo I'm not too worried about that.\n\n240\n00:12:31.100 --> 00:12:33.390\nBut if I did that from a main\nmachine I use all the time,\n\n241\n00:12:33.390 --> 00:12:34.570\nI would be very concerned.\n\n242\n00:12:34.570 --> 00:12:37.960\nSo we wanna preview those links and make\nsure we know what's going on with them.\n\n243\n00:12:37.960 --> 00:12:41.070\nSo all really great suggestions and\nthoughts from Cherokee,\n\n244\n00:12:41.070 --> 00:12:45.920\nsocial engineering, as she mentioned\nas well, huge, huge issue for us.\n\n245\n00:12:45.920 --> 00:12:50.470\nAll sorts of different ways people can\nlook to trick us and/or get our people\n\n246\n00:12:50.470 --> 00:12:55.090\nassociated with access to our systems into\nthe mindset of providing that information\n\n247\n00:12:55.090 --> 00:12:56.470\nwithout thinking about it.\n\n248\n00:12:56.470 --> 00:13:00.600\nEspecially around times where there\nare events going on, whether it's weather\n\n249\n00:13:00.600 --> 00:13:04.990\nrelated or just political, geopolitical,\nglobal events, whatever they may be, that\n\n250\n00:13:04.990 --> 00:13:09.780\nmay cause people to be looking, right, for\nways to be able to take advantage of them.\n\n251\n00:13:09.780 --> 00:13:14.750\nSo people may send out emails, bad actors,\nafter an event, saying, hey, this is so\n\n252\n00:13:14.750 --> 00:13:18.850\nand so looking to check in on you,\nmaking sure everything is okay.\n\n253\n00:13:18.850 --> 00:13:22.182\nPlease provide information to\nhelp us validate your account.\n\n254\n00:13:22.182 --> 00:13:26.816\nAnd again, most likely fake, but you just\nhave to exercise that kinda caution and\n\n255\n00:13:26.816 --> 00:13:29.580\nwhat we call due diligence and\ndue care, right?\n\n256\n00:13:29.580 --> 00:13:33.350\nDue care, the ability for\nan individual to act in a certain way,\n\n257\n00:13:33.350 --> 00:13:38.590\nto act with regards to security and ensure\nthey're acting in ways that facilitate\n\n258\n00:13:38.590 --> 00:13:41.660\nsecurity as opposed to opening\nthem up to potential liability.\n\n259\n00:13:41.660 --> 00:13:45.910\nAnd due diligence, oversight, right,\nwith regards to how senior leadership and\n\n260\n00:13:45.910 --> 00:13:48.890\nthe business acts and\nthe environment they provide.\n\n261\n00:13:48.890 --> 00:13:53.010\nAnd so this idea of mutually\nreinforcing one another's activities\n\n262\n00:13:53.010 --> 00:13:55.210\nwith a solid approach to security,\n\n263\n00:13:55.210 --> 00:13:59.680\ncreating this culture of security that\nwe talked about, very, very important.\n\n264\n00:13:59.680 --> 00:14:02.390\nAttacks against cloud and\nvirtualized infrastructure,\n\n265\n00:14:02.390 --> 00:14:05.655\nanother huge attack vector that we\nhave to be concerned about today.\n\n266\n00:14:05.655 --> 00:14:07.820\nAttacks against operating systems, old,\n\n267\n00:14:07.820 --> 00:14:09.350\ntraditional stuff like\nyou were suggesting.\n\n268\n00:14:09.350 --> 00:14:15.330\nMalware is a huge vector, a way we inject\nuncertainty and concern into a system.\n\n269\n00:14:15.330 --> 00:14:18.870\nAnd if we're not doing something as simple\nas keeping up with patch management,\n\n270\n00:14:18.870 --> 00:14:22.900\nwhich is on the list of security 101,\nmost basic things we teach you,\n\n271\n00:14:22.900 --> 00:14:25.310\nand I'm sure that a lot\nof you are aware of.\n\n272\n00:14:25.310 --> 00:14:27.470\nBut the reality is, every day,\n\n273\n00:14:27.470 --> 00:14:30.940\nthere are exploits that come out against\nknown vulnerabilities that are successful.\n\n274\n00:14:30.940 --> 00:14:33.650\nBecause IT professionals,\nfor a variety of reasons,\n\n275\n00:14:33.650 --> 00:14:36.680\nare not keeping up with patch\nmanagement the way they should.\n\n276\n00:14:36.680 --> 00:14:38.820\nAnd the reasons are not important.\n\n277\n00:14:38.820 --> 00:14:40.970\nThe fact that it's happening is what is,\nright?\n\n278\n00:14:40.970 --> 00:14:42.840\nAnd so just thinking about that.\n\n279\n00:14:42.840 --> 00:14:44.380\nWe have to think about attack phases.\n\n280\n00:14:44.380 --> 00:14:48.450\nWhat are the different phases\nthat attackers will go through in\n\n281\n00:14:48.450 --> 00:14:50.100\norder to successfully propagate an attack?\n\n282\n00:14:50.100 --> 00:14:54.950\nAnd they're well defined, well identified,\nwell understood methodologies and\n\n283\n00:14:54.950 --> 00:14:58.580\nphases that, as security professionals,\nwe have to think about and be aware of.\n\n284\n00:14:58.580 --> 00:15:02.240\nThere are three phases, more or\nless, in particular we can call out.\n\n285\n00:15:02.240 --> 00:15:05.570\nYou may see models that have four or\nfive phases associated with them.\n\n286\n00:15:06.630 --> 00:15:08.750\nNot as concerned about\nwhat the phases are,\n\n287\n00:15:08.750 --> 00:15:13.230\nper se, in terms of breaking down\ncertain phases into sub-phases.\n\n288\n00:15:13.230 --> 00:15:16.280\nYou're not gonna get tested on any of\nthat kinda stuff on a Microsoft exam.\n\n289\n00:15:16.280 --> 00:15:19.290\nIt's really just a general\nlevel set episode for\n\n290\n00:15:19.290 --> 00:15:23.440\nus to throw some concepts out there,\nget you thinking about basic security.\n\n291\n00:15:23.440 --> 00:15:25.470\nAnd just allow Cherokee and\n\n292\n00:15:25.470 --> 00:15:29.090\nmyself to share some thoughts with you\njust about the general ideas that you're\n\n293\n00:15:29.090 --> 00:15:32.772\ngonna wanna see as themes throughout\nour conversations in upcoming episodes.\n\n294\n00:15:32.772 --> 00:15:35.155\nBut the attack phase is very important.\n\n295\n00:15:35.155 --> 00:15:37.102\nYou have a sense of what\nthe attack phases are?\n\n296\n00:15:37.102 --> 00:15:41.165\n&gt;&gt; All right, so we're definitely going\nto, just like a good admin, sysadmin or\n\n297\n00:15:41.165 --> 00:15:43.785\nemployee would do,\nwe're gonna plan for things.\n\n298\n00:15:43.785 --> 00:15:46.578\nSo I think that the first step,\nAdam, would be for\n\n299\n00:15:46.578 --> 00:15:50.118\nan attacker to kind of get a sense and\nget a feel, do some recon.\n\n300\n00:15:50.118 --> 00:15:53.678\nAnd get a plan of how they're\ngonna make their next move.\n\n301\n00:15:53.678 --> 00:15:57.923\n&gt;&gt; So we may either say, in some models,\nyou may see reconnaissance as that.\n\n302\n00:15:57.923 --> 00:16:02.169\nA named activity,\nyou may see research and preparation.\n\n303\n00:16:02.169 --> 00:16:04.310\nYou may see planning.\n\n304\n00:16:04.310 --> 00:16:07.090\nCherokee used a couple of different\nterms that all are synonymous,\n\n305\n00:16:07.090 --> 00:16:08.810\nessentially describe the same idea.\n\n306\n00:16:08.810 --> 00:16:12.942\nBut whatever you call that phase,\nit's the phase where we're as defenders,\n\n307\n00:16:12.942 --> 00:16:15.823\nas she pointed out having to\nlook out on the landscape,\n\n308\n00:16:15.823 --> 00:16:19.160\nunderstand what the potential\nliabilities and concerns are.\n\n309\n00:16:19.160 --> 00:16:20.030\nBut remember,\n\n310\n00:16:20.030 --> 00:16:24.180\nthe mindset of the attacker is the mindset\nof the defender inverted, right?\n\n311\n00:16:24.180 --> 00:16:25.480\nTurned against us.\n\n312\n00:16:25.480 --> 00:16:27.390\nFor every weakness we identify,\n\n313\n00:16:27.390 --> 00:16:30.140\nthe attacker's looking to\nexploit that as a vulnerability.\n\n314\n00:16:30.140 --> 00:16:32.740\nFor every unknown vulnerability\nwe don't identify,\n\n315\n00:16:32.740 --> 00:16:34.060\nthey're trying to beat us to the punch.\n\n316\n00:16:34.060 --> 00:16:38.020\nFind that and sneak in that back door or\nthat covert channel.\n\n317\n00:16:38.020 --> 00:16:40.850\nYou hear them referred to different\nways and so, research and\n\n318\n00:16:40.850 --> 00:16:44.430\npreparation, reconnaissance I\nlike that term a lot as well.\n\n319\n00:16:44.430 --> 00:16:46.232\nGives us a sense of what's happening.\n\n320\n00:16:46.232 --> 00:16:47.822\nThere're gonna go out,\nthey being the bad actors.\n\n321\n00:16:47.822 --> 00:16:51.310\nThey're gonna go out, they're going\nto be looking for every opportunity.\n\n322\n00:16:51.310 --> 00:16:54.530\nThey may engage in social media exploits.\n\n323\n00:16:54.530 --> 00:16:58.060\nThey may go on for instance, socially\nengineer, like Cherokee was saying.\n\n324\n00:16:58.060 --> 00:17:00.730\nDo some recon, some research.\n\n325\n00:17:00.730 --> 00:17:03.190\nHey you know who is this company?\n\n326\n00:17:03.190 --> 00:17:05.100\nWhat kind of websites do they have?\n\n327\n00:17:05.100 --> 00:17:06.678\nWho are the senior leaders there?\n\n328\n00:17:06.678 --> 00:17:09.560\nCan I phish them by sending\nthem exploit emails?\n\n329\n00:17:09.560 --> 00:17:13.390\nCan I gain points of entry by finding\nformer employees that may have\n\n330\n00:17:13.390 --> 00:17:14.130\nbad things to say.\n\n331\n00:17:14.130 --> 00:17:16.760\nThat may be disgruntled on social media.\n\n332\n00:17:16.760 --> 00:17:20.970\nMaybe I can attach myself to one of them,\nmaybe I could extort or bribe them.\n\n333\n00:17:20.970 --> 00:17:23.600\nThere's all these ways that\nthese kinda things happen.\n\n334\n00:17:23.600 --> 00:17:26.020\nWhen we do penetration\ntests against companies,\n\n335\n00:17:26.020 --> 00:17:29.090\nwe use all these methods to\ntry to gain an advantage.\n\n336\n00:17:29.090 --> 00:17:33.010\nAnd we use the mindset of\nthe attacker against the company, so\n\n337\n00:17:33.010 --> 00:17:34.850\nthat we can find those weaknesses.\n\n338\n00:17:34.850 --> 00:17:38.860\nShake the company, see what falls out,\nand then patch those holes, right?\n\n339\n00:17:38.860 --> 00:17:42.300\nBefore the attacker actually gets\nan opportunity to exploit them.\n\n340\n00:17:42.300 --> 00:17:44.950\nSo the first stage would typically be\nsomething like recon or research and\n\n341\n00:17:44.950 --> 00:17:45.890\npreparation.\n\n342\n00:17:45.890 --> 00:17:49.360\nFrom there we have to take that activity,\nthat knowledge that we gained,\n\n343\n00:17:49.360 --> 00:17:52.920\nand we have to roll that into something\nthat's actually gonna allow us\n\n344\n00:17:52.920 --> 00:17:57.100\nto use those vulnerabilities we've\nuncovered to exploit those weaknesses.\n\n345\n00:17:57.100 --> 00:18:01.190\nWe would call that typically elevation\nof privilege as a general rule of thumb.\n\n346\n00:18:01.190 --> 00:18:03.130\nBut the idea is we're gonna attack, right.\n\n347\n00:18:03.130 --> 00:18:07.260\nWe've gone from passively looking to\nactively trying to push on boundaries and\n\n348\n00:18:07.260 --> 00:18:09.450\nperimeters and gain entry.\n\n349\n00:18:09.450 --> 00:18:12.360\nAnd then the third phase is\ngonna be typically where we\n\n350\n00:18:12.360 --> 00:18:16.380\nseek to take the spoils that we've\ngotten from inside the organization out.\n\n351\n00:18:16.380 --> 00:18:18.660\nWe'll do what's called data exfiltration.\n\n352\n00:18:18.660 --> 00:18:22.800\nOr we'll look to remove information,\nand provide a conduit,\n\n353\n00:18:22.800 --> 00:18:27.560\na pipeline to out, or egress, or\nexfiltrate that data in some way.\n\n354\n00:18:27.560 --> 00:18:32.110\nSo we wanna think about the different\nphases associated with the attack,\n\n355\n00:18:32.110 --> 00:18:34.840\nbecause if we can stop or interdict or\n\n356\n00:18:34.840 --> 00:18:40.990\ncause delay in some sort of capability\nto monitor and detect, at every phase,\n\n357\n00:18:40.990 --> 00:18:45.070\nunderstanding what those phases are,\nwe're more likely to find the attacker.\n\n358\n00:18:45.070 --> 00:18:48.900\nOne of the biggest misconception\npeople have with regards to security,\n\n359\n00:18:48.900 --> 00:18:51.300\nand I see this with\ncustomers all the time.\n\n360\n00:18:51.300 --> 00:18:54.620\nTalk about it with students on\na regular basis in my classes.\n\n361\n00:18:54.620 --> 00:18:57.850\nI speak about it whenever I speak around\n\n362\n00:18:57.850 --> 00:19:01.360\nthe various places that I spend\ntime talking and writing.\n\n363\n00:19:01.360 --> 00:19:02.370\nAnd doing all that stuff.\n\n364\n00:19:02.370 --> 00:19:07.180\nI speak a lot about this misleading\nidea that we often have,\n\n365\n00:19:07.180 --> 00:19:09.420\nthat we can stop all attacks and\n\n366\n00:19:09.420 --> 00:19:13.820\nthat our goal as security professionals\nis to actually prevent every attack.\n\n367\n00:19:13.820 --> 00:19:18.070\nis not the goal, and it's not a realistic\none, nor should it be the end game.\n\n368\n00:19:18.070 --> 00:19:20.282\nBecause it's highly\nunlikely that will happen.\n\n369\n00:19:20.282 --> 00:19:24.440\nYou're gonna invest a lot of time and\nenergy to achieve minimal results.\n\n370\n00:19:24.440 --> 00:19:28.770\nAnd ultimately, those resources are better\nused and utilized in other areas.\n\n371\n00:19:28.770 --> 00:19:33.633\nOur goals should be what we\nrefer to as delay, deter and\n\n372\n00:19:33.633 --> 00:19:37.246\ndetect or what we call triple d, right?\n\n373\n00:19:37.246 --> 00:19:42.102\nAs activities, the idea that if we can\nset up concentric rings of protection,\n\n374\n00:19:42.102 --> 00:19:44.470\nwhat we call a defense in depth.\n\n375\n00:19:44.470 --> 00:19:48.680\nArchitecture, you've heard me talk about\nthis in many of our security shows.\n\n376\n00:19:48.680 --> 00:19:54.550\nCherokee, Daniel, Mike, Don, whoever I've\nco-presented with over the many, many\n\n377\n00:19:54.550 --> 00:19:58.590\nshows and years we've been doing security\nrelated topics for you here at IT Pro TV.\n\n378\n00:19:58.590 --> 00:20:01.560\nYou've heard the same message over and\nover and over again, right?\n\n379\n00:20:01.560 --> 00:20:05.630\nIt's this idea of building out these\nconcentric layers of controls or\n\n380\n00:20:05.630 --> 00:20:09.240\ncountermeasures that overlap,\nmutually reinforce one another.\n\n381\n00:20:09.240 --> 00:20:12.620\nI often use a visual where\nwe think about the idea of,\n\n382\n00:20:12.620 --> 00:20:13.720\nalmost like a bull's eye, right?\n\n383\n00:20:13.720 --> 00:20:16.210\nA dart board or an archery target,\n\n384\n00:20:16.210 --> 00:20:19.135\nwhatever you're comfortable with\nthat is essentially a set of rings.\n\n385\n00:20:19.135 --> 00:20:21.470\nSkee-ball would be another good\none if you like skee-ball, right?\n\n386\n00:20:21.470 --> 00:20:25.288\nThose idea of the rings that come out\nfrom the center, our most trusted and\n\n387\n00:20:25.288 --> 00:20:28.330\nmost protected systems and\ninformation at the core.\n\n388\n00:20:28.330 --> 00:20:31.460\nAnd then, going out from there less and\n\n389\n00:20:31.460 --> 00:20:35.880\nless protection afforded, but\noverlapping controls, both physical and\n\n390\n00:20:35.880 --> 00:20:40.540\nlogical, administrative as well\nas operational, and tactical.\n\n391\n00:20:40.540 --> 00:20:43.620\nAll these things are designed\nto do one thing.\n\n392\n00:20:43.620 --> 00:20:46.410\nThey're designed to deter,\nultimately three things, but\n\n393\n00:20:46.410 --> 00:20:49.440\nit's under the umbrella of deter,\ndetect, delay, right?\n\n394\n00:20:49.440 --> 00:20:53.130\nThe ideas that they're designed\nto prevent people, if possible,\n\n395\n00:20:53.130 --> 00:20:55.050\nfrom taking advantage.\n\n396\n00:20:55.050 --> 00:20:58.180\nDeter, if we can't deter\nthem lets delay them.\n\n397\n00:20:58.180 --> 00:21:03.180\nLet's make it costly and timely for\nthem to gain access thru multiple layers.\n\n398\n00:21:03.180 --> 00:21:08.030\nAnd along the way let's attempt to detect\nthose activities,find evidence of what\n\n399\n00:21:08.030 --> 00:21:12.360\nthey're doing and as a result be able\nto either be position to react and\n\n400\n00:21:12.360 --> 00:21:13.490\nhopefully stop them.\n\n401\n00:21:13.490 --> 00:21:16.650\nWe can't do that at a minimum,\nknow they've come and gone but\n\n402\n00:21:16.650 --> 00:21:20.280\nlet's then go plug that hole,\nlet's do some incidence response,\n\n403\n00:21:20.280 --> 00:21:24.106\nlet's forensically figure out what\nwent wrong, what the damage is and\n\n404\n00:21:24.106 --> 00:21:26.890\nlet's make sure we understand\nthe concerns we have,\n\n405\n00:21:26.890 --> 00:21:28.870\nso that way we can be better prepared for\nthe next time.\n\n406\n00:21:28.870 --> 00:21:32.270\nAnd so the idea of triple D\nbecomes very important as well.\n\n407\n00:21:32.270 --> 00:21:33.290\nAll right.\n\n408\n00:21:33.290 --> 00:21:35.660\nSo another thought process\nyou wanna think about or\n\n409\n00:21:35.660 --> 00:21:38.960\nat least have some knowledge of with\nregards to a security overview.\n\n410\n00:21:38.960 --> 00:21:40.570\nI mentioned incident\nresponse a minute ago.\n\n411\n00:21:40.570 --> 00:21:42.600\nThis is also something very critical for\n\n412\n00:21:42.600 --> 00:21:45.290\nus, because again\nthe security professional,\n\n413\n00:21:45.290 --> 00:21:49.350\nif we're simply in the mindset,\nour job is simply to stop at the border.\n\n414\n00:21:49.350 --> 00:21:52.060\nOkay, that's good, but\nif somebody runs around the border and\n\n415\n00:21:52.060 --> 00:21:55.640\nfinds a way to get in,\nthen we've lost the battle, right?\n\n416\n00:21:55.640 --> 00:21:59.570\nSo we have to be prepared to respond\nwhen events do warrant, in other words,\n\n417\n00:21:59.570 --> 00:22:04.270\nsomebody has broken in, somehow\nthey've gotten past our defenses and\n\n418\n00:22:04.270 --> 00:22:06.390\nas a result,\nwe've gotta be prepared to act.\n\n419\n00:22:06.390 --> 00:22:09.630\nAnd so this idea of incident response\nbecomes very important, right?\n\n420\n00:22:09.630 --> 00:22:14.250\nSimplest form of incident response\nis just detection of a problem,\n\n421\n00:22:14.250 --> 00:22:18.560\ndocumenting the issues and\nconcerns that allow the problem to occur.\n\n422\n00:22:18.560 --> 00:22:21.800\nEssentially analyze and\ndo what we call root cause analysis.\n\n423\n00:22:21.800 --> 00:22:25.500\nAnd then apply some sort of mitigation,\nsome sort of control counter-measure,\n\n424\n00:22:25.500 --> 00:22:27.100\npatch, workaround.\n\n425\n00:22:27.100 --> 00:22:30.070\nYou hear it referred to different\nways depending on methodology.\n\n426\n00:22:30.070 --> 00:22:32.540\nBut ultimately, plug the gap, right.\n\n427\n00:22:32.540 --> 00:22:35.870\nStop the problem from\nreoccurring by root causing it,\n\n428\n00:22:35.870 --> 00:22:40.380\nfiguring out what's at the heart of it,\nand addressing that set of concerns,\n\n429\n00:22:40.380 --> 00:22:43.250\nthose vulnerabilities,\nwhatever the case may be.\n\n430\n00:22:43.250 --> 00:22:46.380\nAnd as a result of that,\nthen be on the lookout for it so\n\n431\n00:22:46.380 --> 00:22:49.345\nthat we hopefully are able to\nprevent it from happening again.\n\n432\n00:22:49.345 --> 00:22:52.565\nThere are phases well defined with\nregards to incident response.\n\n433\n00:22:52.565 --> 00:22:54.155\nWe have triage, right?\n\n434\n00:22:54.155 --> 00:22:56.905\nTraditionally, again,\nyou may see these referred to differently.\n\n435\n00:22:56.905 --> 00:22:59.015\nYou may see a different methodology,\n\n436\n00:22:59.015 --> 00:23:02.195\nmultiple steps laid out as\nopposed to a high level summary.\n\n437\n00:23:02.195 --> 00:23:06.900\nThere's no right and wrong, remember\nthis is not testable material for you.\n\n438\n00:23:06.900 --> 00:23:10.658\nIt's merely us trying to give you a sense\nof high level themes, so that as we walk\n\n439\n00:23:10.658 --> 00:23:14.698\nthrough the areas where we are going to\ndrill down on product, process, procedure,\n\n440\n00:23:14.698 --> 00:23:18.119\nand the way in which we deal with\nthings that will become testable items,\n\n441\n00:23:18.119 --> 00:23:20.588\nyou'll have a general sense of the themes,\nright,\n\n442\n00:23:20.588 --> 00:23:23.840\nthe strategic thought processes\nin a security profession.\n\n443\n00:23:23.840 --> 00:23:27.580\nAs an IT professional, you have to carry\nthrough every one of those conversations.\n\n444\n00:23:27.580 --> 00:23:31.330\nSo incident response is really just\nmade up a phase called triage,\n\n445\n00:23:31.330 --> 00:23:35.050\na phase called investigation, and\na phase called recovery, right?\n\n446\n00:23:35.050 --> 00:23:38.300\nThese are the three general\ncategorical themes, or\n\n447\n00:23:38.300 --> 00:23:41.560\nareas that we see detailed\nout in incident response.\n\n448\n00:23:41.560 --> 00:23:45.360\nIn an area like triage, we're often\nthinking about detection, identification,\n\n449\n00:23:45.360 --> 00:23:46.570\nnotification.\n\n450\n00:23:46.570 --> 00:23:47.190\nLet's go in.\n\n451\n00:23:47.190 --> 00:23:48.510\nLet's assess what's happened.\n\n452\n00:23:48.510 --> 00:23:52.221\nRemember, a similar response\noccurs after a breach, not before.\n\n453\n00:23:52.221 --> 00:23:54.924\nMeaning, until we have\na breach that's been noted and\n\n454\n00:23:54.924 --> 00:23:59.000\nwe can validate this legitimately occurred\nWe're not doing incident response.\n\n455\n00:23:59.000 --> 00:24:00.518\nWe may be doing other things, but\n\n456\n00:24:00.518 --> 00:24:04.550\nincident response is about responding\nto something that has already occurred.\n\n457\n00:24:04.550 --> 00:24:08.910\nSo, it's a reactive as opposed to\nproactive event, and it is reactive.\n\n458\n00:24:08.910 --> 00:24:12.522\nAnd as a result, we have to go look at\nwhat's occurred, so we have to detect,\n\n459\n00:24:12.522 --> 00:24:14.984\nwe have to identify,\nfigure out what's happened.\n\n460\n00:24:14.984 --> 00:24:18.869\nAnd notify the appropriate parties in\nthe opening phase, because that way,\n\n461\n00:24:18.869 --> 00:24:21.170\nwe can begin to bring resources to bear.\n\n462\n00:24:21.170 --> 00:24:24.100\nTo start to address things like,\nlet's analyze,\n\n463\n00:24:24.100 --> 00:24:27.910\nlet's assess, let's really measure and\nunderstand what happened.\n\n464\n00:24:27.910 --> 00:24:31.900\nLet's tell that story through cause\nanalysis, and then let's go back.\n\n465\n00:24:31.900 --> 00:24:34.370\nFigure out how to get back\nto normal through recovery.\n\n466\n00:24:34.370 --> 00:24:38.500\nAnd so, investigation analysis\ninterpretation, reaction, containment,\n\n467\n00:24:38.500 --> 00:24:41.777\ntracking, all these different\nactivities will occur there.\n\n468\n00:24:41.777 --> 00:24:44.750\nAnd then recovery, as I said,\nis all about return to normalcy.\n\n469\n00:24:44.750 --> 00:24:47.180\nHow do we get back to activities?\n\n470\n00:24:47.180 --> 00:24:51.140\nHow do we turn the systems, or\nsystem, whatever was effected\n\n471\n00:24:51.140 --> 00:24:55.570\nto normal operational process, and\nprocedure, and put it back online?\n\n472\n00:24:55.570 --> 00:25:00.580\nBut, in a more secure, more proactive way,\nmanage it going forward.\n\n473\n00:25:00.580 --> 00:25:03.540\nSo, we're not gonna fall victim to,\nsame kind of concerns we have.\n\n474\n00:25:03.540 --> 00:25:05.890\nThese are all gonna be very important for\nus.\n\n475\n00:25:05.890 --> 00:25:07.360\nThey're areas of general interest, right?\n\n476\n00:25:07.360 --> 00:25:10.140\nThat help us to look at trending and\n\n477\n00:25:10.140 --> 00:25:14.830\norganizational information across the\nenterprise, logs come to mind immediately\n\n478\n00:25:14.830 --> 00:25:18.190\nas one of the primary areas we look\nat both reactively, and proactively.\n\n479\n00:25:18.190 --> 00:25:19.220\nAlthough, unfortunately,\n\n480\n00:25:19.220 --> 00:25:22.282\nmuch more reactively these days\nthan proactively in many cases.\n\n481\n00:25:22.282 --> 00:25:24.362\nThere are some things that are not so\ncommon,\n\n482\n00:25:24.362 --> 00:25:27.375\nwhen we do forensic analysis of\nsystems that have been breached,\n\n483\n00:25:27.375 --> 00:25:30.131\ndo a lot of this kind of work\nas a auditor or an investigator.\n\n484\n00:25:30.131 --> 00:25:33.607\nThings like looking at tasks that may\nhave been scheduled in the system to run\n\n485\n00:25:33.607 --> 00:25:35.650\nsecretly where nobody is aware of them.\n\n486\n00:25:35.650 --> 00:25:41.029\nThat launch malware or launch process that\nopens the system up and reconfigures it.\n\n487\n00:25:41.029 --> 00:25:44.471\nLike huge services that are unusual,\nhaving a baseline, so\n\n488\n00:25:44.471 --> 00:25:48.770\nwe know what is normal on the system and\nwhat stands out as being abnormal.\n\n489\n00:25:48.770 --> 00:25:50.240\nVery important to think about.\n\n490\n00:25:50.240 --> 00:25:54.390\nSo, something as simple as\npulling up the task manager or\n\n491\n00:25:54.390 --> 00:25:57.610\nthe equivalent in Unix Linux,\nusing top, prop, or\n\n492\n00:25:57.610 --> 00:26:01.780\nlist to look at from the command line\nthose services that may be running.\n\n493\n00:26:01.780 --> 00:26:05.280\nGetting a sense of what's there,\nunderstanding whether or\n\n494\n00:26:05.280 --> 00:26:08.140\nnot those services belong\nas part of the baseline.\n\n495\n00:26:08.140 --> 00:26:11.510\nIf they do, great, if they don't,\nhey that's unusual, that stands out.\n\n496\n00:26:11.510 --> 00:26:14.160\nLet's zero in on that, let's figure\nout what's going on there, right?\n\n497\n00:26:14.160 --> 00:26:16.499\nUsers in groups have there been\naccounts that have been created or\n\n498\n00:26:16.499 --> 00:26:17.654\ngroups that have been created.\n\n499\n00:26:17.654 --> 00:26:21.570\nAgain, that are not part of the normal\noperational parameters of the machine.\n\n500\n00:26:21.570 --> 00:26:22.700\nWhat are they doing there?\n\n501\n00:26:22.700 --> 00:26:24.040\nWhen were they created?\n\n502\n00:26:24.040 --> 00:26:26.370\nIf they were created right\naround the time of the exploit.\n\n503\n00:26:26.370 --> 00:26:29.090\nChances are good,\nthey're part of that problem, right?\n\n504\n00:26:29.090 --> 00:26:33.160\nApplications again, do we have strange and\nunusual software that's running.\n\n505\n00:26:33.160 --> 00:26:35.190\nThings like caches and histories.\n\n506\n00:26:35.190 --> 00:26:38.190\nLooking at the IE of the equivalent\nof the web browser caches.\n\n507\n00:26:38.190 --> 00:26:43.370\nLooking at things like the arb cache,\nthe DNA resolver cache on systems.\n\n508\n00:26:43.370 --> 00:26:44.690\nAny and all these things are important.\n\n509\n00:26:44.690 --> 00:26:48.683\nA lot of them are temporary and will be\nwiped out when the system is restarted.\n\n510\n00:26:48.683 --> 00:26:52.527\nWe're not really going into the details\non how we conduct forensic investigative\n\n511\n00:26:52.527 --> 00:26:54.010\nanalysis on a machine.\n\n512\n00:26:54.010 --> 00:26:58.689\nWay beyond the scope of this conversation\nbut generically if we are investigating\n\n513\n00:26:58.689 --> 00:27:02.303\nand doing sort of instant response,\non a machine in real time.\n\n514\n00:27:02.303 --> 00:27:06.761\nAnd that machine is still up and running\nor that piece of hardware router, switch,\n\n515\n00:27:06.761 --> 00:27:11.220\nwhatever it may be is still available and\nhas not been restarted or shut down.\n\n516\n00:27:11.220 --> 00:27:14.988\nThen, the memory locations that act\nas caches have to be examined because\n\n517\n00:27:14.988 --> 00:27:18.048\nchances are good that's where\nthe evidence of the attack.\n\n518\n00:27:18.048 --> 00:27:21.970\nAnd the vulnerability that we're looking\nat as having been exploited will be found.\n\n519\n00:27:21.970 --> 00:27:24.084\nSo we have to think about that,\nmake sure we're comfortable with that.\n\n520\n00:27:25.215 --> 00:27:28.475\n&gt;&gt; Now, these auditing measures that\nyou're referencing here Adam, this is not\n\n521\n00:27:28.475 --> 00:27:31.905\nsomething that is anything additional,\nthat we would have to purchase.\n\n522\n00:27:31.905 --> 00:27:36.115\nAs a matter of fact, Microsoft does offer\na suite of tools available to us that\n\n523\n00:27:36.115 --> 00:27:37.635\nyou're going to show, right?\n\n524\n00:27:37.635 --> 00:27:41.115\n&gt;&gt; Well, we may have to purchase,\nit depends.\n\n525\n00:27:41.115 --> 00:27:43.905\nI wouldn't say that this is something\nthat we don't have to purchase.\n\n526\n00:27:43.905 --> 00:27:48.210\nThere's a lot of discussions and a lot of\nplanning that goes on at the enterprise\n\n527\n00:27:48.210 --> 00:27:50.040\nlevel of the current organization.\n\n528\n00:27:50.040 --> 00:27:53.200\nI would say it's impossible to do\nthis today without spending money.\n\n529\n00:27:53.200 --> 00:27:53.940\nLet's put it that way.\n\n530\n00:27:53.940 --> 00:27:57.135\nBut to Cherokee's point,\nthere certainly are tools available,\n\n531\n00:27:57.135 --> 00:28:00.340\nin this case tools from a vendor\nlike Microsoft, that may be free.\n\n532\n00:28:00.340 --> 00:28:04.360\nAnd certainly may help us to understand\nhow we can start to take some steps.\n\n533\n00:28:04.360 --> 00:28:06.880\nBut the broader thought\nprocesses of building\n\n534\n00:28:06.880 --> 00:28:09.510\nsecurity in this\nmultilayered architecture.\n\n535\n00:28:09.510 --> 00:28:11.470\nThis defense and depth that we talk about.\n\n536\n00:28:11.470 --> 00:28:14.870\nAnd setting up those rings,\nand putting frewalls and\n\n537\n00:28:14.870 --> 00:28:20.150\nputting IBS intrusion detection,\nIPS intrusion prevention, SAM security\n\n538\n00:28:20.150 --> 00:28:25.240\ninformation of the management systems\nin place, DLP data loss prevention.\n\n539\n00:28:25.240 --> 00:28:28.390\nAll the things we talked about even\nsomething as simple Cherokee mention is\n\n540\n00:28:28.390 --> 00:28:30.480\nmalware scanning and prevention.\n\n541\n00:28:30.480 --> 00:28:32.510\nwhile Microsoft does have a free toll,\n\n542\n00:28:32.510 --> 00:28:35.890\nthe Microsoft security essentials\ntool that you can use.\n\n543\n00:28:35.890 --> 00:28:40.740\nTypically, that's gonna be a localized\ntool on one system running individually,\n\n544\n00:28:40.740 --> 00:28:42.630\nalthough we can Link it to WSUS.\n\n545\n00:28:42.630 --> 00:28:47.420\nAs we will talk about in upcoming\nepisodes later in our discussions around\n\n546\n00:28:47.420 --> 00:28:51.620\nthe topic of securing Windows Server 2016,\nthe Windows Software Update Service,\n\n547\n00:28:51.620 --> 00:28:56.990\nWSUS, for centralized download and\npatch management of patches from a vendor.\n\n548\n00:28:56.990 --> 00:29:00.720\nEven then, right, and even linking it\nto something like system center config\n\n549\n00:29:00.720 --> 00:29:03.780\nmanager and\ngroup policy based deployment and control.\n\n550\n00:29:03.780 --> 00:29:06.770\nAnd configure things like\nthe security essentials product.\n\n551\n00:29:06.770 --> 00:29:09.670\nWe're still looking at ultimately\nhaving to spend money.\n\n552\n00:29:09.670 --> 00:29:12.340\nAnd most importantly,\nit's often the soft cost, right?\n\n553\n00:29:12.340 --> 00:29:15.760\nThe configuration and\nthe management of that is time, and\n\n554\n00:29:15.760 --> 00:29:19.760\nthe time of the IT professional,\nthe time of the IT security professional,\n\n555\n00:29:19.760 --> 00:29:23.005\nthat's got to manage and configure\nthese systems often unaccounted for\n\n556\n00:29:23.005 --> 00:29:26.635\nwhen we look at the hard value and\nhard cost to the organization.\n\n557\n00:29:26.635 --> 00:29:29.895\nWe think licensing,\nwe think acquisition cost, but\n\n558\n00:29:29.895 --> 00:29:31.315\nthere's a lot more to it than that.\n\n559\n00:29:31.315 --> 00:29:35.380\nSo, I think it's fair to say we wanna\ntry to minimize that expense, right?\n\n560\n00:29:35.380 --> 00:29:36.930\nAnd try to invest wisely.\n\n561\n00:29:36.930 --> 00:29:38.910\nBut you're gonna have to\nspend money to go out and\n\n562\n00:29:38.910 --> 00:29:40.990\nprovide enterprise grade security today.\n\n563\n00:29:40.990 --> 00:29:42.430\nThere's really no way around it.\n\n564\n00:29:42.430 --> 00:29:43.730\nBut Cherokee raises a great point,\n\n565\n00:29:43.730 --> 00:29:46.580\nwhich is if you'll join me here\non my machine for just a minute.\n\n566\n00:29:46.580 --> 00:29:50.060\nTake a look at you can see one of\nthe tools that you may go out and\n\n567\n00:29:50.060 --> 00:29:50.920\nwanna take a look at.\n\n568\n00:29:50.920 --> 00:29:53.150\nThis URL is in the show notes for you.\n\n569\n00:29:53.150 --> 00:29:56.714\nBy the way, the Sysinternals Suite\nif you're not familiar with it,\n\n570\n00:29:56.714 --> 00:29:57.767\ngreat set of tools.\n\n571\n00:29:57.767 --> 00:30:02.712\nThe gentleman who has the byline there,\nby Mark Russinovich, is the principal who,\n\n572\n00:30:02.712 --> 00:30:05.800\nalong with a very talented\ngroup of individuals.\n\n573\n00:30:05.800 --> 00:30:08.754\nThat worked for his company before\nit was acquired by Microsoft for\n\n574\n00:30:08.754 --> 00:30:09.923\nthe last number of years.\n\n575\n00:30:09.923 --> 00:30:13.796\nThrough him and his team at Microsoft\nsince they bought the company,\n\n576\n00:30:13.796 --> 00:30:15.700\nhave produced these tools.\n\n577\n00:30:15.700 --> 00:30:17.718\nSome of you that are a little\nlong in the tooth and\n\n578\n00:30:17.718 --> 00:30:19.132\nhave been doing this for a while,\n\n579\n00:30:19.132 --> 00:30:22.533\nwill remember the Sysinternals tools\nbefore Microsoft acquired the company.\n\n580\n00:30:22.533 --> 00:30:23.090\n&gt;&gt; Winternals.\n\n581\n00:30:23.090 --> 00:30:26.876\n&gt;&gt; Winternals tool, things like the ERD,\nthe emergency repair disc and\n\n582\n00:30:26.876 --> 00:30:31.259\nthe disc commander and all the tools that\nwere associated in one form or another.\n\n583\n00:30:31.259 --> 00:30:34.130\nWith that Microsoft very smartly,\nwent out and\n\n584\n00:30:34.130 --> 00:30:36.580\nacquired this company a few years back.\n\n585\n00:30:36.580 --> 00:30:39.030\nRebranded the tools,\nkept them, thankfully.\n\n586\n00:30:39.030 --> 00:30:41.620\nAnd rebrand the Sysinternals tool suite.\n\n587\n00:30:41.620 --> 00:30:43.570\nDevelopment continues on these tools.\n\n588\n00:30:43.570 --> 00:30:47.980\nAnd you can see that you can\ndownload either the suite and\n\n589\n00:30:47.980 --> 00:30:50.970\nthere's now a group for\nthe Nano Server, which is really great.\n\n590\n00:30:50.970 --> 00:30:55.080\nWe'll talk more about the Nano Server and\nits capabilities with regards to hosting\n\n591\n00:30:55.080 --> 00:30:59.380\nsome of the security platform tools and\nconfigurations in upcoming episodes.\n\n592\n00:30:59.380 --> 00:31:03.010\nWe'll talk about how to set up the Nano\nServer and deploy some of the security\n\n593\n00:31:03.010 --> 00:31:05.890\ntools associated with\nsecuring the platform there.\n\n594\n00:31:05.890 --> 00:31:07.060\nSo, take a look at that.\n\n595\n00:31:07.060 --> 00:31:09.170\nBut, we have a set of tools\nthat we can run here.\n\n596\n00:31:09.170 --> 00:31:11.020\nAnd you can see a listing of the tools.\n\n597\n00:31:11.020 --> 00:31:12.305\nI just kind of scroll down.\n\n598\n00:31:12.305 --> 00:31:13.518\nCherokee's point, they are free.\n\n599\n00:31:13.518 --> 00:31:14.555\nYou can download them.\n\n600\n00:31:14.555 --> 00:31:17.825\nThey're a great set of tools to\nbegin doing a variety of things,\n\n601\n00:31:17.825 --> 00:31:18.715\nnot just security.\n\n602\n00:31:18.715 --> 00:31:22.016\nBut there definitely are tools\nhere that can be helpful,\n\n603\n00:31:22.016 --> 00:31:26.853\nthings like the PS series of tools, PS\nLogged On, PS Shutdown, PS File, ProDom.\n\n604\n00:31:26.853 --> 00:31:30.395\nThese tools help us to understand\nVariety of services and\n\n605\n00:31:30.395 --> 00:31:35.950\nrelated activities that may be valuable\nfrom a forensic standpoint on a machine.\n\n606\n00:31:35.950 --> 00:31:37.380\nSo they're very good for that.\n\n607\n00:31:37.380 --> 00:31:42.130\nLog on sessions over here,\nPS gits, PS log lists, PS suspend.\n\n608\n00:31:42.130 --> 00:31:45.108\nThere's a bunch of different tools\nthat may be of interest to you, so.\n\n609\n00:31:45.108 --> 00:31:47.899\nDefinitely, just wanna take note of\nthem and just look at what's there.\n\n610\n00:31:47.899 --> 00:31:52.737\nBut they will give you a starting point\nand there are gonna be as I'm sure as all\n\n611\n00:31:52.737 --> 00:31:56.086\nof you have, favorite tools and\na variety of tools and\n\n612\n00:31:56.086 --> 00:32:00.660\ntechniques you're familiar with,\nyou use, or your company uses.\n\n613\n00:32:00.660 --> 00:32:02.750\nAnd that you swear by,\nand all those are good.\n\n614\n00:32:02.750 --> 00:32:04.720\nThere is nothing wrong with any of that.\n\n615\n00:32:04.720 --> 00:32:09.180\nSecurity has to be a one size fits one\nsolution as opposed to one size fits all\n\n616\n00:32:09.180 --> 00:32:12.230\nfor it to work appropriately\nwithin your organization.\n\n617\n00:32:12.230 --> 00:32:14.550\nAnd never let people\nconvince you otherwise, and\n\n618\n00:32:14.550 --> 00:32:17.440\nnever let people dissuade you\nfrom that thought process.\n\n619\n00:32:17.440 --> 00:32:20.020\nThe minute you try to standardize\neverything you do and\n\n620\n00:32:20.020 --> 00:32:22.780\nmake it look like everybody else is\nthe minute that you're gonna guarantee,\n\n621\n00:32:22.780 --> 00:32:26.730\nthat somebody's gonna come take your\nstuff away from you and hack your system.\n\n622\n00:32:26.730 --> 00:32:30.530\nBecause you're ignoring the most obvious\nconcerns you have which is the uniqueness\n\n623\n00:32:30.530 --> 00:32:33.260\nand the properties that make your\nbusiness and your systems unique.\n\n624\n00:32:33.260 --> 00:32:36.430\nAnd as a result, that's what has\nto be addressed to be secure and\n\n625\n00:32:36.430 --> 00:32:38.100\nto be successful at security.\n\n626\n00:32:38.100 --> 00:32:41.350\nBut there are standardized best\npractice proven approaches.\n\n627\n00:32:41.350 --> 00:32:45.600\nHaving said that, that you can overlay in\norder to gain the value of that experience\n\n628\n00:32:45.600 --> 00:32:48.100\nand make your systems more\nsecure as a baseline.\n\n629\n00:32:48.100 --> 00:32:51.664\nAnd then, add those complexity and\nthose specific calculations and\n\n630\n00:32:51.664 --> 00:32:54.122\nrequirements about uniqueness to the mix,\nand\n\n631\n00:32:54.122 --> 00:32:58.070\ncome up with a much stronger enterprise\nsecurity architecture as a result.\n\n632\n00:32:58.070 --> 00:32:59.620\nSo just some opening thoughts,\n\n633\n00:32:59.620 --> 00:33:02.510\nif you will, with regards to our\nconversations about security.\n\n634\n00:33:02.510 --> 00:33:07.448\nAnd upcoming episodes will be obviously\nmuch more focused on the product-specific\n\n635\n00:33:07.448 --> 00:33:12.317\nand platform-specific approaches Microsoft\nrecommends, as part of the general\n\n636\n00:33:12.317 --> 00:33:17.271\nknowledge base around the 70-744 exam,\nsecuring Windows Server 2016.\n\n637\n00:33:17.271 --> 00:33:19.354\nIt'll be a real interesting\nset of conversations,\n\n638\n00:33:19.354 --> 00:33:22.800\nlook forward to having them with you,\nas I know I'm sure Cherokee does as well.\n\n639\n00:33:22.800 --> 00:33:25.580\nAnd we'll look forward to\nhaving you come on back and\n\n640\n00:33:25.580 --> 00:33:26.820\ninviting you back to do that with us.\n\n641\n00:33:26.820 --> 00:33:28.178\nBut if I'm not mistaken,\n\n642\n00:33:28.178 --> 00:33:31.717\nwe are as you're often fond of telling\nme cuz I often run out of time.\n\n643\n00:33:31.717 --> 00:33:33.614\nBut we are, I think, out of time for\nthis episode, are we not?\n\n644\n00:33:33.614 --> 00:33:36.216\n&gt;&gt; Yes, we are, Adam, so\nthat's a great note to go ahead and\n\n645\n00:33:36.216 --> 00:33:37.290\nleave off on speaking.\n\n646\n00:33:37.290 --> 00:33:38.420\nHey, we can go ahead and\n\n647\n00:33:38.420 --> 00:33:42.390\nutilize those into graded tools such\nas Windows Defender or Event Viewer.\n\n648\n00:33:42.390 --> 00:33:46.224\nAnd you even follow those downloadable\ntools as well, or, like you said, it's not\n\n649\n00:33:46.224 --> 00:33:50.229\na one-size-fits-all, or one-size-fit,\nit should be a one-size-fits-one.\n\n650\n00:33:50.229 --> 00:33:52.460\n&gt;&gt; One-size-fits-one-\n&gt;&gt; Implementation,\n\n651\n00:33:52.460 --> 00:33:55.290\nso you may choose to use\nthird-party software as well.\n\n652\n00:33:55.290 --> 00:33:57.650\nEither way, stay tuned for\nmore information headed your way.\n\n653\n00:33:57.650 --> 00:33:59.920\nBut for this show,\nwe're gonna go ahead and sign out.\n\n654\n00:33:59.920 --> 00:34:01.630\nI've been your host Cherokee Boose.\n\n655\n00:34:01.630 --> 00:34:02.480\n&gt;&gt; I am Adam Gordon.\n\n656\n00:34:02.480 --> 00:34:03.216\n&gt;&gt; See you next time.\n\n657\n00:34:03.216 --> 00:34:10.569\n[MUSIC]\n\n658\n00:34:10.569 --> 00:34:13.143\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "233685616"
        }
      ],
      "title": "Windows Server 2016"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Cherokee and Adam continue to explain fundamental components relating to security. However, they do shift the focus to highlight way to protect credentials and privileged access. They discuss concepts such as the principle of least privilege, cryptography options as well as password policies and settings.",
          "length": "2148",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-1-credentials_and_privileged_access-091217-PGM.00_35_34_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-1-credentials_and_privileged_access-091217-PGM.00_35_34_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-1-credentials_and_privileged_access-091217-PGM.00_35_34_00.Still001-sm.jpg",
          "title": "Credentials and Privileged Access",
          "transcript": "WEBVTT\n\n1\n00:00:00.160 --> 00:00:04.619\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:04.619 --> 00:00:10.578\n[CROSSTALK]\n&gt;&gt; You're watching ITProTV.\n\n3\n00:00:10.578 --> 00:00:14.969\n&gt;&gt; Welcome back to your securing\nWindows Server 2016 series.\n\n4\n00:00:14.969 --> 00:00:17.830\nI'm your show host Cherokee Boose.\n\n5\n00:00:17.830 --> 00:00:22.140\nIn this episode, we'll be taking a look\nat credentials and privilege access.\n\n6\n00:00:22.140 --> 00:00:25.630\nAnd back with us today in studios,\nwe have Microsoft expert Mr. Adam Gordon.\n\n7\n00:00:25.630 --> 00:00:27.040\nThank you for joining us today, Adam.\n\n8\n00:00:27.040 --> 00:00:29.940\n&gt;&gt; Thank you, always a pleasure to be\nhere chatting with you and talking about,\n\n9\n00:00:29.940 --> 00:00:32.105\nwell, credentials and\nprivilege access and security.\n\n10\n00:00:32.105 --> 00:00:33.670\n&gt;&gt; That's right.\nCuz, that's what we're here to talk about.\n\n11\n00:00:33.670 --> 00:00:37.190\nSo when we think about privilege access,\nwe think about credentials,\n\n12\n00:00:37.190 --> 00:00:39.980\nwe think about identifying individuals,\nright?\n\n13\n00:00:39.980 --> 00:00:43.540\nWe would call them in the language\nof access control, subjects.\n\n14\n00:00:43.540 --> 00:00:48.360\nSo the subject is the person,\nthe machine, perhaps, maybe a computer,\n\n15\n00:00:48.360 --> 00:00:54.420\nmaybe what we call an NPE,\na non-person entity, a piece of software,\n\n16\n00:00:54.420 --> 00:00:58.885\na service account that is proxying or\nacting on behalf of you as the user.\n\n17\n00:00:58.885 --> 00:01:01.625\nBut whatever it is,\nwe group all that together generically and\n\n18\n00:01:01.625 --> 00:01:03.965\nlump it into a term called a subject.\n\n19\n00:01:03.965 --> 00:01:07.875\nAnd the subject is the thing that is\nlooking to gain access to what we call\n\n20\n00:01:07.875 --> 00:01:08.635\nan object.\n\n21\n00:01:08.635 --> 00:01:13.525\nThe object is traditionally defined in the\nlanguage of access control as the data, or\n\n22\n00:01:13.525 --> 00:01:17.015\nthe information that the subject\nis looking to gain access to.\n\n23\n00:01:17.015 --> 00:01:20.565\nAnd so\nas we think about the idea of subjects and\n\n24\n00:01:20.565 --> 00:01:24.110\nobjects interacting, we think about\nthe idea of credentials, the way in which\n\n25\n00:01:24.110 --> 00:01:29.070\na subject provides information\nabout who they are, their identity.\n\n26\n00:01:29.070 --> 00:01:33.440\nAnd as a result of that,\nas we'll get into more detail over\n\n27\n00:01:33.440 --> 00:01:37.630\nthis discussion in upcoming conversations,\nwe're able to then take that identity,\n\n28\n00:01:37.630 --> 00:01:41.070\nthat proffering of information\non behalf of a subject\n\n29\n00:01:41.070 --> 00:01:45.770\nthrough what is known as either a single,\ndual, or multifactor solution.\n\n30\n00:01:45.770 --> 00:01:48.980\nOne or more ways in which they\nclaim to be who they are and\n\n31\n00:01:48.980 --> 00:01:51.500\nprovide proof as to who they may be.\n\n32\n00:01:51.500 --> 00:01:54.230\nAnd we will talk about\nthis idea of claims based\n\n33\n00:01:54.230 --> 00:01:56.630\nauthentication at some\npoint later as well.\n\n34\n00:01:56.630 --> 00:01:58.170\nBut for\nnow we're gonna keep it very general.\n\n35\n00:01:58.170 --> 00:02:02.075\nWe're just gonna say identity is\nprovided and then we authenticate,\n\n36\n00:02:02.075 --> 00:02:04.932\nwe are seeking to validate\nthe identity provided.\n\n37\n00:02:04.932 --> 00:02:09.156\nSo If I log into my computer as\npart of a domain, I sit down,\n\n38\n00:02:09.156 --> 00:02:13.890\nhit Ctrl+Alt+Delete in\nMicrosoft's operating system.\n\n39\n00:02:13.890 --> 00:02:16.820\nI get a log on prompt,\nI have a username and\n\n40\n00:02:16.820 --> 00:02:20.315\na password screen, right, or\nfields on that screen, rather.\n\n41\n00:02:20.315 --> 00:02:24.740\nI provide the domain name and username,\nand then I provide the password.\n\n42\n00:02:24.740 --> 00:02:28.528\nI am providing my identity, and\nthen I am asking the system,\n\n43\n00:02:28.528 --> 00:02:33.070\nthe local workstation and the interaction\nbetween that workstation and\n\n44\n00:02:33.070 --> 00:02:37.720\nthe LDAP provider, in this case,\nthe Microsoft ADDS solution,\n\n45\n00:02:37.720 --> 00:02:41.680\nthe Active Directory Domain Service and\nthe Domain Controller\n\n46\n00:02:41.680 --> 00:02:46.690\nthat will then take that information and\nauthenticate me, if it is valid.\n\n47\n00:02:46.690 --> 00:02:48.506\nOr say no, sorry, incorrect,\n\n48\n00:02:48.506 --> 00:02:52.660\nyou put the wrong password in,\nbad username, try again, right?\n\n49\n00:02:52.660 --> 00:02:57.310\nSo we provide identity,\nwe then seek to authenticate as a user.\n\n50\n00:02:57.310 --> 00:03:00.160\nAnd then once we authenticate,\nonce we have validated\n\n51\n00:03:00.160 --> 00:03:04.410\nthat we are who we say we are beyond any\nreasonable doubt, we are authorized.\n\n52\n00:03:04.410 --> 00:03:07.170\nWe are granted access,\nwhatever that may be.\n\n53\n00:03:07.170 --> 00:03:11.190\nThat may be a certain level of\npermissions, a certain level of access,\n\n54\n00:03:11.190 --> 00:03:13.760\nand or\nrights to accomplish certain things.\n\n55\n00:03:13.760 --> 00:03:17.680\nUsually, it's a combination of those\nthings assigned to us as an individual\n\n56\n00:03:17.680 --> 00:03:18.510\nuser.\n\n57\n00:03:18.510 --> 00:03:22.052\nPerhaps associated with our\ngroup membership or memberships.\n\n58\n00:03:22.052 --> 00:03:22.890\nMay be a member of,\n\n59\n00:03:22.890 --> 00:03:27.090\nat a minimum, domain users in\na Windows Active Directory based domain.\n\n60\n00:03:27.090 --> 00:03:30.760\nPerhaps other accounts or\nrather other groups as well.\n\n61\n00:03:30.760 --> 00:03:35.590\nThings like the everyone group, which is a\nsystem controlled group that will be used\n\n62\n00:03:35.590 --> 00:03:38.340\nat certain points to grant\naccess to us to do things.\n\n63\n00:03:38.340 --> 00:03:42.140\nRemember, for instance, the default share\npermission is everyone read, right?\n\n64\n00:03:42.140 --> 00:03:44.780\nSo we may be a member of that group\n\n65\n00:03:44.780 --> 00:03:48.120\nin order to access a shared resource\nduring the time we're looking to do that.\n\n66\n00:03:48.120 --> 00:03:51.830\nSo that's a transitory membership\nthat we will be granted or\n\n67\n00:03:51.830 --> 00:03:53.660\nassigned during a certain activity.\n\n68\n00:03:53.660 --> 00:03:56.830\nWe may be a permanent member of other\ngroups, like domain users, perhaps,\n\n69\n00:03:56.830 --> 00:04:00.880\ndomain administrators, backup operators,\nvariety of different groups..\n\n70\n00:04:00.880 --> 00:04:03.670\nSo we'll get into all this and\nwhat these groups are, how they operate,\n\n71\n00:04:03.670 --> 00:04:05.970\nwhy they're important as\npart of our conversations.\n\n72\n00:04:05.970 --> 00:04:09.590\nBut ultimately, we go through what we\ncall the identity life cycle, right?\n\n73\n00:04:09.590 --> 00:04:14.145\nThis thought process of managing and\nproviding our credential to validate our\n\n74\n00:04:14.145 --> 00:04:17.890\nability to prove who we are and then be\ngranted some sort of right to log in.\n\n75\n00:04:17.890 --> 00:04:20.626\nAnd as we begin to talk about\ncredentials and privileged access,\n\n76\n00:04:20.626 --> 00:04:22.475\nwe have to really think\nabout this process.\n\n77\n00:04:22.475 --> 00:04:26.147\nBecause it's this process we're gonna\nkeep focusing on picking apart at\n\n78\n00:04:26.147 --> 00:04:27.370\ndifferent stages.\n\n79\n00:04:27.370 --> 00:04:30.050\nAnd talking about all of the different\ncontributory factors and\n\n80\n00:04:30.050 --> 00:04:33.360\nthe things that are a part\nof this who are you?\n\n81\n00:04:33.360 --> 00:04:34.470\nI am so and so.\n\n82\n00:04:34.470 --> 00:04:36.920\nGreat, we validate who you are,\nhere's your rights.\n\n83\n00:04:36.920 --> 00:04:40.568\nGreat, let me go off and access data is\nkind of a high level thought process,\n\n84\n00:04:40.568 --> 00:04:44.560\nvery generic, about what goes right\nwith that process if everything is good.\n\n85\n00:04:44.560 --> 00:04:45.270\nOr, who are you?\n\n86\n00:04:45.270 --> 00:04:45.810\nI'm so and so.\n\n87\n00:04:45.810 --> 00:04:46.730\nNo you're not.\nYes I am.\n\n88\n00:04:46.730 --> 00:04:47.660\nNo you're not.\n\n89\n00:04:47.660 --> 00:04:49.020\nSorry, you're not allowed in.\n\n90\n00:04:49.020 --> 00:04:52.480\nWhat can go wrong with that process in the\nsense that we did not provide the right\n\n91\n00:04:52.480 --> 00:04:54.500\ncredentials, although that is going right,\nright?\n\n92\n00:04:54.500 --> 00:04:56.470\nIn the sense,\nwanna keep the bad actors out,\n\n93\n00:04:56.470 --> 00:04:57.730\nthe people that don't belong getting in.\n\n94\n00:04:57.730 --> 00:05:02.140\nSo there's a lot of subtlety that we have\nto engage with around this conversation.\n\n95\n00:05:02.140 --> 00:05:06.550\nWe could sum a lot of this up as we\nget through the basic thought process\n\n96\n00:05:06.550 --> 00:05:10.060\nof login, identification,\nand authorization.\n\n97\n00:05:10.060 --> 00:05:13.820\nAnd as we get in and start acting and\nusing that credential and\n\n98\n00:05:13.820 --> 00:05:17.950\nusing those rights that were granted\nto access resources, we wanna\n\n99\n00:05:17.950 --> 00:05:21.480\nthink about an overarching thought process\nfrom a management perspective, right?\n\n100\n00:05:21.480 --> 00:05:24.486\nWhich is this idea of, drum roll,\nI'm gonna let you say it for us so\n\n101\n00:05:24.486 --> 00:05:27.079\nthat you can feel like you're\npart of the conversation.\n\n102\n00:05:27.079 --> 00:05:28.760\n&gt;&gt; Okay.\n&gt;&gt; Cuz I see you're busy over there doing\n\n103\n00:05:28.760 --> 00:05:29.866\nall sorts of stuff.\n\n104\n00:05:29.866 --> 00:05:30.543\n&gt;&gt; Yeah [LAUGH].\n\n105\n00:05:30.543 --> 00:05:33.399\n&gt;&gt; So we're talking about this\nidea once we get in, right, and\n\n106\n00:05:33.399 --> 00:05:34.528\nwe get onto the system.\n\n107\n00:05:34.528 --> 00:05:36.840\nWe kinda walked through the logic\nof identifying ourselves,\n\n108\n00:05:36.840 --> 00:05:38.790\nand let's say we've been successful,\nright?\n\n109\n00:05:38.790 --> 00:05:43.620\nSo now that we wanna get in, what's an\noverarching governing thought process from\n\n110\n00:05:43.620 --> 00:05:47.060\nus, as security professionals, Cherokee,\nthat we wanna think about that we should\n\n111\n00:05:47.060 --> 00:05:51.710\nuse to govern and really control the grant\nof rights to users and the permissions?\n\n112\n00:05:51.710 --> 00:05:53.580\nHow do we scope and tailor?\n\n113\n00:05:53.580 --> 00:05:54.330\nScoping and tailoring,\n\n114\n00:05:54.330 --> 00:05:58.890\nbefore Cherokee answers, is this idea\nof really being granular and filtering.\n\n115\n00:05:58.890 --> 00:06:01.808\nThis is the language of information\nsecurity management, right?\n\n116\n00:06:01.808 --> 00:06:06.850\nThis idea of filtering and being very\ngranular in our approach to grants of\n\n117\n00:06:06.850 --> 00:06:11.340\nuser rights, giving users the permissions\nthat they are supposed to be entitled to,\n\n118\n00:06:11.340 --> 00:06:12.940\nbut doing so in a certain way.\n\n119\n00:06:12.940 --> 00:06:15.657\nWhat would we use as a term to\ndescribe this, or a thought process?\n\n120\n00:06:15.657 --> 00:06:18.979\n&gt;&gt; Are you talking about the AAA, or\nthe principle of least privilege?\n\n121\n00:06:18.979 --> 00:06:20.760\n&gt;&gt; I'm talking about\nthe principle of least privilege.\n\n122\n00:06:20.760 --> 00:06:24.156\nCuz we already identified AAA as part of\nthe walk through of the identity life\n\n123\n00:06:24.156 --> 00:06:26.898\ncycle, so this idea of-\n&gt;&gt; So once we've authenticated and\n\n124\n00:06:26.898 --> 00:06:27.900\ngot our access.\n\n125\n00:06:27.900 --> 00:06:30.120\n&gt;&gt; Right, so the idea of\nthe principle of least privilege.\n\n126\n00:06:30.120 --> 00:06:32.840\nSo what is, help me to understand,\nwhat is the principle of least privilege?\n\n127\n00:06:32.840 --> 00:06:36.420\n&gt;&gt; Okay, so Adam, the principle of least\nprivilege is going to be a way that I can\n\n128\n00:06:36.420 --> 00:06:41.610\nimplement allowing users or\nemployees or customers\n\n129\n00:06:41.610 --> 00:06:45.870\nto gain a certain level of access without\nproviding them too much access, and\n\n130\n00:06:45.870 --> 00:06:47.560\nwhich they do not need access to.\n\n131\n00:06:47.560 --> 00:06:51.270\nSo you wanna stick really by job role or\nusage,\n\n132\n00:06:51.270 --> 00:06:53.280\nand then restrict access accordingly.\n\n133\n00:06:53.280 --> 00:06:56.905\nSo only giving them enough\nto do what they need to do.\n\n134\n00:06:56.905 --> 00:06:58.405\n&gt;&gt; Okay, they being a user, right?\n\n135\n00:06:58.405 --> 00:07:00.695\nWhoever the user may be\nthat we we're managing, or\n\n136\n00:07:00.695 --> 00:07:02.715\ntrying to assign rights to,\nwhoever that is, right?\n\n137\n00:07:02.715 --> 00:07:04.774\nSo when we think about\nfocusing on the subject,\n\n138\n00:07:04.774 --> 00:07:08.070\njust to go back to the language of\naccess control we've been talking about,\n\n139\n00:07:08.070 --> 00:07:11.483\nwe're focusing, in Cherokee's definition,\nwhich is spot on, by the way.\n\n140\n00:07:11.483 --> 00:07:15.895\nExactly what we want to hear and think\nabout with regards to least privilege.\n\n141\n00:07:15.895 --> 00:07:19.910\nWe just wanna substitute the word subject,\nright, the user that she was talking\n\n142\n00:07:19.910 --> 00:07:22.635\nabout, whoever they, right,\nthe language she used, whoever they are.\n\n143\n00:07:22.635 --> 00:07:23.995\nLet's be specific, right?\n\n144\n00:07:23.995 --> 00:07:28.198\nIt's the subject or the user that is\nbeing granted the rights by this IT\n\n145\n00:07:28.198 --> 00:07:31.061\nadministrative function, whatever that is.\n\n146\n00:07:31.061 --> 00:07:34.598\nAnd the minimum amount of\nresource access permissions or\n\n147\n00:07:34.598 --> 00:07:37.482\nprivileges required to do their job,\nright?\n\n148\n00:07:37.482 --> 00:07:41.540\nTo be able to allow the subject to do\nwhat it needs to do, but nothing more,\n\n149\n00:07:41.540 --> 00:07:43.830\nis the idea behind least privilege.\n\n150\n00:07:43.830 --> 00:07:44.360\nYes?\n&gt;&gt; And\n\n151\n00:07:44.360 --> 00:07:47.523\none of the key things I think is\nreally important when we're talking\n\n152\n00:07:47.523 --> 00:07:49.815\nabout security is to think\noutside the box here.\n\n153\n00:07:49.815 --> 00:07:53.083\nAnd like I had mentioned before,\nFor you can't always think,\n\n154\n00:07:53.083 --> 00:07:55.550\nhey this is just a digital implementation,\nbut\n\n155\n00:07:55.550 --> 00:07:59.807\nalso a principle of least privileges can\nbe used with physical security and access\n\n156\n00:07:59.807 --> 00:08:04.335\nto certain physical locations within your\norganization and things like that as well.\n\n157\n00:08:04.335 --> 00:08:08.435\n&gt;&gt; Should be used across the board,\nwhether it is granting access rights to\n\n158\n00:08:08.435 --> 00:08:11.835\na server to print a document or\nlook at a file share.\n\n159\n00:08:11.835 --> 00:08:15.295\nWhether it's who gets rights to have\na combination to a door like you were\n\n160\n00:08:15.295 --> 00:08:17.435\nsuggesting, perhaps along\nthe lines of physical security.\n\n161\n00:08:17.435 --> 00:08:20.135\nOr who has a swipe card\nthat's programmed to\n\n162\n00:08:20.135 --> 00:08:22.405\ngive them access to certain\nareas of a facility.\n\n163\n00:08:22.405 --> 00:08:25.855\nThere's all these ways we can think about\nthis and Cherokee raises an excellent\n\n164\n00:08:25.855 --> 00:08:29.390\npoint, which is hey,\nit's not just access control, right?\n\n165\n00:08:29.390 --> 00:08:34.280\nIt's about he physical as well as\nthe logical regards of access control and\n\n166\n00:08:34.280 --> 00:08:35.110\ngenerically.\n\n167\n00:08:35.110 --> 00:08:38.120\nPrincipal of these privileges,\none of these underlying architectural\n\n168\n00:08:38.120 --> 00:08:42.047\nthought processes or pillars that we\nbuild information security management on.\n\n169\n00:08:42.047 --> 00:08:46.000\nWith regards to that, if you wanna join me\nhere for just a minute, we'll take a look.\n\n170\n00:08:46.000 --> 00:08:48.160\nThere is a website that\nmay be of interest to you,\n\n171\n00:08:48.160 --> 00:08:50.550\nit's in the show notes, so\nI encourage you to go take a look.\n\n172\n00:08:50.550 --> 00:08:53.250\nJust some thoughts from\nMicrosoft applies to Server 16,\n\n173\n00:08:53.250 --> 00:08:55.740\ngoing back several generations of the OS.\n\n174\n00:08:55.740 --> 00:09:00.330\nReally just our thought process\nabout how the best practices and\n\n175\n00:09:00.330 --> 00:09:03.450\nthe thought processes applying\nthe implementation of least\n\n176\n00:09:03.450 --> 00:09:07.620\nprivilege should be seen with regards\nto administrative models you see here.\n\n177\n00:09:07.620 --> 00:09:12.180\nKind of just walking through,\nlooking at the historical references,\n\n178\n00:09:12.180 --> 00:09:14.180\nthe problem of privilege,\nhow we manage it.\n\n179\n00:09:14.180 --> 00:09:15.690\nAnd then as we go down,\n\n180\n00:09:15.690 --> 00:09:19.870\nyou're looking at things like Active\nDirectory, workstations, member servers,\n\n181\n00:09:19.870 --> 00:09:24.305\netc., and just the places we have to\nlook at to reduce privileges we suggest.\n\n182\n00:09:24.305 --> 00:09:28.543\nAnd then the ways in which we can do that\nby configuring group policy which we'll\n\n183\n00:09:28.543 --> 00:09:31.390\nget into and\ntalk about on the default domain policy or\n\n184\n00:09:31.390 --> 00:09:33.178\nthe domain controllers policy.\n\n185\n00:09:33.178 --> 00:09:37.259\nTo be able to deny access to logon\nlocally, deny access to logon as\n\n186\n00:09:37.259 --> 00:09:42.992\na service, deny access to this computer,\nright, either locally or from the network.\n\n187\n00:09:42.992 --> 00:09:44.022\nSo all these things we can do,\n\n188\n00:09:44.022 --> 00:09:48.482\nwe often don't stop and think about some\nof the approaches that will be valuable,\n\n189\n00:09:48.482 --> 00:09:52.211\njust because we may be rushing to\nget a lot of other stuff done.\n\n190\n00:09:52.211 --> 00:09:56.031\nMay think, well probably somebody's\nalready done that, it's a default policy,\n\n191\n00:09:56.031 --> 00:09:57.611\nmaybe it's already set there.\n\n192\n00:09:57.611 --> 00:09:59.051\nBut we have to stop and really check.\n\n193\n00:09:59.051 --> 00:10:02.461\nWe're going to go through and look at\ngroup policy settings here in a minute.\n\n194\n00:10:02.461 --> 00:10:04.911\nBring up a word document I\nhave that details out for\n\n195\n00:10:04.911 --> 00:10:09.580\nus what the rights are that we can\nassign through group policy, and\n\n196\n00:10:09.580 --> 00:10:12.060\nreally drill down and\nmake you aware of those.\n\n197\n00:10:12.060 --> 00:10:16.390\nAnd if you haven't seen a summary chart\nlike this, or haven't look at, in general,\n\n198\n00:10:16.390 --> 00:10:19.516\nsome of the group policy guidance,\nthat Microsoft provides,\n\n199\n00:10:19.516 --> 00:10:23.140\nthat you know was made available to you,\nor that you can download.\n\n200\n00:10:23.140 --> 00:10:25.458\nThere's always a group of\npolicy reference spreadsheets.\n\n201\n00:10:25.458 --> 00:10:28.150\nYou often will hear me talk\nabout in some shows like this,\n\n202\n00:10:28.150 --> 00:10:30.890\nwhere we're talking about security and\naspects of security.\n\n203\n00:10:30.890 --> 00:10:32.790\nAnd management of a through group policy.\n\n204\n00:10:32.790 --> 00:10:34.580\nWe've shown them to you in other shows.\n\n205\n00:10:34.580 --> 00:10:35.700\nYou can go out and Google and\n\n206\n00:10:35.700 --> 00:10:39.030\ndownload for the latest set based\non whatever OS you're using.\n\n207\n00:10:39.030 --> 00:10:42.360\nThere's well over probably\n2 to 3,000 group policy\n\n208\n00:10:42.360 --> 00:10:44.750\nsettings at this point in Server 16 and\nWindows 10.\n\n209\n00:10:44.750 --> 00:10:47.950\nAnd a very large portion\nof them deal with security.\n\n210\n00:10:47.950 --> 00:10:52.430\nAnd so being detailed about what we have,\nand our understanding of those settings is\n\n211\n00:10:52.430 --> 00:10:56.540\ngonna be crucial to our ability to provide\nguidance and implement accordingly.\n\n212\n00:10:56.540 --> 00:10:59.280\nSo we wanna take a look at some of this,\nit's just gonna be helpful to you,\n\n213\n00:10:59.280 --> 00:11:03.970\nwith regards to group policy and the\nrights we can assign from group policy.\n\n214\n00:11:03.970 --> 00:11:05.090\nIf we can go full-screen, just so\n\n215\n00:11:05.090 --> 00:11:07.100\nthat way you can see the document\nwhile we're talking.\n\n216\n00:11:07.100 --> 00:11:10.090\nLet's go through, let's just take\na look at what's going on in here,\n\n217\n00:11:10.090 --> 00:11:14.560\nprobably helpful for us to understand and\nthink about some of these settings.\n\n218\n00:11:14.560 --> 00:11:17.090\nWhat I did is I just went in,\nlooked at the user rights,\n\n219\n00:11:17.090 --> 00:11:19.023\nthe sign in policies that are available.\n\n220\n00:11:19.023 --> 00:11:22.368\nJust kinda called out\nthe high level summary or\n\n221\n00:11:22.368 --> 00:11:25.030\nfunction as to what they do here.\n\n222\n00:11:25.030 --> 00:11:27.990\nThis is a chart that is available to you\nas a download as part of the show notes.\n\n223\n00:11:27.990 --> 00:11:30.940\nSo we'll have it available,\nencourage you to take a look.\n\n224\n00:11:30.940 --> 00:11:34.430\nLet me just be clear here, so I'm not\nsuggesting you should go through and\n\n225\n00:11:34.430 --> 00:11:39.640\nmemorize and study the 20 to 30\nitems here that are part of this.\n\n226\n00:11:39.640 --> 00:11:41.630\nThis is actually probably\na little bit more, this is,\n\n227\n00:11:41.630 --> 00:11:45.390\nas you can see, a rather long list,\nit's about six pages in length just so\n\n228\n00:11:45.390 --> 00:11:47.400\nI'm just scrolling through\nreally quickly here.\n\n229\n00:11:47.400 --> 00:11:49.900\nSo you don't want to go through and\nmemorize all of these.\n\n230\n00:11:49.900 --> 00:11:53.260\nThis is just an authoritative and\ndescriptive list for you, so\n\n231\n00:11:53.260 --> 00:11:56.240\nthat way you can see what they are.\n\n232\n00:11:56.240 --> 00:11:58.160\nIt's good as a desktop reference,\n\n233\n00:11:58.160 --> 00:11:59.955\nobviously good to have\nthis all in one place.\n\n234\n00:11:59.955 --> 00:12:03.685\nBut what I would suggest you do\nis use this as a guide, right,\n\n235\n00:12:03.685 --> 00:12:06.435\na thought process that helps\nus to better understand.\n\n236\n00:12:06.435 --> 00:12:10.165\nHelps you, to better understand that\nthere's a wealth of information,\n\n237\n00:12:10.165 --> 00:12:12.885\na large amount of settings out there.\n\n238\n00:12:12.885 --> 00:12:16.055\nGetting familiar with them is the best\nthing we could recommend you do.\n\n239\n00:12:16.055 --> 00:12:19.285\nThere's no guarantee you'll be tested\non one or any or all of these settings,\n\n240\n00:12:19.285 --> 00:12:20.620\nthere's no way to know.\n\n241\n00:12:20.620 --> 00:12:23.920\nIt's pretty common sensical,\nI would think, that you can assume\n\n242\n00:12:23.920 --> 00:12:27.510\nthat knowledge of these settings would\nbe valuable in an exam scenario.\n\n243\n00:12:27.510 --> 00:12:31.340\nCuz you'd want to have sense, a sense of\nthe fact that you can do certain things.\n\n244\n00:12:31.340 --> 00:12:33.710\nBut which one or ones may be testable?\n\n245\n00:12:33.710 --> 00:12:37.780\nNo way to tell, but I can tell you that I\nwould not spend time memorizing six pages\n\n246\n00:12:37.780 --> 00:12:39.870\nworth of settings to prepare for the exam.\n\n247\n00:12:39.870 --> 00:12:41.950\nI think that's a waste of your time.\n\n248\n00:12:41.950 --> 00:12:46.270\nBut I do think going in, getting\nyour hands on the product going in,\n\n249\n00:12:46.270 --> 00:12:50.290\nlooking at server 16 as we'll do\nin our hands on walk-throughs.\n\n250\n00:12:50.290 --> 00:12:52.650\nLooking at the group policy\nmanagement editor or\n\n251\n00:12:52.650 --> 00:12:56.220\nthe console to see how these\npolicy settings are applied.\n\n252\n00:12:56.220 --> 00:13:00.980\nHaving knowledge of how policy works,\nthose are thematic skills that are gonna\n\n253\n00:13:00.980 --> 00:13:05.805\nbe crucial to your success, both on\nan exam, regardless of what exam it is.\n\n254\n00:13:05.805 --> 00:13:10.201\nAnd or and even the exams and in other\nwords in the MCSA track for server 16,\n\n255\n00:13:10.201 --> 00:13:11.751\nyou'll benefit from that knowledge,\n\n256\n00:13:11.751 --> 00:13:15.080\nyou know not just here with\nthe special focus on security.\n\n257\n00:13:15.080 --> 00:13:19.110\nBut in addition it will help you in the\nreal world become better at your job and\n\n258\n00:13:19.110 --> 00:13:20.490\nbetter at what you do.\n\n259\n00:13:20.490 --> 00:13:25.090\nWhen your employer comes to you and\nsays hey John, Joe, Mary, Sarah, whoever,\n\n260\n00:13:25.090 --> 00:13:27.210\nright, Cherokee, whoever it is, right.\n\n261\n00:13:27.210 --> 00:13:31.580\nWe need you to go out and\nfigure out how to accomplish these things.\n\n262\n00:13:31.580 --> 00:13:33.620\nIs there a policy that\nwe can use to do that?\n\n263\n00:13:33.620 --> 00:13:36.810\nIs there a way that we can\ncentrally manage to control these\n\n264\n00:13:36.810 --> 00:13:38.320\nenvironmental settings?\n\n265\n00:13:38.320 --> 00:13:40.985\nThe answer from your part\nshould be I am pretty sure.\n\n266\n00:13:40.985 --> 00:13:43.310\nMaybe you already know the answer is yes,\nabsolutely.\n\n267\n00:13:43.310 --> 00:13:44.760\nBut if you are not sure hey,\nyou know what,\n\n268\n00:13:44.760 --> 00:13:47.455\nI am pretty sure,\nlet me go check that out real quick.\n\n269\n00:13:47.455 --> 00:13:51.030\nAnd having the confidence to go figure\nit out, is what we are after, right?\n\n270\n00:13:51.030 --> 00:13:54.665\nWe try to demo these things for you,\nhelp you to better understand them.\n\n271\n00:13:54.665 --> 00:13:58.760\nGet comfortable, right, because\nthe more you do this the easier it is.\n\n272\n00:13:58.760 --> 00:14:00.140\nI work with this stuff everyday.\n\n273\n00:14:00.140 --> 00:14:03.910\nI have worked with it everyday since\nbefore Microsoft had group policy.\n\n274\n00:14:03.910 --> 00:14:08.150\nAll the way back when we had a tool\ncalled Poledit in the Windows 9X days.\n\n275\n00:14:08.150 --> 00:14:11.960\nBefore we had centralized group\npolicy at a Windows 2000 based or\n\n276\n00:14:11.960 --> 00:14:15.180\nfrom that point forward,\nLDAP based Active Directory, right?\n\n277\n00:14:15.180 --> 00:14:17.890\nI go back way before that as\nyou've heard me talk about.\n\n278\n00:14:17.890 --> 00:14:19.550\nAnd many of you do as well.\n\n279\n00:14:19.550 --> 00:14:21.450\nI've been doing this a long time.\n\n280\n00:14:21.450 --> 00:14:25.430\nAnd there are policy settings I don't\nknow because I don't use them very often.\n\n281\n00:14:25.430 --> 00:14:28.900\nThere are questions I get from costumers\nall the time about things that I've\n\n282\n00:14:28.900 --> 00:14:30.760\njust never had to do or\n\n283\n00:14:30.760 --> 00:14:34.220\nif I've had to do them I haven't\nhad to do them in quite some time.\n\n284\n00:14:34.220 --> 00:14:37.540\nAnd I gotta go look them up and\nI'm not ashamed to say that to a customer.\n\n285\n00:14:37.540 --> 00:14:41.120\nI think is what I will often tell\nthe customer, I can do that for you.\n\n286\n00:14:42.150 --> 00:14:46.090\nI know for a fact that if there's a way\nto do it, I can tell you how to do it but\n\n287\n00:14:46.090 --> 00:14:49.100\nI gotta be confident before\nI tell you what that way is.\n\n288\n00:14:49.100 --> 00:14:52.920\nLet me go research that, give me a couple\nhours, let me get back with you and\n\n289\n00:14:52.920 --> 00:14:56.420\nif the answer's out there I promise\nyou Microsoft documented it.\n\n290\n00:14:56.420 --> 00:14:59.718\nWe'll find it and we'll figure out how\nto apply it to your environment, right?\n\n291\n00:14:59.718 --> 00:15:02.068\nAnd that's what you want to be\nable to tell your employer.\n\n292\n00:15:02.068 --> 00:15:04.760\nI'm not 100% sure,\nI'd rather be unsure and\n\n293\n00:15:04.760 --> 00:15:08.052\nbe honest with you than tell\nyou I'm pretty confident.\n\n294\n00:15:08.052 --> 00:15:11.560\nAnd then you will assume that means\nI know and I found out I'm wrong.\n\n295\n00:15:11.560 --> 00:15:14.720\nBecause if I'm wrong,\nyou've made a decision based on my\n\n296\n00:15:14.720 --> 00:15:18.750\ninability to be accurate and\nconcise about information on my knowledge.\n\n297\n00:15:18.750 --> 00:15:20.460\nWe're going to make bad decisions right?\n\n298\n00:15:20.460 --> 00:15:24.605\nAnd I want to be part of helping you,\nenable you to make good decisions,\n\n299\n00:15:24.605 --> 00:15:28.205\nnot be the reason why you made bad ones\nis what I tell customers all the time.\n\n300\n00:15:28.205 --> 00:15:31.685\nAnd as an IT professional, you've got to\nhave that mindset, and I know you do.\n\n301\n00:15:31.685 --> 00:15:34.415\nI know that's not something you ever\nwant to have on your conscience or\n\n302\n00:15:34.415 --> 00:15:35.185\nbe blamed for.\n\n303\n00:15:35.185 --> 00:15:37.480\nYou never want to be the reason\npeople make bad decisions.\n\n304\n00:15:37.480 --> 00:15:40.110\nAnd as a result put themselves\nin an insecure environment.\n\n305\n00:15:40.110 --> 00:15:44.349\nYou want to be the reason, hello, you\nwant to be the reason that we make good,\n\n306\n00:15:44.349 --> 00:15:45.470\nsecure decisions.\n\n307\n00:15:45.470 --> 00:15:47.109\nWhich is why Cherokee is\ngoing to chime in and\n\n308\n00:15:47.109 --> 00:15:48.672\ntell us how we are going\nto be more secure.\n\n309\n00:15:48.672 --> 00:15:49.705\nSo share your knowledge\nwith us Miss Cherokee.\n\n310\n00:15:49.705 --> 00:15:52.836\n&gt;&gt; [LAUGH] No I was just agreeing with you\nAdam that we definitely don't want to put\n\n311\n00:15:52.836 --> 00:15:53.857\nup a smoke screen there.\n\n312\n00:15:53.857 --> 00:15:55.242\nThat is never a good method.\n\n313\n00:15:55.242 --> 00:15:58.746\nAs matter a fact You shared\nyour sayings and your ideas but\n\n314\n00:15:58.746 --> 00:16:04.010\nmine is also something to that effect, but\nis always under promise and over produce.\n\n315\n00:16:04.010 --> 00:16:08.040\nAnd that's like you had said, we don't\nwanna be putting that smoke screen or\n\n316\n00:16:08.040 --> 00:16:11.334\nacting like we have more knowledge\nthan what we really do have.\n\n317\n00:16:11.334 --> 00:16:13.549\n&gt;&gt; Yeah, very, very true, right?\n\n318\n00:16:13.549 --> 00:16:17.640\nSo underpromise, overdeliver, unerpromise,\noverproduce, whatever you call it.\n\n319\n00:16:17.640 --> 00:16:18.900\nUltimately, right?\n\n320\n00:16:18.900 --> 00:16:22.333\nThe reality of our world,\nour jobs as IT professionals,\n\n321\n00:16:22.333 --> 00:16:26.697\nand as IT security professionals\nequally important is to ensure that our\n\n322\n00:16:26.697 --> 00:16:29.790\norganizations make the best\npossible decisions.\n\n323\n00:16:29.790 --> 00:16:34.229\nAnd do so for the most important reason,\nwhich is we have complete and as much as\n\n324\n00:16:34.229 --> 00:16:38.739\nour environment allows, confident\nunderstanding of what our variables are,\n\n325\n00:16:38.739 --> 00:16:41.067\nthings we have to take into account.\n\n326\n00:16:41.067 --> 00:16:44.147\nAnd our ability to control those because\nwe have good accurate knowledge,\n\n327\n00:16:44.147 --> 00:16:46.087\nnot because we're\nguessing as we often say.\n\n328\n00:16:46.087 --> 00:16:48.006\nSo very important for you to do that.\n\n329\n00:16:48.006 --> 00:16:49.461\nThere's no shame by the way,\n\n330\n00:16:49.461 --> 00:16:53.375\nand there was absolutely nothing wrong\nwith telling somebody you don't know.\n\n331\n00:16:53.375 --> 00:16:55.837\nAnd I get this all the time\nfrom IT professionals.\n\n332\n00:16:55.837 --> 00:17:00.685\nI get this all the time from people in\nour industry where they feel compelled to\n\n333\n00:17:00.685 --> 00:17:04.427\nmake people believe they have\nmore knowledge than they do.\n\n334\n00:17:04.427 --> 00:17:07.623\nBecause they're scared that if they\ntell people they don't know, number one,\n\n335\n00:17:07.623 --> 00:17:09.230\nthey're not gonna be taken seriously.\n\n336\n00:17:09.230 --> 00:17:13.090\nNumber two, they may put their jobs\nin jeopardy, and people will not\n\n337\n00:17:13.090 --> 00:17:16.950\nthen look at them as a valuable and\ntrusted resource going forward.\n\n338\n00:17:16.950 --> 00:17:18.700\nNothing could be further\nfrom the truth by the way.\n\n339\n00:17:18.700 --> 00:17:22.036\nAnd if you happen to work in\nan organization where that's not the case,\n\n340\n00:17:22.036 --> 00:17:25.706\nI would suggest you seriously think\nabout going and finding an organization,\n\n341\n00:17:25.706 --> 00:17:27.218\nwhere that is the case, right?\n\n342\n00:17:27.218 --> 00:17:29.590\nAnd if you're not familiar with one,\nbe in touch with me and\n\n343\n00:17:29.590 --> 00:17:31.536\nI will give you the names\nof many organizations,\n\n344\n00:17:31.536 --> 00:17:34.450\nthat would love to hire you,\nbecause the culture is much better.\n\n345\n00:17:34.450 --> 00:17:39.430\nBecause working in an organization where\npeople are not valued for their honesty,\n\n346\n00:17:39.430 --> 00:17:41.789\nand their ability to say I'm not sure.\n\n347\n00:17:41.789 --> 00:17:44.810\nBut I'm gonna find out Is not\nan environment you wanna spend time in.\n\n348\n00:17:44.810 --> 00:17:47.355\nBecause you're gonna be blamed for\nmaking decisions,\n\n349\n00:17:47.355 --> 00:17:49.094\nregardless of whether they're bad.\n\n350\n00:17:49.094 --> 00:17:50.499\nBecause you made them the wrong way or\n\n351\n00:17:50.499 --> 00:17:52.460\nthey're bad because somebody\nforced you into it.\n\n352\n00:17:52.460 --> 00:17:56.393\nAnd if you're constantly treading water,\nhoping that you are guessing the right\n\n353\n00:17:56.393 --> 00:17:59.536\nway, you're not doing yourself or\nyour organization any good.\n\n354\n00:17:59.536 --> 00:18:02.739\nYou're gonna lead them down the path\nof just horrible outcomes and\n\n355\n00:18:02.739 --> 00:18:06.188\nwhether it's your fault or not,\nthat's where you're gonna wind up.\n\n356\n00:18:06.188 --> 00:18:07.623\nYou don't wanna be a part of that,\n\n357\n00:18:07.623 --> 00:18:10.505\nyou don't wanna work in an organization\nwhere that's the culture.\n\n358\n00:18:10.505 --> 00:18:13.571\nReally, it just bleeds the life and\nthe happiness and\n\n359\n00:18:13.571 --> 00:18:16.580\nyour ability to do your\njob properly out of you.\n\n360\n00:18:16.580 --> 00:18:19.703\nAnd it leads to just nothing but\nnegative outcomes at the end of the day.\n\n361\n00:18:19.703 --> 00:18:22.210\nSo just remember that, and\nbe aware of that right?\n\n362\n00:18:22.210 --> 00:18:23.640\nCuz Cherokee used to be this big-\n&gt;&gt; [LAUGH]\n\n363\n00:18:23.640 --> 00:18:24.781\n&gt;&gt; And frowning all the time.\n\n364\n00:18:24.781 --> 00:18:27.558\nAnd she came to ITPro.TV\n&gt;&gt; I know, look at me now.\n\n365\n00:18:27.558 --> 00:18:29.386\n&gt;&gt; Look at her now.\nShe's just the happiest,\n\n366\n00:18:29.386 --> 00:18:31.510\nmost go lucky person on the planet.\n\n367\n00:18:31.510 --> 00:18:34.430\nIt's just crazy what the transformation\ncan do for you with good culture.\n\n368\n00:18:34.430 --> 00:18:37.260\nBut all kidding aside,\nI am very serious about that.\n\n369\n00:18:37.260 --> 00:18:40.562\nI've seen it happen in many organizations,\nunfortunately.\n\n370\n00:18:40.562 --> 00:18:44.045\nWhere the standing rule of thumb is\nyou better know and if you don't,\n\n371\n00:18:44.045 --> 00:18:46.340\nyou better assume that\nyou can figure it out.\n\n372\n00:18:46.340 --> 00:18:49.260\nAnd that's okay, I have nothing\nwrong with that can do attitude.\n\n373\n00:18:49.260 --> 00:18:52.632\nMy concern about the can do attitude is,\nit leads you to make promises,\n\n374\n00:18:52.632 --> 00:18:54.105\nas Cherokee was pointing out.\n\n375\n00:18:54.105 --> 00:18:56.064\nThat you're not prepared\nto fulfill properly and\n\n376\n00:18:56.064 --> 00:18:58.180\nthat you don't have\nthe knowledge to back up.\n\n377\n00:18:58.180 --> 00:19:03.040\nAnd that's a very,\nvery risky set of behaviors that leads to\n\n378\n00:19:03.040 --> 00:19:06.190\npotentially opening doors and\ncompromise no matter what is going on.\n\n379\n00:19:06.190 --> 00:19:08.967\nWere you signalling me there or\nwere you just waving?\n\n380\n00:19:08.967 --> 00:19:09.793\n&gt;&gt; No, just dancing.\n\n381\n00:19:09.793 --> 00:19:11.360\n&gt;&gt; You were doing your Cherokee dance,\nokay.\n\n382\n00:19:11.360 --> 00:19:13.464\nIt's really great when you don't see\nit off camera a lot of the times.\n\n383\n00:19:13.464 --> 00:19:15.737\n&gt;&gt; [LAUGH]\n&gt;&gt; She's over in the corner just like her\n\n384\n00:19:15.737 --> 00:19:17.472\nown soundtrack in her head going.\n\n385\n00:19:17.472 --> 00:19:19.256\n&gt;&gt; [LAUGH]\n&gt;&gt; Quietly just be bopping around while\n\n386\n00:19:19.256 --> 00:19:20.215\nI'm talking to you.\n\n387\n00:19:20.215 --> 00:19:22.410\nIt's just always fun to be\nin the studio Cherokee.\n\n388\n00:19:22.410 --> 00:19:24.137\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n389\n00:19:24.137 --> 00:19:26.596\nlet's just go through\nthe list here real quick.\n\n390\n00:19:26.596 --> 00:19:28.163\nGo back to the document if you could for\na minute.\n\n391\n00:19:28.163 --> 00:19:30.372\nSo again I'm not gonna go through\neveryone of these settings theres\n\n392\n00:19:30.372 --> 00:19:31.240\nsix pages of them.\n\n393\n00:19:31.240 --> 00:19:34.691\nEncourage you to definitely\ntake a look at these.\n\n394\n00:19:34.691 --> 00:19:37.736\nBut I've tried to outline all\nthe different user rights,\n\n395\n00:19:37.736 --> 00:19:40.045\nassignment policy elements that are here.\n\n396\n00:19:40.045 --> 00:19:43.330\nTry to give you a quick function and\nto understand what they are.\n\n397\n00:19:43.330 --> 00:19:47.087\nAnd as you could see, tried to do that\nalphabetically, cuz well I had a lot of\n\n398\n00:19:47.087 --> 00:19:50.579\ntime and that's just the kind of\nperson that I am, what can I tell you.\n\n399\n00:19:50.579 --> 00:19:53.750\nBut you could see they are setup for\nthe most part that way.\n\n400\n00:19:53.750 --> 00:19:55.590\nThere are some that are gonna\nbe important, right?\n\n401\n00:19:55.590 --> 00:19:58.131\nFor instance,\nGenerate security audits right here.\n\n402\n00:19:58.131 --> 00:20:00.489\nThis is one that if\nyou're not familiar with,\n\n403\n00:20:00.489 --> 00:20:03.578\nI would suggest you probably\nwanna go spend a little time on.\n\n404\n00:20:03.578 --> 00:20:06.470\nSo yeah, there are gonna be a couple\nI will call out to you here.\n\n405\n00:20:06.470 --> 00:20:09.410\nBut in general, six pages of settings,\n\n406\n00:20:09.410 --> 00:20:12.960\nlike I said I would not spend a lot\nof time going through all of them.\n\n407\n00:20:12.960 --> 00:20:16.088\nBut I would definitely wanna be\nfamiliar with a several of them.\n\n408\n00:20:16.088 --> 00:20:21.640\nGenerates security audits very important,\ncoming in here and\n\n409\n00:20:21.640 --> 00:20:28.568\nthe log on as a service, log on as a batch\njob, some of these impersonization.\n\n410\n00:20:28.568 --> 00:20:33.232\nListen to me, impersonation opportunties\nwhere we afford the ability for\n\n411\n00:20:33.232 --> 00:20:37.360\nuser accounts to be used by\ncertain systems in a certain way.\n\n412\n00:20:37.360 --> 00:20:41.496\nDefinitely wanna watch these and tightly\ncontrol who may have access to these in\n\n413\n00:20:41.496 --> 00:20:44.467\nusing them, management of auditing and\nsecurity logs.\n\n414\n00:20:44.467 --> 00:20:48.935\nIt allows us to give the right or delegate\nthe right for users to be involve with\n\n415\n00:20:48.935 --> 00:20:52.944\nseeing those pieces of information,\ncontrolling those settings.\n\n416\n00:20:52.944 --> 00:20:57.385\nAgain for a trusted user, not a big\ndeal for user that may be suspect for\n\n417\n00:20:57.385 --> 00:20:58.676\nmay not be trusted.\n\n418\n00:20:58.676 --> 00:21:02.825\nThey have no business having this grant,\nfor the users rights, this can get you and\n\n419\n00:21:02.825 --> 00:21:04.420\nthem into a lot of trouble.\n\n420\n00:21:04.420 --> 00:21:06.640\nSo be aware of these kinds of things.\n\n421\n00:21:06.640 --> 00:21:09.576\nOne that's often overlooked,\nmodified firmware.\n\n422\n00:21:09.576 --> 00:21:12.289\nWhich can be very important when\nsomeone is given that right and\n\n423\n00:21:12.289 --> 00:21:13.990\nthat account is compromised, right?\n\n424\n00:21:13.990 --> 00:21:17.226\nSo determines which users can modify\nfirmware or environment variables.\n\n425\n00:21:17.226 --> 00:21:21.364\nThey may be able to go in and modify the\nvariables that tell us where to use and\n\n426\n00:21:21.364 --> 00:21:23.970\nhow to use certain aspects of firmware.\n\n427\n00:21:23.970 --> 00:21:27.594\nReprogramming of these can lead to\ncompromise, so just be aware of that.\n\n428\n00:21:27.594 --> 00:21:32.780\nSo just a lot of them,\nreplacing a process level token.\n\n429\n00:21:32.780 --> 00:21:35.860\nAgain, one that I would probably wanna\nlook at and just be familiar with.\n\n430\n00:21:35.860 --> 00:21:36.829\nRestore files and\n\n431\n00:21:36.829 --> 00:21:41.165\ndirectories much like backing up the\nopposite side of that core and restoring.\n\n432\n00:21:41.165 --> 00:21:44.687\nWe've been talking about the idea of\nlease privileges, separating out and\n\n433\n00:21:44.687 --> 00:21:46.889\nidentifying just the core\nset of permissions or\n\n434\n00:21:46.889 --> 00:21:49.970\nrights a user needs to get their\njob done and nothing more.\n\n435\n00:21:49.970 --> 00:21:53.200\nAlong with the principle or\nthe idea of lease privilege,\n\n436\n00:21:53.200 --> 00:21:55.970\nwe also layer on something\ncalled separation of duties.\n\n437\n00:21:55.970 --> 00:21:57.040\nAnother principle,\n\n438\n00:21:57.040 --> 00:22:02.220\nanother thought process in the security\narchitecture matrix that we lay out.\n\n439\n00:22:02.220 --> 00:22:05.886\nAnd the idea is that we wanna give people\nthe minimum right to do their jobs.\n\n440\n00:22:05.886 --> 00:22:09.370\nBut we don't wanna load them up with\na lot of responsibilities on both\n\n441\n00:22:09.370 --> 00:22:10.490\nsides of a job.\n\n442\n00:22:10.490 --> 00:22:13.860\nSomebody who does backup should not also\nhave the right to restore for instance.\n\n443\n00:22:13.860 --> 00:22:17.776\nBecause if they can both back up and\nrestore data they can get up to no good,\n\n444\n00:22:17.776 --> 00:22:21.079\nnot saying they would,\njust pointing out they may be able to.\n\n445\n00:22:21.079 --> 00:22:24.820\nAnd if they do, they also can hide\nevidence of what they've done.\n\n446\n00:22:24.820 --> 00:22:28.642\nAnd we as the administrators or\nthe stakeholders, the people involved in\n\n447\n00:22:28.642 --> 00:22:32.168\nthe organization may not realize\nthat manipulate has taken place.\n\n448\n00:22:32.168 --> 00:22:36.410\nAnd that can lead to concerns, because\nsomebody may be able to get up to no good.\n\n449\n00:22:37.730 --> 00:22:40.300\nHide evidence of that and\nthen manipulate data, so\n\n450\n00:22:40.300 --> 00:22:44.260\nthat we are making decisions based on\ninaccurate or incomplete information.\n\n451\n00:22:44.260 --> 00:22:48.141\nSo this can be a very big problem and we\nhave to be aware of that as well, right?\n\n452\n00:22:48.141 --> 00:22:50.914\nNot that Cherokee would ever get\nup to that kind of activity.\n\n453\n00:22:50.914 --> 00:22:55.001\n[CROSSTALK] In her down time gets up to-\n&gt;&gt; [LAUGH]\n\n454\n00:22:55.001 --> 00:22:55.760\n&gt;&gt; All sorts of crazy stuff.\n\n455\n00:22:55.760 --> 00:22:59.194\nSo we have to keep an eye on her, and all\nof you, and myself included by the way.\n\n456\n00:22:59.194 --> 00:23:00.816\nWe joke around a lot\nabout that kind of stuff,\n\n457\n00:23:00.816 --> 00:23:02.790\nnot that Cherokee would ever\ndo those kinds of things.\n\n458\n00:23:02.790 --> 00:23:05.825\nIt's quite the opposite,\nnothing could be further from the truth.\n\n459\n00:23:05.825 --> 00:23:10.766\nBut the reality is, in one respect I'm\nbeing very serious, we never know, right?\n\n460\n00:23:10.766 --> 00:23:11.871\n&gt;&gt; Right.\n&gt;&gt; Who is gonna do what, and\n\n461\n00:23:11.871 --> 00:23:13.390\nnot that Cherokee's a bad person.\n\n462\n00:23:13.390 --> 00:23:14.900\nNot that I'm a bad person,\n\n463\n00:23:14.900 --> 00:23:19.179\nnot that she or I would purposely set out\nto do anything wrong or harm anybody.\n\n464\n00:23:19.179 --> 00:23:23.676\nBut you just never know what's in\nsomebody's mind and never know what may or\n\n465\n00:23:23.676 --> 00:23:28.260\nmay not happen and what they are capable\nof doing, let alone what they may do.\n\n466\n00:23:28.260 --> 00:23:32.041\nAnd the reality is that when we are\nsetting up and configuring user rights,\n\n467\n00:23:32.041 --> 00:23:34.801\nand thinking about user rights and\ngrants of rights and\n\n468\n00:23:34.801 --> 00:23:38.177\nthis idea of least privilege,\nthis idea of separation of duties.\n\n469\n00:23:38.177 --> 00:23:41.733\nWhat we have to think about\nthe fact that even the most trusted\n\n470\n00:23:41.733 --> 00:23:46.051\nperson in an organization can get up\nto no good for a variety of reasons, or\n\n471\n00:23:46.051 --> 00:23:48.581\nmay get tricked into\ngetting up to no good.\n\n472\n00:23:48.581 --> 00:23:51.361\nEven though they didn't mean to,\njust because something happened and\n\n473\n00:23:51.361 --> 00:23:54.556\nthey weren't aware of the fact they were\ndoing something that could open them up or\n\n474\n00:23:54.556 --> 00:23:55.734\nlead them to be compromised.\n\n475\n00:23:55.734 --> 00:23:58.510\nSo we have to think about that and\nbe aware of that and,\n\n476\n00:23:58.510 --> 00:24:02.402\nPart of the additional controls we\nlay down, aside from least privilege,\n\n477\n00:24:02.402 --> 00:24:06.169\naside from separation of duties,\nshould also be this idea of what we call\n\n478\n00:24:06.169 --> 00:24:09.422\nthe two-person rule,\nsometimes called the two-man rule.\n\n479\n00:24:09.422 --> 00:24:10.588\n&gt;&gt; M of N?\n&gt;&gt; Prefer of think of\n\n480\n00:24:10.588 --> 00:24:12.210\nit as just two-person rule, what?\n\n481\n00:24:12.210 --> 00:24:13.780\n&gt;&gt; Like the M of N controls?\n\n482\n00:24:13.780 --> 00:24:17.640\n&gt;&gt; The M of N controls,\nnot quite the same thing.\n\n483\n00:24:17.640 --> 00:24:21.644\nThat's a layering idea in something that\nwe would think of more like an defense and\n\n484\n00:24:21.644 --> 00:24:25.372\ndepth thought process where we're\nadding in multiple layers of controls.\n\n485\n00:24:25.372 --> 00:24:27.953\nBut M of N is used to discuss\na couple of different things, so\n\n486\n00:24:27.953 --> 00:24:30.345\none of them could be this,\nbut let's keep it generic.\n\n487\n00:24:30.345 --> 00:24:34.765\nLet's just say this idea of the two person\nrule, or sometimes called an escort rule.\n\n488\n00:24:34.765 --> 00:24:37.327\nYou hear it referred to different ways,\nbut\n\n489\n00:24:37.327 --> 00:24:41.967\nthe idea is that nobody should be allowed\nto engage in certain critical business\n\n490\n00:24:41.967 --> 00:24:46.485\nactivities unless they are observed by and\nare working with another person.\n\n491\n00:24:46.485 --> 00:24:49.887\nTo number one, just ensure that what\nthey're doing is accurate and correct, but\n\n492\n00:24:49.887 --> 00:24:52.480\nalso to ensure that they're\nnot getting up to no good.\n\n493\n00:24:52.480 --> 00:24:53.150\nIn other words,\n\n494\n00:24:53.150 --> 00:24:57.770\nthis idea of oversight continuously in the\nsystem from multiple different levels and\n\n495\n00:24:57.770 --> 00:25:02.280\ndifferent aspects is part of how we\nbuild a secure operating environment.\n\n496\n00:25:02.280 --> 00:25:03.530\nWhen you go into a data center,\n\n497\n00:25:03.530 --> 00:25:06.910\non the data center floor,\nespecially in multi tenant data center,\n\n498\n00:25:06.910 --> 00:25:11.230\nwhere lots of customer are hosting their\ninfrastructure in the same common place.\n\n499\n00:25:11.230 --> 00:25:17.170\nThink of Amazon's AWS data centers,\nMicrosoft's Azure Fabric data centers,\n\n500\n00:25:17.170 --> 00:25:21.170\nGoogle's data centers, the M Word's\ndata centers, whoever the provider is.\n\n501\n00:25:21.170 --> 00:25:24.110\nEven the employees that work there,\nforget about the customers that are not\n\n502\n00:25:24.110 --> 00:25:28.720\nallowed it in the first place, but\nthink about the employees that work there.\n\n503\n00:25:28.720 --> 00:25:31.813\nThey're not allowed on the floor\nby themselves to go in and\n\n504\n00:25:31.813 --> 00:25:35.048\ninteract with infrastructure,\nhard drive service, etc.\n\n505\n00:25:35.048 --> 00:25:39.330\nThere's gotta be somebody who escorts\nthem, even the most trusted employees.\n\n506\n00:25:39.330 --> 00:25:44.240\nBecause it's possible, highly unlikely,\nbut possible that if they wanted to\n\n507\n00:25:44.240 --> 00:25:49.080\nget up to no good in a 500,000 square\nfoot data center where you're buried in\n\n508\n00:25:49.080 --> 00:25:52.940\nthe middle of a rack, you're in the middle\nof nowhere and nobody's watching,\n\n509\n00:25:52.940 --> 00:25:56.970\nthat you could plug a USB device and\nupload malware, download content.\n\n510\n00:25:56.970 --> 00:25:58.130\nYou may be able to manipulate and\n\n511\n00:25:58.130 --> 00:26:02.210\nmodify isolation protections\nbetween various systems.\n\n512\n00:26:02.210 --> 00:26:04.290\nThere's all sorts of stuff\nyou could get up to.\n\n513\n00:26:04.290 --> 00:26:08.090\nThat's why you have cameras in every\nsquare inch of these facilities.\n\n514\n00:26:08.090 --> 00:26:09.740\nThey're remotely monitored.\n\n515\n00:26:09.740 --> 00:26:13.520\nYou've got a physical escort rule\nthat nobody walks out on the floor\n\n516\n00:26:13.520 --> 00:26:16.240\nwithout a member of the security\nteam shadowing them.\n\n517\n00:26:16.240 --> 00:26:19.290\nNot because we're worried about you\ndoing something, but quite the opposite.\n\n518\n00:26:19.290 --> 00:26:21.570\nWe want to validate that\nyou're not doing anything so\n\n519\n00:26:21.570 --> 00:26:24.640\nthat if something does happen\nwe can prove it wasn't you.\n\n520\n00:26:24.640 --> 00:26:26.317\nBut these are un-negotiable rules.\n\n521\n00:26:26.317 --> 00:26:27.710\nThey're non-negotiable rules.\n\n522\n00:26:27.710 --> 00:26:30.690\nYou don't go anywhere\nwithout being escorted.\n\n523\n00:26:30.690 --> 00:26:32.550\nThese are the kinda things\nyou have to think about.\n\n524\n00:26:32.550 --> 00:26:37.080\nBecause this is part of what we need to do\nwhen we're assigning not just grants and\n\n525\n00:26:37.080 --> 00:26:41.530\nrights, but also looking at the protective\noverlays, the policies, the process,\n\n526\n00:26:41.530 --> 00:26:45.280\nthe procedure that helps us to understand\nhow to act in an organization.\n\n527\n00:26:45.280 --> 00:26:47.260\nThis is part of creating\nwhat is called security, or\n\n528\n00:26:47.260 --> 00:26:50.480\nthe culture of security that we think\nabout and that we're talking about.\n\n529\n00:26:50.480 --> 00:26:51.510\nMiss Cherokee.\n\n530\n00:26:51.510 --> 00:26:53.550\n&gt;&gt; Yeah, I'm sure you're going\nto cover this a little bit later\n\n531\n00:26:53.550 --> 00:26:54.145\n&gt;&gt; Don't be sure\n\n532\n00:26:54.145 --> 00:26:54.990\n&gt;&gt; [LAUGH]\n\n533\n00:26:54.990 --> 00:26:56.020\n&gt;&gt; Don't be sure.\n\n534\n00:26:56.020 --> 00:26:57.150\n&gt;&gt; I'm sure.\n&gt;&gt; What comes out of the mind and-\n\n535\n00:26:57.150 --> 00:26:57.720\n&gt;&gt; I am sure.\n\n536\n00:26:57.720 --> 00:26:58.776\n&gt;&gt; The mouth of Cherokee, we never know.\n\n537\n00:26:58.776 --> 00:26:59.760\nBut what am I going to cover?\n\n538\n00:26:59.760 --> 00:27:00.720\nWhat are you thinking?\n\n539\n00:27:00.720 --> 00:27:03.456\n&gt;&gt; Well, when you were just talking\nabout that data center example and\n\n540\n00:27:03.456 --> 00:27:05.149\nthat is really something to think about.\n\n541\n00:27:05.149 --> 00:27:08.721\nBecause we don't really want to hand\nover the keys to any one individual or\n\n542\n00:27:08.721 --> 00:27:10.850\ngive any one individual too much power.\n\n543\n00:27:10.850 --> 00:27:15.790\nAnd that's why we do things like implement\nmandatory vacations, perform audits and\n\n544\n00:27:15.790 --> 00:27:16.400\nthings like that.\n\n545\n00:27:16.400 --> 00:27:20.855\nJust to ensure that-\n&gt;&gt; All those additional layers.\n\n546\n00:27:20.855 --> 00:27:23.551\n&gt;&gt; Responsibilities and those layers-\n&gt;&gt; Absolutely.\n\n547\n00:27:23.551 --> 00:27:24.700\n&gt;&gt; Are there and in they are in place.\n\n548\n00:27:24.700 --> 00:27:27.419\n&gt;&gt; Those are also great other\nexamples of other things we would do.\n\n549\n00:27:27.419 --> 00:27:30.167\nThey are all part of this idea of defense\nand depth that we are talking about.\n\n550\n00:27:30.167 --> 00:27:34.248\nSo you are building these overlapping\nlayers of controls or countermeasures.\n\n551\n00:27:34.248 --> 00:27:37.765\nRemember these terms are synonymous,\nthey're essentially synonyms for\n\n552\n00:27:37.765 --> 00:27:38.450\none another.\n\n553\n00:27:38.450 --> 00:27:40.980\nAnd you'll hear them used interchangeably,\nquite a bit.\n\n554\n00:27:40.980 --> 00:27:43.770\nOr layering them in and\nbuilding them up, so that if we\n\n555\n00:27:43.770 --> 00:27:48.230\nforce people to take mandatory vacations\nand we think about that kind of stuff.\n\n556\n00:27:48.230 --> 00:27:51.475\nWe can get up to the point where we\ncan see what people are doing and\n\n557\n00:27:51.475 --> 00:27:52.689\nhow they're doing it.\n\n558\n00:27:52.689 --> 00:27:55.980\nAnd observe when they are on the job and\nalso when they are not.\n\n559\n00:27:55.980 --> 00:27:57.600\nWhen somebody has to cover for\nthem, right?\n\n560\n00:27:57.600 --> 00:27:58.910\nAnd so, this becomes important.\n\n561\n00:27:58.910 --> 00:28:02.420\nSo, things like options\nsuch as log on hours,\n\n562\n00:28:02.420 --> 00:28:05.310\nwhat work stations we log on to or not.\n\n563\n00:28:05.310 --> 00:28:07.608\nWhether our passwords expire or not.\n\n564\n00:28:07.608 --> 00:28:10.610\nWhether Smart Cards are required for\nlog on.\n\n565\n00:28:10.610 --> 00:28:13.370\nWhether the account is sensitive or\nit can be delegated.\n\n566\n00:28:13.370 --> 00:28:18.450\nWhether we use Kerberos delegation\nand/or Kerberos encryption, certain\n\n567\n00:28:18.450 --> 00:28:23.780\nkinds of encryption, DES AES, a low\nlevel for DES, not recommended anymore.\n\n568\n00:28:23.780 --> 00:28:25.910\nWe'll talk more about that and why later.\n\n569\n00:28:25.910 --> 00:28:29.451\nMaybe use Kerberos AES encryption for\nthis account,\n\n570\n00:28:29.451 --> 00:28:34.417\nwhich is recommended and is a new standard\ncuz we wanna make it more secure.\n\n571\n00:28:34.417 --> 00:28:40.410\nWhether we support AES 128 bit\nversus AES 256 bit encryption.\n\n572\n00:28:40.410 --> 00:28:42.800\nThese are all things we\ncan specify with policy.\n\n573\n00:28:42.800 --> 00:28:48.160\nWe can specify and\ncertify that will happen in a certain way.\n\n574\n00:28:48.160 --> 00:28:51.034\nAnd these kinds of things are things\nwe have to start thinking about\n\n575\n00:28:51.034 --> 00:28:53.150\narchitecting and\ndiscussing and planning for.\n\n576\n00:28:53.150 --> 00:28:57.440\nBecause if we don't configure and\nplan for these things, things do happen.\n\n577\n00:28:57.440 --> 00:29:01.090\nThings as simple as an account expiration\ndate for temporary accounts for\n\n578\n00:29:01.090 --> 00:29:03.970\nvendors and for temporary workers.\n\n579\n00:29:03.970 --> 00:29:07.400\nA lot of businesses have seasonal workers\nthey'll come in for periods of time and\n\n580\n00:29:07.400 --> 00:29:08.780\nthen leave again.\n\n581\n00:29:08.780 --> 00:29:10.470\nA lot of vendors these days, or\n\n582\n00:29:10.470 --> 00:29:16.030\na lot of businesses today are using third\nparty vendors to do a variety of things.\n\n583\n00:29:16.030 --> 00:29:19.560\nThose accounts are not to be\ntreated like normal accounts.\n\n584\n00:29:19.560 --> 00:29:21.966\nAccounts can be expired,\nin case you're not familiar with that.\n\n585\n00:29:21.966 --> 00:29:24.650\nWe'll show you that in\nan upcoming walk-through.\n\n586\n00:29:24.650 --> 00:29:25.830\nAnd when you go in, and right click, and\n\n587\n00:29:25.830 --> 00:29:29.610\ncreate a new user in the Active Directory,\nUser and Computer Management tool, or\n\n588\n00:29:29.610 --> 00:29:32.805\nan ADAC, the Active Directory\nAdministrative Center, or\n\n589\n00:29:32.805 --> 00:29:38.120\nthrough a command line tool like DS-ADD or\nthrough PowerShell.\n\n590\n00:29:38.120 --> 00:29:40.690\nHowever you do it,\nthere's multiple ways to do this.\n\n591\n00:29:40.690 --> 00:29:44.859\nWhatever you do, you can set parameters\nand properties and attributes and\n\n592\n00:29:44.859 --> 00:29:46.394\nvalues on these accounts.\n\n593\n00:29:46.394 --> 00:29:50.200\nAnd one of them is password never expires\nand we are all familiar with that.\n\n594\n00:29:50.200 --> 00:29:53.320\nBut also account expires and\naccount expires at a certain time.\n\n595\n00:29:53.320 --> 00:29:56.200\nAnd there is absolutely nothing wrong\nwith creating an account that has\n\n596\n00:29:56.200 --> 00:29:57.420\nan expiration date.\n\n597\n00:29:57.420 --> 00:29:59.495\nWhat that means is the account\nis disabled not deleted.\n\n598\n00:29:59.495 --> 00:30:04.543\nAnd as a result if that user's not gonna\nbe using that account, let's expire it,\n\n599\n00:30:04.543 --> 00:30:09.440\nso we forget to turn it off we know\nit's no longer an open liability for us.\n\n600\n00:30:09.440 --> 00:30:11.765\nAnd then, during our hopefully 30 day or\n\n601\n00:30:11.765 --> 00:30:14.795\n60 review of inactive accounts,\nwe flag that account.\n\n602\n00:30:14.795 --> 00:30:17.145\nSay that's interesting that account\nhasn't been use in a while.\n\n603\n00:30:17.145 --> 00:30:20.205\nLet's make sure we understand\nwhat's going on with that.\n\n604\n00:30:20.205 --> 00:30:22.215\nThat's that vendor account\nthat is not needed anymore.\n\n605\n00:30:22.215 --> 00:30:23.665\nLets go ahead and delete that.\n\n606\n00:30:23.665 --> 00:30:25.465\nLets just make sure there's\nno encrypted data or\n\n607\n00:30:25.465 --> 00:30:27.975\nanything that we have to deal with and\nlets get rid of that.\n\n608\n00:30:27.975 --> 00:30:30.505\nSo that way we know that that\naccount will be used against us.\n\n609\n00:30:30.505 --> 00:30:32.005\nThis is the standing thought process,\n\n610\n00:30:32.005 --> 00:30:36.061\nthe methodology that we want to\nget you thinking about it and\n\n611\n00:30:36.061 --> 00:30:39.160\ningrained in your heads because\nthis is what becomes so important.\n\n612\n00:30:39.160 --> 00:30:42.020\nSo configuring,\nsomething like an account expiration date,\n\n613\n00:30:42.020 --> 00:30:45.150\nis part of this idea of how we manage and\nhow we think through these things.\n\n614\n00:30:45.150 --> 00:30:47.625\nIt's not just another,\nin other words, the user policies.\n\n615\n00:30:47.625 --> 00:30:50.826\nIt's the account polices that\nare also gonna be important.\n\n616\n00:30:50.826 --> 00:30:54.036\nAnd we have to think about things\nlike account password policies,\n\n617\n00:30:54.036 --> 00:30:57.952\naccount lock out polices as part of that,\nnot just giving a user a certain right.\n\n618\n00:30:57.952 --> 00:31:00.953\nBut how long is their password good for\nbefore they have to change it,\n\n619\n00:31:00.953 --> 00:31:05.010\nhow complex is it, these are all\nthings we want to think about as well.\n\n620\n00:31:05.010 --> 00:31:06.620\nWe could do all these things.\n\n621\n00:31:06.620 --> 00:31:10.060\nIf you're not familiar with them, with\nthe default domain policy, for instance,\n\n622\n00:31:10.060 --> 00:31:13.740\nfine grain or\ngranular password policy control.\n\n623\n00:31:13.740 --> 00:31:15.760\nThings like how many\npasswords are remembered,\n\n624\n00:31:15.760 --> 00:31:17.450\nwhat's our password history, right?\n\n625\n00:31:17.450 --> 00:31:19.960\nThe default, you know what\nthe default is for that, by the way?\n\n626\n00:31:19.960 --> 00:31:22.090\n&gt;&gt; For the password history?\n\n627\n00:31:22.090 --> 00:31:23.110\nI don't know.\n\n628\n00:31:23.110 --> 00:31:24.820\nI'm gonna guess 90 days?\n\n629\n00:31:24.820 --> 00:31:27.660\n&gt;&gt; No, that would be, in other words,\nnot how long the passwords good for\n\n630\n00:31:27.660 --> 00:31:29.260\nbut the number of passwords.\n\n631\n00:31:29.260 --> 00:31:32.550\nAnd this is also by the way a very\ncommon miss conception people think\n\n632\n00:31:32.550 --> 00:31:34.050\nof this is one way when\nit's really another.\n\n633\n00:31:34.050 --> 00:31:35.540\nWe have a setting for that.\n\n634\n00:31:35.540 --> 00:31:38.960\nThat's what you just answered\nis the minimum password age and\n\n635\n00:31:38.960 --> 00:31:40.670\nmaximum password age settings.\n\n636\n00:31:40.670 --> 00:31:43.596\nWhat I'm asking about is\nhow many passwords are-\n\n637\n00:31:43.596 --> 00:31:44.178\n&gt;&gt; Previous passwords.\n\n638\n00:31:44.178 --> 00:31:45.320\n&gt;&gt; Remembered, previous passwords.\n\n639\n00:31:45.320 --> 00:31:47.460\nIn other words,\na number of passwords that are remembered.\n\n640\n00:31:47.460 --> 00:31:49.510\nThat's the thing that makes\nyou change your password.\n\n641\n00:31:49.510 --> 00:31:50.450\nYou keep using the same one.\n\n642\n00:31:50.450 --> 00:31:51.670\nYou keep having to change it.\n\n643\n00:31:51.670 --> 00:31:53.354\nSo the setting on that one\nis what I'm talking about.\n\n644\n00:31:53.354 --> 00:31:54.368\nDo you know what the default is for that?\n\n645\n00:31:54.368 --> 00:31:56.218\n&gt;&gt; I do and that's because I\njust looked down at my notes.\n\n646\n00:31:56.218 --> 00:31:58.645\n&gt;&gt; I wasn't going to say anything,\nit was going to be like you know it,\n\n647\n00:31:58.645 --> 00:31:59.276\nthat's so cool.\n\n648\n00:31:59.276 --> 00:32:01.115\nIt wasn't gonna Say you caught\na glance when we were talking\n\n649\n00:32:01.115 --> 00:32:02.498\n&gt;&gt; Honestly it's more than what\n\n650\n00:32:02.498 --> 00:32:04.285\nI would think it would be\n&gt;&gt; You wouldn't think it's\n\n651\n00:32:04.285 --> 00:32:04.811\nthat high, right?\n\n652\n00:32:04.811 --> 00:32:05.683\n&gt;&gt; Yeah, I wouldn't think it would be.\n\n653\n00:32:05.683 --> 00:32:07.739\nBut it's actually 24,\nso 24 saved passwords.\n\n654\n00:32:07.739 --> 00:32:10.240\n&gt;&gt; It is, it is.\n\n655\n00:32:10.240 --> 00:32:14.720\nAnd the maximum password age,\nminimum password age, Cherokee said 90.\n\n656\n00:32:14.720 --> 00:32:15.320\nThat's not correct.\n\n657\n00:32:15.320 --> 00:32:18.980\nA maximum, certainly not correct a minimum\nbecause if the maximum's not that high,\n\n658\n00:32:18.980 --> 00:32:20.180\nminimum's not that high.\n\n659\n00:32:20.180 --> 00:32:23.530\nMaximum on password age by default,\nagain these are the default settings.\n\n660\n00:32:23.530 --> 00:32:25.720\nIn the default domain policy.\n\n661\n00:32:25.720 --> 00:32:28.980\nThat is there, out of the box,\n42 days, right?\n\n662\n00:32:28.980 --> 00:32:29.950\nYou wanna know that?\n\n663\n00:32:29.950 --> 00:32:33.322\nThe default for minimum password age,\nI'm sure you probably know that one.\n\n664\n00:32:33.322 --> 00:32:34.204\nWhich one is that?\n&gt;&gt; One day.\n\n665\n00:32:34.204 --> 00:32:35.130\n&gt;&gt; One day, right.\n\n666\n00:32:35.130 --> 00:32:37.790\nSo we make you keep a password for\nat least one day,\n\n667\n00:32:37.790 --> 00:32:42.800\nmake you not use 24 prior passwords,\nso we keep a historical record.\n\n668\n00:32:42.800 --> 00:32:47.870\nAnd we maximize and make you change\nthat password at 42 days out by default.\n\n669\n00:32:47.870 --> 00:32:51.270\nAll these variables and\nvalues are going to be modifiable,\n\n670\n00:32:51.270 --> 00:32:53.240\nmeaning you can go in and\nchange any of these.\n\n671\n00:32:53.240 --> 00:32:56.730\nBut these are the settings in\nthe default domain policy.\n\n672\n00:32:56.730 --> 00:32:59.690\nAlso password complexity requirements,\nwe do have that enabled.\n\n673\n00:32:59.690 --> 00:33:03.180\nWe can do things,\nthree if the four elements on the list.\n\n674\n00:33:03.180 --> 00:33:06.800\nAlphanumeric special characters\nin symbols, right, and\n\n675\n00:33:06.800 --> 00:33:11.470\nthis is now in server 16 or for several\ngenerations, now enabled by default.\n\n676\n00:33:11.470 --> 00:33:15.000\nThere was a time when password complexity\nwas not turned on by default, but\n\n677\n00:33:15.000 --> 00:33:17.010\nit is these days so just be aware of that.\n\n678\n00:33:17.010 --> 00:33:19.980\nWe also have account lockout policies.\n\n679\n00:33:19.980 --> 00:33:24.446\nDo we lock out an account after\na certain bad number of login attempts,\n\n680\n00:33:24.446 --> 00:33:26.502\nthings like that, no default.\n\n681\n00:33:26.502 --> 00:33:29.302\nNo default for account lock outs,\nyou have to go in and\n\n682\n00:33:29.302 --> 00:33:33.411\nspecify that at the domain account level,\nmeaning for domain level account,\n\n683\n00:33:33.411 --> 00:33:36.920\nhow many incorrect passwords you\ncan type in before that happens.\n\n684\n00:33:36.920 --> 00:33:40.170\nThings like that, you usually have to\ngo in as well as reset the counter on\n\n685\n00:33:40.170 --> 00:33:42.610\nhow long before we then allow you back in.\n\n686\n00:33:42.610 --> 00:33:44.490\nSo, just be aware of that as well.\n\n687\n00:33:44.490 --> 00:33:47.080\nBut we have a lots of different settings\nin there, and we'll go ahead and\n\n688\n00:33:47.080 --> 00:33:49.400\ntake a look at some upcoming episodes.\n\n689\n00:33:49.400 --> 00:33:53.428\nBut lots of different things that we\nprobably wanna go in, wanna think about,\n\n690\n00:33:53.428 --> 00:33:56.630\nwanna start becoming aware\nof with regards to policy.\n\n691\n00:33:56.630 --> 00:34:00.600\nI don't kid around when I tell you there's\nthousands of settings that you can look at\n\n692\n00:34:00.600 --> 00:34:05.000\nwith regards to domain policy or\npolicy in general in the Windows platform.\n\n693\n00:34:05.000 --> 00:34:09.950\nOn server 16 today, looking at that\npolicy setting reference spreadsheet\n\n694\n00:34:09.950 --> 00:34:13.740\nthat you've heard me talk about sometimes\nin other shows and other episodes.\n\n695\n00:34:13.740 --> 00:34:15.710\nReally good idea if you're\nnot familiar with it.\n\n696\n00:34:15.710 --> 00:34:19.870\nJust go out to a quick Google search,\nyou'll be able to download that reference.\n\n697\n00:34:19.870 --> 00:34:23.310\nIt lists every policy setting we have,\nexplains what is is,\n\n698\n00:34:23.310 --> 00:34:25.710\nshows you the registry key and\nwhat the settings are.\n\n699\n00:34:25.710 --> 00:34:28.280\nAlso gives you the backwards\ncompatibility matrix for\n\n700\n00:34:28.280 --> 00:34:31.570\nwhat level of the OS that applies,\nto both backwards and forwards.\n\n701\n00:34:31.570 --> 00:34:34.000\nSo it's a really helpful reference and\ntool.\n\n702\n00:34:34.000 --> 00:34:36.615\nAnd I'm not suggesting you download\nit to study, let me be clear,\n\n703\n00:34:36.615 --> 00:34:37.838\nyou don't need to study that.\n\n704\n00:34:37.838 --> 00:34:41.233\nBut it's a great hands-on real\nworld referenceable tool that\n\n705\n00:34:41.233 --> 00:34:43.934\nwill make it easier for\nyou cuz it's searchable.\n\n706\n00:34:43.934 --> 00:34:46.754\nSo when someone says to you,\nhey can I do this with IE or\n\n707\n00:34:46.754 --> 00:34:50.331\ncould I do this with Task Scheduler or\nwhatever, you control that,\n\n708\n00:34:50.331 --> 00:34:54.760\nyou could do a quick search in there,\nCtrl+F to find, and you'll find that term.\n\n709\n00:34:54.760 --> 00:34:57.720\nYou'll see all the instances among\nthe thousands that are there.\n\n710\n00:34:57.720 --> 00:35:00.740\nAnd you'll be able to start figuring out\nwhether or not those settings may apply.\n\n711\n00:35:00.740 --> 00:35:05.180\nSo, just a good real world tool to add to\nthat security tool kit that we wanna build\n\n712\n00:35:05.180 --> 00:35:09.305\nand think about using, in order to better\nenable us to be successful, right?\n\n713\n00:35:09.305 --> 00:35:12.285\nAt doing all the things we need to do,\nto start securing the enterprise, very,\n\n714\n00:35:12.285 --> 00:35:13.175\nvery important.\n\n715\n00:35:13.175 --> 00:35:16.325\n&gt;&gt; Absolutely Adam,\nregardless if it's additional settings or\n\n716\n00:35:16.325 --> 00:35:20.830\njust informing or educating ourselves\non current events and things like that.\n\n717\n00:35:20.830 --> 00:35:21.810\nThe more we know,\n\n718\n00:35:21.810 --> 00:35:25.050\nthen the more we can help add\nadditional layers to our environment.\n\n719\n00:35:25.050 --> 00:35:28.560\nSo, I look forward to future episodes,\nwe can look at some of those settings.\n\n720\n00:35:28.560 --> 00:35:31.690\nBut for this show, we are out of time,\nso we'll go ahead and sign out.\n\n721\n00:35:31.690 --> 00:35:33.110\nI've been your host, Cherokee Boose.\n\n722\n00:35:33.110 --> 00:35:33.810\n&gt;&gt; I'm Adam Gordon.\n\n723\n00:35:33.810 --> 00:35:36.537\n&gt;&gt; See you next time here at ITProTv.\n\n724\n00:35:36.537 --> 00:35:42.826\n[MUSIC]\n\n725\n00:35:42.826 --> 00:35:45.909\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233686238"
        },
        {
          "description": "In this show, Adam and Cherokee begin the show discussing the protected users group. Next, Adam demonstrates how to create an authentication policy as well as showing how to create an authentication policy silo and add a policy to the silo.",
          "length": "1871",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-1-2-credentials_and_privileged_access_pt2-091217-PGM.00_00_11_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-1-2-credentials_and_privileged_access_pt2-091217-PGM.00_00_11_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-1-2-credentials_and_privileged_access_pt2-091217-PGM.00_00_11_24.Still001-sm.jpg",
          "title": "Credentials and Privileged Access Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:04.808\nI'm your host\n\n2\n00:00:04.808 --> 00:00:10.732\n[CROSSTALK]\n&gt;&gt; You're watching IT Pro TV.\n\n3\n00:00:10.732 --> 00:00:12.032\n[MUSIC]\n\n4\n00:00:12.032 --> 00:00:15.070\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n5\n00:00:15.070 --> 00:00:17.720\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.720 --> 00:00:22.600\nIn this episode, we´ll continue taking\na look at how to protect and secure\n\n7\n00:00:22.600 --> 00:00:27.440\nthose credentials and those elevated\nprivileges, the elevated access there.\n\n8\n00:00:27.440 --> 00:00:28.600\nIf I can go ahead and get that out.\n\n9\n00:00:28.600 --> 00:00:31.190\nYou know what I'm talking about,\nwe have the wonderful-\n\n10\n00:00:31.190 --> 00:00:31.905\n&gt;&gt; As long as you know what\n\n11\n00:00:31.905 --> 00:00:34.153\nyou're talking about,\nI have no idea what you're talking about.\n\n12\n00:00:34.153 --> 00:00:35.080\n&gt;&gt; [LAUGH]\n&gt;&gt; But that´s okay.\n\n13\n00:00:35.080 --> 00:00:36.320\n&gt;&gt; Adam Gordon in studio.\n\n14\n00:00:36.320 --> 00:00:37.860\nSo thank you for joining us today, Adam.\n\n15\n00:00:37.860 --> 00:00:40.180\n&gt;&gt; Ola everybody, glad to be back.\n\n16\n00:00:40.180 --> 00:00:42.920\nHopefully we'll be able to spend some\ntime chatting with all of you, and\n\n17\n00:00:42.920 --> 00:00:44.800\nCherokee is gonna help me to do that.\n\n18\n00:00:44.800 --> 00:00:48.430\nContinue our conversations about\ncredentials and privileged access, right?\n\n19\n00:00:48.430 --> 00:00:49.364\n&gt;&gt; Privileged access [LAUGH].\n\n20\n00:00:49.364 --> 00:00:51.158\n&gt;&gt; That's what we're doing,\nnot elevated access.\n\n21\n00:00:51.158 --> 00:00:53.734\nUnless you're standing on a platform\nbecause you're privileged,\n\n22\n00:00:53.734 --> 00:00:55.528\nin which case it is\nelevated privileged access.\n\n23\n00:00:55.528 --> 00:00:56.050\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n24\n00:00:56.050 --> 00:00:59.490\nI know you understood what she was\ntalking about, which is truly scary cuz\n\n25\n00:00:59.490 --> 00:01:02.700\nI had no clue, but you're gonna actually\nhelp me kick off here in just a second.\n\n26\n00:01:02.700 --> 00:01:04.410\nWe're gonna do a little show and tell.\n\n27\n00:01:04.410 --> 00:01:05.320\n&gt;&gt; I didn't bring anything.\n\n28\n00:01:05.320 --> 00:01:07.210\n&gt;&gt; It's okay, you always have something.\n\n29\n00:01:07.210 --> 00:01:08.400\nYou have to be creative.\n\n30\n00:01:08.400 --> 00:01:11.360\nBut you're gonna help me talk about\nsome of the stuff we've done in some\n\n31\n00:01:11.360 --> 00:01:12.470\nprior episodes.\n\n32\n00:01:12.470 --> 00:01:16.970\nActually in Server 12 believe it or not as\nwe talked about some advanced features in\n\n33\n00:01:16.970 --> 00:01:20.340\nServer 12, Cherokee and\nI did a series of shows on that.\n\n34\n00:01:20.340 --> 00:01:23.330\nAnd we had almost a very\nidentical conversation,\n\n35\n00:01:23.330 --> 00:01:25.130\nexcept we're gonna update it for\nServer 16.\n\n36\n00:01:25.130 --> 00:01:29.960\nBut we talked about also in the identity\nwith Server 16 shows that you and I did,\n\n37\n00:01:29.960 --> 00:01:34.220\npart of the MCSA for Server 16 series,\nwe also talked about some of these things,\n\n38\n00:01:34.220 --> 00:01:36.320\nthe managed service accounts.\n\n39\n00:01:36.320 --> 00:01:38.880\n&gt;&gt; Yes.\n&gt;&gt; The protected user groups and\n\n40\n00:01:38.880 --> 00:01:41.160\nhow it can use group policy to\ncreate a bunch of settings and\n\n41\n00:01:41.160 --> 00:01:42.302\ndo a variety of different things.\n\n42\n00:01:42.302 --> 00:01:45.880\nSo we've update that with some new things,\nauthentication policies,\n\n43\n00:01:45.880 --> 00:01:47.670\nauthentication policy silos.\n\n44\n00:01:47.670 --> 00:01:49.250\n&gt;&gt; Which are set up in ADAC.\n\n45\n00:01:49.250 --> 00:01:52.810\nWe actually showed you how to do\nsome of that in Server 16 identity.\n\n46\n00:01:52.810 --> 00:01:55.900\nBut we're gonna take a look at all\nthat and walk through the logic there.\n\n47\n00:01:55.900 --> 00:01:59.600\nBut before we do that, maybe we can\njust quickly recap a little bit within\n\n48\n00:01:59.600 --> 00:02:02.980\nthe prior episode from the perspective\nof a little show in top.\n\n49\n00:02:02.980 --> 00:02:05.460\n&gt;&gt; Okay.\n&gt;&gt; So we talked a lot\n\n50\n00:02:05.460 --> 00:02:10.350\nabout group policies, talked a lot about\ndefault settings of the domain policy,\n\n51\n00:02:10.350 --> 00:02:14.270\ntalked about the ideas associated\nwith a lease privilege and\n\n52\n00:02:14.270 --> 00:02:16.300\nseparation of duties,\nand things like that.\n\n53\n00:02:16.300 --> 00:02:19.630\nSo I'm gonna bring up\nthe Server Manager here.\n\n54\n00:02:19.630 --> 00:02:21.570\nI've already got it up and\nrunning actually, we'll take a look.\n\n55\n00:02:21.570 --> 00:02:23.810\nI'm gonna go into\nthe Group Policy Management console.\n\n56\n00:02:23.810 --> 00:02:28.470\nMaybe while I'm talking and\nwe can show some things, you could help me\n\n57\n00:02:28.470 --> 00:02:31.490\nby making sure you call out some of\nthe features that we're showing.\n\n58\n00:02:31.490 --> 00:02:33.940\nLink them to some of those concepts\nthat we spoke about in the last episode.\n\n59\n00:02:33.940 --> 00:02:35.390\nDoes that make sense?\n\n60\n00:02:35.390 --> 00:02:36.210\n&gt;&gt; Yeah.\n&gt;&gt; All right,\n\n61\n00:02:36.210 --> 00:02:37.945\nlet's maybe start with Group Policy?\n\n62\n00:02:37.945 --> 00:02:39.610\n&gt;&gt; [LAUGH] Okay.\n&gt;&gt; Group Policy Management console,\n\n63\n00:02:39.610 --> 00:02:42.450\nwould that be good, or do you wanna start\nwith The Active Directory users and\n\n64\n00:02:42.450 --> 00:02:44.570\ncomputers and\nmaybe talk a little bit about accounts.\n\n65\n00:02:44.570 --> 00:02:46.640\nWhich one do you wanna do first.\n\n66\n00:02:46.640 --> 00:02:48.274\n&gt;&gt; Users and computers for $500.\n\n67\n00:02:48.274 --> 00:02:50.570\n&gt;&gt; For $500, okay, that would be\nAdam not Alex, but close enough.\n\n68\n00:02:50.570 --> 00:02:51.190\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n69\n00:02:51.190 --> 00:02:54.400\nthen the sub-question is do you wanna\ndo Active Directory users of computer?\n\n70\n00:02:54.400 --> 00:02:56.090\nSo you wanna do ADAC.\n\n71\n00:02:56.090 --> 00:02:57.480\nCuz they built in the same thing.\n\n72\n00:02:57.480 --> 00:02:59.320\nAlthough there are some differences.\n\n73\n00:02:59.320 --> 00:03:00.085\n&gt;&gt; Okay.\n[CROSSTALK] And\n\n74\n00:03:00.085 --> 00:03:01.405\nlet's go with users and computers.\n\n75\n00:03:01.405 --> 00:03:03.200\n&gt;&gt; Users and computers for\nfirst, all right.\n\n76\n00:03:03.200 --> 00:03:06.590\nSo I already got all the tools\nopen just so we can bring them up,\n\n77\n00:03:06.590 --> 00:03:07.720\ntake a look around.\n\n78\n00:03:07.720 --> 00:03:10.205\nSo I'm in the active directory users and\ncomputers tool, okay.\n\n79\n00:03:10.205 --> 00:03:14.430\nCherokee's choice and\nwe are in here, a very common tool.\n\n80\n00:03:14.430 --> 00:03:17.170\nYou often will spend quiet a bit\nof time as administrators in here.\n\n81\n00:03:17.170 --> 00:03:20.000\nBut there are security aspects of\nthis tool we gotta be aware of.\n\n82\n00:03:20.000 --> 00:03:22.750\nOne of the really interesting ones\nis something called the protected\n\n83\n00:03:22.750 --> 00:03:25.980\nusers group, which we've talked about in\nthe prior shows I've mentioned to you.\n\n84\n00:03:25.980 --> 00:03:29.030\nWe're gonna talk about here,\nmake sure you're familiar with.\n\n85\n00:03:29.030 --> 00:03:33.127\nThis is a feature that is available to us\nin the sense that it's a new group that\n\n86\n00:03:33.127 --> 00:03:36.987\nhas been created last couple of\nversions of Windows Server supports it.\n\n87\n00:03:36.987 --> 00:03:41.024\nIt actually sitting right down there\nin the users container, we could see\n\n88\n00:03:41.024 --> 00:03:45.560\nthe protected users group, it is\na security group of global security group.\n\n89\n00:03:45.560 --> 00:03:47.760\nAnd so when we think about this group,\n\n90\n00:03:47.760 --> 00:03:50.560\nwe're thinking about creating\nmembership in this group.\n\n91\n00:03:50.560 --> 00:03:54.910\nOr we're gonna put somebody, or\na group of somebodies, into this group and\n\n92\n00:03:54.910 --> 00:03:57.010\nthen achieve some results.\n\n93\n00:03:57.010 --> 00:04:00.380\nSo let's start by talking about\nwhat a group like this does.\n\n94\n00:04:00.380 --> 00:04:03.470\nAnd most importantly why from the scripter\nperspective we would use this group?\n\n95\n00:04:03.470 --> 00:04:05.040\nNow, Cherokee, correct me if I'm wrong.\n\n96\n00:04:05.040 --> 00:04:06.740\nI know you're trying to make your notes so\n\n97\n00:04:06.740 --> 00:04:08.850\nmaybe I could just quickly\nimpose on you for a second.\n\n98\n00:04:08.850 --> 00:04:10.310\n&gt;&gt; Yeah, go ahead.\n&gt;&gt; Cuz I saw you're about to type.\n\n99\n00:04:10.310 --> 00:04:14.570\nBut when we think about protected\nusers groups generically, right?\n\n100\n00:04:14.570 --> 00:04:17.660\nClearly based on the name we're\ntrying to put users in this group,\n\n101\n00:04:17.660 --> 00:04:20.150\nthey're gonna benefit from\nsome sort of membership.\n\n102\n00:04:20.150 --> 00:04:22.180\nSome things are gonna\nbe afforded to them or\n\n103\n00:04:22.180 --> 00:04:25.760\nperhaps not afforded to them\ndepending on our prospective, right?\n\n104\n00:04:25.760 --> 00:04:29.770\nSo the idea of behind group membership is\nwhether this group will allow us to do\n\n105\n00:04:29.770 --> 00:04:32.980\ncertain things, maybe give us\nspecial rights and privileges.\n\n106\n00:04:32.980 --> 00:04:37.718\nOr prevent us from shooting ourselves in\nthe foot right by doing certain things\n\n107\n00:04:37.718 --> 00:04:42.260\nthat could be potentially lead to\ncompromise and block us from doing that.\n\n108\n00:04:42.260 --> 00:04:46.750\nSo, when we think about being in this\ngroup, this protected users group,\n\n109\n00:04:46.750 --> 00:04:51.130\nare we preventing users from doing\ncertain things that could cause harm or\n\n110\n00:04:51.130 --> 00:04:53.590\nare we enabling them to do special things?\n\n111\n00:04:53.590 --> 00:04:56.910\nWhich one, in other words, is the focus\nof this group, is what I'm trying to ask?\n\n112\n00:04:56.910 --> 00:05:00.780\n&gt;&gt; I think we're trying to limit the\nfunctions of the protected users group.\n\n113\n00:05:00.780 --> 00:05:02.640\n&gt;&gt; Okay, and that would be correct for\n$200, you said 500,\n\n114\n00:05:02.640 --> 00:05:04.050\ncorrect for $500, right?\n\n115\n00:05:04.050 --> 00:05:06.090\nAbsolutely correct.\n\n116\n00:05:06.090 --> 00:05:10.370\nSo when we put users in the protected\nusers group, we're trying to limit or\n\n117\n00:05:10.370 --> 00:05:13.890\nconstrain what they can do, specifically,\ncertain things that we're not gonna let\n\n118\n00:05:13.890 --> 00:05:17.370\nthem do that will make\ntheir accounts more secure.\n\n119\n00:05:17.370 --> 00:05:20.750\nNot so much what they can do or not do,\nbut how we treat their accounts.\n\n120\n00:05:20.750 --> 00:05:24.962\nFor instance, we are not going to\nallow them, or I should say allow\n\n121\n00:05:24.962 --> 00:05:29.027\nthe account to use things like\nWindows Digest Authentication or\n\n122\n00:05:29.027 --> 00:05:33.408\nNTLM as opposed to forcing them to\nuse things like Kerberos, right?\n\n123\n00:05:33.408 --> 00:05:36.470\nBecause as a result we're\ngoing to constrain and\n\n124\n00:05:36.470 --> 00:05:40.440\nstrip away some of the older\nlayers of security architecture.\n\n125\n00:05:40.440 --> 00:05:43.850\nSome of the older options that\nuser accounts may be using.\n\n126\n00:05:43.850 --> 00:05:47.870\nAnd as a result make the credential and\nmake the account more secure.\n\n127\n00:05:47.870 --> 00:05:51.150\nWe're not gonna will allow them\nto sign on offline, right?\n\n128\n00:05:51.150 --> 00:05:54.530\nIn other words, to essentially have\ncredentials that may be cached.\n\n129\n00:05:54.530 --> 00:05:55.530\nThings like that.\n\n130\n00:05:55.530 --> 00:05:56.740\nSo by doing this,\n\n131\n00:05:56.740 --> 00:06:01.510\nwe're gonna type in the controls on this\naccounter on these particular accounts.\n\n132\n00:06:01.510 --> 00:06:04.000\nAnd user accounts that\nare members of this group.\n\n133\n00:06:04.000 --> 00:06:06.370\nI'm gonna show you how to put\nthem in there in just a minute.\n\n134\n00:06:07.690 --> 00:06:11.120\nAre not going to be able\nto use NTLM as I mentioned.\n\n135\n00:06:11.120 --> 00:06:14.370\nThey're not gonna be able to use DES for\nKerberos pre-authentication,\n\n136\n00:06:14.370 --> 00:06:17.570\nthey're gonna be forced to use AES,\na higher-level algorithm,\n\n137\n00:06:17.570 --> 00:06:20.250\nas we spoke about in the last episode.\n\n138\n00:06:20.250 --> 00:06:23.070\nThey're gonna make sure,\nwe're gonna make sure\n\n139\n00:06:23.070 --> 00:06:28.100\nthat they're going to have\nto renew their user tickets.\n\n140\n00:06:28.100 --> 00:06:33.160\nSpecifically their Kerberos tickets,\nusing a different kind of timeline.\n\n141\n00:06:33.160 --> 00:06:35.830\nRight, as opposed to the standard ones,\nso that we can keep\n\n142\n00:06:35.830 --> 00:06:39.850\ntrack of their accounts and do things for\nthem in a slightly different way.\n\n143\n00:06:39.850 --> 00:06:40.530\nSo let's take a look.\n\n144\n00:06:40.530 --> 00:06:41.920\nWe're gonna right-click here.\n\n145\n00:06:41.920 --> 00:06:42.840\nWe're gonna go to Properties.\n\n146\n00:06:42.840 --> 00:06:45.250\nNow by the way,\nthis is a built-in account, a group,\n\n147\n00:06:45.250 --> 00:06:47.170\nrather, meaning it's there automatically.\n\n148\n00:06:47.170 --> 00:06:50.400\nWe didn't create this group, and\nit's just there out of the box.\n\n149\n00:06:50.400 --> 00:06:53.010\nAnd one of the other things to keep in\nmind just while I'm bringing this up,\n\n150\n00:06:53.010 --> 00:06:55.040\nnotice, right, it is a global group.\n\n151\n00:06:55.040 --> 00:06:56.460\nIt is a security group.\n\n152\n00:06:56.460 --> 00:07:00.780\nAnd notice that there\nare no members by default.\n\n153\n00:07:00.780 --> 00:07:03.850\nAnd we can obviously go in and\nadd a member, we'll take a look at that.\n\n154\n00:07:03.850 --> 00:07:06.190\nAnd notice it is not\na member of any groups.\n\n155\n00:07:06.190 --> 00:07:09.030\nMeaning it's a stand-alone group,\nsits in the directory, but\n\n156\n00:07:09.030 --> 00:07:12.460\nit is on its own not a member\nof any group, no dependencies.\n\n157\n00:07:12.460 --> 00:07:17.740\nIn other words but a special group that is\ngoing to be set up so that we can use it.\n\n158\n00:07:17.740 --> 00:07:20.410\nAnd, oops,\nI meant to click on members there,\n\n159\n00:07:20.410 --> 00:07:23.040\nall the Ms they kind of look\nthe same after a while, and so\n\n160\n00:07:23.040 --> 00:07:27.480\nwe're gonna click add and we're gonna be\nable to add in one or more users now.\n\n161\n00:07:27.480 --> 00:07:29.860\nWhat I wouldn't say requirement but\n\n162\n00:07:29.860 --> 00:07:32.380\na strong recommendation,\na best practice here.\n\n163\n00:07:32.380 --> 00:07:34.475\nWe should definitely add user accounts,\n\n164\n00:07:34.475 --> 00:07:38.570\ndo not put computer accounts in this\ngroup because it is not designed\n\n165\n00:07:38.570 --> 00:07:41.940\nto operate on computer accounts, this is\ndesigned to operate for user accounts.\n\n166\n00:07:41.940 --> 00:07:45.710\nPut computer accounts in here you can\nlead to problems with computer account\n\n167\n00:07:45.710 --> 00:07:49.690\nauthentication, with trust relationship,\nthings can start to go horribly wrong.\n\n168\n00:07:49.690 --> 00:07:52.832\nBecause the constraints on the way\nin which this group operates and\n\n169\n00:07:52.832 --> 00:07:55.581\nmembership in this group may\nmess up computer accounts and\n\n170\n00:07:55.581 --> 00:07:57.449\ncause them not to behave the right way.\n\n171\n00:07:57.449 --> 00:07:59.148\nSo just so you're aware of that, okay.\n\n172\n00:07:59.148 --> 00:08:02.745\nBut we can certainly put\nusers in here if we need to.\n\n173\n00:08:02.745 --> 00:08:08.848\nSo let's say that I'm gonna\nput a user code Lisa in here.\n\n174\n00:08:08.848 --> 00:08:09.924\nLet's just check our names.\n\n175\n00:08:09.924 --> 00:08:11.580\nWe do have a Lisa1, Lisa there?\n\n176\n00:08:11.580 --> 00:08:15.088\nI'm just randomly choosing a user\naccount in our account base just for\n\n177\n00:08:15.088 --> 00:08:17.471\ndemonstration purposes,\nno rhyme or reason.\n\n178\n00:08:17.471 --> 00:08:20.524\nIn the real world,\nyou'd obviously wanna choice an account or\n\n179\n00:08:20.524 --> 00:08:24.498\nseries of accounts that actually do need\nto benefit from the protection of being in\n\n180\n00:08:24.498 --> 00:08:25.724\na protected user group.\n\n181\n00:08:25.724 --> 00:08:27.633\nBut I'm just selecting a user.\n\n182\n00:08:27.633 --> 00:08:30.753\nSo Lisa or Lisa Scott user and click OK.\n\n183\n00:08:30.753 --> 00:08:35.042\nAnd Lisa is now, as you can see,\nbeen made a member of this group.\n\n184\n00:08:35.042 --> 00:08:39.312\nI just click Protect, or rather, click\nApply, click OK, and we put her in there.\n\n185\n00:08:39.312 --> 00:08:40.546\nSo having done that,\n\n186\n00:08:40.546 --> 00:08:44.875\nwe've then afforded Lisa the protection\nof that particular membership.\n\n187\n00:08:44.875 --> 00:08:49.192\nAnd primarily, as I said, we're tightening\nthe security requirements around\n\n188\n00:08:49.192 --> 00:08:52.302\nauthentication and\nthe use of the accounts in this group,\n\n189\n00:08:52.302 --> 00:08:56.382\nto ratchet them up so they're not as\nsusceptible to potential compromise.\n\n190\n00:08:56.382 --> 00:08:59.564\nDon't be tempted to put the domain\nadmin accounts in here, okay?\n\n191\n00:08:59.564 --> 00:09:00.674\nYou don't wanna do that.\n\n192\n00:09:00.674 --> 00:09:03.267\nRight.\nJust put in user accounts that have to be\n\n193\n00:09:03.267 --> 00:09:04.674\nmore heavily protected.\n\n194\n00:09:04.674 --> 00:09:10.091\nAccounts, for instance, that may be\nused by remote users, as one example.\n\n195\n00:09:10.091 --> 00:09:13.509\nAuthenticating inbound,\nyou may wanna consider that.\n\n196\n00:09:13.509 --> 00:09:18.963\nYou may wanna think about accounts that\nare used for potentially service accounts.\n\n197\n00:09:18.963 --> 00:09:21.303\nBut there's an issue with\nthis you gotta be aware of.\n\n198\n00:09:21.303 --> 00:09:25.845\nCertain service accounts may require\nsome of these permissions that are being\n\n199\n00:09:25.845 --> 00:09:30.042\nconstrained or the use of some of\nthese capabilities like a lower-level\n\n200\n00:09:30.042 --> 00:09:34.793\nauthentication or lower-level credential\nencryption using desk instead of AES\n\n201\n00:09:34.793 --> 00:09:39.404\nbecause the applications that they are\ninteracting with may not support higher\n\n202\n00:09:39.404 --> 00:09:43.636\nlevels of security, backwards\ncompatibility in other words, right?\n\n203\n00:09:43.636 --> 00:09:46.401\nAnd if we put them in there,\nwe may cause a problem.\n\n204\n00:09:46.401 --> 00:09:51.187\nSo, clearly, clearly, got a test a little\nbit, make sure we're aware of the impact\n\n205\n00:09:51.187 --> 00:09:53.846\nof delivering accounts\ninto this user group and\n\n206\n00:09:53.846 --> 00:09:56.056\nthen deciding whether to use it or not.\n\n207\n00:09:56.056 --> 00:10:00.078\nSo I'm not suggesting you shouldn't do it,\nI'm just pointing out a little bit of\n\n208\n00:10:00.078 --> 00:10:03.308\ncaution, little bit of what\nwe'll call due diligence, right?\n\n209\n00:10:03.308 --> 00:10:07.217\nJust good oversight test before you\nactually apply and assuming it works,\n\n210\n00:10:07.217 --> 00:10:09.885\nshould have no trouble,\nbut there's always these\n\n211\n00:10:09.885 --> 00:10:13.793\nlittle weird things that can go on when\nyou start modifying permissions and\n\n212\n00:10:13.793 --> 00:10:17.231\nthe ability of users to authenticate\nunder certain conditions.\n\n213\n00:10:17.231 --> 00:10:19.191\nAnd you may not test for\nevery condition so\n\n214\n00:10:19.191 --> 00:10:22.719\nyou may not realize this is a problem\nuntil well down the road when something\n\n215\n00:10:22.719 --> 00:10:25.759\ngoes to happen and maybe something\ndoesn't work the right way.\n\n216\n00:10:25.759 --> 00:10:28.999\nSo just in the back of your mind\nnot suggest you shouldn't do it,\n\n217\n00:10:28.999 --> 00:10:33.139\nsuggesting, hey, from a troubleshooting\nprospective maybe membership in this\n\n218\n00:10:33.139 --> 00:10:35.009\ngroup is causing a problem, hello?\n\n219\n00:10:35.009 --> 00:10:36.248\n&gt;&gt; Hi.\n&gt;&gt; Membership in this group is\n\n220\n00:10:36.248 --> 00:10:36.861\ncausing a problem.\n\n221\n00:10:36.861 --> 00:10:38.945\nYou know what we have to do,\nthis is already decided, by the way.\n\n222\n00:10:38.945 --> 00:10:39.557\n&gt;&gt; I don't know.\n\n223\n00:10:39.557 --> 00:10:42.467\n&gt;&gt; Of course you don't because if you\nknew you would have already know.\n\n224\n00:10:42.467 --> 00:10:44.211\nYou ever have the little finger puppets?\n\n225\n00:10:44.211 --> 00:10:45.662\nDo you know finger puppets\nwhen you were a kid?\n\n226\n00:10:45.662 --> 00:10:46.709\nWe gotta get finger puppets.\n\n227\n00:10:46.709 --> 00:10:49.099\nYou guys don't see it\noff camera sometimes.\n\n228\n00:10:49.099 --> 00:10:50.244\n&gt;&gt; I'll poke my finger\nover in your camera.\n\n229\n00:10:50.244 --> 00:10:50.834\nI'll be like, hello.\n\n230\n00:10:50.834 --> 00:10:52.173\n&gt;&gt; You can do it just like that, exactly.\n\n231\n00:10:52.173 --> 00:10:54.687\nBut Cherokee will signal me\noff camera when I'm talking,\n\n232\n00:10:54.687 --> 00:10:56.910\nespecially if it's like\nin a situation like this.\n\n233\n00:10:56.910 --> 00:10:58.575\nAnd she'll kinda do one of these or\n\n234\n00:10:58.575 --> 00:11:02.378\nshe'll wave at me to get my attention to\nlet me know she wants to say something.\n\n235\n00:11:02.378 --> 00:11:05.918\nAnd so I often will see out of the corner\nof my eye, she'll waggle her finger or\n\n236\n00:11:05.918 --> 00:11:07.350\nwave at me to get my attention.\n\n237\n00:11:07.350 --> 00:11:08.398\nSo we gotta get like little\nfinger puppets for us.\n\n238\n00:11:08.398 --> 00:11:09.740\n&gt;&gt; All right.\nI'm gonna get a finger puppet.\n\n239\n00:11:09.740 --> 00:11:10.261\n&gt;&gt; We should do that.\n\n240\n00:11:10.261 --> 00:11:15.161\n[CROSSTALK]\n&gt;&gt; If you do that, that would be awesome.\n\n241\n00:11:15.161 --> 00:11:15.711\nAll right.\n\n242\n00:11:15.711 --> 00:11:16.774\nAnyway, so, what were you gonna say?\n\n243\n00:11:16.774 --> 00:11:19.608\n&gt;&gt; Well, I was gonna ask you, what do\nyou think about any kind of temporary\n\n244\n00:11:19.608 --> 00:11:21.561\nemployees like contract workers or\nsomething.\n\n245\n00:11:21.561 --> 00:11:23.679\nWould we wanna include them in\nthis protected users group?\n\n246\n00:11:23.679 --> 00:11:26.913\n&gt;&gt; So probably not and here's why.\n\n247\n00:11:26.913 --> 00:11:30.379\nAt least not without the thought process\nI was just going through which is hey,\n\n248\n00:11:30.379 --> 00:11:31.437\nwe gotta test, right?\n\n249\n00:11:31.437 --> 00:11:34.788\nBecause again the problem may\nbe that authentication may or\n\n250\n00:11:34.788 --> 00:11:38.677\nmay not work properly for\nthis user depending on the systems they're\n\n251\n00:11:38.677 --> 00:11:41.978\ncoming from and\nthe level of access we're granting them.\n\n252\n00:11:41.978 --> 00:11:45.885\nThere may be a federation involved where\nwe're bringing users in from outside\n\n253\n00:11:45.885 --> 00:11:47.788\nthe directory or outside the forest.\n\n254\n00:11:47.788 --> 00:11:49.055\nWe're trusting them.\n\n255\n00:11:49.055 --> 00:11:50.991\nThey could be from another area.\n\n256\n00:11:50.991 --> 00:11:52.187\nThey may not be federated.\n\n257\n00:11:52.187 --> 00:11:54.275\nWe just maybe creating local accounts.\n\n258\n00:11:54.275 --> 00:11:55.826\nIn other words, domain-based accounts.\n\n259\n00:11:55.826 --> 00:11:58.402\nIn which case,\nif it's a domain-based account, yeah,\n\n260\n00:11:58.402 --> 00:11:59.778\nthat shouldn't be a problem.\n\n261\n00:11:59.778 --> 00:12:04.072\nBut if they're gonna log in remotely and\nmaybe use an authentication solution that\n\n262\n00:12:04.072 --> 00:12:06.783\ninvolves tokens or\nsmart cards, things like that.\n\n263\n00:12:06.783 --> 00:12:09.272\nWe may just run in to a series of hurdles.\n\n264\n00:12:09.272 --> 00:12:13.638\nAgain, nothing we can't overcome but\nsomething or a series of somethings, we\n\n265\n00:12:13.638 --> 00:12:18.070\njust have to test for to ensure that it's\ngonna be a smooth transition process and\n\n266\n00:12:18.070 --> 00:12:22.200\nthe accounts will work as advertised\nis I guess the easiest way to put that.\n\n267\n00:12:22.200 --> 00:12:25.441\nThe reason I'm mentioning that is\nfrom a troubleshooting perspective,\n\n268\n00:12:25.441 --> 00:12:28.116\nin the real world, certainly,\nbut also for exam purposes.\n\n269\n00:12:28.116 --> 00:12:31.456\nYou never know when you get one of those\nscenarios where you've done something\n\n270\n00:12:31.456 --> 00:12:31.970\nlike this.\n\n271\n00:12:31.970 --> 00:12:33.710\nAll of a sudden something's not working.\n\n272\n00:12:33.710 --> 00:12:35.254\nWe can't authenticate users.\n\n273\n00:12:35.254 --> 00:12:37.128\nMaybe they're not able to login.\n\n274\n00:12:37.128 --> 00:12:41.864\nOne of the crazy off in the corner issues\ncould be that the membership in this group\n\n275\n00:12:41.864 --> 00:12:46.813\nis causing some sort of a problem with a\nbackwards compatibility either application\n\n276\n00:12:46.813 --> 00:12:51.506\nor technology and because we've ratcheted\nup the bar, we're not using NTLM.\n\n277\n00:12:51.506 --> 00:12:54.539\nWe're not allowing desk\npreauthentication with Kerberos.\n\n278\n00:12:54.539 --> 00:12:58.948\nAnd as a result, we broke authentication,\nthat could be causing the problem.\n\n279\n00:12:58.948 --> 00:13:03.046\nSo I'm not suggesting this will always\nbe the answer, quite the opposite.\n\n280\n00:13:03.046 --> 00:13:06.112\nBut I am suggesting it's a plausible\nanswer in certain scenarios,\n\n281\n00:13:06.112 --> 00:13:08.443\none you should at least keep in mind and\nbe aware of.\n\n282\n00:13:08.443 --> 00:13:10.200\nSo, just some things to consider there.\n\n283\n00:13:10.200 --> 00:13:12.379\nAll right.\nSo we definitely took a look at this one,\n\n284\n00:13:12.379 --> 00:13:13.293\nsaw what's in here.\n\n285\n00:13:13.293 --> 00:13:15.086\nWe'll come back in here at some point and\n\n286\n00:13:15.086 --> 00:13:18.571\ntake a look at another really interesting\nthing which actually is already here\n\n287\n00:13:18.571 --> 00:13:20.648\nexcept that you went away and\nit can show that.\n\n288\n00:13:20.648 --> 00:13:21.958\nThere we go.\nThank you very much.\n\n289\n00:13:21.958 --> 00:13:23.458\nSo manage service accounts.\n\n290\n00:13:23.458 --> 00:13:26.104\nWe're kinda pointing to\nthat container over there.\n\n291\n00:13:26.104 --> 00:13:29.783\nWe'll have something to say about that in\na while but this idea of service accounts.\n\n292\n00:13:29.783 --> 00:13:33.179\nTraditionally, we often think about them,\nreviews done for many, many years.\n\n293\n00:13:33.179 --> 00:13:34.592\nI'm sure all of you have.\n\n294\n00:13:34.592 --> 00:13:35.203\nWe all have.\n\n295\n00:13:35.203 --> 00:13:36.202\nBut they're new and improved.\n\n296\n00:13:36.202 --> 00:13:37.548\nAnd we'll talk about that.\n\n297\n00:13:37.548 --> 00:13:38.930\nWe'll come back take a look at that.\n\n298\n00:13:38.930 --> 00:13:40.527\nBut that's gonna be in a little bit.\n\n299\n00:13:40.527 --> 00:13:45.468\nSo we gave you the choice, Cherokee, to\ngo in and take a look at the first tool.\n\n300\n00:13:45.468 --> 00:13:46.229\nWe call-\n&gt;&gt; Great,\n\n301\n00:13:46.229 --> 00:13:46.761\nwhat else are we gonna look at here?\n\n302\n00:13:46.761 --> 00:13:48.154\n&gt;&gt; We called AD users and computers.\n\n303\n00:13:48.154 --> 00:13:51.713\nSo the question is,\nwhich one are we going to next?\n\n304\n00:13:51.713 --> 00:13:55.150\n&gt;&gt; Let's go with ADAC or do you mean you\nwanna still look inside of this tool?\n\n305\n00:13:55.150 --> 00:13:58.208\n&gt;&gt; No, I meant which tool are we going\nto next and you already said it.\n\n306\n00:13:58.208 --> 00:13:59.277\nSo I would stop right there.\n\n307\n00:13:59.277 --> 00:14:01.452\nAll right.\nSo let's go to ADAC.\n\n308\n00:14:01.452 --> 00:14:03.659\nSo another tool, another tool, right?\n\n309\n00:14:03.659 --> 00:14:06.593\nAnd what we're gonna do,\neven if I spell it out of the pages.\n\n310\n00:14:06.593 --> 00:14:07.971\nSo okay, this is the next tool, right?\n\n311\n00:14:07.971 --> 00:14:08.780\nYou're going to this one.\n\n312\n00:14:08.780 --> 00:14:09.554\n&gt;&gt; You know I'm not gonna list it.\n\n313\n00:14:09.554 --> 00:14:12.855\n&gt;&gt; She's not so she reads and then it's\nlike, okay, I'm gonna go off on my own and\n\n314\n00:14:12.855 --> 00:14:13.560\ndo my own thing.\n\n315\n00:14:13.560 --> 00:14:14.064\nAll right.\n\n316\n00:14:14.064 --> 00:14:16.453\nSo [COUGH] excuse me.\n\n317\n00:14:16.453 --> 00:14:19.410\nWe're gonna go ahead, we're gonna\ntake a look at another function.\n\n318\n00:14:19.410 --> 00:14:20.580\nSo you said, hey, let's go to ADAC.\n\n319\n00:14:20.580 --> 00:14:21.416\nSo let's do that.\n\n320\n00:14:21.416 --> 00:14:25.278\nNow in ADAC when it opens up this way,\nit's gonna have authentication here but\n\n321\n00:14:25.278 --> 00:14:27.573\nyou're not gonna see\nthese two items listed.\n\n322\n00:14:27.573 --> 00:14:30.406\nAs a matter of fact,\nlet's just close this out real quick.\n\n323\n00:14:30.406 --> 00:14:34.303\nWe showed you had open ADAC, up in\nthe Tools menu right at the top here,\n\n324\n00:14:34.303 --> 00:14:38.599\nI am on my domain controller by the way,\nas you can see or a domain controller,\n\n325\n00:14:38.599 --> 00:14:42.195\nI should say, but my domain\ncontroller in my demo environment.\n\n326\n00:14:42.195 --> 00:14:46.415\nIn the server manager tools at\nActive Directory Administrative Center.\n\n327\n00:14:46.415 --> 00:14:47.958\nSo just so\nyou can see the tool when it opens.\n\n328\n00:14:47.958 --> 00:14:50.939\nNow, the reason I'm doing\nthis is that normally\n\n329\n00:14:50.939 --> 00:14:54.139\nonce you open this up,\nauthentication will not show\n\n330\n00:14:54.139 --> 00:14:59.608\nAuthentication Policy Authentication\nPolicy is the first time you go in there.\n\n331\n00:14:59.608 --> 00:15:03.175\nBut I right-clicked, went in,\nopened this menu the way I did,\n\n332\n00:15:03.175 --> 00:15:06.292\nclicked on each one to select so\nthat I listed them here.\n\n333\n00:15:06.292 --> 00:15:08.831\nSo that's why you're seeing this listed,\nI just wanted to show you that.\n\n334\n00:15:08.831 --> 00:15:11.872\nIf you see or use a document on\nan environment you don't see\n\n335\n00:15:11.872 --> 00:15:14.178\nthose two sub listed\nblue links right here.\n\n336\n00:15:14.178 --> 00:15:17.694\nIt's not cuz they're not there,\nit's just that the tool doesn't natively\n\n337\n00:15:17.694 --> 00:15:19.978\nshow them until you ask\nthe tool to put them there.\n\n338\n00:15:19.978 --> 00:15:23.158\nSo come in here to Authentication,\nas you can see.\n\n339\n00:15:23.158 --> 00:15:27.884\nJust click right here and you'll see they\nare listed And all I did was select one\n\n340\n00:15:27.884 --> 00:15:32.550\nand then I changed the menu structure\nhere under Tasks, so that I could go in.\n\n341\n00:15:32.550 --> 00:15:36.121\nAnd I'm about to use this to create\na new authentication policy and\n\n342\n00:15:36.121 --> 00:15:39.523\nthen a policy silo to contain it,\nbut that will list them here.\n\n343\n00:15:39.523 --> 00:15:41.179\nAll right.\nSo let's take a look at and\n\n344\n00:15:41.179 --> 00:15:44.865\ntalk about what authentication policies\nand authentication policy silos are.\n\n345\n00:15:44.865 --> 00:15:48.164\nYou're probably familiar with\nthe concept of a policy, right?\n\n346\n00:15:48.164 --> 00:15:50.810\nIt's a set of settings or\na group of settings you put together.\n\n347\n00:15:50.810 --> 00:15:54.574\nSome sort of guidance,\ntypically from higher level management or\n\n348\n00:15:54.574 --> 00:15:58.472\nstakeholders and that will then frame and\ngive us some perspective or\n\n349\n00:15:58.472 --> 00:16:02.121\nguidance about what we wanna do and\nhow we wanna do that, right?\n\n350\n00:16:02.121 --> 00:16:05.922\nSo what we're gonna do here is\nput together a policy specific,\n\n351\n00:16:05.922 --> 00:16:09.018\nto configuring settings\naround authentication.\n\n352\n00:16:09.018 --> 00:16:12.662\nThings like TGT lifetimes,\nticket-granting ticket lifetime, for\n\n353\n00:16:12.662 --> 00:16:15.950\nthe system can be structured\nto controlled here.\n\n354\n00:16:15.950 --> 00:16:18.831\nAccess control conditions\ncan be specified in control.\n\n355\n00:16:18.831 --> 00:16:22.201\nUsers must meet these in other\nwords before we sign in, right, so\n\n356\n00:16:22.201 --> 00:16:23.195\nthings like that.\n\n357\n00:16:23.195 --> 00:16:26.633\nWe are gonna set them and once we set\nthem we are gonna associate them,\n\n358\n00:16:26.633 --> 00:16:28.415\nI am gonna show you how to that.\n\n359\n00:16:28.415 --> 00:16:33.082\nHave to have a domain functional level\nof at least Windows Server 2012 R2 or\n\n360\n00:16:33.082 --> 00:16:37.695\nbetter to use authentication policies and\nauthentication policy silos.\n\n361\n00:16:37.695 --> 00:16:40.065\nSo this is a relatively newer feature.\n\n362\n00:16:40.065 --> 00:16:44.340\nGoes back one generation at this point and\nwe have to access it through ADAC.\n\n363\n00:16:44.340 --> 00:16:47.660\nWe cannot access it through Active\nDirectory users and computers, just so\n\n364\n00:16:47.660 --> 00:16:48.710\nyou know all right.\n\n365\n00:16:48.710 --> 00:16:50.967\nSo do we start with policies first or\npolicy silos?\n\n366\n00:16:50.967 --> 00:16:53.379\nThat ones not in the notes, you got to\nactually figure that one out, which one.\n\n367\n00:16:53.379 --> 00:16:54.079\n&gt;&gt; Policies.\n\n368\n00:16:54.079 --> 00:16:55.850\n&gt;&gt; Policies first all right.\n\n369\n00:16:55.850 --> 00:16:59.140\nAnd Cherokee is absolutely right because\nif we start with policy silos and\n\n370\n00:16:59.140 --> 00:17:00.030\nI'll show you this.\n\n371\n00:17:00.030 --> 00:17:02.770\nWe go to policy silos, what we'll\nsee is that it gives us an error.\n\n372\n00:17:02.770 --> 00:17:05.570\nAnd says hey by the way,\nno policies are detected\n\n373\n00:17:05.570 --> 00:17:10.081\nbefore I can create a silo essentially\na container to associate the policies,\n\n374\n00:17:10.081 --> 00:17:12.560\nyou gotta have at least one policy.\n\n375\n00:17:12.560 --> 00:17:15.870\nSo we gotta start with policies, but\nlet's just make sure we understand that.\n\n376\n00:17:15.870 --> 00:17:18.520\nLet's go to Policy Silos,\nwe'll just click here, right?\n\n377\n00:17:18.520 --> 00:17:23.994\nHighlight that, come over here under\nTasks &gt; New &gt; Authentication Policy Silo.\n\n378\n00:17:23.994 --> 00:17:27.594\nAnd what you'll see down at the bottom,\nlet me just scroll down so\n\n379\n00:17:27.594 --> 00:17:28.580\nyou can see this.\n\n380\n00:17:28.580 --> 00:17:32.040\nRight down here, It's kinda hard\nto see and it's little small.\n\n381\n00:17:32.040 --> 00:17:33.460\nBut I'll just tell you what it says.\n\n382\n00:17:33.460 --> 00:17:35.620\nOur friendly yellow\ncaution triangle is there.\n\n383\n00:17:35.620 --> 00:17:37.900\nNo authentication policies were found.\n\n384\n00:17:37.900 --> 00:17:40.944\nYou must create at least one\nauthentication policy before or\n\n385\n00:17:40.944 --> 00:17:43.580\nprior to creating\nan authentication policy silos.\n\n386\n00:17:43.580 --> 00:17:47.070\nSo, we're gonna go do that first,\nwe're gonna cancel out of here.\n\n387\n00:17:47.070 --> 00:17:51.110\nWe're gonna go back to our authentication\npolicy first and then come back and\n\n388\n00:17:51.110 --> 00:17:52.460\ndo our policy silo so\n\n389\n00:17:52.460 --> 00:17:56.790\nI'm gonna click here, do authentication\npolicies right up here, new same idea.\n\n390\n00:17:58.290 --> 00:18:02.438\nAuthentication policy, and\nwe have a list of things we need to do,\n\n391\n00:18:02.438 --> 00:18:06.527\nso we're gonna go in first give\nthis a name, so, let's do that.\n\n392\n00:18:06.527 --> 00:18:13.432\nLet's do ITPROTV Pol1, very original name.\n\n393\n00:18:13.432 --> 00:18:15.252\nHopefully we'll come up with\nsomething a little bit better and\n\n394\n00:18:15.252 --> 00:18:16.190\nmore meaningful in your world.\n\n395\n00:18:16.190 --> 00:18:19.695\nAll right so, over here off to the right,\nit says authentication policy\n\n396\n00:18:19.695 --> 00:18:23.790\ndefines the ticket granting\nticket properties as I mentioned.\n\n397\n00:18:23.790 --> 00:18:26.342\nAs well as authentication\naccess control conditions for\n\n398\n00:18:26.342 --> 00:18:27.930\naccount types as I was telling you.\n\n399\n00:18:27.930 --> 00:18:30.830\nSo are we gonna only audit\npolicy restrictions or\n\n400\n00:18:30.830 --> 00:18:32.300\nenforce policy restrictions?\n\n401\n00:18:32.300 --> 00:18:36.524\nSo right we have to make choice default\nthere enforce policy restrictions.\n\n402\n00:18:36.524 --> 00:18:39.875\nThe only audit we're looking to see what\npolicy restrictions are in place, and\n\n403\n00:18:39.875 --> 00:18:42.075\ngetting a list of them as\nopposed to enforcing them,\n\n404\n00:18:42.075 --> 00:18:43.386\nthat's what we're gonna do.\n\n405\n00:18:43.386 --> 00:18:47.214\nIt says here policy\napplied through a silo,\n\n406\n00:18:47.214 --> 00:18:50.700\nwill over ride the policy\nsettings of the silo.\n\n407\n00:18:50.700 --> 00:18:53.220\nYou have to like cover there,\nof the silo members.\n\n408\n00:18:53.220 --> 00:18:57.656\nSo in other words, if we are applying\npolicy through a silo, we will over ride\n\n409\n00:18:57.656 --> 00:19:01.907\nhere, right, those settings that\nthe members may themselves bring in.\n\n410\n00:19:01.907 --> 00:19:06.187\nMeaning if there's other policies applied,\nthese policies will take precedent,\n\n411\n00:19:06.187 --> 00:19:09.010\nas in we may over ride\naspects of group policy.\n\n412\n00:19:09.010 --> 00:19:11.550\nWith this policy, so we just have to\nmake sure we're aware of that and\n\n413\n00:19:11.550 --> 00:19:12.690\nunderstand that.\n\n414\n00:19:12.690 --> 00:19:15.660\nAll right, so we are gonna scroll down.\n\n415\n00:19:15.660 --> 00:19:19.649\nFirst thing we see here, kind of walking\nthrough the logic of these items on\n\n416\n00:19:19.649 --> 00:19:23.633\nthe left that are all listed here as we\nkinda go on, you can see user sign on,\n\n417\n00:19:23.633 --> 00:19:27.216\nsilos, silos that are assigned silos,\nusers, etc, accounts.\n\n418\n00:19:27.216 --> 00:19:28.440\nSo we're just gonna start going through.\n\n419\n00:19:28.440 --> 00:19:30.625\nSo first thing is, we've gotta put one or\n\n420\n00:19:30.625 --> 00:19:33.800\nmore accounts in here that\nwe wanna apply a policy to.\n\n421\n00:19:33.800 --> 00:19:35.520\nRight, so let's go click Add.\n\n422\n00:19:35.520 --> 00:19:36.630\n&gt;&gt; What about Lisa?\n\n423\n00:19:36.630 --> 00:19:40.194\n&gt;&gt; I was gonna put her in there because\nshe's so nice enough to volunteer for\n\n424\n00:19:40.194 --> 00:19:41.150\neverything we do.\n\n425\n00:19:41.150 --> 00:19:42.734\nShe's just a great gal, that Lisa.\n\n426\n00:19:42.734 --> 00:19:45.710\nAll right, so\nwe're gonna put Lisa in here, check names.\n\n427\n00:19:45.710 --> 00:19:48.390\nGot Lisa sitting right there,\nso I'll add her in.\n\n428\n00:19:48.390 --> 00:19:50.141\nSo we do have her in there.\n\n429\n00:19:50.141 --> 00:19:53.433\nLet's go in,\nlet's just take a look and let's do,\n\n430\n00:19:59.230 --> 00:20:02.525\nI could spell correctly so, you'll see,\n\n431\n00:20:07.557 --> 00:20:09.255\nSee this?\n\n432\n00:20:09.255 --> 00:20:11.490\nAll right, did I spell correctly?\n\n433\n00:20:11.490 --> 00:20:12.735\nI think, I did, yes.\n\n434\n00:20:12.735 --> 00:20:13.630\nAll right, so all right so\n\n435\n00:20:13.630 --> 00:20:16.130\nwhat I wanted to show you just wanted\nto make sure I spelled it correctly.\n\n436\n00:20:16.130 --> 00:20:18.146\nI wasn't getting the error\nbecause I misspelled it, but\n\n437\n00:20:18.146 --> 00:20:19.960\nI wanted to show you and\nyou could see it right here.\n\n438\n00:20:19.960 --> 00:20:24.970\nWe do not put groups like domain which is\nwhat I was trying to type to get in there.\n\n439\n00:20:24.970 --> 00:20:29.300\nWe do not put groups in there but rather,\nuser accounts, computer accounts and or\n\n440\n00:20:29.300 --> 00:20:30.640\nservice accounts, right?\n\n441\n00:20:30.640 --> 00:20:33.850\nAre put in here as you could\nsee under Object Types, right?\n\n442\n00:20:33.850 --> 00:20:36.430\nWe don't have the ability\nto put a group in there.\n\n443\n00:20:36.430 --> 00:20:40.259\nSo this is not about group memberships\nit's about individual users that\n\n444\n00:20:40.259 --> 00:20:45.220\nwe are assigning an authentication policy\nor applying an authentication policy too.\n\n445\n00:20:45.220 --> 00:20:47.660\nAnd by the way, it is okay to\nput computer accounts in here,\n\n446\n00:20:47.660 --> 00:20:50.250\nunlike what we were just talking\nabout with protected users,\n\n447\n00:20:50.250 --> 00:20:52.960\nwhere we don't put a computer\naccount in a protected users group.\n\n448\n00:20:52.960 --> 00:20:54.420\nRight, just want to make that distinction.\n\n449\n00:20:54.420 --> 00:20:55.452\nAll right, so you can see that here.\n\n450\n00:20:55.452 --> 00:20:58.296\nWe're just gonna get out of that, cuz I'm\nnot obviously gonna put a group in there.\n\n451\n00:20:58.296 --> 00:21:01.490\nAll right, so we have a user,\none or more designations.\n\n452\n00:21:01.490 --> 00:21:05.160\nAuthenticated silos we will create\na policy silo afterwards so\n\n453\n00:21:05.160 --> 00:21:07.170\nwe're gonna skip over that for the moment.\n\n454\n00:21:07.170 --> 00:21:09.538\nBut you know why we're doing it this way.\n\n455\n00:21:09.538 --> 00:21:14.793\nUser sign on, require rolling NTLM,\na secret for NTLM authentication,\n\n456\n00:21:14.793 --> 00:21:20.400\nspecify TGT lifetime fees or accounts is\nwhere we can modify the TGT lifetime.\n\n457\n00:21:20.400 --> 00:21:25.522\nMaximum so we could say that a TGT a\nticket granting ticket which is the master\n\n458\n00:21:25.522 --> 00:21:30.900\nticket we give the user in Kerberos to\nthen allow them to request STs, right?\n\n459\n00:21:30.900 --> 00:21:35.750\nOr service tickets for individual\nusage of or resolution of a service or\n\n460\n00:21:35.750 --> 00:21:39.420\na session creation of some\nkind access to the service.\n\n461\n00:21:39.420 --> 00:21:41.900\nWe're gonna say this ticket is gonna\nbe good for this amount of time,\n\n462\n00:21:41.900 --> 00:21:44.730\nand we can modify and\nspecify what that is.\n\n463\n00:21:44.730 --> 00:21:47.820\nSpecify access control conditions and\nrestrict devices.\n\n464\n00:21:47.820 --> 00:21:50.684\nThat request these on behalf of users,\nwhere the computer account will come in.\n\n465\n00:21:50.684 --> 00:21:54.120\nAnd while we do both users and\ncomputers here.\n\n466\n00:21:54.120 --> 00:21:57.410\nSo click to edit define,\nedit and or define conditions.\n\n467\n00:21:57.410 --> 00:22:00.290\nAll resources, click Edit here and\n\n468\n00:22:00.290 --> 00:22:03.860\nspecify access control conditions for\nthe authentication policy.\n\n469\n00:22:03.860 --> 00:22:04.810\nI'm just gonna move this over.\n\n470\n00:22:06.540 --> 00:22:09.030\nYou could see here add a condition.\n\n471\n00:22:09.030 --> 00:22:11.520\nSo I have to go in and\nwe get a little drop-down pick list.\n\n472\n00:22:11.520 --> 00:22:16.660\nThis is like a filter if you've ever built\nany filters in, let's say, workflows.\n\n473\n00:22:16.660 --> 00:22:19.255\nIf you do any work with Visio,\nand you build workflows in Visio.\n\n474\n00:22:19.255 --> 00:22:22.185\nOr if you use the Workflow Builder\nin SharePoint to build on or\n\n475\n00:22:22.185 --> 00:22:24.655\nyou've done any business\nlogic rules in Outlook,\n\n476\n00:22:24.655 --> 00:22:28.202\nthings like that where you've had\nto pull down and populate fields.\n\n477\n00:22:28.202 --> 00:22:30.250\nAny or all those things will\nlook something similar,\n\n478\n00:22:30.250 --> 00:22:32.110\nlook like something similar to this.\n\n479\n00:22:32.110 --> 00:22:35.600\nSo specify access control conditions for\nthe authentication policy.\n\n480\n00:22:35.600 --> 00:22:41.490\nIs this user, Is this an authentication\nsilo or a group, right?\n\n481\n00:22:41.490 --> 00:22:46.430\nMember of, are we a member of any member\nof each not, member of not member of each.\n\n482\n00:22:46.430 --> 00:22:50.920\nRight, value and\nthen you could see here add items, right.\n\n483\n00:22:50.920 --> 00:22:54.440\nSo then what we're doing\nis we're adding in a group.\n\n484\n00:22:54.440 --> 00:22:57.415\nNow this is different we're not\nputting the group into the policy and\n\n485\n00:22:57.415 --> 00:22:59.065\nsaying apply the policy of the group.\n\n486\n00:22:59.065 --> 00:23:02.581\nThat will be the account tab up above or\nthe account item up above.\n\n487\n00:23:02.581 --> 00:23:03.640\nWhere we're not allowed to add groups.\n\n488\n00:23:03.640 --> 00:23:08.314\nSo, what we're doing here is specifying\nthat if you're a member of this group,\n\n489\n00:23:08.314 --> 00:23:12.092\nwhich is why we can put groups here\nthat we may or we may not filter or\n\n490\n00:23:12.092 --> 00:23:13.900\napply this as a result of that.\n\n491\n00:23:13.900 --> 00:23:17.830\nIn other words, we're creating conditions\nabout how the policy will operate and\n\n492\n00:23:17.830 --> 00:23:21.940\nthose conditions can include things like,\nmembership in groups as you can see.\n\n493\n00:23:21.940 --> 00:23:28.380\nSo, for here, I could put something like,\ndomain guests, if I spelled it correctly.\n\n494\n00:23:28.380 --> 00:23:29.710\nAnd as a result,\n\n495\n00:23:29.710 --> 00:23:34.650\nI could say that a user is a member\nof this particular group, right?\n\n496\n00:23:34.650 --> 00:23:38.940\nWhatever it is, and you'll see there,\nDomain Guest is now selected or\n\n497\n00:23:38.940 --> 00:23:43.425\npopulated, and I can then stack these\nup right, and I can then decide.\n\n498\n00:23:43.425 --> 00:23:45.825\nYou have to meet these conditions,\nplural, right?\n\n499\n00:23:45.825 --> 00:23:50.215\nIn order for the policy to be applied or\nyou do not meet these conditions.\n\n500\n00:23:50.215 --> 00:23:53.835\nWe can say either be a member of or\nnot be a member of, right?\n\n501\n00:23:53.835 --> 00:23:55.287\nWe can do either way depending\non what we're doing.\n\n502\n00:23:55.287 --> 00:23:56.364\nYes.\n\n503\n00:23:56.364 --> 00:24:00.296\n&gt;&gt; I was just thinking about maybe some\nsituations where this would be useful such\n\n504\n00:24:00.296 --> 00:24:02.987\nas if I were using if I had\nlike a remote user's group?\n\n505\n00:24:02.987 --> 00:24:06.671\nCould I go ahead and\nput my remote users in there and\n\n506\n00:24:06.671 --> 00:24:11.236\nsay If their logging only allow\npeople within the remote users\n\n507\n00:24:11.236 --> 00:24:15.210\ngroup to have external access and\nso forth like that.\n\n508\n00:24:15.210 --> 00:24:16.570\n&gt;&gt; Well this is not for that, right?\n\n509\n00:24:16.570 --> 00:24:18.450\nWhat we should be doing we\nhave policies for that.\n\n510\n00:24:18.450 --> 00:24:21.650\nThat would be remote access policy,\nright, and a condition or\n\n511\n00:24:21.650 --> 00:24:24.280\nset of conditions around using\nthe remote access gateway.\n\n512\n00:24:24.280 --> 00:24:26.340\nSo we can do that but not with this.\n\n513\n00:24:26.340 --> 00:24:29.420\nHere this is gonna be same idea,\nsame logic, but nor for\n\n514\n00:24:29.420 --> 00:24:30.850\nwhat you described necessarily.\n\n515\n00:24:30.850 --> 00:24:35.670\nWe wouldn't grant or disallow access\nto users based on them being remote.\n\n516\n00:24:35.670 --> 00:24:38.320\nWe will control the authentication\nrequirements for\n\n517\n00:24:38.320 --> 00:24:41.800\nthat based on them being an in a remote\nusers group with the policy like this.\n\n518\n00:24:41.800 --> 00:24:46.270\nSo this would not deny them accesses\nto remote user in a remote user group.\n\n519\n00:24:46.270 --> 00:24:47.355\nJust would apply.\n\n520\n00:24:47.355 --> 00:24:50.877\n[CROSSTALK] Additional potential policy\nrequirements for authentication.\n\n521\n00:24:50.877 --> 00:24:51.480\n&gt;&gt; Okay.\n\n522\n00:24:51.480 --> 00:24:55.240\n&gt;&gt; Like modification of the TGT\ntime on their Kerberos tickets or\n\n523\n00:24:55.240 --> 00:24:58.380\ndo whatever we're doing,\nwhatever the specifics will be.\n\n524\n00:24:58.380 --> 00:24:59.680\nWe can do that.\n\n525\n00:24:59.680 --> 00:25:03.110\nYou could see there we could specify\nticket lifetimes for service accounts,\n\n526\n00:25:03.110 --> 00:25:03.960\nthings like that.\n\n527\n00:25:03.960 --> 00:25:07.280\nWe could do that if they're a member of\na group, but we won't deny them access.\n\n528\n00:25:07.280 --> 00:25:10.500\nWe will simply augment the requirements\nto grant them access or\n\n529\n00:25:10.500 --> 00:25:12.420\nmodify them, is what we would do,\nif that makes sense.\n\n530\n00:25:12.420 --> 00:25:13.010\n&gt;&gt; Perfect, yeah.\n\n531\n00:25:13.010 --> 00:25:14.520\n&gt;&gt; All right, good.\nSo service tickets for\n\n532\n00:25:14.520 --> 00:25:19.250\nuser accounts, right services running\nas user accounts were assigned.\n\n533\n00:25:19.250 --> 00:25:21.585\nPolicy condition,s again\nwe can modify that here.\n\n534\n00:25:21.585 --> 00:25:27.060\nService sign on, specify the same kind of\nsettings we were doing for those accounts.\n\n535\n00:25:28.450 --> 00:25:31.400\nAnd then under the computer I said\nas well cuz we have a setting or\n\n536\n00:25:31.400 --> 00:25:33.830\na group of settings that\nare such identical for each.\n\n537\n00:25:33.830 --> 00:25:38.410\nBut remember we have three categories for\nobjects we can attach with this policy.\n\n538\n00:25:38.410 --> 00:25:40.000\nPlain old fashion normal user accounts.\n\n539\n00:25:40.000 --> 00:25:42.080\nLisa is there standing in for us.\n\n540\n00:25:42.080 --> 00:25:44.600\nService accounts and or computer accounts.\n\n541\n00:25:44.600 --> 00:25:47.060\nAnd we would specify each one or\nall of them.\n\n542\n00:25:47.060 --> 00:25:49.650\nWe've done that,\nyou can't see it because it's behind me.\n\n543\n00:25:49.650 --> 00:25:52.810\nI'm just gonna click OK at\nthe bottom right hand corner there.\n\n544\n00:25:52.810 --> 00:25:55.410\nCreate the policy, so\nwe now have a policy.\n\n545\n00:25:55.410 --> 00:25:57.480\nRight, just demonstration purposes.\n\n546\n00:25:57.480 --> 00:26:00.390\nNow we wanna go create our policy silo.\n\n547\n00:26:00.390 --> 00:26:05.100\nLet's go grab our policy silo Click New,\nAuthentication Policy Silo.\n\n548\n00:26:05.100 --> 00:26:06.730\nAgain, let's give this a name.\n\n549\n00:26:06.730 --> 00:26:13.586\nWe'll do It ITProTVpolsilo1 just so\nwe can keep track and know what it is.\n\n550\n00:26:13.586 --> 00:26:18.120\nAll right, now we're enforcing the silo\npolicy, or are we just gonna edit, or\n\n551\n00:26:18.120 --> 00:26:21.090\nexcuse me, audit so\nwe can see what the outcome would be?\n\n552\n00:26:21.090 --> 00:26:22.700\nIt's up to us to decide.\n\n553\n00:26:22.700 --> 00:26:23.740\nPermitted accounts.\n\n554\n00:26:23.740 --> 00:26:27.018\nLet's just scroll down here so\nwe could take a look.\n\n555\n00:26:28.456 --> 00:26:30.340\nAll right, and then authentication policy.\n\n556\n00:26:30.340 --> 00:26:33.475\nUse a single policy for all principles\nthat belong to this policy silo.\n\n557\n00:26:33.475 --> 00:26:37.995\nThe authentication policy that applies\nto these accounts in this silo will be.\n\n558\n00:26:37.995 --> 00:26:41.085\nAnd or use a separate\nauthentication policy for each one.\n\n559\n00:26:41.085 --> 00:26:44.895\nNotice we may have different policies for\nusers.\n\n560\n00:26:44.895 --> 00:26:46.715\nDifferent ones, so\nI'll just move that out of the way.\n\n561\n00:26:46.715 --> 00:26:49.845\nManage service accounts and\nor computer accounts.\n\n562\n00:26:49.845 --> 00:26:51.805\nAnd we may have created\nthree separate policies.\n\n563\n00:26:51.805 --> 00:26:55.015\nOne for each,\ninstead of one master policy that you saw.\n\n564\n00:26:55.015 --> 00:26:57.175\nPotentially could address all three.\n\n565\n00:26:57.175 --> 00:26:58.915\nIt's up to us to decide.\n\n566\n00:26:58.915 --> 00:27:02.200\nWhen you do this you really have to\ndecide if you wanna be very granular and\n\n567\n00:27:02.200 --> 00:27:05.170\nbreak out the settings by group.\n\n568\n00:27:05.170 --> 00:27:08.190\nOr, excuse me, wrong way to think\nof that cuz we're not using groups.\n\n569\n00:27:08.190 --> 00:27:12.490\nBy user or by computer account or\nby managed service account.\n\n570\n00:27:12.490 --> 00:27:15.490\nOr you wanna have a master policy\nthat will address all of them.\n\n571\n00:27:15.490 --> 00:27:18.040\nThere's no right and wrong, it's\na question of how you choose to operate.\n\n572\n00:27:18.040 --> 00:27:21.600\nBut if you choose to break them out,\nyou can use a separate one as you can see.\n\n573\n00:27:21.600 --> 00:27:23.670\nIt will be up to us to decide, right?\n\n574\n00:27:24.670 --> 00:27:29.040\nAll right, so permitted accounts, so\nlet's go in and let's specify again,\n\n575\n00:27:29.040 --> 00:27:31.920\nuser's computers or\nservice accounts, right?\n\n576\n00:27:31.920 --> 00:27:36.110\nWhichever we do, all right, so\nwhatever that may be, right,\n\n577\n00:27:36.110 --> 00:27:37.992\nwe'll specify that there.\n\n578\n00:27:37.992 --> 00:27:42.860\nAnd then, if we use a single account or\na single policy except us,\n\n579\n00:27:42.860 --> 00:27:45.100\nI can click just to pull it down.\n\n580\n00:27:45.100 --> 00:27:49.750\nOr you can see if I choose\nto use a separate one,\n\n581\n00:27:49.750 --> 00:27:52.610\nI have a user account policy,\neither way, it's up to us.\n\n582\n00:27:52.610 --> 00:27:55.778\nYou'll see I can assign the same policy\nessentially or different ones but\n\n583\n00:27:55.778 --> 00:27:58.240\nif I have different ones it\nwill be on the list obviously.\n\n584\n00:27:58.240 --> 00:28:00.310\nI would choose the appropriate one.\n\n585\n00:28:00.310 --> 00:28:02.028\nWe're gonna just go ahead and\nchoose one for\n\n586\n00:28:02.028 --> 00:28:05.015\nall because I don't really have separate\npolicies you know I only have one.\n\n587\n00:28:05.015 --> 00:28:09.647\nSo we're gonna do that I'm gonna click\nOK again, right, just behind me here.\n\n588\n00:28:09.647 --> 00:28:13.763\nAll right, so I've created the policy,\nI've created the policy silo, so\n\n589\n00:28:13.763 --> 00:28:16.935\nthat way we can apply the policy\naudited and or enforce it.\n\n590\n00:28:16.935 --> 00:28:22.205\nAnd as a result were then able to go\nahead, and define this relationship,\n\n591\n00:28:22.205 --> 00:28:26.880\nas we were talking about how these\npolicy settings will operate.\n\n592\n00:28:26.880 --> 00:28:30.270\nAnd then the policy silo\ndefines the relationship and\n\n593\n00:28:30.270 --> 00:28:33.810\nensures these accounts are going to\nbe managed according to this policy.\n\n594\n00:28:33.810 --> 00:28:38.023\nWhether it's service accounts, a user\naccounts, and or computer accounts or\n\n595\n00:28:38.023 --> 00:28:41.060\na combination of those\nmost likely as we saw.\n\n596\n00:28:41.060 --> 00:28:42.866\nNow, since Cherokee chose this one,\n\n597\n00:28:42.866 --> 00:28:45.670\nthis one happens to have\na bonus associated with it.\n\n598\n00:28:45.670 --> 00:28:49.740\nSo have a little website that may offer\nsome guidance, some insight into some\n\n599\n00:28:49.740 --> 00:28:53.250\ngeneral overview around the technology\nwe're just taking a look at.\n\n600\n00:28:53.250 --> 00:28:54.280\nIt is in the show notes.\n\n601\n00:28:54.280 --> 00:28:57.550\nIt is one on the Microsoft sites\non authentication policies.\n\n602\n00:28:57.550 --> 00:29:00.940\nRemember, this is something that's\nbeen around since Server 12 R2.\n\n603\n00:29:00.940 --> 00:29:02.900\nYou could see a reference to that there.\n\n604\n00:29:02.900 --> 00:29:06.530\nDon't let the date throw you,\nit still is referenable for Server 16.\n\n605\n00:29:06.530 --> 00:29:10.550\nIn other words, since Server 12 R2, the\nimplementation, there hasn't really been\n\n606\n00:29:10.550 --> 00:29:14.000\na major change or update in the last\nimplementation in to server 16.\n\n607\n00:29:14.000 --> 00:29:17.910\nIt's just there and available to us so\nthis information although it's a few years\n\n608\n00:29:17.910 --> 00:29:21.450\nold, is perfectly fine and\nwill give you everything you need to know.\n\n609\n00:29:21.450 --> 00:29:27.590\nTalks to us about how to setup\nthe authentication policy silos,\n\n610\n00:29:27.590 --> 00:29:29.130\nthe authentication schema or\n\n611\n00:29:29.130 --> 00:29:32.760\nthe information in the Active Directory\nschema which does tell us what is there.\n\n612\n00:29:32.760 --> 00:29:35.690\nYou saw me go through and\nwork with most of these.\n\n613\n00:29:35.690 --> 00:29:40.240\nHow to setup and configure the use of\nthis, about authentication policies,\n\n614\n00:29:40.240 --> 00:29:43.530\nthe user, the service account,\nand or the computer category.\n\n615\n00:29:43.530 --> 00:29:46.640\nYou saw these as well, so\nit does walk us through and\n\n616\n00:29:46.640 --> 00:29:49.720\njust help us to better understand\nsome of the details surrounding this.\n\n617\n00:29:49.720 --> 00:29:53.010\nSo it would be good for guys to just\ngo in, take a look at some point.\n\n618\n00:29:53.010 --> 00:29:56.220\nWill I think, be helpful for you to\nhave a sense of what's going in there.\n\n619\n00:29:56.220 --> 00:29:57.070\nAll right,\n\n620\n00:29:57.070 --> 00:30:00.960\nso we covered Active Directory user and\ncomputer accounts, the tool there.\n\n621\n00:30:00.960 --> 00:30:03.600\nTalked a bit about\nthe protected user group.\n\n622\n00:30:03.600 --> 00:30:07.914\nWe went ahead, talked about in ADAC one of\nthe primary things we wanna focus on from\n\n623\n00:30:07.914 --> 00:30:09.610\na security perspective.\n\n624\n00:30:09.610 --> 00:30:10.920\nAuthentication policies,\n\n625\n00:30:10.920 --> 00:30:14.610\nauthentication policy silos,\nshowed you how to set those up.\n\n626\n00:30:14.610 --> 00:30:19.410\nWe are unfortunately as Mr Clock\nthere says, I think running\n\n627\n00:30:19.410 --> 00:30:22.755\nshort on demonstration time, but we do-\n&gt;&gt; I'm glad you're blaming it on\n\n628\n00:30:22.755 --> 00:30:24.490\nMr Clock instead of Cherokee this time.\n\n629\n00:30:24.490 --> 00:30:25.326\n&gt;&gt; Well, it's not your fault.\n\n630\n00:30:25.326 --> 00:30:26.810\n&gt;&gt; [LAUGH]\n&gt;&gt; You did your part,\n\n631\n00:30:26.810 --> 00:30:28.410\nit's just that we have\na lot to go through, and\n\n632\n00:30:28.410 --> 00:30:29.485\nthey're only giving us half an hour.\n\n633\n00:30:29.485 --> 00:30:32.760\n&gt;&gt; [LAUGH]\n&gt;&gt; It's more like somebody else's problem,\n\n634\n00:30:32.760 --> 00:30:33.760\nfault than ours, right?\n\n635\n00:30:33.760 --> 00:30:36.060\n&gt;&gt; That's okay, we'll make the best of it,\nAdam, because guess what?\n\n636\n00:30:36.060 --> 00:30:39.030\nWe'll come back with a part three.\n\n637\n00:30:39.030 --> 00:30:39.620\n&gt;&gt; Part three.\n\n638\n00:30:39.620 --> 00:30:42.485\n&gt;&gt; All right, so-\n&gt;&gt; I was gonna jump right to part three.\n\n639\n00:30:42.485 --> 00:30:44.560\n&gt;&gt; [LAUGH] I don't know, you guys\nmay see a part three, a part four,\n\n640\n00:30:44.560 --> 00:30:45.370\nsomething like that.\n\n641\n00:30:45.370 --> 00:30:48.250\nBut just know there is more\ninformation headed your way.\n\n642\n00:30:48.250 --> 00:30:50.810\nBut we are out of time for this show,\nso we'll go ahead and sign out.\n\n643\n00:30:50.810 --> 00:30:52.880\nI have been your host Cherokee Boose.\n\n644\n00:30:52.880 --> 00:30:54.040\n&gt;&gt; I am Adam Gordon.\n\n645\n00:30:54.040 --> 00:30:56.252\n&gt;&gt; See you next time here at ITProTV.\n\n646\n00:30:56.252 --> 00:31:02.944\n[MUSIC]\n\n647\n00:31:02.944 --> 00:31:06.080\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233878496"
        },
        {
          "description": "In this episode, Cherokee and Adam begin by discussing scenarios where one may opt for delegation of control. Adam demonstrates how to configure this setting via the delegation of control wizard. Next, he shows how to manage computer accounts. He begins by explaining how to disable a computer account to prevent domain log-ons from that machine. Next, he shows how to reset that computer account in the GUI as well as PowerShell. Adam also explains three types of service accounts including the local system, local service, and network service. They also discuss managed and group managed service accounts.",
          "length": "2584",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-3-credentials_and_privileged_access-pt3-091317-PGM.00_00_11_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-3-credentials_and_privileged_access-pt3-091317-PGM.00_00_11_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-3-credentials_and_privileged_access-pt3-091317-PGM.00_00_11_20.Still001-sm.jpg",
          "title": "Credentials and Privileged Access Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.170 --> 00:00:00.820\nWelcome to ITProTV.\n\n2\n00:00:00.820 --> 00:00:03.840\nI'm your host [CROSSTALK].\n\n3\n00:00:03.840 --> 00:00:08.365\n[MUSIC]\n\n4\n00:00:08.365 --> 00:00:10.898\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:10.898 --> 00:00:15.184\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n6\n00:00:15.184 --> 00:00:16.935\nI'm your show host Cherokee Boose.\n\n7\n00:00:16.935 --> 00:00:21.324\nJust as promised, we're here to bring\nyou part three where we will continue\n\n8\n00:00:21.324 --> 00:00:25.108\ntaking a look at protecting\ncredentials and privileged access.\n\n9\n00:00:25.108 --> 00:00:29.003\nAnd back with us today in studios we\nhave Microsoft expert Mr. Adam Gordon.\n\n10\n00:00:29.003 --> 00:00:30.190\nThank you for joining us today, Adam.\n\n11\n00:00:30.190 --> 00:00:31.016\n&gt;&gt; Hello everybody.\n\n12\n00:00:31.016 --> 00:00:32.484\nHopefully, everyone's\ndoing well out there.\n\n13\n00:00:32.484 --> 00:00:34.292\nAlways a pleasure to see you,\nMs. Cherokee.\n\n14\n00:00:34.292 --> 00:00:35.032\n&gt;&gt; Likewise.\n\n15\n00:00:35.032 --> 00:00:36.380\n&gt;&gt; So we are, thank you.\n\n16\n00:00:36.380 --> 00:00:39.470\nWe are gonna continue our discussions,\npick up where we left off.\n\n17\n00:00:39.470 --> 00:00:43.302\nEssentially, we had been talking\nabout some features, capabilities,\n\n18\n00:00:43.302 --> 00:00:46.351\nthings we could do to enhance\nthe security of Server 16.\n\n19\n00:00:46.351 --> 00:00:47.493\nKind of the general theme,\n\n20\n00:00:47.493 --> 00:00:50.530\nright, of all the episodes we're\ngoing through in one form or another.\n\n21\n00:00:50.530 --> 00:00:54.520\nWhat we're gonna do is take a look\nat a rather interesting concept,\n\n22\n00:00:54.520 --> 00:00:55.580\nthe delegation of privilege.\n\n23\n00:00:55.580 --> 00:00:58.030\nThis is something we've been\nable to do for some time,\n\n24\n00:00:58.030 --> 00:00:59.468\nthis is not new by any means, and\n\n25\n00:00:59.468 --> 00:01:02.800\nsomething we talked a little bit about\non our security overview episode.\n\n26\n00:01:02.800 --> 00:01:05.240\nIf you haven't seen that,\nreally, just Cherokee and\n\n27\n00:01:05.240 --> 00:01:08.990\nI setting down some of\nthe foundational thought processes.\n\n28\n00:01:08.990 --> 00:01:11.860\nSome of the ideas behind\nwhat security means.\n\n29\n00:01:11.860 --> 00:01:13.030\nHow we engage with security.\n\n30\n00:01:13.030 --> 00:01:16.320\nNot specific to Microsoft technology,\nbut more broadly.\n\n31\n00:01:16.320 --> 00:01:18.140\nWhat is the concept of defense in depth?\n\n32\n00:01:18.140 --> 00:01:21.398\nWhat is the concept of a threat actor,\nright?\n\n33\n00:01:21.398 --> 00:01:23.250\nWhat is the concept of a vulnerability?\n\n34\n00:01:23.250 --> 00:01:24.914\nJust defining some of the language and\n\n35\n00:01:24.914 --> 00:01:27.410\nterminology that we often use\nwith regards to security.\n\n36\n00:01:27.410 --> 00:01:32.196\nAnd one of the things we've talked about\na little bit along the way is this\n\n37\n00:01:32.196 --> 00:01:33.845\nidea of being able to, or\n\n38\n00:01:33.845 --> 00:01:39.460\nin some way think through the logic of\nenabling ourselves to delegate control.\n\n39\n00:01:39.460 --> 00:01:41.490\nGet people involved in administration.\n\n40\n00:01:41.490 --> 00:01:44.370\nHave them take over aspects\nof what we're gonna do.\n\n41\n00:01:44.370 --> 00:01:46.190\nBut to do so in a secure, thoughtful way.\n\n42\n00:01:46.190 --> 00:01:49.520\nAnd so the Delegation of\nControl Wizard helps us to do this.\n\n43\n00:01:49.520 --> 00:01:51.850\nAnd we can do this at\na couple of different levels\n\n44\n00:01:51.850 --> 00:01:53.992\nin the Active Directory Users and\nComputers Tool.\n\n45\n00:01:53.992 --> 00:01:56.530\nWe're gonna take a look at how\nto do that in just a second.\n\n46\n00:01:56.530 --> 00:01:59.140\nWe could do this at a container OU level.\n\n47\n00:01:59.140 --> 00:02:01.380\nWe could do this up at\nthe domain level itself.\n\n48\n00:02:01.380 --> 00:02:05.780\nMinor difference, we'll talk about the key\ndifference that shows up there, but\n\n49\n00:02:05.780 --> 00:02:08.690\nessentially it works the same way\nregardless of where we do this.\n\n50\n00:02:08.690 --> 00:02:10.913\nSo why don't we jump in,\nwe'll take a look, and\n\n51\n00:02:10.913 --> 00:02:14.125\nthen from there got some other cool\nthings we're gonna to talk about.\n\n52\n00:02:14.125 --> 00:02:14.875\nIf I'm not mistaken,\n\n53\n00:02:14.875 --> 00:02:17.404\nwe're going to talk a bit about how to\nrepair trust relationships when you go\n\n54\n00:02:17.404 --> 00:02:18.419\nthrough-\n&gt;&gt; Definitely a good thing to know.\n\n55\n00:02:18.419 --> 00:02:20.790\n&gt;&gt; Perhaps have a problem, right,\nwith the computer account.\n\n56\n00:02:20.790 --> 00:02:22.310\nWe'll take a look at that.\n\n57\n00:02:22.310 --> 00:02:24.504\nAnd we're also gonna talk about\nmanaged service accounts or\n\n58\n00:02:24.504 --> 00:02:26.000\ngroup managed service accounts.\n\n59\n00:02:26.000 --> 00:02:26.670\nHow those work.\n\n60\n00:02:26.670 --> 00:02:28.938\nKind of interesting and\na cool thought process.\n\n61\n00:02:28.938 --> 00:02:31.728\nBut also we'll define what\ngeneric service accounts are,\n\n62\n00:02:31.728 --> 00:02:34.255\nthe old fashion service accounts,\nif you will.\n\n63\n00:02:34.255 --> 00:02:38.127\nWe'll take a look at those, remind\nourselves of the three built-in types.\n\n64\n00:02:38.127 --> 00:02:41.428\nAnd then take a look at the newfangled,\nnew and improved managed service accounts.\n\n65\n00:02:41.428 --> 00:02:43.154\n&gt;&gt; Shiny, brand new,\nsmells like a new car.\n\n66\n00:02:43.154 --> 00:02:48.070\n&gt;&gt; Yes, they do but only if you get\nthe air freshener option when you buy one.\n\n67\n00:02:48.070 --> 00:02:48.622\nAll right, so\n\n68\n00:02:48.622 --> 00:02:51.940\nwe'll let you test drive one by the way\nalso, just take a look at how we do that.\n\n69\n00:02:51.940 --> 00:02:54.230\nSo let's go ahead,\nlet's take a look up here.\n\n70\n00:02:54.230 --> 00:02:56.725\nI'm in the Active Directory users and\ncomputers tool.\n\n71\n00:02:56.725 --> 00:03:01.253\nAnd I'm on the users container, we can go\nto any of the OUs for containers here.\n\n72\n00:03:01.253 --> 00:03:04.439\nI do have advanced features turned on,\nthe advanced features view by the way.\n\n73\n00:03:04.439 --> 00:03:09.067\nIf you're seeing some containers and\nareas here that don't normally show up,\n\n74\n00:03:09.067 --> 00:03:12.409\nit is because you're looking at a\ndifferent view than you may see normally.\n\n75\n00:03:12.409 --> 00:03:16.129\nUp under view, I've turned on advance\nfeatures cuz we're gonna need that to do\n\n76\n00:03:16.129 --> 00:03:19.862\nour managed service account discussion\nin a few minutes, just so you know why.\n\n77\n00:03:19.862 --> 00:03:23.287\nSo things like TPM devices which\nis a new system container in\n\n78\n00:03:23.287 --> 00:03:26.178\nthe advanced features view,\nnew to Server 16.\n\n79\n00:03:26.178 --> 00:03:29.067\nYou may not be used to seeing that or\nwonder why that's there.\n\n80\n00:03:29.067 --> 00:03:29.680\nThat's why we're seeing it.\n\n81\n00:03:29.680 --> 00:03:33.047\nAll right, so we're gonna right-click\non the users container here.\n\n82\n00:03:33.047 --> 00:03:34.394\nGo Delegate Control.\n\n83\n00:03:34.394 --> 00:03:36.407\nUse our Delegation of Control Wizard.\n\n84\n00:03:36.407 --> 00:03:40.910\nMove this over just a little bit so\nwe can kinda center that and see that.\n\n85\n00:03:40.910 --> 00:03:45.590\nAnd the first thing we have to\ndo is add in a user or a group.\n\n86\n00:03:45.590 --> 00:03:48.980\nSo we first want to take note of the fact\nthat we can delegate to either a user\n\n87\n00:03:48.980 --> 00:03:49.800\nor a group.\n\n88\n00:03:49.800 --> 00:03:51.600\nI'm thinking without even knowing,\n\n89\n00:03:51.600 --> 00:03:55.154\nI'm gonna guess that you have a user in\nmind that you want me to delegate to.\n\n90\n00:03:55.154 --> 00:03:56.448\n&gt;&gt; Well, it's kind of a tie, Adam.\n\n91\n00:03:56.448 --> 00:04:00.319\nWe've got two sisters, who should we\ngo with today, Lisa or Elizabeth?\n\n92\n00:04:00.319 --> 00:04:03.196\n&gt;&gt; You know, it's easier to type Lisa,\nso I'm gonna say Lisa.\n\n93\n00:04:03.196 --> 00:04:04.581\n&gt;&gt; All right, Lisa it is.\n\n94\n00:04:04.581 --> 00:04:05.560\n&gt;&gt; Cuz her name is shorter.\n\n95\n00:04:05.560 --> 00:04:08.745\nAll right, so Cherokee and I have\na couple of favorite users we demo with.\n\n96\n00:04:08.745 --> 00:04:12.145\nYou may have seen us mention them and\nuse them, a couple of our prior episodes.\n\n97\n00:04:12.145 --> 00:04:16.090\nSo we're gonna use one of our users\nthat's just already set up in the AD,\n\n98\n00:04:16.090 --> 00:04:16.812\nno big deal.\n\n99\n00:04:16.812 --> 00:04:18.700\nWe can select, in theory, any user,\n\n100\n00:04:18.700 --> 00:04:21.591\nas long as we have a plan that\nwe're gonna use to say, hey,\n\n101\n00:04:21.591 --> 00:04:25.780\nI'm gonna give this user this particular\nset of tasks, delegate them to this user,\n\n102\n00:04:25.780 --> 00:04:29.627\nand of course the associated rights and\nresponsibilities that go with that.\n\n103\n00:04:29.627 --> 00:04:31.837\nSo Lisa is one of our favorite\nusers to delegate to.\n\n104\n00:04:31.837 --> 00:04:36.689\nWe're gonna type her name in here, click\nOK, resolve her account as you can see.\n\n105\n00:04:36.689 --> 00:04:41.055\nAnd we have Lisa Scott there,\nwe could obviously add other users and\n\n106\n00:04:41.055 --> 00:04:42.560\nor groups as we go.\n\n107\n00:04:42.560 --> 00:04:46.120\nWe have a bunch of users in groups\nthat we wanna delegate, one or\n\n108\n00:04:46.120 --> 00:04:48.700\nmore tasks to that are gonna be identical.\n\n109\n00:04:48.700 --> 00:04:51.696\nEvery user and group on this list\ngets this particular task or\n\n110\n00:04:51.696 --> 00:04:55.572\nthis set of tasks that we could just batch\nthem together and do them all at once,\n\n111\n00:04:55.572 --> 00:04:57.062\nif this is more of a one-off.\n\n112\n00:04:57.062 --> 00:05:01.441\nHey, let's give Lisa this specific task,\nand then we've got a separate idea for\n\n113\n00:05:01.441 --> 00:05:03.270\nElizabeth or John or whoever.\n\n114\n00:05:03.270 --> 00:05:05.525\nAnd we may run this a couple of\ntimes in order to do the delegation.\n\n115\n00:05:05.525 --> 00:05:08.335\nIt's really up to us to decide\nhow we'll do that, yeah?\n\n116\n00:05:08.335 --> 00:05:13.265\n&gt;&gt; So this is a great example of how maybe\nwe can really take advantage of that\n\n117\n00:05:13.265 --> 00:05:16.955\nlogical grouping idea here\nwith our organizational units.\n\n118\n00:05:16.955 --> 00:05:21.190\nAnd include specific groups for\nmaybe like a department so that Lisa,\n\n119\n00:05:21.190 --> 00:05:22.624\nif she was the manager,\n\n120\n00:05:22.624 --> 00:05:27.460\nshe could perform simple tasks that maybe\nwe didn't want to have someone in IT.\n\n121\n00:05:27.460 --> 00:05:31.420\nMaybe they didn't have an IT person for\nthat remote location.\n\n122\n00:05:31.420 --> 00:05:35.934\nJust perform some simple things like\nmaybe reset passwords or whatever so\n\n123\n00:05:35.934 --> 00:05:39.814\nshe can really control just one\npredefined area here, right?\n\n124\n00:05:39.814 --> 00:05:40.975\n&gt;&gt; We could, absolutely.\n\n125\n00:05:40.975 --> 00:05:44.936\nAnd you see that one of the tasks Cherokee\nwas mentioning, resetting user passwords\n\n126\n00:05:44.936 --> 00:05:48.100\nand force a password reset at\nthe next log interchange, is a task.\n\n127\n00:05:48.100 --> 00:05:50.436\nA pre-determined task,\none's that kind of on a, hey,\n\n128\n00:05:50.436 --> 00:05:52.785\nyou're probably gonna wanna\ndo this pretty often list.\n\n129\n00:05:52.785 --> 00:05:56.805\nThese are the most common tasks we\noften see, so we could delegate that.\n\n130\n00:05:56.805 --> 00:06:00.243\nWe would, as you suggested, although we\nhaven't done it this way but we could\n\n131\n00:06:00.243 --> 00:06:03.491\neasily align with, if we just drag this\nover for a second, one of our OUs.\n\n132\n00:06:03.491 --> 00:06:05.336\nMaybe it's remote office one or\n\n133\n00:06:05.336 --> 00:06:09.309\nsomething like that like you were\nsuggesting maybe instead of a MEA.\n\n134\n00:06:09.309 --> 00:06:12.935\nAnd if Lisa and or\nthe group Lisa represents was there and\n\n135\n00:06:12.935 --> 00:06:17.660\nwe did this at that OU level, we could\ndelegate for her or for that group.\n\n136\n00:06:17.660 --> 00:06:20.170\nSo it's a great way of thinking\nabout that, absolutely.\n\n137\n00:06:20.170 --> 00:06:25.153\nSo we have a list or pre-built or\nmost common tasks that Microsoft provides.\n\n138\n00:06:25.153 --> 00:06:26.700\nThere's about 10 to 15 items on this list.\n\n139\n00:06:26.700 --> 00:06:30.450\nGenerically, more often than not,\nyou can kinda see what they are here.\n\n140\n00:06:30.450 --> 00:06:33.310\nLet's just say we're gonna use\nthe one Cherokee suggested.\n\n141\n00:06:33.310 --> 00:06:37.010\nReset user passwords,\ndelegate that particular task and\n\n142\n00:06:37.010 --> 00:06:39.930\nthe role responsibilities\nassociated with it to Lisa.\n\n143\n00:06:39.930 --> 00:06:41.390\nBut we can also create a custom task.\n\n144\n00:06:41.390 --> 00:06:44.549\nIf we don't see what we want on this list,\nwe could go in and\n\n145\n00:06:44.549 --> 00:06:49.001\nspecify something unique and make that up\nas we go by using the bottom option here.\n\n146\n00:06:49.001 --> 00:06:52.823\nLet's click Next, that point we're done,\nit's very straight forward.\n\n147\n00:06:52.823 --> 00:06:55.805\nWe'll click Finish, and\nwe have our delegation for\n\n148\n00:06:55.805 --> 00:06:57.850\nLisa available now when she comes.\n\n149\n00:06:57.850 --> 00:07:01.350\nSo then we could test that,\nlog on as her, have her log on,\n\n150\n00:07:01.350 --> 00:07:04.410\nmake sure she has rights to do that,\nthat would be part of this process.\n\n151\n00:07:04.410 --> 00:07:08.171\nThe trick here is that we have\nto document what we're doing so\n\n152\n00:07:08.171 --> 00:07:12.599\nthat we know that we are granting\nthese delegated responsibilities and\n\n153\n00:07:12.599 --> 00:07:15.126\nthese right-based roles to somebody.\n\n154\n00:07:15.126 --> 00:07:19.226\nAnd that way, we have a record of this\ncuz if we don't keep track of this and\n\n155\n00:07:19.226 --> 00:07:23.410\nwe do multiples of these, it's very\neasy to lose track of the server time.\n\n156\n00:07:23.410 --> 00:07:27.360\nVery quickly, these numbers of\ndelegated task, rights can grow and\n\n157\n00:07:27.360 --> 00:07:29.990\nwe can lose track of who's doing what.\n\n158\n00:07:29.990 --> 00:07:30.610\nAnd as a result,\n\n159\n00:07:30.610 --> 00:07:34.450\nwe may have problems down the road\nwhere user accounts are compromised.\n\n160\n00:07:34.450 --> 00:07:38.837\nPerhaps even targeted specifically because\na bad actor is gonna be able to discern or\n\n161\n00:07:38.837 --> 00:07:42.876\nfigure out that they will have certain\nrights and can take advantage of that.\n\n162\n00:07:42.876 --> 00:07:46.888\nSo the idea of constraining our\nadministrative capabilities by using\n\n163\n00:07:46.888 --> 00:07:51.240\na Delegation of Control Wizard makes\na lot of sense from a least privilege and\n\n164\n00:07:51.240 --> 00:07:53.697\nfrom a separation of duties perspective.\n\n165\n00:07:53.697 --> 00:07:55.218\nTerms and thought processes and\n\n166\n00:07:55.218 --> 00:07:57.929\nideas that are important to\nthe security conversation.\n\n167\n00:07:57.929 --> 00:08:00.441\nBut only if we pair that\nwith good common sense and\n\n168\n00:08:00.441 --> 00:08:03.261\ndocumentation of the delegations,\nso we can audit and\n\n169\n00:08:03.261 --> 00:08:05.740\nverify what's happening\nwith them over time.\n\n170\n00:08:05.740 --> 00:08:08.511\nWe have to kinda combine\nthese concepts together.\n\n171\n00:08:08.511 --> 00:08:12.280\nAll right, so I showed you how to do\nthe delegation on an OU or a container.\n\n172\n00:08:12.280 --> 00:08:14.670\nI said there was a slight difference\nif we do it up at the domain level.\n\n173\n00:08:14.670 --> 00:08:15.910\nLet's go up to the domain.\n\n174\n00:08:15.910 --> 00:08:17.610\nThe difference is not in how we do this.\n\n175\n00:08:17.610 --> 00:08:18.960\nWe do this the same exact way.\n\n176\n00:08:18.960 --> 00:08:21.610\nThe difference is one of the options\nthat shows up when we delegate at\n\n177\n00:08:21.610 --> 00:08:22.810\nthe domain level.\n\n178\n00:08:22.810 --> 00:08:26.668\nSo if I right-click here, Delegate Control\nagain, same idea, same wizard,\n\n179\n00:08:26.668 --> 00:08:28.699\nlooks the same in the beginning, right?\n\n180\n00:08:28.699 --> 00:08:30.200\nNo difference there.\n\n181\n00:08:30.200 --> 00:08:31.930\nYou said Elizabeth, right?\n\n182\n00:08:31.930 --> 00:08:33.610\n&gt;&gt; Yes.\n&gt;&gt; Elizabeth, okay,\n\n183\n00:08:33.610 --> 00:08:36.530\nI think I spelled that correctly.\n\n184\n00:08:36.530 --> 00:08:37.500\nThere we go, yeah, Elizabeth.\n\n185\n00:08:37.500 --> 00:08:40.490\nSo we've got Lisa's sister Elizabeth.\n\n186\n00:08:40.490 --> 00:08:44.490\nAnd so let's go ahead and\njust let me show you here,\n\n187\n00:08:44.490 --> 00:08:49.088\nthe key difference is simply one of the\npredetermined common tasks on the list.\n\n188\n00:08:49.088 --> 00:08:51.060\nIt may be a little hard to see,\nlet me just read it for you.\n\n189\n00:08:51.060 --> 00:08:52.620\nIt's a little small there.\n\n190\n00:08:52.620 --> 00:08:54.560\nJoin a computer to the domain.\n\n191\n00:08:54.560 --> 00:08:59.183\nWe get that option up at the domain level,\nbecause that's a domain-related task as\n\n192\n00:08:59.183 --> 00:09:02.120\nopposed to an OU or\ncontainer-specific task.\n\n193\n00:09:02.120 --> 00:09:05.500\nSo we do have that, along with things\nlike managing group policy links and\n\n194\n00:09:05.500 --> 00:09:08.890\nsome of the others that may be\nunique to operating at the domain.\n\n195\n00:09:08.890 --> 00:09:13.230\nSo we can go in and do that or\nuse that option just if we wanted to.\n\n196\n00:09:13.230 --> 00:09:14.060\nAnd of course, remember,\n\n197\n00:09:14.060 --> 00:09:17.010\nwe do have the right to create\na custom task here as well.\n\n198\n00:09:17.010 --> 00:09:21.778\nClick Finish, and then we've now done the\ndelegation for both Lisa and Elizabeth.\n\n199\n00:09:21.778 --> 00:09:24.410\nSo, don't wanna create any\nsibling rivalry there.\n\n200\n00:09:24.410 --> 00:09:27.720\nEach one of them has their own\nspecific job-related task or\n\n201\n00:09:27.720 --> 00:09:29.410\nfunction we delegated out to.\n\n202\n00:09:29.410 --> 00:09:32.620\nAnd so we can go in and\ndo all sorts of different things.\n\n203\n00:09:32.620 --> 00:09:34.610\nAnd this may not be something\nwe do all that often, right?\n\n204\n00:09:34.610 --> 00:09:37.790\nThe reality is, this is something that,\nalthough it's a convenience, and\n\n205\n00:09:37.790 --> 00:09:41.130\nwe should view it that way, it's easy to\ngo in and say, I wanna give this right or\n\n206\n00:09:41.130 --> 00:09:44.260\nthis task to this user\nbased on a delegation.\n\n207\n00:09:44.260 --> 00:09:48.740\nIt is something that can\nbe complex to manage.\n\n208\n00:09:48.740 --> 00:09:52.160\nIf we say, I'm gonna delegate a whole\nbunch of stuff out to everybody and\n\n209\n00:09:52.160 --> 00:09:54.600\njust go crazy with it, documenting it and\n\n210\n00:09:54.600 --> 00:09:56.530\nkeeping track of it becomes\na bit of a challenge.\n\n211\n00:09:56.530 --> 00:09:58.740\nSo we just have to think about that and\nbe aware of that.\n\n212\n00:09:58.740 --> 00:10:02.070\nBut it is certainly something that\ncan be valuable, in a limited way,\n\n213\n00:10:02.070 --> 00:10:03.450\nas Cherokee was suggesting.\n\n214\n00:10:03.450 --> 00:10:06.295\nGreat example, right, or\na business case, a use scenario for\n\n215\n00:10:06.295 --> 00:10:08.150\nwhat we may want to enable this for.\n\n216\n00:10:08.150 --> 00:10:11.432\nPerhaps a remote office without\na lot of IT support on the ground.\n\n217\n00:10:11.432 --> 00:10:14.059\nAnd the ability to designate\nperhaps a power user, right, or\n\n218\n00:10:14.059 --> 00:10:16.735\nsomebody who's gonna have\nsome of those capabilities.\n\n219\n00:10:16.735 --> 00:10:20.775\nAnd rely on them or lean on them a little\nbit heavily there by delegating some roles\n\n220\n00:10:20.775 --> 00:10:24.595\nto them, or tasks, or rights, would\nbe a good way of thinking about this.\n\n221\n00:10:24.595 --> 00:10:28.105\nOne of the things you may see on this\nexam, you just wanna keep this in mind and\n\n222\n00:10:28.105 --> 00:10:30.455\nkinda think about the idea\nof how to study and\n\n223\n00:10:30.455 --> 00:10:32.795\nprepare around this knowledge would be.\n\n224\n00:10:32.795 --> 00:10:35.055\nWhile we have the traditional\nmultiple choice questions,\n\n225\n00:10:35.055 --> 00:10:39.190\ntraditional fill in the blank kinda stuff,\nwhere you click on something and say,\n\n226\n00:10:39.190 --> 00:10:41.450\nokay, this is the answer to\nthe problem in a hot spot.\n\n227\n00:10:41.450 --> 00:10:44.750\nAll the question types you're used to\nseeing, and I'm sure you've very familiar\n\n228\n00:10:44.750 --> 00:10:47.860\nwith, those of you that have done one or\nmore Microsoft exams.\n\n229\n00:10:47.860 --> 00:10:50.090\nThose of you that have not, well,\nboy, have we got a surprise for\n\n230\n00:10:50.090 --> 00:10:51.670\nyou when you start taking exams.\n\n231\n00:10:51.670 --> 00:10:55.230\nBut the other question type that will be\nprevalent or that you should be familiar\n\n232\n00:10:55.230 --> 00:10:59.080\nwith specifically would be something\nlike a case study or scenario.\n\n233\n00:10:59.080 --> 00:11:03.808\nAnd within those types, you may very\nwell get asked to either read through\n\n234\n00:11:03.808 --> 00:11:07.708\na scenario and say, okay,\nwhat would be the best approach?\n\n235\n00:11:07.708 --> 00:11:12.592\nAnd we talked about this in some of the\nother episodes we've done in other areas\n\n236\n00:11:12.592 --> 00:11:16.514\naround exam question types and\npointed out that a lot of times,\n\n237\n00:11:16.514 --> 00:11:19.630\nMicrosoft will test not\njust on problem solving.\n\n238\n00:11:19.630 --> 00:11:22.896\nThat's a fairly straightforward and\nsimple question to answer.\n\n239\n00:11:22.896 --> 00:11:25.310\nThere's a specific way to do something.\n\n240\n00:11:25.310 --> 00:11:29.181\nClick on the appropriate item, drag and\ndrop into the appropriate order,\n\n241\n00:11:29.181 --> 00:11:30.172\nwhat you would do.\n\n242\n00:11:30.172 --> 00:11:33.238\nFill in the blank on this particular\nPowerShell script with the cmdlet or\n\n243\n00:11:33.238 --> 00:11:35.910\nthe function in this area that\nbelongs to complete the string.\n\n244\n00:11:35.910 --> 00:11:39.210\nThere's all these ways we could ask that,\nbut that's fairly straightforward.\n\n245\n00:11:39.210 --> 00:11:42.120\nWhat's a little bit more complicated\nis when you have a couple of\n\n246\n00:11:42.120 --> 00:11:44.530\ndifferent options that get the job done.\n\n247\n00:11:44.530 --> 00:11:48.180\nBut they ask you, in one way or another,\nto choose the one with the least\n\n248\n00:11:48.180 --> 00:11:51.980\nadministrative requirements or\nthe least administrative overhead, or\n\n249\n00:11:51.980 --> 00:11:54.690\none that will be the most\nefficient at getting the job done.\n\n250\n00:11:54.690 --> 00:11:58.176\nMeaning, perhaps, the least number\nof steps, or the one that would\n\n251\n00:11:58.176 --> 00:12:02.465\nrequire the least follow-up to ensure and\nmaintain that it's going the right way.\n\n252\n00:12:02.465 --> 00:12:04.295\nThere's a lot of ways we\ncould ask those questions.\n\n253\n00:12:04.295 --> 00:12:08.275\nI'm just pointing out to you that there's\nalways more than one way to solve\n\n254\n00:12:08.275 --> 00:12:09.918\na troubleshooting scenario or\n\n255\n00:12:09.918 --> 00:12:13.604\nsolve a scenario-related item\nthat you're asked to address.\n\n256\n00:12:13.604 --> 00:12:16.660\nYou've gotta be thinking about not\njust what is the right answer, but\n\n257\n00:12:16.660 --> 00:12:20.030\nwhat is the best right answer when\nyou approach answering questions.\n\n258\n00:12:20.030 --> 00:12:23.280\nBecause, yeah, you and I both talked\nabout this before in episodes and\n\n259\n00:12:23.280 --> 00:12:24.220\nshows we've done.\n\n260\n00:12:24.220 --> 00:12:26.526\nWhere we've had experiences,\nboth in the real world and\n\n261\n00:12:26.526 --> 00:12:31.290\nin dealing with exam-related content,\nwhere you may be given or\n\n262\n00:12:31.290 --> 00:12:35.356\nsomehow offered multiple\nchances to deal with something.\n\n263\n00:12:35.356 --> 00:12:37.890\nAnd there may be up to four right answers,\nand\n\n264\n00:12:37.890 --> 00:12:40.720\nevery answer they show you is\nessentially the right way to do it.\n\n265\n00:12:40.720 --> 00:12:43.400\nThere's no wrong answer on the page,\n[LAUGH] in other words.\n\n266\n00:12:43.400 --> 00:12:46.220\nThe challenge will become,\nwhich one of those three, four,\n\n267\n00:12:46.220 --> 00:12:49.050\nfive, however many there are,\nwhich one is the most right?\n\n268\n00:12:49.050 --> 00:12:51.150\nAnd that's not the greatest\nway to describe that, but\n\n269\n00:12:51.150 --> 00:12:52.440\nthat's essentially what it boils down to,\nright?\n\n270\n00:12:52.440 --> 00:12:53.230\n&gt;&gt; What it is, yeah.\n\n271\n00:12:53.230 --> 00:12:55.960\n&gt;&gt; It's just a question of, hey,\nI've got three or four ways to do this.\n\n272\n00:12:55.960 --> 00:13:00.550\nWhich one will get the job done, but do\nit within the parameters of the scenario?\n\n273\n00:13:00.550 --> 00:13:04.905\nLeast administrative requirements,\nless costly, least amount of time.\n\n274\n00:13:04.905 --> 00:13:07.546\nThere's all these things they may\nask you to validate or verify.\n\n275\n00:13:07.546 --> 00:13:09.899\nYou've gotta be thinking not just,\nis it right, but\n\n276\n00:13:09.899 --> 00:13:12.420\nis it right given the scenario or\nthe constraints?\n\n277\n00:13:12.420 --> 00:13:13.840\nAnd that's something you\njust gotta just stop and\n\n278\n00:13:13.840 --> 00:13:15.480\nponder a little bit and\nthink about, right?\n\n279\n00:13:15.480 --> 00:13:19.440\nYou hear me talk a lot about PowerShell\nin many of our demonstrations,\n\n280\n00:13:19.440 --> 00:13:21.260\nmany of our discussions, many episodes.\n\n281\n00:13:21.260 --> 00:13:24.140\nBecause I'm not trying to push you\nto use PowerShell, well, I am, but\n\n282\n00:13:24.140 --> 00:13:25.200\nthat's beside the point.\n\n283\n00:13:25.200 --> 00:13:28.806\nBut aside from that, I'm trying to show\nyou alternate ways to get things done.\n\n284\n00:13:28.806 --> 00:13:31.737\nAnd I'll often reference\nthe older line command tools that\n\n285\n00:13:31.737 --> 00:13:35.432\nPowerShell is essentially trying to\naugment or perhaps even replace, and\n\n286\n00:13:35.432 --> 00:13:38.428\nthe GUI, and show you multiple\nways to do the same thing.\n\n287\n00:13:38.428 --> 00:13:40.880\nBecause there's gotta be different\noptions available to you,\n\n288\n00:13:40.880 --> 00:13:44.680\nbecause maybe one won't work in\ncertain situations, maybe one will.\n\n289\n00:13:44.680 --> 00:13:49.110\nAnd if there's more than one way, you have\nto make the determination on the spot,\n\n290\n00:13:49.110 --> 00:13:49.980\njust like in the real world.\n\n291\n00:13:49.980 --> 00:13:52.560\nYou have to decide which console,\nwhich tool you're gonna use.\n\n292\n00:13:52.560 --> 00:13:56.060\nThere may not be a requirement to get the\njob done quickly from an administrative\n\n293\n00:13:56.060 --> 00:13:58.850\noverhead perspective every time you\ndo something in the real world.\n\n294\n00:13:58.850 --> 00:14:02.092\nBut won't your boss be happier with you\nif you get it done in half the time and\n\n295\n00:14:02.092 --> 00:14:03.543\nget it done right the first time?\n\n296\n00:14:03.543 --> 00:14:04.770\nI'm sure they will.\n\n297\n00:14:04.770 --> 00:14:06.800\nAnd Microsoft's trying to validate and\ntest for\n\n298\n00:14:06.800 --> 00:14:09.260\nthat thought process in\nmany of the questions.\n\n299\n00:14:09.260 --> 00:14:12.400\nSo, just reminding you of that and showing\nyou with something very straightforward\n\n300\n00:14:12.400 --> 00:14:15.260\nand simple that there may be more\nthan one way to approach this, and\n\n301\n00:14:15.260 --> 00:14:17.720\nto keep that in mind as you\nthink through the logic.\n\n302\n00:14:17.720 --> 00:14:18.630\nYeah.\n&gt;&gt; So Adam,\n\n303\n00:14:18.630 --> 00:14:20.320\nyou just showed us how to go ahead and\n\n304\n00:14:20.320 --> 00:14:24.190\nperform that delegation of control for\nuser and group accounts.\n\n305\n00:14:24.190 --> 00:14:27.449\nBut what should we know\nabout computer accounts?\n\n306\n00:14:27.449 --> 00:14:29.888\n&gt;&gt; With regards to-\n&gt;&gt; Securing-\n\n307\n00:14:29.888 --> 00:14:31.560\n&gt;&gt; Cuz that's kind of a broad, open, well,\n\n308\n00:14:31.560 --> 00:14:32.678\nyou should know [CROSSTALK].\n\n309\n00:14:32.678 --> 00:14:33.413\n&gt;&gt; There are a lot of things.\n\n310\n00:14:33.413 --> 00:14:35.578\nAre there different types\nof computer accounts?\n\n311\n00:14:35.578 --> 00:14:37.399\n&gt;&gt; They're good to give as gifts,\nthey make nice housewarming presents.\n\n312\n00:14:37.399 --> 00:14:40.648\nThey're very warm and\nsnuggly when you hang out with them.\n\n313\n00:14:40.648 --> 00:14:41.900\n&gt;&gt; Make great pets, yeah.\n\n314\n00:14:41.900 --> 00:14:42.690\n&gt;&gt; They make good pets.\n\n315\n00:14:42.690 --> 00:14:44.770\nThere's not a lot of care and\nfeeding involved.\n\n316\n00:14:44.770 --> 00:14:48.070\nSo I'm thinking maybe specifically, you're\nasking about something we mentioned, which\n\n317\n00:14:48.070 --> 00:14:51.047\nwould be maybe how we deal with trust\nrelationships in computer accounts, right?\n\n318\n00:14:51.047 --> 00:14:53.599\nWould that be I'm thinking\nwhere we should take that?\n\n319\n00:14:53.599 --> 00:14:54.220\n&gt;&gt; Sure.\n&gt;&gt; Well, let me put it this way.\n\n320\n00:14:54.220 --> 00:14:55.840\nI'm gonna take that\ncomment in that direction,\n\n321\n00:14:55.840 --> 00:14:57.290\nwhether that was what you meant or not.\n\n322\n00:14:57.290 --> 00:15:00.100\nSo let's talk about computer\naccounts really quickly.\n\n323\n00:15:00.100 --> 00:15:03.640\nTalk about what we need to know about them\nfrom, hey, if we need to reset them and\n\n324\n00:15:03.640 --> 00:15:06.390\nor disable them, how do we deal with that?\n\n325\n00:15:06.390 --> 00:15:08.210\nAnd let's also make sure we\nknow about service accounts.\n\n326\n00:15:08.210 --> 00:15:10.800\nCuz we're gonna talk about managed\nservice accounts as part of that in\n\n327\n00:15:10.800 --> 00:15:11.320\na minute or two.\n\n328\n00:15:11.320 --> 00:15:14.180\nSo join me here, or\njoin me back here, if you will.\n\n329\n00:15:14.180 --> 00:15:15.878\nSo I just changed our focus a little bit.\n\n330\n00:15:15.878 --> 00:15:20.710\nI just simply deselected the Users\ncontainer we were in in the domain area,\n\n331\n00:15:20.710 --> 00:15:24.099\nand I selected the Computers\ncontainer right here.\n\n332\n00:15:24.099 --> 00:15:27.052\nAnd so you can see we have a premade\nlist of computer accounts that\n\n333\n00:15:27.052 --> 00:15:29.576\nare usually present in most\nof our demo environments.\n\n334\n00:15:29.576 --> 00:15:30.896\nThey're sitting there, and\n\n335\n00:15:30.896 --> 00:15:34.606\nto create a computer account really\ndoesn't take very much, just right-click.\n\n336\n00:15:34.606 --> 00:15:37.710\nIt's one of the options\nunder the New object list.\n\n337\n00:15:37.710 --> 00:15:44.260\nGo in, and we'll choose new computer, and\nwe'll give our computer account a name.\n\n338\n00:15:44.260 --> 00:15:45.871\nSo let's go in and do this.\n\n339\n00:15:45.871 --> 00:15:50.652\nWe'll call it Cher1, so we'll call it,\nor maybe, should we call it Lisa1?\n\n340\n00:15:50.652 --> 00:15:51.760\nNo, we already have Lisa something.\n\n341\n00:15:51.760 --> 00:15:53.871\nWe'll call it Cher1 for Cherokee, right?\n\n342\n00:15:53.871 --> 00:15:56.475\nSince you asked the question,\nwe'll make it a Cherokee computer account.\n\n343\n00:15:56.475 --> 00:15:58.556\nAll right, so we're gonna go do that,\nwe'll just give it a name.\n\n344\n00:15:58.556 --> 00:16:01.490\nWe're not gonna pre-stage it or\nmake it a manage computer account or\n\n345\n00:16:01.490 --> 00:16:05.010\nsomething like that with a GWid cuz I\ndon't have a pre-made GWid that I know.\n\n346\n00:16:05.010 --> 00:16:08.850\nI can associate it with this, this gets\ninto the conversation around setting up\n\n347\n00:16:08.850 --> 00:16:12.910\ncomputer accounts ahead of time for\nthings like system center config manager.\n\n348\n00:16:12.910 --> 00:16:14.560\nSo we can pre-stage the account,\n\n349\n00:16:14.560 --> 00:16:18.340\ndo an image load to it with the operating\nsystem deployment feature set, and\n\n350\n00:16:18.340 --> 00:16:21.160\nthen reference that computer and\nmake sure it gets imaged the right way.\n\n351\n00:16:21.160 --> 00:16:24.060\nSo we're not gonna worry about that for\nnow, that's another conversation,\n\n352\n00:16:24.060 --> 00:16:25.410\nanother time, another set of topics.\n\n353\n00:16:25.410 --> 00:16:29.280\nBut this is a managed computer,\ndesignation in the GWid we would have to\n\n354\n00:16:29.280 --> 00:16:33.540\nprovide is four, so we'll just leave\nthat blank for now, finish that up and\n\n355\n00:16:33.540 --> 00:16:34.560\nwe've got a computer account.\n\n356\n00:16:34.560 --> 00:16:35.660\nVery straightforward.\n\n357\n00:16:35.660 --> 00:16:38.580\nNow, the computer has not been created.\n\n358\n00:16:38.580 --> 00:16:41.050\nThere's really no computer per se,\nthat backs this account.\n\n359\n00:16:41.050 --> 00:16:43.930\nThis is just an object right\nnow with no substance.\n\n360\n00:16:43.930 --> 00:16:46.690\nBut any of the accounts\nthat are here that actually\n\n361\n00:16:46.690 --> 00:16:51.355\ndo represent machines that are active,\nthe plaid VM01 machine, for instance.\n\n362\n00:16:51.355 --> 00:16:55.265\nI have that sitting right over here, so\nyou could see this is actually a live\n\n363\n00:16:55.265 --> 00:16:57.815\nmachine that I'm demoing with,\nand I have available.\n\n364\n00:16:57.815 --> 00:17:01.463\nSo, any of these that are part of the\ndomain that have been joined that actually\n\n365\n00:17:01.463 --> 00:17:04.909\nare computers that have been created,\njoined to the domain, logged in.\n\n366\n00:17:04.909 --> 00:17:07.619\nHave not only a computer\nwith this account, but\n\n367\n00:17:07.619 --> 00:17:11.297\nthey have a trust relationship\nassociated with this domain.\n\n368\n00:17:11.297 --> 00:17:13.827\nSpecifically with the domain\ncontroller I'm on right now.\n\n369\n00:17:13.827 --> 00:17:15.177\nCuz they become a member of the domain,\n\n370\n00:17:15.177 --> 00:17:19.467\nand they are gonna be treated like a user\nobject, but just a computer object.\n\n371\n00:17:19.467 --> 00:17:24.700\nAnd so, when we go in and we choose to\ndisable the account, we can prevent\n\n372\n00:17:24.700 --> 00:17:28.740\nthe computer account from being used to\nlogin from and to allow users to use it.\n\n373\n00:17:28.740 --> 00:17:32.430\nSo that's pretty straightforward,\ndisable and enable, very easy to do.\n\n374\n00:17:32.430 --> 00:17:36.000\nWe can shut the computer account off in\nother words for a period of time, but\n\n375\n00:17:36.000 --> 00:17:37.540\nnot delete it by disabling it.\n\n376\n00:17:37.540 --> 00:17:38.390\nWe can delete it.\n\n377\n00:17:38.390 --> 00:17:41.740\nWe can remove the account, and\nwhen we do that the account is gone.\n\n378\n00:17:41.740 --> 00:17:43.120\nI'm not gonna delete one that exists,\n\n379\n00:17:43.120 --> 00:17:47.100\nbut if I delete the share one account,\nthat account is gone.\n\n380\n00:17:47.100 --> 00:17:49.860\nI could recreate that account\nwith the same name but\n\n381\n00:17:49.860 --> 00:17:52.947\nit'll have a separate unique\nidentifier once I do that.\n\n382\n00:17:52.947 --> 00:17:56.227\nAnd then,\nif i choose to disable an account, and\n\n383\n00:17:56.227 --> 00:18:00.790\nlet me not disable one that is active\nright now cuz that would be bad.\n\n384\n00:18:00.790 --> 00:18:02.530\nBut let me disable this account.\n\n385\n00:18:02.530 --> 00:18:05.900\nSays, prevent users on that computer from\nlogging into the domain, as I told you.\n\n386\n00:18:05.900 --> 00:18:07.310\nSure, lets disable.\n\n387\n00:18:07.310 --> 00:18:08.225\nVery straightforward.\n\n388\n00:18:08.225 --> 00:18:11.329\nThe disable icon, it's a little\nhard to see but the icon changes,\n\n389\n00:18:11.329 --> 00:18:14.870\nthere's a circle at the lower right\nwith a little arrow pointing down.\n\n390\n00:18:14.870 --> 00:18:17.110\nThat indicates the account\nhas been disabled.\n\n391\n00:18:17.110 --> 00:18:20.190\nBut if I wanna re-enable the account,\nright click and re-enable it.\n\n392\n00:18:20.190 --> 00:18:22.360\nIt's very straightforward to do this,\nas well.\n\n393\n00:18:23.670 --> 00:18:25.733\nGo ahead and tell me what you were\ngonna say while I [CROSSTALK]\n\n394\n00:18:25.733 --> 00:18:27.338\n&gt;&gt; Is that a common thing you do,\n\n395\n00:18:27.338 --> 00:18:30.150\nis go around breaking trusts, Adam?\n\n396\n00:18:30.150 --> 00:18:32.140\n&gt;&gt; No.\n&gt;&gt; [LAUGH]\n\n397\n00:18:32.140 --> 00:18:34.860\n&gt;&gt; Because I'm a trustworthy individual.\n\n398\n00:18:34.860 --> 00:18:35.760\nSo no, I do not.\n\n399\n00:18:35.760 --> 00:18:37.110\n&gt;&gt; Okay.\n&gt;&gt; Thank you for asking.\n\n400\n00:18:37.110 --> 00:18:38.090\nWould you like a reference?\n\n401\n00:18:38.090 --> 00:18:38.910\nI can give you one.\n&gt;&gt; [LAUGH]\n\n402\n00:18:38.910 --> 00:18:40.430\n&gt;&gt; Lisa will tell you nice things about\n\n403\n00:18:40.430 --> 00:18:41.810\nme, so will Elizabeth.\n\n404\n00:18:41.810 --> 00:18:45.880\nAll right, so I have disabled and\nre-enabled an account, I've deleted one.\n\n405\n00:18:45.880 --> 00:18:47.607\nVery, very easy to do.\n\n406\n00:18:47.607 --> 00:18:52.277\nBut during the time where I disable an\naccount and re-enable it, and/or perhaps,\n\n407\n00:18:52.277 --> 00:18:56.640\nremove the account and then put it back\nthe way I did with the share one account.\n\n408\n00:18:56.640 --> 00:18:58.260\nIf I was to recreate one.\n\n409\n00:18:58.260 --> 00:19:01.430\nCertainly I am modifying the properties\nof this account and during\n\n410\n00:19:01.430 --> 00:19:04.910\nthe time where I'm doing this, especially\nif I delete one and then recreate it.\n\n411\n00:19:04.910 --> 00:19:08.096\nWhen I delete it, it's gone, but\nif i disable it and I re-enable it,\n\n412\n00:19:08.096 --> 00:19:09.561\nnormally nothing bad happens.\n\n413\n00:19:09.561 --> 00:19:14.132\nBut on occasion, I could wind up\nsomehow corrupting, or perhaps damaging\n\n414\n00:19:14.132 --> 00:19:18.640\nthe trust relationship between\nthe domain controller and this account.\n\n415\n00:19:18.640 --> 00:19:21.720\nI'm not saying it happens,\nit happens often, but there are cases,\n\n416\n00:19:21.720 --> 00:19:24.560\nwe see it in our demo\nenvironments from time to time.\n\n417\n00:19:24.560 --> 00:19:26.130\nWe certainly see it in the real world.\n\n418\n00:19:26.130 --> 00:19:29.660\nWhere a computer or account could become\ncorrupted for a variety of reasons.\n\n419\n00:19:29.660 --> 00:19:33.910\nAnd when it does, the trust relationship\nthat links it to the domain controller or\n\n420\n00:19:33.910 --> 00:19:36.240\nthe domain may become compromised.\n\n421\n00:19:36.240 --> 00:19:39.390\nAnd so, we often will try to\nlog in from that computer and\n\n422\n00:19:39.390 --> 00:19:43.420\nyou get that error or that message that\nshows up on the screen where it says, hey,\n\n423\n00:19:43.420 --> 00:19:46.510\nthe trust relationship is no good,\nessentially something's wrong.\n\n424\n00:19:46.510 --> 00:19:49.960\nWe can't allow logons from this account,\nand you're gonna have to fix this or\n\n425\n00:19:49.960 --> 00:19:52.180\nsomehow go back and deal with it.\n\n426\n00:19:52.180 --> 00:19:56.404\nAnd a lot of times what will happen is,\nif you've done this and\n\n427\n00:19:56.404 --> 00:20:01.035\nyou have had to do troubleshooting or\nto remediate this in some way,\n\n428\n00:20:01.035 --> 00:20:04.710\nyou may go in and\nunjoin the computer from the domain.\n\n429\n00:20:04.710 --> 00:20:08.194\nAnd then rejoin it, essentially recreating\nthe computer account in the process,\n\n430\n00:20:08.194 --> 00:20:09.997\nreestablishing the trust relationship.\n\n431\n00:20:09.997 --> 00:20:14.090\nBut normally that will work and normally\nthat's, although it's a little bit time\n\n432\n00:20:14.090 --> 00:20:16.950\nintensive, will solve\nthe problem more often than not.\n\n433\n00:20:16.950 --> 00:20:18.930\nBut there's another way to\ndeal with this as well.\n\n434\n00:20:18.930 --> 00:20:22.688\nWe can use PowerShell to\nattempt the same thing.\n\n435\n00:20:22.688 --> 00:20:25.990\nI'll just bring up one of my\ntwo PowerShell instances here.\n\n436\n00:20:25.990 --> 00:20:30.600\nAnd we can use the test computer\nsecure channel commandlet\n\n437\n00:20:30.600 --> 00:20:31.970\nwith a repair parameter.\n\n438\n00:20:31.970 --> 00:20:35.590\nTo achieve the same end results we\nhave to provide a domain credential\n\n439\n00:20:35.590 --> 00:20:40.900\nthat can indeed go in and repair and\nperhaps modify the trust relationship.\n\n440\n00:20:40.900 --> 00:20:43.770\nI just brought up the get help\ncommandlet with this commandlet so\n\n441\n00:20:43.770 --> 00:20:46.810\nyou can take a look at the help file\nin case you're not familiar with this.\n\n442\n00:20:46.810 --> 00:20:50.400\nBut, test computer secure channel,\ngives us a little description.\n\n443\n00:20:50.400 --> 00:20:52.230\nVerifies the channel between\nthe local computer and\n\n444\n00:20:52.230 --> 00:20:53.900\nits domain is working correctly.\n\n445\n00:20:53.900 --> 00:20:55.960\nChecks the status of\nthe trust relationships.\n\n446\n00:20:55.960 --> 00:20:59.180\nIf it fails, we can use the repair\nparameter to try to re-establish this.\n\n447\n00:20:59.180 --> 00:21:02.560\nSo you would run this from the computer\nand question that's having a problem\n\n448\n00:21:02.560 --> 00:21:06.770\nwith the appropriate administrative\ncredential, the domain admin credential.\n\n449\n00:21:06.770 --> 00:21:09.620\nAnd assuming you are able to\nsuccessfully communicate and\n\n450\n00:21:09.620 --> 00:21:11.600\nvalidate the relationship, it's all good.\n\n451\n00:21:11.600 --> 00:21:15.440\nBut if not, you have a repair option and\nthis would be another way to do this.\n\n452\n00:21:15.440 --> 00:21:19.710\nAnd so, the commandlet,\nlet me just mark this so you can see.\n\n453\n00:21:19.710 --> 00:21:21.269\nWhoops, hold on one second.\n\n454\n00:21:25.429 --> 00:21:26.460\nTry this one more time.\n\n455\n00:21:26.460 --> 00:21:28.150\nHold on, that was, there we go.\n\n456\n00:21:28.150 --> 00:21:34.400\nThat was a commandlet from\na different PowerShell.\n\n457\n00:21:34.400 --> 00:21:37.870\nCommand that I did not want, let me just\nmodify this, give me just one second,\n\n458\n00:21:37.870 --> 00:21:38.640\nlet me get rid of that.\n\n459\n00:21:38.640 --> 00:21:43.950\nI did not mean for that to happen,\nwhat I wanted to do was this.\n\n460\n00:21:43.950 --> 00:21:49.385\nOkay, so, let me get over here, and let's.\n\n461\n00:21:50.650 --> 00:21:54.270\n&gt;&gt; But ultimately, what we're trying\nto do is just resetting that trust and\n\n462\n00:21:54.270 --> 00:21:56.660\nattempting to repair it.\n\n463\n00:21:56.660 --> 00:21:58.060\nYeah, let me just put this back so\n\n464\n00:21:58.060 --> 00:22:00.500\nwe could see it without all\nthe crazy stuff in there.\n\n465\n00:22:00.500 --> 00:22:04.380\nSo you would type in credential.\n\n466\n00:22:04.380 --> 00:22:11.190\nIf I can spell correctly,\nand then, ED, there we go.\n\n467\n00:22:11.190 --> 00:22:14.147\nThe credential, and then you would put\nin whatever the domain credential is.\n\n468\n00:22:14.147 --> 00:22:17.800\nSo the domain name, right, practice labs.\n\n469\n00:22:17.800 --> 00:22:21.030\nThe name of the domain administrator,\nin this case just administrator.\n\n470\n00:22:22.410 --> 00:22:26.859\nAnd then with the repair parameter,\nright there.\n\n471\n00:22:26.859 --> 00:22:30.197\nCan we go full screen just because\nI'm covering half of what I'm typing?\n\n472\n00:22:30.197 --> 00:22:32.345\nYou'll see right there, if I do that,\n\n473\n00:22:32.345 --> 00:22:37.040\nrun from the machine in question that's\nhaving me to shoot to attempt the repair.\n\n474\n00:22:37.040 --> 00:22:39.382\nWe'll be able to go ahead.\n\n475\n00:22:39.382 --> 00:22:42.781\nAssuming that the pair is successful,\nwe'll be able to force a reset and\n\n476\n00:22:42.781 --> 00:22:46.017\nrepair on the trust relationship\nbetween the local machine- let's\n\n477\n00:22:46.017 --> 00:22:49.672\njust call it workstation 1,\nhypothetically, and the domain controller.\n\n478\n00:22:49.672 --> 00:22:53.780\n&gt;&gt; All right, so you said,\nassuming that repair works successfully.\n\n479\n00:22:53.780 --> 00:22:57.890\nIs there a situation or what can we\ndo if it doesn't work successfully?\n\n480\n00:22:57.890 --> 00:22:59.129\n&gt;&gt; Then we call you and ask you to fix it.\n\n481\n00:22:59.129 --> 00:23:03.020\n&gt;&gt; [LAUGH]\n&gt;&gt; There are a lot of variables here.\n\n482\n00:23:03.020 --> 00:23:05.080\nBut I mean it usually will work,\nbut you never know for sure.\n\n483\n00:23:05.080 --> 00:23:07.495\n&gt;&gt; I know how I would do it,\njust an easy old tried and true way.\n\n484\n00:23:07.495 --> 00:23:11.700\nWell, you never know for sure that it will\nor will not work until you try, right?\n\n485\n00:23:11.700 --> 00:23:15.470\nAnd if this doesn't work, you could as we\nsuggested and as I started out by talking\n\n486\n00:23:15.470 --> 00:23:19.130\nabout, you could go in and remove\nthe computer account from the domain.\n\n487\n00:23:19.130 --> 00:23:20.280\nSo you'd go to the domain controller,\n\n488\n00:23:20.280 --> 00:23:22.140\ndelete it like we did with\nthe Share One account.\n\n489\n00:23:22.140 --> 00:23:25.432\nYou would then go to the machine or\nyou're already on the machine in theory if\n\n490\n00:23:25.432 --> 00:23:28.425\nyou're doing this from the local\nmachine that's having a problem.\n\n491\n00:23:28.425 --> 00:23:31.054\nYou would have to forcibly\ndisjoin it from the domain,\n\n492\n00:23:31.054 --> 00:23:33.810\nyou would do that with\nthe appropriate credential.\n\n493\n00:23:33.810 --> 00:23:37.720\nYou would restart that machine, put it\nback in a work group, put it back into\n\n494\n00:23:37.720 --> 00:23:41.920\nthe domain, restart it again and assuming\nthat that communication didn't work well.\n\n495\n00:23:41.920 --> 00:23:45.542\nThat would solve the problem if repair for\nsome reason did not.\n\n496\n00:23:45.542 --> 00:23:47.290\nBut there may be underlying issues.\n\n497\n00:23:47.290 --> 00:23:51.446\nThere could be a communication problem\nbecause maybe a service is not running.\n\n498\n00:23:51.446 --> 00:23:55.056\nAnd you're looking at the services\nMMC on the local machine to establish\n\n499\n00:23:55.056 --> 00:23:56.950\nwhether the services are available or\n\n500\n00:23:56.950 --> 00:24:00.760\nnot Would be a good idea because they\ncould just be a legitimate issue there.\n\n501\n00:24:00.760 --> 00:24:02.462\n&gt;&gt; Sure.\n&gt;&gt; And something may be going on and\n\n502\n00:24:02.462 --> 00:24:05.282\nthat could get in the way of\nthe repair even though the repair would\n\n503\n00:24:05.282 --> 00:24:06.240\nnormally work.\n\n504\n00:24:06.240 --> 00:24:10.020\nSo something like that would\nprobably be a troubleshooting step.\n\n505\n00:24:10.020 --> 00:24:13.469\nIntermediate between going and\njust destroying the computer account and\n\n506\n00:24:13.469 --> 00:24:16.427\nforcefully resetting it, and\ngiving up on the repair option.\n\n507\n00:24:16.427 --> 00:24:19.146\nBut there's a lot of different\nvariables that could go into hey,\n\n508\n00:24:19.146 --> 00:24:20.360\nwhy is it not working.\n\n509\n00:24:20.360 --> 00:24:24.670\nAnd we'd have to be willing to be a little\nflexible in troubleshooting on the spot in\n\n510\n00:24:24.670 --> 00:24:25.820\nreal time to figure it out.\n\n511\n00:24:25.820 --> 00:24:29.701\nBut assuming we're willing to do that,\nthere should not be an issue that we can't\n\n512\n00:24:29.701 --> 00:24:33.208\novercome, let's put it that way,\nby using one or more of these cmdlets.\n\n513\n00:24:33.208 --> 00:24:34.090\nAll right, so we've gone through.\n\n514\n00:24:34.090 --> 00:24:38.730\nWe've talked about one of\nthe ways in which we can\n\n515\n00:24:38.730 --> 00:24:40.776\nprovide a little additional detail and\n\n516\n00:24:40.776 --> 00:24:45.030\na little bit of additional insight\ninto how we can reset a trust account.\n\n517\n00:24:45.030 --> 00:24:47.650\nOr at least reset this trust\nrelationship if necessary.\n\n518\n00:24:47.650 --> 00:24:48.590\nGood to know that.\n\n519\n00:24:48.590 --> 00:24:50.760\nProbably good to know\nthe PowerShell cmdlet for\n\n520\n00:24:50.760 --> 00:24:54.450\nthat as opposed to the old tried and\ntrue way, like Cherokee was suggesting.\n\n521\n00:24:54.450 --> 00:24:58.150\nWhere we can delete the account as I\nshowed you and then forcibly reset it.\n\n522\n00:24:58.150 --> 00:25:01.060\nIt would be good to be able to\nshow some prowess in PowerShell\n\n523\n00:25:01.060 --> 00:25:02.310\naround commands like this if asked.\n\n524\n00:25:02.310 --> 00:25:04.284\nSo just suggesting you\nwanna take note of that.\n\n525\n00:25:04.284 --> 00:25:06.460\nAll right, so\nwe've talked through all this.\n\n526\n00:25:06.460 --> 00:25:08.350\nSpeaking of accounts and\ncomputer accounts and\n\n527\n00:25:08.350 --> 00:25:11.270\nresetting, we wanted to talk\nabout service accounts as well.\n\n528\n00:25:11.270 --> 00:25:14.150\nThere are traditionally and I've just\ngot some notes on service accounts,\n\n529\n00:25:14.150 --> 00:25:17.130\nlittle bit easier to talk about them\nby putting them up quickly than it is\n\n530\n00:25:17.130 --> 00:25:18.795\nto walk through each one with you.\n\n531\n00:25:18.795 --> 00:25:21.320\nIf we can go full screen for just as\na second just to show these to you.\n\n532\n00:25:21.320 --> 00:25:23.190\nWe have several built-in\nservice account types.\n\n533\n00:25:23.190 --> 00:25:26.880\nYou could see there are three of them\nthat we traditionally will reference.\n\n534\n00:25:26.880 --> 00:25:29.851\nI'm gonna show you two of the three\nof them in just a minute.\n\n535\n00:25:29.851 --> 00:25:32.737\nLocal system,\nlocal service network service and\n\n536\n00:25:32.737 --> 00:25:36.870\nyou can go into the services MMC that\nI was just mentioning a moment ago.\n\n537\n00:25:36.870 --> 00:25:38.570\nLook at any of the services there.\n\n538\n00:25:38.570 --> 00:25:41.370\nAnd see examples of most if not\nall of these service accounts.\n\n539\n00:25:41.370 --> 00:25:47.660\nSo let's just take a quick look at the\nControl Panel here, services MMC setup.\n\n540\n00:25:47.660 --> 00:25:50.350\nSomething like ADDS as a service, right?\n\n541\n00:25:50.350 --> 00:25:51.290\nWe bring this one up,\n\n542\n00:25:51.290 --> 00:25:54.630\nlook at the log on tab,\nyou'll see it's a local system account.\n\n543\n00:25:54.630 --> 00:25:58.152\nMany of those built-in services that\nrun automatically around roles and\n\n544\n00:25:58.152 --> 00:26:00.470\nfeatures will run as\na local system account.\n\n545\n00:26:00.470 --> 00:26:01.960\nSo we could see that there.\n\n546\n00:26:01.960 --> 00:26:03.750\nWe could change that designation.\n\n547\n00:26:03.750 --> 00:26:07.740\nSpecify another account if I wanna put\na different account in for some reason.\n\n548\n00:26:07.740 --> 00:26:12.100\nIf we go in and we choose one of these\nother ones, application identity,\n\n549\n00:26:12.100 --> 00:26:13.655\nfor instance, something like that.\n\n550\n00:26:13.655 --> 00:26:17.560\nWe'll see that this one is running\nas not a local system account but\n\n551\n00:26:17.560 --> 00:26:18.700\na local service account.\n\n552\n00:26:18.700 --> 00:26:21.518\nSecond type of the three\nwe often find built-in,\n\n553\n00:26:21.518 --> 00:26:23.480\nthe third one being\nthe network service type.\n\n554\n00:26:23.480 --> 00:26:24.838\nAnd we can see that this is specified.\n\n555\n00:26:24.838 --> 00:26:29.040\nThere's a password here we don't know what\nit is, controlled by the operating system.\n\n556\n00:26:29.040 --> 00:26:33.310\nWe don't really mess with that but\nagain we could modify that if necessary.\n\n557\n00:26:33.310 --> 00:26:36.945\nSo service accounts are often\ngonna be specified and determined.\n\n558\n00:26:36.945 --> 00:26:40.070\nBut we can even just look right here and\njust look at log on as.\n\n559\n00:26:40.070 --> 00:26:43.060\nSo we could see local system,\nlocal service.\n\n560\n00:26:43.060 --> 00:26:46.880\nWe can sort by this and right,\njust kinda see what's happening here.\n\n561\n00:26:46.880 --> 00:26:50.030\nAnd we can see there are some\nthat have network services,\n\n562\n00:26:50.030 --> 00:26:53.090\nwell, things like DHCP, for instance.\n\n563\n00:26:53.090 --> 00:26:56.010\nAlthough we don't use it very often,\nthe telephony service.\n\n564\n00:26:56.010 --> 00:26:59.520\nBut things that we do use without\nrealizing it all the time, the workstation\n\n565\n00:26:59.520 --> 00:27:03.660\nservice, Windows Remote Management,\nCryptography Services certainly.\n\n566\n00:27:03.660 --> 00:27:07.040\nA lot of these including\nRPC which is used for\n\n567\n00:27:07.040 --> 00:27:10.410\nremote connectivity and\ninteraction with the services and systems.\n\n568\n00:27:10.410 --> 00:27:12.730\nYou'll see these are logging on\nas a network service account.\n\n569\n00:27:12.730 --> 00:27:17.140\nSo we can easily go and see evidence of\nall three of these service account types.\n\n570\n00:27:17.140 --> 00:27:19.560\nThese are the old school\ntraditional service accounts.\n\n571\n00:27:19.560 --> 00:27:23.769\nIt's been around since the very beginning\nof the Windows operating systems.\n\n572\n00:27:23.769 --> 00:27:27.026\nYou go all the way back to Windows 95 and\neven back to NT4,\n\n573\n00:27:27.026 --> 00:27:29.290\nyou see service accounts like this.\n\n574\n00:27:29.290 --> 00:27:31.214\nAlthough the focus of permissions and\n\n575\n00:27:31.214 --> 00:27:35.250\nthe restriction that these accounts\noperate under has modified over time.\n\n576\n00:27:35.250 --> 00:27:38.163\nThe thought process around service\naccounts is age old, right.\n\n577\n00:27:38.163 --> 00:27:39.250\nThis is not new.\n\n578\n00:27:39.250 --> 00:27:43.270\nWe would create our own instances of\nservice accounts in many installations for\n\n579\n00:27:43.270 --> 00:27:44.970\nprograms over the years.\n\n580\n00:27:44.970 --> 00:27:48.760\nYou install, for instance, SharePoint or\nExchange, you have to create one or\n\n581\n00:27:48.760 --> 00:27:49.670\nmore service accounts.\n\n582\n00:27:49.670 --> 00:27:52.636\nFarm and admin accounts,\nthings of that nature, to do that.\n\n583\n00:27:52.636 --> 00:27:55.910\nSQL Server, when you stand up and\nuse SQL Server instances,\n\n584\n00:27:55.910 --> 00:27:59.670\nyou typically have one or more accounts\nthat are associated with administration.\n\n585\n00:27:59.670 --> 00:28:01.450\nAnd you can liken those\nto service accounts.\n\n586\n00:28:01.450 --> 00:28:03.850\nThey are given specific rights and\n\n587\n00:28:03.850 --> 00:28:07.280\nresponsibilities based on\nconfiguration at installation.\n\n588\n00:28:07.280 --> 00:28:10.569\nAnd they are traditionally starting out\nlife as normal accounts that are modified.\n\n589\n00:28:10.569 --> 00:28:13.095\nAnd somehow constrained\nto do certain things or\n\n590\n00:28:13.095 --> 00:28:17.010\nidentified by giving them rights and\nrole responsibilities that will allow them\n\n591\n00:28:17.010 --> 00:28:19.340\nto do certain things on\nbehalf of that service.\n\n592\n00:28:19.340 --> 00:28:23.220\nOr on behalf of those applications that\nuse one or more of those services.\n\n593\n00:28:23.220 --> 00:28:24.770\nSo that's not unusual.\n\n594\n00:28:24.770 --> 00:28:26.930\nAnd that thought process\nhas been around forever.\n\n595\n00:28:26.930 --> 00:28:31.360\nBut a new thought process that we have and\n\n596\n00:28:31.360 --> 00:28:35.280\nwe can make use of in\nServer 16 is this idea,\n\n597\n00:28:35.280 --> 00:28:38.210\nlet me just get here while we're talking,\nof managed service accounts.\n\n598\n00:28:38.210 --> 00:28:41.680\nYou can see in Active Directory users and\ncomputers.\n\n599\n00:28:41.680 --> 00:28:44.530\nI am in where we have been in and\n\n600\n00:28:44.530 --> 00:28:46.880\nout of in our demonstrations\nhere throughout the episode.\n\n601\n00:28:46.880 --> 00:28:48.683\nBut I've opened up a new container.\n\n602\n00:28:48.683 --> 00:28:51.566\nAnd you may not see this container\nif you're looking at this or\n\n603\n00:28:51.566 --> 00:28:54.350\nfollowing along, unless,\nand again, I'll remind you.\n\n604\n00:28:54.350 --> 00:28:57.250\nI've enabled the advanced features for\nyou to turn this on.\n\n605\n00:28:57.250 --> 00:29:00.180\nSo just make sure, if you're wondering,\nhey, why don't I see that,\n\n606\n00:29:00.180 --> 00:29:02.770\nmake sure you go in and turn on\nadvanced features and then you will.\n\n607\n00:29:02.770 --> 00:29:04.880\nFor you, when you look at it\nthe first time it'll be empty.\n\n608\n00:29:04.880 --> 00:29:07.090\nThere will not be any managed\nservice accounts there.\n\n609\n00:29:07.090 --> 00:29:08.264\nI've created several of them.\n\n610\n00:29:08.264 --> 00:29:11.052\nWe're gonna talk you through\nthe process of how we do this and\n\n611\n00:29:11.052 --> 00:29:13.130\nwhat we do to get these accounts in.\n\n612\n00:29:13.130 --> 00:29:15.255\nBut we can create managed\nservice accounts,\n\n613\n00:29:15.255 --> 00:29:18.410\nand/or group managed service accounts,\nby using PowerShell.\n\n614\n00:29:18.410 --> 00:29:20.770\nSo I'm gonna walk you through\nhow to do that in just a moment.\n\n615\n00:29:20.770 --> 00:29:25.440\nThe idea of a managed service account\nis a service account that's limited to\n\n616\n00:29:25.440 --> 00:29:28.820\nthe use of or\nuse on the machine where it is created.\n\n617\n00:29:28.820 --> 00:29:32.420\nHere in this case I'm creating it on this\ndomain controller, so I'm specifying\n\n618\n00:29:32.420 --> 00:29:36.340\nwill be used on this particular machine,\nonly available on this machine.\n\n619\n00:29:36.340 --> 00:29:40.270\nBut when we put the word group in front\nof it and make it what's called a GMSA,\n\n620\n00:29:40.270 --> 00:29:43.090\na Group Managed Service Account,\nas opposed to an MSA,\n\n621\n00:29:43.090 --> 00:29:44.530\na Managed Service Account.\n\n622\n00:29:44.530 --> 00:29:48.510\nWe designate the Managed Service Account\nin a specific way that enables us to\n\n623\n00:29:48.510 --> 00:29:53.240\ndecide, again, based on how we\ncreate it using a specific parameter\n\n624\n00:29:53.240 --> 00:29:57.680\nalong with the actual cmdlet to\ncreate the Managed Service Account.\n\n625\n00:29:57.680 --> 00:30:02.600\nWhen we use this parameter, which I'll\nshow you, we designate the group for\n\n626\n00:30:02.600 --> 00:30:04.210\nor the computer account or\n\n627\n00:30:04.210 --> 00:30:07.610\ngroups that are gonna be able to\nuse this Managed Service Account.\n\n628\n00:30:07.610 --> 00:30:09.206\nAnd we will then broaden its use and\n\n629\n00:30:09.206 --> 00:30:13.076\nmake it available potentially to multiple\nsystems or groups of users designated.\n\n630\n00:30:13.076 --> 00:30:16.050\nWe can actually create\na Group Managed Service Account for\n\n631\n00:30:16.050 --> 00:30:18.455\neither use by groups or\nby other computers.\n\n632\n00:30:18.455 --> 00:30:20.085\nWe're gonna take a look at how to do that.\n\n633\n00:30:20.085 --> 00:30:23.852\nSo I've got several examples here\nthat I just went in and created.\n\n634\n00:30:23.852 --> 00:30:25.242\nAnd the interesting thing about this is,\n\n635\n00:30:25.242 --> 00:30:29.142\nlet's just take a look at two of these\nbefore we actually go in and create them.\n\n636\n00:30:29.142 --> 00:30:30.272\nAll of them are listed here.\n\n637\n00:30:30.272 --> 00:30:33.652\nAnd as I said, when you create\nthem they will show up in here.\n\n638\n00:30:33.652 --> 00:30:36.252\nFirst of all you can notice they have\na different icon associated with them.\n\n639\n00:30:36.252 --> 00:30:38.992\nThey are service accounts so\nthey're not gonna be user accounts.\n\n640\n00:30:38.992 --> 00:30:40.624\nThey have the little service icon.\n\n641\n00:30:40.624 --> 00:30:44.245\nAnd if you look down here,\nI know it's kinda hard to see, but\n\n642\n00:30:44.245 --> 00:30:48.805\nthe service MMC icon for the services\nMMC Is two gears kind of interlocking.\n\n643\n00:30:48.805 --> 00:30:53.730\nAnd the same icon is used for the Managed\nService Accounts, two gears interlocking.\n\n644\n00:30:53.730 --> 00:30:57.890\nSo that's just a graphical\nuser interface design element.\n\n645\n00:30:57.890 --> 00:30:59.250\nBut I have four of these.\n\n646\n00:30:59.250 --> 00:31:03.170\nService 1 just as an example, I'm gonna go\nin here, right-click, go to Properties and\n\n647\n00:31:03.170 --> 00:31:03.840\nshow you something.\n\n648\n00:31:03.840 --> 00:31:08.050\nNow In order to see the Object,\nthe Security, and\n\n649\n00:31:08.050 --> 00:31:11.530\nthe Attribute Editor tabs,\nI've again turned on Advanced Features.\n\n650\n00:31:11.530 --> 00:31:15.120\nIf you disable the Advanced Features view,\nthese tabs are not there.\n\n651\n00:31:15.120 --> 00:31:16.680\nThey are filtered, you won't see them.\n\n652\n00:31:16.680 --> 00:31:20.400\nSo if you go in and look for them and\nare not seeing them, that's why.\n\n653\n00:31:20.400 --> 00:31:21.980\nI'm gonna go to the Attribute Editor\nhere real quick.\n\n654\n00:31:23.540 --> 00:31:25.810\nScroll down,\nthere's quite a number of attributes.\n\n655\n00:31:25.810 --> 00:31:29.470\nYou may not go through here very often and\ntake a look at them.\n\n656\n00:31:29.470 --> 00:31:32.290\nSo this may not be something\nyou're used to seeing.\n\n657\n00:31:32.290 --> 00:31:36.970\nBut when you take a look at the MSDS\ngroup MSA membership attribute.\n\n658\n00:31:36.970 --> 00:31:39.880\nLet's bring this over so you can see this.\n\n659\n00:31:39.880 --> 00:31:42.847\nAnd right now you'll see\nit is not set right there,\n\n660\n00:31:42.847 --> 00:31:46.448\nwhich means that this is not\na Group Managed Service Account.\n\n661\n00:31:46.448 --> 00:31:51.315\nIt has not been designated as one\nbecause I have not specified the group\n\n662\n00:31:51.315 --> 00:31:56.019\nand/or set of hosts, other machines\nthat will be granted the right\n\n663\n00:31:56.019 --> 00:31:59.335\nto use this as\na Group Managed Service Account.\n\n664\n00:31:59.335 --> 00:32:02.618\nSo that attribute not being\npopulated indicates that this\n\n665\n00:32:02.618 --> 00:32:04.370\nis a managed service account.\n\n666\n00:32:04.370 --> 00:32:09.002\nIt's local to this one machine, service 1\nin this case and, or service 1, rather,\n\n667\n00:32:09.002 --> 00:32:13.073\nit's local to domain controller,\nin this case plad-cd01 that I'm on.\n\n668\n00:32:13.073 --> 00:32:17.191\nAnd is not gonna be a group\nmanaged service account.\n\n669\n00:32:17.191 --> 00:32:19.700\nHowever, I go to service 3.\n\n670\n00:32:19.700 --> 00:32:24.313\nBring that up, one second,\nbring that up, go to properties,\n\n671\n00:32:24.313 --> 00:32:28.538\nattribute editor,\ncome down, same attribute.\n\n672\n00:32:28.538 --> 00:32:31.810\nLet me just extend this so\nyou can see this and\n\n673\n00:32:31.810 --> 00:32:34.440\ngo back up a little bit because\nI just shot right past it.\n\n674\n00:32:35.690 --> 00:32:40.420\nAnd what we will see, right up here,\nGroup MSA membership,\n\n675\n00:32:40.420 --> 00:32:46.180\nyou will see that, as I scroll over,\nthere is a value for Group MSA membership.\n\n676\n00:32:46.180 --> 00:32:49.120\nAnd, although, you can't really\nunderstand what the value is, right.\n\n677\n00:32:49.120 --> 00:32:54.970\nIt's this seemingly random string\nof numbers here that's generated.\n\n678\n00:32:54.970 --> 00:33:00.200\nThat is actually representing a group\nmembership that I put in there for\n\n679\n00:33:00.200 --> 00:33:01.170\ndomain guests.\n\n680\n00:33:01.170 --> 00:33:02.945\nAlthough, you can't tell what that is.\n\n681\n00:33:02.945 --> 00:33:05.510\nThere's no way to know that by\nlooking at the attribute here.\n\n682\n00:33:05.510 --> 00:33:08.220\nYou would have to just know what it is\nin the sense that you created it and\n\n683\n00:33:08.220 --> 00:33:09.780\nknow what you've assigned.\n\n684\n00:33:09.780 --> 00:33:14.460\nBut by populating this MSDS group\nMSA membership attribute, we have\n\n685\n00:33:14.460 --> 00:33:18.720\ndesignated this managed service account\nas a group managed service account.\n\n686\n00:33:18.720 --> 00:33:21.588\nNow, you can't edit even though\nwe have an edit option here,\n\n687\n00:33:21.588 --> 00:33:23.140\nyou cannot edit this attribute.\n\n688\n00:33:23.140 --> 00:33:26.443\nWhen you can try to edit it to see what\nthe actual value means and potentially\n\n689\n00:33:26.443 --> 00:33:30.430\nunderstand that, we're told there's no\nway to get into that attribute from here.\n\n690\n00:33:30.430 --> 00:33:32.630\nSo we don't have the ability\nto see that attribute and\n\n691\n00:33:32.630 --> 00:33:35.840\nedit it, other than simply as\na read-only item on this list.\n\n692\n00:33:35.840 --> 00:33:39.071\nI'm just showing you this so\nthat when I show you how to create this,\n\n693\n00:33:39.071 --> 00:33:42.305\nyou'll be able to understand where\nthat either group membership or\n\n694\n00:33:42.305 --> 00:33:45.610\nhost destination that I specified\nwinds up attached to the account.\n\n695\n00:33:45.610 --> 00:33:47.095\nBecause I'm going to show you\nhow to do this right now.\n\n696\n00:33:47.095 --> 00:33:49.325\nAll right, so\nwe have a couple of these already created.\n\n697\n00:33:49.325 --> 00:33:51.320\nLet's go in and\ntake a look at how we did this.\n\n698\n00:33:51.320 --> 00:33:55.685\nGotta go to PowerShell and let me\njust bring this down a little bit so\n\n699\n00:33:55.685 --> 00:33:56.865\nyou can see.\n\n700\n00:33:56.865 --> 00:33:58.435\nWas that you telling me you\nwanted to say something?\n\n701\n00:33:58.435 --> 00:34:00.930\nOr was that you just having\na twitchy little finger there.\n\n702\n00:34:00.930 --> 00:34:03.331\nWe gotta get those puppets that\nwe were talking about set up.\n\n703\n00:34:03.331 --> 00:34:05.561\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so lets take a look.\n\n704\n00:34:05.561 --> 00:34:08.867\nSo when we want to create\na managed service account,\n\n705\n00:34:08.867 --> 00:34:13.015\nwe use the new ADServiceAccount cmdlet so\nyou could see it there.\n\n706\n00:34:13.015 --> 00:34:13.535\nWe specify the name of the service.\n\n707\n00:34:13.535 --> 00:34:16.274\nYou could see, this is the command\nthat I used or the command string I\n\n708\n00:34:16.274 --> 00:34:19.655\nused to create the service 1 account that\nwas not a group managed service account.\n\n709\n00:34:19.655 --> 00:34:21.035\nI showed you this one already.\n\n710\n00:34:21.035 --> 00:34:22.895\nIt's just a managed service account.\n\n711\n00:34:22.895 --> 00:34:26.570\nSo I do this,\nspecify the DNS host name parameter.\n\n712\n00:34:26.570 --> 00:34:28.690\nWhat machine do I wanna create this on?\n\n713\n00:34:28.690 --> 00:34:31.130\nSo I'm specifying the fully\nqualified domain name for\n\n714\n00:34:31.130 --> 00:34:34.050\nthe domain controller,\nenable parameter $true.\n\n715\n00:34:34.050 --> 00:34:37.160\nSo I'm making this account enabled and\nsetting it up.\n\n716\n00:34:37.160 --> 00:34:40.130\nAnd so if I wanna not create service\n1 cuz I'll get an error if I do that.\n\n717\n00:34:40.130 --> 00:34:44.170\nBut let's say I create service 4\nbecause I don't think I have a 4 there.\n\n718\n00:34:44.170 --> 00:34:46.470\nLet's just be safe and do service 5.\n\n719\n00:34:46.470 --> 00:34:50.240\nWhen I do that, comes back right away,\nno error no concern, and\n\n720\n00:34:50.240 --> 00:34:55.630\nassuming that I come over here and you do\nhave to refresh this just so you know.\n\n721\n00:34:55.630 --> 00:35:00.490\nSo just highlight here to get the refresh\nand you'll see service 5 pops right in,\n\n722\n00:35:00.490 --> 00:35:03.800\nand you could see that\ndesignation right here, right?\n\n723\n00:35:03.800 --> 00:35:07.350\nAnd there's service 5 and\nwe could see that that was created.\n\n724\n00:35:07.350 --> 00:35:10.089\nSo that's how to create just\na managed service account, right.\n\n725\n00:35:10.089 --> 00:35:16.110\nNow, if I want to then go ahead and\nI wanna be able to do the following.\n\n726\n00:35:18.180 --> 00:35:20.970\nCreate a group managed service account.\n\n727\n00:35:20.970 --> 00:35:24.135\nAgain, I've already just pre-populated\nthat because as I just told you on service\n\n728\n00:35:24.135 --> 00:35:28.050\n3, as you saw me demo, I did create\na group managed service account,\n\n729\n00:35:28.050 --> 00:35:32.620\nspecified the guest or\nthe domain guest group as you can see.\n\n730\n00:35:32.620 --> 00:35:33.320\nSo I went in.\n\n731\n00:35:34.580 --> 00:35:39.020\nNew Id service account, same cmdlet,\nspecified different name obviously,\n\n732\n00:35:39.020 --> 00:35:43.470\nstill DNS hostname parameter, same host,\nstill enabled parameter true.\n\n733\n00:35:43.470 --> 00:35:46.756\nBut I added another parameter\nat the end which is,\n\n734\n00:35:46.756 --> 00:35:50.980\nas you can see here it's\nkind of wrapping around.\n\n735\n00:35:50.980 --> 00:35:56.882\nBut what I did was I added the following,\nwhere did that go?\n\n736\n00:35:56.882 --> 00:35:58.900\nDown, down, down, one second.\n\n737\n00:35:58.900 --> 00:36:00.414\nThere we go, okay.\n\n738\n00:36:00.414 --> 00:36:05.039\nPrinciples, I know it's hard to see,\nmaybe I can do this.\n\n739\n00:36:06.230 --> 00:36:11.430\nNope, I'll just do it this way so\nyou can go back and see.\n\n740\n00:36:11.430 --> 00:36:13.300\nThere, okay, yes, so\nI can just bring it up on the end.\n\n741\n00:36:13.300 --> 00:36:18.310\nSo you could see principles allowed to\nretrieve manage password is the parameter.\n\n742\n00:36:18.310 --> 00:36:22.149\nI used double quotes to enclose the name\nof the group in this case cuz it has\n\n743\n00:36:22.149 --> 00:36:23.180\na space.\n\n744\n00:36:23.180 --> 00:36:27.390\nDomain guests, I can put in whatever group\nI want that's gonna be given this right,\n\n745\n00:36:27.390 --> 00:36:29.930\nor a host name for another machine.\n\n746\n00:36:29.930 --> 00:36:33.500\nIf I wanna do multiple hosts, I could\nseparate them as comma separated values.\n\n747\n00:36:33.500 --> 00:36:36.370\nSo I could just list them and\nyou'll have commas separating them.\n\n748\n00:36:36.370 --> 00:36:40.780\nITProHost1, ITProHost2 or whatever.\n\n749\n00:36:40.780 --> 00:36:41.660\nPlatDM01, PlatSA01.\n\n750\n00:36:41.660 --> 00:36:44.950\nWhatever it may be,\nwe have different hosts we can provide.\n\n751\n00:36:44.950 --> 00:36:49.110\nBut by doing that, and populating\nthat attribute that I showed you\n\n752\n00:36:49.110 --> 00:36:52.800\nthat has that numerical string for\nthe group managed service account.\n\n753\n00:36:52.800 --> 00:36:56.470\nAnd I'm putting in a representation\nof this group or this host or\n\n754\n00:36:56.470 --> 00:36:58.020\nwhatever I would provide here.\n\n755\n00:36:58.020 --> 00:37:01.980\nAnd making this a group managed service\naccount by giving this, in this case,\n\n756\n00:37:01.980 --> 00:37:06.030\ndomain guest group or\nanother machine the right to retrieve and\n\n757\n00:37:06.030 --> 00:37:09.820\nmanage, in this case passwords for\nthis managed service account.\n\n758\n00:37:09.820 --> 00:37:13.360\nSo I'm enabling them to leverage and\nuse this service account.\n\n759\n00:37:13.360 --> 00:37:15.510\nSo this is how we create a group\nmanaged service account.\n\n760\n00:37:15.510 --> 00:37:18.940\nNow what I would suggest is\nthe following because again,\n\n761\n00:37:18.940 --> 00:37:23.420\nif you are not familiar with this,\ngreat way to think about this.\n\n762\n00:37:23.420 --> 00:37:26.750\nI'm just gonna get to the end of\nthe line here and delete this so\n\n763\n00:37:26.750 --> 00:37:29.220\nwe can just bring up\nthe help file real quick.\n\n764\n00:37:29.220 --> 00:37:31.620\nAlways good to look at the help file,\nright?\n\n765\n00:37:31.620 --> 00:37:35.195\nAnd so if we do get help, and\n\n766\n00:37:35.195 --> 00:37:39.235\nthen the name of our cmdlet,\nnew ADServiceAccount, in this case.\n\n767\n00:37:41.675 --> 00:37:43.865\nLove that auto tab completion feature.\n\n768\n00:37:43.865 --> 00:37:47.521\nYou've heard me often talk about the fact\nthat we can use the full parameter,\n\n769\n00:37:47.521 --> 00:37:51.064\nor detailed, or examples of different\nparameters at the end of our get help\n\n770\n00:37:51.064 --> 00:37:53.498\nrequest to see different\naspects of the help file.\n\n771\n00:37:53.498 --> 00:37:54.918\nFull gives you all that.\n\n772\n00:37:54.918 --> 00:37:59.210\nAnd so if you've done that or if you\nhaven't done that, if you wanna do that,\n\n773\n00:37:59.210 --> 00:38:02.990\nand read through the help file,\nyou can see some examples of usage.\n\n774\n00:38:02.990 --> 00:38:06.560\nYou can also see all\nthe information about the cmdlet,\n\n775\n00:38:06.560 --> 00:38:09.610\nall the parameters that\nI've been talking about.\n\n776\n00:38:09.610 --> 00:38:14.310\nConfirm, WhatIf, Trusted for\ndelegation, right?\n\n777\n00:38:14.310 --> 00:38:18.080\nYou could see search principal names,\nwe can publish the SPN and register it.\n\n778\n00:38:18.080 --> 00:38:20.670\nYou could see this is quite\nan extensive help file,\n\n779\n00:38:20.670 --> 00:38:25.620\nserver, same account name,\nquite a lot of things to be aware of here.\n\n780\n00:38:25.620 --> 00:38:28.100\nPrinciples allowed to delegate to account.\n\n781\n00:38:28.100 --> 00:38:29.880\nPrinciples allowed to retrieve.\n\n782\n00:38:29.880 --> 00:38:31.750\nAs you saw here, manage password.\n\n783\n00:38:31.750 --> 00:38:33.372\nThis is one of the parameters I used,\nright,\n\n784\n00:38:33.372 --> 00:38:34.968\nto create a group managed service account.\n\n785\n00:38:34.968 --> 00:38:38.300\nSo you wanna make sure that you're aware\nof this, and if you read it, specifies\n\n786\n00:38:38.300 --> 00:38:42.680\nmembership policy, persistence which\ncan use a group manage service account.\n\n787\n00:38:42.680 --> 00:38:46.160\nRight for group, it says for service to\nrun under a group managed service account,\n\n788\n00:38:46.160 --> 00:38:48.110\nthe system must be in the membership\npolicy of the account.\n\n789\n00:38:48.110 --> 00:38:52.182\nAnd you have to specify that as part\nof the parameter of the creation.\n\n790\n00:38:52.182 --> 00:38:53.750\nAll right, so\nyou need to read through this and\n\n791\n00:38:53.750 --> 00:38:57.230\nunderstand how this is done in\norder to use this properly.\n\n792\n00:38:57.230 --> 00:39:02.410\nSo going through, taking a look\nat how to create the account or\n\n793\n00:39:02.410 --> 00:39:04.120\nthe managed service accounts in this case.\n\n794\n00:39:04.120 --> 00:39:05.820\nAnd it's a fairly long help file.\n\n795\n00:39:05.820 --> 00:39:08.880\nAnd by the way, I get the fact you may not\nwanna parse through this in PowerShell.\n\n796\n00:39:08.880 --> 00:39:11.925\nI really do, it's not easiest place\nin the world to read the help file.\n\n797\n00:39:11.925 --> 00:39:15.510\nYou can go online and look for\nthe help online as well and\n\n798\n00:39:15.510 --> 00:39:16.820\nyou get the same information.\n\n799\n00:39:16.820 --> 00:39:20.361\nAnd the reason I like looking, no,\nyou cannot say something till I'm done.\n\n800\n00:39:20.361 --> 00:39:21.652\n&gt;&gt; [LAUGH]\n&gt;&gt; You're just gonna have to be patient\n\n801\n00:39:21.652 --> 00:39:22.350\nand wait.\n\n802\n00:39:22.350 --> 00:39:23.490\nSo give me just one second\n&gt;&gt; Okay.\n\n803\n00:39:23.490 --> 00:39:25.382\n&gt;&gt; Then you can out whatever\ncomment you wanna make.\n\n804\n00:39:25.382 --> 00:39:26.250\n&gt;&gt; It wasn't a glitchy finger, yeah\n&gt;&gt; Yeah, no problem.\n\n805\n00:39:26.250 --> 00:39:30.046\nSo the only thing I just wanted to\npoint out quickly was the nice thing\n\n806\n00:39:30.046 --> 00:39:32.790\nabout using the full\nparameter on the help file.\n\n807\n00:39:32.790 --> 00:39:36.680\nIt gives you the online link to look\nup this particular help file and\n\n808\n00:39:36.680 --> 00:39:39.240\ngo see it online if you wanna\njust work with it there.\n\n809\n00:39:39.240 --> 00:39:42.700\nIn your web browser, you could do\na find command easily, Ctrl + F and\n\n810\n00:39:42.700 --> 00:39:44.400\nsearch for parameters, things like that.\n\n811\n00:39:44.400 --> 00:39:45.680\nJust maybe a little bit easier.\n\n812\n00:39:45.680 --> 00:39:49.860\nAlso remember you can output this help\nfile to a text file, work with it offline,\n\n813\n00:39:49.860 --> 00:39:50.790\nsearch it there.\n\n814\n00:39:50.790 --> 00:39:55.470\nWhatever your editor of choice is,\nNotepad, Notepad++,\n\n815\n00:39:55.470 --> 00:39:57.723\nWordPad, whatever you use.\n\n816\n00:39:57.723 --> 00:39:59.129\nAnd go through and search it there.\n\n817\n00:39:59.129 --> 00:40:03.580\nSo, a lot of times if I'm not sure what\nI'm looking for or if I'm trying to figure\n\n818\n00:40:03.580 --> 00:40:07.833\nout how to use a commandlet, which\nparameters I need, do a little hunting and\n\n819\n00:40:07.833 --> 00:40:11.910\nsearching to figure it out,\nI'll download or I'll just grab this file.\n\n820\n00:40:11.910 --> 00:40:13.508\nI'll just out it to a text file,\n\n821\n00:40:13.508 --> 00:40:17.549\nand then I'll open it in an editor that I\ncan then do a search through the file for.\n\n822\n00:40:17.549 --> 00:40:19.123\nAnd I can look for\ndifferent parameters and\n\n823\n00:40:19.123 --> 00:40:20.840\nthings that I may need to\nfigure out how to use.\n\n824\n00:40:20.840 --> 00:40:23.790\nSo just some real-world experience\nI'm just trying to share with you and\n\n825\n00:40:23.790 --> 00:40:25.700\nmake a little bit easier for you.\n\n826\n00:40:25.700 --> 00:40:28.270\nMake it a little bit easier for\nyou to use PowerShell,\n\n827\n00:40:28.270 --> 00:40:30.880\nto get familiar with them to\nbetter understand how we're gonna\n\n828\n00:40:30.880 --> 00:40:33.600\nbe able to benefit from the help file\nto really understand what we're doing.\n\n829\n00:40:33.600 --> 00:40:35.116\nSure.\n&gt;&gt; Most definitely.\n\n830\n00:40:35.116 --> 00:40:39.005\nI was just going to say my favorite way,\nwhich is very similar to your method\n\n831\n00:40:39.005 --> 00:40:43.203\nof the text file, and I just like to use\nthe Out-GridView for that exact reason,\n\n832\n00:40:43.203 --> 00:40:45.834\nto be able to search and\napply filters if I want to.\n\n833\n00:40:45.834 --> 00:40:49.245\n&gt;&gt; You can, the only challenge\nwith Out-Grid, it is nice, but\n\n834\n00:40:49.245 --> 00:40:52.721\nif then if you want to actually\ncopy something and take it off and\n\n835\n00:40:52.721 --> 00:40:55.690\nyou make a note on it,\nwhatever, it's frozen.\n\n836\n00:40:55.690 --> 00:40:58.380\nYou can't get information out easily.\n\n837\n00:40:58.380 --> 00:41:00.520\nSo that is also a great option.\n\n838\n00:41:00.520 --> 00:41:03.790\nIt's good for searching inline,\nbut it's not gonna allow you,\n\n839\n00:41:03.790 --> 00:41:05.370\na lot of times I'll\nfigure out what I want.\n\n840\n00:41:05.370 --> 00:41:07.140\n&gt;&gt; Save it for later.\n&gt;&gt; And I'll copy things out and\n\n841\n00:41:07.140 --> 00:41:09.970\nI'll make some notes as I'm putting\nsomething together for a customer.\n\n842\n00:41:09.970 --> 00:41:13.930\nAnd I want to be able to grab certain\npieces of information or modify some of\n\n843\n00:41:13.930 --> 00:41:17.020\nthe examples to then do what I want\ninside the text file to figure it out.\n\n844\n00:41:17.020 --> 00:41:17.550\n&gt;&gt; Sure.\n&gt;&gt; I could\n\n845\n00:41:17.550 --> 00:41:18.910\ndo that in the text file directly.\n\n846\n00:41:18.910 --> 00:41:20.670\nOut-GridView, you're not\nable to do that easily.\n\n847\n00:41:20.670 --> 00:41:22.730\n&gt;&gt; Okay.\n&gt;&gt; So just another thing to think about,\n\n848\n00:41:22.730 --> 00:41:26.600\nbut that is a good additional option if\nyou're not familiar with Out-GridView.\n\n849\n00:41:26.600 --> 00:41:27.540\nAll right.\n\n850\n00:41:27.540 --> 00:41:28.490\n&gt;&gt; All right, so we've covered a lot.\n\n851\n00:41:28.490 --> 00:41:29.620\n&gt;&gt; We did.\n&gt;&gt; You've set the bar pretty\n\n852\n00:41:29.620 --> 00:41:30.420\nhigh here, Adam.\n\n853\n00:41:30.420 --> 00:41:33.330\nI know you were talking about\ncomparing this to a part four, but\n\n854\n00:41:33.330 --> 00:41:36.570\nyou gotta think,\nwe've covered the delegation of privilege.\n\n855\n00:41:36.570 --> 00:41:39.500\nWe've also taken a look at\ncreating computer accounts.\n\n856\n00:41:39.500 --> 00:41:40.890\nResetting computer accounts.\n\n857\n00:41:40.890 --> 00:41:42.370\n&gt;&gt; Setting trust issues with them.\n\n858\n00:41:42.370 --> 00:41:43.318\nRight.\n&gt;&gt; Yes and we've talked about-\n\n859\n00:41:43.318 --> 00:41:44.870\n&gt;&gt; And repairing them.\n\n860\n00:41:44.870 --> 00:41:46.280\n&gt;&gt; Old school service accounts.\n\n861\n00:41:46.280 --> 00:41:48.130\n&gt;&gt; We did.\n&gt;&gt; New school managed and\n\n862\n00:41:48.130 --> 00:41:49.500\ngroup managed service accounts.\n\n863\n00:41:49.500 --> 00:41:50.940\n&gt;&gt; We did.\n&gt;&gt; We covered quite a bit in this show.\n\n864\n00:41:50.940 --> 00:41:52.160\n&gt;&gt; We did.\nAnd just to remind you, so\n\n865\n00:41:52.160 --> 00:41:54.454\nI know we spent a lot of time on them,\nbut I did quickly show you.\n\n866\n00:41:54.454 --> 00:41:58.510\nAnd in the show notes, obviously the list\nand little detail explanation of each of\n\n867\n00:41:58.510 --> 00:42:01.586\nthe three old school service\naccounts that we talked about.\n\n868\n00:42:01.586 --> 00:42:04.230\nSystem account, local service account,\nnetwork service account.\n\n869\n00:42:04.230 --> 00:42:07.060\nYou should be familiar with those if\nyou're planning on taking the exam in\n\n870\n00:42:07.060 --> 00:42:10.020\nthe sense that you should know\nthose are the three standard\n\n871\n00:42:10.020 --> 00:42:11.630\nservice account types we see.\n\n872\n00:42:11.630 --> 00:42:14.782\nGroup managed and managed service\naccounts are two new additional\n\n873\n00:42:14.782 --> 00:42:17.660\ntypes that we can now use,\ncreate and interact with.\n\n874\n00:42:17.660 --> 00:42:21.260\nBut you wanna have a general familiarity\nwith those, just in case they come up.\n\n875\n00:42:21.260 --> 00:42:22.920\nYou never know.\nYou may just wanna be able\n\n876\n00:42:22.920 --> 00:42:25.390\nto speak knowledgeably about, hey,\nI see this kind of service account.\n\n877\n00:42:25.390 --> 00:42:26.640\nI know it does this.\n\n878\n00:42:26.640 --> 00:42:29.860\nAnd if you read through my show notes,\nyou'll see that those items, excuse me,\n\n879\n00:42:29.860 --> 00:42:32.130\nare pointed out for you and\nyou'll be to see what they are.\n\n880\n00:42:32.130 --> 00:42:32.770\n&gt;&gt; All right, perfect.\n\n881\n00:42:32.770 --> 00:42:34.450\nBut we are out of time for this episode.\n\n882\n00:42:34.450 --> 00:42:36.070\nSo, we're gonna go ahead and sign out.\n\n883\n00:42:36.070 --> 00:42:37.620\nI've been your host, Cherokee Boose.\n\n884\n00:42:37.620 --> 00:42:38.620\n&gt;&gt; I am Adam Gordon.\n\n885\n00:42:38.620 --> 00:42:40.270\n&gt;&gt; See you next time here at ITProTV.\n\n886\n00:42:40.270 --> 00:42:41.910\n&gt;&gt; For part four next time, part four.\n\n887\n00:42:41.910 --> 00:42:42.418\n&gt;&gt; Yeah.\n&gt;&gt; Do it with me.\n\n888\n00:42:42.418 --> 00:42:43.270\nPart four.\n\n889\n00:42:43.270 --> 00:42:44.448\n&gt;&gt; Part four.\n&gt;&gt; [SOUND] And now it's part eight.\n\n890\n00:42:44.448 --> 00:42:46.352\n&gt;&gt; [LAUGH].\n\n891\n00:42:46.352 --> 00:42:46.977\n&gt;&gt; Part 40.\n&gt;&gt; [LAUGH]\n\n892\n00:42:46.977 --> 00:42:48.860\n&gt;&gt; Anyway, see you later everybody.\n\n893\n00:42:48.860 --> 00:42:50.951\nTake care.\n\n894\n00:42:50.951 --> 00:42:56.721\n[MUSIC]\n\n895\n00:42:56.721 --> 00:42:59.255\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233874889"
        },
        {
          "description": "In this episode, Cherokee and Adam kick off the show by explaining what credential guard is and how you would set it up as well as explaining different options. Next, Adam shows how to enable UEFI lock to help further protect this setting. NTLM blocking and privileged access workstations (PAWs) are also covered.",
          "length": "1977",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-4-credentials_and_privileged_access-pt4-091217PGM.00_32_40_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-4-credentials_and_privileged_access-pt4-091217PGM.00_32_40_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-4-credentials_and_privileged_access-pt4-091217PGM.00_32_40_24.Still001-sm.jpg",
          "title": "Credentials and Privileged Access Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.190 --> 00:00:01.120\nWelcome to ITProTV.\n\n2\n00:00:01.120 --> 00:00:06.405\nI'm your host-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.405 --> 00:00:08.095\n[MUSIC]\n\n4\n00:00:08.095 --> 00:00:11.865\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.865 --> 00:00:14.730\n&gt;&gt; Welcome to\nSecuring Windows Server 2016 series.\n\n6\n00:00:14.730 --> 00:00:17.690\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.690 --> 00:00:21.650\nAnd I am glad to announce that we have\nmade it to our highly anticipated\n\n8\n00:00:21.650 --> 00:00:26.600\npart four, we're gonna continue taking a\nlook at credentials and privileged access.\n\n9\n00:00:26.600 --> 00:00:30.230\nBack in studios with us today,\nwe have Microsoft expert Mr Adam Gordon.\n\n10\n00:00:30.230 --> 00:00:31.778\nThank you for joining us today Adam.\n\n11\n00:00:31.778 --> 00:00:32.739\n&gt;&gt; Thank you, glad to be back.\n\n12\n00:00:32.739 --> 00:00:35.202\nExcited to be here for part four.\n\n13\n00:00:35.202 --> 00:00:38.486\nSo excited I can barely contain myself,\nI'm all a flutter.\n\n14\n00:00:38.486 --> 00:00:41.400\nLook, security hands,\nI'm all a flutter with anticipation.\n\n15\n00:00:41.400 --> 00:00:43.492\nAll right, so\nwe're gonna pick up where we left off.\n\n16\n00:00:43.492 --> 00:00:46.166\nWe promised you, in part three,\nthat we would be back for\n\n17\n00:00:46.166 --> 00:00:47.628\npart four and so, here we are.\n\n18\n00:00:47.628 --> 00:00:49.551\nNow that we've done that,\nwe're done, we can leave.\n\n19\n00:00:49.551 --> 00:00:50.591\n&gt;&gt; Good job Adam.\n\n20\n00:00:50.591 --> 00:00:51.382\n&gt;&gt; That was part four right there.\n\n21\n00:00:51.382 --> 00:00:54.642\nThat was the exciting thing, we were gonna\ncome and say we're here for part four.\n\n22\n00:00:54.642 --> 00:00:57.968\nBut since we're here, before we do leave\nwe should probably talk about at least one\n\n23\n00:00:57.968 --> 00:01:00.725\nmeaningful thing and I think that\nthing is something we previewed for\n\n24\n00:01:00.725 --> 00:01:02.117\nyou at the end of the last episode.\n\n25\n00:01:02.117 --> 00:01:05.634\nIf you haven't seen it we promised you we\nwould talk about something really cool and\n\n26\n00:01:05.634 --> 00:01:08.350\nexciting, actually something\nthat is kind of interesting.\n\n27\n00:01:08.350 --> 00:01:09.740\n&gt;&gt; Can I spin the security wheel?\n\n28\n00:01:09.740 --> 00:01:11.117\n&gt;&gt; You can spin the security wheel.\n\n29\n00:01:11.117 --> 00:01:11.852\n&gt;&gt; All right, ready guys?\n\n30\n00:01:11.852 --> 00:01:12.443\nReady, go.\n\n31\n00:01:12.443 --> 00:01:15.282\n&gt;&gt; We have the game show noise,\nthe clack, clack, clack.\n\n32\n00:01:15.282 --> 00:01:16.010\n&gt;&gt; Tick, tick.\n\n33\n00:01:16.010 --> 00:01:17.336\n&gt;&gt; So we don't have nothing, so\n\n34\n00:01:17.336 --> 00:01:21.007\nI guess the answer is no you can't spin\nthe security wheel cuz we don't have that.\n\n35\n00:01:21.007 --> 00:01:24.348\nSo what we would find if we spun security\nwheel, if you remember, I told you\n\n36\n00:01:24.348 --> 00:01:27.634\nthe secret at the end of part three that\nwe would talk about it in part four,\n\n37\n00:01:27.634 --> 00:01:29.830\nand I said it was gonna be,\nremember what it was?\n\n38\n00:01:29.830 --> 00:01:30.650\n&gt;&gt; Credential guard.\n\n39\n00:01:30.650 --> 00:01:32.390\n&gt;&gt; Credential guard, that's right.\n\n40\n00:01:32.390 --> 00:01:33.668\n&gt;&gt; So let's talk about credential guard.\n\n41\n00:01:33.668 --> 00:01:38.020\nI mentioned it was one of these new\nvirtualization security features or this\n\n42\n00:01:38.020 --> 00:01:41.680\nidea of virtualization base security that\nwe are starting to see emerge more and\n\n43\n00:01:41.680 --> 00:01:43.800\nmore and is becoming very popular.\n\n44\n00:01:43.800 --> 00:01:45.460\nSo what do you think?\n\n45\n00:01:45.460 --> 00:01:48.860\nVirtualization security versus\nnon-virtualization security,\n\n46\n00:01:48.860 --> 00:01:51.540\nnormal security, non-virtualized security.\n\n47\n00:01:51.540 --> 00:01:53.990\nWhat do you think Credential Guard\nis gonna do for us?\n\n48\n00:01:53.990 --> 00:01:55.220\nWhat's it good for?\n\n49\n00:01:55.220 --> 00:01:57.767\n&gt;&gt; How about let's go with the most\nobvious answer, and say, well,\n\n50\n00:01:57.767 --> 00:01:58.917\nguarding your credentials.\n\n51\n00:01:58.917 --> 00:02:00.121\n&gt;&gt; Guarding your credentials.\n\n52\n00:02:00.121 --> 00:02:03.950\nYes, that would be the answer I was\nexpecting I would get, so thank you.\n\n53\n00:02:03.950 --> 00:02:06.790\nI do appreciate you not disappointing\non that one, that's good.\n\n54\n00:02:06.790 --> 00:02:09.590\nSo yes, let's drive down the middle\nof the proverbial road and\n\n55\n00:02:09.590 --> 00:02:11.590\nkeep the obvious thing in front of us.\n\n56\n00:02:11.590 --> 00:02:13.110\nAnd Cherokee's actually right.\n\n57\n00:02:13.110 --> 00:02:16.240\nA 100% right by saying it is\nabout guarding our credentials.\n\n58\n00:02:16.240 --> 00:02:18.040\nBut the way we do it is\nkind of interesting.\n\n59\n00:02:18.040 --> 00:02:21.505\nWe are going to essentially enable\nthis through a group policy.\n\n60\n00:02:21.505 --> 00:02:22.964\nWe'll show you how to do that in a minute,\n\n61\n00:02:22.964 --> 00:02:25.607\ntalk about some of the requirements we\nhave here in order to be able to do it.\n\n62\n00:02:25.607 --> 00:02:29.205\nBecause it does require the use\nof some newer technology.\n\n63\n00:02:29.205 --> 00:02:33.780\nA TPM, for instance, as a credential\nvault to be able to store credentials in.\n\n64\n00:02:33.780 --> 00:02:35.790\nThe use of this setting or\n\n65\n00:02:35.790 --> 00:02:38.550\nthis capability on a physical,\nas opposed to virtual machine.\n\n66\n00:02:38.550 --> 00:02:43.261\nEven though we talk about it as being\na virtualization security capability,\n\n67\n00:02:43.261 --> 00:02:47.101\nwe have to run it on a new operating\nsystem that supports UEFI and\n\n68\n00:02:47.101 --> 00:02:51.171\nthe use of TPMs, which would be\nWindows 10 and/or Server 16.\n\n69\n00:02:51.171 --> 00:02:53.169\nAnd we do need to have not just UEFI but\n\n70\n00:02:53.169 --> 00:02:57.243\na very specific version of the UEFI\nfirmware version 2.3.1 or newer.\n\n71\n00:02:57.243 --> 00:03:01.738\nAnd I've got a list of all these six so\ntake a look at those in just a minute.\n\n72\n00:03:01.738 --> 00:03:05.505\nWe need things like Intel VT or\nAMDV supporti in the BIOS which is\n\n73\n00:03:05.505 --> 00:03:10.415\nvirtualization hardware assisted,\nvirtualization extensions on the physical\n\n74\n00:03:10.415 --> 00:03:14.968\nmachine to be enabled to allow us to\nleverage virtualization capability and\n\n75\n00:03:14.968 --> 00:03:18.196\nhardware assisted\nvirtualization from the system.\n\n76\n00:03:18.196 --> 00:03:21.162\nThis capability allows us to secure,\n\n77\n00:03:21.162 --> 00:03:25.344\nand actually prevent access\nto what we call secrets.\n\n78\n00:03:25.344 --> 00:03:28.920\nWhich in our world would be things\nlike credentials, private keys,\n\n79\n00:03:28.920 --> 00:03:31.090\nmaybe a password, something like that.\n\n80\n00:03:31.090 --> 00:03:33.540\nSo, digital identity related items.\n\n81\n00:03:33.540 --> 00:03:35.190\nWe generically call them secrets.\n\n82\n00:03:35.190 --> 00:03:38.100\nSo that only through\nthe use of this system and\n\n83\n00:03:38.100 --> 00:03:42.190\nwith these secure procedures and\nprotections in place, can we access them.\n\n84\n00:03:42.190 --> 00:03:46.430\nAnd as a result of that, we are allowing\nonly constrained access by the operating\n\n85\n00:03:46.430 --> 00:03:50.120\nsystem software to get into and\nuse this credential or\n\n86\n00:03:50.120 --> 00:03:52.995\nthese credentials in such a way\nthat they will be secure.\n\n87\n00:03:52.995 --> 00:03:58.165\nWe run and protect them inside of what can\nbe akin to and likened to a virtualized\n\n88\n00:03:58.165 --> 00:04:00.985\noperating system running inside\nof the normal operating system.\n\n89\n00:04:00.985 --> 00:04:03.135\nEven though we're not creating\na virtualized instance,\n\n90\n00:04:03.135 --> 00:04:07.035\nwe're not creating a full VM, we're not\ndoing something like that, we create\n\n91\n00:04:07.035 --> 00:04:11.335\nessentially protections and memory in\na bubble, a sandbox that is a virtualized\n\n92\n00:04:11.335 --> 00:04:15.360\nenvironment that runs inside of\nthe native OS to offer these protections.\n\n93\n00:04:15.360 --> 00:04:17.740\nKind of an interesting concept,\nwhen we think about it.\n\n94\n00:04:17.740 --> 00:04:21.390\nIt is really a separate operating\nsystem within the OS itself.\n\n95\n00:04:21.390 --> 00:04:24.060\nThis operating system runs\nin parallel with, but\n\n96\n00:04:24.060 --> 00:04:28.980\nis totally independent from Server 16 and\nor Windows 10 offering these protections.\n\n97\n00:04:28.980 --> 00:04:34.010\nAnd this capability, again think logically\nas we talked about that in prior episodes,\n\n98\n00:04:34.010 --> 00:04:38.680\nlet's cut out from the bottom of the food\nchain from the bottom of the list of\n\n99\n00:04:38.680 --> 00:04:41.440\nmost secure to least secure at the bottom.\n\n100\n00:04:41.440 --> 00:04:44.330\nCredential access and authentication and\n\n101\n00:04:44.330 --> 00:04:47.442\naccess capabilities that are gonna\npotentially expose our credentials.\n\n102\n00:04:47.442 --> 00:04:51.010\nLet's get things like NTLM,\nlet's get rid of the use of des,\n\n103\n00:04:51.010 --> 00:04:55.020\nfocus on the use of AES as a more\nadvanced algorithm for instance.\n\n104\n00:04:55.020 --> 00:04:59.392\nLet's make sure that we are not\nallowing authentication protocols\n\n105\n00:04:59.392 --> 00:05:02.613\nthat may be subject to\ncompromise like MS-CHAP,\n\n106\n00:05:02.613 --> 00:05:07.608\nMS-CHAPv2, let's block access for\nthings like digest authentication.\n\n107\n00:05:07.608 --> 00:05:11.701\nThese are all old school mechanisms that\nwould've been okay for many many years,\n\n108\n00:05:11.701 --> 00:05:13.362\nand were considered secure, but\n\n109\n00:05:13.362 --> 00:05:17.469\nare now not as secure as some of the newer\noptions and things that can replace them.\n\n110\n00:05:17.469 --> 00:05:21.522\nAnd we're cutting out access to all\nthat stuff by using credentials or\n\n111\n00:05:21.522 --> 00:05:24.957\nrather credential guard, and\nforcing use of more secure,\n\n112\n00:05:24.957 --> 00:05:27.584\nmore robust capabilities\nin place of these.\n\n113\n00:05:27.584 --> 00:05:30.813\nSo if join me here let's just take a look\nat the requirements list real quick,\n\n114\n00:05:30.813 --> 00:05:34.007\nalways easier to tell you and talk about\nthem than it is to walk through them.\n\n115\n00:05:34.007 --> 00:05:36.890\nI already mentioned and\nrattled off a few of these already.\n\n116\n00:05:36.890 --> 00:05:41.750\nDeploy on a physical versus a virtual\nmachine, Windows 10 or Server 16 on\n\n117\n00:05:41.750 --> 00:05:46.984\nthe Enterprise side, UEFI firmware\n2.3-1 or newer, the use of secure boot,\n\n118\n00:05:46.984 --> 00:05:52.880\nIntel VT or AMD-V extensions, SLAT, Second\nLevel Address Translation and memory.\n\n119\n00:05:52.880 --> 00:05:55.570\nWe need x64 architecture, pretty common.\n\n120\n00:05:55.570 --> 00:05:59.439\nIt would be very difficult to do x32 for\nanything today or 32-bit.\n\n121\n00:05:59.439 --> 00:06:01.841\nWe do need to have a IOMMU.\n\n122\n00:06:01.841 --> 00:06:03.533\nDo you know what IOMMU is?\n\n123\n00:06:03.533 --> 00:06:05.714\nYou can read that acronym and\nprobably tell us what it is.\n\n124\n00:06:05.714 --> 00:06:07.250\n&gt;&gt; Yeah, input output multiple.\n\n125\n00:06:07.250 --> 00:06:09.808\nLet me see what my acroym's here, MMU.\n\n126\n00:06:09.808 --> 00:06:10.850\n&gt;&gt; Input output memory.\n\n127\n00:06:10.850 --> 00:06:11.636\n&gt;&gt; Memory.\n\n128\n00:06:11.636 --> 00:06:12.731\n&gt;&gt; Management.\n&gt;&gt; Management.\n\n129\n00:06:12.731 --> 00:06:13.713\n&gt;&gt; Unit.\n&gt;&gt; Unit.\n\n130\n00:06:13.713 --> 00:06:15.111\n&gt;&gt; Thank you, awesome.\n\n131\n00:06:15.111 --> 00:06:16.242\n&gt;&gt; [LAUGH]\n&gt;&gt; You are great.\n\n132\n00:06:16.242 --> 00:06:19.345\n&gt;&gt; Well, it looks a lot of these\nare very similar to what you would seen,\n\n133\n00:06:19.345 --> 00:06:21.284\nto create a virtualized environments so.\n\n134\n00:06:21.284 --> 00:06:24.045\n&gt;&gt; They are, right.\nSo we do need to have access to all of\n\n135\n00:06:24.045 --> 00:06:28.830\nthese capabilities and newer version\nof the TPM, right, so new TPM support.\n\n136\n00:06:28.830 --> 00:06:33.050\nWe need to have computer code updated\nwith just various secure implementations.\n\n137\n00:06:33.050 --> 00:06:38.070\nWhich is what service 16 and Windows\n10 on the enterprise side does provide.\n\n138\n00:06:38.070 --> 00:06:42.480\nNow in terms of going in, just before we\ngo in and I'll just scroll up here so\n\n139\n00:06:42.480 --> 00:06:43.592\nyou can see it real quick.\n\n140\n00:06:43.592 --> 00:06:46.250\nWe're gonna go into this path in just\na minute, show you how to turn this on.\n\n141\n00:06:46.250 --> 00:06:48.920\nBut we're gonna go in here,\nas you can see,\n\n142\n00:06:48.920 --> 00:06:51.130\nto this path in\nthe computer configuration.\n\n143\n00:06:51.130 --> 00:06:54.120\nI'll do this on the domain controller\npolicy just so you can see it.\n\n144\n00:06:54.120 --> 00:06:57.370\nBut in the computer area, administrator\ntemplate system device guard,\n\n145\n00:06:57.370 --> 00:07:00.270\nwe're gonna go in and then we're\ngoing to enable one of these options.\n\n146\n00:07:00.270 --> 00:07:02.160\nAnd you'll see there\nare some settings here.\n\n147\n00:07:02.160 --> 00:07:03.990\nSo let's go in, let's take a look at this.\n\n148\n00:07:03.990 --> 00:07:07.760\nSo we're gonna come in here,\njust clean up here,\n\n149\n00:07:07.760 --> 00:07:10.560\nget into our group policy\nmanagement console.\n\n150\n00:07:10.560 --> 00:07:11.850\nYou could see it right here.\n\n151\n00:07:11.850 --> 00:07:15.090\nI do have our default to main\npolicy already available.\n\n152\n00:07:15.090 --> 00:07:19.330\nI'm just gonna edit this\nright-click edit and bring this up.\n\n153\n00:07:19.330 --> 00:07:23.320\nAnd once I do that, scroll down here and\n\n154\n00:07:23.320 --> 00:07:25.370\nthat way I can just make sure\nI have the path available.\n\n155\n00:07:25.370 --> 00:07:29.910\nAll right, so we're gonna come in here\nunder computer, make this full size so\n\n156\n00:07:29.910 --> 00:07:33.410\nwe can see this up under Policies\n&gt; Administrative Templates.\n\n157\n00:07:33.410 --> 00:07:35.032\nLet me just open this up here.\n\n158\n00:07:36.855 --> 00:07:39.060\nI can just kinda catch the edge of that.\n\n159\n00:07:40.310 --> 00:07:43.200\nThat's always challenge right there,\nright, is to extend that out.\n\n160\n00:07:43.200 --> 00:07:45.080\nWell, anyway, there we go.\n\n161\n00:07:45.080 --> 00:07:45.795\n&gt;&gt; Look.\n&gt;&gt; All right.\n\n162\n00:07:45.795 --> 00:07:48.070\n&gt;&gt; [LAUGH]\n&gt;&gt; It's like a delayed reaction.\n\n163\n00:07:48.070 --> 00:07:50.490\nI think I'll extend that\na minute after you say something,\n\n164\n00:07:50.490 --> 00:07:52.350\njust before you're ready\nto go somewhere else.\n\n165\n00:07:52.350 --> 00:07:54.576\nSo we're gonna go in here,\nwe're gonna click under System.\n\n166\n00:07:54.576 --> 00:07:56.760\nWe do have Device Guard right here.\n\n167\n00:07:56.760 --> 00:08:01.390\nWhen we do go in there, we'll have two\nsettings, neither of which are configured.\n\n168\n00:08:01.390 --> 00:08:04.576\nWe are gonna turn on\nvirtualization based security.\n\n169\n00:08:04.576 --> 00:08:06.778\nSo we're gonna double click on that.\n\n170\n00:08:06.778 --> 00:08:11.655\nNow, you can either read it right here,\nwhat is going to be the outcome of this.\n\n171\n00:08:11.655 --> 00:08:12.844\nYou can highlight and\n\n172\n00:08:12.844 --> 00:08:17.215\nsee the policy settings right here on\nthe extended tab in terms of the summary.\n\n173\n00:08:17.215 --> 00:08:19.970\nSo, always good just to\ntake a look at that.\n\n174\n00:08:19.970 --> 00:08:22.910\nBut what we see is that when we go in and\nwe enable this,\n\n175\n00:08:22.910 --> 00:08:27.390\nwe then have some options right here that\nbecome available, we're going to fast of\n\n176\n00:08:27.390 --> 00:08:32.150\nall set the platform security level,\nsecure boot and DMA, or just secure boot.\n\n177\n00:08:32.150 --> 00:08:34.200\nLet's talk about the difference\nbetween these for\n\n178\n00:08:34.200 --> 00:08:39.010\njust a minute, when we do secure boot with\nDMA we're ensuring that we're using what's\n\n179\n00:08:39.010 --> 00:08:43.520\ncalled direct memory access protection,\nDMA Correct memory access protection.\n\n180\n00:08:43.520 --> 00:08:48.030\nIf we just do secure boot without that\nwe're just simply not using DMA, but\n\n181\n00:08:48.030 --> 00:08:53.520\nif we are using DMA,\nwe are then able to leverage or\n\n182\n00:08:53.520 --> 00:08:56.260\nprovide additional protection for\n\n183\n00:08:56.260 --> 00:09:01.350\nthe access in memory to safeguard what\nwe're doing to encrypt and to, through\n\n184\n00:09:01.350 --> 00:09:06.110\na series of additional capabilities,\nwe use address space layout randomization.\n\n185\n00:09:06.110 --> 00:09:10.466\nWe use a series of memory protection\nmechanisms that allow us to protect and\n\n186\n00:09:10.466 --> 00:09:12.274\nsafeguard the data in memory.\n\n187\n00:09:12.274 --> 00:09:13.679\nSo as we're doing things,\n\n188\n00:09:13.679 --> 00:09:17.046\nwe are not allowing what we are doing\nin memory to be compromised.\n\n189\n00:09:17.046 --> 00:09:20.460\nBecause some attacker may be able to\nget root privileges, for instance,\n\n190\n00:09:20.460 --> 00:09:22.121\nmaybe through the use of a root kit.\n\n191\n00:09:22.121 --> 00:09:24.679\nAnd as a result of using malware,\nget access\n\n192\n00:09:24.679 --> 00:09:29.604\nto memory space either through mapping and\nunderstanding where we may put our data.\n\n193\n00:09:29.604 --> 00:09:33.958\nAnticipating in other words what process\nis mapped to what memory address, isn't\n\n194\n00:09:33.958 --> 00:09:38.516\ngoing there through a buffer overflow,\nan injection attack, a rootkit compromise.\n\n195\n00:09:38.516 --> 00:09:42.718\nLots of ways we could do this potentially\nand gain access to those memory spaces.\n\n196\n00:09:42.718 --> 00:09:46.488\nPulling the credentials and the\ninformation out if they're not protected,\n\n197\n00:09:46.488 --> 00:09:50.432\nDMA allows us to secure and protect that\naccess in such a way that would be almost,\n\n198\n00:09:50.432 --> 00:09:54.376\nnot always, we never wanna say impossible\ncuz there's always potentially a new\n\n199\n00:09:54.376 --> 00:09:55.770\nway we haven't thought of.\n\n200\n00:09:55.770 --> 00:10:00.336\nBut highly unlikely is what you often hear\npeople say that a bad actor or a piece of\n\n201\n00:10:00.336 --> 00:10:05.197\nmalware, or some combination of those\nthings could compromise that memory space.\n\n202\n00:10:05.197 --> 00:10:09.800\nSo, we just wanna make sure we are aware\nof that, and that we have a sense of this.\n\n203\n00:10:09.800 --> 00:10:13.530\nSo we're making our choice here, let's\njust hypothetically we chose With DMA\n\n204\n00:10:13.530 --> 00:10:17.800\nprotection, Virtualization Based\nProtection of Code Integrity, and\n\n205\n00:10:17.800 --> 00:10:19.590\nCredential Guard configuration.\n\n206\n00:10:19.590 --> 00:10:21.700\nYou'll see we have two\noptions we're focused on.\n\n207\n00:10:21.700 --> 00:10:26.810\nCredential Guard, so we will have to then\nenable Credential Guard on top of or\n\n208\n00:10:26.810 --> 00:10:30.350\nas a secondary setting once we\ndo the platform security level.\n\n209\n00:10:30.350 --> 00:10:32.200\nYou must set platform\nsecurity level first,\n\n210\n00:10:33.340 --> 00:10:38.750\nthen we enable credential guard either\nwith UEFI lock or without UEFI lock.\n\n211\n00:10:38.750 --> 00:10:42.900\nIf we do UEFI lock,\nwe are preventing credential guard for\n\n212\n00:10:42.900 --> 00:10:47.590\nbeing disabled from a remote stand point,\nmeaning nobody can connect to this machine\n\n213\n00:10:47.590 --> 00:10:51.850\nand remotely turn this feature\noff when we do UEFI file lock.\n\n214\n00:10:51.850 --> 00:10:55.735\nThey must be logged on locally with the\nappropriate credentials in front of this\n\n215\n00:10:55.735 --> 00:11:00.685\nmachin to disable credential guard so that\nit is an additional layer of security.\n\n216\n00:11:00.685 --> 00:11:02.060\nIf we do it without the lock,\n\n217\n00:11:02.060 --> 00:11:05.860\nwe would allow potentially somebody\nremotely think again bad actor\n\n218\n00:11:05.860 --> 00:11:11.040\nmost likely to gain access to this system\nthat potentially disable this protection,\n\n219\n00:11:11.040 --> 00:11:15.080\ndropping our guard and as a result maybe\nallowing credentials to be compromised.\n\n220\n00:11:15.080 --> 00:11:17.510\nSo, want to think long and\nhard about what we are going to do and\n\n221\n00:11:17.510 --> 00:11:18.870\nhow we are gonna do this.\n\n222\n00:11:18.870 --> 00:11:21.500\nBut typically,\nif you're gonna go to this much trouble,\n\n223\n00:11:21.500 --> 00:11:25.170\nyou would want to do this with UEFI\nlock and DMA protection enabled,\n\n224\n00:11:25.170 --> 00:11:28.130\nbecause otherwise there's just\nreally not a lot of benefit here.\n\n225\n00:11:28.130 --> 00:11:30.770\nSo we would set this up and\nlike any policy,\n\n226\n00:11:30.770 --> 00:11:32.350\nand we do talk about this, by the way.\n\n227\n00:11:32.350 --> 00:11:33.320\nCan we go full screen?\n\n228\n00:11:33.320 --> 00:11:35.607\nWhat I was just showing\nyou again is all here.\n\n229\n00:11:35.607 --> 00:11:39.780\nInside of, the explanation.\n\n230\n00:11:39.780 --> 00:11:40.720\nYou can just read up on it.\n\n231\n00:11:40.720 --> 00:11:45.080\nRight, we do have to have the appropriate\nhardware and devices configured for DMA.\n\n232\n00:11:45.080 --> 00:11:48.770\nThe use of TPM, Trusted Platform Module,\nto store the credentials,\n\n233\n00:11:48.770 --> 00:11:49.870\nall that kind of stuff.\n\n234\n00:11:49.870 --> 00:11:53.020\nSo we're talking about making\nsure this is all done correctly.\n\n235\n00:11:53.020 --> 00:11:54.650\nOnce you enable all this, right.\n\n236\n00:11:54.650 --> 00:11:59.230\nSo you would set this up,\nclick Apply, click okay.\n\n237\n00:11:59.230 --> 00:12:01.320\nPolicy, in this case a domain policy.\n\n238\n00:12:01.320 --> 00:12:05.530\nWill get applied within several minutes\nbased on the policy refresh rate,\n\n239\n00:12:05.530 --> 00:12:07.570\nmaybe up to 90 to 120 minutes.\n\n240\n00:12:07.570 --> 00:12:09.370\nHowever, you do that but\nit will get applied.\n\n241\n00:12:09.370 --> 00:12:12.560\nSo we have to think about the fact\nthat once we are setting this up and\n\n242\n00:12:12.560 --> 00:12:14.230\nenabling it it's going to go into effect.\n\n243\n00:12:14.230 --> 00:12:16.580\nSo we do have to be prepared for that, but\n\n244\n00:12:16.580 --> 00:12:19.250\nthis is how we would\nsetup credential guard.\n\n245\n00:12:19.250 --> 00:12:20.860\nWe would enable it\nthrough the policy here.\n\n246\n00:12:20.860 --> 00:12:25.850\nWe would then obviously push this out by\nforcing a GP policy update on all machines\n\n247\n00:12:25.850 --> 00:12:26.870\nin the domain.\n\n248\n00:12:26.870 --> 00:12:30.580\nRemember, you have to have at least\na Windows 10 machine to be able to benefit\n\n249\n00:12:30.580 --> 00:12:35.720\nfrom this or Server 16 on the server side\nwhich means that we do wanna make sure\n\n250\n00:12:35.720 --> 00:12:39.150\nwe're pushing this out to machines that\nwe're gonna be able to benefit from it.\n\n251\n00:12:39.150 --> 00:12:41.070\nThat I would in use ten\nmachines to use this.\n\n252\n00:12:41.070 --> 00:12:44.540\nDoesn't mean that other machines will\nnot have their own level of protection.\n\n253\n00:12:44.540 --> 00:12:47.730\nWindows 7, Windows 8, 8.1,\nwe could do various things but\n\n254\n00:12:47.730 --> 00:12:49.570\nwe're not gonna be able\nto use credential guard.\n\n255\n00:12:49.570 --> 00:12:52.820\nOn that, only a Windows 10\nenterprise machine by the way.\n\n256\n00:12:52.820 --> 00:12:55.060\nSo Windows 10 Home does not support this,\n\n257\n00:12:55.060 --> 00:12:58.660\nnot that you would traditionally deploy\nthat in, in business environment but\n\n258\n00:12:58.660 --> 00:13:00.430\njust keeping that in mind and\nbeing aware of that.\n\n259\n00:13:00.430 --> 00:13:03.990\nAll right, so we can certainly setup\ndevice guard here through group policy.\n\n260\n00:13:05.280 --> 00:13:07.970\nAnd when we do that,\nwe are then able to apply that.\n\n261\n00:13:07.970 --> 00:13:10.430\nAnd I just,\nediting the default domain policy,\n\n262\n00:13:10.430 --> 00:13:12.238\nyou would choose where to put that.\n\n263\n00:13:12.238 --> 00:13:14.299\nYou may not wanna put\nit at the domain level,\n\n264\n00:13:14.299 --> 00:13:17.254\nunless all your work stations\nare all Windows 10 machines and\n\n265\n00:13:17.254 --> 00:13:20.618\ntheir service XT machines In the domain\nit would not make a lot of sense.\n\n266\n00:13:20.618 --> 00:13:23.648\nYou may have an OU specifically\ncarved out for those machines.\n\n267\n00:13:23.648 --> 00:13:25.813\nMaybe you'll create a policy and\napply it there.\n\n268\n00:13:25.813 --> 00:13:26.861\nIt will be up to you.\n\n269\n00:13:26.861 --> 00:13:31.340\nBut at least you know where to go to set\nthis and have a sense of how to do so.\n\n270\n00:13:31.340 --> 00:13:33.570\nSpeaking of knowing\nwhere to go to set this.\n\n271\n00:13:33.570 --> 00:13:34.308\nHow to do so,\n\n272\n00:13:34.308 --> 00:13:38.770\no Protect derived credentials with\nWindows Defender Credential Guard.\n\n273\n00:13:38.770 --> 00:13:42.490\nIt's just called Credential Guard, but\nthe formal name for it as you can see.\n\n274\n00:13:42.490 --> 00:13:47.020\nSo if you're interested in reading up\non it, put this information in the.\n\n275\n00:13:47.020 --> 00:13:49.885\nYou can see, but by the way,\nthis is just the overview page,\n\n276\n00:13:49.885 --> 00:13:53.635\nwhat you're looking for is all the\ninformation on this web page over here.\n\n277\n00:13:53.635 --> 00:13:57.675\nI just didn't list every URL, I just gave\nyou the main one, how credential card\n\n278\n00:13:57.675 --> 00:14:02.765\nworks, and requirements, how to manage it,\nprotection limits, how to use it\n\n279\n00:14:02.765 --> 00:14:06.110\nright additional information,\nknown issues associated with it.\n\n280\n00:14:06.110 --> 00:14:09.768\nJust probably read through all the\ndifferent sub headings to get a sense of\n\n281\n00:14:09.768 --> 00:14:12.718\nthe technology,\nmake informed decisions about whether or\n\n282\n00:14:12.718 --> 00:14:15.493\nnot this is a good idea for\nyou, so just be aware of that.\n\n283\n00:14:15.493 --> 00:14:19.368\nBut all the requirements that\nI listed are all listed here.\n\n284\n00:14:19.368 --> 00:14:21.777\nYou can just click through,\nsee the hardware and\n\n285\n00:14:21.777 --> 00:14:24.610\nthe software requirements\nthat we talked about.\n\n286\n00:14:24.610 --> 00:14:27.080\nSo just making sure that\nyou are aware of that.\n\n287\n00:14:27.080 --> 00:14:29.280\nNew application requirements, right?\n\n288\n00:14:29.280 --> 00:14:33.290\nApplications will break if they require,\nI talked about this in other episodes.\n\n289\n00:14:33.290 --> 00:14:37.300\nKnowing the backwards compatibility,\nissues testing and knowing the concerns.\n\n290\n00:14:37.300 --> 00:14:40.760\nRemember, we're cutting the legs\nout from underneath all of\n\n291\n00:14:40.760 --> 00:14:42.760\nthe backwards compatibility and\n\n292\n00:14:42.760 --> 00:14:46.340\nearlier accessibility technologies\nwith regards to authentication.\n\n293\n00:14:46.340 --> 00:14:50.660\nSo if you're gonna require desk\nencryption for Kerberos, and not a yes.\n\n294\n00:14:50.660 --> 00:14:55.980\nIf you require using NTLM and\none of the earlier versions of NTLM.\n\n295\n00:14:55.980 --> 00:14:59.869\nIf you require MS-CHAP support,\ndigest authentication,\n\n296\n00:14:59.869 --> 00:15:02.850\ncredential delegation,\nthings we do not do.\n\n297\n00:15:02.850 --> 00:15:07.100\nThis credential guard blocks and prevents\nthem, then this is not technology for you.\n\n298\n00:15:07.100 --> 00:15:09.200\nCuz you're gonna break\nwhatever requires it.\n\n299\n00:15:09.200 --> 00:15:11.550\nSo it's easy to just usea paint brush and\n\n300\n00:15:11.550 --> 00:15:13.480\nsay I'm going to apply\nsecurity everywhere.\n\n301\n00:15:13.480 --> 00:15:17.140\nIt's hard to be an artist that understands\nhow to paint with a fine brush and\n\n302\n00:15:17.140 --> 00:15:20.780\nunderstands the difference between\njust covering everything and\n\n303\n00:15:20.780 --> 00:15:24.830\nhoping for the best and\napplying actual prescriptive technologies\n\n304\n00:15:24.830 --> 00:15:28.040\nto specific environments\nto achieve desired results.\n\n305\n00:15:28.040 --> 00:15:29.550\nSo you've gotta learn how to do that,\n\n306\n00:15:29.550 --> 00:15:32.710\nand you gotta pay attention to the details\nin order to be able to function that way.\n\n307\n00:15:32.710 --> 00:15:34.880\nSo I just wanna make\nsure you understand that.\n\n308\n00:15:34.880 --> 00:15:37.420\nYou can see, obviously,\nthe benefit of reading up on this.\n\n309\n00:15:37.420 --> 00:15:40.020\nHow you enable this, we talked about this.\n\n310\n00:15:40.020 --> 00:15:43.350\nRight, through group policy, it walks you\nthrough the logic of how to set this up\n\n311\n00:15:43.350 --> 00:15:45.910\njust like I showed you right here,\nand enabling it.\n\n312\n00:15:47.080 --> 00:15:49.558\nWe could do this through\nthe registry as well, right.\n\n313\n00:15:49.558 --> 00:15:52.126\nNot that we recommend you do it but\nyou can go into the registry,\n\n314\n00:15:52.126 --> 00:15:55.473\nmake the same settings and changes, you\ncould do through group policy although we\n\n315\n00:15:55.473 --> 00:15:58.360\ndidn't talk about that but\njust calling that out for you.\n\n316\n00:15:58.360 --> 00:16:00.745\nRight, so just keep in mind and be aware\nof the fact that this is available to us.\n\n317\n00:16:00.745 --> 00:16:04.862\nAnd we can even do this through\nDISM if you want to, right?\n\n318\n00:16:04.862 --> 00:16:08.246\nSo lots of different ways, if you're\nnot familiar with DISM, It's one of\n\n319\n00:16:08.246 --> 00:16:11.742\nthe imaging technology part of the\nWindows Microsoft deployment toolkit for\n\n320\n00:16:11.742 --> 00:16:14.236\ndesktop management and\nimaging and things like that.\n\n321\n00:16:14.236 --> 00:16:18.020\nAnd you could do that as well by editing\nan offline image and enabling the support.\n\n322\n00:16:18.020 --> 00:16:21.055\nSo you could see the different\nways in which we would do that,\n\n323\n00:16:21.055 --> 00:16:23.520\nyou do that kind of stuff sometimes,\nright?\n\n324\n00:16:23.520 --> 00:16:24.534\n&gt;&gt; Yeah.\n&gt;&gt; You play with those tools and\n\n325\n00:16:24.534 --> 00:16:25.374\ndo that all that kind of stuff.\n\n326\n00:16:25.374 --> 00:16:29.090\nThe ISM and MDT and system center and\nall that kind of stuff.\n\n327\n00:16:29.090 --> 00:16:30.100\nSo as I do but\n\n328\n00:16:30.100 --> 00:16:32.970\nCherokee often will spend some time\nworking on those features as well.\n\n329\n00:16:32.970 --> 00:16:36.330\nSo lots of different ways to do this, you\nwanna do the registry hack, go down and\n\n330\n00:16:36.330 --> 00:16:38.000\nadd the keys and you can see right here.\n\n331\n00:16:38.000 --> 00:16:39.300\nThis is how we would do this.\n\n332\n00:16:39.300 --> 00:16:42.350\nSo reading through all the documentation\nwe're providing to you\n\n333\n00:16:42.350 --> 00:16:43.910\ngives you a wealth of options.\n\n334\n00:16:43.910 --> 00:16:46.144\nWe're just driving down as Cherokee said,\nthe middle of the road here.\n\n335\n00:16:46.144 --> 00:16:48.842\nTrying to give you the most\nobvious way to do this which will\n\n336\n00:16:48.842 --> 00:16:50.065\nbe through group policy.\n\n337\n00:16:50.065 --> 00:16:53.550\nBut there are lots of different ways to\nenable this, so just keep this in mind.\n\n338\n00:16:53.550 --> 00:16:57.840\nIn line with this, another option would\nbe to restrict the use of NTLM through\n\n339\n00:16:57.840 --> 00:16:59.952\nsomething called NTLM blocking, yet\n\n340\n00:16:59.952 --> 00:17:03.318\nanother policy based option in\ngroup policy that we can use.\n\n341\n00:17:03.318 --> 00:17:06.460\nYet another way to just cut\nthe legs off underneath some\n\n342\n00:17:06.460 --> 00:17:11.190\nof these older authentication and\nvalidation technologies that we support.\n\n343\n00:17:11.190 --> 00:17:13.572\nMeaning old school ways\nof doing things and\n\n344\n00:17:13.572 --> 00:17:17.224\nget rid of that old support to\nprevent insecure configurations.\n\n345\n00:17:17.224 --> 00:17:20.340\nWe'll go back into our policy editor\nwhile I'm bringing you up the path.\n\n346\n00:17:20.340 --> 00:17:21.430\nI know you were asking to say something\n&gt;&gt; Sure.\n\n347\n00:17:21.430 --> 00:17:22.440\n&gt;&gt; if you wanna say something.\n\n348\n00:17:22.440 --> 00:17:23.780\nLet me just bring the path up while\n&gt;&gt; Okay.\n\n349\n00:17:23.780 --> 00:17:25.940\n&gt;&gt; You're asking your question, making\nyour comment then we'll talk about it.\n\n350\n00:17:25.940 --> 00:17:28.395\nAnd we'll take a look at where\nwe can go to set this as well.\n\n351\n00:17:28.395 --> 00:17:32.116\n&gt;&gt; Yeah, I was just gonna point out, don't\nlet that name fool you here when you take\n\n352\n00:17:32.116 --> 00:17:34.170\na look at that new technology lan manager.\n\n353\n00:17:34.170 --> 00:17:38.960\nBecause it was new at one point when it\nwas originally replacing lan manager, but\n\n354\n00:17:38.960 --> 00:17:41.140\nit's not considered new\nat this point in time.\n\n355\n00:17:41.140 --> 00:17:45.770\nAs a matter of fact Version 2, is that\nthe latest version that's out now, Adam?\n\n356\n00:17:45.770 --> 00:17:46.800\n&gt;&gt; For NTLM?\n&gt;&gt; Yes.\n\n357\n00:17:46.800 --> 00:17:48.817\n&gt;&gt; That's the latest versions that's\nbeen out for several generations but\n\n358\n00:17:48.817 --> 00:17:50.490\nit is the latest one cuz we're\nnot continuing it [CROSSTALK].\n\n359\n00:17:50.490 --> 00:17:53.164\n&gt;&gt; So, okay, just making sure I didn't\nmiss out on like version 3 or anything.\n\n360\n00:17:53.164 --> 00:17:57.454\n&gt;&gt; We put that out when you were not\npaying attention we didn't tell you,\n\n361\n00:17:57.454 --> 00:17:58.040\nbut yeah.\n\n362\n00:17:58.040 --> 00:18:01.933\nIt did actually come out where was\nI going,I was going [INAUDIBLE].\n\n363\n00:18:01.933 --> 00:18:06.382\n&gt;&gt; So we are talking about NTLN is the\nolder technology here just saying hey we\n\n364\n00:18:06.382 --> 00:18:10.420\ndon't want you to use it so\nhere's a way you can actually block it.\n\n365\n00:18:10.420 --> 00:18:15.228\n&gt;&gt; Yes, absolutely, could do that, all\nright what I am I doing, I'm going into,\n\n366\n00:18:15.228 --> 00:18:19.575\nwhere am I going, yeah policy,\nwhere am I going, Windows settings.\n\n367\n00:18:19.575 --> 00:18:22.199\nI keep opening Windows settings I keep\nthinking I'm not going there cuz I'm\n\n368\n00:18:22.199 --> 00:18:24.882\nlistening to you with half an ear and\nnot paying attention to what I'm doing.\n\n369\n00:18:24.882 --> 00:18:29.554\nAll right so yeah let me bring this up,\nsecurity settings, and\n\n370\n00:18:29.554 --> 00:18:35.658\nlocal policy security options and there\nwe are, whoops there we are right there.\n\n371\n00:18:35.658 --> 00:18:40.511\nAnd among the many many many options\nwe have in here lets go down because\n\n372\n00:18:40.511 --> 00:18:45.283\nthis is alphabetical so network\nsecurity kind of scroll down here and\n\n373\n00:18:45.283 --> 00:18:48.210\nlet's just center all that.\n\n374\n00:18:48.210 --> 00:18:51.880\nAnd right there we've got a whole\nbunch that say restrict NTLM.\n\n375\n00:18:51.880 --> 00:18:54.890\nLet's kinda open this up a little bit so\nyou can see some of this.\n\n376\n00:18:54.890 --> 00:18:56.250\nCan we go full screen,\nit's kinda hard to see.\n\n377\n00:18:56.250 --> 00:19:00.886\nThey're small as it is and even harder to\nsee if you're at like a quarter screen.\n\n378\n00:19:00.886 --> 00:19:03.880\nSo you can see there\nare different policies here.\n\n379\n00:19:03.880 --> 00:19:08.752\nNetwork security, restrict NTLM, ad remote\nserver exceptions for NTLM authentication.\n\n380\n00:19:08.752 --> 00:19:15.313\nAdd server exceptions in this domain,\naudit incoming, audit in this domain,\n\n381\n00:19:15.313 --> 00:19:20.828\nrestrict incoming NTLM, restrict\nNTLM authentication in this domain.\n\n382\n00:19:20.828 --> 00:19:25.156\nRestrict outgoing to other servers,\nthere's a whole series of policy's that\n\n383\n00:19:25.156 --> 00:19:29.227\nwe can implement here, or settings\nwithin group policy we can implement,\n\n384\n00:19:29.227 --> 00:19:33.080\nto prevent or tightly control and\ncut back on the use of NTLM.\n\n385\n00:19:33.080 --> 00:19:36.340\nNTLM, as Cherokee suggests,\nhas been around for some time now.\n\n386\n00:19:36.340 --> 00:19:40.270\nThis is not new, it's been around forever,\nbut we find more and more,\n\n387\n00:19:40.270 --> 00:19:43.000\nas we are progressing with\nnewer operating systems and\n\n388\n00:19:43.000 --> 00:19:47.360\nusing this, that it is becoming more\nof an insecure technology for us.\n\n389\n00:19:47.360 --> 00:19:50.448\nBecause it risks the exposure of\nthe credential, and as a result,\n\n390\n00:19:50.448 --> 00:19:51.618\ncan lead to compromise.\n\n391\n00:19:51.618 --> 00:19:55.939\nAnd so we're really trying to figure out a\nseries of technological overlays remember\n\n392\n00:19:55.939 --> 00:19:58.819\nthis idea, we talked about\nwith defense in depth right,\n\n393\n00:19:58.819 --> 00:20:02.799\nwhere we are building out different\nlayers of controls and counter measures.\n\n394\n00:20:02.799 --> 00:20:07.784\nMutually overlapping, reinforcing one\nanother credential guard could be one of\n\n395\n00:20:07.784 --> 00:20:12.790\nthose reigns, restricting use of NTLM\nthrough policy can be another, right?\n\n396\n00:20:12.790 --> 00:20:16.684\nThe use of protected use, protected\ngroups like we talked about could be one,\n\n397\n00:20:16.684 --> 00:20:19.168\nthe use of managed service\naccounts could be one.\n\n398\n00:20:19.168 --> 00:20:23.478\nWe're not just doing one thing, but we're\nadding in multiple layers of protection\n\n399\n00:20:23.478 --> 00:20:26.815\nand hoping that as we do more and\nmore of this, and cut back more and\n\n400\n00:20:26.815 --> 00:20:30.842\nmore on the use of older technologies\nin favor of new, more secure solutions.\n\n401\n00:20:30.842 --> 00:20:34.299\nThat we really get to the point where\nwe're gonna prevent the likelihood that\n\n402\n00:20:34.299 --> 00:20:38.340\nsomebody's gonna be able to do something,\ninadvertently, more often than not.\n\n403\n00:20:38.340 --> 00:20:41.210\nThat's gonna expose credentials and\nlead to compromising, so\n\n404\n00:20:41.210 --> 00:20:42.770\nthat's what we're talking about here.\n\n405\n00:20:42.770 --> 00:20:46.989\nIf we restrict NTLM outgoing traffic\nto remove servers, this one right here.\n\n406\n00:20:46.989 --> 00:20:50.270\nLet's just highlight this and\ntake a look at this one.\n\n407\n00:20:50.270 --> 00:20:55.850\nIt says here, define this policy setting,\ndo we allow all, audit all, deny all.\n\n408\n00:20:55.850 --> 00:20:59.610\nIt says, modifying the setting may affect\ncompatibility of client services and or\n\n409\n00:20:59.610 --> 00:21:00.230\napplications.\n\n410\n00:21:00.230 --> 00:21:04.085\nFor more information, see here and\nunderstanding what we're doing.\n\n411\n00:21:04.085 --> 00:21:08.785\nSecurity policy technical reference\nmeaning go and click here, assuming we\n\n412\n00:21:08.785 --> 00:21:13.500\nare linked to the Internet and obviously\nhave to have capabilities to go out.\n\n413\n00:21:13.500 --> 00:21:18.016\nYou can click and see, we can go through\nand when we do this, it gives us a little\n\n414\n00:21:18.016 --> 00:21:23.390\nbit more information about the values, are\nwe gonna audit, keep track of the traffic.\n\n415\n00:21:23.390 --> 00:21:25.577\nObviously not denied,\njust simply know what's going on with it.\n\n416\n00:21:25.577 --> 00:21:27.103\nDeny any or all this traffic,\n\n417\n00:21:27.103 --> 00:21:31.745\nthe computer could not authenticate any\nidentity to remote server using NTLM.\n\n418\n00:21:31.745 --> 00:21:33.105\nWhen we do this, right,\n\n419\n00:21:33.105 --> 00:21:36.875\nwe have to define a list of servers\nto which a client will allow or deny.\n\n420\n00:21:36.875 --> 00:21:41.025\nSo, if we do this and we block NTLM and\nwe have a requirement to still use it for\n\n421\n00:21:41.025 --> 00:21:43.180\nolder applications as we were suggesting.\n\n422\n00:21:43.180 --> 00:21:46.415\nWe've essentially just cut them off and\nprevented our ability to authenticate.\n\n423\n00:21:46.415 --> 00:21:48.085\nSo, we do have to be aware of that.\n\n424\n00:21:48.085 --> 00:21:51.246\nIt says best practice down here right.\n\n425\n00:21:51.246 --> 00:21:53.028\nIf you deny all, just go back up,\n\n426\n00:21:53.028 --> 00:21:58.020\nthe client computer can not authenticate\nidentities to remote server using NTLM.\n\n427\n00:21:58.020 --> 00:22:01.790\nFirst, select audit all and then review\nyour ops log to understand whether you\n\n428\n00:22:01.790 --> 00:22:05.863\nare transmitting this traffic, and if so\nwhose using it is the recommendation.\n\n429\n00:22:05.863 --> 00:22:08.289\nIf you could go through and\neliminate literally line by line,\n\n430\n00:22:08.289 --> 00:22:11.475\ncomputer by computer, service account\nby service account, what's going on?\n\n431\n00:22:11.475 --> 00:22:14.516\nIn this case computer not service\naccounts but you get the idea,\n\n432\n00:22:14.516 --> 00:22:16.735\nwe'd have to audit for a period of time.\n\n433\n00:22:16.735 --> 00:22:19.395\nLook at the amount of\ntransactional traffic.\n\n434\n00:22:19.395 --> 00:22:23.000\nVerify what computers are using it and\nwhy is the best practice recommendation.\n\n435\n00:22:23.000 --> 00:22:25.641\nAnd then assuming we can account for\nall that,\n\n436\n00:22:25.641 --> 00:22:29.908\ncome up with a way to deal with those\ncomputer accounts without using NTLM,\n\n437\n00:22:29.908 --> 00:22:34.690\nthen the recommendation is, okay,\nlet's put all that other stuff in place.\n\n438\n00:22:34.690 --> 00:22:36.740\nThen we can go ahead and\ncut back on the use.\n\n439\n00:22:36.740 --> 00:22:39.821\nBut just cutting it off without\nknowing what's using it and why, well,\n\n440\n00:22:39.821 --> 00:22:41.956\nit's not recommended and certainly as.\n\n441\n00:22:41.956 --> 00:22:44.064\nIt will get the job done,\ndon't get me wrong but\n\n442\n00:22:44.064 --> 00:22:47.795\nyou're gonna break a lot of things in\nthe process is what we're suggesting.\n\n443\n00:22:47.795 --> 00:22:50.888\nAnd while you may wanna then go back and\njust fix it on an as-needed kind of\n\n444\n00:22:50.888 --> 00:22:54.152\nfirst-come, first-serve basis,\nyou're probably gonna miss things.\n\n445\n00:22:54.152 --> 00:22:56.765\nYou're not gonna know about\neverything that's not working.\n\n446\n00:22:56.765 --> 00:22:59.702\nCherokee, in one of our earlier episodes,\ntalked about service accounts and\n\n447\n00:22:59.702 --> 00:23:02.831\nthe concerns around messing around with\nthem because we may break functionality.\n\n448\n00:23:02.831 --> 00:23:05.520\nWe may not see that break for\na period of time.\n\n449\n00:23:05.520 --> 00:23:07.890\nSo you have to really be\nthinking about the logic of this.\n\n450\n00:23:07.890 --> 00:23:11.260\nBut we can certainly go through read up\non the dos and don't and have a better\n\n451\n00:23:11.260 --> 00:23:14.590\nunderstanding of, of any of the settings,\nI'm just showing you a group of them.\n\n452\n00:23:14.590 --> 00:23:17.160\nBut pointing out that we\ndo have options here and\n\n453\n00:23:17.160 --> 00:23:18.600\nwe do wanna make sure we're aware of that.\n\n454\n00:23:18.600 --> 00:23:23.470\nBut to be clear, the best practice\nrecommendation from Microsoft right\n\n455\n00:23:23.470 --> 00:23:26.220\nIs to make sure that you audit first.\n\n456\n00:23:26.220 --> 00:23:27.793\nAnd then only after auditing and\n\n457\n00:23:27.793 --> 00:23:30.997\nunderstanding the impact of your\nchoices do we then enable this or\n\n458\n00:23:30.997 --> 00:23:35.383\nany of these settings, assuming that we're\nable to understand what they're gonna do.\n\n459\n00:23:35.383 --> 00:23:37.735\nSo we have restrict NTLM now going.\n\n460\n00:23:37.735 --> 00:23:40.759\nWe have restrict audit or\nthe ability to do auditing on incoming and\n\n461\n00:23:40.759 --> 00:23:44.593\noutgoing think about those and also in the\ndomain we talk about the different options\n\n462\n00:23:44.593 --> 00:23:45.735\nhere in the group of set.\n\n463\n00:23:45.735 --> 00:23:48.626\nSo I want to make sure\nyou are aware of that and\n\n464\n00:23:48.626 --> 00:23:53.628\nthen obviously we want to thing about what\nwe can do if we deny access of this or\n\n465\n00:23:53.628 --> 00:23:58.111\ndeny the use of this for domain\naccounts or we allow it to take place.\n\n466\n00:23:58.111 --> 00:23:59.660\nWe create a exception list.\n\n467\n00:23:59.660 --> 00:24:02.470\nWe have different options depending\non how we're gonna choose to kind\n\n468\n00:24:02.470 --> 00:24:03.860\nof move through the logic of this.\n\n469\n00:24:03.860 --> 00:24:07.456\nThere is a website I wanted to point\nout to you, not the one we went to,\n\n470\n00:24:07.456 --> 00:24:09.240\nby the way, but another one.\n\n471\n00:24:09.240 --> 00:24:13.390\nIntroducing the Restriction\nof NTLM Authentication.\n\n472\n00:24:13.390 --> 00:24:17.507\nAgain, NTLM's been around for some time,\nso we've had it for a while now.\n\n473\n00:24:17.507 --> 00:24:20.503\nAnd just taking a look at this and\nunderstanding the use of NTLM,\n\n474\n00:24:20.503 --> 00:24:23.760\nhow to understand its usage,\nassessing it through auditing.\n\n475\n00:24:23.760 --> 00:24:25.840\nGives us some good guidance here, again.\n\n476\n00:24:25.840 --> 00:24:29.834\nYou probably wanna take a look\nat these links embedded here or\n\n477\n00:24:29.834 --> 00:24:33.532\nburied here to better\nunderstand the thought process.\n\n478\n00:24:33.532 --> 00:24:36.311\nWe've just walked through one of\nthe help files I kinda showed you or\n\n479\n00:24:36.311 --> 00:24:37.810\nencouraged you to take a look at.\n\n480\n00:24:37.810 --> 00:24:39.940\nSo I just wanna make sure\nyou're familiar with this or\n\n481\n00:24:39.940 --> 00:24:42.070\nat least have a sense of this.\n\n482\n00:24:42.070 --> 00:24:44.707\nLet's talk about something else\nwhich also may be important here.\n\n483\n00:24:44.707 --> 00:24:47.833\nAnd not from our policy perspective or\nfrom a configuration perspective,\n\n484\n00:24:47.833 --> 00:24:50.175\nsomething known as a privileged\naccount workstation.\n\n485\n00:24:50.175 --> 00:24:52.273\nIt's got a great acronym\nif you're a cat person.\n\n486\n00:24:52.273 --> 00:24:53.473\nIt's called PAWS.\n\n487\n00:24:53.473 --> 00:24:54.524\nYou like that, right, PAWS?\n\n488\n00:24:54.524 --> 00:24:56.038\n&gt;&gt; Meow.\n&gt;&gt; Yeah, exactly, right.\n\n489\n00:24:56.038 --> 00:24:57.309\nThat could be your-\n&gt;&gt; Not a cat person.\n\n490\n00:24:57.309 --> 00:25:00.944\n&gt;&gt; That's good, cuz that could be your\nlittle puppet identity there, right?\n\n491\n00:25:00.944 --> 00:25:02.976\nThe anti-cat,\nit could be like the dog with a-\n\n492\n00:25:02.976 --> 00:25:03.633\n&gt;&gt; Dog person.\n\n493\n00:25:03.633 --> 00:25:06.910\n&gt;&gt; With a dog, right exactly, so\nwhether you're a dog or a cat, right?\n\n494\n00:25:06.910 --> 00:25:10.775\nSo privilege account workstations,\nthe idea of hardening the workstations\n\n495\n00:25:10.775 --> 00:25:14.775\nthat are configured specifically\ndelegated certain roles and\n\n496\n00:25:14.775 --> 00:25:16.945\nresponsibilities on these workstations.\n\n497\n00:25:16.945 --> 00:25:19.055\nReally just going in and using them for\n\n498\n00:25:19.055 --> 00:25:21.842\ndedicated administrative purposes\nis what we're talking about.\n\n499\n00:25:21.842 --> 00:25:25.012\nHarden them by stripping out\nall the unnecessary services,\n\n500\n00:25:25.012 --> 00:25:28.482\nmaking sure that only authorized\nusers sign into them.\n\n501\n00:25:28.482 --> 00:25:32.172\nSo blocking access unless you're\non a certain kind of list.\n\n502\n00:25:32.172 --> 00:25:36.932\nThings that can be enabled through group\npolicy, app blocker, policies to control\n\n503\n00:25:36.932 --> 00:25:40.042\ncertain applications that are gonna\nonly run there and are authorized.\n\n504\n00:25:40.042 --> 00:25:43.392\nDevice guard, which we'll talk about and\nget into later,\n\n505\n00:25:43.392 --> 00:25:48.283\nwhere we're blocking access to certain\napplications preventing them from running.\n\n506\n00:25:48.283 --> 00:25:52.968\nAnd controlling what goes on on the device\nwith group policy, using credential guard,\n\n507\n00:25:52.968 --> 00:25:54.882\nwe've talked about that already.\n\n508\n00:25:54.882 --> 00:25:58.952\nUsing BitLocker on this kind of a\nworkstation to do full volume encryption,\n\n509\n00:25:58.952 --> 00:26:01.814\nto encrypt the hard drive and\nprotect credentials and\n\n510\n00:26:01.814 --> 00:26:04.250\ninformation that's stored there.\n\n511\n00:26:04.250 --> 00:26:07.180\nMaking sure that we are thinking\nabout how to protect and\n\n512\n00:26:07.180 --> 00:26:10.100\nset up this kind of a workstation would be\n\n513\n00:26:10.100 --> 00:26:14.570\na thought process that as a security\npractitioner would be important for you.\n\n514\n00:26:14.570 --> 00:26:20.120\nAgain, it's not one specific thing like\nit is with cutting off NTML access or\n\n515\n00:26:20.120 --> 00:26:24.240\nenabling credential guards that's a single\npolicy, single configuration element.\n\n516\n00:26:24.240 --> 00:26:28.981\nIt's a collection of different ideas to\nharden and strengthen the security and\n\n517\n00:26:28.981 --> 00:26:33.171\nthe protection perimeter and\nthe layers of controls on this machine.\n\n518\n00:26:33.171 --> 00:26:35.717\nSo this is almost a pure\nessence of defense and\n\n519\n00:26:35.717 --> 00:26:38.870\ndepth because we're distilling\ndown all those ideas.\n\n520\n00:26:38.870 --> 00:26:42.050\nAnd saying let's apply a group\nof these configurations,\n\n521\n00:26:42.050 --> 00:26:44.410\na group of these protections,\nto the system.\n\n522\n00:26:44.410 --> 00:26:48.253\nHarden the system, make it such that\neven if we're not doing everything,\n\n523\n00:26:48.253 --> 00:26:51.426\nthat we are able to still protect\nis because the combination.\n\n524\n00:26:51.426 --> 00:26:54.645\nThe derivative of all these\nparticular features we're enabling,\n\n525\n00:26:54.645 --> 00:26:58.495\nall these policies we're putting together,\nwill make the system more secure.\n\n526\n00:26:58.495 --> 00:27:01.002\nYeah?\n&gt;&gt; It just really makes sense because if\n\n527\n00:27:01.002 --> 00:27:04.109\nyou really think about it\nfrom the perspective of, hey,\n\n528\n00:27:04.109 --> 00:27:07.868\nwe're normally not performing\nmaintenance directly on our servers\n\n529\n00:27:07.868 --> 00:27:12.556\nif we have the ability to manage remotely,\njust to help reduce that CPU utilization.\n\n530\n00:27:12.556 --> 00:27:18.611\nSo if I say, hey, XYZ tasks should be\nperformed on this particular workstation,\n\n531\n00:27:18.611 --> 00:27:23.525\nit really helps creating alert if\nsomeone were to even try to work on\n\n532\n00:27:23.525 --> 00:27:27.507\na particular machine that\nwasn't designated it so.\n\n533\n00:27:27.507 --> 00:27:32.274\n&gt;&gt; It will and it does allow us to be\nselective as to what machines maybe use as\n\n534\n00:27:32.274 --> 00:27:37.216\nyou were suggesting for certain\ncapabilities, certain things, maybe.\n\n535\n00:27:37.216 --> 00:27:41.872\nWe're gonna create user accounts on this\nmachine, so we're gonna obviously install\n\n536\n00:27:41.872 --> 00:27:45.709\nthe active directory either user in\ncomputer's tool or the ADAP tool.\n\n537\n00:27:45.709 --> 00:27:48.685\nBut maybe this is a remote workstation,\nit's not a domain controller cuz\n\n538\n00:27:48.685 --> 00:27:51.901\ntraditionally, you don't do this kind of\nwork even though we demo this work all\n\n539\n00:27:51.901 --> 00:27:54.889\nthe time on domain controllers in our\nenvironments and our walk through.\n\n540\n00:27:54.889 --> 00:27:57.518\nThe reality is as a best practice\nyou would never traditionally\n\n541\n00:27:57.518 --> 00:27:59.868\nsit down at the domain controller and\ndo this directly.\n\n542\n00:27:59.868 --> 00:28:02.977\nYou're just the administrative workstation\nwith tools installed to do this, right?\n\n543\n00:28:02.977 --> 00:28:06.614\nAs a normal security professional or\nnormal IT admin.\n\n544\n00:28:06.614 --> 00:28:09.151\nAnd you would have\na restricted use account to do\n\n545\n00:28:09.151 --> 00:28:11.761\nthat where you would Central SU or\nsuper user up.\n\n546\n00:28:11.761 --> 00:28:16.062\nSo you would use a domain admin credential\nthat's auditable and trackable during\n\n547\n00:28:16.062 --> 00:28:20.310\nthose usage conditions, and then use a\nnormal user account the rest of the time.\n\n548\n00:28:20.310 --> 00:28:24.460\nThese are the standard best practices we\nwould hope you would be implementing and\n\n549\n00:28:24.460 --> 00:28:25.050\nfocus on.\n\n550\n00:28:25.050 --> 00:28:30.410\nAnd so as a result on these dedicated work\nstations this may be your normal machine.\n\n551\n00:28:30.410 --> 00:28:34.607\nYou have all these tools there, but what\nwe would say is if you're gonna create\n\n552\n00:28:34.607 --> 00:28:37.914\na PAWS solution,\na protected access workstation solution,\n\n553\n00:28:37.914 --> 00:28:42.002\ncreate a dedicated machine, that is\nsecured maybe in an office somewhere.\n\n554\n00:28:42.002 --> 00:28:45.334\nSo you have physical, you mentioned in one\nof our first episodes around this topic.\n\n555\n00:28:45.334 --> 00:28:49.024\nA focus on the physical security as\nwell as the logical protections, right?\n\n556\n00:28:49.024 --> 00:28:50.689\n&gt;&gt; Right.\n&gt;&gt; Don't forget to lock the door and\n\n557\n00:28:50.689 --> 00:28:53.868\nmake sure you know whose got the key as\nopposed to just making sure you secure\n\n558\n00:28:53.868 --> 00:28:54.870\nthe workstation.\n\n559\n00:28:54.870 --> 00:28:58.820\nThat's great advice that Cherokee offered\nus because in this example we wanna put\n\n560\n00:28:58.820 --> 00:29:02.370\nthis dedicated workstation in a room\nwhere maybe only certain people have\n\n561\n00:29:02.370 --> 00:29:03.185\nrights to go in.\n\n562\n00:29:03.185 --> 00:29:06.610\nAnd then only certain user\naccounts were allowed to log on.\n\n563\n00:29:06.610 --> 00:29:10.660\nAnd there are application policies in\nplace like app locker that allows a way\n\n564\n00:29:10.660 --> 00:29:15.750\ncertain services and certain as a result\napplications and accounts to be used.\n\n565\n00:29:15.750 --> 00:29:18.934\nAnd Bitlocker will encrypt the drive and\nCredential Guard will protect\n\n566\n00:29:18.934 --> 00:29:22.342\nthe credentials that are used there or\nnot you will allow them to be exposed.\n\n567\n00:29:22.342 --> 00:29:24.541\nAnd all this kind of stuff,\nand as a result,\n\n568\n00:29:24.541 --> 00:29:28.822\nwe're gonna overlay all these protections\nand then say, okay, there's only three\n\n569\n00:29:28.822 --> 00:29:32.526\npeople that will be able to go and\nthen use these protected workstations.\n\n570\n00:29:32.526 --> 00:29:34.366\nAnd those are the three directory or\n\n571\n00:29:34.366 --> 00:29:36.886\ndomain admins that have\nrights to create users.\n\n572\n00:29:36.886 --> 00:29:40.744\nOr maybe we're gonna use delegation,\nthe delegation of control wizard, and\n\n573\n00:29:40.744 --> 00:29:43.860\ngive certain users rights to do use for\nadministration.\n\n574\n00:29:43.860 --> 00:29:46.570\nAnd we'll force them to use these\nmachines under these conditions.\n\n575\n00:29:46.570 --> 00:29:50.500\nSo we definitely can tighten that\nup by using the technology thought\n\n576\n00:29:50.500 --> 00:29:51.357\nprocess like this.\n\n577\n00:29:51.357 --> 00:29:54.941\nBut we'd have to really think\nabout all the different controls,\n\n578\n00:29:54.941 --> 00:29:58.603\nthe logical as well as the physical\nas well as the administrative.\n\n579\n00:29:58.603 --> 00:30:02.131\nThe policy based controls that we're gonna\napply across the board to protect this\n\n580\n00:30:02.131 --> 00:30:02.854\nkind of system.\n\n581\n00:30:02.854 --> 00:30:06.950\nSo it is gonna be, you're kind\nof in an environmental approach.\n\n582\n00:30:06.950 --> 00:30:08.479\nLots of different things coming together.\n\n583\n00:30:08.479 --> 00:30:09.479\nA holistic solution.\n\n584\n00:30:09.479 --> 00:30:10.244\n&gt;&gt; That will bring those layers up.\n\n585\n00:30:10.244 --> 00:30:13.726\n&gt;&gt; All those layers have to be assigned,\nheld up, reinforced and\n\n586\n00:30:13.726 --> 00:30:15.444\nvalidated against one other.\n\n587\n00:30:15.444 --> 00:30:17.009\nAs you were suggesting,\nabsolutely correct.\n\n588\n00:30:17.009 --> 00:30:19.760\n&gt;&gt; Kind of like an ogre or an onion.\n\n589\n00:30:19.760 --> 00:30:23.141\n&gt;&gt; Like an ogre, I've never peeled an ogre\nbut I've heard peeling the onion before.\n\n590\n00:30:23.141 --> 00:30:24.391\n&gt;&gt; Have you ever seen Shrek?\n\n591\n00:30:24.391 --> 00:30:24.946\n&gt;&gt; Yeah, I have.\n\n592\n00:30:24.946 --> 00:30:25.588\n&gt;&gt; Okay.\n\n593\n00:30:25.588 --> 00:30:26.180\n&gt;&gt; So like an ogre?\n\n594\n00:30:26.180 --> 00:30:28.938\n&gt;&gt; Yeah, he said, ogres are like onions,\nthey have many layers.\n\n595\n00:30:28.938 --> 00:30:30.751\nAnd so should our networks.\n\n596\n00:30:30.751 --> 00:30:34.101\n&gt;&gt; Okay, I didn't, I must have missed that\npart of the movie when I was watching,\n\n597\n00:30:34.101 --> 00:30:35.059\nI did not see that one.\n\n598\n00:30:35.059 --> 00:30:37.225\nWas that in Shrek one,\ncuz like there was like two or three.\n\n599\n00:30:37.225 --> 00:30:37.890\n&gt;&gt; Yeah, that was in Shrek one.\n\n600\n00:30:37.890 --> 00:30:39.740\n&gt;&gt; It was the first one, right?\n\n601\n00:30:39.740 --> 00:30:40.722\nOkay, I must have missed that one,\nI'm sorry.\n\n602\n00:30:40.722 --> 00:30:41.290\n&gt;&gt; It's okay.\n\n603\n00:30:41.290 --> 00:30:42.211\n&gt;&gt; But I'll believe you,\n\n604\n00:30:42.211 --> 00:30:44.270\ncuz I know that you're the expert on the-\n&gt;&gt; Disney movies.\n\n605\n00:30:44.270 --> 00:30:45.565\n&gt;&gt; The Disney child movies, correct.\n\n606\n00:30:45.565 --> 00:30:47.190\nRight, so that is your bailiwick.\n\n607\n00:30:47.190 --> 00:30:48.808\nThat is where you reign supreme.\n\n608\n00:30:48.808 --> 00:30:51.226\nAll right, so we have talked about PAWS.\n\n609\n00:30:51.226 --> 00:30:54.004\nWe have talked about-\n&gt;&gt; You know dogs have paws too.\n\n610\n00:30:54.004 --> 00:30:57.355\n&gt;&gt; I would hope so, most-\n&gt;&gt; Well you said it was a cat.\n\n611\n00:30:57.355 --> 00:30:58.825\n&gt;&gt; No I just said, just like a cat or\n\n612\n00:30:58.825 --> 00:31:01.276\na dog you just happen to prefer\ndogs instead of cats but\n\n613\n00:31:01.276 --> 00:31:04.460\nyou know there's lots of people out\nthere that may like cats as well.\n\n614\n00:31:04.460 --> 00:31:05.105\n&gt;&gt; This is true.\n\n615\n00:31:05.105 --> 00:31:09.699\n&gt;&gt; It's not an either or kind of\nthing necessarily maybe a both thing.\n\n616\n00:31:09.699 --> 00:31:11.005\n&gt;&gt; NTLM blocker.\n\n617\n00:31:11.005 --> 00:31:13.607\n&gt;&gt; We did NTLM blocker,\nwe did that as well.\n\n618\n00:31:13.607 --> 00:31:14.674\nWhat else did we do?\n\n619\n00:31:14.674 --> 00:31:17.586\n&gt;&gt; You're putting me in the spot\nhere I have to think about this,\n\n620\n00:31:17.586 --> 00:31:18.989\nI gotta look at my notes here.\n\n621\n00:31:18.989 --> 00:31:20.088\n&gt;&gt; We did Credential Guard.\n\n622\n00:31:20.088 --> 00:31:21.482\n&gt;&gt; We did Credential Guard,\nthat was the first thing.\n\n623\n00:31:21.482 --> 00:31:22.245\n&gt;&gt; We did, right.\n\n624\n00:31:22.245 --> 00:31:23.206\nSo we did a bunch of different stuff.\n\n625\n00:31:23.206 --> 00:31:23.962\n&gt;&gt; You showed us how to set that up.\n\n626\n00:31:23.962 --> 00:31:24.749\n&gt;&gt; I did showed you how to set that up.\n\n627\n00:31:24.749 --> 00:31:28.103\nTalk about these aspects of group\npolicy that we can use to really\n\n628\n00:31:28.103 --> 00:31:31.717\nfocus on management, kind of\nthe theme of this particular episode.\n\n629\n00:31:31.717 --> 00:31:34.371\nWe do, unfortunately, since we\nare out of time, have to come back.\n\n630\n00:31:34.371 --> 00:31:36.174\nNot unfortunately,\nwe always want to come back, and\n\n631\n00:31:36.174 --> 00:31:39.150\nit's not unfortunate when we're gonna\ncome back with more stuff to talk about.\n\n632\n00:31:39.150 --> 00:31:42.570\nIt's just unfortunate we can't fit it into\nthis episode, but we are gonna come back.\n\n633\n00:31:42.570 --> 00:31:44.900\nThere is at least one\nadditional thing we need to do.\n\n634\n00:31:44.900 --> 00:31:47.510\nSomething called LAPS, which you may or\nmay not have heard of.\n\n635\n00:31:47.510 --> 00:31:50.030\nLocal Administrator Password Solutions,\nyet\n\n636\n00:31:50.030 --> 00:31:52.830\nanother technology that Microsoft\nhas made available to us.\n\n637\n00:31:52.830 --> 00:31:55.590\nWe're gonna demo that, or at least talk\nabout how to set that up and what that is.\n\n638\n00:31:55.590 --> 00:31:58.950\nAnd we're gonna do a quick overview\nof some of those default settings of\n\n639\n00:31:58.950 --> 00:32:01.840\nthe domain that I talked about way\nback in one of our earlier episodes\n\n640\n00:32:01.840 --> 00:32:03.190\njust to remind you where they are.\n\n641\n00:32:03.190 --> 00:32:06.060\nMake sure you know how to go find them,\nbut also point out the subtle but\n\n642\n00:32:06.060 --> 00:32:10.980\nimportant differences in our next episode\nbetween using the default domain policy\n\n643\n00:32:10.980 --> 00:32:13.330\nand the default domain\ncontroller's policy.\n\n644\n00:32:13.330 --> 00:32:16.953\nKnowing where to set security settings and\nwe're to set auditing and how we do one or\n\n645\n00:32:16.953 --> 00:32:17.481\nthe other.\n\n646\n00:32:17.481 --> 00:32:20.447\nAnd why we do them in certain places,\nwe'll be on important distinction we'll\n\n647\n00:32:20.447 --> 00:32:22.945\ncome back and we'll talk about it\nin the upcoming episode as well.\n\n648\n00:32:22.945 --> 00:32:24.931\n&gt;&gt; Well, sounds like you have\neverything planned out Adam.\n\n649\n00:32:24.931 --> 00:32:27.471\n&gt;&gt; I do, I have plans.\n\n650\n00:32:27.471 --> 00:32:30.922\n&gt;&gt; [LAUGH] All right ladies and\ngentlemen, come back for Adam's plan.\n\n651\n00:32:30.922 --> 00:32:32.389\nBut for now we'll go ahead and sign out.\n\n652\n00:32:32.389 --> 00:32:33.958\nI've been your host, Cherokee Boose.\n\n653\n00:32:33.958 --> 00:32:34.891\n&gt;&gt; I'm Adam Gordon.\n\n654\n00:32:34.891 --> 00:32:36.412\n&gt;&gt; See you next time here at ITPro.TV.\n\n655\n00:32:36.412 --> 00:32:37.568\n&gt;&gt; Give us the paw, the meow.\n\n656\n00:32:37.568 --> 00:32:38.084\n&gt;&gt; Meow.\n\n657\n00:32:38.084 --> 00:32:38.585\n&gt;&gt; There you go.\n\n658\n00:32:38.585 --> 00:32:42.986\n&gt;&gt; [LAUGH]\n&gt;&gt; Take care everybody.\n\n659\n00:32:42.986 --> 00:32:49.041\n[MUSIC]\n\n660\n00:32:49.041 --> 00:32:52.205\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "233877254"
        },
        {
          "description": "In this show, Adam and Cherokee first examine the default domain policy. Adam points out how different functions are executed at different levels. For example he shows how auditing is not occurring at the domain level but rather at the domain controller level. Next, they introduce a newer technology called Local Administrator Password Solutions (LAPS) .",
          "length": "1400",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-5-credentials_and_privileged_access-pt5-091217-PGM.00_23_04_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-5-credentials_and_privileged_access-pt5-091217-PGM.00_23_04_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-2-1-5-credentials_and_privileged_access-pt5-091217-PGM.00_23_04_21.Still001-sm.jpg",
          "title": "Credentials and Privileged Access Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.001 --> 00:00:04.844\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:04.844 --> 00:00:06.390\n[CROSSTALK]\n\n3\n00:00:06.390 --> 00:00:08.330\n[MUSIC]\n\n4\n00:00:08.330 --> 00:00:11.943\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.943 --> 00:00:15.710\n&gt;&gt; Welcome back to your securing\nWindows Server 2016 series.\n\n6\n00:00:15.710 --> 00:00:17.920\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.920 --> 00:00:19.600\nSo we've actually made it to a part five.\n\n8\n00:00:19.600 --> 00:00:24.670\nWe're gonna continue taking a look at\nhow to protect and manage credentials as\n\n9\n00:00:24.670 --> 00:00:29.960\nwells as privilege access,\nprivileged access.\n\n10\n00:00:29.960 --> 00:00:33.120\nGoodness, you'd think that by part five,\nI'd be able to say that correctly, but-\n\n11\n00:00:33.120 --> 00:00:34.430\n&gt;&gt; No, clearly not,\n\n12\n00:00:34.430 --> 00:00:37.230\nthat would just be an erroneous\nassumption on our part.\n\n13\n00:00:37.230 --> 00:00:41.220\nBut you gave it a valiant effort\nnonetheless, we do appreciate that.\n\n14\n00:00:41.220 --> 00:00:42.150\nCherokee, everybody.\n\n15\n00:00:42.150 --> 00:00:43.530\nLadies and gentlemen, thank you so much.\n\n16\n00:00:43.530 --> 00:00:44.060\n&gt;&gt; Golf clap.\n\n17\n00:00:44.060 --> 00:00:45.177\n&gt;&gt; That's awesome, Cherokee.\n\n18\n00:00:45.177 --> 00:00:45.924\nOkay, very good.\n\n19\n00:00:45.924 --> 00:00:47.540\nSo thank you, we do appreciate that.\n\n20\n00:00:47.540 --> 00:00:50.470\nSo let us actually talk\nabout stuff that well,\n\n21\n00:00:50.470 --> 00:00:52.640\nwe can pronounce and\nwe are here to talk about.\n\n22\n00:00:52.640 --> 00:00:53.140\n&gt;&gt; Laps.\n&gt;&gt; Which-\n\n23\n00:00:53.140 --> 00:00:53.866\n&gt;&gt; Are we swimming?\n\n24\n00:00:53.866 --> 00:00:54.417\n&gt;&gt; Laps?\n\n25\n00:00:54.417 --> 00:00:54.917\n&gt;&gt; Swimming laps?\n\n26\n00:00:54.917 --> 00:00:56.584\n&gt;&gt; We are, well, funny you should say,\n\n27\n00:00:56.584 --> 00:00:58.736\nyou were the whole swimmer thing.\n&gt;&gt; I was a swimmer, yeah.\n\n28\n00:00:58.736 --> 00:00:59.236\n&gt;&gt; A long time ago,\n\n29\n00:00:59.236 --> 00:01:01.176\nthat would be your thing.\nBut we're gonna do that, but\n\n30\n00:01:01.176 --> 00:01:02.539\nnot right yet.\nListen to me,\n\n31\n00:01:02.539 --> 00:01:03.559\nnot right yet.\n&gt;&gt; [LAUGH]\n\n32\n00:01:03.559 --> 00:01:04.419\n&gt;&gt; Not right now,\n\n33\n00:01:04.419 --> 00:01:06.999\nwe are gonna get to that.\nMy Southern roots are coming out\n\n34\n00:01:06.999 --> 00:01:07.599\nhere.\n&gt;&gt; Yeah, they are.\n\n35\n00:01:07.599 --> 00:01:09.199\n&gt;&gt; We are going to, and\n\n36\n00:01:09.199 --> 00:01:11.999\nI did promise you at the end of the last\nepisode we would definitely talk about\n\n37\n00:01:11.999 --> 00:01:14.630\nsomething known as laps.\nWe will do that, but before we get there,\n\n38\n00:01:14.630 --> 00:01:18.990\nI said we would also take a quick look,\nkinda remind ourselves\n\n39\n00:01:18.990 --> 00:01:21.970\nof the default policy settings\nof the default domain policy.\n\n40\n00:01:21.970 --> 00:01:24.940\nThe security setting we went through,\ngonna show you what are those are.\n\n41\n00:01:24.940 --> 00:01:28.027\nBut I really said we would focus\nnot just on that, cuz that's easy.\n\n42\n00:01:28.027 --> 00:01:30.154\nJust a quick click, and\nwe see where they are.\n\n43\n00:01:30.154 --> 00:01:33.935\nBut I wanted to draw out and talk about\nthe difference between why we set security\n\n44\n00:01:33.935 --> 00:01:37.322\nsettings at one policy level and\naudit settings at another policy level\n\n45\n00:01:37.322 --> 00:01:39.820\nbetween the two default\npolicies that are built in.\n\n46\n00:01:39.820 --> 00:01:43.320\nThe default domain policy and\nthe domain controllers policy,\n\n47\n00:01:43.320 --> 00:01:45.020\nwhich is on the domain controllers OU.\n\n48\n00:01:45.020 --> 00:01:49.339\nWe have two group policies by default\nthat we manage security with and manage\n\n49\n00:01:49.339 --> 00:01:53.806\nthrough, but we manage very specific\naspects of them in each of the policies.\n\n50\n00:01:53.806 --> 00:01:57.003\nAnd we don't tend to mix and\nmatch or somehow combine or\n\n51\n00:01:57.003 --> 00:02:01.260\ntry to create one policy that does\nboth for some very important reasons.\n\n52\n00:02:01.260 --> 00:02:02.180\nSo lets start with that,\n\n53\n00:02:02.180 --> 00:02:05.580\nand then we'll end up talking about laps,\nwhich is a newer thought process.\n\n54\n00:02:05.580 --> 00:02:08.880\nOne that we should pay attention to and\nis Group Policy driven, but\n\n55\n00:02:08.880 --> 00:02:12.500\nshares some configuration requirements,\nnot so much with Group Policy, but\n\n56\n00:02:12.500 --> 00:02:14.740\nreally more through PowerShell,\nwe'll talk more about that.\n\n57\n00:02:14.740 --> 00:02:16.200\nSo join me here, if you will.\n\n58\n00:02:16.200 --> 00:02:19.490\nI have the default domain\ncontrollers policy and\n\n59\n00:02:19.490 --> 00:02:22.510\nthe default domain policy,\nboth available to us.\n\n60\n00:02:22.510 --> 00:02:25.715\nBut right now, we're looking at\nthe default domain policy here, and\n\n61\n00:02:25.715 --> 00:02:27.965\nwe'll just take a look at this real quick.\n\n62\n00:02:27.965 --> 00:02:32.075\nI'm in the Group Policy Management editor,\nso I've gone to the Server Manager, opened\n\n63\n00:02:32.075 --> 00:02:36.455\nup the Group Policy Management Console,\nand I'm editing the default domain policy.\n\n64\n00:02:36.455 --> 00:02:40.525\nNow in the default domain policy, you can\nsee, I'm on the computer side right here.\n\n65\n00:02:41.610 --> 00:02:44.900\nUnder Policies, under Windows settings,\nunder Security Settings,\n\n66\n00:02:44.900 --> 00:02:47.660\nunder Account Policies,\nunder Password Policy.\n\n67\n00:02:47.660 --> 00:02:50.685\nAnd there, you could see all the default\nsettings that we mentioned and\n\n68\n00:02:50.685 --> 00:02:52.508\ntalked about in one of our prior episodes.\n\n69\n00:02:52.508 --> 00:02:57.252\n24 passwords for our password history,\n42 days for max, 1 day for\n\n70\n00:02:57.252 --> 00:03:01.859\nminimum in terms of password history,\nor excuse me, password age.\n\n71\n00:03:01.859 --> 00:03:05.833\nAnd then password length minimum,\ncomplexity required, right?\n\n72\n00:03:05.833 --> 00:03:07.450\nThose are all the default\nsettings we enumerated.\n\n73\n00:03:07.450 --> 00:03:12.537\nThose are all part of the password policy\nsubset within the default domain policy.\n\n74\n00:03:12.537 --> 00:03:16.197\nNow the Account Lockout Policy we\nmentioned is not defined by default,\n\n75\n00:03:16.197 --> 00:03:19.330\nalthough we can turn it on\nto see those settings here.\n\n76\n00:03:19.330 --> 00:03:24.360\nAnd then if we come down under\nLocal Policies, we'll see Audit Policy.\n\n77\n00:03:24.360 --> 00:03:28.290\nAnd we can see there are no\nAudit Policy settings defined\n\n78\n00:03:28.290 --> 00:03:30.250\non the default domain policy.\n\n79\n00:03:30.250 --> 00:03:32.630\nThis is the distinction I\nwanted to make with you.\n\n80\n00:03:32.630 --> 00:03:37.950\nWe do not drive auditing of any of\nthese settings at the default domain\n\n81\n00:03:37.950 --> 00:03:42.710\npolicy level because the default domain\npolicy is applied to every computer.\n\n82\n00:03:42.710 --> 00:03:45.150\nAnd or, in this case,\nthe computer settings, but\n\n83\n00:03:45.150 --> 00:03:49.040\nalso anything on the user's side, but\nit's applied to every domain member.\n\n84\n00:03:49.040 --> 00:03:52.870\nWe don't wanna audit every domain member,\nwe probably only wanna audit certain\n\n85\n00:03:52.870 --> 00:03:57.020\ncapabilities on certain machines,\nif you follow the logic of that.\n\n86\n00:03:57.020 --> 00:04:01.972\nAnd so instead of applying auditing\nat the default domain policy level,\n\n87\n00:04:01.972 --> 00:04:04.907\nwe come down to the Domain Controllers OU.\n\n88\n00:04:04.907 --> 00:04:08.127\nAnd we do see the other policy\nthat is there by default in\n\n89\n00:04:08.127 --> 00:04:11.216\nthe Group Policy Management Console\nout of the box.\n\n90\n00:04:11.216 --> 00:04:12.729\nWe don't create either one of these,\nin other words.\n\n91\n00:04:12.729 --> 00:04:14.869\nThey're both there as part\nof the installation and\n\n92\n00:04:14.869 --> 00:04:16.790\nconfiguration of Active Directory.\n\n93\n00:04:16.790 --> 00:04:19.125\nThe Default Domain Controllers Policy\nexists.\n\n94\n00:04:19.125 --> 00:04:23.390\nRight-click, Edit this policy,\ngo back to the same place.\n\n95\n00:04:23.390 --> 00:04:27.340\nSo Computer Configuration &gt;\nPolicies &gt; Windows Settings,\n\n96\n00:04:27.340 --> 00:04:31.490\nopen up Security Settings,\njust extend this out just a little bit.\n\n97\n00:04:31.490 --> 00:04:36.017\nCome in here to Local Policies, and\nwe'll see, under Account Policies, for\n\n98\n00:04:36.017 --> 00:04:39.872\nPassword Policy, we do not define\nthem on the domain controller.\n\n99\n00:04:39.872 --> 00:04:43.840\nAnd you'll see for Account Lockout\nPolicies, none of them are defined.\n\n100\n00:04:43.840 --> 00:04:48.900\nBut for Audit Policies, while they're\nnot defined, we would want to go in and\n\n101\n00:04:48.900 --> 00:04:51.530\nspecify audit policy settings here.\n\n102\n00:04:51.530 --> 00:04:53.755\nWe don't define them in\neither place by default,\n\n103\n00:04:53.755 --> 00:04:58.030\ncuz we don't know what we want to audit,\nand we don't want to know exactly for\n\n104\n00:04:58.030 --> 00:05:00.460\nhow long we want to audit and\nall the settings associated with it.\n\n105\n00:05:00.460 --> 00:05:04.780\nBut when we do want to enable auditing, we\nwanna turn it on and enable it typically\n\n106\n00:05:04.780 --> 00:05:10.408\non the domain controllers or on a subset\nof other machines by OU or whatever.\n\n107\n00:05:10.408 --> 00:05:15.640\nBut this would be a default domain\ncontrollers policy most likely because\n\n108\n00:05:15.640 --> 00:05:18.630\nthings like account logon events,\naccount management,\n\n109\n00:05:18.630 --> 00:05:22.620\ndirectory service access,\nlogon events, policy changes,\n\n110\n00:05:22.620 --> 00:05:26.370\nprivilege use, those are things\nthat happen on domain controllers.\n\n111\n00:05:26.370 --> 00:05:29.603\nAnd we want to see the outcome of\nthose events by auditing on the domain\n\n112\n00:05:29.603 --> 00:05:32.910\ncontrollers instead of every machine\nthroughout the entire domain.\n\n113\n00:05:32.910 --> 00:05:36.415\nI'm not suggesting that doesn't mean\nthat auditing may not be appropriate for\n\n114\n00:05:36.415 --> 00:05:37.303\nevery machine, but\n\n115\n00:05:37.303 --> 00:05:41.100\nit's very rare we would want to audit\nsomething on every machine in the domain.\n\n116\n00:05:41.100 --> 00:05:43.780\nIt's usually very common that\nwe want to audit certain\n\n117\n00:05:43.780 --> 00:05:46.850\nspecific events on domain controllers and\nkeep track of them.\n\n118\n00:05:46.850 --> 00:05:50.590\nSo want to just make sure we have\na sense of and a thought process\n\n119\n00:05:50.590 --> 00:05:54.870\nin our minds as we continue to think about\nhow we build out defense in depth and\n\n120\n00:05:54.870 --> 00:05:58.060\nhow we add these different layers\nof controls and capabilities.\n\n121\n00:05:58.060 --> 00:06:01.982\nWanna have that thought process in our\nmind about where we should turn on certain\n\n122\n00:06:01.982 --> 00:06:03.104\naspects of security.\n\n123\n00:06:03.104 --> 00:06:06.528\nIn this case, auditing versus\nthings like password policy and\n\n124\n00:06:06.528 --> 00:06:09.758\naccount lock out,\nwhich are gonna be equally important for\n\n125\n00:06:09.758 --> 00:06:12.161\nus to apply to any and\nall machines, right?\n\n126\n00:06:12.161 --> 00:06:12.819\n&gt;&gt; At the domain level.\n\n127\n00:06:12.819 --> 00:06:13.608\n&gt;&gt; So I just wanna make\nsure we're aware of that.\n\n128\n00:06:13.608 --> 00:06:16.710\nAt the domain level, correct, so\njust some thoughts about that, right?\n\n129\n00:06:16.710 --> 00:06:18.440\nJust to make sure we're clear on that.\n\n130\n00:06:18.440 --> 00:06:23.350\nAll right, so having said that,\nlet's talk about LAPS a little bit.\n\n131\n00:06:23.350 --> 00:06:27.350\nLocal administrator password\nsolutions is what LAPS stands for.\n\n132\n00:06:27.350 --> 00:06:31.450\nThis is the ability for us to take and\ncreate a central repository for\n\n133\n00:06:31.450 --> 00:06:32.720\npassword management.\n\n134\n00:06:32.720 --> 00:06:36.490\nUse Active Directory to store those\npasswords from local machines and\n\n135\n00:06:36.490 --> 00:06:40.520\nhave AD manage them, control them,\nmodify the passwords,\n\n136\n00:06:40.520 --> 00:06:43.415\nif necessary, and\nkeep track of them for us.\n\n137\n00:06:43.415 --> 00:06:46.995\nSo this has to be done with domain based\nmachines, machines that are members of\n\n138\n00:06:46.995 --> 00:06:52.425\nthe domain can benefit from this and store\ntheir local passwords up in this solution.\n\n139\n00:06:52.425 --> 00:06:56.752\nLocal administrative passwords are created\nand are unique and managed by LAPS.\n\n140\n00:06:56.752 --> 00:07:00.612\nWe randomize and change the local admin\npasswords regularly using this technology.\n\n141\n00:07:00.612 --> 00:07:03.462\nSo somebody's not gonna be able\nto hopefully guess them and\n\n142\n00:07:03.462 --> 00:07:04.777\nuse the password to get in.\n\n143\n00:07:04.777 --> 00:07:07.907\nCuz one of the challenges we\nhave with local machines or\n\n144\n00:07:07.907 --> 00:07:12.534\nthe admin password on a local machine is\nthat it's probably set when we initially\n\n145\n00:07:12.534 --> 00:07:16.641\nimage or setup the machine, and\nit's never changed or modified.\n\n146\n00:07:16.641 --> 00:07:19.441\nAnd we don't have, unfortunately,\nthe thought process and\n\n147\n00:07:19.441 --> 00:07:22.201\nthe habit of going in and\nmodifying and changing that.\n\n148\n00:07:22.201 --> 00:07:26.021\nAnd as a result, it's static, and we know\nthat anything that stays the same long\n\n149\n00:07:26.021 --> 00:07:29.381\nenough in security tends\nto present a challenge for\n\n150\n00:07:29.381 --> 00:07:32.390\nus because it may become\ncompromised over time.\n\n151\n00:07:32.390 --> 00:07:36.704\nAnd so this is a way to get around\nthat by forcing the management and\n\n152\n00:07:36.704 --> 00:07:41.421\nthe oversight of these passwords\ninto a centrally controlled system.\n\n153\n00:07:41.421 --> 00:07:45.640\nAnd allowing the, when we say Active\nDirectory, we mean essentially the Windows\n\n154\n00:07:45.640 --> 00:07:49.737\noperating system on the servers that\nare domain controllers, to control these\n\n155\n00:07:49.737 --> 00:07:53.919\npasswords and choose to randomize and\nchange them and manage them on our behalf.\n\n156\n00:07:53.919 --> 00:07:57.059\nWe store local admins securely,\nor local admin passwords,\n\n157\n00:07:57.059 --> 00:08:00.996\nthe secrets which are the password,\nsecurely in ADDS as a result of this, so\n\n158\n00:08:00.996 --> 00:08:03.598\njust wanna make sure we're\nthinking about that.\n\n159\n00:08:03.598 --> 00:08:08.000\nWe could also configure and control\nthe permissions necessary to access these.\n\n160\n00:08:08.000 --> 00:08:11.920\nSo we control and have the ability to\ncontrol the access control list and\n\n161\n00:08:11.920 --> 00:08:14.150\nmodify those permissions if necessary.\n\n162\n00:08:14.150 --> 00:08:17.690\nAnd we can transmit and\nsecurely retrieve and\n\n163\n00:08:17.690 --> 00:08:21.010\ntransmit these passwords when\nnecessary for use on a local machine.\n\n164\n00:08:21.010 --> 00:08:24.450\nThey are sent securely encrypted so\nas a result we don't risk\n\n165\n00:08:24.450 --> 00:08:28.250\ncompromise of them when we are sending\nthem and transmitting them for use.\n\n166\n00:08:28.250 --> 00:08:31.810\nSo LAPS really is a full-featured\nsolution, it's a password manager,\n\n167\n00:08:31.810 --> 00:08:35.000\nit's like a password validation\nto management vault system.\n\n168\n00:08:35.000 --> 00:08:38.300\nBut Microsoft produces this and\nallows us to be able to do this.\n\n169\n00:08:38.300 --> 00:08:42.460\nWe do need an AD functional level\nof Server 2003 or newer, so it\n\n170\n00:08:42.460 --> 00:08:46.550\nwill with almost any backwards compatible\ndomain environment that we create.\n\n171\n00:08:46.550 --> 00:08:50.570\nIf you wanna take a look\nhere with me really quickly,\n\n172\n00:08:50.570 --> 00:08:51.870\nhow we find some information about.\n\n173\n00:08:51.870 --> 00:08:54.600\nSo I am going to show you a couple\nof things that will be valuable.\n\n174\n00:08:54.600 --> 00:08:58.020\nNumber one, all I did here as you\ncan see was just quickly do a search\n\n175\n00:08:58.020 --> 00:09:01.615\nMicrosoft LAPS Download, you could\nsee that there is a couple things.\n\n176\n00:09:01.615 --> 00:09:04.090\nWe got a couple of\ndifferent download items.\n\n177\n00:09:04.090 --> 00:09:08.620\nI went to the LAPS- Technet Microsoft.com,\nthe second one that comes up, just to show\n\n178\n00:09:08.620 --> 00:09:12.550\nyou the overview on how LAPS is setup and\njust some information about it.\n\n179\n00:09:12.550 --> 00:09:15.530\nYou can obviously go download\nthe client software I am about to\n\n180\n00:09:15.530 --> 00:09:20.150\ntalk about the MSI package that we applied\nto the local clients we want to manage.\n\n181\n00:09:20.150 --> 00:09:24.310\nWe download that, install that as\na program, you can actually even use SCCM.\n\n182\n00:09:24.310 --> 00:09:28.370\nSystem Center Config Manager to push that\nout as a software package and install it.\n\n183\n00:09:28.370 --> 00:09:33.010\nWe can translate and install that through\ngroup policy because it's an MSI package.\n\n184\n00:09:33.010 --> 00:09:37.110\nLots of ways to get that deployed to\na local machine, and then configure that,\n\n185\n00:09:37.110 --> 00:09:38.630\nset that up and use that.\n\n186\n00:09:38.630 --> 00:09:40.200\nSo just so you're aware of that, but\n\n187\n00:09:40.200 --> 00:09:44.280\nyou'll see that this is a password manager\nor a vault, that's all LAPS really is.\n\n188\n00:09:44.280 --> 00:09:49.370\nAs you can see here, we do have the agent,\nwhich is the MSI Package I\n\n189\n00:09:49.370 --> 00:09:54.120\nwas just talking about as the client side\ncomponent, installed via MSI right there.\n\n190\n00:09:55.470 --> 00:09:58.905\nAnd just actually do that so\nyou could see that a little bit easier.\n\n191\n00:09:58.905 --> 00:10:01.755\nWe do have random password generation,\nas I mentioned.\n\n192\n00:10:01.755 --> 00:10:04.895\nWe have the PowerShell module that\ngives us the PowerShell support\n\n193\n00:10:04.895 --> 00:10:07.255\nto not only administer,\nbut also configure LAPS.\n\n194\n00:10:07.255 --> 00:10:09.660\nThere's a couple of\ncommandlets we have to run.\n\n195\n00:10:09.660 --> 00:10:12.660\nThere's a schema extension that\nhas to happen when we set this up,\n\n196\n00:10:12.660 --> 00:10:16.230\nthat has to be done from\nthe machine cnce LAPS is installed.\n\n197\n00:10:16.230 --> 00:10:18.730\nPowerShell module comes\nas part of the MSI.\n\n198\n00:10:18.730 --> 00:10:21.450\nSo we'll just quickly talk about\nthose commandlets here in a minute.\n\n199\n00:10:21.450 --> 00:10:22.201\nAnd you can see,\n\n200\n00:10:22.201 --> 00:10:25.214\nit has a nice little diagram which\nexplains the logic of what we do.\n\n201\n00:10:25.214 --> 00:10:31.880\nIt allows us to go in and to kind of\nsee the guidance here that is provided.\n\n202\n00:10:31.880 --> 00:10:36.410\nAnd you'll see that as a solution\nonce we do install apps and\n\n203\n00:10:36.410 --> 00:10:38.890\nwe use the client side\nextensions group policy.\n\n204\n00:10:38.890 --> 00:10:44.060\nExtensions that it provides, then performs\nthe following tasks during a GP update.\n\n205\n00:10:44.060 --> 00:10:45.330\nSo what does it do?\n\n206\n00:10:45.330 --> 00:10:48.750\nChecks whether the password for\nthe local admin account is expired or not.\n\n207\n00:10:48.750 --> 00:10:51.940\nIt generates the new password\nwhen old password expires or\n\n208\n00:10:51.940 --> 00:10:56.078\nrequires needing a change prior to\nwhatever the expiration policy may be.\n\n209\n00:10:56.078 --> 00:10:58.857\nSo this is all done automatically\nby the LAPS system in other words.\n\n210\n00:10:58.857 --> 00:11:03.888\nChanges the admin password according\nto whatever rotation and frequency\n\n211\n00:11:03.888 --> 00:11:09.260\nwe provide, reports it and stores it\nin AD, so that way we know what it is.\n\n212\n00:11:09.260 --> 00:11:14.150\nReports the next expiration time to AD so\nwe can track that and understand that.\n\n213\n00:11:14.150 --> 00:11:17.860\nAnd then password then could be read from\nAD by users who are allowed to see it so\n\n214\n00:11:17.860 --> 00:11:19.820\nwe can recover the password if we need it.\n\n215\n00:11:19.820 --> 00:11:22.090\nThat's the secure\ntransmission we talked about.\n\n216\n00:11:22.090 --> 00:11:25.200\nAnd password can be forced to\nbe changed by eligible users.\n\n217\n00:11:25.200 --> 00:11:28.260\nWe could force a request to change\nthe password if we feel there's been\n\n218\n00:11:28.260 --> 00:11:29.940\na security compromise for some reason.\n\n219\n00:11:29.940 --> 00:11:33.950\nSo we could do all of this using LAPS,\nand we have this nice little very simple,\n\n220\n00:11:33.950 --> 00:11:35.455\nvery easy to understand diagram.\n\n221\n00:11:35.455 --> 00:11:37.470\nSo you can see here, kinda crazy, right?\n\n222\n00:11:37.470 --> 00:11:40.780\nBut you could see this is the schematic\nthat actually tells us how all of\n\n223\n00:11:40.780 --> 00:11:41.830\nthis works.\n\n224\n00:11:41.830 --> 00:11:44.140\nCherokee, when I showed her\nthis before the episode,\n\n225\n00:11:44.140 --> 00:11:46.050\nsaid, I can build a mind\nmap better than that.\n\n226\n00:11:46.050 --> 00:11:48.070\nYou were telling me you\ndone some crazy my maps.\n\n227\n00:11:48.070 --> 00:11:50.032\nSo we're way more complex than this,\nright?\n\n228\n00:11:50.032 --> 00:11:51.900\n&gt;&gt; Unfortunately, yes.\n\n229\n00:11:51.900 --> 00:11:55.160\n&gt;&gt; Unfortunately, so you could see,\nwe do have the requirements here,\n\n230\n00:11:55.160 --> 00:11:58.090\nanything from AD-2003 SP1 and\nabove, as I mentioned.\n\n231\n00:11:58.090 --> 00:12:01.220\nOn the client side, notice Server 16,\n\n232\n00:12:01.220 --> 00:12:05.720\nall the way back to Windows Server\n2003 and Vista are supporting LAPS.\n\n233\n00:12:05.720 --> 00:12:08.940\nNot new, but certainly available to us and\ncan be used.\n\n234\n00:12:08.940 --> 00:12:12.535\nAnd we just need some things\nlike the .NET framework 4.0,\n\n235\n00:12:12.535 --> 00:12:17.113\nvery straightforward, we're at version 4.5\nor 5.0 now and PowerShell 2.0 and above.\n\n236\n00:12:17.113 --> 00:12:20.665\nThe only thing we have to be aware\nof is that Itanium processors on\n\n237\n00:12:20.665 --> 00:12:23.695\nthe architecture side are not supported,\nbut that's usually not an issue.\n\n238\n00:12:23.695 --> 00:12:27.375\nMost of what we do is not Itanium based so\nit's usually not a big deal.\n\n239\n00:12:27.375 --> 00:12:29.765\nBut we can set this up,\nvery straight forward, and\n\n240\n00:12:29.765 --> 00:12:34.700\nthen once we do that there are just\na couple of PowerShell commandlets as\n\n241\n00:12:34.700 --> 00:12:38.940\nI mentioned, that do have to be used\nin order to be able to set this up.\n\n242\n00:12:38.940 --> 00:12:42.280\nYou bear with me half a second I will\nquickly scroll through my notes to\n\n243\n00:12:42.280 --> 00:12:43.320\nshow you them.\n\n244\n00:12:43.320 --> 00:12:44.990\nThey are down here.\n\n245\n00:12:44.990 --> 00:12:47.570\nAnd I just have them,\nit's just easier to show them to you\n\n246\n00:12:47.570 --> 00:12:51.100\nthan to actually go through and\ntype them all in.\n\n247\n00:12:51.100 --> 00:12:56.940\nWhen we do want to allow computers in an\naudience, let's say like the audience OU,\n\n248\n00:12:56.940 --> 00:13:01.820\nto update their passwords using LAPS we\nwould set this credential, or excuse me,\n\n249\n00:13:01.820 --> 00:13:04.820\nthis PowerShell commandlet in place.\n\n250\n00:13:04.820 --> 00:13:06.990\nSetAdmPwComputerSelfPermission, and\n\n251\n00:13:06.990 --> 00:13:10.910\nthen specify the name of the OU that\nwould allow them to do so, right?\n\n252\n00:13:10.910 --> 00:13:14.650\nSo we do have the ability to be\nable to use the PowerShell module.\n\n253\n00:13:14.650 --> 00:13:16.440\nThat is going to be allowed or\n\n254\n00:13:16.440 --> 00:13:19.740\ngiven to us as part of installation of\nlaps to be able to do these things.\n\n255\n00:13:19.740 --> 00:13:23.934\nWe do have to just go up here.\n\n256\n00:13:23.934 --> 00:13:31.296\nWhere is my other, One, right here,\nthere, there, there, there.\n\n257\n00:13:31.296 --> 00:13:32.523\n&gt;&gt; Setting the admin password?\n\n258\n00:13:32.523 --> 00:13:38.319\n&gt;&gt; Yeah, no just the original schema\nextension, where did I put that?\n\n259\n00:13:38.319 --> 00:13:40.880\nAdd that in here what we need for,\nthere it is right there.\n\n260\n00:13:40.880 --> 00:13:41.878\nSo it's looking for the commandlet.\n\n261\n00:13:41.878 --> 00:13:46.688\nUpdate-admpwadsschema commandlet is what\nyou have to run initially to be able to\n\n262\n00:13:46.688 --> 00:13:49.206\nextend the schema to provide the support.\n\n263\n00:13:49.206 --> 00:13:52.014\nBut it's as I point out there,\nnot available to you,\n\n264\n00:13:52.014 --> 00:13:55.772\nafter you install the LAPS agent or\nclient using this MSI you download.\n\n265\n00:13:55.772 --> 00:13:59.783\nOnce you do that you get this capability\nyou can run this from an administrative\n\n266\n00:13:59.783 --> 00:14:00.590\nwork station.\n\n267\n00:14:00.590 --> 00:14:01.929\nYou have to have admin rights,\n\n268\n00:14:01.929 --> 00:14:05.260\nyou need to be a member of the schema\nadmin enterprise admin to do this.\n\n269\n00:14:05.260 --> 00:14:09.594\nBut you are able to do that, when you\ngo in and Google, if you download or\n\n270\n00:14:09.594 --> 00:14:14.840\ngo to the download link, and\nwe'll just click here so you can see this.\n\n271\n00:14:14.840 --> 00:14:19.100\nWhen you go in,\nyou will be able to download this.\n\n272\n00:14:19.100 --> 00:14:24.190\nYou can see here that\ncurrently version 6.2 or\n\n273\n00:14:24.190 --> 00:14:26.020\nwhatever the most recent version will be.\n\n274\n00:14:26.020 --> 00:14:28.330\nBut you'll see we have both a 32 bit and\n\n275\n00:14:28.330 --> 00:14:32.660\na 64 bit version of the MSI so\nit works on both kinds of clients which\n\n276\n00:14:32.660 --> 00:14:35.480\nmakes sense because it is backwards\ncompatible all the way to Vista, right?\n\n277\n00:14:35.480 --> 00:14:39.599\nSo we would expect in 2003, but\nwe would need both 32 and 64 bit clients.\n\n278\n00:14:39.599 --> 00:14:42.882\nAnd we have a little operations guide,\nand a technical specification guide,\n\n279\n00:14:42.882 --> 00:14:45.866\nwhich will give you all the details\nnecessary to understand how to do all\n\n280\n00:14:45.866 --> 00:14:47.128\nthe things I'm showing you.\n\n281\n00:14:47.128 --> 00:14:51.459\nAnd all the password reset and password\nextension and password use commandlets\n\n282\n00:14:51.459 --> 00:14:55.730\nfrom PowerShell were documented in the ops\nguide so you can take a look at them.\n\n283\n00:14:55.730 --> 00:14:58.370\nBut you've got everything you need\nright here when you download.\n\n284\n00:14:58.370 --> 00:15:01.390\nYou could then go through and\nconfigure this and set it up and\n\n285\n00:15:01.390 --> 00:15:05.310\nthen you're able essentially manage these\npasswords in this password vault and be\n\n286\n00:15:05.310 --> 00:15:09.050\nable to do all the things we talked about\nusing LAPS to drive and be able to do.\n\n287\n00:15:09.050 --> 00:15:13.650\nSo once we've done all this then we\nhave the ability to use the group policy\n\n288\n00:15:13.650 --> 00:15:16.970\nbased solution and\ndo all this management and we can go in.\n\n289\n00:15:18.060 --> 00:15:21.150\nAnd as I said,\ncontrol of these different settings.\n\n290\n00:15:21.150 --> 00:15:24.302\nSo it's actually kind of an interesting\nlittle technology, but one that's been\n\n291\n00:15:24.302 --> 00:15:27.454\noverlooked for awhile, it's not something\nthat many people are familiar with or\n\n292\n00:15:27.454 --> 00:15:29.752\nthat many people use, but\nit's been around for some time.\n\n293\n00:15:29.752 --> 00:15:31.309\nAnd does really allow us and\n\n294\n00:15:31.309 --> 00:15:35.177\nthey give you some nice documentation\nhere to be able to go through.\n\n295\n00:15:35.177 --> 00:15:39.535\nAnd once we do a group policy update it\nforces behavior to start occurring between\n\n296\n00:15:39.535 --> 00:15:43.829\nthese two targeted clients and the Active\nDirectory domain controller where we\n\n297\n00:15:43.829 --> 00:15:47.054\nactually will then store this\npasswords and control that.\n\n298\n00:15:47.054 --> 00:15:48.570\nSo now you know all about that?\n\n299\n00:15:48.570 --> 00:15:51.320\n&gt;&gt; That's right, and\nI don't even have to swim.\n\n300\n00:15:51.320 --> 00:15:53.520\n&gt;&gt; No, no you didn't.\n\n301\n00:15:53.520 --> 00:15:57.154\nNot for this particular one, you were\nable to stay dry, as we say, right?\n\n302\n00:15:57.154 --> 00:15:59.456\nBut it is an interesting technology,\none that again,\n\n303\n00:15:59.456 --> 00:16:01.613\nprobably not something you\nuse on a regular basis.\n\n304\n00:16:01.613 --> 00:16:03.871\nI don't come across many\ncustomers That uses, or\n\n305\n00:16:03.871 --> 00:16:05.714\neven many people didn't know about it.\n\n306\n00:16:05.714 --> 00:16:08.614\nBut it is important to note that\nyou probably wanna take a few\n\n307\n00:16:08.614 --> 00:16:10.416\nminutes just to pay attention to it.\n\n308\n00:16:10.416 --> 00:16:16.435\nMeaning, maybe and indeed is one of\nthe exam objective items that can come up.\n\n309\n00:16:16.435 --> 00:16:19.922\nSo it is something Microsoft is saying,\nhey by the way, we put it out there,\n\n310\n00:16:19.922 --> 00:16:21.135\nwe want you to focus on it.\n\n311\n00:16:21.135 --> 00:16:24.135\nMake sure you know how to use it so\nwe may ask questions about, right?\n\n312\n00:16:24.135 --> 00:16:26.198\nWhich is why we're taking\ntime to explain it to you.\n\n313\n00:16:26.198 --> 00:16:31.022\nBut it is one of those often\nthe corner solutions that may\n\n314\n00:16:31.022 --> 00:16:33.803\nnot have received as much time.\n\n315\n00:16:33.803 --> 00:16:37.968\nAnd therefore tension in your world is\nperhaps other things like creation of\n\n316\n00:16:37.968 --> 00:16:39.650\nhardened workstations.\n\n317\n00:16:39.650 --> 00:16:42.530\nPerhaps the use of something\nnewer like Credential Guard,\n\n318\n00:16:42.530 --> 00:16:44.580\nright, or whatever the case may be.\n\n319\n00:16:44.580 --> 00:16:47.280\nBut it's the combination\nof all these things again.\n\n320\n00:16:47.280 --> 00:16:48.430\nAnd how they fit together,\n\n321\n00:16:48.430 --> 00:16:51.400\nthat builds these defensive layers\nthat we keep talking about.\n\n322\n00:16:51.400 --> 00:16:56.258\nBut this is on the exam capability matrix\nin the sense you may get asked about it.\n\n323\n00:16:56.258 --> 00:16:59.415\nSo it's important to at least have\nthe sense of what the technology is and\n\n324\n00:16:59.415 --> 00:17:00.363\nwhat it's used for.\n\n325\n00:17:00.363 --> 00:17:02.267\nSo hopefully that makes it\na little bit easier for\n\n326\n00:17:02.267 --> 00:17:04.410\nyou to understand why\nwe're talking about it.\n\n327\n00:17:04.410 --> 00:17:08.120\nAnd gives you the opportunity to go\ndownload it and perhaps even use it and\n\n328\n00:17:08.120 --> 00:17:10.553\nset up it in your own environment and\nsee what it does for you.\n\n329\n00:17:10.553 --> 00:17:11.780\nI do have clients that use it.\n\n330\n00:17:11.780 --> 00:17:14.420\nI do have clients that use it very\nsuccessfully and have used it for\n\n331\n00:17:14.420 --> 00:17:15.700\nsome time.\n\n332\n00:17:15.700 --> 00:17:19.333\nBut they're using it primarily\nto manage systems, let's say,\n\n333\n00:17:19.333 --> 00:17:23.559\nthat are going to be in areas where they\nwanna be able to control tightly those\n\n334\n00:17:23.559 --> 00:17:24.963\nlocal admin passwords.\n\n335\n00:17:24.963 --> 00:17:28.350\nBut not have to worry about overseeing\nthem on a regular basis hands on.\n\n336\n00:17:28.350 --> 00:17:29.650\nSo remote offices, for\n\n337\n00:17:29.650 --> 00:17:32.560\ninstance, where there are a lot of\nthese machines that may be deployed.\n\n338\n00:17:32.560 --> 00:17:36.010\nBut maybe there's not an IT professional\non site to keep an eye on them or\n\n339\n00:17:36.010 --> 00:17:38.610\nto administer and modify these systems.\n\n340\n00:17:38.610 --> 00:17:42.290\nLAPS produces that kind of capability for\nus remotely very easily.\n\n341\n00:17:42.290 --> 00:17:45.063\nThey are domain joined so\nwe have to take advantage of that.\n\n342\n00:17:45.063 --> 00:17:48.953\nSystems that may be dedicated\nto single purpose solutions but\n\n343\n00:17:48.953 --> 00:17:51.730\nare not standoff and stand alone machines.\n\n344\n00:17:51.730 --> 00:17:56.790\nSomething in kiosks, I'm thinking\ndedicated work stations but one's that may\n\n345\n00:17:56.790 --> 00:18:00.510\nstill have a requirement to be domain\njoined as a result of what they do.\n\n346\n00:18:00.510 --> 00:18:03.300\nThen again, something like lapse\nmay be a good candidate for\n\n347\n00:18:03.300 --> 00:18:06.790\nus to manage those passwords locally and\ncontrol them.\n\n348\n00:18:06.790 --> 00:18:10.240\nEven just desktops in the environment\nwhere traditionally we'll have a local\n\n349\n00:18:10.240 --> 00:18:12.930\nadmin password as well\nas a domain credential.\n\n350\n00:18:12.930 --> 00:18:16.260\nAnd although we don't often use the local\nadmin password to logon locally,\n\n351\n00:18:16.260 --> 00:18:20.230\nwe may wanna control that, and LAPS\nwould give us the capability to do that.\n\n352\n00:18:20.230 --> 00:18:21.733\nBut to cycle those passwords and\n\n353\n00:18:21.733 --> 00:18:25.407\ncontrol them without us having to worry\nabout just having them sit out there for\n\n354\n00:18:25.407 --> 00:18:28.040\ndays, months, weeks,\nyears without being changed.\n\n355\n00:18:28.040 --> 00:18:31.474\nOr until we remember to get around to\nit or until there's a compromise and\n\n356\n00:18:31.474 --> 00:18:32.720\nsomebody gets in.\n\n357\n00:18:32.720 --> 00:18:36.368\nRemember the downside to this kind of\nthought process, if you don't deploy\n\n358\n00:18:36.368 --> 00:18:39.563\ntechnology like this can be,\nthat if we image all those desktops.\n\n359\n00:18:39.563 --> 00:18:43.905\nAnd we're using a standard image to push\nout Windows 7, Windows 8, Windows 10,\n\n360\n00:18:43.905 --> 00:18:45.030\nwhatever it is.\n\n361\n00:18:45.030 --> 00:18:48.890\nAnd the admin password on those local\nmachines is the same because they're all\n\n362\n00:18:48.890 --> 00:18:49.870\nbeing imaged.\n\n363\n00:18:49.870 --> 00:18:52.840\nAnd somebody finds that\nlocal admin password.\n\n364\n00:18:52.840 --> 00:18:56.820\nNot the domain admin password, let me be\nclear, but the local one to that machine,\n\n365\n00:18:56.820 --> 00:19:00.490\nthey've gotten it to every machine,\nthat's imaged with that same image.\n\n366\n00:19:00.490 --> 00:19:01.890\nCuz you don't change it.\n\n367\n00:19:01.890 --> 00:19:05.985\nAnd as a result, they could get into\nanybody's machine locally, install\n\n368\n00:19:05.985 --> 00:19:10.478\nmalware, do who knows what to those\nmachines, perhaps without your knowledge.\n\n369\n00:19:10.478 --> 00:19:13.030\nSo this becomes a very big issue for us.\n\n370\n00:19:13.030 --> 00:19:17.403\nSince we're likely not randomizing those\npasswords on every local machine out\n\n371\n00:19:17.403 --> 00:19:19.107\nof the box because of imaging.\n\n372\n00:19:19.107 --> 00:19:22.844\nBecause of these kinds of technological,\nI was gonna say technology then I said\n\n373\n00:19:22.844 --> 00:19:26.025\ntechnological and\nI really meant to say technology.\n\n374\n00:19:26.025 --> 00:19:29.705\nBecause of these technologies we use,\nthings like System Center Config Manager,\n\n375\n00:19:29.705 --> 00:19:34.185\nto perhaps do our operating system\ndeployment or OSD imaging through there.\n\n376\n00:19:34.185 --> 00:19:38.435\nPerhaps using a Windows Deployment\nService, WDS system, a ghost.\n\n377\n00:19:38.435 --> 00:19:39.055\nWhatever it is,\n\n378\n00:19:39.055 --> 00:19:42.925\nwhatever system you use, you're likely\nto be using a template based deployment.\n\n379\n00:19:42.925 --> 00:19:45.620\nSame thing with virtual machines,\nif they're templated today.\n\n380\n00:19:45.620 --> 00:19:48.660\nThey're likely to be cut from\nthe same cloth over and over and\n\n381\n00:19:48.660 --> 00:19:53.020\nover again, which means that have\na local admin password that is the same.\n\n382\n00:19:53.020 --> 00:19:56.270\nAnd as a result, if you're not modifying\nthat, you run the risk of having\n\n383\n00:19:56.270 --> 00:20:00.140\na significant liability,\nbecause somebody can compromise that.\n\n384\n00:20:00.140 --> 00:20:04.470\nA tool like in technology like LAPS will\nhelp us get around that with centrally\n\n385\n00:20:04.470 --> 00:20:08.670\naudited and managed technology\ndirectly tied to the ADDS.\n\n386\n00:20:08.670 --> 00:20:12.460\nThat we as IT professionals and security\nprofessionals can oversee and control.\n\n387\n00:20:12.460 --> 00:20:14.550\nSo it's a very valuable set of tools.\n\n388\n00:20:14.550 --> 00:20:16.376\nI know you were trying to\nmake a comment real quick.\n\n389\n00:20:16.376 --> 00:20:19.670\n&gt;&gt; I was just thinking about situations\nthat I've seen happen in real life.\n\n390\n00:20:19.670 --> 00:20:22.625\nNot necessarily best\npractice type situations.\n\n391\n00:20:22.625 --> 00:20:27.140\nBut maybe whereas instead of adding\na particular user to an administrative\n\n392\n00:20:27.140 --> 00:20:31.596\ngroup, in a pinch they might just\ngive out the administrative password.\n\n393\n00:20:31.596 --> 00:20:37.559\nSo this would be a good solution to help,\nI guess, fix those types of releases,\n\n394\n00:20:37.559 --> 00:20:42.740\nif you had to come back and\nundo what someone had already done.\n\n395\n00:20:42.740 --> 00:20:45.323\n&gt;&gt; Or public flogging,\nthat would also work very well.\n\n396\n00:20:45.323 --> 00:20:47.550\n&gt;&gt; [LAUGH]\n&gt;&gt; Pull that person into the break room\n\n397\n00:20:47.550 --> 00:20:48.331\nand-\n&gt;&gt; Do they have one of\n\n398\n00:20:48.331 --> 00:20:50.656\nthose little shackle things,\nwhat are those called, are they shackles?\n\n399\n00:20:50.656 --> 00:20:53.295\n&gt;&gt; I'm sure we could find one, sure, yes.\n\n400\n00:20:53.295 --> 00:20:54.110\n&gt;&gt; Yeah, okay,\nwe'll put those in the break room-\n\n401\n00:20:54.110 --> 00:20:54.957\n&gt;&gt; So that may also work.\n\n402\n00:20:54.957 --> 00:20:56.446\n&gt;&gt; As well.\n&gt;&gt; [LAUGH]\n\n403\n00:20:56.446 --> 00:20:57.544\n&gt;&gt; Just nothing severe,\n\n404\n00:20:57.544 --> 00:21:01.065\njust perhaps just a little bit of\nan example to get the users back in line,\n\n405\n00:21:01.065 --> 00:21:02.150\nis always good.\n\n406\n00:21:02.150 --> 00:21:03.140\nI am kidding, let's be clear.\n\n407\n00:21:03.140 --> 00:21:04.970\nNot appropriate by any means.\n\n408\n00:21:04.970 --> 00:21:06.540\nBut just suggesting, right?\n\n409\n00:21:06.540 --> 00:21:09.070\nAnd it's a great point that you make,\nthat we may have as a result,\n\n410\n00:21:09.070 --> 00:21:10.360\na fail safe mechanism, right?\n\n411\n00:21:10.360 --> 00:21:11.720\nIf somebody does give out that password,\n\n412\n00:21:11.720 --> 00:21:16.290\nand we're perhaps setting LAPS to change\nit every 30 days, or whatever we've done.\n\n413\n00:21:16.290 --> 00:21:19.110\nThat even if it is exposed,\nit won't be out there for too long, and\n\n414\n00:21:19.110 --> 00:21:21.230\nwe can see what it is, we could change it.\n\n415\n00:21:21.230 --> 00:21:24.280\nSo we have the ability to control that,\nwhere before, we'd have to go to that\n\n416\n00:21:24.280 --> 00:21:27.530\nindividual machine,\nthink about needing to reset that.\n\n417\n00:21:27.530 --> 00:21:30.490\nAnd we may or may not view that, and\nthen how do we know we did that?\n\n418\n00:21:30.490 --> 00:21:31.621\nAnd do we do it on all of them?\n\n419\n00:21:31.621 --> 00:21:36.007\nIt becomes very difficult to manage\nbecause without a centralized solution,\n\n420\n00:21:36.007 --> 00:21:37.743\nit's managing by exception.\n\n421\n00:21:37.743 --> 00:21:40.068\nAnd managing by exception\nis never a good idea.\n\n422\n00:21:40.068 --> 00:21:42.076\nBecause it leads to the potential, or\n\n423\n00:21:42.076 --> 00:21:45.793\nthe potentiality that we can have\nbehavior that leads to compromise.\n\n424\n00:21:45.793 --> 00:21:49.159\nCuz we're not standardized In what\nwe're doing, keeping track of it but\n\n425\n00:21:49.159 --> 00:21:52.158\nwe're allowing exceptions to populate and\nkinda percolate up.\n\n426\n00:21:52.158 --> 00:21:53.370\nAnd that becomes an issue for us.\n\n427\n00:21:53.370 --> 00:21:55.690\nSo it could be a very\ngood recovery mechanism,\n\n428\n00:21:55.690 --> 00:21:58.820\nas you were suggesting, as a backstop for\nthat if that were to happen.\n\n429\n00:21:58.820 --> 00:21:59.950\n&gt;&gt; Right.\n&gt;&gt; So, definitely\n\n430\n00:21:59.950 --> 00:22:01.360\ngood to think about that as well.\n\n431\n00:22:01.360 --> 00:22:05.350\n&gt;&gt; All right, we've covered a lot here\nin talking about our credentials and\n\n432\n00:22:05.350 --> 00:22:09.120\nour privileged access, but I think\nthat's about the end of this topic.\n\n433\n00:22:09.120 --> 00:22:11.350\nAdam, do you have any final thoughts here?\n\n434\n00:22:11.350 --> 00:22:13.180\nNot for this, not for this.\n\n435\n00:22:13.180 --> 00:22:15.950\nWe do have a lot of other interesting\nstuff coming up in future\n\n436\n00:22:15.950 --> 00:22:17.320\nepisodes all centered around security.\n\n437\n00:22:18.410 --> 00:22:22.990\nThings like just enough administration, a\nnew concept that Microsoft has essentially\n\n438\n00:22:22.990 --> 00:22:26.030\nrepackaged around some\nold thought processes.\n\n439\n00:22:26.030 --> 00:22:31.230\nProtected access management and the idea\nof using our scalability in the domain,\n\n440\n00:22:31.230 --> 00:22:34.630\nthe tree in the forest, and how we scale,\nand think about all those things.\n\n441\n00:22:34.630 --> 00:22:36.410\nImplementing malware protection,\n\n442\n00:22:36.410 --> 00:22:38.950\nall sorts of topics that will\ncome up in future discussions.\n\n443\n00:22:38.950 --> 00:22:40.591\nBut you're gonna have to come back and\njoin us for all that.\n\n444\n00:22:40.591 --> 00:22:44.717\nBecause if I keep talking Cherokee is\ngonna jump and say, hey we're out of time,\n\n445\n00:22:44.717 --> 00:22:47.464\nand we don't want that to\nhappen cuz she is delicate.\n\n446\n00:22:47.464 --> 00:22:48.858\nSo we don't want her jumping around,\nright,\n\n447\n00:22:48.858 --> 00:22:50.266\ncuz you could strain\nthat leg muscle of yours.\n\n448\n00:22:50.266 --> 00:22:50.987\n&gt;&gt; But you know what, Adam?\n\n449\n00:22:50.987 --> 00:22:52.124\nHey, we are out of time.\n\n450\n00:22:52.124 --> 00:22:54.123\n[LAUGH]\n&gt;&gt; All right, there you go, exactly.\n\n451\n00:22:54.123 --> 00:22:56.105\nAll right, so that means we have\nto come back for other episodes.\n\n452\n00:22:56.105 --> 00:22:59.040\n&gt;&gt; That's right, so ladies and gentleman,\nstay tuned we have more information\n\n453\n00:22:59.040 --> 00:23:01.370\nheaded your way, but we're gonna go\nahead and sign out for this show.\n\n454\n00:23:01.370 --> 00:23:03.210\nI've been your host, Cherokee Boose.\n\n455\n00:23:03.210 --> 00:23:04.170\n&gt;&gt; I am Adam Gordon.\n\n456\n00:23:04.170 --> 00:23:08.417\n&gt;&gt; See you next time here at ITProTV.\n\n457\n00:23:08.417 --> 00:23:13.316\n[MUSIC]\n\n458\n00:23:13.316 --> 00:23:16.130\nThank you for watching ITProTV.\n\n",
          "vimeoId": "233684874"
        }
      ],
      "title": "Credentials and privileged access"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam introduce a functionality called just enough administration (JEA). JEA provides RBAC functionality built on PowerShell remoting. Adam explains two important prerequisite files and shows how to create them. In addition, Adam explains JEA endpoints and walks through the steps of how to set one up.",
          "length": "1795",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-3-1-implement_just_enough_administration-091317-PGM.00_29_39_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-3-1-implement_just_enough_administration-091317-PGM.00_29_39_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-3-1-implement_just_enough_administration-091317-PGM.00_29_39_05.Still001-sm.jpg",
          "title": "Implement Just Enough Administration",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:01.170\nWelcome to ITProTV.\n\n2\n00:00:01.170 --> 00:00:04.798\nI'm your host, [CROSSTALK].\n\n3\n00:00:04.798 --> 00:00:07.216\n[MUSIC]\n\n4\n00:00:07.216 --> 00:00:11.182\n&gt;&gt; You're watching IT ProTV.\n\n5\n00:00:11.182 --> 00:00:15.168\n&gt;&gt; Welcome to your\nSecuring Windows Sever 2016 series.\n\n6\n00:00:15.168 --> 00:00:18.000\nI'm your show host Cherokee Boose.\n\n7\n00:00:18.000 --> 00:00:20.830\nIn this episode,\nI hope we have just enough time to\n\n8\n00:00:20.830 --> 00:00:24.950\nfully discuss how to implement\njust enough administration.\n\n9\n00:00:24.950 --> 00:00:27.630\nAnd if not, that's okay because\nwe have Microsoft expert, Mr.\n\n10\n00:00:27.630 --> 00:00:30.210\nAdam Gordon,\nwith us today in the studios, and\n\n11\n00:00:30.210 --> 00:00:32.530\nwe may be able to convince him\nto come back for a part two.\n\n12\n00:00:32.530 --> 00:00:33.510\nWhat do you say Adam?\n\n13\n00:00:33.510 --> 00:00:35.820\n&gt;&gt; I went back just that minute\nyou just wasted doing the intro so\n\n14\n00:00:35.820 --> 00:00:37.180\nI have just enough to talk about it.\n\n15\n00:00:37.180 --> 00:00:38.170\n&gt;&gt; We'll tack on another minute.\n\n16\n00:00:38.170 --> 00:00:38.690\nI'll give you that.\n\n17\n00:00:38.690 --> 00:00:39.320\n&gt;&gt; I want that back.\n\n18\n00:00:39.320 --> 00:00:39.820\nKeep track of that.\n\n19\n00:00:39.820 --> 00:00:40.390\n&gt;&gt; Okay.\nI'll write it down.\n\n20\n00:00:40.390 --> 00:00:41.440\n&gt;&gt; I want that extra minute.\n\n21\n00:00:41.440 --> 00:00:44.750\n&gt;&gt; But I promise we are going\nto finish up here in,\n\n22\n00:00:44.750 --> 00:00:48.400\nwith just enough time to spare to\nactually have Cherokee say we're done.\n\n23\n00:00:48.400 --> 00:00:50.705\nAnd we're gonna do it in one episode,\nyou got my promise.\n\n24\n00:00:50.705 --> 00:00:53.760\nYou're gonna hold me accountable for\nthat but give me that extra minute.\n\n25\n00:00:53.760 --> 00:00:56.148\nAll right, so just enough administration,\nlet's talk about what this is.\n\n26\n00:00:56.148 --> 00:00:57.415\nIt's actually kinda cool.\n\n27\n00:00:57.415 --> 00:01:01.024\nThis takes this older thought process,\nit's been around for some time.\n\n28\n00:01:01.024 --> 00:01:03.484\nSomething known as RBAC,\nrole based administrative or\n\n29\n00:01:03.484 --> 00:01:06.930\naccess control role based access\ncontrol or administrative control.\n\n30\n00:01:06.930 --> 00:01:12.110\nAnd we build on that concept which is\nan architectural model that helps us\n\n31\n00:01:12.110 --> 00:01:16.100\nto understand access control methodology,\nbeen around forever and a day.\n\n32\n00:01:16.100 --> 00:01:18.700\nAnd we take that and\nwe link it to PowerShell.\n\n33\n00:01:18.700 --> 00:01:22.550\nNot new technology but\na new thought process link to PowerShell,\n\n34\n00:01:22.550 --> 00:01:25.750\nwith a technology capability in\nPowerShell known as PowerShell remoting.\n\n35\n00:01:25.750 --> 00:01:27.640\nThe ability to connect to and\n\n36\n00:01:27.640 --> 00:01:32.210\nuse a PowerShell session, spawn a session\nagainst one or more remote machines and\n\n37\n00:01:32.210 --> 00:01:35.540\nexecute PowerShell cmdlets\nagainst those machines.\n\n38\n00:01:35.540 --> 00:01:39.388\nOn that machine or from a workstation\nagainst multiple machines to accomplish\n\n39\n00:01:39.388 --> 00:01:43.340\nsome sort of a task,\nessentially just remote administration.\n\n40\n00:01:43.340 --> 00:01:46.270\nAnd so\njust enough administration as a concept\n\n41\n00:01:46.270 --> 00:01:50.910\nbinds together this idea of giving\nus the RBAC role-based delegated,\n\n42\n00:01:50.910 --> 00:01:53.820\nadministrative, and\naccess control capabilities.\n\n43\n00:01:53.820 --> 00:01:57.680\nUsing PowerShell remoting against remote\nmachines with a couple of configuration\n\n44\n00:01:57.680 --> 00:02:02.380\nfiles or files that we use to specify what\nwe could do in the PowerShell session.\n\n45\n00:02:02.380 --> 00:02:03.230\nAnd how we're gonna do that.\n\n46\n00:02:03.230 --> 00:02:07.720\nAnd by linking this all together when\nwe set up a remote PowerShell session,\n\n47\n00:02:07.720 --> 00:02:10.680\nwe're then going to be able to\nallow activities of certain types.\n\n48\n00:02:10.680 --> 00:02:12.240\nAgainst one or more remote systems.\n\n49\n00:02:12.240 --> 00:02:15.490\nSo this is what just enough\nadministration implies.\n\n50\n00:02:15.490 --> 00:02:18.260\nNot new, as I said we've had\nall these moving parts and\n\n51\n00:02:18.260 --> 00:02:20.650\npieces around for some time.\n\n52\n00:02:20.650 --> 00:02:25.050\nWe've had the idea of the role based\naccess control model for some time.\n\n53\n00:02:25.050 --> 00:02:27.780\nThe idea of delegation,\nwe showed you in a prior episode.\n\n54\n00:02:27.780 --> 00:02:30.770\nIf you haven't seen it by the way,\ngood for you to go back take a look.\n\n55\n00:02:30.770 --> 00:02:34.270\nWe talked about delegation of control and\nthe delegation of control wizard and\n\n56\n00:02:34.270 --> 00:02:37.660\nthe ability to give one or more users or\ngroups the rights to do something.\n\n57\n00:02:37.660 --> 00:02:41.910\nSo RBAC has been around for many,\nmany cycles in Windows at this point and\n\n58\n00:02:41.910 --> 00:02:43.920\nmore broadly outside of Windows for\nsome time.\n\n59\n00:02:43.920 --> 00:02:46.570\nThe idea of PowerShell being\nused to administer not new,\n\n60\n00:02:46.570 --> 00:02:48.700\nthe idea of PowerShell remoting not new.\n\n61\n00:02:48.700 --> 00:02:52.010\nWe've had those capabilities since the ver\nbeginning of our use with PowerShell.\n\n62\n00:02:52.010 --> 00:02:55.310\nSo, all we are doing is taking all\nthese little individual pieces,\n\n63\n00:02:55.310 --> 00:02:58.370\nputting a wrapper around them,\ngiving them a new thought process.\n\n64\n00:02:58.370 --> 00:03:02.510\nBut essentially just enabling\nthe concepts that exist and\n\n65\n00:03:02.510 --> 00:03:05.050\nreally just directing them in a new and\ninnovative way.\n\n66\n00:03:05.050 --> 00:03:08.331\nSo we configure this,\nwe'll authorize users to connect and\n\n67\n00:03:08.331 --> 00:03:12.940\nuse what's called a specifically- or\nspecially-configured JEA endpoint.\n\n68\n00:03:12.940 --> 00:03:16.150\nWe target that, and\nwe use a specific set of PowerShell or\n\n69\n00:03:16.150 --> 00:03:18.540\nWindows PowerShell cmdlets, parameters and\n\n70\n00:03:18.540 --> 00:03:23.580\nparameter values, to be able to execute\nactivities against our remote system.\n\n71\n00:03:23.580 --> 00:03:27.560\nWe can configure certain scripts and\ncommands to be run, or support for them.\n\n72\n00:03:27.560 --> 00:03:29.760\nAnd we are able to do all sorts of stuff.\n\n73\n00:03:29.760 --> 00:03:32.690\nWe do now have this capability directly,\n\n74\n00:03:32.690 --> 00:03:37.570\nmeaning built in natively supported\non server 16, on the server side,\n\n75\n00:03:37.570 --> 00:03:42.150\non Windows 10, on the desktop side\nusing version 15.11 or later.\n\n76\n00:03:42.150 --> 00:03:44.581\nSo within the last couple\nof builds of Windows 10,\n\n77\n00:03:44.581 --> 00:03:46.690\nwe have this support natively enabled.\n\n78\n00:03:46.690 --> 00:03:49.950\nWe can also use this against\nolder systems, provided\n\n79\n00:03:49.950 --> 00:03:54.530\nthe Windows Management Framework, the WMF\nversion five is installed and enabled.\n\n80\n00:03:54.530 --> 00:03:58.670\nGoing all the way back to Server 2008 R2,\nall the way back to Windows 7.\n\n81\n00:03:58.670 --> 00:04:02.420\nSo as long as we provide the appropriate\nWindows Management Framework support,\n\n82\n00:04:02.420 --> 00:04:05.470\nwe can use this concept and\ntarget those older systems.\n\n83\n00:04:05.470 --> 00:04:09.330\nAnd we have the updated power shell\nsupport to allow that to occur.\n\n84\n00:04:09.330 --> 00:04:11.970\nSo just be aware of that,\nreally not too difficult to do.\n\n85\n00:04:11.970 --> 00:04:15.380\nI'm gonna walk you through\nthe thought process of how we create\n\n86\n00:04:15.380 --> 00:04:19.900\nthe two files necessary to enable this\nbehavior, a role capability file and\n\n87\n00:04:19.900 --> 00:04:21.390\na session configuration file.\n\n88\n00:04:21.390 --> 00:04:23.390\nWe'll talk a bit about each and\nwhat they are.\n\n89\n00:04:23.390 --> 00:04:26.170\nAnd we'll show you how to do this,\nlet me start.\n\n90\n00:04:26.170 --> 00:04:28.918\nJust give me one second to\nextend my lab timer here and\n\n91\n00:04:28.918 --> 00:04:33.050\njust bring up my demo environment so we\ncan take a look at the first of these two.\n\n92\n00:04:33.050 --> 00:04:39.210\nWhich is the role capability file, let me\njust move this down so you can see what's\n\n93\n00:04:39.210 --> 00:04:42.530\ngoing on in there, if you want to join\nme here just so we could see PowerShell.\n\n94\n00:04:42.530 --> 00:04:45.460\nSo I'm on the domain controller that\nwe use for demonstration purposes.\n\n95\n00:04:45.460 --> 00:04:47.583\nIt doesn't really matter\nwhat machine I'm on,\n\n96\n00:04:47.583 --> 00:04:49.910\nas long as it's a server 16 machine and\nthis one is so\n\n97\n00:04:49.910 --> 00:04:53.410\nthat's really all we need for\nthis particular part of the discussion.\n\n98\n00:04:53.410 --> 00:04:57.947\nI've used to get help cmdlet with the new\nPS role capability file cmdlet and\n\n99\n00:04:57.947 --> 00:05:00.190\nspecified fold to see the help file.\n\n100\n00:05:00.190 --> 00:05:02.748\nThe new PS rule capability, excuse me,\n\n101\n00:05:02.748 --> 00:05:07.489\nthe new PS rule capability file cmdlet\nis one of the two cmdlets we will use to\n\n102\n00:05:07.489 --> 00:05:12.160\ncreate the files necessary for\nus to be able enable this capability.\n\n103\n00:05:12.160 --> 00:05:15.537\nRole capability files allow us to\nspecify what can be done inside\n\n104\n00:05:15.537 --> 00:05:17.361\nthe Windows PowerShell session.\n\n105\n00:05:17.361 --> 00:05:21.585\nWe're not explicitly defining something\nand allowing it inside of the role\n\n106\n00:05:21.585 --> 00:05:26.520\ncapability file or a session configuration\nfile which we'll talk about in a minute.\n\n107\n00:05:26.520 --> 00:05:28.150\nThen we are not able to do it.\n\n108\n00:05:28.150 --> 00:05:32.340\nSo these two files control all aspects\nof what we will be allowed to do.\n\n109\n00:05:32.340 --> 00:05:37.401\nAnd we use an explicit grant of rights,\nmeaning we will define what those cmdlets,\n\n110\n00:05:37.401 --> 00:05:41.400\nthose scripts, whatever they will be are,\nand list them there.\n\n111\n00:05:41.400 --> 00:05:44.654\nOtherwise everything else is automatically\ndisallowed and will not be available,\n\n112\n00:05:44.654 --> 00:05:47.485\neven though we may be able to do\nit locally outside the session.\n\n113\n00:05:47.485 --> 00:05:50.790\nWe won't be able to do it in the remote\nsession against another machine.\n\n114\n00:05:50.790 --> 00:05:54.590\nSo we want to go through, you want to\ngo through, and take a look at the new\n\n115\n00:05:54.590 --> 00:05:57.680\nPS role capability file, help file,\nwhich is why I pulled it up.\n\n116\n00:05:57.680 --> 00:05:58.930\nIt is a rather extensive one.\n\n117\n00:05:58.930 --> 00:06:00.960\nI'm not going to go through\nthe whole file with you,\n\n118\n00:06:00.960 --> 00:06:02.850\nthere's a bunch of parameters in here.\n\n119\n00:06:02.850 --> 00:06:05.780\nBut I am gonna show you some information\nonline that will help you to get\n\n120\n00:06:05.780 --> 00:06:06.636\na better idea of this.\n\n121\n00:06:06.636 --> 00:06:10.340\nSo I'm gonna scroll down, I just wanted to\nshow you how to bring this help file up\n\n122\n00:06:10.340 --> 00:06:13.560\nand remind you that it would be a good\nidea for you to take a look at this.\n\n123\n00:06:13.560 --> 00:06:16.340\nOnce we do this, there are some\nexamples here of how to use it,\n\n124\n00:06:16.340 --> 00:06:17.575\nalways good to take a look.\n\n125\n00:06:17.575 --> 00:06:21.857\nYou could see the new creation is very\nstraight forward, just specify the cmdlet,\n\n126\n00:06:21.857 --> 00:06:25.850\nspecify the path parameter, and then\nthe path you want to create the file to.\n\n127\n00:06:25.850 --> 00:06:27.870\nSo, I've done that right here.\n\n128\n00:06:27.870 --> 00:06:29.880\nNew PS role capability file path.\n\n129\n00:06:29.880 --> 00:06:34.310\nJust created it locally in the C drive,\nTestFile.PSRC is what I called it.\n\n130\n00:06:34.310 --> 00:06:38.860\nIt is important to know you use a PS or\ndot PSRC extension.\n\n131\n00:06:38.860 --> 00:06:42.050\nPS, PowerShell, RC, role capability.\n\n132\n00:06:42.050 --> 00:06:45.840\nSo PSRC is the extension for\nthe role capability file.\n\n133\n00:06:45.840 --> 00:06:49.690\nI've done that, and\nwhen you open the C Drive.\n\n134\n00:06:49.690 --> 00:06:52.450\nYou'll see,\nI do have my test file right there.\n\n135\n00:06:52.450 --> 00:06:55.360\nAnd when I open that file,\nit is a shell essentially.\n\n136\n00:06:55.360 --> 00:06:59.650\nIt is just the structure that we're gonna\nbe able to now hang things in and on and\n\n137\n00:06:59.650 --> 00:07:04.010\ndefine in these sections all the different\nthings we want to be able to accomplish.\n\n138\n00:07:04.010 --> 00:07:06.870\nAnd so when you open up this file,\nwhich is created\n\n139\n00:07:06.870 --> 00:07:10.640\nvery straightforward as you saw,\njust by issuing the single command string.\n\n140\n00:07:10.640 --> 00:07:14.100\nWe do have some basic structure,\nwho is the author of the document?\n\n141\n00:07:14.100 --> 00:07:17.060\nList me as the administrator,\nI did not put in and\n\n142\n00:07:17.060 --> 00:07:20.220\nuse the description parameter, I could've\ndone that to add the description.\n\n143\n00:07:20.220 --> 00:07:22.610\nBut I can edit the file and\njust to add it in here so it may or\n\n144\n00:07:22.610 --> 00:07:23.700\nit may not be imported.\n\n145\n00:07:23.700 --> 00:07:27.100\nI didn't use a company parameter,\nI could have done that add company.\n\n146\n00:07:27.100 --> 00:07:28.860\nRight now, it's listed as unknown.\n\n147\n00:07:28.860 --> 00:07:31.430\nAnd so we're just kinda\nscrolling through some of that.\n\n148\n00:07:31.430 --> 00:07:33.800\nAnd then modules to import\nwhen applied to a session.\n\n149\n00:07:33.800 --> 00:07:35.230\nI will import and\n\n150\n00:07:35.230 --> 00:07:39.120\nspecify the appropriate PowerShell\nmodules that I wanna make available load.\n\n151\n00:07:39.120 --> 00:07:44.040\nMaybe the DNS command module,\nmaybe the AD DS administration module,\n\n152\n00:07:44.040 --> 00:07:45.680\nmaybe the DHCP module.\n\n153\n00:07:45.680 --> 00:07:47.266\nThere's all these modules, right?\n\n154\n00:07:47.266 --> 00:07:49.620\nI can decide which ones I\nwant to make available.\n\n155\n00:07:49.620 --> 00:07:51.931\nRemember, I must explicitly detail or\n\n156\n00:07:51.931 --> 00:07:55.440\ngrant the use of these by\ndetailing them out in these files.\n\n157\n00:07:55.440 --> 00:07:58.655\nIf I don't import those modules and\nset them up using this file and\n\n158\n00:07:58.655 --> 00:08:02.692\nmake them available, they're not available\nto me during the remote session when\n\n159\n00:08:02.692 --> 00:08:04.931\nI'm Using it to target one or\nmore machines.\n\n160\n00:08:04.931 --> 00:08:07.973\nSo just because modules are loaded and\navailable on my local machine doesn't\n\n161\n00:08:07.973 --> 00:08:10.945\nmean they'll be available on the remote\nsession, is what I'm implying.\n\n162\n00:08:10.945 --> 00:08:14.050\nSo wanna make sure we know that\ncuz we have to go through and\n\n163\n00:08:14.050 --> 00:08:18.138\nthink through the logic in these sections\nof what we wanna make available.\n\n164\n00:08:18.138 --> 00:08:21.189\nWhat modules, what aliases,\nif there are any, what commandlets,\n\n165\n00:08:21.189 --> 00:08:24.623\nand just kinda walking through the logic,\nand hitting the highlights here.\n\n166\n00:08:24.623 --> 00:08:27.215\nWhat functions, what external commands.\n\n167\n00:08:27.215 --> 00:08:29.555\nI'm pointing at Cherokee,\ncuz she's pointing at me.\n\n168\n00:08:29.555 --> 00:08:31.590\n&gt;&gt; [LAUGH]\n&gt;&gt; This is how we do things, right?\n\n169\n00:08:31.590 --> 00:08:33.880\nAll right, so\nI'm gonna let you go in just a second.\n\n170\n00:08:33.880 --> 00:08:35.180\nJust rattle a few more.\n\n171\n00:08:35.180 --> 00:08:37.110\nProviders that we're gonna make available.\n\n172\n00:08:37.110 --> 00:08:39.260\nScripts, remember I said\nwe could load scripts.\n\n173\n00:08:39.260 --> 00:08:43.170\nYou could see .ps, extension ps1 for\nPower Shell's scripts.\n\n174\n00:08:43.170 --> 00:08:47.645\nSo I can go through and\nlist out in here what I want.\n\n175\n00:08:47.645 --> 00:08:53.335\nAnd this is nice because by creating this\ntemplate file, that's what I'll call it,\n\n176\n00:08:53.335 --> 00:08:57.515\nthis .psrc extension file, Microsoft's\nalready built the structure for us, right?\n\n177\n00:08:57.515 --> 00:09:01.824\nAnd provided all the commented sections\nthat I just have to go in and populate so\n\n178\n00:09:01.824 --> 00:09:05.677\nI can actually provide the capabilities\nand set up the capabilities or\n\n179\n00:09:05.677 --> 00:09:09.480\nthe role capabilities specifically\nI want to apply to this session.\n\n180\n00:09:09.480 --> 00:09:11.400\nSo just keep that in mind\nas we talk about this.\n\n181\n00:09:11.400 --> 00:09:12.810\nYeah.\n&gt;&gt; Seems pretty cool, Adam.\n\n182\n00:09:12.810 --> 00:09:17.300\nKinda, or similarly like how we can\ncreate and customize our own MMC snap in.\n\n183\n00:09:17.300 --> 00:09:20.370\nThis is almost like we're\ncreating our own tool or\n\n184\n00:09:20.370 --> 00:09:24.250\nfunctionalities here without installing\nevery single module in particular,\n\n185\n00:09:24.250 --> 00:09:26.820\ngoing through each machine and\ninstalling those modules.\n\n186\n00:09:26.820 --> 00:09:29.932\nBut you have a nice customized little\npackage that we are pushing out,\n\n187\n00:09:29.932 --> 00:09:31.420\nfull of these commandlets here.\n\n188\n00:09:32.590 --> 00:09:35.806\n&gt;&gt; Well, we have a file that's going\nto configure that session for us,\n\n189\n00:09:35.806 --> 00:09:36.978\nis what we have, right?\n\n190\n00:09:36.978 --> 00:09:41.892\nSo, it will install and make available to\nus these modules, allow us to enable and\n\n191\n00:09:41.892 --> 00:09:46.240\nuse these scripts, call in these\ncommandlets, whatever they are.\n\n192\n00:09:46.240 --> 00:09:50.190\nBut this file and the file we're going to\ntalk now, the session configuration file\n\n193\n00:09:50.190 --> 00:09:52.800\nthat goes along with it,\nare necessary for us to do this.\n\n194\n00:09:52.800 --> 00:09:54.850\nThe session config file .psfc,\n\n195\n00:09:54.850 --> 00:09:58.570\nPowerShell session config file,\nwhich we would also create.\n\n196\n00:09:58.570 --> 00:09:59.740\nWe'll talk about that in a minute.\n\n197\n00:09:59.740 --> 00:10:04.780\nThese two files build this environment for\nus on a per JEAN endpoint,\n\n198\n00:10:04.780 --> 00:10:07.110\nor a targeted basis as we\nconnect when we use them.\n\n199\n00:10:07.110 --> 00:10:08.395\nSo, yes, it does that.\n\n200\n00:10:08.395 --> 00:10:12.350\n.But it is gonna be a lot of detailed work\nto go in and list all these things out.\n\n201\n00:10:12.350 --> 00:10:13.900\n&gt;&gt; Okay.\n&gt;&gt; So we do have to build the manifest\n\n202\n00:10:13.900 --> 00:10:16.620\nlists of all the modules,\nspecify the scripts,\n\n203\n00:10:16.620 --> 00:10:19.320\nthe path locations,\nall that stuff still has to be done.\n\n204\n00:10:19.320 --> 00:10:23.030\nBut we're using it in a way that's gonna\ntarget the specific remote connection,\n\n205\n00:10:23.030 --> 00:10:23.860\nit's what we're gonna do.\n\n206\n00:10:23.860 --> 00:10:27.230\nAll right, so we've talked about one of\nthe two files, the role capability file.\n\n207\n00:10:27.230 --> 00:10:31.670\nLet's go back here real quick, down in\nthe middle, or down at the bottom, rather.\n\n208\n00:10:31.670 --> 00:10:35.670\nYou could see that I also issued\nthe new PS session configuration,\n\n209\n00:10:35.670 --> 00:10:37.460\nwe just highlight here.\n\n210\n00:10:37.460 --> 00:10:39.919\nNew PS session configuration\nfile commandlet.\n\n211\n00:10:39.919 --> 00:10:43.370\nIt's the other command that we\nuse to build the PSSC file,\n\n212\n00:10:43.370 --> 00:10:45.370\nthe session configuration file.\n\n213\n00:10:45.370 --> 00:10:46.100\nSo I would do this.\n\n214\n00:10:46.100 --> 00:10:47.930\nI just pulled up the help file again for\nyou.\n\n215\n00:10:47.930 --> 00:10:51.230\nAgain, very extensive,\neven bigger than the role capability file.\n\n216\n00:10:51.230 --> 00:10:53.870\nSo I encourage you to go through,\ntake a look at that.\n\n217\n00:10:53.870 --> 00:10:56.620\nThis one's a little more involved because\nthis one has a lot of parameters and\n\n218\n00:10:56.620 --> 00:10:59.650\nneeds very specific things\nto be associated with it.\n\n219\n00:10:59.650 --> 00:11:02.090\nSo we're not gonna just demo\nthis one by walking through it.\n\n220\n00:11:02.090 --> 00:11:04.850\nI'm gonna show you some stuff that'll\nhelp us better understand it.\n\n221\n00:11:04.850 --> 00:11:08.240\nBut you do want to understand the two\ncommandlets that are used here.\n\n222\n00:11:08.240 --> 00:11:12.530\nthe New PS role capability file.\n\n223\n00:11:12.530 --> 00:11:15.356\nAnd new PS session configuration file.\n\n224\n00:11:15.356 --> 00:11:19.520\nAnd the extensions,\n.posrc and .pssc for both.\n\n225\n00:11:19.520 --> 00:11:21.304\nWant to make sure you know those.\n\n226\n00:11:21.304 --> 00:11:22.500\nSo we have that.\n\n227\n00:11:22.500 --> 00:11:25.670\nThen what I've done is the following.\n\n228\n00:11:25.670 --> 00:11:28.840\nLet me just come over here.\n\n229\n00:11:28.840 --> 00:11:31.884\nSo, to set up and use, and the URLs for\nthese two sites, by the way,\n\n230\n00:11:31.884 --> 00:11:34.663\nare in the show notes so\nyou'll be able to take a look at them and\n\n231\n00:11:34.663 --> 00:11:37.240\nwalk through them the way\nI am going to with you.\n\n232\n00:11:37.240 --> 00:11:41.260\nYou can see that the JEA role\ncapabilities as we just discussed, right,\n\n233\n00:11:41.260 --> 00:11:44.700\ndoes apply with the newest version\nof PowerShell version five.\n\n234\n00:11:44.700 --> 00:11:47.830\nAnd so, you'll see,\nwe do talk about in here\n\n235\n00:11:49.460 --> 00:11:53.290\nhow to set up and\nstart to allow commandlets and\n\n236\n00:11:53.290 --> 00:11:57.190\nfunctions to run by populating individual\nareas of that file that it'd showed you.\n\n237\n00:11:57.190 --> 00:12:03.450\nAnd at the bottom of this,\nall the way down, right?\n\n238\n00:12:03.450 --> 00:12:06.510\nIt does show us how to create a folder for\nthe module.\n\n239\n00:12:06.510 --> 00:12:09.780\nBring in the role capabilities,\nand specify them.\n\n240\n00:12:09.780 --> 00:12:14.230\nIt's a very good detailed description\nof how everything is going to work.\n\n241\n00:12:14.230 --> 00:12:19.730\nSo it gives you good guidance on how\nto populate every section of that\n\n242\n00:12:19.730 --> 00:12:24.140\nfile as we go through so\nthat the PSRC file, right?\n\n243\n00:12:24.140 --> 00:12:28.950\nAnd then, when you're done,\nit does tell us down here,\n\n244\n00:12:28.950 --> 00:12:32.390\ngives us a little sample\nof different code snippets.\n\n245\n00:12:32.390 --> 00:12:36.305\nIt does show us then how to create\na session config file, which is the next\n\n246\n00:12:36.305 --> 00:12:39.170\nstep we were talking about, this is\nthe one I want to walk through with you.\n\n247\n00:12:39.170 --> 00:12:42.620\nSo clicking on that link brings\nup Session Configurations.\n\n248\n00:12:42.620 --> 00:12:45.820\nHow to create the session config\nfile again, just like I showed you,\n\n249\n00:12:45.820 --> 00:12:47.670\nNew PF session config file.\n\n250\n00:12:47.670 --> 00:12:50.230\nThen you have to specify\nsession type parameter, and\n\n251\n00:12:50.230 --> 00:12:54.210\nthe path to where you wanna be\nable to create the .PSSC file.\n\n252\n00:12:54.210 --> 00:12:56.740\nSo let's assume that's done.\n\n253\n00:12:56.740 --> 00:13:01.510\nAnd then, as you get in,\nyou have to start creating and populating\n\n254\n00:13:01.510 --> 00:13:05.740\na bunch of additional areas in the file\njust like I was showing you from before.\n\n255\n00:13:05.740 --> 00:13:07.550\nLet me just go down here.\n\n256\n00:13:07.550 --> 00:13:13.260\nBecause we have a sample\ndown towards the bottom.\n\n257\n00:13:13.260 --> 00:13:15.180\nThere we go.\nSo a sample session config file,\n\n258\n00:13:15.180 --> 00:13:16.580\nwhich we can just look at.\n\n259\n00:13:16.580 --> 00:13:17.760\nAnd obviously, then, as a result,\n\n260\n00:13:17.760 --> 00:13:20.485\nwe can take a look at and\nget a better sense of what's happening.\n\n261\n00:13:20.485 --> 00:13:22.635\nLet me get rid of that so we can see.\n\n262\n00:13:22.635 --> 00:13:24.665\nSo we're declaring some roles here, right?\n\n263\n00:13:24.665 --> 00:13:28.845\nShowing how to create a validated\nsession config for a JEA.\n\n264\n00:13:28.845 --> 00:13:32.392\nNotice the roles are created and stored in\nthe dollar sign roles variable, all right?\n\n265\n00:13:32.392 --> 00:13:34.806\nSo we're using a variable\nto be able to do this.\n\n266\n00:13:34.806 --> 00:13:39.832\nSo we're creating\ncontosoJEA_dnsadminsJEA_dnsops and\n\n267\n00:13:39.832 --> 00:13:43.577\nDNS_auditors as three specific roles, and\n\n268\n00:13:43.577 --> 00:13:48.317\nthe role capabilities associated\nwith them are listed.\n\n269\n00:13:48.317 --> 00:13:50.390\nSo we can assign those.\n\n270\n00:13:50.390 --> 00:13:53.420\nAnd then, we go through and\ncreate new config file,\n\n271\n00:13:53.420 --> 00:13:58.245\nsession type, restricted remote server,\ngive a path to that file.\n\n272\n00:13:58.245 --> 00:14:00.445\nRun as, so\nwe're running it as a virtual account.\n\n273\n00:14:00.445 --> 00:14:03.135\nAnd then specify a transcript directory\n\n274\n00:14:03.135 --> 00:14:05.795\nwhere we wanna keep track\nof what is happening.\n\n275\n00:14:05.795 --> 00:14:09.423\nWe're calling our role definitions,\nremember our variable we declared for\n\n276\n00:14:09.423 --> 00:14:11.415\ndollar sign roles.\n\n277\n00:14:11.415 --> 00:14:15.807\nAnd we're specifying any required\ngroups either 2FA_, or rather,\n\n278\n00:14:15.807 --> 00:14:18.190\n2FA-logon or smart card logons.\n\n279\n00:14:18.190 --> 00:14:21.939\nSo these will be groups\nthat would be required.\n\n280\n00:14:21.939 --> 00:14:25.059\nAnd then, we're testing it.\n\n281\n00:14:25.059 --> 00:14:27.452\nHere, or the sample config files rather,\n\n282\n00:14:27.452 --> 00:14:31.319\nuses the test PF session config file\ncommandment to be able to run it.\n\n283\n00:14:31.319 --> 00:14:35.350\nSo that way, we check and test whether or\nnot it actually works and\n\n284\n00:14:35.350 --> 00:14:39.810\nallows us to log in and\nto provide this connection and capability.\n\n285\n00:14:39.810 --> 00:14:43.850\nNow, assuming that all that worked,\nwhat would actually happen, right?\n\n286\n00:14:43.850 --> 00:14:45.842\nNot specific with that file,\nbut generically,\n\n287\n00:14:45.842 --> 00:14:48.757\nwhat would happen as we try to connect\nto what's called a JAN endpoint,\n\n288\n00:14:48.757 --> 00:14:50.360\na machine that we want to manage.\n\n289\n00:14:50.360 --> 00:14:54.770\nso you can see here, put together\na very simple little thought process.\n\n290\n00:14:54.770 --> 00:14:56.578\nEnter PS session, right?\n\n291\n00:14:56.578 --> 00:14:57.700\nComputer name.\n\n292\n00:14:57.700 --> 00:14:59.210\nSpecify the name of the target machine.\n\n293\n00:14:59.210 --> 00:15:01.330\nIn this case, IT Pro TV DC1.\n\n294\n00:15:01.330 --> 00:15:02.381\nConfiguration name.\n\n295\n00:15:02.381 --> 00:15:04.501\nThe name of the service end\npoint that we wanna use,\n\n296\n00:15:04.501 --> 00:15:06.560\nin this case whatever the service will be.\n\n297\n00:15:06.560 --> 00:15:10.809\nBut the JAN point we connect to by\nsetting up our PowerShell session,\n\n298\n00:15:10.809 --> 00:15:14.830\nenter PS session, session name from\na standard PowerShell session.\n\n299\n00:15:14.830 --> 00:15:19.666\nThis is on any machine that runs, as you\ncan see, server 16 or 10, version 15, 11,\n\n300\n00:15:19.666 --> 00:15:20.234\nor later.\n\n301\n00:15:20.234 --> 00:15:23.881\nThat's that requirement that I talked\nabout with minimum support for\n\n302\n00:15:23.881 --> 00:15:25.438\nWNF framework version five.\n\n303\n00:15:25.438 --> 00:15:30.320\nIf not, as I said, make sure the Windows\nMFF framework version five is installed on\n\n304\n00:15:30.320 --> 00:15:33.830\nanything back as far as Windows 7,\nas I noted here.\n\n305\n00:15:33.830 --> 00:15:37.752\nAnd then once we do that, we're able to\nactually pull this PowerShell session up,\n\n306\n00:15:37.752 --> 00:15:40.216\nconnect, let's say,\nto that target machine, and\n\n307\n00:15:40.216 --> 00:15:43.299\nactually use these files to configure\nwhat we will actually run or\n\n308\n00:15:43.299 --> 00:15:46.180\nwhat will be allowed to be run,\nand what we will be able to do.\n\n309\n00:15:46.180 --> 00:15:50.980\nSo the end point is nothing more\nthan us providing with us or\n\n310\n00:15:50.980 --> 00:15:55.840\nproviding for us and actually allowing\nus to provide, or specify I should say,\n\n311\n00:15:55.840 --> 00:15:58.020\nas you can see right here.\n\n312\n00:15:58.020 --> 00:15:59.120\nSkip down, right.\n\n313\n00:15:59.120 --> 00:16:00.321\nSo, it's just configured so\n\n314\n00:16:00.321 --> 00:16:02.879\nonly specified authenticated\nusers are able to connect to it.\n\n315\n00:16:02.879 --> 00:16:06.806\nAnd only those users can access\nthe required commandlets, parameters,\n\n316\n00:16:06.806 --> 00:16:09.526\nand all the things we specify\nIn our config file, or\n\n317\n00:16:09.526 --> 00:16:12.265\nrole capability file,\nor session-config file.\n\n318\n00:16:12.265 --> 00:16:15.345\nSo we get a multiple different\nendpoints running on a server, and\n\n319\n00:16:15.345 --> 00:16:19.110\neach of those can be used to provide\naccess to different administrative tasks.\n\n320\n00:16:19.110 --> 00:16:22.850\nThese are almost like pre-made hooks or\nhalf-ways doors we knock on.\n\n321\n00:16:22.850 --> 00:16:25.500\nHey, I'm here to administer DNS, right?\n\n322\n00:16:25.500 --> 00:16:27.290\nAnd I open that JEA endpoint.\n\n323\n00:16:27.290 --> 00:16:31.140\nHey, I'm here to be able to do\nan audit on the DHCP scope, and\n\n324\n00:16:31.140 --> 00:16:35.912\nmaybe I've defined that as a role,\nand I've defined that as an endpoint.\n\n325\n00:16:35.912 --> 00:16:37.220\nGreat, I can do that.\n\n326\n00:16:37.220 --> 00:16:40.120\nAnd so by creating these endpoints and\nregistering them\n\n327\n00:16:40.120 --> 00:16:44.263\nusing the Register-PSSessionConfiguration\ncmdlet, right there, right?\n\n328\n00:16:44.263 --> 00:16:46.587\nWe can go through specifying\nan endpoint name and\n\n329\n00:16:46.587 --> 00:16:49.330\na session-config file\nlinking the two together.\n\n330\n00:16:49.330 --> 00:16:53.170\nAnd then we give that capability\nto that particular endpoint.\n\n331\n00:16:53.170 --> 00:16:56.286\nAnd once we do that, we're able to\ncall that up and then use that.\n\n332\n00:16:56.286 --> 00:17:02.536\nAnd so if we go back to our\nsession file sample here, right?\n\n333\n00:17:02.536 --> 00:17:03.820\nWe have all these roles.\n\n334\n00:17:03.820 --> 00:17:08.920\nThese role capabilities for DNS admin,\nDNS operator, DNS auditor, etc.\n\n335\n00:17:08.920 --> 00:17:13.265\nAnd we specify our config file, right?\n\n336\n00:17:13.265 --> 00:17:17.877\nWe're then able to connect to that machine\nand be able to then test whether or\n\n337\n00:17:17.877 --> 00:17:20.832\nnot that endpoint will\nwork properly given one or\n\n338\n00:17:20.832 --> 00:17:23.520\nmore of these roles being defined and\nused.\n\n339\n00:17:23.520 --> 00:17:26.540\nYou keep waving at me, I'm assuming that\nmeans you have something you wanna say.\n\n340\n00:17:26.540 --> 00:17:27.270\nWhat's going on?\n\n341\n00:17:27.270 --> 00:17:31.111\n&gt;&gt; So I'm just kind of thinking logically\nabout this from a maintenance or\n\n342\n00:17:31.111 --> 00:17:33.423\nadministrative standpoint here, Adam.\n\n343\n00:17:33.423 --> 00:17:35.735\nSo if I had multiple JEA endpoints,\n\n344\n00:17:35.735 --> 00:17:39.589\nI could use those multiple\nendpoints to perform specific,\n\n345\n00:17:39.589 --> 00:17:44.692\ndifferent tasks if I wanted to, if I\nhad configured those files accordingly.\n\n346\n00:17:44.692 --> 00:17:49.211\nSo maybe if I had one person in charge of\na particular function or auditing process\n\n347\n00:17:49.211 --> 00:17:53.869\nthen you could really define and segregate\nthose duties based upon that endpoint?\n\n348\n00:17:57.456 --> 00:17:58.315\n&gt;&gt; Yeah.\n\n349\n00:17:58.315 --> 00:18:01.539\nI mean that, yeah, so yes, you could.\n\n350\n00:18:01.539 --> 00:18:02.361\n&gt;&gt; Okay.\n\n351\n00:18:02.361 --> 00:18:04.066\n[LAUGH]\n&gt;&gt; Okay, yeah.\n\n352\n00:18:05.265 --> 00:18:08.247\nSo one thing I just wanted\nto point out with regards\n\n353\n00:18:08.247 --> 00:18:10.236\nto setting up the JEA endpoints.\n\n354\n00:18:10.236 --> 00:18:13.040\nUpdating session-config files\nis what it's listed as here.\n\n355\n00:18:13.040 --> 00:18:15.522\nRight, so\nif we need to change the session-config,\n\n356\n00:18:15.522 --> 00:18:19.382\nspecifically things like mapping users and\nroles as we do up in the sample up above,\n\n357\n00:18:19.382 --> 00:18:23.210\nthey talk about here unregistering and\nre-registering that session-config.\n\n358\n00:18:23.210 --> 00:18:26.614\nRemember I said that we would\nregister the session-config\n\n359\n00:18:26.614 --> 00:18:30.630\nusing the Register-PSSessionConfiguration\ncmdlet, right?\n\n360\n00:18:30.630 --> 00:18:32.830\nSo we'd have to run that to register.\n\n361\n00:18:32.830 --> 00:18:34.095\nWe'd have to unregister and\n\n362\n00:18:34.095 --> 00:18:37.140\nre-register when we wanna make a change\nis what they're pointing out here.\n\n363\n00:18:37.140 --> 00:18:40.535\nAnd so if you follow the logic,\nright, you'd rerun the command.\n\n364\n00:18:40.535 --> 00:18:44.174\nBut you can see as you click through here,\nregistering JEA, using it,\n\n365\n00:18:44.174 --> 00:18:47.370\na security considerations,\nauditing, reporting on.\n\n366\n00:18:47.370 --> 00:18:48.973\nYou're registering the JEA.\n\n367\n00:18:48.973 --> 00:18:51.578\nJust uses that cmdlet like\nI was suggesting to you.\n\n368\n00:18:51.578 --> 00:18:54.550\nRegister-PSSessionConfiguration cmdlet,\nright?\n\n369\n00:18:54.550 --> 00:18:58.090\nOne or more roles has been created in the\nrole capability folder of the PowerShell\n\n370\n00:18:58.090 --> 00:18:58.840\nmodule.\n\n371\n00:18:58.840 --> 00:19:01.450\nYou just saw a sample with that would\nlook like up above in the prior\n\n372\n00:19:01.450 --> 00:19:02.770\nscript we looked at.\n\n373\n00:19:02.770 --> 00:19:04.505\nAnd then we can go through and\nset that up.\n\n374\n00:19:04.505 --> 00:19:07.760\nGet-PSSessionConfiguration cmdlet\nchecks the name of\n\n375\n00:19:07.760 --> 00:19:09.930\nthose endpoints that\nalready available to you.\n\n376\n00:19:09.930 --> 00:19:11.780\nSo you could see here.\n\n377\n00:19:11.780 --> 00:19:13.150\nLet's see what they are.\n\n378\n00:19:13.150 --> 00:19:16.590\nAnd then once we run\nthe registration of the PSSC file,\n\n379\n00:19:16.590 --> 00:19:18.250\nyou could see it right here.\n\n380\n00:19:18.250 --> 00:19:21.486\nAnd we give it a name, JEA maintenance or\nwhatever this would be.\n\n381\n00:19:21.486 --> 00:19:23.115\nThen we have set that up.\n\n382\n00:19:23.115 --> 00:19:25.452\nIf we then want to go through and\nchange that,\n\n383\n00:19:25.452 --> 00:19:28.500\nwe have to unregister is\nwhat they're suggesting.\n\n384\n00:19:28.500 --> 00:19:29.348\nMake the changes.\n\n385\n00:19:29.348 --> 00:19:30.680\nUpdate the configuration.\n\n386\n00:19:30.680 --> 00:19:32.596\nMaybe map the different groups or\nwhatever.\n\n387\n00:19:32.596 --> 00:19:37.518\nCherokee was suggesting we may wanna do to\nsegment and differentiate based on some\n\n388\n00:19:37.518 --> 00:19:41.990\nsort of grant of rights or\nsome sort of limited privilege use, right?\n\n389\n00:19:41.990 --> 00:19:45.600\nAnd then we can re-register if necessary\nso the idea of least privilege or\n\n390\n00:19:45.600 --> 00:19:48.060\nthe idea of separation of duties\nthat you were suggesting.\n\n391\n00:19:48.060 --> 00:19:49.491\nWe can apply that here.\n\n392\n00:19:49.491 --> 00:19:52.260\nWe just have to think about the fact\nthat if we don't necessarily\n\n393\n00:19:52.260 --> 00:19:53.920\nget them all done the first time.\n\n394\n00:19:53.920 --> 00:19:55.187\nIt's not like we just go in and add.\n\n395\n00:19:55.187 --> 00:19:57.957\nWhat we're saying is you have to\nunregister and re-register to update.\n\n396\n00:19:57.957 --> 00:19:59.365\nWe just wanna make sure\nyou're aware of that.\n\n397\n00:19:59.365 --> 00:19:59.923\n&gt;&gt; Okay.\n\n398\n00:19:59.923 --> 00:20:01.047\n&gt;&gt; And then the other thing is, and\n\n399\n00:20:01.047 --> 00:20:03.181\nI mentioned this in the very\nbottom of the show notes as well.\n\n400\n00:20:03.181 --> 00:20:07.171\nThis idea of a multi-machine\nconfiguration, with what's known as DSC,\n\n401\n00:20:07.171 --> 00:20:09.700\nDesired State Configuration, right?\n\n402\n00:20:09.700 --> 00:20:13.125\nAnd the idea of Desired State\nConfiguration or the idea of using\n\n403\n00:20:13.125 --> 00:20:17.923\nthis to create and allow this opportunity\nto manage multiple machine configurations.\n\n404\n00:20:17.923 --> 00:20:19.390\nIt's just worth a quick note here.\n\n405\n00:20:19.390 --> 00:20:23.086\nRight, if we deploy this idea of just\nenough administration on multiple\n\n406\n00:20:23.086 --> 00:20:26.782\nmachines, says simplest model is to\nuse Desired State Configuration to\n\n407\n00:20:26.782 --> 00:20:29.600\nconsistently deploy\nacross all the machines.\n\n408\n00:20:29.600 --> 00:20:34.306\nYou essentially specify, have all your\nscripts and everything already set up.\n\n409\n00:20:34.306 --> 00:20:37.740\nSo your two files, your PSSC,\nPSRC file, all that.\n\n410\n00:20:37.740 --> 00:20:42.710\nWe do need to download something called\nthe JEA DSC resource to use this.\n\n411\n00:20:42.710 --> 00:20:45.690\nBecause in other words, this is not\nsomething that's just available.\n\n412\n00:20:45.690 --> 00:20:48.600\nIf you click here,\nyou will see we can go in.\n\n413\n00:20:48.600 --> 00:20:53.150\nThere is on GitHub of all places cuz\nMicrosoft is starting to put a lot of this\n\n414\n00:20:53.150 --> 00:20:56.380\ncontent out on GitHub, so\ndon't be surprised when you go there.\n\n415\n00:20:56.380 --> 00:21:00.407\nBut you will see that we do have\nthe ability to download here, and\n\n416\n00:21:00.407 --> 00:21:05.344\nuse some additional information that\nis provided to enable this capability.\n\n417\n00:21:05.344 --> 00:21:07.700\nSo you'd wanna go in and take a look here.\n\n418\n00:21:07.700 --> 00:21:10.349\nAll right, you can click here and\n\n419\n00:21:10.349 --> 00:21:15.810\nsee that there are a couple\nof items a PowerShell module.\n\n420\n00:21:15.810 --> 00:21:20.113\nAnd another script that you would need\nthat will then allow us to be able to use\n\n421\n00:21:20.113 --> 00:21:23.087\nthis capability for\nDesired State Configuration.\n\n422\n00:21:23.087 --> 00:21:25.160\nSo you would grab this information.\n\n423\n00:21:25.160 --> 00:21:28.470\nFollow the instructions and the script\nto be able to edit it out accordingly.\n\n424\n00:21:28.470 --> 00:21:32.170\nAnd once you've done that, you can then go\nahead and create this configuration for\n\n425\n00:21:32.170 --> 00:21:34.900\nthe endpoint right on the target machine.\n\n426\n00:21:34.900 --> 00:21:39.476\nAnd then once you set that up, you're\nthen able to meet all these requirements.\n\n427\n00:21:39.476 --> 00:21:42.693\nYou'll have everything deployed\naccordingly and then once that's all done,\n\n428\n00:21:42.693 --> 00:21:44.500\nyou could see kind of\na sample of this here.\n\n429\n00:21:44.500 --> 00:21:46.838\nRight, you're then able to deploy that and\n\n430\n00:21:46.838 --> 00:21:51.010\nthen essentially what the Desired State\nConfiguration system will do is it's\n\n431\n00:21:51.010 --> 00:21:54.167\nthe idea of applying a template\nto set up all the machines and\n\n432\n00:21:54.167 --> 00:21:57.370\nthe endpoints according to\nthe config files you build.\n\n433\n00:21:57.370 --> 00:21:59.570\nSo they're all gonna be\nmaintained the the same way.\n\n434\n00:21:59.570 --> 00:22:03.230\nSo we're pushing that config out\nto multiple system simultaneously.\n\n435\n00:22:03.230 --> 00:22:06.390\nBut auditing and maintaining that\nconfiguration so we know it's in force and\n\n436\n00:22:06.390 --> 00:22:08.570\nwe know that it's being\nused the right way.\n\n437\n00:22:08.570 --> 00:22:11.520\nSo this way, we can touch multiple\nmachines without having to worry about\n\n438\n00:22:11.520 --> 00:22:13.640\ngoing to each one and\nmaking sure that's set up.\n\n439\n00:22:13.640 --> 00:22:15.768\nIt's like a DevOps approach, right.\n\n440\n00:22:15.768 --> 00:22:19.661\nAnd the idea that we're able to set it up\none time, push it out through automation\n\n441\n00:22:19.661 --> 00:22:22.650\nand management,\nsometimes called software defining.\n\n442\n00:22:22.650 --> 00:22:23.900\nAnd as a result of that,\n\n443\n00:22:23.900 --> 00:22:27.400\nwe're able to ensure that configuration\nstandardized across all the machines.\n\n444\n00:22:27.400 --> 00:22:31.090\nSo this is, they say a sample configure\nfor general server maintenance, for\n\n445\n00:22:31.090 --> 00:22:34.850\ngeneral server maintenance module\nassumes that you can do this and\n\n446\n00:22:34.850 --> 00:22:35.870\ntouch multiple system.\n\n447\n00:22:35.870 --> 00:22:37.858\nSo you may just wanna take\na look at that piece.\n\n448\n00:22:37.858 --> 00:22:40.430\nThis is kinda taking this\nto upper level if you will,\n\n449\n00:22:40.430 --> 00:22:44.230\ntake it to next level in the real world\nby being able to touch multiple machines\n\n450\n00:22:44.230 --> 00:22:46.516\nsimultaneously with a standardized config.\n\n451\n00:22:46.516 --> 00:22:49.924\nSo just wanna make sure we know\nthat that's possible using this\n\n452\n00:22:49.924 --> 00:22:52.540\nDesired State Configuration solution.\n\n453\n00:22:52.540 --> 00:22:55.350\nWe do need to unregister\nthe configuration as I suggested.\n\n454\n00:22:55.350 --> 00:22:58.330\nInstead of register\nthe PSSessionConfiguration,\n\n455\n00:22:58.330 --> 00:22:59.860\nunregister to take it down.\n\n456\n00:22:59.860 --> 00:23:02.670\nRemember, update it and\nre-register it by running it again.\n\n457\n00:23:02.670 --> 00:23:05.800\nSo you can see the unregister\ncommand is here as well.\n\n458\n00:23:05.800 --> 00:23:06.557\nVery straightforward.\n\n459\n00:23:06.557 --> 00:23:07.330\nVery linear.\n\n460\n00:23:07.330 --> 00:23:08.100\nVery simple.\n\n461\n00:23:08.100 --> 00:23:12.046\nOne or two cmdlets per section\nper item we have to engage.\n\n462\n00:23:12.046 --> 00:23:13.520\nWe create those files.\n\n463\n00:23:13.520 --> 00:23:17.000\nMake sure they're targeted, and make\nsure that we have edited them properly.\n\n464\n00:23:17.000 --> 00:23:20.647\nBut there's not actually a lot of\ncomplexity here even though it sounds\n\n465\n00:23:20.647 --> 00:23:21.770\nfairly complex.\n\n466\n00:23:21.770 --> 00:23:24.360\nThe cmdlets themselves\nare very easy to understand\n\n467\n00:23:24.360 --> 00:23:25.930\ncuz they do exactly what they imply.\n\n468\n00:23:25.930 --> 00:23:30.862\nUnregister, register new PS session file,\nwhatever the case may be, and\n\n469\n00:23:30.862 --> 00:23:33.614\nas a result, we put all of this together.\n\n470\n00:23:33.614 --> 00:23:34.493\nWe come up again.\n\n471\n00:23:34.493 --> 00:23:37.368\nAs I said, we started this with\nthis idea of linking three or\n\n472\n00:23:37.368 --> 00:23:41.163\nfour different kind of separate technology\nlines that have always existed but\n\n473\n00:23:41.163 --> 00:23:44.110\nhave never really been brought\ntogether in one place.\n\n474\n00:23:44.110 --> 00:23:47.590\nWith a formal thought process\nabout specifically pushing them\n\n475\n00:23:47.590 --> 00:23:50.860\nto this particular place,\nusing them this way, in other words.\n\n476\n00:23:50.860 --> 00:23:54.436\nOr we just brought them together and\nallowed with the creation of four or\n\n477\n00:23:54.436 --> 00:23:56.775\nfive new PowerShell\ncmdlets to support this.\n\n478\n00:23:56.775 --> 00:23:59.554\nThe ability to be able to\napply this thought process to\n\n479\n00:23:59.554 --> 00:24:02.641\nreally push to the next level,\nto really standardize, and\n\n480\n00:24:02.641 --> 00:24:06.861\nthrough software definition, automate\nthe ability to manage remote systems.\n\n481\n00:24:06.861 --> 00:24:10.725\nBut to do so in a way that specifies very\nsuccinctly, from a security standpoint,\n\n482\n00:24:10.725 --> 00:24:13.198\nwhat we wanna be able to\naccomplish in that session.\n\n483\n00:24:13.198 --> 00:24:17.050\nBut setting up PowerShell remoting\nby itself, without doing all this,\n\n484\n00:24:17.050 --> 00:24:19.208\ngives us the same kind of capabilities.\n\n485\n00:24:19.208 --> 00:24:22.588\nBut we still have to import modules,\nmake them available, etc.\n\n486\n00:24:22.588 --> 00:24:25.050\nAnd we still have some constraints\nthat we have to deal with.\n\n487\n00:24:25.050 --> 00:24:27.910\nWe just don't have to create all these\nconfig files that we were talking about,\n\n488\n00:24:27.910 --> 00:24:32.160\nthe PSRC, the PSSC, the session config,\nthe role capability files.\n\n489\n00:24:32.160 --> 00:24:35.026\nWe don't need to create all\nthose to do PowerShell remoting.\n\n490\n00:24:35.026 --> 00:24:37.388\nBut PowerShell remoting\nis not as constrained,\n\n491\n00:24:37.388 --> 00:24:41.312\nbecause we don't have these files that\ntell us exactly what we can and cannot do.\n\n492\n00:24:41.312 --> 00:24:42.840\nFrom the security standpoint,\n\n493\n00:24:42.840 --> 00:24:46.583\nthese files make this a more secure\napproach to Windows PowerShell remoting.\n\n494\n00:24:46.583 --> 00:24:49.977\nAnd that's why the preference is\nto try to start using this idea of\n\n495\n00:24:49.977 --> 00:24:54.546\nJust Enough Administration, as opposed to\njust simply Windows PowerShell remoting,\n\n496\n00:24:54.546 --> 00:24:57.920\nwhich has been around for\nmany generations at this point.\n\n497\n00:24:57.920 --> 00:25:01.690\nIt's just that, as I said, it's not as\nsecure, because we don't limit what you're\n\n498\n00:25:01.690 --> 00:25:06.030\ndoing in the Windows PowerShell remoting\nsolution generically, the same way.\n\n499\n00:25:06.030 --> 00:25:07.140\nWe are more open and\n\n500\n00:25:07.140 --> 00:25:12.010\ntherefore, theoretically, have much\nmore access to modules, tools, scripts,\n\n501\n00:25:12.010 --> 00:25:15.760\netc., that are not constrained and\nmay lead to compromise.\n\n502\n00:25:15.760 --> 00:25:19.220\nEspecially if a bad actor is able\nto connect remotely to a system,\n\n503\n00:25:19.220 --> 00:25:22.966\nknowing that Windows PowerShell remoting\nis enabled, and can then use PowerShell to\n\n504\n00:25:22.966 --> 00:25:27.060\ntake over the system, which is not\nan unreasonable thought process, right?\n\n505\n00:25:27.060 --> 00:25:27.788\nIt could happen.\n\n506\n00:25:27.788 --> 00:25:29.250\nI'm not suggesting it would be easy,\n\n507\n00:25:29.250 --> 00:25:31.730\nnot suggesting it's something\nyou should fear or worry about.\n\n508\n00:25:31.730 --> 00:25:34.260\nThere are many controls in\nplace that would prevent that.\n\n509\n00:25:34.260 --> 00:25:37.160\nTraditionally, you don't enable\nPowerShell remoting support,\n\n510\n00:25:37.160 --> 00:25:39.490\nfor instance,\nunless you know you're gonna need it.\n\n511\n00:25:39.490 --> 00:25:42.910\nSo by default, we don't allow you to\nconnect to another system remotely and\n\n512\n00:25:42.910 --> 00:25:44.750\nexecute commands against it fully.\n\n513\n00:25:44.750 --> 00:25:48.100\nYou have to enable certain things and\nallow for certain things to take place.\n\n514\n00:25:48.100 --> 00:25:51.021\nSo it's not as simple as just saying,\nI'll target that machine, and\n\n515\n00:25:51.021 --> 00:25:53.066\nI can immediately execute\ncommands against it.\n\n516\n00:25:53.066 --> 00:25:56.318\nI have to be inside of the domain,\ninside the security perimeter.\n\n517\n00:25:56.318 --> 00:25:58.393\nOr I have to be able to\nconnect in from outside.\n\n518\n00:25:58.393 --> 00:26:01.300\nI have to have the proper kind of\naccount to be able to do that.\n\n519\n00:26:01.300 --> 00:26:04.190\nThe Windows PowerShell remoting\ncapability must be enabled.\n\n520\n00:26:04.190 --> 00:26:05.900\nThere's a lot of things\nthat have to happen.\n\n521\n00:26:05.900 --> 00:26:09.026\nBut assuming those things\nare enabled because you're using it,\n\n522\n00:26:09.026 --> 00:26:12.016\nand you leave it enabled, you don't\ntear it down at the end of your session,\n\n523\n00:26:12.016 --> 00:26:15.208\nthen there's always that open\npossibility that this can occur.\n\n524\n00:26:15.208 --> 00:26:18.920\nWith JEA, you have to have all of\nthat predefined, configured, and\n\n525\n00:26:18.920 --> 00:26:23.748\nset up in the PSRC and PSSC files, for\nyou be able to be allowed to do this.\n\n526\n00:26:23.748 --> 00:26:25.110\nSo it's little bit more secure.\n\n527\n00:26:25.110 --> 00:26:28.285\nConfiguration is a little bit more\nmore constrained in that respect, and\n\n528\n00:26:28.285 --> 00:26:30.755\nas a result,\nwill be considered a more secure approach.\n\n529\n00:26:30.755 --> 00:26:34.279\nThat's why we talk about it here,\ninside of the Windows security for\n\n530\n00:26:34.279 --> 00:26:38.596\nServer 2016 thought process, and why\nMicrosoft has made into exam objective,\n\n531\n00:26:38.596 --> 00:26:41.849\none of the things you wanna make\nsure you're aware of how to do.\n\n532\n00:26:41.849 --> 00:26:47.370\nIf I was you, I would focus specifically\non knowing the PowerShell cmdlets.\n\n533\n00:26:47.370 --> 00:26:50.610\nThere's about four or five we've talked\nabout that are involved with the setup.\n\n534\n00:26:50.610 --> 00:26:53.427\nWe wanna know the file extensions,\nmake sure I know what those are.\n\n535\n00:26:53.427 --> 00:26:57.754\nAnd take a look at the sample files so\nyou have a sense of how it's structured.\n\n536\n00:26:57.754 --> 00:27:00.589\nI would not spend a whole\nbunch of time remembering and\n\n537\n00:27:00.589 --> 00:27:03.802\nunderstanding how to detail\nevery section in the PSRC file.\n\n538\n00:27:03.802 --> 00:27:06.904\nI showed just about 20 different\nsections there you could fill out.\n\n539\n00:27:06.904 --> 00:27:07.635\nIt would be good for\n\n540\n00:27:07.635 --> 00:27:10.490\nyou to tinker with it, just to get a sense\nof how it works in the real world.\n\n541\n00:27:10.490 --> 00:27:13.910\nBut for exam preparation,\nI'd be much more concerned about knowing\n\n542\n00:27:13.910 --> 00:27:17.130\nwhat file extension goes with what file,\nwhat each file does.\n\n543\n00:27:17.130 --> 00:27:20.760\nThe cmdlets associated with making\nsure we know how to set up, tear down,\n\n544\n00:27:20.760 --> 00:27:24.680\nregister, unregister, and\ncreate the associated files and\n\n545\n00:27:24.680 --> 00:27:26.940\nsessions that are required to drive this.\n\n546\n00:27:26.940 --> 00:27:29.260\nTake a look at the couple of\nweb pages we pointed out,\n\n547\n00:27:29.260 --> 00:27:31.030\nsome of the sample code that's there.\n\n548\n00:27:31.030 --> 00:27:33.630\nRead through the help files,\njust to make sure you know what they are.\n\n549\n00:27:33.630 --> 00:27:37.321\nThat should be more than enough for you to\nbe prepared to understand how to use this\n\n550\n00:27:37.321 --> 00:27:38.970\nknowledge and apply it on the exam.\n\n551\n00:27:38.970 --> 00:27:41.240\nAnd then, in the real world,\nobviously, play with the technology.\n\n552\n00:27:41.240 --> 00:27:43.570\nIt's really exciting,\ntakes our game up a notch,\n\n553\n00:27:43.570 --> 00:27:46.732\nas we suggested above,\njust simply Windows PowerShell remoting.\n\n554\n00:27:46.732 --> 00:27:48.280\nAnd gives you a lot more flexibility,\n\n555\n00:27:48.280 --> 00:27:51.760\nfrom a security standpoint, to tightly\ncontrol and delegate exactly what will\n\n556\n00:27:51.760 --> 00:27:55.700\nhappen based on the role you wanna define,\nthe role capability.\n\n557\n00:27:55.700 --> 00:27:58.850\nAnd then the specific users you may\ndelegate, as Cherokee was suggesting, or\n\n558\n00:27:58.850 --> 00:28:02.378\ngroups that you wanna give rights to, to\nbe able to really apply this RBAC model,\n\n559\n00:28:02.378 --> 00:28:06.160\nrole-based administrative or\nrole-based access control.\n\n560\n00:28:06.160 --> 00:28:10.836\nAnd delegating design, specific access\ncontrol thought processes around these\n\n561\n00:28:10.836 --> 00:28:15.170\nendpoints, these JEA endpoints that\nwe connect to, DNS administration,\n\n562\n00:28:15.170 --> 00:28:17.353\nDHCP administration, as examples.\n\n563\n00:28:17.353 --> 00:28:20.990\nThose can all both exist\non a single server.\n\n564\n00:28:20.990 --> 00:28:22.740\nEach endpoint can have its own config and\n\n565\n00:28:22.740 --> 00:28:26.790\nrole capabilities associated with it, as\nwe indicated, and as Cherokee suggested.\n\n566\n00:28:26.790 --> 00:28:30.290\nWe can assign or apply specific\ngroup memberships or assign or\n\n567\n00:28:30.290 --> 00:28:34.900\napply specific users to those delegated\nroles and allow them to carry out\n\n568\n00:28:34.900 --> 00:28:38.350\nthose activities, without having to worry\nabout everybody else being involved.\n\n569\n00:28:38.350 --> 00:28:41.189\nSo, gives us a lot of\nflexibility in that respect.\n\n570\n00:28:41.189 --> 00:28:42.582\n&gt;&gt; All right, Adam-\n&gt;&gt; Well, I did not need my extra-\n\n571\n00:28:42.582 --> 00:28:43.125\n&gt;&gt; You've got two minutes to spare-\n\n572\n00:28:43.125 --> 00:28:43.702\n&gt;&gt; I was gonna say-\n\n573\n00:28:43.702 --> 00:28:44.663\n&gt;&gt; Actually, three minutes to spare.\n\n574\n00:28:44.663 --> 00:28:45.534\n&gt;&gt; I didn't need my three,\ncuz I got my extra minute back.\n\n575\n00:28:45.534 --> 00:28:46.736\nSo should we-\n&gt;&gt; [LAUGH]\n\n576\n00:28:46.736 --> 00:28:47.748\n&gt;&gt; Talk about, I don't know,\n\n577\n00:28:47.748 --> 00:28:48.725\nwhat should we talk about?\n\n578\n00:28:48.725 --> 00:28:49.980\nKnow any good jokes?\n\n579\n00:28:49.980 --> 00:28:51.379\n&gt;&gt; I am horrible with jokes.\n\n580\n00:28:51.379 --> 00:28:55.090\nSo I think we might as well just go\nahead and wrap this one up, Adam.\n\n581\n00:28:55.090 --> 00:28:56.543\n&gt;&gt; Okay, cuz I don't know any jokes.\n\n582\n00:28:56.543 --> 00:28:57.426\nThat's why I was asking if you knew one.\n\n583\n00:28:57.426 --> 00:28:59.153\n&gt;&gt; You guys have already\nheard some of my jokes.\n\n584\n00:28:59.153 --> 00:29:01.278\nThey're over them I think, yeah.\n\n585\n00:29:01.278 --> 00:29:02.773\n&gt;&gt; So then no jokes.\n\n586\n00:29:02.773 --> 00:29:07.471\n&gt;&gt; But you were able to cover the entire\nconcept here, like we wanted to.\n\n587\n00:29:07.471 --> 00:29:12.425\nAnd we see a way that we can really define\nwhat we are using with remote PowerShell.\n\n588\n00:29:12.425 --> 00:29:15.672\nSo you thank you for\ntaking the time to explain JEA to us.\n\n589\n00:29:15.672 --> 00:29:17.157\nAnd thank you for being with us today.\n\n590\n00:29:17.157 --> 00:29:19.676\nBut for this show,\nwe are gonna go ahead and sign out.\n\n591\n00:29:19.676 --> 00:29:21.271\nI've been your host, Cherokee Boose.\n\n592\n00:29:21.271 --> 00:29:24.302\n&gt;&gt; I am, [LAUGH] let me try that again.\n\n593\n00:29:24.302 --> 00:29:24.970\nI know who I am.\n\n594\n00:29:24.970 --> 00:29:25.541\nYou don't, I know.\n\n595\n00:29:25.541 --> 00:29:26.271\nWho am I?\n\n596\n00:29:26.271 --> 00:29:28.817\n&gt;&gt; [LAUGH] I don't know.\n\n597\n00:29:28.817 --> 00:29:30.016\n&gt;&gt; You're supposed to know.\n\n598\n00:29:30.016 --> 00:29:30.880\nI'm standing next to you.\n\n599\n00:29:30.880 --> 00:29:32.127\nYou don't talk to strangers, do you?\n\n600\n00:29:32.127 --> 00:29:32.864\n&gt;&gt; No.\n\n601\n00:29:32.864 --> 00:29:33.965\n&gt;&gt; Remember, Mom said, stranger danger.\n\n602\n00:29:33.965 --> 00:29:34.907\n&gt;&gt; Stranger danger, yeah.\n\n603\n00:29:34.907 --> 00:29:35.899\n&gt;&gt; Yeah, I know who I am.\n\n604\n00:29:35.899 --> 00:29:36.697\nI'm Adam Gordon.\n\n605\n00:29:36.697 --> 00:29:37.441\nThat's who I am.\n\n606\n00:29:37.441 --> 00:29:39.204\n&gt;&gt; See you next time, here at ITProTV.\n\n607\n00:29:39.204 --> 00:29:40.072\n&gt;&gt; Take care, everybody.\n\n608\n00:29:40.072 --> 00:29:47.675\n[MUSIC]\n\n609\n00:29:47.675 --> 00:29:51.390\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233873798"
        }
      ],
      "title": "Just Enough Administration"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Adam and Cherokee discuss Enhanced Security Administrative Environment (ESAE). Adam explains that is is an architectural approach in which a dedicated administrative Active Directory forest hosts privileged accounts, privileged groups and privileged access workstations.",
          "length": "1546",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-4-1-implementing_esae-091317-PGM.00_25_29_18.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-4-1-implementing_esae-091317-PGM.00_25_29_18.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-4-1-implementing_esae-091317-PGM.00_25_29_18.Still001-sm.jpg",
          "title": "Implementing ESAE",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:01.254\nWelcome at ITProTV.\n\n2\n00:00:01.254 --> 00:00:06.431\nI'm your host-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.431 --> 00:00:08.261\n[MUSIC]\n\n4\n00:00:08.261 --> 00:00:11.910\nYou're watching ITProTV.\n\n5\n00:00:11.910 --> 00:00:15.142\n&gt;&gt; Welcome to\nthe Securing Windows Server 2016 series.\n\n6\n00:00:15.142 --> 00:00:17.336\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.336 --> 00:00:22.016\nIn this episode, we'll be taking\na look how to implement ESAE, and no,\n\n8\n00:00:22.016 --> 00:00:23.565\nit's E-I-E-I-O.\n\n9\n00:00:23.565 --> 00:00:26.571\nI feel like we need Old McDonald\nhere to help us with this topic.\n\n10\n00:00:26.571 --> 00:00:30.440\nBut I think we'll settle for\nMicrosoft expert Adam Gordon.\n\n11\n00:00:30.440 --> 00:00:31.231\nThank you for joining us today, Adam.\n\n12\n00:00:31.231 --> 00:00:33.436\n&gt;&gt; Are you sure,\ncuz you know you do have an option?\n\n13\n00:00:33.436 --> 00:00:38.058\n&gt;&gt; [LAUGH] Do you have\nOld McDonald's email address?\n\n14\n00:00:38.058 --> 00:00:44.326\n&gt;&gt; That would be oldmacf@farm.com.\n\n15\n00:00:44.326 --> 00:00:46.044\n&gt;&gt; [LAUGH] There we go.\n&gt;&gt; Or was that farmersonly.com?\n\n16\n00:00:46.044 --> 00:00:49.437\nIs that crazy site they always\nadvertise for farmers who are single,\n\n17\n00:00:49.437 --> 00:00:50.908\nthey're looking for dates?\n\n18\n00:00:50.908 --> 00:00:52.695\n&gt;&gt; I'm concerned that you know about that.\n\n19\n00:00:52.695 --> 00:00:56.418\n&gt;&gt; I'm just pointing out, you mentioned\nit, so I was just suggesting that that\n\n20\n00:00:56.418 --> 00:01:00.305\nwould where you may find old Mac Donald\ncuz he has a farm and he's a farmer.\n\n21\n00:01:00.305 --> 00:01:00.935\n&gt;&gt; Now you know.\n\n22\n00:01:00.935 --> 00:01:04.450\n&gt;&gt; So, now we've talked about farmers\nwhich has nothing to do with our topic\n\n23\n00:01:04.450 --> 00:01:05.285\nfor today.\n\n24\n00:01:05.285 --> 00:01:09.294\nIn this episode ESAE, we have an acronym,\nwe have not defined that acronym and\n\n25\n00:01:09.294 --> 00:01:10.953\nwe should define that acronym.\n\n26\n00:01:10.953 --> 00:01:13.559\nI would normally ask Cherokee\nto define it for us.\n\n27\n00:01:13.559 --> 00:01:17.619\nBut I know that she knows what it is and\nI know also we discussed it.\n\n28\n00:01:17.619 --> 00:01:20.678\nBut I know she loves being put on\nthe spot and being asked what it is.\n\n29\n00:01:20.678 --> 00:01:23.468\nSo I'm not gonna do that to you\nbecause I know sometimes those\n\n30\n00:01:23.468 --> 00:01:25.120\nare difficult things to remember.\n\n31\n00:01:25.120 --> 00:01:29.050\nBut you're gonna help me talk about\nwhat ESAE is once we do define it.\n\n32\n00:01:29.050 --> 00:01:30.460\nSo it's an interesting concept.\n\n33\n00:01:30.460 --> 00:01:32.530\nAgain, one of those concepts and\n\n34\n00:01:32.530 --> 00:01:36.970\nwe'll talk about this in some of our\nprior episodes in regards to security.\n\n35\n00:01:36.970 --> 00:01:40.021\nThe ideas, for instance,\nof managed service accounts being kind\n\n36\n00:01:40.021 --> 00:01:43.246\nof an updated newer version of a very\nold concept of a service account.\n\n37\n00:01:43.246 --> 00:01:47.662\nWe talked about this idea with\nthe thought process of just enough\n\n38\n00:01:47.662 --> 00:01:49.393\nadministration, JEA.\n\n39\n00:01:49.393 --> 00:01:53.088\nIf you haven't seen that episode,\ndefinitely encourage you to go back,\n\n40\n00:01:53.088 --> 00:01:57.079\ntake a look, where we took some different\nconcepts been kinda rolling around in\n\n41\n00:01:57.079 --> 00:01:59.066\nthe Window environment for some time.\n\n42\n00:01:59.066 --> 00:02:01.978\nThe idea of RBAC,\nrole-based access control.\n\n43\n00:02:01.978 --> 00:02:05.678\nThe idea of Windows PowerShell,\nthe idea of Windows PowerShell remoting.\n\n44\n00:02:05.678 --> 00:02:10.387\nCombine them all together and come up\nwith a new packaged thought process and\n\n45\n00:02:10.387 --> 00:02:14.876\nsome new enhanced PowerShell command\nlists to drive that to allow us to do\n\n46\n00:02:14.876 --> 00:02:19.387\nWindows PowerShell promoting using\na role based access control model.\n\n47\n00:02:19.387 --> 00:02:21.510\nBut to narrowly define and delegate and\n\n48\n00:02:21.510 --> 00:02:25.710\ncontrol exactly what happens inside\nthe PowerShell remoting environment.\n\n49\n00:02:25.710 --> 00:02:29.209\nSo, we see a lot of these thought\nprocesses of taking ideas,\n\n50\n00:02:29.209 --> 00:02:31.345\nthat have been around for some time.\n\n51\n00:02:31.345 --> 00:02:35.801\nAnd packaging them up into some sort\nof new feature, new association,\n\n52\n00:02:35.801 --> 00:02:37.220\nnew thought process.\n\n53\n00:02:37.220 --> 00:02:40.680\nAnd then naming it something when\nwe think about server management,\n\n54\n00:02:40.680 --> 00:02:41.761\nsecurity in server.\n\n55\n00:02:41.761 --> 00:02:43.265\nIn this case, Server 16.\n\n56\n00:02:43.265 --> 00:02:44.723\nESAE, no exception,\n\n57\n00:02:44.723 --> 00:02:49.500\nEnhanced Security Administrative\nEnvironment is what ESAE stands for.\n\n58\n00:02:49.500 --> 00:02:52.198\nAnd when we think about\nimplementing an ESAE,\n\n59\n00:02:52.198 --> 00:02:56.430\nlet me just make sure my machine\ndoesn't time out while we're talking.\n\n60\n00:02:56.430 --> 00:02:59.389\nWhen we think about implementing\nan ESAE thought process,\n\n61\n00:02:59.389 --> 00:03:03.307\nwe actually think about a couple of things\nthat have been around for some time.\n\n62\n00:03:03.307 --> 00:03:07.818\nThis idea of having a separate\ndomain that's gonna be\n\n63\n00:03:07.818 --> 00:03:11.347\na separate forest with its own domain.\n\n64\n00:03:11.347 --> 00:03:13.883\nIt's gonna be\nan administrative function and\n\n65\n00:03:13.883 --> 00:03:17.987\nthen using a trust relationship to\nconnect that to our production forest.\n\n66\n00:03:17.987 --> 00:03:22.870\nAllowing us to be able to have strictly\ncontrolled, strictly monitored,\n\n67\n00:03:22.870 --> 00:03:28.063\nstrictly and tightly audited usage\naccounts in the administrative forest that\n\n68\n00:03:28.063 --> 00:03:33.427\nwe're then going to be trusting from the\nproduction forest to do certain things.\n\n69\n00:03:33.427 --> 00:03:38.102\nBut make this a one-way trust that\nallows us to have these accounts used.\n\n70\n00:03:38.102 --> 00:03:41.699\nBut not allow the production forest\naccounts to be able to be used\n\n71\n00:03:41.699 --> 00:03:43.098\nin the admin forest, for\n\n72\n00:03:43.098 --> 00:03:47.521\nrather only the admin accounts from\nthe admin forest used in production.\n\n73\n00:03:47.521 --> 00:03:48.913\nThis is not a new idea.\n\n74\n00:03:48.913 --> 00:03:53.380\nUsing one-way trusts, having a separate\naccount forest and being able to manage\n\n75\n00:03:53.380 --> 00:03:57.880\nfrom that perspective as a thought\nprocess in one form or another.\n\n76\n00:03:57.880 --> 00:03:59.607\nIt's been around for some time.\n\n77\n00:03:59.607 --> 00:04:04.092\nYou could trace the original thought\nprocess associated with this all the way\n\n78\n00:04:04.092 --> 00:04:08.646\nback to Windows 2000 to the first early\nadvent of the Active Directory as we\n\n79\n00:04:08.646 --> 00:04:13.067\nbegin to scale up and scale out thinking\nabout how forests are gonna be used.\n\n80\n00:04:13.067 --> 00:04:17.368\nWhat the security boundary looks like and\nhow we are gonna manage all that, right?\n\n81\n00:04:17.368 --> 00:04:20.624\nAnd so we have capabilities\nto be able to do that.\n\n82\n00:04:20.624 --> 00:04:24.761\nBut it hasn't really been formalized,\nthought about as a separate architectural\n\n83\n00:04:24.761 --> 00:04:29.086\nsecurity based implementation with its own\nname, its own design, thought process.\n\n84\n00:04:29.086 --> 00:04:31.652\nNot that Server 16 is\nthe first place we see this.\n\n85\n00:04:31.652 --> 00:04:35.316\nBut it's the first time we've\nnamed it something, broken it out.\n\n86\n00:04:35.316 --> 00:04:38.286\nAnd really thought about\ncreating a separate idea and\n\n87\n00:04:38.286 --> 00:04:40.600\na separate set of discussions around it.\n\n88\n00:04:40.600 --> 00:04:42.308\nSo let's take a look at what\nthe picture looks like.\n\n89\n00:04:42.308 --> 00:04:45.442\nWe wanna just see how we would do this.\n\n90\n00:04:45.442 --> 00:04:48.302\nWent ahead and\nI just created a little diagram for it.\n\n91\n00:04:48.302 --> 00:04:50.954\nIt's very simple, very easy to address.\n\n92\n00:04:50.954 --> 00:04:54.047\nAnd what we can see is that we have our\n\n93\n00:04:54.047 --> 00:04:58.600\nITPROTV.ADMIN forest up on the left here,\nright?\n\n94\n00:04:58.600 --> 00:05:00.880\nSo, this is our admin account area,\n\n95\n00:05:00.880 --> 00:05:05.673\nthis is gonna be the secure separate\nforest, single domain forest, right?\n\n96\n00:05:05.673 --> 00:05:09.478\nWhere those admin accounts are gonna\nbe configured, tightly locked down,\n\n97\n00:05:09.478 --> 00:05:11.509\n[INAUDIBLE] security controls in place.\n\n98\n00:05:11.509 --> 00:05:12.759\nAnd really monitored so\n\n99\n00:05:12.759 --> 00:05:16.641\nthat we could control what those accounts\nare gonna be given rights to do.\n\n100\n00:05:16.641 --> 00:05:20.082\nAnd then on the bottom here,\nkinda just at the lower right-hand corner,\n\n101\n00:05:20.082 --> 00:05:21.480\nwe have a production forest.\n\n102\n00:05:21.480 --> 00:05:25.406\nI call that ITPROTV.COM,\njust to distinguish it.\n\n103\n00:05:25.406 --> 00:05:29.891\nA triangle, by the way, is the traditional\nshape we would use for a domain and\n\n104\n00:05:29.891 --> 00:05:34.060\nor a forest, as we diagram them,\nso we can just see what's there.\n\n105\n00:05:34.060 --> 00:05:37.500\nGot some user accounts only\nup in the Admin Account area\n\n106\n00:05:37.500 --> 00:05:40.080\nlabeled here in the admin forest.\n\n107\n00:05:40.080 --> 00:05:42.210\nAnd we do have user accounts and\n\n108\n00:05:42.210 --> 00:05:46.960\nservers, just standard Visio icons and\nshapes that we're putting out there.\n\n109\n00:05:46.960 --> 00:05:51.220\nIn the production forest,\nnotice the trust relationship.\n\n110\n00:05:51.220 --> 00:05:53.710\nNotice it is one-way,\nindicated by the arrow.\n\n111\n00:05:53.710 --> 00:05:58.244\nThe way I always try to remember this when\nwe talk about this with customers and\n\n112\n00:05:58.244 --> 00:06:01.312\nwe talk about it with students,\nwe have the arrow and\n\n113\n00:06:01.312 --> 00:06:04.623\nthe head of the arrow always\npoints towards Ed as a user.\n\n114\n00:06:04.623 --> 00:06:08.786\nAnd so the trust Ed users,\nthe trusted forest in this case,\n\n115\n00:06:08.786 --> 00:06:11.295\nis where Ed and other users will be.\n\n116\n00:06:11.295 --> 00:06:14.375\nAnd the arrow points\ntowards the trusted domain.\n\n117\n00:06:14.375 --> 00:06:18.178\nWhere the back of the arrow where it\noriginates is the trusting domain.\n\n118\n00:06:18.178 --> 00:06:22.252\n&gt;&gt; I really like that because I've\nhad a lot of questions about that,\n\n119\n00:06:22.252 --> 00:06:22.975\njust-\n&gt;&gt; Which\n\n120\n00:06:22.975 --> 00:06:24.028\ndirections-\n&gt;&gt; Exactly.\n\n121\n00:06:24.028 --> 00:06:25.796\n&gt;&gt; Which one are we trusting or trusted?\n\n122\n00:06:25.796 --> 00:06:28.436\nObviously it's easy when you\nhave two-way trust relation.\n\n123\n00:06:28.436 --> 00:06:31.658\nCuz then you're like, yeah, well,\nwe trust each other, we're both trusted,\n\n124\n00:06:31.658 --> 00:06:32.603\nwe're both trusting.\n\n125\n00:06:32.603 --> 00:06:35.274\nNot really hard, you always get it\nright when you say that, right?\n\n126\n00:06:35.274 --> 00:06:38.648\nBut when it's a one-way going in only\none direction, you gotta be specific.\n\n127\n00:06:38.648 --> 00:06:40.598\nIt may be a little bit harder\njust to figure that out.\n\n128\n00:06:40.598 --> 00:06:43.450\nSo the way I always do it is that\nI always look for the arrow head-\n\n129\n00:06:43.450 --> 00:06:44.282\n&gt;&gt; It points at Ed.\n\n130\n00:06:44.282 --> 00:06:48.249\n&gt;&gt; Points at Ed, Ed is a user,\nEd is in the trusted domain.\n\n131\n00:06:48.249 --> 00:06:49.761\nNow, if we didn't have a user called Ed,\n\n132\n00:06:49.761 --> 00:06:51.502\nthen we would just have a problem then,\nright?\n\n133\n00:06:51.502 --> 00:06:54.385\nWe'd have to call it the trust Adam\ndomain or something like that.\n\n134\n00:06:54.385 --> 00:06:57.270\nSo our trusted users are up here.\n\n135\n00:06:57.270 --> 00:07:01.390\nOur trusting domain, in this case,\nforest/domain is down\n\n136\n00:07:01.390 --> 00:07:05.540\nhere this is a forest trust, so\nour trusting forest is down here.\n\n137\n00:07:05.540 --> 00:07:09.580\nWhich means that the itprotv.com\nproduction forest\n\n138\n00:07:09.580 --> 00:07:14.220\nis trusting the itprotv.admin\nforest in my example.\n\n139\n00:07:14.220 --> 00:07:18.260\nAnd as a result,\nthe users from the trusted forest\n\n140\n00:07:18.260 --> 00:07:21.560\nare gonna be able to have\nrights in the trusting forest.\n\n141\n00:07:21.560 --> 00:07:25.160\nSo these user accounts can administer and\n\n142\n00:07:25.160 --> 00:07:29.090\nundertake things and\nresponsibilities and actions here.\n\n143\n00:07:29.090 --> 00:07:35.930\nBut users from the trusting domain/forest\nare not able to carry out activities or\n\n144\n00:07:35.930 --> 00:07:40.050\nengage in administration of\nthe trusted forest/domain.\n\n145\n00:07:40.050 --> 00:07:44.570\nAnd as a result, because we have this\none-way relationship set up, we now have\n\n146\n00:07:44.570 --> 00:07:49.509\nthe ability to understand the direction of\nthe trust relationship, very important.\n\n147\n00:07:49.509 --> 00:07:54.380\nWe understand which users will have\nrights to do things in which forests.\n\n148\n00:07:54.380 --> 00:07:55.444\nSo we know that.\n\n149\n00:07:55.444 --> 00:07:58.166\nNow, the only other thing\nwe have to think about and\n\n150\n00:07:58.166 --> 00:08:02.612\njust kind of walk through logically is how\ndo we set up these two different forests?\n\n151\n00:08:02.612 --> 00:08:05.252\nWhat kind of security parameters,\nwhat kinds of controls,\n\n152\n00:08:05.252 --> 00:08:07.438\nwhat kind of monitoring do\nyou wanna put in place?\n\n153\n00:08:07.438 --> 00:08:10.506\nAnd this is thought process,\nit's a methodology, right?\n\n154\n00:08:10.506 --> 00:08:14.757\nThere's no right and wrong in the sense we\nsay, well, you should put these kinds of\n\n155\n00:08:14.757 --> 00:08:17.762\naccounts up here with these rights,\nand do them this way.\n\n156\n00:08:17.762 --> 00:08:20.439\nAnd that's right and\nif you don't do it that way, it's wrong.\n\n157\n00:08:20.439 --> 00:08:25.179\nNot so much that, but more of the idea\nfundamentally, theoretically, as well as\n\n158\n00:08:25.179 --> 00:08:30.059\npractically, of creating this distinction\nbetween the two forests, locking down\n\n159\n00:08:30.059 --> 00:08:34.414\nthe single domain forest, where our\nadmin accounts are gonna be created.\n\n160\n00:08:34.414 --> 00:08:38.013\nSetting this one way forest\ntrust relationship up,\n\n161\n00:08:38.013 --> 00:08:43.674\nto allow these lock down monitored admin\naccounts rights to the trusting forest.\n\n162\n00:08:43.674 --> 00:08:46.936\nThat's the most important\npart of the ESAE Methodology.\n\n163\n00:08:46.936 --> 00:08:49.982\nBeyond that, yeah, there are certainly\nother things we would do.\n\n164\n00:08:49.982 --> 00:08:53.113\nSo, as Cherokee was gonna help\nus talk about a little bit, and\n\n165\n00:08:53.113 --> 00:08:54.387\nthis is where you ready?\n\n166\n00:08:54.387 --> 00:08:56.817\nGet your hair all set up and\nall set, ready to go?\n\n167\n00:08:56.817 --> 00:08:58.152\nAnd you always gotta\nget your game head on.\n\n168\n00:08:58.152 --> 00:08:58.702\nAll right, you're good.\n\n169\n00:08:58.702 --> 00:09:02.014\n&gt;&gt; All right, I think I'm ready I have\nno clue what you're gonna ask me, but\n\n170\n00:09:02.014 --> 00:09:02.556\nall right.\n\n171\n00:09:02.556 --> 00:09:03.196\n&gt;&gt; I never do,\n\n172\n00:09:03.196 --> 00:09:07.493\nI just make it up as we go and that's why\nwe know we're just going to make it work.\n\n173\n00:09:07.493 --> 00:09:10.946\nSo it's actually really straightforward\nand simple, but I wanna include you in\n\n174\n00:09:10.946 --> 00:09:14.247\nthis conversation cuz you've always have\ngreat input on what we are doing and\n\n175\n00:09:14.247 --> 00:09:15.386\nhow we should be doing it.\n\n176\n00:09:15.386 --> 00:09:18.278\n&gt;&gt; And I want you to help\nus think about this, right?\n\n177\n00:09:18.278 --> 00:09:20.940\nSo we have talked about the fact that\nwe need to set up a trust relationship.\n\n178\n00:09:20.940 --> 00:09:22.152\nSo we have been through that.\n\n179\n00:09:22.152 --> 00:09:26.087\nBut it was the best practice is\nkind of a general thought process.\n\n180\n00:09:26.087 --> 00:09:29.738\nIf we had to start naming some additional\nthings we would do to lock down the IT\n\n181\n00:09:29.738 --> 00:09:33.294\npro, if we could put up the diagram\nback up while we're talking, right?\n\n182\n00:09:33.294 --> 00:09:37.275\nSo if we wann lock down the IT PROTV.admin\nforest, besides just saying hey,\n\n183\n00:09:37.275 --> 00:09:40.417\nwe're gonna create admin\naccounts over there, all right?\n\n184\n00:09:40.417 --> 00:09:42.084\nWhat else do we wanna do?\n\n185\n00:09:42.084 --> 00:09:45.866\nWhat are typically things we wanna do\nto lock down the domain controller at\n\n186\n00:09:45.866 --> 00:09:46.479\na minimum?\n\n187\n00:09:46.479 --> 00:09:48.570\nWe gotta have at least one domain\ncontroller in this forest, right?\n\n188\n00:09:48.570 --> 00:09:50.446\nSingle domain, right?\n\n189\n00:09:50.446 --> 00:09:52.487\nSo it's gotta have a single\ndomain in the forest,\n\n190\n00:09:52.487 --> 00:09:54.537\ngotta have at least one\ndomain controller there.\n\n191\n00:09:54.537 --> 00:09:57.363\nWhat are some best practice standards\nwe should think about applying?\n\n192\n00:09:57.363 --> 00:09:59.722\nHow do we lock down a machine,\nfor instance?\n\n193\n00:09:59.722 --> 00:10:00.706\nVery basic, very generic.\n\n194\n00:10:00.706 --> 00:10:02.428\nWhat are the things we\nrecommend to people?\n\n195\n00:10:02.428 --> 00:10:06.458\nBesides, hey, let's create this\none-way trust relationship,\n\n196\n00:10:06.458 --> 00:10:08.022\nwhat else do we want to do?\n\n197\n00:10:08.022 --> 00:10:11.987\n&gt;&gt; Okay, so I'm thinking very basic, so\nI'd limit the type of people who would\n\n198\n00:10:11.987 --> 00:10:15.711\nhave access to that domain controllers\nwith different types of groups.\n\n199\n00:10:15.711 --> 00:10:19.662\nOr even implementing some kind of\nprotected users groups to prevent other\n\n200\n00:10:19.662 --> 00:10:22.221\nusers from accessing\nthat domain controller.\n\n201\n00:10:22.221 --> 00:10:25.737\n&gt;&gt; Right so wanna limit the number of\nusers both physically and logically to\n\n202\n00:10:25.737 --> 00:10:29.657\nmaybe able to gain access to the domain\ncontroller in the admin forest domain, so\n\n203\n00:10:29.657 --> 00:10:30.250\nvery good.\n\n204\n00:10:30.250 --> 00:10:34.004\nRight, so account control,\nuser access control, just generically or\n\n205\n00:10:34.004 --> 00:10:34.994\nthings like that.\n\n206\n00:10:34.994 --> 00:10:37.894\nHow about removing all\nunnecessary services,\n\n207\n00:10:37.894 --> 00:10:40.368\njust general hardening of the machine.\n\n208\n00:10:40.368 --> 00:10:41.736\nGeneric again, best practices.\n\n209\n00:10:41.736 --> 00:10:46.032\nVery simple, very common sense\napproaches that we always apply.\n\n210\n00:10:46.032 --> 00:10:49.828\nLimit the number of services running,\nlimit the kind of software you install.\n\n211\n00:10:49.828 --> 00:10:51.375\n&gt;&gt; Configure your ports\non the firewall for\n\n212\n00:10:51.375 --> 00:10:53.294\nthe types of communication\nthat you're having.\n\n213\n00:10:53.294 --> 00:10:56.840\n&gt;&gt; Locks, so in general just a secure\nconfiguration profile that we would apply\n\n214\n00:10:56.840 --> 00:10:59.252\nto lock down the system,\nall those things, right?\n\n215\n00:10:59.252 --> 00:11:00.396\nSo I told you it would be easy, right?\n\n216\n00:11:00.396 --> 00:11:01.091\n&gt;&gt; Yeah.\n&gt;&gt; You're all worried about,\n\n217\n00:11:01.091 --> 00:11:01.814\nI got all the hard stuff saved for\nthe other one.\n\n218\n00:11:01.814 --> 00:11:03.301\n&gt;&gt; [LAUGH] Okay.\n\n219\n00:11:03.301 --> 00:11:06.171\n&gt;&gt; When we do\nthe Microsoft Identity Manager Install.\n\n220\n00:11:06.171 --> 00:11:08.513\nThat crazy thing that we're gonna do,\nright?\n\n221\n00:11:08.513 --> 00:11:11.776\nIn the upcoming one when we talk about\nJIP, Just in Time Administration, right?\n\n222\n00:11:11.776 --> 00:11:13.319\nThat's where we're gonna ask\nall the really tough questions.\n\n223\n00:11:13.319 --> 00:11:13.948\n&gt;&gt; All right, I'll prepare.\n\n224\n00:11:13.948 --> 00:11:15.349\n&gt;&gt; Here it's really easy, right?\n\n225\n00:11:15.349 --> 00:11:17.995\nShe's gonna go, Cher's gonna go off and\nstudy for that episode before we run that.\n\n226\n00:11:17.995 --> 00:11:18.734\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n227\n00:11:18.734 --> 00:11:20.100\nthat one's gonna actually be interesting.\n\n228\n00:11:20.100 --> 00:11:22.037\nYou will want to come back,\ntake a look at that one as well.\n\n229\n00:11:22.037 --> 00:11:26.166\nWe'll walk through a installation\nof Microsoft Identity Manager 2016,\n\n230\n00:11:26.166 --> 00:11:28.864\nshow you how to set that\nup with this other concept.\n\n231\n00:11:28.864 --> 00:11:32.869\nAlso as an exam objective in this area\ncalled Just In Time Administration and\n\n232\n00:11:32.869 --> 00:11:35.686\nuse MIM to be able to do things\nlike password resets and\n\n233\n00:11:35.686 --> 00:11:38.203\nsome other stuff that\nare kind of interesting.\n\n234\n00:11:38.203 --> 00:11:41.575\nSo we'll take a look at that, but here\nwe're really just thinking about locking\n\n235\n00:11:41.575 --> 00:11:44.155\ndown, providing some basic\ncommon sense approaches here and\n\n236\n00:11:44.155 --> 00:11:46.061\nreally understanding the thought process.\n\n237\n00:11:46.061 --> 00:11:49.919\nWhen we secure that,\nwe wanna make sure that we are running\n\n238\n00:11:49.919 --> 00:11:54.724\nall the different security thought\nprocesses we already talked about,\n\n239\n00:11:54.724 --> 00:11:59.152\nremind us some of the things like for\ninstance, the device guard.\n\n240\n00:11:59.152 --> 00:12:03.042\nCredential Guard that we have talked\nabout in one of prior episodes\n\n241\n00:12:03.042 --> 00:12:04.643\nif you haven't seen that.\n\n242\n00:12:04.643 --> 00:12:07.521\nThings like Bit Locker where\nI want to apply those.\n\n243\n00:12:07.521 --> 00:12:09.409\nJust think about some of\nthe logical things we would do.\n\n244\n00:12:09.409 --> 00:12:13.787\nSo in other words we wanna use some of\nthe virtualization security capabilities\n\n245\n00:12:13.787 --> 00:12:18.424\nthat we can enable through group policy on\nthis system, in the domain controller for\n\n246\n00:12:18.424 --> 00:12:20.731\nthe admin forest to further lock it down.\n\n247\n00:12:20.731 --> 00:12:24.811\nRemember, Credential Guard lets us\nlock down the use of credentials,\n\n248\n00:12:24.811 --> 00:12:28.418\nas Cherokee was suggesting but\nshe didn't get very specific.\n\n249\n00:12:28.418 --> 00:12:31.936\nThings like preventing any use of NTLM,\nif you remember, v1.\n\n250\n00:12:31.936 --> 00:12:33.636\n&gt;&gt; NTLM Blocker we had.\n\n251\n00:12:33.636 --> 00:12:36.120\n&gt;&gt; Well, we have policy rights\nto do a variety of things.\n\n252\n00:12:36.120 --> 00:12:37.863\nWe could block the use of NTLM.\n\n253\n00:12:37.863 --> 00:12:40.268\nCredential Guard would do that for\nus as well.\n\n254\n00:12:40.268 --> 00:12:43.903\nWe could, or at least prevent\nthese low level Version 1 NTLM.\n\n255\n00:12:43.903 --> 00:12:46.889\nNot Version 2, but we could block\nboth as you were suggesting,\n\n256\n00:12:46.889 --> 00:12:49.116\nwith the additional\npolicies we talked about.\n\n257\n00:12:49.116 --> 00:12:52.872\nBut we in Credential Guard can\nalso prevent the use of DES for\n\n258\n00:12:52.872 --> 00:12:57.456\nKerberos encryption and Kerberos\ndelegation, we force the use of AES,\n\n259\n00:12:57.456 --> 00:12:59.656\na newer, more secure algorithm.\n\n260\n00:12:59.656 --> 00:13:02.229\nSo we can apply some of the things\nwe've already talked about and\n\n261\n00:13:02.229 --> 00:13:04.946\nsome additional things like BitLocker,\nwhich we've mentioned,\n\n262\n00:13:04.946 --> 00:13:06.581\nwe haven't really gone into detail on.\n\n263\n00:13:06.581 --> 00:13:11.070\nBut whole disk, whole volume encryption\nwhere we can encrypt the hard drive or\n\n264\n00:13:11.070 --> 00:13:16.116\nvolumes of the domain controller, further\nprotecting the information stored there.\n\n265\n00:13:16.116 --> 00:13:18.211\nSo we can do that device guard.\n\n266\n00:13:18.211 --> 00:13:20.001\nYou'll add that capability as well.\n\n267\n00:13:20.001 --> 00:13:23.516\nSame idea but for hardware supposed\nto just simply the credentials.\n\n268\n00:13:23.516 --> 00:13:27.050\nSo we can do this kind of stuff making\nsure that we didn't talk about it but yet\n\n269\n00:13:27.050 --> 00:13:30.419\nanother best practice we're gonna,\nare we doing the whole mind thing or\n\n270\n00:13:30.419 --> 00:13:32.317\nare you gonna say what I'm about to say?\n\n271\n00:13:32.317 --> 00:13:32.827\n&gt;&gt; No.\n\n272\n00:13:32.827 --> 00:13:33.582\n&gt;&gt; No.\n\n273\n00:13:33.582 --> 00:13:35.143\n&gt;&gt; Okay then you don't get to\ntalk no no you don't get to talk.\n\n274\n00:13:35.143 --> 00:13:36.156\n&gt;&gt; Just finish your thought.\n\n275\n00:13:36.156 --> 00:13:39.696\n&gt;&gt; So just what I was gonna say and\nthis maybe was what you were gonna say but\n\n276\n00:13:39.696 --> 00:13:41.136\ni was gonna say in addition,\n\n277\n00:13:41.136 --> 00:13:44.569\nthings like making sure we have\ndigitally sound software, right?\n\n278\n00:13:44.569 --> 00:13:46.329\nSo only use authorized and\n\n279\n00:13:46.329 --> 00:13:50.816\nsoftware that is gonna be validated\nfrom a vendor like Microsoft.\n\n280\n00:13:50.816 --> 00:13:54.888\nSo when you go to do the install, make\nsure you use the official Microsoft OS.\n\n281\n00:13:54.888 --> 00:13:58.716\nDon't download that copy from the old bit\ntorrent feed that you're getting from\n\n282\n00:13:58.716 --> 00:14:01.993\nsomebody who's probably got a copy\nthat's not gonna be authentic.\n\n283\n00:14:01.993 --> 00:14:04.224\nMay even have malware in it,\nthings like that.\n\n284\n00:14:04.224 --> 00:14:07.491\nWith the domain controller it my not be\nas big as a deal, not probably gonna be\n\n285\n00:14:07.491 --> 00:14:10.675\ninstalling a lot of additional software\non a domain controller, right?\n\n286\n00:14:10.675 --> 00:14:13.336\nBut in general it's always gonna\nthink about using the built-in\n\n287\n00:14:13.336 --> 00:14:14.457\nauthenticated software.\n\n288\n00:14:14.457 --> 00:14:16.166\nSo, we'll add that to the list, right?\n\n289\n00:14:16.166 --> 00:14:17.264\n&gt;&gt; Sure.\n&gt;&gt; What else do you wanna add?\n\n290\n00:14:17.264 --> 00:14:21.559\n&gt;&gt; Well, I know you showed us how to use\ndesired state configurations specifically\n\n291\n00:14:21.559 --> 00:14:25.490\nwith JEA, but that's not a tool that\nwe can discount completely either.\n\n292\n00:14:25.490 --> 00:14:28.597\nWe still have desired state\nconfiguration to use for\n\n293\n00:14:28.597 --> 00:14:33.409\nother configurations as well to make sure\nthat it's not manipulated in any way.\n\n294\n00:14:33.409 --> 00:14:35.813\nOr if it is manipulated,\nwe can switch it back.\n\n295\n00:14:35.813 --> 00:14:37.560\n&gt;&gt; Not really, not here, not for this.\n\n296\n00:14:37.560 --> 00:14:42.380\nIn other words, what JEA would do,\nor desired state configuration and\n\n297\n00:14:42.380 --> 00:14:45.592\nJEA together,\nthe idea of using this ability to\n\n298\n00:14:45.592 --> 00:14:49.392\npush out the configuration\nthat we wanna be able to use.\n\n299\n00:14:49.392 --> 00:14:52.778\nIf you haven't seen our episode for\nJust Enough Administration,\n\n300\n00:14:52.778 --> 00:14:56.896\nwhich is what Cherokee is talking about\nand DSC, Desired State Configuration.\n\n301\n00:14:56.896 --> 00:15:00.081\nAs an ability to use essentially\nthis idea of DevOps for\n\n302\n00:15:00.081 --> 00:15:02.921\nmore broadly software defining something,\nand\n\n303\n00:15:02.921 --> 00:15:07.296\ncontrolling the configuration through\none or more configuration files.\n\n304\n00:15:07.296 --> 00:15:10.671\nAnd then standardizing that by\npushing it out to have everything,\n\n305\n00:15:10.671 --> 00:15:13.022\nin this case setting up\nmultiple endpoints for\n\n306\n00:15:13.022 --> 00:15:16.113\nservice attachment using\nthe Just Enough Administration.\n\n307\n00:15:16.113 --> 00:15:19.581\nJE, I keep saying JE,\nJEA as you rightly said, right?\n\n308\n00:15:19.581 --> 00:15:20.629\nI got it backwards.\n\n309\n00:15:20.629 --> 00:15:22.693\nYou're supposed to tell me\nwhen I do that kind of stuff!\n\n310\n00:15:22.693 --> 00:15:25.807\nCuz I have that replay audio track running\nin my mind, as I say something and\n\n311\n00:15:25.807 --> 00:15:28.870\nabout ten seconds later I go wait\na second I didn't say that the right way,\n\n312\n00:15:28.870 --> 00:15:30.272\nI got to go back and correct that.\n\n313\n00:15:30.272 --> 00:15:31.373\nBut there's always latency when I do that,\nso.\n\n314\n00:15:31.373 --> 00:15:32.777\n&gt;&gt; Yeah, I know.\nIt doesn't really have\n\n315\n00:15:32.777 --> 00:15:34.807\nthe same effect if you wait a few minutes.\n\n316\n00:15:34.807 --> 00:15:36.301\n&gt;&gt; You should just tell\nme when that happens.\n\n317\n00:15:36.301 --> 00:15:37.584\nSay, like, just stop.\n\n318\n00:15:37.584 --> 00:15:40.393\nPush me out of the way so\nI don't, I know something's wrong.\n\n319\n00:15:40.393 --> 00:15:41.209\nAnd just yeah, like that.\n\n320\n00:15:41.209 --> 00:15:44.438\nJust throw me off camera and\nthen take control of the whole thing and\n\n321\n00:15:44.438 --> 00:15:45.312\njust run with it.\n\n322\n00:15:45.312 --> 00:15:48.423\nSo what I was suggesting was it's\na good thought process that Cherokee is\n\n323\n00:15:48.423 --> 00:15:49.195\nsharing with us.\n\n324\n00:15:49.195 --> 00:15:53.471\nBut it's probably not the way that we\nwould approach thinking about this here\n\n325\n00:15:53.471 --> 00:15:58.077\nbecause Chances are good because of the\nidea of locking down this domain/forest,\n\n326\n00:15:58.077 --> 00:16:01.202\nright, tThis admin forest\nthat we're talking about.\n\n327\n00:16:01.202 --> 00:16:04.550\nWe would wanna prevent remote access and\nremote configuration, remote management\n\n328\n00:16:04.550 --> 00:16:07.570\nbecause we don't want people getting\nin there in the first place.\n\n329\n00:16:07.570 --> 00:16:12.360\nSo at least if I was doing it, I would\nnot wanna enable PowerShell remoting and\n\n330\n00:16:12.360 --> 00:16:16.708\nset up the service connection point\nwith JEA and do that whether or not I\n\n331\n00:16:16.708 --> 00:16:21.964\nstandardized it with the desired state\nconfiguration module, the DSC extension.\n\n332\n00:16:21.964 --> 00:16:23.679\nBecause I wouldn't really\nwanna open that up.\n\n333\n00:16:23.679 --> 00:16:26.907\nSo at least I would not\nthink of doing it that way.\n\n334\n00:16:26.907 --> 00:16:30.384\nI'm not saying couldn't use it to\ndo some basic thought process,\n\n335\n00:16:30.384 --> 00:16:31.930\nbasic management there.\n\n336\n00:16:31.930 --> 00:16:36.800\nBut that's really about managing after\nthe fact, not the actual configuration.\n\n337\n00:16:36.800 --> 00:16:40.930\n&gt;&gt; Also IT made some kind of\nmisconfiguration or something like that.\n\n338\n00:16:40.930 --> 00:16:42.044\nIt got past those?\n\n339\n00:16:42.044 --> 00:16:43.975\n&gt;&gt; Even then, it wouldn't be through that.\n\n340\n00:16:43.975 --> 00:16:45.419\nYou're bringing in a really great idea,\nbut\n\n341\n00:16:45.419 --> 00:16:47.554\nthe way we're approaching it is\nnot the correct way to implement.\n\n342\n00:16:47.554 --> 00:16:48.333\nLet me put it that way.\n\n343\n00:16:48.333 --> 00:16:52.060\nWhat I'm trying to suggest is,\nwe wouldn't use just enough adminstration,\n\n344\n00:16:52.060 --> 00:16:54.640\nthe PowerShell remoting\ncapability to do this.\n\n345\n00:16:54.640 --> 00:16:58.515\nBut what we could do is what you\nmentioned, which is the extension of that,\n\n346\n00:16:58.515 --> 00:17:00.865\nthe DSC, the desired state configuration.\n\n347\n00:17:00.865 --> 00:17:05.700\nWe could use DSC technology which we can\nuse, for instance, as you know, with SCCM.\n\n348\n00:17:05.700 --> 00:17:06.729\n&gt;&gt; Yes.\n&gt;&gt; Which I would think of it.\n\n349\n00:17:06.729 --> 00:17:10.220\nI know you're thinking of it from\nthat perspective initially as well.\n\n350\n00:17:10.220 --> 00:17:13.854\nSo with the desired state configuration\ncapabilities insistence in\n\n351\n00:17:13.854 --> 00:17:18.238\nour Config Manager, for instance, what we\ncan do is essentially create a baseline\n\n352\n00:17:18.238 --> 00:17:21.576\nthat we apply and\nthen continuously monitor against, right?\n\n353\n00:17:21.576 --> 00:17:24.555\nWhich is what DSC represents for\nus, this functionality.\n\n354\n00:17:24.555 --> 00:17:29.137\nWhat I think is the great insight\nyou're sharing with us is yeah,\n\n355\n00:17:29.137 --> 00:17:34.304\nlet's use the DSC to ensure the\nconfiguration of the domain controller,\n\n356\n00:17:34.304 --> 00:17:37.329\nthe single domain anchored admin forest.\n\n357\n00:17:37.329 --> 00:17:41.334\nLet's monitor that, make sure that's\nnot gonna drift and if it does,\n\n358\n00:17:41.334 --> 00:17:42.882\nlet's be alerted to that.\n\n359\n00:17:42.882 --> 00:17:46.940\nWe can bring in System Center Config,\nSystem Center Ops Manager.\n\n360\n00:17:46.940 --> 00:17:49.110\nSo bring in some of our\ncapabilities there with DSC,\n\n361\n00:17:49.110 --> 00:17:51.150\nwhich is where we would leverage this.\n\n362\n00:17:51.150 --> 00:17:54.730\nWe could even bring in\nSystem Center Service Manager.\n\n363\n00:17:54.730 --> 00:17:57.001\nSo three distinct products still,\nso if you really.\n\n364\n00:17:57.001 --> 00:17:59.845\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's go and let's create an entire\n\n365\n00:17:59.845 --> 00:18:04.660\nenterprise architecture for a single\ndomain controller, a single forest.\n\n366\n00:18:04.660 --> 00:18:05.931\n&gt;&gt; Hey, you wanted it to be locked down?\n\n367\n00:18:05.931 --> 00:18:10.890\n&gt;&gt; Yeah, but we could build $1 million\ninfrastructure to solve a $5 problem.\n\n368\n00:18:10.890 --> 00:18:15.340\nSo we could do that if we added\nin System Center Service Manager.\n\n369\n00:18:15.340 --> 00:18:18.040\nWe could actually then\nbe alerted through SCOM.\n\n370\n00:18:18.040 --> 00:18:20.239\nWe could do continuous\nmonitoring through SCCM.\n\n371\n00:18:20.239 --> 00:18:24.543\nWe could spawn ticket and\nresolution capability in Service Center or\n\n372\n00:18:24.543 --> 00:18:26.655\nSystem Center Service Manager.\n\n373\n00:18:26.655 --> 00:18:30.285\nAnd then you'd have to hire a really high\npriced consultant to be able to manage\n\n374\n00:18:30.285 --> 00:18:31.448\nthe whole thing for you.\n\n375\n00:18:31.448 --> 00:18:32.017\n&gt;&gt; [LAUGH] Like Adam over here.\n\n376\n00:18:32.017 --> 00:18:32.802\n&gt;&gt; And set it all up.\n\n377\n00:18:32.802 --> 00:18:34.143\n&gt;&gt; [LAUGH]\n&gt;&gt; Nah, you don't need me.\n\n378\n00:18:34.143 --> 00:18:35.272\nCherokee could do all this for you.\n\n379\n00:18:35.272 --> 00:18:36.444\nShe knows all about these products.\n\n380\n00:18:36.444 --> 00:18:41.900\nBut I think the reality is, it's a great\nidea to use desired state configuration.\n\n381\n00:18:41.900 --> 00:18:44.176\nBut we would not use it with\njust enough administration and\n\n382\n00:18:44.176 --> 00:18:45.671\nPowerShell remoting capabilities.\n\n383\n00:18:45.671 --> 00:18:49.907\nWe would actually use it on its own in\nthe System Center Suite to bring that\n\n384\n00:18:49.907 --> 00:18:50.840\naspect in.\n\n385\n00:18:50.840 --> 00:18:52.274\nWe could then tightly control and\n\n386\n00:18:52.274 --> 00:18:55.100\nlock down the configurations\nwhich is what you're suggesting.\n\n387\n00:18:55.100 --> 00:18:57.149\nI think that part makes a lot of sense,\nbut\n\n388\n00:18:57.149 --> 00:19:00.055\nI would redirect it into\nthe System Center conversation.\n\n389\n00:19:00.055 --> 00:19:00.759\n&gt;&gt; Using [CROSSTALK] got it.\n\n390\n00:19:00.759 --> 00:19:02.750\n&gt;&gt; Because that's where we would see\nthe value of the technology more.\n\n391\n00:19:02.750 --> 00:19:05.912\nCuz I would wanna prevent that\nremote capability with PowerShell,\n\n392\n00:19:05.912 --> 00:19:07.531\nbecause of the security aspects.\n\n393\n00:19:07.531 --> 00:19:10.050\nI would actually wanna\nprevent that from happening.\n\n394\n00:19:10.050 --> 00:19:14.151\nOr if we used it very tightly to\nconfigure control aspects of the domain,\n\n395\n00:19:14.151 --> 00:19:16.772\nthen maybe I could see,\nin a very limited way,\n\n396\n00:19:16.772 --> 00:19:20.022\nwe could see just enough\nadministration coming back in.\n\n397\n00:19:20.022 --> 00:19:21.770\nBut for this, I would wanna set up.\n\n398\n00:19:21.770 --> 00:19:24.132\nCan we go back to the picture real quick?\n\n399\n00:19:24.132 --> 00:19:27.360\nI would wanna set up that\nsingle domain admin forest.\n\n400\n00:19:27.360 --> 00:19:30.844\nI'd wanna be able to create the few user\naccounts we're gonna be giving admin\n\n401\n00:19:30.844 --> 00:19:32.517\nrights to in the production forest.\n\n402\n00:19:32.517 --> 00:19:36.380\nAnd when I have it, I'll probably set up\nahead of time, have that all configured.\n\n403\n00:19:36.380 --> 00:19:38.815\nOnce I do all that,\nI'm gonna wanna to lock that down.\n\n404\n00:19:38.815 --> 00:19:41.380\nAnd probably not be going in\nthere very often if at all.\n\n405\n00:19:41.380 --> 00:19:44.571\nAnd certainly not going in there\non a regular basis to administer.\n\n406\n00:19:44.571 --> 00:19:48.900\nAnd if I do I'm gonna wanna show up and\nadminister, essentially in person.\n\n407\n00:19:48.900 --> 00:19:51.222\nI'm not gonna wanna risk\na remote connection,\n\n408\n00:19:51.222 --> 00:19:54.194\nwhere I may forget to secure something or\nmay have a problem.\n\n409\n00:19:54.194 --> 00:19:58.168\nAnd it just opens up a lot of\npossibilities for misconfiguration and\n\n410\n00:19:58.168 --> 00:19:59.221\nmismanagement.\n\n411\n00:19:59.221 --> 00:20:02.000\nNot that we couldn't do it with JEA,\nright?\n\n412\n00:20:02.000 --> 00:20:06.280\nWe could, but it would not be my\npreference from a security standpoint.\n\n413\n00:20:06.280 --> 00:20:09.670\nI would rather have to show up at\nthat domain controller and actually-\n\n414\n00:20:09.670 --> 00:20:10.410\n&gt;&gt; Physically be there.\n\n415\n00:20:10.410 --> 00:20:13.641\n&gt;&gt; Do the admin right in the console right\nthere, because that way, I don't have to\n\n416\n00:20:13.641 --> 00:20:17.200\nworry about, is somebody coming in the\nback door when I'm not paying attention?\n\n417\n00:20:17.200 --> 00:20:21.330\nDid I leave open a session that I have to\nworry about those kind of concerns from my\n\n418\n00:20:21.330 --> 00:20:22.143\nperspective?\n\n419\n00:20:22.143 --> 00:20:24.990\nFrom a security perspective,\nI would be a little bit wary of.\n\n420\n00:20:24.990 --> 00:20:29.064\nSo I like the idea of DSC, but I like\nthe idea separate using system center to\n\n421\n00:20:29.064 --> 00:20:32.428\nmonitor and baseline and\nmanage as opposed to let's remotely\n\n422\n00:20:32.428 --> 00:20:37.113\nadminister the PowerShell which can get us\nin some trouble for not paying attention.\n\n423\n00:20:37.113 --> 00:20:38.315\nSo that's good, though.\n\n424\n00:20:38.315 --> 00:20:41.821\nIt's worth a wholehearted fist bump cuz\nthat was really a great suggestion.\n\n425\n00:20:41.821 --> 00:20:42.715\nI'm not kidding.\n\n426\n00:20:42.715 --> 00:20:44.639\nIt was actually really\ngood thought process and\n\n427\n00:20:44.639 --> 00:20:47.331\na great insight to how we can apply\ndifferent aspects of technology\n\n428\n00:20:47.331 --> 00:20:49.893\nto a problem that we wanna be able\nto figure out how to lock down.\n\n429\n00:20:49.893 --> 00:20:52.610\nSo I like that a lot,\nI think that's a really good one.\n\n430\n00:20:52.610 --> 00:20:53.488\nSo good as a matter of fact,\n\n431\n00:20:53.488 --> 00:20:55.564\nthat I'm gonna let Cherokee\nfinish up our discussion, right?\n\n432\n00:20:55.564 --> 00:20:56.943\n&gt;&gt; [LAUGH] I don't even know\nwhat's next on the list.\n\n433\n00:20:56.943 --> 00:20:58.177\nLet's see.\n\n434\n00:20:58.177 --> 00:20:58.890\n&gt;&gt; There's not in there,\nso I'm only kidding you.\n\n435\n00:20:58.890 --> 00:20:59.569\n&gt;&gt; Okay.\n\n436\n00:20:59.569 --> 00:21:00.261\n[LAUGH]\n&gt;&gt; We've\n\n437\n00:21:00.261 --> 00:21:00.819\nbasically just summarized everything.\n\n438\n00:21:00.819 --> 00:21:04.460\nWe're basically just about done,\nI just wanna wrap up with one final word.\n\n439\n00:21:05.900 --> 00:21:08.126\nOne more second,\nwe need that picture back up there.\n\n440\n00:21:08.126 --> 00:21:09.187\nThe thing keeps going away.\n\n441\n00:21:09.187 --> 00:21:11.160\nI only paid for five seconds at a time-\n&gt;&gt; [LAUGH]\n\n442\n00:21:11.160 --> 00:21:11.743\n&gt;&gt; So every five seconds.\n\n443\n00:21:11.743 --> 00:21:12.367\n&gt;&gt; You got to put another nickel in.\n\n444\n00:21:12.367 --> 00:21:14.467\n&gt;&gt; It keeps going away,\nI got to put another, yeah,\n\n445\n00:21:14.467 --> 00:21:15.770\nI got to put another nickel in.\n\n446\n00:21:15.770 --> 00:21:18.984\nWe got to charge the credit card up for\na little more time on that.\n\n447\n00:21:18.984 --> 00:21:22.940\nNo, the only other thing I wanted to talk\nabout was there are some additional things\n\n448\n00:21:22.940 --> 00:21:24.220\nwe should think about.\n\n449\n00:21:24.220 --> 00:21:27.435\nAnd again, I put a more exhaustive list\nin the show notes around this topic.\n\n450\n00:21:27.435 --> 00:21:29.263\nBut we're thinking about\njust best practice,\n\n451\n00:21:29.263 --> 00:21:30.640\ncommon things we do to lock it down.\n\n452\n00:21:30.640 --> 00:21:35.034\nHow about things like blocking USB storage\ncapabilities on the admin forest domain\n\n453\n00:21:35.034 --> 00:21:36.108\ncontroller again?\n\n454\n00:21:36.108 --> 00:21:37.200\nDon't let people load anything up.\n\n455\n00:21:37.200 --> 00:21:38.633\nDon't let people get in there.\n\n456\n00:21:38.633 --> 00:21:43.140\nDon't let anybody do anything that can in\nany way compromise that system by adding\n\n457\n00:21:43.140 --> 00:21:46.031\nor somehow modifying those user accounts,\nright?\n\n458\n00:21:46.031 --> 00:21:48.017\nSo block USB storage access,\n\n459\n00:21:48.017 --> 00:21:52.575\nmaking sure we run this on an isolated\nnetwork that is protected.\n\n460\n00:21:52.575 --> 00:21:55.857\nWe encrypt the traffic so\nthat way we're managing it.\n\n461\n00:21:55.857 --> 00:21:58.190\nAnd we know nobody's gonna sniff it and\nperhaps get credentials.\n\n462\n00:21:58.190 --> 00:22:02.190\nSo make sure that we are using some\nsort of secure protocols to communicate\n\n463\n00:22:02.190 --> 00:22:03.450\nback and forth.\n\n464\n00:22:03.450 --> 00:22:06.794\nMaybe we're using an lttp with IP set VPN.\n\n465\n00:22:06.794 --> 00:22:09.957\nMaybe we are only allowing local\nadministration, as I suggested,\n\n466\n00:22:09.957 --> 00:22:13.011\nas opposed to remote administration\nlike we were talking about,\n\n467\n00:22:13.011 --> 00:22:15.655\nbecause of the concerns\nassociated with that, right?\n\n468\n00:22:15.655 --> 00:22:19.826\nThese kind of things would be very\nimportant for us to consider.\n\n469\n00:22:19.826 --> 00:22:23.412\nWe talked about security baselines, and\njust thinking about some of the logical\n\n470\n00:22:23.412 --> 00:22:26.440\nthings we also would wanna think about,\nthose kind of things.\n\n471\n00:22:26.440 --> 00:22:29.906\nObviously goes without saying, but\nmaking sure patch management is set up and\n\n472\n00:22:29.906 --> 00:22:32.177\nthat we're doing patch\nmanagement there as well.\n\n473\n00:22:32.177 --> 00:22:37.112\nSo the use of automation, the use of\nconfiguration, lock down through things\n\n474\n00:22:37.112 --> 00:22:42.123\nlike security baselines and the use of,\npotentially as Cherokee pointed out,\n\n475\n00:22:42.123 --> 00:22:46.530\nagain, props where props are due,\ngreat suggestion on her part.\n\n476\n00:22:46.530 --> 00:22:49.129\nMaybe desired state configuration\nto ensure that we lock\n\n477\n00:22:49.129 --> 00:22:50.327\ndown the configuration.\n\n478\n00:22:50.327 --> 00:22:52.460\nAnd as a result,\nwe're in control of it and\n\n479\n00:22:52.460 --> 00:22:54.680\nwe're alerted if something were to drift.\n\n480\n00:22:54.680 --> 00:22:57.710\nAnd we can even say that we would apply\nthat to the production forest cuz\n\n481\n00:22:57.710 --> 00:23:01.980\nwe can see the value of DSC on both\nsides of that conversation being really,\n\n482\n00:23:01.980 --> 00:23:02.850\nreally important to us.\n\n483\n00:23:02.850 --> 00:23:05.710\nSo you're just thinking about all\nthe things we would do to lock it down.\n\n484\n00:23:05.710 --> 00:23:10.462\nRemember, as I said, this idea of enhanced\nsecurity administrative environments is\n\n485\n00:23:10.462 --> 00:23:13.140\nnot so much check off ten boxes and\nyou're done.\n\n486\n00:23:13.140 --> 00:23:15.370\nHere's two tools,\napply this and you're finished.\n\n487\n00:23:15.370 --> 00:23:18.529\nIt's really more of a thought process,\na methodology.\n\n488\n00:23:18.529 --> 00:23:22.070\nAnd so it's not necessarily I\ndid five things and I'm good.\n\n489\n00:23:22.070 --> 00:23:23.388\nI did three and I'm bad.\n\n490\n00:23:23.388 --> 00:23:26.780\nThere are some minimum baseline\nrequirements we've gotta configure here.\n\n491\n00:23:26.780 --> 00:23:29.230\nWe've talked about those,\nyou're seeing a picture of them.\n\n492\n00:23:29.230 --> 00:23:32.820\nAnd you've heard me discuss the thought\nprocess of two separate forests.\n\n493\n00:23:32.820 --> 00:23:36.660\nThe one-way trust relationship and how\nwe're then gonna be able to leverage that.\n\n494\n00:23:36.660 --> 00:23:42.503\nBeyond that, all the other things we're\ntalking about, right, is the fact that we\n\n495\n00:23:42.503 --> 00:23:48.288\nare applying common sense best practices\nto a group of thought processes, right?\n\n496\n00:23:48.288 --> 00:23:51.201\nTo the configuration of\nthe domain controller,\n\n497\n00:23:51.201 --> 00:23:55.958\nin the admin forest to further lock it\ndown, further enhance its security, and\n\n498\n00:23:55.958 --> 00:23:58.515\nminimize its attack surface, right?\n\n499\n00:23:58.515 --> 00:24:03.089\nAnd the idea behind this generically in\nsecurity is the idea of what we call ASR,\n\n500\n00:24:03.089 --> 00:24:05.222\nAttack Surface Reduction, right?\n\n501\n00:24:05.222 --> 00:24:08.914\nAnd as a result of that,\nwhen we are reducing the attack surface,\n\n502\n00:24:08.914 --> 00:24:13.143\nminimizing the footprint of the system\nthat's exposed to the bad actors,\n\n503\n00:24:13.143 --> 00:24:17.174\nminimizing vulnerabilities that\nare potentially available to them to\n\n504\n00:24:17.174 --> 00:24:21.250\nlatch onto and leverage,\nthat's really what this idea is about.\n\n505\n00:24:21.250 --> 00:24:23.603\nFind all those capabilities,\nfind all those hooks.\n\n506\n00:24:23.603 --> 00:24:26.570\nFind all those things that\nwe wanna make sure we do.\n\n507\n00:24:26.570 --> 00:24:31.173\nAnd check off those best practices to\nenable as high a level of security and\n\n508\n00:24:31.173 --> 00:24:35.715\nas high a level of configuration\nmanagement as possible on this system.\n\n509\n00:24:35.715 --> 00:24:38.379\nThat's gonna be the best practice\nwe wanna achieve for the set,\n\n510\n00:24:38.379 --> 00:24:40.710\nthe best practice we wanna apply so\nthat we can achieve.\n\n511\n00:24:40.710 --> 00:24:42.010\nJust make sure you are aware of that.\n\n512\n00:24:42.010 --> 00:24:45.960\nBut that's probably the best thing we do,\nsummarize that, right, just to make sure.\n\n513\n00:24:45.960 --> 00:24:47.052\nAll right, so are you good?\n\n514\n00:24:47.052 --> 00:24:49.802\nDo you think you wanna add anything\nelse or is that good so far?\n\n515\n00:24:49.802 --> 00:24:51.160\n&gt;&gt; I think that's good so far.\n\n516\n00:24:51.160 --> 00:24:55.271\nWe didn't even have to find the pigs and\nthe chickens and\n\n517\n00:24:55.271 --> 00:24:57.381\nall the other farm animals.\n\n518\n00:24:57.381 --> 00:24:58.877\nAnd we were able to get back-\n&gt;&gt; You can get back to Old MacDonald.\n\n519\n00:24:58.877 --> 00:24:59.678\n&gt;&gt; Yeah, Old MacDonald, right?\n\n520\n00:24:59.678 --> 00:25:01.125\n&gt;&gt; You started with Old MacDonald.\n\n521\n00:25:01.125 --> 00:25:02.024\n&gt;&gt; I told you farmers.com,\nfarmersonly.com.\n\n522\n00:25:02.024 --> 00:25:03.383\n&gt;&gt; [LAUGH]\n&gt;&gt; That's where he hangs out,\n\n523\n00:25:03.383 --> 00:25:04.050\nfarmersonly.com.\n\n524\n00:25:04.050 --> 00:25:08.220\n&gt;&gt; All right, well [LAUGH] Adam,\nam I gonna see your profile on farmers-\n\n525\n00:25:08.220 --> 00:25:09.576\n&gt;&gt; No, no, not at all, but\n\n526\n00:25:09.576 --> 00:25:11.002\nyou're on the Internet.\n\n527\n00:25:11.002 --> 00:25:12.730\nYou're just not on TV on a regular basis.\n\n528\n00:25:12.730 --> 00:25:16.166\nBut if you were watching TV,\nyou'd know about these things.\n\n529\n00:25:16.166 --> 00:25:17.006\n&gt;&gt; Yeah, I know.\n\n530\n00:25:17.006 --> 00:25:17.918\n[CROSSTALK] Yeah.\n&gt;&gt; They advertise all the time.\n\n531\n00:25:17.918 --> 00:25:19.587\nYou see their commercials everywhere.\n\n532\n00:25:19.587 --> 00:25:22.670\n&gt;&gt; All right, ladies and gentlemen,\nwe are out of time for this episode.\n\n533\n00:25:22.670 --> 00:25:23.695\nThank you for joining us.\n\n534\n00:25:23.695 --> 00:25:25.170\nBut I'm gonna go ahead and sign out.\n\n535\n00:25:25.170 --> 00:25:26.697\nI've been your host, Cherokee Boose.\n\n536\n00:25:26.697 --> 00:25:28.160\n&gt;&gt; I am Old MacDonald.\n\n537\n00:25:28.160 --> 00:25:29.859\n&gt;&gt; See you next time here at ITProTV.\n\n538\n00:25:29.859 --> 00:25:36.390\n[MUSIC]\n\n539\n00:25:36.390 --> 00:25:42.649\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233879564"
        },
        {
          "description": "In this show, Cherokee and Adam Just in Time Administration that enables users to provide a type of self-service in terms of maintenance such as self-service password reset, role management and assignment and more all packaged within Microsoft Identity Manager (MIM). Adam explains how Privileged Access Management (PAM) can leverage ESAE framework to enable permission assignment to user accounts for a finite amount of time. He highlights the components, shows where to obtain the download and walks through the installation process.",
          "length": "2533",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-4-2-implementing_jit-091317-PGM.00_41_56_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-4-2-implementing_jit-091317-PGM.00_41_56_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-4-2-implementing_jit-091317-PGM.00_41_56_22.Still001-sm.jpg",
          "title": "Implementing JIT",
          "transcript": "WEBVTT\n\n1\n00:00:00.290 --> 00:00:03.010\nWelcome to IT Pro TV,\nI'm you're host, Don Pezet.\n\n2\n00:00:03.010 --> 00:00:05.559\n&gt;&gt; Coming to you live from San Francisco,\nCalifornia.\n\n3\n00:00:05.559 --> 00:00:06.161\n[CROSSTALK]\n[MUSIC]\n\n4\n00:00:06.161 --> 00:00:10.559\n&gt;&gt; You're watching IT Pro TV.\n\n5\n00:00:10.559 --> 00:00:15.336\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n6\n00:00:15.336 --> 00:00:16.812\nI'm your show host, Cherokee Boose.\n\n7\n00:00:16.812 --> 00:00:21.370\nIn this episode we'll be taking\na look at how to implement JIT,\n\n8\n00:00:21.370 --> 00:00:25.370\notherwise known as\nJust In Time administration.\n\n9\n00:00:25.370 --> 00:00:28.870\nAnd back with us in studios today we\nhave Microsoft expert Mr. Adam Gordon.\n\n10\n00:00:28.870 --> 00:00:30.240\nThank you for joining us Adam.\n\n11\n00:00:30.240 --> 00:00:31.093\n&gt;&gt; You're welcome.\nThank you for\n\n12\n00:00:31.093 --> 00:00:33.591\nextending an invitation\nto allow me to come and\n\n13\n00:00:33.591 --> 00:00:37.640\ntalk about such an interesting and\na fact filled topic, and I do mean that.\n\n14\n00:00:37.640 --> 00:00:40.003\nBecause we're going to talk\nabout not just what JIT is,\n\n15\n00:00:40.003 --> 00:00:42.920\nwhich is actually a very\nstraightforward thought process.\n\n16\n00:00:42.920 --> 00:00:46.257\nBut how to implement the architecture\nbehind it, which is still straightforward,\n\n17\n00:00:46.257 --> 00:00:47.530\nbut a little bit more involved.\n\n18\n00:00:47.530 --> 00:00:51.992\nThe idea of Just In Time administration,\nagain, not specific to Windows per se.\n\n19\n00:00:51.992 --> 00:00:53.939\nThis is a broader thematic discussion,\n\n20\n00:00:53.939 --> 00:00:57.948\na theoretical construct that helps us to\nunderstand how to position ourselves to be\n\n21\n00:00:57.948 --> 00:01:00.580\nable to be responsive to\nneeds in an organization, but\n\n22\n00:01:00.580 --> 00:01:03.928\nto keep an eye on the security\nimplications of the decisions we make.\n\n23\n00:01:03.928 --> 00:01:06.793\nSo when we think about\nJust In Time administration,\n\n24\n00:01:06.793 --> 00:01:11.024\nwe're thinking about in this case,\nthe use of technology that may allow us to\n\n25\n00:01:11.024 --> 00:01:14.302\nenable users to self service\nthrough certain activities.\n\n26\n00:01:14.302 --> 00:01:16.845\nBut to monitor those behaviors and\nto control them and\n\n27\n00:01:16.845 --> 00:01:19.050\nconstrain them as we've\nbeen talking about,\n\n28\n00:01:19.050 --> 00:01:22.966\nit's a kind of central theme throughout\nall the episodes we've had up until now.\n\n29\n00:01:22.966 --> 00:01:26.341\nAnd will continue as a central theme\ninto the episodes that will come\n\n30\n00:01:26.341 --> 00:01:30.810\nafter this with regards to all the other\ntechnology in areas we'll speak about.\n\n31\n00:01:30.810 --> 00:01:35.063\nWith things like malware detection and\nmalware prevention.\n\n32\n00:01:35.063 --> 00:01:38.754\nThings like making sure that we know how\nto use nano server in certain cases,\n\n33\n00:01:38.754 --> 00:01:42.460\nto be able to do a variety of things\nusing PowerShell as we've talked about.\n\n34\n00:01:42.460 --> 00:01:45.300\nAll the different things that we can\ndo and think through the logic of\n\n35\n00:01:45.300 --> 00:01:49.970\nin order to secure and to lock down Server\n2016 as an infrastructure platform.\n\n36\n00:01:49.970 --> 00:01:51.570\nSo when we think about Just In Time,\n\n37\n00:01:51.570 --> 00:01:54.280\nthings like enabling self\nservice password resets.\n\n38\n00:01:54.280 --> 00:01:57.670\nDirectory synchronization\nto ensure we have access to\n\n39\n00:01:57.670 --> 00:02:00.250\nuser accounts in various places.\n\n40\n00:02:00.250 --> 00:02:03.628\nOr identifying which accounts should\nbe synchronized, let's put it that way.\n\n41\n00:02:03.628 --> 00:02:07.875\nAnd making sure that those items that have\nto be synchronized perhaps up to the cloud\n\n42\n00:02:07.875 --> 00:02:10.860\nif we're doing an on prem,\noff prem Hybrid environment.\n\n43\n00:02:10.860 --> 00:02:14.264\nUsually where we see directory\nsynchronization taking place,\n\n44\n00:02:14.264 --> 00:02:17.890\ncan access those resources and\nuse those accounts if needed.\n\n45\n00:02:17.890 --> 00:02:23.445\nSo we can use MIM, the Microsoft Identity\nManagement platform, the MIM software.\n\n46\n00:02:23.445 --> 00:02:24.625\nWe'll take a look at what it does and\n\n47\n00:02:24.625 --> 00:02:27.375\nhow it works in a couple of minutes,\nshow you where to download it,\n\n48\n00:02:27.375 --> 00:02:30.865\nset up a test environment, we'll do\na walkthrough how to configure it.\n\n49\n00:02:30.865 --> 00:02:34.575\nBut we can use MIM, the Microsoft\nIdentity Manager, which takes over for\n\n50\n00:02:34.575 --> 00:02:38.610\nthe the Forefront Identity Manager product\nyou may know, remember FIM, right?\n\n51\n00:02:38.610 --> 00:02:40.690\nWhich was an earlier version of this.\n\n52\n00:02:40.690 --> 00:02:42.970\nFIM 2010, things like that.\n\n53\n00:02:42.970 --> 00:02:43.790\nThis is newer and\n\n54\n00:02:43.790 --> 00:02:47.305\nimproved, this is an MIM 2016 SP1\nthat we are going to take a look at.\n\n55\n00:02:47.305 --> 00:02:49.510\nBut looking at things like managing users,\n\n56\n00:02:49.510 --> 00:02:53.810\ncredentials, policies,\nprivilege identities,\n\n57\n00:02:53.810 --> 00:02:57.230\nthings like that can be done, synchronized\nand configured and managed with MIM.\n\n58\n00:02:57.230 --> 00:02:59.875\nWe can do self service password resets,\nas a matter of fact.\n\n59\n00:02:59.875 --> 00:03:02.483\nIf you want to take a look with me,\nI just have a list of things we\n\n60\n00:03:02.483 --> 00:03:04.699\ncan quickly hit the highlights on,\nas I mentioned.\n\n61\n00:03:04.699 --> 00:03:08.870\nSelf service account lockout remediation\ncan also be enabled for users.\n\n62\n00:03:08.870 --> 00:03:10.740\nWe can setup Group, an active directory.\n\n63\n00:03:10.740 --> 00:03:14.552\nUser, Group life cycle management so\nwe can interact with users and groups and\n\n64\n00:03:14.552 --> 00:03:16.240\nunderstand how to deal with them.\n\n65\n00:03:16.240 --> 00:03:20.310\nSmart card and certificate registration,\na life cycle there.\n\n66\n00:03:20.310 --> 00:03:22.838\nMaking sure we do password\nsynchronization, as I mentioned,\n\n67\n00:03:22.838 --> 00:03:23.752\nacross directories.\n\n68\n00:03:23.752 --> 00:03:25.220\nWe'll take a look, as I said,\n\n69\n00:03:25.220 --> 00:03:28.280\nyou have Privileged Access Management\ntechnology called PAM.\n\n70\n00:03:28.280 --> 00:03:32.448\nAnd analytics and compliance reporting,\nfrom an auditability perspective and\n\n71\n00:03:32.448 --> 00:03:36.124\na verification and validation perspective,\ncan be offered up through\n\n72\n00:03:36.124 --> 00:03:39.690\na separate module that we configure\nas part of the MIM installation.\n\n73\n00:03:39.690 --> 00:03:41.040\nAnd I'll show you what I\nmean by that as we go.\n\n74\n00:03:41.040 --> 00:03:45.500\nThere are some requirements associated\nwith MIM, you can see them here.\n\n75\n00:03:45.500 --> 00:03:49.002\nNothing out of the ordinary, and\nthese are, can we go full screen, just so\n\n76\n00:03:49.002 --> 00:03:50.830\nI'm not sitting on top of this?\n\n77\n00:03:50.830 --> 00:03:52.980\nThese are part of\nthe installation documentation.\n\n78\n00:03:52.980 --> 00:03:56.400\nI'll show you where to get the\ndocumentation and how to do the install.\n\n79\n00:03:56.400 --> 00:03:59.020\nBut you can just go in and\nread through it very easily.\n\n80\n00:03:59.020 --> 00:04:02.350\nYou´ll see we need at\nleast Server 2012 R2.\n\n81\n00:04:02.350 --> 00:04:05.074\nExcuse me not at least,\nbut rather Server 2012 R2,\n\n82\n00:04:05.074 --> 00:04:07.590\nand/or going all the way\nback to 2008 R2 SP1.\n\n83\n00:04:07.590 --> 00:04:14.940\nCan actually with the most recent\nversion of Server 2016, so MIM 2016 SP1.\n\n84\n00:04:14.940 --> 00:04:20.864\nWe do support Server 2016 as well, even\nthough it doesn´t say that on the list.\n\n85\n00:04:20.864 --> 00:04:27.270\nBut with MIM 2016 SP1, we do support the\nuse of Server 2016 as an underlying OS.\n\n86\n00:04:27.270 --> 00:04:30.200\nThat is probably important for\nyou just to be aware of,\n\n87\n00:04:30.200 --> 00:04:31.662\neven though I didn't put it in there.\n\n88\n00:04:31.662 --> 00:04:34.000\nAnd we'll adjust the show notes\njust to make sure it reflects that,\n\n89\n00:04:34.000 --> 00:04:35.110\nnow that I'm thinking about it.\n\n90\n00:04:35.110 --> 00:04:37.610\nBut it's good for you to know that\nif you're ever asked about it.\n\n91\n00:04:37.610 --> 00:04:42.260\nOn the database side, SQL 2014,\nas you can see, SQL 2012, SQL 2008.\n\n92\n00:04:42.260 --> 00:04:44.267\nWe go all the way back there as well.\n\n93\n00:04:44.267 --> 00:04:47.740\nSQL 2016 support with\nMIM 2016 SP1 as well.\n\n94\n00:04:47.740 --> 00:04:52.480\nCan you believe we actually have SQL\n2017 about to be released right now?\n\n95\n00:04:52.480 --> 00:04:53.085\nThat's like kind of crazy.\n\n96\n00:04:53.085 --> 00:04:53.762\n&gt;&gt; That is kind of crazy.\n\n97\n00:04:53.762 --> 00:04:55.280\n&gt;&gt; Yeah.\n&gt;&gt; Makes sense though.\n\n98\n00:04:55.280 --> 00:04:56.730\n&gt;&gt; It does.\n\n99\n00:04:56.730 --> 00:04:58.055\n&gt;&gt; We are in 2017.\n&gt;&gt; We are right now, but\n\n100\n00:04:58.055 --> 00:05:00.740\nof course by the time people see this,\nwho knows where we'll be.\n\n101\n00:05:00.740 --> 00:05:03.640\nWe could be in 2018\n&gt;&gt; [LAUGH]\n\n102\n00:05:03.640 --> 00:05:04.280\n&gt;&gt; Hard to say.\n\n103\n00:05:04.280 --> 00:05:04.950\n&gt;&gt; Yeah.\n\n104\n00:05:04.950 --> 00:05:07.771\n&gt;&gt; All right so anyway,\nwe do have all of that.\n\n105\n00:05:07.771 --> 00:05:11.990\nWe do have the active directory,\nAD domain functional level.\n\n106\n00:05:11.990 --> 00:05:16.800\nYou can see there at least 2008 R2,\nas you can see that should not be R2 SP1.\n\n107\n00:05:16.800 --> 00:05:18.790\nThat should be 2000.\n\n108\n00:05:18.790 --> 00:05:19.995\nI've got to clean up those notes.\n\n109\n00:05:19.995 --> 00:05:23.310\nThat should actually be\nlike that right there.\n\n110\n00:05:23.310 --> 00:05:28.321\nBut we do have 2012, 12 R2 and our 2008,\nin terms of the domain functional level.\n\n111\n00:05:28.321 --> 00:05:32.390\nSharePoint needs to be installed and\nconfigured as part of the portal.\n\n112\n00:05:32.390 --> 00:05:39.365\nHosting capabilities, so SharePoint 2013\nor 2016 can be used, so we have that.\n\n113\n00:05:39.365 --> 00:05:43.128\nIf we are using PAM, the Privileged\nAccount Management, we can go in and\n\n114\n00:05:43.128 --> 00:05:47.448\nset up, as you'll see, into a separate\nActive Directory forest configured by and\n\n115\n00:05:47.448 --> 00:05:51.130\nusing a one-way trust relationship\nwith the production forest.\n\n116\n00:05:51.130 --> 00:05:55.655\nThis is that idea of the ESAE\narchitecture that we were talking about.\n\n117\n00:05:55.655 --> 00:05:58.856\nAnd if you haven't seen that episode,\ngo back and take a look, but\n\n118\n00:05:58.856 --> 00:06:02.405\nthe Enhanced Security Administrative\nEnvironment is what were thinking\n\n119\n00:06:02.405 --> 00:06:03.461\nof there.\n\n120\n00:06:03.461 --> 00:06:05.203\nWe do, if we are doing reporting,\n\n121\n00:06:05.203 --> 00:06:09.481\nrequire System Center Service Manager, so\nwe have to have that capability as well.\n\n122\n00:06:09.481 --> 00:06:13.662\nAgain, we can use the more recent\nversion if we are using the 2016\n\n123\n00:06:13.662 --> 00:06:14.970\nSP1 version there.\n\n124\n00:06:14.970 --> 00:06:19.130\nSo I just want to make sure we have just a\ngeneral idea of some of the requirements.\n\n125\n00:06:19.130 --> 00:06:21.630\nWe do have fairly detailed set of\n\n126\n00:06:24.060 --> 00:06:26.384\nservice accounts that are required\nto configure and install.\n\n127\n00:06:26.384 --> 00:06:28.750\nSo I'm gonna show you a PowerShell\nscript that will let you go through and\n\n128\n00:06:28.750 --> 00:06:31.720\nconfigure, all of this is part\nof the install documentation.\n\n129\n00:06:31.720 --> 00:06:34.430\nI don't have a complete list of them, but\nI have most of them listed here for you.\n\n130\n00:06:34.430 --> 00:06:38.873\nI do reference the fact that with SP1 we\ndo get the ability to use Server 2016 for\n\n131\n00:06:38.873 --> 00:06:41.770\nhosting, so you can see that there,\nas I mentioned.\n\n132\n00:06:41.770 --> 00:06:44.130\nDo have a list there for\nyou of the supported configurations.\n\n133\n00:06:44.130 --> 00:06:46.530\nYou could take a look at that\nURL if you're interested.\n\n134\n00:06:46.530 --> 00:06:48.304\nThe service accounts, which again,\n\n135\n00:06:48.304 --> 00:06:51.251\nyou'll just want to have a high\nlevel thought process around.\n\n136\n00:06:51.251 --> 00:06:54.484\nThe MIM Service account,\nthe Managed Agent service account,\n\n137\n00:06:54.484 --> 00:06:58.480\nthe PAM Monitoring Service account and\nPAM component service accounts.\n\n138\n00:06:58.480 --> 00:07:00.630\nIf we're configuring PAM,\nwe may or may not.\n\n139\n00:07:00.630 --> 00:07:03.300\nThe Synchronization Service\nwill also be there.\n\n140\n00:07:03.300 --> 00:07:06.560\nSo we're going to need several accounts,\nthere are actually a few more, but\n\n141\n00:07:06.560 --> 00:07:08.740\nthese are the main ones\nthat get configured.\n\n142\n00:07:08.740 --> 00:07:12.520\nWe also need to provide credentials\nwhen we are deploying and using them.\n\n143\n00:07:12.520 --> 00:07:16.610\nWe'll need the SharePoint server admin\naccount that was used to set up and deploy\n\n144\n00:07:16.610 --> 00:07:20.480\nSharePoint, and SQL Server is used on the\nback end, as you know, for our database.\n\n145\n00:07:20.480 --> 00:07:23.750\nSo we need the account that is used\nto configure and stand up SQL.\n\n146\n00:07:23.750 --> 00:07:27.760\nIf SharePoint is running, you're using SQL\nto back-end SharePoint and store data.\n\n147\n00:07:27.760 --> 00:07:31.324\nIt's typically going to be that SQL\ninstall that you're going to target, but\n\n148\n00:07:31.324 --> 00:07:31.920\nnot always.\n\n149\n00:07:31.920 --> 00:07:33.300\nYou may have a separate one, so\n\n150\n00:07:33.300 --> 00:07:36.750\nyou may use the SQL Server account that\nwas configured along with SharePoint.\n\n151\n00:07:36.750 --> 00:07:37.800\nYou may use a different one, so\n\n152\n00:07:37.800 --> 00:07:41.890\nit'll be up to you to decide how you're\ngoing to approach that, just so you know.\n\n153\n00:07:41.890 --> 00:07:45.586\nBut in terms of the rights that\nare assigned to service accounts, again,\n\n154\n00:07:45.586 --> 00:07:48.747\nall this comes right out of\nthe installation documentation for\n\n155\n00:07:48.747 --> 00:07:50.477\nMicrosoft Identity Manager, but\n\n156\n00:07:50.477 --> 00:07:53.718\nyou can go through and\nsee I've detailed out the rights for you.\n\n157\n00:07:53.718 --> 00:07:58.369\nLog on as a service account, deny access\nto this computer from the network,\n\n158\n00:07:58.369 --> 00:08:03.036\ndeny sign in locally, deny sign in as\na batch job, deny sign in through RDS.\n\n159\n00:08:03.036 --> 00:08:05.980\nAnd I listed the accounts that have to\nhave these rights assigned or blocked,\n\n160\n00:08:05.980 --> 00:08:07.669\ndepending on what you're thinking about.\n\n161\n00:08:07.669 --> 00:08:11.799\nA lot of people often will hear something\nlike this for service account creation and\n\n162\n00:08:11.799 --> 00:08:15.170\nsay well that's great, but\nhow do I actually assign those rights?\n\n163\n00:08:15.170 --> 00:08:19.640\nHow do I prevent something from logging on\nlocally or deny sign-in as a batch job?\n\n164\n00:08:19.640 --> 00:08:22.542\nSo I'm gonna walk you through how\nto actually see what this is and\n\n165\n00:08:22.542 --> 00:08:25.553\nhow we do it, because not everybody\nrealizes that you're gonna go\n\n166\n00:08:25.553 --> 00:08:29.156\nin to the local security policy editor on\nthe machine you're going to target for\n\n167\n00:08:29.156 --> 00:08:31.630\ninstallation, which is\nwhat we're gonna do.\n\n168\n00:08:31.630 --> 00:08:34.290\nAnd you're gonna configure\nthe local security policy.\n\n169\n00:08:34.290 --> 00:08:38.740\nAnd assign, allow, or deny rights as\nneeded, based on the hit list here or\n\n170\n00:08:38.740 --> 00:08:40.790\nany list you wanna assign\nto service accounts.\n\n171\n00:08:40.790 --> 00:08:43.670\nYou're gonna go through and modify the\nlocal security policy in order to do that.\n\n172\n00:08:43.670 --> 00:08:46.780\nSo let's just take a quick look and\nsee how that works as well.\n\n173\n00:08:46.780 --> 00:08:51.720\nAnd then once we get all that stood up,\nremember, PAM is a separate module we can\n\n174\n00:08:51.720 --> 00:08:55.170\ninstall that support or not,\nit'll depend on what we want to do.\n\n175\n00:08:55.170 --> 00:08:59.080\nBut if we do choose to put PAM in play,\nthe idea here,\n\n176\n00:08:59.080 --> 00:09:02.165\nusers are granted finite permissions,\nrather than\n\n177\n00:09:02.165 --> 00:09:06.245\ngiving them permanent permissions we are\ngiving them for a finite amount of time.\n\n178\n00:09:06.245 --> 00:09:07.285\nWhen I say finite permissions,\n\n179\n00:09:07.285 --> 00:09:12.085\nI mean we're essentially allowing users\nto be granted information through\n\n180\n00:09:12.085 --> 00:09:17.030\ngranted permissions through temporary\nmembership in a security group that will\n\n181\n00:09:17.030 --> 00:09:20.430\nhave delegated privileges,\nallowing them to be given rights for\n\n182\n00:09:20.430 --> 00:09:23.710\na period of time to do certain things and\nthen removing them after the fact.\n\n183\n00:09:23.710 --> 00:09:26.810\nSo it's a temporary grant, or\nwhat we call a finite grant,\n\n184\n00:09:26.810 --> 00:09:29.030\na finite amount of permission is assigned.\n\n185\n00:09:29.030 --> 00:09:32.060\nThat's what PAM allows us\nto do as a thought process.\n\n186\n00:09:32.060 --> 00:09:35.290\nWe do have this administrative\nforest concept.\n\n187\n00:09:35.290 --> 00:09:36.190\nWhen we go through,\n\n188\n00:09:36.190 --> 00:09:39.520\nlet me just open this up so you can\nsee this real quick, give me a second.\n\n189\n00:09:39.520 --> 00:09:44.390\nI'll just bring back up the diagram\nthat we used in our prior episode.\n\n190\n00:09:44.390 --> 00:09:45.399\nWhere did I put that?\n\n191\n00:09:45.399 --> 00:09:49.095\nYes, it is right there,\nright, so when we do this,\n\n192\n00:09:49.095 --> 00:09:54.780\nif you've seen our episode on ESAE,\nyou'll remember this diagram, right?\n\n193\n00:09:54.780 --> 00:09:59.140\nThe idea is we're creating a separate\nforest with its own domain in the forest\n\n194\n00:09:59.140 --> 00:10:03.110\nto house or home these accounts that\nwe're going to be using and specifying.\n\n195\n00:10:03.110 --> 00:10:05.270\nAnd our production\nforest is kept separate,\n\n196\n00:10:05.270 --> 00:10:08.030\nso the idea here should be\nhopefully straightforward.\n\n197\n00:10:08.030 --> 00:10:11.554\nA trust relationship that allows us\nto indicate that users from the admin\n\n198\n00:10:11.554 --> 00:10:14.383\nforest will be trusted,\nto be able to be granted rights and\n\n199\n00:10:14.383 --> 00:10:17.059\ndo certain things over here\nin the production forest.\n\n200\n00:10:17.059 --> 00:10:21.020\nBut users in the production forest\nhave no rights in the admin forest.\n\n201\n00:10:21.020 --> 00:10:24.540\nThis is the idea behind ESAE that we\ntalked about in our other episode,\n\n202\n00:10:24.540 --> 00:10:26.040\nwhere we address this topic.\n\n203\n00:10:26.040 --> 00:10:29.468\nAnd this is the idea that we want\nto make sure we're clear on, so\n\n204\n00:10:29.468 --> 00:10:32.000\nthe picture helps us to see that.\n\n205\n00:10:32.000 --> 00:10:37.070\nAnd when we talk about this,\nI hate it when it does that.\n\n206\n00:10:37.070 --> 00:10:38.388\nYou click on something,\nthen it kinda goes and resets it.\n\n207\n00:10:38.388 --> 00:10:39.660\n&gt;&gt; It sticks to the top of the page, yeah.\n\n208\n00:10:39.660 --> 00:10:42.030\n&gt;&gt; So when we think about\nadministrative or bastion forest,\n\n209\n00:10:42.030 --> 00:10:45.430\nthis idea of the secure management forest,\nis what I was talking about.\n\n210\n00:10:45.430 --> 00:10:49.030\nThe admin forest I showed you at\nthe top left-hand side of the diagram.\n\n211\n00:10:49.030 --> 00:10:52.484\nConfigured as an ESAE forest in\nwhich you have deployed MIM 2016.\n\n212\n00:10:52.484 --> 00:10:57.930\nSo we'll deploy MIM into that\nadmin forest in my diagram.\n\n213\n00:10:57.930 --> 00:10:59.745\nAnd accounts from the bastion forest,\n\n214\n00:10:59.745 --> 00:11:03.375\nwhich is the admin forest in my diagram\nwhere group membership managed by MIM,\n\n215\n00:11:03.375 --> 00:11:05.795\nare used to perform administrative tasks,\nright?\n\n216\n00:11:05.795 --> 00:11:07.320\nSo, if we gonna set up and\n\n217\n00:11:07.320 --> 00:11:12.270\nconfigure PAM as a sub component of\nthe Microsoft Identity Manager, what we're\n\n218\n00:11:12.270 --> 00:11:17.145\ndoing is we're then installing the MIM\nproduct here as a server in this forest,\n\n219\n00:11:17.145 --> 00:11:21.621\nconfiguring all of the delegated\nbastion admin accounts here, right?\n\n220\n00:11:21.621 --> 00:11:25.814\nAnd then we're being able to use those\nto perform administrative solutions or\n\n221\n00:11:25.814 --> 00:11:30.080\nengage in administrative activities\nover here in our production forest.\n\n222\n00:11:30.080 --> 00:11:32.296\nWe're further isolating and\nsegmenting the management and\n\n223\n00:11:32.296 --> 00:11:34.608\nconfiguration of the user accounts,\nin other words with PAM.\n\n224\n00:11:34.608 --> 00:11:36.916\nAnd doing so in a secure, isolated way, so\n\n225\n00:11:36.916 --> 00:11:40.590\nthat way we're gonna be able to\ntightly lock down and control them.\n\n226\n00:11:40.590 --> 00:11:43.800\nThat's really the thought process\nthat we are gonna be targeting or\n\n227\n00:11:43.800 --> 00:11:45.810\ntrying to engage in here.\n\n228\n00:11:45.810 --> 00:11:47.850\nWe do our production forest,\nthe other forest,\n\n229\n00:11:47.850 --> 00:11:49.803\nwhere we do everything we\nneed to do as you saw.\n\n230\n00:11:49.803 --> 00:11:53.960\nWe have our PAM Client, this is PowerShell\nor rather a collection of PowerShell\n\n231\n00:11:53.960 --> 00:11:58.364\ncommandlets, and the ability to use a rest\nAPI, as you can see, that will allow us to\n\n232\n00:11:58.364 --> 00:12:01.799\ninteract with and provide the PAM\nfunctionality on the MIM side.\n\n233\n00:12:01.799 --> 00:12:05.160\nThis is all configured as\npart of installing the role.\n\n234\n00:12:05.160 --> 00:12:06.891\nSo we'll take a look at\nwhen we select that and\n\n235\n00:12:06.891 --> 00:12:08.591\ntalk about what that\nentails in the wizard.\n\n236\n00:12:08.591 --> 00:12:12.404\nAnd then the MIM service, which is what\nactually provides account management and\n\n237\n00:12:12.404 --> 00:12:16.120\nincludes the ability to essentially add\nand remove these groups as necessary.\n\n238\n00:12:16.120 --> 00:12:19.705\nSo let's go through,\nlet's actually take a look here [COUGH].\n\n239\n00:12:19.705 --> 00:12:20.916\nWe talked a bit about the thought process,\n\n240\n00:12:20.916 --> 00:12:22.640\nlet's talk about how you actually\ngot a hold of the product.\n\n241\n00:12:22.640 --> 00:12:26.090\nAnd then let's take a look at how you\nactually walk through and configure it.\n\n242\n00:12:26.090 --> 00:12:29.320\nSo, Microsoft Identity Manager 2016 SP1,\nall\n\n243\n00:12:29.320 --> 00:12:33.610\nI did was go out to Microsoft's TechNet\nEvaluation Center to get a valid copy.\n\n244\n00:12:33.610 --> 00:12:36.865\nSo can get an ISO that you can download,\ngood for 180 days, right?\n\n245\n00:12:36.865 --> 00:12:41.196\nSo you can see we just went out, all I\ndid was just simply do a search for and\n\n246\n00:12:41.196 --> 00:12:44.962\nyou can literally just search for\nMIM 2016 SP1 download.\n\n247\n00:12:44.962 --> 00:12:47.423\nYou'll be brought to this TechNet link or\n\n248\n00:12:47.423 --> 00:12:51.062\nwhatever the equivalent is when\nyou decide to search for it.\n\n249\n00:12:51.062 --> 00:12:52.612\nIt comes up looking like this,\n\n250\n00:12:54.212 --> 00:12:57.032\nall you need to do is just go\nin under the download area.\n\n251\n00:12:57.032 --> 00:12:59.515\nIt does say, hey, you want to register,\nbecause I've already registered,\n\n252\n00:12:59.515 --> 00:13:00.917\nI already have access\nto the download link.\n\n253\n00:13:00.917 --> 00:13:04.457\nRegister is just provide a name,\nan email address, a country of origin,\n\n254\n00:13:04.457 --> 00:13:06.238\nyou don't have to do anything else.\n\n255\n00:13:06.238 --> 00:13:09.741\nYou don't have to sign in anywhere,\nI'm not signed in right now.\n\n256\n00:13:09.741 --> 00:13:13.211\nI just did that and all I got, at that\npoint, was simply a link to download.\n\n257\n00:13:13.211 --> 00:13:16.251\nYou click download,\nit lets you download this ISO.\n\n258\n00:13:16.251 --> 00:13:18.571\nWhen you do that, I downloaded the ISO,\n\n259\n00:13:18.571 --> 00:13:21.061\nput it on my desktop right\nhere as you can see.\n\n260\n00:13:21.061 --> 00:13:24.011\nI'm just sitting inside one of my\ndemo machines with SharePoint and\n\n261\n00:13:24.011 --> 00:13:27.260\nSQL already up and running and\ninstalled, just so we can go through,\n\n262\n00:13:27.260 --> 00:13:29.440\nwalk through the wizard,\nshow you what it looks like.\n\n263\n00:13:29.440 --> 00:13:32.560\nWhen you do that,\njust click on the ISO to open it up.\n\n264\n00:13:32.560 --> 00:13:34.408\nThe file structure looks like this.\n\n265\n00:13:34.408 --> 00:13:40.630\nThere's a FIMSplash.html file,\ndon't let the FIM fool you.\n\n266\n00:13:40.630 --> 00:13:43.157\nIt is Microsoft information or\nMicrosoft Identity Manager.\n\n267\n00:13:43.157 --> 00:13:46.347\nBut remember I said, this takes over for\na product called FIM and\n\n268\n00:13:46.347 --> 00:13:50.088\nthe Forefront identity management\nproduct is what this used to be called.\n\n269\n00:13:50.088 --> 00:13:55.482\nAnd they just happened to name that\nfile FIMSplash instead of MIM splash,\n\n270\n00:13:55.482 --> 00:14:00.441\nbut when we do that and we open that up,\nwhat we get is the following,\n\n271\n00:14:00.441 --> 00:14:02.709\nMicrosoft Identity Manager.\n\n272\n00:14:02.709 --> 00:14:06.660\nThis is essentially the content of the\nHTML file, and we have the links to all\n\n273\n00:14:06.660 --> 00:14:10.763\nthe different things we have to install\nright here, the installation guide.\n\n274\n00:14:10.763 --> 00:14:14.695\nSo I mentioned all of the content that\nwe're gonna go through, all the stuff I\n\n275\n00:14:14.695 --> 00:14:18.690\nshowed you in the show notes, a list\nof all the accounts we have to create.\n\n276\n00:14:18.690 --> 00:14:21.664\nAll that is hosted on the web,\nwhen you click on that link,\n\n277\n00:14:21.664 --> 00:14:25.515\nyou're gonna be able to go out, and\nyou're gonna be able to go right here.\n\n278\n00:14:25.515 --> 00:14:26.935\nIt takes you to this link, or\n\n279\n00:14:26.935 --> 00:14:30.074\nthe equivalent of this link by\nthe time you do it, whatever this\n\n280\n00:14:30.074 --> 00:14:34.450\nis gonna become in however many months it\nis from now, by the time you see this.\n\n281\n00:14:34.450 --> 00:14:38.280\nBut for now, it's Deploy MIM 2016,\nyou can see it here.\n\n282\n00:14:38.280 --> 00:14:40.230\nAnd you just follow the steps.\n\n283\n00:14:40.230 --> 00:14:42.793\nAnd literally, this is one of those\ngreat websites where every step,\n\n284\n00:14:42.793 --> 00:14:44.541\nas you can see here on the left,\nis broken down.\n\n285\n00:14:44.541 --> 00:14:46.340\n&gt;&gt; Just additional information?\n\n286\n00:14:46.340 --> 00:14:49.080\n&gt;&gt; It's got detailed instructions on how\nto do everything, I'm gonna walk you\n\n287\n00:14:49.080 --> 00:14:52.080\nthrough at a high level in the next few\nminutes and just kind of demo for you.\n\n288\n00:14:52.080 --> 00:14:55.607\nHow we do the domain set up, how we do\nthe initial set up of the Windows server,\n\n289\n00:14:55.607 --> 00:14:56.382\nsetting up SQL.\n\n290\n00:14:56.382 --> 00:15:00.036\nSetting up the SharePoint installation,\nif you haven't done SharePoint or SQL or\n\n291\n00:15:00.036 --> 00:15:03.583\nboth before you don't have an existing\none, you wanna set them up from scratch,\n\n292\n00:15:03.583 --> 00:15:04.805\nsecure them the right way.\n\n293\n00:15:04.805 --> 00:15:08.520\nIt gives you very detailed guidance\nhow to do every aspect of this.\n\n294\n00:15:08.520 --> 00:15:12.325\nWe may wanna use an Exchange server for\nthe ability to be able to send and\n\n295\n00:15:12.325 --> 00:15:16.650\nreceive email messages or an SMTP relay,\nso we can do Exchange or we can leverage\n\n296\n00:15:16.650 --> 00:15:21.037\njust the SMTP functionality by installing\nit as a feature on one of the servers and\n\n297\n00:15:21.037 --> 00:15:23.970\nusing that as a relay, so\nwe have different options.\n\n298\n00:15:23.970 --> 00:15:26.172\nWe can even use Exchange Online\nif we want to and\n\n299\n00:15:26.172 --> 00:15:28.642\nhost this through Office 365 in the cloud.\n\n300\n00:15:28.642 --> 00:15:31.340\nRemember we'e talking about identity\nmanagement synchronization that may\n\n301\n00:15:31.340 --> 00:15:33.130\ninvolve cloud-based capabilities, right,\n\n302\n00:15:33.130 --> 00:15:36.370\nso this is possible to do in\na variety of different ways.\n\n303\n00:15:36.370 --> 00:15:38.247\nSo when you go through and\n\n304\n00:15:38.247 --> 00:15:41.240\nsee this, you get all the links here\nthat point to all the different things.\n\n305\n00:15:41.240 --> 00:15:45.810\nWhen you click on the domain or set up for\n\n306\n00:15:45.810 --> 00:15:48.740\na domain and you start going down,\nI said that one of the things you'll\n\n307\n00:15:48.740 --> 00:15:52.100\nsee is that there is guidance on how to\ncreate all of the user accounts required.\n\n308\n00:15:52.100 --> 00:15:53.656\nSo it talks to you about\nwhat you would do.\n\n309\n00:15:53.656 --> 00:15:57.570\nThere's a PowerShell script you can run\nhere that will import the module for\n\n310\n00:15:57.570 --> 00:15:59.234\nActive Directory management.\n\n311\n00:15:59.234 --> 00:16:00.876\nWe'll then go ahead, and obviously,\n\n312\n00:16:00.876 --> 00:16:03.178\nyou have to substitute in\nyour appropriate password.\n\n313\n00:16:03.178 --> 00:16:07.556\nAnd they give you a little guidance about\nthe variables here that they're using,\n\n314\n00:16:07.556 --> 00:16:10.221\nwhoever wrote this,\nwhich is pretty standard for\n\n315\n00:16:10.221 --> 00:16:12.440\nMicrosoft in their documentation.\n\n316\n00:16:12.440 --> 00:16:14.280\nThe CONTOSO domain or A Datum,\n\n317\n00:16:14.280 --> 00:16:17.800\nthose are domains we typically\nsee Microsoft uses all the time.\n\n318\n00:16:17.800 --> 00:16:20.170\nSo they have a standard domain there and\na password.\n\n319\n00:16:20.170 --> 00:16:22.700\nYou would just substitute in your\nown variables in the script,\n\n320\n00:16:22.700 --> 00:16:24.120\nas they tell you to do.\n\n321\n00:16:24.120 --> 00:16:28.230\nAnd then you'll see that it goes\nthrough and uses the new ADUser cmdlet,\n\n322\n00:16:28.230 --> 00:16:33.210\nalong with the Set-ADAccountPassword\ncmdlet and the Set-ADUser cmdlets.\n\n323\n00:16:33.210 --> 00:16:36.120\nIteratively, it just creates a whole\nseries of service accounts that\n\n324\n00:16:36.120 --> 00:16:38.170\nare then gonna be leveraged for\nthe install.\n\n325\n00:16:38.170 --> 00:16:41.712\nSo you can walk through, I didn't bother\nto do it this way, I just quickly\n\n326\n00:16:41.712 --> 00:16:45.330\ncreated about five or six admin accounts\nthat I need to act as service accounts.\n\n327\n00:16:45.330 --> 00:16:47.194\nSo my demo environment's\na little bit dirtier,\n\n328\n00:16:47.194 --> 00:16:49.568\nit's not gonna be quite as clean and\nnice and preconfigured.\n\n329\n00:16:49.568 --> 00:16:52.990\nBut it's gonna still allow us to\nwalk through to see everything.\n\n330\n00:16:52.990 --> 00:16:54.768\nAnd I'm gonna show you what\nthose accounts are and\n\n331\n00:16:54.768 --> 00:16:56.006\nkind of why I created them as we go.\n\n332\n00:16:56.006 --> 00:17:00.389\nI'm also gonna show you, as I said, how to\nassign those specific rights that we need\n\n333\n00:17:00.389 --> 00:17:04.556\nin order to, in some cases, deny certain\nrights using local security policy.\n\n334\n00:17:04.556 --> 00:17:06.300\nI'll remind you of how to do that.\n\n335\n00:17:06.300 --> 00:17:09.520\nBut the documentation here is outstanding,\nso definitely taking a look,\n\n336\n00:17:09.520 --> 00:17:12.891\nwalking through in end will help you to\nget a sense of all of the service accounts\n\n337\n00:17:12.891 --> 00:17:13.419\nrequired.\n\n338\n00:17:13.419 --> 00:17:15.423\nBecause there are a great number of them,\nand\n\n339\n00:17:15.423 --> 00:17:18.293\nthe naming convention that they\nrecommend here as well is good.\n\n340\n00:17:18.293 --> 00:17:23.020\nMIMma for the, as you could see,\nthe first account, then MIMsync,\n\n341\n00:17:23.020 --> 00:17:27.178\nand then MIMservice, right,\nand SharePoint, right, for\n\n342\n00:17:27.178 --> 00:17:31.025\nthe SharePoint account name and\nall that kind of stuff.\n\n343\n00:17:31.025 --> 00:17:33.331\nSo it follows a logic,\nit's fairly straightforward.\n\n344\n00:17:33.331 --> 00:17:36.281\nBut you obviously have to decide if\nthat naming convention works for\n\n345\n00:17:36.281 --> 00:17:38.622\nyour organization,\nif you wanna do something else.\n\n346\n00:17:38.622 --> 00:17:43.700\nSo would encourage you to take a look\nat that link off of the install media.\n\n347\n00:17:43.700 --> 00:17:45.560\nTakes you out to the web, which is great.\n\n348\n00:17:45.560 --> 00:17:47.070\nI clicked on Install Service and\n\n349\n00:17:47.070 --> 00:17:50.530\nPortal right up here to\nlaunch the install wizard.\n\n350\n00:17:50.530 --> 00:17:53.230\nJust gonna minimize this real quick,\nso you can see that.\n\n351\n00:17:53.230 --> 00:17:56.780\nThat brings up this right here, and\nwe're gonna start walking through\n\n352\n00:17:56.780 --> 00:17:59.400\nin order to ensure that we can\nsee all the steps involved.\n\n353\n00:17:59.400 --> 00:18:00.650\nNow, couple of things we had to do.\n\n354\n00:18:00.650 --> 00:18:03.600\nCouple things I wanna show\nyou before we get started.\n\n355\n00:18:03.600 --> 00:18:06.250\nNumber one,\nI have SQL Server running here, so\n\n356\n00:18:06.250 --> 00:18:08.240\nI'm connected to SQL management studio.\n\n357\n00:18:08.240 --> 00:18:10.520\nThis is a SQL 12 instance.\n\n358\n00:18:10.520 --> 00:18:11.930\nSo actually it's 12, yeah, it's 12.\n\n359\n00:18:11.930 --> 00:18:15.956\nSo I can go through and see all\nthe SharePoint databases that are already\n\n360\n00:18:15.956 --> 00:18:18.990\nsitting here,\nof SharePoint through team install.\n\n361\n00:18:18.990 --> 00:18:22.955\nSo I'm using some of the middle of the\nroad configurations, writing up the lowest\n\n362\n00:18:22.955 --> 00:18:26.685\ncommon denominators, but\nnot the most recent newest ones either.\n\n363\n00:18:26.685 --> 00:18:30.708\nSo you could see that I obviously would\nwanna know the name of the database server\n\n364\n00:18:30.708 --> 00:18:31.681\nand the instance.\n\n365\n00:18:31.681 --> 00:18:34.937\nSo I'm gonna need to know that, so I have\nconnected just to ensure I can see that.\n\n366\n00:18:34.937 --> 00:18:38.248\nIn addition, let's minimize that,\nI've gone in,\n\n367\n00:18:38.248 --> 00:18:43.160\nI've gone to the control panel,\nI've opened up my local security policy.\n\n368\n00:18:43.160 --> 00:18:46.130\nSo remember we have all these requirements\nfor service accounts that we would have\n\n369\n00:18:46.130 --> 00:18:50.710\nto grant or deny rights to for a variety\nof things, like log on as a service, etc.\n\n370\n00:18:50.710 --> 00:18:55.607\nSo you could see I've just gone in,\nI've opened up the local policy on\n\n371\n00:18:55.607 --> 00:18:59.434\nthe machine that I'm going\nto install as a MIM server.\n\n372\n00:18:59.434 --> 00:19:03.110\nSo this is a member of the domain,\nbut not a domain controller.\n\n373\n00:19:03.110 --> 00:19:06.200\nAnd I've gone ahead, opened up my\nsecurity settings, local policies,\n\n374\n00:19:06.200 --> 00:19:07.890\nuser rights assignment area.\n\n375\n00:19:07.890 --> 00:19:11.384\nI've gone in and highlighted the first of\nseveral I may need to modify as rights.\n\n376\n00:19:11.384 --> 00:19:13.524\nI'll log on as a server, so\nI would just double click.\n\n377\n00:19:13.524 --> 00:19:18.141\nYou do have to grant or give the service\naccounts the right to log on as a service.\n\n378\n00:19:18.141 --> 00:19:20.275\nI would come in here, add user or group.\n\n379\n00:19:20.275 --> 00:19:24.445\nI would then specify from the directory,\nfrom the domain, the name of the service\n\n380\n00:19:24.445 --> 00:19:28.400\naccounts that I've created and give\nthem this right, add them to this list.\n\n381\n00:19:28.400 --> 00:19:32.419\nAnd on my domain controller,\nwhich is over here,\n\n382\n00:19:32.419 --> 00:19:36.256\nI have a set of service\naccounts I've created.\n\n383\n00:19:36.256 --> 00:19:38.740\nYou could see them sitting down here.\n\n384\n00:19:38.740 --> 00:19:42.865\nI named them things like MMEMAIL.ACCOUNT\nfor the email account, all right, MMMA for\n\n385\n00:19:42.865 --> 00:19:45.130\nthe initial administrative account.\n\n386\n00:19:45.130 --> 00:19:49.614\nMMPAMM rights, so for the PAMM agent\naccount, the PAMMSYNC.ACCOUNT,\n\n387\n00:19:49.614 --> 00:19:51.810\nthe MMSERVICE.ACCOUNT, etc.\n\n388\n00:19:51.810 --> 00:19:52.963\nSo I've kind of just labelled them,\n\n389\n00:19:52.963 --> 00:19:54.716\nso we can more or\nless keep track of them when we see them.\n\n390\n00:19:54.716 --> 00:19:57.075\nIn the install,\nthey're all preconfigured already,\n\n391\n00:19:57.075 --> 00:19:58.881\ncuz I've already run through the wizard,\n\n392\n00:19:58.881 --> 00:20:02.440\nkind of populated all the information we\nneed, just so we can talk through it.\n\n393\n00:20:02.440 --> 00:20:04.443\nYou'll see that I had to\ncreate these accounts, right,\n\n394\n00:20:04.443 --> 00:20:05.790\nthey're not there by default.\n\n395\n00:20:05.790 --> 00:20:08.370\nSo I went into the domain,\nright clicked New User.\n\n396\n00:20:08.370 --> 00:20:09.970\nNo special kind of account,\n\n397\n00:20:09.970 --> 00:20:13.440\njust a standard user account,\ngave it a standard password.\n\n398\n00:20:13.440 --> 00:20:16.490\nThen I'm gonna go and\nadd them to the lists on the local\n\n399\n00:20:16.490 --> 00:20:20.040\nsecurity policy to grant or deny\nthe appropriate rights as needed, right?\n\n400\n00:20:20.040 --> 00:20:21.900\nSo that's one of the key requirements.\n\n401\n00:20:21.900 --> 00:20:24.388\nYou would obviously have to do\nall this background work, or\n\n402\n00:20:24.388 --> 00:20:27.077\nif you follow the install\ndocumentation guidance I showed you,\n\n403\n00:20:27.077 --> 00:20:30.337\nthey have PowerShell scripts that'll\nactually configure all this for you.\n\n404\n00:20:30.337 --> 00:20:33.383\nAll right, so you can actually automate a\nlot of space in the PowerShell script, so\n\n405\n00:20:33.383 --> 00:20:34.895\nit will be up to you to decide.\n\n406\n00:20:34.895 --> 00:20:38.385\nI want the old school way of doing it\nby hand, but you can do either way.\n\n407\n00:20:38.385 --> 00:20:41.465\nAnd either way will work just fine,\nit's really just up to you to decide.\n\n408\n00:20:41.465 --> 00:20:42.976\nSo, I'm not gonna bother\nto add the account in here,\n\n409\n00:20:42.976 --> 00:20:44.262\nI just wanted to show\nyou how this would work.\n\n410\n00:20:44.262 --> 00:20:48.875\nAnd obviously give you an understanding of\nhow to do that in case you're interested.\n\n411\n00:20:48.875 --> 00:20:50.532\nCuz we get a lot of\npeople that ask that hey,\n\n412\n00:20:50.532 --> 00:20:52.780\nhow do we assign those permissions or\ndeny them?\n\n413\n00:20:52.780 --> 00:20:57.050\nI'm going in, you're right clicking\nAdd Permission on the account and\n\n414\n00:20:57.050 --> 00:20:58.730\nexpose the security tab.\n\n415\n00:20:58.730 --> 00:20:59.820\nI don't see all those permissions.\n\n416\n00:20:59.820 --> 00:21:00.700\nWhy aren't they there?\n\n417\n00:21:00.700 --> 00:21:02.220\nWell, cuz they're not permissions,\nthey're rights.\n\n418\n00:21:02.220 --> 00:21:04.980\nSo we have to go and edit the security\npolicy in order to do that.\n\n419\n00:21:04.980 --> 00:21:08.810\nPeople often get that confused, so\njust wanna make sure you're clear on that.\n\n420\n00:21:08.810 --> 00:21:09.839\nAll right, so are we ready to begin?\n\n421\n00:21:09.839 --> 00:21:10.509\n&gt;&gt; I think so.\n\n422\n00:21:10.509 --> 00:21:12.420\n&gt;&gt; Got your-\n&gt;&gt; Let's do it.\n\n423\n00:21:12.420 --> 00:21:13.630\n&gt;&gt; Mind safety pass?\n\n424\n00:21:13.630 --> 00:21:15.990\n&gt;&gt; Yeah, and I got my helmet on and\nmy knee pads and everything.\n\n425\n00:21:15.990 --> 00:21:17.268\n&gt;&gt; And your permission slip and all that?\n\n426\n00:21:17.268 --> 00:21:19.495\n[CROSSTALK] Okay, all right, so we're\ngonna go ahead, we're gonna get started.\n\n427\n00:21:19.495 --> 00:21:22.541\nSo this is what the install looks like,\nright, we're gonna click Next.\n\n428\n00:21:22.541 --> 00:21:26.408\nJust standard accept the end user\nlicense agreement, nothing fancy there,\n\n429\n00:21:26.408 --> 00:21:28.980\nobviously have to check\noff the box to do that.\n\n430\n00:21:28.980 --> 00:21:30.822\nClick Next,\nwe then have the option to opt in or\n\n431\n00:21:30.822 --> 00:21:33.154\nopt out of the customer\nexperience improvement program.\n\n432\n00:21:33.154 --> 00:21:37.620\nI just opted out for\npurposes of the demonstration, so no.\n\n433\n00:21:37.620 --> 00:21:41.757\nThen we get in and start making decisions\nabout what components we're gonna install\n\n434\n00:21:41.757 --> 00:21:45.269\nand mention we can install PAM and\nmention we have MME reporting there.\n\n435\n00:21:45.269 --> 00:21:47.915\nSo we have different options, by default.\n\n436\n00:21:47.915 --> 00:21:52.406\nBy the way, both MME reporting and\nprivileged access management,\n\n437\n00:21:52.406 --> 00:21:55.840\nI keep saying privileged\naccount management.\n\n438\n00:21:55.840 --> 00:21:59.010\nPrivileged access management,\nPAM, are deselected.\n\n439\n00:21:59.010 --> 00:22:01.140\nThey will have red Xs for both.\n\n440\n00:22:01.140 --> 00:22:04.850\nI've unchecked or selected and\ngotten rid of the X for\n\n441\n00:22:04.850 --> 00:22:08.190\nPAM because I wanna show\nyou the configuration.\n\n442\n00:22:08.190 --> 00:22:11.480\nBut if we do MME reporting,\nthere's an additional requirement.\n\n443\n00:22:11.480 --> 00:22:15.030\nWe need to have System Center\nService Manager installed and\n\n444\n00:22:15.030 --> 00:22:17.290\navailable in the domain somewhere as well.\n\n445\n00:22:17.290 --> 00:22:20.400\nBecause that's where the reporting\nis gonna be synced up to.\n\n446\n00:22:20.400 --> 00:22:22.287\nSo I don't have that installed and\n\n447\n00:22:22.287 --> 00:22:24.118\nconfigured in this\nparticular demo environment.\n\n448\n00:22:24.118 --> 00:22:27.649\nSo I've deselected that because I'll get\nan error as I get started, saying hey,\n\n449\n00:22:27.649 --> 00:22:30.174\nyou don't have access to\nSystem Center Service Manager.\n\n450\n00:22:30.174 --> 00:22:32.782\nAnd you're not gonna be able to do\nthis part of the configuration.\n\n451\n00:22:32.782 --> 00:22:37.545\nSo just so you know, that's why\nthat is deselected, but by default,\n\n452\n00:22:37.545 --> 00:22:41.681\nboth MME reporting, or MIM,\nI guess, is probably better.\n\n453\n00:22:41.681 --> 00:22:43.665\nI keep saying MME, MIM reporting.\n\n454\n00:22:43.665 --> 00:22:44.987\n&gt;&gt; Yeah, I'm over here, you guys.\n\n455\n00:22:44.987 --> 00:22:48.594\n&gt;&gt; Yeah, you're doing miming, yes,\nMIM, right, so MIM reporting and\n\n456\n00:22:48.594 --> 00:22:53.340\nprivileged access management, PAM, will\nbe deselected, but I have selected PAM.\n\n457\n00:22:53.340 --> 00:22:56.810\nAll the other options, the portal,\nthe password registration portal,\n\n458\n00:22:56.810 --> 00:23:00.140\npassword reset portal for self service\npassword management, as we talked about,\n\n459\n00:23:00.140 --> 00:23:03.250\none of the key drivers for\nusing MIM will be selected.\n\n460\n00:23:03.250 --> 00:23:07.040\nOkay, so we're gonna go ahead, and we\ncan check disk usage here if we need to,\n\n461\n00:23:07.040 --> 00:23:08.088\nwe're gonna click Next.\n\n462\n00:23:08.088 --> 00:23:11.322\nWe then now are asked to provide\nthe name of the database server, and\n\n463\n00:23:11.322 --> 00:23:13.268\nthe database name we're gonna create.\n\n464\n00:23:13.268 --> 00:23:15.309\nYou'll notice I've already\npre-populated those.\n\n465\n00:23:15.309 --> 00:23:18.690\nI went and checked,\ngot the name of my database server.\n\n466\n00:23:18.690 --> 00:23:22.550\nNotice, by the way, that the database name\nby default is the fin service, again,\n\n467\n00:23:22.550 --> 00:23:26.605\nreferencing the earlier versions of this\nproduct that we are now taking over for.\n\n468\n00:23:26.605 --> 00:23:29.530\nMicrosoft's kind of famous for doing this,\nthey don't necessarily go in and\n\n469\n00:23:29.530 --> 00:23:33.120\nrename things because of continuity,\nbackwards compatibility, and\n\n470\n00:23:33.120 --> 00:23:34.750\nmixed environment, things like that.\n\n471\n00:23:34.750 --> 00:23:38.400\nSo, we tend to carry those things\nforward for generations of products.\n\n472\n00:23:38.400 --> 00:23:44.051\nAnd fin is a reference to the identity\nmanager product came before this.\n\n473\n00:23:44.051 --> 00:23:46.970\nSo, the fin service database,\nare we gonna create a new one, or\n\n474\n00:23:46.970 --> 00:23:48.060\nwe use an existing one?\n\n475\n00:23:48.060 --> 00:23:51.700\nUp to us, default was to create a new one,\nso I'm gonna go with that.\n\n476\n00:23:53.310 --> 00:23:56.139\nClick Next,\nwe have to specify an email server.\n\n477\n00:23:56.139 --> 00:23:59.979\nAnd again, I have said we could use\nExchange, Exchange online, as you'll\n\n478\n00:23:59.979 --> 00:24:04.120\nnotice there's an option check, not\nchecked off but capable of being selected.\n\n479\n00:24:04.120 --> 00:24:06.781\nAnd or we can use an SMTP relay.\n\n480\n00:24:06.781 --> 00:24:11.716\nI've gone ahead and just installed the\nSMTP feature on the domain controller just\n\n481\n00:24:11.716 --> 00:24:13.800\nso I can point to it and specify it.\n\n482\n00:24:13.800 --> 00:24:17.750\nSo plubsp01practicelabs.com for\nthe name of the mail server,\n\n483\n00:24:17.750 --> 00:24:22.085\nruns SMTP functionality and\nI'm able the then get past this screen.\n\n484\n00:24:22.085 --> 00:24:24.515\nSo I'm enabling the use of SSL.\n\n485\n00:24:24.515 --> 00:24:32.645\nThe mail server is either Exchange 2010\nand or Server 2007 or 2010, up to me.\n\n486\n00:24:32.645 --> 00:24:36.865\nSo if I want and I'm using an Exchange\nserver, I would check those off.\n\n487\n00:24:36.865 --> 00:24:40.710\nIf I'm not, then obviously I can\ndeselect as you'll see there.\n\n488\n00:24:40.710 --> 00:24:45.440\nAnd unselect those, and then, I'm using\nSSL with that machine, with SMTP, right?\n\n489\n00:24:45.440 --> 00:24:46.070\nSo I have that.\n\n490\n00:24:47.500 --> 00:24:51.450\nPlease select a certificate the service\nshould use to allow clients to validate\n\n491\n00:24:51.450 --> 00:24:52.340\nthe server.\n\n492\n00:24:52.340 --> 00:24:55.742\nIf you have not seen our\ndiscussions about directory ADCS,\n\n493\n00:24:55.742 --> 00:25:00.582\nActivity Directory Certificate Services,\nobviously good to take a look at those.\n\n494\n00:25:00.582 --> 00:25:04.336\nIn the identity for Server 16 shows\nthat Cherokee and I did, do an entire,\n\n495\n00:25:04.336 --> 00:25:06.154\nit's like five or six shows or five or\n\n496\n00:25:06.154 --> 00:25:10.170\nsix episodes if I remember it correctly\non certificate services we did, right?\n\n497\n00:25:10.170 --> 00:25:12.544\n&gt;&gt; Yeah.\n&gt;&gt; Whole very deep dive conversation about\n\n498\n00:25:12.544 --> 00:25:14.480\ncertificates, how they are used.\n\n499\n00:25:14.480 --> 00:25:16.841\nSo you can go back,\ntake a look at that content,\n\n500\n00:25:16.841 --> 00:25:20.520\nif you're unfamiliar with the concepts\nassociated with certificates.\n\n501\n00:25:20.520 --> 00:25:23.670\nHow to setup a PKI,\nhow to issue certificates,\n\n502\n00:25:23.670 --> 00:25:25.300\nwhat certificates to used for.\n\n503\n00:25:25.300 --> 00:25:28.370\nWhy we may self sign versus\nissuing separate certificates,\n\n504\n00:25:28.370 --> 00:25:30.740\nall these things we talk\nabout all of that there.\n\n505\n00:25:30.740 --> 00:25:33.683\nSo we're not gonna get back in all\nthat here, but just reference it, so\n\n506\n00:25:33.683 --> 00:25:36.010\nyou know where to go look for\nit if you would like.\n\n507\n00:25:36.010 --> 00:25:39.890\nI'm generating a new self signed\ncertificate cuz we don't have a PKI\n\n508\n00:25:39.890 --> 00:25:43.195\ninstallation stood up ready to\ngo that I can issue against that\n\n509\n00:25:43.195 --> 00:25:45.195\nI have already issued a certificate from,\nin other words.\n\n510\n00:25:45.195 --> 00:25:49.245\nBut if I have my own enterprise root CA,\nI could issue a certificate,\n\n511\n00:25:49.245 --> 00:25:52.845\nand then I could select it from here,\nand I could simply import it and\n\n512\n00:25:52.845 --> 00:25:54.575\nhave it available in\nthe certificate store and use it.\n\n513\n00:25:54.575 --> 00:25:56.575\nSo I could go either way here,\nbut we'll just, for\n\n514\n00:25:56.575 --> 00:25:59.960\npurposes of demonstration, have the system\nself sign its own certificates.\n\n515\n00:25:59.960 --> 00:26:02.090\nSo we're gonna do that.\n\n516\n00:26:02.090 --> 00:26:06.700\nWe then have to provide information\nabout configuring the common services.\n\n517\n00:26:06.700 --> 00:26:08.670\nAnd so, you'll see here,\nService Account Name.\n\n518\n00:26:08.670 --> 00:26:12.870\nSo the first account that's going to be\nset up for the MIM service itself to run.\n\n519\n00:26:12.870 --> 00:26:15.485\nI called it MIM SVC for\nthe MIM service account,\n\n520\n00:26:15.485 --> 00:26:20.100\nI've provide the service account password,\nthe domain, the service email account.\n\n521\n00:26:20.100 --> 00:26:23.550\nSo I have an email account that\nI created called MIME email, so\n\n522\n00:26:23.550 --> 00:26:25.280\nI have that as well, right?\n\n523\n00:26:25.280 --> 00:26:28.963\nSo I've done all that, and\nthen, I go ahead, I click Next.\n\n524\n00:26:28.963 --> 00:26:32.290\nNow it says, service account is not\nsecure in its current configuration.\n\n525\n00:26:32.290 --> 00:26:34.670\nThat's okay,\nwe're still allowed to go forward.\n\n526\n00:26:34.670 --> 00:26:37.598\nThe reason it's not secure is\nthat I didn't go through and\n\n527\n00:26:37.598 --> 00:26:40.419\ndetail out all those rights\nthat we were talking about.\n\n528\n00:26:40.419 --> 00:26:43.616\nGive it, log on as a service,\ndeny log on over the network.\n\n529\n00:26:43.616 --> 00:26:46.977\nAll those things that we do in\nthe local security policy and edit and\n\n530\n00:26:46.977 --> 00:26:51.390\nthen apply have not been done because I\nwanted you to see that if we don't do them\n\n531\n00:26:51.390 --> 00:26:54.740\nwe can go through, step through\nthe configuration it will still work.\n\n532\n00:26:54.740 --> 00:26:55.991\nWe do get a warning, right?\n\n533\n00:26:55.991 --> 00:26:58.646\nIt's why we need those finger puppets\nwith yellow caution in there so\n\n534\n00:26:58.646 --> 00:27:01.340\nyou can put it up and you would see\nthose we've been talking about.\n\n535\n00:27:01.340 --> 00:27:03.045\n&gt;&gt; Yeah we've told them about that,\nI don't think it was-\n\n536\n00:27:03.045 --> 00:27:04.107\n&gt;&gt; No we havent.\n\n537\n00:27:04.107 --> 00:27:07.933\nFor more information about best practices,\nI have to secure this account,\n\n538\n00:27:07.933 --> 00:27:09.860\nplease look at the Help file, right?\n\n539\n00:27:09.860 --> 00:27:11.750\nSo we could actually go through and\n\n540\n00:27:11.750 --> 00:27:14.100\nconfigure this after\nthe fact if we need to.\n\n541\n00:27:14.100 --> 00:27:16.470\nIt's always better to have those\npermissions, those rights,\n\n542\n00:27:16.470 --> 00:27:18.860\nall things we need for\nservice accounts in place ahead of time.\n\n543\n00:27:18.860 --> 00:27:21.340\nBut it doesn't prevent us,\nit being the Install Wizard,\n\n544\n00:27:21.340 --> 00:27:23.990\ndoes not prevent us from going forward,\njust sternly warns us.\n\n545\n00:27:23.990 --> 00:27:25.815\nShake your finger and\nlook really mean, right?\n\n546\n00:27:25.815 --> 00:27:28.770\nSternly warns us, right,\nthat we should not do this.\n\n547\n00:27:28.770 --> 00:27:30.806\n&gt;&gt; [LAUGH]\n&gt;&gt; But we're able to go forward if we\n\n548\n00:27:30.806 --> 00:27:31.358\nwant to.\n\n549\n00:27:31.358 --> 00:27:32.610\nAll right, so we're gonna keep going.\n\n550\n00:27:32.610 --> 00:27:34.290\nWe know why we're seeing these warnings.\n\n551\n00:27:34.290 --> 00:27:37.210\nWe'll see them in a couple of places,\nbut you also know how to fix them.\n\n552\n00:27:37.210 --> 00:27:40.459\nBy applying all those rights to the local\nsecurity policy that we talked about and\n\n553\n00:27:40.459 --> 00:27:41.577\nadding those accounts in.\n\n554\n00:27:41.577 --> 00:27:43.760\nThat would get rid of these\nwarnings just so you know.\n\n555\n00:27:43.760 --> 00:27:46.839\nAll right, so then enter the information\nabout the MIM sync server.\n\n556\n00:27:46.839 --> 00:27:49.970\nSo I have to specify the name\nof the synchronization server.\n\n557\n00:27:49.970 --> 00:27:52.390\nI have to specify the agent accounts.\n\n558\n00:27:52.390 --> 00:27:58.040\nSo I've gone in and created in the form\nof domain right /username an account for\n\n559\n00:27:58.040 --> 00:27:59.560\nthe management agent.\n\n560\n00:27:59.560 --> 00:28:02.090\nSo I've showed you many of those\nserver accounts I've created.\n\n561\n00:28:02.090 --> 00:28:04.940\nSo MIM MA for management account is there.\n\n562\n00:28:06.700 --> 00:28:10.260\nThen it says, MIM sync server you have\nentered does not exist or is not running.\n\n563\n00:28:10.260 --> 00:28:11.430\nClick back to enter a different one.\n\n564\n00:28:11.430 --> 00:28:12.900\nWhat, hold on one second.\n\n565\n00:28:12.900 --> 00:28:13.400\nShould be.\n\n566\n00:28:16.521 --> 00:28:18.140\nBest piece, that's fine.\n\n567\n00:28:18.140 --> 00:28:19.156\nThat's actually, no, not a problem.\n\n568\n00:28:19.156 --> 00:28:20.629\nI realize, yeah, that's okay.\n\n569\n00:28:20.629 --> 00:28:22.282\nI did wanna show you this,\nwhy I configured it this way.\n\n570\n00:28:22.282 --> 00:28:23.717\nIt seems, wait a second, I set that up.\n\n571\n00:28:23.717 --> 00:28:26.104\nNo, I did not, but\nI didn't for a certain reason.\n\n572\n00:28:26.104 --> 00:28:29.960\nSo if you take a look again at what\npossible turns we make, and corners we\n\n573\n00:28:29.960 --> 00:28:34.397\ncome around and decisions that we have to\ndecide to either allow or make a different\n\n574\n00:28:34.397 --> 00:28:38.630\ndecision, and go back and fix something\nat a certain point in the install.\n\n575\n00:28:38.630 --> 00:28:40.500\nThis is another one of\nthe key break points.\n\n576\n00:28:40.500 --> 00:28:42.036\nCan we go full screen just so\nyou could read this,\n\n577\n00:28:42.036 --> 00:28:44.140\ncuz I don't want to read the entire\nthing off, maybe could see it.\n\n578\n00:28:44.140 --> 00:28:47.700\nIt says the MIM sync server you have\nentered does not exist or is not running.\n\n579\n00:28:47.700 --> 00:28:49.430\nClick back to setup a different one.\n\n580\n00:28:49.430 --> 00:28:52.330\nIf you plan to install the MIM\nsync server later, right?\n\n581\n00:28:52.330 --> 00:28:53.487\nKeep all that straight to my head.\n\n582\n00:28:53.487 --> 00:28:56.911\nI chose to do this so you could see\nthat we can opt through the install and\n\n583\n00:28:56.911 --> 00:28:57.770\ndo it later.\n\n584\n00:28:57.770 --> 00:28:59.248\nWe have that capability as well.\n\n585\n00:28:59.248 --> 00:29:02.896\nI purposely did not setup the sync server\nseparately already with a name instance so\n\n586\n00:29:02.896 --> 00:29:05.097\nyou could see that we can\nstill work through that.\n\n587\n00:29:05.097 --> 00:29:07.640\nIt says, hey, just click Next,\nand you'll fix it after the fact.\n\n588\n00:29:07.640 --> 00:29:08.315\nNo big deal.\n\n589\n00:29:08.315 --> 00:29:10.110\nSo that's fine, we can go through and\nwe can do that.\n\n590\n00:29:10.110 --> 00:29:12.765\nActually before we do,\nlet me just show you one quick thing.\n\n591\n00:29:12.765 --> 00:29:13.610\nWhere is that?\n\n592\n00:29:13.610 --> 00:29:15.439\nRight over here.\nThere we go, yeah.\n\n593\n00:29:15.439 --> 00:29:19.062\nSo when we are gonna install the sync\nservice, back to the install media for\n\n594\n00:29:19.062 --> 00:29:20.090\njust a second.\n\n595\n00:29:20.090 --> 00:29:21.850\nWe would come through and\nset this up separately.\n\n596\n00:29:21.850 --> 00:29:25.552\nYou will click here,\nfollow this Install Wizard, set this up.\n\n597\n00:29:25.552 --> 00:29:28.110\nUsually you do this first and\nthen other syncs are already there.\n\n598\n00:29:28.110 --> 00:29:30.000\nAnd name it, but\nif you do it afterwards, as you saw.\n\n599\n00:29:30.000 --> 00:29:31.054\nWe could do it as well.\n\n600\n00:29:31.054 --> 00:29:32.521\nJust follow the guidance here.\n\n601\n00:29:32.521 --> 00:29:36.240\nGo through the Install Wizard and\nyou're all set and ready to go.\n\n602\n00:29:37.350 --> 00:29:41.688\nWe have to install identity management for\nthe certificate management capabilities.\n\n603\n00:29:41.688 --> 00:29:43.420\nAnd we're not gonna do\nself signed certificates,\n\n604\n00:29:43.420 --> 00:29:45.350\nwe have the capability to deal\nwith that as well over here.\n\n605\n00:29:45.350 --> 00:29:48.950\nSo you'll see, we have all the things we\nneed on the installation splash page,\n\n606\n00:29:48.950 --> 00:29:50.849\nyou just have to go look for them, right?\n\n607\n00:29:50.849 --> 00:29:53.295\nAll right, so we're gonna deal\nwith this at some point later for\n\n608\n00:29:53.295 --> 00:29:55.480\nus to doing the real install,\nwe're not gonna do it now.\n\n609\n00:29:55.480 --> 00:29:57.381\nBut you could see how\nwe will deal with this.\n\n610\n00:29:57.381 --> 00:29:58.479\nLet's click Next.\n\n611\n00:29:58.479 --> 00:30:00.306\nThe MIM service server address.\n\n612\n00:30:00.306 --> 00:30:01.788\nSo, what's the address gonna be?\n\n613\n00:30:01.788 --> 00:30:06.320\nI just have my name here for\nthe host I'm installing on, pladsp02.\n\n614\n00:30:06.320 --> 00:30:09.380\nSo we have that,\nsince this is a standalone install,\n\n615\n00:30:09.380 --> 00:30:10.980\nthis should be the name\nof the server itself.\n\n616\n00:30:10.980 --> 00:30:14.491\nSo this is a scaled out install,\nmeaning a clustered install,\n\n617\n00:30:14.491 --> 00:30:18.218\nmultiple machines that will make\nup this cluster to create a form.\n\n618\n00:30:18.218 --> 00:30:19.871\nIf we're gonna do that,\n\n619\n00:30:19.871 --> 00:30:24.840\nthen this should be the name the clients\nshould use to contact the cluster.\n\n620\n00:30:24.840 --> 00:30:28.080\nIf you're doing a clustered install,\nthen this is the name for\n\n621\n00:30:28.080 --> 00:30:30.210\nthe cluster as opposed to the name\nof the individual server.\n\n622\n00:30:30.210 --> 00:30:33.270\nSo, again, reading those specific\nguidelines on every screen,\n\n623\n00:30:33.270 --> 00:30:35.074\nmaking sure we know what we're doing,\n\n624\n00:30:35.074 --> 00:30:38.813\nvery important to understand how to make\nthe right configuration choices here.\n\n625\n00:30:38.813 --> 00:30:42.431\nAll right, so I'm putting in the specific\nnamed instance of my local machine,\n\n626\n00:30:42.431 --> 00:30:45.251\nbecause I'm doing this as a stand-alone,\njust to show you.\n\n627\n00:30:45.251 --> 00:30:46.460\nSo just be aware of that.\n\n628\n00:30:47.793 --> 00:30:50.683\nAnd by the way, it also says hey,\ndon't use local hosts if you're\n\n629\n00:30:50.683 --> 00:30:54.054\ndoing local machine, that's not\nacceptable, it won't work and resolve.\n\n630\n00:30:54.054 --> 00:30:56.400\nYou've gotta put the actual\nmachine name in, just so you know.\n\n631\n00:30:56.400 --> 00:30:57.042\nAll right, so\n\n632\n00:30:57.042 --> 00:31:00.880\nthen what's the SharePoint site collection\nURL that we wanna host against?\n\n633\n00:31:00.880 --> 00:31:02.850\nHere you can actually use\nlocal hosts if you want to,\n\n634\n00:31:02.850 --> 00:31:06.150\nalthough you don't normally set SharePoint\nup for resolve for a local host.\n\n635\n00:31:06.150 --> 00:31:08.282\nYou normally use the name\ninstance of the server or\n\n636\n00:31:08.282 --> 00:31:09.870\nwhatever the published url will be.\n\n637\n00:31:09.870 --> 00:31:14.195\nI'm just doing this quickly in my\nenvironment, so I'm using local hosts but\n\n638\n00:31:14.195 --> 00:31:18.530\nyou'll put this in either HTTP or HTTPS so\nit resolves, so I can then do that.\n\n639\n00:31:18.530 --> 00:31:22.128\nYou'll see I do have my share\npoint server up and running so\n\n640\n00:31:22.128 --> 00:31:23.855\nI can connect to it here.\n\n641\n00:31:23.855 --> 00:31:25.325\nI'd be able to then host and\n\n642\n00:31:25.325 --> 00:31:29.325\nadd this to the working\ndirectory if I choose to, right?\n\n643\n00:31:29.325 --> 00:31:32.225\nSo I've got the site collection here,\nso I've specify that.\n\n644\n00:31:33.720 --> 00:31:36.830\nRegistration Portal URL\nright under the password.\n\n645\n00:31:36.830 --> 00:31:40.110\nRegistration Portal URL\nthe browser we'll use to navigate.\n\n646\n00:31:40.110 --> 00:31:41.676\nSo I could specify what this will be.\n\n647\n00:31:41.676 --> 00:31:43.877\nYou may leave the field empty if\nyou don't wanna customize this.\n\n648\n00:31:43.877 --> 00:31:47.986\nMeaning, if you choose not to customize\nwhat's there, provide specific, detailed,\n\n649\n00:31:47.986 --> 00:31:51.163\nseparate guidance that you're\ngonna create and say, okay, look,\n\n650\n00:31:51.163 --> 00:31:55.440\nwhen you wanna reset your password, here's\nwhat you need to do in our organization.\n\n651\n00:31:55.440 --> 00:31:57.740\nHere's our logo, here's our contact info,\nthings like that.\n\n652\n00:31:57.740 --> 00:32:01.546\nYou're not going to create a custom page,\nrather just use the out of the gate,\n\n653\n00:32:01.546 --> 00:32:04.894\nthe default stock portal page that\ncomes with this, leave it blank,\n\n654\n00:32:04.894 --> 00:32:08.560\nbecause we'll just load the premade\nURL and that's what you'll use.\n\n655\n00:32:08.560 --> 00:32:10.690\nBut you can customize this if you want to.\n\n656\n00:32:10.690 --> 00:32:13.730\nYou provide your own URL there, if you\nwant to point to the customized content.\n\n657\n00:32:13.730 --> 00:32:14.700\nIt'll be up to you to decide.\n\n658\n00:32:14.700 --> 00:32:17.670\nI'm leaving it blank, cuz I'm not\ngoing to customize the register for\n\n659\n00:32:17.670 --> 00:32:20.820\npassword reset link in any way or\nI'm not gonna point into a custom page,\n\n660\n00:32:20.820 --> 00:32:22.670\nI'm just gonna leave the default one.\n\n661\n00:32:22.670 --> 00:32:24.010\nSo click Next,\n\n662\n00:32:24.010 --> 00:32:27.820\nthen clients cannot communicate with MIM\nunless ports are opened in the firewall.\n\n663\n00:32:27.820 --> 00:32:29.080\nSo important to know that.\n\n664\n00:32:29.080 --> 00:32:30.270\nWhat ports have to be open?\n\n665\n00:32:30.270 --> 00:32:34.230\nPorts 5725 and 5726,\nyou could see those there.\n\n666\n00:32:34.230 --> 00:32:37.510\nSo check that box off to\nensure we open the firewall,\n\n667\n00:32:37.510 --> 00:32:40.320\nconfigure it on the server to\nallow the communication coming and\n\n668\n00:32:40.320 --> 00:32:43.460\ngoing, cuz by default those ports\nare not going to be enabled.\n\n669\n00:32:43.460 --> 00:32:46.310\nThey're not gonna be open to the firewall,\nso just be aware of that.\n\n670\n00:32:46.310 --> 00:32:49.260\nAlso grant authenticated users\naccess to the MIM portal site,\n\n671\n00:32:49.260 --> 00:32:51.990\nthat is important as well, so\nwe check both those boxes off.\n\n672\n00:32:54.380 --> 00:32:55.550\nThe host name is here for\n\n673\n00:32:55.550 --> 00:33:00.470\nthe MIM where we're gonna put\nthe public access management, rest API.\n\n674\n00:33:00.470 --> 00:33:02.140\nSo how are we gonna bind that,\n\n675\n00:33:02.140 --> 00:33:05.250\nwhat host are we gonna bind it to and\nwhat's the port we're gonna use?\n\n676\n00:33:05.250 --> 00:33:08.924\nI've just put in the generic\ninformation for my host here on port A.\n\n677\n00:33:08.924 --> 00:33:12.327\nYou could obviously verify that selected\nport is open, so make sure that you have\n\n678\n00:33:12.327 --> 00:33:15.832\nchosen a port in the firewall, number one\nthat is secure, you're not going to want\n\n679\n00:33:15.832 --> 00:33:18.260\nto use port A you're going to\nwant to use something else.\n\n680\n00:33:18.260 --> 00:33:21.287\nRandomize that to a different port, but\nthen open that port in a firewall but\n\n681\n00:33:21.287 --> 00:33:22.677\nmake sure that that is available.\n\n682\n00:33:22.677 --> 00:33:25.839\nSo up to you to decide how to do that.\n\n683\n00:33:25.839 --> 00:33:28.746\nAnd then here enter the credentials for\n\n684\n00:33:28.746 --> 00:33:33.160\nthe application pull in IS double\nhost The rest API for PAM.\n\n685\n00:33:34.340 --> 00:33:36.240\nSo I used just\nthe administrative credential.\n\n686\n00:33:36.240 --> 00:33:37.510\nYou would come up with a separate account.\n\n687\n00:33:37.510 --> 00:33:38.960\nOne of the service accounts created,\n\n688\n00:33:38.960 --> 00:33:41.220\ntypically will be used for\nthe application pool.\n\n689\n00:33:41.220 --> 00:33:43.400\nSo you'll specify that here and again,\n\n690\n00:33:43.400 --> 00:33:47.010\nspecify the account domain,\npracticelabs.com, in our example.\n\n691\n00:33:48.400 --> 00:33:51.390\nSaying that with the service account\nname here for the PAM component service,\n\n692\n00:33:51.390 --> 00:33:53.640\nwhat account are you going\nto use to run this under.\n\n693\n00:33:53.640 --> 00:33:57.660\nSo I've created a service account called\nMIM, PAMS for the PAM service, but\n\n694\n00:33:57.660 --> 00:34:00.620\nyou can decide to create\nwhatever you want for that.\n\n695\n00:34:00.620 --> 00:34:02.720\nSo I've specified that,\nthe password of course.\n\n696\n00:34:02.720 --> 00:34:05.010\nThe domain is practicelabs.com.\n\n697\n00:34:05.010 --> 00:34:08.220\nRemember I'm getting all of this stuff\nhere because I chose to configure\n\n698\n00:34:08.220 --> 00:34:09.490\nthe PAM component.\n\n699\n00:34:09.490 --> 00:34:13.840\nIf I deselect PAM and don't install it,\nI won't get all these extra screens.\n\n700\n00:34:13.840 --> 00:34:16.040\nI'll jump ahead three or four screens,\nI won't have to deal with this.\n\n701\n00:34:16.040 --> 00:34:19.910\nSo, but I did want you to see how the\nPrivileged Access Management module gets\n\n702\n00:34:19.910 --> 00:34:22.470\nconfigured to so\nyou can understand the logic.\n\n703\n00:34:22.470 --> 00:34:26.020\nSo again, service account not secure cuz\nwe haven't assign the appropriate rights\n\n704\n00:34:26.020 --> 00:34:27.260\nto it, you know why?\n\n705\n00:34:27.260 --> 00:34:29.740\nWe've normally not to see\nthat in the real install.\n\n706\n00:34:29.740 --> 00:34:31.170\nThen we're going through and\n\n707\n00:34:31.170 --> 00:34:33.650\nsetting up the Privileged Access\nManagement Monitoring Service.\n\n708\n00:34:33.650 --> 00:34:35.730\nAgain, I said you would\nneed an account for this.\n\n709\n00:34:35.730 --> 00:34:40.510\nSo I call this mimpams, right,\nfor MIM PAM Service, or\n\n710\n00:34:40.510 --> 00:34:42.550\nPAM Monitoring Service, so I've got that.\n\n711\n00:34:42.550 --> 00:34:43.390\nSet all that up.\n\n712\n00:34:44.620 --> 00:34:46.630\nAgain not secure, we know that.\n\n713\n00:34:46.630 --> 00:34:51.000\nThen gone ahead and entered the existing\naccount that the MIM password registration\n\n714\n00:34:51.000 --> 00:34:54.370\napplication pool will run under, and\nenter the binding information for\n\n715\n00:34:54.370 --> 00:34:56.415\nthe MIM password registration portal.\n\n716\n00:34:56.415 --> 00:35:00.935\nSo I've just provided the local\ninformation for my domain admin here and\n\n717\n00:35:00.935 --> 00:35:05.715\nthe host plub 02 or plubsp 02 and\nagain, port 80 make sure it's open.\n\n718\n00:35:05.715 --> 00:35:07.725\nYou would obviously choose\nsome more secure port.\n\n719\n00:35:07.725 --> 00:35:10.337\nI'm just using that because it's all\nready available in the firewall,\n\n720\n00:35:10.337 --> 00:35:13.505\nall ready configure with share point,\nalready bound there on the web server.\n\n721\n00:35:13.505 --> 00:35:17.241\nI don't have to go and make any special\nadjustments but just do the demonstration.\n\n722\n00:35:17.241 --> 00:35:19.170\nSo we're just gonna go through there.\n\n723\n00:35:19.170 --> 00:35:21.960\nAgain, your deployment is not\nrunning in a secure configuration,\n\n724\n00:35:21.960 --> 00:35:24.740\nbecause we are using,\nas you can see there, it says,\n\n725\n00:35:24.740 --> 00:35:29.480\nnot the secure issues associated with\nrights defined for the service accounts.\n\n726\n00:35:29.480 --> 00:35:31.610\nBut because you're using insecure ports,\nport 80,\n\n727\n00:35:31.610 --> 00:35:35.150\nand we're not supporting HTTPS,\nSSL with TLS.\n\n728\n00:35:35.150 --> 00:35:37.370\nSo it's recommending we use SSL.\n\n729\n00:35:37.370 --> 00:35:40.192\nAgain, you would obviously\nwant to make adjustments for\n\n730\n00:35:40.192 --> 00:35:43.775\nthis go to the IF server, edit the port\nbindings on the default website or\n\n731\n00:35:43.775 --> 00:35:46.359\non the share points that\nwe're going to bind to, and\n\n732\n00:35:46.359 --> 00:35:49.977\nmake sure you're supporting SSL and\nuse a port that will let you do that.\n\n733\n00:35:49.977 --> 00:35:53.118\nWe've talked about how to edit\nbindings in different episodes and\n\n734\n00:35:53.118 --> 00:35:55.370\nshown you how to do that\non numerous occasions.\n\n735\n00:35:55.370 --> 00:35:59.097\nYou would simply go through and enable\nthat and that's when you will not see this\n\n736\n00:35:59.097 --> 00:36:01.620\nparticular configuration\nwarning any longer.\n\n737\n00:36:01.620 --> 00:36:04.870\nAgain the installation guidance will\nwalk you through how to get through\n\n738\n00:36:04.870 --> 00:36:07.800\nthese screens and not have these warning\nshow up, you just have to follow\n\n739\n00:36:07.800 --> 00:36:12.100\nall the detail guidance that I've pointed\nyou to on the web in order to do this.\n\n740\n00:36:12.100 --> 00:36:13.700\nClick next.\n\n741\n00:36:13.700 --> 00:36:15.700\nWhat's the MIM Service Server address?\n\n742\n00:36:15.700 --> 00:36:18.490\nAgain what's the Host's name, so\nI'm putting in the Host name.\n\n743\n00:36:18.490 --> 00:36:22.621\nAre we doing a portal which can be\naccessible to extra net users or\n\n744\n00:36:22.621 --> 00:36:26.360\nare we doing a portal that's only\naccessible to intranet users?\n\n745\n00:36:26.360 --> 00:36:27.310\nWe have to decide.\n\n746\n00:36:27.310 --> 00:36:30.260\nAre we letting external users in,\nor only internal users and\n\n747\n00:36:30.260 --> 00:36:31.940\nwe have to specify how to deal with that.\n\n748\n00:36:31.940 --> 00:36:36.680\nSo I make my choice, then we specify\nthe appropriate credentials, and\n\n749\n00:36:36.680 --> 00:36:39.240\nagain, the binding information for\nthe portal.\n\n750\n00:36:39.240 --> 00:36:42.990\nWe do this twice, it looks like the same\nthing, but one is for password reset,\n\n751\n00:36:42.990 --> 00:36:44.030\none is for password management.\n\n752\n00:36:44.030 --> 00:36:46.951\nSo you've got different ones here, just\nmake sure you're comfortable with that.\n\n753\n00:36:46.951 --> 00:36:51.019\nAgain not secure we know why,\nwe're not supporting SSL, chose port 80.\n\n754\n00:36:51.019 --> 00:36:54.083\nYou'll see this one here for\nthe MIM service will be used for\n\n755\n00:36:54.083 --> 00:36:58.004\npassword reset so we're just going\nthrough and specifying this again, and\n\n756\n00:36:58.004 --> 00:37:00.044\nthen once we're done we click instal.\n\n757\n00:37:00.044 --> 00:37:03.668\nWe can actually kick this off it will\nrun through, takes several minutes to go\n\n758\n00:37:03.668 --> 00:37:07.346\nthrough and set everything up, stand\nup configure it, And when we're done,\n\n759\n00:37:07.346 --> 00:37:11.220\nwe don't actually have a portal configured\neverything, stood up, ready to go.\n\n760\n00:37:11.220 --> 00:37:13.730\nAnd then we're able to actually\ngoing to start managing and\n\n761\n00:37:13.730 --> 00:37:16.290\nthen interacting with the this solution.\n\n762\n00:37:16.290 --> 00:37:20.023\nSo it's a very detailed install in the\nsense that's there a lot of stuff to keep\n\n763\n00:37:20.023 --> 00:37:21.165\nin mind and be aware of.\n\n764\n00:37:21.165 --> 00:37:25.928\nBut ultimately, this is not something\nthat is gonna be very difficult.\n\n765\n00:37:25.928 --> 00:37:28.478\nPlug in back in my machine,\nso I don't run on battery and\n\n766\n00:37:28.478 --> 00:37:32.020\nlose all my notes that we're going\nthrough while we're talking to you.\n\n767\n00:37:32.020 --> 00:37:35.180\nBut making sure that we're\nable to get this stood up,\n\n768\n00:37:35.180 --> 00:37:37.710\nis really the majority of the battle,\nbelieve it or not.\n\n769\n00:37:37.710 --> 00:37:41.240\nBecause once we go through this lengthy\ninstallation and configuration and\n\n770\n00:37:41.240 --> 00:37:44.340\nwe have everything ready\nto go at that point,\n\n771\n00:37:44.340 --> 00:37:48.320\nbeing able to go through and configure\nthis is really not very difficult.\n\n772\n00:37:48.320 --> 00:37:51.270\nThere is obviously a web interface for\ncertain things we can go through and\n\n773\n00:37:51.270 --> 00:37:52.260\nadminister from.\n\n774\n00:37:52.260 --> 00:37:54.870\nWe do have the ability to go in and\nuse PowerShell.\n\n775\n00:37:54.870 --> 00:38:00.010\nThe new PAM user commandlet for instance,\nwould allow me to specify what users and\n\n776\n00:38:00.010 --> 00:38:03.240\nnew PAM group, what groups are gonna\nbe privileged or gonna be configured\n\n777\n00:38:03.240 --> 00:38:08.070\nin our admin right in the MIM install\nwhere we have PAM configured.\n\n778\n00:38:08.070 --> 00:38:10.940\nSo we would go through a news\nPowerShell to be able to do this and\n\n779\n00:38:10.940 --> 00:38:15.290\nthen once we've set this up and configure,\nspecifically the PAM components.\n\n780\n00:38:15.290 --> 00:38:18.980\nWe're able to manage those and use those\nfor delegated administrative purposes.\n\n781\n00:38:18.980 --> 00:38:20.608\nSo PowerShell comes into play here.\n\n782\n00:38:20.608 --> 00:38:24.779\nWe get all the PowerShell commandlets\nin the support, members part of\n\n783\n00:38:24.779 --> 00:38:29.106\nthe configuration of the PAM component\nas we stand up and configure MIM.\n\n784\n00:38:29.106 --> 00:38:30.564\nSo just wanna make sure\nyou're aware of that and\n\n785\n00:38:30.564 --> 00:38:32.020\nthinking through the logic of that.\n\n786\n00:38:32.020 --> 00:38:36.080\nBut we're able to go through and\nset up and control PAM through PowerShell.\n\n787\n00:38:36.080 --> 00:38:38.500\nAnd so we will have access\nto all of those components.\n\n788\n00:38:38.500 --> 00:38:42.040\nAnd now, once we set that up, and you're\ngonna love this cuz we talked about this\n\n789\n00:38:42.040 --> 00:38:49.000\nin one of our prior episodes when we\nwere doing the discussion around JEA.\n\n790\n00:38:49.000 --> 00:38:50.680\nSo Just Enough Administration.\n\n791\n00:38:50.680 --> 00:38:54.750\nWe can actually configure and\nkind of see the linkage with PAM and JEA.\n\n792\n00:38:54.750 --> 00:38:57.550\nBecause remember you suggested in\none of our prior conversations,\n\n793\n00:38:57.550 --> 00:38:59.160\nhey JEA could be called out?\n\n794\n00:38:59.160 --> 00:39:00.930\n&gt;&gt; Right.\n&gt;&gt; And maybe we could use that and\n\n795\n00:39:00.930 --> 00:39:05.170\nuse the thought process around\nthat to help us to control and\n\n796\n00:39:05.170 --> 00:39:10.060\nto administer and really confine our\nconfigurations with ESAE, in that episode\n\n797\n00:39:10.060 --> 00:39:13.660\nas we talked about it, to actually control\nthe configuration of the admin forest.\n\n798\n00:39:13.660 --> 00:39:16.270\nYou said, hey, that would be\na good idea we could use the whole\n\n799\n00:39:16.270 --> 00:39:19.920\nDesired State Configuration solution,\nright, to be able to do that.\n\n800\n00:39:19.920 --> 00:39:22.700\nAnd we talked to the logic of\nintegrating that with Systems Center or\n\n801\n00:39:22.700 --> 00:39:25.680\nmaybe getting some of economy scale there,\nright, which should be really good.\n\n802\n00:39:25.680 --> 00:39:29.353\nWe can actually link PAM with\nJEA as well and when we do this,\n\n803\n00:39:29.353 --> 00:39:32.514\nwe could figure the associated\nsecurity groups and\n\n804\n00:39:32.514 --> 00:39:37.091\nwe're able to then use JEA to leverage\nthat administrative capability.\n\n805\n00:39:37.091 --> 00:39:41.291\nAnd so as a result we can set up an end\npoint that we associate the security\n\n806\n00:39:41.291 --> 00:39:45.071\ngroups with and we then allow them\nthrough that delegation to use\n\n807\n00:39:45.071 --> 00:39:48.858\nPowerShell remotely administer and\ndo the jobs they need to do.\n\n808\n00:39:48.858 --> 00:39:52.489\nThey're able to bind securely and\nuse that PAM delegation right for\n\n809\n00:39:52.489 --> 00:39:56.880\nwhich access delegation that would create\nin the admin farce to be able to do that,\n\n810\n00:39:56.880 --> 00:39:59.810\nso we actually can leverage\nlike you were suggesting,\n\n811\n00:39:59.810 --> 00:40:04.530\nalthough in a slightly different way,\nusing this PAM thought process with MIM.\n\n812\n00:40:04.530 --> 00:40:07.750\nBut also bringing in\nthe Just Enough Administration concept and\n\n813\n00:40:07.750 --> 00:40:11.440\nlinking this remote administration\nfeature or capability through PowerShell.\n\n814\n00:40:11.440 --> 00:40:12.587\nSo we can combine all this together.\n\n815\n00:40:12.587 --> 00:40:14.016\nIt actually comes together\nnicely when we do all this.\n\n816\n00:40:14.016 --> 00:40:17.920\n&gt;&gt; Yeah, we can definitely see how\neverything can kinda piece together and\n\n817\n00:40:17.920 --> 00:40:22.370\nreally accent each other and that's just\nkind of It's not difficult to set it up.\n\n818\n00:40:22.370 --> 00:40:25.390\nBut like you said,\nit has a lot of moving pieces here.\n\n819\n00:40:25.390 --> 00:40:28.270\nBut luckily, we have the rewind button and\n\n820\n00:40:28.270 --> 00:40:32.104\nyou also have the installation guide to\nhelp us throughout this process as well.\n\n821\n00:40:32.104 --> 00:40:32.610\n&gt;&gt; We do, yeah.\n\n822\n00:40:32.610 --> 00:40:36.970\nAnd just a big, big, as I said, shout-out\nto Microsoft for great documentation on\n\n823\n00:40:36.970 --> 00:40:41.550\nthis, cuz sometimes the documentation\ncan be confusing, can be hard to follow.\n\n824\n00:40:41.550 --> 00:40:45.240\nDocumentation around this product is\nspot on, really easy to go through.\n\n825\n00:40:45.240 --> 00:40:48.240\nIt is a difficult product to stand up\nin terms of just all the nooks and\n\n826\n00:40:48.240 --> 00:40:51.950\ncrannies and specific little items you got\nto configure but if you go through and\n\n827\n00:40:51.950 --> 00:40:56.020\nfollow all the guidance specially\nthe PowerShell commandlet's say provided\n\n828\n00:40:56.020 --> 00:41:00.460\nto show you the samples what would have to\nhappen, localize them to your environment,\n\n829\n00:41:00.460 --> 00:41:02.810\ngreat way to get your practice and\non PowerShell.\n\n830\n00:41:02.810 --> 00:41:05.130\nCombine that with configuration and\n\n831\n00:41:05.130 --> 00:41:08.190\nyou've actually got a really strong\ncapability to go forward with.\n\n832\n00:41:08.190 --> 00:41:11.290\nAnd it works and that's the great thing,\nyou just gotta make sure you check off\n\n833\n00:41:11.290 --> 00:41:14.390\nthose boxes and have everything configured\nand then you get out of the gate and\n\n834\n00:41:14.390 --> 00:41:15.608\nit's set up and ready to go.\n\n835\n00:41:15.608 --> 00:41:16.820\nYou have correct?\n\n836\n00:41:16.820 --> 00:41:19.330\nYou gotta make sure you have\nthe appropriate licensing.\n\n837\n00:41:19.330 --> 00:41:23.680\nSo there's that, but assuming you're gonna\nuse these features going forward, right?\n\n838\n00:41:23.680 --> 00:41:26.970\nHave the appropriate licensing for\nour server, appropriate licensing for\n\n839\n00:41:26.970 --> 00:41:28.950\nSharePoint, for SQL, for Exchange.\n\n840\n00:41:28.950 --> 00:41:30.260\nAll the stuff you'd have to do.\n\n841\n00:41:30.260 --> 00:41:32.360\nThe supporting elements to make\nsure everything sort of works.\n\n842\n00:41:32.360 --> 00:41:36.200\nSystem center potentially if you're doing\nthe reporting capability with service\n\n843\n00:41:36.200 --> 00:41:36.800\nlevel manager.\n\n844\n00:41:36.800 --> 00:41:39.720\nYou gotta have all those products as\npart of this new setup and license,\n\n845\n00:41:39.720 --> 00:41:40.670\nbut you guys know that.\n\n846\n00:41:40.670 --> 00:41:42.120\nWe're not telling you\nanything you don't know.\n\n847\n00:41:42.120 --> 00:41:45.048\nAssuming you have all that you can\nconfigure this freely with minimal\n\n848\n00:41:45.048 --> 00:41:45.663\ndifficulty.\n\n849\n00:41:45.663 --> 00:41:47.063\n&gt;&gt; Awesome.\nThank you for your time and\n\n850\n00:41:47.063 --> 00:41:48.775\nwalking us through this process, Adam.\n\n851\n00:41:48.775 --> 00:41:50.231\nAnd thank you for joining us as well.\n\n852\n00:41:50.231 --> 00:41:50.953\nBut stay tuned.\n\n853\n00:41:50.953 --> 00:41:52.783\nWe have more information headed your way.\n\n854\n00:41:52.783 --> 00:41:54.175\nFor this show,\nwe'll go ahead and sign out.\n\n855\n00:41:54.175 --> 00:41:55.624\nI've been your host, Cherokee Boose.\n\n856\n00:41:55.624 --> 00:41:56.558\n&gt;&gt; I'm Adam Gordon.\n\n857\n00:41:56.558 --> 00:41:59.871\n&gt;&gt; See you next time here at IT Pro TV.\n\n858\n00:41:59.871 --> 00:42:05.767\n[MUSIC]\n\n859\n00:42:05.767 --> 00:42:08.420\n&gt;&gt; Thank you for watching IT PRO TV.\n\n",
          "vimeoId": "233880127"
        }
      ],
      "title": "Implement Just Enough Administration"
    },
    {
      "episodes": [
        {
          "description": "In this show, Adam and Cherokee begin the show speaking about The Enhanced Mitigation Experience Toolkit (EMET). Adam shares pre-installation considerations and deployment options. He also walks through the set up and shows configuration options and even shows how to use different graphical skins.",
          "length": "1616",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-1-implementing_malware_protections-091317-PGM.00_00_11_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-1-implementing_malware_protections-091317-PGM.00_00_11_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-1-implementing_malware_protections-091317-PGM.00_00_11_23.Still001-sm.jpg",
          "title": "Implementing Malware Protection",
          "transcript": "WEBVTT\n\n1\n00:00:00.170 --> 00:00:06.543\nWelcome to IT Pro TV I'm\nyour host Don Pezet\n\n2\n00:00:06.543 --> 00:00:11.888\n[CROSSTALK]\n&gt;&gt; You're watching IT Pro TV.\n\n3\n00:00:11.888 --> 00:00:14.842\n&gt;&gt; Welcome to your\nWindows Server 2016 series.\n\n4\n00:00:14.842 --> 00:00:17.070\nI'm your show host, Cherokee Boose.\n\n5\n00:00:17.070 --> 00:00:17.790\nIn this episode,\n\n6\n00:00:17.790 --> 00:00:21.780\nwe'll be talking about a really important\ntopic, not that the other ones aren't but\n\n7\n00:00:21.780 --> 00:00:25.670\nhere we're really gonna be taking a look\nat implementing malware protection.\n\n8\n00:00:25.670 --> 00:00:28.360\nAnd back with us in studios today\nwe have Mister Adam Gordon.\n\n9\n00:00:28.360 --> 00:00:29.480\nHow's it going today Adam?\n\n10\n00:00:29.480 --> 00:00:30.737\n&gt;&gt; Going good, going good.\n\n11\n00:00:30.737 --> 00:00:34.951\nFeeling a little virus like, we'll see\nif we can mitigate that experience.\n\n12\n00:00:34.951 --> 00:00:36.990\n&gt;&gt; Stay on your side of the podium.\n\n13\n00:00:36.990 --> 00:00:41.230\n&gt;&gt; I'm gonna touch everything so\nthat everything has virus on it.\n\n14\n00:00:41.230 --> 00:00:43.864\nSo we're gonna talk about\nhow to mitigate and\n\n15\n00:00:43.864 --> 00:00:46.856\nprovide risk management\nwith regards to malware.\n\n16\n00:00:46.856 --> 00:00:49.397\nI mean this is one of as\nCherokee said really important,\n\n17\n00:00:49.397 --> 00:00:53.410\none of the really important topics we\ntalk about with regards to security.\n\n18\n00:00:53.410 --> 00:00:56.530\nJust like every other\nvendor on the planet today,\n\n19\n00:00:56.530 --> 00:01:00.370\nMicrosoft has their own\nversion of reality.\n\n20\n00:01:00.370 --> 00:01:04.510\nWhat I mean by that is they have their\nown software they digitally sign it,\n\n21\n00:01:04.510 --> 00:01:05.725\nthey say this is good.\n\n22\n00:01:05.725 --> 00:01:09.015\nWe'll talk about what that means\nwith regards to things like software\n\n23\n00:01:09.015 --> 00:01:12.537\nrestriction policies, one of the ways\nwe potentially can block malware.\n\n24\n00:01:12.537 --> 00:01:14.704\nAnd they say you should run our software,\nand\n\n25\n00:01:14.704 --> 00:01:17.250\nyou should run it the way\nwe tell you to run it.\n\n26\n00:01:17.250 --> 00:01:21.726\nUse best practices, configure it using\nour tools, set it up using certain\n\n27\n00:01:21.726 --> 00:01:26.206\nrequirements or recommendations,\nbased on operating system version and\n\n28\n00:01:26.206 --> 00:01:31.131\nsupport for certain behaviors, certain\nactivities, and disallowing others.\n\n29\n00:01:31.131 --> 00:01:34.048\nSo we've been talking about these\nconcepts as themes for a while now.\n\n30\n00:01:34.048 --> 00:01:38.156\nThis is not hopefully new news to you and\ncertainly not a new thought process with\n\n31\n00:01:38.156 --> 00:01:41.666\nregards to all the information\nwe've shared with you up until now.\n\n32\n00:01:41.666 --> 00:01:45.110\nAnd all the different episodes around the\ndifferent topics we've been talking about.\n\n33\n00:01:45.110 --> 00:01:48.935\nWhen we turn our attention towards the\nthought process of malware in particular\n\n34\n00:01:48.935 --> 00:01:50.083\nand how we deal with it.\n\n35\n00:01:50.083 --> 00:01:54.370\nWe're really coming at the problem\nof security and defense in-depth,\n\n36\n00:01:54.370 --> 00:01:59.219\nand this idea of how do we safeguard the\nmost important information and or assets,\n\n37\n00:01:59.219 --> 00:02:03.101\nresources in the organization\nfrom not just bad actors, right?\n\n38\n00:02:03.101 --> 00:02:07.972\nWe talked about threat, sources, bad\nactors, hackers looking to do us harm, but\n\n39\n00:02:07.972 --> 00:02:11.242\nwe have to think about the tools\nthat they will deploy and\n\n40\n00:02:11.242 --> 00:02:16.274\nthe mechanisms the methodologies they will\nuse to try to use attack vectors, right?\n\n41\n00:02:16.274 --> 00:02:19.570\nPathways into our systems because they\ncould take advantage of what we talked\n\n42\n00:02:19.570 --> 00:02:21.404\nabout as vulnerabilities or weaknesses.\n\n43\n00:02:21.404 --> 00:02:25.191\nAnd malware is really a great way of\nsummarizing that whole conversation not\n\n44\n00:02:25.191 --> 00:02:26.858\nbecause you want to play with it.\n\n45\n00:02:26.858 --> 00:02:28.310\nIt's not great from that perspective.\n\n46\n00:02:28.310 --> 00:02:32.433\nBut it's a great metaphor and\na great explanatory tool and concept, for\n\n47\n00:02:32.433 --> 00:02:35.010\nall the things that\ncould go horribly wrong.\n\n48\n00:02:35.010 --> 00:02:38.664\nAnd the reasons why we have to work\nreally hard to make sure things go right,\n\n49\n00:02:38.664 --> 00:02:41.912\nright from the security perspective\nin terms of being a defender,\n\n50\n00:02:41.912 --> 00:02:45.283\nsomebody who's looking to do the right\nthing, and act in such a way.\n\n51\n00:02:45.283 --> 00:02:48.948\nAnd create opportunities for others around\nus to act in such a way that we propagate\n\n52\n00:02:48.948 --> 00:02:52.879\nsecurity, and ultimately, over time,\nhopefully, create more secure environments\n\n53\n00:02:52.879 --> 00:02:56.490\nfor our end users, and the people that\nwe're charged with protecting, right,\n\n54\n00:02:56.490 --> 00:02:58.290\nwithin the organization.\n\n55\n00:02:58.290 --> 00:03:02.930\nAnd so Microsoft has a great set of\ntools that allow us to do these things.\n\n56\n00:03:02.930 --> 00:03:05.315\nMany of which you have\nprobably already heard about,\n\n57\n00:03:05.315 --> 00:03:07.755\nMicrosoft Security Essentials,\nWindows Defender,\n\n58\n00:03:07.755 --> 00:03:11.164\nwhatever you know it as over the many,\nmany generations it's been around.\n\n59\n00:03:11.164 --> 00:03:14.800\nAn oldie and a goodie and\nmany of us use it I'm sure.\n\n60\n00:03:14.800 --> 00:03:17.680\nBoth locally on an individual desktop and\n\n61\n00:03:17.680 --> 00:03:21.120\nperhaps more broadly through the\norganization, link to things like system\n\n62\n00:03:21.120 --> 00:03:25.510\ncenter config manager through the use of\nWSUS, Wonder Software Update Services.\n\n63\n00:03:25.510 --> 00:03:28.576\nWe'll talk more about WSUS and\nhow we link WSUS and\n\n64\n00:03:28.576 --> 00:03:32.089\nsecurity centrals together\nin some upcoming episodes.\n\n65\n00:03:32.089 --> 00:03:35.522\nAnd how we do not only local\nmitigation for malware defense and\n\n66\n00:03:35.522 --> 00:03:38.231\nmalware protection on\nan individual endpoint,\n\n67\n00:03:38.231 --> 00:03:42.803\nindividual workstation but how we can\nbroaden that to the organisation at large.\n\n68\n00:03:42.803 --> 00:03:46.471\nAll right, and we actually talk about\nthis as endpoint protection and\n\n69\n00:03:46.471 --> 00:03:50.449\nsystem center config manager the ability\nto be able to leverage that windows\n\n70\n00:03:50.449 --> 00:03:52.430\nsecurity essentials download.\n\n71\n00:03:52.430 --> 00:03:55.620\nAnd product placement running\non individual workstations and\n\n72\n00:03:55.620 --> 00:03:57.730\ncentrally control and manage that.\n\n73\n00:03:57.730 --> 00:04:00.950\nWe have capabilities in place, and\nthey've been there for some time.\n\n74\n00:04:00.950 --> 00:04:04.960\nBut we also have tools that you\nmay not have heard of before.\n\n75\n00:04:04.960 --> 00:04:07.942\nA tool called Emmet or a suite of\ntools and techniques called Emmet,\n\n76\n00:04:07.942 --> 00:04:10.048\nthe enhanced mitigation\nexperience toolkit.\n\n77\n00:04:10.048 --> 00:04:14.122\nThis is one that when I talk to customers\nabout yeah we think we've heard of\n\n78\n00:04:14.122 --> 00:04:16.820\nsomething, Isn't that that e-Set thing?\n\n79\n00:04:16.820 --> 00:04:17.747\nThat's what people often say.\n\n80\n00:04:17.747 --> 00:04:22.279\nNo, it's not e-Set, E-Set is actually a\nseparate vendor that does AV antivirus and\n\n81\n00:04:22.279 --> 00:04:25.583\nhas their own set of products and\nyou may be familiar with them.\n\n82\n00:04:25.583 --> 00:04:27.281\n&gt;&gt; But they're like robot-looking logo?\n\n83\n00:04:27.281 --> 00:04:30.860\n&gt;&gt; They're kind of\nrobot-looking automaton right?\n\n84\n00:04:30.860 --> 00:04:33.832\nSo that bluish, almost kind of like\nthe color of your shirt a little bit,\n\n85\n00:04:33.832 --> 00:04:34.823\nthat bluish greenish.\n\n86\n00:04:34.823 --> 00:04:35.537\n&gt;&gt; Maybe I am a robot.\n\n87\n00:04:35.537 --> 00:04:36.680\n&gt;&gt; Translucent color.\n\n88\n00:04:36.680 --> 00:04:40.108\nYou could be that, you know you acted\na little stiff this morning when you were\n\n89\n00:04:40.108 --> 00:04:42.075\ncoming in, perhaps that could be the case.\n\n90\n00:04:42.075 --> 00:04:46.968\nSo you know we're not talking about\nalthough we're very obviously oftentimes\n\n91\n00:04:46.968 --> 00:04:50.575\nconfused with that here but\nwe're talking about EMET, right?\n\n92\n00:04:50.575 --> 00:04:53.940\nE-M-E-T and this is one people may not\nhave heard about and it's interesting,\n\n93\n00:04:53.940 --> 00:04:55.426\nit's been around for some time.\n\n94\n00:04:55.426 --> 00:05:00.530\nIt's actually gonna be out of support and\nout of official use going into 2018,\n\n95\n00:05:00.530 --> 00:05:05.990\nroughly about the middle of 2018,\nMicrosoft's extended of support on\n\n96\n00:05:05.990 --> 00:05:09.410\nthis product for a period of time because\nso many people said hey, this is great.\n\n97\n00:05:09.410 --> 00:05:13.580\nWe want to use it, keep it around and\nso they actually did the right thing and\n\n98\n00:05:13.580 --> 00:05:15.080\nextended support on that.\n\n99\n00:05:15.080 --> 00:05:18.300\nThere's an end of life statement I'll\nshow you with regards to the tool.\n\n100\n00:05:18.300 --> 00:05:21.764\nIt will be out, I think, through the end\nif July into the beginning of August,\n\n101\n00:05:21.764 --> 00:05:23.250\napproximately, for 2018.\n\n102\n00:05:23.250 --> 00:05:26.880\nSo depending on when you're watching this,\nthis tool may still be available.\n\n103\n00:05:26.880 --> 00:05:30.553\nAt that point in time, it will no\nlonger be officially be supported but\n\n104\n00:05:30.553 --> 00:05:32.622\nit is currently in the exam objective.\n\n105\n00:05:32.622 --> 00:05:35.530\nSo it's something you at least wanna\nmake sure you're aware of just as\n\n106\n00:05:35.530 --> 00:05:36.550\na passing note.\n\n107\n00:05:36.550 --> 00:05:39.090\nSo join me here, we're just gonna\ntake a look quickly at what it is.\n\n108\n00:05:39.090 --> 00:05:40.338\nGive you a little bit of background on it.\n\n109\n00:05:40.338 --> 00:05:42.568\nI've got an installation of it up and\nrunning,\n\n110\n00:05:42.568 --> 00:05:46.450\nabout to finish it up on my Windows 10\nmachine, just show you how that goes.\n\n111\n00:05:46.450 --> 00:05:49.560\nQuickly show you a little bit about it,\nand then we're gonna talk about some of\n\n112\n00:05:49.560 --> 00:05:53.860\nthe group policy-based protections\nthat are afforded to us in server 16.\n\n113\n00:05:53.860 --> 00:05:56.674\nThings like software restriction\npolicies as I was mentioning.\n\n114\n00:05:56.674 --> 00:06:00.423\nApp Locker,and our ability to be able\nto do some other interesting stuff with\n\n115\n00:06:00.423 --> 00:06:01.610\nvirtual security.\n\n116\n00:06:01.610 --> 00:06:05.240\nWe'll revisit that whole discussion\nwe had around Credential Guard,\n\n117\n00:06:05.240 --> 00:06:06.660\nyou remember that conversation.\n\n118\n00:06:06.660 --> 00:06:09.520\nThe implementation of\nthe virtualization security stack and\n\n119\n00:06:09.520 --> 00:06:12.273\nwe're gonna extend that, and\ntake a look at Device Guard.\n\n120\n00:06:12.273 --> 00:06:13.620\nAnd some of the things we can do there.\n\n121\n00:06:13.620 --> 00:06:17.984\nSo it's actually kind of cool, so\nthis product, or the EMET Solution,\n\n122\n00:06:17.984 --> 00:06:21.420\nthe Enhanced Mitigation\nExperienced Toolkit, right,\n\n123\n00:06:21.420 --> 00:06:25.298\ncurrently is a separate download\navailable for you to install.\n\n124\n00:06:25.298 --> 00:06:26.867\nAnd we'll take a look at what it does.\n\n125\n00:06:26.867 --> 00:06:29.843\nSo, here the end of life\nstatement I was mentioning, right,\n\n126\n00:06:29.843 --> 00:06:32.450\nat least as of the time\nwe're filming right now.\n\n127\n00:06:32.450 --> 00:06:36.858\nCurrently it is extended out through\nJuly of 2018, as you can see,\n\n128\n00:06:36.858 --> 00:06:40.322\nso just be aware of that and\nof course, that may change.\n\n129\n00:06:40.322 --> 00:06:43.175\nAlways look at the website for\nthe up to date information.\n\n130\n00:06:43.175 --> 00:06:47.159\nThe current version, the version\nI am going to install work with,\n\n131\n00:06:47.159 --> 00:06:50.654\ncurrent version 5.5.2, so\nwe came in here or I came in here.\n\n132\n00:06:50.654 --> 00:06:53.493\nThere is some guidance by the way\nabout various things that may\n\n133\n00:06:53.493 --> 00:06:54.538\nhappen with the tool.\n\n134\n00:06:54.538 --> 00:06:56.767\nIf you're really gonna\ndelve into this tool and\n\n135\n00:06:56.767 --> 00:06:58.820\nuse it in production environments.\n\n136\n00:06:58.820 --> 00:07:02.610\nDefinitely recommend you pay attention\nnot only to the install guide.\n\n137\n00:07:02.610 --> 00:07:05.460\nThere's some information here\nabout how to deal with that.\n\n138\n00:07:05.460 --> 00:07:09.636\nMaking it available in such a way that\nit could be updated over time but also,\n\n139\n00:07:09.636 --> 00:07:13.814\nthere are some crash related issues with\na certain version of this in certain\n\n140\n00:07:13.814 --> 00:07:14.880\nconfigurations.\n\n141\n00:07:14.880 --> 00:07:16.657\nSo, you just want to make sure\nyou read the guidance here.\n\n142\n00:07:16.657 --> 00:07:20.276\nThere's some proactive stuff you need to\nto do to make sure it will install and\n\n143\n00:07:20.276 --> 00:07:21.780\nwork the right way.\n\n144\n00:07:21.780 --> 00:07:25.558\nSo just pay attention to that but\nif you scroll down you can get in,\n\n145\n00:07:25.558 --> 00:07:27.756\na little overview as to what Emmet is,\n\n146\n00:07:27.756 --> 00:07:32.109\nit is a tool kit that does have a suite\nof different tools available with it.\n\n147\n00:07:32.109 --> 00:07:35.991\nThere's a list I'm gonna show you here in\na minute about 12 different protections\n\n148\n00:07:35.991 --> 00:07:38.953\nthat are offered by the tool\ndepending on the operating system.\n\n149\n00:07:38.953 --> 00:07:42.517\nThe newest versions,\nWindows 10, Server 16,\n\n150\n00:07:42.517 --> 00:07:45.510\ndo support a full suite of protections.\n\n151\n00:07:45.510 --> 00:07:49.309\nSome of the older operating systems, this\ngoes all the way back to Windows 7 and\n\n152\n00:07:49.309 --> 00:07:52.768\nVista, don't support some of\nthe latest protections Emmet provides,\n\n153\n00:07:52.768 --> 00:07:55.110\nIt is operating system and\nplatform dependent.\n\n154\n00:07:55.110 --> 00:07:59.355\nThere are some requirements, dot net\nFramework, version four has to be there\n\n155\n00:07:59.355 --> 00:08:03.164\nand for Emmet to work with IE 10,\nthere's a patch you have to put it.\n\n156\n00:08:03.164 --> 00:08:07.019\nOn serve 12, so you start to pay\nattention to kind of what you're doing.\n\n157\n00:08:07.019 --> 00:08:09.650\nThe live version of the OS.\n\n158\n00:08:09.650 --> 00:08:12.530\nWhen you want to download,\nyou can click on the link here.\n\n159\n00:08:12.530 --> 00:08:16.030\nAnd when you do that,\nit will take you over here,\n\n160\n00:08:16.030 --> 00:08:20.470\nwhich is just another page that Microsoft\nprovides under the Security portion\n\n161\n00:08:20.470 --> 00:08:24.410\nin the Tech Center under Technet for\nSecurity, and this is actually a cool\n\n162\n00:08:24.410 --> 00:08:28.980\nlittle page because it does give\nus a little bit of information.\n\n163\n00:08:28.980 --> 00:08:31.280\nThe download,\nobviously the user guide, ectera.\n\n164\n00:08:31.280 --> 00:08:36.270\nBut it also gives us a nice list\nof all the different protection,\n\n165\n00:08:36.270 --> 00:08:39.200\ncredentials, the protection\ncapabilities is what I meant to say.\n\n166\n00:08:39.200 --> 00:08:43.990\nThat emit does provide the mitigations,\nso this is a nice list, a tax service\n\n167\n00:08:43.990 --> 00:08:49.910\nreduction The ability to do export\naddress table filtering, data execution\n\n168\n00:08:49.910 --> 00:08:54.110\nprevention, what's called DEP, we can\ndo this with things like AD blocker for\n\n169\n00:08:54.110 --> 00:08:58.370\ninstance, and we can do this with\nsecurity, group policy based security.\n\n170\n00:08:58.370 --> 00:09:00.660\nThought processes like\nsoftware restriction but\n\n171\n00:09:00.660 --> 00:09:03.250\nwe do have the capabilities\nto do a lot of this.\n\n172\n00:09:03.250 --> 00:09:05.540\nSo, we have a nice list here.\n\n173\n00:09:05.540 --> 00:09:08.280\nSo you may wanna just take a look,\nget a sense of what's going on.\n\n174\n00:09:08.280 --> 00:09:09.550\nI put the list in the show notes.\n\n175\n00:09:09.550 --> 00:09:12.170\nYou will have a copy of it there\nif you're interested, Good and\n\n176\n00:09:12.170 --> 00:09:15.390\nthen when you go to download,\nyou actually go to the download link.\n\n177\n00:09:15.390 --> 00:09:17.180\nYou'll be able to go in here, download it.\n\n178\n00:09:17.180 --> 00:09:18.890\nI've already got it downloaded.\n\n179\n00:09:18.890 --> 00:09:22.710\nWe can put this in to virtual\nenvironments and it is supported for\n\n180\n00:09:22.710 --> 00:09:26.730\ndeployment on to virtual machines but\nthere are some restrictions.\n\n181\n00:09:26.730 --> 00:09:31.400\nIt will not protect or virtualize\napplications in virtual environments.\n\n182\n00:09:31.400 --> 00:09:35.670\nSo, there's some do's and dont's and\nthis is if you're gonna use this tool And\n\n183\n00:09:35.670 --> 00:09:37.830\nget into it in a production environment.\n\n184\n00:09:37.830 --> 00:09:41.820\nYou gotta read up on the tool,\nread up on the installation requirements.\n\n185\n00:09:41.820 --> 00:09:44.420\nMake sure you know how\nthis tool will work and\n\n186\n00:09:44.420 --> 00:09:48.820\nwhat the potential concerns are if you're\ndeploying this in certain environments.\n\n187\n00:09:48.820 --> 00:09:50.320\nSo I've got the installation running.\n\n188\n00:09:50.320 --> 00:09:52.520\nI've just downloaded\nyou can see right here.\n\n189\n00:09:52.520 --> 00:09:53.500\nIt's an MSI.\n\n190\n00:09:53.500 --> 00:09:56.310\nWe can push this out through\nsystem center config manager.\n\n191\n00:09:56.310 --> 00:09:58.120\nDeploy it through group policy.\n\n192\n00:09:58.120 --> 00:10:01.250\nDifferent ways to deploy the software so\nhopefully that makes sense to you.\n\n193\n00:10:01.250 --> 00:10:05.160\nYou could use recommended settings\ncoming out of the gate here and or\n\n194\n00:10:05.160 --> 00:10:07.920\nyou could configure manually and\njust decide you'll do this later.\n\n195\n00:10:07.920 --> 00:10:08.790\nIt's up to you.\n\n196\n00:10:08.790 --> 00:10:10.680\nSo I'll just click configure manually.\n\n197\n00:10:10.680 --> 00:10:11.410\nFinish this up.\n\n198\n00:10:11.410 --> 00:10:12.680\nJust let it finish.\n\n199\n00:10:12.680 --> 00:10:13.720\nOkay, there we go.\n\n200\n00:10:15.900 --> 00:10:17.950\nClick Close so we have that installed.\n\n201\n00:10:17.950 --> 00:10:19.210\nReally not very difficult.\n\n202\n00:10:19.210 --> 00:10:23.010\nYou literally just click I accept,\nyou click on what settings you want and\n\n203\n00:10:23.010 --> 00:10:24.180\nthen you're ready to go.\n\n204\n00:10:24.180 --> 00:10:27.300\nThere's a command line option with\n[INAUDIBLE] where you do the configuration\n\n205\n00:10:27.300 --> 00:10:35.710\nfrom the command line and or you can go\nin, let me just go over here and get to.\n\n206\n00:10:35.710 --> 00:10:37.090\nTheir it is right there.\n\n207\n00:10:37.090 --> 00:10:42.305\nImmit Gooey so For the install And\nwe'll just pin that,\n\n208\n00:10:42.305 --> 00:10:44.540\nwell,I'll just start it from there.\n\n209\n00:10:44.540 --> 00:10:46.190\nAll right, so we're just gonna load.\n\n210\n00:10:46.190 --> 00:10:48.770\nThe Immit Gooey up,\ngive it a just a second.\n\n211\n00:10:48.770 --> 00:10:51.000\nIt comes up like this.\n\n212\n00:10:51.000 --> 00:10:53.695\nAnd in case you haven't seen the tool for\nfull screen just for\n\n213\n00:10:53.695 --> 00:10:56.400\na second cuz I'm hovering\nover what's there.\n\n214\n00:10:56.400 --> 00:11:00.530\nThe tool looks like this,\nyou may prefer to use the GUI, up to you.\n\n215\n00:11:00.530 --> 00:11:03.510\nBut you could do this from\nthe command line as well.\n\n216\n00:11:03.510 --> 00:11:07.260\nJust use an administrative command prompt\nobviously to do the configuration.\n\n217\n00:11:07.260 --> 00:11:11.650\nBut you'll see here certain system\nstatus indicators are here,\n\n218\n00:11:11.650 --> 00:11:16.800\nblock untrusted funds is disabled\nCertificate trust pinning for\n\n219\n00:11:16.800 --> 00:11:20.800\nSSL certificates is enabled,\nand you'll see ASLR,\n\n220\n00:11:20.800 --> 00:11:25.370\naddress space layout randomization\nis opted in and turned on.\n\n221\n00:11:25.370 --> 00:11:29.070\nAnd you could see some are in\nsome state of configuration.\n\n222\n00:11:29.070 --> 00:11:33.460\nWe need additional information, provided\nbefore it will go into full effect And\n\n223\n00:11:33.460 --> 00:11:38.750\nyou'll see we have running process ids\ndown here so we can see a list of whats\n\n224\n00:11:38.750 --> 00:11:44.260\nrunning kind of scrolling down looking\nat everything that is happening.\n\n225\n00:11:44.260 --> 00:11:48.500\nAnd so we do have the ability to go in\non any one of these i can click off to\n\n226\n00:11:48.500 --> 00:11:53.340\nthe right under the current\nsystem status and for I'd say And\n\n227\n00:11:53.340 --> 00:11:57.190\nI can decide to disable opt in,\nmake it always on.\n\n228\n00:11:57.190 --> 00:11:58.770\nYou know that kind of thing so\n\n229\n00:11:58.770 --> 00:12:02.170\nI can modify the settings if\nI would like to over here.\n\n230\n00:12:02.170 --> 00:12:03.490\nI can come in,\n\n231\n00:12:03.490 --> 00:12:08.050\nI can look at here a little wizard that\nallows me to just go through and do this.\n\n232\n00:12:08.050 --> 00:12:11.550\nYou can see this is what I saw when I was\nrunning the install where I kind of have\n\n233\n00:12:11.550 --> 00:12:14.250\nthat option to decide,\nDon't want to use recommended settings, or\n\n234\n00:12:14.250 --> 00:12:16.760\nif you want to manually\nkind of go through.\n\n235\n00:12:16.760 --> 00:12:21.320\nSo when I do that,\nI can then jump out here and\n\n236\n00:12:21.320 --> 00:12:23.810\nkind of quickly say, hey,\nI want the recommended settings.\n\n237\n00:12:23.810 --> 00:12:27.610\nIt'll reconfigure and apply almost\na template-like configuration,\n\n238\n00:12:27.610 --> 00:12:30.920\nadding in the appropriate\nconfigurations for the protections and\n\n239\n00:12:30.920 --> 00:12:35.070\nthe mitigations You could see here that\nI can go in under configuration and\n\n240\n00:12:35.070 --> 00:12:39.290\nconfigure applications and/or\ncertificate trust items.\n\n241\n00:12:39.290 --> 00:12:41.780\nSo I can go in, we'll just click here for\n\n242\n00:12:41.780 --> 00:12:45.670\napplications, brings up my\napp configuration window.\n\n243\n00:12:45.670 --> 00:12:49.070\nJust move this over so\nwe can kinda see that.\n\n244\n00:12:49.070 --> 00:12:52.640\nAnd you'll see here that\nI can add an application.\n\n245\n00:12:52.640 --> 00:12:58.140\nSo if I go in say add an application,\ngo find an application.\n\n246\n00:12:58.140 --> 00:13:03.310\nLet me go in here and\nlet's go in to the C drive.\n\n247\n00:13:04.440 --> 00:13:08.580\nAnd let's go into here and\n\n248\n00:13:08.580 --> 00:13:12.630\nWindows and let's do something like\n\n249\n00:13:16.890 --> 00:13:22.600\nTo red edit .EXE or\nactually let's do SPO wow win32 lets\n\n250\n00:13:22.600 --> 00:13:26.360\ndo that one because I know that one's not\nlong we're going to worry about it use it,\n\n251\n00:13:26.360 --> 00:13:28.650\nnot going to effect anything\nwhen I'm playing around with it,\n\n252\n00:13:28.650 --> 00:13:31.680\ndont want to put something like notepad\nin it when I use it all the time And\n\n253\n00:13:31.680 --> 00:13:35.570\nthen we wind up having a problem if it\ndoesn't execute it's going to be blocked.\n\n254\n00:13:35.570 --> 00:13:38.210\nSo you can see here one alt\nthirty two I added in, and\n\n255\n00:13:38.210 --> 00:13:40.550\nyou can stack the applications as you go.\n\n256\n00:13:40.550 --> 00:13:43.380\nNotice up here,\nmaybe a little hard to see but the column\n\n257\n00:13:43.380 --> 00:13:46.680\nheaders are all the different mitigation\ntechniques that are all available to me.\n\n258\n00:13:46.680 --> 00:13:50.610\nCheck marks indicate those\nare enabled as you can see.\n\n259\n00:13:50.610 --> 00:13:54.880\nWhen it is not checked off like ASLR\nit is not currently being protected or\n\n260\n00:13:54.880 --> 00:13:57.960\nbeing managed under\nthat mitigation option.\n\n261\n00:13:57.960 --> 00:14:01.710\nSo I'm not using for instance the address\nspace layout randomization right now.\n\n262\n00:14:01.710 --> 00:14:02.880\nWith WinHelp 32.\n\n263\n00:14:02.880 --> 00:14:07.000\nBut I am using data\nexecution prevention and\n\n264\n00:14:07.000 --> 00:14:11.620\nheap prevention or heap stack protection\nand things like that as I go across.\n\n265\n00:14:11.620 --> 00:14:14.770\nSo I can then specify\nwhich ones I want to do.\n\n266\n00:14:14.770 --> 00:14:18.850\nLet's say I add that one in, just to\nadd an additional mitigation in there.\n\n267\n00:14:20.140 --> 00:14:23.700\nAnd I can either right and enable all\nmitigations or disable as well if I don't\n\n268\n00:14:23.700 --> 00:14:27.650\nwant to go checking off a whole bunch\nkind of deciding what I'm going to do.\n\n269\n00:14:27.650 --> 00:14:31.090\nIf I just want to throw everything\nout at once, I can just go ahead and\n\n270\n00:14:31.090 --> 00:14:34.720\nfully protect the app and do that, or\nI could just disable all mitigations.\n\n271\n00:14:34.720 --> 00:14:36.380\nI could do it either.way.\n\n272\n00:14:36.380 --> 00:14:38.310\nSo, that's easy enough to do.\n\n273\n00:14:38.310 --> 00:14:39.910\nI could see the path.\n\n274\n00:14:39.910 --> 00:14:42.280\nFor the application right here.\n\n275\n00:14:42.280 --> 00:14:42.940\nRight?\nSo I can just\n\n276\n00:14:42.940 --> 00:14:46.560\nchange the past statement in here so I can\nactually see where it's executing from.\n\n277\n00:14:46.560 --> 00:14:47.770\nI can show all the settings.\n\n278\n00:14:47.770 --> 00:14:51.210\nSo if I toggle that I'm actually\nlooking at all the sliders.\n\n279\n00:14:51.210 --> 00:14:54.770\nYou may be familiar with you know that\nWindows 8, 8.1, Kind of environment,\n\n280\n00:14:54.770 --> 00:14:57.990\nWindows 10 environment,\non the settings when you go in, right?\n\n281\n00:14:57.990 --> 00:15:00.950\nYou're able to do the sliders\nto set things on and off.\n\n282\n00:15:00.950 --> 00:15:04.410\nSo we're able to see this here, but\nwhat is does is it drills down for\n\n283\n00:15:04.410 --> 00:15:06.915\nus instead of just a simple\ncheck saying enabled.\n\n284\n00:15:06.915 --> 00:15:11.345\nActually can see more of the details\ninside of here, how things are set,\n\n285\n00:15:11.345 --> 00:15:16.015\nwhat they do, is it providing both 32 and\n64 bit support, and it\n\n286\n00:15:16.015 --> 00:15:19.597\ndoes work with both and it would depend,\nobviously, on the app you're gonna be.\n\n287\n00:15:19.597 --> 00:15:22.697\nFocusing on, so just be aware of that.\n\n288\n00:15:22.697 --> 00:15:26.987\nSo you could go in and you can decide\nmore or less how you want to enable this.\n\n289\n00:15:26.987 --> 00:15:31.297\nKind of an interesting set of mitigation\ntechniques all brought together\n\n290\n00:15:31.297 --> 00:15:32.850\ninside this nice package.\n\n291\n00:15:32.850 --> 00:15:35.110\nAnd it's actually a really set of tools.\n\n292\n00:15:35.110 --> 00:15:38.090\nBut as I said,\none that is often lived in the shadows.\n\n293\n00:15:38.090 --> 00:15:41.170\nPeople just haven't really been\naware of it, and a lot of people\n\n294\n00:15:41.170 --> 00:15:43.890\nthat I talk with are like, wow, we wish\nwe would have known about that sooner.\n\n295\n00:15:43.890 --> 00:15:45.170\nWould have used that more.\n\n296\n00:15:45.170 --> 00:15:45.780\nGood morning.\n\n297\n00:15:45.780 --> 00:15:48.320\nWould have used that more if\nwe had only known about it.\n\n298\n00:15:48.320 --> 00:15:52.598\nOr maybe a couple of people in the\norganization have it running locally but\n\n299\n00:15:52.598 --> 00:15:56.462\ndidn't realize it could scale that\nout using SCCM to push it out and\n\n300\n00:15:56.462 --> 00:15:59.986\nconfigure it so some center\nconfig manager when we say that.\n\n301\n00:15:59.986 --> 00:16:04.249\nAnd or, as I said, we could push this out\nto group policies and MSI And deploy it.\n\n302\n00:16:04.249 --> 00:16:06.706\nSo just some interesting stuff\nto consider and think about.\n\n303\n00:16:06.706 --> 00:16:08.886\nCherokee?\n&gt;&gt; You kind of just answered my question\n\n304\n00:16:08.886 --> 00:16:09.806\nthere-\n&gt;&gt; Outstanding.\n\n305\n00:16:09.806 --> 00:16:10.525\nAwesome, high five.\n\n306\n00:16:10.525 --> 00:16:11.766\n&gt;&gt; But I still have one more.\n\n307\n00:16:11.766 --> 00:16:14.133\n&gt;&gt; No, no, no, no,\nyou know you only get one.\n\n308\n00:16:14.133 --> 00:16:15.690\nAnd if I already answered it, well,\n\n309\n00:16:15.690 --> 00:16:18.065\nthen you just did not have\nthe option to ask another one.\n\n310\n00:16:18.065 --> 00:16:18.889\nWhat did you wanna ask?\n\n311\n00:16:18.889 --> 00:16:20.128\n&gt;&gt; Well, the first one was-\n&gt;&gt; Yeah.\n\n312\n00:16:20.128 --> 00:16:22.231\n&gt;&gt; The style of how you implement it.\n\n313\n00:16:22.231 --> 00:16:26.289\nYou mentioned pushing it out via\nsystem center or group policy.\n\n314\n00:16:26.289 --> 00:16:28.432\nAnd that was my thinking was, hey,\n\n315\n00:16:28.432 --> 00:16:33.366\nis this something that's really designed\nto be installed on a per machine basis,\n\n316\n00:16:33.366 --> 00:16:37.654\nor can we have, like, I guess,\nI've worked with Solutions in the past\n\n317\n00:16:37.654 --> 00:16:41.270\nwhere I had centralized updates,\nsome things like that.\n\n318\n00:16:41.270 --> 00:16:44.540\nPushing them out in\na deployment type situations.\n\n319\n00:16:44.540 --> 00:16:46.494\nSo that's what I was just\nkind of thinking with there,\n\n320\n00:16:46.494 --> 00:16:48.920\nwhich makes perfect sense\nusing system center.\n\n321\n00:16:48.920 --> 00:16:52.330\nAnd then my second question was, so\njust like any other type of malware,\n\n322\n00:16:52.330 --> 00:16:55.150\nwe shouldn't be mixing and\nmatching with other third-party\n\n323\n00:16:55.150 --> 00:16:58.160\ntypes of malware if we choose\nto use this particular tool.\n\n324\n00:16:58.160 --> 00:16:58.841\n&gt;&gt; Well, this is not malware.\n\n325\n00:16:58.841 --> 00:17:01.541\nSo you just said malware.\n\n326\n00:17:01.541 --> 00:17:03.625\nSo I just want to be clear, right?\n\n327\n00:17:03.625 --> 00:17:05.032\nSo everybody knows this is not malware,\nright?\n\n328\n00:17:05.032 --> 00:17:09.467\nThis is a set of security protections\nthat will hopefully allow us to prevent,\n\n329\n00:17:09.467 --> 00:17:10.348\nright, yeah.\n\n330\n00:17:10.348 --> 00:17:12.029\nI just wanna make sure we're clear,\ncuz this is not.\n\n331\n00:17:12.029 --> 00:17:14.853\nI don't think Microsoft would appreciate\nus labeling their product malware.\n\n332\n00:17:14.853 --> 00:17:15.894\n&gt;&gt; We're putting in malware.\n[LAUGH]\n\n333\n00:17:15.894 --> 00:17:16.661\n&gt;&gt; So it is not malware.\n\n334\n00:17:16.661 --> 00:17:20.325\nBut, so\nlet's try your question one more time.\n\n335\n00:17:20.325 --> 00:17:20.847\n&gt;&gt; Sure.\n\n336\n00:17:20.847 --> 00:17:23.044\n&gt;&gt; So I make sure I understand it,\ncuz I was focused on the, hey,\n\n337\n00:17:23.044 --> 00:17:24.284\nwe are saying it is malware thing.\n\n338\n00:17:24.284 --> 00:17:26.663\nThat we know it's not malware,\nso one more time.\n\n339\n00:17:26.663 --> 00:17:28.611\nSo then what are you asking specifically?\n\n340\n00:17:28.611 --> 00:17:29.976\nMixing and matching, right?\n\n341\n00:17:29.976 --> 00:17:32.885\n&gt;&gt; We don't need to add additional\nthird-party anti-malware?\n\n342\n00:17:32.885 --> 00:17:34.736\n&gt;&gt; Anti-malware much better.\n\n343\n00:17:34.736 --> 00:17:36.767\nSo it's just the small things.\n\n344\n00:17:36.767 --> 00:17:37.913\n&gt;&gt; It's just the small things.\n\n345\n00:17:37.913 --> 00:17:41.010\n&gt;&gt; That whole context thing that\ndoes make a bit of a difference.\n\n346\n00:17:41.010 --> 00:17:44.160\nSo question is, is it a good idea?\n\n347\n00:17:44.160 --> 00:17:46.002\nAre we gonna have a problem\nif we are mixing and\n\n348\n00:17:46.002 --> 00:17:48.491\nmatching this set of protections\nusing admin for instance.\n\n349\n00:17:48.491 --> 00:17:52.609\nAnd other, either Microsoft sponsored\ntools like Security Essentials,\n\n350\n00:17:52.609 --> 00:17:56.547\nWindows Defender, whatever you know as,\nand or other tools, right?\n\n351\n00:17:56.547 --> 00:17:58.921\nIs what you´re asking and suggesting.\n\n352\n00:17:58.921 --> 00:18:03.371\nSo like anything else,\nwe should never rely only on\n\n353\n00:18:03.371 --> 00:18:08.030\none tool to do something\nwith regards to security.\n\n354\n00:18:08.030 --> 00:18:11.600\nYet, we tell you for instance, that the\nenterprise level, certainly standardize on\n\n355\n00:18:11.600 --> 00:18:16.310\nan AV Platform, but have more than\none AV engine available for scanning,\n\n356\n00:18:16.310 --> 00:18:19.710\nultimately, because one engine by itself\nisn't going to catch everything, right?\n\n357\n00:18:19.710 --> 00:18:24.470\nWe know that just based on reliance on\na single vendor, their ability to keep\n\n358\n00:18:24.470 --> 00:18:29.060\nup with APTs, advance persistent threats,\nzero day exploits.\n\n359\n00:18:29.060 --> 00:18:30.980\nAll the things we often hear about, and\n\n360\n00:18:30.980 --> 00:18:34.710\njust are always concerned about, that no\none vendor is gonna catch everything.\n\n361\n00:18:34.710 --> 00:18:38.710\nSo it's always a good recommendation\nto be adding in additional layers,\n\n362\n00:18:38.710 --> 00:18:40.450\nbefore I go back to the idea\nof defense in depth.\n\n363\n00:18:40.450 --> 00:18:44.935\nSo I would say, certainly, there is\nno downside and no, hey, if I use and\n\n364\n00:18:44.935 --> 00:18:49.615\nI use this, I'm gonna blow the machine up\nkind of scenario that I'm aware of anyway,\n\n365\n00:18:49.615 --> 00:18:50.985\nthat I've come across.\n\n366\n00:18:50.985 --> 00:18:53.068\nThere certainly are, every so often,\n\n367\n00:18:53.068 --> 00:18:57.600\nthese off in the corner things that happen\nwhere you deploy a tool like this, and\n\n368\n00:18:57.600 --> 00:18:59.830\nas I said, there are little\nquirky things associated with it,\n\n369\n00:18:59.830 --> 00:19:03.280\nlike trying to be on the right side of\ndisclosure when we talk about a tool.\n\n370\n00:19:03.280 --> 00:19:06.700\nI said hey, there's a little\ncrash issue in one configuration,\n\n371\n00:19:06.700 --> 00:19:09.030\nit's documented on the help page,\nmake sure you read it.\n\n372\n00:19:09.030 --> 00:19:11.710\nIf that's you, use the guidance there.\n\n373\n00:19:11.710 --> 00:19:14.452\nApply the specific patch to make\nsure it runs the right way.\n\n374\n00:19:14.452 --> 00:19:17.750\nSo you avoid that, I've seen certain\nthings happen with tools like this where\n\n375\n00:19:17.750 --> 00:19:20.930\nwe combine it with other software\nto your point where, yeah,\n\n376\n00:19:20.930 --> 00:19:23.440\nit does create some\ninstability from time to time.\n\n377\n00:19:23.440 --> 00:19:26.641\nBut typically the vendors then able\nto make a recommendation about, okay,\n\n378\n00:19:26.641 --> 00:19:28.898\napply this patch,\ndownload this issue or whatever.\n\n379\n00:19:28.898 --> 00:19:31.861\nSo I'm not aware of any\nspecific circumstance,\n\n380\n00:19:31.861 --> 00:19:36.271\nwe're using something like this or\nthis specific product combined with\n\n381\n00:19:36.271 --> 00:19:41.057\nany other product would lead to a less\nsecure as opposed to more secure stance.\n\n382\n00:19:41.057 --> 00:19:41.617\n&gt;&gt; Okay.\n\n383\n00:19:41.617 --> 00:19:43.360\n&gt;&gt; So I'm not aware of it.\n\n384\n00:19:43.360 --> 00:19:44.770\nI would not say that's a bad, or\n\n385\n00:19:44.770 --> 00:19:47.730\nI would say that's not gonna be\nan issue as far as I can tell.\n\n386\n00:19:47.730 --> 00:19:49.630\nAll right, nothing like those clear and\n\n387\n00:19:49.630 --> 00:19:53.470\nconcise questions to lead us\ninto the proper thought process.\n\n388\n00:19:53.470 --> 00:19:53.980\nAll right, so\n\n389\n00:19:53.980 --> 00:19:57.070\nI just want to point a couple other things\nhere that may be of interest to you.\n\n390\n00:19:57.070 --> 00:19:59.050\nWe kind of took a look at the apps area.\n\n391\n00:19:59.050 --> 00:20:00.570\nThere is this area up here we trust,\n\n392\n00:20:00.570 --> 00:20:05.280\nthe certificate trust, that I mentioned\nwhere we can add websites in.\n\n393\n00:20:05.280 --> 00:20:10.370\nAnd then protect those websites, or\nspecify, as you can see here, right?\n\n394\n00:20:10.370 --> 00:20:11.380\nThe pin rule.\n\n395\n00:20:12.530 --> 00:20:17.145\nSo I can go in down here, and I can add\nthis website and specify what it is.\n\n396\n00:20:17.145 --> 00:20:18.891\nIt's just generic new domain.com.\n\n397\n00:20:18.891 --> 00:20:21.770\nObviously, that's really\nnot gonna us any good.\n\n398\n00:20:21.770 --> 00:20:24.379\nBut if you put something in here, right?\n\n399\n00:20:29.789 --> 00:20:31.329\nITPro.TV, I guess, right?\n\n400\n00:20:34.713 --> 00:20:38.181\nSo if we put in a website\nthat we then want to protect.\n\n401\n00:20:38.181 --> 00:20:40.756\nAgain, we could then use this website or\n\n402\n00:20:40.756 --> 00:20:44.326\nprotect this website with\neither rules that we create.\n\n403\n00:20:44.326 --> 00:20:48.772\nAnd or we can create a rule right here,\nso we can come in and we can say or\n\n404\n00:20:48.772 --> 00:20:52.990\nwe can take a look and see,\nright here I don't have any rules, but\n\n405\n00:20:52.990 --> 00:20:57.290\nI can actually go ahead and\nwork with the rules, I should say.\n\n406\n00:20:57.290 --> 00:20:58.602\nThey're not created here,\nbut I can look at rules.\n\n407\n00:20:58.602 --> 00:21:01.696\nAnd if I have certificate pending rules,\nthe idea here is that,\n\n408\n00:21:01.696 --> 00:21:05.827\nwe could take these certificates that are\ngonna provide trust and authentication for\n\n409\n00:21:05.827 --> 00:21:09.410\nus and say, these are trusted and\nthese websites are trusted as a result.\n\n410\n00:21:09.410 --> 00:21:12.370\nSo these would be essentially\nlike a white list capability.\n\n411\n00:21:12.370 --> 00:21:15.241\nThat's probably what I'm trying to ponder\nin my mind as I'm talking to you and\n\n412\n00:21:15.241 --> 00:21:15.856\nthink about it.\n\n413\n00:21:15.856 --> 00:21:19.626\nAnd we could create these white list\ncapabilities here while we list a websites\n\n414\n00:21:19.626 --> 00:21:23.526\nand make them available and say, they're\non authorized list and protect them.\n\n415\n00:21:23.526 --> 00:21:28.392\nIt's one of the newer features that\nwe do offer with EMET, as of 50.\n\n416\n00:21:28.392 --> 00:21:31.547\nSo the 5x series, 55, 52, etc.\n\n417\n00:21:31.547 --> 00:21:34.199\nBut the 50 version of\nthe product forward protects and\n\n418\n00:21:34.199 --> 00:21:36.071\nadds this capability as a new feature.\n\n419\n00:21:36.071 --> 00:21:39.702\nAnd then the other thing we have here\nas well, there's some reporting items,\n\n420\n00:21:39.702 --> 00:21:41.472\nwe report into the windows event log.\n\n421\n00:21:41.472 --> 00:21:45.802\nWe do have the ability to specify\nthat we will log these items and\n\n422\n00:21:45.802 --> 00:21:48.510\nas a result show them when they come up.\n\n423\n00:21:48.510 --> 00:21:51.210\nAnd although not that this is really\nof great interest to you, but\n\n424\n00:21:51.210 --> 00:21:56.660\nif you're one of those people that wants\nto go in and change the background.\n\n425\n00:21:56.660 --> 00:22:01.470\nWe have all these additional skins here,\nso you can go in and just modify and\n\n426\n00:22:01.470 --> 00:22:02.850\ngo stealth mode and go dark.\n\n427\n00:22:02.850 --> 00:22:03.710\nYeah, look at that.\n\n428\n00:22:03.710 --> 00:22:05.230\nThat's like really cool, right?\n\n429\n00:22:05.230 --> 00:22:07.474\nActually, I'll admit to a guilty pleasure.\n\n430\n00:22:07.474 --> 00:22:10.613\nWhen I get bored and have absolutely\nnothing to do, I will go in and\n\n431\n00:22:10.613 --> 00:22:13.639\njust start playing around with\nthese to see all the cool skins,\n\n432\n00:22:13.639 --> 00:22:15.943\nbecause this product has\nlike a million skins.\n\n433\n00:22:15.943 --> 00:22:16.508\n&gt;&gt; Wow.\n\n434\n00:22:16.508 --> 00:22:18.117\n[LAUGH]\n&gt;&gt; It's just the craziest thing in\n\n435\n00:22:18.117 --> 00:22:19.498\nthe world, and this is a pumpkin one.\n\n436\n00:22:19.498 --> 00:22:22.097\n&gt;&gt; They has this graphic designer on their\nteam that just was really gung-ho about\n\n437\n00:22:22.097 --> 00:22:22.615\nthis project.\n\n438\n00:22:22.615 --> 00:22:26.974\n&gt;&gt; Who just went like, wow, I'm just gonna\ngo blow the doors off of anybody that uses\n\n439\n00:22:26.974 --> 00:22:28.693\nthis product, so absolutely.\n\n440\n00:22:28.693 --> 00:22:31.130\nAnd the other nice thing is and\nit's kind of hard to see now probably,\n\n441\n00:22:31.130 --> 00:22:32.573\nbecause I went ahead and messed around.\n\n442\n00:22:32.573 --> 00:22:35.028\nLet me take the pumpkin skin off for\na second.\n\n443\n00:22:35.028 --> 00:22:37.551\nLet me go back to the white one,\nthe EMET style one, the default one, so\n\n444\n00:22:37.551 --> 00:22:38.109\nyou could see.\n\n445\n00:22:38.109 --> 00:22:41.975\nBut up here, under quick profile\nname custom security settings,\n\n446\n00:22:41.975 --> 00:22:46.128\nwe can go in and we could see maximum\nsecurity, recommended security.\n\n447\n00:22:46.128 --> 00:22:49.370\nThere's different levels here, right?\n\n448\n00:22:49.370 --> 00:22:53.870\nAnd it says here, if you're gonna go in,\nthen this is sometimes where you get\n\n449\n00:22:53.870 --> 00:22:57.540\na little error if you go change this\ndepending on what you're running.\n\n450\n00:22:57.540 --> 00:22:59.048\nWe just quit here real quick and\nput it back in.\n\n451\n00:22:59.048 --> 00:23:03.083\nYou could see sometimes the GUI crashes,\nthis is what I was talking about, right?\n\n452\n00:23:03.083 --> 00:23:04.890\nAnd so you may have to restart it.\n\n453\n00:23:04.890 --> 00:23:08.810\nBut you can go in and you can play\naround with those settings and\n\n454\n00:23:08.810 --> 00:23:10.850\nhave them change out.\n\n455\n00:23:10.850 --> 00:23:12.238\nAnd you could then go in and\n\n456\n00:23:12.238 --> 00:23:16.229\nactually apply different configurations\nhere under the profile as well.\n\n457\n00:23:19.224 --> 00:23:23.448\nAnd so, if you do that on Windows 10\nwithout the patch and the little bit of\n\n458\n00:23:23.448 --> 00:23:27.690\nupdating that needs to be done, it does\nact a little weird out of the gates.\n\n459\n00:23:27.690 --> 00:23:28.720\nSo just be a little aware of that.\n\n460\n00:23:28.720 --> 00:23:33.015\nBut you can see, that a change is made,\nI do not know if you could see it,\n\n461\n00:23:33.015 --> 00:23:36.910\na change to the profile,\ndoes require a restart over here.\n\n462\n00:23:36.910 --> 00:23:38.972\nIt's hard to see, but\nI have to restart my my machine.\n\n463\n00:23:38.972 --> 00:23:40.550\nThat will prevent that from happening.\n\n464\n00:23:40.550 --> 00:23:41.105\n&gt;&gt; Save those settings.\n\n465\n00:23:41.105 --> 00:23:43.553\n&gt;&gt; But I have to restart it\nto get those change to apply.\n\n466\n00:23:43.553 --> 00:23:45.665\nI'm not gonna restart it\nnow during the demo, but\n\n467\n00:23:45.665 --> 00:23:48.100\nyou could see that I can go in and\ndo that as well.\n\n468\n00:23:48.100 --> 00:23:49.505\nSo just be aware of that.\n\n469\n00:23:49.505 --> 00:23:52.213\nAnd you'll see if I wanna\nright-click down here on any one\n\n470\n00:23:52.213 --> 00:23:55.527\nof the processes just to wrap up our\nconversations in here and going in,\n\n471\n00:23:55.527 --> 00:23:57.313\nI'm just gonna randomly choose one.\n\n472\n00:23:57.313 --> 00:23:59.564\nWe just make sure I'm not\nchoosing anything crazy.\n\n473\n00:23:59.564 --> 00:24:02.574\nThe Windows audio device graph.\n\n474\n00:24:02.574 --> 00:24:03.978\nIn isolation.\n\n475\n00:24:03.978 --> 00:24:05.814\nYeah, it's probably not\na really important one.\n\n476\n00:24:05.814 --> 00:24:12.010\nSo if I click there,\nconfigure process, I can also get in.\n\n477\n00:24:12.010 --> 00:24:15.680\nDo the same thing that I was doing,\nwhen I went over there to the apps and\n\n478\n00:24:15.680 --> 00:24:17.530\nI launched the app configuration.\n\n479\n00:24:17.530 --> 00:24:20.250\nAnd I wouldn't have to find that app and\nput it in.\n\n480\n00:24:20.250 --> 00:24:22.220\nI could do that just by\npulling a process out and\n\n481\n00:24:22.220 --> 00:24:24.740\nsaying all I want this specific process.\n\n482\n00:24:24.740 --> 00:24:27.840\nMeaning to executable that's running\nthe process and I could get figure that\n\n483\n00:24:27.840 --> 00:24:31.340\napplication specifically,\nwith protections just on the fly, right.\n\n484\n00:24:31.340 --> 00:24:32.530\nSo don't have to worry about it.\n\n485\n00:24:32.530 --> 00:24:36.080\nSo, I can do that and\njust make it easier to navigate back and\n\n486\n00:24:36.080 --> 00:24:37.501\nforth using the tools.\n\n487\n00:24:37.501 --> 00:24:42.070\nSo it is kind of nice, it's a tool you may\nwant to spend a little bit of time with.\n\n488\n00:24:42.070 --> 00:24:46.590\nYou could export your settings here,\nonce you have them all set up, and\n\n489\n00:24:46.590 --> 00:24:49.190\nsave them off as a config file,\nan xml file.\n\n490\n00:24:49.190 --> 00:24:51.200\nImport is an option as well, obviously,\n\n491\n00:24:51.200 --> 00:24:56.480\nso I could configure this on a workstation\nthat is essentially gonna be my baseline.\n\n492\n00:24:56.480 --> 00:25:00.150\nI could then export those configurations,\nwhich is typically what we would do.\n\n493\n00:25:00.150 --> 00:25:05.102\nI could then, import that configuration\ninto the deployed image of this solution,\n\n494\n00:25:05.102 --> 00:25:09.810\nso it's running the right way across\nthe enterprise where I wanna scale it.\n\n495\n00:25:09.810 --> 00:25:12.414\nSo, if you wanna use that\ntough process of running this,\n\n496\n00:25:12.414 --> 00:25:15.633\nmaybe controlling what systems center\nconfig manager to push it out.\n\n497\n00:25:15.633 --> 00:25:18.949\nAnd then using a standard or\nbaseline config to monitor with,\n\n498\n00:25:18.949 --> 00:25:22.073\nyou could create that on\nan isolated machine, export it,\n\n499\n00:25:22.073 --> 00:25:25.961\nthen import it the XML config file,\nand then you're able to apply that to\n\n500\n00:25:25.961 --> 00:25:29.115\nany of the machines that\nare gonna use those protections.\n\n501\n00:25:29.115 --> 00:25:32.875\nSo, it is nice when we have to set\nthe sub vendor, for an OS for instance.\n\n502\n00:25:32.875 --> 00:25:36.605\nI will tend to do a clean install,\nconfigure it, export the config, and\n\n503\n00:25:36.605 --> 00:25:40.430\nthen import it as a part of\nthe deployment across the organization.\n\n504\n00:25:40.430 --> 00:25:42.760\nSo just so you're aware of that and\nyou have a sense of what that's works.\n\n505\n00:25:42.760 --> 00:25:45.940\n&gt;&gt; So that is Emmett, Mister Emmett.\n\n506\n00:25:45.940 --> 00:25:46.740\n&gt;&gt; Nice to meet him, yeah.\n\n507\n00:25:46.740 --> 00:25:49.660\n&gt;&gt; Yes, Mister Emmett,\nvery nice gentleman and fellow.\n\n508\n00:25:49.660 --> 00:25:52.340\nSo that is Emmett if you\nhave not seen it before, but\n\n509\n00:25:52.340 --> 00:25:55.070\nit'll be worth just a few minutes\nof our time just to show you that.\n\n510\n00:25:55.070 --> 00:25:57.530\nAgain go out download the tool,\nit is available for you,\n\n511\n00:25:57.530 --> 00:25:58.610\nyou can play around with it.\n\n512\n00:25:58.610 --> 00:26:02.750\n&gt;&gt; It is a nice way to get in there and\ncontrol the bunch or apply a bunch of\n\n513\n00:26:02.750 --> 00:26:06.590\nthese mitigations that could be used\nto control various aspects of security\n\n514\n00:26:06.590 --> 00:26:10.790\non a specific endpoint or across several\nendpoints, servers, and work stations.\n\n515\n00:26:10.790 --> 00:26:15.432\nWorks both on desktops and servers,\nvirtual environments, 32 and 64 bit.\n\n516\n00:26:15.432 --> 00:26:15.979\n&gt;&gt; Awesome.\n\n517\n00:26:15.979 --> 00:26:19.080\n&gt;&gt; Really couldn't ask for more than that,\nand cool collection of skins.\n\n518\n00:26:19.080 --> 00:26:19.881\n&gt;&gt; Yeah, I was going to say,\n\n519\n00:26:19.881 --> 00:26:21.009\nnot only is it an anti-\n&gt;&gt; That is the selling point right there.\n\n520\n00:26:21.009 --> 00:26:24.170\n&gt;&gt; An anti-malware piece of software.\n\n521\n00:26:24.170 --> 00:26:28.074\nBut yeah, if you miss MySpace and\nchanging your background and everything,\n\n522\n00:26:28.074 --> 00:26:31.749\nyou now have a way to go ahead and\nexpress your artistic abilities there.\n\n523\n00:26:31.749 --> 00:26:32.880\n&gt;&gt; You do, you do.\n\n524\n00:26:32.880 --> 00:26:36.140\n&gt;&gt; But for this show we are out of time,\nso we'll go ahead and sign out.\n\n525\n00:26:36.140 --> 00:26:37.590\nI've been your host, Cherokee Boose.\n\n526\n00:26:37.590 --> 00:26:38.400\n&gt;&gt; I'm Adam Gordan.\n\n527\n00:26:38.400 --> 00:26:42.060\n&gt;&gt; See you next time here at ITProTV.\n\n528\n00:26:42.060 --> 00:26:48.058\n&gt;&gt; [MUSIC]\n\n529\n00:26:48.058 --> 00:26:55.620\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "233879260"
        },
        {
          "description": "In this episode, Cherokee and Adam discuss additional ways to help prevent malware. They introduce Software Restriction Policies (SRPs) and the four associated rules as well ass the different security levels that may be configured. Tune in for a demonstration of how to setup and configure SRP's.",
          "length": "1850",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-2-implementing_malware_protections_pt2-091317-PGM.00_30_33_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-2-implementing_malware_protections_pt2-091317-PGM.00_30_33_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-2-implementing_malware_protections_pt2-091317-PGM.00_30_33_25.Still001-sm.jpg",
          "title": "Implementing Malware Protection Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:03.080\nWelcome to ITProTV,\nI'm your host, Don Prezet.\n\n2\n00:00:03.080 --> 00:00:06.740\n[CROSSTALK]\n\n3\n00:00:06.740 --> 00:00:12.062\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.062 --> 00:00:15.334\n&gt;&gt; Welcome back to your\nSecuring Windows Server 2016 series.\n\n5\n00:00:15.334 --> 00:00:16.702\nI'm your show host, Cherokee Boose.\n\n6\n00:00:16.702 --> 00:00:17.672\n&gt;&gt; Woo-hoo.\n\n7\n00:00:17.672 --> 00:00:18.284\n&gt;&gt; Woo-hoo.\n\n8\n00:00:18.284 --> 00:00:19.599\nThis is actually a part 2.\n\n9\n00:00:19.599 --> 00:00:21.730\nWe were just saying,\nhey, best part 2 ever.\n\n10\n00:00:21.730 --> 00:00:27.769\nSo you're in the right place for\nsome more anti-malware discussions.\n\n11\n00:00:27.769 --> 00:00:28.542\n&gt;&gt; Stuff.\n\n12\n00:00:28.542 --> 00:00:29.289\n&gt;&gt; Stuff.\n\n13\n00:00:29.289 --> 00:00:29.789\n[LAUGH]\n&gt;&gt; Things, discussions, whatever.\n\n14\n00:00:29.789 --> 00:00:31.259\n&gt;&gt; We're gonna be talking about\n\n15\n00:00:31.259 --> 00:00:33.869\nimplementing malware protection.\n&gt;&gt; That's what we are gonna do,\n\n16\n00:00:33.869 --> 00:00:35.271\nabsolutely.\n&gt;&gt; Super important again.\n\n17\n00:00:35.271 --> 00:00:36.282\n&gt;&gt; Very important stuff.\n\n18\n00:00:36.282 --> 00:00:36.838\nAll right,\n\n19\n00:00:36.838 --> 00:00:38.886\nso, remember, Emmett said hi, so.\n&gt;&gt; Hey,\n\n20\n00:00:38.886 --> 00:00:39.594\nEmmett.\n&gt;&gt; Yeah,\n\n21\n00:00:39.594 --> 00:00:42.838\nremember Emmett from our last episode?\nIf you haven't seen Emmett, if you wanna\n\n22\n00:00:42.838 --> 00:00:45.063\nhang out with him, he's a cool guy.\nAll right, so,\n\n23\n00:00:45.063 --> 00:00:47.750\nlet's talk about malware\nprotection a little bit more.\n\n24\n00:00:47.750 --> 00:00:49.490\nIn our last discussion, and\n\n25\n00:00:49.490 --> 00:00:52.730\nif you have not seen our last discussion\nas I mentioned, we previewed and kind\n\n26\n00:00:52.730 --> 00:00:55.650\nof talked about a very interesting tool\none that you don't often hear much about.\n\n27\n00:00:55.650 --> 00:00:58.799\nAnd you may not know about\nwith regards to mitigation and\n\n28\n00:00:58.799 --> 00:01:02.618\nsecurity on the Server 16 platform,\nit does work on Server 16,\n\n29\n00:01:02.618 --> 00:01:05.970\nworks on Windows 10,\ngoes all the way back to Windows 7.\n\n30\n00:01:05.970 --> 00:01:08.460\nSo you may wanna take a look at that,\nas I mentioned, it's called Emmet.\n\n31\n00:01:09.860 --> 00:01:13.509\nBut in addition to all of the mitigations\nthat we can apply using a tool set like\n\n32\n00:01:13.509 --> 00:01:15.318\nEmmet, we have other capabilities.\n\n33\n00:01:15.318 --> 00:01:18.641\nI mentioned in the very beginning of\nthe last episode where I said, and\n\n34\n00:01:18.641 --> 00:01:21.376\nin addition,\nwe'll talk about all of this other stuff.\n\n35\n00:01:21.376 --> 00:01:25.709\nAnd I mentioned things like software\nrestriction policies, app locker as a set\n\n36\n00:01:25.709 --> 00:01:30.107\nof group policy protections that we can\nuse not specific to malware mitigation,\n\n37\n00:01:30.107 --> 00:01:34.782\nbut certainly can be turned and applied to\nthe restriction of applications that run.\n\n38\n00:01:34.782 --> 00:01:38.160\nAnd malware can certainly fall into\nthat thought process if we allow it to.\n\n39\n00:01:38.160 --> 00:01:40.330\nSo we're gonna take\na look at how that works.\n\n40\n00:01:40.330 --> 00:01:43.100\nAnd I mentioned something\ncalled virtualization, or\n\n41\n00:01:43.100 --> 00:01:46.850\nvirtualized security, the virtual\nsecurity stack that we're using.\n\n42\n00:01:46.850 --> 00:01:49.890\nAnd we've talked about it with Credential\nGuard already in prior episodes.\n\n43\n00:01:49.890 --> 00:01:52.880\nWe're gonna revisit that, although we\nmay not get to that in this episode,\n\n44\n00:01:52.880 --> 00:01:54.440\nit may be an upcoming one.\n\n45\n00:01:54.440 --> 00:01:57.788\nBut we're gonna revisit that and\ntake a look at a different aspect of those\n\n46\n00:01:57.788 --> 00:02:00.276\nsettings, something known as Device Guard,\nright?\n\n47\n00:02:00.276 --> 00:02:03.650\nSo we're gonna take a look at\nthat aspect of that as well.\n\n48\n00:02:03.650 --> 00:02:07.091\nAnd that, as they say,\nwill be just, well, that.\n\n49\n00:02:07.091 --> 00:02:10.404\nAll right, so now that I've said that so\nmany times that I can no longer say\n\n50\n00:02:10.404 --> 00:02:12.498\nanything other than that,\nthere it is again.\n\n51\n00:02:12.498 --> 00:02:13.146\nLet's take a look.\n\n52\n00:02:13.146 --> 00:02:15.609\n&gt;&gt; A blooper video of just cutting it out.\n\n53\n00:02:15.609 --> 00:02:17.791\n&gt;&gt; Of me just saying that, that, that,\nthat, that, almost like rat, tat, tat.\n\n54\n00:02:17.791 --> 00:02:20.630\n&gt;&gt; [LAUGH]\n&gt;&gt; Already, so let's take a look,\n\n55\n00:02:20.630 --> 00:02:25.000\nall kidding aside, let's take a look at\nhow we do some group policy-based software\n\n56\n00:02:25.000 --> 00:02:26.590\ncontrol and mitigation.\n\n57\n00:02:26.590 --> 00:02:30.870\nI've gone in to my Group Policy manager,\nso I'm on my domain controller.\n\n58\n00:02:30.870 --> 00:02:34.130\nI've gone ahead and just opened up\nin the Server Manager under Tools,\n\n59\n00:02:34.130 --> 00:02:36.010\nthe Group Policy Management Console.\n\n60\n00:02:36.010 --> 00:02:39.640\nSo I've go that open, you've seen\nme do this in many of our episodes.\n\n61\n00:02:39.640 --> 00:02:43.460\nAnd I've just gone down into the domain,\npracticelabs.com.\n\n62\n00:02:43.460 --> 00:02:46.924\nMy default domain policy's\nsitting up there,\n\n63\n00:02:46.924 --> 00:02:51.349\ngot a couple of OUs,\nthe APAC OU nested underneath the IT OU.\n\n64\n00:02:51.349 --> 00:02:55.162\nAnd I've just right-clicked on\nthe a APAC OU, no rhyme or reason here,\n\n65\n00:02:55.162 --> 00:02:59.238\nby the way, just it was the first OU up\nin the list, so I simply chose that one.\n\n66\n00:02:59.238 --> 00:03:03.670\nBut no significance other than that,\nand I simply did the following.\n\n67\n00:03:03.670 --> 00:03:07.810\nAnd I created as you could see here\na GPO and named it and I linked and\n\n68\n00:03:07.810 --> 00:03:11.950\ncreated two blank GPOs so\nwe can just use them for some discussion.\n\n69\n00:03:11.950 --> 00:03:15.685\nThat way we can keep track of what we're\ndoing, I called one Software Restriction,\n\n70\n00:03:15.685 --> 00:03:18.670\ngonna take a look at that, and\nthen I called one App Locker.\n\n71\n00:03:18.670 --> 00:03:21.020\nSoftware Restriction, this one we'll\ntake a look at software restriction.\n\n72\n00:03:21.020 --> 00:03:23.750\nPolicies, how to set them up,\nwhat they are.\n\n73\n00:03:23.750 --> 00:03:27.141\nAnd then we'll take a look at app\nlocker as well which is very similar\n\n74\n00:03:27.141 --> 00:03:28.530\nto software restriction.\n\n75\n00:03:28.530 --> 00:03:30.310\nSo, when we think about\nsoftware restriction,\n\n76\n00:03:30.310 --> 00:03:32.840\nlet me just go in, right-click and\nedit while we're talking.\n\n77\n00:03:32.840 --> 00:03:36.410\nSo we can open up the policy template,\nand we can take a look at it.\n\n78\n00:03:36.410 --> 00:03:41.220\nI'm gonna open up the Computer\nConfiguration, go into Policies, just make\n\n79\n00:03:41.220 --> 00:03:45.200\nthis full size, while we're talking,\nextend this out, just for a moment.\n\n80\n00:03:45.200 --> 00:03:47.850\nAnd under Policies,\nI'm gonna go to Windows Settings.\n\n81\n00:03:47.850 --> 00:03:50.050\nWe'll bring this up, go to Security.\n\n82\n00:03:50.050 --> 00:03:52.780\nAnd under Security Settings,\ncome down here.\n\n83\n00:03:52.780 --> 00:03:56.070\nAnd again, just let me extend\nthis out just a little bit.\n\n84\n00:03:56.070 --> 00:03:59.250\nAnd I have Software Restriction\npolicies right down here.\n\n85\n00:03:59.250 --> 00:04:01.070\nYou'll notice when I click there,\n\n86\n00:04:01.070 --> 00:04:03.690\nthat there's no software\nrestriction policy defined.\n\n87\n00:04:03.690 --> 00:04:07.125\nIt's essentially empty,\nwhich is okay, we can fix that.\n\n88\n00:04:07.125 --> 00:04:09.650\nRight-click, New Software\nRestriction Policy.\n\n89\n00:04:09.650 --> 00:04:12.260\nNow doing that doesn't\nactually create a policy.\n\n90\n00:04:12.260 --> 00:04:16.930\nIt gives us a working set of tools that\nwe can then manipulate to start to craft\n\n91\n00:04:16.930 --> 00:04:18.860\nour policy, as you can see.\n\n92\n00:04:18.860 --> 00:04:21.900\nI do then have Security Levels,\nAdditional Rules.\n\n93\n00:04:21.900 --> 00:04:25.110\nI have Enforcement, Designated File Types,\nand Trusted Publishers.\n\n94\n00:04:25.110 --> 00:04:27.290\nSo, we're gonna take a look\nat what goes on in here.\n\n95\n00:04:27.290 --> 00:04:31.160\nSo the idea of software restriction\npolicies is the ability for us to go in,\n\n96\n00:04:31.160 --> 00:04:36.280\nspecify certain kinds of software,\nor identify software.\n\n97\n00:04:36.280 --> 00:04:40.950\nAnd then allow us to govern how that\napplication, or whether that application\n\n98\n00:04:40.950 --> 00:04:44.610\nwill be run and installed under\na certain set of conditions or rules.\n\n99\n00:04:44.610 --> 00:04:48.553\nAnd so we're thinking about how we're\ngonna allow or somehow tightly control and\n\n100\n00:04:48.553 --> 00:04:52.095\nconstrain the running, the installation,\nand the use of this program,\n\n101\n00:04:52.095 --> 00:04:54.629\nwhatever this application\nis we're gonna target.\n\n102\n00:04:55.790 --> 00:04:58.770\nWe use rules that will allow\nus to be able to do this.\n\n103\n00:04:58.770 --> 00:05:00.071\nWe have rules right down here.\n\n104\n00:05:00.071 --> 00:05:01.420\nWe'll take a look at these.\n\n105\n00:05:01.420 --> 00:05:06.460\nAnd we have the ability to do this with\nthe rules based on four different possible\n\n106\n00:05:06.460 --> 00:05:07.515\ncriteria.\n\n107\n00:05:07.515 --> 00:05:10.114\nYou have any idea what those criteria\nmay be there, Miss Cherokee?\n\n108\n00:05:10.114 --> 00:05:13.380\n&gt;&gt; Okay, I did at one point in time.\n\n109\n00:05:13.380 --> 00:05:14.835\nI have to think about this for a second.\n\n110\n00:05:14.835 --> 00:05:20.791\nFor the rules, it could be signed,\nas far as digitally signed.\n\n111\n00:05:20.791 --> 00:05:21.585\nWait, are you showing me?\n\n112\n00:05:21.585 --> 00:05:22.845\nI can't see that far, Adam.\n\n113\n00:05:22.845 --> 00:05:24.491\n&gt;&gt; That's why I put them up,\ncuz I know you can't see them.\n\n114\n00:05:24.491 --> 00:05:25.021\n&gt;&gt; [LAUGH] Okay.\n\n115\n00:05:25.021 --> 00:05:26.463\n&gt;&gt; But everybody out there that's\nwatching can so if you say them,\n\n116\n00:05:26.463 --> 00:05:27.422\nthey are gonna be able to check.\n\n117\n00:05:27.422 --> 00:05:30.043\n&gt;&gt; They're checking me,\nthey're checking me, okay.\n\n118\n00:05:30.043 --> 00:05:33.121\n&gt;&gt; This is almost like, for those of you\nat home, on a game show, you could see but\n\n119\n00:05:33.121 --> 00:05:36.500\nthe contestant, even if she was standing\nright in front of it, she couldn't see it.\n\n120\n00:05:36.500 --> 00:05:37.948\n&gt;&gt; I remember that one I think.\n\n121\n00:05:37.948 --> 00:05:39.900\n&gt;&gt; All right, so you did say\ndigitally signed, so you did that.\n\n122\n00:05:39.900 --> 00:05:41.823\nAnd so I'm just gonna highlight\nas you talk about them.\n\n123\n00:05:41.823 --> 00:05:42.350\n&gt;&gt; Okay.\n&gt;&gt; So\n\n124\n00:05:42.350 --> 00:05:45.770\nyou did say digitally signed that\nis what we call the hash rule.\n\n125\n00:05:45.770 --> 00:05:47.491\n&gt;&gt; Okay.\n&gt;&gt; Okay, so we have the hash rule.\n\n126\n00:05:47.491 --> 00:05:48.446\n&gt;&gt; I remember by location,\n\n127\n00:05:48.446 --> 00:05:51.460\nwhich was one that you could kind of\nbypass that wasn't like the perfect idea.\n\n128\n00:05:51.460 --> 00:05:54.810\n&gt;&gt; Absolutely, so we will call that the\npath rule, so we have that one up there.\n\n129\n00:05:54.810 --> 00:05:56.936\nSo two, two, three,\nyou wanna go like double down?\n\n130\n00:05:56.936 --> 00:06:00.460\n&gt;&gt; [LAUGH]\n&gt;&gt; That's three out of four.\n\n131\n00:06:00.460 --> 00:06:02.890\n&gt;&gt; Yeah, I'm having a hard time thinking,\nhold on.\n\n132\n00:06:02.890 --> 00:06:04.577\n&gt;&gt; All right, so, we have two others.\n\n133\n00:06:04.577 --> 00:06:06.179\n&gt;&gt; [LAUGH]\n&gt;&gt; You've given us the hash rule,\n\n134\n00:06:06.179 --> 00:06:07.607\nwhich is digitally signing.\n\n135\n00:06:07.607 --> 00:06:08.791\nYou've given us-\n&gt;&gt; I like that one the best,\n\n136\n00:06:08.791 --> 00:06:09.940\nthat's probably why I remember it.\n\n137\n00:06:09.940 --> 00:06:11.730\n&gt;&gt; Okay, and you've given us\nwhat we call the path rule,\n\n138\n00:06:11.730 --> 00:06:12.921\nyou said by location, right?\n\n139\n00:06:12.921 --> 00:06:15.233\n&gt;&gt; Right.\n&gt;&gt; So we can specify based on like the UNC\n\n140\n00:06:15.233 --> 00:06:17.750\nwhere the software will be and\ndiscuss that.\n\n141\n00:06:17.750 --> 00:06:18.472\nOkay, we got those.\n\n142\n00:06:18.472 --> 00:06:21.230\n&gt;&gt; Name, would name be one of them,\nor would that be part of the path?\n\n143\n00:06:21.230 --> 00:06:24.600\n&gt;&gt; Name would be part of the path.\n\n144\n00:06:26.290 --> 00:06:30.130\nSo, yeah, let's say name is\nprobably not one we want to go.\n\n145\n00:06:30.130 --> 00:06:31.170\n&gt;&gt; Okay, okay,\nI don't remember the other two.\n\n146\n00:06:31.170 --> 00:06:34.973\n&gt;&gt; And I'm gonna actually give you partial\ncredit for, you said digitally signing,\n\n147\n00:06:34.973 --> 00:06:37.624\nand so we can do, and I said,\nwe can do the hash rule.\n\n148\n00:06:37.624 --> 00:06:41.830\n&gt;&gt; I know, it's like something about,\nthey have to be, what's the word?\n\n149\n00:06:41.830 --> 00:06:43.058\nThey have to be approved.\n\n150\n00:06:43.058 --> 00:06:47.850\nYou have to approve the manufacturer,\nthe vendor.\n\n151\n00:06:47.850 --> 00:06:49.026\n&gt;&gt; Yeah,\nlet's stick with digitally signing.\n\n152\n00:06:49.026 --> 00:06:49.796\n&gt;&gt; The hash, okay, okay.\n\n153\n00:06:49.796 --> 00:06:52.116\n&gt;&gt; You're probably closer\nto the third one with that,\n\n154\n00:06:52.116 --> 00:06:55.410\nbecause we'll give you credit was\nwhat I was about to say for that one.\n\n155\n00:06:55.410 --> 00:06:58.806\nBecause the new hash rule, definitely one\nof the two elements of digital signing,\n\n156\n00:06:58.806 --> 00:07:01.719\nbut we have something called\na certificate rule, which essentially,\n\n157\n00:07:01.719 --> 00:07:04.361\nallows us to be able to stretch\nthat definition that you gave us.\n\n158\n00:07:04.361 --> 00:07:05.169\n&gt;&gt; Okay, right.\n&gt;&gt; And say,\n\n159\n00:07:05.169 --> 00:07:09.093\nI'm with a digitally signed certificate\nthat the vendor would provide,\n\n160\n00:07:09.093 --> 00:07:12.105\nwhich is kind of what you\nwere just saying, right?\n\n161\n00:07:12.105 --> 00:07:16.746\nSo typically that's how a software vendor\nlike Microsoft would provide us with\n\n162\n00:07:16.746 --> 00:07:18.556\nthe validation of their code.\n\n163\n00:07:18.556 --> 00:07:22.884\nAnd/or, the hash rule where we can go in,\nand we can cryptographically have\n\n164\n00:07:22.884 --> 00:07:27.735\na fingerprint, a hash associated with\nthe file from an integrity perspective.\n\n165\n00:07:27.735 --> 00:07:32.530\nSo that way we know that the file has\nnot been modified before we run it.\n\n166\n00:07:32.530 --> 00:07:33.777\nSo we have those, and then.\n\n167\n00:07:33.777 --> 00:07:34.683\n[COUGH] Excuse me.\n\n168\n00:07:34.683 --> 00:07:38.377\nThe one that you didn't get is what we\nwould call the zone rule, which lets us\n\n169\n00:07:38.377 --> 00:07:42.249\nspecify the Internet zone, and decide\nthat we're gonna run certain traffic or\n\n170\n00:07:42.249 --> 00:07:44.010\ncertain applications from there.\n\n171\n00:07:44.010 --> 00:07:48.012\nSo we do have Network Zone Rules,\nthe actual formal name for it.\n\n172\n00:07:48.012 --> 00:07:51.708\nBut we do have four different rules or\nways in which we can modify and\n\n173\n00:07:51.708 --> 00:07:55.740\ncontrol behavior, and so that was\nawesome cuz you got three out of four.\n\n174\n00:07:55.740 --> 00:07:57.223\n&gt;&gt; But that's still-\n&gt;&gt; Cool?\n\n175\n00:07:57.223 --> 00:07:58.495\n&gt;&gt; Yeah.\n&gt;&gt; Yeah, that was good.\n\n176\n00:07:58.495 --> 00:08:01.834\n&gt;&gt; [LAUGH] That was good considering you\ncouldn't see them and you actually got\n\n177\n00:08:01.834 --> 00:08:06.058\nthem right cuz you didn't even know they\nwere there so, I think that's pretty cool.\n\n178\n00:08:06.058 --> 00:08:10.430\nSo you could see we do have already\na couple of items just sitting here.\n\n179\n00:08:10.430 --> 00:08:12.580\nWe just move this out so\nyou kinda see this.\n\n180\n00:08:12.580 --> 00:08:15.924\nWe do already have a couple\nof pretty defined,\n\n181\n00:08:15.924 --> 00:08:19.023\nif you will, rules that are sitting here.\n\n182\n00:08:19.023 --> 00:08:24.025\nMachine software Microsoft Windows\n1 NT current version system root,\n\n183\n00:08:24.025 --> 00:08:28.217\nthe other is Windows current version\nprogram files directory and so\n\n184\n00:08:28.217 --> 00:08:31.822\nthis allows software in those\nparticular paths, right,\n\n185\n00:08:31.822 --> 00:08:36.115\nto then be able to as you can see\nsecurity level under stricted to run.\n\n186\n00:08:36.115 --> 00:08:40.525\nSo when we enable this thought process\nwe have a set of rules that are ready\n\n187\n00:08:40.525 --> 00:08:43.385\ngive us the ability to\ncontinue operating software\n\n188\n00:08:43.385 --> 00:08:46.245\nin the core of the OS\nautomatically without blocking it.\n\n189\n00:08:46.245 --> 00:08:47.825\nSo that's good to know, right?\n\n190\n00:08:47.825 --> 00:08:49.162\nAnd then we have the ability to go in and\n\n191\n00:08:49.162 --> 00:08:54.092\ndecide that we're gonna start to constrain\nor somehow control other aspects of this.\n\n192\n00:08:54.092 --> 00:08:56.732\nNow along with rules we have what\nare known as security levels.\n\n193\n00:08:56.732 --> 00:08:59.402\nRight over here,\nwe just go back to the main area so\n\n194\n00:08:59.402 --> 00:09:00.952\nyou could see we have additional rules,\nright?\n\n195\n00:09:00.952 --> 00:09:01.790\nSo we have rules.\n\n196\n00:09:01.790 --> 00:09:05.425\nBut then we also have security levels,\nand under security levels,\n\n197\n00:09:05.425 --> 00:09:06.950\nwe have three levels.\n\n198\n00:09:06.950 --> 00:09:08.900\nI would ask you what these are, but I\n&gt;&gt; [LAUGH]\n\n199\n00:09:08.900 --> 00:09:09.950\n&gt;&gt; No you can't see.\n\n200\n00:09:09.950 --> 00:09:12.160\nKinda edging over to my screen to\nsee if you can see them already.\n\n201\n00:09:12.160 --> 00:09:13.330\nSo let's just talk about what they are.\n\n202\n00:09:13.330 --> 00:09:13.970\n&gt;&gt; Sure.\n&gt;&gt; Because you may or\n\n203\n00:09:13.970 --> 00:09:15.700\nmay not remember the security levels,\nright?\n\n204\n00:09:15.700 --> 00:09:17.870\nWe have disallowed basic user and\nunrestricted.\n\n205\n00:09:17.870 --> 00:09:20.230\nYou can kinda see\na description here of each.\n\n206\n00:09:20.230 --> 00:09:23.630\nDisallowed software will\nnot be allowed to run\n\n207\n00:09:23.630 --> 00:09:25.550\nregardless of the access\nrights of the user.\n\n208\n00:09:25.550 --> 00:09:27.360\nIn other words even if you're an admin,\n\n209\n00:09:27.360 --> 00:09:29.050\nyou're not gonna have rights\nto run this software.\n\n210\n00:09:29.050 --> 00:09:31.440\nWe're gonna block you from\nessentially using the software.\n\n211\n00:09:31.440 --> 00:09:34.099\nSo we're thinking maybe malware,\nmaybe bad or whatever it is,\n\n212\n00:09:34.099 --> 00:09:35.900\nwe just don't want it running.\n\n213\n00:09:35.900 --> 00:09:38.450\nJust because you're an administrator\ndoesn't mean you're necessarily\n\n214\n00:09:38.450 --> 00:09:41.540\ngonna be any better or\nany worse at infecting a system or\n\n215\n00:09:41.540 --> 00:09:45.880\nrunning insecure code, so we're gonna\napply that protection to anybody that\n\n216\n00:09:45.880 --> 00:09:49.650\nwinds up with a disallowed\nassociated with software item.\n\n217\n00:09:49.650 --> 00:09:53.730\nBasic user, run the software, but\nrunning under the guide of the basic user.\n\n218\n00:09:53.730 --> 00:09:57.910\nNo admin credentials, no elevated\nprivileges, just gonna run that software\n\n219\n00:09:57.910 --> 00:10:00.640\nas if you were just a member\nof the domain users group or\n\n220\n00:10:00.640 --> 00:10:05.760\nthe local users group on a local machine,\nnothing more, which is usually fine.\n\n221\n00:10:05.760 --> 00:10:09.740\nWe get into trouble when we start to give\nadmin rights are elevated privileges to\n\n222\n00:10:09.740 --> 00:10:14.100\nsoftware to do certain things and that's\nwhere we may then find vulnerabilities or\n\n223\n00:10:14.100 --> 00:10:16.280\nweaknesses that attackers can exploit.\n\n224\n00:10:16.280 --> 00:10:19.560\nSo this is one of those things that may\nprevent some of that behavior, right?\n\n225\n00:10:19.560 --> 00:10:24.320\nIf you work at an organization where\nthe standing rule of thumb is well,\n\n226\n00:10:24.320 --> 00:10:27.560\nwe'll just give all user full\nadmin rights to their desktop so\n\n227\n00:10:27.560 --> 00:10:32.980\nthey can install software and do what they\nwant which, is incredibly unfortunate, and\n\n228\n00:10:32.980 --> 00:10:38.040\nfor many, many reasons is a very bad idea,\nbut we often hear of this.\n\n229\n00:10:38.040 --> 00:10:41.590\nAnd we often hear this as being\nthe thought process that for\n\n230\n00:10:41.590 --> 00:10:45.120\na variety of reasons,\nthe IT function, has settled on,\n\n231\n00:10:45.120 --> 00:10:49.860\nas being a problem solver and enabler of\nfunctionality, because the business has\n\n232\n00:10:49.860 --> 00:10:54.970\nnot seen fit to take the time to fix\nthe issues that surround the necessity for\n\n233\n00:10:54.970 --> 00:10:57.720\ngranting admin privileges to run software.\n\n234\n00:10:57.720 --> 00:10:59.920\nLike constraining with policies,\n\n235\n00:10:59.920 --> 00:11:04.580\nlike finding ways to load that software\nand pre-configure it in an image that\n\n236\n00:11:04.580 --> 00:11:08.450\ndoesn't require then the delegation\nof admin rights to a user.\n\n237\n00:11:08.450 --> 00:11:13.270\nThere's extra elbow grease and\nwork that has to go in to getting around\n\n238\n00:11:13.270 --> 00:11:17.830\nthose issues, but if you plan properly,\nyou can avoid a lot of them mitigating and\n\n239\n00:11:17.830 --> 00:11:21.960\ncutting off one of the most\nimportant elements that a hacker or\n\n240\n00:11:21.960 --> 00:11:24.690\na bad actor looks for\nto take advantage of which\n\n241\n00:11:24.690 --> 00:11:28.570\nover subscription of permissions to\naverage users and the ability to then not\n\n242\n00:11:28.570 --> 00:11:32.430\nhave to go after a admin account which is\nusually tightly controlled and protected.\n\n243\n00:11:32.430 --> 00:11:36.670\nBut a generic user account because it\nhas full rights to a local machine\n\n244\n00:11:36.670 --> 00:11:39.390\ncan then simply be, if we're good, right?\n\n245\n00:11:39.390 --> 00:11:42.840\nWe can grab that account,\nuse it to compromise the machine.\n\n246\n00:11:42.840 --> 00:11:45.600\nAnd once we're in one machine,\nespecially a machine that's already\n\n247\n00:11:45.600 --> 00:11:49.440\nconnected to the network, is connected,\nand most likely authenticated,\n\n248\n00:11:49.440 --> 00:11:54.155\nthrough whatever authentication,\nsingle, multi factor, processes may be.\n\n249\n00:11:54.155 --> 00:11:57.395\nIf it's authenticating, and\nwe have an account that is legitimate and\n\n250\n00:11:57.395 --> 00:12:01.145\nnobody knows we're there,\nwe can then walk through other systems and\n\n251\n00:12:01.145 --> 00:12:04.365\nstart connecting, not only mapping out,\nand doing reconnaissance and\n\n252\n00:12:04.365 --> 00:12:06.735\nfingerprinting, but\nultimately exploitation and\n\n253\n00:12:06.735 --> 00:12:10.245\ntaking over, so that we can escalate\nprivilege and get to the machines we want.\n\n254\n00:12:10.245 --> 00:12:15.680\nSo this can become a very\nsignificant avenue of attack or\n\n255\n00:12:15.680 --> 00:12:19.840\navenue of approach for\nmany of the hacks or exploits we see.\n\n256\n00:12:19.840 --> 00:12:23.840\nAnd cutting this avenue down and\nreally preventing it from being applied\n\n257\n00:12:23.840 --> 00:12:28.070\nbecause of just oversight and lack of\nunderstanding how to manage properly\n\n258\n00:12:28.070 --> 00:12:30.750\ncan be very valuable for\nyou from a mitigation standpoint.\n\n259\n00:12:30.750 --> 00:12:34.400\nAnd then unrestricted, software runs or\naccess rights are determined\n\n260\n00:12:34.400 --> 00:12:37.670\nbased on the access rights of the user,\nbut it will run, in other words based on\n\n261\n00:12:37.670 --> 00:12:40.530\nwhatever the access rights the user\nbrings to the table will be.\n\n262\n00:12:40.530 --> 00:12:42.250\nSo when you saw the two default rules for\n\n263\n00:12:42.250 --> 00:12:46.670\nunrestricted applied to the program\ndirectory, and the root directory for\n\n264\n00:12:46.670 --> 00:12:51.560\nWindows, as I said that gives us the right\nto load and run software out of the gate\n\n265\n00:12:51.560 --> 00:12:54.520\nwithout restricting the core\nfunctionality of the operating system.\n\n266\n00:12:54.520 --> 00:12:56.790\nSo its very important for\nus to be able to do that.\n\n267\n00:12:56.790 --> 00:13:00.660\nAre you thinking you wanted to add\nsomething, or is that just some?\n\n268\n00:13:00.660 --> 00:13:02.150\n&gt;&gt; No, I just had an aha moment.\n\n269\n00:13:02.150 --> 00:13:03.490\n&gt;&gt; Aha moment, okay, yes.\n\n270\n00:13:03.490 --> 00:13:06.400\n&gt;&gt; The one I was thinking of,\nAdam, publisher name.\n\n271\n00:13:06.400 --> 00:13:11.260\nBut I see here that you had the notes\nright here, that was for an AppLocker.\n\n272\n00:13:11.260 --> 00:13:14.533\nI was mixing them, so don't mix them up,\nladies and gentleman.\n\n273\n00:13:14.533 --> 00:13:16.120\n&gt;&gt; Yeah,\nthat would be under AppLocker, for\n\n274\n00:13:16.120 --> 00:13:18.600\nus the closest thing we get to\npublisher would be the certificate.\n\n275\n00:13:18.600 --> 00:13:20.320\n&gt;&gt; Right.\n&gt;&gt; That's going to be getting us by for\n\n276\n00:13:20.320 --> 00:13:24.130\nthe digitally signing and or the hashing\ndepending on what we're doing for\n\n277\n00:13:24.130 --> 00:13:25.540\nthe rule, it's similar right?\n\n278\n00:13:25.540 --> 00:13:27.340\nBut you'll see when you\nget down to ablocker.\n\n279\n00:13:27.340 --> 00:13:28.020\n&gt;&gt; Yeah, we'll get there.\n\n280\n00:13:28.020 --> 00:13:28.930\n&gt;&gt; We'll have that there.\n\n281\n00:13:28.930 --> 00:13:32.380\nAlright, so it's great to be able to look\nahead and see what all that stuff is.\n\n282\n00:13:32.380 --> 00:13:36.940\nAll right so we've got our software\nrestriction thought process here,\n\n283\n00:13:36.940 --> 00:13:40.550\nwe have to obviously create the ability\nto work with this by right clicking,\n\n284\n00:13:40.550 --> 00:13:41.550\nputting this in.\n\n285\n00:13:41.550 --> 00:13:42.760\nWe then have to go in,\n\n286\n00:13:42.760 --> 00:13:46.030\ndecide what we're going to do in\nterms of rules in security levels.\n\n287\n00:13:46.030 --> 00:13:50.070\nWe can set this up as you've seen\nthrough group policy on the computer so\n\n288\n00:13:50.070 --> 00:13:54.170\nI know I happen to be just demoing\nthis and doing this at an OU level.\n\n289\n00:13:54.170 --> 00:13:55.040\nLet's talk for a minute,\n\n290\n00:13:55.040 --> 00:14:00.050\nremind ourselves for a minute of the logic\nof group policy and kind of the thought\n\n291\n00:14:00.050 --> 00:14:04.180\nprocess about where we may decide to\nmake changes or decide to apply things.\n\n292\n00:14:04.180 --> 00:14:07.104\nSo let's go back to our console here for\na minute.\n\n293\n00:14:07.104 --> 00:14:11.744\nNow we could apply a setting and\na set of configurations like security or\n\n294\n00:14:11.744 --> 00:14:14.740\nsoftware restriction policies rather.\n\n295\n00:14:14.740 --> 00:14:16.870\nAt the default domain policy level, but\n\n296\n00:14:16.870 --> 00:14:21.490\nif we did this, we're applying this to all\nof the systems that are logging into and\n\n297\n00:14:21.490 --> 00:14:24.620\nauthenticating through the domain,\nmeaning all the computers.\n\n298\n00:14:24.620 --> 00:14:26.810\nNow, that may certainly be appropriate.\n\n299\n00:14:26.810 --> 00:14:28.530\nAnd if we want broad wide coverage and\n\n300\n00:14:28.530 --> 00:14:31.970\neverything is gonna be configured\nthe same, let's bump this policy up.\n\n301\n00:14:31.970 --> 00:14:34.330\nLet's apply at the default\ndomain policy level,\n\n302\n00:14:34.330 --> 00:14:36.480\nlet's not mess with having\nto reproduce this policy, or\n\n303\n00:14:36.480 --> 00:14:41.050\nlink it, ten different times across ten\ndifferent OUs to get the same coverage.\n\n304\n00:14:41.050 --> 00:14:43.810\nAnd just think about the logic of that,\nhopefully that makes sense to you.\n\n305\n00:14:43.810 --> 00:14:46.840\nBut, if we're gonna configure\na very specific set\n\n306\n00:14:46.840 --> 00:14:51.070\nof software restriction policies, or,\nby extension, ad blockers we'll talk about\n\n307\n00:14:51.070 --> 00:14:55.280\nhere in a couple of minutes, because maybe\nwe're gonna tightly control a certain line\n\n308\n00:14:55.280 --> 00:15:00.170\nof business apps you need to\na certain user group, sales, HR,\n\n309\n00:15:00.170 --> 00:15:04.240\nfinance, research, IT,\nwho knows what it is, right?\n\n310\n00:15:04.240 --> 00:15:08.761\nWhatever may live in one or more of\nthose OUs, as a subset of users and or\n\n311\n00:15:08.761 --> 00:15:10.400\ncomputer accounts.\n\n312\n00:15:10.400 --> 00:15:14.520\nIf we're gonna apply them and\nbe tactical and very highly focused and\n\n313\n00:15:14.520 --> 00:15:18.830\nspecific about our application of policy,\nthen we have to step down from the default\n\n314\n00:15:18.830 --> 00:15:23.962\nto main policy level and start applying\nthis crafting this policies individually\n\n315\n00:15:23.962 --> 00:15:28.880\nreally making them apply at the OU level\nto attach to certain groups of machines\n\n316\n00:15:28.880 --> 00:15:32.258\nbased on the needs of the users profiles\nthat these machines would serve.\n\n317\n00:15:32.258 --> 00:15:34.290\nSo just wanna remind you of that,\n\n318\n00:15:34.290 --> 00:15:36.380\njust make sure we're comfortable\nwith the general idea.\n\n319\n00:15:36.380 --> 00:15:40.780\nBecause you know it is a very important\naspect of what we talk about.\n\n320\n00:15:40.780 --> 00:15:44.420\nWhat level do we apply policy at and\nas a result, what expectations and\n\n321\n00:15:44.420 --> 00:15:46.280\noutcomes do we see from the policy.\n\n322\n00:15:46.280 --> 00:15:49.320\nIf we apply policy too high\nup in the organization,\n\n323\n00:15:49.320 --> 00:15:52.200\nwe broadly cover everything and\neverybody with it.\n\n324\n00:15:52.200 --> 00:15:53.560\nWhich is not always a bad thing.\n\n325\n00:15:53.560 --> 00:15:57.341\n&gt;&gt; Not likely gonna be applying\nthe same policy for every department or\n\n326\n00:15:57.341 --> 00:15:58.411\nevery tier there.\n\n327\n00:15:58.411 --> 00:16:02.035\n&gt;&gt; Right, you may not want the same\ngeneral coverage for everybody.\n\n328\n00:16:02.035 --> 00:16:03.037\nExactly as you said.\n\n329\n00:16:03.037 --> 00:16:05.624\nAnd so we just wanna make sure\nwe're thinking about that, and\n\n330\n00:16:05.624 --> 00:16:07.830\nthat we have a sense of that and\nunderstand that.\n\n331\n00:16:07.830 --> 00:16:11.240\nBecause, remember, in the real world,\nobviously, importing, you could go fix it.\n\n332\n00:16:11.240 --> 00:16:14.090\nif you mess it up and\nput it up at the default domain level, and\n\n333\n00:16:14.090 --> 00:16:15.610\nsay wait I gotta move that.\n\n334\n00:16:15.610 --> 00:16:18.570\nNot the end of the world,\nyou can adjust that, but on an exam,\n\n335\n00:16:18.570 --> 00:16:20.380\nyou get one chance to get it right, right?\n\n336\n00:16:20.380 --> 00:16:22.890\nAnd so you wanna make sure you\nknow that if you're preparing for\n\n337\n00:16:22.890 --> 00:16:27.570\nthe exam, as part of the thought\nprocess on MCSA for server 2016 or\n\n338\n00:16:27.570 --> 00:16:31.570\nany of the other exams or\ncredentials you may pursue.\n\n339\n00:16:31.570 --> 00:16:35.830\nWhere this kind of knowledge comes into\nplay, you have to know that depending on\n\n340\n00:16:35.830 --> 00:16:39.650\nthe scenario or business requirements\nyou're presented with in a question you\n\n341\n00:16:39.650 --> 00:16:43.130\nmay have to make a choice about not only\nwhat options in a policy to specify and\n\n342\n00:16:43.130 --> 00:16:47.140\nset but also where will that policy\nbe applied for maximum effect.\n\n343\n00:16:47.140 --> 00:16:50.313\nWe've talked before about the idea\nof least administrative overhead you\n\n344\n00:16:50.313 --> 00:16:52.855\nknow the least amount of work\nrequired to get the job done.\n\n345\n00:16:52.855 --> 00:16:56.090\nThat's something to consider cause\nthat can be a tricky one here.\n\n346\n00:16:56.090 --> 00:17:00.020\nDepending on the scenario, you would not\nbe wrong to apply the policy on either\n\n347\n00:17:00.020 --> 00:17:04.530\nlevel but you would be wrong based on the\nrequirements of the scenario in a question\n\n348\n00:17:04.530 --> 00:17:08.420\nif you applied it at one level and you\nwere told it has to be narrowly defined\n\n349\n00:17:08.420 --> 00:17:12.410\nby applying it down below, or you applied\nit narrowly and were told it should cover\n\n350\n00:17:12.410 --> 00:17:16.340\nthe entire organization, and therefore\ndid not push it up to the right level.\n\n351\n00:17:16.340 --> 00:17:20.190\nBoth could be done and\nyou could do both from either location but\n\n352\n00:17:20.190 --> 00:17:24.250\nit would take more work to make\none policy at an OU level and\n\n353\n00:17:24.250 --> 00:17:27.140\nlink it to other OUs,\ncreating complete coverage.\n\n354\n00:17:27.140 --> 00:17:30.270\nIt's not the recommended best practice,\neven though in theory it could\n\n355\n00:17:30.270 --> 00:17:33.430\nbe done that way, and\nas a result would be the wrong answer.\n\n356\n00:17:33.430 --> 00:17:36.430\nSo I just want to make sure you're clear\non that, and have a sense of that.\n\n357\n00:17:36.430 --> 00:17:40.830\nAll right so let's go back in here for\na minute since we're talking about this.\n\n358\n00:17:40.830 --> 00:17:42.960\nSo let's do the following.\n\n359\n00:17:42.960 --> 00:17:46.590\nFirst, let me just show you, if you\nwant to remove the software restriction\n\n360\n00:17:46.590 --> 00:17:49.200\npolicies, cuz you said, you know what,\nI'm not going to use them.\n\n361\n00:17:49.200 --> 00:17:49.800\nVery simple,\n\n362\n00:17:49.800 --> 00:17:54.150\njust right click either on the folder or\nright click anywhere in here, delete.\n\n363\n00:17:54.150 --> 00:17:55.100\nAre you sure?\n\n364\n00:17:55.100 --> 00:17:57.550\nBoom, it just goes away,\nit's very simple to remove, so.\n\n365\n00:17:57.550 --> 00:17:59.080\nJust so you know,\nif you wanna put it back,\n\n366\n00:17:59.080 --> 00:18:01.920\njust wanna put it back to work with it,\nlet's just put it back in there for\n\n367\n00:18:01.920 --> 00:18:04.720\na minute, but if you wanna remove\nit very simple, very easy to do.\n\n368\n00:18:04.720 --> 00:18:08.310\nAll right, so let's look at our rules\nhere, let's just create a rule real quick\n\n369\n00:18:08.310 --> 00:18:11.630\nwhile we're in here and make sure we know\nwhat's going on and kinda how this works.\n\n370\n00:18:11.630 --> 00:18:13.930\nSo we do have some default ones,\nas you saw.\n\n371\n00:18:13.930 --> 00:18:17.360\nWe can right click on one of the default\nones just look at the properties to get\n\n372\n00:18:17.360 --> 00:18:22.190\na sense of what's here before we go ahead\nand decide we're gonna create a new one.\n\n373\n00:18:22.190 --> 00:18:24.880\nYou'll see here that I can\nchange the security level.\n\n374\n00:18:24.880 --> 00:18:26.570\nWe talked about security levels,\nthere are three.\n\n375\n00:18:26.570 --> 00:18:28.340\nDisallowed, basic user, and restricted.\n\n376\n00:18:28.340 --> 00:18:30.380\nAnd I can modify the security level,\n\n377\n00:18:30.380 --> 00:18:33.620\neven on the default roles that have\nbeen created for me out of the box.\n\n378\n00:18:33.620 --> 00:18:37.630\nProbably not a good idea to do that for,\nhopefully, some pretty important and\n\n379\n00:18:37.630 --> 00:18:38.470\nobvious reasons.\n\n380\n00:18:38.470 --> 00:18:42.080\nAs I said, you're gonna modify\nthe ability to run core\n\n381\n00:18:42.080 --> 00:18:44.290\noperating system software if you do this.\n\n382\n00:18:44.290 --> 00:18:45.710\nAnd that can get you into trouble,\n\n383\n00:18:45.710 --> 00:18:47.580\nbecause now all of a sudden things\nmay not work the right way.\n\n384\n00:18:47.580 --> 00:18:50.630\nSo, I wanna be clear,\nit's not recommended that you go and\n\n385\n00:18:50.630 --> 00:18:54.120\nmess around with the security\nlevel on these particular items.\n\n386\n00:18:54.120 --> 00:18:57.430\nBut they are there,\nyou can edit them, just so you know.\n\n387\n00:18:57.430 --> 00:18:59.030\nIf I want to create a new rule,\n\n388\n00:18:59.030 --> 00:19:02.880\nas we saw earlier, we can choose to\ncreate whatever rule we would like.\n\n389\n00:19:02.880 --> 00:19:05.900\nWe do a certificate rule we obviously\nhave to have the certificate,\n\n390\n00:19:05.900 --> 00:19:08.960\nit has to be available, you have to be\nable to connect to it or import it.\n\n391\n00:19:08.960 --> 00:19:12.250\nSo you'll see here we have to browse and\nfind the certificate.\n\n392\n00:19:13.410 --> 00:19:15.070\nWe would have to be able\nto bring in the dot.\n\n393\n00:19:15.070 --> 00:19:17.150\nI know it's kind of hard to see\nthem over the window there.\n\n394\n00:19:17.150 --> 00:19:20.230\nBut I would have to go\nfind the dot CERCRT file.\n\n395\n00:19:20.230 --> 00:19:23.770\nThis would be the exported\ncertificate that we've gotten from\n\n396\n00:19:23.770 --> 00:19:27.520\neither a third party, PKI,\nsome sort of trusted root or.\n\n397\n00:19:27.520 --> 00:19:30.550\nEnterprise level of standalone level.\n\n398\n00:19:30.550 --> 00:19:33.990\nEither root or\nsubordinate issuing CA of some kind.\n\n399\n00:19:33.990 --> 00:19:36.970\nWe've done a whole series on\ncertificate authorities and\n\n400\n00:19:36.970 --> 00:19:41.780\nPKI in several different areas, in\nseveral different shows, Cherokee and I.\n\n401\n00:19:41.780 --> 00:19:45.130\nShe is now officially known as\nthe mistress of certificates here.\n\n402\n00:19:45.130 --> 00:19:46.350\nSo we could go through and\n\n403\n00:19:46.350 --> 00:19:49.580\ncertainly reference that information and\nthink about that.\n\n404\n00:19:49.580 --> 00:19:54.770\nAnd if you haven't seen the discussions\nwe've done, the identity on Server\n\n405\n00:19:54.770 --> 00:19:59.910\n16 conversations that whole set of\nshows we did around identity management\n\n406\n00:19:59.910 --> 00:20:03.630\non Server 16, we did I think six shows\non certificate services there, right?\n\n407\n00:20:03.630 --> 00:20:07.850\nAnd we did a pretty thorough discussion so\nif you're not familiar with\n\n408\n00:20:07.850 --> 00:20:12.030\nthe certificate concepts what I'm talking\nabout, when we're talking about exporting\n\n409\n00:20:12.030 --> 00:20:15.250\na certificate and then importing it,\nyou export it out into\n\n410\n00:20:15.250 --> 00:20:19.840\na .cer file that's usually the generic\ncontainer type, but there are others.\n\n411\n00:20:19.840 --> 00:20:21.140\nSo, you just wanna be aware of that.\n\n412\n00:20:21.140 --> 00:20:23.420\nWe will go find that file,\nthat certificate,\n\n413\n00:20:23.420 --> 00:20:25.300\nwherever it is, and import it.\n\n414\n00:20:25.300 --> 00:20:26.990\nMaybe, it's come from Microsoft.\n\n415\n00:20:26.990 --> 00:20:31.245\nMaybe, it's come from VeriSign,\nor Flay to RSA.\n\n416\n00:20:31.245 --> 00:20:33.145\nThird party PKI providers.\n\n417\n00:20:33.145 --> 00:20:35.235\nMaybe it's a self-signed certificate and\n\n418\n00:20:35.235 --> 00:20:40.325\nyou're getting it from another machine,\nwhatever it is you would find it here\n\n419\n00:20:40.325 --> 00:20:43.905\nyou would then specify the security\nlevel as you can see, right?\n\n420\n00:20:43.905 --> 00:20:48.855\nAnd then you would be able to create\nthat kind of a rule you wanted to create\n\n421\n00:20:48.855 --> 00:20:53.670\na hash rule you could see\nhere we have to go out,\n\n422\n00:20:53.670 --> 00:20:57.730\nwe have to find a file that\nwe'd want to be able to use.\n\n423\n00:20:57.730 --> 00:21:00.399\nSo let's just say we go in, and,\n\n424\n00:21:07.045 --> 00:21:12.480\ngo here, actually probably not a good\nidea, we don't wanna do that one.\n\n425\n00:21:12.480 --> 00:21:13.410\nLet me see.\n\n426\n00:21:13.410 --> 00:21:15.460\nActually, we can go in here and do this.\n\n427\n00:21:16.460 --> 00:21:17.650\nAll right, so we can grab that.\n\n428\n00:21:17.650 --> 00:21:19.780\nAnd this is the file information.\n\n429\n00:21:21.050 --> 00:21:23.210\nSo here, use files, or\nsorry, rather excuse me,\n\n430\n00:21:23.210 --> 00:21:26.070\nuse rules to override\nthe default security level.\n\n431\n00:21:26.070 --> 00:21:29.760\nBrowse to select the file you wanna hash,\nright, so I've chosen a file,\n\n432\n00:21:29.760 --> 00:21:33.000\njust chose an xml file out of one\nof the directories I have there.\n\n433\n00:21:33.000 --> 00:21:37.360\nand the file's attributes,\nsuch as things like size and date,\n\n434\n00:21:37.360 --> 00:21:40.300\netc., are automatically\npopulated as you can see.\n\n435\n00:21:40.300 --> 00:21:44.580\nSo we set the security level,\nso whatever it may be,\n\n436\n00:21:44.580 --> 00:21:47.340\njust for purposes of our conversation, and\n\n437\n00:21:47.340 --> 00:21:52.830\nthen, once I'm done, that will apply\nthe hash rule, right, so I can do that.\n\n438\n00:21:52.830 --> 00:21:55.830\nIf I want to do the network zone rule,\nright\n\n439\n00:21:55.830 --> 00:22:00.340\nspecify here remember this is Internet\nExplorer zones so just be aware of that.\n\n440\n00:22:03.160 --> 00:22:08.200\nAnd it's not nice to talk about somebody\nwhile they're trying to explain\n\n441\n00:22:08.200 --> 00:22:10.165\ncomplicated things.\n\n442\n00:22:10.165 --> 00:22:12.910\n&gt;&gt; [LAUGH]\n&gt;&gt; and do so in a focused way and\n\n443\n00:22:12.910 --> 00:22:16.660\nhere you are helping me out Cherokee and\nI appreciate that.\n\n444\n00:22:16.660 --> 00:22:18.400\n&gt;&gt; But it's all good things Adam.\n\n445\n00:22:18.400 --> 00:22:19.150\n&gt;&gt; I appreciate it.\n\n446\n00:22:19.150 --> 00:22:23.220\n&gt;&gt; We had a comment in the chat and they\nsaid man I'm gonna have to go back and\n\n447\n00:22:23.220 --> 00:22:26.250\nwatch Adam's content in slow-mo\nto get all this information.\n\n448\n00:22:26.250 --> 00:22:29.810\n&gt;&gt; And here you are saying laugh\nout loud and you're a dream.\n\n449\n00:22:29.810 --> 00:22:31.639\n&gt;&gt; Yeah.\n[LAUGH] I know because it's a lot\n\n450\n00:22:31.639 --> 00:22:34.860\nof information but\nit's great information, Adam.\n\n451\n00:22:34.860 --> 00:22:36.780\nRemember, the universe has a...\n\n452\n00:22:36.780 --> 00:22:38.565\n&gt;&gt; [LAUGH]\n&gt;&gt; funny way of coming back to you.\n\n453\n00:22:38.565 --> 00:22:41.830\nSo actually, all kidding aside, help me\nout here for just one second if you could.\n\n454\n00:22:41.830 --> 00:22:43.666\nSo we're talking about the network zone.\n\n455\n00:22:43.666 --> 00:22:44.970\n&gt;&gt; Yes.\n&gt;&gt; The one we talked about is just\n\n456\n00:22:44.970 --> 00:22:46.500\nthe internet zone they said.\n\n457\n00:22:46.500 --> 00:22:49.140\nWe could go in and\nsay hey we have a trusted zone.\n\n458\n00:22:49.140 --> 00:22:50.580\nA nontrusted zone.\n\n459\n00:22:50.580 --> 00:22:53.040\nYou know those zones in Internet Explorer.\n\n460\n00:22:53.040 --> 00:22:54.770\n&gt;&gt; Yeah.\n&gt;&gt; So when we're doing this,\n\n461\n00:22:54.770 --> 00:22:57.280\nI know it's hard to see.\n\n462\n00:22:57.280 --> 00:23:00.200\nSo look here so you can see,\ncuz I want you to help me with this.\n\n463\n00:23:00.200 --> 00:23:02.940\nSo see here, right, use rules.\n\n464\n00:23:02.940 --> 00:23:04.700\nRight?\nTo be able to override the default level.\n\n465\n00:23:04.700 --> 00:23:08.320\nThis rule applies to software installed\nby the Windows Installer, right?\n\n466\n00:23:08.320 --> 00:23:11.280\nSo by the MSI and the Windows Installer.\n\n467\n00:23:11.280 --> 00:23:14.210\nSo network share or\nnetwork zone rather, excuse me.\n\n468\n00:23:14.210 --> 00:23:15.480\nTrusted sites, right?\n\n469\n00:23:15.480 --> 00:23:19.350\nAnd you'll see here, internet, local\ncomputer, local intranet, restricted,\n\n470\n00:23:19.350 --> 00:23:19.940\ntrusted, right.\n\n471\n00:23:19.940 --> 00:23:20.570\n&gt;&gt; Right.\n&gt;&gt; And so\n\n472\n00:23:20.570 --> 00:23:22.800\nevery one of these has a little\ndescription, right, and\n\n473\n00:23:22.800 --> 00:23:26.400\nthese are the zones,\nremember, that show up in IE.\n\n474\n00:23:26.400 --> 00:23:30.160\nNow, I'm saying IE, I'm not saying Edge,\nlet's be clear, right.\n\n475\n00:23:30.160 --> 00:23:33.390\nSo, if you go into Internet Explorer, I'm\njust going to bring up IE here real quick\n\n476\n00:23:33.390 --> 00:23:37.520\nQuick we'll get to App Locker and\ntalk about that in a little while.\n\n477\n00:23:37.520 --> 00:23:40.110\nBut let's go over here and just remind\nourselves of what the zones are.\n\n478\n00:23:40.110 --> 00:23:41.590\n&gt;&gt; Okay.\n&gt;&gt; So I'm going to go over here to\n\n479\n00:23:41.590 --> 00:23:43.780\nthe Settings,\nlittle setting icon the gear and\n\n480\n00:23:43.780 --> 00:23:45.990\nI'm going to go over\nhere to Internet options.\n\n481\n00:23:45.990 --> 00:23:49.830\nAnd what I just want you to remind\nus of is that by version of IE and\n\n482\n00:23:49.830 --> 00:23:52.830\nremember there may be older\nversions of IE still out there.\n\n483\n00:23:52.830 --> 00:23:55.290\nNot everybody is using the Edge\nbrowser on Windows 10.\n\n484\n00:23:55.290 --> 00:23:58.040\n&gt;&gt; Right.\n&gt;&gt; Not everybody is using IE 11 or IE 10.\n\n485\n00:23:58.040 --> 00:24:00.654\nThere is still a lot of\nolder OS's out there.\n\n486\n00:24:00.654 --> 00:24:06.674\nAnd we may have IE going all the way back,\nin theory, IE 8, IE 9, certainly IE 10.\n\n487\n00:24:06.674 --> 00:24:09.205\nAnd, we're talking about\nInternet Explorer.\n\n488\n00:24:09.205 --> 00:24:10.605\nWe're not talking about Chrome.\n\n489\n00:24:10.605 --> 00:24:11.667\nWe're not talking about Firefox.\n\n490\n00:24:11.667 --> 00:24:14.150\nWe're not talking about Safari, right?\n\n491\n00:24:14.150 --> 00:24:14.964\nThis is Microsoft.\n\n492\n00:24:14.964 --> 00:24:19.690\nMicrosoft specific real estate,\nMicrosoft specific apps, so\n\n493\n00:24:19.690 --> 00:24:23.680\nspecific to the control of\nMicrosoft in this case.\n\n494\n00:24:23.680 --> 00:24:27.150\nSo we're gonna see that the internet\noptions and the settings for\n\n495\n00:24:27.150 --> 00:24:29.750\nthe zones are going to\nbasically be in the same place\n\n496\n00:24:29.750 --> 00:24:31.680\nin almost every version we go to, right.\n\n497\n00:24:31.680 --> 00:24:34.280\nBut the zones themselves don't\nreally change either, but\n\n498\n00:24:34.280 --> 00:24:36.380\nwhat I'm just calling out and\nasking Cherokee to get us help and\n\n499\n00:24:36.380 --> 00:24:40.000\nremind us with is that there are a lot\nof other browsers out there, right?\n\n500\n00:24:40.000 --> 00:24:40.690\n&gt;&gt; Yeah.\n\n501\n00:24:40.690 --> 00:24:45.360\n&gt;&gt; And while you have this idea of some\nsort of zone protection in Chrome for\n\n502\n00:24:45.360 --> 00:24:48.110\ninstance and many of the browsers,\nit's not the same.\n\n503\n00:24:48.110 --> 00:24:52.150\nIt's probably in a different place,\noperates along the same similar lines, but\n\n504\n00:24:52.150 --> 00:24:53.880\nit's not part of what we\ntalked about here, right?\n\n505\n00:24:53.880 --> 00:24:56.670\nSo we wanna keep in mind\nthat this is all about IE or\n\n506\n00:24:56.670 --> 00:25:00.018\nInternet Explorer specifically\nin our web browser here.\n\n507\n00:25:00.018 --> 00:25:04.141\nSo when we go to one to take a look, if we\ngo to security, right, in our tab here,\n\n508\n00:25:04.141 --> 00:25:05.512\nis where see these zones.\n\n509\n00:25:05.512 --> 00:25:08.456\nInternet, Local intranet,\nTrusted, Restricted, and\n\n510\n00:25:08.456 --> 00:25:10.748\nthe settings associated with that, right?\n\n511\n00:25:10.748 --> 00:25:11.387\nSo when we're talking about this,\nwe're talking about trusted, intranet,\n\n512\n00:25:11.387 --> 00:25:16.772\nlocal computer, local intranet.\nThere are a couple of ones that\n\n513\n00:25:16.772 --> 00:25:22.505\nare not listed as the four there.\n\n514\n00:25:22.505 --> 00:25:25.486\nThere's like one additional\none local computer, right,\n\n515\n00:25:25.486 --> 00:25:28.000\nis added which is essentially\nthe local machine.\n\n516\n00:25:28.000 --> 00:25:30.687\nSo just make sure you're familiar\nwith what you choose here, right.\n\n517\n00:25:30.687 --> 00:25:34.297\nBut you'll see we can specify,\nand again set our security level.\n\n518\n00:25:34.297 --> 00:25:37.042\nThe setting of rules are actually\nfairly straightforward,\n\n519\n00:25:37.042 --> 00:25:39.046\nthere really is not a lot\nof mystery to them.\n\n520\n00:25:39.046 --> 00:25:41.972\nAnd then the path rule,\nwell the one you were talking about right,\n\n521\n00:25:41.972 --> 00:25:43.550\nthe path rule here, use this path.\n\n522\n00:25:43.550 --> 00:25:45.895\nSo we have to go in and browse.\n\n523\n00:25:45.895 --> 00:25:48.244\nWe can specify our path here as well.\n\n524\n00:25:48.244 --> 00:25:52.495\nAnd what we wanna just keep in mind\nwith regards to our path is that\n\n525\n00:25:52.495 --> 00:25:54.868\nthis is either a local path or a UNC.\n\n526\n00:25:54.868 --> 00:25:57.837\nSo again,\nyeah we could go out on the network,\n\n527\n00:25:57.837 --> 00:26:02.346\ngo to some sort of map drive maybe\nif we're doing a redirect on folder.\n\n528\n00:26:02.346 --> 00:26:05.285\nA redirection, we've talked about that,\nthings like that before.\n\n529\n00:26:05.285 --> 00:26:07.082\nProfiles, whatever they may be.\n\n530\n00:26:07.082 --> 00:26:10.666\nWe may use a UNC versus a local system,\nright.\n\n531\n00:26:10.666 --> 00:26:12.790\nSo just rather a local path to a file,\nright.\n\n532\n00:26:12.790 --> 00:26:14.172\nSo I just want you to be aware of that.\n\n533\n00:26:14.172 --> 00:26:18.537\nSo just make that, or think through\nthe logic of that and make it make sense.\n\n534\n00:26:18.537 --> 00:26:26.220\nSo this may be something like C:\\Windows,\nright?\n\n535\n00:26:30.087 --> 00:26:32.729\nSystem32, whatever.\n\n536\n00:26:32.729 --> 00:26:34.745\nAnd then, you're gonna allow or\n\n537\n00:26:34.745 --> 00:26:38.500\ndisallow unrestricted whatever\nyou may do based on that.\n\n538\n00:26:38.500 --> 00:26:40.590\nWe can put in and create these.\n\n539\n00:26:40.590 --> 00:26:42.480\nYou see an example of\nthe path one that appears.\n\n540\n00:26:42.480 --> 00:26:44.150\nWe have a couple that are built in.\n\n541\n00:26:44.150 --> 00:26:47.120\nWe do have our security levels,\nyou can see those.\n\n542\n00:26:47.120 --> 00:26:51.010\nReally no way to modify these per se, but\njust showing you what they are, to make\n\n543\n00:26:51.010 --> 00:26:54.900\nthese the default security level for all\nsoftware, and you could set the default\n\n544\n00:26:54.900 --> 00:26:59.550\nlevel for software by clicking Set as\nDefault on one of these, as you can see.\n\n545\n00:26:59.550 --> 00:27:02.500\nBut again,\nsetting the default security level for\n\n546\n00:27:02.500 --> 00:27:05.280\nall software to Disallow essential\nmeans that nothing's running.\n\n547\n00:27:05.280 --> 00:27:06.431\nAnd that can get you\ninto a lot of trouble.\n\n548\n00:27:06.431 --> 00:27:11.061\nAnd if you then go in and mess around with\nthe additional rules and change the level\n\n549\n00:27:11.061 --> 00:27:15.827\nhere, you actually can wind up setting up\na situation where the system will not boot\n\n550\n00:27:15.827 --> 00:27:20.421\nand start up, because you've essentially\nprevented anything from running.\n\n551\n00:27:20.421 --> 00:27:22.413\nSo you have be really careful\nwith what you do here.\n\n552\n00:27:22.413 --> 00:27:26.441\nYou could wind up crashing the system and\nrendering it inoperable and\n\n553\n00:27:26.441 --> 00:27:28.630\nthat can be hard to recover from.\n\n554\n00:27:28.630 --> 00:27:31.200\nIf the policy's being applied, it becomes\na lot more difficult to get in there and\n\n555\n00:27:31.200 --> 00:27:32.860\ndeal with that, yes?\n\n556\n00:27:32.860 --> 00:27:36.330\n&gt;&gt; And I was just gonna mention if you\nhad selected the one for disallow for\n\n557\n00:27:36.330 --> 00:27:37.580\nthat path location.\n\n558\n00:27:37.580 --> 00:27:42.070\nI mean, if someone were to\nmodify that location for\n\n559\n00:27:42.070 --> 00:27:44.940\nthat piece of software, then they\nwould potentially be able to run that.\n\n560\n00:27:44.940 --> 00:27:48.310\nSo that's why I said\nthe hash is my preference,\n\n561\n00:27:48.310 --> 00:27:50.650\njust because hashes are pretty tried and\n\n562\n00:27:50.650 --> 00:27:53.630\ntrue there verses looking at something\nlike that path, what do you think?\n\n563\n00:27:53.630 --> 00:27:57.245\n&gt;&gt; It may be easier to get around the path\nstatement because we may be able to run in\n\n564\n00:27:57.245 --> 00:28:00.915\nor out of that path in order to execute\nsoftware if we're not really thinking as\n\n565\n00:28:00.915 --> 00:28:04.720\nyou said holistically about how we're\ngoing to apply protections everywhere.\n\n566\n00:28:04.720 --> 00:28:08.591\nSo absolutely cuz we use something like\na hash or as I said a certificate.\n\n567\n00:28:08.591 --> 00:28:09.919\n&gt;&gt; A certificate too, yes.\n&gt;&gt; Either one, right,\n\n568\n00:28:09.919 --> 00:28:12.857\nbecause a certificate is kind of the\nofficial let me get it from the vendor.\n\n569\n00:28:12.857 --> 00:28:15.959\nThey certified it, the hashes you saw,\nso I wanna hash this file, and\n\n570\n00:28:15.959 --> 00:28:18.970\nI'm gonna kinda decide on my own,\nright, which one I'm gonna do.\n\n571\n00:28:18.970 --> 00:28:22.605\nThey're both digitally signing\nessentially, in one form or another, but\n\n572\n00:28:22.605 --> 00:28:25.728\nthe difference is, we're controlling\nthe aspect of how we apply\n\n573\n00:28:25.728 --> 00:28:28.020\nthe hash protection when\nwe choose a hash rule.\n\n574\n00:28:28.020 --> 00:28:31.433\nCuz we choose the file when we\nchoose the certificate rule.\n\n575\n00:28:31.433 --> 00:28:33.020\nWe're getting that from the vendor and\n\n576\n00:28:33.020 --> 00:28:35.582\nsaying okay, they're certifying\nthat the software is good.\n\n577\n00:28:35.582 --> 00:28:36.555\n&gt;&gt; I have to trust them.\n\n578\n00:28:36.555 --> 00:28:38.712\n&gt;&gt; Right, well in theory right,\nwe're extending that trust.\n\n579\n00:28:38.712 --> 00:28:43.300\nSo either one would be much, afford\na lot of protection would be good, and\n\n580\n00:28:43.300 --> 00:28:48.044\ncould provide more protection to your\npoint than perhaps a path rule would.\n\n581\n00:28:48.044 --> 00:28:51.104\nI think we can achieve the same\nresults if we're really focused and\n\n582\n00:28:51.104 --> 00:28:53.080\nconcise about how we apply the path rules.\n\n583\n00:28:53.080 --> 00:28:57.180\nBut it takes a lot more work, right,\nto get there to create that coverage.\n\n584\n00:28:57.180 --> 00:29:00.834\nSo it is a good thought process, and\none that Cherokee's reminding us of,\n\n585\n00:29:00.834 --> 00:29:04.669\nas she always does, right, to think\nabout how we're applying these things.\n\n586\n00:29:04.669 --> 00:29:08.348\nAnd what becomes the reality of our world\nand the decisions we make, is a very\n\n587\n00:29:08.348 --> 00:29:11.972\nimportant part of how we actually\nbecome either more secure hopefully, or\n\n588\n00:29:11.972 --> 00:29:13.832\nperhaps without meaning to, right.\n\n589\n00:29:13.832 --> 00:29:17.341\nSometimes as you're pointing out, if we're\nnot careful, we don't pay attention to\n\n590\n00:29:17.341 --> 00:29:21.095\ndetail, how we can become less secure,\nwhich is never a good thing for anyone.\n\n591\n00:29:21.095 --> 00:29:24.151\nSo with software restriction policies,\nas we always try to do,\n\n592\n00:29:24.151 --> 00:29:25.345\ngo to the website there.\n\n593\n00:29:25.345 --> 00:29:28.907\nMicrosoft provides some good guidance for\nus around, shows you how to go in and\n\n594\n00:29:28.907 --> 00:29:30.727\ndo all the things we were talking about.\n\n595\n00:29:30.727 --> 00:29:33.317\nKeep in mind here as we try to point out,\n\n596\n00:29:33.317 --> 00:29:36.197\nthere's usually a lot of\nadditional depth to the websites.\n\n597\n00:29:36.197 --> 00:29:40.539\nWe kinda try to put you up the top level,\nlet you self navigate when you wanna go\n\n598\n00:29:40.539 --> 00:29:44.287\nthrough, find more detail, so\njust calling that out for you.\n\n599\n00:29:45.620 --> 00:29:50.120\nWe do have security policies over here and\nAdBlocker is part of the conversation.\n\n600\n00:29:50.120 --> 00:29:53.740\nWe're gonna come back in another episode\nto talk about AdBlocker, as you heard,\n\n601\n00:29:53.740 --> 00:29:57.490\nmyself and Cherokee, both discuss, but\nwe don't have enough time to get to it.\n\n602\n00:29:57.490 --> 00:29:59.760\nAnd I did promise you\na discussion on Device Guard,\n\n603\n00:29:59.760 --> 00:30:01.280\nthat'll be coming up as well.\n\n604\n00:30:01.280 --> 00:30:03.230\nI also got some other cool\nstuff in store for you,\n\n605\n00:30:03.230 --> 00:30:06.520\na little PowerShel,cuz you could never\nreally get through a security episode\n\n606\n00:30:06.520 --> 00:30:08.410\nwithout talking about\nPowerShell somewhere.\n\n607\n00:30:08.410 --> 00:30:10.220\nSo were gonna take\na look at PowerShell and\n\n608\n00:30:10.220 --> 00:30:12.598\nsee how we could do some cool\nthings with policies, and\n\n609\n00:30:12.598 --> 00:30:16.078\ncreate some policies, export, import,\nconvert, do all this kind of stuff.\n\n610\n00:30:16.078 --> 00:30:19.946\nApply some kernel and user mode policy\nrestrictions to software use as well,\n\n611\n00:30:19.946 --> 00:30:23.769\nwe'll be taking a look at that in one\nof our upcoming episodes in this topic.\n\n612\n00:30:23.769 --> 00:30:27.116\n&gt;&gt; Awesome, I can't say no to cool stuff,\nAdam, so let's go ahead and\n\n613\n00:30:27.116 --> 00:30:28.864\nsign off here so we can get started.\n\n614\n00:30:28.864 --> 00:30:31.217\nFor this show I've been your host,\nCherokee Boose.\n\n615\n00:30:31.217 --> 00:30:32.149\n&gt;&gt; I'm Adam Gordon.\n\n616\n00:30:32.149 --> 00:30:34.017\n&gt;&gt; See you next time here at ITProTV.\n\n617\n00:30:34.017 --> 00:30:42.425\n[MUSIC]\n\n618\n00:30:42.425 --> 00:30:45.142\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233993042"
        },
        {
          "description": "In this episode, Cherokee and Adam discuss another way in which to implement malware protection. They introduce AppLocker and explain how it is more than just a malware protection solution but rather a security feature that controls which applications users can run. Adam walks through a demonstration to show how it is set up and configured.",
          "length": "2018",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-3-implementing_malware_protections_pt3-091317-PGM.00_33_21_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-3-implementing_malware_protections_pt3-091317-PGM.00_33_21_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-3-implementing_malware_protections_pt3-091317-PGM.00_33_21_24.Still001-sm.jpg",
          "title": "Implementing Malware Protections Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:01.874\nWelcome back to ITPro.TV,\nI'm your host Don Pezet.\n\n2\n00:00:01.874 --> 00:00:06.930\n[CROSSTALK] Live from San Francisco,\nCalifornia.\n\n3\n00:00:06.930 --> 00:00:08.372\n[MUSIC]\n\n4\n00:00:08.372 --> 00:00:12.048\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:12.048 --> 00:00:15.342\n&gt;&gt; Welcome back to your\nSecuring Windows Server 2016 series,\n\n6\n00:00:15.342 --> 00:00:17.241\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.241 --> 00:00:20.077\nIn this episode,\nwe'll take a look at a part three,\n\n8\n00:00:20.077 --> 00:00:22.655\nwe'll continue seeing\nhow we can implement and\n\n9\n00:00:22.655 --> 00:00:26.857\nprotect our systems using anti-malware\ncapabilities and other features.\n\n10\n00:00:26.857 --> 00:00:31.073\nSpecifically, we'll be looking at\nAppLocker, and we have Microsoft expert,\n\n11\n00:00:31.073 --> 00:00:35.105\nMr. Adam Gordon with us today in the\nstudios, to help us through this topic.\n\n12\n00:00:35.105 --> 00:00:36.143\nHow's it going, Adam?\n\n13\n00:00:36.143 --> 00:00:38.973\n&gt;&gt; It's going awesome, so we have\nthe really amazing thing about that\n\n14\n00:00:38.973 --> 00:00:40.872\nentire introduction Cherokee just gave me.\n\n15\n00:00:40.872 --> 00:00:44.491\nAside from the fact that it\nwas very nice and thank you.\n\n16\n00:00:44.491 --> 00:00:46.959\nBut she did it in one breath,\nI don't know if you caught that.\n\n17\n00:00:46.959 --> 00:00:49.032\nBut she did not actually stop or\n\n18\n00:00:49.032 --> 00:00:53.998\nbreathe the entire time from the time\nshe started talking until just now.\n\n19\n00:00:53.998 --> 00:00:56.240\n&gt;&gt; It's a problem I have.\n\n20\n00:00:56.240 --> 00:00:57.563\n&gt;&gt; Wow, that's all I can say.\n\n21\n00:00:57.563 --> 00:01:01.758\nSo all right, let us get back to\ntalking about antimalware protection,\n\n22\n00:01:01.758 --> 00:01:04.669\nimplementation of it on\nthe Microsoft platform.\n\n23\n00:01:04.669 --> 00:01:07.702\nWe've been talking about different\ntechnologies, techniques,\n\n24\n00:01:07.702 --> 00:01:08.826\ncapabilities, ideas.\n\n25\n00:01:08.826 --> 00:01:13.030\nWe can throw at malware to prevent\nit from getting the best of us and\n\n26\n00:01:13.030 --> 00:01:15.255\ntry to protect ourselves from it.\n\n27\n00:01:15.255 --> 00:01:18.022\nWe went through and talked about emmets,\nwe went through and\n\n28\n00:01:18.022 --> 00:01:20.203\ntalked about software\nrestriction policies.\n\n29\n00:01:20.203 --> 00:01:22.921\nSome interesting episodes if you\nhaven't seen those I encourage you to\n\n30\n00:01:22.921 --> 00:01:23.924\ncome back and take a look.\n\n31\n00:01:23.924 --> 00:01:27.177\nWe're gonna continue talking in this\ncase about another group policy\n\n32\n00:01:27.177 --> 00:01:28.674\nbased protection capability.\n\n33\n00:01:28.674 --> 00:01:32.612\nAgain, not specific to malware, I made\nthis comment and kind of drew you out on\n\n34\n00:01:32.612 --> 00:01:36.140\nthis in the last episode about\nsoftware restriction policies.\n\n35\n00:01:36.140 --> 00:01:38.470\nWe can more broadly see\nthis protection and\n\n36\n00:01:38.470 --> 00:01:43.320\nthe coverage it provides,\napplicable to all sorts of software.\n\n37\n00:01:43.320 --> 00:01:47.011\nBut certainly malware can be folded\nin as a protection capability or\n\n38\n00:01:47.011 --> 00:01:48.057\ncounter measure.\n\n39\n00:01:48.057 --> 00:01:52.928\nOr control that this policy may give us\nthe ability in other words to protect\n\n40\n00:01:52.928 --> 00:01:56.948\nagainst unvetted, unknown,\nunsecure, or insecure code,\n\n41\n00:01:56.948 --> 00:02:01.463\nwhich is where malware often finds\nit's way into the organization.\n\n42\n00:02:01.463 --> 00:02:04.638\nBut it is not exclusive to malware\nprotection, I just wanna be clear.\n\n43\n00:02:04.638 --> 00:02:07.714\nWe see the use both broadly and\nwidely of both AppLocker,\n\n44\n00:02:07.714 --> 00:02:09.969\nwe're gonna take a look here in a minute.\n\n45\n00:02:09.969 --> 00:02:14.559\nSoftware restriction policies for many\ndifferent kinds of software protections,\n\n46\n00:02:14.559 --> 00:02:16.304\nnot just to eliminate malware or\n\n47\n00:02:16.304 --> 00:02:19.098\nthe possibility of malware\npotentially running.\n\n48\n00:02:19.098 --> 00:02:21.246\nAll right, having said that,\njoin me back here if you will.\n\n49\n00:02:21.246 --> 00:02:24.620\nWe're in our demo environment,\nwhere we were during out last episode,\n\n50\n00:02:24.620 --> 00:02:27.071\nsame dummy controller,\nsame group policy editor.\n\n51\n00:02:27.071 --> 00:02:29.985\nI had already created both policies,\nwe only used one of the two.\n\n52\n00:02:29.985 --> 00:02:33.711\nWe're now gonna go use the policy\ncalled AppLocker again.\n\n53\n00:02:33.711 --> 00:02:34.561\nHow did I do this?\n\n54\n00:02:34.561 --> 00:02:36.929\nAlways important to start\nout knowing where we are.\n\n55\n00:02:36.929 --> 00:02:40.257\nI went to the server\nmanager on my machine,\n\n56\n00:02:40.257 --> 00:02:44.424\nwent to the tools menu,\nopened group policy editor.\n\n57\n00:02:44.424 --> 00:02:47.539\nBrought that up the group policy\nmanagement console with GPMC,\n\n58\n00:02:47.539 --> 00:02:48.236\nI should say.\n\n59\n00:02:48.236 --> 00:02:52.241\nBrought that up,\nwent into the domain practicelabs.com,\n\n60\n00:02:52.241 --> 00:02:54.290\nopened up our domains folder.\n\n61\n00:02:54.290 --> 00:02:59.082\nCR domain, opened up our individual\nOU chose the first OU there,\n\n62\n00:02:59.082 --> 00:03:03.273\nno specific rhyme or reason,\njust did that to work with.\n\n63\n00:03:03.273 --> 00:03:08.369\nCreated by right-clicking and choosing\nCreate a link a GPO at this level.\n\n64\n00:03:08.369 --> 00:03:11.423\nNamed it AppLocker, and\nnow we're about to go in and edit that.\n\n65\n00:03:11.423 --> 00:03:14.999\nSo I'm gonna right-click, choose Edit,\nthe policy is empty right now,\n\n66\n00:03:14.999 --> 00:03:16.605\nI have not made any changes to it.\n\n67\n00:03:16.605 --> 00:03:20.332\nSo we use the policy,\nthe empty policy shell or template.\n\n68\n00:03:20.332 --> 00:03:23.913\nWe're gonna go back into the computer\nconfiguration under policies,\n\n69\n00:03:23.913 --> 00:03:25.232\nunder Windows settings.\n\n70\n00:03:25.232 --> 00:03:28.156\nWhere we were for\nsoftware restriction policies,\n\n71\n00:03:28.156 --> 00:03:30.947\njust up one level above\nsoftware restrictions.\n\n72\n00:03:30.947 --> 00:03:34.217\nWhere we will find or actually below,\nI should say, where we find\n\n73\n00:03:34.217 --> 00:03:38.332\nthe Application control policies, which\nis what we use to implement AppLocker.\n\n74\n00:03:38.332 --> 00:03:42.460\nLet me just move this over, so\nwe could see what's going on there.\n\n75\n00:03:42.460 --> 00:03:46.459\nAnd underneath AppLocker or underneath\nApplication Control Policies and\n\n76\n00:03:46.459 --> 00:03:47.798\nunderneath AppLocker.\n\n77\n00:03:47.798 --> 00:03:50.506\nWe actually already have\na group of settings and\n\n78\n00:03:50.506 --> 00:03:53.970\ntools and capabilities here\nunlike software restriction.\n\n79\n00:03:53.970 --> 00:03:57.290\nRemember, we have to right click\nto enable the policy container and\n\n80\n00:03:57.290 --> 00:04:01.190\nenable the rules and\nenable the different levels for\n\n81\n00:04:01.190 --> 00:04:04.450\nsecurity that we have to work with,\nput that all in.\n\n82\n00:04:04.450 --> 00:04:07.023\nThis is already populated, but\nwe obviously have to go in and\n\n83\n00:04:07.023 --> 00:04:09.451\nstill at the end of the day\nmake some wise decisions here.\n\n84\n00:04:09.451 --> 00:04:14.148\nSo AppLocker also gives us the capability\nto be able to restrict software\n\n85\n00:04:14.148 --> 00:04:18.691\nthat will be running or can potentially\ncan be setup to run in a system.\n\n86\n00:04:18.691 --> 00:04:23.312\nSo it does operate almost identically\nto software restriction policies.\n\n87\n00:04:23.312 --> 00:04:25.325\nWe have the ability here as you can see,\n\n88\n00:04:25.325 --> 00:04:29.120\nto create rules from a slightly\ndifferent perspective or vantage point.\n\n89\n00:04:29.120 --> 00:04:32.249\nIf you remember, in the last episode,\nCherokee was kind enough to play along,\n\n90\n00:04:32.249 --> 00:04:33.570\nhelp me out trying to figure out.\n\n91\n00:04:33.570 --> 00:04:36.097\nAnd remember what all\nthe different four levels or\n\n92\n00:04:36.097 --> 00:04:39.965\ncategories of rules were that we have\nwith software restriction policies.\n\n93\n00:04:39.965 --> 00:04:42.193\nI'm not gonna ask her to repeat those for\nus now.\n\n94\n00:04:42.193 --> 00:04:45.522\nBut we did go through this and she\nidentified one and said, wait a second,\n\n95\n00:04:45.522 --> 00:04:48.967\nit's not that publisher rule that I\nwas thinking of, that's for AppLocker.\n\n96\n00:04:48.967 --> 00:04:51.674\nAnd we're gonna come back and talk\nabout that and we see that here, right?\n\n97\n00:04:51.674 --> 00:04:53.269\nAs one of the rules that we have.\n\n98\n00:04:53.269 --> 00:04:57.002\nSo we do have a Executable Rule,\nWindows Install Rules, Script Rules,\n\n99\n00:04:57.002 --> 00:04:59.217\nPackage App Rules under different areas.\n\n100\n00:04:59.217 --> 00:05:03.510\nWe can create rules that are associated\nwith and used in a very similar fashion.\n\n101\n00:05:03.510 --> 00:05:07.744\nIn Software Restriction Policies, we had\na zone rule, a network zone is what it was\n\n102\n00:05:07.744 --> 00:05:11.295\ncalled or network rule,\nwhich did the Internet Explorer zones.\n\n103\n00:05:11.295 --> 00:05:15.201\nWe had a path rule that would allow\nus to specify UNC or a local path.\n\n104\n00:05:15.201 --> 00:05:20.644\nWe had both a hash rule and\na digital certificate or certificate rule.\n\n105\n00:05:20.644 --> 00:05:23.513\nThat could be used to apply\neither pre-signed and\n\n106\n00:05:23.513 --> 00:05:28.297\nauthorized certificates to validate the\nintegrity and the validity of software in\n\n107\n00:05:28.297 --> 00:05:31.662\norder to hash an existing file and\nhave us validate right.\n\n108\n00:05:31.662 --> 00:05:34.710\nWe could do that either way, so\nit's just something to consider.\n\n109\n00:05:34.710 --> 00:05:38.498\nBut we do have the ability here with\nAppLocker to do very similar things.\n\n110\n00:05:38.498 --> 00:05:42.042\nSo what I tell most people to do when\nwe talk about AppLocker and I have\n\n111\n00:05:42.042 --> 00:05:46.405\nconversations with them about it, is we\nhave this great little link here, right?\n\n112\n00:05:46.405 --> 00:05:50.114\nMore about AppLocker, which editions\nof Windows support AppLocker,\n\n113\n00:05:50.114 --> 00:05:51.857\nyou click on one or both of these.\n\n114\n00:05:51.857 --> 00:05:57.427\nAnd you will then get a link to Internet\nExplorer if you have IE available up and\n\n115\n00:05:57.427 --> 00:06:00.265\nrunning and you have Internet access.\n\n116\n00:06:00.265 --> 00:06:02.190\nYou'll be taken out to\nthis site right here.\n\n117\n00:06:02.190 --> 00:06:06.445\nTells you a little bit about AppLocker,\nprobably a good overview for you, right?\n\n118\n00:06:06.445 --> 00:06:09.439\nSo you'll see here,\nwe can AppLocker with AppLocker,\n\n119\n00:06:09.439 --> 00:06:13.273\nwe can find rules based on the attributes\nacross application updates.\n\n120\n00:06:13.273 --> 00:06:17.270\nSo that application updates may change or\nmodify the application.\n\n121\n00:06:17.270 --> 00:06:20.977\nBut attributes that persist,\nwe can tag those, and use those.\n\n122\n00:06:20.977 --> 00:06:23.947\nWe assign rules to security groups or\nindividual users.\n\n123\n00:06:23.947 --> 00:06:27.410\nSo groups and users and or\nusers are the focus here.\n\n124\n00:06:27.410 --> 00:06:30.285\nWe can create exceptions for\nthe rules, we can audit only or\n\n125\n00:06:30.285 --> 00:06:32.770\ncreate rules that will be staged and\nthen applied.\n\n126\n00:06:32.770 --> 00:06:37.229\nSo lot of flexibility here,\nit's a very valuable set of tools.\n\n127\n00:06:37.229 --> 00:06:41.602\nWe can also create app lock rules using\nPowerShell, as we often talk about.\n\n128\n00:06:41.602 --> 00:06:43.295\nSo we have the ability, here,\n\n129\n00:06:43.295 --> 00:06:47.085\nto be able to look at things like\nprotection from unwanted software.\n\n130\n00:06:47.085 --> 00:06:50.046\nWe've talked about the output and\nthe reasons why this would be helpful.\n\n131\n00:06:50.046 --> 00:06:51.454\nLicensing and conformance,\n\n132\n00:06:51.454 --> 00:06:54.390\nI'm sure people are running\nlicensed versions of a product.\n\n133\n00:06:54.390 --> 00:06:56.944\nBy using or\ntagging the executable or using or\n\n134\n00:06:56.944 --> 00:07:01.220\ntagging things like publisher name,\nthe product name, the file name.\n\n135\n00:07:01.220 --> 00:07:04.070\nThings of that nature can be\nused to identify software, and\n\n136\n00:07:04.070 --> 00:07:08.200\nas a result we can zero in on that,\nso that is important as well.\n\n137\n00:07:08.200 --> 00:07:09.570\nWhen do we use AppLocker?\n\n138\n00:07:09.570 --> 00:07:13.176\nMicrosoft does a great job of\nputting out some use cases for us,\n\n139\n00:07:13.176 --> 00:07:16.114\nhelping us to better\nunderstand how we can do this.\n\n140\n00:07:16.114 --> 00:07:20.366\nIt is seen as partially a compliance tool,\nmeaning we can go in and zero in on\n\n141\n00:07:20.366 --> 00:07:25.103\nthe unofficial unauthorized use of either\nillegitimate or unlicensed software.\n\n142\n00:07:25.103 --> 00:07:28.274\nAlthough there are other tools and\ntechniques that maybe easier to deploy and\n\n143\n00:07:28.274 --> 00:07:30.040\nultimately will give us better coverage.\n\n144\n00:07:30.040 --> 00:07:33.880\nI'm thinking System Center Config Manager\nfor instance, with the compliance center.\n\n145\n00:07:33.880 --> 00:07:37.457\nWhere we can go in and we can audit for\nsoftware usage or software metering.\n\n146\n00:07:37.457 --> 00:07:41.679\nWe can take a look at and\nget licensing reports based on inventory.\n\n147\n00:07:41.679 --> 00:07:44.557\nSo there's a lot of ways we\ncould gather this data, but\n\n148\n00:07:44.557 --> 00:07:48.575\nthis is a kind of down in the trenches,\nhands on front line kind of approach.\n\n149\n00:07:48.575 --> 00:07:52.322\nBut it may not be as scalable meaning\nas easily scaled as something like\n\n150\n00:07:52.322 --> 00:07:56.210\nSystem Center Config Manager and\nInventory Management would be there.\n\n151\n00:07:56.210 --> 00:07:59.633\nWe can achieve very similar results, but\nwe just may have to work a little bit\n\n152\n00:07:59.633 --> 00:08:01.729\nharder at it with\nsomething like AppLockers.\n\n153\n00:08:01.729 --> 00:08:03.235\nSo just wanna keep that in mind.\n\n154\n00:08:03.235 --> 00:08:05.775\nSystem requirements,\npretty straightforward, right?\n\n155\n00:08:05.775 --> 00:08:10.152\nAs long as we support group policy in\nthe use of the operating systems that\n\n156\n00:08:10.152 --> 00:08:12.770\nare currently supported by Microsoft.\n\n157\n00:08:12.770 --> 00:08:16.410\nWe can typically go back as far\nas Windows 7 with no trouble for\n\n158\n00:08:16.410 --> 00:08:17.510\nthings like AppLocker.\n\n159\n00:08:17.510 --> 00:08:22.290\nSo our most recent versions of desktop and\nserver-side OSes will support this.\n\n160\n00:08:22.290 --> 00:08:24.860\nSo you could see here\nrequirements to use AppLocker.\n\n161\n00:08:26.310 --> 00:08:28.150\nYou click through one of these links,\n\n162\n00:08:28.150 --> 00:08:30.910\nif you just need a little\nbit more guidance here.\n\n163\n00:08:30.910 --> 00:08:35.170\nApplies to, so it tells us,\ndevice that's running a supported OS.\n\n164\n00:08:35.170 --> 00:08:37.160\nThe ability to apply group policy.\n\n165\n00:08:37.160 --> 00:08:40.250\nAnd then it gives us the operating\nsystem requirements here.\n\n166\n00:08:40.250 --> 00:08:41.680\nWindows 10, as I said.\n\n167\n00:08:43.170 --> 00:08:48.510\nServer 16, Server 12, 12R2,\nWindows 8, 8.1, Windows RT.\n\n168\n00:08:48.510 --> 00:08:55.820\nWindows 8 Pro, Enterprise, etc, 2008, 2008\nR2, Windows 7 as I said, all the way back.\n\n169\n00:08:55.820 --> 00:08:58.870\nSo the nice thing about the documentation\nis it gives us all that detail.\n\n170\n00:08:58.870 --> 00:09:01.010\nNow, it also goes through and\ntells us by version.\n\n171\n00:09:01.010 --> 00:09:06.620\nUltimate, Enterprise, Pro,\nif it's on the list, Business, Home, etc.\n\n172\n00:09:06.620 --> 00:09:10.130\nAnd tells us if there is support for\nthings like Itanium systems.\n\n173\n00:09:10.130 --> 00:09:12.850\nAnd we don't often spend this\nmuch time on this kind of detail.\n\n174\n00:09:12.850 --> 00:09:14.630\nAnd I'm not suggesting it's\nnecessarily important for\n\n175\n00:09:14.630 --> 00:09:17.500\nyou to go and look at this chart and\nmemorize what's there.\n\n176\n00:09:17.500 --> 00:09:21.279\nBut you know Microsoft's famous for asking\nthese kind off in the corner questions\n\n177\n00:09:21.279 --> 00:09:25.167\nevery so often about a technology that's\ngroup policy based, like AppLocker, and\n\n178\n00:09:25.167 --> 00:09:26.776\nrestrictions based on platform.\n\n179\n00:09:26.776 --> 00:09:28.322\nWill it apply to this or compatibility?\n\n180\n00:09:28.322 --> 00:09:31.800\nAnd Itanium's one of those really crazy,\nkinda off in the corner,\n\n181\n00:09:31.800 --> 00:09:36.390\nsolutions where we don't support a lot of\nit, but we do support it in certain cases.\n\n182\n00:09:36.390 --> 00:09:39.870\nWindows 7 had like 12 versions,\nright, that were out there, and\n\n183\n00:09:39.870 --> 00:09:42.790\nonly certain ones will support\nthe use of group policy.\n\n184\n00:09:42.790 --> 00:09:46.330\nAnd Microsoft loves to ask\nquestions about things like,\n\n185\n00:09:46.330 --> 00:09:51.280\nhey, if you have Home Edition, right, or\nif you have the Multimedia Edition, or\n\n186\n00:09:51.280 --> 00:09:56.190\nyou have this addition, business or\npro or Enterprise of whatever.\n\n187\n00:09:56.190 --> 00:09:59.378\nDo we support the use of this\nkind of feature, or do we not?\n\n188\n00:09:59.378 --> 00:10:03.830\nNotice home is not on that list because\nhome does not support the application of\n\n189\n00:10:03.830 --> 00:10:08.282\ngroup policy from a centralized domain\nbased system because you can't domain\n\n190\n00:10:08.282 --> 00:10:08.834\njoin it.\n\n191\n00:10:08.834 --> 00:10:12.440\nWhereas something like a local security\npolicy on that local machine would work.\n\n192\n00:10:12.440 --> 00:10:13.700\nBut we're not talking\nabout local policy now,\n\n193\n00:10:13.700 --> 00:10:16.086\nwe're talking about domain\nderived group policy.\n\n194\n00:10:16.086 --> 00:10:20.130\nSo I'm just simply pointing out that\nthere's a lot of subtlety associated\n\n195\n00:10:20.130 --> 00:10:24.480\nwith a conversation from an exam\npreparation perspective,\n\n196\n00:10:24.480 --> 00:10:26.370\nabout something like AppLocker.\n\n197\n00:10:26.370 --> 00:10:30.130\nAnd it may be worth your time to go\nthrough and just make sure that you've at\n\n198\n00:10:30.130 --> 00:10:34.710\nleast snuck a peek at some of those kind\nof things that may pop up at some point,\n\n199\n00:10:34.710 --> 00:10:37.260\nor perhaps, make themselves known to you.\n\n200\n00:10:37.260 --> 00:10:40.450\nYou don't want to be caught short,\nor off guard, if you will, right?\n\n201\n00:10:40.450 --> 00:10:43.850\nSo just some handy information and\n\n202\n00:10:43.850 --> 00:10:45.542\nguidance that may prove\nto be valuable to you.\n\n203\n00:10:45.542 --> 00:10:47.310\nAll right,\nlet's take a look under the hood here.\n\n204\n00:10:47.310 --> 00:10:50.020\nWhen was the last time you went in and\nplayed around with that block?\n\n205\n00:10:50.020 --> 00:10:52.070\nDone it on server 68 on Windows 10?\n\n206\n00:10:52.070 --> 00:10:54.560\n&gt;&gt; I have not, but\nactually that's what I was thinking about.\n\n207\n00:10:54.560 --> 00:10:56.610\nI'm like hey,\nhave the rules changed since server 2012?\n\n208\n00:10:56.610 --> 00:10:59.110\nBecause that's when I was in there last,\nwas in 2012.\n\n209\n00:10:59.110 --> 00:11:02.120\nI haven't looked at it here in 2016,\nso I'm kind of curious.\n\n210\n00:11:02.120 --> 00:11:04.410\n&gt;&gt; All right, you'll find almost\neverything is gonna be the same.\n\n211\n00:11:04.410 --> 00:11:07.570\nBut let's start at the top and\nliterally walk through, take a look.\n\n212\n00:11:07.570 --> 00:11:10.390\nSo one of the interesting things we\ncan do, aside from just the overview.\n\n213\n00:11:10.390 --> 00:11:12.980\nAll of these are just shortcuts\nthat essentially link back\n\n214\n00:11:12.980 --> 00:11:14.420\nto these areas over here\nto let us use them.\n\n215\n00:11:14.420 --> 00:11:16.148\nSo we're not going to\nworry too much about this.\n\n216\n00:11:16.148 --> 00:11:19.188\nBut it's nice because it does give\nus a summary on this dashboard view.\n\n217\n00:11:19.188 --> 00:11:23.151\nWhen we start enabling rules, it'll\npopulate here and say, look, we have five\n\n218\n00:11:23.151 --> 00:11:27.300\nrules and they're enabled, so we get\nsome update information here over time.\n\n219\n00:11:27.300 --> 00:11:29.220\nBut for now,\nlet's kind of ignore this area,\n\n220\n00:11:29.220 --> 00:11:31.530\nlet's just focus on what's\ngoing on over here.\n\n221\n00:11:31.530 --> 00:11:35.573\nSo a lot of people don't realize they\ncould click on AppLocker itself right\n\n222\n00:11:35.573 --> 00:11:37.446\nhere, so the icon for AppLocker.\n\n223\n00:11:37.446 --> 00:11:41.310\nThey can import policies, and we've talked\nabout this before with other areas.\n\n224\n00:11:41.310 --> 00:11:45.486\nLike Emit for instance, where we could\nimport the configuration, the XML config\n\n225\n00:11:45.486 --> 00:11:49.662\nfile, that somebody's run to create a\nsecurity baseline on a clean machine, and\n\n226\n00:11:49.662 --> 00:11:52.042\nthen import that, and\nuse that to configure.\n\n227\n00:11:52.042 --> 00:11:53.377\nSo we've talked about\nthe value of importing.\n\n228\n00:11:53.377 --> 00:11:57.591\nWe've talked about this with certificates\nand the certificate rule in the software\n\n229\n00:11:57.591 --> 00:12:00.320\nrestriction policies in\nthe last couple of episodes,\n\n230\n00:12:00.320 --> 00:12:04.750\nwhere we could import and use certificates\nto identify and drive rule application.\n\n231\n00:12:04.750 --> 00:12:07.950\nSo importing is not something\nwe should be unfamiliar with,\n\n232\n00:12:07.950 --> 00:12:09.640\nit's a pretty common concept.\n\n233\n00:12:09.640 --> 00:12:13.290\nSo we could import policies if they've\nbeen created from somewhere else.\n\n234\n00:12:13.290 --> 00:12:15.900\nWhen we do that,\nwe just get a very simple little\n\n235\n00:12:17.230 --> 00:12:21.260\nbrowse screen here we have to go out and\nfind our policy, XML file.\n\n236\n00:12:21.260 --> 00:12:24.660\nThis is not a policy, by the way,\nit's just a file I was using in the last\n\n237\n00:12:24.660 --> 00:12:28.890\ndemonstration in the last episode, so the\ndefault path just happened to stay there.\n\n238\n00:12:28.890 --> 00:12:29.610\nBut you will go out and\n\n239\n00:12:29.610 --> 00:12:33.790\nfind whatever the exported policies may be\nfrom somewhere else and then import them.\n\n240\n00:12:33.790 --> 00:12:34.844\nSo we do have that option.\n\n241\n00:12:34.844 --> 00:12:38.419\nWe could export our policies from\nhere as well, so we can do that.\n\n242\n00:12:38.419 --> 00:12:41.999\nBut most people don't realize they\ncan go to the properties here, and\n\n243\n00:12:41.999 --> 00:12:45.190\nthis is kind of interesting,\nif I can get that to come up.\n\n244\n00:12:45.190 --> 00:12:46.460\nI'm hiding my task bar, so\n\n245\n00:12:46.460 --> 00:12:49.230\ngive me a second cuz I think I just lost,\nthere we go.\n\n246\n00:12:49.230 --> 00:12:53.310\nWhen we go to our AppLocker properties,\nlet me just bring this over so\n\n247\n00:12:53.310 --> 00:12:54.220\nyou can see it.\n\n248\n00:12:55.270 --> 00:12:59.260\nThis is one of those demo environments\nwhere we so often see me having to\n\n249\n00:12:59.260 --> 00:13:02.600\nhide the taskbar to get to the bottom of\nthe window, just based on the window size.\n\n250\n00:13:02.600 --> 00:13:04.009\n&gt;&gt; Because it's an extra tall window.\n\n251\n00:13:04.009 --> 00:13:07.147\n&gt;&gt; Yeah, there are certain things in\nthis particular one in AppLocker,\n\n252\n00:13:07.147 --> 00:13:10.014\nwhere I go to create but\nI can't see the bottom of the wizard, and\n\n253\n00:13:10.014 --> 00:13:12.220\nif I don't hide the task bar,\nI can't get to it.\n\n254\n00:13:12.220 --> 00:13:13.949\nAnd then when I hide it,\nI lose things like that and\n\n255\n00:13:13.949 --> 00:13:15.319\nthen I can't get them back sometimes.\n\n256\n00:13:15.319 --> 00:13:17.544\nSo, it's never a perfect world,\nwhat can I tell you.\n\n257\n00:13:17.544 --> 00:13:18.837\n&gt;&gt; #WizardProblems.\n\n258\n00:13:18.837 --> 00:13:21.590\n&gt;&gt; #WizardProblems.\n\n259\n00:13:21.590 --> 00:13:22.507\nThere you go.\n&gt;&gt; [LAUGH]\n\n260\n00:13:22.507 --> 00:13:23.362\n&gt;&gt; I like that one, that's a good one.\n\n261\n00:13:23.362 --> 00:13:25.622\nSo there's a reason for\nme to use Twitter right there, I guess.\n\n262\n00:13:25.622 --> 00:13:26.555\n&gt;&gt; There you go.\nNow, you can-\n\n263\n00:13:26.555 --> 00:13:27.472\n&gt;&gt; #WizardProblems.\n\n264\n00:13:27.472 --> 00:13:27.986\n&gt;&gt; [LAUGH] You're all set.\n\n265\n00:13:27.986 --> 00:13:30.058\n&gt;&gt; All right, so, in here, right,\n\n266\n00:13:30.058 --> 00:13:33.770\nin AppLocker Properties,\n&gt;&gt; What we find is enforcement and\n\n267\n00:13:33.770 --> 00:13:34.320\nadvance, so\n\n268\n00:13:34.320 --> 00:13:36.868\nlet's just talk about these because these\nare kind of interesting for a minute.\n\n269\n00:13:36.868 --> 00:13:40.920\nSpecify whether AppLocker rules\nare enforced for each rule collection,\n\n270\n00:13:40.920 --> 00:13:45.020\nexecutable rule, configured and\nthen enforce or audit only.\n\n271\n00:13:45.020 --> 00:13:48.242\nWhat we're doing here is deciding\nwhether not we want to enforce all\n\n272\n00:13:48.242 --> 00:13:51.124\nthe rules that are created, or\nswitch them into audit mode,\n\n273\n00:13:51.124 --> 00:13:54.081\nallow us to see the outcome of\nwhat they would be, track them.\n\n274\n00:13:54.081 --> 00:13:56.258\nThis is almost like a what-if result and\n\n275\n00:13:56.258 --> 00:13:59.331\nset a policy kind of scenario\nin the group policy editor,\n\n276\n00:13:59.331 --> 00:14:03.319\nwhere we look at group policy results\ndown here in group policy modeling.\n\n277\n00:14:03.319 --> 00:14:05.399\nWe could say okay,\nshow me what would happen and\n\n278\n00:14:05.399 --> 00:14:09.070\nlet me track the application of the rules,\nbut I'm not enforcing them right now.\n\n279\n00:14:09.070 --> 00:14:11.850\nSo in a sense, we are just looking\nat them, test driving them,\n\n280\n00:14:11.850 --> 00:14:14.580\nand then when I wanna enforce them,\nI can switch them on.\n\n281\n00:14:14.580 --> 00:14:17.830\nSo I do have the capability to do\nthis here, and I can go in and see.\n\n282\n00:14:17.830 --> 00:14:21.320\nA lot of people that don't realize this is\nhere and are just not familiar with it.\n\n283\n00:14:21.320 --> 00:14:23.310\nSo just wanted to point this out to you.\n\n284\n00:14:23.310 --> 00:14:28.395\nAlso under Advanced, specify whether\nthe DLL rule collection will be enabled.\n\n285\n00:14:28.395 --> 00:14:31.310\nSo the DLL rule collection allows us,\nas you can probably guess or\n\n286\n00:14:31.310 --> 00:14:33.330\nimagine from the name, right?\n\n287\n00:14:33.330 --> 00:14:38.050\nOnly enable DLL rules after thoroughly\nreviewing AppLocker documentation.\n\n288\n00:14:38.050 --> 00:14:43.000\nThey can significantly affect performance,\nmeaning if you put in a DLL rule,\n\n289\n00:14:43.000 --> 00:14:46.001\nand you can see enable there,\nwe can enable it.\n\n290\n00:14:46.001 --> 00:14:50.740\nWe do that, we may slow the system down\nto the point that it's very difficult for\n\n291\n00:14:50.740 --> 00:14:53.379\nthe system to process and\ndo a lot of things.\n\n292\n00:14:53.379 --> 00:14:56.066\nBecause every DLL,\nthe core DLLs for OS, and\n\n293\n00:14:56.066 --> 00:15:00.737\nthe extended DLL sets that may get added\nby additional trusted third parties,\n\n294\n00:15:00.737 --> 00:15:04.982\nare now gonna be subject to inspection and\nrule-based filtering, and\n\n295\n00:15:04.982 --> 00:15:08.690\nthat can slow down significantly\nperformance on the system.\n\n296\n00:15:08.690 --> 00:15:10.510\nSo, not enabled by default.\n\n297\n00:15:10.510 --> 00:15:11.900\nWanna make sure you know that.\n\n298\n00:15:11.900 --> 00:15:13.340\nWanna know you can turn it on.\n\n299\n00:15:13.340 --> 00:15:18.800\nBut, strong cautionary word here,\ncaveat emptor, right, buyer beware.\n\n300\n00:15:18.800 --> 00:15:20.950\nMake sure you know that\nif you turn this on,\n\n301\n00:15:20.950 --> 00:15:23.250\nyou may be negatively\naffecting performance.\n\n302\n00:15:23.250 --> 00:15:26.540\nYou don't often hear me call that out and\nsay, yeah, that urban myth and\n\n303\n00:15:26.540 --> 00:15:30.080\nlegend about performance\ntaking a hit is actually true.\n\n304\n00:15:30.080 --> 00:15:32.990\nThis is one of those places where\nMicrosoft is right to call this out.\n\n305\n00:15:32.990 --> 00:15:36.090\nYou could actually cause\na significant problem here.\n\n306\n00:15:36.090 --> 00:15:38.590\nWhat I'm suggesting here is that\nyou gotta make sure you test\n\n307\n00:15:38.590 --> 00:15:40.840\nthe impact of this by target or less.\n\n308\n00:15:40.840 --> 00:15:43.520\nNot just, it's good on my\ndomain controller, I'm okay.\n\n309\n00:15:43.520 --> 00:15:45.225\nThe domain controller is\nthe least of your problems.\n\n310\n00:15:45.225 --> 00:15:47.046\nYou're going to apply this\nto Windows 10 Workstations.\n\n311\n00:15:47.046 --> 00:15:50.646\nIt's gonna apply this to Windows\n7 Ultimate machines, or whatever.\n\n312\n00:15:50.646 --> 00:15:54.494\nYou gotta test every one of these to make\nsure the performance impact is not gonna\n\n313\n00:15:54.494 --> 00:15:55.190\nbe a problem.\n\n314\n00:15:55.190 --> 00:15:57.570\nSo remember,\nthe further back we go on that OS chart.\n\n315\n00:15:57.570 --> 00:16:01.390\nThe less likely it is we have high-end\nhardware that we're throwing at a problem\n\n316\n00:16:01.390 --> 00:16:01.960\nlike this.\n\n317\n00:16:01.960 --> 00:16:04.882\nAnd that can be where we\nreally drive off the cliff and\n\n318\n00:16:04.882 --> 00:16:08.360\nsee a lot of concerns with\nregards to performance, right?\n\n319\n00:16:08.360 --> 00:16:10.452\nNot so much on the brand-new, high-end,\n\n320\n00:16:10.452 --> 00:16:14.540\nsuper-duper Windows 10 server 16, you\nknow monster machines we're running but\n\n321\n00:16:14.540 --> 00:16:18.270\non the older machines that may actually\nget knocked for a loop if we do this.\n\n322\n00:16:18.270 --> 00:16:20.190\nSo just wanna make sure\nyou're aware of that.\n\n323\n00:16:20.190 --> 00:16:23.490\nSo we have that there at\nthe root under AppLocker itself.\n\n324\n00:16:24.960 --> 00:16:26.810\nGo back into the policy.\n\n325\n00:16:26.810 --> 00:16:29.336\nAnd right up here under\napplication control policies,\n\n326\n00:16:29.336 --> 00:16:31.171\nnotice no right click options, right?\n\n327\n00:16:31.171 --> 00:16:34.843\nJust to make sure you know there's nothing\nof interest there because we already have\n\n328\n00:16:34.843 --> 00:16:36.250\nthe AppLocker item down below.\n\n329\n00:16:36.250 --> 00:16:39.520\nSo then underneath the AppLocker,\nwe have our four rule areas.\n\n330\n00:16:39.520 --> 00:16:41.210\nNow executable rules,\nor any of these rules.\n\n331\n00:16:41.210 --> 00:16:43.690\nWe could just kind of choose,\nwe'll just start with executable rules,\n\n332\n00:16:43.690 --> 00:16:45.260\neasy to define.\n\n333\n00:16:45.260 --> 00:16:47.010\nWe got some options here,\nkind of interesting.\n\n334\n00:16:47.010 --> 00:16:50.120\nAnd what I'll do,\nI'll right click over here.\n\n335\n00:16:50.120 --> 00:16:52.417\nAnd just get that away from\nthe box a little bit so\n\n336\n00:16:52.417 --> 00:16:54.840\nyou could kind of see this and\nI'll read it to you.\n\n337\n00:16:54.840 --> 00:16:56.040\n&gt;&gt; Okay.\n&gt;&gt; You don't have to worry\n\n338\n00:16:56.040 --> 00:16:56.650\nabout squinting.\n\n339\n00:16:56.650 --> 00:16:58.240\n&gt;&gt; Story time, okay.\n\n340\n00:16:58.240 --> 00:16:59.083\n&gt;&gt; All right, so.\n[LAUGH]\n\n341\n00:16:59.083 --> 00:16:59.584\n&gt;&gt; [LAUGH]\n\n342\n00:16:59.584 --> 00:17:00.205\n&gt;&gt; Create New Rule, so\n\n343\n00:17:00.205 --> 00:17:02.152\nwe can create a brand new rule.\nThis is us manually walking\n\n344\n00:17:02.152 --> 00:17:03.429\nthrough the wizard.\nWe'll do Do this.\n\n345\n00:17:03.429 --> 00:17:04.303\nYou've seen this in 12,\n\n346\n00:17:04.303 --> 00:17:05.720\nthis would be no different.\n&gt;&gt; Yes, this part is the same.\n\n347\n00:17:05.720 --> 00:17:08.740\n&gt;&gt; And then automatically generate rules,\nwe have that capability.\n\n348\n00:17:08.740 --> 00:17:13.560\nThis will auto generate a set of rules for\nus and create default rules.\n\n349\n00:17:13.560 --> 00:17:16.098\nNow auto generate does walk\nus through a wizard, but\n\n350\n00:17:16.098 --> 00:17:18.710\na slightly different\nwizard than manual one.\n\n351\n00:17:18.710 --> 00:17:22.660\nAnd then create a set of default\nrules that will offer protection.\n\n352\n00:17:22.660 --> 00:17:25.460\nI'll show you all three of these and\nshow you how we'll walk through.\n\n353\n00:17:25.460 --> 00:17:28.380\nLet's start with default rules, right?\n\n354\n00:17:28.380 --> 00:17:30.585\nBoom, done, no wizard, just shows up and\n\n355\n00:17:30.585 --> 00:17:35.270\nthey're there and you could see that\nour action is set to allow, right?\n\n356\n00:17:35.270 --> 00:17:37.214\nGreen circle, white check,\n\n357\n00:17:37.214 --> 00:17:42.113\nwe have them applied to either\nthe everyone group, system control group,\n\n358\n00:17:42.113 --> 00:17:46.405\nor the built-in administrators group,\nagain system control.\n\n359\n00:17:46.405 --> 00:17:48.777\nWe do have a condition for paths,\n\n360\n00:17:48.777 --> 00:17:53.120\nso we're using a path condition\nhere to specify something.\n\n361\n00:17:53.120 --> 00:17:54.130\nAnd then default rule,\n\n362\n00:17:54.130 --> 00:17:57.517\nall files located in programs,\nall files located in the Windows.\n\n363\n00:17:58.590 --> 00:18:03.110\nSame exact set of rules, by the way,\nwe saw in the software, excuse me,\n\n364\n00:18:03.110 --> 00:18:04.670\nsoftware restriction policies.\n\n365\n00:18:04.670 --> 00:18:07.830\nIf you remember the two rules\nthat were already there\n\n366\n00:18:07.830 --> 00:18:12.230\nas path rules had been specified for\nthe program files folder and\n\n367\n00:18:12.230 --> 00:18:15.750\nthe Windows folder to allow us to\nrun the operating system, right?\n\n368\n00:18:15.750 --> 00:18:18.820\nWhen we apply the policy,\notherwise everything stops working.\n\n369\n00:18:18.820 --> 00:18:20.960\n&gt;&gt; You know what changed this to deny?\n\n370\n00:18:20.960 --> 00:18:21.955\n&gt;&gt; I do on your machine.\n\n371\n00:18:21.955 --> 00:18:23.620\n&gt;&gt; [LAUGHS]\n&gt;&gt; Well Mike's not around,\n\n372\n00:18:23.620 --> 00:18:25.110\nwe'll change it on his machine, right?\n\n373\n00:18:25.110 --> 00:18:26.300\nHe probably won't know.\n\n374\n00:18:26.300 --> 00:18:28.280\nYeah we could certainly do that but\n\n375\n00:18:28.280 --> 00:18:32.240\nthe problem is of course if we do as I was\njoking around with Cherokee before and\n\n376\n00:18:32.240 --> 00:18:34.940\nshe was joking around with me about,\nwe actually could get in\n\n377\n00:18:34.940 --> 00:18:38.850\nour selves in a situation where the OS may\nnot be able to function the right way.\n\n378\n00:18:38.850 --> 00:18:41.610\nAnd that might be difficult to recover\nfrom, right, so just be aware of that.\n\n379\n00:18:41.610 --> 00:18:44.170\nAll right so\nyou do have default rules here.\n\n380\n00:18:44.170 --> 00:18:46.600\nLet's just take a look at one of them,\njust bring them up, you could see here.\n\n381\n00:18:48.120 --> 00:18:51.150\nWe do have our, you know,\njust general overview description,\n\n382\n00:18:51.150 --> 00:18:53.340\netcetera, action allowed or denied group.\n\n383\n00:18:53.340 --> 00:18:55.040\nThat's pretty easy, right?\n\n384\n00:18:55.040 --> 00:18:57.610\nWe have our path that tells us\nwhere we're going, in this case,\n\n385\n00:18:57.610 --> 00:18:59.190\nour program files directory.\n\n386\n00:18:59.190 --> 00:19:01.620\nNotice we can obviously modify that, and\n\n387\n00:19:01.620 --> 00:19:05.520\nthen if there are exceptions, right, for\nthis is what you were talking about when\n\n388\n00:19:05.520 --> 00:19:06.979\nyou thought it was a publisher rule,\n&gt;&gt; Yes, publisher rule.\n\n389\n00:19:06.979 --> 00:19:10.020\n&gt;&gt; We call them exceptions to\nas opposed to a rule, per se.\n\n390\n00:19:10.020 --> 00:19:11.610\nSame idea, I know what you meant.\n\n391\n00:19:11.610 --> 00:19:16.130\nAnd you could see here, we can add\nexception by publisher path or file hash,\n\n392\n00:19:16.130 --> 00:19:17.110\nin this case.\n\n393\n00:19:17.110 --> 00:19:21.810\nSo we could say hey, apply this and\nsay allow for everything here generically.\n\n394\n00:19:21.810 --> 00:19:26.590\nBut for this publisher, or this file,\nor this hash, a deny, or the opposite.\n\n395\n00:19:26.590 --> 00:19:29.740\nDeny all and\nthen maybe make an allow exception.\n\n396\n00:19:29.740 --> 00:19:32.502\nWe could think about this\nalmost being like a firewall,\n\n397\n00:19:32.502 --> 00:19:34.930\nbecause you think about\nthe way firewalls work.\n\n398\n00:19:34.930 --> 00:19:37.960\nWe have a set of rules that\neither open up the firewall,\n\n399\n00:19:37.960 --> 00:19:41.440\nthe default operational base\nrule is always deny all, right.\n\n400\n00:19:41.440 --> 00:19:44.100\nAnd then we start\nallowing by chipping away\n\n401\n00:19:44.100 --> 00:19:47.190\nat that above the catch all deny rule.\n\n402\n00:19:47.190 --> 00:19:48.390\nOpening certain ports in for\n\n403\n00:19:48.390 --> 00:19:53.290\ntraffic, based on protocol,\nbased on direction, based on IP or MAC.\n\n404\n00:19:53.290 --> 00:19:56.480\nBased on whatever variety of\nrule a categories we apply and\n\n405\n00:19:56.480 --> 00:19:59.800\nfilters we us,\nit doesn't match as it falls through.\n\n406\n00:19:59.800 --> 00:20:02.810\nIt hits the catch all rule at the bottom,\nwhich is deny all.\n\n407\n00:20:02.810 --> 00:20:05.920\nWe start with everything locked down and\nwe open up.\n\n408\n00:20:05.920 --> 00:20:09.060\nWe could of course go the other way,\nallow everything and lock down,\n\n409\n00:20:09.060 --> 00:20:10.170\nthat is not the preferred method.\n\n410\n00:20:10.170 --> 00:20:10.670\n&gt;&gt; Not my favorite.\n\n411\n00:20:10.670 --> 00:20:12.720\n&gt;&gt; Not how firewalls are designed to work.\n\n412\n00:20:12.720 --> 00:20:15.810\nVery insecure to do that, for\nthe most part, not a good idea.\n\n413\n00:20:15.810 --> 00:20:20.030\nBut just keep that in mind, cuz I'm not\nsaying that AppLocker is a firewall,\n\n414\n00:20:20.030 --> 00:20:24.680\nI'm simply suggesting that AppLocker\npolicies can be likened to\n\n415\n00:20:24.680 --> 00:20:28.420\nfirewalls in the sense that they\noperate in a very similar fashion.\n\n416\n00:20:28.420 --> 00:20:32.020\nWe lock down everything, right,\nand or allow everything, and\n\n417\n00:20:32.020 --> 00:20:34.570\nthen we start the adding or\nremoving using exceptions.\n\n418\n00:20:34.570 --> 00:20:39.220\nSo that part of the functionality can be\nvery similar and aligned that way, yeah?\n\n419\n00:20:39.220 --> 00:20:41.530\n&gt;&gt; Yeah, I just wanted to point\nsomething out or reference.\n\n420\n00:20:41.530 --> 00:20:42.690\nYou'd mentioned it earlier, but\n\n421\n00:20:42.690 --> 00:20:45.820\nyou said we're not just talking\nabout anti-malware here.\n\n422\n00:20:45.820 --> 00:20:50.340\nWe're also talking about preventing or\nrestricting different types of software.\n\n423\n00:20:50.340 --> 00:20:50.900\n&gt;&gt; Sure, sure.\n&gt;&gt; And\n\n424\n00:20:50.900 --> 00:20:54.730\nthat's important to think about because\na lot of companies do wanna have that\n\n425\n00:20:54.730 --> 00:20:57.450\nunification and have a standardization for\n\n426\n00:20:57.450 --> 00:21:00.370\ntheir environment,\njust to reduce the amount of variables.\n\n427\n00:21:00.370 --> 00:21:01.910\nFor instance when it comes\nto troubleshooting, so\n\n428\n00:21:01.910 --> 00:21:03.550\nit's a perfect solution here.\n\n429\n00:21:03.550 --> 00:21:05.390\n&gt;&gt; It is, it is.\n\n430\n00:21:05.390 --> 00:21:07.550\nSay something else really fun,\nexciting, cool and\n\n431\n00:21:07.550 --> 00:21:09.900\ninsightful just while I bring\nsomething up real quick.\n\n432\n00:21:09.900 --> 00:21:13.910\nI just wanna show everybody\nsomething while we are talking.\n\n433\n00:21:13.910 --> 00:21:15.600\nSo, you're not saying anything.\n\n434\n00:21:15.600 --> 00:21:16.960\n&gt;&gt; I don't have anything, Adam.\n\n435\n00:21:16.960 --> 00:21:17.920\n&gt;&gt; You're letting me down.\n\n436\n00:21:17.920 --> 00:21:20.730\n&gt;&gt; Okay, so hashes are unique.\n\n437\n00:21:20.730 --> 00:21:22.610\nFingerprints and snowflakes, too.\n\n438\n00:21:22.610 --> 00:21:25.495\n&gt;&gt; I didn't say free associate,\nI said say something of value.\n\n439\n00:21:25.495 --> 00:21:26.270\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n440\n00:21:26.270 --> 00:21:29.150\nit is irrelevant,\nwe are where we need to be, no problem.\n\n441\n00:21:29.150 --> 00:21:30.740\nAppreciate you trying there, good job.\n\n442\n00:21:30.740 --> 00:21:31.910\n&gt;&gt; High five.\n\n443\n00:21:31.910 --> 00:21:33.780\n&gt;&gt; Okay, not quite, but close enough.\n\n444\n00:21:33.780 --> 00:21:36.530\nAll right, so\nI just wanted to show you something here,\n\n445\n00:21:36.530 --> 00:21:37.870\nsince we're talking about AppLocker.\n\n446\n00:21:37.870 --> 00:21:42.630\nI forgot to mention it, and I was just\nreminded of it as Cherokee was talking.\n\n447\n00:21:42.630 --> 00:21:46.220\nSo I just wanna show you one quick\nthing that is also very important.\n\n448\n00:21:46.220 --> 00:21:49.530\nI'm in the services mmc, and\nyou were mentioning hey,\n\n449\n00:21:49.530 --> 00:21:52.830\nit's not just about malware,\nright, and it's about other stuff.\n\n450\n00:21:52.830 --> 00:21:57.100\nAnd, there is a service that we\nhave to make sure is configured,\n\n451\n00:21:57.100 --> 00:22:00.610\nin order for AppLocker to run,\nand to be available, and\n\n452\n00:22:00.610 --> 00:22:02.840\nit has to be configured to start\nautomatically, or guess what?\n\n453\n00:22:02.840 --> 00:22:04.730\nAppLocker isn't going to work,\n\n454\n00:22:04.730 --> 00:22:07.920\nwhich could really kind of derail\nour entire thought process here.\n\n455\n00:22:07.920 --> 00:22:09.700\nSo, I'm in the services MMC,\n\n456\n00:22:09.700 --> 00:22:13.240\nI've highlighted the application\nidentity service.\n\n457\n00:22:13.240 --> 00:22:16.920\nTake a look at the description there,\nit determines and verifies the identity of\n\n458\n00:22:16.920 --> 00:22:20.730\nan app, disabling the service will prevent\nAppLocker from being enforced, right?\n\n459\n00:22:20.730 --> 00:22:23.420\nSo want to make sure that we go in,\n\n460\n00:22:23.420 --> 00:22:26.170\nand this service is set to\nstart manually by default.\n\n461\n00:22:26.170 --> 00:22:28.700\nWe do have to modify that and\nhave that running.\n\n462\n00:22:28.700 --> 00:22:33.020\nSo part of a configuration baseline,\nwhich is beyond just simply,\n\n463\n00:22:33.020 --> 00:22:34.950\nhey let's configure the policy.\n\n464\n00:22:34.950 --> 00:22:38.220\nBut rather let's make sure the system\nis set so that the system will support\n\n465\n00:22:38.220 --> 00:22:43.280\nthe application of policies in your OS,\nyour operating system image or baseline.\n\n466\n00:22:43.280 --> 00:22:45.910\nYou probably want to think about things\nlike, hey is this service set to run\n\n467\n00:22:45.910 --> 00:22:49.470\nautomatically on all the endpoints\nthat I wanna apply AppLocker to?\n\n468\n00:22:49.470 --> 00:22:52.717\nBecause otherwise,\nthat's not gonna necessarily [CROSSTALK]\n\n469\n00:22:52.717 --> 00:22:53.576\n&gt;&gt; Can we just change it now so\n\n470\n00:22:53.576 --> 00:22:54.665\nI don't have to worry about it?\n\n471\n00:22:54.665 --> 00:22:56.710\n[LAUGH]\n&gt;&gt; Well, when we look at my machine,\n\n472\n00:22:56.710 --> 00:22:57.780\nif we change it now.\n\n473\n00:22:57.780 --> 00:22:59.250\nIt won't work on anyone else's, but\n\n474\n00:22:59.250 --> 00:23:03.140\nwhat I'm suggesting is, you as you create\nyour OS baselines, have to put this on\n\n475\n00:23:03.140 --> 00:23:05.870\nyour mental checklist of things you've\ngot to make sure you're covering.\n\n476\n00:23:05.870 --> 00:23:08.190\nFor those you're going to\nuse AppLocker on, right?\n\n477\n00:23:08.190 --> 00:23:11.140\nBecause that is going to be important,\nand I call that out in the show notes,\n\n478\n00:23:11.140 --> 00:23:12.820\nby the way, so it is there,\nfor you to know.\n\n479\n00:23:12.820 --> 00:23:14.710\nBut I'm just pointing it out\nhere during our demonstration.\n\n480\n00:23:14.710 --> 00:23:17.840\nSo I can say in good conscience,\nwhen I go to sleep tonight,\n\n481\n00:23:17.840 --> 00:23:19.230\nI did tell them about that.\n\n482\n00:23:19.230 --> 00:23:21.330\nAnd with elephants dancing above my head,\n\n483\n00:23:21.330 --> 00:23:23.110\nI don't have to worry about\nthat particular issue.\n\n484\n00:23:23.110 --> 00:23:26.750\nSo hey, so very, very important\nto consider and to think about.\n\n485\n00:23:26.750 --> 00:23:30.990\nSo we've gone ahead, we've shown you how\nto create some default policies, right?\n\n486\n00:23:30.990 --> 00:23:33.300\nJust those that are there,\ndefault rules, I should say.\n\n487\n00:23:33.300 --> 00:23:34.310\nWhat if we want to get rid of those?\n\n488\n00:23:34.310 --> 00:23:35.385\nMaybe we don't like those.\n\n489\n00:23:35.385 --> 00:23:38.680\nRight-click, delete, are you sure?\n\n490\n00:23:38.680 --> 00:23:40.160\nBoom, gone.\n\n491\n00:23:40.160 --> 00:23:41.600\n&gt;&gt; Now you gotta start over again.\n\n492\n00:23:41.600 --> 00:23:45.162\nSo let's right-click again,\ninstead of default rules,\n\n493\n00:23:45.162 --> 00:23:48.380\nlet's go through\nan automatically generate rules.\n\n494\n00:23:48.380 --> 00:23:51.042\nNow I did say, when we do that we\ndo get a little bit of a wizard but\n\n495\n00:23:51.042 --> 00:23:52.716\none that's different kind of wizard.\n\n496\n00:23:52.716 --> 00:23:55.112\nThen the one that's gonna let\nus manually walk through.\n\n497\n00:23:55.112 --> 00:23:58.200\nWe're gonna do all three of these\njust to show you how this works.\n\n498\n00:23:58.200 --> 00:24:02.310\nSo automatically generate an executable\nrule, folder and permissions, right?\n\n499\n00:24:02.310 --> 00:24:06.790\nSo again specify user or group,\npretty straightforward, specify the path\n\n500\n00:24:06.790 --> 00:24:11.390\nthat contains the file that will be\nanalyzed, so this is program files.\n\n501\n00:24:11.390 --> 00:24:14.230\nSpecify the name that you want to use for\nthis rule.\n\n502\n00:24:14.230 --> 00:24:15.760\nChoose whatever you want there.\n\n503\n00:24:15.760 --> 00:24:18.420\nClick next,\nthen create a publisher rule for\n\n504\n00:24:18.420 --> 00:24:21.100\nfiles that are digitally signed and\nwe have an option.\n\n505\n00:24:21.100 --> 00:24:24.662\nIf a file is not signed,\ncreate the following type of rule.\n\n506\n00:24:24.662 --> 00:24:27.260\nSo we're gonna create a rule,\nif they are signed.\n\n507\n00:24:27.260 --> 00:24:29.980\nIf they're not signed,\n[COUGH] what do we wanna do?\n\n508\n00:24:29.980 --> 00:24:33.890\nCreate a file hash, rules that\nare created using a file hash or\n\n509\n00:24:33.890 --> 00:24:36.370\na path rule, so we can decide\n\n510\n00:24:36.370 --> 00:24:40.790\nhow we wanna approach finding files that\nhave not already been digitally signed.\n\n511\n00:24:41.995 --> 00:24:45.515\nOr create file hash rules for\nall files, just default to that.\n\n512\n00:24:45.515 --> 00:24:49.615\nLet's not mess with whether the file's\ndigitally signed by a vendor or not.\n\n513\n00:24:49.615 --> 00:24:51.005\nSome will be, some won't.\n\n514\n00:24:51.005 --> 00:24:52.749\nLet's just create hashes for everything,\n\n515\n00:24:52.749 --> 00:24:54.735\neven if they're digitally\nsigned by the vendor.\n\n516\n00:24:54.735 --> 00:24:56.115\nLet's create our own hashes.\n\n517\n00:24:56.115 --> 00:24:58.695\nThat way we'll have an additional\nintegrity mechanism that we could\n\n518\n00:24:58.695 --> 00:25:01.250\ncontrol tat ourselves, so\nwe have an option there.\n\n519\n00:25:01.250 --> 00:25:04.552\nAnd then, reduce the number of rules\ncreated by grouping similar files.\n\n520\n00:25:04.552 --> 00:25:08.295\nIf we have a whole bunch of files that\nare similar, we'll group them together and\n\n521\n00:25:08.295 --> 00:25:10.002\ncreate a rule that assigns the hash or\n\n522\n00:25:10.002 --> 00:25:14.490\ndeals with them as a group as opposed to\n20 individual instances, right, of that.\n\n523\n00:25:14.490 --> 00:25:16.416\nSo things like log files,\nfor instance, right?\n\n524\n00:25:16.416 --> 00:25:18.210\nIs a .log extension.\n\n525\n00:25:18.210 --> 00:25:21.360\nWe'll take those as a block,\ninstead of each individual one, and\n\n526\n00:25:21.360 --> 00:25:23.830\nmaybe having a hundred\nindividual instances, right?\n\n527\n00:25:23.830 --> 00:25:26.430\nSo we could do that and\ndecide how we want that to behave.\n\n528\n00:25:26.430 --> 00:25:30.474\n&gt;&gt; Which could help, you were referencing\nearlier with some of the older a hardware\n\n529\n00:25:30.474 --> 00:25:32.983\nto go ahead and enumerate and\nprocess all of that.\n\n530\n00:25:32.983 --> 00:25:35.830\n&gt;&gt; It'll help us to be\nquicker to create the rules.\n\n531\n00:25:35.830 --> 00:25:37.222\nSo that will certainly help us and\n\n532\n00:25:37.222 --> 00:25:39.269\nwill help us with\nan application of them as well.\n\n533\n00:25:39.269 --> 00:25:40.230\n&gt;&gt; Okay.\n&gt;&gt; So that could help\n\n534\n00:25:40.230 --> 00:25:41.600\nwith performance, absolutely.\n\n535\n00:25:41.600 --> 00:25:44.090\nAll right, so\nwe're gonna just accept the default here.\n\n536\n00:25:44.090 --> 00:25:44.890\nWe'll click Next.\n\n537\n00:25:45.925 --> 00:25:48.520\n&gt;&gt; Gonna go through do a little\nquick rule generation scan.\n\n538\n00:25:48.520 --> 00:25:50.020\nNow, I cheated a little bit, right?\n\n539\n00:25:50.020 --> 00:25:52.625\nSo I always try to be honest with\nyou when I do this kind of stuff.\n\n540\n00:25:52.625 --> 00:25:54.840\nSo it takes a little bit\nlonger in the real world.\n\n541\n00:25:54.840 --> 00:25:59.580\nI ran this once already, and then just\nsimply did not go through the process of\n\n542\n00:25:59.580 --> 00:26:02.250\nleaving the results in place,\nso it was real quick this time,\n\n543\n00:26:02.250 --> 00:26:04.572\nbecause I had already run it just\nbecause of the demonstration.\n\n544\n00:26:04.572 --> 00:26:06.780\nI wanna try to save a little time here and\nthere.\n\n545\n00:26:06.780 --> 00:26:09.612\nThat way, we can tell you boring\nstories and totally inane content and\n\n546\n00:26:09.612 --> 00:26:12.734\njokes that are not meaningful and all of\nthe stuff we normally do to add value.\n\n547\n00:26:12.734 --> 00:26:15.069\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Just all sorts of stuff, exactly.\n\n548\n00:26:15.069 --> 00:26:16.608\n&gt;&gt; [LAUGH]\n&gt;&gt; So in the real world,\n\n549\n00:26:16.608 --> 00:26:17.851\nit may take a little longer.\n\n550\n00:26:17.851 --> 00:26:21.860\nAlso, depending on the size of\nthe directory, number of files involved.\n\n551\n00:26:21.860 --> 00:26:25.230\nYou may actually see it can take\nseveral minutes to scan everything.\n\n552\n00:26:25.230 --> 00:26:27.787\nRight, so just be aware of that,\nthis was lightning quick.\n\n553\n00:26:27.787 --> 00:26:30.100\nIt's not gonna operate that\nquick in the real world.\n\n554\n00:26:30.100 --> 00:26:35.160\nYou'll see here, Publisher Rules, 2,\nFiles, 29, no File hashes total here.\n\n555\n00:26:35.160 --> 00:26:36.820\nSo great, we're gonna click Create.\n\n556\n00:26:38.250 --> 00:26:40.400\nDefault rules are currently\nnot in the rule list for\n\n557\n00:26:40.400 --> 00:26:42.254\nthis rule collection when creating rules.\n\n558\n00:26:42.254 --> 00:26:45.227\nI recommend that you also create\nthe default rules it's telling us,\n\n559\n00:26:45.227 --> 00:26:48.455\nbecause remember, the default rules\nallow us to ensure that everything in\n\n560\n00:26:48.455 --> 00:26:49.840\nthe Program Files directory and\n\n561\n00:26:49.840 --> 00:26:52.940\neverything in the Windows\ndirectory will be allowed to run.\n\n562\n00:26:52.940 --> 00:26:54.400\nSo it's reminding us, and warning us,\n\n563\n00:26:54.400 --> 00:26:57.850\nhey, you're about to do this, you\nhaven't set those default rules up yet.\n\n564\n00:26:57.850 --> 00:26:58.790\nGuess what?\n\n565\n00:26:58.790 --> 00:27:02.114\nYou may actually cause a situation\nwhere you are not able to execute\n\n566\n00:27:02.114 --> 00:27:05.390\nthe OS properly, if you don't put\nthose default rules in place.\n\n567\n00:27:05.390 --> 00:27:08.422\nSo I'm just pointing that out to you,\nit's just reminding us of that.\n\n568\n00:27:08.422 --> 00:27:12.611\nAll right, so you could see here, right,\nit does add those default rules in for us,\n\n569\n00:27:12.611 --> 00:27:16.389\nbecause we do need them, and then it\nallows us to create the additional rules\n\n570\n00:27:18.323 --> 00:27:21.916\nThat are the ones that are essentially\nthe output of the exercise I just went\n\n571\n00:27:21.916 --> 00:27:24.560\nthrough, and\nit's those two at the bottom there.\n\n572\n00:27:24.560 --> 00:27:27.470\nSay program files Windows OS sign by.\n\n573\n00:27:27.470 --> 00:27:29.980\nAnd then program file\nInternet Explorer sign by.\n\n574\n00:27:29.980 --> 00:27:33.482\nAnd we could see this is now\na conditioned publisher instead of path.\n\n575\n00:27:36.131 --> 00:27:38.294\nAnd so,\nwe can see that we have our Publisher,\n\n576\n00:27:38.294 --> 00:27:42.360\na little bit different information just\nto locate the properties of this rule.\n\n577\n00:27:42.360 --> 00:27:45.845\nWe could see we have the information\nabout the publisher,\n\n578\n00:27:45.845 --> 00:27:50.090\nthe product name, file name is\nan asterisk, meaning any file that falls\n\n579\n00:27:50.090 --> 00:27:53.580\nunder the category of being published\nby Microsoft would be accepted and\n\n580\n00:27:53.580 --> 00:27:56.230\nallowed under this rule as a wild card,\nright?\n\n581\n00:27:56.230 --> 00:27:57.612\nAnd then file version.\n\n582\n00:27:57.612 --> 00:28:02.070\nSo anything from that version and\nabove or below or exactly.\n\n583\n00:28:02.070 --> 00:28:07.835\nI can do some sort of a match here\nsaying any file version 4x or better.\n\n584\n00:28:07.835 --> 00:28:10.929\nAnd that way, I exclude older\nversions Versions of files, or\n\n585\n00:28:10.929 --> 00:28:12.127\nan exact match on that.\n\n586\n00:28:12.127 --> 00:28:13.715\nYou know,\nthere is different options here, right.\n\n587\n00:28:13.715 --> 00:28:16.540\nAnd then of course, we do have our\nexceptions as we've talked about.\n\n588\n00:28:16.540 --> 00:28:19.448\nWe're not creating them, but\nyou saw them in the other areas as well.\n\n589\n00:28:19.448 --> 00:28:23.286\nAll right, so I have those and\nthen let's just go through do one more.\n\n590\n00:28:27.660 --> 00:28:31.185\nAgain, if we do this we don't like them,\nvery simple to get rid of them.\n\n591\n00:28:31.185 --> 00:28:34.180\nTo show you can easily delete\nthem if we're not gonna use them.\n\n592\n00:28:34.180 --> 00:28:35.890\nLet's do the other option,\ncreate new rule.\n\n593\n00:28:35.890 --> 00:28:38.503\nWalk through the actual wizard,\na little bit more involved.\n\n594\n00:28:38.503 --> 00:28:41.810\nA few more steps, a few more options\nwe have to contend with here.\n\n595\n00:28:41.810 --> 00:28:44.471\nSo just our welcome screen, no big deal.\n\n596\n00:28:44.471 --> 00:28:47.232\nExcept that I keep hovering over\nthe task bar and it keeps popping up.\n\n597\n00:28:47.232 --> 00:28:49.910\nAll right, so just like we were\ntalking about, allow an action,\n\n598\n00:28:49.910 --> 00:28:53.850\nallow or deny,or specify an action or\nspecify a group or a user.\n\n599\n00:28:53.850 --> 00:28:58.350\nThen are we creating the type of primary\ncondition, publish, or path, or file hash.\n\n600\n00:28:58.350 --> 00:29:02.240\nWe talked about these as being our\nprimary conditions that we can use.\n\n601\n00:29:02.240 --> 00:29:05.825\nSo publisher, select this option if\nthe application want to create a rule for\n\n602\n00:29:05.825 --> 00:29:07.590\nsigned by the software publisher, so\n\n603\n00:29:07.590 --> 00:29:10.070\na digital certificate\nwill be available to us.\n\n604\n00:29:10.070 --> 00:29:14.560\nPath, create this if we have a directory\nand a path that we can get to.\n\n605\n00:29:14.560 --> 00:29:17.971\nOr file hash, if we wanna be able\nto create a file hash locally for\n\n606\n00:29:17.971 --> 00:29:21.067\nan application that is not\nalready digitally signed, and\n\n607\n00:29:21.067 --> 00:29:22.472\ncontrol that ourselves.\n\n608\n00:29:22.472 --> 00:29:24.710\nWe talked about these options before and\nhow they're gonna work.\n\n609\n00:29:24.710 --> 00:29:26.530\nWe'll just make a choice here.\n\n610\n00:29:26.530 --> 00:29:30.660\nLet's just choose Path, notice when I do\nthat this option right here swaps out.\n\n611\n00:29:30.660 --> 00:29:32.560\nPublisher, Path, etc.\n\n612\n00:29:32.560 --> 00:29:35.200\nNotice exceptions are still there,\ndoes not change.\n\n613\n00:29:35.200 --> 00:29:37.490\nAll we're doing is choosing right here.\n\n614\n00:29:37.490 --> 00:29:40.855\nWe don't have exceptions for file hash,\nbut we do have it for the other two.\n\n615\n00:29:40.855 --> 00:29:44.608\nAll right, so path, right,\nyou'll note that we can go in browse and\n\n616\n00:29:44.608 --> 00:29:46.720\nspecify for a path or folder.\n\n617\n00:29:46.720 --> 00:29:50.630\nYou know for Publisher, we go in and\n\n618\n00:29:50.630 --> 00:29:54.140\nwe have to find the reference file, and\nthen we have to provide this information.\n\n619\n00:29:54.140 --> 00:29:57.940\nTypically, this gets populated out\nof the MSI wrapper for the file, or\n\n620\n00:29:57.940 --> 00:30:00.860\nthe EXE depending on what meta\ndata we have from the vendor.\n\n621\n00:30:00.860 --> 00:30:06.970\nSo we can do that as well, and/or,\nwhen we have file hash, right?\n\n622\n00:30:06.970 --> 00:30:11.056\nWe specify the file or the folder,\nso again, just go grab something,\n\n623\n00:30:11.056 --> 00:30:18.502\nwhatever it may be, and, Looking for\n\n624\n00:30:18.502 --> 00:30:23.145\nan executable or a CON file here,\nso let me go into Windows.\n\n625\n00:30:23.145 --> 00:30:25.870\nAnd let me just go down and\n\n626\n00:30:25.870 --> 00:30:30.330\ngrab something like Notepad or\nwhat ever it will be, real simple.\n\n627\n00:30:30.330 --> 00:30:33.440\nOr do our Winamp 32,\nthat was our Emmet example.\n\n628\n00:30:33.440 --> 00:30:37.814\nWinamp 32 as you can see,\nwhatever it maybe, and\n\n629\n00:30:37.814 --> 00:30:42.720\nthen specify create default\nrules are not there, okay.\n\n630\n00:30:42.720 --> 00:30:45.620\nYou warned us about that,\nputs the default rules in for us.\n\n631\n00:30:45.620 --> 00:30:48.240\nSo the other thing you wanna know\nis that no matter what you do here,\n\n632\n00:30:48.240 --> 00:30:50.270\nyou can't operate without\nthe default rules.\n\n633\n00:30:50.270 --> 00:30:53.515\nWe're forcing you to put them in\nregardless how we get to our rules,\n\n634\n00:30:53.515 --> 00:30:55.600\nwe can just create them and nothing else.\n\n635\n00:30:55.600 --> 00:30:59.370\nBut we also then always add them on to\nwhatever other actions we're taking.\n\n636\n00:30:59.370 --> 00:31:02.410\nCuz as I said, if you don't do that,\nyou can't operate the system.\n\n637\n00:31:02.410 --> 00:31:05.890\nThe OS and the programs necessary\nto run will be blocked and\n\n638\n00:31:05.890 --> 00:31:08.540\nas a result, you're not gonna\nbe able to fire up the machine.\n\n639\n00:31:08.540 --> 00:31:09.320\nYou're gonna crash it.\n\n640\n00:31:09.320 --> 00:31:13.027\nSo we force the application to\nthose default rules, as a result.\n\n641\n00:31:13.027 --> 00:31:14.040\nAll right, so we have that.\n\n642\n00:31:14.040 --> 00:31:15.210\nAllow everyone, right?\n\n643\n00:31:15.210 --> 00:31:16.239\nWin32 help.\n\n644\n00:31:16.239 --> 00:31:17.960\nEverybody will be able to execute\nthis file for instance, right.\n\n645\n00:31:19.010 --> 00:31:22.850\nSo this is how AppLocker works, whether we\ndo it with executable rules, we do it with\n\n646\n00:31:22.850 --> 00:31:26.720\nWindows Installer rules, you see the same\nexact thought process applies here.\n\n647\n00:31:26.720 --> 00:31:28.879\nWe do it with script rules, right.\n\n648\n00:31:28.879 --> 00:31:30.205\nSame exact thought process applies.\n\n649\n00:31:30.205 --> 00:31:32.870\nThe only difference is gonna be the input,\nright?\n\n650\n00:31:32.870 --> 00:31:35.735\nIn this case, we're doing executable\nrules, we're doing executables.\n\n651\n00:31:35.735 --> 00:31:36.410\n&gt;&gt; Yep, got it, yep.\n\n652\n00:31:36.410 --> 00:31:38.310\n&gt;&gt; We're doing scripts,\nit's gonna be a script.\n\n653\n00:31:38.310 --> 00:31:41.788\nIf we're doing packaged apps, right?\n\n654\n00:31:41.788 --> 00:31:43.667\nIt's gonna be a MSI,\nright, as I mentioned,\n\n655\n00:31:43.667 --> 00:31:46.500\nwe just questioned where we get\nthe meta data from how we use it.\n\n656\n00:31:46.500 --> 00:31:49.950\nWell, we have these four different\nareas or categories for our rules.\n\n657\n00:31:49.950 --> 00:31:51.900\nWe then create rules accordingly and\n\n658\n00:31:51.900 --> 00:31:54.350\nwe stack them up,\nwe apply them through group policy.\n\n659\n00:31:54.350 --> 00:31:58.040\nAnd then as long as everything is\nset up and tested embedded fully and\n\n660\n00:31:58.040 --> 00:32:03.520\nwe have used common sense about making\nsure our default rules are in place and\n\n661\n00:32:03.520 --> 00:32:07.470\nI've shown you, I've made sure that we\nalways apply those default rules for\n\n662\n00:32:07.470 --> 00:32:09.590\nyou even if you're not\nthinking about applying them.\n\n663\n00:32:09.590 --> 00:32:12.870\nWe should not run into a situation,\nhopefully, or\n\n664\n00:32:12.870 --> 00:32:17.510\nwe get ourselves backed in a corner and\nwe're not able to use the OS, but\n\n665\n00:32:17.510 --> 00:32:21.380\nwe could without realizing it exclude\nsoftware that may be important, so\n\n666\n00:32:21.380 --> 00:32:24.570\nwe gotta be really careful about how we\napply the rules and what we apply them to.\n\n667\n00:32:24.570 --> 00:32:28.220\nBut this is how we use app blocker start\nto finish and what we can do with it.\n\n668\n00:32:28.220 --> 00:32:31.260\nLittle bit more involved than\nsoftware restriction policies, but\n\n669\n00:32:31.260 --> 00:32:33.620\nstill gets us to the same place\nat the end of the day, yet,\n\n670\n00:32:33.620 --> 00:32:36.920\nanother way that we can\nprovide malware protection in\n\n671\n00:32:36.920 --> 00:32:41.150\nthe Windows server 2016 operating system\nusing the group policy based protections.\n\n672\n00:32:41.150 --> 00:32:43.420\nBut we still have more stuff\nto talk about as well, so\n\n673\n00:32:43.420 --> 00:32:46.880\nwe're gonna have to come back and talk\nabout the vice guard which I mentioned is\n\n674\n00:32:46.880 --> 00:32:51.420\npart of the credential card set that we\ntalked about with virtualization security,\n\n675\n00:32:51.420 --> 00:32:54.450\nthe virtual security layer that\nwe built in through group policy.\n\n676\n00:32:54.450 --> 00:32:55.630\nWe'll take a look at that.\n\n677\n00:32:55.630 --> 00:32:59.900\nAnd talk a little bit about the way in\nwhich we can use that, along with a little\n\n678\n00:32:59.900 --> 00:33:03.340\nbit of magic in PowerShell to create some\ncapabilities to do some auditing and\n\n679\n00:33:03.340 --> 00:33:04.900\napply policies as a result of that.\n\n680\n00:33:04.900 --> 00:33:07.640\nSo we'll come back, we'll talk\nabout that in an upcoming episode.\n\n681\n00:33:07.640 --> 00:33:09.260\n&gt;&gt; Perfect, Adam,\nthank you for your discussion.\n\n682\n00:33:09.260 --> 00:33:13.110\nHopefully, that'll get you guys thinking\nabout how you can even utilize AppLocker\n\n683\n00:33:13.110 --> 00:33:15.910\nwithin your environment to help\nbenefit your organization.\n\n684\n00:33:15.910 --> 00:33:19.230\nWell, for this show we are out of time,\nso we'll go ahead and sign out.\n\n685\n00:33:19.230 --> 00:33:20.830\nI've been your host Cherokee Boose.\n\n686\n00:33:20.830 --> 00:33:23.548\n&gt;&gt; I'm Adam Gordon\n&gt;&gt; See you next time, here on ITProTV.\n\n687\n00:33:23.548 --> 00:33:30.990\n[MUSIC]\n\n688\n00:33:30.990 --> 00:33:33.702\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233992396"
        },
        {
          "description": "In this show, Adam and Cherokee explain Device Guard is a combination of hardware and software system integrity-hardening features that will lock a device by ensuring only trusted applications can execute. Adam walks through a demonstration to show how it is set up and configured.",
          "length": "2735",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-4-implementing_malware_protections_pt4-091317.00_45_19_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-4-implementing_malware_protections_pt4-091317.00_45_19_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-5-1-4-implementing_malware_protections_pt4-091317.00_45_19_27.Still001-sm.jpg",
          "title": "Implementing Malware Protection Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.250 --> 00:00:01.587\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:01.587 --> 00:00:03.543\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:03.543 --> 00:00:08.757\n[MUSIC]\n\n4\n00:00:08.757 --> 00:00:12.101\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.101 --> 00:00:15.460\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n6\n00:00:15.460 --> 00:00:17.540\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.540 --> 00:00:18.500\nThis is a part 4,\n\n8\n00:00:18.500 --> 00:00:21.870\nwhere we will continue taking a look at\nhow we can implement malware protection.\n\n9\n00:00:21.870 --> 00:00:24.670\nSpecifically, we'll be looking\nat Device Guard in this show.\n\n10\n00:00:24.670 --> 00:00:28.200\nAnd with us today in studios,\nwe have Microsoft expert, Mr. Adam Gordon.\n\n11\n00:00:28.200 --> 00:00:29.050\nHow's it going, Adam?\n\n12\n00:00:29.050 --> 00:00:32.360\n&gt;&gt; Going well, going good,\nhopefully everybody is doing awesome.\n\n13\n00:00:32.360 --> 00:00:35.389\nWe're gonna be even better and\nmore well protected-\n\n14\n00:00:35.389 --> 00:00:36.160\n&gt;&gt; Super protected.\n\n15\n00:00:36.160 --> 00:00:38.170\n&gt;&gt; After we're done talking\nabout this episode.\n\n16\n00:00:38.170 --> 00:00:39.950\nWe're talking about a cool feature.\n\n17\n00:00:39.950 --> 00:00:42.640\nAgain in this kind of whole thought\nprocess we've been going through in this\n\n18\n00:00:42.640 --> 00:00:43.770\nseries of episodes,\n\n19\n00:00:43.770 --> 00:00:47.740\nwhere we've taken ideas that can be\nused certainly to offer protection.\n\n20\n00:00:47.740 --> 00:00:51.890\nAnd that's been the theme all along,\nfocused them around the idea of creating\n\n21\n00:00:51.890 --> 00:00:54.560\na security perimeter with\nregards to malware protection.\n\n22\n00:00:54.560 --> 00:00:57.830\nBut they're all device protections,\nor software protections, or\n\n23\n00:00:57.830 --> 00:00:59.760\ncombinations of those things.\n\n24\n00:00:59.760 --> 00:01:04.090\nHardware, firmware, software, in the case\nof Device Guard in particular, but\n\n25\n00:01:04.090 --> 00:01:07.768\ngenerically usually software-base\nprotections, policy base protections.\n\n26\n00:01:07.768 --> 00:01:09.490\nThings like AppLocker,\n\n27\n00:01:09.490 --> 00:01:13.750\nsoftware restriction policies,\nCredential Guard, a subset\n\n28\n00:01:13.750 --> 00:01:17.790\nof the virtual security capabilities we\nhave that we'll look at with Device Guard.\n\n29\n00:01:17.790 --> 00:01:22.490\nAnd all of these things together\nare really taking protections and\n\n30\n00:01:22.490 --> 00:01:25.780\nmechanisms that, as I've made the point,\nhave been around, and\n\n31\n00:01:25.780 --> 00:01:28.635\nusually have been available to us for\nsome time.\n\n32\n00:01:28.635 --> 00:01:32.460\nAppLocker protections,\nsoftware restriction policies,\n\n33\n00:01:32.460 --> 00:01:34.190\nthe ability to be able to manage and\n\n34\n00:01:34.190 --> 00:01:39.245\nuse group policy to apply the thought\nprocesses of least privilege,\n\n35\n00:01:39.245 --> 00:01:44.050\ndefense in depth, separation of duties,\nrole-based administration.\n\n36\n00:01:44.050 --> 00:01:46.310\nAll the things we've been\ntalking about as best practices,\n\n37\n00:01:46.310 --> 00:01:48.230\nthat's not new to Windows 10,\n\n38\n00:01:48.230 --> 00:01:52.880\nnot new to Server 16, these sort of things\nhave been around for a long, long time.\n\n39\n00:01:52.880 --> 00:01:57.810\nWhat's often new, and what we see and\nwe've talked about as being new in Server\n\n40\n00:01:57.810 --> 00:02:02.310\n16 in these particular cases,\nis the way either we bring those together,\n\n41\n00:02:02.310 --> 00:02:06.180\nwe package them up,\nwe rebrand them and reintroduce them.\n\n42\n00:02:06.180 --> 00:02:09.850\nWe talked about EMET, for instance,\nin our first episode in this area.\n\n43\n00:02:09.850 --> 00:02:12.910\nThe ability to be able to use\ntoolsets that have been around, but\n\n44\n00:02:12.910 --> 00:02:15.890\nhave a new twist, and/or a new\nthought process associated with them.\n\n45\n00:02:15.890 --> 00:02:20.640\nAnd so Device Guard really continues\nin this vein, so to speak,\n\n46\n00:02:20.640 --> 00:02:23.650\nWindows Defender Device Guard\nto name it formally.\n\n47\n00:02:23.650 --> 00:02:26.950\nSpecifically on Windows 10\nand/or Server 16 is where\n\n48\n00:02:26.950 --> 00:02:29.155\nwe see this thought process emerging.\n\n49\n00:02:29.155 --> 00:02:33.710\nIt's part of the subset of the virtual\nsecurity or virtualization security,\n\n50\n00:02:33.710 --> 00:02:39.435\narea in the group policy-based\nprotections we've been talking about.\n\n51\n00:02:39.435 --> 00:02:40.190\nGotta think about that,\n\n52\n00:02:40.190 --> 00:02:43.960\nget that all out in one straight\nstream without screwing it up.\n\n53\n00:02:43.960 --> 00:02:47.570\nBut we have looked at Credential Guard,\ntalked about that in a prior episode.\n\n54\n00:02:47.570 --> 00:02:52.180\nWe're gonna go back to that same area, but\nthis time focus on the integration of,\n\n55\n00:02:52.180 --> 00:02:56.801\nor the creation of the necessary\nelements to use to Device Guard.\n\n56\n00:02:56.801 --> 00:02:58.980\nAnd we're gonna take a look,\nnot just there, but\n\n57\n00:02:58.980 --> 00:03:00.960\nalso at some of the subset protections.\n\n58\n00:03:00.960 --> 00:03:03.130\nSpecifically code integrity policies and\n\n59\n00:03:03.130 --> 00:03:06.480\nhow we can use those to allow\ncertain software to run.\n\n60\n00:03:06.480 --> 00:03:08.452\nWhich is really what\nDevice Guard is about,\n\n61\n00:03:08.452 --> 00:03:10.490\nlet's you use trusted protected software.\n\n62\n00:03:10.490 --> 00:03:13.640\nWe've been talking about this\nas a theme for some time.\n\n63\n00:03:13.640 --> 00:03:17.660\nWhether we save through AppLocker or\nsoftware restriction policies.\n\n64\n00:03:17.660 --> 00:03:21.870\nDo or don't allow this software under\nthese conditions for this reason.\n\n65\n00:03:21.870 --> 00:03:26.380\nPerhaps referencing a certificate or\na hash rule to say allowed or disallowed\n\n66\n00:03:26.380 --> 00:03:30.980\nbased on integrity, based on validity,\nproof of origin, things of that nature.\n\n67\n00:03:30.980 --> 00:03:34.970\nThe same idea is gonna apply here,\nwe'll create a policy and apply that, or\n\n68\n00:03:34.970 --> 00:03:37.440\nat least talk about the ways you can\nuse PowerShell to create a policy,\n\n69\n00:03:37.440 --> 00:03:39.340\nthe new CI policy cmdlet.\n\n70\n00:03:39.340 --> 00:03:40.790\nWe'll go through, take a look at that.\n\n71\n00:03:40.790 --> 00:03:45.260\nWe create this policy, then we can apply\nit and say hey, based on these publisher\n\n72\n00:03:45.260 --> 00:03:49.799\ncertificates, based on this publisher\nname, or a list of publishers, whatever\n\n73\n00:03:49.799 --> 00:03:54.440\nthe case may be, we're able to then say,\ndo or don't run, do or don't allow.\n\n74\n00:03:54.440 --> 00:03:57.790\nAs a white list-blacklist kind of concept,\nif we think about that.\n\n75\n00:03:57.790 --> 00:04:00.485\nSomething where probably,\nmost of us if not all of us,\n\n76\n00:04:00.485 --> 00:04:03.650\nfamiliar with from some other\nprotection mechanisms, right,\n\n77\n00:04:03.650 --> 00:04:06.850\nwhether it's a firewall that\ncreates allow or deny rules.\n\n78\n00:04:06.850 --> 00:04:12.700\nWhether it is an IDS or IPS, intrusion\ndetection, intrusion prevention system,\n\n79\n00:04:12.700 --> 00:04:17.270\nthat has a set of rules and\nmonitoring capabilities associated with\n\n80\n00:04:17.270 --> 00:04:19.500\ncertain activities that should or\nshould not be allowed.\n\n81\n00:04:19.500 --> 00:04:21.187\nThe same thought process applies here.\n\n82\n00:04:21.187 --> 00:04:24.662\nIt's really more just a question of\nthe language, the vocabulary, the thought\n\n83\n00:04:24.662 --> 00:04:28.830\nprocesses, the ideas, in other words,\nat the high level, are basically the same.\n\n84\n00:04:28.830 --> 00:04:31.940\nSo I've talked a lot about it,\nprobably tired of hearing me introduce it.\n\n85\n00:04:31.940 --> 00:04:34.250\nLet's actually go and\ntake a look at what Device Guard does.\n\n86\n00:04:34.250 --> 00:04:36.808\nYou wanna join me here,\nI've got a few different websites,\n\n87\n00:04:36.808 --> 00:04:39.733\nwe'll just quickly preview,\njust give you a sense of what we can do.\n\n88\n00:04:39.733 --> 00:04:43.804\nWe'll go in, we'll take a look at some of\nthe specifics technology areas we've gotta\n\n89\n00:04:43.804 --> 00:04:45.940\nfocus on to implement and to configure.\n\n90\n00:04:45.940 --> 00:04:48.880\nAnd when we wrap it all up,\nCherokee's going to share with us some\n\n91\n00:04:48.880 --> 00:04:50.942\ninteresting and\ncool hair care tips, right?\n\n92\n00:04:50.942 --> 00:04:52.970\n&gt;&gt; [LAUGH]\n&gt;&gt; For a beautiful hair day, and\n\n93\n00:04:52.970 --> 00:04:56.170\nno flyaways, which she's been\nworking on for us off camera.\n\n94\n00:04:56.170 --> 00:04:59.784\nAll right, so Device Guard, right,\nsomething that we see in Windows 10,\n\n95\n00:04:59.784 --> 00:05:00.851\nwe see in Server 16.\n\n96\n00:05:00.851 --> 00:05:02.776\nGonna actually can change up\nour demo a little bit for\n\n97\n00:05:02.776 --> 00:05:04.470\nyou when we get a hands-on piece.\n\n98\n00:05:04.470 --> 00:05:08.439\nWe'll actually configure, or at least take\na look at the policy creation elements\n\n99\n00:05:08.439 --> 00:05:12.084\nthrough PowerShell on Windows 10,\nas opposed to doing it in Server 16.\n\n100\n00:05:12.084 --> 00:05:15.061\nWhere we've been doing almost\neverything in Server 16,\n\n101\n00:05:15.061 --> 00:05:17.595\ncuz it is a security with\nServer 16 discussion.\n\n102\n00:05:17.595 --> 00:05:21.384\nBut Windows 10 is still sitting there,\nis always part of that conversation.\n\n103\n00:05:21.384 --> 00:05:23.514\nSo we thought we'd do\nchange it up a little bit,\n\n104\n00:05:23.514 --> 00:05:27.340\ndo the PowerShell piece in ISE on Windows\n10 this time, we'll take a look at that.\n\n105\n00:05:27.340 --> 00:05:31.376\nBut we'll go back to Server 16 and\ncheck out the group policy aspect,\n\n106\n00:05:31.376 --> 00:05:34.789\nwhere we enable the Device Guard\nprotection, so we'll take a look at both.\n\n107\n00:05:34.789 --> 00:05:37.568\nDevice Guard's made up of several\ndifferent features, right,\n\n108\n00:05:37.568 --> 00:05:40.661\nit's not just hey, we implement this\nthing and this is kinda what it is.\n\n109\n00:05:40.661 --> 00:05:43.297\nIt's actually made up of several\ndifferent primary components.\n\n110\n00:05:43.297 --> 00:05:46.477\nI would normally at this\npoint go over to Ms.\n\n111\n00:05:46.477 --> 00:05:50.107\nCherokee and ask her to help me out\nwith this, but I know she did not do her\n\n112\n00:05:50.107 --> 00:05:53.997\nhomework last night, and did not actually\npay attention to all of the specifics.\n\n113\n00:05:53.997 --> 00:05:55.295\nBut I'm gonna ask anyway, cuz I think\nyou know at least one or two of them.\n\n114\n00:05:55.295 --> 00:05:56.090\n&gt;&gt; Okay.\n\n115\n00:05:56.090 --> 00:05:57.590\n&gt;&gt; But there's a few that\nare really kind of crazy,\n\n116\n00:05:57.590 --> 00:05:59.080\nthat you may not be familiar with.\n\n117\n00:05:59.080 --> 00:06:02.380\nAnd most of you may not have heard of some\nof these things before, because some of\n\n118\n00:06:02.380 --> 00:06:05.650\nthem are really dependent on the kind of\nhardware that you run, as I mentioned.\n\n119\n00:06:05.650 --> 00:06:09.944\nSome may depend on firmware and the\nversioning that you have, and some of it\n\n120\n00:06:09.944 --> 00:06:12.870\nmay be dependent on the operating system\nand how it implements those things.\n\n121\n00:06:12.870 --> 00:06:16.360\nSo I wanna make sure we're thinking\nabout when we look at the overview of\n\n122\n00:06:16.360 --> 00:06:19.430\nthe Device Guard, right, and\nkind of that whole thought process.\n\n123\n00:06:19.430 --> 00:06:24.120\nWhat are some of enabling technologies or\nthe things, right, that we build onto?\n\n124\n00:06:24.120 --> 00:06:25.224\nMaybe give me one or two of them,\nif you are familiar.\n\n125\n00:06:25.224 --> 00:06:27.428\n&gt;&gt; Okay, good because I can only remember\ntwo, so that's about my limit there.\n\n126\n00:06:27.428 --> 00:06:29.636\n&gt;&gt; Okay, so that's fair enough, all right.\n\n127\n00:06:29.636 --> 00:06:30.505\n&gt;&gt; [LAUGH]\n&gt;&gt; Or primary components,\n\n128\n00:06:30.505 --> 00:06:32.379\nif you wanna think of that way,\nwhatever you wanna call them.\n\n129\n00:06:32.379 --> 00:06:35.214\nBefore I show you where they come from and\nwhere they are on the website,\n\n130\n00:06:35.214 --> 00:06:37.350\njust let's get a few of them out there for\neverybody.\n\n131\n00:06:37.350 --> 00:06:40.627\n&gt;&gt; Okay, so we need to go ahead and make\nsure that we're using UEFI in the BIOS,\n\n132\n00:06:40.627 --> 00:06:43.277\nthat was [CROSSTALK]\n&gt;&gt; Okay, so UEFI secure boot.\n\n133\n00:06:43.277 --> 00:06:44.793\n&gt;&gt; Yes.\n&gt;&gt; Right, so UEFI secure boot, okay,\n\n134\n00:06:44.793 --> 00:06:45.883\ngreat, we've got that one.\n\n135\n00:06:45.883 --> 00:06:49.310\n&gt;&gt; So we get that enabled, but\nwe're also gonna be utilizing TPM.\n\n136\n00:06:49.310 --> 00:06:51.030\n&gt;&gt; Utilizing a TPM,\nright, release version-\n\n137\n00:06:51.030 --> 00:06:52.270\n&gt;&gt; Whether it be the hardware\n\n138\n00:06:52.270 --> 00:06:53.180\nor the software.\n\n139\n00:06:53.180 --> 00:06:56.209\n&gt;&gt; No, hardware based TMP version 2.0 or\nbetter.\n\n140\n00:06:56.209 --> 00:06:59.153\nRight, so we're gonna have that,\nbecause we need a newer version TMP.\n\n141\n00:06:59.153 --> 00:07:02.235\nThere are perhaps several versions,\ndepending on how far back we go,\n\n142\n00:07:02.235 --> 00:07:03.860\nso a newer version of the TPM.\n\n143\n00:07:03.860 --> 00:07:07.350\nWe're gonna, so you gave me what,\nUEFI secure boot, TPM.\n\n144\n00:07:07.350 --> 00:07:10.810\nVirtual secure mode, right,\nwhich we enable through BCDEdit, so\n\n145\n00:07:10.810 --> 00:07:13.158\nwe'll go and flip that on, essentially.\n\n146\n00:07:13.158 --> 00:07:18.310\nUse the BCDEdit tool, which is the boot\nconfiguration tool that lets us go in and\n\n147\n00:07:18.310 --> 00:07:20.230\nchange the boot configuration data.\n\n148\n00:07:20.230 --> 00:07:23.830\nWe'll use a special switch in there to\nkind of enable virtual secure mode, so\n\n149\n00:07:23.830 --> 00:07:25.150\nwe'll take a look at that.\n\n150\n00:07:25.150 --> 00:07:27.970\nConfigurable code integrity\nwhich is the new CI policy\n\n151\n00:07:27.970 --> 00:07:31.080\ncmdlet I was talking about\nto create a policy for that.\n\n152\n00:07:31.080 --> 00:07:33.240\nAnd you mentioned you\nUEFI secure boot virtual-\n\n153\n00:07:33.240 --> 00:07:35.110\n&gt;&gt; Hyper-V hypervisor.\n\n154\n00:07:35.110 --> 00:07:38.060\n&gt;&gt; The Hyper-V hypervisor,\nwe'll talk about that, absolutely.\n\n155\n00:07:38.060 --> 00:07:40.600\nAnd Virtual Secure Mode\nprotected code integrity,\n\n156\n00:07:40.600 --> 00:07:44.359\nwhich is kind of this idea of the code\nintegrity policies and the things we do.\n\n157\n00:07:44.359 --> 00:07:46.585\nThese are the major building blocks and\npieces.\n\n158\n00:07:46.585 --> 00:07:48.108\nAwesome, good job, that was cool.\n\n159\n00:07:48.108 --> 00:07:51.248\nGetting that flyaway pulled back and\nout of your way just allowed you to-\n\n160\n00:07:51.248 --> 00:07:52.128\n&gt;&gt; I know, when you have a good hair day,\n\n161\n00:07:52.128 --> 00:07:52.774\nthat's all that matters.\n\n162\n00:07:52.774 --> 00:07:55.063\n&gt;&gt; Free associate, get all that\nstuff out there, this is awesome.\n\n163\n00:07:55.063 --> 00:07:55.660\n&gt;&gt; [CROSSTALK] hair day.\n\n164\n00:07:55.660 --> 00:07:56.858\n[LAUGH]\n&gt;&gt; We ought to make sure that\n\n165\n00:07:56.858 --> 00:07:57.591\nhappens all the time.\n\n166\n00:07:57.591 --> 00:07:59.199\nAll right, so take a look here, right?\n\n167\n00:07:59.199 --> 00:08:02.515\nAnd Cherokee did a great job helping us to\nlist out the primary components hardware,\n\n168\n00:08:02.515 --> 00:08:05.664\nfirmware and software requirements, for\nWindows Device Guard as you can see.\n\n169\n00:08:05.664 --> 00:08:09.726\nWindows Defender Device Guard, excuse me,\nwe don't get that right somebody from\n\n170\n00:08:09.726 --> 00:08:13.512\nMicrosoft comes out and yells at you and\nsmacks you, what were you thinking?\n\n171\n00:08:13.512 --> 00:08:15.257\nCall our tech now and\ndo the right thing, right?\n\n172\n00:08:15.257 --> 00:08:18.003\nSo you'll see here a virtual or, rather,\n\n173\n00:08:18.003 --> 00:08:22.982\nvirtualization-based security we call\nVBS features, is what we refer to.\n\n174\n00:08:22.982 --> 00:08:25.230\nWe enable them under\nthe device guard area and\n\n175\n00:08:25.230 --> 00:08:27.728\nthe computer configuration\nin the group policy.\n\n176\n00:08:27.728 --> 00:08:30.664\nWe'll take a look where\nCredential Guard is enabled.\n\n177\n00:08:30.664 --> 00:08:34.481\nSo we have to meet certain requirements,\ncertain criteria, hardware, firmware and\n\n178\n00:08:34.481 --> 00:08:36.063\nsoftware based in order to do this.\n\n179\n00:08:36.063 --> 00:08:38.362\nYou've heard about some of\nthe moving parts and pieces.\n\n180\n00:08:38.362 --> 00:08:41.802\nGot a nice little list here,\nif we just scroll down a little bit,\n\n181\n00:08:41.802 --> 00:08:45.182\nwith the baseline protections,\nkind of where they come from,\n\n182\n00:08:45.182 --> 00:08:49.624\nwhat the requirements may be,\n64-bit as opposed to 32-bit architecture.\n\n183\n00:08:49.624 --> 00:08:54.021\nWe need CPU, virtualization extensions for\nthe hardware support,\n\n184\n00:08:54.021 --> 00:08:58.666\nthe hardware system virtualization,\nthe BIOS, so Intel VT or AMD-V.\n\n185\n00:08:58.666 --> 00:09:01.124\nThat's usually one you-\n&gt;&gt; That's virtualization, yeah.\n\n186\n00:09:01.124 --> 00:09:02.301\n&gt;&gt; We'll think about it and\nremember as well.\n\n187\n00:09:02.301 --> 00:09:07.243\nWe would like to have SLAT support for\nsecond level address translation for\n\n188\n00:09:07.243 --> 00:09:10.391\nextension of page tables and\nmemory in the CPU.\n\n189\n00:09:10.391 --> 00:09:14.059\nSo we wanna have that kind of stuff\nenabled, again this is hardware and\n\n190\n00:09:14.059 --> 00:09:14.687\nfirmware.\n\n191\n00:09:14.687 --> 00:09:19.126\nWe need the UFI firmware for secure boots,\nso we need, as Cherokee pointed out,\n\n192\n00:09:19.126 --> 00:09:21.231\nthat kind of information available.\n\n193\n00:09:21.231 --> 00:09:23.718\nSo we have a bunch of\ndifferent items listed here.\n\n194\n00:09:23.718 --> 00:09:24.650\nDid a really good job,\n\n195\n00:09:24.650 --> 00:09:28.002\nMicrosoft did at providing some detailed\nguidance as they often do, all right?\n\n196\n00:09:28.002 --> 00:09:31.991\nSo just wanna make sure\nwe're aware of that.\n\n197\n00:09:31.991 --> 00:09:33.986\n[COUGH] So\nwe could see the listing here, and\n\n198\n00:09:33.986 --> 00:09:37.711\nthen additional qualifications kind of\nas we ratcheted up right and have that.\n\n199\n00:09:37.711 --> 00:09:39.328\nWe will be able to go in and\n\n200\n00:09:39.328 --> 00:09:43.727\nbe able to see the entire list here\nof things that would be required.\n\n201\n00:09:43.727 --> 00:09:47.395\nSo you can go through this, making\nsure you have a sense of what's here,\n\n202\n00:09:47.395 --> 00:09:51.261\nit will allow you to get some pretty good\nideas of what has to be implemented.\n\n203\n00:09:51.261 --> 00:09:55.661\nThere are additional scaled qualification\nlevels based on the build version of\n\n204\n00:09:55.661 --> 00:09:56.261\nWindows.\n\n205\n00:09:56.261 --> 00:09:58.781\nYou can see build version Windows 10,\nas you go down,\n\n206\n00:09:58.781 --> 00:10:00.936\nthey're adding some\nadditional things here.\n\n207\n00:10:00.936 --> 00:10:03.462\nSo depending on the version as I said,\nhardware, software,\n\n208\n00:10:03.462 --> 00:10:05.951\nfirmware are all together that\nyou're building and using.\n\n209\n00:10:05.951 --> 00:10:07.881\nYou may have additional capabilities or\n\n210\n00:10:07.881 --> 00:10:11.066\nsome additional options that you\ncan leverage if they're there.\n\n211\n00:10:11.066 --> 00:10:14.278\nWe'll provide a baseline minimum set\nof protections with Device Guard as\n\n212\n00:10:14.278 --> 00:10:16.156\nlong as the minimum requirements are met.\n\n213\n00:10:16.156 --> 00:10:19.761\nBut we can actually add additional layers\nof complexity and protection based on\n\n214\n00:10:19.761 --> 00:10:23.314\nthe additional capabilities that are\npresented based on the operating system\n\n215\n00:10:23.314 --> 00:10:26.510\nversion in the hardware and\nthe firmware, and things of that nature.\n\n216\n00:10:26.510 --> 00:10:29.296\nSo you may wanna go through\nthis just to take a look.\n\n217\n00:10:29.296 --> 00:10:32.640\nThis one will help you to kind of\njust kick off and get started.\n\n218\n00:10:32.640 --> 00:10:36.996\nOnce we've done the basic background we\nhave a general sense of what we can do,\n\n219\n00:10:36.996 --> 00:10:38.580\nwhat capabilities we need,\n\n220\n00:10:38.580 --> 00:10:43.142\nhow we're gonna enable a Device Guard is\nprobably the next stopping point for us.\n\n221\n00:10:43.142 --> 00:10:47.698\nSo let's go in here, let's just jump over,\nlet me just extend our timer here and\n\n222\n00:10:47.698 --> 00:10:50.244\nmake sure we don't lose\naccess to anything.\n\n223\n00:10:50.244 --> 00:10:54.267\nLet's just jump over to our group\npolicy element for a minute.\n\n224\n00:10:54.267 --> 00:10:58.154\nSo I'm on my domain controller, and I've\njust opened up the policy I'm gonna use,\n\n225\n00:10:58.154 --> 00:11:01.685\nbut let's just step back for a second and\nsee where we are and how we got here.\n\n226\n00:11:01.685 --> 00:11:05.074\nSo on the domain controller,\nI've just gone into the Tools area,\n\n227\n00:11:05.074 --> 00:11:07.625\nI've opened up my group\npolicy management item.\n\n228\n00:11:07.625 --> 00:11:09.823\nSo I have that open right here.\n\n229\n00:11:09.823 --> 00:11:13.570\nI've created just the policy on one of\nmy OU's as I've been doing some for\n\n230\n00:11:13.570 --> 00:11:14.668\nother discussions.\n\n231\n00:11:14.668 --> 00:11:16.091\nAdBlocker, software restrictions.\n\n232\n00:11:16.091 --> 00:11:20.009\nI have a policy, just labeled it\nDevice Guard, call it anything you'd like.\n\n233\n00:11:20.009 --> 00:11:23.113\nI just went in, right-click Edit,\nno reason why it shows this\n\n234\n00:11:23.113 --> 00:11:26.346\nparticular OU except it happens to\nbe the first one up in the list.\n\n235\n00:11:26.346 --> 00:11:29.936\nSo I'm just attaching the policy there for\npurposes of our discussion.\n\n236\n00:11:29.936 --> 00:11:31.341\nBut nothing more than that.\n\n237\n00:11:31.341 --> 00:11:33.777\nAll right, so we're gonna click here.\n\n238\n00:11:33.777 --> 00:11:38.113\nAnd where we are in here, up under\nthe Computer Configuration area, Policies,\n\n239\n00:11:38.113 --> 00:11:42.390\nAdministrative Templates, unlike where\nwe've been talking about AppLock or\n\n240\n00:11:42.390 --> 00:11:46.219\nsoftware restriction, where we've\nbeen up under Window Settings and\n\n241\n00:11:46.219 --> 00:11:48.301\nbeen in there in the security subset.\n\n242\n00:11:48.301 --> 00:11:51.303\nSo same general area for\nComputer Reconfiguration, but\n\n243\n00:11:51.303 --> 00:11:54.189\nwe're down in the administrative\ntemplate section.\n\n244\n00:11:54.189 --> 00:11:56.306\nSo we're down one level, just so you know.\n\n245\n00:11:56.306 --> 00:11:59.946\nWe come here,\ngo into the system subset over here.\n\n246\n00:11:59.946 --> 00:12:01.603\nWe're gonna go to the Device Guard folder.\n\n247\n00:12:01.603 --> 00:12:03.368\nSO we've already got an area labeled.\n\n248\n00:12:03.368 --> 00:12:05.281\nWe've got two policy elements.\n\n249\n00:12:05.281 --> 00:12:08.287\nWe've talked about enabling\nthe virtualization basic security,\n\n250\n00:12:08.287 --> 00:12:11.829\nthe VBS settings, with Credential Guard\nwe would come in and enable them here.\n\n251\n00:12:11.829 --> 00:12:13.960\nSo you've seen me do this already.\n\n252\n00:12:13.960 --> 00:12:16.011\nSo we'll come back in here, right?\n\n253\n00:12:16.011 --> 00:12:19.608\nAnd we would, I'll just bring that up so\nwe can see that.\n\n254\n00:12:19.608 --> 00:12:21.789\nWe will enable over here.\n\n255\n00:12:21.789 --> 00:12:25.502\nActually, let me do this just so\nwe can see.\n\n256\n00:12:25.502 --> 00:12:28.891\nProbably a little bit easier\nwhat's going on in there.\n\n257\n00:12:28.891 --> 00:12:30.746\nLet's move that up to\nthe top of the screen.\n\n258\n00:12:30.746 --> 00:12:33.499\nAll right, so we'll enable that,\nnd then when we do that,\n\n259\n00:12:33.499 --> 00:12:36.818\nwe have three different options or\nthings we have to contend with here.\n\n260\n00:12:36.818 --> 00:12:39.935\nThe Credential Guard one is down below,\nso we're not gonna worry about that for\n\n261\n00:12:39.935 --> 00:12:40.457\nthe moment.\n\n262\n00:12:40.457 --> 00:12:44.007\nWe'll just be talking about secure\nplatform, and select platform security\n\n263\n00:12:44.007 --> 00:12:46.956\nlevel and virtualization based\nprotection of code integrity,\n\n264\n00:12:46.956 --> 00:12:50.134\nwhich is what gives us our capabilities\nhere that we're focused on.\n\n265\n00:12:50.134 --> 00:12:54.340\nSo Secure Boot and DMA protection,\nlet's pull down here and or Secure Boot.\n\n266\n00:12:54.340 --> 00:12:58.370\nWhether we're gonna enable this just\nusing the UEFI Secure Boot itself or\n\n267\n00:12:58.370 --> 00:13:02.075\nDMA protection on top of that is\na question of what support we have and\n\n268\n00:13:02.075 --> 00:13:04.885\nthe capabilities that we\nwill be afforded by that.\n\n269\n00:13:04.885 --> 00:13:07.626\nSo that's one of those things we just\ntalked about where we have to make sure we\n\n270\n00:13:07.626 --> 00:13:09.072\nhave the appropriate level of support.\n\n271\n00:13:09.072 --> 00:13:12.517\nSo let's just assume, we'll enable\nthe Secure Boot for the moment, just to\n\n272\n00:13:12.517 --> 00:13:15.966\nmake a choice, and then virtualization\nbase protection of code integrity,\n\n273\n00:13:15.966 --> 00:13:18.320\nagain both disabled,\nwe have to make a choice here.\n\n274\n00:13:18.320 --> 00:13:22.192\nI talked about this with Credential Guard,\nbut if you haven't seen that episode yet,\n\n275\n00:13:22.192 --> 00:13:24.963\nmay or may not remember or it might or\nmay not make sense to you.\n\n276\n00:13:24.963 --> 00:13:28.128\nSo let me just quickly remind us\nof what our two options are here.\n\n277\n00:13:28.128 --> 00:13:30.989\nThese options are the same by the way,\nfor Credential Guard.\n\n278\n00:13:30.989 --> 00:13:36.380\nIf you take a look, enable UEFI lock,\nenabled without the lock.\n\n279\n00:13:36.380 --> 00:13:39.395\nWhen we talk about\nenabling with UEFI lock,\n\n280\n00:13:39.395 --> 00:13:45.179\nwe are preventing any remote access to the\nsystem with regards to reconfiguration or\n\n281\n00:13:45.179 --> 00:13:47.953\nremoval of these policy requirements.\n\n282\n00:13:47.953 --> 00:13:52.094\nIn other words, when we enable with UEFI\nlock, the only way you can come in and\n\n283\n00:13:52.094 --> 00:13:56.689\nmodify these settings, remove or modify\nthe protections from both Credential Guard\n\n284\n00:13:56.689 --> 00:13:59.398\nif we choose to set it this way and\nor Device Guard.\n\n285\n00:13:59.398 --> 00:14:04.081\nWould be to actually log in to this\nmachine directly, not remote connectivity.\n\n286\n00:14:04.081 --> 00:14:06.438\nNo way to do that from outside,\nin other words, right?\n\n287\n00:14:06.438 --> 00:14:10.093\nIf we do this with just [COUGH]\nan enablement without the lock,\n\n288\n00:14:10.093 --> 00:14:13.829\nwe would allow remote access to\nbe able to modify the setting.\n\n289\n00:14:13.829 --> 00:14:17.234\nSo, this does again afford some\nadditional layers of complexity, and\n\n290\n00:14:17.234 --> 00:14:20.542\nmore importantly protection based\non what we may or may not wanna do.\n\n291\n00:14:20.542 --> 00:14:24.080\nAnd I think we talked about,\nwhen we talked about Credential Guard,\n\n292\n00:14:24.080 --> 00:14:28.234\nthe idea that one of the business cases or\nuse cases around this kind of a setting.\n\n293\n00:14:28.234 --> 00:14:31.898\nWhy would we enable it to allow or\ndisallow remote activity?\n\n294\n00:14:31.898 --> 00:14:35.589\nWhat will be the proposition or\nbusiness value we try to address there?\n\n295\n00:14:35.589 --> 00:14:39.108\nFrom a compliance standpoint,\nfrom an audit standpoint, from a hey,\n\n296\n00:14:39.108 --> 00:14:42.629\nlet's just make sure we're paying\nattention to the basic blocking and\n\n297\n00:14:42.629 --> 00:14:44.402\ntackling of security standpoint.\n\n298\n00:14:44.402 --> 00:14:47.829\nThink about cloud-based environments,\nmulti-tenant data centers, for instance.\n\n299\n00:14:47.829 --> 00:14:51.021\nI think this is kind of the thought\nprocess we had gone through,\n\n300\n00:14:51.021 --> 00:14:52.780\nif I remember correctly, right?\n\n301\n00:14:52.780 --> 00:14:56.569\nSo the idea here would be\nare we gonna allow a remote\n\n302\n00:14:56.569 --> 00:15:00.731\naccess capability to modify or\nconfigure and change?\n\n303\n00:15:00.731 --> 00:15:01.436\nIs that a good idea?\n\n304\n00:15:01.436 --> 00:15:01.939\nIs it not?\n\n305\n00:15:01.939 --> 00:15:04.734\nDo you wanna force people to\nbe in front of the system,\n\n306\n00:15:04.734 --> 00:15:08.909\nhave an auto-trail associated with\nphysical access that we can keep track of?\n\n307\n00:15:08.909 --> 00:15:12.013\nMonitor who is doing what versus\nmaybe rolling the dice and\n\n308\n00:15:12.013 --> 00:15:15.317\ntaking a chance on somebody being\nable to gain remote access.\n\n309\n00:15:15.317 --> 00:15:18.353\nWe may or may not know or have evidence\nof the fact that they're doing stuff.\n\n310\n00:15:18.353 --> 00:15:20.688\nWe'll know they changed the policy,\nbut we may not know how they got in,\n\n311\n00:15:20.688 --> 00:15:22.141\nwhere they came from, who they were, yeah,\n\n312\n00:15:22.141 --> 00:15:24.009\nthose kind of things we would\nbe concerned with, right?\n\n313\n00:15:24.009 --> 00:15:25.760\nSo you just wanna think about that.\n\n314\n00:15:25.760 --> 00:15:30.667\nSo as a result wanna just be\nconsidering our options I guess, right?\n\n315\n00:15:30.667 --> 00:15:31.863\nIs a good way to put it here.\n\n316\n00:15:31.863 --> 00:15:36.046\nThere's no right and wrong in the sense\nthat if you go with one versus the other,\n\n317\n00:15:36.046 --> 00:15:37.245\nyour good versus bad.\n\n318\n00:15:37.245 --> 00:15:41.281\nBut I am suggesting there may be\nstatutory, more importantly regulatory,\n\n319\n00:15:41.281 --> 00:15:44.559\nmeaning internal policy requirements\nyou may wanna follow or\n\n320\n00:15:44.559 --> 00:15:47.284\nhave a need to follow as\na result of these settings.\n\n321\n00:15:47.284 --> 00:15:48.812\nJust some things to consider and\n\n322\n00:15:48.812 --> 00:15:51.535\nthink about here just as we\ncontinue our conversations.\n\n323\n00:15:51.535 --> 00:15:55.495\n&gt;&gt; Right, and you don't wanna be\nblindsided if you do go ahead and remove\n\n324\n00:15:55.495 --> 00:16:00.078\nthe remote capabilities there so that\nyou can plan for having someone on-site.\n\n325\n00:16:00.078 --> 00:16:04.949\nBecause if no one's there and you need to\ngo ahead and boot that machine back up.\n\n326\n00:16:04.949 --> 00:16:09.140\nYou might have to take a little trip if\nno one else can get there before you can.\n\n327\n00:16:09.140 --> 00:16:13.220\n&gt;&gt; Very true, right I mean, just you may,\nI mean you may have an issue.\n\n328\n00:16:13.220 --> 00:16:17.050\nFor instance, not that it is really\nnecessary something that would affect you\n\n329\n00:16:17.050 --> 00:16:19.010\nHopefully never affects you,\nlet's put it that way.\n\n330\n00:16:19.010 --> 00:16:22.240\nAffects us here in Florida, as I'm sure\nyou may or may not be aware of, but\n\n331\n00:16:22.240 --> 00:16:24.990\nyeah we have this little thing roughly\nhalf the year called hurricane season.\n\n332\n00:16:24.990 --> 00:16:30.640\nSome of you may have heard of it and in\nthis past year, in 2017, has been a rather\n\n333\n00:16:30.640 --> 00:16:34.210\nactive one, as I'm sure you may remember\nby the time you're watching this content.\n\n334\n00:16:34.210 --> 00:16:38.690\nAnd so with storms like that and you raise\na great point, Cherokee, about this.\n\n335\n00:16:38.690 --> 00:16:41.820\nWhen you think about something that\ndoesn't probably happen very often, but\n\n336\n00:16:41.820 --> 00:16:47.490\nin theory could really make a good or\nbad policy decision\n\n337\n00:16:47.490 --> 00:16:52.070\nbe seen in a very startlingly white bright\ninvestigative light, yet when we think\n\n338\n00:16:52.070 --> 00:16:55.840\nabout the harsh realities of what we have\nto face sometimes in the world, right?\n\n339\n00:16:55.840 --> 00:16:59.280\nYou think about the fact that a weather\nevent or any kind of disruptive event,\n\n340\n00:16:59.280 --> 00:17:02.010\nnot just weather,\nany kind of disruptive event,\n\n341\n00:17:02.010 --> 00:17:04.360\ncan get in the way of us getting in and\nout of systems.\n\n342\n00:17:04.360 --> 00:17:06.750\nIt can get in the way of us\ndoing what we need to do.\n\n343\n00:17:06.750 --> 00:17:09.110\nWe often take that level of access for\ngranted.\n\n344\n00:17:09.110 --> 00:17:13.330\nWe often don't think about the lack of\naccess as you're pointing out until\n\n345\n00:17:13.330 --> 00:17:16.510\nwe're faced with a situation where it's\nunfortunately been removed from us, and\n\n346\n00:17:16.510 --> 00:17:20.760\nnow we have to plan and move around those\nroadblocks in order to do what we need to\n\n347\n00:17:20.760 --> 00:17:23.165\ndo, and\nit can become a significant challenge.\n\n348\n00:17:23.165 --> 00:17:27.055\nWe may not think about the implications of\nenabling a policy like this and saying,\n\n349\n00:17:27.055 --> 00:17:31.125\nwell if I have enable it with\nUEFI lock right and then\n\n350\n00:17:31.125 --> 00:17:31.625\n&gt;&gt; Protected great,\n\n351\n00:17:31.625 --> 00:17:34.155\nyeah\n&gt;&gt; Protected event now I got to actually\n\n352\n00:17:34.155 --> 00:17:37.770\nhave somebody physically on site to\nget in there and go to the system.\n\n353\n00:17:37.770 --> 00:17:40.450\nIf they're not available, we may actually,\n\n354\n00:17:40.450 --> 00:17:43.600\nnot that you need to change\nthis in the middle of an event.\n\n355\n00:17:43.600 --> 00:17:47.210\nIt's one of these things you don't\nthink about until something happens,\n\n356\n00:17:47.210 --> 00:17:50.170\nthen all of a sudden,\ndid I set it that way?\n\n357\n00:17:50.170 --> 00:17:51.960\nWhat are the implications of that?\n\n358\n00:17:51.960 --> 00:17:54.720\nSo, I'm not suggesting that means\nyou shouldn't set the setting, and\n\n359\n00:17:54.720 --> 00:17:58.270\nset it the way you would normally\napproach that from a security standpoint.\n\n360\n00:17:58.270 --> 00:17:59.890\nI'm just reminding us and\n\n361\n00:17:59.890 --> 00:18:03.160\nCherokee's done a great job of doing that,\nforcing all of us to think about\n\n362\n00:18:03.160 --> 00:18:06.120\nthe fact that there's broader\nimplications of the decisions we make.\n\n363\n00:18:06.120 --> 00:18:09.020\nAnd sometimes we may not\nanticipate some of them.\n\n364\n00:18:09.020 --> 00:18:11.520\nAnd it's always good that we are solving\nthis o stop and consider that, and say,\n\n365\n00:18:11.520 --> 00:18:15.020\nyou know hey, if I did that what would be\nthe outcome and kinda what are we doing,\n\n366\n00:18:15.020 --> 00:18:16.880\nand what's going on, right?\n\n367\n00:18:16.880 --> 00:18:18.710\nSo I just wanna make\nsure we're aware of that.\n\n368\n00:18:18.710 --> 00:18:23.240\nSo we thought through hopefully the logic,\nassociated with\n\n369\n00:18:23.240 --> 00:18:28.010\njust implementation on the group policy\nside from a device group prospective.\n\n370\n00:18:28.010 --> 00:18:31.150\nLet's take a look at how\nwe're gonna go through and\n\n371\n00:18:31.150 --> 00:18:34.100\ntalk about just what would be\nthe steps involved, right?\n\n372\n00:18:34.100 --> 00:18:37.200\nTo enable and\nset up some of the supporting elements.\n\n373\n00:18:37.200 --> 00:18:40.750\nTalk about some of the supporting\ntechnology, configurable code integrity\n\n374\n00:18:40.750 --> 00:18:43.940\nwanna walk you through how to create\nthe policies associated with that.\n\n375\n00:18:43.940 --> 00:18:45.340\nAnd I wanna take a look at quickly,\n\n376\n00:18:45.340 --> 00:18:48.940\nas I said, how to trigger virtual\nsecure mode with BCD added.\n\n377\n00:18:48.940 --> 00:18:52.010\nSo we'll take a look at that as\nwell let's take a look at and\n\n378\n00:18:52.010 --> 00:18:56.630\ntalk about a couple of the supporting\nrequirements and thought processes here.\n\n379\n00:18:56.630 --> 00:18:58.170\nCode integrity policies right?\n\n380\n00:18:58.170 --> 00:19:04.210\nSo this idea of going through and\ncreating sample listing\n\n381\n00:19:04.210 --> 00:19:08.710\nmaster list if you will of all\nthe install software on a systems\n\n382\n00:19:08.710 --> 00:19:12.380\nidea of creating code integrity policy\nfrom a golden computer or golden master.\n\n383\n00:19:12.380 --> 00:19:15.840\nYou sometimes hear me refer\nto it as profile a machine,\n\n384\n00:19:15.840 --> 00:19:19.240\nagain Windows 10 server 16\ndepending on what we're doing and\n\n385\n00:19:19.240 --> 00:19:23.190\nas a result get a master list of all\nthe software that's installed there\n\n386\n00:19:23.190 --> 00:19:25.630\nwith the appropriate certificates or\npublisher names.\n\n387\n00:19:25.630 --> 00:19:29.060\nWhatever we'll talk about some\nnames to look at how we scan and\n\n388\n00:19:29.060 --> 00:19:31.260\nbuild that catalogue in that list.\n\n389\n00:19:31.260 --> 00:19:34.090\nBased on that creative policy\nfile that could then be used and\n\n390\n00:19:34.090 --> 00:19:38.270\ntransported as part of the implementation\nof this policy to assess the gates.\n\n391\n00:19:38.270 --> 00:19:42.250\nAnd this is where the device guard\nprotections force secure software come in\n\n392\n00:19:42.250 --> 00:19:45.010\nhey, if it's on this list,\nif it's in this policy allowed.\n\n393\n00:19:45.010 --> 00:19:48.060\nIf it's not, guess what we don't want\nto have anything to do with it, right.\n\n394\n00:19:48.060 --> 00:19:52.210\nSo we're not gonna allow it to run this is\nbasically an extension of what we think of\n\n395\n00:19:52.210 --> 00:19:54.390\nwith AdBlocker or\nsoftware restriction policies.\n\n396\n00:19:54.390 --> 00:19:57.310\nWe're ratcheting up our ability\nto offer that protection.\n\n397\n00:19:57.310 --> 00:19:59.450\nBut now binding it to additional hardware,\n\n398\n00:19:59.450 --> 00:20:03.000\nfirmware protections that are bundled\ntogether under this grouping\n\n399\n00:20:03.000 --> 00:20:07.520\nof solutions that we talk about and\nnow it's Windows Defender a device guard.\n\n400\n00:20:07.520 --> 00:20:09.230\nSo we're gonna think\nabout how to create this.\n\n401\n00:20:09.230 --> 00:20:11.820\nSo when we look at code\nintegrity policies again\n\n402\n00:20:11.820 --> 00:20:13.950\nhelpful website to kind\nof get us started here.\n\n403\n00:20:13.950 --> 00:20:16.910\nI have a couple of them that'll give\nus some additional options with this.\n\n404\n00:20:16.910 --> 00:20:19.820\nSo I'm just gonna scroll down a little\nbit because there's some additional\n\n405\n00:20:19.820 --> 00:20:22.820\ninformation beginning here,\nkind of telling the story, setting it up,\n\n406\n00:20:22.820 --> 00:20:23.790\nthat we've already been through.\n\n407\n00:20:23.790 --> 00:20:27.250\nI encourage you to take a look at it\nif you want to get a little more detail\n\n408\n00:20:27.250 --> 00:20:27.870\nas to what we are doing.\n\n409\n00:20:27.870 --> 00:20:29.650\nBut, I am not going to\nspend time on that hey,\n\n410\n00:20:29.650 --> 00:20:33.040\nhere's a list of software you may want\nto exclude, or include things like that.\n\n411\n00:20:33.040 --> 00:20:34.150\nYou can read through that on your own.\n\n412\n00:20:34.150 --> 00:20:39.170\nBut, what's interesting to us here,\naside from just all the code samples,\n\n413\n00:20:39.170 --> 00:20:40.580\njust scroll down past this.\n\n414\n00:20:40.580 --> 00:20:42.240\nSo to create a code\nintegrity policy right?\n\n415\n00:20:42.240 --> 00:20:43.540\nThis is kinda what I wanna focus on for\n\n416\n00:20:43.540 --> 00:20:45.950\na minute before I show you how to\ndo this on my Windows 10 machine.\n\n417\n00:20:45.950 --> 00:20:48.750\nCause' we'll jump into PowerShell ISE and\n\n418\n00:20:48.750 --> 00:20:50.580\ntake a look at some of\nthese commands right now.\n\n419\n00:20:50.580 --> 00:20:54.000\nWe have to go through and use a couple\ndifferent PowerShell commandlets.\n\n420\n00:20:54.000 --> 00:20:57.880\nThe new CI policy commandlet, which is\nright down here under all the variable\n\n421\n00:20:57.880 --> 00:21:00.510\nstrings that this code sample sets up for\nus.\n\n422\n00:21:00.510 --> 00:21:02.610\nIt's going to show you how to use that and\n\n423\n00:21:02.610 --> 00:21:06.200\na couple of others we're going\nto go through as a part of that.\n\n424\n00:21:06.200 --> 00:21:10.270\nWhat I suggest is that\nyou may have to look at\n\n425\n00:21:10.270 --> 00:21:13.010\nall the PowerShell commands\nassociated with this activity.\n\n426\n00:21:13.010 --> 00:21:19.020\nThe config CI, configurable code\nintegrity command you'll see them here.\n\n427\n00:21:19.020 --> 00:21:22.860\nI'm going to take a look at and\ntalk with you about the new CI policy, and\n\n428\n00:21:22.860 --> 00:21:24.900\nsome of the other commandlets\nthat are listed here.\n\n429\n00:21:24.900 --> 00:21:27.860\nBut there's several of them,\nmany of them that we're not just going\n\n430\n00:21:27.860 --> 00:21:30.930\nto take the time to look at right now but\nthis would be helpful to you.\n\n431\n00:21:30.930 --> 00:21:33.700\nYou want to go in, as we often suggest,\ntake a look at any one\n\n432\n00:21:33.700 --> 00:21:36.280\nof these get a better sense of\nwhat's happening with them.\n\n433\n00:21:36.280 --> 00:21:40.690\nIt will be a good idea of you to kind of\nsee how this works and what's going on.\n\n434\n00:21:40.690 --> 00:21:42.970\nSo we're gonna go through,\nwe're gonna take a look at these.\n\n435\n00:21:42.970 --> 00:21:44.990\nI will use the new CI policy,\n\n436\n00:21:44.990 --> 00:21:49.575\nwe'll also take a look at\nthe convert from CI policy Cmdlet.\n\n437\n00:21:49.575 --> 00:21:53.155\nI'll show you this kind of in a step\nby step and we'll take a look at\n\n438\n00:21:53.155 --> 00:21:57.415\nwhat these two do and then we'll use those\nto be able to create a policy file, an SI\n\n439\n00:21:57.415 --> 00:22:01.800\npolicy file that is used to drive the\napplication of this run, don't run list.\n\n440\n00:22:01.800 --> 00:22:03.980\nThat's what we're gonna walk through and\ntake a look at.\n\n441\n00:22:03.980 --> 00:22:06.880\nSo let's go in go over here to PowerShell.\n\n442\n00:22:06.880 --> 00:22:10.130\nI'm using PowerShell ISE, a little bit\ndifferent than what we normally demo with.\n\n443\n00:22:10.130 --> 00:22:12.300\nI'm normally a pure PowerShell kinda guy,\nbut\n\n444\n00:22:12.300 --> 00:22:14.360\nI thought I'd change it\nup a little bit for you.\n\n445\n00:22:14.360 --> 00:22:17.430\nActually a little secret, I was doing this\nbecause somebody went in and monkeyed\n\n446\n00:22:17.430 --> 00:22:20.380\naround with the powershell console on\nthis machine when I wasn't looking.\n\n447\n00:22:20.380 --> 00:22:23.935\nChanged all the fun colors and I got this\ncrazy bright yellow, which you can't even\n\n448\n00:22:23.935 --> 00:22:27.280\nsee.So that's a result, I thought I'd do\nit in here just to make it simple for you.\n\n449\n00:22:27.280 --> 00:22:28.710\n&gt;&gt; It wasn't me Adam,\nI'm just saying.I'm just saying.\n\n450\n00:22:28.710 --> 00:22:31.770\n&gt;&gt; I'm just I wasn't gonna\npoint the finger, but\n\n451\n00:22:31.770 --> 00:22:33.757\nwe found blonde hair strands from flyaway.\n\n452\n00:22:33.757 --> 00:22:35.620\n&gt;&gt; [LAUGH]\n&gt;&gt; And I'm thinking there's only one\n\n453\n00:22:35.620 --> 00:22:38.830\nperson I know that may have been in here\nmessing around, with that color hair.\n\n454\n00:22:38.830 --> 00:22:40.440\nI'm not suggesting anything.\n\n455\n00:22:40.440 --> 00:22:41.910\nI'm not saying at any way,\n\n456\n00:22:41.910 --> 00:22:44.650\nshape, or time, that it could have\nbeen somebody standing next to me.\n\n457\n00:22:44.650 --> 00:22:46.980\nBut I would not say such things\ncuz you wouldn't do that.\n\n458\n00:22:46.980 --> 00:22:47.660\n&gt;&gt; I don't even like yellow.\n\n459\n00:22:47.660 --> 00:22:48.990\n&gt;&gt; All right, well there you go.\n\n460\n00:22:48.990 --> 00:22:49.790\nSo it couldn't be you.\n\n461\n00:22:49.790 --> 00:22:51.780\n&gt;&gt; [LAUGH]\n&gt;&gt; All right anyway, let's take a look.\n\n462\n00:22:51.780 --> 00:22:55.880\nNow remember I have shown you how to use\nthe get help feature to take a look at and\n\n463\n00:22:55.880 --> 00:22:57.530\nsee these commands as well.\n\n464\n00:22:57.530 --> 00:23:00.160\nSo you can look at them on the web\nyou drill through the commands we\n\n465\n00:23:00.160 --> 00:23:00.660\nshowed you there.\n\n466\n00:23:00.660 --> 00:23:03.530\nYou'll see essentially the full help\nfile but you can do it either way.\n\n467\n00:23:03.530 --> 00:23:05.610\nYou can do it right from\nwithin the console as well.\n\n468\n00:23:05.610 --> 00:23:09.500\nSo I'm gonna just use the bottom area\nhere equivalent to the PowerShell,\n\n469\n00:23:09.500 --> 00:23:13.130\na shell without really having\nthe top ice editor come into play.\n\n470\n00:23:13.130 --> 00:23:15.400\nWe'll just type in some\ncommands like we always do.\n\n471\n00:23:15.400 --> 00:23:17.420\nSo let's go in we'll do new CI policy.\n\n472\n00:23:18.630 --> 00:23:21.480\nSo, let me just come down here,\nchoose that one.\n\n473\n00:23:21.480 --> 00:23:25.500\nAnd then, with this commandment,\nwe're gonna use the level parameter,\n\n474\n00:23:25.500 --> 00:23:28.820\nso let's just go grab, and you could\nsee in my pick list there, right?\n\n475\n00:23:28.820 --> 00:23:31.300\nWe have our rule level,\nso we use level and\n\n476\n00:23:31.300 --> 00:23:35.610\nthen, we've got our pick list to\nprovide what we want to look for.\n\n477\n00:23:35.610 --> 00:23:39.300\nWhat do we gonna create the policy around,\nwe're gonna scan to go out and find.\n\n478\n00:23:39.300 --> 00:23:42.210\nWe have things like publisher here,\nfile publisher.\n\n479\n00:23:42.210 --> 00:23:45.050\nPCA certificate publisher, CA certificate,\n\n480\n00:23:45.050 --> 00:23:48.200\nleaf certificate we could do\nall sorts of stuff here, right.\n\n481\n00:23:48.200 --> 00:23:53.385\nSo I can go in, I can grab one or\nmore of these in my setting up.\n\n482\n00:23:53.385 --> 00:23:58.309\nI'll choose PCA certificate but I could\ntypically do publisher or PCA certificate.\n\n483\n00:23:58.309 --> 00:24:02.712\nI wanna get a list of all the publishers\nremember, we're scanning for software.\n\n484\n00:24:02.712 --> 00:24:04.005\nBut it's gonna be on the system.\n\n485\n00:24:04.005 --> 00:24:07.080\nCreate this XML manifest list, right?\n\n486\n00:24:07.080 --> 00:24:12.120\nThat will convert in to a policy to give\nus our go, no go, run, don't run solution.\n\n487\n00:24:12.120 --> 00:24:14.160\nSo, we're gonna create this, I'll scan for\n\n488\n00:24:14.160 --> 00:24:17.150\nPCA certificates,\nPublisher's CA certificates.\n\n489\n00:24:17.150 --> 00:24:21.230\nI'm not going to go ahead and\nspecify with my file path parameter,\n\n490\n00:24:21.230 --> 00:24:25.230\nwhere I want to dump the output of this\nexercise, meaning I'm gonna create a file.\n\n491\n00:24:25.230 --> 00:24:28.130\nI got to put it somewhere, so\nI can then use it in step two, right?\n\n492\n00:24:28.130 --> 00:24:30.610\nSo I'm going to go in and\nuse the file path parameter.\n\n493\n00:24:30.610 --> 00:24:31.500\nSo let's just do that.\n\n494\n00:24:31.500 --> 00:24:34.080\nYou'll see file path is there.\n\n495\n00:24:34.080 --> 00:24:39.082\nI've got a folder already\ncreated here in the c\n\n496\n00:24:39.082 --> 00:24:43.840\ndrive called CI.\n\n497\n00:24:43.840 --> 00:24:44.610\nJust right here.\n\n498\n00:24:44.610 --> 00:24:45.200\nEmpty folder.\n\n499\n00:24:45.200 --> 00:24:46.950\nI'm just going to dump\nmy output file there.\n\n500\n00:24:46.950 --> 00:24:49.440\nI'll just leave that up so we can\ntake a look at that in just a minute.\n\n501\n00:24:49.440 --> 00:24:54.600\nI'm going to specify the path\nthere wehre you see :\\CI.\n\n502\n00:24:54.600 --> 00:24:57.000\nWe'll give our file a name.\n\n503\n00:24:57.000 --> 00:25:01.430\nI'm gonna call mine Audit publisher.\n\n504\n00:25:04.320 --> 00:25:07.612\nI'll call it audit publisher CA,\nsince I'm doing certificates.\n\n505\n00:25:07.612 --> 00:25:10.000\n.xml will be an XML file.\n\n506\n00:25:10.000 --> 00:25:11.890\nSo we're going to do that.\n\n507\n00:25:11.890 --> 00:25:19.330\nAnd then we'll go through, and we'll\nspecify we want to do this in audit mode,\n\n508\n00:25:19.330 --> 00:25:23.320\nand when we do this in audit mode,\nwe're gonna be able to look at all that,\n\n509\n00:25:23.320 --> 00:25:25.410\ngather that information,\noutput it, all right?\n\n510\n00:25:25.410 --> 00:25:27.710\nSo gonna go through that.\n\n511\n00:25:27.710 --> 00:25:28.370\nDevice Guard.\n\n512\n00:25:28.370 --> 00:25:29.370\nYou know what?\n\n513\n00:25:29.370 --> 00:25:30.595\nI did not check ahead of time.\n\n514\n00:25:30.595 --> 00:25:34.170\nI'm running a version of Windows 10\nthat does not support Device Guard.\n\n515\n00:25:34.170 --> 00:25:35.000\nLook at that?\n\n516\n00:25:35.000 --> 00:25:35.760\nThat is so cool.\n\n517\n00:25:35.760 --> 00:25:39.150\nAll right, so let's what i get for not\nchecking before I actually run the demo.\n\n518\n00:25:39.150 --> 00:25:41.280\nSo you could see here\nthat when I run this,\n\n519\n00:25:41.280 --> 00:25:43.440\nit's kinda hard to see cuz\nthe red is glaring at you.\n\n520\n00:25:43.440 --> 00:25:46.660\nWe'll do this in the service 16\nenvironment in just a second,\n\n521\n00:25:46.660 --> 00:25:48.290\nit'll work with no trouble.\n\n522\n00:25:48.290 --> 00:25:51.920\nBut I am running Windows 10 installed as\nyou know, you've probably heard me talk\n\n523\n00:25:51.920 --> 00:25:54.940\nabout before, on a Mac, and\nI'm running it virtualized.\n\n524\n00:25:54.940 --> 00:25:56.190\nNot that that should matter.\n\n525\n00:25:56.190 --> 00:25:58.460\nBut the person that built\nthis image of Windows 10,\n\n526\n00:25:58.460 --> 00:26:02.740\nwhich was not me, used a version of\nWindows 10 that, for whatever reason,\n\n527\n00:26:02.740 --> 00:26:06.590\nwill not support the implementation of\nDevice Guard to let us take a look at it.\n\n528\n00:26:06.590 --> 00:26:08.690\nSo shame on me for\nnot looking ahead of time.\n\n529\n00:26:08.690 --> 00:26:09.590\nBut no big deal.\n\n530\n00:26:09.590 --> 00:26:11.540\nWe always have a back-up plan.\n\n531\n00:26:11.540 --> 00:26:13.160\nLet me just come in here.\n\n532\n00:26:13.160 --> 00:26:14.920\nI've actually already got\nPowerShell available.\n\n533\n00:26:14.920 --> 00:26:17.230\n&gt;&gt; And again I just have to say and\nit wasn't me.\n\n534\n00:26:17.230 --> 00:26:18.850\n&gt;&gt; No, no it was not you.\n\n535\n00:26:18.850 --> 00:26:20.430\nThis one was actually Mike.\n\n536\n00:26:20.430 --> 00:26:24.800\nMike built that for me way back, so\nI have no idea what version he did, and\n\n537\n00:26:24.800 --> 00:26:27.070\nhe obviously didn't even\nthink about it ahead of time.\n\n538\n00:26:27.070 --> 00:26:30.000\nYou know didn't even realize we would be\ndoing it, and I didn't think to look,\n\n539\n00:26:30.000 --> 00:26:31.978\nso shame on me for\nnot checking ahead of time.\n\n540\n00:26:31.978 --> 00:26:34.300\nBut that's okay, you get to see\nwhat happens when it goes wrong and\n\n541\n00:26:34.300 --> 00:26:36.930\nnow you get to see what happens when\nwe actually do it the right way.\n\n542\n00:26:36.930 --> 00:26:39.630\nSo we're Windows Server 16\nin my demo environment.\n\n543\n00:26:39.630 --> 00:26:40.660\nI'll just do it right here.\n\n544\n00:26:40.660 --> 00:26:42.150\nIt's gonna effectively look the same.\n\n545\n00:26:42.150 --> 00:26:43.390\nIt's really not a big deal.\n\n546\n00:26:43.390 --> 00:26:44.170\nSo let me go a head.\n\n547\n00:26:44.170 --> 00:26:46.150\nThe only thing I have\nto do is just quickly,\n\n548\n00:26:46.150 --> 00:26:50.150\nlet me just make sure I have a CI file or\njust a generic root.\n\n549\n00:26:50.150 --> 00:26:52.560\nThere we go,\nI got an empty folder here as well, so\n\n550\n00:26:52.560 --> 00:26:53.700\nwe'll just dump it right in there.\n\n551\n00:26:53.700 --> 00:26:58.208\nAll right, so let me just type\nthis back in, so new CI policy.\n\n552\n00:26:58.208 --> 00:27:03.430\nPol, come on, there we go,\nthe new CI policy.\n\n553\n00:27:03.430 --> 00:27:04.752\nLet's do level.\n\n554\n00:27:09.775 --> 00:27:15.906\nAnd let me do, Publisher and\n\n555\n00:27:15.906 --> 00:27:22.030\nor, There we go okay.\n\n556\n00:27:22.030 --> 00:27:23.890\nPublisher, then let's do filepath.\n\n557\n00:27:25.040 --> 00:27:28.960\nYou probably should or publisher CA\ndoesn't matter whichever one you wanna do.\n\n558\n00:27:28.960 --> 00:27:32.120\nI'm just gonna do publisher, that's\none that auto-completes there for me.\n\n559\n00:27:32.120 --> 00:27:37.300\nLet me do filepath and\nlet me do we said CCI, so CCI.\n\n560\n00:27:39.010 --> 00:27:39.970\nThere we go.\n\n561\n00:27:39.970 --> 00:27:41.460\nAnd, what was I gonna call it?\n\n562\n00:27:41.460 --> 00:27:44.530\nAudit publisher, right?\n\n563\n00:27:44.530 --> 00:27:48.807\naudit-publisher.xml, and\n\n564\n00:27:48.807 --> 00:27:53.250\nthen userPEs, and then audit.\n\n565\n00:27:53.250 --> 00:27:54.970\nWe use the audit parameter.\n\n566\n00:27:54.970 --> 00:27:56.090\nAll right, so we're gonna run that.\n\n567\n00:27:56.090 --> 00:27:57.020\nTakes just a second.\n\n568\n00:27:57.020 --> 00:28:01.150\nYou can see, it's going out checking which\nwe should've seen in Windows 10 if it was\n\n569\n00:28:01.150 --> 00:28:02.150\ngonna run the right way.\n\n570\n00:28:02.150 --> 00:28:05.660\nHe may have used one of the non\nbusiness versions, I'm guessing.\n\n571\n00:28:05.660 --> 00:28:06.930\nI didn't bother to think about that.\n\n572\n00:28:06.930 --> 00:28:07.660\nI didn't check.\n\n573\n00:28:07.660 --> 00:28:09.180\nI just assumed, right?\n\n574\n00:28:09.180 --> 00:28:11.430\nWhen he built it he would've\nused Enterprise or something.\n\n575\n00:28:11.430 --> 00:28:12.470\nObviously, I was wrong.\n\n576\n00:28:12.470 --> 00:28:15.525\nAll right, so we're gonna let that run,\ntakes just a minute,\n\n577\n00:28:15.525 --> 00:28:18.655\ndepending on the amount of software\nyou have installed on the system,\n\n578\n00:28:18.655 --> 00:28:20.625\nit could take a while to run through and\nscan.\n\n579\n00:28:20.625 --> 00:28:24.585\nYou see it's almost done, so in our\nversion here without much installed at all\n\n580\n00:28:24.585 --> 00:28:26.905\non the domain controller,\nit's not gonna take very long to run.\n\n581\n00:28:26.905 --> 00:28:28.555\nVery, very small file we'll get out.\n\n582\n00:28:28.555 --> 00:28:32.625\nBut you can see, we essentially get that\ncompleted, scan completed successfully.\n\n583\n00:28:32.625 --> 00:28:36.480\nRight, so when we get that,\nwe get audit publisher, xml,\n\n584\n00:28:36.480 --> 00:28:38.677\nwhatever I call the file,\nsitting right there.\n\n585\n00:28:38.677 --> 00:28:40.180\nThere's not gonns be much in this fox.\n\n586\n00:28:40.180 --> 00:28:43.120\nThere's really not a lot of software\ninstalled on this machine that we\n\n587\n00:28:43.120 --> 00:28:43.880\nget profile.\n\n588\n00:28:43.880 --> 00:28:48.480\nBut, on a Windows 10, for instance,\nyeah, it may be something like,\n\n589\n00:28:48.480 --> 00:28:52.980\nif it's Windows 10 and we're using,\nI don't know Microsoft Office,\n\n590\n00:28:52.980 --> 00:28:55.796\nAdobe Acrobat, [INAUDIBLE] have\na bunch of stuff in there.\n\n591\n00:28:55.796 --> 00:28:58.590\nI see a lot more stuff\nthan what I may have here.\n\n592\n00:28:58.590 --> 00:29:01.410\nOr I have just a very stripped down\nbasic demo environment without anything\n\n593\n00:29:01.410 --> 00:29:02.280\ninstalled in it.\n\n594\n00:29:02.280 --> 00:29:04.950\nAll right, so\nthe next step is that convert from\n\n595\n00:29:04.950 --> 00:29:06.940\ncommandlet that I wanted\nto show you as well.\n\n596\n00:29:06.940 --> 00:29:08.300\nConvert from CI policy.\n\n597\n00:29:08.300 --> 00:29:09.360\nSo let's go in.\n\n598\n00:29:09.360 --> 00:29:10.380\nWe'll do convert.\n\n599\n00:29:11.410 --> 00:29:12.710\nWe'll do our convert from, rather.\n\n600\n00:29:14.440 --> 00:29:17.320\nCI policy, let's auto-complete that.\n\n601\n00:29:19.070 --> 00:29:20.280\nAnd we wait.\n\n602\n00:29:20.280 --> 00:29:21.150\nOf course.\n\n603\n00:29:21.150 --> 00:29:22.175\nCovet, convet.\n\n604\n00:29:22.175 --> 00:29:25.830\n[LAUGH] I really do have to learn\nhow to spell at some point.\n\n605\n00:29:25.830 --> 00:29:27.450\nAll right.\nSo CI policy.\n\n606\n00:29:27.450 --> 00:29:28.240\nThere we go.\n\n607\n00:29:28.240 --> 00:29:29.800\n&gt;&gt; What about the see spot run books?\n\n608\n00:29:29.800 --> 00:29:30.400\n&gt;&gt; I was going to say,\n\n609\n00:29:30.400 --> 00:29:34.320\nI'm going to put that on my list of things\nI should do by the end of the year, right?\n\n610\n00:29:34.320 --> 00:29:37.330\nAll right, so we're gonna type\nin our past statement here.\n\n611\n00:29:37.330 --> 00:29:39.610\nJust to go grab the file\nfrom where we put it.\n\n612\n00:29:39.610 --> 00:29:43.570\nRun it through the convert from CI\npolicy commandlet to take it from\n\n613\n00:29:43.570 --> 00:29:45.630\nthe file in the XML format.\n\n614\n00:29:45.630 --> 00:29:50.400\nConvert it into a BIN binary form and\nthen we're gonna take another commandlet,\n\n615\n00:29:50.400 --> 00:29:55.340\ncopy it, and convert it over into\nthe si policy file, sipolicy.p7b,\n\n616\n00:29:55.340 --> 00:29:59.720\nwhich will be the extension we use for\nthe actual policy files.\n\n617\n00:29:59.720 --> 00:30:01.970\nSo, let me just run this\nthrough real quick.\n\n618\n00:30:01.970 --> 00:30:04.240\nI did cci audit publisher.\n\n619\n00:30:04.240 --> 00:30:11.040\nSo let me just type this in and\naudit-publsiher.xml.\n\n620\n00:30:11.040 --> 00:30:16.390\nAnd then let's specify where\nwe wanna put this CI and\n\n621\n00:30:16.390 --> 00:30:22.530\nwe're gonna call it audit publisher.bin or\naudit-publisher.bin.\n\n622\n00:30:22.530 --> 00:30:24.380\nAll right so we're gonna convert that.\n\n623\n00:30:25.810 --> 00:30:26.600\nVery simple.\n\n624\n00:30:26.600 --> 00:30:28.110\nSo we've done that.\n\n625\n00:30:28.110 --> 00:30:32.530\nThat gets us from our XML file into\nour binary file or bin file so\n\n626\n00:30:32.530 --> 00:30:36.410\nthat the computer understand it cause'\nnow we put it into a language format and\n\n627\n00:30:36.410 --> 00:30:38.200\na form that we can work with.\n\n628\n00:30:38.200 --> 00:30:42.790\nSo then the last thing we're\ngonna do here is put this into\n\n629\n00:30:42.790 --> 00:30:45.880\nour directory where we need\nto store the policy file so\n\n630\n00:30:45.880 --> 00:30:48.790\nit could be referenced by\nthe group policy and applied.\n\n631\n00:30:48.790 --> 00:30:52.380\nNow, before we do that and I'll show\nyou where we're gonna put that in just\n\n632\n00:30:52.380 --> 00:30:59.430\na second, but before we do that,\nlet me just come back over.\n\n633\n00:30:59.430 --> 00:31:01.500\nActually, let me go down here and\njust show you what we're doing.\n\n634\n00:31:01.500 --> 00:31:05.190\nSo we are doing the new CI policy,\nwe did that.\n\n635\n00:31:05.190 --> 00:31:09.080\nI did publisher instead of PCA\ncertificate, but I showed you the options\n\n636\n00:31:09.080 --> 00:31:14.070\nthere, file path and we did the audit\nparameter to run it in audit mode.\n\n637\n00:31:14.070 --> 00:31:17.340\nWe're using the convert from CI\npolicy commandlet right now.\n\n638\n00:31:17.340 --> 00:31:21.580\nI just went through and did that,\nconverted it into a bin file.\n\n639\n00:31:21.580 --> 00:31:26.050\nAnd then what I'm gonna do\nis I'm gonna go through and\n\n640\n00:31:26.050 --> 00:31:29.932\nI'm going to put in as we already talked\nabout the settings for group policies.\n\n641\n00:31:29.932 --> 00:31:31.920\nI'm just showing you all\nthe steps we've been through or\n\n642\n00:31:31.920 --> 00:31:34.050\nare going through are listed in this.\n\n643\n00:31:34.050 --> 00:31:36.000\nAnd it got,\nit's kinda shows you where the steps are,\n\n644\n00:31:36.000 --> 00:31:38.910\nwhat you set, what the settings are,\nwhich is nice.\n\n645\n00:31:38.910 --> 00:31:40.700\nNow, once we've done that,\n\n646\n00:31:40.700 --> 00:31:46.280\nthe other thing I wanted to show\nyou is the following right here.\n\n647\n00:31:46.280 --> 00:31:49.826\nI mentioned that we're gonna to put\nthis file that I'm about to create\n\n648\n00:31:49.826 --> 00:31:52.469\nthe SI policy file into\na specific path in windows and\n\n649\n00:31:52.469 --> 00:31:55.556\nthere's a hard coded path\ndepending on what you're doing.\n\n650\n00:31:55.556 --> 00:32:00.408\nSo I just wanted to show you on this\nwebsite that we have right here the play\n\n651\n00:32:00.408 --> 00:32:03.195\ncode integrity policy, policy rules and\n\n652\n00:32:03.195 --> 00:32:06.236\nfile rules right down here The node,\nright?\n\n653\n00:32:06.236 --> 00:32:10.765\nAnd specifically, I'm gonna put it\ninto C/Windows/System32/CodeIntegrity,\n\n654\n00:32:10.765 --> 00:32:12.970\ncuz that's where my path is gonna be.\n\n655\n00:32:12.970 --> 00:32:16.450\nBecause I'm not running a UEFI-based\ncomputer in my demo environment,\n\n656\n00:32:16.450 --> 00:32:17.870\nwe're not really gonna enable this thing.\n\n657\n00:32:17.870 --> 00:32:19.371\nWe're gonna show you the steps involved.\n\n658\n00:32:19.371 --> 00:32:23.412\nThe VM I'm running as a demo environment\ndoesn't have UEFI capabilities.\n\n659\n00:32:23.412 --> 00:32:26.450\nBut if you have a UEFI real\nphysical computer, right,\n\n660\n00:32:26.450 --> 00:32:30.281\nyou're then going to modify that path,\nit says for UEFI computers,\n\n661\n00:32:30.281 --> 00:32:33.010\n&lt;EFI System Partition&gt;\\Microsoft\\Boot.\n\n662\n00:32:33.010 --> 00:32:35.573\nIt says keep this in mind when you\ncreate your code integrity policies,\n\n663\n00:32:35.573 --> 00:32:37.570\nyou've got to put this\ninto the right path.\n\n664\n00:32:37.570 --> 00:32:38.990\nThese two paths are hard coded.\n\n665\n00:32:38.990 --> 00:32:42.902\nYou can't create this, or randomly say\nI wanna name it this or name it that.\n\n666\n00:32:42.902 --> 00:32:45.350\nIt's gotta be this exact path for\nthis to work.\n\n667\n00:32:45.350 --> 00:32:47.565\nSo, just want you to make\nsure you're aware of that,\n\n668\n00:32:47.565 --> 00:32:50.730\ncuz I'm gonna demo the Windows System\n32-code integrity path.\n\n669\n00:32:50.730 --> 00:32:54.290\nBut I cannot show you\nthe EFI System\\Microsoft\\Boot path.\n\n670\n00:32:54.290 --> 00:32:57.691\nBut you wanna make sure, depending on\nwhat you're doing, what hardware you run,\n\n671\n00:32:57.691 --> 00:33:00.313\nwhether we use that UEFI secure\nboot that we were talking about,\n\n672\n00:33:00.313 --> 00:33:02.907\nyou may have to modify the path for\nthis following step, okay?\n\n673\n00:33:02.907 --> 00:33:08.000\nSo I just wanna make sure you see that as\nwe go back in here and we get ready to go.\n\n674\n00:33:08.000 --> 00:33:10.292\nNow, that path already exists, by the way.\n\n675\n00:33:10.292 --> 00:33:13.984\nSo when we come in here, all right, we're\ngonna go in, we're gonna go to Windows,\n\n676\n00:33:13.984 --> 00:33:16.900\njust so you can see it before we\nput something there, System32.\n\n677\n00:33:20.082 --> 00:33:24.320\nAnd CodeIntegrity, right there,\nit's part of the operating system install.\n\n678\n00:33:24.320 --> 00:33:26.310\nAnd you can see there's\nalready some stuff in there.\n\n679\n00:33:26.310 --> 00:33:30.593\nWe're gonna add in this policy file\nthat says site policy.p7b file.\n\n680\n00:33:30.593 --> 00:33:33.734\nI'm about to copy over there using the\nthe final cmdlet of the three that we've\n\n681\n00:33:33.734 --> 00:33:34.360\nbeen demoing.\n\n682\n00:33:34.360 --> 00:33:36.970\nSo, I just want you to see this\nbefore we get started, and\n\n683\n00:33:36.970 --> 00:33:40.900\nunderstand why we're doing this in a very\nspecific path as I type this command in.\n\n684\n00:33:40.900 --> 00:33:43.050\nAll right, so\nwe're gonna use the copy item cmdlet.\n\n685\n00:33:43.050 --> 00:33:47.690\nThis is not specific to Device Guard and\nconfiguration of the code integrity\n\n686\n00:33:47.690 --> 00:33:50.890\npolicies, this is just\na generic PowerShell cmdlet.\n\n687\n00:33:50.890 --> 00:33:53.970\nBut we're using it just to move\na file from one place to another.\n\n688\n00:33:53.970 --> 00:33:56.510\nYou could alias this out,\nby the way, CP, right, for copy.\n\n689\n00:33:56.510 --> 00:33:59.380\nSo, just so you know, so\nCopy-Item, all right?\n\n690\n00:33:59.380 --> 00:34:00.320\nSo we're gonna do Copy-Item.\n\n691\n00:34:00.320 --> 00:34:04.609\nSpecify where we're going to\nget this from, so C:\\CI, and\n\n692\n00:34:04.609 --> 00:34:09.158\nthen the name of our bin file,\nwhich is audit-publisher.bin.\n\n693\n00:34:09.158 --> 00:34:12.492\nSo let me, in my case anyway,\nright, that's what I'm calling it.\n\n694\n00:34:12.492 --> 00:34:16.578\nIn your world, by the way remember, right,\nthese are just the names I'm using.\n\n695\n00:34:16.578 --> 00:34:20.498\nAnd the variables and the path statements\nuntil this last one I'm about to type in,\n\n696\n00:34:20.498 --> 00:34:23.690\nC:\\CI\\ name of file,\nthose are just unique to my environments,\n\n697\n00:34:23.690 --> 00:34:25.260\nwhat I'm using with you.\n\n698\n00:34:25.260 --> 00:34:28.900\nIn your demo, as you walk through this,\nyou have to obviously localize that,\n\n699\n00:34:28.900 --> 00:34:32.460\nright, and call these things that will\nmake sense to you in your world and\n\n700\n00:34:32.460 --> 00:34:33.450\nname them accordingly.\n\n701\n00:34:33.450 --> 00:34:36.090\nSo, and also, of course,\nput them in the right place, right?\n\n702\n00:34:36.090 --> 00:34:40.410\nThe places that you would normally\nspecify for these kinds of exercises.\n\n703\n00:34:40.410 --> 00:34:42.429\nBut this last path\nstatement I'm typing now,\n\n704\n00:34:42.429 --> 00:34:45.954\nthe C:\\Windows\\System32\\CodeIntegrity,\nthat's the one you gotta get\n\n705\n00:34:45.954 --> 00:34:49.552\nright because that's the one you can't\nchange, it has to be that specific path.\n\n706\n00:34:49.552 --> 00:34:56.222\nSo c:\\windows\\system32.\n\n707\n00:34:56.222 --> 00:35:02.516\nAnd codeintegrity, And\n\n708\n00:35:02.516 --> 00:35:07.450\nthen the name of our policy file,\nthis is also non-negotiable.\n\n709\n00:35:07.450 --> 00:35:12.100\nsipolicy is the name of the file,\n.p7b, the extension we use.\n\n710\n00:35:12.100 --> 00:35:15.360\nOkay, so just make sure you know\nthat that's the name of the file.\n\n711\n00:35:15.360 --> 00:35:19.070\nYou have one of these policy files per\nmachine, meaning, if you create another\n\n712\n00:35:19.070 --> 00:35:21.990\none, you're gonna replace this and it's\ngonna be named ultimately the same thing.\n\n713\n00:35:21.990 --> 00:35:25.590\nSo just be aware that you will only\napply one at any given time, all right?\n\n714\n00:35:25.590 --> 00:35:26.940\nSo I'm gonna hit Enter there.\n\n715\n00:35:26.940 --> 00:35:28.450\nGoes through with no trouble.\n\n716\n00:35:28.450 --> 00:35:31.570\nRemember, a lot of times, PowerShell,\nwhen it is successful and does what we\n\n717\n00:35:31.570 --> 00:35:35.856\nask it to do, doesn't echo anything back\nor give you any feedback on the console.\n\n718\n00:35:35.856 --> 00:35:39.506\nWhich means, don't be shocked when you\njust see that command prompt come back up\n\n719\n00:35:39.506 --> 00:35:41.666\nempty and blank and\nthere's nothing, right?\n\n720\n00:35:41.666 --> 00:35:42.660\nThat actually is good.\n\n721\n00:35:42.660 --> 00:35:43.470\nThat's what we want to see.\n\n722\n00:35:43.470 --> 00:35:45.774\nThat means you were successful.\n\n723\n00:35:45.774 --> 00:35:47.330\nOccasionally, you get something like this.\n\n724\n00:35:47.330 --> 00:35:49.287\nHey, you know, congratulations,\ngood job, right?\n\n725\n00:35:49.287 --> 00:35:50.583\nBut normally you don't get that,\nyou just get nothing.\n\n726\n00:35:50.583 --> 00:35:52.172\n&gt;&gt; In this case, no news, good news.\n\n727\n00:35:52.172 --> 00:35:53.300\n&gt;&gt; No news, good news, right?\n\n728\n00:35:53.300 --> 00:35:55.890\nAnd so no news, good news equals,\n\n729\n00:35:55.890 --> 00:35:58.682\nsomething shows up in the directory\nthat we have created right there.\n\n730\n00:35:58.682 --> 00:36:02.010\nThe sipolicy file is now sitting there,\njust so we know, right?\n\n731\n00:36:02.010 --> 00:36:06.310\nSo now that we have that,\nlet's go back to our group policy.\n\n732\n00:36:06.310 --> 00:36:09.723\nCuz there's one other element here we\ngotta now bring in to implement the code\n\n733\n00:36:09.723 --> 00:36:11.590\nintegrity portion of Device Guard.\n\n734\n00:36:11.590 --> 00:36:14.250\nWe've turned on the basic requirements\nthere, with Credential Guard and\n\n735\n00:36:14.250 --> 00:36:19.502\nDevice Guard, with virtual boot, secure\nvirtual security and the virtual boot.\n\n736\n00:36:19.502 --> 00:36:21.470\nWe're gonna go in and\ntake a look at the other aspect,\n\n737\n00:36:21.470 --> 00:36:23.420\nwhich is what we've been doing here for\nthe last few minutes.\n\n738\n00:36:23.420 --> 00:36:25.610\nSo back to our group policy.\n\n739\n00:36:27.100 --> 00:36:31.530\nSo we've set up the virtualization-based\nsecurity, talked about enabling that.\n\n740\n00:36:31.530 --> 00:36:33.990\nI didn't bother to click OK,\nso it says not configured,\n\n741\n00:36:33.990 --> 00:36:35.950\nbut you saw me go through that.\n\n742\n00:36:35.950 --> 00:36:39.200\nI'm gonna move up to the other portion\nhere, to Apply Code Integrity Policy,\n\n743\n00:36:39.200 --> 00:36:40.640\nthat's what we've just been working on.\n\n744\n00:36:40.640 --> 00:36:44.200\nWe just scanned, created our\ntemplate file, converted it, and\n\n745\n00:36:44.200 --> 00:36:46.350\nnow have our policy file\nto enable this with.\n\n746\n00:36:46.350 --> 00:36:51.085\nSo now, we can go in and do the following,\ncome up here, we have to enable this.\n\n747\n00:36:51.085 --> 00:36:53.165\nAnd this statement right here,\nor the setting right here,\n\n748\n00:36:53.165 --> 00:36:57.795\nrather, requires that we specify the path\nfor the code integrity policy file.\n\n749\n00:36:57.795 --> 00:37:00.860\nThe sipolicy.p7b file we just created.\n\n750\n00:37:00.860 --> 00:37:04.220\nSo that path has to be put in,\nand we know what the path is.\n\n751\n00:37:04.220 --> 00:37:09.080\nIt's either C:\\Windows\\System32\\\nCodeIntegrity\\ name of file, or\n\n752\n00:37:09.080 --> 00:37:14.095\nthe old Windows or UEFI boot, right,\nsecure boot, UEFI Microsoft Boot right?\n\n753\n00:37:14.095 --> 00:37:17.011\nSo you're gonna specify the appropriate\npath based on what you're doing.\n\n754\n00:37:17.011 --> 00:37:21.666\nSo we would come in here, specify\n\n755\n00:37:21.666 --> 00:37:28.988\nC:\\Windows\\System32\\CodeIntegrity, and\n\n756\n00:37:28.988 --> 00:37:35.319\nthen the name of our file, sipolicy.p7b.\n\n757\n00:37:35.319 --> 00:37:39.691\nAnd by doing that, and\nsetting this up, we are then enabling\n\n758\n00:37:39.691 --> 00:37:44.690\nthe use of that policy file we've\njust created to have it applied.\n\n759\n00:37:44.690 --> 00:37:48.880\nThis is how we get that master allow,\ndon't allow software list that gets\n\n760\n00:37:48.880 --> 00:37:52.970\nset up and applied through the Device\nGuard protections to all the machines.\n\n761\n00:37:52.970 --> 00:37:56.790\nThat will be, in this case, in the A pack\nOU or wherever we decide to put this\n\n762\n00:37:56.790 --> 00:38:00.660\nthat are qualified to run Device Guard,\nthis will allow or disallow the use of\n\n763\n00:38:00.660 --> 00:38:03.870\nthat software that's digitally signed and\nis approved by a vendor.\n\n764\n00:38:03.870 --> 00:38:05.370\nWe did it based on publisher,\n\n765\n00:38:05.370 --> 00:38:08.420\nwe do it based on remember\nthe publisher's CA certificate.\n\n766\n00:38:08.420 --> 00:38:10.470\nThere's different ways we could\npull this list together, but\n\n767\n00:38:10.470 --> 00:38:13.720\nwhatever we did, the items in\nthis list will now be allowed,\n\n768\n00:38:13.720 --> 00:38:15.890\nthe items that are not\nlisted will not be allowed.\n\n769\n00:38:15.890 --> 00:38:19.350\nThis is one of the key protection\nmechanisms we bring together\n\n770\n00:38:19.350 --> 00:38:20.770\nwith regards to Device Guard.\n\n771\n00:38:20.770 --> 00:38:22.800\nSo just wanna make sure\nyou're familiar with that.\n\n772\n00:38:22.800 --> 00:38:25.850\nTwo other things that we just\nwanna throw into the mix.\n\n773\n00:38:25.850 --> 00:38:28.810\nActually I lied, three,\nfour, four other things.\n\n774\n00:38:28.810 --> 00:38:30.150\nDoubles in space every time.\n\n775\n00:38:30.150 --> 00:38:30.977\nBut these are quick-\n&gt;&gt; [LAUGH]\n\n776\n00:38:30.977 --> 00:38:31.477\n&gt;&gt; They're very quick.\n\n777\n00:38:31.477 --> 00:38:33.585\nYou never hear me say that cuz it's never\n\n778\n00:38:33.585 --> 00:38:35.420\ntrue.\nBut this is actually really quick.\n\n779\n00:38:35.420 --> 00:38:40.060\nI did wanna show you how to use BCD edit\nto enable the virtual secure mode boot.\n\n780\n00:38:40.060 --> 00:38:41.470\nSo I'm just gonna quickly show you that.\n\n781\n00:38:42.940 --> 00:38:45.080\nWe have BCD edit here.\n\n782\n00:38:45.080 --> 00:38:46.550\nSo I have it right here.\n\n783\n00:38:46.550 --> 00:38:51.340\nI just pulled up the Help file just\nto make sure you're familiar with it.\n\n784\n00:38:51.340 --> 00:38:53.140\nBoot Configuration Data Store Editor.\n\n785\n00:38:53.140 --> 00:38:56.240\nI've demoed this tool in\nother discussions before.\n\n786\n00:38:56.240 --> 00:38:58.790\nYou may or may not have seen it,\nyou may or may not be familiar with it.\n\n787\n00:38:58.790 --> 00:39:02.160\nSo, I just wanna make sure\nthat if you have not seen it,\n\n788\n00:39:02.160 --> 00:39:04.370\nyou do have a sense of what it does.\n\n789\n00:39:04.370 --> 00:39:08.660\nSo, it is used to change the boot\nconfiguration order for the machine.\n\n790\n00:39:08.660 --> 00:39:09.560\nI'm just looking for\n\n791\n00:39:09.560 --> 00:39:13.020\nmy little cheat sheet note to make sure\nI give you the right command here.\n\n792\n00:39:13.020 --> 00:39:16.530\nI'm gonna use BCD edit here,\nlet me just go down here.\n\n793\n00:39:16.530 --> 00:39:21.350\nSo bcdedit, and\nI'm gonna type in the set parameter.\n\n794\n00:39:21.350 --> 00:39:23.711\nSo up in the Help file,\nyou could see it says set, and\n\n795\n00:39:23.711 --> 00:39:25.278\nthere's some stuff you could do.\n\n796\n00:39:25.278 --> 00:39:30.758\nAnd I'm gonna set vsmlaunchtype for\nvirtual secure mode launch.\n\n797\n00:39:30.758 --> 00:39:35.585\nSo vsmlaunchtype type, and\nI'm gonna set that to auto.\n\n798\n00:39:37.395 --> 00:39:39.235\nOperation completed successfully.\n\n799\n00:39:39.235 --> 00:39:41.945\nThat will trigger the next\ntime this machine restarts.\n\n800\n00:39:41.945 --> 00:39:47.250\nOne of the aspects of Device Guard,\nthis virtual secure mode boot,\n\n801\n00:39:47.250 --> 00:39:49.430\nright, that we're using,\nanother one of the protection aspects.\n\n802\n00:39:49.430 --> 00:39:53.220\nSo, we're gonna enable that as part\nof the virtual secure mode, and\n\n803\n00:39:53.220 --> 00:39:56.140\nas a result we can then keep track\nof what's happening as we boot up.\n\n804\n00:39:56.140 --> 00:39:59.050\nWe'll be able to see evidence of this\nin the log files that it's running.\n\n805\n00:39:59.050 --> 00:40:04.185\nWe can examine a secure system process in\nTask Manager to see it's been enabled.\n\n806\n00:40:04.185 --> 00:40:07.859\nThere's different ways you can tell that\nthis is turned on, but this is one of the,\n\n807\n00:40:07.859 --> 00:40:10.976\nOver lapping aspects of the protection\nthat device card does give us.\n\n808\n00:40:10.976 --> 00:40:12.560\nSo, we're gonna be able to set this up.\n\n809\n00:40:12.560 --> 00:40:14.420\nAll right, so we turn this part on.\n\n810\n00:40:14.420 --> 00:40:17.490\nWhat I wanted to show you\nwas something else here.\n\n811\n00:40:18.570 --> 00:40:20.230\nGo back to Windows 10 for this piece.\n\n812\n00:40:20.230 --> 00:40:24.200\nSo this is item two of the four that\nwe're gonna take a look at real quick.\n\n813\n00:40:24.200 --> 00:40:26.900\nWe mentioned having to enable\nthe hyperviser or the hyper V,\n\n814\n00:40:26.900 --> 00:40:31.290\nhyperviser portion as part of the device\nguard protections and requirements cuz\n\n815\n00:40:31.290 --> 00:40:36.210\nwe're gonna use that to create the secure\nmemory isolation bubble, the sandbox\n\n816\n00:40:36.210 --> 00:40:40.940\nthat we run the LSAS process in, that\nprotects the security aspect of Windows.\n\n817\n00:40:40.940 --> 00:40:42.970\nThat's part of what device guard does,\nright?\n\n818\n00:40:42.970 --> 00:40:46.290\n&gt;&gt; So we are gonna need these,\nthe management tools.\n\n819\n00:40:46.290 --> 00:40:47.140\n&gt;&gt; We do not.\n\n820\n00:40:47.140 --> 00:40:50.530\nWe just need the hypervisor aspect of\nhyper V, as one of the prerequisites.\n\n821\n00:40:50.530 --> 00:40:53.212\nSo I'm just going to show you, cuz a lot\nof times people don't know they can break\n\n822\n00:40:53.212 --> 00:40:55.381\nout the hyperviser let's say,\nand just install that piece, but\n\n823\n00:40:55.381 --> 00:40:58.084\nnot install all the [CROSSTALK] management\ntools, like you were saying, right?\n\n824\n00:40:58.084 --> 00:41:00.870\nSo, I thought we could just\nquickly take a look at that.\n\n825\n00:41:00.870 --> 00:41:04.560\nAnd again, we can do the same thing\non the server if this is Server 16.\n\n826\n00:41:04.560 --> 00:41:08.520\nThrough server manager,\ngonna manage ad remove roles and features.\n\n827\n00:41:08.520 --> 00:41:11.780\nAnd this will be the hyper V role\nthat you would be addressing,\n\n828\n00:41:11.780 --> 00:41:14.320\nnot the hyper V feature\non the server side.\n\n829\n00:41:14.320 --> 00:41:19.178\nThere's a hyper V feature called hyper V\nfor shielding and running shielded VM's,\n\n830\n00:41:19.178 --> 00:41:20.350\nthat's separate.\n\n831\n00:41:20.350 --> 00:41:22.860\nThat's a virtualization\nsecurity conversation.\n\n832\n00:41:22.860 --> 00:41:25.080\nJoin us for\nthose episodes cuz they are upcoming.\n\n833\n00:41:25.080 --> 00:41:28.600\nYou will see me talk about that, but\nthat's not what we would be working on.\n\n834\n00:41:28.600 --> 00:41:33.330\nWe'd work on the hyper V role, and then\nselect just the hyper V, hyper visor, and\n\n835\n00:41:33.330 --> 00:41:35.350\ndisallow the management\ntools if we don't want them.\n\n836\n00:41:35.350 --> 00:41:36.700\nWe can install them, by the way.\n\n837\n00:41:36.700 --> 00:41:38.990\nWe just don't need them is\nall I'm suggesting to you.\n\n838\n00:41:38.990 --> 00:41:42.943\nSo if you want to do it from Windows 10,\ncuz you may not always go in and do this,\n\n839\n00:41:42.943 --> 00:41:45.957\nI'm in the Control Panel in\nthe Programs and Features area.\n\n840\n00:41:45.957 --> 00:41:49.792\nI'm gonna go to turn Windows Features\non or off over here,\n\n841\n00:41:49.792 --> 00:41:53.330\nbuild my little list,\ndown here Hyper V, right?\n\n842\n00:41:53.330 --> 00:41:57.100\nI would simply come in, I would come down\nhere to where it says Hyper V platform,\n\n843\n00:41:57.100 --> 00:41:58.310\nHyper V hypervisor.\n\n844\n00:41:58.310 --> 00:42:02.709\nI would check that one off, I would then\nselect that, click OK, and just install\n\n845\n00:42:02.709 --> 00:42:06.670\nthe hypervisor aspect of Hyper V and\nthat's what I would use, and need.\n\n846\n00:42:06.670 --> 00:42:10.852\nSo, in case you wanna do that or see how\nthat works, you can go in and do that.\n\n847\n00:42:10.852 --> 00:42:13.140\nAll right.\nSo, I promised you two other quick things.\n\n848\n00:42:13.140 --> 00:42:14.860\nJust about how we go in and\n\n849\n00:42:14.860 --> 00:42:19.690\nhow we actually augment these\ncode integrity policies.\n\n850\n00:42:19.690 --> 00:42:24.560\nSo, we can add a code signing\ncertificate for code integrity.\n\n851\n00:42:24.560 --> 00:42:26.850\nIn other words,\ndigitally sign our own code.\n\n852\n00:42:26.850 --> 00:42:29.620\nA lot of times, businesses will\ncreate their own homegrown apps.\n\n853\n00:42:29.620 --> 00:42:30.685\nThey want to run them.\n\n854\n00:42:30.685 --> 00:42:32.394\nAnd you probably want to put them on,\n\n855\n00:42:32.394 --> 00:42:35.207\nhey let's allow,\nlet's not block list with Device Guard,\n\n856\n00:42:35.207 --> 00:42:38.706\ncuz if you don't allow them then of\ncourse you won't see any good, right?\n\n857\n00:42:38.706 --> 00:42:42.168\nSo you may wanna create your own code\nsigning certificates in order to be able\n\n858\n00:42:42.168 --> 00:42:43.570\nto add them to the list.\n\n859\n00:42:43.570 --> 00:42:47.800\nSo you have to have a digitally signed\ncopy of the code in order to certify it.\n\n860\n00:42:47.800 --> 00:42:49.840\nSo if you want to do that, you can go in.\n\n861\n00:42:49.840 --> 00:42:52.530\nGot some guidance here, I'm not gonna\nwalk through the whole process with you.\n\n862\n00:42:52.530 --> 00:42:55.050\nBut got guidance on how\nyou can create your\n\n863\n00:42:55.050 --> 00:42:59.320\nown code signing certificate using\na certificate template from the root CA.\n\n864\n00:42:59.320 --> 00:43:05.240\nWe do whole a series of certificate shows\nor ADCS shows on certificate architecture.\n\n865\n00:43:05.240 --> 00:43:07.260\nYou haven't seen them,\nencourage you to go back, take a look.\n\n866\n00:43:07.260 --> 00:43:10.880\nWe walk through the process to create\nan issue certificates based on the use of\n\n867\n00:43:10.880 --> 00:43:13.690\ncertificate templates and code signing,\nthere's a template for that.\n\n868\n00:43:13.690 --> 00:43:17.260\nWe can go in and create and use\nthe certificate template, and then give us\n\n869\n00:43:17.260 --> 00:43:20.820\nthe right to be able to issue code\nsigning certificates as you can see here.\n\n870\n00:43:20.820 --> 00:43:24.650\nRight, so\nwe would go in specify how to do that.\n\n871\n00:43:24.650 --> 00:43:28.410\nYou could see here, just shows us what\nto do on the extensions to configure\n\n872\n00:43:28.410 --> 00:43:30.570\nthe certificate,\nset it all up and issue it.\n\n873\n00:43:30.570 --> 00:43:32.670\nAnd then once we do that,\nwe can issue that certificate,\n\n874\n00:43:32.670 --> 00:43:35.870\nand then gives us the right to\nsign our own home-grown code and\n\n875\n00:43:35.870 --> 00:43:37.690\nadd it to the code base for device guard.\n\n876\n00:43:37.690 --> 00:43:40.200\nThat would also be really important,\nreally cool.\n\n877\n00:43:40.200 --> 00:43:44.140\nAnd as if that wasn't enough if\nyou have unsigned code that you\n\n878\n00:43:44.140 --> 00:43:45.400\nwant to be able to run.\n\n879\n00:43:45.400 --> 00:43:49.560\nThere's a way to add unsigned app code\nto the integrity code policy as well.\n\n880\n00:43:49.560 --> 00:43:51.620\nWe're just full of useful information.\n\n881\n00:43:51.620 --> 00:43:52.510\n&gt;&gt; I know, that was a ton.\n\n882\n00:43:52.510 --> 00:43:53.241\n&gt;&gt; We're not done.\n\n883\n00:43:53.241 --> 00:43:57.240\nJust one more thing.\n\n884\n00:43:57.240 --> 00:44:00.790\nSo we can run through this, just gives\nyou the understanding of how to do it and\n\n885\n00:44:00.790 --> 00:44:05.150\nthere is a tool that you will pair with\nthis, a tool called SignTool which\n\n886\n00:44:05.150 --> 00:44:09.970\ncomes from as you can see, the Windows\ndev side, so the MSDN side of the house.\n\n887\n00:44:12.390 --> 00:44:13.500\nAnd so, this tool,\n\n888\n00:44:13.500 --> 00:44:16.770\nwhich makes sense because who's going to\nneed to sign code more often than not?\n\n889\n00:44:16.770 --> 00:44:18.470\nThe developers that are creating it,\nright?\n\n890\n00:44:18.470 --> 00:44:21.680\nSo assigning tool on the developer's\nside actually makes a lot of sense.\n\n891\n00:44:21.680 --> 00:44:25.775\nSo you could go download this tool,\nfollow the instructions on how to use it,\n\n892\n00:44:25.775 --> 00:44:28.043\ncreate the appropriate signature files,\n\n893\n00:44:28.043 --> 00:44:31.702\nlink those back in to the Windows Defender\nsite with the CI policies.\n\n894\n00:44:31.702 --> 00:44:34.539\nWe're actually able to then\nbring in all of those code items\n\n895\n00:44:34.539 --> 00:44:37.640\nthat are home grown that you wanna\nactually be able to leverage.\n\n896\n00:44:37.640 --> 00:44:40.590\nHopefully a much fuller and\n\n897\n00:44:40.590 --> 00:44:44.660\nmore productive understanding of the\nbasics associated with Device Guard and\n\n898\n00:44:44.660 --> 00:44:47.190\nsome of the more advanced\nareas that we can get into.\n\n899\n00:44:47.190 --> 00:44:49.830\nObviously if we add code\nthat we're home growing and\n\n900\n00:44:49.830 --> 00:44:52.300\nsigning ourselves we can\nextend the functionality here.\n\n901\n00:44:52.300 --> 00:44:57.160\nBut a really great set of technologies,\nhardware, and software based that bring\n\n902\n00:44:57.160 --> 00:45:00.280\ntogether a lot of the protective\nelements we wanna see in the defense and\n\n903\n00:45:00.280 --> 00:45:01.720\ndepth architecture.\n\n904\n00:45:01.720 --> 00:45:04.380\n&gt;&gt; Yeah, we've covered a lot of really\ngreat information not only in just\n\n905\n00:45:04.380 --> 00:45:08.960\nthis episode but the previous three\nepisodes as well, to go ahead and\n\n906\n00:45:08.960 --> 00:45:12.960\nround out our protecting against\nmalware conversation here.\n\n907\n00:45:12.960 --> 00:45:14.412\nSo, thank you for that [CROSSTALK], Adam.\n\n908\n00:45:14.412 --> 00:45:15.448\n&gt;&gt; You're welcome.\n&gt;&gt; And thank you for\n\n909\n00:45:15.448 --> 00:45:17.770\nbeing with us as well, but\nwe'll go ahead and sign out for this show.\n\n910\n00:45:17.770 --> 00:45:20.040\nI've been your host, Cherokee Boose.\n\n911\n00:45:20.040 --> 00:45:20.820\n&gt;&gt; I am Adam Gordon.\n\n912\n00:45:20.820 --> 00:45:22.746\n&gt;&gt; See you next time here at ITPRO TV.\n\n913\n00:45:22.746 --> 00:45:29.836\n[MUSIC]\n\n914\n00:45:29.836 --> 00:45:32.430\n&gt;&gt; Thank you for watching ITPRO TV.\n\n",
          "vimeoId": "234502741"
        }
      ],
      "title": "Implement malware protection"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam begin with an overview of audit policies. Adam encourages understanding what your organization needs to audit and does not go overboard which creates  counter-productivity. They start defining and demonstrating how to create an audit policy in addition to advanced settings.",
          "length": "1919",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-1-configure_advance_audit_policies-091417-PGM.00_31_41_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-1-configure_advance_audit_policies-091417-PGM.00_31_41_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-1-configure_advance_audit_policies-091417-PGM.00_31_41_15.Still001-sm.jpg",
          "title": "Configure advanced audit policies",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:01.247\nWelcome to ITProTV.\n\n2\n00:00:01.247 --> 00:00:03.785\nI'm your host Don Pezet.\n\n3\n00:00:03.785 --> 00:00:05.927\n[CROSSTALK]\n\n4\n00:00:05.927 --> 00:00:07.608\n[MUSIC]\n\n5\n00:00:07.608 --> 00:00:10.483\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:10.483 --> 00:00:14.407\n&gt;&gt; Welcome to\nSecuring Windows Server 2016.\n\n7\n00:00:14.407 --> 00:00:17.100\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.100 --> 00:00:21.490\nIn this episode, we'll be taking a look at\nhow to configure advanced audit policies.\n\n9\n00:00:21.490 --> 00:00:25.010\nAnd back in the studios with us today,\nwe have Microsoft expert Mr. Adam Gordon.\n\n10\n00:00:25.010 --> 00:00:26.000\nHow's it going, Adam?\n\n11\n00:00:26.000 --> 00:00:27.166\n&gt;&gt; You're a little off-centered there.\n\n12\n00:00:27.166 --> 00:00:27.842\nYou're like-\n&gt;&gt; Am I?\n\n13\n00:00:27.842 --> 00:00:30.534\n&gt;&gt; You were just a little bit, kinda like,\nyeah, you were swinging in the breeze.\n\n14\n00:00:30.534 --> 00:00:32.523\nWe got a strong wind going\non in the studio here.\n\n15\n00:00:32.523 --> 00:00:33.450\n&gt;&gt; [LAUGH] Yeah.\n\n16\n00:00:33.450 --> 00:00:36.288\n&gt;&gt; All right, but notice Cherokee's\nhair stays, it does not move, right?\n\n17\n00:00:36.288 --> 00:00:38.836\nShe's got so\nmuch hairspray in that thing, it's just-\n\n18\n00:00:38.836 --> 00:00:39.764\n&gt;&gt; Like a helmet.\n\n19\n00:00:39.764 --> 00:00:41.468\n[LAUGH]\n&gt;&gt; Yeah, a chemical helmet.\n\n20\n00:00:41.468 --> 00:00:44.306\nAll right, so we're gonna get started.\n\n21\n00:00:44.306 --> 00:00:47.795\nWe're talking about audit policies, and\nyou said advanced audit policies but\n\n22\n00:00:47.795 --> 00:00:49.630\nI'm gonna back that up just a little bit.\n\n23\n00:00:49.630 --> 00:00:51.190\nBefore we get into the advanced stuff,\n\n24\n00:00:51.190 --> 00:00:52.670\nlet's talk about the basic concepts,\nright?\n\n25\n00:00:52.670 --> 00:00:55.630\nBecause a lot of times what will\nhappen is people say, well,\n\n26\n00:00:55.630 --> 00:00:56.860\nwe have to go do auditing, right?\n\n27\n00:00:56.860 --> 00:00:58.790\nWe gotta go in and configure auditing.\n\n28\n00:00:58.790 --> 00:01:01.040\nAnd they may or\nmay not know what that means.\n\n29\n00:01:01.040 --> 00:01:02.700\nMay or may not know where to do that.\n\n30\n00:01:02.700 --> 00:01:05.740\nMay or may not know the dos and\ndon'ts so to speak of auditing.\n\n31\n00:01:05.740 --> 00:01:09.100\nSo let's maybe talk for just a couple\nof quick minutes about those things,\n\n32\n00:01:09.100 --> 00:01:10.000\nthose dos and don'ts.\n\n33\n00:01:10.000 --> 00:01:11.730\nWhat are those audit policies and\n\n34\n00:01:11.730 --> 00:01:15.000\ntheir default settings that we\ncould take a look at on server 16?\n\n35\n00:01:15.000 --> 00:01:18.750\nGot a little hands on demonstration, we'll\nshow you how to set it up in a minute.\n\n36\n00:01:18.750 --> 00:01:20.580\nWe also have a little\nreference document for you.\n\n37\n00:01:20.580 --> 00:01:24.960\nLet me just bring this up here,\nbefore we jump over here.\n\n38\n00:01:24.960 --> 00:01:26.860\nAnd this is actually, I mislabeled this.\n\n39\n00:01:26.860 --> 00:01:28.359\n[LAUGH] Give me half a second.\n\n40\n00:01:28.359 --> 00:01:33.710\n[LAUGH] I wrote Server 2012 at the top\nof that, instead of Server 2016.\n\n41\n00:01:33.710 --> 00:01:36.620\nAll right, anyway, we'll fix it\nin the show notes, no problem.\n\n42\n00:01:36.620 --> 00:01:39.530\nBut join me here,\nhave a policy document for you.\n\n43\n00:01:39.530 --> 00:01:43.015\nIgnore the fact it says Server 12, they\nare actually the same whether it's Server\n\n44\n00:01:43.015 --> 00:01:46.369\n12 or Server 16, I just forgot to put\n16 when I was writing the notes there.\n\n45\n00:01:46.369 --> 00:01:48.858\nLet you know a little secret,\nwe actually use the same document for\n\n46\n00:01:48.858 --> 00:01:49.707\nthe Server 12 show.\n\n47\n00:01:49.707 --> 00:01:51.018\nBut you're not supposed to know that.\n\n48\n00:01:51.018 --> 00:01:52.649\n&gt;&gt; [LAUGH]\n&gt;&gt; All we did was recycle the document,\n\n49\n00:01:52.649 --> 00:01:54.886\nbecause as I said the settings\nare the same, they haven't really changed.\n\n50\n00:01:54.886 --> 00:01:56.616\nSo that's why it says 12 up there.\n\n51\n00:01:56.616 --> 00:01:59.690\nBut we'll fix that and make it look\nlike 16 before you download that.\n\n52\n00:01:59.690 --> 00:02:02.530\nNow that the cat's out of the bag,\njust remind me to do that before we,\n\n53\n00:02:02.530 --> 00:02:03.249\n&gt;&gt; Put the cat back in the bag?\n\n54\n00:02:03.249 --> 00:02:04.931\n&gt;&gt; Put the cat back in\nthe bag before we get done.\n\n55\n00:02:04.931 --> 00:02:05.675\n&gt;&gt; Okay.\n[LAUGH]\n\n56\n00:02:05.675 --> 00:02:06.605\n&gt;&gt; I just caught that as I was\n\n57\n00:02:06.605 --> 00:02:09.805\ngoing to bring it up, like wait a second,\nthat's supposed to say Server 16.\n\n58\n00:02:09.805 --> 00:02:12.035\nBut the settings,\nthe policy settings are gonna be the same.\n\n59\n00:02:12.035 --> 00:02:15.000\nSo what I did is just put together for\nyou little docking with the audit policy\n\n60\n00:02:15.000 --> 00:02:18.790\nsettings, little description what\nthe default setting is over there.\n\n61\n00:02:18.790 --> 00:02:23.700\nSuccessful account log ons are audited\nwhen you do audit account log on events,\n\n62\n00:02:23.700 --> 00:02:24.820\nfor instance, right?\n\n63\n00:02:24.820 --> 00:02:27.250\nSo you can kinda scroll down here,\ntake a look at this, and\n\n64\n00:02:27.250 --> 00:02:28.450\nget a sense of what's here.\n\n65\n00:02:28.450 --> 00:02:29.700\nWe're gonna show you these and\n\n66\n00:02:29.700 --> 00:02:31.750\ntake a look at them in the real\nenvironment in a minute.\n\n67\n00:02:31.750 --> 00:02:33.225\nWhat I wanted to point out to you,\n\n68\n00:02:33.225 --> 00:02:37.240\nwhen we're talking about this is two\nthings that not everybody's aware of.\n\n69\n00:02:37.240 --> 00:02:42.440\nNumber one, we have a very large number\nof possible events and opportunities\n\n70\n00:02:42.440 --> 00:02:46.860\nto audit that we wanna think about, and\nthink about the benefit of using auditing.\n\n71\n00:02:46.860 --> 00:02:49.820\nBut also think about the possibility\nof auditing too much.\n\n72\n00:02:49.820 --> 00:02:51.374\nAnd what I talk about with\ncustomers all the time,\n\n73\n00:02:51.374 --> 00:02:55.580\nwhat I talk about with students when\nI'm in the classroom teaching is,\n\n74\n00:02:55.580 --> 00:02:58.850\nis good to have a sense of what\nhappens in your environment.\n\n75\n00:02:58.850 --> 00:02:59.920\nNever wanna be in the dark.\n\n76\n00:03:00.930 --> 00:03:02.440\nDon't know that something is going on,\n\n77\n00:03:02.440 --> 00:03:05.420\nbut there is such a thing of too\nmuch of a good thing, right?\n\n78\n00:03:05.420 --> 00:03:09.327\nWe can audit and see too much information\njust like we can prevent auditing or\n\n79\n00:03:09.327 --> 00:03:12.195\nnot think about the importance\nof things we wanna see and\n\n80\n00:03:12.195 --> 00:03:14.900\nhave too little insight and\nto little information.\n\n81\n00:03:14.900 --> 00:03:18.977\nAnd so, we wanna find that balance,\nthat yin and yang of IT security.\n\n82\n00:03:18.977 --> 00:03:21.713\nAnd auditing is part of\nthat whole balance and\n\n83\n00:03:21.713 --> 00:03:24.560\nthought process we have to engage around.\n\n84\n00:03:24.560 --> 00:03:26.410\nWe've been talking about\nthings like defense and\n\n85\n00:03:26.410 --> 00:03:30.500\ndepth, talked about things like least\nprivileged, separation of duties,\n\n86\n00:03:30.500 --> 00:03:33.390\nor role base administrative practices.\n\n87\n00:03:33.390 --> 00:03:37.256\nAll these ideas have come together to help\nus figure out how to secure environments\n\n88\n00:03:37.256 --> 00:03:40.856\nand make them not only more secure,\nbut more manageable for us ultimately.\n\n89\n00:03:40.856 --> 00:03:44.174\nAnd auditing is definitely gonna play\na part in that, but auditing for\n\n90\n00:03:44.174 --> 00:03:46.152\nauditing's sake is not what we wanna do.\n\n91\n00:03:46.152 --> 00:03:49.308\nWe wanna make sure that we're not\njust checking off the proverbial box,\n\n92\n00:03:49.308 --> 00:03:52.723\nsaying yeah, we've got a policy we audit,\nwe're good, we're secure, and\n\n93\n00:03:52.723 --> 00:03:54.396\nthen we feel better about ourselves.\n\n94\n00:03:54.396 --> 00:03:57.083\nBut the reality is-\n&gt;&gt; You're not taking the time to go\n\n95\n00:03:57.083 --> 00:04:00.101\nthrough all those reports sometimes,\nand then you're just sometimes\n\n96\n00:04:00.101 --> 00:04:03.137\noverlooking things, like little\nthe little boy who called wolf, no?\n\n97\n00:04:03.137 --> 00:04:05.283\n&gt;&gt; Cried wolf, but\nclose enough, yes, right?\n\n98\n00:04:05.283 --> 00:04:05.886\n&gt;&gt; Called wolf.\n\n99\n00:04:05.886 --> 00:04:07.020\n&gt;&gt; Called wolf.\nCried wolf.\n\n100\n00:04:07.020 --> 00:04:09.810\n&gt;&gt; [LAUGH] He called the wolf, and-\n&gt;&gt; He called them up on the phone.\n\n101\n00:04:09.810 --> 00:04:12.030\nHey wolfie, what's going on,\nwhatcha doing, right?\n\n102\n00:04:12.030 --> 00:04:12.910\nThat kind of thing.\n\n103\n00:04:12.910 --> 00:04:16.460\nYeah, we don't wanna be that person,\nright?\n\n104\n00:04:16.460 --> 00:04:19.780\nWe don't wanna be that person who is\ncreating an auditing capability, but\n\n105\n00:04:19.780 --> 00:04:23.905\nisn't executing on it and utilizing it, or\nleveraging it, right, to Cherokee's point.\n\n106\n00:04:23.905 --> 00:04:27.265\nSo I'm just giving you a little sense\nof the real world and a sense of\n\n107\n00:04:27.265 --> 00:04:31.651\nthe cautionary tale, not the boy who cried\nwolf, but the boy who cried audit, right?\n\n108\n00:04:31.651 --> 00:04:34.280\n&gt;&gt; [LAUGH]\n&gt;&gt; Because we just don't want to\n\n109\n00:04:34.280 --> 00:04:36.890\ngo ahead and overwhelm ourselves.\n\n110\n00:04:36.890 --> 00:04:38.660\nWe live in the age of big data.\n\n111\n00:04:38.660 --> 00:04:41.350\nWe live in the age of, I have so\n\n112\n00:04:41.350 --> 00:04:46.060\nmuch access to information that\nI can actually overwhelm myself.\n\n113\n00:04:46.060 --> 00:04:48.170\nAnd instead of understanding\nwhat's happening,\n\n114\n00:04:48.170 --> 00:04:52.060\nI could drown in that sea of\nbig data that we are creating.\n\n115\n00:04:52.060 --> 00:04:56.220\nAnd so, we have to find a way to vet and\nto fine tune these opportunities when\n\n116\n00:04:56.220 --> 00:04:59.540\nthey're presented with regards\nto pursuing securities.\n\n117\n00:04:59.540 --> 00:05:01.530\nTo that end,\nlet's talk about how we audit.\n\n118\n00:05:01.530 --> 00:05:02.480\nWhat we do, where we do it.\n\n119\n00:05:02.480 --> 00:05:03.580\nWhat are some best practices?\n\n120\n00:05:03.580 --> 00:05:06.290\nAlso what are some requirements\nthat may be important to us?\n\n121\n00:05:06.290 --> 00:05:08.662\nAgain, this is kind of the basic\nentry level conversation.\n\n122\n00:05:08.662 --> 00:05:10.413\nWe're gonna definitely talk\nabout advanced themes here.\n\n123\n00:05:10.413 --> 00:05:14.058\nAnd we'll talk about setting up event\nlog subscriptions for instance and\n\n124\n00:05:14.058 --> 00:05:17.950\nforwarding event logs from different\nsystems, in lieu of using a CIM system.\n\n125\n00:05:17.950 --> 00:05:19.700\nShow you how to do that with Windows.\n\n126\n00:05:19.700 --> 00:05:21.190\nYou may or may not know we can do that.\n\n127\n00:05:21.190 --> 00:05:22.410\nWe'll show you how to do that.\n\n128\n00:05:22.410 --> 00:05:26.810\nI'll show you how to use and take a look\nat a command line tool called auditpol,\n\n129\n00:05:26.810 --> 00:05:28.380\nan oldie but\na goodie in other words, right?\n\n130\n00:05:28.380 --> 00:05:31.060\nOne of those free PowerShell\ntools been around forever.\n\n131\n00:05:31.060 --> 00:05:33.930\nLet's us look at the audit policy\non a system from the command line.\n\n132\n00:05:33.930 --> 00:05:36.278\nSo we'll dip under the hood a little\nbit and take a look at these things.\n\n133\n00:05:36.278 --> 00:05:38.841\nBut we wanna have a better sense\nof some the mechanics, and\n\n134\n00:05:38.841 --> 00:05:40.477\nthe basic tools we need to use first.\n\n135\n00:05:40.477 --> 00:05:43.369\nSo I'm in the Group Policy\nManagement Club, so hopefully,\n\n136\n00:05:43.369 --> 00:05:44.455\nthis is not new to you.\n\n137\n00:05:44.455 --> 00:05:48.096\nIf you've been watching some of our\nprior episodes on securing server,\n\n138\n00:05:48.096 --> 00:05:49.596\nor Windows Server 2016.\n\n139\n00:05:49.596 --> 00:05:54.575\nYou've seen myself and Cherokee in and\nout of these consoles on a regular basis\n\n140\n00:05:54.575 --> 00:05:59.665\ntalking to you and demoing with you around\na variety of topics and skill sets.\n\n141\n00:05:59.665 --> 00:06:02.065\nAs a matter of fact,\nyou don't really see it, but my hands,\n\n142\n00:06:02.065 --> 00:06:04.577\nbecause you can't see them cuz they're\npn the desk and they're below me here.\n\n143\n00:06:04.577 --> 00:06:06.587\nIt's actually Cherokee who\ndoes all the hard work here.\n\n144\n00:06:06.587 --> 00:06:07.322\nShe's the one who drives the mouse.\n\n145\n00:06:07.322 --> 00:06:08.616\n&gt;&gt; [LAUGH]\n&gt;&gt; All I do is talking.\n\n146\n00:06:08.616 --> 00:06:11.595\nShe's in here going okay,\nshe's actually doing everything.\n\n147\n00:06:11.595 --> 00:06:12.641\n&gt;&gt; Yeah.\n\n148\n00:06:12.641 --> 00:06:16.337\n&gt;&gt; It just looks like from here up, you\ndon't see it but she's actually doing all\n\n149\n00:06:16.337 --> 00:06:19.820\nthe magic behind the scenes while\nwe're in here doing the demos, right?\n\n150\n00:06:19.820 --> 00:06:20.940\nYou thought it was me all this time.\n\n151\n00:06:20.940 --> 00:06:21.618\nI can't type, I can't spell.\n\n152\n00:06:21.618 --> 00:06:22.916\nI actually don't know how to do both.\n\n153\n00:06:22.916 --> 00:06:24.590\n&gt;&gt; But that was our secret,\nand now they know.\n\n154\n00:06:24.590 --> 00:06:26.860\n&gt;&gt; Well, it is, but\nwe're letting cats out of the bag here.\n\n155\n00:06:26.860 --> 00:06:27.380\n&gt;&gt; Okay.\n&gt;&gt; Right?\n\n156\n00:06:27.380 --> 00:06:28.041\nSo that's the whole thing.\n\n157\n00:06:28.041 --> 00:06:31.495\nWe'll have to redact this entire\nepisode like nobody can see anything or\n\n158\n00:06:31.495 --> 00:06:32.523\nhear anything in it.\n\n159\n00:06:32.523 --> 00:06:35.331\n&gt;&gt; We'll have the 2012\nblacked out with a sharpie.\n\n160\n00:06:35.331 --> 00:06:37.719\n&gt;&gt; Exactly, cuz it would be a security\nepisode, we should do that.\n\n161\n00:06:37.719 --> 00:06:41.796\nSo that's another thing we gotta put\non the features we want, [INAUDIBLE]\n\n162\n00:06:41.796 --> 00:06:43.707\n&gt;&gt; Okay, for the action capabilities.\n\n163\n00:06:43.707 --> 00:06:46.444\n&gt;&gt; We want the Vegas game lights and\nall that stuff, well finger puppets.\n\n164\n00:06:46.444 --> 00:06:48.027\n&gt;&gt; Finger puppets\n&gt;&gt; And I thought,\n\n165\n00:06:48.027 --> 00:06:50.636\nthis is our random side by the way for\nthis episode.\n\n166\n00:06:50.636 --> 00:06:52.354\n&gt;&gt; Sorry\n&gt;&gt; So I thought, right?\n\n167\n00:06:52.354 --> 00:06:54.398\nYeah, we didn't think about it\nwhen we were doing this, but\n\n168\n00:06:54.398 --> 00:06:56.620\nremember Peter has that cat paw,\nthat crazy cat paw thing he has?\n\n169\n00:06:56.620 --> 00:06:57.167\n&gt;&gt; Yeah.\n\n170\n00:06:57.167 --> 00:06:58.268\n[LAUGH]\n&gt;&gt; We could have used that.\n\n171\n00:06:58.268 --> 00:07:00.099\nWe didn't think, just like the keys.\n\n172\n00:07:00.099 --> 00:07:02.247\n&gt;&gt; Yeah, we have like three of them,\nso I'll get one of those, yeah.\n\n173\n00:07:02.247 --> 00:07:03.426\n&gt;&gt; They're around, we could so\nyou could just kind of do that.\n\n174\n00:07:03.426 --> 00:07:04.259\n&gt;&gt; You just wait.\n\n175\n00:07:04.259 --> 00:07:05.094\n&gt;&gt; There you go.\n\n176\n00:07:05.094 --> 00:07:06.491\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n177\n00:07:06.491 --> 00:07:08.041\nso cool new stuff in store for you.\n\n178\n00:07:08.041 --> 00:07:10.510\nAll right, let's get back to\nwhat we're here to talk about.\n\n179\n00:07:10.510 --> 00:07:11.600\nAre you ready to start driving?\n\n180\n00:07:11.600 --> 00:07:14.450\nI should actually stand like this,\nso that nobody could see.\n\n181\n00:07:14.450 --> 00:07:16.775\nLike it's in my hands, yet\nthe mouse will still move, right?\n\n182\n00:07:16.775 --> 00:07:18.180\n[LAUGH] All right, so we're gonna go in.\n\n183\n00:07:18.180 --> 00:07:20.270\nLet's take a look at how\nwe set up some auditing.\n\n184\n00:07:20.270 --> 00:07:22.270\nSo I'm in the group policy\nmanagement console.\n\n185\n00:07:22.270 --> 00:07:23.540\nAnd you've seen me come in before,\n\n186\n00:07:23.540 --> 00:07:27.190\nwe've talked about the difference\nbetween the default domain policy and\n\n187\n00:07:27.190 --> 00:07:30.600\nas you have it, or see it exposed to\nthe default domain controllers policy.\n\n188\n00:07:30.600 --> 00:07:33.870\nI want to remind you of that quickly,\ncuz that's one of the basic blocking and\n\n189\n00:07:33.870 --> 00:07:38.300\ntackling elements of security is,hey,\nwhere do I go to set those policies?\n\n190\n00:07:38.300 --> 00:07:40.540\nWhat is the right level,\nthe right expectation, and\n\n191\n00:07:40.540 --> 00:07:45.420\nthe right application of policy in this\nconsole to get the right coverage I need?\n\n192\n00:07:45.420 --> 00:07:49.560\nNot to high up, if we don't wanna cover\neverything, not too far down in 1OU,\n\n193\n00:07:49.560 --> 00:07:51.130\nif I don't wanna be too specific.\n\n194\n00:07:51.130 --> 00:07:52.478\nSo we've gotta figure that out, right?\n\n195\n00:07:52.478 --> 00:07:56.867\nSo when we're talking about this, remember\nthe default domain policy covers any\n\n196\n00:07:56.867 --> 00:08:00.886\nmember of the domain, computer and\nor user, that authenticates logs in.\n\n197\n00:08:00.886 --> 00:08:04.311\nGreat for security settings that have\nto touch everybody and everything.\n\n198\n00:08:04.311 --> 00:08:06.751\nBut auditing is usually not something\nthat has to touch everybody and\n\n199\n00:08:06.751 --> 00:08:07.810\neverything, right?\n\n200\n00:08:07.810 --> 00:08:10.910\nAnd so as a result we set things like\n\n201\n00:08:10.910 --> 00:08:14.060\npassword policies up at\nthe Default Domain Policy level.\n\n202\n00:08:14.060 --> 00:08:15.860\nHow long should our password be?\n\n203\n00:08:15.860 --> 00:08:17.130\nHow complex?\n\n204\n00:08:17.130 --> 00:08:19.420\nHow long should we keep\na history record for?\n\n205\n00:08:19.420 --> 00:08:22.430\nWhat's the minimum/maximum age\nrequirements on passwords?\n\n206\n00:08:22.430 --> 00:08:26.030\nThose things are set by default,\nand by design, right,\n\n207\n00:08:26.030 --> 00:08:27.590\nat the Default Domain Policy.\n\n208\n00:08:27.590 --> 00:08:29.603\nBut as I've pointed out\nin some prior episodes,\n\n209\n00:08:29.603 --> 00:08:32.710\nwe don't tend to set our audit\nrequirements at the Default Domain Policy.\n\n210\n00:08:32.710 --> 00:08:36.998\nBecause we don't wanna audit every\nmachine, and every user in every machine,\n\n211\n00:08:36.998 --> 00:08:38.790\nin the domain, traditionally.\n\n212\n00:08:38.790 --> 00:08:43.018\nIt's just a wealth of information that's\ntoo involved, too much, and overwhelming.\n\n213\n00:08:43.018 --> 00:08:46.620\nInstead, we wanna come down to\nour domain controller's OU,\n\n214\n00:08:46.620 --> 00:08:50.340\nwhich is where we see on the default\ndomain controller's policy\n\n215\n00:08:50.340 --> 00:08:52.870\na better thought process\naround implementing auditing.\n\n216\n00:08:52.870 --> 00:08:57.214\nAnd I showed you when I went into this\npolicy that auditing is not enabled by\n\n217\n00:08:57.214 --> 00:08:58.417\ndefault anywhere.\n\n218\n00:08:58.417 --> 00:09:00.634\nIt's something you have to turn on.\n\n219\n00:09:00.634 --> 00:09:02.090\nLet me show you what I mean by that.\n\n220\n00:09:02.090 --> 00:09:04.220\nLet's go in and just Edit real quick.\n\n221\n00:09:04.220 --> 00:09:07.242\nAnd when we come in up under\nthe Computer area go to Policies,\n\n222\n00:09:07.242 --> 00:09:08.675\ngo to our Windows Settings.\n\n223\n00:09:08.675 --> 00:09:11.550\nLet me just open this up so\nwe can see this here.\n\n224\n00:09:11.550 --> 00:09:14.765\nAnd expand, there we go, expand this out.\n\n225\n00:09:14.765 --> 00:09:21.230\nCome up under Security Settings and we go\nin here and we go to Event log, right?\n\n226\n00:09:21.230 --> 00:09:24.050\nWe could see some control\nof the event logs.\n\n227\n00:09:24.050 --> 00:09:27.620\nA secondary part of auditing, people\noften forget, hey, how big is the log?\n\n228\n00:09:27.620 --> 00:09:28.730\nWhere's it gonna be?\n\n229\n00:09:28.730 --> 00:09:29.940\nHow long do we keep it for?\n\n230\n00:09:29.940 --> 00:09:31.390\nSo once we gather all the data,\nwhat do we do with it?\n\n231\n00:09:31.390 --> 00:09:33.492\nYou can manage all that here.\n\n232\n00:09:33.492 --> 00:09:35.490\nWe'll have more to say about\nthat in just a minute.\n\n233\n00:09:35.490 --> 00:09:37.080\nBut if you come into Local Policies,\n\n234\n00:09:37.080 --> 00:09:41.520\ngo to Audit Policy, you can see\nthe Audit Policy is not defined here.\n\n235\n00:09:41.520 --> 00:09:43.530\nIf you go and\nlook at the Default Domain Policy,\n\n236\n00:09:43.530 --> 00:09:45.880\nyou'll find Audit Policy is\nnot defined there either.\n\n237\n00:09:45.880 --> 00:09:49.890\nWe don't audit by default and\nby design on a Windows operating system,\n\n238\n00:09:49.890 --> 00:09:52.042\nwe never have out of the box.\n\n239\n00:09:52.042 --> 00:09:52.670\nYou've gotta go in,\n\n240\n00:09:52.670 --> 00:09:57.060\nand you've gotta set auditing up as\na group policy driven element separately.\n\n241\n00:09:57.060 --> 00:10:00.060\nThat's not to say that we don't keep\ntrack of events in the event log.\n\n242\n00:10:00.060 --> 00:10:03.650\nWe do audit logon on success or\nfailure on a local machine,\n\n243\n00:10:03.650 --> 00:10:06.790\nmachine by machine natively and\nby designing the operating system.\n\n244\n00:10:06.790 --> 00:10:08.948\nWe've done that since Windows 95.\n\n245\n00:10:08.948 --> 00:10:13.277\nIt's not that we don't audit on an\nindividual machine by collecting events,\n\n246\n00:10:13.277 --> 00:10:16.362\nbut auditing for\nevents globally through the domain and\n\n247\n00:10:16.362 --> 00:10:21.220\ncollecting events locally on a single\nmachine are two very different activities.\n\n248\n00:10:21.220 --> 00:10:23.320\nWe collect events by machine,\n\n249\n00:10:23.320 --> 00:10:25.520\nas part of the standard build\nof the operating system.\n\n250\n00:10:25.520 --> 00:10:29.890\nBut auditing events on a domain basis,\nat domain controllers, or\n\n251\n00:10:29.890 --> 00:10:32.500\nacross multiple machines,\nis not done by default.\n\n252\n00:10:32.500 --> 00:10:33.760\nYou must enable that.\n\n253\n00:10:33.760 --> 00:10:38.047\nSo we can turn on auditing here, or we can\ngo through and audit for account logon or\n\n254\n00:10:38.047 --> 00:10:41.642\nmanagement or directory service access or\nany of the other 12 or so\n\n255\n00:10:41.642 --> 00:10:43.551\nitems that exist here if we want to.\n\n256\n00:10:43.551 --> 00:10:44.677\nSo tough to decide.\n\n257\n00:10:44.677 --> 00:10:46.996\nAnd that word document I showed\nyou a couple minutes ago,\n\n258\n00:10:46.996 --> 00:10:48.649\ndetails out all theses settings for us.\n\n259\n00:10:48.649 --> 00:10:52.685\nSo just keep in mind we can go in here and\nwe could audit at this level.\n\n260\n00:10:52.685 --> 00:10:57.738\nBut we also have the ability to audit\non individual files or directories.\n\n261\n00:10:57.738 --> 00:11:01.640\nThis is another area people sometimes\ndon't realize we can engage around\n\n262\n00:11:01.640 --> 00:11:02.940\nthrough the security properties.\n\n263\n00:11:02.940 --> 00:11:06.180\nSo let's just take a look real quick,\nit's gonna bring up the Windows Explorer,\n\n264\n00:11:06.180 --> 00:11:11.010\nlet's go in just to our desktop here,\nwe'll find one of our folders.\n\n265\n00:11:12.240 --> 00:11:14.520\nOr actually let's go into\nthe C drive rather and\n\n266\n00:11:14.520 --> 00:11:17.620\nfind one of our folders, the IT folder,\ndoesn't matter what it is.\n\n267\n00:11:17.620 --> 00:11:19.090\nRight click, go to Properties.\n\n268\n00:11:20.740 --> 00:11:23.300\nAnd let's move this over so we can see.\n\n269\n00:11:23.300 --> 00:11:27.980\nLet's go over here to Security, let's go\nto Edit, or actually let's go to Advanced.\n\n270\n00:11:29.260 --> 00:11:35.000\nAnd on the Auditing tab you'll se here\nwe have the ability, drag that over.\n\n271\n00:11:35.000 --> 00:11:37.779\nWe have the ability here\nto add auditing entries.\n\n272\n00:11:39.200 --> 00:11:39.964\nAnd I can go in and\n\n273\n00:11:39.964 --> 00:11:43.468\nI can select a principle, a principle\nis just a fancy access control term for\n\n274\n00:11:43.468 --> 00:11:47.050\na user or a group that's going to\nan object that's gonna generate activity.\n\n275\n00:11:47.050 --> 00:11:49.790\nYou could see here object types, right?\n\n276\n00:11:49.790 --> 00:11:53.697\nWe have built in security principles,\nuser groups, maybe service accounts,\n\n277\n00:11:53.697 --> 00:11:55.634\nmaybe computers, we can add those in.\n\n278\n00:11:55.634 --> 00:11:59.110\nTalked about the value of keeping track\nof some of that stuff before, right?\n\n279\n00:11:59.110 --> 00:12:02.870\nAnd so if I wanna do PladDM01, let's say.\n\n280\n00:12:02.870 --> 00:12:04.061\nIf I spell that correctly.\n\n281\n00:12:06.810 --> 00:12:11.530\nWhich would be one of the computers\nin my domain demo environment.\n\n282\n00:12:11.530 --> 00:12:15.310\nI could add that in and\nthen I can look at, or a user or a group,\n\n283\n00:12:15.310 --> 00:12:20.210\ndoesn't matter, I can look at the type\nof activity, success or failure or all.\n\n284\n00:12:20.210 --> 00:12:24.760\nSo I can capture just one side, the other\nside, or both sides of the access and\n\n285\n00:12:24.760 --> 00:12:26.370\ninteraction coin.\n\n286\n00:12:26.370 --> 00:12:29.830\nAnd then I can look at the use\nof basic permissions, right?\n\n287\n00:12:29.830 --> 00:12:33.271\nRead and execute, list folder, read,\nwrite, full control, modify, whatever.\n\n288\n00:12:33.271 --> 00:12:37.120\nAnd even show advance permissions and\nlist the extended permission set.\n\n289\n00:12:37.120 --> 00:12:40.460\nLet you know we have so\nmany read and write permissions.\n\n290\n00:12:40.460 --> 00:12:41.966\nCreate permissions, not just read/write,\nbut read attributes, write attributes.\n\n291\n00:12:41.966 --> 00:12:43.254\n&gt;&gt; That's right, really customize those.\n\n292\n00:12:43.254 --> 00:12:45.820\n&gt;&gt; Standard attributes, you can do that.\n\n293\n00:12:45.820 --> 00:12:51.110\nSo I can go and do all this, then I can\nadd, down here, I can add a condition.\n\n294\n00:12:51.110 --> 00:12:51.888\nCan we go full screen\njust while I do this?\n\n295\n00:12:51.888 --> 00:12:53.410\nCuz you wanna be able to see this.\n\n296\n00:12:53.410 --> 00:12:56.071\nSo add a condition to limit\nthe scope of the auditing entry,\n\n297\n00:12:56.071 --> 00:12:58.745\nsecurity events will be logged\nonly if conditions are met.\n\n298\n00:12:58.745 --> 00:13:00.290\nSo I can go add a condition here.\n\n299\n00:13:01.490 --> 00:13:05.239\nGet this nice little pull down filterable\nlist if you're familiar with filtering in\n\n300\n00:13:05.239 --> 00:13:06.940\na spreadsheet for instance, right?\n\n301\n00:13:06.940 --> 00:13:10.210\nYou've probably seen the column-based or\nbased filtering.\n\n302\n00:13:10.210 --> 00:13:12.900\nWe can do that.\nVery similar to what we see here.\n\n303\n00:13:12.900 --> 00:13:17.140\nSo you'll see here we could specify\neither use or device, right?\n\n304\n00:13:17.140 --> 00:13:20.886\nSpecify authentication silo or\ngroup, whatever it may be.\n\n305\n00:13:20.886 --> 00:13:24.540\nObviously you have to make some choices\nhere, right, based on certain things.\n\n306\n00:13:24.540 --> 00:13:28.850\nAre we a member of and then we have\nto specify what the value may be.\n\n307\n00:13:28.850 --> 00:13:32.360\nWe have to click, Add a name, we have\nto Add Items here to add something.\n\n308\n00:13:32.360 --> 00:13:35.688\nSo we could be a user, a member of a\ncertain group in order to be able to drive\n\n309\n00:13:35.688 --> 00:13:38.621\nediting, you know,\nhigh auditing rather, hypothetically.\n\n310\n00:13:38.621 --> 00:13:40.030\nWhat's our go to group, right?\n\n311\n00:13:40.030 --> 00:13:41.460\nThat is-\n&gt;&gt; Guest users?\n\n312\n00:13:41.460 --> 00:13:42.880\n&gt;&gt; Domain guests, right?\n\n313\n00:13:42.880 --> 00:13:45.611\n&gt;&gt; Yeah.\n&gt;&gt; Except I didn't spell that right,\n\n314\n00:13:45.611 --> 00:13:46.272\nI doman.\n\n315\n00:13:46.272 --> 00:13:48.721\nAll right, you've gotta learn how to spell\nwhen you do these demos, girl, gee whiz.\n\n316\n00:13:48.721 --> 00:13:51.220\n&gt;&gt; [LAUGH] Sorry, Adam.\n\n317\n00:13:51.220 --> 00:13:52.720\n&gt;&gt; Making me look bad here.\n\n318\n00:13:52.720 --> 00:13:54.461\nAll right, so Domain guests, all right.\n\n319\n00:13:54.461 --> 00:13:57.010\nSo we're going to add that in,\nlet's say, right?\n\n320\n00:13:57.010 --> 00:14:00.712\nAnd so when I go and\nI do something like this, right,\n\n321\n00:14:00.712 --> 00:14:02.911\nI can add these conditions in.\n\n322\n00:14:02.911 --> 00:14:05.187\nAnd then as I stack them up, right?\n\n323\n00:14:05.187 --> 00:14:09.141\nOr you could see there, you don't see it\nselected just cuz it's just in the pick\n\n324\n00:14:09.141 --> 00:14:12.164\nlist, but you could see Domain\nguests is selected, right?\n\n325\n00:14:12.164 --> 00:14:15.840\nI have to meet these conditions in\norder for auditing to take place.\n\n326\n00:14:15.840 --> 00:14:20.870\nSo I can build some very detailed\nlogic and very constrained and\n\n327\n00:14:20.870 --> 00:14:26.490\ndefined writing controlled, scoped and\ntailored information management here.\n\n328\n00:14:26.490 --> 00:14:29.450\nBut I'm doing this on a single directory,\nor in a single file.\n\n329\n00:14:29.450 --> 00:14:31.560\nImagine the amount of work\nI have to go through and\n\n330\n00:14:31.560 --> 00:14:35.570\nthe return on the investment is I\nget audit events on one file, right?\n\n331\n00:14:35.570 --> 00:14:37.450\nWhich may be important, but\n\n332\n00:14:37.450 --> 00:14:42.410\nwhat if I have to worry about a file\nserver that's got 1,000 files on it,\n\n333\n00:14:42.410 --> 00:14:46.060\nthat a 100 people in my organization\nare accessing on a regular basis?\n\n334\n00:14:46.060 --> 00:14:49.045\nThis approach isn't gonna work\nbecause it's just too time-intensive.\n\n335\n00:14:49.045 --> 00:14:50.750\nIt's gonna take way too long.\n\n336\n00:14:50.750 --> 00:14:55.560\nSo for certain folders or directories,\nthat may be really important,\n\n337\n00:14:55.560 --> 00:14:59.040\nit's gonna be valuable for\nme to be able to drill down, right?\n\n338\n00:14:59.040 --> 00:15:02.320\nAnd I can replace all child object\nauditing entries with inheritable auditing\n\n339\n00:15:02.320 --> 00:15:03.970\nentries from this object.\n\n340\n00:15:03.970 --> 00:15:06.510\nMeaning I can set this up\nat the directory level, and\n\n341\n00:15:06.510 --> 00:15:08.930\nI can force these settings\ndown through inheritance.\n\n342\n00:15:08.930 --> 00:15:11.970\nSo I can get a little economy of\nscale there, but it's still gonna\n\n343\n00:15:11.970 --> 00:15:15.730\ntake a lot of work if I have to\nreproduce this across multiple systems.\n\n344\n00:15:15.730 --> 00:15:19.520\nSo while I can do some of these things\nliterally down to the folder or\n\n345\n00:15:19.520 --> 00:15:23.820\nfile level, it may not make as much sense\nas being able to drive auditing up at\n\n346\n00:15:23.820 --> 00:15:25.380\nthe policy level, right?\n\n347\n00:15:25.380 --> 00:15:28.820\nJust wanna make sure we're aware of this,\nand thinking about the basics and\n\n348\n00:15:28.820 --> 00:15:31.970\nthen some of the more advanced steps we\ntake as we start to look at auditing.\n\n349\n00:15:31.970 --> 00:15:36.700\nSo we can set auditing up here, right,\nthrough a group policy solution.\n\n350\n00:15:36.700 --> 00:15:40.750\nEnable one or more of these, just go in,\ndouble click, define the policy.\n\n351\n00:15:40.750 --> 00:15:43.970\nDo I wanna audit only for success,\nonly for failure, or both?\n\n352\n00:15:43.970 --> 00:15:46.910\nJust like we saw on the folder\nin File Auditing tab when\n\n353\n00:15:46.910 --> 00:15:48.190\nwe looked at the advanced entries.\n\n354\n00:15:48.190 --> 00:15:50.830\nWe could do one or\nthe other or both, either way.\n\n355\n00:15:50.830 --> 00:15:52.850\nNow, I often talk to customers about this,\nright?\n\n356\n00:15:52.850 --> 00:15:56.224\nIf you only audit for success,\nit's not that failures aren't happening,\n\n357\n00:15:56.224 --> 00:15:57.975\nyou're just not seeing them, right?\n\n358\n00:15:57.975 --> 00:16:01.244\nIf we only audit it for failures,\nit's not that success is happening,\n\n359\n00:16:01.244 --> 00:16:03.815\nyou're just not being shown\nwhen the success happens.\n\n360\n00:16:03.815 --> 00:16:06.852\nFrom a forensics perspective\nLooking at events and\n\n361\n00:16:06.852 --> 00:16:10.100\nlooking at audit trails,\nif I only audit for success,\n\n362\n00:16:10.100 --> 00:16:15.380\nI don't see the 200 bad attempts to break\nin before the 1 that shows me they got in.\n\n363\n00:16:15.380 --> 00:16:17.600\nI only see the fact that\nat 2 in the morning,\n\n364\n00:16:17.600 --> 00:16:20.830\nrandomly, an account that normally\nnever logs in suddenly logged in.\n\n365\n00:16:20.830 --> 00:16:22.710\nThat may be enough of a red flag But\n\n366\n00:16:22.710 --> 00:16:26.160\nI may miss that in the sea of\nall the other stuff going on but\n\n367\n00:16:26.160 --> 00:16:29.660\nif I can correlate that with 200 failed\nlog on attempts for that account for\n\n368\n00:16:29.660 --> 00:16:34.170\nthat account over four hours prior every\n30 seconds, that is a huge red flag.\n\n369\n00:16:34.170 --> 00:16:35.170\n&gt;&gt; Provide some insights, yeah.\n\n370\n00:16:35.170 --> 00:16:37.540\n&gt;&gt; Right?\nThat's gonna give me a lot more value in\n\n371\n00:16:37.540 --> 00:16:38.640\nterms of what I see.\n\n372\n00:16:38.640 --> 00:16:41.740\nSo, you really got to think about what am\nI looking for and how am I doing that.\n\n373\n00:16:41.740 --> 00:16:45.430\nBoth success and failure Very important\nthink about getting book ends, or both\n\n374\n00:16:45.430 --> 00:16:49.880\nends, developer as we look at the scope\nof activities and their distribution.\n\n375\n00:16:49.880 --> 00:16:51.470\nSo well unable that.\n\n376\n00:16:51.470 --> 00:16:52.870\nJust hit apply there.\n\n377\n00:16:52.870 --> 00:16:54.340\nClick ok.\nAll right so we've got that.\n\n378\n00:16:54.340 --> 00:16:56.130\nWe love to walk down this list.\n\n379\n00:16:56.130 --> 00:16:59.088\nNow I mentioned, if that log here,\nbecause I want you to be thinking,\n\n380\n00:16:59.088 --> 00:17:01.700\nnot just about okay great I\ngot all the auditing set up.\n\n381\n00:17:01.700 --> 00:17:04.160\nAdam said do these things,\ndo it this way, success failure.\n\n382\n00:17:04.160 --> 00:17:05.440\nSee everything, I'm good.\n\n383\n00:17:05.440 --> 00:17:06.560\nNo you're not.\n\n384\n00:17:06.560 --> 00:17:09.510\nAll you are is now gonna\nget a bunch of information.\n\n385\n00:17:09.510 --> 00:17:10.500\nBut where are you putting it?\n\n386\n00:17:10.500 --> 00:17:11.480\nHow long's it gonna be there?\n\n387\n00:17:11.480 --> 00:17:12.840\nWhat are you gonna do with it?\n\n388\n00:17:12.840 --> 00:17:15.450\nThese are questions you gotta answer and\nthink about as well.\n\n389\n00:17:15.450 --> 00:17:17.950\nAnd when we go in and\nlook at the event log area here,\n\n390\n00:17:17.950 --> 00:17:21.480\nwe get the opportunity to\naddress some of these concerns.\n\n391\n00:17:21.480 --> 00:17:25.090\nMaximum application log size,\nhow big do you want these logs to get?\n\n392\n00:17:25.090 --> 00:17:27.700\nRight, by default,\nthey may be only ten megs in size,\n\n393\n00:17:27.700 --> 00:17:29.920\nwhat if they overgrow that\nare they circular your log and\n\n394\n00:17:29.920 --> 00:17:33.090\nthey gonna override each other, or\nyou gonna lose entries over time?\n\n395\n00:17:33.090 --> 00:17:35.960\nHard to say, right.So you gotta\nbe thinking about these things.\n\n396\n00:17:35.960 --> 00:17:38.740\nSo maximum, [INAUDIBLE] System log sites.\n\n397\n00:17:38.740 --> 00:17:40.170\nYou can imagine what goes on there,\n\n398\n00:17:40.170 --> 00:17:43.060\nprevent local guess group\nfrom accessing these logs.\n\n399\n00:17:43.060 --> 00:17:44.660\nVery important from a security standpoint.\n\n400\n00:17:44.660 --> 00:17:46.310\n&gt;&gt; It really is.\n&gt;&gt; We don't want people in there,\n\n401\n00:17:46.310 --> 00:17:48.000\nbecause they could erase\nthose log entries.\n\n402\n00:17:48.000 --> 00:17:48.640\n&gt;&gt; Hide their tracks.\n\n403\n00:17:48.640 --> 00:17:51.180\n&gt;&gt; Absolutely, and that would,\nof course, be a very big problem.\n\n404\n00:17:52.270 --> 00:17:53.920\nOur retain application logs.\n\n405\n00:17:53.920 --> 00:17:58.940\nAgain, all three of the standard core\nlocks, security and system all the same.\n\n406\n00:17:58.940 --> 00:18:00.120\nRetain, okay great.\n\n407\n00:18:00.120 --> 00:18:01.610\nHow long do we want to retain them for?\n\n408\n00:18:01.610 --> 00:18:05.470\nRetain logs that are older than,\noverwrite older than so many days.\n\n409\n00:18:05.470 --> 00:18:08.000\nAgain, you don't know when\nthat attack's coming.\n\n410\n00:18:08.000 --> 00:18:11.290\nIs it 7 days from now,\n2 days from now, 1,000 days from now?\n\n411\n00:18:11.290 --> 00:18:12.080\nHow far back and\n\n412\n00:18:12.080 --> 00:18:15.730\nhow from a historical standpoint\nhow much information do we want?\n\n413\n00:18:15.730 --> 00:18:19.410\nIf you're sending all these logs off and\nshipping them out through a CIS log or\n\n414\n00:18:19.410 --> 00:18:23.570\nSEM system, then obviously, these policy\nsettings may not be all that important for\n\n415\n00:18:23.570 --> 00:18:27.550\nyou because you've got a third party\nsystem that is pulling them in, right?\n\n416\n00:18:27.550 --> 00:18:30.610\nSo as a result, we may or\nmay not be as concerned about this.\n\n417\n00:18:30.610 --> 00:18:34.600\nBut If you're not using all the collection\nservices of some kind, however,\n\n418\n00:18:34.600 --> 00:18:39.530\nyou're doing it to collect log\nfiles from various systems.\n\n419\n00:18:39.530 --> 00:18:42.390\nYou've gotta be thinking local\nbefore you can be thinking I'll just\n\n420\n00:18:42.390 --> 00:18:44.530\nthrow them out to the wind and\nhopefully they catch and\n\n421\n00:18:44.530 --> 00:18:49.390\nsail off to that great log storage\nmanagement system in the sky all right.\n\n422\n00:18:49.390 --> 00:18:50.490\nRetention method, right.\n\n423\n00:18:50.490 --> 00:18:52.270\nWhat's our retention\nmethod gonna be as well?\n\n424\n00:18:53.720 --> 00:18:54.530\nDefine the policy.\n\n425\n00:18:54.530 --> 00:18:58.740\nDo I override events by day, override\nevents as needed, do not override?\n\n426\n00:18:58.740 --> 00:18:59.660\nIt's clear log group.\n\n427\n00:18:59.660 --> 00:19:00.230\nDo not override.\n\n428\n00:19:00.230 --> 00:19:01.360\nClear log manually.\n\n429\n00:19:01.360 --> 00:19:03.990\nAgain, you've gotta pair all\nthese settings together to\n\n430\n00:19:03.990 --> 00:19:07.770\nbe able to go from hey,\nI've got some basic ideas about auditing,\n\n431\n00:19:07.770 --> 00:19:11.130\nsome basic capabilities to hey,\nI've really got a handle on this.\n\n432\n00:19:11.130 --> 00:19:11.770\nI'm monitoring,\n\n433\n00:19:11.770 --> 00:19:15.270\nI'm managing, I'm doing this in a way\nthat actually makes sense to me.\n\n434\n00:19:15.270 --> 00:19:18.190\nSo it is really important for\nyou to be thinking about this.\n\n435\n00:19:18.190 --> 00:19:22.580\nBecause if you're not able to go through\nand deal with these kind of settings,\n\n436\n00:19:22.580 --> 00:19:25.530\nyou're really only touching the very\nedge of the auditing platform,\n\n437\n00:19:25.530 --> 00:19:28.260\nand you're not really\nconfiguring anything other than\n\n438\n00:19:28.260 --> 00:19:31.220\nsimply what the events\nare that feed the logs.\n\n439\n00:19:31.220 --> 00:19:34.910\nBut the log here grooving in\nmaintenance itself not being addressed,\n\n440\n00:19:34.910 --> 00:19:36.440\nyou're really just not doing your job.\n\n441\n00:19:36.440 --> 00:19:38.538\nYou're not practicing due care and\ndue diligence, and\n\n442\n00:19:38.538 --> 00:19:40.598\nyou're not gonna have\nthe desired outcomes you need.\n\n443\n00:19:40.598 --> 00:19:43.476\nIt's gonna be very, very critical for\nyou to be thinking about these things.\n\n444\n00:19:43.476 --> 00:19:47.560\nAnd again, these may be settings that\nnot because you purposely overlook them,\n\n445\n00:19:47.560 --> 00:19:48.652\nquite the opposite.\n\n446\n00:19:48.652 --> 00:19:51.909\nIf you know about them, I'm sure you\nwill go out and do the right thing, but\n\n447\n00:19:51.909 --> 00:19:54.002\na lot of times I train\nsecurity professionals.\n\n448\n00:19:54.002 --> 00:19:54.985\n&gt;&gt; sometimes [CROSSTALK] We're inundated-\n&gt;&gt; Well,\n\n449\n00:19:54.985 --> 00:19:56.730\nyou just may not know about them, right?\n\n450\n00:19:56.730 --> 00:19:59.656\nI mean you may not be knowledgeable about\nthe fact, a lot of times I'll talk to\n\n451\n00:19:59.656 --> 00:20:01.781\nthe customers who are like I\nknow how to set up auditing.\n\n452\n00:20:01.781 --> 00:20:04.752\nBut when I ask about what you are you\ndoing with retention policies to prevent\n\n453\n00:20:04.752 --> 00:20:07.570\nlog management, they look at me\nlike I'm from a foreign planet.\n\n454\n00:20:07.570 --> 00:20:09.241\nNow, they look at me that way for\na lot of reasons.\n\n455\n00:20:09.241 --> 00:20:11.796\n&gt;&gt; [LAUGH]\n&gt;&gt; Not the least of which is that I may be\n\n456\n00:20:11.796 --> 00:20:15.463\nasking them about something that does or\ndoes not make sense to them.\n\n457\n00:20:15.463 --> 00:20:19.200\nBut, the reality is, they just don't\nnecessarily know these settings exist.\n\n458\n00:20:19.200 --> 00:20:21.640\nThey just never thought to go look for\nthem or, more importantly,\n\n459\n00:20:21.640 --> 00:20:24.860\nnobody ever told them that they're\nthere and they should set them.\n\n460\n00:20:24.860 --> 00:20:27.800\nThis is the kind of thing that in\nthe real world makes a lot of sense,\n\n461\n00:20:27.800 --> 00:20:29.040\nalso may be testable.\n\n462\n00:20:29.040 --> 00:20:32.740\nRemember, getting only half the solution\nright is not the same thing as getting\n\n463\n00:20:32.740 --> 00:20:35.610\nthe right answer when it comes\nto dealing with the exams.\n\n464\n00:20:35.610 --> 00:20:37.690\nYou want to be thinking\nabout that as well.\n\n465\n00:20:37.690 --> 00:20:40.220\nSo we have talked about how to set up.\n\n466\n00:20:40.220 --> 00:20:43.570\nAnd how to go in and take a look\nat some of the basic blocking and\n\n467\n00:20:43.570 --> 00:20:45.890\ntackling associated with auditing.\n\n468\n00:20:45.890 --> 00:20:50.180\nBut there are other audit solutions or\nother areas we can focus on.\n\n469\n00:20:50.180 --> 00:20:54.120\nOne we're going in and taking a look at,\nnot just setting up audit policy, but\n\n470\n00:20:54.120 --> 00:20:56.980\nalso some of the specific\nthings we can engage in.\n\n471\n00:20:56.980 --> 00:21:00.800\nSo let's just scroll down here for just\na second, let's take a look down here.\n\n472\n00:21:00.800 --> 00:21:03.730\nI'm just going to move this over so\nyou can see this.\n\n473\n00:21:03.730 --> 00:21:07.800\nKinda part two of our conversation down\nhere in the same area if you notice where\n\n474\n00:21:07.800 --> 00:21:10.940\nI am, right at the bottom of all this\n\n475\n00:21:10.940 --> 00:21:15.510\nstuff up under computer configuration\npolicies, Windows settings, security.\n\n476\n00:21:15.510 --> 00:21:19.010\nWe've just been in here looking\nat local policies event log.\n\n477\n00:21:19.010 --> 00:21:20.440\nWe're going to come down here and\n\n478\n00:21:20.440 --> 00:21:23.070\nwe're going to come to advanced\naudit policy configuration.\n\n479\n00:21:23.070 --> 00:21:24.990\nWe're just going to click here Right,\n\n480\n00:21:24.990 --> 00:21:28.790\nyou'll see here under advanced audit\npolicy configuration audit policies.\n\n481\n00:21:28.790 --> 00:21:30.740\nLet me click here just to bring this up.\n\n482\n00:21:30.740 --> 00:21:33.850\nThere are ten categories in\nhere that we can drill down on.\n\n483\n00:21:33.850 --> 00:21:35.350\nThis is that advanced portion, right?\n\n484\n00:21:35.350 --> 00:21:36.460\nSo, we did the basics.\n\n485\n00:21:36.460 --> 00:21:37.710\nNow, we're gonna do the advanced.\n\n486\n00:21:37.710 --> 00:21:38.600\n&gt;&gt; Super advanced.\n\n487\n00:21:38.600 --> 00:21:39.235\n&gt;&gt; No, just advanced.\n\n488\n00:21:39.235 --> 00:21:40.780\n&gt;&gt; [LAUGH]\n&gt;&gt; Super advanced would be if I did\n\n489\n00:21:40.780 --> 00:21:41.905\nthis with my eyes closed.\n\n490\n00:21:41.905 --> 00:21:43.410\nMan:\n&gt;&gt; That would be super advanced.\n\n491\n00:21:43.410 --> 00:21:44.170\n&gt;&gt; On one leg.\n\n492\n00:21:44.170 --> 00:21:45.105\n&gt;&gt; On one leg.\n\n493\n00:21:45.105 --> 00:21:46.650\n[laughter]\n&gt;&gt; Which I could do If you're\n\n494\n00:21:46.650 --> 00:21:49.435\nwilling to take over the mouse again.\n\n495\n00:21:49.435 --> 00:21:53.470\n[laughter] So we could if we go\nfrom here up, we could do that.\n\n496\n00:21:53.470 --> 00:21:54.090\n&gt;&gt; Yeah.\n\n497\n00:21:54.090 --> 00:21:57.860\n&gt;&gt; So there are some advanced settings\nwe can get in there and deal with.\n\n498\n00:21:57.860 --> 00:21:58.990\nAgain, getting under the hood.\n\n499\n00:21:58.990 --> 00:22:00.580\nDo you know about this?\n\n500\n00:22:00.580 --> 00:22:01.710\nHave you spent time in here?\n\n501\n00:22:01.710 --> 00:22:03.460\nWere you even aware of the fact?\n\n502\n00:22:03.460 --> 00:22:06.500\nThat we have kind of a part two with\nregards to auditing that there's this\n\n503\n00:22:06.500 --> 00:22:10.350\nwhole other area of advanced\naudit capabilities and policies\n\n504\n00:22:10.350 --> 00:22:13.800\nthat are just kinda sitting there,\nquietly minding their own business, right?\n\n505\n00:22:13.800 --> 00:22:17.300\nNot configured, you could see,\nright here, the whole list is there.\n\n506\n00:22:17.300 --> 00:22:18.890\nNone of them configured out of the box,\nagain,\n\n507\n00:22:18.890 --> 00:22:23.810\nas I said, we don't configure auditing by\ndefault and by design on a Windows Server\n\n508\n00:22:23.810 --> 00:22:27.880\nbased operating system and auditing\nis not the same thing as event log.\n\n509\n00:22:27.880 --> 00:22:29.790\nPopulation and collection right.\n\n510\n00:22:29.790 --> 00:22:32.280\nYes there are events that\noccur that we put into laws\n\n511\n00:22:32.280 --> 00:22:35.498\nthat's not the same thing as using\nauditing to capture pacific events.\n\n512\n00:22:35.498 --> 00:22:38.100\nSo we don't have auditing\nset up by default but\n\n513\n00:22:38.100 --> 00:22:43.200\nthere are in total of 10 different events\nof policies that can be engaged with here.\n\n514\n00:22:43.200 --> 00:22:47.340\nNow we can see the list Account log on,\n\n515\n00:22:47.340 --> 00:22:51.870\naccount management, detailed tracking\nDS directory service access, log on,\n\n516\n00:22:51.870 --> 00:22:56.040\nlog off, object access policy change,\nprivilege use, system and\n\n517\n00:22:56.040 --> 00:23:00.590\nglobal object, excuse me global objects,\nglobal object access auditing.\n\n518\n00:23:00.590 --> 00:23:02.030\nThat's a mouthful to get out.\n\n519\n00:23:02.030 --> 00:23:03.820\nEvery one of these has setting and\n\n520\n00:23:03.820 --> 00:23:07.240\nspecificity associated with them\nthat may be of interest to us.\n\n521\n00:23:07.240 --> 00:23:09.170\nWould be good for\nyou to go through, take a look.\n\n522\n00:23:09.170 --> 00:23:10.640\nWe'll take a look at one.\n\n523\n00:23:10.640 --> 00:23:14.910\nBy the way, always use the more about and\nwhich addition of support elements,\n\n524\n00:23:14.910 --> 00:23:16.750\nI've shown you these in the past,\nwe click through,\n\n525\n00:23:16.750 --> 00:23:21.020\nwe get a listing on the website as to what\neditions of the operating they support,\n\n526\n00:23:21.020 --> 00:23:22.850\nwhat auditing,\nyou know that kind of thing.\n\n527\n00:23:22.850 --> 00:23:23.840\nSo it's good to take a look at.\n\n528\n00:23:23.840 --> 00:23:27.810\nLet's look at account logon for instance,\njust see some of the settings there.\n\n529\n00:23:27.810 --> 00:23:31.273\nSo remember up above with the count\nlog on, success or failure,\n\n530\n00:23:31.273 --> 00:23:35.587\nthat was the extent to what we got with\nthe basic logon, audited, right up top.\n\n531\n00:23:35.587 --> 00:23:38.307\nBut here, audit credential validation,\n\n532\n00:23:38.307 --> 00:23:43.295\naudit curb authentication service,\naudit curb service ticket operations,\n\n533\n00:23:43.295 --> 00:23:48.710\naudit other, excuse me audit other act\nAudit other account log on events.\n\n534\n00:23:48.710 --> 00:23:52.070\nSo we can go into any one of these,\nconfigure this, and\n\n535\n00:23:52.070 --> 00:23:57.080\ndo additional success or failure audits\nhere, as we drill down, as you can see.\n\n536\n00:23:57.080 --> 00:24:00.210\nCredential validation,\nsomebody presents credentials,\n\n537\n00:24:00.210 --> 00:24:02.060\nhave they been validated yes or no?\n\n538\n00:24:02.060 --> 00:24:06.151\nWhen we do basic audit log on,\nsuccess or failure, all we see is, yes,\n\n539\n00:24:06.151 --> 00:24:09.372\nCherokee showed up and\nwas able to successfully log on.\n\n540\n00:24:09.372 --> 00:24:11.364\nCherokee tried to log on and failed.\n\n541\n00:24:11.364 --> 00:24:16.090\nWe don't see what the failure was,\nnecessarily, we do credential validation.\n\n542\n00:24:16.090 --> 00:24:18.650\nWe can actually see what credentials\nwere presented and whether or\n\n543\n00:24:18.650 --> 00:24:20.300\nnot they passed and why, right?\n\n544\n00:24:20.300 --> 00:24:22.740\nSo, we have more detailed information.\n\n545\n00:24:22.740 --> 00:24:23.620\nWhen we go in,\n\n546\n00:24:23.620 --> 00:24:27.970\nthings like account management,\naudit the application of group management.\n\n547\n00:24:27.970 --> 00:24:32.950\nAudit the application of the computer\naccess accounts, audit access for\n\n548\n00:24:32.950 --> 00:24:36.010\nsecurity groups, audit distribution\ngroup management, right?\n\n549\n00:24:36.010 --> 00:24:38.130\nSo, people going in and\nmodifying group membership.\n\n550\n00:24:38.130 --> 00:24:41.900\nWe can drill down and see the evidence of\nsomebody, as you were saying, Cherokee,\n\n551\n00:24:41.900 --> 00:24:44.960\ngetting up to no good and\nthen trying to cover their tracks.\n\n552\n00:24:44.960 --> 00:24:47.893\nWith advanced auditing configuration,\nit would be very hard for\n\n553\n00:24:47.893 --> 00:24:48.865\nsomebody to do that.\n\n554\n00:24:48.865 --> 00:24:53.138\nBecause we would be able to reach in and\nsee evidence of that even though they may\n\n555\n00:24:53.138 --> 00:24:56.724\ndone it, then deleted or\ncovered the evidence in the basic logs.\n\n556\n00:24:56.724 --> 00:25:00.592\nThey may not realize and understand we're\ndoing advanced logging, and as a result,\n\n557\n00:25:00.592 --> 00:25:03.975\nthey may not see evidence or\nmay not know that that evidence is there.\n\n558\n00:25:03.975 --> 00:25:07.475\nBut something like distribution groups,\nnot that they are a big target, right?\n\n559\n00:25:07.475 --> 00:25:10.470\nFor security related concerns, but\nagain, we can audit success or\n\n560\n00:25:10.470 --> 00:25:12.741\nfailure around the configuration\nof management.\n\n561\n00:25:12.741 --> 00:25:14.938\n&gt;&gt; And they might be able to see,\nwho's in the inner circle?\n\n562\n00:25:14.938 --> 00:25:19.735\n&gt;&gt; [LAUGH]\n&gt;&gt; Yeah, I'm just going to say yes\n\n563\n00:25:19.735 --> 00:25:22.277\nbecause I'm scared to say no when\nyou say those things, right?\n\n564\n00:25:22.277 --> 00:25:24.742\nYou're so excited about them,\nI don't want to crush your spirits.\n\n565\n00:25:24.742 --> 00:25:26.887\n&gt;&gt; Okay.\n&gt;&gt; So yes, Little Cherokee, that was good.\n\n566\n00:25:26.887 --> 00:25:29.263\nYes, thank you,\nappreciate you jumping in there.\n\n567\n00:25:29.263 --> 00:25:33.077\n&gt;&gt; We'll modify the distribution group-\n&gt;&gt; And the inner circle, right?\n\n568\n00:25:33.077 --> 00:25:35.127\nThat's the thing we're\nworried about right there.\n\n569\n00:25:35.127 --> 00:25:38.677\nAll right, so you could see here,\none of my favorites in detail tracking,\n\n570\n00:25:38.677 --> 00:25:41.100\nthat I often will use Is here.\n\n571\n00:25:41.100 --> 00:25:43.180\nAudit process creation, right?\n\n572\n00:25:43.180 --> 00:25:46.620\nAudit process termination,\nthese are important RPC events, right?\n\n573\n00:25:46.620 --> 00:25:49.440\nThis group right here gives\nus detailed information\n\n574\n00:25:49.440 --> 00:25:53.230\nabout the use of spending up and\nmanipulation of both local and\n\n575\n00:25:53.230 --> 00:25:55.750\nremote processing communication\nacross the network.\n\n576\n00:25:55.750 --> 00:25:58.780\nFrom this endpoint, meaning if\nmalware is involved here- remember,\n\n577\n00:25:58.780 --> 00:26:00.840\nwe're trying to bring this back\nto a security theme, right?\n\n578\n00:26:00.840 --> 00:26:04.420\nReference some for earlier episodes\nof conversations about malware.\n\n579\n00:26:04.420 --> 00:26:06.010\nMalware is involved here a lot of times.\n\n580\n00:26:06.010 --> 00:26:07.650\nIt's going to be able to\nspin out processes and\n\n581\n00:26:07.650 --> 00:26:10.180\nterminate them under the guise\nof different names and\n\n582\n00:26:10.180 --> 00:26:12.600\nthings that we may or\nmay not think are problematic.\n\n583\n00:26:12.600 --> 00:26:16.300\nSome of this activity may show up,\nand we may be able to see it here.\n\n584\n00:26:16.300 --> 00:26:21.280\nSo we may wanna take a look at some of\nthis and again, success or failure, right?\n\n585\n00:26:21.280 --> 00:26:24.230\nThings like log on,\nlog off you can see here, not just log on,\n\n586\n00:26:24.230 --> 00:26:27.200\nlog off as we said but\naudit account lockouts.\n\n587\n00:26:27.200 --> 00:26:30.230\nWhen were accounts locked out,\nhow often, very important.\n\n588\n00:26:30.230 --> 00:26:33.480\nFor IP sec,\ntake a look at the IP sec implementation.\n\n589\n00:26:33.480 --> 00:26:36.740\nAudit log off and log on,\naudit the use of network policy service,\n\n590\n00:26:36.740 --> 00:26:42.270\nNP has to do the application of\nhealth inspection quarantine and\n\n591\n00:26:42.270 --> 00:26:45.580\nnetwork access protection\nacross our networks.\n\n592\n00:26:45.580 --> 00:26:48.410\nSo, we can take a look at that\nalong with special log ons, right?\n\n593\n00:26:48.410 --> 00:26:49.980\nSo, there's also that's the stuff here.\n\n594\n00:26:49.980 --> 00:26:55.000\nObject access, audit file system,\naudit file share Take a look at this.\n\n595\n00:26:55.000 --> 00:26:58.710\nWe can go in and\nagain success or failure and\n\n596\n00:26:58.710 --> 00:27:02.510\nwe can begin to be very prescriptive\non kind of taking it to the next level.\n\n597\n00:27:02.510 --> 00:27:06.510\nLet's just not audit that folder but let's\ntake a look more broadly as I suggested at\n\n598\n00:27:06.510 --> 00:27:09.710\nsome of the audit capabilities\nacross the entire environment.\n\n599\n00:27:09.710 --> 00:27:11.560\nAudit the registry, audit access to and\n\n600\n00:27:11.560 --> 00:27:16.230\nuse of removable storage, audit central\naccess policy, handle manipulation,\n\n601\n00:27:16.230 --> 00:27:21.120\ncrural objects, right, filtering File\nshares I think I mentioned already, right?\n\n602\n00:27:21.120 --> 00:27:24.150\nAudit certification services,\nlooking at the use of certificates and\n\n603\n00:27:24.150 --> 00:27:25.430\nthings like that.\n\n604\n00:27:25.430 --> 00:27:27.120\nAudit applications that are generated.\n\n605\n00:27:27.120 --> 00:27:28.890\nAll sorts of stuff happens here.\n\n606\n00:27:28.890 --> 00:27:30.690\nPolicy changes, right?\n\n607\n00:27:30.690 --> 00:27:33.670\nAudit the use of privilege and\nprivilege use.\n\n608\n00:27:33.670 --> 00:27:37.660\nAudit the system itself, right,\nIPsec and the use of IPsec.\n\n609\n00:27:37.660 --> 00:27:38.720\nSystem events,\n\n610\n00:27:38.720 --> 00:27:42.480\nsystem integrity, system state change\nfrom a security standpoint, right?\n\n611\n00:27:42.480 --> 00:27:45.830\nYou'd wanna drill into the details and\nlook at the explanatory tab on some of\n\n612\n00:27:45.830 --> 00:27:50.500\nthese to really see what kinda coverage\nyou get by looking at this exact policy.\n\n613\n00:27:50.500 --> 00:27:53.080\nLet me show you what I mean\nby one of these, right?\n\n614\n00:27:54.270 --> 00:27:56.920\nGo in in just a little detail.\n\n615\n00:27:56.920 --> 00:27:57.780\nSo security station.\n\n616\n00:27:57.780 --> 00:28:00.620\nThis policy setting allows you\nto audit events generated by\n\n617\n00:28:00.620 --> 00:28:03.270\nchanges in the security state of\nthe computer such as the following.\n\n618\n00:28:03.270 --> 00:28:05.970\nStartup and shutdown of computers,\nchange of system time.\n\n619\n00:28:05.970 --> 00:28:09.010\nVery important,\none I will often set up and look at.\n\n620\n00:28:09.010 --> 00:28:12.550\nAnd want to track from a standpoint\nof if we're using NTP and\n\n621\n00:28:12.550 --> 00:28:15.710\nwe're desynchronizing to create\na denial of service opportunity.\n\n622\n00:28:15.710 --> 00:28:16.450\nI want to know that.\n\n623\n00:28:16.450 --> 00:28:19.480\nThis kind of an auditor or\naudit policy here will tell me and\n\n624\n00:28:19.480 --> 00:28:20.830\ngive me evidence of that.\n\n625\n00:28:20.830 --> 00:28:21.650\nThis is one element.\n\n626\n00:28:21.650 --> 00:28:24.950\nI've got other things in place throughout\nthe network to look for that as well.\n\n627\n00:28:24.950 --> 00:28:27.570\nRight, but this kind of thing,\nalso recovering from crash and\n\n628\n00:28:27.570 --> 00:28:30.210\naudit fail, which is logged\nwhen you have a problem and\n\n629\n00:28:30.210 --> 00:28:33.210\nyou either dump the system because\nyou can't write to the audit logs.\n\n630\n00:28:33.210 --> 00:28:33.830\nOr you set it up.\n\n631\n00:28:33.830 --> 00:28:38.240\nSo it says hey, I'd rather crash\nthe system than engaging on unaudited or\n\n632\n00:28:38.240 --> 00:28:40.040\ninformation that is not logged.\n\n633\n00:28:40.040 --> 00:28:43.080\nAnd so as a result, we can never\ncover from that by clearing space.\n\n634\n00:28:43.080 --> 00:28:44.840\nWe would see evidence of that here.\n\n635\n00:28:44.840 --> 00:28:45.745\nAgain, bad action.\n\n636\n00:28:45.745 --> 00:28:49.325\nand its filling up the logs really\nquickly and then crashing the system to\n\n637\n00:28:49.325 --> 00:28:53.095\nfail its secure would be recorded\nhere we'd see evidence of that these\n\n638\n00:28:53.095 --> 00:28:56.875\nare the kind of deep dark settings that\nwe have to get into to really message and\n\n639\n00:28:56.875 --> 00:28:59.902\nunderstand the value of security and\nhow we apply And\n\n640\n00:28:59.902 --> 00:29:03.262\nthese overlapping control layers\nthat we keep talking about building.\n\n641\n00:29:03.262 --> 00:29:05.702\nWe have to use advanced\naudit policies to do this or\n\n642\n00:29:05.702 --> 00:29:07.872\nthe configuration of advanced\naudit policies to do.\n\n643\n00:29:07.872 --> 00:29:10.842\nSo don't be afraid to get in there,\nwade through some of these,\n\n644\n00:29:10.842 --> 00:29:15.382\nlook at those explanatory tabs, understand\nthe value of some of these settings and\n\n645\n00:29:15.382 --> 00:29:18.832\nhow we can look at them and\nuse them interactively,\n\n646\n00:29:18.832 --> 00:29:22.212\ncombining them together to really\ncreate a much stronger audit press.\n\n647\n00:29:22.212 --> 00:29:23.950\nIt's gonna be very important for us.\n\n648\n00:29:23.950 --> 00:29:25.220\nTo be able to do that.\n\n649\n00:29:25.220 --> 00:29:28.520\nTo that end, just for\nwrap up this part of our two parter,\n\n650\n00:29:28.520 --> 00:29:30.710\nbecause we're only halfway\nthrough our conversation.\n\n651\n00:29:30.710 --> 00:29:32.780\nStill got a lot of really\ncool stuff to show you.\n\n652\n00:29:32.780 --> 00:29:36.130\nBut before we do that,\nwith regards to audit policy and\n\n653\n00:29:36.130 --> 00:29:38.140\nkind of a deeper dive on some of this.\n\n654\n00:29:38.140 --> 00:29:40.190\nGot a couple of websites that\nmaybe of value to you, so\n\n655\n00:29:40.190 --> 00:29:42.160\nI thought I would just\nshow them to you here.\n\n656\n00:29:42.160 --> 00:29:46.410\nAudit policy recommendations Always got\nsome good stuff from Microsoft these days\n\n657\n00:29:46.410 --> 00:29:47.540\non their websites.\n\n658\n00:29:47.540 --> 00:29:50.150\nSo how do we deal with audit\npolicy recommendations?\n\n659\n00:29:50.150 --> 00:29:52.100\nHow do we go in and\nkind of just go through and\n\n660\n00:29:52.100 --> 00:29:54.460\nstep through the logic\nof basic stuff here?\n\n661\n00:29:54.460 --> 00:29:57.570\nAnd what we can see and the value of\nsome of those audits settings that I was\n\n662\n00:29:57.570 --> 00:29:59.170\nshowing you as you can see here.\n\n663\n00:29:59.170 --> 00:30:00.070\nAll the different ones.\n\n664\n00:30:00.070 --> 00:30:02.300\nDS Access, log on, log off.\n\n665\n00:30:02.300 --> 00:30:03.050\nRight?\n\n666\n00:30:03.050 --> 00:30:04.380\nPolicy changes,\n\n667\n00:30:04.380 --> 00:30:07.320\nI was just walking through some of\nthese with you, privilege use system.\n\n668\n00:30:07.320 --> 00:30:08.950\nGood for\nyou to take a look at this, right?\n\n669\n00:30:08.950 --> 00:30:11.430\nSo you may wanna go in and\ntake a look here.\n\n670\n00:30:11.430 --> 00:30:16.220\nAlso, how do we do this from the command\nline and command line process auditing?\n\n671\n00:30:16.220 --> 00:30:20.450\nHow do we actually go in and\ntake a look at And understand\n\n672\n00:30:20.450 --> 00:30:24.320\nthat we could configure auditing and\nsee evidence of use in the command line.\n\n673\n00:30:24.320 --> 00:30:25.670\nWe may want to audit back.\n\n674\n00:30:25.670 --> 00:30:28.730\nI m gonna talk to you in\npart two in episode two\n\n675\n00:30:28.730 --> 00:30:31.640\nthat how we may enable auditing for\npower shell as well because by default and\n\n676\n00:30:31.640 --> 00:30:35.270\nby design We are not auditing most\nof what goes on in PowerShell.\n\n677\n00:30:35.270 --> 00:30:38.630\nAlthough, we can enable that as we\nimport modules and set up auditing for\n\n678\n00:30:38.630 --> 00:30:42.560\nthe use of those commandlets\non a PowerShell a shell-basis,\n\n679\n00:30:42.560 --> 00:30:45.940\nmeaning every time we launch the shell\nwe have to re-enable editing and\n\n680\n00:30:45.940 --> 00:30:48.740\nlogging, rather, I should say,\nunless we actually go through and\n\n681\n00:30:48.740 --> 00:30:51.560\nconfigure it as one of the items\nwe may want to assign.\n\n682\n00:30:51.560 --> 00:30:54.290\nIt creates part of our custom console so\nit's on all the time.\n\n683\n00:30:54.290 --> 00:30:57.000\nWe'll take a look at how to do that for\nmodules, for block scripting, for\n\n684\n00:30:57.000 --> 00:30:57.540\nthings like that.\n\n685\n00:30:57.540 --> 00:30:58.500\nI'll show you how to set that up.\n\n686\n00:30:58.500 --> 00:31:00.120\nIt's a series of group policy settings.\n\n687\n00:31:00.120 --> 00:31:01.820\nWe just enable it through group policy.\n\n688\n00:31:01.820 --> 00:31:06.830\nWe'll take a look at that in our secondary\nepisode as they say right part two.\n\n689\n00:31:06.830 --> 00:31:07.390\n&gt;&gt; Yes.\n&gt;&gt; But\n\n690\n00:31:07.390 --> 00:31:09.100\nI think we have to come back for that.\n\n691\n00:31:09.100 --> 00:31:12.410\n&gt;&gt; All right we do so we'll go ahead and\nsign out for this show.\n\n692\n00:31:12.410 --> 00:31:14.030\nI've been your host, Cherokee Boose.\n\n693\n00:31:14.030 --> 00:31:18.980\n&gt;&gt; That was so just quiet and\ndainty and just very reserved.\n\n694\n00:31:18.980 --> 00:31:20.140\nThat's so-\n&gt;&gt; Not me?\n\n695\n00:31:20.140 --> 00:31:23.285\n&gt;&gt; Not that you're not reserved just,\nyeah, who are you?\n\n696\n00:31:23.285 --> 00:31:24.960\n&gt;&gt; [LAUGH]\n&gt;&gt; What did you do with Cherokee?\n\n697\n00:31:24.960 --> 00:31:25.670\nWhere did she go?\n\n698\n00:31:25.670 --> 00:31:27.070\n&gt;&gt; My caffeine wore off.\n\n699\n00:31:27.070 --> 00:31:28.900\nI think it was more\nthe sugar than the caffeine,\n\n700\n00:31:28.900 --> 00:31:30.810\nbecause we loaded you up with sugar.\n\n701\n00:31:30.810 --> 00:31:31.550\n&gt;&gt; Yeah.\nI had both.\n\n702\n00:31:31.550 --> 00:31:32.680\n&gt;&gt; Yeah, you did.\nYou had a lot of both.\n\n703\n00:31:32.680 --> 00:31:36.710\nWell, anyways, yes and I am Adam Gordon,\nshocked that Cherokee was quite so\n\n704\n00:31:36.710 --> 00:31:38.380\nreserved at the end of our episode, but\n\n705\n00:31:38.380 --> 00:31:41.123\nwe'll pump her up with sugar before\nwe come back for our next one.\n\n706\n00:31:41.123 --> 00:31:43.541\n&gt;&gt; For sure.\nAll right, thank you and have a great day.\n\n707\n00:31:43.541 --> 00:31:44.146\n&gt;&gt; Take care everybody.\n\n708\n00:31:45.956 --> 00:31:51.855\n[MUSIC]\n\n709\n00:31:51.855 --> 00:31:55.081\nThank you for watching ITPro.TV.\n\n",
          "vimeoId": "234505375"
        },
        {
          "description": "In this episode, Adam and Cherokee begin by sharing  a built-in command-line tool called  AuditPol to manage the advanced audit policy settings. Adam also demonstrates how to use WinRM quickconfig to configure a collector, a machine that pulls logs in from one or multiple sources. Additional auditing options are also shown such as  using Advanced Auditing Features via Windows PowerShell.",
          "length": "2403",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-2-configure_advance_audit_policies_pt2-091417-PGM.00_39_44_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-2-configure_advance_audit_policies_pt2-091417-PGM.00_39_44_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-2-configure_advance_audit_policies_pt2-091417-PGM.00_39_44_29.Still001-sm.jpg",
          "title": "Configure advanced audit policies Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.229\nWelcome to ITProTV.\n\n2\n00:00:01.229 --> 00:00:02.506\nI'm your host, Don Pezet.\n\n3\n00:00:02.506 --> 00:00:05.866\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:05.866 --> 00:00:08.049\n[MUSIC]\n\n5\n00:00:08.049 --> 00:00:11.633\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.633 --> 00:00:15.600\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n7\n00:00:15.600 --> 00:00:17.092\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.092 --> 00:00:18.587\nThis is a continuation.\n\n9\n00:00:18.587 --> 00:00:23.020\nWe'll take a look at how we can\nconfigure advanced audit policies.\n\n10\n00:00:23.020 --> 00:00:25.710\nWe started talking about that\nin the last episode, but\n\n11\n00:00:25.710 --> 00:00:29.660\nback with us in studios today,\nwe have Mr Adam Gordon.\n\n12\n00:00:29.660 --> 00:00:31.560\nYou guys see me looking\noff to the side here.\n\n13\n00:00:31.560 --> 00:00:33.270\nI'm trying to, what's up, Adam?\n\n14\n00:00:33.270 --> 00:00:34.010\n&gt;&gt; Your pen's haunted.\n\n15\n00:00:34.010 --> 00:00:34.560\nIt was dancing.\n\n16\n00:00:34.560 --> 00:00:35.408\nI don't know what's going on with that.\n\n17\n00:00:35.408 --> 00:00:36.935\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] Not much,\n\n18\n00:00:36.935 --> 00:00:38.953\nwe're just having fun here at ITProTV.\n\n19\n00:00:38.953 --> 00:00:39.894\nPlaying around a little bit.\n\n20\n00:00:39.894 --> 00:00:40.613\n&gt;&gt; As always.\n\n21\n00:00:40.613 --> 00:00:42.570\n&gt;&gt; As always, it's true,\nwe do wanna have fun.\n\n22\n00:00:42.570 --> 00:00:43.913\nBut learning can be fun but\n\n23\n00:00:43.913 --> 00:00:46.979\nit also needs to be focus on\nthings that are important to us.\n\n24\n00:00:46.979 --> 00:00:49.367\nAnd we're gonna focus here on part two,\n\n25\n00:00:49.367 --> 00:00:53.090\nepisode two of our advance\naudit policy configuration.\n\n26\n00:00:53.090 --> 00:00:56.750\nI'll pick up where we left off, but\nat a very specific place cuz I had mention\n\n27\n00:00:56.750 --> 00:01:00.070\na command line tool that we can use\nto do audit policy configuration.\n\n28\n00:01:00.070 --> 00:01:02.140\nIn our last episode called AuditPol,\n\n29\n00:01:02.140 --> 00:01:03.480\nwe didn't actually get\na chance to take a look at it.\n\n30\n00:01:03.480 --> 00:01:06.010\nSo I wanna jump back in and\ntake a look at that with you.\n\n31\n00:01:06.010 --> 00:01:08.640\nThen I wanna show you that whole,\nand how do we do the event\n\n32\n00:01:08.640 --> 00:01:12.400\nlog forwarding subscription thing\nbecause that's gonna be pretty cool.\n\n33\n00:01:12.400 --> 00:01:14.320\nMay or may not know we can do that.\n\n34\n00:01:14.320 --> 00:01:16.742\nA little bit of configuration there,\nnothing too involved, but\n\n35\n00:01:16.742 --> 00:01:19.440\nwe're just gonna play around a little\nbit and show you how to set that up.\n\n36\n00:01:19.440 --> 00:01:23.522\nAnd we're gonna also take a look at how we\nmake sure we use Group Policy are becoming\n\n37\n00:01:23.522 --> 00:01:27.439\nour friend here for all the things we've\ngot to do from a security standpoint.\n\n38\n00:01:27.439 --> 00:01:30.510\nI'm gonna take a look at them and\nmake sure we enable login for PowerShell,\n\n39\n00:01:30.510 --> 00:01:32.770\ncuz we can do that through\nGroup Policy as well.\n\n40\n00:01:32.770 --> 00:01:35.975\nAll right, so if you take a look, we were\nthere, we previewed it then it went away.\n\n41\n00:01:35.975 --> 00:01:38.915\nLet's bring it back, there we go,\nwe've got our AuditPol.\n\n42\n00:01:38.915 --> 00:01:40.060\nSo I just have it up in the command line.\n\n43\n00:01:40.060 --> 00:01:43.085\nAs always, I'll remind you and\nyou can see up here.\n\n44\n00:01:43.085 --> 00:01:45.634\nAlways run these command lines as\nan administrative command line so\n\n45\n00:01:45.634 --> 00:01:48.194\nyou have the right to use this tool or\nwhatever tool you may be using.\n\n46\n00:01:48.194 --> 00:01:50.926\nBut that way,\nit avoids the oops I can't do that,\n\n47\n00:01:50.926 --> 00:01:53.085\nlet me start it over again discussion.\n\n48\n00:01:53.085 --> 00:01:56.230\nAnd you just gotta waste time trying\nto get something working when in fact,\n\n49\n00:01:56.230 --> 00:01:58.420\nit would work if you just\nhad the right permissions.\n\n50\n00:01:58.420 --> 00:02:00.000\nThis is a security show after all.\n\n51\n00:02:00.000 --> 00:02:02.700\nIt should have the right permissions\nto do the right things, right?\n\n52\n00:02:02.700 --> 00:02:04.847\nSo having said that, AuditPol.\n\n53\n00:02:04.847 --> 00:02:07.866\nSo this tool, right,\nbeen around for a long time.\n\n54\n00:02:07.866 --> 00:02:10.974\nThis tool allows us to\nbe able to go in and\n\n55\n00:02:10.974 --> 00:02:16.640\nactually set Group Policy like\npolicies but without the Group Policy.\n\n56\n00:02:16.640 --> 00:02:19.010\nAnd what I mean is,\nwhen we're not domain joined,\n\n57\n00:02:19.010 --> 00:02:21.620\nwhen we're not able to push\npolicy from the domain.\n\n58\n00:02:21.620 --> 00:02:23.730\nHow do we deal with policy\non a local machine?\n\n59\n00:02:23.730 --> 00:02:27.290\nWell, AuditPol is the command line\nversion of the local security policy\n\n60\n00:02:27.290 --> 00:02:29.750\neditor that we can use on a local machine.\n\n61\n00:02:29.750 --> 00:02:32.360\nSo it gives us the ability to\nbe able to do this on a machine,\n\n62\n00:02:32.360 --> 00:02:34.570\nespecially machines that\nare not domain joined.\n\n63\n00:02:34.570 --> 00:02:36.920\nWe can use it on a domain joined machine,\n\n64\n00:02:36.920 --> 00:02:39.510\nand we can use this to see\nwhat's going on with policy.\n\n65\n00:02:39.510 --> 00:02:41.740\nBut we've got other tools to do that.\n\n66\n00:02:41.740 --> 00:02:45.250\nThis is really more for a standalone\nscenario, so just be aware of that.\n\n67\n00:02:45.250 --> 00:02:48.013\nYou've heard me reference this\ntool at certain points before,\n\n68\n00:02:48.013 --> 00:02:49.710\ngoing all the way back to Windows 95.\n\n69\n00:02:49.710 --> 00:02:54.338\nA few times I said, hey, even before Group\nPolicy was around with Windows 2000, etc.,\n\n70\n00:02:54.338 --> 00:02:56.352\nwe've had this old style tool, right?\n\n71\n00:02:56.352 --> 00:02:58.843\nThe AuditPol tool that\nwould allow us to go in and\n\n72\n00:02:58.843 --> 00:03:00.973\ntake a look at policy settings, right?\n\n73\n00:03:00.973 --> 00:03:04.606\nPolEdit was another version of this\ntool that you would hear me look at and\n\n74\n00:03:04.606 --> 00:03:05.270\ntalk about.\n\n75\n00:03:05.270 --> 00:03:06.151\nSorry, not hear me, look at.\n\n76\n00:03:06.151 --> 00:03:08.620\nYou haven't seen me look at it,\nit's not a tool we see anymore.\n\n77\n00:03:08.620 --> 00:03:11.820\nBut a tool you've heard me reference\nbefore, where I've talked about this.\n\n78\n00:03:11.820 --> 00:03:16.210\nAnd AuditPol, to audit policy and\nwork with policy, goes back almost as far.\n\n79\n00:03:16.210 --> 00:03:20.118\nNot quite back to Windows 95, but it goes\nback along way as a command line tool,\n\n80\n00:03:20.118 --> 00:03:22.545\nalong with the group\npolicy management console.\n\n81\n00:03:22.545 --> 00:03:24.320\nSo just know it's been around for a while.\n\n82\n00:03:24.320 --> 00:03:30.020\nYou could see the help file, I just\nbrought it up here, AuditPol space /?.\n\n83\n00:03:30.020 --> 00:03:34.467\nWe use the set and get a parameters\ntraditionally to take a look at policy and\n\n84\n00:03:34.467 --> 00:03:38.290\nsetting, get will display\nthe current audit policy right set.\n\n85\n00:03:38.290 --> 00:03:39.862\nLet's accept the audit policy.\n\n86\n00:03:39.862 --> 00:03:41.546\nRemember AuditPol, audit policy,\n\n87\n00:03:41.546 --> 00:03:44.108\nthat's the name of the tool\nto what we're focusing on.\n\n88\n00:03:44.108 --> 00:03:47.720\nSo we could do AuditPol get right for\ninstance, and\n\n89\n00:03:47.720 --> 00:03:53.050\nwe can see what the audit policy may\nbe on this particular machine, right.\n\n90\n00:03:53.050 --> 00:03:56.904\nOops, hold on one second, I have to make\nsure I specify, right, not just AuditPol\n\n91\n00:03:56.904 --> 00:04:00.453\nget, but you have to then go in, and\nthis is actually, let me do it this way.\n\n92\n00:04:00.453 --> 00:04:03.177\nThis is a good reason for\nus to do the following.\n\n93\n00:04:10.601 --> 00:04:12.249\nWhat are you doing with that thing?\n\n94\n00:04:12.249 --> 00:04:14.466\n&gt;&gt; [LAUGH] I'm letting\nthe cat out of the bag again.\n\n95\n00:04:14.466 --> 00:04:16.241\n&gt;&gt; You're letting the cat\nout of the bag again?\n\n96\n00:04:16.241 --> 00:04:18.345\n&gt;&gt; [LAUGH]\n&gt;&gt; Don't be crazy.\n\n97\n00:04:18.345 --> 00:04:21.295\n[LAUGH] All right, so,\nwhat we wanna do is take a look at, and\n\n98\n00:04:21.295 --> 00:04:25.190\nactually you know what, a better way to\ndo this will be if I could show you here.\n\n99\n00:04:25.190 --> 00:04:28.880\nBut let me just do this as I\nthink if I'm not mistaken.\n\n100\n00:04:28.880 --> 00:04:29.990\nNo, I don't have it.\n\n101\n00:04:29.990 --> 00:04:31.950\nWe'll just bring it up real\nquick while we're talking.\n\n102\n00:04:31.950 --> 00:04:37.550\nSo what I was gonna show is some of\nthe advanced tool options in there but\n\n103\n00:04:37.550 --> 00:04:38.230\nwe can do this.\n\n104\n00:04:38.230 --> 00:04:39.360\nWe do set subcategory.\n\n105\n00:04:39.360 --> 00:04:40.856\nBut let's just do-\n&gt;&gt; As far as the syntax?\n\n106\n00:04:40.856 --> 00:04:42.881\n&gt;&gt; Yeah, just as far as syntax,\nit's just gonna bring it up but\n\n107\n00:04:42.881 --> 00:04:43.930\nthen I didn't have it listed.\n\n108\n00:04:43.930 --> 00:04:47.620\nSo let me just do this audit policy tool.\n\n109\n00:04:47.620 --> 00:04:50.720\nYou go in and search,\nyou'll get this right here which will\n\n110\n00:04:50.720 --> 00:04:53.680\ngive you the basic information\nwe're looking for.\n\n111\n00:04:53.680 --> 00:04:57.910\nJust AuditPol, essentially just the help\nfile here what I was gonna look at just\n\n112\n00:04:57.910 --> 00:04:59.948\nthe AuditPol gets syntax, right.\n\n113\n00:04:59.948 --> 00:05:01.863\nSo you could do either from\nthe command line in the help file.\n\n114\n00:05:01.863 --> 00:05:04.768\nYou could also just go out right here and\nlet me click down,\n\n115\n00:05:04.768 --> 00:05:08.770\nand you could see would you something\nlike AuditPol get you have to do user.\n\n116\n00:05:08.770 --> 00:05:11.648\nAnd the name or category,\nsubcategory option, etc.\n\n117\n00:05:11.648 --> 00:05:15.165\nWe may have to have a GUID associate with\nan object which i don't have, right.\n\n118\n00:05:15.165 --> 00:05:17.880\nBut you could see that if\nyou just drill through,\n\n119\n00:05:17.880 --> 00:05:20.650\nyou could see all the different\nparameters here in the help file.\n\n120\n00:05:20.650 --> 00:05:22.515\nYou could see we can get some examples,\n\n121\n00:05:22.515 --> 00:05:25.305\nwhich is why I like typically going\nout looking at the help file,\n\n122\n00:05:25.305 --> 00:05:28.585\nbecause we could see online what\nthe usage parameters may be.\n\n123\n00:05:28.585 --> 00:05:32.435\nSo, AuditPol get user, again we'd have\nto specify, what are the GUIDS for\n\n124\n00:05:32.435 --> 00:05:33.405\nthe user we wanna see.\n\n125\n00:05:33.405 --> 00:05:36.052\nI don't have one just off\nthe top of my head prepared cuz\n\n126\n00:05:36.052 --> 00:05:39.620\nI wasn't really planing on using\nthe get parameters to show it to you.\n\n127\n00:05:39.620 --> 00:05:42.902\nBut you could see here that\nwe could go through and\n\n128\n00:05:42.902 --> 00:05:47.042\nwe can, drill in, do a category something\nlike detailed tracking or system or\n\n129\n00:05:47.042 --> 00:05:48.670\nobject access for auditing.\n\n130\n00:05:48.670 --> 00:05:52.247\nSo if we have that information,\nget AuditPol get user guest, and\n\n131\n00:05:52.247 --> 00:05:54.145\nthen what denote tracking may be.\n\n132\n00:05:54.145 --> 00:05:55.771\n&gt;&gt; [CROSSTALK] really\nsee how we could use it.\n\n133\n00:05:55.771 --> 00:05:58.935\n&gt;&gt; Well, it helps us to understand\nspecifically what the audit policy may be\n\n134\n00:05:58.935 --> 00:06:02.151\non this particular user or this group or\nwhatever it is we're looking for,\n\n135\n00:06:02.151 --> 00:06:03.750\nin this case, a guest user, right?\n\n136\n00:06:03.750 --> 00:06:07.410\nOr the guest user in the category for\nsystem, or whatever it may be.\n\n137\n00:06:07.410 --> 00:06:09.135\nSo we would just have to have\nsome additional information.\n\n138\n00:06:09.135 --> 00:06:13.289\nBut it's a powerful tool and it's one\nthat you should definitely think about or\n\n139\n00:06:13.289 --> 00:06:15.510\nconsider using, cuz it can help you.\n\n140\n00:06:15.510 --> 00:06:21.470\nBut it's a tool that really primarily\nis designed for us to be working with,\n\n141\n00:06:21.470 --> 00:06:24.980\na local machine, I would suggest,\nmaybe in a standalone or stand off way.\n\n142\n00:06:24.980 --> 00:06:27.026\nSystems that are sitting in a DMZ for\ninstance.\n\n143\n00:06:27.026 --> 00:06:29.474\nWhere they're hardened, but\nthey're not domain joined,\n\n144\n00:06:29.474 --> 00:06:32.594\nwould be good examples of a candidate\nwhere you might target a tool like this,\n\n145\n00:06:32.594 --> 00:06:35.828\njust as a though process around what we're\ngonna do and how we're gonna use it.\n\n146\n00:06:35.828 --> 00:06:38.370\nAnd so AuditPol is a tool\nthat we wanna take a look at.\n\n147\n00:06:38.370 --> 00:06:40.630\nWe were, in our last episode,\nright in here.\n\n148\n00:06:40.630 --> 00:06:45.150\nI left this in the same place in the Group\nPolicy Management Editor to take a look\n\n149\n00:06:45.150 --> 00:06:46.960\nat our advanced auditing capabilities.\n\n150\n00:06:46.960 --> 00:06:48.560\nWe went through and we talked about those.\n\n151\n00:06:48.560 --> 00:06:51.710\nBut I also wanna go in, and I wanna\ntake a couple of minutes to look at some\n\n152\n00:06:51.710 --> 00:06:54.010\nother aspects that\nare group policy driven.\n\n153\n00:06:54.010 --> 00:06:57.050\nBut before we do that, I wanna take\na look at how we do event log forwarding.\n\n154\n00:06:57.050 --> 00:06:58.427\nWe're gonna come back into Group Policy.\n\n155\n00:06:58.427 --> 00:06:59.652\nAnd when we come back in here,\n\n156\n00:06:59.652 --> 00:07:02.268\nwe're gonna take a look at\na slightly different Group Policy.\n\n157\n00:07:02.268 --> 00:07:04.513\nI'm gonna get out of here, are you ready?\n\n158\n00:07:04.513 --> 00:07:05.325\nAre you ready?\n&gt;&gt; Yeah.\n\n159\n00:07:05.325 --> 00:07:06.238\n&gt;&gt; Are you ready?\nNo, you're not ready yet.\n\n160\n00:07:06.238 --> 00:07:07.093\nWait, are you ready?\n&gt;&gt; I'm ready.\n\n161\n00:07:07.093 --> 00:07:10.489\n&gt;&gt; I'm gonna let the cat out of the bag,\nthere we go.\n\n162\n00:07:10.489 --> 00:07:12.388\n&gt;&gt; [LAUGH]\n&gt;&gt; And we worked long and\n\n163\n00:07:12.388 --> 00:07:14.020\nhard on that one, by the way.\n\n164\n00:07:14.020 --> 00:07:14.780\nAnd I'm gonna come in,\n\n165\n00:07:14.780 --> 00:07:18.500\nwe've got a PowerShell logging\nGroup Policy that I've already set up.\n\n166\n00:07:18.500 --> 00:07:21.800\nWe'll take a look as I talk to you\nabout how to enable PowerShell logging.\n\n167\n00:07:21.800 --> 00:07:24.141\nSo we'll come back in here,\nwe'll take a look at this.\n\n168\n00:07:24.141 --> 00:07:26.754\nI was gonna say two\nshakes of a cat's tail-\n\n169\n00:07:26.754 --> 00:07:27.534\n&gt;&gt; [LAUGH]\n\n170\n00:07:27.534 --> 00:07:28.902\n&gt;&gt; But that's just way too corny.\n\n171\n00:07:28.902 --> 00:07:30.900\nWe'll take a look at that in\njust a couple of minutes.\n\n172\n00:07:30.900 --> 00:07:33.512\nBut what we're gonna do first,\nbefore we come back in and do that,\n\n173\n00:07:33.512 --> 00:07:35.650\nis we're gonna go over\nhere to our event log.\n\n174\n00:07:35.650 --> 00:07:37.846\nNow we're gonna take a look at or\nthe Event Viewer wrap.\n\n175\n00:07:37.846 --> 00:07:38.538\nWe're gonna go and\n\n176\n00:07:38.538 --> 00:07:41.098\ntake a look at a built in tool that's\nsitting in every Windows system.\n\n177\n00:07:41.098 --> 00:07:44.210\nThis tool does go all the way\nback to the beginning of time.\n\n178\n00:07:44.210 --> 00:07:47.870\nThat Event Viewer for some time now,\nacross all these different platforms.\n\n179\n00:07:47.870 --> 00:07:53.860\nAnd normally, when we set up Event Viewer,\nwe look at our Windows logs, primarily.\n\n180\n00:07:53.860 --> 00:07:56.927\nWe just took a look at some of these,\ntalked about them in our last episode with\n\n181\n00:07:56.927 --> 00:07:58.922\nregards to advanced auditing policies,\nright?\n\n182\n00:07:58.922 --> 00:08:02.010\nApplication security system,\ndifferent logs that we look at.\n\n183\n00:08:02.010 --> 00:08:06.231\nWe have the application service logs these\ndays Very detailed that they have been in\n\n184\n00:08:06.231 --> 00:08:07.088\nhere in a while.\n\n185\n00:08:07.088 --> 00:08:09.184\nLet's move this over so\nyou could see what's going on in here.\n\n186\n00:08:09.184 --> 00:08:15.563\nWe are back to directory web services,\nDFS application, directory DNS, etcetera.\n\n187\n00:08:15.563 --> 00:08:18.511\nWe've got our Key management\nservice on the domain controller.\n\n188\n00:08:18.511 --> 00:08:22.361\nAnd then we have under Microsoft,\nunder Windows, you've got,\n\n189\n00:08:22.361 --> 00:08:27.471\njust probably well over 100 logs when you\ngo through all these different folders and\n\n190\n00:08:27.471 --> 00:08:30.342\nthe log, or\nlogs that are associated with them.\n\n191\n00:08:30.342 --> 00:08:31.902\nThislist just never ends, right?\n\n192\n00:08:31.902 --> 00:08:34.332\nAnd you can see we can\nlog all sorts of stuff.\n\n193\n00:08:34.332 --> 00:08:36.392\nAnd we also have Windows PowerShell.\n\n194\n00:08:36.392 --> 00:08:37.975\nWe can see PowerShell logging.\n\n195\n00:08:37.975 --> 00:08:41.401\nIn here as well a lot of people don't\nrealize we have a log for that now, right?\n\n196\n00:08:41.401 --> 00:08:42.814\nMuch like we have an App for that.\n\n197\n00:08:42.814 --> 00:08:44.086\n&gt;&gt; [LAUGH]\n&gt;&gt; And we have a log for that.\n\n198\n00:08:44.086 --> 00:08:48.759\nSo we have quite a number of\npotential logs that are available.\n\n199\n00:08:48.759 --> 00:08:53.016\nSo this is not you're the old school event\nlog that we were looking at or an event\n\n200\n00:08:53.016 --> 00:08:57.617\nview, where we have four or five logs back\nin Windows 95, or back in Windows NT4.\n\n201\n00:08:57.617 --> 00:09:00.399\nWe've got hundreds of logs\nthat we can access now.\n\n202\n00:09:00.399 --> 00:09:02.654\nSo there's quite a bit\nof information here, but\n\n203\n00:09:02.654 --> 00:09:05.570\nwe have this item under Windows\nlogs called forwarded events.\n\n204\n00:09:05.570 --> 00:09:08.974\nAnd you can see it's now\nup to about 300 and change.\n\n205\n00:09:08.974 --> 00:09:12.772\nAnd normally,\nforwarded events log container is empty,\n\n206\n00:09:12.772 --> 00:09:14.717\ncuz why would you be using it?\n\n207\n00:09:14.717 --> 00:09:16.911\nForwarded events, what is that,\nwhere do they come from?\n\n208\n00:09:16.911 --> 00:09:18.635\nWell normally you don't, but\n\n209\n00:09:18.635 --> 00:09:22.214\nwhen we want to be able to create\nwhat's called a Subscription,\n\n210\n00:09:22.214 --> 00:09:26.551\nwe wanna be able to turn event viewer\ninto a localized version of a SEM system.\n\n211\n00:09:26.551 --> 00:09:30.491\nWhere we wanna be able to grab logs from\ndifferent machines that are sources and\n\n212\n00:09:30.491 --> 00:09:33.906\nuse what's called a collector to\nbring them in and aggregate them.\n\n213\n00:09:33.906 --> 00:09:37.224\nThe beginning of what we talk about as\nsecurity information event management.\n\n214\n00:09:37.224 --> 00:09:38.349\nWe have that capability.\n\n215\n00:09:38.349 --> 00:09:41.605\nNow, we can do this with other systems.\n\n216\n00:09:41.605 --> 00:09:44.159\nThere are many,\nmany systems out there that do this.\n\n217\n00:09:44.159 --> 00:09:48.662\nWe can do this with another\nproduct that Microsoft has.\n\n218\n00:09:48.662 --> 00:09:52.243\nThe System Center Ops Manager product and\nthe System Center Switch.\n\n219\n00:09:52.243 --> 00:09:55.348\nYou've heard me talk about system\ncenter at a few places in some of these\n\n220\n00:09:55.348 --> 00:09:58.830\nepisodes around security, type out\nthe value of config manager, great deal.\n\n221\n00:09:58.830 --> 00:10:01.902\nYou may have seen our episode\non the Apps management suite,\n\n222\n00:10:01.902 --> 00:10:05.466\nif you haven't seen that, we took\na look at Azure, log in to Linux and\n\n223\n00:10:05.466 --> 00:10:08.860\nsecurity management capabilities\nwith the apps manager suite.\n\n224\n00:10:08.860 --> 00:10:13.731\nSo SCOM, Systems Center Ops Manager\nproduct online enabled through Azure.\n\n225\n00:10:13.731 --> 00:10:17.167\nWe could use this System Center Ops\nManager along with something known as ACS,\n\n226\n00:10:17.167 --> 00:10:18.626\nthe Audit Collections Service,\n\n227\n00:10:18.626 --> 00:10:21.246\nto be able to essentially do what\nI am about to show you here.\n\n228\n00:10:21.246 --> 00:10:24.883\nBut on a scaled level through\nthe enterprise being multiple logs\n\n229\n00:10:24.883 --> 00:10:26.979\ntogether in a true SEM like fashion.\n\n230\n00:10:26.979 --> 00:10:31.509\nAnd being able then do aggregation and\nanalysis on them through SCOM So\n\n231\n00:10:31.509 --> 00:10:32.522\nwe can do that.\n\n232\n00:10:32.522 --> 00:10:35.935\nAnd our System Center Ops Manager shows\nthat I've done at a certain point,\n\n233\n00:10:35.935 --> 00:10:39.362\nactually we went through and showed you\nhow to do the configuration of ACS.\n\n234\n00:10:39.362 --> 00:10:42.071\nIf you haven't seen those episodes,\nyou could take a look at that and\n\n235\n00:10:42.071 --> 00:10:42.969\nsee how that's done.\n\n236\n00:10:42.969 --> 00:10:46.139\nI'll reference it here quickly, but\nI'm not gonna go into the long,\n\n237\n00:10:46.139 --> 00:10:49.217\ndrawn out conversations about how\nto stand all that technology up.\n\n238\n00:10:49.217 --> 00:10:53.049\nJust giving you a sense of how we\ncan incrementally move towards those\n\n239\n00:10:53.049 --> 00:10:53.784\nsolutions.\n\n240\n00:10:53.784 --> 00:10:57.322\nBut if we're to do it on a very limited\nbasis here on one or more machines,\n\n241\n00:10:57.322 --> 00:10:58.888\nwe wanna set up a subscription,\n\n242\n00:10:58.888 --> 00:11:02.486\nwhich I'm about to show you how to do\ndown here in the subscriptions area.\n\n243\n00:11:02.486 --> 00:11:05.517\nWe're gonna use the forwarded\nin events log which is where we\n\n244\n00:11:05.517 --> 00:11:09.507\ncapture all the log information from the\nmachines that I wanna bring it in from.\n\n245\n00:11:09.507 --> 00:11:13.788\nAnd if you take a look over here,\nyou could see that plabDM01 is\n\n246\n00:11:13.788 --> 00:11:17.611\nthe computer where all this\ninformation is coming from.\n\n247\n00:11:17.611 --> 00:11:19.859\nI'm sitting on plaid DC01 right now.\n\n248\n00:11:19.859 --> 00:11:21.868\nI'm actually pulling\nthrough a subscription.\n\n249\n00:11:21.868 --> 00:11:26.356\nAll these log entries in from the plaid\nDM01 machine as they're happening.\n\n250\n00:11:26.356 --> 00:11:29.820\nAnd I'm aggregating them and putting them\nhere through what we call a subscription.\n\n251\n00:11:29.820 --> 00:11:32.416\nSo I'm able to do that\nusing event forwarding.\n\n252\n00:11:32.416 --> 00:11:34.802\nThat's what the name of this\nparticular thought process is.\n\n253\n00:11:34.802 --> 00:11:38.580\nSo up under here-\n&gt;&gt; We really don't have to think too much\n\n254\n00:11:38.580 --> 00:11:42.432\nabout the accumulation of this log files\nas well, if we're just keeping them,\n\n255\n00:11:42.432 --> 00:11:44.285\noff loading them to another machine.\n\n256\n00:11:44.285 --> 00:11:47.887\nAnd then managing them in one location\ninstead of like going through and\n\n257\n00:11:47.887 --> 00:11:50.479\nchecking the log file sizes\non each machine there.\n\n258\n00:11:50.479 --> 00:11:57.870\n&gt;&gt; You're absolutely right, and you\nknow what for that, high five, awesome.\n\n259\n00:11:57.870 --> 00:11:58.790\nAll right, very good.\n\n260\n00:11:58.790 --> 00:12:00.525\n[LAUGH]\n&gt;&gt; It's just like a fight.\n\n261\n00:12:00.525 --> 00:12:01.836\n&gt;&gt; [LAUGH]\n&gt;&gt; Like a [INAUDIBLE], there are so\n\n262\n00:12:01.836 --> 00:12:02.468\nmany possibilities here.\n\n263\n00:12:02.468 --> 00:12:03.187\n&gt;&gt; I know.\n\n264\n00:12:03.187 --> 00:12:03.940\n&gt;&gt; [CROSSTALK]\n&gt;&gt; [LAUGH]\n\n265\n00:12:03.940 --> 00:12:06.485\n&gt;&gt; [INAUDIBLE] I told you.\n\n266\n00:12:06.485 --> 00:12:08.837\n&gt;&gt; [LAUGH] [INAUDIBLE]\n&gt;&gt; He's gonna fall out of a chair before\n\n267\n00:12:08.837 --> 00:12:09.442\nthis episode.\n\n268\n00:12:09.442 --> 00:12:12.271\nHe's like halfway back,\nwe almost got Tidus to the edge,\n\n269\n00:12:12.271 --> 00:12:14.364\nwhere he was about to\nroll out of his chair.\n\n270\n00:12:14.364 --> 00:12:16.279\nAll right, so let's take a look at this.\n\n271\n00:12:16.279 --> 00:12:17.029\nYou're absolutely right, right?\n\n272\n00:12:17.029 --> 00:12:20.633\nThis does give us the capability to be\nable to bring those logs together, so\n\n273\n00:12:20.633 --> 00:12:22.361\na very sim-like thought process.\n\n274\n00:12:22.361 --> 00:12:24.588\nAggregate logs,\nput them into one common place.\n\n275\n00:12:24.588 --> 00:12:26.550\nNot that it removes, and\nI know you didn't say this.\n\n276\n00:12:26.550 --> 00:12:28.371\nJust wanna reinforce\nthe great point you made.\n\n277\n00:12:28.371 --> 00:12:31.606\nIt does not remove our responsibility\nto pay attention to the logs,\n\n278\n00:12:31.606 --> 00:12:32.640\nquite the opposite.\n\n279\n00:12:32.640 --> 00:12:35.027\nWhat Cherokee was saying is,\nhey, it makes it easier for\n\n280\n00:12:35.027 --> 00:12:36.835\nus to do that cuz now\nthey're in one place.\n\n281\n00:12:36.835 --> 00:12:38.070\nI can go look at them.\n\n282\n00:12:38.070 --> 00:12:39.794\nI don't have to go to tender for machines.\n\n283\n00:12:39.794 --> 00:12:41.972\nI could see them in one place and\npay attention from there.\n\n284\n00:12:41.972 --> 00:12:45.508\nWhich is a great point, exactly what\nthe value of this technology implies.\n\n285\n00:12:45.508 --> 00:12:49.072\nSo, when we go to subscriptions,\nnormally this folder is blank.\n\n286\n00:12:49.072 --> 00:12:50.191\nThere's nothing here.\n\n287\n00:12:50.191 --> 00:12:51.972\nLet me show you what I mean by that.\n\n288\n00:12:51.972 --> 00:12:56.070\nIt's gonna extend my log time,\nmy lab time here, I got logs on the brain.\n\n289\n00:12:56.070 --> 00:12:57.738\n&gt;&gt; [LAUGH]\n&gt;&gt; Let me come over here to my\n\n290\n00:12:57.738 --> 00:13:00.932\nother machine,\nthis is a little PowerShell thing we're\n\n291\n00:13:00.932 --> 00:13:03.340\ngonna take a look at in\na couple of minutes.\n\n292\n00:13:03.340 --> 00:13:07.693\nSo I'm on my plat VM 01 machine, which is\nwhere I'm pulling the logs from, right?\n\n293\n00:13:07.693 --> 00:13:11.380\nAnd I'm on event viewer, and\nnotice that in here, under subscriptions,\n\n294\n00:13:11.380 --> 00:13:14.962\nI've got nothing cuz by default this\nis blank, there's nothing here.\n\n295\n00:13:14.962 --> 00:13:19.577\nWhat I'm doing is reaching into this\nmachine, pulling the logs out from this\n\n296\n00:13:19.577 --> 00:13:23.554\nEvent log, from the security application,\nthe systems log etc.\n\n297\n00:13:23.554 --> 00:13:26.742\nAnd I'm putting them on this\nother machine using a system and\n\n298\n00:13:26.742 --> 00:13:28.316\nservice to be able to do this.\n\n299\n00:13:28.316 --> 00:13:29.619\nSo I've configured this.\n\n300\n00:13:29.619 --> 00:13:30.945\nLet's take a look at how we did this.\n\n301\n00:13:30.945 --> 00:13:33.963\nWe come in here to Subscriptions,\nnothing here by default.\n\n302\n00:13:33.963 --> 00:13:35.941\nWe right click and\nwe create a subscription.\n\n303\n00:13:35.941 --> 00:13:37.806\nYou can do that from over here as well.\n\n304\n00:13:37.806 --> 00:13:41.332\nNow when I create a subscription,\nI have just a little window here.\n\n305\n00:13:41.332 --> 00:13:42.826\nIt's very simple, you give it a name.\n\n306\n00:13:42.826 --> 00:13:48.108\nNo big deal, so ITProTV2.\n\n307\n00:13:48.108 --> 00:13:50.286\nI just called my other one 1,\nwe'll call this one 2.\n\n308\n00:13:50.286 --> 00:13:52.200\nYou may put a description here, right.\n\n309\n00:13:52.200 --> 00:13:55.596\nDestination log, where do we want to put\nthe information we're gonna capture?\n\n310\n00:13:55.596 --> 00:13:58.515\nNow you don't have to use\nthe forwarded events container.\n\n311\n00:13:58.515 --> 00:14:01.040\nYou can use any other log but\nthe other logs, remember,\n\n312\n00:14:01.040 --> 00:14:02.773\nare gonna have stuff in them already.\n\n313\n00:14:02.773 --> 00:14:05.036\nThe Forwarded Events log\nis empty by default.\n\n314\n00:14:05.036 --> 00:14:06.659\nIt's designed specifically for this.\n\n315\n00:14:06.659 --> 00:14:10.007\nSo, it would be a good idea for\nyou to think about using this one.\n\n316\n00:14:10.007 --> 00:14:12.896\nAnd I'll show you my subscription\nthat's already up and running.\n\n317\n00:14:12.896 --> 00:14:14.764\nAnd it is pointing there as you can see.\n\n318\n00:14:14.764 --> 00:14:17.499\nBut I can choose to pull down and\nput this into,\n\n319\n00:14:17.499 --> 00:14:21.090\nlook at all the logs there,\nall these logs I just showed you.\n\n320\n00:14:21.090 --> 00:14:23.691\nAll the Windows logs are there.\n\n321\n00:14:23.691 --> 00:14:27.903\nI can put it into any of these\nthat are available to us, right?\n\n322\n00:14:27.903 --> 00:14:29.335\nSo, I can decide where I want to put that.\n\n323\n00:14:29.335 --> 00:14:30.856\nYou'll make that call.\n\n324\n00:14:30.856 --> 00:14:33.076\nThen, subscription type and\nsource computers.\n\n325\n00:14:33.076 --> 00:14:37.031\nNow, the trick with forwarding or event\nforwarding, and the thing that can get in\n\n326\n00:14:37.031 --> 00:14:41.065\nthe way, if you're not paying attention,\nis keeping clear in your mind, right?\n\n327\n00:14:41.065 --> 00:14:42.673\nWhat is the source machine or\n\n328\n00:14:42.673 --> 00:14:45.957\nmachines where are we pulling\nlogs from those resources?\n\n329\n00:14:45.957 --> 00:14:47.521\nWhat is my collector?\n\n330\n00:14:47.521 --> 00:14:50.097\nThe machine's gonna gather\nthem all up and, ultimately,\n\n331\n00:14:50.097 --> 00:14:52.423\nbecome the repository where\nI'm gonna look at them.\n\n332\n00:14:52.423 --> 00:14:54.623\nSo we have two vocabulary terms.\n\n333\n00:14:54.623 --> 00:14:55.848\nWhat is the collector?\n\n334\n00:14:55.848 --> 00:14:58.884\nThe machine that's gonna pull all\nof the logs in, in this case,\n\n335\n00:14:58.884 --> 00:15:00.065\nmy Plab DC01 machine,\n\n336\n00:15:00.065 --> 00:15:03.964\nthe machine I'm on right now when the\nsubscription is running, is my collector.\n\n337\n00:15:03.964 --> 00:15:05.189\nWhat are my sources?\n\n338\n00:15:05.189 --> 00:15:07.953\nThe machines I'm gonna gather and\ngrab logs from,\n\n339\n00:15:07.953 --> 00:15:11.178\nmaybe more than one source,\nI may have multiple machines.\n\n340\n00:15:11.178 --> 00:15:13.166\nAs Cherokee was suggesting,\nI may wanna use, so\n\n341\n00:15:13.166 --> 00:15:15.311\nI just wanna keep the vocabulary straight,\nright.\n\n342\n00:15:15.311 --> 00:15:18.964\nSo if you can do that, pretty straight\nforward, so collector initiated.\n\n343\n00:15:18.964 --> 00:15:23.424\nI need to specify the computer by\nadding a domain based computer,\n\n344\n00:15:23.424 --> 00:15:27.154\nthat I want to,\nfrom a computer account perspective,\n\n345\n00:15:27.154 --> 00:15:30.819\nput in so I can gather or\na source computed initiated.\n\n346\n00:15:30.819 --> 00:15:34.086\nI have to specify the domain computer or\nnon-domain computers.\n\n347\n00:15:34.086 --> 00:15:38.003\nNotice when I'm doing source initiated,\nit can be a non-domain computer, but\n\n348\n00:15:38.003 --> 00:15:40.666\nthe collector initiated it's\ngot to be domain based.\n\n349\n00:15:40.666 --> 00:15:43.357\nSo I have some options here.\n\n350\n00:15:43.357 --> 00:15:45.239\nThen, events that I wanna gather.\n\n351\n00:15:45.239 --> 00:15:46.676\nThis is the really cool part, right?\n\n352\n00:15:46.676 --> 00:15:51.521\nLogged anytime, I can specify a time value\nin a range, going back maybe 30 days or\n\n353\n00:15:51.521 --> 00:15:55.124\nlonger, as you could see from\na configuration perspective,\n\n354\n00:15:55.124 --> 00:15:56.460\nI can do custom range.\n\n355\n00:15:56.460 --> 00:16:01.350\nAnd then I can specify in here, what\nmy event range is, date and time, etc.\n\n356\n00:16:01.350 --> 00:16:06.311\nAnd I can then specify what kind of\ninformation five categories, critical,\n\n357\n00:16:06.311 --> 00:16:09.073\nerror warning, information, verbose.\n\n358\n00:16:09.073 --> 00:16:13.731\nAnd then by log or by source,\nby log event logs,\n\n359\n00:16:13.731 --> 00:16:22.830\nanyone of those logs that we saw,\nAre all available to me right there.\n\n360\n00:16:22.830 --> 00:16:26.940\nI can say, you know what, I want the\nPowerShell log and I can just go pull that\n\n361\n00:16:26.940 --> 00:16:31.780\none log in or I can pull security log or\nthe app log or the system log or whatever.\n\n362\n00:16:31.780 --> 00:16:38.250\nSo I can go grab those, or I can do by\nsource and I can specify here, right?\n\n363\n00:16:38.250 --> 00:16:42.580\nMy dot net run time,\nmy active directory information,\n\n364\n00:16:42.580 --> 00:16:45.710\nmy ADDS,\nmy certificate services install, ADCS,\n\n365\n00:16:45.710 --> 00:16:50.090\nFederation Services FS,\nRights Management RMS, Etc.\n\n366\n00:16:50.090 --> 00:16:51.150\nLook at all the different things here,\n\n367\n00:16:51.150 --> 00:16:53.600\nthere's a whole bunch of group\npolicy stuff right there.\n\n368\n00:16:53.600 --> 00:16:55.510\nI can look at group policy application.\n\n369\n00:16:55.510 --> 00:16:59.240\nSo I can be very prescriptive and narrowly\ndefine a single event or event category.\n\n370\n00:16:59.240 --> 00:17:04.170\nAnd pull logs in just from that source and\nsee those event sources if I want.\n\n371\n00:17:04.170 --> 00:17:09.290\nSo I can go and do all that specify\nall that, when I'm done and\n\n372\n00:17:09.290 --> 00:17:11.935\nI set it up,\nassuming I've done it correctly.\n\n373\n00:17:11.935 --> 00:17:14.805\nI will get a green circle, white check,\nand I'll be able to see okay,\n\n374\n00:17:14.805 --> 00:17:20.135\nthis is a forward event, status active,\ncollector, minus collector initiated.\n\n375\n00:17:20.135 --> 00:17:22.855\nAnd then we can always go in and\nwe can see what's going on here.\n\n376\n00:17:22.855 --> 00:17:25.315\nWe go to Properties just\nto see how it's programmed.\n\n377\n00:17:25.315 --> 00:17:28.235\nSo you can see mine is forwarded events,\ncollector initiated.\n\n378\n00:17:28.235 --> 00:17:32.965\nI initiated from the one machine,\nmeaning I'm pulling from there and\n\n379\n00:17:32.965 --> 00:17:35.040\npulling and dropping here, right?\n\n380\n00:17:35.040 --> 00:17:36.890\nSo I'm specifying that.\n\n381\n00:17:36.890 --> 00:17:39.980\nAnd you could see the events\nthat I'm pulling in.\n\n382\n00:17:39.980 --> 00:17:43.630\nI'm doing all five categories, and\nI'm doing the app security setup and\n\n383\n00:17:43.630 --> 00:17:45.080\nsystem logs.\n\n384\n00:17:45.080 --> 00:17:48.660\nSo I've pulled those logs in,\nthat's what's feeding the 300 or so\n\n385\n00:17:48.660 --> 00:17:51.030\nactivities that are up there right now.\n\n386\n00:17:51.030 --> 00:17:53.380\nAnd I can also, by the way,\nspecify under Advanced,\n\n387\n00:17:53.380 --> 00:17:56.460\nwhether I want the machine account or\nthe user account, so I can go in.\n\n388\n00:17:56.460 --> 00:17:59.420\nAnd one of the tricks is\nthat the selected account,\n\n389\n00:17:59.420 --> 00:18:02.620\nit tells you there,\nmust have read access to the source logs.\n\n390\n00:18:02.620 --> 00:18:04.880\nI'm gonna show you how we can\nfigure that out in just a minute.\n\n391\n00:18:04.880 --> 00:18:07.300\nGot a command we can use for\nPower Shell Commandlet to do that.\n\n392\n00:18:07.300 --> 00:18:10.400\nSo I'll you show you either way how\nwe add them into that special group.\n\n393\n00:18:10.400 --> 00:18:12.980\nWe have to put the computer account or\nuser account, too,\n\n394\n00:18:12.980 --> 00:18:13.830\nin order to be able to do that.\n\n395\n00:18:13.830 --> 00:18:16.030\nI'm gonna show you that\nin just a second here.\n\n396\n00:18:16.030 --> 00:18:19.550\nBut let's go in and\ntake a look at one other thing.\n\n397\n00:18:19.550 --> 00:18:20.440\nRun time status.\n\n398\n00:18:20.440 --> 00:18:21.360\nVery important to check this.\n\n399\n00:18:21.360 --> 00:18:25.710\nSo if everything is running well,\nwe'll highlight here and we'll see.\n\n400\n00:18:25.710 --> 00:18:28.810\nYeah this is good, no additional issues or\nconcerns but a lot of times, and\n\n401\n00:18:28.810 --> 00:18:31.070\nthis is the little tricky part.\n\n402\n00:18:31.070 --> 00:18:34.880\nYou may occasionally see this\nwhere the green circle is there,\n\n403\n00:18:34.880 --> 00:18:40.340\neverything looks good, you got your source\ncode or whatever is sitting here as.\n\n404\n00:18:40.340 --> 00:18:41.080\nLooks like it's all good.\n\n405\n00:18:41.080 --> 00:18:44.630\nYou come in here and you got a red\ncircle sitting on the inside of this\n\n406\n00:18:44.630 --> 00:18:47.420\nevent window here for source, and\nit says something like, I can't.\n\n407\n00:18:47.420 --> 00:18:48.070\nI don't have permission.\n\n408\n00:18:48.070 --> 00:18:49.080\nI don't have rights.\n\n409\n00:18:49.080 --> 00:18:50.110\nSomething's wrong.\n\n410\n00:18:50.110 --> 00:18:52.210\nAnd although it looks on\nthe surface like it's running,\n\n411\n00:18:52.210 --> 00:18:53.340\nnothing's actually happening.\n\n412\n00:18:53.340 --> 00:18:54.818\nAnd I've seen that happen with this tool.\n\n413\n00:18:54.818 --> 00:18:59.060\nSo, you gotta actually go in and\nnot just trust the outer indicator here.\n\n414\n00:18:59.060 --> 00:19:03.005\nBut right click, do the due diligence\nhere by looking at the runtime status,\n\n415\n00:19:03.005 --> 00:19:06.080\ncuz this is where the errors will\nshow up if there is a problem.\n\n416\n00:19:06.080 --> 00:19:07.020\nSo you want to know that.\n\n417\n00:19:07.020 --> 00:19:10.451\nAnd a lot of times the errors that\nare here are gonna be permission based,\n\n418\n00:19:10.451 --> 00:19:12.365\naccess denied is what you see a lot.\n\n419\n00:19:12.365 --> 00:19:14.170\nCuz you don't do what\nI'm about to show you,\n\n420\n00:19:14.170 --> 00:19:18.190\nwith putting the computer user account and\nit's the collector account onto or\n\n421\n00:19:18.190 --> 00:19:20.430\ninto the group that has to see these logs.\n\n422\n00:19:20.430 --> 00:19:22.090\nI'm gonna show you what I\nmean by that right now.\n\n423\n00:19:22.090 --> 00:19:23.600\nSo, that can get in the way.\n\n424\n00:19:23.600 --> 00:19:25.270\nNow, once I set this up,\n\n425\n00:19:25.270 --> 00:19:29.710\nyou could see I've pulled in 300 something\nevents here and I'm continuing to add.\n\n426\n00:19:29.710 --> 00:19:34.230\nWhen I set this up and let it ran before\nwe got on for this particular episode\n\n427\n00:19:34.230 --> 00:19:38.560\nwe'll let it run for a few minutes just to\npopulate about 170 or so entries in there,\n\n428\n00:19:38.560 --> 00:19:42.540\nhit the refresh as we're\ncoming on to double to 335.\n\n429\n00:19:42.540 --> 00:19:46.550\nSo I'm actively gathering stuff in\nhere every so often and pulling it in.\n\n430\n00:19:46.550 --> 00:19:49.690\nJust wanna make sure you're aware\nof that we can obviously update and\n\n431\n00:19:49.690 --> 00:19:54.870\nrefresh here, come in, do a quick refresh.\n\n432\n00:19:54.870 --> 00:19:57.540\nAnd we may or may not see an increase\nin the number of items depending on\n\n433\n00:19:57.540 --> 00:19:59.500\nthe activity going on\non the other machine.\n\n434\n00:19:59.500 --> 00:20:01.170\nAll right, so what are we gonna do,\nhow do we do this.\n\n435\n00:20:01.170 --> 00:20:02.271\nWell, let's take a look.\n\n436\n00:20:02.271 --> 00:20:06.479\nWe do have here some steps that\nwe have to go through to set\n\n437\n00:20:06.479 --> 00:20:08.730\nup both sides of this divide.\n\n438\n00:20:08.730 --> 00:20:10.680\nWant to run them through\nwith you very quickly.\n\n439\n00:20:10.680 --> 00:20:11.930\nNow on Server 16, Windows 10,\n\n440\n00:20:11.930 --> 00:20:15.640\nwhich is what we are here to\ntalk about Server 16 this step,\n\n441\n00:20:15.640 --> 00:20:19.910\nwe're now in quick config does not need\nto be run Winrm is already configured.\n\n442\n00:20:19.910 --> 00:20:21.920\nWindows remote management\nis what Winrm stands for.\n\n443\n00:20:21.920 --> 00:20:26.060\nWe wanna zoom out management service,\nthe Winrm is already configured up and\n\n444\n00:20:26.060 --> 00:20:30.511\nrunning, but on older systems, we can do\nthis on Server 12, 12R2 for instance.\n\n445\n00:20:30.511 --> 00:20:33.980\nYou do after Winrm quick config\nfrom an admin command prompt.\n\n446\n00:20:33.980 --> 00:20:38.320\nTo do the configuration on the service and\nmake sure that all the things necessary\n\n447\n00:20:38.320 --> 00:20:41.266\nthat have to be configured along\nwith that are gonna be in place.\n\n448\n00:20:41.266 --> 00:20:44.670\nBut I ran it just to show you, so\nwhen each of the two machines,\n\n449\n00:20:44.670 --> 00:20:50.430\nthe collector and or the source or\nsources we will run Win RM QuickConfig,\n\n450\n00:20:50.430 --> 00:20:54.410\nnormally you just get back either an okay,\ngood, or it's already running, like\n\n451\n00:20:54.410 --> 00:20:58.620\nI got here, then once you've done that, I\nwent around and did that on both machines.\n\n452\n00:20:58.620 --> 00:21:05.140\nThen on the machine that is gonna\nact as the event source computer,\n\n453\n00:21:05.140 --> 00:21:07.730\nor rather excuse me, once the event\nsource computer is activated,\n\n454\n00:21:07.730 --> 00:21:10.950\nthe one that's gonna be the collector,\nyou're then gonna go ahead and\n\n455\n00:21:10.950 --> 00:21:16.250\nyou're gonna run the wecutil,\nspace QC for quick config as well.\n\n456\n00:21:16.250 --> 00:21:21.080\nAnd this is the [COUGH] commandlet that\nwill go through or the command that will\n\n457\n00:21:21.080 --> 00:21:23.970\ngo through and quickly configure,\nthe Windows Event Collector service and\n\n458\n00:21:23.970 --> 00:21:26.910\nas you could see configure it so\nthat it will startup properly.\n\n459\n00:21:26.910 --> 00:21:29.650\nSo I did that, hit y for\nyes to configure that.\n\n460\n00:21:29.650 --> 00:21:33.230\nSo we get these two commands,\nset these up on the collector.\n\n461\n00:21:33.230 --> 00:21:39.100\nOn the source machine, came in and\n\n462\n00:21:39.100 --> 00:21:42.060\njust ran winrm quickconfig,\nas you can see there, right?\n\n463\n00:21:42.060 --> 00:21:43.550\nSo I went ahead and I did that.\n\n464\n00:21:43.550 --> 00:21:47.340\nSo I did that on both sides,\ndid the winec or\n\n465\n00:21:47.340 --> 00:21:50.130\nwec util quickconfig on the collector,\nright?\n\n466\n00:21:50.130 --> 00:21:51.110\nDid all those steps.\n\n467\n00:21:51.110 --> 00:21:54.320\nAnd I've detailed all this out in\nthe notes for you, by the way, as well.\n\n468\n00:21:54.320 --> 00:21:58.410\nI'm just kinda stepping through my quick\nconfigure notes here just to keep up\n\n469\n00:21:58.410 --> 00:21:59.630\nwith you and show you what we're doing.\n\n470\n00:21:59.630 --> 00:22:01.610\nBut all of this is detailed in the notes.\n\n471\n00:22:01.610 --> 00:22:07.210\nIn addition, on the source machine,\nremember we talked about having that group\n\n472\n00:22:07.210 --> 00:22:11.400\nor that machine counter, user counter\nadded into the appropriate group so\n\n473\n00:22:11.400 --> 00:22:14.790\nthat we have rights to see those logs and\ngather them, right?\n\n474\n00:22:14.790 --> 00:22:18.360\nAnd so,\nI come here on the machine in this case,\n\n475\n00:22:18.360 --> 00:22:22.190\non the source machine and notice that\nI've added an additional command here.\n\n476\n00:22:23.310 --> 00:22:25.950\nJust highlight so\nyou can see it right here.\n\n477\n00:22:25.950 --> 00:22:28.980\nI use the net local group command,\nin order to be\n\n478\n00:22:28.980 --> 00:22:34.090\nable to add the machine account for\nplabdc01, which is the collector machine.\n\n479\n00:22:34.090 --> 00:22:36.800\nI've added it into the event\nlog readers group, and\n\n480\n00:22:36.800 --> 00:22:40.160\nI've done that in order to be able to\nensure that the machine that's gonna\n\n481\n00:22:40.160 --> 00:22:43.260\nbe used as the collector,\nand the machine account for\n\n482\n00:22:43.260 --> 00:22:47.000\nthe collector has rights to pull\nthe logs when I create the subscription.\n\n483\n00:22:47.000 --> 00:22:50.530\nThis is what gets you in trouble with that\naccess denied error I was talking about\n\n484\n00:22:50.530 --> 00:22:51.880\non the runtime status.\n\n485\n00:22:51.880 --> 00:22:55.860\nIf you don't set this up on the right\nmachine, you don't set the right account\n\n486\n00:22:55.860 --> 00:22:58.880\non the right machine, when you go\nfrom the collector to pull the logs,\n\n487\n00:22:58.880 --> 00:23:00.770\nyou get an access denied error message.\n\n488\n00:23:00.770 --> 00:23:04.820\nThe way you fix that is ensuring that\nyou set the machine account up correctly\n\n489\n00:23:04.820 --> 00:23:09.050\non every source so that the collector\naccount has rights to pull the locks.\n\n490\n00:23:09.050 --> 00:23:12.200\nThat's why I kept saying,\nhey the toughest part about this\n\n491\n00:23:12.200 --> 00:23:15.740\nis making sure you keep straight in your\nhead which machine is the collector,\n\n492\n00:23:15.740 --> 00:23:19.490\nwhich machines are the sources, and\nhave I set the right machine account\n\n493\n00:23:19.490 --> 00:23:23.120\nin the right group on the right machine\nin order to enable, or facilitate access.\n\n494\n00:23:23.120 --> 00:23:24.600\nThat's what we've got to focus on.\n\n495\n00:23:24.600 --> 00:23:25.620\nAnd just make sure we're doing.\n\n496\n00:23:25.620 --> 00:23:28.840\nSo, you could see that here,\nnet local group, event log readers.\n\n497\n00:23:28.840 --> 00:23:31.700\nPut the quotes around them because\nit has spaces in the name, right?\n\n498\n00:23:31.700 --> 00:23:34.690\nPLABDC01, whatever the machine name is.\n\n499\n00:23:34.690 --> 00:23:37.709\nAdd, and then does allow, as you can see,\ncommand completed successfully, for\n\n500\n00:23:37.709 --> 00:23:38.470\nthat to take place.\n\n501\n00:23:38.470 --> 00:23:42.379\nNow, if you wanna do that and\nyou want to be able to go in and\n\n502\n00:23:42.379 --> 00:23:47.512\ndo that from PowerShell because you\ncould do this from PowerShell as well,\n\n503\n00:23:47.512 --> 00:23:51.520\nlet me just show you how you\ncould do that from PowerShell.\n\n504\n00:23:51.520 --> 00:23:56.470\nYou don't want to use the net local group\nor net local group add, Commandlet,\n\n505\n00:23:56.470 --> 00:23:59.920\nor excuse me,\nnet local group from the command line but\n\n506\n00:23:59.920 --> 00:24:02.530\nrather you want to use power shell.\n\n507\n00:24:02.530 --> 00:24:07.170\nAdd AD group member is the commandlet that\nwill do the same thing I just showed you.\n\n508\n00:24:07.170 --> 00:24:10.790\nI just pulled the help file up here for\nyou after I updated help for power shell.\n\n509\n00:24:10.790 --> 00:24:12.630\nAnd you can see add AD group member.\n\n510\n00:24:12.630 --> 00:24:16.640\nAnd we can do the same thing we just did\nusing the add AD group member command lit\n\n511\n00:24:16.640 --> 00:24:18.030\nthat we did with net local groups.\n\n512\n00:24:18.030 --> 00:24:18.850\nYou can do either one.\n\n513\n00:24:18.850 --> 00:24:22.800\nThe net command is very, very versatile,\ncan use it for all sort of things.\n\n514\n00:24:22.800 --> 00:24:24.530\nIt's been around for a million years.\n\n515\n00:24:24.530 --> 00:24:27.540\nBut the add AD group member will\nallow us to do this as well.\n\n516\n00:24:27.540 --> 00:24:30.270\nSo we can do this from here,\njust to show you that.\n\n517\n00:24:30.270 --> 00:24:33.630\nNow in addition, once I've set all\nthis up and done all this, right?\n\n518\n00:24:33.630 --> 00:24:36.926\nAnd I have all this running, and you\ncould see I'm just aggregating my logs,\n\n519\n00:24:36.926 --> 00:24:37.901\nI'm up to 335 now.\n\n520\n00:24:37.901 --> 00:24:40.440\nJust got a couple of new\nevents that just popped in.\n\n521\n00:24:40.440 --> 00:24:43.707\nI can see any of these events drill and\nsee which ever one it is, and\n\n522\n00:24:43.707 --> 00:24:46.750\nyou can see here you know\nplaiddm01 is the source, right?\n\n523\n00:24:46.750 --> 00:24:48.480\nWe're getting all stuff from the source.\n\n524\n00:24:48.480 --> 00:24:53.090\nThis one tells me diagnostics system\npost service entered the stop state.\n\n525\n00:24:53.090 --> 00:24:56.620\nSo I have some sort of host service that\nmay be stopped, probably not a big deal,\n\n526\n00:24:56.620 --> 00:24:59.180\nwe're not worried about it, but\nit is giving me and indications and\n\n527\n00:24:59.180 --> 00:25:00.800\nupdates about a variety of things.\n\n528\n00:25:00.800 --> 00:25:03.490\nNow can I do something like\nthis with other technology?\n\n529\n00:25:03.490 --> 00:25:06.400\nCan I use auto collection\nservices as I mentioned.\n\n530\n00:25:06.400 --> 00:25:08.390\nI could set up ACS using SCOM.\n\n531\n00:25:08.390 --> 00:25:10.430\nCan I use SCOM itself to do monitoring?\n\n532\n00:25:10.430 --> 00:25:11.270\nI could do that as well.\n\n533\n00:25:11.270 --> 00:25:13.690\nSo lots of ways to achieve\nthe same end result.\n\n534\n00:25:13.690 --> 00:25:16.660\nThe question is whether or\nnot I wanna just be specific on one or\n\n535\n00:25:16.660 --> 00:25:19.800\ntwo local machines,\nwhether I wanna have the variety and\n\n536\n00:25:19.800 --> 00:25:22.160\nthe capability to pull this\nin from the enterprise level.\n\n537\n00:25:22.160 --> 00:25:23.360\nSo let's just take a look quickly.\n\n538\n00:25:24.730 --> 00:25:28.196\nBeing able to go in and set up ACS,\nthe Auto Collection Services,\n\n539\n00:25:28.196 --> 00:25:29.716\nI mentioned you can do this.\n\n540\n00:25:29.716 --> 00:25:33.410\nIf you want to do this, you need to\nbe running System Center Ops Manager.\n\n541\n00:25:33.410 --> 00:25:35.058\nSo we need the SCOM product.\n\n542\n00:25:35.058 --> 00:25:38.337\nAnd we can then install the ACS\ncollector and the ACS database.\n\n543\n00:25:38.337 --> 00:25:40.328\nWe need a SQL database to back end this.\n\n544\n00:25:40.328 --> 00:25:45.318\nSo it is a more involved set-up and\na more involved enterprise level solution,\n\n545\n00:25:45.318 --> 00:25:49.650\nbut we run the auto collection\nservices setup from the SCOM product.\n\n546\n00:25:49.650 --> 00:25:52.240\nThe ISO or\nwhatever the download media will be.\n\n547\n00:25:52.240 --> 00:25:54.800\nWe also have the ability to do this for\nUnix and Linux systems, so\n\n548\n00:25:54.800 --> 00:25:59.420\nwe can bring in third party and\nexternal OS's and monitor them as well.\n\n549\n00:25:59.420 --> 00:26:03.580\nVery straight forward walk-through, can\nread up on it here to see how we do this.\n\n550\n00:26:03.580 --> 00:26:08.530\nOnce we get this all set up, we then\ndeploy CS reporting to start looking\n\n551\n00:26:08.530 --> 00:26:11.080\nat all the aggregation of all\nthe log feeds that we have.\n\n552\n00:26:11.080 --> 00:26:14.620\nSo this is essentially a STEM system\nthat Microsoft is putting together and\n\n553\n00:26:14.620 --> 00:26:17.160\nrunning through the SCOM product line.\n\n554\n00:26:17.160 --> 00:26:18.970\nSo you have capabilities to do that.\n\n555\n00:26:18.970 --> 00:26:22.580\nIt would be a good idea just to make\nsure you're familiar with the high level\n\n556\n00:26:22.580 --> 00:26:24.730\nof what ACS is and\nthe fact we can set it up.\n\n557\n00:26:24.730 --> 00:26:27.270\nMay come up and\nmay be something to consider,\n\n558\n00:26:27.270 --> 00:26:29.870\nat least just to have a passing\nknowledge of, let's put it that way.\n\n559\n00:26:29.870 --> 00:26:31.550\nThe guards two exam preparation.\n\n560\n00:26:31.550 --> 00:26:33.110\nAll right, so\nwe talked about how to do this,\n\n561\n00:26:33.110 --> 00:26:35.530\ntalked about all the other\nstuff associated with this.\n\n562\n00:26:35.530 --> 00:26:38.890\nWhat about some advanced auditing features\nand enabling them for PowerShell?\n\n563\n00:26:38.890 --> 00:26:42.420\nI mentioned I would show you how to do\nthis as well just before we wrap up.\n\n564\n00:26:42.420 --> 00:26:44.570\nWe just minimize our event viewer here.\n\n565\n00:26:44.570 --> 00:26:47.570\nGo back into our group policy management.\n\n566\n00:26:47.570 --> 00:26:50.350\nAnd we do have our power shell log in.\n\n567\n00:26:50.350 --> 00:26:52.520\nGroup policy I told you I would go in and\nconfigure.\n\n568\n00:26:52.520 --> 00:26:53.420\nSo let's right click edit.\n\n569\n00:26:53.420 --> 00:26:56.400\nLet's open this up.\n\n570\n00:26:56.400 --> 00:26:59.010\nLet's just get in here, move this over.\n\n571\n00:27:01.640 --> 00:27:02.520\nKind of, there we go.\n\n572\n00:27:02.520 --> 00:27:07.391\nAll right, so we can open this up, let's\ncome in down here, let's take a look.\n\n573\n00:27:10.720 --> 00:27:13.990\nAnd remember just to show you where we\nwere before we go in and do anything else.\n\n574\n00:27:13.990 --> 00:27:16.350\nWe were looking at advanced policy,\n\n575\n00:27:16.350 --> 00:27:18.390\nauto policy configuration if you remember,\nright?\n\n576\n00:27:18.390 --> 00:27:21.680\nSo we were taking a look at some of this,\nwe've been in here in our other\n\n577\n00:27:21.680 --> 00:27:25.640\ndiscussion, going in and taking a look at\nsome of the settings associated with this.\n\n578\n00:27:25.640 --> 00:27:28.600\nWe also looked at event log,\nlooked at account policies,\n\n579\n00:27:28.600 --> 00:27:30.420\nlooked at a bunch of\ndifferent stuff in here.\n\n580\n00:27:30.420 --> 00:27:33.060\nBut as I pointed out, there may be other\nstuff that you want to be able to do,\n\n581\n00:27:33.060 --> 00:27:37.830\nand sometimes people just overlook\nsome of these options in settings that\n\n582\n00:27:37.830 --> 00:27:38.580\nare in here.\n\n583\n00:27:38.580 --> 00:27:41.810\nLet's come in here,\ngo down here to administrative templates.\n\n584\n00:27:41.810 --> 00:27:48.010\nLet's come in under system down here,\nkind of scroll down and\n\n585\n00:27:48.010 --> 00:27:50.780\nlet's just take a look at one other thing\nthat may be of interest to us before we\n\n586\n00:27:50.780 --> 00:27:54.280\ntake a look at enabling\nPowershell logging.\n\n587\n00:27:54.280 --> 00:28:00.418\nWhere is what I wanted\n\n588\n00:28:00.418 --> 00:28:05.194\nright here, and\n\n589\n00:28:14.740 --> 00:28:15.720\nWindows logon options.\n\n590\n00:28:15.720 --> 00:28:20.330\nAll right, so I wanted to show you one\nthing that also may be of interest to you\n\n591\n00:28:20.330 --> 00:28:21.550\nor at least just to be aware of.\n\n592\n00:28:21.550 --> 00:28:23.030\nIs just a little added hey,\n\n593\n00:28:23.030 --> 00:28:26.760\nthere is a deep setting in there somewhere\nmaybe it's gonna be of interest, right?\n\n594\n00:28:26.760 --> 00:28:29.400\nSo [COUGH], one other things not\nrelated to PowerShell just to be clear,\n\n595\n00:28:29.400 --> 00:28:30.930\nshow you one quick thing before we go.\n\n596\n00:28:30.930 --> 00:28:31.880\nWe take a look at PowerShell.\n\n597\n00:28:31.880 --> 00:28:35.840\nSo in here, just to show you where I am\nbefore I explain this setting to you.\n\n598\n00:28:35.840 --> 00:28:39.120\nAll the way down here, I up here\nat computer configuration polices,\n\n599\n00:28:39.120 --> 00:28:42.190\nwindow settings, security settings,\njust showing you where we were.\n\n600\n00:28:42.190 --> 00:28:46.880\nBut I'm in administrative templates,\nI'm in system all the way down.\n\n601\n00:28:46.880 --> 00:28:51.710\nAnd all the way down at the bottom here,\nunder Windows components.\n\n602\n00:28:51.710 --> 00:28:56.530\nIn the basement almost, all the way\ndown here, under Windows logon options,\n\n603\n00:28:56.530 --> 00:28:58.350\nalmost all the way at\nthe bottom of the list.\n\n604\n00:28:58.350 --> 00:29:02.590\nReport when logon server was not available\nduring user logon, we have that.\n\n605\n00:29:02.590 --> 00:29:06.706\nAlso display information about previous\nlogons during previous logons,\n\n606\n00:29:06.706 --> 00:29:08.451\nduring these [INAUDIBLE] yes or no.\n\n607\n00:29:08.451 --> 00:29:11.890\nNow a lot of times, this particular\nsetting gets us into trouble.\n\n608\n00:29:11.890 --> 00:29:15.200\nAnd I just wanna point out why you should\nnot be using it unless you have a policy\n\n609\n00:29:15.200 --> 00:29:17.140\nrequirement, or some statutory,\n\n610\n00:29:17.140 --> 00:29:20.200\nsome sort of regulatory compliance\nissue that you're addressing here.\n\n611\n00:29:20.200 --> 00:29:24.130\nIf you actually go in and say and\nI have some customers to do this,\n\n612\n00:29:24.130 --> 00:29:28.250\nright Put the log on information in for\nthe last user.\n\n613\n00:29:28.250 --> 00:29:29.270\nYou may have seen this before.\n\n614\n00:29:29.270 --> 00:29:31.020\nA lot of times you'll\ngo to the workstation,\n\n615\n00:29:31.020 --> 00:29:33.170\nthe last user account is sitting there.\n\n616\n00:29:33.170 --> 00:29:35.880\nYou have to put your own in,\nyou ever wonder why that happens.\n\n617\n00:29:35.880 --> 00:29:38.828\nWell, it happens because someone has\nprobably set this policy up and said hey,\n\n618\n00:29:38.828 --> 00:29:39.801\nlet's put that in there.\n\n619\n00:29:39.801 --> 00:29:42.110\nNow there are reasons why people do this.\n\n620\n00:29:42.110 --> 00:29:46.540\nIn a computer that may be logged onto\nusing the same account all the time but\n\n621\n00:29:46.540 --> 00:29:48.500\nyou have shift workers coming in, right.\n\n622\n00:29:48.500 --> 00:29:49.400\nMaybe on the factory floor,\n\n623\n00:29:49.400 --> 00:29:49.930\n&gt;&gt; An operator on a-\n&gt;&gt; Something like that, yeah.\n\n624\n00:29:49.930 --> 00:29:51.270\n&gt;&gt; Exactly, a manufacturing floor.\n\n625\n00:29:51.270 --> 00:29:54.300\n&gt;&gt; And so you may do that, and so to make\nit easier for them you'll put that on.\n\n626\n00:29:54.300 --> 00:29:56.750\nOkay, I get that, no big deal,\nwhen you enable it.\n\n627\n00:29:56.750 --> 00:29:59.730\nBut the problem is, you're leaving one\nof the two very important pieces of\n\n628\n00:29:59.730 --> 00:30:02.120\ninformation that a hacker may need behind.\n\n629\n00:30:02.120 --> 00:30:04.075\nBecause if we leave that\nuser account there,\n\n630\n00:30:04.075 --> 00:30:04.730\n&gt;&gt; 50% of the work is\n\n631\n00:30:04.730 --> 00:30:05.360\nalready done for them.\n\n632\n00:30:05.360 --> 00:30:06.420\n&gt;&gt; It's already done for them, right.\n\n633\n00:30:06.420 --> 00:30:09.330\nSo I just wanna point out that\nsome of these settings even though\n\n634\n00:30:09.330 --> 00:30:12.370\nwe don't always pay attention to them,\neven those we don't realize are there.\n\n635\n00:30:12.370 --> 00:30:15.830\nIncredibly important and valuable, things\nwe really got to pay attention to and\n\n636\n00:30:15.830 --> 00:30:16.770\nknow about.\n\n637\n00:30:16.770 --> 00:30:19.950\nJust get in and really understand\nwhat we can do with them, or\n\n638\n00:30:19.950 --> 00:30:23.830\nmore importantly, the reasons why we might\nwant or not want to turn these things on.\n\n639\n00:30:23.830 --> 00:30:26.650\nBecause they can actually get us into\na lot of trouble if we are not paying\n\n640\n00:30:26.650 --> 00:30:28.160\nattention and if we are not careful.\n\n641\n00:30:28.160 --> 00:30:32.250\nAnd most importantly if we are not sure of\nwhat we are doing or how we are doing it.\n\n642\n00:30:32.250 --> 00:30:33.380\nLet's put it that way, right.\n\n643\n00:30:33.380 --> 00:30:35.160\nSo I just wanna make sure\nyou are familiar with that.\n\n644\n00:30:35.160 --> 00:30:39.570\nAll right, so having said that let's\ntake a look at our PowerShell item,\n\n645\n00:30:39.570 --> 00:30:40.850\nright down here.\n\n646\n00:30:40.850 --> 00:30:44.963\nAlmost in the sub basement,\nsub sub basement, [CROSSTALK].\n\n647\n00:30:44.963 --> 00:30:48.052\nSo right below where we were,\nright, just Windows PowerShell,\n\n648\n00:30:48.052 --> 00:30:50.310\nwhat can we do to turn on\nlogging in PowerShell.\n\n649\n00:30:50.310 --> 00:30:53.250\nAnd I'm gonna show you how to use some\nadvanced PowerShell features in a minute\n\n650\n00:30:53.250 --> 00:30:55.070\nto query the event log, but\n\n651\n00:30:55.070 --> 00:30:57.400\nlet's just take a look at how\nwe can turn the logging on.\n\n652\n00:30:57.400 --> 00:31:01.480\nSo open the Windows PowerShell, what,\na total of six settings here, right?\n\n653\n00:31:01.480 --> 00:31:02.930\nNo, five, yeah, five settings.\n\n654\n00:31:02.930 --> 00:31:05.070\nSo you have five different\nsettings I can enable here.\n\n655\n00:31:05.070 --> 00:31:09.360\nTurn on Module Logging, Turn on\nPowerShell Script Block Logging, Turn on\n\n656\n00:31:09.360 --> 00:31:13.745\nScript Execution, PowerShell Transcription\nand the source path for update help.\n\n657\n00:31:13.745 --> 00:31:16.655\nThree of this while they're important are\nreally not of interest to us with regards\n\n658\n00:31:16.655 --> 00:31:17.635\nto logging.\n\n659\n00:31:17.635 --> 00:31:20.715\nTwo of them are really what\nwe wanna focus on log input.\n\n660\n00:31:20.715 --> 00:31:23.505\nModule logging and script block logging.\n\n661\n00:31:23.505 --> 00:31:26.092\nNeither which enable by default,\nboth of which\n\n662\n00:31:26.092 --> 00:31:30.542\nwill allow us through policy to specify\nthat whenever PowerShell is being used,\n\n663\n00:31:30.542 --> 00:31:32.512\nwe wanna be able to log what's happening.\n\n664\n00:31:32.512 --> 00:31:34.062\nNow, why would you wanna do this?.\n\n665\n00:31:34.062 --> 00:31:38.450\nWell, if you import a module and use\nthe commands associated with that module.\n\n666\n00:31:38.450 --> 00:31:41.255\nWhat you would have to do to bring\nfunctionality in if it's not already\n\n667\n00:31:41.255 --> 00:31:44.154\nloaded, you would then be able to keep\ntrack of the fact that somebody's\n\n668\n00:31:44.154 --> 00:31:45.170\nimporting that module.\n\n669\n00:31:45.170 --> 00:31:48.450\nAnd using those commands, and\nthen perhaps removes the module,\n\n670\n00:31:48.450 --> 00:31:51.202\nremoving any tracer evidence\nof the fact they used it.\n\n671\n00:31:51.202 --> 00:31:54.614\nAnd if you're not logging to see that,\nYou would never know that happened.\n\n672\n00:31:54.614 --> 00:31:58.092\nSo for instance, give you\na hypothetical hacking slash, usage,\n\n673\n00:31:58.092 --> 00:31:59.870\nslash business case here.\n\n674\n00:31:59.870 --> 00:32:03.240\nLets say that on an administrative\nwork station, I go and\n\n675\n00:32:03.240 --> 00:32:08.420\nI import the Active Directory,\nthe Azure AD module for\n\n676\n00:32:08.420 --> 00:32:11.510\nActive Directory management,\nwhich is not normally loaded by default.\n\n677\n00:32:11.510 --> 00:32:15.070\nI use that to create some shadow\naccounts that I can then come back and\n\n678\n00:32:15.070 --> 00:32:19.730\nuse later with elevated privilege access\nto be able to hack and perhaps gain access\n\n679\n00:32:19.730 --> 00:32:24.160\nto information, financials,\nintellectual property, who knows what?\n\n680\n00:32:24.160 --> 00:32:27.040\nWhich is a highly plausible scenario for\n\n681\n00:32:27.040 --> 00:32:30.180\nan insider to be able to\ndo as an insider attack.\n\n682\n00:32:30.180 --> 00:32:32.710\nIt's not unlikely that something\nlike this could happen.\n\n683\n00:32:32.710 --> 00:32:38.020\nIf I'm not doing and checking on and\nrather I'm enabling and looking for\n\n684\n00:32:38.020 --> 00:32:41.940\nmodule logging, I'm not gonna have\nevidence of the fact this person enabled\n\n685\n00:32:41.940 --> 00:32:45.950\nthis module on their system, then I'm not\ngonna see evidence of the use of module.\n\n686\n00:32:45.950 --> 00:32:49.470\nBut if I'm doing this,\nI will see the import of the module,\n\n687\n00:32:49.470 --> 00:32:53.470\nI'll see the use of the commands of\nthe module, so this would give me insight.\n\n688\n00:32:53.470 --> 00:32:57.614\nIf I'm doing PowerShell ScriptBlock\nlogging, another one that I'd have to turn\n\n689\n00:32:57.614 --> 00:33:01.396\non, I will be able to see the use of\nscripts in ScriptBlocks, but any script\n\n690\n00:33:01.396 --> 00:33:05.237\nthat is called from a script, any script\nin other words, that is launched as\n\n691\n00:33:05.237 --> 00:33:09.232\na result of execution of something in\nthe system, I will also see evidence of.\n\n692\n00:33:09.232 --> 00:33:12.638\nA lot of times people will write exploit\nscripts in PowerShell using them to\n\n693\n00:33:12.638 --> 00:33:16.208\nremote into other machines do other\nthings through PowerShell remoting, and\n\n694\n00:33:16.208 --> 00:33:19.886\nthrough the use of WIN RM, the Windows\nRemote Management service we just talking\n\n695\n00:33:19.886 --> 00:33:22.940\nabout with event management forwarding,\nwe could do this stuff.\n\n696\n00:33:22.940 --> 00:33:24.453\nWe're not logging for this here,\n\n697\n00:33:24.453 --> 00:33:27.009\nagain we may not see evidence\nof those scripts being used,\n\n698\n00:33:27.009 --> 00:33:30.440\nwe may not know the name of the script,\nwhere it came from or what it does.\n\n699\n00:33:30.440 --> 00:33:33.410\nBut if I see logging\nan evidence of the script used\n\n700\n00:33:33.410 --> 00:33:35.910\nI actually then will be able\nto tell that it was done and\n\n701\n00:33:35.910 --> 00:33:39.850\ntell what machine it was done on, giving\nme a leg up as a security practitioner to\n\n702\n00:33:39.850 --> 00:33:42.230\nhave a better sense of these things,\nso it's gonna be very important for\n\n703\n00:33:42.230 --> 00:33:44.970\nus to keep track of this and\nhave a sense of these things happening.\n\n704\n00:33:44.970 --> 00:33:45.830\nHow do we turn them on?\n\n705\n00:33:45.830 --> 00:33:49.750\nJust double click on one of them or\nboth of them and you'll see then enabled,\n\n706\n00:33:49.750 --> 00:33:54.470\nlog, script lock invocation, start\nstop events so calling the scripts and\n\n707\n00:33:54.470 --> 00:33:59.350\ncalling the execution of them, I can log,\nand or module logging you will see here\n\n708\n00:34:01.210 --> 00:34:04.600\nspecify, and then I would then have\nto obviously be proactive here,\n\n709\n00:34:04.600 --> 00:34:07.310\nI would have to specify what\nmodule names I want to log for.\n\n710\n00:34:07.310 --> 00:34:10.080\nIt's not that any module evoked\nwould be on this list, but\n\n711\n00:34:10.080 --> 00:34:14.010\nI would be able to go in, be able to say\nhey these modules something like the user\n\n712\n00:34:14.010 --> 00:34:16.900\nAD management module that may be\n\n713\n00:34:16.900 --> 00:34:19.942\nvery powerful in the sense that I'll have\na lot of tools associated with it's use.\n\n714\n00:34:19.942 --> 00:34:23.410\nI may wanna go ahead and do that,\nthe active directory module itself, right,\n\n715\n00:34:23.410 --> 00:34:25.354\nthe certificate services module,\nthings like that.\n\n716\n00:34:25.354 --> 00:34:28.730\nI may wanna go in and\naudit those and so as a result,\n\n717\n00:34:28.730 --> 00:34:32.510\nI can log information about those by\nputting in the name of the module here and\n\n718\n00:34:32.510 --> 00:34:34.320\nthen I can keep track of\nthem as they're executed.\n\n719\n00:34:34.320 --> 00:34:38.130\nSo, some additional settings and\ncapabilities that may be helpful for us,\n\n720\n00:34:38.130 --> 00:34:39.748\nso just wanna think about that.\n\n721\n00:34:39.748 --> 00:34:44.890\nI did mention to you that I would quickly\nshow you, oops right idea wrong machine.\n\n722\n00:34:44.890 --> 00:34:47.550\nI did mention I would quickly show you two\n\n723\n00:34:47.550 --> 00:34:50.670\noptions to use the event\nviewer in PowerShell.\n\n724\n00:34:50.670 --> 00:34:54.280\nA little bit of advanced PowerShell\nif you will, just to wrap us up here.\n\n725\n00:34:54.280 --> 00:34:56.290\nSo, we can use PowerShell for\na variety of things.\n\n726\n00:34:56.290 --> 00:35:00.790\nWe've shown you, in the last discussion,\na couple of minutes or so on our\n\n727\n00:35:00.790 --> 00:35:04.810\nmodule discussion here, about PowerShell,\nand modules, and scripts and all that, and\n\n728\n00:35:04.810 --> 00:35:07.720\ntalked to you about the fact, and\nshowed you that we can pull events using\n\n729\n00:35:07.720 --> 00:35:10.990\nthe event forwarding, but I mention that\nwe do a lot of this through PowerShell.\n\n730\n00:35:10.990 --> 00:35:14.260\nAnd one of the things we can do here is\nuse a simple command, like Get-EventLog,\n\n731\n00:35:14.260 --> 00:35:18.990\nspecify the name of the log, in this case\nsecurity, a parameter called newest and\n\n732\n00:35:18.990 --> 00:35:20.370\nI just specified a number.\n\n733\n00:35:20.370 --> 00:35:25.198\nAnd what I did when I ran this,\nI just simply pulled the last 20 events at\n\n734\n00:35:25.198 --> 00:35:30.320\nthe top of the security log and it showed\nme what they were at the time I ran it.\n\n735\n00:35:30.320 --> 00:35:34.577\nSo if I wanted to see 30, I put the number\n30 in there or whatever it may be right.\n\n736\n00:35:34.577 --> 00:35:38.490\nAnd then what I did is I came down here\nand spruced it up just a little bit.\n\n737\n00:35:38.490 --> 00:35:41.490\nAdded a little bit of\nadditional complexity here.\n\n738\n00:35:41.490 --> 00:35:43.780\nWe just scroll over so you can see this.\n\n739\n00:35:43.780 --> 00:35:47.010\nSame command, Get-EventLog\nsecurity -newest 20, but piped it.\n\n740\n00:35:47.010 --> 00:35:50.300\nWhen we use a pipe, what we do with\nPowerShell is whatever we execute on\n\n741\n00:35:50.300 --> 00:35:53.710\nthe left of the pipe gets executed,\ncomes out.\n\n742\n00:35:53.710 --> 00:35:56.600\nInstead of explaining to the screen or\nbeing dealt with or\n\n743\n00:35:56.600 --> 00:35:59.220\ndistributed in some way,\nwe store it in memory.\n\n744\n00:35:59.220 --> 00:36:01.643\nWe then push it over to\nthe right side of the pipe and\n\n745\n00:36:01.643 --> 00:36:05.610\nwe feed it as input into whatever command\nor commands that come afterwards.\n\n746\n00:36:05.610 --> 00:36:08.060\nSo it becomes the input for\nthe next set of activities.\n\n747\n00:36:08.060 --> 00:36:13.160\nSo now I'm pushing the list of newest\n20 over to my where-object commandlet,\n\n748\n00:36:13.160 --> 00:36:18.140\nand I'm asking to look for a certain entry\ntype equal to eq, right, we're aliasing or\n\n749\n00:36:18.140 --> 00:36:20.220\nshortening equal to eq.\n\n750\n00:36:20.220 --> 00:36:25.450\nAnd I did FailureAudit, and I just\nclosed my little squiggly parentheses.\n\n751\n00:36:25.450 --> 00:36:28.810\nAnd I did not have any FailureAudit,\nso I got nothing back.\n\n752\n00:36:28.810 --> 00:36:31.770\nThen I did SuccessAudit,\nyou could just see I'm calling each one.\n\n753\n00:36:31.770 --> 00:36:35.700\nAnd when I did SuccessAudit,\nI get the list.\n\n754\n00:36:35.700 --> 00:36:37.440\nIt's the same list as the top 20 there,\n\n755\n00:36:37.440 --> 00:36:41.120\nbecause it's just obviously gonna show\nme successes cuz right now I only have\n\n756\n00:36:41.120 --> 00:36:43.510\nsuccesses in my EventLog,\nbut you get the idea.\n\n757\n00:36:43.510 --> 00:36:48.100\nBy using something relatively simplistic,\nright, just on the fly, two commandlets.\n\n758\n00:36:48.100 --> 00:36:51.736\nAgain event log and a where object\ncommandlet I'm able to actually with\n\n759\n00:36:51.736 --> 00:36:54.600\na pipe, joining them together,\npull information in.\n\n760\n00:36:54.600 --> 00:36:58.164\nIf one gets a little more involved I could\ngo ahead and maybe do an alt, we talked\n\n761\n00:36:58.164 --> 00:37:01.744\nabout grid view for instance [INAUDIBLE]\ngrid view in one of our prior episodes.\n\n762\n00:37:01.744 --> 00:37:05.250\nSo it's, I can do a format list,\nformat table, I could print this,\n\n763\n00:37:05.250 --> 00:37:07.870\nI could just save this to a file,\nI could do all sorts of stuff with it.\n\n764\n00:37:07.870 --> 00:37:11.400\nBut what we're doing with event forwarding\nis really just taking this concept and\n\n765\n00:37:11.400 --> 00:37:14.540\nremotely connecting the machines and\npulling in logs and\n\n766\n00:37:14.540 --> 00:37:17.840\nusing similar thought processes but\nputting into the gooey interface.\n\n767\n00:37:17.840 --> 00:37:21.110\nI can do everything I do with event\nforwarding from command line prompts or\n\n768\n00:37:21.110 --> 00:37:24.920\nfrom PoweShell if I really want to,\nI just gotta work a little harder at it.\n\n769\n00:37:24.920 --> 00:37:27.740\nBut I could use Windows PowerShell\nremoting, connect to machines,\n\n770\n00:37:27.740 --> 00:37:30.590\npull those log files in,\nparse them and load them up, and\n\n771\n00:37:30.590 --> 00:37:32.790\nsee them right there in\nthe command line if I wanted to.\n\n772\n00:37:32.790 --> 00:37:35.370\nSo always be thinking,\nhey, is there another way?\n\n773\n00:37:35.370 --> 00:37:37.530\nWhat can I do,\nhow do I leverage those skills?\n\n774\n00:37:37.530 --> 00:37:38.770\nDefinitely ways to do that.\n\n775\n00:37:38.770 --> 00:37:41.600\nMore advanced, a little bit beyond\nwhat we're talking about here.\n\n776\n00:37:41.600 --> 00:37:44.820\nBut you've shown you several different\nways we can approach this topic\n\n777\n00:37:44.820 --> 00:37:49.790\nusing not only advanced audit policy,\nbut also advanced capabilities to pull\n\n778\n00:37:49.790 --> 00:37:54.340\nevent logs in and examine the output of\nthat content across these two episodes.\n\n779\n00:37:54.340 --> 00:37:55.700\nSo hopefully it was valuable for you.\n\n780\n00:37:55.700 --> 00:37:57.760\nHopefully you got to see\na bunch of different things.\n\n781\n00:37:57.760 --> 00:38:01.980\nJust reminding you before we finish up cuz\nI know you want to always jump in there\n\n782\n00:38:01.980 --> 00:38:04.260\nand make sure we are on\ntarget to finish up.\n\n783\n00:38:04.260 --> 00:38:09.030\nAnd I know you are probably gonna use that\n&gt;&gt; Am I?\n\n784\n00:38:09.030 --> 00:38:09.591\n&gt;&gt; I'm just saying you're looking at him.\n\n785\n00:38:09.591 --> 00:38:10.190\nI'm thinking maybe.\n\n786\n00:38:10.190 --> 00:38:10.950\nI don't know.\n\n787\n00:38:10.950 --> 00:38:11.620\nWe'll see.\n\n788\n00:38:11.620 --> 00:38:16.158\nBut I just want to remind you quickly,\nwe did specifically call out and show you.\n\n789\n00:38:16.158 --> 00:38:19.140\nAnd I'm gonna pull it back up on\nthe screen while we are talking,\n\n790\n00:38:19.140 --> 00:38:19.810\nas a matter of fact.\n\n791\n00:38:19.810 --> 00:38:21.156\nSo give me half a second\nwhile I'm doing this.\n\n792\n00:38:21.156 --> 00:38:23.920\nBut I wanna just make sure I\nleave you with this thought and\n\n793\n00:38:23.920 --> 00:38:26.240\nthat you are familiar with this, right.\n\n794\n00:38:26.240 --> 00:38:30.280\nWe did call out and specifically talk\nabout how to turn on module logging and\n\n795\n00:38:30.280 --> 00:38:32.200\nPowerShell script log logging.\n\n796\n00:38:32.200 --> 00:38:34.810\nThe reason I'm hyping this and\ntalking about this, specifically\n\n797\n00:38:34.810 --> 00:38:38.520\nreminding you of this, these are two of\nseveral exam objectives in this area.\n\n798\n00:38:38.520 --> 00:38:42.020\nBut remember, PowerShell's a key focus for\nMicrosoft, right?\n\n799\n00:38:42.020 --> 00:38:43.465\nGet people using that technology,\n\n800\n00:38:43.465 --> 00:38:46.385\ngetting us in there thinking about\ndifferent ways to do things.\n\n801\n00:38:46.385 --> 00:38:48.067\nThey call these out on\nthe exam objectives.\n\n802\n00:38:48.067 --> 00:38:51.012\nHey how do we turn this stuff on,\nhow do we make sure it's working?\n\n803\n00:38:51.012 --> 00:38:52.675\nMay wanna make sure you\ntake a look at this,\n\n804\n00:38:52.675 --> 00:38:55.725\nI showed you the high level of the\nsettings, explained the logic behind them,\n\n805\n00:38:55.725 --> 00:38:58.725\ntold you a little bit about it, explained\nthem in my show notes for you as well but\n\n806\n00:38:58.725 --> 00:39:00.625\nyou want to make sure you go\non a practice with these.\n\n807\n00:39:00.625 --> 00:39:03.747\nYou may be asked at some point to have\nto speak knowledgeably about them.\n\n808\n00:39:03.747 --> 00:39:06.875\nYou wanna make sure you know how to do\nthis cuz it may very well come up again,\n\n809\n00:39:06.875 --> 00:39:08.110\njust so you know.\n\n810\n00:39:08.110 --> 00:39:12.465\n&gt;&gt; Awesome, so we can definitely see and\nthere's no denying that PowerShell is\n\n811\n00:39:12.465 --> 00:39:15.815\na really great robust tool that\nwill allow us to be quicker,\n\n812\n00:39:15.815 --> 00:39:19.305\nmore efficient to perform those filters or\nconfigurations.\n\n813\n00:39:19.305 --> 00:39:20.139\n&gt;&gt; Quicker.\n\n814\n00:39:20.139 --> 00:39:21.805\n[SOUND]\n&gt;&gt; But remember-\n\n815\n00:39:21.805 --> 00:39:22.653\n&gt;&gt; Like a cat, quicker like a cat.\n\n816\n00:39:22.653 --> 00:39:26.640\n&gt;&gt; The attackers can also be quicker and\nmore efficient so that's why we need to\n\n817\n00:39:26.640 --> 00:39:30.083\nleverage [SOUND] these tools that\nAdam showed you in this episode.\n\n818\n00:39:30.083 --> 00:39:31.185\n&gt;&gt; Nice Cherokee, nice Cherokee.\n\n819\n00:39:31.185 --> 00:39:34.230\n&gt;&gt; [LAUGH] But I think that's about it.\n\n820\n00:39:34.230 --> 00:39:35.683\n&gt;&gt; Okay, so we're done?\n\n821\n00:39:35.683 --> 00:39:36.230\n&gt;&gt; We'll let them be, yeah.\n\n822\n00:39:36.230 --> 00:39:37.815\n&gt;&gt; Okay, so we're going to wave goodbye?\n\n823\n00:39:37.815 --> 00:39:38.790\n&gt;&gt; We're going to go ahead and sign out.\n\n824\n00:39:38.790 --> 00:39:41.561\nThis has been a great episode,\ntank you for joining us.\n\n825\n00:39:41.561 --> 00:39:43.448\nI've been your host, Cherokee Boose.\n\n826\n00:39:43.448 --> 00:39:44.130\n&gt;&gt; I'm Cat Adam.\n\n827\n00:39:44.130 --> 00:39:46.292\n&gt;&gt; See you next time at IT Pro TV, bye.\n\n828\n00:39:46.292 --> 00:39:49.054\n&gt;&gt; [SOUND]\n&gt;&gt; [LAUGH]\n\n829\n00:39:49.054 --> 00:39:54.961\n[MUSIC]\n\n830\n00:39:54.961 --> 00:39:58.208\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "234669344"
        },
        {
          "description": "In this episode, Cherokee and Adam explain benefits of using security baselines via security compliance manager (SCM).  Adam shows where to obtain the download and addresses how to get the tool up and running in addition to other complimentary tools. LGPO will pull the policy information off of a machine to be compared on another machine that is running SCM.",
          "length": "2219",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-configure-091417-PGM.00_36_42_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-configure-091417-PGM.00_36_42_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-6-1-configure-091417-PGM.00_36_42_01.Still001-sm.jpg",
          "title": "Create security baselines using SCM",
          "transcript": "WEBVTT\n\n1\n00:00:00.194 --> 00:00:05.961\nWelcome to ITPro.TV, I'm your host,\nDon Pezet- [CROSSTALK].\n\n2\n00:00:05.961 --> 00:00:11.902\n[SOUND]\n&gt;&gt; You're watching ITPro.TV.\n\n3\n00:00:11.902 --> 00:00:15.564\n&gt;&gt; Welcome back to your\nSecuring Windows Server 2016 series.\n\n4\n00:00:15.564 --> 00:00:17.608\nI'm your show host Cherokee Boose.\n\n5\n00:00:17.608 --> 00:00:22.392\nWe all know that baselines are a very\nimportant parts throughout all different\n\n6\n00:00:22.392 --> 00:00:23.343\naspects of IT.\n\n7\n00:00:23.343 --> 00:00:25.327\nBut specifically,\nwhen it comes to security,\n\n8\n00:00:25.327 --> 00:00:27.632\nthere are some topics that\nwe should consider as well.\n\n9\n00:00:27.632 --> 00:00:32.250\nIn this show, we'll be taking a look\nat creating baselines with SCM.\n\n10\n00:00:32.250 --> 00:00:35.278\nWe have Mr. Adam Gordon back in\nstudio with us today, thank you for\n\n11\n00:00:35.278 --> 00:00:36.860\njoining us Adam, how is it going?\n\n12\n00:00:36.860 --> 00:00:37.688\n&gt;&gt; How do you do?.\n\n13\n00:00:37.688 --> 00:00:38.999\nIt goes well, it goes well.\n\n14\n00:00:38.999 --> 00:00:42.013\nI would say it's going like a fresh thing.\n\n15\n00:00:42.013 --> 00:00:43.868\n&gt;&gt; [LAUGH]\n&gt;&gt; It's fresh.\n\n16\n00:00:43.868 --> 00:00:45.373\n&gt;&gt; So fresh and so clean.\n\n17\n00:00:45.373 --> 00:00:49.872\n&gt;&gt; It is so fresh and clean, like a fresh\nbox of kleenex just clean and warm and\n\n18\n00:00:49.872 --> 00:00:50.560\nsnuggly.\n\n19\n00:00:50.560 --> 00:00:51.750\nAll right, you had to be there.\n\n20\n00:00:51.750 --> 00:00:54.650\nIt was actually, it made sense when we\nwent through it the first time, but\n\n21\n00:00:54.650 --> 00:00:57.270\nyou were not here for that,\nbut you are here for this.\n\n22\n00:00:57.270 --> 00:01:01.240\nLet's talk about Security Compliance\nManager, what Cherokee called SCM, and\n\n23\n00:01:01.240 --> 00:01:03.370\nthe way that we create\nbaselines with this tool.\n\n24\n00:01:03.370 --> 00:01:04.560\nIt's actually an interesting tool.\n\n25\n00:01:04.560 --> 00:01:06.970\nThere's a couple of other odds and\nends that go with this\n\n26\n00:01:06.970 --> 00:01:09.370\nfrom the Security Compliance toolkit,\nwhich you may or may not be aware of.\n\n27\n00:01:09.370 --> 00:01:11.194\nWe're gonna show you how\nto find those as well.\n\n28\n00:01:11.194 --> 00:01:15.261\nMicrosoft has put out, I think,\nfour versions of this tool now.\n\n29\n00:01:15.261 --> 00:01:20.181\nWe're on version four, but the SCM\nkind of has a rich and storied past.\n\n30\n00:01:20.181 --> 00:01:23.277\nIt is not by itself a tool\nthat has always been called\n\n31\n00:01:23.277 --> 00:01:25.448\nthe Security Compliance Manager.\n\n32\n00:01:25.448 --> 00:01:30.171\nIt is part of a broader thought process of\nthe baseline analyzers and best practice\n\n33\n00:01:30.171 --> 00:01:35.041\nguides that Microsoft's put together in\none form or another for many, many years.\n\n34\n00:01:35.041 --> 00:01:38.762\nI hear them referred to as solution\naccelerators back at a certain point in\n\n35\n00:01:38.762 --> 00:01:41.053\ntime, they're still referred to that way.\n\n36\n00:01:41.053 --> 00:01:45.120\nSo, this tool comes out of that rich\nheritage and thought process about,\n\n37\n00:01:45.120 --> 00:01:49.403\nhow does the vendor, in this case\nMicrosoft, take best practice guidance?\n\n38\n00:01:49.403 --> 00:01:53.598\nHard won, hard gathered information that\nthey've gotten from not only internal use\n\n39\n00:01:53.598 --> 00:01:57.560\nand testing, but from their support cues\nabout how people use their products and\n\n40\n00:01:57.560 --> 00:01:59.265\nwhat they have to do to set them up.\n\n41\n00:01:59.265 --> 00:02:01.680\nYou can figure them and\nmanage them the right way, and\n\n42\n00:02:01.680 --> 00:02:03.083\nnot just in the security area.\n\n43\n00:02:03.083 --> 00:02:06.503\nWe're focused on the security\nthought process here, but\n\n44\n00:02:06.503 --> 00:02:10.969\nThere's a list of these thought process\nareas, or solution accelerator,\n\n45\n00:02:10.969 --> 00:02:15.368\nbest practice guidance areas that\nMicrosoft maintains for Exchange, for\n\n46\n00:02:15.368 --> 00:02:18.670\nSharePoint, for\nall sorts of programs and platforms.\n\n47\n00:02:18.670 --> 00:02:22.726\nAnd so you can go out, go to TechNet, and\nfind The majority of this guidance and\n\n48\n00:02:22.726 --> 00:02:24.830\ninformation, if you're interested.\n\n49\n00:02:24.830 --> 00:02:28.430\nIf you give me just one second,\nand join me here under or\n\n50\n00:02:28.430 --> 00:02:32.430\non, right there, on the Solution\nAccelerators sub page in Technet.\n\n51\n00:02:32.430 --> 00:02:35.150\nWe're focused on the Security\nCompliance Manager product, so\n\n52\n00:02:35.150 --> 00:02:37.910\nthis is the one we're gonna demo and\ntalk about here.\n\n53\n00:02:37.910 --> 00:02:39.741\nAnd we have a download link for that.\n\n54\n00:02:39.741 --> 00:02:43.569\nBut you can see here under the Solution\nAccelerators there's one for MAP,\n\n55\n00:02:43.569 --> 00:02:46.622\nthere's one for MDT,\nthe Microsoft Deployment Toolkit.\n\n56\n00:02:46.622 --> 00:02:51.242\nCherokee and I spend a lot of time with,\nwith MOTH, the Microsoft Office Framework\n\n57\n00:02:51.242 --> 00:02:55.598\nfor Governance Risk and Compliance, for\nall sorts of different stuff here and\n\n58\n00:02:55.598 --> 00:02:58.109\nI would encourage you to go out,\ntake a look.\n\n59\n00:02:58.109 --> 00:03:01.535\nLiterally, go and explore a little\nbit around some of these other areas.\n\n60\n00:03:01.535 --> 00:03:09.763\nFor instance, the one specific 2 grc since\nwe are talking about security, right?\n\n61\n00:03:09.763 --> 00:03:12.247\nSo going in with\nSystem Center Service Manager, and\n\n62\n00:03:12.247 --> 00:03:15.522\ntaking a look at data classification,\nand governance over sight and\n\n63\n00:03:15.522 --> 00:03:19.081\nrisk management and compliance\ncapabilities on that platform Is actually\n\n64\n00:03:19.081 --> 00:03:22.490\na very important part of the broader\nthought process around security.\n\n65\n00:03:22.490 --> 00:03:24.238\nBut not specifically defined for\n\n66\n00:03:24.238 --> 00:03:27.428\nwhat we're here necessarily to\ntalk about in this episode.\n\n67\n00:03:27.428 --> 00:03:29.819\nWhich is how do we use\nthis specific toolkit?\n\n68\n00:03:29.819 --> 00:03:31.733\nThis Security Compliance Manager,\n\n69\n00:03:31.733 --> 00:03:35.755\nand how do we then use that to be able to\ndrive our ability to create baselines?\n\n70\n00:03:35.755 --> 00:03:40.222\nCompare and contrast them, export them,\nsave them off as GPO backup files,\n\n71\n00:03:40.222 --> 00:03:41.882\nimport them and apply them?\n\n72\n00:03:41.882 --> 00:03:45.499\nAnd force that configuration that we want,\nthat gold standard,\n\n73\n00:03:45.499 --> 00:03:49.049\ndown onto one or more machines,\nand that's what this tool, and\n\n74\n00:03:49.049 --> 00:03:51.691\nthis tool said does\n&gt;&gt; Yeah, pretty cool, it almost sounds\n\n75\n00:03:51.691 --> 00:03:55.048\nlike the Microsoft security baseline tool\nthat we may already be familiar with.\n\n76\n00:03:55.048 --> 00:03:58.196\nThat's a pretty common tool, but\nhere you can actually pick and\n\n77\n00:03:58.196 --> 00:04:01.010\nchoose to make it more\nspecific to your needs.\n\n78\n00:04:01.010 --> 00:04:03.670\n&gt;&gt; It's an updated enhanced version\nof that, let's put it that way.\n\n79\n00:04:03.670 --> 00:04:07.300\nSo it does give us those capabilities,\nbut it allows us to not\n\n80\n00:04:07.300 --> 00:04:10.950\nonly do the compare and contrast\nto customize, you were suggesting.\n\n81\n00:04:10.950 --> 00:04:14.080\nWe can pick and choose an app setting and\nmodify as needed.\n\n82\n00:04:14.080 --> 00:04:16.260\nWe can associate that with\ndifferent products and\n\n83\n00:04:16.260 --> 00:04:20.240\ndo comparisons across the product line\nto see whether the settings we're using\n\n84\n00:04:20.240 --> 00:04:22.045\nmake sense or whether we wanna modify or\n\n85\n00:04:22.045 --> 00:04:26.170\nmerge them with existing baseline template\nplace that we may get the benefit of.\n\n86\n00:04:26.170 --> 00:04:27.830\nRight, in other words, use.\n\n87\n00:04:27.830 --> 00:04:31.380\nWe can see here, we follow our\ndownload link so we click here.\n\n88\n00:04:31.380 --> 00:04:34.380\nWhen we do that,\nwe've just loaded the link, right?\n\n89\n00:04:34.380 --> 00:04:36.990\nWe're going to be able to\nactually take that back.\n\n90\n00:04:36.990 --> 00:04:38.140\nHold that one second.\n\n91\n00:04:38.140 --> 00:04:41.200\nWhen we follow that link,\nright or wrong one.\n\n92\n00:04:41.200 --> 00:04:43.160\nWhen we follow that link,\nwe're going to go here.\n\n93\n00:04:44.430 --> 00:04:46.910\nAnd we'll be able to get the security\ncompliance manager download,\n\n94\n00:04:46.910 --> 00:04:49.150\nthe other one is the tool kit\nI want to show you separately.\n\n95\n00:04:49.150 --> 00:04:50.800\nWe'll be able to download that from here.\n\n96\n00:04:50.800 --> 00:04:53.580\nSo when you download this folder,\nor this directory.\n\n97\n00:04:53.580 --> 00:04:54.760\nLet try that again.\n\n98\n00:04:54.760 --> 00:04:59.920\nThis MSI and\nyou use it to then drive an installation,\n\n99\n00:04:59.920 --> 00:05:03.390\nwhat you will be able to do,\nI have it sitting right here, or\n\n100\n00:05:03.390 --> 00:05:07.610\nthis executable rather I should say When\nyou download and install this, you're\n\n101\n00:05:07.610 --> 00:05:12.940\ngonna install this particular piece of\nsoftware, the SCM solution onto a machine,\n\n102\n00:05:12.940 --> 00:05:16.450\nprobably a workstation most likely,\nwhere you're gonna wanna be able to do,\n\n103\n00:05:16.450 --> 00:05:20.590\neither building of these baselines or\ndo comparison And administration.\n\n104\n00:05:20.590 --> 00:05:22.140\nYou got to make some choices here.\n\n105\n00:05:22.140 --> 00:05:26.400\nWhen you install this tool,\nyou can then install a uses tool to build\n\n106\n00:05:26.400 --> 00:05:29.550\nan existing set of base lines,\nfrom a gold image.\n\n107\n00:05:29.550 --> 00:05:31.910\nIn other words,\nfrom a machine that's been imaged,\n\n108\n00:05:31.910 --> 00:05:34.620\nset up, is Is configured\nthe way you would like it.\n\n109\n00:05:34.620 --> 00:05:38.120\nWe can extract that set\nof registry settings and\n\n110\n00:05:38.120 --> 00:05:40.980\nessentially the policy\ninformation from that machine.\n\n111\n00:05:40.980 --> 00:05:45.310\nBut if you install this tool on that\nmachine, Server 16, Windows 10,\n\n112\n00:05:45.310 --> 00:05:47.380\nwhatever it may be, we can do that.\n\n113\n00:05:47.380 --> 00:05:49.000\nThat's one use for this tool.\n\n114\n00:05:49.000 --> 00:05:52.150\nBut we could also use it more\nof an administrative workstation\n\n115\n00:05:52.150 --> 00:05:53.040\nkind of thought process.\n\n116\n00:05:53.040 --> 00:05:56.560\nI'm using it on my Widows 10 machine,\nas you can see here.\n\n117\n00:05:56.560 --> 00:06:01.890\nAnd when I run and install it I can\nthen decide to take this tool, import\n\n118\n00:06:01.890 --> 00:06:05.370\nall the baselines, Microsoft certainly\nmade available to me as cab files.\n\n119\n00:06:05.370 --> 00:06:09.020\nYou could see a list of all\nthe Microsoft baselines over here.\n\n120\n00:06:09.020 --> 00:06:10.810\nAnd I could then load those baselines,\n\n121\n00:06:10.810 --> 00:06:13.430\neven through they're not pertinate\nto this operating system.\n\n122\n00:06:13.430 --> 00:06:17.340\nAnd I can work with them, and I can\nimport other baselines and compare them.\n\n123\n00:06:17.340 --> 00:06:18.650\nSo I could do this either way, but\n\n124\n00:06:18.650 --> 00:06:22.880\none of the key uses of this tool\nwould be to generate a backup\n\n125\n00:06:22.880 --> 00:06:27.900\nGPO files from the existing system so\nI could have them to work with.\n\n126\n00:06:27.900 --> 00:06:28.720\nAnd customize.\n\n127\n00:06:28.720 --> 00:06:30.760\nYou have to think about what\nyou do wanna run this on,\n\n128\n00:06:30.760 --> 00:06:32.440\nwhat are you may wanna do with it.\n\n129\n00:06:32.440 --> 00:06:34.270\nNow, we'll get back into\nthe tool here in a second.\n\n130\n00:06:34.270 --> 00:06:38.850\nBut just some quick ideas about the tool,\nfor it, things you wanna know.\n\n131\n00:06:38.850 --> 00:06:43.170\nThose require a database, you don't have\nan existing SQL installation available\n\n132\n00:06:43.170 --> 00:06:45.920\non the local machine, and I don't\nhave one on Windows 10 for instance.\n\n133\n00:06:45.920 --> 00:06:51.340\nAnd I install SQL 2008 Express, so it\nputs version of database in place for us.\n\n134\n00:06:51.340 --> 00:06:53.060\nSo we don't have to worry about that.\n\n135\n00:06:53.060 --> 00:06:55.110\nSo that part is fairly self-contained.\n\n136\n00:06:55.110 --> 00:06:56.460\nIt does prerec checking.\n\n137\n00:06:56.460 --> 00:07:01.150\nIt's a .net framework,\nversion 4.0 and or later.\n\n138\n00:07:01.150 --> 00:07:02.400\nDoes some other stuff.\n\n139\n00:07:02.400 --> 00:07:04.820\nI had a unique situation\nwhen I did the install,\n\n140\n00:07:04.820 --> 00:07:08.480\nwhich you may see in the real world,\njust so you know and can benefit from it,\n\n141\n00:07:08.480 --> 00:07:12.120\nbecause I actually haven't seen\nthis particular behavior before.\n\n142\n00:07:12.120 --> 00:07:14.870\nSo, I wanted to share it with you\nbecause I am the finder of unusual and\n\n143\n00:07:14.870 --> 00:07:15.820\nodd behavior.\n\n144\n00:07:15.820 --> 00:07:17.700\n&gt;&gt; I thought I was the only one, then.\n\n145\n00:07:17.700 --> 00:07:18.270\n&gt;&gt; No, no, no.\n\n146\n00:07:18.270 --> 00:07:19.700\nThat's why we work so well together.\n\n147\n00:07:19.700 --> 00:07:21.830\nWe both have that uncanny capability.\n\n148\n00:07:21.830 --> 00:07:25.710\nWhen I installed this,\nI actually have in Windows 10.\n\n149\n00:07:25.710 --> 00:07:28.380\nYou know where you have the automatic\ndownload of all the updates and\n\n150\n00:07:28.380 --> 00:07:30.060\nit does it behind the scenes for us.\n\n151\n00:07:30.060 --> 00:07:31.190\nSo I had a pending restart.\n\n152\n00:07:31.190 --> 00:07:33.280\nI hadn't realized that\nthere was a download and\n\n153\n00:07:33.280 --> 00:07:37.350\nsome configuration had taken place\non some operating system patches.\n\n154\n00:07:37.350 --> 00:07:40.270\nI was waiting on a restart,\nI had not restarted the system.\n\n155\n00:07:40.270 --> 00:07:42.640\nI have it set to restart\noutside of business hours.\n\n156\n00:07:42.640 --> 00:07:45.240\nSo doesnt restart while we're\ntalking to you, and shooting shows,\n\n157\n00:07:45.240 --> 00:07:47.150\nbecause that would not be a lot fun.\n\n158\n00:07:47.150 --> 00:07:49.750\nSo I missed that little window\nthat pops up and says, hey,\n\n159\n00:07:49.750 --> 00:07:52.790\nyou have a pending restart, so\nI didn't realize that I needed that.\n\n160\n00:07:52.790 --> 00:07:57.805\nI ran the print req check as part of\nthe initial install of the SCM product.\n\n161\n00:07:57.805 --> 00:08:00.381\nWhen I did that, it went through the\nprereq check, came up at the very bottom\n\n162\n00:08:00.381 --> 00:08:01.562\nof the last one-\n&gt;&gt; Failed.\n\n163\n00:08:01.562 --> 00:08:04.596\n&gt;&gt; With a red X, well not failed,\nbut just said hey,\n\n164\n00:08:04.596 --> 00:08:08.657\nessentially last item requires\na restart before we can continue.\n\n165\n00:08:08.657 --> 00:08:11.740\nAnd it flagged it because\nthe security updates were pending.\n\n166\n00:08:11.740 --> 00:08:14.110\nSo I had to restart the system,\nwhich was a heck of a lot of fun,\n\n167\n00:08:14.110 --> 00:08:15.489\nyou should've been here for that.\n\n168\n00:08:15.489 --> 00:08:17.979\n&gt;&gt; [LAUGH]\n&gt;&gt; And then once we got all that working,\n\n169\n00:08:17.979 --> 00:08:21.570\nthat just required a few additional\nminutes to get some stuff done.\n\n170\n00:08:21.570 --> 00:08:23.880\n&gt;&gt; Don't, worry we have a new\ncomputer on the way for Adam.\n\n171\n00:08:23.880 --> 00:08:24.416\n&gt;&gt; We do, yes.\n\n172\n00:08:24.416 --> 00:08:27.070\n&gt;&gt; [LAUGH]\n&gt;&gt; We're gonna thankfully be moving on\n\n173\n00:08:27.070 --> 00:08:31.500\nfrom the hybrid Mac-Windows\n10 platform we're using here.\n\n174\n00:08:31.500 --> 00:08:33.350\nBut regardless, so\nwe're able to get that restarted.\n\n175\n00:08:33.350 --> 00:08:34.720\nOnce we did get it to come up,\n\n176\n00:08:34.720 --> 00:08:36.870\nhad a couple of restart\nissues we had to address.\n\n177\n00:08:36.870 --> 00:08:40.170\nNothing specific to Windows, really\nmore specific to the way we're running\n\n178\n00:08:40.170 --> 00:08:41.860\nWindows in this particular environment.\n\n179\n00:08:41.860 --> 00:08:42.520\nGot that up and\n\n180\n00:08:42.520 --> 00:08:46.756\nrunning, ran the setup again, went through\nwith no trouble, installed the product.\n\n181\n00:08:46.756 --> 00:08:50.350\nSo just the little hint I wanted to give\nyou was, if you happen to be installing\n\n182\n00:08:50.350 --> 00:08:54.980\nthis thing, pending an OS patch restart,\nyou may fail that prereq check.\n\n183\n00:08:54.980 --> 00:08:58.370\nYou're gonna be required to restart,\nand then it will work, no big deal.\n\n184\n00:08:58.370 --> 00:09:00.560\nWe don't document that\nin the install guide,\n\n185\n00:09:00.560 --> 00:09:02.620\ncuz it probably almost\nnever happens to anybody.\n\n186\n00:09:02.620 --> 00:09:05.430\nBut I'm just letting you know that's\na new one that I just figured out.\n\n187\n00:09:05.430 --> 00:09:08.074\nSo the other interesting little glitch, or\n\n188\n00:09:08.074 --> 00:09:10.192\nI'll call it a feature of this-\n&gt;&gt; Enhancements.\n\n189\n00:09:10.192 --> 00:09:11.525\n&gt;&gt; No, no, a feature.\n\n190\n00:09:11.525 --> 00:09:13.903\n&gt;&gt; [LAUGH]\n&gt;&gt; A planned feature, not an enhancement.\n\n191\n00:09:13.903 --> 00:09:16.610\nIf it was done the right way the first\ntime would be an enhancement.\n\n192\n00:09:16.610 --> 00:09:19.673\nBut another little feature of this\ntool that I will point out to you.\n\n193\n00:09:19.673 --> 00:09:21.477\nSo you're looking at this tool now,\n\n194\n00:09:21.477 --> 00:09:24.220\nit's got all these great\nMicrosoft baselines in here.\n\n195\n00:09:24.220 --> 00:09:29.060\nYou may see some old ones that\nare sitting in here, Windows XP SP3,\n\n196\n00:09:29.060 --> 00:09:30.410\nan oldie but a goodie.\n\n197\n00:09:30.410 --> 00:09:32.924\nBut you also see I have Server 16,\nWindows 10,\n\n198\n00:09:32.924 --> 00:09:35.732\nwhere I got the latest\ninformation templates in here, or\n\n199\n00:09:35.732 --> 00:09:39.950\nbaseline templates in here for the latest\noperating systems, which is great.\n\n200\n00:09:39.950 --> 00:09:42.660\nExcept for one thing, the tool\ndoesn't start out that way, right?\n\n201\n00:09:42.660 --> 00:09:46.120\nSo the other thing you need to know about\nwhen you use this tool, you're gonna load\n\n202\n00:09:46.120 --> 00:09:50.370\nup a preset group of baselines that\nMicrosoft ships with the version,\n\n203\n00:09:50.370 --> 00:09:51.810\nversion 4 of the product.\n\n204\n00:09:51.810 --> 00:09:54.870\nAnd as I was saying to Cherokee as\nwe were getting ready to do this,\n\n205\n00:09:54.870 --> 00:09:57.310\nit's great they ship all these baselines.\n\n206\n00:09:57.310 --> 00:09:59.817\nProblem is the ones they load by default-\n&gt;&gt; A bit antiquated.\n\n207\n00:09:59.817 --> 00:10:02.760\n&gt;&gt; Out of the box are a bit antiquated,\nas I've pointed out.\n\n208\n00:10:02.760 --> 00:10:07.090\nWe don't have Server 10, we don't have,\nor Windows 10, Server 16.\n\n209\n00:10:07.090 --> 00:10:11.050\nAny of the most recent ones we would\nreally want are not loaded additionally.\n\n210\n00:10:11.050 --> 00:10:13.820\nNot that they're not available,\ncuz clearly they're there, but\n\n211\n00:10:13.820 --> 00:10:18.020\nthey're not loaded as part of\nthe initial build of the system tool.\n\n212\n00:10:18.020 --> 00:10:22.210\nWhat you have to do then, is go into\nthe File menu, after you've set this up,\n\n213\n00:10:22.210 --> 00:10:24.660\nchecked for updates, very simple process.\n\n214\n00:10:24.660 --> 00:10:26.490\nYou could see I just went out and\nchecked, hey,\n\n215\n00:10:26.490 --> 00:10:29.020\nthere's another one there,\nno big deal, right?\n\n216\n00:10:29.020 --> 00:10:31.840\nDownload your baseline package,\nreal simple.\n\n217\n00:10:32.980 --> 00:10:34.920\nSays a file with this\nbaseline already exists,\n\n218\n00:10:34.920 --> 00:10:36.400\nbecause I've already downloaded this.\n\n219\n00:10:36.400 --> 00:10:39.230\nI just kinda set this up so I would\nshow you how you would do this, but\n\n220\n00:10:39.230 --> 00:10:41.620\nI've already downloaded all these and\ninstalled them, right?\n\n221\n00:10:41.620 --> 00:10:43.260\nBut you would download,\ndo you wanna replace it?\n\n222\n00:10:43.260 --> 00:10:46.970\nYeah, just do that,\ncomes down as a CAB file, no big deal.\n\n223\n00:10:46.970 --> 00:10:48.650\nThen we have to do an import,\n\n224\n00:10:48.650 --> 00:10:52.650\nSelect Package File Import CAB to\nload all these templates, right?\n\n225\n00:10:52.650 --> 00:10:55.440\nNow if you do this the first time\nwithout having done the update,\n\n226\n00:10:55.440 --> 00:10:57.250\nthere's about 15 that come in.\n\n227\n00:10:57.250 --> 00:10:59.290\nSo be prepared to be clicking Run for\n\n228\n00:10:59.290 --> 00:11:01.110\na few minutes until you\nget through them all.\n\n229\n00:11:01.110 --> 00:11:04.480\nBut all I'm doing is essentially\nexecuting this function right up here,\n\n230\n00:11:04.480 --> 00:11:07.040\nImport SCM CAB,\nif you can see it above me.\n\n231\n00:11:07.040 --> 00:11:10.380\nThat's what this wizard does,\nit imports all the templates for\n\n232\n00:11:10.380 --> 00:11:12.720\nall the baselines that\nMicrosoft is making available.\n\n233\n00:11:12.720 --> 00:11:16.450\nThis is almost like WSUS,\nyou're downloading updates from Microsoft\n\n234\n00:11:16.450 --> 00:11:18.380\nthat are published on\nwhatever the schedule is.\n\n235\n00:11:18.380 --> 00:11:22.150\nNot the same as Patch Tuesday, but they're\nout there and you can bring them in.\n\n236\n00:11:22.150 --> 00:11:24.950\nSo every so often you wanna check and\nupdate the tool, is my point.\n\n237\n00:11:24.950 --> 00:11:29.343\nClick Run, it goes ahead, lists out\nthe baseline, whatever this one is,\n\n238\n00:11:29.343 --> 00:11:31.876\nServer 12 R2 Security Compliance CAB.\n\n239\n00:11:31.876 --> 00:11:36.120\nIt tells us a little bit about it, add any\nothers when they want to add, click Next.\n\n240\n00:11:36.120 --> 00:11:39.107\nIt's gonna go ahead and\nimport it for us, great, sets it up,\n\n241\n00:11:39.107 --> 00:11:40.720\nthis is what we're going to get.\n\n242\n00:11:40.720 --> 00:11:45.763\nServer 12 Security Compliance Baseline has\nthe Domain Controller Compliance Baseline,\n\n243\n00:11:45.763 --> 00:11:50.621\nthe Domain Security Compliance Baseline,\nand the Member Server Compliance Baseline.\n\n244\n00:11:50.621 --> 00:11:54.632\nWhich is pretty common, we get three\nstandard baselines for most of, or\n\n245\n00:11:54.632 --> 00:11:57.921\nbaseline templates for\nmost of the baselines we import, so\n\n246\n00:11:57.921 --> 00:12:01.032\nwe're gonna be able to see those,\ngreat, no problem.\n\n247\n00:12:01.032 --> 00:12:04.865\nClick Import, now it gives me this error\nhere because I've already imported these,\n\n248\n00:12:04.865 --> 00:12:06.900\nI'm just showing you the thought process.\n\n249\n00:12:06.900 --> 00:12:10.033\nI've done this, this is how I built\nout my entire list here, right?\n\n250\n00:12:10.033 --> 00:12:12.630\nBut we would be successful if we\nhad not already imported them.\n\n251\n00:12:12.630 --> 00:12:15.930\nWe would finish this up, and when you\nfinished, they would be listed here.\n\n252\n00:12:15.930 --> 00:12:19.640\nSo when you first stand the tool up,\nyou're gonna wanna do this import,\n\n253\n00:12:19.640 --> 00:12:22.540\nfreshen up the baselines,\nmake sure they're all available.\n\n254\n00:12:22.540 --> 00:12:24.730\nOnce you do that,\nwhat can you do with the tools?\n\n255\n00:12:24.730 --> 00:12:27.790\nWell, the tool set is actually\nfairly robust in here,\n\n256\n00:12:27.790 --> 00:12:31.300\nwe do have this baseline area,\nprepopulated by Microsoft.\n\n257\n00:12:31.300 --> 00:12:34.360\nGiving us the benefit of\nthe security baselines and\n\n258\n00:12:34.360 --> 00:12:37.650\nthe product configuration baselines for\nthings like Exchange,\n\n259\n00:12:37.650 --> 00:12:42.350\nif you're looking at the list up there,\nie, Microsoft Office, things like that.\n\n260\n00:12:42.350 --> 00:12:44.710\nAlthough it's interesting,\nwe don't have Office 2013 and\n\n261\n00:12:44.710 --> 00:12:47.360\n2016 in here,\nwe do have Office 10 and Office 7.\n\n262\n00:12:47.360 --> 00:12:50.510\nBut actually, I take it back,\nOffice 13 is there, but not Office 16.\n\n263\n00:12:50.510 --> 00:12:54.720\nSo some things are more updated than\nothers, I suppose, but either way,\n\n264\n00:12:54.720 --> 00:12:55.600\nno big deal.\n\n265\n00:12:55.600 --> 00:12:57.630\nWe do have IE 11, so for the most part,\n\n266\n00:12:57.630 --> 00:12:59.562\nwe've got almost everything\nwe need in there.\n\n267\n00:12:59.562 --> 00:13:03.640\nAll right, so what we're gonna do once\nyou get these baselines in there is we're\n\n268\n00:13:03.640 --> 00:13:06.860\ngonna load one or more of them, and start\nto talk about what we can do with it.\n\n269\n00:13:06.860 --> 00:13:11.920\nNow what I've done is I've gone ahead and\nI've opened up Windows Server 16,\n\n270\n00:13:11.920 --> 00:13:15.130\nwhich is most likely gonna be\na baseline we may wanna look at.\n\n271\n00:13:15.130 --> 00:13:17.830\nWe are talking about\nsecurity in the Server 16.\n\n272\n00:13:17.830 --> 00:13:18.880\n&gt;&gt; After all.\n\n273\n00:13:18.880 --> 00:13:20.110\n&gt;&gt; After all.\n&gt;&gt; [LAUGH]\n\n274\n00:13:20.110 --> 00:13:21.728\n&gt;&gt; And so, what you'll see is we do have\n\n275\n00:13:21.728 --> 00:13:24.550\nthese Server 16 Domain Controllers,\nSecurity Compliance,\n\n276\n00:13:24.550 --> 00:13:28.670\nDomain Security Compliance, Members\nServer, like the one for 12, essentially.\n\n277\n00:13:28.670 --> 00:13:31.390\nWe also got this assessment\nguide thing here.\n\n278\n00:13:31.390 --> 00:13:36.111\nAnd what this shows us is it has all\nthe documentation that Microsoft puts out\n\n279\n00:13:36.111 --> 00:13:38.343\nassociated with these baselines.\n\n280\n00:13:38.343 --> 00:13:42.870\nSo I do have the baseline's CAB data\nstream ZIP, which contains those.\n\n281\n00:13:42.870 --> 00:13:47.440\nI have my ADMX ZIP, which has my\nbaseline files in group policy format.\n\n282\n00:13:47.440 --> 00:13:52.660\nMy ADM, ADMX files, XML-based for\nnewer versions of my policy support.\n\n283\n00:13:52.660 --> 00:13:55.480\nIf you don't remember all this and know\nwhat this is, hey, we've got a whole set\n\n284\n00:13:55.480 --> 00:13:58.500\nof shows for you on group policy\nthat you can go take a look at.\n\n285\n00:13:58.500 --> 00:14:02.260\nBoth on Server 16 and Server 12, cuz\nCherokee and I have done both of those.\n\n286\n00:14:02.260 --> 00:14:02.890\n&gt;&gt; That's right.\n\n287\n00:14:02.890 --> 00:14:06.529\n&gt;&gt; Right, well, you're doing the Server\n12 group policy base base stuff.\n\n288\n00:14:06.529 --> 00:14:08.640\nBut we did the more advanced stuff,\nright, you and I.\n\n289\n00:14:08.640 --> 00:14:10.579\n&gt;&gt; Right we did that advanced systems.\n&gt;&gt; And then, right, we did that,\n\n290\n00:14:10.579 --> 00:14:14.410\nyou're doing group policy on your own,\nand then we did it on Server 16 as well.\n\n291\n00:14:14.410 --> 00:14:18.810\nSo you wanna come see us for those shows,\nif you're not 100% comfortable with this.\n\n292\n00:14:18.810 --> 00:14:23.160\nAnd we have this nice reference\nspreadsheet that Microsoft puts out and\n\n293\n00:14:23.160 --> 00:14:25.330\nreferences all the settings and\nall these templates for\n\n294\n00:14:25.330 --> 00:14:29.178\nus, along with every baseline,\nwe get all this documentation.\n\n295\n00:14:29.178 --> 00:14:34.150\nSo this is actually nice that we can\nactually go in, we can interact with this.\n\n296\n00:14:34.150 --> 00:14:36.330\nAnd you could just see I'm\ndouble-clicking to open one.\n\n297\n00:14:36.330 --> 00:14:40.350\nI don't have Excel installed locally on my\nmachine, but if I did it would pop right\n\n298\n00:14:40.350 --> 00:14:43.350\nup, the Excel viewer, and\nit would just pop up and open, right?\n\n299\n00:14:43.350 --> 00:14:45.580\nAnd I'd be able to look at\nthe template if I wanted to.\n\n300\n00:14:45.580 --> 00:14:50.280\nSo I can go in, I can load that,\nas you can see, right?\n\n301\n00:14:50.280 --> 00:14:51.559\nAnd you see it just pops right up, so\n\n302\n00:14:51.559 --> 00:14:53.450\nall I have to do is click\non the documentation.\n\n303\n00:14:53.450 --> 00:14:55.660\nI could access it right out of the tool,\nwhich is nice.\n\n304\n00:14:55.660 --> 00:14:59.730\nAnd these template settings are documented\nfor us in the spreadsheet, and\n\n305\n00:14:59.730 --> 00:15:02.460\nreferenceable as we start\nto do our comparison work.\n\n306\n00:15:02.460 --> 00:15:04.940\nSo we do have that available\nin case you're interested,\n\n307\n00:15:04.940 --> 00:15:06.030\njust to show you whats there.\n\n308\n00:15:06.030 --> 00:15:09.908\nSo I have any one of these templates\nthat I can go into and take a look at.\n\n309\n00:15:09.908 --> 00:15:12.831\nLet me just click here,\nthere we go, just click to select,\n\n310\n00:15:12.831 --> 00:15:14.680\nI was waiting on it to come up.\n\n311\n00:15:14.680 --> 00:15:16.628\nSo I get to highlight one of these, right?\n\n312\n00:15:16.628 --> 00:15:20.088\nLets say this one has, I'd already loaded\nit, cuz it takes a moment to come in,\n\n313\n00:15:20.088 --> 00:15:22.220\nabout 1,000 settings in here right?\n\n314\n00:15:22.220 --> 00:15:27.000\nSo this is the standard best practice\nguideline recommendations for\n\n315\n00:15:27.000 --> 00:15:31.390\nhow, in this case, in Server 16,\nyou should set up a domain controller to\n\n316\n00:15:31.390 --> 00:15:35.740\nmake it secure and compliant with all\nthe recommendations Microsoft has.\n\n317\n00:15:35.740 --> 00:15:40.439\nUsing group policy, there's about 1,000\nsettings, approximately, that Microsoft\n\n318\n00:15:40.439 --> 00:15:44.255\nhas tweaked or modified or somehow put\ntogether and put into this template.\n\n319\n00:15:44.255 --> 00:15:46.320\nAnd that's what we're\ntaking a look at here.\n\n320\n00:15:46.320 --> 00:15:49.122\nNow that I've loaded this,\nquite a bit of stuff.\n\n321\n00:15:49.122 --> 00:15:53.331\nWe've talked about AppLocker in prior\nepisodes you may have seen that.\n\n322\n00:15:53.331 --> 00:15:58.454\nWe've talked, as we scroll down, all sorts\nof different things like going in and\n\n323\n00:15:58.454 --> 00:16:02.985\nperhaps supporting or not supporting\nauthenticated fonts using some of\n\n324\n00:16:02.985 --> 00:16:06.200\nthe more advanced features\nfrom the EMET toolset.\n\n325\n00:16:06.200 --> 00:16:07.770\nWe've talked about that.\n\n326\n00:16:07.770 --> 00:16:11.800\nWe've gone and talked about\nthe ability to use AppLocker and\n\n327\n00:16:11.800 --> 00:16:14.350\nsoftware restriction policies.\n\n328\n00:16:14.350 --> 00:16:15.930\nJust all sorts of stuff in here, right?\n\n329\n00:16:15.930 --> 00:16:17.950\nSecondary authentication.\n\n330\n00:16:17.950 --> 00:16:21.109\nWe've taken a look at and\ntalked about Windows Defender and\n\n331\n00:16:21.109 --> 00:16:24.142\nhow we could use Windows updates and\nWindows Defender and\n\n332\n00:16:24.142 --> 00:16:26.558\nSecurity Essentials and\nall sorts of stuff.\n\n333\n00:16:26.558 --> 00:16:28.631\nConfiguring application virtualization.\n\n334\n00:16:28.631 --> 00:16:29.260\nThe list just goes on and on.\n\n335\n00:16:29.260 --> 00:16:31.852\nI'm not gonna go through all of them,\nbut you get the idea.\n\n336\n00:16:31.852 --> 00:16:34.395\nAny one of these we can\nhighlight a setting,\n\n337\n00:16:34.395 --> 00:16:36.680\nwe can see what the setting is, right?\n\n338\n00:16:36.680 --> 00:16:41.780\nIf we go in, this is not configured,\nbut if we take a look at one that is\n\n339\n00:16:41.780 --> 00:16:47.090\nconfigured, let's just go up and see,\nfor instance, this one right here.\n\n340\n00:16:47.090 --> 00:16:48.890\nNetwork security, allow local.\n\n341\n00:16:48.890 --> 00:16:50.770\nI can take a look, I can see what's here.\n\n342\n00:16:50.770 --> 00:16:53.015\nI can click on setting details and\n\n343\n00:16:53.015 --> 00:16:56.473\nI'm looking essentially\nat a detailed build out.\n\n344\n00:16:56.473 --> 00:17:00.770\nNot just through policy setting but\nall the documentary guidance around why we\n\n345\n00:17:00.770 --> 00:17:05.262\nneed this, what the vulnerability we\naddress is, what the potential impact is,\n\n346\n00:17:05.262 --> 00:17:06.368\nwhat the listing for\n\n347\n00:17:06.368 --> 00:17:10.720\nthe specific security issue concerning\nthis particular policy may be.\n\n348\n00:17:10.720 --> 00:17:15.420\nAnd I can see all of this guidance right\nhere as I'm kinda scrolling around, right?\n\n349\n00:17:15.420 --> 00:17:19.390\nAnd this is what the collection of all\nthese settings becomes and represents.\n\n350\n00:17:19.390 --> 00:17:23.920\nNow that's interesting, but that's\nreally just potentially information for\n\n351\n00:17:23.920 --> 00:17:27.540\nus to look at when we have time and\nto delve deeper into if we want to.\n\n352\n00:17:27.540 --> 00:17:30.180\nWhat we wanna do with\nthis particular template,\n\n353\n00:17:30.180 --> 00:17:32.880\nonce we load it,\nis one of two things, potentially.\n\n354\n00:17:32.880 --> 00:17:37.430\nNumber one, I may wanna take this\ntemplate, which I have here, and\n\n355\n00:17:37.430 --> 00:17:38.370\nI've loaded.\n\n356\n00:17:38.370 --> 00:17:41.160\nAnd I may wanna simply export this,\n\n357\n00:17:41.160 --> 00:17:44.910\nback this up as a self-contained\ngroup policy backup.\n\n358\n00:17:44.910 --> 00:17:49.350\nAnd then take that template, guidelines\nalready set up, totally configured,\n\n359\n00:17:49.350 --> 00:17:53.970\nout of the box, ready to go, and\napply this to my existing infrastructure.\n\n360\n00:17:53.970 --> 00:17:55.890\nAnd I can do that through this tool.\n\n361\n00:17:55.890 --> 00:18:00.210\nI can go ahead and\nI could export over here, right up here.\n\n362\n00:18:00.210 --> 00:18:03.720\nI could export this template\nas a backed up GPO file, and\n\n363\n00:18:03.720 --> 00:18:07.680\nI could then use the import function\nin the group policy management console\n\n364\n00:18:07.680 --> 00:18:10.920\nto import this backup and\napply these settings.\n\n365\n00:18:10.920 --> 00:18:14.190\nSo one of the things I may do\nis choose to export this as is,\n\n366\n00:18:14.190 --> 00:18:15.590\nwithout making any changes.\n\n367\n00:18:15.590 --> 00:18:16.150\nSo, if I do that,\n\n368\n00:18:16.150 --> 00:18:20.965\nI come over here to GPO back up, I can\nspecify where I want to put this thing.\n\n369\n00:18:20.965 --> 00:18:24.874\nSo I just, let's say, make a folder on my\ndesktop just to represent the backup so\n\n370\n00:18:24.874 --> 00:18:25.576\nwe can see it.\n\n371\n00:18:25.576 --> 00:18:30.426\nAnd I'll just call this Backup2, right?\n\n372\n00:18:30.426 --> 00:18:32.025\nAnd although, wait a second.\n\n373\n00:18:32.025 --> 00:18:35.775\nI think I screwed up and\nI did new folder and I did not.\n\n374\n00:18:35.775 --> 00:18:36.445\nThere we go.\n\n375\n00:18:38.685 --> 00:18:43.005\nAnd let's just rename that, and backup.\n\n376\n00:18:44.963 --> 00:18:46.430\nTwo.\n\n377\n00:18:46.430 --> 00:18:47.470\nAll right.\n\n378\n00:18:47.470 --> 00:18:50.660\nSo I'm gonna put this backup into Backup2,\nclick OK.\n\n379\n00:18:50.660 --> 00:18:53.410\nBoom and it opens up immediately,\nthat's backed up.\n\n380\n00:18:53.410 --> 00:18:57.600\nNow if I wanted to take this backed up\npolicy file and import it into a domain\n\n381\n00:18:57.600 --> 00:19:02.538\ncontroller associated with my group policy\nmanagement capability and use it, I could\n\n382\n00:19:02.538 --> 00:19:07.290\nsimply go through the import function and\nI've got my policy template ready to go.\n\n383\n00:19:07.290 --> 00:19:11.190\nAnd all the settings, the reg.pol file,\nthe ADMX files, the templates.\n\n384\n00:19:11.190 --> 00:19:12.290\nEverything's all there.\n\n385\n00:19:12.290 --> 00:19:14.076\nIt's all part of this backup.\n\n386\n00:19:14.076 --> 00:19:15.784\nSo I'll export it out.\n\n387\n00:19:15.784 --> 00:19:17.478\nThere's my backup XML file,\n\n388\n00:19:17.478 --> 00:19:21.530\nmy backup INF file to tell me how\nto drive the backup in the import.\n\n389\n00:19:21.530 --> 00:19:24.340\nThere's my domain SYS file, GPO directory.\n\n390\n00:19:24.340 --> 00:19:26.580\nThere's my machine, my registry.pol file.\n\n391\n00:19:26.580 --> 00:19:32.728\nThere's my Microsoft Windows NT,\naudit.csv.\n\n392\n00:19:32.728 --> 00:19:35.545\nAnd my secedit,\nthere's my template.inf file.\n\n393\n00:19:35.545 --> 00:19:37.522\nI've got everything I\nneed to do the import and\n\n394\n00:19:37.522 --> 00:19:39.260\napply this if I choose to, right?\n\n395\n00:19:39.260 --> 00:19:40.850\nSo all of that is there.\n\n396\n00:19:40.850 --> 00:19:45.030\nSo I can do this and simply export\nthe template and apply it as is.\n\n397\n00:19:45.030 --> 00:19:46.740\nOne way to do this if I choose to.\n\n398\n00:19:46.740 --> 00:19:50.890\nBut what I also could do, which is even\nthe more strong capability of this tool.\n\n399\n00:19:50.890 --> 00:19:53.330\nCuz just importing and\nbacking up and exporting,\n\n400\n00:19:53.330 --> 00:19:55.350\nit's really not all that challenging,\nright?\n\n401\n00:19:55.350 --> 00:19:56.980\nAnd we really haven't done anything.\n\n402\n00:19:56.980 --> 00:20:00.800\nI could edit this template, make changes\nto it by adding and modifying settings and\n\n403\n00:20:00.800 --> 00:20:01.530\nthen export.\n\n404\n00:20:01.530 --> 00:20:02.420\nSo that's like step two.\n\n405\n00:20:02.420 --> 00:20:04.670\nAnd then I can tweak this\nwhich would be even better.\n\n406\n00:20:04.670 --> 00:20:07.690\nBefore we tweak it maybe\nwe wanna compare it.\n\n407\n00:20:07.690 --> 00:20:11.102\nCompare it to, let's say, what we already\nhave set up and do a quick comparison to\n\n408\n00:20:11.102 --> 00:20:14.178\nsee where these settings match, but\nalso where the settings may differ.\n\n409\n00:20:14.178 --> 00:20:17.356\nIn other words what does this template\noffer me that I don't already have\n\n410\n00:20:17.356 --> 00:20:19.296\nconfigured, that I'm not already doing?\n\n411\n00:20:19.296 --> 00:20:19.920\nIs it gonna add value?\n\n412\n00:20:19.920 --> 00:20:21.890\n&gt;&gt; And that can leverage those things,\nright.\n\n413\n00:20:21.890 --> 00:20:23.380\n&gt;&gt; Or is it gonna modify or change?\n\n414\n00:20:23.380 --> 00:20:24.200\nWhich it will.\n\n415\n00:20:24.200 --> 00:20:25.620\nBut we wanna know that, right?\n\n416\n00:20:25.620 --> 00:20:28.940\nBecause just cuz somebody said it's\na good idea, doesn't mean I should do it.\n\n417\n00:20:28.940 --> 00:20:31.040\nIt just means that it may be a good idea,\nbut\n\n418\n00:20:31.040 --> 00:20:33.130\nI may already be doing\nsomething like that.\n\n419\n00:20:33.130 --> 00:20:35.870\nOr I may be doing other things and\nI wanna see the value of that.\n\n420\n00:20:35.870 --> 00:20:37.870\nMaybe I wanna merge those two things.\n\n421\n00:20:37.870 --> 00:20:40.442\nNot just do a comparison, but\ntake what I'm already doing,\n\n422\n00:20:40.442 --> 00:20:43.670\nadd it to this stuff because\nit's not being done here.\n\n423\n00:20:43.670 --> 00:20:46.810\nMaybe I've configured Credential Guard and\nmaybe Credential Guard and\n\n424\n00:20:46.810 --> 00:20:49.060\nDevice Guard is not\nconfigured in this template.\n\n425\n00:20:49.060 --> 00:20:52.550\nMaybe I want the value of that along\nwith whatever else this template does.\n\n426\n00:20:52.550 --> 00:20:56.626\nSo I can do a comparison of my\nexisting settings, see what's there,\n\n427\n00:20:56.626 --> 00:20:58.042\ndecide what I wanna do.\n\n428\n00:20:58.042 --> 00:21:01.130\nEither keep them or just say okay,\ngood to know it's gonna do this and this.\n\n429\n00:21:01.130 --> 00:21:05.333\nOr I can merge the two, create a brand\nnew baseline template, export that, and\n\n430\n00:21:05.333 --> 00:21:08.540\nnow import that and\nI've got a much stronger group policy.\n\n431\n00:21:08.540 --> 00:21:10.910\nSo this tool lets me do\na lot of really cool things.\n\n432\n00:21:10.910 --> 00:21:14.957\nSo let's say that I wanna do something\nlike what I was just explaining to\n\n433\n00:21:14.957 --> 00:21:15.771\nyou, right?\n\n434\n00:21:15.771 --> 00:21:16.554\n&gt;&gt; Discussing.\n\n435\n00:21:16.554 --> 00:21:17.825\n&gt;&gt; Or just, thank you very much.\n\n436\n00:21:17.825 --> 00:21:21.334\n&gt;&gt; [LAUGH]\n&gt;&gt; It's been a long day here at ITProTV.\n\n437\n00:21:21.334 --> 00:21:23.296\nAll right, so\nlet's say I wanna do that, all right?\n\n438\n00:21:23.296 --> 00:21:25.443\nSo I've got this template\nalready loaded or\n\n439\n00:21:25.443 --> 00:21:27.540\nthis baseline already loaded right here.\n\n440\n00:21:27.540 --> 00:21:30.840\nI'm gonna come over here to baseline where\nit says compare or merge, right up there.\n\n441\n00:21:32.640 --> 00:21:33.590\nSays compare baseline.\n\n442\n00:21:33.590 --> 00:21:36.160\nSelect a baseline from\nthe following list to compare to\n\n443\n00:21:36.160 --> 00:21:38.590\nWindows 2016 Domain Controller.\n\n444\n00:21:38.590 --> 00:21:42.900\nNow, I've actually imported,\nI've created or\n\n445\n00:21:42.900 --> 00:21:47.770\nextracted the template settings, or the\nbaseline, for my Windows 10 machine and\n\n446\n00:21:47.770 --> 00:21:50.440\njust simply called it a demo GPO,\nright up there.\n\n447\n00:21:50.440 --> 00:21:55.490\nSo what I did is I backed up my\nexisting GPO's from my local machine,\n\n448\n00:21:55.490 --> 00:21:58.210\nimported them into the tools so\nI could just do a quick comparison.\n\n449\n00:21:58.210 --> 00:22:01.729\nCuz clearly while a lot of settings in\n16 and 10 will be similar, settings for\n\n450\n00:22:01.729 --> 00:22:04.910\na domain controller are gonna be very\ndifferent than for a workstation.\n\n451\n00:22:04.910 --> 00:22:06.100\nSo we have something to look at.\n\n452\n00:22:06.100 --> 00:22:10.568\nSo I'm gonna go grab that baseline for\nWindows 10 that I want to compare to,\n\n453\n00:22:10.568 --> 00:22:12.027\nclick there, click OK.\n\n454\n00:22:12.027 --> 00:22:15.648\nAnd then what you'll see\nis summary baseline A,\n\n455\n00:22:15.648 --> 00:22:19.190\nwhich is my security baseline for\nServer 16.\n\n456\n00:22:19.190 --> 00:22:22.131\nSettings that differ, 106.\n\n457\n00:22:22.131 --> 00:22:23.684\nSettings that match, 40.\n\n458\n00:22:23.684 --> 00:22:28.340\nSettings only in baseline A, meaning\nonly in the domain controller baseline,\n\n459\n00:22:28.340 --> 00:22:32.370\nlet me move this over,\nalmost 900 of the 1013 are exclusive,\n\n460\n00:22:32.370 --> 00:22:36.676\nwhich makes a lot of sense, cuz clearly\nmajority of the settings of domain\n\n461\n00:22:36.676 --> 00:22:40.940\ncontroller are not going to exist and\nbe configured in the Windows 10.\n\n462\n00:22:40.940 --> 00:22:44.808\nSettings only in my Windows 10 machine\nthat don't exist in the domain controller\n\n463\n00:22:44.808 --> 00:22:45.701\nbaseline, 23.\n\n464\n00:22:45.701 --> 00:22:48.258\nAnd I can see those and\nopen them up here if I want to.\n\n465\n00:22:48.258 --> 00:22:50.980\nAnd I'm getting,\nas you can see, a comparison.\n\n466\n00:22:50.980 --> 00:22:54.580\nI could also export them\nright here to Excel.\n\n467\n00:22:54.580 --> 00:22:58.150\nSo I could take this comparison then\ngo offline, start to do some mixing and\n\n468\n00:22:58.150 --> 00:22:59.930\nmatching, figuring out what I want.\n\n469\n00:22:59.930 --> 00:23:03.180\nI could then come back and\nprogram or merge these settings to\n\n470\n00:23:03.180 --> 00:23:06.720\ncreate a master file that's gonna\ngive me everything I want, right?\n\n471\n00:23:06.720 --> 00:23:09.060\nAnd when I'm done with all that, right?\n\n472\n00:23:09.060 --> 00:23:10.510\nWhen I figure this all out.\n\n473\n00:23:11.890 --> 00:23:13.593\nLet's just export this out, right?\n\n474\n00:23:13.593 --> 00:23:16.004\nYou'll see here Excel 2007.\n\n475\n00:23:16.004 --> 00:23:18.629\nI only have the viewer,\nI don't have Excel loaded on my machine,\n\n476\n00:23:18.629 --> 00:23:20.320\nas I mentioned to you couple minutes ago.\n\n477\n00:23:20.320 --> 00:23:22.700\nBut if you do, you'd be able to export\nthat out with no trouble, right?\n\n478\n00:23:22.700 --> 00:23:24.182\nYou won't get that error.\n\n479\n00:23:24.182 --> 00:23:26.980\nSo when I export that out would open\nit up like I did the other file,\n\n480\n00:23:26.980 --> 00:23:28.240\nbe able to work with that.\n\n481\n00:23:28.240 --> 00:23:30.160\nSo once I've done all that, right?\n\n482\n00:23:30.160 --> 00:23:36.490\nI could then decide that I wanna go in and\nI wanna be able to duplicate or work with\n\n483\n00:23:36.490 --> 00:23:40.920\nor perhaps modify in some ways I suggested\none or more of these and you'll see.\n\n484\n00:23:40.920 --> 00:23:41.912\nIt's a little bit hard to see.\n\n485\n00:23:41.912 --> 00:23:44.240\nLet me just open this up,\ncuz these things slide.\n\n486\n00:23:44.240 --> 00:23:50.283\nBut you'll see here, do this,\nI have to highlight something.\n\n487\n00:23:50.283 --> 00:23:54.031\nI can come in, and as we talked about,\nI can go in and I can either decide that I\n\n488\n00:23:54.031 --> 00:23:58.310\nwant to add settings, I wanna configure\nwhat's already there, as I was suggesting,\n\n489\n00:23:58.310 --> 00:23:59.799\nanything that I may wanna do.\n\n490\n00:23:59.799 --> 00:24:02.921\nLet me just go up here to\nMy Settings right up here.\n\n491\n00:24:02.921 --> 00:24:08.216\nAnd you'll see that, is this one?\n\n492\n00:24:08.216 --> 00:24:09.887\nNo, that's not the one I want.\n\n493\n00:24:12.442 --> 00:24:13.140\nRight, okay, so\n\n494\n00:24:13.140 --> 00:24:16.240\nlet me just grab one that I can actually\nchange is what I was looking for.\n\n495\n00:24:16.240 --> 00:24:17.396\nSo I'm looking, let's say,\n\n496\n00:24:17.396 --> 00:24:20.158\nhypothetically at password policy\nhere where this is disabled, right?\n\n497\n00:24:20.158 --> 00:24:23.561\nAnd you could see I can pull this down and\nmake changes to the template right here.\n\n498\n00:24:23.561 --> 00:24:25.983\nI was just trying to find one\nthat I could actually click on,\n\n499\n00:24:25.983 --> 00:24:28.173\nthat was already set up, so\nI can actually play with.\n\n500\n00:24:28.173 --> 00:24:29.938\nLet's say I wanna enable this, right?\n\n501\n00:24:29.938 --> 00:24:31.668\nSo I can go ahead and enable this.\n\n502\n00:24:31.668 --> 00:24:34.750\nSo when I do this and\nmake the changes, this is how I will\n\n503\n00:24:34.750 --> 00:24:39.320\nmodify the existing baseline or one of\nthe custom ones I bring in, setting it up.\n\n504\n00:24:39.320 --> 00:24:43.294\nAnd then when I'm done and\nI have this all configured the way I want,\n\n505\n00:24:43.294 --> 00:24:47.994\nif I go ahead and I export this and I back\nit up, I've now got all these settings.\n\n506\n00:24:47.994 --> 00:24:52.298\nAnd as we said, we import this into\nthe Group Policy Management function and\n\n507\n00:24:52.298 --> 00:24:55.592\nI've go a premade set of now\neither modified, merged, or\n\n508\n00:24:55.592 --> 00:24:58.633\nadjusted template guidance and\nbaselines, right?\n\n509\n00:24:58.633 --> 00:25:02.822\nSo this is gonna allow me to be able to\nget the benefit of the existing baseline\n\n510\n00:25:02.822 --> 00:25:06.559\ncombined with additional settings\nI may choose to edit and modify.\n\n511\n00:25:06.559 --> 00:25:11.680\nAnd then export that and reapply that as\nnow a new quote unquote security baseline.\n\n512\n00:25:11.680 --> 00:25:15.059\nSo the tool is very valuable because\nit gives me all these capabilities.\n\n513\n00:25:15.059 --> 00:25:17.550\nThis is like a modified\nGroup Policy Editor, but\n\n514\n00:25:17.550 --> 00:25:21.339\nit's a policy editor that lets me bring\nin any kind of external template.\n\n515\n00:25:21.339 --> 00:25:24.860\nLook at it here, see the value of it,\ndo a quick cross walk, and\n\n516\n00:25:24.860 --> 00:25:27.458\nthen figure out how I\nwanna roll that forward.\n\n517\n00:25:27.458 --> 00:25:33.435\nNow along with the Security Compliance\nManager, just minimize this for a second.\n\n518\n00:25:33.435 --> 00:25:38.474\nAlong with this tool, let me just close\nthis and clean up while we're talking.\n\n519\n00:25:38.474 --> 00:25:43.014\nI mentioned that there's another element\nto this that may be valuable to you.\n\n520\n00:25:43.014 --> 00:25:45.280\nSo they call this\nSecurity Compliance Toolkit,\n\n521\n00:25:45.280 --> 00:25:48.331\nwhich is another set of tools\nseparate from SCM that we download.\n\n522\n00:25:48.331 --> 00:25:52.050\nAnd [COUGH] this set of tools allows\nme to get access to some additional\n\n523\n00:25:52.050 --> 00:25:56.359\ncapabilities, a tool that I actually\nshowed Cherokee before we got started,\n\n524\n00:25:56.359 --> 00:25:57.813\nshe hadn't seen before.\n\n525\n00:25:57.813 --> 00:26:02.447\nAnd one that I'll show you, something\ncalled the Policy Analyzer right here.\n\n526\n00:26:02.447 --> 00:26:05.421\nHas its own, as you could see,\nset of baselines that come with it.\n\n527\n00:26:05.421 --> 00:26:07.797\nAnd it's also got a tool called LGPO,\n\n528\n00:26:07.797 --> 00:26:12.483\nwhich replaces one of the functions\nfrom SCM in the new Version 4 product.\n\n529\n00:26:12.483 --> 00:26:17.321\nThis gives me a local command line version\nof my Policy Management tool to manage\n\n530\n00:26:17.321 --> 00:26:22.608\npolicies, and extract them from the local\nmachine to build these baselines, right?\n\n531\n00:26:22.608 --> 00:26:27.071\nThe way I created that export that I\nload it as a custom policy template for\n\n532\n00:26:27.071 --> 00:26:31.827\nWindows 10 and the SCM tool, was to use\nthe LGPO command line tool to extract\n\n533\n00:26:31.827 --> 00:26:34.337\nthe policy backup for my local machine.\n\n534\n00:26:34.337 --> 00:26:35.811\nThat's what that tool does.\n\n535\n00:26:35.811 --> 00:26:39.951\nSo when I load, or rather,\nI download this tool set,\n\n536\n00:26:39.951 --> 00:26:43.732\nI get LGPO,\nLocal Group Policy Object Utility.\n\n537\n00:26:43.732 --> 00:26:46.785\nAnd I'm gonna use this tool,\nwhich is loaded right here.\n\n538\n00:26:46.785 --> 00:26:51.010\nI've just gone in and loaded up\nthe help file for it so you can see it.\n\n539\n00:26:51.010 --> 00:26:52.090\nIt's all right there, right?\n\n540\n00:26:52.090 --> 00:26:56.211\nAnd when I go through and I use this tool,\n\n541\n00:26:59.764 --> 00:27:03.525\nWhat I did was,\nsee if I can mark that real quick.\n\n542\n00:27:03.525 --> 00:27:05.024\nOop, hold on, don't want that.\n\n543\n00:27:05.024 --> 00:27:07.717\nPasting in my download link.\n\n544\n00:27:13.418 --> 00:27:20.244\nWhat I did was I ran,\nas you can see here, lgpo.exe /b.\n\n545\n00:27:20.244 --> 00:27:23.276\nRead the help file obviously to\nfigure this out, b for backup.\n\n546\n00:27:23.276 --> 00:27:28.130\nSpecified the path, specified the name,\n/n for name of the backup.\n\n547\n00:27:28.130 --> 00:27:31.903\nThe name is, the path was test1,\nthe name is demo_gpo.\n\n548\n00:27:31.903 --> 00:27:35.165\nThat's the policy baseline\nI imported up top.\n\n549\n00:27:35.165 --> 00:27:38.262\nThat was my Windows 10 comparison\nwhen I did the Windows Server 16,\n\n550\n00:27:38.262 --> 00:27:40.857\nWindows 10 baseline comparison\non the tool a minute ago.\n\n551\n00:27:40.857 --> 00:27:44.546\nI got that Windows 10 baseline by\nexporting it with this tool from my local\n\n552\n00:27:44.546 --> 00:27:48.356\nmachine, just taking the distillation\nof all the settings I've already got\n\n553\n00:27:48.356 --> 00:27:50.948\nconfigured and\nputting them into this policy file.\n\n554\n00:27:50.948 --> 00:27:52.759\nSo I did this with LGPO.\n\n555\n00:27:52.759 --> 00:27:54.420\nIt's one of the things that the tool does.\n\n556\n00:27:54.420 --> 00:27:58.528\nIt creates the LGPO backup,\ngives it a unique identifier, right,\n\n557\n00:27:58.528 --> 00:28:01.912\nits own UUID, or UUID,\nthat we can then use to track it,\n\n558\n00:28:01.912 --> 00:28:06.113\nwhich is what we would see for\nany of the policy templates that we use.\n\n559\n00:28:06.113 --> 00:28:09.610\nAnd then I was able to just\nimport it into the SCM tool.\n\n560\n00:28:09.610 --> 00:28:14.614\nSo using LGPO as part of the security\ntoolkit lets me extract these.\n\n561\n00:28:14.614 --> 00:28:15.215\n&gt;&gt; Why is that,\n\n562\n00:28:15.215 --> 00:28:18.522\nthat comprehensive or is it that-\n&gt;&gt; What it does is it lets me go to any\n\n563\n00:28:18.522 --> 00:28:22.077\nmachine I wanna pull the settings off of,\nconfigure that backup,\n\n564\n00:28:22.077 --> 00:28:25.139\ngrab that settings template and\nthen import it into SCM.\n\n565\n00:28:25.139 --> 00:28:25.859\n&gt;&gt; And then compare?\n\n566\n00:28:25.859 --> 00:28:27.334\n&gt;&gt; Do the comparison, right.\n\n567\n00:28:27.334 --> 00:28:30.047\nCuz what I'm suggesting when we\nstarted out talking about this was,\n\n568\n00:28:30.047 --> 00:28:32.592\nyou have to make choices about\nwhere you're gonna install SCM.\n\n569\n00:28:32.592 --> 00:28:36.691\nAre you gonna install it directly on\nthe machine you wanna run and import and\n\n570\n00:28:36.691 --> 00:28:37.806\nextract directly?\n\n571\n00:28:37.806 --> 00:28:40.658\nAre you gonna load it like\non a workstation somewhere,\n\n572\n00:28:40.658 --> 00:28:44.936\nand then bring those extracted security\nbaselines you wanna compare in, right,\n\n573\n00:28:44.936 --> 00:28:45.996\nfrom other places.\n\n574\n00:28:45.996 --> 00:28:49.696\nIf you're gonna just load it somewhere and\nthen go, I have a server 16 machine,\n\n575\n00:28:49.696 --> 00:28:51.232\nlet me go get the current settings.\n\n576\n00:28:51.232 --> 00:28:54.944\nYou need LGPO to do that,\nbecause that's a tool that extracts them,\n\n577\n00:28:54.944 --> 00:28:58.221\nmakes them into these policy\nfiles that you can then import.\n\n578\n00:28:58.221 --> 00:29:01.276\nSo I'm just showing you what all\nthe different supporting tools and\n\n579\n00:29:01.276 --> 00:29:03.482\nelements are right around SCM,\nin other words.\n\n580\n00:29:03.482 --> 00:29:07.251\nAnd so when I use that and\nI did the import here under GPL import,\n\n581\n00:29:07.251 --> 00:29:09.402\nall I did was come up here to import.\n\n582\n00:29:09.402 --> 00:29:14.069\nI went and grabbed the output of that\nLGPO backup file right up there.\n\n583\n00:29:14.069 --> 00:29:14.998\nI imported it, and\n\n584\n00:29:14.998 --> 00:29:18.726\nthat's what becomes this little demo\nGPO that I just did the comparison on.\n\n585\n00:29:18.726 --> 00:29:23.079\nSo I would bring in my backed up GPO\nsettings for my different systems.\n\n586\n00:29:23.079 --> 00:29:26.360\nAnd then I can, as you saw,\ndo a cross walk and say, well my standard\n\n587\n00:29:26.360 --> 00:29:30.345\nsecurity baseline for this system should\nlook like this according to Microsoft.\n\n588\n00:29:30.345 --> 00:29:32.296\nMy current settings look like this, right?\n\n589\n00:29:32.296 --> 00:29:34.269\nWe get the compare and\ncontrast spreadsheet.\n\n590\n00:29:34.269 --> 00:29:38.472\nGreat for documentation, great for\nauditing purposes, great for verification,\n\n591\n00:29:38.472 --> 00:29:41.428\ngreat to show me the deltas,\nthe places where I have to go and\n\n592\n00:29:41.428 --> 00:29:43.050\nmake sure things look the same.\n\n593\n00:29:43.050 --> 00:29:47.131\nOr, if apply the guidance,\ngreat to show me what I'm gonna change, so\n\n594\n00:29:47.131 --> 00:29:49.319\nI know what my change path looks like.\n\n595\n00:29:49.319 --> 00:29:52.950\nAnd then I can apply that or edit it,\nas you've seen me do, make changes,\n\n596\n00:29:52.950 --> 00:29:56.075\nsave it off, and apply a hybrid,\nsome sort of merged version.\n\n597\n00:29:56.075 --> 00:29:59.624\nSo the way we get those imports is by\nusing LGPO to grab them off different\n\n598\n00:29:59.624 --> 00:30:03.371\nmachines, one of the two tools you\nget with Security Compliance Toolkit.\n\n599\n00:30:03.371 --> 00:30:08.016\nThe other tool that is interesting, this\nis the one I showed Cherokee she hadn't\n\n600\n00:30:08.016 --> 00:30:10.489\nseen before, is called Policy Analyzer.\n\n601\n00:30:10.489 --> 00:30:11.794\nThis is another one of the tools that\n\n602\n00:30:11.794 --> 00:30:13.500\ncomes with\nthe Security Compliance Toolkit.\n\n603\n00:30:13.500 --> 00:30:15.939\nSo you wanna make sure you take\na look at this one as well.\n\n604\n00:30:15.939 --> 00:30:17.947\nJust an executable, it's in the zip file.\n\n605\n00:30:17.947 --> 00:30:18.872\nYou open it up, run it.\n\n606\n00:30:18.872 --> 00:30:22.029\nThe only thing you gotta do is\ntake all the files out of the zip.\n\n607\n00:30:22.029 --> 00:30:25.095\nIf you're one of those people that says, I\njust need the executable, let me run that.\n\n608\n00:30:25.095 --> 00:30:27.254\nAnd then you run that-\n&gt;&gt; That's not going to work.\n\n609\n00:30:27.254 --> 00:30:30.326\n&gt;&gt; Well, it will, but the problem is\nwhen you go to run it, when you go to do\n\n610\n00:30:30.326 --> 00:30:33.686\na comparison and what I'm about to show\nyou, it needs one of the other files.\n\n611\n00:30:33.686 --> 00:30:35.195\nAnd it will say, sorry,\nI can't do that, all right?\n\n612\n00:30:35.195 --> 00:30:37.924\nSo just grab the entire zip,\nunzip the whole thing.\n\n613\n00:30:37.924 --> 00:30:40.570\nRun it from in there, and\nyou'll avoid that little issue.\n\n614\n00:30:40.570 --> 00:30:44.321\nSo when you load this tool up, right,\nPolicy Analyzer, you open it up.\n\n615\n00:30:44.321 --> 00:30:48.267\nYou'll see here we have the ability to\nadd, view, compare, and/or delete select.\n\n616\n00:30:48.267 --> 00:30:51.920\nAnd I've already added in a set\nof settings that I wanna use,\n\n617\n00:30:51.920 --> 00:30:53.864\nthat's what's sitting here.\n\n618\n00:30:53.864 --> 00:30:55.071\nBut let me show you what we do.\n\n619\n00:30:55.071 --> 00:30:58.810\nYou go add here, you get Policy File\nImporter, part of the tool set.\n\n620\n00:30:58.810 --> 00:30:59.657\nYou go to File.\n\n621\n00:30:59.657 --> 00:31:04.634\nAnd if I can click and make that stick,\nyou add in your files, your settings,\n\n622\n00:31:04.634 --> 00:31:05.717\nfrom your GPOs.\n\n623\n00:31:05.717 --> 00:31:09.144\nAgain, this is another tool that lets\nme look at Group Policy settings and\n\n624\n00:31:09.144 --> 00:31:11.814\ndo a comparison of them or\nsee what's going on with them.\n\n625\n00:31:11.814 --> 00:31:14.415\nJust another way of\nlooking at what's in SCM.\n\n626\n00:31:14.415 --> 00:31:17.909\nNow SCM is a generic tool that\nworks with all sorts of baselines.\n\n627\n00:31:17.909 --> 00:31:21.710\nWhen I showed this tool specifically\nto Cherokee, we were talking about it,\n\n628\n00:31:21.710 --> 00:31:23.238\nshe made a great observation.\n\n629\n00:31:23.238 --> 00:31:27.439\nWhich is, hey, doesn't that look a lot\nlike, and doesn't it work a lot like,\n\n630\n00:31:27.439 --> 00:31:31.207\nthe Group Policy modeling and\nthe Group Policy result instead of policy\n\n631\n00:31:31.207 --> 00:31:35.726\nRSOP toolsets in the Group Policy Editor\nor the Group Policy Manager on, let's say,\n\n632\n00:31:35.726 --> 00:31:36.325\na server?\n\n633\n00:31:36.325 --> 00:31:37.800\nIsn't it kind of like that?\n\n634\n00:31:37.800 --> 00:31:39.852\nAnd it is exactly like that.\n\n635\n00:31:39.852 --> 00:31:43.790\nAs I told her, the difference is this tool\nis designed for standalone workstations\n\n636\n00:31:43.790 --> 00:31:47.960\nthat are not joined at the domain, so you\ncan look at policies on a local machine.\n\n637\n00:31:47.960 --> 00:31:50.181\nSo this is essentially that tool set,\nbut for\n\n638\n00:31:50.181 --> 00:31:52.525\na specific machine that's\nnot domain joined.\n\n639\n00:31:52.525 --> 00:31:55.470\nWe're not gonna get the benefit of\nlooking at the domain policies,\n\n640\n00:31:55.470 --> 00:31:58.600\nyou wanna see the local policies,\nthat's what this tool does.\n\n641\n00:31:58.600 --> 00:32:02.355\nSo we're gonna be able to add\nfiles from any GPOs at computer or\n\n642\n00:32:02.355 --> 00:32:06.764\nuser configuration registry.pol files\nthat I showed you become part of\n\n643\n00:32:06.764 --> 00:32:09.451\nthe backup as we're doing configuration.\n\n644\n00:32:09.451 --> 00:32:12.408\nWe can add security templates, so\nthose INF files like I showed you.\n\n645\n00:32:12.408 --> 00:32:13.662\nI and or the audit policy,\n\n646\n00:32:13.662 --> 00:32:16.683\nremember I showed you all these\nelements as part of the back up.\n\n647\n00:32:16.683 --> 00:32:19.541\nWhen I backed up the template and\nexported it,\n\n648\n00:32:19.541 --> 00:32:23.722\nwe saw we had each one of these\nfiles as part of the group policy.\n\n649\n00:32:23.722 --> 00:32:25.600\nBest practice security base line for\n\n650\n00:32:25.600 --> 00:32:28.819\nserver 16 that I showed you I\nexported that I could now apply.\n\n651\n00:32:28.819 --> 00:32:32.012\nAnd that backup file,\nI showed all these file extensions.\n\n652\n00:32:32.012 --> 00:32:34.322\nI can import anyone or all of them.\n\n653\n00:32:34.322 --> 00:32:36.575\nBring them in and then examine them here.\n\n654\n00:32:36.575 --> 00:32:39.378\nSo what I did was simply\nadd files from GPO.\n\n655\n00:32:39.378 --> 00:32:44.006\nI went and grabbed a GPO that I have here,\nfor Windows 10 and server 16,\n\n656\n00:32:44.006 --> 00:32:45.713\nthat's just what this is.\n\n657\n00:32:45.713 --> 00:32:50.418\nAnd then when I did that, and I did\nthe import, I got this thing right here.\n\n658\n00:32:50.418 --> 00:32:53.740\nAnd so when I do the import\nit loads a group policy data,\n\n659\n00:32:53.740 --> 00:32:58.453\nthis is the part that won't work unless\nyou have all supporting files there.\n\n660\n00:32:58.453 --> 00:33:01.651\nIt stops and it doesn't work, so\nthat's why I said download and\n\n661\n00:33:01.651 --> 00:33:05.040\nextracting entire ZIP file,\nnot just the executable, all right?\n\n662\n00:33:05.040 --> 00:33:09.615\nSo you could see here I'm now able\nto view all of the policy settings.\n\n663\n00:33:09.615 --> 00:33:11.630\nSo there's almost 300 of them in there.\n\n664\n00:33:11.630 --> 00:33:16.200\nThese are coming from,\nprimarily the HQCU, right?\n\n665\n00:33:16.200 --> 00:33:19.297\nThe current user and the LM,\nthe local machine, right?\n\n666\n00:33:19.297 --> 00:33:21.563\nSo I can see all the different\nregistry extensions and\n\n667\n00:33:21.563 --> 00:33:23.688\nessentially where I'm going,\nwhat I'm doing.\n\n668\n00:33:23.688 --> 00:33:27.894\nAnd the nice thing about this is it shows\nme the policy a group or registry key and\n\n669\n00:33:27.894 --> 00:33:29.240\na policy setting.\n\n670\n00:33:29.240 --> 00:33:32.153\nThe set or whatever it is.\n\n671\n00:33:32.153 --> 00:33:36.350\nAnd it gives me the policy path down here\nand gives me all the information for it.\n\n672\n00:33:36.350 --> 00:33:39.734\nSo this tool allows me just to\nsee all the different settings\n\n673\n00:33:39.734 --> 00:33:44.335\nthat are being adjusted or see all the\ndifferent items at those registery.pol,\n\n674\n00:33:44.335 --> 00:33:46.648\ngroup policy files apply to the system.\n\n675\n00:33:46.648 --> 00:33:49.000\nSo it's just another way of\nlooking at the policy template.\n\n676\n00:33:49.000 --> 00:33:55.257\nIt's essentially like a CM, but it's not\nfor master baselines from everywhere.\n\n677\n00:33:55.257 --> 00:33:59.464\nThis is really primarily designed for you\nto import and use either from the template\n\n678\n00:33:59.464 --> 00:34:02.889\nyou want to see the application of and\nthe impact of a local machine or\n\n679\n00:34:02.889 --> 00:34:07.140\nto be able to import information and\nlook at it for and from a local machine.\n\n680\n00:34:07.140 --> 00:34:10.800\nSo we have another tool that is in that\ntoolkit that maybe valuable to us as well.\n\n681\n00:34:10.800 --> 00:34:12.370\nThis is the policy viewer tool.\n\n682\n00:34:12.370 --> 00:34:15.865\nJust wanted to make sure you got a chance\nto see this and see how this works.\n\n683\n00:34:15.865 --> 00:34:19.369\nSo it is simple got ask CM,\nwhich typical of a policy viewer,\n\n684\n00:34:19.369 --> 00:34:22.269\ntalked about lgpo,\nnow we could use lgpo as well.\n\n685\n00:34:23.330 --> 00:34:27.028\nShowed you where to find both SCM, right?\n\n686\n00:34:27.028 --> 00:34:32.830\nAs a solution accelerator, best practice\ndownload from the technet library.\n\n687\n00:34:32.830 --> 00:34:36.531\nShowed you how to add on some additional\ntools from the Security Compliance\n\n688\n00:34:36.531 --> 00:34:38.537\ntoolkit, separate download for that.\n\n689\n00:34:38.537 --> 00:34:41.586\nAnd give me a little deeper\ndive explanation on LGPO and\n\n690\n00:34:41.586 --> 00:34:45.631\nsince it's showing you what the tool\ndoes and how to work you can go out and\n\n691\n00:34:45.631 --> 00:34:49.500\ntake a look at this websites that\nshows you to help probably for LGPO.\n\n692\n00:34:49.500 --> 00:34:52.706\nYou can look at as I showed you\nby parsing the old file but\n\n693\n00:34:52.706 --> 00:34:55.998\nit does show you on the website\nhere how the tool is used.\n\n694\n00:34:55.998 --> 00:35:00.124\nThe primary focus is building that\neither that either registry.pol file,\n\n695\n00:35:00.124 --> 00:35:03.547\nperhaps going in, loading and\nparsing a registry.pol file.\n\n696\n00:35:03.547 --> 00:35:08.693\nBut primarily, extracting the backup\nof a local settings on a machine for\n\n697\n00:35:08.693 --> 00:35:12.594\ncomparison and load into SCM,\nthat's go to registry or\n\n698\n00:35:12.594 --> 00:35:15.510\nrather the LGPO tool does and is used for.\n\n699\n00:35:15.510 --> 00:35:19.072\nSo it is separate, you have to\ndownload it separately as of SCM 4.\n\n700\n00:35:19.072 --> 00:35:23.973\nIn SCM 3, we had a different version\nof this tool that was built in, but\n\n701\n00:35:23.973 --> 00:35:26.030\nwe don't have that anymore.\n\n702\n00:35:26.030 --> 00:35:27.810\nSo now,\nthis tool is broken down separately and\n\n703\n00:35:27.810 --> 00:35:30.047\nyou download as a part of\nthe security compliance tool kit.\n\n704\n00:35:30.047 --> 00:35:31.230\nThen, you have access to it.\n\n705\n00:35:31.230 --> 00:35:35.052\nSo hopefully, the walk through on SCM and\nsome supporting technology and\n\n706\n00:35:35.052 --> 00:35:38.379\nthe ways in which we can use the tool\nto do compare and contrast and\n\n707\n00:35:38.379 --> 00:35:41.766\napply of the best practice guidelines\nwill give us, give you, or\n\n708\n00:35:41.766 --> 00:35:45.524\ngive all of us a better understanding\nof how we can use it to secure the most\n\n709\n00:35:45.524 --> 00:35:49.256\nimportantly will apply best practices\nguidance against our systems.\n\n710\n00:35:49.256 --> 00:35:52.832\nMaking them more secure cuz we are gonna\nbe able to say hey, you know what,\n\n711\n00:35:52.832 --> 00:35:57.060\nI'm not sure about that whole credential\nguard thing, that whole device card thing.\n\n712\n00:35:57.060 --> 00:35:59.226\nAnd by the way, you should be cuz\nwe have episodes around that.\n\n713\n00:35:59.226 --> 00:36:01.228\nBut let's assume for\na minute you weren't but\n\n714\n00:36:01.228 --> 00:36:03.497\nyou saw that it was a best\npractice recommendation.\n\n715\n00:36:03.497 --> 00:36:07.203\nYou could apply it and then obviously go\nback and understand how it works and why,\n\n716\n00:36:07.203 --> 00:36:09.014\nbut at least the settings are in place.\n\n717\n00:36:09.014 --> 00:36:10.184\nAnd the right settings, right?\n\n718\n00:36:10.184 --> 00:36:12.060\nBecause they're configured the right way.\n\n719\n00:36:12.060 --> 00:36:14.620\nSo that way you can then, understand and\nbenefit from that guidance.\n\n720\n00:36:14.620 --> 00:36:16.633\nSo hopefully,\nthat'll prove to be valuable.\n\n721\n00:36:16.633 --> 00:36:18.314\n&gt;&gt; All right, and\njust even you know, as a hey,\n\n722\n00:36:18.314 --> 00:36:19.970\nyou might've forgot about this cool tool.\n\n723\n00:36:19.970 --> 00:36:21.248\nAnd it's like a reminder,\n\n724\n00:36:21.248 --> 00:36:24.760\ngiving you a vision as to where you might\nwanna kind of fill in some big apps.\n\n725\n00:36:24.760 --> 00:36:27.775\nYou might have forgotten about, so\nthank you for showing us that tool and\n\n726\n00:36:27.775 --> 00:36:29.269\nthose complementary components.\n\n727\n00:36:29.269 --> 00:36:32.245\n&gt;&gt; And it is an exam objective so\nit is important to take a look at,\n\n728\n00:36:32.245 --> 00:36:35.140\nto know about, and\nto make sure you're familiar with.\n\n729\n00:36:35.140 --> 00:36:36.700\n&gt;&gt; It's always important.\n&gt;&gt; That is.\n\n730\n00:36:36.700 --> 00:36:38.095\n&gt;&gt; Well, thank you for\njoining us today but for\n\n731\n00:36:38.095 --> 00:36:39.347\nthis show we'll go ahead and sign out.\n\n732\n00:36:39.347 --> 00:36:41.017\nI've been your host, Cherokee Boose.\n\n733\n00:36:41.017 --> 00:36:42.230\n&gt;&gt; I'm Adam Gordon.\n\n734\n00:36:42.230 --> 00:36:43.689\n&gt;&gt; See you next time here at ITProTV.\n\n735\n00:36:43.689 --> 00:36:48.440\n[MUSIC]\n\n736\n00:36:48.440 --> 00:36:55.016\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "234504269"
        }
      ],
      "title": "Configure Advanced Audit Policies"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Cherokee and Adam introduce a Network Intrusion Detection System (NIDS) call Microsoft Advanced Threat Analytics. They explain the gateway architecture. Installed and set up the ATA Center and demonstrated the web interface.",
          "length": "1963",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-7-1-1-install_and_configure_microsoft_ata-1091917-PGM.00_32_27_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-7-1-1-install_and_configure_microsoft_ata-1091917-PGM.00_32_27_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-7-1-1-install_and_configure_microsoft_ata-1091917-PGM.00_32_27_05.Still001-sm.jpg",
          "title": "Install and Configure Microsoft ATA",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:03.405\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.405 --> 00:00:06.580\n[CROSSTALK]\n\n3\n00:00:06.580 --> 00:00:08.272\n[MUSIC]\n\n4\n00:00:08.272 --> 00:00:10.500\nYou're watching ITProTV.\n\n5\n00:00:10.500 --> 00:00:15.460\nWelcome to your\nSecuring Windows Server 2016 series.\n\n6\n00:00:15.460 --> 00:00:17.490\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.490 --> 00:00:21.050\nIn this episode, we'll be taking\na look at how to install and\n\n8\n00:00:21.050 --> 00:00:24.120\nconfigure Microsoft\nAdvanced Threat Analytics.\n\n9\n00:00:24.120 --> 00:00:27.750\nWith us today, back in studios,\nwe have Microsoft expert Mr Adam Gordon.\n\n10\n00:00:27.750 --> 00:00:28.540\nHow's it going today, Adam?\n\n11\n00:00:28.540 --> 00:00:30.620\nIt's going well,\nhopefully going good for all of you.\n\n12\n00:00:30.620 --> 00:00:34.300\nAnd I was just gonna say ATA,\ncuz I can never remember what that stood,\n\n13\n00:00:34.300 --> 00:00:35.355\nthat was awesome.\n\n14\n00:00:35.355 --> 00:00:37.100\n[LAUGH] Good job!\n\n15\n00:00:37.100 --> 00:00:37.600\nAll right.\n\n16\n00:00:37.600 --> 00:00:39.480\nWhoah, so, exactly what is ATA, Adam?\n\n17\n00:00:39.480 --> 00:00:42.400\nAdvanced Threat Analytics,\nthat's exactly what it is.\n\n18\n00:00:42.400 --> 00:00:44.380\nSo let's actually talk about it,\nit's a great question.\n\n19\n00:00:44.380 --> 00:00:47.640\nAnd we were talking, Cherokee and\nI, before we started this episode,\n\n20\n00:00:47.640 --> 00:00:52.780\nabout the fact that ATA, as you and I were\nchatting about, is actually a NID, right?\n\n21\n00:00:52.780 --> 00:00:55.510\nAn NIDS,\na network intrusion detection system,\n\n22\n00:00:55.510 --> 00:00:59.250\nMicrosoft's version of their NIDS product.\n\n23\n00:00:59.250 --> 00:01:01.590\nAnd the idea behind it is\nfairly straightforward.\n\n24\n00:01:01.590 --> 00:01:05.800\nIf you're familiar with the concept of\nan IDS, an intrusion detection system.\n\n25\n00:01:05.800 --> 00:01:08.090\nWe are going to passively monitor and\n\n26\n00:01:08.090 --> 00:01:11.580\nwe are going to record all the data\nthat's coming in around that monitoring.\n\n27\n00:01:11.580 --> 00:01:14.590\nWe'll take a look at how we do that and\nget into that in just a minute.\n\n28\n00:01:14.590 --> 00:01:19.780\nWe're then going to be able to alert\neither Cherokee is the administrator or\n\n29\n00:01:19.780 --> 00:01:23.480\nmyself or anybody who may have\nan interest in knowing what's going on.\n\n30\n00:01:23.480 --> 00:01:27.100\nWe'll be able to send alerts through\neither email based alerts or\n\n31\n00:01:27.100 --> 00:01:29.120\nsome other form of messaging.\n\n32\n00:01:29.120 --> 00:01:31.780\nWe can generate log entries,\nall sorts of stuff.\n\n33\n00:01:31.780 --> 00:01:34.410\nBut we can tell people that\nsomething is going on.\n\n34\n00:01:34.410 --> 00:01:39.080\nBut the key differentiator here, between\nan IDS, an intrusion detection, and IPS,\n\n35\n00:01:39.080 --> 00:01:43.910\nintrusion prevention system is\nthe ability to take it to the next level.\n\n36\n00:01:43.910 --> 00:01:47.890\nIDS is a passive monitoring and\ndetection capability.\n\n37\n00:01:47.890 --> 00:01:51.180\nThere's no response capability built in.\n\n38\n00:01:51.180 --> 00:01:55.250\nIPS, intrusion prevention\ntakes the IDS capability,\n\n39\n00:01:55.250 --> 00:02:00.150\ntacks on the ability to then become\nactive as a result of that detection.\n\n40\n00:02:00.150 --> 00:02:03.810\nAnd take some sort of retaliatory,\nmitigation-based,\n\n41\n00:02:03.810 --> 00:02:09.070\nor some sort of, activity that\nit can engage in to minimize.\n\n42\n00:02:09.070 --> 00:02:12.800\nOr somehow reduce the capability that\nthe thread actor, the bad actor,\n\n43\n00:02:12.800 --> 00:02:15.140\nis presenting, right,\nin terms of the attack.\n\n44\n00:02:15.140 --> 00:02:19.350\nSo an IPS system will be able to\nrespond to inbound attacks by, perhaps,\n\n45\n00:02:19.350 --> 00:02:22.790\nreconfiguring a firewall,\nchanging port designations,\n\n46\n00:02:22.790 --> 00:02:27.830\nblocking an inbound IP address that's\nseems to be, potentially, problematic.\n\n47\n00:02:27.830 --> 00:02:30.740\nBecause of the amount of traffic\nit's sending in, maybe a denial or\n\n48\n00:02:30.740 --> 00:02:32.490\ndistributed denial of service event.\n\n49\n00:02:32.490 --> 00:02:35.080\nThose kinda things would be IPS based.\n\n50\n00:02:35.080 --> 00:02:37.590\nThe IDS would tell us that's happening,\nbut\n\n51\n00:02:37.590 --> 00:02:40.170\nwould leave it up to us to\ndecide the activities to take.\n\n52\n00:02:40.170 --> 00:02:42.120\nOr the actions to take as next steps.\n\n53\n00:02:42.120 --> 00:02:45.480\nAnd we have both network-based and\nhost-based solutions.\n\n54\n00:02:45.480 --> 00:02:48.150\nThis is a NID,\na network-based IDS product.\n\n55\n00:02:48.150 --> 00:02:52.910\nWe deploy it into the environment\nusing either a gateway or\n\n56\n00:02:52.910 --> 00:02:54.240\na lightweight gateway model.\n\n57\n00:02:54.240 --> 00:02:58.670\nWe'll take a look at the component parts,\nlink those back to the ATA server.\n\n58\n00:02:58.670 --> 00:03:01.580\nWhich is called the ATA Center,\nthe primary controls, or\n\n59\n00:03:01.580 --> 00:03:05.440\nbrain that controls and\ncoordinates all the activity.\n\n60\n00:03:05.440 --> 00:03:09.030\nAnd then having those gateway\nproducts sitting out in the network\n\n61\n00:03:09.030 --> 00:03:13.660\nallows us to be able to see traffic coming\nthrough those specific choke points.\n\n62\n00:03:13.660 --> 00:03:16.350\nThat's the network based approach,\na host based approach,\n\n63\n00:03:16.350 --> 00:03:18.800\nwhich is not what this product does.\n\n64\n00:03:18.800 --> 00:03:21.222\nBut is an option with other IDS solutions.\n\n65\n00:03:21.222 --> 00:03:24.780\nThere's a piece of software we would\ntraditionally call an agent that\n\n66\n00:03:24.780 --> 00:03:29.320\ngets installed onto one system or\nmultiple systems.\n\n67\n00:03:29.320 --> 00:03:31.650\nAnd we monitor all of\nthe traffic coming and\n\n68\n00:03:31.650 --> 00:03:33.780\ngoing through that particular end point.\n\n69\n00:03:33.780 --> 00:03:37.250\nAnd that becomes the source of our\nreporting and our activity matrix.\n\n70\n00:03:37.250 --> 00:03:40.660\nWe look at a web server,\nwe look at a file server.\n\n71\n00:03:40.660 --> 00:03:44.530\nWe look at an individual database\nserver in a host based model.\n\n72\n00:03:44.530 --> 00:03:47.410\nIndividual hosts have their own agents and\nmultiple hosts\n\n73\n00:03:47.410 --> 00:03:51.870\nreport back up to some sort of ventral\nserver or central console capability.\n\n74\n00:03:51.870 --> 00:03:54.340\nThese are the traditional\nmodels we see defined to this.\n\n75\n00:03:54.340 --> 00:03:56.730\nCherokee now say what you\nwanted to asks something.\n\n76\n00:03:56.730 --> 00:03:58.510\nYeah and\nhow you were explaining that Adam.\n\n77\n00:03:58.510 --> 00:04:02.586\nIt's very important to understand\nthe capabilities of a particular tool.\n\n78\n00:04:02.586 --> 00:04:06.710\nSo that you're aware of what this tool\ndoes, but also what it doesn't do.\n\n79\n00:04:06.710 --> 00:04:10.490\nSo that you're not relying on something\nthat isn't going to be happening.\n\n80\n00:04:10.490 --> 00:04:14.050\nSo when we look at ATA, it is very\nimportant to understand that this is\n\n81\n00:04:14.050 --> 00:04:16.236\na NID, it's detection,\nlike we've mentioned.\n\n82\n00:04:16.236 --> 00:04:20.420\nNetwork based IDS, so\nnetwork based detection as opposed to\n\n83\n00:04:20.420 --> 00:04:24.130\nan intrusion prevention system,\nand/or a host based system.\n\n84\n00:04:24.130 --> 00:04:27.400\nIt's also important not just to say,\nhey, it's an IDS.\n\n85\n00:04:27.400 --> 00:04:30.320\nBut what kind of ideas,\nis it host based or network based?\n\n86\n00:04:30.320 --> 00:04:33.610\nSpeaking of which,\nwe have what we now call a visual for you.\n\n87\n00:04:33.610 --> 00:04:35.940\nLet's put that pretty\nvisual up on the screen.\n\n88\n00:04:35.940 --> 00:04:37.590\nCherokee loves it when\ni say the word visual.\n\n89\n00:04:37.590 --> 00:04:39.150\nLet's go full screen for just a second.\n\n90\n00:04:39.150 --> 00:04:40.799\nSo basically,\nwe just have a diagram, right?\n\n91\n00:04:40.799 --> 00:04:42.773\nThat shows [CROSSTALK] detection.\nAnd I love the acronyms associated\n\n92\n00:04:42.773 --> 00:04:43.509\nwith those.\n\n93\n00:04:43.509 --> 00:04:46.980\nYou've got, what, your NIPS,\nyour HIPS, your NIDS and your HIDS.\n\n94\n00:04:46.980 --> 00:04:50.345\nAnd those are- And there's also wireless\nversions, there's WHIPS and WIDS.\n\n95\n00:04:50.345 --> 00:04:53.390\n[LAUGH] Cause we have wireless\nversions of an IPS or an IDS.\n\n96\n00:04:53.390 --> 00:04:54.975\nYeah.\nIf you thin about it right.\n\n97\n00:04:54.975 --> 00:04:55.540\n[LAUGH] Yes so\n\n98\n00:04:55.540 --> 00:05:00.562\nwe have all, not going into the potential,\nsocial, impact of those statements.\n\n99\n00:05:00.562 --> 00:05:04.652\n[LAUGH] We do have all sorts of acronyms\nthat we can play with at your leisure.\n\n100\n00:05:04.652 --> 00:05:08.580\nAll right, so let's just take a look at,\ngenerally just an architectural diagram.\n\n101\n00:05:08.580 --> 00:05:11.556\nJust threw together a quick\nvisual representation, right,\n\n102\n00:05:11.556 --> 00:05:12.880\nof what this may look like.\n\n103\n00:05:12.880 --> 00:05:15.240\nWe're gonna take a look at\nhow to put this all together.\n\n104\n00:05:15.240 --> 00:05:17.430\nWe're gonna take how to\ninstall the product.\n\n105\n00:05:17.430 --> 00:05:20.460\nI'm gonna show you in just a couple\nof minutes how to go through.\n\n106\n00:05:20.460 --> 00:05:23.250\nGot the installation teed up\nright here as you can see.\n\n107\n00:05:23.250 --> 00:05:24.240\nAlready got it set up,\n\n108\n00:05:24.240 --> 00:05:27.920\nthe iso downloaded, waiting on us\nto click Next to start the install.\n\n109\n00:05:27.920 --> 00:05:30.270\nSo we're gonna take a look\nat that in just a minute.\n\n110\n00:05:30.270 --> 00:05:34.930\nBut what we traditionally see here is\nwe have our ATA Gateway product, or\n\n111\n00:05:34.930 --> 00:05:37.440\nour ATA Gateway installation.\n\n112\n00:05:37.440 --> 00:05:40.190\nWe have some sort of port mirroring and\n\n113\n00:05:40.190 --> 00:05:44.390\nevent forwarding capabilities that\nthe gateway will engage in for us.\n\n114\n00:05:44.390 --> 00:05:47.800\nWe then have our ATA Center,\nthis is the brains of the operation right.\n\n115\n00:05:47.800 --> 00:05:51.590\nThe coordination area where\nall of the gateways report in.\n\n116\n00:05:51.590 --> 00:05:55.570\nOur database is here that\naggregates all the data coming from\n\n117\n00:05:56.620 --> 00:05:59.020\nthe ATA gateways that\nare managed by the center.\n\n118\n00:05:59.020 --> 00:06:01.160\nThere may be what's called\nthe lightweight gateway,\n\n119\n00:06:01.160 --> 00:06:04.170\nwhich could be installed\ndirectly on a domain controller.\n\n120\n00:06:04.170 --> 00:06:06.115\nIf we choose to install separately and\n\n121\n00:06:06.115 --> 00:06:08.830\nport mirror it against\nthe domain controller.\n\n122\n00:06:08.830 --> 00:06:12.370\nWe port mirror the traffic coming in and\nout of the area.\n\n123\n00:06:12.370 --> 00:06:16.570\nSo we can see all the ADDS traffic, that's\none of the key things we monitor with.\n\n124\n00:06:16.570 --> 00:06:22.680\nOur four with the ATA product is the ADDS\ntraffic, looking at security concerns.\n\n125\n00:06:22.680 --> 00:06:27.450\nPast the hash attacks and the middle\nattacks, masquerading and spoofing.\n\n126\n00:06:27.450 --> 00:06:34.320\nWhatever it may be, any user, device,\nmobile device-based anomalies of any kind.\n\n127\n00:06:34.320 --> 00:06:37.890\nAnd this product is both signature-based\nand anomaly-based as an IDS.\n\n128\n00:06:37.890 --> 00:06:41.075\nDifferent ways of seeing\nthe IDS capability work.\n\n129\n00:06:41.075 --> 00:06:44.000\nSignature-based would be like a firewall,\nright?\n\n130\n00:06:44.000 --> 00:06:49.170\nOr like a INT Virus Program where\nyou're downloading definitions.\n\n131\n00:06:49.170 --> 00:06:52.470\nOr you have a set of rules that\nare created that tell you what behavior to\n\n132\n00:06:52.470 --> 00:06:53.360\nlook for.\n\n133\n00:06:53.360 --> 00:06:58.820\nAnd then we look at that behavior and\nscan for matches and traffic flow, right?\n\n134\n00:06:58.820 --> 00:07:02.360\nSo that would be one way this is done,\nanomaly based,\n\n135\n00:07:02.360 --> 00:07:07.070\nwould be a learning capability like an AI\nor an artificial intelligence capability.\n\n136\n00:07:07.070 --> 00:07:11.020\nWhere we develop a database of traffic,\nand over a certain amount of time,\n\n137\n00:07:11.020 --> 00:07:13.860\nlearn what is normal and\ntherefore what is abnormal.\n\n138\n00:07:13.860 --> 00:07:16.550\nOkay, what are called baselines or\nprotection baselines.\n\n139\n00:07:16.550 --> 00:07:20.160\nAnd then, we're able to scan and\nmonitor inbound outbound traffic flows.\n\n140\n00:07:20.160 --> 00:07:24.170\nAnd by the way, we talked about\ninbound traffic as being ingress,\n\n141\n00:07:24.170 --> 00:07:26.620\ninbound, outbound traffic, egress.\n\n142\n00:07:26.620 --> 00:07:30.430\nThat's a term you often hear,\nagain, on some of the firewalls.\n\n143\n00:07:30.430 --> 00:07:32.410\nWe think about the same kind of design.\n\n144\n00:07:32.410 --> 00:07:34.080\nTalk about the same kind or\n\n145\n00:07:34.080 --> 00:07:36.370\nuse the same kind of vocabulary\nto talk about the product.\n\n146\n00:07:36.370 --> 00:07:40.330\nSo we look at ingress and egress,\ninbound outbound traffic flows and\n\n147\n00:07:40.330 --> 00:07:42.870\nwe analyze the information.\n\n148\n00:07:42.870 --> 00:07:47.040\nThe protocols, the IP addresses,\nthe direction of the traffic,\n\n149\n00:07:47.040 --> 00:07:48.250\nall that kinda stuff.\n\n150\n00:07:48.250 --> 00:07:51.851\nWe need at least 30 days of working data\nin the database to really do the user\n\n151\n00:07:51.851 --> 00:07:52.766\nanalytics piece.\n\n152\n00:07:52.766 --> 00:07:57.479\nSo we do need that, but just keep in mind\nthat this is gonna be a product that\n\n153\n00:07:57.479 --> 00:08:00.613\nhas advanced capabilities\nassociated with it.\n\n154\n00:08:00.613 --> 00:08:04.136\nSo Adam, you said this is both\nsignature and behavioral based so\n\n155\n00:08:04.136 --> 00:08:08.940\nthat's kind of like taking good qualities\nfrom both of these like you said.\n\n156\n00:08:08.940 --> 00:08:13.531\nWith signature based we do have the\ncapabilities like anti-malware software\n\n157\n00:08:13.531 --> 00:08:17.230\nto go and pull those definitions or\nthose updated signatures.\n\n158\n00:08:17.230 --> 00:08:18.873\nSo if there is any kind of zero day or\n\n159\n00:08:18.873 --> 00:08:22.710\ntypes of attacks that haven't been\ndocumented that could be a drawback.\n\n160\n00:08:22.710 --> 00:08:27.750\nBut then we also have the behavior aspect\nto fall back on which also has a drawback.\n\n161\n00:08:27.750 --> 00:08:30.990\nLike you said, that first 30\ndays during that tuning period.\n\n162\n00:08:30.990 --> 00:08:32.820\nSo we had those signatures\nto fall back on.\n\n163\n00:08:32.820 --> 00:08:35.430\nSo this is pretty cool how\nwe're integrating both of those\n\n164\n00:08:35.430 --> 00:08:37.840\nanalysis engine styles.\n\n165\n00:08:37.840 --> 00:08:41.450\nIt is, it gives us a much stronger\nproduct than just relying on only one\n\n166\n00:08:41.450 --> 00:08:42.940\ncapabilities you were suggesting, right?\n\n167\n00:08:42.940 --> 00:08:46.150\nIf we have a zero day or ATP issue and\n\n168\n00:08:46.150 --> 00:08:49.220\nour signature is not updated because\nthe vendor hasn't bought one out,\n\n169\n00:08:49.220 --> 00:08:53.790\nor just isn't aware of it, which is often\nthe case with a zero day or ATP exploit.\n\n170\n00:08:53.790 --> 00:08:56.320\nThe vendor probably knows about it,\nif they haven't patched for it yet, so\n\n171\n00:08:56.320 --> 00:09:01.640\nas a result we may not see the evidence\nof that awareness in our download, right?\n\n172\n00:09:01.640 --> 00:09:04.390\nOur ability to add definitions\ninto the products.\n\n173\n00:09:04.390 --> 00:09:07.990\nSo, having that ability to rely on\nthe analytics piece is good but\n\n174\n00:09:07.990 --> 00:09:09.790\nlike anything else, it builds over time.\n\n175\n00:09:09.790 --> 00:09:13.780\nWe often talk about a burning period with\nthese products where you have to run them,\n\n176\n00:09:13.780 --> 00:09:15.570\nas I mentioned, at least 30 days,\n\n177\n00:09:15.570 --> 00:09:19.160\nin this case to build the user\nanalytics area, the definitions and\n\n178\n00:09:19.160 --> 00:09:22.470\nthe understanding of what is normal and\nabnormal up against the data flow.\n\n179\n00:09:22.470 --> 00:09:24.350\nYou've gotta have that period of time and\n\n180\n00:09:24.350 --> 00:09:28.090\nif you're not running it long enough\nyou're not really going to be very smart,\n\n181\n00:09:28.090 --> 00:09:31.270\nthere's no visibility into that\ntraffic that makes sense to us.\n\n182\n00:09:31.270 --> 00:09:33.180\nSo, it is important to consider that,\n\n183\n00:09:33.180 --> 00:09:37.010\na lot of times this prior some brought\nup and run, to really understand what's\n\n184\n00:09:37.010 --> 00:09:40.800\nhappening in the network and that does\ntake time to develop that understanding.\n\n185\n00:09:40.800 --> 00:09:42.340\nSo, do keep that in mind.\n\n186\n00:09:42.340 --> 00:09:46.920\nThink of this as a syslog solution, cuz\nessentially we are forwarding information\n\n187\n00:09:46.920 --> 00:09:49.720\nand able to gain the benefit\nof that as well.\n\n188\n00:09:49.720 --> 00:09:52.760\nI mentioned syslog forwarding\nreceived from the ATA gateway here.\n\n189\n00:09:52.760 --> 00:09:56.680\nWe're forwarding log information down and\nusing it, or\n\n190\n00:09:56.680 --> 00:09:58.450\nhaving the ability to deep dive into it.\n\n191\n00:09:58.450 --> 00:10:01.660\nDo deep packet inspection and\nthings of that nature around the logging.\n\n192\n00:10:01.660 --> 00:10:06.350\nSo, this is what we will see and\nwhat we will refer to as our architecture.\n\n193\n00:10:06.350 --> 00:10:09.080\nJust to show you some of\nthe moving parts and pieces.\n\n194\n00:10:09.080 --> 00:10:11.480\nAll right, so\nhaving said that, let's go in,\n\n195\n00:10:11.480 --> 00:10:13.760\nlet's take a look at where\nyou find this product.\n\n196\n00:10:13.760 --> 00:10:16.620\nIt's one of Microsoft's products,\nyou can download it from the website.\n\n197\n00:10:16.620 --> 00:10:17.953\nWe've taken a look at and\n\n198\n00:10:17.953 --> 00:10:21.839\ntalked about some other products that\nexist that are security related.\n\n199\n00:10:21.839 --> 00:10:23.837\nIf you haven't seen\nsome of those episodes,\n\n200\n00:10:23.837 --> 00:10:27.580\nwhether you're watching us in order,\ngoing out of order, cherry picking topics.\n\n201\n00:10:27.580 --> 00:10:30.000\nThere's something called\nthe Operations Management Suite,\n\n202\n00:10:30.000 --> 00:10:33.210\nthe OMS solution,\nwhich is also a downloadable solution.\n\n203\n00:10:34.320 --> 00:10:36.780\nNot downloadable, but\nuseable through the cloud, I should say.\n\n204\n00:10:36.780 --> 00:10:40.020\nWhere you could go out and leverage\nthe Azure Fabric to use Ops Manager,\n\n205\n00:10:40.020 --> 00:10:44.780\nSystem Center Ops Manager online to be\nable to do analytics and to do monitoring.\n\n206\n00:10:44.780 --> 00:10:49.020\nWe've talked about capabilities that you\ncan add to your existing infrastructure\n\n207\n00:10:49.020 --> 00:10:53.250\nby using some of the tool sets or\nadditional tools you can download.\n\n208\n00:10:53.250 --> 00:10:57.500\nLike the signing tool, to be able\nto add to your CI policies, right?\n\n209\n00:10:57.500 --> 00:11:00.420\nWhen we're talking about being able\nto create code based policies,\n\n210\n00:11:00.420 --> 00:11:01.810\ncode integrity policies.\n\n211\n00:11:01.810 --> 00:11:03.640\nYou could add unsigned or\n\n212\n00:11:03.640 --> 00:11:06.880\ndigitally signed code that you\ncreate yourself into the policy.\n\n213\n00:11:06.880 --> 00:11:09.980\nWe talked about lot of different ways that\nyou can augment security in the Server\n\n214\n00:11:09.980 --> 00:11:10.860\n16 platform.\n\n215\n00:11:10.860 --> 00:11:14.850\nSo encourage you to keep looking at those\nepisodes we've done, look at prior ones,\n\n216\n00:11:14.850 --> 00:11:17.180\nlook at some that are coming\nup beyond this topic.\n\n217\n00:11:17.180 --> 00:11:20.560\nBut there is a wealth of different things\nthat exist in the Microsoft ecosystem.\n\n218\n00:11:20.560 --> 00:11:24.550\nThis is just one of many different\nsolutions, products, opportunities.\n\n219\n00:11:24.550 --> 00:11:27.669\nCherokee asked me a really important\nquestion about solutions and\n\n220\n00:11:27.669 --> 00:11:30.240\nopportunities right before\nwe started this episode.\n\n221\n00:11:30.240 --> 00:11:32.970\nShe said, hey this is a really\ncool product, is it free?\n\n222\n00:11:32.970 --> 00:11:35.535\nRight, you asked me if it's free or,\ndo we have to buy this?\n\n223\n00:11:35.535 --> 00:11:36.268\nThis sounds really cool.\n\n224\n00:11:36.268 --> 00:11:37.280\nI'm always curious about that.\n\n225\n00:11:37.280 --> 00:11:38.330\nRight, so how do you know,\nhow do you get it?\n\n226\n00:11:38.330 --> 00:11:40.810\nWell you obviously can download,\nwe're going to show you that.\n\n227\n00:11:40.810 --> 00:11:43.080\nBut this one is not for you,\nyou do have to buy this.\n\n228\n00:11:43.080 --> 00:11:47.270\nYou have enterprise licensing and EA,\ndepending on the level of EA you have and\n\n229\n00:11:47.270 --> 00:11:50.330\nthe product coverage you have, you may\nalready have this product included.\n\n230\n00:11:50.330 --> 00:11:51.515\nIt's hard to say.\n\n231\n00:11:51.515 --> 00:11:54.640\nYou'd have to go back and\nobviously talk with the licencing owner,\n\n232\n00:11:54.640 --> 00:11:57.850\nthe licencing manager in your environment,\nwhoever runs and\n\n233\n00:11:57.850 --> 00:12:01.750\nmanages the licencing relationship\nto find out the specifics.\n\n234\n00:12:01.750 --> 00:12:04.550\nBut you can download a trial\nversion of this and use it for\n\n235\n00:12:04.550 --> 00:12:05.680\n90 days free of charge.\n\n236\n00:12:05.680 --> 00:12:08.870\nI'm gonna show you how to do that and\ndo our install as a result.\n\n237\n00:12:08.870 --> 00:12:11.920\nSo the URL for this site is in the show\nnotes, just make sure you take a look.\n\n238\n00:12:11.920 --> 00:12:14.880\nWe often will put that stuff there\nto encourage you to go out and\n\n239\n00:12:14.880 --> 00:12:16.290\nexplore on your own.\n\n240\n00:12:16.290 --> 00:12:20.690\nCherokee always pretrips all those URLs\nto make sure they are accurate, and\n\n241\n00:12:20.690 --> 00:12:24.280\nso we can promise you they are accurate\nat the time we put the episode together.\n\n242\n00:12:24.280 --> 00:12:26.210\nAnd as I always caution, right?\n\n243\n00:12:26.210 --> 00:12:29.170\nHard to say for sure if Microsoft\ndecides to move this product\n\n244\n00:12:29.170 --> 00:12:33.308\naround in three months, change the URL,\nmay or may not always be accurate.\n\n245\n00:12:33.308 --> 00:12:36.370\nSo, we always encourage you to go out and\nfollow the URL and the notes but if for\n\n246\n00:12:36.370 --> 00:12:40.370\nsome reason it misfired, just use common\nsense because search for the product,\n\n247\n00:12:40.370 --> 00:12:44.480\nfind the most up to data URL, go to it at\nthat point and we'll make sure we try to\n\n248\n00:12:44.480 --> 00:12:47.600\ndo our best to update it if we're aware\nof the fact that the URL has changed.\n\n249\n00:12:47.600 --> 00:12:51.960\nSo when you go out to the ATA website,\ndetect suspicious activity,\n\n250\n00:12:51.960 --> 00:12:54.290\npretty straightforward,\nnot a lot on the landing page but\n\n251\n00:12:54.290 --> 00:12:56.910\nthere is one interesting thing down\nat the bottom other than pricing and\n\n252\n00:12:56.910 --> 00:13:00.770\nresources which we'll take a look at\nin just a minute in our Try Now link.\n\n253\n00:13:00.770 --> 00:13:02.838\nIf you do wanna take a look\nat this product in action,\n\n254\n00:13:02.838 --> 00:13:04.540\nI was mentioning this to Cherokee as well.\n\n255\n00:13:04.540 --> 00:13:07.280\nIf you don't see this product running,\ndon't have it,\n\n256\n00:13:07.280 --> 00:13:10.245\nyou wanna know what it looks like,\nyou're not gonna run it for\n\n257\n00:13:10.245 --> 00:13:14.181\na number of days to build the data but you\nwanna see it, then there's a great little\n\n258\n00:13:14.181 --> 00:13:18.670\ndemo available right through the website\nhere down at the bottom to come down here.\n\n259\n00:13:18.670 --> 00:13:22.530\nRight here, detect, prioritize, and\ninvestigate advanced attacks demo.\n\n260\n00:13:22.530 --> 00:13:26.290\nThis takes you out to a blog posting for\nthe Microsoft Mechanics show.\n\n261\n00:13:26.290 --> 00:13:29.650\nYou may or may not have seen this before,\nbut it is kind of cool.\n\n262\n00:13:29.650 --> 00:13:33.310\nSo, the enterprise mobility and\nsecurity blog is where this is post it.\n\n263\n00:13:33.310 --> 00:13:38.060\nAnd you can see it's from early 2017,\nand you can go out and take a look here.\n\n264\n00:13:38.060 --> 00:13:40.400\nAnd they've got this video,\nit's just a few minutes long.\n\n265\n00:13:40.400 --> 00:13:41.970\nIt's really not that big of a deal.\n\n266\n00:13:41.970 --> 00:13:46.157\nBut you can watch a demo where this is\nactually set up, install configured,\n\n267\n00:13:46.157 --> 00:13:48.805\nand you could see what\nthe dashboard looks like here for\n\n268\n00:13:48.805 --> 00:13:50.775\nthe configuration on the ATA center.\n\n269\n00:13:50.775 --> 00:13:53.275\nI'm gonna install this and\nwe'll take a look at this.\n\n270\n00:13:53.275 --> 00:13:55.675\nYou could see some of\nthe reporting that takes place.\n\n271\n00:13:55.675 --> 00:13:58.257\nSo you get a chance just\nto see how this works.\n\n272\n00:13:58.257 --> 00:14:01.007\nBut it is nice,\nthey do just give you a sense of the fact\n\n273\n00:14:01.007 --> 00:14:03.782\nwe combine analysis of network traffic,\nevents and\n\n274\n00:14:03.782 --> 00:14:08.697\ncontextual data from directories,\ngroup memberships, management information.\n\n275\n00:14:08.697 --> 00:14:10.777\nLot of different areas in the ADDS.\n\n276\n00:14:10.777 --> 00:14:13.274\nAnd once we deploy and\nbegin monitoring all that activity,\n\n277\n00:14:13.274 --> 00:14:16.150\nwe're then able to see what is normal and\nabnormal.\n\n278\n00:14:16.150 --> 00:14:21.080\nAs we said, application layer is used\nhere for the network protocol analysis.\n\n279\n00:14:21.080 --> 00:14:23.479\nSo we're able to look at all\nthe different computers,\n\n280\n00:14:23.479 --> 00:14:26.765\nthe traffic flow which parse the traffic\nand then we're able to extend that\n\n281\n00:14:26.765 --> 00:14:30.490\ninformation by linking it to attributes in\nthe Active Directory to correlate that.\n\n282\n00:14:30.490 --> 00:14:33.390\nSo, it's actually a really\nnice little overview.\n\n283\n00:14:33.390 --> 00:14:35.210\nSo I encourage you to take a look at that.\n\n284\n00:14:35.210 --> 00:14:38.362\nAll right, so in here what may be\nof interest to you is if you go to\n\n285\n00:14:38.362 --> 00:14:41.456\nthe resources there if you just\nwant to read up on the product,\n\n286\n00:14:41.456 --> 00:14:43.146\nlearn a little bit more about it.\n\n287\n00:14:43.146 --> 00:14:47.060\nYou'll see that you've got the little\nstandard stuff, the plan and design,\n\n288\n00:14:47.060 --> 00:14:50.880\nthe troubleshoot, the FAQ, some technical\nvideos like I was showing you so\n\n289\n00:14:50.880 --> 00:14:52.960\nyou can get a little leg up on with this.\n\n290\n00:14:52.960 --> 00:14:54.470\nThen we have the Try Now link.\n\n291\n00:14:54.470 --> 00:14:58.180\nWhen you go here you are going\nto be able to download.\n\n292\n00:14:58.180 --> 00:15:00.820\nSo let's just go in here\nextend our timer real quick.\n\n293\n00:15:00.820 --> 00:15:05.450\nYou're gonna be able to go in and you're\ngonna be able to download the product and\n\n294\n00:15:05.450 --> 00:15:08.990\nyou could see right here I've\ngone to click that Try Now link,\n\n295\n00:15:08.990 --> 00:15:11.738\ntakes me out to the TechNet\nevaluation center.\n\n296\n00:15:11.738 --> 00:15:16.057\nI'm in my demo environment and\nI've just put in my information.\n\n297\n00:15:16.057 --> 00:15:18.590\nThere's that standard little register\npage we showed you a couple of times.\n\n298\n00:15:18.590 --> 00:15:21.311\nYou just put in your information,\ncheck off the box, say,\n\n299\n00:15:21.311 --> 00:15:23.360\nI agree to use the software properly.\n\n300\n00:15:23.360 --> 00:15:27.190\nDownload and then it gives you the link,\nyou get a 90-day trial.\n\n301\n00:15:27.190 --> 00:15:31.280\nAs I showed you, you download the ISO,\ncurrently version 1.8.1.\n\n302\n00:15:31.280 --> 00:15:34.400\nRelatively new release, so this may\nvery well be the one you get to see,\n\n303\n00:15:34.400 --> 00:15:36.060\ndepending on when you download this.\n\n304\n00:15:36.060 --> 00:15:39.900\nYou bring the ISO out, just download\nit to my desktop, double click.\n\n305\n00:15:39.900 --> 00:15:44.450\nWhen you go into the root there,\nyou'll have license terms and a setup.\n\n306\n00:15:44.450 --> 00:15:46.520\nJust click on the Setup Application.\n\n307\n00:15:46.520 --> 00:15:49.880\nYou get this particular menu or\nthis particular window right here.\n\n308\n00:15:49.880 --> 00:15:53.690\nWe're gonna jump and\ndo our installation right from here.\n\n309\n00:15:53.690 --> 00:15:55.042\nSo we've got our language version.\n\n310\n00:15:55.042 --> 00:15:57.100\nPretty straightforward English, right?\n\n311\n00:15:57.100 --> 00:15:57.719\nClick Next.\n\n312\n00:15:57.719 --> 00:16:00.163\nUnless you just want to have a really\ninteresting time demoing this.\n\n313\n00:16:00.163 --> 00:16:01.010\nWell, it's actually a good point.\n\n314\n00:16:01.010 --> 00:16:01.750\nI shouldn't say that.\n\n315\n00:16:01.750 --> 00:16:03.972\nI do try to show you this traditionally.\n\n316\n00:16:03.972 --> 00:16:07.012\nYes, if you want to You know, pick\na language you may not be fluent with.\n\n317\n00:16:07.012 --> 00:16:08.534\n[LAUGH] You obviously have that option.\n\n318\n00:16:08.534 --> 00:16:11.190\nChinese is always a good\none if you choose to.\n\n319\n00:16:11.190 --> 00:16:15.090\nBut you do have Dutch, you do have French,\nyou do have Spanish, and\n\n320\n00:16:15.090 --> 00:16:17.380\nyou do have as you can see here Chinese.\n\n321\n00:16:17.380 --> 00:16:18.770\nSo you do have some language options.\n\n322\n00:16:18.770 --> 00:16:19.993\nImportant to know that,\n\n323\n00:16:19.993 --> 00:16:22.970\nwe do have people who are watching\nus from all over the world.\n\n324\n00:16:22.970 --> 00:16:25.534\nYou may be wanting to install this\nsoftware in your native language and\n\n325\n00:16:25.534 --> 00:16:28.240\nknowing that it's available to you\nin that language would be important.\n\n326\n00:16:28.240 --> 00:16:30.320\nSo we're gonna demo in English.\n\n327\n00:16:30.320 --> 00:16:33.060\nBecause Cherokee didn't bring\nher babel translator today.\n\n328\n00:16:33.060 --> 00:16:35.530\nOkay, we're just going to accept our EULA,\n\n329\n00:16:35.530 --> 00:16:38.200\nthis is pretty standard\nin most of the products.\n\n330\n00:16:38.200 --> 00:16:42.460\nWe get the end user license agreement,\nand so we're just going to accept that.\n\n331\n00:16:42.460 --> 00:16:44.450\nMove that over so you can see that.\n\n332\n00:16:44.450 --> 00:16:45.790\nClick Next.\n\n333\n00:16:45.790 --> 00:16:49.150\nUse Microsoft update to help\nkeep your computer secure.\n\n334\n00:16:49.150 --> 00:16:51.350\nAre we gonna use Microsoft updates?\n\n335\n00:16:51.350 --> 00:16:53.270\nI don't wanna use Microsoft updates.\n\n336\n00:16:53.270 --> 00:16:55.545\nI'm just gonna do, I don't wanna use\nright now just because of the demo.\n\n337\n00:16:55.545 --> 00:16:57.226\nWe're just gonna install the product,\n\n338\n00:16:57.226 --> 00:17:00.770\nwe're not gonna bother to actually run\nit for 30 days and build the database.\n\n339\n00:17:00.770 --> 00:17:05.440\nIn the real world, you definitely\nwanna use Microsoft update, okay?\n\n340\n00:17:05.440 --> 00:17:07.690\nInstallation path you'll see here.\n\n341\n00:17:07.690 --> 00:17:08.720\nWe just go in.\n\n342\n00:17:08.720 --> 00:17:13.860\nI'm just going to check, I believe, if I'm\nnot mistaken, just give me one second.\n\n343\n00:17:13.860 --> 00:17:19.010\nI do have enough room on the C drive but\nyou do want to check and just make sure.\n\n344\n00:17:19.010 --> 00:17:21.230\nGot 7 gigs left actually.\n\n345\n00:17:21.230 --> 00:17:23.263\nYeah.\nLet me put this on the D drive\n\n346\n00:17:23.263 --> 00:17:27.490\njust because I only have about\n7 gigs left of space there.\n\n347\n00:17:27.490 --> 00:17:30.008\nSo let's just put that on the D drive,\n\n348\n00:17:30.008 --> 00:17:33.488\nyou would obviously adjust\nthis installation for.\n\n349\n00:17:33.488 --> 00:17:36.831\nGive whatever parameters exist in your\nworld, a lot of times you want to\n\n350\n00:17:36.831 --> 00:17:39.394\nstart at a local drive and\nit's probably the C drive but\n\n351\n00:17:39.394 --> 00:17:42.013\nI'm just doing this simply\nbecause of the space issue,\n\n352\n00:17:42.013 --> 00:17:44.820\nassociated with a small amount\nof space left on the C drive.\n\n353\n00:17:44.820 --> 00:17:47.620\nNo other reason for\nme to change that install partition.\n\n354\n00:17:47.620 --> 00:17:51.110\nBut wanna talk about the Center\nservice SSL certificate, here.\n\n355\n00:17:51.110 --> 00:17:52.770\nCreate self-signed certificate.\n\n356\n00:17:52.770 --> 00:17:57.220\nNow if I uncheck that box, notice I\ndo have the option here to go out and\n\n357\n00:17:57.220 --> 00:17:58.700\nfind a certificate.\n\n358\n00:17:58.700 --> 00:18:01.500\nNow, we can install self sign\ncertificates out of the gate.\n\n359\n00:18:01.500 --> 00:18:03.650\nWhich we can do just to get up and\nrunning easily.\n\n360\n00:18:03.650 --> 00:18:06.970\nWe could add certificates\nin after the fact and\n\n361\n00:18:06.970 --> 00:18:10.210\nswap out the self sign certificate\nwith other certificates from our PKI,\n\n362\n00:18:10.210 --> 00:18:15.490\nif we have our ADCS, root CA, or\nissuing CA online are available,\n\n363\n00:18:15.490 --> 00:18:18.810\nwe can go and issue out\nthe certificates that maybe required.\n\n364\n00:18:18.810 --> 00:18:22.200\nIf not, we can always just go add\nthem in afterwards, so it's up to us.\n\n365\n00:18:22.200 --> 00:18:24.790\nFor purposes of demonstration,\nI'm just going to go ahead and\n\n366\n00:18:24.790 --> 00:18:26.550\nuse self-signed certificates.\n\n367\n00:18:26.550 --> 00:18:29.370\nThere's no trouble with doing self-signed,\nbut\n\n368\n00:18:29.370 --> 00:18:34.410\nin the real-world you may then run\ninto issues where you have to deal\n\n369\n00:18:34.410 --> 00:18:38.090\nwith the trust associated with using those\ncertificates and the fact that they're\n\n370\n00:18:38.090 --> 00:18:42.270\nlocal and self-signed means you may not be\nable to get right in to a web interface.\n\n371\n00:18:42.270 --> 00:18:45.280\nYou may have to click through, do an extra\npage saying, hey, this is a warning.\n\n372\n00:18:45.280 --> 00:18:47.080\nMaybe you don't trust that website.\n\n373\n00:18:47.080 --> 00:18:49.120\nWe've probably seen those before.\n\n374\n00:18:49.120 --> 00:18:52.040\nSo just keep in mind that, you know, the\nstandard rules apply with certificates.\n\n375\n00:18:52.040 --> 00:18:54.540\nYou know,\nthe common sense best practice approach\n\n376\n00:18:54.540 --> 00:18:57.760\nIs to use an issue certificates from a CA\n\n377\n00:18:57.760 --> 00:19:02.520\nthat you control a third party CA\nassociated with the proper functions here.\n\n378\n00:19:02.520 --> 00:19:05.820\nAnd then leverage those and\nrenew those and manage those for\n\n379\n00:19:05.820 --> 00:19:07.180\nthe proper life cycle.\n\n380\n00:19:07.180 --> 00:19:11.140\nThe expedite way to get this done just\nto stand it up to play with a demo\n\n381\n00:19:11.140 --> 00:19:14.270\nenvironment would be to go to\nthe self-sign route because you may not\n\n382\n00:19:14.270 --> 00:19:18.700\nhave a PKI environment stood up and ready\nto go and so, Microsoft allows for that.\n\n383\n00:19:18.700 --> 00:19:21.230\nYou could do this either way,\nit's up to you.\n\n384\n00:19:21.230 --> 00:19:23.790\nSwapping out the certificates after\nthe fact is not that big of a deal.\n\n385\n00:19:23.790 --> 00:19:25.160\nSo just keep that in mind.\n\n386\n00:19:25.160 --> 00:19:26.690\nWe're gonna click Install here.\n\n387\n00:19:26.690 --> 00:19:28.720\nVery, very simple installation.\n\n388\n00:19:28.720 --> 00:19:32.110\nProbably one of the most simplest of\nall of the products we have out there.\n\n389\n00:19:32.110 --> 00:19:34.428\nYou've seen me do some\ncomplex installations,\n\n390\n00:19:34.428 --> 00:19:38.326\nif you saw some of the earlier episodes\nthat we did on Microsoft Identity Manager,\n\n391\n00:19:38.326 --> 00:19:42.224\nthat was like a 30 minute episode just to\ngo through the wizard because there were\n\n392\n00:19:42.224 --> 00:19:43.823\nprobably 40 screens in there.\n\n393\n00:19:43.823 --> 00:19:44.670\nA lot of steps.\nRight?\n\n394\n00:19:44.670 --> 00:19:46.080\nThen all the things we had to do and\n\n395\n00:19:46.080 --> 00:19:50.050\nthe choices we made and the service\naccounts they had to make and assign.\n\n396\n00:19:50.050 --> 00:19:54.150\nAll that stuff and it took a long time\njust to show you the basic steps.\n\n397\n00:19:54.150 --> 00:19:56.890\nThey didn't even bother to go\nall through the install and\n\n398\n00:19:56.890 --> 00:19:58.430\nfinish it up then actually\nbring the product up.\n\n399\n00:19:58.430 --> 00:20:00.790\nWe just walk through\nthe installation overview.\n\n400\n00:20:00.790 --> 00:20:02.250\nAnd that took a whole episode.\n\n401\n00:20:02.250 --> 00:20:05.740\nThis literally as Im talking to you here\nas you can see is almost done already.\n\n402\n00:20:05.740 --> 00:20:08.040\nYou have five or six screens and\nwere in and out very quickly.\n\n403\n00:20:08.040 --> 00:20:11.680\nSo getting the product stood up is\nactually really straight forward and\n\n404\n00:20:11.680 --> 00:20:14.670\nthe configuration once we do stand it up,\nthrough the.\n\n405\n00:20:14.670 --> 00:20:20.990\nweb interface and once that is done,\nbeing able to go in and being able\n\n406\n00:20:20.990 --> 00:20:25.880\nto then download and deploy the gateway\npackage is actually not more involved.\n\n407\n00:20:25.880 --> 00:20:27.590\nIt is actually very\nstraight forward itself.\n\n408\n00:20:27.590 --> 00:20:30.849\nSo it's actually a really nice\nproduct to work with, very easy.\n\n409\n00:20:30.849 --> 00:20:33.010\nAll right,\ninstallation completed successfully.\n\n410\n00:20:33.010 --> 00:20:34.240\nThat's great, we see that.\n\n411\n00:20:34.240 --> 00:20:36.880\nGot our little circle and our check there.\n\n412\n00:20:36.880 --> 00:20:39.730\nClick Launch to open the configuration\npage and complete the setup.\n\n413\n00:20:39.730 --> 00:20:40.630\nOkay, great.\n\n414\n00:20:40.630 --> 00:20:41.970\nSo we're gonna click launch here.\n\n415\n00:20:41.970 --> 00:20:45.020\nLet's go in and do that,\nnotice it opens up through the web now.\n\n416\n00:20:45.020 --> 00:20:47.620\nSelf signs as I said,\nsecurity certificate presented\n\n417\n00:20:47.620 --> 00:20:49.390\nis different than the web\nsign in address issues.\n\n418\n00:20:49.390 --> 00:20:51.560\nIn other words this is what you\nget with self sign certificates.\n\n419\n00:20:51.560 --> 00:20:54.140\nYou get the warning before you\nactually get to the page right.\n\n420\n00:20:54.140 --> 00:20:56.180\nWe've all seen this,\ncontinue to the website.\n\n421\n00:20:58.050 --> 00:21:00.310\nAnd then we get in,\nit's a web based interface, right?\n\n422\n00:21:00.310 --> 00:21:03.970\nSo this is what it looks like to\ngo into the configuration area and\n\n423\n00:21:03.970 --> 00:21:06.450\nto start with the ETA center.\n\n424\n00:21:06.450 --> 00:21:12.840\nRight, and so if we go back to our diagram\nor visual if you will for just a minute.\n\n425\n00:21:12.840 --> 00:21:17.850\nYou could see we've essentially just stood\nup the ETA center product And we're now\n\n426\n00:21:17.850 --> 00:21:21.210\ngonna go in and configure it, but that's\nwhat we're working on is this right here.\n\n427\n00:21:21.210 --> 00:21:23.820\nWe have not touched or installed or\ndealt with the Gateway yet.\n\n428\n00:21:23.820 --> 00:21:26.080\nWe're gonna get to that, but\nwe just haven't done that yet.\n\n429\n00:21:26.080 --> 00:21:29.220\nWe first have to deal with a couple\nof things that go on inside\n\n430\n00:21:29.220 --> 00:21:30.440\nthe Center, right?\n\n431\n00:21:30.440 --> 00:21:32.960\nSo let's just take a quick look around,\nlet's just see what's going on.\n\n432\n00:21:32.960 --> 00:21:37.630\nSo in here, just scroll down, welcome\nto Microsoft Advanced Threat Analytics,\n\n433\n00:21:37.630 --> 00:21:38.971\nwell it's nice that they welcome you,\nit's very.\n\n434\n00:21:38.971 --> 00:21:40.835\n[LAUGH] Yeah, thank you for joining us.\n\n435\n00:21:40.835 --> 00:21:43.640\nVery friendly, just, you know,\nhere's a cup of tea, right?\n\n436\n00:21:43.640 --> 00:21:45.060\nHave a scone, something like that, or\n\n437\n00:21:45.060 --> 00:21:47.330\na scone, I should say,\nas opposed to a scone.\n\n438\n00:21:47.330 --> 00:21:48.700\nI'll provide a username and a password.\n\n439\n00:21:48.700 --> 00:21:51.030\nSo, the nice thing I\nlike about this product,\n\n440\n00:21:51.030 --> 00:21:54.130\nas with many of the products that we\nhave out there from Microsoft is,\n\n441\n00:21:54.130 --> 00:21:57.870\nyou've done a great job in recent years,\nnot only streamlining the experience.\n\n442\n00:21:57.870 --> 00:22:01.600\nBut also really making it common sensical\nin terms of what has to happen and\n\n443\n00:22:01.600 --> 00:22:03.970\nguidance around how to do those things,\nright?\n\n444\n00:22:03.970 --> 00:22:06.420\nWe have some red dots\nkinda yelling at us here.\n\n445\n00:22:06.420 --> 00:22:09.840\nThere's a required item that has to\nbe configured, provide user name and\n\n446\n00:22:09.840 --> 00:22:11.950\npassword to connect to the AD farce.\n\n447\n00:22:11.950 --> 00:22:15.370\nAnd just remember, this product links\nthe domain controllers and AD and\n\n448\n00:22:15.370 --> 00:22:17.980\nis looking at the configuration and\ninteracting with it.\n\n449\n00:22:17.980 --> 00:22:22.130\nIf we don't provide that guideline\ninformation here and say, hey, hook us up,\n\n450\n00:22:22.130 --> 00:22:25.450\nwe're not talking, this product is\njust really not doing us any good.\n\n451\n00:22:25.450 --> 00:22:28.870\nSo the very first thing we gotta\ndo is get this set us, so,\n\n452\n00:22:28.870 --> 00:22:29.810\nwe're going to go in here.\n\n453\n00:22:29.810 --> 00:22:33.830\nWe're going to provide our username,\nour password, our domain association.\n\n454\n00:22:33.830 --> 00:22:35.830\nJust go down the list here, now.\n\n455\n00:22:36.850 --> 00:22:38.340\nI'm using the domain admin account,\n\n456\n00:22:38.340 --> 00:22:41.240\nyou would obviously at times you wanna\ncreate a service account that's gonna be\n\n457\n00:22:41.240 --> 00:22:46.150\nassigned a given rights to be able to do\nthis, the installation documentation for\n\n458\n00:22:46.150 --> 00:22:50.620\nthe product will walk you through the\naccounts required, certificates required,\n\n459\n00:22:50.620 --> 00:22:53.280\nwhat kind of templates to use to\nissue them, all that stuff is in\n\n460\n00:22:53.280 --> 00:22:56.080\nthe documentation, right, so you could\ncertainly take a look for all that.\n\n461\n00:22:56.080 --> 00:22:58.820\nSo I'm gonna use the domain\nadministrator that we often use,\n\n462\n00:22:58.820 --> 00:23:02.250\nprovide our password, and\nprovide our domain name.\n\n463\n00:23:02.250 --> 00:23:07.650\nIn this case, Practicelabs.com.\n\n464\n00:23:07.650 --> 00:23:12.350\nAnd, if I am doing a single label domain.\n\n465\n00:23:12.350 --> 00:23:17.120\nJust take a look at it down here, just\na second before I click test connection.\n\n466\n00:23:17.120 --> 00:23:19.020\nSo you know a single label domain is?\n\n467\n00:23:19.020 --> 00:23:21.618\nA lot of people see this,\nthey don't realize what this is, and\n\n468\n00:23:21.618 --> 00:23:23.296\nhave a wrong understanding about this.\n\n469\n00:23:23.296 --> 00:23:24.492\nI've got to think about this for a second.\n\n470\n00:23:24.492 --> 00:23:25.272\nSingle label.\n\n471\n00:23:25.272 --> 00:23:28.312\nNo pressure.\n\n472\n00:23:28.312 --> 00:23:30.018\nOkay.\nOne Mississippi, two Mississippi.\n\n473\n00:23:30.018 --> 00:23:33.065\nNo sub domains or child domains.\n\n474\n00:23:33.065 --> 00:23:39.100\nOkay, so not that, so I will accept\nthat answer if I will accept that\n\n475\n00:23:39.100 --> 00:23:44.380\nanswer if you can help me understand the\nfollowing aspect of single label domain.\n\n476\n00:23:44.380 --> 00:23:47.473\nSo not exactly where we want to be but\nyou're close and\n\n477\n00:23:47.473 --> 00:23:50.512\nI could see our way clear to\ntaking that as an answer.\n\n478\n00:23:50.512 --> 00:23:55.497\nBut let’s focus on the single label\ndomain as being something from\n\n479\n00:23:55.497 --> 00:24:00.136\nthe perspective of naming a domain\nhaving to do with the name.\n\n480\n00:24:00.136 --> 00:24:01.984\nSo, we have a single label domain.\n\n481\n00:24:01.984 --> 00:24:06.256\nIs practicelabs.com an example\nof a single label domain?\n\n482\n00:24:06.256 --> 00:24:13.250\nOr would something like ITProTV by itself\nbe a example of a single label domain?\n\n483\n00:24:16.288 --> 00:24:22.560\n[LAUGH] All right, hold on,\npracticelabs.com versus ITPro.TV?\n\n484\n00:24:22.560 --> 00:24:24.937\nTV, no, no, I didn't say .TV,\nI said ITProTV.\n\n485\n00:24:24.937 --> 00:24:25.505\nITProTV.\n\n486\n00:24:25.505 --> 00:24:27.170\nJust keep it simple,\nITPro, just forget the TV.\n\n487\n00:24:27.170 --> 00:24:28.071\nITPro, okay, okay.\n\n488\n00:24:28.071 --> 00:24:30.842\nITPro without a dot extension,\nin other words, is what I'm saying.\n\n489\n00:24:30.842 --> 00:24:32.216\n[CROSSTALK] or top-level domain, okay.\n\n490\n00:24:32.216 --> 00:24:34.739\nYes, right.\nThen I would just say ITPro.\n\n491\n00:24:34.739 --> 00:24:37.337\nAnd you would be, correct, awesome!\n\n492\n00:24:37.337 --> 00:24:41.760\n[LAUGH] This is why I love hosting with\nCherokee because she knows all this stuff.\n\n493\n00:24:41.760 --> 00:24:44.430\nShe just pretends that she\ndoesn't to keep you in suspense.\n\n494\n00:24:44.430 --> 00:24:46.177\nI gotta dust the cobwebs out.\nBut you're absolutely right, yeah,\n\n495\n00:24:46.177 --> 00:24:46.800\nexactly, right.\n\n496\n00:24:46.800 --> 00:24:48.224\nSo a single label domain, right?\n\n497\n00:24:48.224 --> 00:24:51.967\nThis is a domain that in the old school\nway of doing things, back in like the NT4\n\n498\n00:24:51.967 --> 00:24:55.844\ndays, things like that, we would've had\na domain name without the extension.\n\n499\n00:24:55.844 --> 00:24:59.603\nWe would've done something like ITPro or\nITProTV, but not itprotv.com or\n\n500\n00:24:59.603 --> 00:25:00.729\nsomething like that.\n\n501\n00:25:00.729 --> 00:25:04.672\nSo we're referencing back to a domain\nthat doesn't have a dot extension or\n\n502\n00:25:04.672 --> 00:25:06.500\nsomething along those lines.\n\n503\n00:25:06.500 --> 00:25:08.802\nYou don't tend to use single\nlabel domains very often.\n\n504\n00:25:08.802 --> 00:25:12.581\nYou tend to have a full domain like\npracticelabs.com, or itpro.tv, or,\n\n505\n00:25:12.581 --> 00:25:16.730\nI don't know, whatever the domain names\nwould be these days, but whatever it is.\n\n506\n00:25:16.730 --> 00:25:19.660\nBut if you have a single label domain,\ncould actually select that here.\n\n507\n00:25:19.660 --> 00:25:20.990\nWe're not gonna select that.\n\n508\n00:25:20.990 --> 00:25:23.530\nWe're gonna check,\nlet me do this one more time.\n\n509\n00:25:23.530 --> 00:25:26.360\nThere we go, okay, I didn't click\nthe right way the first time.\n\n510\n00:25:26.360 --> 00:25:28.590\nSo Test connection, it does go through.\n\n511\n00:25:28.590 --> 00:25:30.526\nConnection succeeded, so no problem.\n\n512\n00:25:30.526 --> 00:25:34.450\nAll right, so that means that not\nonly the configuration is good,\n\n513\n00:25:34.450 --> 00:25:37.970\nthe credential is good,\nthe name is good, DNS is working.\n\n514\n00:25:37.970 --> 00:25:40.120\nAll that stuff, in other words,\nright, is working.\n\n515\n00:25:40.120 --> 00:25:43.410\nSo it's hard to see, but there's a Save\nbutton right there, right above.\n\n516\n00:25:43.410 --> 00:25:47.030\nIf we just scroll up just a little bit,\nright there, so we're gonna click Save.\n\n517\n00:25:48.160 --> 00:25:52.480\nGonna put this in now, so\nnow that this is configured, right?\n\n518\n00:25:52.480 --> 00:25:55.840\nJust scroll over here,\njust go over to the Center area.\n\n519\n00:25:55.840 --> 00:26:00.710\nWe can see the URL to access\nthe actual interface, right?\n\n520\n00:26:00.710 --> 00:26:07.031\nSo PLABDM01.PRACTICELABS.COM,\nthat's the machine that I'm installing on.\n\n521\n00:26:07.031 --> 00:26:10.910\nThe ATA Center's not installed\non my domain controller.\n\n522\n00:26:10.910 --> 00:26:14.140\nIt's installed on a member of the domain,\nbut not the domain controller.\n\n523\n00:26:14.140 --> 00:26:15.040\nSo I'm looking at that.\n\n524\n00:26:15.040 --> 00:26:19.225\nI've got my certificate, self-signed\ncertificate, as you can see here, right?\n\n525\n00:26:19.225 --> 00:26:22.883\nAnd then I've got my Gateway,\nso I've got the gateway set up.\n\n526\n00:26:22.883 --> 00:26:26.120\nI'm gonna do the gateway setup\nhere in just a minute to kinda go.\n\n527\n00:26:26.120 --> 00:26:27.961\nThere you see the next step,\nDownload Gateway Setup.\n\n528\n00:26:27.961 --> 00:26:30.570\nWe're gonna do that from the machine that\nwe're going to install the gateway on.\n\n529\n00:26:30.570 --> 00:26:34.100\nSo I'm not gonna do it here cuz then I'd\nhave to share it to make it available.\n\n530\n00:26:34.100 --> 00:26:37.440\nI'm gonna log into this\nATA Center web interface\n\n531\n00:26:37.440 --> 00:26:39.470\nfrom the machine that I\nwanna target as my gateway.\n\n532\n00:26:39.470 --> 00:26:41.600\nAnd just pull down the gateway\nsetup by clicking that bottom.\n\n533\n00:26:41.600 --> 00:26:43.640\nSo we'll do that in just a minute, right?\n\n534\n00:26:43.640 --> 00:26:45.580\nWe could add more\ngateways if we wanted to?\n\n535\n00:26:45.580 --> 00:26:46.730\nWe could, we don't have a gateway yet.\n\n536\n00:26:46.730 --> 00:26:49.740\nWe only have now with the ATA Center,\nbut we could add one or more gateways.\n\n537\n00:26:49.740 --> 00:26:52.628\nSo we're gonna actually install\na gateway at step two of this and\n\n538\n00:26:52.628 --> 00:26:53.651\nget it up and running.\n\n539\n00:26:53.651 --> 00:26:57.050\nIf we wanna set up updates, remember,\nI didn't chose to put updates on.\n\n540\n00:26:57.050 --> 00:26:59.230\nI wanna turn them on, I can do that.\n\n541\n00:26:59.230 --> 00:27:01.830\nUpdate all Gateways automatically.\n\n542\n00:27:01.830 --> 00:27:04.790\nAutomatically restart the domain\ncontroller after update.\n\n543\n00:27:04.790 --> 00:27:07.462\nSo I can choose to add this\nstuff in once I configure.\n\n544\n00:27:07.462 --> 00:27:10.330\nWe already did Directory Services\nconfiguration.\n\n545\n00:27:10.330 --> 00:27:13.310\nRemember, I said we have SIEM\ncapability for syslogging.\n\n546\n00:27:13.310 --> 00:27:15.920\nI can turn that on if I choose to.\n\n547\n00:27:15.920 --> 00:27:18.610\nI have secure\nRadius Accounting VPN capability.\n\n548\n00:27:18.610 --> 00:27:20.730\nI can look at that traffic and interact.\n\n549\n00:27:22.030 --> 00:27:23.782\nI can set up what's called\na honeytoken account.\n\n550\n00:27:23.782 --> 00:27:25.960\nA honeytoken account is a user account.\n\n551\n00:27:25.960 --> 00:27:29.250\nIt's not gonna be logged in by anybody\nelse, think of it like a service account.\n\n552\n00:27:29.250 --> 00:27:34.050\nBut it's an account dedicated to usage and\nmonitoring using this platform.\n\n553\n00:27:34.050 --> 00:27:39.610\nSo we'll look at the activity associated\nwith information around this account.\n\n554\n00:27:39.610 --> 00:27:41.810\nAnd use it to kinda dangle out there.\n\n555\n00:27:41.810 --> 00:27:44.594\nAnd then if people try to hack in,\nuse this account, or, in any way,\n\n556\n00:27:44.594 --> 00:27:47.620\nthis account generating suspicious\nactivity, we can begin to monitor and\n\n557\n00:27:47.620 --> 00:27:48.834\nsee what's going on with it.\n\n558\n00:27:48.834 --> 00:27:53.001\nMuch like a honeypot or a honeynet,\nwe have a honeytoken account.\n\n559\n00:27:53.001 --> 00:27:56.440\nSo we have an individual user account\nthat's gonna be used in that capacity.\n\n560\n00:27:56.440 --> 00:28:00.900\nSo being an account, we set up and\nspecify in the ADDS, and then link here.\n\n561\n00:28:00.900 --> 00:28:04.840\nAnd you could read more about this in the\ninstall documentation, if you choose to.\n\n562\n00:28:04.840 --> 00:28:06.010\nWe have exclusions.\n\n563\n00:28:07.602 --> 00:28:09.637\nThis is where I was talking about,\nremember,\n\n564\n00:28:09.637 --> 00:28:13.350\nI said we could see all the different\nattack types which we can monitor?\n\n565\n00:28:13.350 --> 00:28:15.740\nSo I told you I'd show you what some of\nthem are and how we can program them.\n\n566\n00:28:15.740 --> 00:28:16.568\nAll right, what are our options?\n\n567\n00:28:16.568 --> 00:28:18.729\nSo I was mentioning to Cherokee,\nwe would see all this as we go in.\n\n568\n00:28:18.729 --> 00:28:22.408\nCuz she was really interested in\nthe different kinds of monitoring and\n\n569\n00:28:22.408 --> 00:28:26.100\nthe different kinds of activities\nwe could look at with this product.\n\n570\n00:28:26.100 --> 00:28:27.744\nAnd instead of giving her the whole list,\nI said, well,\n\n571\n00:28:27.744 --> 00:28:29.129\nlet me just show you when\nwe install [INAUDIBLE].\n\n572\n00:28:29.129 --> 00:28:30.320\n[LAUGH] Now we can take a look.\n\n573\n00:28:30.320 --> 00:28:35.349\nSo things like identity theft using pass\nthe ticket attack, we could open this up.\n\n574\n00:28:35.349 --> 00:28:39.353\nAnd so we could specify in here what,\neither an IP address, or\n\n575\n00:28:39.353 --> 00:28:43.715\nthe computers that we may wanna monitor or\nexclude are gonna be.\n\n576\n00:28:43.715 --> 00:28:46.786\nGolden ticket activity,\nmalicious data protection,\n\n577\n00:28:46.786 --> 00:28:48.886\nreplication of directory services.\n\n578\n00:28:48.886 --> 00:28:52.083\nRemember, a lot of this centers\naround the ADDS activity.\n\n579\n00:28:52.083 --> 00:28:53.699\nYep.\nSo count enumeration,\n\n580\n00:28:53.699 --> 00:28:57.010\nreconnaissance using\ndirectory service queries.\n\n581\n00:28:57.010 --> 00:29:02.370\nReconnaissance using, whoops,\nusing DNS, SMB session enumeration.\n\n582\n00:29:02.370 --> 00:29:04.800\nRemote execution attempts detected.\n\n583\n00:29:04.800 --> 00:29:07.150\nProtocol implementations that are unusual.\n\n584\n00:29:07.150 --> 00:29:12.110\nWhy am I running IPX/SPX or something\nlike that, that kinda stuff, right,\n\n585\n00:29:12.110 --> 00:29:14.070\nwould show up or\nwould be unusual today, right?\n\n586\n00:29:14.070 --> 00:29:16.298\nIt's very unlikely we'd see IPX/SPX.\n\n587\n00:29:16.298 --> 00:29:18.763\nSo that's an old Novell protocol, by the\nway, in case you're not familiar with it.\n\n588\n00:29:18.763 --> 00:29:20.970\nThings like AppleTalk, right?\n\n589\n00:29:20.970 --> 00:29:22.920\nWe may not see that if we're\nnot using those protocols.\n\n590\n00:29:22.920 --> 00:29:23.927\nSo that would be a reason why.\n\n591\n00:29:23.927 --> 00:29:24.790\nPretty uncommon, yeah.\n\n592\n00:29:24.790 --> 00:29:26.130\nYeah, well, these days, pretty uncommon.\n\n593\n00:29:26.130 --> 00:29:26.870\nThese days, yeah.\n\n594\n00:29:26.870 --> 00:29:29.150\nSo yeah,\nthose are things that may show up.\n\n595\n00:29:29.150 --> 00:29:31.759\nSo again, we would take a look\nat something like this.\n\n596\n00:29:33.010 --> 00:29:36.640\nAnd what we're doing is we're creating\nexemptions, right, or exceptions.\n\n597\n00:29:36.640 --> 00:29:38.600\nWe're saying, for these IP addresses and\n\n598\n00:29:38.600 --> 00:29:42.520\nsome that's and/or computers, let's look\nat or not look at this kinda traffic.\n\n599\n00:29:42.520 --> 00:29:45.950\nSo we're able to create these blocked\nareas where we're gonna monitor certain\n\n600\n00:29:45.950 --> 00:29:46.720\nkinds of activity or\n\n601\n00:29:46.720 --> 00:29:49.260\nexclude them, depending on how\nyou choose to view this setup.\n\n602\n00:29:49.260 --> 00:29:52.590\nJust which way you choose to look at it,\nall right, so we have all of that.\n\n603\n00:29:52.590 --> 00:29:55.400\nWe do have our ability in here to go in.\n\n604\n00:29:55.400 --> 00:29:57.950\nYou'll see under Language,\nthis is where we can go in.\n\n605\n00:29:57.950 --> 00:30:02.978\nAnd based on our installation, choose to\nlocalize and change that if we need to.\n\n606\n00:30:02.978 --> 00:30:03.868\nWe took a look at that during the install.\n\n607\n00:30:03.868 --> 00:30:08.060\nWe do have Notifications area here.\n\n608\n00:30:08.060 --> 00:30:10.560\nRemember, I said we could do\nthings like send out an email for\n\n609\n00:30:10.560 --> 00:30:14.990\nnotification when it's a setup in SMTP\nRelay or an Exchange server of some kind.\n\n610\n00:30:14.990 --> 00:30:19.570\nWe can link to Office 365 Exchange online,\nif we choose to do that.\n\n611\n00:30:19.570 --> 00:30:21.746\nConfigure the syslog capability here so\n\n612\n00:30:21.746 --> 00:30:24.757\nwe can send information out\nthrough the syslog server.\n\n613\n00:30:24.757 --> 00:30:29.270\nWe could schedule our reports and\nset up our reporting here.\n\n614\n00:30:29.270 --> 00:30:31.850\nWe need a mail server set up and\nenabled to be able to\n\n615\n00:30:31.850 --> 00:30:34.450\nschedule the dropping of reports and\nsubmitting of them.\n\n616\n00:30:34.450 --> 00:30:38.580\nSo you would have to have this capability\nalready configured, but we can do that.\n\n617\n00:30:38.580 --> 00:30:40.798\nWe do have then the ability\nto setup the mail server and\n\n618\n00:30:40.798 --> 00:30:43.690\nsyslog server just by providing\nthe appropriate information.\n\n619\n00:30:43.690 --> 00:30:45.668\nThose links that were blue\nthat's a mail server,\n\n620\n00:30:45.668 --> 00:30:47.184\nthey just point back to this setting.\n\n621\n00:30:47.184 --> 00:30:49.970\nSyslog points back here,\nyou would configure it here.\n\n622\n00:30:49.970 --> 00:30:52.710\nAnd then we have our Licensing area here,\nright?\n\n623\n00:30:52.710 --> 00:30:55.300\nThis is where we can go in,\nwe can put in our SKU, right?\n\n624\n00:30:55.300 --> 00:30:57.800\nOur licensing SKU for\nlicensing the product.\n\n625\n00:30:57.800 --> 00:31:01.930\nRemember, this is our demo, so we'd have\nto put in a 25-character license key to\n\n626\n00:31:01.930 --> 00:31:04.608\nactually be able to license\nthis product if we download\n\n627\n00:31:04.608 --> 00:31:08.292\nanother version of the product and\nlicense, however we choose to do that.\n\n628\n00:31:08.292 --> 00:31:12.250\nSo this is just a general console,\nthe general center activity.\n\n629\n00:31:12.250 --> 00:31:14.171\nWe haven't gone in and\nset up the gateway yet.\n\n630\n00:31:14.171 --> 00:31:18.510\nWe're gonna come back and take a look at\nhow to do that in, I think, part two?\n\n631\n00:31:18.510 --> 00:31:20.023\nIf I'm not mistaken, right,\n\n632\n00:31:20.023 --> 00:31:23.237\ncuz we're verging on almost being\nout of red on that clock there.\n\n633\n00:31:23.237 --> 00:31:24.980\nIt'd be nice if we had green on the clock.\n\n634\n00:31:24.980 --> 00:31:27.960\n[LAUGH] And then it went red when we\nwere out, as opposed to starting red.\n\n635\n00:31:27.960 --> 00:31:30.209\nRed is the universal color,\nAdam, like urgency and danger.\n\n636\n00:31:30.209 --> 00:31:31.568\nIt's like an angry red,\nit's just yelling at me all the time.\n\n637\n00:31:31.568 --> 00:31:35.980\nLike, you're about to run out of time,\nmy God.\n\n638\n00:31:35.980 --> 00:31:39.630\nAll right, so we're gonna go ahead,\nwe're gonna come back in part two.\n\n639\n00:31:39.630 --> 00:31:41.405\nWe are gonna take a look at\nhow to do the gateway setup.\n\n640\n00:31:41.405 --> 00:31:42.130\nOkay, perfect.\n\n641\n00:31:42.130 --> 00:31:43.060\nSo we're gonna do that.\n\n642\n00:31:43.060 --> 00:31:46.177\nWe'll also just talk about some the, now\nthat we kinda just stood up the product,\n\n643\n00:31:46.177 --> 00:31:47.774\ngot it installed, hey, let's go back.\n\n644\n00:31:47.774 --> 00:31:50.166\nThat's what I always do,\nlet's take a look at the requirements.\n\n645\n00:31:50.166 --> 00:31:52.585\nA certain kind of software\nrequired to set this thing up.\n\n646\n00:31:52.585 --> 00:31:56.030\nDo we run this on Server 2008\nversus Server 12, versus Server 16,\n\n647\n00:31:56.030 --> 00:31:57.790\nthose kind of conversations.\n\n648\n00:31:57.790 --> 00:32:00.530\nSo we'll take a look at all that, make\nsure you're comfortable with all that.\n\n649\n00:32:00.530 --> 00:32:04.210\nPlus, I got a couple of other little Word\ndocuments that just help us understand\n\n650\n00:32:04.210 --> 00:32:07.800\nthe components associated with the\ngateway, associated with the ATA Center.\n\n651\n00:32:07.800 --> 00:32:10.560\nWe'll show you those to make sure you\nunderstand all of the moving parts and\n\n652\n00:32:10.560 --> 00:32:15.990\npieces of how to stand up and configure\nMicrosoft's ATA network-based IDS product.\n\n653\n00:32:15.990 --> 00:32:19.120\nAll right, what a great introduction to\nour Microsoft advanced threat analytics.\n\n654\n00:32:19.120 --> 00:32:21.820\nThank you for that, Adam, but\nthank you for joining us, as well.\n\n655\n00:32:21.820 --> 00:32:23.890\nWe're gonna go ahead and\nsign out for this show.\n\n656\n00:32:23.890 --> 00:32:25.620\nI've been your host, Cherokee Boose.\n\n657\n00:32:25.620 --> 00:32:26.810\nI am Adam Gordon.\n\n658\n00:32:26.810 --> 00:32:28.833\nSee you next time, here on ITProTV.\n\n659\n00:32:28.833 --> 00:32:36.011\n[MUSIC]\n\n660\n00:32:36.011 --> 00:32:38.469\nThank you for watching ITProTV.\n\n",
          "vimeoId": "234671546"
        },
        {
          "description": "In this episode, Adam and Cherokee continue demonstrating how to configure Microsoft ATA. In the last show, you saw how to install the ATA  center but in this show you will see how to install and configure an ATA Gateway to be able to send information to the ATA Center. Adam also covers prerequisites and additional considerations.",
          "length": "2309",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-7-1-2-install_and_configure_microsoft_ata_pt2-091917-PGM.00_38_13_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-7-1-2-install_and_configure_microsoft_ata_pt2-091917-PGM.00_38_13_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-7-1-2-install_and_configure_microsoft_ata_pt2-091917-PGM.00_38_13_05.Still001-sm.jpg",
          "title": "Install and Configure Microsoft ATA Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:02.845\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.845 --> 00:00:06.215\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.215 --> 00:00:08.365\n[MUSIC]\n\n4\n00:00:08.365 --> 00:00:12.087\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.087 --> 00:00:15.172\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series,\n\n6\n00:00:15.172 --> 00:00:17.760\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.760 --> 00:00:21.340\nIn this episode, we'll continue to\ntake a look at how we can install,\n\n8\n00:00:21.340 --> 00:00:25.070\nwell we've installed but\nnow we need to configure Microsoft ATA.\n\n9\n00:00:25.070 --> 00:00:28.130\nAnd back with us in studios today,\nwe have Mr. Adam Gordon.\n\n10\n00:00:28.130 --> 00:00:29.410\nThanks for joining us, Adam.\n\n11\n00:00:29.410 --> 00:00:30.710\n&gt;&gt; Thank you.\nAlways glad to be here.\n\n12\n00:00:30.710 --> 00:00:32.680\nAnd my thumb's are very happy to\nbe along here with you as well.\n\n13\n00:00:32.680 --> 00:00:34.840\n&gt;&gt; Ooh [LAUGH].\n&gt;&gt; So we're both excited to be here.\n\n14\n00:00:34.840 --> 00:00:38.420\nSo we are gonna pick up where we left off\nCherokee as she was saying did indicate,\n\n15\n00:00:38.420 --> 00:00:41.060\nif you haven't seen the last\nepisode should go take a look.\n\n16\n00:00:41.060 --> 00:00:43.258\nWe were in the middle of\nsomething really cool and\n\n17\n00:00:43.258 --> 00:00:45.991\nexciting if you have never seen\nMicrosoft ATA product well,\n\n18\n00:00:45.991 --> 00:00:48.633\nyou got a chance to see what\nthe architecture looked like.\n\n19\n00:00:48.633 --> 00:00:52.849\nWe put up a little diagram a little visual\naide showed us what the architecture that\n\n20\n00:00:52.849 --> 00:00:57.082\nwe expect to have once we're done doing\na standard configuration will look like.\n\n21\n00:00:57.082 --> 00:01:01.586\nWe're about half way through that process\nwe've stood up the ATA center got the web\n\n22\n00:01:01.586 --> 00:01:03.323\nconsole interface available,\n\n23\n00:01:03.323 --> 00:01:06.730\nwent through the basic linking\nto the directory service.\n\n24\n00:01:06.730 --> 00:01:07.600\nMade sure that was good.\n\n25\n00:01:07.600 --> 00:01:08.790\nWe tested that out.\n\n26\n00:01:08.790 --> 00:01:12.880\nWalk through all of the options for\nconfiguration and settings management,\n\n27\n00:01:12.880 --> 00:01:16.712\nstood up and got ready to go and do our\nconfiguration for the gateway product.\n\n28\n00:01:16.712 --> 00:01:20.592\nWe're gonna download the gateway server\npackage now and configure the gateway but\n\n29\n00:01:20.592 --> 00:01:23.929\nI thought it would be good to step\nback for a minute, remind ourselves.\n\n30\n00:01:23.929 --> 00:01:27.860\nFor those of you, that may or may not have\nbeen through the last episode with us,\n\n31\n00:01:27.860 --> 00:01:30.100\njust remind us quickly\nof what we're doing.\n\n32\n00:01:30.100 --> 00:01:32.760\nLet's take a look at our\nvisual representation.\n\n33\n00:01:32.760 --> 00:01:37.000\nWe'll then go in take a look at our\nweb console for the ATA center and\n\n34\n00:01:37.000 --> 00:01:40.120\nthen we will take a quick look at\nthose Word Documents I promised you.\n\n35\n00:01:40.120 --> 00:01:43.030\nWhich are the tables that explain\nwhat the gateway components or\n\n36\n00:01:43.030 --> 00:01:44.960\nthe components that make up\nthe gateway service will be,\n\n37\n00:01:44.960 --> 00:01:48.570\nthe gateway architecture and\nthe ATA center components.\n\n38\n00:01:48.570 --> 00:01:51.230\nWhat are the moving parts that we\nsee in each one of these products.\n\n39\n00:01:51.230 --> 00:01:54.987\nSo we have installed their\nATA center right now.\n\n40\n00:01:54.987 --> 00:01:58.476\nSo we've got that up and running,\ndownloaded the Microsoft ISO,\n\n41\n00:01:58.476 --> 00:02:02.277\nthe 90 day eval trial version from\nthe tech eval center, went ahead and\n\n42\n00:02:02.277 --> 00:02:04.830\ninstalled that, very straightforward.\n\n43\n00:02:04.830 --> 00:02:08.300\nOnce we got that up and running,\nwe're prompted to click the launch button.\n\n44\n00:02:08.300 --> 00:02:10.430\nDid that,\nlogged in through the web interface,\n\n45\n00:02:10.430 --> 00:02:16.590\nprovided our ADDS credentials to\nlink the ATA center to the ADDS.\n\n46\n00:02:16.590 --> 00:02:18.110\nAnd then once we\nestablished our connection,\n\n47\n00:02:18.110 --> 00:02:21.350\ntested it, we're set up and ready to\ngo and configure the first gateway.\n\n48\n00:02:21.350 --> 00:02:23.140\nAnd we're about to do that right now.\n\n49\n00:02:23.140 --> 00:02:25.870\nBut we have our ATA center set up.\n\n50\n00:02:25.870 --> 00:02:28.650\nWe have the information\nthat will be coming in\n\n51\n00:02:28.650 --> 00:02:33.990\nthrough the ATA center being stored in a\ndatabase somewhere, wherever that may be.\n\n52\n00:02:33.990 --> 00:02:38.380\nAnd then we have our ATA gateway which\nwe're gonna set up and use here.\n\n53\n00:02:38.380 --> 00:02:40.049\nWe're not gonna do a lightweight gateway.\n\n54\n00:02:40.049 --> 00:02:41.440\nWe're gonna do the full gateway.\n\n55\n00:02:41.440 --> 00:02:45.910\nBut we're gonna set up the ATA gateway by\nlogging in from our target server where we\n\n56\n00:02:45.910 --> 00:02:50.470\nwanna run the gateway configuration\nconnecting to the ATA center,\n\n57\n00:02:50.470 --> 00:02:53.580\nthe web interface,\nusing HTTPS so it's secure.\n\n58\n00:02:53.580 --> 00:02:56.590\nWe're gonna download the gateway\nserver setup package,\n\n59\n00:02:56.590 --> 00:02:58.180\nrun the gateway configuration.\n\n60\n00:02:58.180 --> 00:03:01.770\nThat's going to be step two right now, but\nwe talked about how to set up the stem\n\n61\n00:03:01.770 --> 00:03:06.360\nsolution for CIS logging, male server\nconfiguration if we wanna be able to\n\n62\n00:03:06.360 --> 00:03:10.050\nsend reports and send alerts and\nthings of that nature, and notification.\n\n63\n00:03:10.050 --> 00:03:11.241\nSo we've been through all that.\n\n64\n00:03:11.241 --> 00:03:13.440\nSo we're now gonna focus on the gateway.\n\n65\n00:03:13.440 --> 00:03:16.960\nBut before we do that, let's just take\na look at the components that make up both\n\n66\n00:03:16.960 --> 00:03:19.620\nthe ATA center and the ATA gateway.\n\n67\n00:03:19.620 --> 00:03:21.590\nJust some quick information.\n\n68\n00:03:21.590 --> 00:03:23.140\nJust so\nyou have a sense of what we're doing.\n\n69\n00:03:23.140 --> 00:03:25.900\nWe can do a full screen for\njust a second so we can see.\n\n70\n00:03:25.900 --> 00:03:27.690\nWhat we got there,\nput together a little chart for\n\n71\n00:03:27.690 --> 00:03:31.410\nyou as we try to do at certain\npoints when we have information.\n\n72\n00:03:31.410 --> 00:03:34.950\nIt's usually easily referable and\nreferencable this way.\n\n73\n00:03:34.950 --> 00:03:38.190\nThese are all the components that make\nup the ATA center that you just saw in\n\n74\n00:03:38.190 --> 00:03:39.160\nthe install.\n\n75\n00:03:39.160 --> 00:03:44.130\nIn the last episode, the entity receiver,\nthe network activity processor,\n\n76\n00:03:44.130 --> 00:03:46.660\nthe database, the center database, rather.\n\n77\n00:03:47.760 --> 00:03:50.933\nAnd the database we use is MongoDB.\n\n78\n00:03:50.933 --> 00:03:53.854\nThat's what we store all of our\ndata in the system or use for\n\n79\n00:03:53.854 --> 00:03:56.040\nstoring all of our data in the system.\n\n80\n00:03:56.040 --> 00:03:59.260\nSo we're not leveraging Microsoft SQL for\nthis product, right, so\n\n81\n00:03:59.260 --> 00:04:01.930\nwe don't have to worry about\nadditional licensing or\n\n82\n00:04:01.930 --> 00:04:05.232\nexternal configuration out\nto a database cluster.\n\n83\n00:04:05.232 --> 00:04:07.470\nSelf contained where we install but\n\n84\n00:04:07.470 --> 00:04:10.390\nwe're using MongoDB which is\nactually kind of interesting\n\n85\n00:04:10.390 --> 00:04:13.890\nbecause that's a bit of a departure from\nMicrosoft just thought I'd point that out.\n\n86\n00:04:13.890 --> 00:04:15.831\nWe have our detectors and of course,\n\n87\n00:04:15.831 --> 00:04:19.656\nwe have the ATA console which you just\nsaw me interacting with and use it.\n\n88\n00:04:19.656 --> 00:04:22.971\nSo we have all of these different\nmoving parts and pieces.\n\n89\n00:04:22.971 --> 00:04:30.760\nAnd then for our gateway component\nwhich we're about to set up right now.\n\n90\n00:04:30.760 --> 00:04:32.800\nWe have network listener, event listeners.\n\n91\n00:04:32.800 --> 00:04:37.336\nThese are the entities that allow us to be\nable to capture either network traffic and\n\n92\n00:04:37.336 --> 00:04:39.300\nor capture and parse Windows events.\n\n93\n00:04:39.300 --> 00:04:43.350\nThat are then forwarded out to\none of the capture systems, so\n\n94\n00:04:43.350 --> 00:04:44.700\nthat we can interact with them.\n\n95\n00:04:44.700 --> 00:04:46.680\nWe have the Windows event log reader.\n\n96\n00:04:46.680 --> 00:04:49.333\nWe have the network activity translator.\n\n97\n00:04:49.333 --> 00:04:52.180\nWe have the entity resolver and\nthe entity sender.\n\n98\n00:04:52.180 --> 00:04:57.120\nSo this allows us to be able to\nsend information to the ATA center.\n\n99\n00:04:57.120 --> 00:04:58.550\nThat's what the entity sender does.\n\n100\n00:04:58.550 --> 00:05:01.630\nRemember, the gateway to well sit\nout somewhere on the network, right?\n\n101\n00:05:01.630 --> 00:05:06.056\nAs a picket line server, it's a machine\nrunning the gateway software on it and\n\n102\n00:05:06.056 --> 00:05:10.212\nwe would then be able to monitor all\nthe traffic coming an going across that\n\n103\n00:05:10.212 --> 00:05:11.436\nparticular subnet.\n\n104\n00:05:11.436 --> 00:05:13.751\nOr through that particular\npart of the network,\n\n105\n00:05:13.751 --> 00:05:16.078\nas a result of using this\nparticular solutions.\n\n106\n00:05:16.078 --> 00:05:18.150\nSo just wanna make sure we\nare familiar with that and\n\n107\n00:05:18.150 --> 00:05:19.320\nhave a sense of what we are doing.\n\n108\n00:05:19.320 --> 00:05:21.735\nAll right, so lets just minimize all this.\n\n109\n00:05:21.735 --> 00:05:26.810\nWe're on the ATA center right now\njust to remind you of what we setup.\n\n110\n00:05:26.810 --> 00:05:29.700\nYou could see here our next step here\nis to download the gateway setup.\n\n111\n00:05:29.700 --> 00:05:31.900\nWe are gonna go to another machine and\ndo that.\n\n112\n00:05:31.900 --> 00:05:36.880\nI'm gonna enter this URL,\nHTTPS.PLAB01PRACTICELABS.COM,\n\n113\n00:05:36.880 --> 00:05:40.540\nto point me back to this machine,\nright up there.\n\n114\n00:05:40.540 --> 00:05:43.950\nAnd then be able to access this exact\ninterface and have that download for\n\n115\n00:05:43.950 --> 00:05:45.880\nthe gateway setup available to me.\n\n116\n00:05:45.880 --> 00:05:48.790\nAnd run the gateway setup on\nthe target machine that I wanna\n\n117\n00:05:48.790 --> 00:05:50.180\nturn into the gateway.\n\n118\n00:05:50.180 --> 00:05:52.440\nSo we're gonna actually go in and\ndo that right now.\n\n119\n00:05:52.440 --> 00:05:55.270\nSo let me just minimize\nout of this machine here.\n\n120\n00:05:55.270 --> 00:05:57.650\nLet's just minimize out of the web there.\n\n121\n00:05:57.650 --> 00:06:00.183\nLet's come over here.\n\n122\n00:06:00.183 --> 00:06:03.300\nI am on the PLABDM02 machine.\n\n123\n00:06:03.300 --> 00:06:05.070\nDM01 is my ATA center.\n\n124\n00:06:05.070 --> 00:06:08.450\nDM02, another machine in\nmy test environment and\n\n125\n00:06:08.450 --> 00:06:12.720\nI've logged into PLABDM01\nthrough the web browser.\n\n126\n00:06:12.720 --> 00:06:15.850\nAnd as a result,\nI'm in a constrained interface.\n\n127\n00:06:15.850 --> 00:06:19.810\nI'm not looking at the same exact ATA\ncenter interface I was looking at with all\n\n128\n00:06:19.810 --> 00:06:22.090\nthe bells and whistles and\nall the settings,\n\n129\n00:06:22.090 --> 00:06:25.586\nyou could see here I am being prompted\nto download the gateway setup.\n\n130\n00:06:25.586 --> 00:06:28.751\nAnd that's what want to do I want\nto pull the gateway package in and\n\n131\n00:06:28.751 --> 00:06:31.353\nset it up on this machine so\nI'm gonna that right now.\n\n132\n00:06:31.353 --> 00:06:35.382\nLet's go here Download Gateway Setup,\nso I come over here,\n\n133\n00:06:35.382 --> 00:06:40.760\nI come to my Gateways area, and you see\nI've got the Gateway Setup button right?\n\n134\n00:06:40.760 --> 00:06:44.870\nSame exact interface I was looking at on\nthe other machine just a different view.\n\n135\n00:06:44.870 --> 00:06:48.516\nWhen i first log in, just prompting me\nto specifically to download the gateway\n\n136\n00:06:48.516 --> 00:06:50.080\nsetup and taking me here.\n\n137\n00:06:50.080 --> 00:06:53.202\nSo I'm gonna download right here,\ndownload this package,\n\n138\n00:06:53.202 --> 00:06:55.352\nclick there we'll give it just a second.\n\n139\n00:06:55.352 --> 00:06:57.780\nIt's just resolving,\njust give it a second to come down.\n\n140\n00:06:57.780 --> 00:07:01.030\nThere is right there, right, so we're\ngonna go ahead, we're gonna click Save.\n\n141\n00:07:01.030 --> 00:07:03.940\nI'll just save as and\nI'll just drop this on the Desktop, so\n\n142\n00:07:03.940 --> 00:07:05.760\nwe know where we can go to get that.\n\n143\n00:07:05.760 --> 00:07:09.540\nIt's very quick, it's a small little\nzip file, doesn't take very long.\n\n144\n00:07:09.540 --> 00:07:11.030\nJust minimize that.\n\n145\n00:07:11.030 --> 00:07:14.750\nThere is my setup right there,\nlet's open that up.\n\n146\n00:07:14.750 --> 00:07:15.876\nLet's go in.\n\n147\n00:07:17.411 --> 00:07:20.840\nAnd let's grab those, let's extract them.\n\n148\n00:07:20.840 --> 00:07:22.730\nLet's do an extract all.\n\n149\n00:07:22.730 --> 00:07:25.790\nJust put it out on the desktop so\nthat we have it there.\n\n150\n00:07:25.790 --> 00:07:30.759\nOkay, so you could see now in my exploded\nset up I got the JSON file and I've got\n\n151\n00:07:30.759 --> 00:07:36.165\nthe setup application let me use the setup\napplication to run the gateway center.\n\n152\n00:07:36.165 --> 00:07:38.700\nSo I'm just gonna double click on that,\n\n153\n00:07:38.700 --> 00:07:41.994\nlet's just minimize that\nwhile we're doing that.\n\n154\n00:07:41.994 --> 00:07:46.168\nAnd then I've got what looks like my\noriginal setup screen from the product\n\n155\n00:07:46.168 --> 00:07:49.228\nwhere I run the ATA center gateway,\nour center setup.\n\n156\n00:07:49.228 --> 00:07:52.900\nJust move this over, only difference is it\nsays, Threat Analytics Gateway as oppose\n\n157\n00:07:52.900 --> 00:07:56.688\nto threat analytics center, right, and for\npaying attention and just watching that.\n\n158\n00:07:56.688 --> 00:07:59.525\nGo and choose our language here,\nwe'll do English.\n\n159\n00:07:59.525 --> 00:08:02.455\nClick Next, notice here, Gateway's\ninstalled on a dedicated service,\n\n160\n00:08:02.455 --> 00:08:05.292\nrequires configuration of port\nmirroring from the domain controller so\n\n161\n00:08:05.292 --> 00:08:06.559\nas to receive network traffic.\n\n162\n00:08:06.559 --> 00:08:07.175\nHello.\n\n163\n00:08:07.175 --> 00:08:08.858\nSo we do have to make sure we do that.\n\n164\n00:08:08.858 --> 00:08:10.845\nWe'll get to that in just a second.\n\n165\n00:08:10.845 --> 00:08:13.554\n&gt;&gt; Okay, well then,\nif we're gonna get to it in a second,\n\n166\n00:08:13.554 --> 00:08:16.857\nI can wait, because I was gonna\nask you specifics about port, yep.\n\n167\n00:08:16.857 --> 00:08:19.622\n[LAUGH]\n&gt;&gt; Okay, all right, I'm gonna guess.\n\n168\n00:08:19.622 --> 00:08:21.040\nYou can ask whatever you'd\nlike about port thing.\n\n169\n00:08:21.040 --> 00:08:21.701\n&gt;&gt; Okay, no, I'll wait.\n\n170\n00:08:21.701 --> 00:08:24.161\n&gt;&gt; If you're gonna ask something about the\nshow then let me just bring up the screen\n\n171\n00:08:24.161 --> 00:08:25.124\nand then we'll talk about it.\n\n172\n00:08:25.124 --> 00:08:26.032\n&gt;&gt; Okay.\n&gt;&gt; No problem, yes.\n\n173\n00:08:26.032 --> 00:08:28.164\nSo let's watch and learn, as they say.\n\n174\n00:08:28.164 --> 00:08:30.676\nAll right, so you're gonna ask\nport mirroring, port set up.\n\n175\n00:08:30.676 --> 00:08:31.356\n&gt;&gt; Yes.\n&gt;&gt; All that, so\n\n176\n00:08:31.356 --> 00:08:32.589\nwe're gonna take a look at\nsome of that right now.\n\n177\n00:08:32.589 --> 00:08:33.763\n&gt;&gt; Okay.\n&gt;&gt; Can we go full screen for\n\n178\n00:08:33.763 --> 00:08:35.097\njust a second, though, before we do?\n\n179\n00:08:35.097 --> 00:08:38.844\nI know even then it's almost impossible\nto see such a light color on this\n\n180\n00:08:38.844 --> 00:08:41.413\nstuff down here, very,\nvery difficult to see.\n\n181\n00:08:41.413 --> 00:08:43.805\nLet me just explain the two options here,\nright?\n\n182\n00:08:43.805 --> 00:08:47.910\nSo we have the gateway option up here,\nwhich is what we're gonna go and install.\n\n183\n00:08:47.910 --> 00:08:50.446\nThis one down here,\nwhich I can't even click on right now,\n\n184\n00:08:50.446 --> 00:08:51.724\nis our lightweight gateway.\n\n185\n00:08:51.724 --> 00:08:55.384\nThe lightweight gateway, remember,\njust so you can see the difference here.\n\n186\n00:08:55.384 --> 00:08:58.284\n&gt;&gt; You're not on a domain controller,\nso it's not giving you that option?\n\n187\n00:08:58.284 --> 00:08:58.960\n&gt;&gt; Doesn't have to be.\n\n188\n00:08:58.960 --> 00:09:02.092\nWe can install it on the gateway,\nbut the lightweight gateway,\n\n189\n00:09:02.092 --> 00:09:05.401\ncan be installed on a domain controller,\nbut it does not have to be.\n\n190\n00:09:05.401 --> 00:09:06.553\nIt is an option.\n\n191\n00:09:06.553 --> 00:09:07.191\n&gt;&gt; Okay, so why is it grayed out?\n\n192\n00:09:07.191 --> 00:09:08.433\n[LAUGH]\n&gt;&gt; Well, that's a great question.\n\n193\n00:09:08.433 --> 00:09:09.107\nSo let me get to that.\n\n194\n00:09:09.107 --> 00:09:10.347\nIt's one of those things.\n\n195\n00:09:10.347 --> 00:09:12.065\nYou've got to actually ask the question,\nso you did.\n\n196\n00:09:12.065 --> 00:09:12.950\nNow let me explain.\n\n197\n00:09:12.950 --> 00:09:14.105\nSo great question, but\n\n198\n00:09:14.105 --> 00:09:17.411\nwhat I wanted to show you was we're\ndoing the gateway here, right?\n\n199\n00:09:17.411 --> 00:09:19.956\nWe have to have a gateway set\nup initially before we can put\n\n200\n00:09:19.956 --> 00:09:21.290\nthe lightweight Gateway in.\n\n201\n00:09:21.290 --> 00:09:22.595\nSo I've got at least one functional\nGateway first before we can do that.\n\n202\n00:09:22.595 --> 00:09:23.789\n&gt;&gt; Okay, at least one, perfect.\n\n203\n00:09:23.789 --> 00:09:27.087\n&gt;&gt; So I'll just show you that\nit is grayed out right now, but\n\n204\n00:09:27.087 --> 00:09:30.760\nwe would have that option as we\ngo through and do our setup.\n\n205\n00:09:30.760 --> 00:09:32.128\nAnd as Cherokee asked, and\n\n206\n00:09:32.128 --> 00:09:35.461\nI pointed out in the little\narchitecture diagram down there, we do\n\n207\n00:09:35.461 --> 00:09:39.762\nhave an option of putting the lightweight\ngateway product onto a domain controller.\n\n208\n00:09:39.762 --> 00:09:40.931\nNot the full gateway, but\n\n209\n00:09:40.931 --> 00:09:44.613\nthe lightweight gateway product can run\non the domain controller if we choose to.\n\n210\n00:09:44.613 --> 00:09:45.773\nIt's up to us to decide.\n\n211\n00:09:45.773 --> 00:09:50.069\nWe can set that up and obviously have that\ninstalled after the fact, if we choose to.\n\n212\n00:09:50.069 --> 00:09:55.572\nAll right, so it does say here Gateway\ndeployment and performance guidelines.\n\n213\n00:09:55.572 --> 00:09:56.361\nIt's kind of hard to see.\n\n214\n00:09:56.361 --> 00:09:57.488\nI know it's also very, very small.\n\n215\n00:09:57.488 --> 00:10:00.147\nAnd the text is kind of an odd color for\nthe screen.\n\n216\n00:10:00.147 --> 00:10:05.047\nBut you could click here if you want to,\nas we often try to do.\n\n217\n00:10:05.047 --> 00:10:07.892\nWe could take you out there if\nyou're connected to the web.\n\n218\n00:10:07.892 --> 00:10:11.772\nWe'll take you out to the, hey, this is\nwhat you need to know and this is where\n\n219\n00:10:11.772 --> 00:10:15.730\nyou find it section on the Microsoft\nwebsite in one of the document areas.\n\n220\n00:10:15.730 --> 00:10:19.524\nGateway sizing just gives us some\ninformation about the capacity,\n\n221\n00:10:19.524 --> 00:10:21.129\nthe CPU cores, the memory.\n\n222\n00:10:21.129 --> 00:10:23.986\nIt's depending on the amount of traffic\nthat will flow through these gateways.\n\n223\n00:10:23.986 --> 00:10:28.180\nSo sizing is an important component of the\nthought process of what we're doing and\n\n224\n00:10:28.180 --> 00:10:30.200\nhow we're doing it with the gateways.\n\n225\n00:10:30.200 --> 00:10:33.808\nWe can monitor multiple domain controllers\ndepending on traffic load and volume.\n\n226\n00:10:33.808 --> 00:10:39.266\n50,000 packets per second,\nwe need 16 cores, 48 gigs of memory.\n\n227\n00:10:39.266 --> 00:10:42.029\nIt's up to us to decide, right,\nhow we're gonna set this up.\n\n228\n00:10:42.029 --> 00:10:44.451\nSo you would take some information here,\nand\n\n229\n00:10:44.451 --> 00:10:48.867\njust estimate there's some information\nabout how to do the traffic estimation.\n\n230\n00:10:48.867 --> 00:10:51.805\nHey, I don't know how many packets per\nsecond I get through my domain controller.\n\n231\n00:10:51.805 --> 00:10:52.907\nHow am I gonna figure that out?\n\n232\n00:10:52.907 --> 00:10:55.066\nWell, we've got some answers for\nyou there as well.\n\n233\n00:10:55.066 --> 00:10:57.116\nYou can look at the resource monitor and\n\n234\n00:10:57.116 --> 00:11:01.916\nperformance monitoring capabilities in the\ndomain controller and estimate throughput.\n\n235\n00:11:01.916 --> 00:11:05.124\nAnd so you could get some averages and\nthen use that to backtrack and\n\n236\n00:11:05.124 --> 00:11:05.876\ndo the sizing.\n\n237\n00:11:05.876 --> 00:11:08.255\nSo there's some good guidance\nout here on the web.\n\n238\n00:11:08.255 --> 00:11:10.956\nDefinitely wanna take a look at it,\nso it will help you to\n\n239\n00:11:10.956 --> 00:11:14.351\nbetter understand the logic of how\nwe can actually do the deployment.\n\n240\n00:11:14.351 --> 00:11:18.355\nAll right, so remember, we're in\nthe middle of our installation, so\n\n241\n00:11:18.355 --> 00:11:22.040\nwe're gonna go through our gateway here,\nclick Next.\n\n242\n00:11:22.040 --> 00:11:23.213\nInstallation path again,\n\n243\n00:11:23.213 --> 00:11:25.765\nI'm just gonna check and\nmake sure that I have enough room.\n\n244\n00:11:25.765 --> 00:11:28.529\nI think I do in the C drive,\nbut always good to check.\n\n245\n00:11:28.529 --> 00:11:31.048\nYou'll see here only option for\ninstalling this one.\n\n246\n00:11:31.048 --> 00:11:34.147\nYou see, I've got 8 gigs, more than\nenough room to do the gateway install.\n\n247\n00:11:34.147 --> 00:11:36.957\nSo no issue there, we'll go ahead and\nwe'll click Install.\n\n248\n00:11:36.957 --> 00:11:39.692\nHere again,\nvery straightforward installation.\n\n249\n00:11:39.692 --> 00:11:41.220\nI mean literally, right?\n\n250\n00:11:41.220 --> 00:11:42.600\nWe didn't even have an option for\nthe first install.\n\n251\n00:11:42.600 --> 00:11:44.225\nWe gotta stand up the initial gateway.\n\n252\n00:11:44.225 --> 00:11:46.485\nAll we gotta do is click\na couple of buttons, and\n\n253\n00:11:46.485 --> 00:11:50.441\nunless we check that little link to go out\nand maybe look at some sizing estimation,\n\n254\n00:11:50.441 --> 00:11:53.857\nthis is a three-click install,\nright, four clicks and we're done.\n\n255\n00:11:53.857 --> 00:11:55.889\nSo it's very,\nvery quick in that respect, right?\n\n256\n00:11:55.889 --> 00:11:59.453\nSo it's pretty easy for\nus to go through and get that all set up.\n\n257\n00:11:59.453 --> 00:12:02.158\nWe'll just wait for that to finish up,\ndoesn't take very long,\n\n258\n00:12:02.158 --> 00:12:03.296\ninstallation completed.\n\n259\n00:12:03.296 --> 00:12:04.956\nAgain, click the Launch button.\n\n260\n00:12:04.956 --> 00:12:08.323\nSo we'll bring this up and\njust get out of there.\n\n261\n00:12:08.323 --> 00:12:12.688\nAnd let's go and click right here.\n\n262\n00:12:12.688 --> 00:12:16.491\nWe'll get in, and you can see just\nlogging out and logging back in so\n\n263\n00:12:16.491 --> 00:12:18.772\nwe have the right setup available to us.\n\n264\n00:12:18.772 --> 00:12:23.180\nWe now see our PLABDM02 machine is up and\nrunning as the gateway, or\n\n265\n00:12:23.180 --> 00:12:25.919\nI should say installed, not running yet.\n\n266\n00:12:25.919 --> 00:12:26.836\nCould we go full screen?\n\n267\n00:12:26.836 --> 00:12:28.465\nThere we go.\nAgain, color choices,\n\n268\n00:12:28.465 --> 00:12:31.629\nmy apologies in advance but\nI haven't set the font, color sizes,\n\n269\n00:12:31.629 --> 00:12:33.957\nfont size and color sizes for\nthese interfaces.\n\n270\n00:12:33.957 --> 00:12:35.757\nThese are hard coded by Microsoft.\n\n271\n00:12:35.757 --> 00:12:39.609\nSo you just have to live with the not\nconfigured in yellow under Health, etc.,\n\n272\n00:12:39.609 --> 00:12:42.900\nbut you can see where all the gateways\nregister as being installed.\n\n273\n00:12:42.900 --> 00:12:46.696\nThere are still some things\nthat have to happen.\n\n274\n00:12:46.696 --> 00:12:49.280\nNotice our prompt right here, right?\n\n275\n00:12:49.280 --> 00:12:51.751\nStep two was download the gateway, great.\n\n276\n00:12:51.751 --> 00:12:53.217\nStep three, we gotta configure it,\n\n277\n00:12:53.217 --> 00:12:56.212\nstill a couple of things we gotta do to\nget the first gateway up and running.\n\n278\n00:12:56.212 --> 00:12:59.556\nSo we can change that status from,\nhey it's there,\n\n279\n00:12:59.556 --> 00:13:05.118\nservice starting hasn't fully stood up\nyet, not configured, we gotta change that.\n\n280\n00:13:05.118 --> 00:13:08.512\nSo we're gonna go in,\nwe're gonna configure here, so\n\n281\n00:13:08.512 --> 00:13:11.416\nwe'll click Configure and\nit takes us in here.\n\n282\n00:13:11.416 --> 00:13:16.031\nAnd it is starting for us, so we're\ntrying to get the service up and running,\n\n283\n00:13:16.031 --> 00:13:18.093\nthat will come up in just a minute.\n\n284\n00:13:18.093 --> 00:13:20.472\nAnd then, let's see if, okay,\nlet's try that one more time.\n\n285\n00:13:25.057 --> 00:13:31.988\nAnd let me check here,\nlet's just make sure, one second.\n\n286\n00:13:31.988 --> 00:13:34.229\nThese things take a couple minutes\ntraditionally to start up.\n\n287\n00:13:34.229 --> 00:13:37.004\nSo we have to just wait and\nmake sure all the services are running.\n\n288\n00:13:37.004 --> 00:13:41.277\nJust wanna make sure we're not having any\nissues in Server Manager that could be\n\n289\n00:13:41.277 --> 00:13:42.368\ncausing a concern.\n\n290\n00:13:42.368 --> 00:13:44.794\nI don't think this is\nthe service we're waiting on.\n\n291\n00:13:44.794 --> 00:13:46.090\nLet's just see.\n\n292\n00:13:46.090 --> 00:13:48.969\nAll right, so start is pending.\n\n293\n00:13:48.969 --> 00:13:50.235\nSo let's give that a minute.\n\n294\n00:13:52.754 --> 00:13:56.796\nAnd let's just see if that's come up yet.\n\n295\n00:13:56.796 --> 00:13:59.733\nNot yet.\n\n296\n00:13:59.733 --> 00:14:04.910\nLet me go over here and,\n\n297\n00:14:08.686 --> 00:14:10.160\nLet's do this, all right.\n\n298\n00:14:10.160 --> 00:14:14.576\nSo port mirror domains, I have to go in,\nI'm gonna configure my domain.\n\n299\n00:14:14.576 --> 00:14:19.463\nI was hoping this service would just kind\nof stop and let us do this, so here we go.\n\n300\n00:14:19.463 --> 00:14:24.153\nLet me move this over, just one second.\n\n301\n00:14:24.153 --> 00:14:25.152\nDrag that over.\n\n302\n00:14:25.152 --> 00:14:26.221\nActually no, I can't move that.\n\n303\n00:14:26.221 --> 00:14:27.509\nIt's stuck on the screen, all right.\n\n304\n00:14:27.509 --> 00:14:29.657\nSo close enough, you can see off\nto the edge here, no big deal.\n\n305\n00:14:29.657 --> 00:14:32.896\nAll right, so let's go in,\nlet's do our domain information.\n\n306\n00:14:32.896 --> 00:14:34.151\nWhat are we gonna port mirror from?\n\n307\n00:14:34.151 --> 00:14:37.321\nIn other words,\nwhat ADDS are we gonna be pointing to?\n\n308\n00:14:37.321 --> 00:14:39.793\nRemember we're in\nthe practicelabs.com domain, right?\n\n309\n00:14:39.793 --> 00:14:43.633\nSo we're gonna go in and specify plabdc01,\n\n310\n00:14:43.633 --> 00:14:49.255\nwhich is my domain controller,\npractice, spell that correctly.\n\n311\n00:14:52.669 --> 00:14:54.086\nPracticelabs.com.\n\n312\n00:14:54.086 --> 00:14:56.214\nAnd then we're gonna go ahead and\n\n313\n00:14:56.214 --> 00:14:59.949\nwe're just gonna click the plus\nsign there to add that in.\n\n314\n00:14:59.949 --> 00:15:04.511\nWe're gonna specify which adaptor or\nadaptors we wanna be able to capture on.\n\n315\n00:15:04.511 --> 00:15:06.008\nWe need at least one.\n\n316\n00:15:06.008 --> 00:15:09.608\nNormally, you'll have two and\nyou'll specify one or both of them.\n\n317\n00:15:09.608 --> 00:15:12.209\nAnd domain synchronizer, right, is on.\n\n318\n00:15:12.209 --> 00:15:13.867\nSo we're gonna be able to mirror and\n\n319\n00:15:13.867 --> 00:15:16.364\nsynchronize all the information\ncoming from there.\n\n320\n00:15:16.364 --> 00:15:18.199\nWe're gonna click Save.\n\n321\n00:15:18.199 --> 00:15:20.034\nDon't have to put a description in.\n\n322\n00:15:20.034 --> 00:15:22.553\nIt's up to us to decide if we want to or\nnot.\n\n323\n00:15:22.553 --> 00:15:28.404\nAll right, and then, and\nactually let's just go in real quick and\n\n324\n00:15:28.404 --> 00:15:32.073\njust do a description while we're here.\n\n325\n00:15:32.073 --> 00:15:36.659\nITPro Gateway, just so\nwe have that in here, just so\n\n326\n00:15:36.659 --> 00:15:41.490\nit's labeled and so\nwe can see it, that's all.\n\n327\n00:15:41.490 --> 00:15:42.510\nAll right, so we have all that.\n\n328\n00:15:42.510 --> 00:15:44.250\nNotice that now we're gonna start up.\n\n329\n00:15:44.250 --> 00:15:47.420\nWe will be successful at starting up once\nwe have all that information in there.\n\n330\n00:15:47.420 --> 00:15:48.389\nWe'll give it just a minute.\n\n331\n00:15:48.389 --> 00:15:50.291\nUsually it doesn't take too long.\n\n332\n00:15:50.291 --> 00:15:53.086\nAnd once that's registered as started and\nrunning,\n\n333\n00:15:53.086 --> 00:15:56.760\nwe'll then be able to start to see\nsome basic information flowing in.\n\n334\n00:15:56.760 --> 00:15:58.830\nIt takes about three or four minutes.\n\n335\n00:15:58.830 --> 00:16:01.726\nTo get the initial information\nfrom the domain controller.\n\n336\n00:16:01.726 --> 00:16:04.858\nWe'll just take a quick look at a couple\nof things in here while we're waiting on\n\n337\n00:16:04.858 --> 00:16:06.700\nthat and\ntalk about some of the requirements.\n\n338\n00:16:06.700 --> 00:16:08.090\nAnd then we'll be able to come back and\n\n339\n00:16:08.090 --> 00:16:11.200\nwe'll actually see configuration\ninformation starting to populate here\n\n340\n00:16:11.200 --> 00:16:14.900\nabout how many users, how many groups and\nthings like that it's able to find\n\n341\n00:16:14.900 --> 00:16:16.820\nas a result of the gateway\nactually being functional.\n\n342\n00:16:16.820 --> 00:16:21.230\nSo we can see it's changed to running,\nso our status is now available.\n\n343\n00:16:21.230 --> 00:16:23.360\nWe're actually starting\nthe configuration and\n\n344\n00:16:23.360 --> 00:16:26.210\nyou'll see now version expires\non you know whatever it is.\n\n345\n00:16:26.210 --> 00:16:27.670\nThis case 90 days out for\n\n346\n00:16:27.670 --> 00:16:30.490\nour licensing after that well\nno longer be able to use this.\n\n347\n00:16:30.490 --> 00:16:33.690\nSo our first gateway is installed,\nup and running, and available.\n\n348\n00:16:33.690 --> 00:16:36.120\nWe've configured it,\nwe have it now step up.\n\n349\n00:16:36.120 --> 00:16:39.850\nOur center is configured, we're not\nworried about updates right now or\n\n350\n00:16:39.850 --> 00:16:43.730\nanything like that, we've been through\nthis already, but notice here that\n\n351\n00:16:43.730 --> 00:16:48.590\nour plabdm02 machine is\nnow listed as our gateway.\n\n352\n00:16:48.590 --> 00:16:51.660\nAnd notice automatic updates\nare turned off but, again,\n\n353\n00:16:51.660 --> 00:16:55.420\nwe said we could enable those if\nchose to right, it's up to us.\n\n354\n00:16:55.420 --> 00:16:57.830\nOur directory services\nhave been configured.\n\n355\n00:16:57.830 --> 00:17:02.400\nWe're not using our SEM or our VPN\nradius accounting capabilities just yet.\n\n356\n00:17:02.400 --> 00:17:03.540\nYou'll notice, by the way,\n\n357\n00:17:03.540 --> 00:17:06.405\nentities recently learned\nalready populating up here.\n\n358\n00:17:06.405 --> 00:17:10.790\nThis because the gateway is now\ntalking to the ADDS infrastructure and\n\n359\n00:17:10.790 --> 00:17:14.200\nthe ATA center, ATA center is\nnow getting this information.\n\n360\n00:17:14.200 --> 00:17:17.220\nOne domain, one domain controller so\nmany users computers and\n\n361\n00:17:17.220 --> 00:17:21.230\ngroups have been discovered through\nthe interrogation of the ADDS, right?\n\n362\n00:17:21.230 --> 00:17:22.285\nSo we see all that.\n\n363\n00:17:22.285 --> 00:17:23.815\nAll right, so we've got all that in here.\n\n364\n00:17:23.815 --> 00:17:25.715\nWe're not using a honey token account.\n\n365\n00:17:25.715 --> 00:17:29.115\nWe talk about exclusions that\nwe may wanna go in and provide.\n\n366\n00:17:29.115 --> 00:17:32.645\nWe've been through kind of the logic of\nall this and taking a look at what's here.\n\n367\n00:17:32.645 --> 00:17:35.375\nNow, let me just show you a couple of\nother things in the interface before we go\n\n368\n00:17:35.375 --> 00:17:38.405\nback and talk about some requirements for\ninstallation.\n\n369\n00:17:38.405 --> 00:17:40.235\nWe have different views here, right?\n\n370\n00:17:40.235 --> 00:17:45.160\nWe can see this view which is the view I\nstarted out with on the other machine when\n\n371\n00:17:45.160 --> 00:17:48.030\nI went in, downloaded the gateway\nsetup package, all right.\n\n372\n00:17:48.030 --> 00:17:52.040\nSo we can come in here and we can take\na look at what's called the timeline view.\n\n373\n00:17:52.040 --> 00:17:56.630\nWe can see information about what may be\nopen with a high, medium, low ranking,\n\n374\n00:17:56.630 --> 00:18:00.500\nkind of a red, green,\nyellow stop light KPI solution.\n\n375\n00:18:00.500 --> 00:18:03.760\nClosed or suppressed,\nany of the activity that's being reported.\n\n376\n00:18:03.760 --> 00:18:06.990\nRemember, we just stood this up, we're\nnot gonna have any activity right now.\n\n377\n00:18:06.990 --> 00:18:11.900\nWe can go in here, change to this view\nwhich is our reports view, all right,\n\n378\n00:18:11.900 --> 00:18:16.650\nso you can see here, we'd be able to\ngo in, setup our scheduled reports and\n\n379\n00:18:16.650 --> 00:18:18.580\nrun a timeline based summary.\n\n380\n00:18:18.580 --> 00:18:23.270\nThere's no data in the database, so\neven though it does over the last day,\n\n381\n00:18:23.270 --> 00:18:26.200\ndownload, and I have an option, I'll get\nan error that'll say there's no data\n\n382\n00:18:26.200 --> 00:18:28.930\navailable, the report can't\nbe run if I try to run it.\n\n383\n00:18:28.930 --> 00:18:34.170\nBut I can go in an I can download summary\nof suspicious activity and health issues.\n\n384\n00:18:34.170 --> 00:18:37.472\nRight it says there no data available\nto generate the report right now,\n\n385\n00:18:37.472 --> 00:18:38.830\ncome back later right.\n\n386\n00:18:38.830 --> 00:18:42.610\nBut I could set schedule reports up I need\nto configure the mail server remember\n\n387\n00:18:42.610 --> 00:18:44.750\nin order to be able to do\nthis as we talked about.\n\n388\n00:18:44.750 --> 00:18:48.540\nSo it prompts me to do that before\nI am able to, I need SNTP relay or\n\n389\n00:18:48.540 --> 00:18:50.530\nmy email server available to do that.\n\n390\n00:18:50.530 --> 00:18:54.920\nSo I can see the reports view,\nI can see over here my health center view.\n\n391\n00:18:54.920 --> 00:18:56.620\nLooks very similar to the timeline view,\n\n392\n00:18:56.620 --> 00:19:00.960\nas you can see and I have this little\nthree dot ellipses here I can pull down.\n\n393\n00:19:00.960 --> 00:19:03.530\nI see all of that but\nI also see, among other things,\n\n394\n00:19:03.530 --> 00:19:05.960\nlanguage about the ability\nto switch users.\n\n395\n00:19:05.960 --> 00:19:09.650\nBut I see configuration and configuration\ntakes me back to the main view,\n\n396\n00:19:09.650 --> 00:19:12.610\nwhat we call the center view where we were\nlooking at all of the different menus.\n\n397\n00:19:12.610 --> 00:19:16.510\nI can navigate through here fairly\neasily with not a lot of mystery.\n\n398\n00:19:16.510 --> 00:19:18.890\nIt's a very simple interface,\nright, very easy to navigate into,\n\n399\n00:19:18.890 --> 00:19:20.186\ntrying to make our way around.\n\n400\n00:19:20.186 --> 00:19:22.430\nAll right, so we've set up the ATA center,\n\n401\n00:19:22.430 --> 00:19:25.200\nwe set up our gateway,\ninstalled our first one.\n\n402\n00:19:25.200 --> 00:19:29.060\nObviously if we then wanted to go back and\nrun the gateway set up on another machine,\n\n403\n00:19:29.060 --> 00:19:32.200\nwe will connect, download the gateway\nsetup package, do the same thing,\n\n404\n00:19:32.200 --> 00:19:35.030\nmake our choice about the gateway or\nthe lightweight gateway,\n\n405\n00:19:35.030 --> 00:19:36.042\ndepending on what we're doing.\n\n406\n00:19:36.042 --> 00:19:38.630\nAll right, so we've been through,\nwe've talked about how we set it up,\n\n407\n00:19:38.630 --> 00:19:42.140\ntalked about what it does and what the\nvalue propositions associated with it are,\n\n408\n00:19:42.140 --> 00:19:45.860\ntalked about that gateway architecture,\nthe ATA center, the gateway and\n\n409\n00:19:45.860 --> 00:19:46.715\nlightweight gateway.\n\n410\n00:19:46.715 --> 00:19:50.530\nWe do all of our monitoring of traffic\nfrom the domain controllers through one or\n\n411\n00:19:50.530 --> 00:19:54.550\nmore of these gateways, we can monitor\ntraffic from different multiple domains\n\n412\n00:19:54.550 --> 00:19:57.510\nas you saw, based on scaling,\nand sizing, right?\n\n413\n00:19:57.510 --> 00:20:00.250\nReally, a question of how much traffic\nflow, so just be aware of that.\n\n414\n00:20:00.250 --> 00:20:02.990\nWe are able to mix and match gateways,\nand light weight gateways,\n\n415\n00:20:02.990 --> 00:20:06.020\nas we talked about and suggested,\nwe could do that with no trouble.\n\n416\n00:20:06.020 --> 00:20:07.720\nWe took a look at the components,\n\n417\n00:20:07.720 --> 00:20:10.660\nwe talked about the domain user account\nthat's required to do the setup.\n\n418\n00:20:11.690 --> 00:20:15.900\nI didn't mention the IP subnets we didn't\nreally mess with setting up subnets and\n\n419\n00:20:15.900 --> 00:20:19.130\ncreating exclusions, but you'd wanna\nknow what subnets you're servicing in\n\n420\n00:20:19.130 --> 00:20:23.733\nyour network so that way you can go in and\nprovide guidance on which subnets to\n\n421\n00:20:23.733 --> 00:20:26.400\nmonitor which ones to exclude,\nas we were talking about.\n\n422\n00:20:26.400 --> 00:20:29.450\nIf you remember under,\nif you just join me back here for\n\n423\n00:20:29.450 --> 00:20:32.460\na minute under detection,\nunder exclusions right.\n\n424\n00:20:32.460 --> 00:20:35.260\nWe were taking a look at all of these,\nwe opened any one of these up and\n\n425\n00:20:35.260 --> 00:20:39.975\nsaid look, we can go in and put in our IP\naddress or subnets or our computers and\n\n426\n00:20:39.975 --> 00:20:43.025\nadd them into monitor, exclude them\ndepending on your thought process,\n\n427\n00:20:43.025 --> 00:20:43.815\nhow you're looking at this.\n\n428\n00:20:43.815 --> 00:20:46.855\nSo, we'd wanna have most\nlikely a list of subnets so\n\n429\n00:20:46.855 --> 00:20:48.570\nwe know what subnets we wanna monitor.\n\n430\n00:20:48.570 --> 00:20:51.493\nSo where would be go traditionally,\nif we wanna get a list of subnets for\n\n431\n00:20:51.493 --> 00:20:52.430\nour network, right?\n\n432\n00:20:52.430 --> 00:20:54.616\nJust a few different\ntools I'm thinking of,\n\n433\n00:20:54.616 --> 00:20:58.310\npotentially places I could think of that\nwe could go to see a list of subnets.\n\n434\n00:20:58.310 --> 00:21:01.750\nBut where would we wanna go,\nor from your perspective,\n\n435\n00:21:01.750 --> 00:21:04.310\nwhere would be the most likely place for\nyou to go to get a list of subnets?\n\n436\n00:21:04.310 --> 00:21:05.380\n&gt;&gt; In the Microsoft environment,\n\n437\n00:21:05.380 --> 00:21:09.660\nthen if I'm running DHCP then I would have\nmy scopes and everything listed there.\n\n438\n00:21:09.660 --> 00:21:11.690\n&gt;&gt; Would all your subnets\nbe listed in DHCP?\n\n439\n00:21:12.730 --> 00:21:13.945\nThey may not all be there, right?\n\n440\n00:21:13.945 --> 00:21:14.487\n&gt;&gt; Okay.\n\n441\n00:21:14.487 --> 00:21:15.840\n&gt;&gt; I mean,\njust think about the logic of it.\n\n442\n00:21:15.840 --> 00:21:18.840\nIn other words, in DHCP,\nyou're only gonna see\n\n443\n00:21:18.840 --> 00:21:22.420\na list of scopes that you're handing out\ndynamically but they're may be addressing\n\n444\n00:21:22.420 --> 00:21:24.660\nin some that are not that dynamically,\nthat's why I'm suggesting.\n\n445\n00:21:24.660 --> 00:21:25.960\nSo it may be good place to start but\n\n446\n00:21:25.960 --> 00:21:28.010\nit may not give you everything,\nthat's all I'm saying.\n\n447\n00:21:28.010 --> 00:21:30.530\nSo I'm thinking maybe-\n&gt;&gt; I should have network documentation.\n\n448\n00:21:30.530 --> 00:21:32.060\n&gt;&gt; Should have network documentation,\n\n449\n00:21:32.060 --> 00:21:36.100\nand we all know that that will be, in\nthe perfect world that's the place to go.\n\n450\n00:21:36.100 --> 00:21:39.650\nBut we also know that that might not\nbe up to date, either, not necessarily.\n\n451\n00:21:39.650 --> 00:21:42.600\nSo I'm thinking, is there a place we\ncould go that would give us a pretty\n\n452\n00:21:42.600 --> 00:21:47.500\naccurate up to date representation of\nsubnets and that we could see them.\n\n453\n00:21:47.500 --> 00:21:51.220\nAgain it would depend on certain things,\nbut I'm thinking maybe the active\n\n454\n00:21:51.220 --> 00:21:54.079\ndirectory sites and services tool,\nfor instance right.\n\n455\n00:21:54.079 --> 00:21:55.307\nBecause we, in theory,\n\n456\n00:21:55.307 --> 00:21:58.754\nsee our subnets there if we have them\nlinked to our AD sites and all of our\n\n457\n00:21:58.754 --> 00:22:03.209\nactive directory replication maybe we'll\nbe able to get a list there, right?\n\n458\n00:22:03.209 --> 00:22:05.430\n[SOUND] Just a few different places for\nyou to think about.\n\n459\n00:22:05.430 --> 00:22:08.770\nBut I think between those things we'd\nbe able to get a pretty accurate\n\n460\n00:22:08.770 --> 00:22:09.990\nrepresentation.\n\n461\n00:22:09.990 --> 00:22:14.955\nWe talked about our honey token account,\nif remember we did say that we\n\n462\n00:22:14.955 --> 00:22:19.163\ncould go in and use the honey\ntoken account as this account,\n\n463\n00:22:19.163 --> 00:22:24.145\noften is very similar to, let's say,\na honey pot or a honey net.\n\n464\n00:22:24.145 --> 00:22:27.900\nRight, a honey pot individual machine,\nhoney group of machines, so\n\n465\n00:22:27.900 --> 00:22:29.760\nindividual honey pots join together.\n\n466\n00:22:29.760 --> 00:22:33.279\nThis is an account that we would dangle\nout there, that we would monitor against,\n\n467\n00:22:33.279 --> 00:22:35.280\nnobody should log in and\nuse this credential.\n\n468\n00:22:35.280 --> 00:22:38.887\nNormally, we wanna keep this kind of on,\nif you're used to fishing, right,\n\n469\n00:22:38.887 --> 00:22:42.604\nthis is like the worm or the fly you throw\nit on the line that you're gonna dangle to\n\n470\n00:22:42.604 --> 00:22:43.883\nattract the fish, right.\n\n471\n00:22:43.883 --> 00:22:45.248\nNobody's going to mess with it,\n\n472\n00:22:45.248 --> 00:22:47.410\nyou're going to just make it sit there and\nwatch it.\n\n473\n00:22:47.410 --> 00:22:48.807\nAnd then if somebody nibbles on it,\ntakes the bait.\n\n474\n00:22:48.807 --> 00:22:50.390\n&gt;&gt; A nice, shiny lure, yeah.\n\n475\n00:22:50.390 --> 00:22:51.666\n&gt;&gt; And a shiny lure,\nthat we're gonna pull.\n\n476\n00:22:51.666 --> 00:22:53.390\n&gt;&gt; [LAUGH]\n&gt;&gt; We're gonna pull that bad actor right\n\n477\n00:22:53.390 --> 00:22:55.410\nout of the water,\nthrough him on the boat, right.\n\n478\n00:22:55.410 --> 00:22:58.030\nSo we wanna make sure that if we choose or\n\n479\n00:22:58.030 --> 00:23:02.400\ndecide to use a honey token account,\nthat we're thinking about that as well.\n\n480\n00:23:02.400 --> 00:23:05.290\nSo we can go in,,\nwe do need the SID of the user account and\n\n481\n00:23:05.290 --> 00:23:07.300\nnot the username when we set\nthat up just so you know.\n\n482\n00:23:07.300 --> 00:23:09.350\nI don't know if I showed you that,\nI don't think I did,\n\n483\n00:23:09.350 --> 00:23:14.380\nI mean I did show it to you but\nI don't know if I actually showed you.\n\n484\n00:23:14.380 --> 00:23:18.020\nSo let me just go in here, real quick.\n\n485\n00:23:18.020 --> 00:23:22.240\nSo here under general,\nwhen you go to set this up,\n\n486\n00:23:22.240 --> 00:23:24.710\nit doesn't say here,\nthere's really no way for you to know, but\n\n487\n00:23:24.710 --> 00:23:29.070\nyou need to put the SID of the user\naccount in, not the username.\n\n488\n00:23:29.070 --> 00:23:35.380\nSo it would be something like,\nI don't know, 1.234-whatever.\n\n489\n00:23:35.380 --> 00:23:38.790\nThe SID is kinda that random string,\nright, something like that, right,\n\n490\n00:23:38.790 --> 00:23:42.140\nnot that it would be that, but\nit would look something like that, right.\n\n491\n00:23:42.140 --> 00:23:45.390\nAnd so you'd have to put the SID in\nas opposed to the user account here.\n\n492\n00:23:45.390 --> 00:23:48.124\nAnd then add that in,\nit would have to be in the proper form,\n\n493\n00:23:48.124 --> 00:23:50.930\nproper amount of characters,\nright, set up the right way.\n\n494\n00:23:50.930 --> 00:23:51.888\nSo just be aware of that.\n\n495\n00:23:51.888 --> 00:23:55.150\nBut we do expect the SID as\nopposed to the user name.\n\n496\n00:23:55.150 --> 00:23:57.588\nWe do wanna know that we are not\ngoing to and I know you and\n\n497\n00:23:57.588 --> 00:23:59.666\nI talked about this\nbetween the two episodes.\n\n498\n00:23:59.666 --> 00:24:03.070\nNo additional network monitoring software\nshould be running in the network.\n\n499\n00:24:03.070 --> 00:24:05.900\nSo I think in the notes I call\nit things like Wireshark,\n\n500\n00:24:05.900 --> 00:24:09.220\nand Microsoft Message Analyzer,\nthe new version network monitor.\n\n501\n00:24:09.220 --> 00:24:11.990\nAny of that kind of stuff,\nno network monitoring\n\n502\n00:24:11.990 --> 00:24:16.390\nsoftware installed on any of the servers\nthat are hosting the ATA gateways.\n\n503\n00:24:16.390 --> 00:24:20.960\nOr the ATA center gets in the way because\nof the binding to the network cards and\n\n504\n00:24:20.960 --> 00:24:23.320\nthe use of those cards to do monitoring.\n\n505\n00:24:23.320 --> 00:24:27.100\nYou can't mutually bind and use that\nwhen it's being bound by another system,\n\n506\n00:24:27.100 --> 00:24:28.590\nso that's gonna be an issue.\n\n507\n00:24:28.590 --> 00:24:32.690\n&gt;&gt; Which is also something to think about\nas long as your network card does support\n\n508\n00:24:32.690 --> 00:24:34.760\nport mirroring,\nwhich most of them nowadays do.\n\n509\n00:24:34.760 --> 00:24:35.895\nBut just definitely something-\n&gt;&gt; It should, yeah,\n\n510\n00:24:35.895 --> 00:24:37.184\nany of the new ones will, too.\n\n511\n00:24:37.184 --> 00:24:38.980\nUnless they're tied to\nsomething that's really old.\n\n512\n00:24:38.980 --> 00:24:40.180\nRight, yeah, then we would have an issue.\n\n513\n00:24:40.180 --> 00:24:43.650\nBut you can get a promiscuous mode driver,\ntraditionally, and things like that.\n\n514\n00:24:43.650 --> 00:24:45.040\nUsually shouldn't be an issue.\n\n515\n00:24:45.040 --> 00:24:47.110\nBut you just wanna make\nsure you're aware of that.\n\n516\n00:24:47.110 --> 00:24:48.940\nYou don't wanna double up,\nin other words, or\n\n517\n00:24:48.940 --> 00:24:52.270\ndouble down on network monitoring\nsoftware on the same interfaces.\n\n518\n00:24:52.270 --> 00:24:55.870\nSo you don't wanna run multiple\ncapture programs on the same thing.\n\n519\n00:24:55.870 --> 00:25:00.240\nNow, for running a virtualized instance\nof security infrastructure on a host.\n\n520\n00:25:00.240 --> 00:25:04.347\nAnd there's different VM's running that\nare using virtual network cards and\n\n521\n00:25:04.347 --> 00:25:08.660\nbinding those cards for doing this\nkind of work against a common host.\n\n522\n00:25:08.660 --> 00:25:11.390\nWe also have to think about the logic\nof this because we get into some\n\n523\n00:25:11.390 --> 00:25:13.980\nsticky situations where\nwe can have competitive\n\n524\n00:25:13.980 --> 00:25:17.210\nmonitors running in different\nenvironments for different reasons.\n\n525\n00:25:17.210 --> 00:25:20.520\nAnd so we just have to be sensitive to\nhow we're doing our configurations,\n\n526\n00:25:20.520 --> 00:25:21.570\nlet's put it that way.\n\n527\n00:25:21.570 --> 00:25:24.730\nVirtualizing this is a whole other\nseparate set of conversations on\n\n528\n00:25:24.730 --> 00:25:25.950\nthe security side.\n\n529\n00:25:25.950 --> 00:25:28.150\nA lot of this technology\ncan be virtualized today.\n\n530\n00:25:28.150 --> 00:25:31.100\nI'm not suggesting you shouldn't\nlook at that as an option.\n\n531\n00:25:31.100 --> 00:25:35.196\nI'm just saying that in a multitenant\nenvironments where we have different\n\n532\n00:25:35.196 --> 00:25:39.330\nbusinesses hosting on, let's say,\na common host with different VMs.\n\n533\n00:25:39.330 --> 00:25:43.880\nWe can allow for the use of virtualized\nsecurity products, that's not a problem.\n\n534\n00:25:43.880 --> 00:25:46.720\nBut we need to just be aware of\nthe configuration requirements associated\n\n535\n00:25:46.720 --> 00:25:47.400\nwith doing so.\n\n536\n00:25:47.400 --> 00:25:51.125\n&gt;&gt; [CROSSTALK] Most definitely,\nadditional options and additional ways to,\n\n537\n00:25:51.125 --> 00:25:53.320\nadditional considerations, basically.\n\n538\n00:25:53.320 --> 00:25:54.928\n&gt;&gt; Yes, thank you for summarizing.\n\n539\n00:25:54.928 --> 00:25:56.010\n&gt;&gt; [LAUGH]\n&gt;&gt; That's really very good.\n\n540\n00:25:56.010 --> 00:25:58.260\nAll right, so, so on basic requirements,\n\n541\n00:25:58.260 --> 00:26:01.710\nI mentioned that certain software we can\nrun this on, certain software we can't.\n\n542\n00:26:01.710 --> 00:26:03.540\nYou know the drill on that kinda stuff.\n\n543\n00:26:03.540 --> 00:26:07.930\n2012 R2 and later for the gateway and\nthe ATA center setups.\n\n544\n00:26:07.930 --> 00:26:09.165\nSo just be aware of that.\n\n545\n00:26:09.165 --> 00:26:11.620\nWe have to have time synchronization.\n\n546\n00:26:11.620 --> 00:26:13.660\nShould hopefully be no surprise to you.\n\n547\n00:26:13.660 --> 00:26:15.530\nWe're looking at ADDS traffic.\n\n548\n00:26:15.530 --> 00:26:17.300\nWe're interacting with\nthings like Kerberos.\n\n549\n00:26:17.300 --> 00:26:19.650\nWe need time synchronization around that.\n\n550\n00:26:19.650 --> 00:26:22.710\nShould be standard default\nsynchronization variable.\n\n551\n00:26:22.710 --> 00:26:24.160\nThe delta there is five minutes.\n\n552\n00:26:24.160 --> 00:26:28.350\nWe use the same delta here in the sense\nof saying if we're within five minutes,\n\n553\n00:26:28.350 --> 00:26:29.150\nwe're good.\n\n554\n00:26:29.150 --> 00:26:32.480\nWe have less than five minutes\nof time drift, we're great.\n\n555\n00:26:32.480 --> 00:26:34.370\nWe have more than five minutes,\nwe have a problem.\n\n556\n00:26:34.370 --> 00:26:37.294\nSo why not shoot for\nthat five-minute-or-below barrier?\n\n557\n00:26:37.294 --> 00:26:39.810\nWhat's our favorite protocol for\ntime synchronization?\n\n558\n00:26:39.810 --> 00:26:40.480\n&gt;&gt; NTP.\n\n559\n00:26:40.480 --> 00:26:42.760\n&gt;&gt; NTP and that runs on port?\n\n560\n00:26:44.030 --> 00:26:44.730\n&gt;&gt; No, come on.\n\n561\n00:26:44.730 --> 00:26:47.320\n&gt;&gt; Hold on, hold on\n&gt;&gt; It's like Dr.\n\n562\n00:26:47.320 --> 00:26:51.980\nSeuss, NTP runs on port, starts with a 1.\n\n563\n00:26:51.980 --> 00:26:53.445\n&gt;&gt; 123.\n&gt;&gt; There you go, exactly.\n\n564\n00:26:53.445 --> 00:26:55.070\n&gt;&gt; [LAUGH]\n&gt;&gt; See, so it starts with a 1, all right.\n\n565\n00:26:55.070 --> 00:26:59.060\nSo NTP on port 123, so we've just\ngotta make sure we're thinking about\n\n566\n00:26:59.060 --> 00:27:00.900\neither we have firewall issues there?\n\n567\n00:27:00.900 --> 00:27:02.740\nIs all of that available?\n\n568\n00:27:02.740 --> 00:27:04.500\nDo we have our NTP infrastructure?\n\n569\n00:27:04.500 --> 00:27:06.920\nAre we syncing to our domain controllers?\n\n570\n00:27:06.920 --> 00:27:07.840\nWhich is very common.\n\n571\n00:27:07.840 --> 00:27:10.050\nDo we use an NTP rack mount device?\n\n572\n00:27:10.050 --> 00:27:11.178\nWhich is also very common.\n\n573\n00:27:11.178 --> 00:27:13.120\nSo wanna be thinking about\nthat kind of stuff, right.\n\n574\n00:27:13.120 --> 00:27:17.681\nAnd what that will be,\njust while we're talking.\n\n575\n00:27:23.928 --> 00:27:27.634\nJust putting a note in there so while I'm\ntalking you'll remember it's the user SID,\n\n576\n00:27:27.634 --> 00:27:29.050\nnot the user account name.\n\n577\n00:27:29.050 --> 00:27:31.480\nI can't do bold and underline,\notherwise I would have done that.\n\n578\n00:27:31.480 --> 00:27:33.940\nSo we'll just have that, just so you know.\n\n579\n00:27:33.940 --> 00:27:38.040\nAlso for working on a physical server, for\ninstalling this not in virtual environment\n\n580\n00:27:38.040 --> 00:27:40.180\nbut on a physical server\nto make the gateway,\n\n581\n00:27:40.180 --> 00:27:44.700\nwe have to disable NUMA, right,\nnon-uniform memory access.\n\n582\n00:27:44.700 --> 00:27:48.330\nAnd we have to go in and\ndo that in the BIOS most likely.\n\n583\n00:27:48.330 --> 00:27:50.950\nSo we do have to turn off NUMA support.\n\n584\n00:27:50.950 --> 00:27:53.190\nWe have to disable that in the BIOS.\n\n585\n00:27:53.190 --> 00:27:56.430\nNow, keep in mind, and\nthis is kind of a little quirky thing,\n\n586\n00:27:56.430 --> 00:27:59.730\nyour system may not necessarily call NUMA,\nNUMA.\n\n587\n00:27:59.730 --> 00:28:02.450\nIt may call it Node interleaving.\n\n588\n00:28:02.450 --> 00:28:04.840\nWhich is just what it's sometimes called,\nthat's just the way it is.\n\n589\n00:28:04.840 --> 00:28:09.800\nSo if your host system or\nphysical server does support\n\n590\n00:28:09.800 --> 00:28:13.605\nNUMA which it most likely will these\ndays if it's relatively a new machine.\n\n591\n00:28:13.605 --> 00:28:14.300\n&gt;&gt; Server-grade, yeah.\n\n592\n00:28:14.300 --> 00:28:15.455\n&gt;&gt; Yeah, just it should, but\n\n593\n00:28:15.455 --> 00:28:18.230\njust what I'm saying is NUMA may not\nnecessarily always be called NUMA.\n\n594\n00:28:18.230 --> 00:28:21.032\nA lot of times many vendors call NUMA-\n&gt;&gt; I love how they do that, you know?\n\n595\n00:28:21.032 --> 00:28:23.060\n[LAUGH]\n&gt;&gt; Non-interleaving support.\n\n596\n00:28:23.060 --> 00:28:26.360\nAnd so if you have it or\nif it's called node, I keep saying non.\n\n597\n00:28:26.360 --> 00:28:28.840\nNode interleaving support\nis what I meant to say.\n\n598\n00:28:28.840 --> 00:28:34.060\nSo if you have node interleaving\nsupport in your BIOS,\n\n599\n00:28:34.060 --> 00:28:36.320\nthat is NUMA, it's the same thing.\n\n600\n00:28:36.320 --> 00:28:38.740\nIt's a question of what\na vendor makes use to call it.\n\n601\n00:28:38.740 --> 00:28:41.460\nSo if you're gonna turn off NUMA and\nit's called NUMA,\n\n602\n00:28:41.460 --> 00:28:42.930\n&gt;&gt; That's easy, you go to the bios.\n\n603\n00:28:42.930 --> 00:28:44.510\nYou turn off NUMA support.\n\n604\n00:28:44.510 --> 00:28:47.590\nHowever, if it's called node interleaving,\n\n605\n00:28:47.590 --> 00:28:50.680\nyou must enable node\ninterleaving to turn off NUMA.\n\n606\n00:28:50.680 --> 00:28:51.870\nIt's kinda backwards, right?\n\n607\n00:28:52.960 --> 00:28:56.650\nSo it's just the way it is referred to and\nhow it is specified.\n\n608\n00:28:56.650 --> 00:28:58.620\nSo if you have that issue,\n\n609\n00:28:58.620 --> 00:29:02.060\nmake sure you read the documentation\njust to kinda be clear on that.\n\n610\n00:29:02.060 --> 00:29:04.540\nEnable node interleaving,\nif that's what it's called.\n\n611\n00:29:04.540 --> 00:29:07.120\nThat disables the NUMA\nfunction on the host.\n\n612\n00:29:07.120 --> 00:29:10.167\nIf it is labeled NUMA and\ncalled NUMA for NUMA support,\n\n613\n00:29:10.167 --> 00:29:12.842\ndisable NUMA support,\nhowever you get there.\n\n614\n00:29:12.842 --> 00:29:15.470\nIf it's a physical machine\nyou're installing on,\n\n615\n00:29:15.470 --> 00:29:17.890\njust make sure you\nare aware of that as well.\n\n616\n00:29:17.890 --> 00:29:20.350\nWe talked about 12 R2 or later.\n\n617\n00:29:20.350 --> 00:29:22.760\nJust wanna make sure we're not\nmissing anything else in my notes.\n\n618\n00:29:22.760 --> 00:29:24.800\nWe did the install, got all that.\n\n619\n00:29:24.800 --> 00:29:26.450\nWe configured our gateway.\n\n620\n00:29:26.450 --> 00:29:30.040\nWe went through and\nset all of the information up.\n\n621\n00:29:30.040 --> 00:29:36.104\nPut a token user, and user detection,\ndid our subnets, validating our install.\n\n622\n00:29:36.104 --> 00:29:38.280\nYeah, just I wanted to make sure I\ntalked about the logs for a second.\n\n623\n00:29:38.280 --> 00:29:41.012\nI'm just Scrolling down just to try to\nfigure out if there was anything else I\n\n624\n00:29:41.012 --> 00:29:41.960\nwanted to mention to you.\n\n625\n00:29:41.960 --> 00:29:44.670\nSo if the service for\nany way you saw was cycling for\n\n626\n00:29:44.670 --> 00:29:46.980\na minute because I hadn't put\nin the directory information.\n\n627\n00:29:46.980 --> 00:29:49.610\nI was waiting on it to just stop so\nI could make sure I could go in and\n\n628\n00:29:49.610 --> 00:29:51.320\nI wouldn't get an error\nwhile I was doing that.\n\n629\n00:29:51.320 --> 00:29:54.450\nIf you have a problem with the service\nstarting as you go through and\n\n630\n00:29:54.450 --> 00:29:57.430\nconfigure the gateway you may wanna go in.\n\n631\n00:29:57.430 --> 00:29:58.940\nYou may wanna take a look at the log file.\n\n632\n00:29:58.940 --> 00:30:01.130\nSo let's just go in quickly and\n\n633\n00:30:01.130 --> 00:30:04.250\ntake a look at what that actually\nmay mean here on the gateway.\n\n634\n00:30:04.250 --> 00:30:06.630\nSo let's go into our C drive.\n\n635\n00:30:06.630 --> 00:30:08.730\nLet's go into Program Files.\n\n636\n00:30:08.730 --> 00:30:11.300\nMicrosoft Advanced Threat Analytics.\n\n637\n00:30:11.300 --> 00:30:15.290\nAnd let's go into gateway and\ngo into logs right there.\n\n638\n00:30:15.290 --> 00:30:18.660\nAnd inside again, this is on the gateway,\njust so you know where we are and\n\n639\n00:30:18.660 --> 00:30:19.830\nwhat we're doing.\n\n640\n00:30:19.830 --> 00:30:22.630\nLet's just extend that out really quickly.\n\n641\n00:30:22.630 --> 00:30:24.800\nAnd when we are going in,\n\n642\n00:30:24.800 --> 00:30:30.120\nthe Microsoft.Tri.Gateway errors log file,\nif we have one right there.\n\n643\n00:30:30.120 --> 00:30:33.550\nYou'll see will give us information\nabout a service failure or\n\n644\n00:30:33.550 --> 00:30:36.880\nsome sort of troubleshooting item or\nissue that we may wanna contend with.\n\n645\n00:30:36.880 --> 00:30:41.700\nSo this log would be where we would wanna\ngo to take a look if we have a problem.\n\n646\n00:30:41.700 --> 00:30:44.890\nYou could see the path here on\nthe gateway, program files,\n\n647\n00:30:44.890 --> 00:30:47.530\nMicrosoft Advanced Threat Analytics,\njust for\n\n648\n00:30:47.530 --> 00:30:51.970\nshort Microsoft ATA, gateway,\nand then the log subdirectory.\n\n649\n00:30:51.970 --> 00:30:55.111\nRight, and then in there,\nwe have our Tri.Gateway or\n\n650\n00:30:55.111 --> 00:30:58.540\nMicrosoft.Tri.Gateway errors log,\njust open that up.\n\n651\n00:31:00.018 --> 00:31:04.070\nAnd you could see that we just have\na bunch of information in here that may or\n\n652\n00:31:04.070 --> 00:31:08.060\nmay not be of value to us based on what we\nare trying to troubleshoot and figure out.\n\n653\n00:31:08.060 --> 00:31:11.404\nRight, you see here that this\none was trying to go in and\n\n654\n00:31:11.404 --> 00:31:13.240\ndo the initialization sync.\n\n655\n00:31:14.500 --> 00:31:18.450\nAnd we got some errors associated\nwith that cuz they had not provided\n\n656\n00:31:18.450 --> 00:31:19.560\nthe directory information.\n\n657\n00:31:19.560 --> 00:31:22.340\nAnd the network binding at, we were just\nwaiting on the services that were cycling.\n\n658\n00:31:22.340 --> 00:31:24.710\nI hadn't gone in, clicked on it,\nand actually set it up.\n\n659\n00:31:24.710 --> 00:31:26.230\nSo until we got that all in,\n\n660\n00:31:26.230 --> 00:31:29.120\nwe were getting errors when it\nwas first trying to resolve.\n\n661\n00:31:29.120 --> 00:31:31.050\nAnd we could see the information here.\n\n662\n00:31:31.050 --> 00:31:35.285\nAnd then once that is all set up and\nfinished, everything stabilizes, and\n\n663\n00:31:35.285 --> 00:31:36.475\nwe're fine, right?\n\n664\n00:31:36.475 --> 00:31:39.395\nAnd so like most logs, right,\nwe're going, as you can see here.\n\n665\n00:31:39.395 --> 00:31:43.115\nIf you track the time, right,\ntop-down, in this case, right?\n\n666\n00:31:43.115 --> 00:31:45.077\nWe're going towards to most\nrecent entries, right?\n\n667\n00:31:45.077 --> 00:31:49.661\nSo own here, 1553, 45,\nthis is the last one we actually had occur\n\n668\n00:31:49.661 --> 00:31:53.968\nbefore we actually did the setup and\neverything ran successfully.\n\n669\n00:31:53.968 --> 00:31:57.564\nSo just wanna make sure you're aware\nof where we would go to take a look\n\n670\n00:31:57.564 --> 00:31:58.935\nat this if we had an issue.\n\n671\n00:31:58.935 --> 00:32:01.489\nWas that a wave hello, or\nwere you going to ask me something?\n\n672\n00:32:01.489 --> 00:32:02.586\n&gt;&gt; No, no.\n\n673\n00:32:02.586 --> 00:32:03.940\n&gt;&gt; No, nothing?\n\n674\n00:32:03.940 --> 00:32:04.779\n&gt;&gt; Hi [LAUGH].\n\n675\n00:32:04.779 --> 00:32:06.805\n&gt;&gt; Hi, It's always nice when you say hi.\n\n676\n00:32:06.805 --> 00:32:09.050\nAll right, so we have all that going on.\n\n677\n00:32:09.050 --> 00:32:13.977\nWe did go in and we did talk about\nthe fact with 30 days of run data\n\n678\n00:32:13.977 --> 00:32:17.280\nin there we can start\nto do user analytics.\n\n679\n00:32:17.280 --> 00:32:20.000\nSo we can begin to look\nat behavior analysis and\n\n680\n00:32:20.000 --> 00:32:23.433\nreally get the full value out\nof the product by doing this.\n\n681\n00:32:23.433 --> 00:32:28.740\nIf you remember back when I\ntook you out on the website.\n\n682\n00:32:28.740 --> 00:32:31.250\nI'm just gonna go back here for\na second out to the product website.\n\n683\n00:32:31.250 --> 00:32:32.470\nSo just join me back here.\n\n684\n00:32:32.470 --> 00:32:35.968\nThis is on the Microsoft website outside\nthe demo environment for a minute.\n\n685\n00:32:35.968 --> 00:32:37.575\nI showed you just before we got started,\n\n686\n00:32:37.575 --> 00:32:40.775\nin the last episode as we were gonna\ngo start the set up and I showed you\n\n687\n00:32:40.775 --> 00:32:44.095\nwhere to download the product from,\nI showed you that you can come out here.\n\n688\n00:32:44.095 --> 00:32:47.962\nYou take a look at what's new, learn how\nto simulate and detect an attack, plan and\n\n689\n00:32:47.962 --> 00:32:49.466\ndesign, troubleshoot, etc.\n\n690\n00:32:49.466 --> 00:32:53.296\nThe technical fact is some of the\ndocumentation I was referring to about,\n\n691\n00:32:53.296 --> 00:32:56.880\nhey read that in or capacity planning\ninformation things like that,\n\n692\n00:32:56.880 --> 00:32:57.764\nthe pre-reqs.\n\n693\n00:32:57.764 --> 00:33:00.664\nThe upgrade path have given early\nversion of the product installed,\n\n694\n00:33:00.664 --> 00:33:01.710\nhow to deploy use.\n\n695\n00:33:01.710 --> 00:33:04.949\nAll that's out here online or\nin the documentation.\n\n696\n00:33:04.949 --> 00:33:08.580\nLet's go out and take a look,\nyou see I clicked on Plan and Deploy.\n\n697\n00:33:08.580 --> 00:33:10.135\nHere's our capacity planning.\n\n698\n00:33:10.135 --> 00:33:13.570\nThere's a sizing tool we can\nrun that gives us information.\n\n699\n00:33:13.570 --> 00:33:15.900\nStandard Excel spreadsheet\nthat we often see for\n\n700\n00:33:15.900 --> 00:33:18.260\na lot of these that we can go in and\ntake a look at.\n\n701\n00:33:18.260 --> 00:33:22.868\nYou can see here, we kind of read through\nthe logic of what's in the sizing table.\n\n702\n00:33:22.868 --> 00:33:24.964\nSo you can see some information about it.\n\n703\n00:33:24.964 --> 00:33:27.958\nI use this with customers sometimes\nwhen we set these products up.\n\n704\n00:33:27.958 --> 00:33:31.580\nAnd I've shown you some of these sizing\ntools in some other episodes right?\n\n705\n00:33:31.580 --> 00:33:33.108\nSo we talked about the center sizing and\n\n706\n00:33:33.108 --> 00:33:34.880\nhow we would estimate\nthe amount of traffic.\n\n707\n00:33:34.880 --> 00:33:36.308\n&gt;&gt; The scale out and yep.\n\n708\n00:33:36.308 --> 00:33:37.760\n&gt;&gt; Yeah so all that's here.\n\n709\n00:33:37.760 --> 00:33:41.984\nIt talks about the fact that a maximum of\none million packets per second from all\n\n710\n00:33:41.984 --> 00:33:43.781\nmonitored domain controllers.\n\n711\n00:33:43.781 --> 00:33:47.920\nSo we have to think about what that\nspace and that overhead may look like.\n\n712\n00:33:47.920 --> 00:33:51.145\nRight so we can go through,\nset up the right kind of gateway,\n\n713\n00:33:51.145 --> 00:33:53.753\ngateway versus lightweight\ngateway as we said.\n\n714\n00:33:53.753 --> 00:33:55.865\nWhy are we doing a lightweight gateway,\n\n715\n00:33:55.865 --> 00:33:59.104\ncuz we don't require a dedicated\nserver and port mirroring.\n\n716\n00:33:59.104 --> 00:34:02.029\nSo remember the lightweight gateway can\nbe installed directly on the domain\n\n717\n00:34:02.029 --> 00:34:03.776\ncontroller so\nwe don't have to port mirror.\n\n718\n00:34:03.776 --> 00:34:05.033\nWe could just be bound directly\nto the domain controller.\n\n719\n00:34:05.033 --> 00:34:06.870\n&gt;&gt; Look at that traffic yeah right?\n\n720\n00:34:06.870 --> 00:34:08.800\nSo we install it directly there.\n\n721\n00:34:08.800 --> 00:34:11.710\nWhereas the gateway itself is installed\nalongside the domain controller we\n\n722\n00:34:11.710 --> 00:34:14.660\nport mirrored,\ncuz it's off of the domain controller.\n\n723\n00:34:14.660 --> 00:34:17.630\nBut you'll notice that you\nhave the traffic support for\n\n724\n00:34:17.630 --> 00:34:20.525\nthe lightweight gateway is much smaller\nin terms of the amount of traffic,\n\n725\n00:34:20.525 --> 00:34:22.160\none-fifth the overall amount.\n\n726\n00:34:22.160 --> 00:34:24.700\nSo you do have to just\ntake a look at these, and\n\n727\n00:34:24.700 --> 00:34:27.210\nkinda get a sense of how this will work.\n\n728\n00:34:27.210 --> 00:34:30.640\nRemember we talked about the fact we\ncan virtualize a lot of these products.\n\n729\n00:34:30.640 --> 00:34:33.278\nThey can be virtualized\nas you can see here.\n\n730\n00:34:33.278 --> 00:34:35.934\nAnd they talk about the different\nsizing that I showed you and\n\n731\n00:34:35.934 --> 00:34:37.190\nhow we deal with all that.\n\n732\n00:34:37.190 --> 00:34:43.026\nSo, got some really good documentation,\nthe prereqs I mentioned are here as well.\n\n733\n00:34:43.026 --> 00:34:45.370\nGives us before we start,\nall that kind of stuff.\n\n734\n00:34:45.370 --> 00:34:47.460\nYou can just see all of it right here.\n\n735\n00:34:47.460 --> 00:34:51.910\nRecommended upgrade path how we actually\ndo, we're not worried about the actual\n\n736\n00:34:51.910 --> 00:34:56.470\nupgrade but downloaded install, I'll walk\nyou through that, step by step really nice\n\n737\n00:34:56.470 --> 00:34:59.230\ndocumentation everything we just\ndid in the demo here right?\n\n738\n00:34:59.230 --> 00:35:01.975\nTells you where to get it,\nwhat the requirements may be right?\n\n739\n00:35:01.975 --> 00:35:05.277\nYou'll have to get the data framework\ninstalled you don't already have it that\n\n740\n00:35:05.277 --> 00:35:05.929\nkind of stuff.\n\n741\n00:35:05.929 --> 00:35:08.960\nYeah this should look familiar to\nyou went through all this right?\n\n742\n00:35:08.960 --> 00:35:13.671\nAnd once we get all this done,\ninstallation database path etc.\n\n743\n00:35:13.671 --> 00:35:16.795\nRight, self sign certificates\nwe talked about all that,\n\n744\n00:35:16.795 --> 00:35:19.612\nI mentioned the mongodb\ndatabase as opposed to SQL.\n\n745\n00:35:19.612 --> 00:35:20.178\n&gt;&gt; Right.\n\n746\n00:35:20.178 --> 00:35:24.001\n&gt;&gt; So all of that is available to us,\njust goes through and shows us how to set\n\n747\n00:35:24.001 --> 00:35:28.765\neverything up, set up the gateway, install\nthe gateway, configure the gateway, set up\n\n748\n00:35:28.765 --> 00:35:32.880\nthe vent collection, VPN, exclusions\nfrom honey net, honey token, etc.\n\n749\n00:35:32.880 --> 00:35:35.777\nYou know,\nall the different stuff we talked about.\n\n750\n00:35:35.777 --> 00:35:37.560\nNice screen captures as you can see.\n\n751\n00:35:37.560 --> 00:35:41.120\nSetting up the exclusions for\nthe entries or\n\n752\n00:35:41.120 --> 00:35:44.770\ngoing in and just getting everything\nthat you may want up and running.\n\n753\n00:35:44.770 --> 00:35:48.707\nSo it's really nice, the other thing\nI just wanted to point out here,\n\n754\n00:35:48.707 --> 00:35:50.853\nthe ATA attack simulation playbook.\n\n755\n00:35:50.853 --> 00:35:55.007\nWhich is the link that I just wanted to\nshow you just, click here real quick, and\n\n756\n00:35:55.007 --> 00:35:58.108\nyou'll see here,\nMicrosoft did a nice job of setting up and\n\n757\n00:35:58.108 --> 00:36:00.550\ngiving us kind of a demo\nbuild environment.\n\n758\n00:36:00.550 --> 00:36:01.669\nHey this is what it would look like.\n\n759\n00:36:01.669 --> 00:36:02.480\nThis is what you need to do.\n\n760\n00:36:02.480 --> 00:36:06.031\nYou want to play with the product, this is\nhow you configure your environment, and\n\n761\n00:36:06.031 --> 00:36:08.739\nhow you can then, launch some attacks and\nsee the monitoring.\n\n762\n00:36:08.739 --> 00:36:12.574\nRemember that video that I told you to\nlook at the demo video off the main\n\n763\n00:36:12.574 --> 00:36:15.310\nwebsite from the Microsoft\nmechanic series.\n\n764\n00:36:15.310 --> 00:36:17.550\nWhere you can actually go and\nsee this being done.\n\n765\n00:36:17.550 --> 00:36:20.530\nSo this is a nice way to take\nthe product to the next level.\n\n766\n00:36:20.530 --> 00:36:22.440\nTake what we just did in our walk through.\n\n767\n00:36:22.440 --> 00:36:25.060\nActually generate attack traffic and\nsee the product in action.\n\n768\n00:36:25.060 --> 00:36:28.760\nSo if you want to be able to go in and\ndo that, it's a great little set up here.\n\n769\n00:36:28.760 --> 00:36:32.440\nIt talks about all the different attack\nscenarios that you can monitor for.\n\n770\n00:36:32.440 --> 00:36:34.940\nAs you can see here\nquite a number of them.\n\n771\n00:36:34.940 --> 00:36:38.060\nAnd it shows you how to set up and\nconfigure the lab environment.\n\n772\n00:36:38.060 --> 00:36:40.920\nYou would download the analytics\nedition that we did.\n\n773\n00:36:40.920 --> 00:36:45.170\nThis is built by the way on 1.7,\nremember we just installed 1.8.1.\n\n774\n00:36:45.170 --> 00:36:48.648\nSo a slightly newer build and not that\nthat would change much of anything,\n\n775\n00:36:48.648 --> 00:36:52.144\nit's just that some of the screen\ncaptures may look slightly different.\n\n776\n00:36:52.144 --> 00:36:54.980\nAnd you just want to make sure you\nadjust for that as you go through.\n\n777\n00:36:54.980 --> 00:36:56.876\nBut to give you a nice little scenario,\n\n778\n00:36:56.876 --> 00:37:00.507\ntell you all the servers require to set\nit up, how it should be configured.\n\n779\n00:37:00.507 --> 00:37:04.600\nAnd then the user configuration,\ngot some accounts they build out here,\n\n780\n00:37:04.600 --> 00:37:07.248\nshow you how to set everything up and\nwhat to do.\n\n781\n00:37:07.248 --> 00:37:08.856\nIt's very nice, as I showed you,\n\n782\n00:37:08.856 --> 00:37:12.627\ninstall the different little screen\ncaptures exactly what has to happen where,\n\n783\n00:37:12.627 --> 00:37:15.074\nnice little screen choice there for\ncolor, right?\n\n784\n00:37:15.074 --> 00:37:16.045\n&gt;&gt; Yeah.\n&gt;&gt; Little pink, all right.\n\n785\n00:37:16.045 --> 00:37:19.270\nIt's got your victim pc, all that stuff,\nit's very nice so, I would definitely\n\n786\n00:37:19.270 --> 00:37:22.710\nrecommend that you take a look at this if\nyou wanna get knee deep into the product.\n\n787\n00:37:22.710 --> 00:37:25.420\nWe just really scratched the surface\nhere kind of as an overview.\n\n788\n00:37:25.420 --> 00:37:26.720\nAround the product, how to stand it up,\n\n789\n00:37:26.720 --> 00:37:29.860\nhow to configure it so\nyou have some knowledge necessary for\n\n790\n00:37:29.860 --> 00:37:33.040\nthe exam objectives around this\nparticular product and it's deployment.\n\n791\n00:37:33.040 --> 00:37:35.650\nBut there's a lot more you can\ndo with this as you can see.\n\n792\n00:37:35.650 --> 00:37:38.850\nAnd it may be worth some time for you to\ngo in and actually simulate some attacks,\n\n793\n00:37:38.850 --> 00:37:42.530\nand then set up the monitor so\nyou can see the output of that over time.\n\n794\n00:37:42.530 --> 00:37:46.853\n&gt;&gt; Well, looks like the good news is that\nit's an easy install, easy interface,\n\n795\n00:37:46.853 --> 00:37:48.217\nlots of documentation.\n\n796\n00:37:48.217 --> 00:37:51.231\nBad news,\nattackers don't really have bedtimes, so\n\n797\n00:37:51.231 --> 00:37:54.780\nwe may be getting those notifications\nat all hours of the night.\n\n798\n00:37:54.780 --> 00:37:57.640\nBut hey, that's exactly what\nthis product was designed for.\n\n799\n00:37:57.640 --> 00:37:59.613\nSo thank you for\ntaking the time to show us that, Adam.\n\n800\n00:37:59.613 --> 00:38:00.124\n&gt;&gt; Okay.\n\n801\n00:38:00.124 --> 00:38:01.527\n&gt;&gt; And thank you for\nbeing with us as well.\n\n802\n00:38:01.527 --> 00:38:03.412\nBut we're gonna go ahead and\nsign out for this show.\n\n803\n00:38:03.412 --> 00:38:04.963\nI've been your host, Cherokee Boose.\n\n804\n00:38:04.963 --> 00:38:06.252\n&gt;&gt; I'm Adam Gordon.\n\n805\n00:38:06.252 --> 00:38:08.001\n&gt;&gt; See you next time here at IT Pro TV.\n\n806\n00:38:08.001 --> 00:38:09.229\n&gt;&gt; You wouldn't put your attacker to bed?\n\n807\n00:38:09.229 --> 00:38:10.704\nAnd like, give him a bed time story?\n\n808\n00:38:10.704 --> 00:38:11.823\n&gt;&gt; A bed time story?\n\n809\n00:38:11.823 --> 00:38:12.856\nAn attacker story?\n\n810\n00:38:12.856 --> 00:38:13.628\n&gt;&gt; Yeah attacker story.\n\n811\n00:38:13.628 --> 00:38:14.370\nWith milk and cookies.\n\n812\n00:38:14.370 --> 00:38:16.179\n&gt;&gt; [LAUGH]\n\n813\n00:38:16.179 --> 00:38:22.109\n[MUSIC]\n\n814\n00:38:22.109 --> 00:38:25.669\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "234670492"
        }
      ],
      "title": "Install and Configure Microsoft ATA"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Adam and Cherokee introduce Microsoft Operations Management Suite. Adam explains why one would leverage this tool and in  what type of deployment scenarios would be appropriate.",
          "length": "1522",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-8-1-determine_threat_solution_using_oms-091417.00_25_08_02.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-8-1-determine_threat_solution_using_oms-091417.00_25_08_02.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-8-1-determine_threat_solution_using_oms-091417.00_25_08_02.Still001-sm.jpg",
          "title": "Determine threat solutions using OMS",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:01.559\nWelcome to ITProTV.\n\n2\n00:00:01.559 --> 00:00:02.585\nI'm your host, Don.\n\n3\n00:00:02.585 --> 00:00:08.318\n[CROSSTALK]\n\n4\n00:00:08.318 --> 00:00:11.944\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.944 --> 00:00:15.318\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n6\n00:00:15.318 --> 00:00:17.139\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.139 --> 00:00:20.942\nIn this episode, we'll take\na look at how we can leverage and\n\n8\n00:00:20.942 --> 00:00:23.934\ndetermine threat solutions, utilizing OMS.\n\n9\n00:00:23.934 --> 00:00:27.614\nAnd with this today back in studios we\nhave Microsoft expert Mr. Adam Gordon.\n\n10\n00:00:27.614 --> 00:00:28.478\nHows it going Adam?\n\n11\n00:00:28.478 --> 00:00:29.530\n&gt;&gt; Going well, going good.\n\n12\n00:00:29.530 --> 00:00:30.671\nWhat is OMS?\n\n13\n00:00:30.671 --> 00:00:35.560\n&gt;&gt; Goodness, I knew you're going to ask\nme this, Operations Management Suite.\n\n14\n00:00:35.560 --> 00:00:36.179\n&gt;&gt; Close.\n\n15\n00:00:36.179 --> 00:00:38.270\n&gt;&gt; [LAUGH]\n&gt;&gt; You know why you got that right?\n\n16\n00:00:38.270 --> 00:00:39.720\n&gt;&gt; I do know why I got that right.\n\n17\n00:00:39.720 --> 00:00:42.003\n&gt;&gt; It's all that sugar flowing\nthrough your bloodstream.\n\n18\n00:00:42.003 --> 00:00:47.315\nAll right, Cherokee just pounded a five\ngallon jug of caramel macchiato, was it?\n\n19\n00:00:47.315 --> 00:00:48.851\nOr what the heck was it I bought you,\na white cream?\n\n20\n00:00:48.851 --> 00:00:49.971\n&gt;&gt; White chocolate.\n\n21\n00:00:49.971 --> 00:00:52.426\n&gt;&gt; White chocolate caramel\nmacchiato coffee thing.\n\n22\n00:00:52.426 --> 00:00:53.193\n&gt;&gt; Something.\n&gt;&gt; Anyway,\n\n23\n00:00:53.193 --> 00:00:56.537\nyou're gonna see her running circles\naround me here in about two minutes where\n\n24\n00:00:56.537 --> 00:00:58.782\nI'll restart and\ntalk when all that sugar kicks in.\n\n25\n00:00:58.782 --> 00:01:00.979\nBut yes, Operations Management Suite.\n\n26\n00:01:00.979 --> 00:01:04.894\nReally cool on technology,\nCloud based, part of the user fabric.\n\n27\n00:01:04.894 --> 00:01:08.026\nWe're gonna take a look at it,\ndemo it for you the way we try to do, but\n\n28\n00:01:08.026 --> 00:01:10.190\nactually gonna use it on\na Microsoft platform.\n\n29\n00:01:10.190 --> 00:01:13.459\nYou get a demo account for\nfree and actually get to go in and\n\n30\n00:01:13.459 --> 00:01:17.903\nplay with a fully featured data set that\nis available at Microsoft Host View.\n\n31\n00:01:17.903 --> 00:01:20.485\nSo it's actually kind of a neat way\nto get introduced to the product.\n\n32\n00:01:20.485 --> 00:01:23.177\nWe're gonna take a look at it after we\ndo a quick overview, what's the product,\n\n33\n00:01:23.177 --> 00:01:23.782\nwhy do we need it?\n\n34\n00:01:23.782 --> 00:01:25.894\nWhat's it good for, and\nthen we'll jump in and take a look.\n\n35\n00:01:25.894 --> 00:01:27.473\nSo join me here if you will.\n\n36\n00:01:27.473 --> 00:01:31.217\nLet's just take a look at the overview\nof what this product actually offers us.\n\n37\n00:01:31.217 --> 00:01:35.281\nLet me go to the overview screen before we\ngo to the how do we get the demo screen.\n\n38\n00:01:35.281 --> 00:01:36.247\nSo you could see and\n\n39\n00:01:36.247 --> 00:01:39.277\nthere's some background shots\nof the dashboards in here.\n\n40\n00:01:39.277 --> 00:01:45.005\nI'll show you the live environment\nhere in just a minute.\n\n41\n00:01:45.005 --> 00:01:46.787\nCan actually go in and\nplay around in here,\n\n42\n00:01:46.787 --> 00:01:48.927\nwe got a really cool little\nenvironment to look at.\n\n43\n00:01:48.927 --> 00:01:53.788\nBut the idea behind this technology\nis that we're taking the Ops manager\n\n44\n00:01:53.788 --> 00:01:57.859\nconcepts, the system center Ops manager,\na scam product.\n\n45\n00:01:57.859 --> 00:02:01.990\nWe're putting it up in the Azure fabric,\nposting it, making it available, and\n\n46\n00:02:01.990 --> 00:02:05.714\nthen using it to do a operation based\nmonitoring of our infrastructure.\n\n47\n00:02:05.714 --> 00:02:09.721\nFrom a security standpoint we can\ntake a look at logs and analytics,\n\n48\n00:02:09.721 --> 00:02:11.282\ndo deep dives on the data.\n\n49\n00:02:11.282 --> 00:02:15.448\nBring to bear the business intelligence\ncapabilities of the platform and\n\n50\n00:02:15.448 --> 00:02:19.087\nuse it to find trending and\ninformation maybe hidden patterns.\n\n51\n00:02:19.087 --> 00:02:23.039\nThings that may not be obvious to us but\nare important for us to understand and\n\n52\n00:02:23.039 --> 00:02:23.730\nknow about.\n\n53\n00:02:23.730 --> 00:02:26.926\nSo we can aggregate logs,\nwe'll bring in a sim capabilities,\n\n54\n00:02:26.926 --> 00:02:29.657\nbe able to bring log feeds\nin from different systems.\n\n55\n00:02:29.657 --> 00:02:34.470\nAnd then do the deep dive analysis\non them in addition to just\n\n56\n00:02:34.470 --> 00:02:38.813\ndoing the log thought process and\nthe log analytics.\n\n57\n00:02:38.813 --> 00:02:42.109\nYou'll see we have security and\ncompliance capabilities in here.\n\n58\n00:02:42.109 --> 00:02:46.439\nThreat detection and prevention being\ndone through advanced security filtering.\n\n59\n00:02:46.439 --> 00:02:48.125\nAutomation and control, so\n\n60\n00:02:48.125 --> 00:02:51.789\nthe DevOp software definition\nconcepts are available to us.\n\n61\n00:02:51.789 --> 00:02:55.459\nAnd protection and recovery, data\nprotection through cloud based back up.\n\n62\n00:02:55.459 --> 00:02:59.734\nUsing Azure back up, for instance we can\nleverage that aspect of the platform.\n\n63\n00:02:59.734 --> 00:03:02.447\nI have done some shows and\ntalked a bit about Azure backup.\n\n64\n00:03:02.447 --> 00:03:05.860\nIn some prior episodes, in some\nother areas, you remember that show.\n\n65\n00:03:05.860 --> 00:03:08.964\nThat was cool, we went in and we set up\nAzure back up capability- [CROSSTALK]\n\n66\n00:03:08.964 --> 00:03:10.191\n&gt;&gt; Talking about that.\n\n67\n00:03:10.191 --> 00:03:12.134\n&gt;&gt; Right, and\nthen we went ahead and did that and\n\n68\n00:03:12.134 --> 00:03:14.858\nafter we showed how to do a back up and\ndo a restore on the fabric.\n\n69\n00:03:14.858 --> 00:03:17.439\nSo we've done a lot of\ninteresting things in Azure.\n\n70\n00:03:17.439 --> 00:03:21.433\nWe continue to bring those things in when\nthey're appropriate to our conversations.\n\n71\n00:03:21.433 --> 00:03:23.789\nBut a lot of different ways for\nus to go in and\n\n72\n00:03:23.789 --> 00:03:26.158\nexperience this particular technology.\n\n73\n00:03:26.158 --> 00:03:28.605\nYou actually wanted to say something\nwhile I'm just showing, or\n\n74\n00:03:28.605 --> 00:03:30.407\nI will setup to show\npeople how to login here.\n\n75\n00:03:30.407 --> 00:03:32.533\n&gt;&gt; Yeah,\nthey'll see it whenever you go to setup.\n\n76\n00:03:32.533 --> 00:03:36.400\nBut I was just gonna say that the, and\nit has a really nice I don't know if this\n\n77\n00:03:36.400 --> 00:03:39.317\nthe right word, but\npretty graphical interface there.\n\n78\n00:03:39.317 --> 00:03:43.189\nSo it's a way you can take the information\nand then represent it and easy to present.\n\n79\n00:03:43.189 --> 00:03:45.441\nSo if you- [CROSSTALK]\n&gt;&gt; Easy to use kind of intuitive, right?\n\n80\n00:03:45.441 --> 00:03:46.230\n&gt;&gt; Yeah, yeah.\n\n81\n00:03:46.230 --> 00:03:47.180\n&gt;&gt; Good color schemes.\n\n82\n00:03:47.180 --> 00:03:48.149\nLots of bright, shiny, happy colors.\n\n83\n00:03:48.149 --> 00:03:48.682\n&gt;&gt; It's fine, yeah.\n\n84\n00:03:48.682 --> 00:03:50.049\n[LAUGH].\n\n85\n00:03:50.049 --> 00:03:52.160\n&gt;&gt; Yeah,\nsugar makes the world a better place.\n\n86\n00:03:52.160 --> 00:03:53.851\n&gt;&gt; That's right.\n&gt;&gt; Absolutely, all right, so\n\n87\n00:03:53.851 --> 00:03:56.590\nhow do we get in and how do we take\na look at this, what do we do?\n\n88\n00:03:56.590 --> 00:03:58.870\nSo let's just show you\nquickly what we can do here.\n\n89\n00:03:58.870 --> 00:04:00.622\nLet me just go back to\nthe main landing page.\n\n90\n00:04:00.622 --> 00:04:03.130\nSo when you come in to\nthe Ops Management suite here,\n\n91\n00:04:03.130 --> 00:04:06.208\nyou've just got some basic\noverview information, what is it,\n\n92\n00:04:06.208 --> 00:04:08.895\nwhy do we need it,\nwhat do you want to do with it, right?\n\n93\n00:04:08.895 --> 00:04:12.895\nSo you go down to the bottom here,\ntry for free.\n\n94\n00:04:12.895 --> 00:04:16.991\nAnd what you'll get access to is this\nother landing page I was on a minute ago.\n\n95\n00:04:16.991 --> 00:04:18.540\nYou'll be able to jump in, and\n\n96\n00:04:18.540 --> 00:04:21.813\nif it doesn't render in just a second\nI'll take you over to the other page.\n\n97\n00:04:21.813 --> 00:04:25.610\nBut basically when you do this, yeah, it's\nnot coming so let's just go over here.\n\n98\n00:04:25.610 --> 00:04:29.147\nWhen we do that you get here and\nyou can then go in.\n\n99\n00:04:29.147 --> 00:04:32.491\nYou fill out this little form, I'll just\nerased all the information just to show\n\n100\n00:04:32.491 --> 00:04:34.026\nyou that these fields are required.\n\n101\n00:04:34.026 --> 00:04:35.445\nBut you don't have to have an account.\n\n102\n00:04:35.445 --> 00:04:38.869\nYou don't have to sign up with\nthe existing Azure subscription.\n\n103\n00:04:38.869 --> 00:04:41.353\nYou know how they have the,\nhey, get a free account for\n\n104\n00:04:41.353 --> 00:04:43.195\nAzure with $200 in service credit.\n\n105\n00:04:43.195 --> 00:04:44.639\nWe've been through that with you before.\n\n106\n00:04:44.639 --> 00:04:47.775\nThis is separate,\nyou'll just get a generic demo account.\n\n107\n00:04:47.775 --> 00:04:49.830\nYou don't even have to have\nan Azure account to do this,\n\n108\n00:04:49.830 --> 00:04:50.933\nit's all set up separately.\n\n109\n00:04:50.933 --> 00:04:54.869\nSo here, you'll just fill this in,\nput in your name, your company,\n\n110\n00:04:54.869 --> 00:04:56.149\netc., real simple.\n\n111\n00:04:56.149 --> 00:04:59.508\nChoose which one of the four\nscenarios you want to use and\n\n112\n00:04:59.508 --> 00:05:01.951\ngo through with the prepopulated data.\n\n113\n00:05:01.951 --> 00:05:06.788\nI chose Insight and Analytics just to take\na look at some of the things we could do\n\n114\n00:05:06.788 --> 00:05:09.300\nwith logs, you then just click I Agree.\n\n115\n00:05:09.300 --> 00:05:14.239\nGet started, it asks you and\nprompts you to download a little PDF.\n\n116\n00:05:14.239 --> 00:05:15.732\nYou could see it right there.\n\n117\n00:05:15.732 --> 00:05:18.421\nThat PDF, when you download it,\n\n118\n00:05:18.421 --> 00:05:24.482\n[COUGH] is going to walk you through\nthe experience in the demo environment.\n\n119\n00:05:24.482 --> 00:05:27.612\nLooks like this, there's one of these for\neach of the four scenarios,\n\n120\n00:05:27.612 --> 00:05:29.655\nagain we're just doing\ninside an analytics.\n\n121\n00:05:29.655 --> 00:05:34.375\nIt's set up with the Contoso forest the\none that you often see Microsoft use or\n\n122\n00:05:34.375 --> 00:05:36.850\na data, the ones that are used as a demo.\n\n123\n00:05:36.850 --> 00:05:39.124\nSo Microsoft set this all\nup hosted themselves,\n\n124\n00:05:39.124 --> 00:05:42.846\nyour just essentially giving the access\naccount going to poke around and play.\n\n125\n00:05:42.846 --> 00:05:45.562\nBut they give you a little PDF\nthat tells you what to do, right.\n\n126\n00:05:45.562 --> 00:05:50.248\nSo this is the Ops Manager portal right,\npure HTML file base, you can go in.\n\n127\n00:05:50.248 --> 00:05:53.587\nKinda gives you a little insight into\nwhat's going on there with tiles,\n\n128\n00:05:53.587 --> 00:05:55.842\nshows you how to click,\nwhere to go, what to do.\n\n129\n00:05:55.842 --> 00:05:59.642\nSo you can just scroll through here and\nkinda see how the demo script runs and\n\n130\n00:05:59.642 --> 00:06:03.159\nit's explaining and showing to\nyou the different aspects, right?\n\n131\n00:06:03.159 --> 00:06:05.438\nSo in here I've just gone ahead and\nlogged in.\n\n132\n00:06:05.438 --> 00:06:09.308\nAnd I'm now in the demo environment so\nI wanna spend a couple minutes kinda\n\n133\n00:06:09.308 --> 00:06:12.505\npreviewing, showing you some\nof the capabilities in here.\n\n134\n00:06:12.505 --> 00:06:17.377\nWe can go in you'll see here there's an AD\nassessment area, replication status,.\n\n135\n00:06:17.377 --> 00:06:19.987\nAgent health,\nthe number of agents that are out there.\n\n136\n00:06:19.987 --> 00:06:24.129\nAgents or software based items that\nwe install traditionally in SCOM,\n\n137\n00:06:24.129 --> 00:06:28.490\nSystem Centre Ops Manager to be able to\nput on a machine and monitor from it.\n\n138\n00:06:28.490 --> 00:06:32.565\nSomething a little piece of software\nreturning back information to us, right.\n\n139\n00:06:32.565 --> 00:06:35.781\nWhich agents have become unresponsive\nif how many over how long,\n\n140\n00:06:35.781 --> 00:06:38.475\nprobably four agents that\nare unresponsive, right.\n\n141\n00:06:38.475 --> 00:06:42.951\nWe have Alert Management capabilities, so\nwe're looking at some dashboard tiles that\n\n142\n00:06:42.951 --> 00:06:46.287\ngive us Deep Dive capabilities on\nalerts that have been spawned.\n\n143\n00:06:46.287 --> 00:06:50.245\n12 active alerts, 182 active\nalerts in the last so much time.\n\n144\n00:06:50.245 --> 00:06:53.560\nAlert Management Solution Critical and\nwarning,\n\n145\n00:06:53.560 --> 00:06:56.497\n[COUGH] excuse me anti-malware assessment.\n\n146\n00:06:56.497 --> 00:07:00.754\nWe can take a look at systems and their\nprotection level and threats data, so\n\n147\n00:07:00.754 --> 00:07:02.027\nwe could see all that.\n\n148\n00:07:02.027 --> 00:07:04.999\nWe could see application insights,\nhow much or\n\n149\n00:07:04.999 --> 00:07:08.278\nwhat kind of applications\nbeing used in what areas.\n\n150\n00:07:08.278 --> 00:07:13.318\nAzure activity overall, the article\ncollection services the ASC services.\n\n151\n00:07:13.318 --> 00:07:17.045\nI've mentioned this in one of our\nother episodes, where we talk about\n\n152\n00:07:17.045 --> 00:07:20.783\nadvance auditing and advance\nauditing analytics and capabilities.\n\n153\n00:07:20.783 --> 00:07:24.422\nAnd we talk about linking back\nto system center config manager.\n\n154\n00:07:24.422 --> 00:07:27.860\nAnd the audit services, the audit\ncollection services component there\n\n155\n00:07:27.860 --> 00:07:31.022\nto be able to look at some of the data and\nuse that in different ways.\n\n156\n00:07:31.022 --> 00:07:34.819\nAnd so we can leverage ACS here and\nintegrate this.\n\n157\n00:07:34.819 --> 00:07:35.897\nYeah?\n\n158\n00:07:35.897 --> 00:07:39.884\n&gt;&gt; And it's more than just a pretty\ninterface, we're actually leveraging and\n\n159\n00:07:39.884 --> 00:07:43.459\ngetting a chance to take advantage\nof that mock data that's in here.\n\n160\n00:07:43.459 --> 00:07:48.438\nOtherwise, if we were to go ahead and set\nthis up on our own we might not be able to\n\n161\n00:07:48.438 --> 00:07:52.825\nreally take advantage of utilizing\nthose measurement tools there.\n\n162\n00:07:52.825 --> 00:07:54.411\nWell we do have a nice\ndata set to play with.\n\n163\n00:07:54.411 --> 00:07:55.288\n&gt;&gt; Right.\nIt's already there and\n\n164\n00:07:55.288 --> 00:07:58.375\nwe don't have to wait and configure-\n&gt;&gt; We can see what the capabilities are.\n\n165\n00:07:58.375 --> 00:08:01.490\nReally get a sense of the tool\nwithout having to worry about building\n\n166\n00:08:01.490 --> 00:08:03.722\nall the infrastructure to back\nit as you're talking about.\n\n167\n00:08:03.722 --> 00:08:04.270\nAbsolutely correct.\n\n168\n00:08:04.270 --> 00:08:08.690\nSo, we can take a look here and\njust drilling down consumption usage\n\n169\n00:08:08.690 --> 00:08:11.430\non the platform for\nvarious monitor resources.\n\n170\n00:08:11.430 --> 00:08:13.850\nBy computer, by user right?\n\n171\n00:08:13.850 --> 00:08:15.320\nCustom views.\n\n172\n00:08:15.320 --> 00:08:20.030\nAll the different stuff here,\ndevice health, right disk utilization.\n\n173\n00:08:20.030 --> 00:08:22.600\nSo we've got all of the capabilities here.\n\n174\n00:08:22.600 --> 00:08:26.380\nWe even have a [FOREIGN]\nso\n\n175\n00:08:26.380 --> 00:08:31.210\nI guess we got something in Spanish\nspecifically on this particular one here.\n\n176\n00:08:31.210 --> 00:08:32.100\n&gt;&gt; Okay.\n&gt;&gt; I'm just looking.\n\n177\n00:08:32.100 --> 00:08:33.222\n&gt;&gt; I'm like hm what's that?\n\n178\n00:08:33.222 --> 00:08:34.252\n[LAUGH]\n&gt;&gt; A Linux agent so\n\n179\n00:08:34.252 --> 00:08:35.830\nwe can look at Linux systems right?\n\n180\n00:08:35.830 --> 00:08:41.520\nOperation alerts, memory status, just\nall sorts of stuff as we drill down so\n\n181\n00:08:41.520 --> 00:08:44.020\nthis is really great\nsystem update assessment.\n\n182\n00:08:44.020 --> 00:08:47.290\nLooking at that our SQL Server\nassessment here, right, so\n\n183\n00:08:47.290 --> 00:08:48.640\nwe have all the different stuff.\n\n184\n00:08:48.640 --> 00:08:50.140\nTop usage by CPU.\n\n185\n00:08:50.140 --> 00:08:55.130\nBut let's go up here and\nlet's go and let's drill down\n\n186\n00:08:55.130 --> 00:09:00.160\nup under, let's say here for\nyour activity logs.\n\n187\n00:09:00.160 --> 00:09:02.825\nJust drill into one of the tiles for\na minute just to let this load.\n\n188\n00:09:02.825 --> 00:09:06.475\nSo it takes just a minute depending on the\ndata screen and how large it is to be able\n\n189\n00:09:06.475 --> 00:09:09.255\nto load it up, but\nyou can see here we're able to break down.\n\n190\n00:09:09.255 --> 00:09:09.945\nCan we go full screen?\n\n191\n00:09:09.945 --> 00:09:13.918\nBecause I sitting over a part that is\njust a little bit easier for you to see.\n\n192\n00:09:13.918 --> 00:09:16.587\nYou can see here,\nwe have activity laws broken out,\n\n193\n00:09:16.587 --> 00:09:20.190\nwe have activity log by status, so\nactivity logs grouped by status,\n\n194\n00:09:20.190 --> 00:09:23.728\nresource activity,\nresource with activity resource providers.\n\n195\n00:09:23.728 --> 00:09:26.820\nWe can go drill through\ninto any one of these, and\n\n196\n00:09:26.820 --> 00:09:30.850\ndo a quick log search based\non that parameter, right?\n\n197\n00:09:30.850 --> 00:09:36.280\nAnd then we can go in,\nwe can use here our slicing and\n\n198\n00:09:36.280 --> 00:09:40.970\nour filtering capabilities with some\nof our business intelligence and\n\n199\n00:09:40.970 --> 00:09:44.900\nExcel business service capabilities\nwe see from things like SharePoint,\n\n200\n00:09:44.900 --> 00:09:48.800\nto be able to go in and slice up and dice\nour data, and be able to filter it and\n\n201\n00:09:48.800 --> 00:09:52.980\nreally specifically zero in on what\nwe want to be able to use, we can\n\n202\n00:09:52.980 --> 00:09:57.350\nput this out in chart view, in table view,\nwe can change the different views here.\n\n203\n00:09:57.350 --> 00:10:01.900\nWe can go in,\nclick through into the advanced analytics.\n\n204\n00:10:01.900 --> 00:10:05.250\nI'm not going to log in because I don't\nhave an account tied to this for the demo\n\n205\n00:10:05.250 --> 00:10:10.330\npurposes but I can access advanced log\nin analytics in it's own separate UI.\n\n206\n00:10:10.330 --> 00:10:14.840\nDrill down and be able to pull that up\nhere if i want to just from a simple click\n\n207\n00:10:14.840 --> 00:10:16.000\nright through here.\n\n208\n00:10:16.000 --> 00:10:20.040\nI can go in and\nI can drill into any of this data.\n\n209\n00:10:20.040 --> 00:10:23.490\nI'm just drilling down by using\nessentially a slicer feature to narrowly\n\n210\n00:10:23.490 --> 00:10:27.780\ndefine, and I can see,\nscroll down as we go here.\n\n211\n00:10:27.780 --> 00:10:31.050\nI can see all the different\nactivity by category, all right.\n\n212\n00:10:31.050 --> 00:10:34.820\nAnd you see I can shorten, or\nnarrow, or extend that time, and\n\n213\n00:10:34.820 --> 00:10:40.050\nI can move the fields around, right,\nto be able to see, and filter in on,\n\n214\n00:10:40.050 --> 00:10:44.660\nand look at the specific data that\nI may want to be able to look at.\n\n215\n00:10:44.660 --> 00:10:48.180\nWhether it's resource or\nwhatever the case may be by activity.\n\n216\n00:10:48.180 --> 00:10:50.910\nSo, I can go in do all this,\nI can export here.\n\n217\n00:10:52.450 --> 00:10:54.962\nYou'll see exporting results into Excel.\n\n218\n00:10:54.962 --> 00:10:59.905\nI can easily drop this into a different\nformat and use this you'll see here.\n\n219\n00:10:59.905 --> 00:11:02.395\nI can just go ahead and\nI can save this right off and\n\n220\n00:11:02.395 --> 00:11:05.055\nthen be able to use that if I choose to.\n\n221\n00:11:05.055 --> 00:11:10.985\nI can go back up here into my home\nback to the main score card area and\n\n222\n00:11:10.985 --> 00:11:14.490\nas soon as all the the score\ncards populate as you can see.\n\n223\n00:11:14.490 --> 00:11:19.350\nI can take a look at,\nsomething like our AD Assessment, and\n\n224\n00:11:19.350 --> 00:11:21.670\nget my update on where we are.\n\n225\n00:11:21.670 --> 00:11:25.930\nAvailability and\nBusiness Continuity, Performance and\n\n226\n00:11:25.930 --> 00:11:30.270\nScalability, Upgrade Migration\nCapabilities, Ops and Monitoring, right?\n\n227\n00:11:30.270 --> 00:11:33.560\nJust all this stuff, right,\neverything looks good, right?\n\n228\n00:11:33.560 --> 00:11:37.660\nSo if I have, or upgrade migration and\ndeployment, right?\n\n229\n00:11:37.660 --> 00:11:38.430\nEverything looks good.\n\n230\n00:11:38.430 --> 00:11:40.140\nThere's no issues here.\n\n231\n00:11:40.140 --> 00:11:43.550\nI see here, I do have some items here.\n\n232\n00:11:43.550 --> 00:11:46.030\nAdd subnet definitions in, right?\n\n233\n00:11:46.030 --> 00:11:49.060\nSo I can go in and take a look at any\nof the things that may be here and\n\n234\n00:11:49.060 --> 00:11:51.010\nthings that may require my attention.\n\n235\n00:11:51.010 --> 00:11:52.760\nIt's actually a really nice interface.\n\n236\n00:11:52.760 --> 00:11:58.090\nNow this is the logs and analysis or logs\nand analytics and insight area, right?\n\n237\n00:11:58.090 --> 00:12:01.450\nFrom a security standpoint,\nsomething like anti-malware assessment.\n\n238\n00:12:01.450 --> 00:12:06.010\nSo looking at computers with insufficient\nprotections would be really important for\n\n239\n00:12:06.010 --> 00:12:08.220\nus to be aware of and to drill down on and\n\n240\n00:12:08.220 --> 00:12:12.390\ntake a look at computers with\nanti-malware protection on it, right.\n\n241\n00:12:12.390 --> 00:12:13.730\nNo detected anti-malware,\n\n242\n00:12:13.730 --> 00:12:17.370\nlooks like there are four computers\nhere that don't have protection.\n\n243\n00:12:17.370 --> 00:12:20.410\nThat may be something for\nus to delve into and take a look at.\n\n244\n00:12:20.410 --> 00:12:22.240\nWe get a listing of these computers.\n\n245\n00:12:22.240 --> 00:12:26.200\nSo obviously, exporting this list out\nto Excel, using this to then drive\n\n246\n00:12:26.200 --> 00:12:29.630\nsome sort of remediation would be\nvery valuable for us here, right?\n\n247\n00:12:29.630 --> 00:12:33.370\nSo we get a lot of, they've done a good\njob of putting in the sample data.\n\n248\n00:12:33.370 --> 00:12:35.430\nLet's us drill in and\nfind these things, right?\n\n249\n00:12:35.430 --> 00:12:37.240\nSo we get a lot of different stuff here.\n\n250\n00:12:38.500 --> 00:12:42.070\nThat allows us to take a look and\nplay around, right?\n\n251\n00:12:42.070 --> 00:12:44.740\nSo in addition to all this,\nlet me come out of here.\n\n252\n00:12:46.120 --> 00:12:48.520\nLet's go back over here quickly.\n\n253\n00:12:48.520 --> 00:12:50.580\nLet's change the view here for a minute.\n\n254\n00:12:50.580 --> 00:12:53.880\nI can bring up specific views\nlike just subset for usage.\n\n255\n00:12:53.880 --> 00:12:56.680\nSo I can just filter over here and\nbring up the usage view, right?\n\n256\n00:12:56.680 --> 00:12:59.510\nSo data volume over time,\nusage, things like that.\n\n257\n00:12:59.510 --> 00:13:03.160\nYou will see here I can go in\nlook at solutions gallery so\n\n258\n00:13:03.160 --> 00:13:06.970\nI can see if there are any additional\nplugins or capabilities that I want to add\n\n259\n00:13:06.970 --> 00:13:10.600\nin to the dashboard in terms of applets or\nthings of that nature, right?\n\n260\n00:13:10.600 --> 00:13:14.480\nYou'll see here solution offerings,\ninside analytics.\n\n261\n00:13:14.480 --> 00:13:18.915\nSecurity and compliance, so we can go\ncan in, take a look at the security\n\n262\n00:13:18.915 --> 00:13:23.354\ncompliance information here,\nI didn't load this demo environment but\n\n263\n00:13:23.354 --> 00:13:26.652\nyou can get a sense of the four\nareas we can demo off of.\n\n264\n00:13:26.652 --> 00:13:27.792\nHere I can go in and\n\n265\n00:13:27.792 --> 00:13:32.240\ncreate my own custom dashboard like\nwe often have the ability to do.\n\n266\n00:13:32.240 --> 00:13:36.230\nKind of load that up and put in what I\nmay want there to customize my view as\n\n267\n00:13:36.230 --> 00:13:38.460\na management or security professional.\n\n268\n00:13:38.460 --> 00:13:40.930\nSo I have all these different\ncapabilities here, right?\n\n269\n00:13:40.930 --> 00:13:45.790\nNow if I go in, get out of this,\ninstead of doing inside an analytics,\n\n270\n00:13:45.790 --> 00:13:48.000\nlet's do security and compliance, right?\n\n271\n00:13:48.000 --> 00:13:51.568\nSo if I go in here,\ndo Security and Compliance\n\n272\n00:14:03.621 --> 00:14:05.820\nJust typing in my information.\n\n273\n00:14:08.490 --> 00:14:10.580\n&gt;&gt; No, i was surprised you were\nputting in a legitimate email there.\n\n274\n00:14:10.580 --> 00:14:11.520\nI was wondering if we had a John Doe.\n\n275\n00:14:11.520 --> 00:14:12.080\n&gt;&gt; It's my real email.\n&gt;&gt; Yeah\n\n276\n00:14:12.080 --> 00:14:13.290\n&gt;&gt; Well, people know our email addresses.\n\n277\n00:14:13.290 --> 00:14:14.465\nWe don't have to worry about that.\n\n278\n00:14:14.465 --> 00:14:16.320\n[LAUGH]\n&gt;&gt; I know, but I\"m just like.\n\n279\n00:14:16.320 --> 00:14:17.555\n&gt;&gt; I can put yours in if you like.\n\n280\n00:14:17.555 --> 00:14:19.700\n[LAUGH]\n&gt;&gt; I don't want to get anything.\n\n281\n00:14:19.700 --> 00:14:21.460\n&gt;&gt; You're not going to get anything.\n\n282\n00:14:21.460 --> 00:14:22.350\nNo, you're not going to get anything.\n\n283\n00:14:22.350 --> 00:14:25.060\n&gt;&gt; Okay. [LAUGH] &gt;&gt; You might get\nsomething from some of our viewers, but\n\n284\n00:14:25.060 --> 00:14:26.630\nyou're not going to\n&gt;&gt; From there.\n\n285\n00:14:26.630 --> 00:14:27.210\n&gt;&gt; That's okay.\n&gt;&gt; All right so\n\n286\n00:14:27.210 --> 00:14:30.170\nyou'll see you get a little prompt\njust to download that guide right\n\n287\n00:14:30.170 --> 00:14:31.590\nthat we were talking about.\n\n288\n00:14:31.590 --> 00:14:33.000\nSo you just download that.\n\n289\n00:14:33.000 --> 00:14:33.940\nIt comes down and\n\n290\n00:14:33.940 --> 00:14:36.910\nyou see the minute it does that it\nopens up the analytics for you.\n\n291\n00:14:36.910 --> 00:14:39.860\nYou don't have to create\na special account, log in, and\n\n292\n00:14:39.860 --> 00:14:40.870\ndo all this crazy stuff.\n\n293\n00:14:40.870 --> 00:14:42.810\nJust drops you right in here right?\n\n294\n00:14:42.810 --> 00:14:45.190\nAnd we can just go ahead and\nfocus in whatever we may want to do.\n\n295\n00:14:45.190 --> 00:14:48.130\nIt's the same data set, but\nthen has the ability for\n\n296\n00:14:48.130 --> 00:14:50.540\nus to use some of the security\nspecific features right?\n\n297\n00:14:50.540 --> 00:14:53.530\nIf we wanna take what's kind of all mixed\ntogether into one of them where we have\n\n298\n00:14:53.530 --> 00:14:55.990\nthings like the anti-malware\nassessment and stuff like that.\n\n299\n00:14:55.990 --> 00:14:58.420\nBut specifically, when you get the guide,\n\n300\n00:14:58.420 --> 00:15:03.350\nand you split that down in there,\nyou can see the guide is different.\n\n301\n00:15:03.350 --> 00:15:07.290\nThe inside analytics versus the security\ncompliance guide, little bit different.\n\n302\n00:15:07.290 --> 00:15:13.110\nSo when you wanna see that one, when you\ngo in and take a look, you will see that,\n\n303\n00:15:14.110 --> 00:15:18.940\njust open up the analytics,\nwhere, there we go, right there.\n\n304\n00:15:18.940 --> 00:15:23.140\nSo if you open up the security one,\nit just shows you where to go look at\n\n305\n00:15:23.140 --> 00:15:27.890\nsome of the specific stuff you need to\nsecure, so kind of shows you, right,\n\n306\n00:15:27.890 --> 00:15:31.570\nthings about security can see it's got\na different view, right than the one for\n\n307\n00:15:31.570 --> 00:15:32.890\nthe analytics.\n\n308\n00:15:32.890 --> 00:15:33.510\nYeah, some of this.\n\n309\n00:15:33.510 --> 00:15:34.260\nSo, just you know,\n\n310\n00:15:34.260 --> 00:15:38.350\nhas you kind of drill through,\ntake a look at some of those things.\n\n311\n00:15:38.350 --> 00:15:41.460\nRight, yeah things like\nApplication Insights.\n\n312\n00:15:41.460 --> 00:15:43.470\nShows you where to go in and\ntake a look and\n\n313\n00:15:43.470 --> 00:15:47.090\nit just walks you through the logic of\nhow to look at the different stuff.\n\n314\n00:15:47.090 --> 00:15:50.750\nSo it's a really neat little platform and\ndemo environment to play with.\n\n315\n00:15:50.750 --> 00:15:54.557\nBut the idea behind using\nthe Operations Management Suite online.\n\n316\n00:15:54.557 --> 00:15:57.115\nDoes allow us to go in,\ndrill in the logs and analytics.\n\n317\n00:15:57.115 --> 00:16:01.536\nGo into security compliance, drill\ninto proactive protection remediation\n\n318\n00:16:01.536 --> 00:16:06.240\ncapabilities, and do the same kinda things\nthat System Center Ops Manager does.\n\n319\n00:16:06.240 --> 00:16:10.566\nBut host it as a service in the cloud\nright through Microsoft on the Azure\n\n320\n00:16:10.566 --> 00:16:15.541\nfabric allowing us to get the benefit of\nusing this technology in this platform but\n\n321\n00:16:15.541 --> 00:16:19.670\nto do so without necessarily having\nto own all the infrastructure.\n\n322\n00:16:19.670 --> 00:16:21.716\nI've done extensive\nshows on System Center,\n\n323\n00:16:21.716 --> 00:16:23.663\nboth on the older\nversions of the platform.\n\n324\n00:16:23.663 --> 00:16:25.615\nCherokee did a lot of those shows with me.\n\n325\n00:16:25.615 --> 00:16:28.770\nI've got upcoming shows\non System Center 2016,\n\n326\n00:16:28.770 --> 00:16:31.640\nif you haven't seen those I encourage\nyou to take a look at them, right.\n\n327\n00:16:31.640 --> 00:16:35.760\nSo when we do all that stuff and\nwe can take a look at just\n\n328\n00:16:35.760 --> 00:16:40.125\nthe capabilities of platforms like this\nand extending them out into the cloud.\n\n329\n00:16:40.125 --> 00:16:44.310\nWe just continue to see growth and\nuse on not just the Azure fabric.\n\n330\n00:16:44.310 --> 00:16:47.240\nWe're talking about Microsoft, so clearly\nvery important to call them out and\n\n331\n00:16:47.240 --> 00:16:50.212\nthank them for the ability to do that,\nbut across all the could vendors, right,\n\n332\n00:16:50.212 --> 00:16:51.020\non the Azure fabric.\n\n333\n00:16:51.020 --> 00:16:55.435\nBut in the Amazon web services fabric,\non the VM Ware fabric, and\n\n334\n00:16:55.435 --> 00:16:57.450\nGoogle, whatever it may be.\n\n335\n00:16:57.450 --> 00:17:01.316\nYou've got all these great opportunities\nto leverage these tools to bring to bear,\n\n336\n00:17:01.316 --> 00:17:02.415\nnot just best of breed.\n\n337\n00:17:02.415 --> 00:17:06.891\nBut some of the latest technology with\nregards to anti-malware protection,\n\n338\n00:17:06.891 --> 00:17:11.299\nadvance persistent threat protection,\nreal time monitoring, a log inside\n\n339\n00:17:11.299 --> 00:17:15.950\nan analytics from a SIM perspective,\nsecurity information event management.\n\n340\n00:17:15.950 --> 00:17:17.955\nAll of these capabilities can be used,\n\n341\n00:17:17.955 --> 00:17:20.770\nright, to our benefit on\na platform like this.\n\n342\n00:17:20.770 --> 00:17:22.380\nNow we're remediation.\n\n343\n00:17:22.380 --> 00:17:24.320\nHey, I've got this one\nmachine that's not protected.\n\n344\n00:17:24.320 --> 00:17:25.430\nLet's click through there.\n\n345\n00:17:25.430 --> 00:17:26.660\nLet's get that report.\n\n346\n00:17:26.660 --> 00:17:29.140\nLet's link that to our\nconfiguration channel.\n\n347\n00:17:29.140 --> 00:17:33.010\nAnd let's go ahead and deploy our\nmalware solution to that endpoint and\n\n348\n00:17:33.010 --> 00:17:37.080\nremediate it through either mobile device\nmanagement or configuration management.\n\n349\n00:17:37.080 --> 00:17:40.790\nWhatever the technology is we're using, we\nget the ability to do that in real time.\n\n350\n00:17:40.790 --> 00:17:43.847\nSo this is really the strength and\nthe value of using OMS,\n\n351\n00:17:43.847 --> 00:17:47.270\nthe Operations Management Suite,\nfor this kind of work.\n\n352\n00:17:47.270 --> 00:17:52.200\nVery important part of what we do and how\nwe do it with regards to cloud based and\n\n353\n00:17:52.200 --> 00:17:54.730\nfabric based security management today.\n\n354\n00:17:54.730 --> 00:17:58.560\nReally important for\nus to be able to think about the value and\n\n355\n00:17:58.560 --> 00:18:02.750\nthe capabilities of a tool\nlike this to let us go in and\n\n356\n00:18:02.750 --> 00:18:06.900\nto understand how we can\nleverage this kind of knowledge.\n\n357\n00:18:06.900 --> 00:18:09.580\nAs I'm just looking through the dashboard\nat some of the other stuff we may want to\n\n358\n00:18:09.580 --> 00:18:11.270\ntake a look at for you real quick.\n\n359\n00:18:11.270 --> 00:18:14.920\nHow can we leverage this kind of knowledge\nto our advantage is really what we want to\n\n360\n00:18:14.920 --> 00:18:15.820\nthink about.\n\n361\n00:18:15.820 --> 00:18:19.020\nSo it is really a great solution for us.\n\n362\n00:18:19.020 --> 00:18:23.910\nI was just thinking that we may want\nto take a look at this one down here.\n\n363\n00:18:23.910 --> 00:18:28.110\n&gt;&gt; Definitely an important tool because\nhaving a good idea of your environment and\n\n364\n00:18:28.110 --> 00:18:33.680\nmaintaining it well is gonna help\nprevent many emergent type situations.\n\n365\n00:18:33.680 --> 00:18:37.380\nNow you can't prevent all of those,\nbut you can try, right?\n\n366\n00:18:37.380 --> 00:18:38.800\n&gt;&gt; Well you can't defend all, but\n\n367\n00:18:38.800 --> 00:18:41.070\nyou can certainly take a look\nat the most egregious offenders.\n\n368\n00:18:41.070 --> 00:18:41.670\nLet's put it that way.\n\n369\n00:18:41.670 --> 00:18:44.911\nSo something like your disk usage,\nright, and\n\n370\n00:18:44.911 --> 00:18:49.377\nyou can see here that we do have\nthe capability to be able to trend.\n\n371\n00:18:49.377 --> 00:18:51.110\n&gt;&gt; Yeah, that's trending.\n\n372\n00:18:51.110 --> 00:18:54.366\n&gt;&gt; Right, to drill down and see usage\non one or more of the machines, right,\n\n373\n00:18:54.366 --> 00:18:55.535\nwhatever it may be.\n\n374\n00:18:55.535 --> 00:18:57.420\nRight, this data over time.\n\n375\n00:18:57.420 --> 00:18:59.390\nLet's move that over, right.\n\n376\n00:18:59.390 --> 00:19:01.790\nAnd so, there we go.\n\n377\n00:19:01.790 --> 00:19:02.830\nYup there we go, right?\n\n378\n00:19:02.830 --> 00:19:07.060\nSo I can drill in, take a look at one or\nmore of these machines, and I can see I'm\n\n379\n00:19:07.060 --> 00:19:10.760\ndrilling down into one of the machines,\nright, just to get a better look.\n\n380\n00:19:10.760 --> 00:19:15.510\nWe can see what's going on in this\nusage here and we can go in and\n\n381\n00:19:15.510 --> 00:19:17.430\nget some details as soon as it populates,\n\n382\n00:19:17.430 --> 00:19:20.590\nget some detailed results on this\nusage in this particular area.\n\n383\n00:19:20.590 --> 00:19:24.376\nIt'll take a moment just to kind of list\nout and show us what's going on, right.\n\n384\n00:19:24.376 --> 00:19:28.776\nBut we can go in and we can see, and as I\ndrill down just really get very detailed\n\n385\n00:19:28.776 --> 00:19:33.320\nand very specific about certain aspects\nof performance which may indicate that\n\n386\n00:19:33.320 --> 00:19:36.340\nthere is or is not,\nas you can see it populate there.\n\n387\n00:19:36.340 --> 00:19:41.120\nIs or is not a problem based on\njust remote monitoring of systems.\n\n388\n00:19:41.120 --> 00:19:43.960\nWhen we think about the fact\nthat most of our infrastructure,\n\n389\n00:19:43.960 --> 00:19:46.350\neven if it's running in our\nown environments today and\n\n390\n00:19:46.350 --> 00:19:49.860\nour own data center or data centers\ndepending on where we are and what we do,\n\n391\n00:19:49.860 --> 00:19:53.830\nthat in our environments today we tend\nto have a lot of virtualized instances.\n\n392\n00:19:53.830 --> 00:19:58.200\nWe tend to have a lot of infrastructure\nrunning on smaller numbers of\n\n393\n00:19:58.200 --> 00:20:01.920\nphysical hosts, but much larger\namounts of infrastructure overall.\n\n394\n00:20:01.920 --> 00:20:06.080\nAnd the insight into those virtual\ninstances may be difficult to achieve\n\n395\n00:20:06.080 --> 00:20:08.990\nunless we're using a set\nof tools like this.\n\n396\n00:20:08.990 --> 00:20:11.910\nDoesn't necessarily have to be this,\nbut I'm just pointing out,\n\n397\n00:20:11.910 --> 00:20:15.400\nwe need some sort of configuration and\noperations management capabilities that\n\n398\n00:20:15.400 --> 00:20:18.650\nscale to the enterprise level to get\nthe proper level of monitoring and\n\n399\n00:20:18.650 --> 00:20:23.880\ninsights into the consolidated instances\nwe run in virtualized cloud or host-based\n\n400\n00:20:23.880 --> 00:20:28.390\nenvironments today for the modern data\ncenter, for the modern enterprise.\n\n401\n00:20:28.390 --> 00:20:31.119\nAnd as a result of that,\nif we don't have these capabilities,\n\n402\n00:20:31.119 --> 00:20:34.001\nit's tough to sit at a KVM going\nmachine by machine trying to look at\n\n403\n00:20:34.001 --> 00:20:37.161\nperformance monitor, figuring out\nwhat may be wrong with the machine.\n\n404\n00:20:37.161 --> 00:20:41.114\nI mean just you'll never really get\nthat level of insight and that level of\n\n405\n00:20:41.114 --> 00:20:45.370\nunderstanding and create the linkages\nthat you need to see the patterns at.\n\n406\n00:20:45.370 --> 00:20:49.650\nBecause you're just so far down in\nthe system level you can't really see\n\n407\n00:20:49.650 --> 00:20:52.370\nmore than one or two systems and\nmake sense of them by doing that.\n\n408\n00:20:52.370 --> 00:20:55.030\nWhen you're up at this level-\n&gt;&gt; High level overview.\n\n409\n00:20:55.030 --> 00:20:57.530\n&gt;&gt; You're able to see so\nmuch more and when you combine that\n\n410\n00:20:57.530 --> 00:21:01.580\nwith some of the advance analytics and\nplatform capabilities that a tool like OMS\n\n411\n00:21:01.580 --> 00:21:05.645\noffers us, you really begin to be able to\nsee the scale that we can achieve here.\n\n412\n00:21:05.645 --> 00:21:07.865\nSo great set of tools,\ngreat set of products.\n\n413\n00:21:07.865 --> 00:21:10.965\nMicrosoft, in this case,\ngreat job with the platform.\n\n414\n00:21:10.965 --> 00:21:15.485\nWe appreciate all the work you guys do\nto keep these kind of platforms running.\n\n415\n00:21:15.485 --> 00:21:17.875\nUsing this kind of a platform and\ndeploying it for customers,\n\n416\n00:21:17.875 --> 00:21:21.315\nI can tell you firsthand, it's a great\nset of tools to have at your disposal,\n\n417\n00:21:21.315 --> 00:21:24.525\nboth as security practitioner,\nas an IT professional.\n\n418\n00:21:24.525 --> 00:21:28.750\nBut equally important for you, somebody\nwho may be getting ready to take this exam\n\n419\n00:21:28.750 --> 00:21:30.620\nbecause it is one of the exam objectives.\n\n420\n00:21:30.620 --> 00:21:33.430\nYou've got to have some base\ngeneral knowledge about platform,\n\n421\n00:21:33.430 --> 00:21:36.770\nbase idea of how it works and\nwhat the capabilities are.\n\n422\n00:21:36.770 --> 00:21:39.460\nI gave you some ideas about how to\nget in there and play around with it.\n\n423\n00:21:39.460 --> 00:21:43.434\nIt's free for you to go in and demo,\nno reason for you not to go take a look.\n\n424\n00:21:43.434 --> 00:21:47.670\nAnd just before we break away, just in\naddition to obviously the ability to go\n\n425\n00:21:47.670 --> 00:21:50.330\ndemo here, if you want to join\nme back here for just a minute.\n\n426\n00:21:50.330 --> 00:21:52.880\nSo in addition, obviously,\nto come in, get started, and\n\n427\n00:21:52.880 --> 00:21:56.530\ntake a look,\nyou do have two capabilities here.\n\n428\n00:21:56.530 --> 00:21:59.290\nYou have the ability to be\nable to do this see an action.\n\n429\n00:21:59.290 --> 00:22:02.860\nYou'll go get your free sign up for\nthe account play with live experience.\n\n430\n00:22:02.860 --> 00:22:04.110\nSo that's what I did.\n\n431\n00:22:04.110 --> 00:22:07.118\nIn addition, if you're really looking\nat doing this in the real world,\n\n432\n00:22:07.118 --> 00:22:09.360\nwant to deploy this\npotentially in your business.\n\n433\n00:22:09.360 --> 00:22:11.620\nPut a plug in there, right,\nwhere plugs are due here.\n\n434\n00:22:11.620 --> 00:22:14.530\nYou can actually get a one on one\nwalk-through demo with somebody from\n\n435\n00:22:14.530 --> 00:22:17.150\nMicrosoft who will actually sit there and\nwalk it through with you,\n\n436\n00:22:17.150 --> 00:22:20.390\nset up an environment, let you actually\ngo through and ask questions and\n\n437\n00:22:20.390 --> 00:22:22.740\nconfigure things, and\nexplain the product to you.\n\n438\n00:22:22.740 --> 00:22:26.750\nIt's a one on one pre-populated demo where\nyou have essentially a dedicated person\n\n439\n00:22:26.750 --> 00:22:28.290\nworking with you, right.\n\n440\n00:22:28.290 --> 00:22:29.200\nSo that may be helpful.\n\n441\n00:22:29.200 --> 00:22:32.920\nBut then equally important here, in\nan addition to all this, if you come over\n\n442\n00:22:32.920 --> 00:22:38.630\nhere to the resources area,\nwhat you'll get is you'll see that we do\n\n443\n00:22:38.630 --> 00:22:43.130\nhave access to documentation and a bunch\nof additional stuff that will help you.\n\n444\n00:22:43.130 --> 00:22:46.770\nVideos, right, customer stories more so\nif you're looking to buy,\n\n445\n00:22:46.770 --> 00:22:50.050\nI'm thinking more exam preparation and\nknowledge, right, so documents and\n\n446\n00:22:50.050 --> 00:22:52.430\ndownloads and videos, feature documents.\n\n447\n00:22:52.430 --> 00:22:54.950\nHow do we use this,\nthe data sheet, that kinda thing.\n\n448\n00:22:54.950 --> 00:22:57.140\nBut also here, some real good stuff.\n\n449\n00:22:57.140 --> 00:22:58.650\nOffice Manager Suite on Linux.\n\n450\n00:22:58.650 --> 00:22:59.960\nHow do you deal with it in Linux?\n\n451\n00:22:59.960 --> 00:23:02.055\nThe overview, right, quick start guide,\n\n452\n00:23:02.055 --> 00:23:05.300\nalways good to read those kind of things,\nget some insights for the exam.\n\n453\n00:23:05.300 --> 00:23:07.940\nThe log analytics, mobile app,\n\n454\n00:23:07.940 --> 00:23:12.920\nhybrid data cloud, automation solution\nguides, all this stuff is here.\n\n455\n00:23:12.920 --> 00:23:15.690\nNot to mention the TechNet\nsite specific to OMS,\n\n456\n00:23:15.690 --> 00:23:17.650\nwhich probably has some really\ngood information again.\n\n457\n00:23:17.650 --> 00:23:18.610\n&gt;&gt; Gotta love TechNet.\n\n458\n00:23:18.610 --> 00:23:20.890\n&gt;&gt; Some exam prep and\nthings of that nature, right.\n\n459\n00:23:20.890 --> 00:23:25.342\nSo this is the kind of stuff that when you\nwanna go get the technical documentation\n\n460\n00:23:25.342 --> 00:23:28.287\nthat gives you the answers\non things you need to know,\n\n461\n00:23:28.287 --> 00:23:30.900\njust click through the link here, right.\n\n462\n00:23:30.900 --> 00:23:34.650\nGives us let's get started,\nOMS architecture, how to,\n\n463\n00:23:34.650 --> 00:23:38.010\nthat's all the stuff you always wanna be\nlooking at for exam preparation, right.\n\n464\n00:23:38.010 --> 00:23:41.940\nSo when you go in here and take a look at\nthe OMS architecture, breaks it down for\n\n465\n00:23:41.940 --> 00:23:43.460\nyou by log analytics.\n\n466\n00:23:43.460 --> 00:23:44.900\nKinda shows you the overview,\n\n467\n00:23:44.900 --> 00:23:48.085\nthe automation run book\ncapability with orchestration.\n\n468\n00:23:48.085 --> 00:23:51.080\nThe Azure backup,\nwhich we've talk about in demo and\n\n469\n00:23:51.080 --> 00:23:53.320\nsome other area, Azure data recovery.\n\n470\n00:23:53.320 --> 00:23:57.440\nThese are topics that will come up in\nmultiple exams around the MCSA for\n\n471\n00:23:57.440 --> 00:24:01.000\nServer 16, not just in security,\nnot just in managing identity, but\n\n472\n00:24:01.000 --> 00:24:02.560\nacross storage, networking, and\n\n473\n00:24:02.560 --> 00:24:06.340\nall the other shows and areas that\neither I've done and Cherokee's done.\n\n474\n00:24:06.340 --> 00:24:10.880\nI know Mike did the one on storage and\nthe initial one in the Server 16 series.\n\n475\n00:24:10.880 --> 00:24:12.190\nYou may have seen that one.\n\n476\n00:24:12.190 --> 00:24:14.670\nI'd encourage you to go back and\ntake a look at that one as well.\n\n477\n00:24:14.670 --> 00:24:17.506\nAll that content is going to be\nrelevant to any and all of these areas.\n\n478\n00:24:17.506 --> 00:24:21.980\nSo going through it, taking a look at some\nof these items right in here is gonna give\n\n479\n00:24:21.980 --> 00:24:25.250\nyou a lot of great information to\nhelp you get ready for this exam.\n\n480\n00:24:25.250 --> 00:24:28.550\nSo don't underestimate the value\nof that documentation.\n\n481\n00:24:28.550 --> 00:24:29.450\nEven though we may only spend\n\n482\n00:24:29.450 --> 00:24:33.170\na few minutes talking about one aspect\nof the platform in a specific episode,\n\n483\n00:24:33.170 --> 00:24:38.100\nit's that broader knowledge about the\nentire Azure fabric and capability set for\n\n484\n00:24:38.100 --> 00:24:43.790\nServer 16 that Microsoft looks and is\nlooking to test on in a lot of our exams.\n\n485\n00:24:43.790 --> 00:24:46.960\nSo you wanna make sure you're aware of\nthat and thinking about that as well.\n\n486\n00:24:46.960 --> 00:24:51.500\n&gt;&gt; Well Adam, thank you for sharing\nanother one of your wonderful little\n\n487\n00:24:51.500 --> 00:24:55.380\ngems of a tool here with our\nOperations Management Suite, but\n\n488\n00:24:55.380 --> 00:24:57.190\nI think we're out of time for this show.\n\n489\n00:24:57.190 --> 00:24:58.390\nDo you have any final thoughts?\n\n490\n00:24:58.390 --> 00:24:59.710\nAnything else?\n\n491\n00:24:59.710 --> 00:25:01.145\n&gt;&gt; Drink more coffee.\n\n492\n00:25:01.145 --> 00:25:04.580\n&gt;&gt; [LAUGH] All right ladies and gentlemen,\nthank you for being with us, but\n\n493\n00:25:04.580 --> 00:25:05.660\nwe're gonna go ahead and sign out.\n\n494\n00:25:05.660 --> 00:25:07.083\nI've been your host, Cherokee Boose.\n\n495\n00:25:07.083 --> 00:25:07.857\n&gt;&gt; I'm Adam Gordon.\n\n496\n00:25:07.857 --> 00:25:10.781\n&gt;&gt; See you next time, bye.\n\n497\n00:25:10.781 --> 00:25:16.964\n[MUSIC]\n\n498\n00:25:16.964 --> 00:25:19.942\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "234501979"
        }
      ],
      "title": "Determine Threat Solution Using OMS"
    },
    {
      "episodes": [
        {
          "description": "",
          "length": "2037",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-1-secure_a_virtualization_infrastructure-100517-PGM.00_00_17_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-1-secure_a_virtualization_infrastructure-100517-PGM.00_00_17_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-1-secure_a_virtualization_infrastructure-100517-PGM.00_00_17_09.Still001-sm.jpg",
          "title": "Secure a Virtualization Infrastructure pt1",
          "transcript": "",
          "vimeoId": "237451666"
        },
        {
          "description": "",
          "length": "2023",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-2-secure_a_virtualization_infrastructure_pt2-100517.00_33_30_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-2-secure_a_virtualization_infrastructure_pt2-100517.00_33_30_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-2-secure_a_virtualization_infrastructure_pt2-100517.00_33_30_14.Still001-sm.jpg",
          "title": "Secure a Virtualization Infrastructure Pt2",
          "transcript": "WEBVTT\n\n1\n00:00:00.210 --> 00:00:04.444\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:04.444 --> 00:00:05.279\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:05.279 --> 00:00:06.918\n[MUSIC]\n\n4\n00:00:06.918 --> 00:00:12.420\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.420 --> 00:00:15.174\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n6\n00:00:15.174 --> 00:00:17.284\nI'm your host Mike Roderick, and\n\n7\n00:00:17.284 --> 00:00:21.620\ntoday we're going to be doing our\nsecuring Windows server 2016.\n\n8\n00:00:21.620 --> 00:00:23.880\nGetting ready for\nthat good old 70-744 exam.\n\n9\n00:00:23.880 --> 00:00:25.608\nAnd in particular in this topic,\n\n10\n00:00:25.608 --> 00:00:29.386\nwe're gonna be talking about secure\nvirtualization infrastructure.\n\n11\n00:00:29.386 --> 00:00:31.110\nNow this is part two.\n\n12\n00:00:31.110 --> 00:00:33.428\nWe've already started this conversation,\n\n13\n00:00:33.428 --> 00:00:37.460\ngot comes on that foundational knowledge\nand some terminology out of the way.\n\n14\n00:00:37.460 --> 00:00:39.260\nAnd some of the initial setup.\n\n15\n00:00:39.260 --> 00:00:42.020\nBut Adam is here with us today again,\nas always and\n\n16\n00:00:42.020 --> 00:00:44.230\nhe's going to walk us\nthrough this process.\n\n17\n00:00:44.230 --> 00:00:46.350\nSo welcome back, Adam.\n\n18\n00:00:46.350 --> 00:00:47.950\nYes, it's better than running, right?\n\n19\n00:00:47.950 --> 00:00:50.895\nWe wanna walk, nice leisurely pace,\nso we can understand.\n\n20\n00:00:50.895 --> 00:00:53.531\n[LAUGH]\n&gt;&gt; Ran off the side of the screen.\n\n21\n00:00:53.531 --> 00:00:55.017\n[LAUGH]\n&gt;&gt; We're gonna pick back up where\n\n22\n00:00:55.017 --> 00:00:55.630\nwe left off.\n\n23\n00:00:55.630 --> 00:01:00.540\nWe had just gone through and\ntalked about how to stand up if you will,\n\n24\n00:01:00.540 --> 00:01:02.540\nto the initial parts\nof the initialization.\n\n25\n00:01:02.540 --> 00:01:06.781\nHaven't done configuration yet but\nwe used both the gooey interface and\n\n26\n00:01:06.781 --> 00:01:09.978\nserver manager to instantiate and\njust put the role for\n\n27\n00:01:09.978 --> 00:01:12.432\nHGS as guardian server rather out there.\n\n28\n00:01:12.432 --> 00:01:17.053\nAnd then we went through,\nbegan to use PowerShell\n\n29\n00:01:17.053 --> 00:01:21.130\nto do the installation and configuration.\n\n30\n00:01:21.130 --> 00:01:24.300\nStep one was really setting up\nthe new AD forest and domain and\n\n31\n00:01:24.300 --> 00:01:27.350\njoining our machine that's\nthe HGS host to it.\n\n32\n00:01:27.350 --> 00:01:29.410\nWe left off there, we came back and\n\n33\n00:01:29.410 --> 00:01:32.650\nnow we said first we wanna do this deal\nwith the whole certificate infrastructure.\n\n34\n00:01:32.650 --> 00:01:33.580\nPKI issue, so\n\n35\n00:01:33.580 --> 00:01:37.520\nwe're gonna talk about that, make sure we\nunderstand what our options are there.\n\n36\n00:01:37.520 --> 00:01:40.921\nWe could do self signed certificates,\nalthough I truly only recommend it for\n\n37\n00:01:40.921 --> 00:01:43.293\ntest environments just to\nset something up quickly.\n\n38\n00:01:43.293 --> 00:01:48.250\nYou can use PowerShell to issue those\nself signed certificate if you want to,\n\n39\n00:01:48.250 --> 00:01:52.000\nbut it's a little complex to\nget them done from there.\n\n40\n00:01:52.000 --> 00:01:56.650\nIt may be easier, you could do\nthe new self signed certificate,\n\n41\n00:01:56.650 --> 00:02:00.400\nnew stash self signed certificate cmdlet,\nand\n\n42\n00:02:00.400 --> 00:02:03.020\nthen export self signed certificate\ncmdlets if you wanna do them.\n\n43\n00:02:03.020 --> 00:02:05.380\nI should actually tell you\nwhat the [LAUGH] cmdlets are.\n\n44\n00:02:05.380 --> 00:02:06.100\n&gt;&gt; [LAUGH]\n&gt;&gt; If I say you could do\n\n45\n00:02:06.100 --> 00:02:08.150\nit without telling you what they are,\nit doesn't make a lot of sense.\n\n46\n00:02:08.150 --> 00:02:10.860\nSo, you could do it from\nthere if you wanted to.\n\n47\n00:02:10.860 --> 00:02:12.990\nIf you're not familiar with it,\nlittle bit tricky.\n\n48\n00:02:12.990 --> 00:02:16.230\nNot hard, but it's just a lot of\nsyntax in terms of the parameters.\n\n49\n00:02:16.230 --> 00:02:17.470\nYou gotta specify.\n\n50\n00:02:17.470 --> 00:02:18.776\n&gt;&gt; Required information for the,\n&gt;&gt; [CROSSTALK]\n\n51\n00:02:18.776 --> 00:02:20.674\n&gt;&gt; And just also the minimum requirements\n\n52\n00:02:20.674 --> 00:02:22.630\nin terms of the encryption levels.\n\n53\n00:02:22.630 --> 00:02:23.840\nI'll talk about that in just a minute.\n\n54\n00:02:23.840 --> 00:02:27.369\nYou need a certain level of RSA 2,048 bit,\nSHA 256, that kind of thing.\n\n55\n00:02:27.369 --> 00:02:30.870\nSo you've gotta go, and\nthere's just a lot to specify.\n\n56\n00:02:30.870 --> 00:02:33.940\nIf you do it from PowerShell,\njust do the help, get help,\n\n57\n00:02:33.940 --> 00:02:36.110\nnew self signed certificate\nthat kind of thing.\n\n58\n00:02:36.110 --> 00:02:38.400\nDo full or detailed,\ncuz there's about seven or\n\n59\n00:02:38.400 --> 00:02:40.450\neight different things\nyou've gotta look for.\n\n60\n00:02:40.450 --> 00:02:42.800\nThe documentation's a little sparse.\n\n61\n00:02:42.800 --> 00:02:46.500\nOn that whole hey, do the self signed\ncertificate thing which you need.\n\n62\n00:02:46.500 --> 00:02:49.000\nSo it's a little bit of a challenge but\n\n63\n00:02:49.000 --> 00:02:50.310\nyou certainly get to do\nit there if you want to.\n\n64\n00:02:50.310 --> 00:02:52.350\nBut again, only recommended,\n\n65\n00:02:52.350 --> 00:02:54.820\nonly recommended if you\nare gonna set up a quick\n\n66\n00:02:54.820 --> 00:02:58.070\nkind of scratch lab environment that\nyou wanna play around with little bit.\n\n67\n00:02:58.070 --> 00:03:01.380\nI personally would recommend even if you\nare doing just doing a lab environment\n\n68\n00:03:01.380 --> 00:03:04.430\nthat you do a full blown AD CS install and\n\n69\n00:03:04.430 --> 00:03:07.590\nthen issue the certificates\nusing the template manager.\n\n70\n00:03:07.590 --> 00:03:08.830\nIt makes things a lot easier.\n\n71\n00:03:08.830 --> 00:03:11.120\nYou're gonna see why here over\nthe next couple of minutes.\n\n72\n00:03:11.120 --> 00:03:14.190\nI'll let you decide when we're done\nwalking through the configuration.\n\n73\n00:03:14.190 --> 00:03:17.680\nBut I think you'll see based on the amount\nof work we gotta do, even in AD CS.\n\n74\n00:03:17.680 --> 00:03:20.783\nIt may be easier just to stand up\na quick throw away PKI environment and\n\n75\n00:03:20.783 --> 00:03:22.023\nget the certificates out.\n\n76\n00:03:22.023 --> 00:03:25.456\nAnd then if you're not gonna do anything\nother than just have a lab environment\n\n77\n00:03:25.456 --> 00:03:27.016\nthen at least you have a CS install,\n\n78\n00:03:27.016 --> 00:03:29.530\nyou can play with do other\nstuff if you want to right?\n\n79\n00:03:29.530 --> 00:03:32.910\nIf not, hey there's never such\na thing as too much brackets, right?\n\n80\n00:03:32.910 --> 00:03:37.140\n&gt;&gt; Absolutely and like you say,\nit's really gonna be a more real world\n\n81\n00:03:37.140 --> 00:03:39.780\npractice if I'm using-\n&gt;&gt; It will cuz what you're\n\n82\n00:03:39.780 --> 00:03:40.570\ngonna have to do on role.\n\n83\n00:03:40.570 --> 00:03:41.970\n&gt;&gt; Cuz you're gonna modify templates and\n\n84\n00:03:41.970 --> 00:03:44.620\nthings like that which you're not doing\nwhen you're doing the self signed.\n\n85\n00:03:44.620 --> 00:03:46.620\nSo, we're kinda missing half the picture.\n\n86\n00:03:46.620 --> 00:03:49.670\n&gt;&gt; You are, and in this case it's\nactually a fairly significant amount.\n\n87\n00:03:49.670 --> 00:03:52.200\nSo but again, you'll be the judge\nhere in the next couple of minutes.\n\n88\n00:03:52.200 --> 00:03:56.260\nAll right, so I'm not gonna bother walking\nyou through the installation of AD CS, so\n\n89\n00:03:56.260 --> 00:03:59.030\nyou can see me do that in other\nepisodes and other areas.\n\n90\n00:03:59.030 --> 00:04:00.180\nIt's already been done,\n\n91\n00:04:00.180 --> 00:04:02.810\nI'm just gonna quickly give you a couple\nof the highlights that have to happen\n\n92\n00:04:02.810 --> 00:04:05.600\nbefore we go to the management console and\ntalk about what to do next.\n\n93\n00:04:05.600 --> 00:04:07.140\nWhen you're installing AD CS,\nit is a role,\n\n94\n00:04:07.140 --> 00:04:11.230\nso you will go into server manager,\nmanage, you would choose AD CS,\n\n95\n00:04:11.230 --> 00:04:14.460\ntop of the list, has a bunch of\nadditional supporting elements.\n\n96\n00:04:14.460 --> 00:04:19.230\nYou choose those, the RSAT tools as Mike\nis often fond of reminding us about web\n\n97\n00:04:19.230 --> 00:04:25.140\nservices for the certificate enrollment,\ncertificate authority web enrollment, etc.\n\n98\n00:04:25.140 --> 00:04:30.422\nBut we need AD CS, the certification\nauthority and the web enrollment.\n\n99\n00:04:30.422 --> 00:04:32.600\nSo just the authority for\nweb enrollment CA and\n\n100\n00:04:32.600 --> 00:04:35.000\nCA web enrollment Those\nare the two that are required.\n\n101\n00:04:35.000 --> 00:04:37.620\nIt's about six objects,\ndo online responder.\n\n102\n00:04:37.620 --> 00:04:40.530\n&gt;&gt; Yeah, yeah.\n&gt;&gt; Web roman policy, all the other stuff.\n\n103\n00:04:40.530 --> 00:04:41.310\nYou don't need any of that.\n\n104\n00:04:41.310 --> 00:04:44.600\nYou need the CA and\nthe CA web enrollment, right?\n\n105\n00:04:44.600 --> 00:04:45.367\nSo just making sure you know that.\n\n106\n00:04:45.367 --> 00:04:47.068\nAnd then once you've done that,\n\n107\n00:04:47.068 --> 00:04:51.110\nyou get the associated supported tools\nlike I was suggesting, all that.\n\n108\n00:04:51.110 --> 00:04:56.400\nThen just the note that I wanted to give\nyou on a specific minimum requirements.\n\n109\n00:04:56.400 --> 00:04:58.180\nWe're gonna do a root CA by the way.\n\n110\n00:04:58.180 --> 00:05:00.800\nSo enterprise root CA,\nas you walk through.\n\n111\n00:05:00.800 --> 00:05:02.240\nProvide your credentials.\n\n112\n00:05:02.240 --> 00:05:05.484\nYou're gonna create a new private key,\npretty standard as you walk through.\n\n113\n00:05:05.484 --> 00:05:10.565\nNow when you do this on server 16, the\ndefault in the interface should read like,\n\n114\n00:05:10.565 --> 00:05:15.283\nI'm about to explain then to you but for\nsomewhat reason, it could be based on\n\n115\n00:05:15.283 --> 00:05:19.445\nthe change on the infrastructure\nbecause Microsoft is against it.\n\n116\n00:05:19.445 --> 00:05:24.374\nOr because for some reason you didn't just\nsee them that way just pay attention to\n\n117\n00:05:24.374 --> 00:05:28.289\nwhat I'm about to tell you but\nthe defaults that are there should\n\n118\n00:05:28.289 --> 00:05:31.740\nbe enough but\nthe defaults are we get to the screen.\n\n119\n00:05:31.740 --> 00:05:36.470\nIt is, under the private key,\ncryptography screen just so\n\n120\n00:05:36.470 --> 00:05:38.490\nyou know which one I'm talking about.\n\n121\n00:05:38.490 --> 00:05:40.920\nUnder selected cryptographic provider,\n\n122\n00:05:40.920 --> 00:05:45.290\nthe default should be\nRSA#Microsoft Key Storage Provider.\n\n123\n00:05:45.290 --> 00:05:48.730\nIn other words, use the RSA provider,\nshould already be selected but\n\n124\n00:05:48.730 --> 00:05:50.240\njust double check that it is.\n\n125\n00:05:50.240 --> 00:05:52.786\nIt should be, for key length,\n2,048 bits again.\n\n126\n00:05:52.786 --> 00:05:56.150\nIt should be by default,\nbut check that it is.\n\n127\n00:05:56.150 --> 00:06:01.700\nAnd for select the hash algorithm for\nsigning certificate issued by the CA,\n\n128\n00:06:01.700 --> 00:06:06.570\nshy256 again our default currently\nin server 16, should be selected but\n\n129\n00:06:06.570 --> 00:06:07.940\ncheck that it is.\n\n130\n00:06:07.940 --> 00:06:11.590\nYou need these requirements, in order\nto make the signing certificate and\n\n131\n00:06:11.590 --> 00:06:13.080\nencryption certificate worked.\n\n132\n00:06:13.080 --> 00:06:17.500\nMeaning, if you chose something different,\ndidn't have the right key length and or\n\n133\n00:06:17.500 --> 00:06:21.600\nsigning algorithm, the certificates will\nnot be used for HGS, they will not work.\n\n134\n00:06:21.600 --> 00:06:24.920\nAnd your installation will fail,\nand you will have a problem.\n\n135\n00:06:24.920 --> 00:06:27.580\nSo just make sure you are aware of that.\n\n136\n00:06:27.580 --> 00:06:31.267\nOtherwise, things can quickly\ngo sideways here, right?\n\n137\n00:06:31.267 --> 00:06:32.601\n&gt;&gt; [LAUGH]\n&gt;&gt; So you just wanna make sure you're\n\n138\n00:06:32.601 --> 00:06:34.250\naware of that because I'm not\ngonna show you those things.\n\n139\n00:06:34.250 --> 00:06:35.230\nI've already done that.\n\n140\n00:06:35.230 --> 00:06:37.632\nI just wanted to make sure we took a note\non that and you are aware of that.\n\n141\n00:06:37.632 --> 00:06:42.940\nAll right, so we've installed Aad\nconfigure the beginnings of AD CS.\n\n142\n00:06:42.940 --> 00:06:45.950\nJoin me here, let's now take\na look at what we actually do.\n\n143\n00:06:45.950 --> 00:06:48.490\nSo let's assume AD CS is installed.\n\n144\n00:06:48.490 --> 00:06:53.590\nWe go to Tools, we go over here to\nCertification Authority to open up the CA.\n\n145\n00:06:53.590 --> 00:06:55.280\nLet's pretend I've already done that.\n\n146\n00:06:55.280 --> 00:06:57.850\nAnd just clicked which I did and\nwe come here.\n\n147\n00:06:57.850 --> 00:07:01.090\nHopefully this looks familiar to you,\nif it doesn't no big deal, right?\n\n148\n00:07:01.090 --> 00:07:02.980\nWe've done lots of other\nepisodes on AD CS,\n\n149\n00:07:02.980 --> 00:07:05.220\nyou've heard me reference\nthem in other areas.\n\n150\n00:07:05.220 --> 00:07:07.945\nGo back take a look at this walk through,\nwhat all this stuff,\n\n151\n00:07:07.945 --> 00:07:10.525\nhow it works and\nmake sure you're comfortable with it.\n\n152\n00:07:10.525 --> 00:07:13.007\nI'm not going to do that\nwhole conversation here.\n\n153\n00:07:13.007 --> 00:07:15.543\nI'm gonna assume you already\nknow all about this.\n\n154\n00:07:15.543 --> 00:07:17.375\nWe're just gonna jump right in and\n\n155\n00:07:17.375 --> 00:07:19.935\ntalk about some things that\nhopefully will make sense to you.\n\n156\n00:07:19.935 --> 00:07:22.045\nIf they don't, great as I said.\n\n157\n00:07:22.045 --> 00:07:24.035\nOpportunity for\nyou to put us on hold here.\n\n158\n00:07:24.035 --> 00:07:25.725\nGo do a little background research,\n\n159\n00:07:25.725 --> 00:07:28.743\nlittle bit more about AD CS\nin another set of episodes.\n\n160\n00:07:28.743 --> 00:07:31.515\nAnd then just pick us up right back\nright where we're leaving off here and\n\n161\n00:07:31.515 --> 00:07:32.813\nit'll make a lot more sense to you.\n\n162\n00:07:32.813 --> 00:07:34.020\nOkay, all right.\n\n163\n00:07:34.020 --> 00:07:38.520\nSo having said that, I'm down on\nthe Certificate Templates directory folder\n\n164\n00:07:38.520 --> 00:07:44.380\nover here under my root CA instance\ncalled itprotvplabsc01ca and\n\n165\n00:07:44.380 --> 00:07:46.245\nthe name of my machine, right?\n\n166\n00:07:46.245 --> 00:07:47.519\nAnd the name of my domain.\n\n167\n00:07:47.519 --> 00:07:51.757\nNow, normally, all of the templates\nthat are here with the exception of\n\n168\n00:07:51.757 --> 00:07:55.727\nthis one called HGS Certificates\nwill be there by default, right?\n\n169\n00:07:55.727 --> 00:07:59.525\nIn other words, these are the ten or so,\n12 templates that exist automatically.\n\n170\n00:07:59.525 --> 00:08:03.312\nBut that HDS certificate template is\nnot gonna be there by default, right?\n\n171\n00:08:03.312 --> 00:08:05.565\nIf it is in your world well.\n\n172\n00:08:05.565 --> 00:08:07.130\n[LAUGH]\n&gt;&gt; Lucky you.\n\n173\n00:08:07.130 --> 00:08:10.340\n&gt;&gt; Lucky you, right, but\nnormally it's not gonna be.\n\n174\n00:08:11.350 --> 00:08:13.020\nSo you have to create it.\n\n175\n00:08:13.020 --> 00:08:18.410\nNow the good news is, it is gonna simply\nbe a matter of modifying an existing\n\n176\n00:08:18.410 --> 00:08:23.220\ntemplate and then issuing it another\na new quote unquote name and function.\n\n177\n00:08:23.220 --> 00:08:25.700\nBut, it's a little more\ninvolved than just that, right?\n\n178\n00:08:25.700 --> 00:08:28.260\nSo we have to go and make a few changes\nto that template when we modify it.\n\n179\n00:08:28.260 --> 00:08:30.310\nSo how we do that is the following.\n\n180\n00:08:30.310 --> 00:08:33.519\nTo load and get to\nthe Manage Certificate Templates console,\n\n181\n00:08:33.519 --> 00:08:35.627\nbecause it's different than this one.\n\n182\n00:08:35.627 --> 00:08:40.755\nRight, we're gonna right-click on\nthe certificate template item and Manage.\n\n183\n00:08:40.755 --> 00:08:42.525\nOpens a separate console window for\n\n184\n00:08:42.525 --> 00:08:45.075\nus right here,\nthe Certificates Template console.\n\n185\n00:08:45.075 --> 00:08:47.015\nAnd we've got, I don't know, about 35,\n\n186\n00:08:47.015 --> 00:08:49.095\n40 some odd templates\nthat are available to us.\n\n187\n00:08:49.095 --> 00:08:50.865\nThese are all preloaded, by the way.\n\n188\n00:08:50.865 --> 00:08:53.815\nYou make an enterprise root CA.\n\n189\n00:08:53.815 --> 00:08:57.190\nYou have these templates\nif you do a standalone CA.\n\n190\n00:08:57.190 --> 00:08:59.670\nYou don't have templates,\nthat's one of the key differences, right,\n\n191\n00:08:59.670 --> 00:09:01.410\nbetween enterprise and standalone.\n\n192\n00:09:01.410 --> 00:09:05.245\nSo clearly, making the right\nchoice here would be important.\n\n193\n00:09:05.245 --> 00:09:06.770\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so remember,\n\n194\n00:09:06.770 --> 00:09:09.630\nwe've installed this after we've\ncreated the brand new forest and\n\n195\n00:09:09.630 --> 00:09:11.860\ndomain to support it for the HDS service.\n\n196\n00:09:11.860 --> 00:09:17.440\nI'm installing and\nusing the ADCS role on same machine\n\n197\n00:09:17.440 --> 00:09:22.640\nthat I made the forest root and in my demo\nenvironment, I also make him the HDS host.\n\n198\n00:09:22.640 --> 00:09:24.800\nSo I'm doing these all on one machine.\n\n199\n00:09:24.800 --> 00:09:27.560\nYou may decide to break\nout the ADCS function,\n\n200\n00:09:27.560 --> 00:09:31.650\nput it on a separate machine\nfrom your HDS hosts, right?\n\n201\n00:09:31.650 --> 00:09:33.740\nAnd that's probably not a bad idea.\n\n202\n00:09:33.740 --> 00:09:35.500\nBut that's up to you to decide.\n\n203\n00:09:35.500 --> 00:09:37.620\nIn my environment here we're just\nwalking through this all in one.\n\n204\n00:09:37.620 --> 00:09:40.370\nAll right so having said that,\nI come in here,\n\n205\n00:09:40.370 --> 00:09:43.895\nwhat I'm gonna do is go to the computer\ntemplate, which is what I did.\n\n206\n00:09:43.895 --> 00:09:49.570\nRight-click Duplicate Template,\nto make a copy of the existing template,\n\n207\n00:09:49.570 --> 00:09:52.760\nbecause it is a version one,\nor, excuse me, version three.\n\n208\n00:09:52.760 --> 00:09:56.620\nTry that again, version five\ntemplate you can see right there,\n\n209\n00:09:56.620 --> 00:09:59.300\nversion 5.1 template, right?\n\n210\n00:09:59.300 --> 00:10:01.350\nSo I could duplicate this,\nand when I duplicate it,\n\n211\n00:10:01.350 --> 00:10:05.170\nI can essentially edit it, and\ndo whatever I need to do with it.\n\n212\n00:10:05.170 --> 00:10:07.410\nSo, [COUGH] I'm gonna duplicate it.\n\n213\n00:10:07.410 --> 00:10:13.490\nAnd then, when I did that, let me just\nscroll down here so you can see it.\n\n214\n00:10:13.490 --> 00:10:15.510\nThere it is, right there.\n\n215\n00:10:15.510 --> 00:10:20.600\nSo I am gonna edit and\njust look at the changes that I made\n\n216\n00:10:20.600 --> 00:10:23.730\nhere on this one, but\nI'll talk to you about what I did.\n\n217\n00:10:23.730 --> 00:10:26.540\nSo I came in and first thing that I\ndid is of course change the name from\n\n218\n00:10:26.540 --> 00:10:29.650\ncomputer to HDS certificate,\nso that's why it's named that.\n\n219\n00:10:29.650 --> 00:10:33.505\nI then changed the validity period here\nfrom one year which is the default on\n\n220\n00:10:33.505 --> 00:10:34.745\nthe computer certificate.\n\n221\n00:10:34.745 --> 00:10:36.685\nIt's hard to see but\nit's set to three years.\n\n222\n00:10:36.685 --> 00:10:38.095\nYou can kinda see it there.\n\n223\n00:10:38.095 --> 00:10:39.765\nThat validity period is random and\n\n224\n00:10:39.765 --> 00:10:42.425\noptional meaning you choose what\nmakes sense in your environment.\n\n225\n00:10:42.425 --> 00:10:44.222\nYou want two years, do two years.\n\n226\n00:10:44.222 --> 00:10:49.392\nRemember the longer certificates\nare out there for, then obviously\n\n227\n00:10:49.392 --> 00:10:52.322\nthere may be value in that if they're\ngonna be a certificate that's used for\n\n228\n00:10:52.322 --> 00:10:55.942\na lot of things and\nis heavily protected and well defended.\n\n229\n00:10:55.942 --> 00:10:57.662\nBut the longer it exists,\n\n230\n00:10:57.662 --> 00:11:00.652\nthe more likely it is that somebody may\nbe able to compromise that over time.\n\n231\n00:11:00.652 --> 00:11:04.792\nSo you do have to think about that, but,\nroot and core certificates that are used\n\n232\n00:11:04.792 --> 00:11:08.680\nfor things like signing and\nencrypting for a service like this.\n\n233\n00:11:08.680 --> 00:11:10.142\nYou typically wanna have\nthem stick around for\n\n234\n00:11:10.142 --> 00:11:12.990\na while cuz if you do like a six month\nvalidity period you gotta re-issue\n\n235\n00:11:12.990 --> 00:11:15.490\nthese certificates constantly and\nre-associate them.\n\n236\n00:11:15.490 --> 00:11:18.130\nIt's a lot more work so you just wanna\nmake sure you're aware of that and\n\n237\n00:11:18.130 --> 00:11:19.300\nare thinking about that, right?\n\n238\n00:11:19.300 --> 00:11:23.440\nBut totally up to you to decide\nhow you wanna handle that.\n\n239\n00:11:23.440 --> 00:11:28.740\nAll right so, we are going in and we are,\nas I said here, changing validity period.\n\n240\n00:11:28.740 --> 00:11:30.680\nGo to the compatibility tab.\n\n241\n00:11:31.750 --> 00:11:36.610\nThis reads Server 12, and Windows XP, or\n\n242\n00:11:36.610 --> 00:11:40.070\nServer 2003 rather, and\nWindows XP by default.\n\n243\n00:11:40.070 --> 00:11:42.050\nLet me just show you what I mean here.\n\n244\n00:11:42.050 --> 00:11:46.150\nSo I change that to Server 16,\n\n245\n00:11:46.150 --> 00:11:48.790\njust duplicate the template so\nwe can play with it real quick.\n\n246\n00:11:48.790 --> 00:11:51.970\nSo on compatibility, or\nrather excuse me, on general.\n\n247\n00:11:51.970 --> 00:11:53.450\nI made a name change here, right?\n\n248\n00:11:53.450 --> 00:11:57.140\nI did HDS, all right,\nI did the validity period.\n\n249\n00:11:57.140 --> 00:11:59.730\nI'll just do it in real-time\nhere while we're talking three,\n\n250\n00:11:59.730 --> 00:12:03.320\nI went to compatibility,\nI pulled down where it says Server 2003.\n\n251\n00:12:03.320 --> 00:12:07.620\nI set it to Server 16 because we're\nonly working with Server 16 servers.\n\n252\n00:12:07.620 --> 00:12:10.290\nHGS is not gonna run on\nanything prior to 16.\n\n253\n00:12:10.290 --> 00:12:12.780\nSo, not that you have to do this, but\n\n254\n00:12:12.780 --> 00:12:15.160\nit makes a lot more sense because\nyou're just essentially saying.\n\n255\n00:12:15.160 --> 00:12:18.640\nHey, the certificate authority and\nthese compatibility centers are only for\n\n256\n00:12:18.640 --> 00:12:22.230\nServer 16 functionality so\nthat's just gonna make a lot more sense.\n\n257\n00:12:22.230 --> 00:12:24.190\nSo by doing this, right?\n\n258\n00:12:24.190 --> 00:12:29.260\nYou'll see here that we are changing\ncertain options in the template\n\n259\n00:12:29.260 --> 00:12:30.620\nas part of that selection.\n\n260\n00:12:30.620 --> 00:12:34.040\nSo it just says hey you're gonna change\nthese things, okay great no problem.\n\n261\n00:12:35.140 --> 00:12:37.550\nAnd same thing down here for\ncertificate recipient.\n\n262\n00:12:37.550 --> 00:12:39.720\nMust be a Server 16 or Windows 10 system.\n\n263\n00:12:39.720 --> 00:12:41.290\nWhole bunch of stuff's gonna change there.\n\n264\n00:12:41.290 --> 00:12:43.660\nOkay no big deal it's fine, click OK.\n\n265\n00:12:43.660 --> 00:12:44.800\nSo we got all that, right.\n\n266\n00:12:44.800 --> 00:12:47.770\nNow it says these settings may not\nprevent earlier operating systems\n\n267\n00:12:47.770 --> 00:12:49.380\nfrom using this template.\n\n268\n00:12:49.380 --> 00:12:50.970\nWe're not saying hey, you can't use it,\n\n269\n00:12:50.970 --> 00:12:54.200\nwe're just saying that we're issuing it\nat the highest level the CA currently\n\n270\n00:12:54.200 --> 00:12:57.330\noffers in terms of compatibility,\nwhich is Server 16.\n\n271\n00:12:57.330 --> 00:12:59.260\nSo we're changing or modifying or\n\n272\n00:12:59.260 --> 00:13:02.810\nperhaps editing certain options\nthat will then reflect that.\n\n273\n00:13:02.810 --> 00:13:05.750\nAnd that's really what we want,\nis the outcome of that choice, right.\n\n274\n00:13:05.750 --> 00:13:08.320\nSo we're doing that so\njust know that we have done that.\n\n275\n00:13:08.320 --> 00:13:10.230\nWe did our display name as I said.\n\n276\n00:13:10.230 --> 00:13:12.550\nWe're then gonna go to request handling.\n\n277\n00:13:14.280 --> 00:13:17.740\nAnd over here we make sure signature and\nencryption is selected.\n\n278\n00:13:17.740 --> 00:13:21.290\nThis is how we get the certificates for\nsigning and encrypting.\n\n279\n00:13:21.290 --> 00:13:24.580\nSo we're encoding the purpose\ninto the certificate.\n\n280\n00:13:24.580 --> 00:13:28.950\nAnd notice by the way, that we do have\nencryption or signatures separate but\n\n281\n00:13:28.950 --> 00:13:30.910\nwe also have signature and\nsmart card log on.\n\n282\n00:13:30.910 --> 00:13:33.400\nSo we just wanna make\nthe appropriate choice here.\n\n283\n00:13:33.400 --> 00:13:35.880\nSo we're doing signature and encryption.\n\n284\n00:13:35.880 --> 00:13:41.340\nAnd we then also have to allow down here,\nprivate key to be exported, right?\n\n285\n00:13:41.340 --> 00:13:42.970\nBecause we wanna take this\none that's gonna be issued.\n\n286\n00:13:42.970 --> 00:13:50.000\nWe're gonna export them out of the local\nstore we're then going to store them.\n\n287\n00:13:50.000 --> 00:13:52.780\nI just put them on the C drive as you saw\nwhere I showed you where they were in\n\n288\n00:13:52.780 --> 00:13:53.700\nthe last episode.\n\n289\n00:13:53.700 --> 00:13:58.060\nWe're then go to associate\nthem with the HGS instance and\n\n290\n00:13:58.060 --> 00:13:59.890\nthen reimport them, right?\n\n291\n00:13:59.890 --> 00:14:02.670\nSo we have to make sure they're\nexportable with the private key.\n\n292\n00:14:02.670 --> 00:14:05.480\nSo we can use that and\nthen potentially reimport them.\n\n293\n00:14:05.480 --> 00:14:07.560\nRemember, I'm doing this\nall in on one machine.\n\n294\n00:14:07.560 --> 00:14:10.670\nYou may be issuing this\nfrom a separate CA and\n\n295\n00:14:10.670 --> 00:14:12.848\nthen having to import them and use them.\n\n296\n00:14:12.848 --> 00:14:15.650\nSo make it sure the private key\nis exportable is important,\n\n297\n00:14:15.650 --> 00:14:18.000\ncuz you need the key along\nwith the certificate.\n\n298\n00:14:18.000 --> 00:14:20.990\nSo just make sure you check that off,\nvery important.\n\n299\n00:14:20.990 --> 00:14:23.660\nSo we have that,\nwe're then gonna go to Security.\n\n300\n00:14:25.440 --> 00:14:29.470\nNo particular order, by the way, in what\ntab we go to, when, and how we do this.\n\n301\n00:14:29.470 --> 00:14:33.620\nSo you could go to Security first,\nand then go to request handling last.\n\n302\n00:14:33.620 --> 00:14:35.630\nDoesn't matter,\nit's just a matter of getting it all done.\n\n303\n00:14:35.630 --> 00:14:37.600\nWhat order you do it in,\nis irrelevant, right?\n\n304\n00:14:37.600 --> 00:14:40.900\nSo, on security, probably the most\nimportant thing you can do,\n\n305\n00:14:40.900 --> 00:14:43.510\nis make sure that on\nthe security tab here, for\n\n306\n00:14:43.510 --> 00:14:48.020\nauthenticated users, that you make sure\nthat we assign the enroll permission.\n\n307\n00:14:48.020 --> 00:14:50.000\nBecause right now,\nyou'll notice they only have read.\n\n308\n00:14:50.000 --> 00:14:53.750\nAnd without enroll, then the certificate\nrequest cannot be made and\n\n309\n00:14:53.750 --> 00:14:55.830\nprocessed and that's gonna be a problem.\n\n310\n00:14:55.830 --> 00:15:00.390\nSo, make sure we give authenticated\nusers the enroll permission.\n\n311\n00:15:00.390 --> 00:15:01.986\nWe're then gonna go to the Extensions tab.\n\n312\n00:15:01.986 --> 00:15:06.724\nAnd on the extensions tab,\nyou'll see Key Usage down here.\n\n313\n00:15:06.724 --> 00:15:09.825\nIt's got a little yellow\ncaution flag next to it.\n\n314\n00:15:09.825 --> 00:15:13.220\nCuz we have to go in, and we have to\nedit and modify, make some changes here.\n\n315\n00:15:13.220 --> 00:15:15.490\nSo we're gonna highlight key usage,\nclick Edit.\n\n316\n00:15:16.540 --> 00:15:19.990\nAnd under key usage you'll see\nwe have Digital Signature.\n\n317\n00:15:19.990 --> 00:15:22.730\nWe're going to allow\nencryption of user data.\n\n318\n00:15:22.730 --> 00:15:25.733\nYou'll see it under here for\nencryption, that check box right there.\n\n319\n00:15:28.116 --> 00:15:31.520\nDigital signature is already,\nI did it again, didn't I?\n\n320\n00:15:31.520 --> 00:15:34.131\nI hit that middle button instead of the,\n&gt;&gt; [LAUGH]\n\n321\n00:15:34.131 --> 00:15:35.289\n&gt;&gt; Constantly doing that.\n\n322\n00:15:35.289 --> 00:15:35.975\n&gt;&gt; Gotta tear that out.\n\n323\n00:15:35.975 --> 00:15:39.380\n&gt;&gt; Yeah, Cherokee actually said there's\na way to disable that function.\n\n324\n00:15:39.380 --> 00:15:41.750\nI gotta check in what she said there's\na way to like somehow to do that so\n\n325\n00:15:41.750 --> 00:15:42.395\nyou get rid of it.\n\n326\n00:15:42.395 --> 00:15:44.250\n[LAUGH]\n&gt;&gt; That are a bunch of duct tape\n\n327\n00:15:44.250 --> 00:15:45.050\none way or the other.\n\n328\n00:15:45.050 --> 00:15:47.040\nAll right, so\ndigital signature is selected.\n\n329\n00:15:47.040 --> 00:15:49.340\nFor some odd reason by the way,\nyou come in here and that's not.\n\n330\n00:15:49.340 --> 00:15:51.315\nMake sure the digital\nsignature is checked off.\n\n331\n00:15:51.315 --> 00:15:54.518\nI've already check off allow\nencryption of user data, right?\n\n332\n00:15:54.518 --> 00:15:55.759\nSo we're gonna do that.\n\n333\n00:15:55.759 --> 00:15:57.500\nAnd now, we're gonna go ahead,\nwe're gonna click OK.\n\n334\n00:15:57.500 --> 00:15:59.881\nSo got that done.\n\n335\n00:15:59.881 --> 00:16:04.732\nAnd then, we're gonna go ahead and\nwe are gonna go to, let me just make sure\n\n336\n00:16:04.732 --> 00:16:09.290\nwe didn't miss anything, key usage,\n[INAUDIBLE] yeah, we did that.\n\n337\n00:16:09.290 --> 00:16:10.150\nOkay, good.\n\n338\n00:16:10.150 --> 00:16:12.810\nThen we're gonna go to our,\nwhere am I going?\n\n339\n00:16:12.810 --> 00:16:14.160\nI'm going, I'm going, I'm going.\n\n340\n00:16:14.160 --> 00:16:15.340\nSubject Name right up there.\n\n341\n00:16:15.340 --> 00:16:16.670\nIt's got a million tabs here.\n\n342\n00:16:16.670 --> 00:16:21.649\nI'm gonna go to Subject Name and under\nSubject Name, I'm going to make sure that\n\n343\n00:16:21.649 --> 00:16:26.501\nwe highlight supply in the request,\nas opposed to build from AD information.\n\n344\n00:16:26.501 --> 00:16:31.326\nMeaning that we have to supply certain\ninformation as part of the request\n\n345\n00:16:31.326 --> 00:16:32.690\nwhen we do this.\n\n346\n00:16:32.690 --> 00:16:36.375\nNotice the little box there, current\nsettings for this template allow a client\n\n347\n00:16:36.375 --> 00:16:39.357\nto submit a certificate of request\nusing any name subject name.\n\n348\n00:16:39.357 --> 00:16:42.503\nIt does not require approval by\na certificate manager, combining\n\n349\n00:16:42.503 --> 00:16:46.480\nthe certificate options may create\na security risk and is not recommended.\n\n350\n00:16:46.480 --> 00:16:49.935\nThat is okay, cuz this is what you\n[LAUGH] need to do to get it to work.\n\n351\n00:16:49.935 --> 00:16:50.480\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n352\n00:16:50.480 --> 00:16:53.460\neven though it's not recommended,\nthis is the way you do it.\n\n353\n00:16:53.460 --> 00:16:54.770\nSo just make sure you know that.\n\n354\n00:16:54.770 --> 00:16:56.430\nAll right, so supplying the request.\n\n355\n00:16:56.430 --> 00:16:57.740\nIt's fine, click OK there.\n\n356\n00:16:57.740 --> 00:16:59.275\nAll right, so we have that.\n\n357\n00:16:59.275 --> 00:17:03.063\nAnd once we are done,\nwe're gonna go ahead and\n\n358\n00:17:03.063 --> 00:17:08.420\nlet me just check and make sure\nthat there is nothing else we need.\n\n359\n00:17:08.420 --> 00:17:10.448\nI think everything else is good.\n\n360\n00:17:10.448 --> 00:17:13.798\nJust double check, we did security,\ngot our extensions there.\n\n361\n00:17:13.798 --> 00:17:15.720\nLet me just double check and\nmake sure that's all good.\n\n362\n00:17:15.720 --> 00:17:16.880\nWe got that, we got that, we got that.\n\n363\n00:17:16.880 --> 00:17:18.880\nYeah, that's all fine.\n\n364\n00:17:18.880 --> 00:17:19.486\nAnd okay, yeah.\n\n365\n00:17:19.486 --> 00:17:21.130\nSo, then we're gonna go ahead.\n\n366\n00:17:21.130 --> 00:17:23.480\nCuz I always hit apply and\nthen OK, but either way.\n\n367\n00:17:23.480 --> 00:17:25.680\nRight, so we have our template there now.\n\n368\n00:17:25.680 --> 00:17:27.250\nNow that's essentially done.\n\n369\n00:17:27.250 --> 00:17:31.790\nAnd if you look at the HGS Certificate\ntemplate that I created.\n\n370\n00:17:31.790 --> 00:17:35.420\nAs I was showing you,\nwe have compatibility that's already set.\n\n371\n00:17:35.420 --> 00:17:36.695\nWe have request handling.\n\n372\n00:17:36.695 --> 00:17:42.770\nAllow private key to be exported\nalong with signature and encryption.\n\n373\n00:17:42.770 --> 00:17:47.990\nWe have on Subject Name,\nsupply and request as you can see.\n\n374\n00:17:47.990 --> 00:17:50.802\nAnd what else did we do?\n\n375\n00:17:50.802 --> 00:17:54.148\nWe did I guess extensions and\nwe have key usage as you can see there and\n\n376\n00:17:54.148 --> 00:17:57.220\nyou see digital signature and\nallow for encryption, right?\n\n377\n00:17:57.220 --> 00:17:59.440\nSo everything is set the same way, right?\n\n378\n00:17:59.440 --> 00:18:01.830\nSo now, just gonna get out of here.\n\n379\n00:18:01.830 --> 00:18:04.230\nAnd what I do is,\nI come to Certificate Templates.\n\n380\n00:18:04.230 --> 00:18:07.637\nRight click, and\nI go New &gt; Certificate Template to Issue.\n\n381\n00:18:07.637 --> 00:18:11.536\nThis is how I bring in the template,\nmake it available in this console.\n\n382\n00:18:11.536 --> 00:18:15.835\nI highlighted HGS certificates of course\nto bring it in when I did this myself.\n\n383\n00:18:15.835 --> 00:18:18.875\nBut you would simply come here,\nchoose the appropriate\n\n384\n00:18:20.205 --> 00:18:24.075\ntemplate that you want to publish,\nHGS1 or a new one we just created.\n\n385\n00:18:24.075 --> 00:18:27.205\nPut it there, and\nyou can see how what is available, right?\n\n386\n00:18:27.205 --> 00:18:29.885\nSo now we've made\nthe changes to the template.\n\n387\n00:18:29.885 --> 00:18:34.105\nWe've modified the template, put the\ntemplate in, and essentially published it,\n\n388\n00:18:34.105 --> 00:18:35.205\nmade it available.\n\n389\n00:18:35.205 --> 00:18:37.965\nNow what we're gonna do,\nis create it and sign, or\n\n390\n00:18:37.965 --> 00:18:40.020\ncreate assigning\nan encryption certificate.\n\n391\n00:18:40.020 --> 00:18:42.680\nIt's gonna issue that against this CA.\n\n392\n00:18:42.680 --> 00:18:48.420\nSo now what we're gonna do is go\nto our certificate manager for\n\n393\n00:18:48.420 --> 00:18:52.249\nthe local computer, so\nyou can go to the Run line.\n\n394\n00:18:53.750 --> 00:18:59.870\nAnd you can type in certlm\ncertlocalmanager for\n\n395\n00:18:59.870 --> 00:19:05.530\nthe local machine store, certlm.msc,\nthat opens up that local counsel.\n\n396\n00:19:05.530 --> 00:19:08.800\nYou can just type mmc and\nput in the certificates snap in.\n\n397\n00:19:08.800 --> 00:19:09.920\nCouple different ways to do it.\n\n398\n00:19:09.920 --> 00:19:10.568\nUp to you.\nBut\n\n399\n00:19:10.568 --> 00:19:13.730\ncertlm.msc will bring you right to here.\n\n400\n00:19:13.730 --> 00:19:16.798\nBut when you do that, you come in here,\nyou open this up, go to personal,\n\n401\n00:19:16.798 --> 00:19:18.770\ngo to certificates, right?\n\n402\n00:19:18.770 --> 00:19:23.720\nAnd you will not see all the certificates\nthat are here now because I've issued them\n\n403\n00:19:23.720 --> 00:19:25.490\nand then I've exported them.\n\n404\n00:19:25.490 --> 00:19:26.940\nI've done all my stuff and imported them.\n\n405\n00:19:26.940 --> 00:19:29.080\nSo they're not all gonna be there.\n\n406\n00:19:29.080 --> 00:19:31.960\nWhat you would do to start\nthis process is the following.\n\n407\n00:19:31.960 --> 00:19:36.560\nYou would right click on Certificates\n&gt; All Tasks &gt; Request New Certificate.\n\n408\n00:19:36.560 --> 00:19:41.150\nNow our goal is gonna be to get our\nsigning certificate which I highlighted\n\n409\n00:19:41.150 --> 00:19:43.700\nthere and named signing.domainname.\n\n410\n00:19:43.700 --> 00:19:47.887\nAnd our encryption certificate\nwhich I highlighted there which is\n\n411\n00:19:47.887 --> 00:19:52.387\nourencryption.domainnameitprotv.com in\nthis case is our domain.\n\n412\n00:19:52.387 --> 00:19:55.677\nSo our goal is gonna be the issue\nthose two certificates and\n\n413\n00:19:55.677 --> 00:19:57.570\nget them to show up here, right?\n\n414\n00:19:57.570 --> 00:20:03.762\nSo we're gonna right click All\ntasks &gt; Request New Certificate.\n\n415\n00:20:03.762 --> 00:20:07.555\nWe have our Active Directory enrollment\npolicy so that's fine highlight and\n\n416\n00:20:07.555 --> 00:20:08.860\nwe're gonna click Next.\n\n417\n00:20:08.860 --> 00:20:09.760\nAnd under that policy.\n\n418\n00:20:09.760 --> 00:20:11.730\nIt takes just a sec,\nwe'll get a pick list here.\n\n419\n00:20:11.730 --> 00:20:15.130\nWe're gonna have a list of\nall the potential [COUGH]\n\n420\n00:20:15.130 --> 00:20:17.620\ncertificate templates\nthat are available to us.\n\n421\n00:20:17.620 --> 00:20:22.570\nAnd you can see that both HGS and\nHGS1, the sample\n\n422\n00:20:22.570 --> 00:20:27.100\nthat I just created that is essentially\nis a mirror of HGS certificates are here.\n\n423\n00:20:27.100 --> 00:20:30.870\nI noticed both of them say, hey, by\nthe way, if you wanna use this template,\n\n424\n00:20:30.870 --> 00:20:34.591\nthere's something about more\ninformation required, because remember.\n\n425\n00:20:34.591 --> 00:20:39.840\nWe checked off that we will supply that\ninformation, one of the options, right?\n\n426\n00:20:39.840 --> 00:20:42.950\nWe'll supply that information\nas part of the submission,\n\n427\n00:20:42.950 --> 00:20:46.140\nas opposed to getting all\nthe information required through AD.\n\n428\n00:20:46.140 --> 00:20:49.280\nSo this is that setting that we\ntalked about where we went in and\n\n429\n00:20:49.280 --> 00:20:51.940\nsaid make sure that the user\nprovides during submission.\n\n430\n00:20:51.940 --> 00:20:55.220\nThat's what it does,\nit toggles this line here.\n\n431\n00:20:55.220 --> 00:20:59.010\nAnd when we go to use this to do\nan issuance, we actually are then prompted\n\n432\n00:20:59.010 --> 00:21:01.760\nwith a wizard that we have to\nprovide some additional information.\n\n433\n00:21:01.760 --> 00:21:03.084\nSo that's what we're gonna do.\n\n434\n00:21:03.084 --> 00:21:05.271\nSo I've already done this,\nI've issued the certificates but\n\n435\n00:21:05.271 --> 00:21:07.510\nwe'll just walk through the logic\nof what this would look like.\n\n436\n00:21:07.510 --> 00:21:08.796\nLet's say we chose HGS Certificates.\n\n437\n00:21:08.796 --> 00:21:11.858\nNow, I just get into the habit,\ncuz I've done this so\n\n438\n00:21:11.858 --> 00:21:16.480\nmuch of checking off the certificate\nchoice I want to template first.\n\n439\n00:21:16.480 --> 00:21:18.631\nAnd then I click on, if it's required,\n\n440\n00:21:18.631 --> 00:21:21.289\nhey do more information that\nway when I get done and\n\n441\n00:21:21.289 --> 00:21:25.739\nI come back to the screen, I don't have to\nremember to select it before I continue.\n\n442\n00:21:25.739 --> 00:21:26.770\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz,\n\n443\n00:21:26.770 --> 00:21:29.590\nyou've all seen that I occasionally\nforget to do things, right?\n\n444\n00:21:29.590 --> 00:21:32.180\nSo instead,\nit's already gonna be selected.\n\n445\n00:21:32.180 --> 00:21:36.110\nIt's just a fail safe for me, so I make\nsure I'm working with the right template.\n\n446\n00:21:36.110 --> 00:21:36.900\nUp to you to decide.\n\n447\n00:21:36.900 --> 00:21:39.730\nThat's just a real world gotcha\nthat I'm sharing with you so\n\n448\n00:21:39.730 --> 00:21:40.760\nyou don't waste a lot of time.\n\n449\n00:21:40.760 --> 00:21:42.570\nOkay, all right, so\nwe're gonna highlight that and\n\n450\n00:21:42.570 --> 00:21:44.550\nthen we're gonna click on\nthis link right here and\n\n451\n00:21:44.550 --> 00:21:47.210\nwe get to this certificate\nproperty that we have to fill in.\n\n452\n00:21:47.210 --> 00:21:51.460\nSo here,\nwhat we're gonna do is the following.\n\n453\n00:21:51.460 --> 00:21:54.020\nI'm gonna provide some information.\n\n454\n00:21:54.020 --> 00:21:55.590\nI'm gonna pull that under subject name,\nand\n\n455\n00:21:55.590 --> 00:22:00.860\ninstead of Full DN, distinguished name,\nDN, I'm gonna use Common Name.\n\n456\n00:22:00.860 --> 00:22:02.550\nAnd I have to provide a value here.\n\n457\n00:22:02.550 --> 00:22:09.400\nNow the value will be\nthe name of the domain.\n\n458\n00:22:09.400 --> 00:22:11.960\nSo whatever it is,\nin my case it's itprotv.com,\n\n459\n00:22:11.960 --> 00:22:15.947\nI put the words signing in front of it so\nthat I know it's a signing certificate or\n\n460\n00:22:15.947 --> 00:22:17.744\nthe word encryption in front of it.\n\n461\n00:22:17.744 --> 00:22:19.550\nSo I know it's an encryption certificate.\n\n462\n00:22:19.550 --> 00:22:20.660\nYou saw the output of that.\n\n463\n00:22:20.660 --> 00:22:23.651\nI have a certificate called\nsigning.itprotv.com,\n\n464\n00:22:23.651 --> 00:22:25.932\none called encryption.itprotv.com.\n\n465\n00:22:25.932 --> 00:22:30.324\nIt's up to you to decide what you're\ngonna call your certificates, but\n\n466\n00:22:30.324 --> 00:22:32.844\nI would suggest signing.domainname and\n\n467\n00:22:32.844 --> 00:22:36.591\nencryption.domainname because\nthat makes the most sense.\n\n468\n00:22:36.591 --> 00:22:40.058\nIt's the easiest, it's the least\nlikely to screw things up later and\n\n469\n00:22:40.058 --> 00:22:42.470\nthe most likely to lead to success, okay?\n\n470\n00:22:42.470 --> 00:22:45.259\nSo that's what we're gonna do in our demo,\nwe're just gonna follow that logic.\n\n471\n00:22:45.259 --> 00:22:48.081\nSo we're gonna do signing,\nbut I'm gonna do signing1,\n\n472\n00:22:48.081 --> 00:22:51.420\njust to differentiate from the one\nwe already have, all right?\n\n473\n00:22:51.420 --> 00:22:56.630\nSo, signing1.itprotv.com.\n\n474\n00:22:56.630 --> 00:23:00.590\nJust type that in, click Add, just move it\nover there, it's very straight forward,\n\n475\n00:23:00.590 --> 00:23:01.610\nvery easy.\n\n476\n00:23:01.610 --> 00:23:05.978\nAnd then under alternative name\ninstead of directory name choose DNS,\n\n477\n00:23:05.978 --> 00:23:09.128\nagain there is a lot of stuff in there,\nchoose DNS.\n\n478\n00:23:09.128 --> 00:23:13.853\nAnd for there, again, we're gonna\ndo either signing.domainname or\n\n479\n00:23:13.853 --> 00:23:15.760\nencryption.domainname.\n\n480\n00:23:15.760 --> 00:23:20.670\nThe trick is in whatever you're doing\nboth values for type common name and\n\n481\n00:23:20.670 --> 00:23:23.890\nalternative name type DNS,\nhave to be the same here.\n\n482\n00:23:23.890 --> 00:23:26.668\nSo if I did signing1.itprotv.com,\nwhich is what I did.\n\n483\n00:23:26.668 --> 00:23:31.315\nI'll do encryption1, if I do encryption,\nyou should match that.\n\n484\n00:23:31.315 --> 00:23:33.890\nThey should be the same in both areas,\nso just understand that.\n\n485\n00:23:33.890 --> 00:23:40.960\nSo signing1.itpro and\nI just totally forgot what I was typing.\n\n486\n00:23:40.960 --> 00:23:44.327\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's see, itprotv.com there we go.\n\n487\n00:23:44.327 --> 00:23:49.100\nAll right, it's signing1.itprotv.com,\nclick Add, so we have both over there.\n\n488\n00:23:49.100 --> 00:23:51.953\nDon't be thrown off by the fact that\nthis text is kind of light blue,\n\n489\n00:23:51.953 --> 00:23:53.873\nI don't know why they do,\nthat they just do.\n\n490\n00:23:53.873 --> 00:23:58.000\nBut the DNS entry at the bottom is like\nthis kinda bluish aqua green thing whereas\n\n491\n00:23:58.000 --> 00:23:59.795\nup here it's just black, right?\n\n492\n00:23:59.795 --> 00:24:01.478\nSo no big deal, it's there, it's good.\n\n493\n00:24:01.478 --> 00:24:05.064\nAll right, then, under General,\nyou gotta give it a friendly name.\n\n494\n00:24:05.064 --> 00:24:07.400\nCuz that's the name that's gonna\nshow up and actually display.\n\n495\n00:24:07.400 --> 00:24:11.082\nI just call it the same thing I just\nput in on the other two fields.\n\n496\n00:24:11.082 --> 00:24:13.790\nEssentially, I give it the same\nname in all three places, right?\n\n497\n00:24:13.790 --> 00:24:15.585\nNo confusion, everything's the same.\n\n498\n00:24:15.585 --> 00:24:17.490\nNever have to worry about\nthe fact that I screwed up and\n\n499\n00:24:17.490 --> 00:24:19.255\ndid something wrong,\nexcept if I mistype it.\n\n500\n00:24:19.255 --> 00:24:21.050\n&gt;&gt; [LAUGH]\n&gt;&gt; So being very careful about that.\n\n501\n00:24:21.050 --> 00:24:22.700\nSo I'm gonna do signing1.\n\n502\n00:24:25.165 --> 00:24:29.300\nITProTV.com here as well.\n\n503\n00:24:29.300 --> 00:24:31.390\nOkay, just so\nit's same all the way across.\n\n504\n00:24:31.390 --> 00:24:33.990\nDescription, optional,\nput stuff in there if you want.\n\n505\n00:24:33.990 --> 00:24:34.710\nDon't, it's up to you.\n\n506\n00:24:34.710 --> 00:24:37.580\nWe're not worried about any of this\nother stuff because all that other stuff\n\n507\n00:24:37.580 --> 00:24:38.510\nis already setup.\n\n508\n00:24:38.510 --> 00:24:40.020\nI'm gonna click, OK.\n\n509\n00:24:40.020 --> 00:24:42.530\nSo now you see it comes back ready to go.\n\n510\n00:24:42.530 --> 00:24:45.260\nAlready checked off,\ndon't have to worry about that.\n\n511\n00:24:45.260 --> 00:24:46.920\nEnroll button is active.\n\n512\n00:24:46.920 --> 00:24:48.910\nWe're about to issue our certificate,\nokay?\n\n513\n00:24:48.910 --> 00:24:52.090\nSo click Enroll, boom, that's done.\n\n514\n00:24:52.090 --> 00:24:53.410\nIt's that simple.\n\n515\n00:24:53.410 --> 00:24:54.530\nClick Finish.\n\n516\n00:24:54.530 --> 00:24:58.640\nAnd you'll see now we have a certificate\nsitting right there that's issued.\n\n517\n00:24:58.640 --> 00:25:00.480\nDo the same thing for encryption.\n\n518\n00:25:00.480 --> 00:25:02.670\nI'm not gonna run through it,\nit's the same exact thing.\n\n519\n00:25:02.670 --> 00:25:04.980\nThe only difference is instead of signing,\n\n520\n00:25:04.980 --> 00:25:07.610\nput the word encryption\nthere with your domain name.\n\n521\n00:25:07.610 --> 00:25:09.830\nSame process, same exact thing.\n\n522\n00:25:09.830 --> 00:25:13.350\nWe're gonna fast forward and\nassume that we did both, okay?\n\n523\n00:25:13.350 --> 00:25:16.630\nSo, I'm gonna delete this certificate\njust to clean everything up here so\n\n524\n00:25:16.630 --> 00:25:17.860\nwe have no issues.\n\n525\n00:25:17.860 --> 00:25:20.820\nThe one I just issued, in case you've\nnever seen a certificate being\n\n526\n00:25:20.820 --> 00:25:23.015\ndeleted before,\nthat's how you delete it, right?\n\n527\n00:25:23.015 --> 00:25:23.920\n&gt;&gt; [LAUGH]\n&gt;&gt; And so\n\n528\n00:25:23.920 --> 00:25:27.360\nwe're gonna assume that magically\nwe suddenly have both signing and\n\n529\n00:25:27.360 --> 00:25:27.890\nencryption there.\n\n530\n00:25:27.890 --> 00:25:30.480\nWhich we do, you see I already issued\nthem, they're sitting, all right?\n\n531\n00:25:30.480 --> 00:25:32.300\nSo now we visioned our certificates.\n\n532\n00:25:32.300 --> 00:25:34.620\nNow, having done that,\n\n533\n00:25:34.620 --> 00:25:39.790\nwhat we're now gonna do is we're gonna\nexport the certificates out of here.\n\n534\n00:25:39.790 --> 00:25:42.471\nAnd you need to listen to the logic\nof this before you say, well,\n\n535\n00:25:42.471 --> 00:25:45.400\nwhy are we gonna do all that then\njust import them again, and my god,\n\n536\n00:25:45.400 --> 00:25:47.602\nthat's so crazy,\nwhy do we need to do that, right?\n\n537\n00:25:47.602 --> 00:25:50.220\nYou don't normally do that, you're right,\nyou don't normally have to.\n\n538\n00:25:50.220 --> 00:25:54.010\nBut a little quirky thing with HDS.\n\n539\n00:25:54.010 --> 00:26:01.242\nI've seen it happen, and it may be\na glitch, I don't know what to call it.\n\n540\n00:26:01.242 --> 00:26:03.240\nI'm being politically correct here.\n\n541\n00:26:03.240 --> 00:26:07.220\nAn opportunity for\nreflection is what I often say.\n\n542\n00:26:07.220 --> 00:26:11.220\nI've seen it happen in the beta\nversions of 16 as I was setting up and\n\n543\n00:26:11.220 --> 00:26:13.980\nplaying with things where\nyou would do what I'm about,\n\n544\n00:26:13.980 --> 00:26:17.920\nwhat I've done without exporting the\ncertificates out of the store first and\n\n545\n00:26:17.920 --> 00:26:21.300\nthen going right to the next step\nto install and configure HGS.\n\n546\n00:26:21.300 --> 00:26:22.500\nAnd I've seen it actually fail.\n\n547\n00:26:23.820 --> 00:26:24.980\nI've tried it since then.\n\n548\n00:26:24.980 --> 00:26:25.865\nI've had mixed success.\n\n549\n00:26:25.865 --> 00:26:28.870\nSometimes it works with no trouble,\nother times it does not.\n\n550\n00:26:28.870 --> 00:26:34.424\nAnd it seems to be easiest to grab the\ncertificates once they're issued, export\n\n551\n00:26:34.424 --> 00:26:40.152\nthem along with the private key, delete\nthem after you export them from the store.\n\n552\n00:26:40.152 --> 00:26:43.380\nBecause remember, once you export them,\nyou have a copy of them.\n\n553\n00:26:43.380 --> 00:26:48.130\nAnd then, go ahead and do the rest of\nthe configuration, which we're gonna do in\n\n554\n00:26:48.130 --> 00:26:53.960\npart three or episode three here in\na few minutes, and then re-import them.\n\n555\n00:26:53.960 --> 00:26:57.670\nAnd by doing that, it seems to be fine and\nthere does not seem to be an issue.\n\n556\n00:26:57.670 --> 00:27:01.780\nSo, I'm gonna suggest that you're\ngonna export the certificate.\n\n557\n00:27:01.780 --> 00:27:03.980\nSo I'll walk you through how\nto do that real quickly.\n\n558\n00:27:03.980 --> 00:27:06.760\nYou're then gonna delete\nthe certificates out of the store,\n\n559\n00:27:06.760 --> 00:27:10.430\nleaving the exported copies in\nthe c: drive, wherever you put them.\n\n560\n00:27:10.430 --> 00:27:14.030\nYou're then gonna go ahead and run through\nwhat we do in part three, episode three,\n\n561\n00:27:14.030 --> 00:27:16.800\nwhich would be install and\nconfigure wrap up.\n\n562\n00:27:16.800 --> 00:27:18.210\nAnd then you'll re-import\nthe certificates.\n\n563\n00:27:18.210 --> 00:27:22.840\nBy clearing the store and\ndoing the install and then re-importing,\n\n564\n00:27:22.840 --> 00:27:26.800\nwe seem to overcome that issue that\nhas popped up where HGS seems to\n\n565\n00:27:26.800 --> 00:27:28.510\nhave a hiccup and\njust doesn't like what we're doing.\n\n566\n00:27:28.510 --> 00:27:31.690\nSo just little real world\nexperience there for you.\n\n567\n00:27:31.690 --> 00:27:33.450\nUp to you to decide what to do.\n\n568\n00:27:33.450 --> 00:27:35.693\nSo let's assume you're gonna do that,\nwhether you choose to do that or not,\n\n569\n00:27:35.693 --> 00:27:36.291\nit'll be up to you.\n\n570\n00:27:36.291 --> 00:27:37.311\nBut let's assume for\n\n571\n00:27:37.311 --> 00:27:40.730\npurposes of the demonstration you\nare gonna do what I suggested.\n\n572\n00:27:40.730 --> 00:27:42.540\nSo how do you export a certificate?\n\n573\n00:27:42.540 --> 00:27:43.560\nPretty straightforward.\n\n574\n00:27:43.560 --> 00:27:45.438\nFind the certificate in question,\nwherever it is.\n\n575\n00:27:45.438 --> 00:27:47.015\nRight-click.\n\n576\n00:27:49.052 --> 00:27:50.655\nExport, you can see here.\n\n577\n00:27:52.418 --> 00:27:53.640\nA little export wizard.\n\n578\n00:27:55.450 --> 00:27:57.010\nYes, you wanna export the private key.\n\n579\n00:27:57.010 --> 00:27:58.140\nVery important, cuz remember,\n\n580\n00:27:58.140 --> 00:28:02.410\nwe're gonna destroy thes certificate\nby deleting it after we export it.\n\n581\n00:28:02.410 --> 00:28:04.250\nSo you gotta have the private key or\n\n582\n00:28:04.250 --> 00:28:07.230\nyou're about to redo everything I\njust showed you how to do, right?\n\n583\n00:28:07.230 --> 00:28:11.490\nSo make sure, make sure you chose\nto export the private key here.\n\n584\n00:28:11.490 --> 00:28:14.669\nAll right, otherwise make sure you,\nwell, just make sure you do.\n\n585\n00:28:14.669 --> 00:28:15.922\n&gt;&gt; [LAUGH]\n&gt;&gt; That's all I was gonna, otherwise,\n\n586\n00:28:15.922 --> 00:28:17.030\nyou gotta make sure you do it again.\n\n587\n00:28:17.030 --> 00:28:19.616\nAll right, so yeah, so\nexport the private key.\n\n588\n00:28:19.616 --> 00:28:20.620\nClick Next.\n\n589\n00:28:20.620 --> 00:28:22.570\nAccept the defaults here, no problem.\n\n590\n00:28:22.570 --> 00:28:26.300\nYou are gonna export out to\na .pfx file format, that's fine.\n\n591\n00:28:26.300 --> 00:28:28.842\nInclude all certificates\nin the half if possible.\n\n592\n00:28:28.842 --> 00:28:31.326\nIt's a self-signed, or\nrather not self-signed but\n\n593\n00:28:31.326 --> 00:28:32.680\na route issued certificate.\n\n594\n00:28:32.680 --> 00:28:36.002\nIf there's no certificates in the path\nyou can write directly from the top.\n\n595\n00:28:36.002 --> 00:28:38.490\nSo it will essentially reference itself,\nbut that's fine.\n\n596\n00:28:38.490 --> 00:28:39.020\nNo big deal.\n\n597\n00:28:39.020 --> 00:28:41.370\nNo need to choose anything else there,\nin other words.\n\n598\n00:28:41.370 --> 00:28:44.180\nThe only other thing you need to do\nsince you're exporting the private key,\n\n599\n00:28:44.180 --> 00:28:47.720\nyou must provide either a password,\nwhich is what we will do.\n\n600\n00:28:47.720 --> 00:28:53.360\nOr a group or username that will act\nto be able to maintain security.\n\n601\n00:28:54.450 --> 00:28:57.920\nEither a security principle,\ntrusted user, or a password is provided.\n\n602\n00:28:57.920 --> 00:28:58.790\nWe'll do the password, right?\n\n603\n00:28:58.790 --> 00:29:06.530\nWhatever it is, it doesn't really matter\ncuz we're not going to actually do this.\n\n604\n00:29:06.530 --> 00:29:07.900\nYou'll just specify the path.\n\n605\n00:29:07.900 --> 00:29:09.850\nI just did C and then the name.\n\n606\n00:29:09.850 --> 00:29:11.300\nFor signing, I did signing.pfx.\n\n607\n00:29:11.300 --> 00:29:15.830\nThe important thing is make sure\nit has the .pfx extension, right?\n\n608\n00:29:15.830 --> 00:29:18.240\nSo, certificate name.pfx.\n\n609\n00:29:18.240 --> 00:29:23.270\nYou do that for both the signing and\nencryption certificates.\n\n610\n00:29:23.270 --> 00:29:26.450\nOnce we have done that, I did that to the\nroot of the C drive in my example here.\n\n611\n00:29:26.450 --> 00:29:28.470\nYou'll see they are sitting right there.\n\n612\n00:29:28.470 --> 00:29:30.610\n&gt;&gt; Perfect.\n&gt;&gt; So I've exported them.\n\n613\n00:29:30.610 --> 00:29:31.630\nGreat.\n\n614\n00:29:31.630 --> 00:29:33.830\nNow, you're going to delete them.\n\n615\n00:29:34.840 --> 00:29:36.540\nAnd again, you don't normally do that, but\n\n616\n00:29:36.540 --> 00:29:39.290\nthis is the part that seems\nto fix the problem with HGS.\n\n617\n00:29:39.290 --> 00:29:39.960\n&gt;&gt; I don't know what it is.\n\n618\n00:29:39.960 --> 00:29:43.650\nYou say delete certificates and\nI'm over here kind of getting nervous.\n\n619\n00:29:43.650 --> 00:29:44.400\n&gt;&gt; I didn't say, well-\n&gt;&gt; [LAUGH]\n\n620\n00:29:44.400 --> 00:29:45.452\n&gt;&gt; Why Mike's getting nervous is cuz\n\n621\n00:29:45.452 --> 00:29:46.580\nwe're deleting his certificates.\n\n622\n00:29:46.580 --> 00:29:48.663\nHe just doesn't know,\nthat's why he's getting nervous [LAUGH].\n\n623\n00:29:48.663 --> 00:29:51.560\n&gt;&gt; [LAUGH]\n&gt;&gt; But yes,\n\n624\n00:29:51.560 --> 00:29:56.672\nI am stressing this point that I normally\ndon't go to this much trouble in time and\n\n625\n00:29:56.672 --> 00:30:02.020\nover statement of the facts to make sure\nthat you feel comfortable doing this.\n\n626\n00:30:02.020 --> 00:30:02.890\nAnd Mike's right.\n\n627\n00:30:02.890 --> 00:30:05.700\nWe don't normally delete certificates\nunless we have some very\n\n628\n00:30:05.700 --> 00:30:09.500\nspecific circumstances or\nthey're no longer of value to us.\n\n629\n00:30:09.500 --> 00:30:12.560\nAnd it's highly unusual, right,\nthat we would tend to say, hey, yeah, and\n\n630\n00:30:12.560 --> 00:30:14.880\nby the way take that perfectly\ngood certificate and\n\n631\n00:30:14.880 --> 00:30:16.420\njust throw it in the garbage.\n\n632\n00:30:16.420 --> 00:30:17.980\nBut we've made a copy of it, right?\n\n633\n00:30:17.980 --> 00:30:21.460\nSo rest assured that as long as\nyou've done the export correctly, and\n\n634\n00:30:21.460 --> 00:30:24.630\nagain, critical step,\nmark that public key, excuse me,\n\n635\n00:30:24.630 --> 00:30:27.200\nmark that private key as being exportable.\n\n636\n00:30:27.200 --> 00:30:29.790\nIf you're not sure you\ndid it the right way,\n\n637\n00:30:29.790 --> 00:30:35.050\nright now before you delete would be the\ntime to delete the copy you just exported,\n\n638\n00:30:35.050 --> 00:30:38.230\nwhich is not gonna delete the main\ncertificate, just to be clear.\n\n639\n00:30:38.230 --> 00:30:42.958\nIf I go and delete the copy of the export\nsitting here in the C drive, no big deal.\n\n640\n00:30:42.958 --> 00:30:46.780\nAs long as I have not deleted\nthe copy of the certificate here,\n\n641\n00:30:46.780 --> 00:30:47.900\nall I'm doing is deleting the copy.\n\n642\n00:30:47.900 --> 00:30:49.190\nThe original is intact.\n\n643\n00:30:49.190 --> 00:30:52.170\nIf you think you made a mistake and\ndidn't do it the right way,\n\n644\n00:30:52.170 --> 00:30:55.870\njust delete the copy that you\njust exported, export it again.\n\n645\n00:30:55.870 --> 00:30:58.750\nNo harm in taking an extra two\nminutes to make sure you got it right.\n\n646\n00:30:58.750 --> 00:31:03.390\nAnd then once you're confident you\ngot it right, then go ahead and\n\n647\n00:31:03.390 --> 00:31:04.750\ndelete the certificates from here.\n\n648\n00:31:04.750 --> 00:31:08.310\nSo just, again,\nbe methodical and be secure, but\n\n649\n00:31:08.310 --> 00:31:11.510\nalso be sure that you're doing the right\nthing for the right reasons, okay?\n\n650\n00:31:11.510 --> 00:31:14.830\nIf you have any problems, well,\nyou know who to blame, okay?\n\n651\n00:31:14.830 --> 00:31:16.574\nAll right.\n&gt;&gt; Email me, Adam@ITPRO.TV.\n\n652\n00:31:16.574 --> 00:31:17.173\n&gt;&gt; Yes, exactly.\n\n653\n00:31:17.173 --> 00:31:19.320\n&gt;&gt; [LAUGH]\n&gt;&gt; And I will forward that to you.\n\n654\n00:31:19.320 --> 00:31:21.838\nMike will not respond @ ITPRO.TV.\n\n655\n00:31:21.838 --> 00:31:25.050\nAll right so,\nwe are gonna delete our certificate.\n\n656\n00:31:25.050 --> 00:31:27.310\nYou'll notice here and I showed you\nhow to delete one already, right?\n\n657\n00:31:27.310 --> 00:31:28.820\nVery simple, right-click, delete.\n\n658\n00:31:28.820 --> 00:31:31.770\nYou can just actually highlight it and\ndelete, doesn't really matter, but\n\n659\n00:31:31.770 --> 00:31:32.850\nyou'll delete your certificate.\n\n660\n00:31:32.850 --> 00:31:35.270\nSo let's assume, all right,\nwe've done all that,\n\n661\n00:31:35.270 --> 00:31:36.720\neven though we know\nthe certificates are still there.\n\n662\n00:31:36.720 --> 00:31:38.590\nCuz I've already done this part,\n\n663\n00:31:38.590 --> 00:31:40.240\nI'm just walking you through\nthe logic of what you would do.\n\n664\n00:31:40.240 --> 00:31:42.510\nI'm not gonna delete them cuz\nI've already deleted them,\n\n665\n00:31:42.510 --> 00:31:45.710\nexported them, did the installation,\nre-imported them.\n\n666\n00:31:45.710 --> 00:31:49.160\nSo I'm not gonna delete them cuz that will\nscrew up what I've already set up for\n\n667\n00:31:49.160 --> 00:31:50.540\nthe rest of the demonstration.\n\n668\n00:31:50.540 --> 00:31:53.660\nBut let's just assume that those\ncertificates are no longer there.\n\n669\n00:31:53.660 --> 00:31:54.560\nYou'll close your eyes and\n\n670\n00:31:54.560 --> 00:31:57.488\nimagine that they are gone even\nthough they are still sitting there.\n\n671\n00:31:57.488 --> 00:32:00.740\nSo you would be looking at the console\nwithout those certificates\n\n672\n00:32:00.740 --> 00:32:01.690\navailable, right?\n\n673\n00:32:01.690 --> 00:32:03.690\nSo in part three,\nwhen you come back and join us for\n\n674\n00:32:03.690 --> 00:32:07.600\nepisode three,\nwe're gonna initialize the HGS server.\n\n675\n00:32:07.600 --> 00:32:10.580\nWe're gonna use Active Directory\nattestation instead of TPM.\n\n676\n00:32:11.950 --> 00:32:13.380\nTrusted attestation, but\n\n677\n00:32:13.380 --> 00:32:16.440\nI'll just quickly show you the switch that\ntells you the difference between the two.\n\n678\n00:32:16.440 --> 00:32:20.405\nWe're gonna go ahead and initialize it\nwith PowerShell, show you how to do that.\n\n679\n00:32:20.405 --> 00:32:22.070\nI'll show you the mistake I made.\n\n680\n00:32:22.070 --> 00:32:24.575\n[LAUGH] Which was stupid on my part\nbecause I wasn't paying attention, but\n\n681\n00:32:24.575 --> 00:32:27.835\nit's a good learning lesson for\nyou about naming conventions for\n\n682\n00:32:27.835 --> 00:32:32.375\nthe name of the cluster [LAUGH] You're not\nsupposed to use faces and I forgot that.\n\n683\n00:32:32.375 --> 00:32:33.055\nSo I'll show you that.\n\n684\n00:32:33.055 --> 00:32:35.785\nI left the error in PowerShell just so\nyou could see it.\n\n685\n00:32:35.785 --> 00:32:38.775\nBut we'll go through and\nfinish up our installation and\n\n686\n00:32:38.775 --> 00:32:40.835\nconfiguration of HGS in episode three.\n\n687\n00:32:40.835 --> 00:32:42.890\nYou're gonna hopefully come back and\njoin us.\n\n688\n00:32:42.890 --> 00:32:46.500\nAnd when we're done with that, we\nare gonna talk a bit about encrypted and\n\n689\n00:32:46.500 --> 00:32:49.260\nshielded VMs and some troubleshooting,\nas I suggested, okay?\n\n690\n00:32:49.260 --> 00:32:51.420\nSo a lot of still,\nstill amount of cool stuff to come.\n\n691\n00:32:51.420 --> 00:32:53.310\n&gt;&gt; Fantastic, exciting stuff.\n\n692\n00:32:53.310 --> 00:32:55.380\nAll right, Adam,\nwe appreciate that great look so\n\n693\n00:32:55.380 --> 00:33:00.530\nfar at setting up our host\nguardian service like that.\n\n694\n00:33:00.530 --> 00:33:02.513\n&gt;&gt; HGS, kinda part middle, right?\n\n695\n00:33:02.513 --> 00:33:03.538\n[LAUGH]\n&gt;&gt; Part middle, exactly.\n\n696\n00:33:03.538 --> 00:33:06.074\n&gt;&gt; But we are gonna do part end here,\nwhen we come back for part three.\n\n697\n00:33:06.074 --> 00:33:08.290\nBut yeah, we are about two\nthirds of the way through.\n\n698\n00:33:08.290 --> 00:33:12.120\nWe still got a few things left to do, but\nthe bulk of the back around stuff that has\n\n699\n00:33:12.120 --> 00:33:16.110\nto be done methodically and specifically\nin a certain order is now in place.\n\n700\n00:33:16.110 --> 00:33:18.058\nNow we can actually just\nget down to business and\n\n701\n00:33:18.058 --> 00:33:20.742\nactually do the installation and\ninitialize HGS, finalize it.\n\n702\n00:33:20.742 --> 00:33:22.840\nWe're gonna do that as\nsoon as we come back.\n\n703\n00:33:22.840 --> 00:33:23.630\n&gt;&gt; Sounds like a plan.\n\n704\n00:33:23.630 --> 00:33:24.880\nWell, you heard it here.\n\n705\n00:33:24.880 --> 00:33:28.680\nBut for now, signing off for ITProTV,\nI've been your host Mike Rodrick.\n\n706\n00:33:28.680 --> 00:33:29.980\n&gt;&gt; I am Adam Gordon.\n\n707\n00:33:29.980 --> 00:33:32.523\n&gt;&gt; And we will see you next time.\n\n708\n00:33:32.523 --> 00:33:38.492\n[MUSIC]\n\n709\n00:33:38.492 --> 00:33:42.089\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "237452008"
        },
        {
          "description": "",
          "length": "1662",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-3-secure_a_virtualization_infrastructure_pt3-100517-PGM.00_31_50_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-3-secure_a_virtualization_infrastructure_pt3-100517-PGM.00_31_50_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-3-secure_a_virtualization_infrastructure_pt3-100517-PGM.00_31_50_13.Still001-sm.jpg",
          "title": "Secure a Virtualization Infrastructure Pt3",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:03.578\nWelcome to ITProTV,\n\n2\n00:00:03.578 --> 00:00:07.857\nI'm your host [CROSSTALK].\n\n3\n00:00:07.857 --> 00:00:09.815\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:09.815 --> 00:00:15.220\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n5\n00:00:15.220 --> 00:00:17.510\nI'm your host Mike Roderick.\n\n6\n00:00:17.510 --> 00:00:21.600\nToday we're going to be doing\nSecuring a Windows Server 2016.\n\n7\n00:00:21.600 --> 00:00:22.900\nAnd specifically in this episode,\n\n8\n00:00:22.900 --> 00:00:27.260\nwe're working on how to secure\na virtualization infrastructure.\n\n9\n00:00:27.260 --> 00:00:30.880\nWe've already done, let's see, one,\ntwo parts on this so this is part three.\n\n10\n00:00:30.880 --> 00:00:34.150\nThat means if you missed one or two,\nmake sure you go back and check those out.\n\n11\n00:00:34.150 --> 00:00:37.500\nKinda catch up with where we're at cuz\nwe're gonna be diving right back in.\n\n12\n00:00:37.500 --> 00:00:42.630\nWe are in the middle of setting up or\nconfiguring Host Guardian Service.\n\n13\n00:00:42.630 --> 00:00:45.110\nAnd here to show us what to do and\nhow to do it is Mr.\n\n14\n00:00:45.110 --> 00:00:46.590\nAdam Gordon, welcome back, Adam.\n\n15\n00:00:46.590 --> 00:00:49.800\n&gt;&gt; Hello everybody, thank you for\ninviting me back cuz if not,\n\n16\n00:00:49.800 --> 00:00:52.060\nyou would of had to take over and-\n&gt;&gt; I would have been stuck, right?\n\n17\n00:00:52.060 --> 00:00:55.490\n&gt;&gt; We all know that that might or\nmight not have turned out as well.\n\n18\n00:00:55.490 --> 00:00:57.360\nAll right, so we're gonna pick-\n&gt;&gt; What did he call\n\n19\n00:00:57.360 --> 00:00:57.940\nthis, what, I don't know?\n\n20\n00:00:57.940 --> 00:00:59.170\n&gt;&gt; What the hell are we doing here?\n\n21\n00:00:59.170 --> 00:00:59.840\nWhat's going on?\n\n22\n00:00:59.840 --> 00:01:01.650\nThis whole convert security thing,\nI don't know.\n\n23\n00:01:01.650 --> 00:01:02.230\nNo.\nWe're\n\n24\n00:01:02.230 --> 00:01:03.650\ngonna pick back up where we left off.\n\n25\n00:01:03.650 --> 00:01:05.540\nIf you remember in the last episode,\n\n26\n00:01:05.540 --> 00:01:09.420\nwe had walked through\nthe specifics of how to create.\n\n27\n00:01:09.420 --> 00:01:14.660\nAnd issue those certificates required for\nus to now initialize the HGS installation.\n\n28\n00:01:14.660 --> 00:01:18.530\nWe needed two, right, we needed our\nsign in and our encryption certificates.\n\n29\n00:01:18.530 --> 00:01:21.600\nSo we walk through how to\nstand up the ADCS component.\n\n30\n00:01:21.600 --> 00:01:26.320\nIssue those certificates, export them\nout with the private keys, delete them\n\n31\n00:01:26.320 --> 00:01:30.260\nas a countermeasure against the potential\nissues with the installation.\n\n32\n00:01:30.260 --> 00:01:33.490\nCuz of a opportunity to be successful that\n\n33\n00:01:33.490 --> 00:01:36.430\nMicrosoft has offered us\nto modify the installation.\n\n34\n00:01:36.430 --> 00:01:39.378\nSo I said you're in the real world this\ndoes sometimes represent a challenge.\n\n35\n00:01:39.378 --> 00:01:43.585\nSo I suggested to you that although\ncontrary to normal recommendations.\n\n36\n00:01:43.585 --> 00:01:46.695\nWe would wanna delete those\ncertificates out of the store\n\n37\n00:01:46.695 --> 00:01:50.845\nonce they have been exported,\nclearly exported, with the private key.\n\n38\n00:01:50.845 --> 00:01:53.395\nAnd you make sure you\nhave good working copies.\n\n39\n00:01:53.395 --> 00:01:56.835\nWe deleted them or at least we pretended\nto but you know that we would.\n\n40\n00:01:56.835 --> 00:01:59.965\nAnd now we're gonna pick\nback up at that point and\n\n41\n00:01:59.965 --> 00:02:01.590\nwe're gonna go back into PowerShell.\n\n42\n00:02:01.590 --> 00:02:05.640\nAnd we're about to walk through\nthe series of commands required\n\n43\n00:02:05.640 --> 00:02:09.610\nto now finalize and set up and\n\n44\n00:02:09.610 --> 00:02:15.450\ndeal with the initialization aspect of\nfinalizing our installation of HGS.\n\n45\n00:02:15.450 --> 00:02:16.630\nRight, Host Guardian Services.\n\n46\n00:02:16.630 --> 00:02:17.920\nSo join me here if you will or\n\n47\n00:02:17.920 --> 00:02:22.400\njoin me there, if you will and\nlet's walk through what we're doing here.\n\n48\n00:02:22.400 --> 00:02:24.210\nNow I did tell you at the end,\n\n49\n00:02:24.210 --> 00:02:27.610\nthe outro of the last episode that\nI've made a little boo boo, right.\n\n50\n00:02:27.610 --> 00:02:29.710\nAnd I left it up on the screen for\nyou to see.\n\n51\n00:02:29.710 --> 00:02:34.680\nIt's all that red,\nangry text, is just because I\n\n52\n00:02:34.680 --> 00:02:39.560\nput a space in my name for\nthe failover cluster name for HGS service.\n\n53\n00:02:39.560 --> 00:02:41.650\nBut we'll deal with that,\nI'll explain what I did there, and\n\n54\n00:02:41.650 --> 00:02:42.220\nwhat you do to fix it.\n\n55\n00:02:42.220 --> 00:02:46.340\nIt's very simple, I just reran the script\nwithout the space, and it works just fine.\n\n56\n00:02:46.340 --> 00:02:52.200\nThat's just me at the end of a hour and a\nhalf of banging my head against the table\n\n57\n00:02:52.200 --> 00:02:55.160\nhere, to get it all working, forgetting\nthat I can't use spaces for the name.\n\n58\n00:02:55.160 --> 00:02:58.170\nAll right so let's go back to full screen,\ncuz it is gonna be important for\n\n59\n00:02:58.170 --> 00:02:59.310\nyou to see what we're doing here.\n\n60\n00:02:59.310 --> 00:03:01.810\nLet's talk about this so\nwe're to start right up here.\n\n61\n00:03:03.110 --> 00:03:05.090\nDollar sign, certificate, password.\n\n62\n00:03:05.090 --> 00:03:07.910\nWe did this if you remember\nback in the first episode\n\n63\n00:03:07.910 --> 00:03:10.180\nas we did the dollar sign admin password.\n\n64\n00:03:10.180 --> 00:03:13.840\nSaid okay, hey, let's variable or\nlet's set that into a variable.\n\n65\n00:03:13.840 --> 00:03:17.740\nLets then convert it to a secure string,\nstore it securely, and then reference it.\n\n66\n00:03:17.740 --> 00:03:20.100\nSo we're doing the same thing, but\n\n67\n00:03:20.100 --> 00:03:25.730\nthe only difference is that I did\n$adminpassword during the inital install.\n\n68\n00:03:25.730 --> 00:03:29.910\nI'm just simply doing certificate password\nnow, cuz this is the password for\n\n69\n00:03:29.910 --> 00:03:30.670\nthe certificates.\n\n70\n00:03:30.670 --> 00:03:36.740\nRemember, when I exported them with the\nprivate key I had to provide the password\n\n71\n00:03:36.740 --> 00:03:41.300\nthat would unlock the certificate when\nI import it to be able to use it.\n\n72\n00:03:41.300 --> 00:03:45.230\nThat's what I'm going to be providing in\nthis first line in PowerShell right now.\n\n73\n00:03:45.230 --> 00:03:50.150\nSo same syntax here, but literally I\njust did our dollar sign certificate\n\n74\n00:03:50.150 --> 00:03:55.090\npassword to differentiate and specify\nto me or anybody who would be looking.\n\n75\n00:03:55.090 --> 00:03:59.210\nThat this variable is a variable\nspecific to the certificate password,\n\n76\n00:03:59.210 --> 00:04:00.990\nas opposed to the admin password.\n\n77\n00:04:00.990 --> 00:04:05.680\nBut the same logic would apply,\n=Convertto-securestring,\n\n78\n00:04:05.680 --> 00:04:09.350\nas plain text,\nthere is my password and then force.\n\n79\n00:04:09.350 --> 00:04:10.580\nAll right so we got that.\n\n80\n00:04:10.580 --> 00:04:16.160\nNow the mistake I made, then what I did to\nfix it, and then the right way to do it.\n\n81\n00:04:16.160 --> 00:04:19.390\nSo, initialize HGS server.\n\n82\n00:04:19.390 --> 00:04:22.890\nThat is the command that\nwe're using to finalize\n\n83\n00:04:22.890 --> 00:04:27.290\nthe configuration of HGS on this post,\non plabsa01.\n\n84\n00:04:28.400 --> 00:04:31.080\nHGS service name, the parameter, I,\n\n85\n00:04:31.080 --> 00:04:35.350\nas you can see right there have\na space between itpro and HGS.\n\n86\n00:04:35.350 --> 00:04:37.190\nAnd well\n&gt;&gt; You gotta be close.\n\n87\n00:04:37.190 --> 00:04:40.530\n&gt;&gt; And you're not supposed, even with\nthe quotes, which would normally work.\n\n88\n00:04:40.530 --> 00:04:43.710\nBut you can't have a space when\nyou are naming the instance.\n\n89\n00:04:43.710 --> 00:04:46.620\nSo, I forgot to or well,\nlet me just be clear,\n\n90\n00:04:46.620 --> 00:04:51.070\nI purposely ignored that because I was\nwrapped up on what I was doing and said.\n\n91\n00:04:51.070 --> 00:04:51.990\nWho cares?\nIt'll work.\n\n92\n00:04:51.990 --> 00:04:53.250\nNo, I didn't, I just forgot, actually.\n\n93\n00:04:53.250 --> 00:04:54.640\nRight, that we can't use spaces.\n\n94\n00:04:54.640 --> 00:04:56.120\nBut no space for the name.\n\n95\n00:04:56.120 --> 00:05:00.030\nSo that was the mistake that leads\nall that red angry text down there.\n\n96\n00:05:00.030 --> 00:05:03.270\nBut it's a good valuable lesson for you,\nwhich is why I left it up on the screen.\n\n97\n00:05:03.270 --> 00:05:04.880\nLet me explain why in just a minute.\n\n98\n00:05:04.880 --> 00:05:07.540\nLet's just walk through the rest\nof the command syntax, then I'll\n\n99\n00:05:07.540 --> 00:05:12.350\nbreak down the error for you to help you\nunderstand exactly what it's telling us.\n\n100\n00:05:12.350 --> 00:05:14.110\nWe got a log that we can look at as well.\n\n101\n00:05:14.110 --> 00:05:15.530\nI'll show you where the logs are but\n\n102\n00:05:15.530 --> 00:05:17.995\nthen we'll run it the right way\nwhich is right below as you can see.\n\n103\n00:05:17.995 --> 00:05:21.960\nAnd it went through with no trouble and\nit's all set and ready to go.\n\n104\n00:05:21.960 --> 00:05:25.320\nSo HGS service name obviously\nyou now know no space there.\n\n105\n00:05:25.320 --> 00:05:28.780\nAlright, so then,\nsigning certificate path parameter.\n\n106\n00:05:29.940 --> 00:05:32.730\nThis is where we are calling\nthe first of our two certificates.\n\n107\n00:05:32.730 --> 00:05:34.240\n&gt;&gt; Yeah, ok.\n&gt;&gt; Remember signing?\n\n108\n00:05:34.240 --> 00:05:37.110\nSo since we're doing signing and\nencryption I did signing first.\n\n109\n00:05:37.110 --> 00:05:38.610\nNo difference here in order.\n\n110\n00:05:38.610 --> 00:05:40.790\nI could have done encryption first,\nit wouldn't matter.\n\n111\n00:05:40.790 --> 00:05:44.290\nBut signing certificate path,\nthat's the parameter.\n\n112\n00:05:44.290 --> 00:05:48.750\nAnd then, I specify the path,\nIn this case, c:signin.pfx.\n\n113\n00:05:48.750 --> 00:05:53.660\nWhatever you put or rather excuse me, the\npath where you have the certificates local\n\n114\n00:05:53.660 --> 00:05:56.105\nand the name for\nthem is what you would put here.\n\n115\n00:05:56.105 --> 00:05:57.395\nI just kept it simple.\n\n116\n00:05:57.395 --> 00:06:01.715\nSo I did that closed the quote\noff to the end here.\n\n117\n00:06:01.715 --> 00:06:04.945\nJust to show you that right there.\n\n118\n00:06:04.945 --> 00:06:07.895\nThen, I know it's hard to see,\nbut it's right at the edge there.\n\n119\n00:06:07.895 --> 00:06:14.655\nI started typing and I have the signing\ncertificate password parameter.\n\n120\n00:06:14.655 --> 00:06:18.470\nSo what is the password for\nthe signing certificate.\n\n121\n00:06:18.470 --> 00:06:21.850\nThat is why I bring in my variable\ndollar sign certificate password.\n\n122\n00:06:21.850 --> 00:06:26.120\nI am substituting that secure string\nvalue in the variable there so\n\n123\n00:06:26.120 --> 00:06:28.770\nit will be used to reference the password.\n\n124\n00:06:28.770 --> 00:06:34.360\nRepeat the same activity but in this case\nnow specify encryption instead of signing.\n\n125\n00:06:34.360 --> 00:06:39.880\nEncryption certificate path,\nspecify the path, c encryption pfs.\n\n126\n00:06:39.880 --> 00:06:43.153\nEncryption certificate password,\nbring in the variable.\n\n127\n00:06:43.153 --> 00:06:46.598\nSame variable $certficatepassword.\n\n128\n00:06:46.598 --> 00:06:48.500\nThen, in case or rather,\n\n129\n00:06:48.500 --> 00:06:54.090\nthis is where we have to specify what\nthe attestation method is going to be.\n\n130\n00:06:54.090 --> 00:06:58.360\nWe are doing in this case\ntrust activedirectory,\n\n131\n00:06:58.360 --> 00:07:04.780\nbecause I'm not using a version 2 TPM\nhost that can support a trusted TPM.\n\n132\n00:07:04.780 --> 00:07:10.460\nBut if I had the version 2 TPM\nsupport I would do trusted TPM there.\n\n133\n00:07:10.460 --> 00:07:13.850\nSo it's a question of which switch or\nwhich parameter I use.\n\n134\n00:07:13.850 --> 00:07:18.435\nI chose trust active directory because\nI don't have a supported TPM config\n\n135\n00:07:18.435 --> 00:07:20.125\nthat HGS can use.\n\n136\n00:07:20.125 --> 00:07:22.145\nSo you'll make that choice at\nthe end of that statement.\n\n137\n00:07:22.145 --> 00:07:23.855\nSo I ran that, we had the error.\n\n138\n00:07:23.855 --> 00:07:27.875\nThe error is, as you can see,\nas I pointed to, the issue of space there.\n\n139\n00:07:27.875 --> 00:07:28.895\nBut let's read the error.\n\n140\n00:07:28.895 --> 00:07:31.014\nIt says, right stream end log,\n\n141\n00:07:31.014 --> 00:07:34.870\ncluster operation terminates\nwith the following error.\n\n142\n00:07:36.283 --> 00:07:41.160\nSet clusterparameter, well we didn't do\na set clusterparameter, well no we didn't.\n\n143\n00:07:41.160 --> 00:07:44.195\nBut part of the HGS service\nname configuration,\n\n144\n00:07:44.195 --> 00:07:47.014\nas we're doing initialize HGS server here.\n\n145\n00:07:47.014 --> 00:07:49.928\nIs, as I mentioned,\nwe're building on not just HGS, but\n\n146\n00:07:49.928 --> 00:07:53.807\nwe're setting up a failover cluster,\nadding the HGS host instance into it.\n\n147\n00:07:53.807 --> 00:07:58.044\nAnd it becomes part of the capacity\nthat we build out or we add to.\n\n148\n00:07:58.044 --> 00:08:03.039\nAnd the name space issue is associated\nwith the cluster situation.\n\n149\n00:08:03.039 --> 00:08:07.112\nSo that's the problem we have even though\nwe're not specifically calling the cluster\n\n150\n00:08:07.112 --> 00:08:10.960\nand configuring it, it's part of the\noverall configuration that gets kicked off\n\n151\n00:08:10.960 --> 00:08:13.102\nwith the initialize HGS server commandlet.\n\n152\n00:08:13.102 --> 00:08:14.326\n&gt;&gt; Yeah, I'm wondering,\n\n153\n00:08:14.326 --> 00:08:18.131\ncuz what's happening is at some point\nthey're gonna make some DNS records.\n\n154\n00:08:18.131 --> 00:08:19.802\nTo locate the cluster, right?\n\n155\n00:08:19.802 --> 00:08:22.920\nAnd a space in a DNS name\nis not gonna be allowed, so\n\n156\n00:08:22.920 --> 00:08:25.384\nbet you that's where it comes back to.\n\n157\n00:08:25.384 --> 00:08:28.875\n&gt;&gt; Yeah, I hadn't thought\nabout that before I did it.\n\n158\n00:08:28.875 --> 00:08:30.965\n&gt;&gt; Hindsight 20/10.\n\n159\n00:08:30.965 --> 00:08:31.578\n&gt;&gt; I would have known that,\n\n160\n00:08:31.578 --> 00:08:33.138\nI and I know that know, but\nI didn't think about it at the time.\n\n161\n00:08:33.138 --> 00:08:37.000\nCuz well, I was busy trying to not tear my\nhair out while I was setting all this up.\n\n162\n00:08:37.000 --> 00:08:40.146\nAll right, so\nthe error then of course comes from that.\n\n163\n00:08:40.146 --> 00:08:45.284\nIf you continue reading through it tells\nyou Unable to save property changes for\n\n164\n00:08:45.284 --> 00:08:46.826\nHGS cluster resource.\n\n165\n00:08:46.826 --> 00:08:50.531\nThe format, if we go full screen,\ncuz I want you to see, it's hard to see.\n\n166\n00:08:50.531 --> 00:08:53.448\nThe format of the specified\nnetwork name is invalid.\n\n167\n00:08:53.448 --> 00:08:55.703\nThat's the line right there, right?\n\n168\n00:08:55.703 --> 00:08:58.599\nThat tells us or at least should tell you.\n\n169\n00:08:58.599 --> 00:09:00.739\nIf you're reading through it that hey,\n\n170\n00:09:00.739 --> 00:09:04.971\nwell, there's definitely something going\non, where do I specify a network name?\n\n171\n00:09:04.971 --> 00:09:08.592\nNow, you've got to know,\nit's not, although yes,\n\n172\n00:09:08.592 --> 00:09:12.633\nit calls it through the set\ncluster parameter network name.\n\n173\n00:09:12.633 --> 00:09:14.814\nWe don't reference it as\nnetwork name in the string,\n\n174\n00:09:14.814 --> 00:09:16.950\nwe're actually referencing\nit here in the script.\n\n175\n00:09:16.950 --> 00:09:19.912\nWe're referencing a HDS service name.\n\n176\n00:09:19.912 --> 00:09:23.075\nThat's the network name\nthat the error refers to.\n\n177\n00:09:23.075 --> 00:09:27.162\nSo you gotta read a little, and\nthen read between the line, so to speak,\n\n178\n00:09:27.162 --> 00:09:30.112\nto know what that error code\nis actually telling us.\n\n179\n00:09:30.112 --> 00:09:33.904\nKudos, and I'm not being facetious when\nI say this, kudos to Microsoft for\n\n180\n00:09:33.904 --> 00:09:37.772\ngiving us good documentation on the error\nreturns in PowerShell in general.\n\n181\n00:09:37.772 --> 00:09:40.585\nThis one is perhaps not quite\nas clear as some of the others.\n\n182\n00:09:40.585 --> 00:09:43.691\nYou've gotta have a little bit of\nknowledge of what we're doing,\n\n183\n00:09:43.691 --> 00:09:45.864\na little bit of knowledge\nto extrapolate out.\n\n184\n00:09:45.864 --> 00:09:49.038\nKnowing for\ninstance as Mike was suggesting that hey,\n\n185\n00:09:49.038 --> 00:09:53.044\nwe're configuring a cluster,\nneed some DNS records down the road.\n\n186\n00:09:53.044 --> 00:09:55.362\nNo spaces allowed in\nthose DNS record names,\n\n187\n00:09:55.362 --> 00:09:58.174\nthose kinds of things\nare obviously helpful, right?\n\n188\n00:09:58.174 --> 00:10:02.136\nDefinitely, background information that\nsome people may or may not have, right?\n\n189\n00:10:02.136 --> 00:10:03.351\nJust to be clear.\n\n190\n00:10:03.351 --> 00:10:07.922\nBut if you in general read\nthese PowerShell output error\n\n191\n00:10:07.922 --> 00:10:10.167\nstatements on the screen.\n\n192\n00:10:10.167 --> 00:10:14.354\nThen usually, I'm not gonna say all\nthe time because there are exceptions.\n\n193\n00:10:14.354 --> 00:10:18.508\nBut usually you can reason\nthrough what happened.\n\n194\n00:10:18.508 --> 00:10:22.053\nIt's just that you have to get\nover the shock of seeing 200 lines\n\n195\n00:10:22.053 --> 00:10:23.518\nof red code yelling at you.\n\n196\n00:10:23.518 --> 00:10:26.026\nCuz the rest of it,\nit's important to the system.\n\n197\n00:10:26.026 --> 00:10:30.440\nIt tells you where the log error is and\nthe line parameter, and all this stuff.\n\n198\n00:10:30.440 --> 00:10:33.214\nBut unless you're debugging,\nyou don't need that.\n\n199\n00:10:33.214 --> 00:10:34.152\nIt's just kind of irrelevant.\n\n200\n00:10:34.152 --> 00:10:36.762\nIt could have stopped right there and\nwe would have gotten the same place and\n\n201\n00:10:36.762 --> 00:10:37.807\nfixed the problem just fine.\n\n202\n00:10:37.807 --> 00:10:39.368\nSo you just gotta get past all that.\n\n203\n00:10:39.368 --> 00:10:44.115\nBut having said that, If you recover from\nthat and say okay let me scratch my head.\n\n204\n00:10:44.115 --> 00:10:46.190\nI'll figure that out\nknow what I got to do.\n\n205\n00:10:46.190 --> 00:10:48.075\nGo change the space, get rid of it.\n\n206\n00:10:48.075 --> 00:10:50.226\nSo I just come down here,\njust scroll down.\n\n207\n00:10:52.196 --> 00:10:54.691\nWe'll make that error go away and\npretend it never happened.\n\n208\n00:10:57.316 --> 00:10:58.341\nAnd look at the error.\n\n209\n00:10:58.341 --> 00:10:59.773\nWhat error?\n\n210\n00:10:59.773 --> 00:11:02.359\nIt's a bright new shiny\nday here at ITPROTV.\n\n211\n00:11:02.359 --> 00:11:06.594\nAll right, so if we run this the right\nway without the space as you can see.\n\n212\n00:11:06.594 --> 00:11:09.807\nSo I just removed, literally,\njust up the arrow,\n\n213\n00:11:09.807 --> 00:11:14.385\nlove that memory feature and function\nnow we have in the command buffer.\n\n214\n00:11:14.385 --> 00:11:17.815\nSo, just up arrowed, right,\nbrought the command back,\n\n215\n00:11:17.815 --> 00:11:19.780\njust backspaced out that space.\n\n216\n00:11:19.780 --> 00:11:22.485\nAnd then reran it, no problem at all.\n\n217\n00:11:22.485 --> 00:11:24.400\nYou can see it just comes right through.\n\n218\n00:11:24.400 --> 00:11:27.106\nWe do get a log path,\nwhich is the expected output by the way.\n\n219\n00:11:27.106 --> 00:11:30.232\nIt tells us where we log this\ninformation so you can see this.\n\n220\n00:11:30.232 --> 00:11:32.813\nNow if you go take a look for this path,\n\n221\n00:11:32.813 --> 00:11:36.303\nyou will see that we have\na rather convoluted path.\n\n222\n00:11:36.303 --> 00:11:39.107\nWe go bring this up, and\nI do have it here already.\n\n223\n00:11:39.107 --> 00:11:42.956\nWe have Windows Logs HCS Server,\ngot several folders here.\n\n224\n00:11:42.956 --> 00:11:45.357\nCuz I ran it once,\ngot the error and obviously,\n\n225\n00:11:45.357 --> 00:11:48.599\nevery time I do that it creates its\nanalogue, so I have to look for\n\n226\n00:11:48.599 --> 00:11:52.044\nthe right one to see the output that\nis gonna actually show success.\n\n227\n00:11:52.044 --> 00:11:56.585\nSo 1710519, it looks like\n1030 down at the bottom here,\n\n228\n00:11:56.585 --> 00:12:01.045\nof course I could just go by the time\nstamp, that would also help me,\n\n229\n00:12:01.045 --> 00:12:04.205\nthe last one is probably the one,\nmost likely.\n\n230\n00:12:04.205 --> 00:12:06.374\nProbably gonna be the one that works,\nbut yeah, you never know.\n\n231\n00:12:06.374 --> 00:12:09.034\nSo we're gonna go look in here.\n\n232\n00:12:09.034 --> 00:12:12.316\nAnd we're gonna see the [INAUDIBLE] SA01,\nthe host name folder.\n\n233\n00:12:12.316 --> 00:12:15.369\nAnd inside there we do have our\nlog file for disinterested.\n\n234\n00:12:15.369 --> 00:12:18.488\n3 Kilobits is not all that big, but\nit's always good to take a look.\n\n235\n00:12:18.488 --> 00:12:20.257\nYou just never know sometimes\nwhat you're gonna find.\n\n236\n00:12:20.257 --> 00:12:22.241\nSo you'll see here it does provide for\n\n237\n00:12:22.241 --> 00:12:26.210\nus an echo of the command structure we\nissued in PowerShell, which is nice.\n\n238\n00:12:26.210 --> 00:12:27.086\nSo we do have that, and\n\n239\n00:12:27.086 --> 00:12:30.318\nthen it checks the status of the AD domain\ncontroller getting the existing status on\n\n240\n00:12:30.318 --> 00:12:32.788\nthe AD Domain Controller getting\nthe existing status domain.\n\n241\n00:12:32.788 --> 00:12:36.830\nOr getting the system status on the Domain\nController, lists all of that for us.\n\n242\n00:12:36.830 --> 00:12:39.900\nSo it does go through,\npull out the computer object,\n\n243\n00:12:39.900 --> 00:12:43.255\ndistinguish name,\nthe default partition, the domain.\n\n244\n00:12:43.255 --> 00:12:44.968\nIs it enabled true, false?\n\n245\n00:12:44.968 --> 00:12:45.715\nEnable true.\n\n246\n00:12:45.715 --> 00:12:48.723\nForest name, host name within the forest.\n\n247\n00:12:48.723 --> 00:12:53.451\nIt's got the invocation ID which is the\nunique identifier that's issued for this.\n\n248\n00:12:53.451 --> 00:12:57.888\nIt's got the IPv4 address,\ngot all of that stuff here.\n\n249\n00:12:57.888 --> 00:13:01.309\nAnd then [COUGH].\n\n250\n00:13:01.309 --> 00:13:05.084\nAs it polls all that, just gets all\nthe schema roles all that stuff there.\n\n251\n00:13:05.084 --> 00:13:09.458\nIt's all set up,\nthe site name default first site name etc.\n\n252\n00:13:09.458 --> 00:13:13.874\nAnd it says hey I discovered the AD\ndomain controller on the first attempt.\n\n253\n00:13:13.874 --> 00:13:17.303\nFailover cluster already exists\nbecause remember I ran the wizard,\n\n254\n00:13:17.303 --> 00:13:19.910\nI ran the invoke the first\ntime the command started.\n\n255\n00:13:19.910 --> 00:13:23.362\nBut then didn't finish so kinda this\ntime it says yeah, it's there right?\n\n256\n00:13:23.362 --> 00:13:26.778\nNo big deal, cuz they already started\nto name it before it failed so, and\n\n257\n00:13:26.778 --> 00:13:30.205\nby the way, that would happen if you\nhave your or would actually do that.\n\n258\n00:13:30.205 --> 00:13:32.399\nSo HGS cluster, whatever is there.\n\n259\n00:13:32.399 --> 00:13:35.053\nAnd then you'll see creating or\njoining the cluster,\n\n260\n00:13:35.053 --> 00:13:38.800\nit kinda picks up where it left off and\njust joins the existing cluster shell,\n\n261\n00:13:38.800 --> 00:13:42.686\nthat was started before it errored out\nbecause of the name issue, with a space.\n\n262\n00:13:42.686 --> 00:13:43.671\nSo it does that.\n\n263\n00:13:43.671 --> 00:13:46.709\nAnd then it runs through, you can see\nthere, creating or joining a cluster,\n\n264\n00:13:46.709 --> 00:13:49.818\nconfiguring group managed service account,\nfor the host guardian service.\n\n265\n00:13:49.818 --> 00:13:52.831\nWanted to call this out real quick and\njust talk about this for a minute.\n\n266\n00:13:52.831 --> 00:13:55.562\nNot just a Managed Service Account,\nan MSA, but a G,\n\n267\n00:13:55.562 --> 00:13:57.337\na Group Managed Service Account.\n\n268\n00:13:57.337 --> 00:13:58.060\nAnd we've talked about this.\n\n269\n00:13:58.060 --> 00:14:01.976\nI've talked about this in other episodes,\nwith Cherokee,\n\n270\n00:14:01.976 --> 00:14:05.293\nin some of the earlier\ntopics we went through here.\n\n271\n00:14:05.293 --> 00:14:09.031\nWe've talked about it in other shows\nas well, but let's just remind you what\n\n272\n00:14:09.031 --> 00:14:12.485\nManaged Service Accounts are versus\nGroup Managed Service Accounts,\n\n273\n00:14:12.485 --> 00:14:14.974\ncuz there's a distinction,\nand it is important.\n\n274\n00:14:14.974 --> 00:14:19.695\nThe idea of the managed service account,\nor the group managed service account,\n\n275\n00:14:19.695 --> 00:14:24.498\nemerges in the last couple of generations\nof the OS 12, 12r2, server 16.\n\n276\n00:14:24.498 --> 00:14:26.916\nWe probably,\nI'm sure all of you know about or\n\n277\n00:14:26.916 --> 00:14:31.505\nconceptually can think about the concept\nof generically, a service account, right?\n\n278\n00:14:31.505 --> 00:14:35.407\nAn account that's tied to the service,\nthat's used as an alias so\n\n279\n00:14:35.407 --> 00:14:36.951\nthe service can operate.\n\n280\n00:14:36.951 --> 00:14:39.706\nWe have three standard ones right now,\nthe local service account,\n\n281\n00:14:39.706 --> 00:14:40.974\nthe network service account.\n\n282\n00:14:40.974 --> 00:14:44.306\nThings like that that exist and\nhave existed in one form or another,\n\n283\n00:14:44.306 --> 00:14:47.651\nprobably since Windows 95,\nsince the earliest days of Windows.\n\n284\n00:14:47.651 --> 00:14:49.313\nWe could see this, by the way, right?\n\n285\n00:14:49.313 --> 00:14:56.239\nIf we just want to go take a look,\nwe can go to our services MMC.\n\n286\n00:14:56.239 --> 00:14:59.187\nI'm just gonna go to Tools in\nthe server manager to bring it up,\n\n287\n00:14:59.187 --> 00:15:01.205\nbecause they can easily do that from here.\n\n288\n00:15:01.205 --> 00:15:03.948\nBut I can just go to services,\nright there.\n\n289\n00:15:03.948 --> 00:15:06.779\nAnd on any of the services, right?\n\n290\n00:15:06.779 --> 00:15:08.131\nJust pick one.\n\n291\n00:15:08.131 --> 00:15:10.985\nAnd let's go in, let's go to log on,\n\n292\n00:15:10.985 --> 00:15:16.627\nyou'll see this one runs under\nthe network service account for instance.\n\n293\n00:15:16.627 --> 00:15:18.471\nNetwork service, local service, etc.\n\n294\n00:15:18.471 --> 00:15:20.055\nSo there's default, right?\n\n295\n00:15:20.055 --> 00:15:24.575\nLocal system account, network service,\nlocal, there's different ones you can use.\n\n296\n00:15:24.575 --> 00:15:28.149\nThe Manage Service account is\na new type of service account,\n\n297\n00:15:28.149 --> 00:15:32.562\nand what it essentially allows us to\ndo is provide an Active Directory based\n\n298\n00:15:32.562 --> 00:15:34.117\nManage Service account.\n\n299\n00:15:34.117 --> 00:15:36.854\nIf it's a group Manage Service\naccount that we can use or\n\n300\n00:15:36.854 --> 00:15:38.667\neven just a Manage Service account.\n\n301\n00:15:38.667 --> 00:15:42.435\nThe difference is that Manage Service\naccount is only local to this one machine.\n\n302\n00:15:42.435 --> 00:15:44.856\nIt cannot be delegated or shared,\n\n303\n00:15:44.856 --> 00:15:49.534\nuse by other machines as a service\naccount to run for this service.\n\n304\n00:15:49.534 --> 00:15:53.232\nWhereas the group Manage Service account,\nwhich is the one we're using for\n\n305\n00:15:53.232 --> 00:15:56.290\nHGS Is going to be available for\ndelegation, we can share it and\n\n306\n00:15:56.290 --> 00:15:58.618\nmake it available, and\nother hosts can use it.\n\n307\n00:15:58.618 --> 00:16:02.418\nWhich if you think about the logic, what\nHGS is, after setting up in a cluster,\n\n308\n00:16:02.418 --> 00:16:06.474\nwe're gonna add multiple hosts, minimum\nthree traditionally as we talked about.\n\n309\n00:16:06.474 --> 00:16:10.262\nBecause we're doing all that, we wanna\ngroup now to service company to be shared\n\n310\n00:16:10.262 --> 00:16:13.733\namong all the hosts so they can all use\nthe same account to run the service.\n\n311\n00:16:13.733 --> 00:16:16.331\nSo that does make a lot of sense, right?\n\n312\n00:16:16.331 --> 00:16:19.267\nSo we just wanna think about the logic\nof that and understand that and\n\n313\n00:16:19.267 --> 00:16:21.391\npoint out that that's\nwhat's happening here.\n\n314\n00:16:21.391 --> 00:16:25.260\nSo we do have a GMSA which is what Groups\nManaged Service Accounts are called.\n\n315\n00:16:25.260 --> 00:16:29.110\nWe create the guardian that has\nguardian service website, configurate,\n\n316\n00:16:29.110 --> 00:16:33.019\nregister the key which actually services\nthe KPS which does the key issue and\n\n317\n00:16:33.019 --> 00:16:34.502\nsome key management for us.\n\n318\n00:16:34.502 --> 00:16:36.701\nWe register the attestation service.\n\n319\n00:16:36.701 --> 00:16:40.746\nThat's the service that does the actual\nvalidation of the configuration of\n\n320\n00:16:40.746 --> 00:16:44.854\nthe host so that we can show whether\nthrough trusted TPM or Active Directory,\n\n321\n00:16:44.854 --> 00:16:49.024\nattestation that we are gonna meet the\nminimum requirement to run shielded VMs\n\n322\n00:16:49.024 --> 00:16:49.684\nfrom them.\n\n323\n00:16:49.684 --> 00:16:52.843\nThe whole idea is to build\nthe guarded fabric and\n\n324\n00:16:52.843 --> 00:16:54.981\nto run shielded VMs on top of it.\n\n325\n00:16:54.981 --> 00:17:00.165\nAnd the idea with a shielded VM and\nHGS in the guarded fabric is that\n\n326\n00:17:00.165 --> 00:17:06.025\nthe shielded VMs can not be spun up and\nrun unless the fabric is validated.\n\n327\n00:17:06.025 --> 00:17:08.891\nAnd the attestation service\nvalidates the fabric and\n\n328\n00:17:08.891 --> 00:17:13.415\nvalidates the host configurations to be\ninsure that they meet the requirements, so\n\n329\n00:17:13.415 --> 00:17:15.021\nthat's why we have all this.\n\n330\n00:17:15.021 --> 00:17:17.983\nUpdating the attestation\nsigner's certificate.\n\n331\n00:17:17.983 --> 00:17:22.176\nThat's where we're bringing in\nthe signing certificate that we issued.\n\n332\n00:17:22.176 --> 00:17:25.475\nUpdating or scheduling the attestation\nsigner certificate update task,\n\n333\n00:17:25.475 --> 00:17:28.525\nregistering PowerShell remoting,\ninitializing the HGS service.\n\n334\n00:17:28.525 --> 00:17:31.281\nSo yeah, we're doing all this stuff,\nand it's all configured.\n\n335\n00:17:31.281 --> 00:17:35.771\nSee, it's all done there very quick,\nhappens within 20, 30 seconds.\n\n336\n00:17:35.771 --> 00:17:38.511\nLook at the time stamps,\npretty quick overall.\n\n337\n00:17:38.511 --> 00:17:40.231\nSo we have all that done.\n\n338\n00:17:40.231 --> 00:17:44.191\nAnd then once that finishes up,\njust minimize this.\n\n339\n00:17:44.191 --> 00:17:49.703\nOnce that finishes up, we're done with\nthe multi-step, multi-stage involved\n\n340\n00:17:49.703 --> 00:17:55.071\nprocess of now initializing, installing,\ninitializing, configuring HGS.\n\n341\n00:17:55.071 --> 00:17:56.079\nWe're not done but\n\n342\n00:17:56.079 --> 00:17:59.751\nwe're done with the initial thought\nprocess around standing it up.\n\n343\n00:17:59.751 --> 00:18:05.091\nRemember because we deleted\nthe certificates out of the store.\n\n344\n00:18:05.091 --> 00:18:08.577\nWe have to reimport them to make\nsure there gonna be there and\n\n345\n00:18:08.577 --> 00:18:12.502\navailable because right now their\nonly on this one host using HGS.\n\n346\n00:18:12.502 --> 00:18:15.727\nWe're gonna add other hosts,\nthey have to be available and allowed for\n\n347\n00:18:15.727 --> 00:18:16.981\nrather available for you.\n\n348\n00:18:16.981 --> 00:18:20.283\nSo we're gonna wanna import those,\nbring them back in.\n\n349\n00:18:20.283 --> 00:18:22.504\nSo I just wanna make sure you understand\nhow to do that, we'll go back,\n\n350\n00:18:22.504 --> 00:18:23.141\nwe'll take a look.\n\n351\n00:18:23.141 --> 00:18:24.105\nSo let's assume for\n\n352\n00:18:24.105 --> 00:18:27.981\na minute that our certificates are not\nhere even though we know they are, right?\n\n353\n00:18:27.981 --> 00:18:31.427\nWe're in, remember, the certificates MMC,\n\n354\n00:18:31.427 --> 00:18:37.131\ncertificate local management, MMC for\nthe computer where the HGS role is on.\n\n355\n00:18:37.131 --> 00:18:42.911\nSo we would come here,\nright click All Tasks, and Import.\n\n356\n00:18:42.911 --> 00:18:46.281\nWe just run the export wizard\nin reverse essentially.\n\n357\n00:18:46.281 --> 00:18:49.191\nWe will specify the filename.\n\n358\n00:18:49.191 --> 00:18:54.499\nRemember we had our path\nas c:/siding.pfx or\n\n359\n00:18:54.499 --> 00:18:57.694\nor c:/encryption.pfx.\n\n360\n00:18:57.694 --> 00:18:58.419\nSo, we would just simply\nimport one at a time.\n\n361\n00:18:58.419 --> 00:19:01.910\nAgain, it doesn't matter what order\nyou do them in, totally irrelevant,\n\n362\n00:19:01.910 --> 00:19:03.664\njust make sure you bring them both in.\n\n363\n00:19:03.664 --> 00:19:06.663\nSo you will specify that,\nprovide the password and\n\n364\n00:19:06.663 --> 00:19:11.002\nthen you go then come in here and\nthen they show up here, and that's good.\n\n365\n00:19:11.002 --> 00:19:13.252\nSo you got to make sure you do that,\nthat's very important.\n\n366\n00:19:13.252 --> 00:19:16.111\nSo we'll make sure just reminded\nyourself to import them.\n\n367\n00:19:16.111 --> 00:19:21.050\nOnce we've done that, then what we need\nto do is we should come over here to\n\n368\n00:19:21.050 --> 00:19:25.610\nthe certificate again one at a time,\nit doesn't matter which one.\n\n369\n00:19:25.610 --> 00:19:29.401\nRight click, go to Properties.\n\n370\n00:19:29.401 --> 00:19:34.189\nWe wanna go in and on the properties here,\nI'm sorry, you know what?\n\n371\n00:19:34.189 --> 00:19:35.270\nWe're managing the private key.\n\n372\n00:19:35.270 --> 00:19:37.001\nI'm thinking.\n\n373\n00:19:37.001 --> 00:19:38.541\nRight idea, wrong option.\n\n374\n00:19:38.541 --> 00:19:39.832\nForgive me.\n\n375\n00:19:39.832 --> 00:19:42.371\nOkay, so we're gonna go here to\nall tasks and manage private keys.\n\n376\n00:19:42.371 --> 00:19:45.007\nI'm thinking auto-enroll certificate.\n\n377\n00:19:45.007 --> 00:19:45.870\n&gt;&gt; Okay.\n\n378\n00:19:45.870 --> 00:19:46.823\n[LAUGH]\n&gt;&gt; So we already did that.\n\n379\n00:19:46.823 --> 00:19:50.549\nWe gotta go in here and assign the service\naccount rights to the private keys, so,\n\n380\n00:19:50.549 --> 00:19:53.047\nwe're gonna manage private\nkeys on the certificate.\n\n381\n00:19:53.047 --> 00:19:55.140\nWe're gonna come in here,\nsame idea, permissions, but\n\n382\n00:19:55.140 --> 00:19:56.131\njust the right place here.\n\n383\n00:19:56.131 --> 00:19:58.415\nWe just drag this over, so,\nyou can kind of see that.\n\n384\n00:19:58.415 --> 00:19:59.611\nAll right, so, there we are.\n\n385\n00:19:59.611 --> 00:20:03.581\nSo what we have to do is add\nthe service account in, right?\n\n386\n00:20:03.581 --> 00:20:05.832\nAnd then make sure we assign\nthe right permissions to it.\n\n387\n00:20:05.832 --> 00:20:09.631\nSo whatever the service account name is,\nwhatever it has been called.\n\n388\n00:20:09.631 --> 00:20:11.891\nSo we would come here, click Add.\n\n389\n00:20:11.891 --> 00:20:15.714\nNow, in order to grab the service account,\nwe gotta change the object type, and\n\n390\n00:20:15.714 --> 00:20:18.601\ngo there and go to Service Accounts,\nso that we can see that.\n\n391\n00:20:18.601 --> 00:20:20.494\nSo we're gonna click OK.\n\n392\n00:20:20.494 --> 00:20:23.626\nWe would put in the name of\nthe service account, whatever it is,\n\n393\n00:20:23.626 --> 00:20:24.788\nclick OK to add it here.\n\n394\n00:20:24.788 --> 00:20:30.864\nAnd then what we have to do is make\nsure that we are assigning full control,\n\n395\n00:20:30.864 --> 00:20:33.999\nand [COUGH] along with full control, or\n\n396\n00:20:33.999 --> 00:20:38.312\nrather, we wanna unselect,\nlet me try this again.\n\n397\n00:20:38.312 --> 00:20:40.608\nWe wanna select full control, and\nmake sure we have full control for\n\n398\n00:20:40.608 --> 00:20:42.316\nthe service account,\nis what I'm trying to say.\n\n399\n00:20:42.316 --> 00:20:43.317\nIt's been a long day.\n\n400\n00:20:43.317 --> 00:20:44.803\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] We wanna make sure\n\n401\n00:20:44.803 --> 00:20:46.087\nwe assign full control\nto the service account.\n\n402\n00:20:46.087 --> 00:20:48.233\nThat way it has rights\nto the private keys.\n\n403\n00:20:48.233 --> 00:20:49.377\nIt can interact with them and\n\n404\n00:20:49.377 --> 00:20:51.961\nuse them, is what I'm trying to\nsuggest we need to accomplish.\n\n405\n00:20:51.961 --> 00:20:56.102\nSo you would just add in the service\naccount here, obviously once you do that,\n\n406\n00:20:56.102 --> 00:20:58.316\nmake sure that's full control, hit OK.\n\n407\n00:20:58.316 --> 00:20:59.181\nAdd and then you're good, right?\n\n408\n00:20:59.181 --> 00:21:00.261\nThat will be there.\n\n409\n00:21:00.261 --> 00:21:03.179\nSo once we've done all that,\nthen what we can do,\n\n410\n00:21:03.179 --> 00:21:07.631\nis there will be additional steps to\nstart configuring the guarded fabric.\n\n411\n00:21:07.631 --> 00:21:11.405\nMike mentioned, for instance,\nsetting up DNS records and\n\n412\n00:21:11.405 --> 00:21:13.831\nsome things we would have to do there.\n\n413\n00:21:13.831 --> 00:21:17.542\nI mentioned we would need System Center\nVirtual Machine Manager to actually work\n\n414\n00:21:17.542 --> 00:21:20.341\nwith the guarded hosts and\nspecify them and configure them.\n\n415\n00:21:20.341 --> 00:21:24.928\nThere's a lot of other infrastructure that\nwe're not gonna touch on and talk about\n\n416\n00:21:24.928 --> 00:21:29.271\nspecific to just this piece of standing\nup and initializing the HGS function.\n\n417\n00:21:29.271 --> 00:21:31.706\nBut it would be important for\nus to consider and\n\n418\n00:21:31.706 --> 00:21:34.901\nthink about the fact that there\nare broader steps involved.\n\n419\n00:21:34.901 --> 00:21:38.820\nDoing this end to end, you would\nperhaps set up conditional forwarding\n\n420\n00:21:38.820 --> 00:21:42.281\nin DNS to specify record management\nto help us to understand and\n\n421\n00:21:42.281 --> 00:21:45.241\nconfigure how DNS would work for\nthe guarded fabric.\n\n422\n00:21:45.241 --> 00:21:48.632\nAnd as I suggest that there would then be\nother steps with SCVM would have to be\n\n423\n00:21:48.632 --> 00:21:51.495\ninstalled and configured on its\nown if it's not already there.\n\n424\n00:21:51.495 --> 00:21:53.647\nAnd we would then have to make\nsure the hosts are added.\n\n425\n00:21:53.647 --> 00:21:57.116\nAnd then we can manage them and\ndesignate them as guarded hosts there.\n\n426\n00:21:57.116 --> 00:22:00.773\nAnd then actually work with\ncreating the gen two shielded VMs,\n\n427\n00:22:00.773 --> 00:22:03.821\nwe'll talk about shielded\nVMs in our next episode.\n\n428\n00:22:03.821 --> 00:22:06.069\nRemember shielded versus encrypted VMs.\n\n429\n00:22:06.069 --> 00:22:08.503\nSo there's still gonna\nbe stuff to do here.\n\n430\n00:22:08.503 --> 00:22:11.640\nBut the pieces of the puzzle that\nwe wanted to make sure that we have\n\n431\n00:22:11.640 --> 00:22:14.153\naccomplished, or\nat least that we have touched on,\n\n432\n00:22:14.153 --> 00:22:18.063\nare going to be the pieces that we've been\nthrough in the last several episodes.\n\n433\n00:22:18.063 --> 00:22:21.193\nImportant just to make sure that we're\ncomfortable with all this things.\n\n434\n00:22:21.193 --> 00:22:24.103\nLet me just bring up Server Manager\nwhile we're talking.\n\n435\n00:22:24.103 --> 00:22:28.457\nRemember there's no interface for\nHTS inside of server managements.\n\n436\n00:22:28.457 --> 00:22:30.782\nIf there's no MMC,\nnothing we´re managing directly.\n\n437\n00:22:30.782 --> 00:22:34.604\nIt's all, as you see being done from\nthe commandline from PowerShell.\n\n438\n00:22:34.604 --> 00:22:39.220\nSo, don't get thrown by the fact\nthat when you go to Tools here, and\n\n439\n00:22:39.220 --> 00:22:44.566\nyou go to take a look, that we don't see\nsomething here along with Hyper-V for\n\n440\n00:22:44.566 --> 00:22:46.277\nHost Guardian service.\n\n441\n00:22:46.277 --> 00:22:49.487\nI mean yes, we do see a listing for\nit over here don´t get me wrong, but\n\n442\n00:22:49.487 --> 00:22:52.754\nthat's just the fact that the service or\nthe role has been installed and\n\n443\n00:22:52.754 --> 00:22:53.861\nthat it's just there.\n\n444\n00:22:53.861 --> 00:22:57.211\nWe can see the status of\nit in the server manager.\n\n445\n00:22:57.211 --> 00:22:59.431\nBut there's no way to manage it from here,\nright?\n\n446\n00:22:59.431 --> 00:23:04.556\nIt's all done from PowerShell, so we do\njust wanna make sure that we're aware\n\n447\n00:23:04.556 --> 00:23:10.006\nof that, and that's not going to throw us\nfor any issues or concerns here, right?\n\n448\n00:23:10.006 --> 00:23:11.466\nBecause that can be a problem.\n\n449\n00:23:11.466 --> 00:23:15.014\nNow, we do have the failover cluster\nmanager, I just wanted to touch on this\n\n450\n00:23:15.014 --> 00:23:18.516\nsince we're here, and we're wrapping\nup this part of our conversation.\n\n451\n00:23:18.516 --> 00:23:22.964\nRemember we do create the fail over\ncluster as part of the HGS configuration.\n\n452\n00:23:22.964 --> 00:23:26.557\nWe may not realize we were doing that,\nbut we do and I talked about that.\n\n453\n00:23:26.557 --> 00:23:29.521\nSo I thought it would be good just\nto show you the outcome of that.\n\n454\n00:23:29.521 --> 00:23:32.651\nYou'll see here, we do have\nan interface to manage this piece.\n\n455\n00:23:32.651 --> 00:23:35.031\nSo we can open up\nthe failover cluster manager.\n\n456\n00:23:35.031 --> 00:23:37.061\nAnd underneath there,\nwe do have our HGS cluster.\n\n457\n00:23:37.061 --> 00:23:39.631\nLet me just move this over so\nwe can kinda see that.\n\n458\n00:23:39.631 --> 00:23:41.120\nIf I can drag that, that is.\n\n459\n00:23:44.276 --> 00:23:45.445\nOr not.\n\n460\n00:23:45.445 --> 00:23:46.023\n&gt;&gt; There we go.\n\n461\n00:23:46.023 --> 00:23:48.075\n[LAUGH]\n&gt;&gt; [LAUGH] All right, so\n\n462\n00:23:48.075 --> 00:23:52.302\nwe can open this up just bring this down\nhere and you can see that we do have right\n\n463\n00:23:52.302 --> 00:23:56.858\nnow one cluster roll and one no because\nwe've only added the machine that we, I've\n\n464\n00:23:56.858 --> 00:24:01.512\ncurrently configured, I said at a minimum,\nyou typically wanna have three nodes.\n\n465\n00:24:01.512 --> 00:24:06.441\nSo, we hopefully have a couple more HGS\ncandidate sitting behind the scenes,\n\n466\n00:24:06.441 --> 00:24:09.640\nso we'd start to spin up and\ngo through and set up.\n\n467\n00:24:09.640 --> 00:24:13.950\nBut you'll see the current host server\nPLABSA01, we got the name there.\n\n468\n00:24:13.950 --> 00:24:16.740\nRight now we have no witness,\nwe haven't really set up and\n\n469\n00:24:16.740 --> 00:24:18.990\nconfigured the failover cluster.\n\n470\n00:24:18.990 --> 00:24:22.630\nUltimately we would need the witness\nto ensure that we have a quorum and\n\n471\n00:24:22.630 --> 00:24:25.820\nthat we can always make sure\nenough host members are online\n\n472\n00:24:25.820 --> 00:24:27.990\nin the cluster to provide services.\n\n473\n00:24:27.990 --> 00:24:29.153\nYou remember all that cool.\n\n474\n00:24:29.153 --> 00:24:30.267\n&gt;&gt; Yeah.\n&gt;&gt; Cluster stuff, right?\n\n475\n00:24:30.267 --> 00:24:31.690\nAll that fun stuff.\n\n476\n00:24:31.690 --> 00:24:34.880\nAll right, so [LAUGH] we do have,\nas you can see,\n\n477\n00:24:34.880 --> 00:24:37.570\njust the basic configuration here, right?\n\n478\n00:24:37.570 --> 00:24:44.610\nAnd we can go in, we could see that the\ncluster is up and running, so that's good.\n\n479\n00:24:44.610 --> 00:24:47.858\nSo we can, there's not much to do here but\nwe can just highlight and\n\n480\n00:24:47.858 --> 00:24:50.980\njust get a general sense of\nthe fact that it's there.\n\n481\n00:24:50.980 --> 00:24:55.260\nWe can see down here just the resource\ninformation that's online.\n\n482\n00:24:55.260 --> 00:24:58.350\nWe can see the node or\nnodes if there's more than one.\n\n483\n00:24:58.350 --> 00:25:00.530\nBut we only have one node right now.\n\n484\n00:25:00.530 --> 00:25:03.500\nSo it is status up,\nmeaning it is up and running.\n\n485\n00:25:03.500 --> 00:25:06.645\nWe get some basic information\nabout it here, under summary.\n\n486\n00:25:06.645 --> 00:25:11.370\nAnd CPU memory, just basic hardware\ninformation, network information.\n\n487\n00:25:11.370 --> 00:25:14.630\nWe see the network configuration,\nall that information is here.\n\n488\n00:25:14.630 --> 00:25:19.130\nIn case you haven't seen what a cluster\ninterface looks like, we do have all that,\n\n489\n00:25:19.130 --> 00:25:23.270\nour disks, if we have any storage mounted\nhere that shared, we would see that.\n\n490\n00:25:23.270 --> 00:25:25.410\nSo we would see\nthe information about that.\n\n491\n00:25:25.410 --> 00:25:28.398\nThe physical disks on the machine\nare profiled eventually.\n\n492\n00:25:28.398 --> 00:25:32.040\nIf we wanna wait for them to show up,\nwe'll see storage here,\n\n493\n00:25:32.040 --> 00:25:33.340\nwe could see all that.\n\n494\n00:25:33.340 --> 00:25:37.430\nWe see our networks and we just have some\ngeneral cluster event information for\n\n495\n00:25:37.430 --> 00:25:38.510\nbasic setup.\n\n496\n00:25:38.510 --> 00:25:42.270\nSo we could obviously then start,\nas we said, adding cluster nodes and\n\n497\n00:25:42.270 --> 00:25:43.570\nwe would continue to build that.\n\n498\n00:25:43.570 --> 00:25:47.450\nGood news is we don't really have to\ngo in and configure stuff here because\n\n499\n00:25:47.450 --> 00:25:50.070\nthe PowerShell commandlet\nthat we used initialize HGS,\n\n500\n00:25:50.070 --> 00:25:55.190\nthe initialize HGS server commandlet, does\nthis configuration, as you saw, for us.\n\n501\n00:25:55.190 --> 00:25:59.730\nWhen we add the additional hosts in,\nit will simply add them into the cluster,\n\n502\n00:25:59.730 --> 00:26:02.410\nas long as we specify that we have\nan existing one already there and\n\n503\n00:26:02.410 --> 00:26:03.100\nit will find it.\n\n504\n00:26:03.100 --> 00:26:05.065\nWe just have to know the name,\nwithout a space.\n\n505\n00:26:05.065 --> 00:26:07.360\n&gt;&gt; [LAUGH]\n&gt;&gt; You'll be able to do that, right?\n\n506\n00:26:07.360 --> 00:26:08.990\nSo as a result,\nit'll just simply add them in.\n\n507\n00:26:08.990 --> 00:26:12.020\nSo, good news is we don't really\nhave to know much about the cluster.\n\n508\n00:26:12.020 --> 00:26:12.520\n&gt;&gt; I like that.\n\n509\n00:26:12.520 --> 00:26:13.780\n&gt;&gt; To actually stand up HPS,\n\n510\n00:26:13.780 --> 00:26:16.610\nbecause that's a pretty\ndeep dive topic on its own.\n\n511\n00:26:16.610 --> 00:26:21.270\nA fairly complex set of configuration\nrequirements to get it up and\n\n512\n00:26:21.270 --> 00:26:23.250\nrunning and stand it up the right way.\n\n513\n00:26:23.250 --> 00:26:26.312\nAnd so it is important just to\nbe knowledgeable about it but,\n\n514\n00:26:26.312 --> 00:26:28.964\nyou don't have to know a lot\nabout it to stand up HGS.\n\n515\n00:26:28.964 --> 00:26:32.501\nBut obviously to manage it, you don't\nwanna start poking around in here, right?\n\n516\n00:26:32.501 --> 00:26:34.940\nUnless you actually\nunderstand what's going on.\n\n517\n00:26:34.940 --> 00:26:36.330\nSo we do have the ability to do this.\n\n518\n00:26:36.330 --> 00:26:38.200\nJust wanted to show this\nto you on the backend.\n\n519\n00:26:38.200 --> 00:26:43.300\nAnd then, beyond this, as I said,\nyour next steps will be to add\n\n520\n00:26:43.300 --> 00:26:47.680\na minimum of probably at least two more\nhosts in as in HGS servers and then,\n\n521\n00:26:47.680 --> 00:26:50.260\nscale this cluster so\nthat it stands up and is highly available.\n\n522\n00:26:50.260 --> 00:26:53.790\nWe would then begin to create Hyper-V,\nshielded VMs,\n\n523\n00:26:53.790 --> 00:26:58.970\nGentoo VMs using a SCVMM and Hyper-V\non the hosts to be able to do that.\n\n524\n00:26:58.970 --> 00:27:02.050\nAnd then, they would be able to take\nadvantage of the guarded fabric and\n\n525\n00:27:02.050 --> 00:27:05.660\nhave the full capabilities throughout\nattestation of a secure running, or\n\n526\n00:27:05.660 --> 00:27:08.620\nhopefully, a secured and\nhealthy running environment.\n\n527\n00:27:08.620 --> 00:27:09.760\n&gt;&gt; Fantastic.\n\n528\n00:27:09.760 --> 00:27:10.730\nGreat stuff there, Adam.\n\n529\n00:27:10.730 --> 00:27:15.440\nReal good look, from start to finish of\nsetting up that host guardian service.\n\n530\n00:27:15.440 --> 00:27:16.900\nSo we appreciate that.\n\n531\n00:27:16.900 --> 00:27:17.880\nGot a real good look at that.\n\n532\n00:27:17.880 --> 00:27:20.320\nHope everybody out there\nenjoyed watching this one.\n\n533\n00:27:20.320 --> 00:27:21.410\nSigning off for ITPRO.TV.\n\n534\n00:27:21.410 --> 00:27:23.330\nI've been your host Mike Rodrick.\n\n535\n00:27:23.330 --> 00:27:24.457\n&gt;&gt; I'm Adam Gordon.\n\n536\n00:27:24.457 --> 00:27:27.868\n&gt;&gt; And we will see you next time.\n\n537\n00:27:27.868 --> 00:27:33.721\n[MUSIC]\n\n538\n00:27:33.721 --> 00:27:37.144\n&gt;&gt; Thank you for watch ITPRO.TV.\n\n",
          "vimeoId": "237451324"
        },
        {
          "description": "",
          "length": "2560",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-4secure_a_virtualization_infrastructure_pt4-100517.00_43_18_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-4secure_a_virtualization_infrastructure_pt4-100517.00_43_18_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-9-1-4secure_a_virtualization_infrastructure_pt4-100517.00_43_18_06.Still001-sm.jpg",
          "title": "Secure a Virtualization Infrastructure Pt4",
          "transcript": "",
          "vimeoId": "237450524"
        }
      ],
      "title": "Secure a Virtualization Infrastructure"
    },
    {
      "episodes": [
        {
          "description": "",
          "length": "1880",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-1-nano_server_and_containers-100317-PGM.00_31_22_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-1-nano_server_and_containers-100317-PGM.00_31_22_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-1-nano_server_and_containers-100317-PGM.00_31_22_04.Still001-sm.jpg",
          "title": "Nano Servers and Containers",
          "transcript": "",
          "vimeoId": "237106684"
        },
        {
          "description": "",
          "length": "2023",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-2-nano_server_and_containers_pt2-100317.00_33_29_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-2-nano_server_and_containers_pt2-100317.00_33_29_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-2-nano_server_and_containers_pt2-100317.00_33_29_04.Still001-sm.jpg",
          "title": "Nano Servers and Containers Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.836\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:01.836 --> 00:00:03.684\n[CROSSTALK]\n&gt;&gt; Coming at\n\n3\n00:00:03.684 --> 00:00:04.464\nyou live from San Francisco, California.\n\n4\n00:00:04.464 --> 00:00:06.714\n[CROSSTALK]\n\n5\n00:00:06.714 --> 00:00:08.265\n[MUSIC]\n\n6\n00:00:08.265 --> 00:00:12.274\n&gt;&gt; Your watching ITProTV.\n\n7\n00:00:12.274 --> 00:00:15.750\n&gt;&gt; Hello, welcome to another\nexciting episode here in ITProTV.\n\n8\n00:00:15.750 --> 00:00:16.867\nI'm your host, Mike Rodrick.\n\n9\n00:00:16.867 --> 00:00:20.993\nToday we're doing our\nsecuring Windows Server 2016,\n\n10\n00:00:20.993 --> 00:00:23.807\npreparing for that 70-744 exam.\n\n11\n00:00:23.807 --> 00:00:27.782\nIn this episode, we're continuing our\nthought process on Nano Servers and\n\n12\n00:00:27.782 --> 00:00:29.221\ncontainers, good stuff.\n\n13\n00:00:29.221 --> 00:00:32.273\nBecause in part one,\nwe built our Nano Server Image.\n\n14\n00:00:32.273 --> 00:00:34.811\nNow we're gonna take a look at what\nthe heck we can do with that and\n\n15\n00:00:34.811 --> 00:00:36.221\nhere to show us is Mr. Adam Gordon.\n\n16\n00:00:36.221 --> 00:00:37.035\nWelcome back Adam.\n\n17\n00:00:37.035 --> 00:00:37.988\n&gt;&gt; What the heck, indeed.\n\n18\n00:00:37.988 --> 00:00:38.941\nAll right, so.\n\n19\n00:00:38.941 --> 00:00:39.922\n&gt;&gt; Yes, what the heck?\n\n20\n00:00:39.922 --> 00:00:44.681\n&gt;&gt; Let us get back to work because\nNano Server waits for no IT professional.\n\n21\n00:00:44.681 --> 00:00:45.406\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n22\n00:00:45.406 --> 00:00:49.286\nwe left off having built\nour Nano Server VHDX.\n\n23\n00:00:49.286 --> 00:00:54.003\nWe have an out of our image generator\nprompt, it's all done, set, ready to go.\n\n24\n00:00:54.003 --> 00:00:55.519\nShowed you the directory structure.\n\n25\n00:00:55.519 --> 00:00:57.900\nTalked about packages,\nthe whole nine yards.\n\n26\n00:00:57.900 --> 00:00:59.985\nSo now,\nwe're ready to go in the hyperview and\n\n27\n00:00:59.985 --> 00:01:03.086\ngo back to it cuz I opened up the\nhyperview manager at the end of the demo\n\n28\n00:01:03.086 --> 00:01:05.026\njust to show you we had\nit there ready to go.\n\n29\n00:01:05.026 --> 00:01:09.184\nI've gone ahead,\ncreated the virtual machine,\n\n30\n00:01:09.184 --> 00:01:13.740\nassigned or linked the VHDX file to it,\npowered it on.\n\n31\n00:01:13.740 --> 00:01:16.475\nSo we'll take a look at the Recovery\nConsole and Nano in just a moment.\n\n32\n00:01:16.475 --> 00:01:17.978\nJust wanna point out two things to you.\n\n33\n00:01:17.978 --> 00:01:21.905\nSo join me here, it's behind the scenes\nstuff that I did just to get ready.\n\n34\n00:01:21.905 --> 00:01:24.670\nWe want to show quickly how\nto mount that hard drive and\n\n35\n00:01:24.670 --> 00:01:28.296\nalso how to ensure that you know how\nto modify the firmware boot order to\n\n36\n00:01:28.296 --> 00:01:31.631\nboot to the hard drive as to\nsupposed to booting somewhere else.\n\n37\n00:01:31.631 --> 00:01:33.314\nSo, please join me right there.\n\n38\n00:01:33.314 --> 00:01:38.187\nExactly, my join me button was\nexperiencing a slight lag or delay.\n\n39\n00:01:38.187 --> 00:01:40.364\nAll right, so you'll see there.\n\n40\n00:01:40.364 --> 00:01:44.136\nIn my plabnanosrv01vm.\n\n41\n00:01:44.136 --> 00:01:47.573\nThere it's already running,\nI've got the console open here.\n\n42\n00:01:47.573 --> 00:01:50.567\nSo that is Nano Server by the way,\nin case you haven't seen it,\n\n43\n00:01:50.567 --> 00:01:53.350\nthat is the Nano Server Recovery Console\nas we refer to it.\n\n44\n00:01:53.350 --> 00:01:54.882\nWe're gonna log in there in just a minute.\n\n45\n00:01:54.882 --> 00:01:58.689\nBefore we do that,\nwhat we did is right-clicked here.\n\n46\n00:01:58.689 --> 00:02:02.920\nObviously, initially the machine is\nturned off so I did power it on.\n\n47\n00:02:02.920 --> 00:02:06.837\nBut I came over here, went to Settings,\nI went to the hard drive, and\n\n48\n00:02:06.837 --> 00:02:10.417\nI just pathed to make sure that\nthe right VHDX file was mounted so\n\n49\n00:02:10.417 --> 00:02:13.413\nwe can boot to the Nano Image,\nso I took care of that.\n\n50\n00:02:13.413 --> 00:02:18.842\nAnd the firmware item here,\nyou'll see that we are, by default, gonna\n\n51\n00:02:18.842 --> 00:02:24.717\nmost likely have a network adapter as our\ninitial boot and then the hard drive.\n\n52\n00:02:24.717 --> 00:02:28.078\nSo I just changed the order, I made\nsure the hard drive was available for\n\n53\n00:02:28.078 --> 00:02:28.870\nme to boot from.\n\n54\n00:02:28.870 --> 00:02:32.695\nAnd then that spins up and\nboots to the hard drive with no delay.\n\n55\n00:02:32.695 --> 00:02:34.034\nSo I went ahead and did that.\n\n56\n00:02:36.856 --> 00:02:40.067\nLoaded, right-click,\nconnect to get the console.\n\n57\n00:02:40.067 --> 00:02:43.024\nSo I have that and then I'm gonna login.\n\n58\n00:02:43.024 --> 00:02:45.625\nNow, when I do this I'm just\ngonna move this over so\n\n59\n00:02:45.625 --> 00:02:47.511\nyou can see this a little bit better.\n\n60\n00:02:47.511 --> 00:02:52.054\nSo give me a second just to reposition\nthis, so that we can see what's going on.\n\n61\n00:02:52.054 --> 00:02:53.356\nActually, we're gonna\nneed to go full screen,\n\n62\n00:02:53.356 --> 00:02:54.668\nwe're not gonna be able\nto see the whole screen.\n\n63\n00:02:54.668 --> 00:02:57.750\nSo, yeah, if we could do that, that'll\nbe better when we zero this back over or\n\n64\n00:02:57.750 --> 00:03:00.142\ncenter this, I should say cuz\nthe screen is gonna be, Mark and\n\n65\n00:03:00.142 --> 00:03:03.316\nI were talking about this pretty big and\nthere's a third of the screen down below,\n\n66\n00:03:03.316 --> 00:03:05.910\nI haven't scrolled down to,\nyou're gonna need to see, as well.\n\n67\n00:03:05.910 --> 00:03:09.626\nSo we're gonna go ahead and\nwe're gonna login.\n\n68\n00:03:09.626 --> 00:03:12.635\nI'm gonna use the administrator user.\n\n69\n00:03:12.635 --> 00:03:16.155\nAnd I'm logging in locally\nto Nano Server's, well,\n\n70\n00:03:16.155 --> 00:03:19.303\ninstance in the Nano Server\ninstance right now.\n\n71\n00:03:19.303 --> 00:03:23.748\nI have not done anything like joining us\nto the main or creating any capabilities.\n\n72\n00:03:23.748 --> 00:03:26.334\nSo right now, I'm just logging on locally.\n\n73\n00:03:26.334 --> 00:03:29.255\nThat domain prompt at the bottom is\ngonna remain empty for the moment.\n\n74\n00:03:29.255 --> 00:03:32.961\nIn other words, I will join this at some\npoint, we'll take a look at doing that and\n\n75\n00:03:32.961 --> 00:03:34.168\nthen login to the domain.\n\n76\n00:03:34.168 --> 00:03:35.613\nBut for now we're gonna to log on locally.\n\n77\n00:03:35.613 --> 00:03:40.543\nSo we're just gonna do administrator and\nour credential for rather a username and\n\n78\n00:03:40.543 --> 00:03:41.478\nour password.\n\n79\n00:03:41.478 --> 00:03:43.068\nSo we will provide that.\n\n80\n00:03:43.068 --> 00:03:45.603\nI hit the Tab, by the way on the keyboard,\n\n81\n00:03:45.603 --> 00:03:49.169\njust to Tab down from username\nto password as I was typing.\n\n82\n00:03:49.169 --> 00:03:50.399\nWhen I finish cuz again,\n\n83\n00:03:50.399 --> 00:03:54.219\nthis is the most bare bones environment\nwe can essentially think of, right?\n\n84\n00:03:54.219 --> 00:03:55.551\nSo just be aware of that.\n\n85\n00:03:55.551 --> 00:03:58.344\nI'm gonna hit Enter to go ahead and\nget in.\n\n86\n00:03:58.344 --> 00:03:59.978\nNano Server Recovery Console.\n\n87\n00:03:59.978 --> 00:04:01.709\nThis is our administrative interface.\n\n88\n00:04:01.709 --> 00:04:05.894\nSo I'm gonna scroll over here and simply\nscroll down so we can see at the bottom.\n\n89\n00:04:05.894 --> 00:04:06.775\n&gt;&gt; Mm-hm.\n\n90\n00:04:06.775 --> 00:04:08.902\n&gt;&gt; Very important to know how to navigate.\n\n91\n00:04:08.902 --> 00:04:10.799\nUp and down, scroll, right?\n\n92\n00:04:10.799 --> 00:04:16.915\nESC, log out, F5, refresh, Ctl and\nF6, restart, Ctl+F12, shutdown.\n\n93\n00:04:16.915 --> 00:04:18.638\nEnter is to select.\n\n94\n00:04:18.638 --> 00:04:21.139\nAnd, of course, we can arrow up and down.\n\n95\n00:04:21.139 --> 00:04:25.141\nI'm using the up arrow and down arrow\nkeys on my keyboard to, as you could see,\n\n96\n00:04:25.141 --> 00:04:26.124\nmake a selection.\n\n97\n00:04:26.124 --> 00:04:27.223\nSo you just gotta get used to navigating.\n\n98\n00:04:27.223 --> 00:04:28.729\nWe're talking a bit about this, right?\n\n99\n00:04:28.729 --> 00:04:31.493\nThis is a really stripped\ndown bare bones environment.\n\n100\n00:04:31.493 --> 00:04:34.181\nIt's very similar to\nwhat's called the DCUI,\n\n101\n00:04:34.181 --> 00:04:36.607\nDirect Console User Interface in VMware.\n\n102\n00:04:36.607 --> 00:04:39.743\nIn the ESXi host when we to\nconnect from a console or\n\n103\n00:04:39.743 --> 00:04:43.343\nrather through the shell to\nbe able to administer there.\n\n104\n00:04:43.343 --> 00:04:46.926\nSo it's that kind of environment,\nwe're not used to seeing this on Windows,\n\n105\n00:04:46.926 --> 00:04:49.314\nagain, unless we do something\nlike Server Core, so\n\n106\n00:04:49.314 --> 00:04:51.353\nthis may be a new experience for\nsome of you.\n\n107\n00:04:51.353 --> 00:04:52.005\n&gt;&gt; Mm-hm.\n\n108\n00:04:52.005 --> 00:04:54.209\n&gt;&gt; And it's not to be feared,\nit's to be embraced, right?\n\n109\n00:04:54.209 --> 00:04:55.748\nAnd it is pretty cool.\n\n110\n00:04:55.748 --> 00:04:57.992\nBut we just have to get comfortable and\nget oriented.\n\n111\n00:04:57.992 --> 00:05:01.300\nSo we're gonna start by using WinRM or\nconfiguring WinRM here.\n\n112\n00:05:01.300 --> 00:05:05.040\nNow, Mike, I know you can\nhelp me unravel this mystery.\n\n113\n00:05:05.040 --> 00:05:07.725\nSo WinRM, right,\nWindows Remote Management is a service.\n\n114\n00:05:07.725 --> 00:05:09.973\nSo what's the value proposition here?\n\n115\n00:05:09.973 --> 00:05:11.715\nWhy are we gonna go in and\nconfigure WinRM?\n\n116\n00:05:11.715 --> 00:05:15.988\nWhat capabilities is this gonna give to\nus, thinking about an operating system\n\n117\n00:05:15.988 --> 00:05:20.708\nlike Nano where you don't have a graphical\ninterface, we're a console in here through\n\n118\n00:05:20.708 --> 00:05:24.305\na shell, or rather through an RDP\nsession on the Hyper-V server.\n\n119\n00:05:24.305 --> 00:05:25.616\nBut what if we wanna administer remotely?\n\n120\n00:05:25.616 --> 00:05:26.170\n&gt;&gt; Yeah.\n&gt;&gt; And\n\n121\n00:05:26.170 --> 00:05:27.548\nwe're not sitting on the Hyper-V server?\n\n122\n00:05:27.548 --> 00:05:29.326\nWhat's Nano gonna do for us?\n\n123\n00:05:29.326 --> 00:05:31.699\n&gt;&gt; Really, it's gonna start\nup those listeners, right?\n\n124\n00:05:31.699 --> 00:05:34.812\nSo that we can do,\nit's gonna make the exceptions, hopefully,\n\n125\n00:05:34.812 --> 00:05:37.259\nit'll make the exceptions for\nus in the firewall.\n\n126\n00:05:37.259 --> 00:05:40.985\nOr we're gonna have to go in and\nverify or do that ourselves, but\n\n127\n00:05:40.985 --> 00:05:45.131\nit sets ups the listeners so\nthat we can take in MMC, DNS, for example.\n\n128\n00:05:45.131 --> 00:05:47.898\nBecause I think we setup a DNS net or-\n&gt;&gt; A DNS package.\n\n129\n00:05:47.898 --> 00:05:50.189\nWell, we will configure it, right.\n\n130\n00:05:50.189 --> 00:05:55.031\n&gt;&gt; So I'm gonna run the RSAT DNS console\non my Windows 10 box to remotely\n\n131\n00:05:55.031 --> 00:05:57.342\nmanage that DNS servers on Nano.\n\n132\n00:05:57.342 --> 00:05:59.597\nAnd to do that, I need WinRM.\n\n133\n00:05:59.597 --> 00:06:02.855\n&gt;&gt; So we need the ability to, as you said,\nI liked the concept, listeners, right?\n\n134\n00:06:02.855 --> 00:06:05.478\nWe need to spin up that\nremote listening capability,\n\n135\n00:06:05.478 --> 00:06:09.328\nopen those ports, and essentially,\nallow inbound traffic to connect to this\n\n136\n00:06:09.328 --> 00:06:12.792\nmachine through the firewall and\nbe considered acceptable, right?\n\n137\n00:06:12.792 --> 00:06:14.541\nSo we're gonna highlight WinRM.\n\n138\n00:06:14.541 --> 00:06:16.210\nAnd by the way, the little arrow.\n\n139\n00:06:16.210 --> 00:06:20.435\nI can't point cuz when I go into\nthe console my pointer disappears.\n\n140\n00:06:20.435 --> 00:06:23.002\nBut you could see it there\nnext to WInRM on the left,\n\n141\n00:06:23.002 --> 00:06:26.358\nyou can see those little carrot\nright essentially pointing to it.\n\n142\n00:06:26.358 --> 00:06:29.910\nAnd I've highlighted that as I've moved\nup you can see I'm making choices.\n\n143\n00:06:29.910 --> 00:06:34.733\nSo I'm gonna hit Enter, that's gonna\nallow me to grab the WinRM setting.\n\n144\n00:06:34.733 --> 00:06:35.932\nI'm gonna scroll back up here.\n\n145\n00:06:35.932 --> 00:06:37.233\nWindows Remote Management.\n\n146\n00:06:37.233 --> 00:06:38.612\nWindows Remote Management,\n\n147\n00:06:38.612 --> 00:06:42.363\nMicrosoft implementation of the the\nWS-Management WS-Man protocol provides\n\n148\n00:06:42.363 --> 00:06:45.352\na secure way to communicate with local and\nremote web services.\n\n149\n00:06:45.352 --> 00:06:48.285\nIf you have the ability or have lost\nthe ability to manage this server,\n\n150\n00:06:48.285 --> 00:06:51.235\nyou'll have to reset the WinRM\nfirewall and service configuration.\n\n151\n00:06:51.235 --> 00:06:53.091\nFor more details please visit.\n\n152\n00:06:53.091 --> 00:06:55.898\nEnter is the option here\nto confirm to essentially.\n\n153\n00:06:55.898 --> 00:06:57.621\nConfigure, we're gonna do that.\n\n154\n00:06:57.621 --> 00:07:01.346\nThen are you sure, Enter again, yes.\n\n155\n00:07:01.346 --> 00:07:02.121\nOkay.\n\n156\n00:07:02.121 --> 00:07:02.966\nOperation succeeded.\n\n157\n00:07:02.966 --> 00:07:05.468\nPress ENTER or ESC to continue.\n\n158\n00:07:05.468 --> 00:07:06.505\nIt goes back.\n\n159\n00:07:06.505 --> 00:07:07.921\nSo WinRM has been configured.\n\n160\n00:07:07.921 --> 00:07:08.505\n&gt;&gt; Nice.\n\n161\n00:07:08.505 --> 00:07:09.733\n&gt;&gt; Very simple, very easy to do.\n\n162\n00:07:09.733 --> 00:07:14.247\nBut we've reset the Windows Firewall\nto allow now for this configuration.\n\n163\n00:07:14.247 --> 00:07:16.940\nThat's what we did to ensure\nit's gonna work the right way.\n\n164\n00:07:16.940 --> 00:07:20.522\nSo by resetting it, we have now,\nessentially, whatever may have been there,\n\n165\n00:07:20.522 --> 00:07:22.507\nno out of the box,\nnothing going on with it.\n\n166\n00:07:22.507 --> 00:07:26.083\nIt is just proactive for us to make\nsure that we reset the listeners and\n\n167\n00:07:26.083 --> 00:07:30.029\nthen inbound, as you could see, and\noutbound firewall rules are above us,\n\n168\n00:07:30.029 --> 00:07:34.036\nwe can begin to go and drill down and set\nthe firewall rules that may be needed to\n\n169\n00:07:34.036 --> 00:07:38.198\nensure things like DNS traffic or whatever\nthe case may be, can be accessible.\n\n170\n00:07:38.198 --> 00:07:39.942\nSo, we've dealt with WinRM.\n\n171\n00:07:39.942 --> 00:07:42.199\nThat's gonna be one of the most\nimportant things we do.\n\n172\n00:07:42.199 --> 00:07:44.745\nNow, we're gonna go ahead and\ngo up to networking.\n\n173\n00:07:44.745 --> 00:07:47.252\nSo we have to do things like,\nhey, what's our IP address?\n\n174\n00:07:47.252 --> 00:07:47.969\nDo we have one?\n\n175\n00:07:47.969 --> 00:07:49.378\nIf we do, how is it configured?\n\n176\n00:07:49.378 --> 00:07:52.053\nIPv4, IPv6,\nall that stuff we gotta worry about.\n\n177\n00:07:52.053 --> 00:07:52.936\nSo we're gonna go into networking here.\n\n178\n00:07:52.936 --> 00:07:53.821\nWe're gonna hit Enter.\n\n179\n00:07:53.821 --> 00:07:56.605\nAnd we're gonna go to\nour Ethernet connection.\n\n180\n00:07:56.605 --> 00:07:58.690\nWe're gonna see our adapter,\nour Mac address, all that.\n\n181\n00:07:58.690 --> 00:08:02.336\nSo, Let's start with that,\nthere is our Ethernet connection,\n\n182\n00:08:02.336 --> 00:08:04.520\nthere is our Mac address, right?\n\n183\n00:08:04.520 --> 00:08:09.020\nUp and Down the Highlight Enter, Select,\nEscape to Back, so, let's hit Enter there,\n\n184\n00:08:09.020 --> 00:08:13.890\nwe'll see we have a 169254 address\non our hyper-v network adapter.\n\n185\n00:08:13.890 --> 00:08:17.830\nThat's an APEPA based address, right, so,\nautomatic private IP address, you always\n\n186\n00:08:17.830 --> 00:08:21.250\nlove saying, APEPA, something fun to say,\nright, it's like bubbly off your tongue.\n\n187\n00:08:21.250 --> 00:08:21.784\n&gt;&gt; Right?\n&gt;&gt; So\n\n188\n00:08:21.784 --> 00:08:24.330\nI have an automatic private IP address.\n\n189\n00:08:24.330 --> 00:08:29.200\nThe 169254 address block indicates to me\nthat I'm using the automatic private IP\n\n190\n00:08:29.200 --> 00:08:30.370\naddress range.\n\n191\n00:08:30.370 --> 00:08:31.890\nWhich should not surprise us,\n\n192\n00:08:31.890 --> 00:08:34.880\nthat makes sense if we think about\nthe logic of how we configure this.\n\n193\n00:08:34.880 --> 00:08:38.040\nIt does make sense we'll come up without\nan address, and we would then wanna go and\n\n194\n00:08:38.040 --> 00:08:39.260\nconfigure it after the fact.\n\n195\n00:08:39.260 --> 00:08:40.850\nSo we're gonna see that here.\n\n196\n00:08:42.310 --> 00:08:46.180\nWe do see that the DHCP option is enabled.\n\n197\n00:08:46.180 --> 00:08:50.970\nWe do see that we have both an IPv4 and\nan IPv6 interface,\n\n198\n00:08:50.970 --> 00:08:53.410\nso that's also good to know and\nmakes sense logically.\n\n199\n00:08:53.410 --> 00:08:55.940\nAnd then we can see down\nat the bottom there.\n\n200\n00:08:55.940 --> 00:08:57.280\nWe do have some options.\n\n201\n00:08:57.280 --> 00:09:00.520\nYou'll see we have F10 to get\nthe Routing Table, F11 for\n\n202\n00:09:00.520 --> 00:09:03.250\nIPv4, F12 for IPv6 settings.\n\n203\n00:09:03.250 --> 00:09:04.310\nWe have to think about,\n\n204\n00:09:04.310 --> 00:09:07.140\nagain which one we're gonna go after\nhow we're gonna configure this.\n\n205\n00:09:07.140 --> 00:09:10.860\nWe're gonna go and deal with the IPv4\nsettings, so we're gonna press F11 and\n\n206\n00:09:10.860 --> 00:09:14.886\nthen we're going to see DHCP is Enabled,\nright?\n\n207\n00:09:14.886 --> 00:09:17.930\nAnd if we wanna toggle this setting,\n\n208\n00:09:17.930 --> 00:09:22.620\ndown at the bottom you'll see F4 toggle,\nmeaning, toggle means, hey it's enabled,\n\n209\n00:09:22.620 --> 00:09:25.918\nturn off or disable,\nversus it's disabled, turn on, right.\n\n210\n00:09:25.918 --> 00:09:28.780\nSo, we're gonna do F4, and\nthen when we disable it,\n\n211\n00:09:28.780 --> 00:09:32.010\nnotice now we get the ability\nto manually configure, right.\n\n212\n00:09:32.010 --> 00:09:35.379\nIP Address, Subnet Default Gateway,\nit's gonna put all that in,\n\n213\n00:09:35.379 --> 00:09:39.356\nlet me just get my notes here so I can\nsee what address we're gonna use 0.35.\n\n214\n00:09:39.356 --> 00:09:44.817\nAll right, so we're gonna do 192,\nwe're gonna tab down, 192, 168.\n\n215\n00:09:44.817 --> 00:09:46.570\nI know it's kind of hard\nto see on the screen.\n\n216\n00:09:46.570 --> 00:09:51.220\nIt probably doesn't show up well, just the\ncontrast may not allow you to see it and\n\n217\n00:09:51.220 --> 00:09:54.300\nI just fell victim to it because\nI wasn't paying attention myself.\n\n218\n00:09:54.300 --> 00:09:57.410\nIt's a little bit better on my screen but\nI just wasn't really looking.\n\n219\n00:09:57.410 --> 00:09:58.620\nIt's kinda bright.\n\n220\n00:09:58.620 --> 00:10:00.380\nBehind us there's a lot of spotlights and\n\n221\n00:10:00.380 --> 00:10:03.900\nstuff coming down on us and\nthere's a lot of glare on my screen.\n\n222\n00:10:03.900 --> 00:10:06.640\nBut when I was typing\nnothing was happening,\n\n223\n00:10:06.640 --> 00:10:08.550\nI kinda typed and said wait a second.\n\n224\n00:10:08.550 --> 00:10:11.170\nAnd I hit the tab key, the highlight, and\n\n225\n00:10:11.170 --> 00:10:15.390\nit's hard to tell but I was still in\nthe toggle field for disable enable.\n\n226\n00:10:15.390 --> 00:10:18.260\nIt is highlighted, it is a little\nbrighter than everything around it\n\n227\n00:10:18.260 --> 00:10:20.150\nto indicate that that's your selection.\n\n228\n00:10:20.150 --> 00:10:24.080\nBut you really gotta pay attention and\nsee that, if you're not looking there,\n\n229\n00:10:24.080 --> 00:10:27.550\nyou do what I did, you don't realize\nyou have in tab to make a selection.\n\n230\n00:10:27.550 --> 00:10:29.980\nBecause the problem is,\nthere's no blinking cursor, right?\n\n231\n00:10:29.980 --> 00:10:32.313\nWhich [CROSSTALK] normally see see as\nan indicator and know, right, exactly.\n\n232\n00:10:32.313 --> 00:10:35.600\nSo you just gotta note where you are,\nso that you highlight.\n\n233\n00:10:35.600 --> 00:10:37.750\nIt is a little bit of a different\ncontrast on the screen.\n\n234\n00:10:37.750 --> 00:10:38.860\nBut, sometimes a little hard to pick up.\n\n235\n00:10:38.860 --> 00:10:40.550\nSo, if you do what I just did,\nno big deal.\n\n236\n00:10:40.550 --> 00:10:43.200\nIt's not working,\njust means you're not in the field.\n\n237\n00:10:43.200 --> 00:10:45.792\nJust tab and then you'll be\nwhere you need to be, right?\n\n238\n00:10:45.792 --> 00:10:50.490\nSo, 0.35 in my case, for my IP address.\n\n239\n00:10:50.490 --> 00:10:53.470\nThen, I'm gonna tab to go down\nto the subnet mask field.\n\n240\n00:10:53.470 --> 00:10:55.110\nGonna do a class C.\n\n241\n00:10:55.110 --> 00:10:56.070\nSo, we'll hit tab there.\n\n242\n00:10:58.035 --> 00:11:01.820\nAnd it would be nice if they\njust supported shorthand\n\n243\n00:11:01.820 --> 00:11:02.840\nlike I could just do slash 24.\n\n244\n00:11:02.840 --> 00:11:03.780\n&gt;&gt; That would be nice.\n\n245\n00:11:03.780 --> 00:11:04.760\n&gt;&gt; That would be cool.\n\n246\n00:11:04.760 --> 00:11:08.270\n&gt;&gt; You'd think in this day and\nage that would be the first choice.\n\n247\n00:11:08.270 --> 00:11:11.039\n&gt;&gt; You would think but\nwe're not Cisco so you think and\n\n248\n00:11:11.039 --> 00:11:12.662\nyou would be wrong if you did.\n\n249\n00:11:12.662 --> 00:11:17.766\nAll right, so 192.68 here for\nmy default gateway cuz no good IP address\n\n250\n00:11:17.766 --> 00:11:22.566\nis something that combination works\nremotely unless we have a gateway.\n\n251\n00:11:22.566 --> 00:11:25.320\nSo, we're gonna put in\nour gateway here for 250.\n\n252\n00:11:25.320 --> 00:11:27.370\nEspecially if you wanna be able\nto manage this box remotely.\n\n253\n00:11:27.370 --> 00:11:28.740\n&gt;&gt; Yes.\n&gt;&gt; You better have that gateway or\n\n254\n00:11:28.740 --> 00:11:29.950\nthat's just not gonna work real well.\n\n255\n00:11:29.950 --> 00:11:32.570\nAll right, so enter for saves,\nso we're gonna do that,\n\n256\n00:11:32.570 --> 00:11:36.415\nput our configuration in there,\nsave again, right, enter or escape.\n\n257\n00:11:36.415 --> 00:11:38.843\nGotta follow those prompts down\nat the bottom of the screen,\n\n258\n00:11:38.843 --> 00:11:42.128\nif you're not seeing the whole screen here\nand you're up and down and scrolling,\n\n259\n00:11:42.128 --> 00:11:43.758\nhey that's just what you've gotta do.\n\n260\n00:11:43.758 --> 00:11:45.314\nBut if you're not paying attention, so\n\n261\n00:11:45.314 --> 00:11:48.058\nit will be real tough for you to know\nwhere you are cuz these commands have\n\n262\n00:11:48.058 --> 00:11:50.662\nto be entered twice to make ensure\nyou're doing that right thing.\n\n263\n00:11:50.662 --> 00:11:52.470\nIf you're sitting there waiting and\n\n264\n00:11:52.470 --> 00:11:54.930\nyou don't see the bottom third of\nthat screen cuz you're at the top.\n\n265\n00:11:54.930 --> 00:11:57.432\n&gt;&gt; You'll sit there for days\n&gt;&gt; You're gonna be there for a while,\n\n266\n00:11:57.432 --> 00:11:59.068\nso just make sure you know.\n\n267\n00:11:59.068 --> 00:12:04.020\nIt's, really a question is having\nthat available, right, real estate,\n\n268\n00:12:04.020 --> 00:12:04.760\nto see what's going on.\n\n269\n00:12:04.760 --> 00:12:08.560\nAll right so we went ahead, we did that,\nobviously down below, operation succeeded.\n\n270\n00:12:08.560 --> 00:12:10.610\nLet's just enter to get back out of that.\n\n271\n00:12:10.610 --> 00:12:14.320\nWhat we're then gonna do is\ngo back to the main screen.\n\n272\n00:12:14.320 --> 00:12:16.670\nI'm just gonna hit escape\nto kinda go back, and\n\n273\n00:12:16.670 --> 00:12:19.860\nescape again to go back to the main\nscreen where we are with networking.\n\n274\n00:12:19.860 --> 00:12:21.800\nWe could do enter,\njust a series of enters go back,\n\n275\n00:12:21.800 --> 00:12:23.160\njust a matter of what the prompts are.\n\n276\n00:12:23.160 --> 00:12:23.770\nWe're gonna do that.\n\n277\n00:12:23.770 --> 00:12:26.910\nNow what we're gonna do is go in and\nwe're gonna go to the inbound firewall.\n\n278\n00:12:26.910 --> 00:12:29.830\nI told you we would do some rules but\nset up the networking first or\n\n279\n00:12:29.830 --> 00:12:32.750\nat least I like to set up the networking\nto find out that it's done and\n\n280\n00:12:32.750 --> 00:12:33.960\nthen I'll go to the firewall.\n\n281\n00:12:33.960 --> 00:12:37.070\nSo gonna hit enter there on\nthe inbound firewall rules.\n\n282\n00:12:37.070 --> 00:12:40.140\nGot a whole bunch we just gotta to scroll\nto figure out which one we're gonna\n\n283\n00:12:40.140 --> 00:12:40.950\nconfigure here.\n\n284\n00:12:40.950 --> 00:12:45.310\nI'm gonna go in and I'm going to\ngo to the file on printer sharing.\n\n285\n00:12:45.310 --> 00:12:47.500\nSo let's just go,\nthis is an example of one.\n\n286\n00:12:47.500 --> 00:12:50.445\nSo, just scroll here\ngive me half a second.\n\n287\n00:12:52.567 --> 00:12:54.240\nJust so you could see where we are now.\n\n288\n00:12:54.240 --> 00:12:55.840\nAgain, it may be a little hard to see but\n\n289\n00:12:55.840 --> 00:12:59.280\nthat one is a little brighter at the top\nand the coward is pointing to it here.\n\n290\n00:12:59.280 --> 00:13:03.110\nSo as I start scrolling down you\ncould see I'm making a choice.\n\n291\n00:13:03.110 --> 00:13:07.150\nIt is kinda there's a little contrast it\nis, hopefully, easy enough for you to see.\n\n292\n00:13:07.150 --> 00:13:09.790\nI'm gonna go down do\nfile on printer sharing.\n\n293\n00:13:09.790 --> 00:13:14.719\nI'm gonna go down, oops, hold on, Here and\n\n294\n00:13:14.719 --> 00:13:19.823\nI'm gonna go to ICM Pv4 in,\nas you could see, I'm highlighting.\n\n295\n00:13:19.823 --> 00:13:21.039\nI'm going to hit enter.\n\n296\n00:13:22.497 --> 00:13:26.125\nAnd we can see, this rule, just as\nan example of one, you could choose any of\n\n297\n00:13:26.125 --> 00:13:30.200\nthese, it doesn't really matter,\nI'm just choosing this particular one.\n\n298\n00:13:30.200 --> 00:13:34.280\nSo, we can go, and we could see what the\nsettings are here, we could see Direction,\n\n299\n00:13:34.280 --> 00:13:37.300\nInbound, Profile, Enabled,\nto Action Allow, whatever.\n\n300\n00:13:37.300 --> 00:13:39.485\nBut enable, no, right, not enabled, so\n\n301\n00:13:39.485 --> 00:13:43.147\nif I want to turn this on,\nWhat do I down at the bottom?\n\n302\n00:13:43.147 --> 00:13:50.574\nF4 enable, disable, so F4 to enable and\nnotice now, it has been enabled, right?\n\n303\n00:13:53.613 --> 00:13:54.580\n&gt;&gt; All right, so I did that.\n\n304\n00:13:54.580 --> 00:13:55.540\nI can obviously hit F4 again.\n\n305\n00:13:55.540 --> 00:13:56.800\nIt would disable it.\n\n306\n00:13:56.800 --> 00:14:02.920\nSo once I've done that,\nthen go ahead and let me see.\n\n307\n00:14:02.920 --> 00:14:04.410\nDid that, did that, did that.\n\n308\n00:14:04.410 --> 00:14:06.360\nHit Escape just to get back out.\n\n309\n00:14:06.360 --> 00:14:07.280\nGot that.\n\n310\n00:14:07.280 --> 00:14:09.963\nAnd then,\nI don't think I needed a firewall rules.\n\n311\n00:14:09.963 --> 00:14:12.660\nI need to see, I need to do\nanything else from my notes here.\n\n312\n00:14:12.660 --> 00:14:13.850\nNo, okay, so I've got that.\n\n313\n00:14:13.850 --> 00:14:18.320\nI'm gonna disable, or rather enable rules\nor disable rules as needed, obviously just\n\n314\n00:14:18.320 --> 00:14:21.900\nbased on the configuration that I\nwanna achieve and how I wanna manage.\n\n315\n00:14:21.900 --> 00:14:25.210\nBut it would be a good idea for you to go\nthrough and look at just probably about,\n\n316\n00:14:25.210 --> 00:14:27.750\nI don't know, 20 or so\nfirewall rules there.\n\n317\n00:14:27.750 --> 00:14:28.840\nYou could see there's not a lot of them.\n\n318\n00:14:28.840 --> 00:14:30.460\nAnd if you think about the logic of it,\n\n319\n00:14:30.460 --> 00:14:31.960\nIt doesn't make sense we\nwould have a whole bunch,\n\n320\n00:14:31.960 --> 00:14:36.080\ncuz we constrained what kind of services\nand capabilities we provide through Nano.\n\n321\n00:14:36.080 --> 00:14:38.280\nSo that is important to note.\n\n322\n00:14:38.280 --> 00:14:41.090\nAnd also notice here, as I just scroll up,\n\n323\n00:14:42.810 --> 00:14:46.085\nthat I'm not actually given\nthe opportunity to create new rules.\n\n324\n00:14:46.085 --> 00:14:48.503\nI'm only able to work with\nthe rules that are there, right.\n\n325\n00:14:48.503 --> 00:14:51.925\nBecause again of the protection\nprofile associated with the module or\n\n326\n00:14:51.925 --> 00:14:53.455\nmodules that maybe loaded.\n\n327\n00:14:53.455 --> 00:14:56.005\nAs I have more modules,\nobviously I may get more rules\n\n328\n00:14:56.005 --> 00:14:59.585\nbecause modules may include\nthe capability to allow for management.\n\n329\n00:14:59.585 --> 00:15:04.580\nYou know, things like containers and\nShielded VMs and stuff like\n\n330\n00:15:04.580 --> 00:15:08.290\nthat may require additional rules to\nopen up connectivity in the firewall.\n\n331\n00:15:08.290 --> 00:15:10.670\nSo, I may see that, but\nthen again I may not.\n\n332\n00:15:10.670 --> 00:15:14.010\nIt depends on the configuration of\nthat module or that package rather.\n\n333\n00:15:14.010 --> 00:15:15.530\nSo just keep that in mind, right.\n\n334\n00:15:15.530 --> 00:15:18.470\nBut I'm not actually given\nthe ability to create new rules.\n\n335\n00:15:18.470 --> 00:15:20.110\nI'm simply working with\nthe existing rules,\n\n336\n00:15:20.110 --> 00:15:23.000\nwhich is also important to think about and\nto be aware of.\n\n337\n00:15:23.000 --> 00:15:24.940\nAll right so we've done that.\n\n338\n00:15:24.940 --> 00:15:28.877\nWhat I need to do quickly,\nIs go through and\n\n339\n00:15:28.877 --> 00:15:32.410\nI have to just do a quick\nbehind the scenes thing.\n\n340\n00:15:32.410 --> 00:15:35.820\nBecause of the nature of our\nlab environment to allow for\n\n341\n00:15:35.820 --> 00:15:39.190\nsome additional steps that we're gonna\ntake to continue the configuration here.\n\n342\n00:15:39.190 --> 00:15:41.700\nI've got to just quickly\ndeal with the proxy issue so\n\n343\n00:15:41.700 --> 00:15:43.200\nthat our lab environment machines\n&gt;&gt; Mm-mm.\n\n344\n00:15:43.200 --> 00:15:45.970\n&gt;&gt; Actually talk to each other\n&gt;&gt; It's kinda of unique configuration this\n\n345\n00:15:45.970 --> 00:15:47.840\nbased on practice labs\nhas a machine setup,\n\n346\n00:15:47.840 --> 00:15:50.427\nthis is not something that you\nnormally do in the real world.\n\n347\n00:15:50.427 --> 00:15:53.308\nSo we're gonna cut away from this minute,\nwe're just gonna take care of that just\n\n348\n00:15:53.308 --> 00:15:55.645\nreal quick, there's no reason for\nyou to be worried about that and\n\n349\n00:15:55.645 --> 00:15:57.628\nmight confused people to\ntrying track through this in.\n\n350\n00:15:57.628 --> 00:16:01.440\nReproduce this specifically, so\nwe're not gonna expose you to that.\n\n351\n00:16:01.440 --> 00:16:04.689\nSo we're gonna take one of those\nfamous ITProTV quick timeouts.\n\n352\n00:16:04.689 --> 00:16:07.792\nBut when we come back in just a second,\nI'm gonna have all that setup and\n\n353\n00:16:07.792 --> 00:16:09.601\nthen what we'll be able\nto do is pick up and\n\n354\n00:16:09.601 --> 00:16:11.901\ncontinue with the demonstration\nright from there.\n\n355\n00:16:11.901 --> 00:16:13.706\nSo don't go away.\n\n356\n00:16:13.706 --> 00:16:16.410\nAs Mike often says, stay on the edge\nof your seat but don't fall.\n\n357\n00:16:16.410 --> 00:16:17.497\nAnd we're gonna come right back.\n\n358\n00:16:17.497 --> 00:16:18.660\nI want to pick right back up.\n\n359\n00:16:20.886 --> 00:16:22.642\nAll right, so, TV time out.\n\n360\n00:16:22.642 --> 00:16:26.339\nAwesome technology, look at what happened,\nwe traveled forward in time.\n\n361\n00:16:26.339 --> 00:16:29.381\nJoin me here, I configured the entire\nthing and took over the world.\n\n362\n00:16:29.381 --> 00:16:29.967\nMy God.\n\n363\n00:16:29.967 --> 00:16:31.580\nNot really, but close.\n\n364\n00:16:31.580 --> 00:16:34.500\nWhat I did was reset the proxy\nusing netsh to do that.\n\n365\n00:16:34.500 --> 00:16:38.295\nThat part, as I said, really not important\nin the sense that's it's really just\n\n366\n00:16:38.295 --> 00:16:39.980\nunique to our lab environment.\n\n367\n00:16:39.980 --> 00:16:42.180\nSo that's the part we just wanted\nto kinda hide from view and\n\n368\n00:16:42.180 --> 00:16:43.286\nnot really confuse you with.\n\n369\n00:16:43.286 --> 00:16:46.142\nBut parts that are important\nthat I just prestaged and\n\n370\n00:16:46.142 --> 00:16:49.009\nloaded up during the quick\ntimeout are on the screen.\n\n371\n00:16:49.009 --> 00:16:52.456\nI wanna walk you through those, just to\nget us kind of ahead a couple of steps.\n\n372\n00:16:52.456 --> 00:16:55.827\nTee us up so we can then go in and\ncontinue the configuration.\n\n373\n00:16:55.827 --> 00:17:00.006\nSo I took advantage of being able to\nreset the proxy on the domain controller.\n\n374\n00:17:00.006 --> 00:17:02.086\nNotice I've switched machines, by the way.\n\n375\n00:17:02.086 --> 00:17:04.758\nI'm now on the PLABDC01 machine.\n\n376\n00:17:04.758 --> 00:17:07.612\nSo I came and\nreset the proxy configuration there, so\n\n377\n00:17:07.612 --> 00:17:11.427\nwe can drop the proxy and now communicate\ndirectly with our Nano Image.\n\n378\n00:17:11.427 --> 00:17:17.425\nAnd I issued a Djoin, short for\ndomain join command here in PowerShell.\n\n379\n00:17:17.425 --> 00:17:20.369\nSo I am now provisioning\nthe domain joining.\n\n380\n00:17:20.369 --> 00:17:22.520\nAnd remember,\nwe said we would provision out and\n\n381\n00:17:22.520 --> 00:17:26.204\none of the next things we would do, we'd\nactually domain join that Nano instance.\n\n382\n00:17:26.204 --> 00:17:28.768\nSo we're gonna do that, that's what\nwe're heading towards right now.\n\n383\n00:17:28.768 --> 00:17:32.005\nSo I'm issuing the command\nto kick us off and do that.\n\n384\n00:17:32.005 --> 00:17:35.862\nProvisioning out, specifying the domain\nname practicelabs, as you can see.\n\n385\n00:17:35.862 --> 00:17:37.516\nThe machine target.\n\n386\n00:17:37.516 --> 00:17:43.781\nWe wanna join our Nano Server plab,\nnanosrv01 instance, so that's named there.\n\n387\n00:17:43.781 --> 00:17:49.509\nsavefile and then the name,\nthe odjblob file, so we have that there.\n\n388\n00:17:49.509 --> 00:17:53.690\nSo I did all that,\nnotice provisioning the computer...\n\n389\n00:17:53.690 --> 00:17:59.148\nSuccessfully provisioned [plabnanosrv01]\ninto the domain [practicelabs].\n\n390\n00:17:59.148 --> 00:18:00.826\nNow, that doesn't mean\nwe've joined the domain.\n\n391\n00:18:00.826 --> 00:18:02.778\nIt means we've created, essentially,\n\n392\n00:18:02.778 --> 00:18:05.843\nthe file that allows us to have\nthe information to get that done and\n\n393\n00:18:05.843 --> 00:18:08.315\nthen we have to walk through\nthe rest of the process.\n\n394\n00:18:08.315 --> 00:18:09.903\nComputer provisioning\ncompleted successfully.\n\n395\n00:18:09.903 --> 00:18:11.138\nOperation completed successfully.\n\n396\n00:18:11.138 --> 00:18:12.274\nGreat, I wanna see that.\n\n397\n00:18:12.274 --> 00:18:18.219\nNext, we use the Set-Item cmdlet and we go\nto WSMan and we specify that the machine,\n\n398\n00:18:18.219 --> 00:18:24.363\nthe 190.168.0.35, the IP address and\nthe Nano Server is a trusted host.\n\n399\n00:18:24.363 --> 00:18:27.446\nWe're manipulating, this is again,\na PowerShell item, right?\n\n400\n00:18:27.446 --> 00:18:32.589\nWe're setting the WSMan local host client\nTrustedHosts list and configuring it so\n\n401\n00:18:32.589 --> 00:18:37.669\nthat machine will be trusted and we can\ndo remote management through PowerShell.\n\n402\n00:18:37.669 --> 00:18:41.442\nSo we're going ahead and setting that\nIP address into the TrustedHosts list,\n\n403\n00:18:41.442 --> 00:18:44.657\nessentially on this,\non the domain controller with PowerShell.\n\n404\n00:18:44.657 --> 00:18:50.747\nSo I did the W Set-Item, WSMan\nconfiguration to essentially allow WinRM,\n\n405\n00:18:50.747 --> 00:18:53.897\nwhich is what we did configure on Nano.\n\n406\n00:18:53.897 --> 00:18:57.407\nThe WinRM security configuration\nto be configured here so\n\n407\n00:18:57.407 --> 00:19:00.640\nthat we can use it to administer and\nremotely manage.\n\n408\n00:19:00.640 --> 00:19:02.754\nAnd we will allow that to take place.\n\n409\n00:19:02.754 --> 00:19:07.612\nSo WinRM Security Configuration modifies\nthis command does, TrustedHosts list for\n\n410\n00:19:07.612 --> 00:19:08.696\nthe WinRM client.\n\n411\n00:19:08.696 --> 00:19:11.144\nThe computers in the TrustedHosts\nlist might not be authenticated.\n\n412\n00:19:11.144 --> 00:19:14.216\nEssentially saying trust us even though\nwe may not be able to authenticate,\n\n413\n00:19:14.216 --> 00:19:15.661\nyou may not know who we are, right?\n\n414\n00:19:15.661 --> 00:19:18.050\nTrust us anyway, cool,\nwe're gonna do that.\n\n415\n00:19:18.050 --> 00:19:19.904\nSo we hit yes there, did that.\n\n416\n00:19:19.904 --> 00:19:22.159\nThen I went ahead and declared a variable.\n\n417\n00:19:22.159 --> 00:19:24.282\nWe've talked about this before,\ndollar sign,\n\n418\n00:19:24.282 --> 00:19:27.407\nwhatever comes after will be a variable\nif we set it equal to something.\n\n419\n00:19:27.407 --> 00:19:29.830\nI declared IPv4 as a variable.\n\n420\n00:19:29.830 --> 00:19:32.582\nSet it equal to my IP address for\nthe Nano Server 192.168.0.35.\n\n421\n00:19:32.582 --> 00:19:37.566\nNow, the reason I did that is again,really\njust for me is some shorthand in my\n\n422\n00:19:37.566 --> 00:19:41.798\nnext couple of cmdlets here\nwhere I'm using Enter-PSSession.\n\n423\n00:19:41.798 --> 00:19:46.731\nMy Enter-PSSession Windows PowerShell\ncmdlet to set up a remote session to\n\n424\n00:19:46.731 --> 00:19:48.279\nthat machine, right?\n\n425\n00:19:48.279 --> 00:19:51.982\nThat's the cmdlet that lets me do\nremote management through PowerShell.\n\n426\n00:19:51.982 --> 00:19:55.377\nComputer name parameter,\ninstead of me typing the computer name I'm\n\n427\n00:19:55.377 --> 00:19:58.266\njust using the IP address cuz\nI have an IP address assigned.\n\n428\n00:19:58.266 --> 00:20:01.630\nI don't have the computer name for\nthe Nano Server instance.\n\n429\n00:20:01.630 --> 00:20:02.749\nI wanna use the IP address.\n\n430\n00:20:02.749 --> 00:20:06.303\nSo that's why I set that variable, $IPv4.\n\n431\n00:20:06.303 --> 00:20:11.071\nWe'll just drop the 192.168.0.35\nvalue right in here.\n\n432\n00:20:11.071 --> 00:20:12.016\nCredential.\n\n433\n00:20:12.016 --> 00:20:15.294\nRemember, I mentioned\nthe credential command or\n\n434\n00:20:15.294 --> 00:20:18.656\nthe parameter at one point\nwhen we're doing this.\n\n435\n00:20:18.656 --> 00:20:20.601\nAnd I said, instead of providing and\n\n436\n00:20:20.601 --> 00:20:25.183\nusing the credential parameter to pop up a\nwindow, in the prompt as I'm configuring,\n\n437\n00:20:25.183 --> 00:20:29.640\ndoing the image build, I just get prompted\nfor the administrator password as part of\n\n438\n00:20:29.640 --> 00:20:32.490\nthe way that the image generator works for\nNano.\n\n439\n00:20:32.490 --> 00:20:34.604\nBut I could also use\nthe credential parameter.\n\n440\n00:20:34.604 --> 00:20:37.938\nI used that here because I wanna\nconnect remotely to that machine and\n\n441\n00:20:37.938 --> 00:20:41.341\nI wanna provide the name and\nthe password, the credential for that.\n\n442\n00:20:41.341 --> 00:20:43.745\nSo I did that with\nthe credential parameter.\n\n443\n00:20:43.745 --> 00:20:48.156\nI specified the IP address of the machine\nand the username administrator.\n\n444\n00:20:48.156 --> 00:20:50.671\nNow, you didn't see this part\nbecause I already did this.\n\n445\n00:20:50.671 --> 00:20:54.686\nWell, when I did that, I get a little\npop up credential window populated,\n\n446\n00:20:54.686 --> 00:20:56.617\nin this case, with the machine IP.\n\n447\n00:20:56.617 --> 00:21:00.785\nSo the value of IPv4 as a variable,\n\\administrator.\n\n448\n00:21:00.785 --> 00:21:03.890\nI have to type in the password,\nso we enter that securely.\n\n449\n00:21:03.890 --> 00:21:05.636\nWe talked about the importance of that,\nright?\n\n450\n00:21:05.636 --> 00:21:09.972\nSo don't tell anybody what the password\nis, just put it on the screen there,\n\n451\n00:21:09.972 --> 00:21:10.649\nhit Enter.\n\n452\n00:21:10.649 --> 00:21:14.345\nThe first time we did it, which is why I\ndid it just to preload and have it ready,\n\n453\n00:21:14.345 --> 00:21:18.209\ncuz the first time we connect out, it has\nto go hit the firewall, check the rules,\n\n454\n00:21:18.209 --> 00:21:22.353\nmake sure it went around as configured on\nboth sides, establish secure connectivity,\n\n455\n00:21:22.353 --> 00:21:23.536\nvalidate the username.\n\n456\n00:21:23.536 --> 00:21:25.964\nAll that stuff takes about 30\nseconds the first time we did this.\n\n457\n00:21:25.964 --> 00:21:28.168\nSo I just figured it was\neasier to get that done.\n\n458\n00:21:28.168 --> 00:21:29.200\nSo I did that and waited for it.\n\n459\n00:21:29.200 --> 00:21:30.637\nIt came through with no trouble.\n\n460\n00:21:30.637 --> 00:21:36.041\nYou could tell here by looking at my\nPowerShell prompt, that I'm actually\n\n461\n00:21:36.041 --> 00:21:43.179\non and remotely managing the Nano Server\ncuz I have 190.168.0.35 in brackets there.\n\n462\n00:21:43.179 --> 00:21:46.664\nThen my PowerShell prompt which\nmeans I'm remotely connected and and\n\n463\n00:21:46.664 --> 00:21:50.620\nmanaging another machine using\nPowerShell right now, which is awesome.\n\n464\n00:21:50.620 --> 00:21:51.196\n&gt;&gt; Very cool, very cool.\n\n465\n00:21:51.196 --> 00:21:53.614\n&gt;&gt; If I do say so myself and\nI did because I did, so it is awesome.\n\n466\n00:21:53.614 --> 00:21:54.587\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, but\n\n467\n00:21:54.587 --> 00:21:59.344\nwhat I did after I connected before I got\nto this prompt, I used the NHS command to\n\n468\n00:21:59.344 --> 00:22:04.243\ngo in and set the rule group for file and\nprinter sharing on the firewall, enable it\n\n469\n00:22:04.243 --> 00:22:09.153\njust to finalize the configuration we\njust went through, updated all the rules.\n\n470\n00:22:09.153 --> 00:22:12.448\nSo I'm just showing you how I could do\nthat using PowerShell from here if I\n\n471\n00:22:12.448 --> 00:22:12.997\nwanted to.\n\n472\n00:22:12.997 --> 00:22:14.708\nUpdated all the rules,\nso you could see that.\n\n473\n00:22:14.708 --> 00:22:16.029\nAnd I'm back at this prompt right now.\n\n474\n00:22:16.029 --> 00:22:20.885\nSo I've established remote connectivity\nusing Enter-PSSession to remotely manage\n\n475\n00:22:20.885 --> 00:22:25.404\nand manipulate WinRM, to be able to use\nWinRM, right, and create a trusted host\n\n476\n00:22:25.404 --> 00:22:29.390\nentry to connect to the Nano Server and\nstart managing remotely.\n\n477\n00:22:29.390 --> 00:22:33.743\nNow, this is traditionally, as I fall off\nmy whatever we're calling this little tub\n\n478\n00:22:33.743 --> 00:22:35.503\nI'm standing on here, this pad.\n\n479\n00:22:35.503 --> 00:22:36.928\n&gt;&gt; Yeah.\n&gt;&gt; We have to thank Daniel for\n\n480\n00:22:36.928 --> 00:22:38.875\nthat when I broke my neck and I fall over.\n\n481\n00:22:38.875 --> 00:22:43.882\nAll right, so what I'm doing is,\nif you remember, I am configuring and\n\n482\n00:22:43.882 --> 00:22:48.575\nsetting up and enabling yet\nanother way to administer Nano Server.\n\n483\n00:22:48.575 --> 00:22:52.332\nNow, if you remember, the Recovery\nConsole, what we've been using as\n\n484\n00:22:52.332 --> 00:22:56.530\nthe console from Hyper-V, we can use that\nto do basic configuration as you saw.\n\n485\n00:22:56.530 --> 00:22:59.264\nBut I'm not gonna administer\nNano Server that way traditionally.\n\n486\n00:22:59.264 --> 00:23:02.205\nI'm gonna have to do this remotely\ntypically from an administrative\n\n487\n00:23:02.205 --> 00:23:03.377\nworkstation of some kind.\n\n488\n00:23:03.377 --> 00:23:06.793\nSo configuring these settings and\nsetting this up in PowerShell is gonna be\n\n489\n00:23:06.793 --> 00:23:09.530\nimportant if I wanna administer\nthis thing long term.\n\n490\n00:23:09.530 --> 00:23:12.535\n&gt;&gt; Yeah, cuz that Recovery Console is just\nthat, it's not meant for administration.\n\n491\n00:23:12.535 --> 00:23:14.397\n&gt;&gt; Right.\n&gt;&gt; It's called the Recovery Console and\n\n492\n00:23:14.397 --> 00:23:16.716\nthere's only what,\nfour things you can do in there?\n\n493\n00:23:16.716 --> 00:23:19.168\n&gt;&gt; Configure WinRM tool,\nallow remote connectivity,\n\n494\n00:23:19.168 --> 00:23:22.336\nsetup your networking to enable\nunit connect once you enable WinRM.\n\n495\n00:23:22.336 --> 00:23:26.174\nSetup the basic inbound or outbound\nconnectivity through the firewall to again\n\n496\n00:23:26.174 --> 00:23:29.280\nenable you to connect and\nnow beyond that, that's it, right?\n\n497\n00:23:29.280 --> 00:23:32.205\nSo you gotta go in there and\nget that done initially but\n\n498\n00:23:32.205 --> 00:23:35.918\nout beyond that on then you're\ngonna have to administer remotely.\n\n499\n00:23:35.918 --> 00:23:37.487\nAnd PowerShell, as I talked about,\n\n500\n00:23:37.487 --> 00:23:40.134\nis gonna be most likely how\nyou're gonna connect and do this.\n\n501\n00:23:40.134 --> 00:23:44.014\nSo as result, we've gonna go through these\nsteps and really get this part nailed and\n\n502\n00:23:44.014 --> 00:23:45.284\nunderstand how to do this.\n\n503\n00:23:45.284 --> 00:23:48.576\nSo that way we can create\nfunctionality there because otherwise,\n\n504\n00:23:48.576 --> 00:23:50.056\nwe're gonna have a problem.\n\n505\n00:23:50.056 --> 00:23:51.870\nNow, we've gone to all this trouble.\n\n506\n00:23:51.870 --> 00:23:55.313\nSo wouldn't it be horrible if I\ntyped that, and did that, and\n\n507\n00:23:55.313 --> 00:23:56.881\nbroke my connection?\n\n508\n00:23:56.881 --> 00:23:57.480\n&gt;&gt; No.\n\n509\n00:23:57.480 --> 00:23:58.360\n&gt;&gt; Oops, right?\n\n510\n00:23:58.360 --> 00:23:59.300\n&gt;&gt; Now what are you gonna do?\n\n511\n00:23:59.300 --> 00:24:00.200\n&gt;&gt; I'm gonna leave.\n\n512\n00:24:00.200 --> 00:24:00.810\n&gt;&gt; End of the show.\n\n513\n00:24:00.810 --> 00:24:01.550\n&gt;&gt; That's it, we're done.\n\n514\n00:24:01.550 --> 00:24:02.714\n&gt;&gt; Hope you guys enjoyed this episode-\n&gt;&gt; No!\n\n515\n00:24:02.714 --> 00:24:03.214\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n516\n00:24:03.214 --> 00:24:03.714\n&gt;&gt; We're not done yet.\n\n517\n00:24:03.714 --> 00:24:05.410\nBut we do have to break the connection\n\n518\n00:24:05.410 --> 00:24:08.133\nto go ahead and do something else.\nSo because number one, right,\n\n519\n00:24:08.133 --> 00:24:10.279\nwe're obviously gonna every so\noften get out and go back in.\n\n520\n00:24:10.279 --> 00:24:11.555\nSo I wanna make sure we know how to do\n\n521\n00:24:11.555 --> 00:24:13.904\nthat, number one.\nNumber two, when we're done,\n\n522\n00:24:13.904 --> 00:24:18.035\njust from a hygiene perspective, best\npractice, good use, right kind of thing,\n\n523\n00:24:18.035 --> 00:24:21.624\nwe set up a remote management capability.\nWe log in, we have authenticated,\n\n524\n00:24:21.624 --> 00:24:25.574\nremember, we provided a credential, right?\nNow we also set up for domain join,\n\n525\n00:24:25.574 --> 00:24:28.188\nso I wanted get ready to do the domain\njoin, so we're gonna do that.\n\n526\n00:24:28.188 --> 00:24:29.847\nBut once we're done doing whatever we're\n\n527\n00:24:29.847 --> 00:24:32.640\ngonna do, let's pretend we were\ngoing to walk away for a minute.\n\n528\n00:24:32.640 --> 00:24:34.190\nWe would not wanna leave that logged in,\n\n529\n00:24:34.190 --> 00:24:36.590\nright, because that would\npresent a problem for us.\n\n530\n00:24:36.590 --> 00:24:37.990\nBecause someone could come along,\n\n531\n00:24:37.990 --> 00:24:39.500\ngrab this console, and\n\n532\n00:24:39.500 --> 00:24:43.160\nessentially now they're connected,\nin this case with the admin credential,\n\n533\n00:24:43.160 --> 00:24:46.616\nthe root credential on that box locally.\nThey've got full rights to\n\n534\n00:24:46.616 --> 00:24:50.546\nthe Nano Server, that would be bad, right?\nSo we've gotta get in the habit of\n\n535\n00:24:50.546 --> 00:24:55.014\nensuring that we understand that we need\nto make sure that we are taking care and\n\n536\n00:24:55.014 --> 00:24:59.682\ncleaning up and doing the things we need\nto do behind ourselves as we're working to\n\n537\n00:24:59.682 --> 00:25:03.675\nensure we don't open up a security hole.\nTo go into all this trouble of hardening\n\n538\n00:25:03.675 --> 00:25:05.520\nthe server, setting it up,\ndoing everything.\n\n539\n00:25:05.520 --> 00:25:06.800\nWould be a huge shame,\n\n540\n00:25:06.800 --> 00:25:09.230\nwe left the console logged in,\nand somebody walked up and\n\n541\n00:25:09.230 --> 00:25:12.030\ntook advantage of that.\nSo exit is a really good command for\n\n542\n00:25:12.030 --> 00:25:14.350\nus to just think about,\nright, so be aware of that.\n\n543\n00:25:14.350 --> 00:25:15.640\nAll right, so I'm gonna do the following,\n\n544\n00:25:15.640 --> 00:25:19.330\nwe'll do a little net use action here,\nif I could spell that correctly.\n\n545\n00:25:19.330 --> 00:25:20.210\nI could do net sec,\n\n546\n00:25:20.210 --> 00:25:22.063\nbut that probably won't work out as well,\nright?\n\n547\n00:25:22.063 --> 00:25:22.936\n&gt;&gt; [LAUGH] Yeah.\n&gt;&gt; So net use,\n\n548\n00:25:22.936 --> 00:25:24.216\nI'm gonna just map a drive here.\n\n549\n00:25:24.216 --> 00:25:26.473\nSo let me just do this real quick.\n\n550\n00:25:26.473 --> 00:25:29.193\nWe're gonna connect to the root of\nthe C drive on that machine, and\n\n551\n00:25:29.193 --> 00:25:30.747\nmake sure we have good connectivity,\n\n552\n00:25:30.747 --> 00:25:34.350\njust check everything from PowerShell\noutside the remote management session.\n\n553\n00:25:34.350 --> 00:25:39.139\nSo net use x:, what is that,\n\\\\192.168.0.35, I think, right?\n\n554\n00:25:39.139 --> 00:25:40.540\nRight, so let's just do that.\n\n555\n00:25:40.540 --> 00:25:45.790\nWhile I am doing that, we'll specify c$,\nlet's hit Enter there.\n\n556\n00:25:45.790 --> 00:25:48.289\nAll right, so\nwe have a drive mapped over there now.\n\n557\n00:25:49.560 --> 00:25:52.720\nAnd we can check that\njust by typing in x:, and\n\n558\n00:25:52.720 --> 00:25:55.680\nsee we're now at the X prompt there,\nso we can be there.\n\n559\n00:25:55.680 --> 00:25:58.630\nSo now what we're gonna\ndo is we're gonna copy\n\n560\n00:25:58.630 --> 00:26:02.690\nfrom the C drive on this domain\ncontrol locally over to the X drive,\n\n561\n00:26:02.690 --> 00:26:06.810\nsends it over to, through the mapped\ndrive, over to the Nano Server.\n\n562\n00:26:06.810 --> 00:26:11.204\nWe're gonna copy that blob file,\nthe odjblob that we're gonna use,\n\n563\n00:26:11.204 --> 00:26:14.120\nwhich is our preconfigured\ndomain join file.\n\n564\n00:26:14.120 --> 00:26:16.660\nThat's essentially gonna have\nall the configuration and\n\n565\n00:26:16.660 --> 00:26:18.880\nthe provisioning available for us, right?\n\n566\n00:26:18.880 --> 00:26:20.860\nSo this is how we do the domain join.\n\n567\n00:26:20.860 --> 00:26:23.130\nSo we're gonna go ahead, do this,\nI'm gonna use the copy command.\n\n568\n00:26:23.130 --> 00:26:25.040\nIf you remember,\nwe talked about copy before.\n\n569\n00:26:25.040 --> 00:26:26.180\nLet me just scroll up,\n\n570\n00:26:26.180 --> 00:26:29.530\nby the way, let you see the bottom of this\nlittle bit easier while we're talking.\n\n571\n00:26:29.530 --> 00:26:30.850\nLet's get some of that out of the way,\n\n572\n00:26:30.850 --> 00:26:33.850\ngive you a little more real\nestate down there, there we go.\n\n573\n00:26:33.850 --> 00:26:37.530\nWe talked about using the copy command,\nremember this is not unique to PowerShell.\n\n574\n00:26:37.530 --> 00:26:40.800\nThis is a DOS shell copy command,\nit's just that we're porting it and\n\n575\n00:26:40.800 --> 00:26:42.050\nusing it through PowerShell.\n\n576\n00:26:42.050 --> 00:26:43.180\nBut copy is copy, right?\n\n577\n00:26:43.180 --> 00:26:44.531\nRemember, we have to specify source,,\n\n578\n00:26:44.531 --> 00:26:46.626\nwhere are we going to get it from,\nwhat are we going to do with it.\n\n579\n00:26:46.626 --> 00:26:51.747\nSo copy, C:, and we're just gonna\nput a path in here, \\Users,\n\n580\n00:26:51.747 --> 00:26:56.404\nand \\administrator, And\n\n581\n00:26:56.404 --> 00:27:02.540\nthen the name of the file,\nwe're going to do odjblob.\n\n582\n00:27:02.540 --> 00:27:05.101\nI always do objblob, I always get it\nbackwards, I always get an error,\n\n583\n00:27:05.101 --> 00:27:06.310\nI always gotta go back, redo it.\n\n584\n00:27:06.310 --> 00:27:10.909\nI switch the d and the b for blob and\nj, yeah, so I'm just a mess when I type,\n\n585\n00:27:10.909 --> 00:27:13.635\nI just cannot be trusted\nto do this on my own.\n\n586\n00:27:13.635 --> 00:27:15.100\n&gt;&gt; [LAUGH]\n&gt;&gt; I need an overseer or\n\n587\n00:27:15.100 --> 00:27:17.520\na caretaker to do this for me.\n\n588\n00:27:17.520 --> 00:27:20.600\nAll right, so I'm just gonna go ahead,\ngonna do that, I'm gonna hit Enter, right?\n\n589\n00:27:20.600 --> 00:27:24.700\nSo we have that there, and now,\nwhat I'm gonna do is the following.\n\n590\n00:27:24.700 --> 00:27:28.410\nI'm gonna reestablish my\nPowerShell remote connection.\n\n591\n00:27:28.410 --> 00:27:33.375\nRight, so I'm gonna go in and do,\nwhoops one more time, hold on,\n\n592\n00:27:33.375 --> 00:27:36.049\nlet me just backspace out of there.\n\n593\n00:27:36.049 --> 00:27:36.920\nDo this.\n\n594\n00:27:38.437 --> 00:27:39.830\nThere we go, yeah, okay.\n\n595\n00:27:39.830 --> 00:27:41.197\nSo instead of having to type it again,\n\n596\n00:27:41.197 --> 00:27:42.170\nI'm smart,\n&gt;&gt; There you go.\n\n597\n00:27:42.170 --> 00:27:43.140\n&gt;&gt; I can actually just up arrow.\n\n598\n00:27:43.140 --> 00:27:46.655\nAll right, so Enter-PSSession,\ncomputer name, IPv4, credential.\n\n599\n00:27:46.655 --> 00:27:49.251\nYou're gonna see the prompt this time,\nso you get a chance to see it, so\n\n600\n00:27:49.251 --> 00:27:50.000\nlet's do that.\n\n601\n00:27:50.000 --> 00:27:51.435\nThat's the prompt I'm talking about,\nright,\n\n602\n00:27:51.435 --> 00:27:54.365\nthat's the credential prompt we would\nget to pass that credential through to\n\n603\n00:27:54.365 --> 00:27:55.455\nthe remote machine.\n\n604\n00:27:55.455 --> 00:27:57.055\nSo notice it's got the IP address,\n\n605\n00:27:57.055 --> 00:28:00.135\nwhich is the value of the IPv4\nvariable sitting there.\n\n606\n00:28:00.135 --> 00:28:02.265\nIt's got the username,\nwe already provided that.\n\n607\n00:28:02.265 --> 00:28:05.122\nLet's put our password in, type that in.\n\n608\n00:28:05.122 --> 00:28:07.616\nTakes just a second to connect,\nso we give that a moment.\n\n609\n00:28:07.616 --> 00:28:09.772\nYou'll see we get our prompt right away,\nwe're there.\n\n610\n00:28:09.772 --> 00:28:11.534\nA little bit quicker\nthe next time we do this.\n\n611\n00:28:11.534 --> 00:28:12.982\nAll right, so we have that now.\n\n612\n00:28:12.982 --> 00:28:16.572\nSo now, we're gonna go ahead and\nissue part two of the djoin command.\n\n613\n00:28:16.572 --> 00:28:19.802\nThis is now gonna be the piece that\nconfigures on the Nano Server side\n\n614\n00:28:19.802 --> 00:28:22.732\nusing the blob file, the actual\njoin that puts us into the domain.\n\n615\n00:28:22.732 --> 00:28:24.632\nSo we're gonna see how we close that loop.\n\n616\n00:28:24.632 --> 00:28:29.360\nSo this one we're gonna type in,\nso djoin /requestodj,\n\n617\n00:28:29.360 --> 00:28:32.450\nas opposed to the other\none we did to generate it.\n\n618\n00:28:32.450 --> 00:28:36.246\nSo we'll do /request, odj,\n\n619\n00:28:36.246 --> 00:28:41.017\n/requestodj, yeah, and\nthen we're gonna do /loadfile.\n\n620\n00:28:41.017 --> 00:28:43.635\nSo we're gonna specify that we're gonna\n\n621\n00:28:43.635 --> 00:28:47.682\ntake the information out of\nthe blob file that we've provided.\n\n622\n00:28:47.682 --> 00:28:54.360\nSo we're gonna load file, we're going to\ntell it where to find that, c:\\odjblob.\n\n623\n00:28:54.360 --> 00:28:59.329\nJust make sure we have that spelled\ncorrectly, d and then b, okay, odjblob.\n\n624\n00:28:59.329 --> 00:29:00.913\nAll right, then /windowspath.\n\n625\n00:29:05.288 --> 00:29:10.490\nMake sure I spell that, and\nthen path for Windows is c:\\windows.\n\n626\n00:29:10.490 --> 00:29:15.270\nAnd then, whoops,\nI don't want that, I want localos.\n\n627\n00:29:16.480 --> 00:29:18.305\nI think that should be good.\n\n628\n00:29:18.305 --> 00:29:21.465\nAll right, loading provisioning data,\nso we're loading the file up.\n\n629\n00:29:21.465 --> 00:29:24.815\nProvisioning request completed, so\nessentially we've joined the domain.\n\n630\n00:29:24.815 --> 00:29:26.605\nReboot is required for\nchanges to be applied, so\n\n631\n00:29:26.605 --> 00:29:28.095\nwe're gonna have to go reboot that.\n\n632\n00:29:28.095 --> 00:29:31.442\nOperation completed successfully,\nwe've gonna restart the Nano Server, so\n\n633\n00:29:31.442 --> 00:29:33.912\nwe're gonna go in and just get that done.\n\n634\n00:29:33.912 --> 00:29:35.362\nSo we're gonna go ahead and cycle, or\n\n635\n00:29:35.362 --> 00:29:38.242\npower cycle the Nano Server,\nbring that back up.\n\n636\n00:29:38.242 --> 00:29:40.342\nAnd when we do,\nwe'll see that we're joined in the domain.\n\n637\n00:29:40.342 --> 00:29:42.677\nI'm gonna show you that just\nbefore we wrap up this episode,\n\n638\n00:29:42.677 --> 00:29:44.047\ncuz we're just about out of time.\n\n639\n00:29:44.047 --> 00:29:48.050\nBut let me just quickly do that, and then\nwe'll see that we can log into the domain.\n\n640\n00:29:48.050 --> 00:29:52.140\nWe'll kinda leave the demonstration at\nthat point, come back for another episode.\n\n641\n00:29:52.140 --> 00:29:55.280\nAnd we'll, at that point, continue on,\nwe'll show you a couple of things.\n\n642\n00:29:55.280 --> 00:29:58.120\nWe'll configure, or go in and\nconfigure, I should say.\n\n643\n00:29:59.720 --> 00:30:00.360\nWhat are we gonna do?\n\n644\n00:30:00.360 --> 00:30:02.640\nWe're gonna go in,\nlet me just look at my notes here.\n\n645\n00:30:02.640 --> 00:30:07.460\nWe're gonna go in and configure,\nmanage Nano Server, kind of configure it.\n\n646\n00:30:07.460 --> 00:30:09.800\nAdd some host records in,\ndo some DNS configuration.\n\n647\n00:30:09.800 --> 00:30:12.790\nSo we'll do all that stuff when we come\nback, kinda rounding out how we manage it.\n\n648\n00:30:12.790 --> 00:30:19.201\nSo let me flip back over here to\nmy other machine, see my PLABDM01.\n\n649\n00:30:19.201 --> 00:30:22.040\nYou could see we're sitting right here,\nright?\n\n650\n00:30:22.040 --> 00:30:24.290\nSo let's go ahead, let's log in.\n\n651\n00:30:28.401 --> 00:30:31.440\nOr actually,\nlet's do this before we even do the logon.\n\n652\n00:30:31.440 --> 00:30:36.970\nLet's go ahead and let's shut it down,\nand then we'll bring it back up.\n\n653\n00:30:36.970 --> 00:30:42.060\nSo remember I did say that, there we go,\nI did say we would need to cycle that.\n\n654\n00:30:42.060 --> 00:30:44.720\nSo instead of just issuing\nthe shutdown command from PowerShell,\n\n655\n00:30:44.720 --> 00:30:46.130\nwhich I could've done,\nwouldn't have been a big deal.\n\n656\n00:30:46.130 --> 00:30:47.890\nBut we'll just go ahead and\nwe'll do it from here.\n\n657\n00:30:47.890 --> 00:30:50.155\nSo let's just go ahead,\nwe'll just power that back up real quick,\n\n658\n00:30:50.155 --> 00:30:51.356\ndoesn't take very long to come up.\n\n659\n00:30:51.356 --> 00:30:53.000\nOne of the beautiful things about Nano.\n\n660\n00:30:53.000 --> 00:30:53.660\n&gt;&gt; I know, right?\n\n661\n00:30:53.660 --> 00:30:55.460\n&gt;&gt; It is-\n&gt;&gt; Very fast.\n\n662\n00:30:55.460 --> 00:30:57.648\n&gt;&gt; Very fast,\nlet's just get that back over there.\n\n663\n00:31:00.250 --> 00:31:05.723\nAll right, so go ahead and\nwe'll login here, so administrator.\n\n664\n00:31:07.599 --> 00:31:08.590\nAnd our password.\n\n665\n00:31:08.590 --> 00:31:10.470\nBut now we're gonna use\nour domain as well,\n\n666\n00:31:10.470 --> 00:31:11.860\nbecause we should be joined to the domain.\n\n667\n00:31:11.860 --> 00:31:15.724\nSo we'll do, if I could spell,\n\n668\n00:31:15.724 --> 00:31:20.455\npractice, sorry, so practicelabs.\n\n669\n00:31:21.906 --> 00:31:25.665\nAnd we've logged in, but now notice\nthere's a little bit of difference here.\n\n670\n00:31:25.665 --> 00:31:28.270\nThose same four options are available,\nthat hasn't changed.\n\n671\n00:31:28.270 --> 00:31:31.280\nAll that's changed is just simply\nthe information on the top there,\n\n672\n00:31:31.280 --> 00:31:33.630\nthe recovery console,\nthe computer name is there, right?\n\n673\n00:31:33.630 --> 00:31:37.574\nUsername is there, but notice we're\nuser practicelabs\\administrator, and\n\n674\n00:31:37.574 --> 00:31:41.462\nnotice our domain affiliation,\nPRACTICELABS.COM, Server 16 Standard.\n\n675\n00:31:41.462 --> 00:31:43.008\nWe talked about the standard switches,\n\n676\n00:31:43.008 --> 00:31:45.153\nwe did the, excuse me,\nimage build when we built Nano.\n\n677\n00:31:45.153 --> 00:31:48.374\nWe could see date and time,\nalthough that's not exactly correct.\n\n678\n00:31:48.374 --> 00:31:50.126\n&gt;&gt; [LAUGH]\n&gt;&gt; It's off by a few hours, but\n\n679\n00:31:50.126 --> 00:31:52.900\nyou could see the information\non when we are logging in.\n\n680\n00:31:52.900 --> 00:31:55.780\nSo you could see we were successful\nin doing our domain join.\n\n681\n00:31:55.780 --> 00:31:58.610\nSo kinda episode two draws to a close.\n\n682\n00:31:58.610 --> 00:32:03.590\nWe need that really dramatic music\nfrom Star Wars, or something, right?\n\n683\n00:32:03.590 --> 00:32:04.632\n&gt;&gt; The orchestra sitting off\nto the side [CROSSTALK].\n\n684\n00:32:04.632 --> 00:32:07.800\n&gt;&gt; That is so cool, I heard that last\nnight when I was watching the movie again.\n\n685\n00:32:07.800 --> 00:32:11.150\nAnd I actually saw,\nI'm old enough, some you may be.\n\n686\n00:32:11.150 --> 00:32:12.070\nI'm old enough to remember,\n\n687\n00:32:12.070 --> 00:32:14.560\nI went to see Star Wars when it\nfirst came out in the movie theater.\n\n688\n00:32:14.560 --> 00:32:15.098\n&gt;&gt; In the theater, yes.\n\n689\n00:32:15.098 --> 00:32:18.330\n&gt;&gt; In the theater, I remember seeing\nit as a kid, that was pretty awesome.\n\n690\n00:32:18.330 --> 00:32:20.500\n&gt;&gt; Without all the extras\nthey've gone back and added in?\n\n691\n00:32:20.500 --> 00:32:23.690\n&gt;&gt; No, the original, I'm talking\nabout the original first run of it.\n\n692\n00:32:23.690 --> 00:32:29.230\nBut I saw all three when they came out\nin the theatres 30 something years ago,\n\n693\n00:32:29.230 --> 00:32:30.090\nwhatever it was.\n\n694\n00:32:30.090 --> 00:32:33.790\nBut yeah, I remember,\nit was impressive then, let alone now.\n\n695\n00:32:33.790 --> 00:32:35.067\nSo yes, anyways, you see-\n&gt;&gt; [LAUGH]\n\n696\n00:32:35.067 --> 00:32:36.356\n&gt;&gt; That was our random aside for\n\n697\n00:32:36.356 --> 00:32:37.460\nthe episode by the way.\n\n698\n00:32:37.460 --> 00:32:41.588\nBut you see we were successful at joining,\nconfiguring the base requirements, and\n\n699\n00:32:41.588 --> 00:32:44.450\nsetting up remote management for\nNano using PowerShell.\n\n700\n00:32:44.450 --> 00:32:46.080\nWe were successful at domain join.\n\n701\n00:32:46.080 --> 00:32:49.760\nIn our next episode, we're going through\ninduce some management on the Nano Server,\n\n702\n00:32:49.760 --> 00:32:50.560\nlike I said.\n\n703\n00:32:50.560 --> 00:32:54.220\nWe'll tinker under the hood remotely\nfrom the PowerShell environment.\n\n704\n00:32:54.220 --> 00:32:55.770\nWe'll set up and configure DNS,\n\n705\n00:32:55.770 --> 00:32:58.460\nand do another couple of things\njust to round out our discussions.\n\n706\n00:32:58.460 --> 00:33:01.285\nBut kinda do a nice little\nthought process and\n\n707\n00:33:01.285 --> 00:33:05.500\nwrap all that up in\na PowerShell Nano-inspired bow for you.\n\n708\n00:33:05.500 --> 00:33:06.280\n&gt;&gt; I love it.\n\n709\n00:33:06.280 --> 00:33:07.823\nAll right Adam, great demonstration there.\n\n710\n00:33:07.823 --> 00:33:11.550\nGot to see Nano Server from beginning\nto end, or at least we've got-\n\n711\n00:33:11.550 --> 00:33:12.751\n&gt;&gt; Well, beginning to middle,\n\n712\n00:33:12.751 --> 00:33:14.870\nwe're almost there,\nwe're two thirds of the way.\n\n713\n00:33:14.870 --> 00:33:17.310\n&gt;&gt; That's what we'll call it,\nwe'll say beginning to two thirds.\n\n714\n00:33:17.310 --> 00:33:20.250\nAnd we'll come back for\nanother part to finish that off.\n\n715\n00:33:20.250 --> 00:33:22.410\nBut thank you for those great\ndemonstrations, appreciate that.\n\n716\n00:33:22.410 --> 00:33:24.720\nHope everybody out there\nenjoyed watching this one.\n\n717\n00:33:24.720 --> 00:33:27.900\nSigning off for ITProTV,\nI've been your host, Mike Rodrick.\n\n718\n00:33:27.900 --> 00:33:29.000\n&gt;&gt; I am Adam Gordon.\n\n719\n00:33:29.000 --> 00:33:31.100\n&gt;&gt; And we will see you next time.\n\n720\n00:33:35.724 --> 00:33:38.251\n[MUSIC]\n\n721\n00:33:38.251 --> 00:33:41.708\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "237106324"
        },
        {
          "description": "",
          "length": "1921",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-3-nano_server_and_containers_pt3-100517-PGM.00_31_40_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-3-nano_server_and_containers_pt3-100517-PGM.00_31_40_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-3-nano_server_and_containers_pt3-100517-PGM.00_31_40_23.Still001-sm.jpg",
          "title": "Nano Servers and Containers Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:01.200\nWelcome to ITProTV.\n\n2\n00:00:01.200 --> 00:00:03.732\nI'm your host, Don Pezet.\n\n3\n00:00:03.732 --> 00:00:08.309\n[CROSSTALK]\n\n4\n00:00:08.309 --> 00:00:14.066\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:14.066 --> 00:00:15.046\n&gt;&gt; Hello, welcome to another\nexciting episode here on ITProTV.\n\n6\n00:00:15.046 --> 00:00:17.020\nI'm your host Mike Rodrick.\n\n7\n00:00:17.020 --> 00:00:19.860\nToday, we're doing our\nSecuring Server 2016.\n\n8\n00:00:19.860 --> 00:00:26.420\nGetting ready for the 70 dash 744 exam for\nMicrosoft and in this episode we're doing\n\n9\n00:00:26.420 --> 00:00:32.530\na part 3 we're continuing our conversation\naround Nano Servers and Containers.\n\n10\n00:00:32.530 --> 00:00:35.932\nIn our previous episodes if you missed\npart 1 and 2 make sure you go back and\n\n11\n00:00:35.932 --> 00:00:36.581\nwatch those.\n\n12\n00:00:36.581 --> 00:00:39.403\nAnd when we got things set up for\nNano Server we look at building\n\n13\n00:00:39.403 --> 00:00:42.121\nthat Nano Server image doing\nour initial configurations so\n\n14\n00:00:42.121 --> 00:00:44.410\nthat we can have some remote access.\n\n15\n00:00:44.410 --> 00:00:47.050\nTo do that, and\nnow we're ready to move on from there and\n\n16\n00:00:47.050 --> 00:00:48.230\nsee what we can do with Nano servers.\n\n17\n00:00:48.230 --> 00:00:50.190\nRight here to show us is Mr. Adam Gordon.\n\n18\n00:00:50.190 --> 00:00:50.950\nWelcome back, Adam.\n\n19\n00:00:50.950 --> 00:00:53.960\n&gt;&gt; You realized we switched, so now I'm\nthe red guy and you're the dark shirt guy.\n\n20\n00:00:53.960 --> 00:00:57.040\n&gt;&gt; So I don't have to worry about\nthe meteorite or the alien.\n\n21\n00:00:57.040 --> 00:00:58.950\n&gt;&gt; Yeah,\nI can't leave where I'm standing, or\n\n22\n00:00:58.950 --> 00:01:03.700\nI'll be the guy who ends up getting killed\nin the first five minutes of the episode.\n\n23\n00:01:03.700 --> 00:01:10.540\nAll right, so we are picking up part three\non our journey into Nano Server land.\n\n24\n00:01:10.540 --> 00:01:14.980\nWe left off, as Mike was suggesting,\nnot only having configured, but\n\n25\n00:01:14.980 --> 00:01:18.190\nwe used the recovery console, remember\nto actually go in and rather install.\n\n26\n00:01:18.190 --> 00:01:21.460\nBut we then built the image installed,\nand used the recovery console to do\n\n27\n00:01:21.460 --> 00:01:26.160\nour initial configuration through a little\nremote PowerShelling in there to go in and\n\n28\n00:01:26.160 --> 00:01:28.580\ndo the domain join,\noffline domain join, right?\n\n29\n00:01:28.580 --> 00:01:30.950\nSo we did all that which was kinda cool.\n\n30\n00:01:30.950 --> 00:01:34.130\nAnd Mike made a comment after we got\ndone with that last episode after we got\n\n31\n00:01:34.130 --> 00:01:37.840\noff the air that, wow I've never thought I\nwould find a business case to use offline\n\n32\n00:01:37.840 --> 00:01:39.075\ndomain you're enjoying for.\n\n33\n00:01:39.075 --> 00:01:41.340\n&gt;&gt; [LAUGH]\n&gt;&gt; And now I actually know why Microsoft\n\n34\n00:01:41.340 --> 00:01:45.500\ncreated that technology in that ability\ncuz this is the perfect reason for\n\n35\n00:01:45.500 --> 00:01:46.320\nme to do it, right?\n\n36\n00:01:46.320 --> 00:01:49.960\n&gt;&gt; It was a tool that was way ahead of its\ntime but now it has a purpose I like it.\n\n37\n00:01:49.960 --> 00:01:50.860\n&gt;&gt; It actually exists.\n\n38\n00:01:50.860 --> 00:01:54.330\nThere is a plan even though it\ndoesn't always coalesce exactly\n\n39\n00:01:54.330 --> 00:01:55.740\naccording to the right timeline.\n\n40\n00:01:55.740 --> 00:01:59.270\nSo we can see and did get a chance\nto see how offline domain join.\n\n41\n00:01:59.270 --> 00:02:02.110\nRemember the ODJ blob file\nwe created we used and\n\n42\n00:02:02.110 --> 00:02:05.550\nthen we created a map\ndrive that will net use.\n\n43\n00:02:05.550 --> 00:02:08.990\nThen went in grabbed that, and\ndid the offline domain join.\n\n44\n00:02:08.990 --> 00:02:11.020\nLogged back in through\nthe recovery console.\n\n45\n00:02:11.020 --> 00:02:14.710\nSaw that the Nano instance is\nnow indeed a domain member.\n\n46\n00:02:14.710 --> 00:02:19.030\nSo we did all that, went through WinRM,\nall that cool stuff.\n\n47\n00:02:19.030 --> 00:02:21.300\nAnd now, what we're gonna do,\nbefore we go back in and\n\n48\n00:02:21.300 --> 00:02:25.520\nstart managing Nano Server with\na little bit of an easier interface.\n\n49\n00:02:25.520 --> 00:02:29.900\nWe've joined it to the server\nmanager on our domain controller.\n\n50\n00:02:29.900 --> 00:02:32.470\nWe'll just do some stuff and\nconfigure from there.\n\n51\n00:02:32.470 --> 00:02:36.530\nBut before we do that, wanted to circle\nback to one of the topics we mentioned\n\n52\n00:02:36.530 --> 00:02:38.610\nas we were doing the build on Nano Server.\n\n53\n00:02:38.610 --> 00:02:40.110\nWhich is the idea of packages, right?\n\n54\n00:02:40.110 --> 00:02:41.320\nIf you remember, went through,\n\n55\n00:02:41.320 --> 00:02:44.400\ntook a look at all the different\npackage options that were available.\n\n56\n00:02:44.400 --> 00:02:47.190\nI'll show you that list again in a second,\nremind you where they are and\n\n57\n00:02:47.190 --> 00:02:48.340\nwhy we use them.\n\n58\n00:02:48.340 --> 00:02:51.300\nAnd I talked a little bit about the fact\nthat, while there's a lot of these\n\n59\n00:02:51.300 --> 00:02:55.110\ndifferent roles and functions we could\nimplement, showed you a Word document with\n\n60\n00:02:55.110 --> 00:02:58.420\nthe list of all the different packages and\ntheir functions.\n\n61\n00:02:58.420 --> 00:03:01.490\nEncourage you to go back, take a look at\nthat as part of the show notes, grab that.\n\n62\n00:03:01.490 --> 00:03:03.580\nIt's helpful probably for\nyou when you're studying, and\n\n63\n00:03:03.580 --> 00:03:05.110\nalso when you're using Nano Server.\n\n64\n00:03:06.320 --> 00:03:09.350\nBut I focused in and\nparticular I wanna said with DSC,\n\n65\n00:03:09.350 --> 00:03:12.710\nDesired State Configuration,\none of the packages right in, it's there.\n\n66\n00:03:12.710 --> 00:03:16.640\nThat we can go in and\napply security policies to the Nano Server\n\n67\n00:03:16.640 --> 00:03:20.198\nwith remember our theme,\noverall here is security.\n\n68\n00:03:20.198 --> 00:03:23.730\nHow do we secure Window Server\n2016 using Nano in and\n\n69\n00:03:23.730 --> 00:03:27.470\nof itself by itself gives\nus a sense of security.\n\n70\n00:03:27.470 --> 00:03:31.170\nReduced footprint, and\nas result reduced attack surface.\n\n71\n00:03:31.170 --> 00:03:35.820\nBut, unless we configure Nano,\nlike any other server instance.\n\n72\n00:03:35.820 --> 00:03:39.040\nUnless we configure it\nto ensure its security,\n\n73\n00:03:39.040 --> 00:03:41.110\nwe are not really doing\nall the things we can do.\n\n74\n00:03:41.110 --> 00:03:46.222\nAnd while just using Nano by itself\nis really not enough to be secure.\n\n75\n00:03:46.222 --> 00:03:48.690\nWe wanna ensure that we take\nthose next steps, right?\n\n76\n00:03:48.690 --> 00:03:52.000\nSo we've talked a lot about that\nproactively in a lot of other areas.\n\n77\n00:03:52.000 --> 00:03:54.500\nSpent episodes and episodes on DNS.\n\n78\n00:03:54.500 --> 00:03:57.980\nSpent episodes on encryption, EFS,\n\n79\n00:03:57.980 --> 00:04:02.180\nBitLocker, threat mitigation,\nadvanced threat analytics.\n\n80\n00:04:02.180 --> 00:04:07.180\nLog management, centralized control,\nthrough group policy\n\n81\n00:04:07.180 --> 00:04:11.540\nof all sorts of aspects, advanced audit\npolicies, all sorts of stuff we can do.\n\n82\n00:04:11.540 --> 00:04:14.720\nA lot of really interesting innovative and\n\n83\n00:04:14.720 --> 00:04:17.790\ncool technologies that we can\nbring to bear to secure Server 16.\n\n84\n00:04:17.790 --> 00:04:20.190\nThere is just so\nmuch stuff going on in there.\n\n85\n00:04:20.190 --> 00:04:23.580\nBut, we do not just stop right,\nat that area and say, yeah, okay, for\n\n86\n00:04:23.580 --> 00:04:27.220\nthe GUI the standard and\nenterprise, or now standard and\n\n87\n00:04:27.220 --> 00:04:30.210\ndata center, no longer enterprise for\nseveral generations.\n\n88\n00:04:30.210 --> 00:04:30.960\nBut standard and\n\n89\n00:04:30.960 --> 00:04:34.760\ndata center implementations\nin the full GUI, were good.\n\n90\n00:04:34.760 --> 00:04:36.180\nWell, no ,we're not necessarily.\n\n91\n00:04:36.180 --> 00:04:38.530\nThere is Core, there is Nano.\n\n92\n00:04:38.530 --> 00:04:41.320\nThere's all these other server\nimplementations that we do\n\n93\n00:04:41.320 --> 00:04:42.580\nhave to understand.\n\n94\n00:04:42.580 --> 00:04:46.510\nKeep talking about the value of PowerShell\nand why we need to be aware of that.\n\n95\n00:04:46.510 --> 00:04:48.860\nSo, I just wanted to make sure\nwe circled back to this idea for\n\n96\n00:04:48.860 --> 00:04:51.970\njust a couple of minutes as we're\njust about to jump back in.\n\n97\n00:04:51.970 --> 00:04:55.360\nContinue our discussions on how\nto implement and manage Nano.\n\n98\n00:04:55.360 --> 00:04:58.990\nWe're gonna configure the DNS\nserver role there, and set that up.\n\n99\n00:04:58.990 --> 00:05:02.250\nBut the requirements to use DSC,\nDesired State Configuration,\n\n100\n00:05:02.250 --> 00:05:04.320\nwith Nano, we do have to add the package.\n\n101\n00:05:04.320 --> 00:05:08.020\nSo let's just start, give me just one\nsecond to bring up the package list, but\n\n102\n00:05:08.020 --> 00:05:12.740\nlet's just start by taking a look\nat the packages that we can add.\n\n103\n00:05:12.740 --> 00:05:17.190\nSo, join me back here, we're on our DM\nmachine where did the Nano Server build\n\n104\n00:05:17.190 --> 00:05:20.730\nthrough PowerShell, went back\ninto the Z drive if you remember,\n\n105\n00:05:20.730 --> 00:05:23.180\nagain if you haven't seen\nthe last two episodes.\n\n106\n00:05:23.180 --> 00:05:27.840\nWe mounted the Server 16 install\nmedia as a Z drive on this machine,\n\n107\n00:05:27.840 --> 00:05:31.130\ndrilled in there to grab\nthe Nano Server Image Generator.\n\n108\n00:05:31.130 --> 00:05:33.810\nAnd the PS, the PowerShell, PS1 and\n\n109\n00:05:33.810 --> 00:05:36.800\nPSM1 Module follows we\nneeded to do the Nano bill.\n\n110\n00:05:36.800 --> 00:05:38.380\nWent through all of that,\ngo back take a look.\n\n111\n00:05:38.380 --> 00:05:43.020\nWe talk extensively about how to do it and\ndo it as part of the actual demo but\n\n112\n00:05:43.020 --> 00:05:45.840\nwe also showed you that\nthere's a sub folder in here\n\n113\n00:05:45.840 --> 00:05:48.430\nthat is under Nano Server called packages.\n\n114\n00:05:48.430 --> 00:05:50.140\nAnd I'm highlighting the DSC package,\n\n115\n00:05:50.140 --> 00:05:55.730\nwhich is one of the packages that we would\nscript out during our install and add in.\n\n116\n00:05:55.730 --> 00:06:00.380\nWe did the DNS server package, or\nthe DNS package, but we can also do DSC.\n\n117\n00:06:00.380 --> 00:06:05.000\nSo if we have installed the DSC package,\nwhich we would have to do\n\n118\n00:06:05.000 --> 00:06:07.960\nto use that functionality,\nthen what are the requirements?\n\n119\n00:06:07.960 --> 00:06:10.940\nSo if you take a look up here, there's\nsome background stuff that has to happen.\n\n120\n00:06:10.940 --> 00:06:14.370\nIt's not just, hey, let's install\nthe package and everything's good.\n\n121\n00:06:14.370 --> 00:06:17.810\nThat's easy, with DNS package,\nwith the Compute package,\n\n122\n00:06:17.810 --> 00:06:20.180\na lot of the other packages there,\nthere's not a lot of pre-reqs,\n\n123\n00:06:20.180 --> 00:06:21.860\nyou just essentially install them.\n\n124\n00:06:21.860 --> 00:06:23.840\nAnd although you have to configure them,\n\n125\n00:06:23.840 --> 00:06:26.450\nessentially we don't need\nall this other stuff, right?\n\n126\n00:06:26.450 --> 00:06:28.890\nRemember Nano has this reduced footprint,\nboth hardware and\n\n127\n00:06:28.890 --> 00:06:32.490\nsoftware limited and\ntailored in scope functionality.\n\n128\n00:06:32.490 --> 00:06:35.100\nSo, we're not gonna put a whole bunch\nof stuff in there traditionally.\n\n129\n00:06:35.100 --> 00:06:39.050\nBut we do need certain background or\nadditional dependencies and\n\n130\n00:06:39.050 --> 00:06:43.000\nfeatures to be available, to use\na few of these package capabilities.\n\n131\n00:06:43.000 --> 00:06:48.590\nDSC is one of them, management framework,\nthe WMF, currently version five again,\n\n132\n00:06:48.590 --> 00:06:52.410\nyou're given when you're watching this,\nversus when we put the episode together.\n\n133\n00:06:52.410 --> 00:06:56.270\nThat may have updated over time,\nbut for now, at least, right?\n\n134\n00:06:56.270 --> 00:07:00.200\nAt the end of 2017, as we're shooting this\nepisode, putting it out there for you,\n\n135\n00:07:00.200 --> 00:07:00.900\ninitially.\n\n136\n00:07:00.900 --> 00:07:04.549\nWindows Management Framework,\nVersion 5.0 because PowerShell 5.0,\n\n137\n00:07:04.549 --> 00:07:08.080\nwhich is the native PowerShell\nversion in Server 16.\n\n138\n00:07:08.080 --> 00:07:12.630\nRequires this and\nhas certain features that it builds on and\n\n139\n00:07:12.630 --> 00:07:16.350\nuses from Windows Management Framework so\nwe just need that capability.\n\n140\n00:07:16.350 --> 00:07:20.660\nThe Windows PowerShell remoting, we have\nto enable that, we've done that through\n\n141\n00:07:20.660 --> 00:07:24.880\nthe manipulation of WinRM and\nsome of the stuff we've already enabled.\n\n142\n00:07:24.880 --> 00:07:28.410\nServer 16 install media is required\nto load the package, you saw that.\n\n143\n00:07:28.410 --> 00:07:30.240\nBut also the dot net framework right,\n\n144\n00:07:30.240 --> 00:07:34.341\nVersion 4.5 currently although again maybe\na later version by the time we do this.\n\n145\n00:07:34.341 --> 00:07:39.175\nOnce you build out or install the package,\nyou get as you can see here,\n\n146\n00:07:39.175 --> 00:07:43.698\nquite a long list, right,\nof all of the features that DSC provides.\n\n147\n00:07:43.698 --> 00:07:47.695\nI just kinda put them out there for us, a\nlot of commandlets that are are available,\n\n148\n00:07:47.695 --> 00:07:49.355\nyou just come down here.\n\n149\n00:07:49.355 --> 00:07:52.260\nWe have what's called push and pull mode,\nwe'll talk about this in just a minute.\n\n150\n00:07:52.260 --> 00:07:56.380\nWhether we, push changes out, or\nessentially pull them in, right.\n\n151\n00:07:56.380 --> 00:08:00.114\nIt's a very common thought process that\nwe see in a lot of the configurations So\n\n152\n00:08:00.114 --> 00:08:02.502\nyou see all the DSC cmdlets that are here,\nright?\n\n153\n00:08:02.502 --> 00:08:07.864\nWe get Find-DscResource,\nget resource, set a new checksum,\n\n154\n00:08:07.864 --> 00:08:13.235\npublish configs, test configs,\nget config, start and stop.\n\n155\n00:08:13.235 --> 00:08:16.930\nAll the standard stuff we would enable or\nrather think about using.\n\n156\n00:08:16.930 --> 00:08:20.670\nWe have the ability to be able\ngo through and take a look at,\n\n157\n00:08:20.670 --> 00:08:24.460\nas you can see resource versioning,\nsetup the pull client configuration and\n\n158\n00:08:24.460 --> 00:08:28.980\nresource needs, partial configuration,\nwe'll pull and push, can be done.\n\n159\n00:08:28.980 --> 00:08:32.315\nBut also, you'll see reporting is\nsupported there, to a pull server so\n\n160\n00:08:32.315 --> 00:08:35.485\nwe can report up and\nunderstand the status of things.\n\n161\n00:08:35.485 --> 00:08:38.545\nAnd we also support, as you can see,\nas I just scroll down a little bit,\n\n162\n00:08:38.545 --> 00:08:42.602\nevent logging and Azure automation,\nwhich means we can actually interact with\n\n163\n00:08:42.602 --> 00:08:44.952\nthe issuer fabric using this,\nwhich that's kinda cool.\n\n164\n00:08:44.952 --> 00:08:46.852\nWe have a lot of capabilities here.\n\n165\n00:08:46.852 --> 00:08:51.542\nSo using DSC, desired state configuration,\nto provide and lock down,\n\n166\n00:08:51.542 --> 00:08:54.342\nessentially, a baseline that we\nwanna apply as a template, or\n\n167\n00:08:54.342 --> 00:08:55.431\njust think about the logic of.\n\n168\n00:08:55.431 --> 00:09:00.911\nYou're just going in and setting up a set\nof security policies, as well as advanced\n\n169\n00:09:00.911 --> 00:09:05.941\naudit settings that we're gonna apply to\nconfigure the system and lock it down.\n\n170\n00:09:05.941 --> 00:09:07.911\nThis is what this technology does for us.\n\n171\n00:09:07.911 --> 00:09:12.720\nSo really taking it to the next\nlevel by not just using nano to\n\n172\n00:09:12.720 --> 00:09:17.220\nreduce our footprint, but then,\nreally constrain nano properly\n\n173\n00:09:17.220 --> 00:09:22.180\nby configuring it using DSC to make it\nthat secure platform that we want is what\n\n174\n00:09:22.180 --> 00:09:25.280\nwe need to be thinking about doing,\nall right, so, just wanna call that out.\n\n175\n00:09:25.280 --> 00:09:29.150\nTo implement security policies on Nano or\nthrough Nano with DSC,\n\n176\n00:09:29.150 --> 00:09:32.180\nwe obviously have to go\nthrough Add the Package.\n\n177\n00:09:32.180 --> 00:09:34.810\nBut that's not the one thing we gotta do.\n\n178\n00:09:34.810 --> 00:09:40.950\nWe have to, in addition, and give me just\na second to get to my Nano Server Here.\n\n179\n00:09:40.950 --> 00:09:43.370\nWell actually not my Nano server directly,\nbut indirectly.\n\n180\n00:09:43.370 --> 00:09:47.330\nI'm using PowerShell for my Domain\nController to remote into Nano Server.\n\n181\n00:09:47.330 --> 00:09:50.900\nSo and you've seen me do this\nin the last walk through, or\n\n182\n00:09:50.900 --> 00:09:54.485\nthe part of the last walkthrough\nduring episode two that we did.\n\n183\n00:09:54.485 --> 00:09:57.305\nYou can see here, I'm going to\nscroll up so you can see this.\n\n184\n00:09:57.305 --> 00:10:02.335\nI am on PLAB Nano server one now because I\njoined it to the domain at the end of our\n\n185\n00:10:02.335 --> 00:10:04.045\nlast episode if you remember.\n\n186\n00:10:04.045 --> 00:10:08.965\nSo I've just used a Enter-PSSession\nPowerShell remote capability.\n\n187\n00:10:08.965 --> 00:10:11.595\nI've now just provided my administrative\n\n188\n00:10:11.595 --> 00:10:15.045\ndomain credential instead of my\nlocal credential and I've logged in.\n\n189\n00:10:15.045 --> 00:10:18.320\nSo that's why that Prompt looks a little\nbit different, cuz last time we did this,\n\n190\n00:10:18.320 --> 00:10:21.380\nthe last episode,\nit had the IP address if you remember.\n\n191\n00:10:21.380 --> 00:10:22.000\n&gt;&gt; That's right.\n\n192\n00:10:22.000 --> 00:10:23.200\n&gt;&gt; We did the, was it 192.168.0.35.\n\n193\n00:10:23.200 --> 00:10:29.640\nWe used that as our IPv4 variable value\nbecause we were logging in locally.\n\n194\n00:10:29.640 --> 00:10:31.980\nBut once we did the domain\njoin we're not gonna,\n\n195\n00:10:31.980 --> 00:10:35.560\nwe could log in locally as administrator\nbut that's not gonna get us what we need.\n\n196\n00:10:35.560 --> 00:10:39.750\nSo we now have to log in as the domain\nadmin to configure so I've changed\n\n197\n00:10:39.750 --> 00:10:43.880\nthe script a little bit that I used\nwith powershell to connect, very simple.\n\n198\n00:10:43.880 --> 00:10:46.960\nGot rid of the IPV 4 variable, I could\nhave reprogrammed it but instead I just\n\n199\n00:10:46.960 --> 00:10:50.490\ngot rid of it and added in specifically\njust the computer name, right?\n\n200\n00:10:50.490 --> 00:10:53.510\nAnd then I just went ahead provided\nin different credential and\n\n201\n00:10:53.510 --> 00:10:54.680\nit works just fine.\n\n202\n00:10:54.680 --> 00:10:56.340\nSo I've just connected there.\n\n203\n00:10:56.340 --> 00:10:59.170\nBut what I did was I went ahead.\n\n204\n00:10:59.170 --> 00:11:01.610\nLet me just scroll up so\nyou could see this.\n\n205\n00:11:02.980 --> 00:11:05.980\nBeside from Get Help I was just using\nGet Help to show you something.\n\n206\n00:11:05.980 --> 00:11:11.230\nBut what I wanna show you up to the top,\nI believe, right here is the following.\n\n207\n00:11:11.230 --> 00:11:13.780\nSo I gave the Inter PS\nsession computer name.\n\n208\n00:11:13.780 --> 00:11:15.350\nI just did that instead of the IP address.\n\n209\n00:11:15.350 --> 00:11:18.220\nI could have done neither one, as I said,\nthe difference was the credential\n\n210\n00:11:18.220 --> 00:11:20.960\nparameter is now the domain\nbased administrator.\n\n211\n00:11:20.960 --> 00:11:23.370\nBut then what I did is,\nI imported a module.\n\n212\n00:11:23.370 --> 00:11:25.720\nUsed the import module\ncommand in PowerShell.\n\n213\n00:11:25.720 --> 00:11:27.950\nSecurity commandlets is what I imported.\n\n214\n00:11:27.950 --> 00:11:31.460\nThat is required to now access\nthe functionality with DSC.\n\n215\n00:11:31.460 --> 00:11:35.340\nSo, we want to start using DSC\nafter we install the package.\n\n216\n00:11:35.340 --> 00:11:39.400\nWe have to do an import module Security\ncmdlets against the Nano server.\n\n217\n00:11:39.400 --> 00:11:42.970\nWe do that remotely because remember\nwe don't have an interface to go in and\n\n218\n00:11:42.970 --> 00:11:44.452\ndo this directly on Nano, right.\n\n219\n00:11:44.452 --> 00:11:47.785\nWe have that recovery console, like Mike\nwas reminding us of in the last episode.\n\n220\n00:11:47.785 --> 00:11:51.515\nAnd you said something I love because\nit's the exact way to think about this.\n\n221\n00:11:51.515 --> 00:11:54.605\nYou said, hey remember the recovery\nconsole is really limited in\n\n222\n00:11:54.605 --> 00:11:55.395\nfunctionality right?\n\n223\n00:11:55.395 --> 00:11:59.947\nYou called out and said, hey we can really\nonly go in, and do that initial config.\n\n224\n00:11:59.947 --> 00:12:01.877\nThere's only four things in there, right?\n\n225\n00:12:01.877 --> 00:12:05.427\nWe have networking, inbound,\noutbound firewall rule capability, and\n\n226\n00:12:05.427 --> 00:12:07.307\nWinRM and that's all we can do.\n\n227\n00:12:07.307 --> 00:12:09.607\nAnd we went through three\nof the four things, right?\n\n228\n00:12:09.607 --> 00:12:13.057\nWe set up a reset WinRM, we did\nthe networking, took it off the XPR,\n\n229\n00:12:13.057 --> 00:12:13.947\ncoded the IP.\n\n230\n00:12:13.947 --> 00:12:18.847\nWent in enabled the file and\nprinter sharing IPV4 rule and\n\n231\n00:12:18.847 --> 00:12:20.127\nthen that was it, right?\n\n232\n00:12:20.127 --> 00:12:24.970\nAnd everything else was done remotely\nfrom outside in, either using PowerShell.\n\n233\n00:12:24.970 --> 00:12:28.740\nWe're about to start using Server Manager,\ncuz I've added the Nano instance into\n\n234\n00:12:28.740 --> 00:12:31.730\nServer Manager, on the Domain Controller,\nnow that it's joined to the domain.\n\n235\n00:12:31.730 --> 00:12:33.710\nSo we'll take a look at how to do that.\n\n236\n00:12:33.710 --> 00:12:38.840\nBut now, as I talked about in the last\nepisode, now we're gonna administer this\n\n237\n00:12:38.840 --> 00:12:43.340\nthing, but we're gonna do it from either a\nremote admin workstation or remote server.\n\n238\n00:12:43.340 --> 00:12:45.150\nBut we're not gonna be on Nano directly.\n\n239\n00:12:45.150 --> 00:12:48.750\nWe can go to hyper V, we could see\nthe console if we have to get in for\n\n240\n00:12:48.750 --> 00:12:52.830\nrecovery purposes to reset networking or\nperhaps disable the interface to cut it\n\n241\n00:12:52.830 --> 00:12:55.370\noff for\nsome period of time to do something.\n\n242\n00:12:55.370 --> 00:12:59.060\nBut other than that, all the admin that we\nneed to do the administrator overhead and\n\n243\n00:12:59.060 --> 00:13:01.230\nfunctions All done remotely, right?\n\n244\n00:13:01.230 --> 00:13:03.080\nPower shell is our friend as we say,\nright?\n\n245\n00:13:03.080 --> 00:13:06.480\nIf you're not using Power Shell and\nor we do have a GUI option.\n\n246\n00:13:06.480 --> 00:13:09.240\nWe will use a server manager to\ninstall the role and do that.\n\n247\n00:13:09.240 --> 00:13:12.920\nI could do it through Power Shell,\nadd windows feature, target the machine,\n\n248\n00:13:12.920 --> 00:13:16.320\nI could do it right from Power Shell,\nbut I'll do it through Server Manager so\n\n249\n00:13:16.320 --> 00:13:17.370\nyou could see it.\n\n250\n00:13:17.370 --> 00:13:21.850\nBut we have to know that in the case\nof DSC Import-Module Security cmdlets\n\n251\n00:13:21.850 --> 00:13:23.800\nbrings in the functionality.\n\n252\n00:13:23.800 --> 00:13:28.890\nNow once we've done that, I just issued\nGet-Help here just to show you that you\n\n253\n00:13:28.890 --> 00:13:32.640\ncan still use the Get-Help feature, even\nthough it's remote, against that machine.\n\n254\n00:13:32.640 --> 00:13:34.330\nPowerShell's PowerShell, right?\n\n255\n00:13:34.330 --> 00:13:36.980\nSo we have the help feature but\nI didn't really wanna show you that.\n\n256\n00:13:36.980 --> 00:13:39.000\nWhat I wanted to show\nyou was using Get-Help.\n\n257\n00:13:39.000 --> 00:13:42.130\nSo, we just scroll back down because\nI forgot to type in Get-Help\n\n258\n00:13:42.130 --> 00:13:43.990\nsecurity when I did it the first time.\n\n259\n00:13:43.990 --> 00:13:46.150\nSo, got all that which was just a waste.\n\n260\n00:13:46.150 --> 00:13:48.240\nBut now you can see Get-Help security.\n\n261\n00:13:48.240 --> 00:13:50.010\nThese are the cmdlets and\n\n262\n00:13:50.010 --> 00:13:54.140\nthe functions that we have available\nafter we import the security cmdlets.\n\n263\n00:13:54.140 --> 00:13:57.270\nWe have backup and secure security policy.\n\n264\n00:13:57.270 --> 00:14:00.610\nSetting that firewall security filter,\ngetting the firewall security filter,\n\n265\n00:14:00.610 --> 00:14:02.290\nwe can manipulate the firewall.\n\n266\n00:14:02.290 --> 00:14:04.350\nWe talked about the fact we can go in and\nwork with that.\n\n267\n00:14:04.350 --> 00:14:08.270\nFrom here, we can use netsh,\nas you saw me do with the adv firewall,\n\n268\n00:14:08.270 --> 00:14:11.130\nfirewall command let set to be\nable to work with that as well.\n\n269\n00:14:11.130 --> 00:14:13.360\nIt's all this stuff you can do.\n\n270\n00:14:13.360 --> 00:14:15.880\nI don't know what, literally, I have so\n\n271\n00:14:15.880 --> 00:14:18.790\nmuch of this stuff that I walk around with\nin my head, because I do it all the time.\n\n272\n00:14:18.790 --> 00:14:22.150\nIf I just got rid of all that stuff,\nimagine what I could put in there?\n\n273\n00:14:22.150 --> 00:14:23.370\n&gt;&gt; All this space you'd have available.\n\n274\n00:14:23.370 --> 00:14:28.350\n&gt;&gt; My god, I would actually, I'd be\nable to relearn all sorts of new stuff.\n\n275\n00:14:28.350 --> 00:14:30.750\nSo backup and restore security policy.\n\n276\n00:14:30.750 --> 00:14:33.470\nSo one of the functions we can\ndeal with with DSE is this idea of\n\n277\n00:14:33.470 --> 00:14:37.750\nrestore security policy or\nalso the audit functionalities.\n\n278\n00:14:37.750 --> 00:14:41.060\nWe can go in and\nuse both the security policy and\n\n279\n00:14:41.060 --> 00:14:43.070\nthe audit policy capability to apply.\n\n280\n00:14:43.070 --> 00:14:47.480\nNow, the thing that we have to\nthink about is, we have to go in,\n\n281\n00:14:47.480 --> 00:14:52.350\nand we have to actually bring in\nsecurity policies and or audit policies.\n\n282\n00:14:52.350 --> 00:14:54.940\nAnd so let me just go back to my notes,\ncuz this is a little too\n\n283\n00:14:54.940 --> 00:14:57.990\ninvolved to actually just talk through\nwithout pointing out some things and\n\n284\n00:14:57.990 --> 00:14:59.570\nsome pathways, and things you wanna know.\n\n285\n00:14:59.570 --> 00:15:01.900\nSo give me just a second just\nto bring my notes back up,\n\n286\n00:15:01.900 --> 00:15:03.800\ncuz there's some information I\nwanna share with you about this.\n\n287\n00:15:03.800 --> 00:15:06.310\nSo now that we've just\nthought through the logic of,\n\n288\n00:15:06.310 --> 00:15:08.860\nokay, got all this great functionality,\n\n289\n00:15:08.860 --> 00:15:12.220\nnow that we wanna implement security\npolicies on Nano, as I talked about.\n\n290\n00:15:12.220 --> 00:15:14.980\nCan we go full screen, cuz I'm covering\nsome of the path there, right?\n\n291\n00:15:14.980 --> 00:15:19.720\nSo implementing it we need both\n.INF files and .CSV files.\n\n292\n00:15:19.720 --> 00:15:22.680\nINF files are security policy templates,\n\n293\n00:15:22.680 --> 00:15:26.600\nCSV files are gonna have our advanced\naudit settings, as you can see there.\n\n294\n00:15:26.600 --> 00:15:28.950\nNow the way you Get these is important,\n\n295\n00:15:28.950 --> 00:15:31.320\nbecause we're going to have\nto generate these, and\n\n296\n00:15:31.320 --> 00:15:36.520\nget them from a separate system, and\nthen import them and path them into Nano.\n\n297\n00:15:36.520 --> 00:15:42.140\nIn other words, we don't do the bulk of\nthe background setup work to configure and\n\n298\n00:15:42.140 --> 00:15:43.590\nuse the SC on Nano.\n\n299\n00:15:43.590 --> 00:15:44.870\nWe do it on other machines, and\n\n300\n00:15:44.870 --> 00:15:47.102\nthen essentially just path\nall that stuff back over.\n\n301\n00:15:47.102 --> 00:15:50.855\nAnd so you see there, when we need\nthe INF files and the CSV files,\n\n302\n00:15:50.855 --> 00:15:55.359\nwe generate the INF files, either using\nthe sec edit tool On a server, meaning\n\n303\n00:15:55.359 --> 00:15:59.796\na server 16 instance that has a desktop\nexperience or server core install or\n\n304\n00:15:59.796 --> 00:16:04.532\nruns the backup security policy command\nletting PowerShell on another machine.\n\n305\n00:16:04.532 --> 00:16:07.826\nAnd grab that, and then we have to\ntake those files down below and\n\n306\n00:16:07.826 --> 00:16:10.877\nshow you how to work with them\nto create the two variables and\n\n307\n00:16:10.877 --> 00:16:14.115\npath statements that will then\nallow us to bring them in.\n\n308\n00:16:14.115 --> 00:16:16.175\nSame is with .CSV files, right?\n\n309\n00:16:16.175 --> 00:16:20.765\nWe generate those by running auditpaw.exc\non a server with desktop experience or\n\n310\n00:16:20.765 --> 00:16:23.905\nserver core or\nrun the backup on a policy commandment.\n\n311\n00:16:23.905 --> 00:16:27.035\nYou saw those commandments in the get\nhelp file that I just showed you, right?\n\n312\n00:16:28.080 --> 00:16:31.750\nSo we have to work with another\nsystem to get these files.\n\n313\n00:16:31.750 --> 00:16:33.780\nNow that we have those, right?\n\n314\n00:16:33.780 --> 00:16:37.040\nImport the security, import module\nsecurity command loads, and then\n\n315\n00:16:37.040 --> 00:16:41.400\nI note there, make sure, that should be,\nmake sure to adjust for the correct path,\n\n316\n00:16:41.400 --> 00:16:44.200\nI'll fix that on my notes, but I,\njust, I left out a word there.\n\n317\n00:16:44.200 --> 00:16:47.037\nBut essentially make sure,\nright, that you're adjusting for\n\n318\n00:16:47.037 --> 00:16:49.201\nthe correct path statement right here,\nright?\n\n319\n00:16:49.201 --> 00:16:52.760\nAnd so you'll se here SecInf and AuditCsv.\n\n320\n00:16:52.760 --> 00:16:57.065\nI've set a couple of variables, and\nset them equal to a path statement.\n\n321\n00:16:57.065 --> 00:16:59.023\nGPO\\Domainsysval\\GPM\\Machine, etc., right?\n\n322\n00:16:59.023 --> 00:17:02.387\nSo you want to make sure you have\nthe right template paths there,\n\n323\n00:17:02.387 --> 00:17:04.400\nwhatever they're gonna be, right?\n\n324\n00:17:04.400 --> 00:17:07.090\nAnd then, you're gonna use\nthe restore security policy, and\n\n325\n00:17:07.090 --> 00:17:11.420\nit will restore audit\npolicy path statements, and\n\n326\n00:17:11.420 --> 00:17:14.478\nthen obviously the variable path\nto be able to bring that in.\n\n327\n00:17:14.478 --> 00:17:18.050\nSo you gotta get this stuff from another\nmachine, set it up in a place where you\n\n328\n00:17:18.050 --> 00:17:20.590\ncan then make it available,\nand then apply it to nano.\n\n329\n00:17:20.590 --> 00:17:23.030\nSo, I just want to make sure\nthat you are aware of that,\n\n330\n00:17:23.030 --> 00:17:27.900\nbecause it does take a little\nbit of thought processes and\n\n331\n00:17:27.900 --> 00:17:30.820\na little bit of planning to\napply these changes, right?\n\n332\n00:17:30.820 --> 00:17:34.710\nAnd the other thing that we need to do,\nit's not just all this,\n\n333\n00:17:34.710 --> 00:17:36.500\nthere's one other thing\nwe've gotta do as well.\n\n334\n00:17:36.500 --> 00:17:39.960\nI forgot to put the URL up for this\nlet me just grab it out of my notes so\n\n335\n00:17:39.960 --> 00:17:40.720\nI could show it to you.\n\n336\n00:17:40.720 --> 00:17:42.500\nGive me just one second\nI just have to grab.\n\n337\n00:17:42.500 --> 00:17:45.450\nYou can leave the notes up I just have\nto grab the URL for it right here,\n\n338\n00:17:45.450 --> 00:17:49.250\nwhich is we have to go in, and\njust normally I already have this up and\n\n339\n00:17:49.250 --> 00:17:54.150\nrunning and loaded in IE,\nor in the Edge for you.\n\n340\n00:17:54.150 --> 00:17:58.170\nLet's just go ahead and\nlet's put that up there.\n\n341\n00:17:58.170 --> 00:18:00.338\nAnd we have to also use a MOF file, right?\n\n342\n00:18:00.338 --> 00:18:06.590\nMicrosoft has to an operations framework\nthat's been around for a long time.\n\n343\n00:18:06.590 --> 00:18:09.030\nThe MOF framework on\nMicrosoft Ops Framework.\n\n344\n00:18:09.030 --> 00:18:13.410\nAnd we have MOF files,\nwhich are actually named the same way but\n\n345\n00:18:13.410 --> 00:18:17.020\nactually are gonna be,\nessentially we have MOF and MIF files.\n\n346\n00:18:17.020 --> 00:18:21.170\nAnd so we use them for\nconfiguration purposes and\n\n347\n00:18:21.170 --> 00:18:25.720\nthe MOF file comes to us from SMS,\nwhich is the old name and\n\n348\n00:18:25.720 --> 00:18:29.690\nthe old reference for Systems Management\nServer, which has been re-branded.\n\n349\n00:18:29.690 --> 00:18:31.840\nIt's now System Center Config Manager.\n\n350\n00:18:31.840 --> 00:18:34.900\nBut old school references to some\nof these things still exist,\n\n351\n00:18:34.900 --> 00:18:36.310\nburied in the documentation.\n\n352\n00:18:36.310 --> 00:18:39.179\nWe actually still have\nthe SMS paths in even today.\n\n353\n00:18:39.179 --> 00:18:40.380\n&gt;&gt; [INAUDIBLE] folder\nstructure [INAUDIBLE]\n\n354\n00:18:40.380 --> 00:18:42.400\n&gt;&gt; All that folder structure, the inboxes,\n\n355\n00:18:42.400 --> 00:18:47.670\nall SMS underscore, def.mof for the config\nfile, all that stuff's still there, right?\n\n356\n00:18:47.670 --> 00:18:49.640\nSo we have to actually go in and\n\n357\n00:18:49.640 --> 00:18:53.800\nwe have to create a MOF file, which is\nessentially gonna act as our config file.\n\n358\n00:18:53.800 --> 00:18:56.790\nAnd that config file\ndetermines all the settings\n\n359\n00:18:56.790 --> 00:18:59.600\nthat we're gonna use to manage\nthe DSC on the nano server.\n\n360\n00:18:59.600 --> 00:19:02.080\nSo having a bit of knowledge\naround the MOF file and\n\n361\n00:19:02.080 --> 00:19:03.880\nhow to manipulate it is important.\n\n362\n00:19:03.880 --> 00:19:08.130\nSo using MOF files here just as as point\nof reference will help you get started.\n\n363\n00:19:08.130 --> 00:19:12.025\nThey have a little sample of what\nthe file traditionally looks like here.\n\n364\n00:19:12.025 --> 00:19:15.410\nAnd you can go in and you can then,\n\n365\n00:19:15.410 --> 00:19:19.420\nas a result modify,\nmanipulate the settings at in the, yeah,\n\n366\n00:19:19.420 --> 00:19:22.510\nspecific pathways for local variables\nyou'll need for your stuff.\n\n367\n00:19:22.510 --> 00:19:23.800\nYou create the MOF file.\n\n368\n00:19:23.800 --> 00:19:26.500\nTypically, you can either take\none like this and use it.\n\n369\n00:19:26.500 --> 00:19:28.230\nCreate one with a PowerShell script.\n\n370\n00:19:28.230 --> 00:19:29.490\nCould do it either way, it´s up to you.\n\n371\n00:19:29.490 --> 00:19:32.270\nAnd then we use the MOF file\nto configure the server.\n\n372\n00:19:32.270 --> 00:19:34.770\nAnd then that´s gonna give us the past\nstatements and all things we need, and\n\n373\n00:19:34.770 --> 00:19:36.150\ntell us where to find everything.\n\n374\n00:19:36.150 --> 00:19:39.880\nThere´s also really cool blog\nentry that had to do all this.\n\n375\n00:19:39.880 --> 00:19:41.900\nSo, I´ll throw that one up there for you.\n\n376\n00:19:41.900 --> 00:19:46.080\nI have it on the notes, I just didn´t\nput it up either but, I found this and\n\n377\n00:19:46.080 --> 00:19:49.440\nI though it was really helpful so,\nit'll be good for\n\n378\n00:19:49.440 --> 00:19:51.420\nyou to take a look at this one as well.\n\n379\n00:19:51.420 --> 00:19:55.170\nAnd again it's in the show notes, so\nobviously take a look and go out and\n\n380\n00:19:55.170 --> 00:19:57.570\njust read up on it as you're\nthinking about going through.\n\n381\n00:19:57.570 --> 00:20:01.200\nBut PowerShell desired state\nconfiguration, automating and\n\n382\n00:20:01.200 --> 00:20:05.480\nmonitoring that pull mode capability and\nhow you walk through this whole thing.\n\n383\n00:20:05.480 --> 00:20:09.020\nReason I like this particular\none is I'm on part four,\n\n384\n00:20:09.020 --> 00:20:11.410\nthe link I gave you this\ngoes to the last one.\n\n385\n00:20:11.410 --> 00:20:14.300\nBut it sets up and\nwalks through in four parts.\n\n386\n00:20:14.300 --> 00:20:16.480\nThe entire thought\nprocess start to finish.\n\n387\n00:20:16.480 --> 00:20:21.580\nI had to set up the solution, create all\nthe associated files, load everything up,\n\n388\n00:20:21.580 --> 00:20:23.300\nget everything set up and ready, and\n\n389\n00:20:23.300 --> 00:20:26.200\nthen automate, fully,\non the last step here with everything.\n\n390\n00:20:26.200 --> 00:20:28.020\nSo it's a real nice walk-through.\n\n391\n00:20:28.020 --> 00:20:32.820\nThe gentleman who put it together,\nNicolas Prigent, over there on the left.\n\n392\n00:20:32.820 --> 00:20:35.550\nYou can kind of see his\nsmiling picture out there.\n\n393\n00:20:35.550 --> 00:20:38.360\nHe did a really great job putting\nthis whole thing together.\n\n394\n00:20:38.360 --> 00:20:42.470\nAnd it is a great explanation of how\nto do everything start to finish.\n\n395\n00:20:42.470 --> 00:20:45.570\nSo I just wanted to make sure\nyou got a chance to see all that\n\n396\n00:20:45.570 --> 00:20:48.880\nbefore we go through and\nfinish up our discussion.\n\n397\n00:20:48.880 --> 00:20:52.580\nAround Nano by going in and configuring\nDNS through the Server Manager.\n\n398\n00:20:52.580 --> 00:20:56.720\nSo take a look at the DSC capabilities,\nit's important to have a sense of how to\n\n399\n00:20:56.720 --> 00:21:00.922\nuse them, it would be good for you to be\nable to walk through the extended logic of\n\n400\n00:21:00.922 --> 00:21:05.426\nImporting that package, importing the\nsecurity module, command lets as you see.\n\n401\n00:21:05.426 --> 00:21:09.128\nAnd then working with that automation\ncapability with the MOF file to actually\n\n402\n00:21:09.128 --> 00:21:12.886\ngo through and bring in those ODED and\nINF files, the CSV files, the INF files,\n\n403\n00:21:12.886 --> 00:21:16.587\nthe ODED and security policy capabilities,\nand then play with and tinker with\n\n404\n00:21:16.587 --> 00:21:20.405\napplying them, it's actually really\na great way to lock down the system.\n\n405\n00:21:20.405 --> 00:21:24.240\nAll right, so having said that,\nlet's do the following.\n\n406\n00:21:24.240 --> 00:21:27.340\nI am in Server Manager\non my Domain Controller.\n\n407\n00:21:27.340 --> 00:21:32.440\nAnd you could see here under all\nservers that I now have two servers and\n\n408\n00:21:32.440 --> 00:21:37.090\nthe second one that I'm highlighting\nright here, Plad, Nano Server, SRV or\n\n409\n00:21:37.090 --> 00:21:40.155\nPlad Nano SRV01 should hopefully\nlook familiar to you, right?\n\n410\n00:21:40.155 --> 00:21:44.005\nThis is our 192.168.0.35\nNano Server instance.\n\n411\n00:21:44.005 --> 00:21:44.905\nIt is online.\n\n412\n00:21:44.905 --> 00:21:48.915\nAnd what I did to add it in here, where\nwe often sometimes, we'll just take for\n\n413\n00:21:48.915 --> 00:21:51.885\ngranted, yeah we put a server in there,\nand everybody knows how to do that.\n\n414\n00:21:51.885 --> 00:21:55.401\nBut you may not know how to do that, it's\nnot the most obvious thing in the world,\n\n415\n00:21:55.401 --> 00:21:56.039\nby any means.\n\n416\n00:21:56.039 --> 00:21:59.648\nSo what I did to do that was just\nup here on dashboard, right?\n\n417\n00:21:59.648 --> 00:22:04.100\nAt the head if you will, or\nthe top of the server manager hierarchy,\n\n418\n00:22:04.100 --> 00:22:07.630\nI went to manage and\nall I do is add servers right here.\n\n419\n00:22:09.310 --> 00:22:10.960\nLittle interface.\n\n420\n00:22:10.960 --> 00:22:15.080\nI went ahead and just typed in the name\nof the server so in this case plab\n\n421\n00:22:16.450 --> 00:22:22.010\nNano S-R-V-0-1, or whatever server\ninstance you would want to look for.\n\n422\n00:22:22.010 --> 00:22:23.620\nYou find now.\n\n423\n00:22:23.620 --> 00:22:26.850\nFinds it as long as there is a DNS record,\na host record, and\n\n424\n00:22:26.850 --> 00:22:31.340\nan available account in active directory,\nor DNS, or whatever you choose here.\n\n425\n00:22:31.340 --> 00:22:34.970\nI'm doing AD, so it's doing a lookup\nin AD to find the computer account.\n\n426\n00:22:34.970 --> 00:22:36.220\nRemember, I added it to the domain.\n\n427\n00:22:36.220 --> 00:22:37.480\nThe computer account will be there.\n\n428\n00:22:37.480 --> 00:22:39.790\nBut I could do it through DNS,\nas long as I have a host record.\n\n429\n00:22:39.790 --> 00:22:41.430\nSo you can choose how you want to do that.\n\n430\n00:22:41.430 --> 00:22:43.220\nI can import it right here as well.\n\n431\n00:22:43.220 --> 00:22:44.560\nI have a couple different options.\n\n432\n00:22:44.560 --> 00:22:47.690\nBut I find it,\nthen I just have to highlight it, right?\n\n433\n00:22:47.690 --> 00:22:52.830\nAnd then just use my little item over here\nto bring it over, add it, then click okay.\n\n434\n00:22:52.830 --> 00:22:55.590\nAnd then once I do that, I'm not going\nto do it because I already did it, but\n\n435\n00:22:55.590 --> 00:22:59.530\nI once I do that it shows up here.\n\n436\n00:22:59.530 --> 00:23:02.530\nNow just so you're, familiar with this and\nit doesn't throw you for\n\n437\n00:23:02.530 --> 00:23:03.880\na loop if you go through and do this,\n\n438\n00:23:03.880 --> 00:23:06.280\nbecause I skipped over this step\nbecause it takes a few minutes.\n\n439\n00:23:06.280 --> 00:23:10.010\nJust had it already preloaded for\nus as we got into the demo.\n\n440\n00:23:10.010 --> 00:23:12.160\nIt takes three to five\nminutes to go out and\n\n441\n00:23:12.160 --> 00:23:14.640\nfind the server,\nkind of communicate with it.\n\n442\n00:23:14.640 --> 00:23:17.720\nTake a little less time, a little longer,\ndepending on your topology.\n\n443\n00:23:17.720 --> 00:23:19.400\nSo, it may take a couple of minutes.\n\n444\n00:23:19.400 --> 00:23:23.370\nIn between it says it's going on and\nkind of in process.\n\n445\n00:23:23.370 --> 00:23:24.780\nDon't worry about that.\n\n446\n00:23:24.780 --> 00:23:26.010\nDon't keep refreshing.\n\n447\n00:23:26.010 --> 00:23:27.011\nYou're just sitting there.\n\n448\n00:23:27.011 --> 00:23:28.617\n&gt;&gt; [LAUGH]\n&gt;&gt; My God, it's not gonna work.\n\n449\n00:23:28.617 --> 00:23:29.639\nRight?\nJust leave it alone.\n\n450\n00:23:29.639 --> 00:23:31.855\nCome back.\nBack in three or five minutes, and\n\n451\n00:23:31.855 --> 00:23:34.925\neventually it'll find it, assuming\nof course that the system is online,\n\n452\n00:23:34.925 --> 00:23:36.645\nthere's no issues, it'll find it.\n\n453\n00:23:36.645 --> 00:23:39.435\nAnd then eventually it'll change status,\nit'll say Online.\n\n454\n00:23:39.435 --> 00:23:41.405\nAnd then it's available,\nthen you can start managing it.\n\n455\n00:23:41.405 --> 00:23:44.002\nThat's what we're gonna do right now,\nyou could right-click on it,\n\n456\n00:23:44.002 --> 00:23:45.722\nas you could see right here.\n\n457\n00:23:45.722 --> 00:23:49.242\nAnd I have a constrained amount of\noptions, but I do have options.\n\n458\n00:23:49.242 --> 00:23:51.565\nAdd Rules and Features,\nrestart the server.\n\n459\n00:23:51.565 --> 00:23:53.175\nNotice I can launch PowerShell.\n\n460\n00:23:53.175 --> 00:23:56.071\nBut notice things like computer\nmanagement remote desktop and\n\n461\n00:23:56.071 --> 00:23:58.318\nconfigure nick teaming Are grayed out,\nright?\n\n462\n00:23:58.318 --> 00:23:59.067\nThey're not available, right?\n\n463\n00:23:59.067 --> 00:24:03.140\nSo, you have to just keep that in mind.\n\n464\n00:24:03.140 --> 00:24:08.023\nYou'll see when I right-click on the local\nand since I'm on that's a full server\n\n465\n00:24:08.023 --> 00:24:11.060\ninstalled with the full\nGUI rather the full LS.\n\n466\n00:24:11.060 --> 00:24:13.890\nNotice that Windows PowerShell\nis there but also computer\n\n467\n00:24:13.890 --> 00:24:17.874\nmanagement NIC Teaming were available,\nbut notice I could shut down the server,\n\n468\n00:24:17.874 --> 00:24:20.606\nnotice all the roles that\nare there that I can work with.\n\n469\n00:24:20.606 --> 00:24:24.016\nSo I get more options with\na fully formed server, right?\n\n470\n00:24:24.016 --> 00:24:28.592\nAll right, so with Nano, I'm gonna go\nahead, I'm gonna add roles and features.\n\n471\n00:24:28.592 --> 00:24:32.298\nYou were probably familiar with this\nwizard, you see it often enough, right?\n\n472\n00:24:32.298 --> 00:24:34.010\nSo it looks just like the normal one.\n\n473\n00:24:34.010 --> 00:24:35.502\nRemember, there's really\nno difference here.\n\n474\n00:24:35.502 --> 00:24:37.875\nThe only difference is I'm\ndoing this remotely, but\n\n475\n00:24:37.875 --> 00:24:41.576\nI'm still using the same interface I would\nuse with Server Manager on any machine.\n\n476\n00:24:41.576 --> 00:24:43.845\nSo, it's not gonna look\nany different expect for\n\n477\n00:24:43.845 --> 00:24:47.248\nthe fact that the amount of roles that\nI have access to will be significantly\n\n478\n00:24:47.248 --> 00:24:50.560\nreduced because I just don't have\nas many available on this server.\n\n479\n00:24:50.560 --> 00:24:52.018\nThat's just gonna be the only difference.\n\n480\n00:24:52.018 --> 00:24:52.893\nSo we'll see here,\n\n481\n00:24:52.893 --> 00:24:56.190\nI have to obviously choose the appropriate\nmachine that I want to work with,\n\n482\n00:24:56.190 --> 00:24:59.874\nnormally, in almost all of our demos, we\njust have that one machine there, right?\n\n483\n00:24:59.874 --> 00:25:02.476\nCuz we're doing it on the local machine,\nit's usually not even an issue.\n\n484\n00:25:02.476 --> 00:25:05.725\nAnd the machine I want to target,\nthe machine we started with,\n\n485\n00:25:05.725 --> 00:25:08.914\nright-clicked on and\nsaid run the Server Manager from here or\n\n486\n00:25:08.914 --> 00:25:12.990\nrather run the add/remove features and\nroles wizard from here has selected.\n\n487\n00:25:12.990 --> 00:25:14.609\nSo it is on the right machine.\n\n488\n00:25:14.609 --> 00:25:16.135\nBut you should always just double check,\nright?\n\n489\n00:25:16.135 --> 00:25:18.476\nCuz otherwise you'll end up doing\nsomething on another machine.\n\n490\n00:25:18.476 --> 00:25:20.952\nYou gotta back that out and\nit gets a little confusing.\n\n491\n00:25:20.952 --> 00:25:25.327\nAll right, so I am on the right machine so\nI'm going to go ahead and click Next.\n\n492\n00:25:25.327 --> 00:25:28.098\nAnd notice as I've said,\nI just don't have a lot of options here,\n\n493\n00:25:28.098 --> 00:25:29.670\nvery, very small number.\n\n494\n00:25:29.670 --> 00:25:34.531\nI have the DNS server, I have file storage\nservices, you can see if I open that up.\n\n495\n00:25:34.531 --> 00:25:35.840\nI have stored services.\n\n496\n00:25:35.840 --> 00:25:40.518\nRemember, I used a storage parameters\npart my installation script, so\n\n497\n00:25:40.518 --> 00:25:45.594\nI did have storage available, but\nthat's it, just storage service and DNS.\n\n498\n00:25:45.594 --> 00:25:48.412\nI'm gonna highlight DNS.\n\n499\n00:25:48.412 --> 00:25:49.240\nChecked that off.\n\n500\n00:25:49.240 --> 00:25:51.203\nIt does add a couple of things down below.\n\n501\n00:25:51.203 --> 00:25:52.160\nGreat.\n\n502\n00:25:52.160 --> 00:25:53.210\nLet's click Next.\n\n503\n00:25:53.210 --> 00:25:56.102\nI do have to choose what\nI'm going to install or\n\n504\n00:25:56.102 --> 00:25:59.325\nrather what I'm going to configure here,\nright?\n\n505\n00:25:59.325 --> 00:26:03.416\nMult-path I/O, Storage Replica,\nWindows Storage Base.\n\n506\n00:26:03.416 --> 00:26:04.153\nHello, how are you?\n\n507\n00:26:04.153 --> 00:26:04.958\n&gt;&gt; Great, how are you?\n&gt;&gt; Nice to see you.\n\n508\n00:26:04.958 --> 00:26:06.296\n&gt;&gt; [LAUGH]\n&gt;&gt; Good, awesome.\n\n509\n00:26:06.296 --> 00:26:07.292\nWas that five?\n\n510\n00:26:07.292 --> 00:26:08.284\nWas that what that was?\n&gt;&gt; It was a high five,\n\n511\n00:26:08.284 --> 00:26:09.017\nyou left me hanging.\n\n512\n00:26:09.017 --> 00:26:09.661\n&gt;&gt; Okay.\n\n513\n00:26:09.661 --> 00:26:10.216\n&gt;&gt; There we go.\n\n514\n00:26:10.216 --> 00:26:10.978\n&gt;&gt; All right, cool.\n\n515\n00:26:10.978 --> 00:26:13.499\nOne more and we're down to three,\nit's gonna be a high three or\n\n516\n00:26:13.499 --> 00:26:14.558\nit's gonna be like this.\n\n517\n00:26:14.558 --> 00:26:15.530\nOr we can do like this, right?\n\n518\n00:26:15.530 --> 00:26:16.357\n&gt;&gt; Yeah, so Nano Nano.\n\n519\n00:26:16.357 --> 00:26:16.974\n&gt;&gt; Yeah, like that.\n&gt;&gt; There we go.\n\n520\n00:26:16.974 --> 00:26:17.949\n&gt;&gt; There you go, exactly.\n\n521\n00:26:17.949 --> 00:26:21.699\nAll right, so, we're gonna go ahead and\nwe're gonna skip over the features cuz\n\n522\n00:26:21.699 --> 00:26:23.810\nthose are specific to\nstorage as you can see.\n\n523\n00:26:23.810 --> 00:26:27.088\nWe're not really here to configure\nthose but they are available for us.\n\n524\n00:26:27.088 --> 00:26:29.210\nWe're gonna go ahead and\njump right to DNS, right?\n\n525\n00:26:29.210 --> 00:26:33.167\nSo standard little, hey, this is DNS and\nthis is what we're doing, great.\n\n526\n00:26:33.167 --> 00:26:35.989\nWe're gonna go ahead and\nwe're gonna click Install.\n\n527\n00:26:37.090 --> 00:26:37.925\nNot a lot of mystery there.\n\n528\n00:26:37.925 --> 00:26:38.936\nIt doesn't take very long.\n\n529\n00:26:38.936 --> 00:26:40.980\nSo let that run for just a minute.\n\n530\n00:26:40.980 --> 00:26:44.298\nOnce that's done, we'll actually\nthen be able to open the console and\n\n531\n00:26:44.298 --> 00:26:46.918\nremotely manage that DNS\nserver instance if we want to.\n\n532\n00:26:46.918 --> 00:26:48.610\nSo let's just wait for that to finish up.\n\n533\n00:26:48.610 --> 00:26:51.889\nWe'll take a look at that once we get\nour confirmation that we're installed.\n\n534\n00:26:51.889 --> 00:26:54.596\nAnd then we'll go ahead and\nwe'll configure the Nano Server or\n\n535\n00:26:54.596 --> 00:26:57.000\nat least configure DNS on\nNano just real quickly.\n\n536\n00:26:57.000 --> 00:26:58.898\nWe'll open our DNS console.\n\n537\n00:26:58.898 --> 00:27:00.040\nWe'll add the Nano Server.\n\n538\n00:27:00.040 --> 00:27:01.725\nWe'll be able to manage\nthat instance as well.\n\n539\n00:27:01.725 --> 00:27:03.010\nAll right, so that's done.\n\n540\n00:27:03.010 --> 00:27:04.885\nSo let's go in.\n\n541\n00:27:04.885 --> 00:27:06.750\nLet's do the following,\nlet me go over here.\n\n542\n00:27:06.750 --> 00:27:10.953\nWe'll go to Tools, whoops,\ngo to DNS on our Server Manager.\n\n543\n00:27:10.953 --> 00:27:14.970\nAgain, we are focused on the local\nmachine, so let me just do this.\n\n544\n00:27:14.970 --> 00:27:18.997\nSo let's come up here to DNS,\nlet's connect to DNS server, right?\n\n545\n00:27:18.997 --> 00:27:20.715\nLet's do the following computer.\n\n546\n00:27:20.715 --> 00:27:26.937\nLet's do plabnanosrv01.\n\n547\n00:27:29.562 --> 00:27:31.542\nYou see we added that in right there.\n\n548\n00:27:31.542 --> 00:27:32.888\n&gt;&gt; Mm-hm.\n\n549\n00:27:32.888 --> 00:27:37.112\n&gt;&gt; Just click on that, and\nyou could see that, let's move this over.\n\n550\n00:27:38.782 --> 00:27:41.888\nSee we don't have any zones yet, but\nnow it's just a matter of literally,\n\n551\n00:27:41.888 --> 00:27:45.090\njust going through configuring and\nmanaging DNS the way we would normally.\n\n552\n00:27:45.090 --> 00:27:47.013\n&gt;&gt; If you wanna create a zone,\nlet's create a zone.\n\n553\n00:27:47.013 --> 00:27:48.277\nWhat?\n&gt;&gt; No different now than-\n\n554\n00:27:48.277 --> 00:27:48.931\n&gt;&gt; No, no, no,\n\n555\n00:27:48.931 --> 00:27:51.061\nno, it's just another DNS server instance.\n\n556\n00:27:51.061 --> 00:27:51.670\n&gt;&gt; Yeah.\n\n557\n00:27:51.670 --> 00:27:53.568\n&gt;&gt; The only difference is\nit's running on Nano and\n\n558\n00:27:53.568 --> 00:27:55.950\nwe're just simply managing it\nremotely from the console.\n\n559\n00:27:55.950 --> 00:27:58.950\nBut I can go in once I connect,\nI could create a zone.\n\n560\n00:27:58.950 --> 00:28:01.070\nI could do anything I wanna do.\n\n561\n00:28:01.070 --> 00:28:02.032\nNo difference.\nRemember,\n\n562\n00:28:02.032 --> 00:28:05.120\nwe had our whole discussion about\nDNSSEC in some other episodes.\n\n563\n00:28:05.120 --> 00:28:06.653\nOur trust point folder is there.\n\n564\n00:28:06.653 --> 00:28:11.087\nWe could bring in our trust anchors if we\nhad DNSSEC running as we have had in our\n\n565\n00:28:11.087 --> 00:28:12.463\ndemonstration there.\n\n566\n00:28:12.463 --> 00:28:14.140\nCould setup conditional forwarding.\n\n567\n00:28:14.140 --> 00:28:18.302\nAll the bells and whistles, features and\ncapabilities of Nano or rather, of DNS,\n\n568\n00:28:18.302 --> 00:28:21.809\nare available to us running on Nano for\nrole support in other words, or\n\n569\n00:28:21.809 --> 00:28:24.738\nthrough the package installation,\nwe support the role.\n\n570\n00:28:24.738 --> 00:28:26.850\nThe role is the role, DNS is DNS.\n\n571\n00:28:26.850 --> 00:28:29.201\nWe're not constraining DNS\nby running it on Nano.\n\n572\n00:28:29.201 --> 00:28:32.385\nWe're simply constraining our ability\nto manage it locally because now we're\n\n573\n00:28:32.385 --> 00:28:34.810\nforcing ourselves to manage\nremotely through our console or\n\n574\n00:28:34.810 --> 00:28:37.250\nthrough PowerShell cuz we could\ndo that either way, right?\n\n575\n00:28:37.250 --> 00:28:43.335\nWe could use DNS command, we could use as\nwe saw nslookup, PowerShell to manage it.\n\n576\n00:28:43.335 --> 00:28:46.300\nWe would just have to path it\nappropriately, target it appropriately.\n\n577\n00:28:46.300 --> 00:28:49.633\nBut any of the management capabilities\nthat we would think of and can use,\n\n578\n00:28:49.633 --> 00:28:52.345\nit's also we can connect to\nover the network to the server.\n\n579\n00:28:52.345 --> 00:28:53.740\nThey remain the same, right?\n\n580\n00:28:53.740 --> 00:28:56.608\nSo I'm not gonna bother to go through and\nactually add a zone.\n\n581\n00:28:56.608 --> 00:29:00.700\nYou've seen us do that in other episodes\nfor other reasons, it's no different here.\n\n582\n00:29:00.700 --> 00:29:05.020\nBut what we wanted to show you is really\nbringing that complete circle, right,\n\n583\n00:29:05.020 --> 00:29:06.056\nto fruition here.\n\n584\n00:29:06.056 --> 00:29:07.780\nReally start to finish.\n\n585\n00:29:07.780 --> 00:29:12.183\nThinking about how we plan for,\nimplement, build, setup, configure, and\n\n586\n00:29:12.183 --> 00:29:15.066\nthen remotely administer and\nmanage Nano Server.\n\n587\n00:29:15.066 --> 00:29:18.793\nAnd I hope, in our three episode\ndiscussion, along with a little foray into\n\n588\n00:29:18.793 --> 00:29:22.580\nDSC and our discussion about how to\napply some security capabilities there,\n\n589\n00:29:22.580 --> 00:29:25.376\nthat we've really kind of\nhopefully done justice to it,\n\n590\n00:29:25.376 --> 00:29:28.370\nlocked it down, really talked\nabout what we could do there.\n\n591\n00:29:29.700 --> 00:29:31.820\nIt does add a lot of capabilities and\nvalue, but\n\n592\n00:29:31.820 --> 00:29:35.265\nit is something you have to, as you see,\nreally spend some time on plan for and\n\n593\n00:29:35.265 --> 00:29:37.809\nthink about the logic of how\nyou're gonna implement it.\n\n594\n00:29:37.809 --> 00:29:40.624\nIt's not just one of those things\nyou click a few buttons, right, and\n\n595\n00:29:40.624 --> 00:29:41.510\nit's all there.\n\n596\n00:29:41.510 --> 00:29:44.438\nThere's a lot of work that you gotta\ngo through to really stand Nano up and\n\n597\n00:29:44.438 --> 00:29:45.261\ndo it the right way.\n\n598\n00:29:45.261 --> 00:29:47.160\nIt's definitely worth the time and effort.\n\n599\n00:29:47.160 --> 00:29:49.938\nIt's not so\nhard that it's not realistic to do, but\n\n600\n00:29:49.938 --> 00:29:53.033\nit is hard enough that you have\nto actually stop and plan and\n\n601\n00:29:53.033 --> 00:29:57.224\ntest a few things and really make sure\nyou have all your ducks lined up, right?\n\n602\n00:29:57.224 --> 00:29:59.957\nOr all your Nanos in a row.\n\n603\n00:29:59.957 --> 00:30:00.956\nHowever you wanna frame that, I suppose.\n\n604\n00:30:00.956 --> 00:30:01.756\n&gt;&gt; That's right.\n\n605\n00:30:01.756 --> 00:30:03.505\n[LAUGH]\n&gt;&gt; All right, so we have all that done.\n\n606\n00:30:03.505 --> 00:30:06.040\nWe do have a couple of other things we're\ngonna come back and take a look at.\n\n607\n00:30:06.040 --> 00:30:09.425\nWe haven't done that container portion\nof our little third, bottom third,\n\n608\n00:30:09.425 --> 00:30:10.320\nlower third there.\n\n609\n00:30:10.320 --> 00:30:11.610\nDone all the Nano pieces.\n\n610\n00:30:11.610 --> 00:30:15.165\nSo in our next episode we're gonna spend\na few minutes, just give you a highlight\n\n611\n00:30:15.165 --> 00:30:18.005\nas to what containers were all about,\nreally cool technology.\n\n612\n00:30:18.005 --> 00:30:21.352\nWe'll take a look at the container\nsupport, the Windows container support,\n\n613\n00:30:21.352 --> 00:30:24.514\nthe role that you would install, or\nfeature you would install to do that.\n\n614\n00:30:24.514 --> 00:30:27.936\nAnd we'll just talk at a high level\nabout both Windows containers and\n\n615\n00:30:27.936 --> 00:30:29.116\nHyper-V containers,\n\n616\n00:30:29.116 --> 00:30:33.074\nthe two container-based support solutions\nwe currently have in Server 16.\n\n617\n00:30:33.074 --> 00:30:36.786\nAnd as I think I mentioned in one of the\nprior episodes, we also support Docker and\n\n618\n00:30:36.786 --> 00:30:37.669\nthe use of Docker.\n\n619\n00:30:37.669 --> 00:30:38.941\nYou can actually install and\n\n620\n00:30:38.941 --> 00:30:41.433\nconfigure Docker on a server\ninstance if you choose to.\n\n621\n00:30:41.433 --> 00:30:44.181\nSo just a lot of cool things\nthat we'll at least hint at and\n\n622\n00:30:44.181 --> 00:30:47.232\ntake a look at a little bit before\nwe wrap up this conversation.\n\n623\n00:30:47.232 --> 00:30:50.333\nAnd, well whoever, wherever,\nwhatever we're doing next,\n\n624\n00:30:50.333 --> 00:30:54.323\nwhatever our future topics are, you'll\njoin us for those as well, hopefully.\n\n625\n00:30:54.323 --> 00:30:55.036\n&gt;&gt; All right, Adam.\n\n626\n00:30:55.036 --> 00:30:58.924\nThank you for that great look there\nat Nano Server from beginning to end,\n\n627\n00:30:58.924 --> 00:31:02.830\nreally getting it installed,\nconfigured, and then able to manage it.\n\n628\n00:31:02.830 --> 00:31:06.958\nAnd hopefully as you watch these episodes\nand you watch Adam go through this,\n\n629\n00:31:06.958 --> 00:31:09.433\nI know a lot people with Nano,\nthey're like,\n\n630\n00:31:09.433 --> 00:31:13.009\nI don't wanna mess with that because\nI've got to do command line.\n\n631\n00:31:13.009 --> 00:31:16.090\nI've got to know all these\ncommands to really work with it.\n\n632\n00:31:16.090 --> 00:31:17.185\nHow do I administer it?\n\n633\n00:31:17.185 --> 00:31:21.073\nAnd as you see, once it's configured, you\nreally administer like you would any other\n\n634\n00:31:21.073 --> 00:31:24.020\nserver, remotely, and\nyou can do it from Windows 10, right?\n\n635\n00:31:24.020 --> 00:31:27.507\nI could install RSAT on my\nWindows 10 admin box and\n\n636\n00:31:27.507 --> 00:31:29.826\nrun manager remotely that way.\n\n637\n00:31:29.826 --> 00:31:31.252\n&gt;&gt; Yeah.\nYeah, absolutely.\n\n638\n00:31:31.252 --> 00:31:33.289\n&gt;&gt; And then Desired State Configuration.\n\n639\n00:31:33.289 --> 00:31:34.470\nAnother great look at that.\n\n640\n00:31:34.470 --> 00:31:35.900\nAnd looking forward at the container.\n\n641\n00:31:35.900 --> 00:31:39.737\nSo hopefully everybody out there is as\nwell, but for now, for this episode,\n\n642\n00:31:39.737 --> 00:31:40.690\nwe are out of time.\n\n643\n00:31:40.690 --> 00:31:43.785\nSo signing off for ITProTV,\nI've been your host, Mike Rodrick.\n\n644\n00:31:43.785 --> 00:31:44.557\n&gt;&gt; I'm Adam Gordon.\n\n645\n00:31:44.557 --> 00:31:45.551\n&gt;&gt; And we'll see you next time.\n\n646\n00:31:47.459 --> 00:31:53.208\n[MUSIC]\n\n647\n00:31:53.208 --> 00:31:57.201\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "237106024"
        },
        {
          "description": "",
          "length": "1804",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-4-nano_server_and_containers_pt4-100517-PGM.00_29_48_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-4-nano_server_and_containers_pt4-100517-PGM.00_29_48_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-11-1-4-nano_server_and_containers_pt4-100517-PGM.00_29_48_12.Still001-sm.jpg",
          "title": "Nano Servers and Containers Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.134 --> 00:00:01.154\nWelcome to ITProTV.\n\n2\n00:00:01.154 --> 00:00:02.875\nI'm your host Don Pezet.\n\n3\n00:00:02.875 --> 00:00:06.435\n[CROSSTALK]\n\n4\n00:00:06.435 --> 00:00:08.320\n[MUSIC]\n\n5\n00:00:08.320 --> 00:00:12.387\nYou're watching ITProTV.\n\n6\n00:00:12.387 --> 00:00:15.599\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n7\n00:00:15.599 --> 00:00:16.753\nI'm your host Mike Rodrick.\n\n8\n00:00:16.753 --> 00:00:20.377\nAnd today we're doing our\nWindows Server 2016 or\n\n9\n00:00:20.377 --> 00:00:25.302\nSecuring Server 2016,\ngetting ready for that 70-744 Exam.\n\n10\n00:00:25.302 --> 00:00:28.510\nAnd in this episode, it's actually a part\nfour, so if you missed part one, two or\n\n11\n00:00:28.510 --> 00:00:30.480\nthree, make sure you go back and\ncheck those out.\n\n12\n00:00:30.480 --> 00:00:32.920\nWe've been covering Nano Server and\n\n13\n00:00:32.920 --> 00:00:36.260\nnow we're getting ready to dive\ninto the world of containers.\n\n14\n00:00:36.260 --> 00:00:39.510\nHere to help us with that, make sure\nwe don't drown, is Mr. Adam Gordon.\n\n15\n00:00:39.510 --> 00:00:40.028\nWelcome, Adam.\n\n16\n00:00:40.028 --> 00:00:41.351\n&gt;&gt; You won't drown\nbecause containers float.\n\n17\n00:00:41.351 --> 00:00:43.550\nThey're full of air, so you'll float.\n\n18\n00:00:43.550 --> 00:00:48.016\nYou just have to have your, [COUGH] life\nsaving container and you'll be fine.\n\n19\n00:00:48.016 --> 00:00:49.205\n&gt;&gt; You've saved us already.\n\n20\n00:00:49.205 --> 00:00:51.500\n&gt;&gt; There you go, so\nwe're gonna talk about containers.\n\n21\n00:00:51.500 --> 00:00:56.480\nWe've been saying for the first three\nepisodes it's nano server and containers.\n\n22\n00:00:56.480 --> 00:00:57.753\nWell, now we're doing the?\n\n23\n00:00:57.753 --> 00:00:58.546\n&gt;&gt; Containers.\n\n24\n00:00:58.546 --> 00:01:00.123\n&gt;&gt; And-\n&gt;&gt; And containers.\n\n25\n00:01:00.123 --> 00:01:02.099\n&gt;&gt; And containers, there we go.\n\n26\n00:01:02.099 --> 00:01:04.658\nGotta put a smile on Todd's face,\nand containers.\n\n27\n00:01:04.658 --> 00:01:07.991\nAll right, so we're gonna talk about the\ncontainer portion which actually really\n\n28\n00:01:07.991 --> 00:01:08.700\nkind of cool.\n\n29\n00:01:08.700 --> 00:01:11.310\nKind of cool for a lot of reasons,\nnot the least of which is\n\n30\n00:01:11.310 --> 00:01:15.060\ncontainers are one of those technologies\nthat we've heard about for a long time.\n\n31\n00:01:15.060 --> 00:01:16.590\nHopefully, you have heard about them.\n\n32\n00:01:16.590 --> 00:01:19.320\nYou may not know a lot about them and\nwe're gonna just talk about\n\n33\n00:01:19.320 --> 00:01:22.080\nthe high level, get you familiar\nwith vocabulary here in the minute.\n\n34\n00:01:22.080 --> 00:01:25.430\nShow you cool little picture that\nwill hopefully help you to figure out\n\n35\n00:01:25.430 --> 00:01:28.770\nthe differences between the two\ntypes of containers that we support.\n\n36\n00:01:28.770 --> 00:01:32.140\nYou may or may not realize we actually\nsupport two types of containers\n\n37\n00:01:32.140 --> 00:01:33.150\nin Server 2016.\n\n38\n00:01:33.150 --> 00:01:37.450\nWe support what are called Windows\ncontainers, or Windows Server containers,\n\n39\n00:01:37.450 --> 00:01:38.358\nspecifically.\n\n40\n00:01:38.358 --> 00:01:40.050\nAnd then Hyper-V containers, so\n\n41\n00:01:40.050 --> 00:01:42.630\nyou actually have two\nthought processes going on.\n\n42\n00:01:42.630 --> 00:01:46.451\nTo work with containers,\nwe have to install a feature called,\n\n43\n00:01:46.451 --> 00:01:48.770\nsurprisingly enough, containers.\n\n44\n00:01:48.770 --> 00:01:50.900\n&gt;&gt; Hey, [LAUGH]\n&gt;&gt; There's no mystery there.\n\n45\n00:01:50.900 --> 00:01:55.062\nSo we install the container feature on the\nserver or servers, if there's more than\n\n46\n00:01:55.062 --> 00:01:59.250\none that we're gonna use to support it,\nthat we wanna be able to work with.\n\n47\n00:01:59.250 --> 00:02:01.374\nAnd then that requires a restart,\nby the way,\n\n48\n00:02:01.374 --> 00:02:04.926\none of the few things that does actually\nrequire a restart when we configure.\n\n49\n00:02:04.926 --> 00:02:07.797\nSo we install that, and\nthen a whole lot of nothing happens.\n\n50\n00:02:07.797 --> 00:02:09.699\n&gt;&gt; [LAUGH]\n&gt;&gt; Because you see nothing,\n\n51\n00:02:09.699 --> 00:02:12.202\nthere is no interface,\nyou have nothing there.\n\n52\n00:02:12.202 --> 00:02:15.470\nBecause containers by themselves\nonly have the storage.\n\n53\n00:02:15.470 --> 00:02:20.585\nSo we install the container role, but\nwe need to then have Docker, in this case\n\n54\n00:02:20.585 --> 00:02:26.648\nDocker EE, Docker Enterprise Edition for\nServer 2016 also installed and configured.\n\n55\n00:02:26.648 --> 00:02:30.722\nWhich brings in the module support for\nDocker, the Docker Engine service,\n\n56\n00:02:30.722 --> 00:02:33.979\nwhich is what we call,\nthe Docker Service or Docker Engine.\n\n57\n00:02:33.979 --> 00:02:36.090\nIt's what we call\nthe Docker Service in Windows.\n\n58\n00:02:36.090 --> 00:02:40.050\nThat's got to be configured and\nset up, so we got all that going on.\n\n59\n00:02:40.050 --> 00:02:44.926\nAnd then, we're able to start working with\ncontainers, building them, and using them.\n\n60\n00:02:44.926 --> 00:02:49.014\nAnd we can use them either on\nthe Windows Server as we said, and or\n\n61\n00:02:49.014 --> 00:02:53.182\nin Hyper-V to run, essentially\nan isolated VM that provides for\n\n62\n00:02:53.182 --> 00:02:58.641\nadditional isolation and security as well\nas its own operating system environment,\n\n63\n00:02:58.641 --> 00:03:03.544\na memory bubble, right, that run in,\nwe call it a sandbox traditionally.\n\n64\n00:03:03.544 --> 00:03:08.035\nAnd the sandbox is gonna have that\nability to isolate in Hyper-V,\n\n65\n00:03:08.035 --> 00:03:13.022\nrunning as its own virtual machine,\nan instance that we then configure.\n\n66\n00:03:13.022 --> 00:03:16.532\nIt's got its own OS, we install an app or\nwhatever we wanna do in there.\n\n67\n00:03:16.532 --> 00:03:21.061\nAnd as a result of that we expand on,\nor I was gonna say expound on, but\n\n68\n00:03:21.061 --> 00:03:25.767\nwe expand on the idea of the isolation\nprovided by Windows containers.\n\n69\n00:03:25.767 --> 00:03:32.210\nAnd run an additional isolated environment\nthrough this Hyper-V solution.\n\n70\n00:03:32.210 --> 00:03:38.040\nWe highly optimize it, running in a VM,\nso it's kind of cool in that respect.\n\n71\n00:03:38.040 --> 00:03:42.411\nThe containers host OS kernel does\nnot share any information with\n\n72\n00:03:42.411 --> 00:03:44.169\nthe Hyper-V container.\n\n73\n00:03:44.169 --> 00:03:48.349\nSo it is literally running as its own\nisolated instance just using the Hyper-V\n\n74\n00:03:48.349 --> 00:03:50.450\nplatform essentially to lay on top of.\n\n75\n00:03:50.450 --> 00:03:53.481\nAnd so, I've got a little diagram in maybe\njust a second and I'll bring this up.\n\n76\n00:03:53.481 --> 00:03:55.865\nThen I wanna share some\nvocabulary terms with you,\n\n77\n00:03:55.865 --> 00:03:57.369\nkind of give you a sense of this.\n\n78\n00:03:57.369 --> 00:03:59.344\nWe'll go into my notes and\ntake a look at some,\n\n79\n00:03:59.344 --> 00:04:02.295\nactually give me half a second cuz\nI just clicked on the wrong button.\n\n80\n00:04:02.295 --> 00:04:03.179\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n81\n00:04:03.179 --> 00:04:06.465\nas a result I just brought up the wrong\nimage, so give me just one second and\n\n82\n00:04:06.465 --> 00:04:09.690\nI'll bring the diagram back up,\nand then we'll be ready to go.\n\n83\n00:04:09.690 --> 00:04:12.391\nAll right there-\n&gt;&gt; In Windows, we were feeling left out\n\n84\n00:04:12.391 --> 00:04:15.094\nfor a long time, because Dockers or\ncontainers lets just say,\n\n85\n00:04:15.094 --> 00:04:17.860\nhas been around for a little while,\nrelatively new to Windows.\n\n86\n00:04:17.860 --> 00:04:21.720\nNot new to 2016, but\na relatively new ability in Windows.\n\n87\n00:04:21.720 --> 00:04:25.180\n&gt;&gt; New, yeah, it gives us this idea of\nthis control that essentially portable\n\n88\n00:04:25.180 --> 00:04:27.300\nspace for one or\nmore applications to work with.\n\n89\n00:04:27.300 --> 00:04:30.830\nThat we could control and\nkind of isolate and set up on our own.\n\n90\n00:04:30.830 --> 00:04:33.150\nIf you wanna take a look here,\nwe'll just take a look quickly.\n\n91\n00:04:33.150 --> 00:04:34.576\nCan we go full screen?\n\n92\n00:04:34.576 --> 00:04:36.725\nI've got this nice little,\n[COUGH] diagram here.\n\n93\n00:04:36.725 --> 00:04:37.748\nYou'll see on the left,\n\n94\n00:04:37.748 --> 00:04:40.538\nwe have the Windows container\nthought process running in the host.\n\n95\n00:04:40.538 --> 00:04:44.536\nSo let's pretend that host\nis the Server 2016 server.\n\n96\n00:04:44.536 --> 00:04:47.930\nWe have Windows containers running,\nthere's the Host OS.\n\n97\n00:04:47.930 --> 00:04:51.100\nAnd we have the containers right here,\njust little blue orbs.\n\n98\n00:04:51.100 --> 00:04:54.740\nTwo different containers I just threw\non there, so we could see them.\n\n99\n00:04:54.740 --> 00:05:00.030\nAnd then on the Hyper-V side,\nwe have Hyper-V VMs running on the host.\n\n100\n00:05:00.030 --> 00:05:02.130\nAnd those VMs contain the container, or\n\n101\n00:05:02.130 --> 00:05:05.260\nhave the containerized\nsolution running in them.\n\n102\n00:05:05.260 --> 00:05:08.120\nAnd so, in Hyper-V containers\nwe leverage Hyper-V, but\n\n103\n00:05:08.120 --> 00:05:12.540\nwe're creating this super secret,\nspecial, secure, additional,\n\n104\n00:05:12.540 --> 00:05:17.390\nisolated VM that runs as it's\non instance within Hyper-V.\n\n105\n00:05:17.390 --> 00:05:22.260\nAnd then is being leveraged to\nrun typically an app workload, or\n\n106\n00:05:22.260 --> 00:05:23.120\nsomething like that.\n\n107\n00:05:23.120 --> 00:05:27.510\nSo with Windows containers, we simply run\nusing the container support directly in\n\n108\n00:05:27.510 --> 00:05:33.120\nthe OS with Hyper-V containers we\nbuild on top of the Hyper-V platform.\n\n109\n00:05:33.120 --> 00:05:35.316\nIt keeps jumping back up\nto the top of my notes, so\n\n110\n00:05:35.316 --> 00:05:38.973\nI'm gonna bring back up the vocabulary I\nwanted to run through with you quickly.\n\n111\n00:05:38.973 --> 00:05:42.923\nSo just some terms that are probably\nhelpful for you to define.\n\n112\n00:05:42.923 --> 00:05:46.117\nYou'll see we've got total of five\nitems there of vocabulary terms,\n\n113\n00:05:46.117 --> 00:05:47.262\neach one bulleted item.\n\n114\n00:05:47.262 --> 00:05:51.608\nThe host itself, the image, the OS image,\nseparate from the container image.\n\n115\n00:05:51.608 --> 00:05:53.584\nThe sandbox concept I mentioned to you,\nand\n\n116\n00:05:53.584 --> 00:05:55.570\nwhat's called the container repository.\n\n117\n00:05:55.570 --> 00:05:58.280\nThese are the working vocabulary items, or\n\n118\n00:05:58.280 --> 00:06:02.087\njust things that we wanna understand\nin order to be able to talk\n\n119\n00:06:02.087 --> 00:06:06.941\nabout knowledgeably and essentially\nhave a conversation about containers.\n\n120\n00:06:06.941 --> 00:06:10.595\nSo the container host is the physical,\nyou'll see there, the physical or\n\n121\n00:06:10.595 --> 00:06:14.450\nvirtual computer configured with\nthe container feature installed on it.\n\n122\n00:06:14.450 --> 00:06:18.490\nWe can run one or more containers that you\nsaw in the diagram associated with that.\n\n123\n00:06:18.490 --> 00:06:24.358\nYeah, when we want to install the feature,\nright, very simple, very easy to do.\n\n124\n00:06:24.358 --> 00:06:29.350\nYou'll see here, and we'll take\na look at how to do that in a second.\n\n125\n00:06:29.350 --> 00:06:32.220\nBut let me just bring up\nthe server manager here.\n\n126\n00:06:32.220 --> 00:06:35.880\nAnd you'll see that on a machine,\nfor instance, this one,\n\n127\n00:06:35.880 --> 00:06:37.910\nthe plaid DM01 machine.\n\n128\n00:06:37.910 --> 00:06:41.950\nI'm in the add,\nremove features and roles area.\n\n129\n00:06:41.950 --> 00:06:44.538\nI just launched the wizard,\nwent to the features area.\n\n130\n00:06:44.538 --> 00:06:46.293\nSee, containers is already selected.\n\n131\n00:06:46.293 --> 00:06:49.801\nI've already installed it and\nrestarted the machine, because as I said,\n\n132\n00:06:49.801 --> 00:06:51.704\nit does require a restart to configure.\n\n133\n00:06:51.704 --> 00:06:55.420\nAnd so the container's functionality\nis already there, provides services and\n\n134\n00:06:55.420 --> 00:06:58.845\ntools to create and manage Windows\nServer Containers and the resources.\n\n135\n00:06:58.845 --> 00:07:02.330\nSo you install that,\nyou do the restart once you've done that.\n\n136\n00:07:02.330 --> 00:07:05.090\nWe'll take a look at the instructions\n\n137\n00:07:05.090 --> 00:07:07.480\non how to do the install\nhere in just a minute.\n\n138\n00:07:07.480 --> 00:07:12.694\nBut once you've done that, you then,\nwhen you come out of the restart,\n\n139\n00:07:12.694 --> 00:07:17.110\nwe'll have, A,\n\n140\n00:07:20.106 --> 00:07:26.262\nWhere is it, right,\n&gt;&gt; Somewhere in there.\n\n141\n00:07:26.262 --> 00:07:28.827\n&gt;&gt; It is somewhere in there,\nthere it is right there,\n\n142\n00:07:28.827 --> 00:07:32.705\nI'm looking at it alphabetically, and\nwould help if I remember O comes after N.\n\n143\n00:07:32.705 --> 00:07:34.783\n&gt;&gt; [LAUGH]\n&gt;&gt; And that I actually turn my eyes on, so\n\n144\n00:07:34.783 --> 00:07:36.046\nthey're working the right way.\n\n145\n00:07:36.046 --> 00:07:37.844\nI'm looking up in the I's going,\nwhere's Docker?\n\n146\n00:07:37.844 --> 00:07:39.415\n&gt;&gt; [LAUGH]\n&gt;&gt; Why isn't it there?\n\n147\n00:07:39.415 --> 00:07:41.327\nBecause it's not spelled that way,\nthat's why.\n\n148\n00:07:41.327 --> 00:07:44.277\nAll right, so\nDocker Engine is right there.\n\n149\n00:07:44.277 --> 00:07:48.271\nAnd you could see the Docker Engine\nservice is installed, not because we\n\n150\n00:07:48.271 --> 00:07:52.923\ninstalled the Windows container feature,\nbut rather because I've also installed\n\n151\n00:07:52.923 --> 00:07:57.396\nthe Docker Enterprise Edition Support,\nmeaning I've downloaded the Docker.\n\n152\n00:07:57.396 --> 00:07:59.584\nNew installation and configured it.\n\n153\n00:07:59.584 --> 00:08:03.560\nAnd so by installing containers by itself,\nwe don't have anything.\n\n154\n00:08:03.560 --> 00:08:05.530\nRemember, I said that's\nonly half of the puzzle.\n\n155\n00:08:05.530 --> 00:08:07.460\nWe have the framework for support.\n\n156\n00:08:07.460 --> 00:08:11.220\nBut to enable this and to run it,\nwe need Docker on top of it.\n\n157\n00:08:11.220 --> 00:08:13.890\nWe were talking before we\ngot started about Docker and\n\n158\n00:08:13.890 --> 00:08:16.632\nthe fact that wow it's great\nthat we now support this.\n\n159\n00:08:16.632 --> 00:08:20.692\nIt's an open source solution, so it's nice\nthat Microsoft is really enabling and\n\n160\n00:08:20.692 --> 00:08:23.020\nreaching out to the community to do this.\n\n161\n00:08:23.020 --> 00:08:24.492\nI'm waiting for the next release.\n\n162\n00:08:24.492 --> 00:08:26.056\nI'm not saying this\nwill happen by the way,\n\n163\n00:08:26.056 --> 00:08:28.230\nI'm just pointing it out\nhoping it will happen.\n\n164\n00:08:28.230 --> 00:08:32.321\nRight, cuz I say that then somebody\n[CROSSTALK] said in 2018 that were\n\n165\n00:08:32.321 --> 00:08:34.413\ngonna have this and it's not there.\n\n166\n00:08:34.413 --> 00:08:36.100\nI never said that, right?\n\n167\n00:08:36.100 --> 00:08:38.759\nWhat I'm simply saying is I\nhope that in a future release,\n\n168\n00:08:38.759 --> 00:08:42.289\nperhaps even the next release, of Windows\nServer that instead of having to go\n\n169\n00:08:42.289 --> 00:08:46.037\nthrough the steps I'm gonna share with you\nhere in a minute about how to download,\n\n170\n00:08:46.037 --> 00:08:49.677\nintall and configure Docker, that either\nthere will be an automated process,\n\n171\n00:08:49.677 --> 00:08:52.060\nperhaps just a pre-compiled\nPowerShell script.\n\n172\n00:08:52.060 --> 00:08:54.110\nThat would be nice to kick off.\n\n173\n00:08:54.110 --> 00:08:57.540\nObviously, there's updates to the Docker\nbuilds on a regular enough basis.\n\n174\n00:08:57.540 --> 00:09:00.100\nYou wouldn't be wanna just\nintegrate it as a feature\n\n175\n00:09:00.100 --> 00:09:03.000\nthat you would install here directly,\nbecause it wouldn't make sense to do that.\n\n176\n00:09:03.000 --> 00:09:07.110\nBut it would be nice if we had\njust a little bit more in terms of\n\n177\n00:09:07.110 --> 00:09:11.250\nthe support for it, by building in\nsome automation capabilities directly.\n\n178\n00:09:11.250 --> 00:09:14.252\nInstead of us having to walk\nthrough what I'm about to show you.\n\n179\n00:09:14.252 --> 00:09:18.849\nNow, PowerShell is the preferred method to\ngo out and install and configure Docker.\n\n180\n00:09:18.849 --> 00:09:20.734\nSo we're gonna use PowerShell either way.\n\n181\n00:09:20.734 --> 00:09:24.001\nBut it would just be nice if we had maybe\na script template that we could easily\n\n182\n00:09:24.001 --> 00:09:25.649\njust adjust a couple of variables in.\n\n183\n00:09:25.649 --> 00:09:28.560\nAnd we would then be able to go out,\ngrab the package,\n\n184\n00:09:28.560 --> 00:09:31.082\ndo the zip file,\nbring it in, explode it out,\n\n185\n00:09:31.082 --> 00:09:35.950\ndo the installation, import the modules,\nset it all up, and just have it all there.\n\n186\n00:09:35.950 --> 00:09:37.547\nI'm gonna walk you through\nthe steps in a minute.\n\n187\n00:09:37.547 --> 00:09:40.486\nBut once we do all that,\nthen the Docker engine service is there.\n\n188\n00:09:40.486 --> 00:09:42.006\nWe set it to run automatically.\n\n189\n00:09:42.006 --> 00:09:43.845\nWe restart the machine a couple of times.\n\n190\n00:09:43.845 --> 00:09:45.069\nYou'll see the service is running.\n\n191\n00:09:45.069 --> 00:09:47.904\nAnd then we can actually start\nworking with containers.\n\n192\n00:09:47.904 --> 00:09:52.174\nBut it's a multi-step process, so\nbefore we get into how we install,\n\n193\n00:09:52.174 --> 00:09:53.960\nlet's just go back here.\n\n194\n00:09:53.960 --> 00:09:56.165\nLet's continue, it keeps,\nI don't know why it keeps doing this.\n\n195\n00:09:56.165 --> 00:09:58.275\nIt keeps jumping back up\nto the top of that list.\n\n196\n00:09:58.275 --> 00:10:00.019\n[LAUGH] Every time I switch the screen,\n\n197\n00:10:00.019 --> 00:10:02.280\nit just goes back up to\nthat point in my notes.\n\n198\n00:10:02.280 --> 00:10:03.870\nAll right, so we've talked about\nthe container host, right?\n\n199\n00:10:03.870 --> 00:10:05.010\nI just wanted to show you that.\n\n200\n00:10:05.010 --> 00:10:08.670\nThe container image, the container's\nfile system and registry and\n\n201\n00:10:08.670 --> 00:10:11.120\nall that, are contained in the sandbox.\n\n202\n00:10:11.120 --> 00:10:15.140\nThe sandbox, if you look down there,\nis the container that has all the image\n\n203\n00:10:15.140 --> 00:10:18.630\nchanges, and all the information\naround it, all the file system,\n\n204\n00:10:18.630 --> 00:10:21.220\nregistry settings, etc, etc right?\n\n205\n00:10:21.220 --> 00:10:24.275\nEssentially the sandbox is\nthe protected memory space, right?\n\n206\n00:10:24.275 --> 00:10:26.754\nI called it a memory bubble,\nthat's just one way of referring to it.\n\n207\n00:10:26.754 --> 00:10:31.582\nBut we call it a sandbox generically, it's\nthe isolated VM, or isolated container\n\n208\n00:10:31.582 --> 00:10:36.283\nenvironment that the container runs in on\ntop of the VM in the Hyper-V container.\n\n209\n00:10:36.283 --> 00:10:39.212\nBut generically, it's the isolated\nenvironment that we're using or\n\n210\n00:10:39.212 --> 00:10:40.393\ncreating as the container.\n\n211\n00:10:40.393 --> 00:10:42.338\nSo we put all that stuff in there.\n\n212\n00:10:42.338 --> 00:10:45.740\nWe capture all that in the sandbox.\n\n213\n00:10:45.740 --> 00:10:49.694\nThe image allows us to be able to\nrefer to that as a package and\n\n214\n00:10:49.694 --> 00:10:51.127\nkind of work with it.\n\n215\n00:10:51.127 --> 00:10:52.710\nWe have the container OS image.\n\n216\n00:10:52.710 --> 00:10:54.732\nAnd then we have the container repository.\n\n217\n00:10:54.732 --> 00:10:57.474\nEvery time we create a container image,\nthe container image and\n\n218\n00:10:57.474 --> 00:10:59.760\nall the dependency to all\nthe supporting software and\n\n219\n00:10:59.760 --> 00:11:02.910\neverything we need is stored in the local\nrepository where we essentially\n\n220\n00:11:02.910 --> 00:11:06.149\nthink of it as like a library or\na catalog right, where we have everything.\n\n221\n00:11:06.149 --> 00:11:10.551\nThis allows us to reuse the image as\nmany times as necessary to create new or\n\n222\n00:11:10.551 --> 00:11:13.440\nadditional functionality and spin it up.\n\n223\n00:11:13.440 --> 00:11:16.563\nWe can manage containers using\nPowerShell as you could see there.\n\n224\n00:11:16.563 --> 00:11:20.385\nOr we can use the command line\ninterface that Docker provides.\n\n225\n00:11:20.385 --> 00:11:23.790\nPowerShell like, it's really up\nto us to decide how to do that.\n\n226\n00:11:23.790 --> 00:11:28.400\nSo when we install Docker, which obviously\nis gonna be an important thought process\n\n227\n00:11:28.400 --> 00:11:31.700\nfor us to think about as\npart of this discussion.\n\n228\n00:11:31.700 --> 00:11:35.340\nWe can go in, you saw that I\nhappen to have the web page open.\n\n229\n00:11:35.340 --> 00:11:39.122\nNow to get to this, and again I'm not even\ngonna give you this URL in the show notes.\n\n230\n00:11:39.122 --> 00:11:43.293\nBecause this stuff changes often enough,\nremember this is not a Microsoft website.\n\n231\n00:11:43.293 --> 00:11:45.540\nThis is coming from Docker, right?\n\n232\n00:11:45.540 --> 00:11:49.566\nSo, Docker, the open-source\nplatform is maintaining this.\n\n233\n00:11:49.566 --> 00:11:52.520\nAnd things change and\nthere's enough releases and\n\n234\n00:11:52.520 --> 00:11:56.778\nupdates to the Docker platform that you\nshould simply go out and Google for\n\n235\n00:11:56.778 --> 00:12:00.366\nthe newest updates and\ninformation meaning Google the link.\n\n236\n00:12:00.366 --> 00:12:05.891\nAll I did was install Docker EE,\nEE Enterprise Edition.\n\n237\n00:12:05.891 --> 00:12:08.901\nSo install Docker EE,\nit's three separate words.\n\n238\n00:12:08.901 --> 00:12:13.256\nAnd I know EE is not a word before\nanybody jumps up and says, wait a second,\n\n239\n00:12:13.256 --> 00:12:14.322\nit's not a word.\n\n240\n00:12:14.322 --> 00:12:16.000\nIt's two vowels, but it's not a word.\n\n241\n00:12:16.000 --> 00:12:20.020\nBut I know that, just Google for\nthose three terms together.\n\n242\n00:12:20.020 --> 00:12:22.605\nYou will then get a set of links.\n\n243\n00:12:22.605 --> 00:12:24.271\nAnd one of them will take you here or\n\n244\n00:12:24.271 --> 00:12:26.620\nwhatever this web page\nis when you go there.\n\n245\n00:12:26.620 --> 00:12:29.650\nAnd you'll find all the information,\nbecause it does update frequently.\n\n246\n00:12:29.650 --> 00:12:35.683\nWhen you come here, we are enabling native\nDocker container support on Server 16.\n\n247\n00:12:35.683 --> 00:12:38.857\nYou don't even have to first\ninstall the container feature.\n\n248\n00:12:38.857 --> 00:12:41.520\nYou can do this and run through\nthe script I'm about to show you.\n\n249\n00:12:41.520 --> 00:12:44.100\nAnd actually install the container\nfeature on the server,\n\n250\n00:12:44.100 --> 00:12:46.080\ntarget server as part of the install.\n\n251\n00:12:46.080 --> 00:12:48.870\nI usually will install the Windows\ncontainer feature first.\n\n252\n00:12:48.870 --> 00:12:51.070\nBut it's up to you to\ndecide how to do that.\n\n253\n00:12:51.070 --> 00:12:53.200\nSo there's a couple of ways\nto go about doing this.\n\n254\n00:12:53.200 --> 00:12:54.910\nI like the documentation,\n\n255\n00:12:54.910 --> 00:12:58.950\nbecause the Docker team does a great\njob of giving you a couple of options.\n\n256\n00:12:58.950 --> 00:13:00.785\nSo install docker EE here.\n\n257\n00:13:00.785 --> 00:13:03.926\nIf you just wanna go in and\nliterally just follow the prompts for\n\n258\n00:13:03.926 --> 00:13:06.600\nwhat they give you here,\nthis will do the job for you.\n\n259\n00:13:06.600 --> 00:13:10.750\nInstall the module Docker provider force,\ninstall package Docker.\n\n260\n00:13:10.750 --> 00:13:13.290\nAnd then you go through,\nthere is a list of prereqs.\n\n261\n00:13:13.290 --> 00:13:16.442\nSo you just wanna make sure what\nto know before you install, for\n\n262\n00:13:16.442 --> 00:13:17.830\na full list of prereqs.\n\n263\n00:13:17.830 --> 00:13:19.330\nMaking sure you have everything.\n\n264\n00:13:19.330 --> 00:13:23.580\nSo just follow the logic, and/or,\nif you wanna go down here.\n\n265\n00:13:25.000 --> 00:13:28.755\nThere is a required update\nthat you may need to provide.\n\n266\n00:13:28.755 --> 00:13:30.310\nSo you go out and check for this.\n\n267\n00:13:30.310 --> 00:13:33.550\nSo again, depends on the build\nof the Server 16 you're running.\n\n268\n00:13:33.550 --> 00:13:35.859\nSometimes you need this,\nsometimes you don't.\n\n269\n00:13:35.859 --> 00:13:38.700\nSo you just follow the instructions, and\njust pay attention to what you're doing.\n\n270\n00:13:38.700 --> 00:13:43.330\nRight, with the S config tool, it just\ngives you a numerical list of options.\n\n271\n00:13:43.330 --> 00:13:46.697\nYou choose option six, it says,\ndownload and install updates.\n\n272\n00:13:46.697 --> 00:13:49.240\nIf it's necessary,\nit'll bring it in for you.\n\n273\n00:13:49.240 --> 00:13:50.530\nYou can also go down here and\n\n274\n00:13:50.530 --> 00:13:53.770\nuse the script to install Docker,\nagain, up to you.\n\n275\n00:13:53.770 --> 00:13:58.120\nYou can go through and just take\nthese commands kinda one at a time,\n\n276\n00:13:58.120 --> 00:14:00.690\ncopy them, drop them into PowerShell.\n\n277\n00:14:00.690 --> 00:14:02.579\nAnd as long as you have\nthe spacing correct,\n\n278\n00:14:02.579 --> 00:14:04.275\nthe one thing I'll caution you about.\n\n279\n00:14:04.275 --> 00:14:07.998\nWhen you copy from the webpage,\nif you're doing this not in IIS,\n\n280\n00:14:07.998 --> 00:14:12.603\nbut in PowerShell itself, just in the\ncommand shell, it will break at that first\n\n281\n00:14:12.603 --> 00:14:17.625\nline and create two separate commands for\nsomething like this that are multiline.\n\n282\n00:14:17.625 --> 00:14:19.435\nThis all has to be entered on one line.\n\n283\n00:14:19.435 --> 00:14:20.397\nYou always have that issue.\n\n284\n00:14:20.397 --> 00:14:23.545\nIn PowerShell, it breaks,\nif you're not paying attention to it,\n\n285\n00:14:23.545 --> 00:14:24.827\nit does the line breaking.\n\n286\n00:14:24.827 --> 00:14:26.522\nSo you'll pace this thing, and\nit will give you an error.\n\n287\n00:14:26.522 --> 00:14:28.512\nBecause it will be like, okay,\nyou want me to download, but\n\n288\n00:14:28.512 --> 00:14:29.575\nyou didn't tell me where to go.\n\n289\n00:14:29.575 --> 00:14:31.297\nWhat's the URI for this first line?\n\n290\n00:14:31.297 --> 00:14:33.070\nThen you gotta type\neverything in additionally.\n\n291\n00:14:33.070 --> 00:14:35.690\nYou can still do it,\nit's just it takes more time.\n\n292\n00:14:35.690 --> 00:14:39.660\nSo instead, what I tend to do is I'll\ntake this, I'll put it into Notepad.\n\n293\n00:14:39.660 --> 00:14:42.540\nI'll make sure that I have it\nall set up as single lines And\n\n294\n00:14:42.540 --> 00:14:45.050\nthen I'll copy from Notepad\ndirectly into PowerShell.\n\n295\n00:14:45.050 --> 00:14:46.330\nAnd then it's just very simple to do.\n\n296\n00:14:46.330 --> 00:14:49.390\nOr I'll write a little script that just\nautomates it, you can do that as well.\n\n297\n00:14:49.390 --> 00:14:50.650\nIt's up to you but, essentially,\n\n298\n00:14:50.650 --> 00:14:54.220\nthis is the script that will automate\nit if you stitch it together.\n\n299\n00:14:54.220 --> 00:14:56.800\nNo shame, by the way,\nusing the script that's provided.\n\n300\n00:14:56.800 --> 00:14:58.892\nJust obviously go through and\nfollow the steps.\n\n301\n00:14:58.892 --> 00:14:59.981\nThat's how you do it, right.\n\n302\n00:14:59.981 --> 00:15:02.562\nSo you could see you go through,\nyou download the repository,\n\n303\n00:15:02.562 --> 00:15:04.622\ndownload from the repository,\nget the zip file.\n\n304\n00:15:04.622 --> 00:15:07.035\nYou then go ahead and expand the archives,\n\n305\n00:15:07.035 --> 00:15:10.060\nyou're expanding the zip\nfile called docker.zip.\n\n306\n00:15:10.060 --> 00:15:14.076\nSpecify the path there that goes\ninto the program files directory.\n\n307\n00:15:14.076 --> 00:15:18.169\nThen you can remove it just after you\nexpand and get rid of the zip file itself.\n\n308\n00:15:18.169 --> 00:15:20.082\nSo you don't take up the space,\nthat's optional.\n\n309\n00:15:20.082 --> 00:15:23.370\nYou don't have to do that,\nthen install Docker.\n\n310\n00:15:23.370 --> 00:15:25.798\nThis, you can see here,\nis the installing Windows feature.\n\n311\n00:15:25.798 --> 00:15:27.701\nContainers, remember it requires a reboot,\n\n312\n00:15:27.701 --> 00:15:29.956\nwhich why I said sometimes I\nwill do this ahead of time.\n\n313\n00:15:29.956 --> 00:15:33.115\nSo I have already rebooted the server and\ndo not have to reboot while I am doing it,\n\n314\n00:15:33.115 --> 00:15:34.050\nit is up to you.\n\n315\n00:15:34.050 --> 00:15:36.600\nAdd Docker to the path for\nthe current session.\n\n316\n00:15:36.600 --> 00:15:38.480\nSo you go ahead and\nmodify the environmental path.\n\n317\n00:15:38.480 --> 00:15:41.520\nThe environmental path statement for\nthe variables.\n\n318\n00:15:41.520 --> 00:15:47.070\nThen, you can make it a persistent path\nacross the Windows Power Shell sessions.\n\n319\n00:15:47.070 --> 00:15:48.274\nWe don't get into all of that here,\n\n320\n00:15:48.274 --> 00:15:50.413\nbecause that's really more of\nan advanced PowerShell topic.\n\n321\n00:15:50.413 --> 00:15:54.512\nBut you could edit settings in PowerShell\nto actually persist certain settings\n\n322\n00:15:54.512 --> 00:15:56.111\nacross PowerShell sessions.\n\n323\n00:15:56.111 --> 00:15:57.843\nYou could do that if you want to.\n\n324\n00:15:57.843 --> 00:16:01.273\nAnd then register the Docker game\non as a service, so you register.\n\n325\n00:16:01.273 --> 00:16:04.628\nThe Docker service, I told you I\nshowed you the Docker engine, so\n\n326\n00:16:04.628 --> 00:16:08.288\nthat way it's running, and\nthen start it, start Service docker, and\n\n327\n00:16:08.288 --> 00:16:11.170\nthen you test it, and\nyou can go in and test it here.\n\n328\n00:16:11.170 --> 00:16:15.970\nYou run the hello or run the Hello World\nNano Server, goes out and runs, and\n\n329\n00:16:15.970 --> 00:16:19.170\nthen comes back, and\nif everything is good, connects and\n\n330\n00:16:19.170 --> 00:16:23.720\npulls down the Nano Server image for\nHello World, and actually runs it, and\n\n331\n00:16:23.720 --> 00:16:25.310\nsays hey yeah, everything is good,\nyou're connected.\n\n332\n00:16:25.310 --> 00:16:29.100\nAnd then Docker's running and\ncontainers are available and you're good.\n\n333\n00:16:29.100 --> 00:16:30.630\nDefinitely want to go through.\n\n334\n00:16:30.630 --> 00:16:31.280\nPractice that.\n\n335\n00:16:31.280 --> 00:16:32.320\nTake a look at it.\n\n336\n00:16:32.320 --> 00:16:34.680\nIt could be a little confusing\nif you haven't done it before so\n\n337\n00:16:34.680 --> 00:16:37.570\nit's good to just go in and take a look\nat what's happening in there but\n\n338\n00:16:37.570 --> 00:16:41.310\nonce you get it stood up, it is actually\nis fairly straightforward at that point.\n\n339\n00:16:41.310 --> 00:16:43.669\nIf I'm not mistaken,\nI think we've done, not myself but\n\n340\n00:16:43.669 --> 00:16:46.174\nif I'm not mistaken I think Justin\nhas done some other shows on\n\n341\n00:16:46.174 --> 00:16:47.025\nDocker-\n&gt;&gt; Yes, he is.\n\n342\n00:16:47.025 --> 00:16:48.168\n&gt;&gt; Over on DevPro, right.\n\n343\n00:16:48.168 --> 00:16:49.283\n&gt;&gt; Mm-hm.\n\n344\n00:16:49.283 --> 00:16:53.060\n&gt;&gt; So you could take a look at some of the\nstuff that Justin has done, some really\n\n345\n00:16:53.060 --> 00:16:56.170\ncool stuff I think with not only working\nwith containers, but creating some apps\n\n346\n00:16:56.170 --> 00:16:59.738\nand doing things within the containerized\nenvironment, so that's kind of cool.\n\n347\n00:16:59.738 --> 00:17:02.950\nBut a Hyper-V containers run\nin this highly optimized\n\n348\n00:17:02.950 --> 00:17:04.530\nVM as I was suggesting to you.\n\n349\n00:17:04.530 --> 00:17:06.400\nThat further isolates us.\n\n350\n00:17:06.400 --> 00:17:09.890\nWe have this isolated environment\nessentially for apps in our services.\n\n351\n00:17:09.890 --> 00:17:13.570\nIf you remember the,\nlet's bring it up while we're talking.\n\n352\n00:17:13.570 --> 00:17:15.160\nRemember the diagram, right.\n\n353\n00:17:15.160 --> 00:17:17.290\nSo, yeah, we have that isolated,\n\n354\n00:17:17.290 --> 00:17:20.790\nthere we go, that isolated environment\nrunning inside the Hyper-V VM\n\n355\n00:17:20.790 --> 00:17:24.550\nthat further isolates our app or\nwhatever it is we may be using there.\n\n356\n00:17:24.550 --> 00:17:29.190\nThe VM provides a full guest OS with both\nkernel and user modes as you can see.\n\n357\n00:17:29.190 --> 00:17:32.322\nRight, so ability in our app or the binary\nin libraries, whatever you need,\n\n358\n00:17:32.322 --> 00:17:37.780\na Hyper-V container shall deploy and then\nthe guest OS on use was able to run and\n\n359\n00:17:37.780 --> 00:17:40.270\ndo what it needs to do and\nprovide that support for us.\n\n360\n00:17:40.270 --> 00:17:41.690\nSo just keep that in mind.\n\n361\n00:17:41.690 --> 00:17:45.950\nIt does allow us to have additional\ninstruction layer or layer of security.\n\n362\n00:17:45.950 --> 00:17:48.610\nSo what are some usage scenarios, right.\n\n363\n00:17:48.610 --> 00:17:51.620\nSo we think about the differences\nbetween Windows containers,\n\n364\n00:17:51.620 --> 00:17:56.280\nHyper V containers, you'll when would it\nbe appropriate to choose one on the other.\n\n365\n00:17:56.280 --> 00:17:59.160\nWhat may be some of the key business\ndrivers which would be important to\n\n366\n00:17:59.160 --> 00:18:00.575\nthink about and consider.\n\n367\n00:18:00.575 --> 00:18:02.450\nRight, so Window Server containers.\n\n368\n00:18:03.855 --> 00:18:06.845\nWe are gonna run an app in\na Windows Server container.\n\n369\n00:18:06.845 --> 00:18:08.645\nThe app has to be stateless.\n\n370\n00:18:08.645 --> 00:18:11.745\nSo it's important to think about that on\nthe left, or that way actually, right?\n\n371\n00:18:11.745 --> 00:18:13.278\nOn the left of the diagram up there.\n\n372\n00:18:13.278 --> 00:18:15.269\nI keep remembering it's got to be the\nopposite way of what we're talking about.\n\n373\n00:18:15.269 --> 00:18:18.201\n&gt;&gt; [LAUGH]\n&gt;&gt; But up here, if we're running an app in\n\n374\n00:18:18.201 --> 00:18:23.454\none of the Windows container areas we have\nto think about the fact that it'll have\n\n375\n00:18:23.454 --> 00:18:28.552\nto be stateless, which means we're not\nstoring any data, any session data,\n\n376\n00:18:28.552 --> 00:18:33.448\nany state data, any data associated\nwith the use in running of that app on.\n\n377\n00:18:33.448 --> 00:18:37.200\nIt must not store that in its container,\nright, so we just have to be aware of\n\n378\n00:18:37.200 --> 00:18:40.838\nthat, because essentially we're running\non top of the WIndows OS and and\n\n379\n00:18:40.838 --> 00:18:44.239\nwe're not running in a container\nwhere we can store all that stuff and\n\n380\n00:18:44.239 --> 00:18:46.373\ninteract with it in\na way that makes sense.\n\n381\n00:18:46.373 --> 00:18:49.333\nWe're essentially just a service\nrunning on top of Windows, right?\n\n382\n00:18:49.333 --> 00:18:50.943\nInside of this little bubble, right,\n\n383\n00:18:50.943 --> 00:18:53.563\nthat is the sandbox that is gonna\nallow us to create this isolation.\n\n384\n00:18:53.563 --> 00:18:57.486\nSo, stateless web apps are usually\nthe best likely candidates for this.\n\n385\n00:18:57.486 --> 00:19:00.476\nSo if you have a stateless\nweb app that's gonna run,\n\n386\n00:19:00.476 --> 00:19:03.336\na Windows container solution\nwould be a real good idea.\n\n387\n00:19:03.336 --> 00:19:05.486\nSo that's one of the things\nyou wanna think about.\n\n388\n00:19:05.486 --> 00:19:10.103\nOne of the exam objectives associated with\nthis part of the conversation is not just,\n\n389\n00:19:10.103 --> 00:19:11.443\nhey, what's a container?\n\n390\n00:19:11.443 --> 00:19:12.573\nWhat are my two options?\n\n391\n00:19:12.573 --> 00:19:14.013\nWe've kinda talked about that.\n\n392\n00:19:14.013 --> 00:19:15.813\nHow do we get this up and running?\n\n393\n00:19:15.813 --> 00:19:17.933\nOkay, we talked about installing\nthe container feature,\n\n394\n00:19:17.933 --> 00:19:20.890\ntalked about the Docker piece, you know\nhow to go in and take care of that.\n\n395\n00:19:20.890 --> 00:19:21.720\nTo get that up and running.\n\n396\n00:19:21.720 --> 00:19:24.540\nWe've talked about administering and\nmanaging it through the PowerShell or\n\n397\n00:19:24.540 --> 00:19:27.980\nthe Docker command line, but then what\nare some of the business cases, or\n\n398\n00:19:27.980 --> 00:19:31.490\nusage scenarios that push us into one or\nthe other choice.\n\n399\n00:19:31.490 --> 00:19:35.480\nAnd so knowing that a stateless web app,\nor stateless app in general that,\n\n400\n00:19:35.480 --> 00:19:38.710\nsomething like a stateless web app is\na really good candidate for Windows\n\n401\n00:19:38.710 --> 00:19:42.710\ncontainer is probably a good idea because\nMicrosoft's pretty clear about that.\n\n402\n00:19:42.710 --> 00:19:46.460\nHey, not only should you understand\nthe concepts of containers, but\n\n403\n00:19:46.460 --> 00:19:49.240\nyou should also understand\nwhen it would be\n\n404\n00:19:49.240 --> 00:19:51.880\nappropriate to choose\none versus the other.\n\n405\n00:19:51.880 --> 00:19:54.340\nThey love to give you,\n\n406\n00:19:54.340 --> 00:19:56.820\nyou have probably seen this on a lot\nof exams over the years, right?\n\n407\n00:19:56.820 --> 00:19:58.667\nThey love to give us scenario questions.\n\n408\n00:19:58.667 --> 00:19:59.564\n&gt;&gt; Yes.\n&gt;&gt; They being Microsoft, right?\n\n409\n00:19:59.564 --> 00:20:01.225\n&gt;&gt; [LAUGH]\n&gt;&gt; All vendors do,\n\n410\n00:20:01.225 --> 00:20:07.132\nthey love to give us scenarios, you know,\nyou're the dummy namin for ABC Corp.\n\n411\n00:20:07.132 --> 00:20:09.124\nOr whatever the name is they're using,\nright?\n\n412\n00:20:09.124 --> 00:20:12.006\n&gt;&gt; Uh-huh.\n&gt;&gt; And your doing this, this, this, and\n\n413\n00:20:12.006 --> 00:20:17.130\nthis and you've got this requirement or\nset of business requirements, right?\n\n414\n00:20:17.130 --> 00:20:18.510\nWhatever it may be.\n\n415\n00:20:18.510 --> 00:20:22.240\nAnd, which of these options\nis gonna get the job done?\n\n416\n00:20:22.240 --> 00:20:25.590\nI talked about this before with\nCherokee in other episodes.\n\n417\n00:20:25.590 --> 00:20:28.760\nBut the idea of not just\nto get the job done, but\n\n418\n00:20:28.760 --> 00:20:32.970\nthe least administrative burden, or\nleast cost, is what you often hear.\n\n419\n00:20:32.970 --> 00:20:34.870\nOr least administrative overhead.\n\n420\n00:20:34.870 --> 00:20:36.550\nSo not just can I get the job done, but\n\n421\n00:20:36.550 --> 00:20:39.230\nhow am I gonna get it done most\nefficiently and effectively?\n\n422\n00:20:39.230 --> 00:20:41.660\nAnd a lot of times there's more than one,\n\n423\n00:20:41.660 --> 00:20:47.440\nI'll put the word correct in air quotes\nmore than one correct answer on the page,\n\n424\n00:20:47.440 --> 00:20:52.490\nbut there is not more than one\nbest answer on the page, right?\n\n425\n00:20:52.490 --> 00:20:56.800\nMeaning there may be more than one right\nway defined in the list of answers\n\n426\n00:20:56.800 --> 00:21:01.050\npotentially that are provided in those\nthree, five, four, I don't know however\n\n427\n00:21:01.050 --> 00:21:05.840\noptions there may be, probably more\nthan one way to get the job done.\n\n428\n00:21:05.840 --> 00:21:10.200\nBut what they're looking for is not\nnecessarily, let me be crystal clear,\n\n429\n00:21:10.200 --> 00:21:14.110\nnot at all looking for\njust the right answer\n\n430\n00:21:14.110 --> 00:21:17.070\nbecause there's more than one correct or\nright answer on the page.\n\n431\n00:21:17.070 --> 00:21:19.460\nBut they're looking for\nthe best right answer, right,\n\n432\n00:21:19.460 --> 00:21:22.770\nwhich would be the one with the least\nadministrative cost which means typically,\n\n433\n00:21:22.770 --> 00:21:27.460\nthe least amount of steps, perhaps,\nright or the least amount of time.\n\n434\n00:21:27.460 --> 00:21:31.320\nSo it is important to be aware of the fact\nthat there may be more than one way\n\n435\n00:21:31.320 --> 00:21:35.400\nto push a solution, and\ntherefore perhaps make a choice, but\n\n436\n00:21:35.400 --> 00:21:38.040\nwe have to choose the one that has\nthe least administrative overhead.\n\n437\n00:21:38.040 --> 00:21:39.760\nIf that is a requirement of,\n\n438\n00:21:39.760 --> 00:21:43.670\nthe question it may not be it may just be\na very simple, hey, how do I do this and\n\n439\n00:21:43.670 --> 00:21:47.360\nthere's only one right way to do that,\none right answer and that's what you do.\n\n440\n00:21:47.360 --> 00:21:50.420\nBut there could also be many\nscenarios where they say, hey,\n\n441\n00:21:50.420 --> 00:21:51.780\nthere's options, right?\n\n442\n00:21:51.780 --> 00:21:53.140\nWindows containers versus Hyper-V,\n\n443\n00:21:53.140 --> 00:21:55.600\nwhat am I gonna choose and\nwhen am I gonna do that?\n\n444\n00:21:55.600 --> 00:21:57.960\nWindows Server containers\nare also really good choices for\n\n445\n00:21:57.960 --> 00:21:59.460\nrapid test deployment, right?\n\n446\n00:21:59.460 --> 00:22:01.660\nEssentially, hey,\nlet me spin up an environment,\n\n447\n00:22:01.660 --> 00:22:05.060\ncheck something out real quick,\nlet's see if this is gonna work or not.\n\n448\n00:22:05.060 --> 00:22:08.290\nPackage and deliver distributed apps up,\nand see how they're running.\n\n449\n00:22:08.290 --> 00:22:10.750\nAnd then once we create that image and\nrun that,\n\n450\n00:22:10.750 --> 00:22:15.520\nthen that would be a good business case or\nuse case for Windows containers, as well.\n\n451\n00:22:15.520 --> 00:22:17.300\nWhat about Hyper-V containers, right?\n\n452\n00:22:17.300 --> 00:22:21.860\nWell, probably the most likely business\nscenario that we would think of and\n\n453\n00:22:21.860 --> 00:22:25.300\nsee there is Cloud-based\nhosting environments, right?\n\n454\n00:22:25.300 --> 00:22:28.880\nWhere we're in multi-tenant, typically\nanyway, multi-tenant environments.\n\n455\n00:22:28.880 --> 00:22:30.190\nLet's go back to our picture for a minute.\n\n456\n00:22:30.190 --> 00:22:31.430\nWe can kinda get a sense of this, right?\n\n457\n00:22:31.430 --> 00:22:34.450\nCan we go full screen just to get\nthe full effect if you will, right?\n\n458\n00:22:34.450 --> 00:22:35.466\n&gt;&gt; Yeah.\n&gt;&gt; It´d be great if I do this.\n\n459\n00:22:35.466 --> 00:22:36.201\nSo can I do this?\n\n460\n00:22:36.201 --> 00:22:37.783\nLet me see if I can do this\nwithout being really obnoxious.\n\n461\n00:22:37.783 --> 00:22:39.117\nIt will be really obnoxious by the way.\n\n462\n00:22:39.117 --> 00:22:43.322\nBut, ooh.\n\n463\n00:22:43.322 --> 00:22:45.710\nOkay there we go, I´m done playing, right.\n\n464\n00:22:45.710 --> 00:22:46.990\n&gt;&gt; [LAUGH]\n&gt;&gt; My point is, right,\n\n465\n00:22:46.990 --> 00:22:50.040\nlet´s just come over here and\nkinda center this for just a second.\n\n466\n00:22:50.040 --> 00:22:54.111\nLet's focus on, let me just make\nthis a little touch smaller, just so\n\n467\n00:22:54.111 --> 00:22:57.340\nthat we can actually focus in on that and\ndo see both.\n\n468\n00:22:57.340 --> 00:22:58.550\nThere we go, back to where we were, right?\n\n469\n00:22:58.550 --> 00:23:01.043\nSo if we think about the logic of this,\nright?\n\n470\n00:23:01.043 --> 00:23:06.000\nHere, right, where we're saying, hey,\nstateless web app, rapid deployment for\n\n471\n00:23:06.000 --> 00:23:08.690\ntesting, but everything's\nrunning on one box here, right?\n\n472\n00:23:08.690 --> 00:23:12.820\nEssentially in Windows containers,\nwe're running on a Server 16 OS.\n\n473\n00:23:12.820 --> 00:23:17.563\nAnd if Mike and I are two separate\ncustomers each of us control interior,\n\n474\n00:23:17.563 --> 00:23:21.945\nhave ownership of one of those\ncontainer apps right here, right.\n\n475\n00:23:21.945 --> 00:23:24.540\nIf you look really close you could see\nMike poking out from the behind the number\n\n476\n00:23:24.540 --> 00:23:25.491\ntwo right there, right?.\n\n477\n00:23:25.491 --> 00:23:27.628\n&gt;&gt; [LAUGH]\n&gt;&gt; So if we're both controlling or\n\n478\n00:23:27.628 --> 00:23:31.936\none of us each controlling these but\nwe're on the same hosted infrastructure,\n\n479\n00:23:31.936 --> 00:23:35.279\nwhich would be the case in that\ncloud environment, but we have\n\n480\n00:23:35.279 --> 00:23:39.394\nno way to isolate the commonalities\nthat we're using, the underlying OS,\n\n481\n00:23:39.394 --> 00:23:44.190\nthe resources, the host OS kernel there as\nyou can see is common and shared by both.\n\n482\n00:23:44.190 --> 00:23:47.463\nThe binaries and\nlibraries common and shared by both.\n\n483\n00:23:47.463 --> 00:23:50.981\nWe're gonna run into an issue potentially,\nright, because you and\n\n484\n00:23:50.981 --> 00:23:54.680\nI may try to go after and grab a common\nresource data could be a potentially\n\n485\n00:23:54.680 --> 00:23:59.169\nleaked because of memory concern, just all\nthese security things that could go wrong,\n\n486\n00:23:59.169 --> 00:24:01.444\nright, that would be really problematic.\n\n487\n00:24:01.444 --> 00:24:06.489\nBut if we were looking at hosting\nin a cloud based environment,\n\n488\n00:24:06.489 --> 00:24:11.722\nmulti tenant environment but\nwe split Mike and I up, put us each as\n\n489\n00:24:11.722 --> 00:24:18.710\nyou can see in our own separate Hyper VVM\nvirtual machine driven hyper V container.\n\n490\n00:24:18.710 --> 00:24:20.540\nOur containers are still there but\n\n491\n00:24:20.540 --> 00:24:24.660\nthey're now isolated with their\nown essentially kernel, right.\n\n492\n00:24:24.660 --> 00:24:28.970\nTheir own binary library support, their\nown user mode, essentially control over.\n\n493\n00:24:28.970 --> 00:24:31.730\nThe environment is now given to\n\n494\n00:24:31.730 --> 00:24:35.890\nthe individual container\nthat's running that instance.\n\n495\n00:24:35.890 --> 00:24:38.080\nIt's a lot easier for us to now isolate.\n\n496\n00:24:38.080 --> 00:24:41.690\nEven though we're running at the bottom\nthere, as you can see, on a common host.\n\n497\n00:24:41.690 --> 00:24:46.940\nThis would be our server 16 physical\nhost that's running HyperV,\n\n498\n00:24:46.940 --> 00:24:50.540\nbut now we've got all these\nindividual instances running as VMs,\n\n499\n00:24:50.540 --> 00:24:54.180\nmemory protected, and\nserver isolated or HyperV shielded and\n\n500\n00:24:54.180 --> 00:24:57.790\nisolated, on top running\nindividual workloads.\n\n501\n00:24:57.790 --> 00:25:02.300\nThat's the business proposition and\n\n502\n00:25:02.300 --> 00:25:06.630\nthe work case or the work study\nassociated with HyperV containers.\n\n503\n00:25:06.630 --> 00:25:08.520\n&gt;&gt; Absolutely, and\nyou get that separation.\n\n504\n00:25:08.520 --> 00:25:10.950\nSo like you said,\ntenants can't see each other.\n\n505\n00:25:10.950 --> 00:25:13.690\nWe also get like in\ndevelopment environments where\n\n506\n00:25:13.690 --> 00:25:16.610\nI need different patch levels\nto work on this application.\n\n507\n00:25:16.610 --> 00:25:17.120\n&gt;&gt; Absolutely.\n\n508\n00:25:17.120 --> 00:25:20.370\n&gt;&gt; And with the Windows containers,\nwe're all sharing the same kernal but\n\n509\n00:25:20.370 --> 00:25:25.440\nwith those hyper v isolated container I\ncan have one at different patch levels and\n\n510\n00:25:25.440 --> 00:25:26.530\ntest my application.\n\n511\n00:25:26.530 --> 00:25:30.290\nHey, does it work with this new update, or\nI'm not gonna conflict with somebody else\n\n512\n00:25:30.290 --> 00:25:34.290\nthat needs to work with a different\nlevel or a different set of dll files or\n\n513\n00:25:34.290 --> 00:25:36.900\nthings like that, so no conflicting\nresources like you were saying.\n\n514\n00:25:36.900 --> 00:25:40.400\n&gt;&gt; Or hopeful none if you configure it the\nright way, right, obviously at the end of\n\n515\n00:25:40.400 --> 00:25:43.550\nthe day it's always about making sure\nyou've done the right things and\n\n516\n00:25:43.550 --> 00:25:47.220\ndone the due diligence to set it up the\nright way or exercise the due diligence\n\n517\n00:25:47.220 --> 00:25:52.280\nand are overseeing it and making sure the\nconfigs are proper, you're standardizing,\n\n518\n00:25:52.280 --> 00:25:55.750\nthe things that we talked about\n&gt;&gt; Operating with due carrier,\n\n519\n00:25:55.750 --> 00:25:58.390\nactually administering properly,\nnot crossing the streams,\n\n520\n00:25:58.390 --> 00:26:03.390\nand potentially removing shielded VM\nsupport, the host guardian server,\n\n521\n00:26:03.390 --> 00:26:06.470\nstuff we talked about with virtualization\nsecurity in other episodes.\n\n522\n00:26:06.470 --> 00:26:07.580\nAll that stuff's there, and\n\n523\n00:26:07.580 --> 00:26:10.280\nobviously running and set up the right way\n&gt;&gt; One\n\n524\n00:26:10.280 --> 00:26:12.580\nother quick thing here\nwhich is also important.\n\n525\n00:26:12.580 --> 00:26:14.680\nIt was always,\nthe devil's always in the detail.\n\n526\n00:26:14.680 --> 00:26:15.400\n&gt;&gt; Always.\n&gt;&gt; With this stuff.\n\n527\n00:26:15.400 --> 00:26:16.450\nRight?\n\n528\n00:26:16.450 --> 00:26:17.540\nIt's about licensing.\n\n529\n00:26:17.540 --> 00:26:22.175\nWhich is always, well, I just did it so\nI can't even begin to tell you.\n\n530\n00:26:22.175 --> 00:26:23.190\n[LAUGH]\n&gt;&gt; the utter.\n\n531\n00:26:23.190 --> 00:26:24.165\n&gt;&gt; It is.\n&gt;&gt; A necessary evil, yes.\n\n532\n00:26:24.165 --> 00:26:27.275\n&gt;&gt; The utter confusion and\nchaos that is caused by licensing.\n\n533\n00:26:27.275 --> 00:26:29.455\nAnd this may have very\nwell changed 1,000 times\n\n534\n00:26:29.455 --> 00:26:31.515\nbetween the time I'm speaking these words-\n&gt;&gt; [LAUGH]\n\n535\n00:26:31.515 --> 00:26:32.975\n&gt;&gt; And the time they go through\n\n536\n00:26:32.975 --> 00:26:35.530\nthe stream and they're recorded and\nshow up to you.\n\n537\n00:26:35.530 --> 00:26:39.530\n[LAUGH] And I'm joking, but what I mean is\nat least right now anyway, and again to be\n\n538\n00:26:39.530 --> 00:26:44.900\nclear, this may have changed by the time\nyou watch Mike and I discussing this,\n\n539\n00:26:44.900 --> 00:26:49.690\nperhaps months or even a year or more out\nfrom the time we created this episode.\n\n540\n00:26:49.690 --> 00:26:53.640\nWe're creating it in late 2017, and as\na result of this moment in time on service\n\n541\n00:26:53.640 --> 00:26:57.680\nwith Server 16 on the Microsoft\nplatform from a licensing perspective.\n\n542\n00:26:57.680 --> 00:27:02.030\nLicensing for both standard and data\ncenter editions is what we have to think\n\n543\n00:27:02.030 --> 00:27:06.335\nabout here because remember, whether it's\nWindowsContainers ,a feature supported in\n\n544\n00:27:06.335 --> 00:27:12.225\nthe core OS natively which is unlimited\nsupport for both standard and data center.\n\n545\n00:27:12.225 --> 00:27:15.775\nWe can run unlimited Windows containers\nwithout any additional licensing\n\n546\n00:27:15.775 --> 00:27:16.795\nrequirements.\n\n547\n00:27:16.795 --> 00:27:22.195\nBut Hyper V containers, which is\nessentially the use of Hyper V and\n\n548\n00:27:22.195 --> 00:27:25.875\nthen the use of VMs within\nHyper V to provide the isolated\n\n549\n00:27:25.875 --> 00:27:29.810\nHyper V container support We don't\nhave unlimited rights there.\n\n550\n00:27:29.810 --> 00:27:30.960\nWe have unlimited support for\n\n551\n00:27:30.960 --> 00:27:34.500\nthat on the data center platform,\nnot on the standard platform.\n\n552\n00:27:34.500 --> 00:27:38.390\nLicensing on standard gives us,\nI wanna say,\n\n553\n00:27:38.390 --> 00:27:43.050\nI'm just double-checking my notes,\ntwo free licenses for Hyper-V containers.\n\n554\n00:27:43.050 --> 00:27:44.470\nJust to make sure, I have to check.\n\n555\n00:27:44.470 --> 00:27:45.952\nAnd I do this on a regular basis.\n\n556\n00:27:45.952 --> 00:27:47.389\n&gt;&gt; [LAUGH]\n&gt;&gt; But I have to check sometimes to\n\n557\n00:27:47.389 --> 00:27:48.160\nkeep that in mind.\n\n558\n00:27:48.160 --> 00:27:51.170\nBut two essentially Hyper-V\ncontainers can be ran\n\n559\n00:27:51.170 --> 00:27:55.550\non a standard server install based on\nthe built in licensing in Windows.\n\n560\n00:27:55.550 --> 00:27:58.920\nHowever, with data center edition, we\nhave a limited Hyper-V container rights.\n\n561\n00:27:58.920 --> 00:28:01.850\nSo licensing is an important component\nof this as well because we don't\n\n562\n00:28:01.850 --> 00:28:03.950\nkeep that in mind We're not aware of that.\n\n563\n00:28:03.950 --> 00:28:06.990\nWe make a bad choice in the sense\nthat we choose standard and\n\n564\n00:28:06.990 --> 00:28:09.060\nwe now want to go into\nthe cloud hosting business,\n\n565\n00:28:09.060 --> 00:28:12.500\nthat's not happening unless we now\nhave data centers running underneath,\n\n566\n00:28:12.500 --> 00:28:15.390\nwhich costs us more money and\nwe just have to be aware of that.\n\n567\n00:28:15.390 --> 00:28:20.180\nSo do think about that because we're\nbasing our licensing on physical cores,\n\n568\n00:28:20.180 --> 00:28:24.810\nat least today rather than processors,\nwhich means we have to understand\n\n569\n00:28:24.810 --> 00:28:27.790\nthat there are limitations for\nlicensing built in by the vendor.\n\n570\n00:28:27.790 --> 00:28:33.450\nAnd it's two for standard, unlimited for\ndata center on the HyperV container side.\n\n571\n00:28:33.450 --> 00:28:37.200\nWindows container support is gonna\nbe across the board enabled and\n\n572\n00:28:37.200 --> 00:28:39.810\nis essentially just until\nyou run out of room\n\n573\n00:28:39.810 --> 00:28:43.460\non the Windows OS because it's\njust a feature with Docker so\n\n574\n00:28:43.460 --> 00:28:46.520\nwe're not licensing that and\ncontrolling that separately.\n\n575\n00:28:46.520 --> 00:28:50.850\nSo just as we wrap up our conversation\nthere, just want to make sure\n\n576\n00:28:50.850 --> 00:28:53.700\nyou have that in mind as well,\nit is important to know that.\n\n577\n00:28:53.700 --> 00:28:56.350\nThat's, I'm guessing, most likely,\nprobably one of those little\n\n578\n00:28:56.350 --> 00:28:57.160\ntestable things,\n&gt;&gt; Yeah.\n\n579\n00:28:57.160 --> 00:29:01.460\n&gt;&gt; It'll be good to know, we love to see,\nor rather Microsoft loves to ask questions\n\n580\n00:29:01.460 --> 00:29:04.350\nabout those kinds of licensing features\nto make sure you're aware of them.\n\n581\n00:29:04.350 --> 00:29:07.810\nBecause remember, as an administrator\nworking in an environment,\n\n582\n00:29:07.810 --> 00:29:10.760\nyour business is relying on you\nto make the right choices and\n\n583\n00:29:10.760 --> 00:29:14.740\nrecommend the right approaches and\nMicrosoft wants to test to ensure you know\n\n584\n00:29:14.740 --> 00:29:18.340\nhow to license that appropriately at the\ndata center level if you're working for\n\n585\n00:29:18.340 --> 00:29:23.180\na CSP, a cloud service provider, or\ndoing on-prem, host a private cloud.\n\n586\n00:29:23.180 --> 00:29:26.180\nAnd you gotta spin up multiple\nHyper-V container instances.\n\n587\n00:29:26.180 --> 00:29:27.450\nYou need to make sure you\nmake the right choice.\n\n588\n00:29:27.450 --> 00:29:30.760\nSo they're gonna test for that,\nyou wanna make sure you're aware of that.\n\n589\n00:29:30.760 --> 00:29:32.930\n&gt;&gt; All right and great stuff as always.\n\n590\n00:29:32.930 --> 00:29:37.660\nTaking a look at containers both Windows\ncontainers, and Hyper-V containers, and\n\n591\n00:29:37.660 --> 00:29:39.530\nthen Docker Enterprise Edition.\n\n592\n00:29:39.530 --> 00:29:42.380\nSo we thank you for that, those great\ndemonstrations and explanations.\n\n593\n00:29:42.380 --> 00:29:44.470\nHope everybody out there\nenjoyed watching this one.\n\n594\n00:29:44.470 --> 00:29:47.940\nSigning off for ITProTV,\nI've been your host, Mike Roderick.\n\n595\n00:29:47.940 --> 00:29:49.000\n&gt;&gt; I am Adam Gordon.\n\n596\n00:29:49.000 --> 00:29:51.239\n&gt;&gt; And we will see you next time.\n\n597\n00:29:51.239 --> 00:29:57.572\n[MUSIC]\n\n598\n00:29:57.572 --> 00:30:01.237\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "237105721"
        }
      ],
      "title": "Nano Servers and Containers"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Cherokee and Adam begin discussing symmetric and asymmetric encryption. Adam demonstrates how encrypt a folder or file using EFS. He also shows how to designate an EFS RA, Recovery Agent, to have a secondary certificate holder for backup access.",
          "length": "1884",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-1-configure_disk_and_file_encryption-092217.00_31_08_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-1-configure_disk_and_file_encryption-092217.00_31_08_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-1-configure_disk_and_file_encryption-092217.00_31_08_24.Still001-sm.jpg",
          "title": "Configure disk and file encryption",
          "transcript": "WEBVTT\n\n1\n00:00:00.239 --> 00:00:06.568\nWelcome to ITProTV, I'm your host Don\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:06.568 --> 00:00:08.156\n[MUSIC]\n\n3\n00:00:08.156 --> 00:00:11.033\nYou're watching ITProTV.\n\n4\n00:00:11.033 --> 00:00:15.535\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n5\n00:00:15.535 --> 00:00:17.585\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.585 --> 00:00:21.205\nIn this episode, we'll be taking a look\nat how we can configure file and\n\n7\n00:00:21.205 --> 00:00:22.175\ndisk encryptions.\n\n8\n00:00:22.175 --> 00:00:25.745\nSpecifically, we'll be taking\na look at EFS within this show.\n\n9\n00:00:25.745 --> 00:00:29.972\nSo back in studios with us today we\nhave Microsoft expert Mr Adam Gordon.\n\n10\n00:00:29.972 --> 00:00:30.842\nHow's it going, Adam?\n\n11\n00:00:30.842 --> 00:00:31.922\n&gt;&gt; Going well, going good.\n\n12\n00:00:31.922 --> 00:00:35.002\nHopefully everybody is copacetic,\nas we say.\n\n13\n00:00:35.002 --> 00:00:37.382\nWe are gonna talk about\nEFS as Cherokee mentioned.\n\n14\n00:00:37.382 --> 00:00:39.876\nSo EFS, what the heck is it?\n\n15\n00:00:39.876 --> 00:00:42.176\nCrypting file system in case\nyou're not familiar with it.\n\n16\n00:00:42.176 --> 00:00:45.766\nWe are essentially providing additional\nlayers of protection associated with\n\n17\n00:00:45.766 --> 00:00:49.231\nhow we provide confidentiality\nin this case to our data.\n\n18\n00:00:49.231 --> 00:00:52.373\nEFS has been around since Windows 2000.\n\n19\n00:00:52.373 --> 00:00:54.753\nThis is not new technology by any means.\n\n20\n00:00:54.753 --> 00:00:57.573\nWe'll talk about some newer technology\n\n21\n00:00:57.573 --> 00:00:59.503\nin a couple of upcoming\nepisodes around this topic.\n\n22\n00:00:59.503 --> 00:01:02.173\nA really cool little technology\ncalled BitLocker you may or\n\n23\n00:01:02.173 --> 00:01:03.633\nmay not have heard of before.\n\n24\n00:01:03.633 --> 00:01:05.846\nA whole disk or whole volume encryption.\n\n25\n00:01:05.846 --> 00:01:08.866\nThat's not new either in the sense\nthat it has also been around for\n\n26\n00:01:08.866 --> 00:01:10.766\nseveral generations of VLS.\n\n27\n00:01:10.766 --> 00:01:13.326\nBut not as far as back as Windows 2000.\n\n28\n00:01:13.326 --> 00:01:17.466\nBack in the day, we really only\nhad initially EFS to rely on to\n\n29\n00:01:17.466 --> 00:01:19.636\nprovide this kinda protection and\ncapability.\n\n30\n00:01:19.636 --> 00:01:23.076\nBitLocker was a pipe dream in the sense\nwe didn't have the ability to\n\n31\n00:01:23.076 --> 00:01:27.916\nuse whole disk or whole volume encryption\nnatively within Microsoft's OS itself.\n\n32\n00:01:27.916 --> 00:01:30.500\nWe did it but\njust not built right into the OS.\n\n33\n00:01:30.500 --> 00:01:34.980\nEFS would allow us to encrypt files and\nor groups of files but\n\n34\n00:01:34.980 --> 00:01:37.340\nnot the entire hard drive or volume.\n\n35\n00:01:37.340 --> 00:01:40.390\nSo this is something that\nprogressively changes over time.\n\n36\n00:01:40.390 --> 00:01:42.940\nSo we're gonna go backwards\na little bit before we go forwards.\n\n37\n00:01:42.940 --> 00:01:46.061\nTalk about where we've come from,\ntalk about EFS how it works.\n\n38\n00:01:46.061 --> 00:01:47.642\nCuz it is still prevalent,\n\n39\n00:01:47.642 --> 00:01:52.332\nstill is used on a regular basis when you\nwanna go in and encrypt one or more files.\n\n40\n00:01:52.332 --> 00:01:57.130\nEFS may very well be a very specific,\nand useable, way to do this.\n\n41\n00:01:57.130 --> 00:02:01.905\nWe do have to talk about the concept\nof how we apply protections.\n\n42\n00:02:01.905 --> 00:02:03.940\nAnd we've talked before about encryption,\n\n43\n00:02:03.940 --> 00:02:07.640\nwe've talked before about\nthe importance of certificates and\n\n44\n00:02:07.640 --> 00:02:11.810\npresentation of a public key as part\nof the key pair, by using certificates.\n\n45\n00:02:11.810 --> 00:02:14.295\nWe've talked about public/private\nkey pair encryption.\n\n46\n00:02:14.295 --> 00:02:15.650\nTalked about single key encryption.\n\n47\n00:02:15.650 --> 00:02:18.035\nBoth symmetric and asymmetric encryption.\n\n48\n00:02:18.035 --> 00:02:21.714\nHopefully, these ideas are not brand new\nto you at this point in time as you're\n\n49\n00:02:21.714 --> 00:02:23.298\ngoing through episodes with us.\n\n50\n00:02:23.298 --> 00:02:28.050\nAround the theme, the thought process\nof securing Windows Server 2016.\n\n51\n00:02:28.050 --> 00:02:30.500\nBut in case you haven't heard me talk\nabout any of these things before,\n\n52\n00:02:30.500 --> 00:02:33.330\nwell we're gonna talk about\nthem again here right now.\n\n53\n00:02:33.330 --> 00:02:35.770\nCherokee volunteered to\nlead the charge here.\n\n54\n00:02:35.770 --> 00:02:37.350\nI'm gonna go sit down actually.\n\n55\n00:02:37.350 --> 00:02:40.270\n&gt;&gt; Okay.\n&gt;&gt; And take a load off my jellied\n\n56\n00:02:40.270 --> 00:02:40.945\nfeet here.\n\n57\n00:02:40.945 --> 00:02:43.740\n&gt;&gt; [LAUGH]\n&gt;&gt; Get some of the foot mud off my foot as\n\n58\n00:02:43.740 --> 00:02:46.360\nyou were suggesting, you call it foot mud,\nI've never heard that before.\n\n59\n00:02:46.360 --> 00:02:47.240\n&gt;&gt; Foot mud, yeah.\n\n60\n00:02:47.240 --> 00:02:50.390\nIf any of you have ever had those jelly\nshoes, you know what I'm talking about.\n\n61\n00:02:50.390 --> 00:02:50.940\n&gt;&gt; Never heard of that.\n\n62\n00:02:50.940 --> 00:02:54.935\n&gt;&gt; It's like dirt and foot sweat\nmixed together and it's really gross.\n\n63\n00:02:54.935 --> 00:02:57.225\n&gt;&gt; It was about as gross as the first\ntime you explained it as it is right now\n\n64\n00:02:57.225 --> 00:02:58.035\nthe second time.\n\n65\n00:02:58.035 --> 00:03:01.470\nSo I'm gonna actually rely\non you to help me out here.\n\n66\n00:03:01.470 --> 00:03:02.775\n&gt;&gt; Okay.\n&gt;&gt; And hopefully you are feeling up\n\n67\n00:03:02.775 --> 00:03:03.294\nto the task.\n\n68\n00:03:03.294 --> 00:03:08.258\nSo we have in the past talked about those\nsymmetric single key private key only and\n\n69\n00:03:08.258 --> 00:03:11.989\nasymmetric public private dual\nkey encryption solutions.\n\n70\n00:03:11.989 --> 00:03:14.855\nAnd in Windows 10 slash server 2016,\n\n71\n00:03:14.855 --> 00:03:18.500\nwe actually through EFS apply and\nuse both techniques.\n\n72\n00:03:18.500 --> 00:03:20.350\nSo we're gonna use both techniques.\n\n73\n00:03:20.350 --> 00:03:23.770\nSo I thought it would be helpful just\nto remind everybody about them and\n\n74\n00:03:23.770 --> 00:03:24.530\nkinda how they work.\n\n75\n00:03:24.530 --> 00:03:27.970\nSo when we think about EFS, we use\na combination of two encryption methods,\n\n76\n00:03:27.970 --> 00:03:29.300\nas I was suggesting.\n\n77\n00:03:29.300 --> 00:03:33.460\nWindows 10, which is our end point client,\nhopefully these days more so\n\n78\n00:03:33.460 --> 00:03:37.800\nthan anything else, is gonna apply these\nsequentially, meaning in a specific order.\n\n79\n00:03:37.800 --> 00:03:40.510\nSo let's talk about how that works and\nkinda what that looks like.\n\n80\n00:03:40.510 --> 00:03:43.700\nSo if we had to guess Cherokee,\nlet's start by just making sure we're\n\n81\n00:03:43.700 --> 00:03:46.320\ncomfortable with what the sequence or\nsequential order looks like.\n\n82\n00:03:46.320 --> 00:03:50.080\nIf we had to guess which of the two\nmethodologies do we apply first?\n\n83\n00:03:50.080 --> 00:03:54.540\nAre we applying symmetric encryption\nfirst, or asymmetric encryption first?\n\n84\n00:03:54.540 --> 00:03:56.360\nWhich one do you think\nwe would start out with?\n\n85\n00:03:56.360 --> 00:03:59.510\n&gt;&gt; Normally when we talk about\nutilizing both of those methods,\n\n86\n00:03:59.510 --> 00:04:03.090\nwe're gonna start with symmetric, and\nthen use asymmetric almost like a wrapper.\n\n87\n00:04:06.229 --> 00:04:08.400\n[LAUGH] Whoo.\n\n88\n00:04:08.400 --> 00:04:10.500\n&gt;&gt; Outstanding, I don't even need to,\nI'm gonna go sit down.\n\n89\n00:04:10.500 --> 00:04:11.090\nI do not need to be here.\n\n90\n00:04:11.090 --> 00:04:12.500\n&gt;&gt; [LAUGH]\n&gt;&gt; I could not have done that\n\n91\n00:04:12.500 --> 00:04:13.160\nbetter myself.\n\n92\n00:04:13.160 --> 00:04:15.820\nThat was actually really cool and\n100% correct.\n\n93\n00:04:15.820 --> 00:04:17.550\nAnd the reason we wanna\nrun you through and\n\n94\n00:04:17.550 --> 00:04:21.340\nremind you of this thought process is for\nthe exact reason Cherokee just described.\n\n95\n00:04:21.340 --> 00:04:23.325\nWhich is when we think\nabout how to do this,\n\n96\n00:04:23.325 --> 00:04:27.990\nwanna think logically about the order or\nthe sequence you wanna apply this in.\n\n97\n00:04:27.990 --> 00:04:30.762\nIf we are not applying\nsymmetric encryption first,\n\n98\n00:04:30.762 --> 00:04:34.108\nwhich would be the private only,\nsingle key only encryption.\n\n99\n00:04:34.108 --> 00:04:38.690\nWe're not doing that first to encrypt\nthe file then what we're gonna have is\n\n100\n00:04:38.690 --> 00:04:39.416\na problem.\n\n101\n00:04:39.416 --> 00:04:43.213\nBecause if we try to use symmetric\nencryption after asymmetric we're stuck\n\n102\n00:04:43.213 --> 00:04:47.260\nwith our private key hanging out with no\nway to secure that, which is a big issue.\n\n103\n00:04:47.260 --> 00:04:48.850\nShould have brought the keys from the set.\n\n104\n00:04:48.850 --> 00:04:51.432\nWhat were we thinking?\n&gt;&gt; [LAUGH] We never bring the keys.\n\n105\n00:04:51.432 --> 00:04:52.330\n&gt;&gt; We should remember that.\nWe should have that.\n\n106\n00:04:52.330 --> 00:04:54.070\nWe don't have the keys, right?\n\n107\n00:04:54.070 --> 00:04:58.330\nAll right so when we do this if we\ndo symmetric encryption first and\n\n108\n00:04:58.330 --> 00:05:01.890\nwe use symmetric private key\nonly single key encryption.\n\n109\n00:05:01.890 --> 00:05:03.470\nWe're going to make due here\n&gt;&gt; Man.\n\n110\n00:05:03.470 --> 00:05:04.430\n&gt;&gt; With a stand in.\n\n111\n00:05:04.430 --> 00:05:09.420\nAll right so if this is our private,\nsingle key only, symmetric key.\n\n112\n00:05:09.420 --> 00:05:10.070\nAnd I use this.\n\n113\n00:05:10.070 --> 00:05:12.190\nCan you give me a piece of\npaper while we're talking.\n\n114\n00:05:12.190 --> 00:05:12.720\n&gt;&gt; For our asymmetric?\n\n115\n00:05:12.720 --> 00:05:13.660\n&gt;&gt; Just give me a scrap piece of paper.\n\n116\n00:05:13.660 --> 00:05:14.723\nYeah.\nJust, I don't-.\n\n117\n00:05:14.723 --> 00:05:15.411\n&gt;&gt; There you go.\n\n118\n00:05:15.411 --> 00:05:15.962\n&gt;&gt; Awesome.\n\n119\n00:05:15.962 --> 00:05:21.430\nAll right so,\nif I apply my key to my file and\n\n120\n00:05:21.430 --> 00:05:24.540\nin so doing I encrypt.\n\n121\n00:05:24.540 --> 00:05:26.679\nDo this without getting a paper cut or\ndropping the key.\n\n122\n00:05:26.679 --> 00:05:27.405\n&gt;&gt; [LAUGH].\n\n123\n00:05:27.405 --> 00:05:30.046\n&gt;&gt; All right and then the end\nof the episode his arm fell off,\n\n124\n00:05:30.046 --> 00:05:32.258\nbecause you got a paper cut and\nthat was the end.\n\n125\n00:05:32.258 --> 00:05:36.580\nAll right so if I apply my\nencryption to my file, right?\n\n126\n00:05:36.580 --> 00:05:40.747\nUsing my symmetric only private\nsingle key and I encrypt the file.\n\n127\n00:05:40.747 --> 00:05:42.007\nThis is good for a couple of reasons,\n\n128\n00:05:42.007 --> 00:05:46.057\nnumber one, symmetric encryption\nis very fast for bulk encryption.\n\n129\n00:05:46.057 --> 00:05:48.757\nLarge volumes of data,\nit's optimized to do this.\n\n130\n00:05:48.757 --> 00:05:51.227\nAsymmetric encryption,\nreally slow by comparison.\n\n131\n00:05:51.227 --> 00:05:56.168\nNot real good at bulk encryption but\ngood at encrypting very small things.\n\n132\n00:05:56.168 --> 00:06:00.118\nHopefully, I don't need to explain to you\nthat this is much smaller than this and\n\n133\n00:06:00.118 --> 00:06:02.528\nperception wise hopefully\nyou can see that.\n\n134\n00:06:02.528 --> 00:06:06.188\nAnd so if we use each to represent\nlogically the thought process,\n\n135\n00:06:06.188 --> 00:06:09.378\nif I'm going to use my single\nkey to bulk encrypt my data.\n\n136\n00:06:09.378 --> 00:06:14.399\nAnd now I have a data\npackage that has been\n\n137\n00:06:14.399 --> 00:06:19.576\nencrypted and the key has to look at that.\n\n138\n00:06:19.576 --> 00:06:20.547\nOn the fly, awesome.\n\n139\n00:06:20.547 --> 00:06:22.960\n&gt;&gt; [LAUGH]\n&gt;&gt; Home engineering.\n\n140\n00:06:22.960 --> 00:06:23.530\n&gt;&gt; Improvising.\n\n141\n00:06:23.530 --> 00:06:28.340\n&gt;&gt; So now if I've encrypted the package\nwith the key and I can now transmit.\n\n142\n00:06:28.340 --> 00:06:29.830\n&gt;&gt; Whew.\n\n143\n00:06:29.830 --> 00:06:33.400\n&gt;&gt; And that boys and girls is how\nyou have a window based attack when\n\n144\n00:06:33.400 --> 00:06:34.621\nyou are dealing with\nsymmetrical encryption.\n\n145\n00:06:34.621 --> 00:06:35.250\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n146\n00:06:35.250 --> 00:06:37.900\n&gt;&gt; All right, so if I do this and\n\n147\n00:06:37.900 --> 00:06:40.490\nI'm now gonna transport this,\nthis is a problem, right?\n\n148\n00:06:40.490 --> 00:06:43.610\nThis is a problem with symmetric\nencryption because if I transmit\n\n149\n00:06:43.610 --> 00:06:46.860\nthe package, the data that's\nencrypted along with the key.\n\n150\n00:06:46.860 --> 00:06:49.580\nSomebody could come along and\nsteal the key and\n\n151\n00:06:49.580 --> 00:06:53.110\nthen of course they\ncould unencrypted data.\n\n152\n00:06:53.110 --> 00:06:54.790\n&gt;&gt; Yep, yep, I see everything there.\n\n153\n00:06:54.790 --> 00:06:55.940\n&gt;&gt; So that would be a problem, right?\n\n154\n00:06:55.940 --> 00:06:56.630\n&gt;&gt; That would be a problem.\n\n155\n00:06:56.630 --> 00:06:58.210\n&gt;&gt; So this is the thing we\nwant to defend against.\n\n156\n00:06:58.210 --> 00:07:01.450\nSo the problem becomes that we\nsymmetrically encrypt, which we are doing.\n\n157\n00:07:01.450 --> 00:07:05.000\nWe symmetrically encrypt the data,\nwe have to now figure out how to secure.\n\n158\n00:07:05.000 --> 00:07:06.320\n&gt;&gt; And I'm trying to figure that out too.\n\n159\n00:07:06.320 --> 00:07:07.170\nWhat are we going to put it in?\n\n160\n00:07:07.170 --> 00:07:12.270\nI've got water in here, so\n[LAUGH] we don't really have much else.\n\n161\n00:07:13.350 --> 00:07:14.190\n&gt;&gt; I don't know.\n\n162\n00:07:14.190 --> 00:07:15.195\nWe'll come up with something.\n\n163\n00:07:15.195 --> 00:07:15.880\n&gt;&gt; [LAUGH].\n\n164\n00:07:15.880 --> 00:07:17.470\n&gt;&gt; Give me the remote.\n\n165\n00:07:17.470 --> 00:07:18.130\n&gt;&gt; The remote?\n\n166\n00:07:18.130 --> 00:07:19.950\nOkay.\nThe remote.\n\n167\n00:07:19.950 --> 00:07:22.640\n&gt;&gt; On the fly,\nthis is real time at it's best.\n\n168\n00:07:22.640 --> 00:07:25.029\nRight, so we're going to use this,\nwe'll use this in a second.\n\n169\n00:07:25.029 --> 00:07:30.350\nSo, the problem becomes now, how do I\nseparate the private key from the data and\n\n170\n00:07:30.350 --> 00:07:36.350\ntransmit them securely without violating\nthe security confidentiality of the key?\n\n171\n00:07:36.350 --> 00:07:38.406\nSo this is where the asymmetric\nsystem comes in,\n\n172\n00:07:38.406 --> 00:07:40.071\nthis is why we apply it in a second path.\n\n173\n00:07:40.071 --> 00:07:44.910\nBecause we wanna quickly encrypt the data,\nsecure the data with a private key.\n\n174\n00:07:44.910 --> 00:07:48.350\nBut now we have to be able to\ntransmit the private key securely,\n\n175\n00:07:48.350 --> 00:07:49.870\nalong with the encrypted data.\n\n176\n00:07:49.870 --> 00:07:53.196\nAnd make sure that nobody is able\nto steal them as we just saw.\n\n177\n00:07:53.196 --> 00:07:56.019\nAnd so what we're gonna do\nis we're gonna go ahead and\n\n178\n00:07:56.019 --> 00:07:59.176\ntalk now about how we bring\nthat asymmetric encryption in.\n\n179\n00:07:59.176 --> 00:08:01.633\nAnd so when we bring\nthe asymmetric encryption in,\n\n180\n00:08:01.633 --> 00:08:04.218\nwhat we're gonna do is use\na public private key pair.\n\n181\n00:08:04.218 --> 00:08:07.589\nAnd the public private key pair,\nawesome choice, thank you very much.\n\n182\n00:08:07.589 --> 00:08:10.905\nThis is why I love presenting with you\nbecause no challenge is too great.\n\n183\n00:08:10.905 --> 00:08:11.790\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n184\n00:08:11.790 --> 00:08:14.990\nso what we're gonna do now is we're gonna,\nwe need essentially a wrapper,\n\n185\n00:08:14.990 --> 00:08:17.900\nright, another container we're\ngonna be able to encrypt with.\n\n186\n00:08:17.900 --> 00:08:20.690\nAnd lo and behold, Look at that.\n\n187\n00:08:20.690 --> 00:08:21.380\nGot another one right here.\n\n188\n00:08:21.380 --> 00:08:23.740\nIt's even labeled,\nSecuring Server 16, right there.\n\n189\n00:08:23.740 --> 00:08:28.690\nAll right so, I'm gonna put all of this,\nright, right inside here.\n\n190\n00:08:28.690 --> 00:08:32.850\nI'm gonna secure the key and the file.\n\n191\n00:08:32.850 --> 00:08:34.120\nAll of that is going in here.\n\n192\n00:08:34.120 --> 00:08:36.580\nIt's like a magician when\nthey do the water trick.\n\n193\n00:08:36.580 --> 00:08:38.360\nI'm going to put all this in here.\n\n194\n00:08:38.360 --> 00:08:40.890\n&gt;&gt; I have to verify that you're\nactually putting that in there, and\n\n195\n00:08:40.890 --> 00:08:42.610\nyou're not just making this stuff up.\n\n196\n00:08:42.610 --> 00:08:43.240\n&gt;&gt; It's all there.\n\n197\n00:08:43.240 --> 00:08:44.190\nNobody watch.\n\n198\n00:08:44.190 --> 00:08:45.080\nDon't watch.\nNobody look.\n\n199\n00:08:45.080 --> 00:08:46.700\nYou didn't hear that.\n\n200\n00:08:46.700 --> 00:08:48.320\nSo I put it all in here right?\n\n201\n00:08:48.320 --> 00:08:50.090\nAnd you can see it's all still in there,\nright?\n\n202\n00:08:50.090 --> 00:08:50.610\n&gt;&gt; Sure. [LAUGH] &gt;&gt; Okay.\nRight.\n\n203\n00:08:50.610 --> 00:08:51.660\nSo I'm laying it on the floor behind me.\n\n204\n00:08:51.660 --> 00:08:52.460\nIt's all right here.\n\n205\n00:08:52.460 --> 00:08:55.265\nAnd so now, right,\nI'll have to pick it up when we're done.\n\n206\n00:08:55.265 --> 00:08:58.820\n[LAUGH] So now we've put everything\ninside this asymmetric wrapper,\n\n207\n00:08:58.820 --> 00:09:03.560\nbut the problem is We have to\ndefine the asymmetric wrapper.\n\n208\n00:09:03.560 --> 00:09:08.610\nWe have to essentially understand,\nright, that the asymmetric container\n\n209\n00:09:08.610 --> 00:09:15.700\nhas both a private and\na public part to it, right?\n\n210\n00:09:15.700 --> 00:09:20.600\nI know it's kinda hard to see, but Public,\nprivate and if we see this is a keeper,\n\n211\n00:09:20.600 --> 00:09:22.160\nwe split it down the middle.\n\n212\n00:09:22.160 --> 00:09:23.830\nAs I break the microphone.\n\n213\n00:09:23.830 --> 00:09:25.230\nAs we split it down the middle,\n\n214\n00:09:25.230 --> 00:09:28.810\nI'm not gonna tear the folder in half\ncuz I know you need it for your notes.\n\n215\n00:09:28.810 --> 00:09:32.680\nBut as we divide it down the middle,\nif I now am using\n\n216\n00:09:32.680 --> 00:09:37.350\nthis container to secure all my data\nthat was symmetrically encrypted.\n\n217\n00:09:37.350 --> 00:09:42.100\nAnd I put the key in there,\nas well, and I send this off.\n\n218\n00:09:42.100 --> 00:09:46.520\nThen what I can do is I can keep\none of the keys for myself.\n\n219\n00:09:46.520 --> 00:09:47.590\n&gt;&gt; You can rip it.\n\n220\n00:09:47.590 --> 00:09:49.150\n&gt;&gt; I can keep one of the keys for myself.\n\n221\n00:09:49.150 --> 00:09:50.330\nNo we don't want to do that.\n\n222\n00:09:50.330 --> 00:09:52.420\nI keep one of the keys for myself, right?\n\n223\n00:09:52.420 --> 00:09:53.790\nWhich is the private key.\n\n224\n00:09:53.790 --> 00:09:57.490\nI can use one of the keys to be able to\ngive to everybody, the public key, and\n\n225\n00:09:57.490 --> 00:10:00.090\nnow I've got this ability\nto control this exchange.\n\n226\n00:10:00.090 --> 00:10:05.230\nAnd so by applying asymmetric encryption\non top of the symmetrically Encrypted key\n\n227\n00:10:05.230 --> 00:10:10.290\nto protect the data, and now able to\nsecurely transmit my symmetric key without\n\n228\n00:10:10.290 --> 00:10:14.060\nhaving to worry about the confidentiality\nbeing breached the way we had before.\n\n229\n00:10:14.060 --> 00:10:18.240\nAnd so this is why we apply asymmetric\nencryption In a second round.\n\n230\n00:10:18.240 --> 00:10:21.110\nSequentially after symmetric\ndata encryption is applied.\n\n231\n00:10:21.110 --> 00:10:23.880\nThe public key encryption\nprotects the symmetric key.\n\n232\n00:10:23.880 --> 00:10:27.180\nThe pen in my example that I was\nusing to encrypt the data and\n\n233\n00:10:27.180 --> 00:10:31.030\ntakes away the burden and the liability\nof using only symmetric key encryption.\n\n234\n00:10:31.030 --> 00:10:32.210\nWhich is what do I do with the key?\n\n235\n00:10:32.210 --> 00:10:34.550\nHow do I securely and\nsafely transmit it, right?\n\n236\n00:10:34.550 --> 00:10:36.140\nThat's the big challenge.\n\n237\n00:10:36.140 --> 00:10:41.240\nAnd so EFS applies both these technologies\nor both these approaches sequentially.\n\n238\n00:10:41.240 --> 00:10:45.260\nSymmetric first, asymmetric second,\nsymmetrically encrypted data,\n\n239\n00:10:45.260 --> 00:10:49.470\nasymmetrically protect\nthe symmetric key and as a result,\n\n240\n00:10:49.470 --> 00:10:53.320\nsafeguard transmit store that key\nbecause we may do various things.\n\n241\n00:10:53.320 --> 00:10:54.290\nWe may store it traditionally,\n\n242\n00:10:54.290 --> 00:10:57.820\nstore it locally on the machine\nwhere the data is being encrypted.\n\n243\n00:10:57.820 --> 00:11:00.185\nWe may export that so\nwe have a recovery capability,\n\n244\n00:11:00.185 --> 00:11:02.834\nwe'll talk about recoverability and\nthe use of this key.\n\n245\n00:11:02.834 --> 00:11:07.028\nSo we can have essentially a safeguard\nmechanism, an archived or somehow ESCRO\n\n246\n00:11:07.028 --> 00:11:10.717\nkey that could be used in a time of\ntrouble to be able to pull the data back\n\n247\n00:11:10.717 --> 00:11:15.037\nand unencrypt it, if necessary, if the\noriginator, the owner is unavailable or\n\n248\n00:11:15.037 --> 00:11:18.740\nthat key if unavailable,\nhowever you want to think about that.\n\n249\n00:11:18.740 --> 00:11:19.950\nAnd so we'll talk about that.\n\n250\n00:11:19.950 --> 00:11:22.670\nBut the idea's that we\napply these protections\n\n251\n00:11:22.670 --> 00:11:25.210\nin order to ensure that we\ncan achieve this end result.\n\n252\n00:11:25.210 --> 00:11:29.120\nSo wanna make sure that we know that\nwhen we encrypt a file with EFS,\n\n253\n00:11:29.120 --> 00:11:33.070\nonly the authorized users that are\navailable or on the access control list\n\n254\n00:11:33.070 --> 00:11:36.640\nthat have access to it, with access to\nthe key will be able to see the file.\n\n255\n00:11:36.640 --> 00:11:38.880\nOtherwise that file become unavailable.\n\n256\n00:11:38.880 --> 00:11:41.500\nAnd it's actually not\nvery hard to do this.\n\n257\n00:11:41.500 --> 00:11:42.620\nLet's actually take a look.\n\n258\n00:11:42.620 --> 00:11:46.250\nGive me half a second to adjust\nsomething here real quick.\n\n259\n00:11:46.250 --> 00:11:49.210\nBefore I do, so I just have all\nthese different consoles open.\n\n260\n00:11:49.210 --> 00:11:51.950\nLet me just get to\nthe appropriate machine.\n\n261\n00:11:51.950 --> 00:11:52.720\nThere we go, right there.\n\n262\n00:11:52.720 --> 00:11:55.960\nAll right, so if you wanna just\njoin me here in Windows 10.\n\n263\n00:11:55.960 --> 00:12:00.670\nIf I go in,\nlet's just open up our File Explorer.\n\n264\n00:12:00.670 --> 00:12:07.210\nLet's go into our PC here, just go to\nthe local Hard drive, let's go in.\n\n265\n00:12:07.210 --> 00:12:09.070\nLet's just create a folder here.\n\n266\n00:12:09.070 --> 00:12:11.080\nNow let's call it new folder.\n\n267\n00:12:11.080 --> 00:12:15.450\nAnd inside, let's just go ahead and\nlet's create a document really quickly.\n\n268\n00:12:15.450 --> 00:12:19.470\nA little text document,\nnothing too exciting, right?\n\n269\n00:12:19.470 --> 00:12:22.500\nRight.\nSo if I wanna go ahead, right click and\n\n270\n00:12:22.500 --> 00:12:24.070\ngo to properties.\n\n271\n00:12:24.070 --> 00:12:26.360\nOf this document right here.\n\n272\n00:12:26.360 --> 00:12:29.800\nAnd if I go to security,\nyou can see that I have an axis control.\n\n273\n00:12:29.800 --> 00:12:32.480\nThis should not be news\nto anybody hopefully but\n\n274\n00:12:32.480 --> 00:12:35.250\nthis point in time in our conversations\nyou've seen this go in and\n\n275\n00:12:35.250 --> 00:12:38.360\nout of files, look at properties, and\nexplain we have an access control list,\n\n276\n00:12:38.360 --> 00:12:41.920\naccess control entries and\nwe have individuals that are listed here.\n\n277\n00:12:41.920 --> 00:12:43.500\nOur groups, authenticated users for\n\n278\n00:12:43.500 --> 00:12:47.470\ninstance, has a certain level of control\nand we can add or remove here as needed.\n\n279\n00:12:47.470 --> 00:12:51.020\nAnd we can go into general and\nunderneath advanced right here.\n\n280\n00:12:52.690 --> 00:12:55.870\nJust move this over so we can see\nthe attributes while we're talking.\n\n281\n00:12:55.870 --> 00:12:59.060\nWe can see right down here compress or\nencrypt.\n\n282\n00:12:59.060 --> 00:13:01.670\nAnd I can compress and/or encrypt.\n\n283\n00:13:01.670 --> 00:13:05.195\nSo let's just check off encrypt\ncontents to secure the data.\n\n284\n00:13:05.195 --> 00:13:07.985\nClick OK, let's apply that.\n\n285\n00:13:07.985 --> 00:13:10.745\nAnd then you'll see here you're about to\n\n286\n00:13:10.745 --> 00:13:13.095\nencrypt a file that is in\na non-encrypted folder.\n\n287\n00:13:13.095 --> 00:13:14.645\nSo I haven't encrypted the folder.\n\n288\n00:13:14.645 --> 00:13:17.475\nI'm encrypting only a document\nwithin the folder, which I can do.\n\n289\n00:13:17.475 --> 00:13:20.925\nI can encrypt it at the folder level or\nI can encrypt a file within the folder.\n\n290\n00:13:20.925 --> 00:13:23.915\nIt's up to me to decide or\nboth all right, if I wanna do that.\n\n291\n00:13:23.915 --> 00:13:25.855\nSo it says if the file was modified,\n\n292\n00:13:25.855 --> 00:13:29.640\nthe editing software might store\na temporary unencrypted copy of the file.\n\n293\n00:13:29.640 --> 00:13:32.720\nGood to know that because that could\nlead to exposure and compromise.\n\n294\n00:13:32.720 --> 00:13:37.640\nTemporary data and the exploitation of\ntemporary data in memory caches is a big\n\n295\n00:13:37.640 --> 00:13:41.360\nproblem with regards to these kinds of\nthings and we do have to be aware of that.\n\n296\n00:13:41.360 --> 00:13:44.130\nIt's unlikely, but we do have to be\naware of the fact that it could happen.\n\n297\n00:13:44.130 --> 00:13:45.590\nTo ensure that files...\n\n298\n00:13:45.590 --> 00:13:48.880\nCreated in the peri folder and\nthat they are encrypted it'ssaying hey,\n\n299\n00:13:48.880 --> 00:13:52.870\nby the way, probably want to encrypt the\nfolder and then have that inherent down\n\n300\n00:13:52.870 --> 00:13:56.320\nthen that way, even done in the folder,\nit's automatically gonna be protected.\n\n301\n00:13:56.320 --> 00:13:57.930\nSo we're being warned about that.\n\n302\n00:13:57.930 --> 00:13:58.610\nThat's up to us.\n\n303\n00:13:58.610 --> 00:14:00.120\nI'm not worried about that right now.\n\n304\n00:14:00.120 --> 00:14:02.460\nJust worried about pointing it\nout to give you a sense of that.\n\n305\n00:14:02.460 --> 00:14:04.900\nAll right so then encrypt the file and\nits parent folder.\n\n306\n00:14:04.900 --> 00:14:08.590\nIt will, essentially do that for\nme automatically, encrypt only the file.\n\n307\n00:14:08.590 --> 00:14:10.750\nIt's up to me.\nAll right so I'll do both.\n\n308\n00:14:10.750 --> 00:14:11.430\nSo let's click OK.\n\n309\n00:14:11.430 --> 00:14:17.044\nAll right so now let's come back out here.\n\n310\n00:14:18.403 --> 00:14:22.746\nAll right, so\nnow the new folder right here as well as\n\n311\n00:14:22.746 --> 00:14:26.220\nanything in the new folder is encrypted.\n\n312\n00:14:26.220 --> 00:14:27.960\nI know it's kind of hard to see.\n\n313\n00:14:27.960 --> 00:14:29.190\nLet me just create a new one.\n\n314\n00:14:30.190 --> 00:14:32.065\nSee if you can tell the difference here.\n\n315\n00:14:32.065 --> 00:14:33.805\nAlright, so I just created a new one.\n\n316\n00:14:33.805 --> 00:14:37.095\nSo we can see, so even if we go full\nscreen we probably can't really tell, but\n\n317\n00:14:37.095 --> 00:14:41.705\nthere is a little yellow icon in the upper\nright hand corner of the document.\n\n318\n00:14:41.705 --> 00:14:45.340\nIt's a little padlock that shows\nus that the document is encrypted.\n\n319\n00:14:45.340 --> 00:14:47.680\nOr at least that's what\nthe icon represents.\n\n320\n00:14:47.680 --> 00:14:52.240\nAnd if I come over here and go to\na different folder, whatever it is, and\n\n321\n00:14:52.240 --> 00:14:53.310\nI right click.\n\n322\n00:14:53.310 --> 00:14:55.770\nChoose new text document.\n\n323\n00:14:55.770 --> 00:14:57.850\nAnd I create a text document\nin unencrypted form Folder.\n\n324\n00:14:57.850 --> 00:15:03.050\nThat icon that little yellow lock,\nor padlock, or whatever\n\n325\n00:15:03.050 --> 00:15:07.560\nthe icon represents is not present because\nthe file is not encrypted natively.\n\n326\n00:15:07.560 --> 00:15:10.520\nSo we can see a visual\nrepresentation of encryption.\n\n327\n00:15:10.520 --> 00:15:14.330\nYou know we used to be able to see\ngreen and blue color codings remember?\n\n328\n00:15:14.330 --> 00:15:15.350\n&gt;&gt; Yeah the text change.\n\n329\n00:15:15.350 --> 00:15:18.760\n&gt;&gt; Right so actually for\nyour encrypted versus compressed, right?\n\n330\n00:15:18.760 --> 00:15:20.150\nWe used to have different colors.\n\n331\n00:15:20.150 --> 00:15:24.840\nSo you can see that I as the owner\nof this file can open it up.\n\n332\n00:15:24.840 --> 00:15:25.800\nI can make a change to it.\n\n333\n00:15:25.800 --> 00:15:30.090\nThis is an encrypted file.\n\n334\n00:15:30.090 --> 00:15:32.380\n&gt;&gt; So\nit doesn't keep it green afterwards now?\n\n335\n00:15:32.380 --> 00:15:34.867\nDid they change that?\n&gt;&gt; Yes.\n\n336\n00:15:34.867 --> 00:15:35.447\n&gt;&gt; Okay.\n\n337\n00:15:37.488 --> 00:15:38.103\n&gt;&gt; Save.\n\n338\n00:15:38.103 --> 00:15:42.610\n&gt;&gt; This is like The second part\n\n339\n00:15:43.950 --> 00:15:47.042\nof your magic trick, right?\n\n340\n00:15:47.042 --> 00:15:47.555\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH]\n\n341\n00:15:47.555 --> 00:15:48.775\n&gt;&gt; It's gonna appear magically on your\n\n342\n00:15:48.775 --> 00:15:49.595\nscreen.\n&gt;&gt; [LAUGH]\n\n343\n00:15:49.595 --> 00:15:50.375\n&gt;&gt; All right so I want\n\n344\n00:15:50.375 --> 00:15:53.985\nto have you see that I saved a change to\nan edited because I am the owner, right?\n\n345\n00:15:53.985 --> 00:15:55.337\nI essentially was creator owner.\n\n346\n00:15:55.337 --> 00:15:58.015\nI automatically have rights to this\n\n347\n00:15:58.015 --> 00:16:02.130\nfile which is what we would expect but\nif we try to go in.\n\n348\n00:16:02.130 --> 00:16:03.521\nThen we try to open this file.\n\n349\n00:16:03.521 --> 00:16:05.077\nYou can probably see the padlock a little\n\n350\n00:16:05.077 --> 00:16:07.275\nclearer there.\nThat's the icon I was talking about that\n\n351\n00:16:07.275 --> 00:16:08.850\nindicates it's encrypted right there.\n\n352\n00:16:08.850 --> 00:16:10.273\nRight, you can see it when\nyou go to the properties.\n\n353\n00:16:10.273 --> 00:16:11.670\nYou can actually see it right there.\n\n354\n00:16:11.670 --> 00:16:17.020\nBut because I am the Creator Owner,\nI have the ability now.\n\n355\n00:16:17.020 --> 00:16:20.330\nI can take a look at the details\nonce I do apply the encryption.\n\n356\n00:16:20.330 --> 00:16:23.510\nThat Details button was grayed out\nwhen I first applied it because it\n\n357\n00:16:23.510 --> 00:16:24.280\nactually has to apply it.\n\n358\n00:16:24.280 --> 00:16:28.460\nWrite into the attributes of the file in\nthe folder before I can actually go look.\n\n359\n00:16:28.460 --> 00:16:29.720\nBut once I do that, I can go back.\n\n360\n00:16:29.720 --> 00:16:31.230\nI can actually see the details.\n\n361\n00:16:31.230 --> 00:16:34.360\nI can see that users who can\naccess this file, right?\n\n362\n00:16:34.360 --> 00:16:36.350\nThe Creator Owner has\nrights automatically.\n\n363\n00:16:36.350 --> 00:16:37.410\nI can do that.\n\n364\n00:16:37.410 --> 00:16:38.820\nI can add other users.\n\n365\n00:16:38.820 --> 00:16:41.851\nIf I want to add another user in,\nmaybe Cherokee or Lisa,\n\n366\n00:16:41.851 --> 00:16:45.630\nCherokee's evil twin who we use\nin the demo environment, right?\n\n367\n00:16:45.630 --> 00:16:48.651\nI could do any of those things if\nI want to as the Creator Owner but\n\n368\n00:16:48.651 --> 00:16:52.079\nI have to specify who's gonna get\nrights to this file just like I would.\n\n369\n00:16:52.079 --> 00:16:54.629\nIf it wasn't encrypted on\nthe generic access controller,\n\n370\n00:16:54.629 --> 00:16:56.470\nwith the access control entries, right?\n\n371\n00:16:56.470 --> 00:16:57.610\nI'd have to do the same thing.\n\n372\n00:16:57.610 --> 00:17:00.600\nThere are certain accounts that are put\nthere by default by the system.\n\n373\n00:17:00.600 --> 00:17:05.050\nBut notice that list for\nthe file is not the same list, right,\n\n374\n00:17:05.050 --> 00:17:07.500\nthat we would have seen if we look\nat it outside of the encryption.\n\n375\n00:17:07.500 --> 00:17:11.480\nIn other words, the system controlled\naccess control list on the file or\n\n376\n00:17:11.480 --> 00:17:15.999\nthe folder itself does not get replicated\nto the encryption access control list.\n\n377\n00:17:15.999 --> 00:17:17.370\nThat's what I'm trying\nto point out to you.\n\n378\n00:17:17.370 --> 00:17:20.680\nThe access control list for the encryption\nis limited only to the Creator Owner\n\n379\n00:17:20.680 --> 00:17:24.330\ninitially and to whoever we then specify,\nwith one exception.\n\n380\n00:17:24.330 --> 00:17:27.370\nWe have down here what\nare called recovery agents or\n\n381\n00:17:27.370 --> 00:17:29.980\nrecovery certificates which\nindicate recovery agents.\n\n382\n00:17:29.980 --> 00:17:33.630\nEFS uses this concept which\nis known a recovery agent.\n\n383\n00:17:33.630 --> 00:17:37.030\nRA is just what we see it referred\nto in the documentation by default,\n\n384\n00:17:37.030 --> 00:17:38.540\ngenerically and shortly, right?\n\n385\n00:17:38.540 --> 00:17:42.560\nSo the RA, or the Recovery Agent,\nor the EFSRA,\n\n386\n00:17:42.560 --> 00:17:44.840\nthe EFS Recovery Agent to be precise.\n\n387\n00:17:44.840 --> 00:17:49.850\nIt's gonna be a person or entity\nthat is designated as being a holder\n\n388\n00:17:49.850 --> 00:17:52.490\nof the certificate required\nto decrypt the data.\n\n389\n00:17:52.490 --> 00:17:55.290\nSo they've been given this certificate,\nand I'm gonna show you what that means and\n\n390\n00:17:55.290 --> 00:17:58.242\nhow we get to that in just a moment,\nwe've dealt with this before.\n\n391\n00:17:58.242 --> 00:18:01.475\nWe're gonna export a certificate,\nand then make it available, and\n\n392\n00:18:01.475 --> 00:18:04.890\nthen we can use it obviously by giving\nit to somebody to be able to do this.\n\n393\n00:18:04.890 --> 00:18:07.730\nSo we'll just walk through and\ntake a look at how it's done.\n\n394\n00:18:07.730 --> 00:18:10.370\nBut we can go through,\nwe can grab this certificate,\n\n395\n00:18:10.370 --> 00:18:13.410\nand we can then assign it to people and\nmake them recovery agents.\n\n396\n00:18:13.410 --> 00:18:16.240\nNow by default, as you can see,\n\n397\n00:18:16.240 --> 00:18:19.410\ndomain administrator has\nrights as a recovery agent.\n\n398\n00:18:19.410 --> 00:18:21.980\nTo any piece of data\nthat's created anywhere in\n\n399\n00:18:21.980 --> 00:18:24.840\nan Active Directory-based domain and\nuses EFS.\n\n400\n00:18:24.840 --> 00:18:28.820\nIn other words, any encrypted data,\nthe domain admin is gonna have a back door\n\n401\n00:18:28.820 --> 00:18:31.560\nskeleton key or\nrecovery capability to all that data.\n\n402\n00:18:31.560 --> 00:18:35.260\nSo that even if we're locked out for\nsome reason, the owner disappears.\n\n403\n00:18:35.260 --> 00:18:37.630\nFor whatever reason,\nwe can no longer log in as them.\n\n404\n00:18:37.630 --> 00:18:40.230\nWe don't have rights or\naccess to that account or whatever,\n\n405\n00:18:40.230 --> 00:18:42.870\nthe domain admin can always recover\nthat data, which is very important.\n\n406\n00:18:42.870 --> 00:18:44.750\nSo we do want to know that.\n\n407\n00:18:44.750 --> 00:18:46.840\nAnd that's, as you can see, listed here.\n\n408\n00:18:46.840 --> 00:18:50.070\nRecovery certificates to this file\ndefined by the recovery policy.\n\n409\n00:18:50.070 --> 00:18:53.410\nAutomatically, right,\nthe administrator at practice labs,\n\n410\n00:18:53.410 --> 00:18:55.650\nin other words,\nthe domain admin, has rights.\n\n411\n00:18:55.650 --> 00:18:59.220\nBut notice that the only person that\nis on the access controls initially is\n\n412\n00:18:59.220 --> 00:19:00.370\nthe Creator Owner.\n\n413\n00:19:00.370 --> 00:19:04.870\nWhere as if I go here,\n\n414\n00:19:04.870 --> 00:19:08.750\nyou'll see that as I mentioned,\nthings like authenticated users, system.\n\n415\n00:19:08.750 --> 00:19:12.470\nCertainly, the administrator's\ngroup on the local machine and/or\n\n416\n00:19:12.470 --> 00:19:16.740\nusers on the local machine\nare also able to see this data.\n\n417\n00:19:16.740 --> 00:19:18.630\nThat's not mirrored on\nthe access controllers for\n\n418\n00:19:18.630 --> 00:19:21.370\nthe encryption once we apply it.\n\n419\n00:19:21.370 --> 00:19:23.960\nPeople that can unencrypt the data, right?\n\n420\n00:19:23.960 --> 00:19:26.980\nBecause seeing it is a relative term, we\noften don't really speak specifically and\n\n421\n00:19:26.980 --> 00:19:28.550\ndefine what we mean.\n\n422\n00:19:28.550 --> 00:19:33.090\nWhen we are encrypting data, we can see\na listing of it in the file explorer,\n\n423\n00:19:33.090 --> 00:19:36.430\neven if we don't have rights to\nopen the file and decrypt it.\n\n424\n00:19:36.430 --> 00:19:39.630\nSo seeing it doesn't really mean\nseeing it in the sense of reading it.\n\n425\n00:19:39.630 --> 00:19:43.210\nWhen we say seeing it, we mean can you\nsee a list of the file and perhaps some\n\n426\n00:19:43.210 --> 00:19:47.110\nproperties about it by looking at it or\nare we gonna see a listing of it?\n\n427\n00:19:47.110 --> 00:19:50.380\nYeah, as a user on this workstation,\nI would see it listed.\n\n428\n00:19:50.380 --> 00:19:54.060\nBut I won't be able to click on the file\nand actually open it unless I'm listed as\n\n429\n00:19:54.060 --> 00:19:58.550\na user on the secondary access control\nlist associated with encryption.\n\n430\n00:19:58.550 --> 00:20:01.940\nSo it is important for us to understand\nthat and be aware of that with EFS.\n\n431\n00:20:01.940 --> 00:20:05.130\nCuz this takes over\ncontrol of the file and\n\n432\n00:20:05.130 --> 00:20:08.840\ncreates a wrapper,\na security perimeter around the file.\n\n433\n00:20:08.840 --> 00:20:13.060\nThat is only allowing access or\nonly allowing entry and\n\n434\n00:20:13.060 --> 00:20:16.420\nusage of the file if we're\nsecondarily defined.\n\n435\n00:20:16.420 --> 00:20:20.500\nOr listed on that additional access\ncontrol list as an authorized user.\n\n436\n00:20:20.500 --> 00:20:23.420\nNow you saw that we can go in\nthrough advanced right here.\n\n437\n00:20:23.420 --> 00:20:25.240\nAnd we can go in, whoops,\nhold on one second.\n\n438\n00:20:25.240 --> 00:20:26.550\nRight idea, wrong place.\n\n439\n00:20:26.550 --> 00:20:29.260\nWe can go in on the general tab and\nclick advanced.\n\n440\n00:20:29.260 --> 00:20:30.830\nRight button, wrong tab.\n\n441\n00:20:30.830 --> 00:20:31.540\nWe can go in.\n\n442\n00:20:31.540 --> 00:20:32.250\nWe can do this.\n\n443\n00:20:32.250 --> 00:20:37.460\nGo to details here and\nI can add as you can see.\n\n444\n00:20:37.460 --> 00:20:40.790\nAnd you'll see that to share\naccess with other users,\n\n445\n00:20:40.790 --> 00:20:43.930\nselect their certificates\nfrom the list and click OK.\n\n446\n00:20:43.930 --> 00:20:47.850\nIf there are certificates already\navailable, I can see them here, or\n\n447\n00:20:47.850 --> 00:20:49.390\nyou could see find user.\n\n448\n00:20:49.390 --> 00:20:51.660\nI do have the ability to go out and\nbrowse and\n\n449\n00:20:51.660 --> 00:20:53.950\nyou could see that I'm\nlooking in the domain.\n\n450\n00:20:53.950 --> 00:20:55.850\nAnd I'm looking for user objects.\n\n451\n00:20:55.850 --> 00:20:58.646\nAnd notice object type only users, right?\n\n452\n00:20:58.646 --> 00:20:59.930\nNo computers, no groups.\n\n453\n00:20:59.930 --> 00:21:02.471\nThis is a per user idea, right?\n\n454\n00:21:02.471 --> 00:21:05.940\nWe assign the rights\nhere on a per user basis.\n\n455\n00:21:05.940 --> 00:21:07.870\nSo as a result, you'll see I can go.\n\n456\n00:21:07.870 --> 00:21:09.830\nAnd we mentioned Lisa, did we not?\n\n457\n00:21:09.830 --> 00:21:10.830\n&gt;&gt; Yes, we did.\n\n458\n00:21:10.830 --> 00:21:13.750\n&gt;&gt; Lisa, so I can grab Lisa there,\nas you can see.\n\n459\n00:21:13.750 --> 00:21:15.140\nClick OK.\n\n460\n00:21:15.140 --> 00:21:18.820\nNow, no appropriate certificates\ncorrespond to the selected user.\n\n461\n00:21:18.820 --> 00:21:21.590\nLisa may not have the certificate\nthat enables her to use EFS.\n\n462\n00:21:21.590 --> 00:21:26.010\nThis is a specific certificate type that\nwould have to be available for the user.\n\n463\n00:21:26.010 --> 00:21:29.710\nIf there isn't one available then,\nalthough I could choose her as a user as\n\n464\n00:21:29.710 --> 00:21:33.710\nyou can see I'm not able to assign\nher rights to use the data.\n\n465\n00:21:33.710 --> 00:21:37.230\nCuz her certificate may not be published\nor made available in the Active Directory\n\n466\n00:21:37.230 --> 00:21:40.220\nso this is something that I'll have\nto plan for and think about, right?\n\n467\n00:21:40.220 --> 00:21:43.850\nBut assuming that she had\na usable certificate, I could or\n\n468\n00:21:43.850 --> 00:21:46.830\nwhoever the user was,\nI could put them in here.\n\n469\n00:21:46.830 --> 00:21:51.850\nAnd I could see what the certificate is,\nis just my standard user certificate here,\n\n470\n00:21:51.850 --> 00:21:54.980\nI'd say as I have a private key that\ncorresponds to the certificate user.\n\n471\n00:21:54.980 --> 00:21:57.560\nAnd the holder of the certificate\npublic private key pair\n\n472\n00:21:57.560 --> 00:21:59.920\nallows data on the disk to be encrypted.\n\n473\n00:21:59.920 --> 00:22:05.070\nSo this is the certificate specific to the\nuse of encryption or EFS in the system.\n\n474\n00:22:05.070 --> 00:22:08.830\nAnd you'll notice it is\na self-signed certificate, right?\n\n475\n00:22:08.830 --> 00:22:12.538\nNow to shoot through a PKI, a certificate\nauthority but rather self-signed.\n\n476\n00:22:12.538 --> 00:22:13.310\nSo you could see and\n\n477\n00:22:13.310 --> 00:22:16.870\nwe can understand that every user has\ntheir own version of the certificate.\n\n478\n00:22:16.870 --> 00:22:18.520\nAll right.\nSo I have all that there\n\n479\n00:22:18.520 --> 00:22:23.420\nkind of laying down some of the basics and\nthe thought process about how this works.\n\n480\n00:22:23.420 --> 00:22:25.177\nGo in there, do that, do that, do that.\n\n481\n00:22:25.177 --> 00:22:29.435\nSo we have our folder as well\nas our files that are encrypted.\n\n482\n00:22:29.435 --> 00:22:30.965\nSame would apply at the folder level.\n\n483\n00:22:30.965 --> 00:22:34.765\nIt's the same idea we can go look at the\nproperties and see how all that stands up.\n\n484\n00:22:34.765 --> 00:22:36.595\nNow, there's a nice little how-to.\n\n485\n00:22:36.595 --> 00:22:37.745\nHow does EFS work?\n\n486\n00:22:37.745 --> 00:22:41.337\nA little bit more detail,\ngoes into a description, breaks down\n\n487\n00:22:41.337 --> 00:22:45.277\nthe individual components of how we\ncreate the key and how all this works.\n\n488\n00:22:45.277 --> 00:22:50.217\nWe talked about the whole idea of applying\nsequential encryption with symmetric and\n\n489\n00:22:50.217 --> 00:22:51.797\nasymmetric kind of wrapping over it.\n\n490\n00:22:51.797 --> 00:22:55.577\nLet me just quickly show you what I'm\ntalking about with this little how-to.\n\n491\n00:22:55.577 --> 00:22:57.607\nWe just get to the right, there we go.\n\n492\n00:22:57.607 --> 00:22:59.407\nGet to the right task bar.\n\n493\n00:22:59.407 --> 00:23:01.230\nI've got three stacked up and hidden.\n\n494\n00:23:01.230 --> 00:23:04.900\nOne on top of the other, so\nthis is an older website.\n\n495\n00:23:04.900 --> 00:23:09.530\nThis is actually, I think, if I'm not\nmistaken, from around 2012 or something.\n\n496\n00:23:09.530 --> 00:23:11.320\nI don't even know how old this is.\n\n497\n00:23:11.320 --> 00:23:12.670\nIt's from a few years back,\n\n498\n00:23:12.670 --> 00:23:15.450\nbut it's still pertinent because\nthe technology hasn't really changed.\n\n499\n00:23:15.450 --> 00:23:16.640\n&gt;&gt; Fundamentally, it's the same.\n\n500\n00:23:16.640 --> 00:23:19.430\n&gt;&gt; Fundamentally, the concepts of\nhow EFS works are actually the same,\n\n501\n00:23:19.430 --> 00:23:22.530\nand this URL is in the show notes,\nso you could take a look at it.\n\n502\n00:23:22.530 --> 00:23:24.220\nTalks about the public key concept and\n\n503\n00:23:24.220 --> 00:23:28.290\nhow EFS uses public key encryption\nalong with symmetric key encryption.\n\n504\n00:23:28.290 --> 00:23:30.880\nLayering them sequentially,\nsymmetric, asymmetric.\n\n505\n00:23:30.880 --> 00:23:33.740\nAnd then gives us the protection\nof the symmetric key.\n\n506\n00:23:33.740 --> 00:23:36.790\nAnd then assymetrically\nencrypting the symmetric key.\n\n507\n00:23:36.790 --> 00:23:38.240\nSo it kind of goes through all of that.\n\n508\n00:23:38.240 --> 00:23:40.870\nBut what it also talks about is\nthe fact that the file encryption key,\n\n509\n00:23:40.870 --> 00:23:43.290\nif you wanted to learn\nthe language of EFS.\n\n510\n00:23:43.290 --> 00:23:46.630\nThe file encryption key,\nwhich is the symmetric key.\n\n511\n00:23:46.630 --> 00:23:49.604\nThe key that we use initially\nthat the user who owns or\n\n512\n00:23:49.604 --> 00:23:52.789\ncreates the data provides and\nuses to encrypt the data.\n\n513\n00:23:52.789 --> 00:23:54.398\nOur symmetric key, right?\n\n514\n00:23:54.398 --> 00:23:56.564\nIt's a good thing I wore yellow, so\nyou could see it right up against me.\n\n515\n00:23:56.564 --> 00:23:58.634\n&gt;&gt; [LAUGH]\n&gt;&gt; I look like a Picnic table that\n\n516\n00:23:58.634 --> 00:24:01.476\ngot dyed yellow with mustard or\nsomething, right.\n\n517\n00:24:01.476 --> 00:24:03.700\nSo if I put it all the way up there,\nit's now hidden.\n\n518\n00:24:03.700 --> 00:24:04.280\nYou can't see it, right.\n\n519\n00:24:04.280 --> 00:24:07.390\nIt's a good thing I'm tall,\notherwise I'd never reach the top of that.\n\n520\n00:24:07.390 --> 00:24:10.797\nThat was down here.\n\n521\n00:24:10.797 --> 00:24:11.751\nIt's not working.\n\n522\n00:24:11.751 --> 00:24:13.449\nSo we are taking our private key,\n\n523\n00:24:13.449 --> 00:24:16.910\nthis is our symmetric key we use\nto encrypt the data initially.\n\n524\n00:24:16.910 --> 00:24:19.802\nThis is now what's the called the FEK,\nthe F E K, or\n\n525\n00:24:19.802 --> 00:24:22.713\nthe file encryption key\nusing the language of EFS.\n\n526\n00:24:22.713 --> 00:24:26.784\nSo this key, this symmetric key that we\nuse initially through the first round of\n\n527\n00:24:26.784 --> 00:24:30.851\nencryption on the data, this is referred\nto in the language of EFS as the FEK, or\n\n528\n00:24:30.851 --> 00:24:32.960\nthe F E K, the file encryption key.\n\n529\n00:24:32.960 --> 00:24:36.820\nThat is the symmetric key provided\nby the creator owner of the data\n\n530\n00:24:36.820 --> 00:24:39.190\nused to encrypt the data initially.\n\n531\n00:24:39.190 --> 00:24:41.820\nIt's called the F E K, or\nthe file encryption key.\n\n532\n00:24:41.820 --> 00:24:43.190\nSo that's right here, right.\n\n533\n00:24:43.190 --> 00:24:47.160\nWe just talked about this and kinda label\nthis, talk about it as a symmetric bulk\n\n534\n00:24:47.160 --> 00:24:49.520\nencryption key that's\nused to encrypt the file.\n\n535\n00:24:49.520 --> 00:24:54.310\nAnd then itself is encrypted, right, as we\ntalked about using asymmetric encryption,\n\n536\n00:24:54.310 --> 00:24:55.620\nexcuse me.\n\n537\n00:24:55.620 --> 00:24:59.435\nThe encrypted FEK, the encrypted single\nencryption or symmetric key, is stored,\n\n538\n00:24:59.435 --> 00:25:03.120\nwhoops, with the encrypted file and\nit's unique to it, we talked about that.\n\n539\n00:25:03.120 --> 00:25:06.470\nTo decrypt the FEK,\nto decrypt the file encryption key,\n\n540\n00:25:06.470 --> 00:25:09.990\nEFS uses the encryptor's private key,\nwhich only the encryptor has.\n\n541\n00:25:09.990 --> 00:25:11.659\nWell, we know of that, right.\n\n542\n00:25:11.659 --> 00:25:15.780\nSo we through, we talked about this,\nkind of lays this out for us a little bit.\n\n543\n00:25:15.780 --> 00:25:18.439\nAnd so then we have this nice little\npicture here that kind of lays\n\n544\n00:25:18.439 --> 00:25:20.360\nout the structure the encryptor file.\n\n545\n00:25:20.360 --> 00:25:23.685\nReason I like this website is\nthe explanation with the graphics,\n\n546\n00:25:23.685 --> 00:25:26.090\nit's actually nice because it's\ngoing to show us and break down.\n\n547\n00:25:26.090 --> 00:25:29.390\nIf you're one of those people that\nwants to just really get into this and\n\n548\n00:25:29.390 --> 00:25:32.680\nget visual and understand the logic and\nyou learn that way.\n\n549\n00:25:32.680 --> 00:25:35.680\nAnd a lot of people are auditory learners,\nthey learn by hearing.\n\n550\n00:25:35.680 --> 00:25:39.297\nKinesthetic learners learn by doing by\ntouching, or they are visual learners,\n\n551\n00:25:39.297 --> 00:25:40.692\nright, they learn by seeing.\n\n552\n00:25:40.692 --> 00:25:43.215\nAnd so I like this because this\nis good for visual learners.\n\n553\n00:25:43.215 --> 00:25:46.383\nIt really gives us that nice clear\nunderstanding with the graphics.\n\n554\n00:25:46.383 --> 00:25:50.119\nSo we can see here, file encryption key,\nencrypted with file owners public key\n\n555\n00:25:50.119 --> 00:25:53.660\nexcept for the annoying little pop\nups that come up every so often.\n\n556\n00:25:53.660 --> 00:25:57.320\nAnd then file encryption key encrypted\nwith public key of recovery agent number\n\n557\n00:25:57.320 --> 00:26:01.360\none, and file encryption key, public key\nof the recovery agent number two, etc.\n\n558\n00:26:01.360 --> 00:26:04.670\nBut the initial encryption\nkey is the fact,\n\n559\n00:26:04.670 --> 00:26:08.060\nthe file encryption key of\nthe user that encrypted, right.\n\n560\n00:26:08.060 --> 00:26:10.280\nSo we have our file encryption key and\n\n561\n00:26:10.280 --> 00:26:13.923\nthen that is protected and encrypted with\nthe file owner's public key to protect,\n\n562\n00:26:13.923 --> 00:26:16.530\nright, the asymmetric\nencryption that we applied.\n\n563\n00:26:16.530 --> 00:26:19.150\nAnd all of that is stored\nin what's called the DDF,\n\n564\n00:26:19.150 --> 00:26:21.190\nthe data decryption field right here.\n\n565\n00:26:21.190 --> 00:26:25.330\nThat's the field that tells us\nin the file, what key or keys,\n\n566\n00:26:25.330 --> 00:26:28.700\nwhat user or users, have rights\nto be able to decrypt the data.\n\n567\n00:26:28.700 --> 00:26:31.840\nWe call that the DDF,\ndata decryption field.\n\n568\n00:26:31.840 --> 00:26:35.460\nAnd then we have what's known as the DRF,\ndata recovery fields,\n\n569\n00:26:35.460 --> 00:26:39.430\nusually more than one but it depends on\nhow many recovery agents we may list.\n\n570\n00:26:39.430 --> 00:26:41.660\nEach one is just listed\nessentially on a single line.\n\n571\n00:26:41.660 --> 00:26:44.360\nIf you think about the logic, if you\nsaw me in the interface just kind of\n\n572\n00:26:44.360 --> 00:26:47.660\nlisting them sequentially going down,\nthat's the idea here.\n\n573\n00:26:47.660 --> 00:26:52.115\nAll of this is part of the data package,\nthe header that gets assigned to the data.\n\n574\n00:26:52.115 --> 00:26:55.797\nSo it's just part of the information\nthat's the descriptor or the manifest or\n\n575\n00:26:55.797 --> 00:26:59.142\nthe packing list of the file that\ntells us how to manage the encryption,\n\n576\n00:26:59.142 --> 00:27:00.800\nthat's what EFS provides.\n\n577\n00:27:00.800 --> 00:27:02.900\nAnd so we have the data decryption field,\nthe DDF, and\n\n578\n00:27:02.900 --> 00:27:06.931\nwe have the data recovery field,\none or more entries, the DRF.\n\n579\n00:27:08.050 --> 00:27:12.480\nSo three acronyms that are important,\nFEK, F E K, file encryption key.\n\n580\n00:27:12.480 --> 00:27:15.510\nSymmetric key of the owner of\nthe data used to encrypt the data.\n\n581\n00:27:15.510 --> 00:27:18.260\nAnd then the DDF,\nthe data decryption field, the field that\n\n582\n00:27:18.260 --> 00:27:22.230\nlists that information and tells us who\nthe owner of record is, and what key\n\n583\n00:27:22.230 --> 00:27:26.770\nwas used to encrypt the symmetric key, the\npublic key of the corresponding key pair.\n\n584\n00:27:26.770 --> 00:27:30.778\nAnd the data recovery field, the DRF,\nwhich lists all the recovery agents.\n\n585\n00:27:30.778 --> 00:27:34.444\nThere may, there's at least one,\nas I said, a default, assignment for\n\n586\n00:27:34.444 --> 00:27:38.240\nthe admin account, right, but\nthere may be more than one as you saw.\n\n587\n00:27:38.240 --> 00:27:41.100\nAnd as a result we may see multiple\nentries in the data recovery field,\n\n588\n00:27:41.100 --> 00:27:44.140\nit's up to us to figure that out and\nobviously apply that logic as we go.\n\n589\n00:27:44.140 --> 00:27:47.390\nBut by going through the website here,\nyou can see a very detailed,\n\n590\n00:27:47.390 --> 00:27:50.870\nhopefully thorough from your perspective,\nunderstanding what's taking place.\n\n591\n00:27:50.870 --> 00:27:54.820\nBreaks down the components of EFS, kinda\ngoes into a lot more detail than you may\n\n592\n00:27:54.820 --> 00:27:57.430\nwant in terms of the Win 32 sub layers.\n\n593\n00:27:57.430 --> 00:28:01.257\nAnd the API and the IO manager and\nall that moving parts and pieces.\n\n594\n00:28:01.257 --> 00:28:04.573\nYou may not really worried about\nall that from an exam perspective,\n\n595\n00:28:04.573 --> 00:28:06.970\nI would not worry about\nanything on the diagram.\n\n596\n00:28:06.970 --> 00:28:09.789\nI would probably just want to know\nwhat the file encryption key,\n\n597\n00:28:09.789 --> 00:28:12.398\nthe data encryption field,\nthe data recovery fields are,\n\n598\n00:28:12.398 --> 00:28:15.300\nI want to know how to explain\nthe logic of those moving parts.\n\n599\n00:28:15.300 --> 00:28:17.260\nJust to be able to know what goes where.\n\n600\n00:28:17.260 --> 00:28:19.347\nI can see a mix and\nmatch, kind of drag and\n\n601\n00:28:19.347 --> 00:28:22.410\ndrop question that may\nrepresent a graphic like this.\n\n602\n00:28:22.410 --> 00:28:25.680\nHave a bunch of these rectangles\nlabeled a certain way.\n\n603\n00:28:25.680 --> 00:28:28.660\nMaybe have you move them over and\nput them into the appropriate place.\n\n604\n00:28:28.660 --> 00:28:33.410\nSay which one of these belongs in the DVF,\nwhich one of these may belong in the DRF.\n\n605\n00:28:33.410 --> 00:28:35.530\nGreat way to ask a question like that.\n\n606\n00:28:35.530 --> 00:28:39.230\nThere's a lot of ways you could query and\nquestion and drill down on this knowledge.\n\n607\n00:28:39.230 --> 00:28:42.580\nSo you'd want to just be comfortable\nwith the acronyms and the moving parts.\n\n608\n00:28:42.580 --> 00:28:44.300\nBut I wouldn't get too\ninvolved in this stuff.\n\n609\n00:28:44.300 --> 00:28:45.530\nYou're not gonna see this.\n\n610\n00:28:45.530 --> 00:28:48.660\nBut it does do a nice job of\nexplaining all this, right.\n\n611\n00:28:48.660 --> 00:28:51.670\nAnd how files are encrypted, I've\nexplained the high level process to you.\n\n612\n00:28:51.670 --> 00:28:54.420\nYou want to go in the weeds here and\nreally take a look at the flow and\n\n613\n00:28:54.420 --> 00:28:55.320\nthe logic.\n\n614\n00:28:55.320 --> 00:28:57.220\nHey, we got a picture for\nyou, right, take a look.\n\n615\n00:28:57.220 --> 00:29:01.470\nBut again, way more detail than\nyou need to prepare for the exam.\n\n616\n00:29:01.470 --> 00:29:03.170\nBut it does show you the DDF and\n\n617\n00:29:03.170 --> 00:29:06.130\nDRF, the header on the encrypted\ndata kind of appended there.\n\n618\n00:29:06.130 --> 00:29:09.000\nAnd it shows us how all that comes\ntogether along with the FEK,\n\n619\n00:29:09.000 --> 00:29:09.960\nthe file encryption key.\n\n620\n00:29:09.960 --> 00:29:12.520\nSo it's just a nice way of\npresenting all the data,\n\n621\n00:29:12.520 --> 00:29:15.530\ngetting us to start to think about\nit through a visual learner.\n\n622\n00:29:15.530 --> 00:29:17.370\nMaybe helps you put it in perspective.\n\n623\n00:29:17.370 --> 00:29:18.080\nI sat and\n\n624\n00:29:18.080 --> 00:29:22.160\nhad this conversation at one point many\nyears ago with a customer trying to figure\n\n625\n00:29:22.160 --> 00:29:26.100\nout what the best approach would be to\nprovide some specific target protections.\n\n626\n00:29:26.100 --> 00:29:28.058\nI had also the recovery\nagent's certificates and\n\n627\n00:29:28.058 --> 00:29:29.556\nuser's certificates there as well.\n\n628\n00:29:29.556 --> 00:29:33.015\nAnd I went through and\nwe were talking about this in the segment,\n\n629\n00:29:33.015 --> 00:29:34.880\njust I'm not getting it, right.\n\n630\n00:29:34.880 --> 00:29:37.769\nWe're having a conversation,\njust I can't envision,\n\n631\n00:29:37.769 --> 00:29:39.680\nis what the customer was telling me.\n\n632\n00:29:39.680 --> 00:29:44.010\nI don't see it in mind,\nwas the words that they said.\n\n633\n00:29:44.010 --> 00:29:46.105\nAnd Clint, I said, just,\nwell we need a picture, right.\n\n634\n00:29:46.105 --> 00:29:49.241\nAnd so sometimes we need is\nwe just need that graphic,\n\n635\n00:29:49.241 --> 00:29:51.910\nthat visual representation of a process.\n\n636\n00:29:51.910 --> 00:29:53.820\n&gt;&gt; And it's even better\nwhen it matches your shirt.\n\n637\n00:29:53.820 --> 00:29:56.330\n&gt;&gt; Helps better when you're\nwearing bright yellow and\n\n638\n00:29:56.330 --> 00:30:00.230\nyou are like a yellow checkerboard,\nthat does also work.\n\n639\n00:30:00.230 --> 00:30:00.810\nAbsolutely.\n\n640\n00:30:00.810 --> 00:30:01.920\n&gt;&gt; No, but that's definitely true.\n\n641\n00:30:01.920 --> 00:30:02.500\nI can relate.\n\n642\n00:30:02.500 --> 00:30:06.150\nI am definitely a visual learner as well,\nso thank you for showing that to us.\n\n643\n00:30:06.150 --> 00:30:06.744\n&gt;&gt; No problem.\n&gt;&gt; And\n\n644\n00:30:06.744 --> 00:30:09.697\nwalking through the demonstration\nof how to set that up also, so\n\n645\n00:30:09.697 --> 00:30:10.966\nit wasn't too difficult.\n\n646\n00:30:10.966 --> 00:30:13.543\nWe even saw how we can create\nthat recovery agent there, so\n\n647\n00:30:13.543 --> 00:30:14.840\nthat was pretty cool.\n\n648\n00:30:14.840 --> 00:30:16.396\n&gt;&gt; We can,\nwe obviously have a lot more to do.\n\n649\n00:30:16.396 --> 00:30:18.220\nWe'll come back,\nwe're gonna take a look on how to export,\n\n650\n00:30:18.220 --> 00:30:21.015\nI mentioned I would show you and\ntell you how to export that certificate.\n\n651\n00:30:21.015 --> 00:30:24.964\nWe'll take a look at how to do that and\ntalk about how we use that to drive our\n\n652\n00:30:24.964 --> 00:30:27.708\nrecovery by giving that\ncertificate to somebody or\n\n653\n00:30:27.708 --> 00:30:30.095\nusing it to be able to recover data,\nright.\n\n654\n00:30:30.095 --> 00:30:33.522\nIf Cherokee encrypted data and\nI was the recovery agent as the admin,\n\n655\n00:30:33.522 --> 00:30:35.720\nI could recover it if she's not available.\n\n656\n00:30:35.720 --> 00:30:37.430\nAnd so we'll talk about those processes.\n\n657\n00:30:37.430 --> 00:30:38.580\n&gt;&gt; Or you mean I get fired?\n\n658\n00:30:38.580 --> 00:30:40.250\n&gt;&gt; No, just I said you were unavailable.\n\n659\n00:30:41.300 --> 00:30:43.480\nI literally meant you just weren't around\nwhen we wanted to encrypt the data.\n\n660\n00:30:43.480 --> 00:30:45.256\nMaybe you're on vacation.\n\n661\n00:30:45.256 --> 00:30:45.782\n&gt;&gt; Okay, that's better.\n[LAUGH]\n\n662\n00:30:45.782 --> 00:30:46.282\n&gt;&gt; You were doing something.\n\n663\n00:30:46.282 --> 00:30:48.631\nYou wanna read all your specific entries,\n\n664\n00:30:48.631 --> 00:30:51.379\nall you private stuff and\nyour email, who knows.\n\n665\n00:30:51.379 --> 00:30:52.404\nI don't know, whatever it would be,\n\n666\n00:30:52.404 --> 00:30:54.327\nit doesn't matter but if you're not\naround we just need to recover it,\n\n667\n00:30:54.327 --> 00:30:54.924\nright.\n&gt;&gt; That's right.\n\n668\n00:30:54.924 --> 00:30:55.794\n&gt;&gt; We would want to be able to do that.\n\n669\n00:30:55.794 --> 00:30:56.850\nSo we'll take a look at and\n\n670\n00:30:56.850 --> 00:31:00.018\ntalk about all that stuff, but you're\ngoing to have to come back and join us for\n\n671\n00:31:00.018 --> 00:31:02.631\nanother episode, because we are-\n&gt;&gt; Out of time for this show,\n\n672\n00:31:02.631 --> 00:31:05.974\nwe're going to go ahead and sign out.\nI've been your host Cherokee Boose.\n\n673\n00:31:05.974 --> 00:31:08.880\n&gt;&gt; I'm bright sunny yellow Adam.\n\n674\n00:31:08.880 --> 00:31:10.868\nSee you next time here at ITProTV.\n\n675\n00:31:13.604 --> 00:31:19.045\n[MUSIC]\n\n676\n00:31:19.045 --> 00:31:22.489\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "235607443"
        },
        {
          "description": "",
          "length": "1876",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-2-configure_disk_and_file_encryption_pt2-100217.00_31_02_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-2-configure_disk_and_file_encryption_pt2-100217.00_31_02_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-2-configure_disk_and_file_encryption_pt2-100217.00_31_02_08.Still001-sm.jpg",
          "title": "Configure disk and file encryption Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:03.997\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.997 --> 00:00:08.359\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.359 --> 00:00:12.302\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.302 --> 00:00:15.964\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n5\n00:00:15.964 --> 00:00:18.147\nI'm your host, Mike Rodrick, and today,\n\n6\n00:00:18.147 --> 00:00:20.688\nwe're doing our\nSecure Windows Server 2016.\n\n7\n00:00:20.688 --> 00:00:24.912\nGetting everybody for that 70-744 exam.\n\n8\n00:00:24.912 --> 00:00:27.945\nIn this episode, we're going to be\ntaking a look at configuring disk and\n\n9\n00:00:27.945 --> 00:00:29.190\nfile encryption.\n\n10\n00:00:29.190 --> 00:00:32.220\nAs there's a part two, we already done\na part one, so make sure you go back and\n\n11\n00:00:32.220 --> 00:00:33.430\ncheck that out.\n\n12\n00:00:33.430 --> 00:00:36.060\nHere to help us with our topics for\ntoday is Mr. Adam Gordon.\n\n13\n00:00:36.060 --> 00:00:37.110\nWelcome back Adam.\n\n14\n00:00:37.110 --> 00:00:38.600\n&gt;&gt; Howdy everybody.\n\n15\n00:00:38.600 --> 00:00:40.787\nAlways glad to be back\nspending time with you Mike.\n\n16\n00:00:40.787 --> 00:00:43.705\nHaven't really had the chance to do that\nlately be spending as you probably know,\n\n17\n00:00:43.705 --> 00:00:46.190\nif you've been watching our episodes,\na lot of time with Cherokee.\n\n18\n00:00:46.190 --> 00:00:49.470\nBut Cherokee is off doing some other\nstuff, so Mike was kind enough to\n\n19\n00:00:49.470 --> 00:00:52.260\nspend some time or come in and\nsay he would spend some time with us.\n\n20\n00:00:52.260 --> 00:00:54.488\nSo we're gonna get Mike integrated\nin the flow things here.\n\n21\n00:00:54.488 --> 00:00:55.965\nWe're gonna pick up where we left off.\n\n22\n00:00:55.965 --> 00:00:59.507\nIf you did not see as Mike suggested\nour last episode, part one on EFS and\n\n23\n00:00:59.507 --> 00:01:03.231\nwhat will ultimately become BitLocker\nas we continue our conversations,\n\n24\n00:01:03.231 --> 00:01:05.560\nencourage you to go back and take a look.\n\n25\n00:01:05.560 --> 00:01:09.440\nIf you remember, we had gone through\nkind of talked a little bit about EFS,\n\n26\n00:01:09.440 --> 00:01:13.180\nexplained the concept but also did or\nbegan doing a walk through.\n\n27\n00:01:13.180 --> 00:01:17.640\nShowed you how we could enable EFS, showed\nyou how to setup encryption on a file,\n\n28\n00:01:17.640 --> 00:01:19.680\nout of directory, one or both.\n\n29\n00:01:19.680 --> 00:01:23.270\nWe went and take a look at that,\ntake a look at how that gets enabled.\n\n30\n00:01:23.270 --> 00:01:26.532\nWe then take a look at the options\nin terms of what the certificate is,\n\n31\n00:01:26.532 --> 00:01:28.687\nthe recovery agent,\nall that kind of stuff.\n\n32\n00:01:28.687 --> 00:01:33.820\nWe're to go the next mile, so to speak\nhere, as we continue jumping back in.\n\n33\n00:01:33.820 --> 00:01:37.810\nWe're gonna go and\ntake a look at an encrypted directory.\n\n34\n00:01:37.810 --> 00:01:42.200\nI've set a folder up with a file in it,\nbut done it under a different user alias.\n\n35\n00:01:42.200 --> 00:01:45.480\nAnd we're now gonna go in as\nthe administrator of the system and\n\n36\n00:01:45.480 --> 00:01:46.540\nsee if we can get in or not.\n\n37\n00:01:46.540 --> 00:01:48.430\nAnd we're gonna see that we're\nnot gonna be able to get in,\n\n38\n00:01:48.430 --> 00:01:49.834\nwe'll talk about that in a minute.\n\n39\n00:01:49.834 --> 00:01:54.540\nAnd then based on that we're gonna\nexport the recovery certificate and\n\n40\n00:01:54.540 --> 00:01:57.150\ntake a look at how it can\nenable administration or\n\n41\n00:01:57.150 --> 00:02:01.470\nadministrate of recovery a long with just\ntalking to the logic of certificates.\n\n42\n00:02:01.470 --> 00:02:02.620\nWhy we need certificates,\n\n43\n00:02:02.620 --> 00:02:06.060\nremind you of some of that of\nthe different kinds of certificates.\n\n44\n00:02:06.060 --> 00:02:08.440\nWe've mentioned before we have\nself signed certificates.\n\n45\n00:02:08.440 --> 00:02:11.232\nWe have CA based or\nCA issued certificates.\n\n46\n00:02:11.232 --> 00:02:14.732\nSo we just want to make sure we're kind of\ncomfortable around the logic of how this\n\n47\n00:02:14.732 --> 00:02:15.662\nall comes together.\n\n48\n00:02:15.662 --> 00:02:18.199\nAnd then as we walk through that and\nwe wrap that up,\n\n49\n00:02:18.199 --> 00:02:21.660\nas we said we'll start integrating\na discussion around BitLocker.\n\n50\n00:02:21.660 --> 00:02:25.300\nSo some interesting cool stuff\nto stick around and go through.\n\n51\n00:02:25.300 --> 00:02:27.460\nJust before we get started so,\nEFS, right, so\n\n52\n00:02:27.460 --> 00:02:29.045\nI had this conversation with Cherokee,\nbut.\n\n53\n00:02:29.045 --> 00:02:30.285\n&gt;&gt; Uh-huh.\n&gt;&gt; Now you're joining me so.\n\n54\n00:02:30.285 --> 00:02:32.900\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's just reprise, recap, and also,\n\n55\n00:02:32.900 --> 00:02:34.455\nyou know, think about moving forward.\n\n56\n00:02:34.455 --> 00:02:36.080\n&gt;&gt; Mm-hm.\n&gt;&gt; So, from your perspective, Mike,\n\n57\n00:02:36.080 --> 00:02:39.210\nyou do a lot of work with this\nkind of technology as I do.\n\n58\n00:02:39.210 --> 00:02:41.372\nAnd you've actually done\nthe Windows 10 stuff, and\n\n59\n00:02:41.372 --> 00:02:45.070\nset up all the stuff within Windows 10,\nso you've certainly done this as well.\n\n60\n00:02:45.070 --> 00:02:47.643\nSo pros and cons when you think about EFS,\nwhat's good, what's bad?\n\n61\n00:02:47.643 --> 00:02:52.340\n&gt;&gt; Well EFS is great, it's that additional\nlayer of security that I really like, and\n\n62\n00:02:52.340 --> 00:02:55.100\nwe all know that we've got\nNTFS permissions that we can\n\n63\n00:02:55.100 --> 00:02:56.840\nuse to control access.\n\n64\n00:02:56.840 --> 00:03:01.000\nBut this just acts like another\nlayer of security on top of that.\n\n65\n00:03:01.000 --> 00:03:04.702\nAnd the other thing is,\nEFS goes beyond NTFS.\n\n66\n00:03:04.702 --> 00:03:09.420\nWhereas my NTFS permissions are only\nvalid while it's on an NTFS partition,\n\n67\n00:03:09.420 --> 00:03:12.460\nencrypt something using certificates.\n\n68\n00:03:12.460 --> 00:03:15.820\nThat encryption can be maintained\neven if I put it on a thumb drive or\n\n69\n00:03:15.820 --> 00:03:16.910\nif I email it to somebody.\n\n70\n00:03:16.910 --> 00:03:18.850\nSo, it's got definite advantages there.\n\n71\n00:03:18.850 --> 00:03:22.390\n&gt;&gt; So, and to make the point even\nmore clearly, you actually are right.\n\n72\n00:03:22.390 --> 00:03:26.172\nLet's be clear about this cuz this is one\nof the key fundamental distinguishing\n\n73\n00:03:26.172 --> 00:03:30.010\nreasons why not only we choose to use EFS,\nbut eventually as we talk about we use or\n\n74\n00:03:30.010 --> 00:03:32.750\ntheoretically choose to\nuse BitLocker as well.\n\n75\n00:03:32.750 --> 00:03:33.980\nSticky attributes, right?\n\n76\n00:03:33.980 --> 00:03:37.100\nSticky attributes for\nwhat we would generically called the idea.\n\n77\n00:03:37.100 --> 00:03:40.290\nThat the NTFS permission\nas Mike was suggesting\n\n78\n00:03:40.290 --> 00:03:42.110\nare specific to the file system, right?\n\n79\n00:03:42.110 --> 00:03:45.594\nAnd so if we take an NTFS protected,\nnot encrypted, but\n\n80\n00:03:45.594 --> 00:03:49.958\nlet's say protected file and\nwe move it out of an NTFS partition.\n\n81\n00:03:49.958 --> 00:03:54.590\nMaybe store it on a thumb drive like the\none I'm holding here which would not be\n\n82\n00:03:54.590 --> 00:03:56.475\nNTFS, typically let's say it's fat.\n\n83\n00:03:56.475 --> 00:03:57.433\n&gt;&gt; Right.\n&gt;&gt; May be fat32,\n\n84\n00:03:57.433 --> 00:03:59.918\nwhatever the file system is,\nwe put it there,\n\n85\n00:03:59.918 --> 00:04:04.193\nwe are most likely gonna strip those\npermissions, those protections away from\n\n86\n00:04:04.193 --> 00:04:08.431\nthe file because they're probably not\nsupported file system to file system.\n\n87\n00:04:08.431 --> 00:04:10.895\nAnd as a result,\nwe are gonna lose the security and\n\n88\n00:04:10.895 --> 00:04:14.372\nof course the protections right,\nas Mike was suggesting on the file.\n\n89\n00:04:14.372 --> 00:04:17.938\nOr the folder, whatever we're\ntalking about, the directory.\n\n90\n00:04:17.938 --> 00:04:22.412\nBut, because EFS attributes, and we'll\ncome to find out BitLocker attributes\n\n91\n00:04:22.412 --> 00:04:26.752\nare sticky, they stay with the file or\nthe folder and the hierarchy the file's\n\n92\n00:04:26.752 --> 00:04:31.254\nwithin, especially BitLocker, we do\na whole disk or whole volume encryption.\n\n93\n00:04:31.254 --> 00:04:34.300\nWe're encrypting and\nmoving up one level from the file system.\n\n94\n00:04:34.300 --> 00:04:35.720\nWe're not encrypting individual files or\n\n95\n00:04:35.720 --> 00:04:39.150\nfolders, we're encrypting the entire\nvolume of the hard drive, right?\n\n96\n00:04:39.150 --> 00:04:43.090\nAnd as a result of that,\nthose attributes that are assigned\n\n97\n00:04:43.090 --> 00:04:47.660\nas protective attributes to encrypt\nthe file or the folder or the volume and\n\n98\n00:04:47.660 --> 00:04:52.390\nprovide confidentiality protection are now\ngoing to stay with that information.\n\n99\n00:04:52.390 --> 00:04:54.800\nSo if we were to move a folder or\n\n100\n00:04:54.800 --> 00:04:59.410\na file protected with EFS on to,\nagain, the thumb drive, right, and\n\n101\n00:04:59.410 --> 00:05:03.120\nthen take it and say, well,\nI'll get around that security protection.\n\n102\n00:05:03.120 --> 00:05:05.604\nI'll put it on here and\nI'll go open it up on my Mac OS-\n\n103\n00:05:05.604 --> 00:05:06.290\n&gt;&gt; Mm-hm.\n\n104\n00:05:06.290 --> 00:05:09.785\n&gt;&gt; Or I'll open up in Linux or whatever,\nwhatever OS you wanna use doesn't really\n\n105\n00:05:09.785 --> 00:05:13.592\nmatter, even another version of Windows,\nmaybe an earlier one that doesn't support\n\n106\n00:05:13.592 --> 00:05:15.802\nthat version of EFS or\nthat version of BitLocker.\n\n107\n00:05:15.802 --> 00:05:19.858\nWhatever it may be, doesn't matter cuz\nyou're not gonna be able to strip those\n\n108\n00:05:19.858 --> 00:05:21.987\nattributes away, essentially change.\n\n109\n00:05:21.987 --> 00:05:24.210\nAt least not without\nreally doing things so\n\n110\n00:05:24.210 --> 00:05:26.810\nfar they'll probably make it unusable,\nright.\n\n111\n00:05:26.810 --> 00:05:29.060\nI mean we could in theory\nbreak the encryption.\n\n112\n00:05:29.060 --> 00:05:32.560\nBut assuming we're not able to get a copy\nof that certificate, we're not able to\n\n113\n00:05:32.560 --> 00:05:37.730\nfigure out how to do so in a legitimate\nway, we may be able to hack\n\n114\n00:05:37.730 --> 00:05:41.420\nthat file in other words, but let's assume\nthat behavior isn't going to happen.\n\n115\n00:05:41.420 --> 00:05:44.966\nThere's no way for us to strip\nthose attributes out normally, and\n\n116\n00:05:44.966 --> 00:05:49.395\nopen that file, that folder, get access to\nthat data because the system is going to\n\n117\n00:05:49.395 --> 00:05:51.643\nmaintain those protective attributes.\n\n118\n00:05:51.643 --> 00:05:56.337\n&gt;&gt; And another thing I really like about\nEFSA versus NTFS permissions to control\n\n119\n00:05:56.337 --> 00:06:00.610\naccess, is the fact that with NTFS,\nsomebody might not have access.\n\n120\n00:06:00.610 --> 00:06:04.410\nThey might gain access later on though,\nby group membership changes, or\n\n121\n00:06:04.410 --> 00:06:07.550\nsomebody adding something to\nan access control list and\n\n122\n00:06:07.550 --> 00:06:11.590\nnot realizing they've given someone\naccess to a resource they shouldn't have.\n\n123\n00:06:11.590 --> 00:06:15.458\nWhereas if I've encrypted it with EFS,\nunless you have the appropriate key,\n\n124\n00:06:15.458 --> 00:06:19.443\nyou're not getting access to that document\nno matter what groups you belong to or\n\n125\n00:06:19.443 --> 00:06:20.508\nanything like that.\n\n126\n00:06:20.508 --> 00:06:23.120\n&gt;&gt; Very true and absolutely right.\n\n127\n00:06:23.120 --> 00:06:25.714\nWe also want to think about, we'll talk\nmore about this in the beginning of\n\n128\n00:06:25.714 --> 00:06:28.183\nthe demo here in a minute, but\nwe also want to think about the fact that,\n\n129\n00:06:28.183 --> 00:06:30.040\nyou brought up an excellent point, right?\n\n130\n00:06:30.040 --> 00:06:33.857\nWe could, inadvertently add somebody\ninto a group as an administrator,\n\n131\n00:06:33.857 --> 00:06:35.890\nwithout necessarily understanding or\n\n132\n00:06:35.890 --> 00:06:40.210\nrealizing that we're exposing a resource\nwith NTFS permissions solely, right?\n\n133\n00:06:40.210 --> 00:06:46.550\nAnd we could do, to be fair, we could\ndo the same thing with EFS, right?\n\n134\n00:06:46.550 --> 00:06:50.770\nBecause, in theory, we could add somebody\nin as a user who has access, right?\n\n135\n00:06:50.770 --> 00:06:53.540\nWe could grant them access in theory,\nin other words, right?\n\n136\n00:06:53.540 --> 00:06:56.010\nBut it takes additional steps.\n\n137\n00:06:56.010 --> 00:06:59.646\nAnd although in theory,\nthe domain administrator or local admin,\n\n138\n00:06:59.646 --> 00:07:03.473\ndepending on what we're talking about,\nwould have rights all the time\n\n139\n00:07:03.473 --> 00:07:06.594\nas a recovery agent to the file,\ncould in theory, go in and\n\n140\n00:07:06.594 --> 00:07:09.891\nget access to that information\nthrough a recovery process.\n\n141\n00:07:09.891 --> 00:07:11.610\nThere is an additional step involved.\n\n142\n00:07:11.610 --> 00:07:15.195\nWe're gonna go through the way to export\nthe certificate and then, allow it to\n\n143\n00:07:15.195 --> 00:07:18.744\nbe applied and so, we want to just\nunderstand that the bar is higher, right?\n\n144\n00:07:18.744 --> 00:07:21.198\n&gt;&gt; Right.\n&gt;&gt; We've raised the bar with regards to\n\n145\n00:07:21.198 --> 00:07:25.126\nprotective capabilities,\nprotective permissions and control.\n\n146\n00:07:25.126 --> 00:07:28.359\nAnd as a result, auditability,\nverifiability, validity,\n\n147\n00:07:28.359 --> 00:07:32.629\nverification, all the things we talk about\nin security, there's a paper trail or\n\n148\n00:07:32.629 --> 00:07:36.598\nan audit trail of some kind that typically\nwould exist around this activity.\n\n149\n00:07:36.598 --> 00:07:41.977\nWhereas just with assignment of normal\npermissions, perhaps manipulation of\n\n150\n00:07:41.977 --> 00:07:47.852\ngroup membership as a result, we've talked\nabout in the auditing episodes, right?\n\n151\n00:07:47.852 --> 00:07:50.926\nThe things we call it when we do,\nwhen we get together and talk,\n\n152\n00:07:50.926 --> 00:07:52.440\nI'm thinking show in my head.\n\n153\n00:07:52.440 --> 00:07:55.787\nWe talked about, in the auditing episodes\nif you haven't seen them, Right,\n\n154\n00:07:55.787 --> 00:07:57.461\nthe fact that with advanced auditing,\n\n155\n00:07:57.461 --> 00:08:00.172\nwe could track that kind of\nbehavior that Mike's suggesting.\n\n156\n00:08:00.172 --> 00:08:03.406\nIt's not that we can't keep track of this\nin NTFS, but we have to enable that,\n\n157\n00:08:03.406 --> 00:08:05.540\nright, and\nwe have to know what's happening.\n\n158\n00:08:05.540 --> 00:08:09.790\nWe have to be designed ahead of times to\nsimply focus on these folders in order to\n\n159\n00:08:09.790 --> 00:08:10.650\ntrack that.\n\n160\n00:08:10.650 --> 00:08:14.160\nNot that we would not have to\nenable it for EFS, as well.\n\n161\n00:08:14.160 --> 00:08:17.320\nWe have to, in order to keep track\nof what's happening, but ultimately,\n\n162\n00:08:17.320 --> 00:08:21.378\nthere's a log associated with use of EFS\nin the recovery keys, things like that.\n\n163\n00:08:21.378 --> 00:08:23.874\nThat's gonna be there in recording\nthat information already.\n\n164\n00:08:23.874 --> 00:08:27.400\nIt's not something we necessarily\nhave to just go turn on and audit.\n\n165\n00:08:27.400 --> 00:08:31.020\nSo, there are some definitely\ncompelling pros if you will.\n\n166\n00:08:31.020 --> 00:08:34.470\nProbably, the only con, and\nI would say it's not a negative, but\n\n167\n00:08:34.470 --> 00:08:38.750\nit's something to stop and think about is,\nthere's this urban myth and legend, right?\n\n168\n00:08:38.750 --> 00:08:41.110\nI speak about it in episodes we've done.\n\n169\n00:08:41.110 --> 00:08:44.060\nMike and I have talked about\nit in prior security episodes.\n\n170\n00:08:44.060 --> 00:08:47.421\nThe idea that encryption\nnecessarily enhances, or rather,\n\n171\n00:08:47.421 --> 00:08:50.080\ncarries with it a performance penalty,\nright?\n\n172\n00:08:50.080 --> 00:08:52.694\nIn the sense that potentially\nthings slow down,\n\n173\n00:08:52.694 --> 00:08:56.470\nthings may not be as easy to deal with,\nto get into, there's a delay.\n\n174\n00:08:56.470 --> 00:08:57.850\nAll the things you hear about.\n\n175\n00:08:57.850 --> 00:08:59.884\nAnd I'm not suggesting that is or\nisn't right.\n\n176\n00:08:59.884 --> 00:09:04.790\nClearly, when you overlay protections\nlike some sort of encryption with EFS or\n\n177\n00:09:04.790 --> 00:09:06.860\nBitLocker or whatever it is.\n\n178\n00:09:06.860 --> 00:09:09.330\nThere's gonna be a negative\nin terms of performance.\n\n179\n00:09:09.330 --> 00:09:12.100\nIt would be foolhardy to say,\nthat's not the case.\n\n180\n00:09:12.100 --> 00:09:16.520\nBut the reality is with modern technology,\nvirtualization,\n\n181\n00:09:16.520 --> 00:09:19.870\nhardware, modern operating systems,\nall things we think about.\n\n182\n00:09:19.870 --> 00:09:21.520\nWe can tend to offset that, right?\n\n183\n00:09:21.520 --> 00:09:24.460\nI mean, the end user probably isn't\naware of the fact, in other words,\n\n184\n00:09:24.460 --> 00:09:26.230\nthat things are running a little slower.\n\n185\n00:09:26.230 --> 00:09:27.614\nYes, they will complain anyway, right?\n\n186\n00:09:27.614 --> 00:09:30.159\nThat's just the nature of the end user.\n\n187\n00:09:30.159 --> 00:09:34.040\nThat's what makes working in IT,\nright, so much fun.\n\n188\n00:09:34.040 --> 00:09:37.585\nBut the reality is that they're\ncomplaining because generically,\n\n189\n00:09:37.585 --> 00:09:40.150\nthey think the system isn't\nperforming as fast as\n\n190\n00:09:40.150 --> 00:09:43.646\nthey will like it to It's not\nspecific necessarily to encryption.\n\n191\n00:09:43.646 --> 00:09:47.701\nAnd so, don't let people fool you into\nbuying into this idea that encryption slow\n\n192\n00:09:47.701 --> 00:09:51.486\nthings down dramatically and therefore\nis not a good security protection.\n\n193\n00:09:51.486 --> 00:09:55.636\nQuite the opposite, it does certainly\nimpact performance at a minimal level but\n\n194\n00:09:55.636 --> 00:09:57.170\nwe can more than offset that.\n\n195\n00:09:57.170 --> 00:10:01.271\nAnd the fact that the protections we\nprovide are so comprehensive as Mike was\n\n196\n00:10:01.271 --> 00:10:05.390\nsuggesting, is more than an offset\nwith regards to the performance issue.\n\n197\n00:10:05.390 --> 00:10:07.470\nSo I just want to make sure we're\nthinking about that, right,\n\n198\n00:10:07.470 --> 00:10:08.530\nas we talked through this.\n\n199\n00:10:08.530 --> 00:10:11.510\n&gt;&gt; All right Adam, so you said you've got\na file that was encrypted with somebody\n\n200\n00:10:11.510 --> 00:10:13.230\nelses-\n&gt;&gt; I do, a folder and a file.\n\n201\n00:10:13.230 --> 00:10:14.710\n&gt;&gt; A folder and a directory.\n\n202\n00:10:14.710 --> 00:10:17.340\n&gt;&gt; Both, so\nnow you're logged in as somebody else and\n\n203\n00:10:17.340 --> 00:10:19.040\nyou're gonna try to access this resource.\n\n204\n00:10:19.040 --> 00:10:20.114\n&gt;&gt; Let's just set this up real quick.\n\n205\n00:10:20.114 --> 00:10:23.321\nSo take a look with me here if you will,\nor up there if you will, over there.\n\n206\n00:10:23.321 --> 00:10:25.651\nAll right so\nI'm on my Windows 10 machine and\n\n207\n00:10:25.651 --> 00:10:29.400\nyou can see I'm kinda highlighting\na folder there, it's EFS John.\n\n208\n00:10:29.400 --> 00:10:32.880\nSo I logged on to this Windows 10 machine\nbefore we got started with the episode,\n\n209\n00:10:32.880 --> 00:10:35.920\nas John Smith, went ahead and\ncreated this folder.\n\n210\n00:10:35.920 --> 00:10:39.625\nInside of it, I created a file\ncalled memo, you could see it there,\n\n211\n00:10:39.625 --> 00:10:43.144\nit's a little Notepad file,\nit just says, this is my efs test.\n\n212\n00:10:43.144 --> 00:10:45.571\nAnd although it's very hard to see,\n\n213\n00:10:45.571 --> 00:10:50.519\nthere is a little yellow padlock at\nthe upper right hand corner of the file.\n\n214\n00:10:50.519 --> 00:10:53.585\nAnd that indicates that\nthe file has been indeed,\n\n215\n00:10:53.585 --> 00:10:56.760\nindeed has EFS encryption\nattribute to sign.\n\n216\n00:10:56.760 --> 00:11:00.327\nWe used to change color on these things,\nremember green and blue [CROSSTALK].\n\n217\n00:11:00.327 --> 00:11:05.236\nAnd all that, but now in server 16 and\nWindows 10 we're putting little padlock\n\n218\n00:11:05.236 --> 00:11:09.390\nup on the right hand corner to\nindicate that it's gonna be encrypted.\n\n219\n00:11:09.390 --> 00:11:12.647\nSo we see that, I've encrypted the file,\nI've logged off,\n\n220\n00:11:12.647 --> 00:11:14.661\nlogged back in as the administrator.\n\n221\n00:11:14.661 --> 00:11:18.490\nSo I'm on as the domain admin and\nnow I'm gonna try to open this file.\n\n222\n00:11:18.490 --> 00:11:21.680\nRight now in theory, we'd say well, I\nshould be able to open the file up, right?\n\n223\n00:11:21.680 --> 00:11:22.230\n&gt;&gt; Absolutely.\n\n224\n00:11:22.230 --> 00:11:24.224\n&gt;&gt; I have rights to everything after all,\nright?\n\n225\n00:11:24.224 --> 00:11:25.890\nSo I should be able to, right?\n\n226\n00:11:25.890 --> 00:11:28.686\nSo before we do that though,\nlet's just take a look at something.\n\n227\n00:11:28.686 --> 00:11:32.248\nLet's just go right here we're gonna right\nclick, as we did in the last episode just\n\n228\n00:11:32.248 --> 00:11:35.676\nremind you where the settings are enabled\nso you know what we're talking about.\n\n229\n00:11:35.676 --> 00:11:40.031\nWe're gonna go to properties and just\nbring this up so we can kinda center this\n\n230\n00:11:40.031 --> 00:11:43.917\nand you could see it and all I did to\nenable the EFS attributes to enable\n\n231\n00:11:43.917 --> 00:11:48.040\nencryption was I went to the folder,\ndepending where I'm doing it.\n\n232\n00:11:48.040 --> 00:11:51.200\nYou can see the padlock a little clearer\nthere by the way, it is a yellow pouch,\n\n233\n00:11:51.200 --> 00:11:54.250\nwhich is very small, when you look\nat it in the file explorer but\n\n234\n00:11:54.250 --> 00:11:56.150\nyou could see right there.\n\n235\n00:11:56.150 --> 00:11:58.440\nI come through advanced and\n\n236\n00:11:58.440 --> 00:12:01.510\nyou'll see that I've checked off\nencrypt contents to secure data.\n\n237\n00:12:01.510 --> 00:12:05.610\nSo, that's how I enable the EFS attributes\nto encrypt the file or the folder.\n\n238\n00:12:05.610 --> 00:12:08.397\nIt's a question of where I\nwant to apply that encryption.\n\n239\n00:12:08.397 --> 00:12:11.055\nIf you remember,\nif I do it at the folder level,\n\n240\n00:12:11.055 --> 00:12:13.310\nI get a pop up when I hit apply or okay.\n\n241\n00:12:13.310 --> 00:12:17.460\nYou want to inherit sub folders,\nfiles, etc.\n\n242\n00:12:17.460 --> 00:12:20.000\nYou just want it to be at\nthe folder level, not the files,\n\n243\n00:12:20.000 --> 00:12:22.560\nwhich in theory would\nstill offer protection.\n\n244\n00:12:22.560 --> 00:12:25.160\nBut if somebody knew directly how\nto get directly to that file,\n\n245\n00:12:25.160 --> 00:12:27.560\nthey could in theory bypass\nthe protection, right?\n\n246\n00:12:27.560 --> 00:12:30.793\nSo we want to make sure we always apply\nthis hieracrchy throughout the all\n\n247\n00:12:30.793 --> 00:12:32.230\nthe different layers, right?\n\n248\n00:12:32.230 --> 00:12:34.220\nSo we want to inherit that down,\nso we did that.\n\n249\n00:12:34.220 --> 00:12:37.980\nAll right, so we're gonna just get out of\nhere and what we're gonna do is go ahead,\n\n250\n00:12:37.980 --> 00:12:38.913\ntry to open this up.\n\n251\n00:12:38.913 --> 00:12:41.646\nAnd you'll see that even\nas the domain admin,\n\n252\n00:12:41.646 --> 00:12:44.731\nwithout some additional\ntinkering on the back end,\n\n253\n00:12:44.731 --> 00:12:48.677\nwe're gonna go through what those\nsteps are here in just a minute.\n\n254\n00:12:48.677 --> 00:12:53.652\nBut without access to the recovery\nagent certificates who enable us\n\n255\n00:12:53.652 --> 00:12:56.670\nto be able to Get in, not as John Smith.\n\n256\n00:12:56.670 --> 00:13:00.570\nNot as the author, the owner, the creator\nowner of this folder or this file, or\n\n257\n00:13:00.570 --> 00:13:05.430\nthe directory information, but rather as\nan individual user [INAUDIBLE] who we are.\n\n258\n00:13:05.430 --> 00:13:06.990\nWithout that certificate,\n\n259\n00:13:06.990 --> 00:13:09.190\ncuz we're talking about\ncertificate based encryption.\n\n260\n00:13:09.190 --> 00:13:13.060\nI don't have rights, even as a domain\nadmin, I do not have rights to this file.\n\n261\n00:13:13.060 --> 00:13:15.994\n&gt;&gt; So, what Windows is doing then,\ncuz we've learned in our previous episode,\n\n262\n00:13:15.994 --> 00:13:18.803\nright, that Windows creates that\nsymmetric key, the file encryption key\n\n263\n00:13:18.803 --> 00:13:20.493\n&gt;&gt; We did talk about keys, correct.\n\n264\n00:13:20.493 --> 00:13:25.184\n&gt;&gt; Encrypts the document, and\nthen encrypts the file encryption key with\n\n265\n00:13:25.184 --> 00:13:27.936\nthe user's certificate key\n&gt;&gt; The public key certificate,\n\n266\n00:13:27.936 --> 00:13:29.047\nthe certificate with the public key.\n\n267\n00:13:29.047 --> 00:13:31.563\n&gt;&gt; And, so\nas domain admin you're logging on and\n\n268\n00:13:31.563 --> 00:13:34.025\nWindows is checking\nyour private key stash.\n\n269\n00:13:34.025 --> 00:13:36.902\nAnd it's saying your private key\ndoes not match the public key or\n\n270\n00:13:36.902 --> 00:13:40.326\nI cannot decrypt this file, so you're\nnot gonna get access to that record.\n\n271\n00:13:40.326 --> 00:13:43.015\n&gt;&gt; Correct, and if we go back just\nto advanced here for a minute,\n\n272\n00:13:43.015 --> 00:13:45.911\nwe take a look, we didn't bother\nto click on the next button over,\n\n273\n00:13:45.911 --> 00:13:47.130\nI just clicked to show you.\n\n274\n00:13:47.130 --> 00:13:50.900\nBut if we go to details, which is where\nwe could see what Mike was suggesting,\n\n275\n00:13:50.900 --> 00:13:52.880\nright, you'll see here that the user.\n\n276\n00:13:52.880 --> 00:13:56.181\nWho I explained,\nJohn Smith is the user I used, the alias,\n\n277\n00:13:56.181 --> 00:13:59.308\nto be able to create this users\nwho can access this file.\n\n278\n00:13:59.308 --> 00:14:01.530\nSo John as the owner has rights.\n\n279\n00:14:01.530 --> 00:14:04.256\nIf I log off log in as John I can\nopen this window without trouble and\n\n280\n00:14:04.256 --> 00:14:06.001\nyou can see I could add additional users.\n\n281\n00:14:06.001 --> 00:14:09.844\nI'll tell you about potentially\nadmitting the access control list and\n\n282\n00:14:09.844 --> 00:14:13.955\nfairly granting rights to users like\nMichael is suggesting we do with NTFS.\n\n283\n00:14:13.955 --> 00:14:17.309\nI was pointing out we could be guilty of\nthe same issue here if we're not paying\n\n284\n00:14:17.309 --> 00:14:20.251\nattention, cuz we could add users\nin here as an administrator, but\n\n285\n00:14:20.251 --> 00:14:21.249\nit takes more effort.\n\n286\n00:14:21.249 --> 00:14:23.301\nWe'd really have to know we're doing it,\n\n287\n00:14:23.301 --> 00:14:25.610\nas opposed to just\nputting them in a group.\n\n288\n00:14:25.610 --> 00:14:26.334\nAnd then, as you said,\n\n289\n00:14:26.334 --> 00:14:28.455\ninheriting and potentially\nmodifying without realizing, right?\n\n290\n00:14:28.455 --> 00:14:32.110\n&gt;&gt; Yeah, here you would know you're\nspecifically giving somebody access to\n\n291\n00:14:32.110 --> 00:14:32.990\nthis resource.\n\n292\n00:14:32.990 --> 00:14:35.690\n&gt;&gt; We are.\n&gt;&gt; But another admin, as far as NTFS goes,\n\n293\n00:14:35.690 --> 00:14:39.750\nI could add you to the sales group, not\nrealizing that the sales group had access\n\n294\n00:14:39.750 --> 00:14:42.220\nto-\n&gt;&gt; Already prior existing on the ACR.\n\n295\n00:14:42.220 --> 00:14:46.722\nSo this is a little bit more trim, right,\na little bit more scoped and tailored.\n\n296\n00:14:46.722 --> 00:14:49.887\nAnd as a result, it would be harder for\nus to claim ignorance and\n\n297\n00:14:49.887 --> 00:14:52.400\nnot be aware of the fact\nthat we had done this.\n\n298\n00:14:52.400 --> 00:14:54.705\nBut you'll notice that we do\nhave a recovery certificate for\n\n299\n00:14:54.705 --> 00:14:56.387\nthe file as defined by\nour recovery policy.\n\n300\n00:14:56.387 --> 00:15:00.979\nI mentioned that the domain administrator\nhas rights as a recovery agent to every\n\n301\n00:15:00.979 --> 00:15:05.504\nfile, every, just let's just say\ngenerically every piece of data, folder or\n\n302\n00:15:05.504 --> 00:15:07.889\nfile, any hierarchical relationship.\n\n303\n00:15:07.889 --> 00:15:11.717\nBut any item that is encrypted with EFS,\nthe domain administrator is\n\n304\n00:15:11.717 --> 00:15:15.281\ngranted rights as a recovery agent\nas a fail safe mechanism, but\n\n305\n00:15:15.281 --> 00:15:17.856\nthose rights are not\nimmediately available.\n\n306\n00:15:17.856 --> 00:15:19.069\nThis is the thing, right?\n\n307\n00:15:19.069 --> 00:15:23.875\nI, in theory, have a system here that\nsays, okay, as the domain administrator,\n\n308\n00:15:23.875 --> 00:15:25.030\nyou should.\n\n309\n00:15:25.030 --> 00:15:29.460\nShould, not can, should be able\nto see this file and recover it,\n\n310\n00:15:29.460 --> 00:15:31.400\nin theory, under the right circumstances.\n\n311\n00:15:31.400 --> 00:15:35.200\nAnd we're gonna walk through that, and the\nanswer is absolutely, we will be able to.\n\n312\n00:15:35.200 --> 00:15:39.058\nBut unless we do some additional\nthings to enable our ability to apply\n\n313\n00:15:39.058 --> 00:15:43.648\nthat recovery option to our account and\nuse it to essentially have a backdoor key,\n\n314\n00:15:43.648 --> 00:15:45.909\na skeleton key, that opens up the file or\n\n315\n00:15:45.909 --> 00:15:49.998\nthe folder and un-encrypts the content,\nwithout us being John Smith.\n\n316\n00:15:49.998 --> 00:15:52.650\nCuz in theory I could log on and\nimpersonate John Smith, right?\n\n317\n00:15:52.650 --> 00:15:54.596\nI mean, that would be another option.\n\n318\n00:15:54.596 --> 00:15:58.367\nAnd that's often how hackers\nwill violate the integrity,\n\n319\n00:15:58.367 --> 00:16:01.773\nthe confidentiality,\nthe protections we provide.\n\n320\n00:16:01.773 --> 00:16:06.381\nThrough things like, digital signatures\nprovide integrity, or hashes,\n\n321\n00:16:06.381 --> 00:16:07.750\nwhatever they may be.\n\n322\n00:16:07.750 --> 00:16:11.820\nConfidentiality protections with\nencryption, they will assume the identity\n\n323\n00:16:11.820 --> 00:16:16.630\nof the owner creator, and use that\ncredential to masquerade or spoof, right?\n\n324\n00:16:16.630 --> 00:16:20.600\nSo then, legitimately in the eyes\nof the system it granted access.\n\n325\n00:16:20.600 --> 00:16:24.230\nSo that's the issue, we're not going to\ndo that, although we could go that route.\n\n326\n00:16:24.230 --> 00:16:27.460\nI can easily log on as John Smith and\nwould be able to open the file.\n\n327\n00:16:27.460 --> 00:16:30.630\nBut that's not really what typically\nis going to happen, right?\n\n328\n00:16:30.630 --> 00:16:34.435\nWhen we're talking about recovering\na file with the fs or a folder,\n\n329\n00:16:34.435 --> 00:16:37.189\nwe're probably not going\nto log on as that user.\n\n330\n00:16:37.189 --> 00:16:40.773\nBut rather a users may have been deleted,\nmay no longer be active,\n\n331\n00:16:40.773 --> 00:16:43.660\nthis is when recovery\noptions become important.\n\n332\n00:16:43.660 --> 00:16:47.310\nThe domain admin has to step in and\nsay, we'll let me fix that or\n\n333\n00:16:47.310 --> 00:16:49.600\nlet me grant access.\n\n334\n00:16:49.600 --> 00:16:51.168\n[CROSSTALK]\n&gt;&gt; We're talking about this\n\n335\n00:16:51.168 --> 00:16:52.410\nrecovery scenario.\n\n336\n00:16:52.410 --> 00:16:57.190\nBut if I got John and John has his key,\nJohn can just open up the vacuum and\n\n337\n00:16:57.190 --> 00:16:58.730\nthere's no need to [CROSSTALK]\n&gt;&gt; Absolutely.\n\n338\n00:16:58.730 --> 00:17:03.500\n&gt;&gt; So what is the scenario where\nI might need to recover a file?\n\n339\n00:17:03.500 --> 00:17:05.610\n&gt;&gt; Well, so if John is unavailable,\n\n340\n00:17:05.610 --> 00:17:09.600\nand not John himself or whoever\nJohn represents, him or her, right?\n\n341\n00:17:09.600 --> 00:17:13.080\nBut the user, if they're unavailable but\nthe account is intact.\n\n342\n00:17:13.080 --> 00:17:16.760\nThen we could assume the identity of\nthe user, probably reset the password.\n\n343\n00:17:16.760 --> 00:17:20.870\nAnd simply then log on as the user,\nrecovering the file or the folder,\n\n344\n00:17:20.870 --> 00:17:22.390\nthat wouldn't be hard.\n\n345\n00:17:22.390 --> 00:17:26.960\nBut if the account has been deleted\nwhich could happen let's say maybe John\n\n346\n00:17:26.960 --> 00:17:31.910\nleaves the organization through our off\nboarding process whatever that maybe.\n\n347\n00:17:31.910 --> 00:17:34.980\nWe don't take notice of for\nsome reason don't realize\n\n348\n00:17:34.980 --> 00:17:37.340\nthat there's data has been\nencrypted with Johns credentials.\n\n349\n00:17:37.340 --> 00:17:39.320\nWhich is usually what happens right.\n\n350\n00:17:39.320 --> 00:17:43.200\nAnd as a result, sometime later\nthat data comes like we need that\n\n351\n00:17:43.200 --> 00:17:46.500\nyou're in sales report and\nJohn was the guy right.\n\n352\n00:17:46.500 --> 00:17:50.360\nAnd well John and his account\nare long gone and any data that\n\n353\n00:17:50.360 --> 00:17:54.990\nwas tied to Johns account and\nthose keys is essentially there, right?\n\n354\n00:17:54.990 --> 00:17:57.800\nIn theory, it's on a file share somewhere,\nlets say we have a copy of it.\n\n355\n00:17:57.800 --> 00:18:00.630\nBut the keys associated\nwith encryption decryption\n\n356\n00:18:00.630 --> 00:18:03.740\nwere removed when John's account\nwas removed from the system.\n\n357\n00:18:03.740 --> 00:18:06.770\n&gt;&gt; Right, cuz that private key\nis stored in the user profile.\n\n358\n00:18:06.770 --> 00:18:09.230\n&gt;&gt; Part of the profile,\nthe user profile in the directory,\n\n359\n00:18:09.230 --> 00:18:11.300\nin this case in our domain controller.\n\n360\n00:18:11.300 --> 00:18:14.550\nAnd because we removed the account,\nwhen I say remove, I mean delete, right,\n\n361\n00:18:14.550 --> 00:18:15.480\nlet's be clear.\n\n362\n00:18:15.480 --> 00:18:16.330\nWe didn't just say, hey,\n\n363\n00:18:16.330 --> 00:18:19.660\nlet's disable the account cuz then we\ncould re-enable, wouldn't be a big deal.\n\n364\n00:18:19.660 --> 00:18:23.970\nBut if we deleted the account and\nthe account has legitimately been removed,\n\n365\n00:18:23.970 --> 00:18:25.310\nit's just gone.\n\n366\n00:18:25.310 --> 00:18:29.380\nThen even if we recreate the account,\nJohn Smith account.\n\n367\n00:18:29.380 --> 00:18:32.730\nBut we'd have a new set of keys,\na new user ID, so\n\n368\n00:18:32.730 --> 00:18:36.330\nnew is produced that uniquely\nidentifies that user.\n\n369\n00:18:36.330 --> 00:18:39.740\nAnd although the name is the same,\nsome of the metadata is the same,\n\n370\n00:18:39.740 --> 00:18:42.170\nlet's say the group membership's\nwould even be the same.\n\n371\n00:18:42.170 --> 00:18:44.090\nThe user object itself is unique.\n\n372\n00:18:44.090 --> 00:18:47.120\nAnd as a result, that certificate\nthumbprint, which is kind of hard to see,\n\n373\n00:18:47.120 --> 00:18:48.000\nit's on the edge there.\n\n374\n00:18:48.000 --> 00:18:50.110\nBut in that column right there,\n\n375\n00:18:51.330 --> 00:18:56.115\nif I can master the Touchpads,\nopen that up right, there we go.\n\n376\n00:18:56.115 --> 00:18:59.915\nThe certificate thumb print right there,\nthat is the unique identifier for\n\n377\n00:18:59.915 --> 00:19:03.295\nthe certificate issue to John to use for\nEFS.\n\n378\n00:19:03.295 --> 00:19:05.575\nThat is unique cuz that's tied\nto his account or her account or\n\n379\n00:19:05.575 --> 00:19:08.065\nwhoever the user is, that's gonna change.\n\n380\n00:19:08.065 --> 00:19:10.305\nAnd as a result, we're not gonna\nbe able to reproduce that key.\n\n381\n00:19:10.305 --> 00:19:14.740\nNow we're in a situation where either\nwe hack it to in theory figure it out,\n\n382\n00:19:14.740 --> 00:19:16.500\nwhich in theory is always possible.\n\n383\n00:19:16.500 --> 00:19:19.806\nBut highly unlikely, especially\nthe reasonable amount of time for\n\n384\n00:19:19.806 --> 00:19:22.361\nall the reasons we talk about and\nother scary shows.\n\n385\n00:19:22.361 --> 00:19:24.620\n&gt;&gt; [LAUGH]\n&gt;&gt; You heard me and Mike and Daniel and\n\n386\n00:19:24.620 --> 00:19:26.990\nCherokee and everybody else go through.\n\n387\n00:19:26.990 --> 00:19:29.110\nSo let's assume that's although possible,\n\n388\n00:19:29.110 --> 00:19:30.950\nhighly unlikely in\na reasonable amount of time.\n\n389\n00:19:30.950 --> 00:19:35.410\nThe only other option is hey there's\nanother user that in theory has rights and\n\n390\n00:19:35.410 --> 00:19:36.680\nthen we can bring [INAUDIBLE].\n\n391\n00:19:36.680 --> 00:19:39.430\nAnd that is what we call\nthe recovery agent.\n\n392\n00:19:39.430 --> 00:19:42.240\nIt's gonna be the dummy administrator\nby default and by design.\n\n393\n00:19:42.240 --> 00:19:45.010\nThat doesn't mean we can't assign\nthat right to other users.\n\n394\n00:19:45.010 --> 00:19:47.140\nWe could also designate\nother recovery agents.\n\n395\n00:19:47.140 --> 00:19:51.490\nBut typically, at least in most\norganizations I've worked with\n\n396\n00:19:51.490 --> 00:19:54.740\nin the real world and\nin many just generic environments.\n\n397\n00:19:54.740 --> 00:19:58.450\nWe have that default there because we\nmay not remember and or have a policy.\n\n398\n00:19:58.450 --> 00:20:02.900\nThe drives are a thought process around\nassignment of recovery agent capabilities.\n\n399\n00:20:02.900 --> 00:20:06.310\nAnd so we default to the domain admin,\nbecause it is seen as a protected,\n\n400\n00:20:06.310 --> 00:20:07.730\nhigh level credential..\n\n401\n00:20:07.730 --> 00:20:09.530\nIt should not,\nif you follow this practice,\n\n402\n00:20:09.530 --> 00:20:13.020\nbe used normally as a standard\nlogon account everyday.\n\n403\n00:20:13.020 --> 00:20:15.250\nAlthough many of you, unfortunately,\n\n404\n00:20:15.250 --> 00:20:18.850\nprobably work in organizations where the\nexact opposite occurs on a regular basis.\n\n405\n00:20:18.850 --> 00:20:20.500\nBut that's another story.\n\n406\n00:20:20.500 --> 00:20:22.410\nRight, but\nwe know that as the best practice,\n\n407\n00:20:22.410 --> 00:20:26.510\nwe should not be logging on those\nextraordinary administrative accounts.\n\n408\n00:20:26.510 --> 00:20:29.920\nWe should have normal accounts,\nthen use a pseudo processor.\n\n409\n00:20:29.920 --> 00:20:31.010\nFor those of you Unix or\n\n410\n00:20:31.010 --> 00:20:34.760\nLinux based, an escalation process\nwhere you have a different credential\n\n411\n00:20:34.760 --> 00:20:38.900\nthat allows us to operate as a super user,\nie an administrator.\n\n412\n00:20:38.900 --> 00:20:42.073\nAnd as a result, we should be using that\nwhen we have to assume that identity for\n\n413\n00:20:42.073 --> 00:20:43.240\nadministrative purposes.\n\n414\n00:20:43.240 --> 00:20:47.830\nIf we follow that behavior and that tought\nprocess, that account should be protected.\n\n415\n00:20:47.830 --> 00:20:51.340\nAnd as a result,\nassigning it the right to be able to go.\n\n416\n00:20:51.340 --> 00:20:54.080\nAnd recover this file or this folder or\n\n417\n00:20:54.080 --> 00:20:57.420\nwhatever it is,\nmakes a lot of sense out of the box.\n\n418\n00:20:57.420 --> 00:21:01.380\nBecause this account is very unlikely to\nbe compromised because of normal use.\n\n419\n00:21:01.380 --> 00:21:03.900\nAnd as a result is usually pretty secure.\n\n420\n00:21:03.900 --> 00:21:07.010\nNow we can use certificates, we've\ntried these ideas to use certificates.\n\n421\n00:21:07.010 --> 00:21:10.609\nRecovery, we can recover\nusing the user certificate,\n\n422\n00:21:10.609 --> 00:21:11.823\nif user account is still there.\n\n423\n00:21:11.823 --> 00:21:15.489\nAs I suggested, we can [INAUDIBLE]\nassume the identity views or log on.\n\n424\n00:21:15.489 --> 00:21:19.164\nMaybe offboarding process says,\nhey let's disable the user account for\n\n425\n00:21:19.164 --> 00:21:21.210\na period of time, not delete it.\n\n426\n00:21:21.210 --> 00:21:24.930\nChange the password, lock them out,\nessentially prevent them from getting on.\n\n427\n00:21:24.930 --> 00:21:28.100\nBut we could then use that account and\nwe hydrate it, right?\n\n428\n00:21:28.100 --> 00:21:29.900\nWe constitute it if necessary.\n\n429\n00:21:29.900 --> 00:21:31.780\nAllowing us access to any data and\n\n430\n00:21:31.780 --> 00:21:34.380\nany functionality that that\naccount may have with it.\n\n431\n00:21:34.380 --> 00:21:38.510\nThat's a process that makes a lot of\nsense and one that I counsel my users,\n\n432\n00:21:38.510 --> 00:21:41.640\nmy students,\nmy customers about in the real world.\n\n433\n00:21:41.640 --> 00:21:46.370\nAnd say hey, create a policy driven\nenvironment, where you have a standard and\n\n434\n00:21:46.370 --> 00:21:48.588\nyou follow the standard for\neverything we do.\n\n435\n00:21:48.588 --> 00:21:52.410\nBut not just for this particular event,\nbut with anything we do,\n\n436\n00:21:52.410 --> 00:21:56.140\nwe talk about with security and\nessentially for administration.\n\n437\n00:21:56.140 --> 00:21:58.900\nAnd that policy should\ninclude a step-by-step\n\n438\n00:21:58.900 --> 00:22:02.000\nprocess because policy informs process.\n\n439\n00:22:02.000 --> 00:22:06.400\nAnd as a result, if we have a policy that\nsays this is how we off-board a user and\n\n440\n00:22:06.400 --> 00:22:10.030\nthese are our objectives, policy should\nanswer the questions why, right?\n\n441\n00:22:10.030 --> 00:22:12.690\nWhy are we doing something,\nessentially a root cause statement.\n\n442\n00:22:12.690 --> 00:22:14.900\nHere's how we securely\nsay goodbye to people.\n\n443\n00:22:14.900 --> 00:22:18.300\nWe wanna do that ensure\ncontinuity of security,\n\n444\n00:22:18.300 --> 00:22:20.530\ncontinuity of access to information and\n\n445\n00:22:20.530 --> 00:22:24.690\navailability of user data after the user\nno longer exist right in the insist.\n\n446\n00:22:24.690 --> 00:22:25.700\nPretty straight forward.\n\n447\n00:22:25.700 --> 00:22:27.690\nPolicy don't have to be long with it.\n\n448\n00:22:27.690 --> 00:22:30.480\nCouple of paragraphs, and that's\ntypically enough for a policy, right?\n\n449\n00:22:30.480 --> 00:22:33.850\nSo, it should answer that question,\nshould also answer what, right?\n\n450\n00:22:33.850 --> 00:22:35.140\nWhat are we accomplishing?\n\n451\n00:22:35.140 --> 00:22:37.320\nNot how, people often mistake this and\n\n452\n00:22:37.320 --> 00:22:40.410\nI talk about this, we've talked about it\nbefore in other security shows, right?\n\n453\n00:22:40.410 --> 00:22:44.450\nWe're prescriptive and being very detailed\nstep-by-step here when we create a policy.\n\n454\n00:22:44.450 --> 00:22:46.946\nWe're giving you general high level\nguidance from senior management.\n\n455\n00:22:46.946 --> 00:22:51.150\nThe prescriptive step-by-step\nguidance to how we're going to do it,\n\n456\n00:22:51.150 --> 00:22:55.890\nis going to be the actual process, the\nstep-by-step that we break it down into.\n\n457\n00:22:55.890 --> 00:22:59.600\nSo if we set the policy that says,\nhere's what we want to accomplish.\n\n458\n00:22:59.600 --> 00:23:02.570\nIn short, continuity of access to\ninformation after the user leaves\n\n459\n00:23:02.570 --> 00:23:06.000\nthe organization for a period of 30 days.\n\n460\n00:23:06.000 --> 00:23:08.010\nOr whatever it is that\nwe feel is valid for\n\n461\n00:23:08.010 --> 00:23:10.930\nall managers to check\nthe status of information.\n\n462\n00:23:10.930 --> 00:23:14.620\nFor an IT professional, go in and audit\nall the file shares, to recover email.\n\n463\n00:23:14.620 --> 00:23:16.080\nYou know,\nall the stuff we have to do, right?\n\n464\n00:23:16.080 --> 00:23:17.860\n30 days is typically enough time.\n\n465\n00:23:17.860 --> 00:23:20.870\nMaybe it's more aggressive,\nmaybe it's less, it's up to you.\n\n466\n00:23:20.870 --> 00:23:24.520\nBut if you do that, you then have\nthe ability to use the users own\n\n467\n00:23:24.520 --> 00:23:26.610\nrecovery capabilities\nbuilt into their account.\n\n468\n00:23:26.610 --> 00:23:29.420\nBecause you simply log on as them,\nand use that account.\n\n469\n00:23:29.420 --> 00:23:33.590\nBut we could also recover using a key\narchival process from a certificate issued\n\n470\n00:23:33.590 --> 00:23:36.620\nby a certificate authority, have those\nkeys archived, we could do that.\n\n471\n00:23:36.620 --> 00:23:40.760\nWe've talked about ADCS, active descripts\ncertificate services, using and\n\n472\n00:23:40.760 --> 00:23:42.760\nhaving the capability to archive keys.\n\n473\n00:23:42.760 --> 00:23:45.950\nSo that's we've shown you how\nto do this in other episodes\n\n474\n00:23:45.950 --> 00:23:49.300\nin the active descripts\nconversations we've had.\n\n475\n00:23:49.300 --> 00:23:51.684\nNot so\nmuch in this show around securing Windows,\n\n476\n00:23:51.684 --> 00:23:54.083\nalthough you've heard me\nmention it many times.\n\n477\n00:23:54.083 --> 00:24:01.180\nBut in the managing server identity for\nserver 16 shows that we did, the 7742.\n\n478\n00:24:01.180 --> 00:24:03.461\nAs opposed to 7744.\n\n479\n00:24:03.461 --> 00:24:06.880\nCherokee and I did a whole series\nof shows on certificate services.\n\n480\n00:24:06.880 --> 00:24:09.569\nSix episodes or\nwhole series of episodes I should say,\n\n481\n00:24:09.569 --> 00:24:12.322\nsix episodes on certificate services,\ntop to bottom.\n\n482\n00:24:12.322 --> 00:24:15.149\nWe talked about about how to set it up,\nwhat it is, how to enable it,\n\n483\n00:24:15.149 --> 00:24:16.803\nshowed you how to issue certificates.\n\n484\n00:24:16.803 --> 00:24:20.836\nShowed you how to manage templates, showed\nyou how to archive and do key archival.\n\n485\n00:24:20.836 --> 00:24:22.320\nWent through the whole\nthing top to bottom.\n\n486\n00:24:22.320 --> 00:24:25.600\nSo if you haven't seen that encryption,\ngo back and take a look there.\n\n487\n00:24:25.600 --> 00:24:29.940\nBe very helpful for you to understand\nthe process, right, and reference it here.\n\n488\n00:24:29.940 --> 00:24:33.160\nMike offered to do a quick demo and recite\nthe whole thing standing on one foot.\n\n489\n00:24:33.160 --> 00:24:35.622\nBut I told him it'll be way\ntoo much effort, right.\n\n490\n00:24:35.622 --> 00:24:39.135\nBut we can also recover files using\na different users' EFS certificate,\n\n491\n00:24:39.135 --> 00:24:40.722\nwhat we're talking about here,\n\n492\n00:24:40.722 --> 00:24:43.913\nthat recovery agent certificate\ngives us a third option, right.\n\n493\n00:24:43.913 --> 00:24:45.703\nSo we could go to user itself,\n\n494\n00:24:45.703 --> 00:24:50.219\ngo get an archive key from the key\narchive in the certificate authority, or\n\n495\n00:24:50.219 --> 00:24:54.752\nuse a recovery agent that's been\npredetermined and assigned the rights.\n\n496\n00:24:54.752 --> 00:24:59.241\nWe have a lot of different options, right,\nand this is a good thing because we don't\n\n497\n00:24:59.241 --> 00:25:03.054\nto be stuck in a situation where we\nonly can rely on the user's account.\n\n498\n00:25:03.054 --> 00:25:07.261\nAnd if somebody, a well meaning\nadministrator goes in a destroys that user\n\n499\n00:25:07.261 --> 00:25:10.810\naccount, for whatever reason,\nthen we're done, right.\n\n500\n00:25:10.810 --> 00:25:12.934\nYou might as well just throw the data\naway, you're not getting it back.\n\n501\n00:25:12.934 --> 00:25:14.410\nThat's going to be a big issue.\n\n502\n00:25:14.410 --> 00:25:18.172\n&gt;&gt; All right, Adam, so let's say that\nour user account somehow got destroyed,\n\n503\n00:25:18.172 --> 00:25:20.330\nprofile is gone, key is lost.\n\n504\n00:25:20.330 --> 00:25:22.910\nSo the user can no longer\naccess the resource.\n\n505\n00:25:22.910 --> 00:25:27.305\nWhen we setup certificate services, we\ndidn't think we would need key archival,\n\n506\n00:25:27.305 --> 00:25:30.782\nwe didn't watch your other episodes,\nso we didn't set that up.\n\n507\n00:25:30.782 --> 00:25:35.110\nSo now we need to get access to this\ndocument, so what is our next step?\n\n508\n00:25:35.110 --> 00:25:37.510\n&gt;&gt; So boy, have I got a website for you.\n\n509\n00:25:37.510 --> 00:25:39.930\nSo it's a good a question to ask, right.\n\n510\n00:25:39.930 --> 00:25:42.685\nWe've been talking, in theory,\nat a high level about a lot of things.\n\n511\n00:25:42.685 --> 00:25:44.710\nSo we're gonna obviously\nwalk through this process,\n\n512\n00:25:44.710 --> 00:25:47.580\nbut we are getting close to our time for\nthis episode.\n\n513\n00:25:47.580 --> 00:25:49.330\nSo I just wanna throw up\na couple quick things,\n\n514\n00:25:49.330 --> 00:25:51.250\nkinda speak to your comment about it.\n\n515\n00:25:51.250 --> 00:25:54.660\nAnd then we're gonna come back or actually\ngonna continue the walk-through now and\n\n516\n00:25:54.660 --> 00:25:56.140\nshow you how to export that certificate,\n\n517\n00:25:56.140 --> 00:25:59.060\ngrab it, bring it in,\nthe domain admin certificate right.\n\n518\n00:25:59.060 --> 00:26:02.100\nAnd assign it that we can\nactually then use to recover and\n\n519\n00:26:02.100 --> 00:26:03.010\nindeed access that file.\n\n520\n00:26:03.010 --> 00:26:06.690\nWe are gonna do that, but I thought it\nwas good just to bring this up since Mike\n\n521\n00:26:06.690 --> 00:26:09.740\nkinda threw the question out and\nsaid, great, mister smart guy,\n\n522\n00:26:09.740 --> 00:26:12.050\nyou talked about all this stuff,\nbut how do we actually do it.\n\n523\n00:26:12.050 --> 00:26:15.280\nSo Key Recovery vs Data Recovery\nDifferences, it's a great website,\n\n524\n00:26:15.280 --> 00:26:19.035\nit's actually a blog,\nthe PKI blog, that Microsoft has.\n\n525\n00:26:19.035 --> 00:26:22.800\nThere's lot of cool stuff, as we often\ntalk about, out on the Microsoft websites.\n\n526\n00:26:22.800 --> 00:26:27.630\nThis one comes from somebody who's\nwriting on PKI in Active Directory\n\n527\n00:26:27.630 --> 00:26:32.350\ncertificate services that I found, that\nI thought was a pretty good explanation.\n\n528\n00:26:32.350 --> 00:26:35.928\nIt's dated, it is from 2011,\nbut you know the good news is,\n\n529\n00:26:35.928 --> 00:26:40.570\nthis technology doesn't really change,\nthis has been around for a very long time.\n\n530\n00:26:40.570 --> 00:26:44.213\nWindows 2000 is where we see\nEFS really coming on the scene.\n\n531\n00:26:44.213 --> 00:26:48.659\nYou walk back, that's 16,\n17 close to 20 years at this point, right.\n\n532\n00:26:48.659 --> 00:26:53.254\nSo I mean this technology been around for\na while, and so seeing a discussion about\n\n533\n00:26:53.254 --> 00:26:57.916\nthis from several years ago now, really\nshould not, and hopefully does not in your\n\n534\n00:26:57.916 --> 00:27:01.401\nmind, invalidate the value of\nthe information on this page.\n\n535\n00:27:01.401 --> 00:27:05.130\nBecause it's as accurate and timely now\nas it was when this was written because\n\n536\n00:27:05.130 --> 00:27:08.916\nthe technology is essentially, well\nthere's a little nipping and tucking and\n\n537\n00:27:08.916 --> 00:27:11.684\nupdating here and there, and\nwe have some new group policy\n\n538\n00:27:11.684 --> 00:27:14.518\nextensions, things like that\n&gt;&gt; Maybe locate the algorithms we're\n\n539\n00:27:14.518 --> 00:27:16.130\nusing, but the concepts are still there.\n\n540\n00:27:16.130 --> 00:27:19.340\n&gt;&gt; Concepts are the same, technology\nessentially works the same way, right.\n\n541\n00:27:19.340 --> 00:27:23.860\nWe may use AES now, instead of DES, for\ninstance, 3DES, but other than that,\n\n542\n00:27:23.860 --> 00:27:27.490\nI mean MD5 is still there,\nthings like that.\n\n543\n00:27:27.490 --> 00:27:31.160\nAlthough now we're using SHA-256 instead\nof SHA-1 as our default signature\n\n544\n00:27:31.160 --> 00:27:34.190\nalgorithm in server 16,\nas we've talked about in other shows.\n\n545\n00:27:34.190 --> 00:27:37.520\nAll right so EFS certificate\nenrollment just talks a bit\n\n546\n00:27:37.520 --> 00:27:42.490\nabout some things that\nyou wanna be aware of.\n\n547\n00:27:42.490 --> 00:27:45.480\nNow again the screen captures\nare from earlier versions of the OS.\n\n548\n00:27:45.480 --> 00:27:49.600\nSo obviously understand logically\nthat this is not gonna look and\n\n549\n00:27:49.600 --> 00:27:53.240\nfeel like Server 16, we're just looking\nat the general thought process, right.\n\n550\n00:27:53.240 --> 00:27:55.200\nYou can ignore some of\nthe stuff about the hot fix for\n\n551\n00:27:55.200 --> 00:27:58.180\nXP and all that cuz that's\njust not really important.\n\n552\n00:27:58.180 --> 00:28:02.030\nBut the file encryption\nprocess how EFS is used,\n\n553\n00:28:02.030 --> 00:28:06.200\nhow it's applied, the FEK which is the\nFile Encryption Key that Mike spoke about.\n\n554\n00:28:06.200 --> 00:28:08.310\nWe talk that one last\nepisode of the FEK and\n\n555\n00:28:08.310 --> 00:28:13.420\nthe public key of the user which\nis then used to encrypt the FEK..\n\n556\n00:28:13.420 --> 00:28:16.645\nSo that way we take the symmetric\nfile encrypting key and\n\n557\n00:28:16.645 --> 00:28:19.220\nasymmetrically encrypted to protect and\nstore it.\n\n558\n00:28:19.220 --> 00:28:21.090\nWe've talked about the value\nthis is why it's important.\n\n559\n00:28:21.090 --> 00:28:23.353\nThis is discussed here how EFS works,\n\n560\n00:28:23.353 --> 00:28:27.250\nnice link to this on TechNet to see\na little bit more of a deep dive.\n\n561\n00:28:27.250 --> 00:28:29.520\nSo It's good just to go\nthrough at a high level,\n\n562\n00:28:29.520 --> 00:28:33.120\nespecially if you're planning on studying,\npreparing for the exam.\n\n563\n00:28:33.120 --> 00:28:37.670\nYour knowledge of this underlying\nroot capability, something like EFS,\n\n564\n00:28:37.670 --> 00:28:41.340\nsomething like BitLocker, which we'll\ncome to in some upcoming episodes.\n\n565\n00:28:41.340 --> 00:28:45.300\nGeneral knowledge of how these\ntechnologies work, so invaluable, so\n\n566\n00:28:45.300 --> 00:28:48.011\nimportant for\nyou when you prepare for the exam.\n\n567\n00:28:48.011 --> 00:28:51.461\nThis is one of those things you could just\nbet, no matter what else you think of that\n\n568\n00:28:51.461 --> 00:28:55.020\nyou're gonna see questions on something\nhaving to do with this kind of technology.\n\n569\n00:28:55.020 --> 00:28:57.434\nMaybe it's the way\ncertificates are generated,\n\n570\n00:28:57.434 --> 00:29:01.684\nmaybe it's how we enable a recovery agent\ncapability, maybe it's who knows what, but\n\n571\n00:29:01.684 --> 00:29:04.522\nyou know what you're gonna\nget this kind of information.\n\n572\n00:29:04.522 --> 00:29:07.560\nYou're going to be asked about this stuff,\nso it's important to go through.\n\n573\n00:29:07.560 --> 00:29:11.703\nSo you can see down here where's the file\nage role in the file encryption process,\n\n574\n00:29:11.703 --> 00:29:14.723\ndeployed through group policy,\nright we'll take a look.\n\n575\n00:29:14.723 --> 00:29:18.027\nWhere's the key recovery agent role\nin the file encryption process,\n\n576\n00:29:18.027 --> 00:29:20.880\nkind of walks us through\nthe logic of how all this works.\n\n577\n00:29:20.880 --> 00:29:25.010\nSo it's great little website blog in terms\nof giving us the high level and links to\n\n578\n00:29:25.010 --> 00:29:29.120\nto other real estate, other areas in\nTechNet that give us deeper information.\n\n579\n00:29:29.120 --> 00:29:32.413\nA lot of us, Mike, I'm sure is this way,\nI know I'm this way,\n\n580\n00:29:32.413 --> 00:29:35.602\nI want to read more about it,\nI want to see it, do it, right.\n\n581\n00:29:35.602 --> 00:29:37.143\nI want to understand it technically,\n\n582\n00:29:37.143 --> 00:29:40.042\nand then I wanna be able to think about\nlogically how I would apply that.\n\n583\n00:29:40.042 --> 00:29:43.020\nSo if you're a kinesthetic learner,\nyou learn by touching and\n\n584\n00:29:43.020 --> 00:29:46.110\ndoing as opposed to learning by\nlistening or learning by seeing,\n\n585\n00:29:46.110 --> 00:29:48.656\nthen you want to do that deeper diver and\nplay with it.\n\n586\n00:29:48.656 --> 00:29:53.133\nThat's why the virtual hands-on lab\nenvironments that come associated with\n\n587\n00:29:53.133 --> 00:29:54.740\nthe shows we do.\n\n588\n00:29:54.740 --> 00:29:58.126\nTry to demo in those environments so\nyou could see and kind of mirror that and\n\n589\n00:29:58.126 --> 00:30:00.080\nwalk through it, is so valuable, right.\n\n590\n00:30:00.080 --> 00:30:03.464\nAnd it's also important for you to be\nable to create your own opportunities and\n\n591\n00:30:03.464 --> 00:30:06.080\nyour own environments to\nlocalize that information.\n\n592\n00:30:06.080 --> 00:30:09.250\nEssentially, take that back to\nthe workplace and say, okay, I saw it in\n\n593\n00:30:09.250 --> 00:30:13.610\nthe lab, I saw Mike and Adam do it, I have\na general sense of it, I practice it.\n\n594\n00:30:13.610 --> 00:30:14.999\nNow I wanna go apply it in the real world,\nright.\n\n595\n00:30:14.999 --> 00:30:16.231\nHow do I do that?\n\n596\n00:30:16.231 --> 00:30:18.956\nAnd thinking through the logic of that\nis what makes you a much stronger\n\n597\n00:30:18.956 --> 00:30:22.286\nadministrator because now you've really\nmade that knowledge your own,and you've\n\n598\n00:30:22.286 --> 00:30:23.133\nseen how to apply it.\n\n599\n00:30:23.133 --> 00:30:25.293\nSo invite you to come back for\nanother episode.\n\n600\n00:30:25.293 --> 00:30:27.440\nYou're gonna see how we do this and\nactually walk through it.\n\n601\n00:30:27.440 --> 00:30:29.622\nAnd I promise we'll start\noff immediately with that,\n\n602\n00:30:29.622 --> 00:30:31.756\nas opposed talking about doing it for\n30 minutes and\n\n603\n00:30:31.756 --> 00:30:33.215\nnot actually getting to it\n&gt;&gt; [LAUGH]\n\n604\n00:30:33.215 --> 00:30:34.674\n&gt;&gt; But it is an incremental process to\n\n605\n00:30:34.674 --> 00:30:36.938\nbuild that knowledge,\nto really understand it, and\n\n606\n00:30:36.938 --> 00:30:39.123\nhave better sense of the background so\nwe can do it.\n\n607\n00:30:39.123 --> 00:30:42.061\nAnd hopefully this discussion really\nprimed you for what were about to\n\n608\n00:30:42.061 --> 00:30:45.065\ndo in our next episode and show you\nhow to actually apply the knowledge.\n\n609\n00:30:45.065 --> 00:30:47.232\n&gt;&gt; All right Adam, sounds great.\n\n610\n00:30:47.232 --> 00:30:49.231\nI know I'm looking forward to come and\nback and\n\n611\n00:30:49.231 --> 00:30:51.082\nseeing you actually put this into action.\n\n612\n00:30:51.082 --> 00:30:54.542\nHope everybody out there is as well,\nbut we enjoyed the conversation and\n\n613\n00:30:54.542 --> 00:30:55.459\nthe information.\n\n614\n00:30:55.459 --> 00:30:58.271\nI look forward to seeing everybody\nback for our Part 3, but for\n\n615\n00:30:58.271 --> 00:31:01.311\nnow signing off for ITPro.TV I've\nbeen your host, Mike Rodrick.\n\n616\n00:31:01.311 --> 00:31:02.042\n&gt;&gt; I'm Adam Gordon.\n\n617\n00:31:02.042 --> 00:31:08.258\n&gt;&gt; And we'll see you next time.\n\n618\n00:31:08.258 --> 00:31:10.283\n[MUSIC]\n\n619\n00:31:10.283 --> 00:31:14.426\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "236587870"
        },
        {
          "description": "",
          "length": "2752",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-3-configure_disk_and_file_encryption_pt3-100217-PGM.00_48_55_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-3-configure_disk_and_file_encryption_pt3-100217-PGM.00_48_55_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-3-configure_disk_and_file_encryption_pt3-100217-PGM.00_48_55_27.Still001-sm.jpg",
          "title": "Configure disk and file encryption Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:06.535\nWelcome to ITPRO.TV, I'm your host,\nDon Pezet [CROSSTALK]\n\n2\n00:00:06.535 --> 00:00:08.268\n[MUSIC]\n\n3\n00:00:08.268 --> 00:00:11.890\n&gt;&gt; You're watching ITPRO.TV\n&gt;&gt; Hello,\n\n4\n00:00:11.890 --> 00:00:15.057\nwelcome to another exciting episode,\nhere at ITPRO.TV.\n\n5\n00:00:15.057 --> 00:00:20.197\nI'm your host Mike Rodrick, and today\nwe're doing securing Windows Server 2016.\n\n6\n00:00:20.197 --> 00:00:25.523\nGetting you guys ready for\nthat 70-744, the exam from Microsoft.\n\n7\n00:00:25.523 --> 00:00:30.366\nAnd specifically in this episode we're\ngonna be doing, what are we doing, Adam?\n\n8\n00:00:30.366 --> 00:00:32.777\nAnd we're doing disk and\na file extension of-\n\n9\n00:00:32.777 --> 00:00:33.451\n&gt;&gt; That was 44, by the way.\n\n10\n00:00:33.451 --> 00:00:34.372\n&gt;&gt; Okay, that's what that was.\n\n11\n00:00:34.372 --> 00:00:36.154\n&gt;&gt; I should have actually done this-\n&gt;&gt; [LAUGH]\n\n12\n00:00:36.154 --> 00:00:37.037\n&gt;&gt; And then done that.\n\n13\n00:00:37.037 --> 00:00:37.977\nThat would have been 44.\n\n14\n00:00:37.977 --> 00:00:39.464\n&gt;&gt; How do you get 7 or 8?\n\n15\n00:00:39.464 --> 00:00:41.651\nBut anyway-\n&gt;&gt; On the fly.\n\n16\n00:00:41.651 --> 00:00:43.843\n&gt;&gt; Yeah, so you were asked\nwhat are we gonna do, right?\n\n17\n00:00:43.843 --> 00:00:45.475\n&gt;&gt; We're coming back with a part three,\nright?\n\n18\n00:00:45.475 --> 00:00:48.380\nWith configuring distant file encryption,\nand so\n\n19\n00:00:48.380 --> 00:00:52.579\nfar we've learned a lot about file\nencryption and EFS and certificates.\n\n20\n00:00:52.579 --> 00:00:57.664\nAnd the different types of certificates,\nself-signed, CA-issued.\n\n21\n00:00:57.664 --> 00:01:00.983\nWe've talked about the way EFS\nworks with the different keys,\n\n22\n00:01:00.983 --> 00:01:03.060\nsymmetric, the file encryption key.\n\n23\n00:01:03.060 --> 00:01:06.686\nThen we protect that with the asymmetric\nkey pair that we've been assigned,\n\n24\n00:01:06.686 --> 00:01:08.930\nour certificate basically,\nand private key.\n\n25\n00:01:08.930 --> 00:01:13.787\nAnd then we got on the subject, Adam of\nwhat's gonna happen if I lose that key if\n\n26\n00:01:13.787 --> 00:01:16.670\nI can no longer access\nthose encrypted files.\n\n27\n00:01:16.670 --> 00:01:18.966\nWe started talking about file recovery.\n\n28\n00:01:18.966 --> 00:01:22.343\n&gt;&gt; We did, and\nwe talked a bit about the options, right?\n\n29\n00:01:22.343 --> 00:01:25.373\nIf the user account gets\ndeleted versus maybe disabled.\n\n30\n00:01:25.373 --> 00:01:29.365\nCan we assume the identity of the user,\nlog back on as them, essentially, right,\n\n31\n00:01:29.365 --> 00:01:31.257\nimpersonate them to recover the file.\n\n32\n00:01:31.257 --> 00:01:36.696\nCan we use an archived key from the key\narchival capability of the ADCSCA?\n\n33\n00:01:36.696 --> 00:01:40.766\nWe talked about that, can we use\nthe recovery agent capability, which is\n\n34\n00:01:40.766 --> 00:01:45.310\nwhat we're gonna now walk through and kind\nof see, we promise we come back and do.\n\n35\n00:01:45.310 --> 00:01:48.694\nCan we use that recovery agent capability\nthat we demoed in the last part of\n\n36\n00:01:48.694 --> 00:01:52.420\nthe episode where we took a look at the\nproperties of the encrypted file, right?\n\n37\n00:01:52.420 --> 00:01:55.795\nThe memo file and the EFS John folder, and\n\n38\n00:01:55.795 --> 00:01:59.569\nwe saw that listed above\nwas John Smith right?\n\n39\n00:01:59.569 --> 00:02:00.997\nI have rights if I'm John Smith.\n\n40\n00:02:00.997 --> 00:02:05.007\nBut, if I'm not John Smith, as you saw\nas you saw log on as an administrator,\n\n41\n00:02:05.007 --> 00:02:07.442\nand I did not have rights\nto open the memo file.\n\n42\n00:02:07.442 --> 00:02:10.136\nBig secret message in there,\nwe're not exposing to anybody.\n\n43\n00:02:10.136 --> 00:02:13.429\nBut, if you don't have rights,\nwe said at the bottom,\n\n44\n00:02:13.429 --> 00:02:17.371\nthere was an item that said\nRecovery Agent Capabilities, right?\n\n45\n00:02:17.371 --> 00:02:21.597\nAnd it lists the domain administrator,\nin our case, administrator practice labs,\n\n46\n00:02:21.597 --> 00:02:23.072\nor domain that we demo out of.\n\n47\n00:02:23.072 --> 00:02:25.252\nAnd so\nwe're gonna pick up form that point, and\n\n48\n00:02:25.252 --> 00:02:29.135\nactually walk through the logic of, hey,\nwhat does that mean to be recovery agent?\n\n49\n00:02:29.135 --> 00:02:32.679\nHow do we get designated as a recovery\nagent, we're gonna take a look at that.\n\n50\n00:02:32.679 --> 00:02:37.908\nAnd then, how do we actually get that\ncapability, apply it to that file.\n\n51\n00:02:37.908 --> 00:02:40.455\nAllowing us to instead\nof becoming John Smith,\n\n52\n00:02:40.455 --> 00:02:44.594\nI actually open the file where the folder\nwhatever that maybe the hierarchy,\n\n53\n00:02:44.594 --> 00:02:47.409\nthat get to the data,\nI'll ask the recovery agent.\n\n54\n00:02:47.409 --> 00:02:51.963\nThat's where we're gonna jump back in,\npick up, and as they say in the West,\n\n55\n00:02:51.963 --> 00:02:52.658\ncontinue.\n\n56\n00:02:52.658 --> 00:02:53.932\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's do that right now.\n\n57\n00:02:53.932 --> 00:02:55.406\nSo join me on the screen, if you look.\n\n58\n00:02:55.406 --> 00:02:56.682\nPromised you we'd jump back in.\n\n59\n00:02:56.682 --> 00:02:58.226\nI've changed machines for a minute.\n\n60\n00:02:58.226 --> 00:03:01.359\nWe're gonna be on our domain controller\nmomentarily, just to begin the process and\n\n61\n00:03:01.359 --> 00:03:03.091\nkind of see where we are and\nwhat we're doing.\n\n62\n00:03:03.091 --> 00:03:05.291\nThen we're gonna jump back over\nto the Windows 10 machine.\n\n63\n00:03:05.291 --> 00:03:06.276\nWe'll kind of move back and forth.\n\n64\n00:03:06.276 --> 00:03:09.115\nSo just so you know where we are,\nnice capability now,\n\n65\n00:03:09.115 --> 00:03:12.266\nin our practice labs environment,\nlittle update on the last\n\n66\n00:03:12.266 --> 00:03:16.245\nfew months of the environment, so\nthey actually label those machines now.\n\n67\n00:03:16.245 --> 00:03:19.853\nSo you can actually tell exactly where we\nare which helps me tremendously cuz I'm\n\n68\n00:03:19.853 --> 00:03:23.263\nalways getting confused what machine\nam I on, always go to the wrong place.\n\n69\n00:03:23.263 --> 00:03:26.393\nSo it's good for me, hopefully good for\nyou so keep track of where we are.\n\n70\n00:03:26.393 --> 00:03:29.397\nSo we're on our plab DC 01 machine,\nour domain controller and\n\n71\n00:03:29.397 --> 00:03:31.856\nI've opened up the group\npolicy management tools.\n\n72\n00:03:31.856 --> 00:03:35.158\nSo I've gone to Server Manager,\njust to remind you of how we do this.\n\n73\n00:03:35.158 --> 00:03:38.649\nAnd in the server manager,\nI've gone to manage, excuse me,\n\n74\n00:03:38.649 --> 00:03:40.946\nI've gone to Tools rather, pardon me.\n\n75\n00:03:40.946 --> 00:03:43.538\nAnd I've gone to the group\npolicy management items.\n\n76\n00:03:43.538 --> 00:03:46.586\nSo our GPMC,\ngroup policy management console.\n\n77\n00:03:46.586 --> 00:03:49.485\nLet's assume that I clicked and\nopen that up, which I did.\n\n78\n00:03:49.485 --> 00:03:54.705\nAnd then in the group policy management\nconsole which I have here, I've gone down,\n\n79\n00:03:54.705 --> 00:03:59.943\nopened up the group policy management\nhierarchy, the the domains folder.\n\n80\n00:03:59.943 --> 00:04:03.514\nThe domain, itself,\nthe name practicelabs.com,,\n\n81\n00:04:03.514 --> 00:04:07.810\ngone to our default domain policy,\nright-click, and choose Edit, just so\n\n82\n00:04:07.810 --> 00:04:09.880\nyou can see how we got to where we are.\n\n83\n00:04:09.880 --> 00:04:13.594\nAnd assuming that I've done that, and\nassuming you do that, if you're following\n\n84\n00:04:13.594 --> 00:04:16.617\nalong, you will then be able to get\nto the default domain policies,\n\n85\n00:04:16.617 --> 00:04:19.395\nyou can see right here in the group\npolicy management editor.\n\n86\n00:04:19.395 --> 00:04:20.672\nWhich is where I am.\n\n87\n00:04:20.672 --> 00:04:24.429\nI've exploded out or opened up,\nagain, the hierarchy here.\n\n88\n00:04:24.429 --> 00:04:26.821\nWe have both computer and\nuser configuration areas.\n\n89\n00:04:26.821 --> 00:04:30.694\nI'm in the computer configuration\narea up top, as you can see.\n\n90\n00:04:30.694 --> 00:04:34.026\nDown below here,\ngot all my user configuration stuff.\n\n91\n00:04:34.026 --> 00:04:35.462\nWe're not worried about that right now.\n\n92\n00:04:35.462 --> 00:04:39.650\nAnd in the computer area, gone to\nPolicies, gone to the second folder down\n\n93\n00:04:39.650 --> 00:04:43.185\nWindows Settings,\nthere's gonna be several folders there.\n\n94\n00:04:43.185 --> 00:04:45.553\nSoftware, Windows, preferences, and\n\n95\n00:04:45.553 --> 00:04:48.400\nall that kinda stuff gone\ninto Windows Settings.\n\n96\n00:04:48.400 --> 00:04:50.594\nInside Windows Settings,\nSecurity Settings.\n\n97\n00:04:50.594 --> 00:04:53.431\nInside Security Settings,\nPublic Key Policies.\n\n98\n00:04:53.431 --> 00:04:56.174\nAlmost all the way down at\nthe bottom of that list.\n\n99\n00:04:56.174 --> 00:04:58.934\nAnd then the first\nfolder underneath there,\n\n100\n00:04:58.934 --> 00:05:03.290\nEFS encrypting file system have gone\nin there, and then you could see,\n\n101\n00:05:03.290 --> 00:05:06.067\njust bring this up so\nyou can see where we are.\n\n102\n00:05:06.067 --> 00:05:10.421\nYou can see then from here,\nI see item in this case the certificate\n\n103\n00:05:10.421 --> 00:05:14.396\nthat is sitting in the directory,\ninside EFS on the right.\n\n104\n00:05:14.396 --> 00:05:19.447\nLabelled Administrator, Issued to,\nIssued by, expiration date, ridiculously\n\n105\n00:05:19.447 --> 00:05:24.582\nlong in the future in case we stick around\nfor 100 years, we'd be able to use that.\n\n106\n00:05:24.582 --> 00:05:25.311\n&gt;&gt; [LAUGH] That's a long running lab,\nyeah.\n\n107\n00:05:25.311 --> 00:05:27.704\n&gt;&gt; Yeah, it's gonna be a very long demo,\nyou better get comfortable.\n\n108\n00:05:27.704 --> 00:05:30.452\nMake sure you have a glass of water,\nsomething to eat.\n\n109\n00:05:30.452 --> 00:05:32.949\nAnd a good comfortable chair.\n\n110\n00:05:32.949 --> 00:05:36.752\nAll right, so intended purpose,\nfile recovery as you can see here.\n\n111\n00:05:36.752 --> 00:05:38.435\nSo, we've already seemingly and\n\n112\n00:05:38.435 --> 00:05:42.389\nindeed we do have some sort of certificate\nthat speaks inside the file recovery.\n\n113\n00:05:42.389 --> 00:05:43.621\nIt's there, right?\n\n114\n00:05:43.621 --> 00:05:44.599\n&gt;&gt; It's just\n&gt;&gt; The default,\n\n115\n00:05:44.599 --> 00:05:45.479\nthen you haven't done any of this.\n\n116\n00:05:45.479 --> 00:05:49.752\n&gt;&gt; This is the certificate that is\nissued to the Domain Administrator,\n\n117\n00:05:49.752 --> 00:05:51.380\nautomatically, right?\n\n118\n00:05:51.380 --> 00:05:53.898\nThat gives them the right to\nbecome this recovery agent,\n\n119\n00:05:53.898 --> 00:05:56.894\nthat's assigned to every piece of\ndata behind the scenes, right?\n\n120\n00:05:56.894 --> 00:06:01.079\nLet's take a look at something here,\nso let me just minimize here.\n\n121\n00:06:01.079 --> 00:06:06.195\nLet's just go over here, to our,\nthe route of our c drive.\n\n122\n00:06:06.195 --> 00:06:08.341\nIt's just the file explorer\non the domain control, right?\n\n123\n00:06:08.341 --> 00:06:10.551\nAnd I've exported the certificate\nthat you see in there,\n\n124\n00:06:10.551 --> 00:06:12.276\nI'm gonna come back to\nthat in just a second.\n\n125\n00:06:12.276 --> 00:06:13.446\nBut let's assume for\n\n126\n00:06:13.446 --> 00:06:17.878\njust a minute that I come over here to\nthe desktop on this domain control, right?\n\n127\n00:06:17.878 --> 00:06:24.392\nAnd I go to New, and I create a folder and\nlet's call this test EFS, right?\n\n128\n00:06:24.392 --> 00:06:27.420\nJust like I did when I create\nthe John Smith folder.\n\n129\n00:06:27.420 --> 00:06:29.331\nExcept I did that before\nwe did the episodes,\n\n130\n00:06:29.331 --> 00:06:32.014\nyou just didn't see me walk\nthrough the logic of this, right?\n\n131\n00:06:32.014 --> 00:06:35.418\nSo I have this folder and\ninside this folder,\n\n132\n00:06:35.418 --> 00:06:39.549\nif I right-click and\nchoose New, do a text document.\n\n133\n00:06:39.549 --> 00:06:43.223\nAnd let's call it EFS Test,\ndoesn't matter what we call,\n\n134\n00:06:43.223 --> 00:06:45.286\nthe name is irrelevant, right?\n\n135\n00:06:45.286 --> 00:06:49.170\nThen I can go in and essentially I've\nreproduced the same infrastructure and\n\n136\n00:06:49.170 --> 00:06:51.559\nthe same hierarchy I have\nunder John Smith, but\n\n137\n00:06:51.559 --> 00:06:53.309\nnow as the domain administrator.\n\n138\n00:06:53.309 --> 00:06:58.815\nAnd I can certainly open the directory,\nor rather open the file up,\n\n139\n00:06:58.815 --> 00:07:02.499\nand this is my test or\nwhatever I put in there.\n\n140\n00:07:02.499 --> 00:07:05.356\nI still have to learn how to\nuse a keyboard, apparently.\n\n141\n00:07:05.356 --> 00:07:07.618\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so and I can save that.\n\n142\n00:07:07.618 --> 00:07:11.994\nAnd so we can see, clearly,\nI can open that up.\n\n143\n00:07:11.994 --> 00:07:15.450\nIt will pretty much and\nadd and remove and modify.\n\n144\n00:07:15.450 --> 00:07:19.651\nAnd if I go here like I did,\nand I go to Properties,\n\n145\n00:07:19.651 --> 00:07:22.863\njust come over here, go to Advanced.\n\n146\n00:07:22.863 --> 00:07:25.394\nRight now there is no\nencryption attribute assigned.\n\n147\n00:07:25.394 --> 00:07:28.525\nIf I encrypt, and click OK.\n\n148\n00:07:28.525 --> 00:07:30.354\nAnd remember,\nI told you we'd get that prompt.\n\n149\n00:07:30.354 --> 00:07:32.181\nAnd I explained what the prompt is.\n\n150\n00:07:32.181 --> 00:07:35.874\nEncrypt the file and the parent folder,\nnotice that's a default recommended.\n\n151\n00:07:35.874 --> 00:07:38.981\nEven if we choose the file at\nthe bottom of the hierarchy,\n\n152\n00:07:38.981 --> 00:07:43.128\nthe logic into this practice here is\nencrypt the entire structure to provide\n\n153\n00:07:43.128 --> 00:07:44.765\nprotection for everything.\n\n154\n00:07:44.765 --> 00:07:46.301\nSo that's what we're gonna\nbe recommended to do.\n\n155\n00:07:46.301 --> 00:07:49.366\nBut, we can choose an overriding signal.\n\n156\n00:07:49.366 --> 00:07:51.937\nI just wanna encrypt the file only,\nI just wanna to point this out.\n\n157\n00:07:51.937 --> 00:07:55.293\nI can also set that as a default behavior,\nwhich is not always been the case,\n\n158\n00:07:55.293 --> 00:07:55.827\nby the way.\n\n159\n00:07:55.827 --> 00:07:56.362\nRight, yeah.\n\n160\n00:07:56.362 --> 00:07:58.982\n&gt;&gt; That's something that we would have\nto then do on an incremental basis.\n\n161\n00:07:58.982 --> 00:08:02.322\nThat's nice that we can now hard\ncode that and say essentially, yes,\n\n162\n00:08:02.322 --> 00:08:03.804\njust always encrypt the file.\n\n163\n00:08:03.804 --> 00:08:06.999\nSo not only do I really wanna do this\nthe wrong way, but I really wanna ensure-\n\n164\n00:08:06.999 --> 00:08:07.547\n&gt;&gt; [LAUGH]\n\n165\n00:08:07.547 --> 00:08:08.481\n&gt;&gt; That no matter when I do it,\n\n166\n00:08:08.481 --> 00:08:09.913\nI wanna do it the wrong way going forward.\n\n167\n00:08:09.913 --> 00:08:12.364\n&gt;&gt; I don't want you to tell me every\ntime that I'm doing it the wrong way.\n\n168\n00:08:12.364 --> 00:08:13.545\n&gt;&gt; Good job, yeah, don't bother me and\ntell me I'm wrong.\n\n169\n00:08:13.545 --> 00:08:15.030\n&gt;&gt; [LAUGH]\n&gt;&gt; Just let me be wrong once and\n\n170\n00:08:15.030 --> 00:08:15.830\nlet me be done with it.\n\n171\n00:08:15.830 --> 00:08:17.748\nSo I'm just going to quickly encrypt this.\n\n172\n00:08:17.748 --> 00:08:19.638\nNow it does take a couple\nof seconds by the way,\n\n173\n00:08:19.638 --> 00:08:21.295\ndon't think something's wrong here.\n\n174\n00:08:21.295 --> 00:08:26.796\nBe patient with it, give it a minute,\nclick OK and you're fine, right?\n\n175\n00:08:26.796 --> 00:08:32.365\nAnd, so now notice here, and by the way,\nit does turn green here in Server 16.\n\n176\n00:08:32.365 --> 00:08:34.871\nAnd remember in the Windows 10\nenvironment its got the padlock.\n\n177\n00:08:34.871 --> 00:08:37.394\nSo it depends of the version\nof the OS that you're on.\n\n178\n00:08:37.394 --> 00:08:38.935\nI mean you can see now, right?\n\n179\n00:08:38.935 --> 00:08:39.561\nI have that.\n\n180\n00:08:39.561 --> 00:08:42.728\nAnd when I do this and go back here I\njust want to I'm going to show you and\n\n181\n00:08:42.728 --> 00:08:45.213\nremind you what we're here to do, right?\n\n182\n00:08:45.213 --> 00:08:49.017\nBy the way, the details button doesn't\nbecome active until after you apply\n\n183\n00:08:49.017 --> 00:08:52.481\nthe attribute and then open the file\nagain to look at the properties.\n\n184\n00:08:52.481 --> 00:08:55.450\nSo don't worry about the facts grayed out\nthe first time you go to check it off cuz\n\n185\n00:08:55.450 --> 00:08:56.752\nthere's no attributes applied.\n\n186\n00:08:56.752 --> 00:08:57.496\nThere's nothing for\n\n187\n00:08:57.496 --> 00:08:59.899\nyou to see until we actually walk\nthrough the process of applying it.\n\n188\n00:08:59.899 --> 00:09:03.934\nAnd so you could see that because I'm\nthe creator-owner I can access the file.\n\n189\n00:09:03.934 --> 00:09:09.669\nBut even then, I'm still listed\nas the recovery agent of record.\n\n190\n00:09:09.669 --> 00:09:13.599\nRecovery certificates available for\ndomain admin because, out of the box,\n\n191\n00:09:13.599 --> 00:09:17.773\nthe domain administrator is automatically\nhard-coded as the recovery agent for\n\n192\n00:09:17.773 --> 00:09:19.359\nevery piece of data we create.\n\n193\n00:09:19.359 --> 00:09:22.130\nRegardless of who the user is,\nas long as we're domain joined.\n\n194\n00:09:22.130 --> 00:09:24.962\nRight, and\nany machine that's joined to the domain.\n\n195\n00:09:24.962 --> 00:09:28.067\nThat account, this is my account now,\nthe account I'm working under.\n\n196\n00:09:28.067 --> 00:09:30.782\nIs automatically flagged and\nput in behind the scenes,\n\n197\n00:09:30.782 --> 00:09:32.640\nkind of secretly if you will, right?\n\n198\n00:09:32.640 --> 00:09:34.509\nAnd we know it's there,\nwe just don't think about it.\n\n199\n00:09:34.509 --> 00:09:38.279\nBut it's put on every piece of data\nthat's encrypted automatically.\n\n200\n00:09:38.279 --> 00:09:41.760\nSo that certificate, the one we\nwere looking at, is generated for\n\n201\n00:09:41.760 --> 00:09:45.925\nthe administrator, the domain admin,\nto allow this behavior to then be useful\n\n202\n00:09:45.925 --> 00:09:49.307\nto us to recover the file or\nthe folder or whatever is necessary.\n\n203\n00:09:49.307 --> 00:09:54.158\nSo just keep that in mind, because we\nsee that we're put in there ourselves\n\n204\n00:09:54.158 --> 00:09:58.555\neven though, we are the creator-owner,\nwe still have the right.\n\n205\n00:09:58.555 --> 00:09:59.643\nThat would be interesting, right?\n\n206\n00:09:59.643 --> 00:10:01.173\nYou can't get rid of\nthe domain admin account, so\n\n207\n00:10:01.173 --> 00:10:02.495\nit's not like you could really delete it.\n\n208\n00:10:02.495 --> 00:10:05.387\nBut, in theory-\n&gt;&gt; You could delete your private key or\n\n209\n00:10:05.387 --> 00:10:06.621\nsomething, potentially.\n\n210\n00:10:06.621 --> 00:10:09.390\n&gt;&gt; I mean you could, in theory,\nfind yourself in a situation where you may\n\n211\n00:10:09.390 --> 00:10:12.250\nnot have the ability to be able to\nleverage after the promise, of course,\n\n212\n00:10:12.250 --> 00:10:13.422\nyou're the recovery agent.\n\n213\n00:10:13.422 --> 00:10:14.246\n&gt;&gt; Yeah\n&gt;&gt; So,\n\n214\n00:10:14.246 --> 00:10:17.250\nwithout an additional recovery agent,\nyou're not getting back into that file in\n\n215\n00:10:17.250 --> 00:10:19.568\ncertain cases, but you can see I\ncan open it up with no trouble.\n\n216\n00:10:19.568 --> 00:10:23.578\nAll right, so what we're here to do\nis to take a look at that key, right?\n\n217\n00:10:23.578 --> 00:10:28.269\nAnd so, I exported this key and what I\ndid was right-clicked All Tasks Export,\n\n218\n00:10:28.269 --> 00:10:31.714\nlittle wizard here, it's straightforward\n&gt;&gt; And you seem me\n\n219\n00:10:31.714 --> 00:10:36.394\nwalk through the certificate export wizard\nbefore, it's a pretty quick solution.\n\n220\n00:10:36.394 --> 00:10:40.448\nThe only thing I wanna point out here is\nI wanna export the private key along with\n\n221\n00:10:40.448 --> 00:10:41.444\nthe certificate.\n\n222\n00:10:41.444 --> 00:10:42.325\nVery important to do that.\n\n223\n00:10:42.325 --> 00:10:46.578\nSo we have to chose that because we're not\nexporting a private key by default, right?\n\n224\n00:10:46.578 --> 00:10:48.344\nClick Next.\n\n225\n00:10:48.344 --> 00:10:52.868\nIt is gonna come up as a PKCS\nnumber 12 extension .pfx file\n\n226\n00:10:52.868 --> 00:10:54.684\nwhen we do this export.\n\n227\n00:10:54.684 --> 00:10:59.247\nNotice the x 509 certificate.cer,\nbase 64 x 509 .cer,\n\n228\n00:10:59.247 --> 00:11:04.310\nthose options are not available for\nexporting this kind of certificate.\n\n229\n00:11:04.310 --> 00:11:06.976\nAnd when you look here you\nwill see right down here,\n\n230\n00:11:06.976 --> 00:11:09.584\nthis is the certificate I\nalready did the export.\n\n231\n00:11:09.584 --> 00:11:13.240\nBut you could see it sitting here,\nI just called it Admin EFSRA, and\n\n232\n00:11:13.240 --> 00:11:15.163\nit's got the little key icon on it,\n\n233\n00:11:15.163 --> 00:11:19.554\nwhich signifies with the private key\nassociated with the certificate, right?\n\n234\n00:11:19.554 --> 00:11:24.776\nAnd so if we can go in, we can look\nat the properties of the certificate,\n\n235\n00:11:24.776 --> 00:11:29.572\nwe can see it was exported not\ntoo long ago, it's sitting there.\n\n236\n00:11:29.572 --> 00:11:34.507\nSo, let me just show you,\nas we go through this, you check that off.\n\n237\n00:11:34.507 --> 00:11:37.952\nWe're going to not delete the private\nkey if export is successful.\n\n238\n00:11:37.952 --> 00:11:39.451\nWe don't want to get rid\nof that private key.\n\n239\n00:11:39.451 --> 00:11:43.326\nThat would set us up for situations like\nMike suggested, where in theory a private\n\n240\n00:11:43.326 --> 00:11:46.370\nkey could become lost or compromised,\nor may not be available.\n\n241\n00:11:46.370 --> 00:11:50.231\nCuz if we do the deletion, and then we\ndelete that certificate, that key is gone.\n\n242\n00:11:50.231 --> 00:11:53.757\nWhich now becomes a major problem for\nus, so don't want to do that.\n\n243\n00:11:53.757 --> 00:11:55.232\nYou often wonder sometimes,\n\n244\n00:11:55.232 --> 00:11:59.370\nI do know why we have the Delete Private\nKey function to remove it securely, right?\n\n245\n00:11:59.370 --> 00:12:03.275\nBut there are certain situations where\nthat really does not make sense, right?\n\n246\n00:12:03.275 --> 00:12:06.196\nYou want to gray that out to prevent\npeople from doing something silly.\n\n247\n00:12:06.196 --> 00:12:09.774\nAll right, so here we provide\na password to secure this, and\n\n248\n00:12:09.774 --> 00:12:13.561\nby the way if you don't provide\neither a password and or a group or\n\n249\n00:12:13.561 --> 00:12:16.532\nuser identity that will\nthen have rights to this.\n\n250\n00:12:16.532 --> 00:12:18.403\nNotice the next button is grayed out.\n\n251\n00:12:18.403 --> 00:12:20.590\nI showed you this in episode one\nwhere we did the walkthrough.\n\n252\n00:12:20.590 --> 00:12:23.843\nBut just reminding you of that as we get\nstarted with the rest of the discussion\n\n253\n00:12:23.843 --> 00:12:24.503\nand demo here.\n\n254\n00:12:24.503 --> 00:12:27.113\nBecause if we don't provide\none of these two capabilities,\n\n255\n00:12:27.113 --> 00:12:28.955\nbecause we are exporting the private key,\n\n256\n00:12:28.955 --> 00:12:32.148\nwe're not gonna be able to do subsequent\nguaranteed security of the key.\n\n257\n00:12:32.148 --> 00:12:34.255\nSo just keep that in mind,\njust put the password in.\n\n258\n00:12:34.255 --> 00:12:37.670\nYou hit Finish, customer says Yes,\nI was successful,\n\n259\n00:12:37.670 --> 00:12:41.168\nwe export the key I have it\nsitting the root of the C drive.\n\n260\n00:12:41.168 --> 00:12:44.419\nWe are gonna come along and\ngrab that key now in just a minute.\n\n261\n00:12:44.419 --> 00:12:47.913\nSo lets go back to our Windows 10 machine,\nyou can see it right here.\n\n262\n00:12:47.913 --> 00:12:50.880\nThere's our Folder or file, there's memo.\n\n263\n00:12:50.880 --> 00:12:54.647\nRemember I still am not able to get in,\nlogged on as the Domain Admin, okay?\n\n264\n00:12:54.647 --> 00:12:58.646\nSo now I've created a little MMC,\na Microsoft Management Console.\n\n265\n00:12:58.646 --> 00:13:03.358\nI've done that by going to the run line,\nso I right-clicked on the Start flag.\n\n266\n00:13:03.358 --> 00:13:04.833\nCan we call that a Start button?\n\n267\n00:13:04.833 --> 00:13:06.595\nYou don't hear anyone call it\na Start button anymore, right?\n\n268\n00:13:06.595 --> 00:13:07.522\n&gt;&gt; I say we do [LAUGH].\n\n269\n00:13:07.522 --> 00:13:11.030\n&gt;&gt; I right-clicked on that thing in\nthe left corner that used to be a Start\n\n270\n00:13:11.030 --> 00:13:13.180\nbutton, but is ill-defined these days.\n\n271\n00:13:13.180 --> 00:13:16.571\nAnd I went to Run,\njust simply choose the Run line.\n\n272\n00:13:16.571 --> 00:13:21.261\nYou can see I typed MMC, or you can\nhopefully see, it's kinda hard to see.\n\n273\n00:13:21.261 --> 00:13:24.404\nBut I just typed MMC, short for\nMicrosoft Management Console.\n\n274\n00:13:24.404 --> 00:13:28.808\nI hit Enter, I get a blank or\nempty console shell, I went up to File.\n\n275\n00:13:28.808 --> 00:13:32.173\nYou've seen Mike, myself, Cherokee,\nDaniel, all of us, Ronnie.\n\n276\n00:13:32.173 --> 00:13:34.076\nAll of us do this in various shows, right?\n\n277\n00:13:34.076 --> 00:13:36.113\nProbably not Don though because he,\nwhat, does the Linux?\n\n278\n00:13:36.113 --> 00:13:36.922\n&gt;&gt; Yeah, he's the Linux guy.\n\n279\n00:13:36.922 --> 00:13:38.082\n[CROSSTALK]\n&gt;&gt; Yeah, he doesn't do this.\n\n280\n00:13:38.082 --> 00:13:39.246\n&gt;&gt; He's missing out on MMC's.\n\n281\n00:13:39.246 --> 00:13:40.881\n&gt;&gt; Exactly, he doesn't have that.\n\n282\n00:13:40.881 --> 00:13:42.611\nHe has shells and such, right?\n\n283\n00:13:42.611 --> 00:13:43.724\n&gt;&gt; Yeah.\n&gt;&gt; And so we go to File,\n\n284\n00:13:43.724 --> 00:13:45.382\nyou see we do add/remove snap in.\n\n285\n00:13:45.382 --> 00:13:49.516\nAnd what I've done is I've\nchosen the certificate snap and\n\n286\n00:13:49.516 --> 00:13:51.425\nyou can see it right there.\n\n287\n00:13:51.425 --> 00:13:52.528\nCertificate's current user.\n\n288\n00:13:52.528 --> 00:13:55.597\nSo I've done certificates,\nyou can see it's already there.\n\n289\n00:13:55.597 --> 00:13:58.332\nSet it to the current user,\nwhich is my user.\n\n290\n00:13:58.332 --> 00:14:01.303\nSo you'll just, my local certificates.\n\n291\n00:14:01.303 --> 00:14:05.858\nAnd then that way I can work on the local\ncertificate store which is where I'm gonna\n\n292\n00:14:05.858 --> 00:14:08.895\ngo because I wanna be able\nto import that certificate,\n\n293\n00:14:08.895 --> 00:14:10.888\nthat recovery agent certificate.\n\n294\n00:14:10.888 --> 00:14:15.563\nWanna import that into the personal\nfolder in the certificate's MMC for\n\n295\n00:14:15.563 --> 00:14:19.713\nthe current user,\nmaking it available in other words, right?\n\n296\n00:14:19.713 --> 00:14:20.540\nThat's what we're gonna do.\n\n297\n00:14:20.540 --> 00:14:23.299\nSo notice the personal folder is empty,\nthere's noting there,\n\n298\n00:14:23.299 --> 00:14:25.771\nwe're gonna click on it which\nis traditionally the case.\n\n299\n00:14:25.771 --> 00:14:28.809\nWe can right-click either here,\ndo all tasks, or over in the white area,\n\n300\n00:14:28.809 --> 00:14:31.820\nit doesn't really matter where we do it,\nit's the same, essentially.\n\n301\n00:14:31.820 --> 00:14:36.287\nDo imports, and we're gonna just reverse\nthis wizard flow now essentially, right?\n\n302\n00:14:36.287 --> 00:14:38.437\nWe push the certificate out through\nan export on the other machine\n\n303\n00:14:38.437 --> 00:14:39.461\nunder the domain controller.\n\n304\n00:14:39.461 --> 00:14:43.349\nWe're now gonna pull that exported\ncertificate file in here and\n\n305\n00:14:43.349 --> 00:14:46.014\nassociate it here so\nwe can now leverage it.\n\n306\n00:14:46.014 --> 00:14:47.355\nSo that's what we're going to do.\n\n307\n00:14:47.355 --> 00:14:52.465\nSo I\"m going to go ahead and do an import\nhere, so notice that this is grayed out.\n\n308\n00:14:52.465 --> 00:14:56.576\nIt's already hard-coded because we\nare in the current user certificate\n\n309\n00:14:56.576 --> 00:15:00.435\nMMC instead of the machine, so\nwe've chosen the user certificate.\n\n310\n00:15:00.435 --> 00:15:03.275\nSo it knows immediately that's what\nI wanted, I don't have an option.\n\n311\n00:15:03.275 --> 00:15:06.421\nIf I wanted to do user, rather machine,\nI have to reset this MMC,\n\n312\n00:15:06.421 --> 00:15:09.169\npull in the computer accounts\nthat are user account, and\n\n313\n00:15:09.169 --> 00:15:12.281\nthat will be hard-coded for\nthe machine certificate, right?\n\n314\n00:15:12.281 --> 00:15:15.185\nBut the machine is not doing\nthe unencrypting, and the encrypting,\n\n315\n00:15:15.185 --> 00:15:15.744\nthe user is.\n\n316\n00:15:15.744 --> 00:15:17.752\nSo hopefully that logic\nmakes sense to you.\n\n317\n00:15:17.752 --> 00:15:21.868\nIf not, Mike has a diagram, about 20\nparts, and he can explain it to you.\n\n318\n00:15:21.868 --> 00:15:23.454\n&gt;&gt; [LAUGH]\n&gt;&gt; Tune in for that episode.\n\n319\n00:15:23.454 --> 00:15:26.571\nAll right, so we have to go path 2 and\nget this certificate.\n\n320\n00:15:26.571 --> 00:15:29.404\nNow I showed you it was sitting in\nthe root of the C drive on the domain\n\n321\n00:15:29.404 --> 00:15:30.018\ncontroller.\n\n322\n00:15:30.018 --> 00:15:31.256\nI didn't bother to share it,\n\n323\n00:15:31.256 --> 00:15:33.890\ncuz hopefully if you don't I'm\nabout to tell you and show you.\n\n324\n00:15:33.890 --> 00:15:37.105\nWe have this wonderful thing in Windows\ncalled the Administrative Share, or\n\n325\n00:15:37.105 --> 00:15:39.830\na secret or hidden share,\nI hear people refer to it differently.\n\n326\n00:15:39.830 --> 00:15:40.723\n&gt;&gt; Sh, don't tell everybody.\n\n327\n00:15:40.723 --> 00:15:42.572\n&gt;&gt; Well, we are telling them but\nwe're not [CROSSTALK]\n\n328\n00:15:42.572 --> 00:15:43.233\n&gt;&gt; Administrators\n\n329\n00:15:43.233 --> 00:15:44.549\n&gt;&gt; And Titus is gonna go through and\n\n330\n00:15:44.549 --> 00:15:46.597\nedit this whole thing out,\nand nobody's gonna,\n\n331\n00:15:46.597 --> 00:15:48.322\nthere's gonna be just a blank area here.\n\n332\n00:15:48.322 --> 00:15:49.066\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n333\n00:15:49.066 --> 00:15:52.200\nthere'll be like a LOL Cat video\nwhere this was, so nobody knows.\n\n334\n00:15:52.200 --> 00:15:55.060\nBut it's a share that we can connect to.\n\n335\n00:15:55.060 --> 00:15:56.464\nIt's several of them, right?\n\n336\n00:15:56.464 --> 00:16:00.708\nIt's the admin $ share, which is\nthe root of the Windows install So\n\n337\n00:16:00.708 --> 00:16:06.710\ntypically whatever the drive is, usually\nC Windows there is every drive letter.\n\n338\n00:16:06.710 --> 00:16:08.540\nIn Linux Unix we'll call\nthis a mount point.\n\n339\n00:16:08.540 --> 00:16:10.420\nBut every drive letter.\n\n340\n00:16:10.420 --> 00:16:13.540\nWhat is shared with\nan administrative share.\n\n341\n00:16:13.540 --> 00:16:18.000\nAgain the dollar sign is the\nadministrative share trigger in Windows.\n\n342\n00:16:18.000 --> 00:16:21.010\nSo C$ gets us to the root of the C drive.\n\n343\n00:16:21.010 --> 00:16:23.460\nAssuming we have administrative rights,\ncredentials, and\n\n344\n00:16:23.460 --> 00:16:26.380\nof course rights to that machine.\n\n345\n00:16:26.380 --> 00:16:29.810\nSo we can connect to it, without\nnecessarily having to make a share.\n\n346\n00:16:29.810 --> 00:16:32.185\nWhich makes things a little bit easier-\n&gt;&gt; Very handy right?\n\n347\n00:16:32.185 --> 00:16:33.655\n&gt;&gt; It is nice, right, it is handy.\n\n348\n00:16:33.655 --> 00:16:36.535\nAs long as you are not a bad actor and\nyou don't misuse this.\n\n349\n00:16:36.535 --> 00:16:38.215\nIf you do, well then,\nyou know, shame on you.\n\n350\n00:16:38.215 --> 00:16:40.023\nAll right, so we're going to go ahead and\ntype in the path here.\n\n351\n00:16:40.023 --> 00:16:44.263\nSo, a standard UNC, meaning universal\nnaming convention or universal naming\n\n352\n00:16:44.263 --> 00:16:48.660\ncontext, as somebody once tried to\nconvince me of, but naming convention.\n\n353\n00:16:48.660 --> 00:16:52.360\nSo the idea is \\\\machinename,\nthen \\ and then share path,\n\n354\n00:16:52.360 --> 00:16:54.620\nwhatever that path will be.\n\n355\n00:16:54.620 --> 00:16:56.720\nSo we're gonna go ahead and put this in.\n\n356\n00:16:56.720 --> 00:17:03.210\nSo it's on my domain controller, so\nthen the administrative share so\n\n357\n00:17:03.210 --> 00:17:09.310\nin this case, C$ because we're gonna\ntarget the root of C drive and\n\n358\n00:17:09.310 --> 00:17:13.840\nthen the name of the file in this case,\n\n359\n00:17:13.840 --> 00:17:17.548\nI called it adminefs-ra.pfx.\n\n360\n00:17:17.548 --> 00:17:22.081\nSo adminefs-ra.pfx.\n\n361\n00:17:22.081 --> 00:17:25.369\nSo the name of our directory, or\nrather the name of our share,\n\n362\n00:17:25.369 --> 00:17:26.960\nand then the name of our file.\n\n363\n00:17:26.960 --> 00:17:30.250\nWe're gonna go ahead and click Next,\nassumed I typed this correctly of course.\n\n364\n00:17:30.250 --> 00:17:31.963\nIf I don't, by the way,\nif I didn't type it correctly,\n\n365\n00:17:31.963 --> 00:17:32.943\nit wouldn't get to the screen.\n\n366\n00:17:32.943 --> 00:17:35.640\nRemember, we had to put in a password.\n\n367\n00:17:35.640 --> 00:17:36.930\nSo you can see the password is here.\n\n368\n00:17:36.930 --> 00:17:38.080\nSo we'll provide that.\n\n369\n00:17:38.080 --> 00:17:40.060\nSo let me just type that in.\n\n370\n00:17:40.060 --> 00:17:44.730\nYou can display the password, just to\nsee what it is, or not, it's up to you.\n\n371\n00:17:44.730 --> 00:17:46.780\nObviously if anybody's around\nyou while you're doing this,\n\n372\n00:17:46.780 --> 00:17:49.710\nnot a good idea to display that password,\nso just keep that in mind.\n\n373\n00:17:49.710 --> 00:17:51.800\nBut we can certainly\njust quickly catch up,\n\n374\n00:17:51.800 --> 00:17:54.500\na little sneak peak at it to\nmake sure we typed it correctly.\n\n375\n00:17:54.500 --> 00:17:57.430\nWhich as you know if you've seen me\ndo episodes, is important for me,\n\n376\n00:17:57.430 --> 00:18:00.070\nbecause I cannot type to save my life and\nget it correct.\n\n377\n00:18:00.070 --> 00:18:01.820\nSo I just want to make sure you know that.\n\n378\n00:18:01.820 --> 00:18:06.000\nAll right, so notice here we can\nalso enable strong protection for\n\n379\n00:18:06.000 --> 00:18:07.180\nthe private key.\n\n380\n00:18:07.180 --> 00:18:08.520\nPrompted every time we use the key,\n\n381\n00:18:08.520 --> 00:18:10.830\nmeaning we have to put that\npassword in every time.\n\n382\n00:18:10.830 --> 00:18:12.320\nLittle extra layer of protection.\n\n383\n00:18:12.320 --> 00:18:13.180\nMay or may not be a good thing.\n\n384\n00:18:13.180 --> 00:18:16.790\nYou've gotta think about how often you're\ngonna use the private key to do recovery.\n\n385\n00:18:16.790 --> 00:18:19.910\nIf this is a moment in time,\nas it often is, by the way.\n\n386\n00:18:19.910 --> 00:18:23.700\nThis is not something where we go in and\nwe're constantly doing this.\n\n387\n00:18:23.700 --> 00:18:24.460\nI mean, it shouldn't be.\n\n388\n00:18:24.460 --> 00:18:26.470\nIf we're doing that-\n&gt;&gt; You should rethink some other things if\n\n389\n00:18:26.470 --> 00:18:27.230\nit is, right?\n\n390\n00:18:27.230 --> 00:18:28.480\n&gt;&gt; Yeah, you've got bigger issues.\n\n391\n00:18:28.480 --> 00:18:31.460\nYou're probably not doing this the right\nway if you're constantly having to recover\n\n392\n00:18:31.460 --> 00:18:33.300\ndata, something else is going on.\n\n393\n00:18:33.300 --> 00:18:36.840\nMaybe that policy driven thought processor\nwe talked about about off-boarding and\n\n394\n00:18:36.840 --> 00:18:40.540\nmanaging it with maybe that 30 day\nrecovery window is a good idea.\n\n395\n00:18:40.540 --> 00:18:43.050\nMaybe you should look into that\nbecause maybe you're not doing it in\n\n396\n00:18:43.050 --> 00:18:44.180\na standardized way.\n\n397\n00:18:44.180 --> 00:18:46.990\nMaybe you're just destroying the user\naccounts the minute somebody leaves.\n\n398\n00:18:46.990 --> 00:18:49.950\nAnd then three months, six months,\nwhatever later, somebody says, oops,\n\n399\n00:18:49.950 --> 00:18:51.160\nwait found another file.\n\n400\n00:18:51.160 --> 00:18:52.710\nYou're constantly going in there.\n\n401\n00:18:52.710 --> 00:18:55.390\nThat could get a little annoying if you\nhave to put the password in every time.\n\n402\n00:18:55.390 --> 00:18:59.730\nBut if you're doing this as a moment\nin time recovery operation where you in\n\n403\n00:18:59.730 --> 00:19:03.940\ntheory gonna go bulk recover the data,\nthat's typically associated with this\n\n404\n00:19:03.940 --> 00:19:09.010\nuser, as a set of activities in a short\namount of time as part of a augmented and\n\n405\n00:19:09.010 --> 00:19:12.010\npolicy driven and audited [INAUDIBLE].\n\n406\n00:19:12.010 --> 00:19:15.550\nVerifiable, verified process\nwith an audit trail.\n\n407\n00:19:15.550 --> 00:19:18.180\nThen you may wanna enable\nthat password on the key.\n\n408\n00:19:18.180 --> 00:19:21.330\nSo if somebody else goes in and tries to\nuse it and they don't know it, number one,\n\n409\n00:19:21.330 --> 00:19:22.280\nthey'll be blocked.\n\n410\n00:19:22.280 --> 00:19:24.800\nAnd number two, you'll have a record\nof that, which is very important.\n\n411\n00:19:24.800 --> 00:19:28.250\nSo it may be good just to think about\nthese options, see what's there.\n\n412\n00:19:28.250 --> 00:19:30.850\nAnd again, do a little exploring.\n\n413\n00:19:30.850 --> 00:19:33.840\nYou hear me often talk\nabout one size fits one.\n\n414\n00:19:33.840 --> 00:19:37.110\nTaking this knowledge and localizing it,\nmaking it work for you and\n\n415\n00:19:37.110 --> 00:19:38.050\nyour environment.\n\n416\n00:19:38.050 --> 00:19:41.930\nWe walk through kind of the middle of the\nroad, standard way of doing this, Mike and\n\n417\n00:19:41.930 --> 00:19:44.650\nI, Cherokee and I,\nwhoever's with me or whoever I'm with.\n\n418\n00:19:44.650 --> 00:19:48.520\nWhen we are explaining things we show you\nthe you know kind of common sense best\n\n419\n00:19:48.520 --> 00:19:52.370\npractice recommended and\nmost logical way of doing things.\n\n420\n00:19:52.370 --> 00:19:54.700\nThat does not mean that it always\nworks that way in your environment.\n\n421\n00:19:56.130 --> 00:20:00.560\nThe idea of just following every rule\nwhile important do not get me wrong.\n\n422\n00:20:00.560 --> 00:20:03.610\nI do not want to dissuade you right\nfrom applying best practices.\n\n423\n00:20:03.610 --> 00:20:07.250\nBut I want you to be realistic, you have\nto understand that just cuz somebody says\n\n424\n00:20:07.250 --> 00:20:09.020\nit's a good idea to do it that way,\n\n425\n00:20:09.020 --> 00:20:12.420\ndoesn't mean your environment operates the\nsame way and that it makes sense for you.\n\n426\n00:20:12.420 --> 00:20:16.780\nAnd while it's a good idea to at least\nattempt it, you may have to tweak that\n\n427\n00:20:16.780 --> 00:20:20.980\na little bit right, just adjust it, modify\nit cuz maybe in your environment there's\n\n428\n00:20:20.980 --> 00:20:24.060\na better way to achieve that same\nend result, whatever that may be.\n\n429\n00:20:24.060 --> 00:20:26.740\nSo just pointing that out so\nyou're aware of that, that's all.\n\n430\n00:20:26.740 --> 00:20:27.480\nOkay?\nAll right.\n\n431\n00:20:27.480 --> 00:20:28.927\nSo I'm off my\n&gt;&gt; [LAUGH]\n\n432\n00:20:28.927 --> 00:20:32.370\n&gt;&gt; Step down off a lot shorter I'm also\n\n433\n00:20:32.370 --> 00:20:37.780\noff center because it adjust me\nautomatically and raises and lifts me.\n\n434\n00:20:37.780 --> 00:20:38.950\nIt's like a hydraulic thing.\n\n435\n00:20:38.950 --> 00:20:39.630\n&gt;&gt; It's pretty fancy.\n\n436\n00:20:39.630 --> 00:20:41.350\n&gt;&gt; Remind me to tell\nyou my car seat story.\n\n437\n00:20:41.350 --> 00:20:44.673\nI haven't talk to you about this in\na while but I have a strange car\n\n438\n00:20:44.673 --> 00:20:48.260\nseat story I have to share with you\noff when we get out of this episode.\n\n439\n00:20:48.260 --> 00:20:49.468\nAll right, so anyway.\n\n440\n00:20:49.468 --> 00:20:51.870\nSo also we can come in and\nyou'll see we extend all or\n\n441\n00:20:51.870 --> 00:20:53.610\ninclude all the center properties.\n\n442\n00:20:53.610 --> 00:20:56.960\nSo we're not going to enable that extra\nprotection on the password with the key,\n\n443\n00:20:56.960 --> 00:20:58.340\nbut just so you know it's there.\n\n444\n00:20:58.340 --> 00:21:00.630\nSo, we're going to click Next here.\n\n445\n00:21:00.630 --> 00:21:04.500\nAnd we are going to go ahead and where are\nwe gonna place this certificate, right?\n\n446\n00:21:04.500 --> 00:21:05.410\nWhere do we wanna put it?\n\n447\n00:21:05.410 --> 00:21:08.670\nNow notice, you can come to\nI'm just gonna move this over.\n\n448\n00:21:08.670 --> 00:21:10.470\nYou can see here that I did start out,\n\n449\n00:21:10.470 --> 00:21:13.000\nremember I told you I\nhighlighted the personal folder.\n\n450\n00:21:13.000 --> 00:21:15.860\nSo the wizard is smart enough\nto know where I started from.\n\n451\n00:21:15.860 --> 00:21:20.140\nIn other words it says by default, hey\nyou wanna put it right where you started.\n\n452\n00:21:20.140 --> 00:21:22.030\nSo you wanna put it in\nthe personal folder.\n\n453\n00:21:22.030 --> 00:21:25.300\nWell, I probably want to but\nI may be able to modify that.\n\n454\n00:21:25.300 --> 00:21:28.580\nIndeed I can if I browse or\nI can leave it up to the system and\n\n455\n00:21:28.580 --> 00:21:32.150\nsay automatically decide where to put\nthis based on the type of certificate.\n\n456\n00:21:32.150 --> 00:21:33.130\nIt's up to me.\n\n457\n00:21:33.130 --> 00:21:37.300\nI don't like gambling with my certificates\nand not knowing where they are.\n\n458\n00:21:37.300 --> 00:21:39.140\n&gt;&gt; Yeah.\nWe'll just go find out where you put it.\n\n459\n00:21:39.140 --> 00:21:40.420\n&gt;&gt; Yeah.\nYou get back to me.\n\n460\n00:21:40.420 --> 00:21:42.780\nLet me know how that worked out,\nwhere it went and what it did.\n\n461\n00:21:42.780 --> 00:21:43.990\nSo I'm going to go ahead and say, no.\n\n462\n00:21:43.990 --> 00:21:45.330\nI want it in.\n\n463\n00:21:45.330 --> 00:21:47.760\nIn this case the personal folder.\n\n464\n00:21:47.760 --> 00:21:48.890\nSo I'm gonna leave it there.\n\n465\n00:21:48.890 --> 00:21:49.690\nI'm gonna click Next.\n\n466\n00:21:51.030 --> 00:21:53.020\nJust a little summary of\nwhat we're about to do.\n\n467\n00:21:53.020 --> 00:21:53.780\nClick Finish.\n\n468\n00:21:53.780 --> 00:21:55.310\nDoes not take very long at all.\n\n469\n00:21:55.310 --> 00:21:57.200\nBy the way this is what you expect to see.\n\n470\n00:21:57.200 --> 00:21:58.550\nBlue circle, white eye.\n\n471\n00:21:58.550 --> 00:22:00.080\nImport was successful.\n\n472\n00:22:00.080 --> 00:22:01.070\nI keep voting for\n\n473\n00:22:01.070 --> 00:22:06.750\nthe happy dancing Windows guy that\nthrows his hands up and says, yahoo.\n\n474\n00:22:06.750 --> 00:22:08.770\nBut they never take me seriously.\n\n475\n00:22:08.770 --> 00:22:10.220\nIt's a UI thing.\n\n476\n00:22:10.220 --> 00:22:13.800\nAnyway, so then you get this\nfolder that appears, certificates.\n\n477\n00:22:13.800 --> 00:22:18.190\nAnd underneath here, you will see\nwe now have that certificate, or\n\n478\n00:22:18.190 --> 00:22:20.210\nwhatever certificate you imported,\nwhatever you called it.\n\n479\n00:22:20.210 --> 00:22:25.830\nBut it will be the domain administrator\nRA recovery agent certificate for\n\n480\n00:22:25.830 --> 00:22:27.350\nEFS that you're importing.\n\n481\n00:22:27.350 --> 00:22:29.340\nIssued two issued by's as we saw,\nthe date,\n\n482\n00:22:29.340 --> 00:22:31.340\nsame, file recovery intended purpose.\n\n483\n00:22:31.340 --> 00:22:34.500\nSo that certificate is now here,\nwe've imported that certificate.\n\n484\n00:22:34.500 --> 00:22:36.040\nSo we've now been able to bring that in,\n\n485\n00:22:36.040 --> 00:22:40.040\nbut that's not the whole story because\nnow what we need to do is the following.\n\n486\n00:22:41.440 --> 00:22:42.480\nLet's go over here.\n\n487\n00:22:44.230 --> 00:22:47.650\nAnd just so that there's no monkey\nbusiness or anything funny going on,\n\n488\n00:22:47.650 --> 00:22:51.910\nwe just minimize the certificate\nconsole here, just give me one second.\n\n489\n00:22:51.910 --> 00:22:56.160\nAnd let me open up the directory again,\njust so we start clean, so\n\n490\n00:22:56.160 --> 00:22:58.580\nwe don't think there's\nanything weird going on.\n\n491\n00:22:58.580 --> 00:23:06.060\nI'm gonna go into the C drive and,\njust go there, go there, EFS John.\n\n492\n00:23:06.060 --> 00:23:10.810\nSo certificate folder, rather the folder\nand the file were sitting in the C drive.\n\n493\n00:23:10.810 --> 00:23:12.340\nSo I'm just gonna open that up.\n\n494\n00:23:12.340 --> 00:23:14.240\nGo to memo.\nAll right?\n\n495\n00:23:14.240 --> 00:23:16.960\nAnd notice this time I am able to open it.\n\n496\n00:23:16.960 --> 00:23:20.850\nNow, what you didn't see off the screen\nis that Mike swapped my laptop out,\n\n497\n00:23:20.850 --> 00:23:21.512\nwhen-\n&gt;&gt; [LAUGH]\n\n498\n00:23:21.512 --> 00:23:23.868\n&gt;&gt; We were in-between console episodes and\n\n499\n00:23:23.868 --> 00:23:27.243\nloaded a funny one that already\nhad that pre-configured.\n\n500\n00:23:27.243 --> 00:23:30.704\nThat's just a JPEG, that's not actually\na real file, it's just a picture,\n\n501\n00:23:30.704 --> 00:23:31.761\nbut no this is the file.\n\n502\n00:23:31.761 --> 00:23:32.265\n&gt;&gt; [LAUGH] We wouldn't do that.\n\n503\n00:23:32.265 --> 00:23:35.869\n&gt;&gt; I'm only kidding, right, but\nbecause we've imported the certificate and\n\n504\n00:23:35.869 --> 00:23:38.290\nthe certificate is now available locally.\n\n505\n00:23:38.290 --> 00:23:40.230\nI now have been given\nthe rights essentially.\n\n506\n00:23:40.230 --> 00:23:43.850\nIt's like I gave Mike the key and\nsaid okay, Mike, here you go.\n\n507\n00:23:43.850 --> 00:23:45.900\nUse this key because you have this key.\n\n508\n00:23:45.900 --> 00:23:47.580\nYou can open the file.\n\n509\n00:23:47.580 --> 00:23:49.133\nSo I can now do that.\n\n510\n00:23:49.133 --> 00:23:53.010\nNow, because I can open this up.\n\n511\n00:23:53.010 --> 00:23:55.230\nYou can see just I'm able to go in there.\n\n512\n00:23:55.230 --> 00:23:56.141\nLet's do something.\n\n513\n00:23:56.141 --> 00:24:03.729\nSo this Is from practice\nlabs administrator,\n\n514\n00:24:03.729 --> 00:24:09.563\nopened, oops, opened The file for\n\n515\n00:24:09.563 --> 00:24:13.648\nthe FS recovery test in,\n\n516\n00:24:13.648 --> 00:24:18.720\nwhat is this, episode three?\n\n517\n00:24:18.720 --> 00:24:19.783\n&gt;&gt; I believe part three, yes.\n\n518\n00:24:19.783 --> 00:24:20.710\n&gt;&gt; Episode three, okay.\n\n519\n00:24:20.710 --> 00:24:22.018\nSo we're gonna put that in there so\n\n520\n00:24:22.018 --> 00:24:23.830\nwe that we can see that we\nadded that to the file.\n\n521\n00:24:23.830 --> 00:24:26.740\nWe're gonna go ahead, and go and\nsave that, so let's do File &gt; Save.\n\n522\n00:24:27.820 --> 00:24:28.350\nGot that.\n\n523\n00:24:29.500 --> 00:24:30.340\nClose that.\n\n524\n00:24:30.340 --> 00:24:34.160\nLet's just take a look at the file real\nquick before we go into the windows 10\n\n525\n00:24:34.160 --> 00:24:37.480\nmachine, log on as John Smith, and\nsee if we can open this file, but\n\n526\n00:24:37.480 --> 00:24:39.730\nalso now see that we have\nthe additional information.\n\n527\n00:24:39.730 --> 00:24:43.062\nAll right, so let's just quickly\ntake a look at the properties,\n\n528\n00:24:43.062 --> 00:24:45.340\nmake sure no funny business or\nanything weird has gone on.\n\n529\n00:24:45.340 --> 00:24:47.100\nLet's just move this over.\n\n530\n00:24:48.280 --> 00:24:50.420\nNow you remember we went in,\nwe looked at advanced.\n\n531\n00:24:50.420 --> 00:24:54.892\nWe have the encryption attributes set, we\nwent into details, and you'll notice that\n\n532\n00:24:54.892 --> 00:24:58.705\nJohn Smith is still the owner,\nwe have not swapped out and replaced John.\n\n533\n00:24:58.705 --> 00:25:02.776\nBut what we did is we leveraged this\nrecovery certificate capability for\n\n534\n00:25:02.776 --> 00:25:05.579\nthe recovery agent by\nloading that certificate,\n\n535\n00:25:05.579 --> 00:25:09.600\nenabling me to now get in to this file,\nthat's what we did, all right.\n\n536\n00:25:09.600 --> 00:25:13.026\nSo, nothing has changed,\neverything is still the same there,\n\n537\n00:25:13.026 --> 00:25:15.574\nthe only difference is we\ncan now open the file.\n\n538\n00:25:15.574 --> 00:25:18.105\nAll right, so let's log off of here.\n\n539\n00:25:18.105 --> 00:25:22.387\nLet's close our certificate console,\nwe're not gonna save changes.\n\n540\n00:25:22.387 --> 00:25:24.638\nthe certificate is there,\nwe just don't have to save the changes.\n\n541\n00:25:24.638 --> 00:25:27.547\nWe're not worried about saving\nthe console even though the certificate\n\n542\n00:25:27.547 --> 00:25:28.267\nitself is there.\n\n543\n00:25:28.267 --> 00:25:32.330\nSo I'm gonna log out, and\nlog back in, just to wrap this up.\n\n544\n00:25:32.330 --> 00:25:35.080\nSo, shut down or sign out,\nI'm gonna sign out.\n\n545\n00:25:36.400 --> 00:25:40.620\nJust relaunch the console here because it\ndisconnects, so give me just a second.\n\n546\n00:25:40.620 --> 00:25:41.485\nThat's me, by the way.\n\n547\n00:25:41.485 --> 00:25:42.506\nYou see me right there?\n\n548\n00:25:42.506 --> 00:25:44.481\n&gt;&gt; Yeah.\n&gt;&gt; That's me climbing right there.\n\n549\n00:25:44.481 --> 00:25:45.757\n&gt;&gt; Good job.\n&gt;&gt; That's Mike, by the way.\n\n550\n00:25:45.757 --> 00:25:47.637\n&gt;&gt; You're about halfway up there.\n&gt;&gt; I always send him up there first, so\n\n551\n00:25:47.637 --> 00:25:49.475\nthat way if anything bad happens, right?\n\n552\n00:25:49.475 --> 00:25:50.141\n&gt;&gt; [LAUGH]\n&gt;&gt; He'll yell on his way down.\n\n553\n00:25:50.141 --> 00:25:51.084\n&gt;&gt; Toss down the rope.\n\n554\n00:25:51.084 --> 00:25:52.298\nI'll know, right.\n\n555\n00:25:52.298 --> 00:25:53.756\nBut that's what we did this past weekend,\nMike and I went climbing.\n\n556\n00:25:53.756 --> 00:25:54.949\n&gt;&gt; Yeah, it was a lot of fun.\n\n557\n00:25:54.949 --> 00:25:57.517\n&gt;&gt; All right, so\n[COUGH] let's get back in here.\n\n558\n00:25:57.517 --> 00:25:58.548\nOops, sorry.\n\n559\n00:25:58.548 --> 00:26:00.485\nRight idea, wrong console.\n\n560\n00:26:00.485 --> 00:26:03.950\nLet me just launch the Windows 10 machine,\nand we just extend that, as well.\n\n561\n00:26:03.950 --> 00:26:06.439\nLet me just come in here and\nlaunch the Windows 10 machine again.\n\n562\n00:26:06.439 --> 00:26:09.460\nJust open the console back up so\nwe can login as John.\n\n563\n00:26:09.460 --> 00:26:11.849\nWe'll logon as John Smith.\n\n564\n00:26:11.849 --> 00:26:16.170\nAll right, so\nthat's the domain admin credential.\n\n565\n00:26:16.170 --> 00:26:20.589\nWe're gonna go over here to other user,\nand just gonna log in as John Smith.\n\n566\n00:26:24.119 --> 00:26:26.338\nLog into our domain practice labs.\n\n567\n00:26:29.260 --> 00:26:34.080\nJust give it one second, wait for\nJohn's logon to come up.\n\n568\n00:26:34.080 --> 00:26:36.269\nAll right, so\nwe're back on the desktop as you can see.\n\n569\n00:26:36.269 --> 00:26:41.566\nWe'll just go to the File Explorer, so\nwe'll go to Windows Explorer here, go\n\n570\n00:26:41.566 --> 00:26:47.210\nto the C drive, and you could already see\nunder Previous Files that memo was there.\n\n571\n00:26:47.210 --> 00:26:50.914\nYou could see it there, but let's just go\nin here, and let's just get rid of that.\n\n572\n00:26:50.914 --> 00:26:54.594\nAll right so EFSJohn,\nMemo, now notice that,\n\n573\n00:26:54.594 --> 00:26:59.483\nlet's just do the properties\nhere before we do anything else.\n\n574\n00:26:59.483 --> 00:27:02.444\nNotice that the file is still encrypted,\nso that has not changed.\n\n575\n00:27:02.444 --> 00:27:06.154\nWe've got a little padlock there,\nand when we go we take a look,\n\n576\n00:27:06.154 --> 00:27:09.454\nstill encrypted, and\nJohn is still listed as the owner,\n\n577\n00:27:09.454 --> 00:27:12.302\nthe admin is still listed\nas the recovery agent.\n\n578\n00:27:12.302 --> 00:27:16.513\nSo, all that stuff is still the same,\nand when we go to open it,\n\n579\n00:27:16.513 --> 00:27:19.690\nwe can not only see\nthe original statement, but\n\n580\n00:27:19.690 --> 00:27:24.535\nwe can see what you just saw me type\nas the domain admin, is now there, and\n\n581\n00:27:24.535 --> 00:27:27.730\nso, just to do this one other way,\ngoing back.\n\n582\n00:27:27.730 --> 00:27:33.820\nThis is from JS, Hello World.\n\n583\n00:27:33.820 --> 00:27:41.433\nAll right, so if we save that,\nClose this out,\n\n584\n00:27:41.433 --> 00:27:46.243\nlog off as John Smith,\nlog back in as the domain admin.\n\n585\n00:27:46.243 --> 00:27:50.714\nI should be able to see not just the file,\nbut also see the updated information,\n\n586\n00:27:50.714 --> 00:27:53.202\ncuz I still have rights\nto recover the file.\n\n587\n00:27:53.202 --> 00:27:56.185\nSo I in theory should be able to\npick that up going either way.\n\n588\n00:27:56.185 --> 00:27:57.143\nWell we showed it one way.\n\n589\n00:27:57.143 --> 00:27:59.721\nLet's just make sure we can agree\nthat we see it going the other way.\n\n590\n00:27:59.721 --> 00:28:03.190\nI'm just gonna relaunch\nthe console one more time.\n\n591\n00:28:03.190 --> 00:28:05.360\nSo let me just go back in here real quick.\n\n592\n00:28:05.360 --> 00:28:09.900\nWe'll log on as the domain admin as soon\nas our connection is stabilized there.\n\n593\n00:28:09.900 --> 00:28:15.950\nAll right, so let's just go ahead and\nlog in as our domain admin.\n\n594\n00:28:17.580 --> 00:28:19.642\nGive that just a moment\nagain just to wait for\n\n595\n00:28:19.642 --> 00:28:22.550\nthe desktop to stabilize itself\nbefore we go to open the file.\n\n596\n00:28:22.550 --> 00:28:23.720\n&gt;&gt; [LAUGH]\n&gt;&gt; You probably see that little window\n\n597\n00:28:23.720 --> 00:28:24.508\nflashed up for a second.\n\n598\n00:28:24.508 --> 00:28:26.056\n&gt;&gt; Yeah.\n&gt;&gt; There's a little script that\n\n599\n00:28:26.056 --> 00:28:28.190\nruns behind the scenes I\nsometimes forget about it.\n\n600\n00:28:28.190 --> 00:28:28.980\nThere it is right there.\n\n601\n00:28:28.980 --> 00:28:32.220\nIf I go too quick, I wind up in\nthe middle of that whole thing.\n\n602\n00:28:32.220 --> 00:28:36.126\nAll right, so\nlet's open up the FIle Explorer.\n\n603\n00:28:36.126 --> 00:28:41.629\nGo here to our C drive, and\nwe'll go here to EFSJohn, go to Memo,\n\n604\n00:28:41.629 --> 00:28:46.950\nand you can see that indeed our\ninformation from that is there.\n\n605\n00:28:46.950 --> 00:28:51.256\nNow if I go and I remove that\ncertificate that I loaded up,\n\n606\n00:28:51.256 --> 00:28:54.957\nI should not be able to move and\nsee this anymore.\n\n607\n00:28:54.957 --> 00:28:57.860\nSo, we got like two minutes left.\n\n608\n00:28:57.860 --> 00:29:00.056\n&gt;&gt; I got an idea, let's try it out.\n\n609\n00:29:00.056 --> 00:29:04.111\n[LAUGH] But yeah, again, exactly, so\nif you remove that certificate and\n\n610\n00:29:04.111 --> 00:29:07.900\nthe associated private key,\nyou're no longer gonna have the key,\n\n611\n00:29:07.900 --> 00:29:10.808\nat least in that profile, to be able to-\n&gt;&gt; On this machine, local.\n\n612\n00:29:10.808 --> 00:29:11.817\n&gt;&gt; Yeah, correct.\n\n613\n00:29:11.817 --> 00:29:14.331\n&gt;&gt; So I'm gonna go, just essentially\ndo what I did with the MMC, but\n\n614\n00:29:14.331 --> 00:29:15.678\nthis time you're seeing me do it.\n\n615\n00:29:15.678 --> 00:29:16.777\nMy user account.\n\n616\n00:29:16.777 --> 00:29:18.470\nSo I'm just setting it up.\n\n617\n00:29:18.470 --> 00:29:20.310\nLoading up the certificates.\n\n618\n00:29:20.310 --> 00:29:23.285\nYou saw me do this, let's just\ngo back in here, go to Personal.\n\n619\n00:29:23.285 --> 00:29:24.880\nLet's make this personal.\n\n620\n00:29:26.170 --> 00:29:30.168\nSo, in here you can see, I have that which\nis what's allowing me there, to do this.\n\n621\n00:29:30.168 --> 00:29:34.130\nSo what if I do this,\nwhich is what Mike was suggesting.\n\n622\n00:29:34.130 --> 00:29:37.847\nIf you notice before I do this, and\nit tells us, this is the nice thing about\n\n623\n00:29:37.847 --> 00:29:41.566\nthis, before you do something,\nif you stop long enough to pay attention,\n\n624\n00:29:41.566 --> 00:29:44.540\nthe sign actually explains to\nyou what's about to happen.\n\n625\n00:29:44.540 --> 00:29:48.038\nIt does say you will not be able to read\nencrypted data using this certificate,\n\n626\n00:29:48.038 --> 00:29:49.207\ndo you wanna delete this?\n\n627\n00:29:49.207 --> 00:29:52.557\nWell if we chose Yes, obviously, which\nwe're gonna do, let's see what happens.\n\n628\n00:29:52.557 --> 00:29:54.700\nSo the certificate is gone,\nwe agree, right?\n\n629\n00:29:54.700 --> 00:29:57.730\nDon't have to delete the folder,\nby the way, just delete the certificate.\n\n630\n00:29:57.730 --> 00:29:59.046\n&gt;&gt; Right.\n&gt;&gt; Leave the folder in place.\n\n631\n00:29:59.046 --> 00:30:00.350\nThe folder has nothing to do with this.\n\n632\n00:30:00.350 --> 00:30:02.077\nInnocent bystander,\nyou don't have to hurt the folder.\n\n633\n00:30:02.077 --> 00:30:02.860\n&gt;&gt; [LAUGH]\n&gt;&gt; All right.\n\n634\n00:30:02.860 --> 00:30:04.639\nSo we're gonna go ahead and\nwe're gonna do this.\n\n635\n00:30:04.639 --> 00:30:05.958\nSo now we're gonna log out.\n\n636\n00:30:05.958 --> 00:30:09.516\nLet's see what happens if we don't log\nout versus maybe having to log out,\n\n637\n00:30:09.516 --> 00:30:13.531\nbecause remember sometimes, this could be\ntied to a profile and/or user account in\n\n638\n00:30:13.531 --> 00:30:17.203\nsuch a way that maybe the change doesn't\ntake effect until after we log off and\n\n639\n00:30:17.203 --> 00:30:20.400\nlog back in, because with some\nsettings that is the case, right?\n\n640\n00:30:20.400 --> 00:30:22.398\n&gt;&gt; Yeah, improve membership,\nthings like that.\n\n641\n00:30:22.398 --> 00:30:23.206\n&gt;&gt; Absolutely, so\nlet's put that to the test, and\n\n642\n00:30:23.206 --> 00:30:23.986\nlet's see what the outcome's\ngonna be here.\n\n643\n00:30:23.986 --> 00:30:30.505\nSo we go to our C drive, okay.\n\n644\n00:30:30.505 --> 00:30:35.191\nEFSJohn &gt; Memo, and you'll notice,\n\n645\n00:30:35.191 --> 00:30:38.510\nI can still open the file.\n\n646\n00:30:38.510 --> 00:30:41.858\nNow, [COUGH] let's do the file.\n\n647\n00:30:45.796 --> 00:30:46.696\nLet's get rid of that.\n\n648\n00:30:46.696 --> 00:30:48.057\nWe agree.\n\n649\n00:30:48.057 --> 00:30:49.740\nDon't wanna save changes.\n\n650\n00:30:49.740 --> 00:30:51.500\nNo need to there.\n\n651\n00:30:51.500 --> 00:30:55.336\nLet me sign out.\n\n652\n00:30:55.336 --> 00:30:57.605\nAgain, we just have to reload\nthe console so just bear with me here.\n\n653\n00:30:57.605 --> 00:30:58.520\nYou guys know the drill.\n\n654\n00:30:58.520 --> 00:31:00.160\nIt takes another second.\n\n655\n00:31:00.160 --> 00:31:02.072\nIt'd be nice if we could cycle\nwithout having to do that, but.\n\n656\n00:31:02.072 --> 00:31:03.773\n&gt;&gt; I know, wouldn't it?\n\n657\n00:31:03.773 --> 00:31:06.797\n&gt;&gt; Just that auto logon thing,\nthat we have to disable to get in, so\n\n658\n00:31:06.797 --> 00:31:08.650\nwe just have to log out, log back in.\n\n659\n00:31:08.650 --> 00:31:10.130\nAll right, so let's do that.\n\n660\n00:31:11.400 --> 00:31:12.334\nLet's go here.\n\n661\n00:31:12.334 --> 00:31:19.230\nLet's, there, just make sure I'm in there,\ndo that, do that.\n\n662\n00:31:19.230 --> 00:31:22.470\nGive it just one second to come back up.\n\n663\n00:31:22.470 --> 00:31:24.065\nWait for that script to run.\n\n664\n00:31:24.065 --> 00:31:26.006\nI would ask for a drumroll, but that's.\n\n665\n00:31:26.006 --> 00:31:28.826\n&gt;&gt; Thank you [SOUND].\n\n666\n00:31:28.826 --> 00:31:31.544\n&gt;&gt; It's gonna be a long one,\ncuz I have to wait for the, there we go,\n\n667\n00:31:31.544 --> 00:31:32.986\nI was waiting for that to pop-up.\n\n668\n00:31:32.986 --> 00:31:34.935\nWe logged off, logged back in.\n\n669\n00:31:34.935 --> 00:31:36.314\nSo let's go here.\n\n670\n00:31:36.314 --> 00:31:40.007\nLet's go there.\n\n671\n00:31:40.007 --> 00:31:42.620\nLet's go there, and\nthen notice now we are denied.\n\n672\n00:31:42.620 --> 00:31:44.995\nNow as I suggest, I hinted that.\n\n673\n00:31:44.995 --> 00:31:49.515\nRemember, as Mike was explaining, a lot of\nthese settings, almost without exception\n\n674\n00:31:49.515 --> 00:31:53.806\nevery one of these, and this is a little\nglitch, well Shouldn't call it a glitch.\n\n675\n00:31:53.806 --> 00:31:55.660\nIt's a planned event,\n&gt;&gt; [LAUGH]\n\n676\n00:31:55.660 --> 00:31:56.213\n&gt;&gt; Because it does work\n\n677\n00:31:56.213 --> 00:31:56.800\nthis way on purpose.\n\n678\n00:31:56.800 --> 00:31:59.060\nBut it is something to be aware of, right?\n\n679\n00:31:59.060 --> 00:32:01.560\nAnd this is one of the reasons we\ntell you, lock your work stations.\n\n680\n00:32:01.560 --> 00:32:03.860\nDon't leave them open,\nwalk away from them,\n\n681\n00:32:03.860 --> 00:32:05.290\nalways know what's going on around you.\n\n682\n00:32:05.290 --> 00:32:08.894\nYou saw, it removed the right of\nthis user to access that file,\n\n683\n00:32:08.894 --> 00:32:13.525\nthe domain administrator, the most\npowerful account in our account universe.\n\n684\n00:32:13.525 --> 00:32:17.848\nBut because the rights that certificate\nimparts are tied to the user's profile as\n\n685\n00:32:17.848 --> 00:32:22.167\npart of their active logon, we don't\nupdate that profile, that user token, and\n\n686\n00:32:22.167 --> 00:32:24.480\nthoroughly the profile, right.\n\n687\n00:32:24.480 --> 00:32:26.460\nI'm just using that as\na generic catch all term.\n\n688\n00:32:26.460 --> 00:32:29.494\nIt's not the right way to describe it,\nbecause we have a user profile and\n\n689\n00:32:29.494 --> 00:32:31.350\nit's not just the user profile.\n\n690\n00:32:31.350 --> 00:32:35.028\nIt's part of the user token,\nwhich represents the distilled essence\n\n691\n00:32:35.028 --> 00:32:39.592\nof the security, permissions, rights,\nand roles, assigned to this user, right?\n\n692\n00:32:39.592 --> 00:32:43.454\nAnd that token is static,\nit does not regenerate dynamically,\n\n693\n00:32:43.454 --> 00:32:45.320\nactively during the session.\n\n694\n00:32:45.320 --> 00:32:46.910\nYou generate it when you log on.\n\n695\n00:32:46.910 --> 00:32:49.902\nRegardless of what you do, all\nthe changes that are out there don't take\n\n696\n00:32:49.902 --> 00:32:52.420\neffect till you log off,\nlog back in, generate a new token.\n\n697\n00:32:52.420 --> 00:32:55.556\nNow this has been the case since\nthe beginning of time with Windows,\n\n698\n00:32:55.556 --> 00:32:56.840\nthis is not a new behavior.\n\n699\n00:32:56.840 --> 00:33:00.970\nSo you just have to understand\nthat as a result of that,\n\n700\n00:33:00.970 --> 00:33:04.310\nthe fact that certificate is\nbound to the user's account\n\n701\n00:33:04.310 --> 00:33:08.920\nas part of their security token when they\nlog on, does not change dynamically.\n\n702\n00:33:08.920 --> 00:33:11.611\nEven though in theory you'd think it would\nbe a good idea to prevent the use of this\n\n703\n00:33:11.611 --> 00:33:12.610\nwhen we delete certificate.\n\n704\n00:33:12.610 --> 00:33:16.522\nBut you have to know as an administrative\nor generically as a recovery agent,\n\n705\n00:33:16.522 --> 00:33:20.460\nwhen you go to delete that certificate,\nwhich you should do by the way.\n\n706\n00:33:20.460 --> 00:33:22.890\nWhen you're done recovering\nto prevent accidental usage,\n\n707\n00:33:22.890 --> 00:33:24.900\nlike I just showed you\ncould potentially happen.\n\n708\n00:33:24.900 --> 00:33:28.558\nYou have to also log off, and\nthen make sure by logging back in,\n\n709\n00:33:28.558 --> 00:33:32.160\nyou don't have to log back in,\nbut to log in just to make sure.\n\n710\n00:33:32.160 --> 00:33:35.457\nOnce you log off, next time anybody logs\nwith that credential, it's automatically\n\n711\n00:33:35.457 --> 00:33:39.245\ngoing to update, you're not gonna have\nworry about it, you'll get this outcome.\n\n712\n00:33:39.245 --> 00:33:43.065\nBut you have to make sure you delete the\nscript, you gonna log out of that active\n\n713\n00:33:43.065 --> 00:33:46.905\nsession for that protection to be updated,\nas you saw, right?\n\n714\n00:33:46.905 --> 00:33:49.924\nSo it is important to be aware of that,\nbecause that's often a little gotcha.\n\n715\n00:33:49.924 --> 00:33:53.978\nSomebody leaves that workstation\nlogged on, right, walks away,\n\n716\n00:33:53.978 --> 00:33:57.975\nas you saw still have the right,\nat least to the file anyway right.\n\n717\n00:33:57.975 --> 00:34:01.754\nOr any file protected with that recovery\nagents certificate, I in theory,\n\n718\n00:34:01.754 --> 00:34:03.702\neven thought he certificate's gone,\n\n719\n00:34:03.702 --> 00:34:07.140\nI have the rights to still access\ndata on that machine until I log out.\n\n720\n00:34:07.140 --> 00:34:10.305\n&gt;&gt; Okay, so until you log that\naccount out, theoretically,\n\n721\n00:34:10.305 --> 00:34:13.040\nyou could access any\nencrypted file on the system.\n\n722\n00:34:13.040 --> 00:34:15.856\n&gt;&gt; Any one that has that\nrecovery associated with it.\n\n723\n00:34:15.856 --> 00:34:17.086\n&gt;&gt; Yeah, absolutely.\n\n724\n00:34:17.086 --> 00:34:18.768\n&gt;&gt; Which would be a bad\nway to end the day.\n\n725\n00:34:18.768 --> 00:34:19.665\n&gt;&gt; It would be a bad way.\n\n726\n00:34:19.665 --> 00:34:20.394\n&gt;&gt; Or begin the day.\n\n727\n00:34:20.394 --> 00:34:22.920\n&gt;&gt; [LAUGH] Either way,\nany part of your day\n\n728\n00:34:22.920 --> 00:34:23.870\n&gt;&gt; It's not a good way to do\n\n729\n00:34:23.870 --> 00:34:24.470\nanything, right?\n\n730\n00:34:24.470 --> 00:34:24.970\nSo,\n&gt;&gt; No.\n\n731\n00:34:24.970 --> 00:34:25.878\n&gt;&gt; There sometimes we\n\n732\n00:34:25.878 --> 00:34:29.178\ntalk about these things like hey,\nalways lock up your work station.\n\n733\n00:34:29.178 --> 00:34:31.388\nHave a policy that kicks in 30 seconds of\n\n734\n00:34:31.388 --> 00:34:33.228\ninactivity wherever\nautomatically lock out.\n\n735\n00:34:33.228 --> 00:34:34.348\nYou may not understand the reasons behind\n\n736\n00:34:34.348 --> 00:34:35.146\nsome of these things.\nBut\n\n737\n00:34:35.146 --> 00:34:39.190\nthis is a great example of one reason\nwhy you should do something like that.\n\n738\n00:34:39.190 --> 00:34:42.150\nI'm not suggesting that, that means\nthat somebody's gonna walk away, and\n\n739\n00:34:42.150 --> 00:34:44.450\nimmediately the bad actor is\nlurking in the shadows, right?\n\n740\n00:34:44.450 --> 00:34:47.190\nAnd they come running up to the machine\nand sit down and do this, but\n\n741\n00:34:47.190 --> 00:34:49.020\nyou never know what happens\nwhen you're not there.\n\n742\n00:34:49.020 --> 00:34:49.520\n&gt;&gt; Absolutely, Mm-hm.\n\n743\n00:34:49.520 --> 00:34:50.430\n&gt;&gt; You just don't know, right?\n\n744\n00:34:50.430 --> 00:34:51.290\nAccording to the movies,\n\n745\n00:34:51.290 --> 00:34:54.212\nthere's always bad actors in the ceiling\nwaiting to come and steal your data.\n\n746\n00:34:54.212 --> 00:34:55.700\n&gt;&gt; [LAUGH] Come down on wires,\nthey're ready to go.\n\n747\n00:34:55.700 --> 00:34:58.400\nJust you know, you wanna prevent\nTom Cruise from paying you a visit or\n\n748\n00:34:58.400 --> 00:34:59.272\nanybody else, right?\n\n749\n00:34:59.272 --> 00:34:59.825\n&gt;&gt; [LAUGH].\n\n750\n00:34:59.825 --> 00:35:03.110\n&gt;&gt; It's important so\nhopefully, all kidding aside.\n\n751\n00:35:03.110 --> 00:35:07.160\nBut hopefully, walking through the logic\nof this, seeing it first hand.\n\n752\n00:35:07.160 --> 00:35:09.330\nSeeing what happens when\nwe apply the certificate.\n\n753\n00:35:09.330 --> 00:35:13.230\nSee what happens when we delete it, and\nalso seeing it as we actually, then\n\n754\n00:35:13.230 --> 00:35:17.790\nlog out, log back in to see the protection\nfinally reapplied to prevent use of that.\n\n755\n00:35:17.790 --> 00:35:21.110\nHopefully that really cements in your\nmind the concepts associated with EFS.\n\n756\n00:35:21.110 --> 00:35:23.281\nAnd I know you're about to say,\nwell, I know you were gonna say that.\n\n757\n00:35:23.281 --> 00:35:24.629\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz it is always fantastic, but\n\n758\n00:35:24.629 --> 00:35:26.614\nI know you were also about to say\nwe're outta time, but before.\n\n759\n00:35:26.614 --> 00:35:27.450\n&gt;&gt; Uh-huh.\n&gt;&gt; Before,\n\n760\n00:35:27.450 --> 00:35:31.170\nbefore, before we do that, there's one\nother thing I want to quickly show.\n\n761\n00:35:31.170 --> 00:35:31.910\n&gt;&gt; Absolutely.\n\n762\n00:35:31.910 --> 00:35:33.320\n&gt;&gt; Bear with me here.\n\n763\n00:35:33.320 --> 00:35:36.710\nOne second, just give me a second, I'll\ntell you when I'm ready to bring it up.\n\n764\n00:35:36.710 --> 00:35:38.570\nI just have to get to the-\n&gt;&gt; [LAUGH]\n\n765\n00:35:38.570 --> 00:35:40.870\n&gt;&gt; Two things actually,\n\n766\n00:35:40.870 --> 00:35:42.700\ngive me just a second.\n\n767\n00:35:42.700 --> 00:35:43.520\n&gt;&gt; Yeah we got plenty of time.\n\n768\n00:35:43.520 --> 00:35:45.460\n&gt;&gt; Yeah we got, yeah no, I'm just\ntrying to get to the right document.\n\n769\n00:35:45.460 --> 00:35:49.374\nOkay, so I just wanna end our\ndiscussion with this, wanna show this.\n\n770\n00:35:49.374 --> 00:35:52.204\nAgain, part of the show notes,\nyou obviously can get these,\n\n771\n00:35:52.204 --> 00:35:55.480\nwe often talk about the documents\nthat are available.\n\n772\n00:35:55.480 --> 00:35:56.870\nYou could take a look at the show notes.\n\n773\n00:35:56.870 --> 00:35:59.230\nPut together a little table of\ncombinations and resolutions.\n\n774\n00:35:59.230 --> 00:36:01.300\nMeaning things that go wrong and\nhow you fix them, right?\n\n775\n00:36:01.300 --> 00:36:04.876\nAll that pertain to EFS, so\ngood troubleshooting stuff for\n\n776\n00:36:04.876 --> 00:36:07.030\nexam preparation, for instance.\n\n777\n00:36:07.030 --> 00:36:09.260\nHey, if this happens, what do I do?\n\n778\n00:36:09.260 --> 00:36:11.860\nUsers are unable to open\na file that they encrypted.\n\n779\n00:36:11.860 --> 00:36:13.650\nSucks to be them, but what can you do?\n\n780\n00:36:13.650 --> 00:36:16.650\nAs an IT professional,\nit's your job to fix that problem, right?\n\n781\n00:36:16.650 --> 00:36:20.620\nIf users run between devices, as you saw,\nwhere their private keys may not be\n\n782\n00:36:20.620 --> 00:36:24.040\navailable to them, because your\nprofiles are not roaming profiles.\n\n783\n00:36:24.040 --> 00:36:26.850\nBut rather, are local profiles, then,\n\n784\n00:36:26.850 --> 00:36:31.180\nif I am honed on this machine and\nI go to Mike's machine, right?\n\n785\n00:36:31.180 --> 00:36:35.740\nAnd I'm not gonna use a Roman profile\nto go over there, then my key and\n\n786\n00:36:35.740 --> 00:36:38.140\neverything associated with me\nstays on this machine right here.\n\n787\n00:36:38.140 --> 00:36:40.309\nYou can't see it, but\nI'm pointing to my machine, right?\n\n788\n00:36:40.309 --> 00:36:43.990\nAnd as a result, when I go to Mike's\nmachine, when I log on, those keys and\n\n789\n00:36:43.990 --> 00:36:46.980\nthat protection, and\nthat capability doesn't follow me.\n\n790\n00:36:46.980 --> 00:36:50.540\nSo without roaming profiles, the user\nwon't be able to access the information.\n\n791\n00:36:50.540 --> 00:36:52.690\nSo that's just common occurrence.\n\n792\n00:36:52.690 --> 00:36:55.350\nOne of those scenarios you often get,\nand you have to be aware of.\n\n793\n00:36:55.350 --> 00:36:57.830\nUsers aren't able to open a file\nthat another user encrypted.\n\n794\n00:36:57.830 --> 00:37:00.055\nWell, that's expected as I pointed out,\nright?\n\n795\n00:37:00.055 --> 00:37:02.030\n&gt;&gt; [LAUGH]\n&gt;&gt; That's what we expect should happen\n\n796\n00:37:02.030 --> 00:37:05.440\nbased on our conversation, unless\nthey're designated as a recovery agent.\n\n797\n00:37:05.440 --> 00:37:08.530\nSo, obviously that's something to\nconsider, we talked about that.\n\n798\n00:37:08.530 --> 00:37:11.730\nUser wants to provide additional\nusers with access to encrypted file.\n\n799\n00:37:11.730 --> 00:37:14.945\nOkay, not specifically select that user,\nright?\n\n800\n00:37:14.945 --> 00:37:15.890\n&gt;&gt; Mm-hm.\n\n801\n00:37:15.890 --> 00:37:20.700\n&gt;&gt; The user doesn't have a public key\navailable to them, meaning they're a user\n\n802\n00:37:20.700 --> 00:37:24.520\nthat does not have a public, private\nkey pair assigned to their account.\n\n803\n00:37:24.520 --> 00:37:26.845\nYou're not gonna be able to choose\nthem and put them in there,\n\n804\n00:37:26.845 --> 00:37:28.107\nthat's also gonna be a problem.\n\n805\n00:37:28.107 --> 00:37:32.235\nCuz remember, we have to take the private\nkey and the symmetric key called the FEK.\n\n806\n00:37:32.235 --> 00:37:36.104\nThe file encryption key, and we have to\nthen associate that with a public-private\n\n807\n00:37:36.104 --> 00:37:37.660\nkey pair for recovery purposes.\n\n808\n00:37:37.660 --> 00:37:39.594\nSo if the user doesn't have\nthat asymmetric key pair,\n\n809\n00:37:39.594 --> 00:37:41.200\nthey're not gonna become a recovery agent.\n\n810\n00:37:41.200 --> 00:37:45.200\nAnd they would not have that if they're\nnot a domain user, for instance, right?\n\n811\n00:37:45.200 --> 00:37:48.110\nbecause all domain users have\nthat available to them, but\n\n812\n00:37:48.110 --> 00:37:51.170\na non domain user may not,\ndepending on how they're set up and\n\n813\n00:37:51.170 --> 00:37:54.340\nwhat we have done for them, so\nthat's likely gonna be an issue.\n\n814\n00:37:54.340 --> 00:37:57.660\nSo it's just a list of things\nhere I thought would be valuable\n\n815\n00:37:57.660 --> 00:38:01.140\njust to show you that, and show it to\nyou rather than point it out to you.\n\n816\n00:38:01.140 --> 00:38:05.190\nYou could see it's a little bit\non the second page, but not much.\n\n817\n00:38:05.190 --> 00:38:07.230\nSo just be aware of that.\n\n818\n00:38:07.230 --> 00:38:10.870\nBy the way, this is one that often comes\nup, and we didn't talk about this.\n\n819\n00:38:10.870 --> 00:38:14.600\nBut this is one that is also a little\ngotcha from a scenario perspective.\n\n820\n00:38:14.600 --> 00:38:15.176\n&gt;&gt; Yeah, that's a good one.\n\n821\n00:38:15.176 --> 00:38:19.436\n&gt;&gt; Right, because if you're not, the data\nrecovery agent doesn't automatically have\n\n822\n00:38:19.436 --> 00:38:21.490\nthe right to recover every file, right?\n\n823\n00:38:21.490 --> 00:38:24.230\nWe didn't really make this distinction\nwhen we were talking about it.\n\n824\n00:38:24.230 --> 00:38:27.830\nSo bad host and bad speed for\nMike and I not talking about this,\n\n825\n00:38:27.830 --> 00:38:30.920\nbecause we should have thought about this\n&gt;&gt; Somethings coming up from part four.\n\n826\n00:38:30.920 --> 00:38:32.940\n&gt;&gt; No, part four's gonna\nbe part one of BitLocker.\n\n827\n00:38:32.940 --> 00:38:34.210\nPart four overall,\n\n828\n00:38:34.210 --> 00:38:36.660\nwe're gonna start talking about\nBitLocker in the next episode.\n\n829\n00:38:36.660 --> 00:38:39.242\nBut this is an important distinction,\nright,\n\n830\n00:38:39.242 --> 00:38:44.140\nbecause the file recovery agent right,\nis designated at a certain moment in time.\n\n831\n00:38:44.140 --> 00:38:47.170\nAnd so,\nyou cannot decrypt files that were added,\n\n832\n00:38:47.170 --> 00:38:50.730\nor rather you cannot as\na recovery agent go in and\n\n833\n00:38:50.730 --> 00:38:53.270\nget those files depending on when you\nwere designated as a recovery agent.\n\n834\n00:38:53.270 --> 00:38:57.120\nSo it is important to be aware of that,\nso we can use Cypher,\n\n835\n00:38:57.120 --> 00:38:59.048\nwhich is a command line tool.\n\n836\n00:38:59.048 --> 00:39:02.520\nI think I showed in the first episode,\nI don't actually remember if I did.\n\n837\n00:39:02.520 --> 00:39:05.830\nBut just in case I did not,\nlet me just quickly bring it up and\n\n838\n00:39:05.830 --> 00:39:06.900\nshow it to you now.\n\n839\n00:39:08.220 --> 00:39:13.456\nBut if you are not familiar with cipher,\nthen as you can often see me do,\n\n840\n00:39:13.456 --> 00:39:16.873\ncipher forward slash question mark, right?\n\n841\n00:39:16.873 --> 00:39:21.030\nWill show you the help file for\nit, you could see it there.\n\n842\n00:39:21.030 --> 00:39:25.270\nIt's a little hard to see,\ncuz I didn't do my due diligence and\n\n843\n00:39:25.270 --> 00:39:26.270\ndo what I normally do.\n\n844\n00:39:26.270 --> 00:39:28.558\nLet me just change\nthe font real quick and.\n\n845\n00:39:28.558 --> 00:39:32.340\nThis is a trick by the way, Mike\nactually showed me, long, long time ago.\n\n846\n00:39:32.340 --> 00:39:35.814\nSo I have to give him credit for\nthat for the [INAUDIBLE] console.\n\n847\n00:39:35.814 --> 00:39:37.800\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Yeah, it shows up really nicely.\n\n848\n00:39:37.800 --> 00:39:40.970\nAll right, so screen background we'll\ndo white, screen text will be blue,\n\n849\n00:39:40.970 --> 00:39:42.840\nit will be easier for you to see.\n\n850\n00:39:42.840 --> 00:39:45.768\nNow you can see that a little bit easier.\n\n851\n00:39:45.768 --> 00:39:46.380\n&gt;&gt; Nice.\n\n852\n00:39:46.380 --> 00:39:51.072\n&gt;&gt; And so with the Cipher tool, which is a\ncommand line tool, that we use essentially\n\n853\n00:39:51.072 --> 00:39:55.431\nto be to able to encipher, decipher,\nlook at settings, things like that.\n\n854\n00:39:55.431 --> 00:39:59.290\nCIPHER /U, as you can see there, right?\n\n855\n00:39:59.290 --> 00:40:02.382\nIf you read the help file,\nit'll actually give us some information.\n\n856\n00:40:02.382 --> 00:40:05.038\nTries to touch all encrypted\nfiles on the local drive,\n\n857\n00:40:05.038 --> 00:40:08.400\nupdates user file encryption key to\nmake sure that they have rights.\n\n858\n00:40:08.400 --> 00:40:11.480\nThis will solve that problem and\nhelp us to understand that, and\n\n859\n00:40:11.480 --> 00:40:13.940\ngive us some documentation\nabout what's going on.\n\n860\n00:40:13.940 --> 00:40:16.630\n&gt;&gt; Yeah, this is something I've\nseen out there in the real world.\n\n861\n00:40:16.630 --> 00:40:20.610\nIf you didn't have a policy\nin place to work with EFS but\n\n862\n00:40:20.610 --> 00:40:22.350\nyour users were using it.\n\n863\n00:40:22.350 --> 00:40:25.270\nAnd then you've come up with this policy\nand say, we're gonna create this account,\n\n864\n00:40:25.270 --> 00:40:27.760\nwe're gonna set this as a recovery agent.\n\n865\n00:40:27.760 --> 00:40:31.937\nAll is good and they go and they delete\nthe original recovery agent that built in\n\n866\n00:40:31.937 --> 00:40:34.150\nthe main admin recovery agent certificate.\n\n867\n00:40:34.150 --> 00:40:36.660\nNot thinking about the fact\nthat the recovery agent is set\n\n868\n00:40:36.660 --> 00:40:38.460\nat the time of encryption.\n\n869\n00:40:38.460 --> 00:40:42.380\nSo it anything encrypted before\nwe switched recovery agents\n\n870\n00:40:42.380 --> 00:40:44.590\nis recoverable by the old recovery agent.\n\n871\n00:40:44.590 --> 00:40:48.110\nSo never throw those file recovery\ncertificates out, save them.\n\n872\n00:40:48.110 --> 00:40:50.210\nYou never know when\nyou're gonna need them.\n\n873\n00:40:50.210 --> 00:40:51.660\n&gt;&gt; Very true, very true.\n\n874\n00:40:51.660 --> 00:40:54.020\nAnd there's one other thing since\nwe're talking about Cipher.\n\n875\n00:40:54.020 --> 00:40:55.790\nI'm gonna show you a neat\nlittle trick with Cipher.\n\n876\n00:40:55.790 --> 00:40:57.470\nI'm gonna go into the VM,\n\n877\n00:40:57.470 --> 00:41:00.540\nthe Virtual Machine that was on\nmy actual Windows 10 machine.\n\n878\n00:41:00.540 --> 00:41:02.770\nJust showing you the command lines,\nso it's gonna look different for\n\n879\n00:41:02.770 --> 00:41:03.930\njust a second, while I bring it up.\n\n880\n00:41:03.930 --> 00:41:05.320\nSo let me just fix that.\n\n881\n00:41:05.320 --> 00:41:09.545\nMike, tell them a story or something while\nI'm just putting this back the way it was.\n\n882\n00:41:09.545 --> 00:41:13.185\n&gt;&gt; [CROSSTALK] The best practice, I don't\nknow, you were talking earlier about\n\n883\n00:41:13.185 --> 00:41:17.004\nthe fact that the built in Domain Admin\naccount is the recovery agent by default.\n\n884\n00:41:17.004 --> 00:41:20.406\nI've seen a lot of best practices that\nsay we really should think about changing\n\n885\n00:41:20.406 --> 00:41:21.840\nthat-\n&gt;&gt; Designating separate one, right?\n\n886\n00:41:21.840 --> 00:41:26.480\n&gt;&gt; Yeah, because what happens is,\na lot of the people in the IT have access\n\n887\n00:41:26.480 --> 00:41:29.030\nto the built in domain admin account,\nright?\n\n888\n00:41:29.030 --> 00:41:32.600\nBecause you need to do things that\nrequire domain admin privileges, so\n\n889\n00:41:32.600 --> 00:41:34.170\nwe've shared that password.\n\n890\n00:41:34.170 --> 00:41:37.090\nThat means anybody that\nhas access to that account\n\n891\n00:41:37.090 --> 00:41:40.440\ncan also access any encrypted documents.\n\n892\n00:41:40.440 --> 00:41:42.970\nSo a lot of times,\nwe will create a separate account.\n\n893\n00:41:42.970 --> 00:41:44.880\nIt don't have to have\nany special permissions,\n\n894\n00:41:44.880 --> 00:41:47.590\njust a standard user account\nin Active Directory and\n\n895\n00:41:47.590 --> 00:41:52.720\nthen we will issue a file recovery\ncertificate to that user account.\n\n896\n00:41:52.720 --> 00:41:57.280\nAnd then very few people have that\npassword to be able to log on as\n\n897\n00:41:57.280 --> 00:41:58.500\nthe recovery agent.\n\n898\n00:41:58.500 --> 00:42:01.080\nEven fewer people that actually\nhave domain admin rights,\n\n899\n00:42:01.080 --> 00:42:02.620\nwhich I know sounds crazy.\n\n900\n00:42:02.620 --> 00:42:06.740\nBut again, that account can\naccess any encrypted files.\n\n901\n00:42:06.740 --> 00:42:09.560\nThese are things that are typically\nwell beyond my paygrade\n\n902\n00:42:09.560 --> 00:42:10.580\nthat I shouldn't be seeing.\n\n903\n00:42:10.580 --> 00:42:14.380\nSo, I like the idea of creating\na separate account just for\n\n904\n00:42:14.380 --> 00:42:19.180\nthe purpose of file recovery, issuing\na certificate for that intended purpose.\n\n905\n00:42:19.180 --> 00:42:22.950\nAnd then as Adam were showing us,\nusing a tool like Cipher to go and\n\n906\n00:42:22.950 --> 00:42:24.340\ntouch all those files.\n\n907\n00:42:24.340 --> 00:42:27.760\nBecause remember,\nonce I change who the recovery agent is,\n\n908\n00:42:27.760 --> 00:42:31.510\nthat doesn't automatically update\nall the existing encrypted files.\n\n909\n00:42:31.510 --> 00:42:35.180\nI would have to get each user to go in and\nopen their file and\n\n910\n00:42:35.180 --> 00:42:38.860\nclose it to update the fact that\nthere's now a new recovery agent.\n\n911\n00:42:38.860 --> 00:42:41.078\nAnd what certificate is\nallowed to recover that.\n\n912\n00:42:41.078 --> 00:42:45.840\nSo that Cipher command is fantastic for\nscrolling through file systems on file\n\n913\n00:42:45.840 --> 00:42:48.310\nservers and\njust touching everyone of those files.\n\n914\n00:42:48.310 --> 00:42:49.705\n&gt;&gt; It is.\nSo speaking of Cipher,\n\n915\n00:42:49.705 --> 00:42:52.483\nI'm gonna show you a little interesting,\na little, [SOUND] again,\n\n916\n00:42:52.483 --> 00:42:55.331\nit's not a glitch but it's a planned\nissue, let's put it that way.\n\n917\n00:42:55.331 --> 00:42:57.730\nSo join me back here,\nI'm on the Windows 10 machine.\n\n918\n00:42:57.730 --> 00:42:58.370\nSo I just brought up,\n\n919\n00:42:58.370 --> 00:43:02.160\nwell Mike was just helping us to\nbetter understand the concept.\n\n920\n00:43:02.160 --> 00:43:04.980\nI was just configuring it so\nit looks the same way so you can see it.\n\n921\n00:43:04.980 --> 00:43:08.860\nSo, I'm in the Windows 10 machine,\non the same machine where our\n\n922\n00:43:10.170 --> 00:43:13.640\nfolder EFS John and our file memo is.\n\n923\n00:43:13.640 --> 00:43:14.520\nYou can see it's still there.\n\n924\n00:43:14.520 --> 00:43:17.840\nAnd you can see as the Domain Admin I\nstill don't have rights to it, right?\n\n925\n00:43:17.840 --> 00:43:22.260\nNow if I go in as the Domain Admin I\ntry to run Cipher\n\n926\n00:43:22.260 --> 00:43:24.140\nto unencrypt the file, right?\n\n927\n00:43:24.140 --> 00:43:26.920\nWithout the recover agent rights, right?\n\n928\n00:43:26.920 --> 00:43:29.340\nSo in theory could I use\nCipher to unencrypt the file,\n\n929\n00:43:29.340 --> 00:43:30.810\nwell sure you can if you have rights.\n\n930\n00:43:30.810 --> 00:43:32.010\n&gt;&gt; Okay.\n&gt;&gt; But not without rights.\n\n931\n00:43:32.010 --> 00:43:35.550\nSo, even from the command line, which is\nessentially the same thing as trying to go\n\n932\n00:43:35.550 --> 00:43:36.660\ninto the graphical interface and\n\n933\n00:43:36.660 --> 00:43:39.390\naccess this without\nthe recovery agent capability.\n\n934\n00:43:39.390 --> 00:43:44.540\nSo Cipher forward slash capital D\ncapital S, specify the path, right.\n\n935\n00:43:44.540 --> 00:43:45.650\nSo you'll see here,\n\n936\n00:43:45.650 --> 00:43:49.940\nsend the directory CEFS drive not\nto encrypt new files, error, right.\n\n937\n00:43:49.940 --> 00:43:53.770\nThe specified file cannot be decrypted,\nright decrypting files, memo.txt,\n\n938\n00:43:53.770 --> 00:43:57.350\nthe name of the file, error,\nwrite err is error, right.\n\n939\n00:43:57.350 --> 00:43:58.960\nSpecified file cannot be decrypted.\n\n940\n00:43:58.960 --> 00:44:00.830\nSo I can use the Cipher command.\n\n941\n00:44:00.830 --> 00:44:03.440\nIf I go in, log on as John Smith,\nuse that command,\n\n942\n00:44:03.440 --> 00:44:05.040\nI will be able to remove encryption,\n\n943\n00:44:05.040 --> 00:44:08.700\nsame thing as right-clicking, just\nunchecking the box from the Cipher tool.\n\n944\n00:44:08.700 --> 00:44:11.140\nBut without the appropriate\nrights as creator/owner,\n\n945\n00:44:11.140 --> 00:44:14.330\nor the appropriate certificate,\nas a recovery agent,\n\n946\n00:44:14.330 --> 00:44:16.800\nI cannot use the Cipher tool to break\nthe encryption, so it's still secure.\n\n947\n00:44:16.800 --> 00:44:19.770\n&gt;&gt; So Cipher's not a way to bypass\nnormal security architecture?\n\n948\n00:44:19.770 --> 00:44:22.660\n&gt;&gt; No, it's a way that, as you pointed\nout, we can see encryption attributes,\n\n949\n00:44:22.660 --> 00:44:24.920\nlet's say I understand there\nis encryption applied.\n\n950\n00:44:24.920 --> 00:44:27.700\nWe may be able to modify that\nif we have the recovery agent or\n\n951\n00:44:27.700 --> 00:44:28.840\nthe creator on the right.\n\n952\n00:44:28.840 --> 00:44:31.600\nBut without that, all I'm doing\nis essentially getting errors.\n\n953\n00:44:31.600 --> 00:44:35.400\nI can touch the folder, touch the file,\nbut I'm not modifying the attribute.\n\n954\n00:44:35.400 --> 00:44:35.990\nIt's still in place.\n\n955\n00:44:35.990 --> 00:44:37.570\nSo just make sure you're aware of that.\n\n956\n00:44:37.570 --> 00:44:39.490\nYou'd probably wanna take\na quick look at Cipher tool,\n\n957\n00:44:39.490 --> 00:44:40.970\ngo through the help file and make sure.\n\n958\n00:44:40.970 --> 00:44:44.190\nIt's good to know what's there,\ngood to see how it works.\n\n959\n00:44:44.190 --> 00:44:47.370\nIf you issued that exact command line\nobviously modified for the path and\n\n960\n00:44:47.370 --> 00:44:49.500\nname of the directory you\nmay create in a demo.\n\n961\n00:44:49.500 --> 00:44:51.720\nYou would with the rights of\nthe user that created it.\n\n962\n00:44:51.720 --> 00:44:53.890\nOr the recovery agent\ncertificate in place for\n\n963\n00:44:53.890 --> 00:44:57.770\nthe user that is the RA, be able to\nactually remove the encryption, but\n\n964\n00:44:57.770 --> 00:45:00.790\nwithout that capability, you'll get\nthe errors that I just showed you here.\n\n965\n00:45:00.790 --> 00:45:02.008\n&gt;&gt; Well, alright.\nWell we thank you for\n\n966\n00:45:02.008 --> 00:45:03.881\nspending a little extra time and\nshowing us that,\n\n967\n00:45:03.881 --> 00:45:05.978\nwe know Microsoft loves command line and\npower shell and\n\n968\n00:45:05.978 --> 00:45:08.481\nthe exam as well [CROSSTALK]\n&gt;&gt; They do, they do.\n\n969\n00:45:08.481 --> 00:45:10.991\nPlay around with Cipher,\nunderstand what you can and\n\n970\n00:45:10.991 --> 00:45:15.640\ncan't do with that command line technology\nto work with our EFS or encrypted files.\n\n971\n00:45:15.640 --> 00:45:17.700\nAll right Adam, great stuff there.\n\n972\n00:45:17.700 --> 00:45:20.775\nWe saw three great episodes\non working with EFS,\n\n973\n00:45:20.775 --> 00:45:23.985\nEncrypting File System\nin Windows Server 2016.\n\n974\n00:45:23.985 --> 00:45:25.755\nWe hope everybody out there enjoyed it.\n\n975\n00:45:25.755 --> 00:45:29.885\nThank you for sharing all of that\nwonderful information with us.\n\n976\n00:45:29.885 --> 00:45:31.015\n&gt;&gt; The bounty of EFS.\n\n977\n00:45:31.015 --> 00:45:33.065\n&gt;&gt; But for now we're gonna\nbe signing off for ITProTV.\n\n978\n00:45:33.065 --> 00:45:35.025\nI've been your host, Mike Rodrick.\n\n979\n00:45:35.025 --> 00:45:35.675\n&gt;&gt; I'm Adam Gordon.\n\n980\n00:45:35.675 --> 00:45:37.912\n&gt;&gt; And we'll see you next time.\n\n981\n00:45:37.912 --> 00:45:43.885\n[MUSIC]\n\n982\n00:45:43.885 --> 00:45:46.936\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "236587413"
        },
        {
          "description": "",
          "length": "2001",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-4-configure_disk_and_file_encryption_pt4.00_33_16_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-4-configure_disk_and_file_encryption_pt4.00_33_16_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-4-configure_disk_and_file_encryption_pt4.00_33_16_26.Still001-sm.jpg",
          "title": "Configure disk and file encryption Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.499\nWelcome to ITProTV, I'm your host Don.\n\n2\n00:00:02.499 --> 00:00:08.116\n[CROSSTALK]\n\n3\n00:00:08.116 --> 00:00:11.419\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.419 --> 00:00:14.924\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n5\n00:00:14.924 --> 00:00:16.425\nI'm your host Mike Rodrick.\n\n6\n00:00:16.425 --> 00:00:20.942\nToday we doing our secure\nWindows Server 2016,\n\n7\n00:00:20.942 --> 00:00:24.950\ngearing up for that 70-744 exam.\n\n8\n00:00:24.950 --> 00:00:27.984\nIn this episode we're gonna be taking\na look at disk and file encryption.\n\n9\n00:00:27.984 --> 00:00:31.262\nThis is actually a part four, so\nif you haven't seen the first three,\n\n10\n00:00:31.262 --> 00:00:34.635\nmake sure you go back and watch those,\na lot of good information.\n\n11\n00:00:34.635 --> 00:00:37.730\nGonna get you ready for\nwhat we're getting ready to talk about.\n\n12\n00:00:37.730 --> 00:00:40.620\nAnd who here better to talk\nabout disk encryption and\n\n13\n00:00:40.620 --> 00:00:43.670\nfile encryption with than none\nother than Mr. Adam Gordon.\n\n14\n00:00:43.670 --> 00:00:44.470\nWelcome back Adam.\n\n15\n00:00:44.470 --> 00:00:45.130\n&gt;&gt; Hello everybody.\n\n16\n00:00:45.130 --> 00:00:46.960\nHopefully everybody is doing well.\n\n17\n00:00:46.960 --> 00:00:50.680\nAlways a pleasure to spend time with\nall of you and certainly with Mr.\n\n18\n00:00:50.680 --> 00:00:52.270\nMike Rodrick over here.\n\n19\n00:00:52.270 --> 00:00:53.341\nSo question.\n&gt;&gt; Yes.\n\n20\n00:00:53.341 --> 00:00:56.217\n&gt;&gt; We were talking about in the last\nepisode, if you haven't seen them\n\n21\n00:00:56.217 --> 00:00:59.657\nencourage you go back take a look, Mike\nand I spent some time chatting about EFS.\n\n22\n00:00:59.657 --> 00:01:00.400\n&gt;&gt; EFS, yes.\n\n23\n00:01:00.400 --> 00:01:01.634\n&gt;&gt; We are going to talk about EFS.\n\n24\n00:01:01.634 --> 00:01:05.017\nBut we're gonna talk about BitLocker, at\nleast turn our attention to BitLocker for\n\n25\n00:01:05.017 --> 00:01:05.599\na little bit.\n\n26\n00:01:05.599 --> 00:01:09.632\nSo like we did with EFS, some of the pros\nand cons, what's good about BitLocker,\n\n27\n00:01:09.632 --> 00:01:12.039\nmaybe what's not so good,\nwhat should we know?\n\n28\n00:01:12.039 --> 00:01:13.880\nWhat do we wanna tell people?\n\n29\n00:01:13.880 --> 00:01:17.040\n&gt;&gt; Probably one of the first things\nI usually try to tell people is,\n\n30\n00:01:17.040 --> 00:01:18.670\ncuz they'll ask why both, right?\n\n31\n00:01:18.670 --> 00:01:19.940\nWhat's the difference?\n\n32\n00:01:19.940 --> 00:01:23.940\nAnd I think we have to understand that\nBitLocker is full volume encryption\n\n33\n00:01:23.940 --> 00:01:26.360\nversus file encryption of EFS.\n\n34\n00:01:26.360 --> 00:01:29.250\nAnd it really does something\ncompletely different for me, right?\n\n35\n00:01:29.250 --> 00:01:33.490\nWhere EFS keeps my files safe,\npeople from accessing my files\n\n36\n00:01:33.490 --> 00:01:38.000\nif they're not authorized, BitLocker 's\nprotecting me while my system is offline.\n\n37\n00:01:38.000 --> 00:01:42.940\nAnd with mobile devices, where the drives\nare easy to steal or the device itself is\n\n38\n00:01:42.940 --> 00:01:46.962\neasy to steal, BitLocker is\ndefinitely a great solution for that.\n\n39\n00:01:46.962 --> 00:01:51.804\n&gt;&gt; All right, so as Mike was suggesting,\nwe actually have as we say, a chart for\n\n40\n00:01:51.804 --> 00:01:52.781\nthat, right?\n\n41\n00:01:52.781 --> 00:01:53.840\n&gt;&gt; Yes.\n&gt;&gt; Under a table.\n\n42\n00:01:53.840 --> 00:01:57.420\nSo Mike beat me to the punch,\nit's time to do a quick comparison for us.\n\n43\n00:01:57.420 --> 00:01:59.590\nBut we actually put all that\ninformation together, so\n\n44\n00:01:59.590 --> 00:02:02.350\nwe do have a nice little document, right?\n\n45\n00:02:02.350 --> 00:02:03.890\nA handy little reference point.\n\n46\n00:02:03.890 --> 00:02:06.590\nMaybe we can go full screen for just\na sec cuz I'm sitting over part of it.\n\n47\n00:02:06.590 --> 00:02:09.562\nBut all the points Mike laid out and\nhe really succeeded and\n\n48\n00:02:09.562 --> 00:02:13.200\nhe summarized the key differences for\nus in the Word document here.\n\n49\n00:02:13.200 --> 00:02:13.993\nPart of the show notes, right?\n\n50\n00:02:13.993 --> 00:02:15.782\n&gt;&gt; Mm-hm.\n&gt;&gt; So we can make sure you can get those.\n\n51\n00:02:15.782 --> 00:02:19.740\nIf you're interested and want to take\na look at them I encourage you to do so.\n\n52\n00:02:19.740 --> 00:02:21.890\nGreat way to summarize that functionality.\n\n53\n00:02:21.890 --> 00:02:26.370\nBut I'm gonna pick on probably\nthe most important set of differences.\n\n54\n00:02:26.370 --> 00:02:29.330\nAnd Mike hit on several things,\nbut from my perspective,\n\n55\n00:02:29.330 --> 00:02:32.150\nyou could see it up here on the chart\nwhile we're talking, right?\n\n56\n00:02:32.150 --> 00:02:37.240\nWhole volumes encrypted on the first row,\nas we talk about BitLocker versus EFS,\n\n57\n00:02:37.240 --> 00:02:40.131\nversus individual files or folders, right?\n\n58\n00:02:40.131 --> 00:02:44.030\nAs we talked about with\nEFS versus BitLocker.\n\n59\n00:02:44.030 --> 00:02:47.674\nThe idea is, Mike said that we\nare protecting at the volume level,\n\n60\n00:02:47.674 --> 00:02:51.789\nliterally our entire hard drive,\noperating system data and all, right?\n\n61\n00:02:51.789 --> 00:02:52.399\n&gt;&gt; Yeah.\n\n62\n00:02:52.399 --> 00:02:53.373\n&gt;&gt; As you pointed out.\n\n63\n00:02:53.373 --> 00:03:01.220\nVersus selectively being able to implement\nBitLocker's functionality, right?\n\n64\n00:03:01.220 --> 00:03:06.810\nWhole volume encryptions, we'll talk about\nit, versus selectively implementing EFS.\n\n65\n00:03:06.810 --> 00:03:09.300\nNow what's interesting is\nmost people don't realize or\n\n66\n00:03:09.300 --> 00:03:13.980\nthink about the fact that we can actually\nselectively implement BitLocker.\n\n67\n00:03:13.980 --> 00:03:16.070\nIt doesn't have to be\nwhole disk encryption.\n\n68\n00:03:16.070 --> 00:03:18.450\nWe can actually use BitLocker to achieve,\n\n69\n00:03:18.450 --> 00:03:21.910\nessentially, a selective\nencryption process.\n\n70\n00:03:21.910 --> 00:03:24.750\nBecause we can decide to\nencrypt the entire volume,\n\n71\n00:03:24.750 --> 00:03:26.350\nwhich is traditionally how we do it.\n\n72\n00:03:26.350 --> 00:03:27.900\nBut we also can go in and\n\n73\n00:03:27.900 --> 00:03:31.090\ndecide that we wanna only encrypt\nareas that are sectors, right?\n\n74\n00:03:31.090 --> 00:03:35.640\nOf the hard drive that contain data and\nperhaps not encrypt the entire volumes.\n\n75\n00:03:35.640 --> 00:03:38.577\nSo we have some flexibility there\nalthough people don't often think about\n\n76\n00:03:38.577 --> 00:03:39.099\nit that way.\n\n77\n00:03:39.099 --> 00:03:42.564\nAnd as a result just kind of think\nof BitLocker as this hey let me\n\n78\n00:03:42.564 --> 00:03:45.240\nencrypt the whole hard\ndrive thought process.\n\n79\n00:03:45.240 --> 00:03:49.640\nBut it is designed as you suggested and\nmore properly, more thoughtfully,\n\n80\n00:03:49.640 --> 00:03:52.160\nused almost without exception and\ndo whole volume encryption.\n\n81\n00:03:52.160 --> 00:03:56.920\nWe also can extend this out to Cluster\nShared Volumes, CSVs, which in Server 16,\n\n82\n00:03:56.920 --> 00:04:00.275\nusing Storage Pools or\nStorage Server technology, right?\n\n83\n00:04:00.275 --> 00:04:05.180\nAnd correct me if I'm wrong,\nbut you did the Server 16,\n\n84\n00:04:05.180 --> 00:04:08.898\nthe 70, would have been 740, right?\n\n85\n00:04:08.898 --> 00:04:09.514\n&gt;&gt; Yes.\n\n86\n00:04:09.514 --> 00:04:12.445\n&gt;&gt; The Server 16 Storage shows.\n\n87\n00:04:12.445 --> 00:04:13.037\n&gt;&gt; Yes.\n\n88\n00:04:13.037 --> 00:04:13.760\n&gt;&gt; And all that stuff.\n\n89\n00:04:13.760 --> 00:04:17.300\nSo you would have touched there, at\nsome point, on Clustered Shared Volumes,\n\n90\n00:04:17.300 --> 00:04:21.758\nStorage Pools, that whole technology\nthat's used to back things like Hyper-V,\n\n91\n00:04:21.758 --> 00:04:23.460\nStorage Solutions.\n\n92\n00:04:23.460 --> 00:04:26.830\nWhether it's a SAN or\na NAS where we put that technology or\n\n93\n00:04:26.830 --> 00:04:28.560\ndeploy it, we can use BitLocker.\n\n94\n00:04:28.560 --> 00:04:30.940\nWe'll talk about this in\nsome upcoming conversations.\n\n95\n00:04:30.940 --> 00:04:35.770\nWe could deploy it to Cluster Shared\nVolumes and encrypt those LUNs or\n\n96\n00:04:35.770 --> 00:04:39.950\nencrypt the backing volumes so that we\nactually afford and use that protection.\n\n97\n00:04:39.950 --> 00:04:43.123\nSo some new and interesting\nthings going on with Server 16.\n\n98\n00:04:43.123 --> 00:04:46.315\nBut it is gonna, as Mike pointed out,\nbottom on the area right here\n\n99\n00:04:46.315 --> 00:04:50.264\nin the BitLocker, protecting the operating\nsystem from modification, right?\n\n100\n00:04:50.264 --> 00:04:51.862\n&gt;&gt; Hm-mm.\n&gt;&gt; That's gonna be one of the most\n\n101\n00:04:51.862 --> 00:04:53.468\nimportant differences versus EFS.\n\n102\n00:04:53.468 --> 00:04:57.356\nWhich is really about protecting\ntraditionally individually files, right?\n\n103\n00:04:57.356 --> 00:04:59.090\nSo wanna make sure we're clear on that,\n\n104\n00:04:59.090 --> 00:05:00.960\nit's a great way to\nstart the conversation.\n\n105\n00:05:00.960 --> 00:05:04.116\nSpeaking of conversations of\nwhat BitLocker is used for.\n\n106\n00:05:04.116 --> 00:05:07.288\nBefore I show you how to enable,\nyou can probably see that,\n\n107\n00:05:07.288 --> 00:05:10.349\nif I can get my, there we go,\nif I can get my mouse to move.\n\n108\n00:05:10.349 --> 00:05:14.390\nIt freezes in that lab environment\nsometimes when we move away from it.\n\n109\n00:05:14.390 --> 00:05:17.480\nI'm gonna turn on BitLocker here in\nour demo environment in just a minute.\n\n110\n00:05:17.480 --> 00:05:22.310\nBut before we do that let's go over here,\nas we often try to do, right?\n\n111\n00:05:22.310 --> 00:05:24.140\nThrow a little overview your way,\n\n112\n00:05:24.140 --> 00:05:28.890\nout on the Microsoft Windows Server\nTechNet Library for Server 12,\n\n113\n00:05:28.890 --> 00:05:31.910\n12 R2, Server 16, as you can see.\n\n114\n00:05:31.910 --> 00:05:35.100\nAgain, a little bit older information\nhere, but BitLocker's BitLocker,\n\n115\n00:05:35.100 --> 00:05:38.910\njust like we talked about with DFS,\nit really hasn't changed all that much.\n\n116\n00:05:38.910 --> 00:05:43.440\nAs a matter of fact the BitLocker cmdlet\nreferences for PowerShell that I'll talk\n\n117\n00:05:43.440 --> 00:05:48.775\nabout and show you are from 8.1 and\nServer 12, 12R2, because those PowerShell\n\n118\n00:05:48.775 --> 00:05:52.730\ncmdlets essentially are the same in\nServer 16, they haven't really changed.\n\n119\n00:05:52.730 --> 00:05:57.620\nWe have another capability,\nthe Microsoft MDOP solution.\n\n120\n00:05:57.620 --> 00:05:59.140\nYou probably have talked about MDOP,\nI'm sure,\n\n121\n00:05:59.140 --> 00:06:01.630\nin other shows,\nthe Desktop Optimization Pack.\n\n122\n00:06:01.630 --> 00:06:03.870\nWe'll talk about one of\nthe components there, MBAM,\n\n123\n00:06:03.870 --> 00:06:07.600\nwhich is the Microsoft BitLocker\nadministrative console and\n\n124\n00:06:07.600 --> 00:06:09.287\nadministration management capability.\n\n125\n00:06:09.287 --> 00:06:12.440\nAnd we'll just talk about some\nof the commands that we can use\n\n126\n00:06:12.440 --> 00:06:15.955\nto interact there, and I have a nice\nlittle pdf of all the commands.\n\n127\n00:06:15.955 --> 00:06:17.965\nYou should probably see\nit sitting right up here.\n\n128\n00:06:17.965 --> 00:06:20.440\nWe'll get to that in one of\nour upcoming conversations.\n\n129\n00:06:20.440 --> 00:06:24.915\nBut aside from the basics, BitLocker\nreally, although it's been updated over\n\n130\n00:06:24.915 --> 00:06:27.877\ntime, there is not a lot of change\nin the last version or two.\n\n131\n00:06:27.877 --> 00:06:30.695\nSo taking a look at something like\nthis really gives us the ability to\n\n132\n00:06:30.695 --> 00:06:31.365\nunderstand it.\n\n133\n00:06:32.528 --> 00:06:36.350\nThere is [COUGH] A lot of other\ntechnology talked about on this web page.\n\n134\n00:06:36.350 --> 00:06:38.103\nSo it's not just BitLocker,\n\n135\n00:06:38.103 --> 00:06:42.530\nit's AppLocker which does give us the\nability to be able to go in and provide\n\n136\n00:06:42.530 --> 00:06:46.640\ncontrol and capabilities for applications\nthat are running through group policy.\n\n137\n00:06:46.640 --> 00:06:48.360\nTalk about that in other areas.\n\n138\n00:06:48.360 --> 00:06:50.980\nEFS, which we've just\ndone several episodes on.\n\n139\n00:06:50.980 --> 00:06:53.492\nAnd then\nBitLocker Drive Encryption Provider,\n\n140\n00:06:53.492 --> 00:06:56.738\ntalks a bit about BitLocker,\nthe Drive Encryption Provider,\n\n141\n00:06:56.738 --> 00:07:00.750\nwhich is used to be able to provide\nsome of the backing technology for it.\n\n142\n00:07:00.750 --> 00:07:04.020\nSo it's good to go through\nalso the TPM Provider and\n\n143\n00:07:04.020 --> 00:07:07.978\nhow we actually interact with TPM, so talk\nmore about them, why they're important.\n\n144\n00:07:07.978 --> 00:07:10.289\nVersions of TPM supported for BitLocker?\n\n145\n00:07:10.289 --> 00:07:10.984\n&gt;&gt; 1.2.\n\n146\n00:07:10.984 --> 00:07:11.940\n&gt;&gt; And?\n\n147\n00:07:11.940 --> 00:07:13.043\n&gt;&gt; 2.0.\n\n148\n00:07:13.043 --> 00:07:16.210\n&gt;&gt; 2.0, we can do it with\neither of those two versions.\n\n149\n00:07:16.210 --> 00:07:19.840\nI keep trying to catch Mike but\nhe actually pays attention and\n\n150\n00:07:19.840 --> 00:07:22.760\nis not easily caught off guard\nwith that kind of stuff.\n\n151\n00:07:22.760 --> 00:07:26.316\nBut he's right, we do support wwo\nversions of the TPM standard.\n\n152\n00:07:26.316 --> 00:07:27.840\n1.2's slightly older, right?\n\n153\n00:07:27.840 --> 00:07:29.830\n2.0's some of the newer standards.\n\n154\n00:07:29.830 --> 00:07:33.598\nActually our laptops are running version,\nwell mine's running 1.2.\n\n155\n00:07:33.598 --> 00:07:37.280\nMine's a little bit newer than yours, so\nyour's is probably 1.2 as well, right?\n\n156\n00:07:37.280 --> 00:07:40.661\nYou may not get a 2.0 unless you\nbought something really, really,\n\n157\n00:07:40.661 --> 00:07:42.789\nreally new,\nmeaning in the last year or so.\n\n158\n00:07:42.789 --> 00:07:46.001\nBut you certainly can do with some of\nthe older standards that are out there and\n\n159\n00:07:46.001 --> 00:07:48.138\nit works just fine,\nreally with no trouble at all.\n\n160\n00:07:48.138 --> 00:07:50.356\nSo just some stuff to keep in mind.\n\n161\n00:07:50.356 --> 00:07:53.899\nWe'll talk a bit more about how\nto use the BitLocker Tools and\n\n162\n00:07:53.899 --> 00:07:57.760\nalso one of the command line tools\nthat we can use with BitLocker.\n\n163\n00:07:57.760 --> 00:08:00.170\nI'm going to show you that.\n\n164\n00:08:00.170 --> 00:08:02.960\nAnd also if you're no domain joined,\nwe can actually store and\n\n165\n00:08:02.960 --> 00:08:05.130\nrecover those passwords using one drive.\n\n166\n00:08:05.130 --> 00:08:06.540\n&gt;&gt; Very important.\n&gt;&gt; We can actually store them up in\n\n167\n00:08:06.540 --> 00:08:10.650\nthe Cloud essentially because it is\na domain based technology, primarily.\n\n168\n00:08:10.650 --> 00:08:14.500\nADDS can be used to store\nthe BitLocker recovery information.\n\n169\n00:08:14.500 --> 00:08:17.540\nSo, we'll talk about an option where you\nmay not have access to that as well.\n\n170\n00:08:17.540 --> 00:08:19.180\nSo some interesting stuff coming up.\n\n171\n00:08:19.180 --> 00:08:22.880\nAll right, so let's take and look and\ntalk about how we turn on BitLocker.\n\n172\n00:08:22.880 --> 00:08:25.700\nI'm going to do this on a Windows\n10 machine just to show you how\n\n173\n00:08:25.700 --> 00:08:28.275\nyou would enable it because\nalthough you can do it on server,\n\n174\n00:08:28.275 --> 00:08:31.370\na lot of times this is a more of\nan end-user client kind of thing, right?\n\n175\n00:08:31.370 --> 00:08:33.260\nSo you may put it on\nthe Windows 10 machine.\n\n176\n00:08:33.260 --> 00:08:35.970\nSo thought we'd just change it up\na little bit, Windows 10, sever 16,\n\n177\n00:08:35.970 --> 00:08:38.540\npretty much interchangeable\nin this regard, right?\n\n178\n00:08:38.540 --> 00:08:41.040\nEnabling it, in other words, is gonna look\nthe same, it's not really gonna change.\n\n179\n00:08:41.040 --> 00:08:45.560\nSo I'm gonna go to a volume other than my\noperating system volume, for my demo here.\n\n180\n00:08:45.560 --> 00:08:47.950\nYou could see if I've\ngot drive f set up here.\n\n181\n00:08:47.950 --> 00:08:52.290\nBut you could see that I could\nright-click on any of the volumes and\n\n182\n00:08:52.290 --> 00:08:53.020\nturn on BitLocker.\n\n183\n00:08:53.020 --> 00:08:56.330\nI'm just gonna use this volume that\ndon't have any data on right now\n\n184\n00:08:56.330 --> 00:08:57.100\njust to demo it.\n\n185\n00:08:57.100 --> 00:09:02.064\nSo I just have a volume, about 15,\n16 gigs, nothing special, just a simple\n\n186\n00:09:02.064 --> 00:09:06.608\nvolume, no requirements other than\nbeing formatted with NTFS, right?\n\n187\n00:09:06.608 --> 00:09:07.934\nVery important to make sure we know that.\n\n188\n00:09:07.934 --> 00:09:12.235\nAnd once we have that done, we're then\ngoing to be able to right-click on it,\n\n189\n00:09:12.235 --> 00:09:15.509\nassuming, right,\nthat we are ready to turn on BitLocker.\n\n190\n00:09:15.509 --> 00:09:17.847\nNotice user access control\nlittle shield there.\n\n191\n00:09:17.847 --> 00:09:20.822\nIt'd be great if they have like\na Microsoft coat of arms and\n\n192\n00:09:20.822 --> 00:09:22.135\nthat was the shield.\n\n193\n00:09:22.135 --> 00:09:23.485\nSuppose just the blue and yellow.\n\n194\n00:09:23.485 --> 00:09:25.050\n&gt;&gt; [LAUGH]\n&gt;&gt; Bill Gates' head or\n\n195\n00:09:25.050 --> 00:09:26.095\nsomething like that, right?\n\n196\n00:09:26.095 --> 00:09:28.750\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Or whatever it is, I don't know.\n\n197\n00:09:28.750 --> 00:09:31.410\nMaybe bomber on a shield or something.\n\n198\n00:09:31.410 --> 00:09:32.390\nSo turn on BitLocker.\n\n199\n00:09:32.390 --> 00:09:34.210\nAll right, we're gonna go ahead,\nwe're gonna click on that.\n\n200\n00:09:34.210 --> 00:09:36.040\nWe're gonna have a little\nwizard we walk through\n\n201\n00:09:36.040 --> 00:09:37.485\nif you've never enabled this before.\n\n202\n00:09:37.485 --> 00:09:39.180\nWe're going to kind of\nstep through the logic.\n\n203\n00:09:39.180 --> 00:09:41.113\nBut choose how you want\nto unlock this drive.\n\n204\n00:09:41.113 --> 00:09:45.925\nSo the first thing we have to think about\nis hey, once we enable encryption, right,\n\n205\n00:09:45.925 --> 00:09:49.422\nso once we turn on BitLocker, let's think\nahead because at some point we're going to\n\n206\n00:09:49.422 --> 00:09:51.632\nwant to get into\nthe contents that are there.\n\n207\n00:09:51.632 --> 00:09:52.842\nHow are we going to unlock it?\n\n208\n00:09:52.842 --> 00:09:54.412\nBecause we don't think about that.\n\n209\n00:09:54.412 --> 00:09:55.792\nIt's easy to lock something.\n\n210\n00:09:55.792 --> 00:09:58.812\nIt's a lot harder to keep the key and\nfigure out what we did with it.\n\n211\n00:09:58.812 --> 00:09:59.722\nHow to unlock it, right?\n\n212\n00:09:59.722 --> 00:10:01.432\nSo, we got to make sure we know this.\n\n213\n00:10:01.432 --> 00:10:03.446\nSo, the other thing I forgot\nWe got to talk about.\n\n214\n00:10:03.446 --> 00:10:05.156\nSo you've gotta have Server 10, Server 16.\n\n215\n00:10:05.156 --> 00:10:08.181\nBitLocker's actually been around\nsince Windows Vista, right?\n\n216\n00:10:08.181 --> 00:10:12.249\nSo it's been around for\nwhat, Vista, Windows 7,\n\n217\n00:10:12.249 --> 00:10:16.456\nWindows 8, 8.1,\nif we think about desktop OS.\n\n218\n00:10:16.456 --> 00:10:18.926\nWindows 8.1, Windows 10, right?\n\n219\n00:10:18.926 --> 00:10:22.266\nSo five generations on the desktop side.\n\n220\n00:10:22.266 --> 00:10:25.496\nSo you've been around for some time,\nso you could have done this in any of\n\n221\n00:10:25.496 --> 00:10:27.890\nthe earlier versions,\nit would have almost looked identical.\n\n222\n00:10:27.890 --> 00:10:31.670\nBut we need an operating system version\nthat does support BitLocker certainly,\n\n223\n00:10:31.670 --> 00:10:34.250\nbecause there are group policies\nsettings that will be associated\n\n224\n00:10:34.250 --> 00:10:35.090\nwith configuring this.\n\n225\n00:10:35.090 --> 00:10:36.332\nSo keep that in mind.\n\n226\n00:10:36.332 --> 00:10:40.020\nAll editions Windows 10 support this\nwith the exception of, you know?\n\n227\n00:10:40.020 --> 00:10:41.310\n&gt;&gt; Home Operating System.\n\n228\n00:10:41.310 --> 00:10:42.610\n&gt;&gt; Home does not, correct, right.\n\n229\n00:10:42.610 --> 00:10:44.620\nIt is available on Surface 16 as well,\nas I mentioned.\n\n230\n00:10:44.620 --> 00:10:46.200\nSo just be aware of that.\n\n231\n00:10:46.200 --> 00:10:48.930\nAnd I know you know, Mike, I'm just gonna\nswitch over to my notes here real quick\n\n232\n00:10:48.930 --> 00:10:50.495\nfrom my demo, while we're talking.\n\n233\n00:10:50.495 --> 00:10:52.190\n&gt;&gt; Uh-huh.\n&gt;&gt; But I know you know, but\n\n234\n00:10:52.190 --> 00:10:55.800\nmaybe you'll be willing to share\nwith all the kind folk out there\n\n235\n00:10:55.800 --> 00:10:57.550\nin IT Pro TV audience land.\n\n236\n00:10:57.550 --> 00:10:58.470\n&gt;&gt; Of course I am [LAUGH].\n\n237\n00:10:58.470 --> 00:11:02.090\n&gt;&gt; But what is the default algorithm\nused for Server 16 Windows 10 for\n\n238\n00:11:02.090 --> 00:11:03.300\nthe encryption for BitLocker?\n\n239\n00:11:03.300 --> 00:11:04.830\n&gt;&gt; I'm sorry if I tell you that\nI'm gonna have to kill you.\n\n240\n00:11:05.860 --> 00:11:07.140\nNo, I'm kidding, AES.\n\n241\n00:11:07.140 --> 00:11:07.790\n&gt;&gt; It is AES.\n\n242\n00:11:07.790 --> 00:11:08.300\n&gt;&gt; AES.\n\n243\n00:11:08.300 --> 00:11:09.590\n&gt;&gt; It is.\n&gt;&gt; Advanced Encryption Standard.\n\n244\n00:11:09.590 --> 00:11:11.710\n&gt;&gt; And do you know the bit\nstrength that it is used?\n\n245\n00:11:11.710 --> 00:11:12.860\n&gt;&gt; I'm gonna say it's 128?\n\n246\n00:11:12.860 --> 00:11:13.480\n&gt;&gt; It is.\nAnd\n\n247\n00:11:13.480 --> 00:11:15.450\ndo you know that you can\nchange that if you want to?\n\n248\n00:11:15.450 --> 00:11:15.980\n&gt;&gt; To 256.\n&gt;&gt; You can.\n\n249\n00:11:15.980 --> 00:11:17.510\n&gt;&gt; If you're feeling really froggy.\n\n250\n00:11:17.510 --> 00:11:18.470\n&gt;&gt; Group policy settings.\n\n251\n00:11:18.470 --> 00:11:19.840\n&gt;&gt; Yeah.\n&gt;&gt; And/or PowerShell, either one.\n\n252\n00:11:19.840 --> 00:11:22.500\nI'm gonna show you some of the PowerShell\ncommandlets as a matter of fact as well.\n\n253\n00:11:22.500 --> 00:11:24.040\nAll right, so\nthat means you actually studied up-\n\n254\n00:11:24.040 --> 00:11:26.890\n&gt;&gt; We talked about performance earlier\n\n255\n00:11:26.890 --> 00:11:28.280\nlike with file encryption.\n\n256\n00:11:28.280 --> 00:11:31.030\nWe said there's a little bit of\noverhead encrypting those files, but\n\n257\n00:11:31.030 --> 00:11:36.130\nit's well worth the protection that we\nget, at least in our opinions, right?\n\n258\n00:11:36.130 --> 00:11:37.920\n&gt;&gt; It is.\n&gt;&gt; Now, BitLocker, going from 128 to 256,\n\n259\n00:11:37.920 --> 00:11:41.960\nthat's a pretty hefty increase in\nthe bit length of that key, right?\n\n260\n00:11:41.960 --> 00:11:43.020\n&gt;&gt; You better be patient.\n\n261\n00:11:43.020 --> 00:11:44.160\n&gt;&gt; You're gonna have to, yes.\n\n262\n00:11:44.160 --> 00:11:46.630\n&gt;&gt; Have a comfortable chair\nunderneath you while you're waiting.\n\n263\n00:11:46.630 --> 00:11:48.380\n&gt;&gt; [LAUGH]\n&gt;&gt; Yeah, it is going to increase.\n\n264\n00:11:48.380 --> 00:11:51.070\nIt is one of those, and we did talk\nabout it in the EFS discussion,\n\n265\n00:11:51.070 --> 00:11:52.220\nyou're absolutely right.\n\n266\n00:11:52.220 --> 00:11:53.520\nIt is one of those tradeoffs, right?\n\n267\n00:11:53.520 --> 00:11:54.465\nAs we were suggesting,\n\n268\n00:11:54.465 --> 00:11:57.030\nwhere I think I couch in terms\nof an urban myth and legend.\n\n269\n00:11:57.030 --> 00:12:00.280\nBecause I hear this a lot from customers,\nfrom students.\n\n270\n00:12:00.280 --> 00:12:03.640\nI hear it a lot from people that I may\nmet when I am speaking or whatever.\n\n271\n00:12:03.640 --> 00:12:07.950\nAnd they'll say hey, what's your opinion\non encryption, which is a good thing.\n\n272\n00:12:07.950 --> 00:12:08.750\nAbsolutely.\n\n273\n00:12:08.750 --> 00:12:10.360\nBut what about that whole\nperformance thing, right?\n\n274\n00:12:10.360 --> 00:12:11.780\nIsn't that going to be a problem?\n\n275\n00:12:11.780 --> 00:12:13.170\nAnd it can be.\n\n276\n00:12:13.170 --> 00:12:17.710\nIn this case, it may very well prove to\nbe adding on a noticeable amount of time.\n\n277\n00:12:17.710 --> 00:12:20.610\nIn other words, we often say hey, it's\nreally not a big deal, we can offset it.\n\n278\n00:12:20.610 --> 00:12:25.920\nHardware based acceleration,\nextra memory, extra processing,\n\n279\n00:12:25.920 --> 00:12:28.620\nif we're fast enough, we have enough\nmemory, we can crank through it.\n\n280\n00:12:28.620 --> 00:12:30.740\nMaybe the system's newer it's\nnot gonna take this long.\n\n281\n00:12:30.740 --> 00:12:32.080\nAll those things are true.\n\n282\n00:12:32.080 --> 00:12:35.230\nBut doubling essentially the bit\nstrength on the algorithm,\n\n283\n00:12:35.230 --> 00:12:38.650\nright, is going to impact\nour processing time.\n\n284\n00:12:38.650 --> 00:12:43.690\nAnd so you do want to be aware of the fact\nthat even with faster computers today, we\n\n285\n00:12:43.690 --> 00:12:48.170\ndo at a certain point we should trade off\nnexus where we have to really consider and\n\n286\n00:12:48.170 --> 00:12:52.272\nthink about, or a matrix, and really\nthink about, are we getting value out of\n\n287\n00:12:52.272 --> 00:12:57.820\nthe protection control or countermeasure\nversus the potential performance lag?\n\n288\n00:12:57.820 --> 00:13:01.230\nBecause it can get to a point\nwhere it does become noticeable,\n\n289\n00:13:01.230 --> 00:13:05.960\nespecially if we're using BitLocker\non the operating system partition.\n\n290\n00:13:05.960 --> 00:13:08.140\nAnd we are using it every time we startup.\n\n291\n00:13:08.140 --> 00:13:12.257\nAnd we are not doing a network unlock,\nwe're connected, let's say,\n\n292\n00:13:12.257 --> 00:13:16.885\nwith a DHCP driver and a UEFI BIOS that's\nrequired to do the network unlock.\n\n293\n00:13:16.885 --> 00:13:21.015\nAnd if were connected, this ADDS thing\nI talked about where we sync and\n\n294\n00:13:21.015 --> 00:13:23.815\nconnect into Active Directory,\nwe can unlock and\n\n295\n00:13:23.815 --> 00:13:26.575\nessentially provide that unlock\nkey over the wire, right?\n\n296\n00:13:26.575 --> 00:13:29.769\nWe can do this one in the newer\nfeatures of BitLocker,\n\n297\n00:13:29.769 --> 00:13:31.770\nand we don't have to\nworry about providing it.\n\n298\n00:13:31.770 --> 00:13:34.220\nBut if we don't have a TPM locally, and or\n\n299\n00:13:34.220 --> 00:13:38.580\nwe're not using ADDS to store our\nrecovery keys, we have to provide, right,\n\n300\n00:13:38.580 --> 00:13:42.690\ngo back to our standard, handy,\nreferenceable USB device, right?\n\n301\n00:13:42.690 --> 00:13:47.170\nWe may be able to, indeed we can,\nprovide the unlock key through USB,\n\n302\n00:13:47.170 --> 00:13:50.190\nlet's say an external hard drive\ncuz we didn't have a TPM locally.\n\n303\n00:13:50.190 --> 00:13:52.620\nNot all machines have TPMs,\nthey may not be available.\n\n304\n00:13:52.620 --> 00:13:54.910\nAnd as a result, we can provide this, but\n\n305\n00:13:54.910 --> 00:13:59.070\nwe have to have the USB drive available\ninserted on boot, that kind thing.\n\n306\n00:13:59.070 --> 00:14:01.680\nSo it could slow us down for\na lot of reasons,\n\n307\n00:14:01.680 --> 00:14:03.270\nwe just have to think about\nconfiguration department.\n\n308\n00:14:03.270 --> 00:14:05.480\nSo it may or may not be a good idea.\n\n309\n00:14:05.480 --> 00:14:10.160\nI never tell people don't use encryption\nbecause you fear the performance issue.\n\n310\n00:14:10.160 --> 00:14:13.300\nI tell them put that\ndata on high performing\n\n311\n00:14:13.300 --> 00:14:17.930\ndrives where you can offset that\nusing SSD drives, FlashCash,\n\n312\n00:14:17.930 --> 00:14:21.490\nwhatever you may use for\nnewer technology, to offset the lag.\n\n313\n00:14:21.490 --> 00:14:22.440\nBut encrypt it.\n\n314\n00:14:22.440 --> 00:14:24.300\nIf the data is important,\nencrypt the data.\n\n315\n00:14:24.300 --> 00:14:26.360\nAnd just, users are going to\nhave to suck it up, right?\n\n316\n00:14:26.360 --> 00:14:27.930\nAnd they are going to have to\ndeal with the performance.\n\n317\n00:14:27.930 --> 00:14:30.640\n&gt;&gt; Deal with performance, or\nfix the performance issues rather than\n\n318\n00:14:30.640 --> 00:14:32.740\nforgo the protection you\nget from the encryption.\n\n319\n00:14:32.740 --> 00:14:34.440\n&gt;&gt; Or don't allow users to see the data.\n\n320\n00:14:34.440 --> 00:14:37.250\nI mean, there is a legitimate business\ncase that this can be made that\n\n321\n00:14:37.250 --> 00:14:39.910\nthis information could be so\nmission critical, but\n\n322\n00:14:39.910 --> 00:14:42.200\nmay not be productivity critical, right?\n\n323\n00:14:42.200 --> 00:14:43.685\n&gt;&gt; In other words it may\nhave to be archived.\n\n324\n00:14:43.685 --> 00:14:46.010\nCuz there's all this different\nusage scenarios, right,\n\n325\n00:14:46.010 --> 00:14:47.950\nin theory, that we can come up with.\n\n326\n00:14:47.950 --> 00:14:51.825\nThis data may be, because of\na statutory regulatory compliance,\n\n327\n00:14:51.825 --> 00:14:54.105\nmaybe you have to keep the data for\nan amount of time and\n\n328\n00:14:54.105 --> 00:14:56.665\nmaybe it's not actively being\nused every day anymore, right?\n\n329\n00:14:56.665 --> 00:15:00.005\nMaybe it's financial reports from prior\nyears, and you have to keep them, for\n\n330\n00:15:00.005 --> 00:15:04.725\ninstance, in the US according to the IRS\ntax requirements and regulations,\n\n331\n00:15:04.725 --> 00:15:08.725\nfederal regulations, you have to keep\nbusiness related data records around,\n\n332\n00:15:08.725 --> 00:15:11.880\ntax filings things like that,\nfor seven years as a corporation.\n\n333\n00:15:11.880 --> 00:15:15.830\nSo you may archive this data, but\nnot go into after the year you filed it,\n\n334\n00:15:15.830 --> 00:15:17.400\nlet's say, with the government, in theory.\n\n335\n00:15:17.400 --> 00:15:22.680\nIf that's the case, applying encryption\nthat takes a performance hit, a negative\n\n336\n00:15:22.680 --> 00:15:27.810\nperformance, is essentially impacting\nthe system to unencrypt and grip, but\n\n337\n00:15:27.810 --> 00:15:31.280\nit's not gonna be accessed maybe once or\ntwice over the next seven year period.\n\n338\n00:15:31.280 --> 00:15:34.022\nMaybe an auditor comes through and\nrandomly samples the files, right?\n\n339\n00:15:34.022 --> 00:15:36.741\nSo, maybe they have unencrypt them\non the fly to sample and see, and\n\n340\n00:15:36.741 --> 00:15:39.010\nmake sure that you're\ndoing with the right one.\n\n341\n00:15:39.010 --> 00:15:40.270\nHow often has that happened?\n\n342\n00:15:40.270 --> 00:15:41.282\nChances are good, almost never.\n\n343\n00:15:41.282 --> 00:15:44.900\nSo there are reasons why you could do\nthis, and maybe it's not a big deal.\n\n344\n00:15:44.900 --> 00:15:47.890\nSo I think it just depends,\nright, on what you're doing.\n\n345\n00:15:47.890 --> 00:15:51.048\nBut move that data into an area where\nit's gonna be Performance wise,\n\n346\n00:15:51.048 --> 00:15:52.234\nyou're gonna offset it.\n\n347\n00:15:52.234 --> 00:15:53.082\nThat makes a lot of sense.\n\n348\n00:15:53.082 --> 00:15:56.331\nAll right, so let's get back to what we\nwere talking about here, now that Mike\n\n349\n00:15:56.331 --> 00:15:59.750\nfilled in all the gaps for us about all\nthe little things we gotta think about.\n\n350\n00:15:59.750 --> 00:16:02.480\nSo choose how we want to unlock this\ndrive, we were talking about this.\n\n351\n00:16:02.480 --> 00:16:04.600\nDo we want to use a smart card?\n\n352\n00:16:04.600 --> 00:16:07.510\nSo we can use some sort\nof smart card support.\n\n353\n00:16:07.510 --> 00:16:10.930\nObviously, we need a USB smart card\nreader, so you have to think about that.\n\n354\n00:16:10.930 --> 00:16:12.760\nWhat if we've got virtual environments?\n\n355\n00:16:12.760 --> 00:16:14.960\nAre we going to be able to\npass that smart card through?\n\n356\n00:16:14.960 --> 00:16:20.182\nWe can with USB 3 support in the virtual\nmachine stack, whether it's Microsoft with\n\n357\n00:16:20.182 --> 00:16:25.495\nHyper-V, whether it's VMware with ESXi\nwith vSphere, on the Xen side with Citrix.\n\n358\n00:16:25.495 --> 00:16:30.086\nWe have that capability with the newer\nhypervisor stacks that are running in\n\n359\n00:16:30.086 --> 00:16:31.400\nthese newer OSs.\n\n360\n00:16:31.400 --> 00:16:32.280\nShouldn't be an issue, but\n\n361\n00:16:32.280 --> 00:16:35.400\nwe just have to think ahead and\nmake sure we're implementing that.\n\n362\n00:16:35.400 --> 00:16:38.870\nThe USB reader, lot of times people ask,\nhow do you do that, right?\n\n363\n00:16:38.870 --> 00:16:42.470\nThe USB reader has to be attached to the\nhost physically and made available as USB\n\n364\n00:16:42.470 --> 00:16:46.020\nbased device passed through from the\nintegration services, the VMware tools,\n\n365\n00:16:46.020 --> 00:16:48.870\nwhatever it is, and made available\nto the individual guest OS or VM.\n\n366\n00:16:48.870 --> 00:16:51.920\nBut you can do that if you need to,\nas long as you're supporting it.\n\n367\n00:16:53.330 --> 00:16:55.610\nGovernment, military,\ntraditionally, right?\n\n368\n00:16:55.610 --> 00:16:57.630\nThings like that.\nYou would often see that use case there.\n\n369\n00:16:57.630 --> 00:16:59.790\nBut more often than not,\nit's password driven, so\n\n370\n00:16:59.790 --> 00:17:01.890\nit may be a use a password to unlock.\n\n371\n00:17:01.890 --> 00:17:05.820\nWe're gonna do a password to\nunlock cuz while we do have many,\n\n372\n00:17:05.820 --> 00:17:10.180\nmany resources here at ITPRO.TV,\nvirtual smart card readers\n\n373\n00:17:10.180 --> 00:17:13.090\non lab environments that we don't\ncontrol directly are not one of them.\n\n374\n00:17:13.090 --> 00:17:16.040\nSo we're not going to be able to\ndeploy that cuz that technology\n\n375\n00:17:16.040 --> 00:17:18.120\nis just not available to\nus in the lab environment.\n\n376\n00:17:18.120 --> 00:17:18.710\nBut you get the idea.\n\n377\n00:17:18.710 --> 00:17:21.330\nIn the real world, we certainly\ncould deploy that if we wanted to.\n\n378\n00:17:21.330 --> 00:17:24.240\nAll right, so we're gonna go ahead and\nput in our standard password here.\n\n379\n00:17:24.240 --> 00:17:24.940\nJust throw this in.\n\n380\n00:17:24.940 --> 00:17:26.780\nMake sure I type that correctly.\n\n381\n00:17:26.780 --> 00:17:28.220\nI gotta get used to my new keyboard.\n\n382\n00:17:28.220 --> 00:17:29.168\n&gt;&gt; It's a little different.\n\n383\n00:17:29.168 --> 00:17:32.538\n&gt;&gt; It is, and like I'm constantly, not\nthat I was ever good to begin with, but\n\n384\n00:17:32.538 --> 00:17:35.329\nI'm hitting random keys, and so\nI really have to pay attention\n\n385\n00:17:35.329 --> 00:17:37.906\nto what I'm doing when I'm [CROSSTALK]\n&gt;&gt; [LAUGH] It's definitely not good to\n\n386\n00:17:37.906 --> 00:17:39.218\nhit random keys when\nyou're entering passwords.\n\n387\n00:17:39.218 --> 00:17:40.166\n&gt;&gt; Not when you're putting passwords in.\n\n388\n00:17:40.166 --> 00:17:44.550\n[LAUGH] All right, so we're gonna make\nsure hopefully that they do sync up.\n\n389\n00:17:44.550 --> 00:17:46.335\nClick Next there.\n\n390\n00:17:46.335 --> 00:17:48.590\nSo how do we want to\nback up our recovery key?\n\n391\n00:17:48.590 --> 00:17:51.870\nRemember, I talked about the fact\nwe could save it off to that USB\n\n392\n00:17:51.870 --> 00:17:54.260\nflash drive if we have one, save to file.\n\n393\n00:17:54.260 --> 00:17:55.250\nWe could actually print it.\n\n394\n00:17:55.250 --> 00:17:56.630\nI always marvel at this one.\n\n395\n00:17:56.630 --> 00:17:58.020\nPrint the recovery key.\n\n396\n00:17:58.020 --> 00:17:58.885\nI mean, you could do that.\n\n397\n00:17:58.885 --> 00:17:59.780\n&gt;&gt; [CROSSTALK] to your cubicle wall.\n\n398\n00:17:59.780 --> 00:18:01.105\n&gt;&gt; And of course, right.\n\n399\n00:18:01.105 --> 00:18:04.530\nMake sure you store it securely,\nsomewhere where nobody's going find it.\n\n400\n00:18:04.530 --> 00:18:07.440\nBut then you have to worry about\ntyping the darn thing back in.\n\n401\n00:18:07.440 --> 00:18:11.120\nI mean, I have nightmares when I think\nabout that kind of stuff because\n\n402\n00:18:11.120 --> 00:18:12.890\nthere's no way I could get that right.\n\n403\n00:18:12.890 --> 00:18:13.600\n&gt;&gt; 48 digits, yeah.\n\n404\n00:18:13.600 --> 00:18:15.310\n&gt;&gt; Yeah, 48 digits,\nno way I could get that right.\n\n405\n00:18:15.310 --> 00:18:18.930\nIt's just never gonna happen,\nI'd be there forever.\n\n406\n00:18:18.930 --> 00:18:21.140\nThey'd come find me, I'd be 1,000\nyears old trying to [CROSSTALK]\n\n407\n00:18:21.140 --> 00:18:21.698\n&gt;&gt; Although,\n\n408\n00:18:21.698 --> 00:18:24.080\nI will tell you, there's good news for us.\n\n409\n00:18:24.080 --> 00:18:29.080\nOne of the new features in BitLocker now\nis as your entering that recovery key,\n\n410\n00:18:29.080 --> 00:18:31.670\nit checks your key every six characters,\nnow.\n\n411\n00:18:31.670 --> 00:18:33.259\n&gt;&gt; Yeah, to make sure-\n&gt;&gt; [CROSSTALK]\n\n412\n00:18:33.259 --> 00:18:34.150\n&gt;&gt; It blocks the six.\n\n413\n00:18:34.150 --> 00:18:38.530\n&gt;&gt; Wait til you get all 48 and go you\nmade a typo, you figure out where it was.\n\n414\n00:18:38.530 --> 00:18:41.173\n&gt;&gt; It's like the license\nactivation reactivation [LAUGH]\n\n415\n00:18:41.173 --> 00:18:41.761\n&gt;&gt; [LAUGH]\n\n416\n00:18:41.761 --> 00:18:42.980\n&gt;&gt; The same technology\n\n417\n00:18:42.980 --> 00:18:44.040\n&gt;&gt; Where they tell you immediately you\n\n418\n00:18:44.040 --> 00:18:44.590\nscrewed up-\n&gt;&gt; Yeah.\n\n419\n00:18:44.590 --> 00:18:45.480\n&gt;&gt; And you gotta start over.\n\n420\n00:18:45.480 --> 00:18:46.040\n&gt;&gt; That's nice, yeah.\n\n421\n00:18:46.040 --> 00:18:46.630\n&gt;&gt; That part is good.\n\n422\n00:18:46.630 --> 00:18:47.300\nThat part is good.\n\n423\n00:18:47.300 --> 00:18:50.200\nSomebody at Microsoft was actually,\nand the reason they probably did this,\n\n424\n00:18:50.200 --> 00:18:50.990\ncuz it happened to them.\n\n425\n00:18:50.990 --> 00:18:52.150\n&gt;&gt; Exactly.\n&gt;&gt; And they got all the way through and\n\n426\n00:18:52.150 --> 00:18:52.750\nnobody told them.\n\n427\n00:18:52.750 --> 00:18:54.440\n&gt;&gt; Yes.\n&gt;&gt; And said we're gonna fix that, right,\n\n428\n00:18:54.440 --> 00:18:55.715\nand now we know.\n\n429\n00:18:55.715 --> 00:18:57.240\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so we're gonna save,\n\n430\n00:18:57.240 --> 00:18:59.020\nwe're not printing this out,\nwe're gonna save to file.\n\n431\n00:18:59.020 --> 00:19:01.100\nSo we're gonna save off to file.\n\n432\n00:19:01.100 --> 00:19:03.090\nObviously, we specify where\nwe're gonna put this.\n\n433\n00:19:03.090 --> 00:19:05.510\nSo, you could see here our recovery key.\n\n434\n00:19:05.510 --> 00:19:06.740\nNow, it's interesting because,\n\n435\n00:19:06.740 --> 00:19:10.680\nwe do see, right, the recovery key\ninformation text file there, all right?\n\n436\n00:19:10.680 --> 00:19:13.830\nSo I'm gonna go ahead, and I'm gonna just\nmove this service, so we can drop this.\n\n437\n00:19:13.830 --> 00:19:18.290\nI'm gonna go ahead, and\nI'm going to map a drive here.\n\n438\n00:19:18.290 --> 00:19:20.655\nSo, let me just do this real quick.\n\n439\n00:19:20.655 --> 00:19:24.435\nAnd map a network drive while we're\nactually getting ready to save this.\n\n440\n00:19:24.435 --> 00:19:28.175\nI'm not going to put this onto\nthe partitioner on the machine where I'm\n\n441\n00:19:28.175 --> 00:19:29.395\nputting BitLocker.\n\n442\n00:19:29.395 --> 00:19:32.455\nMike can explain why we're not going\nto do that while I'm mapping the drive.\n\n443\n00:19:32.455 --> 00:19:36.225\nBut this would be one of the worst\nthings I could possibly imagine doing.\n\n444\n00:19:36.225 --> 00:19:39.055\n&gt;&gt; So, unfortunately, I've seen people do.\n\n445\n00:19:39.055 --> 00:19:41.575\nBut the recovery key, right?\n\n446\n00:19:41.575 --> 00:19:43.195\nYou saw Adam set up two things so far.\n\n447\n00:19:43.195 --> 00:19:46.170\nHe set up the password which\nis what you are gonna need to\n\n448\n00:19:46.170 --> 00:19:47.830\nunlock the drive normally.\n\n449\n00:19:47.830 --> 00:19:51.715\nYou start the system up, you enter\nin the password, the drive unlocks.\n\n450\n00:19:51.715 --> 00:19:55.637\nThe recovery key is for\nif you've lost that password, or for\n\n451\n00:19:55.637 --> 00:19:58.400\nsome reason BitLocker decided\nnot to decrypt the drive.\n\n452\n00:19:58.400 --> 00:20:00.390\nMaybe it doesn't think it\nis in the same system.\n\n453\n00:20:00.390 --> 00:20:04.570\nIt thinks it has been moved to another\nmachine or something like that.\n\n454\n00:20:04.570 --> 00:20:08.110\nThe recovery key is what we need to get\nin if we don't have the password or\n\n455\n00:20:08.110 --> 00:20:09.080\nsomething else has gone wrong.\n\n456\n00:20:09.080 --> 00:20:13.210\nIf you store that recovery key on\nthe encrypted volume, guess what?\n\n457\n00:20:13.210 --> 00:20:16.660\nNot going to do you in good, right, cuz\nyou're not going to be able to access it.\n\n458\n00:20:16.660 --> 00:20:18.264\nWindows is usually pretty good.\n\n459\n00:20:18.264 --> 00:20:19.428\nIt will tell you, hey,\n\n460\n00:20:19.428 --> 00:20:22.350\nyou really shouldn't store\nthis on the encrypted volume.\n\n461\n00:20:22.350 --> 00:20:23.393\n&gt;&gt; It should warn you.\n\n462\n00:20:23.393 --> 00:20:25.100\n&gt;&gt; Yeah, but it does let you do it anyway.\n\n463\n00:20:25.100 --> 00:20:25.930\n&gt;&gt; It lets you do it.\n\n464\n00:20:25.930 --> 00:20:29.720\nSo it's something that you've gotta think\nabout, where are you gonna store it.\n\n465\n00:20:29.720 --> 00:20:32.920\nAnd then I'm sure Adam's gonna tell us,\nor as he maps his drive,\n\n466\n00:20:32.920 --> 00:20:35.780\nwe really have to make sure we keep\nthat recovery key safe, right?\n\n467\n00:20:35.780 --> 00:20:39.810\nBecause that, if I find the recovery key,\n\n468\n00:20:39.810 --> 00:20:43.330\nthen I can get into that BitLocker\nencrypted drive just as easily.\n\n469\n00:20:43.330 --> 00:20:45.634\nSo that becomes something\nthat we've gotta protect.\n\n470\n00:20:45.634 --> 00:20:48.200\n&gt;&gt; Yeah,\nshoot anybody who comes near the machine.\n\n471\n00:20:48.200 --> 00:20:49.990\n&gt;&gt; Yeah. [LAUGH] &gt;&gt; That's\nthe quickest way to protect it.\n\n472\n00:20:49.990 --> 00:20:52.530\nAll right, so I just mapped a drive\nout to our domain controller.\n\n473\n00:20:52.530 --> 00:20:55.530\nWe talked about hidden shares, the\nadministrative share with the dollar sign.\n\n474\n00:20:55.530 --> 00:20:57.530\nOne of our earlier episodes were on EFS.\n\n475\n00:20:57.530 --> 00:21:00.270\nI just map to the root of\nthe C Drive on that machine.\n\n476\n00:21:00.270 --> 00:21:01.170\nSo it's now there.\n\n477\n00:21:01.170 --> 00:21:06.790\nYou can see I clicked on the USB, or\nrather the UNC for the map drive,\n\n478\n00:21:06.790 --> 00:21:11.430\nand I'm about to save the recovery key\ninto the C drive on the domain controller.\n\n479\n00:21:11.430 --> 00:21:14.870\nSo I just mapped the drive out to put it\nthere remotely so I don't have to worry\n\n480\n00:21:14.870 --> 00:21:18.110\nabout all the things that as Mike\nexplained, can essentially they're wrong.\n\n481\n00:21:18.110 --> 00:21:18.910\nSo I'm going to do that.\n\n482\n00:21:18.910 --> 00:21:20.980\nWe'll just go ahead and save that off.\n\n483\n00:21:20.980 --> 00:21:21.880\nOkay, so I have that.\n\n484\n00:21:23.480 --> 00:21:26.130\nNow, it says a recovery\nkey has been saved.\n\n485\n00:21:26.130 --> 00:21:28.090\nAnd by the way,\nthis throws people sometimes.\n\n486\n00:21:28.090 --> 00:21:29.560\n&gt;&gt; Yes.\n&gt;&gt; Go back to the, wait a second,\n\n487\n00:21:29.560 --> 00:21:31.260\nI did this, but\nyou're asking me to do it again.\n\n488\n00:21:31.260 --> 00:21:34.030\nNo, we're just back to the screen,\nbut it does tell you, hey,\n\n489\n00:21:34.030 --> 00:21:35.540\nyou were successful, right?\n\n490\n00:21:35.540 --> 00:21:37.350\nAnd before we continue,\n\n491\n00:21:37.350 --> 00:21:39.760\nlet's just go take a look to make\nsure that we know that it's there.\n\n492\n00:21:39.760 --> 00:21:43.280\nSo let's just jump over to\nthe other machine here real quick.\n\n493\n00:21:43.280 --> 00:21:46.840\nThere is, this is the plab d 001 machine,\nsee it right there.\n\n494\n00:21:46.840 --> 00:21:49.784\nThis is the root of the c drive,\nI just have it open as you can see, and\n\n495\n00:21:49.784 --> 00:21:57.670\nyou'll see right there There is my\nrecovery key information, right?\n\n496\n00:21:57.670 --> 00:22:02.060\nNow, Mike said, hey, we should make\nsure that this file is stored securely.\n\n497\n00:22:02.060 --> 00:22:03.610\nThere is my recovery key.\n\n498\n00:22:03.610 --> 00:22:05.500\nYou can see it inside the file.\n\n499\n00:22:05.500 --> 00:22:07.597\nAnd by the way,\nthe alphanumeric string and\n\n500\n00:22:07.597 --> 00:22:10.040\nthe recovery key file name\nis not the recovery key.\n\n501\n00:22:10.040 --> 00:22:11.470\nWe're not quite that silly,\n\n502\n00:22:11.470 --> 00:22:14.840\nin case you were wondering,\ncuz people will tell you that.\n\n503\n00:22:14.840 --> 00:22:18.090\nNo, that's actually the identifier,\nwhich is part of what you need, but\n\n504\n00:22:18.090 --> 00:22:19.430\nit's not the key.\n\n505\n00:22:19.430 --> 00:22:23.420\nThe key itself, right,\nis this string that is here.\n\n506\n00:22:23.420 --> 00:22:26.220\nNow this file you saw just went and\nopened it up, right?\n\n507\n00:22:26.220 --> 00:22:30.430\nSo as Mike suggested, hey,\nmaybe we apply EFS and\n\n508\n00:22:30.430 --> 00:22:32.690\nput EFS protections on this to encrypt it.\n\n509\n00:22:32.690 --> 00:22:35.560\nMaybe we take this and\nwe put it somewhere else.\n\n510\n00:22:35.560 --> 00:22:38.210\nThis is maybe just a landing point for\n\n511\n00:22:38.210 --> 00:22:43.160\nus from the save operation, but\nmaybe we move this to some sort of secure\n\n512\n00:22:43.160 --> 00:22:46.960\nstorage solution somewhere where it's not\ngoing to be readily available to somebody.\n\n513\n00:22:46.960 --> 00:22:49.160\nEven a normal administrator like Mike,\nmyself, or\n\n514\n00:22:49.160 --> 00:22:51.740\nwhoever who has rights to the domain.\n\n515\n00:22:51.740 --> 00:22:54.850\nIn this case, the domain controller,\ncould trip across this key, right?\n\n516\n00:22:54.850 --> 00:22:59.050\nAnd that could prove to be not an issue,\nbut potentially just problematic.\n\n517\n00:22:59.050 --> 00:23:02.380\nAs an auditor, when I go in and\nI do work for customers, we look for\n\n518\n00:23:02.380 --> 00:23:02.980\nthis kind of stuff.\n\n519\n00:23:02.980 --> 00:23:06.390\nHey, are you leaving these keys\nsitting around on a file server?\n\n520\n00:23:06.390 --> 00:23:09.940\nAnd you'd be surprised what we find in\na directory called Please Go Here For\n\n521\n00:23:09.940 --> 00:23:10.880\nRecovery Key.\n\n522\n00:23:10.880 --> 00:23:13.390\nWhich actually,\none of my customers had done.\n\n523\n00:23:13.390 --> 00:23:16.140\nWhich is great, cuz I said,\nwow you're definitely documented.\n\n524\n00:23:16.140 --> 00:23:17.351\n&gt;&gt; You used administration, right?\n\n525\n00:23:17.351 --> 00:23:19.056\n[LAUGH]\n&gt;&gt; We know exactly where to go.\n\n526\n00:23:19.056 --> 00:23:23.280\nThere's no question about during BC/DR\nwhat directory I'm going to go look for.\n\n527\n00:23:23.280 --> 00:23:24.492\nBut did you ever stop and\n\n528\n00:23:24.492 --> 00:23:28.554\nthink about the fact that perhaps having\nthe generic share permission on that,\n\n529\n00:23:28.554 --> 00:23:33.120\nwhich everybody can read is, I'm just\nthinking may not be the best solution.\n\n530\n00:23:33.120 --> 00:23:35.130\nJust suggesting you might\nwant to change that.\n\n531\n00:23:35.130 --> 00:23:37.660\nSo we had a very nice\nconversation about that.\n\n532\n00:23:37.660 --> 00:23:38.175\n&gt;&gt; I bet.\n\n533\n00:23:38.175 --> 00:23:40.648\n[LAUGH]\n&gt;&gt; Right before I put a big red x on that\n\n534\n00:23:40.648 --> 00:23:42.524\nline, on the audit findings.\n\n535\n00:23:42.524 --> 00:23:45.355\nAll right, so just keep in mind,\nthis is what our recovery key looks like.\n\n536\n00:23:45.355 --> 00:23:48.299\nNow, Mike did say, and\nI will just remind you of this,\n\n537\n00:23:48.299 --> 00:23:52.269\nthat the recovery key is As you can\nsee gonna be a total of 48 characters.\n\n538\n00:23:52.269 --> 00:23:55.190\nEight blocks of six characters, right?\n\n539\n00:23:55.190 --> 00:23:58.070\nTwo, four, six, eight,\nas you can see here.\n\n540\n00:23:58.070 --> 00:24:00.970\nI should say numbers, not characters,\nbut rather just numbers.\n\n541\n00:24:00.970 --> 00:24:03.908\nSo just keep that in mind,\nin our example here.\n\n542\n00:24:03.908 --> 00:24:08.220\nBut you do have to enter them in this way,\nand you have to use as you put them in\n\n543\n00:24:08.220 --> 00:24:11.524\nthe function keys,\nF1 through F10 to hit the blocks.\n\n544\n00:24:11.524 --> 00:24:13.839\nFirst block, second block,\nthird block etcetera,\n\n545\n00:24:13.839 --> 00:24:15.290\nas you go to be able to put them in.\n\n546\n00:24:15.290 --> 00:24:17.060\nSo just keep that in mind, alright?\n\n547\n00:24:17.060 --> 00:24:19.600\nThat's what our little file looks\nlike with our recovery key.\n\n548\n00:24:19.600 --> 00:24:21.580\nAlright, so we have that saved off.\n\n549\n00:24:21.580 --> 00:24:22.540\nWe're going to click next now.\n\n550\n00:24:24.195 --> 00:24:26.190\nChoose which encryption mode to use.\n\n551\n00:24:26.190 --> 00:24:30.080\nThis is where we get to decide,\nwhat we're going to do, compatible mode.\n\n552\n00:24:30.080 --> 00:24:32.264\nIf we're going to move\nthe drive between devices.\n\n553\n00:24:32.264 --> 00:24:35.971\nWe may have to do that,\nphysical hardware fails.\n\n554\n00:24:35.971 --> 00:24:38.438\nWe have to remount\nthe device somewhere else.\n\n555\n00:24:38.438 --> 00:24:40.720\nWe have to have the key\nto be able to do that.\n\n556\n00:24:40.720 --> 00:24:44.290\nBut we may be mounting it into a system\nthat is not gonna necessarily,\n\n557\n00:24:44.290 --> 00:24:47.190\nlet's say Windows 10 or 2016 in our case.\n\n558\n00:24:47.190 --> 00:24:50.690\nAs a result, we may want to make it\ncompatible which lowers the threshold but\n\n559\n00:24:50.690 --> 00:24:54.330\nmakes it readable to just about any\ndevice that supports BitLocker.\n\n560\n00:24:54.330 --> 00:24:57.790\nOr new encryption mode, this is where\nwe're not gonna move the device.\n\n561\n00:24:57.790 --> 00:24:59.451\nAt least in theory we think\nwe're not gonna move it.\n\n562\n00:24:59.451 --> 00:25:00.510\n&gt;&gt; [LAUGH]\n&gt;&gt; You never know what's gonna happen.\n\n563\n00:25:00.510 --> 00:25:01.620\nBut you know.\n\n564\n00:25:01.620 --> 00:25:02.860\nWe never know anyway.\n\n565\n00:25:02.860 --> 00:25:05.820\nBut the idea is that if it\nis gonna be on the move so\n\n566\n00:25:05.820 --> 00:25:08.840\nto speak, the device,\nthe drive rather is portable.\n\n567\n00:25:08.840 --> 00:25:11.820\nIt may go to an older version of Windows\nto be accessed during a disaster\n\n568\n00:25:11.820 --> 00:25:12.400\nrecovery of that.\n\n569\n00:25:12.400 --> 00:25:16.034\nThat's where we have to worry about\ncompatible versus new because of\n\n570\n00:25:16.034 --> 00:25:19.995\nthe switch to AES versus older\nencryption algorithms, things like that.\n\n571\n00:25:19.995 --> 00:25:22.206\nSo just make sure you are aware of that.\n\n572\n00:25:22.206 --> 00:25:26.796\nBut with Windows 10,\nwe do have a new disk encryption mode XTS,\n\n573\n00:25:26.796 --> 00:25:28.803\nXTSAES which is the new one.\n\n574\n00:25:28.803 --> 00:25:30.696\nThis is the additional\nintegrity support capability,\n\n575\n00:25:30.696 --> 00:25:31.911\none of the key features that we get.\n\n576\n00:25:31.911 --> 00:25:35.617\nBut you can't use it on older versions of\nWindows it won't be read, or at least,\n\n577\n00:25:35.617 --> 00:25:38.191\nit'll map but\nyou won't be able to do anything with it.\n\n578\n00:25:38.191 --> 00:25:39.556\nSo, keep that in mind.\nThat's kind of a gotcha, right?\n\n579\n00:25:39.556 --> 00:25:40.656\nThat could be a big gotcha, actually.\n\n580\n00:25:40.656 --> 00:25:41.267\n&gt;&gt; Yeah, absolutely.\n\n581\n00:25:41.267 --> 00:25:43.567\n&gt;&gt; All right.\nWe're not gonna worry too much about this\n\n582\n00:25:43.567 --> 00:25:47.537\nfrom our perspective because we're keeping\nthis in Windows 10, just for the demo.\n\n583\n00:25:47.537 --> 00:25:48.267\nWe're not gonna move it.\n\n584\n00:25:48.267 --> 00:25:49.657\nSo, we'll choose that.\n\n585\n00:25:49.657 --> 00:25:51.437\nWe'll just leave the default,\nrather, I should say.\n\n586\n00:25:51.437 --> 00:25:53.797\nBy the way, speaking of defaults.\n\n587\n00:25:53.797 --> 00:25:57.960\nOne of the things that Microsoft\nhistorically is famous for, testing for\n\n588\n00:25:57.960 --> 00:26:02.002\non exams is, hey do we know,\nnot just the steps involved in the wizard.\n\n589\n00:26:02.002 --> 00:26:04.090\nWe always take time to try to\nwalk through them with you.\n\n590\n00:26:04.090 --> 00:26:06.730\nBut a lot of times,\nthe default settings on a certain page.\n\n591\n00:26:06.730 --> 00:26:09.860\nHey, is it the default setting to\nchoose the new encryption method or\n\n592\n00:26:09.860 --> 00:26:11.090\nthe compatible one?\n\n593\n00:26:11.090 --> 00:26:13.330\nThose kinda things are gotchas\non the exam sometimes, so\n\n594\n00:26:13.330 --> 00:26:15.970\nyou wanna pay attention to that,\nand obviously understand that.\n\n595\n00:26:15.970 --> 00:26:19.840\nTypically, along with the name of one\nof the new encryption modes, like Hey,\n\n596\n00:26:19.840 --> 00:26:21.050\nwhich is the right name for\n\n597\n00:26:21.050 --> 00:26:26.360\nthis new encryption mode XTSAES\nversus XDS desk or whatever else.\n\n598\n00:26:26.360 --> 00:26:27.190\nYou never know.\n\n599\n00:26:27.190 --> 00:26:28.260\nYou get all these crazy things.\n\n600\n00:26:28.260 --> 00:26:29.690\nSo keep that in mind.\n\n601\n00:26:29.690 --> 00:26:31.195\nAlright, are you ready\nto encrypt this device?\n\n602\n00:26:31.195 --> 00:26:32.222\nNo, I came all this way.\n\n603\n00:26:32.222 --> 00:26:34.570\n&gt;&gt; [LAUGH]\n&gt;&gt; And I'm actually not going to do this.\n\n604\n00:26:34.570 --> 00:26:35.090\n&gt;&gt; It's lunchtime.\n\n605\n00:26:35.090 --> 00:26:35.771\nIt's time to go.\n\n606\n00:26:35.771 --> 00:26:37.890\n&gt;&gt; I'm rethinking my whole\nthought process here.\n\n607\n00:26:37.890 --> 00:26:39.860\nAlright, so it does says\nencryption might take a while.\n\n608\n00:26:39.860 --> 00:26:41.440\nSo, you do want to know that.\n\n609\n00:26:41.440 --> 00:26:44.238\nUntil encryption is complete,\nyour files won't be protected.\n\n610\n00:26:44.238 --> 00:26:48.780\nSo obviously, wanna make sure you're just\nnot banking on that and inviting all\n\n611\n00:26:48.780 --> 00:26:52.350\nthe hackers to start attacking the system,\nthe minute you hit start encrypting.\n\n612\n00:26:52.350 --> 00:26:55.640\nAll right, we're going to hit start\nencrypt here, we're going to let that run.\n\n613\n00:26:55.640 --> 00:26:58.850\nNow, you'll notice that it put,\nit's kind of hard to see, but\n\n614\n00:26:58.850 --> 00:27:02.008\nthere's a grey padlock let me\nclick here just so you could see.\n\n615\n00:27:02.008 --> 00:27:05.990\nThere's a grey padlock that just jumped\nup on the right-hand upper corner\n\n616\n00:27:05.990 --> 00:27:07.010\nof the drive there.\n\n617\n00:27:07.010 --> 00:27:07.584\nIt's open right now.\n\n618\n00:27:07.584 --> 00:27:10.449\nIt's kind of open not closed, so to speak.\n\n619\n00:27:10.449 --> 00:27:13.918\nBecause we're actually applying, it would\nbe nice if they gave you a status of that,\n\n620\n00:27:13.918 --> 00:27:16.633\nyou don't have to go dig ten layers\ndeep into the system to find it.\n\n621\n00:27:16.633 --> 00:27:20.759\nBut we are actually applying in BitLocker,\nbut we're not done yet,\n\n622\n00:27:20.759 --> 00:27:23.195\nit actually is essentially in cryptic.\n\n623\n00:27:23.195 --> 00:27:26.478\nBut we have not finished, so in order for\nus to see what's going on with this,\n\n624\n00:27:26.478 --> 00:27:27.853\nwe're gonna do the following.\n\n625\n00:27:27.853 --> 00:27:31.200\nWe're gonna right click, highlight\nthe drive, I should say, right click.\n\n626\n00:27:31.200 --> 00:27:34.228\nAnd you'll notice now,\nthat instead of enable,\n\n627\n00:27:34.228 --> 00:27:37.769\nwe have Bitlocker options,\nchange Bitlocker password.\n\n628\n00:27:37.769 --> 00:27:41.170\nYou can see that we now have\nsome different choices, right?\n\n629\n00:27:41.170 --> 00:27:43.820\nWhere as before, just come over here.\n\n630\n00:27:43.820 --> 00:27:44.900\nBefore, right?\n\n631\n00:27:44.900 --> 00:27:50.153\nThe option was, you turn Bitlocker on,\nor turn-on Bitlocker.\n\n632\n00:27:50.153 --> 00:27:52.139\nNow, right?\nWe have the ability to go in and\n\n633\n00:27:52.139 --> 00:27:55.920\nchange the Bitlocker password,\nBitlocker encryption options, right?\n\n634\n00:27:55.920 --> 00:27:58.005\nWe've got some additional options here.\n\n635\n00:27:58.005 --> 00:28:00.499\nAlright so, we're gonna wait for this to.\n\n636\n00:28:02.007 --> 00:28:05.180\nFinish up, but let me just show you\nthe BitLocker options here real quick.\n\n637\n00:28:05.180 --> 00:28:08.490\nThis is where we can go in,\nlook at the administration and\n\n638\n00:28:08.490 --> 00:28:11.130\nmonitoring tool that I was talking about.\n\n639\n00:28:11.130 --> 00:28:13.260\nYou'll see here encryption is on,\nencryption off,\n\n640\n00:28:13.260 --> 00:28:15.480\ntells us which drive is which.\n\n641\n00:28:15.480 --> 00:28:18.390\nCan open up if we do\nhave any external drives.\n\n642\n00:28:18.390 --> 00:28:19.710\nWe could see that.\n\n643\n00:28:19.710 --> 00:28:21.762\nWe could see advanced TPM administration.\n\n644\n00:28:21.762 --> 00:28:23.414\nI'm gonna show you that in a minute.\n\n645\n00:28:23.414 --> 00:28:26.138\nShow you, could tell whether you if you\nhave a TPM on the machine or not, and\n\n646\n00:28:26.138 --> 00:28:27.404\nif you do, how it's configured.\n\n647\n00:28:27.404 --> 00:28:31.848\nVersion 1.2, version 2, you could blow out\nthe TPM and reset it, which is ever so\n\n648\n00:28:31.848 --> 00:28:32.417\nmuch fun.\n\n649\n00:28:32.417 --> 00:28:33.635\n&gt;&gt; [LAUGH]\n&gt;&gt; If you wanna lose access to all\n\n650\n00:28:33.635 --> 00:28:34.510\nthe data in there.\n\n651\n00:28:34.510 --> 00:28:37.770\nIt's again one of those things that\nI wonder, what were they thinking?\n\n652\n00:28:37.770 --> 00:28:40.280\nWhen they decided that would\nbe a good idea, right?\n\n653\n00:28:40.280 --> 00:28:43.580\nAll right, but anyways,\nyou can see encryption is on, right?\n\n654\n00:28:43.580 --> 00:28:47.056\nManager our passwords,\nso we can come in here.\n\n655\n00:28:47.056 --> 00:28:50.596\nWe need to enter a new password if we\nwant to reset or change our password.\n\n656\n00:28:50.596 --> 00:28:54.343\nWe're not looking to do that of course,\nbut if we want to, we can come in and\n\n657\n00:28:54.343 --> 00:28:55.245\ndo that, right?\n\n658\n00:28:55.245 --> 00:28:58.650\nSo we have some options,\nwe can see what's happening in here and\n\n659\n00:28:58.650 --> 00:29:00.870\nwe can take a look and\nsee what is going on.\n\n660\n00:29:00.870 --> 00:29:02.680\nIf we go to disk management.\n\n661\n00:29:02.680 --> 00:29:06.964\nWhich is just the local computer\ndisk manager, nothing unusual there.\n\n662\n00:29:06.964 --> 00:29:10.321\nYou will see that a Bitlocker encrypted\ndrive does have the words Bitlocker\n\n663\n00:29:10.321 --> 00:29:11.874\nencrypted into the parenthesis.\n\n664\n00:29:11.874 --> 00:29:16.599\nSo, it does show up even in the computer\nmanagement disk management area,\n\n665\n00:29:16.599 --> 00:29:21.402\nit tells us that the drive is protected\nwith Bitlocker, so you can see that.\n\n666\n00:29:21.402 --> 00:29:27.504\nAnd we can see, when we take a look right\nhere at the file system as well up here,\n\n667\n00:29:27.504 --> 00:29:32.220\nit does reference BitLocker\nencryption up in the pick list as\n\n668\n00:29:32.220 --> 00:29:36.024\nwell as down below for\nthe actual volume itself.\n\n669\n00:29:36.024 --> 00:29:40.064\nAnd so we can see here, if we take a look,\nthat we do have [COUGH].\n\n670\n00:29:40.064 --> 00:29:42.590\nJust take a look in properties, right?\n\n671\n00:29:42.590 --> 00:29:48.015\nWe do have the ability to see all the\nnormal things we would see on the drive,\n\n672\n00:29:48.015 --> 00:29:49.410\nnothing changes.\n\n673\n00:29:49.410 --> 00:29:51.747\nThere's no Bitlocker tab or\nanything like that.\n\n674\n00:29:51.747 --> 00:29:55.528\nIt's not that apparent but it is one\nof those properties that is gonna be\n\n675\n00:29:55.528 --> 00:29:59.637\navailable, but we do have to know where\nto look in order to manage it, right?\n\n676\n00:29:59.637 --> 00:30:02.434\n&gt;&gt; And speaking of transparent,\nwhat about writing new files or\n\n677\n00:30:02.434 --> 00:30:04.981\nfolders, or opening up files or\nfolders on that drive?\n\n678\n00:30:04.981 --> 00:30:07.908\nDo I have to do something special\nwhen I go and access that volume now?\n\n679\n00:30:07.908 --> 00:30:09.750\n&gt;&gt; Sure, so\nlet's take a look real quick here.\n\n680\n00:30:09.750 --> 00:30:12.936\nSo, let's go in, we do happen\nto be in the Windows Explorer.\n\n681\n00:30:12.936 --> 00:30:15.870\nYou can just double-click on the F\ndrive just to open it up and\n\n682\n00:30:15.870 --> 00:30:16.940\nsearch there, right?\n\n683\n00:30:16.940 --> 00:30:20.050\nAnd once we have nothing in there, well I\ndidn't show you that we started out with\n\n684\n00:30:20.050 --> 00:30:21.620\nnothing but, there was nothing in there.\n\n685\n00:30:21.620 --> 00:30:23.670\nNo data, it was just a blank volume.\n\n686\n00:30:23.670 --> 00:30:25.330\nBut we can go in.\n\n687\n00:30:25.330 --> 00:30:29.120\nWe can click and let's just go ahead and\ncreate a new text document.\n\n688\n00:30:29.120 --> 00:30:30.730\nWe'll call it BitLocker.\n\n689\n00:30:32.398 --> 00:30:34.801\nOr BitOcker.\n\n690\n00:30:34.801 --> 00:30:35.389\n&gt;&gt; [LAUGH]\n&gt;&gt; Someone could leave\n\n691\n00:30:35.389 --> 00:30:36.410\nthe L out I suppose.\n\n692\n00:30:36.410 --> 00:30:37.830\nLet's try that again [LAUGH].\n\n693\n00:30:37.830 --> 00:30:40.132\nAll right.\nSo, we can open this up, right?\n\n694\n00:30:40.132 --> 00:30:42.239\nThis is my.\n\n695\n00:30:43.895 --> 00:30:47.200\nDL Bitlocker test document, right?\n\n696\n00:30:47.200 --> 00:30:48.730\nSomething like that, just save it.\n\n697\n00:30:50.150 --> 00:30:52.997\nAnd you can see that I'm\nnot doing anything special.\n\n698\n00:30:52.997 --> 00:30:56.424\nI don't need to do anything because\nremember Bitlocker is an encryption\n\n699\n00:30:56.424 --> 00:31:00.184\nattribute that, in our case, the way we\nset it up, is a whole volume encryption\n\n700\n00:31:00.184 --> 00:31:03.860\nattribute or an encryption technology\nthat encrypts the entire hard drive.\n\n701\n00:31:03.860 --> 00:31:08.359\nSo anything on the volume is going to\nbe protected by that attribute, but\n\n702\n00:31:08.359 --> 00:31:13.580\nat the hard drive or volume level,\nnot EFS, where we could selectively go in.\n\n703\n00:31:13.580 --> 00:31:15.959\nLet's say, this one file, and\n\n704\n00:31:15.959 --> 00:31:20.895\nwe could decide that we wanted to\nsimply apply EFS to this one file,\n\n705\n00:31:20.895 --> 00:31:25.230\nas you can see,\nI'm doing while we're talking, right?\n\n706\n00:31:25.230 --> 00:31:30.027\nAnd you could see that we can\ndo that independent of, right?\n\n707\n00:31:30.027 --> 00:31:31.531\nThe things that are going on.\n\n708\n00:31:31.531 --> 00:31:34.164\nAnd we can say, well I wanna encrypt this,\nor not encrypt that, or whatever.\n\n709\n00:31:34.164 --> 00:31:37.702\nSo, it's not a file level\nsolution as we talked about,\n\n710\n00:31:37.702 --> 00:31:41.403\nit's a folder or\nexcuse me it's a volume level solution.\n\n711\n00:31:41.403 --> 00:31:43.008\nSo, just keep that in mind and\nbe aware of that, right?\n\n712\n00:31:43.008 --> 00:31:46.446\nBecause we're not going to be interacting\nin any way or doing anything different.\n\n713\n00:31:46.446 --> 00:31:49.396\nWe're just dropping the data in there,\nit's protected automatically.\n\n714\n00:31:49.396 --> 00:31:50.520\nThat's part of what we do.\n\n715\n00:31:50.520 --> 00:31:51.750\nWhich is kind of cool, right?\n\n716\n00:31:51.750 --> 00:31:53.702\nAlright so we have that and\njust before we wrap up.\n\n717\n00:31:53.702 --> 00:31:57.261\nBecause I know you are the keeper of time\nand about to tell me we are out of time.\n\n718\n00:31:57.261 --> 00:31:59.214\n&gt;&gt; [LAUGH]\n&gt;&gt; But you'll see I did actually apply\n\n719\n00:31:59.214 --> 00:32:01.070\nEFS, just while we were talking.\n\n720\n00:32:01.070 --> 00:32:02.508\nIt does have the little padlock.\n\n721\n00:32:02.508 --> 00:32:03.649\nIt's hard to see, but\n\n722\n00:32:03.649 --> 00:32:06.965\nwe'll click here just to remind\nourselves of what it looks like.\n\n723\n00:32:06.965 --> 00:32:08.943\nBut I did, you could see, right?\n\n724\n00:32:08.943 --> 00:32:09.666\nEFS protection.\n\n725\n00:32:09.666 --> 00:32:11.120\n&gt;&gt; Mm-hm.\n&gt;&gt; I did apply, right?\n\n726\n00:32:11.120 --> 00:32:13.568\nEFS to this [COUGH] device, or excuse me,\n\n727\n00:32:13.568 --> 00:32:17.033\nto this file while I'm on\na BitLocker protected volume.\n\n728\n00:32:17.033 --> 00:32:20.020\nSo, we talked about stacking\nboth protections together.\n\n729\n00:32:20.020 --> 00:32:21.030\nAnd in theory, we could do that.\n\n730\n00:32:21.030 --> 00:32:25.252\nWe said maybe we'll encrypt that\nfile recovery key file, right?\n\n731\n00:32:25.252 --> 00:32:29.240\nStore it securely away,\nfrom the BitLocker protected drive.\n\n732\n00:32:29.240 --> 00:32:32.430\nKinda like keeping the private key\naway from the data that we encrypt\n\n733\n00:32:32.430 --> 00:32:32.990\nsymmetrically.\n\n734\n00:32:32.990 --> 00:32:34.420\nWhy don't we separate the two?\n\n735\n00:32:34.420 --> 00:32:35.580\nSo we would do that.\n\n736\n00:32:35.580 --> 00:32:40.260\nBut we could apply EFS to it even if\nit is on another Bitlocker partition.\n\n737\n00:32:40.260 --> 00:32:42.090\nWe could use the two interchangeably.\n\n738\n00:32:42.090 --> 00:32:43.680\nThey're not mutually exclusive.\n\n739\n00:32:43.680 --> 00:32:44.620\nSo we do wanna know that.\n\n740\n00:32:44.620 --> 00:32:47.190\nAnd we can apply both\nprotections if we choose to.\n\n741\n00:32:47.190 --> 00:32:48.030\nIt's up to us.\n\n742\n00:32:48.030 --> 00:32:48.930\nHow we choose to do that.\n\n743\n00:32:48.930 --> 00:32:49.527\n&gt;&gt; I love it.\n\n744\n00:32:49.527 --> 00:32:50.780\n&gt;&gt; Okay?\n&gt;&gt; All right, Adam.\n\n745\n00:32:50.780 --> 00:32:52.659\nGreat stuff there, and\nI know we got more to go.\n\n746\n00:32:52.659 --> 00:32:54.119\n&gt;&gt; We do.\n&gt;&gt; When it comes to the world of\n\n747\n00:32:54.119 --> 00:32:54.711\nBitlocker.\n\n748\n00:32:54.711 --> 00:32:57.504\n&gt;&gt; We got a few more things that we\nneed to look at, but unfortunately,\n\n749\n00:32:57.504 --> 00:32:59.870\nwe're out of time for\nthis particular episode.\n\n750\n00:32:59.870 --> 00:33:02.884\nMeans we'll be coming back with\na part five, so stay tuned.\n\n751\n00:33:02.884 --> 00:33:03.621\nDon't go too far.\n\n752\n00:33:03.621 --> 00:33:04.933\nBut for now, signing off for ITProTV.\n\n753\n00:33:04.933 --> 00:33:07.381\nI've been your host Mike Rodrick.\n\n754\n00:33:07.381 --> 00:33:08.192\n&gt;&gt; I am Adam Gordon.\n\n755\n00:33:08.192 --> 00:33:10.996\n&gt;&gt; And we'll see you next time.\n\n756\n00:33:10.996 --> 00:33:16.924\n[MUSIC]\n\n757\n00:33:16.924 --> 00:33:21.319\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "236802646"
        },
        {
          "description": "",
          "length": "2004",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-5-configure_disk_and_file_encryption_pt5-100217-PGM.00_38_52_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-5-configure_disk_and_file_encryption_pt5-100217-PGM.00_38_52_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-5-configure_disk_and_file_encryption_pt5-100217-PGM.00_38_52_01.Still001-sm.jpg",
          "title": "Configure file and disk encryption Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:05.030\nYou're watching ITProTV,\nI'm your host, [CROSSTALK]\n\n2\n00:00:05.030 --> 00:00:07.229\n[MUSIC]\n\n3\n00:00:07.229 --> 00:00:10.984\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:10.984 --> 00:00:14.569\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV,\n\n5\n00:00:14.569 --> 00:00:16.403\nI'm your host, Mike Rodrick.\n\n6\n00:00:16.403 --> 00:00:20.445\nAnd today we're doing our\nsecuring Windows Server 2016,\n\n7\n00:00:20.445 --> 00:00:23.352\nin preparation for that 70-744 Exam.\n\n8\n00:00:23.352 --> 00:00:27.788\nThis is our part five in BitLocker and\nEFS, so if you missed any one of the first\n\n9\n00:00:27.788 --> 00:00:31.351\nfour parts, you really should go back and\nwatch those first.\n\n10\n00:00:31.351 --> 00:00:34.335\nOr hey, join us, watch this,\nand go watch them later, and\n\n11\n00:00:34.335 --> 00:00:37.042\nyou can figure out what\nthe heck we are talking about.\n\n12\n00:00:37.042 --> 00:00:40.930\nAnyway, now let me turn it over to\nthe one that knows all the information we\n\n13\n00:00:40.930 --> 00:00:42.133\nneed to pass the exam.\n\n14\n00:00:42.133 --> 00:00:44.999\nMr. Adam Gordon, welcome back, Adam.\n\n15\n00:00:44.999 --> 00:00:45.830\n&gt;&gt; Thank you, glad to be here.\n\n16\n00:00:45.830 --> 00:00:48.740\nI left my knowledge somewhere else, so\nI'm just going to make it up as we go.\n\n17\n00:00:48.740 --> 00:00:51.770\nBut hopefully,\nit will prove to be exciting for you.\n\n18\n00:00:51.770 --> 00:00:53.441\nMike's going to play\nan equal part in this,\n\n19\n00:00:53.441 --> 00:00:55.708\nthat way we're both responsible\nif things don't go well.\n\n20\n00:00:55.708 --> 00:00:57.141\nAll right, so we left off-\n&gt;&gt; I'll be your patsy, yeah.\n\n21\n00:00:57.141 --> 00:00:59.080\n&gt;&gt; You can help me out.\n\n22\n00:00:59.080 --> 00:01:01.740\nWe left off in our last episode, right,\n\n23\n00:01:01.740 --> 00:01:05.310\nkind of just putting out the basic\nthought process behind BitLocker.\n\n24\n00:01:05.310 --> 00:01:08.358\nHow do we apply, we showed you how to\ngo in and do that, how do we set it up?\n\n25\n00:01:08.358 --> 00:01:11.410\nWe stopped at the point where we\nhad started to encrypt the drive.\n\n26\n00:01:11.410 --> 00:01:13.890\nWe're gonna restart the machine,\nwe've done that behind the scenes.\n\n27\n00:01:13.890 --> 00:01:15.980\nWe'll log in,\nwe'll show you how that works.\n\n28\n00:01:15.980 --> 00:01:18.471\nBut before we go in and\nwe kind of continue looking at it,\n\n29\n00:01:18.471 --> 00:01:21.917\nwe'll go back into the admin console,\nthe MBAM component that I showed you.\n\n30\n00:01:21.917 --> 00:01:24.710\nWe'll take a look at how to manage a TPM,\nI mentioned that.\n\n31\n00:01:24.710 --> 00:01:28.170\nAnd we'll make sure we see how to do\nthat from within the Control Panel,\n\n32\n00:01:28.170 --> 00:01:31.294\ntalk a little bit about PowerShell,\nall the stuff I mentioned.\n\n33\n00:01:31.294 --> 00:01:33.933\nBefore we do any of that,\ngotta circle back a little bit.\n\n34\n00:01:33.933 --> 00:01:37.196\nKinda step back and\njust talk from a general perspective for\n\n35\n00:01:37.196 --> 00:01:39.840\na couple minutes about,\nnot just BitLockers.\n\n36\n00:01:39.840 --> 00:01:42.328\nWe talked about the high level of what\nit is, but some of the moving parts,\n\n37\n00:01:42.328 --> 00:01:43.020\nhow do things work?\n\n38\n00:01:43.020 --> 00:01:46.299\nIf you remember in EFS,\nif you've seen the prior episodes,\n\n39\n00:01:46.299 --> 00:01:47.920\nas Mike encouraged you to do.\n\n40\n00:01:47.920 --> 00:01:51.259\nAnd it would be valuable for you, not just\nbecause you get a perspective on EFS.\n\n41\n00:01:51.259 --> 00:01:55.450\nBut we talked about how\nthe encryption key methodology works.\n\n42\n00:01:55.450 --> 00:01:59.939\nHow we take the symmetric private key that\nwe use to encrypt the file with EFS, and\n\n43\n00:01:59.939 --> 00:02:02.648\nthen re-encrypt that\nwith the public/private\n\n44\n00:02:02.648 --> 00:02:04.511\nasymmetric key pair of the user.\n\n45\n00:02:04.511 --> 00:02:07.157\nEither Creator Owner, or\nthe recovery agent, or\n\n46\n00:02:07.157 --> 00:02:09.900\nwhatever's going to be\ndone to ensure access.\n\n47\n00:02:09.900 --> 00:02:15.348\nAnd that file encryption key, the FEK, the\nF-E-K, is then re-encrypted and protected.\n\n48\n00:02:15.348 --> 00:02:19.695\nWe don't do the same exact thing, but we\nhave a very similar concept here with EF,\n\n49\n00:02:19.695 --> 00:02:21.914\nwith Bitlock, I've got EFS on my brain.\n\n50\n00:02:21.914 --> 00:02:23.464\n&gt;&gt; [LAUGH]\n&gt;&gt; With Bitlocker,\n\n51\n00:02:23.464 --> 00:02:26.596\nin Bitlocker we call the key\nthat is going to be used\n\n52\n00:02:26.596 --> 00:02:30.413\nto encrypt the sectors of the hard\ndrive of where our data is.\n\n53\n00:02:30.413 --> 00:02:34.016\nWe call this the full volume\nencryption key, or F-V-E-K,\n\n54\n00:02:34.016 --> 00:02:38.762\nso the FVEK, I guess if you wanna say\nthat, as opposed to FEK, I don't know.\n\n55\n00:02:38.762 --> 00:02:40.445\nSounds like you're kinda throwing up and\n\n56\n00:02:40.445 --> 00:02:42.810\nmaking a word noise when you\nsay it either way, I suppose.\n\n57\n00:02:42.810 --> 00:02:44.249\n&gt;&gt; I'll say gesundheit, I don't know.\n\n58\n00:02:44.249 --> 00:02:45.281\n&gt;&gt; Pass the FVEK, or whatever, yeah.\n\n59\n00:02:45.281 --> 00:02:52.242\nSo it's called an FVEK, or full volume,\nF-V, encryption key, E-K, so FVEK.\n\n60\n00:02:53.310 --> 00:02:56.930\nThis is the special key,\nthere's actually two special keys.\n\n61\n00:02:56.930 --> 00:03:00.350\nThis is one of the two, we have to\nkeep this private, secure, secret.\n\n62\n00:03:00.350 --> 00:03:04.200\nSo secret, so secure, so private, as a\nmatter of fact, users that are doing this,\n\n63\n00:03:04.200 --> 00:03:05.740\ndon't actually get access to the FVEK.\n\n64\n00:03:05.740 --> 00:03:10.008\nIn other words, we secure this, and\nwe will save this and put it somewhere so\n\n65\n00:03:10.008 --> 00:03:11.619\nthat it's not accessible.\n\n66\n00:03:11.619 --> 00:03:14.794\nBecause we know, right,\nthat if we start making this available,\n\n67\n00:03:14.794 --> 00:03:16.163\nif people have access to it?\n\n68\n00:03:16.163 --> 00:03:19.795\nWell, chances are good bad\nthings are gonna happen, right?\n\n69\n00:03:19.795 --> 00:03:22.649\nI reference every so\noften in our security conversations,\n\n70\n00:03:22.649 --> 00:03:24.720\nthe concept of Kerckhoffs's principle.\n\n71\n00:03:24.720 --> 00:03:26.144\nYou may have heard me,\nas a matter of fact,\n\n72\n00:03:26.144 --> 00:03:28.290\nyou did hear me talk about this\nin other episodes with Cherokee.\n\n73\n00:03:28.290 --> 00:03:31.935\nIf you haven't seen some of the earlier\nconversations on Server 16 security,\n\n74\n00:03:31.935 --> 00:03:35.135\nbecause Mike's your favorite person and\nyou're starting with him?\n\n75\n00:03:35.135 --> 00:03:37.311\nThen obviously go back,\ntake a look at those, right?\n\n76\n00:03:37.311 --> 00:03:40.130\nCuz Cherokee and\nI spoke about this in different areas.\n\n77\n00:03:40.130 --> 00:03:43.755\nWe spoke about this with regards to some\nof the earlier conversations in other\n\n78\n00:03:43.755 --> 00:03:44.434\ntopic areas.\n\n79\n00:03:44.434 --> 00:03:48.551\nBut the idea behind Kerckhoffs's\nprinciple is essentially the need to\n\n80\n00:03:48.551 --> 00:03:51.988\nkeep the private key secure\nin a cryptographic situation.\n\n81\n00:03:51.988 --> 00:03:56.121\nWhere the private key, or the equivalent\nof the public/private key and\n\n82\n00:03:56.121 --> 00:03:58.980\nthe key pair,\nis going to become the key, right?\n\n83\n00:03:58.980 --> 00:04:02.418\nThe thing that unlocks, in theory,\nour ability to encrypt and decrypt.\n\n84\n00:04:02.418 --> 00:04:05.130\nAnd Kerckhoff said, hey,\n\n85\n00:04:05.130 --> 00:04:08.270\ngive away everything,\ntell the bad actors where the data is.\n\n86\n00:04:08.270 --> 00:04:11.947\nTell them the entire structure and\nthe methodology of the cryptosystem,\n\n87\n00:04:11.947 --> 00:04:13.138\nexpose the algorithm.\n\n88\n00:04:13.138 --> 00:04:15.390\nLet them understand what you did,\nhow you did it.\n\n89\n00:04:15.390 --> 00:04:19.040\nBut don't give away the private key,\nwe keep the private key secure.\n\n90\n00:04:19.040 --> 00:04:22.850\nAnd we are standing on that, and\nwe know that that is the case.\n\n91\n00:04:22.850 --> 00:04:25.780\nThen we have a fighting chance to\nmake sure that the data will not be\n\n92\n00:04:25.780 --> 00:04:26.570\ncompromised, right?\n\n93\n00:04:26.570 --> 00:04:27.930\nBecause chances are good that,\n\n94\n00:04:27.930 --> 00:04:30.900\nalthough we know the bad actors\nare gonna go after the private key.\n\n95\n00:04:30.900 --> 00:04:34.170\nThey're gonna try to brute force it,\nsocially engineer it, guess the key,\n\n96\n00:04:34.170 --> 00:04:35.490\nwhatever they do.\n\n97\n00:04:35.490 --> 00:04:39.077\nIf we did the right thing, so\nif our key space is very large, and\n\n98\n00:04:39.077 --> 00:04:44.652\nwe talked about AES-128 versus AES-256 bit\nfor instance, right, in the last episode.\n\n99\n00:04:44.652 --> 00:04:47.817\nIf we use a sufficiently\nstrong encryption algorithm,\n\n100\n00:04:47.817 --> 00:04:50.385\nset up properly with\nlarge enough key space.\n\n101\n00:04:50.385 --> 00:04:54.412\nOne of the two things we need to worry\nabout, to ensure the security and\n\n102\n00:04:54.412 --> 00:04:56.477\nthe strength of the cryptosystem.\n\n103\n00:04:56.477 --> 00:04:57.693\nAnd that our work factor,\n\n104\n00:04:57.693 --> 00:05:01.682\nthe measure of time it takes to break the\ncryptographic system is sufficiently long.\n\n105\n00:05:01.682 --> 00:05:03.910\nWe measure this in years, by the way.\n\n106\n00:05:03.910 --> 00:05:07.285\nTypically there's a power,\nso 10 to the 200 or\n\n107\n00:05:07.285 --> 00:05:09.596\nwhatever it may be as a work factor.\n\n108\n00:05:09.596 --> 00:05:11.099\nThe bigger the key space,\n\n109\n00:05:11.099 --> 00:05:15.540\nthe larger the number of possible key\ncombinations overall that can be used,\n\n110\n00:05:15.540 --> 00:05:19.310\nin order to have to be sampled\nto find the key or the key pair.\n\n111\n00:05:19.310 --> 00:05:22.680\nAnd the more extensive the work factor,\n\n112\n00:05:22.680 --> 00:05:25.990\nthe larger amount of time it takes\nto sample all those keys and\n\n113\n00:05:25.990 --> 00:05:29.238\nbreak, in theory, the cryptography,\nthe stronger the protection.\n\n114\n00:05:29.238 --> 00:05:31.198\nAnd so\nit's kind of the working methodology and\n\n115\n00:05:31.198 --> 00:05:32.916\nthought process behind the encryption.\n\n116\n00:05:32.916 --> 00:05:35.560\nAnd so we want to make sure\nthat that private key,\n\n117\n00:05:35.560 --> 00:05:39.252\nin this case the FVEK,\nthe full volume encryption key, is secure.\n\n118\n00:05:39.252 --> 00:05:42.139\nAnd so as a result,\nwe're not going to make that available.\n\n119\n00:05:42.139 --> 00:05:45.547\nWe're going to re-encrypt that with\nsomething known as the master or\n\n120\n00:05:45.547 --> 00:05:47.171\nthe volume master key, the VMK.\n\n121\n00:05:47.171 --> 00:05:51.200\nSo we're going to take the FVEK,\nre-encrypt that with the VMK, and\n\n122\n00:05:51.200 --> 00:05:53.705\nthen we have to store that securely.\n\n123\n00:05:53.705 --> 00:05:55.908\nBy doing so,\nwe further make it difficult or\n\n124\n00:05:55.908 --> 00:05:58.295\nobfuscate the fact that\nthat key is available.\n\n125\n00:05:58.295 --> 00:06:01.880\nAnd make it highly unlikely that somebody\nwithout permission, without rights, and\n\n126\n00:06:01.880 --> 00:06:04.032\nwithout knowledge could\nmost likely get that key.\n\n127\n00:06:04.032 --> 00:06:06.080\nAnd somehow insert themselves and\n\n128\n00:06:06.080 --> 00:06:09.485\nthe key into our\nBitlocker-protected volume, right?\n\n129\n00:06:09.485 --> 00:06:12.120\nUnencrypting it, if you will,\nor unlocking it.\n\n130\n00:06:12.120 --> 00:06:13.317\nTo us, as an end user,\n\n131\n00:06:13.317 --> 00:06:16.976\nwhat we really see typically as\nthe manifestation of BitLocker, and\n\n132\n00:06:16.976 --> 00:06:20.906\nI'll show you this in a minute,\nis most likely the prompt for a password.\n\n133\n00:06:20.906 --> 00:06:22.863\nIf that's how we chose\nto implement BitLocker,\n\n134\n00:06:22.863 --> 00:06:24.784\nwhich is what we did in\nour last demonstration.\n\n135\n00:06:24.784 --> 00:06:29.308\nIf we are using BitLocker with a TPM,\nand we're storing the key,\n\n136\n00:06:29.308 --> 00:06:32.280\nwhich is often where we\nput this in the TPM.\n\n137\n00:06:32.280 --> 00:06:35.703\nWhen the TPM is available to us on\nthe local machine or in the machine.\n\n138\n00:06:35.703 --> 00:06:38.080\nIf we're strong the key there,\nwe don't even see that.\n\n139\n00:06:38.080 --> 00:06:42.576\nBecause chance is good, unless we've added\nmultiple factors or multiple requirements.\n\n140\n00:06:42.576 --> 00:06:45.726\nProtection is enabled\nwith things like a PIN or\n\n141\n00:06:45.726 --> 00:06:50.189\nsome sort of additional prompt we\nhave to insert, like a USB key.\n\n142\n00:06:50.189 --> 00:06:53.227\nTo be able to provide the boot up,\nand the Secure Boot, and\n\n143\n00:06:53.227 --> 00:06:55.270\nthe validation of the Secure Boot.\n\n144\n00:06:55.270 --> 00:06:58.386\nWe're not doing that if we're just\nstoring the key locally in the TPM, and\n\n145\n00:06:58.386 --> 00:06:59.781\nreferencing it when we start up.\n\n146\n00:06:59.781 --> 00:07:03.884\nAs long as that hard drive is on the\nmachine where we did the encryption, and\n\n147\n00:07:03.884 --> 00:07:06.055\nwe haven't moved the hard drive.\n\n148\n00:07:06.055 --> 00:07:09.590\nAnd the identification factor,\nand the ID that is used, or\n\n149\n00:07:09.590 --> 00:07:12.926\nthe ID string that is used to\ngenerate that key matches?\n\n150\n00:07:12.926 --> 00:07:15.534\nWe're not gonna even be prompted, we're\njust gonna be able to essentially boot up.\n\n151\n00:07:15.534 --> 00:07:17.149\nBut we're normally not gonna see this,\n\n152\n00:07:17.149 --> 00:07:19.537\nit will be essentially more\noften than not invisible to us.\n\n153\n00:07:19.537 --> 00:07:22.097\nOr perhaps it's a Network Unlock where,\nagain,\n\n154\n00:07:22.097 --> 00:07:26.083\nas I mentioned in the last episode, we\nmay be able to be prompted for this key.\n\n155\n00:07:26.083 --> 00:07:29.842\nBut essentially it's provided over\nthe network through an Active Directory\n\n156\n00:07:29.842 --> 00:07:32.114\nmembership stored in AD or\nstored somewhere.\n\n157\n00:07:32.114 --> 00:07:36.641\nWhere we can reference it as long as\nwe have a DHCP driver inserted in our\n\n158\n00:07:36.641 --> 00:07:37.730\nUEFI BIOS boot.\n\n159\n00:07:37.730 --> 00:07:41.220\nIn other words,\nin our new UEFI boot solution.\n\n160\n00:07:41.220 --> 00:07:43.285\nWith that support,\nwe can unlock right over the network,\n\n161\n00:07:43.285 --> 00:07:44.348\nas long as we're connected.\n\n162\n00:07:44.348 --> 00:07:47.428\nAnd again, we're not even gonna\nhave to interact in any way,\n\n163\n00:07:47.428 --> 00:07:48.739\njust the user steps back.\n\n164\n00:07:48.739 --> 00:07:51.460\nAnd this kind of all happens,\nright, as long as we're connected.\n\n165\n00:07:51.460 --> 00:07:53.990\nSo It is kinda cool when\nyou think about this, but\n\n166\n00:07:53.990 --> 00:07:56.838\nthis is what we need to be aware of and\nwhat we need to do.\n\n167\n00:07:56.838 --> 00:07:58.974\nBitlocker Network Unlock\nis the technology, or\n\n168\n00:07:58.974 --> 00:08:02.212\nthe name of the new technology I was\ndescribing to you that lets us do this.\n\n169\n00:08:02.212 --> 00:08:04.667\nOver the wire, so to speak.\n\n170\n00:08:04.667 --> 00:08:06.050\nJust make sure you're aware of that.\n\n171\n00:08:06.050 --> 00:08:10.394\nObviously, without that capability,\nwe have to do TPM plus PIN or\n\n172\n00:08:10.394 --> 00:08:15.140\nTPM protection that requires some\nsort of additional factor to unlock.\n\n173\n00:08:15.140 --> 00:08:18.770\nSo we may be doing that and providing\na PIN, more often than not a boot up.\n\n174\n00:08:18.770 --> 00:08:21.391\nSo a lot of times, we'll see somebody\nboots their machine up, they're in\n\n175\n00:08:21.391 --> 00:08:24.279\nthe post screen, kinda the black screen,\nthey've got a security prompt there.\n\n176\n00:08:24.279 --> 00:08:25.240\nThey have to type that in, right?\n\n177\n00:08:25.240 --> 00:08:26.610\nThey're not doing it over the wire.\n\n178\n00:08:26.610 --> 00:08:27.870\nSo just be aware of that.\n\n179\n00:08:27.870 --> 00:08:32.110\nIt does work very similarly to\nTPM plus startup key at boot, or\n\n180\n00:08:32.110 --> 00:08:35.940\nstartup key at boot, which is the key\nas provided through the TPM directly.\n\n181\n00:08:35.940 --> 00:08:38.250\nIt's just that now the TPM\nis not playing a role,\n\n182\n00:08:38.250 --> 00:08:39.730\nbecause we're bringing that\ndown over the network.\n\n183\n00:08:39.730 --> 00:08:40.947\nThat's really the difference.\n\n184\n00:08:40.947 --> 00:08:42.500\nSo just make sure you're aware of that.\n\n185\n00:08:42.500 --> 00:08:44.678\nWe don't read it from the USB media,\n\n186\n00:08:44.678 --> 00:08:48.066\nwe match it with information\nthat comes in over the wire.\n\n187\n00:08:48.066 --> 00:08:49.191\nSo it's kind of an interesting\nway to do this.\n\n188\n00:08:49.191 --> 00:08:50.690\nYou ever set that up?\n\n189\n00:08:50.690 --> 00:08:51.340\nYou ever actually done one of those?\n\n190\n00:08:51.340 --> 00:08:53.479\n&gt;&gt; No, I have not in my lab environment.\n\n191\n00:08:53.479 --> 00:08:55.697\n&gt;&gt; Yeah,\nin our lab environments can't really-\n\n192\n00:08:55.697 --> 00:08:56.646\n&gt;&gt; Yeah, it's a little [CROSSTALK] but\n\n193\n00:08:56.646 --> 00:08:57.619\nI like the idea-\n&gt;&gt; It is cool, though.\n\n194\n00:08:57.619 --> 00:08:58.274\n&gt;&gt; Set that up.\n\n195\n00:08:58.274 --> 00:09:01.588\nMy users don't have to remember a PIN\nevery time they start that machine,\n\n196\n00:09:01.588 --> 00:09:05.222\nas long as it's connected to the right\nnetwork and it can talk to that directory,\n\n197\n00:09:05.222 --> 00:09:07.330\nit can unlock the drive automatically.\n\n198\n00:09:07.330 --> 00:09:08.360\nThat's pretty cool.\n&gt;&gt; Yeah, it is.\n\n199\n00:09:08.360 --> 00:09:11.632\nAnd we do this check at boot up, so\nwe're checking the status and looking for\n\n200\n00:09:11.632 --> 00:09:12.358\nall this stuff.\n\n201\n00:09:12.358 --> 00:09:15.413\nWe can require the PIN and\nUSB key as additional factors for\n\n202\n00:09:15.413 --> 00:09:17.560\nprotections as part of BitLocker.\n\n203\n00:09:17.560 --> 00:09:19.490\nSo, it's kinda cool that\nwe can add those in,\n\n204\n00:09:19.490 --> 00:09:22.300\nthinking about that\nmulti-factor authentication.\n\n205\n00:09:22.300 --> 00:09:25.910\nIf you think generically about\nthe idea of additional protection,\n\n206\n00:09:25.910 --> 00:09:28.560\nalways valuable to have more\nthen one protection type.\n\n207\n00:09:28.560 --> 00:09:32.100\nBecause although storing the key\nin the TPM is relatively foolproof\n\n208\n00:09:32.100 --> 00:09:35.280\nas long as we have physical\ncontrol of the machine itself.\n\n209\n00:09:35.280 --> 00:09:36.863\nIf we don't add additional factors,\n\n210\n00:09:36.863 --> 00:09:40.225\nsomebody in theory could grab the machine\nand may be able to get the machine to boot\n\n211\n00:09:40.225 --> 00:09:42.660\nup under certain conditions\nif we haven't protected it.\n\n212\n00:09:42.660 --> 00:09:45.270\nSo, it is just something to be\naware of and to think about.\n\n213\n00:09:45.270 --> 00:09:49.770\nBut without a TPM, because BitLocker\nrequires a TPM by default, as you saw,\n\n214\n00:09:49.770 --> 00:09:50.740\nwe do have options.\n\n215\n00:09:50.740 --> 00:09:55.660\nWe can decide to use the storage of,\n\n216\n00:09:55.660 --> 00:09:58.520\nas I think I've talked about when we\ndid the install in the last episode,\n\n217\n00:09:58.520 --> 00:10:03.090\nthe storage of this information to an\nexternal USB device and then provide that.\n\n218\n00:10:03.090 --> 00:10:04.721\nOf course,\nyou don't want to lose that USB device.\n\n219\n00:10:04.721 --> 00:10:06.870\nYou lose that then we do have an issue.\n\n220\n00:10:06.870 --> 00:10:07.952\nSo just be aware of that.\n\n221\n00:10:07.952 --> 00:10:10.070\nSo how do we verify that we have a TPM?\n\n222\n00:10:10.070 --> 00:10:12.830\nLet's take a look at how we do\nthat before we do anything else.\n\n223\n00:10:12.830 --> 00:10:14.290\nSo we can go in to Windows.\n\n224\n00:10:14.290 --> 00:10:16.324\nJust give me a second to\nopen up the Control Panel.\n\n225\n00:10:16.324 --> 00:10:18.488\nYou can take a look,\nI'm just on my Windows 10 machine.\n\n226\n00:10:18.488 --> 00:10:19.097\nWe restart it.\n\n227\n00:10:19.097 --> 00:10:20.872\nWe'll go in and take a look at BitLocker,\n\n228\n00:10:20.872 --> 00:10:22.972\nhow it's protecting\nthe drive in just a minute.\n\n229\n00:10:22.972 --> 00:10:25.070\nBut let's go in,\nlet's open up our Control Panel.\n\n230\n00:10:25.070 --> 00:10:27.380\nSo we'll go to Control Panel, right here.\n\n231\n00:10:27.380 --> 00:10:28.500\nWe can go into System and\n\n232\n00:10:28.500 --> 00:10:33.290\nSecurity, if you like the categorized\nview of the Control Panel,\n\n233\n00:10:33.290 --> 00:10:37.780\nif you like the list view, essentially\nit'd be available to you either way.\n\n234\n00:10:37.780 --> 00:10:40.350\nBitLocker Drive Encryption,\nso you can see that's there.\n\n235\n00:10:40.350 --> 00:10:42.840\nAnd by the way, that's there whether\nwe enabled BitLocker or not.\n\n236\n00:10:42.840 --> 00:10:46.742\nI didn't show that to you before we turned\nBitLocker on, but that's gonna be there.\n\n237\n00:10:46.742 --> 00:10:51.300\nAnd the manage BitLocker item is there\nwhether or not we implement BitLocker.\n\n238\n00:10:51.300 --> 00:10:52.580\nSo, just so you know.\n\n239\n00:10:52.580 --> 00:10:54.350\nSo manage BitLocker, right?\n\n240\n00:10:54.350 --> 00:10:58.550\nWe can go in here and\nright down here on the left,\n\n241\n00:10:58.550 --> 00:11:03.610\nit's kind of off to the side, but you can\nsee it down there, TPM Administration.\n\n242\n00:11:03.610 --> 00:11:07.330\nIt does have the UAC shield so\nUser Access Control,\n\n243\n00:11:07.330 --> 00:11:10.450\nwe just have to make sure we know\nthat we are gonna have to be a valid\n\n244\n00:11:10.450 --> 00:11:12.620\nuser with admin credentials\nto be able to get in.\n\n245\n00:11:12.620 --> 00:11:13.550\nSo we'll click there.\n\n246\n00:11:14.580 --> 00:11:16.910\nGive that just a second, comes up.\n\n247\n00:11:16.910 --> 00:11:20.460\nNow you'll see here, compatible TPM\ncannot be found in the lab environment,\n\n248\n00:11:20.460 --> 00:11:23.330\nbecause remember,\nthis is not a machine that has a TPM.\n\n249\n00:11:23.330 --> 00:11:26.437\nWe started out our demo talking about\nthat, which is why we opted for\n\n250\n00:11:26.437 --> 00:11:29.874\nthe password being stored, recovery\npassword, to an external file, and\n\n251\n00:11:29.874 --> 00:11:31.362\nwe're not storing it locally.\n\n252\n00:11:31.362 --> 00:11:33.836\nBut on my physical machine,\nI do have a TPM, so\n\n253\n00:11:33.836 --> 00:11:38.093\nlet me just show you what this would look\nlike if you actually have a TPM, right?\n\n254\n00:11:38.093 --> 00:11:41.570\nSo let me get out of this and\njust go to my actual Windows machine.\n\n255\n00:11:41.570 --> 00:11:46.230\nI can say that now because it was my\nMac machine was running a Windows VM\n\n256\n00:11:46.230 --> 00:11:48.890\nthat this gentleman over\nhere actually provided.\n\n257\n00:11:48.890 --> 00:11:52.720\nAll right, but now I actually have\na physical machine running Windows 10.\n\n258\n00:11:52.720 --> 00:11:56.970\nSo you could take a look, same idea,\ngo to the Control Panel, same exact place.\n\n259\n00:11:56.970 --> 00:11:59.709\nI've done all that, I've come in here,\n\n260\n00:11:59.709 --> 00:12:02.776\nclick TPM Admin on my\nlocal physical machine.\n\n261\n00:12:02.776 --> 00:12:06.776\nAnd when I do that instead of\nseeing hey no TPM on the laptop,\n\n262\n00:12:06.776 --> 00:12:09.026\nI actually have a TPM installed.\n\n263\n00:12:09.026 --> 00:12:11.980\nAnd so,\nyou can see now what it would look like.\n\n264\n00:12:11.980 --> 00:12:12.730\nIt looks like this.\n\n265\n00:12:12.730 --> 00:12:15.160\nYou have TPM Management\non the local computer,\n\n266\n00:12:15.160 --> 00:12:19.978\njust move that over just a bit or\na smidge as we say here at ITProTV.\n\n267\n00:12:19.978 --> 00:12:24.810\nAnd we can see that the TPM is\nsupported by the Windows Platform.\n\n268\n00:12:24.810 --> 00:12:26.330\nIt is ready for use.\n\n269\n00:12:26.330 --> 00:12:27.967\nIt is fully available.\n\n270\n00:12:27.967 --> 00:12:31.240\nIt is a version, you could see here,\nmanufacturer version.\n\n271\n00:12:31.240 --> 00:12:34.319\nI'm kinda covering it, but\nif we go full screen for a second,\n\n272\n00:12:34.319 --> 00:12:38.360\nwe are using a version 1.2 as Mike and\nI were talking about in the last episode.\n\n273\n00:12:38.360 --> 00:12:42.302\nBut we both essentially have the same\nlaptop, so we're both running and\n\n274\n00:12:42.302 --> 00:12:44.257\nusing version 1.2 TPM, right?\n\n275\n00:12:44.257 --> 00:12:48.923\nAnd I mentioned the nuclear option where\nyou can go ahead and clear the TPM, reset\n\n276\n00:12:48.923 --> 00:12:53.395\nit back to factory default by going in\nhere and doing this if you would like to.\n\n277\n00:12:53.395 --> 00:12:56.600\nSo you can go in and\nclear this from the management area.\n\n278\n00:12:56.600 --> 00:12:59.591\nAgain, probably not a good idea, but\nyou do have an option to do that.\n\n279\n00:12:59.591 --> 00:13:01.621\n&gt;&gt; If you're recycling that machine,\nmaybe, and\n\n280\n00:13:01.621 --> 00:13:04.360\nyou needed to make sure\nall keys were gone.\n\n281\n00:13:04.360 --> 00:13:08.647\nAlthough I will say that this is\nrelatively new with Windows 10,\n\n282\n00:13:08.647 --> 00:13:12.488\nbeing able to manage the TPM\nthrough the operating system.\n\n283\n00:13:12.488 --> 00:13:16.160\n&gt;&gt; Yeah, this GUI and\nthis interface is relatively new.\n\n284\n00:13:16.160 --> 00:13:19.520\nWe had command line options before,\nbut it was a little bit convoluted,\n\n285\n00:13:19.520 --> 00:13:24.060\nmuch like the cipher tool we talked about\nin EFS, where we did have an option.\n\n286\n00:13:24.060 --> 00:13:26.086\nI'm gonna actually take\na look at that with you, and\n\n287\n00:13:26.086 --> 00:13:28.219\nwe'll take a look at what\nthat would have looked like.\n\n288\n00:13:28.219 --> 00:13:30.340\nBut it was a little bit more involved.\n\n289\n00:13:30.340 --> 00:13:33.720\nIt was not quite PowerShell like,\nbut it's an old command line tool,\n\n290\n00:13:33.720 --> 00:13:36.930\nand it does provide us with\nthe basic capabilities.\n\n291\n00:13:36.930 --> 00:13:37.850\nBut this is nice.\n\n292\n00:13:37.850 --> 00:13:41.230\nAnd you can see the actions up on\nthe right to be able to carry out\n\n293\n00:13:41.230 --> 00:13:41.820\nany of these things.\n\n294\n00:13:41.820 --> 00:13:45.010\nThese are not clickable, these are just\nessentially indicators saying hey,\n\n295\n00:13:45.010 --> 00:13:46.430\nyou could do this, right?\n\n296\n00:13:46.430 --> 00:13:51.020\nBut you could see here, prepare the TPM,\nturn it off if we need to disable it,\n\n297\n00:13:51.020 --> 00:13:53.110\nchange the ownership password, clear it.\n\n298\n00:13:53.110 --> 00:13:56.210\nReset TPM lockout if\nsomebody locks it out and\n\n299\n00:13:56.210 --> 00:13:57.540\nthen we have to go back in,\nthat kind of thing.\n\n300\n00:13:57.540 --> 00:13:59.130\nSo we can do that from here.\n\n301\n00:14:00.980 --> 00:14:05.590\nAnd you'll see here, we can take a look,\nand we can see under command management,\n\n302\n00:14:05.590 --> 00:14:10.670\nwe can see things that are essentially\nallowed or disallow, right?\n\n303\n00:14:10.670 --> 00:14:14.575\nSo admin ownership, we can allow or\nblock Individual commands, kinda nice,\n\n304\n00:14:14.575 --> 00:14:16.135\nyou can drill through,\nit's almost like a firewall.\n\n305\n00:14:16.135 --> 00:14:20.355\nWe can drill through and set up or\nallow or disallow certain capabilities.\n\n306\n00:14:20.355 --> 00:14:24.255\nWe do have the ability to be able to do\nthis off the Action menu on the right,\n\n307\n00:14:24.255 --> 00:14:26.402\nas well as just right-click on the left.\n\n308\n00:14:26.402 --> 00:14:28.332\nSo we do have some\ninteresting capabilities.\n\n309\n00:14:28.332 --> 00:14:33.452\nMike's right, this is a newer interface\nwith a newer set of features.\n\n310\n00:14:33.452 --> 00:14:35.472\nMaybe worth some time for you.\n\n311\n00:14:35.472 --> 00:14:40.347\nIf you haven't used it before if your not\nfamiliar with BitLocker, it's new anyway.\n\n312\n00:14:40.347 --> 00:14:41.715\nBut if you've been using it and\n\n313\n00:14:41.715 --> 00:14:44.451\nyou're not familiar with some\nof the newer things you can do,\n\n314\n00:14:44.451 --> 00:14:47.836\nit may be worth a few minutes of your time\nto go in and poke around a little bit.\n\n315\n00:14:47.836 --> 00:14:50.518\nJust take a look, at least have\na sense of what's going on in there.\n\n316\n00:14:50.518 --> 00:14:53.176\nBut we can see whether we\nhave a TPM available and\n\n317\n00:14:53.176 --> 00:14:55.460\ndeployable just by coming in here.\n\n318\n00:14:55.460 --> 00:14:56.953\nWe also have a lot of\ngroup policy options.\n\n319\n00:14:56.953 --> 00:15:02.094\nThere's a lot of group policy options for\nBitLocker.\n\n320\n00:15:02.094 --> 00:15:08.870\nDo have a nice Windows document\nthat puts those together for us.\n\n321\n00:15:08.870 --> 00:15:13.495\nIt is roughly three pages,\nif I remember correctly, or four.\n\n322\n00:15:13.495 --> 00:15:15.990\nYeah, a better part of four\npages as you can see there.\n\n323\n00:15:15.990 --> 00:15:19.830\nBut a quite a number of group policy\nsettings that are available to us.\n\n324\n00:15:19.830 --> 00:15:24.508\nSo try to document them for you, at least\ngive you a highlight on the majority of\n\n325\n00:15:24.508 --> 00:15:28.035\nthem as you kinda see as I'm scrolling\nup and kinda working through them.\n\n326\n00:15:28.035 --> 00:15:30.810\nWe're gonna go into the local group policy\neditor and take a look at a couple of\n\n327\n00:15:30.810 --> 00:15:34.140\nthese and turn on one of the capabilities\nand show you how to do that.\n\n328\n00:15:34.140 --> 00:15:37.780\nWe'll also take a look at an additional\nsetting, a little extra added value for\n\n329\n00:15:37.780 --> 00:15:40.870\nit because well,\nMike twisted my arm during the episode\n\n330\n00:15:40.870 --> 00:15:43.560\nwhere Mike said do this or\nI'm gonna step on your foot.\n\n331\n00:15:43.560 --> 00:15:45.916\nI'm not wearing shoes and\nhe is, so I'm scared about that.\n\n332\n00:15:45.916 --> 00:15:47.268\nWe're gonna go ahead,\nwe're gonna take a look.\n\n333\n00:15:47.268 --> 00:15:50.393\nBut let's go ahead, let's actually put\na couple of these settings to use.\n\n334\n00:15:50.393 --> 00:15:52.747\nNow while I'm getting into\nthe local policy editor,\n\n335\n00:15:52.747 --> 00:15:54.744\nif you could help me out sir,\nas you often do.\n\n336\n00:15:54.744 --> 00:15:58.118\nMaybe you could speak for just a second\nabout the group policy spreadsheet,\n\n337\n00:15:58.118 --> 00:15:59.594\nthe settings spreadsheet you and\n\n338\n00:15:59.594 --> 00:16:03.300\nI talk about sometimes, and just where\nsomebody may be able to find those, right?\n\n339\n00:16:03.300 --> 00:16:04.520\n&gt;&gt; I don't know where\nwe're gonna find that.\n\n340\n00:16:04.520 --> 00:16:07.030\nI assume we can go out to Microsoft and\nGoogle.\n\n341\n00:16:07.030 --> 00:16:10.700\n&gt;&gt; You can get them off the download, but\njust the value of what they represent\n\n342\n00:16:10.700 --> 00:16:12.830\noverall, just want to\nset this up real quick.\n\n343\n00:16:12.830 --> 00:16:15.180\n&gt;&gt; While he's doing that, then, so\nwe've talked about group policy, and\n\n344\n00:16:15.180 --> 00:16:18.200\nwe know there are hundreds upon hundreds\nof settings that are available in there.\n\n345\n00:16:18.200 --> 00:16:20.860\nAnd sometimes finding the setting\nyou're looking for, or\n\n346\n00:16:20.860 --> 00:16:25.080\nunderstanding what that setting is going\nto allow you to do, that can be daunting.\n\n347\n00:16:25.080 --> 00:16:28.363\nSo Microsoft does put out some\nspreadsheets that usually go over all\n\n348\n00:16:28.363 --> 00:16:30.250\nthe different policies.\n\n349\n00:16:30.250 --> 00:16:33.810\nThe options that you can choose,\nenable, disable, things like that.\n\n350\n00:16:33.810 --> 00:16:35.300\nAnd what's gonna happen\nif you turn this on, or\n\n351\n00:16:35.300 --> 00:16:37.520\nwhat's gonna happen if you turn this off.\n\n352\n00:16:37.520 --> 00:16:40.760\nSo just do a Google search or\nyour favorite search provider, Bing,\n\n353\n00:16:40.760 --> 00:16:43.380\nI suppose I should say\nin this Windows class.\n\n354\n00:16:43.380 --> 00:16:47.700\nBut use whatever search engine you think\nis gonna give you the best results, and\n\n355\n00:16:47.700 --> 00:16:48.820\ntake a look though that spreadsheet.\n\n356\n00:16:48.820 --> 00:16:49.730\nAnd I'll find a link.\n\n357\n00:16:49.730 --> 00:16:52.090\nI know Adam's given it you before, and\n\n358\n00:16:52.090 --> 00:16:54.280\nwe'll make sure it's available\nin the show notes as well.\n\n359\n00:16:54.280 --> 00:16:57.679\nBecause there are a number of settings,\nas you were saying,\n\n360\n00:16:57.679 --> 00:17:00.670\nnow are available within\ngroup policy to control TPM.\n\n361\n00:17:00.670 --> 00:17:02.780\nA couple off the top of my head.\n\n362\n00:17:02.780 --> 00:17:07.970\nI know I can think about very important\nones are enabling the use of TPM,\n\n363\n00:17:07.970 --> 00:17:11.115\nor enabling the use of\nBitLocker without a TPM.\n\n364\n00:17:11.115 --> 00:17:15.230\nCuz normally, if you don't have a TPM,\nBitLocker won't turn on for you.\n\n365\n00:17:15.230 --> 00:17:18.970\nWe have to use either domain based\npolicy in a domain environment or\n\n366\n00:17:18.970 --> 00:17:23.055\nthe local policy to enable\nBitLocker without the use of a TPM.\n\n367\n00:17:23.055 --> 00:17:25.340\nCuz a TPM's the most\nsecure way to go about it.\n\n368\n00:17:25.340 --> 00:17:30.400\nYou lose a couple of the benefits of\nBitLocker when you do it without a TPM.\n\n369\n00:17:30.400 --> 00:17:34.680\nBut that doesn't mean we don't want\nthe other benefits that we can get from\n\n370\n00:17:34.680 --> 00:17:35.880\nusing BitLocke.\n\n371\n00:17:35.880 --> 00:17:38.020\nEven though my computer is older and\nI don't have a TPM,\n\n372\n00:17:38.020 --> 00:17:41.532\nI would still like to take advantage\nof that full disk encryption.\n\n373\n00:17:41.532 --> 00:17:43.504\nAnd so by using policy,\n\n374\n00:17:43.504 --> 00:17:48.120\nwe can specify that you are allowed to\nuse it without a TPM, and that means,\n\n375\n00:17:48.120 --> 00:17:51.315\nas Adam pointed out, I now have to\nhave somewhere else to store the key.\n\n376\n00:17:51.315 --> 00:17:55.830\nCuz normally, it gets stored, one of the\nkeys anyway, gets stored in the TPM chip\n\n377\n00:17:55.830 --> 00:17:58.975\non the motherboard, independent or\nseparate from the operating system.\n\n378\n00:17:58.975 --> 00:18:02.350\nIf I don't have that,\nwhere am I going to put it?\n\n379\n00:18:02.350 --> 00:18:06.910\nAnd that becomes your USB external hard\ndrive or thumb drive that now basically\n\n380\n00:18:06.910 --> 00:18:11.060\nbecomes a startup dongle, so you do have\nto be careful with that you do with that.\n\n381\n00:18:11.060 --> 00:18:14.010\nHave to make sure you have it\navailable to start that system.\n\n382\n00:18:14.010 --> 00:18:16.980\nOther things to think about if\nyou don't have a TPM chip and\n\n383\n00:18:16.980 --> 00:18:18.670\nyou wanna use BitLocker.\n\n384\n00:18:18.670 --> 00:18:21.570\nYou don't get the file system or\n\n385\n00:18:21.570 --> 00:18:26.020\nthe startup file integrity checks,\nthe system integrity checks.\n\n386\n00:18:26.020 --> 00:18:30.190\nBecause BitLocker's not gonna be active\nuntil after the operating system starts\n\n387\n00:18:30.190 --> 00:18:32.290\nin the case of no TPM.\n\n388\n00:18:32.290 --> 00:18:35.320\nSo you lose some of that\ninitial integrity checks.\n\n389\n00:18:36.460 --> 00:18:38.630\nWhat is the other thing without the TPM?\n\n390\n00:18:38.630 --> 00:18:43.000\nIt's-\n&gt;&gt; We just gotta be more concerned about\n\n391\n00:18:43.000 --> 00:18:45.105\nwhere you're storing your-\n&gt;&gt; Yeah, cuz if-\n\n392\n00:18:45.105 --> 00:18:46.325\n&gt;&gt; Certainly need to keep track of stuff.\n\n393\n00:18:46.325 --> 00:18:50.865\n&gt;&gt; If I lose that thumb drive,\nI can now potentially lose access.\n\n394\n00:18:50.865 --> 00:18:53.205\n&gt;&gt; You don’t get in\n&gt;&gt; To that system, exactly right.\n\n395\n00:18:53.205 --> 00:18:55.205\n&gt;&gt; All right, so let's,\nI was just got the policy set up.\n\n396\n00:18:55.205 --> 00:18:57.030\nI was just getting a couple of\nthings set up behind the scenes for\n\n397\n00:18:57.030 --> 00:18:58.205\na couple of things I wanted to do.\n\n398\n00:18:58.205 --> 00:19:00.361\nSo let’s take a look,\nI want to show where we go in and\n\n399\n00:19:00.361 --> 00:19:03.185\nplay around with some of these\nsettings Mike was suggesting.\n\n400\n00:19:03.185 --> 00:19:07.350\nSo, I just open up the local computer\npolicy editor, so GPedit.msc.\n\n401\n00:19:07.350 --> 00:19:08.750\nBrings that up for us.\n\n402\n00:19:08.750 --> 00:19:11.840\nComputer and user configuration, we talked\nabout the differences between these two.\n\n403\n00:19:11.840 --> 00:19:14.930\nWe're going into the computer\nconfiguration area.\n\n404\n00:19:14.930 --> 00:19:17.070\nGonna go to administrative templates,\nso down here,\n\n405\n00:19:17.070 --> 00:19:20.600\nkind of open this up so you could see\nthis under administrative templates.\n\n406\n00:19:20.600 --> 00:19:22.780\nWe're gonna go into Windows components.\n\n407\n00:19:22.780 --> 00:19:24.310\nSo let's just open this up.\n\n408\n00:19:24.310 --> 00:19:25.710\nAnd then we're gonna go to BitLockerbit.\n\n409\n00:19:25.710 --> 00:19:28.240\nSo let me just pull this\ndown just a little bit.\n\n410\n00:19:28.240 --> 00:19:29.941\nRight below biometrics there.\n\n411\n00:19:29.941 --> 00:19:34.000\nNow on the surface, it doesn't look\nlike there's a whole bunch of settings.\n\n412\n00:19:34.000 --> 00:19:36.760\nAnd we have settings in each of\nthese three individual folders as\n\n413\n00:19:36.760 --> 00:19:38.280\nwell as a core group of settings.\n\n414\n00:19:38.280 --> 00:19:40.900\nSo there's probably,\nby the time you get done,\n\n415\n00:19:40.900 --> 00:19:43.527\nclose to 100 settings that we\npotentially have to be aware of.\n\n416\n00:19:43.527 --> 00:19:46.865\nAnd so, taking a look at that group\npolicy setting spreadsheet that I\n\n417\n00:19:46.865 --> 00:19:48.975\nasked Mike just to talk about for\na couple minutes.\n\n418\n00:19:48.975 --> 00:19:52.035\nAnd thank you for going through that\nwhile we were just transitioning.\n\n419\n00:19:52.035 --> 00:19:53.485\n&gt;&gt; Never talked about it,\nbut that's all right.\n\n420\n00:19:53.485 --> 00:19:56.335\n&gt;&gt; But just the idea behind going in and\nlooking at all those settings.\n\n421\n00:19:56.335 --> 00:19:58.115\nAnd obviously,\nwe've talked about it in other episodes,\n\n422\n00:19:58.115 --> 00:19:59.845\nencourage you to go out and download it.\n\n423\n00:19:59.845 --> 00:20:04.045\nI gave you a Word document with just some\nof the highlights of some of the settings.\n\n424\n00:20:04.045 --> 00:20:07.180\nBut it's a more thorough\ndiscussion in the spreadsheet.\n\n425\n00:20:07.180 --> 00:20:09.830\nIt goes into the registry key\nassociated with each one.\n\n426\n00:20:09.830 --> 00:20:12.190\nThe backwards compatibility,\nminimum OS requirements.\n\n427\n00:20:12.190 --> 00:20:15.780\nAll the other stuff that's really\nvaluable that you want to make sure\n\n428\n00:20:15.780 --> 00:20:16.600\nyou're aware of.\n\n429\n00:20:16.600 --> 00:20:17.820\nBut you can see here.\n\n430\n00:20:17.820 --> 00:20:23.200\nLet's just kind of explode this out so\nwe can see, that\n\n431\n00:20:23.200 --> 00:20:28.240\nwe have the ability to be able to set\nsome basic protections on BitLocker.\n\n432\n00:20:28.240 --> 00:20:32.420\nAnd then, for fixed data drives, operating\nsystem drives, and removable data drives,\n\n433\n00:20:32.420 --> 00:20:36.450\nwe have an entire set of settings that\ntell us how BitLocker's applied to\n\n434\n00:20:36.450 --> 00:20:39.840\neach of these subcategories as\npotentially we wanna manage.\n\n435\n00:20:39.840 --> 00:20:42.400\nSo it is important for us to be aware of.\n\n436\n00:20:42.400 --> 00:20:45.460\nChoose default folder for recovery\npassword, where we wanna store that.\n\n437\n00:20:45.460 --> 00:20:47.720\nWe could hard code that if we wanted to.\n\n438\n00:20:47.720 --> 00:20:50.980\nChoose how users can recover\nprotected BitLocker drives.\n\n439\n00:20:50.980 --> 00:20:54.170\nAnd notice that we have\ntwo of these options.\n\n440\n00:20:55.700 --> 00:20:59.730\nWe have here, for Server 2008 and\nWindows Vista, right?\n\n441\n00:20:59.730 --> 00:21:04.200\nAnd then we have the ability to be\nable to specify a drive encryption and\n\n442\n00:21:04.200 --> 00:21:07.310\ncipher strength for different\nversions of the operating system.\n\n443\n00:21:07.310 --> 00:21:10.740\nSo some of these are specific to certain\nversions like we were talking about.\n\n444\n00:21:10.740 --> 00:21:13.955\nHey, if you're running this version,\nmay or may not work this way, right?\n\n445\n00:21:13.955 --> 00:21:20.040\nCuz in Server 2008 and Windows Vista,\nthe first essential versions of BitLocker,\n\n446\n00:21:20.040 --> 00:21:25.511\nwhen we go in, you'll see we have to\nspecify a 48-digit recovery password,\n\n447\n00:21:25.511 --> 00:21:27.950\n256-bit recovery key, right?\n\n448\n00:21:27.950 --> 00:21:33.030\nWe have different options\nthat we have here specified\n\n449\n00:21:33.030 --> 00:21:37.990\nthrough ADDS, whereas if we, just not\ngonna figure that and get out of that.\n\n450\n00:21:37.990 --> 00:21:44.870\nWhereas if we go in, let's say,\noperating system, right?\n\n451\n00:21:44.870 --> 00:21:49.460\nAnd if we come here and require additional\nauthentication at start up versus\n\n452\n00:21:49.460 --> 00:21:53.764\nadditional authentication at start up for\nearlier versions, again,\n\n453\n00:21:53.764 --> 00:21:56.503\ndifferent settings based on the OS, right?\n\n454\n00:21:56.503 --> 00:22:00.870\nWhen we go in and take a look, we may or\nmay not have the same settings for\n\n455\n00:22:00.870 --> 00:22:02.220\neach group of items.\n\n456\n00:22:02.220 --> 00:22:05.540\nThere's two here,\nTPM startup key, TPM startup pin,\n\n457\n00:22:05.540 --> 00:22:09.470\nand allow BitLocker without a compatible\nTPM that Mike was talking about,\n\n458\n00:22:09.470 --> 00:22:11.370\nas our settings to store on the USB.\n\n459\n00:22:11.370 --> 00:22:16.280\nAnd when we do this in the newer\nversions notice there are some\n\n460\n00:22:16.280 --> 00:22:18.760\nadditional options here that we don't see.\n\n461\n00:22:18.760 --> 00:22:22.920\nStart up key and pin, we're talking about\nstartup plus pin, different options.\n\n462\n00:22:22.920 --> 00:22:26.390\nThe newer versions of the OS\nadd more capabilities, so\n\n463\n00:22:26.390 --> 00:22:31.050\nwe have to be aware of not just what we're\ndoing, but what versions we're working on.\n\n464\n00:22:31.050 --> 00:22:34.420\nIn this case, remember, we're on\nthe local policy, so it's on this one OS.\n\n465\n00:22:34.420 --> 00:22:38.415\nBut if we were on Server 16 doing this for\na group policy throughout the domain,\n\n466\n00:22:38.415 --> 00:22:42.761\nwe would see these same options, be on\nthe server, we'd have to decide hey, is\n\n467\n00:22:42.761 --> 00:22:47.215\neverybody that we're gonna push this to,\nare they all running on Windows 10, right?\n\n468\n00:22:47.215 --> 00:22:52.450\nAnd if so, can we do TPM plus,\nTPM starter key and PIN, right?\n\n469\n00:22:52.450 --> 00:22:53.950\nWe call it TPM Starter Key Plus PIN,\n\n470\n00:22:53.950 --> 00:22:56.770\nthat's how you see it referred\nto in the documentation.\n\n471\n00:22:56.770 --> 00:22:59.670\nOr just TPM Starter PIN by itself, right?\n\n472\n00:22:59.670 --> 00:23:00.810\nWhich would be the older version.\n\n473\n00:23:00.810 --> 00:23:03.770\nSo we do have to be aware of that, and\nthey do a good job of documenting that on\n\n474\n00:23:03.770 --> 00:23:05.630\nthe right here with all\nthe different options.\n\n475\n00:23:05.630 --> 00:23:07.070\nSo we wanna think about that.\n\n476\n00:23:07.070 --> 00:23:10.160\nHow we would turn this on and\n\n477\n00:23:10.160 --> 00:23:13.230\nallow BitLocker without\na compatible TPM to operate?\n\n478\n00:23:13.230 --> 00:23:15.670\nThat check box,\nit's kind of off to the side here.\n\n479\n00:23:15.670 --> 00:23:16.860\nCan we go full screen for a second?\n\n480\n00:23:16.860 --> 00:23:20.490\nCuz, yeah, we tend to see it easier\nwhen we're in full screen, right?\n\n481\n00:23:20.490 --> 00:23:23.820\nAllow BitLocker without a compatible\nTPM requires a password or\n\n482\n00:23:23.820 --> 00:23:26.470\na startup key on a USB flash\ndrive as we talked about.\n\n483\n00:23:26.470 --> 00:23:27.960\nWe chose the password option.\n\n484\n00:23:27.960 --> 00:23:31.370\nI'm going to demonstrate the outcome\nof our choice here in a minute for you.\n\n485\n00:23:31.370 --> 00:23:32.370\nShow you what this looks like.\n\n486\n00:23:32.370 --> 00:23:35.890\nBut remember, we set up to do\nthe password or you get prompted.\n\n487\n00:23:35.890 --> 00:23:38.025\nHopefully Mike remembers the password,\ncuz I forgot it,\n\n488\n00:23:38.025 --> 00:23:40.539\nand if he doesn't know,\nwe're not getting in, right?\n\n489\n00:23:40.539 --> 00:23:43.340\n[LAUGH] Did you tell Titus that we have\na backup option like a key escrow?\n\n490\n00:23:43.340 --> 00:23:45.470\n&gt;&gt; No, but I think I know where\nhe saved the recovery key, so\n\n491\n00:23:45.470 --> 00:23:46.180\nwe should be all right.\n\n492\n00:23:46.180 --> 00:23:48.480\n&gt;&gt; All right,\nwe should be able to get that hopefully.\n\n493\n00:23:48.480 --> 00:23:50.640\nAll right, so you can see that we\ndo have to enable this, right?\n\n494\n00:23:50.640 --> 00:23:53.140\nWe checked that box off\nwhen we set this up.\n\n495\n00:23:53.140 --> 00:23:55.195\nWe may or\nmay not choose other options, right?\n\n496\n00:23:55.195 --> 00:23:56.691\nSo, we'd obviously apply this.\n\n497\n00:23:56.691 --> 00:23:59.143\nThis would then allow the use\nof the password, right?\n\n498\n00:23:59.143 --> 00:24:04.725\nSo we can go ahead and do that But notice\nhere, allow network and lock at startup.\n\n499\n00:24:04.725 --> 00:24:08.385\nThis is the one that I talked about that\nallows us to do the unlock over the wire,\n\n500\n00:24:08.385 --> 00:24:11.350\nright, the newer feature\nthat's available there.\n\n501\n00:24:11.350 --> 00:24:14.136\nWe can do secure boot for\nintegrity validation, right?\n\n502\n00:24:14.136 --> 00:24:17.024\nWe can enable BitLocker\nauthentication requirement including\n\n503\n00:24:17.024 --> 00:24:20.640\npre-boot keyboard input on slates,\non the slate we can do the keyboard input.\n\n504\n00:24:20.640 --> 00:24:24.590\nI have that on mine, because you've\nseen my tablets that I use sometimes.\n\n505\n00:24:24.590 --> 00:24:26.312\nI have that on that, right?\n\n506\n00:24:26.312 --> 00:24:28.623\nSo that way, if somebody picks it up and\ntries to use it,\n\n507\n00:24:28.623 --> 00:24:31.740\nunless they know the PIN, they can't\nget in, right, that kind of thing.\n\n508\n00:24:31.740 --> 00:24:34.860\nSo we can specify minimum PIN length,\n\n509\n00:24:34.860 --> 00:24:38.130\nwhich is great because a lot times of\npeople say, it's a four digit PIN.\n\n510\n00:24:38.130 --> 00:24:40.010\nWell, no,\nmaybe you want a longer one, right?\n\n511\n00:24:40.010 --> 00:24:42.850\nSo we can go in and\nspecify a minimum PIN length here.\n\n512\n00:24:42.850 --> 00:24:47.020\nAnd you could see, at least Windows\nserver 2008 R2 or Windows 7.\n\n513\n00:24:47.020 --> 00:24:51.312\nAnd I can bump that up, and say I'm gonna\nbe that person that requires, right,\n\n514\n00:24:51.312 --> 00:24:53.810\na large [CROSSTALK]\n&gt;&gt; [LAUGHS] It can be up to 20 characters.\n\n515\n00:24:53.810 --> 00:24:58.160\n&gt;&gt; Actually up to 20 character\nlength maximum, minimum 4, right?\n\n516\n00:24:58.160 --> 00:25:00.970\nThat's right here, right,\nthe statement right here.\n\n517\n00:25:00.970 --> 00:25:02.980\nSo you'd wanna know that, right?\n\n518\n00:25:02.980 --> 00:25:04.860\nKnow that it's between 4 and 20.\n\n519\n00:25:04.860 --> 00:25:08.050\nAnd obviously for friends it's down to 4,\nfor people you don't like so\n\n520\n00:25:08.050 --> 00:25:09.578\nmuch it's up to 20, right?\n\n521\n00:25:09.578 --> 00:25:11.640\nBut you wanna think about that and\n\n522\n00:25:11.640 --> 00:25:14.730\nbe aware of that because we do\nall these different things.\n\n523\n00:25:14.730 --> 00:25:17.360\nAnd there's so many of these\nsettings that we just don't really\n\n524\n00:25:17.360 --> 00:25:18.820\nnecessarily consider and think about.\n\n525\n00:25:18.820 --> 00:25:20.760\nThere's so much value we can extract-\n&gt;&gt; There is.\n\n526\n00:25:20.760 --> 00:25:21.320\n&gt;&gt; It's really cool.\n\n527\n00:25:21.320 --> 00:25:24.690\n&gt;&gt; And another one of my favorites,\nif you go back up to the main category and\n\n528\n00:25:24.690 --> 00:25:26.500\nnot the fixed and.\n\n529\n00:25:26.500 --> 00:25:29.200\nCan we show them the one about do not\n\n530\n00:25:29.200 --> 00:25:32.500\nenable BitLocker until the key's\nstored in Active Directory?\n\n531\n00:25:32.500 --> 00:25:35.360\nIs that in that section, or\nis that in the operating section?\n\n532\n00:25:35.360 --> 00:25:37.610\n&gt;&gt; No, that is not here.\n\n533\n00:25:37.610 --> 00:25:42.220\nThat is, I think, if I'm not mistaken,\nI'm either OS, or fixed, one or the other.\n\n534\n00:25:42.220 --> 00:25:44.747\nLet me see where.\n\n535\n00:25:44.747 --> 00:25:47.100\nCuz it's called something, it's not that.\n\n536\n00:25:47.100 --> 00:25:52.120\n&gt;&gt; It's kind of weird, but I know that's\none of my personal favorite GPS settings\n\n537\n00:25:52.120 --> 00:25:55.570\nwe can use, where if we're enabling\nthis in a domain environment,\n\n538\n00:25:55.570 --> 00:26:00.000\nwhat we can do is we can store the\nrecovery information in Active Directory.\n\n539\n00:26:00.000 --> 00:26:00.850\n&gt;&gt; That's the boot.\n\n540\n00:26:00.850 --> 00:26:01.420\n&gt;&gt; Yes, go ahead.\n\n541\n00:26:01.420 --> 00:26:03.010\n&gt;&gt; Yes, it's just a boot configuration.\n\n542\n00:26:03.010 --> 00:26:05.260\n&gt;&gt; Okay,\nthere's a policy in there somewhere.\n\n543\n00:26:05.260 --> 00:26:09.030\nI forget exactly where it is,\nthat says, do not enable BitLocker\n\n544\n00:26:09.030 --> 00:26:11.230\nuntil the information has been\nstored in Active Directory.\n\n545\n00:26:11.230 --> 00:26:12.373\nAnd what this does is,\n\n546\n00:26:12.373 --> 00:26:16.000\nlet's say we've enabled BitLocker\nas a company-wide policy.\n\n547\n00:26:16.000 --> 00:26:18.890\nA user wants to turn on\nBitLocker on their drive.\n\n548\n00:26:18.890 --> 00:26:22.230\nIf they can't connect to the domain\ncontroller and store the recovery\n\n549\n00:26:22.230 --> 00:26:26.480\ninformation in Active Directory,\nit'll delay the encryption of the drive.\n\n550\n00:26:26.480 --> 00:26:29.530\nWhich is a really nice thing cuz what we\ndon't want to have happen is go ahead and\n\n551\n00:26:29.530 --> 00:26:30.480\nencrypt the drive.\n\n552\n00:26:31.510 --> 00:26:34.140\nBut then the recovery information hasn't\nbeen stored in Active Directory yet,\n\n553\n00:26:34.140 --> 00:26:36.640\ncuz of network connectivity issues or\nwhat have you.\n\n554\n00:26:36.640 --> 00:26:37.640\nSomething goes wrong.\n\n555\n00:26:37.640 --> 00:26:40.280\nNow we can't get into that drive,\nand we don't have the recovery info.\n\n556\n00:26:40.280 --> 00:26:42.680\nSo it's a really nice policy setting.\n\n557\n00:26:42.680 --> 00:26:43.901\nCome to think of it, Adam, they might, and\n\n558\n00:26:43.901 --> 00:26:45.527\nPractice Labs might not have\nupdated their machines yet.\n\n559\n00:26:45.527 --> 00:26:46.118\n&gt;&gt; They didn't.\n\n560\n00:26:46.118 --> 00:26:48.680\n&gt;&gt; Yeah, cuz I'm looking, I don't,\nI can see the one where we can choose what\n\n561\n00:26:48.680 --> 00:26:53.590\nversion of AAS, 128 versus 256\nlike we were talking about, and\n\n562\n00:26:53.590 --> 00:26:55.510\nwe can hard code that and\ndecide what we want.\n\n563\n00:26:55.510 --> 00:26:57.180\nI'm not seeing the other setting, though.\n\n564\n00:26:57.180 --> 00:26:59.910\nIt's possible it may not be up to date.\n\n565\n00:26:59.910 --> 00:27:03.680\nIt may not, yeah, I don't know what build\non Windows 10 we're actually running.\n\n566\n00:27:03.680 --> 00:27:05.480\nSo it's quite possible\nwe just don't have it.\n\n567\n00:27:05.480 --> 00:27:07.041\nBut I know what you're talking about.\n\n568\n00:27:07.041 --> 00:27:10.549\nI don’t think, no, no, store\nBitLocker information in ADDS, right?\n\n569\n00:27:10.549 --> 00:27:11.666\n&gt;&gt; Yeah.\n&gt;&gt; Right there.\n\n570\n00:27:11.666 --> 00:27:14.280\nYeah, require BitLocker backup to ADDS.\n\n571\n00:27:14.280 --> 00:27:15.440\nThat’s the one right there.\n\n572\n00:27:15.440 --> 00:27:16.360\nYeah, I didn’t see it.\n\n573\n00:27:16.360 --> 00:27:18.100\nI just wasn’t paying attention.\n\n574\n00:27:18.100 --> 00:27:21.610\nBut you can actually hard code this\nsetting is what Mike’s talking about.\n\n575\n00:27:21.610 --> 00:27:24.836\nIf we go full screen,\nyou can see kind of the edge.\n\n576\n00:27:24.836 --> 00:27:26.030\nIt is in the root as\nyou were talking about.\n\n577\n00:27:26.030 --> 00:27:28.470\nIt’s outside the OS folder.\n\n578\n00:27:28.470 --> 00:27:31.060\nBecause of the way they name it,\nI wasn't paying attention to what it was.\n\n579\n00:27:31.060 --> 00:27:34.350\nBut you can see, require BitLocker\nbackup to ADDS checked off.\n\n580\n00:27:34.350 --> 00:27:38.210\nAnd then you can see here,\nrecovery passwords and key package.\n\n581\n00:27:38.210 --> 00:27:40.200\nRecovery password, and\nwe decide what we wanna store.\n\n582\n00:27:40.200 --> 00:27:44.223\nBut if selected, cannot turn on BitLocker\nif backup fails, and not selected,\n\n583\n00:27:44.223 --> 00:27:46.454\ncan turn on BitLocker\neven if backup fails.\n\n584\n00:27:46.454 --> 00:27:48.241\nBackup's not on that.\n\n585\n00:27:48.241 --> 00:27:49.559\nWe can specify different\nways of doing this.\n\n586\n00:27:49.559 --> 00:27:52.174\nBut it is nice to be able to\nhard code that if we have to, so\n\n587\n00:27:52.174 --> 00:27:53.240\nwe can do that as well.\n\n588\n00:27:53.240 --> 00:27:55.545\nAll right, so we have a whole\nbunch of settings in there, right?\n\n589\n00:27:55.545 --> 00:27:59.640\nKinda cool stuff, some things definitely\nto go take a look at and to be aware of.\n\n590\n00:27:59.640 --> 00:28:02.100\nSo we can manage some of\nthat with group policy.\n\n591\n00:28:02.100 --> 00:28:03.770\nWe haven't actually shown\nyou what BitLocker does.\n\n592\n00:28:03.770 --> 00:28:05.360\nWe've talked all about the concepts, but\n\n593\n00:28:05.360 --> 00:28:07.300\nnow that we've enabled it,\nwhat actually happens?\n\n594\n00:28:07.300 --> 00:28:09.160\nSo we turned the system back on.\n\n595\n00:28:09.160 --> 00:28:11.720\nWe didn't enable it with a TPM\nto prompt us at start up, so\n\n596\n00:28:11.720 --> 00:28:13.170\nwe didn't bother to do that.\n\n597\n00:28:13.170 --> 00:28:16.720\nBut when we go to access the drive, you\nremember at the end of the last episode,\n\n598\n00:28:16.720 --> 00:28:18.780\nwe went in, we accessed the drive.\n\n599\n00:28:18.780 --> 00:28:21.880\nLet me make sure I get the right\nversion of the File Explorer here.\n\n600\n00:28:21.880 --> 00:28:26.370\nWe accessed the drive, and\nthen we were able to go in and\n\n601\n00:28:26.370 --> 00:28:28.060\nput a file in there with no trouble.\n\n602\n00:28:28.060 --> 00:28:31.100\nBut now you can see, since I've restarted,\nthe padlock is locked.\n\n603\n00:28:31.100 --> 00:28:33.830\nThe gold lock is now not gray and\nopen, but rather locked.\n\n604\n00:28:33.830 --> 00:28:35.160\nThe drive is locked.\n\n605\n00:28:35.160 --> 00:28:39.900\nAnd if I wanna get in here, right,\nI can't do that until, as you can see,\n\n606\n00:28:39.900 --> 00:28:41.790\nI actually provide\nthe password to unlock it.\n\n607\n00:28:41.790 --> 00:28:45.160\nBecause now the BitLocker protection\nhas been enabled on the drive.\n\n608\n00:28:45.160 --> 00:28:48.140\nSo I would have to know the password or,\nright,\n\n609\n00:28:48.140 --> 00:28:51.890\nunder more options, I can enter\nthe recovery key if I am recovering but\n\n610\n00:28:51.890 --> 00:28:55.788\nI am not the person who necessarily\ndid this or has the password.\n\n611\n00:28:55.788 --> 00:28:57.380\nIf I had that recovery key,\nI could go out and\n\n612\n00:28:57.380 --> 00:29:00.470\nget that and put that in there as well,\nso either way.\n\n613\n00:29:00.470 --> 00:29:05.000\nBut you'll notice that unless I do that,\nI don't have an option to get in here.\n\n614\n00:29:05.000 --> 00:29:08.870\nAnd I can right-click on this,\nand you'll notice the only\n\n615\n00:29:08.870 --> 00:29:12.100\noption I have is essentially unlock,\nwhich gives me that prompt.\n\n616\n00:29:12.100 --> 00:29:16.360\nI can look at the BitLocker encryption\noptions, which I showed you through\n\n617\n00:29:16.360 --> 00:29:20.450\nthe BitLocker administration tool, the\nMBAM tool, which I'm gonna show you how to\n\n618\n00:29:20.450 --> 00:29:24.480\ninstall in just a second, right, BitLocker\nadministration and monitoring tool.\n\n619\n00:29:24.480 --> 00:29:26.730\nI showed you this right before\nthe end of the last episode.\n\n620\n00:29:26.730 --> 00:29:28.230\nWe went in and we took a quick look.\n\n621\n00:29:28.230 --> 00:29:31.404\nAnd I showed you that we can unlock\nthe drive from here as well, but\n\n622\n00:29:31.404 --> 00:29:33.332\nit all leads to the same place, right?\n\n623\n00:29:33.332 --> 00:29:34.630\n&gt;&gt; You're not getting\naround that password.\n\n624\n00:29:34.630 --> 00:29:35.480\n&gt;&gt; Not getting around it.\n\n625\n00:29:35.480 --> 00:29:39.215\nIf I can't remember my password,\nI can provide that recovery key.\n\n626\n00:29:39.215 --> 00:29:40.175\nThat's the only other option.\n\n627\n00:29:40.175 --> 00:29:41.775\nIt's just a matter of how we get to it,\nright?\n\n628\n00:29:41.775 --> 00:29:45.033\nBut if I have the password,\nwhatever it is, and\n\n629\n00:29:45.033 --> 00:29:48.629\nlet's type in the wrong password for\njust a second.\n\n630\n00:29:51.712 --> 00:29:52.765\nTells me, hey, sorry.\n\n631\n00:29:52.765 --> 00:29:55.750\nEssentially doesn't tell me anything, but\njust doesn't unlock the drive, right?\n\n632\n00:29:55.750 --> 00:30:01.221\nBut if I type in the right password,\nYou could see,\n\n633\n00:30:01.221 --> 00:30:04.280\nright, should have unlocked\nthe drive if I typed it correctly.\n\n634\n00:30:04.280 --> 00:30:07.900\nLet me see, I may have not typed\nthe drive password correctly.\n\n635\n00:30:07.900 --> 00:30:09.680\nI think I screwed it up and\ndidn't type it the right way.\n\n636\n00:30:09.680 --> 00:30:10.970\nYeah, let me type it one more time.\n\n637\n00:30:10.970 --> 00:30:15.480\nI think I just typed it incorrectly cuz I\nwasn't paying attention to the keyboard.\n\n638\n00:30:15.480 --> 00:30:17.169\nThere we go, that should unlock,\nthere we go.\n\n639\n00:30:17.169 --> 00:30:19.450\nYeah, I just fat fingered\nat the second time.\n\n640\n00:30:19.450 --> 00:30:21.610\nI meant to type it the right way\nthe second time, I just didn't.\n\n641\n00:30:21.610 --> 00:30:24.210\nBut you can see it just doesn't let\nyou in until you type the right one.\n\n642\n00:30:24.210 --> 00:30:28.733\nBut you can see, now that I've unlocked\nit, I can go in, I can get access to,\n\n643\n00:30:28.733 --> 00:30:31.253\nright, remember the EFS encrypted file.\n\n644\n00:30:31.253 --> 00:30:33.250\nBut because I'm the owner\nI can open it up.\n\n645\n00:30:33.250 --> 00:30:36.205\nAnd you can see I can get\nin there with no trouble.\n\n646\n00:30:36.205 --> 00:30:41.196\nI can add something to\nthe file if I want to,\n\n647\n00:30:41.196 --> 00:30:45.290\nupdate it, no problem, right?\n\n648\n00:30:45.290 --> 00:30:47.210\nEven if I don't spell hello correctly.\n\n649\n00:30:47.210 --> 00:30:50.050\nI could do that with no trouble\nas long as I have the password,\n\n650\n00:30:50.050 --> 00:30:51.130\neven though I don't have the TPM.\n\n651\n00:30:51.130 --> 00:30:54.050\nSo I'm able to do all the things I\nwant it to do with no trouble here.\n\n652\n00:30:54.050 --> 00:30:57.670\nNow how did we install that MBAM console,\nthe one I was just showing you about?\n\n653\n00:30:57.670 --> 00:30:58.740\nThat's part of MDOP.\n\n654\n00:30:58.740 --> 00:31:01.290\nI mentioned this at the end\nof the last episode,\n\n655\n00:31:01.290 --> 00:31:04.240\nMicrosoft Desktop Optimization Pack, MDOP.\n\n656\n00:31:04.240 --> 00:31:07.090\nIt's a downloadable item from Microsoft.\n\n657\n00:31:07.090 --> 00:31:09.400\nIt's part of software assurance.\n\n658\n00:31:09.400 --> 00:31:12.290\nSo if you have an EA, an Enterprise\nAgreement with Microsoft, and\n\n659\n00:31:12.290 --> 00:31:15.350\nyou have SA, software assurance,\nyou get access to MDOP.\n\n660\n00:31:15.350 --> 00:31:17.470\nIf not, you may have to license the set.\n\n661\n00:31:17.470 --> 00:31:20.000\nIt's essentially a suite of tools and\nproducts that are available.\n\n662\n00:31:20.000 --> 00:31:21.620\nYou may have to license that separately.\n\n663\n00:31:21.620 --> 00:31:23.170\nBut you can go out and download it.\n\n664\n00:31:23.170 --> 00:31:24.210\nSo I have it here.\n\n665\n00:31:24.210 --> 00:31:28.540\nYou could see, the ISO right here,\nthe desktop optimization pack.\n\n666\n00:31:28.540 --> 00:31:32.650\nWhen we, whoops, hold on one second,\ndon't wanna open up the Windows Store.\n\n667\n00:31:33.850 --> 00:31:36.220\nI've got two machines stacked\none on top of the other, right?\n\n668\n00:31:36.220 --> 00:31:42.171\nSo when we go in and\nwe take a look at that, We could\n\n669\n00:31:42.171 --> 00:31:47.151\nsee that there's a bunch of different\nstuff in here, a bunch of different tools,\n\n670\n00:31:47.151 --> 00:31:52.220\napplication virtualization, dart,\nuser experience virtualization, so APV.\n\n671\n00:31:52.220 --> 00:31:55.700\nThe end user client side virtualization,\nwhat's now called UEV,\n\n672\n00:31:55.700 --> 00:31:57.790\nuser experience virtualization.\n\n673\n00:31:57.790 --> 00:31:59.710\nBut also MBAM is here, right?\n\n674\n00:31:59.710 --> 00:32:03.770\nAnd inside the MBAM directory, you choose\nthe appropriate version, whatever version\n\n675\n00:32:03.770 --> 00:32:07.895\nyou go into, you go in, go to installers,\nyou find the right version.\n\n676\n00:32:07.895 --> 00:32:09.145\nIt's pretty straightforward.\n\n677\n00:32:09.145 --> 00:32:12.545\nYou just install the client, whatever\nversion it is, and then that gives you\n\n678\n00:32:12.545 --> 00:32:17.495\nthat console that we were using to go in\nand modify the password and manage it.\n\n679\n00:32:17.495 --> 00:32:19.145\nAnd you don't have to put that in.\n\n680\n00:32:19.145 --> 00:32:22.775\nYou just right-click on the drive\nwithout the console there and unlock it.\n\n681\n00:32:22.775 --> 00:32:24.865\nBut it just gives you some\nadditional flexibility and\n\n682\n00:32:24.865 --> 00:32:27.064\ncapabilities if you wanna interact, right?\n\n683\n00:32:27.064 --> 00:32:28.460\nSo just keep that in mind.\n\n684\n00:32:28.460 --> 00:32:31.280\nI did promise you we would talk\nabout a command line tool and\n\n685\n00:32:31.280 --> 00:32:33.050\nalso some PowerShell cmdlets.\n\n686\n00:32:33.050 --> 00:32:36.550\nAnd I wanna say a couple of quick\nwords about how we can attach\n\n687\n00:32:37.700 --> 00:32:40.650\nthe use of BitLocker to\ncluster share volumes.\n\n688\n00:32:40.650 --> 00:32:43.040\nI mentioned this and\nsaid it's something you wanna know about.\n\n689\n00:32:43.040 --> 00:32:44.224\nBut as Mike keeps signaling me.\n\n690\n00:32:44.224 --> 00:32:45.488\n&gt;&gt; [LAUGH]\n&gt;&gt; We are out of time.\n\n691\n00:32:45.488 --> 00:32:47.970\nSo that's gonna require us to come back,\nhave another short but\n\n692\n00:32:47.970 --> 00:32:50.500\nvery important conversation to\nwrap up this set of topics.\n\n693\n00:32:50.500 --> 00:32:51.450\nWe're gonna do that.\n\n694\n00:32:51.450 --> 00:32:53.996\nInvite you to come back and\njoin us, but we're out of time now.\n\n695\n00:32:53.996 --> 00:32:54.990\n&gt;&gt; Sounds like a plan to me.\n\n696\n00:32:54.990 --> 00:32:57.660\nWe'll come back and\ngrab that last bit of information there.\n\n697\n00:32:57.660 --> 00:33:00.890\nBut for now,\nwe are gonna have to sign up, sign off.\n\n698\n00:33:00.890 --> 00:33:02.110\n&gt;&gt; Sign up?\n&gt;&gt; We can sign up, too.\n\n699\n00:33:02.110 --> 00:33:03.720\nMake sure we do that.\n\n700\n00:33:03.720 --> 00:33:05.280\nBut for now,\nhope everybody enjoyed this one.\n\n701\n00:33:05.280 --> 00:33:08.510\nSigning off for ITProTV,\nI've been your host Mike Rodrick.\n\n702\n00:33:08.510 --> 00:33:09.190\n&gt;&gt; I am Adam Gordan.\n\n703\n00:33:09.190 --> 00:33:11.926\n&gt;&gt; And we'll see you next time.\n\n704\n00:33:11.926 --> 00:33:17.695\n[MUSIC]\n\n705\n00:33:17.695 --> 00:33:20.750\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "236804216"
        },
        {
          "description": "",
          "length": "1667",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-6-configure_disk_and_file_encryption_pt6-100217.00_28_30_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-6-configure_disk_and_file_encryption_pt6-100217.00_28_30_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-12-1-6-configure_disk_and_file_encryption_pt6-100217.00_28_30_16.Still001-sm.jpg",
          "title": "Configure disk and file encryption Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:04.869\nWelcome to ITPro.tv,\nI'm your host Don- [CROSSTALK]\n\n2\n00:00:04.869 --> 00:00:08.119\n[MUSIC]\n\n3\n00:00:08.119 --> 00:00:11.089\n&gt;&gt; You're watching ITProTV\n&gt;&gt; Hello,\n\n4\n00:00:11.089 --> 00:00:15.290\nwelcome to another exciting\nepisode here at ITPro.tv.\n\n5\n00:00:15.290 --> 00:00:21.150\nI'm your host Mike Rodrick and today we\nare doing our Secure Windows Server 2016.\n\n6\n00:00:21.150 --> 00:00:22.520\nVery exciting stuff, isn't it?\n\n7\n00:00:22.520 --> 00:00:24.530\nIt's so exciting,\nwe've had to break it up into-\n\n8\n00:00:24.530 --> 00:00:25.680\n&gt;&gt; Shockingly so, shockingly so.\n\n9\n00:00:25.680 --> 00:00:27.060\n&gt;&gt; Six parts.\n\n10\n00:00:27.060 --> 00:00:33.700\nThat's right, we are still talking about\nboth EFS encryption, as well as BitLocker.\n\n11\n00:00:33.700 --> 00:00:38.350\nSo, here to help us continue our journey\nalong with BitLocker is Mr. Adam Gordon.\n\n12\n00:00:38.350 --> 00:00:39.400\nWelcome back, Adam.\n\n13\n00:00:39.400 --> 00:00:41.040\n&gt;&gt; Thank you sir, appreciate that.\n\n14\n00:00:41.040 --> 00:00:43.090\nSo BitLocker, it's good,\nyou should use it.\n\n15\n00:00:43.090 --> 00:00:44.390\nI'm done.\n&gt;&gt; [LAUGH]\n\n16\n00:00:44.390 --> 00:00:45.160\n&gt;&gt; All we had to come back and\n\n17\n00:00:45.160 --> 00:00:47.520\nsay, wait I forgot and EFS,\nyou should use that, it's also important.\n\n18\n00:00:47.520 --> 00:00:51.259\nBut only if you can't use BitLocker,\notherwise just go with BitLocker.\n\n19\n00:00:51.259 --> 00:00:52.274\n&gt;&gt; Never combine them.\n\n20\n00:00:52.274 --> 00:00:53.930\n&gt;&gt; No, no, never cross the streams.\n\n21\n00:00:53.930 --> 00:00:55.760\nBad things happen when\nyou cross the street.\n\n22\n00:00:55.760 --> 00:00:57.580\nThere are still a couple of things.\n\n23\n00:00:57.580 --> 00:00:58.670\nJust remaining items.\n\n24\n00:00:58.670 --> 00:01:00.960\nLittle dos and don't, if you want.\n\n25\n00:01:00.960 --> 00:01:02.535\nSome odds and end we want to go through.\n\n26\n00:01:02.535 --> 00:01:05.650\nThought it would be good to put them\nall back together in this last episode.\n\n27\n00:01:05.650 --> 00:01:06.935\nWe promise you it is the last one.\n\n28\n00:01:06.935 --> 00:01:09.330\n[LAUGH]\n&gt;&gt; And wrap up our discussion.\n\n29\n00:01:09.330 --> 00:01:11.310\nWe left off,\nif you haven't seen the prior episode.\n\n30\n00:01:11.310 --> 00:01:13.490\nHaving walk through the demo for\nBitLocker.\n\n31\n00:01:13.490 --> 00:01:16.830\nShowed you how to enable it, and\nwe showed you how to use it and access it.\n\n32\n00:01:16.830 --> 00:01:21.290\nShowed you the BitLocker management tool,\n\n33\n00:01:21.290 --> 00:01:24.870\nshowed you how to install that\nthrough MDOP, the admin tool.\n\n34\n00:01:24.870 --> 00:01:28.030\nWe also took a look at and\ntalked a little bit about just the dos and\n\n35\n00:01:28.030 --> 00:01:29.080\ndon'ts from group policy, right?\n\n36\n00:01:29.080 --> 00:01:32.770\nAnd talked about how to do all that and\nconfigure support for\n\n37\n00:01:32.770 --> 00:01:35.860\nBitLocker under different circumstances\nwith different operating systems.\n\n38\n00:01:35.860 --> 00:01:39.470\nSo I wanted to turn our attention\nto how we can use PowerShell.\n\n39\n00:01:39.470 --> 00:01:41.210\nThere are some cmdlets to be aware of.\n\n40\n00:01:41.210 --> 00:01:42.840\nWanted to talk about the managed BDE,\n\n41\n00:01:42.840 --> 00:01:47.170\nthe BitLocker Disk Encryption\ncommand line tool.\n\n42\n00:01:47.170 --> 00:01:48.160\nJust wanna make sure we know that,\n\n43\n00:01:48.160 --> 00:01:51.770\ncuz we need to be able to use\neither PowerShell or managed BDE.\n\n44\n00:01:51.770 --> 00:01:56.030\nBe able to implement Bitlocker support for\ncluster shared volumes for CSV support so.\n\n45\n00:01:56.030 --> 00:01:59.180\nI just want to make sure we're aware\nof the tools and what we can do there.\n\n46\n00:01:59.180 --> 00:02:03.148\nI did show you the MBAM tool, but I forgot\nto show you the cmdlet reference for\n\n47\n00:02:03.148 --> 00:02:04.330\nthe cmdlets for MBAM.\n\n48\n00:02:04.330 --> 00:02:07.440\nWe showed you the interactive\nGUI environment, but\n\n49\n00:02:07.440 --> 00:02:09.810\nthere's a set of cmdlets\nyou can reference as well.\n\n50\n00:02:09.810 --> 00:02:12.420\nSo I just wanted to show\nyou all those things and\n\n51\n00:02:12.420 --> 00:02:14.420\nmake sure we are familiar with them.\n\n52\n00:02:14.420 --> 00:02:17.432\nAnd also a little added bonus,\nshow you how, for\n\n53\n00:02:17.432 --> 00:02:21.725\nnon-domain joined machines, we can\nactually still store our recovery keys.\n\n54\n00:02:21.725 --> 00:02:22.733\nWe can use OneDrive and\n\n55\n00:02:22.733 --> 00:02:25.635\nstore them in Microsoft secure\ndata centers in the cloud.\n\n56\n00:02:25.635 --> 00:02:26.520\nAnd then pull them down.\n\n57\n00:02:26.520 --> 00:02:28.035\nI've already logged into that environment,\n\n58\n00:02:28.035 --> 00:02:30.445\njust gonna show you what that looks\nlike in case you know, you never know.\n\n59\n00:02:30.445 --> 00:02:31.625\nNow, I want to go and take a look.\n\n60\n00:02:31.625 --> 00:02:33.830\nNow we can use the Active Directory.\n\n61\n00:02:33.830 --> 00:02:37.220\nAnd use the BitLocker\nrecovery password viewer.\n\n62\n00:02:37.220 --> 00:02:40.080\nRSAT is part of the RSAT\ntool kit with BitLocker.\n\n63\n00:02:40.080 --> 00:02:43.370\nTo log in essentially just go to EDDS,\nright-click on a computer account.\n\n64\n00:02:43.370 --> 00:02:44.860\nWe actually have a tab\nwhere we can find that.\n\n65\n00:02:44.860 --> 00:02:45.920\nYou've probably seen that.\n\n66\n00:02:45.920 --> 00:02:48.750\nAnd used that before-\n&gt;&gt; And I will tell you, man, alright.\n\n67\n00:02:48.750 --> 00:02:52.530\nI know you said it's part of\nthe growth server administration tools.\n\n68\n00:02:52.530 --> 00:02:53.240\nI'm banging my head.\n\n69\n00:02:53.240 --> 00:02:54.690\nI'm like, it's already a server.\n\n70\n00:02:54.690 --> 00:02:57.316\nI don't need to download RSAT,\nwhere is this?\n\n71\n00:02:57.316 --> 00:02:59.545\nJust to make sure you guys don't have\nto go though what I went through,\n\n72\n00:02:59.545 --> 00:03:01.450\nit's probably obvious to you,\nit wasn't to me.\n\n73\n00:03:01.450 --> 00:03:05.122\nEven though you've got Active Directory\ninstalled on your Domain Controller,\n\n74\n00:03:05.122 --> 00:03:07.128\nyou're not gonna see that option in there.\n\n75\n00:03:07.128 --> 00:03:10.712\nYou need to go back through\nServer Manager, add roles and\n\n76\n00:03:10.712 --> 00:03:15.414\nfeatures, and go to the, you have to\nget to the Remote Server Admin Tools,\n\n77\n00:03:15.414 --> 00:03:18.540\nexpand them out Feature Administration.\n\n78\n00:03:18.540 --> 00:03:21.880\nLook for BitLocker in there and you'll\nsee the BitLocker password viewer for\n\n79\n00:03:21.880 --> 00:03:23.930\nActive Directory and\nyou actually have to choose it.\n\n80\n00:03:23.930 --> 00:03:26.030\nSo it's not installed by default\non your domain controllers.\n\n81\n00:03:26.030 --> 00:03:28.060\nYou have to just go back and\nadd it as a feature.\n\n82\n00:03:28.060 --> 00:03:30.030\n&gt;&gt; And it's not installed\nbecause of security concerns,\n\n83\n00:03:30.030 --> 00:03:31.870\nwhich is the specific reason\nwe don't put it there.\n\n84\n00:03:31.870 --> 00:03:35.560\nIt's available but you've got to obviously\nknow, as Mike suggested, great advice.\n\n85\n00:03:35.560 --> 00:03:37.190\n&gt;&gt; Everything I was reading was saying,\ngo and\n\n86\n00:03:37.190 --> 00:03:39.160\ndownload it with remote\nserver admin tools.\n\n87\n00:03:39.160 --> 00:03:41.410\nAnd I was like, why in the heck\nwould I have to download something?\n\n88\n00:03:41.410 --> 00:03:42.760\nSo just go to your ad roles and features.\n\n89\n00:03:42.760 --> 00:03:46.650\n&gt;&gt; Just add it in, they may not have\ncouched the explanation the right way.\n\n90\n00:03:46.650 --> 00:03:48.030\n&gt;&gt; I probably did it wrong, who knows.\n\n91\n00:03:48.030 --> 00:03:51.380\n&gt;&gt; But it is an additional installable\nfeature, but it must be added.\n\n92\n00:03:51.380 --> 00:03:52.818\nIt is not gonna be there by default.\n\n93\n00:03:52.818 --> 00:03:56.390\nI'm not gonna demo that part, but just so\nyou know that you would install it.\n\n94\n00:03:56.390 --> 00:03:59.140\nAll right, so let's start with\nthe MBAM cmdlet reference.\n\n95\n00:03:59.140 --> 00:04:01.680\nI forgot to show this to you,\nso just join me here.\n\n96\n00:04:01.680 --> 00:04:05.880\nYou could just Google and find this, if\nyou're interested in using, remember MDOP,\n\n97\n00:04:05.880 --> 00:04:10.400\nMicrosoft desktop optimization packets,\nor MBAM, the Microsoft BitLocker and\n\n98\n00:04:10.400 --> 00:04:14.330\nmonitoring tool is a-okay, okey-dokey.\n\n99\n00:04:14.330 --> 00:04:17.780\nSo if you want to use that tool,\nand we demoed it for\n\n100\n00:04:17.780 --> 00:04:19.590\nyou at the end of the last episode.\n\n101\n00:04:19.590 --> 00:04:22.350\nActually, throughout two episodes\nwe showed it to you here and there.\n\n102\n00:04:22.350 --> 00:04:23.770\nThere's a cmdlet reference for\n\n103\n00:04:23.770 --> 00:04:26.640\nit if you want to go in and\ndo this from a command line.\n\n104\n00:04:26.640 --> 00:04:28.480\nYou can actually do this as well.\n\n105\n00:04:28.480 --> 00:04:31.788\nSo when you go through here\nyou can see the commands,\n\n106\n00:04:31.788 --> 00:04:34.810\nlet me see if I gotta scroll down,\nthere we go,\n\n107\n00:04:34.810 --> 00:04:37.690\nyou could see the commands just on\nthe screen, there's a bunch of them.\n\n108\n00:04:37.690 --> 00:04:42.550\nVery similar to what you would see in\nPower Show except the cmdlet is focused\n\n109\n00:04:42.550 --> 00:04:43.183\non MBAM.\n\n110\n00:04:43.183 --> 00:04:45.958\nMBAM exists in every command here\nas opposed to in PowerShell.\n\n111\n00:04:45.958 --> 00:04:50.360\nWhere it's gonna be things like AD\naccount or whatever it is specific or\n\n112\n00:04:50.360 --> 00:04:52.310\nenable BitLocker, things like that.\n\n113\n00:04:52.310 --> 00:04:53.020\nIt's a little bit different.\n\n114\n00:04:53.020 --> 00:04:54.830\nSo just make sure you're\nfamiliar with this.\n\n115\n00:04:54.830 --> 00:04:56.690\nBut if you wanna go ahead and\n\n116\n00:04:56.690 --> 00:04:59.630\nuse MBAM and you want to be able to do it\nfrom a command line, we do have a full\n\n117\n00:04:59.630 --> 00:05:03.040\nset of cmdlets that support it,\nso you could take a look at this.\n\n118\n00:05:03.040 --> 00:05:04.850\nSo just thought that\nwould be helpful to you.\n\n119\n00:05:04.850 --> 00:05:09.550\nSpeaking of PowerShell and using BitLocker\ndrive encryption tools to manage\n\n120\n00:05:09.550 --> 00:05:14.740\nBitLocker, and using PowerShell to be\nable to do that, along with Manage-bde.\n\n121\n00:05:14.740 --> 00:05:19.260\nIf you take a look here,\nyou will see we have the Manage-bde tool,\n\n122\n00:05:19.260 --> 00:05:22.220\nthis is the command line tool that's\nused to script BitLocker operations,\n\n123\n00:05:22.220 --> 00:05:27.070\nkind of an oldie been around for a bit,\nand we could certainly use this.\n\n124\n00:05:27.070 --> 00:05:30.380\nAnd I will show you the tool loaded\nin the command line in just a minute.\n\n125\n00:05:30.380 --> 00:05:33.090\nYou can read the help file or\ntake a look at it online.\n\n126\n00:05:33.090 --> 00:05:35.800\nYou can also use the BitLocker cmdlets for\n\n127\n00:05:35.800 --> 00:05:38.620\nWindows PowerShell just at\nthe lower part of this webpage.\n\n128\n00:05:38.620 --> 00:05:41.800\nHas them all here at\nBitLocker key protector.\n\n129\n00:05:41.800 --> 00:05:46.480\nGo in, back up the BitLocker keys,\ndisable it, re-enable it.\n\n130\n00:05:46.480 --> 00:05:48.000\nAll sorts of stuff.\n\n131\n00:05:48.000 --> 00:05:49.350\nNow I've talked about this.\n\n132\n00:05:49.350 --> 00:05:52.399\nAnd you should obviously take\na look at the PowerShell cmdlets,\n\n133\n00:05:52.399 --> 00:05:56.130\ngetting comfort level with them, right,\nbecause you may be asked about one or\n\n134\n00:05:56.130 --> 00:05:57.910\nmore of them on the exam.\n\n135\n00:05:57.910 --> 00:06:01.890\nAnd I've talked about this,\ntalked about PowerShell before.\n\n136\n00:06:01.890 --> 00:06:05.620\nLet me just go in here real quick,\nand let me show you what I mean.\n\n137\n00:06:05.620 --> 00:06:09.840\nSo in any machine that you're\ngonna run this on, right.\n\n138\n00:06:11.060 --> 00:06:14.246\nWhen you go in, and let's just open\nup PowerShell here real quick, so\n\n139\n00:06:14.246 --> 00:06:17.220\ngive me just a second to scroll down and\nget to PowerShell.\n\n140\n00:06:17.220 --> 00:06:19.620\nI had it open, but during one of\nthe demos we restarted the machine,\n\n141\n00:06:19.620 --> 00:06:23.190\nif you remember in the last episode,\nto show you how PowerShell actually works.\n\n142\n00:06:23.190 --> 00:06:25.030\nAnd as a result had to close Powershell.\n\n143\n00:06:25.030 --> 00:06:28.880\nSo we'll just come back down here,\ngo to Windows PowerShell right here.\n\n144\n00:06:28.880 --> 00:06:31.455\nJust open it up, so we'll open that up.\n\n145\n00:06:31.455 --> 00:06:35.698\nI had already modified as I do the console\nso that way it comes up with eighteen\n\n146\n00:06:35.698 --> 00:06:39.412\npoint Lucinda console font and\nit's big so you can see it, right,\n\n147\n00:06:39.412 --> 00:06:43.480\neven though Cherokee is not presenting\nwith me cuz she's blind as a bat.\n\n148\n00:06:43.480 --> 00:06:45.863\nThat's why I do it for\nher more than any other reason, but\n\n149\n00:06:45.863 --> 00:06:48.310\nstill want to make sure you\ncan see it as well, right.\n\n150\n00:06:48.310 --> 00:06:52.732\nBut we want to be familiar with the fact\nthat the get-help command is the command\n\n151\n00:06:52.732 --> 00:06:56.235\nthat we would type to then be able\nto see a cmdlet in PowerShell.\n\n152\n00:06:56.235 --> 00:07:00.250\nNow I've talked about this on other\nepisodes and I'll remind you of it here.\n\n153\n00:07:00.250 --> 00:07:04.170\nFirst time you run PowerShell, especially\nthe first time you run it out of the box,\n\n154\n00:07:04.170 --> 00:07:07.250\nyou wanna type get-help because\nyou want PowerShell to go out and\n\n155\n00:07:07.250 --> 00:07:10.610\nupdate itself from Microsoft download\nsite where all the latest help,\n\n156\n00:07:10.610 --> 00:07:12.529\nPowerShell compiled help files may be.\n\n157\n00:07:12.529 --> 00:07:15.219\nSo the first time you do this,\nyou're gonna get a prompt.\n\n158\n00:07:15.219 --> 00:07:17.426\nIt's gonna say, hey, do you wanna run and\n\n159\n00:07:17.426 --> 00:07:20.440\nupdate to essentially\ndownload the help files.\n\n160\n00:07:20.440 --> 00:07:21.760\nMake sure you click Yes, if you don't,\n\n161\n00:07:21.760 --> 00:07:24.150\nyou're not gonna get accurate\ninformation in PowerShell.\n\n162\n00:07:24.150 --> 00:07:27.550\nBecause PowerShell is probably outdated\nbecause it just may not have the most\n\n163\n00:07:27.550 --> 00:07:28.360\nrecent information.\n\n164\n00:07:28.360 --> 00:07:30.250\nSo if you see that prompt the first time,\n\n165\n00:07:30.250 --> 00:07:33.560\njust to remind you of that,\nright, it is important, right?\n\n166\n00:07:33.560 --> 00:07:36.157\nSo just be aware of that.\n\n167\n00:07:36.157 --> 00:07:39.845\nAnd you can do, enable PowerShell,\nright, cuz that's gonna get me very far.\n\n168\n00:07:39.845 --> 00:07:43.740\n&gt;&gt; [LAUGH]\n&gt;&gt; I gotta learn how to use the keyboard.\n\n169\n00:07:43.740 --> 00:07:46.472\nAll right, so\nI like the auto tab complete feature.\n\n170\n00:07:46.472 --> 00:07:48.305\nI've talked about this before as well.\n\n171\n00:07:48.305 --> 00:07:53.170\nIf I had the seeing eye in typing human\nfeature, I'd be in great shape here.\n\n172\n00:07:53.170 --> 00:07:56.278\nSo get help, Enable-BitLocker, for\ninstance, let's just say we choose one of\n\n173\n00:07:56.278 --> 00:07:58.454\nthose, PowerShell commandlets\noff that list, right?\n\n174\n00:07:58.454 --> 00:08:01.794\nEnable-BitLocker is a pretty good one\ncuz that's obviously one of the ones or\n\n175\n00:08:01.794 --> 00:08:03.372\ndisable that we may use often right?\n\n176\n00:08:03.372 --> 00:08:04.833\nSo if you wanna read up on that or\n\n177\n00:08:04.833 --> 00:08:07.662\nget help, I've talked about\nthis before as well, right?\n\n178\n00:08:07.662 --> 00:08:10.570\nWe could just do this,\nbut there are options,\n\n179\n00:08:10.570 --> 00:08:13.190\nright for the help that we could get here.\n\n180\n00:08:13.190 --> 00:08:16.187\nWe could do full,\nright functionality or full, right?\n\n181\n00:08:16.187 --> 00:08:19.178\nWe can see different\naspects of the help file.\n\n182\n00:08:19.178 --> 00:08:22.525\nWe can do examples.\n\n183\n00:08:22.525 --> 00:08:23.587\n&gt;&gt; Right.\n\n184\n00:08:23.587 --> 00:08:26.064\n&gt;&gt; So you could see I can get examples\nwhich will have script usage.\n\n185\n00:08:26.064 --> 00:08:28.300\nSo that just can be verbage and syntax.\n\n186\n00:08:28.300 --> 00:08:30.799\nSo I can do detailed.\n\n187\n00:08:34.303 --> 00:08:36.558\nAssuming you spell it correctly,\nof course right?\n\n188\n00:08:36.558 --> 00:08:39.603\nAnd by the way, the reason I like autotab\nalso is if you don't spell a commandlet or\n\n189\n00:08:39.603 --> 00:08:40.618\na parameter the right way,\n\n190\n00:08:40.618 --> 00:08:43.246\nit doesn't autotab complete because\nit doesn't know what you want.\n\n191\n00:08:43.246 --> 00:08:45.348\nSo you can tell immediately if\nit's right or wrong, right?\n\n192\n00:08:45.348 --> 00:08:48.328\nSo, these are all the secrets we use\nbehind the scenes to make it look\n\n193\n00:08:48.328 --> 00:08:49.599\neffortless there, right?\n\n194\n00:08:49.599 --> 00:08:52.031\nAll right, so you can see these\ndifferent options for the help file.\n\n195\n00:08:52.031 --> 00:08:54.089\nMy point is,\nif you're gonna use PowerShell,\n\n196\n00:08:54.089 --> 00:08:55.897\nyou gotta get used to doing these things.\n\n197\n00:08:55.897 --> 00:08:58.595\nNow, could you go out online and\nlook this up?\n\n198\n00:08:58.595 --> 00:09:01.381\nAbsolutely, if you do Detailed,\njust hypothetically, right, and\n\n199\n00:09:01.381 --> 00:09:02.241\njust pull this down.\n\n200\n00:09:02.241 --> 00:09:04.842\nOne of the nice things about any of\nthe help files when you read them\n\n201\n00:09:04.842 --> 00:09:07.317\nin PowerShell, and\nyou can see it's a pretty extensive one.\n\n202\n00:09:07.317 --> 00:09:09.556\nIt came down a fair bit\nfrom the top where I was.\n\n203\n00:09:09.556 --> 00:09:11.607\nDetailed gives you a lot of information.\n\n204\n00:09:11.607 --> 00:09:14.942\nBut at the bottom here,\nyou could see that it does tell you,\n\n205\n00:09:14.942 --> 00:09:16.758\nif you wanna go online, right?\n\n206\n00:09:16.758 --> 00:09:19.863\nGet help Enable-BitLocker online is\nanother option, and it will take out,\n\n207\n00:09:19.863 --> 00:09:21.983\nassuming you're connected to the web,\nof course.\n\n208\n00:09:21.983 --> 00:09:26.070\nIt'll take out and show you the most up to\ndate information on the TechNet side or\n\n209\n00:09:26.070 --> 00:09:29.800\nthe PowerShell reference at MSDN\ndepending on what you're looking at.\n\n210\n00:09:29.800 --> 00:09:31.975\nAnd it will show you the most\nupdated information for\n\n211\n00:09:31.975 --> 00:09:33.714\nthe version of PowerShell that you have.\n\n212\n00:09:33.714 --> 00:09:37.421\nSo if I did this instead of detailed and\nI did online,\n\n213\n00:09:37.421 --> 00:09:40.213\nwhich is just another option, right?\n\n214\n00:09:40.213 --> 00:09:41.443\nOpens up the web browser.\n\n215\n00:09:41.443 --> 00:09:42.906\nAgain, assuming you're connected.\n\n216\n00:09:42.906 --> 00:09:44.467\nYou have to be connected, of course.\n\n217\n00:09:44.467 --> 00:09:45.374\nBut you could see,\n\n218\n00:09:45.374 --> 00:09:48.392\nI'm out in the PowerShell\nDeveloper Network Gallery on MSDN.\n\n219\n00:09:48.392 --> 00:09:53.394\nI see the most up to date information for,\nin this case, Enable-BitLocker, right?\n\n220\n00:09:53.394 --> 00:09:56.400\nAnd by the way, it's got all the other\ncommands for BitLocker right here,\n\n221\n00:09:56.400 --> 00:09:59.657\nwhich gives you an extra added bonus and\nkinda gives you everything in one place.\n\n222\n00:09:59.657 --> 00:10:02.144\nSo, it may be good for\nyou to go take a look.\n\n223\n00:10:02.144 --> 00:10:05.319\nI'm not suggesting you gotta read\nthe help file to pass the exam, but\n\n224\n00:10:05.319 --> 00:10:08.331\nI am telling you unequivocally,\nas you've heard me say before,\n\n225\n00:10:08.331 --> 00:10:12.089\nknowledge of PowerShell, and Mike spoke\nabout this in the last episode as well.\n\n226\n00:10:12.089 --> 00:10:15.316\n&gt;&gt; Mm-hm.\n&gt;&gt; Is an assumption that Microsoft is very\n\n227\n00:10:15.316 --> 00:10:18.160\neager to test for on exams these days.\n\n228\n00:10:18.160 --> 00:10:22.891\nAnd they will push hard on that assumption\nto validate that you meet the expectation\n\n229\n00:10:22.891 --> 00:10:23.780\nand criteria.\n\n230\n00:10:23.780 --> 00:10:26.319\nSo, without just coming right out and\nsaying, you better know it.\n\n231\n00:10:26.319 --> 00:10:27.492\nI'm kinda saying, you better know it.\n\n232\n00:10:27.492 --> 00:10:28.550\n&gt;&gt; You better know it.\n\n233\n00:10:28.550 --> 00:10:29.279\n&gt;&gt; Just so you know.\n\n234\n00:10:29.279 --> 00:10:30.237\n&gt;&gt; You get that question a lot.\n\n235\n00:10:30.237 --> 00:10:33.933\nI know you do, I know I do,\nand they typically don't make\n\n236\n00:10:33.933 --> 00:10:37.711\nyou type the command during the exam,\nalthough they can.\n\n237\n00:10:37.711 --> 00:10:38.509\n&gt;&gt; They can, certainly.\n\n238\n00:10:38.509 --> 00:10:42.828\n&gt;&gt; But what most likely you'll get is four\ncommands that are all gonna look very\n\n239\n00:10:42.828 --> 00:10:43.444\nsimilar.\n\n240\n00:10:43.444 --> 00:10:44.109\n&gt;&gt; And which is the right one?\n\n241\n00:10:44.109 --> 00:10:46.659\n&gt;&gt; And they wanna know which\nis the correct command to\n\n242\n00:10:46.659 --> 00:10:49.501\naccomplish a certain job\n&gt;&gt; So if you're not familiar with what\n\n243\n00:10:49.501 --> 00:10:52.465\nparameters are available with that\ncommand, what syntax you use,\n\n244\n00:10:52.465 --> 00:10:54.863\nyou'll have trouble getting\nthese questions right.\n\n245\n00:10:54.863 --> 00:10:57.607\nSo it definitely behooves you\nto at least try a few times.\n\n246\n00:10:57.607 --> 00:10:58.941\n&gt;&gt; Well,\nyou have a 25% chance of getting it right.\n\n247\n00:10:58.941 --> 00:11:00.651\n&gt;&gt; You do, you do.\n&gt;&gt; You always have an option.\n\n248\n00:11:00.651 --> 00:11:03.887\nI mean, guessing is a valid\ntest-taking methodology.\n\n249\n00:11:03.887 --> 00:11:06.955\n&gt;&gt; You can usually eliminate two of them\nbecause they'll have get and set and\n\n250\n00:11:06.955 --> 00:11:09.298\nthen the same commands, and\ndo you wanna write or read?\n\n251\n00:11:09.298 --> 00:11:10.804\nSo you can eliminate two, right?\n\n252\n00:11:10.804 --> 00:11:14.299\n&gt;&gt; You could but just keep in mind, it's\nexpensive to guess continuously if you\n\n253\n00:11:14.299 --> 00:11:17.335\ndon't make the right choice cuz\nthat could add up pretty quickly.\n\n254\n00:11:17.335 --> 00:11:19.348\nAlthough with second shot\nwith that exam if you try,\n\n255\n00:11:19.348 --> 00:11:21.099\nwhich is now pretty\nmuch becoming standard.\n\n256\n00:11:21.099 --> 00:11:23.360\nI mean, you don't wanna indicate\nthat it's always gonna be that way.\n\n257\n00:11:23.360 --> 00:11:26.214\nSomebody will see so you're from that,\nthose guys were lying.\n\n258\n00:11:26.214 --> 00:11:28.247\nBut for a while, running that, right?\n\n259\n00:11:28.247 --> 00:11:32.484\nCuz it used to be this hit and miss thing\nwhere [CROSSTALK] but lately, at least for\n\n260\n00:11:32.484 --> 00:11:35.916\nthe last year, year and a half,\nit's essentially just there.\n\n261\n00:11:35.916 --> 00:11:37.884\nYou could just, now that I've said\nthat of course, it's gonna be-\n\n262\n00:11:37.884 --> 00:11:38.477\n&gt;&gt; It'll be gone tomorrow.\n\n263\n00:11:38.477 --> 00:11:39.199\n&gt;&gt; Tomorrow it's gone.\n\n264\n00:11:39.199 --> 00:11:40.036\n&gt;&gt; Thanks, Adam.\n\n265\n00:11:40.036 --> 00:11:40.597\n&gt;&gt; We just announced it.\n\n266\n00:11:40.597 --> 00:11:42.967\nBrand new program,\nyou're now paying as you go.\n\n267\n00:11:42.967 --> 00:11:44.734\nBut Microsoft has made second shot or\n\n268\n00:11:44.734 --> 00:11:47.302\nwhat they used to call second\nshot just as an example.\n\n269\n00:11:47.302 --> 00:11:48.174\nWe try now.\n\n270\n00:11:48.174 --> 00:11:50.618\nYou essential get a two for\none when you buy the exam.\n\n271\n00:11:50.618 --> 00:11:52.324\nSo if you miss it the first time,\n\n272\n00:11:52.324 --> 00:11:56.197\nthey're giving you a retry without\ncharging you any additional money.\n\n273\n00:11:56.197 --> 00:11:58.111\nThey just doubled the price of the exam,\nbut\n\n274\n00:11:58.111 --> 00:12:00.143\nessentially you're\ngetting it the same way.\n\n275\n00:12:00.143 --> 00:12:00.919\nThey did not, by the way.\n\n276\n00:12:00.919 --> 00:12:02.812\nThey did not double the price of the exam.\n\n277\n00:12:02.812 --> 00:12:06.431\nIt's $165, at least right now,\nas we're putting this episode together.\n\n278\n00:12:06.431 --> 00:12:08.595\n$165, that hasn't changed.\n\n279\n00:12:08.595 --> 00:12:13.075\nThere was an increase about a year, year\nand a half ago from that $150 or so, but\n\n280\n00:12:13.075 --> 00:12:15.004\nthat's been stable for some time.\n\n281\n00:12:15.004 --> 00:12:17.599\nAnd that does include,\nat this point in time anyway,\n\n282\n00:12:17.599 --> 00:12:20.090\nlate in 2017 as we're\nputting this together.\n\n283\n00:12:20.090 --> 00:12:24.053\nIt has included for\nwell over a year now a free retry right?\n\n284\n00:12:24.053 --> 00:12:26.477\nSo just beware that's actually\na really nice feature.\n\n285\n00:12:26.477 --> 00:12:28.326\nCuz most other vendors don't do that.\n\n286\n00:12:28.326 --> 00:12:30.278\n&gt;&gt; No.\n&gt;&gt; Cisco doesn't do that.\n\n287\n00:12:30.278 --> 00:12:31.070\nVMware doesn't do that.\n\n288\n00:12:31.070 --> 00:12:32.138\nThey're happy to take your money.\n\n289\n00:12:32.138 --> 00:12:33.994\nI'm not saying that's a good or\na bad thing, but\n\n290\n00:12:33.994 --> 00:12:35.997\nyou got to pay as you go if\nyou fail one of those exams.\n\n291\n00:12:35.997 --> 00:12:37.485\nSo just be aware of that.\n\n292\n00:12:37.485 --> 00:12:38.797\nActually ComTier doesn't do that.\n\n293\n00:12:38.797 --> 00:12:42.861\nAlthough I've seen them offer things\nhere and there, but not consistently, so\n\n294\n00:12:42.861 --> 00:12:43.887\nthat is kinda nice.\n\n295\n00:12:43.887 --> 00:12:44.586\n&gt;&gt; That's fantastic.\n\n296\n00:12:44.586 --> 00:12:45.127\n&gt;&gt; Right, yeah.\n\n297\n00:12:45.127 --> 00:12:48.139\nAll right, so manage/bde,\nI mention this other tool,\n\n298\n00:12:48.139 --> 00:12:51.803\nthe command line tool to help us\nmanage BitLocker Drive Encryption.\n\n299\n00:12:51.803 --> 00:12:52.840\nYou could see it up on the screen.\n\n300\n00:12:52.840 --> 00:12:56.290\nI just loaded the executable,\nbrings up the help file for me.\n\n301\n00:12:56.290 --> 00:12:58.155\nAnd you can read up on this as well.\n\n302\n00:12:58.155 --> 00:13:01.201\nThis does the same thing as\nletting us go into the GUI.\n\n303\n00:13:01.201 --> 00:13:05.261\nDoing it from does the same thing as\nletting us do it from PowerShell, so.\n\n304\n00:13:05.261 --> 00:13:07.132\nMultiple different ways to set this up.\n\n305\n00:13:07.132 --> 00:13:10.764\nAnd remember, if we want to apply\nBitLocker to Cluster Shared Volumes,\n\n306\n00:13:10.764 --> 00:13:14.334\nI'm just gonna walk through the logic\nof how do that in the next couple of\n\n307\n00:13:14.334 --> 00:13:16.197\nminutes with you, using with CSVs.\n\n308\n00:13:16.197 --> 00:13:17.411\nMeaning typically,\n\n309\n00:13:17.411 --> 00:13:21.728\nstorage that is external to the host that\nmay be running information for us or\n\n310\n00:13:21.728 --> 00:13:26.120\nthat we're running through on a NAS,\na network-attached storage system.\n\n311\n00:13:26.120 --> 00:13:29.021\nOn a SANs,\nstorage-attached network system,\n\n312\n00:13:29.021 --> 00:13:32.630\non a Windows storage server cuz\nwe could have that product and\n\n313\n00:13:32.630 --> 00:13:36.891\nhave that capability in server 12 and\n12.2, and in server 16.\n\n314\n00:13:36.891 --> 00:13:41.180\nWe have Windows stored server separately\nfrom the general Windows server, and\n\n315\n00:13:41.180 --> 00:13:44.779\nwe can actually build a storage\ncluster using that if we choose to.\n\n316\n00:13:44.779 --> 00:13:48.598\nBut if we do those build out file servers\nin Cluster Shared Volumes, we have to at\n\n317\n00:13:48.598 --> 00:13:52.489\nleast think about, from a security\nperspective, how are we gonna secure that?\n\n318\n00:13:52.489 --> 00:13:55.464\nAnd enabling BitLocker on those volumes\nwould be a good way to do that.\n\n319\n00:13:55.464 --> 00:13:59.261\nBut we need to do it from the command\nline, using either PowerShell or\n\n320\n00:13:59.261 --> 00:14:00.119\nManage-bde.\n\n321\n00:14:00.119 --> 00:14:02.166\nSo I just wanna make sure\nwe're aware of this and\n\n322\n00:14:02.166 --> 00:14:03.707\nthat we have that thought process.\n\n323\n00:14:03.707 --> 00:14:10.149\nWe mentioned that we can store\nour recovery capabilities in AD.\n\n324\n00:14:10.149 --> 00:14:12.542\nWe talked about where we\ncould can find that tool and\n\n325\n00:14:12.542 --> 00:14:15.547\nenable that as a feature as we do\nthe install for the RSAT tools for\n\n326\n00:14:15.547 --> 00:14:17.904\nBitLocker Drive Encryption\npassword recovery.\n\n327\n00:14:17.904 --> 00:14:20.989\nSo you could then go in and right\nclick on the computer count as I said,\n\n328\n00:14:20.989 --> 00:14:23.026\nsee a tab and\nactually get access to it there.\n\n329\n00:14:23.026 --> 00:14:24.976\nMike told you the secret\nabout how to find that.\n\n330\n00:14:24.976 --> 00:14:25.749\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n331\n00:14:25.749 --> 00:14:29.222\nthere is an option as I mentioned that I\njust quickly wanted to show you as well.\n\n332\n00:14:29.222 --> 00:14:34.809\nWhich is if you are not domain joined but\nyou are a standalone and\n\n333\n00:14:34.809 --> 00:14:38.616\nyou wanna store your\nkeys in as you can see.\n\n334\n00:14:38.616 --> 00:14:40.130\nAnd I'm on one drive or\n\n335\n00:14:40.130 --> 00:14:44.932\nlogged into a Microsoft website to\nbe able to do this through OneDrive.\n\n336\n00:14:44.932 --> 00:14:47.090\nIf you're on a standalone machine\nyou can store these up in the cloud.\n\n337\n00:14:47.090 --> 00:14:49.697\nMicrosoft gives you this capability and\nyou can leverage it with OneDrive.\n\n338\n00:14:49.697 --> 00:14:53.801\nNow, I've logged in using my personal\naccount so you can see it up there, right?\n\n339\n00:14:53.801 --> 00:14:55.764\nThat's me bouncing a little\nsoccer ball on my head.\n\n340\n00:14:55.764 --> 00:14:56.322\n&gt;&gt; Nice.\n\n341\n00:14:56.322 --> 00:14:58.352\n&gt;&gt; And\nthat's what I do when I'm not doing shows.\n\n342\n00:14:58.352 --> 00:15:01.130\nI'm a little green guy and\nI kick soccer balls at the screen.\n\n343\n00:15:01.130 --> 00:15:03.419\nYou can see it's gonna come\nright now in two seconds, watch.\n\n344\n00:15:03.419 --> 00:15:04.622\n[SOUND]\n&gt;&gt; I see it between shows.\n\n345\n00:15:04.622 --> 00:15:05.364\n&gt;&gt; Exactly, yes.\n\n346\n00:15:05.364 --> 00:15:07.554\nAll right so you can see,\nI don't have any BitLocker accounts.\n\n347\n00:15:07.554 --> 00:15:09.944\nWe have a whole field right\nout on the back here behind.\n\n348\n00:15:09.944 --> 00:15:11.722\nYou think this is all server technology.\n\n349\n00:15:11.722 --> 00:15:13.628\nThis is actually like just a hollow shelf.\n\n350\n00:15:13.628 --> 00:15:15.538\nBehind it is a soccer practice\npitch right back there.\n\n351\n00:15:15.538 --> 00:15:17.235\n&gt;&gt; [LAUGH]\n&gt;&gt; That's where we go and\n\n352\n00:15:17.235 --> 00:15:19.284\nblow off steam when we're not shooting.\n\n353\n00:15:19.284 --> 00:15:21.112\n&gt;&gt; We keep our great physique.\n\n354\n00:15:21.112 --> 00:15:23.128\n&gt;&gt; Right, my girlish figure, exactly.\n\n355\n00:15:23.128 --> 00:15:24.733\n&gt;&gt; So, we don't have any BitLocker,\n\n356\n00:15:24.733 --> 00:15:27.421\nI don't have any BitLocker\nencryption keys as you can see.\n\n357\n00:15:27.421 --> 00:15:30.642\nBut if I had them,\nI would see them listed here.\n\n358\n00:15:30.642 --> 00:15:34.506\nSo you actually have a OneDrive option if\nyou wanna be able to put them up there.\n\n359\n00:15:34.506 --> 00:15:36.814\nAnd it's actually kind of neat, right?\n\n360\n00:15:36.814 --> 00:15:40.723\n&gt;&gt; That's a really nice option, cuz if\nyou're talking about a system that's not\n\n361\n00:15:40.723 --> 00:15:42.776\npart of a domain, where do I keep my keys?\n\n362\n00:15:42.776 --> 00:15:44.853\nI've either gotta print them out or\nput them on a thumb drive.\n\n363\n00:15:44.853 --> 00:15:47.245\nNow, I've gotta manage that.\n\n364\n00:15:47.245 --> 00:15:51.176\nWhat if I don't have that key, that thumb\ndrive with me or that printout with me?\n\n365\n00:15:51.176 --> 00:15:52.700\nIf I can put them up in OneDrive,\n\n366\n00:15:52.700 --> 00:15:56.039\nthat means I can access them from\nanywhere I've got internet access.\n\n367\n00:15:56.039 --> 00:15:57.505\nAnd they're in a safe location.\n\n368\n00:15:57.505 --> 00:16:00.088\nI know Microsoft's taking\ncare of those files up there.\n\n369\n00:16:00.088 --> 00:16:03.456\nIt's not like we're gonna lose a hard\ndrive or I'm gonna lose that key.\n\n370\n00:16:03.456 --> 00:16:07.953\nSo really nice option for non-domain\njoint computers in using BitLocker.\n\n371\n00:16:07.953 --> 00:16:08.961\n&gt;&gt; It is, and I just put the URL.\n\n372\n00:16:08.961 --> 00:16:11.576\nIt's in the show notes by the way,\nbut I put the URL up there for\n\n373\n00:16:11.576 --> 00:16:14.642\nyou cuz I went through the whole sign in\nprocess cuz if you go to that URL and\n\n374\n00:16:14.642 --> 00:16:16.472\nyou just get essentially a sign on screen.\n\n375\n00:16:16.472 --> 00:16:19.018\nAnd then you have to provide\nyour Microsoft account and\n\n376\n00:16:19.018 --> 00:16:20.410\nthen provide your password.\n\n377\n00:16:20.410 --> 00:16:21.696\nThen there's multi-factor authentication.\n\n378\n00:16:21.696 --> 00:16:25.220\nThen they challenge you and say,\nokay, we're gonna send you a code.\n\n379\n00:16:25.220 --> 00:16:28.110\nEither email or text,\nthen you gotta go get the code,\n\n380\n00:16:28.110 --> 00:16:30.884\nwhich I did all this while\nyou were getting back on.\n\n381\n00:16:30.884 --> 00:16:32.800\nRan out, got my phone, and got the code.\n\n382\n00:16:32.800 --> 00:16:34.780\nBut the code and\nthen you get in eventually to here.\n\n383\n00:16:34.780 --> 00:16:36.790\nBut yeah, it's like a multistep process.\n\n384\n00:16:36.790 --> 00:16:37.774\nSo just be aware of that.\n\n385\n00:16:37.774 --> 00:16:40.680\nWhen you go to that URL you're\njust gonna get a log on screen.\n\n386\n00:16:40.680 --> 00:16:43.118\nThat's all you have saying, hey,\nwho are you, if you start the process.\n\n387\n00:16:43.118 --> 00:16:45.176\nAbout four or five steps, not a big deal.\n\n388\n00:16:45.176 --> 00:16:48.342\nBut you could put them up there and then\nas you said, you can bring them down and\n\n389\n00:16:48.342 --> 00:16:49.280\nstore them securely.\n\n390\n00:16:49.280 --> 00:16:51.248\nSo it is really kinda nice\nto be able to do that.\n\n391\n00:16:51.248 --> 00:16:54.969\nSo you just wanna make sure that you're\naware of that cuz that is gonna be\n\n392\n00:16:54.969 --> 00:16:55.600\nvaluable.\n\n393\n00:16:55.600 --> 00:16:57.980\nIt could be a little helpful for\nus if we wanna do that.\n\n394\n00:16:57.980 --> 00:17:01.229\nAll right, so being able to set those up,\nstore them there,\n\n395\n00:17:01.229 --> 00:17:03.662\nput them where we may\nwant to reference them.\n\n396\n00:17:03.662 --> 00:17:05.644\nWhat about turning on BitLocker and\n\n397\n00:17:05.644 --> 00:17:08.890\nsetting it up with\nCluster Shared Volumes as I mentioned?\n\n398\n00:17:08.890 --> 00:17:09.799\nIf you take a look here,\n\n399\n00:17:09.799 --> 00:17:11.990\nthe steps involved are a little\nbit finicky in the sense.\n\n400\n00:17:11.990 --> 00:17:13.194\nYou just gotta go through them in order.\n\n401\n00:17:13.194 --> 00:17:15.060\nI thought it was easier\nto show them to you and\n\n402\n00:17:15.060 --> 00:17:18.244\ntalk about them than it was to narrate\nthem without you being able to see it.\n\n403\n00:17:18.244 --> 00:17:20.510\nSo, I just put up my section of the notes.\n\n404\n00:17:20.510 --> 00:17:22.360\nYou have access to the show notes.\n\n405\n00:17:22.360 --> 00:17:23.590\nIt just talks about how to do this, right?\n\n406\n00:17:23.590 --> 00:17:25.204\nTurning on BitLocker,\n\n407\n00:17:25.204 --> 00:17:30.139\nwe recommend you turn it on before\nyou setup the Cluster Shared Volumes.\n\n408\n00:17:30.139 --> 00:17:32.000\nIn other words,\nget this all up and running.\n\n409\n00:17:32.000 --> 00:17:33.756\nRight?\nMake sure you have it all enabled.\n\n410\n00:17:33.756 --> 00:17:36.689\nSet it all up as you could see there.\n\n411\n00:17:36.689 --> 00:17:38.726\nRight?\nSo walking through the process here,\n\n412\n00:17:38.726 --> 00:17:42.262\nhow do we add it to the cluster storage\npool before we add the disk into\n\n413\n00:17:42.262 --> 00:17:45.130\nthe cluster,\nturn Bitlocker on is what we recommend.\n\n414\n00:17:45.130 --> 00:17:46.377\nYou can do it later after the fact.\n\n415\n00:17:46.377 --> 00:17:49.479\nIt's not that you can't do it, but that\nyou have to unmount it from the cluster\n\n416\n00:17:49.479 --> 00:17:51.690\nand then essentially,\njust go into maintenance mode.\n\n417\n00:17:51.690 --> 00:17:53.290\nTake that down.\n\n418\n00:17:53.290 --> 00:17:56.775\nEnable it because the encryption has to be\napplied, then it has to be reenabled for\n\n419\n00:17:56.775 --> 00:17:57.544\nyou to access it.\n\n420\n00:17:57.544 --> 00:18:01.254\nSo there's downtime involved if you do\nthat, whereas, if you do it beforehand and\n\n421\n00:18:01.254 --> 00:18:04.752\nit comes into the cluster, already\nencrypted, it just becomes available and\n\n422\n00:18:04.752 --> 00:18:08.000\nit gets added into the pool and\nit's up and running right out of the gate.\n\n423\n00:18:08.000 --> 00:18:09.427\nSo it's a question of how you\nchoose to do that, it's up to you.\n\n424\n00:18:09.427 --> 00:18:13.497\nBut as a best practice recommendation,\nwe recommend you do it prior to adding\n\n425\n00:18:13.497 --> 00:18:18.270\nit into the existing cluster, so it comes\nup and is essentially ready to go, right?\n\n426\n00:18:18.270 --> 00:18:21.342\nObviously, if you're not worried about\nmanning that storage right away,\n\n427\n00:18:21.342 --> 00:18:24.558\nyou just want to have it available, but\nnobody's actively using the cluster,\n\n428\n00:18:24.558 --> 00:18:27.246\nyou can put it all up and encrypt at\none time just by going through and\n\n429\n00:18:27.246 --> 00:18:29.934\ndoing the whole thing before you\nstand it up and make it available.\n\n430\n00:18:29.934 --> 00:18:30.986\nIt's up to you to decide.\n\n431\n00:18:30.986 --> 00:18:34.980\nBut install the BitLocker Drive Encryption\nfeature, if not already installed.\n\n432\n00:18:34.980 --> 00:18:37.874\nI did talk about the fact,\nin our first episode,\n\n433\n00:18:37.874 --> 00:18:42.900\nas we were spinning up around BitLocker,\nNTFS for EFS, NTFS for BitLocker as well.\n\n434\n00:18:42.900 --> 00:18:44.930\nSo just make sure you're aware of that.\n\n435\n00:18:44.930 --> 00:18:47.618\nHas to have a drive letter assigned to it,\nwhich is stupid to say cuz\n\n436\n00:18:47.618 --> 00:18:50.076\nyou can't create a volume\nwithout a drive letter assigned.\n\n437\n00:18:50.076 --> 00:18:51.128\nBut you just gotta know.\n\n438\n00:18:51.128 --> 00:18:52.450\nIt's gotta have a drive\nletter assigned to it, right?\n\n439\n00:18:52.450 --> 00:18:54.089\nSo just make sure you're aware of that.\n\n440\n00:18:55.215 --> 00:18:58.352\nEnable-BitLocker on the volume of choice,\nwhatever we're gonna do.\n\n441\n00:18:58.352 --> 00:19:02.440\nThis PowerShell command, we talked about\nenabled BitLocker, I showed you that.\n\n442\n00:19:02.440 --> 00:19:06.105\nYou would specify the drive letter, hence,\nthe recent need the drive letter, right?\n\n443\n00:19:06.105 --> 00:19:10.339\nPasswordProtector, I'm gonna use password\nprotection, that's the parameter for\n\n444\n00:19:10.339 --> 00:19:13.265\npassword, the protector that\nI'm specifying this case.\n\n445\n00:19:13.265 --> 00:19:15.880\nPasswordProtector and\nthen I'm specifying whatever the password.\n\n446\n00:19:15.880 --> 00:19:18.550\nIn this case,\nI have a variable four password.\n\n447\n00:19:18.550 --> 00:19:20.628\nSo we'll be passing it through and\nusing whatever that would be.\n\n448\n00:19:20.628 --> 00:19:25.260\nWe'll be providing it without exposing it\ndirectly in the script to show it to you.\n\n449\n00:19:25.260 --> 00:19:26.942\nIf you know anything about PowerShell and\nhow it works and\n\n450\n00:19:26.942 --> 00:19:27.790\nif you don't, no big deal.\n\n451\n00:19:27.790 --> 00:19:31.502\nThat's why you listen to us and while\nlearn about how these things work, but\n\n452\n00:19:31.502 --> 00:19:35.388\nif you know a little bit about PowerShell,\nyou know that if we put passwords into\n\n453\n00:19:35.388 --> 00:19:38.700\nthe script in the clear,\nthey're shown in the clear, right?\n\n454\n00:19:38.700 --> 00:19:40.431\nSo we tend to put them into a variable and\n\n455\n00:19:40.431 --> 00:19:43.956\nuse the placeholder of a variable to\nprovide the password without exposing it.\n\n456\n00:19:43.956 --> 00:19:46.505\nSo that's just what we're doing there.\n\n457\n00:19:46.505 --> 00:19:48.555\nIdentify the name of the cluster\nby using Windows PowerShell.\n\n458\n00:19:48.555 --> 00:19:52.005\nGet-Cluster would let us find\nout what the cluster name is.\n\n459\n00:19:52.005 --> 00:19:52.988\nWe could then target it.\n\n460\n00:19:52.988 --> 00:19:55.155\nIt would be whatever you've called it.\n\n461\n00:19:55.155 --> 00:19:56.398\nBut just you wanna know what that is,\nright?\n\n462\n00:19:56.398 --> 00:20:00.912\nAnd then we could add the AD account or\nas you can see here,\n\n463\n00:20:00.912 --> 00:20:06.572\nADAccountOrGroup protector,\nwhich is another protector we can use.\n\n464\n00:20:06.572 --> 00:20:09.282\nThank you very much.\nWe could see that there as well.\n\n465\n00:20:09.282 --> 00:20:10.262\nWe can go ahead and use this.\n\n466\n00:20:10.262 --> 00:20:14.423\nWe need the cluster name object so the CNO\nis what we get out of the Get-Cluster\n\n467\n00:20:14.423 --> 00:20:17.122\ncommand that it tells us\nwhat the cluster name is.\n\n468\n00:20:17.122 --> 00:20:17.856\nThat's what we call it.\n\n469\n00:20:17.856 --> 00:20:18.751\nCluster.\n\n470\n00:20:18.751 --> 00:20:19.430\n[COUGH] Excuse me.\n\n471\n00:20:19.430 --> 00:20:23.710\nThe cluster name object,\nas I am going dry while I'm talking here.\n\n472\n00:20:23.710 --> 00:20:27.170\nIt's a parched,\nparched afternoon here at ITProTV.\n\n473\n00:20:27.170 --> 00:20:30.918\nSo for BitLocker enabled volume we\ncould set that up as we talked about\n\n474\n00:20:30.918 --> 00:20:35.380\nAdd-BitLockerProtected, target the drive,\nin this case drive letter E.\n\n475\n00:20:35.380 --> 00:20:39.541\nADAccountOrGroupProtector, AD or\nADAccountGroup, ADAccountOrGroup,\n\n476\n00:20:39.541 --> 00:20:40.183\nexcuse me.\n\n477\n00:20:40.183 --> 00:20:42.927\n&gt;&gt; [LAUGH]\n&gt;&gt; And then the name of the cluster.\n\n478\n00:20:42.927 --> 00:20:44.932\nAnd we just do this for each,\n\n479\n00:20:44.932 --> 00:20:49.940\niteratively as you could see as I\nstay there, say there in step six.\n\n480\n00:20:49.940 --> 00:20:50.496\nTripping over my tongue.\n\n481\n00:20:50.496 --> 00:20:52.457\nRepeat steps interively\none through five for\n\n482\n00:20:52.457 --> 00:20:54.270\nevery disk we're adding to the cluster.\n\n483\n00:20:54.270 --> 00:20:57.900\nAll right, and then the volumes get\nadded after we are able to do that.\n\n484\n00:20:57.900 --> 00:20:59.301\nSo by enabling this, right?\n\n485\n00:20:59.301 --> 00:21:01.534\nWe're able to go through set this up and\n\n486\n00:21:01.534 --> 00:21:06.290\nby doing this we're able to essentially\nbring a Cluster Shared Volume online.\n\n487\n00:21:06.290 --> 00:21:09.860\nBeing able to, as a result,\nadd this protections capability.\n\n488\n00:21:09.860 --> 00:21:14.150\nRemember, Cluster Shared Volumes,\nwe used to call them storage pools.\n\n489\n00:21:14.150 --> 00:21:16.990\nEssentially, it's just a big\nhuge amount of storage, right?\n\n490\n00:21:16.990 --> 00:21:20.850\nOne or more systems that are feeding us\nthrough drives, physical back end drives,\n\n491\n00:21:20.850 --> 00:21:23.940\nand then LANs that are logically\nrepresenting the storage\n\n492\n00:21:23.940 --> 00:21:26.971\npresenting it to us,\nare feeding our ability to run, probably,\n\n493\n00:21:26.971 --> 00:21:30.680\nvirtualized in cloud environments,\nmore often than not today, right?\n\n494\n00:21:30.680 --> 00:21:34.192\nAnd so ISPs, internet service providers,\nwill be doing this.\n\n495\n00:21:34.192 --> 00:21:37.533\nAnybody, any organization that does\nprivate cloud on prem would do this\n\n496\n00:21:37.533 --> 00:21:40.108\nbecause you would have typically\nthese large forums and\n\n497\n00:21:40.108 --> 00:21:41.766\nyou're gonna need to enable them.\n\n498\n00:21:41.766 --> 00:21:46.364\nAnd so, using that storage without\nthe value added protection,\n\n499\n00:21:46.364 --> 00:21:49.467\na BitLocker is not\nnecessarily a bad thing.\n\n500\n00:21:49.467 --> 00:21:52.636\nIt depends on where that storage is and\nwho is protecting it, and\n\n501\n00:21:52.636 --> 00:21:53.880\nthe variables, right?\n\n502\n00:21:53.880 --> 00:21:56.695\nBecause if it's private on prem,\nessentially,\n\n503\n00:21:56.695 --> 00:22:00.315\nIT sponsored cloud in the organization\nyou're in data center,\n\n504\n00:22:00.315 --> 00:22:04.807\nyou may not feel the need or have the\nrequirement to enable encrypted protection\n\n505\n00:22:04.807 --> 00:22:09.054\nof those volumes by using BitLocker or\nsome other third party encryption.\n\n506\n00:22:09.054 --> 00:22:10.838\nIt doesn't have to be BitLocker, but\n\n507\n00:22:10.838 --> 00:22:13.930\nwhatever you use there are many\nways to encrypt that volume.\n\n508\n00:22:13.930 --> 00:22:16.150\nDoesn't necessarily have to\nbe what Microsoft provides.\n\n509\n00:22:16.150 --> 00:22:18.804\nRemember, it's built in to the OS,\nso obviously it's seamless and\n\n510\n00:22:18.804 --> 00:22:20.590\nmakes it a lot easier for us, right?\n\n511\n00:22:20.590 --> 00:22:22.960\nBut the goal would be\nto protect that data.\n\n512\n00:22:22.960 --> 00:22:27.294\nEncryption, we traditionally say is the\nmost valuable counter-measure or control\n\n513\n00:22:27.294 --> 00:22:32.270\nwith regards providing that protection,\nproviding that confidentiality.\n\n514\n00:22:32.270 --> 00:22:35.900\nPotentially the ability to safeguard that\ndata for a variety of reasons, right?\n\n515\n00:22:35.900 --> 00:22:38.849\nBut if it's something you\nfeel is just not appropriate,\n\n516\n00:22:38.849 --> 00:22:40.780\nnobody says you have to do it.\n\n517\n00:22:40.780 --> 00:22:42.604\nBut we want you to know you can do it,\nnumber one.\n\n518\n00:22:42.604 --> 00:22:45.480\nWe want you to be aware of the way in\nwhich you would do it, number two.\n\n519\n00:22:45.480 --> 00:22:48.129\nYou may get asked about it, so\nyou just wanna be familiar with that.\n\n520\n00:22:48.129 --> 00:22:52.728\nAnd also, making sure that you\nknow that when we have an option,\n\n521\n00:22:52.728 --> 00:22:58.620\nif from a security perspective, we're\nthinking, hey, is this a good way to go?\n\n522\n00:22:58.620 --> 00:23:00.340\nWe talked about this,\nweighing the pros and cons, right?\n\n523\n00:23:00.340 --> 00:23:03.060\nIs there a value add to doing this?\n\n524\n00:23:03.060 --> 00:23:07.090\nWell, there may be statutory or regulatory\nissue, meaning there may be a law or\n\n525\n00:23:07.090 --> 00:23:11.500\na standard you have to essentially provide\ncompliance with or prove compliance with.\n\n526\n00:23:11.500 --> 00:23:13.445\nWe talked about the concepts\nof due care and\n\n527\n00:23:13.445 --> 00:23:16.020\ndue diligence a lot when\nwe talk about security.\n\n528\n00:23:16.020 --> 00:23:19.480\nActing in a way that makes you,\nas the administrator of record,\n\n529\n00:23:19.480 --> 00:23:24.030\nappear to be falling into line and showing\ncompliance with whatever regulations and\n\n530\n00:23:24.030 --> 00:23:25.069\nstandards exist.\n\n531\n00:23:25.069 --> 00:23:26.557\nAnd enforcing activities and\n\n532\n00:23:26.557 --> 00:23:30.547\nenforcing standards in the organization\nthrough policy-based management,\n\n533\n00:23:30.547 --> 00:23:33.950\ntraditionally, that make all your\nusers act the same way, right?\n\n534\n00:23:33.950 --> 00:23:35.205\nThis is really what we think of.\n\n535\n00:23:35.205 --> 00:23:37.420\nWe should have good oversight, right?\n\n536\n00:23:37.420 --> 00:23:39.958\nDue care and due diligence,\nall that acting properly,\n\n537\n00:23:39.958 --> 00:23:43.040\nan oversight of that action to\nensure we're doing the right thing.\n\n538\n00:23:43.040 --> 00:23:46.199\nDue diligence is oversight,\ndue care is how we act.\n\n539\n00:23:46.199 --> 00:23:50.210\nAnd so we wanna make sure we're thinking\nabout these things because it is very\n\n540\n00:23:50.210 --> 00:23:54.791\nimportant for us to understand the impact\nof decisions we make, right, essentially.\n\n541\n00:23:54.791 --> 00:23:56.588\nAnd if we're not making\nthe right decisions,\n\n542\n00:23:56.588 --> 00:23:59.732\nAnd we're not thinking about the right\nthings, well, we may run into an issue.\n\n543\n00:23:59.732 --> 00:24:03.651\nWe may not necessarily make the right\ndecisions, or make decisions, but not for\n\n544\n00:24:03.651 --> 00:24:04.640\nthe right reasons.\n\n545\n00:24:04.640 --> 00:24:06.460\nSo just wanna make sure\nwe're aware of that.\n\n546\n00:24:07.700 --> 00:24:08.595\nLet me just scroll down.\n\n547\n00:24:08.595 --> 00:24:13.069\nJust give me one second, and let me\njust show you some other considerations\n\n548\n00:24:13.069 --> 00:24:17.258\nthat you wanna take into account with\nregards to setting up a BitLock or\n\n549\n00:24:17.258 --> 00:24:18.972\non Cluster Shared Volumes.\n\n550\n00:24:18.972 --> 00:24:22.019\nI have some bullet points in the notes,\njust take a look with me here,\n\n551\n00:24:22.019 --> 00:24:24.827\njust quickly hit the highlights and\nrun through them with you.\n\n552\n00:24:24.827 --> 00:24:28.090\nI talked about the fact you should\ninitialize BitLocker before we\n\n553\n00:24:28.090 --> 00:24:31.173\nadd the volumes into\nthe Cluster Shared Volumes solution, so\n\n554\n00:24:31.173 --> 00:24:32.611\njust reminding you of that.\n\n555\n00:24:32.611 --> 00:24:36.063\nIf we need to decrypt a CSV volume,\nwe have to take it out of the cluster, so\n\n556\n00:24:36.063 --> 00:24:38.682\nwe have to remove it,\nput it into maintenance mode, and\n\n557\n00:24:38.682 --> 00:24:41.734\nadd it back in while we're waiting for\ndecryption to complete.\n\n558\n00:24:41.734 --> 00:24:45.067\nSo take it down, start the decryption\nprocess, put it back in.\n\n559\n00:24:45.067 --> 00:24:47.254\nSo there's a little bit of work involved,\njust got to know that.\n\n560\n00:24:47.254 --> 00:24:49.641\nIf we need to start encrypting\na volume again, remove it,\n\n561\n00:24:49.641 --> 00:24:50.920\nput it into maintenance mode.\n\n562\n00:24:50.920 --> 00:24:53.753\nAny time we add or remove encryption\nthe drive has to removed, or\n\n563\n00:24:53.753 --> 00:24:57.163\nthe volume has to be removed, taken out,\nthe activity has to be started, and\n\n564\n00:24:57.163 --> 00:24:58.335\nthen has to be put back in.\n\n565\n00:24:58.335 --> 00:25:01.276\nSo there is gonna be a period of time\nwhere we're not gonna be able to\n\n566\n00:25:01.276 --> 00:25:03.180\naccess information as we're doing this.\n\n567\n00:25:03.180 --> 00:25:05.980\nSo you've gotta think about that, and\nthat's what I was hinting at, and talking\n\n568\n00:25:05.980 --> 00:25:09.410\nabout when I said may or may not be such a\ngood thing depending on what you're doing.\n\n569\n00:25:09.410 --> 00:25:12.539\nWhereas when you do this in\na hosted cloud environment right,\n\n570\n00:25:12.539 --> 00:25:16.688\nwe said private on prem-cloud, like we\nown the datacenter, it's us, you may or\n\n571\n00:25:16.688 --> 00:25:17.909\nmay not have this need.\n\n572\n00:25:17.909 --> 00:25:21.784\nBut if you're doing this let's\nsay hypothetically with Amazon,\n\n573\n00:25:21.784 --> 00:25:26.764\nthe AWS Fabric, or Microsoft Azure Fabric\nor whatever you're doing in a hosted third\n\n574\n00:25:26.764 --> 00:25:31.470\nparty environment with private cloud,\nbut private hosted cloud off-prem, or\n\n575\n00:25:31.470 --> 00:25:35.826\neven a hybrid where you have both on and\noff-prem scenarios, you may not,\n\n576\n00:25:35.826 --> 00:25:40.530\nnecessarily, I mean you typically still\nhave a choice, but the provider is most\n\n577\n00:25:40.530 --> 00:25:45.600\nlikely gonna politely encourage you to\nuse encryption, let's put it that way.\n\n578\n00:25:45.600 --> 00:25:49.352\nIt's getting less and less likely that\nyou can operate without encryption,\n\n579\n00:25:49.352 --> 00:25:52.249\non these volumes, at some level,\nin some configuration.\n\n580\n00:25:52.249 --> 00:25:55.699\nProviders have learned the hard way,\nwithout encryption, they're opening\n\n581\n00:25:55.699 --> 00:25:59.253\nthemselves in a multi-tenant hosting\nenvironment up to potential liability,\n\n582\n00:25:59.253 --> 00:26:02.442\nbecause if one tenant makes a bad choice\nthey may expose their own data and\n\n583\n00:26:02.442 --> 00:26:04.584\npotentially bleed over into other tenants,\nand\n\n584\n00:26:04.584 --> 00:26:06.696\nthis can become a very\nsignificant challenge.\n\n585\n00:26:06.696 --> 00:26:10.162\nSo really the standard rule of thumb is\nthat we should apply encryption to all of\n\n586\n00:26:10.162 --> 00:26:11.737\nthese instances, and as a result,\n\n587\n00:26:11.737 --> 00:26:14.273\nproviders are moving in that\ndirection more, and more.\n\n588\n00:26:14.273 --> 00:26:16.240\nSo just be aware of that and\nthink about that.\n\n589\n00:26:16.240 --> 00:26:21.060\nBut keep that in mind, and as a result,\njust a lot of these things\n\n590\n00:26:21.060 --> 00:26:25.920\nwhere we speak to the fact that volumes\nhave to be moved in and out of the cluster\n\n591\n00:26:25.920 --> 00:26:29.700\nas we're taking activities to both\nencrypt and decrypt into consideration,\n\n592\n00:26:29.700 --> 00:26:31.940\nand there may be a period of\nIn accessibility or downtime.\n\n593\n00:26:31.940 --> 00:26:36.108\nSo, just wanted you to be aware of that\nkind of thing through the logic of that as\n\n594\n00:26:36.108 --> 00:26:39.707\nwe are deciding whether or\nnot we want to add these solutions in, and\n\n595\n00:26:39.707 --> 00:26:43.015\nas a result enable this on\na Custer Shared Volume of some kind.\n\n596\n00:26:43.015 --> 00:26:47.331\nSo just wanna make sure you think about\nthe logic whether it makes sense or\n\n597\n00:26:47.331 --> 00:26:50.108\nnot I suppose,\nis a good way to think about it.\n\n598\n00:26:50.108 --> 00:26:53.636\n&gt;&gt; All right Adam great stuff there\nwe get to talk about, some of the,\n\n599\n00:26:53.636 --> 00:26:56.545\nkind of round off our conversation EFS and\nBitLocker.\n\n600\n00:26:56.545 --> 00:27:00.371\nLook at some of the other options for\nmanaging these like,\n\n601\n00:27:00.371 --> 00:27:04.434\nusing Powershell, using Manage-bde for\nthe command line,\n\n602\n00:27:04.434 --> 00:27:08.748\nworking with Emband, Microsoft,\nBitLocker administration.\n\n603\n00:27:08.748 --> 00:27:13.894\nUsing OneDrive to store our keys in\nif we're not in a domain environment,\n\n604\n00:27:13.894 --> 00:27:18.293\nas well as how to apply BitLocker\nto a Clustered Shared Volume.\n\n605\n00:27:18.293 --> 00:27:20.286\nSo great stuff there,\nwe thank you for that.\n\n606\n00:27:20.286 --> 00:27:24.820\nWe thank you for all the episodes we've\nhad, dealing with file encryption, and\n\n607\n00:27:24.820 --> 00:27:25.560\nBitLocker.\n\n608\n00:27:25.560 --> 00:27:29.688\nHope everybody out there enjoyed these\nas well, signing off for ITProTV,\n\n609\n00:27:29.688 --> 00:27:31.333\nI'm your host Mike Rodrick.\n\n610\n00:27:31.333 --> 00:27:32.280\n&gt;&gt; I'm Adam Gordon.\n\n611\n00:27:32.280 --> 00:27:33.180\n&gt;&gt; And we'll see you next time.\n\n612\n00:27:38.145 --> 00:27:41.165\n[MUSIC]\n\n613\n00:27:41.165 --> 00:27:43.791\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "236801396"
        }
      ],
      "title": "Configuring Disk and File Encryption"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Cherokee and Adam introduce File Server Resource Manager (FSRM). Adam shows how it can be installed in the GUI as well as with PowerShell. He also demonstrates how to configure components to  implement classification and automation of management tasks.",
          "length": "1820",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-1-implement_fsrm_and_dac-091917-PGM.00_00_11_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-1-implement_fsrm_and_dac-091917-PGM.00_00_11_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-1-implement_fsrm_and_dac-091917-PGM.00_00_11_21.Still001-sm.jpg",
          "title": "Implement FSRM and DAC",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.484\nWelcome to ITProTV.\n\n2\n00:00:01.484 --> 00:00:03.398\nI'm your host, Don Pezet.\n\n3\n00:00:03.398 --> 00:00:06.269\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.269 --> 00:00:08.212\n[MUSIC]\n\n5\n00:00:08.212 --> 00:00:10.213\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:10.213 --> 00:00:15.330\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 Series.\n\n7\n00:00:15.330 --> 00:00:17.310\nI'm show your host, Cherokee Boose.\n\n8\n00:00:17.310 --> 00:00:21.798\nIn this episode we'll be taking a look\nat how to implement FSRM and DAC.\n\n9\n00:00:21.798 --> 00:00:25.893\nBut I don't know if we'll have time to get\nto everything, so let's have Microsoft\n\n10\n00:00:25.893 --> 00:00:29.660\nexpert Mr Adam Gordon really define\nwhat we'll be looking at in this show.\n\n11\n00:00:29.660 --> 00:00:33.210\nHow's it going, Adam, super.\n\n12\n00:00:33.210 --> 00:00:36.479\n&gt;&gt; I'm defining things quickly so we can\nget to everything we need to get to.\n\n13\n00:00:36.479 --> 00:00:37.990\n&gt;&gt; [LAUGH] Well,\nthese are big topics, right?\n\n14\n00:00:37.990 --> 00:00:38.730\n&gt;&gt; They are, they are,\n\n15\n00:00:38.730 --> 00:00:43.170\nthere's a lot to talk about as you so\nsuccinctly told everybody.\n\n16\n00:00:43.170 --> 00:00:46.810\nThere is a lot to talk about and we\nare gonna jump in, and start typing FSRM.\n\n17\n00:00:46.810 --> 00:00:51.049\nAnd we're gonna jump in there because we\nhave to really talk about FSRM first in\n\n18\n00:00:51.049 --> 00:00:54.280\norder to better understand DAC,\nDynamic Access Control.\n\n19\n00:00:54.280 --> 00:00:57.220\nWe will be doing both and\nI need to mention both acronyms.\n\n20\n00:00:57.220 --> 00:00:59.990\nWe have them in our what we call lower\nthird, I should do it down here.\n\n21\n00:00:59.990 --> 00:01:02.039\nLower third, what is it,\nlower third right there.\n\n22\n00:01:02.039 --> 00:01:03.055\n&gt;&gt; [LAUGH]\n&gt;&gt; Wouldn't it be great if I\n\n23\n00:01:03.055 --> 00:01:03.768\ndid that-\n&gt;&gt; It popped up?\n\n24\n00:01:03.768 --> 00:01:06.020\n&gt;&gt; And it actually showed up while I\nwas doing that, that would be cool.\n\n25\n00:01:06.020 --> 00:01:08.990\nThen that could be right on top of it,\nand I'd be a giant.\n\n26\n00:01:08.990 --> 00:01:10.219\n&gt;&gt; [CROSSTALK]\n&gt;&gt; There you go, right there.\n\n27\n00:01:10.219 --> 00:01:12.811\nSo we're gonna talk about both FSRM,\n\n28\n00:01:12.811 --> 00:01:17.684\nthe File Server Resource Manager,\nand DAC, Dynamic Access Control.\n\n29\n00:01:17.684 --> 00:01:22.172\nBut we're gonna start with FSRM number\none, because we have it in the list first,\n\n30\n00:01:22.172 --> 00:01:24.200\nso we have to do it in that order.\n\n31\n00:01:24.200 --> 00:01:26.730\nActually more importantly,\nas I was just suggesting,\n\n32\n00:01:26.730 --> 00:01:30.630\nwe actually need FSRM as a prerequisite to\nhave DAC and to be able to work with DAC.\n\n33\n00:01:30.630 --> 00:01:32.650\nSo we're gonna start by building\nout that functionality.\n\n34\n00:01:32.650 --> 00:01:35.860\nExplain a little bit about it in this\nepisode, invite you to comeback,\n\n35\n00:01:35.860 --> 00:01:38.090\njoin us for a few more as we always do.\n\n36\n00:01:38.090 --> 00:01:41.976\nWe'll build out all the additional thought\nprocesses around what FSRM is, what it\n\n37\n00:01:41.976 --> 00:01:45.880\ndoes, but also then talk about Dynamic\nAccess Control, we can integrate the two.\n\n38\n00:01:45.880 --> 00:01:47.393\nYou wanna comeback and\ndo that or you're gonna-\n\n39\n00:01:47.393 --> 00:01:48.540\n&gt;&gt; Yeah, I'll comeback with you.\n\n40\n00:01:48.540 --> 00:01:49.040\n&gt;&gt; You sure?\n&gt;&gt; Yeah.\n\n41\n00:01:49.040 --> 00:01:50.797\n[LAUGH] &gt;&gt; Okay, cuz I can bribe you.\n&gt;&gt; [LAUGH]\n\n42\n00:01:50.797 --> 00:01:52.367\n&gt;&gt; Offer you coffee with some sugar in it\n\n43\n00:01:52.367 --> 00:01:54.452\nor something.\n&gt;&gt; Hey, I'm not going to decline that.\n\n44\n00:01:54.452 --> 00:01:55.023\n&gt;&gt; Or chocolate.\n\n45\n00:01:55.023 --> 00:01:55.883\n&gt;&gt; [LAUGH]\n\n46\n00:01:55.883 --> 00:01:56.910\n&gt;&gt; Or coffee with chocolate and sugar,\n\n47\n00:01:56.910 --> 00:01:58.069\nwe could do both.\n&gt;&gt; [LAUGH]\n\n48\n00:01:58.069 --> 00:01:59.551\n&gt;&gt; All right, so let's talk about FSRM for\n\n49\n00:01:59.551 --> 00:02:02.273\njust a minute.\nSo File Server Resource Manager,\n\n50\n00:02:02.273 --> 00:02:06.871\nthis is actually a topic you would see,\nnot just in our discussions around\n\n51\n00:02:06.871 --> 00:02:10.439\nsecurity of Server 16.\nBut if you haven't taken a look,\n\n52\n00:02:10.439 --> 00:02:14.835\nif you go back and take a look at the\nServer 16 storage and configuration and\n\n53\n00:02:14.835 --> 00:02:19.439\nmanagement episodes, and the entire set\nof shows that Mike did on that topic for\n\n54\n00:02:19.439 --> 00:02:21.431\nServer 16, you would see him and\n\n55\n00:02:21.431 --> 00:02:25.281\nhear him talk about some of\nthe technology associated with this and\n\n56\n00:02:25.281 --> 00:02:28.199\nFSRM would be there.\nThis is one of those topics that\n\n57\n00:02:28.199 --> 00:02:32.163\ncrossesover into different boundaries and\ndifferent knowledge areas.\n\n58\n00:02:32.163 --> 00:02:34.323\nBut FSRM is a collection of topics, or\n\n59\n00:02:34.323 --> 00:02:38.522\na collection of tools rather, that\nallows us to go in and look at storage.\n\n60\n00:02:38.522 --> 00:02:40.172\nAnd management of storage, and\n\n61\n00:02:40.172 --> 00:02:43.902\nstorage related items, I know you and\nI were talk quickly about quotas,\n\n62\n00:02:43.902 --> 00:02:46.549\nbefore we came on.\nWe're gonna talk about those in one of\n\n63\n00:02:46.549 --> 00:02:47.825\nthe upcoming discussions.\n\n64\n00:02:47.825 --> 00:02:51.189\nBut let's just look at things like quota,\nquota management,\n\n65\n00:02:51.189 --> 00:02:54.998\nlet's us look at classification of data,\nlet's us apply the rules and\n\n66\n00:02:54.998 --> 00:02:58.762\nthe logic of data classification to\nsecuring the management of data.\n\n67\n00:02:58.762 --> 00:03:01.642\nSo that we can better understand\nwhere data is and tag it,\n\n68\n00:03:01.642 --> 00:03:03.802\nso that we can understand\nhow to manage it.\n\n69\n00:03:03.802 --> 00:03:05.063\nLet me show you what I mean by that.\n\n70\n00:03:05.063 --> 00:03:07.807\nYou're gonna like this, take a look,\nthis is actually really cool.\n\n71\n00:03:07.807 --> 00:03:10.982\nSo let's go in, okay,\nwe're on our server for our demo.\n\n72\n00:03:10.982 --> 00:03:13.172\nNow I've done a little pre-work,\nas I often do.\n\n73\n00:03:13.172 --> 00:03:15.240\nAnd I try to explain that\nto you along the way so\n\n74\n00:03:15.240 --> 00:03:18.270\nyou know what we did in order\nto enable the demonstration.\n\n75\n00:03:18.270 --> 00:03:20.570\nNow here there is really\nnothing special going on.\n\n76\n00:03:20.570 --> 00:03:23.473\nI have created a folder on\nthe C drive called projects,\n\n77\n00:03:23.473 --> 00:03:26.638\nyou could see it right there,\nnothing special about that.\n\n78\n00:03:26.638 --> 00:03:30.023\nAnd in the folder,\nI created two word documents,\n\n79\n00:03:30.023 --> 00:03:33.090\nexcuse me two text documents, right?\n\n80\n00:03:33.090 --> 00:03:37.130\nJust very simple label the report one,\nreport two nothing fancy or unusual\n\n81\n00:03:37.130 --> 00:03:41.580\nabout that except for the fact that each\nof them has the word finance within it.\n\n82\n00:03:41.580 --> 00:03:43.650\nNothing more, just very straightforward.\n\n83\n00:03:43.650 --> 00:03:46.297\nAnd then once I've done that,\nI've gone ahead and\n\n84\n00:03:46.297 --> 00:03:50.380\nI've been able to do something really\nunusual, let's just take a look here.\n\n85\n00:03:50.380 --> 00:03:56.353\nWe're able to use FSRM to run with sudden\nclassification rules and a scheduled task\n\n86\n00:03:56.353 --> 00:04:01.747\nthat I created run file management to\nbe able to run a classification rule.\n\n87\n00:04:01.747 --> 00:04:05.683\nApply that rule, and then get the output\nof it in a web interface here,\n\n88\n00:04:05.683 --> 00:04:06.750\nas you can see.\n\n89\n00:04:06.750 --> 00:04:10.860\nSo I've run the classification rules,\nand then I've gotten a report generated,\n\n90\n00:04:10.860 --> 00:04:12.690\nautomatic classification report.\n\n91\n00:04:12.690 --> 00:04:17.057\nThis report tells me what was going on\nbased on the classification policy rules\n\n92\n00:04:17.057 --> 00:04:18.080\napplied.\n\n93\n00:04:18.080 --> 00:04:21.664\nThe machine that was run, the report\nfolder is the target folder C project,\n\n94\n00:04:21.664 --> 00:04:22.907\nthe one I just showed you.\n\n95\n00:04:22.907 --> 00:04:27.850\nAnd then it goes on to show me\nreport totals sized by owner, etc.\n\n96\n00:04:27.850 --> 00:04:32.126\nSo if I scroll down, I will see files\nshown in the report properties,\n\n97\n00:04:32.126 --> 00:04:35.611\nI have two files that meet\nthe properties here, right.\n\n98\n00:04:35.611 --> 00:04:40.812\nSo you could see that, I have [COUGH]\nthe administrator's user group that was\n\n99\n00:04:40.812 --> 00:04:46.029\nused as the credential here for built in,\nso you could see it here two files.\n\n100\n00:04:46.029 --> 00:04:51.350\nAnd as I scroll down, I see that\nthere are text files, two of them.\n\n101\n00:04:51.350 --> 00:04:56.203\nSpecifically, the property I'm looking for\nis set by a property rule that assigns\n\n102\n00:04:56.203 --> 00:04:59.203\nthe classification of\nconfidential to this file.\n\n103\n00:04:59.203 --> 00:05:02.130\nI'm gonna show you what I mean\nby that in just a minute.\n\n104\n00:05:02.130 --> 00:05:06.030\nAnd you could see the actual output of\nthe two files that were classified,\n\n105\n00:05:06.030 --> 00:05:09.668\nreports two, reports one,\nboth the text files I showed you.\n\n106\n00:05:09.668 --> 00:05:12.460\nAnd you could see here they're\nin the C projects folder,\n\n107\n00:05:12.460 --> 00:05:13.790\nthe value is confidential.\n\n108\n00:05:13.790 --> 00:05:18.410\nI applied the tag confidential as\na classification heading to the document.\n\n109\n00:05:18.410 --> 00:05:21.289\nI was then able to use this rule called\nconfidential documents rule that I\n\n110\n00:05:21.289 --> 00:05:22.097\ncreated to do that.\n\n111\n00:05:22.097 --> 00:05:25.320\nAnd you could see where it was run,\nand under what circumstances.\n\n112\n00:05:25.320 --> 00:05:30.854\nSo I was able to use a premade rule using\nFSRM to go in and assess the documents,\n\n113\n00:05:30.854 --> 00:05:35.128\nlook at their classification or\nlack thereof in this case.\n\n114\n00:05:35.128 --> 00:05:39.122\nAnd then apply classification to\nthe document the output of that is\n\n115\n00:05:39.122 --> 00:05:40.130\nthe following.\n\n116\n00:05:41.839 --> 00:05:45.212\nYou create a new document in\nhere just call it New Document,\n\n117\n00:05:45.212 --> 00:05:48.260\nnot save it with any value in it,\nit doesn't matter.\n\n118\n00:05:48.260 --> 00:05:53.154\nBut if I open it up and\nif I even put in the word finance and,\n\n119\n00:05:55.028 --> 00:05:59.040\nYou should probably spell that\ncorrectly before I do that.\n\n120\n00:05:59.040 --> 00:06:03.480\nJust so that the document is gonna be\nthe same as the other two that are there.\n\n121\n00:06:03.480 --> 00:06:06.370\nBut if we right-click,\nand go to Properties, and\n\n122\n00:06:06.370 --> 00:06:09.840\ngo to Classification, right,\nyou'll see right now name,\n\n123\n00:06:09.840 --> 00:06:15.150\nconfidential documents value none,\nproperty, right, is not populated, right?\n\n124\n00:06:15.150 --> 00:06:20.793\nIf I look here on Reports,\nProperties, Classification, right,\n\n125\n00:06:20.793 --> 00:06:25.844\nyou'll see that the value is\nactually set to confidential.\n\n126\n00:06:25.844 --> 00:06:27.505\nI've actually run the rule,\n\n127\n00:06:27.505 --> 00:06:30.770\napplied the tag confidential\nas a value to this document.\n\n128\n00:06:30.770 --> 00:06:32.315\nIt is now classified quote,\n\n129\n00:06:32.315 --> 00:06:35.680\nunquote as being confidential\naccording to the rules in FSRM.\n\n130\n00:06:35.680 --> 00:06:37.820\nAnd so, what FSRM does is,\n\n131\n00:06:37.820 --> 00:06:41.710\nit allows me one of the key things\nit does is, it allows me to classify\n\n132\n00:06:41.710 --> 00:06:46.240\ndata into then manage data as a result\nof applying that classification.\n\n133\n00:06:46.240 --> 00:06:48.390\nSo let's take a look at\nhow you actually do this.\n\n134\n00:06:48.390 --> 00:06:51.770\nLet me just minimize report here,\nI'm on my server.\n\n135\n00:06:51.770 --> 00:06:57.160\nNow this is a feature in a roll that\nwe can install into any of the servers.\n\n136\n00:06:57.160 --> 00:07:02.036\nYou'll see here, I have a little mm\nSierra console that I use to manage with.\n\n137\n00:07:02.036 --> 00:07:03.660\nAnd once we go in and we take a look,\n\n138\n00:07:03.660 --> 00:07:07.600\nwe could see the File Server Resource\nManager is installed and configured.\n\n139\n00:07:07.600 --> 00:07:10.670\nSo in order to put this in,\nI can go in and\n\n140\n00:07:10.670 --> 00:07:15.057\ndo this either through the server manager,\njust here.\n\n141\n00:07:15.057 --> 00:07:18.277\nGo through my first couple of screens,\nselect a role or\n\n142\n00:07:18.277 --> 00:07:22.340\nfeature based install,\nselect the target server, local machine.\n\n143\n00:07:22.340 --> 00:07:26.975\nAnd then, you'll see here under file and\nstorage services, right, here,\n\n144\n00:07:26.975 --> 00:07:31.892\nif I drill down in Server 16, I will find\nFile Server Resource Manager as a role,\n\n145\n00:07:31.892 --> 00:07:33.560\nbut I can go in and install.\n\n146\n00:07:33.560 --> 00:07:36.460\nAnd I've done that, but\nI didn't do it by using the GUI interface,\n\n147\n00:07:36.460 --> 00:07:39.308\nI did it through\nPowerShell as we often do.\n\n148\n00:07:39.308 --> 00:07:43.910\nSo you could see here add\nWindows Feature Name FS resource manager,\n\n149\n00:07:43.910 --> 00:07:48.390\ninclude management tools, include although\nit wraps, all subfeatures, and so\n\n150\n00:07:48.390 --> 00:07:50.450\nthat was installed and successful.\n\n151\n00:07:50.450 --> 00:07:55.045\nNo more configuration involved or required\nhere, just the base line installation.\n\n152\n00:07:55.045 --> 00:07:59.157\nSometimes, we'll do some of these installs\nfor things like certificate services,\n\n153\n00:07:59.157 --> 00:08:03.153\nthan we have to run through, a secondary\nand do configuration for web enrollment,\n\n154\n00:08:03.153 --> 00:08:04.256\nand things like that.\n\n155\n00:08:04.256 --> 00:08:07.225\nThis is just one, goes through\neverything and then it's set to go.\n\n156\n00:08:07.225 --> 00:08:08.129\nSo we've done that.\n\n157\n00:08:08.129 --> 00:08:09.500\nWe've installed it.\n\n158\n00:08:09.500 --> 00:08:14.487\nAnd then once I open it up from the tools\nmenu as I showed you, what I get is my\n\n159\n00:08:14.487 --> 00:08:19.488\nfile server resource manager console\nthat we're looking at right here.\n\n160\n00:08:19.488 --> 00:08:22.040\nAnd there are things\nlike quota management.\n\n161\n00:08:22.040 --> 00:08:25.760\nThere is or are file screening\nmanagement options here.\n\n162\n00:08:25.760 --> 00:08:28.186\nThere's storage reports capability.\n\n163\n00:08:28.186 --> 00:08:31.300\nWe focused on in the demonstration\nquickly that I just\n\n164\n00:08:31.300 --> 00:08:35.430\nshowed you the output of classification\nmanagement and file management tasks.\n\n165\n00:08:35.430 --> 00:08:39.481\nSo I wanna start by talking about what\ngoes on in this particular area down here,\n\n166\n00:08:39.481 --> 00:08:43.591\nbecause this is where I've done some set\nup and initially just set some things for\n\n167\n00:08:43.591 --> 00:08:44.329\nus to look at.\n\n168\n00:08:44.329 --> 00:08:46.214\nBut we'll take a more thorough and\n\n169\n00:08:46.214 --> 00:08:49.269\nin-depth look across the entire\narea of the tool here.\n\n170\n00:08:49.269 --> 00:08:52.240\nBoth in this episode, and\nin some of the upcoming conversations.\n\n171\n00:08:52.240 --> 00:08:55.660\nSo let's start with classification\nmanagement, you'll see that when I\n\n172\n00:08:55.660 --> 00:08:59.360\nhighlight classification rules here, I've\nalready got the rule that I told you I\n\n173\n00:08:59.360 --> 00:09:03.630\nused to run and classify the document,\nthe confidential document rule.\n\n174\n00:09:03.630 --> 00:09:07.920\nAs you can see here,\njust spread that out so you can see that.\n\n175\n00:09:07.920 --> 00:09:10.590\nAnd I've got a property that I created,\n\n176\n00:09:10.590 --> 00:09:12.960\nthe confidential documents\nproperty that you saw.\n\n177\n00:09:12.960 --> 00:09:15.340\nSo I'm gonna show you how to create these.\n\n178\n00:09:15.340 --> 00:09:18.430\nI've also got a file management\ntask that I used to be able to\n\n179\n00:09:18.430 --> 00:09:22.600\nthen actually go in and\napply some logic to the files.\n\n180\n00:09:22.600 --> 00:09:25.840\nAnd so\nwhen I look at classification management,\n\n181\n00:09:25.840 --> 00:09:27.500\nlet's start with our properties.\n\n182\n00:09:27.500 --> 00:09:30.785\nSo there are some pre-made\nproperties as you can see.\n\n183\n00:09:30.785 --> 00:09:35.770\nAccess denied assistance, message,\nfolder owner, email, folder usage.\n\n184\n00:09:35.770 --> 00:09:39.797\nThese are created already as part\nof the installation of the tool.\n\n185\n00:09:39.797 --> 00:09:41.300\nI did not do anything to enable them.\n\n186\n00:09:41.300 --> 00:09:44.310\nThey're there, in other words,\nwhen you install FSRM and\n\n187\n00:09:44.310 --> 00:09:47.620\nstart to play with it you will\nfind these in your system as well.\n\n188\n00:09:47.620 --> 00:09:52.140\nI've gone in and just simply right-clicked\nhere and created a local property and\n\n189\n00:09:52.140 --> 00:09:54.640\nI've been able to create\nthe confidential documents property.\n\n190\n00:09:54.640 --> 00:09:59.290\nSo I wanna walk you through how I did\nthat, because the first part of doing\n\n191\n00:09:59.290 --> 00:10:03.640\nclassification management is to decide\non one or more properties you wanna use.\n\n192\n00:10:03.640 --> 00:10:04.900\nAnd then apply them through one or\n\n193\n00:10:04.900 --> 00:10:09.400\nmore rules, to then automate the process\nof classifying your data and managing it.\n\n194\n00:10:09.400 --> 00:10:10.920\nSo we're building or\n\n195\n00:10:10.920 --> 00:10:13.280\nsetting up the building blocks\nin order to be able to do that.\n\n196\n00:10:13.280 --> 00:10:17.770\nSo let's take a look at how we created\nthese particular classification property.\n\n197\n00:10:17.770 --> 00:10:20.150\nI'm gonna just edit the local\nproperty I've already got,\n\n198\n00:10:20.150 --> 00:10:23.270\njust to show you the values in here and\nwhat we did.\n\n199\n00:10:23.270 --> 00:10:27.030\nI went in and gave it a name and\nthen just gave a little description and\n\n200\n00:10:27.030 --> 00:10:31.140\nI set a property type, a value of string,\nnothing too complicated in here.\n\n201\n00:10:31.140 --> 00:10:33.540\nSo if I right-click and create a new one,\n\n202\n00:10:35.730 --> 00:10:39.460\nI don't have a lot of options here\ndepending on what I choose to do.\n\n203\n00:10:39.460 --> 00:10:42.230\nIf I just do this and let's call this,\n\n204\n00:10:42.230 --> 00:10:45.700\ninstead of confidential documents,\nI'll just call it the CD just for\n\n205\n00:10:45.700 --> 00:10:49.790\nshort, and I put a little description\nhere which is optional, right?\n\n206\n00:10:49.790 --> 00:10:52.690\nBut we'll just put something in just so\nyou could see that.\n\n207\n00:10:52.690 --> 00:10:54.500\nReally it just comes down\nto property type, and\n\n208\n00:10:54.500 --> 00:10:57.510\nI chose, pulling down here, to do string.\n\n209\n00:10:57.510 --> 00:11:01.463\nAnd you could see that the options in\nthe bottom selector will rotate or\n\n210\n00:11:01.463 --> 00:11:03.952\nchange based on\nthe property type I choose.\n\n211\n00:11:03.952 --> 00:11:08.060\nThe string or simple string property\nwhen combining multiple values, right?\n\n212\n00:11:08.060 --> 00:11:11.550\nYou can do this and\nadd in the single string, multiple string,\n\n213\n00:11:11.550 --> 00:11:13.080\nthere's different ways of doing this.\n\n214\n00:11:13.080 --> 00:11:16.290\nAnd so you'll see with string\nI can do yes/no as an option.\n\n215\n00:11:16.290 --> 00:11:19.600\nAnd then I do have to provide\ndescriptor values for each.\n\n216\n00:11:19.600 --> 00:11:21.810\nI can go in and do date/time.\n\n217\n00:11:21.810 --> 00:11:26.930\nI can go in and do number, multiple choice\nlist, multi string, single string, etc.\n\n218\n00:11:26.930 --> 00:11:30.620\nSo it's just a matter of what property\nI wanna be able to leverage and use.\n\n219\n00:11:30.620 --> 00:11:36.280\nSo I'm gonna go ahead and I'm going to\nclick Ok rather to create the property.\n\n220\n00:11:36.280 --> 00:11:37.610\nSo I've added another property in,\n\n221\n00:11:37.610 --> 00:11:40.900\nlike I would've done in the pre-work\nthat I had gone through.\n\n222\n00:11:40.900 --> 00:11:45.130\nAnd then from the properties area I'm\ngonna go to classification rules.\n\n223\n00:11:45.130 --> 00:11:48.670\nAnd under classification rules\nthere is no rule by default, so\n\n224\n00:11:48.670 --> 00:11:50.340\nI will have to right-click and create one.\n\n225\n00:11:50.340 --> 00:11:53.780\nBut let's look at what's in here for\nthe rule before we do this.\n\n226\n00:11:53.780 --> 00:11:54.904\nLet's just edit one.\n\n227\n00:11:54.904 --> 00:11:57.894\nAnd remember the rule\nis gonna let me go and\n\n228\n00:11:57.894 --> 00:12:03.260\nlet me take the properties that I\ndecide I've created that I wanna use.\n\n229\n00:12:03.260 --> 00:12:07.640\nAnd apply them in some sort of coherent\nstandardized fashion to any and\n\n230\n00:12:07.640 --> 00:12:10.200\nall of the data that I want to examine.\n\n231\n00:12:10.200 --> 00:12:14.900\nAnd then have the properties applied\nbased on the specificity of the rule, and\n\n232\n00:12:14.900 --> 00:12:17.820\ndecide whether or not I should classify or\nnot classify data\n\n233\n00:12:17.820 --> 00:12:21.920\naccording to what I've decided or\nwhat I've specified the rule will do.\n\n234\n00:12:21.920 --> 00:12:23.130\nSo I give the rule a name.\n\n235\n00:12:23.130 --> 00:12:25.360\nWe can always disable rules\nwhen we don't need them, but\n\n236\n00:12:25.360 --> 00:12:26.900\nthey are enabled by default.\n\n237\n00:12:26.900 --> 00:12:29.770\nSo I called my rule,\nconfidential documents rule.\n\n238\n00:12:29.770 --> 00:12:34.310\nI then go to the scope tab, I've to\nspecify where the focus or scope for\n\n239\n00:12:34.310 --> 00:12:36.650\nthe data being examined will be.\n\n240\n00:12:36.650 --> 00:12:40.830\nI chose user files as you can see,\nhere I select the box, nothing is here,\n\n241\n00:12:40.830 --> 00:12:41.510\nI have to add it.\n\n242\n00:12:41.510 --> 00:12:44.200\nSo I go and I Add,\nit's very simple, I just go and\n\n243\n00:12:44.200 --> 00:12:48.875\nbrowse on the machine where I wanna find\nthis, and I put in the projects directory.\n\n244\n00:12:48.875 --> 00:12:51.827\nCuz remember I have these two text files,\nright?\n\n245\n00:12:51.827 --> 00:12:54.650\nReport one report two that\nI wanted to classify.\n\n246\n00:12:54.650 --> 00:12:56.870\nSo in the real world if\nyou wanted to go in and\n\n247\n00:12:56.870 --> 00:12:59.860\nperhaps examine all\nthe data on a file server.\n\n248\n00:12:59.860 --> 00:13:02.030\nYou would go in on the file server,\nset this role up,\n\n249\n00:13:02.030 --> 00:13:08.040\nyou would then say user files and\ngo into either the map drive directory.\n\n250\n00:13:08.040 --> 00:13:12.180\nSo maybe the F drive or the S drive or\nwhatever it is where all the data sits.\n\n251\n00:13:12.180 --> 00:13:16.247\nOr you would go in to maybe user profiles,\ncuz maybe you wanna look at user profiles.\n\n252\n00:13:16.247 --> 00:13:20.080\nYou would go into the C Windows\ndirectory or whatever you wanna do.\n\n253\n00:13:20.080 --> 00:13:24.030\nBut you would specify the folders that\nwill be included here in the scope,\n\n254\n00:13:24.030 --> 00:13:24.970\nif they're user files.\n\n255\n00:13:24.970 --> 00:13:27.420\nIf they're group files,\nyou would check that off.\n\n256\n00:13:27.420 --> 00:13:30.640\nBacked up and archived files and\nor application files.\n\n257\n00:13:30.640 --> 00:13:32.590\nMaybe you wanna look at certain programs.\n\n258\n00:13:32.590 --> 00:13:37.790\nSo maybe WinWord or Excel or\nPowerPoint or whatever it may be, right?\n\n259\n00:13:37.790 --> 00:13:41.740\nOr PWRPNT, for PowerPoint.exe,\nwhatever it may be, right?\n\n260\n00:13:41.740 --> 00:13:46.060\nSo you would choose the appropriate ones\nhere and then obviously add in as needed.\n\n261\n00:13:46.060 --> 00:13:48.240\nThen classification.\n\n262\n00:13:48.240 --> 00:13:51.350\nThis is where you go in and\nyou bring in your properties.\n\n263\n00:13:51.350 --> 00:13:54.930\nAnd so you choose your content classifier,\n\n264\n00:13:54.930 --> 00:13:57.370\nbecause I'm doing content\nwithin the document.\n\n265\n00:13:57.370 --> 00:13:59.578\nI want it to find a specific word.\n\n266\n00:13:59.578 --> 00:14:02.475\nMy keyword that I pivoted on was finance,\nright?\n\n267\n00:14:02.475 --> 00:14:05.504\nSo I should put finance\nin the text documents.\n\n268\n00:14:05.504 --> 00:14:09.369\nIf I wanted to be able to say all\ndocuments with the word finance in it\n\n269\n00:14:09.369 --> 00:14:11.579\nshould be classified confidential,\n\n270\n00:14:11.579 --> 00:14:15.315\nI have to use the content\nclassifier to be able to do that.\n\n271\n00:14:15.315 --> 00:14:18.855\nIf I want to look at the folder,\nI could do folder classifier or\n\n272\n00:14:18.855 --> 00:14:20.505\nWindows PowerShell classifier.\n\n273\n00:14:20.505 --> 00:14:24.290\nI can use different kinds of classifiers\ndepending on what I'm looking to do.\n\n274\n00:14:24.290 --> 00:14:28.990\nBut I did a content classifier, right, to\nbe able to assign a property to the files.\n\n275\n00:14:28.990 --> 00:14:32.270\nThen I go in, and it says here,\nthis will search for strings and\n\n276\n00:14:32.270 --> 00:14:34.425\nregular expression patterns in the file.\n\n277\n00:14:34.425 --> 00:14:37.080\nLook for a word, like finance or\nwhatever it may be.\n\n278\n00:14:37.080 --> 00:14:38.760\nChoose a property to asign to the files.\n\n279\n00:14:38.760 --> 00:14:42.124\nI applied my confidential\ndocuments property.\n\n280\n00:14:42.124 --> 00:14:44.145\nRemember, that's what\nwe called the property.\n\n281\n00:14:44.145 --> 00:14:47.140\nYou would obviously put the name in of\nthe property here you wanted to create.\n\n282\n00:14:47.140 --> 00:14:48.670\nAnd then specify a value.\n\n283\n00:14:48.670 --> 00:14:53.490\nI wanna put confidential in the value for\nconfidential documents on\n\n284\n00:14:53.490 --> 00:14:56.590\nthe classification tab of\nthe document when I look.\n\n285\n00:14:56.590 --> 00:14:59.010\nThat's where that came\nfrom if you remember.\n\n286\n00:14:59.010 --> 00:15:04.289\nWhen I go over here, and\nI go to one of my documents.\n\n287\n00:15:04.289 --> 00:15:05.338\nAnd we already looked at this one.\n\n288\n00:15:05.338 --> 00:15:07.150\nAnd I go to the classification tab.\n\n289\n00:15:07.150 --> 00:15:10.960\nRemember on your value, right,\nyou'll see there, confidential.\n\n290\n00:15:10.960 --> 00:15:13.120\nRemember CD, I just created that.\n\n291\n00:15:13.120 --> 00:15:16.030\nYou could see there's not\nclassification value there.\n\n292\n00:15:16.030 --> 00:15:17.908\nNumber one, I haven't run the rule yet.\n\n293\n00:15:17.908 --> 00:15:22.210\nAnd number two, I have not applied\nthe rule as a result of running it.\n\n294\n00:15:22.210 --> 00:15:24.790\nSo there's no way for\nme to pick up a value for it yet.\n\n295\n00:15:24.790 --> 00:15:28.570\nBut the one that I've already used, the\nconfidential documents rule is applied.\n\n296\n00:15:28.570 --> 00:15:32.520\nAnd the property value of confidential\nwas applied because it met the criteria,\n\n297\n00:15:32.520 --> 00:15:35.140\nwhich was it had the word finance in it,\nright?\n\n298\n00:15:35.140 --> 00:15:36.720\nSo that's where we're seeing that from.\n\n299\n00:15:36.720 --> 00:15:41.228\nSo specify value confidential,\nif I wanna change that and\n\n300\n00:15:41.228 --> 00:15:44.360\nput happy Monday or happy Cherokee Day.\n\n301\n00:15:44.360 --> 00:15:45.784\n&gt;&gt; [LAUGH]\n&gt;&gt; Or thank you very much, or\n\n302\n00:15:45.784 --> 00:15:47.020\nwhatever I want to put there.\n\n303\n00:15:47.020 --> 00:15:50.390\nThat's what would show up when I run\nthe rule if I change the value here\n\n304\n00:15:50.390 --> 00:15:52.910\nwhen I specify whatever\nthat value would be.\n\n305\n00:15:52.910 --> 00:15:56.660\n&gt;&gt; Which could be really useful in\na compliance type situation where you're\n\n306\n00:15:56.660 --> 00:16:00.542\nlooking at something like HIPAA, or\nlike your example there with finance.\n\n307\n00:16:00.542 --> 00:16:01.942\n&gt;&gt; Sure.\n&gt;&gt; Any time you have credit card\n\n308\n00:16:01.942 --> 00:16:04.126\ninformation or\nsocial security card information\n\n309\n00:16:04.126 --> 00:16:06.458\n&gt;&gt; PCIDSS compliance.\n\n310\n00:16:06.458 --> 00:16:08.704\nThe nice thing is you\ncould create your own,\n\n311\n00:16:08.704 --> 00:16:11.201\nwhich is the output of\nwhat Cherokee was saying.\n\n312\n00:16:11.201 --> 00:16:14.880\nWe can create our own or\nlook less to our business.\n\n313\n00:16:14.880 --> 00:16:17.626\nWe can create our own compliance headers,\nright?\n\n314\n00:16:17.626 --> 00:16:19.350\nIn the sense that we can say, okay,\n\n315\n00:16:19.350 --> 00:16:21.948\nI'm gonna rank this document\nthis way with this tag.\n\n316\n00:16:21.948 --> 00:16:25.370\nAnd as a result of stamping it or\nessentially classifying it this way.\n\n317\n00:16:25.370 --> 00:16:29.402\nI can now fulfill my obligations under\nmy requirements either statutory,\n\n318\n00:16:29.402 --> 00:16:31.386\nregulatory or whatever they may be.\n\n319\n00:16:31.386 --> 00:16:35.010\nTo classify data and validate from\nan audit perspective, that I'm doing that,\n\n320\n00:16:35.010 --> 00:16:36.782\nbecause I can see it's being applied.\n\n321\n00:16:36.782 --> 00:16:41.127\nSo it's very important,\nthen we go in here, and we configure,\n\n322\n00:16:41.127 --> 00:16:44.130\nactually right over somewhere up there-\n&gt;&gt; [LAUGH]\n\n323\n00:16:44.130 --> 00:16:45.621\n&gt;&gt; Right about over there,\n\n324\n00:16:45.621 --> 00:16:46.759\nright over there.\n\n325\n00:16:46.759 --> 00:16:48.991\nThat's when you need to grab-\n&gt;&gt; The mouse and move it, so\n\n326\n00:16:48.991 --> 00:16:51.323\nwhen I do this, the mouse should move.\n\n327\n00:16:51.323 --> 00:16:53.893\nRight there, on configure.\n\n328\n00:16:53.893 --> 00:16:54.543\n&gt;&gt; Gosh.\n\n329\n00:16:54.543 --> 00:16:55.063\n&gt;&gt; Right there.\n\n330\n00:16:55.063 --> 00:16:57.148\n&gt;&gt; I'm trying, I'm trying,\nlike a video game.\n\n331\n00:16:57.148 --> 00:16:57.787\n&gt;&gt; There we go-\n&gt;&gt; There we go.\n\n332\n00:16:57.787 --> 00:16:59.355\n&gt;&gt; Exactly.\nSo right there, right?\n\n333\n00:16:59.355 --> 00:17:00.290\nAlmost.\n\n334\n00:17:00.290 --> 00:17:01.317\n&gt;&gt; I don't think I clicked it.\n&gt;&gt; That's close enough.\n\n335\n00:17:01.317 --> 00:17:02.728\nAll right, so you did, but\nyou just didn't register it.\n\n336\n00:17:02.728 --> 00:17:04.930\nIt's like a crazy click\non the mouse thing.\n\n337\n00:17:04.930 --> 00:17:06.350\nAll right, so\nyou could see that we go in here.\n\n338\n00:17:06.350 --> 00:17:11.040\nWe configure and I'm gonna move, actually,\nI'll move this this way, so you can see.\n\n339\n00:17:11.040 --> 00:17:14.837\nSo when we go and configure, all we\nhave to do is add our parameter in here.\n\n340\n00:17:14.837 --> 00:17:19.226\nAnd I create an expression type but pull\nthis down, because you can see by default,\n\n341\n00:17:19.226 --> 00:17:21.140\nit set to regular expression.\n\n342\n00:17:21.140 --> 00:17:23.160\nThe item underneath here\nis what you would see.\n\n343\n00:17:23.160 --> 00:17:27.651\nSo I just change this to string,\nI put in a word that I'm looking for.\n\n344\n00:17:27.651 --> 00:17:30.150\nThis is the parameter that I'm\nsearching for in the file.\n\n345\n00:17:30.150 --> 00:17:32.481\nIn this case, I'm searching for findings-\n&gt;&gt; Findings, yep.\n\n346\n00:17:32.481 --> 00:17:34.167\n&gt;&gt; Right?\nAgain if I wanted to search for\n\n347\n00:17:34.167 --> 00:17:38.028\nanother key word, I would simply\nmodify the parameter string here and\n\n348\n00:17:38.028 --> 00:17:39.802\nI would be able to then specify.\n\n349\n00:17:39.802 --> 00:17:44.350\nHey, no, it's not finance, it's the word\nhello or whatever it may be, right?\n\n350\n00:17:44.350 --> 00:17:45.630\nAnd that would be what I would do.\n\n351\n00:17:45.630 --> 00:17:48.840\nAs a matter of fact,\nif we wanted to change that, right?\n\n352\n00:17:48.840 --> 00:17:52.506\nAnd have that be,\n&gt;&gt; I'm\n\n353\n00:17:52.506 --> 00:17:55.489\njust thinking like you\ncould say top secret, and\n\n354\n00:17:55.489 --> 00:18:00.232\nthen just have your employees as part\nof their template for their documents.\n\n355\n00:18:00.232 --> 00:18:03.562\nIf it has a designation for\nsecret, top secret or whatever,\n\n356\n00:18:03.562 --> 00:18:06.255\nthen it just looks for\nthat within the document.\n\n357\n00:18:06.255 --> 00:18:07.507\n&gt;&gt; Whatever the string is-\n&gt;&gt; Right.\n\n358\n00:18:07.507 --> 00:18:09.537\n&gt;&gt; Or parameter, the value for\nthe string you specify.\n\n359\n00:18:09.537 --> 00:18:12.855\nNow you may not have seen, let me pull\nthis down one more time so you can see.\n\n360\n00:18:12.855 --> 00:18:16.670\nWe have string here, and it's also a case\nsensitive string that I can search with.\n\n361\n00:18:16.670 --> 00:18:20.044\nSo I could do string case sensitive\ncuz maybe here you're doing names or\n\n362\n00:18:20.044 --> 00:18:21.800\nwho knows what or whatever it may be.\n\n363\n00:18:21.800 --> 00:18:25.730\nAnd they may be case sensitive, so as\na result we can actually do that as well.\n\n364\n00:18:25.730 --> 00:18:28.020\nSo I'm just putting in\nthe word hello here, right?\n\n365\n00:18:28.020 --> 00:18:30.955\nAnd I'm gonna change it to hello,\nso let's click OK.\n\n366\n00:18:30.955 --> 00:18:33.514\nSo we've gone ahead,\nwe've set now the parameter search.\n\n367\n00:18:33.514 --> 00:18:36.505\nWe'll look for the word,\nhello, not for finance, right?\n\n368\n00:18:36.505 --> 00:18:38.297\nAnd we'll see what happens\nwhen we change that.\n\n369\n00:18:38.297 --> 00:18:40.677\nAll right, so we've got all that set up,\n\n370\n00:18:40.677 --> 00:18:43.910\nwhen I'm talking about evaluation types,\nright?\n\n371\n00:18:43.910 --> 00:18:45.727\nSo classification, so click OK.\n\n372\n00:18:45.727 --> 00:18:50.010\nSo I've done that I set up my\nclassification of rule, right?\n\n373\n00:18:50.010 --> 00:18:53.507\nNow we know that none of my documents,\nright?\n\n374\n00:18:53.507 --> 00:18:57.068\nAccording to what we saw here,\nnone of them have the word hello in them-\n\n375\n00:18:57.068 --> 00:18:57.586\n&gt;&gt; Inside of them.\n\n376\n00:18:57.586 --> 00:18:59.038\n&gt;&gt; They only have finance, right?\n\n377\n00:18:59.038 --> 00:19:01.283\nAll right, so lets just get rid of this.\n\n378\n00:19:01.283 --> 00:19:06.990\nOkay, let's go back over here and let's\nrun classification with all rules now.\n\n379\n00:19:06.990 --> 00:19:07.739\nLet's see what we get, right?\n\n380\n00:19:07.739 --> 00:19:10.200\nWe're gonna wait for\nclassification to complete.\n\n381\n00:19:11.590 --> 00:19:13.192\n&gt;&gt; Hopefully nothing, right?\n\n382\n00:19:13.192 --> 00:19:14.086\n&gt;&gt; We should get nothing.\n\n383\n00:19:18.382 --> 00:19:19.415\nWe'll still get the output,\n\n384\n00:19:19.415 --> 00:19:20.788\nwe'll still get the report-\n&gt;&gt; But no instances.\n\n385\n00:19:20.788 --> 00:19:23.630\n&gt;&gt; But the point is at the bottom, right?\n\n386\n00:19:23.630 --> 00:19:25.803\nWhat we'll see is that\nthere's nothing there,\n\n387\n00:19:25.803 --> 00:19:28.037\nbecause no instances meet\nthe search parameter.\n\n388\n00:19:28.037 --> 00:19:29.332\nThe word hello, right?\n\n389\n00:19:29.332 --> 00:19:30.410\nIs not in the file.\n\n390\n00:19:30.410 --> 00:19:34.835\nNow if we go back and we modify that we\ncan obviously dump a file in here easily\n\n391\n00:19:34.835 --> 00:19:38.428\nenough or have it classified but\nlet's take a look, right?\n\n392\n00:19:38.428 --> 00:19:43.040\nBecause now when we take a look\nhere at the documents we know were\n\n393\n00:19:43.040 --> 00:19:46.170\nclassified as confidential, right?\n\n394\n00:19:46.170 --> 00:19:48.951\nBut because they're not meeting\nthe new criteria, right,\n\n395\n00:19:48.951 --> 00:19:51.306\nthey don't show up on the report anymore,\nright?\n\n396\n00:19:51.306 --> 00:19:54.751\nIn other words, they're no longer,\nand by the way once we classify them,\n\n397\n00:19:54.751 --> 00:19:57.060\nthey do maintain their classification,\nright?\n\n398\n00:19:57.060 --> 00:20:01.512\nSo in other words, that property or\nthat value rather is not removed, right?\n\n399\n00:20:01.512 --> 00:20:06.641\nBut the new file, a new text document,\nthe one that I created,\n\n400\n00:20:09.580 --> 00:20:11.331\nHas not been classified, right?\n\n401\n00:20:11.331 --> 00:20:15.563\nWith the property called confidential cuz\nit does not have the word hello in it,\n\n402\n00:20:15.563 --> 00:20:17.460\nit has the word finance in it.\n\n403\n00:20:17.460 --> 00:20:20.471\nSo it's not been classified\neven though we ran the rule,\n\n404\n00:20:20.471 --> 00:20:22.366\nhas not had anything applied to it.\n\n405\n00:20:22.366 --> 00:20:25.100\nBut if I go in, right?\n\n406\n00:20:25.100 --> 00:20:30.684\nAnd I take a look,\nlet me just open this or edit it rather.\n\n407\n00:20:30.684 --> 00:20:33.860\nAnd if I put the word hello in here,\nright?\n\n408\n00:20:33.860 --> 00:20:35.640\nAnd just Save it.\n\n409\n00:20:40.324 --> 00:20:45.477\nAnd we re-run the rule,\n\n410\n00:20:49.760 --> 00:20:51.000\nOne more time, right?\n\n411\n00:20:51.000 --> 00:20:53.955\nJust to let it run one more time.\n\n412\n00:20:53.955 --> 00:20:55.650\n&gt;&gt; Hopefully, it finds it this time.\n\n413\n00:20:55.650 --> 00:20:56.359\n&gt;&gt; You have to believe.\n\n414\n00:20:56.359 --> 00:20:58.056\n&gt;&gt; [LAUGH]\n&gt;&gt; First of all for anything.\n\n415\n00:20:58.056 --> 00:21:01.758\nAll right, so we can come down,\nwe can see that down here,\n\n416\n00:21:01.758 --> 00:21:04.189\nit does find new text document.txt.\n\n417\n00:21:04.189 --> 00:21:09.030\nIs found in classified because it has the\nword hello in it, as opposed to finance.\n\n418\n00:21:09.030 --> 00:21:15.248\nAnd so now, this one will also be\nclassified as confidential under the rule.\n\n419\n00:21:15.248 --> 00:21:18.476\nBecause it does have the word\nhello in it in this case, right?\n\n420\n00:21:18.476 --> 00:21:20.766\nFor parameter string,\nor our search router.\n\n421\n00:21:20.766 --> 00:21:23.523\nSo because of that we can\nsee that we can adjust and\n\n422\n00:21:23.523 --> 00:21:25.820\nlook for different strengths, right?\n\n423\n00:21:25.820 --> 00:21:29.375\nOr different parameters as we go,\nbut we can update or\n\n424\n00:21:29.375 --> 00:21:34.827\napply to classification scheme to the data\nas either our parameter needs change or\n\n425\n00:21:34.827 --> 00:21:38.000\nwe decide what data we\nwanna be able to focus on.\n\n426\n00:21:38.000 --> 00:21:41.312\nSo by creating both a classification\nproperty, in this case,\n\n427\n00:21:41.312 --> 00:21:45.317\nwe kept the property but we modified\nthe parameter that we were looking for.\n\n428\n00:21:45.317 --> 00:21:49.240\nAnd then applying the rule,\nwe're able to go in to look for that.\n\n429\n00:21:49.240 --> 00:21:53.892\nAnd now we could schedule that rule to\nactually have it be applied at a certain\n\n430\n00:21:53.892 --> 00:21:54.847\npoint in time.\n\n431\n00:21:54.847 --> 00:21:57.680\nIn other words, we have been\nmanually spawning that, right?\n\n432\n00:21:57.680 --> 00:21:59.519\nKinda going and\nsaying run that right away.\n\n433\n00:21:59.519 --> 00:22:02.636\nBut I couldn't create a task in here,\nright?\n\n434\n00:22:02.636 --> 00:22:06.120\nThat will allow me,\nright-click Create File Management Task.\n\n435\n00:22:06.120 --> 00:22:12.216\nI could go in, and let's just name this.\n\n436\n00:22:12.216 --> 00:22:14.850\nAnd again enabled right?\n\n437\n00:22:14.850 --> 00:22:17.598\nLittle description there,\njust so we have something.\n\n438\n00:22:17.598 --> 00:22:21.715\nAnd then scope, right again think\nabout the logic, we do the same thing.\n\n439\n00:22:21.715 --> 00:22:24.919\nIs it gonna be user file,\ngroup file application?\n\n440\n00:22:24.919 --> 00:22:27.016\nIn this case, we'll do user file, and\n\n441\n00:22:27.016 --> 00:22:30.627\nwe would target the projects folder\nthe way I did, so we'll go in.\n\n442\n00:22:30.627 --> 00:22:34.191\nAdd this, go down here to the local drive,\n\n443\n00:22:34.191 --> 00:22:38.551\ngo to projects right there,\nsee projects, right?\n\n444\n00:22:38.551 --> 00:22:43.510\nSo we have that, then on action,\nwe're gonna browse, right?\n\n445\n00:22:43.510 --> 00:22:47.191\nWe have file expiration,\ncustom or RMS encryption.\n\n446\n00:22:47.191 --> 00:22:50.352\nSo we can do different actions here,\nI can expire the content,\n\n447\n00:22:50.352 --> 00:22:52.235\nremove it at a certain point in time.\n\n448\n00:22:52.235 --> 00:22:57.398\nAutomate the removal, I can do a custom\nwhich is then gonna allow me to go in and\n\n449\n00:22:57.398 --> 00:22:59.873\nyou can see specify what I wanna run.\n\n450\n00:22:59.873 --> 00:23:02.091\nMaybe an executable or run a program,\n\n451\n00:23:02.091 --> 00:23:05.639\nmaybe a script that moves the data\nfrom one place to another.\n\n452\n00:23:05.639 --> 00:23:09.930\nThere are all sorts of things I\ncould do with it if I wanted too.\n\n453\n00:23:09.930 --> 00:23:11.200\nI could copy that data and\n\n454\n00:23:11.200 --> 00:23:14.657\nmove it to a different directory as\na result of it being classified.\n\n455\n00:23:14.657 --> 00:23:18.167\nYou can imagine all the different things I\nmay wanna do with this potentially, right?\n\n456\n00:23:18.167 --> 00:23:20.688\nSo I've got a lot of\ndifferent capabilities here.\n\n457\n00:23:20.688 --> 00:23:25.332\nAlso I can actually specify the account\nthat this will run under since I'm doing\n\n458\n00:23:25.332 --> 00:23:27.976\na custom action and\nI actually execute code.\n\n459\n00:23:27.976 --> 00:23:30.958\nOur local service network\nservice local system.\n\n460\n00:23:30.958 --> 00:23:35.813\nIf you remember back to some of the early\nepisodes, we did in this entire set of\n\n461\n00:23:35.813 --> 00:23:40.150\nthought processes and\nthe show around Service 16 Security.\n\n462\n00:23:40.150 --> 00:23:42.716\nCherokee and I talked about the different\nkinds of accounts that exist,\n\n463\n00:23:42.716 --> 00:23:44.243\nservice accounts in particular, right?\n\n464\n00:23:44.243 --> 00:23:47.895\nSo you may wanna think about what account\nyou would want to run this under.\n\n465\n00:23:47.895 --> 00:23:50.989\nBut I could go in,\nspecify an executable and\n\n466\n00:23:50.989 --> 00:23:54.092\narguments that would be appropriate here.\n\n467\n00:23:54.092 --> 00:23:56.904\nI made you file expiration, excuse me, and\n\n468\n00:23:56.904 --> 00:24:01.396\nthen I could specify what the expiration\ndirectory would be, right?\n\n469\n00:24:01.396 --> 00:24:05.286\nSo I can go in and say,\nyeah, C let say, expired or\n\n470\n00:24:05.286 --> 00:24:10.125\nI would have a directory called C expired,\nI don't have one.\n\n471\n00:24:10.125 --> 00:24:14.767\nBut, Easy enough to be able to create one\njust real quick here on the fly, right?\n\n472\n00:24:14.767 --> 00:24:16.420\nJust to link it to something.\n\n473\n00:24:16.420 --> 00:24:17.800\n&gt;&gt; Sure.\n\n474\n00:24:17.800 --> 00:24:19.632\n&gt;&gt; Okay, so I have that just so\nit's there.\n\n475\n00:24:19.632 --> 00:24:22.973\nAll right, so\nI could easily target that and\n\n476\n00:24:22.973 --> 00:24:26.790\nthen days before running action email,\nlog etc.\n\n477\n00:24:26.790 --> 00:24:31.780\nSo I can go in and\nI can specify what notifications we'll be\n\n478\n00:24:31.780 --> 00:24:34.550\ngiving out around this cuz\nI'm going to expire content.\n\n479\n00:24:34.550 --> 00:24:37.630\nEvery one of these has specific\noptions associated with it.\n\n480\n00:24:37.630 --> 00:24:41.403\nBut for instance here, if we want to give\nadvance notification to people, hey,\n\n481\n00:24:41.403 --> 00:24:44.689\nin 15 days that content's gonna expire or\nwhatever the case may be.\n\n482\n00:24:44.689 --> 00:24:49.514\nAnd so, send an email, where I can specify\nthat, send an email to users with affected\n\n483\n00:24:49.514 --> 00:24:53.950\nfiles, an email to the administrator\nthat manages that information.\n\n484\n00:24:53.950 --> 00:24:58.340\nI can specify, I wanna send warnings and\nset them in the event log.\n\n485\n00:24:58.340 --> 00:24:59.850\nI can run some sort of command or\n\n486\n00:24:59.850 --> 00:25:04.390\nscript which may take a copy of the\ncontent and move it and then expire it.\n\n487\n00:25:04.390 --> 00:25:07.488\nI can do all sorts of stuff\nassociated with this.\n\n488\n00:25:07.488 --> 00:25:10.370\n&gt;&gt; Really cool for for\ndata retention, different methods and\n\n489\n00:25:10.370 --> 00:25:13.985\nreally you should have said ton of\ntools so far throughout this show.\n\n490\n00:25:13.985 --> 00:25:15.500\nBut just being aware of them and\n\n491\n00:25:15.500 --> 00:25:18.248\nknowing when to use them in your\nsituation is really key here.\n\n492\n00:25:18.248 --> 00:25:23.350\n&gt;&gt; It is cuz you have a lot of power in\nterms of the capabilities of the tools but\n\n493\n00:25:23.350 --> 00:25:26.481\nknowing, as you said, how to deploy\nthem to maximum advantage, right?\n\n494\n00:25:26.481 --> 00:25:28.240\n&gt;&gt; Right.\n&gt;&gt; In terms of what do we wanna achieve,\n\n495\n00:25:28.240 --> 00:25:30.010\nwhat desired outcomes do we want?\n\n496\n00:25:30.010 --> 00:25:31.260\nWhat kind of business requirements or\n\n497\n00:25:31.260 --> 00:25:34.480\nneeds are we fulfilling with this tool,\nis gonna be equally important.\n\n498\n00:25:34.480 --> 00:25:37.810\nYou've gotta plan to use\nthe tool effectively, absolutely.\n\n499\n00:25:37.810 --> 00:25:42.160\nWe can generate reports here and specify\nwhat value or type of output we want for\n\n500\n00:25:42.160 --> 00:25:44.880\nthe reports CSV, TXT, etc.\n\n501\n00:25:44.880 --> 00:25:45.890\nI would deliver it.\n\n502\n00:25:45.890 --> 00:25:47.840\nWe could specify the conditions,\n\n503\n00:25:47.840 --> 00:25:52.010\nthe property conditions which we would put\nin and say okay, this property remember\n\n504\n00:25:52.010 --> 00:25:55.530\narcing back to the property,\nconfidential documents was the property.\n\n505\n00:25:55.530 --> 00:25:57.650\nRight, you wanna pivot on that property.\n\n506\n00:25:57.650 --> 00:26:01.590\nAnd then you'll see here, let's schedule\nthis to run so we can go in and\n\n507\n00:26:01.590 --> 00:26:04.140\nspecify okay,\nthis will be whatever the case is.\n\n508\n00:26:04.140 --> 00:26:09.080\nSo we can automate a lot of these\noutcomes or automate what we wanna do.\n\n509\n00:26:09.080 --> 00:26:11.350\nHere with some sort of\na file management task.\n\n510\n00:26:11.350 --> 00:26:14.920\nYou can bring in this idea of using\ntask to automate some things.\n\n511\n00:26:14.920 --> 00:26:18.140\nNow what I did with my task,\nI already have one created, right?\n\n512\n00:26:18.140 --> 00:26:24.480\nIs I created a little copy task, so\nif we just go in and take a look at it.\n\n513\n00:26:24.480 --> 00:26:29.470\nWhat this one does is copy confidential\nis what I called it, it'll copy\n\n514\n00:26:29.470 --> 00:26:34.060\nfiles that are tagged confidential and put\nthem into some sort of designated folder.\n\n515\n00:26:34.060 --> 00:26:38.398\nAnd you can see here I specified\nthe projects directory, the action was\n\n516\n00:26:38.398 --> 00:26:42.804\nI wanted it to run, a little copy file\ncommand batch file that I created,\n\n517\n00:26:42.804 --> 00:26:46.867\na little command file that I created\nthat will just copy the files.\n\n518\n00:26:46.867 --> 00:26:48.831\nAnd move them to another\ndirectory somewhere.\n\n519\n00:26:48.831 --> 00:26:51.311\nRight, so I can do that,\nso I just specify that,\n\n520\n00:26:51.311 --> 00:26:54.340\nrun that under the local service account.\n\n521\n00:26:54.340 --> 00:26:59.300\nAnd then, I didn't do any notifications,\nbut I showed you that I could.\n\n522\n00:26:59.300 --> 00:27:02.830\nI didn't bother with setting\nanything special on reports.\n\n523\n00:27:02.830 --> 00:27:06.200\nI did specify the property here for\nthe condition.\n\n524\n00:27:06.200 --> 00:27:09.470\nRemember I said,\nconfidential documents is the property,\n\n525\n00:27:09.470 --> 00:27:13.490\nso when something is tagged under\nthe confidential documents property\n\n526\n00:27:13.490 --> 00:27:17.020\nthen we want to be able to apply\nthis task to it when we run it.\n\n527\n00:27:17.020 --> 00:27:20.020\nThat's kind of the scoping and\nfiltering that I did.\n\n528\n00:27:20.020 --> 00:27:25.760\nSo I specified the value of finance which\nmeans now this would only apply to or\n\n529\n00:27:25.760 --> 00:27:28.370\nthis rather would not\napply because remember,\n\n530\n00:27:28.370 --> 00:27:31.720\nI changed the way I ran the rule and\nput the word hello in there.\n\n531\n00:27:31.720 --> 00:27:33.790\nSo I'd have to actually edit this, right?\n\n532\n00:27:33.790 --> 00:27:37.570\nAnd specify value here as\nbeing hello instead of finance\n\n533\n00:27:37.570 --> 00:27:39.920\nto get it to match up and\nrun the right way.\n\n534\n00:27:39.920 --> 00:27:44.050\nBut I can specify you see here my\nproperty, my operator contains or\n\n535\n00:27:44.050 --> 00:27:45.490\ndoes not contain.\n\n536\n00:27:45.490 --> 00:27:48.930\nI could do does not contain,\nequal to, not equal to.\n\n537\n00:27:48.930 --> 00:27:49.733\n&gt;&gt; Those different Boolean\noptions they have.\n\n538\n00:27:49.733 --> 00:27:52.876\n&gt;&gt; Less than, greater than, all sorts of\ndifferent comparison operators, exactly.\n\n539\n00:27:52.876 --> 00:27:53.380\n&gt;&gt; Cool.\n\n540\n00:27:53.380 --> 00:27:57.230\n&gt;&gt; So I can do that, put in the word\nfinance or whatever I wanna use there.\n\n541\n00:27:57.230 --> 00:27:59.370\nAnd then I schedule the to run,\nit's 7-0-700, right?\n\n542\n00:27:59.370 --> 00:28:02.624\nSo 7 AM, as you can see.\n\n543\n00:28:02.624 --> 00:28:05.495\nAnd I would do Monday through Friday or\nwhatever the case may be, right?\n\n544\n00:28:05.495 --> 00:28:08.600\nAnd from there,\njust say it's 7 AM or good morning.\n\n545\n00:28:08.600 --> 00:28:10.487\nGo through, take a look and\nthen anything you find-\n\n546\n00:28:10.487 --> 00:28:11.900\n&gt;&gt; Check these files.\n\n547\n00:28:11.900 --> 00:28:15.550\n&gt;&gt; Move them over to this directory,\nso they're gonna be encrypted or\n\n548\n00:28:15.550 --> 00:28:16.550\nwhatever the case may be.\n\n549\n00:28:16.550 --> 00:28:20.090\nMaybe the target directory\nis now an encrypted folder,\n\n550\n00:28:20.090 --> 00:28:21.550\nsomething like that, right?\n\n551\n00:28:21.550 --> 00:28:23.360\nSo I could easily do that, if I wanted to.\n\n552\n00:28:23.360 --> 00:28:30.260\nSo I've able to go in and just using\nlet's say we have one, two, three, four.\n\n553\n00:28:30.260 --> 00:28:34.340\nSo out of the five key areas\nin FSRM using two of the five,\n\n554\n00:28:34.340 --> 00:28:35.720\nkinda combining them together.\n\n555\n00:28:35.720 --> 00:28:39.370\nI've been able to show you in this little\nwalk through just as we're starting to\n\n556\n00:28:39.370 --> 00:28:40.620\ntalk about FRSM.\n\n557\n00:28:40.620 --> 00:28:43.670\nBeen able to show you a very\nimportant set of capabilities right?\n\n558\n00:28:43.670 --> 00:28:47.120\nYou can classify data based\non properties and rules.\n\n559\n00:28:47.120 --> 00:28:49.760\nApply the classification, have an output\n\n560\n00:28:49.760 --> 00:28:54.260\nthat shows us that the data was classified\nand track that on the classification tab.\n\n561\n00:28:54.260 --> 00:28:58.230\nWe could then also automate activity\nassociated with that classification\n\n562\n00:28:58.230 --> 00:29:01.170\nall using FSRM and\njust with a couple of clicks and\n\n563\n00:29:01.170 --> 00:29:05.280\na few simple logical rules and or\nproperties associated in that.\n\n564\n00:29:05.280 --> 00:29:07.640\nWe'll get more into some\nof the other areas,\n\n565\n00:29:07.640 --> 00:29:10.770\nquota management,\nfile screening management.\n\n566\n00:29:10.770 --> 00:29:13.220\nWe'll take a look at these areas\nin the upcoming episodes, as well.\n\n567\n00:29:13.220 --> 00:29:17.350\nWe'll talk about FSRM as a holistic\nsuite or package of capabilities.\n\n568\n00:29:17.350 --> 00:29:20.220\nIn other words, I'll explore\nsome of these other key areas.\n\n569\n00:29:20.220 --> 00:29:23.630\nI wanted to start out by really just\nletting you get immersed in the tool,\n\n570\n00:29:23.630 --> 00:29:26.370\nsee what it's like and\nunderstand the logic of it.\n\n571\n00:29:26.370 --> 00:29:29.930\nSo that way, we talk more about some of\nthese, we demo some of the other areas.\n\n572\n00:29:29.930 --> 00:29:32.330\nYou have a better sense of\nthe capabilities of the tool.\n\n573\n00:29:32.330 --> 00:29:34.090\nRemember, we're gonna\nbring DAC back in and\n\n574\n00:29:34.090 --> 00:29:37.300\ntalk about Dynamic Access Control\nas part of this as well.\n\n575\n00:29:37.300 --> 00:29:43.165\nCuz we do need FSRM running and available\nin order to leverage FSRM to use for.\n\n576\n00:29:43.165 --> 00:29:46.915\nThat happens, so we'll have that as a pre\nreq, have it set up in our environment,\n\n577\n00:29:46.915 --> 00:29:49.785\nand then we'll be able to talk about\nDAC in our upcoming episodes as well.\n\n578\n00:29:49.785 --> 00:29:50.325\n&gt;&gt; All right, perfect.\n\n579\n00:29:50.325 --> 00:29:53.215\nSo we look forward in\nthe subsequent episodes coming up\n\n580\n00:29:53.215 --> 00:29:55.535\nhere then to continue\ntaking a look at FSRM and\n\n581\n00:29:55.535 --> 00:29:58.655\nall the features, then followed by DAC,\nso you don't wanna miss it.\n\n582\n00:29:58.655 --> 00:30:00.675\nBut for this show,\nwe'll go ahead and sign out.\n\n583\n00:30:00.675 --> 00:30:02.335\nI've been your host, Cherokee Boose.\n\n584\n00:30:02.335 --> 00:30:03.325\n&gt;&gt; I'm Adam Gordon.\n\n585\n00:30:03.325 --> 00:30:06.514\n&gt;&gt; See you next time on ITProTV.\n\n586\n00:30:06.514 --> 00:30:12.540\n[MUSIC]\n\n587\n00:30:12.540 --> 00:30:15.363\n&gt;&gt; Thank you for watching ITProTV\n\n",
          "vimeoId": "235068021"
        },
        {
          "description": "In this episode, Adam and Cherokee continue exploring FSRM. They delve further into FSRM Settings such as configuring firewall configurations. They talk about managing other computers and show the tool integrates with Group Policy. They also demonstrate how to implement quota management by setting hard or soft quotas to storage areas.",
          "length": "1883",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-2-implement_fsrm_and_dac_pt2-092017-A-PGM.00_00_14_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-2-implement_fsrm_and_dac_pt2-092017-A-PGM.00_00_14_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-2-implement_fsrm_and_dac_pt2-092017-A-PGM.00_00_14_10.Still001-sm.jpg",
          "title": "Implement FSRM and DAC Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:06.482\nWelcome to ITProTv,\nI'm your host Don Pezet [CROSSTALK]\n\n2\n00:00:06.482 --> 00:00:08.303\n[MUSIC]\n\n3\n00:00:08.303 --> 00:00:11.944\n&gt;&gt; You're watching ITProTv.\n\n4\n00:00:11.944 --> 00:00:15.350\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n5\n00:00:15.350 --> 00:00:17.470\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.470 --> 00:00:22.250\nThis is a continuation from a previous\nshow where we were taking a look at FSRM.\n\n7\n00:00:22.250 --> 00:00:25.429\nWe're gonna go ahead and pick right\nback up and with us today, in studio,\n\n8\n00:00:25.429 --> 00:00:27.450\nwe have Microsoft expert, Mr. Adam Gordon.\n\n9\n00:00:27.450 --> 00:00:28.670\nHow's it going today, Adam.\n\n10\n00:00:28.670 --> 00:00:30.150\n&gt;&gt; Should I do the whole\nshow episode thing?\n\n11\n00:00:30.150 --> 00:00:31.520\nWas it a show?\n\n12\n00:00:31.520 --> 00:00:32.513\n[CROSSTALK]\n&gt;&gt; Yeah, was it a show?\n\n13\n00:00:32.513 --> 00:00:33.514\nWas it an episode?\n\n14\n00:00:33.514 --> 00:00:35.480\nHey, we are gonna use those\nterms interchangeably here.\n\n15\n00:00:35.480 --> 00:00:36.371\n&gt;&gt; We're just doing something, now,\n\n16\n00:00:36.371 --> 00:00:38.050\nwe're gonna do some more stuff is\nessentially what you're saying.\n\n17\n00:00:38.050 --> 00:00:38.671\n&gt;&gt; Exactly.\n\n18\n00:00:38.671 --> 00:00:41.050\n[CROSSTALK]\n&gt;&gt; I think we are going to be diving\n\n19\n00:00:41.050 --> 00:00:43.470\na little bit deeper inside that FSRM hole,\nright?\n\n20\n00:00:45.440 --> 00:00:47.240\n&gt;&gt; Okay, if that's what you want to do.\n\n21\n00:00:47.240 --> 00:00:48.004\nI was gonna do something different.\n\n22\n00:00:48.004 --> 00:00:48.597\n&gt;&gt; Like the rabbit hole.\n\n23\n00:00:48.597 --> 00:00:50.834\n[LAUGH]\n&gt;&gt; Okay, well, we can do that, cuz,\n\n24\n00:00:50.834 --> 00:00:51.860\nyou know, you're the boss.\n\n25\n00:00:51.860 --> 00:00:53.380\nSo if you want to do that, we'll do that.\n\n26\n00:00:53.380 --> 00:00:56.125\nSo instead of all the cool stuff I was\ngonna show you, we're gonna do what\n\n27\n00:00:56.125 --> 00:00:59.330\nCherokee says which is boring, we'll do\nit anyway, all right, so I'm only okay.\n\n28\n00:00:59.330 --> 00:01:01.800\nWe're gonna do FSRM part two, so to speak.\n\n29\n00:01:01.800 --> 00:01:06.100\nAnd we are actually gonna go a little\ndeeper into the FSRM console.\n\n30\n00:01:06.100 --> 00:01:08.500\nIn our last episode,\nwe didn't get a chance to take a look,\n\n31\n00:01:08.500 --> 00:01:12.270\nyou should definitely go see that, it'll\ngive you the flavor of what we're doing,\n\n32\n00:01:12.270 --> 00:01:16.330\nand also the context of what\nwe're doing within FSRM.\n\n33\n00:01:16.330 --> 00:01:20.770\nFSRM as I explained in the last episode\nis a set or a collection of tools,\n\n34\n00:01:20.770 --> 00:01:22.765\nwe gotta bundle them, put them together.\n\n35\n00:01:22.765 --> 00:01:24.579\nThere a role that we install.\n\n36\n00:01:24.579 --> 00:01:29.002\nIt's been available since Server 2008 R2,\nso it's not a new kinda thing.\n\n37\n00:01:29.002 --> 00:01:33.334\nIt's been around for some time but\nwe're using it, making it available.\n\n38\n00:01:33.334 --> 00:01:36.607\nSo that we can go in and\nuse the collection of technologies,\n\n39\n00:01:36.607 --> 00:01:41.060\nquota management, file screening\nmanagement, classification management,\n\n40\n00:01:41.060 --> 00:01:44.398\nschedule their file management tasks for\nscheduled tasks,\n\n41\n00:01:44.398 --> 00:01:48.128\nso that we can go in and use this\ncollection of tools and utilities and\n\n42\n00:01:48.128 --> 00:01:51.110\ncapabilities to do what the name implies,\nright?\n\n43\n00:01:51.110 --> 00:01:54.560\nFile service or\nfile server resource manager.\n\n44\n00:01:54.560 --> 00:01:58.040\nGoing in and\nmanaging the resources of file servers and\n\n45\n00:01:58.040 --> 00:02:02.970\ncontrolling them and qualifying them and\nquantifying them centrally.\n\n46\n00:02:02.970 --> 00:02:07.210\nAnd being able to then apply that logic\nto wherever those resources may exist.\n\n47\n00:02:07.210 --> 00:02:08.420\nAnd so, we've installed and\n\n48\n00:02:08.420 --> 00:02:12.370\nconfigured FSRM in our last episode,\nwe took a look at how to do that.\n\n49\n00:02:12.370 --> 00:02:14.966\nShowed you the PowerShell option.\n\n50\n00:02:14.966 --> 00:02:16.890\nYou know, install for\n\n51\n00:02:16.890 --> 00:02:21.520\nFRSM is done with an add Windows feature\ncommand lit like many of the things we do.\n\n52\n00:02:21.520 --> 00:02:22.780\nShowed you how to do that in the gooey.\n\n53\n00:02:22.780 --> 00:02:26.980\nJust quickly opened up the server manager,\nwent to the manage,\n\n54\n00:02:26.980 --> 00:02:30.080\nand add/remove capabilities\nto look at the role.\n\n55\n00:02:30.080 --> 00:02:32.269\nShowed you were you would\nfind it in Server 16.\n\n56\n00:02:32.269 --> 00:02:36.808\nAnd then we brought up the console and\nwe walked through a discussion and\n\n57\n00:02:36.808 --> 00:02:41.422\na demo of of how to use the classification\nmanagement and file management\n\n58\n00:02:41.422 --> 00:02:46.390\ncapabilities to be able to classify\nsome text files that we've created.\n\n59\n00:02:46.390 --> 00:02:49.219\nIn a directory that we have and\napplied a rule and\n\n60\n00:02:49.219 --> 00:02:52.918\na set of properties to be able to\ngo in and see how that was done.\n\n61\n00:02:52.918 --> 00:02:56.655\nAnd that as actually a fairly interesting\ndemo if you haven't seen it before.\n\n62\n00:02:56.655 --> 00:02:57.862\nSo we've kinda done that.\n\n63\n00:02:57.862 --> 00:02:59.700\nWhat we're gonna do is jump back in.\n\n64\n00:02:59.700 --> 00:03:03.880\nTake a look at some of the other areas,\nFSRM, talk about quota management,\n\n65\n00:03:03.880 --> 00:03:06.850\nI know Cherokee had been really excited\nabout that before we came on and\n\n66\n00:03:06.850 --> 00:03:09.140\nstarted doing this group of episodes,\n\n67\n00:03:09.140 --> 00:03:12.820\nand wanted to talk about the concepts\nof quotas, and how we deal with those.\n\n68\n00:03:12.820 --> 00:03:15.060\nSo she's going to chime\nin on that a little bit.\n\n69\n00:03:15.060 --> 00:03:16.670\nFile screening management.\n\n70\n00:03:16.670 --> 00:03:18.760\nWe'll take a look at some\ninteresting concepts there.\n\n71\n00:03:18.760 --> 00:03:20.100\nEssentially, the ability to block or\n\n72\n00:03:20.100 --> 00:03:24.550\ndecide how we deal with files by extension\nand do a little demonstration and\n\n73\n00:03:24.550 --> 00:03:28.120\nsome storage reports management,\nalong with some additional features.\n\n74\n00:03:28.120 --> 00:03:31.580\nSo join me here if you will,\nright up over there actually and\n\n75\n00:03:31.580 --> 00:03:32.390\nwe're gonna take a look.\n\n76\n00:03:32.390 --> 00:03:38.280\nSo we're back in the file server or\nFSRM, file server resource manager.\n\n77\n00:03:38.280 --> 00:03:42.000\nWe're in the console,\njust to remind you of how we get in here.\n\n78\n00:03:42.000 --> 00:03:44.010\nJust minimize this for one second.\n\n79\n00:03:44.010 --> 00:03:45.646\nBring up our server manager.\n\n80\n00:03:45.646 --> 00:03:47.648\nRight, we're in the tools area and\n\n81\n00:03:47.648 --> 00:03:52.122\nafter we've done the install file server\nresource manager is available to us,\n\n82\n00:03:52.122 --> 00:03:55.725\nyou can see it right there and\nall I've done is just gone ahead and\n\n83\n00:03:55.725 --> 00:03:59.590\nlaunched that MMC or that console and\nwe're now sitting here.\n\n84\n00:03:59.590 --> 00:04:02.864\nNow, in the episode we went\nin really focus, as I said,\n\n85\n00:04:02.864 --> 00:04:05.107\ndown on classification management.\n\n86\n00:04:05.107 --> 00:04:08.049\nLooked at the properties,\nyou could see our confidential\n\n87\n00:04:08.049 --> 00:04:11.340\ndocuments property is still\nthere from our demonstration.\n\n88\n00:04:11.340 --> 00:04:14.240\nWe went ahead took a look\nat classification rules, or\n\n89\n00:04:14.240 --> 00:04:16.340\nconfidential documents rule is there.\n\n90\n00:04:16.340 --> 00:04:19.750\nWe took a look at,\ntalked about our file management tasks.\n\n91\n00:04:19.750 --> 00:04:22.510\nMy tasks that I created as\na custom action is there.\n\n92\n00:04:22.510 --> 00:04:28.220\nAnd inside of our environment here,\njust go to the C drive for a minute.\n\n93\n00:04:28.220 --> 00:04:30.500\nI do still have my projects folder.\n\n94\n00:04:30.500 --> 00:04:33.480\nI do still have my documents\nthat we classified,\n\n95\n00:04:33.480 --> 00:04:37.225\nmy other document that we played with,\nwithout the classification applied,\n\n96\n00:04:37.225 --> 00:04:41.295\nwe ran the rule if you remember and\nas a result of running our\n\n97\n00:04:41.295 --> 00:04:45.685\nclassification rule saw our auto\ngenerated report to show us the outcome.\n\n98\n00:04:45.685 --> 00:04:52.235\nTook a look at all that, and then in\nany one of these documents as a result,\n\n99\n00:04:52.235 --> 00:04:56.550\nwe went to our classification tab,\njust move this over so you can see this.\n\n100\n00:04:56.550 --> 00:05:00.900\nAnd we took a look at the fact that\nthe confidential documents rule,\n\n101\n00:05:00.900 --> 00:05:05.470\nwhich is applied now, has a value of\nconfidential associated with the document.\n\n102\n00:05:05.470 --> 00:05:10.350\nBecause our requirement was that the word\nfinance appear somewhere in the document\n\n103\n00:05:10.350 --> 00:05:12.790\nin order to apply this particular rule.\n\n104\n00:05:13.830 --> 00:05:18.630\nAnd so, for these documents that have the\nword finance in it, as you can see, that\n\n105\n00:05:18.630 --> 00:05:23.340\nclassification was a plot for the document\nthat does not have the word finance in it.\n\n106\n00:05:23.340 --> 00:05:27.410\nAnd you'd text document,\nthe classification rule runs, but\n\n107\n00:05:29.140 --> 00:05:33.230\ndoes not apply to the document and\nthe value parameter there is blank.\n\n108\n00:05:33.230 --> 00:05:34.130\nRight now, it's a null.\n\n109\n00:05:34.130 --> 00:05:37.890\nThere's no classification applied,\nbecause the correct criteria or\n\n110\n00:05:37.890 --> 00:05:40.470\nthe condition has not been met for\nthe rule.\n\n111\n00:05:40.470 --> 00:05:41.750\nSo then through we've been through,\nwe've talked about this.\n\n112\n00:05:41.750 --> 00:05:45.550\nWhich is a very important aspect of\nfile server resource management, but\n\n113\n00:05:45.550 --> 00:05:46.540\nwe have all these other areas.\n\n114\n00:05:46.540 --> 00:05:50.199\nSo let's take a look at quota management,\nlet's talk about quotas,\n\n115\n00:05:50.199 --> 00:05:51.881\nquota management a little bit.\n\n116\n00:05:51.881 --> 00:05:54.830\nBefore we do that,\ncuz I know you wanted to chime in on this.\n\n117\n00:05:54.830 --> 00:05:58.000\nLet me actually go up one level here,\nand let's take a look at some of\n\n118\n00:05:58.000 --> 00:06:00.190\nthe underlying properties\nassociated with FSRM.\n\n119\n00:06:00.190 --> 00:06:02.092\nWe didn't really go into\nthis in the last episode.\n\n120\n00:06:02.092 --> 00:06:05.680\nBut there is a set of properties\nassociated with the root functionality\n\n121\n00:06:05.680 --> 00:06:09.410\nthat we can program or configure that\ncontrol certain aspects of things.\n\n122\n00:06:09.410 --> 00:06:10.690\nSo we do wanna take a look.\n\n123\n00:06:10.690 --> 00:06:12.700\nYou come up here, right click and\n\n124\n00:06:12.700 --> 00:06:16.390\nyou have the ability to use this to\nremotely manage FSRM on another machine.\n\n125\n00:06:16.390 --> 00:06:20.485\nJust many of these consoles and\nmany of these services will allow.\n\n126\n00:06:20.485 --> 00:06:24.285\nForce, or right click configure, or\ncreate a connection to another machine.\n\n127\n00:06:24.285 --> 00:06:25.635\nSo that's easy enough, right?\n\n128\n00:06:25.635 --> 00:06:27.905\nJust put in the name of the machine,\nconnect out,\n\n129\n00:06:27.905 --> 00:06:30.465\nyou can use FSRM to manage there.\n\n130\n00:06:30.465 --> 00:06:33.495\nBut configure options is what\nwe wanna go take a look at,\n\n131\n00:06:33.495 --> 00:06:37.005\njust move this over here so\nwe can take a look.\n\n132\n00:06:37.005 --> 00:06:43.180\nAnd what we see come up,\nis we have a series of tabs, right.\n\n133\n00:06:43.180 --> 00:06:45.430\nCan we go full screen, just so\nyou can see this just a little bit easier.\n\n134\n00:06:45.430 --> 00:06:47.630\nWe have email notifications.\n\n135\n00:06:47.630 --> 00:06:50.151\nAnd this is hopefully self explanatory,\nright,\n\n136\n00:06:50.151 --> 00:06:53.410\nin the sense that we have our\nSMTP server name or IP address.\n\n137\n00:06:53.410 --> 00:06:57.070\nEither for SMTP relay, or\nan exchange server that we wanna use.\n\n138\n00:06:57.070 --> 00:06:59.830\nRemember, this will be for\nour notifications, right?\n\n139\n00:06:59.830 --> 00:07:03.920\nIf we wanna get a notification,\nor have a report generated, and\n\n140\n00:07:03.920 --> 00:07:08.800\nthen have that report emailed, we can use\nthe settings here to be able to do that.\n\n141\n00:07:08.800 --> 00:07:11.230\nSo we have the ability to be\nable to set up our server.\n\n142\n00:07:11.230 --> 00:07:15.232\nOur default administration address, and\nour default administrator recipients\n\n143\n00:07:15.232 --> 00:07:18.538\nare there, so our default from address,\nwhatever it would be, and\n\n144\n00:07:18.538 --> 00:07:22.611\nwe could send a test email to just kind of\nqualify that, right, and check that out.\n\n145\n00:07:22.611 --> 00:07:26.148\nThen we have our notification limits, so\nI'm just gonna go across the bottom and\n\n146\n00:07:26.148 --> 00:07:28.960\nacross the top,\nin order based on how the tabs are set up.\n\n147\n00:07:28.960 --> 00:07:30.717\nSo a notification limits here.\n\n148\n00:07:30.717 --> 00:07:35.335\nThis allows us to reduce the number\nof notifications that are raised for,\n\n149\n00:07:35.335 --> 00:07:39.030\nyou know,\nrepetitive events that are repeating.\n\n150\n00:07:39.030 --> 00:07:41.205\nWe'll, you know, sometimes become\na little bit of a nuisance, right?\n\n151\n00:07:41.205 --> 00:07:45.420\nYou know, you see 20, 30, 40 events\nhappening in a small amount of time.\n\n152\n00:07:45.420 --> 00:07:50.094\nYou get all those alerts for all those\nwarnings or whatever they maybe and\n\n153\n00:07:50.094 --> 00:07:52.326\nthey pile up, they get in the way.\n\n154\n00:07:52.326 --> 00:07:56.046\nIn the episodes where Cherokee and\nI talked about the ability to use\n\n155\n00:07:56.046 --> 00:07:59.834\nthe advanced threat analytics tool,\nthe Microsoft NDIS product,\n\n156\n00:07:59.834 --> 00:08:04.286\nthe network-based IDS And the ability\nto generate alerts and warnings there,\n\n157\n00:08:04.286 --> 00:08:05.902\nto tell us what's going on.\n\n158\n00:08:05.902 --> 00:08:08.361\nYou'll imagine if we couldn't filter for\nrepetitive events, and\n\n159\n00:08:08.361 --> 00:08:09.881\nhave some sort of control that you would.\n\n160\n00:08:09.881 --> 00:08:13.419\n&gt;&gt; You just kind of get numb to all\nthose notifications and you kind of,\n\n161\n00:08:13.419 --> 00:08:16.851\nignore the important ones like,\nthat's just another silly.\n\n162\n00:08:16.851 --> 00:08:18.799\n&gt;&gt; You do, or you get overwhelmed.\n\n163\n00:08:18.799 --> 00:08:20.460\n&gt;&gt; Overwhelmed yeah.\n&gt;&gt; You just can't respond to any of them.\n\n164\n00:08:20.460 --> 00:08:23.290\nBecause, maybe you're drowning in\na sea of just repetitive events,\n\n165\n00:08:23.290 --> 00:08:24.860\nthat somebody's doing something.\n\n166\n00:08:24.860 --> 00:08:26.340\nAnd you want to be notified of that.\n\n167\n00:08:26.340 --> 00:08:28.526\nDon't get me wrong.\nBut you may want to set some parameters,\n\n168\n00:08:28.526 --> 00:08:29.820\nis all I'm suggesting.\n\n169\n00:08:29.820 --> 00:08:31.010\nWe could go in here.\n\n170\n00:08:31.010 --> 00:08:32.650\nYou have notification limits,\ncan be sent for\n\n171\n00:08:32.650 --> 00:08:36.750\nevent log notifications, command\nnotifications, report notifications.\n\n172\n00:08:36.750 --> 00:08:39.280\nIt's all these different areas right,\nas you can see.\n\n173\n00:08:39.280 --> 00:08:41.340\nAnd the number here is in minutes.\n\n174\n00:08:41.340 --> 00:08:43.784\nSo 60 as the default,\nmeans you have 60 minutes.\n\n175\n00:08:43.784 --> 00:08:45.811\nThat's right, just so\nyou're aware of that.\n\n176\n00:08:45.811 --> 00:08:47.415\nJust keep that in mind.\n\n177\n00:08:47.415 --> 00:08:49.265\nThe limit applies to all notifications,\nbut\n\n178\n00:08:49.265 --> 00:08:52.495\nwe can override them using\nthe FSRM command line tools.\n\n179\n00:08:52.495 --> 00:08:54.065\nMeaning we can go in, and\n\n180\n00:08:54.065 --> 00:08:56.575\ncreate exceptions from a command\nline using PowerShell.\n\n181\n00:08:56.575 --> 00:08:58.425\nWe have a set of PowerShell commands for\n\n182\n00:08:58.425 --> 00:09:01.905\nFSRM, that get loaded when\nwe install the FSRM role.\n\n183\n00:09:01.905 --> 00:09:05.050\nAnd we can use those to create\noverrides here if necessary.\n\n184\n00:09:05.050 --> 00:09:07.110\nWe have storage report capabilities here.\n\n185\n00:09:07.110 --> 00:09:10.100\nWe can figure the default parameters for\nall the different reports.\n\n186\n00:09:10.100 --> 00:09:13.940\nThese are the reports, by the way,\nthat we're talking about configuring here.\n\n187\n00:09:13.940 --> 00:09:17.067\nThese are the reports that we'll see\nin our storage reports management,\n\n188\n00:09:17.067 --> 00:09:19.351\nlittle bit later on in our\ndemonstration right here.\n\n189\n00:09:19.351 --> 00:09:20.246\nWe're setting up,\n\n190\n00:09:20.246 --> 00:09:23.520\nor editing the default parameters\naround these individual reports.\n\n191\n00:09:23.520 --> 00:09:24.650\nThese are all pre-made,\n\n192\n00:09:24.650 --> 00:09:28.210\nin other words these are the default\nreport templates that exist.\n\n193\n00:09:28.210 --> 00:09:31.860\nYou can see here, lets say duplicate\nfiles, whatever it may be.\n\n194\n00:09:31.860 --> 00:09:34.330\nHighlighter report, which ever one it is.\n\n195\n00:09:34.330 --> 00:09:40.630\nAnd then edit parameters, we can go in\nwhatever editable parameters may exist.\n\n196\n00:09:40.630 --> 00:09:44.770\nReport parameters here, maximum number of\nfiles on a duplicate group per report.\n\n197\n00:09:44.770 --> 00:09:49.370\nAnd specify that maximum number of\ngroups of duplicate files, per report.\n\n198\n00:09:49.370 --> 00:09:52.290\nWe can modify those,\nwhatever those may be.\n\n199\n00:09:52.290 --> 00:09:56.870\nSome of these, files by file group,\nmay have as you can see clearly,\n\n200\n00:09:56.870 --> 00:09:59.570\ndifferent settings,\ndifferent parameters associated with them.\n\n201\n00:09:59.570 --> 00:10:03.560\nEvery report's different, some of the\nreport is pulling different information,\n\n202\n00:10:03.560 --> 00:10:08.740\nand providing different insights, based on\nthe kind of data, that feeds the report.\n\n203\n00:10:08.740 --> 00:10:11.041\nHere we could select files by groups, and\n\n204\n00:10:11.041 --> 00:10:13.886\nmaybe say instead of\nreporting on all file groups.\n\n205\n00:10:13.886 --> 00:10:16.707\nWe can go ahead, and\neither create a file group, so\n\n206\n00:10:16.707 --> 00:10:20.120\nwe can actually add a file\ngroup into the default report.\n\n207\n00:10:20.120 --> 00:10:24.056\nOr I can go ahead, and select one\nexecutable file, let's just say.\n\n208\n00:10:24.056 --> 00:10:29.090\nAnd edit that particular setting, or the\ngroup of settings around that file group.\n\n209\n00:10:29.090 --> 00:10:34.078\nSo that I can say, that files that\nare included in the executable file\n\n210\n00:10:34.078 --> 00:10:39.072\ngroup are not just in this case .exes,\nor .command, .com, bat.\n\n211\n00:10:39.072 --> 00:10:39.585\nWhat's there?\n\n212\n00:10:39.585 --> 00:10:43.205\nINF, CPL,\nthere's a whole list of file types, right?\n\n213\n00:10:43.205 --> 00:10:44.045\nI could go in and modify this.\n\n214\n00:10:44.045 --> 00:10:48.465\nIt's very prescriptive, very detailed,\nvery granular level control.\n\n215\n00:10:48.465 --> 00:10:49.935\nAnd understanding we can go in and\n\n216\n00:10:49.935 --> 00:10:53.950\nmake edits or changes,\nto each one of these report types.\n\n217\n00:10:53.950 --> 00:10:57.500\nFile by property, another one,the\nability to include only files,\n\n218\n00:10:57.500 --> 00:10:59.650\nthat match the following name parameter.\n\n219\n00:10:59.650 --> 00:11:04.290\nOr we could specify here, based on\nwhatever the report parameters are.\n\n220\n00:11:04.290 --> 00:11:06.630\nIn this case my only rule\nis confidential documents.\n\n221\n00:11:06.630 --> 00:11:09.100\nSo that one shows up,\nI could add others, and\n\n222\n00:11:09.100 --> 00:11:13.120\nhave different options based on\nthe creation of additional rules for this.\n\n223\n00:11:13.120 --> 00:11:17.120\nThis is my classification properties and\nrules set, I can see those.\n\n224\n00:11:17.120 --> 00:11:18.940\nI can see how linking, and\n\n225\n00:11:18.940 --> 00:11:23.480\ncreating content in other areas\nof FSRM is modifiable here, and\n\n226\n00:11:23.480 --> 00:11:28.309\nso keeping that in mind is important, and\nI can review reports from here as well.\n\n227\n00:11:29.440 --> 00:11:32.030\nI can go in and I can see a summary,\n\n228\n00:11:32.030 --> 00:11:35.120\na high level of what\nthe current settings are.\n\n229\n00:11:35.120 --> 00:11:37.780\nI don't have to go hunting\nreport by report, and see or\n\n230\n00:11:37.780 --> 00:11:39.700\nfigure out in my mind what's there.\n\n231\n00:11:39.700 --> 00:11:43.412\nI can see the output defaults of\nwhat these reports will look like.\n\n232\n00:11:43.412 --> 00:11:46.192\nIt is good for you to go in and\nto, there we go,\n\n233\n00:11:46.192 --> 00:11:49.592\ntake a look at some of the under\nthe hood settings here.\n\n234\n00:11:49.592 --> 00:11:50.620\nCuz there's a lot of subtly,\n\n235\n00:11:50.620 --> 00:11:54.480\nthat you have to be aware of\nas an administrator with FSRM.\n\n236\n00:11:54.480 --> 00:11:57.640\nThen, maximum number of files\nto include for any report.\n\n237\n00:11:57.640 --> 00:12:00.745\nAnd you can again specify,\nour default there is 1,000.\n\n238\n00:12:00.745 --> 00:12:05.330\nRemember, knowledge of default settings,\nusually a good idea for exam preparation.\n\n239\n00:12:05.330 --> 00:12:06.750\nI may not show you every report, and\n\n240\n00:12:06.750 --> 00:12:08.950\ngo through every detail of\nevery default with you.\n\n241\n00:12:08.950 --> 00:12:12.640\nI wouldn't go to that level, but I would\nwanna know something like maximum number\n\n242\n00:12:12.640 --> 00:12:16.810\nof files included in a report, regardless\nof the report type is a thousand.\n\n243\n00:12:16.810 --> 00:12:20.189\nAnd that default may actually be a good\none to be aware of, as an example, so\n\n244\n00:12:20.189 --> 00:12:21.004\njust so you know.\n\n245\n00:12:21.004 --> 00:12:23.614\nAll right, and then we have\nReport Locations, pretty standard,\n\n246\n00:12:23.614 --> 00:12:25.253\njust where am I my putting those reports.\n\n247\n00:12:25.253 --> 00:12:25.940\n&gt;&gt; We're keeping those.\n\n248\n00:12:25.940 --> 00:12:28.376\n&gt;&gt; Yeah, where are we keeping them,\nwhere can we reference them?\n\n249\n00:12:28.376 --> 00:12:31.421\nThe scheduled reports folder, the On\nDemand Reports, and the Incident Reports,\n\n250\n00:12:31.421 --> 00:12:31.950\nthat's all.\n\n251\n00:12:31.950 --> 00:12:35.712\nWe'll start out with C storage reports,\nand then it's just three sub-folders,\n\n252\n00:12:35.712 --> 00:12:37.330\nyou can modify that as needed.\n\n253\n00:12:37.330 --> 00:12:39.947\nThis is local to the FSRM server, so\n\n254\n00:12:39.947 --> 00:12:45.292\nyou obviously wanna be looking on\nthe server to find that, we have that.\n\n255\n00:12:45.292 --> 00:12:48.927\nFile screen audit, we're dealing\nwith some file screen settings now,\n\n256\n00:12:48.927 --> 00:12:50.964\nwe'll be taking a look at these as well.\n\n257\n00:12:50.964 --> 00:12:54.415\nThe file server resource manager allows\nus to record file screening activity in\n\n258\n00:12:54.415 --> 00:12:57.770\nan auditing database, which can then\nbe previewed and looked at later.\n\n259\n00:12:57.770 --> 00:12:58.760\nDo you wanna enable that?\n\n260\n00:12:58.760 --> 00:13:01.700\nYou have to turn that on,\nbecause by default that is not enabled, so\n\n261\n00:13:01.700 --> 00:13:05.240\nI would turn this on if I\nwanted to be able to do that.\n\n262\n00:13:05.240 --> 00:13:06.841\nJust merely click there,\n\n263\n00:13:06.841 --> 00:13:10.340\nand then click okay down at the bottom\nto be able to apply that setting.\n\n264\n00:13:10.340 --> 00:13:13.860\nAutomatic classification,\ndo I wanna enable a fixed schedule to run\n\n265\n00:13:13.860 --> 00:13:17.580\nclassification rules, and\nto have those abilities available to me?\n\n266\n00:13:17.580 --> 00:13:20.724\nAnd we showed you how to manually\nrun the rule in the last episode.\n\n267\n00:13:20.724 --> 00:13:24.090\nShowed you, you could schedule them,\nI can modify that behavior instead\n\n268\n00:13:24.090 --> 00:13:26.544\nof over arching schedule for\nanything I create here.\n\n269\n00:13:26.544 --> 00:13:30.442\nAnd then override on a per rule basis\nas needed, to modify that schedule.\n\n270\n00:13:30.442 --> 00:13:35.434\nI can do that, and then with access\ndenied assistance, I can go in and\n\n271\n00:13:35.434 --> 00:13:37.339\nenable that here as well.\n\n272\n00:13:37.339 --> 00:13:40.698\nI have to configure the email requests,\nthat would allow somebody who for\n\n273\n00:13:40.698 --> 00:13:42.455\ninstance, was file screening.\n\n274\n00:13:42.455 --> 00:13:46.456\nIf I block access to a directory with a\nfile screen, they may be able to then get\n\n275\n00:13:46.456 --> 00:13:49.552\na message that says hey,\nthis happened, and here's why.\n\n276\n00:13:49.552 --> 00:13:51.320\nAnd I'll show you what I mean by that.\n\n277\n00:13:51.320 --> 00:13:55.824\nIf we don't allow, or don't have\npermissions to access a file or folder,\n\n278\n00:13:55.824 --> 00:13:58.763\nthen we may not meet\nthe security requirements.\n\n279\n00:13:58.763 --> 00:14:01.706\nWe may not in other words have\nthe necessary requirement\n\n280\n00:14:01.706 --> 00:14:04.774\nconditions available to us,\nnot just blocking the user,\n\n281\n00:14:04.774 --> 00:14:07.793\nbut actually giving them some\noptions would be helpful.\n\n282\n00:14:07.793 --> 00:14:10.955\nAnd these settings would help us to\nthen clarify what we wanna do when\n\n283\n00:14:10.955 --> 00:14:11.850\na user is blocked.\n\n284\n00:14:11.850 --> 00:14:14.290\nThen, I'll show you what I mean by\nthat when we do file screening, and\n\n285\n00:14:14.290 --> 00:14:15.660\nhow that can be helpful.\n\n286\n00:14:15.660 --> 00:14:18.960\nWe do have the capability in here\nto go through all these settings.\n\n287\n00:14:18.960 --> 00:14:19.875\nAnd it would be a good for\n\n288\n00:14:19.875 --> 00:14:23.980\nyou as an administrator to have knowledge\nof what's going on, in the group settings,\n\n289\n00:14:23.980 --> 00:14:26.840\nor u[ in the file server\nresource manager properties.\n\n290\n00:14:26.840 --> 00:14:28.100\nSo you can better understand,\n\n291\n00:14:28.100 --> 00:14:31.010\nhow to fine tune some of the things\nwe're doing down below here.\n\n292\n00:14:31.010 --> 00:14:32.940\nJust some thoughts and ideas.\n\n293\n00:14:32.940 --> 00:14:35.155\nAll right so drum roll,\ncan we do a drum roll?\n\n294\n00:14:35.155 --> 00:14:36.269\n&gt;&gt; [SOUND] Am I getting better.\n\n295\n00:14:36.269 --> 00:14:36.918\n&gt;&gt; That was a computer roll.\n\n296\n00:14:36.918 --> 00:14:38.835\n&gt;&gt; You are as long as you\ndidn't break your computer.\n\n297\n00:14:38.835 --> 00:14:40.755\n&gt;&gt; I don't know I just did\nthis thing on my computer.\n\n298\n00:14:40.755 --> 00:14:42.450\n&gt;&gt; [NOISE] Yeah I.\n\n299\n00:14:42.450 --> 00:14:44.895\n&gt;&gt; Yeah well, that was not the best\nway to do a drum roll but okay good.\n\n300\n00:14:44.895 --> 00:14:47.680\nRemind me not to let you do a drum roll\nwhen we're on my side of the podium here.\n\n301\n00:14:47.680 --> 00:14:49.350\nWith my computers,\nmine's a little delicate.\n\n302\n00:14:49.350 --> 00:14:50.800\nMine doesn't like it when you do that.\n\n303\n00:14:50.800 --> 00:14:52.852\nAll right so, we're going to\ntalk about quota management.\n\n304\n00:14:52.852 --> 00:14:55.462\nI know you were interested\nin quota management, and\n\n305\n00:14:55.462 --> 00:14:57.313\nkind of the value proposition of it.\n\n306\n00:14:57.313 --> 00:15:00.890\nMaybe let's position it first,\njust by talking about the context.\n\n307\n00:15:00.890 --> 00:15:02.510\nWhen we think about quota management,\n\n308\n00:15:02.510 --> 00:15:04.450\nwhat are we thinking about quota\nmanagement being good for?\n\n309\n00:15:04.450 --> 00:15:07.770\nWhat are some of the things\nwe may want to do or control?\n\n310\n00:15:07.770 --> 00:15:12.326\n&gt;&gt; Well, I would definitely want to take\na look at how I can implement perhaps,\n\n311\n00:15:12.326 --> 00:15:15.330\na storage limitation,\nmaybe on a per user basis.\n\n312\n00:15:15.330 --> 00:15:18.621\nOr for a particular volume,\nor storage location, so\n\n313\n00:15:18.621 --> 00:15:22.915\nit's not being inundated with\nunnecessary files or information.\n\n314\n00:15:22.915 --> 00:15:26.025\n&gt;&gt; Okay so,\nwhether it's storage from volumes or\n\n315\n00:15:26.025 --> 00:15:29.005\nfolders, we can do that, set that up.\n\n316\n00:15:29.005 --> 00:15:32.595\nWe can, as we talked about using email\nnotification if this happens, so\n\n317\n00:15:32.595 --> 00:15:33.545\nwe can say hey.\n\n318\n00:15:33.545 --> 00:15:37.288\nAnd we this concept of hard,\nor soft quotas.\n\n319\n00:15:37.288 --> 00:15:40.597\nSo you know, are we going to apply\nwith no exception, hey your blocked,\n\n320\n00:15:40.597 --> 00:15:41.640\nthat's the end of it.\n\n321\n00:15:41.640 --> 00:15:45.850\nNo more write, no more read,\nanything like that, or is it a soft quota?\n\n322\n00:15:45.850 --> 00:15:47.088\nIt's a recommendation\ninstead of a requirement-\n\n323\n00:15:47.088 --> 00:15:48.979\n&gt;&gt; Okay Adam, stop hogging all the space.\n\n324\n00:15:48.979 --> 00:15:50.627\n&gt;&gt; Right, stop, be nice.\n\n325\n00:15:50.627 --> 00:15:51.228\n&gt;&gt; [LAUGH].\n\n326\n00:15:51.228 --> 00:15:52.576\n&gt;&gt; And give me back some space.\n\n327\n00:15:52.576 --> 00:15:53.457\n&gt;&gt; [LAUGH].\n\n328\n00:15:53.457 --> 00:15:54.981\n&gt;&gt; We do have two ways to implement that.\n\n329\n00:15:54.981 --> 00:15:57.161\nWe just want to be thinking\nabout the logic, and\n\n330\n00:15:57.161 --> 00:16:00.660\nyou know we do have quotas outside of\nFSRM, we were talking about, as well.\n\n331\n00:16:00.660 --> 00:16:04.090\n&gt;&gt; Right, and when do I make that\ndecision, where I need to step up and\n\n332\n00:16:04.090 --> 00:16:08.281\ngo and configure FSRM versus, hey,\nI'll just use the integrated NTFS quotas.\n\n333\n00:16:08.281 --> 00:16:11.421\n&gt;&gt; Right, so when you ask me of that,\nwe were talking about that and\n\n334\n00:16:11.421 --> 00:16:13.960\nI said the key differentiator\nat least in my mind.\n\n335\n00:16:13.960 --> 00:16:15.838\nFor me when I talk to\ncustomers about this,\n\n336\n00:16:15.838 --> 00:16:17.880\nwhen I work with students\non the differences.\n\n337\n00:16:17.880 --> 00:16:20.730\nWhich is a great question,\na great way to think about it.\n\n338\n00:16:20.730 --> 00:16:23.308\nHey, why I would I use it here if\nI already have this technology\n\n339\n00:16:23.308 --> 00:16:24.210\nbuilt in with the OS.\n\n340\n00:16:24.210 --> 00:16:26.455\nRight and so the idea would be, hello.\n\n341\n00:16:26.455 --> 00:16:28.021\n&gt;&gt; [LAUGH]\n&gt;&gt; The idea would be,\n\n342\n00:16:28.021 --> 00:16:31.240\nthat's a little piece of dust got\ninto zooming by me as I'm talking.\n\n343\n00:16:31.240 --> 00:16:35.490\nSo the idea would be that when we wanna\nscale this out to the enterprise,\n\n344\n00:16:35.490 --> 00:16:36.780\nright, as we were talking about.\n\n345\n00:16:36.780 --> 00:16:37.670\nYou mentioned, hey,\n\n346\n00:16:37.670 --> 00:16:41.710\nwe have these built in NTFS quotas on our\nper machine basis in the operating system.\n\n347\n00:16:41.710 --> 00:16:42.860\nCan't we just do that?\n\n348\n00:16:42.860 --> 00:16:45.666\nWe could, and we can in theory,\nmanage it with group policy.\n\n349\n00:16:45.666 --> 00:16:48.830\nBut the problem becomes it may be harder\n\n350\n00:16:48.830 --> 00:16:53.000\nto apply frugal policy pi\nquotas because we may not wanna\n\n351\n00:16:53.000 --> 00:16:56.650\napply quotas to the individual\nmachine necessarily we may really.\n\n352\n00:16:56.650 --> 00:17:00.821\nAnd this is what NTFS was thinking of\napplying them to storage capacity right on\n\n353\n00:17:00.821 --> 00:17:02.440\na file server somewhere.\n\n354\n00:17:02.440 --> 00:17:05.260\nIt's not so\nmuch about having my local machine\n\n355\n00:17:05.260 --> 00:17:09.260\nonly give me a hundred megs of space for\npictures or whatever.\n\n356\n00:17:09.260 --> 00:17:13.640\nThis is more, let me figure out how\nto ensure that on the file server.\n\n357\n00:17:13.640 --> 00:17:14.340\n&gt;&gt; Right.\n&gt;&gt; I'm specifying-\n\n358\n00:17:14.340 --> 00:17:15.330\n&gt;&gt; A centralized location.\n\n359\n00:17:15.330 --> 00:17:18.340\n&gt;&gt; Right, yeah, users get this amount\nof space for their profiles or\n\n360\n00:17:18.340 --> 00:17:21.860\nthis amount of space for this kind of\nstuff or really whatever we're doing.\n\n361\n00:17:21.860 --> 00:17:25.870\nSo it's centralized management\nagainst the file server infrastructure\n\n362\n00:17:25.870 --> 00:17:29.800\nas opposed to potentially localized\nmanagement with regards to\n\n363\n00:17:29.800 --> 00:17:32.640\nthe use of quotas on\nan individual machine basis.\n\n364\n00:17:32.640 --> 00:17:34.810\nSo to me, in my mind anyways,\nthat's the differentiator for me,\n\n365\n00:17:34.810 --> 00:17:36.510\nthat's what I think of, right.\n\n366\n00:17:36.510 --> 00:17:39.640\nSo if you don't like that answer\nthat's okay, nothing wrong with that.\n\n367\n00:17:39.640 --> 00:17:43.000\nKeep in mind you do have options, and\nthat's what Cherokee is really reminding\n\n368\n00:17:43.000 --> 00:17:45.950\nus of is that we have different\nways of approaching this problem.\n\n369\n00:17:45.950 --> 00:17:49.900\nAnd that's one of the nice things about\nthe flexibility we're afforded, right?\n\n370\n00:17:49.900 --> 00:17:52.520\nWith regards to technology like FSRN and\n\n371\n00:17:52.520 --> 00:17:55.150\nthe use of it and\nhere we can make decisions.\n\n372\n00:17:55.150 --> 00:17:59.670\nWe often talk a lot of times about\none size fits one methodologies\n\n373\n00:17:59.670 --> 00:18:04.060\ntake this knowledge, customize it to\nyour environment, make it your own.\n\n374\n00:18:04.060 --> 00:18:06.840\nWas that because you liked my answer\nwas that the thumbs up or was that for\n\n375\n00:18:06.840 --> 00:18:07.660\nsomething totally different?\n\n376\n00:18:07.660 --> 00:18:09.060\n&gt;&gt; I don't know I was giving\nyou the double thumbs up.\n\n377\n00:18:09.060 --> 00:18:12.035\n&gt;&gt; Awesome but I saw you do that but\nI don't think it was for me it was for.\n\n378\n00:18:12.035 --> 00:18:13.510\nMr. Titus out there, all right?\n\n379\n00:18:13.510 --> 00:18:15.160\nThat was not for me, okay.\n\n380\n00:18:15.160 --> 00:18:15.940\n&gt;&gt; Behind the scenes.\n\n381\n00:18:15.940 --> 00:18:16.880\n&gt;&gt; Behind the scenes stuff.\n\n382\n00:18:16.880 --> 00:18:19.740\nSo I'll stop paying attention,\nI'll just look over here.\n\n383\n00:18:19.740 --> 00:18:21.040\nBad co-host, I'll stop doing that.\n\n384\n00:18:21.040 --> 00:18:22.830\n&gt;&gt; I'll wave you down.\n\n385\n00:18:22.830 --> 00:18:25.420\n&gt;&gt; All right, yeah, give the hey,\nwe're ready, land the plane soon.\n\n386\n00:18:25.420 --> 00:18:26.360\n&gt;&gt; I don't have my cat paws.\n\n387\n00:18:26.360 --> 00:18:27.000\n&gt;&gt; You don't, right, no.\n\n388\n00:18:27.000 --> 00:18:28.440\n&gt;&gt; I should bring those back here.\n\n389\n00:18:28.440 --> 00:18:30.680\n&gt;&gt; You should get those,\nwe need our flashlights or something.\n\n390\n00:18:30.680 --> 00:18:33.190\nBecause I have bright\nenough in here already.\n\n391\n00:18:33.190 --> 00:18:35.500\nThe flashlight, so\nyou can really get my attention.\n\n392\n00:18:35.500 --> 00:18:38.040\nAll right, so\nlet's talk about how we deal with quotas.\n\n393\n00:18:38.040 --> 00:18:41.220\nSo under quota management,\nas you can see here, we have two options.\n\n394\n00:18:41.220 --> 00:18:44.420\nWe have quotas, which right now there\nare none, we're gonna go ahead and\n\n395\n00:18:44.420 --> 00:18:45.230\ncreate one in a minute.\n\n396\n00:18:45.230 --> 00:18:48.190\nSo that part is blank until you\nstart setting up quotas, but\n\n397\n00:18:48.190 --> 00:18:52.870\nwe have quota templates, essentially the\nstarting capabilities that we are gonna\n\n398\n00:18:52.870 --> 00:18:55.440\nship the product with,\nquote unquote, right, install it.\n\n399\n00:18:55.440 --> 00:18:58.310\nYou can see there's a fair number\nof templates already created.\n\n400\n00:18:58.310 --> 00:19:00.980\nWe can go in and\nwe can leverage one of these.\n\n401\n00:19:00.980 --> 00:19:04.851\nYou can see things like a ten gig limit,\nhard or soft tier,\n\n402\n00:19:04.851 --> 00:19:09.040\nso we can tell what they are,\nfive gig limit, two gig limit.\n\n403\n00:19:09.040 --> 00:19:10.870\nYou have these numbers don't work for\nyou, no big deal,\n\n404\n00:19:10.870 --> 00:19:14.070\njust create a new one or\ngo ahead and modify an existing one.\n\n405\n00:19:14.070 --> 00:19:14.610\nIt's up to you.\n\n406\n00:19:14.610 --> 00:19:15.760\nSo we can do one of two things.\n\n407\n00:19:15.760 --> 00:19:19.320\nWe can highlight one here and\nyou'll see when we do that,\n\n408\n00:19:19.320 --> 00:19:23.480\nwe can create a quota from the template\nmeaning initially just take this and\n\n409\n00:19:23.480 --> 00:19:26.290\nzip out a quota for me and\nthen I'll work with that.\n\n410\n00:19:26.290 --> 00:19:29.990\nI can edit the template properties, so I\ncan modify this if I don't wanna use this.\n\n411\n00:19:29.990 --> 00:19:31.670\n&gt;&gt; Like you said, being more prescriptive.\n\n412\n00:19:31.670 --> 00:19:34.190\nYou can go ahead and\nreally tailor to your size.\n\n413\n00:19:34.190 --> 00:19:38.140\n&gt;&gt; Or I can just create a brand new one\nfrom here, in other words, I can create\n\n414\n00:19:38.140 --> 00:19:41.670\nmy own, hey, I don't want that 10 gig,\nI wanna something between 10 and 200.\n\n415\n00:19:41.670 --> 00:19:45.406\nSo maybe I want a 50 gig limit or\nsomething, so I'll just create my own,\n\n416\n00:19:45.406 --> 00:19:46.420\nit's up to me.\n\n417\n00:19:46.420 --> 00:19:49.110\nSo, let's just take a look at what's\nin a standard template, right.\n\n418\n00:19:49.110 --> 00:19:52.020\nDoesn't matter which one,\nwe'll just right-click, edit the template.\n\n419\n00:19:52.020 --> 00:19:53.600\nBy the way,\nwe could delete those templates,\n\n420\n00:19:53.600 --> 00:19:55.830\neven though they're pre-installed,\nyou can go ahead and delete them,\n\n421\n00:19:55.830 --> 00:19:57.570\nas you saw, if you don't want to use them.\n\n422\n00:19:57.570 --> 00:19:59.770\nThere's no harm in leaving them there.\n\n423\n00:19:59.770 --> 00:20:03.610\nBut if you wanna clean up and just get rid\nof the ones that you're not gonna use,\n\n424\n00:20:03.610 --> 00:20:07.610\nprevent the temptations somebody applying\none accidentally, something like that.\n\n425\n00:20:07.610 --> 00:20:10.470\nHey, why is everybody not\nable to use that directory?\n\n426\n00:20:10.470 --> 00:20:11.915\n&gt;&gt; My boss save the information.\n\n427\n00:20:11.915 --> 00:20:14.363\n&gt;&gt; Well, because you applied the 10\nmeg template to everybody, that's why.\n\n428\n00:20:14.363 --> 00:20:16.070\nSo you may wanna get rid of that one,\nright, but\n\n429\n00:20:16.070 --> 00:20:16.690\n&gt;&gt; In general, right?\n\n430\n00:20:16.690 --> 00:20:17.970\nYou could just do that if you need to.\n\n431\n00:20:17.970 --> 00:20:18.700\nIt's up to you.\n\n432\n00:20:18.700 --> 00:20:22.080\nI've had a couple of those oops moments\nhappen over the years with customers,\n\n433\n00:20:22.080 --> 00:20:23.260\nwhere they didn't mean to.\n\n434\n00:20:23.260 --> 00:20:24.340\nThey misread the template.\n\n435\n00:20:24.340 --> 00:20:25.750\nWe didn't want the 100 meg template.\n\n436\n00:20:25.750 --> 00:20:27.040\nWe wanted the 10 gig template.\n\n437\n00:20:27.040 --> 00:20:30.045\nAnd so, I learned the hard way that\nwe should just probably go on and\n\n438\n00:20:30.045 --> 00:20:30.825\ndelete these templates,\n\n439\n00:20:30.825 --> 00:20:34.455\nget rid of the ones that we're not gonna\nuse if I'm not managing the system.\n\n440\n00:20:34.455 --> 00:20:37.030\nEven if I, I can make mistakes\nlike anybody else does but,\n\n441\n00:20:37.030 --> 00:20:39.977\nin a lot of these setups where,\nwe'll build the infrastructure,\n\n442\n00:20:39.977 --> 00:20:42.524\nhand it back to the customer,\nand they're gonna run it.\n\n443\n00:20:42.524 --> 00:20:45.495\nIf they are not 100% clear on some\nof the things that are going on,\n\n444\n00:20:45.495 --> 00:20:48.925\nthe less confusion there is, the less\nlikely you are to making a mistake.\n\n445\n00:20:48.925 --> 00:20:49.675\nJust keep that in mind.\n\n446\n00:20:49.675 --> 00:20:53.730\nAll right, you can see here we\nhave the template that's applied,\n\n447\n00:20:53.730 --> 00:20:56.160\nthe template name you can\nhave names anything you like,\n\n448\n00:20:56.160 --> 00:20:58.720\nthe space limit is really what\nwe're talking about here.\n\n449\n00:20:58.720 --> 00:21:02.720\nNotice we have kilobyte, megabyte,\ngigabyte, and terabyte capabilities.\n\n450\n00:21:02.720 --> 00:21:05.850\nYou really don't like somebody it's\nthe kilobytes for you buddy right?\n\n451\n00:21:05.850 --> 00:21:07.450\nGonna give you one kilobyte of space.\n\n452\n00:21:07.450 --> 00:21:09.510\n&gt;&gt; What did I do to you?\n\n453\n00:21:09.510 --> 00:21:11.640\n&gt;&gt; Yes that's what happens when you.\n\n454\n00:21:11.640 --> 00:21:12.970\nYou mess around, right?\n\n455\n00:21:12.970 --> 00:21:17.590\nAnd so we can easily do that,\nand or we can make this harder or\n\n456\n00:21:17.590 --> 00:21:20.680\nsoft as we talk about with the quotas,\nand you can see the setting there.\n\n457\n00:21:20.680 --> 00:21:23.462\nHard to not allow users to exceed\nas we talked about, right?\n\n458\n00:21:23.462 --> 00:21:28.065\nEssentially a requirement, fully bait,\nno capability to appeal that decision.\n\n459\n00:21:28.065 --> 00:21:31.015\nSoft quota allow users\nto exceed the limit.\n\n460\n00:21:31.015 --> 00:21:34.195\nAs we said, maybe it's a recommendation\nas opposed to a requirement, right?\n\n461\n00:21:34.195 --> 00:21:35.205\n&gt;&gt; Kinda giving them a heads up,\n\n462\n00:21:35.205 --> 00:21:39.540\nlike hey, you might wanna go back in and\nclear out some of your unused files.\n\n463\n00:21:39.540 --> 00:21:41.270\nOr maybe they need more storage.\n\n464\n00:21:41.270 --> 00:21:43.400\n&gt;&gt; As all good users will do,\nthey'll simply ignore you and\n\n465\n00:21:43.400 --> 00:21:47.630\ncontinue down the path of\nactive resistance to change.\n\n466\n00:21:47.630 --> 00:21:50.181\n&gt;&gt; Actually in these templates in\nthe section to send the email,\n\n467\n00:21:50.181 --> 00:21:51.270\nthey generate that auto.\n\n468\n00:21:51.270 --> 00:21:55.140\nYou can even change that\nto make it more custom.\n\n469\n00:21:55.140 --> 00:21:58.930\nYou don't wanna put anything like,\nI'll come after you.\n\n470\n00:21:58.930 --> 00:22:03.000\nBut still you can make it a little more\n&gt;&gt; You can.\n\n471\n00:22:03.000 --> 00:22:03.880\nYou can.\n&gt;&gt; Readable.\n\n472\n00:22:03.880 --> 00:22:05.110\n&gt;&gt; Spice it up, and\n\n473\n00:22:05.110 --> 00:22:09.650\ngive it a little flavor,\na little local version of that, right?.\n\n474\n00:22:09.650 --> 00:22:12.730\nActually, you'll see here under\nnotification thresholds we can also add\n\n475\n00:22:12.730 --> 00:22:14.110\ndifferent threshold settings.\n\n476\n00:22:14.110 --> 00:22:17.040\nSo we could say,\nadd a warning around 90%, 85%,\n\n477\n00:22:17.040 --> 00:22:22.342\nwhatever those limits are as we approach,\nespecially the hard limit, right?\n\n478\n00:22:22.342 --> 00:22:25.050\nYou wanna warn people before they\njust run into the limit and say okay,\n\n479\n00:22:25.050 --> 00:22:26.130\nhey, we're done.\n\n480\n00:22:26.130 --> 00:22:28.600\nSo, or you may not, depends on if\nyou like them or not, I suppose,\n\n481\n00:22:28.600 --> 00:22:30.828\nbut assuming you want\nthem to be aware of that.\n\n482\n00:22:30.828 --> 00:22:35.820\nYou probably wanna set that up, so\nyou can see there's a standard of 85,\n\n483\n00:22:35.820 --> 00:22:37.360\n95 or 100, you email event log.\n\n484\n00:22:37.360 --> 00:22:40.360\nWe can even run commands and or\ngenerate reports here as part of this.\n\n485\n00:22:40.360 --> 00:22:42.970\nSo we can add or edit any one of these.\n\n486\n00:22:42.970 --> 00:22:46.680\nAnd if we go in and we edit,\nlet's just say hypothetically, we can say,\n\n487\n00:22:46.680 --> 00:22:48.490\nyou'll send an email to\nthe following administrators.\n\n488\n00:22:48.490 --> 00:22:51.940\nSo hey, notify behind the scenes,\nSomebody who then may intercede and\n\n489\n00:22:51.940 --> 00:22:54.970\nsay let me add more space or\nwhatever that may be.\n\n490\n00:22:54.970 --> 00:22:57.570\nSend an email to users\nwho exceed the threshold.\n\n491\n00:22:57.570 --> 00:22:59.820\nThe email message, which is kind\nof what you're talking about.\n\n492\n00:22:59.820 --> 00:23:04.445\nThe subject and then the message body\nwe can go in and use the template\n\n493\n00:23:04.445 --> 00:23:08.680\nthat's provided here to be able to modify\nthe message, as Cherokee was suggesting.\n\n494\n00:23:08.680 --> 00:23:10.760\nIt would be great if you\ncould contact such and\n\n495\n00:23:10.760 --> 00:23:13.670\nsuch, if you need more space,\nplease try to go clean up.\n\n496\n00:23:13.670 --> 00:23:16.870\nWhatever we're gonna politely\nsuggest to the user, right?\n\n497\n00:23:16.870 --> 00:23:19.620\nWe'll pay you a visit in the middle of\nthe night if you don't take care of\n\n498\n00:23:19.620 --> 00:23:20.730\nthis, right?\n\n499\n00:23:20.730 --> 00:23:23.970\nSomebody named John is gonna come\nspeak you with very sternly, right?\n\n500\n00:23:23.970 --> 00:23:30.020\nSo additional email headers, we can go in,\nwe can add cc and bcc capabilities here.\n\n501\n00:23:30.020 --> 00:23:32.800\nSo it's not in the main body of\nthe template but it's available there.\n\n502\n00:23:32.800 --> 00:23:34.550\nJust wanna know you can do that.\n\n503\n00:23:34.550 --> 00:23:38.340\nAnd then we can specify the variables\nthat will be inserted on the line here.\n\n504\n00:23:38.340 --> 00:23:43.160\nSo I can say cc storage admin\napp practicelabs.com or\n\n505\n00:23:43.160 --> 00:23:48.110\nwhatever the domain is and then at the end\nof that I can also insert admin email.\n\n506\n00:23:48.110 --> 00:23:50.574\nOr I could insert source for\nsource file or an email,\n\n507\n00:23:50.574 --> 00:23:54.063\nI could insert some other email addresses\nwithout having to type them in.\n\n508\n00:23:54.063 --> 00:23:57.994\nThese are just essentially placeholders\nthat will then insert that information for\n\n509\n00:23:57.994 --> 00:23:58.835\nme as a variable.\n\n510\n00:23:58.835 --> 00:24:00.592\nSo I can use that which is nice.\n\n511\n00:24:00.592 --> 00:24:02.217\nSo I have that capability here right?\n\n512\n00:24:02.217 --> 00:24:07.179\nWe can go in and modify these templates,\nand or just create our own.\n\n513\n00:24:07.179 --> 00:24:09.972\nYou can imagine if we created our own,\nright, it's the same idea,\n\n514\n00:24:09.972 --> 00:24:11.200\ncreate quota template.\n\n515\n00:24:11.200 --> 00:24:14.140\nWe're doing all the same things we just\ntook a look at with the modification.\n\n516\n00:24:14.140 --> 00:24:15.770\nThe only difference is we\nstart out with nothing,\n\n517\n00:24:15.770 --> 00:24:18.720\nand we decide exactly what it is we\nwanna be able to do, that's all.\n\n518\n00:24:18.720 --> 00:24:21.350\nSo you could see we could go in and\npopulate this,\n\n519\n00:24:21.350 --> 00:24:23.480\nlet's just so one real quickly here.\n\n520\n00:24:23.480 --> 00:24:30.491\nLet's call this,\nno more storage for you, right.\n\n521\n00:24:30.491 --> 00:24:32.820\nSo that will be the name of our template.\n\n522\n00:24:32.820 --> 00:24:39.950\nAnd we can go ahead and say, that will be-\n&gt;&gt; Are you gonna be nice or mean here?\n\n523\n00:24:39.950 --> 00:24:41.985\n&gt;&gt; Ten kilobits.\n&gt;&gt; [LAUGH]\n\n524\n00:24:41.985 --> 00:24:43.885\n&gt;&gt; Ten kilobytes rather, excuse me.\n\n525\n00:24:43.885 --> 00:24:46.260\nHard quota, so\nI'm gonna be mean, essentially.\n\n526\n00:24:46.260 --> 00:24:48.440\nI'm not gonna do any\nnotification thresholds either,\n\n527\n00:24:48.440 --> 00:24:49.135\nbecause-\n&gt;&gt; Wow.\n\n528\n00:24:49.135 --> 00:24:49.880\n[LAUGH]\n&gt;&gt; That's gonna be it.\n\n529\n00:24:49.880 --> 00:24:50.825\n&gt;&gt; That's horrible.\n\n530\n00:24:50.825 --> 00:24:52.129\n[LAUGH]\n&gt;&gt; All right, so but\n\n531\n00:24:52.129 --> 00:24:54.650\nI am gonna use an option here, right.\n\n532\n00:24:54.650 --> 00:24:56.020\nLet me just show you this.\n\n533\n00:24:56.020 --> 00:24:59.620\nSo I'm going to create or copy\nproperties from the quota template, and\n\n534\n00:24:59.620 --> 00:25:03.090\nI'm specifying what quota template\nI want to copy properties from.\n\n535\n00:25:03.090 --> 00:25:06.938\nSo if I choose one of these,\nlet's say the ten gig one, right,\n\n536\n00:25:06.938 --> 00:25:09.204\nand I copy the properties from that.\n\n537\n00:25:09.204 --> 00:25:13.971\nIf I click Copy, notice I can bring in all\nof the other settings that I don't wanna\n\n538\n00:25:13.971 --> 00:25:18.683\nmess around with and have the hassle, for\nlack of a better way of describing it.\n\n539\n00:25:18.683 --> 00:25:22.271\nHaving to create all those monitor\nnotification thresholds, hey, I just said,\n\n540\n00:25:22.271 --> 00:25:25.183\nI'm not gonna tell anybody, but\nthen I thought about it and said,\n\n541\n00:25:25.183 --> 00:25:26.540\nmaybe I should, right.\n\n542\n00:25:26.540 --> 00:25:29.410\nSo if I wanna bring those in and\nnot have to worry about creating them all,\n\n543\n00:25:29.410 --> 00:25:32.570\njust hit the Copy button right\nup there and I can add those in.\n\n544\n00:25:32.570 --> 00:25:34.890\nBut notice it does change my limit here.\n\n545\n00:25:34.890 --> 00:25:35.490\nI have to go back and\n\n546\n00:25:35.490 --> 00:25:39.940\nsay, I don't want a ten gig limit cuz I'm\nessentially using the ten gig template, so\n\n547\n00:25:39.940 --> 00:25:43.710\nnow I got to go modify a couple things,\nput it back to ten k, right.\n\n548\n00:25:43.710 --> 00:25:46.650\nBut it doesn't change the name, so\nit still says, no more storage for you.\n\n549\n00:25:46.650 --> 00:25:50.430\nBut I would want to take note of this,\nbecause if I do it this way and\n\n550\n00:25:51.730 --> 00:25:53.520\nI'm not paying attention-\n&gt;&gt; Yeah, you could severely [INAUDIBLE]\n\n551\n00:25:53.520 --> 00:25:55.110\n&gt;&gt; Then I would actually essentially just\n\n552\n00:25:55.110 --> 00:25:58.830\nreproduce the ten gig template, and that\nmay not be what I want because I want to\n\n553\n00:25:58.830 --> 00:26:01.210\nuse the ten kilobit threshold for storage.\n\n554\n00:26:01.210 --> 00:26:02.060\nSo I've done all that.\n\n555\n00:26:02.060 --> 00:26:04.680\nSo I just wanted to show you that,\nwe'll click Okay.\n\n556\n00:26:04.680 --> 00:26:08.720\nAnd you can see down there, no more\nstorage for you, hard template limiter,\n\n557\n00:26:08.720 --> 00:26:11.490\nhard quota type,\nten kilobyte limit, right.\n\n558\n00:26:11.490 --> 00:26:15.350\nSo we have all that, so then if I want\nto go and create a quota, right, so\n\n559\n00:26:15.350 --> 00:26:17.850\nI just come in here,\nright click Create Quota.\n\n560\n00:26:19.340 --> 00:26:20.610\nSpecify the quota path,\n\n561\n00:26:20.610 --> 00:26:24.370\nmeaning what folder do I want to\nbe able to apply the quota to?\n\n562\n00:26:24.370 --> 00:26:25.730\nWhere am I gonna apply this?\n\n563\n00:26:25.730 --> 00:26:29.890\nNow I don't have one created, so let\nme just quickly go in here and do this.\n\n564\n00:26:29.890 --> 00:26:34.820\nCuz I do have one for file screening, I\ndidn't create one for quotas, so just for\n\n565\n00:26:34.820 --> 00:26:35.540\na test folder.\n\n566\n00:26:35.540 --> 00:26:40.800\nSo let's just go in and\nwe'll do a quota test, right.\n\n567\n00:26:40.800 --> 00:26:48.070\nSo we'll do that, c quota test, and\nwe can see that the folder is empty.\n\n568\n00:26:50.130 --> 00:26:52.490\nLet's go ahead,\nlet's just put that in there.\n\n569\n00:26:52.490 --> 00:26:56.210\nWe can either browse for it or\njust type it in, whatever we want to do.\n\n570\n00:26:56.210 --> 00:27:00.150\nYou know my preference because of how\nwell I can type will be to always go and\n\n571\n00:27:00.150 --> 00:27:01.220\nbrowse.\n\n572\n00:27:01.220 --> 00:27:06.174\nSo c quota test, right, and\nthen create quota on the path,\n\n573\n00:27:06.174 --> 00:27:08.561\nright, so I'm doing that.\n\n574\n00:27:08.561 --> 00:27:13.405\nOr auto apply template and create quotas\non existing and new sub folders, right.\n\n575\n00:27:13.405 --> 00:27:15.595\nSo I can do it with\neverything that's there or\n\n576\n00:27:15.595 --> 00:27:18.975\nI can just decide to do it against\nthe path, it's up to me to decide.\n\n577\n00:27:18.975 --> 00:27:22.615\nThen derive properties from what\nquota template, this is where I\n\n578\n00:27:22.615 --> 00:27:26.440\nchoose my quota template, no more\nstorage for you, right, ten kilobytes.\n\n579\n00:27:26.440 --> 00:27:29.971\nAnd then I can create or\ndefine custom quota properties, but\n\n580\n00:27:29.971 --> 00:27:33.010\nI don't wanna use a template so I can just\ngo in and modify them on the fly here.\n\n581\n00:27:33.010 --> 00:27:37.670\nAnd then I've got a little summary window\ndown here, let's just go ahead and\n\n582\n00:27:37.670 --> 00:27:38.253\ndo that.\n\n583\n00:27:40.578 --> 00:27:43.540\nAll right, so I have that there,\nright, so that's been applied.\n\n584\n00:27:43.540 --> 00:27:44.590\nAnd as a result,\n\n585\n00:27:44.590 --> 00:27:49.010\nright, I'm now specifying that that\nwill apply to that folder, right.\n\n586\n00:27:49.010 --> 00:27:52.290\nSo I can essentially use that\nnow if I want to and say, hey,\n\n587\n00:27:52.290 --> 00:27:54.685\nif I drop a whole bunch of stuff in there,\nI may or\n\n588\n00:27:54.685 --> 00:27:57.635\nmay not have rights to do that\nbased on the amount of stuff\n\n589\n00:27:57.635 --> 00:28:01.135\nthat I wanna put in versus the size that\nI'm applying for storage management.\n\n590\n00:28:02.145 --> 00:28:03.925\n&gt;&gt; So Adam, we can see how to set this up.\n\n591\n00:28:03.925 --> 00:28:07.617\nBut is there any way we can actually\ntest this to make sure it's working?\n\n592\n00:28:07.617 --> 00:28:09.827\n&gt;&gt; Absolutely, cuz we never want\nto do anything without testing.\n\n593\n00:28:09.827 --> 00:28:10.902\nIt's a very good point, right.\n\n594\n00:28:10.902 --> 00:28:14.405\nWe always want to make sure the quota that\nwe are applying, in this case, right,\n\n595\n00:28:14.405 --> 00:28:16.168\nour ten kilobyte quota, is gonna work.\n\n596\n00:28:16.168 --> 00:28:18.957\nBecause what would happen,\nlet's say hypothetically, right,\n\n597\n00:28:18.957 --> 00:28:21.939\nif we applied it and we go to test it\nlater, somebody uses it and could put\n\n598\n00:28:21.939 --> 00:28:25.217\na lot of stuff in that file, or folder,\nwhen it's supposed to be very small?\n\n599\n00:28:25.217 --> 00:28:28.270\nThat would be bad, right, potentially\nwe could have some sort of an issue.\n\n600\n00:28:28.270 --> 00:28:30.400\nSo let's test it, that's a great idea.\n\n601\n00:28:30.400 --> 00:28:32.740\nSo watch how we do this,\nit's very straightforward.\n\n602\n00:28:32.740 --> 00:28:35.430\nThe quota's been applied, as you saw,\nwe've gone through all that.\n\n603\n00:28:35.430 --> 00:28:38.880\nNow I happen, as you know, to have created\na folder called quota test, right.\n\n604\n00:28:38.880 --> 00:28:41.340\nSo that's where we're\ngonna go to test this out.\n\n605\n00:28:41.340 --> 00:28:46.390\nSo let's just go in here and\nlet's go to our quota test folder.\n\n606\n00:28:46.390 --> 00:28:48.730\nYou could see there's nothing in\nthere right now, it is empty, right.\n\n607\n00:28:48.730 --> 00:28:50.640\nAnd let me just move\nthis over a little bit so\n\n608\n00:28:50.640 --> 00:28:54.020\nwe can see what we're doing,\nwhile we're doing the test here.\n\n609\n00:28:54.020 --> 00:28:58.078\nAnd what I'm gonna do is go back\nto the root of the c drive.\n\n610\n00:28:58.078 --> 00:29:02.072\nNow I just happen to have a file here\nthat's bigger than ten kilobytes just for\n\n611\n00:29:02.072 --> 00:29:05.771\ntest purposes, because well I\nanticipated that whole thing, right.\n\n612\n00:29:05.771 --> 00:29:09.459\nI've got about a 49 k file that we can use\njust to see if we can drop it in there and\n\n613\n00:29:09.459 --> 00:29:10.630\nsee what it will do.\n\n614\n00:29:10.630 --> 00:29:12.090\nSo let's copy that.\n&gt;&gt; Larger than our ten k quota.\n\n615\n00:29:12.090 --> 00:29:13.790\n&gt;&gt; Larger than our ten k quota.\n\n616\n00:29:13.790 --> 00:29:14.550\nLet's copy that.\n\n617\n00:29:14.550 --> 00:29:17.050\nWe'll just right click on it and copy.\n\n618\n00:29:17.050 --> 00:29:19.860\nAnd then let's go in here and\nlet's see whether or\n\n619\n00:29:19.860 --> 00:29:23.620\nnot our template, quota template,\nis actually going to be applied correctly.\n\n620\n00:29:23.620 --> 00:29:27.490\nWhat should happen, and what will happen,\nwill be that I will attempt this,\n\n621\n00:29:27.490 --> 00:29:30.770\nI will get a warning essentially, not an\nerror but a box that comes up says, hey,\n\n622\n00:29:30.770 --> 00:29:33.420\nyou don't have permissions to do this,\ntry again, right.\n\n623\n00:29:33.420 --> 00:29:37.443\nSo it's gonna block my ability to be able\nto engage in this activity if the quota is\n\n624\n00:29:37.443 --> 00:29:41.191\nbeing applied properly, the quota\ntemplate's being applied properly.\n\n625\n00:29:41.191 --> 00:29:43.015\n&gt;&gt; All right, let's see.\n&gt;&gt; All right, so any bets on this?\n\n626\n00:29:43.015 --> 00:29:44.240\nYou wanna get a pool going?\n\n627\n00:29:44.240 --> 00:29:46.580\n&gt;&gt; I don't have any money.\nWhat kind of-\n\n628\n00:29:46.580 --> 00:29:47.184\n&gt;&gt; Want to bet a banana?\n\n629\n00:29:47.184 --> 00:29:49.760\nAll right, let's take a look.\n\n630\n00:29:49.760 --> 00:29:51.150\nSo when we paste, what happens, right?\n\n631\n00:29:51.150 --> 00:29:55.450\nWe get our copy item,\nnot enough space on quota test.\n\n632\n00:29:55.450 --> 00:29:58.930\nNow, we know there's enough space on\nquota test, right, that's not the issue.\n\n633\n00:29:58.930 --> 00:30:00.626\nThe issue is, the quota is,\n\n634\n00:30:00.626 --> 00:30:05.177\nthe quota template's constraining my\nability to use that folder, right.\n\n635\n00:30:05.177 --> 00:30:08.687\n48 point, whatever is need to copy\nthis item, delete, or move file so\n\n636\n00:30:08.687 --> 00:30:12.040\nyou have enough space, because it's\nconstraining it down to ten k.\n\n637\n00:30:12.040 --> 00:30:13.830\nTry again and or cancel.\n\n638\n00:30:13.830 --> 00:30:17.970\nSo if we cancel, right,\nnow if we go back here and\n\n639\n00:30:17.970 --> 00:30:23.280\ngo to any of the other folders that\nare here that are not constrained by\n\n640\n00:30:23.280 --> 00:30:26.130\nthe template quota,\ndoesn't matter what it is.\n\n641\n00:30:26.130 --> 00:30:30.580\nLet's just create a brand new one just for\npurposes of demonstration, right.\n\n642\n00:30:30.580 --> 00:30:37.570\nWe'll call it just New Folder, open that\nup, and we paste in here with no trouble.\n\n643\n00:30:37.570 --> 00:30:41.157\nAnd you'll see it goes right away because\nit's not being bound by the quota, and\n\n644\n00:30:41.157 --> 00:30:44.531\nas a result is not constrained to a ten\nkilobyte requirement, or a minimum or\n\n645\n00:30:44.531 --> 00:30:47.620\na maximum setting of ten kilobytes,\nso we don't have enough space.\n\n646\n00:30:47.620 --> 00:30:52.287\nSo that's how we actually at star template\nwe can see that it is indeed working.\n\n647\n00:30:52.287 --> 00:30:55.085\n&gt;&gt; All right, perfect, well thank you for\nshowing us some of those tricks and\n\n648\n00:30:55.085 --> 00:30:56.035\ntips there.\n\n649\n00:30:56.035 --> 00:31:00.125\nBut when it comes to taking a look at\ndifferent types of management techniques,\n\n650\n00:31:00.125 --> 00:31:02.405\nI think we still have\nsome more on the way, so\n\n651\n00:31:02.405 --> 00:31:04.305\nyou don't want to miss that, stay tuned.\n\n652\n00:31:04.305 --> 00:31:06.365\nBut for this show,\nwe'll go ahead and sign out.\n\n653\n00:31:06.365 --> 00:31:08.026\nI've been your host, Cherokee Boose.\n\n654\n00:31:08.026 --> 00:31:08.965\n&gt;&gt; I am Adam Gordon.\n\n655\n00:31:08.965 --> 00:31:12.378\n&gt;&gt; See you next time here at ITProTV.\n\n656\n00:31:12.378 --> 00:31:18.344\n[MUSIC]\n\n657\n00:31:18.344 --> 00:31:20.115\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "235068267"
        },
        {
          "description": "In this episode, Cherokee and Adam continue exploring FSRM management capabilities. First, the look at how to configure File screening management. Adam attempts to prevent Cherokee from saving cat videos to certain central storage areas.Lastly, they examine how to define and deliver Storage reports.",
          "length": "1947",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-3-implement_fsrm_and_dac_pt3-092017-PGM.00_00_11_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-3-implement_fsrm_and_dac_pt3-092017-PGM.00_00_11_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-3-implement_fsrm_and_dac_pt3-092017-PGM.00_00_11_24.Still001-sm.jpg",
          "title": "Implement FSRM and DAC Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.012 --> 00:00:06.033\n[CROSSTALK]\n\n2\n00:00:06.033 --> 00:00:08.331\n[MUSIC]\n\n3\n00:00:08.331 --> 00:00:11.999\nYou are watching ITPRO TV.\n\n4\n00:00:11.999 --> 00:00:15.392\n&gt;&gt; Welcome back, you're securing\nWindows Server 2016 Series,\n\n5\n00:00:15.392 --> 00:00:19.200\nI'm your show host Cherokee Boose In\nthis episode, we'll continue taking\n\n6\n00:00:19.200 --> 00:00:23.850\na look at FSRM and different management\ncapabilities of this particular tool.\n\n7\n00:00:23.850 --> 00:00:27.290\nBack with us in studios today,\nwe have Microsoft expert, Mr. Adam Gordon.\n\n8\n00:00:27.290 --> 00:00:28.430\nHow's it going, Adam?\n\n9\n00:00:28.430 --> 00:00:31.090\n&gt;&gt; Going well, hopefully it's going\ngood for everybody out there.\n\n10\n00:00:31.090 --> 00:00:33.560\nCherokee already told me it's going\ngood for her before we got started.\n\n11\n00:00:33.560 --> 00:00:34.820\n&gt;&gt; That's right\n&gt;&gt; So,\n\n12\n00:00:34.820 --> 00:00:37.350\nit's just good all the way\naround here at FSRM.\n\n13\n00:00:37.350 --> 00:00:38.300\nAnd IT Pro TV.\n\n14\n00:00:38.300 --> 00:00:41.520\nLet's continue talking\nas Cherokee suggested.\n\n15\n00:00:41.520 --> 00:00:42.470\nLet's jump back in.\n\n16\n00:00:42.470 --> 00:00:43.740\nI'm gonna take a look at FSRM.\n\n17\n00:00:43.740 --> 00:00:46.260\nWe'll start with a few things left\nin the console we wanna go through.\n\n18\n00:00:46.260 --> 00:00:49.530\nIf you haven't seen the last couple\nof episodes, we've been through and\n\n19\n00:00:49.530 --> 00:00:53.620\ntalked about the ability to be\nable to do the classification, and\n\n20\n00:00:53.620 --> 00:00:57.030\nusing properties, to be able to\nclassify and categorize data.\n\n21\n00:00:57.030 --> 00:00:59.720\nTook a look at quota management,\nwent through and\n\n22\n00:00:59.720 --> 00:01:05.000\nsaw how we could automate something\nusing the file management tasks.\n\n23\n00:01:05.000 --> 00:01:07.340\nSo we're gonna go through,\nwe're gonna continue that journey,\n\n24\n00:01:07.340 --> 00:01:10.940\nwe're gonna take a look at file screen\nmanagement, or file screening management\n\n25\n00:01:10.940 --> 00:01:14.700\nStorage reports here but before we do that\nI mentioned once or twice in the last few\n\n26\n00:01:14.700 --> 00:01:19.100\nepisodes that we do have PowerShell and we\ndon't wanna neglect or forget PowerShell,\n\n27\n00:01:19.100 --> 00:01:23.310\nwhen we load FSRM we get the PowerShell\ncommandlet, the module for\n\n28\n00:01:23.310 --> 00:01:26.390\nFSRM management log the FSRM commandlets\n&gt;&gt; Come in.\n\n29\n00:01:26.390 --> 00:01:29.240\nSo I thought we would just start out\nquickly by showing you how to look at\n\n30\n00:01:29.240 --> 00:01:30.200\nthose commands.\n\n31\n00:01:30.200 --> 00:01:32.470\nWe haven't really used them\nin this set of episodes,\n\n32\n00:01:32.470 --> 00:01:35.990\nwe've been primarily in the GUI,\nwe did the install.\n\n33\n00:01:35.990 --> 00:01:40.180\nI did show you how to do the install and\nthe setting up FSRM from PowerShell,\n\n34\n00:01:40.180 --> 00:01:42.700\nas we often do using the add\nWindows feature cmdlet.\n\n35\n00:01:42.700 --> 00:01:44.570\nBut other than that we haven't\nreally been in there for much.\n\n36\n00:01:44.570 --> 00:01:47.180\nSo wanna join me here for a minute,\njust have PowerShell up and\n\n37\n00:01:47.180 --> 00:01:50.110\nrunning on the FSRM server\n&gt;&gt; you gotta be on the server to be able\n\n38\n00:01:50.110 --> 00:01:54.000\nto see the module and the command list\nbecause remember it's imported as part of\n\n39\n00:01:54.000 --> 00:01:58.740\nthe setup of FSRM, so you want to be\nlooking on your FSRM instance in order to\n\n40\n00:01:58.740 --> 00:02:03.280\nexecute this command in PowerShell,\nbut we use the get command commandlet,\n\n41\n00:02:03.280 --> 00:02:06.380\nvery helpful when we want to look at\nsomething, use the module parameters,\n\n42\n00:02:06.380 --> 00:02:10.170\nspecify what module I want to\npull the commandlets in for and\n\n43\n00:02:10.170 --> 00:02:12.070\nthen I just specify\nthe name of the module.\n\n44\n00:02:12.070 --> 00:02:15.610\nThe FSRM module is called\nfile server resource manager.\n\n45\n00:02:15.610 --> 00:02:20.770\nSo just issue that, hit enter,\nlists out for us as you can see here,\n\n46\n00:02:20.770 --> 00:02:25.030\nlet me just scroll down, all of our\ndifferent commands that are supported.\n\n47\n00:02:25.030 --> 00:02:28.110\nThere are quite a number\nof them as you can see.\n\n48\n00:02:28.110 --> 00:02:32.290\nAnd you can start to play with and imagine\nsome of the things that we can do in here\n\n49\n00:02:32.290 --> 00:02:38.150\nusing some of these For instance if we use\nthe set FSRM setting cmdlet right here,\n\n50\n00:02:38.150 --> 00:02:41.580\nsee if I can mark that\njust while we're talking.\n\n51\n00:02:41.580 --> 00:02:44.190\nIf I use that one of the things\nI could do is go in and\n\n52\n00:02:44.190 --> 00:02:46.580\nset the SMTP server preferences, so\n\n53\n00:02:46.580 --> 00:02:50.930\nI could use the email capability to send\nout those messages we were talking about.\n\n54\n00:02:50.930 --> 00:02:53.490\nRemember we looked at some of\nthe templates and The setting in\n\n55\n00:02:53.490 --> 00:02:57.100\nin the last couple of episodes,\nshowed you have an email capability.\n\n56\n00:02:57.100 --> 00:03:01.750\nBut we need to have an SMTP server setup\nto be able to bounce that email out of\n\n57\n00:03:01.750 --> 00:03:02.470\nor through.\n\n58\n00:03:02.470 --> 00:03:06.510\nWe could use set FSR setting as\nthe command that's be able to go and\n\n59\n00:03:06.510 --> 00:03:09.830\nconfigure that we'd use\nthe SMTP server parameter.\n\n60\n00:03:09.830 --> 00:03:12.390\nAnd start specifying all the information.\n\n61\n00:03:12.390 --> 00:03:15.590\nSo we could use any one of\nthese commandlets to do\n\n62\n00:03:15.590 --> 00:03:17.340\nAll the same things we do in the GUI.\n\n63\n00:03:17.340 --> 00:03:20.890\nAnd you've certainly seen a lot of\nareas where we could mix and match so\n\n64\n00:03:20.890 --> 00:03:21.600\nto speak right?\n\n65\n00:03:21.600 --> 00:03:23.840\nSo encourage you just\nto take a look at that,\n\n66\n00:03:23.840 --> 00:03:26.360\ngo in see how these\ncmdlets are structured.\n\n67\n00:03:26.360 --> 00:03:28.440\nAnd as always get used to them by\nplaying around with them right?\n\n68\n00:03:28.440 --> 00:03:32.250\nIt's gonna be helpful to in order to\nbe able to establish some capabilities.\n\n69\n00:03:32.250 --> 00:03:36.470\nOne other little off in the corner kinda\nthing that we talked about Was the ability\n\n70\n00:03:36.470 --> 00:03:39.950\nin the last episode, again, just referring\nto some things we've already been through.\n\n71\n00:03:39.950 --> 00:03:43.910\nBut, showing you some of the extension of\nthat information from the last episode,\n\n72\n00:03:43.910 --> 00:03:46.010\nand the way we would apply it here.\n\n73\n00:03:46.010 --> 00:03:47.180\nI mentioned that when we went in and\n\n74\n00:03:47.180 --> 00:03:52.090\nwe take a look at the settings At\nthe file server resource manager.\n\n75\n00:03:52.090 --> 00:03:53.230\nA console level, right?\n\n76\n00:03:53.230 --> 00:03:53.920\nHighlight up here.\n\n77\n00:03:53.920 --> 00:03:56.360\nRight click.\nGo to Properties to Configure Options\n\n78\n00:03:56.360 --> 00:03:57.900\nrather and take a look.I\n\n79\n00:03:57.900 --> 00:04:00.655\nmentioned one of the things that we\ncould do is go through and I showed you.\n\n80\n00:04:00.655 --> 00:04:02.440\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Set up all these settings right?\n\n81\n00:04:02.440 --> 00:04:05.410\nBut then I also settle that we\ndidn't do it But we didn't do it for\n\n82\n00:04:05.410 --> 00:04:08.290\na very good reason,\nconnect to another computer right?\n\n83\n00:04:08.290 --> 00:04:10.300\nAnd let's you know you\ncan remotely connect and\n\n84\n00:04:10.300 --> 00:04:14.120\nmanage FSRM instances on other\ncomputers from this console.\n\n85\n00:04:14.120 --> 00:04:16.820\nYou could do that, but\nwhat I did not tell you cuz\n\n86\n00:04:16.820 --> 00:04:19.450\nI wasn't prepared at that point to\njust walk you through the logic of it.\n\n87\n00:04:19.450 --> 00:04:21.860\nI wanted to wait til we\ngot to this episode.\n\n88\n00:04:21.860 --> 00:04:23.970\nAnd so that I could show\nyou how you would do this.\n\n89\n00:04:23.970 --> 00:04:26.760\nYou actually have to set something\nup before you just go in here and\n\n90\n00:04:26.760 --> 00:04:27.520\nattempt to connect.\n\n91\n00:04:27.520 --> 00:04:31.210\nIf you try to do this without first\nestablishing an exception in the Windows\n\n92\n00:04:31.210 --> 00:04:35.190\nevent's firewall you're not gonna be able\nto punch this traffic through and connect.\n\n93\n00:04:35.190 --> 00:04:38.610\nUnless, of course, the firewall on\nthe machine Then your targeting is down in\n\n94\n00:04:38.610 --> 00:04:41.490\nwhich case obviously would be able to\nconnect right with no trouble but, if you\n\n95\n00:04:41.490 --> 00:04:44.980\nwanna be able to do this the right way,\nassuming the advanced firewall is up and\n\n96\n00:04:44.980 --> 00:04:48.340\nrunning, you have to open up\nan exemption for this traffic,\n\n97\n00:04:48.340 --> 00:04:51.740\nnow you can do this manually by going\ninto the firewall on the local machine,\n\n98\n00:04:51.740 --> 00:04:54.940\ncreating the end down rule are to\nbe able to manage this traffic and\n\n99\n00:04:54.940 --> 00:04:58.560\nallow the exemption, you could do that,\nthat really wouldn't be too difficult,\n\n100\n00:04:58.560 --> 00:05:03.000\nor You could do it through group policy,\nand so I thought well why don't\n\n101\n00:05:03.000 --> 00:05:06.390\nwe just take a look real quick at\nhow to do that through group policy,\n\n102\n00:05:06.390 --> 00:05:10.240\nbecause doing it through group policy\nwould allow you to have tighter control.\n\n103\n00:05:10.240 --> 00:05:13.340\nWe're not doing this as a one-off on\na single machine We don't know for\n\n104\n00:05:13.340 --> 00:05:16.960\nsure if we did it, we don't know for sure\nif it was supplied,if somebody changed it,\n\n105\n00:05:16.960 --> 00:05:18.730\nmaybe hard just to keep track of all this.\n\n106\n00:05:18.730 --> 00:05:22.150\nSo I thought it would be good just to show\nyou how to apply this group policy so\n\n107\n00:05:22.150 --> 00:05:26.890\nI just have a quick group policy that I've\ncreated, I'm on my domain controller And\n\n108\n00:05:26.890 --> 00:05:29.170\nI'm in my group policy management console,\n\n109\n00:05:29.170 --> 00:05:33.260\nI've just chosen the OU I typically\nwill demo off of, our APAC OU.\n\n110\n00:05:33.260 --> 00:05:35.550\nIn this environment right click,\ncreate and\n\n111\n00:05:35.550 --> 00:05:39.560\nlink a new GPO here, named it FSRM just so\nwe can keep track of it.\n\n112\n00:05:39.560 --> 00:05:40.730\nAnd I've just chosen to edit it.\n\n113\n00:05:40.730 --> 00:05:45.150\nSo the blank group policy there's\nno settings and whatsoever.\n\n114\n00:05:45.150 --> 00:05:49.260\nAnd what I've done is I've gone down the\ncomputer configuration, gone to policies,\n\n115\n00:05:49.260 --> 00:05:51.610\ngone to Windows Settings,\nSecurity Settings,\n\n116\n00:05:51.610 --> 00:05:54.420\njust you could kinda see\nthe progression of where I am.\n\n117\n00:05:54.420 --> 00:05:58.720\nAnd I'm in under Security Settings Windows\nFirewall with Advanced Security when we\n\n118\n00:05:58.720 --> 00:06:03.250\nmove this over just a smidge, or a touch.\n\n119\n00:06:03.250 --> 00:06:04.520\n&gt;&gt; Smidge is a great word.\n\n120\n00:06:04.520 --> 00:06:05.330\n&gt;&gt; You like smidge, right?\n\n121\n00:06:05.330 --> 00:06:06.150\n&gt;&gt; Yeah.\n\n122\n00:06:06.150 --> 00:06:08.330\n&gt;&gt; I had a friend once,\nher name was Midge.\n\n123\n00:06:08.330 --> 00:06:12.160\nSo it's kinda like Midge, but\nit's a smidge as opposed to Midge.\n\n124\n00:06:12.160 --> 00:06:14.350\n&gt;&gt; I think Barbie has\na little sister named Midge.\n\n125\n00:06:14.350 --> 00:06:15.250\n&gt;&gt; Does she?\n&gt;&gt; Yeah.\n\n126\n00:06:15.250 --> 00:06:17.760\n&gt;&gt; I don't know\n&gt;&gt; Perhaps, I'm not sure.\n\n127\n00:06:17.760 --> 00:06:18.293\n&gt;&gt; Yeah.\n&gt;&gt; All right.\n\n128\n00:06:18.293 --> 00:06:19.980\n&gt;&gt; [LAUGH]\n&gt;&gt; So when we said the Firewall as you\n\n129\n00:06:19.980 --> 00:06:24.090\ncan see here and underneath the one is the\nAdvanced Firewall with Advanced Security\n\n130\n00:06:24.090 --> 00:06:25.630\namong the inbound rules, right?\n\n131\n00:06:25.630 --> 00:06:28.870\nBecause when credit rules can\nallow this traffic inbound, so\n\n132\n00:06:28.870 --> 00:06:31.560\nwe're gonna use this right\nclick Create a New Rule.\n\n133\n00:06:31.560 --> 00:06:34.089\nWe have a little wizard we can run here,\nNew Rule.\n\n134\n00:06:34.089 --> 00:06:39.260\nAnd [COUGH] Well we have a few options\nhere, we're gonna cheat a little bit.\n\n135\n00:06:39.260 --> 00:06:42.930\nAnd what we're gonna do is go to\nthe predefined area cuz we actually have\n\n136\n00:06:42.930 --> 00:06:45.840\na predefined rule that we'll do, it's\nalmost like a template we can apply that\n\n137\n00:06:45.840 --> 00:06:48.030\nhas the exception it already created for\nus.\n\n138\n00:06:48.030 --> 00:06:49.360\nSo we're gonna go to predefined.\n\n139\n00:06:49.360 --> 00:06:50.800\nNow, nice thing about predefined,\n\n140\n00:06:50.800 --> 00:06:54.660\nwe pull this down here is that there's\nquite a number of these rule sets.\n\n141\n00:06:54.660 --> 00:06:58.420\nYou can see there's a bunch of\nexceptions That have been programmed in,\n\n142\n00:06:58.420 --> 00:07:01.630\nmeaning the port numbers are there,\nthe services association, all the stuff\n\n143\n00:07:01.630 --> 00:07:03.930\nyou need to make this work the right way,\nwhich you would have to know,\n\n144\n00:07:03.930 --> 00:07:06.500\nis already preconfigured for\nus, which makes it easier.\n\n145\n00:07:06.500 --> 00:07:09.060\nSo if you go down,\njust off that take a look,\n\n146\n00:07:09.060 --> 00:07:10.815\nthere are quite a few items with file.\n\n147\n00:07:10.815 --> 00:07:13.858\nYou'll see one file server remote\nmanagement right here, FSRM.\n\n148\n00:07:13.858 --> 00:07:15.159\nWe'll highlight that one.\n\n149\n00:07:16.370 --> 00:07:22.040\nGo ahead and click next, you'll see that\nit then has the appropriate items there.\n\n150\n00:07:22.040 --> 00:07:26.650\nIt's got the file servers, the file server\nread, the file server remote management,\n\n151\n00:07:26.650 --> 00:07:27.580\nthird time's a charm.\n\n152\n00:07:27.580 --> 00:07:33.280\nFile server remote management, FSRM, for\nSMB inbound DCOM inbound, WMI inbound.\n\n153\n00:07:33.280 --> 00:07:36.950\nSo it's got everything we need already\nprogrammed in, it's already set there.\n\n154\n00:07:36.950 --> 00:07:37.930\nDoes the rule exist?\n\n155\n00:07:37.930 --> 00:07:38.570\nNo.\n\n156\n00:07:38.570 --> 00:07:40.410\nRight?\nSo it tells us a little bit about it.\n\n157\n00:07:40.410 --> 00:07:42.770\nPuts all the port information in for us.\n\n158\n00:07:42.770 --> 00:07:44.760\nGives us all the configurations we need.\n\n159\n00:07:44.760 --> 00:07:46.420\nSo we don't have to worry\nabout doing all this.\n\n160\n00:07:46.420 --> 00:07:47.490\nCould you go look this up.\n\n161\n00:07:47.490 --> 00:07:50.740\nFigure out you need these\nthree configurations.\n\n162\n00:07:50.740 --> 00:07:51.940\nYou need WMI.\n\n163\n00:07:51.940 --> 00:07:53.105\nYou need DCOM.\n\n164\n00:07:53.105 --> 00:07:54.269\nYou need SMB Inbound.\n\n165\n00:07:54.269 --> 00:07:55.992\nYou need the appropriate ports.\n\n166\n00:07:55.992 --> 00:07:56.631\nYou got know all that.\n\n167\n00:07:56.631 --> 00:07:57.684\nSure, you could have looked a little up.\n\n168\n00:07:57.684 --> 00:07:59.008\nIt's all in the documentation.\n\n169\n00:07:59.008 --> 00:08:00.453\nBut if it's already set-up for you,\n\n170\n00:08:00.453 --> 00:08:02.453\nwhy would you go to the trouble\nhaving to do all this.\n\n171\n00:08:02.453 --> 00:08:04.250\nJust go ahead and\napply it this way, right?\n\n172\n00:08:04.250 --> 00:08:08.173\nSo, when we click Next\nvery straightforward.\n\n173\n00:08:08.173 --> 00:08:11.380\nAllow the connection,\nright allow it if it is secure.\n\n174\n00:08:11.380 --> 00:08:12.930\nSeeing do we wanna allow, whether or\n\n175\n00:08:12.930 --> 00:08:16.337\nnot secure allow only if it's secure that\nkind of thing or block the connection.\n\n176\n00:08:16.337 --> 00:08:19.991\nWould just for purposes of demonstration,\nwe're just gonna say allow, right, so\n\n177\n00:08:19.991 --> 00:08:21.402\nclick finish, that sets it up.\n\n178\n00:08:21.402 --> 00:08:26.387\nPuts it in there for us, and now when\nthis gets applied, if we wanna remotely\n\n179\n00:08:26.387 --> 00:08:31.770\nmanage just sitting in the or to reboot or\nto GP update force whatever it maybe.\n\n180\n00:08:31.770 --> 00:08:33.490\nAnd that policy gets applied and\n\n181\n00:08:33.490 --> 00:08:37.280\nnow, we can actually remote in from our\nconsole on the other machine we'll be able\n\n182\n00:08:37.280 --> 00:08:41.880\nto effectively manage the instance on\nthis target machine, wherever it is.\n\n183\n00:08:41.880 --> 00:08:44.810\nSo just wanna make sure you're familiar\nwith this, you get a chance to see this.\n\n184\n00:08:44.810 --> 00:08:47.460\nAnd you understand that it's\nnot just let me right click,\n\n185\n00:08:47.460 --> 00:08:50.410\nchoose manage another server,\nput in the name, and it will go.\n\n186\n00:08:50.410 --> 00:08:53.242\nThat part normally works, but\nwhen there's a firewall in the way,\n\n187\n00:08:53.242 --> 00:08:55.984\nwe may have to manipulate, and\nin this case create an exception.\n\n188\n00:08:55.984 --> 00:08:58.624\nSo I just want to make sure you\ngot a chance to see that, and\n\n189\n00:08:58.624 --> 00:09:00.773\ngot a chance to see how we would do this,\nokay?\n\n190\n00:09:00.773 --> 00:09:03.021\nAll right, so\nyou could see why we would do this, and\n\n191\n00:09:03.021 --> 00:09:04.880\nhow we would then be able to remote in.\n\n192\n00:09:04.880 --> 00:09:07.911\nSo just so you are aware of that, in case\nyou were wondering, remember you can go\n\n193\n00:09:07.911 --> 00:09:10.689\nmanually create that exception in\nthe firewall locally on the machine.\n\n194\n00:09:10.689 --> 00:09:13.791\nBut you'd have to know you need smb\ninbound, you need DCOM inbound,\n\n195\n00:09:13.791 --> 00:09:17.533\nyou need WMI inbound, you need to know all\nthe ports, you'd have to know all that,\n\n196\n00:09:17.533 --> 00:09:20.150\nright, so\nthis way it's a little bit easier for you.\n\n197\n00:09:20.150 --> 00:09:21.270\n&gt;&gt; Yeah definitely listen to Adam and\n\n198\n00:09:21.270 --> 00:09:23.100\ndon't listen to those\npost in the Internet,\n\n199\n00:09:23.100 --> 00:09:25.740\nthose blog posts where they are like\njust turn the firewall off.\n\n200\n00:09:25.740 --> 00:09:27.810\nYou'll be fine, it'll work perfectly.\n\n201\n00:09:27.810 --> 00:09:28.470\n&gt;&gt; Yeah no.\n&gt;&gt; [LAUGH]\n\n202\n00:09:28.470 --> 00:09:30.810\n&gt;&gt; You definitely do not, no.\n\n203\n00:09:30.810 --> 00:09:31.700\n&gt;&gt; I've seen them, yeah.\n\n204\n00:09:31.700 --> 00:09:32.600\n&gt;&gt; Yeah no.\n\n205\n00:09:32.600 --> 00:09:33.240\nNot no.\n\n206\n00:09:33.240 --> 00:09:33.980\nJust no.\n\n207\n00:09:33.980 --> 00:09:34.898\n&gt;&gt; Don't.\n&gt;&gt; Just Yeah.\n\n208\n00:09:34.898 --> 00:09:36.153\n&gt;&gt; [LAUGH]\n&gt;&gt; No.\n\n209\n00:09:36.153 --> 00:09:37.190\nOne more time.\n\n210\n00:09:37.190 --> 00:09:38.061\nNo.\nJust okay.\n\n211\n00:09:38.061 --> 00:09:40.100\nWell so yes, you don't want to.\n\n212\n00:09:40.100 --> 00:09:40.990\nNo.\nDon't do that.\n\n213\n00:09:40.990 --> 00:09:41.630\nThat would be bad.\n\n214\n00:09:41.630 --> 00:09:42.520\nWe've talked about that,right?\n\n215\n00:09:42.520 --> 00:09:46.590\nI mean just not cuz this is\na security themed set of episodes.\n\n216\n00:09:46.590 --> 00:09:47.640\nSure but you know right?\n\n217\n00:09:47.640 --> 00:09:51.750\nYou all do know Fundamentally, that\nthat is such a horrible, horrible idea.\n\n218\n00:09:51.750 --> 00:09:54.630\nThe one thing I hate when I see those blog\nposts, since you brought it up, right?\n\n219\n00:09:54.630 --> 00:09:59.087\nI actually think there's value in the blog\nposts, [INAUDIBLE] in any one blog post,\n\n220\n00:09:59.087 --> 00:09:59.991\nbut the advice.\n\n221\n00:09:59.991 --> 00:10:03.989\nBut I hate the fact that the context and\nthe right context and thought process\n\n222\n00:10:03.989 --> 00:10:08.001\naround the advice is not typically,\nnot always, typically not provided.\n\n223\n00:10:08.001 --> 00:10:11.856\nWhich is here's why you would pull down\nthe firewall, right, because there\n\n224\n00:10:11.856 --> 00:10:15.769\nare reasons why, maybe you're testing,\nmaybe you need to establish through\n\n225\n00:10:15.769 --> 00:10:19.910\ntroubleshooting that the firewall is not\nthe cause, there are reasons, right?\n\n226\n00:10:19.910 --> 00:10:20.894\n&gt;&gt; [CROSSTALK] In a lab\nthey are testing it.\n\n227\n00:10:20.894 --> 00:10:24.097\n&gt;&gt; Absolutely, there are reasons why\nyou would disable a firewall for\n\n228\n00:10:24.097 --> 00:10:27.918\na certain period of time in order to\naccomplish certain things, but typically,\n\n229\n00:10:27.918 --> 00:10:31.680\nyou see it presented like you were saying\nlike hey, just go drop the firewall and\n\n230\n00:10:31.680 --> 00:10:34.093\nboom, it works and\nnobody says and then by the way,\n\n231\n00:10:34.093 --> 00:10:36.270\nfigure out how to make it work and\nput it back.\n\n232\n00:10:36.270 --> 00:10:37.510\n&gt;&gt; Right.\n&gt;&gt; And nobody says,\n\n233\n00:10:37.510 --> 00:10:39.660\nyou do it under these circumstances for\nthese reasons and\n\n234\n00:10:39.660 --> 00:10:42.420\nthen you reestablish\na proper security perimeter.\n\n235\n00:10:42.420 --> 00:10:46.409\nSo making sure we understand the value of\na tool set I think is important, there\n\n236\n00:10:46.409 --> 00:10:50.580\nare legitimate reasons to run without\na firewall to establish certain contextual\n\n237\n00:10:50.580 --> 00:10:54.388\nvariables, and knowledge of certain\nsituations, but in very limited and\n\n238\n00:10:54.388 --> 00:10:57.856\nwell defined circumstances, and\nnot as a standing best practice.\n\n239\n00:10:57.856 --> 00:10:58.863\n&gt;&gt; Out in the wild wild west, yeah.\n\n240\n00:10:58.863 --> 00:11:02.210\n&gt;&gt; And certainly not as normal,\nnot as a normal means for operation.\n\n241\n00:11:02.210 --> 00:11:03.850\nThat is definitely not\nsomething you wanna do.\n\n242\n00:11:03.850 --> 00:11:08.029\nSo kudos to you, Cherokee, for\nsuggesting that we do the right thing.\n\n243\n00:11:08.029 --> 00:11:08.900\n&gt;&gt; [LAUGH]\n&gt;&gt; That's important.\n\n244\n00:11:08.900 --> 00:11:09.680\n&gt;&gt; Always do the right thing.\n\n245\n00:11:09.680 --> 00:11:10.890\n&gt;&gt; All right, well, not always.\n\n246\n00:11:10.890 --> 00:11:11.620\nBut most of the time.\n\n247\n00:11:11.620 --> 00:11:13.610\n&gt;&gt; [LAUGH]\n&gt;&gt; That's, most of the time is important.\n\n248\n00:11:13.610 --> 00:11:17.030\nAll right, so let's continue our journey,\nif we will, right, in FSRM.\n\n249\n00:11:17.030 --> 00:11:19.257\nSo we've been taking\na look at the settings.\n\n250\n00:11:19.257 --> 00:11:23.103\nWe did that, we did quota management,\nwe've done classification management,\n\n251\n00:11:23.103 --> 00:11:24.670\ndone file management task.\n\n252\n00:11:24.670 --> 00:11:27.480\nWho would have thought there's so many\ndarn things to go through in this concept.\n\n253\n00:11:27.480 --> 00:11:30.060\nThree episodes worth of stuff,\nit's a simple concept.\n\n254\n00:11:30.060 --> 00:11:31.730\nFSRM, you put a bunch of tools in there.\n\n255\n00:11:31.730 --> 00:11:33.440\nYou manage things, how hard could that be?\n\n256\n00:11:33.440 --> 00:11:36.550\nBut what you're seeing is not that it's\nhard, but to get it done the right way and\n\n257\n00:11:36.550 --> 00:11:38.980\nto understand the intricacies of\nhow we do it, takes time, right?\n\n258\n00:11:38.980 --> 00:11:39.750\n&gt;&gt; Yeah.\n&gt;&gt; And that's,\n\n259\n00:11:39.750 --> 00:11:41.455\none thing you gotta do is\nyou gotta spend the time.\n\n260\n00:11:41.455 --> 00:11:44.525\nYou gotta just explore and\nreally understand how you get it done.\n\n261\n00:11:44.525 --> 00:11:46.780\nAll right so to that end,\nfile screening management.\n\n262\n00:11:46.780 --> 00:11:49.670\nSo if you remember when we talked\nabout quotas and quota templates,\n\n263\n00:11:49.670 --> 00:11:54.070\nthe idea was, let's create a template or\nhave an existing template.\n\n264\n00:11:54.070 --> 00:11:57.430\nUse that, apply that and\nthen reap the benefit of those settings.\n\n265\n00:11:57.430 --> 00:12:01.320\nIt's the same thought process here\nwith file screening management.\n\n266\n00:12:01.320 --> 00:12:03.530\nWe have some premade\nfile screen templates.\n\n267\n00:12:03.530 --> 00:12:06.250\nYou could see there are five of them here.\n\n268\n00:12:06.250 --> 00:12:09.190\nA block audio on video,\nblock email, block executables,\n\n269\n00:12:09.190 --> 00:12:12.170\nblock image files, and\nor monitor executables.\n\n270\n00:12:12.170 --> 00:12:13.880\nAnd they're all active.\n\n271\n00:12:13.880 --> 00:12:15.483\nRight file for [INAUDIBLE] I should say.\n\n272\n00:12:15.483 --> 00:12:18.260\nOne is passive meaning it's just\nmonitoring, it's not blocking.\n\n273\n00:12:18.260 --> 00:12:22.210\nThis idea of active and passive,\nit's the same thought process the hard and\n\n274\n00:12:22.210 --> 00:12:25.730\nsoft quotas that we talked about in\nthe last episode with quota templates.\n\n275\n00:12:25.730 --> 00:12:28.740\nRemember a hard quota is a quota\nthat will not be violated.\n\n276\n00:12:28.740 --> 00:12:32.920\nMeaning if we restrict you at 10k as\nI showed you in my demonstration,\n\n277\n00:12:32.920 --> 00:12:34.490\nthere's no way for you to get around that.\n\n278\n00:12:34.490 --> 00:12:38.280\nWhereas a soft quota is a recommendation,\nessentially, not a requirement.\n\n279\n00:12:38.280 --> 00:12:40.340\n&gt;&gt; Can be used for monitoring auditing but\n\n280\n00:12:40.340 --> 00:12:43.130\nit's just not enforced\nin that same hard way.\n\n281\n00:12:43.130 --> 00:12:45.880\n&gt;&gt; Right it's just not enforced, it's not\na requirement, it's a recommendation.\n\n282\n00:12:45.880 --> 00:12:50.070\nWe recommend you stay at the size level,\nbut we're gonna let you Go passive.\n\n283\n00:12:50.070 --> 00:12:54.620\nSame idea with active and passive with\nregards to how we do file screening.\n\n284\n00:12:54.620 --> 00:12:59.250\nActive screens are gonna forcefully\napply the logic of blocking whatever\n\n285\n00:12:59.250 --> 00:13:03.320\nthe file screen lists or\nfile group says we should block.\n\n286\n00:13:03.320 --> 00:13:07.058\nWhereas, a passive screen monitors,\ntells us there's something going on but\n\n287\n00:13:07.058 --> 00:13:10.800\nit's not gonna block the actual files,\nwhatever's in the file group.\n\n288\n00:13:10.800 --> 00:13:13.030\nSo the file groups,\nwhich are pre-made here as well,\n\n289\n00:13:13.030 --> 00:13:15.760\nyou can see there are about ten of them or\nso.\n\n290\n00:13:15.760 --> 00:13:20.430\nThese are gonna just simply be\ncategories of file associations, right,\n\n291\n00:13:20.430 --> 00:13:24.020\ndifferent extensions that we\nuse that we then apply through\n\n292\n00:13:24.020 --> 00:13:27.700\na file screen template to create our\nability to be able to either allow or\n\n293\n00:13:27.700 --> 00:13:30.970\nblock, in these cases typically block,\nfiles.\n\n294\n00:13:30.970 --> 00:13:34.040\nWe can create our own file groups,\nmodify the existing file groups\n\n295\n00:13:34.040 --> 00:13:37.490\njust like the properties associated\nwith the configuration or\n\n296\n00:13:37.490 --> 00:13:41.160\nclassification management capabilities,\nas we went through and we looked at, yeah.\n\n297\n00:13:41.160 --> 00:13:45.050\n&gt;&gt; So, essentially, I could go and\nand prevent you from saving and\n\n298\n00:13:45.050 --> 00:13:49.240\nstoring all of your cat videos\nonto our corporate file storage.\n\n299\n00:13:49.240 --> 00:13:50.975\n&gt;&gt; No, cuz I don't have cat videos.\n\n300\n00:13:50.975 --> 00:13:52.010\n&gt;&gt; [LAUGH] Come on.\n\n301\n00:13:52.010 --> 00:13:54.780\n&gt;&gt; You must have me confused with\nsomebody who actually thinks that's\n\n302\n00:13:54.780 --> 00:13:57.180\nappropriate behavior,\nwhich would not be me.\n\n303\n00:13:57.180 --> 00:13:59.080\nMaybe somebody else but would not be me.\n\n304\n00:13:59.080 --> 00:14:01.000\nBut if the tables were turned and\n\n305\n00:14:01.000 --> 00:14:04.640\nI was saying to you I could prevent\nyou from perhaps doing that.\n\n306\n00:14:04.640 --> 00:14:07.420\nThat may be a more realistic\nassessment of where we stand.\n\n307\n00:14:07.420 --> 00:14:11.543\nSo yes you could theoretically block me,\nbut you would have to know is not although\n\n308\n00:14:11.543 --> 00:14:14.491\nwe could do this one of two ways,\nso interesting, right?\n\n309\n00:14:14.491 --> 00:14:19.010\nYou could say I wanna block all of\nAdam's or Cherokee's cat videos.\n\n310\n00:14:19.010 --> 00:14:21.888\nAnd I could do a classification\nmanagement rule, right?\n\n311\n00:14:21.888 --> 00:14:24.905\nWe've talked about this where I could look\nfor keywords, right, if you remember.\n\n312\n00:14:24.905 --> 00:14:25.775\n&gt;&gt; Yeah.\n&gt;&gt; I could search for\n\n313\n00:14:25.775 --> 00:14:31.365\nsomething that says cat in the title and\nblock that, or classify that and move that\n\n314\n00:14:31.365 --> 00:14:34.710\nto an alternate folder like the recycle\nbin where we don't wanna see anything.\n\n315\n00:14:34.710 --> 00:14:36.585\n&gt;&gt; [LAUGH]\n&gt;&gt; Just saying, we could easily do that.\n\n316\n00:14:36.585 --> 00:14:37.145\n&gt;&gt; True.\n&gt;&gt; Right?\n\n317\n00:14:37.145 --> 00:14:38.140\nSo we could do that.\n\n318\n00:14:38.140 --> 00:14:41.818\nWe could also use a file group here, and\nwe could use the file screen template as\n\n319\n00:14:41.818 --> 00:14:45.325\nwe're about to do, but what we would have\nto do if we knew, or wanted to do it\n\n320\n00:14:45.325 --> 00:14:48.983\nunder file screening, would be to know\nthe extension of the videos, right?\n\n321\n00:14:48.983 --> 00:14:51.080\nSo, is it a dot.\n\n322\n00:14:51.080 --> 00:14:52.040\n&gt;&gt; MP4, MOV, or whatever.\n\n323\n00:14:52.040 --> 00:14:54.080\n&gt;&gt; Yeah, .MOV or whatever.\n\n324\n00:14:54.080 --> 00:14:56.316\nMPEG.\n&gt;&gt; I think MP4 is I mean [CROSSTALK]\n\n325\n00:14:56.316 --> 00:14:57.612\n&gt;&gt; Yeah, any of those.\n\n326\n00:14:57.612 --> 00:14:59.303\n&gt;&gt; Audio.\n&gt;&gt; So we are probably not going to put you\n\n327\n00:14:59.303 --> 00:15:00.968\nin charge of the [INAUDIBLE]\nvideo project.\n\n328\n00:15:00.968 --> 00:15:01.641\n&gt;&gt; [LAUGH] [CROSSTALK].\n\n329\n00:15:01.641 --> 00:15:03.754\n&gt;&gt; Cuz you are not exactly up to\ndate on your file extensions, but.\n\n330\n00:15:03.754 --> 00:15:07.562\n&gt;&gt; Who would think, and I mean, doing\nwhat we do with the video files here but\n\n331\n00:15:07.562 --> 00:15:08.435\n[INAUDIBLE]\n&gt;&gt; How did?\n\n332\n00:15:08.435 --> 00:15:08.990\nYeah.\nRight\n\n333\n00:15:08.990 --> 00:15:09.515\n&gt;&gt; [LAUGH]\n\n334\n00:15:09.515 --> 00:15:11.065\n&gt;&gt; The thought process\n\n335\n00:15:11.065 --> 00:15:11.785\nis good.\n&gt;&gt; Great.\n\n336\n00:15:11.785 --> 00:15:12.985\n&gt;&gt; So that's an air high five.\n\n337\n00:15:12.985 --> 00:15:14.115\nWe're not gonna really do a high five.\n\n338\n00:15:14.115 --> 00:15:16.565\nThat's an air high five because it was not\n\n339\n00:15:16.565 --> 00:15:18.855\nquite exactly where it needed to be.\nAll right, so we\n\n340\n00:15:18.855 --> 00:15:20.575\ncould do this a couple of different ways.\nBut you're right.\n\n341\n00:15:20.575 --> 00:15:22.041\nWe could use file groups.\n\n342\n00:15:22.041 --> 00:15:23.310\nWe know the extension.\n\n343\n00:15:23.310 --> 00:15:23.910\nWe already have one,\n\n344\n00:15:23.910 --> 00:15:26.380\nwhich we do in this case cuz we\nhave one specific to audio and\n\n345\n00:15:26.380 --> 00:15:29.380\nvideo files sitting right up there.\nActually first one on the list.\n\n346\n00:15:29.380 --> 00:15:30.390\nWe could use that.\n\n347\n00:15:30.390 --> 00:15:31.426\nOr we create a custom one.\n\n348\n00:15:31.426 --> 00:15:32.748\nAs you see I right clicked and\n\n349\n00:15:32.748 --> 00:15:36.290\nI can create my own file group here, or\nI could edit any of the existing ones.\n\n350\n00:15:36.290 --> 00:15:37.690\nI can highlight here, and\n\n351\n00:15:37.690 --> 00:15:39.480\nI could just edit the file\ngroup properties,\n\n352\n00:15:39.480 --> 00:15:42.603\nand just bring up the file group.\nAll the file group properties are is\n\n353\n00:15:42.603 --> 00:15:46.655\nreally just a group, a container, and a\nlist of file extensions, and in this case\n\n354\n00:15:46.655 --> 00:15:48.673\nthe one associated with the group.\nAnd\n\n355\n00:15:48.673 --> 00:15:53.631\nyou could see I could add them in here,\nright, add in whatever it is, I dunno,\n\n356\n00:15:53.631 --> 00:15:56.481\nN G D or whatever it may be.\nMake up a extension,\n\n357\n00:15:56.481 --> 00:16:00.476\nas long as that is something I think I\nwanna add just put it in, click add,\n\n358\n00:16:00.476 --> 00:16:03.731\nPut it on the list and I'm fine.\nIf I want to exclude certain files, I\n\n359\n00:16:03.731 --> 00:16:06.910\ncould do an exclusion on the list as well.\nMaybe exclude those mp4s or\n\n360\n00:16:06.910 --> 00:16:09.670\nthose mov files, but\nallow everything else, right?\n\n361\n00:16:09.670 --> 00:16:11.860\nBecause who can live without\ntheir cat videos, right?\n\n362\n00:16:11.860 --> 00:16:13.800\nThat would be cruel and\nunusual punishment.\n\n363\n00:16:13.800 --> 00:16:17.270\nAll right, so we have the idea of\nfile groups and we can create those.\n\n364\n00:16:17.270 --> 00:16:20.510\nWe take those file groups,\nwe go to our File Screen Templates, and\n\n365\n00:16:20.510 --> 00:16:25.040\nlet's just look at our premade template of\nblock audio and video files, for instance.\n\n366\n00:16:25.040 --> 00:16:28.520\nJust keeping with our theme here, you'll\nsee we can either create a File Screen,\n\n367\n00:16:28.520 --> 00:16:30.600\nwhich we'll do in a second,\nfrom a template.\n\n368\n00:16:30.600 --> 00:16:32.830\nOr edit the template,\nlet's look at the template.\n\n369\n00:16:32.830 --> 00:16:37.070\nThe template itself has the ability to be\nable to do active or passive screening,\n\n370\n00:16:37.070 --> 00:16:38.650\nwe talked about the difference there.\n\n371\n00:16:38.650 --> 00:16:42.650\nYou could see the list of all the file\ngroups that are already in the system,\n\n372\n00:16:42.650 --> 00:16:43.990\nthe 10 or 12 that exist.\n\n373\n00:16:43.990 --> 00:16:47.740\nI've selected, not I, but the template\nitself is set to have audio and\n\n374\n00:16:47.740 --> 00:16:49.890\nvideo files as the default choice.\n\n375\n00:16:49.890 --> 00:16:51.520\nYou notice we could add others.\n\n376\n00:16:51.520 --> 00:16:55.320\nAnd notice we can create new ones\non the fly or edit existing ones.\n\n377\n00:16:55.320 --> 00:16:58.670\nSo I could edit the file group for\nthis particular template, right?\n\n378\n00:16:58.670 --> 00:17:01.630\nSo I could make an exchange of\nfile types here if I want to.\n\n379\n00:17:01.630 --> 00:17:04.370\nI have the ability to\nspecify an email message,\n\n380\n00:17:04.370 --> 00:17:07.270\nsend email notifications\nout to the administrator.\n\n381\n00:17:07.270 --> 00:17:09.990\nSend an email out to somebody\nwho's gonna be blocked and\n\n382\n00:17:09.990 --> 00:17:12.660\nnot allowed to do something\nbased on the file screen.\n\n383\n00:17:12.660 --> 00:17:16.314\nSame thing we talked about with the quotas\nin the last episode where at the end\n\n384\n00:17:16.314 --> 00:17:19.910\nI demoed that when we apply the quota\ntemplate and we try to do something that\n\n385\n00:17:19.910 --> 00:17:23.963\nviolates the hard template, prevent the\nuser from putting something in bigger than\n\n386\n00:17:23.963 --> 00:17:26.392\n10 kilobytes in the file,\nwe get that warning.\n\n387\n00:17:26.392 --> 00:17:29.097\nEssentially it just comes up and\nsays, hey, sorry, you violated it,\n\n388\n00:17:29.097 --> 00:17:30.282\nnot enough space, try again.\n\n389\n00:17:30.282 --> 00:17:33.010\nThere was no email sent because\nI hadn't configured that.\n\n390\n00:17:33.010 --> 00:17:36.010\nBut if I wanted to set up the email\nmessage, scope that out, and\n\n391\n00:17:36.010 --> 00:17:40.060\nthen have an SMTP relay available, I could\nactually spawn an email to that user.\n\n392\n00:17:40.060 --> 00:17:42.850\nHave it show up and say,\nsorry, this is what happened.\n\n393\n00:17:42.850 --> 00:17:43.640\nHere's what you need to do.\n\n394\n00:17:43.640 --> 00:17:45.780\n&gt;&gt; You are not allowed to\nsave the cat videos here.\n\n395\n00:17:45.780 --> 00:17:47.445\n&gt;&gt; No cat videos allowed, right?\n\n396\n00:17:47.445 --> 00:17:49.028\n&gt;&gt; [LAUGH]\n&gt;&gt; Or we could say for\n\n397\n00:17:49.028 --> 00:17:53.939\nmore storage space or to enable you to\ndo this, please contact IT support.\n\n398\n00:17:53.939 --> 00:17:57.146\nOr contact Cherokee so\nshe can make a copy of your cat video,\n\n399\n00:17:57.146 --> 00:17:59.015\nwhatever the case may be, right?\n\n400\n00:17:59.015 --> 00:18:01.180\nJust all the craziness\nyou may wanna add there.\n\n401\n00:18:01.180 --> 00:18:02.469\nSo we could do that.\n\n402\n00:18:02.469 --> 00:18:04.521\nWe do see that we have here,\nand by the way,\n\n403\n00:18:04.521 --> 00:18:07.150\nthe warning on no SMTP server\ninformation available.\n\n404\n00:18:07.150 --> 00:18:10.410\nThat's fine, it's just telling us\nwe need an SMTP server setup to use\n\n405\n00:18:10.410 --> 00:18:11.070\nthe email function.\n\n406\n00:18:11.070 --> 00:18:13.635\nSo we're just gonna click\nYes to move past that.\n\n407\n00:18:13.635 --> 00:18:17.165\nEvent log, notice we are creating event\nwarnings or warnings into the event log,\n\n408\n00:18:17.165 --> 00:18:18.248\nagain, as part of this.\n\n409\n00:18:18.248 --> 00:18:22.678\nNotice the log entry is already set up\nhere with some source variables that\n\n410\n00:18:22.678 --> 00:18:26.365\nwe can then modify or\nadd as needed to put in information.\n\n411\n00:18:26.365 --> 00:18:27.605\nSo we have that capability,\n\n412\n00:18:27.605 --> 00:18:31.485\nand our variables can be inserted\nhere if we wanna modify that.\n\n413\n00:18:31.485 --> 00:18:34.595\nThe command area here will let me run\nsome sort of a command or a script.\n\n414\n00:18:34.595 --> 00:18:38.280\nI'm thinking batch files, command files,\nPowerShell scripts, for instance.\n\n415\n00:18:38.280 --> 00:18:39.715\n&gt;&gt; There you go.\n&gt;&gt; Could be fired off here, right?\n\n416\n00:18:39.715 --> 00:18:42.540\nSo bringing us full circle\nback to PowerShell.\n\n417\n00:18:42.540 --> 00:18:45.629\nAnd we do have our report\ncapabilities here.\n\n418\n00:18:45.629 --> 00:18:48.465\nWe're gonna take a look at the storage\nreports here in just a few minutes,\n\n419\n00:18:48.465 --> 00:18:49.578\nwe'll be able to see those.\n\n420\n00:18:49.578 --> 00:18:53.628\nBut we do have our storage reports or\nour reports that we can generate.\n\n421\n00:18:53.628 --> 00:18:57.342\nAnd we can select what kind of reports we\nwant to generate based on the use of this\n\n422\n00:18:57.342 --> 00:18:58.485\nparticular template.\n\n423\n00:18:58.485 --> 00:19:02.147\nAnd to that end, there is a list of\nvarious reports, and I actually put\n\n424\n00:19:02.147 --> 00:19:06.575\ntogether a little word document that shows\nus what all the FSRM storage reports are.\n\n425\n00:19:06.575 --> 00:19:09.974\nIt just details out for us the ten or so\nreport types that are there by default,\n\n426\n00:19:09.974 --> 00:19:12.500\nduplicate files-\n&gt;&gt; I like that first one.\n\n427\n00:19:12.500 --> 00:19:13.120\nDuplicate files?\n\n428\n00:19:13.120 --> 00:19:13.748\n&gt;&gt; Yeah.\n&gt;&gt; Yeah?\n\n429\n00:19:13.748 --> 00:19:16.340\n&gt;&gt; I hate when I have duplicate files.\n\n430\n00:19:16.340 --> 00:19:17.445\n&gt;&gt; Like duplicate cat videos, right?\n\n431\n00:19:17.445 --> 00:19:18.240\n&gt;&gt; [LAUGH] exactly.\n\n432\n00:19:18.240 --> 00:19:20.600\n&gt;&gt; So two cats doing the same\nthing at the same time.\n\n433\n00:19:20.600 --> 00:19:23.130\nIt's twice as good as just one, right?\n\n434\n00:19:23.130 --> 00:19:25.330\nAll right, so\nthat's like LOL squared, right?\n\n435\n00:19:25.330 --> 00:19:26.410\n&gt;&gt; Yeah, L-O-L.\n\n436\n00:19:26.410 --> 00:19:27.243\n&gt;&gt; L-O-L squared?\n\n437\n00:19:27.243 --> 00:19:29.080\nYeah, twice the silliness.\n\n438\n00:19:29.080 --> 00:19:31.780\n&gt;&gt; So, we're not talking about data\nde-duplication here, but it's-\n\n439\n00:19:31.780 --> 00:19:32.810\n&gt;&gt; We're talking about a listing of\n\n440\n00:19:32.810 --> 00:19:36.280\nduplicate files that could become\na target for de-duplication.\n\n441\n00:19:36.280 --> 00:19:38.840\nSo this will not say hey I\nde-duped all these files.\n\n442\n00:19:38.840 --> 00:19:42.340\nThis will say all the files that\nappear to be duplicates, same size,\n\n443\n00:19:42.340 --> 00:19:46.090\nlast modification time, things like that,\nwe can identify them and then go in and\n\n444\n00:19:46.090 --> 00:19:47.390\ndecide to deal with them separately.\n\n445\n00:19:47.390 --> 00:19:51.560\nMaybe using disk de-duplication services\nor something else in Server 16.\n\n446\n00:19:51.560 --> 00:19:55.590\nBut this will identify potential\ntargets but not go take action.\n\n447\n00:19:55.590 --> 00:19:56.756\n&gt;&gt; And handle it for you, got it.\n\n448\n00:19:56.756 --> 00:19:58.140\n&gt;&gt; Right, so this is just a list of hey,\n\n449\n00:19:58.140 --> 00:20:00.370\nthere's 20 files that\nappear to be duplicates.\n\n450\n00:20:00.370 --> 00:20:01.530\nYou should go look at that, right?\n\n451\n00:20:01.530 --> 00:20:04.210\nThat's what this report\nwill essentially do for us.\n\n452\n00:20:04.210 --> 00:20:09.250\nFile screening audit, files by file group,\nfiles by owner, by property,\n\n453\n00:20:09.250 --> 00:20:12.865\nfolders by property,\nlarge files over a certain size,\n\n454\n00:20:12.865 --> 00:20:17.035\nleast recently accessed, meaning\nwhich ones have not been accessed and\n\n455\n00:20:17.035 --> 00:20:21.155\nunder what circumstances,\nmost recently accessed, quota usage.\n\n456\n00:20:21.155 --> 00:20:23.795\nSo we got some really nice built\nin reports that we can then\n\n457\n00:20:23.795 --> 00:20:25.093\nmanipulate and use.\n\n458\n00:20:25.093 --> 00:20:27.543\nAnd we'll just take look at how to\ngenerate those in just a few minutes.\n\n459\n00:20:27.543 --> 00:20:30.458\nBut just thought it'd be good to\nput together a little list for you,\n\n460\n00:20:30.458 --> 00:20:31.132\nas we try to do.\n\n461\n00:20:31.132 --> 00:20:33.576\nYou've got this document,\nit is included with a show notes so\n\n462\n00:20:33.576 --> 00:20:35.598\nyou could see that if you're interested,\nright?\n\n463\n00:20:35.598 --> 00:20:39.142\nSo we could specify and\ninteract with our reports here.\n\n464\n00:20:39.142 --> 00:20:41.676\nAll right, so let's go ahead,\nlet's do the following.\n\n465\n00:20:41.676 --> 00:20:46.055\nI've taken the file screen template\ncalled not block audio and video, but\n\n466\n00:20:46.055 --> 00:20:47.802\nblock executable files.\n\n467\n00:20:47.802 --> 00:20:50.778\nI've used this one to now\ncreate a file screen.\n\n468\n00:20:50.778 --> 00:20:52.792\nSo I come over here to File Screens, and\n\n469\n00:20:52.792 --> 00:20:55.371\nyou'll see I already have\na file screen created.\n\n470\n00:20:55.371 --> 00:20:59.067\nI'm gonna show you the output of this in\njust a moment, but in order to do this,\n\n471\n00:20:59.067 --> 00:21:01.940\nyou can just right-click and\nCreate a File Screen, right?\n\n472\n00:21:03.142 --> 00:21:03.930\nVery straightforward,\n\n473\n00:21:03.930 --> 00:21:07.470\njust have to specify the path we\nwant to apply the file screen for.\n\n474\n00:21:07.470 --> 00:21:10.833\nI chose to put the mine on\nthe File Screens folder.\n\n475\n00:21:10.833 --> 00:21:16.290\nI have a test folder created,\nso I just put in the path here.\n\n476\n00:21:16.290 --> 00:21:22.010\nSo I could easily just come down here, go\nto the C drive, and I chose that one, but\n\n477\n00:21:22.010 --> 00:21:26.940\nlet's just go ahead and\nlet's put this on the QuotaTest.\n\n478\n00:21:28.810 --> 00:21:29.697\nThere we go.\n\n479\n00:21:29.697 --> 00:21:34.725\nAnd then, derive properties\n\n480\n00:21:34.725 --> 00:21:39.027\nfrom the file template recommended,\nwhich file screen template do I wanna use.\n\n481\n00:21:39.027 --> 00:21:40.891\nAnd you'll see all of them are there,\n\n482\n00:21:40.891 --> 00:21:43.579\nI just chose executable files\nwhen I created this one.\n\n483\n00:21:43.579 --> 00:21:46.307\nOr, define a custom set\nof properties myself.\n\n484\n00:21:46.307 --> 00:21:50.365\nI can go in and do that and once I set all\nthis up and click Create, it gets applied,\n\n485\n00:21:50.365 --> 00:21:51.401\nso it shows up here.\n\n486\n00:21:51.401 --> 00:21:53.717\nIt is active, you can see here.\n\n487\n00:21:56.421 --> 00:21:59.020\nThis is the one that I'm using,\nthis is the one I created.\n\n488\n00:21:59.020 --> 00:22:01.240\nIt's set to block executable files.\n\n489\n00:22:01.240 --> 00:22:08.440\nSo once I do this, what I can now\ndo is come over here to my C drive.\n\n490\n00:22:08.440 --> 00:22:10.990\nI have my folder called FileScreen,\n\n491\n00:22:10.990 --> 00:22:14.180\nwhich is where I'm applying\nthe file screen template.\n\n492\n00:22:14.180 --> 00:22:16.490\nNotice there's nothing in\nthe folder right now, but\n\n493\n00:22:16.490 --> 00:22:22.730\nthe folder is designed to block the\nintroduction of executable files, right?\n\n494\n00:22:22.730 --> 00:22:24.290\nSo in theory,\n\n495\n00:22:24.290 --> 00:22:29.280\nI should be able to copy a text file\njust like the one I'm using here.\n\n496\n00:22:29.280 --> 00:22:33.780\nGo here, right-click, and\npaste that with no trouble.\n\n497\n00:22:33.780 --> 00:22:35.690\nAnd you can see I could do that\ncuz it's not an executable and\n\n498\n00:22:35.690 --> 00:22:39.030\nI don't have a quota template on there\nthat prevents me to do that based on size.\n\n499\n00:22:39.030 --> 00:22:42.670\nThat's the same file we demo with at the\nend of the last episode that was blocked\n\n500\n00:22:42.670 --> 00:22:44.980\nIn the QuotaTest folder,\nbut is allowed here, right?\n\n501\n00:22:44.980 --> 00:22:46.730\nSo that part makes sense, but\n\n502\n00:22:46.730 --> 00:22:51.130\nI also have an executable file sitting\nthere, just made a copy of regedit, right?\n\n503\n00:22:51.130 --> 00:22:55.233\nSo I can go in, copy that, cuz that\nis an executable, and if I go here,\n\n504\n00:22:55.233 --> 00:22:57.895\nlogic dictates I should\nnot be able to paste.\n\n505\n00:22:57.895 --> 00:23:01.860\nThe file screen template should prevent\nme from pasting this executable, so\n\n506\n00:23:01.860 --> 00:23:03.780\nlet's put that to the test, right?\n\n507\n00:23:03.780 --> 00:23:09.354\nSo paste here, and you'll see that I\nam blocked from being able to do this.\n\n508\n00:23:09.354 --> 00:23:12.725\nSame thing we saw with the quota template,\nsame warning.\n\n509\n00:23:12.725 --> 00:23:15.594\nHey, essentially, sorry,\nyou're violating the rules, try again.\n\n510\n00:23:15.594 --> 00:23:17.901\nI don't know why it bothers to say\ntry again, it should just say sorry,\n\n511\n00:23:17.901 --> 00:23:18.876\nout of luck, and that's it.\n\n512\n00:23:18.876 --> 00:23:21.156\nCuz you could hit Try Again all day,\nit's not gonna go anywhere, right?\n\n513\n00:23:21.156 --> 00:23:24.240\nBut you essentially are blocked\nfrom committing this action, right?\n\n514\n00:23:24.240 --> 00:23:26.540\nSo hit Cancel, and that's not gonna work.\n\n515\n00:23:26.540 --> 00:23:31.680\nNow if I go to a folder outside\nof the FileScreen path, I happen\n\n516\n00:23:31.680 --> 00:23:36.100\nto have another one called NoFileScreen,\nright, because I am prepared, right.\n\n517\n00:23:36.100 --> 00:23:38.120\nSo NoFileScreen, again, empty here, but\n\n518\n00:23:38.120 --> 00:23:42.920\nthis is not part of the path, so the file\nscreen templates being applied does not\n\n519\n00:23:42.920 --> 00:23:45.529\napply to this directory\n&gt;&gt; I should be able to drop this\n\n520\n00:23:45.529 --> 00:23:46.910\nexecutable in there with no trouble.\n\n521\n00:23:46.910 --> 00:23:50.510\nAnd of course, you'll see when I\ndo that that I can do that easily.\n\n522\n00:23:50.510 --> 00:23:54.440\nSo the file screen template is working,\nbut I've selectively chosen to put it into\n\n523\n00:23:54.440 --> 00:23:57.993\na certain path, and therefore it's\nblocking that activity in that path.\n\n524\n00:23:57.993 --> 00:23:59.838\nBut allowing actively around it.\n\n525\n00:23:59.838 --> 00:24:03.149\nSo this is how file screen\ntemplates would be applied and\n\n526\n00:24:03.149 --> 00:24:07.095\nhow we can use file screen to be able\nto allow or to deny in this case,\n\n527\n00:24:07.095 --> 00:24:09.921\nthe use of a certain file\ntype in a certain area.\n\n528\n00:24:09.921 --> 00:24:13.649\n&gt;&gt; And just to kind of remember that\nwe should be thinking about stacking\n\n529\n00:24:13.649 --> 00:24:15.448\ndifferent rules to a directory or\n\n530\n00:24:15.448 --> 00:24:19.690\na location as well because they\ncan be overlapped there, right?\n\n531\n00:24:19.690 --> 00:24:23.050\n&gt;&gt; We can but\nwe do after just anything else, right.\n\n532\n00:24:23.050 --> 00:24:25.293\nThe idea would be more.\n&gt;&gt; So, make it more difficult and\n\n533\n00:24:25.293 --> 00:24:27.188\nthat it needs to be convoluted.\n\n534\n00:24:27.188 --> 00:24:30.232\n&gt;&gt; What would just thinking about\nobviously the time it takes to apply and\n\n535\n00:24:30.232 --> 00:24:31.492\nrun through those, right.\n\n536\n00:24:31.492 --> 00:24:32.716\n&gt;&gt; Yeah.\n&gt;&gt; Just like the policy and\n\n537\n00:24:32.716 --> 00:24:36.744\ntheory when we think about this right if\nwe stock multiple policies, it's not,\n\n538\n00:24:36.744 --> 00:24:38.360\nthere are certain exceptions.\n\n539\n00:24:38.360 --> 00:24:41.290\nYou would get to a break point where\nyou have too many things going on.\n\n540\n00:24:41.290 --> 00:24:44.190\nTakes too long to log in and\nthen obviously it's not a good idea.\n\n541\n00:24:44.190 --> 00:24:47.650\nBut stacking two or three of these is not\ngonna be a problem, but when you get into\n\n542\n00:24:47.650 --> 00:24:53.070\ncreating very finite controls on the same\ndirectory with a whole bunch of stuff.\n\n543\n00:24:53.070 --> 00:24:55.740\nIt can actually cause unwanted or\nunlook for results.\n\n544\n00:24:55.740 --> 00:24:59.833\nSo you do have to just really think about\nthe logic of how to use this effectively\n\n545\n00:24:59.833 --> 00:25:01.515\nis the very broad brush stroke.\n\n546\n00:25:01.515 --> 00:25:05.551\nWhere we cover a lot of real estate with\njust a general screen that will prevent\n\n547\n00:25:05.551 --> 00:25:08.070\nactivity of cross multiple directories.\n\n548\n00:25:08.070 --> 00:25:12.036\nOr this is a very tightly narrowly\ndefined the targeted tool that you use to\n\n549\n00:25:12.036 --> 00:25:16.515\nprevent CAD videos from being uploaded\nright by one or two individuals.\n\n550\n00:25:16.515 --> 00:25:20.685\nIt really just depends on the thought\nprocess of the storage administrator or\n\n551\n00:25:20.685 --> 00:25:24.615\nthe IT professional who's in charge of\nthis aspect of the infrastructure and\n\n552\n00:25:24.615 --> 00:25:25.385\nsecurity.\n\n553\n00:25:25.385 --> 00:25:26.435\nBut it could go either way.\n\n554\n00:25:26.435 --> 00:25:28.547\nSo it's not that we\nwouldn't wanna do that.\n\n555\n00:25:28.547 --> 00:25:33.876\nBut what I wouldn't wanna see is ten\nrules that address each individual aspect\n\n556\n00:25:33.876 --> 00:25:39.540\nof file management filed up, right,\nwithout any thought can we combine this?\n\n557\n00:25:39.540 --> 00:25:43.530\nCan we make a custom rule that made you\nmultiple things, right, as a template.\n\n558\n00:25:43.530 --> 00:25:46.160\nInstead of ten individual\ntemplates being used,\n\n559\n00:25:46.160 --> 00:25:48.687\ncan I create one big one to\nmaybe does several things.\n\n560\n00:25:48.687 --> 00:25:51.274\n&gt;&gt; Got it.\n&gt;&gt; So just a general best practices and\n\n561\n00:25:51.274 --> 00:25:54.380\nthought processes where things normally\naddress would be good recommendation.\n\n562\n00:25:54.380 --> 00:25:57.552\nAll right, so we'd say we would\ntalk about storage reports as well.\n\n563\n00:25:57.552 --> 00:26:00.210\nKind of previewed them and\nshowed you what the report list is,\n\n564\n00:26:00.210 --> 00:26:01.420\nyou have a sense of them.\n\n565\n00:26:01.420 --> 00:26:03.440\nWhen we come over here at\nthe storage reports management,\n\n566\n00:26:03.440 --> 00:26:07.890\nnotice there is a whole of nothing\ngo on but we could fix that.\n\n567\n00:26:07.890 --> 00:26:10.200\nIf you come over here and\nyou can see generate reports now.\n\n568\n00:26:10.200 --> 00:26:15.300\nWe could add or remove reports for\nsome sort of a solution,\n\n569\n00:26:15.300 --> 00:26:18.760\nand or we can schedule a new report\ntask which will auto-generate.\n\n570\n00:26:18.760 --> 00:26:20.940\nSo we right-click over here.\n\n571\n00:26:20.940 --> 00:26:24.440\nYou'll see that we can go in,\nlet's generate reports now, so\n\n572\n00:26:24.440 --> 00:26:26.810\nlet's just move this\noversee you can see this.\n\n573\n00:26:28.670 --> 00:26:32.110\nWe do have a just a generic\nreport named mega spun up and\n\n574\n00:26:32.110 --> 00:26:34.590\nassociated system defined.\n\n575\n00:26:34.590 --> 00:26:38.080\nI am, then check up date time\nin a times ten time stamp.\n\n576\n00:26:38.080 --> 00:26:40.290\nAll that,\nwhat reports do we wanna generate?\n\n577\n00:26:40.290 --> 00:26:43.050\nSo out of our templates,\nwhich reports do we wanna see?\n\n578\n00:26:43.050 --> 00:26:48.230\nSo I could just go in, specify that report\nthat Cherokee wanted me the default or\n\n579\n00:26:48.230 --> 00:26:49.870\nthe duplicate files, right.\n\n580\n00:26:49.870 --> 00:26:52.440\nFile screening cuz I've done\na little file screening.\n\n581\n00:26:53.520 --> 00:26:57.570\nMaybe files by file group right,\nfiles by owner we talked about that.\n\n582\n00:26:57.570 --> 00:27:00.230\nMaybe large files or least recently or\n\n583\n00:27:00.230 --> 00:27:02.490\nmost recently accessed or\nquota usage, right?\n\n584\n00:27:02.490 --> 00:27:08.440\nSo I may choose to generate one or more of\nthese, and then I can do review selector\n\n585\n00:27:08.440 --> 00:27:12.970\nreports to kind of see the logic of what\nI'm going to get, it's very high level.\n\n586\n00:27:12.970 --> 00:27:18.830\nAnd then report format down here,\nDHTML, HTML, XMLCSV or txt.\n\n587\n00:27:18.830 --> 00:27:20.470\nSo I have some options for output,\n\n588\n00:27:20.470 --> 00:27:23.500\nit's up to me to decide how I\nwant that to render, right?\n\n589\n00:27:23.500 --> 00:27:25.140\nI can do one or more.\n\n590\n00:27:25.140 --> 00:27:27.110\nI could then go to my scope area,\n\n591\n00:27:27.110 --> 00:27:30.460\ninclude all folders that store\nthe following kinds of data.\n\n592\n00:27:30.460 --> 00:27:33.390\nSo we use user files, and we went in and\n\n593\n00:27:33.390 --> 00:27:39.360\nwe have been using the projects file when\nwe did our classification management.\n\n594\n00:27:39.360 --> 00:27:42.630\nWe've used quota test,\nwe did our quarters, right,\n\n595\n00:27:42.630 --> 00:27:48.200\nwe had used the no or the file screen, no\nfile screen when we did the file screen.\n\n596\n00:27:48.200 --> 00:27:53.100\nSo we may go in and add some of these in,\nright, so user files add, and\n\n597\n00:27:53.100 --> 00:27:57.210\nwe would just go in and\ngrab from our C drive the path here.\n\n598\n00:27:57.210 --> 00:28:00.640\nSo we would do file screen,\ngrab that one, right,\n\n599\n00:28:00.640 --> 00:28:02.710\nwe will just stack some of these up.\n\n600\n00:28:02.710 --> 00:28:07.140\nGo in, go to the C drive, and\n\n601\n00:28:07.140 --> 00:28:11.830\nwe would do our no file screen, and\n\n602\n00:28:11.830 --> 00:28:15.430\nwe could also go in and\ndo our quota test, right?\n\n603\n00:28:15.430 --> 00:28:17.660\nThat kind of thing if we\nwere looking to add that,\n\n604\n00:28:17.660 --> 00:28:20.890\nalthough quota test we're\nonly adding in a value here.\n\n605\n00:28:20.890 --> 00:28:23.420\nRight, well,\nwe have that way where project folders,\n\n606\n00:28:23.420 --> 00:28:25.670\nso we can just add these in,\nright, whatever they are, okay?\n\n607\n00:28:25.670 --> 00:28:27.990\nSo then a delivery,\nhow do we want to deliver these?\n\n608\n00:28:27.990 --> 00:28:31.550\nSend reports to the following\nadministrators, and we would specify\n\n609\n00:28:31.550 --> 00:28:35.470\nwhatever will be in terms of an email\nif we have the SMTP server set up.\n\n610\n00:28:35.470 --> 00:28:39.700\nIf not, reports are saved in the C\nstorage reports interactive folder.\n\n611\n00:28:39.700 --> 00:28:43.211\nSo we could just go grab those from\nthere if we choose to, right, so\n\n612\n00:28:43.211 --> 00:28:47.438\nwe could just go in and see, let's just\ngo take a look before we do anything see.\n\n613\n00:28:49.263 --> 00:28:52.702\nAnd we can go into our storage reports,\nright, under schedule,\n\n614\n00:28:52.702 --> 00:28:56.017\nthere's nothing in here we'll\nget an interactive folder that\n\n615\n00:28:56.017 --> 00:28:59.460\nwill be generated and\nwe'll be able to take a look and see that.\n\n616\n00:28:59.460 --> 00:29:03.620\nSo we'll just kind of sit right here and\ntake a look at that after we get done,\n\n617\n00:29:03.620 --> 00:29:04.994\nall right, so click OK.\n\n618\n00:29:04.994 --> 00:29:07.161\nAll right, so do you want to wait for\nthe reports to be generated and\n\n619\n00:29:07.161 --> 00:29:07.910\nhave them displayed.\n\n620\n00:29:07.910 --> 00:29:13.280\nYou saw me do this when we ran\nthe report on the classification rule.\n\n621\n00:29:13.280 --> 00:29:16.480\nOnce we did that, we waited and then we\nhad the little web interface pop up and\n\n622\n00:29:16.480 --> 00:29:17.084\nshow it to us.\n\n623\n00:29:17.084 --> 00:29:19.053\nIf you haven't seen that,\nthat's back in episode one.\n\n624\n00:29:19.053 --> 00:29:22.141\nYou can take a look, or we can just\ngenerate the reports in the background and\n\n625\n00:29:22.141 --> 00:29:23.500\nsee them when we're done.\n\n626\n00:29:23.500 --> 00:29:25.502\nLet's go ahead, let's wait.\n\n627\n00:29:25.502 --> 00:29:27.550\nOkay, so let that run, do its thing.\n\n628\n00:29:28.750 --> 00:29:31.910\nSoon as that finishes,\nusually this doesn't take too long.\n\n629\n00:29:31.910 --> 00:29:35.080\nWe did generate or\ndid request generation of several reports.\n\n630\n00:29:35.080 --> 00:29:37.760\nYou could see now we do have\nan interactive folder created and\n\n631\n00:29:37.760 --> 00:29:39.460\nlook at all the information that's there.\n\n632\n00:29:39.460 --> 00:29:41.950\nIt's quite a lot of stuff\nthat gets generated, right.\n\n633\n00:29:41.950 --> 00:29:44.850\nSo we could see,\nthen we can now go in and spawn one or\n\n634\n00:29:44.850 --> 00:29:48.930\nmore of these if we choose to,\nmaybe quote a usage, right.\n\n635\n00:29:48.930 --> 00:29:54.350\nSo we can go in, pull one of those up,\nand we can see a quota usage report or\n\n636\n00:29:54.350 --> 00:29:57.480\nany of the reports here,\nthey are formatted fairly straightforward.\n\n637\n00:29:57.480 --> 00:30:01.560\nAnd we can go in and see as we scroll\ndown here that the quota usage, indeed,\n\n638\n00:30:01.560 --> 00:30:04.640\nthere was one quota that was used,\nit was on the quota test folder.\n\n639\n00:30:04.640 --> 00:30:08.840\nAnd you can see it was spawned by the\nowner, which is the administrative group,\n\n640\n00:30:08.840 --> 00:30:10.950\nthe administrator,\nthe person I'm logged in as.\n\n641\n00:30:10.950 --> 00:30:13.260\nAnd so we can get some general\ninformation about this and\n\n642\n00:30:13.260 --> 00:30:17.575\nsee these reports being generated and\nthen being archived and used over time.\n\n643\n00:30:17.575 --> 00:30:21.035\nSo storage reports can be\nmanaged through this console and\n\n644\n00:30:21.035 --> 00:30:22.375\nobviously generated this way.\n\n645\n00:30:22.375 --> 00:30:24.335\nWe could generate them from\nPowerShell as well, remember,\n\n646\n00:30:24.335 --> 00:30:27.965\nwhere we can use the FSRM\ncommands from within the module.\n\n647\n00:30:27.965 --> 00:30:29.505\nAnd we can actually\ngenerate these reports and\n\n648\n00:30:29.505 --> 00:30:32.412\nlook at them through Power Shell\nas well for Tuesday.\n\n649\n00:30:32.412 --> 00:30:35.752\n&gt;&gt; Yeah, kind of a nice way to be\nable to determine any kind of like\n\n650\n00:30:35.752 --> 00:30:40.012\nwe said earlier, storage hogs or\nto see if there is a real-\n\n651\n00:30:40.012 --> 00:30:40.952\n&gt;&gt; Did they have videos for\n\n652\n00:30:40.952 --> 00:30:41.482\nstorage report?\n\n653\n00:30:41.482 --> 00:30:43.146\nSound like the cats.\n\n654\n00:30:43.146 --> 00:30:43.946\n&gt;&gt; Storage hog.\n\n655\n00:30:43.946 --> 00:30:45.677\nYeah, is that even a thing?\n&gt;&gt; Storage cat, storage hog.\n\n656\n00:30:45.677 --> 00:30:46.716\nNo?\n\n657\n00:30:46.716 --> 00:30:49.266\n&gt;&gt; But yeah,\nit could legitimately be a need for\n\n658\n00:30:49.266 --> 00:30:52.546\nif it's more than just one particular\nuser exceeding this quota.\n\n659\n00:30:52.546 --> 00:30:57.307\nThen hey, we might need to revisit and\norder, create additional storage space,\n\n660\n00:30:57.307 --> 00:30:59.308\nmake it available to those users.\n\n661\n00:30:59.308 --> 00:31:02.730\n&gt;&gt; Yeah, I mean [INAUDIBLE] zero in\non that and have a sense of that.\n\n662\n00:31:02.730 --> 00:31:05.280\nSo hopefully the reports\nprove to be valuable for you.\n\n663\n00:31:05.280 --> 00:31:07.990\nI was thinking then send them\nto somebody or have them.\n\n664\n00:31:07.990 --> 00:31:10.640\nYou could take these and\nput them up in the SharePoint library,\n\n665\n00:31:10.640 --> 00:31:13.752\nuse them in SharePoint from a document\nlibrary to create a dashboard.\n\n666\n00:31:13.752 --> 00:31:16.020\nThere's always other things\nyou can do with these stuff.\n\n667\n00:31:16.020 --> 00:31:18.010\nIt's just a matter of how\nyou choose to consume it,\n\n668\n00:31:18.010 --> 00:31:20.290\nbut this is FSR can start to finish and\n\n669\n00:31:20.290 --> 00:31:24.920\nthis little three episodes package, we\nrun all the key functionality in details.\n\n670\n00:31:24.920 --> 00:31:27.682\nSo hopefully that helps to\ngive a better sense of that.\n\n671\n00:31:27.682 --> 00:31:30.860\nBut we're not done cuz we do have\nsome other stuffs to talk about.\n\n672\n00:31:30.860 --> 00:31:36.590\n&gt;&gt; Yeah, it's all right, and I gonna go\nto my storage hogs biker show real quick.\n\n673\n00:31:36.590 --> 00:31:37.341\nWe'll be back though.\n\n674\n00:31:37.341 --> 00:31:38.137\n&gt;&gt; Wow.\n\n675\n00:31:38.137 --> 00:31:41.921\n&gt;&gt; I know [LAUGH], all right.\n\n676\n00:31:41.921 --> 00:31:44.640\n&gt;&gt; You know what, that was so\nembarrassing I'm gonna\n\n677\n00:31:44.640 --> 00:31:46.057\n&gt;&gt; I'll sign up on by myself then.\n\n678\n00:31:46.057 --> 00:31:47.430\n&gt;&gt; Maybe I could do this,\nhold on one second.\n\n679\n00:31:47.430 --> 00:31:50.723\nMaybe I could be here but I just hide my\nface so nobody knows that I was here.\n\n680\n00:31:50.723 --> 00:31:53.046\n&gt;&gt; So embarrassing,\nme [CROSSTALK] [LAUGH].\n\n681\n00:31:53.046 --> 00:31:57.968\n&gt;&gt; Wow, storage hogs, that is,\nwell don't adlib jokes anymore.\n\n682\n00:31:57.968 --> 00:31:59.220\n&gt;&gt; [LAUGH]\n&gt;&gt; [INAUDIBLE] Script.\n\n683\n00:31:59.220 --> 00:32:00.740\nAll right, so\ndoes that mean were done for now?\n\n684\n00:32:00.740 --> 00:32:01.633\n&gt;&gt; We don't even have a script.\n\n685\n00:32:01.633 --> 00:32:02.181\n&gt;&gt; We don't.\n\n686\n00:32:02.181 --> 00:32:04.670\n&gt;&gt; What do I got, okay, so\nwe're gonna sign out for this episode.\n\n687\n00:32:04.670 --> 00:32:05.920\n&gt;&gt; Yes, we are.\n\n688\n00:32:05.920 --> 00:32:07.795\n&gt;&gt; I've been your host, Cherokee Booze.\n\n689\n00:32:07.795 --> 00:32:10.719\n&gt;&gt; [LAUGH] I am Adam Gordon.\n\n690\n00:32:10.719 --> 00:32:12.273\n&gt;&gt; See you next time here at ITProTV.\n\n691\n00:32:12.273 --> 00:32:12.890\n&gt;&gt; Take care.\n\n692\n00:32:12.890 --> 00:32:14.085\n&gt;&gt; Bye.\n\n693\n00:32:14.085 --> 00:32:20.712\n[MUSIC]\n\n694\n00:32:20.712 --> 00:32:22.560\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "234905016"
        },
        {
          "description": "In this episode, Adam and Cherokee shift gears and begin looking at Dynamic Access Control (DAC). Adam provides an overview and explains DAC as a way to provide access-control for file-system resources. Definitions and important fundamentals are also introduced.",
          "length": "1174",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-4-implement_fsrm_and_dac_pt4-092017-PGM.00_02_33_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-4-implement_fsrm_and_dac_pt4-092017-PGM.00_02_33_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-4-implement_fsrm_and_dac_pt4-092017-PGM.00_02_33_13.Still001-sm.jpg",
          "title": "Implement FSRM and DAC Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:06.418\nWelcome to ITPRO.TV I'm your host-\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:06.418 --> 00:00:08.241\n[MUSIC]\n\n3\n00:00:08.241 --> 00:00:11.850\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:11.850 --> 00:00:16.136\n&gt;&gt; Welcome to your securing Windows\nserver 2016 series, I'm your show host,\n\n5\n00:00:16.136 --> 00:00:17.680\nCherokee Boose.\n\n6\n00:00:17.680 --> 00:00:21.310\nIn this episode we'll take a look at\nwhat we've been discussing, FSRM, for\n\n7\n00:00:21.310 --> 00:00:22.780\nthe past three episode.\n\n8\n00:00:22.780 --> 00:00:25.250\nBut we're gonna kind of shift\ngears in this particular show and\n\n9\n00:00:25.250 --> 00:00:28.300\ntake a look at DAC,\nDynamic Access Control.\n\n10\n00:00:28.300 --> 00:00:31.287\nAnd in studios today we have\nMicrosoft expert, Mr. Adam Gordon.\n\n11\n00:00:31.287 --> 00:00:32.980\nThank you for joining us today, Adam.\n\n12\n00:00:32.980 --> 00:00:35.850\n&gt;&gt; Thank you, always a pleasure to be\nhere spending time with you, Cherokee,\n\n13\n00:00:35.850 --> 00:00:36.540\nalways with you.\n\n14\n00:00:36.540 --> 00:00:38.530\nAnd of course with everybody\nwho is interested about DAC,\n\n15\n00:00:38.530 --> 00:00:40.569\nand hopefully that means anybody\nwho is watching this sub.\n\n16\n00:00:40.569 --> 00:00:43.221\nSo if not, well [SOUND] you\nshowed up in the wrong place and\n\n17\n00:00:43.221 --> 00:00:45.541\nyou are not gonna be all\nthat excited about this.\n\n18\n00:00:45.541 --> 00:00:48.790\nBut I promise you by the time we're done\nyou're actually gonna be a raving fan.\n\n19\n00:00:48.790 --> 00:00:50.138\nThat's because DAC is so cool.\n\n20\n00:00:50.138 --> 00:00:53.978\nAnd what DAC allows us to do, and\nwe've talked about this a little bit,\n\n21\n00:00:53.978 --> 00:00:56.990\nwe hinted at it when we talked about\nin the prior episode with FSRM.\n\n22\n00:00:56.990 --> 00:01:00.240\nWhat FSRM does, right,\nFile Server Resource Manager.\n\n23\n00:01:00.240 --> 00:01:03.941\nReally part one of this thought process\ncuz we need FSRM as a requirement,\n\n24\n00:01:03.941 --> 00:01:05.564\na pre-req, to implement DAC.\n\n25\n00:01:05.564 --> 00:01:08.560\nAnd I mentioned that at least in one or\ntwo of the other episodes.\n\n26\n00:01:08.560 --> 00:01:10.290\nNow we're going to see\nthe outcome of that.\n\n27\n00:01:10.290 --> 00:01:15.350\nBut what FMRS does, gives us a suite of\ntools and capabilities, quota management,\n\n28\n00:01:15.350 --> 00:01:19.800\nfile screening, the ability to be able\nto configure our thought process,\n\n29\n00:01:19.800 --> 00:01:21.667\nand automate things with scheduled tasks.\n\n30\n00:01:21.667 --> 00:01:24.980\nAnd also do classification of\ndata with rules and properties.\n\n31\n00:01:24.980 --> 00:01:29.615\nGives us all the tools and the levers that\na central administrative thought process\n\n32\n00:01:29.615 --> 00:01:33.650\naround server management and\nspecifically file server capabilities and\n\n33\n00:01:33.650 --> 00:01:34.690\nresources requires.\n\n34\n00:01:34.690 --> 00:01:36.290\nSo we've been through that in depth,\n\n35\n00:01:36.290 --> 00:01:38.606\nencourage you to take\na look at those episodes.\n\n36\n00:01:38.606 --> 00:01:42.640\nReally need that background to understand\nwhat we're doing here about DAC.\n\n37\n00:01:42.640 --> 00:01:47.270\nDynamic Access Control builds\non FSRM leveraging that thought\n\n38\n00:01:47.270 --> 00:01:52.200\nprocess of how we install and\nthen use FSRM to classify\n\n39\n00:01:52.200 --> 00:01:56.725\nmeticuliar with our classification rules\nand our classification properties.\n\n40\n00:01:56.725 --> 00:02:01.170\nClassify data and then based on\nthose properties leverage DAC,\n\n41\n00:02:01.170 --> 00:02:05.830\nleverage Dynamic Access Control, to be\nable to apply a set of rules through ADAC.\n\n42\n00:02:05.830 --> 00:02:08.904\nA lot of acronyms flying around\nhere with all these ACs, right.\n\n43\n00:02:08.904 --> 00:02:10.035\nWe could throw in the three way handshake,\n\n44\n00:02:10.035 --> 00:02:11.360\nthat you speak through a handshake for\na SYNAC.\n\n45\n00:02:11.360 --> 00:02:12.820\n&gt;&gt; Just for an extra AC?\n\n46\n00:02:12.820 --> 00:02:14.745\n&gt;&gt; Yeah, just for\nan extra SYNAC or an AC, right.\n\n47\n00:02:14.745 --> 00:02:16.211\nWe're not going to talk about that.\n\n48\n00:02:16.211 --> 00:02:18.753\nBut if you need that-\n&gt;&gt; I'm sure we have the DO's, yeah?\n\n49\n00:02:18.753 --> 00:02:21.700\n&gt;&gt; We do have network plus,\nsomething, sure Cisco anything.\n\n50\n00:02:21.700 --> 00:02:23.290\nWe'll talk about that at some point.\n\n51\n00:02:23.290 --> 00:02:24.700\nBut we do have all sorts of stuff.\n\n52\n00:02:24.700 --> 00:02:28.090\nWe're gonna focus on ADAC, the Active\nDirectory Administrative Center,\n\n53\n00:02:28.090 --> 00:02:32.335\nwhich is where we implement, I'm about to\nsay it now, discretionary access control.\n\n54\n00:02:32.335 --> 00:02:34.950\n&gt;&gt; [LAUGH]\n&gt;&gt; Dynamic access control through DAC.\n\n55\n00:02:34.950 --> 00:02:37.780\nSo we're gonna walk through and take\na look at how to start setting this up.\n\n56\n00:02:37.780 --> 00:02:40.460\nThere's a lot of little\nareas we have to focus on,\n\n57\n00:02:40.460 --> 00:02:45.230\nlot of specific kind of methodical step by\nstep information we need to go through.\n\n58\n00:02:45.230 --> 00:02:48.190\nBut I thought we would start\nat a high level with of course\n\n59\n00:02:48.190 --> 00:02:49.270\nwhat better than an overview.\n\n60\n00:02:49.270 --> 00:02:51.890\nAnd if you join me right\nover there you will see\n\n61\n00:02:51.890 --> 00:02:56.100\nright from the horse's mouth proverbially\nas they say, out of our tech net\n\n62\n00:02:56.100 --> 00:02:59.965\ndocument center where we often go to see\nsome overview information reference.\n\n63\n00:02:59.965 --> 00:03:02.630\nThe most recent information on technology\n\n64\n00:03:02.630 --> 00:03:05.190\nfrom the vendor directly from Microsoft,\nright.\n\n65\n00:03:05.190 --> 00:03:09.270\nSo a nice little overview website page,\nwhich we have access to here.\n\n66\n00:03:09.270 --> 00:03:11.959\nIt does allow us to see\nthe general thought process,\n\n67\n00:03:11.959 --> 00:03:15.508\napplying access control permissions and\nrestrictions, as I said,\n\n68\n00:03:15.508 --> 00:03:19.668\nbased on either well defined rules that\nwill use things like some sort of a claim,\n\n69\n00:03:19.668 --> 00:03:22.446\nright, or\nsome sort of a role that we've specified.\n\n70\n00:03:22.446 --> 00:03:26.095\nYou're in this group, you're this user,\nyou have this claim associated with you,\n\n71\n00:03:26.095 --> 00:03:28.124\nthis property defined\nwith your user account,\n\n72\n00:03:28.124 --> 00:03:29.810\nor this group that you're a member of.\n\n73\n00:03:29.810 --> 00:03:32.660\nOr if your device or a resource,\nyou have these claims.\n\n74\n00:03:32.660 --> 00:03:36.070\nAnd then we can constrain or\nallow or deny access based on that.\n\n75\n00:03:36.070 --> 00:03:40.970\nSo Dynamic Access Control works on the\nidea of blending the thought process of\n\n76\n00:03:40.970 --> 00:03:43.160\nleveraging claims and\nclaim based authentication,\n\n77\n00:03:43.160 --> 00:03:45.440\nwhich we've talked about in other areas.\n\n78\n00:03:45.440 --> 00:03:48.980\nActive Directory Federation Services for\ninstance, we talked about claims and\n\n79\n00:03:48.980 --> 00:03:50.030\nhow we can use them.\n\n80\n00:03:50.030 --> 00:03:52.820\nActive Directory Rights Management,\nwe talked about claims and\n\n81\n00:03:52.820 --> 00:03:53.950\nhow we can use them.\n\n82\n00:03:53.950 --> 00:03:56.060\nWe maybe able to do this\nform within our own domain.\n\n83\n00:03:56.060 --> 00:04:00.205\nMay have crossed forest trust and\nallows to let claims from other areas.\n\n84\n00:04:00.205 --> 00:04:02.798\nThere's some complexity\nthat we can build on here.\n\n85\n00:04:02.798 --> 00:04:06.777\nBut essentially we're able to keep up\nwith changes in the user permissions\n\n86\n00:04:06.777 --> 00:04:10.694\ndynamically without having to have\nadditional intervention on behalf of\n\n87\n00:04:10.694 --> 00:04:15.115\nthe administrator by using and leveraging\nthe back bone of the directory service,\n\n88\n00:04:15.115 --> 00:04:15.642\nADDS2.\n\n89\n00:04:15.642 --> 00:04:18.199\nBase our authentication requirements and\n\n90\n00:04:18.199 --> 00:04:22.850\ntherefore our assignment of permissions\nand access control as a result of.\n\n91\n00:04:22.850 --> 00:04:25.650\nSo it's a nice little way to\nblend a lot of this stuff.\n\n92\n00:04:25.650 --> 00:04:28.982\nWe do need to know that prior\nto Server 12 and Windows 8,\n\n93\n00:04:28.982 --> 00:04:32.600\nwe do not support DAC, so\nthis has been around for a little bit.\n\n94\n00:04:32.600 --> 00:04:35.186\nBut just important to know that\nif we're using older technology,\n\n95\n00:04:35.186 --> 00:04:36.810\nwe're not gonna see the benefit of this.\n\n96\n00:04:36.810 --> 00:04:40.830\nSo minimum of 12,\nminimum of Windows 8 on the desktop side,\n\n97\n00:04:40.830 --> 00:04:44.420\n881101212R2 Server 16 on the server side.\n\n98\n00:04:44.420 --> 00:04:45.905\nSo just be aware of that.\n\n99\n00:04:45.905 --> 00:04:48.775\nOnly supported versions of\nWindows implement this changes,\n\n100\n00:04:48.775 --> 00:04:51.435\nnon supported versions\nessentially ignore them.\n\n101\n00:04:51.435 --> 00:04:55.195\nSo we can run this in mixed environments,\nbut we do need to know that Windows 7,\n\n102\n00:04:55.195 --> 00:04:58.775\nlet's say, or something along those lines,\nmaybe a Server 2008 server.\n\n103\n00:04:58.775 --> 00:05:01.743\nWe're not gonna see\nthe application of these changes,\n\n104\n00:05:01.743 --> 00:05:03.645\nwon't be able to get to the end result.\n\n105\n00:05:03.645 --> 00:05:07.651\nNow in terms the end result, let me jump\nahead and kinda preview something for you\n\n106\n00:05:07.651 --> 00:05:11.865\nand then we'll come back and we will take\na look at how this ultimately takes place.\n\n107\n00:05:11.865 --> 00:05:17.320\nSo I'm on the PLABDM01 machine,\njust wanna show you something here.\n\n108\n00:05:17.320 --> 00:05:19.667\nIt's gonna go into one of\nthe directories that I have,\n\n109\n00:05:19.667 --> 00:05:21.156\nit really doesn't matter where.\n\n110\n00:05:21.156 --> 00:05:24.179\nThis is one from some of\nmy prior demonstrations and\n\n111\n00:05:24.179 --> 00:05:26.300\nprior episodes, the file screen.\n\n112\n00:05:26.300 --> 00:05:29.370\nAnd I'm just gonna right-click,\ngo to the Properties of this folder.\n\n113\n00:05:29.370 --> 00:05:32.664\nAnd when I do that,\njust bring this over here,\n\n114\n00:05:32.664 --> 00:05:35.540\nI can see I have my Classifications tab.\n\n115\n00:05:35.540 --> 00:05:37.860\nWe've been through this already and\ntalked about this in prior episodes.\n\n116\n00:05:37.860 --> 00:05:39.055\nI'm not really here to show you that.\n\n117\n00:05:39.055 --> 00:05:42.670\nI'm gonna go to Security, and\non the Security tab, again nothing new,\n\n118\n00:05:42.670 --> 00:05:45.950\nno startling revelations here, right,\nwe have an access control list,\n\n119\n00:05:45.950 --> 00:05:46.930\nan access control entry.\n\n120\n00:05:46.930 --> 00:05:50.870\nSo this is standard, you would see this\nin any system regardless of OS going all\n\n121\n00:05:50.870 --> 00:05:52.170\nthe way back to Windows 95.\n\n122\n00:05:52.170 --> 00:05:54.370\nGo even further back,\nthis is pretty standard.\n\n123\n00:05:54.370 --> 00:05:57.010\nBut what I'm about to show\nyou is something that's new.\n\n124\n00:05:57.010 --> 00:06:00.980\nGo to Advanced, and under Advanced right\nhere, let's just move this over so\n\n125\n00:06:00.980 --> 00:06:02.430\nyou can see this.\n\n126\n00:06:02.430 --> 00:06:06.060\nUnder advanced right here, while we're\nused to seeing permissions, auditing, and\n\n127\n00:06:06.060 --> 00:06:09.510\nmost likely effective access depending\non the version of the OS you're running,\n\n128\n00:06:09.510 --> 00:06:13.870\ncertainly with 12, 12R2 and 16, those\nthree tabs would be there with no trouble.\n\n129\n00:06:13.870 --> 00:06:17.780\nWhat's not there normally is Centropolis,\nand that's not something you would see.\n\n130\n00:06:17.780 --> 00:06:21.680\nThis is an output of the DAC process and\nthis is what we're gonna drive towards\n\n131\n00:06:21.680 --> 00:06:24.000\ndiscussing, overviewing,\nand demonstrating for\n\n132\n00:06:24.000 --> 00:06:26.955\nyou in the next couple of episodes\nas we go through the logic here.\n\n133\n00:06:26.955 --> 00:06:29.435\nBut this is essentially\nwhat DAC represents,\n\n134\n00:06:29.435 --> 00:06:32.055\na Central Policy tab that\nis available to us here.\n\n135\n00:06:32.055 --> 00:06:34.435\nYou can see the Central Policy,\nalthough it's grayed out,\n\n136\n00:06:34.435 --> 00:06:36.155\nit's kinda hard to see cuz it's light.\n\n137\n00:06:36.155 --> 00:06:39.495\nBut I clicked Change, there's no policy\napplied, I went in and just applied it.\n\n138\n00:06:39.495 --> 00:06:43.115\nBut it says IT Pro CAP one for\nCentral Access Policy.\n\n139\n00:06:43.115 --> 00:06:46.185\nAnd that applies to any folders and\nsub folders, and\n\n140\n00:06:46.185 --> 00:06:47.665\nthe policy includes the following rules.\n\n141\n00:06:47.665 --> 00:06:51.240\nIT Pro car, which is central access rule,\n\n142\n00:06:51.240 --> 00:06:54.025\none just the acronym I just\nused to name everything.\n\n143\n00:06:54.025 --> 00:06:57.400\nAnd kinda open this up and down below\n\n144\n00:06:57.400 --> 00:07:01.160\nwe could see an access control list\nthat tells us how this is being applied.\n\n145\n00:07:01.160 --> 00:07:04.480\nAnd I've gone in and\nI've added authenticated users, given\n\n146\n00:07:04.480 --> 00:07:08.556\nthe authenticated users read and execute,\nand the condition the user must equal or\n\n147\n00:07:08.556 --> 00:07:13.520\nthe company designation for the user must\nequal ProTV in order for this to apply.\n\n148\n00:07:13.520 --> 00:07:17.310\nMeaning a user that goes in to\nthis folder, that is gonna have\n\n149\n00:07:17.310 --> 00:07:20.940\na company designation as an attribute\nthat they make a claim against.\n\n150\n00:07:20.940 --> 00:07:24.810\nAnd that company designation says\nITPro.TV will be granted read and\n\n151\n00:07:24.810 --> 00:07:27.515\nexecute permissions as\nan authenticated user.\n\n152\n00:07:27.515 --> 00:07:32.570\nBut you could see that other authenticated\nusers that don't have that specific claim\n\n153\n00:07:32.570 --> 00:07:35.670\nare not gonna be given rights as part\nof the authenticated users group.\n\n154\n00:07:35.670 --> 00:07:38.320\nSo what dynamic access\ncontrol allows me to do is to\n\n155\n00:07:38.320 --> 00:07:41.890\nspecify that there's a set\nof prefab conditions.\n\n156\n00:07:41.890 --> 00:07:46.360\nWe call those prefab conditions claims\nthat we then are gonna leverage to be able\n\n157\n00:07:46.360 --> 00:07:51.220\nto authenticate and decide on a grant\nof permission or a denial of permission\n\n158\n00:07:51.220 --> 00:07:55.425\nbased on the existence or the lack of\nthat particular claim or set of claims.\n\n159\n00:07:55.425 --> 00:07:58.760\nAnd I can set these conditions up and\nstack them up, I only created one.\n\n160\n00:07:58.760 --> 00:08:01.791\nAnd we're gonna walk through\nthis whole process with you, but\n\n161\n00:08:01.791 --> 00:08:04.876\nwhat we could go in and take a look for\ninstance, right, in the,\n\n162\n00:08:04.876 --> 00:08:08.305\nlet me just start clean this up real\nquick just before we get out of here so\n\n163\n00:08:08.305 --> 00:08:10.685\nI don't leave a bunch of\nproperty windows open.\n\n164\n00:08:10.685 --> 00:08:14.608\nBut if I go in here to my domain\ncontroller and we'll get in to ADAC in\n\n165\n00:08:14.608 --> 00:08:18.055\njust a moment, we'll take a look\nat how to set all this up.\n\n166\n00:08:18.055 --> 00:08:22.760\nBut if I go over here to my Active\nDirectory users and computers area for\n\n167\n00:08:22.760 --> 00:08:26.104\ninstance, and I go to my APAC OU,\nmy sub OU IT, and\n\n168\n00:08:26.104 --> 00:08:30.285\nI go to our friend Lisa who we\nare very happy to be demoing with.\n\n169\n00:08:30.285 --> 00:08:34.395\nAnd I right-click and\nI go to Properties, I can go to\n\n170\n00:08:34.395 --> 00:08:39.175\nOrganization which is where we see\nthe company attribute available, right.\n\n171\n00:08:39.175 --> 00:08:40.815\nAnd we can see here that for\n\n172\n00:08:40.815 --> 00:08:44.873\ncompany I have put in ITPro.TV\nas the value, right, for that.\n\n173\n00:08:44.873 --> 00:08:49.775\nAnd we can see as the result that in\ntheory Lisa would be granted read and\n\n174\n00:08:49.775 --> 00:08:52.725\nexecute access to that particular folder,\nright.\n\n175\n00:08:52.725 --> 00:08:58.458\nWhere as if we take a look at another\nuser, let's going go into help desk and\n\n176\n00:08:58.458 --> 00:09:01.825\nlet's go to Emily, right, just as a user.\n\n177\n00:09:01.825 --> 00:09:04.740\nAnd we right-click and\nwe go to Properties,\n\n178\n00:09:04.740 --> 00:09:08.360\ncuz by default the company\nattribute is not filled out.\n\n179\n00:09:08.360 --> 00:09:10.285\nThere's no value, by default it was blank.\n\n180\n00:09:10.285 --> 00:09:14.850\nA user like Emily would not\nbe given rights under DAC\n\n181\n00:09:14.850 --> 00:09:17.180\nwith this specific set of\nrules that we've applied.\n\n182\n00:09:17.180 --> 00:09:19.913\nSo the thought process is how\ndo we create the conditions and\n\n183\n00:09:19.913 --> 00:09:23.573\nset up all the architecture behind the\nscenes to enable this to happen, right,\n\n184\n00:09:23.573 --> 00:09:25.060\nand that's what we're doing.\n\n185\n00:09:25.060 --> 00:09:27.110\nNow are there other ways to get this done?\n\n186\n00:09:27.110 --> 00:09:31.240\nCould we just as easily perhaps less\nwith less administrative overhead,\n\n187\n00:09:31.240 --> 00:09:34.000\nless work cuz you haven't seen\nhow much work goes into this yet.\n\n188\n00:09:34.000 --> 00:09:35.800\nYou'll be the judge by\nthe time we're done.\n\n189\n00:09:35.800 --> 00:09:39.064\nBut anything that's a two parter in terms\nof episode probably requires a little\n\n190\n00:09:39.064 --> 00:09:39.780\nbit of work.\n\n191\n00:09:39.780 --> 00:09:41.742\nIt's given the amount of time\nit takes got through things.\n\n192\n00:09:41.742 --> 00:09:43.690\nBut if we have to go though\nthis amount of work,\n\n193\n00:09:43.690 --> 00:09:45.380\nright, is there a better way to do this?\n\n194\n00:09:45.380 --> 00:09:46.580\nIs there an easy way to do this?\n\n195\n00:09:46.580 --> 00:09:50.440\nWe need at least one prerequisite I've\nmentioned, which is the existence of FSRM,\n\n196\n00:09:50.440 --> 00:09:51.510\nto be able to do this, and\n\n197\n00:09:51.510 --> 00:09:55.160\nthen obviously there's gonna be a whole\nhost of things we have to build on.\n\n198\n00:09:55.160 --> 00:09:57.540\nThere definitely could be other\nways to get the job done.\n\n199\n00:09:57.540 --> 00:10:01.480\nBut we're here specifically to show you,\nand to talk about the benefits of DAC.\n\n200\n00:10:01.480 --> 00:10:04.810\nSo we're gonna focus on that, and\nwalk you through the logic of it.\n\n201\n00:10:04.810 --> 00:10:07.170\nBut there's more than one way to get\nto the solution here, right, and\n\n202\n00:10:07.170 --> 00:10:10.700\nthere could be other approaches\nthat may be equally applicable.\n\n203\n00:10:10.700 --> 00:10:14.150\n&gt;&gt; And really I guess in your environment\nit wouldn't matter which of approach\n\n204\n00:10:14.150 --> 00:10:18.940\nyou took as long as sometimes you might be\ntasked with actually implementing this for\n\n205\n00:10:18.940 --> 00:10:21.230\ncompliance reasons or regulatory reasons.\n\n206\n00:10:21.230 --> 00:10:23.900\nSo this is one way were you could\nreally control what's happening and\n\n207\n00:10:23.900 --> 00:10:24.880\nwho has access here.\n\n208\n00:10:24.880 --> 00:10:25.450\nSo you might have to.\n\n209\n00:10:25.450 --> 00:10:27.180\n&gt;&gt; It would give a very good audit trail.\n\n210\n00:10:27.180 --> 00:10:28.820\n&gt;&gt; Audit trails, yep.\n&gt;&gt; It would have the capability to\n\n211\n00:10:28.820 --> 00:10:29.550\nhave visibility.\n\n212\n00:10:29.550 --> 00:10:32.350\nSo it certainly could be\na very valuable method, right,\n\n213\n00:10:32.350 --> 00:10:36.250\nif we have a regulatory statutory concern\nwe have to apply this process to.\n\n214\n00:10:36.250 --> 00:10:37.268\nNo doubt about it.\n\n215\n00:10:37.268 --> 00:10:39.650\nSo just thought we'd start out by\njust agreeing on some definitions,\n\n216\n00:10:39.650 --> 00:10:41.820\nthe working vocabulary\nhere very important.\n\n217\n00:10:41.820 --> 00:10:45.792\nYou've seen the centrally demo and or\ndiscuss and show you these moving parts\n\n218\n00:10:45.792 --> 00:10:49.290\nalready, but we just go quickly back and\nsee central access rules.\n\n219\n00:10:49.290 --> 00:10:53.210\nWhat I call the IT Pro TV CAR\none central access rule.\n\n220\n00:10:53.210 --> 00:10:57.200\nCentral access policies, IT Pro CAP one,\ncentral access policy one.\n\n221\n00:10:57.200 --> 00:11:01.040\nJust naming them so you would see them and\nidentify them as we talked about them.\n\n222\n00:11:01.040 --> 00:11:02.630\nTalked about claims, right.\n\n223\n00:11:02.630 --> 00:11:05.990\nThe company name was a claim\nthat we created from\n\n224\n00:11:05.990 --> 00:11:08.360\none of the attributes in Active Directory.\n\n225\n00:11:08.360 --> 00:11:10.340\nSo we've gone through\nthe proposed permissions, or\n\n226\n00:11:10.340 --> 00:11:13.617\nthe permissions I assigned,\nthe authenticated users read and execute.\n\n227\n00:11:13.617 --> 00:11:14.900\nSo you have those, right.\n\n228\n00:11:14.900 --> 00:11:15.800\nSo we have everything here.\n\n229\n00:11:15.800 --> 00:11:18.860\nSo you could see definitions\nof all these concepts.\n\n230\n00:11:18.860 --> 00:11:22.956\nCentralized access rules, this is\nan expression of the authorization rule.\n\n231\n00:11:22.956 --> 00:11:26.899\nIncludes one or more of the conditions\ninvolving user groups, users groups,\n\n232\n00:11:26.899 --> 00:11:31.142\nuser claims, device claims, resource\nproperties, and multiple access rules for\n\n233\n00:11:31.142 --> 00:11:31.752\nmultiple.\n\n234\n00:11:31.752 --> 00:11:35.950\nCentral access rules can be combined into\na central access policy, one or more.\n\n235\n00:11:35.950 --> 00:11:38.400\nCherokee always loves to talk about,\nhey, can we stack those?\n\n236\n00:11:38.400 --> 00:11:39.350\nWhat do we do?\n\n237\n00:11:39.350 --> 00:11:40.570\nCan we get it to economy scale there?\n\n238\n00:11:40.570 --> 00:11:41.910\nSo, we definitely can see that.\n\n239\n00:11:41.910 --> 00:11:45.032\nWe'll roll one or more of those\ninto a central access policy.\n\n240\n00:11:45.032 --> 00:11:48.680\nA central access policy is\nthe authorization policy including\n\n241\n00:11:48.680 --> 00:11:50.280\nconditional expressions.\n\n242\n00:11:50.280 --> 00:11:53.970\nThings like making sure you have some sort\nof business requirements, restrict access,\n\n243\n00:11:53.970 --> 00:11:55.130\nor to do something.\n\n244\n00:11:55.130 --> 00:11:57.690\nCherokee was suggesting this may\nbe one of the drivers for this.\n\n245\n00:11:57.690 --> 00:12:00.730\nAnd so we would roll one or\nmore of the rules up into a policy and\n\n246\n00:12:00.730 --> 00:12:02.070\napply the policy.\n\n247\n00:12:02.070 --> 00:12:04.770\nSo we could identify and\nmark files that contain\n\n248\n00:12:04.770 --> 00:12:07.280\nwhatever personally identifiable\ninformation is there.\n\n249\n00:12:07.280 --> 00:12:11.733\nI chose just to say, hey, let me\ncreate a rule that says You'll have to\n\n250\n00:12:11.733 --> 00:12:14.997\nhave a user that's got\nthis company association.\n\n251\n00:12:14.997 --> 00:12:18.761\nThen roll that rule into a policy and\nthen apply the policy, right, and\n\n252\n00:12:18.761 --> 00:12:22.700\nthe claim was that the company attribute\nwill be specified as ITPro.TV.\n\n253\n00:12:22.700 --> 00:12:26.600\nSo I went ahead and just did a very\nsimple for demonstration purposes, but we\n\n254\n00:12:26.600 --> 00:12:30.780\nobviously could go ahead and create more\ncomplex thought processes if we choose to.\n\n255\n00:12:30.780 --> 00:12:32.280\nSo we could roll all this together.\n\n256\n00:12:32.280 --> 00:12:34.140\nWe have our claims that\nare either user based,\n\n257\n00:12:34.140 --> 00:12:36.810\nAD attributes associated with users.\n\n258\n00:12:36.810 --> 00:12:39.640\nI chose the company attributed,\npopulated that.\n\n259\n00:12:39.640 --> 00:12:42.410\nDevice claims associated with\nspecific computer object,\n\n260\n00:12:42.410 --> 00:12:45.830\ncould have been an operating system\nversion, could've been a whole host of\n\n261\n00:12:45.830 --> 00:12:50.190\ndifferent things associated with a device\ncuz we have that kind of information.\n\n262\n00:12:50.190 --> 00:12:53.369\nOr a resource attribute,\nglobal resource propertiesmarked for\n\n263\n00:12:53.369 --> 00:12:56.210\nuse in authorization decisions\nthat are published in AD.\n\n264\n00:12:56.210 --> 00:12:59.790\nSo we can go either the user route,\nthe advice route, or\n\n265\n00:12:59.790 --> 00:13:01.450\nthe resource route in terms of attributes.\n\n266\n00:13:01.450 --> 00:13:03.150\nSo a lot of flexibility here, right.\n\n267\n00:13:03.150 --> 00:13:06.820\nAnd then claims make it possible for\nus to be very precise, prescriptive, and\n\n268\n00:13:06.820 --> 00:13:08.560\nfocused with regards to scoping and\n\n269\n00:13:08.560 --> 00:13:12.038\ntailoring around the application\nof our thought process.\n\n270\n00:13:12.038 --> 00:13:16.810\nTo scope and tailor, in other words to\ncraft the exact set of claims that we want\n\n271\n00:13:16.810 --> 00:13:19.545\nto give us the the exact outcome based\non the profile that we're building.\n\n272\n00:13:19.545 --> 00:13:20.780\nSo that we have to match that for\n\n273\n00:13:20.780 --> 00:13:24.140\nusers to be able to essentially\nnavigate through this maze,\n\n274\n00:13:24.140 --> 00:13:29.030\ncome out the other end, and be approve for\nthe use of this Central Access Policy.\n\n275\n00:13:29.030 --> 00:13:30.790\nSo it's like, just like a firewall.\n\n276\n00:13:30.790 --> 00:13:32.280\nWe're stacking up a bunch of rules.\n\n277\n00:13:33.300 --> 00:13:34.500\nThe traffic has to match and\n\n278\n00:13:34.500 --> 00:13:37.470\ngo through all the filters in order to\nget out the other side and be accepted.\n\n279\n00:13:37.470 --> 00:13:39.480\nIt's the same idea here.\n\n280\n00:13:39.480 --> 00:13:42.030\nSo expressions,\nconditional expressions, allow us to,\n\n281\n00:13:42.030 --> 00:13:46.630\nas you can see here, really focus in on\nenhancing the allow or deny, the go or\n\n282\n00:13:46.630 --> 00:13:49.690\nno go decision only when\ncertain conditions are met.\n\n283\n00:13:49.690 --> 00:13:52.740\nI'm a member of this group and\nif I'm a member of this group apply.\n\n284\n00:13:52.740 --> 00:13:53.940\nIf I'm not, don't.\n\n285\n00:13:53.940 --> 00:13:57.040\nI'm gonna be a user that has this specific\n\n286\n00:13:57.040 --> 00:14:01.100\ncompany attribute populated with\nthis specific company name.\n\n287\n00:14:01.100 --> 00:14:05.270\nAnd so that condition is met, and as\na result the expression is conditional and\n\n288\n00:14:05.270 --> 00:14:06.548\nI could say yes or no.\n\n289\n00:14:06.548 --> 00:14:09.860\nSo we can use expressions to be\nable to further refine and say,\n\n290\n00:14:09.860 --> 00:14:14.550\nif Cherokee's a member of this particular\nuser group with this company value,\n\n291\n00:14:14.550 --> 00:14:18.020\ngive her the, essentially apply this\nrule and giver her this policy.\n\n292\n00:14:18.020 --> 00:14:19.390\nIf not, ignore it and\n\n293\n00:14:19.390 --> 00:14:22.880\ndo not give her a read and execute, right,\nas an authenticating user for instance.\n\n294\n00:14:22.880 --> 00:14:25.970\nSo expressions just help us to\nfurther narrow define them or\n\n295\n00:14:25.970 --> 00:14:27.210\nnarrowly define them.\n\n296\n00:14:27.210 --> 00:14:28.644\nAnd then we have our proposed permissions.\n\n297\n00:14:28.644 --> 00:14:32.251\nAs I said, in our case the example was\nauthenticated user group read and execute,\n\n298\n00:14:32.251 --> 00:14:35.720\nright, or read and read and execute,\nright, the extended read permission.\n\n299\n00:14:35.720 --> 00:14:39.260\nSo we could specify those and\ndecide what we're gonna do.\n\n300\n00:14:39.260 --> 00:14:41.630\nSo we're able to go through and\nset all this up.\n\n301\n00:14:41.630 --> 00:14:44.437\nWe do also have to modify group policy and\napply,\n\n302\n00:14:44.437 --> 00:14:49.380\nin the Kerberos authentication protocol,\nsome support here through group policy.\n\n303\n00:14:49.380 --> 00:14:51.413\nIt allows us to Kerberos armoury and\n\n304\n00:14:51.413 --> 00:14:55.630\nthe modification of how Kerberos works\nto be able to apply this solution.\n\n305\n00:14:55.630 --> 00:14:57.780\nAnd we'll take a look at what\nthose setting are as part of our\n\n306\n00:14:57.780 --> 00:14:59.070\nwalk through as well.\n\n307\n00:14:59.070 --> 00:15:02.292\nSo we do go in and set up and\nmodify acouple of different settings.\n\n308\n00:15:02.292 --> 00:15:06.424\nNice thing about the little overview here,\nthey tell us what they, tell us where to\n\n309\n00:15:06.424 --> 00:15:09.868\ngo in group policy, and how to make\nsure we set these up the right way.\n\n310\n00:15:09.868 --> 00:15:13.770\nSupport for the KDC group policy\nto enable DAC, so we enable that..\n\n311\n00:15:13.770 --> 00:15:17.719\nSupport for the KDC using that to set and\nenable DAC for the domain.\n\n312\n00:15:17.719 --> 00:15:23.035\nSo we go through, make sure we\napply these changes as noted here.\n\n313\n00:15:23.035 --> 00:15:27.480\nSo this little overview just gives us\na really nice set of just not only\n\n314\n00:15:27.480 --> 00:15:30.710\nvocabulary terms but also just some\nbasic information to start working with.\n\n315\n00:15:30.710 --> 00:15:32.151\nIt's not enough to go implement DAC,\n\n316\n00:15:32.151 --> 00:15:34.274\nit doesn't walk you through\nstep by step how to do that.\n\n317\n00:15:34.274 --> 00:15:36.438\nWe're gonna obviously walk\nthrough that using ADAC and\n\n318\n00:15:36.438 --> 00:15:38.013\ngoing through all the different parts.\n\n319\n00:15:38.013 --> 00:15:41.348\nBut the overview here just gives us\na flavor for what has to happen.\n\n320\n00:15:41.348 --> 00:15:43.990\nIt also tells us what\nthe software requirements are.\n\n321\n00:15:43.990 --> 00:15:47.120\nWe talked about the versioning for Windows\nthat need to be available to us, so\n\n322\n00:15:47.120 --> 00:15:48.775\nwe just want to make sure\nwe are aware of that.\n\n323\n00:15:48.775 --> 00:15:52.070\nRemember Server 12 or higher,\nWindows 8 on the desktop side.\n\n324\n00:15:52.070 --> 00:15:55.310\nWe need a minimum domain functional\nlevel of Server 12 or higher,\n\n325\n00:15:55.310 --> 00:15:58.950\nas well to support that,\nthat's noted right here I believe.\n\n326\n00:15:58.950 --> 00:16:01.140\nSo just make sure you're aware of that.\n\n327\n00:16:01.140 --> 00:16:04.920\nAnd as we said, we're gonna ignore that if\nwe have systems that are running earlier\n\n328\n00:16:04.920 --> 00:16:06.980\nversions, so we're not just\ngonna be able to process this.\n\n329\n00:16:06.980 --> 00:16:09.970\nSo I just wanted to lay down some\nof the basic overview for you.\n\n330\n00:16:09.970 --> 00:16:13.740\nGive you a little sense,\nlittle feel for what DAC provides.\n\n331\n00:16:13.740 --> 00:16:14.780\nCapabilities for\n\n332\n00:16:14.780 --> 00:16:19.180\nus where we can provide the Central Access\nPolicy, really tightly manage and control.\n\n333\n00:16:19.180 --> 00:16:22.630\nAnd as Cherokee suggested, maybe from\na business case perspective, regulatory\n\n334\n00:16:22.630 --> 00:16:27.130\ncompliance can be validated here so we can\nwork tightly managed and audit for that.\n\n335\n00:16:27.130 --> 00:16:31.090\nWe can audit for compliance and we can\noverview and report on that auditing so\n\n336\n00:16:31.090 --> 00:16:35.200\nwe can see the verification,\nvalidation, what's happening using DAC.\n\n337\n00:16:35.200 --> 00:16:36.920\nWe could protect sensitive information.\n\n338\n00:16:36.920 --> 00:16:40.830\nWe could provide access denied\nremediation by making sure we say, hey,\n\n339\n00:16:40.830 --> 00:16:43.220\nyou're not allowed in but\nhere's what you can do.\n\n340\n00:16:43.220 --> 00:16:44.300\nAnd let's spawn and alert and\n\n341\n00:16:44.300 --> 00:16:46.950\nlet's make sure we generate into them and\nlet's report on that.\n\n342\n00:16:46.950 --> 00:16:51.720\nSo we have all those overview\ncapabilities, things like DNS.\n\n343\n00:16:51.720 --> 00:16:56.240\nThings like, what else?\n\n344\n00:16:56.240 --> 00:16:58.520\nSo DNS would be a good example\nof what can leverage this, or\n\n345\n00:16:58.520 --> 00:17:01.570\nwhat is used by this rather,\nsupporting technology.\n\n346\n00:17:01.570 --> 00:17:05.814\nWindows Server 12 or better, so the local\nsecurity authority, the LSA module,\n\n347\n00:17:05.814 --> 00:17:08.796\nwould be required as a subset\nof requirements around DAC.\n\n348\n00:17:08.796 --> 00:17:12.085\nKerberos arming, so\nnewer support with the KBC and Kerberos,\n\n349\n00:17:12.085 --> 00:17:16.360\nwhich is why we need the group policy\nsettings to manipulate and manage that.\n\n350\n00:17:16.360 --> 00:17:18.030\nAll the little prereqs\nare just stacked up.\n\n351\n00:17:18.030 --> 00:17:21.070\nBut really the primary goal,\nrun this on Server 12 or\n\n352\n00:17:21.070 --> 00:17:23.650\nbetter and you have all of those\ncapabilities available to you.\n\n353\n00:17:23.650 --> 00:17:27.060\nSo you don't have to worry about any of\nthose background thought processes about,\n\n354\n00:17:27.060 --> 00:17:29.390\ndo I have the right .NET framework?\n\n355\n00:17:29.390 --> 00:17:31.340\nDo I have the right\nversion of this installed?\n\n356\n00:17:31.340 --> 00:17:33.080\nHave I turned on the support?\n\n357\n00:17:33.080 --> 00:17:35.700\nBy manipulating just a couple\nof group policy settings and\n\n358\n00:17:35.700 --> 00:17:38.620\nrunning the right OS, we actually\nhave all the capabilities in place.\n\n359\n00:17:38.620 --> 00:17:40.950\nAs well as installing FSRM,\nas we've talked about, and\n\n360\n00:17:40.950 --> 00:17:43.400\nmaking sure that's\navailable to us as well.\n\n361\n00:17:43.400 --> 00:17:44.730\nSo just keep that in mind.\n\n362\n00:17:44.730 --> 00:17:48.408\nRemember FSRM actually goes\nall the way back to 2008R2,\n\n363\n00:17:48.408 --> 00:17:50.090\nit's DAC that starts on Server 12.\n\n364\n00:17:50.090 --> 00:17:53.038\nSo there's a little gap there\nin the sense, FSRM came first.\n\n365\n00:17:53.038 --> 00:17:57.608\nIf we were running FSRM in 2008R2 we'd\nhave to make sure that we're using 12 or\n\n366\n00:17:57.608 --> 00:18:00.337\nbetter because we need that\nsupport at that level to\n\n367\n00:18:00.337 --> 00:18:02.194\nbe able to make sure DAC will work.\n\n368\n00:18:02.194 --> 00:18:06.022\nThere is just a little bit of concern\nin making sure we're familiar with all\n\n369\n00:18:06.022 --> 00:18:07.377\nthe background prerecs.\n\n370\n00:18:07.377 --> 00:18:10.274\nBut that's a hard line in the sand,\nServer 12 or better.\n\n371\n00:18:10.274 --> 00:18:12.503\nSo that's easy enough for\nyou to follow, I would think,\n\n372\n00:18:12.503 --> 00:18:14.490\njust to make sure you're aware of that.\n\n373\n00:18:14.490 --> 00:18:16.487\nAll right, so\njust kind of an overview, right,\n\n374\n00:18:16.487 --> 00:18:19.720\na little thought process before we\njump in and get started overall.\n\n375\n00:18:19.720 --> 00:18:22.180\nProbably not enough time\nto start in on the demo and\n\n376\n00:18:22.180 --> 00:18:25.110\nreally get to far, just at looking at Mr.\nClock on the wall.\n\n377\n00:18:25.110 --> 00:18:27.010\nBut we can come back\nwith a full episode and\n\n378\n00:18:27.010 --> 00:18:28.940\nactually dive right\ninto the demonstration.\n\n379\n00:18:28.940 --> 00:18:30.570\nAnd that maybe a good think to do?\n\n380\n00:18:30.570 --> 00:18:31.779\nWhat do you think there, Ms Cherokee?\n\n381\n00:18:31.779 --> 00:18:34.524\n&gt;&gt; All right, Adam, you're the boss so\nI think that's a great idea.\n\n382\n00:18:34.524 --> 00:18:36.182\nWe'll go ahead and-\n&gt;&gt; If I'm the boss,\n\n383\n00:18:36.182 --> 00:18:39.331\nhow did we wind up with wild cat videos\nas examples in our prior episode.\n\n384\n00:18:39.331 --> 00:18:40.778\n&gt;&gt; [LAUGH]\n&gt;&gt; And Storage Hogs,\n\n385\n00:18:40.778 --> 00:18:42.060\nhow did that whole thing happen?\n\n386\n00:18:42.060 --> 00:18:47.480\nYou haven't seen that episode by the way,\nboy, yeah, just, great episode.\n\n387\n00:18:47.480 --> 00:18:48.620\nYou wanna go check that out.\n\n388\n00:18:48.620 --> 00:18:50.400\nBut how did we wind up\nwith that if I'm the boss?\n\n389\n00:18:50.400 --> 00:18:52.877\nIt's like I said no wild cat videos and\nthat you went ahead and\n\n390\n00:18:52.877 --> 00:18:54.720\nbrought up the wild cat video.\n\n391\n00:18:54.720 --> 00:18:55.840\n&gt;&gt; We'll let him think he's the boss then.\n\n392\n00:18:55.840 --> 00:18:56.360\n&gt;&gt; All right.\n&gt;&gt; All right.\n\n393\n00:18:56.360 --> 00:18:57.160\n&gt;&gt; Well that's probably better.\n\n394\n00:18:57.160 --> 00:18:57.660\n&gt;&gt; All right\n&gt;&gt; Right?\n\n395\n00:18:57.660 --> 00:18:58.170\n&gt;&gt; So-\n\n396\n00:18:58.170 --> 00:18:59.590\n&gt;&gt; But it does sound like a great idea, so\n\n397\n00:18:59.590 --> 00:19:00.990\nI'm gonna approve this.\n\n398\n00:19:00.990 --> 00:19:01.900\n&gt;&gt; Okay, Sis.\n&gt;&gt; Okay.\n\n399\n00:19:01.900 --> 00:19:02.540\n&gt;&gt; But I'm the boss,\n\n400\n00:19:02.540 --> 00:19:04.250\nso I'm glad you're approving it.\nThat's good to know.\n\n401\n00:19:04.250 --> 00:19:05.010\n&gt;&gt; All right, ladies and\n\n402\n00:19:05.010 --> 00:19:05.530\ngentlemen.\n&gt;&gt; All right.\n\n403\n00:19:05.530 --> 00:19:06.720\n&gt;&gt; Yes, join us back here for\n\n404\n00:19:06.720 --> 00:19:08.590\na demonstration,\nwhere Adam is going to be showing us\n\n405\n00:19:08.590 --> 00:19:11.330\nhow we can set up Dynamic Access Control.\nYou don't wanna miss it.\n\n406\n00:19:11.330 --> 00:19:12.760\nWe'll go ahead and sign out for this show.\n\n407\n00:19:12.760 --> 00:19:14.520\nI've been your host, Cherokee Boose.\n\n408\n00:19:14.520 --> 00:19:16.850\n&gt;&gt; I am the boss, in name only.\n\n409\n00:19:16.850 --> 00:19:18.060\n&gt;&gt; See you next time, here at ITPro.TV.\n\n410\n00:19:18.060 --> 00:19:20.582\n&gt;&gt; Take care, everybody.\n\n411\n00:19:20.582 --> 00:19:26.607\n[MUSIC]\n\n412\n00:19:26.607 --> 00:19:29.847\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "234904859"
        },
        {
          "description": "In this episode, Cherokee and Adam continue to explore DAC. Adam defines three different types of claim types as well as resource properties.  Next, he demonstrates how to configure this technology by creating central access rules and using them the create central access policies.",
          "length": "2129",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-5-implement_fsrm_and_dac_pt5-092017-PGM.00_35_14_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-5-implement_fsrm_and_dac_pt5-092017-PGM.00_35_14_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-5-implement_fsrm_and_dac_pt5-092017-PGM.00_35_14_29.Still001-sm.jpg",
          "title": "Implement FSRM and DAC Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.125 --> 00:00:01.339\nWelcome to ITPRO.TV.\n\n2\n00:00:01.339 --> 00:00:02.782\nI'm your host, Don Pezet.\n\n3\n00:00:02.782 --> 00:00:08.242\n[CROSSTALK]\n\n4\n00:00:08.242 --> 00:00:11.918\nYou're watching ITPRO.TV.\n\n5\n00:00:11.918 --> 00:00:16.219\nWelcome to your\nSecuring Windows Server 2016 series.\n\n6\n00:00:16.219 --> 00:00:19.737\nYeah, we definitely have to have our\nWindows operating system secured here.\n\n7\n00:00:19.737 --> 00:00:21.662\nI'm your host, Cherokee Boose.\n\n8\n00:00:21.662 --> 00:00:24.842\nJust as promised, we're here to\nbring you a demonstration for\n\n9\n00:00:24.842 --> 00:00:26.165\ndynamic access control.\n\n10\n00:00:26.165 --> 00:00:29.267\nAnd, of course, to perform this\ndemonstration we have Microsoft expert,\n\n11\n00:00:29.267 --> 00:00:30.048\nMr. Adam Gordon.\n\n12\n00:00:30.048 --> 00:00:32.731\nWe were able to wrangle him back\nin the studio, so thank you for\n\n13\n00:00:32.731 --> 00:00:33.877\njoining us today, Adam.\n\n14\n00:00:33.877 --> 00:00:36.373\nI was actually trying to run out, but\nyou grabbed me by the ponytail and\n\n15\n00:00:36.373 --> 00:00:37.102\ndragged me back in.\n\n16\n00:00:37.102 --> 00:00:40.479\nSo I guess we will actually take\na look at our demonstration,\n\n17\n00:00:40.479 --> 00:00:43.669\nat least part one anyway,\nof our demonstration for DAC.\n\n18\n00:00:43.669 --> 00:00:45.439\nSo glad you could come back and join us.\n\n19\n00:00:45.439 --> 00:00:47.773\nReally exciting stuff as\nCherokee was just pointing out.\n\n20\n00:00:47.773 --> 00:00:49.125\nWe're gonna pick up where we left off.\n\n21\n00:00:49.125 --> 00:00:52.455\nWe just did a quick overview in\nthe last episode, not a real big one,\n\n22\n00:00:52.455 --> 00:00:53.922\njust set the tone so to speak.\n\n23\n00:00:53.922 --> 00:00:58.171\nI showed you a little overview information\non the website about DAC, what it is,\n\n24\n00:00:58.171 --> 00:01:01.920\nhow we can work with it, what the working\nvocabulary is, the claims and\n\n25\n00:01:01.920 --> 00:01:03.295\nthe claim types we set up,\n\n26\n00:01:03.295 --> 00:01:07.133\nthe perspective permissions or\nthe the expected permission to assign.\n\n27\n00:01:07.133 --> 00:01:10.290\nCentral access policies, the central\naccess rules, we went through all that.\n\n28\n00:01:10.290 --> 00:01:12.794\nWe're gonna actually dive in and\nget started with configuration.\n\n29\n00:01:12.794 --> 00:01:14.812\nSo if you join me here, we'll take a look.\n\n30\n00:01:14.812 --> 00:01:18.183\nI'm on my Server 12, Server 12,\nlisten to me, Server 12.\n\n31\n00:01:18.183 --> 00:01:21.364\nI kept saying you need at least Server 12,\nso we're on Server 16.\n\n32\n00:01:21.364 --> 00:01:25.189\nSo we're on my Plaid DC01 machine\nas you can see right up here.\n\n33\n00:01:25.189 --> 00:01:27.761\nAnd we're gonna go in,\nwe're gonna load ADAC or\n\n34\n00:01:27.761 --> 00:01:30.353\nActive Directory Administrative Center\ntool.\n\n35\n00:01:30.353 --> 00:01:33.562\nYou've seen me do this before, but\nin case you don't remember where it is,\n\n36\n00:01:33.562 --> 00:01:36.387\nalways good to just start out by\nshowing you where we're gonna go.\n\n37\n00:01:36.387 --> 00:01:38.587\nWe go to our tools menu\nfrom server manager,\n\n38\n00:01:38.587 --> 00:01:40.794\nActive Directory Administrative Center.\n\n39\n00:01:40.794 --> 00:01:45.206\nI've already got that installed, up and\nrunning rather I should say, and open.\n\n40\n00:01:45.206 --> 00:01:48.862\nJust gonna bring that up and\nwe that in ADAC on the left hand side of\n\n41\n00:01:48.862 --> 00:01:53.152\nthe navigation area under our domain,\nwe do have dynamic access control.\n\n42\n00:01:53.152 --> 00:01:56.862\nNow, if you're doing this and perhaps\nfollowing along and you're gonna build\n\n43\n00:01:56.862 --> 00:02:00.570\nyour own demo environment or you're doing\nthis in a system that's already been\n\n44\n00:02:00.570 --> 00:02:04.355\nconfigured, when you click on DAC\ninitially, there's nothing listed below.\n\n45\n00:02:04.355 --> 00:02:09.054\nYou'll see I've got central access\npolicies, rules, resource property list.\n\n46\n00:02:09.054 --> 00:02:10.598\nThere's some other stuff that goes there.\n\n47\n00:02:10.598 --> 00:02:14.036\nBut there's nothing there initially cuz\nyou have to go to the pick list and\n\n48\n00:02:14.036 --> 00:02:16.932\nstart to extend and use all of\nthe things that are listed here.\n\n49\n00:02:16.932 --> 00:02:19.354\nSo don't be worried about the fact\nthat you may not see these.\n\n50\n00:02:19.354 --> 00:02:22.527\nThese are just references to\nthe last three items that I use as I\n\n51\n00:02:22.527 --> 00:02:25.583\nwas clicking through and\nconfiguring various things, but\n\n52\n00:02:25.583 --> 00:02:29.878\nwhen you click on DAC, you'll see that you\nhave five folders that pop up over here.\n\n53\n00:02:29.878 --> 00:02:34.098\nCentral access policies, central access\nrules, claim types where we'll start our\n\n54\n00:02:34.098 --> 00:02:38.092\njourney in just a minute, resource\nproperties, and resource property lists.\n\n55\n00:02:38.092 --> 00:02:41.290\nSo we're gonna go to claim types first,\nso I can click on claim types.\n\n56\n00:02:41.290 --> 00:02:44.564\nRight click New Claim Type to create one,\nbut before we do that,\n\n57\n00:02:44.564 --> 00:02:48.507\nI've already got all of these things\nconfigured as you saw in the beginning of\n\n58\n00:02:48.507 --> 00:02:52.534\nthe first episode as we did our quick hey,\nlet me show you what this looks like.\n\n59\n00:02:52.534 --> 00:02:56.818\nWe reversed engineered and\nworked backwards to understand what we do.\n\n60\n00:02:56.818 --> 00:02:59.237\nWe go into Claim Types\njust by clicking there.\n\n61\n00:02:59.237 --> 00:03:03.358\nYou'll see that I have specified as I\ntalked about the company claim type.\n\n62\n00:03:03.358 --> 00:03:07.232\nI took company claim and\nattribute from Active Directory,\n\n63\n00:03:07.232 --> 00:03:11.880\nspecified I wanna use that one, and\nthen populated it with ITProTV as my\n\n64\n00:03:11.880 --> 00:03:16.620\ncompany equals right kind of claim or\nmy value for the claim I should say.\n\n65\n00:03:16.620 --> 00:03:21.414\nSo I've gone ahead and programmed that\nin and so I have that listed here.\n\n66\n00:03:21.414 --> 00:03:24.187\nAnd you can double click on this,\nbring this up, and\n\n67\n00:03:24.187 --> 00:03:26.027\nI could see that company is there.\n\n68\n00:03:26.027 --> 00:03:29.080\nI've specified that I'm gonna use company,\nmy display name,\n\n69\n00:03:29.080 --> 00:03:30.728\nsuggested value down below here.\n\n70\n00:03:30.728 --> 00:03:34.445\nI'll just scroll down so\nyou can see up underneath.\n\n71\n00:03:34.445 --> 00:03:39.233\nI could either specify a value suggested\nor not, will be up to me to decide,\n\n72\n00:03:39.233 --> 00:03:44.029\nand I have extensions in terms of my\npermission sets and whatever I may use.\n\n73\n00:03:44.029 --> 00:03:45.912\nAnd you can see I kind of click\nhere to move around, right.\n\n74\n00:03:45.912 --> 00:03:50.340\nSo I brought this specific claim in and\ncreated this claim type or\n\n75\n00:03:50.340 --> 00:03:51.819\nallowed it to exist.\n\n76\n00:03:51.819 --> 00:03:55.302\nSo I'm gonna start by walking through how\ncreate a claim type, so let's do that.\n\n77\n00:03:55.302 --> 00:04:00.287\nWe're gonna configure our claim type by\nright clicking on Claim Type and by either\n\n78\n00:04:00.287 --> 00:04:05.199\nselecting from over here Claim Type,\nright clicking New and then Claim Type, or\n\n79\n00:04:05.199 --> 00:04:09.626\nopen up Claim Type, right click,\neither way, but Claim Type, right.\n\n80\n00:04:09.626 --> 00:04:12.099\nSo let's go in,\nwe can also go over here by the way and\n\n81\n00:04:12.099 --> 00:04:13.740\ndo new claim type right from here.\n\n82\n00:04:13.740 --> 00:04:16.496\nAll right, so claim type,\nlet's go in, we've got our pick list.\n\n83\n00:04:16.496 --> 00:04:19.551\nWe get our source attributes\nin our suggested value area.\n\n84\n00:04:19.551 --> 00:04:20.764\nWe were just looking at this.\n\n85\n00:04:20.764 --> 00:04:24.829\nSo I'm gonna go in and I'm gonna specify\nwhat claim type I would like to use.\n\n86\n00:04:24.829 --> 00:04:27.227\nI in my example said I used Company.\n\n87\n00:04:27.227 --> 00:04:30.194\nWe could choose any of the several\nhundred that are listed here.\n\n88\n00:04:30.194 --> 00:04:35.278\nAnd as I scroll down, you will see,\nlet me just extend the display name out so\n\n89\n00:04:35.278 --> 00:04:37.828\nyou kind of see what it is a little bit.\n\n90\n00:04:37.828 --> 00:04:40.250\nBut we can see that there\nare quite a number of them.\n\n91\n00:04:42.453 --> 00:04:47.280\nAnd of course probably sorting as\nopposed to let me see if I can\n\n92\n00:04:47.280 --> 00:04:49.088\ncatch that to extend.\n\n93\n00:04:49.088 --> 00:04:51.369\nNope, I don't wanna move.\n\n94\n00:04:51.369 --> 00:04:52.486\nYou can do it.\n\n95\n00:04:52.486 --> 00:04:53.476\nI don't know if I can.\n\n96\n00:04:53.476 --> 00:04:54.726\nThere we go [LAUGH] okay.\n\n97\n00:04:54.726 --> 00:04:56.947\n[LAUGH] One of those like I'm\nthink on the right place, but\n\n98\n00:04:56.947 --> 00:04:58.245\nit's just not working kinda thing.\n\n99\n00:04:58.245 --> 00:05:01.160\nAll right, so you can see as I extend\nit just so we can kinda see the list,\n\n100\n00:05:01.160 --> 00:05:02.532\njust a little bit easier to read.\n\n101\n00:05:02.532 --> 00:05:03.926\nI've got quite a number of these, right.\n\n102\n00:05:03.926 --> 00:05:06.886\nAccount expires, account name history.\n\n103\n00:05:06.886 --> 00:05:10.404\nScroll down alphabetically,\nall sorts of stuff in here.\n\n104\n00:05:10.404 --> 00:05:12.397\nDepartment maybe you wanna use.\n\n105\n00:05:12.397 --> 00:05:15.115\nThat's often one that may get populated.\n\n106\n00:05:15.115 --> 00:05:18.888\nWe're in the sales department,\nwe're in the HR department.\n\n107\n00:05:18.888 --> 00:05:22.741\nIn the last episode, Cherokee brought\nup the idea of maybe using this thought\n\n108\n00:05:22.741 --> 00:05:25.349\nprocess around DAC to be able\nto drive a regulatory or\n\n109\n00:05:25.349 --> 00:05:29.618\nstatutory compliance requirement, and as\na result of that, being able to verify and\n\n110\n00:05:29.618 --> 00:05:31.721\nvalidate that from an auto perspective.\n\n111\n00:05:31.721 --> 00:05:36.755\nAnd so being able to tag information and\nassign rights based on the department\n\n112\n00:05:36.755 --> 00:05:41.645\nmembership may actually be a good idea\ncuz that may be how we can align this.\n\n113\n00:05:41.645 --> 00:05:43.582\nAnd so that's one of the ways\nwe often see this deployed.\n\n114\n00:05:43.582 --> 00:05:47.083\nIt's with an attribute like department,\nso it'd be up to us to decide, right?\n\n115\n00:05:47.083 --> 00:05:49.315\nSo I can go in let's say and\ngrab department.\n\n116\n00:05:49.315 --> 00:05:50.644\nYou see I've just highlighted it.\n\n117\n00:05:50.644 --> 00:05:51.779\nI have it over here.\n\n118\n00:05:51.779 --> 00:05:56.083\nI can specify claims of this type will\nbe issued for the following classes,\n\n119\n00:05:56.083 --> 00:05:57.530\nuser and/or computer.\n\n120\n00:05:57.530 --> 00:06:01.149\nWe mentioned in our high level\noverview that we can use this for\n\n121\n00:06:01.149 --> 00:06:03.595\neither users and/or computers or both.\n\n122\n00:06:03.595 --> 00:06:06.618\nYou could see as I scroll\ndown the default is user.\n\n123\n00:06:06.618 --> 00:06:09.658\nComputers typically don't have\ndepartments associated with them, but\n\n124\n00:06:09.658 --> 00:06:12.363\nthat shows an attribute that was\nmore appropriate for computer.\n\n125\n00:06:12.363 --> 00:06:17.174\nYou know, I could swap out, and mix and\nmatch, right, so I would specify that.\n\n126\n00:06:17.174 --> 00:06:18.683\nProtect from accidental deletion.\n\n127\n00:06:18.683 --> 00:06:19.821\nThat's setup by default.\n\n128\n00:06:19.821 --> 00:06:23.452\nWe talked about that in other episodes\nwhere we don't wanna go in and\n\n129\n00:06:23.452 --> 00:06:27.477\nremove this association, this claim or\nthis attribute or whatever it is.\n\n130\n00:06:27.477 --> 00:06:30.373\nAnd so marking it as protected form\naccidental deletion prevents us from\n\n131\n00:06:30.373 --> 00:06:32.039\nshooting ourselves in the foot, right?\n\n132\n00:06:32.039 --> 00:06:34.299\nEssentially perhaps doing\nsomething we'll regret later.\n\n133\n00:06:34.299 --> 00:06:35.860\nSo that's always important, right?\n\n134\n00:06:35.860 --> 00:06:36.932\nSo wanna make sure we have that there.\n\n135\n00:06:36.932 --> 00:06:38.445\nSo we're gonna go ahead and add those in.\n\n136\n00:06:38.445 --> 00:06:39.808\nAnd then once we've done that,\n\n137\n00:06:39.808 --> 00:06:42.491\nwe'll take a look at our resource\nproperties in just a minute.\n\n138\n00:06:42.491 --> 00:06:47.037\nSo I'm gonna go ahead and\nclick OK down here at the bottom.\n\n139\n00:06:47.037 --> 00:06:49.803\nAnd if I come back into claim\ntype just to open this up,\n\n140\n00:06:49.803 --> 00:06:52.513\nyou'll see I've added\nthe department claim type.\n\n141\n00:06:52.513 --> 00:06:55.207\nI added the company there\nbefore I added department.\n\n142\n00:06:55.207 --> 00:06:59.289\nAuthentication silo is there by default,\nso that's one you'd expect to see as you\n\n143\n00:06:59.289 --> 00:07:03.100\njust set this up and load it initially,\nand obviously we'll add from there.\n\n144\n00:07:03.100 --> 00:07:07.944\nSo I've added two in my case user defined,\nright, claim types I'm gonna specify.\n\n145\n00:07:07.944 --> 00:07:10.933\nAnd you can obviously use as many of these\nas you would like, but [INAUDIBLE] two,\n\n146\n00:07:10.933 --> 00:07:13.877\nthree, four depending on what you're\ndoing is probably gonna get you to where\n\n147\n00:07:13.877 --> 00:07:14.429\nyou wanna be.\n\n148\n00:07:14.429 --> 00:07:18.511\nRemember, the more claims we put in,\nthe more conditions essentially ultimately\n\n149\n00:07:18.511 --> 00:07:22.591\nthe user or the computer or whatever it is\nwe're talking about is gonna have to match\n\n150\n00:07:22.591 --> 00:07:25.355\nand validate against before\nwe actually grant access.\n\n151\n00:07:25.355 --> 00:07:26.522\nAnd that's not always a bad thing.\n\n152\n00:07:26.522 --> 00:07:28.940\nI'm not saying that's necessarily bad, but\n\n153\n00:07:28.940 --> 00:07:32.102\nI am suggesting that the more\nclaims that we ultimately use,\n\n154\n00:07:32.102 --> 00:07:36.015\nthe more complex the authentication\nrequirements become in other words.\n\n155\n00:07:36.015 --> 00:07:37.587\nThe more likely it is the users or\n\n156\n00:07:37.587 --> 00:07:40.861\ncomputers will have a very difficult\ntime satisfying all of them.\n\n157\n00:07:40.861 --> 00:07:42.721\nAnd so we have to think about that and\n\n158\n00:07:42.721 --> 00:07:46.380\njust understand that while we do we\nwanna make sure we cover our bases so\n\n159\n00:07:46.380 --> 00:07:50.225\nto speak and that we are providing\nthe right number of claims, to make sure\n\n160\n00:07:50.225 --> 00:07:54.527\nthat we are specifying the exact criteria\nthat we want users to validate against.\n\n161\n00:07:54.527 --> 00:07:58.011\nWe don't wanna go claim happy, right, and\njust decide to put a bunch of stuff in\n\n162\n00:07:58.011 --> 00:08:01.703\nthere because it sounds good because then,\nnumber one, it's a lot of extra work for\n\n163\n00:08:01.703 --> 00:08:04.095\nus We have to make sure all\nthose claims are populated,\n\n164\n00:08:04.095 --> 00:08:06.810\nall the attributes have values and\nthat we can leverage them.\n\n165\n00:08:06.810 --> 00:08:11.650\nAnd that if we for some unexpected reason\nhave undesired outcomes lets go back and\n\n166\n00:08:11.650 --> 00:08:14.290\ntroubleshoot and figure out well\nwhy is that user not getting this?\n\n167\n00:08:14.290 --> 00:08:16.980\nSo why is that user getting it\nwhen in fact they shouldn't be?\n\n168\n00:08:16.980 --> 00:08:20.520\nAnd it may be be because certain claims\nare being populated differently for\n\n169\n00:08:20.520 --> 00:08:23.075\ncertain users based on where they are and\nwhat they do.\n\n170\n00:08:23.075 --> 00:08:26.250\nAnd that can lead to some\nunexpected things, right?\n\n171\n00:08:26.250 --> 00:08:28.110\nSo we just have think\nabout the logic of this.\n\n172\n00:08:28.110 --> 00:08:30.490\nWe don't want to shy away from complexity,\nbut\n\n173\n00:08:30.490 --> 00:08:34.670\nwe don't want to create\nan overly complex situation\n\n174\n00:08:34.670 --> 00:08:37.440\nwhere simplicity may actually be the rule\nof the day and the best approach.\n\n175\n00:08:37.440 --> 00:08:41.510\nSo just think about that as a real world\nexample of some things that I've seen\n\n176\n00:08:41.510 --> 00:08:44.330\ngo wrong even though users\nhave the best of intentions or\n\n177\n00:08:44.330 --> 00:08:48.160\nadministrators have the best of\nintentions with their thought process.\n\n178\n00:08:48.160 --> 00:08:51.790\nBecause they just didn't really understand\nhow to leverage this complexity properly,\n\n179\n00:08:51.790 --> 00:08:54.590\nit didn't really work out the way they\nwere planning and there was a lot of extra\n\n180\n00:08:54.590 --> 00:08:58.050\nwork involved to unwind that and then\nultimately make that work the right way.\n\n181\n00:08:58.050 --> 00:09:01.486\nSo just some thoughts here that may\nbe helpful for you in the real world.\n\n182\n00:09:01.486 --> 00:09:03.081\nAny observations there, boss?\n\n183\n00:09:03.081 --> 00:09:04.711\n[LAUGH] So I'm the boss?\n\n184\n00:09:04.711 --> 00:09:05.670\nAll right.\n\n185\n00:09:05.670 --> 00:09:09.892\nWell, I'm just going with the obvious here\nsince I thought it would be better to be\n\n186\n00:09:09.892 --> 00:09:11.860\ntransparent about our discussions.\n\n187\n00:09:11.860 --> 00:09:13.772\nUsually you will often\nhave an observation or\n\n188\n00:09:13.772 --> 00:09:16.904\nmaybe just a comment about how we could\napply this or something like that.\n\n189\n00:09:16.904 --> 00:09:18.512\nSo I just thought I'd,\nwhile I was just getting ready\n\n190\n00:09:18.512 --> 00:09:20.511\nto go onto the next part of the demo\nbefore we jump to the next phase,\n\n191\n00:09:20.511 --> 00:09:22.110\nyou wanted to say anything\njust to close us our here.\n\n192\n00:09:22.110 --> 00:09:26.251\nSo there's one particular thing I\ndon't think we have really covered yet\n\n193\n00:09:26.251 --> 00:09:29.610\nif we are talking about any\nkind of remedial capabilities.\n\n194\n00:09:29.610 --> 00:09:33.610\nHow could we use this to go ahead and\ntackle that?\n\n195\n00:09:33.610 --> 00:09:36.745\nRemedial capabilities, in terms of what?\n\n196\n00:09:36.745 --> 00:09:41.500\nI mean, remediation traditionally\nis we want to go back and\n\n197\n00:09:41.500 --> 00:09:45.370\nretroactively apply something, or\nwant to go and fix something that may or\n\n198\n00:09:45.370 --> 00:09:47.410\nmay not have been fixed a certain way.\n\n199\n00:09:47.410 --> 00:09:48.770\nSo what are you thinking with that?\n\n200\n00:09:48.770 --> 00:09:50.050\nLike access denied.\n\n201\n00:09:50.050 --> 00:09:52.840\nSo how could we use that\nto our advantage here?\n\n202\n00:09:52.840 --> 00:09:56.000\nSo are we talking about\naccess denied assistance?\n\n203\n00:09:56.000 --> 00:09:59.718\nWhich is a feature we haven't gotten to,\nbut we'll talk about a little bit later.\n\n204\n00:09:59.718 --> 00:10:01.590\nOr are we talking more about, hey,\n\n205\n00:10:01.590 --> 00:10:04.700\nwe blocked you from getting\nin based on the process?\n\n206\n00:10:04.700 --> 00:10:06.890\nRemember, we've got about five steps,\nwe haven't gotten to yet.\n\n207\n00:10:06.890 --> 00:10:07.480\nOkay.\nBut let's\n\n208\n00:10:07.480 --> 00:10:09.945\nfast forward just assumed\nall that's configured,\n\n209\n00:10:09.945 --> 00:10:13.895\nand let's assume the output of that is\nas I showed you at the first episode.\n\n210\n00:10:13.895 --> 00:10:17.290\nWe've got that tab for\ncentral access policy on a folder.\n\n211\n00:10:17.290 --> 00:10:20.990\nAnd we apply the policy and boom,\nokay, now users do or don't get in.\n\n212\n00:10:20.990 --> 00:10:25.377\nSo, fast forward [CROSSTALK] e-mail or the\nemail and the notification and then make\n\n213\n00:10:25.377 --> 00:10:29.790\ntheir own steps, but is there an automated\nway or anything that we can do from here?\n\n214\n00:10:29.790 --> 00:10:36.120\nAn automated way to assign the e-mail or\nto give them help when they don't get in?\n\n215\n00:10:36.120 --> 00:10:37.680\nIs that what you're thinking?\n\n216\n00:10:37.680 --> 00:10:38.910\nI don't know, Adam.\n\n217\n00:10:38.910 --> 00:10:40.150\nNeither do I, that's why I'm asking.\n\n218\n00:10:40.150 --> 00:10:43.520\n[LAUGH] So- I'm just kind of waiting cuz\nI know that that is the capability or\n\n219\n00:10:43.520 --> 00:10:45.590\nyou know, sometimes people will use that.\n\n220\n00:10:45.590 --> 00:10:48.430\nRemember, it's a capability\nassociated FSRM specifically.\n\n221\n00:10:48.430 --> 00:10:51.648\nWe've been talking about it there\nwith generating those e-mails,\n\n222\n00:10:51.648 --> 00:10:53.154\nin piror episodes, of course.\n\n223\n00:10:53.154 --> 00:10:57.172\nBut we've talked about the use of e-mail\nnotifications through SRM to be able to\n\n224\n00:10:57.172 --> 00:11:00.965\ntell you and I made the point where we\ndid the quota template, for instance.\n\n225\n00:11:00.965 --> 00:11:04.005\nAnd we did file screen example\nwhere we blocked access,\n\n226\n00:11:04.005 --> 00:11:07.496\nI said one of the things would be\non the e-mail tab saying, hey,\n\n227\n00:11:07.496 --> 00:11:10.660\nthis is what happened,\nit would generate that.\n\n228\n00:11:10.660 --> 00:11:13.400\nSo that's part of the that\nthought process, but\n\n229\n00:11:13.400 --> 00:11:16.090\nthat's not really necessary\nwith what's happening here.\n\n230\n00:11:16.090 --> 00:11:17.680\nOkay.\nAt least not at this stage,\n\n231\n00:11:17.680 --> 00:11:18.290\nlet's put it that way.\n\n232\n00:11:18.290 --> 00:11:19.590\nSo right now, no.\n\n233\n00:11:19.590 --> 00:11:23.350\nThe short answer based on what you are\nasking is at this level with claim types,\n\n234\n00:11:23.350 --> 00:11:26.310\nwe haven't gotten close to anything yet\nthat's gonna be assigned.\n\n235\n00:11:26.310 --> 00:11:28.290\nAnd therefore,\nwe have a no way of saying, okay,\n\n236\n00:11:28.290 --> 00:11:30.940\nlet's break out right here,\nlet's generate that e-mail.\n\n237\n00:11:30.940 --> 00:11:33.750\nSo five steps from now, when we get\nsome support and we deny access,\n\n238\n00:11:33.750 --> 00:11:35.030\nsome of the user gets something.\n\n239\n00:11:35.030 --> 00:11:36.990\nThat's not occurring at\nthis point in the process.\n\n240\n00:11:36.990 --> 00:11:39.650\nOkay.\nNot right now and not in this area, so.\n\n241\n00:11:39.650 --> 00:11:41.210\nSo that's what you're asking.\n\n242\n00:11:41.210 --> 00:11:41.920\nYeah, we'll get to it.\n\n243\n00:11:41.920 --> 00:11:42.740\nOkay, just wanna make sure.\n\n244\n00:11:42.740 --> 00:11:44.240\nSo the answer is no.\n\n245\n00:11:44.240 --> 00:11:45.172\nAnd we're gonna continue.\n\n246\n00:11:45.172 --> 00:11:47.270\n[LAUGH] Thank you for clarifying that.\n\n247\n00:11:47.270 --> 00:11:48.550\nGood idea [LAUGH].\nAwesome.\n\n248\n00:11:48.550 --> 00:11:49.120\nContinue.\n\n249\n00:11:49.120 --> 00:11:50.030\nAll right.\n\n250\n00:11:50.030 --> 00:11:51.710\nConfounding powers activate.\n\n251\n00:11:51.710 --> 00:11:53.530\nAll right, so\nlet's get back to where we were.\n\n252\n00:11:53.530 --> 00:11:54.920\nSo we've done claim types, right?\n\n253\n00:11:54.920 --> 00:11:56.470\nSo join me back in here.\n\n254\n00:11:56.470 --> 00:11:59.890\nNext step, right, kind of part two,\nif you will, or step two,\n\n255\n00:11:59.890 --> 00:12:01.950\nconfigure resource properties for\nour files.\n\n256\n00:12:01.950 --> 00:12:03.720\nLet's go in and\ntake a look at how to do that.\n\n257\n00:12:03.720 --> 00:12:04.888\nSo I'm just gonna go back here.\n\n258\n00:12:04.888 --> 00:12:09.530\nClick on DAC just to bring back our\ninitial list because, remember,\n\n259\n00:12:09.530 --> 00:12:12.910\nonly the last three things that I have\nused show up here as kind of shortcut\n\n260\n00:12:12.910 --> 00:12:16.600\nlinks and\nI haven't used resource properties yet.\n\n261\n00:12:16.600 --> 00:12:17.430\nI have used it but\n\n262\n00:12:17.430 --> 00:12:20.430\nway earlier in the process that I was\nsetting up on the steps on the demo.\n\n263\n00:12:20.430 --> 00:12:22.460\nSo I've just got to go\nback to my main list here.\n\n264\n00:12:22.460 --> 00:12:25.680\nNow, I could right-click, by the way,\nas well on DAC just to show you.\n\n265\n00:12:25.680 --> 00:12:29.470\nAnd I could see properties, and I could,\nnot see properties in this list, but\n\n266\n00:12:29.470 --> 00:12:30.270\ndifferent properties.\n\n267\n00:12:30.270 --> 00:12:31.910\nDon't get confused by that.\n\n268\n00:12:31.910 --> 00:12:35.710\nBut what I could do if I want to see\nthis list is I can come over here and\n\n269\n00:12:35.710 --> 00:12:37.120\njust click on this little arrow.\n\n270\n00:12:37.120 --> 00:12:39.890\nIt brings it up on my little dialogue\nbox and I can pin it there, and\n\n271\n00:12:39.890 --> 00:12:41.730\nclick on them and\nkind of drill though as well.\n\n272\n00:12:41.730 --> 00:12:43.210\nSo It's up to me to decide.\n\n273\n00:12:43.210 --> 00:12:44.800\nI want to get to resource properties.\n\n274\n00:12:44.800 --> 00:12:46.080\nWhen I click on it there,\n\n275\n00:12:46.080 --> 00:12:49.130\nyou can see it automatically loads\nthe resource properties for me.\n\n276\n00:12:49.130 --> 00:12:51.770\nThere are 16 of them there by default,\nas you can see.\n\n277\n00:12:51.770 --> 00:12:54.530\nI've got the ones that I've gone in and\nused,\n\n278\n00:12:54.530 --> 00:12:57.810\ncompany is there, department is there.\n\n279\n00:12:57.810 --> 00:13:01.177\nBut there's others that are there,\nas well, for other reasons, right?\n\n280\n00:13:01.177 --> 00:13:03.680\nSo I'll see a list of whatever\nthese resource properties are.\n\n281\n00:13:03.680 --> 00:13:07.402\nSo, I'm going to go ahead, and\nI'm going to select company, or\n\n282\n00:13:07.402 --> 00:13:10.460\nI'll select department,\ndoesn't really matter.\n\n283\n00:13:10.460 --> 00:13:12.610\nI'll do department since\nI've already done company.\n\n284\n00:13:12.610 --> 00:13:14.090\nSo let me highlight this one.\n\n285\n00:13:14.090 --> 00:13:15.990\nAnd lLet me actually\nshow you something here.\n\n286\n00:13:15.990 --> 00:13:19.660\nCompany, if you look over here, because\nI've set company up ahead of time, and\n\n287\n00:13:19.660 --> 00:13:21.710\nI've already gone through and\nprogrammed it.\n\n288\n00:13:21.710 --> 00:13:25.090\nAnd you'll notice when I highlight it off\nto the right here cuz we just don't see\n\n289\n00:13:25.090 --> 00:13:29.190\njust one of the categorical columns\nhere because it's not on the view.\n\n290\n00:13:29.190 --> 00:13:33.130\nBut look over here where it says company,\nand underneath it says disable, right?\n\n291\n00:13:33.130 --> 00:13:35.477\nBecause that means that it\nis enabled right now, right?\n\n292\n00:13:35.477 --> 00:13:39.275\nThe opposite action of what the current\nstate is is what shows up over here.\n\n293\n00:13:39.275 --> 00:13:42.995\nAnd when I click on Department,\nnotice that that changes to enable.\n\n294\n00:13:42.995 --> 00:13:46.625\nBy default the property comes up disabled,\nand what I have to do is go in and\n\n295\n00:13:46.625 --> 00:13:49.280\nenable it, I wanna be able to leverage and\nuse it with DAC.\n\n296\n00:13:49.280 --> 00:13:52.670\nSo, I'm not gonna show you company cuz\nI've already done that with company.\n\n297\n00:13:52.670 --> 00:13:55.820\nWe're adding in Department so I'm gonna\nwalk through and show you how to enable\n\n298\n00:13:55.820 --> 00:13:58.890\nit, and I'm gonna click on it and just\ngo in and do things I need to do here.\n\n299\n00:13:58.890 --> 00:14:00.890\nSo, I'm gonna highlight, hello.\n\n300\n00:14:00.890 --> 00:14:04.030\nI'm gonna highlight my property,\nin this case, Department.\n\n301\n00:14:04.030 --> 00:14:06.530\nI'm going to go in, and\nI will wind up enabling, but first,\n\n302\n00:14:06.530 --> 00:14:09.055\nwe're going to go into properties and\ntake a look at it before we do that.\n\n303\n00:14:09.055 --> 00:14:11.264\nYeah?\nOkay, so when you had mentioned for the,\n\n304\n00:14:11.264 --> 00:14:15.512\nlet me see, the device claims here, were\nyou talking about things like Mac address\n\n305\n00:14:15.512 --> 00:14:17.835\nor IP address or\nare those gonna be examples?\n\n306\n00:14:17.835 --> 00:14:18.367\nPotentially.\n\n307\n00:14:18.367 --> 00:14:19.235\nOkay.\n\n308\n00:14:19.235 --> 00:14:20.695\nAnd we didn't use any of them, but\n\n309\n00:14:20.695 --> 00:14:23.135\npotentially they could be attributes\nassociated with the device.\n\n310\n00:14:23.135 --> 00:14:25.585\nSo we may be able to do\nthat if we wanted to.\n\n311\n00:14:25.585 --> 00:14:27.725\nThat may be incredibly\nnarrowly defined and\n\n312\n00:14:27.725 --> 00:14:32.825\nvery specific because literally an IP\naddress or Mac address is one machine.\n\n313\n00:14:32.825 --> 00:14:37.780\nSo what we would probably be thinking of,\nI mentioned, I think, OS, right?\n\n314\n00:14:37.780 --> 00:14:42.770\nSo OS version which will be\na little bit broader in a system\n\n315\n00:14:42.770 --> 00:14:45.310\nwith multiple OSs,\nmultiple desk tops, I'm thinking.\n\n316\n00:14:45.310 --> 00:14:46.190\nMaybe different versions.\n\n317\n00:14:46.190 --> 00:14:51.150\nWindow's 10, maybe Windows 7, Windows 8,\nobviously, Windows seven wouldn't apply so\n\n318\n00:14:51.150 --> 00:14:52.030\nit won't be supported.\n\n319\n00:14:52.030 --> 00:14:56.840\nBut say Windows 8, 8.1 and 10 and maybe\nI wanted to use a device claim around\n\n320\n00:14:56.840 --> 00:15:01.441\nWindows10 and narrowly define a DAC\nsolution around the use of Windows10\n\n321\n00:15:01.441 --> 00:15:05.170\ndriving that and\nexclude the Windows 8 and 8.1 users.\n\n322\n00:15:05.170 --> 00:15:08.660\nBut give access or give rights\nthrough DAC to Windows 10 users.\n\n323\n00:15:08.660 --> 00:15:13.360\nIf I did an OS version or\nsome derivative of that, right?\n\n324\n00:15:13.360 --> 00:15:15.810\nI could then, build number would\nprobably be the way to go.\n\n325\n00:15:15.810 --> 00:15:17.270\nYeah.\nCuz that will be the OS version.\n\n326\n00:15:17.270 --> 00:15:18.425\nEspecially with Windows 10.\n\n327\n00:15:18.425 --> 00:15:22.315\nRight, so if I did that, then that would\nprobably be a good example of a claim for\n\n328\n00:15:22.315 --> 00:15:25.225\na device type, as opposed to,\nnot that IP address or\n\n329\n00:15:25.225 --> 00:15:28.865\nMac address wouldn't work, but like I\nsaid it's just very narrowly defined.\n\n330\n00:15:28.865 --> 00:15:31.105\nYou're literally zeroing in\nmost likely on one machine,\n\n331\n00:15:31.105 --> 00:15:35.505\nand as a result there's a lot of easier\nways probably to get to that one machine.\n\n332\n00:15:35.505 --> 00:15:40.095\nThe architecture and the overlay to\ncreate DAC to specify a single machine,\n\n333\n00:15:40.095 --> 00:15:42.585\nit's just a little heavy handed for\naccess to one.\n\n334\n00:15:42.585 --> 00:15:46.588\nBut I could an see something like a build\nversion where we could grab a whole bunch\n\n335\n00:15:46.588 --> 00:15:49.295\nat once almost like a collection\nin that CCM, right?\n\n336\n00:15:49.295 --> 00:15:51.186\nIf you think about the logic of that,\n\n337\n00:15:51.186 --> 00:15:54.848\nthat container would be in all\nWindows 10 Creator Update Machines and\n\n338\n00:15:54.848 --> 00:15:58.508\nthe 200 that fall in there would then\nget the benefit of that policy or\n\n339\n00:15:58.508 --> 00:16:02.865\nwhatever we specify, and as a result could\nthen have software applied to whatever.\n\n340\n00:16:02.865 --> 00:16:04.106\nOkay.\nSame idea here, right?\n\n341\n00:16:04.106 --> 00:16:05.501\nSo probably do something like that.\n\n342\n00:16:05.501 --> 00:16:09.010\nBut I wouldn't be quite as gnarly\ndefined in my thought process.\n\n343\n00:16:09.010 --> 00:16:12.570\nAll right, so let's go and we'll highlight\nour resource property department here.\n\n344\n00:16:12.570 --> 00:16:15.080\nGo over here, we'll go to Properties.\n\n345\n00:16:15.080 --> 00:16:18.211\nWe can right-click, by the way, to get\naccess to same menus we see over there.\n\n346\n00:16:18.211 --> 00:16:20.930\nWe just do actually a bit easier for\nyou to see in the same screen.\n\n347\n00:16:20.930 --> 00:16:23.270\nSo we go to Properties here,\nbring this up.\n\n348\n00:16:23.270 --> 00:16:28.050\nNow, notice it does say disabled here\nas you saw it and just to show you when\n\n349\n00:16:28.050 --> 00:16:31.620\nI do go into company, and\nthere's also a change in the icon status.\n\n350\n00:16:31.620 --> 00:16:33.130\nSo it just may be hard to see.\n\n351\n00:16:33.130 --> 00:16:36.250\nAll of these are what look\nlike little rectangles,\n\n352\n00:16:36.250 --> 00:16:38.250\nlittle circle dangling on the end.\n\n353\n00:16:38.250 --> 00:16:42.864\nWhereas the one that's enabled is just a\ndarker rectangle with no circle dangling.\n\n354\n00:16:42.864 --> 00:16:44.973\nIt's just another visual\nway to tell the same thing.\n\n355\n00:16:44.973 --> 00:16:48.960\nSo if you're a visual person- Make\nsure you wear your glasses, yeah.\n\n356\n00:16:48.960 --> 00:16:50.007\nDo pay attention to that, right?\n\n357\n00:16:50.007 --> 00:16:52.754\n[LAUGH] All right, then you could see\nthat the one that is enabled doesn't say\n\n358\n00:16:52.754 --> 00:16:53.870\ndisabled in parenthesis.\n\n359\n00:16:53.870 --> 00:16:55.830\nDoesn't say enabled but\ndoesn't say disabled.\n\n360\n00:16:55.830 --> 00:16:58.241\nSo just to show you, right,\nthe difference here.\n\n361\n00:16:58.241 --> 00:17:00.820\nAll right, so\nwe're gonna go to our department.\n\n362\n00:17:00.820 --> 00:17:02.630\nLet's go here, we'll right-click.\n\n363\n00:17:02.630 --> 00:17:03.890\nGo to properties.\n\n364\n00:17:03.890 --> 00:17:08.890\nAnd so you could see here that\nwe have our general information.\n\n365\n00:17:08.890 --> 00:17:10.015\nWe're not worried about this.\n\n366\n00:17:10.015 --> 00:17:13.470\nIt's used for authorization,\nprotect from accidental deletion.\n\n367\n00:17:13.470 --> 00:17:15.330\nCan be selected yes or no.\n\n368\n00:17:15.330 --> 00:17:16.840\nCome down here.\n\n369\n00:17:16.840 --> 00:17:20.540\nAnd you can see that you're\nunder suggested values.\n\n370\n00:17:20.540 --> 00:17:25.400\nWe have our administration, we'll\njust move this out, customer service,\n\n371\n00:17:25.400 --> 00:17:27.430\ndistribution, whatever the case may be,\nright?\n\n372\n00:17:27.430 --> 00:17:32.190\nSo we have to go in and we have to decide.\n\n373\n00:17:32.190 --> 00:17:37.000\nWe're either going to keep this and\ngive this a name, or.\n\n374\n00:17:38.110 --> 00:17:39.200\nDecide we wanna change this.\n\n375\n00:17:39.200 --> 00:17:40.850\nMaybe we'll leave it at department or\n\n376\n00:17:40.850 --> 00:17:43.620\nmaybe we'll decide we wanna change\nthat and do something else.\n\n377\n00:17:43.620 --> 00:17:44.310\nIt will be up to us.\n\n378\n00:17:44.310 --> 00:17:46.990\nNormally you would leave display\nname the same as the attribute.\n\n379\n00:17:46.990 --> 00:17:49.670\nBut you do have the right to\nrename it if you want to.\n\n380\n00:17:49.670 --> 00:17:52.230\nI think for company I went ahead and\njust left it as company.\n\n381\n00:17:52.230 --> 00:17:56.350\nBut I could have called it\nITPRO.TV Company or something like that.\n\n382\n00:17:56.350 --> 00:17:57.400\nIt would be up to me to decide.\n\n383\n00:17:57.400 --> 00:17:59.600\nSo you may or may not chose to name this.\n\n384\n00:17:59.600 --> 00:18:03.320\nThat will be up to you But\nif you add a suggested value, right?\n\n385\n00:18:03.320 --> 00:18:06.530\nThen you do have to provide a value and\na display name for that value.\n\n386\n00:18:06.530 --> 00:18:08.060\nSo, you will have to provide that.\n\n387\n00:18:08.060 --> 00:18:10.040\nWe are gonna add that value here.\n\n388\n00:18:10.040 --> 00:18:11.710\nBut typically, for display name,\nyou leave that alone.\n\n389\n00:18:11.710 --> 00:18:13.320\nYou don't modify the display name.\n\n390\n00:18:13.320 --> 00:18:14.290\nSo, I'm gonna go ahead.\n\n391\n00:18:14.290 --> 00:18:14.960\nI'm gonna add this in.\n\n392\n00:18:14.960 --> 00:18:18.030\nFor department, let's say, I don't know,\nwhat's your favorite department?\n\n393\n00:18:18.030 --> 00:18:19.370\nHR, sales, marketing, or what?\n\n394\n00:18:19.370 --> 00:18:22.760\nI thought you meant like shoes or\ncosmetics.\n\n395\n00:18:22.760 --> 00:18:23.260\nNo.\n\n396\n00:18:24.450 --> 00:18:25.960\nOkay.\nI did not, but\n\n397\n00:18:25.960 --> 00:18:28.150\nit could be but not what we were thinking.\n\n398\n00:18:28.150 --> 00:18:28.820\nHR yeah, yeah.\n\n399\n00:18:28.820 --> 00:18:35.000\nHR no problem so we'll do HR, so let's\njust type in HR for our value here right?\n\n400\n00:18:35.000 --> 00:18:39.109\nAnd for display name, right,\nwe may decide to put human resources for\n\n401\n00:18:39.109 --> 00:18:43.286\nour display name instead of HR,\ncould put HR it'd be up to us to decide so\n\n402\n00:18:43.286 --> 00:18:44.977\nlet's do HumanResources.\n\n403\n00:18:46.866 --> 00:18:52.150\nA little bit more formal there if we\nchoose to, no spaces by the way I'm sorry.\n\n404\n00:18:52.150 --> 00:18:54.820\nNo, this one already exists,\nalright, so, that's the issue there.\n\n405\n00:18:54.820 --> 00:18:57.170\nYou could pick another department or\njust to display it.\n\n406\n00:18:57.170 --> 00:18:58.940\nLet's do HR.\n\n407\n00:18:58.940 --> 00:18:59.900\nOk.\nHR doesn't exist,\n\n408\n00:18:59.900 --> 00:19:02.210\nhuman resources does so we'll just do HR.\n\n409\n00:19:02.210 --> 00:19:03.090\nSo we have that, right?\n\n410\n00:19:03.090 --> 00:19:04.770\nSo we can put it in.\n\n411\n00:19:04.770 --> 00:19:05.440\nLet's click okay.\n\n412\n00:19:07.060 --> 00:19:11.220\nAlright, so we just scroll down as you can\nsee there on the list before we enable it.\n\n413\n00:19:11.220 --> 00:19:15.200\nAnd down here I didn't scroll all\nthe way down or I would have seen it.\n\n414\n00:19:15.200 --> 00:19:19.060\nHuman resources is actually right there,\nright, so we could see it there already.\n\n415\n00:19:19.060 --> 00:19:20.510\nBut HR is there as well, right, so\n\n416\n00:19:20.510 --> 00:19:24.180\nwe have all the standard departments that\nwould normally exist in those systems.\n\n417\n00:19:24.180 --> 00:19:25.870\nRight so we've that, we've added that in,\n\n418\n00:19:25.870 --> 00:19:29.280\nnow that we've added it in what we're\ngonna do is just go ahead and enable this.\n\n419\n00:19:29.280 --> 00:19:31.230\nSo let me just extend this out so\n\n420\n00:19:31.230 --> 00:19:34.080\nyou can see this at the bottom here\nI could just go full screen, so\n\n421\n00:19:34.080 --> 00:19:36.830\nI'm kind of hovering over the OK\nbutton just so you could see it.\n\n422\n00:19:36.830 --> 00:19:38.650\nSo let me just come down here.\n\n423\n00:19:38.650 --> 00:19:40.660\nScroll down to the bottom.\n\n424\n00:19:40.660 --> 00:19:41.280\nAnd there we go.\n\n425\n00:19:41.280 --> 00:19:42.670\nYeah.\nScroll down and click OK.\n\n426\n00:19:42.670 --> 00:19:46.340\nAnd then, still not enabled.\n\n427\n00:19:46.340 --> 00:19:49.500\nSo then what we're gonna do is just\nright click and choose a name.\n\n428\n00:19:49.500 --> 00:19:51.130\nOkay, so we'll change that.\n\n429\n00:19:51.130 --> 00:19:54.690\nThat has the icon change, so\nanother resource property is enabled and\n\n430\n00:19:54.690 --> 00:19:55.700\navailable for us.\n\n431\n00:19:55.700 --> 00:19:57.508\nSo now we can add the resource property.\n\n432\n00:19:57.508 --> 00:20:02.440\nA two-hour,\n[COUGH] global resource property list.\n\n433\n00:20:02.440 --> 00:20:05.200\nWe're gonna do that as kind of step three,\nright?\n\n434\n00:20:05.200 --> 00:20:07.170\nWe've added our claim type, step one.\n\n435\n00:20:07.170 --> 00:20:11.285\nAdded our resource property, step two,\nedited, modified Existing one.\n\n436\n00:20:11.285 --> 00:20:12.005\nStep two, step three.\n\n437\n00:20:12.005 --> 00:20:13.705\nWe're going to add that to\nour global property list.\n\n438\n00:20:13.705 --> 00:20:15.125\nSo, let's go in and do that.\n\n439\n00:20:15.125 --> 00:20:16.675\nSo what we're going to\ndo is come over here.\n\n440\n00:20:16.675 --> 00:20:18.755\nLet's go back to our pick list.\n\n441\n00:20:18.755 --> 00:20:22.035\nResource property list is now here for\nthe container.\n\n442\n00:20:22.035 --> 00:20:23.435\nSo we're going to go here.\n\n443\n00:20:23.435 --> 00:20:24.745\nSo let's just click on that.\n\n444\n00:20:24.745 --> 00:20:26.845\nWe'll add that or add it in here.\n\n445\n00:20:26.845 --> 00:20:31.015\nYou can see that I have my IT PRO TV\nlist that's there from my existing demo\n\n446\n00:20:31.015 --> 00:20:34.760\nenvironment that I built out to show\nyou the output of this start to finish.\n\n447\n00:20:34.760 --> 00:20:37.610\nSo I'm gonna create another one of\nthese essentially is what I'm gonna do.\n\n448\n00:20:37.610 --> 00:20:41.600\nSo I'm gonna right-click New,\nResource Property List.\n\n449\n00:20:43.080 --> 00:20:43.780\nGive it a name.\n\n450\n00:20:43.780 --> 00:20:48.605\nSo I'll call mine HR List because\nthat's what I'm What I'm doing right?\n\n451\n00:20:48.605 --> 00:20:53.835\nSo I can do a HR list, and then protect\nfrom accidental deletion, fine.\n\n452\n00:20:53.835 --> 00:20:55.505\nGo ahead in here, resource properties.\n\n453\n00:20:55.505 --> 00:20:56.615\nSo I've got to come over here and\n\n454\n00:20:56.615 --> 00:20:59.615\nadd the resource property,\nthe properties that I want to use.\n\n455\n00:20:59.615 --> 00:21:03.255\nRemember I have a company,\nI have a department,\n\n456\n00:21:03.255 --> 00:21:05.775\nI have a whole list of them but\nI've added company department and\n\n457\n00:21:05.775 --> 00:21:08.490\nenabled those two to work with\nthe ones that are enabled.\n\n458\n00:21:08.490 --> 00:21:10.310\nSo you get the idea what I'm\nprobably gonna do here, right?\n\n459\n00:21:10.310 --> 00:21:13.065\nI'm gonna click add and\nI'm gonna choose company.\n\n460\n00:21:13.065 --> 00:21:14.650\nAdd that over.\n\n461\n00:21:14.650 --> 00:21:17.020\nJust double click departments.\n\n462\n00:21:17.020 --> 00:21:19.150\nWhatever I wanna do put them over there.\n\n463\n00:21:19.150 --> 00:21:19.680\nClick OK.\n\n464\n00:21:19.680 --> 00:21:21.660\nAdd them in here.\n\n465\n00:21:21.660 --> 00:21:24.523\nOnce I'm done,\nI'm gonna click OK down here.\n\n466\n00:21:24.523 --> 00:21:31.300\nAnd now, I've got my HR list and\nmy ITProTV1 list.\n\n467\n00:21:31.300 --> 00:21:32.980\nLet's extend that out right there.\n\n468\n00:21:32.980 --> 00:21:34.390\nResource property list, right, so\n\n469\n00:21:34.390 --> 00:21:38.850\nthat I have now added my [COUGH] resource\nproperties into my global resource\n\n470\n00:21:38.850 --> 00:21:42.560\nproperty list, which will then allow\nme to be able to leverage those.\n\n471\n00:21:43.990 --> 00:21:46.630\nAnd the global one is the out\nof the box one, by the way.\n\n472\n00:21:46.630 --> 00:21:47.930\nI'm just creating some additional ones.\n\n473\n00:21:47.930 --> 00:21:49.140\nBut I can add them anywhere.\n\n474\n00:21:49.140 --> 00:21:50.288\nI just chose to create my own.\n\n475\n00:21:50.288 --> 00:21:53.330\nBut you could see the global\nresource property was right up here,\n\n476\n00:21:53.330 --> 00:21:54.870\nwhich is the one that's\nthere out of the box,\n\n477\n00:21:54.870 --> 00:21:58.230\nso that I can use as my standard one\nunless I want to apply a different one.\n\n478\n00:21:58.230 --> 00:22:02.480\nKind of a default out of the box as it's\nactually identified right here, right?\n\n479\n00:22:02.480 --> 00:22:04.740\nSo I can use that that\nhas all the properties.\n\n480\n00:22:04.740 --> 00:22:07.080\nOr I can create a subdivide of\nwhat's really narrowly defined for\n\n481\n00:22:07.080 --> 00:22:08.010\nwhat I wanna do.\n\n482\n00:22:08.010 --> 00:22:08.852\nTypically, when I do this,\n\n483\n00:22:08.852 --> 00:22:12.210\nI'll create subdivider list specific\nto you the policies I wanna create.\n\n484\n00:22:12.210 --> 00:22:15.460\nBut you could just create a catch all\ncontainer, throw them all in there.\n\n485\n00:22:15.460 --> 00:22:16.920\nBut then, you're referencing it for\neverything, right?.\n\n486\n00:22:16.920 --> 00:22:18.675\nSo it's a little bit more involved.\n\n487\n00:22:18.675 --> 00:22:20.840\nIt's got more stuff than\nprobably what you want.\n\n488\n00:22:20.840 --> 00:22:23.660\nMy list here just has\nthe two specific claims and\n\n489\n00:22:23.660 --> 00:22:26.150\nI am gonna use the two properties,\nright, rather not that you claim.\n\n490\n00:22:26.150 --> 00:22:27.902\nSo that's gonna be easier for\nus to process and ultimately walk though.\n\n491\n00:22:27.902 --> 00:22:28.450\nIt's quicker for us.\n\n492\n00:22:28.450 --> 00:22:34.030\nWhich, what the HR department and- Well,\ndepartment and their company.\n\n493\n00:22:34.030 --> 00:22:34.580\nCompany, okay, yeah.\n\n494\n00:22:34.580 --> 00:22:37.903\nIf we just label the department value,\nHR, but just department and\n\n495\n00:22:37.903 --> 00:22:39.200\ncompany that we created.\n\n496\n00:22:39.200 --> 00:22:40.710\nSo we have our list here.\n\n497\n00:22:40.710 --> 00:22:43.780\nSo now that we've done this,\nlet's go ahead and\n\n498\n00:22:43.780 --> 00:22:45.755\nlet's create a new central access rule.\n\n499\n00:22:45.755 --> 00:22:47.560\nCuz remember, we're gonna create a rule.\n\n500\n00:22:47.560 --> 00:22:49.070\nAnd then the rule is gonna be rolled up,\none or\n\n501\n00:22:49.070 --> 00:22:51.150\nmore of them,\ninto a central access policy.\n\n502\n00:22:51.150 --> 00:22:53.060\nSo we're now going to create a rule.\n\n503\n00:22:53.060 --> 00:22:57.660\nSo let's go over here,\ngo back to our little pick-list.\n\n504\n00:22:57.660 --> 00:23:01.560\nI'll do a central access rule, start with\nthe rule and then we'll do our policy.\n\n505\n00:23:01.560 --> 00:23:05.380\nSo you can see that I do have my first\nrule there, the one I already created.\n\n506\n00:23:05.380 --> 00:23:07.290\nI keep pro TV par one,\n\n507\n00:23:07.290 --> 00:23:11.100\ncentral access rule one I'm gonna\nright-click, create a new rule.\n\n508\n00:23:11.100 --> 00:23:12.270\nCentral Access Rule.\n\n509\n00:23:13.350 --> 00:23:15.410\nSo I have to give it a name.\n\n510\n00:23:15.410 --> 00:23:16.300\nCAR 2?\n\n511\n00:23:16.300 --> 00:23:18.190\nYeah, ITPROTV CAR 2.\n\n512\n00:23:18.190 --> 00:23:18.900\nNo problem.\n\n513\n00:23:21.735 --> 00:23:24.175\nSo we'll do ITProTV CAR.\n\n514\n00:23:24.175 --> 00:23:26.085\nCAR, central access rule, right.\n\n515\n00:23:26.085 --> 00:23:28.725\nSo CAR 2,\na little description if we choose to.\n\n516\n00:23:28.725 --> 00:23:32.105\nProtect from accidental deletion,\ntarget resources and permissions.\n\n517\n00:23:32.105 --> 00:23:34.740\nSo let's go in under target resources.\n\n518\n00:23:34.740 --> 00:23:37.630\nLet's just edit here and\nyou'll see, and we'll click on\n\n519\n00:23:37.630 --> 00:23:41.199\nthe edit button right over there, just so\nyou can see, central access rule.\n\n520\n00:23:41.199 --> 00:23:45.370\nAdd a condition to specify resources\nthis CAR, central access rule,\n\n521\n00:23:45.370 --> 00:23:49.370\nwill apply or applies to.\n\n522\n00:23:49.370 --> 00:23:51.240\nAnd any additional restrictions\nthat you wanna apply.\n\n523\n00:23:51.240 --> 00:23:54.380\nIf you do not specify, this rule\nwill be applied to all resources.\n\n524\n00:23:54.380 --> 00:23:57.851\nMeaning, if you don't put something in\nhere, we'll apply the rule to everything.\n\n525\n00:23:57.851 --> 00:24:00.788\nYou put something in here will\nessentially filter the rule and\n\n526\n00:24:00.788 --> 00:24:03.111\napply it based on what\nyou're going to specify.\n\n527\n00:24:03.111 --> 00:24:08.242\nSo we're gonna go in And we are going to\n[COUGH] either decide here to click add\n\n528\n00:24:08.242 --> 00:24:13.536\na condition and then you'll see, I can\nadd a couple of them just to see kinda,\n\n529\n00:24:13.536 --> 00:24:16.737\nstack them up, manage the grouping, right.\n\n530\n00:24:16.737 --> 00:24:20.532\nSo we can put two together, we'd probably\nput two of them because we have remember\n\n531\n00:24:20.532 --> 00:24:24.218\nboth department and company, right, for\nour new one that we're creating, so\n\n532\n00:24:24.218 --> 00:24:25.720\nyou may wanna stack a couple up.\n\n533\n00:24:25.720 --> 00:24:30.483\nSo we could say here our resource as you\ncan see, right, company, and or department\n\n534\n00:24:30.483 --> 00:24:34.709\ncuz we published, remember, both of\nthose as properties that we can use,\n\n535\n00:24:34.709 --> 00:24:39.541\nwe've enabled both of them so which one we\nput in which order doesn't really matter,\n\n536\n00:24:39.541 --> 00:24:42.456\nbut we're gonna wanna probably use both,\nright?\n\n537\n00:24:42.456 --> 00:24:44.759\nSo whether we start with company and\nthen department or\n\n538\n00:24:44.759 --> 00:24:46.620\ndepartment then company doesn't matter.\n\n539\n00:24:46.620 --> 00:24:49.365\nProbably wanna do company first cuz we're\nnot in the right company department which\n\n540\n00:24:49.365 --> 00:24:50.227\nis probably irrelevant.\n\n541\n00:24:50.227 --> 00:24:51.920\nWhat's the point of searching, yeah.\n\n542\n00:24:51.920 --> 00:24:58.120\nSo we'll do company, how are gonna specify\nthat equal to, any of, exists, not any of,\n\n543\n00:24:58.120 --> 00:25:03.570\nnot equal to, not exist meaning I could do\nequals value of, and I could say ITProTV.\n\n544\n00:25:03.570 --> 00:25:05.198\nOr I could say exists,\n\n545\n00:25:05.198 --> 00:25:09.924\nright, and if I do exists you'll\nsee it just simply stops right?\n\n546\n00:25:09.924 --> 00:25:11.817\nThe company attribute\nessentially is populated there.\n\n547\n00:25:11.817 --> 00:25:14.140\nSo basically if something\nis in that field.\n\n548\n00:25:14.140 --> 00:25:16.860\nRight now yeah again I can decide\nhow I wanna approach this.\n\n549\n00:25:16.860 --> 00:25:19.290\nI may wanna do something\nmore than just exists, so\n\n550\n00:25:19.290 --> 00:25:25.380\nI may wanna say specifically because\nmaybe I have more than one company.\n\n551\n00:25:25.380 --> 00:25:28.040\nPerhaps I work at a global company\nthat's got a lot of business units,\n\n552\n00:25:28.040 --> 00:25:31.110\nand all those business units may\nhave their own specific names.\n\n553\n00:25:31.110 --> 00:25:35.660\nAnd maybe we're using the company\nattribute in AD globally to\n\n554\n00:25:35.660 --> 00:25:39.200\nrepresent those different company business\nunits and we don't differentiate.\n\n555\n00:25:39.200 --> 00:25:43.640\nSo I may have a list of them that could\napply here and I wanna be prescriptive and\n\n556\n00:25:43.640 --> 00:25:44.230\ngo in and grab one.\n\n557\n00:25:44.230 --> 00:25:46.370\nSo I would have to set\nthis to equals a value and\n\n558\n00:25:46.370 --> 00:25:49.110\nthen specify the name string\nthat I wanna use right?\n\n559\n00:25:49.110 --> 00:25:52.260\nRight, so a equals value or\nresource, right.\n\n560\n00:25:52.260 --> 00:25:56.190\nFor value, you'll see I've already got\nITProTV there because I typed it in.\n\n561\n00:25:56.190 --> 00:25:59.390\nBut I could use that or\nuse something else, right.\n\n562\n00:25:59.390 --> 00:26:00.290\nIt'll would be up to me to decide.\n\n563\n00:26:00.290 --> 00:26:02.340\nSo let's just choose ITProTV.\n\n564\n00:26:02.340 --> 00:26:05.770\nAnd, then,\nresource company instead of company.\n\n565\n00:26:05.770 --> 00:26:07.615\nLet's do department, again equals.\n\n566\n00:26:07.615 --> 00:26:08.205\nEquals.\n\n567\n00:26:08.205 --> 00:26:09.140\nValue, right.\nHR.\n\n568\n00:26:09.140 --> 00:26:12.320\nAnd you'll notice all the different\ncompanies are on the list, right?\n\n569\n00:26:12.320 --> 00:26:15.450\nI added HR specifically\nseparate from human resources.\n\n570\n00:26:15.450 --> 00:26:17.180\nSo we know that one is ours.\n\n571\n00:26:17.180 --> 00:26:18.740\nSo I could choose that one.\n\n572\n00:26:18.740 --> 00:26:19.750\nSo I've got both of those.\n\n573\n00:26:19.750 --> 00:26:23.280\nAnd it's an AND meaning both of\nthese conditions must be met.\n\n574\n00:26:23.280 --> 00:26:25.890\nBut I can change that,\nand I can do an OR, right?\n\n575\n00:26:25.890 --> 00:26:27.640\nI can do this or that.\n\n576\n00:26:27.640 --> 00:26:31.280\nSo a company or a department or\nI do company and department.\n\n577\n00:26:31.280 --> 00:26:32.347\nVery prescriptive or\n\n578\n00:26:32.347 --> 00:26:36.452\nleaving it open a little bit to give me\nsome room to breath so to speak right?\n\n579\n00:26:36.452 --> 00:26:39.720\nAll right so let's do our AND there\nwe'll just specify that, let's click OK.\n\n580\n00:26:39.720 --> 00:26:41.170\nAnd by the way if I make a mistake,\n\n581\n00:26:41.170 --> 00:26:43.710\nobviously I can remove something,\ngo back and in and change.\n\n582\n00:26:43.710 --> 00:26:44.300\nRight?\n\n583\n00:26:44.300 --> 00:26:46.400\nAll right, so click OK.\n\n584\n00:26:46.400 --> 00:26:49.820\nSo, I've got that there, it kinda\ncreates logic in the string for me so\n\n585\n00:26:49.820 --> 00:26:51.800\nwe can see what that looks like.\n\n586\n00:26:51.800 --> 00:26:53.300\nLet's just scroll down.\n\n587\n00:26:53.300 --> 00:26:55.600\nAnd them down here I have permissions, and\n\n588\n00:26:55.600 --> 00:26:58.040\nI can use the following\npermissions as proposed.\n\n589\n00:26:58.040 --> 00:27:01.650\nOr use the following permissions as\ncurrent, it's up to us to decide.\n\n590\n00:27:01.650 --> 00:27:07.190\nWhen I go in and I decide that I wanna use\nthe following permissions as proposed,\n\n591\n00:27:07.190 --> 00:27:08.990\nif you take a look and just read here.\n\n592\n00:27:08.990 --> 00:27:12.390\nEssentially what this will\ndo is audit the results and\n\n593\n00:27:12.390 --> 00:27:16.350\nwill give me information, put some stuff\nin the event log is part of that but\n\n594\n00:27:16.350 --> 00:27:17.900\ndoes not affect the current system.\n\n595\n00:27:17.900 --> 00:27:20.720\nMeaning doesn't actually modify anything,\njust audits and\n\n596\n00:27:20.720 --> 00:27:22.670\nshows me what the outcome would be.\n\n597\n00:27:22.670 --> 00:27:26.620\nProposed means essentially that\nwhat if result instead of policy.\n\n598\n00:27:26.620 --> 00:27:28.040\nShow me what will happen.\n\n599\n00:27:28.040 --> 00:27:30.840\nLet me have visibility, but\ndon't actually make a change.\n\n600\n00:27:30.840 --> 00:27:33.990\nWhereas if I choose use following\npermissions as current,\n\n601\n00:27:33.990 --> 00:27:35.000\nit's gonna go ahead.\n\n602\n00:27:35.000 --> 00:27:38.960\nThe setting will grant access to target\nresources once the car policy or\n\n603\n00:27:38.960 --> 00:27:41.420\ncentral access policy, rather,\ncontaining the rule is published.\n\n604\n00:27:41.420 --> 00:27:44.630\nMeaning, once I take the rule,\nroll it into a policy, publish it,\n\n605\n00:27:44.630 --> 00:27:48.240\nit will then apply and permissions will\nget modified and essentially change.\n\n606\n00:27:48.240 --> 00:27:49.880\nSo, we have to decide how to do this.\n\n607\n00:27:49.880 --> 00:27:52.280\nSo, if I choose use following\npermissions as current.\n\n608\n00:27:52.280 --> 00:27:54.617\nPlease go to full screen just cuz\nthe button's right behind me,\n\n609\n00:27:54.617 --> 00:27:55.537\nI wanna to show you that.\n\n610\n00:27:55.537 --> 00:27:59.580\nSo then what I need to do,\nis I may go in here to edit.\n\n611\n00:27:59.580 --> 00:28:06.090\nBecause, you could see by default, I've\ngot three sets of allow permissions here.\n\n612\n00:28:06.090 --> 00:28:11.540\nI have the owner rights, the domain admin,\nand I have a system, right, full control.\n\n613\n00:28:11.540 --> 00:28:15.330\nBut normally, what we have to do\nto actually work with users, and\n\n614\n00:28:15.330 --> 00:28:19.460\nI showed you this in the outcome when I\nwent in and I demoed in the first episode.\n\n615\n00:28:19.460 --> 00:28:22.310\nI jumped into that tab and I said okay,\nlet me show you what the effect would be,\n\n616\n00:28:22.310 --> 00:28:26.790\nand I showed you authenticated users was\nbeing granted read and read execute.\n\n617\n00:28:26.790 --> 00:28:30.490\nAnd I said that's because they're\na member of the ITPro.TV company\n\n618\n00:28:30.490 --> 00:28:35.030\nbased on my claim and\nmy CAR that I use, right?\n\n619\n00:28:35.030 --> 00:28:38.770\nMy access rule, my central access rule,\nand my CAP, my Central Access Policy.\n\n620\n00:28:38.770 --> 00:28:39.840\nAnd the properties.\n\n621\n00:28:39.840 --> 00:28:41.270\nNow you're seeing all the pieces.\n\n622\n00:28:41.270 --> 00:28:45.440\nSo in order to be able to apply that, what\nI typically have to do is come in here and\n\n623\n00:28:45.440 --> 00:28:47.610\ngo to add and\nI have to select the principle.\n\n624\n00:28:47.610 --> 00:28:50.260\nSelect a principle just\nmeans choose the user or\n\n625\n00:28:50.260 --> 00:28:51.820\nthe group that you're going to apply here.\n\n626\n00:28:51.820 --> 00:28:53.530\nWe're gonna do authenticated users.\n\n627\n00:28:53.530 --> 00:28:55.650\nAs our group that's the principle.\n\n628\n00:28:55.650 --> 00:28:57.552\nSo select the principle.\n\n629\n00:28:57.552 --> 00:29:00.150\nAnd then you'll just type in the name\nof the group that we wanna have here.\n\n630\n00:29:00.150 --> 00:29:05.190\nSo authenticated,\nspell that correctly of course, authentic.\n\n631\n00:29:05.190 --> 00:29:06.750\nDon't even have to spell the whole thing.\n\n632\n00:29:07.790 --> 00:29:09.140\nAnd then just choose.\n\n633\n00:29:10.520 --> 00:29:14.550\nI want authenticated user so\nchoose the appropriate group, click okay.\n\n634\n00:29:14.550 --> 00:29:18.480\nAnd then how we got those permissions\nis I accepted the default permission,\n\n635\n00:29:18.480 --> 00:29:19.870\nwhich was read readerSQ.\n\n636\n00:29:19.870 --> 00:29:23.390\nBut I can obviously add whatever\npermission I want in here.\n\n637\n00:29:23.390 --> 00:29:27.680\nWhatever it maybe,\njust check off the appropriate one, right?\n\n638\n00:29:27.680 --> 00:29:29.110\nWhatever permission I want or\n\n639\n00:29:29.110 --> 00:29:33.660\nneed, you can notice that in\norder to get modify, right?\n\n640\n00:29:33.660 --> 00:29:37.930\nI do need write, whereas I don't\nneed modify to sign write, but\n\n641\n00:29:37.930 --> 00:29:40.490\nif I want modify I must\nhave write available.\n\n642\n00:29:40.490 --> 00:29:44.090\nSo, it has the logic built in what\npermission and it sees exist and\n\n643\n00:29:44.090 --> 00:29:45.060\nthat kind of thing.\n\n644\n00:29:45.060 --> 00:29:48.000\nAnd so, I'll specify all those,\nwhatever they are, right.\n\n645\n00:29:48.000 --> 00:29:48.890\nAnd so I've got that,\n\n646\n00:29:48.890 --> 00:29:52.440\nand then I can add a condition to\nlimit access, as well, on here.\n\n647\n00:29:52.440 --> 00:29:54.820\nI already have a condition,\nbut I could add another one.\n\n648\n00:29:54.820 --> 00:29:57.902\nSays, the principles will be granted\nthe specified permissions only if\n\n649\n00:29:57.902 --> 00:29:58.820\nconditions are met.\n\n650\n00:29:58.820 --> 00:30:03.791\nSo I could add another condition here,\nso for instance, user, right, device or\n\n651\n00:30:03.791 --> 00:30:04.520\nresource.\n\n652\n00:30:04.520 --> 00:30:06.570\nRemember we talked about three\ndifferent areas we can work with.\n\n653\n00:30:06.570 --> 00:30:07.190\nYep.\n\n654\n00:30:07.190 --> 00:30:07.900\nOur three claims.\n\n655\n00:30:07.900 --> 00:30:13.260\nSo user, right, group, department,\ncompany, whichever one I want here.\n\n656\n00:30:13.260 --> 00:30:14.350\nSo I could do company.\n\n657\n00:30:16.010 --> 00:30:19.330\nEquals, and I could specify the value or\nI could say,\n\n658\n00:30:19.330 --> 00:30:24.050\ngroup Member of each value,\nclick to add items, right.\n\n659\n00:30:24.050 --> 00:30:27.400\nOr click add items, rather, so I could\nspecify they will have to be a member of\n\n660\n00:30:27.400 --> 00:30:29.690\na certain group before\nI give them this right.\n\n661\n00:30:29.690 --> 00:30:33.750\nMaybe they're a member of domain guests,\nnot that you would do that.\n\n662\n00:30:33.750 --> 00:30:35.050\nThat doesn't make sense in the real world.\n\n663\n00:30:35.050 --> 00:30:37.710\nBut you get the idea, just another\ngroup they have to be a member of\n\n664\n00:30:37.710 --> 00:30:41.540\nbefore I give them authenticated rights\nthrough the authenticated users group.\n\n665\n00:30:41.540 --> 00:30:44.850\nSo I could add another condition,\njust another group membership perhaps.\n\n666\n00:30:44.850 --> 00:30:46.140\nOr I could say.\n\n667\n00:30:48.010 --> 00:30:50.430\nCompany and then we said already\nequals value, right, and\n\n668\n00:30:50.430 --> 00:30:51.980\nI could type the value in there.\n\n669\n00:30:51.980 --> 00:30:55.380\nThat's where I can put in ABC core or\nITPro.TV or\n\n670\n00:30:55.380 --> 00:30:58.550\nwhatever the company name would be,\nwhatever condition I wanna add.\n\n671\n00:30:58.550 --> 00:31:03.370\nSo I can add conditions in here if I\nchoose to to further restrict or further\n\n672\n00:31:03.370 --> 00:31:08.420\ndefine my access grant, scoping and\ntailoring as I go and I'm allowing, right?\n\n673\n00:31:08.420 --> 00:31:10.360\nThis is type allow, right?\n\n674\n00:31:10.360 --> 00:31:11.950\nI'm granting permissions here, right?\n\n675\n00:31:11.950 --> 00:31:13.240\nJust to show you what we're doing.\n\n676\n00:31:13.240 --> 00:31:15.080\nSo I'm gonna click okay.\n\n677\n00:31:15.080 --> 00:31:18.250\nSo I've added authenticated users,\nread and write, right?\n\n678\n00:31:18.250 --> 00:31:21.510\nWhen I did mine and I did the demo\non the very first episode where\n\n679\n00:31:21.510 --> 00:31:23.690\nI showed you the authenticated\nusers permission and\n\n680\n00:31:23.690 --> 00:31:28.270\nbelow it had in parenthesis you must\nbe a member ITPro.TV as the company.\n\n681\n00:31:28.270 --> 00:31:31.670\nBecause I went in and I added\na condition on this field and I said\n\n682\n00:31:31.670 --> 00:31:35.820\ncompany equals ITPro.TV that's where\nthat little parenthesis entry came from.\n\n683\n00:31:35.820 --> 00:31:38.565\nSo if you don't add that you'll just\nsee the user with the permission or\n\n684\n00:31:38.565 --> 00:31:40.258\nin this case the group\nwith the permission,\n\n685\n00:31:40.258 --> 00:31:42.434\nyou won't see the additional\ninformation dangled up.\n\n686\n00:31:42.434 --> 00:31:47.097\nSo I'll go ahead and\nI'll add this in click apply, click OK.\n\n687\n00:31:47.097 --> 00:31:51.771\nAnd so we've added our permission or\nspecific grant associated with our central\n\n688\n00:31:51.771 --> 00:31:56.800\naccess rule and our resource specification\nup here for how we wanna get there, right?\n\n689\n00:31:56.800 --> 00:31:57.890\nSo we've got all this.\n\n690\n00:31:57.890 --> 00:31:59.300\nWe're gonna click OK at the bottom here.\n\n691\n00:31:59.300 --> 00:32:01.080\nYou don't have to see me do that.\n\n692\n00:32:01.080 --> 00:32:03.186\nJust know that's the button I\njust clicked right at the bottom.\n\n693\n00:32:03.186 --> 00:32:06.930\nSo we've gone ahead and we've done a claim\ntype, done our resource properties,\n\n694\n00:32:06.930 --> 00:32:08.787\nadded them to a resource property list.\n\n695\n00:32:08.787 --> 00:32:10.987\nWe've created our central access rule.\n\n696\n00:32:10.987 --> 00:32:11.977\nWe're not done yet though.\n\n697\n00:32:11.977 --> 00:32:14.382\nWe've done four things out of\nthe five that have to happen.\n\n698\n00:32:14.382 --> 00:32:18.251\nWe have to roll that central access\nrule into a central access policy.\n\n699\n00:32:18.251 --> 00:32:21.120\nSo we're gonna take that rule and\nnow create a central acces policy.\n\n700\n00:32:21.120 --> 00:32:26.890\nSo, let's come back here, go to our\ncentral access policies right here.\n\n701\n00:32:26.890 --> 00:32:30.459\nAnd again, you can see I've got my\noriginal policy that I created initially\n\n702\n00:32:30.459 --> 00:32:32.147\njust to start out with ITPro Cap1.\n\n703\n00:32:32.147 --> 00:32:35.180\nWe'll create on called ITPro Cap2,\nvery simple.\n\n704\n00:32:35.180 --> 00:32:41.676\nSo we'll right-click &gt; click New &gt; Central\nAccess Policy, again give it a name.\n\n705\n00:32:45.484 --> 00:32:49.870\nSo ITPRO Cap 2, description, and then all\nI have to do is add the central access\n\n706\n00:32:49.870 --> 00:32:54.560\nrule or rules it's all we're doing, and\none or more depending on what we're doin.\n\n707\n00:32:54.560 --> 00:32:57.980\nSo we'll just click Add, we're just gonna\nadd our rule that we've just created.\n\n708\n00:32:57.980 --> 00:33:01.010\nSo we have two of them here,\nwe're doing CAP 2, so\n\n709\n00:33:01.010 --> 00:33:04.468\nwe'll do CAT 2 because we did cap 2,\nso we'll do cap 2.\n\n710\n00:33:04.468 --> 00:33:07.122\nWe'll just add that from the list,\nyou could see there,\n\n711\n00:33:07.122 --> 00:33:10.110\navailable rules added over here, click OK.\n\n712\n00:33:10.110 --> 00:33:13.110\nSo that's now in here, right, nothing\nelse to do we're just gonna click OK\n\n713\n00:33:13.110 --> 00:33:15.210\nat the bottom It's the only\nthing you're missing behind.\n\n714\n00:33:15.210 --> 00:33:16.473\nMe it's just a little button and\nthen I click OK.\n\n715\n00:33:16.473 --> 00:33:19.760\nAnd then I have now created\nmy central access policy.\n\n716\n00:33:19.760 --> 00:33:22.090\nSo five steps so far in ADAC.\n\n717\n00:33:22.090 --> 00:33:24.940\nNow, it's actually six steps,\nshould have been a very first step.\n\n718\n00:33:24.940 --> 00:33:27.210\nWe talked about it,\nwe didn't bother to do it.\n\n719\n00:33:27.210 --> 00:33:29.770\nSo we spent three episodes prior\nto this one taking care of that.\n\n720\n00:33:29.770 --> 00:33:32.170\nWhich is make sure you've installed and\n\n721\n00:33:32.170 --> 00:33:35.120\nmake sure you installed configured and\nare using FSRM.\n\n722\n00:33:35.120 --> 00:33:38.070\nYou have your classification rules and\nall that stuff set up,\n\n723\n00:33:38.070 --> 00:33:40.000\nbecause if you [INAUDIBLE]\naway the classification rules,\n\n724\n00:33:40.000 --> 00:33:42.660\nwhich would have been episode one,\nif I'm not mistaken.\n\n725\n00:33:42.660 --> 00:33:43.990\nWe did classification rules.\n\n726\n00:33:43.990 --> 00:33:48.130\nWe did the whole classified if it's\ngot the word finance in the notepad.\n\n727\n00:33:48.130 --> 00:33:52.047\nSo you want to have the classification\nrules set up and running because that's\n\n728\n00:33:52.047 --> 00:33:55.920\nhow we are gonna drive for the data we\nmay wanna classify to grant access to it.\n\n729\n00:33:55.920 --> 00:33:59.340\nSo step one is really let's\nhave that FSRM set up,\n\n730\n00:33:59.340 --> 00:34:01.450\nlet's have classification running there.\n\n731\n00:34:01.450 --> 00:34:06.400\nThen we go in and we do the five steps\nwe've just engaged in here in the ADAC\n\n732\n00:34:06.400 --> 00:34:10.295\nsolution to be able to set up\nthe back end architecture and\n\n733\n00:34:10.295 --> 00:34:12.344\nall the moving parts for DAC.\n\n734\n00:34:12.344 --> 00:34:15.642\nWe are gonna come back in another\nepisode and when we do that,\n\n735\n00:34:15.642 --> 00:34:20.181\nwe're going to take what we did here, and\nwe're now going to step outside of ADAC.\n\n736\n00:34:20.181 --> 00:34:21.957\nWe're gonna go into the group policy area,\n\n737\n00:34:21.957 --> 00:34:24.780\ngonna deal with the aspects of\ngroup policy that have to be done.\n\n738\n00:34:24.780 --> 00:34:28.840\nThe Kerberos armory, and\nsupport for KDC, issuance and\n\n739\n00:34:28.840 --> 00:34:30.560\nusage of the central access policy.\n\n740\n00:34:30.560 --> 00:34:32.404\nSo we'll take a look at how to do that,\n\n741\n00:34:32.404 --> 00:34:36.105\nI've actually got all those policies\njust kind of teed up ready to go for us.\n\n742\n00:34:36.105 --> 00:34:38.416\nSo we'll come back, we'll demo that piece,\n\n743\n00:34:38.416 --> 00:34:41.740\nand then we'll wrap this together and\nput it to bed so to speak.\n\n744\n00:34:41.740 --> 00:34:45.320\nBy showing you how once these policies get\napplied and refreshed, we see the output,\n\n745\n00:34:45.320 --> 00:34:49.250\nwhich is the creation of that\ncentral policy tab that you saw.\n\n746\n00:34:49.250 --> 00:34:51.810\nAnd then we'll learn to apply\nthat [INAUDIBLE], okay.\n\n747\n00:34:51.810 --> 00:34:54.530\nAwesome, but what you didn't tell\nthem is you're going to be wearing\n\n748\n00:34:54.530 --> 00:34:57.220\nyour kerberos armor outfit.\n\n749\n00:34:57.220 --> 00:34:58.020\nYou're right, I didn't.\n\n750\n00:34:58.020 --> 00:34:59.680\nWhat does that even look like?\n\n751\n00:34:59.680 --> 00:35:00.873\nI don't know.\n[LAUGH] All right,\n\n752\n00:35:00.873 --> 00:35:01.917\nyou don't wanna miss it.\n\n753\n00:35:01.917 --> 00:35:03.463\nI guess when you come back.\n\n754\n00:35:03.463 --> 00:35:04.790\nYou'll have to tune in.\n\n755\n00:35:04.790 --> 00:35:05.980\nYou may actually see that.\n\n756\n00:35:05.980 --> 00:35:07.730\n[LAUGH] All right, sounds like a plan.\n\n757\n00:35:07.730 --> 00:35:08.830\nThank you for your time, Adam.\n\n758\n00:35:08.830 --> 00:35:10.140\nSure.\nAnd thank you for joining us.\n\n759\n00:35:10.140 --> 00:35:11.750\nBut we're gonna go ahead and sign out.\n\n760\n00:35:11.750 --> 00:35:13.230\nI've been your host, Cherokee Boose.\n\n761\n00:35:13.230 --> 00:35:14.640\nI am Adam Gordon.\n\n762\n00:35:14.640 --> 00:35:16.494\nSee you next time here at ITProTV.\n\n763\n00:35:16.494 --> 00:35:23.940\n[MUSIC]\n\n764\n00:35:23.940 --> 00:35:26.914\nThank you for watching ITProTV.\n\n",
          "vimeoId": "234904546"
        },
        {
          "description": "In this episode, Adam and Cherokee finish the configuration of DAC by completing the central access policy. Group policy is also used to configure KDC settings and access denied assistance. Adam demonstrates how to configure then test these settings.",
          "length": "2347",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-6-implement_fsrm_and_dac_pt6-092117-PGM.00_38_50_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-6-implement_fsrm_and_dac_pt6-092117-PGM.00_38_50_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-6-implement_fsrm_and_dac_pt6-092117-PGM.00_38_50_21.Still001-sm.jpg",
          "title": "Implement FSRM and DAC Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.221\nWelcome to ITProTV.\n\n2\n00:00:01.221 --> 00:00:05.507\nI'm your host, Don Pezet.\n\n3\n00:00:05.507 --> 00:00:06.478\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.478 --> 00:00:08.314\n[MUSIC]\n\n5\n00:00:08.314 --> 00:00:12.147\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.147 --> 00:00:15.493\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n7\n00:00:15.493 --> 00:00:17.539\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.539 --> 00:00:20.150\nIf you haven't checked out the previous\nepisode you might wannado that.\n\n9\n00:00:20.150 --> 00:00:23.420\nBecause in this show we'll be\npicking up right where we left off,\n\n10\n00:00:23.420 --> 00:00:27.053\ndoing a demonstration to show how to\nimplement Dynamic Access Control.\n\n11\n00:00:27.053 --> 00:00:30.370\nBack in the studios with us today we\nhave Microsoft expert, Mr. Adam Gordon.\n\n12\n00:00:30.370 --> 00:00:31.690\nHow's it going today, Adam?\n\n13\n00:00:31.690 --> 00:00:34.342\n&gt;&gt; Going well, going good.\nHopefully going well for you and for\n\n14\n00:00:34.342 --> 00:00:35.741\neverybody out there.\n\n15\n00:00:35.741 --> 00:00:37.554\nWe had, as Cherokee indicated,\n\n16\n00:00:37.554 --> 00:00:41.520\nleft off in kind of I'd say the last\nthird of our demonstration, right?\n\n17\n00:00:41.520 --> 00:00:43.893\nWe've been doing a fair\namount of stuff with DAC.\n\n18\n00:00:43.893 --> 00:00:47.569\nWe had two episodes we've done up\nuntil now where we've talked about how\n\n19\n00:00:47.569 --> 00:00:48.300\nDAC is set up.\n\n20\n00:00:48.300 --> 00:00:51.679\nKinda showed you the output at\nthe back-end of the process first,\n\n21\n00:00:51.679 --> 00:00:52.837\ngave you an overview.\n\n22\n00:00:52.837 --> 00:00:56.970\nThe last episode we walked through\nmost of the set up requirements.\n\n23\n00:00:56.970 --> 00:01:00.360\nDid everything that has to be done in the\nActive Directory Administrative Center,\n\n24\n00:01:00.360 --> 00:01:02.970\nin ADAC, to be able to set DAC up.\n\n25\n00:01:02.970 --> 00:01:04.792\nSo we'll just quickly remind\nyou what we did there.\n\n26\n00:01:04.792 --> 00:01:07.230\nBut we're gonna jump in where we left off,\n\n27\n00:01:07.230 --> 00:01:10.920\npick up with the group policy\naspects of DAC configuration.\n\n28\n00:01:10.920 --> 00:01:13.380\nThere's a couple of things that\nI talked about, at a high level,\n\n29\n00:01:13.380 --> 00:01:14.580\nthat we have to do there.\n\n30\n00:01:14.580 --> 00:01:17.487\nGot those policies teed up,\nwe'll take a look at those settings.\n\n31\n00:01:17.487 --> 00:01:22.250\nConfigure the KBC settings for Kerberos\narmoring and claims-based support.\n\n32\n00:01:22.250 --> 00:01:26.714\nAnd we have to go in and bind our\nCentral Access Policy to the machines or\n\n33\n00:01:26.714 --> 00:01:31.800\nto the users through the group policy that\nwe wanna be able to use and apply that.\n\n34\n00:01:31.800 --> 00:01:34.664\nSo we're gonna go in and\nset that part up as well.\n\n35\n00:01:34.664 --> 00:01:38.169\nAnd then we'll take a look at how\nwe actually see the outcome and\n\n36\n00:01:38.169 --> 00:01:39.900\nthe output of the DAC process.\n\n37\n00:01:39.900 --> 00:01:44.380\nWe'll be able to go to our\nclassifications tab on a sample folder.\n\n38\n00:01:44.380 --> 00:01:46.950\nSee our classifications\nthat we've created.\n\n39\n00:01:46.950 --> 00:01:50.990\nIf you remember, we were dealing with\ntwo claim types, or two claims, rather.\n\n40\n00:01:50.990 --> 00:01:53.656\nAnd two properties that we\nhad set up around them.\n\n41\n00:01:53.656 --> 00:01:56.645\nWe had used the company attribute, right?\n\n42\n00:01:56.645 --> 00:01:58.875\nAnd we had used-\n&gt;&gt; The HR department.\n\n43\n00:01:58.875 --> 00:02:01.685\nWell department, and\nthen HR was our value, right, for that.\n\n44\n00:02:01.685 --> 00:02:03.252\nSo we're gonna see those.\n\n45\n00:02:03.252 --> 00:02:07.359\nAnd then we'll be able to see how we\napply all that on the security tab\n\n46\n00:02:07.359 --> 00:02:11.340\nthrough the Central Access Policy\narea in the advanced setting.\n\n47\n00:02:11.340 --> 00:02:13.800\nSo were gonna go through it and\njust kinda wrap all that up.\n\n48\n00:02:13.800 --> 00:02:17.027\nAnd as if that wasn't enough, cuz we're\nalways looking to add value, we're gonna\n\n49\n00:02:17.027 --> 00:02:19.988\ntalk about something that Cherokee\nactually brought up in the last episode.\n\n50\n00:02:19.988 --> 00:02:23.219\nBut we kinda pushed the comment off to\nthe side a little bit and said, yeah,\n\n51\n00:02:23.219 --> 00:02:24.720\nthat's a great thought process.\n\n52\n00:02:24.720 --> 00:02:27.611\nBut we don't really do it at\nthis stage in the discussion.\n\n53\n00:02:27.611 --> 00:02:28.952\nWe're gonna come back to it and\n\n54\n00:02:28.952 --> 00:02:31.800\nwe're gonna talk about access-denied\nassistance and emails.\n\n55\n00:02:31.800 --> 00:02:35.886\nRemember you had asked about, hey, could\nwe use that to go to areas we're setting\n\n56\n00:02:35.886 --> 00:02:38.095\nup our claims and our access policies?\n\n57\n00:02:38.095 --> 00:02:42.395\nCould we generate an email, tell people\nwhat would happen if we deny them access.\n\n58\n00:02:42.395 --> 00:02:44.535\nAnd we said yeah, but not here, right?\n\n59\n00:02:44.535 --> 00:02:47.865\nAnd what I said is we're gonna\ncome back to it, kinda see it.\n\n60\n00:02:47.865 --> 00:02:50.933\nAnd so we're gonna take a look at\nsomething called access-denied assistance,\n\n61\n00:02:50.933 --> 00:02:53.245\nanother aspect of group policy\nthat we associate with this.\n\n62\n00:02:53.245 --> 00:02:58.215\nSo that if we have access denied, either\nbecause of a classification rule in FSRM,\n\n63\n00:02:58.215 --> 00:03:03.043\nremember we've talked about the file\nservice resource manager as being a prereq\n\n64\n00:03:03.043 --> 00:03:03.640\nfor DAC?\n\n65\n00:03:03.640 --> 00:03:06.170\nSo if we have it there,\nwe could set it up.\n\n66\n00:03:06.170 --> 00:03:10.327\nAnd we've talked about the classification\nrules and how we can do that in FSRM.\n\n67\n00:03:10.327 --> 00:03:12.320\nOr we could do it through group policy.\n\n68\n00:03:12.320 --> 00:03:13.840\nHowever, they become mutually exclusive.\n\n69\n00:03:13.840 --> 00:03:17.526\nAnd so that's one thing we didn't talk\nabout, which is we set it up in FSRM and\n\n70\n00:03:17.526 --> 00:03:18.910\nwe set it up in group policy.\n\n71\n00:03:18.910 --> 00:03:21.126\nAnd group policy settings\noverride the FSRM setting.\n\n72\n00:03:21.126 --> 00:03:24.231\nSo we're gonna take a look at that and\nsee how we can set that up through group\n\n73\n00:03:24.231 --> 00:03:27.790\npolicies, well, just to round out\nthe conversation around all this.\n\n74\n00:03:27.790 --> 00:03:28.697\n&gt;&gt; All right, sounds like a plan.\n\n75\n00:03:28.697 --> 00:03:30.018\nWhere are we gonna start?\n\n76\n00:03:30.018 --> 00:03:32.805\n&gt;&gt; I don't know, I just had the plan\nof telling us what we were gonna do.\n\n77\n00:03:32.805 --> 00:03:34.378\n&gt;&gt; [LAUGH]\n&gt;&gt; Now, that I did all that,\n\n78\n00:03:34.378 --> 00:03:36.860\nput it out of my head,\nI don't even know why we're here.\n\n79\n00:03:36.860 --> 00:03:38.228\nWho are you, strange person?\n\n80\n00:03:38.228 --> 00:03:39.928\n&gt;&gt; Well I know you've got the lab set up,\nready to go.\n\n81\n00:03:39.928 --> 00:03:41.337\nSo you do have a starting place in mind.\n\n82\n00:03:41.337 --> 00:03:41.851\n&gt;&gt; I do, I do.\n\n83\n00:03:41.851 --> 00:03:43.579\nSo what we're actually gonna do is,\ncause you and\n\n84\n00:03:43.579 --> 00:03:45.280\nI talked right before we came on for\nthe episode.\n\n85\n00:03:45.280 --> 00:03:48.940\nAnd I walked through and said, hey, what\ndid we do in the last discussion with DAC?\n\n86\n00:03:48.940 --> 00:03:50.582\nRemember, I rattled off everything?\n\n87\n00:03:50.582 --> 00:03:51.831\nAnd you said, well,\nthat's just like so much stuff.\n\n88\n00:03:51.831 --> 00:03:52.534\n&gt;&gt; That's a lot [LAUGH].\n\n89\n00:03:52.534 --> 00:03:54.004\n&gt;&gt; A lot of stuff to keep track of, right?\n\n90\n00:03:54.004 --> 00:03:56.965\nSo I thought it would be a good idea to\njust quickly remind you of what we did in\n\n91\n00:03:56.965 --> 00:03:59.133\nDAC just before we jump in\nthe group policy [INAUDIBLE].\n\n92\n00:03:59.133 --> 00:04:00.800\nSo join me here, if you will.\n\n93\n00:04:00.800 --> 00:04:02.530\nWe're gonna take a look at ADAC.\n\n94\n00:04:02.530 --> 00:04:07.172\nAnd that is, by the way,\nnot only a great coincidence DAC, ADAC.\n\n95\n00:04:07.172 --> 00:04:11.061\nBut I think the brains at Microsoft\nactually thought of that ahead of time and\n\n96\n00:04:11.061 --> 00:04:12.774\nput the acronym inside of there.\n\n97\n00:04:12.774 --> 00:04:14.688\nSo we're using ADAC, did you realize that?\n\n98\n00:04:14.688 --> 00:04:15.811\nWe're using ADAC to set up DAC.\n\n99\n00:04:15.811 --> 00:04:16.681\n&gt;&gt; But with a K.\n\n100\n00:04:16.681 --> 00:04:18.456\n&gt;&gt; It's like DAC squared.\n\n101\n00:04:18.456 --> 00:04:19.869\nNo, no, no, no, with a C twice.\n\n102\n00:04:19.869 --> 00:04:21.487\n&gt;&gt; Or a C, yeah, okay, yeah.\n&gt;&gt; Yeah, so it's like ADAC,\n\n103\n00:04:21.487 --> 00:04:25.025\nActive Directory Administrative Center,\nto set up DAC, Dynamic Access Control.\n\n104\n00:04:25.025 --> 00:04:26.792\n&gt;&gt; Do you think they\nintentionally had it similar?\n\n105\n00:04:26.792 --> 00:04:28.950\n&gt;&gt; Absolutely not,\nnobody thought about that.\n\n106\n00:04:28.950 --> 00:04:30.884\n&gt;&gt; [LAUGH] Okay.\n&gt;&gt; That was just like totally random and\n\n107\n00:04:30.884 --> 00:04:32.194\nit just happened that way.\n\n108\n00:04:32.194 --> 00:04:33.050\n&gt;&gt; No, that's just, yeah [LAUGH].\n&gt;&gt; They don't\n\n109\n00:04:33.050 --> 00:04:34.280\nthink about that kind of stuff.\n\n110\n00:04:34.280 --> 00:04:35.014\nThat just happens.\n\n111\n00:04:35.014 --> 00:04:36.850\nAll right, but\nit is kind of interesting and funny.\n\n112\n00:04:36.850 --> 00:04:38.285\nSo we're in ADAC, right?\n\n113\n00:04:38.285 --> 00:04:40.605\nYou've seen me go through in\nthe last episode and do this.\n\n114\n00:04:40.605 --> 00:04:43.540\nAnd remember,\nwe came into Dynamic Access Control.\n\n115\n00:04:43.540 --> 00:04:46.270\nWe clicked here just to see our pick list,\nright?\n\n116\n00:04:46.270 --> 00:04:47.810\nYou can see the pick list right here.\n\n117\n00:04:47.810 --> 00:04:50.553\nBut we presented our list just\nkind of in our pick list.\n\n118\n00:04:50.553 --> 00:04:53.130\nThen we went through and\nstarted with our claim types.\n\n119\n00:04:53.130 --> 00:04:57.380\nAnd then from our claim types as we\nspecified our claims, we went in,\n\n120\n00:04:57.380 --> 00:04:59.741\nspecified our resource properties.\n\n121\n00:04:59.741 --> 00:05:02.030\nAdded those to our resource property list.\n\n122\n00:05:02.030 --> 00:05:06.660\nCuz you'll either use the global container\nlist or created our own separate list.\n\n123\n00:05:06.660 --> 00:05:08.834\nWe did our own list, but\nwe could do either one.\n\n124\n00:05:08.834 --> 00:05:12.563\nJust a reminder there, if we do\nthe global container for the list,\n\n125\n00:05:12.563 --> 00:05:17.470\nthen we are applying the properties and\nthe claims associated with the properties.\n\n126\n00:05:17.470 --> 00:05:20.280\nWe're applying them to all\nobjects in the directory.\n\n127\n00:05:20.280 --> 00:05:23.681\nIf we create our own list we're\nable to specify, if you remember,\n\n128\n00:05:23.681 --> 00:05:26.806\nhow we want those applied in the scope and\nnarrowing of that.\n\n129\n00:05:26.806 --> 00:05:28.280\nSo it's up for us to decide.\n\n130\n00:05:28.280 --> 00:05:31.660\nThere is that built in list container,\nit's called the global list.\n\n131\n00:05:31.660 --> 00:05:33.973\nAnd we can use that and\napply to everything.\n\n132\n00:05:33.973 --> 00:05:35.967\nSo it's up for us to decide,\nso we did that.\n\n133\n00:05:35.967 --> 00:05:41.050\nWe then created our CAR, our client\naccess rule, one or more of them.\n\n134\n00:05:41.050 --> 00:05:44.910\nWe need at least one to be able to create\nour CAP, our Client Access Policy.\n\n135\n00:05:44.910 --> 00:05:48.876\nAnd so we walked through and\ndid all of that stuff, rolled all that up.\n\n136\n00:05:48.876 --> 00:05:50.968\nAnd, now that we've done that,\n\n137\n00:05:50.968 --> 00:05:55.825\nwhat we then are able to do is come to\nour Group Policy Management Console.\n\n138\n00:05:55.825 --> 00:05:59.290\nAnd take a look at the policy aspects that\nwe need to put into place in order to\n\n139\n00:05:59.290 --> 00:06:00.720\ndrive the application of DAC.\n\n140\n00:06:00.720 --> 00:06:04.312\nWe've built the structure, put all\nthe moving parts and pieces together.\n\n141\n00:06:04.312 --> 00:06:07.433\nBut now I have to look at the actual\nhands-on application of DAC.\n\n142\n00:06:07.433 --> 00:06:10.432\nAnd so\nthe configuration was the last episode.\n\n143\n00:06:10.432 --> 00:06:12.800\nNow the setting,\nthrough policy management,\n\n144\n00:06:12.800 --> 00:06:14.465\nis what we're focusing on here.\n\n145\n00:06:14.465 --> 00:06:18.224\nAnd so you see I've got a few policies\nhere that should look unusual to you,\n\n146\n00:06:18.224 --> 00:06:20.721\ncuz they're not normally available to us.\n\n147\n00:06:20.721 --> 00:06:24.151\nI'm on the domain level here and\nI've got a policy labelled DAC.\n\n148\n00:06:24.151 --> 00:06:25.464\nWe're gonna start with that one.\n\n149\n00:06:25.464 --> 00:06:29.035\nAnd I've got all these policies opened up,\ndown here, and available for us.\n\n150\n00:06:29.035 --> 00:06:30.933\nSo we'll take a look at\nthe settings in a minute.\n\n151\n00:06:30.933 --> 00:06:35.341\nBut the reason I put the policy for\nDAC, for Dynamic Access Control,\n\n152\n00:06:35.341 --> 00:06:38.538\nat the domain level versus\nmaybe an OU container.\n\n153\n00:06:38.538 --> 00:06:40.370\nWe were talking about this,\nright, as well.\n\n154\n00:06:40.370 --> 00:06:43.757\n&gt;&gt; Cuz you said, hey, could we do\nthis if I wanted a target an OU?\n\n155\n00:06:43.757 --> 00:06:46.276\nAnd I said, sure,\nwe can just do it right at the OU level.\n\n156\n00:06:46.276 --> 00:06:49.141\nBut I put this up at the domain\nlevel cuz I wanted to apply,\n\n157\n00:06:49.141 --> 00:06:52.446\nat least in our demonstration,\nanyway, I'm doing it this way.\n\n158\n00:06:52.446 --> 00:06:55.997\nCuz I wanna be able to apply\nthe thought process for DAC.\n\n159\n00:06:55.997 --> 00:07:00.709\nThe ability to be able to classify and\nuse our claims for our company name,\n\n160\n00:07:00.709 --> 00:07:02.710\nright, and or department.\n\n161\n00:07:02.710 --> 00:07:05.147\nI wanna be able to do that\nat the domain level so\n\n162\n00:07:05.147 --> 00:07:07.350\nit touches all users in the domain.\n\n163\n00:07:07.350 --> 00:07:10.830\nRemember, we can create claims and\nassociate them either with users or\n\n164\n00:07:10.830 --> 00:07:11.760\ndevices, right?\n\n165\n00:07:11.760 --> 00:07:14.718\nWe talked about the fact we have\nthe option to do device being computer.\n\n166\n00:07:14.718 --> 00:07:15.288\n&gt;&gt; Or a resource?\n\n167\n00:07:15.288 --> 00:07:16.990\n&gt;&gt; We have the option to do,\nor a resource, right?\n\n168\n00:07:16.990 --> 00:07:20.440\nAnd so we have the option to do any\none of these or all three of those.\n\n169\n00:07:20.440 --> 00:07:25.319\nBut if we're gonna be focusing on users,\nlet's say, hypothetically, or\n\n170\n00:07:25.319 --> 00:07:30.047\ncomputers, it wouldn't really matter\nif we cover broadly with our group\n\n171\n00:07:30.047 --> 00:07:31.819\npolicy to link the client.\n\n172\n00:07:31.819 --> 00:07:34.845\nOr, excuse me,\nthe central access policy from DAC,\n\n173\n00:07:34.845 --> 00:07:37.070\nat that level, at the domain level.\n\n174\n00:07:37.070 --> 00:07:38.370\nWe push it to everybody.\n\n175\n00:07:38.370 --> 00:07:41.534\nBut if we wanna narrowly define it,\nas Cherokee was asking about,\n\n176\n00:07:41.534 --> 00:07:44.314\nwe could come to one of our OUs and\ncreate the policy there.\n\n177\n00:07:44.314 --> 00:07:48.491\nAnd then apply it simply and specifically\nthrough scoping and tailoring,\n\n178\n00:07:48.491 --> 00:07:50.490\nnarrowing the focus at an OU level.\n\n179\n00:07:50.490 --> 00:07:51.759\nThe same thought process, in other words.\n\n180\n00:07:51.759 --> 00:07:54.112\nSo we've already traditionally\nbeen through and\n\n181\n00:07:54.112 --> 00:07:56.639\ntalked about it in other\nepisodes with group policy.\n\n182\n00:07:56.639 --> 00:07:58.342\nWhat level do we apply at?\n\n183\n00:07:58.342 --> 00:08:00.540\nWhat level of change are we affecting?\n\n184\n00:08:00.540 --> 00:08:01.774\nWhat expectation do we have?\n\n185\n00:08:01.774 --> 00:08:04.240\nIf it's very broad It should\napply at the domain level.\n\n186\n00:08:04.240 --> 00:08:06.657\nIf it's very narrow,\napply the OU level, right?\n\n187\n00:08:06.657 --> 00:08:08.850\nSo it's just a matter of\nhow we choose to do that.\n\n188\n00:08:08.850 --> 00:08:11.020\nSo I've just linked the policy\nat the domain level\n\n189\n00:08:11.020 --> 00:08:12.200\nto skip the broadest coverage.\n\n190\n00:08:12.200 --> 00:08:14.840\nSo we're gonna take look\nat the DAC policy first.\n\n191\n00:08:14.840 --> 00:08:19.800\nI've also named my policy something that\nreminds me of what it's designed to do.\n\n192\n00:08:19.800 --> 00:08:24.212\nMaybe not everybody knows what DAC is,\nmaybe I spell out Dynamic Access Control.\n\n193\n00:08:24.212 --> 00:08:28.244\nBut notice I didn't name my policy,\nyou know, Mickey Mouse, or you know,\n\n194\n00:08:28.244 --> 00:08:30.147\nITProTV 1 or something like that.\n\n195\n00:08:30.147 --> 00:08:33.693\nBecause I want to name the policy\nsomething that would indicate what it's\n\n196\n00:08:33.693 --> 00:08:34.899\ndesigned to do, right?\n\n197\n00:08:34.899 --> 00:08:37.161\nJust like I named access\ndenied assistance,\n\n198\n00:08:37.161 --> 00:08:39.700\nwhich we'll talk about in a few minutes,\nthat.\n\n199\n00:08:39.700 --> 00:08:42.642\nI named Kerberos support for\nclaims based access control that,\n\n200\n00:08:42.642 --> 00:08:46.520\nbecause these are the elements that I\nhave to assign through these policies.\n\n201\n00:08:46.520 --> 00:08:49.170\nI may not always be the administrator.\n\n202\n00:08:49.170 --> 00:08:53.400\nI may not always be the security\nprofessional that's managing group policy.\n\n203\n00:08:53.400 --> 00:08:55.570\nMaybe I set this up and\nthen I take off and\n\n204\n00:08:55.570 --> 00:08:58.810\nI go do something and Cherokee comes\nalong and says, well, Adam's not here.\n\n205\n00:08:58.810 --> 00:09:00.866\nLet me make a change and manage that.\n\n206\n00:09:00.866 --> 00:09:03.070\nOr you know, Titus has a need and\nyou come in and\n\n207\n00:09:03.070 --> 00:09:04.740\nsay, Titus,\nI'll take care of that for you.\n\n208\n00:09:04.740 --> 00:09:06.040\nLet me go make a change.\n\n209\n00:09:06.040 --> 00:09:09.210\nAnd you open the editor, but you don't\nhave a clue what those policies do\n\n210\n00:09:09.210 --> 00:09:10.710\nbecause they're not labeled correctly,\nright?\n\n211\n00:09:10.710 --> 00:09:13.880\nIt would be very tough for\nyou to pick the right policy.\n\n212\n00:09:13.880 --> 00:09:15.770\nAnd if you didn't pick\nthe right policy and\n\n213\n00:09:15.770 --> 00:09:19.670\nmade a change, maybe now you're\nconflicting with what the actual steps in\n\n214\n00:09:19.670 --> 00:09:22.880\nthe policy settings are that we\nare implementing DAC through in theory.\n\n215\n00:09:22.880 --> 00:09:23.960\nJust hypothetically, right?\n\n216\n00:09:23.960 --> 00:09:28.900\nSo it's really critical to describe the\npolicies, to create not just the name, but\n\n217\n00:09:28.900 --> 00:09:30.950\na descriptor that tells\npeople what they're gonna do.\n\n218\n00:09:30.950 --> 00:09:33.740\nSo just keep that in mind, it's like\na real world best practice, right?\n\n219\n00:09:33.740 --> 00:09:38.050\nWe always talk about great documentation\nleads to great results, right?\n\n220\n00:09:38.050 --> 00:09:39.910\nBecause it's very clear and concise.\n\n221\n00:09:39.910 --> 00:09:42.539\nAnd this is part of the idea of good or\ngreat documentation.\n\n222\n00:09:42.539 --> 00:09:44.720\nAll right, so we're gonna go in and\nedit our policy.\n\n223\n00:09:44.720 --> 00:09:45.700\nYou know, hopefully.\n\n224\n00:09:45.700 --> 00:09:47.230\nIf you don't, it's very simple.\n\n225\n00:09:47.230 --> 00:09:49.590\nWe can right click and\nchoose edit to edit it.\n\n226\n00:09:49.590 --> 00:09:51.680\nI've already got them open,\nI'll open them in a minute.\n\n227\n00:09:51.680 --> 00:09:54.750\nIf you've never seen a group policy\ncreated, which may be the case,\n\n228\n00:09:54.750 --> 00:09:57.170\nyou may not have seen other\nepisodes where we've done this.\n\n229\n00:09:57.170 --> 00:09:58.910\nYou may not work with group policy.\n\n230\n00:09:58.910 --> 00:10:01.710\nThose things are new to people\nat some point in time, right?\n\n231\n00:10:01.710 --> 00:10:05.934\nWhat I did to create the policy was simply\nright click on the object that I want to\n\n232\n00:10:05.934 --> 00:10:07.031\nlink the policy to.\n\n233\n00:10:07.031 --> 00:10:09.684\nIn this case, the domain,\npracticelabs.com.\n\n234\n00:10:09.684 --> 00:10:12.300\nCreate a GPO in this domain and\nlink it here.\n\n235\n00:10:12.300 --> 00:10:12.828\nI do that.\n\n236\n00:10:12.828 --> 00:10:15.500\nJust simply name the policy,\nas you can see.\n\n237\n00:10:15.500 --> 00:10:16.910\nWhatever I may call it,\n\n238\n00:10:16.910 --> 00:10:19.860\njust as an example,\nI'm not really gonna create the policy.\n\n239\n00:10:19.860 --> 00:10:23.328\nAnd then I click okay and\nthen the policy shortcut applies here and\n\n240\n00:10:23.328 --> 00:10:26.000\nthen I'm able to right click and\nchoose edit.\n\n241\n00:10:26.000 --> 00:10:29.600\nAnd then when I've done that,\nI can open up my policy.\n\n242\n00:10:29.600 --> 00:10:32.750\nThis is the DAC policy,\nthe one you're looking at right now.\n\n243\n00:10:32.750 --> 00:10:37.000\nI just have it open so\nI can already have the flow exposed and\n\n244\n00:10:37.000 --> 00:10:40.230\nwe can have it over the right way and\nyou can see the entire path.\n\n245\n00:10:40.230 --> 00:10:42.142\nInstead of having to open it up\nwith everything slowed, you know?\n\n246\n00:10:42.142 --> 00:10:44.771\nEssentially, closed up and\nhaving to open it all, right?\n\n247\n00:10:44.771 --> 00:10:46.660\nCuz Cherokee yells at me\nwhen I do that upkeep.\n\n248\n00:10:46.660 --> 00:10:49.180\nShe's like, why don't you just open it\nahead of time and have it all available,\n\n249\n00:10:49.180 --> 00:10:50.325\nso it looks pretty, right?\n\n250\n00:10:50.325 --> 00:10:52.020\n&gt;&gt; [LAUGH] Well sometimes it helps though.\n\n251\n00:10:52.020 --> 00:10:52.520\nI mean-\n&gt;&gt; It does.\n\n252\n00:10:52.520 --> 00:10:54.155\n&gt;&gt; Cuz sometimes they really like nestle\n\n253\n00:10:54.155 --> 00:10:54.869\nthem in there and\n\n254\n00:10:54.869 --> 00:10:56.766\nthere's gonna be multiple layers.\n&gt;&gt; And see,\n\n255\n00:10:56.766 --> 00:10:57.939\nyou got to go ten layers deep.\n&gt;&gt; I know.\n\n256\n00:10:57.939 --> 00:10:58.947\n&gt;&gt; Then I could never get it with\n\n257\n00:10:58.947 --> 00:11:00.715\nthe mouse, it never moves the right way.\n&gt;&gt; [LAUGH]\n\n258\n00:11:00.715 --> 00:11:03.589\n&gt;&gt; It's a nightmare, it's a nightmare.\n\n259\n00:11:03.589 --> 00:11:04.099\nAll right.\n\n260\n00:11:04.099 --> 00:11:06.601\nSo, computer configuration is the area of\n\n261\n00:11:06.601 --> 00:11:09.720\nthe policy we're in.\nPolicies right here.\n\n262\n00:11:09.720 --> 00:11:11.670\nWe've opened up Window settings.\n\n263\n00:11:11.670 --> 00:11:14.820\nI've gone into security\nsettings as I scroll down.\n\n264\n00:11:14.820 --> 00:11:19.260\nFile system under security settings,\ncentral access policy container.\n\n265\n00:11:19.260 --> 00:11:22.370\nNow this is blank by default,\nthere's nothing here,\n\n266\n00:11:22.370 --> 00:11:26.508\nalthough you can clearly see my IT Pro\ncap, my central access policy 1.\n\n267\n00:11:26.508 --> 00:11:31.210\nOne of the two we created in our\nwalkthrough in the last episode is here.\n\n268\n00:11:31.210 --> 00:11:35.855\nBut I simply right click manage central\naccess policies to create one and\n\n269\n00:11:35.855 --> 00:11:40.272\nthen there would be a listing here\nof all of the available policies and\n\n270\n00:11:40.272 --> 00:11:42.880\nI highlight the policy added over here.\n\n271\n00:11:42.880 --> 00:11:45.288\nAnd when I do that,\nit shows me not just the policy,\n\n272\n00:11:45.288 --> 00:11:48.320\nbut also the central access ruler\nrules that are assigned to it.\n\n273\n00:11:48.320 --> 00:11:52.750\nSo I see IT Pro Car 1 for\ncentral access rule one is here and\n\n274\n00:11:52.750 --> 00:11:57.050\nI see it's part of the policy and\nI click okay here to add it.\n\n275\n00:11:57.050 --> 00:12:01.133\nAnd when I've done that,\nI now have a policy element that links my\n\n276\n00:12:01.133 --> 00:12:06.370\ncentral access policy from DAC to my\ndomain based or domain link group policy.\n\n277\n00:12:06.370 --> 00:12:10.650\nBy doing this, I'm now gonna be able\nto apply the central access policy and\n\n278\n00:12:10.650 --> 00:12:12.520\nwith it, the central access rule.\n\n279\n00:12:12.520 --> 00:12:15.340\nAnd with it, all of the claims and\nthe properties and\n\n280\n00:12:15.340 --> 00:12:18.770\nall the things we've set up in DAC are all\nbrought forth here and are going to be\n\n281\n00:12:18.770 --> 00:12:22.500\nfocused on whatever the application\ntargets for this policy will be.\n\n282\n00:12:22.500 --> 00:12:26.700\nIn this case, all the computers and or\nall the users in the domain, right?\n\n283\n00:12:26.700 --> 00:12:27.880\nThis is the computer side.\n\n284\n00:12:27.880 --> 00:12:31.784\nWe're applying the policy to the computer,\nso this will happen at the computer level.\n\n285\n00:12:31.784 --> 00:12:35.650\nAll right, so I'm gonna click close\nhere just to get rid of that policy.\n\n286\n00:12:35.650 --> 00:12:37.124\nWe've applied the chain.\n\n287\n00:12:37.124 --> 00:12:40.750\nIt's there so you would see how that\npolicy works, that's our DAC policy.\n\n288\n00:12:40.750 --> 00:12:45.443\nNow the other policy I need in order to\nensure that the computers will process\n\n289\n00:12:45.443 --> 00:12:47.938\nthe central access policy correctly and\n\n290\n00:12:47.938 --> 00:12:52.266\nuse the claims that are being provided\nthrough the central access rule\n\n291\n00:12:52.266 --> 00:12:56.771\nis this other area that involves the KDC,\nthe key distribution center.\n\n292\n00:12:56.771 --> 00:13:01.095\nWhich is one of the functions of\nthe Kerberos environment that we use in\n\n293\n00:13:01.095 --> 00:13:03.085\nthe Windows Active Directory.\n\n294\n00:13:03.085 --> 00:13:04.980\nADDS, the AD service.\n\n295\n00:13:04.980 --> 00:13:07.552\nAnd so I'm gonna come in go\nto my Kerberos support for\n\n296\n00:13:07.552 --> 00:13:10.200\nclaim based access control policy.\n\n297\n00:13:10.200 --> 00:13:12.720\nAgain, a new policy that I've created.\n\n298\n00:13:12.720 --> 00:13:15.340\nAnd notice that I've done this\non the domain controller's OU.\n\n299\n00:13:15.340 --> 00:13:17.524\nAnd that is a specific choice, by the way.\n\n300\n00:13:17.524 --> 00:13:19.650\nAnd that is the right way to go here.\n\n301\n00:13:19.650 --> 00:13:23.660\nThis is a domain controller based setting\n\n302\n00:13:23.660 --> 00:13:25.950\nthat we have to manipulate\nwith this policy.\n\n303\n00:13:25.950 --> 00:13:30.640\nAnd you want to apply this at the domain\ncontroller's container or at the OU,\n\n304\n00:13:30.640 --> 00:13:34.480\nrather, in order to apply this\njust to the domain controllers.\n\n305\n00:13:34.480 --> 00:13:40.010\nSo we modify the settings on domain\ncontrollers and have them create or\n\n306\n00:13:40.010 --> 00:13:44.480\nspecify that the setting that gets enabled\nso that the authentication requirements\n\n307\n00:13:44.480 --> 00:13:47.620\nfor claim based authentication will\nbe put in place the right way.\n\n308\n00:13:47.620 --> 00:13:50.918\nSo this policy does need to be\nfocused on the domain controller's OU.\n\n309\n00:13:50.918 --> 00:13:53.386\nSo I've created this policy.\n\n310\n00:13:53.386 --> 00:13:55.345\nAgain, you can name it what you want.\n\n311\n00:13:55.345 --> 00:13:58.605\nI named it for the actual policy\nsetting we're gonna manipulate.\n\n312\n00:13:58.605 --> 00:14:01.731\nYou can create the name and\nname it whatever you would like.\n\n313\n00:14:01.731 --> 00:14:02.803\nSo I've edited this policy.\n\n314\n00:14:02.803 --> 00:14:04.595\nI have it open right here.\n\n315\n00:14:04.595 --> 00:14:06.095\nJust bring this one up.\n\n316\n00:14:06.095 --> 00:14:07.867\nThis one, again,\nI've just opened up ahead of time.\n\n317\n00:14:07.867 --> 00:14:11.010\nBecause, as you said,\nthe path can be a little convoluted.\n\n318\n00:14:11.010 --> 00:14:15.688\nAnd when we go up,\nI'm in computer configuration policies.\n\n319\n00:14:15.688 --> 00:14:19.270\nThis time, administrative templates\ninstead of Windows settings.\n\n320\n00:14:19.270 --> 00:14:24.140\nSo one folder down, because we have\na preset set of templates that we use for\n\n321\n00:14:24.140 --> 00:14:25.440\nthis particular setting.\n\n322\n00:14:25.440 --> 00:14:29.356\nUnder system,\nabout halfway down approximately,\n\n323\n00:14:29.356 --> 00:14:33.361\nI've got the KDC folder,\nkey distribution center.\n\n324\n00:14:33.361 --> 00:14:38.059\nAnd then the first setting here, KDC\nsupport for claims compound authentication\n\n325\n00:14:38.059 --> 00:14:40.861\nand Kerberos armoring is\nwhat we have turned on.\n\n326\n00:14:40.861 --> 00:14:42.291\nYou'll see it's set to enable.\n\n327\n00:14:42.291 --> 00:14:44.440\nBy default, it would be not configured.\n\n328\n00:14:44.440 --> 00:14:47.240\nAnd so when I bring this up,\nI enable this.\n\n329\n00:14:47.240 --> 00:14:50.147\nAnd then when I enable it,\nI have a pick list here.\n\n330\n00:14:50.147 --> 00:14:54.340\nThe default is set to not supported\nwhen it is not configured.\n\n331\n00:14:54.340 --> 00:14:58.700\nI will change that to supported, as you\ncan see, which is what the default choice\n\n332\n00:14:58.700 --> 00:15:02.340\nbecomes when you decide to\ndo this when you enable it.\n\n333\n00:15:02.340 --> 00:15:06.795\nAnd support it simply means if we scroll\ndown, and I did talk about this in,\n\n334\n00:15:06.795 --> 00:15:10.711\nI think the last episode or\nthe first of the three episodes on DAC.\n\n335\n00:15:10.711 --> 00:15:13.208\nSo that would have been episode four,\nright?\n\n336\n00:15:13.208 --> 00:15:16.601\nWe're on episode six, so\nepisode four where we did our overview,\n\n337\n00:15:16.601 --> 00:15:20.367\nI talked a little bit just at a high\nlevel about this, mentioned it there.\n\n338\n00:15:20.367 --> 00:15:22.086\nOur policy settings and that.\n\n339\n00:15:22.086 --> 00:15:26.094\nIf machines don't meet the bare minimum\nrequirements, we essentially ignore\n\n340\n00:15:26.094 --> 00:15:30.359\nthe claim based authentication and the DAC\nconcept that just doesn't get applied.\n\n341\n00:15:30.359 --> 00:15:33.578\nSo we don't bother with it,\nwhere as if the machine supported,\n\n342\n00:15:33.578 --> 00:15:35.316\nwe could then implement, right?\n\n343\n00:15:35.316 --> 00:15:40.311\nAnd so supported here, this choice\nallows us, if you take a look, right?\n\n344\n00:15:40.311 --> 00:15:42.208\nYou configure supported, right?\n\n345\n00:15:42.208 --> 00:15:45.140\nIt's always good to read the documentation\nso you can see what's going on.\n\n346\n00:15:45.140 --> 00:15:47.856\nThe domain controller supports claims,\ncompound authentication, and\n\n347\n00:15:47.856 --> 00:15:48.650\nKerberos armoring.\n\n348\n00:15:48.650 --> 00:15:49.620\nIt's what we need.\n\n349\n00:15:49.620 --> 00:15:53.104\nThe domain controller advertises to\nKerberos client computers that the domain\n\n350\n00:15:53.104 --> 00:15:55.756\nis capable of claims and\ncompound authentication for DAC and\n\n351\n00:15:55.756 --> 00:15:57.064\nKerberos armoring, right?\n\n352\n00:15:57.064 --> 00:16:02.480\nSo that means we are providing\nthe support at the domain for DAC, right?\n\n353\n00:16:02.480 --> 00:16:05.162\nWe're able to use the claims\nbased authentication.\n\n354\n00:16:05.162 --> 00:16:09.287\nTo be able to do access control and\nas a result, we will now support DAC, but\n\n355\n00:16:09.287 --> 00:16:13.480\nremember older clients that don't\nsupport DAC will not benefit from this,\n\n356\n00:16:13.480 --> 00:16:16.250\nin the since we'll not be\nable to use this, okay.\n\n357\n00:16:16.250 --> 00:16:20.220\nSo we've set this up, as well,\nright, so that's enabled.\n\n358\n00:16:20.220 --> 00:16:22.800\nAnd we've put both those policies in play.\n\n359\n00:16:22.800 --> 00:16:26.351\nLet's pretend access denied assistance\ndoesn't exist for a couple minutes,\n\n360\n00:16:26.351 --> 00:16:29.745\nwe'll come back, take a look at that,\nas we wrap up our conversation here.\n\n361\n00:16:29.745 --> 00:16:32.110\nSo, put these two policies in place.\n\n362\n00:16:32.110 --> 00:16:35.330\nNow, how do we apply a policy to a system.\n\n363\n00:16:35.330 --> 00:16:37.110\nWe have a couple different\nways of doing this.\n\n364\n00:16:37.110 --> 00:16:40.008\nObviously if we just wait\nout the refresh period,\n\n365\n00:16:40.008 --> 00:16:45.252\nusually a 90 minute to 120 minute window,\ndepending on when the policy's created,\n\n366\n00:16:45.252 --> 00:16:48.909\nthe refresh interval if its left\nto its own devices by default,\n\n367\n00:16:48.909 --> 00:16:52.291\nthe main controller's five\nminutes on normal machines,\n\n368\n00:16:52.291 --> 00:16:55.348\n90 minutes with a 30\nminute randomized offset.\n\n369\n00:16:55.348 --> 00:16:59.647\nSo we may see that policy apply anywhere\nfrom five minutes to two hours depending\n\n370\n00:16:59.647 --> 00:17:02.290\non what kinda machine we're on and\nwhere we are.\n\n371\n00:17:02.290 --> 00:17:04.480\nIf we don't wanna leave this to chance and\n\n372\n00:17:04.480 --> 00:17:06.810\njust wait it out,\ncan we go to a command line?\n\n373\n00:17:06.810 --> 00:17:10.375\nAnd use a command to be able to\nrefresh policy, we can do that right?\n\n374\n00:17:10.375 --> 00:17:13.305\nWe can do, you know what that is,\nyou remember those?\n\n375\n00:17:13.305 --> 00:17:14.255\n&gt;&gt; GP force.\n\n376\n00:17:14.255 --> 00:17:16.053\n&gt;&gt; GP update right yes.\n\n377\n00:17:16.053 --> 00:17:19.001\nGP force is a cartoon or something right?\n\n378\n00:17:19.001 --> 00:17:21.840\n&gt;&gt; [LAUGH] Not like the Starwars or\nsomething like that,\n\n379\n00:17:21.840 --> 00:17:23.467\nlet the force be with you.\n\n380\n00:17:23.467 --> 00:17:24.127\n&gt;&gt; Exactly.\n\n381\n00:17:24.127 --> 00:17:25.377\n&gt;&gt; The GP.\n&gt;&gt; The GP update.\n\n382\n00:17:25.377 --> 00:17:28.897\nGP update commands so GP update\nspace forward slash force, right.\n\n383\n00:17:28.897 --> 00:17:30.727\nSo we could do that on a local machine.\n\n384\n00:17:30.727 --> 00:17:35.233\nWe could also either log off or restart\nthe machine Logging off versus the policy\n\n385\n00:17:35.233 --> 00:17:37.773\nto be applied to the user,\nreapplied to the user.\n\n386\n00:17:37.773 --> 00:17:41.123\nAnd restarting the machine forces\npolicy to be reapplied to the computer.\n\n387\n00:17:41.123 --> 00:17:43.173\nSo there's a lot of\ndifferent ways to get there,\n\n388\n00:17:43.173 --> 00:17:47.270\nI've just done GP update force on the\ndomain controller, as well as on the other\n\n389\n00:17:47.270 --> 00:17:51.195\nmachine that we're demoing with just to\nspeed up the application of that policy.\n\n390\n00:17:51.195 --> 00:17:53.929\nJust giving you the benefit\nof that thought process.\n\n391\n00:17:53.929 --> 00:17:57.873\nSo then, what I've done is come in here\nto my Windows Explorer on, in this case,\n\n392\n00:17:57.873 --> 00:18:01.353\nthe domain controller, just cause\nwe're gonna create a folder here or\n\n393\n00:18:01.353 --> 00:18:05.200\nuse one of the existing ones and show you\nthe output of all this hard work right.\n\n394\n00:18:05.200 --> 00:18:08.010\nSo there are all this stuff with\nthat created these policies,\n\n395\n00:18:08.010 --> 00:18:11.270\napplied them behind the scenes\nbefore we got started.\n\n396\n00:18:11.270 --> 00:18:12.400\nSo now what does that all mean.\n\n397\n00:18:12.400 --> 00:18:14.971\nIn other words essentially,\nwhat have we done?\n\n398\n00:18:14.971 --> 00:18:16.090\nWe've done all this stuff but\n\n399\n00:18:16.090 --> 00:18:18.520\nhave we really done anything\nthat's gonna be helpful?\n\n400\n00:18:18.520 --> 00:18:20.250\nAnd so take a look at this.\n\n401\n00:18:20.250 --> 00:18:22.230\nSo I'm gonna go in here.\n\n402\n00:18:22.230 --> 00:18:26.140\nI have got a couple of folders to your\ntest as the one I have highlighted but\n\n403\n00:18:26.140 --> 00:18:29.480\nbefore I use that one lets just\ntake a look at a brand new folder.\n\n404\n00:18:29.480 --> 00:18:33.872\nSo lets create a brand new folder,\nlets call it new folder two.\n\n405\n00:18:33.872 --> 00:18:35.222\nIt doesn't really matter what we call it.\n\n406\n00:18:35.222 --> 00:18:37.118\nAnd I am going to just right click and\n\n407\n00:18:37.118 --> 00:18:41.180\nI'm going to go to properties here now\nthat I have created the folder right.\n\n408\n00:18:41.180 --> 00:18:45.399\nAnd in the folder as soon as I create\nit I have a classifications tab,\n\n409\n00:18:45.399 --> 00:18:49.248\nnow we looked at classifications\non a file in the first several\n\n410\n00:18:49.248 --> 00:18:53.762\nepisodes in the FSRM and DAX series\nwe have been doing episodes 1, 2 and\n\n411\n00:18:53.762 --> 00:18:56.783\n3 FSRM File Source Resource Manager\n&gt;&gt; How to set those\n\n412\n00:18:56.783 --> 00:18:59.310\nclassifications\n&gt;&gt; How to set the classifications rules\n\n413\n00:18:59.310 --> 00:19:03.710\nup, how to use those abilities to\nbe able to classify a file, and\n\n414\n00:19:03.710 --> 00:19:08.140\nyou saw the output of that we could\nactually apply classifications.\n\n415\n00:19:08.140 --> 00:19:12.270\nAnd we could then use rules to manipulate\nand manage access file screening rules,\n\n416\n00:19:12.270 --> 00:19:13.720\nthings like that to the file right?\n\n417\n00:19:13.720 --> 00:19:16.390\nSo you've seen\nthe classification tab before.\n\n418\n00:19:16.390 --> 00:19:18.670\nSo this should not hopefully\nbe brand new to you.\n\n419\n00:19:18.670 --> 00:19:21.260\nBut the classification tab you'll see here\n\n420\n00:19:21.260 --> 00:19:26.130\nthat we've created now two classifications\nbased on DAC if you remember right?\n\n421\n00:19:26.130 --> 00:19:31.570\nBecause we are now using both company and\ndepartment as claims that we have created\n\n422\n00:19:31.570 --> 00:19:35.980\nor assigned through DAC and\nsaid we want to be able to apply.\n\n423\n00:19:35.980 --> 00:19:40.120\nAnd so you could see they now show up\nhere on anything new that I create.\n\n424\n00:19:40.120 --> 00:19:42.070\nAnd you'll notice that down below for\n\n425\n00:19:42.070 --> 00:19:46.870\ncompany I have right now\na value set to none here.\n\n426\n00:19:46.870 --> 00:19:51.290\nI have the ability to choose\neither a recommended value.\n\n427\n00:19:51.290 --> 00:19:53.910\nThe recommended value I highlighted for\ncompany was ITProTV and\n\n428\n00:19:53.910 --> 00:19:56.090\nnotice it populates up top.\n\n429\n00:19:56.090 --> 00:19:59.970\nAnd if I choose Department,\nI had a long pick list for Department.\n\n430\n00:19:59.970 --> 00:20:00.880\nThere were a lot there.\n\n431\n00:20:00.880 --> 00:20:02.530\nRemember, I went in.\n\n432\n00:20:02.530 --> 00:20:04.620\nI said, let me do Human Resources.\n\n433\n00:20:04.620 --> 00:20:05.140\nNo, wait.\nNo,\n\n434\n00:20:05.140 --> 00:20:07.720\nHuman Resources already exists cuz\nit was already in the pick list.\n\n435\n00:20:07.720 --> 00:20:08.930\nSo let's shorten that to HR.\n\n436\n00:20:08.930 --> 00:20:12.200\nWe created HR, and\nwe see that as the alias that we used.\n\n437\n00:20:12.200 --> 00:20:15.710\nBut there were a lot of other recommended\nvalues is what we call them, right?\n\n438\n00:20:15.710 --> 00:20:17.420\nOr suggested values is what we call them.\n\n439\n00:20:17.420 --> 00:20:19.870\nAnd there were other\nsuggested values there, and\n\n440\n00:20:19.870 --> 00:20:22.050\nnow you could see that we\nhave a whole list of items.\n\n441\n00:20:22.050 --> 00:20:25.740\nAnd so I can choose whatever I want,\nas you can see here.\n\n442\n00:20:25.740 --> 00:20:28.510\nSo maybe I choose HR, and I put that in.\n\n443\n00:20:28.510 --> 00:20:32.098\nSo now I've assigned two values\nto the classifications, and\n\n444\n00:20:32.098 --> 00:20:36.239\nthe claims that I've created there,\nright, that I've syndicated.\n\n445\n00:20:36.239 --> 00:20:40.920\nI want this to be a category, or\nrather a company, IT ProTV department HR.\n\n446\n00:20:40.920 --> 00:20:44.310\nSo this is all coming directly from\nthe work we did in Dac, all right.\n\n447\n00:20:44.310 --> 00:20:45.320\nWe can see that.\n\n448\n00:20:45.320 --> 00:20:48.160\nNow if I decide, you know what,\nI don't want that to be the HR department,\n\n449\n00:20:48.160 --> 00:20:50.530\nI can make a change here, of course.\n\n450\n00:20:50.530 --> 00:20:52.880\nOr if I say, you know what,\nI don't want to have a department.\n\n451\n00:20:52.880 --> 00:20:55.080\nI want to put that back to\nessentially what it was.\n\n452\n00:20:55.080 --> 00:20:56.790\nI could just decide to\nassign one of the two.\n\n453\n00:20:56.790 --> 00:20:58.880\nSo I can go in and manipulate that.\n\n454\n00:20:58.880 --> 00:21:00.180\nI can click, apply.\n\n455\n00:21:00.180 --> 00:21:03.240\nIt's a little dialogue box,\ncomes up real quick.\n\n456\n00:21:03.240 --> 00:21:05.420\nIt applies it immediately even\nthough you don't see it but\n\n457\n00:21:05.420 --> 00:21:08.270\nit happens right away and\nthen you see that cleared.\n\n458\n00:21:08.270 --> 00:21:11.440\nReference goes back to now and\njust sets the item back.\n\n459\n00:21:11.440 --> 00:21:16.368\nSo I've just gone ahead and done that and\nthen the other part of this is I can\n\n460\n00:21:16.368 --> 00:21:20.580\nnow go to my security tab and\non my security tab, as you can see,\n\n461\n00:21:20.580 --> 00:21:25.988\nI've got a list of users or groups or\nwhatever the default owner designation is,\n\n462\n00:21:25.988 --> 00:21:31.506\nperhaps other groups or users that are\nthere by default, depending on what it is.\n\n463\n00:21:31.506 --> 00:21:34.773\nAnd we're not getting into the whole,\nhey let's manipulate the permissions,\n\n464\n00:21:34.773 --> 00:21:37.719\nlet's remove or add on the discretion or\naccess control list right now.\n\n465\n00:21:37.719 --> 00:21:40.937\nYou know we can do that hopefully,\nand we certainly in other episodes and\n\n466\n00:21:40.937 --> 00:21:44.105\nother areas talk about the fact that\nmanagement of group membership and\n\n467\n00:21:44.105 --> 00:21:47.749\nassignment of permissions to something as\na security administrator you have to be\n\n468\n00:21:47.749 --> 00:21:49.425\nfocused on and think about, right?\n\n469\n00:21:49.425 --> 00:21:54.065\nSo that whole scent of best practices\nconcepts that we often talk about\n\n470\n00:21:54.065 --> 00:21:56.807\nas the base line for\ngood security management.\n\n471\n00:21:56.807 --> 00:21:58.697\nThe thought process of this privilege.\n\n472\n00:21:58.697 --> 00:22:00.977\nThe thought process of\nseparation of duties.\n\n473\n00:22:00.977 --> 00:22:03.817\nAll things we've mentioned in\nother episodes all that should be\n\n474\n00:22:03.817 --> 00:22:05.387\nrunning through your mind\nas you look at this skill.\n\n475\n00:22:05.387 --> 00:22:08.687\nYeah I may decided to add or remove\nusers here, right, to control access.\n\n476\n00:22:08.687 --> 00:22:09.360\nAbsolutely.\n\n477\n00:22:09.360 --> 00:22:10.720\nYou could do that,\nI'm just not gonna do that,\n\n478\n00:22:10.720 --> 00:22:13.720\nthat doesn't mean that in other words\nyou wouldn't think about doing that,\n\n479\n00:22:13.720 --> 00:22:17.100\nI'm just not spending time, well I guess\nI am, right, cause I'm talking about it.\n\n480\n00:22:17.100 --> 00:22:18.513\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm not actually go through and\n\n481\n00:22:18.513 --> 00:22:19.527\ndo it is what I suggest.\n\n482\n00:22:19.527 --> 00:22:23.802\nWhat I'm gonna do instead is just\nsimply come in here to advanced, right?\n\n483\n00:22:23.802 --> 00:22:27.565\nAnd what we can see here, aside from\nthe list of permissions of course, and\n\n484\n00:22:27.565 --> 00:22:31.574\nour auditing capabilities, we've talked\nabout central auditing policies,\n\n485\n00:22:31.574 --> 00:22:33.280\nthings like that in other areas.\n\n486\n00:22:34.370 --> 00:22:36.280\nI do have an effective axis area,\n\n487\n00:22:36.280 --> 00:22:40.510\nthis is part of what DAC provides\nus with capabilities to use.\n\n488\n00:22:40.510 --> 00:22:45.048\nAnd I have my central policy tab\nthat we talked about as well.\n\n489\n00:22:45.048 --> 00:22:48.650\nAnd you could see here that right now\nthere's no central access policy applied.\n\n490\n00:22:48.650 --> 00:22:50.270\nI have to change that by adding one.\n\n491\n00:22:50.270 --> 00:22:52.949\nAnd I have to then specify\nhow we're gonna apply this.\n\n492\n00:22:52.949 --> 00:22:55.890\nSo this is where I bring in\nthe central access policy, right?\n\n493\n00:22:55.890 --> 00:22:58.040\nSo I can click Change.\n\n494\n00:22:58.040 --> 00:23:01.170\nI could then, instead of having\nno central access policy,\n\n495\n00:23:01.170 --> 00:23:03.980\ndecide to apply a central access policy.\n\n496\n00:23:03.980 --> 00:23:07.233\nThe only one I have right now in\nthe system would be ITPRO cap one,\n\n497\n00:23:07.233 --> 00:23:10.849\nremember this is the policy that's\ncoming down through group policy,\n\n498\n00:23:10.849 --> 00:23:13.560\nit's being applied through\nour file management, or\n\n499\n00:23:13.560 --> 00:23:17.680\nour ability to use group policy to file\nbased management and apply this, right.\n\n500\n00:23:17.680 --> 00:23:20.340\nSo our central access policy, cap one.\n\n501\n00:23:20.340 --> 00:23:24.383\nWhat do I wanna apply to my hierarchy,\nthis is at the folder level, so\n\n502\n00:23:24.383 --> 00:23:29.199\nam I applying it to essentially everything\nin whatever the depth of this hierarchy\n\n503\n00:23:29.199 --> 00:23:33.873\nmay be, this folder, sub folders and\nfiles, inherit and propagate through,\n\n504\n00:23:33.873 --> 00:23:38.538\nor do I just want be only at the top level\njust the folder, but nothing below it.\n\n505\n00:23:38.538 --> 00:23:41.487\nBut I wanna do just files\nwithin the folder but\n\n506\n00:23:41.487 --> 00:23:44.350\nnot the folder itself only sub folders.\n\n507\n00:23:44.350 --> 00:23:46.290\nAnd I've got six or\nseven options here that I can mix and\n\n508\n00:23:46.290 --> 00:23:50.260\nmatch with so it's up to me to decide on\nwhat level of the hierarchy I wanna apply.\n\n509\n00:23:50.260 --> 00:23:53.500\nSo we'll just leave it there at\nthe default just so you can see it.\n\n510\n00:23:53.500 --> 00:23:57.846\nAnd then this policy includes\nagain whatever rules are there in\n\n511\n00:23:57.846 --> 00:24:02.602\nthis case my IT pro central access\nrule car one which is the rule that we\n\n512\n00:24:02.602 --> 00:24:05.311\napplied with the policy as you can see.\n\n513\n00:24:05.311 --> 00:24:09.528\nHave a little arrow here, and\nI can actually see, and this is where we\n\n514\n00:24:09.528 --> 00:24:13.845\nstarted in episode three is we talked\nthrough the logic of what DAC is.\n\n515\n00:24:13.845 --> 00:24:17.749\nAnd I jumped ahead to the very endpoint\nand I said okay, this is what DAC does.\n\n516\n00:24:17.749 --> 00:24:19.862\nNow let's walk backwards in\nthe next couple episodes and\n\n517\n00:24:19.862 --> 00:24:21.014\nshow you how to build all this.\n\n518\n00:24:21.014 --> 00:24:22.979\nThis is essentially where we wound up.\n\n519\n00:24:22.979 --> 00:24:25.938\nWe started here, and\nwe're winding up here again, right?\n\n520\n00:24:25.938 --> 00:24:29.432\nAnd you saw, when I did this in episode\nthree in the overview that I said, okay,\n\n521\n00:24:29.432 --> 00:24:32.057\nlet's go and look at this new\nthing called central policy.\n\n522\n00:24:32.057 --> 00:24:33.400\nWow, where did that come from?\n\n523\n00:24:33.400 --> 00:24:35.568\nAnd wow,\nlet's look at that thing down there.\n\n524\n00:24:35.568 --> 00:24:38.868\nLet's look at that effective\nlist of permission entries, and\n\n525\n00:24:38.868 --> 00:24:42.118\nlet's see what those permissions\nare that we're applying.\n\n526\n00:24:42.118 --> 00:24:45.805\nAnd you could see we started with\nauthenticated users, read and execute,\n\n527\n00:24:45.805 --> 00:24:49.274\nexplain that normally we would put\nauthenticated users in this list.\n\n528\n00:24:49.274 --> 00:24:53.238\nBe able to give users that are coming in,\nlogging in and authenticating the ability\n\n529\n00:24:53.238 --> 00:24:56.878\nto have permissions through DAK,\nthat's the standard way we do this week.\n\n530\n00:24:56.878 --> 00:24:59.204\nWe usually have\nthe authenticating users group.\n\n531\n00:24:59.204 --> 00:25:02.247\nGet out of the groups and obviously\ndecide how you wanna manage that.\n\n532\n00:25:02.247 --> 00:25:05.611\nBut by default we normally use\nauthenticated users and I said it's\n\n533\n00:25:05.611 --> 00:25:09.287\nnot just permissions but notice\nthe conditions that are there, right.\n\n534\n00:25:09.287 --> 00:25:12.326\nUser company equals ITPROTV,\nthat's what we started with.\n\n535\n00:25:12.326 --> 00:25:16.683\nAnd we said, based on one of the two\nclaims we're making, company equals\n\n536\n00:25:16.683 --> 00:25:21.692\nITProTV, that is what we're gonna expect\nif we wanna assign permissions, right.\n\n537\n00:25:21.692 --> 00:25:25.456\nSo we see all that here, but now hopefully\nall the stuff we did in between is\n\n538\n00:25:25.456 --> 00:25:28.392\nmaking sense and\nyou're seeing how we got to this point.\n\n539\n00:25:28.392 --> 00:25:32.205\nAs opposed to showing it to you in episode\nthree saying okay, that's DAK, right.\n\n540\n00:25:32.205 --> 00:25:35.267\nYou don't really have a clue what\nthat means cuz obviously you haven't\n\n541\n00:25:35.267 --> 00:25:35.888\nseen it work.\n\n542\n00:25:35.888 --> 00:25:39.810\nAnd we have to actually build the logic,\nbuild the structure, and now apply it.\n\n543\n00:25:39.810 --> 00:25:44.745\nWe're back to this point but\nwith this when we apply this\n\n544\n00:25:44.745 --> 00:25:48.953\nwhat we then are able to\ndo is we can come in here.\n\n545\n00:25:48.953 --> 00:25:50.619\nI'm gonna apply before I do this.\n\n546\n00:25:50.619 --> 00:25:54.447\nWe could come in effective access and\nactually take a look at what access for\n\n547\n00:25:54.447 --> 00:25:56.470\nuser would be under these conditions.\n\n548\n00:25:56.470 --> 00:25:57.630\nSo let me show you what I mean.\n\n549\n00:25:57.630 --> 00:26:00.013\nLet's just apply this here real quick,\n\n550\n00:26:00.013 --> 00:26:04.499\njust to specify when to apply this\ncentral access policy to this folder, and\n\n551\n00:26:04.499 --> 00:26:07.673\nany sub folders, and\ninformation that may be there.\n\n552\n00:26:07.673 --> 00:26:10.344\nLet's just click OK to\nput that change in place,\n\n553\n00:26:10.344 --> 00:26:13.025\nwe'll click OK here one more time and\ngo back in.\n\n554\n00:26:13.025 --> 00:26:20.535\nAnd then what we effectively\nget here is the following.\n\n555\n00:26:20.535 --> 00:26:25.860\nLet's go back to advanced, so\nour central access policy is now applied.\n\n556\n00:26:25.860 --> 00:26:28.716\nOn effective access we\ncan then test a user and\n\n557\n00:26:28.716 --> 00:26:32.635\nsee what effective access\nessentially play the what if game.\n\n558\n00:26:32.635 --> 00:26:35.983\nWhat if this user came and knocked on\nthe door, wanted to access the file or\n\n559\n00:26:35.983 --> 00:26:37.503\nthe folder, what would happen?\n\n560\n00:26:37.503 --> 00:26:39.241\nThat's what this tab will tell us.\n\n561\n00:26:39.241 --> 00:26:41.319\nSo, we're gonna select to use or group.\n\n562\n00:26:41.319 --> 00:26:43.572\nAnd notice by the way we can do this for\ndevices as well, right.\n\n563\n00:26:43.572 --> 00:26:48.358\nCuz remember we talked about the fact we\ncan use claims and create the rules and\n\n564\n00:26:48.358 --> 00:26:51.309\napply them to either\ndevices and/or to users.\n\n565\n00:26:51.309 --> 00:26:55.167\nAll right, so we would choose a user here,\nwhatever the user may be.\n\n566\n00:26:55.167 --> 00:27:02.685\nWe can use Lisa here for instance,\nand Lisa our often used user.\n\n567\n00:27:02.685 --> 00:27:06.500\nSo, you'll notice that just checking for\nLisa by herself is possible in view\n\n568\n00:27:06.500 --> 00:27:09.094\neffective access,\nwe could see what she would get.\n\n569\n00:27:09.094 --> 00:27:14.703\nBut, if we wanna be able to view Lisa's\nclaim to access with the associated claims\n\n570\n00:27:14.703 --> 00:27:20.333\nfrom DAK that we've created, we come down\nhere to include a user or device claim.\n\n571\n00:27:20.333 --> 00:27:24.074\nObviously user claims for user,\ndevice claims for doing a device, right?\n\n572\n00:27:24.074 --> 00:27:24.697\n&gt;&gt; With machines.\n\n573\n00:27:24.697 --> 00:27:26.483\n&gt;&gt; Right, if we're doing like hey,\n\n574\n00:27:26.483 --> 00:27:29.384\nI wanted to see what workstation\none would be able to do.\n\n575\n00:27:29.384 --> 00:27:33.472\nAnd workstation's one claim is we said\nbuild number or OS version or whatever,\n\n576\n00:27:33.472 --> 00:27:37.387\nI would choose that and I would set that\nclaim up so I'd have that pre loaded.\n\n577\n00:27:37.387 --> 00:27:41.162\nI don't have that, we haven't done that,\nwe have done claims for users, right.\n\n578\n00:27:41.162 --> 00:27:42.264\n&gt;&gt; Right.\n&gt;&gt; So we make sense to\n\n579\n00:27:42.264 --> 00:27:43.522\ninclude a user claim.\n\n580\n00:27:43.522 --> 00:27:45.478\nSo we can include a user claim.\n\n581\n00:27:47.819 --> 00:27:50.955\nAnd so you see the different claims here,\ncompany and department.\n\n582\n00:27:50.955 --> 00:27:55.215\nSo something like company is equal to\nITProTV or obviously in your world,\n\n583\n00:27:55.215 --> 00:27:58.596\nthis would be whatever you set up,\nwhatever you specify.\n\n584\n00:27:58.596 --> 00:28:01.023\nWe're just using our demo claims here.\n\n585\n00:28:01.023 --> 00:28:06.382\nAnd then if I go and I view\nEffective Access, you can see that Lisa,\n\n586\n00:28:06.382 --> 00:28:10.752\nright, who-\n&gt;&gt; Does she not have access to?\n\n587\n00:28:10.752 --> 00:28:13.953\n&gt;&gt; Well, she does get access but\na limited grant of access.\n\n588\n00:28:13.953 --> 00:28:17.135\nBecause remember what we said was\nassuming that the user Lisa or\n\n589\n00:28:17.135 --> 00:28:21.349\nwhatever user we're testing, it doesn't\nreally matter, but in this case Lisa.\n\n590\n00:28:21.349 --> 00:28:26.143\nAssuming Lisa has ITPROTV\nas her company designation.\n\n591\n00:28:26.143 --> 00:28:31.893\nAs for a value for that attribute,\nthat claim in AD, then we would give read,\n\n592\n00:28:31.893 --> 00:28:35.973\nand read and execute I think,\nand I think I said right.\n\n593\n00:28:35.973 --> 00:28:37.529\nI think we gave them three permissions,\nright.\n\n594\n00:28:37.529 --> 00:28:41.030\nand so whatever was the ultimate\npermission grant was we gave,\n\n595\n00:28:41.030 --> 00:28:43.485\nwe would then see that\nin theory reflected.\n\n596\n00:28:43.485 --> 00:28:44.692\nAnd so what do we see here?\n\n597\n00:28:44.692 --> 00:28:47.679\nWell, we see a whole bunch of red x's,\nwhich means no permission.\n\n598\n00:28:47.679 --> 00:28:48.542\nBut we also see,\n\n599\n00:28:48.542 --> 00:28:50.838\nit's kinda hard to describe here-\n&gt;&gt; Okay,\n\n600\n00:28:50.838 --> 00:28:54.064\nI don't like- [LAUGH]\n&gt;&gt; It's the group icon with a little green\n\n601\n00:28:54.064 --> 00:28:56.865\ncheck right through\nthe middle of the group.\n\n602\n00:28:56.865 --> 00:29:00.087\nSo almost imagine a green check\nthat kinda goes like this, right,\n\n603\n00:29:00.087 --> 00:29:02.919\nthrough the middle of you,\nand that's what that icon is.\n\n604\n00:29:02.919 --> 00:29:05.036\nIt's very hard to see but\nthat's what it is.\n\n605\n00:29:05.036 --> 00:29:06.422\nSo again, great UI work there.\n\n606\n00:29:06.422 --> 00:29:08.499\n&gt;&gt; [LAUGH]\n&gt;&gt; Awesome, right,\n\n607\n00:29:08.499 --> 00:29:10.657\nwe love those mystery icons and\nwhat they are.\n\n608\n00:29:10.657 --> 00:29:12.785\n&gt;&gt; Yeah,\nused to have the color green, red.\n\n609\n00:29:12.785 --> 00:29:15.815\n&gt;&gt; Yeah, so the red x, obviously,\nhopefully to everybody means, hey,\n\n610\n00:29:15.815 --> 00:29:16.888\nyou're not getting in.\n\n611\n00:29:16.888 --> 00:29:18.606\nWhereas the green does.\n\n612\n00:29:18.606 --> 00:29:20.617\nAnd we said,\nwe're granting read permission.\n\n613\n00:29:20.617 --> 00:29:23.130\nYou could see read permission\nis highlighted and is available.\n\n614\n00:29:23.130 --> 00:29:25.398\nActually, when I highlight in blue,\nit may not be easier for\n\n615\n00:29:25.398 --> 00:29:26.339\nyou to see on the screen.\n\n616\n00:29:26.339 --> 00:29:28.466\n[LAUGH] But when you look at it in blue,\nyou can actually tell it is.\n\n617\n00:29:28.466 --> 00:29:29.563\n[CROSSTALK]\n&gt;&gt; Follow the line?\n\n618\n00:29:29.563 --> 00:29:30.494\n&gt;&gt; You can see.\nYeah.\n\n619\n00:29:30.494 --> 00:29:34.853\nSo we see that but we also see we have\nread extended, read attributes list, and\n\n620\n00:29:34.853 --> 00:29:35.528\ntraverse.\n\n621\n00:29:35.528 --> 00:29:39.599\nSo the read and read and\nexecute are going to be granted.\n\n622\n00:29:39.599 --> 00:29:42.087\nBut notice that everything else\nis going to be blocked, and\n\n623\n00:29:42.087 --> 00:29:44.395\nnotice by the way where these\nare coming from, right.\n\n624\n00:29:44.395 --> 00:29:45.934\nLet me go up here.\n\n625\n00:29:45.934 --> 00:29:50.445\nOur access limited by is the column and\nwhat do we see?\n\n626\n00:29:50.445 --> 00:29:52.568\nItprocar1, right?\n\n627\n00:29:52.568 --> 00:29:59.465\nItprocar1 in file permissions and or\nitpro, and these are being granted, right.\n\n628\n00:29:59.465 --> 00:30:02.672\nAlthough it doesn't say it because the\ncolumn header is kinda weird when you have\n\n629\n00:30:02.672 --> 00:30:04.098\nto read it and kinda think about it.\n\n630\n00:30:04.098 --> 00:30:05.920\nIt says access limited by.\n\n631\n00:30:05.920 --> 00:30:08.723\nSo we don't see a listing there when\nit's blank in the column header,\n\n632\n00:30:08.723 --> 00:30:10.205\nthose are the ones that are allowed.\n\n633\n00:30:10.205 --> 00:30:10.888\n&gt;&gt; Not being limited.\n\n634\n00:30:10.888 --> 00:30:12.570\n&gt;&gt; Their not being limited, right.\n\n635\n00:30:12.570 --> 00:30:15.758\nAnd so as a result, the ones that are\nbeing limited, how are they being limited?\n\n636\n00:30:15.758 --> 00:30:19.646\nThey're being limited as you can\nsee through the application of\n\n637\n00:30:19.646 --> 00:30:21.395\nthe central access rule.\n\n638\n00:30:21.395 --> 00:30:24.996\nThrough the central access policy,\nthrough DAC, cuz that's what we see.\n\n639\n00:30:24.996 --> 00:30:28.382\nITPRO car one is being applied\nthrough ITPRO cap one,\n\n640\n00:30:28.382 --> 00:30:32.437\njust being applied through\nour group policy called DAC.\n\n641\n00:30:32.437 --> 00:30:35.562\nKeep all that straight in you head,\nI challenge you, right?\n\n642\n00:30:35.562 --> 00:30:37.646\n&gt;&gt; [LAUGH] But for\nthose of you who can't, that's okay,\n\n643\n00:30:37.646 --> 00:30:39.137\nwe have the rewind button, so use it.\n\n644\n00:30:39.137 --> 00:30:40.762\n&gt;&gt; That's exactly why we have\nthe rewind button, right.\n\n645\n00:30:40.762 --> 00:30:44.129\nBut we've walked through now\nthe logic of let's build it.\n\n646\n00:30:44.129 --> 00:30:46.153\nAnd then let's build\nthe policy to apply it.\n\n647\n00:30:46.153 --> 00:30:47.914\nAnd of course now, what have we done?\n\n648\n00:30:47.914 --> 00:30:49.265\nWe've gone in and tested it to ensure and\n\n649\n00:30:49.265 --> 00:30:51.073\nvalidate that it's actually\nworking the right way.\n\n650\n00:30:51.073 --> 00:30:54.448\nBut we could see the outcome of this\nthat it is actually going to be applied,\n\n651\n00:30:54.448 --> 00:30:55.583\nat least where to log on.\n\n652\n00:30:55.583 --> 00:30:58.879\nOr any user,\nwe test anyone doesn't matter who,\n\n653\n00:30:58.879 --> 00:31:03.305\nI just chose Lisa because she happens\nto be a user we can use to test.\n\n654\n00:31:03.305 --> 00:31:09.083\nAnd assuming that she logs on with\nthat attribute in her profile,\n\n655\n00:31:09.083 --> 00:31:11.406\ncompany equals ITProTV.\n\n656\n00:31:11.406 --> 00:31:12.846\n[CROSSTALK]\n&gt;&gt; Yeah, where there was a directory.\n\n657\n00:31:12.846 --> 00:31:13.407\n&gt;&gt; That's what she's gonna get, right?\n\n658\n00:31:13.407 --> 00:31:14.026\n&gt;&gt; Yeah.\n\n659\n00:31:14.026 --> 00:31:14.969\n&gt;&gt; So we could see that.\n\n660\n00:31:14.969 --> 00:31:15.921\nSo that's what we were seeing.\n\n661\n00:31:15.921 --> 00:31:17.664\n&gt;&gt; All right, so it is-\n&gt;&gt; No, we're not done.\n\n662\n00:31:17.664 --> 00:31:18.560\nRemember, we're not done.\n\n663\n00:31:18.560 --> 00:31:19.643\n[CROSSTALK]\n&gt;&gt; Okay.\n\n664\n00:31:19.643 --> 00:31:20.344\n&gt;&gt; We've-\n&gt;&gt; That's right.\n\n665\n00:31:20.344 --> 00:31:20.866\n&gt;&gt; Got access denied.\n\n666\n00:31:20.866 --> 00:31:21.859\n&gt;&gt; When you talked about my-\n&gt;&gt; Got one more thing, right, yes.\n\n667\n00:31:21.859 --> 00:31:23.281\n&gt;&gt; From the other show.\n&gt;&gt; I saw you-\n\n668\n00:31:23.281 --> 00:31:24.168\n&gt;&gt; [LAUGH]\n\n669\n00:31:24.168 --> 00:31:25.391\n&gt;&gt; Rolling in an all right,\n\n670\n00:31:25.391 --> 00:31:27.497\nwe're getting out of here conversation.\n\n671\n00:31:27.497 --> 00:31:29.277\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so you've seen this.\n\n672\n00:31:29.277 --> 00:31:29.881\nWe did promise you one more thing.\n\n673\n00:31:29.881 --> 00:31:32.248\nWe're gonna go back, take a look\nat that last policy real quick.\n\n674\n00:31:32.248 --> 00:31:33.593\nAnd then we're gonna let Cherokee stay.\n\n675\n00:31:33.593 --> 00:31:34.683\n&gt;&gt; [LAUGH]\n&gt;&gt; We're done, and\n\n676\n00:31:34.683 --> 00:31:35.637\nwe're going to finish up.\n\n677\n00:31:35.637 --> 00:31:38.806\nSo you've seen how DAK works, but there's\nthis one last piece that we talked about,\n\n678\n00:31:38.806 --> 00:31:40.880\nso let's just get out of here real quick.\n\n679\n00:31:40.880 --> 00:31:44.103\nLet's go back to our group policy editor,\nand\n\n680\n00:31:44.103 --> 00:31:47.999\nremember our group policy manager and\nthen the editor.\n\n681\n00:31:47.999 --> 00:31:50.920\nBut remember we have this other policy\naccess denied assistance, right.\n\n682\n00:31:50.920 --> 00:31:55.540\nAnd we talked about this and said if we're\ngonna users access denied assistance and\n\n683\n00:31:55.540 --> 00:31:58.383\nactually give users\nthe benefit of some guidance.\n\n684\n00:31:58.383 --> 00:32:02.963\nTypically, an email or message that say,\nby the way, sorry that you can't do this,\n\n685\n00:32:02.963 --> 00:32:05.939\nand here's what you do to fix it or\nhere's who you talk to.\n\n686\n00:32:05.939 --> 00:32:08.775\nIf you remember the demonstrations\nback in the first.\n\n687\n00:32:08.775 --> 00:32:11.055\nEpisodes one, two, and three around FSRM.\n\n688\n00:32:11.055 --> 00:32:14.127\nAs I went through and we did quota\nmanagement, I think it was in episode two,\n\n689\n00:32:14.127 --> 00:32:15.410\nif I remember correctly.\n\n690\n00:32:15.410 --> 00:32:18.566\nWhen we did file screens in episode three,\n\n691\n00:32:18.566 --> 00:32:21.700\nwe went through and we showed you,\nokay, look, hey, I did this.\n\n692\n00:32:21.700 --> 00:32:25.033\nAnd when I did this here's the error or\nthe block that comes\n\n693\n00:32:25.033 --> 00:32:29.332\nup because my space was not enough to be\nable to allow me to copy the big file.\n\n694\n00:32:29.332 --> 00:32:32.630\nOr my file screen blocks it, no\nexecutables, then I drop the red gen into\n\n695\n00:32:32.630 --> 00:32:35.520\nthe folder and it said, oops,\nsorry you can't do that.\n\n696\n00:32:35.520 --> 00:32:38.485\nAll we got was a little dial up\nwindow that essentially said,\n\n697\n00:32:38.485 --> 00:32:40.763\nsorry, no permission and try again, right.\n\n698\n00:32:40.763 --> 00:32:42.850\nCuz that's the extent of the guidance.\n\n699\n00:32:42.850 --> 00:32:44.550\nBut we might want to give users more,\nright?\n\n700\n00:32:44.550 --> 00:32:45.710\nThat's the idea behind this.\n\n701\n00:32:45.710 --> 00:32:47.070\nAnd so how do we do that?\n\n702\n00:32:47.070 --> 00:32:49.910\nHow do we offer a little more\nprescriptive information?\n\n703\n00:32:49.910 --> 00:32:53.746\nNow with FSRM, we did talk about\nthe ability to set up those emails and\n\n704\n00:32:53.746 --> 00:32:54.752\nprogram them in.\n\n705\n00:32:54.752 --> 00:32:56.932\nAnd I showed you how to do\nthat with the settings.\n\n706\n00:32:56.932 --> 00:32:58.034\nBut there's another way to do this.\n\n707\n00:32:58.034 --> 00:33:01.969\nThis is what Cherokee was hinting at and\nasking about when she said, hey, is there\n\n708\n00:33:01.969 --> 00:33:05.635\na step in DAC as we're setting this up\nwhere it may be appropriate to do this?\n\n709\n00:33:05.635 --> 00:33:09.011\nAnd the answer is, not directly\nrelated to DAC, as I said, but\n\n710\n00:33:09.011 --> 00:33:11.195\nit's a separate step later on, right?\n\n711\n00:33:11.195 --> 00:33:14.188\nNot at that point in DAC where we\nwere setting up the claims and\n\n712\n00:33:14.188 --> 00:33:18.063\nthe properties and the lists and the\naccess policies and the access rules, but\n\n713\n00:33:18.063 --> 00:33:20.730\nrather separate through\nAccess Denied Assistance.\n\n714\n00:33:20.730 --> 00:33:25.130\nAnd so this policy, again, just named for\nwhat we're gonna do with it,\n\n715\n00:33:25.130 --> 00:33:27.400\nI've already opened it up and\nedited it, so it's right here.\n\n716\n00:33:28.730 --> 00:33:33.490\nLet's just take a look at where we\nare again on Computer Configuration,\n\n717\n00:33:33.490 --> 00:33:36.050\nup here under Policies,\nagain Administrative Templates.\n\n718\n00:33:36.050 --> 00:33:39.705\nJust like where we went for\nbeing able to access the KVC settings for\n\n719\n00:33:39.705 --> 00:33:42.240\nKerberos armoring and claim support.\n\n720\n00:33:42.240 --> 00:33:45.630\nBut in a different area, at the very,\nvery top of the list, very first one,\n\n721\n00:33:45.630 --> 00:33:48.800\nactually, under System Access Denied\nAssistance right here, right?\n\n722\n00:33:48.800 --> 00:33:50.390\nAnd with Access Denied Assistance,\n\n723\n00:33:50.390 --> 00:33:53.310\ntwo settings, neither of them\nconfigured out of the gate.\n\n724\n00:33:53.310 --> 00:33:56.797\nCustomize the message for\naccess denied errors, and\n\n725\n00:33:56.797 --> 00:34:01.693\nenable Access Denied Assistance for\nclients on client for all file types.\n\n726\n00:34:01.693 --> 00:34:03.141\nYou have to enable both of these.\n\n727\n00:34:03.141 --> 00:34:06.720\nThe bottom one just simply turns\non the ability for this to work.\n\n728\n00:34:06.720 --> 00:34:09.022\nThe top one is the messages\nthat people actually get.\n\n729\n00:34:09.022 --> 00:34:10.720\nWe'll quickly take a look at both.\n\n730\n00:34:10.720 --> 00:34:14.307\nSo enable this, easy, no problem.\n\n731\n00:34:14.307 --> 00:34:16.730\nWe'll just literally click Enable there.\n\n732\n00:34:16.730 --> 00:34:18.880\nThere's no settings of any kind,\n\n733\n00:34:18.880 --> 00:34:21.520\njust apply notice,\nat least Server 12 or Windows 8.\n\n734\n00:34:21.520 --> 00:34:22.970\nWe talked about this, right?\n\n735\n00:34:22.970 --> 00:34:26.354\nRemember, earlier clients don't benefit\nfrom this, Windows 7 or before.\n\n736\n00:34:26.354 --> 00:34:27.862\n&gt;&gt; Windows 7 and above?\n\n737\n00:34:27.862 --> 00:34:30.016\n&gt;&gt; No, Windows 8 and above.\n\n738\n00:34:30.016 --> 00:34:31.114\n&gt;&gt; Windows 7 does not?\n\n739\n00:34:31.114 --> 00:34:34.520\n&gt;&gt; Windows 7 does not, so\nWindows 7 and below would not.\n\n740\n00:34:34.520 --> 00:34:36.310\n&gt;&gt; Got it.\n&gt;&gt; Windows 8 and above does.\n\n741\n00:34:36.310 --> 00:34:38.417\nOkay, so I just want to make\nsure you're aware of that.\n\n742\n00:34:38.417 --> 00:34:41.200\nSo we're gonna apply that.\n\n743\n00:34:41.200 --> 00:34:43.600\nAnd there we go, so that one is enabled.\n\n744\n00:34:43.600 --> 00:34:45.730\nAnd then if we go here, right,\n\n745\n00:34:45.730 --> 00:34:49.900\nour first one, Customized Messages,\nyou'll see that again we must enable.\n\n746\n00:34:49.900 --> 00:34:54.230\nAnd then we get the option over here,\njust just scroll down so you can see that.\n\n747\n00:34:54.230 --> 00:34:59.150\nWe get the option here to be able\nto specify what the message is.\n\n748\n00:34:59.150 --> 00:35:03.376\nDisplay the following message to\nusers who are denied access, right,\n\n749\n00:35:03.376 --> 00:35:05.145\nsomething like ha, ha, ha.\n\n750\n00:35:05.145 --> 00:35:06.672\n&gt;&gt; That's evil.\n\n751\n00:35:06.672 --> 00:35:10.898\n&gt;&gt; No, what's really evil is the unsmiley\nface that I put at the end of that, right?\n\n752\n00:35:10.898 --> 00:35:13.790\nWait, let's actually,\nlet's make it even more evil.\n\n753\n00:35:13.790 --> 00:35:17.760\nLittle tongue sticking out, right, so\nthat really, truly aggravates people.\n\n754\n00:35:17.760 --> 00:35:19.705\nAll right, so we have that.\n\n755\n00:35:19.705 --> 00:35:21.970\nYou would obviously put something a little\nbit more meaningful and nice in there.\n\n756\n00:35:21.970 --> 00:35:22.680\n&gt;&gt; Professional.\n\n757\n00:35:22.680 --> 00:35:23.960\n[LAUGH]\n&gt;&gt; I didn't say professional,\n\n758\n00:35:23.960 --> 00:35:24.990\nI just said meaningful and nice.\n\n759\n00:35:24.990 --> 00:35:28.710\nAll right, so enable users to request\nassistance, you'd check that off.\n\n760\n00:35:28.710 --> 00:35:32.140\nThat will let users then send something\nback and say, hey, can you please help me.\n\n761\n00:35:32.140 --> 00:35:33.724\nI was kept out of this folder.\n\n762\n00:35:33.724 --> 00:35:35.989\nI'm supposed to be able to get in or\nwhatever the case may be.\n\n763\n00:35:35.989 --> 00:35:37.104\nAnd then when they call you or\n\n764\n00:35:37.104 --> 00:35:40.450\nemail you you can then laugh at them\ndirectly as opposed to simply remotely.\n\n765\n00:35:40.450 --> 00:35:43.740\nAdd the following text to\nthe end of the email, right?\n\n766\n00:35:43.740 --> 00:35:47.570\nSomething like, please call IT support for\n\n767\n00:35:47.570 --> 00:35:52.234\nfurther assistance, or\nwhatever it may be, right.\n\n768\n00:35:52.234 --> 00:35:53.620\nAt-\n&gt;&gt; Extension or whatever.\n\n769\n00:35:53.620 --> 00:35:57.427\n&gt;&gt; Extension 4567, or\nwhatever the case may be, right.\n\n770\n00:35:57.427 --> 00:35:59.178\nSo you put something like that in there.\n\n771\n00:35:59.178 --> 00:36:05.170\nThen email recipients, who do you want\nto email when the user is blocked and\n\n772\n00:36:05.170 --> 00:36:07.570\ndoes not get access to\nfolder owner by default?\n\n773\n00:36:07.570 --> 00:36:10.896\nFile server, administrator, remember,\nwe specified these in FSRM,\n\n774\n00:36:10.896 --> 00:36:14.123\nfile server administrator, and\nthen maybe additional recipients.\n\n775\n00:36:14.123 --> 00:36:18.187\nMaybe support@company.com or whatever,\nso you get an email alias for\n\n776\n00:36:18.187 --> 00:36:19.720\nthe IT support desk.\n\n777\n00:36:19.720 --> 00:36:23.640\nAnd then email settings include device\nclaims, user claims, log emails, and\n\n778\n00:36:23.640 --> 00:36:27.020\napplication and services event log so\nthat we have a record of that.\n\n779\n00:36:27.020 --> 00:36:29.950\nWe see the claims coming in,\nand maybe Cherokee logged in,\n\n780\n00:36:29.950 --> 00:36:33.340\nhad a claim that was ITPro but\ndidn't have TV at the end.\n\n781\n00:36:33.340 --> 00:36:35.149\nAnd maybe that was the reason\nshe's not getting in.\n\n782\n00:36:35.149 --> 00:36:39.890\nAnd we can go fix that easily enough\njust by fixing the value in her profile.\n\n783\n00:36:39.890 --> 00:36:42.674\nAnd maybe IT support does test\nthe ability to do that, or\n\n784\n00:36:42.674 --> 00:36:45.533\nmaybe the AD admin function\nhas to get involved, right?\n\n785\n00:36:45.533 --> 00:36:48.048\nBecause they have to update that\nuser because maybe the user was\n\n786\n00:36:48.048 --> 00:36:49.200\nprovisioned incorrectly.\n\n787\n00:36:49.200 --> 00:36:50.354\nWho knows what would have happened?\n\n788\n00:36:50.354 --> 00:36:54.009\nBut whatever the case is, if we include\nthe claims, which we do by default,\n\n789\n00:36:54.009 --> 00:36:57.953\nthen we're able to validate what's going\non versus what the expectation is, and\n\n790\n00:36:57.953 --> 00:36:59.500\nthat becomes important.\n\n791\n00:36:59.500 --> 00:37:00.831\nSo we could apply these as well.\n\n792\n00:37:00.831 --> 00:37:03.459\nWe'll click Apply.\n\n793\n00:37:03.459 --> 00:37:05.665\nYeah, we have to do that\nif we wanna do that.\n\n794\n00:37:05.665 --> 00:37:08.306\nOne second, I think I missed one.\n\n795\n00:37:14.753 --> 00:37:17.730\nWhatever the case may be,\nall right, so we got that.\n\n796\n00:37:20.862 --> 00:37:24.600\nWhich field is not, Enter.\n\n797\n00:37:24.600 --> 00:37:25.550\nHold on just one second.\n\n798\n00:37:25.550 --> 00:37:28.403\nI have text in every field,\nwhich one do I not have text in?\n\n799\n00:37:29.933 --> 00:37:31.215\nNope, I did that one.\n\n800\n00:37:31.215 --> 00:37:31.796\nI did that one.\n\n801\n00:37:31.796 --> 00:37:35.520\nLet's just go back there and view that.\n\n802\n00:37:35.520 --> 00:37:36.470\nSo which one?\n\n803\n00:37:36.470 --> 00:37:38.056\nMaybe Comments, maybe that's what it is.\n\n804\n00:37:38.056 --> 00:37:39.560\n&gt;&gt; That's some kind of description there?\n\n805\n00:37:39.560 --> 00:37:43.559\n&gt;&gt; Maybe, yeah, just, I don't know,\nmaybe that's what it's telling me.\n\n806\n00:37:43.559 --> 00:37:46.310\nNope, no text was entered for this field.\n\n807\n00:37:46.310 --> 00:37:48.358\nOf course, it doesn't tell me which field.\n\n808\n00:37:48.358 --> 00:37:49.760\nAll right, you get the point anyway.\n\n809\n00:37:49.760 --> 00:37:51.970\nI'm not sure why it's doing that\ncuz we have text in every field.\n\n810\n00:37:51.970 --> 00:37:53.546\nThat's really kind of odd.\n\n811\n00:37:53.546 --> 00:37:55.226\nBut anyway, we would enable that.\n\n812\n00:37:55.226 --> 00:37:58.233\nWe would then go ahead and\nwe would [COUGH] hit OK,\n\n813\n00:37:58.233 --> 00:38:00.320\nwould show up in the policy.\n\n814\n00:38:00.320 --> 00:38:02.770\nAnd then once we do that, of course,\nstandard rules apply, right?\n\n815\n00:38:02.770 --> 00:38:04.824\nApply the policy and\nthen that's gonna show up.\n\n816\n00:38:04.824 --> 00:38:09.040\nNow the thing I wanted to remind you of,\nI think I said this already, but remember,\n\n817\n00:38:09.040 --> 00:38:11.448\nif we set them here,\nas I was indicating to you,\n\n818\n00:38:11.448 --> 00:38:14.960\nthese settings override the email\nconfiguration settings in FSRM.\n\n819\n00:38:14.960 --> 00:38:16.045\nSo just keep that in mind and\n\n820\n00:38:16.045 --> 00:38:18.600\nbe aware of that because they\nwind up being mutually exclusive.\n\n821\n00:38:18.600 --> 00:38:21.980\nA lot of times you'll set\nthese email messages in FSRM\n\n822\n00:38:21.980 --> 00:38:25.830\nin the consoles we showed you,\nin which case that's fine, no big deal.\n\n823\n00:38:25.830 --> 00:38:28.864\nBut don't set them here,\ncuz if you then set them here as well,\n\n824\n00:38:28.864 --> 00:38:30.821\nthese will override what we set in FSRM.\n\n825\n00:38:30.821 --> 00:38:31.574\nSo just want to make sure\nyou're aware of that.\n\n826\n00:38:31.574 --> 00:38:32.870\n&gt;&gt; Good to know, yes.\n\n827\n00:38:32.870 --> 00:38:35.365\n&gt;&gt; Yeah, yeah, important to know cuz you'd\nwant to do an import twice if it doesn't\n\n828\n00:38:35.365 --> 00:38:36.388\nwork out the way you were hoping.\n\n829\n00:38:36.388 --> 00:38:38.430\nSo that could be a little confusing.\n\n830\n00:38:38.430 --> 00:38:40.206\nAll right, now we're-\n&gt;&gt; I can say it now?\n\n831\n00:38:40.206 --> 00:38:41.937\n&gt;&gt; Now you can say it.\n&gt;&gt; Okay, all right.\n\n832\n00:38:41.937 --> 00:38:44.320\nLadies and gentlemen, thank you for\njoining us today, but\n\n833\n00:38:44.320 --> 00:38:47.540\nwe are out of time for this particular\nepisode, so we'll sign out.\n\n834\n00:38:47.540 --> 00:38:48.949\nI've been your host, Cherokee Boose.\n\n835\n00:38:48.949 --> 00:38:49.778\n&gt;&gt; I'm Adam Gordon.\n\n836\n00:38:49.778 --> 00:38:51.542\n&gt;&gt; See you next time here at ITProTV.\n\n837\n00:38:53.427 --> 00:38:59.234\n[MUSIC]\n\n838\n00:38:59.234 --> 00:39:02.371\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "235068956"
        },
        {
          "description": "In this episode, Adam and Cherokee demonstrate how to implement file access auditing. Tune in to watch a demonstration.",
          "length": "1444",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-7-implement_fsrm_and_dac_pt7-092117-PGM.00_23_48_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-7-implement_fsrm_and_dac_pt7-092117-PGM.00_23_48_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-13-1-7-implement_fsrm_and_dac_pt7-092117-PGM.00_23_48_06.Still001-sm.jpg",
          "title": "Implement FSRM and DAC Part 7",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:01.338\nWelcome to ITProTV.\n\n2\n00:00:01.338 --> 00:00:02.575\nI'm your host, Don Pezet.\n\n3\n00:00:02.575 --> 00:00:05.118\n[CROSSTALK]\n\n4\n00:00:05.118 --> 00:00:08.348\n[MUSIC]\n\n5\n00:00:08.348 --> 00:00:11.866\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.866 --> 00:00:15.348\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n7\n00:00:15.348 --> 00:00:17.390\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.390 --> 00:00:19.950\nWe've been talking about FSRM and\nDAC for quite a bit now.\n\n9\n00:00:19.950 --> 00:00:21.880\nWe're actually here out of part seven.\n\n10\n00:00:21.880 --> 00:00:25.730\nBut specifically in this show, we'll be\ntaking a look at file access auditing.\n\n11\n00:00:25.730 --> 00:00:28.725\nAnd back with us in studios today,\nwe have Mr. Adam Gordon.\n\n12\n00:00:28.725 --> 00:00:29.840\nHow are you this afternoon?\n\n13\n00:00:29.840 --> 00:00:33.360\n&gt;&gt; I am excited about file\naccess auditing, actually.\n\n14\n00:00:33.360 --> 00:00:34.056\n&gt;&gt; I am, too.\n\n15\n00:00:34.056 --> 00:00:36.020\n&gt;&gt; Yeah.\n&gt;&gt; Yeah, especially since I'm the boss and\n\n16\n00:00:36.020 --> 00:00:37.740\nI'm like, in control.\n\n17\n00:00:37.740 --> 00:00:40.660\nI can use this to control my environment.\n\n18\n00:00:40.660 --> 00:00:41.400\n&gt;&gt; Were you saying something?\n\n19\n00:00:41.400 --> 00:00:41.982\nI'm sorry.\n\n20\n00:00:41.982 --> 00:00:43.528\n&gt;&gt; [LAUGH]\n&gt;&gt; Was I supposed to pay attention to what\n\n21\n00:00:43.528 --> 00:00:44.238\nyou were saying?\n\n22\n00:00:44.238 --> 00:00:46.620\n&gt;&gt; Yeah, especially when I use air quotes.\n\n23\n00:00:46.620 --> 00:00:47.675\n&gt;&gt; You shouldn't mumble when you talk.\n\n24\n00:00:47.675 --> 00:00:49.101\n&gt;&gt; [LAUGH]\n&gt;&gt; You should actually enunicate.\n\n25\n00:00:49.101 --> 00:00:51.295\nAll right, yes, Miss Cherokee,\nyou are the boss.\n\n26\n00:00:51.295 --> 00:00:52.405\nAnd as the boss,\n\n27\n00:00:52.405 --> 00:00:55.085\nare we allowed to talk about the file\naccess auditing with air quotes?\n\n28\n00:00:55.085 --> 00:00:57.965\n&gt;&gt; I grant you permission to\ntalk about file access auditing.\n\n29\n00:00:57.965 --> 00:00:59.005\n&gt;&gt; Awesome.\n&gt;&gt; [LAUGH]\n\n30\n00:00:59.005 --> 00:00:59.845\n&gt;&gt; All right, so\n\n31\n00:00:59.845 --> 00:01:01.975\nthe boss said we could talk\nabout file access auditing.\n\n32\n00:01:01.975 --> 00:01:06.577\nSo we are gonna actually\ncomplete the circle of life, or\n\n33\n00:01:06.577 --> 00:01:09.237\nthe circle of FSRM, DAC,\nand auditing in this case.\n\n34\n00:01:09.237 --> 00:01:10.427\nIn all of our prior episodes,\n\n35\n00:01:10.427 --> 00:01:12.927\nif you haven't seen the last six\nthat went before this one, well,\n\n36\n00:01:12.927 --> 00:01:16.668\nyou missed quite some exciting\nstuff there, ladies and gentleman.\n\n37\n00:01:16.668 --> 00:01:19.808\nWe talked about FSRM,\nFile Server Resource monitoring and\n\n38\n00:01:19.808 --> 00:01:24.278\nmanagement, how we use FSRM as\na technology, a role based install.\n\n39\n00:01:24.278 --> 00:01:25.998\nFirst three episodes\nwent through all of that.\n\n40\n00:01:25.998 --> 00:01:29.668\nTalked about the File Server Resource\nManager, and how we actually go in and\n\n41\n00:01:29.668 --> 00:01:34.568\nuse classification rules, use quota\nmanagement, use file screening, and file\n\n42\n00:01:34.568 --> 00:01:39.010\nscheduled tasks to be able to automate the\nprocesses associated with file management.\n\n43\n00:01:39.010 --> 00:01:40.640\nReally cool in of itself, right, and\n\n44\n00:01:40.640 --> 00:01:43.670\ntechnology that's been around for\nseveral generations now.\n\n45\n00:01:43.670 --> 00:01:46.540\nWe then added in,\nin episodes four, five, and six,\n\n46\n00:01:46.540 --> 00:01:51.280\nbuilding on FSRM, the concept of DAC,\nor Dynamic Access Control.\n\n47\n00:01:51.280 --> 00:01:54.853\nAgain, technology that's been around for\na while, but bringing it together,\n\n48\n00:01:54.853 --> 00:01:57.491\nFSRM is the building block and\none of the pre-reqs for DAC.\n\n49\n00:01:57.491 --> 00:02:02.181\nSo we did that first, put a series of\nshows or rather episodes in together for\n\n50\n00:02:02.181 --> 00:02:04.580\nyou around DAC and how DAC works.\n\n51\n00:02:04.580 --> 00:02:08.380\nJust finishing up that in the last\nepisode, and now we're gonna add in\n\n52\n00:02:08.380 --> 00:02:12.200\nthe final piece, the capstone,\nif you will, with file access auditing.\n\n53\n00:02:12.200 --> 00:02:16.830\nHow we track all the access that\nis gonna be allowed, generated,\n\n54\n00:02:16.830 --> 00:02:21.670\nmanaged and constrained through FSRM\nin DAC and how we get a record of that.\n\n55\n00:02:21.670 --> 00:02:25.865\nHow do we tell that that's happening,\nand how can we prescriptively and\n\n56\n00:02:25.865 --> 00:02:28.825\nvery narrowly defining our\naudit capabilities and\n\n57\n00:02:28.825 --> 00:02:33.433\nour needs through auditing, track usage\nfrom let's say a user like Cherokee or\n\n58\n00:02:33.433 --> 00:02:36.087\nour favorite demo user, right, Miss Lisa.\n\n59\n00:02:36.087 --> 00:02:40.410\nWe're gonna go and take a look at Lisa and\nsee how we can track usage from an account\n\n60\n00:02:40.410 --> 00:02:43.050\nthrough that whole\nprocess start to finish.\n\n61\n00:02:43.050 --> 00:02:45.790\nAgain, Group Policy driven,\njust like we talked about with\n\n62\n00:02:47.120 --> 00:02:51.340\nnot only the application of DAC, the end\npieces around DAC to set DAC up and\n\n63\n00:02:51.340 --> 00:02:54.590\nenable our CAP,\nour Central Access Policy to be applied.\n\n64\n00:02:54.590 --> 00:02:56.490\nTalked about how to do\nthat in the last episode.\n\n65\n00:02:56.490 --> 00:03:01.080\nAlso how to apply the KDC settings,\nthe Key Distribution Center settings\n\n66\n00:03:01.080 --> 00:03:04.680\nthat will allow for our claim space\nauthentication and Kerberos support.\n\n67\n00:03:04.680 --> 00:03:07.312\nWe walked through\nthe Group Policy Editor to do all that.\n\n68\n00:03:07.312 --> 00:03:09.900\nWe're gonna revisit\nthe Group Policy Editor.\n\n69\n00:03:09.900 --> 00:03:12.680\nWe'll take a look at a different\npolicy necessary for\n\n70\n00:03:12.680 --> 00:03:14.042\nus to set up file access auditing.\n\n71\n00:03:14.042 --> 00:03:16.358\nThat's what we're gonna do as soon as\nCherokee tells me that I have to change\n\n72\n00:03:16.358 --> 00:03:18.528\nthe whole thing we just talked about\nbecause she has a new idea about what\n\n73\n00:03:18.528 --> 00:03:19.309\nshe wants to talk about.\n\n74\n00:03:19.309 --> 00:03:21.219\n&gt;&gt; I got a new idea, yeah,\nlet's talk about something else.\n\n75\n00:03:21.219 --> 00:03:21.720\n&gt;&gt; Yeah, so.\n\n76\n00:03:21.720 --> 00:03:24.190\n&gt;&gt; No, I just was thinking,\nthis is a great tool to go ahead and\n\n77\n00:03:24.190 --> 00:03:26.550\nimplement business\nrelationship management.\n\n78\n00:03:26.550 --> 00:03:31.720\nIf I'm looking at a customer or an\norganization, whether I'm internal IT or\n\n79\n00:03:31.720 --> 00:03:35.840\na consultant, I can see who is\naccessing what and how frequently.\n\n80\n00:03:35.840 --> 00:03:40.106\nAnd then offer potential solutions\nto improve the situation if I\n\n81\n00:03:40.106 --> 00:03:44.454\ncan identify any from the reports and\nthe audits that we see here.\n\n82\n00:03:44.454 --> 00:03:47.410\n&gt;&gt; We could, so\nbe our ambitious relationship management,\n\n83\n00:03:47.410 --> 00:03:52.230\none potential outgrowth or potential value\nadd, if you will, from this technology.\n\n84\n00:03:52.230 --> 00:03:54.980\n&gt;&gt; We can certainly focus,\nthink about that as a focus.\n\n85\n00:03:54.980 --> 00:03:56.947\nBut we could also,\njust at a more basic level,\n\n86\n00:03:56.947 --> 00:03:58.926\nthink about just\nthe security implications.\n\n87\n00:03:58.926 --> 00:04:02.940\nThat's right, because we are here to talk\nabout security, how we secure Server 16.\n\n88\n00:04:02.940 --> 00:04:06.615\nAnd so we're gonna link this conversation\nto some notes I put together for you.\n\n89\n00:04:06.615 --> 00:04:09.805\nWe'll take a look them as we\ntry to do from time to time.\n\n90\n00:04:09.805 --> 00:04:12.995\nSome event log entries that'll be\ngenerated as a result of enabling file\n\n91\n00:04:12.995 --> 00:04:15.795\naccess auditing, and we just wanna make\nsure we have a sense of what those event\n\n92\n00:04:15.795 --> 00:04:18.810\nIDs are, make sure we understand\nauditing is happening.\n\n93\n00:04:18.810 --> 00:04:21.440\nAnd you never know,\nmaybe from an exam perspective,\n\n94\n00:04:21.440 --> 00:04:24.660\nknow those numbers, cuz they do\ntend to come up from time to time.\n\n95\n00:04:24.660 --> 00:04:26.920\nSo we will show you those as well.\n\n96\n00:04:26.920 --> 00:04:29.400\nJoin me, if you will,\nright up, well, over there.\n\n97\n00:04:29.400 --> 00:04:31.027\nExactly, there we go,\nI'm getting better at that.\n\n98\n00:04:31.027 --> 00:04:31.997\n&gt;&gt; You are.\n&gt;&gt; That's actually, yeah.\n\n99\n00:04:31.997 --> 00:04:34.231\nAll right, [LAUGH] so let's go in.\n\n100\n00:04:34.231 --> 00:04:36.072\nWe are on our domain controllers.\n\n101\n00:04:36.072 --> 00:04:39.339\nYou could see at the upper\nleft-hand corner plabdc01.\n\n102\n00:04:39.339 --> 00:04:41.664\nRemember when we're\nsetting up Group Policy,\n\n103\n00:04:41.664 --> 00:04:45.450\nmost likely wanna be operating from one\nof the domain controllers to do this.\n\n104\n00:04:45.450 --> 00:04:48.270\nSo we're back on our\ntrusty demo machine here.\n\n105\n00:04:48.270 --> 00:04:50.880\nI've got the output of some\nof my other policies we used\n\n106\n00:04:50.880 --> 00:04:53.120\nin our last couple of\nepisodes kinda sitting there.\n\n107\n00:04:53.120 --> 00:04:57.060\nWe've been through access denied\nassistance, talked about DAC.\n\n108\n00:04:57.060 --> 00:04:59.050\nSo we have those policies available to us.\n\n109\n00:04:59.050 --> 00:05:03.980\nWe're gonna go in, just add a new policy\nhere for file access auditing purposes.\n\n110\n00:05:03.980 --> 00:05:07.210\nNow recommendations and best practice\nguidance we often talk about.\n\n111\n00:05:07.210 --> 00:05:08.850\nI do this for customers a lot.\n\n112\n00:05:08.850 --> 00:05:12.860\nWe talk a lot about Group Policy,\nof the use of Group Policy.\n\n113\n00:05:12.860 --> 00:05:14.714\nNot gonna have that whole\nconversation right now,\n\n114\n00:05:14.714 --> 00:05:16.530\nbut remind you about one element of this.\n\n115\n00:05:16.530 --> 00:05:19.780\nWe talked a lot about the need\nto really plan to be successful.\n\n116\n00:05:19.780 --> 00:05:22.880\nWhen we talk about planning to be\nsuccessful, one of the things to consider\n\n117\n00:05:22.880 --> 00:05:25.980\nis how many Group Policies are we\napplying, and how long does it take for\n\n118\n00:05:25.980 --> 00:05:30.200\nthem to be applied,\nwith regards to log on and/or start up.\n\n119\n00:05:30.200 --> 00:05:31.960\nAnd as we're getting into the system,\n\n120\n00:05:31.960 --> 00:05:37.500\nwe have that window where the system is\nessentially in a kind of a transition\n\n121\n00:05:37.500 --> 00:05:40.380\nstate where you go to log in, you probably\nhave to use a name or credential.\n\n122\n00:05:40.380 --> 00:05:41.890\nWe've all seen this happen.\n\n123\n00:05:41.890 --> 00:05:45.450\nAnd we're waiting and the desktop\nhasn't emerged yet, we're essentially\n\n124\n00:05:45.450 --> 00:05:48.280\nwaiting on a bunch of policies\nbehind the scenes to be processed,\n\n125\n00:05:48.280 --> 00:05:50.150\npulled down and applied to the system.\n\n126\n00:05:50.150 --> 00:05:52.853\nAnd the more policies\nthat we put in place, and\n\n127\n00:05:52.853 --> 00:05:56.600\nthe more that we have to apply,\nthe longer that puritive time takes.\n\n128\n00:05:56.600 --> 00:06:00.470\nAnd it can actually gets so long,\nby the way, that we actually can time out.\n\n129\n00:06:00.470 --> 00:06:01.040\nAnd as a result,\n\n130\n00:06:01.040 --> 00:06:03.660\nwe may not be able to log on if there's\ntoo many policies being applied.\n\n131\n00:06:03.660 --> 00:06:06.012\nSo I'm not suggesting it's gonna happen.\n\n132\n00:06:06.012 --> 00:06:09.500\nI'm not suggesting that having an extra\npolicy here is gonna make that happen.\n\n133\n00:06:09.500 --> 00:06:13.500\nWhat I am suggesting is that we have to\nreally pay special attention to this,\n\n134\n00:06:13.500 --> 00:06:14.970\nboth from a security perspective.\n\n135\n00:06:14.970 --> 00:06:17.670\nWe are here to talk about\nsecurity in this episode and\n\n136\n00:06:17.670 --> 00:06:19.850\nmore broadly in this show overall.\n\n137\n00:06:19.850 --> 00:06:21.590\nAnd we have to keep that in mind, right?\n\n138\n00:06:21.590 --> 00:06:23.910\nWe have to balance our security needs,\nin other words,\n\n139\n00:06:23.910 --> 00:06:27.785\nwith our real world performance,\nreliability, and usability concerns.\n\n140\n00:06:27.785 --> 00:06:31.170\nSo that's the eternal struggle\nthat we have with security.\n\n141\n00:06:31.170 --> 00:06:36.880\nAre we making things so secure that we're\nsacrificing usability and reliability?\n\n142\n00:06:36.880 --> 00:06:41.590\nPerhaps secondary, but primarily usability\nof the end users needing to use the system\n\n143\n00:06:41.590 --> 00:06:43.310\non the altar of security?\n\n144\n00:06:43.310 --> 00:06:46.070\nOr are we making things\nsecure in our minds, but\n\n145\n00:06:46.070 --> 00:06:48.810\nthe reality is not in practicality and\nnot in application?\n\n146\n00:06:48.810 --> 00:06:50.620\nSo we have to think about this.\n\n147\n00:06:50.620 --> 00:06:54.200\nWhat I would suggest, and\nwhat you often see in the guidance and\n\n148\n00:06:54.200 --> 00:06:58.240\nbest practice around file\naccess auditing DAC FSRM is,\n\n149\n00:06:58.240 --> 00:07:02.180\na lot of times the documentation will say,\nand by the way, you can apply the file\n\n150\n00:07:02.180 --> 00:07:05.720\naccess auditing settings through the DAC\npolicy if you choose to do that.\n\n151\n00:07:05.720 --> 00:07:07.303\nYou can kinda bundle them together.\n\n152\n00:07:07.303 --> 00:07:10.760\nAnd so you can do that if you want,\nthere's nothing wrong with doing that.\n\n153\n00:07:10.760 --> 00:07:13.860\nAnd again, there may be some\nreal good idea in a sense there\n\n154\n00:07:13.860 --> 00:07:17.180\nabout having one policy a little bit\nbigger that does multiple things so\n\n155\n00:07:17.180 --> 00:07:19.370\nwe're not processing individual policies.\n\n156\n00:07:19.370 --> 00:07:20.440\nTakes longer to do that.\n\n157\n00:07:20.440 --> 00:07:24.720\nThe general best practice rule of thumb\naround Group Policy Management is smaller\n\n158\n00:07:24.720 --> 00:07:28.820\nnumbers of policies, in other words\nmore policies individually doing very\n\n159\n00:07:28.820 --> 00:07:32.970\nsmall minute things is not good because we\nhave to process each policy individually.\n\n160\n00:07:32.970 --> 00:07:33.940\nIt takes longer.\n\n161\n00:07:33.940 --> 00:07:36.381\nRather we'd like to see a smaller\nnumber of overall policies, but\n\n162\n00:07:36.381 --> 00:07:38.962\nthey may be bigger and they may have\nmore things associated with them.\n\n163\n00:07:38.962 --> 00:07:40.986\n&gt;&gt; A little more comprehensive.\n\n164\n00:07:40.986 --> 00:07:45.352\n&gt;&gt; Correct, because processing two\npolicies that are fairly large versus five\n\n165\n00:07:45.352 --> 00:07:49.853\nthat are smaller incrementally doing\nthe same thing can actually take longer to\n\n166\n00:07:49.853 --> 00:07:53.967\nprocess those five policies,\none at a time, combining them together.\n\n167\n00:07:53.967 --> 00:07:56.236\nAnd also the concern we may have there and\n\n168\n00:07:56.236 --> 00:07:59.056\nindeed we do have Is\nthe interaction of policies.\n\n169\n00:07:59.056 --> 00:08:00.699\nAre we overriding settings?\n\n170\n00:08:00.699 --> 00:08:02.300\nAre we cancelling them out?\n\n171\n00:08:02.300 --> 00:08:02.800\nModifying them?\n\n172\n00:08:02.800 --> 00:08:03.680\n&gt;&gt; Causing any conflicts, yeah.\n\n173\n00:08:03.680 --> 00:08:07.680\n&gt;&gt; Potentially causing unknown, unwanted,\nand or unforeseen outcomes, right,\n\n174\n00:08:07.680 --> 00:08:08.890\nwhich we may not have planned for.\n\n175\n00:08:08.890 --> 00:08:14.640\nSo there's a lot of potential downside,\nwhen we deal with getting into, hey let's\n\n176\n00:08:14.640 --> 00:08:18.480\ncreate a policy for that or hey let's\nadd that in there as a setting, right.\n\n177\n00:08:18.480 --> 00:08:19.450\nWe have to think really long and\n\n178\n00:08:19.450 --> 00:08:22.910\nhard about that and have a sense\nof how we wanna approach that.\n\n179\n00:08:22.910 --> 00:08:26.290\nA more thorough, in depth\nconversation around that whole idea\n\n180\n00:08:26.290 --> 00:08:28.980\nhappens in the group policy\nconversations more broadly.\n\n181\n00:08:28.980 --> 00:08:32.920\nWe've had those in some of the episodes\nrelated to shows like this,\n\n182\n00:08:32.920 --> 00:08:37.390\ncertainly in the identity and managing\nthe identity with server 16 Show and\n\n183\n00:08:37.390 --> 00:08:38.870\nall the conversation Cherokee and\nI had there.\n\n184\n00:08:38.870 --> 00:08:42.780\nDid an extensive discussion set,\nextensive set of episodes on group policy.\n\n185\n00:08:42.780 --> 00:08:47.130\nI invite you to watch those and\nbenefit from that conversation there.\n\n186\n00:08:47.130 --> 00:08:50.480\nWe've done it in other areas,\nin Server 12 Cherokee and I have done it.\n\n187\n00:08:50.480 --> 00:08:54.410\nMany different episodes, many different\nshows we hit on the same theme and\n\n188\n00:08:54.410 --> 00:08:55.370\nthere's a reason for that.\n\n189\n00:08:55.370 --> 00:08:56.910\nSo I'm just reminding you of that.\n\n190\n00:08:56.910 --> 00:08:58.540\nMore so than anything else.\n\n191\n00:08:58.540 --> 00:09:03.300\nSo we go back to where we were,\nlet's jump in, let's create our policy and\n\n192\n00:09:03.300 --> 00:09:06.500\njust talk about the settings\nassociated with file access auditing.\n\n193\n00:09:06.500 --> 00:09:09.940\nSo I'm gonna right click,\nI'm gonna go ahead.\n\n194\n00:09:09.940 --> 00:09:10.700\nEdit my policy.\n\n195\n00:09:10.700 --> 00:09:12.880\nI've already got it open so\nI'm just going to go ahead and\n\n196\n00:09:12.880 --> 00:09:13.750\npretend that I clicked there.\n\n197\n00:09:13.750 --> 00:09:15.410\nBut show you how I would edit that.\n\n198\n00:09:15.410 --> 00:09:19.840\nI have it open because I already have the\npath to the policy settings that I want to\n\n199\n00:09:19.840 --> 00:09:25.000\nuse pre-exposed so we can see it easily as\nwe try to do in many of our discussions.\n\n200\n00:09:25.000 --> 00:09:27.050\nAnd reminding you of where we are.\n\n201\n00:09:27.050 --> 00:09:31.340\nSo we're on the computer configuration\narea, in the computer configuration area.\n\n202\n00:09:31.340 --> 00:09:32.990\nUnder policies, under Windows settings,\n\n203\n00:09:32.990 --> 00:09:37.280\nunder security settings,\ndown almost all the way at the bottom.\n\n204\n00:09:37.280 --> 00:09:40.280\nNot that this is alphabetical, and\nLord knows that would make sense, but\n\n205\n00:09:40.280 --> 00:09:41.355\nthat is not the case.\n\n206\n00:09:41.355 --> 00:09:43.880\n&gt;&gt; [LAUGH]\n&gt;&gt; You can see down here advanced\n\n207\n00:09:43.880 --> 00:09:45.790\naudit policy configuration.\n\n208\n00:09:45.790 --> 00:09:48.540\nUnderneath we have audit policies,\nthen we have a set of audit policies.\n\n209\n00:09:48.540 --> 00:09:52.300\nNow I have actually gone in here in\nother episodes throughout the show\n\n210\n00:09:52.300 --> 00:09:55.250\nin other areas and other topics and\nshown you these settings already.\n\n211\n00:09:55.250 --> 00:09:58.420\nWe actually did a set of discussions\non auditing and how to set this up.\n\n212\n00:09:58.420 --> 00:10:01.020\nSo, this may not be a new experience for\nyou.\n\n213\n00:10:01.020 --> 00:10:03.030\nIf you saw those earlier episodes,\n\n214\n00:10:03.030 --> 00:10:05.420\nthen you've probably already\nseen me going in here.\n\n215\n00:10:05.420 --> 00:10:06.930\nYou've heard me talk about this.\n\n216\n00:10:06.930 --> 00:10:08.580\nBut, I didn't spend\nthe time specifically and\n\n217\n00:10:08.580 --> 00:10:12.980\nfocus in on the two aspects that have to\nbe set up to enable file access auditing.\n\n218\n00:10:12.980 --> 00:10:16.910\nWe just had a broad conversation around\nwhat auditing would be in general.\n\n219\n00:10:18.080 --> 00:10:20.890\nBut specifically,\nwe have to look at two areas in here.\n\n220\n00:10:20.890 --> 00:10:24.700\nWe have to look at Global Object Access\nAuditing at the bottom of the list here.\n\n221\n00:10:24.700 --> 00:10:27.720\nAnd we have to take a look\nat File System on the right,\n\n222\n00:10:27.720 --> 00:10:30.740\ncuz we are targeting the File System\nas opposed to the Registry.\n\n223\n00:10:30.740 --> 00:10:34.200\nWe can do the same thought process, or\nengage in the same thought process,\n\n224\n00:10:34.200 --> 00:10:35.550\nfor either or both of these.\n\n225\n00:10:35.550 --> 00:10:38.150\nWe're gonna wanna audit\nFile System in particular.\n\n226\n00:10:38.150 --> 00:10:40.610\nSo we're gonna go in and take a look\nat how to set this up in a minute.\n\n227\n00:10:40.610 --> 00:10:43.440\nBut the outcome of\nsetting this requires for\n\n228\n00:10:43.440 --> 00:10:47.760\nit to be enabled and for\nus to use the outcome of this setting.\n\n229\n00:10:47.760 --> 00:10:49.170\nWe need another policy set up,\n\n230\n00:10:49.170 --> 00:10:51.860\nrather another set of\nauditing requirements set up.\n\n231\n00:10:51.860 --> 00:10:53.350\nSo we have to enable something else.\n\n232\n00:10:53.350 --> 00:10:55.045\nLet me show you what I mean.\n\n233\n00:10:55.045 --> 00:10:58.495\nWe have to come over here to object access\nwhich is the piece most people often\n\n234\n00:10:58.495 --> 00:11:03.115\nforget which is why I get all these\ncalls File X's auditing is not working.\n\n235\n00:11:03.115 --> 00:11:03.855\n&gt;&gt; Can you help us out?\n\n236\n00:11:03.855 --> 00:11:08.375\n&gt;&gt; Well of course it's not working because\nyou forgot the most important piece\n\n237\n00:11:08.375 --> 00:11:12.335\nwhich is object access and\nyou can see under object access audit file\n\n238\n00:11:12.335 --> 00:11:14.850\nsystem right here the only\none that is currently set.\n\n239\n00:11:14.850 --> 00:11:15.830\nTo success and failure.\n\n240\n00:11:15.830 --> 00:11:19.310\nIt will be not configured out of the box\nby default just like all the others.\n\n241\n00:11:19.310 --> 00:11:24.190\nI've just gone ahead and set it up to\nshow us and to remind you that without\n\n242\n00:11:24.190 --> 00:11:27.140\ndoing this piece, you're not going to\nget the outcome of this whole process.\n\n243\n00:11:27.140 --> 00:11:30.990\nWhich is, you're not going to see\nthe actual access auditing taking place,\n\n244\n00:11:30.990 --> 00:11:32.760\nbecause you have to allow\nthe system to do it.\n\n245\n00:11:32.760 --> 00:11:36.870\nWhat we're doing in the other setting is\ngiving us the target for the auditing.\n\n246\n00:11:36.870 --> 00:11:39.790\nWhat we're doing in this setting\nis enabling the auditing.\n\n247\n00:11:39.790 --> 00:11:41.930\nAnd so a lot of people\nremember to set the target,\n\n248\n00:11:41.930 --> 00:11:44.190\nforget to turn auditing on effectively.\n\n249\n00:11:44.190 --> 00:11:45.340\nAnd so it doesn't work.\n\n250\n00:11:45.340 --> 00:11:47.180\nWe're turning auditing on here.\n\n251\n00:11:47.180 --> 00:11:49.950\nAnd then we're gonna go target it in\nthe other setting in just a minute.\n\n252\n00:11:49.950 --> 00:11:51.510\nSo auto file system success and\n\n253\n00:11:51.510 --> 00:11:55.780\nfailure, you just check this box off cuz\nit will not be checked off by default.\n\n254\n00:11:55.780 --> 00:11:58.310\nAnd then you decide success or\nfailure or both.\n\n255\n00:11:58.310 --> 00:11:59.130\nA recommendation.\n\n256\n00:11:59.130 --> 00:12:00.910\nTypically best practice recommendation\n\n257\n00:12:00.910 --> 00:12:02.250\nyou want to straddle both\nsides of that divide.\n\n258\n00:12:02.250 --> 00:12:06.000\nYou know we've talked before about the\nidea of missing all the failures before\n\n259\n00:12:06.000 --> 00:12:09.270\nthe success or missing the success\nafter all the failures.\n\n260\n00:12:09.270 --> 00:12:11.690\nAnd you want to have both sides\nto really get a true, complete,\n\n261\n00:12:11.690 --> 00:12:14.140\naccurate picture of how\nauditing will work.\n\n262\n00:12:14.140 --> 00:12:16.980\nSo you should enable both but I'm gonna\nleave that up to you because you're gonna\n\n263\n00:12:16.980 --> 00:12:20.030\ndecide in your world what\nmakes the most sense for you.\n\n264\n00:12:20.030 --> 00:12:21.750\nBut you'll check one or both of those off.\n\n265\n00:12:21.750 --> 00:12:24.380\nYou'll set that up,\npart one of two, if you will.\n\n266\n00:12:24.380 --> 00:12:26.910\nYou'll then come down to\nglobal object access auditing.\n\n267\n00:12:26.910 --> 00:12:29.630\nAnd by the way, whichever order you\ndo this in makes no difference.\n\n268\n00:12:29.630 --> 00:12:33.880\nYou just gotta make sure both settings are\nconfigured the right way when you are done\n\n269\n00:12:33.880 --> 00:12:35.490\nand exit the policy editor.\n\n270\n00:12:35.490 --> 00:12:38.950\nIf you do object access auditing first,\nand\n\n271\n00:12:38.950 --> 00:12:43.340\nset up file audit success failure then\ncome in to global object access auditing\n\n272\n00:12:43.340 --> 00:12:46.200\nand then configure the file system\nauditing or do it to other way around.\n\n273\n00:12:46.200 --> 00:12:48.620\nIt makes no difference\nuntil you apply the policy,\n\n274\n00:12:48.620 --> 00:12:50.970\nneither of those settings takes place and\nis actually applied.\n\n275\n00:12:50.970 --> 00:12:52.740\nSo as long as you get them both right.\n\n276\n00:12:52.740 --> 00:12:54.100\nThat's the most important thing.\n\n277\n00:12:54.100 --> 00:12:56.780\nGlobal object access auditing file system.\n\n278\n00:12:56.780 --> 00:13:02.340\nLet's go in and define this policy setting\nso no enabled, disabled, not configured,\n\n279\n00:13:02.340 --> 00:13:06.040\nconfigured, just define policy setting and\nthen the most important thing.\n\n280\n00:13:06.040 --> 00:13:07.290\nClick configure.\n\n281\n00:13:07.290 --> 00:13:12.490\nAnd then we have, for those of you that\nhave walked through the other episodes up\n\n282\n00:13:12.490 --> 00:13:19.025\nuntil now with us, specifically the last\nepisode on how to set up DAC, episode six.\n\n283\n00:13:19.025 --> 00:13:20.135\nOut of seven, right?\n\n284\n00:13:20.135 --> 00:13:21.025\nWhere we went through and\n\n285\n00:13:21.025 --> 00:13:24.875\nsetup the group policy elements of DAC and\nthen did the effective access\n\n286\n00:13:24.875 --> 00:13:28.755\nrendering with the client access\npolicy to see how DAC is applied.\n\n287\n00:13:28.755 --> 00:13:32.625\nYou should recognize this tab because\nthis is where we go in and setup or\n\n288\n00:13:32.625 --> 00:13:36.715\nit looks very similar to where we\ngo in and setup the outcome of DAC.\n\n289\n00:13:36.715 --> 00:13:40.285\nAnd we actually look at the auditing\nas a set of effective permissions.\n\n290\n00:13:40.285 --> 00:13:41.305\nSo we're gonna click add here.\n\n291\n00:13:42.970 --> 00:13:46.270\nWe're gonna go in, we're gonna audit\nentry for global file sack and\n\n292\n00:13:46.270 --> 00:13:48.090\nwe're gonna specify our principle.\n\n293\n00:13:48.090 --> 00:13:50.420\nRemember, selected principle\nis really we're just saying,\n\n294\n00:13:50.420 --> 00:13:51.920\nhey, what's the user or the group, right?\n\n295\n00:13:51.920 --> 00:13:53.010\n&gt;&gt; What are we gonna be looking at?\n\n296\n00:13:53.010 --> 00:13:54.580\n&gt;&gt; Well, the user or\nthe group, in other words,\n\n297\n00:13:54.580 --> 00:13:56.740\nwho's gonna be the target for\nthe auditing.\n\n298\n00:13:56.740 --> 00:13:57.880\nWho do we wanna look at?\n\n299\n00:13:57.880 --> 00:14:00.380\nWhat account do we wanna watch or\nkeep track of?\n\n300\n00:14:00.380 --> 00:14:03.860\nSo we're gonna go in and select our\nprinciple, this can be a user, a group, or\n\n301\n00:14:03.860 --> 00:14:05.540\na built-in security principle.\n\n302\n00:14:05.540 --> 00:14:07.380\nAre we gonna use Lisa?\n\n303\n00:14:07.380 --> 00:14:07.960\n&gt;&gt; Yeah, we like her.\n\n304\n00:14:07.960 --> 00:14:08.570\n&gt;&gt; We do like her.\n&gt;&gt; She's nice.\n\n305\n00:14:08.570 --> 00:14:09.704\n&gt;&gt; She's nice. Yeah. &gt;&gt; [LAUGH]\n&gt;&gt; Yeah,\n\n306\n00:14:09.704 --> 00:14:11.154\nwe should have her over for coffee.\n\n307\n00:14:11.154 --> 00:14:12.890\nShe's so cool to hang out with.\n\n308\n00:14:12.890 --> 00:14:14.290\nAll right, so Lisa, right?\n\n309\n00:14:14.290 --> 00:14:17.930\nLisa right there, so\nwe're gonna just specify a user.\n\n310\n00:14:17.930 --> 00:14:18.660\nYou pick your user.\n\n311\n00:14:18.660 --> 00:14:20.040\nIt doesn't matter who it is.\n\n312\n00:14:20.040 --> 00:14:20.680\nWhat are we doing?\n\n313\n00:14:20.680 --> 00:14:22.760\nWe're doing success here, as you can see.\n\n314\n00:14:22.760 --> 00:14:24.720\nWe could do failure as well or\nwe can do all.\n\n315\n00:14:24.720 --> 00:14:26.040\nIt's up to us to decide.\n\n316\n00:14:26.040 --> 00:14:27.600\nJust going to leave\nthe default of success.\n\n317\n00:14:27.600 --> 00:14:31.240\nBut remember, we turned on the success and\nfailure in the other setting for\n\n318\n00:14:31.240 --> 00:14:32.320\nobject access.\n\n319\n00:14:32.320 --> 00:14:33.910\nIf you don't enable both success and\n\n320\n00:14:33.910 --> 00:14:37.270\nfailure there, you do all here,\nguess what doesn't work?\n\n321\n00:14:37.270 --> 00:14:39.700\nSo you've got to make sure\nthese settings match up.\n\n322\n00:14:39.700 --> 00:14:43.280\nIf you only do success in the other area,\nyou should only being doing success here\n\n323\n00:14:43.280 --> 00:14:45.310\nin other words,\ncuz if you do failure here, and\n\n324\n00:14:45.310 --> 00:14:49.710\nwe're not enabling failure under object\naccess for auditing at the system level,\n\n325\n00:14:49.710 --> 00:14:52.500\nwe're not going to get anything because\nthere's no auditing that takes place,\n\n326\n00:14:52.500 --> 00:14:55.205\nthere's no settings,\nin other words, that are coming in.\n\n327\n00:14:55.205 --> 00:14:57.445\n&gt;&gt; But if you're gonna take\nthe time to hit one or the other,\n\n328\n00:14:57.445 --> 00:14:59.705\nyou might as well take the time\nto go ahead and monitor both.\n\n329\n00:14:59.705 --> 00:15:01.405\nBecause we spoke about this before, Adam.\n\n330\n00:15:01.405 --> 00:15:04.415\nJust being able to see those failed\nlog-ins and the successful ones\n\n331\n00:15:04.415 --> 00:15:06.695\ncan be just as important looking\nat both sides of that fence.\n\n332\n00:15:07.935 --> 00:15:09.705\n&gt;&gt; Yes.\n&gt;&gt; [LAUGH]\n\n333\n00:15:09.705 --> 00:15:11.575\n&gt;&gt; Just reminding you all.\n\n334\n00:15:11.575 --> 00:15:13.335\n&gt;&gt; That's why you're the boss there,\nCherokee.\n\n335\n00:15:13.335 --> 00:15:14.365\nAll right.\n\n336\n00:15:14.365 --> 00:15:18.105\nSo, so we have our permissions, right, so\nwe could specify here, you know, whatever\n\n337\n00:15:18.105 --> 00:15:22.190\npermissions we want to look at, you could\nsee here we have everything selected.\n\n338\n00:15:22.190 --> 00:15:24.610\nWe would obviously be a little bit\nmore prescriptive most likely.\n\n339\n00:15:24.610 --> 00:15:26.190\nAnd perhaps vet or\n\n340\n00:15:26.190 --> 00:15:29.750\nremove some of those permissions in favor\nof specific activities we want to track.\n\n341\n00:15:29.750 --> 00:15:32.670\nI'm just gonna leave them selected for\npurposes for our demonstration.\n\n342\n00:15:32.670 --> 00:15:35.430\nBut what we wanna do is go down to the\nbottom I should actually point like right\n\n343\n00:15:35.430 --> 00:15:36.840\nwe haven't gotten this worked out yet.\n\n344\n00:15:36.840 --> 00:15:37.800\nCan you help me here.\n\n345\n00:15:37.800 --> 00:15:39.220\n&gt;&gt; You're on my side here,\nwhat's going on.\n\n346\n00:15:39.220 --> 00:15:41.340\n&gt;&gt; Help me here nope,\nhelp me here, help me there.\n\n347\n00:15:41.340 --> 00:15:46.350\n&gt;&gt; This is imaginary, okay,\nhold on right there right over there.\n\n348\n00:15:46.350 --> 00:15:47.729\n&gt;&gt; This is challenging.\n\n349\n00:15:47.729 --> 00:15:50.643\n&gt;&gt; That's not what we want\nmaybe that's the dumbest way\n\n350\n00:15:50.643 --> 00:15:52.788\n&gt;&gt; Where we have the hand going this way\n\n351\n00:15:52.788 --> 00:15:55.229\nand then Cherokee was moving the mouse.\n\n352\n00:15:55.229 --> 00:15:55.870\nThat's okay.\n\n353\n00:15:55.870 --> 00:15:58.485\nWe screwed it up.\nNobody's going to want to watch it now.\n\n354\n00:15:58.485 --> 00:15:59.807\nAnyway, we'll make this work for\nthe next time.\n\n355\n00:15:59.807 --> 00:16:00.632\nNo big deal.\n\n356\n00:16:00.632 --> 00:16:02.846\nSo what I was gonna simply\ndo is go to reach over, and\n\n357\n00:16:02.846 --> 00:16:05.022\nmagically I was going to\nclick on add a condition.\n\n358\n00:16:05.022 --> 00:16:07.950\nBut you could see in live TV it\ndoesn’t always work that way.\n\n359\n00:16:07.950 --> 00:16:11.110\nAdd a condition, right,\nthis is where we make the magic happen.\n\n360\n00:16:11.110 --> 00:16:14.920\nThis is where we bring in those conditions\nthat we've talked about in DAC.\n\n361\n00:16:14.920 --> 00:16:17.221\nIf you remember we had that whole\nset of conversations, right?\n\n362\n00:16:17.221 --> 00:16:18.570\nSo, I am going to click here,\n\n363\n00:16:18.570 --> 00:16:20.830\nadd a condition to limit\nthe scope of the auditing entry.\n\n364\n00:16:20.830 --> 00:16:23.970\nSecurity events will be logged\nonly if conditions are met.\n\n365\n00:16:25.490 --> 00:16:28.035\nSo let's add a conditions, matter of\nfact let's add two conditions, right?\n\n366\n00:16:28.035 --> 00:16:28.682\n&gt;&gt; Okay.\n\n367\n00:16:28.682 --> 00:16:31.560\n&gt;&gt; So you could see here, because if\none is good, two is better, right?\n\n368\n00:16:31.560 --> 00:16:33.850\nSo remember we had this\nwhole conversation in DAC.\n\n369\n00:16:33.850 --> 00:16:36.120\nWe talked about the conditions, right?\n\n370\n00:16:36.120 --> 00:16:38.730\nUser equals or the company equals,\nrather, IT Pro TV\n\n371\n00:16:38.730 --> 00:16:39.910\n&gt;&gt; IT Pro TV\n\n372\n00:16:39.910 --> 00:16:41.630\n&gt;&gt; And say it with me, right?\n\n373\n00:16:41.630 --> 00:16:44.907\n&gt;&gt; Department equals HR.\n\n374\n00:16:44.907 --> 00:16:45.646\n[LAUGH] Twinsies.\n\n375\n00:16:45.646 --> 00:16:48.870\n&gt;&gt; Okay, all right, so\nwe got all that exactly, jinx, right?\n\n376\n00:16:48.870 --> 00:16:52.294\nAll right, so we have all that, and\nso when we set these conditions up,\n\n377\n00:16:52.294 --> 00:16:54.063\nyou get whatever what they would be,\n\n378\n00:16:54.063 --> 00:16:57.650\nwe're thinking about this entire\nsuite of technologies we're doing.\n\n379\n00:16:57.650 --> 00:17:02.330\nFSRM, DAC and now file access auditing,\nkinda all coming together in one place.\n\n380\n00:17:02.330 --> 00:17:04.480\nWe're building on all this\nstuff we've done, and\n\n381\n00:17:04.480 --> 00:17:07.590\nthese conditions are being\nbrought in from our set up and\n\n382\n00:17:07.590 --> 00:17:10.610\nour conversation through an FSRM and\ndata classification.\n\n383\n00:17:10.610 --> 00:17:14.570\nAnd specifically then driving in\nthe DAC and setting up our claims and\n\n384\n00:17:14.570 --> 00:17:18.120\nour conditions around that with\nour centralized access rule and\n\n385\n00:17:18.120 --> 00:17:20.260\nthen ultimately our\ncentralized access policy.\n\n386\n00:17:20.260 --> 00:17:23.380\nSo we would populate all of this,\nright and set all this up.\n\n387\n00:17:23.380 --> 00:17:27.300\nAnd then once we've done all that,\nwe would then have here,\n\n388\n00:17:27.300 --> 00:17:29.520\nactually let me just,\nI'll add this back in really quick.\n\n389\n00:17:29.520 --> 00:17:31.370\nSorry, I hit the wrong button,\nI meant to hit OK.\n\n390\n00:17:31.370 --> 00:17:33.775\n&gt;&gt; I was like,\nwell maybe he already has them set up, and\n\n391\n00:17:33.775 --> 00:17:35.388\nthat's why he's hitting cancel.\n\n392\n00:17:35.388 --> 00:17:37.012\n&gt;&gt; No, I hit cancel instead of that\n[CROSSTALK] &gt;&gt; That's why we need to\n\n393\n00:17:37.012 --> 00:17:41.310\npractice the magic Apply button,\nthe OK button, we'll work on that for\n\n394\n00:17:41.310 --> 00:17:42.230\nthe next show.\n\n395\n00:17:42.230 --> 00:17:43.520\n&gt;&gt; During the break we'll work on that.\n\n396\n00:17:43.520 --> 00:17:44.970\nWhen we come back we'll\nhave it all working.\n\n397\n00:17:44.970 --> 00:17:47.020\nAll right, so we would add one or\nmore in here right, and\n\n398\n00:17:47.020 --> 00:17:48.580\nyou can obviously stack these up.\n\n399\n00:17:48.580 --> 00:17:51.400\nDo we wanna be able to audit\nmultiple people's activity to\n\n400\n00:17:51.400 --> 00:17:52.530\nCherokee's point earlier?\n\n401\n00:17:52.530 --> 00:17:56.360\nMaybe we wanna go ahead and\nhave Lisa in there but maybe we also want,\n\n402\n00:17:57.360 --> 00:18:00.800\nI don't know, John or anybody else,\nor just a whole group of people.\n\n403\n00:18:00.800 --> 00:18:02.930\nJust stack them all up, right,\nwe'll get entries for all of it.\n\n404\n00:18:02.930 --> 00:18:05.501\nSo we're gonna do this,\nwe're gonna click Apply, we'll click OK.\n\n405\n00:18:05.501 --> 00:18:09.325\nWe've got that configured now, apply, OK.\n\n406\n00:18:09.325 --> 00:18:12.595\nSo now, we've got our file access\nauditing policy in place, so\n\n407\n00:18:12.595 --> 00:18:16.905\nnow obviously we'll then go through,\ndo a GP update, force and apply this.\n\n408\n00:18:16.905 --> 00:18:18.875\nSo this part will now work, no problem.\n\n409\n00:18:18.875 --> 00:18:22.755\nBut I promised you and I told you that we\nwould take a look at some of the event IDs\n\n410\n00:18:22.755 --> 00:18:26.639\nthat go into logging in the system log or\nspecifically in the security log, so\n\n411\n00:18:26.639 --> 00:18:28.232\nwe would see evidence of this.\n\n412\n00:18:28.232 --> 00:18:31.209\nSo let's take a look at that real\nquick just to round this out.\n\n413\n00:18:31.209 --> 00:18:34.028\nSo if we come to my notes here, just\nbecause I have some information already\n\n414\n00:18:34.028 --> 00:18:36.280\nput up, and it's a little bit\neasier to take a look at.\n\n415\n00:18:36.280 --> 00:18:38.381\nCan we go full screen just to see that?\n\n416\n00:18:38.381 --> 00:18:41.633\nSo you could see here when we take\na look at this security event log and\n\n417\n00:18:41.633 --> 00:18:45.190\nwe're looking at file access auditing,\nwe have to look for certain IDs.\n\n418\n00:18:45.190 --> 00:18:49.431\nEvent ID 4817, verifies that\nauditing entries are active and\n\n419\n00:18:49.431 --> 00:18:52.470\nare being gathered on the file server,\nright?\n\n420\n00:18:52.470 --> 00:18:57.360\nSo we would see an event entry something\nlike this which would show us that.\n\n421\n00:18:58.540 --> 00:19:02.160\nWe may also be able to look for\ndeletion activities,\n\n422\n00:19:02.160 --> 00:19:07.284\n4659 is the event ID that will show\nus that a deletion has taken place.\n\n423\n00:19:07.284 --> 00:19:08.784\nAnd this one will, I'm sure,\n\n424\n00:19:08.784 --> 00:19:12.786\nmake everybody out there very happy when\nthey take a look at the username, right?\n\n425\n00:19:12.786 --> 00:19:14.250\nITPRO Ronnie, right?\n\n426\n00:19:14.250 --> 00:19:18.440\nSo Ronnie, our user,\nmay be the subject of doing this deletion.\n\n427\n00:19:18.440 --> 00:19:21.250\nTry to spread around the love a little\nbit, include everybody when we do this.\n\n428\n00:19:21.250 --> 00:19:23.597\nYeah, I'm sitting up late at night\ncreating my notes, I'm thinking,\n\n429\n00:19:23.597 --> 00:19:25.530\nall right whose name haven't\nI put up there in a while?\n\n430\n00:19:25.530 --> 00:19:26.760\nWho can I put up there, and so\n\n431\n00:19:26.760 --> 00:19:29.720\nI put Ronnie up there because we haven't\nused him as an example in a while, right?\n\n432\n00:19:29.720 --> 00:19:35.440\nSo if Ronnie went ahead and deleted this\nparticular file off this computer, right?\n\n433\n00:19:35.440 --> 00:19:37.736\nIT Pro server, IT Pro TV.\n\n434\n00:19:37.736 --> 00:19:39.257\n&gt;&gt; I know he did, I know he did.\n\n435\n00:19:39.257 --> 00:19:40.387\n&gt;&gt; You know he did?\n\n436\n00:19:40.387 --> 00:19:40.960\n&gt;&gt; Yeah.\n\n437\n00:19:40.960 --> 00:19:42.920\n&gt;&gt; Okay, it could've been you,\nyou could've been impersonating him.\n\n438\n00:19:42.920 --> 00:19:45.230\nI should've put Ronnie then in\nparentheses Cherokee, right?\n\n439\n00:19:45.230 --> 00:19:46.056\n&gt;&gt; Or Cherokee question mark.\n\n440\n00:19:46.056 --> 00:19:47.070\n&gt;&gt; I could've done that, right.\n\n441\n00:19:47.070 --> 00:19:50.670\nSo account name, right,\nIT Pro is the domain security file.\n\n442\n00:19:50.670 --> 00:19:52.610\nI could see the file path here.\n\n443\n00:19:52.610 --> 00:19:54.266\nSo in theory he would have gone in and\n\n444\n00:19:54.266 --> 00:19:57.927\ntried to create the January.txt file\nfrom the sales directory in the F drive.\n\n445\n00:19:57.927 --> 00:20:01.773\nSo we get some pretty detailed\ninformation here about what happens and\n\n446\n00:20:01.773 --> 00:20:04.390\nwho's engaging in those activities, right?\n\n447\n00:20:04.390 --> 00:20:06.530\nSo we can go in and\nactually see evidence of this.\n\n448\n00:20:06.530 --> 00:20:11.980\nSo the outcome of file access auditing\ncould be a very detailed trail from\n\n449\n00:20:11.980 --> 00:20:15.940\na verification and validation perspective\naround security-related activities.\n\n450\n00:20:15.940 --> 00:20:19.085\nWe go back to this idea that\nCherokee made us think about and\n\n451\n00:20:19.085 --> 00:20:23.065\nfocus on a couple of earlier episodes\nabout the regulatory, statutory,\n\n452\n00:20:23.065 --> 00:20:26.618\ncompliance needs of a business\nwith regards to thinks like FSRM.\n\n453\n00:20:26.618 --> 00:20:28.670\nWith regards to things like DAC.\n\n454\n00:20:28.670 --> 00:20:32.380\nAnd now with file access auditing kinda\ncompleting the package, we have a way of\n\n455\n00:20:32.380 --> 00:20:37.270\napplying guidance and governance,\nminimizing risk and enforcing compliance.\n\n456\n00:20:37.270 --> 00:20:39.010\nThe whole GRC thought process,\n\n457\n00:20:39.010 --> 00:20:41.810\nright, is really present here\nwith these technologies.\n\n458\n00:20:41.810 --> 00:20:46.080\nAnd by using the oversight capabilities,\nthe control capabilities, and\n\n459\n00:20:46.080 --> 00:20:49.920\nthe auditing capabilities that this\nwhole suite of technologies provides.\n\n460\n00:20:49.920 --> 00:20:53.730\nWe can create a solution that really\nend to end provides for guidance and\n\n461\n00:20:53.730 --> 00:20:57.590\nsupport, proactive protection of\nresources through classification.\n\n462\n00:20:57.590 --> 00:21:01.440\nMisused detection if somebody tries\nto get into a system and/or a file\n\n463\n00:21:01.440 --> 00:21:04.470\nthey're not supposed to see or\ndoes something like deleting a file.\n\n464\n00:21:04.470 --> 00:21:07.840\nWhen they may or may not, be able to do so\nor should or should not be able to do so\n\n465\n00:21:07.840 --> 00:21:09.067\nand gives us a paper trail.\n\n466\n00:21:09.067 --> 00:21:11.948\nMost importantly,\naround how we actually can leverage and\n\n467\n00:21:11.948 --> 00:21:14.435\nfind out about this\ninformation to our advantage.\n\n468\n00:21:14.435 --> 00:21:18.371\nIf we have to show this to an auditor\nand/or prove that Ronnie did or did not,\n\n469\n00:21:18.371 --> 00:21:21.600\nright do this or\nperhaps Cherokee was hinting at.\n\n470\n00:21:21.600 --> 00:21:23.880\nBecause the guilty party always\nconfesses in the end, right?\n\n471\n00:21:23.880 --> 00:21:26.707\nThat maybe she was the one who actually\nwent ahead and deleted the file and\n\n472\n00:21:26.707 --> 00:21:27.874\njust pretended to be Rodney.\n\n473\n00:21:27.874 --> 00:21:29.286\n&gt;&gt; Like here,\nwe can take the guesswork out.\n\n474\n00:21:29.286 --> 00:21:30.185\n&gt;&gt; Well, in theory.\n\n475\n00:21:30.185 --> 00:21:32.030\nWe could at least begin to understand it.\n\n476\n00:21:32.030 --> 00:21:33.700\nWe don't just see direct evidence and\ntheory.\n\n477\n00:21:33.700 --> 00:21:35.036\nLet's say say of you\nmasquerading as Ronnie.\n\n478\n00:21:35.036 --> 00:21:36.538\n&gt;&gt; True.\n&gt;&gt; But, now that you've said that,\n\n479\n00:21:36.538 --> 00:21:37.883\nwe'll go back and prove that it was you.\n\n480\n00:21:37.883 --> 00:21:38.989\n&gt;&gt; [LAUGH]\n&gt;&gt; I'll manipulate the logs.\n\n481\n00:21:38.989 --> 00:21:39.853\n&gt;&gt; Dig a little deeper, yes.\n\n482\n00:21:39.853 --> 00:21:42.205\n&gt;&gt; I'll just manipulate the logs, and\nwe'll just make it look like you.\n\n483\n00:21:42.205 --> 00:21:43.145\nIt won't be a problem, right?\n\n484\n00:21:43.145 --> 00:21:46.815\nBut you do wanna make sure you're familiar\nwith these event ID's in particular\n\n485\n00:21:46.815 --> 00:21:48.033\nbecause these are two that may come up.\n\n486\n00:21:48.033 --> 00:21:51.275\nAnd you wanna be not only knowledgeable\nabout them, but in the real world wanna\n\n487\n00:21:51.275 --> 00:21:54.935\nbe looking at them and looking for\nthem to ensure that you've set file access\n\n488\n00:21:54.935 --> 00:21:58.480\nauditing up properly and see the output of\nthis because then this becomes important.\n\n489\n00:21:58.480 --> 00:22:00.350\nAnd by the way, if you link this, right?\n\n490\n00:22:00.350 --> 00:22:03.315\nBring in a set technologies we've\ntalked about in some earlier episode.\n\n491\n00:22:03.315 --> 00:22:08.250\nIf we link this to the ATA,\nthe Advanced Threat Analytics Products\n\n492\n00:22:08.250 --> 00:22:11.820\nthat we talk about,\nthe Microsoft NDIS Solution.\n\n493\n00:22:11.820 --> 00:22:15.540\nAnd we use the syslog and\nthe sem process to pull logs\n\n494\n00:22:15.540 --> 00:22:18.520\nout of systems like file servers,\nand aggregate them up.\n\n495\n00:22:18.520 --> 00:22:22.908\nWe can apply the sem capabilities or\nthe syslog capabilities to do deep packet\n\n496\n00:22:22.908 --> 00:22:25.891\ninspection and analytics,\nto the idea of the logs.\n\n497\n00:22:25.891 --> 00:22:28.428\nWe can get a more comprehensive\nview of security and\n\n498\n00:22:28.428 --> 00:22:31.145\nwhat's happening on the back\nend of this file access.\n\n499\n00:22:31.145 --> 00:22:33.848\nSo we can actually link the system\nof the technologies and\n\n500\n00:22:33.848 --> 00:22:36.060\ncreate a more secure platform overall.\n\n501\n00:22:36.060 --> 00:22:39.060\nSo maybe just be a little thought\nprocess there for the future for you.\n\n502\n00:22:39.060 --> 00:22:41.880\n&gt;&gt; Especially if you're gonna try to\nimplement anything like data leak or\n\n503\n00:22:41.880 --> 00:22:43.899\nloss prevention to keep an eye-\n&gt;&gt; Yeah, sure.\n\n504\n00:22:43.899 --> 00:22:47.218\n&gt;&gt; To keep an eye on what's actually\nleaving your network instead of what's\n\n505\n00:22:47.218 --> 00:22:48.453\njust happening internal.\n\n506\n00:22:48.453 --> 00:22:51.310\n&gt;&gt; Correct, and we've talked about those\ncapabilities as well, we've actually\n\n507\n00:22:51.310 --> 00:22:53.970\ndemoed technology that would allow us\nto think about some of those things.\n\n508\n00:22:53.970 --> 00:22:57.270\nSo we've talked about a lot of different\nways in which Microsoft presents\n\n509\n00:22:57.270 --> 00:22:58.815\nthese security technologies.\n\n510\n00:22:58.815 --> 00:22:59.910\nI'm trying to get you just to, we,\n\n511\n00:22:59.910 --> 00:23:02.900\nare trying to get you to think about\nlinking them at a higher level.\n\n512\n00:23:02.900 --> 00:23:06.220\nIt's easy to talk about one technology\nisolated in a silo, hey there's DAC.\n\n513\n00:23:06.220 --> 00:23:08.039\nHere's how you set it up, that's easy.\n\n514\n00:23:08.039 --> 00:23:11.745\nHow do we link that to a more strategic\nthought process around security is one of\n\n515\n00:23:11.745 --> 00:23:14.891\nthe finer points about how we\nactually then take this knowledge and\n\n516\n00:23:14.891 --> 00:23:16.535\nreally apply it in the real world.\n\n517\n00:23:16.535 --> 00:23:19.365\nSo hopefully that makes sense to you,\nand yeah.\n\n518\n00:23:20.395 --> 00:23:23.321\n&gt;&gt; All right, you're allowed to\nfinish now so we can go ahead and\n\n519\n00:23:23.321 --> 00:23:26.550\nsign out now because we are out\nof time for this episode.\n\n520\n00:23:26.550 --> 00:23:27.430\nWe're going to go-\n&gt;&gt; Well no we're\n\n521\n00:23:27.430 --> 00:23:28.170\nnot we actually have time.\n\n522\n00:23:28.170 --> 00:23:29.480\n&gt;&gt; We have like three minutes.\n\n523\n00:23:29.480 --> 00:23:33.000\n&gt;&gt; That's time.\n&gt;&gt; [LAUGHS] Who's the boss really?\n\n524\n00:23:33.000 --> 00:23:37.440\n&gt;&gt; Why, I'm just saying,\nmaybe we could tell a story or something.\n\n525\n00:23:37.440 --> 00:23:39.260\n&gt;&gt; Do you have a story you want to tell?\n\n526\n00:23:39.260 --> 00:23:39.776\n&gt;&gt; No, I don't.\n\n527\n00:23:39.776 --> 00:23:40.300\n&gt;&gt; Okay.\n\n528\n00:23:40.300 --> 00:23:41.016\n&gt;&gt; Do you?\n&gt;&gt; No.\n\n529\n00:23:41.016 --> 00:23:42.500\n&gt;&gt; Okay,\nthen we should probably say goodbye.\n\n530\n00:23:42.500 --> 00:23:44.960\n&gt;&gt; Okay, I've been your host,\nCherokee Boose.\n\n531\n00:23:44.960 --> 00:23:46.917\n&gt;&gt; I am Adam Gordon.\n\n532\n00:23:46.917 --> 00:23:48.467\n&gt;&gt; Goodbye.\n&gt;&gt; [LAUGH] See you later everybody.\n\n533\n00:23:48.467 --> 00:23:49.113\nTake care.\n\n534\n00:23:49.113 --> 00:23:56.162\n&gt;&gt; [MUSIC]\n\n535\n00:23:56.162 --> 00:23:59.059\n&gt;&gt; Thank you for\n\n536\n00:23:59.059 --> 00:24:04.069\nwatching ITPRO.TV.\n\n",
          "vimeoId": "235068747"
        }
      ],
      "title": "Implement FSRM and DAC"
    },
    {
      "episodes": [
        {
          "description": "",
          "length": "1637",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-1-configure-windows-firewall-100217-PGM.00_27_01_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-1-configure-windows-firewall-100217-PGM.00_27_01_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-1-configure-windows-firewall-100217-PGM.00_27_01_12.Still001-sm.jpg",
          "title": "Configure Windows Firewall",
          "transcript": "WEBVTT\n\n1\n00:00:00.057 --> 00:00:02.702\nYou're watching ITProTV,\nI'm your host, [CROSSTALK]\n\n2\n00:00:02.702 --> 00:00:08.243\n[MUSIC]\n\n3\n00:00:08.243 --> 00:00:08.816\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:08.816 --> 00:00:15.215\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n5\n00:00:15.215 --> 00:00:20.355\nI'm your host, Mike Rodrick, and today\nwe're doing our securing Windows Server\n\n6\n00:00:20.355 --> 00:00:24.380\n2016, getting ready for that 70-744 Exam.\n\n7\n00:00:24.380 --> 00:00:28.900\nIn this episode, we're gonna be taking a\nlook at configuring our Windows Firewall.\n\n8\n00:00:28.900 --> 00:00:32.020\nAnd here to help us with that is Mr.\nAdam Gordon, welcome, Adam.\n\n9\n00:00:32.020 --> 00:00:33.852\n&gt;&gt; Thank you, thank you,\nour Windows Firewall.\n\n10\n00:00:33.852 --> 00:00:36.426\nWe're gonna make it a joint\nkind of communal activity,\n\n11\n00:00:36.426 --> 00:00:39.070\nas opposed to the individual\nWindows Firewall [CROSSTALK]\n\n12\n00:00:39.070 --> 00:00:40.895\n&gt;&gt; It's much better with friends.\n\n13\n00:00:40.895 --> 00:00:42.110\n&gt;&gt; Well, it's just easier that way.\n\n14\n00:00:42.110 --> 00:00:44.440\nThat way you don't have to do all the work\nyourself, you get people to help you.\n\n15\n00:00:44.440 --> 00:00:46.540\nThat's why you need interns, cuz they can\ndo this kind of stuff for you as well.\n\n16\n00:00:46.540 --> 00:00:48.530\n&gt;&gt; And you can lay blame when necessary.\n\n17\n00:00:48.530 --> 00:00:50.310\n&gt;&gt; Very important aspect\nof having interns,\n\n18\n00:00:50.310 --> 00:00:52.780\nyou know who to blame when\nthings don't work the right way.\n\n19\n00:00:52.780 --> 00:00:56.730\nAll right, so we are gonna talk\nabout how to set up and configure\n\n20\n00:00:56.730 --> 00:01:00.030\nwhat's formally and more properly known\nas the Windows Advanced Firewall,\n\n21\n00:01:00.030 --> 00:01:03.850\nor the Windows Advanced Firewall\nwith Security.\n\n22\n00:01:03.850 --> 00:01:05.590\nSo we're gonna take a look\nat how to do that, but\n\n23\n00:01:05.590 --> 00:01:08.752\nI thought we would start out by talking\nabout just exactly what a firewall is.\n\n24\n00:01:08.752 --> 00:01:12.500\nCuz it's not like Microsoft\nhas the lock on firewalls,\n\n25\n00:01:12.500 --> 00:01:15.060\nthey certainly did not\ninvent the firewall.\n\n26\n00:01:15.060 --> 00:01:18.740\nAlthough they certainly have integrated\nfirewalls into all of their products for\n\n27\n00:01:18.740 --> 00:01:20.020\nmany, many years now.\n\n28\n00:01:20.020 --> 00:01:22.810\nBut like every other vendor on the planet,\npretty much, right,\n\n29\n00:01:22.810 --> 00:01:24.620\nthey take advantage of this concept.\n\n30\n00:01:24.620 --> 00:01:27.160\nBut firewalls are ubiquitous,\nthey are everywhere today, and\n\n31\n00:01:27.160 --> 00:01:31.220\nthey exist independent of one or\nmultiple operating system platforms.\n\n32\n00:01:31.220 --> 00:01:33.180\nBut they do perform\na very specific function,\n\n33\n00:01:33.180 --> 00:01:35.040\nespecially when we talk about security.\n\n34\n00:01:35.040 --> 00:01:37.340\nSo it is important to define the firewall,\nand\n\n35\n00:01:37.340 --> 00:01:39.430\nreally start off by\ntalking about what it is.\n\n36\n00:01:39.430 --> 00:01:41.420\nSo Mike, you're shaking your head\noff-camera while I'm talking,\n\n37\n00:01:41.420 --> 00:01:42.960\nacknowledging everything I'm saying.\n\n38\n00:01:42.960 --> 00:01:45.150\nMike's either trying to stay awake or\nactually agreeing with me,\n\n39\n00:01:45.150 --> 00:01:46.030\nI'm not sure which.\n\n40\n00:01:46.030 --> 00:01:48.180\n&gt;&gt; [CROSSTALK] I'm one of\nthose bobble heads over here.\n\n41\n00:01:48.180 --> 00:01:49.857\n&gt;&gt; Let's give him the benefit\nof the doubt and assume for\n\n42\n00:01:49.857 --> 00:01:52.060\nhim that he's actually agreeing with me.\n\n43\n00:01:52.060 --> 00:01:53.680\nSo let's talk about firewalls, right?\n\n44\n00:01:53.680 --> 00:01:56.758\nSo you were nodding as I was saying those\nthings, kind of acknowledging, right,\n\n45\n00:01:56.758 --> 00:01:58.522\nthat firewalls do things\nwe were describing.\n\n46\n00:01:58.522 --> 00:02:02.890\nSo if we had to summarize what a firewall\ndoes, maybe a couple of quick sentences,\n\n47\n00:02:02.890 --> 00:02:04.740\nright, what would we wanna tell people?\n\n48\n00:02:04.740 --> 00:02:06.430\nWhat's kind of the key factors or\n\n49\n00:02:06.430 --> 00:02:08.410\nimportant things you wanna\nthink about with firewalls?\n\n50\n00:02:08.410 --> 00:02:10.230\n&gt;&gt; If I was gonna break it\ndown into a couple sentences,\n\n51\n00:02:10.230 --> 00:02:14.360\nI would say firewalls allow\nus to block all traffic, and\n\n52\n00:02:14.360 --> 00:02:18.910\nthen allow the type of traffic\nthat we want to come though.\n\n53\n00:02:18.910 --> 00:02:22.130\n&gt;&gt; Okay, so one of the two ways we could\nset firewalls up, it's not the only way.\n\n54\n00:02:22.130 --> 00:02:23.777\n&gt;&gt; It's not the only way.\n&gt;&gt; It's important to know that, but\n\n55\n00:02:23.777 --> 00:02:26.722\nis the traditional way, more often\nthan not, as you rightly point out,\n\n56\n00:02:26.722 --> 00:02:28.710\nthat firewalls are usually configured.\n\n57\n00:02:28.710 --> 00:02:32.390\nWe can block all traffic,\nwe have a default response rule,\n\n58\n00:02:32.390 --> 00:02:34.590\nwhich is what we call it,\nwhich is deny all.\n\n59\n00:02:34.590 --> 00:02:36.260\nAnd then we start opening up and\n\n60\n00:02:36.260 --> 00:02:38.670\nessentially punching\nholes in the firewall.\n\n61\n00:02:38.670 --> 00:02:41.880\nOpening up ports, or\nprotocols, or IP address, or\n\n62\n00:02:41.880 --> 00:02:44.230\nMAC address, or\napplication-based functionality.\n\n63\n00:02:44.230 --> 00:02:47.110\nDepends on what kind of firewall and\nhow we're doing that.\n\n64\n00:02:47.110 --> 00:02:51.360\nBut essentially, we create\na series of exceptions, or allows,\n\n65\n00:02:51.360 --> 00:02:57.390\nthat will trump or go over the top of\nour do not allow any traffic rule.\n\n66\n00:02:57.390 --> 00:03:00.760\nAnd as long as our traffic inbound,\nor outbound, as firewalls in\n\n67\n00:03:00.760 --> 00:03:05.100\ntheory can work in both directions,\noften do, and can face one or both ways.\n\n68\n00:03:05.100 --> 00:03:07.800\nIn the sense that they can\ndo ingress and/or egress, or\n\n69\n00:03:07.800 --> 00:03:11.470\nbi-directional versus unidirectional or\nunilateral filtering.\n\n70\n00:03:11.470 --> 00:03:14.720\nAnd as a result, we can monitor\nthe traffic flows, as you were suggesting,\n\n71\n00:03:14.720 --> 00:03:16.020\nboth inbound and outbound.\n\n72\n00:03:16.020 --> 00:03:20.978\nAnd we can do that by allowing\nexceptions to this denial rule.\n\n73\n00:03:20.978 --> 00:03:24.923\nIf our traffic meets or\nmatches the criteria for one of our rules,\n\n74\n00:03:24.923 --> 00:03:27.230\nit will be processed under that rule.\n\n75\n00:03:27.230 --> 00:03:30.585\nAs opposed to the catch-all\nbottom rule which says deny all,\n\n76\n00:03:30.585 --> 00:03:33.630\nat the low end of that,\nif none of the other rules apply.\n\n77\n00:03:33.630 --> 00:03:35.720\nDid you ever play Pachinko as a kid?\n\n78\n00:03:35.720 --> 00:03:37.160\n&gt;&gt; Yes.\n&gt;&gt; Remember that, so\n\n79\n00:03:37.160 --> 00:03:39.580\nI had a pachinko machine when I was a kid,\nit was a pretty cool game.\n\n80\n00:03:39.580 --> 00:03:42.780\nIf you've never played Pachinko,\nit comes out of Asia, right?\n\n81\n00:03:42.780 --> 00:03:46.820\nIt's very popular in several\nAsian countries, and\n\n82\n00:03:46.820 --> 00:03:48.780\nbecame popular here in\nthe United States for a while.\n\n83\n00:03:48.780 --> 00:03:52.340\nIt's almost like a version of pinball,\nbut it's a horizontal,\n\n84\n00:03:52.340 --> 00:03:57.150\nas opposed to a kind of vertical version\nof pinball, if you will, or vertical,\n\n85\n00:03:57.150 --> 00:03:58.290\nrather, as opposed to horizontal.\n\n86\n00:03:58.290 --> 00:04:01.920\nAnd so the pachinko machine\nstands straight up and down,\n\n87\n00:04:01.920 --> 00:04:04.450\nand you hit the lever\nto shoot the ball up.\n\n88\n00:04:04.450 --> 00:04:06.760\nI use to love loading all\nthe ball bearings in the back,\n\n89\n00:04:06.760 --> 00:04:08.030\nin the machine, right?\n\n90\n00:04:08.030 --> 00:04:11.290\nYou have these little ball bearing\nsilver balls, and they go up.\n\n91\n00:04:11.290 --> 00:04:15.080\nAnd then they make their way down with all\nthe little pins that make up the design in\n\n92\n00:04:15.080 --> 00:04:16.910\nthe machine, and they kinda bounce around.\n\n93\n00:04:16.910 --> 00:04:19.840\nAnd eventually they kinda fall somewhere,\nand you get points, right,\n\n94\n00:04:19.840 --> 00:04:21.240\ntypically based on how they fall.\n\n95\n00:04:21.240 --> 00:04:24.110\nThey have whole pachinko parlors\nlike we have game rooms,\n\n96\n00:04:24.110 --> 00:04:26.340\nalthough those have gone the way\nof the dinosaur as well, here.\n\n97\n00:04:26.340 --> 00:04:27.510\nI'm dating myself, right?\n\n98\n00:04:27.510 --> 00:04:31.550\nWhen I was a kid, you actually had\ngame rooms, and you had arcades.\n\n99\n00:04:31.550 --> 00:04:35.300\nAnd even more arcade firms that\nyou could go an actually play.\n\n100\n00:04:35.300 --> 00:04:38.170\nThis is of course when we still had money\nand you would actually put money into\n\n101\n00:04:38.170 --> 00:04:40.770\nthe machine,\nas opposed to using credit for everything.\n\n102\n00:04:40.770 --> 00:04:44.610\nBut there actually are pachinko parlors,\nat least, there were for\n\n103\n00:04:44.610 --> 00:04:45.395\nmany years overseas.\n\n104\n00:04:45.395 --> 00:04:48.331\nYou can go, and much like a game room or\narcade here in the United States,\n\n105\n00:04:48.331 --> 00:04:50.270\nyou would go and\nyou'd have just row after row.\n\n106\n00:04:50.270 --> 00:04:54.401\nJust huge rooms of these machines with\nall the bells, whistles, lights, and\n\n107\n00:04:54.401 --> 00:04:55.480\nit was really cool.\n\n108\n00:04:55.480 --> 00:04:57.190\nAnd I used to love\nplaying when I was a kid.\n\n109\n00:04:57.190 --> 00:04:58.870\nIt was actually at my grandmother's house,\nI used to go and\n\n110\n00:04:58.870 --> 00:05:00.490\nplay pachinko all the time over there.\n\n111\n00:05:00.490 --> 00:05:01.790\nMe and my brother,\nI have a younger brother and\n\n112\n00:05:01.790 --> 00:05:03.830\nwe used to go play all the time.\n\n113\n00:05:03.830 --> 00:05:05.420\nAnd so it was a really fun game, right?\n\n114\n00:05:05.420 --> 00:05:09.220\nBut I always thought about the fact\nthat you would shoot the ball up, or\n\n115\n00:05:09.220 --> 00:05:09.840\nwhatever it was.\n\n116\n00:05:09.840 --> 00:05:12.805\nOr if you play pinball, kinda the same\nanalogy, shoot the ball out, and\n\n117\n00:05:12.805 --> 00:05:15.835\nyou had to traverse through\nthis kinda minefield, right?\n\n118\n00:05:15.835 --> 00:05:19.885\nThis maze of things to get the ball where\nyou wanted it to go and score points,\n\n119\n00:05:19.885 --> 00:05:21.295\nor whatever the case may be.\n\n120\n00:05:21.295 --> 00:05:24.965\nAnd firewalls essentially operate\nthat same way, at least in my mind,\n\n121\n00:05:24.965 --> 00:05:26.150\nthat's how I think of them.\n\n122\n00:05:26.150 --> 00:05:29.985\nWho would have thought, you started\nthis episode out, and five minutes in,\n\n123\n00:05:29.985 --> 00:05:33.560\nwe have an analogy that links pachinkos\nand video games to firewalls.\n\n124\n00:05:33.560 --> 00:05:38.320\nWhere else [CROSSTALK] but on ITProTV\ncould we possibly do that, right?\n\n125\n00:05:38.320 --> 00:05:40.450\nAll right, so\nwhen you think about how firewalls work,\n\n126\n00:05:40.450 --> 00:05:42.840\nthis is one of the two ways,\nas Mike suggested.\n\n127\n00:05:42.840 --> 00:05:46.490\nBlock all, starting up, and\nthen selectively allow, right?\n\n128\n00:05:46.490 --> 00:05:50.200\nOpen up rules or exceptions and allow\ntraffic either inbound, outbound or both.\n\n129\n00:05:50.200 --> 00:05:51.375\nBut we can do this another way,\n\n130\n00:05:51.375 --> 00:05:54.810\nI'm not suggesting this would be a better,\njust simply an alternative way.\n\n131\n00:05:54.810 --> 00:05:56.431\nNot even suggesting it's a good way, but\n\n132\n00:05:56.431 --> 00:05:58.200\njust pointing out that\nthere is another way.\n\n133\n00:05:58.200 --> 00:06:02.599\nIt's good configuring the firewall,\nwhich would be Instead of block all,\n\n134\n00:06:02.599 --> 00:06:07.330\nallow selective; allow all,\nstarting out wide open, block selective.\n\n135\n00:06:07.330 --> 00:06:11.240\nCreate rules that block traffic, and\nallow anything that does not get blocked.\n\n136\n00:06:11.240 --> 00:06:12.760\nThis is not the preferred method,\n\n137\n00:06:12.760 --> 00:06:16.830\njust to be clear, this is a very difficult\nway to manage a secure environment.\n\n138\n00:06:16.830 --> 00:06:18.580\nBecause chances are good you're\ngoing to miss something, and\n\n139\n00:06:18.580 --> 00:06:21.510\nas a result things are gonna bet\nin when they're not supposed to.\n\n140\n00:06:21.510 --> 00:06:24.950\nThe reason the default configuration\nof a firewall is deny all,\n\n141\n00:06:24.950 --> 00:06:27.730\nopen exceptions to only\nallow which you would like.\n\n142\n00:06:27.730 --> 00:06:31.790\nIs that essentially nothing gets in,\nright, unless we start to allow things.\n\n143\n00:06:31.790 --> 00:06:34.760\nAnd as a result, we can more tightly\ncontrol what traffic will come through, so\n\n144\n00:06:34.760 --> 00:06:36.580\nit makes a lot more sense.\n\n145\n00:06:36.580 --> 00:06:39.950\nBut there are two ways you could set\na firewall up, just to be clear, so\n\n146\n00:06:39.950 --> 00:06:41.240\nyou understand that.\n\n147\n00:06:41.240 --> 00:06:43.240\nHaving said that,\ndifferent kinds of firewalls,\n\n148\n00:06:43.240 --> 00:06:46.556\nas I mentioned,\nwill operate in different ways.\n\n149\n00:06:46.556 --> 00:06:49.223\nThey essentially filter based\non different configurations or\n\n150\n00:06:49.223 --> 00:06:50.830\ndifferent thought processes.\n\n151\n00:06:50.830 --> 00:06:54.230\nWe have what are these days known as WAFs,\nWeb Application Firewalls,\n\n152\n00:06:54.230 --> 00:06:56.412\nessentially a layer seven, the OSI model.\n\n153\n00:06:56.412 --> 00:06:59.095\nThey operate at the top layer,\nhave visibility all the way up and\n\n154\n00:06:59.095 --> 00:07:02.975\ndown the stack, so\nthey can filter based on an application.\n\n155\n00:07:02.975 --> 00:07:07.645\nBeing able to be filtering for\nweb traffic, or FTP as a protocol,\n\n156\n00:07:07.645 --> 00:07:10.090\nor mail, or whatever the case may be.\n\n157\n00:07:10.090 --> 00:07:13.450\nWe have firewalls that operate at\nlower levels of the OSI model.\n\n158\n00:07:13.450 --> 00:07:15.300\nWe could filter based on IP address, so\n\n159\n00:07:15.300 --> 00:07:18.620\nwe would be traditionally at\nlayer three of the OSI model.\n\n160\n00:07:18.620 --> 00:07:22.580\nBased just strictly on protocol,\nonly TCP, only UDP.\n\n161\n00:07:22.580 --> 00:07:25.758\nLayer four of the OSI model is where\nwe would find those protocols,\n\n162\n00:07:25.758 --> 00:07:27.940\ntraditionally could operate there.\n\n163\n00:07:27.940 --> 00:07:32.000\nWe can do this based on MAC address,\nwhich would be a layer two sub-layer,\n\n164\n00:07:32.000 --> 00:07:35.320\nwithin the data link layer of\nthe OSI model functionality.\n\n165\n00:07:35.320 --> 00:07:38.640\nThere's a lot of different ways\njust based on port numbers, right,\n\n166\n00:07:38.640 --> 00:07:42.590\nwhich is a very traditional way of\ndoing firewall configuration as well.\n\n167\n00:07:42.590 --> 00:07:44.450\nSo there's all these different options.\n\n168\n00:07:44.450 --> 00:07:47.826\nHowever we do this, whether it's\nan application-layered gateway.\n\n169\n00:07:47.826 --> 00:07:51.622\nWhich is the traditional, formal\nname we use in our documentation for\n\n170\n00:07:51.622 --> 00:07:54.337\nan application layer,\nat least until recently.\n\n171\n00:07:54.337 --> 00:07:57.770\nAn application layer fire, we now, as I\nsaid we now, traditionally we called them\n\n172\n00:07:57.770 --> 00:08:01.195\nWAFs, or web application firewalls,\nwho knows what we'll call them tomorrow.\n\n173\n00:08:01.195 --> 00:08:02.497\n&gt;&gt; [LAUGH]\n&gt;&gt; Perhaps just firewalls,\n\n174\n00:08:02.497 --> 00:08:03.710\nwhich would be novel and new.\n\n175\n00:08:03.710 --> 00:08:06.730\nBut, who am I, just a crazy old\nsecurity guy, what do I know right?\n\n176\n00:08:06.730 --> 00:08:10.310\nBut we may have application level or\n\n177\n00:08:10.310 --> 00:08:14.280\napplication layer gateway firewalls\nwhich are essentially layer 7 firewalls.\n\n178\n00:08:14.280 --> 00:08:18.120\nCircuit level gateways which I mentioned\nwill operate at the session layer,\n\n179\n00:08:18.120 --> 00:08:18.920\nI didn't mention them but\n\n180\n00:08:18.920 --> 00:08:21.820\nI should have, operate at\nthe session level of the OSI model.\n\n181\n00:08:21.820 --> 00:08:23.100\nMaybe a good idea to just run through,\n\n182\n00:08:23.100 --> 00:08:25.709\nI keep referencing the OSI model,\nI didn't think to put a graphic together.\n\n183\n00:08:25.709 --> 00:08:27.563\nMaybe we could get Cherokee\nto scribble something out for\n\n184\n00:08:27.563 --> 00:08:28.700\nus real quick [LAUGH]\n&gt;&gt; [LAUGH]\n\n185\n00:08:28.700 --> 00:08:30.741\n&gt;&gt; Put together a little animated box for\n\n186\n00:08:30.741 --> 00:08:31.576\nthe OSI model.\n\n187\n00:08:31.576 --> 00:08:32.121\n&gt;&gt; Uh-huh.\n&gt;&gt; But\n\n188\n00:08:32.121 --> 00:08:35.751\nmaybe we should just quickly run through\nthe OSI model, just when I say quick,\n\n189\n00:08:35.751 --> 00:08:36.802\nI mean relax, right?\n\n190\n00:08:36.802 --> 00:08:37.320\n&gt;&gt; Yes, right.\n\n191\n00:08:37.320 --> 00:08:39.426\n&gt;&gt; We're not going to\nsubject you to the normal,\n\n192\n00:08:39.426 --> 00:08:42.730\nhere's the OSI model everything you\never wanted to know conversation.\n\n193\n00:08:42.730 --> 00:08:44.763\nBut to just to remind you of\nthe layers of the OSI model.\n\n194\n00:08:44.763 --> 00:08:45.826\n&gt;&gt; Mm-hm.\n&gt;&gt; Maybe just because it is\n\n195\n00:08:45.826 --> 00:08:48.080\nreferenceable and it is something\nthat you want to know about.\n\n196\n00:08:48.080 --> 00:08:50.170\nHaving said that,\nwe'll do this in just a minute.\n\n197\n00:08:50.170 --> 00:08:51.817\nI'm just giving Mike a chance\nto catch his breath.\n\n198\n00:08:51.817 --> 00:08:52.871\n&gt;&gt; [LAUGH]\n&gt;&gt; And remember them so\n\n199\n00:08:52.871 --> 00:08:53.930\nthat he can run through them.\n\n200\n00:08:53.930 --> 00:08:55.440\n&gt;&gt; I can see a pop quiz coming my way.\n\n201\n00:08:55.440 --> 00:08:57.230\n&gt;&gt; But before we do this, and\nI'll help you out with this.\n\n202\n00:08:57.230 --> 00:08:59.400\nBut before we do this, right?\n\n203\n00:08:59.400 --> 00:09:00.880\nJust to remind you, right?\n\n204\n00:09:00.880 --> 00:09:04.350\nOf the fact, two things that are important\nfor an exam preparation perspective.\n\n205\n00:09:04.350 --> 00:09:06.280\nThings like the OSI model are fair game.\n\n206\n00:09:06.280 --> 00:09:07.970\nThey are not vendor specific.\n\n207\n00:09:07.970 --> 00:09:10.220\nMicrosoft did not invent the OSI model.\n\n208\n00:09:10.220 --> 00:09:12.740\nAs I know myself and\nall the other hosts and\n\n209\n00:09:12.740 --> 00:09:15.940\nsubject matter experts here at ITProTV\nremind you whenever we talk about that.\n\n210\n00:09:15.940 --> 00:09:16.690\nAt least we should.\n\n211\n00:09:16.690 --> 00:09:17.420\nIf we don't, we should.\n\n212\n00:09:17.420 --> 00:09:19.460\nShame on us if we have not told you that.\n\n213\n00:09:19.460 --> 00:09:22.040\nIt is not a vendor specific model.\n\n214\n00:09:22.040 --> 00:09:25.080\nIt is a generic model that's\napplied by all vendors.\n\n215\n00:09:25.080 --> 00:09:28.825\nIn our world that use networking as\npart of their protocol stack and\n\n216\n00:09:28.825 --> 00:09:30.760\nimplementation,in any way shape or form.\n\n217\n00:09:30.760 --> 00:09:32.680\nSo it's ubiquitous and it is common.\n\n218\n00:09:32.680 --> 00:09:34.390\nIt's not unique to one vendor.\n\n219\n00:09:34.390 --> 00:09:36.636\nEven though Sysco and\nother vendors claim they invented it.\n\n220\n00:09:36.636 --> 00:09:38.048\n&gt;&gt; [LAUGH]\n&gt;&gt; It's not the case at all, right?\n\n221\n00:09:38.048 --> 00:09:39.218\nSo just know that.\n\n222\n00:09:39.218 --> 00:09:43.174\nNumber two, while Microsoft,\ntraditionally does not test very often for\n\n223\n00:09:43.174 --> 00:09:46.710\nknowledge of something like\nthis on their exams directly.\n\n224\n00:09:46.710 --> 00:09:49.470\nIt's highly unlikely,\nthat in many exams and\n\n225\n00:09:49.470 --> 00:09:52.460\neven if you got it on an exam would be\nno more than probably one question.\n\n226\n00:09:52.460 --> 00:09:54.700\nBut you would actually be asked hey,\nwhat's layer four?\n\n227\n00:09:54.700 --> 00:09:56.170\nOr something like that of the OSI model.\n\n228\n00:09:56.170 --> 00:09:59.340\nThis is not, in other words,\nknowledge that we would test for directly.\n\n229\n00:09:59.340 --> 00:10:00.850\nIt is knowledge we assume,\n\n230\n00:10:00.850 --> 00:10:03.610\nand it is knowledge that as a result\nthat we assume you know, and\n\n231\n00:10:03.610 --> 00:10:06.890\ntherefore may probe for indirectly,\nthrough a scenario based question.\n\n232\n00:10:06.890 --> 00:10:10.770\nWe may ask you to knowledgeably process\nthat information as part of getting\n\n233\n00:10:10.770 --> 00:10:12.600\nthe right answer in a question.\n\n234\n00:10:12.600 --> 00:10:13.580\nWe may not ask for it directly.\n\n235\n00:10:13.580 --> 00:10:15.400\nSomething like a CompT exam,\n\n236\n00:10:15.400 --> 00:10:18.750\nyou're more likely to be asked\nabout the layers of the OSI model.\n\n237\n00:10:18.750 --> 00:10:20.820\nBut in a Microsoft exam probably not.\n\n238\n00:10:20.820 --> 00:10:26.400\nBut knowledge of it can be important\nto answer questions correctly.\n\n239\n00:10:26.400 --> 00:10:28.458\nEspecially with regards to security.\n\n240\n00:10:28.458 --> 00:10:32.864\nAnd this is the theme of this entire show\nand all the episodes we're doing around\n\n241\n00:10:32.864 --> 00:10:37.663\nthe 70744 exam as Mike is reminding us of\nwhenever we introduce one of our episodes\n\n242\n00:10:37.663 --> 00:10:40.976\nor Cherokee or\nwhoever I'm co-presenting with, right?\n\n243\n00:10:40.976 --> 00:10:42.990\nAs we go through the shows,\nbecause it is the theme, right?\n\n244\n00:10:42.990 --> 00:10:45.420\nSo, it is probably good\nbackground information.\n\n245\n00:10:45.420 --> 00:10:47.720\nSo, you want to go top down,\nor you want to go bottom up?\n\n246\n00:10:47.720 --> 00:10:49.232\n&gt;&gt; I'm a top down,\nthat's the way I learned it.\n\n247\n00:10:49.232 --> 00:10:51.220\n&gt;&gt; Okay, all right.\n&gt;&gt; Way back in the day.\n\n248\n00:10:51.220 --> 00:10:53.290\n&gt;&gt; With A+\n&gt;&gt; So starting a layer seven, right?\n\n249\n00:10:53.290 --> 00:10:54.266\nApplication layer.\n\n250\n00:10:54.266 --> 00:11:00.420\n&gt;&gt; Mine mnemonic was always,\nall people seem to need delicious pizza.\n\n251\n00:11:00.420 --> 00:11:02.480\n&gt;&gt; See I did it bottom up, right?\n\n252\n00:11:02.480 --> 00:11:03.460\nOr bottom up.\n\n253\n00:11:03.460 --> 00:11:05.346\n&gt;&gt; And mine was,\npeople don't need to see Paula Abdul.\n\n254\n00:11:05.346 --> 00:11:07.560\n&gt;&gt; [LAUGH]\n&gt;&gt; I was a child of the 80s,\n\n255\n00:11:07.560 --> 00:11:09.250\nand that was mine.\n\n256\n00:11:09.250 --> 00:11:11.370\nBut hey, no disrespect,\nI like Paula Abdul.\n\n257\n00:11:11.370 --> 00:11:11.890\n&gt;&gt; Right, right.\n\n258\n00:11:11.890 --> 00:11:13.590\n&gt;&gt; She's a great performer, great artist.\n\n259\n00:11:13.590 --> 00:11:15.888\nBut that was just my,\ncoming from where I came from.\n\n260\n00:11:15.888 --> 00:11:17.233\nI did bottom up, that was me.\n\n261\n00:11:17.233 --> 00:11:18.391\n&gt;&gt; Okay.\n&gt;&gt; So however you do it,\n\n262\n00:11:18.391 --> 00:11:19.320\nit doesn't matter.\n\n263\n00:11:19.320 --> 00:11:20.100\nBut all right, so if we do it.\n\n264\n00:11:20.100 --> 00:11:21.640\n&gt;&gt; So we have our application, right?\n\n265\n00:11:21.640 --> 00:11:23.200\n&gt;&gt; We have our application layer,\nlayer seven.\n\n266\n00:11:23.200 --> 00:11:24.650\n&gt;&gt; Then we've got session.\n\n267\n00:11:24.650 --> 00:11:25.330\n&gt;&gt; Well, no, no, no.\n\n268\n00:11:25.330 --> 00:11:26.370\n&gt;&gt; I'm sorry, presentation, don't forget.\n\n269\n00:11:26.370 --> 00:11:28.000\n&gt;&gt; Presentation, right,\nokay, so presentation.\n\n270\n00:11:28.000 --> 00:11:32.500\nAll right, so layer seven is application,\nlayer six is presentation.\n\n271\n00:11:32.500 --> 00:11:33.640\nOkay, then?\n\n272\n00:11:33.640 --> 00:11:34.150\n&gt;&gt; Session.\n\n273\n00:11:34.150 --> 00:11:35.430\n&gt;&gt; Then our session layer, layer five.\n\n274\n00:11:36.480 --> 00:11:37.292\nTransport?\n\n275\n00:11:37.292 --> 00:11:40.540\n&gt;&gt; Then our layer,\nfive layer, four, right?\n\n276\n00:11:40.540 --> 00:11:45.210\nSo again, transport,\n&gt;&gt; Sing to need, network.\n\n277\n00:11:45.210 --> 00:11:46.570\n&gt;&gt; Network, layer three.\n\n278\n00:11:46.570 --> 00:11:47.910\n&gt;&gt; Data and physical.\n\n279\n00:11:47.910 --> 00:11:50.920\n&gt;&gt; Data links, layer two, data links.\n\n280\n00:11:50.920 --> 00:11:53.154\nAnd then physical layer one,\nokay, very good.\n\n281\n00:11:53.154 --> 00:11:53.901\n&gt;&gt; I passed.\n&gt;&gt; Okay passed.\n\n282\n00:11:53.901 --> 00:11:54.618\n&gt;&gt; All right, good.\n&gt;&gt; [LAUGH]\n\n283\n00:11:54.618 --> 00:11:55.583\n&gt;&gt; Next time, we'll make\n\n284\n00:11:55.583 --> 00:11:58.200\na little cheat sheet, to have it here,\nso you can go through it.\n\n285\n00:11:58.200 --> 00:12:00.535\nSo it would be good just to remember,\nright?\n\n286\n00:12:00.535 --> 00:12:02.817\nWhat the layers of the OSI model are.\n\n287\n00:12:02.817 --> 00:12:05.680\nWe gave you two separate mnemonics,\none top down, as Mike shared with you,\n\n288\n00:12:05.680 --> 00:12:06.680\none bottom up.\n\n289\n00:12:06.680 --> 00:12:10.075\nThere are many out there, people\nplease don't throw away sausage pizza.\n\n290\n00:12:10.075 --> 00:12:11.403\n&gt;&gt; Yeah, uh-huh.\n&gt;&gt; There's all sorts of different ones\n\n291\n00:12:11.403 --> 00:12:12.751\nthat are out there that\nyou often hear about.\n\n292\n00:12:12.751 --> 00:12:16.863\nI'm sure Wes probably has one or\ntwo that he uses in the CompT shows.\n\n293\n00:12:16.863 --> 00:12:17.950\n&gt;&gt; Yes.\n&gt;&gt; That he's done on A+ and\n\n294\n00:12:17.950 --> 00:12:21.050\nall sorts of stuff where you would\nlearn about that Network+, Security+.\n\n295\n00:12:21.050 --> 00:12:22.681\nAlways important to know what they are.\n\n296\n00:12:22.681 --> 00:12:26.641\nBut, just remember that knowledge of that\nmay be helpful to expose the thought\n\n297\n00:12:26.641 --> 00:12:30.735\nprocess around where the different layers\nor types of firewalls may be aligned.\n\n298\n00:12:30.735 --> 00:12:33.995\nI mentioned circuit level gateways or\nsession layer, right?\n\n299\n00:12:33.995 --> 00:12:35.562\nSo you just want to make\nsure you're aware of that.\n\n300\n00:12:35.562 --> 00:12:39.932\nPacket filtering operates at the network\nlayer, traditionally, of the OSI model.\n\n301\n00:12:39.932 --> 00:12:45.392\nAnd stateful multi layer, or state for\ndynamic packet inspection firewalls,\n\n302\n00:12:45.392 --> 00:12:48.862\ntraditionally, are gonna keep state,\nor understand session state.\n\n303\n00:12:48.862 --> 00:12:53.930\nWhich means, they look at packets within\ncontext of other packets around them.\n\n304\n00:12:53.930 --> 00:12:58.210\nYour first generation firewalls,\nold school firewalls, will be called\n\n305\n00:12:58.210 --> 00:13:02.580\nstateless firewalls, or static\npacket inspection filtering devices.\n\n306\n00:13:02.580 --> 00:13:05.220\nJust looked at each\nindividual packet of data.\n\n307\n00:13:05.220 --> 00:13:07.460\nImagine, literally, you got an envelope.\n\n308\n00:13:07.460 --> 00:13:09.140\nSomebody handed you an envelope, right?\n\n309\n00:13:09.140 --> 00:13:10.700\nAnd inside there was a piece of paper,\n\n310\n00:13:10.700 --> 00:13:15.200\na group of small items and that was one\npacket of data, just hypothetically.\n\n311\n00:13:15.200 --> 00:13:17.220\nIf we had a visual for that, right?\n\n312\n00:13:17.220 --> 00:13:21.140\nAnd whatever was contained inside, that\nenvelope, was part of that data packet.\n\n313\n00:13:21.140 --> 00:13:24.540\nAnd every data packet, and there could\nbe millions of them, would, essentially,\n\n314\n00:13:24.540 --> 00:13:26.410\nbe their own little,\nself-contained unit, right?\n\n315\n00:13:26.410 --> 00:13:28.250\nThat's what we call packetized data.\n\n316\n00:13:28.250 --> 00:13:29.085\nThat's the whole idea.\n\n317\n00:13:29.085 --> 00:13:31.441\nThe data frame or\ndatagram represents that.\n\n318\n00:13:31.441 --> 00:13:34.937\nAnd so when we think about that,\nstatic packet filtering firewalls or\n\n319\n00:13:34.937 --> 00:13:38.846\nfirst gen firewalls would only look at\neach individual envelope, open it up,\n\n320\n00:13:38.846 --> 00:13:43.550\nkind of dump it on the table, examine\nthe contents and say, this is interesting.\n\n321\n00:13:43.550 --> 00:13:47.330\nLook, I've got a header here\nwith some TCP information.\n\n322\n00:13:47.330 --> 00:13:48.500\nMaybe some IP information.\n\n323\n00:13:48.500 --> 00:13:50.450\nMaybe there's fragment or don't fragment.\n\n324\n00:13:50.450 --> 00:13:53.090\nFlag, maybe there's a SYN or\nan ACK flag for TCP.\n\n325\n00:13:53.090 --> 00:13:55.520\nMaybe there's a MAC address most likely.\n\n326\n00:13:55.520 --> 00:13:58.112\nMaybe there's a VLAN ID, right?\n\n327\n00:13:58.112 --> 00:14:00.220\nThere's all sorts of stuff that would\nbe in there in theory in the header.\n\n328\n00:14:00.220 --> 00:14:01.868\nThen I've got a whole bunch of data,\n\n329\n00:14:01.868 --> 00:14:04.752\na bunch of bytes of data sitting\nin the middle of the data packet.\n\n330\n00:14:04.752 --> 00:14:08.260\nThe actual payload if you will,\nin an ethernet data frame.\n\n331\n00:14:08.260 --> 00:14:12.640\nAnd then there's the tray or the back end,\nwhere I have things like CRCs,\n\n332\n00:14:12.640 --> 00:14:17.090\ncyclical redundancy checks, check subs,\nerror control and correction,\n\n333\n00:14:17.090 --> 00:14:18.380\nessentially padding.\n\n334\n00:14:18.380 --> 00:14:20.850\nYou mentioned padding\nwhen we were off camera.\n\n335\n00:14:20.850 --> 00:14:21.812\n&gt;&gt; [LAUGH]\n&gt;&gt; So padding, or\n\n336\n00:14:21.812 --> 00:14:24.406\nthe stuff we put on there to ensure\nthe integrity of the data frame,\n\n337\n00:14:24.406 --> 00:14:27.790\nto ensure that when we deliver the data\n&gt;&gt; The data's actually what we sent and\n\n338\n00:14:27.790 --> 00:14:31.210\nnot something that got garbled up and\nscrewed up in transmission, right?\n\n339\n00:14:31.210 --> 00:14:34.610\nSo all that happens and\nit's all inside this magical envelope or\n\n340\n00:14:34.610 --> 00:14:35.940\ncontainer that I'm describing to you.\n\n341\n00:14:37.290 --> 00:14:39.380\nStatic packet filtering systems,\n\n342\n00:14:39.380 --> 00:14:42.310\nfirst generation firewalls only looked\nat what was in that one envelope.\n\n343\n00:14:42.310 --> 00:14:44.490\nHad no idea of what had come before.\n\n344\n00:14:44.490 --> 00:14:45.590\nI've never seen an envelope before.\n\n345\n00:14:45.590 --> 00:14:46.100\nThis is new.\n\n346\n00:14:46.100 --> 00:14:47.515\nLet me open this up and\nsee what's in there.\n\n347\n00:14:47.515 --> 00:14:50.544\nAnd every time it would be an epiphany,\nwas just brand new.\n\n348\n00:14:50.544 --> 00:14:52.145\nThey never knew what had come before.\n\n349\n00:14:52.145 --> 00:14:56.703\nOr you have no idea of the fact that that\npacket they're examining right now may be\n\n350\n00:14:56.703 --> 00:15:01.330\n1 of 20 and there's a sequence number and\na fragment also we use with packets and\n\n351\n00:15:01.330 --> 00:15:06.095\nthat indicates that this package is\npart of a larger group of data packets.\n\n352\n00:15:06.095 --> 00:15:08.905\nStatic packet firewalls,\nstatic packet filter and firewalls have no\n\n353\n00:15:08.905 --> 00:15:12.167\nknowledge of this because they didn't\nmaintain session or state awareness.\n\n354\n00:15:12.167 --> 00:15:15.644\nThey operated at a layer the OSI model\nbelow, the ability to do that below\n\n355\n00:15:15.644 --> 00:15:18.779\nthe session layer and as a result,\nthey had no knowledge of this.\n\n356\n00:15:18.779 --> 00:15:22.660\nNow, that was okay in the beginning,\nbut the problem, historically,\n\n357\n00:15:22.660 --> 00:15:25.726\nwas, as a result of that,\nthat fragmentation attacks.\n\n358\n00:15:25.726 --> 00:15:28.626\nOne of the most popular kinds of attacks,\neven today and\n\n359\n00:15:28.626 --> 00:15:32.391\nstill one of the most successful attacks,\neven today against systems,\n\n360\n00:15:32.391 --> 00:15:35.785\nwere able to propagate because we\nwould simply as attackers say,\n\n361\n00:15:35.785 --> 00:15:39.673\nwell if you're not gonna look at the data\npackets and see their connected,\n\n362\n00:15:39.673 --> 00:15:43.400\nwhy don't I just break my attack\nup into multiple data packets?\n\n363\n00:15:43.400 --> 00:15:47.300\nI'll stream it in, and you'll never\nsee the attack being linked together.\n\n364\n00:15:47.300 --> 00:15:50.021\nBecause you won't connect the dots,\nliterally, right?\n\n365\n00:15:50.021 --> 00:15:52.351\nAnd as a result,\nwe could just fragment our attacks.\n\n366\n00:15:52.351 --> 00:15:54.767\nAnd oftentimes, they were successful.\n\n367\n00:15:54.767 --> 00:15:56.781\nNot all the time, but for\na variety of reasons.\n\n368\n00:15:56.781 --> 00:15:57.943\nThey typically were.\n\n369\n00:15:57.943 --> 00:16:01.734\nSo we fast forward and\nsaid well, this is no good.\n\n370\n00:16:01.734 --> 00:16:03.016\nAnd we're getting attacked and\n\n371\n00:16:03.016 --> 00:16:05.630\nevery packet that comes in is\ngetting looked at individually.\n\n372\n00:16:05.630 --> 00:16:08.380\nWe don't really see or understand\nthe logic of how these things connect.\n\n373\n00:16:08.380 --> 00:16:09.550\nWe've got to have a better way.\n\n374\n00:16:09.550 --> 00:16:13.150\nAnd indeed we do, dynamic or\nstateful packet inspection firewalls.\n\n375\n00:16:13.150 --> 00:16:16.215\nNext gen, or second gen technology, right?\n\n376\n00:16:16.215 --> 00:16:20.700\nAgain, whose marketing material you read,\nright, and as a result these firewalls and\n\n377\n00:16:20.700 --> 00:16:23.590\nthe Windows Advanced Firewall\nis of this type and\n\n378\n00:16:23.590 --> 00:16:26.880\nalmost every modern firewall\nfalls into this newer category.\n\n379\n00:16:26.880 --> 00:16:28.020\nRemember BlackICE?\n\n380\n00:16:28.020 --> 00:16:29.137\n&gt;&gt; What's that?\n&gt;&gt; Remember BlackICE?\n\n381\n00:16:29.137 --> 00:16:29.660\n&gt;&gt; Yes.\n\n382\n00:16:29.660 --> 00:16:31.927\n&gt;&gt; One of the personal firewalls and\nall the other ones that are around.\n\n383\n00:16:31.927 --> 00:16:33.146\nSo these-\n&gt;&gt; Alarm Pro?\n\n384\n00:16:33.146 --> 00:16:34.748\n&gt;&gt; Yeah, all these different ones.\n\n385\n00:16:34.748 --> 00:16:37.850\nRight, these were all like personal\nfirewalls you would run before Microsoft\n\n386\n00:16:37.850 --> 00:16:39.403\nwas in the firewall business, right?\n\n387\n00:16:39.403 --> 00:16:43.223\nYou would put this on Windows XP,\nWindows NT4, that kind of thing.\n\n388\n00:16:43.223 --> 00:16:44.362\nYou had your own firewall.\n\n389\n00:16:44.362 --> 00:16:46.820\nIt was a third party product,\nright, that you'd have to install.\n\n390\n00:16:46.820 --> 00:16:50.800\nThey got smart around the Vista release\nand decided to start putting firewalls in\n\n391\n00:16:50.800 --> 00:16:52.650\nplace and actually make them\npart of the operating system.\n\n392\n00:16:52.650 --> 00:16:54.060\nWe're thankful for that, right?\n\n393\n00:16:54.060 --> 00:16:56.750\nIt's a good thing, but\nnow these firewalls are stateful.\n\n394\n00:16:56.750 --> 00:17:00.510\nThey look not just to one envelope, dump\nit out and go, look, a brand new packet.\n\n395\n00:17:00.510 --> 00:17:01.330\nI've never seen this before.\n\n396\n00:17:01.330 --> 00:17:02.850\nWhat is this?\nBut they say, wow.\n\n397\n00:17:02.850 --> 00:17:04.710\nMore of the same.\nThis is number 20 of 25.\n\n398\n00:17:04.710 --> 00:17:06.789\nI know about the prior 20.\n\n399\n00:17:06.789 --> 00:17:10.063\nI've got my list, my manifest list right\nhere, of what all the packets were, and\n\n400\n00:17:10.063 --> 00:17:11.170\nI'm expecting five more.\n\n401\n00:17:11.170 --> 00:17:13.010\nThis is number 23 out of 25.\n\n402\n00:17:13.010 --> 00:17:14.720\nIt's out of sequence.\n\n403\n00:17:14.720 --> 00:17:16.850\nLet me put it over here in a buffer.\n\n404\n00:17:16.850 --> 00:17:18.520\nLet me pass it through and process it.\n\n405\n00:17:18.520 --> 00:17:20.190\nAnd then we'll put it back together again.\n\n406\n00:17:20.190 --> 00:17:22.370\nOr, hey, I'm looking at this,\nand you know what?\n\n407\n00:17:22.370 --> 00:17:24.800\nThe other 25 packets that came through,\nas I look at them,\n\n408\n00:17:24.800 --> 00:17:28.020\nthey're all pretty similar,\nand they look suspicious.\n\n409\n00:17:28.020 --> 00:17:30.575\nMaybe I should stop this flow\nbefore it gets any further, right?\n\n410\n00:17:30.575 --> 00:17:35.056\nAnd so stateful inspection allows us\nto understand literally session state.\n\n411\n00:17:35.056 --> 00:17:38.977\nAnd we're aware of the history or\nthe pedigree of these packets as they come\n\n412\n00:17:38.977 --> 00:17:41.602\nthrough, and\nwe link them to things we've seen.\n\n413\n00:17:41.602 --> 00:17:43.832\nAnd as a result,\nthe firewall's much more effective.\n\n414\n00:17:43.832 --> 00:17:47.639\nSo these days, these stateful\nmultilayer application gateways,\n\n415\n00:17:47.639 --> 00:17:51.043\nwhich is the ridiculously long\ncrazy name we give to a dynamic\n\n416\n00:17:51.043 --> 00:17:54.134\npacket filtering firewall\nare capable of doing this.\n\n417\n00:17:54.134 --> 00:17:57.690\nAnd this is what we wanna make sure\nwe're aware of and we think about.\n\n418\n00:17:57.690 --> 00:17:59.960\nNow the way firewalls do\nthe match is kind of interesting.\n\n419\n00:17:59.960 --> 00:18:02.020\nWe use this concept called the tuple.\n\n420\n00:18:02.020 --> 00:18:03.500\nAnd you've heard about tuples before.\n\n421\n00:18:03.500 --> 00:18:06.403\nYou and I have talked about them\nin other security programs, but\n\n422\n00:18:06.403 --> 00:18:08.210\nwe use a five tuple for matching.\n\n423\n00:18:08.210 --> 00:18:11.341\nA five tuple, fancy way of just simply\nsaying we match on five criteria, right,\n\n424\n00:18:11.341 --> 00:18:11.952\nessentially.\n\n425\n00:18:11.952 --> 00:18:13.090\nWe've talked about what these are.\n\n426\n00:18:13.090 --> 00:18:16.121\nTuple's a term you often hear\nin database discussions as well.\n\n427\n00:18:16.121 --> 00:18:18.705\nRemember we talk about rows and\ncolumns in a database,\n\n428\n00:18:18.705 --> 00:18:20.509\nsometimes we'll talk about tuples.\n\n429\n00:18:20.509 --> 00:18:23.468\nSo what is the five tuple that\nwe often match up, right?\n\n430\n00:18:23.468 --> 00:18:25.639\nIf you had to guess, what would be\nsome of the things that are in there?\n\n431\n00:18:25.639 --> 00:18:27.045\nWe actually mentioned\nmost of them already.\n\n432\n00:18:27.045 --> 00:18:28.171\n&gt;&gt; Source IP address.\n\n433\n00:18:28.171 --> 00:18:29.964\n&gt;&gt; Well, generically,\nlet's just say IP addresses.\n\n434\n00:18:29.964 --> 00:18:30.859\n&gt;&gt; IP addresses.\n\n435\n00:18:30.859 --> 00:18:31.811\n&gt;&gt; Source or destination, just IP.\n\n436\n00:18:31.811 --> 00:18:33.644\n&gt;&gt; IP address, port numbers.\n\n437\n00:18:33.644 --> 00:18:34.805\n&gt;&gt; Port numbers, absolutely.\n\n438\n00:18:34.805 --> 00:18:37.140\nSo both sender and receiver,\nsource or destination.\n\n439\n00:18:37.140 --> 00:18:41.795\nSo that would be source and destination\nfor IP, source and destination report.\n\n440\n00:18:41.795 --> 00:18:43.132\nSo we got four, right?\n\n441\n00:18:43.132 --> 00:18:45.059\nAnd then we talked about\none other one as well.\n\n442\n00:18:45.059 --> 00:18:45.570\n&gt;&gt; Protocol.\n\n443\n00:18:45.570 --> 00:18:47.205\n&gt;&gt; Protocol,\nthat's the five tuple right there.\n\n444\n00:18:47.205 --> 00:18:50.619\nSo who's sending and receiving IP,\nwho's sending and receiving MAC, and\n\n445\n00:18:50.619 --> 00:18:51.698\nthe protocol, right?\n\n446\n00:18:51.698 --> 00:18:55.743\nThat they are going to send and/or receive\non is going to be what we often can\n\n447\n00:18:55.743 --> 00:18:56.331\npivot on.\n\n448\n00:18:56.331 --> 00:18:59.362\nThere are other things, as we said,\nbut usually we use the five tuple, and\n\n449\n00:18:59.362 --> 00:19:00.917\nthat's what makes up the five tuple.\n\n450\n00:19:00.917 --> 00:19:06.373\nSource and receiver IP,\nsource and receiver port number.\n\n451\n00:19:06.373 --> 00:19:08.010\nI think I said MAC address,\nsorry, I meant port number.\n\n452\n00:19:08.010 --> 00:19:09.462\nI know I said port the first time.\n\n453\n00:19:09.462 --> 00:19:11.946\nSo IP, port number and\nthe protocol, right?\n\n454\n00:19:11.946 --> 00:19:15.744\nSo make sure you know what makes up\nthe five tuples for a standard firewall.\n\n455\n00:19:15.744 --> 00:19:18.902\nThat is a question you may actually see or\nget asked about it.\n\n456\n00:19:18.902 --> 00:19:20.481\nYou just wanna make sure\nyou're aware of that.\n\n457\n00:19:20.481 --> 00:19:21.682\nNow speaking of ports,\n\n458\n00:19:21.682 --> 00:19:24.811\nthere are three categories of\nports that we often talk about.\n\n459\n00:19:24.811 --> 00:19:28.564\nThere's all total, all up, number, right,\nwhich we often talk about and say hey,\n\n460\n00:19:28.564 --> 00:19:31.328\nno matter what machine on the planet,\nwhat operating system,\n\n461\n00:19:31.328 --> 00:19:33.333\nwe always have this number of ports,\nright?\n\n462\n00:19:33.333 --> 00:19:35.387\nAnd that number's important for\na lot of reasons.\n\n463\n00:19:35.387 --> 00:19:37.396\nNot the least of which is\nyou may get asked about it.\n\n464\n00:19:37.396 --> 00:19:38.476\nSo you wanna know what it is, right?\n\n465\n00:19:38.476 --> 00:19:41.843\nBut that number is 65,535, right?\n\n466\n00:19:41.843 --> 00:19:45.111\nSo that's the total number of ports\nthat are available regardless of\n\n467\n00:19:45.111 --> 00:19:46.080\noperating system.\n\n468\n00:19:46.080 --> 00:19:47.222\nYou can run Android,\n\n469\n00:19:47.222 --> 00:19:51.235\nyou can run the Mac OS, you could run\nWindows, you could run Linux, Unix.\n\n470\n00:19:51.235 --> 00:19:52.850\nIt doesn't matter what it is.\n\n471\n00:19:52.850 --> 00:19:57.682\nIf that operating system implements a\nnetworking stack and is RFC compliant, so\n\n472\n00:19:57.682 --> 00:20:02.158\nit processes protocols according to\nthe standard RFCs that are out there,\n\n473\n00:20:02.158 --> 00:20:03.730\nthe TCP, RC, UDP, etc.\n\n474\n00:20:03.730 --> 00:20:07.573\nAll those RFCs that make up essentially\nthe modern foundation rulebook for\n\n475\n00:20:07.573 --> 00:20:10.501\nnetworking, it's gonna\nprovide 65,535 ports.\n\n476\n00:20:10.501 --> 00:20:11.420\nThat's the way it works.\n\n477\n00:20:11.420 --> 00:20:15.589\nSo as a result, those ports are carved\nup in a different groupings or\n\n478\n00:20:15.589 --> 00:20:16.990\ncategories, right?\n\n479\n00:20:16.990 --> 00:20:21.460\nWe often talk about the first 1,023\nas being what we call the well-known\n\n480\n00:20:21.460 --> 00:20:24.950\nports and you probably know a lot of\nthe ones that are in that category.\n\n481\n00:20:24.950 --> 00:20:29.932\nWe refer to them quite often,\nthings like port 80, right, for HTTP, or\n\n482\n00:20:29.932 --> 00:20:34.139\nport 443 of HTTPS, or port 25 for\nSMTP, the list goes on.\n\n483\n00:20:34.139 --> 00:20:35.594\nYou got a favorite in that group?\n\n484\n00:20:35.594 --> 00:20:37.158\n&gt;&gt; No, not really.\n\n485\n00:20:37.158 --> 00:20:38.252\n&gt;&gt; Pick one.\n\n486\n00:20:38.252 --> 00:20:41.849\n&gt;&gt; Gosh, I'm gonna have to say 443.\n\n487\n00:20:41.849 --> 00:20:43.360\n&gt;&gt; 443, okay.\n\n488\n00:20:43.360 --> 00:20:44.776\nSo HTTPS, right?\n\n489\n00:20:44.776 --> 00:20:46.425\nI happen to like DNS a lot.\n\n490\n00:20:46.425 --> 00:20:47.807\nSo port 53 for me.\n\n491\n00:20:47.807 --> 00:20:49.638\n&gt;&gt; That's a good one.\n&gt;&gt; FTP ports 20 and 21,\n\n492\n00:20:49.638 --> 00:20:51.420\nbecause it does operate on both.\n\n493\n00:20:51.420 --> 00:20:52.820\nSo there's a whole bunch, right?\n\n494\n00:20:52.820 --> 00:20:54.280\nAnd obviously there's documentation.\n\n495\n00:20:54.280 --> 00:20:56.510\nYou've gotta read up on all\nthe well-known ports, right?\n\n496\n00:20:56.510 --> 00:20:59.940\nBut I'm gonna show you a place you can go\nand find those as well, because oftentimes\n\n497\n00:20:59.940 --> 00:21:03.670\nyou get asked about this, and you don't\nknow what's authoritative, number one.\n\n498\n00:21:03.670 --> 00:21:06.770\nYou don’t know if when you're going out\nand reading about it in somebody's blog,\n\n499\n00:21:06.770 --> 00:21:08.948\nperhaps they do or\ndon't have the right port designation.\n\n500\n00:21:08.948 --> 00:21:11.780\nNot indicating at all, nor\nam I in any way trying to\n\n501\n00:21:11.780 --> 00:21:14.590\nsay that somebody would purposely\nput bad information out there,\n\n502\n00:21:14.590 --> 00:21:16.120\nbut still there's just\npeople make mistakes.\n\n503\n00:21:16.120 --> 00:21:19.940\nYou're just not realizing that you\nhave that information incorrect.\n\n504\n00:21:19.940 --> 00:21:22.180\nSo is there an authoritative source,\nI get asked this all the time?\n\n505\n00:21:22.180 --> 00:21:23.810\nThe answer is absolutely.\n\n506\n00:21:23.810 --> 00:21:24.462\nJoin me right here.\n\n507\n00:21:24.462 --> 00:21:25.658\nI'm gonna show you what that is.\n\n508\n00:21:25.658 --> 00:21:28.180\nThe URLs are in the show notes,\nby the way, Service Name and\n\n509\n00:21:28.180 --> 00:21:30.140\nTransport Protocol Port Number Registry.\n\n510\n00:21:30.140 --> 00:21:31.580\nMay or may not be aware of this.\n\n511\n00:21:31.580 --> 00:21:34.430\nI know you know it, but not everybody\nout there may be aware of it.\n\n512\n00:21:34.430 --> 00:21:37.360\nThis would be one of those quote,\nunquote authoritative resources.\n\n513\n00:21:37.360 --> 00:21:41.690\nIt is maintained by IANA which is the\ninternational group that is in charge of\n\n514\n00:21:41.690 --> 00:21:43.320\nname and address registration.\n\n515\n00:21:43.320 --> 00:21:45.220\nSo at least now anyway they are.\n\n516\n00:21:45.220 --> 00:21:49.140\nAnd so\nthey maintain the port registry, and\n\n517\n00:21:49.140 --> 00:21:55.230\nas a result are in charge of definitively\nsaying hey, port 443 is HTTPS.\n\n518\n00:21:55.230 --> 00:21:57.784\nAnd Mike's right to say that's\nthe one I like cuz that's what it is.\n\n519\n00:21:57.784 --> 00:22:01.412\nThere has to be a group somewhere that\ndecides what that is, right, at least for\n\n520\n00:22:01.412 --> 00:22:05.003\nthe well-known ones that are not going\nto be dynamically assigned on the fly.\n\n521\n00:22:05.003 --> 00:22:07.748\nBecause we have a group that are\ndynamically assigned that you can choose\n\n522\n00:22:07.748 --> 00:22:08.472\nto use on your own.\n\n523\n00:22:08.472 --> 00:22:12.584\nBut for essentially what I call the well\nknown, I often describe them as static\n\n524\n00:22:12.584 --> 00:22:16.199\nports, meaning ports that are hard\ncoated that every application,\n\n525\n00:22:16.199 --> 00:22:19.003\nevery operating system on\nthe planet uses this way and\n\n526\n00:22:19.003 --> 00:22:21.750\nthere's really no room\nto negotiate around.\n\n527\n00:22:21.750 --> 00:22:24.687\nYou put traffic on Port 80,\nit's HTTP, right.\n\n528\n00:22:24.687 --> 00:22:26.360\nI mean, that's what we expect to find.\n\n529\n00:22:26.360 --> 00:22:28.690\nThat's what applications\nare hard coded to assume.\n\n530\n00:22:28.690 --> 00:22:30.780\nIt's what firewalls assume is there.\n\n531\n00:22:30.780 --> 00:22:33.061\nThat's how things work for\nthe first 1,023.\n\n532\n00:22:33.061 --> 00:22:37.636\nThe group that gets to say what that port\nis and what that protocol is, is IANA.\n\n533\n00:22:37.636 --> 00:22:40.023\nThey're the ones that maintain this, so\n\n534\n00:22:40.023 --> 00:22:43.440\nthis list is gonna help you to\nunderstand and to reference.\n\n535\n00:22:43.440 --> 00:22:46.370\nAnd now this list is updated\nwhenever there is a need to update.\n\n536\n00:22:46.370 --> 00:22:49.520\nThe last update, as you could see right\nhere, was September 28th of 2017, so\n\n537\n00:22:49.520 --> 00:22:54.480\nit's updated fairly frequently, depending\non when you're watching this, of course.\n\n538\n00:22:54.480 --> 00:22:57.144\nCuz I could be saying this and\nyou may be watching this in 2030 and\n\n539\n00:22:57.144 --> 00:22:58.798\nthat may not have been updated in a while.\n\n540\n00:22:58.798 --> 00:22:59.740\n&gt;&gt; It's been 20 years.\n\n541\n00:22:59.740 --> 00:23:01.980\n&gt;&gt; It's been 25 years and\nnobody's made a change.\n\n542\n00:23:01.980 --> 00:23:03.150\nWhat is he talking about, right?\n\n543\n00:23:03.150 --> 00:23:05.550\nBut it is updated whenever\nthere is a need to do that.\n\n544\n00:23:05.550 --> 00:23:06.860\nSo just be aware of that.\n\n545\n00:23:06.860 --> 00:23:11.696\nRegistered in private ports from 1,024,\nso starting,\n\n546\n00:23:11.696 --> 00:23:16.160\nright, the next port up from\nthe end of the static range,\n\n547\n00:23:16.160 --> 00:23:20.730\nor the well-known range, 1,024 to 49,151.\n\n548\n00:23:20.730 --> 00:23:23.565\nThose are going to be the registered and\nprivate ports.\n\n549\n00:23:23.565 --> 00:23:27.475\nMeaning a company can apply for\na port in that designated category,\n\n550\n00:23:27.475 --> 00:23:30.412\ntake it essentially, and\nhard code it and use it.\n\n551\n00:23:30.412 --> 00:23:38.272\nAnd then from 49,152 up through 60,535, we\ncall these private ports or dynamic ports.\n\n552\n00:23:38.272 --> 00:23:40.382\nThey can be assigned on the fly.\n\n553\n00:23:40.382 --> 00:23:44.126\nYou can map an application or service\nto it if you create your own software,\n\n554\n00:23:44.126 --> 00:23:45.136\nwhatever you wanna do.\n\n555\n00:23:45.136 --> 00:23:47.989\nYou can do that and so\nwe do have these three categories.\n\n556\n00:23:47.989 --> 00:23:53.205\nIt would be good for you to be aware of\nhow we chunk the port designations up and\n\n557\n00:23:53.205 --> 00:23:55.252\nthe break point 01023.\n\n558\n00:23:55.252 --> 00:23:59.575\nBeing well known, 1024 to 49151, right?\n\n559\n00:23:59.575 --> 00:24:04.095\nBeing the ports that I mentioned that\ncan be essentially referred to as\n\n560\n00:24:04.095 --> 00:24:08.094\nregister to private and\nthen 49152 up to 365535.\n\n561\n00:24:08.094 --> 00:24:11.466\nBeing what we would call\nthe dynamic ports, right?\n\n562\n00:24:11.466 --> 00:24:13.118\nThat you could go in and\nessentially make use of.\n\n563\n00:24:13.118 --> 00:24:18.260\nSo that doesn't mean you can't\nuse port 1,024 to 451 range.\n\n564\n00:24:18.260 --> 00:24:22.283\nIt just means that if you extend traffic\nin and out of your LAN and across the LAN,\n\n565\n00:24:22.283 --> 00:24:25.585\nthat there may be a company that's\nmapped that or is using that and\n\n566\n00:24:25.585 --> 00:24:27.211\nyou may run into a problem.\n\n567\n00:24:27.211 --> 00:24:30.326\nBut if you're behind a firewall on your\nLAN, you're communicating privately and\n\n568\n00:24:30.326 --> 00:24:31.357\nnobody sees that traffic.\n\n569\n00:24:31.357 --> 00:24:34.431\nPeople map a random quote\nunquote port numbers for\n\n570\n00:24:34.431 --> 00:24:38.468\nfunctionality of secure website\nservices all the time, right?\n\n571\n00:24:38.468 --> 00:24:40.200\n&gt;&gt; Mm-hm.\n&gt;&gt; That's not a big deal.\n\n572\n00:24:40.200 --> 00:24:41.601\nWho hasn't set a proxy up\nto go port 80 80, right?\n\n573\n00:24:41.601 --> 00:24:42.361\n&gt;&gt; Right.\n\n574\n00:24:42.361 --> 00:24:44.033\n[LAUGH]\n&gt;&gt; I mean, so that happens all the time.\n\n575\n00:24:44.033 --> 00:24:47.381\nIt's not like the proxy company\nwent out and bought that port and\n\n576\n00:24:47.381 --> 00:24:50.820\nregistered with Ionic,\nit's just that it's in that range.\n\n577\n00:24:50.820 --> 00:24:52.410\nBut you can do a variety\nof things with it.\n\n578\n00:24:52.410 --> 00:24:53.860\nSo just understand the logic of that.\n\n579\n00:24:53.860 --> 00:24:56.860\nBut you get into problems when you start\nto pass traffic out beyond the gateway,\n\n580\n00:24:56.860 --> 00:24:59.830\nand you have to worry about who may be\nusing that, and what that looks like.\n\n581\n00:24:59.830 --> 00:25:01.660\nSo just wanted to make sure\nyou're familiar with that.\n\n582\n00:25:03.070 --> 00:25:04.770\nHello, thank you for giving me that.\n\n583\n00:25:04.770 --> 00:25:06.940\nMike's giving me the V for victory sign.\n\n584\n00:25:06.940 --> 00:25:08.890\nHe's trying to be\nWinston Churchill over here.\n\n585\n00:25:08.890 --> 00:25:12.340\nAll right, so just be aware of\nsome of the foundational elements,\n\n586\n00:25:12.340 --> 00:25:15.485\nthe thought process, we begin to start\nto talk about firewalls, what they are.\n\n587\n00:25:15.485 --> 00:25:19.461\nThis episode's been more of a, hey let's\njust step back and really think about some\n\n588\n00:25:19.461 --> 00:25:22.597\nof the background stuff or\nlet's replace some of that knowledge,\n\n589\n00:25:22.597 --> 00:25:24.783\nreally get you focused on\nhow to be in the zone.\n\n590\n00:25:24.783 --> 00:25:25.915\nSee, zone, like zonal.\n\n591\n00:25:25.915 --> 00:25:26.670\n&gt;&gt; I like that, yes.\n\n592\n00:25:26.670 --> 00:25:29.259\n&gt;&gt; Old-school firewall\nhumor here at ITProTV.\n\n593\n00:25:29.259 --> 00:25:30.524\n&gt;&gt; [LAUGH]\n&gt;&gt; Funny part is a lot of people\n\n594\n00:25:30.524 --> 00:25:33.584\nlistening to us, some may certainly\nremember and know Zone Alarm, but\n\n595\n00:25:33.584 --> 00:25:36.170\na lot of people have no idea\nwhat we're talking about.\n\n596\n00:25:36.170 --> 00:25:37.200\nSo they may or may not realize that.\n\n597\n00:25:37.200 --> 00:25:40.280\nBlack ice, when I said that,\npeople were probably like, what?\n\n598\n00:25:40.280 --> 00:25:40.882\nWhat the heck is black ice?\n\n599\n00:25:40.882 --> 00:25:42.242\n&gt;&gt; [CROSSTALK]\n&gt;&gt; To the winter, though,\n\n600\n00:25:42.242 --> 00:25:42.997\nbe like, I know what that is.\n\n601\n00:25:42.997 --> 00:25:44.134\n&gt;&gt; That's that stuff\nthat's on the bridges.\n\n602\n00:25:44.134 --> 00:25:45.239\n&gt;&gt; That's that stuff that's on the bridge\n\n603\n00:25:45.239 --> 00:25:46.740\nwhen you drive that causes\nall the accidents, right?\n\n604\n00:25:46.740 --> 00:25:49.240\nIt also used to be a firewall years ago.\n\n605\n00:25:49.240 --> 00:25:52.460\nAll right, but it was really just\nan overview of some of the background\n\n606\n00:25:52.460 --> 00:25:56.000\nknowledge and information necessary\nto understand how firewalls work.\n\n607\n00:25:56.000 --> 00:25:58.610\nIn our next episode,\nI'll bring up the interface.\n\n608\n00:25:58.610 --> 00:26:01.611\nActually we'll go through, we'll take\na look at how to configure the firewall in\n\n609\n00:26:01.611 --> 00:26:03.232\nWindows, the Windows Advanced Firewall.\n\n610\n00:26:03.232 --> 00:26:07.340\nWe could actually try to do that\nfrom a GUI, do it from command line.\n\n611\n00:26:07.340 --> 00:26:08.775\nWe have a bunch of network\nsecurity cmdlets that could be\n\n612\n00:26:08.775 --> 00:26:09.360\nused to configure it.\n\n613\n00:26:09.360 --> 00:26:11.330\nWe can do it with group policy.\n\n614\n00:26:11.330 --> 00:26:14.121\nGot a few different ways.\nBut there are some subtle differences.\n\n615\n00:26:14.121 --> 00:26:17.505\nThe group policy configuration\ndoesn't show you the monitoring area,\n\n616\n00:26:17.505 --> 00:26:19.113\nwhereas when you go into the GUI for\n\n617\n00:26:19.113 --> 00:26:22.850\nthe firewall, through the control panel,\nyou do get the monitoring options.\n\n618\n00:26:22.850 --> 00:26:24.820\nSo there are some differences,\nwe'll take a look at those.\n\n619\n00:26:24.820 --> 00:26:27.830\nAnd we'll go through, just make sure we\nunderstand what's happening there, and\n\n620\n00:26:27.830 --> 00:26:30.846\ncontinue our conversations around how to\nset up and use the firewall effectively.\n\n621\n00:26:30.846 --> 00:26:33.814\n&gt;&gt; Fantastic, great stuff there Adam,\nreal good refresher,\n\n622\n00:26:33.814 --> 00:26:37.595\nkind of making sure we have all got that\nfoundational knowledge set in place as\n\n623\n00:26:37.595 --> 00:26:39.770\nwe move on and\nwork with Windows firewalls.\n\n624\n00:26:39.770 --> 00:26:43.290\nAnd a great refresher for\nme going back to the USI model.\n\n625\n00:26:43.290 --> 00:26:44.406\nMaking sure I remember my layers there.\n\n626\n00:26:44.406 --> 00:26:46.620\n&gt;&gt; Yeah,\nreach back to that old school knowledge.\n\n627\n00:26:46.620 --> 00:26:47.853\n&gt;&gt; Yeah, it's been a little while.\nAll right, Adam,\n\n628\n00:26:47.853 --> 00:26:51.662\nwell we appreciate that and we're looking\nforward to the upcoming episodes where\n\n629\n00:26:51.662 --> 00:26:55.770\nwe get in and actually see that firewall\nin action, but we are out of time for now.\n\n630\n00:26:55.770 --> 00:26:58.574\nSo signing off for ITProTV,\nI've been your host Mike Rodrick.\n\n631\n00:26:58.574 --> 00:27:00.590\n&gt;&gt; I am Adam Gordon.\n\n632\n00:27:00.590 --> 00:27:01.090\n&gt;&gt; And we'll see you next time.\n\n633\n00:27:06.335 --> 00:27:09.712\n[MUSIC]\n\n634\n00:27:09.712 --> 00:27:12.030\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "236803374"
        },
        {
          "description": "",
          "length": "1887",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-2-configure-windows-firewall_pt2-100317-PGM.00_31_10_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-2-configure-windows-firewall_pt2-100317-PGM.00_31_10_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-2-configure-windows-firewall_pt2-100317-PGM.00_31_10_22.Still001-sm.jpg",
          "title": "Configure Windows Firewall Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.200\nWelcome to ITPro.TV.\n\n2\n00:00:01.200 --> 00:00:08.302\nI'm your host, Don-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.302 --> 00:00:12.260\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:12.260 --> 00:00:15.820\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITPro.TV.\n\n5\n00:00:15.820 --> 00:00:17.345\nI'm your host Mike Rodrick,\n\n6\n00:00:17.345 --> 00:00:20.580\nand today we're doing our\nsecuring Windows Server 2016.\n\n7\n00:00:20.580 --> 00:00:22.161\nSpecifically in this episode,\n\n8\n00:00:22.161 --> 00:00:25.214\nwe'll be taking a look at\nconfiguring our Windows Firewall.\n\n9\n00:00:25.214 --> 00:00:28.725\nNow this is a part two, so if you missed\npart one, make sure you go back and\n\n10\n00:00:28.725 --> 00:00:29.946\ncheck that episode out.\n\n11\n00:00:29.946 --> 00:00:33.686\nBut here to continue our conversation\non firewalls is none other than Mr.\n\n12\n00:00:33.686 --> 00:00:34.419\nAdam Gordon.\n\n13\n00:00:34.419 --> 00:00:35.450\nWelcome back, Adam.\n\n14\n00:00:35.450 --> 00:00:37.790\n&gt;&gt; Hello everybody,\nglad to be here, thank you.\n\n15\n00:00:37.790 --> 00:00:40.475\nIt's always good to get a return\ninvitation, as they say.\n\n16\n00:00:40.475 --> 00:00:41.040\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n17\n00:00:41.040 --> 00:00:43.993\nwe are gonna pick up where we left off,\nas Mike was suggesting,\n\n18\n00:00:43.993 --> 00:00:46.320\nwe had been talking about\nin a prior episode.\n\n19\n00:00:46.320 --> 00:00:50.512\nDidn't really do much in the way of show\nand tell, but we kinda set the foundation.\n\n20\n00:00:50.512 --> 00:00:54.211\nThink you gotta way from us, we planned\non doing a little show and tell, but\n\n21\n00:00:54.211 --> 00:00:58.144\nwe got into just the theory in kind of the\nbackground logic of what a firewall is,\n\n22\n00:00:58.144 --> 00:01:01.637\ndifferent kinds of firewalls,\nwhere they work, where we find them.\n\n23\n00:01:01.637 --> 00:01:03.316\nI'll wind up talking about the OSI model.\n\n24\n00:01:03.316 --> 00:01:05.056\nGood times, good times right?\n\n25\n00:01:05.056 --> 00:01:06.945\nTalked about the OSI model.\n\n26\n00:01:06.945 --> 00:01:08.345\nGive you a little bit\nof the background and\n\n27\n00:01:08.345 --> 00:01:13.185\nkind of the theory behind what a firewall\nis, how it works, why we need one.\n\n28\n00:01:13.185 --> 00:01:18.015\nWhat the difference between a static\npacket filter, what I refer to as gen 1 or\n\n29\n00:01:18.015 --> 00:01:22.172\nfirst generation technology\nfirewalls is or was.\n\n30\n00:01:22.172 --> 00:01:27.022\nAnd more modern approach to things,\ndynamic packet filtering, or\n\n31\n00:01:27.022 --> 00:01:30.552\ngen two, new generation firewall,\n\n32\n00:01:30.552 --> 00:01:34.636\nwhere we look at state or state full\nin our analysis and thought process.\n\n33\n00:01:34.636 --> 00:01:38.946\nSo, we went through, really laid down\na lot of that background information,\n\n34\n00:01:38.946 --> 00:01:43.636\nthat as we pointed out, is always valuable\nfor you across so many different areas,\n\n35\n00:01:43.636 --> 00:01:45.126\nso many different reasons.\n\n36\n00:01:45.126 --> 00:01:46.038\nWhen somebody comes to you and\n\n37\n00:01:46.038 --> 00:01:49.848\nsays hey, do you understand\nwhy something works this way?\n\n38\n00:01:49.848 --> 00:01:52.228\nA lot of us will tend to say,\nyeah, I know.\n\n39\n00:01:52.228 --> 00:01:55.478\nBut you don't really know and you're\nembarrassed to say you don't know, or\n\n40\n00:01:55.478 --> 00:02:00.180\nyou don't wanna hear somebody drone on for\n20 minutes about what they know, right?\n\n41\n00:02:00.180 --> 00:02:01.640\nAnd so, you just kinda blow it off.\n\n42\n00:02:01.640 --> 00:02:04.520\nBut you're always left wondering,\nhey do I really understand that?\n\n43\n00:02:04.520 --> 00:02:06.930\nDo I have that fundamental knowledge?\n\n44\n00:02:06.930 --> 00:02:08.644\nWell, if you go back and\nlook at that episode.\n\n45\n00:02:08.644 --> 00:02:12.066\nYou're gonna at least have that\nbackground knowledge with regards to\n\n46\n00:02:12.066 --> 00:02:15.372\na very important aspect or\narea of networking, security related,\n\n47\n00:02:15.372 --> 00:02:17.880\nhow the OSI model interacts\nwith network traffic.\n\n48\n00:02:17.880 --> 00:02:22.370\nAnd allows us to secure traffic up and\ndown the stack, based on the level of\n\n49\n00:02:22.370 --> 00:02:27.450\ninformation we see, based on the level or\nlayer of the OSI model we may operate at.\n\n50\n00:02:27.450 --> 00:02:31.800\nWe talked about the five tuple,\nthe way in which traditional and\n\n51\n00:02:31.800 --> 00:02:36.830\nmost modern firewalls will approach\ntraffic management from an interdiction or\n\n52\n00:02:36.830 --> 00:02:38.620\nan inspection perspective.\n\n53\n00:02:38.620 --> 00:02:41.109\nAnd we identified,\nMike helped me, to land and\n\n54\n00:02:41.109 --> 00:02:44.734\nidentify what the components of\nthe five tuples or the five tuple is.\n\n55\n00:02:44.734 --> 00:02:48.592\nIf you don't remember that,\nthen just again, go back, take a look.\n\n56\n00:02:48.592 --> 00:02:51.950\nThe nice thing about ITProTV,\nyou can always pause us.\n\n57\n00:02:51.950 --> 00:02:54.110\nMike looks real funny when\nyou do that on the screen.\n\n58\n00:02:54.110 --> 00:02:55.431\nHe's usually kind of like this.\n\n59\n00:02:55.431 --> 00:02:56.277\nWhen you pause him.\n\n60\n00:02:56.277 --> 00:02:58.195\nBut you can pause us.\n\n61\n00:02:58.195 --> 00:03:01.660\nYou can go back, take a look at another\nepisode or just turn us off entirely.\n\n62\n00:03:01.660 --> 00:03:03.850\nGo watch something else\nto refresh your memory.\n\n63\n00:03:03.850 --> 00:03:07.570\nThen come on back to where we are here and\npick up this conversation with us.\n\n64\n00:03:07.570 --> 00:03:10.690\nSo just keep that in mind, that background\nknowledge of that stuff, right.\n\n65\n00:03:10.690 --> 00:03:15.330\nThe IP address coming and going, the\nsender and receivers we talk about, right?\n\n66\n00:03:15.330 --> 00:03:19.670\nThe port numbers and the protocols\nassociated with what we do, are so\n\n67\n00:03:19.670 --> 00:03:21.080\nimportant to understand the functionality,\n\n68\n00:03:21.080 --> 00:03:22.840\nright, with regards to firewalls,\nall right.\n\n69\n00:03:22.840 --> 00:03:24.255\nSo we've kind of done all that.\n\n70\n00:03:24.255 --> 00:03:26.945\nHow do we get in there, how do we deal\nwith the Windows firewall with advanced\n\n71\n00:03:26.945 --> 00:03:28.935\nsecurity, where do we find it?\n\n72\n00:03:28.935 --> 00:03:31.985\nI hinted at the fact at end of the last\nepisode that there's a couple different\n\n73\n00:03:31.985 --> 00:03:34.245\nways to manage this,\ncould do this from PowerShell or\n\n74\n00:03:34.245 --> 00:03:36.475\nthe command line using Netsh.\n\n75\n00:03:36.475 --> 00:03:38.753\nSo we'll take a look at\nsome different options.\n\n76\n00:03:38.753 --> 00:03:42.880\nThere's a GUI, or\nGraphical User Interface solution for\n\n77\n00:03:42.880 --> 00:03:46.930\nus through the Control Panel where we\ncan go in and manage the firewall.\n\n78\n00:03:46.930 --> 00:03:49.110\nWe have a group policy or\n\n79\n00:03:49.110 --> 00:03:52.620\nGPO option, where we can manage\nalmost all the settings.\n\n80\n00:03:52.620 --> 00:03:55.460\nBut I pointed out there's one\nsignificant gap there, we don't have our\n\n81\n00:03:55.460 --> 00:04:00.280\nmonitoring capability or access to the\nmonitoring interface from group policy.\n\n82\n00:04:00.280 --> 00:04:01.810\nBut all the other areas,\ninbound, outbound,\n\n83\n00:04:01.810 --> 00:04:04.820\nrules especially,\ncould be configured from there.\n\n84\n00:04:04.820 --> 00:04:08.940\nWe'll see it in some other conversations\nif you haven't already taken a look\n\n85\n00:04:08.940 --> 00:04:13.010\nat them, invite you to just think about\nthe logic of seeing the episodes.\n\n86\n00:04:13.010 --> 00:04:14.301\nWhere we deal with nano and\n\n87\n00:04:14.301 --> 00:04:18.005\nthe configuration of the nano server\nas part of the application security.\n\n88\n00:04:18.005 --> 00:04:21.771\nAnd locking down different versions\nof the OS, where we go in and\n\n89\n00:04:21.771 --> 00:04:25.800\nconfigure nano from essentially\na shell-like environment.\n\n90\n00:04:25.800 --> 00:04:29.100\nAnd we manipulate using\nthe nano recovery console,\n\n91\n00:04:29.100 --> 00:04:30.250\nsome of the rules on the firewall.\n\n92\n00:04:30.250 --> 00:04:35.190\nWe actually go in and you'll configure and\nset up remote access for PowerShell, and\n\n93\n00:04:35.190 --> 00:04:37.000\nwe modify some of the firewall rules.\n\n94\n00:04:37.000 --> 00:04:39.921\nSo depending on the version of the OS,\nit may not just be a point and\n\n95\n00:04:39.921 --> 00:04:42.223\nclick environment is what\nI'm suggesting to you.\n\n96\n00:04:42.223 --> 00:04:45.805\nAnd it's important for you to be aware\nof the different ways we can go in,\n\n97\n00:04:45.805 --> 00:04:48.417\nespecially in a security thought process,\nright?\n\n98\n00:04:48.417 --> 00:04:52.591\nWhere the whole set of episodes in all\nthe top areas we're dealing with for\n\n99\n00:04:52.591 --> 00:04:55.485\nthe 70744 exam are focused\non Windows based,\n\n100\n00:04:55.485 --> 00:05:00.440\nspecifically Windows 2016 Security,\nor Windows Server 2016 Security.\n\n101\n00:05:00.440 --> 00:05:02.255\nYou'll focused on this OS, and\n\n102\n00:05:02.255 --> 00:05:05.355\nby extension the desktop version\nthat matches it with Windows 10.\n\n103\n00:05:05.355 --> 00:05:08.185\nIt's important to know your options,\nand Nano Server is\n\n104\n00:05:08.185 --> 00:05:11.660\none of those things that will come up,\nit is becoming more and more common.\n\n105\n00:05:11.660 --> 00:05:13.820\nMicrosoft's really moving\nin that direction so\n\n106\n00:05:13.820 --> 00:05:18.260\nthe use of PowerShell,\nuse of things like Server Core and Nano.\n\n107\n00:05:18.260 --> 00:05:21.610\nAlthough they may off in\nthe corner business solutions for\n\n108\n00:05:21.610 --> 00:05:24.450\nmany of us and\nwe may not use them on a regular basis,\n\n109\n00:05:24.450 --> 00:05:27.190\nit's important to have knowledge of them\nas a basic IT function in these days.\n\n110\n00:05:27.190 --> 00:05:30.450\nSo it's so important for you to take\nadvantage of all the different areas of\n\n111\n00:05:30.450 --> 00:05:33.640\nknowledge that we offer\nyou here at ITProTV.\n\n112\n00:05:33.640 --> 00:05:36.310\nBehind curtain number one, we have,\nall right, so let's take a look.\n\n113\n00:05:36.310 --> 00:05:37.450\nEnough stupid talking.\n\n114\n00:05:37.450 --> 00:05:39.430\nJoin me up here on the screen if you will.\n\n115\n00:05:39.430 --> 00:05:41.132\nThis should hopefully\nlook familiar to you.\n\n116\n00:05:41.132 --> 00:05:42.522\nIf it doesn't, that's okay.\n\n117\n00:05:42.522 --> 00:05:45.580\nThat's one of the reasons you're gonna\nspend some time with Mike and I today.\n\n118\n00:05:45.580 --> 00:05:47.784\nBut, this is on our Windows 10 machine.\n\n119\n00:05:47.784 --> 00:05:51.874\nEven though we're talking about Server 16\nSecurity, we've broken out the Windows 10\n\n120\n00:05:51.874 --> 00:05:54.220\nenvironment a couple times\nto look at some things.\n\n121\n00:05:54.220 --> 00:05:58.030\nLike we did this with EFS, for instance,\nright, we did this with BitLocker.\n\n122\n00:05:58.030 --> 00:06:00.890\nBecause it was important to\nhave a sense of how we enable\n\n123\n00:06:00.890 --> 00:06:02.435\nthese things especially BitLocker.\n\n124\n00:06:02.435 --> 00:06:05.510\nCuz it's really easy to look at that and\nmanipulate that in this environment.\n\n125\n00:06:05.510 --> 00:06:08.530\nAnd the nice thing is it looks\npretty much the same as Server 16.\n\n126\n00:06:08.530 --> 00:06:12.222\nIf I took away that plaid Windows 10 sign\nup there, didn't tell you where we were,\n\n127\n00:06:12.222 --> 00:06:14.094\nyou'd have a hard time figuring that out,\n\n128\n00:06:14.094 --> 00:06:17.424\nespecially if I hid the Cortana little\nsearch area down there on the bottom.\n\n129\n00:06:17.424 --> 00:06:21.352\nActually, first thing I did when I got\nthe laptop, this is our random aside,\n\n130\n00:06:21.352 --> 00:06:25.290\nby the way, in case you're not familiar\nwith Mike and I, and how we present.\n\n131\n00:06:25.290 --> 00:06:26.461\n&gt;&gt; At least one per episode.\n\n132\n00:06:26.461 --> 00:06:27.150\n&gt;&gt; Yeah, absolutely.\n\n133\n00:06:27.150 --> 00:06:31.190\nSo first thing I did, I went in and\nI hid the Cortana search bar.\n\n134\n00:06:31.190 --> 00:06:34.030\nBecause, look it's valuable\nif you like to use it,\n\n135\n00:06:34.030 --> 00:06:35.820\ndon't get me wrong,\nI have nothing against it.\n\n136\n00:06:35.820 --> 00:06:39.304\nBut just the trouble it can cause,\nas you I'm sure are all aware.\n\n137\n00:06:39.304 --> 00:06:40.295\n&gt;&gt; [CROSSTALK] Pop-ups, hey,\nI can help you, would you like to, yeah.\n\n138\n00:06:40.295 --> 00:06:42.685\n&gt;&gt; My god, yes.\n\n139\n00:06:42.685 --> 00:06:46.293\nI've read recently, looking at some\nartificial intelligence stuff I was\n\n140\n00:06:46.293 --> 00:06:48.490\ndoing for something I'm getting ready for.\n\n141\n00:06:48.490 --> 00:06:52.597\nJust the issues that are now, from\na security standpoint, becoming more and\n\n142\n00:06:52.597 --> 00:06:55.568\nprevalent with voice activation and\nall the background\n\n143\n00:06:55.568 --> 00:06:59.256\nmonitoring that these assistants\ndo especially on mobile devices.\n\n144\n00:06:59.256 --> 00:07:02.497\nWhere they are monitoring, essentially\nnon-stop, Google in particular.\n\n145\n00:07:02.497 --> 00:07:05.816\nBecause Google and Amazon both\nare gathering all of these data points so\n\n146\n00:07:05.816 --> 00:07:08.770\nthey can figure out how to\ncustomize their environments.\n\n147\n00:07:08.770 --> 00:07:12.210\nSo things like Alexa and\nthe Amazon Echo, and\n\n148\n00:07:12.210 --> 00:07:13.920\nall that, they're on all the time, right?\n\n149\n00:07:13.920 --> 00:07:15.130\n&gt;&gt; They're constantly listening.\n\n150\n00:07:15.130 --> 00:07:19.521\n&gt;&gt; And so all of that data is just\nstreaming and being stored, and\n\n151\n00:07:19.521 --> 00:07:21.552\nyou don't even realize it.\n\n152\n00:07:21.552 --> 00:07:24.860\nIt is just scary the amount of\nstuff they figure out about you.\n\n153\n00:07:24.860 --> 00:07:29.890\nAnd they use ultra high\nfrequency sound waves to\n\n154\n00:07:29.890 --> 00:07:32.790\nbe able to figure out through\nthe apps what you're doing.\n\n155\n00:07:32.790 --> 00:07:36.464\nThere's different tones that we can't hear\nbut are generated based on things you do.\n\n156\n00:07:36.464 --> 00:07:39.005\nAnd then they're picked up\nby these monitoring devices.\n\n157\n00:07:39.005 --> 00:07:41.240\n&gt;&gt; Wow.\n&gt;&gt; And they're able to tailor and\n\n158\n00:07:41.240 --> 00:07:45.440\ncustomize activities and pop up stuff\nexactly at the time you're doing stuff.\n\n159\n00:07:45.440 --> 00:07:48.090\nBecause they get tones that generate\nessentially and tell them, or\n\n160\n00:07:48.090 --> 00:07:50.460\nlead them to tell you what you're doing.\n\n161\n00:07:50.460 --> 00:07:51.870\n&gt;&gt; In your food ads,\nor something like that.\n\n162\n00:07:51.870 --> 00:07:54.424\n&gt;&gt; So first thing I did was just,\nif I could rip it out of the OS,\n\n163\n00:07:54.424 --> 00:07:57.612\nI would just like stick a stake right\nin the middle of it, and get rid of it.\n\n164\n00:07:57.612 --> 00:07:59.657\n&gt;&gt; Well, we've talked about\nthis in several episodes, and\n\n165\n00:07:59.657 --> 00:08:00.667\nthis is a security episode.\n\n166\n00:08:00.667 --> 00:08:01.274\n&gt;&gt; Absolutely.\n\n167\n00:08:01.274 --> 00:08:05.991\n&gt;&gt; It's one of those Gotta get to market,\nand gotta have a competing product,\n\n168\n00:08:05.991 --> 00:08:06.737\nsecurity?\n\n169\n00:08:06.737 --> 00:08:08.160\nEh, yeah, we'll worry about that later.\n\n170\n00:08:08.160 --> 00:08:10.420\n&gt;&gt; Well we bake it in after the fact,\nright, it's not important.\n\n171\n00:08:10.420 --> 00:08:11.260\n&gt;&gt; Yeah, we'll deal with that later.\n\n172\n00:08:11.260 --> 00:08:13.555\n&gt;&gt; Just refreshing the lab\ntimer while we're talking here.\n\n173\n00:08:13.555 --> 00:08:14.280\n&gt;&gt; [LAUGH]\n&gt;&gt; Don't wanna\n\n174\n00:08:14.280 --> 00:08:15.770\nlose the environment once we've set it up.\n\n175\n00:08:15.770 --> 00:08:16.350\nAll right, so\n\n176\n00:08:16.350 --> 00:08:18.980\nenough randomness that has nothing to\ndo with what we're here to talk about.\n\n177\n00:08:18.980 --> 00:08:20.600\nSo we're in the firewall area.\n\n178\n00:08:20.600 --> 00:08:22.380\nI though I would just start\non Windows 10 quickly,\n\n179\n00:08:22.380 --> 00:08:25.240\nto show you what the gooey looks like,\na little navigation,\n\n180\n00:08:25.240 --> 00:08:28.080\nwe'll flip over to server 16 here\nin just a couple of minutes.\n\n181\n00:08:28.080 --> 00:08:32.490\nBut remember, we essentially have the\nability to go in from the control panel,\n\n182\n00:08:32.490 --> 00:08:35.000\nyou can see the bread crumb\ntrail here where I am.\n\n183\n00:08:35.000 --> 00:08:36.840\nThe control panel, system security,\n\n184\n00:08:36.840 --> 00:08:41.390\nif you like that view where we have the\ncategories versus the individual listings.\n\n185\n00:08:41.390 --> 00:08:43.400\nI prefer the individual listing ones.\n\n186\n00:08:43.400 --> 00:08:46.650\nBut just for me, that's just old school.\n\n187\n00:08:46.650 --> 00:08:48.410\nI just I cannot stand that category view.\n\n188\n00:08:48.410 --> 00:08:49.710\nBut we've gone off on that before.\n\n189\n00:08:49.710 --> 00:08:51.300\nAnd then Windows Firewall.\n\n190\n00:08:52.380 --> 00:08:56.980\nSo when you go in here you'll see we have\nour profile or protection profile areas or\n\n191\n00:08:56.980 --> 00:08:59.480\ndomain, private network area,\npublic network area.\n\n192\n00:08:59.480 --> 00:09:01.460\nRight now all of them are turned on.\n\n193\n00:09:01.460 --> 00:09:05.130\nYou could see we're connected,\nnot connected on some networks but\n\n194\n00:09:05.130 --> 00:09:08.880\nyou've see I've got protection available\nand running across all of them.\n\n195\n00:09:08.880 --> 00:09:11.140\nThe firewall state is on in other words,\nand\n\n196\n00:09:11.140 --> 00:09:16.090\nit does show me you know if I have\nincoming connections what I may be doing,\n\n197\n00:09:16.090 --> 00:09:19.570\nwhat domain I'm connected to\nin the case of the domain and\n\n198\n00:09:19.570 --> 00:09:24.570\nthen whatever notification I may have\nset up for notification states so yeah.\n\n199\n00:09:24.570 --> 00:09:27.360\n&gt;&gt; It's a really cool feature you know\nthat hasn't been around that long the fact\n\n200\n00:09:27.360 --> 00:09:30.370\nthat I can see you have\ntwo profiles applied.\n\n201\n00:09:30.370 --> 00:09:32.310\nSo you're connected to two\ndifferent networks and\n\n202\n00:09:32.310 --> 00:09:34.900\nin the past you could only\nhave one profile applied.\n\n203\n00:09:34.900 --> 00:09:36.630\nNow you can actually apply\ndifferent profiles so\n\n204\n00:09:36.630 --> 00:09:39.750\nthe one that's connected to the domain\nhas the domain profile connected.\n\n205\n00:09:39.750 --> 00:09:41.130\n&gt;&gt; And then the guest or\npublic one in this case.\n\n206\n00:09:41.130 --> 00:09:42.130\n&gt;&gt; The other one is guest I think, yeah.\n\n207\n00:09:42.130 --> 00:09:44.860\n&gt;&gt; Right cuz the private one is you\ncould see although I have protection on\n\n208\n00:09:44.860 --> 00:09:47.920\nthe private network profile\nmeaning the firewall's turned on.\n\n209\n00:09:47.920 --> 00:09:48.610\nTo manage this,\n\n210\n00:09:48.610 --> 00:09:51.760\nI'm not currently actively connected to-\n&gt;&gt; And when we would set up\n\n211\n00:09:51.760 --> 00:09:54.760\nremote access servers, we get one point\nfrom the inside and one on the outside,\n\n212\n00:09:54.760 --> 00:09:57.930\nthat was kind of a pain only\nbeing able to apply one profile.\n\n213\n00:09:57.930 --> 00:09:59.700\n&gt;&gt; Yeah,\nbecause you'd have to force the traffic,\n\n214\n00:09:59.700 --> 00:10:02.060\nessentially, whether you\nwanted it that way or not.\n\n215\n00:10:02.060 --> 00:10:04.900\nCuz you may have different ports open,\ndifferent rules\n\n216\n00:10:04.900 --> 00:10:08.720\nassociated with port traffic, things like\nthat, and you'd have to compromise, right?\n\n217\n00:10:08.720 --> 00:10:10.530\nWhich wouldn't be the best solution,\nso absolutely.\n\n218\n00:10:10.530 --> 00:10:12.550\nSo you can see those here, right?\n\n219\n00:10:12.550 --> 00:10:15.570\nAnd then just scroll back up here for\na second and\n\n220\n00:10:15.570 --> 00:10:17.480\nlet me just actually\nkind of clean this up.\n\n221\n00:10:17.480 --> 00:10:19.570\nGet a little bit of real\nestate back here real quick.\n\n222\n00:10:19.570 --> 00:10:21.500\nJust so it's easier for us to see.\n\n223\n00:10:21.500 --> 00:10:23.320\nAnd then over here, right?\n\n224\n00:10:23.320 --> 00:10:26.350\nWe can, following our prompts,\nallow an app or\n\n225\n00:10:26.350 --> 00:10:27.600\nfeature through the Windows firewall.\n\n226\n00:10:27.600 --> 00:10:30.240\nSo we can do some basic maintenance and\nmodification.\n\n227\n00:10:30.240 --> 00:10:32.690\nWe can change notification\nsettings if we choose to.\n\n228\n00:10:32.690 --> 00:10:35.770\nTurn the firewall protection\nprograms on and off.\n\n229\n00:10:35.770 --> 00:10:40.070\nRestore defaults and then we wanna get\ninto the secondary GUI environment,\n\n230\n00:10:40.070 --> 00:10:41.930\nI'm gonna show you this\non the server side.\n\n231\n00:10:41.930 --> 00:10:42.980\nI'll have it up in a minute.\n\n232\n00:10:42.980 --> 00:10:45.570\nThis is just kind of the easy click,\n\n233\n00:10:45.570 --> 00:10:48.450\nI call it the click connector\nquick config wizard area.\n\n234\n00:10:48.450 --> 00:10:50.770\nYou don't have the detailed settings.\n\n235\n00:10:50.770 --> 00:10:54.350\nThis is really just hey let me go, more or\nless see that status and maybe do one or\n\n236\n00:10:54.350 --> 00:10:58.320\ntwo things from the navigation area\nhere with quick links in the left.\n\n237\n00:10:58.320 --> 00:10:59.020\nBut if you want to go in and\n\n238\n00:10:59.020 --> 00:11:02.180\nstart actually creating inbound\noutbound filtering rules.\n\n239\n00:11:02.180 --> 00:11:04.220\nDetail out what a rule looks like.\n\n240\n00:11:04.220 --> 00:11:07.710\nYou gotta go to advanced settings and\nreally get into that secondary interface.\n\n241\n00:11:07.710 --> 00:11:13.925\nAnd so what that looks like is not\nthis person jogging on the beach.\n\n242\n00:11:13.925 --> 00:11:16.845\nBut rather what that\nlooks like is over here.\n\n243\n00:11:16.845 --> 00:11:18.445\nLet me just bring this up.\n\n244\n00:11:18.445 --> 00:11:24.085\nAnd, so when we go in here, and\nwe either go up to the server manager.\n\n245\n00:11:24.085 --> 00:11:25.825\nI'm on server 16 right now.\n\n246\n00:11:25.825 --> 00:11:26.915\nI can go to server manager.\n\n247\n00:11:26.915 --> 00:11:30.595\nGo to tools all the way at the bottom\nbelow, or around Windows PowerShells,\n\n248\n00:11:30.595 --> 00:11:34.175\nsee Windows firewall and\nI can click there opening this interface.\n\n249\n00:11:34.175 --> 00:11:37.050\nI can click on advanced security\nsettings or advanced settings.\n\n250\n00:11:37.050 --> 00:11:40.310\nIn the gooey and the control panel\nwhere I was just showing you and\n\n251\n00:11:40.310 --> 00:11:42.110\nwe would get to the same place here.\n\n252\n00:11:42.110 --> 00:11:44.050\nCouple different ways\nto get this to come up.\n\n253\n00:11:44.050 --> 00:11:48.180\nI can create an MMC and\njust load it as a specific, you know,\n\n254\n00:11:48.180 --> 00:11:50.650\na specific plug-in, or a specific item.\n\n255\n00:11:50.650 --> 00:11:54.140\nWe saw me do that with certificates for\ninstance as we're going through EFS and\n\n256\n00:11:54.140 --> 00:11:56.080\nbit locker and things of that nature.\n\n257\n00:11:56.080 --> 00:11:58.110\nSo there's a few different ways for\nme to get in here.\n\n258\n00:11:58.110 --> 00:11:59.640\nBut this is where the magic happens.\n\n259\n00:11:59.640 --> 00:12:03.140\nThis is where we spend a lot of\nour time doing configuration\n\n260\n00:12:03.140 --> 00:12:06.270\nwith regards to the Windows firewall if\nwe're going to do it from a point and\n\n261\n00:12:06.270 --> 00:12:07.380\nclick environment right?\n\n262\n00:12:07.380 --> 00:12:11.360\nWe do have the option to get\nin here with PowerShell.\n\n263\n00:12:11.360 --> 00:12:13.350\nWe'll take a look at this in a little bit.\n\n264\n00:12:13.350 --> 00:12:16.960\nBut using some of the PowerShell\ncommandlets, we can go in.\n\n265\n00:12:16.960 --> 00:12:22.180\nThings like get net firewall, as you could\nsee, a whole stream of commands there.\n\n266\n00:12:22.180 --> 00:12:26.210\nNew net firewall, set net firewall,\ndisable net firewall.\n\n267\n00:12:26.210 --> 00:12:28.540\nWe can imagine, right,\nremove things like that.\n\n268\n00:12:28.540 --> 00:12:31.330\nYou can imagine the kind\nof things that go on.\n\n269\n00:12:31.330 --> 00:12:33.640\nWe got about 40 or\n50 commandlets that are available here.\n\n270\n00:12:33.640 --> 00:12:36.596\nSo obviously that's gonna be good for\nus to be aware of and to know.\n\n271\n00:12:36.596 --> 00:12:38.940\nYou can use to go in, and\n\n272\n00:12:38.940 --> 00:12:42.670\ndo some configuration around\nspecific networking related options.\n\n273\n00:12:42.670 --> 00:12:45.390\nSo there's,\na lot of different capabilities here\n\n274\n00:12:45.390 --> 00:12:49.220\nwith regards to the PowerShell Cmdlets,\nright.\n\n275\n00:12:49.220 --> 00:12:53.120\nNetwork security Cmdlets in windows\nPowerShell I'll have the OR show notes for\n\n276\n00:12:53.120 --> 00:12:54.710\nyou so it's encouraging to take a look.\n\n277\n00:12:54.710 --> 00:12:55.890\nBut you could see,\n\n278\n00:12:55.890 --> 00:12:59.780\nas I just scrolled down,\nthere are quite a number of them, right?\n\n279\n00:12:59.780 --> 00:13:04.510\nAnd we saw a few of them\nlisted in PowerShell just now.\n\n280\n00:13:04.510 --> 00:13:08.800\nI did do the PowerShell get help update\nthat I keep recommending you do,\n\n281\n00:13:08.800 --> 00:13:12.000\nin order to bring in the latest\nPowerShell information before I\n\n282\n00:13:12.000 --> 00:13:13.650\nuse their setup for the demo.\n\n283\n00:13:13.650 --> 00:13:16.390\nSo that's gonna help us to make\nsure we're always up to date,\n\n284\n00:13:16.390 --> 00:13:17.810\nkeep reminding you of that.\n\n285\n00:13:17.810 --> 00:13:20.830\nLiterally just the get-help commandlet,\nget-help, hit enter.\n\n286\n00:13:20.830 --> 00:13:23.700\nYou don't even have to type\nanother commandlet afterwards.\n\n287\n00:13:23.700 --> 00:13:26.600\nIf that's the first time you're using\nPowerShell it will ask you, hey,\n\n288\n00:13:26.600 --> 00:13:27.360\ndo you wanna update?\n\n289\n00:13:27.360 --> 00:13:28.840\nHit y for yes.\n\n290\n00:13:28.840 --> 00:13:30.850\nMake sure you're connected to the web,\nof course.\n\n291\n00:13:30.850 --> 00:13:34.030\nAnd then otherwise it's a really short\ntrip and it doesn't go anywhere.\n\n292\n00:13:34.030 --> 00:13:38.670\nAnd then you will, within about five,\nten minutes, get all the updated files.\n\n293\n00:13:38.670 --> 00:13:40.770\nAnd then you'll be able to see\nthe most recent information.\n\n294\n00:13:40.770 --> 00:13:42.860\nSo encourage you to take a look at that.\n\n295\n00:13:42.860 --> 00:13:46.435\nBut once you get in here, right, we have\nthe ability to go in and we have our\n\n296\n00:13:46.435 --> 00:13:50.325\ninbound rules, we have our outbound rules,\nwe have our connection security rules.\n\n297\n00:13:50.325 --> 00:13:53.885\nThe monitoring area that I talked about\nthat we do not have access to through\n\n298\n00:13:53.885 --> 00:13:56.465\ngroup policy but\nwe have access to through the GUI.\n\n299\n00:13:56.465 --> 00:14:01.595\nHere you can see, so we can see the\nmonitoring area, security associations,\n\n300\n00:14:01.595 --> 00:14:03.645\nas well as all the other stuff.\n\n301\n00:14:03.645 --> 00:14:06.365\nSo, we begin our tour\nkinda up at the top here.\n\n302\n00:14:08.020 --> 00:14:11.000\nAnd let me just come over here real quick\nbefore we even start looking at inbound\n\n303\n00:14:11.000 --> 00:14:12.020\noutbound rules.\n\n304\n00:14:12.020 --> 00:14:16.330\nWe do see our three profiles, just like we\ntalked about in the other GUI environment.\n\n305\n00:14:16.330 --> 00:14:18.260\nWe can see them here, right?\n\n306\n00:14:18.260 --> 00:14:21.530\nAnd we can see the status of\nthem in the main central pane.\n\n307\n00:14:21.530 --> 00:14:25.070\nWe do have a get started or\ngetting started area down here,\n\n308\n00:14:25.070 --> 00:14:29.455\nwith a bunch of prompts and just shortcuts\nthat we can use to do various things,\n\n309\n00:14:29.455 --> 00:14:31.390\ncreate a connection security rule.\n\n310\n00:14:31.390 --> 00:14:34.175\nWe need to do that,\nit takes us right over here to do that.\n\n311\n00:14:34.175 --> 00:14:37.845\nCreate inbound outbound rules and\nfilter them, observe them, and\n\n312\n00:14:37.845 --> 00:14:40.195\ninteract with them they will\ntake us to this area up here.\n\n313\n00:14:40.195 --> 00:14:42.665\nView current firewall and\nIP sect policies.\n\n314\n00:14:42.665 --> 00:14:45.405\nSo we go to monitoring,\nthat's where we'll see firewall rules but\n\n315\n00:14:45.405 --> 00:14:47.050\nalso the IP sect component.\n\n316\n00:14:47.050 --> 00:14:49.880\nWe'll be talking about IPsec in\nsome upcoming conversations and\n\n317\n00:14:49.880 --> 00:14:52.690\nsome additional episodes,\ngood for you to be aware of that.\n\n318\n00:14:52.690 --> 00:14:57.260\nA very important set of solutions in\nterms of controlling and providing for\n\n319\n00:14:57.260 --> 00:15:02.010\nconfidentiality with regards to data cuz\nwe encrypt our traffic by using IPsec and\n\n320\n00:15:02.010 --> 00:15:04.270\nour connection rules,\nwhether they're land based or\n\n321\n00:15:04.270 --> 00:15:06.260\nwind based tunneling versus transport.\n\n322\n00:15:06.260 --> 00:15:08.100\nSo we'll talk about all that.\n\n323\n00:15:08.100 --> 00:15:09.440\nAnd an import policy,\n\n324\n00:15:09.440 --> 00:15:13.280\nexport policy, restore default\npolicy as base line actions.\n\n325\n00:15:13.280 --> 00:15:14.890\nDiagnose and repair.\n\n326\n00:15:14.890 --> 00:15:18.140\nWe can bring in policies\nfrom somebody else's area.\n\n327\n00:15:18.140 --> 00:15:22.990\nSo, if we have policies we can export\nthem as XML files and then bring them in.\n\n328\n00:15:22.990 --> 00:15:26.590\nIf I want to export a policy show you that\n\n329\n00:15:26.590 --> 00:15:30.500\nwe can take them out of our WFW files,\npolicy files.\n\n330\n00:15:30.500 --> 00:15:33.290\nI keep thinking we have\nall these different files.\n\n331\n00:15:33.290 --> 00:15:36.550\nAlmost everything is XML today but\nevery so often you get a curve ball.\n\n332\n00:15:36.550 --> 00:15:38.540\nSo let me show you what\nan export would like like.\n\n333\n00:15:38.540 --> 00:15:43.800\nI'll throw it on the desktop here so\nwe can find it and we'll call this IT.\n\n334\n00:15:43.800 --> 00:15:49.350\nPROFW1 for firewall one and\nthen just do a save there.\n\n335\n00:15:49.350 --> 00:15:51.458\nPolicy successfully exported.\n\n336\n00:15:51.458 --> 00:15:57.820\nWhen we do that, let's minimize here,\nwe do have our file right there.\n\n337\n00:15:57.820 --> 00:16:02.346\nNo big deal, it's pretty small,\nabout 144k approximately.\n\n338\n00:16:02.346 --> 00:16:06.190\nAnd we can go in and take a look, right?\n\n339\n00:16:06.190 --> 00:16:09.152\nYou can see that if we try to open this,\n\n340\n00:16:09.152 --> 00:16:13.725\nI always wonder what would\nhappen if I try this with Paint.\n\n341\n00:16:13.725 --> 00:16:14.320\n&gt;&gt; [LAUGH]\n&gt;&gt; Would it be-\n\n342\n00:16:14.320 --> 00:16:15.195\n&gt;&gt; A picture of a firewall\n\n343\n00:16:15.195 --> 00:16:17.649\n&gt;&gt; You know, would something crazy happen?\n\n344\n00:16:17.649 --> 00:16:20.175\nWhy do you even give me that option?\n\n345\n00:16:20.175 --> 00:16:22.675\nThere's no logical way Paint\nis going to open this.\n\n346\n00:16:22.675 --> 00:16:24.565\nIt's just never going to work, right?\n\n347\n00:16:24.565 --> 00:16:27.105\nI mean, we're smart enough that\nyou'd think Windows Media Player,\n\n348\n00:16:27.105 --> 00:16:28.787\nit's not an audio file, right?\n\n349\n00:16:28.787 --> 00:16:31.327\nThere's no file extension\nthat associates with that.\n\n350\n00:16:31.327 --> 00:16:35.187\nI mean I could see NotePad or\nIE because I can see maybe it's XML.\n\n351\n00:16:35.187 --> 00:16:36.697\n&gt;&gt; Yeah, they can render XML or\na different thing.\n\n352\n00:16:36.697 --> 00:16:38.897\n&gt;&gt; Right I can see Notepad because\nit's like the Swiss army knife.\n\n353\n00:16:38.897 --> 00:16:39.582\nIt renders anything.\n\n354\n00:16:39.582 --> 00:16:40.247\n&gt;&gt; [LAUGH]\n&gt;&gt; But what\n\n355\n00:16:40.247 --> 00:16:42.310\nthe hell were you thinking\nwhen you're giving me paint?\n\n356\n00:16:42.310 --> 00:16:45.280\nHow am I possibly going to be\nable to see anything of value in\n\n357\n00:16:45.280 --> 00:16:47.090\nthat file with Paint, right?\n\n358\n00:16:47.090 --> 00:16:49.320\nI mean,\nunless it takes the wingding characters,\n\n359\n00:16:49.320 --> 00:16:50.625\nit turns them into something cool.\n\n360\n00:16:50.625 --> 00:16:54.220\nSo you can see when I open this, this is\nnot a human readable file, in the sense\n\n361\n00:16:54.220 --> 00:16:57.660\nthat there's a lot of information,\nlike an XML file would be typically with\n\n362\n00:16:57.660 --> 00:17:01.310\njust some sort of config, there is some\nstuff in there, you can pick out the words\n\n363\n00:17:01.310 --> 00:17:06.420\nlike Microsoft Windows, Cloud,\nexperience host resources, whatever.\n\n364\n00:17:06.420 --> 00:17:09.190\nBut there's also a lot of other stuff\nin there that just doesn't make sense\n\n365\n00:17:09.190 --> 00:17:09.950\nto us right?\n\n366\n00:17:09.950 --> 00:17:14.640\nAnd so this is basically a file\nthat is used to be able to\n\n367\n00:17:14.640 --> 00:17:19.820\nallow the system to then use the policies\nthat are there and apply them, right?\n\n368\n00:17:19.820 --> 00:17:21.780\nTo import them and then associate them.\n\n369\n00:17:21.780 --> 00:17:24.890\n&gt;&gt; It can be really handy in a small shop\nwhere you don't have to set up a lot of\n\n370\n00:17:24.890 --> 00:17:28.740\nmachines and you're maybe not using\ncentralized management like group policy,\n\n371\n00:17:28.740 --> 00:17:31.890\nwhere I take one machine,\nconfigure all the rules that I need.\n\n372\n00:17:31.890 --> 00:17:33.440\nAnd then just export that out.\n\n373\n00:17:33.440 --> 00:17:36.610\nGo to the second and third machine and\nimport that policy back in.\n\n374\n00:17:36.610 --> 00:17:40.350\nSo it can speed things up,\nmake administration easier and\n\n375\n00:17:40.350 --> 00:17:41.470\ngive me consistency, right?\n\n376\n00:17:41.470 --> 00:17:44.680\nI didn't forget to create one\nof those rules on one machine.\n\n377\n00:17:44.680 --> 00:17:45.970\nThey all have the same rules.\n\n378\n00:17:45.970 --> 00:17:50.588\nNow is it still a whole replace\nnot merge and do they warn you?\n\n379\n00:17:50.588 --> 00:17:51.355\nOkay, perfect.\n\n380\n00:17:51.355 --> 00:17:52.770\n&gt;&gt; [LAUGH]\n&gt;&gt; Like that right there.\n\n381\n00:17:52.770 --> 00:17:53.590\n&gt;&gt; There's the one.\n\n382\n00:17:53.590 --> 00:17:54.530\n&gt;&gt; Right, okay, there we go.\n\n383\n00:17:54.530 --> 00:17:55.240\n&gt;&gt; That's a gotcha.\n\n384\n00:17:55.240 --> 00:17:57.300\n&gt;&gt; Yep.\n&gt;&gt; That has got me before.\n\n385\n00:17:57.300 --> 00:18:00.640\n&gt;&gt; Yep, so it does, to Mike's point,\nwhat he was asking about was hey,\n\n386\n00:18:00.640 --> 00:18:03.710\nwhen you go to do this,\nit is a wipe and replace, right?\n\n387\n00:18:03.710 --> 00:18:07.735\nAnd so as a result, you're losing all\nyour current policies, whatever may or\n\n388\n00:18:07.735 --> 00:18:12.145\nmay not be there and we're gonna lay down\nwhatever's coming in through the import\n\n389\n00:18:12.145 --> 00:18:15.378\nand so we warn you,which has not\nalways been the case by the way.\n\n390\n00:18:15.378 --> 00:18:15.985\n&gt;&gt; Right.\n[LAUGH]\n\n391\n00:18:15.985 --> 00:18:17.540\n&gt;&gt; But we do now warn you.\n\n392\n00:18:17.540 --> 00:18:20.210\nAnd it says,\nimporting policies you can see there\n\n393\n00:18:20.210 --> 00:18:23.530\nwill overwrite the current\nWindows Firewall policies, right?\n\n394\n00:18:23.530 --> 00:18:27.290\nSo in other words, we're about to destroy\neverything there, put a new copy in.\n\n395\n00:18:27.290 --> 00:18:28.830\nIf you have not already done so,\n\n396\n00:18:28.830 --> 00:18:31.220\nthis would be a great time\nto export your policies.\n\n397\n00:18:31.220 --> 00:18:34.030\nSo you have essentially a set of them,\nright?\n\n398\n00:18:34.030 --> 00:18:35.330\nSo make sure you do that, right?\n\n399\n00:18:35.330 --> 00:18:36.990\nYou should first export\nthe current policy.\n\n400\n00:18:36.990 --> 00:18:40.120\nIt says, do you want to import\na policy now, yes or no?\n\n401\n00:18:40.120 --> 00:18:42.390\nAnd you hit yes, of course,\nthen we wipe and\n\n402\n00:18:42.390 --> 00:18:45.100\nreset so just want to make sure\nyou're familiar with that.\n\n403\n00:18:46.390 --> 00:18:48.430\nWe can also restore the default policy.\n\n404\n00:18:48.430 --> 00:18:52.090\nIf something goes horrible wrong,\nwe can put everything back the way it was.\n\n405\n00:18:52.090 --> 00:18:55.120\nWe do have a diagnose and\nrepair option here.\n\n406\n00:18:55.120 --> 00:18:58.880\nWe can go in and when we do that, notice\nit brings in our little troubleshoot\n\n407\n00:18:58.880 --> 00:19:01.650\nproblems, network and internet wizards.\n\n408\n00:19:01.650 --> 00:19:05.320\nThese are the ones you may see from time\nto time if you have a networking problem\n\n409\n00:19:05.320 --> 00:19:06.840\nand you say, help me fix that.\n\n410\n00:19:06.840 --> 00:19:09.600\nIt runs that little diagnostic,\nasks you a bunch of questions,\n\n411\n00:19:09.600 --> 00:19:11.433\nit comes back and says,\nyeah, we don't know.\n\n412\n00:19:11.433 --> 00:19:11.936\n&gt;&gt; [LAUGH]\n&gt;&gt; Right?\n\n413\n00:19:11.936 --> 00:19:12.762\n&gt;&gt; See your system administrator.\n\n414\n00:19:12.762 --> 00:19:14.770\n[LAUGH] &gt;&gt; We made you\nwaste 20 minutes just so\n\n415\n00:19:14.770 --> 00:19:17.470\nthat we could actually, I'm convinced.\n\n416\n00:19:17.470 --> 00:19:18.260\ni don't know what I'm thinking.\n\n417\n00:19:18.260 --> 00:19:20.650\nI'm thinking they're taking that time and\nthey're banking it for\n\n418\n00:19:20.650 --> 00:19:21.570\nsomething in the future.\n\n419\n00:19:21.570 --> 00:19:22.680\nI don't know what they're doing but\n\n420\n00:19:22.680 --> 00:19:25.680\nessentially I've never had one of those\nthings actually work and fix a problem.\n\n421\n00:19:25.680 --> 00:19:26.210\n&gt;&gt; No.\nNo.\n\n422\n00:19:26.210 --> 00:19:27.630\n&gt;&gt; I've wasted a lot of time hoping but\n\n423\n00:19:27.630 --> 00:19:30.260\nI've never been actually\nhappy with the outcome.\n\n424\n00:19:30.260 --> 00:19:34.800\nBut you can see that we do have new\ncategorical troubleshooting capabilities,\n\n425\n00:19:34.800 --> 00:19:37.810\nit's internet based, shared folders,\nown group, network adaptor.\n\n426\n00:19:37.810 --> 00:19:40.260\nA lot of the things that will be going\nthrough the firewall potentially and\n\n427\n00:19:40.260 --> 00:19:41.939\nmaybe not be having any issue.\n\n428\n00:19:41.939 --> 00:19:45.372\nOne of the things that Mike made reference\nto this just couple of minutes ago as we\n\n429\n00:19:45.372 --> 00:19:48.000\nwere talking about the use\nof import export, and\n\n430\n00:19:48.000 --> 00:19:53.810\nhow valuable it can be on a small,\nmedium size shop, it's valuable I think.\n\n431\n00:19:53.810 --> 00:19:57.060\nI know Mike didn't mean to say,\nwouldn't be valuable in large enterprises.\n\n432\n00:19:57.060 --> 00:19:59.080\n&gt;&gt; Right, yeah.\n&gt;&gt; He was drawing you out specifically\n\n433\n00:19:59.080 --> 00:20:02.320\non the fact that in a smaller environment,\nit's even more critical when you're\n\n434\n00:20:02.320 --> 00:20:06.070\nan army of one probably,\nthat you use time saving features and\n\n435\n00:20:06.070 --> 00:20:09.160\nautomation features to get things\ndone right the first time.\n\n436\n00:20:09.160 --> 00:20:12.220\nBut I think it's critical\nanywhere that were doing this for\n\n437\n00:20:12.220 --> 00:20:16.120\nthe reason Mike pointed out,\nwhich is standardization of configuration.\n\n438\n00:20:16.120 --> 00:20:18.770\nA lot of times, especially in branch\noffice configurations, right?\n\n439\n00:20:18.770 --> 00:20:22.880\nWhere you're going to be deploying\na lot of remote managed infrastructure.\n\n440\n00:20:22.880 --> 00:20:26.700\nAnd it's becoming more complex by\nthe day as we do this stuff, right?\n\n441\n00:20:26.700 --> 00:20:30.380\nWe have a lot of these remote sites where\nwe may not have a full IT presence on\n\n442\n00:20:30.380 --> 00:20:35.880\nsite, may be difficult for us to be able\nto provide support on a regular basis.\n\n443\n00:20:35.880 --> 00:20:38.500\nAnd so, a lot of it is done\nremotely where we're not there.\n\n444\n00:20:38.500 --> 00:20:43.430\nA lot of it is cloud based today, so we're\nin centralized data center hosting models,\n\n445\n00:20:43.430 --> 00:20:45.380\nwhere we don't have physical presence.\n\n446\n00:20:45.380 --> 00:20:49.840\nWe're off-loading and paying someone\nelse as a service model to manage on our\n\n447\n00:20:49.840 --> 00:20:54.510\nbehalf, so it's even more important to be\nable to get these configurations right and\n\n448\n00:20:54.510 --> 00:20:58.050\nstandardized, because even if\nwe miss just one port setting,\n\n449\n00:20:58.050 --> 00:21:01.450\nwe talked about port numbers and\nranges of ports in our last episode.\n\n450\n00:21:01.450 --> 00:21:04.820\nRemember the well known ports,\nthe dynamic and private ports.\n\n451\n00:21:04.820 --> 00:21:07.140\nYou know,\nall the different stuff we talked about.\n\n452\n00:21:07.140 --> 00:21:12.600\nIf we don't get all that stuff correct,\nwe essentially are blocking outbound or\n\n453\n00:21:12.600 --> 00:21:15.980\ninbound traffic patterns and\nwe are not able to get to the box.\n\n454\n00:21:15.980 --> 00:21:18.980\nThe old way of doing this where\nthere was a group of people and\n\n455\n00:21:18.980 --> 00:21:20.875\nthe boxes were all\nsitting there literally.\n\n456\n00:21:20.875 --> 00:21:24.480\nThey're back here or wherever they are and\none of us could go there and\n\n457\n00:21:24.480 --> 00:21:30.810\nfix it if we had to, because we are on\nsite or it's within easy reach, right?\n\n458\n00:21:30.810 --> 00:21:34.670\nBut the reality is, today more and more,\nthis stuff is not within arm's reach,\n\n459\n00:21:34.670 --> 00:21:37.500\nit's not physically in\nthe same location we're in.\n\n460\n00:21:37.500 --> 00:21:40.650\nAnd as a result of that,\nif we don't have that pathway guaranteed,\n\n461\n00:21:40.650 --> 00:21:44.720\nthat communication pathway established and\nenabled, and it's validated and it is\n\n462\n00:21:44.720 --> 00:21:49.350\nworking, and that traffic stops flowing,\nit could be a significant liability for\n\n463\n00:21:49.350 --> 00:21:53.070\nus cuz we may not have somebody that\ncould go fix that problem on site.\n\n464\n00:21:53.070 --> 00:21:56.940\nI mean, call up a remote office where\nall there are are information workers,\n\n465\n00:21:56.940 --> 00:22:01.500\nno IT professionals that can offer this\nkind of support or could be trusted to go\n\n466\n00:22:01.500 --> 00:22:04.900\nwork on this equipment in a secure and\nknowledgeable way.\n\n467\n00:22:04.900 --> 00:22:09.020\nAnd try to get one of them to go and\npotentially troubleshoot on your behalf.\n\n468\n00:22:09.020 --> 00:22:12.110\nI'm sure they would volunteer to do it and\ntry to do their best.\n\n469\n00:22:12.110 --> 00:22:15.230\nI'm not suggesting they wouldn't\nwanna be helpful, but the reality is,\n\n470\n00:22:15.230 --> 00:22:18.560\nthey're going to be very inefficient at\ntrying to get that done because they're\n\n471\n00:22:18.560 --> 00:22:21.795\nnot trained to do that, they just don't\nunderstand how to do those things.\n\n472\n00:22:21.795 --> 00:22:24.890\nIt will be very frustrating for\nthem, be very frustrating for\n\n473\n00:22:24.890 --> 00:22:29.390\nthe IT professional trying to walk them\nthrough it and ultimately it's probably\n\n474\n00:22:29.390 --> 00:22:32.550\ngoing to lead to a lot of wasted time and\neffort before the problem gets solved.\n\n475\n00:22:32.550 --> 00:22:36.520\nSo, you're really understanding how\nto leverage these capabilities.\n\n476\n00:22:36.520 --> 00:22:39.360\nI always talk about the value\nof good documentation.\n\n477\n00:22:39.360 --> 00:22:43.390\nThe value of understanding and\nvetting how to do something properly,\n\n478\n00:22:43.390 --> 00:22:48.710\nstandardizing it, automating it if\npossible so we can reproduce it as we go.\n\n479\n00:22:48.710 --> 00:22:51.650\nThis is the auditor mindset,\nthis is the IT professional,\n\n480\n00:22:51.650 --> 00:22:53.290\nsecurity professional mindset.\n\n481\n00:22:53.290 --> 00:22:56.070\nBut it's also the smart play\nwhen you think about it today.\n\n482\n00:22:56.070 --> 00:22:58.010\nSo think about the logic of those things,\nright?\n\n483\n00:22:58.010 --> 00:23:01.460\nSo we have all these capabilities kind\nof at a high level as we get started.\n\n484\n00:23:01.460 --> 00:23:03.172\nWe do have properties here as well.\n\n485\n00:23:03.172 --> 00:23:07.190\nAnd although people often overlook the\nproperties here, when you wanna go in, and\n\n486\n00:23:07.190 --> 00:23:09.710\ngive into those profiles and\ntake a look at how they're configured,\n\n487\n00:23:09.710 --> 00:23:11.050\nthis is how you actually do it.\n\n488\n00:23:11.050 --> 00:23:12.036\nGet that question a lot.\n\n489\n00:23:12.036 --> 00:23:15.500\nHey I'm clicking in the interface, I don't\nreally know where to go, what to do.\n\n490\n00:23:15.500 --> 00:23:17.750\nWell, you're actually looking for\nthe properties and\n\n491\n00:23:17.750 --> 00:23:21.870\nif you see right here, Windows Firewall\nproperties, there's a link to the same\n\n492\n00:23:21.870 --> 00:23:25.110\nthing right in that first pane in\nthe middle area there for the profiles,\n\n493\n00:23:25.110 --> 00:23:28.965\nthe domain, the private, and\nthe public profile, as well as IPsec.\n\n494\n00:23:28.965 --> 00:23:31.095\nBack to the idea of typing\nIPsec into the firewall.\n\n495\n00:23:31.095 --> 00:23:34.375\nIt's gonna be an upcoming conversation as\nI mentioned in some additional episodes\n\n496\n00:23:34.375 --> 00:23:36.725\nand just wanna make sure\nyou're thinking about that and\n\n497\n00:23:36.725 --> 00:23:40.065\nyou take a look at those when\nthey are available to you.\n\n498\n00:23:40.065 --> 00:23:41.955\nYou'll be in line, so to speak.\n\n499\n00:23:41.955 --> 00:23:44.165\nBut part of general topics\nwe're talking about.\n\n500\n00:23:44.165 --> 00:23:46.955\nTying IPsec into the firewall\nbecomes very important as well.\n\n501\n00:23:46.955 --> 00:23:50.235\nSo you can see we can specify\nthe firewall state on off here.\n\n502\n00:23:51.470 --> 00:23:55.103\nWe could specify inbound and\noutbound activity, are we blocking or\n\n503\n00:23:55.103 --> 00:23:59.631\nallowing and notice by default we block\ninbound connections on the domain profile,\n\n504\n00:23:59.631 --> 00:24:00.602\nallow outbound.\n\n505\n00:24:00.602 --> 00:24:03.060\nSo we will allow ourselves\nto talk to people but\n\n506\n00:24:03.060 --> 00:24:07.140\nwe don't allow them to talk to us by\ndefault is what we're saying here.\n\n507\n00:24:07.140 --> 00:24:08.370\nWe could then customize, right?\n\n508\n00:24:08.370 --> 00:24:09.834\nAny kind of issues here,\n\n509\n00:24:09.834 --> 00:24:13.960\nwhat network connections are we\nbinding to this particular profile?\n\n510\n00:24:13.960 --> 00:24:16.230\nIn this case you see I have\ntwo network interfaces,\n\n511\n00:24:16.230 --> 00:24:18.480\nboth of them have been\nbound to this profile.\n\n512\n00:24:18.480 --> 00:24:21.020\nSo I can see that here.\n\n513\n00:24:21.020 --> 00:24:24.780\nYou will notice we can change,\nblock, default block all or\n\n514\n00:24:24.780 --> 00:24:28.170\nallow default block means that we are not\nreally blocking all connections but\n\n515\n00:24:28.170 --> 00:24:31.890\nrather blocking probably the majority of\nthem based on whatever rules we have.\n\n516\n00:24:31.890 --> 00:24:33.450\nWe'll take a look at that in a minute.\n\n517\n00:24:33.450 --> 00:24:35.910\nWe have our settings here that\ncontrol the firewall behavior,\n\n518\n00:24:35.910 --> 00:24:37.930\nthat's how we can tell what we're doing.\n\n519\n00:24:39.510 --> 00:24:43.410\nThings like unicast response,\nyour display notifications.\n\n520\n00:24:43.410 --> 00:24:46.100\nAre we applying local firewall rules?\n\n521\n00:24:46.100 --> 00:24:49.480\nYes, so we can see what those rules\nare as we go and when we take a look, so\n\n522\n00:24:49.480 --> 00:24:51.360\nwe're able to check all that.\n\n523\n00:24:51.360 --> 00:24:53.640\nAnd then also real big issue and\n\n524\n00:24:53.640 --> 00:24:57.290\na lot of times again something\nMicrosoft loves to ask about on exams.\n\n525\n00:24:57.290 --> 00:24:59.730\nI get asked about a lot when\nI'm talking to customers.\n\n526\n00:24:59.730 --> 00:25:02.570\nYou may have questions about\nbecause somebody wants to know\n\n527\n00:25:02.570 --> 00:25:04.360\nhey where are our log files?\n\n528\n00:25:04.360 --> 00:25:05.350\nHow big are they?\n\n529\n00:25:05.350 --> 00:25:07.210\nCan I modify that size?\n\n530\n00:25:07.210 --> 00:25:10.120\nAre we logging things like success and\ndrop packets?\n\n531\n00:25:10.120 --> 00:25:12.350\nSo you have good connection,\nbad connection.\n\n532\n00:25:12.350 --> 00:25:13.670\nHow we are we dealing with that?\n\n533\n00:25:13.670 --> 00:25:16.570\nWhat do we see you know customers\nall the time will call up and\n\n534\n00:25:16.570 --> 00:25:19.410\nsay hey we're doing this and\nthis we have this issue.\n\n535\n00:25:19.410 --> 00:25:23.340\nFrom an incident response perspective,\nwhat's the default state of this firewall?\n\n536\n00:25:23.340 --> 00:25:28.020\nAre we capturing packets or\nare we simply going to see IP addresses or\n\n537\n00:25:28.020 --> 00:25:29.080\nwhatever, what are we doing?\n\n538\n00:25:29.080 --> 00:25:30.760\nSo, we want to know about that.\n\n539\n00:25:30.760 --> 00:25:34.200\nSo you can see the default path there,\nsystem root, system 32 log files,\n\n540\n00:25:34.200 --> 00:25:37.370\nfirewall, PF or\nP Firewall rather.log, right?\n\n541\n00:25:37.370 --> 00:25:40.190\nSo you could see that,\nwe could modify that of course.\n\n542\n00:25:40.190 --> 00:25:43.890\nThe size, typically they're four\nmegabytes but you can modify that.\n\n543\n00:25:43.890 --> 00:25:48.810\nAnd you see at least on the domain profile\nanyway, we are not logging drop packets or\n\n544\n00:25:48.810 --> 00:25:51.510\nsuccessful connections, right, by default.\n\n545\n00:25:51.510 --> 00:25:54.940\nYou'll see there, but\nwe could change that if we choose to.\n\n546\n00:25:54.940 --> 00:25:57.430\nSo again,\njust having the sense of what goes on and\n\n547\n00:25:57.430 --> 00:26:00.500\nthis is as you could see essentially\nthe same thing in each one of these,\n\n548\n00:26:00.500 --> 00:26:02.825\njust a matter of what the specifics\nof the settings may be.\n\n549\n00:26:02.825 --> 00:26:04.830\nBut knowing that we can come in and\n\n550\n00:26:04.830 --> 00:26:08.870\nlook at the properties here will be\nvery important we can see all of that.\n\n551\n00:26:08.870 --> 00:26:11.490\nAnd then we do have our IP settlings\nwhere we go in look at our\n\n552\n00:26:11.490 --> 00:26:13.390\ndefaults through the fire wall.\n\n553\n00:26:13.390 --> 00:26:17.550\nWe look at exemptions so that we may\nexempt certain traffic, things like pin.\n\n554\n00:26:17.550 --> 00:26:20.150\nTraffic traditionally maybe exempted and\n\n555\n00:26:20.150 --> 00:26:22.920\nthen all we do internal\nauthorization where we're\n\n556\n00:26:22.920 --> 00:26:26.950\nallowing computers to establish IP\nset tunnels inbound to this computer.\n\n557\n00:26:26.950 --> 00:26:28.950\nPeople often think,\nthat means we're going outbound,\n\n558\n00:26:28.950 --> 00:26:30.850\nit's actually the inbound authorization.\n\n559\n00:26:30.850 --> 00:26:34.731\nTo connect in, I'll specify users and\ncomputers to authorize to establish IP set\n\n560\n00:26:34.731 --> 00:26:37.360\ntunnel connections,\ninbound to this computer.\n\n561\n00:26:37.360 --> 00:26:42.220\nAnd if we want to do that We can go\nadvanced and specify both computers and\n\n562\n00:26:42.220 --> 00:26:42.860\nusers, right?\n\n563\n00:26:42.860 --> 00:26:46.670\nConnections from these\ncomputers only allow or deny.\n\n564\n00:26:46.670 --> 00:26:50.230\nMike was talking in the last episode about\nthis idea of the default response rule\n\n565\n00:26:50.230 --> 00:26:52.930\ndeny all, as you defined firewalls for us.\n\n566\n00:26:52.930 --> 00:26:56.060\nAnd then you allow traffic in selectively,\nthat normal,\n\n567\n00:26:56.060 --> 00:26:59.360\nstandard way we do\nfirewall specifications.\n\n568\n00:26:59.360 --> 00:27:03.680\nOr as I said, although it's not normal,\nallow all and then block selective,\n\n569\n00:27:03.680 --> 00:27:07.810\nwhich is a much more difficult and\nmuch more finesse way of doing management\n\n570\n00:27:07.810 --> 00:27:11.750\nbecause it requires a lot more thought and\ninsight into what kind of traffic we want.\n\n571\n00:27:11.750 --> 00:27:16.060\nBut it is an option although it may not\nbe the recommended one, just to be clear.\n\n572\n00:27:16.060 --> 00:27:20.200\nBut you can see we can allow\nconnections from users or deny them, so\n\n573\n00:27:20.200 --> 00:27:20.961\nwe have this white-list,\n\n574\n00:27:20.961 --> 00:27:24.820\nblack-list mentality kind of thought\nprocess that we can engage in as well.\n\n575\n00:27:24.820 --> 00:27:27.080\nSo we have a lot of\ninteresting opportunities,\n\n576\n00:27:27.080 --> 00:27:28.710\njust at the very top level here.\n\n577\n00:27:28.710 --> 00:27:31.990\nWe haven't even done anything other\nthan just open it up and said, wow,\n\n578\n00:27:31.990 --> 00:27:35.340\nlook at all the pretty colors and flashing\nlights and bells and whistles here, right?\n\n579\n00:27:35.340 --> 00:27:38.470\nAnd Mike's already signaled me saying,\nhey, you're out of time, stop talking.\n\n580\n00:27:38.470 --> 00:27:40.920\nSo you can imagine we have\nmore to go through here.\n\n581\n00:27:40.920 --> 00:27:44.105\nBut really Just getting you oriented and\nfamiliar with the console.\n\n582\n00:27:44.105 --> 00:27:47.655\nBecause we want to have a sense of what's\nhappening, wanna have a sense of how to\n\n583\n00:27:47.655 --> 00:27:52.295\nnavigate, want to have a sense of where\nthings are and how to interact with them.\n\n584\n00:27:52.295 --> 00:27:54.897\nSo as we start drilling into\nour next episode Here, right?\n\n585\n00:27:54.897 --> 00:27:56.447\nShocking, we'll have a part three.\n\n586\n00:27:56.447 --> 00:27:58.257\nBut go back and take a look and\n\n587\n00:27:58.257 --> 00:28:01.447\nwe'll drill down the next level into\ninbound rules, outbound rules, kinda\n\n588\n00:28:01.447 --> 00:28:05.157\njust stepping down the logic on the left\nthere of all the options for connection.\n\n589\n00:28:05.157 --> 00:28:08.680\nWe'll take a look at connection security\nrules, we'll talk about monitoring.\n\n590\n00:28:08.680 --> 00:28:11.200\nWe'll do the rest of the walk\nthrough in the console.\n\n591\n00:28:11.200 --> 00:28:14.112\nWe'll then jump in, take a look at our\noptions on the group policies side,\n\n592\n00:28:14.112 --> 00:28:16.575\njust kinda compare them quickly\nto see what's going on there.\n\n593\n00:28:16.575 --> 00:28:20.335\nYou will really just making sure that you\ncan operate throughout that console and\n\n594\n00:28:20.335 --> 00:28:21.450\nknow where things are.\n\n595\n00:28:21.450 --> 00:28:25.711\nBecause again in an exam, it's very\nlikely you're goinna be asked one or\n\n596\n00:28:25.711 --> 00:28:27.610\nmore questions about this.\n\n597\n00:28:27.610 --> 00:28:31.345\nYou know, exams can be interactive,\nnot every exam is.\n\n598\n00:28:31.345 --> 00:28:35.660\nA lot of times you may just see as\nyou were suggesting things like, hey,\n\n599\n00:28:35.660 --> 00:28:36.730\nwhat's this command rate?\n\n600\n00:28:36.730 --> 00:28:41.070\nWe're not going to say, write the code\nto configure the PowerShell cmdlet.\n\n601\n00:28:41.070 --> 00:28:43.520\nWe have tests that require you to do that,\nbut\n\n602\n00:28:43.520 --> 00:28:46.130\na test like this would not\nnecessarily be one of them.\n\n603\n00:28:46.130 --> 00:28:47.676\nThe developer exams, all right,\n\n604\n00:28:47.676 --> 00:28:50.769\nif you go towards developer\ncertifications in the Microsoft world,\n\n605\n00:28:50.769 --> 00:28:54.520\nin any certification state for any vendor,\nbut especially in the Microsoft side.\n\n606\n00:28:54.520 --> 00:28:58.533\nYou are looking at pre-built code box, you\nmay be writing your own code as part of\n\n607\n00:28:58.533 --> 00:29:02.073\nan answer to a question of how to done\none or both of those over the years,\n\n608\n00:29:02.073 --> 00:29:02.682\nall right?\n\n609\n00:29:02.682 --> 00:29:05.732\nAs I have done my developer\ncertifications here and there,\n\n610\n00:29:05.732 --> 00:29:08.600\nthankfully I don't do that\non a regular basis anymore.\n\n611\n00:29:08.600 --> 00:29:12.328\nBut one time a long long time ago\nI used to write code for a living,\n\n612\n00:29:12.328 --> 00:29:13.848\nI don't do it actively but\n\n613\n00:29:13.848 --> 00:29:17.742\nI can really break things with the best\nof them if I put my mind to it.\n\n614\n00:29:17.742 --> 00:29:19.011\n&gt;&gt; [LAUGH]\n&gt;&gt; But you see it there but\n\n615\n00:29:19.011 --> 00:29:23.486\nin the infrastructure exams, especially\nsomething like network administration,\n\n616\n00:29:23.486 --> 00:29:27.300\nidentity, access control,\nsecurity, those kinda categories.\n\n617\n00:29:27.300 --> 00:29:30.790\nIt's not unlikely you would\ncertainly see screen captures or\n\n618\n00:29:30.790 --> 00:29:34.000\nsetup environments where you\nhave maybe a hotspot question,\n\n619\n00:29:34.000 --> 00:29:36.120\nyou have a console,\nyou have to click on something.\n\n620\n00:29:36.120 --> 00:29:39.080\nSay, I would go there and\nhit that button to configure.\n\n621\n00:29:39.080 --> 00:29:42.300\nYou may see a screen capture and\nbe asked what's going on.\n\n622\n00:29:42.300 --> 00:29:43.840\nYou may have a drag and drop, right?\n\n623\n00:29:43.840 --> 00:29:47.040\nWhere you have a list of things on\none side, you have to match them up,\n\n624\n00:29:47.040 --> 00:29:49.030\nput them in some order on the other side.\n\n625\n00:29:49.030 --> 00:29:53.540\nIt's my suggestion that you make it\na commandlette that's very similar, right?\n\n626\n00:29:53.540 --> 00:29:56.020\nAnd you would have to know which\ncommandlette does the job.\n\n627\n00:29:56.020 --> 00:29:58.950\nLot of times they'll give you\nthe actual string, right?\n\n628\n00:29:58.950 --> 00:30:00.700\nSo I've seen it where\nyou're given the script.\n\n629\n00:30:00.700 --> 00:30:03.688\nAnd they'll break out like one or\ntwo lines, and there will be a gap, right?\n\n630\n00:30:03.688 --> 00:30:05.917\nEssentially where that\ncommand has to fit in.\n\n631\n00:30:05.917 --> 00:30:09.091\nAnd so based on the nature of the script,\nyou have to choose the right command, and\n\n632\n00:30:09.091 --> 00:30:10.386\nthey're very similar, right?\n\n633\n00:30:10.386 --> 00:30:15.190\nSet net IP, firewall set net IP set,\nsomething like that.\n\n634\n00:30:15.190 --> 00:30:18.210\nYou have to note which one of those\nwould be appropriate, given the string.\n\n635\n00:30:18.210 --> 00:30:20.540\nSo there's a lot of ways\nto ask these questions.\n\n636\n00:30:20.540 --> 00:30:23.880\nBut it's rare, at least in\nMicrosoft exams that you're given\n\n637\n00:30:23.880 --> 00:30:26.390\nan interactive environment,\nunlike let's say in Cisco, right?\n\n638\n00:30:26.390 --> 00:30:30.300\nWhere you literally have to\ngo in on the CCNP exams and\n\n639\n00:30:30.300 --> 00:30:34.360\nthose upper level exams and type in and\nactually do things in an environment where\n\n640\n00:30:34.360 --> 00:30:37.970\nyou're configuring a router, configuring\na switch, configuring a firewall.\n\n641\n00:30:37.970 --> 00:30:42.090\nYou don’t really have those interactive\nenvironments as much in our exams, but\n\n642\n00:30:42.090 --> 00:30:43.015\nthey do exist.\n\n643\n00:30:43.015 --> 00:30:46.730\nSo, just understand the logic of that and\njust be aware, okay?\n\n644\n00:30:46.730 --> 00:30:48.390\n&gt;&gt; All right Adam, great look so far.\n\n645\n00:30:48.390 --> 00:30:50.460\nWe’ve got the basics\nof what firewalls are,\n\n646\n00:30:50.460 --> 00:30:53.940\ntalk a little bit about the different\ntypes of firewalls, back in part one.\n\n647\n00:30:53.940 --> 00:30:56.500\nPart two here,\nwe got a look at the interface, and\n\n648\n00:30:56.500 --> 00:31:00.660\nnow we're familiar with how we're gonna\nbe interacting with that firewall.\n\n649\n00:31:00.660 --> 00:31:04.300\nPart three, we're gonna actually do\nsome configuration on that firewall,\n\n650\n00:31:04.300 --> 00:31:05.770\nso stay tuned for that one.\n\n651\n00:31:05.770 --> 00:31:08.390\nBut for now, signing off for\nITPRO.TV, I've been your host,\n\n652\n00:31:08.390 --> 00:31:10.130\nMike Rodrick\n&gt;&gt; I'm Adam Gordon.\n\n653\n00:31:10.130 --> 00:31:11.226\n&gt;&gt; And we'll see you next time.\n\n654\n00:31:11.226 --> 00:31:13.793\n[MUSIC]\n\n655\n00:31:13.793 --> 00:31:16.646\nThank you for\n\n656\n00:31:16.646 --> 00:31:21.578\nwatching ITPRO.TV.\n\n",
          "vimeoId": "236803612"
        },
        {
          "description": "",
          "length": "1760",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-3-configure-windows-firewall_pt3-100317-PGM.00_29_02_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-3-configure-windows-firewall_pt3-100317-PGM.00_29_02_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-3-configure-windows-firewall_pt3-100317-PGM.00_29_02_15.Still001-sm.jpg",
          "title": "Configure Windows Firewall Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:03.020\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:03.020 --> 00:00:07.643\n[CROSSTALK]\n[MUSIC]\n\n3\n00:00:07.643 --> 00:00:10.975\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:10.975 --> 00:00:15.709\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n5\n00:00:15.709 --> 00:00:17.669\nI'm your host, Mike Rodrick and\n\n6\n00:00:17.669 --> 00:00:21.174\ntoday we're doing our\nsecuring Windows Server 2016.\n\n7\n00:00:21.174 --> 00:00:24.130\nAnd specifically in this episode\nwe're actually doing a part three.\n\n8\n00:00:24.130 --> 00:00:27.720\nWe're continuing our conversation\non configuring Windows firewall.\n\n9\n00:00:27.720 --> 00:00:30.340\nWe've laid down a lot of\nthat foundational mileage.\n\n10\n00:00:30.340 --> 00:00:32.060\nNow we're ready to see it in action.\n\n11\n00:00:32.060 --> 00:00:33.295\nAnd who's here to show us?\n\n12\n00:00:33.295 --> 00:00:35.705\nMr. Adam Gordon, welcome back, Adam.\n\n13\n00:00:35.705 --> 00:00:36.455\n&gt;&gt; Hello, everybody.\n\n14\n00:00:36.455 --> 00:00:39.035\nThank you, always glad to spend time here\n\n15\n00:00:39.035 --> 00:00:41.875\ntalking about cool technology\nlike the Windows firewall.\n\n16\n00:00:41.875 --> 00:00:43.275\nAnd if you didn't see our last episode,\n\n17\n00:00:43.275 --> 00:00:47.367\nwe left out just really getting\nour feet wet in the console.\n\n18\n00:00:47.367 --> 00:00:49.087\nTook a look at the high\nlevel properties and\n\n19\n00:00:49.087 --> 00:00:51.687\nwhat's going on at the high\nlevel of the consoles.\n\n20\n00:00:51.687 --> 00:00:55.887\nSo look at the main properties and\nhow we can import, export our settings.\n\n21\n00:00:55.887 --> 00:00:57.157\nThe reminder from Mike about hey,\n\n22\n00:00:57.157 --> 00:01:00.447\nif we're going to import that we\nblow out our current configuration.\n\n23\n00:01:00.447 --> 00:01:02.709\nMake sure we copy our export first.\n\n24\n00:01:02.709 --> 00:01:05.227\nWe took a look at properties built\nunder the hood a little bit.\n\n25\n00:01:05.227 --> 00:01:08.287\nSaw how to modify each of\nthe protection profiles.\n\n26\n00:01:08.287 --> 00:01:10.900\nSet up, specify where logging takes place.\n\n27\n00:01:10.900 --> 00:01:14.560\nThe idea behind linking IPsec,\nIP security, into the firewall,\n\n28\n00:01:14.560 --> 00:01:15.640\nwe talked about all that stuff.\n\n29\n00:01:15.640 --> 00:01:18.650\nSo good stuff, definitely wanna\nhave that as a building block,\n\n30\n00:01:18.650 --> 00:01:22.750\na set of foundational elements,\nbefore we jump in here to episode three.\n\n31\n00:01:22.750 --> 00:01:26.480\nBut really we'll call it part two\non the firewall specifically cuz in\n\n32\n00:01:26.480 --> 00:01:29.360\nepisode one we just really talked\nmore from a theoretical perspective.\n\n33\n00:01:29.360 --> 00:01:34.060\nWe didn't really spend much time\nat all looking at how the Windows\n\n34\n00:01:34.060 --> 00:01:37.520\nsecurity firewall with advance, or Windows\nfirewall with advanced security works.\n\n35\n00:01:37.520 --> 00:01:38.965\nSo we're going to jump back in now.\n\n36\n00:01:38.965 --> 00:01:41.510\nGonna look at the rules we\nleft off talking about and\n\n37\n00:01:41.510 --> 00:01:43.320\nsetting up our idea to look at rules.\n\n38\n00:01:43.320 --> 00:01:47.360\nInbound rules, outbound rules, connection\nsecurity rules, our three rule types.\n\n39\n00:01:47.360 --> 00:01:49.610\nSo join me right there, if you will.\n\n40\n00:01:49.610 --> 00:01:53.420\nAnd you will see,\nwe need the 3D glasses, by the way.\n\n41\n00:01:53.420 --> 00:01:55.190\nWouldn't it be cool if I did that, and\n\n42\n00:01:55.190 --> 00:01:57.400\nit just comes out right\nin front of you there?\n\n43\n00:01:57.400 --> 00:01:59.295\n&gt;&gt; I think that's in Studio 2.0.\n\n44\n00:01:59.295 --> 00:02:00.290\n&gt;&gt; Awesome, right?\n\n45\n00:02:00.290 --> 00:02:01.230\nThat would be cool.\n\n46\n00:02:01.230 --> 00:02:02.480\nThat would be awesome.\n\n47\n00:02:02.480 --> 00:02:05.710\nSo we have, or\nI highlighted the inbound rule area.\n\n48\n00:02:05.710 --> 00:02:08.273\nWe have a lot of rules sitting here,\nas you can see.\n\n49\n00:02:08.273 --> 00:02:13.289\nAnd as I just scroll down, you'll see\nunder the inbound rule category that while\n\n50\n00:02:13.289 --> 00:02:18.530\nnot every one of them has a green circle\nwith a white check next to them, many do.\n\n51\n00:02:18.530 --> 00:02:22.120\nThose are the rules that\nare currently enabled or active.\n\n52\n00:02:22.120 --> 00:02:25.490\nWe can see under the Enabled column,\nwe track across.\n\n53\n00:02:25.490 --> 00:02:28.800\nAny rule with a green circle\nis set to Enabled Yes.\n\n54\n00:02:28.800 --> 00:02:31.590\nThe ones that don't have them\nare essentially not enabled.\n\n55\n00:02:31.590 --> 00:02:34.510\nNow I can easily filter and\njust kinda click there.\n\n56\n00:02:34.510 --> 00:02:38.190\nAnd then I can see stacked up what\nrules are or are not enabled,\n\n57\n00:02:38.190 --> 00:02:41.880\neither way, right, up or down,\nor ascending or descending.\n\n58\n00:02:41.880 --> 00:02:44.680\nI could see filtering by action, allow,\n\n59\n00:02:44.680 --> 00:02:47.200\nor in this case all\nthe rules are set to allow.\n\n60\n00:02:47.200 --> 00:02:49.840\nBy having the overrides, I can see that.\n\n61\n00:02:49.840 --> 00:02:55.780\nIf I look here and filter,\njust move over so you can see, by program.\n\n62\n00:02:55.780 --> 00:02:57.750\nLet's wait for that to finish moving.\n\n63\n00:02:59.360 --> 00:03:01.110\nWe can get that to open up, there we go.\n\n64\n00:03:01.110 --> 00:03:04.460\nThe program that's associated with\nthe rule so I can actually look at\n\n65\n00:03:04.460 --> 00:03:10.320\nthe execution string or the path and\nsee, this is LSASS or DNS or\n\n66\n00:03:10.320 --> 00:03:14.610\nwhatever it may be, Active Directory,\nmedia player, whatever the case is.\n\n67\n00:03:14.610 --> 00:03:15.890\nSo I can see all that.\n\n68\n00:03:15.890 --> 00:03:19.380\nAnd as I continue to track across,\nand by the way, profile as well,\n\n69\n00:03:19.380 --> 00:03:20.720\nright, we talked about profile.\n\n70\n00:03:20.720 --> 00:03:25.145\nIs it one specific profile, all profiles,\npublic private domain, all right?\n\n71\n00:03:25.145 --> 00:03:29.495\nSo quite a number of categories\nhere as we look, or columns,\n\n72\n00:03:29.495 --> 00:03:34.529\nlocal and remoted drafts, protocol,\nlocal remote port, authorized users,\n\n73\n00:03:34.529 --> 00:03:40.155\nauthorized computers, local principals,\nmeaning local users, application package.\n\n74\n00:03:40.155 --> 00:03:42.710\nThere's just a ton of stuff up here-\n&gt;&gt; Just about everything you can wanna\n\n75\n00:03:42.710 --> 00:03:43.232\nknow about the rule.\n\n76\n00:03:43.232 --> 00:03:45.903\n&gt;&gt; As you can see, it's all there, right?\n\n77\n00:03:45.903 --> 00:03:48.960\nSo as you look, right,\nwe can see all of them.\n\n78\n00:03:48.960 --> 00:03:52.310\nNow the view is fully formed, meaning if\nyou right-click, there's no way to add.\n\n79\n00:03:52.310 --> 00:03:54.220\nA lot of times in Microsoft's consoles,\n\n80\n00:03:54.220 --> 00:03:57.570\nyou can add additional column headers or\nmodify the view.\n\n81\n00:03:57.570 --> 00:04:00.780\nYou'll notice here this is pre-made and\nkind of locked.\n\n82\n00:04:00.780 --> 00:04:02.980\nI'm right-clicking,\nthere's no way to modify that.\n\n83\n00:04:02.980 --> 00:04:06.740\nSo that is gonna be the full view, and\nit does automatically stay that way.\n\n84\n00:04:06.740 --> 00:04:09.428\nBut just so you know,\nwe do have that capability.\n\n85\n00:04:09.428 --> 00:04:14.154\nNow we had talked about export In\nthe other episode when we were looking at\n\n86\n00:04:14.154 --> 00:04:16.179\nthe high-level properties.\n\n87\n00:04:16.179 --> 00:04:18.580\nSo let's go back up here to\nproperties of the firewall overall.\n\n88\n00:04:18.580 --> 00:04:21.850\nAnd we talked about importing and\nexporting of policy, right?\n\n89\n00:04:21.850 --> 00:04:24.680\nBut if you look at\nthe rule sets over here,\n\n90\n00:04:24.680 --> 00:04:27.690\nwe can also export a list of the rules.\n\n91\n00:04:27.690 --> 00:04:32.110\nJust to show you, click Export and\nyou'll see this one would be a text file.\n\n92\n00:04:32.110 --> 00:04:35.600\nInstead of the WFW, the Windows Firewall\nextension that we showed you.\n\n93\n00:04:35.600 --> 00:04:38.230\nI can export a list of the rules\nwhich would also be helpful,\n\n94\n00:04:40.030 --> 00:04:44.730\nnot only from a documentation perspective,\nbut in general, just to have from a BCDR\n\n95\n00:04:44.730 --> 00:04:47.380\nperspective, things like that,\nwe have to reproduce something.\n\n96\n00:04:47.380 --> 00:04:50.150\n&gt;&gt; So\nthis is a list that's not importable.\n\n97\n00:04:50.150 --> 00:04:51.530\nIt's not gonna do anything for\nme that way.\n\n98\n00:04:51.530 --> 00:04:54.300\nThis is, like you said, more for\ndocumentation and auditing.\n\n99\n00:04:54.300 --> 00:04:58.860\n&gt;&gt; Right, so let's do ITPro instead\nof Firewall 1, as you can see there.\n\n100\n00:04:58.860 --> 00:05:03.300\nWe'll do rule, right, 1, so we can just\ndifferentiate between the two, right?\n\n101\n00:05:03.300 --> 00:05:04.210\nAnd so we'll do that.\n\n102\n00:05:04.210 --> 00:05:04.860\nWe'll just save it and\n\n103\n00:05:04.860 --> 00:05:08.050\nput it up on the desktop the way\nwe did the other one there.\n\n104\n00:05:08.050 --> 00:05:11.910\nLet's just get out of our little\ntroubleshooting wizard from the last one.\n\n105\n00:05:11.910 --> 00:05:16.710\n&gt;&gt; And we could see just move that up so\nyou can see, right?\n\n106\n00:05:16.710 --> 00:05:22.020\nThat this one does export out\nessentially in our columnar view,\n\n107\n00:05:22.020 --> 00:05:23.680\nwhich is nice cuz it does line up.\n\n108\n00:05:23.680 --> 00:05:24.750\nWe can see everything.\n\n109\n00:05:24.750 --> 00:05:27.420\nGives us all of our rules and\ntells us what they are.\n\n110\n00:05:27.420 --> 00:05:32.690\nNow in theory, could we take this\ninformation, do something with it?\n\n111\n00:05:32.690 --> 00:05:34.720\nYeah, there are things we\ncould do with it, right?\n\n112\n00:05:34.720 --> 00:05:38.500\nWe're not gonna import per\nse these rules back in,\n\n113\n00:05:38.500 --> 00:05:40.000\nat least not though this environment.\n\n114\n00:05:40.000 --> 00:05:42.368\nYou could see here,\nwe have filtering capabilities,\n\n115\n00:05:42.368 --> 00:05:45.208\nwe do have our ability to create\na new rule, as you could see here.\n\n116\n00:05:45.208 --> 00:05:50.980\nAnd I could do a custom rule, so just show\nyou real quick here, just bring that up.\n\n117\n00:05:50.980 --> 00:05:56.300\nAnd you'll see that I had to go in and\nspecify a certain program path.\n\n118\n00:05:56.300 --> 00:06:00.419\nAll programs, specify which services the\nrule applies to, whatever the case may be.\n\n119\n00:06:00.419 --> 00:06:04.576\nJust running through real quick\nwithout choosing anything, and\n\n120\n00:06:04.576 --> 00:06:07.080\nyou can see again, allow blocked IPs.\n\n121\n00:06:07.080 --> 00:06:08.940\nWe'll come back, take a look at all this.\n\n122\n00:06:08.940 --> 00:06:09.880\nBut as you go through and\n\n123\n00:06:09.880 --> 00:06:14.190\nlook, you'll see that I don't have an\nimport option when I create the new rule,\n\n124\n00:06:14.190 --> 00:06:17.850\nto use a rule set like that that I've\nexported and say bring in this rule.\n\n125\n00:06:17.850 --> 00:06:20.030\nAnd go that doesn't work here.\n\n126\n00:06:20.030 --> 00:06:22.880\nCould I use it as a guide to tell\nme how to reconfigure a rule?\n\n127\n00:06:22.880 --> 00:06:24.190\nYeah, I could do that.\n\n128\n00:06:24.190 --> 00:06:26.980\nCould I use it to make sure that I got\n\n129\n00:06:26.980 --> 00:06:29.920\na complete set of rules when\nI'm rebuilding the firewall or\n\n130\n00:06:29.920 --> 00:06:34.910\nI'm importing the policies which lays\nback down that baseline information?\n\n131\n00:06:34.910 --> 00:06:38.001\nThere are reasons to have that, but\nit's not gonna be because I then\n\n132\n00:06:38.001 --> 00:06:40.888\ndump those rules or take them\nback in through the console here.\n\n133\n00:06:40.888 --> 00:06:41.918\nI'm not going to be doing, right?\n\n134\n00:06:41.918 --> 00:06:44.040\nJust so you know,\nsame thing with the outbound rules.\n\n135\n00:06:44.040 --> 00:06:46.216\nYou can see I can export those and\nhave them, but\n\n136\n00:06:46.216 --> 00:06:48.742\nthere's no way to then import\nthem to bring them back.\n\n137\n00:06:48.742 --> 00:06:49.740\nAll right, so\n\n138\n00:06:49.740 --> 00:06:53.290\nlet's take a look at how we actually\nsaw me real quick run through here.\n\n139\n00:06:53.290 --> 00:06:55.460\nLet's take a look at how\nwe can set up a rule.\n\n140\n00:06:55.460 --> 00:06:57.830\nAlso how do we enable a rule, right?\n\n141\n00:06:57.830 --> 00:07:01.520\nFor instance, let's take a look at\nthe branch cache content retrieval, right?\n\n142\n00:07:01.520 --> 00:07:04.940\nSo if I highlight this,\ncan we go full screen because down below\n\n143\n00:07:04.940 --> 00:07:08.590\non the right there under actions is where\nyou wannao be able to look right here.\n\n144\n00:07:10.100 --> 00:07:12.108\nActually I probably could\nhave just done that, and\n\n145\n00:07:12.108 --> 00:07:13.701\nthat would have worked as well, right?\n\n146\n00:07:13.701 --> 00:07:14.970\n[LAUGH] So either way, right?\n\n147\n00:07:14.970 --> 00:07:18.670\nSo you can see, I wanna enable a rule that\nis currently disabled, highlight the rule.\n\n148\n00:07:18.670 --> 00:07:20.420\nI can enable it right over here.\n\n149\n00:07:20.420 --> 00:07:23.390\nI can cut the rule,\ncopy it, I can delete it.\n\n150\n00:07:23.390 --> 00:07:25.910\nProperties, of course,\nI can go look at the rules.\n\n151\n00:07:25.910 --> 00:07:26.685\nYou will see here.\n\n152\n00:07:26.685 --> 00:07:30.380\nAnd you'll see pre-defined\nrule cannot be modified.\n\n153\n00:07:30.380 --> 00:07:32.702\nWe can read, in other words,\nlook at, right, but\n\n154\n00:07:32.702 --> 00:07:35.260\nwe cannot actually modify\nthe pre-defined rules.\n\n155\n00:07:35.260 --> 00:07:37.080\nWe can turn them on and turn them off.\n\n156\n00:07:37.080 --> 00:07:39.860\nBut that's not the same thing as\ngoing in and enabling or disabling\n\n157\n00:07:39.860 --> 00:07:44.000\na certain activity or feature within\nthe rule, rather just the rule overall.\n\n158\n00:07:44.000 --> 00:07:48.511\nSo we can see what's going on in here and,\nobviously, see all the associated entries\n\n159\n00:07:48.511 --> 00:07:51.343\nfor the various columns that\nmake up the actual rule.\n\n160\n00:07:51.343 --> 00:07:54.651\nAnd so if I want to enable that rule,\njust highlight it, turn it on, and\n\n161\n00:07:54.651 --> 00:07:56.150\nnow you can see it is is enabled.\n\n162\n00:07:56.150 --> 00:07:59.342\nIf I want to disable that rule,\njust highlight it And disable it.\n\n163\n00:07:59.342 --> 00:08:03.089\nAnd you can see it immediately\nis turned on or off as we go.\n\n164\n00:08:03.089 --> 00:08:08.060\nAnd by the way, if it's a built in rule,\nare you sure want to delete these rules?\n\n165\n00:08:08.060 --> 00:08:10.790\nIf you click yes,\nwe can then get rid of those rules.\n\n166\n00:08:10.790 --> 00:08:13.940\nWe're not gonna do that, but\nof course we could see that there.\n\n167\n00:08:13.940 --> 00:08:15.870\nAll right, so\nwe do have the ability to work with that.\n\n168\n00:08:15.870 --> 00:08:19.250\nIf we want to create a brand new rule,\nlet's go take a look.\n\n169\n00:08:19.250 --> 00:08:20.290\nWe can do that as well.\n\n170\n00:08:20.290 --> 00:08:24.011\nI think I ran through and showed you just\nvery quickly how to do an inbound rule.\n\n171\n00:08:24.011 --> 00:08:25.543\nBut I didn't really stop and\ntalk about it.\n\n172\n00:08:25.543 --> 00:08:29.240\nSo it's probably a good idea for\nus to just go through and to take a look.\n\n173\n00:08:29.240 --> 00:08:31.005\nNow we have a wizard here.\n\n174\n00:08:31.005 --> 00:08:32.090\nAnd we have some options, right.\n\n175\n00:08:32.090 --> 00:08:33.383\nWhen we create the rule,\n\n176\n00:08:33.383 --> 00:08:36.410\nare we gonna create the rule\nthat will deal with programs?\n\n177\n00:08:36.410 --> 00:08:40.190\nRules that contain or control\nconnections for a specific program.\n\n178\n00:08:40.190 --> 00:08:42.740\nThat was the default one that I\njust quickly clicked through.\n\n179\n00:08:42.740 --> 00:08:47.900\nA port, so some sort of connection for\na TCP or UDP based port.\n\n180\n00:08:47.900 --> 00:08:52.120\nA pre-defined rule, meaning use\none of these pre-defined rules,\n\n181\n00:08:52.120 --> 00:08:55.670\nactive directory domain,\nbranch cache, whatever.\n\n182\n00:08:55.670 --> 00:08:58.490\nYou'll use those essential\nbuilt-in rules as templates\n\n183\n00:08:58.490 --> 00:09:00.460\nto start the configuration from.\n\n184\n00:09:00.460 --> 00:09:03.280\nAnd modify, if I wanna modify\none of those built-in rules,\n\n185\n00:09:03.280 --> 00:09:05.060\nthe way I do that is use it as a template.\n\n186\n00:09:05.060 --> 00:09:08.180\nAnd then I build the additional\nmodifications in as I go\n\n187\n00:09:08.180 --> 00:09:09.370\nthrough here, right?\n\n188\n00:09:09.370 --> 00:09:13.680\nSo maybe DNS service or\nsomething like that, right.\n\n189\n00:09:13.680 --> 00:09:18.630\nAnd then you can see I can go in and\nspecify which rules RPC,\n\n190\n00:09:18.630 --> 00:09:23.470\nDNS, incoming, outgoing, TCP,\nUDP, whatever the case may be.\n\n191\n00:09:23.470 --> 00:09:28.850\nAlready exists, RPCN point mapper,\nwhatever the case may be.\n\n192\n00:09:28.850 --> 00:09:30.850\nAnd then I specify the action.\n\n193\n00:09:30.850 --> 00:09:33.500\nSo I can make some changes based on that.\n\n194\n00:09:33.500 --> 00:09:36.230\nBut I would have to obviously\ndecide what I want to do.\n\n195\n00:09:36.230 --> 00:09:41.780\nIf I wanna go through, do a custom rule,\nI can essentially open up every item,\n\n196\n00:09:41.780 --> 00:09:44.080\nevery column or entry,\nright, in that wizard.\n\n197\n00:09:44.080 --> 00:09:46.970\nAnd I can go through and\njust really start with a blank slate and\n\n198\n00:09:46.970 --> 00:09:49.320\njust specify anything and\neverything that I want.\n\n199\n00:09:49.320 --> 00:09:52.720\nAnd so if I do custom, I specify is it for\n\n200\n00:09:52.720 --> 00:09:56.760\nall programs, as you saw, a specific\nprogram, maybe I just want a rule.\n\n201\n00:09:56.760 --> 00:10:01.970\nDealing specifically with Apple's updater,\nright?\n\n202\n00:10:01.970 --> 00:10:04.740\nOr Adobe Acrobat's updater, or\nsomething like that to allow or\n\n203\n00:10:04.740 --> 00:10:06.390\nblock that kind of traffic.\n\n204\n00:10:06.390 --> 00:10:09.540\nOr Notepad, or I don't know,\nwhatever it is.\n\n205\n00:10:09.540 --> 00:10:12.270\nSo I may just put in a specific path for\na program.\n\n206\n00:10:12.270 --> 00:10:15.350\nIt's gotta obviously be an executable,\nI have to know the path, so\n\n207\n00:10:15.350 --> 00:10:17.200\nI'd have to go through, drill in here.\n\n208\n00:10:17.200 --> 00:10:19.900\nGo find an executable of some kind.\n\n209\n00:10:19.900 --> 00:10:21.530\nWhatever it may be.\n\n210\n00:10:21.530 --> 00:10:24.910\nSo if I drill in here, and I go down.\n\n211\n00:10:24.910 --> 00:10:31.060\nAnd I want to get something like\nNotepad or HelpPane or RegEdit.\n\n212\n00:10:31.060 --> 00:10:32.680\nOr whatever it may be.\n\n213\n00:10:32.680 --> 00:10:35.910\nMay be the Print Spooler,\nright, the 64 bit Print Spooler.\n\n214\n00:10:35.910 --> 00:10:41.100\nSo I could grab that, I could then\ncustomize which services may be applied.\n\n215\n00:10:41.100 --> 00:10:45.327\nI apply this to all programs and\nservices, only services,\n\n216\n00:10:45.327 --> 00:10:48.230\nonly a certain service, choose one.\n\n217\n00:10:48.230 --> 00:10:52.628\nOr apply to a service with this short\nname, I can use like an alias essentially,\n\n218\n00:10:52.628 --> 00:10:53.720\ncall the service.\n\n219\n00:10:53.720 --> 00:10:55.970\nSo we may choose and say, you know what,\n\n220\n00:10:55.970 --> 00:11:00.270\nI want to apply this rule to\nthe Print Spooler, right?\n\n221\n00:11:00.270 --> 00:11:05.170\nSo I may go down and look for something.\n\n222\n00:11:05.170 --> 00:11:07.370\nNo, that's port sharing.\n\n223\n00:11:09.370 --> 00:11:11.565\nDown here, there it is right there,\nthe Print Spooler.\n\n224\n00:11:11.565 --> 00:11:14.498\nThankfully I'm not going to\nbe printing during this demo.\n\n225\n00:11:14.498 --> 00:11:15.875\n&gt;&gt; [LAUGH]\n&gt;&gt; Otherwise, I may be screwing things up\n\n226\n00:11:15.875 --> 00:11:16.935\nroyally here right?\n\n227\n00:11:16.935 --> 00:11:18.915\nSo, I could go in and\ndo something like that.\n\n228\n00:11:18.915 --> 00:11:20.605\nWhatever it may be.\n\n229\n00:11:20.605 --> 00:11:22.485\nClick next.\n\n230\n00:11:22.485 --> 00:11:24.820\nThen, if I'm doing a specific protocol.\n\n231\n00:11:24.820 --> 00:11:25.770\nMaybe I wanna do that.\n\n232\n00:11:25.770 --> 00:11:28.370\nEither custom,\nI can put in the protocol number.\n\n233\n00:11:28.370 --> 00:11:31.870\nYou may or may not know, protocols\nhave numbers, numerical identifiers.\n\n234\n00:11:31.870 --> 00:11:36.550\nYou could find that information at\nsome of the sites, we've talked about\n\n235\n00:11:36.550 --> 00:11:40.560\nthe Iona site for instance iona.org\nwould list, authoritatively the protocol\n\n236\n00:11:40.560 --> 00:11:44.360\nnumbers associated with certain protocols\nbased on their RFC's, things like that.\n\n237\n00:11:44.360 --> 00:11:48.403\nBut, you can see a list,\na pretty robust list of common protocols.\n\n238\n00:11:48.403 --> 00:11:53.983\nGeneric routing encapsulation,\nICMP, both v4, v6.\n\n239\n00:11:53.983 --> 00:11:59.660\nTCP, UDP, IGMP for gateway management.\n\n240\n00:11:59.660 --> 00:12:01.330\nJust all sorts of stuff.\n\n241\n00:12:01.330 --> 00:12:08.170\nHopopt, H-O-P-O-P-T, Hopopt,\nHopopt, I don't know Hopopt.\n\n242\n00:12:08.170 --> 00:12:09.820\nI guess it's a hop protocol of some kind.\n\n243\n00:12:09.820 --> 00:12:12.214\nBut if you choose custom, there's always\nsomething new that you'll learn every time\n\n244\n00:12:12.214 --> 00:12:12.949\nyou go look at this stuff.\n\n245\n00:12:12.949 --> 00:12:13.468\n&gt;&gt; [LAUGH].\n\n246\n00:12:13.468 --> 00:12:15.371\n&gt;&gt; All right so\nyou could see protocol number,\n\n247\n00:12:15.371 --> 00:12:17.125\nI would choose a numerical identifier.\n\n248\n00:12:17.125 --> 00:12:21.470\nRight, So I can go in and\nI could say protocol number 7, right?\n\n249\n00:12:21.470 --> 00:12:23.190\nOr whatever that may be.\n\n250\n00:12:23.190 --> 00:12:28.500\nAnd I can then, if I choose,\nsomething like this,\n\n251\n00:12:28.500 --> 00:12:32.060\nI may be able to go in and\nI may be able to specify certain ports.\n\n252\n00:12:32.060 --> 00:12:35.320\nOr I can customize settings for\nthe protocol down below here.\n\n253\n00:12:35.320 --> 00:12:37.290\nYou'll see I've chosen ICMP.\n\n254\n00:12:37.290 --> 00:12:40.797\nSo for specifics, I can go in and\ncustomize and then.\n\n255\n00:12:40.797 --> 00:12:42.479\nYou know, ICMP has a bunch of types or\n\n256\n00:12:42.479 --> 00:12:45.750\nflags associated with it that allow\nme to specify what kind of traffic.\n\n257\n00:12:45.750 --> 00:12:47.720\nPeople say ICMP, that's ping.\n\n258\n00:12:47.720 --> 00:12:49.750\nWell yea, it's ping, but there's a lot\nof other stuff that goes with that.\n\n259\n00:12:49.750 --> 00:12:53.810\nIt's actually like a very small sliver\nof the larger scale that ICMP is\n\n260\n00:12:53.810 --> 00:12:54.758\ninvolved with.\n\n261\n00:12:54.758 --> 00:12:57.820\nSo as a result, you can see there's\nthings like router advertisement,\n\n262\n00:12:57.820 --> 00:13:02.470\naddress request, time stamp request,\nall sorts of stuff that ICMP uses or\n\n263\n00:13:02.470 --> 00:13:04.090\ncreates as part of the traffic flow.\n\n264\n00:13:04.090 --> 00:13:07.140\nSo I may just want to deal with\necho requests, which is ping.\n\n265\n00:13:07.140 --> 00:13:09.610\nBut I may do other stuff, it's up to me.\n\n266\n00:13:09.610 --> 00:13:12.720\nSo if I do pack it too big and\necho request,\n\n267\n00:13:12.720 --> 00:13:17.499\nthen I can specify those and click okay,\nand just customize that protocol.\n\n268\n00:13:18.860 --> 00:13:22.820\nAnd then the scope, I have to\nspecify whether I'm gonna apply or\n\n269\n00:13:22.820 --> 00:13:24.020\nallow this to apply.\n\n270\n00:13:25.070 --> 00:13:27.530\nAs you could see there,\nlocal IP addresses, remote IPs,\n\n271\n00:13:27.530 --> 00:13:32.640\nso where I'm starting from and who's\ncommunicating with me from a remote area.\n\n272\n00:13:32.640 --> 00:13:35.030\nAny IP address, so essentially cover all.\n\n273\n00:13:35.030 --> 00:13:36.800\nOr any IP addresses locally, or any and\n\n274\n00:13:36.800 --> 00:13:39.530\nall all IP addresses remotely\nwhich is the default.\n\n275\n00:13:39.530 --> 00:13:42.980\nOr, I can create a custom\nlist where I just go and\n\n276\n00:13:42.980 --> 00:13:47.150\nadd, as you can see, an IP address or\na subnet, or a range.\n\n277\n00:13:47.150 --> 00:13:49.720\nSo I do have a lot of options here\ndepending on what I want to do.\n\n278\n00:13:49.720 --> 00:13:54.940\nAnd notice by the way, we do support\nboth IPB4 and IPB6 in our notation.\n\n279\n00:13:54.940 --> 00:13:59.580\nAlthough the rule was set up for\nthe ICMP v4 version of the protocol.\n\n280\n00:13:59.580 --> 00:14:01.930\nSo you'll wanna just keep that in mind,\nright?\n\n281\n00:14:01.930 --> 00:14:05.070\nBut that doesn't mean that an IPv6\naddress would be inappropriate.\n\n282\n00:14:05.070 --> 00:14:08.460\nIt's just that you're not using\nthe version six support of that protocol.\n\n283\n00:14:08.460 --> 00:14:10.250\nYou're using an older\nversion of that protocol.\n\n284\n00:14:10.250 --> 00:14:15.525\nBut all modern operating systems on\nthe Windows side, on the Linux side,\n\n285\n00:14:15.525 --> 00:14:16.365\non the MAC.\n\n286\n00:14:16.365 --> 00:14:21.295\nI believe if I'm not mistaken as well,\ndo now natively have IPv6 addresses\n\n287\n00:14:21.295 --> 00:14:25.605\nassigned to them even though we may\nnot use IPv6 fully in our stack.\n\n288\n00:14:25.605 --> 00:14:30.064\nMinimum we have our loopback adaptor\naddress, we have our local address,\n\n289\n00:14:30.064 --> 00:14:31.565\ntranslated to an IPv6.\n\n290\n00:14:31.565 --> 00:14:32.976\nUsually have a Teredo tunnel or\n\n291\n00:14:32.976 --> 00:14:36.130\nsomething like that as an adaptor\nas well more often than not.\n\n292\n00:14:36.130 --> 00:14:40.665\nAnd you probably will have an based\naddress, usually an IPv4 and\n\n293\n00:14:40.665 --> 00:14:42.430\nIPv6 on the Windows stack.\n\n294\n00:14:42.430 --> 00:14:46.220\nSo you're going to see IPv6 addresses,\nif you do an IP config all,\n\n295\n00:14:46.220 --> 00:14:48.280\nyou're going to see them,\neven if you're not using them.\n\n296\n00:14:48.280 --> 00:14:52.920\nSo it may not be unreasonable,\nor even unrealistic to see and\n\n297\n00:14:52.920 --> 00:14:54.390\nput IPv6 addresses in.\n\n298\n00:14:54.390 --> 00:14:57.030\nSo it's good to know that you\nhave that capability here.\n\n299\n00:14:57.030 --> 00:14:58.770\nSo just wanna make sure you see that.\n\n300\n00:14:58.770 --> 00:15:00.300\nSame idea for top and bottom.\n\n301\n00:15:00.300 --> 00:15:02.760\nI'm not gonna type in addresses,\nyou get the general idea.\n\n302\n00:15:02.760 --> 00:15:05.810\nWe would have obviously create an allow or\ndeny here.\n\n303\n00:15:05.810 --> 00:15:09.670\nAnd then are we gonna allow\nthe connection, allow it if it is secure.\n\n304\n00:15:09.670 --> 00:15:13.390\nSo meaning allow the connection\nwhether we use IPSETor not.\n\n305\n00:15:13.390 --> 00:15:16.690\nSecure on a firewall equals\nthe use of IPSET, right.\n\n306\n00:15:16.690 --> 00:15:20.151\nSo we just want to make sure that if we're\nthinking in our minds, hey if we're gonna\n\n307\n00:15:20.151 --> 00:15:24.920\ndo encrypted communications that secure\ncapability equals the deployment and\n\n308\n00:15:24.920 --> 00:15:26.120\nuse of IPSET.\n\n309\n00:15:26.120 --> 00:15:30.180\nPolicy driven, we'll talk about how to\ndo that, in some upcoming conversations.\n\n310\n00:15:30.180 --> 00:15:32.940\nAllow the connection essentially,\nif it is or is not secure.\n\n311\n00:15:32.940 --> 00:15:35.730\nAllow only if secure, customize, and\n\n312\n00:15:35.730 --> 00:15:40.970\nthen allow if it is authenticated and\nintegrity protected.\n\n313\n00:15:40.970 --> 00:15:44.060\nSo we obviously would have to think\nabout how we're deploying IPSET.\n\n314\n00:15:44.060 --> 00:15:46.064\nRequire connections to be encrypted.\n\n315\n00:15:46.064 --> 00:15:49.713\nSo if we are doing ESP\nencapsulating security payload,\n\n316\n00:15:49.713 --> 00:15:55.081\nthat is our encryption capability there\nfor doing authentication headers.\n\n317\n00:15:55.081 --> 00:15:58.773\nThat would be our authentication and\nintegrity protected.\n\n318\n00:15:58.773 --> 00:16:03.446\nAlthough that may include the use of ESP,\nmay include the use of authentication and\n\n319\n00:16:03.446 --> 00:16:04.190\nintegrity.\n\n320\n00:16:04.190 --> 00:16:05.750\nBut traditionally, we break them down and\n\n321\n00:16:05.750 --> 00:16:10.020\nsay, Is really the authentication,\nthe integrity component.\n\n322\n00:16:10.020 --> 00:16:13.320\nESP, encapsulating security payload,\nis our encryption component or\n\n323\n00:16:13.320 --> 00:16:14.840\nconfidentiality component.\n\n324\n00:16:14.840 --> 00:16:16.360\nThat's how we set IPsec up.\n\n325\n00:16:17.730 --> 00:16:20.090\nAnd then we can override a block rule.\n\n326\n00:16:20.090 --> 00:16:22.940\nRight, so we ability to essentially\nsay this rule trumps the block.\n\n327\n00:16:22.940 --> 00:16:25.880\nAllow this traffic if it meets\nthis profile specifically, so\n\n328\n00:16:25.880 --> 00:16:27.420\nwe can do this as well.\n\n329\n00:16:27.420 --> 00:16:29.910\nSo we have a lot of different\noptions in here, right?\n\n330\n00:16:29.910 --> 00:16:31.780\nOr we just block the connection,\nwhat do we wanna do?\n\n331\n00:16:31.780 --> 00:16:35.080\nSo we'll just allow all,\ncuz we're not deploying IPsec.\n\n332\n00:16:35.080 --> 00:16:37.220\nBy the way see if we do allow a secure,\n\n333\n00:16:37.220 --> 00:16:39.610\nnotice we get some\nadditional stuff down here.\n\n334\n00:16:39.610 --> 00:16:44.890\nThat becomes part of this as opposed\nto allow where we get rid of user and\n\n335\n00:16:44.890 --> 00:16:45.840\ncomputer.\n\n336\n00:16:45.840 --> 00:16:49.210\nNotice where I go here and\nI click profile stays,\n\n337\n00:16:49.210 --> 00:16:51.790\nname stays but users and computers, right?\n\n338\n00:16:52.890 --> 00:16:57.010\nAre now there and I have to specify\nauthorized users to connect from\n\n339\n00:16:57.010 --> 00:17:00.810\nexceptions and computers as well, right.\n\n340\n00:17:00.810 --> 00:17:01.710\nSo I can do that.\n\n341\n00:17:03.300 --> 00:17:06.300\nWhat protection profile or\nprofiles will this rule apply to?\n\n342\n00:17:06.300 --> 00:17:09.000\nWe see our three, domain, private, public.\n\n343\n00:17:09.000 --> 00:17:10.710\nCheck one or all three off.\n\n344\n00:17:10.710 --> 00:17:14.020\nNotice all three are selected by default,\nbut check off the box to enable.\n\n345\n00:17:14.020 --> 00:17:16.540\nOr apply this to that\nprotection profile and\n\n346\n00:17:16.540 --> 00:17:21.460\nthen finally,\nwe have to give our rule in it, right?\n\n347\n00:17:21.460 --> 00:17:23.234\nSo we'll call this the Mike rule.\n\n348\n00:17:23.234 --> 00:17:24.580\n&gt;&gt; All right.\n\n349\n00:17:24.580 --> 00:17:29.470\nAnd I tell you, going through the custom\nand getting to see every single\n\n350\n00:17:29.470 --> 00:17:33.455\noption that you have with a firewall rule,\nvery cool, great learning process.\n\n351\n00:17:33.455 --> 00:17:36.940\nAnd it's really nice that we can create\nthose customer rules that also makes you\n\n352\n00:17:36.940 --> 00:17:40.072\nappreciate those prebuilt rules\nwhen you can use them too.\n\n353\n00:17:40.072 --> 00:17:42.590\n&gt;&gt; [LAUGH].\n&gt;&gt; I think like if I'm enabling branch\n\n354\n00:17:42.590 --> 00:17:46.640\ncache, I can grab one of those prebuilt\nrules and not have to sit there and\n\n355\n00:17:46.640 --> 00:17:51.270\nthink about what I need to allow,\nwhat parts, things like that.\n\n356\n00:17:51.270 --> 00:17:52.450\nIt's a great little wizard.\n\n357\n00:17:52.450 --> 00:17:54.615\n&gt;&gt; All right, so\nwe do have our Mike rule there.\n\n358\n00:17:54.615 --> 00:17:55.330\n&gt;&gt; Mm-hm.\n&gt;&gt; And you'll\n\n359\n00:17:55.330 --> 00:17:59.610\nnotice that when we create a manual rule,\nthat we create ourselves.\n\n360\n00:17:59.610 --> 00:18:02.570\nThat it does have a little headlock there,\n\n361\n00:18:02.570 --> 00:18:08.350\nas opposed to just our no icon or\na green icon, or whatever it may be.\n\n362\n00:18:08.350 --> 00:18:13.130\nIt is enabled, by the way, as you can see,\nbut the icon looks a little different.\n\n363\n00:18:13.130 --> 00:18:17.200\nAnd you'll notice when I go to\nproperties that I can modify the rule.\n\n364\n00:18:17.200 --> 00:18:20.042\nUnlike the built in ones, where it\nsaid hey, sorry, but you can look but\n\n365\n00:18:20.042 --> 00:18:21.860\nyou can't essentially make changes.\n\n366\n00:18:21.860 --> 00:18:26.300\nThis one we can go in and go back and\nchange whatever it is we wanna change.\n\n367\n00:18:26.300 --> 00:18:28.840\nSee all the different things that\nare associated with it here,\n\n368\n00:18:28.840 --> 00:18:30.440\njust all the options we made, right?\n\n369\n00:18:30.440 --> 00:18:34.830\nAll right, so we can see and\ntell what's going on with that.\n\n370\n00:18:34.830 --> 00:18:36.940\nSame thing for the outbound rule,\nso will be done the same way.\n\n371\n00:18:36.940 --> 00:18:37.720\nThere's no difference,\n\n372\n00:18:37.720 --> 00:18:40.800\njust a matter of what direction\nthe rule is going to apply to.\n\n373\n00:18:40.800 --> 00:18:43.830\nWe do have filtering capabilities,\nby the way, over here so\n\n374\n00:18:43.830 --> 00:18:48.020\nwe could filter the rules sets want to\nfilter by one or more of those options.\n\n375\n00:18:48.020 --> 00:18:51.100\nAnd then for connection security rules,\nlet's go through and take a look.\n\n376\n00:18:51.100 --> 00:18:54.530\nThis is a little bit different,\nthis is a different category of rules.\n\n377\n00:18:54.530 --> 00:18:59.640\nSo let's go in, create new rule,\nlet's look at our wizard here.\n\n378\n00:18:59.640 --> 00:19:01.930\nAnd you'll notice that\nour connection type, or\n\n379\n00:19:01.930 --> 00:19:05.420\nthe type of connection security rule\noptions are a little bit different.\n\n380\n00:19:05.420 --> 00:19:08.460\nThe custom is still there, so\nyou have the ability to go through custom.\n\n381\n00:19:08.460 --> 00:19:13.480\nBut notice isolation, authentication\nexemption, service center, or tunnel.\n\n382\n00:19:13.480 --> 00:19:17.460\nSo, we're dealing with rules\nspecific to the setup and\n\n383\n00:19:17.460 --> 00:19:20.510\nthe connectivity in\nthe security associated with it\n\n384\n00:19:20.510 --> 00:19:24.490\nto apply things like IPsec or whatever\nthe case may be to allow for that.\n\n385\n00:19:24.490 --> 00:19:27.530\nSo, if we do isolation, restrict\nconnections based on authentication\n\n386\n00:19:27.530 --> 00:19:31.450\ncriteria, maybe health status, maybe we're\njust gonna use network policy serves.\n\n387\n00:19:31.450 --> 00:19:32.950\nSo we're implementing some of that.\n\n388\n00:19:32.950 --> 00:19:36.770\nTechnology, you may know that as NAP,\nNetwork Access Protection,\n\n389\n00:19:36.770 --> 00:19:38.740\nNAC, Network Access Control.\n\n390\n00:19:38.740 --> 00:19:41.030\nDifferent vendors call\nthat different things.\n\n391\n00:19:41.030 --> 00:19:43.700\nMicrosoft has the health\npolicy servers and\n\n392\n00:19:43.700 --> 00:19:45.820\nthe ability to be able to\ndo that whole solution.\n\n393\n00:19:45.820 --> 00:19:48.600\nI actually went through\nall that technology.\n\n394\n00:19:48.600 --> 00:19:53.630\nTalked about it with you, with Cherokee\nin the Server 2016 Networking shows.\n\n395\n00:19:53.630 --> 00:19:56.620\nSo if your interested or haven't seen\nsome of that, you go back take a look.\n\n396\n00:19:56.620 --> 00:20:00.055\nWe did a whole set of episodes on that\ntechnology and those kinds of things and\n\n397\n00:20:00.055 --> 00:20:01.259\nhow it would work.\n\n398\n00:20:01.259 --> 00:20:04.590\nAnd there's certainly other discussions\nand other shows on other areas for\n\n399\n00:20:04.590 --> 00:20:08.194\nother versions of the Windows Operating\nSystems where you could see some of that.\n\n400\n00:20:08.194 --> 00:20:11.940\nBut for isolation things like domain\nmembership may be an attribute or\n\n401\n00:20:11.940 --> 00:20:13.026\na criteria as well.\n\n402\n00:20:13.026 --> 00:20:16.779\nYou'll see requests authentication for\nboth inbound and outbound,\n\n403\n00:20:16.779 --> 00:20:21.232\nrequest authentication for inbound, and\nrequest authentication for outbound,\n\n404\n00:20:21.232 --> 00:20:23.420\nrequire rather, versus request.\n\n405\n00:20:23.420 --> 00:20:26.420\nAnd then require authentication for\nboth as well, right?\n\n406\n00:20:26.420 --> 00:20:30.650\nSo we can just choose what we're\ndoing here, so we can do request and\n\n407\n00:20:30.650 --> 00:20:34.350\nrequire, request only,\nrequire only with different options.\n\n408\n00:20:34.350 --> 00:20:39.350\nSo if we request, we'll try to do a\nauthentication, but if we're not able to,\n\n409\n00:20:39.350 --> 00:20:41.130\nwe would still, in theory, allow it.\n\n410\n00:20:41.130 --> 00:20:42.900\nWe require it, we would drop it, right.\n\n411\n00:20:42.900 --> 00:20:45.490\nIt's just a fairly\nstraight-forward thought process.\n\n412\n00:20:45.490 --> 00:20:47.540\nWhat's the authentication method?\n\n413\n00:20:47.540 --> 00:20:51.820\nNotice we have curb rows V5 for\nboth computer and user.\n\n414\n00:20:51.820 --> 00:20:53.500\nComputer based Kerberos V5.\n\n415\n00:20:53.500 --> 00:20:56.010\nJust the computer account or advanced.\n\n416\n00:20:56.010 --> 00:21:00.240\nAnd we can do from customize here and\nadd our authentication,\n\n417\n00:21:00.240 --> 00:21:02.620\nsecond authentication methods first and\nsecond.\n\n418\n00:21:03.710 --> 00:21:08.120\nWe could specify earlier technology,\nearlier authentication mechanisms like\n\n419\n00:21:08.120 --> 00:21:11.280\ndropping down for NTLM and\nor certificate base.\n\n420\n00:21:11.280 --> 00:21:14.060\nSo if we're using our\ncertificates from our CA or\n\n421\n00:21:14.060 --> 00:21:16.420\nCertificate Authority, we could do that.\n\n422\n00:21:16.420 --> 00:21:18.010\nBe very detailed here.\n\n423\n00:21:18.010 --> 00:21:19.690\nWhat's our signing algorithm?\n\n424\n00:21:19.690 --> 00:21:21.730\nWhat is our root certificate type?\n\n425\n00:21:21.730 --> 00:21:23.560\nIs it a root or an intermediate CA?\n\n426\n00:21:23.560 --> 00:21:27.677\nIf you don't remember the PKI\nconversations that I've had with you,\n\n427\n00:21:27.677 --> 00:21:32.720\naround ADCS, After Directory Certificate\nServices, quick 30-second primer.\n\n428\n00:21:32.720 --> 00:21:36.559\nAll right, so the root CA is\nat the top of the hierarchy.\n\n429\n00:21:36.559 --> 00:21:42.200\nIt is the system that issues certificates\nonly to other CAs, doesn't traditionally.\n\n430\n00:21:42.200 --> 00:21:44.890\nIt can, but\ntraditionally does not talk to users and\n\n431\n00:21:44.890 --> 00:21:48.420\ncomputers unless you're setting\nup a single level self-signing\n\n432\n00:21:48.420 --> 00:21:51.230\nsolution in Active Directory\nkinda behind the firewall.\n\n433\n00:21:51.230 --> 00:21:53.990\nWhere you just run one certificate\nof authority, which case,\n\n434\n00:21:53.990 --> 00:21:56.300\nyour CA would talk to users and\ncomputers, right?\n\n435\n00:21:56.300 --> 00:21:59.020\nBut in traditional PKI infrastructure,\n\n436\n00:21:59.020 --> 00:22:02.880\nwe have the root CA,\neither a stand alone or enterprise.\n\n437\n00:22:02.880 --> 00:22:06.320\nThe difference is enterprise is\njoined to the LDAP directory.\n\n438\n00:22:06.320 --> 00:22:10.300\nStand alone sits outside the directory,\nbut either way we call it a root CA.\n\n439\n00:22:10.300 --> 00:22:14.030\nThe root CA issues certificates\nto other certificate authorities.\n\n440\n00:22:14.030 --> 00:22:17.720\nWe call those other certificate\nauthorities in the hierarchy\n\n441\n00:22:17.720 --> 00:22:21.630\nbelow the root CA either intermediate or\nsubordinate CAs.\n\n442\n00:22:21.630 --> 00:22:25.060\nJust depending on who's documentation you\nread and whether you have a two stage, or\n\n443\n00:22:25.060 --> 00:22:28.480\nthree stage or multi-stage,\nmulti-level hierarchy.\n\n444\n00:22:28.480 --> 00:22:30.580\nReally just depends on\nhow you set the PKI up.\n\n445\n00:22:30.580 --> 00:22:34.910\nBut an intermediate or a subordinate\nCA would be a CA below the root\n\n446\n00:22:34.910 --> 00:22:39.160\nthat has been issued its certificate,\nits ability to be able to be trusted.\n\n447\n00:22:39.160 --> 00:22:44.030\nAnd its right to issue certificates on\nbehalf of the root CA from the root CA\n\n448\n00:22:44.030 --> 00:22:45.780\nin a parent-child relationship.\n\n449\n00:22:45.780 --> 00:22:49.260\nAnd so we could see certificate stores\nmay come from either the root or\n\n450\n00:22:49.260 --> 00:22:50.490\nintermediate CAs here.\n\n451\n00:22:50.490 --> 00:22:52.400\nIt's a question of who does the issuing,\nso\n\n452\n00:22:52.400 --> 00:22:54.230\nit's just a question of\nwhat we would choose.\n\n453\n00:22:54.230 --> 00:22:56.620\nChoose your certificates here, and\n\n454\n00:22:56.620 --> 00:22:59.260\nthen we can specify health\ncertificates certificates.\n\n455\n00:22:59.260 --> 00:23:03.050\nWe can do certificates to account mapping,\nso we can map certificates to users or\n\n456\n00:23:03.050 --> 00:23:04.810\ncomputers and allow them.\n\n457\n00:23:04.810 --> 00:23:09.620\nWe do a preshared key that's just fancy\nsecurity terminology for password, right?\n\n458\n00:23:09.620 --> 00:23:11.317\n&gt;&gt; [LAUGH]\n&gt;&gt; Sometimes called a perfect secret.\n\n459\n00:23:11.317 --> 00:23:12.747\nYou hear it referred to different ways.\n\n460\n00:23:12.747 --> 00:23:15.181\nIt would be nice if they just\nsaid it's a password, stupid.\n\n461\n00:23:15.181 --> 00:23:16.540\n&gt;&gt; [LAUGH]\n&gt;&gt; But they don't say that.\n\n462\n00:23:16.540 --> 00:23:20.580\nAll right, so we have all that,\nand if we go into advanced, right,\n\n463\n00:23:20.580 --> 00:23:23.500\nas if that wasn't enough\nunder certificates criteria.\n\n464\n00:23:24.620 --> 00:23:28.500\nWe could specify, as you could see here,\non the enhanced key usage and\n\n465\n00:23:28.500 --> 00:23:32.880\nexchange information for the required\nenhanced key usage statements.\n\n466\n00:23:32.880 --> 00:23:36.740\nWe could specify all sorts of additional\ninformation including certificate\n\n467\n00:23:36.740 --> 00:23:40.280\nthumbprint, which is essentially\nlike a digital signature.\n\n468\n00:23:40.280 --> 00:23:43.724\nIt's a hash value that allows\nus to specify that only this\n\n469\n00:23:43.724 --> 00:23:48.692\ncertificate with this thumbprint uniquely\nidentifying it, like a GUID or UUID.\n\n470\n00:23:48.692 --> 00:23:51.569\nWhatever you may think of\nthat's a unique variable right,\n\n471\n00:23:51.569 --> 00:23:54.111\nthat we know is subscribed\nto that particular item.\n\n472\n00:23:54.111 --> 00:23:56.461\nWe call it the thumb print,\nwith regards to certificates.\n\n473\n00:23:56.461 --> 00:23:59.840\nIf you look at a certificate, you'll\nsee every one has a unique identifier.\n\n474\n00:23:59.840 --> 00:24:01.870\nSo if we specify that and say okay,\n\n475\n00:24:01.870 --> 00:24:05.880\nthis certificate, then that thumb print\nis used to match that certificate.\n\n476\n00:24:05.880 --> 00:24:07.950\nWe only accept that certificate,\nif that's the case.\n\n477\n00:24:07.950 --> 00:24:11.460\nSo it's very possible for\nus to go, to be very or\n\n478\n00:24:11.460 --> 00:24:14.320\nincredibly prescriptive here,\nit's up to us to decide.\n\n479\n00:24:14.320 --> 00:24:17.040\nSo we would add our first\nauthentication method and\n\n480\n00:24:17.040 --> 00:24:21.530\nperhaps the secondary authentication\nmethod, may have multiple authentication\n\n481\n00:24:21.530 --> 00:24:25.870\nmethods or factors here, we could\nstack them up, so you could see that.\n\n482\n00:24:25.870 --> 00:24:30.420\nSo under Advanced we have some pretty\ndetailed solutions, we can define or use\n\n483\n00:24:30.420 --> 00:24:34.250\nthe authentication methods specified just\nthrough IPsec, if we don't wanna go in.\n\n484\n00:24:34.250 --> 00:24:37.470\nAnd be prescriptive here, and say, well,\nIPsec already kind of configures that,\n\n485\n00:24:37.470 --> 00:24:39.920\nwe'll just take the defaults and\nwe'll run with that, right?\n\n486\n00:24:39.920 --> 00:24:41.570\nSo we can do that here as well.\n\n487\n00:24:43.170 --> 00:24:47.368\nAnd then again, apply to what\nprotection profile, give it a name,\n\n488\n00:24:49.371 --> 00:24:52.850\nCall this MikeRule2,\nsince we did MikeRule1 for the other one.\n\n489\n00:24:52.850 --> 00:24:55.920\nSo we have that Well,\nwe only did one of the options in here.\n\n490\n00:24:55.920 --> 00:24:57.340\nLet's just take a look.\n\n491\n00:24:57.340 --> 00:25:01.120\nWe did our isolation, or\nexcuse me, our authenticate.\n\n492\n00:25:01.120 --> 00:25:02.090\nNo, we did isolation, right?\n\n493\n00:25:02.090 --> 00:25:03.392\nThat's the one I did, yeah.\n\n494\n00:25:03.392 --> 00:25:06.850\nSo we did isolation, but\nwe have an authentication exemption.\n\n495\n00:25:06.850 --> 00:25:08.980\nNotice things change here, right?\n\n496\n00:25:08.980 --> 00:25:12.300\nWe can go through and specify which\ncomputers are gonna be exempt from\n\n497\n00:25:12.300 --> 00:25:13.770\nthe authentication requirements.\n\n498\n00:25:13.770 --> 00:25:15.300\nVery straight forward rule.\n\n499\n00:25:15.300 --> 00:25:19.640\nWe could do server to server, authenticate\nconnections between, specify computers.\n\n500\n00:25:19.640 --> 00:25:21.190\nNotice we have to specify the end points,\n\n501\n00:25:21.190 --> 00:25:24.470\nrequirements in the authentication\nmethod when we do this.\n\n502\n00:25:24.470 --> 00:25:29.610\nWhich computers are in end point one,\nwhich one are in end point two.\n\n503\n00:25:29.610 --> 00:25:33.490\nThis is essentially the same as remote and\nlocal, we're just using different terms\n\n504\n00:25:33.490 --> 00:25:37.140\nto be able to define the groups of\ncomputers that will communicate.\n\n505\n00:25:37.140 --> 00:25:38.940\nSo we would specify.\n\n506\n00:25:38.940 --> 00:25:43.440\nThen again, request both sides\nauthenticate, request one,\n\n507\n00:25:43.440 --> 00:25:46.630\nrequire one, require both, we walked\nthrough the logic of this already.\n\n508\n00:25:46.630 --> 00:25:50.570\nWe saw the authentication method, so\nwe see or have seen what that looks like.\n\n509\n00:25:50.570 --> 00:25:54.290\nTunnel, this is for\ntunnel mode between computers.\n\n510\n00:25:54.290 --> 00:25:56.790\nSo this would be allowing us\nto set up an IPsec tunnel and\n\n511\n00:25:56.790 --> 00:26:00.160\nsecure it between two endpoints,\nendpoints being computers, right?\n\n512\n00:26:00.160 --> 00:26:01.766\nSo you could see the tunnel type.\n\n513\n00:26:01.766 --> 00:26:05.379\nWe would specify here custom\nconfiguration, client to gateway,\n\n514\n00:26:05.379 --> 00:26:06.730\ngateway to client.\n\n515\n00:26:06.730 --> 00:26:08.920\nSo are we doing a gateway which is router.\n\n516\n00:26:08.920 --> 00:26:12.663\nGateway is just routing speaker or\nnetworking speak for\n\n517\n00:26:12.663 --> 00:26:17.560\nour gateway device or some sort of device\nthat's gonna sit between the outside and\n\n518\n00:26:17.560 --> 00:26:19.930\ninside world traditionally our router.\n\n519\n00:26:19.930 --> 00:26:23.500\nSo we would specify from router to client,\nclient to router, or\n\n520\n00:26:23.500 --> 00:26:25.950\na custom configuration,\nhow we wanna do that.\n\n521\n00:26:25.950 --> 00:26:27.690\nAnd then we would walk through.\n\n522\n00:26:27.690 --> 00:26:32.350\nAnd are we gonna exempt IPsec, protect and\nconnections from this tunnel, yes or no?\n\n523\n00:26:32.350 --> 00:26:36.720\nWe could send all traffic that matches\nthe connection, if it matches the rule,\n\n524\n00:26:36.720 --> 00:26:37.300\nthrough the tunnel.\n\n525\n00:26:37.300 --> 00:26:40.180\nOr exempt it and say, you can go\naround it under certain conditions.\n\n526\n00:26:40.180 --> 00:26:41.300\nIt's up to us to decide.\n\n527\n00:26:41.300 --> 00:26:42.990\nEssentially how we wanna do this.\n\n528\n00:26:42.990 --> 00:26:46.620\nWe do a custom configuration,\nagain, require authentication for\n\n529\n00:26:46.620 --> 00:26:48.740\nboth, require for one.\n\n530\n00:26:48.740 --> 00:26:52.300\nFor inbound, do not establish tunnels for\noutbound or do not authenticate.\n\n531\n00:26:52.300 --> 00:26:56.230\nSlightly different options but\nwe get basically to the same place.\n\n532\n00:26:56.230 --> 00:26:58.880\nAnd then what are the tunnel end points,\nright?\n\n533\n00:26:58.880 --> 00:27:02.723\nWhat is the local tunnel end point,\nessentially what's the IPv4 and\n\n534\n00:27:02.723 --> 00:27:03.840\nthe IPv6 address?\n\n535\n00:27:03.840 --> 00:27:05.290\nAnd what's the remote tunnel end point?\n\n536\n00:27:05.290 --> 00:27:07.410\nWhat are we connecting\nto on the other side?\n\n537\n00:27:07.410 --> 00:27:11.540\nAnd then, we have to specify what\nour authentication methods will be.\n\n538\n00:27:11.540 --> 00:27:12.660\nWe've been through this all ready.\n\n539\n00:27:12.660 --> 00:27:14.513\nAnd we've seen how this would set up.\n\n540\n00:27:14.513 --> 00:27:18.097\nAnd then we're able to give that a name\nafter we apply to the profiles and\n\n541\n00:27:18.097 --> 00:27:19.480\nwe're set to go.\n\n542\n00:27:19.480 --> 00:27:22.320\nOr a customer, where we can\nessentially make all these choices.\n\n543\n00:27:22.320 --> 00:27:26.640\nAnd as you can see, we can go through and\njust choose the endpoints,\n\n544\n00:27:26.640 --> 00:27:28.220\nthe requirements, the authentication.\n\n545\n00:27:28.220 --> 00:27:31.430\nBut also protocol supports,\nas you'll see right here.\n\n546\n00:27:31.430 --> 00:27:33.630\nSo we do have a little\nbit more capability here.\n\n547\n00:27:34.760 --> 00:27:39.100\nAnd you'll see we can go in and specify\nagain our protocol list, our port numbers,\n\n548\n00:27:39.100 --> 00:27:40.030\nthings like that, right?\n\n549\n00:27:40.030 --> 00:27:43.870\nSo we can create or all of these rules and\n\n550\n00:27:43.870 --> 00:27:47.460\nthen once we have all these rules and\nwe obviously have put them in place.\n\n551\n00:27:47.460 --> 00:27:49.180\nWe're able to export them and\nkeep copies of them.\n\n552\n00:27:49.180 --> 00:27:51.090\nWe've talked about\nthe value of doing that.\n\n553\n00:27:51.090 --> 00:27:53.682\nWe then have to worry about\nhow we monitor the firewall,\n\n554\n00:27:53.682 --> 00:27:56.936\nwe're going to come back and take a look\nat that in our next episode cuz I\n\n555\n00:27:56.936 --> 00:28:00.317\nbelieve if I'm not mistaken you're\nabout to tell me we're out of time.\n\n556\n00:28:00.317 --> 00:28:01.903\n&gt;&gt; [LAUGH]\n&gt;&gt; Mike's smiling though yeah you're out\n\n557\n00:28:01.903 --> 00:28:02.670\nof time, stop talking.\n\n558\n00:28:02.670 --> 00:28:03.651\n&gt;&gt; [INAUDIBLE].\n&gt;&gt; All right, so\n\n559\n00:28:03.651 --> 00:28:06.180\nwe're gonna come back take a look\nat that in our next episode.\n\n560\n00:28:06.180 --> 00:28:09.390\nJust to give you a quick preview, we can\ngo back to the screen for just one second,\n\n561\n00:28:09.390 --> 00:28:13.620\nwe do have this monitoring error that I\nmentioned n the last couple of episodes.\n\n562\n00:28:13.620 --> 00:28:14.600\nIt's available through the GUI,\n\n563\n00:28:14.600 --> 00:28:17.100\nthrough the configuration\ninterface we're using here.\n\n564\n00:28:17.100 --> 00:28:20.385\nBut I also told you, we'll take\na look at this in our next episode,\n\n565\n00:28:20.385 --> 00:28:24.139\nthat when we go into group policy,\nyou can see I'm on my domain controller,\n\n566\n00:28:24.139 --> 00:28:28.330\nI've got the group policy opened up,\nI've created a group policy specific.\n\n567\n00:28:28.330 --> 00:28:30.370\nFor firewall configuration.\n\n568\n00:28:30.370 --> 00:28:33.300\nYou'll notice I see all the rule sets\nhere, but the monitoring piece we're gonna\n\n569\n00:28:33.300 --> 00:28:36.090\ntalk about in our next episode\nis not part of group policy.\n\n570\n00:28:36.090 --> 00:28:37.990\nI mentioned that and\nI just wanna remind you that,\n\n571\n00:28:37.990 --> 00:28:41.700\ngive you a little preview before\nwe cut away and come on back.\n\n572\n00:28:41.700 --> 00:28:44.980\nWhen we're gonna come back, talk about\nmonitoring and how we configure through\n\n573\n00:28:44.980 --> 00:28:48.360\ngroup policy, and then we should be able\nto wrap up our discussions on firewalls.\n\n574\n00:28:48.360 --> 00:28:49.620\n&gt;&gt; Fantastic stuff, Adam.\n\n575\n00:28:49.620 --> 00:28:50.470\nLooking forward to that.\n\n576\n00:28:50.470 --> 00:28:54.720\nSeeing us work with them, monitoring,\nso that we can keep track of\n\n577\n00:28:54.720 --> 00:28:57.370\nwhat we've got in place and\nwhat's going on in our firewalls.\n\n578\n00:28:57.370 --> 00:28:58.740\nSo we thank you for that.\n\n579\n00:28:58.740 --> 00:29:00.620\nHope everybody out there\nenjoyed watching this one.\n\n580\n00:29:00.620 --> 00:29:03.690\nSigning off for ITProTV,\nI've been your host Mike Rodrick.\n\n581\n00:29:03.690 --> 00:29:04.390\n&gt;&gt; I'm Adam Gordon.\n\n582\n00:29:04.390 --> 00:29:07.050\n&gt;&gt; And we'll see you next time.\n\n583\n00:29:07.050 --> 00:29:12.790\n[MUSIC]\n\n584\n00:29:12.790 --> 00:29:18.217\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "236801056"
        },
        {
          "description": "",
          "length": "2539",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-4-configure-windows-firewall_pt4-100317-PGM.00_41_59_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-4-configure-windows-firewall_pt4-100317-PGM.00_41_59_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-14-1-4-configure-windows-firewall_pt4-100317-PGM.00_41_59_17.Still001-sm.jpg",
          "title": "Configure Windows Firewall Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.160 --> 00:00:07.011\nYou're watching ITProTV,\nI'm your host, [CROSSTALK]\n\n2\n00:00:07.011 --> 00:00:08.146\n[MUSIC]\n\n3\n00:00:08.146 --> 00:00:11.644\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.644 --> 00:00:15.189\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n5\n00:00:15.189 --> 00:00:21.150\nI'm your host, Mike Rodrick, and today we\nare doing securing Windows Server 2016.\n\n6\n00:00:21.150 --> 00:00:22.160\nSpecifically in this episode,\n\n7\n00:00:22.160 --> 00:00:26.480\nwe're continuing our conversation\non configuring Windows Firewalls.\n\n8\n00:00:26.480 --> 00:00:29.524\nBack again one more time is Mr.\nAdam Gordon, welcome back, Adam.\n\n9\n00:00:29.524 --> 00:00:30.200\n&gt;&gt; Whoo!\n\n10\n00:00:30.200 --> 00:00:31.350\n&gt;&gt; [LAUGH]\n&gt;&gt; Or I should do,\n\n11\n00:00:31.350 --> 00:00:32.670\nactually what is it, four?\n\n12\n00:00:32.670 --> 00:00:34.741\n&gt;&gt; Should be one of those little poppers,\n\n13\n00:00:34.741 --> 00:00:35.912\n[CROSSTALK]\n&gt;&gt; No, the big foam hand.\n\n14\n00:00:35.912 --> 00:00:36.614\n&gt;&gt; Yeah, yeah.\n\n15\n00:00:36.614 --> 00:00:37.712\n&gt;&gt; The big foam hands,\nwe need those, right?\n\n16\n00:00:37.712 --> 00:00:40.433\nAll right, anyways, so yay,\npretend I have a big foam hand on.\n\n17\n00:00:40.433 --> 00:00:41.351\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n18\n00:00:41.351 --> 00:00:42.426\nwe're gonna continue\ntalking about firewalls.\n\n19\n00:00:42.426 --> 00:00:43.850\nGo Firewalls,\nright across the side, right?\n\n20\n00:00:43.850 --> 00:00:46.033\n&gt;&gt; [LAUGH]\n&gt;&gt; So we're gonna talk about firewalls,\n\n21\n00:00:46.033 --> 00:00:47.577\nwe left off having done all the rule sets.\n\n22\n00:00:47.577 --> 00:00:50.961\nIf you didn't see the last episode,\nwe talked about the different rule types,\n\n23\n00:00:50.961 --> 00:00:53.144\ninbound, outbound\nconnections security rules.\n\n24\n00:00:53.144 --> 00:00:56.323\nWalked through the interfaces, talked\nabout how to export lists of the rules,\n\n25\n00:00:56.323 --> 00:00:57.039\nconfigure them.\n\n26\n00:00:57.039 --> 00:01:01.484\nActually incorporated a bunch of\nthe conversations from the IPsec episodes,\n\n27\n00:01:01.484 --> 00:01:05.510\naround how to do connection security\nrules and how to set them up.\n\n28\n00:01:05.510 --> 00:01:08.700\nWe're gonna jump back in,\npick up where we left off.\n\n29\n00:01:08.700 --> 00:01:11.754\nWe still have to take a look quickly\nat the monitoring capabilities inside\n\n30\n00:01:11.754 --> 00:01:14.028\nthe GUI, the management interface for\nthe firewall.\n\n31\n00:01:14.028 --> 00:01:17.009\nWe're gonna do that, we'll flip over,\ntake a look at the group policy side,\n\n32\n00:01:17.009 --> 00:01:18.890\nmake sure we're comfortable with that.\n\n33\n00:01:18.890 --> 00:01:22.822\nAnd as if that wasn't enough,\nwe're going to preview the discussion,\n\n34\n00:01:22.822 --> 00:01:24.570\nat least talk about them again.\n\n35\n00:01:24.570 --> 00:01:27.977\nTo turn our attention to the idea of\nsoftware-defined networking a little bit,\n\n36\n00:01:27.977 --> 00:01:29.340\nand the data center firewalls.\n\n37\n00:01:29.340 --> 00:01:31.640\nSo, we'll just take a look at that,\ntalk about that also.\n\n38\n00:01:31.640 --> 00:01:34.015\nAll right, so, join me here if you will,\nwe're gonna go back in.\n\n39\n00:01:34.015 --> 00:01:37.819\nWe're in our console, here on\nthe monitoring area of the firewall.\n\n40\n00:01:37.819 --> 00:01:41.224\nAnd you can see monitoring tells us\nWindows Firewall is here to help,\n\n41\n00:01:41.224 --> 00:01:43.060\nso always good to know, right?\n\n42\n00:01:43.060 --> 00:01:44.606\nWe've got our green color,\n\n43\n00:01:44.606 --> 00:01:47.706\nindicating things hopefully\nare working the right way.\n\n44\n00:01:47.706 --> 00:01:50.794\nHappened to be on my domain profile,\nso I just opened up that profile.\n\n45\n00:01:50.794 --> 00:01:54.851\nBut we could see in the monitoring\npane that all three profiles exist,\n\n46\n00:01:54.851 --> 00:01:57.691\nit's just a matter of which\none we wanna look at.\n\n47\n00:01:57.691 --> 00:02:01.290\nWe'll see the active network or\nnetworks, if there's more than one.\n\n48\n00:02:01.290 --> 00:02:04.955\nWe'll see the firewall state here,\nwe'll see the general settings,\n\n49\n00:02:04.955 --> 00:02:06.000\nlogging settings.\n\n50\n00:02:06.000 --> 00:02:09.090\nSo a lot of the information that\nwe've looked at in Properties and\n\n51\n00:02:09.090 --> 00:02:11.870\nother areas of the firewall\nconsole kinda comes together,\n\n52\n00:02:11.870 --> 00:02:15.540\nin this little scorecard or\narea on the dashboard here.\n\n53\n00:02:15.540 --> 00:02:20.166\nWith monitoring, we can click to\nactually see the log right here, right?\n\n54\n00:02:20.166 --> 00:02:24.040\nCan go in and tell us, if we don't have an\nactive logs that haven't been doing this,\n\n55\n00:02:24.040 --> 00:02:25.750\nno traffic passing through, yeah.\n\n56\n00:02:25.750 --> 00:02:29.440\nDo you wanna see this, do you wanna create\na new one, yes or no, whatever it may be.\n\n57\n00:02:29.440 --> 00:02:32.680\nBut we could see the existing log file,\nif there was one.\n\n58\n00:02:32.680 --> 00:02:35.120\nRight now we're not logging any packets or\nanything, and\n\n59\n00:02:35.120 --> 00:02:38.775\nI'm not putting any traffic through it,\nso there's no entries in there right now.\n\n60\n00:02:38.775 --> 00:02:40.811\nBut I can view all\nthe active rules from here.\n\n61\n00:02:40.811 --> 00:02:41.745\nSo I can click, and\n\n62\n00:02:41.745 --> 00:02:45.903\nnotice it takes me right down over here to\nthe Firewall component under Monitoring.\n\n63\n00:02:45.903 --> 00:02:49.675\nAnd just shows me all the active rules,\nso I can do that easily.\n\n64\n00:02:49.675 --> 00:02:54.258\nI can go in and I can view\nActive Connection Security Rules, so\n\n65\n00:02:54.258 --> 00:02:57.795\nI can take a look at\nconnection security rules.\n\n66\n00:02:57.795 --> 00:03:01.965\nThis link will just take me to this area,\nand security associations, the SAs.\n\n67\n00:03:01.965 --> 00:03:06.389\nWhich are the one-way session agreements\nthat IPsec negotiates to be able to\n\n68\n00:03:06.389 --> 00:03:10.078\nestablish and configure\nthe connections between two parties.\n\n69\n00:03:10.078 --> 00:03:13.460\nWe don't have any of those,\ncuz we're not using IPsec rules and\n\n70\n00:03:13.460 --> 00:03:16.052\nenabling IPsec through\nthe firewall right now.\n\n71\n00:03:16.052 --> 00:03:17.815\nAlthough we've talked\nabout how to do that, and\n\n72\n00:03:17.815 --> 00:03:20.617\nset up rules that would enable that in\nour last episode, in the walkthrough.\n\n73\n00:03:20.617 --> 00:03:24.494\nBut we didn't really apply them and we're\nnot using them, but they would be there.\n\n74\n00:03:24.494 --> 00:03:29.124\nSo our connection security rules,\nour Mike Rule 2 is there,\n\n75\n00:03:29.124 --> 00:03:31.625\nas you can see the status of that.\n\n76\n00:03:31.625 --> 00:03:35.559\nAnd then any of our security associations,\neither main mode or quick mode,\n\n77\n00:03:35.559 --> 00:03:36.427\nwould be there.\n\n78\n00:03:36.427 --> 00:03:39.093\nAssuming that we had\nimplemented IPsec fully, and\n\n79\n00:03:39.093 --> 00:03:43.435\nset up all of our specific negotiation\nrequirements and establishment criteria,\n\n80\n00:03:43.435 --> 00:03:46.060\nwe'd see the security associations here.\n\n81\n00:03:46.060 --> 00:03:47.500\nSo with monitoring,\n\n82\n00:03:47.500 --> 00:03:52.260\nwe can go in and you'll see we can\nsimply just go in and view what's here.\n\n83\n00:03:52.260 --> 00:03:57.710\nWe don't have the ability to create new,\nwe're just looking at these settings and\n\n84\n00:03:57.710 --> 00:04:00.790\nessentially the status, right,\nwhen we do all the different monitoring.\n\n85\n00:04:00.790 --> 00:04:02.598\nBut we have the ability to go in and\n\n86\n00:04:02.598 --> 00:04:05.763\nto see what is happening with\nany aspect of the rule sets and\n\n87\n00:04:05.763 --> 00:04:09.587\nthe firewall connections,\nthat's what monitoring allows us to do.\n\n88\n00:04:09.587 --> 00:04:13.523\nNow I mentioned that monitoring is an area\nthat does not show up when we go in and\n\n89\n00:04:13.523 --> 00:04:15.341\nlook at the group policy settings,\n\n90\n00:04:15.341 --> 00:04:18.325\nthe configuration of the firewall\nthrough group policy.\n\n91\n00:04:18.325 --> 00:04:21.140\nAnd I previewed that in\nthe end of the last episode,\n\n92\n00:04:21.140 --> 00:04:23.835\nwent into our\nGroup Policy Management Console.\n\n93\n00:04:23.835 --> 00:04:30.485\nSo I opened up our Server Manager just to\nget here, went to Tools as we often do.\n\n94\n00:04:30.485 --> 00:04:33.842\nCame over here to group policy management,\nthe GPMC, and\n\n95\n00:04:33.842 --> 00:04:36.661\nI just clicked on that,\nthat would take me here.\n\n96\n00:04:36.661 --> 00:04:42.730\nI open the GPMC, open up the forest,\nthe domain, go to the domain in question.\n\n97\n00:04:42.730 --> 00:04:46.037\nI went ahead and created a specific\npolicy called WindowsFirewall,\n\n98\n00:04:46.037 --> 00:04:47.955\njust to demonstrate the settings.\n\n99\n00:04:47.955 --> 00:04:50.214\nYou could do this on the default\ndomain policy, it would be up to you.\n\n100\n00:04:50.214 --> 00:04:52.105\nIf you wanna create a brand new policy,\n\n101\n00:04:52.105 --> 00:04:54.521\nyou can right-click on\nany of the OU containers.\n\n102\n00:04:54.521 --> 00:04:59.180\nCreate and link right here or use an\nexisting one and modify, it's up to you.\n\n103\n00:04:59.180 --> 00:05:02.527\nSo I did that, I named it WindowsFirewall,\nlet's pretend I then did that,\n\n104\n00:05:02.527 --> 00:05:03.956\nright-clicked, chose Edit.\n\n105\n00:05:03.956 --> 00:05:07.965\nAnd as a result I would get\nthis policy right here, right?\n\n106\n00:05:07.965 --> 00:05:11.385\nUnder the policy,\nin the Computer Configuration area,\n\n107\n00:05:11.385 --> 00:05:15.770\nPolicies in the Windows Settings,\nunderneath Security Settings.\n\n108\n00:05:15.770 --> 00:05:19.049\nAbout halfway down under\nWindows Firewall with Advanced Security,\n\n109\n00:05:19.049 --> 00:05:21.997\nI will see the Windows Firewall\nwith Advanced Security item.\n\n110\n00:05:21.997 --> 00:05:25.831\nThe LDAP string is the connection string\nthat's tells me what domain I'm connected\n\n111\n00:05:25.831 --> 00:05:27.562\nto, you can see practicelabs.com.\n\n112\n00:05:27.562 --> 00:05:31.471\nAnd then you'll see I've got the same\noverview here, the Domain Profile,\n\n113\n00:05:31.471 --> 00:05:35.767\nPrivate Profile, Public Profile, I could\nsee the Windows Firewall Properties.\n\n114\n00:05:35.767 --> 00:05:38.365\nWhoops, hold on,\ndidn't mean to copy that, one second.\n\n115\n00:05:38.365 --> 00:05:40.075\nYou ever get stuck on that middle button?\n\n116\n00:05:40.075 --> 00:05:42.731\nI'm constantly clicking that\nmiddle button on the keypad here,\n\n117\n00:05:42.731 --> 00:05:43.945\ninstead of the right button.\n\n118\n00:05:43.945 --> 00:05:48.175\nBecause my old one doesn't have it,\nI only have two, right, on my older one.\n\n119\n00:05:48.175 --> 00:05:51.216\nAnd this one has that third one,\nand I'm constantly catching myself,\n\n120\n00:05:51.216 --> 00:05:53.257\nI gotta really pay attention to that.\n\n121\n00:05:53.257 --> 00:05:54.877\nSo I can go to\nthe Windows Firewall Properties,\n\n122\n00:05:54.877 --> 00:05:57.417\njust like we did in the Firewall Console,\nas you can see.\n\n123\n00:05:57.417 --> 00:06:00.677\nAnd I'm able to go in and\nI'm able to change the configuration.\n\n124\n00:06:00.677 --> 00:06:03.665\nBut notice here, unlike in\nthe console where the the properties\n\n125\n00:06:03.665 --> 00:06:05.389\nwere actually configured, right?\n\n126\n00:06:05.389 --> 00:06:06.529\nEverything was set up,\n\n127\n00:06:06.529 --> 00:06:10.183\ncuz we were looking at the actual\nlive configuration of the firewall.\n\n128\n00:06:10.183 --> 00:06:14.538\nHere we're looking at the to-be, or\nessentially the proposed configuration I\n\n129\n00:06:14.538 --> 00:06:18.007\nwould put out through group policy,\nso nothing is configured.\n\n130\n00:06:18.007 --> 00:06:22.374\nI would have to go in and set the settings\nup here for Firewall State and for\n\n131\n00:06:22.374 --> 00:06:26.601\nsettings and logging, all that stuff,\nI would do that by profile.\n\n132\n00:06:26.601 --> 00:06:30.777\nBecause you'll see none of the profile\nitems are pre-configured in the policy,\n\n133\n00:06:30.777 --> 00:06:33.576\nand none of the IPsec settings\nare configured either.\n\n134\n00:06:33.576 --> 00:06:36.612\nSo I would have a clean slate,\nI can go in and reset and\n\n135\n00:06:36.612 --> 00:06:40.565\nprovide specific guidance to how\nI want this firewall configured.\n\n136\n00:06:40.565 --> 00:06:42.085\nAnd not just this firewall, but\n\n137\n00:06:42.085 --> 00:06:44.628\nall firewalls on all systems\ntouched by this policy.\n\n138\n00:06:44.628 --> 00:06:48.212\nSince we're doing this on our OU,\nat least the way I have it set up,\n\n139\n00:06:48.212 --> 00:06:49.880\nwe would do this on an OU basis.\n\n140\n00:06:49.880 --> 00:06:53.650\nSo any machines, remember,\nfirewalls are associated with computers,\n\n141\n00:06:53.650 --> 00:06:54.698\nnot users, right?\n\n142\n00:06:54.698 --> 00:06:59.290\nUsers use firewalls to transit traffic,\nbut they're configured on computers.\n\n143\n00:06:59.290 --> 00:07:03.334\nSo we would be assigning these settings\nbased on computer configuration in\n\n144\n00:07:03.334 --> 00:07:04.755\nthe policy areas you saw.\n\n145\n00:07:04.755 --> 00:07:10.943\nAnd as a result, any computers in the APAC\nOU or whatever OU I target this policy on.\n\n146\n00:07:10.943 --> 00:07:12.866\nOr if it's the default to main policy,\n\n147\n00:07:12.866 --> 00:07:16.530\nthen it would be all machines in\nthe domain, however I want to do this.\n\n148\n00:07:16.530 --> 00:07:19.360\nRemember, both desktops and\nservers do have firewalls, right,\n\n149\n00:07:19.360 --> 00:07:21.220\nso just keep that in mind.\n\n150\n00:07:21.220 --> 00:07:25.290\nAnd as a result, I could then configure\nthe firewall, stand it up, and\n\n151\n00:07:25.290 --> 00:07:28.220\nprovide specific guidance on\nhow I want it to be configured.\n\n152\n00:07:28.220 --> 00:07:31.193\nNow if I had different needs or\nprotection requirements,\n\n153\n00:07:31.193 --> 00:07:35.088\nMike spoke unto this in a couple of\ndifferent ways over different episodes.\n\n154\n00:07:35.088 --> 00:07:39.481\nIf I have different protection needs for\ndifferent groups of machines, desktops\n\n155\n00:07:39.481 --> 00:07:44.077\nversus servers, for instance, may be one\nway of classifying or categorizing this.\n\n156\n00:07:44.077 --> 00:07:48.066\nServers in a certain region or\nconfiguration in the data center,\n\n157\n00:07:48.066 --> 00:07:50.760\nversus perhaps being outside in an office.\n\n158\n00:07:50.760 --> 00:07:52.496\nThere's all these ways to carve this up.\n\n159\n00:07:52.496 --> 00:07:56.821\nI may want to create different\nOU-based policies and assign them, and\n\n160\n00:07:56.821 --> 00:07:59.500\nconfigure the firewall in different ways.\n\n161\n00:07:59.500 --> 00:08:03.880\nBased on where I'm essentially deciding\nI want to apply these changes, and\n\n162\n00:08:03.880 --> 00:08:05.186\nhow I want them to sit.\n\n163\n00:08:05.186 --> 00:08:08.258\nSo keep in mind,\nI can modify the firewall Like I can\n\n164\n00:08:08.258 --> 00:08:12.194\nany other aspect of policy based\nadministration or management.\n\n165\n00:08:12.194 --> 00:08:14.212\nAll I'm doing is modifying the,\nultimately,\n\n166\n00:08:14.212 --> 00:08:17.400\njust modifying the registry on the system\nthat's targeted by the policy.\n\n167\n00:08:17.400 --> 00:08:18.710\nThat's really all group policy does.\n\n168\n00:08:18.710 --> 00:08:22.330\n&gt;&gt; Yeah, I love the interface they've\ngiven us here in group policy to work with\n\n169\n00:08:22.330 --> 00:08:25.250\nthe firewalls, cuz it's exactly\nlike the interface you use\n\n170\n00:08:25.250 --> 00:08:27.240\nwhen working with an individual client or\na server.\n\n171\n00:08:27.240 --> 00:08:31.220\nSo if you can create a firewall\nrule on your local machine,\n\n172\n00:08:31.220 --> 00:08:33.980\nyou can create a firewall rule using GPOs.\n\n173\n00:08:33.980 --> 00:08:37.630\n&gt;&gt; And it's actually even a little easier\nin the respect, well, I'll agree with you,\n\n174\n00:08:37.630 --> 00:08:38.180\nit's the same.\n\n175\n00:08:38.180 --> 00:08:41.600\nIt's not really easier, it's just that the\ninterface is a little cleaner because you\n\n176\n00:08:41.600 --> 00:08:45.700\ncan see that all we really have to do\nis either just go here, right-click,\n\n177\n00:08:45.700 --> 00:08:48.600\nbut we have these little shortcuts\nthat essentially just point us back.\n\n178\n00:08:48.600 --> 00:08:51.310\nAnd hey, if you wanna create\na configuration or connection security,\n\n179\n00:08:51.310 --> 00:08:55.810\nwell, just click right there and all you\nhave to do is just do a New Rule and\n\n180\n00:08:55.810 --> 00:08:57.820\nthe wizard pops up the same exact way.\n\n181\n00:08:57.820 --> 00:09:00.880\nAs you can see, it's all the same,\nso it is very easy.\n\n182\n00:09:00.880 --> 00:09:04.470\n&gt;&gt; And unlike our import and\nexport where we would end up\n\n183\n00:09:04.470 --> 00:09:08.450\nwiping all the rules by importing a new\npolicy, here, they're cumulative.\n\n184\n00:09:08.450 --> 00:09:13.650\nSo if you had some rules that apply to\nall servers, you do that at the right OU.\n\n185\n00:09:13.650 --> 00:09:17.816\nAnd then at a sub OU, maybe your DNS\nservers had a rule specific to them, you\n\n186\n00:09:17.816 --> 00:09:22.329\ncan create a firewall rule woth a policy\nlinked to that OU and those will combine.\n\n187\n00:09:22.329 --> 00:09:23.810\nThey're cumulative,\nthey're not gonna wipe.\n\n188\n00:09:23.810 --> 00:09:26.762\nSo you can really tightly\ncontrol what servers or\n\n189\n00:09:26.762 --> 00:09:29.640\nclients have what firewall rules.\n\n190\n00:09:29.640 --> 00:09:32.062\n&gt;&gt; It is,\nit is a really nice way to manage.\n\n191\n00:09:32.062 --> 00:09:33.300\nSo we do have that capabilty.\n\n192\n00:09:33.300 --> 00:09:35.820\nWe just wanted to show you the difference,\nbut again, reminding you and\n\n193\n00:09:35.820 --> 00:09:38.565\nnoticing that the monitoring\naspect is not here.\n\n194\n00:09:38.565 --> 00:09:40.510\nAnd if you think about it,\nit makes perfectly good sense.\n\n195\n00:09:40.510 --> 00:09:43.270\nWe're not setting anything up in\nmonitoring that would be policy based that\n\n196\n00:09:43.270 --> 00:09:45.710\nwe could preconfigure and\ncontrol ahead of time.\n\n197\n00:09:45.710 --> 00:09:50.100\nWe wanna see actual state and status data,\nand that comes from use of the device.\n\n198\n00:09:50.100 --> 00:09:53.190\nAnd we would monitor locally at that\nparticular firewall to see that.\n\n199\n00:09:53.190 --> 00:09:56.920\nSo policy really wouldn't have\nan aspect associated with it that would\n\n200\n00:09:56.920 --> 00:09:58.210\naddress monitoring.\n\n201\n00:09:58.210 --> 00:10:00.340\nSo it makes sense that\nwe wouldn't see it here.\n\n202\n00:10:00.340 --> 00:10:01.720\nAnd so we've talked about all that.\n\n203\n00:10:01.720 --> 00:10:04.910\nWe've talked about the ability to be able\nto use PowerShell one of our earlier\n\n204\n00:10:04.910 --> 00:10:07.950\nepisodes where we talked about\nthe network security commandlets and\n\n205\n00:10:07.950 --> 00:10:09.600\nhow we could deploy them and use them.\n\n206\n00:10:09.600 --> 00:10:13.620\nSo just be aware of the fact,\nwe have multiple options here, all right?\n\n207\n00:10:13.620 --> 00:10:17.250\nIn addition, minimize this for\njust one second.\n\n208\n00:10:17.250 --> 00:10:19.230\nMinimize this for just one second.\n\n209\n00:10:19.230 --> 00:10:20.995\nMinimize this for just one second.\n\n210\n00:10:20.995 --> 00:10:22.460\n&gt;&gt; [LAUGH]\n&gt;&gt; Minimize that.\n\n211\n00:10:22.460 --> 00:10:24.164\nI should clean up after myself\nwhen I do all these demos.\n\n212\n00:10:24.164 --> 00:10:25.200\n&gt;&gt; [LAUGH]\n&gt;&gt; So we have all these\n\n213\n00:10:25.200 --> 00:10:25.970\ndifferent options, right?\n\n214\n00:10:25.970 --> 00:10:29.470\nAnd all these different ways to\nconfigure the firewall and the manager.\n\n215\n00:10:29.470 --> 00:10:34.320\nThe most important thing to remind\nourselves of is the fact that the firewall\n\n216\n00:10:34.320 --> 00:10:37.650\nexists in every operating system\ncurrently that Microsoft supports and\n\n217\n00:10:37.650 --> 00:10:39.980\nhas in market by default, and by design.\n\n218\n00:10:39.980 --> 00:10:43.450\nThat firewall may or\nmay not be a firewall you choose to use.\n\n219\n00:10:43.450 --> 00:10:47.290\nMay or may not be a firewall that you\nchoose to configure, find the value in.\n\n220\n00:10:47.290 --> 00:10:52.410\nMany organizations regardless of size will\nhave external standalone firewall devices,\n\n221\n00:10:52.410 --> 00:10:54.760\nwhether they're hardware or\nsoftware based.\n\n222\n00:10:54.760 --> 00:10:56.820\nThings like Checkpoint firewalls,\nthey could be either hardware or\n\n223\n00:10:56.820 --> 00:10:57.598\nsoftware based.\n\n224\n00:10:57.598 --> 00:11:01.470\nCisco firewalls are traditionally\nare gonna be hardware based, right?\n\n225\n00:11:01.470 --> 00:11:03.890\nBut you can do this in a variety of ways.\n\n226\n00:11:03.890 --> 00:11:07.090\nHowever you do it, whatever the vendor is,\ndoesn't matter, whatever you choose.\n\n227\n00:11:07.090 --> 00:11:08.930\nYou have Cloud based firewalls today.\n\n228\n00:11:08.930 --> 00:11:12.260\nThird parties Azure service services\nthat are offering that capability.\n\n229\n00:11:12.260 --> 00:11:13.910\nSo many ways to go.\n\n230\n00:11:13.910 --> 00:11:16.860\nBut remember,\nthe idea of defense in depth, overlapping,\n\n231\n00:11:16.860 --> 00:11:21.050\nmutually reinforcing layers of protection\nor countermeasures or controls.\n\n232\n00:11:21.050 --> 00:11:24.020\nThese terms are interchangeable,\nthey're synonymous with one another.\n\n233\n00:11:24.020 --> 00:11:27.850\nWhen we layer more protective\nmeasures into the system,\n\n234\n00:11:27.850 --> 00:11:31.670\nwe are building complexity, we are gonna\nhave to pay more attention and\n\n235\n00:11:31.670 --> 00:11:35.110\nbe very careful to what we do and\nhow we do it to ensure continuity.\n\n236\n00:11:35.110 --> 00:11:38.710\nAs Mike pointed out in the last episode,\nif we use the export feature and\n\n237\n00:11:38.710 --> 00:11:39.610\nthe import feature for\n\n238\n00:11:39.610 --> 00:11:43.670\npolicies like I showed you, that's good\nfrom a standardization perspective, right?\n\n239\n00:11:43.670 --> 00:11:46.880\nBut it means that we have to really\npay attention to get things right.\n\n240\n00:11:46.880 --> 00:11:48.790\nAnd that helps us to do that.\n\n241\n00:11:48.790 --> 00:11:52.510\nAnd so we wanna think about the fact that\nwe can build a very secure environment,\n\n242\n00:11:52.510 --> 00:11:55.560\nbut it often leads to a slightly\nmore complex environment.\n\n243\n00:11:55.560 --> 00:11:58.700\nAnd as a result, not only do we have\nto pay attention to details, but\n\n244\n00:11:58.700 --> 00:12:01.560\nwe do have to really then make\nsure we have great documentation.\n\n245\n00:12:01.560 --> 00:12:05.720\nAnd we have to understand the ability\nof new technologies to help augment\n\n246\n00:12:05.720 --> 00:12:09.760\nour capabilities to either standardize and\nautomate, or\n\n247\n00:12:09.760 --> 00:12:14.760\nsomehow apply that logic in a scaled up,\nscaled out way across the enterprise.\n\n248\n00:12:14.760 --> 00:12:17.476\nThat's where a concept I\nmentioned in our introduction,\n\n249\n00:12:17.476 --> 00:12:20.914\nsoftware defined networking and\nby extension the use of a capability like\n\n250\n00:12:20.914 --> 00:12:23.480\nthe data center firewall may\nactually come into play.\n\n251\n00:12:23.480 --> 00:12:27.030\nSo it's a good segue for us to maybe\ntalk about that for a couple of minutes.\n\n252\n00:12:27.030 --> 00:12:29.580\nSo the idea of software\ndefined networking.\n\n253\n00:12:29.580 --> 00:12:33.930\nCommonly called SDN, Software Defined\nNetworking, is a general acronym.\n\n254\n00:12:33.930 --> 00:12:36.280\nMicrosoft did not invent this technology.\n\n255\n00:12:36.280 --> 00:12:39.300\nAgain, the logic behind it\ncomes from multiple vendors.\n\n256\n00:12:39.300 --> 00:12:43.410\nMicrosoft has actively\nparticipated in the creation and\n\n257\n00:12:43.410 --> 00:12:44.960\nover time the development of this idea.\n\n258\n00:12:44.960 --> 00:12:49.620\nHas Cisco, VMware, Amazon, Google,\ndon't want to leave anybody out,\n\n259\n00:12:49.620 --> 00:12:53.260\nall Citrix, all big technology\ncompanies far and wide, big and\n\n260\n00:12:53.260 --> 00:12:57.300\nsmall, across the planet have played\nactive parts in contributing to the idea.\n\n261\n00:12:57.300 --> 00:13:00.995\nBut generically, it's about\nremoving the human from the mix.\n\n262\n00:13:00.995 --> 00:13:02.785\nAnd what I mean by that when\nI talk to customers and\n\n263\n00:13:02.785 --> 00:13:06.185\nstudents about this is,\nit's about process automation and\n\n264\n00:13:06.185 --> 00:13:11.185\nstandardization through the use of some\nsort of typically an answer file or\n\n265\n00:13:11.185 --> 00:13:15.785\na configuration file that can\nbe applied in an abstracted way,\n\n266\n00:13:15.785 --> 00:13:20.055\nusing some sort of management interface\nfrom management software capability,\n\n267\n00:13:20.055 --> 00:13:25.200\nto be able to allow us to do repetition,\nrepetitious-like work.\n\n268\n00:13:25.200 --> 00:13:29.120\nThe configuration of a virtual\nmachine using a template and\n\n269\n00:13:29.120 --> 00:13:31.740\nthrough a cloning process\ncranking out multiple copies\n\n270\n00:13:31.740 --> 00:13:34.680\nis a good example of\na software defined activity.\n\n271\n00:13:34.680 --> 00:13:39.635\nWe can automate that process by coming\nup with some sort of answer file.\n\n272\n00:13:39.635 --> 00:13:42.840\nUnattend.txt would be the old school, old\nfashioned way of doing it in the Microsoft\n\n273\n00:13:42.840 --> 00:13:46.840\nworld on the platform years ago,\nremote install services.\n\n274\n00:13:46.840 --> 00:13:51.020\nMore commonly now referred to as WDS,\nWindows deployment services.\n\n275\n00:13:51.020 --> 00:13:54.350\nWe now use unattend.xml to do\nunattended dot installs, right,\n\n276\n00:13:54.350 --> 00:13:56.370\ninstead of unattend.txt.\n\n277\n00:13:56.370 --> 00:14:01.510\nBut the reality is, we're essentially\ncreating a set of answers in some sort of\n\n278\n00:14:01.510 --> 00:14:05.470\na file form that are gonna answer a series\nof questions about deployment activities,\n\n279\n00:14:05.470 --> 00:14:07.887\nor whatever activity we're doing,\nwhatever it may be.\n\n280\n00:14:07.887 --> 00:14:11.254\nAnd we're gonna save those, hopefully\nlock them down, change control them,\n\n281\n00:14:11.254 --> 00:14:12.410\nstandardize them.\n\n282\n00:14:12.410 --> 00:14:14.799\nAnd if we get it right in that file, and\n\n283\n00:14:14.799 --> 00:14:19.956\nthen we use scripting languages like\nPowerShell, we use automation platforms,\n\n284\n00:14:19.956 --> 00:14:25.036\nlike System Center Config Manager,\ntechnologies like Containers,\n\n285\n00:14:25.036 --> 00:14:28.720\nand Docker, and things of that nature,\nto then allow us.\n\n286\n00:14:28.720 --> 00:14:31.820\nAnd we have HyperV containers by the way,\ntalk about that in another episodes.\n\n287\n00:14:31.820 --> 00:14:34.250\nIf you don't remember that, haven't seen\nthat, I encourage you to go back and\n\n288\n00:14:34.250 --> 00:14:36.320\ntake a look in the virtualization\nsecurity area and\n\n289\n00:14:36.320 --> 00:14:40.330\nthe application security discussions we\nhad about HyperV containers in Docker.\n\n290\n00:14:40.330 --> 00:14:41.870\nPretty cool technologies, right?\n\n291\n00:14:41.870 --> 00:14:45.636\nWe do support Docker, by the way,\nfully in the Windows Server 2016 stack.\n\n292\n00:14:45.636 --> 00:14:47.438\nCan actually install and work with Docker.\n\n293\n00:14:47.438 --> 00:14:48.340\nSo, kind of interesting, right?\n\n294\n00:14:48.340 --> 00:14:49.482\nWe could do all the stuff.\n\n295\n00:14:49.482 --> 00:14:53.660\nAnd HyperV containers allow us to\ndo further isolation of virtualized\n\n296\n00:14:53.660 --> 00:14:58.380\nenvironments by running the specially\nconfigured virtual machine that creates\n\n297\n00:14:58.380 --> 00:15:02.270\nthe container environment, this memory\nbubble that we put around our information,\n\n298\n00:15:02.270 --> 00:15:04.510\nallows us to run in a more secure way.\n\n299\n00:15:04.510 --> 00:15:08.860\nThere's all these ways today that using\nthings like software defined technologies\n\n300\n00:15:08.860 --> 00:15:11.370\nwe can add an augment to security.\n\n301\n00:15:11.370 --> 00:15:15.032\nSoftware defined networking,\nthe N in SDN is just one aspect.\n\n302\n00:15:15.032 --> 00:15:16.630\nWe have software defined data centers.\n\n303\n00:15:16.630 --> 00:15:18.000\nSoftware defined firewalls.\n\n304\n00:15:18.000 --> 00:15:19.410\nSoftware defined networking.\n\n305\n00:15:19.410 --> 00:15:20.830\nSoftware defined storage.\n\n306\n00:15:20.830 --> 00:15:24.770\nUp and down and throughout the stack\nthrough the breadth, depth and width\n\n307\n00:15:24.770 --> 00:15:29.350\nof the networking Cloud and virtualization\ncapabilities we see today, we have more\n\n308\n00:15:29.350 --> 00:15:34.210\nand more the exposure of and the necessity\nto use the abilities to software define.\n\n309\n00:15:34.210 --> 00:15:38.380\nIt's actually a really interesting\ntime and opportunity matrix for\n\n310\n00:15:38.380 --> 00:15:43.230\nus to be interacting with as an IT\nprofessional, as a security professional.\n\n311\n00:15:43.230 --> 00:15:45.330\nIn this modern, we often say this,\n\n312\n00:15:45.330 --> 00:15:47.260\neverybody says they live in\ninteresting times, right?\n\n313\n00:15:47.260 --> 00:15:50.270\nBut the reality is, when you look\nat what happens with technology and\n\n314\n00:15:50.270 --> 00:15:52.290\nwhat we can do with it today,\n\n315\n00:15:52.290 --> 00:15:55.365\nnot that we haven't been able to do\na lot of this stuff in prior years.\n\n316\n00:15:55.365 --> 00:15:58.927\nWe've been able to automate for probably\n15 to 20 years in a meaningful way.\n\n317\n00:15:58.927 --> 00:16:01.523\nYou go all the way back to batch files and\ncommand files,\n\n318\n00:16:01.523 --> 00:16:05.070\nyou could create automation going almost\nas far back as operating systems.\n\n319\n00:16:05.070 --> 00:16:09.009\nBut it hasn't always been something that\nwas available to the masses, meaning\n\n320\n00:16:09.009 --> 00:16:12.887\nthe average IT professional understood\nhow to do it, was encouraged to do it,\n\n321\n00:16:12.887 --> 00:16:15.474\nand the interfaces existed\nto make it accessible for\n\n322\n00:16:15.474 --> 00:16:16.973\nthem to do it easily, right?\n\n323\n00:16:16.973 --> 00:16:21.550\nI mean, writing a batch file, today is not\nthat difficult, but back 20, 25 years ago\n\n324\n00:16:21.550 --> 00:16:25.225\nwhen you had to do this out of thin air,\nand nobody gave you any guidance,\n\n325\n00:16:25.225 --> 00:16:29.080\nit was a very daunting prospect, and\nit was not the easiest thing to do.\n\n326\n00:16:29.080 --> 00:16:29.971\nThe support, and\n\n327\n00:16:29.971 --> 00:16:34.023\nthe language, and the environments were\nnot as user friendly as they are today.\n\n328\n00:16:34.023 --> 00:16:37.080\nWe didn't have the same kind\nof capabilities exposed.\n\n329\n00:16:37.080 --> 00:16:40.048\nWMI as a language set in\nthe Windows operating system was\n\n330\n00:16:40.048 --> 00:16:43.538\nnot available in early versions of the OS,\nin the way it is today.\n\n331\n00:16:43.538 --> 00:16:46.130\nAnd CIM,\nthe Common Information Management,\n\n332\n00:16:46.130 --> 00:16:50.645\na platform that kind of WMI, but for the\nmasses outside of Microsoft represents.\n\n333\n00:16:50.645 --> 00:16:54.008\nThese things were not exposed and\navailable, it was very difficult for\n\n334\n00:16:54.008 --> 00:16:56.428\nus to do, we take for\ngranted, I think a lot today.\n\n335\n00:16:56.428 --> 00:17:00.361\nThat we could simply sit down and within\na few minutes, have some sort of script\n\n336\n00:17:00.361 --> 00:17:03.740\ncapability through PowerShell,\nor a language like PowerShell.\n\n337\n00:17:03.740 --> 00:17:07.320\nIt's not the only scripting language by\nany means, but whatever you're using, and\n\n338\n00:17:07.320 --> 00:17:08.780\ncreate this capability.\n\n339\n00:17:08.780 --> 00:17:11.898\nWe tend to just kinda gloss over this and\nsay, yeah, just write a script,\n\n340\n00:17:11.898 --> 00:17:13.051\nhere it is five or six lines.\n\n341\n00:17:13.051 --> 00:17:13.771\nBoom you're done.\n\n342\n00:17:13.771 --> 00:17:17.375\nBut to get to this point,\nif you ever wrote scripts in VBA.\n\n343\n00:17:17.375 --> 00:17:18.170\n&gt;&gt; Yeah.\n\n344\n00:17:18.170 --> 00:17:21.720\n&gt;&gt; I mean, whoa, let me tell you what,\nthat was hardcore, right?\n\n345\n00:17:21.720 --> 00:17:22.470\nIt was hard.\n\n346\n00:17:22.470 --> 00:17:26.690\nNot because it was hard, but because we\ndidn't make it easy for it to work, right?\n\n347\n00:17:26.690 --> 00:17:28.110\nYou really had to work\nat it to get it right.\n\n348\n00:17:28.110 --> 00:17:29.550\nYou were gonna say something Mike,\nI cut you off.\n\n349\n00:17:29.550 --> 00:17:31.770\n&gt;&gt; Yeah, I was just gonna\npoint out there were no blogs,\n\n350\n00:17:31.770 --> 00:17:34.410\nthings like that to go look up,\nfind other sample code.\n\n351\n00:17:34.410 --> 00:17:37.985\nThere was no ITProTV, so\nhow did anybody get anything done?\n\n352\n00:17:37.985 --> 00:17:40.699\n[LAUGH]\n&gt;&gt; Shocking that people survived and\n\n353\n00:17:40.699 --> 00:17:43.100\nthrived before the advent of ITProTV.\n\n354\n00:17:43.100 --> 00:17:44.312\n&gt;&gt; Had to throw that in there.\n\n355\n00:17:44.312 --> 00:17:46.688\n&gt;&gt; It was just the before and after.\n\n356\n00:17:46.688 --> 00:17:48.480\n&gt;&gt; Yeah.\n&gt;&gt; It's almost like now,\n\n357\n00:17:48.480 --> 00:17:49.147\nyou hear the, aah!\n\n358\n00:17:49.147 --> 00:17:50.825\n&gt;&gt; [LAUGH]\n&gt;&gt; You hear the music, and here we are.\n\n359\n00:17:50.825 --> 00:17:54.475\nAll right., so, without all the light\nshining down and all that other stuff, so\n\n360\n00:17:54.475 --> 00:17:57.965\nSDM essentially, right, the idea\nof the physical separation, right?\n\n361\n00:17:57.965 --> 00:18:01.468\nSeparating out the network control\nplain from our forwarding plain,\n\n362\n00:18:01.468 --> 00:18:05.640\nthese are terms that you often hear with\nregards the software defined networking.\n\n363\n00:18:05.640 --> 00:18:08.314\nThe control plane controls\nseveral devices, and\n\n364\n00:18:08.314 --> 00:18:10.548\nwe could do all sorts of different stuff.\n\n365\n00:18:10.548 --> 00:18:13.709\nVirtualize network connections,\nas I was talking about,\n\n366\n00:18:13.709 --> 00:18:18.387\ndefine policies that help us to manage,\nmanage virtualized network infrastructure,\n\n367\n00:18:18.387 --> 00:18:21.240\nswitches, routers,\nin this case, a firewall.\n\n368\n00:18:21.240 --> 00:18:23.100\nAll sorts of stuff can be defined.\n\n369\n00:18:23.100 --> 00:18:28.218\nMicrosoft implements this technology\nin our stack, as all vendors do today,\n\n370\n00:18:28.218 --> 00:18:33.422\nwe mentioned VMware, Citrix, all the big\nplayers in virtualization do this.\n\n371\n00:18:33.422 --> 00:18:34.870\nThis is not unusual by any means.\n\n372\n00:18:34.870 --> 00:18:38.120\nThis has actually been around since\nServer 12, believe it or not.\n\n373\n00:18:38.120 --> 00:18:44.002\nPeople don't realize that 12 support for\nit, 12, 12 R2, certainly now in Server 16.\n\n374\n00:18:44.002 --> 00:18:46.378\nHyper-V is where we see\nthe simple [INAUDIBLE].\n\n375\n00:18:46.378 --> 00:18:49.526\nSo this is a virtualization based\nthought process, and discussion.\n\n376\n00:18:49.526 --> 00:18:53.558\nBut since server 12 with Hyper-V, we've\nactually supported aspects of software\n\n377\n00:18:53.558 --> 00:18:56.110\ndefined networking in one form or another.\n\n378\n00:18:56.110 --> 00:18:59.590\nWe have now in Server 16,\nspecifically with Hyper-V,\n\n379\n00:18:59.590 --> 00:19:04.660\nthe ability to put several distinct pieces\non the table that help us move towards\n\n380\n00:19:04.660 --> 00:19:08.960\nthe ability to step up, and\nuse the data center firewall concept.\n\n381\n00:19:08.960 --> 00:19:13.130\nThe network controller,\nthe Hyper-V virtualization stack,\n\n382\n00:19:13.130 --> 00:19:16.720\nthe Hyper-V virtual switches which\nhave been there, they're all minted.\n\n383\n00:19:16.720 --> 00:19:19.940\nThey provide security,\nisolation, security level, and\n\n384\n00:19:19.940 --> 00:19:22.460\nservice level based\nenforcement of policies.\n\n385\n00:19:22.460 --> 00:19:25.868\nWe have routing remote access,\nMulti-Tenant Gateways for\n\n386\n00:19:25.868 --> 00:19:30.946\ncloud environments, so we do process, and\ninformation full isolation to Multi-Tenant\n\n387\n00:19:30.946 --> 00:19:35.686\ncloud based solutions, NIC Teaming, the\nability to be able to join NICs together,\n\n388\n00:19:35.686 --> 00:19:38.740\naggregating them so\nwe can get the value of fail over.\n\n389\n00:19:38.740 --> 00:19:41.600\nSo we can create highly available\nconnectivity environments and\n\n390\n00:19:41.600 --> 00:19:44.928\nalso aggregation of bandwidths, so\nwe guard against loss of continuity and\n\n391\n00:19:44.928 --> 00:19:46.494\nconnectivity, things like that.\n\n392\n00:19:46.494 --> 00:19:50.650\nBut the network controller provides the\nability to do the centralized management,\n\n393\n00:19:50.650 --> 00:19:54.689\nthis configuration, this monitoring,\nall the different stuff that we need to be\n\n394\n00:19:54.689 --> 00:19:57.400\nable to bring forward\nthe security gateway products.\n\n395\n00:19:57.400 --> 00:20:01.030\nAnd so the network controllers kind of\ninteresting, you install it as a role,\n\n396\n00:20:01.030 --> 00:20:03.569\nyou can actually take a look\nif you want to join me here.\n\n397\n00:20:03.569 --> 00:20:06.366\nJust give me a half a second to switch\nover to a different machine, so\n\n398\n00:20:06.366 --> 00:20:09.280\njust bare with me half a second,\nI was on my domain controller.\n\n399\n00:20:09.280 --> 00:20:13.070\nWe don't wanna mess around with that\nmachine with the network controllers, so\n\n400\n00:20:13.070 --> 00:20:15.960\nlet me just switch to\nmy other machine here.\n\n401\n00:20:15.960 --> 00:20:18.060\nNow let me just clean up and minimize, so\n\n402\n00:20:18.060 --> 00:20:21.270\nif you join me over here,\ntake a look real quick.\n\n403\n00:20:21.270 --> 00:20:22.650\nUnder Add Roles and Features,\n\n404\n00:20:22.650 --> 00:20:27.200\nI'm just on one of my domain\nmember's servers, nothing special.\n\n405\n00:20:27.200 --> 00:20:30.110\nAnd run through our Wizard,\nwe've seen this before,\n\n406\n00:20:30.110 --> 00:20:32.070\nthis is just the first couple of screens.\n\n407\n00:20:32.070 --> 00:20:34.030\nAre we doing a role based feature install?\n\n408\n00:20:34.030 --> 00:20:35.450\nAbsolutely, right?\n\n409\n00:20:35.450 --> 00:20:38.330\nAre we gonna select a server other\nthan the one we're on locally?\n\n410\n00:20:38.330 --> 00:20:41.790\nIf we have more than one,\nwe can obviously do that and manage that.\n\n411\n00:20:41.790 --> 00:20:43.577\nThen we have different options here.\n\n412\n00:20:43.577 --> 00:20:46.938\nYou'll see we have our ability, excuse me,\n\n413\n00:20:46.938 --> 00:20:50.900\nto be able to install any and\nall of our core roles.\n\n414\n00:20:50.900 --> 00:20:53.833\nYou've seen me walk though and\ndo demonstrations around certificate and\n\n415\n00:20:53.833 --> 00:20:56.777\ndomain, federation rights management,\nall sorts of different stuff.\n\n416\n00:20:56.777 --> 00:20:59.376\nUsually do a lot of this from PowerShell,\nbut we could do it using\n\n417\n00:20:59.376 --> 00:21:02.329\nthe Add-WindowsFeature feature cmdlet,\nso we could do it from there.\n\n418\n00:21:02.329 --> 00:21:04.380\nRemember, always include management tools,\nright?\n\n419\n00:21:04.380 --> 00:21:06.170\nSo important to do that as a parameter,\nbut\n\n420\n00:21:06.170 --> 00:21:07.930\nwe could do this from here as well, right?\n\n421\n00:21:07.930 --> 00:21:11.960\nWe have our Host Guardian service, this\none allows us to be able to go in, and\n\n422\n00:21:11.960 --> 00:21:16.280\nprovide virtual guard shielding for\nour running VMs, since one\n\n423\n00:21:16.280 --> 00:21:20.280\nof the things we talk about any Hyper-V\nsecurity discussions that we've had.\n\n424\n00:21:20.280 --> 00:21:23.850\nThe Network Controllers, right down here,\nyou could see it right below Hyper-V,\n\n425\n00:21:23.850 --> 00:21:26.250\nthis provides the point\nof automation needed for\n\n426\n00:21:26.250 --> 00:21:30.540\nthat continual configuration software\ndefinition that we were talking about.\n\n427\n00:21:30.540 --> 00:21:32.770\nThe diagnostics and\nmonitoring capabilities for\n\n428\n00:21:32.770 --> 00:21:35.340\nvirtual networks, physical networks,\nall that stuff is provided there.\n\n429\n00:21:36.930 --> 00:21:39.100\nSo this is just a role based\ninstall that we check off, right?\n\n430\n00:21:39.100 --> 00:21:42.275\nCan go ahead, put that in there,\nyou'll see it does bring with it,\n\n431\n00:21:42.275 --> 00:21:44.500\nthe R set tool's pretty common, right?\n\n432\n00:21:44.500 --> 00:21:48.280\n&gt;&gt; Remember, we talked about R set tools\nfor things like the ability to go in, and\n\n433\n00:21:48.280 --> 00:21:54.240\nlook at BitLocker keys, right, in\nthe active directory, ADCS or ADDS rather.\n\n434\n00:21:54.240 --> 00:21:57.330\nConfiguration, you actually gave us\nthat hint that we have to go in and\n\n435\n00:21:57.330 --> 00:21:57.840\ndrill through.\n\n436\n00:21:57.840 --> 00:21:59.482\n&gt;&gt; Yeah.\n&gt;&gt; And make sure we find it under the R\n\n437\n00:21:59.482 --> 00:22:02.540\nset tools, because it's not\npart of the standard install.\n\n438\n00:22:02.540 --> 00:22:05.840\nWe just have to make sure it's there, it's\nnot gonna be there in other words, right?\n\n439\n00:22:05.840 --> 00:22:08.470\nMike reminded us of that fact,\nwhen we were talking about it.\n\n440\n00:22:08.470 --> 00:22:09.864\nIt's just reminding you about that.\n\n441\n00:22:09.864 --> 00:22:15.012\nSo we go through BitLocker Network Unlock,\nwe talked about that capability,\n\n442\n00:22:15.012 --> 00:22:19.620\nyou could see that's available\nhere as well as drive encryption.\n\n443\n00:22:19.620 --> 00:22:22.650\nSo we have different options that\nyou've seen us talk about here before,\n\n444\n00:22:22.650 --> 00:22:24.750\nContainers, I've mentioned\nin other episodes.\n\n445\n00:22:24.750 --> 00:22:26.900\nYou'll see the support for\nContainers is there.\n\n446\n00:22:26.900 --> 00:22:30.620\nSo we have all of that, and then when\nwe get done as we come down, right?\n\n447\n00:22:30.620 --> 00:22:32.110\nWe go ahead, we click Next.\n\n448\n00:22:33.880 --> 00:22:37.446\nNow here, Network Controller, highly\nscalelable, available server role used for\n\n449\n00:22:37.446 --> 00:22:40.428\nthe configuration, monitoring\ndiagnostics in order to add a center.\n\n450\n00:22:40.428 --> 00:22:41.354\nWe've already talked about that.\n\n451\n00:22:41.354 --> 00:22:44.210\nAbility to manage network using things,\nSCVMM,\n\n452\n00:22:44.210 --> 00:22:46.830\nSystem Center Virtual Machine Manager.\n\n453\n00:22:46.830 --> 00:22:49.427\nRemember, this is\na Hyper-V based technology.\n\n454\n00:22:49.427 --> 00:22:52.357\nWe're gonna be using this in\nour virtualization stack,\n\n455\n00:22:52.357 --> 00:22:56.751\nwhich means that aside from Hyper-V,\nlet's move this over, aside from Hyper-V,\n\n456\n00:22:56.751 --> 00:23:00.020\nwhich you see, you already have installed,\nand configured.\n\n457\n00:23:00.020 --> 00:23:03.480\nBut aside from that, I would need,\nif I'm scaling up and\n\n458\n00:23:03.480 --> 00:23:07.860\nmanaging multiple Hyper-V hosts, I would\ntypically use a product at least in\n\n459\n00:23:07.860 --> 00:23:12.730\nMicrosoft anyway, the SCVMM product,\nthe System Center Virtual Machine Manager.\n\n460\n00:23:12.730 --> 00:23:13.930\nOn the VMware platform,\n\n461\n00:23:13.930 --> 00:23:18.870\nthis would be the equivalent of using\nvCenter to manage individual ESXi hosts.\n\n462\n00:23:18.870 --> 00:23:21.682\nSo individual vSphere hosts will\nbe managed all up through one or\n\n463\n00:23:21.682 --> 00:23:24.805\nmore vCenters, in Xen, this would be\nthe equivalent of managing one or\n\n464\n00:23:24.805 --> 00:23:26.020\nmore Xen Servers, right?\n\n465\n00:23:26.020 --> 00:23:30.950\nYou have the Xen Center, one of the all\nup technologies available to us.\n\n466\n00:23:30.950 --> 00:23:33.362\nAlthough Citrix kinda getting\nout of the whole, hey,\n\n467\n00:23:33.362 --> 00:23:35.255\nwe virtualize a server business, right?\n\n468\n00:23:35.255 --> 00:23:38.729\nBut we would monitor and manage through\nthat, and they also mention here,\n\n469\n00:23:38.729 --> 00:23:42.530\nthat we may want to use a product called\nSCOM, Systems Center Ops Manager.\n\n470\n00:23:42.530 --> 00:23:47.443\nSystem Center Ops Manager, another one of\nthe products in the system center suite.\n\n471\n00:23:47.443 --> 00:23:50.837\nWe have, I think seven products overall,\nin the system center suite.\n\n472\n00:23:50.837 --> 00:23:55.531\nYou've got the office manager, the SCOM\nproduct, system center config manager,\n\n473\n00:23:55.531 --> 00:23:59.250\nthe data protection manager,\nthat's our scalable enterprise.\n\n474\n00:23:59.250 --> 00:24:02.911\nBackup product, you got SCVMM,\nSystem Center for Machine Manager.\n\n475\n00:24:02.911 --> 00:24:04.912\nYou have the SLM,\nService Level Manager Product.\n\n476\n00:24:04.912 --> 00:24:08.680\nYou have Orchestrator,\nwhich is our automation engine, and\n\n477\n00:24:08.680 --> 00:24:10.573\nwork flow management engine.\n\n478\n00:24:10.573 --> 00:24:12.663\nAnd I'm sure I'm missing one.\n\n479\n00:24:12.663 --> 00:24:13.766\nAlmost all of it.\n\n480\n00:24:13.766 --> 00:24:15.580\nThere's probably one I left out somewhere.\n\n481\n00:24:15.580 --> 00:24:18.460\nBut you've seen me, if you haven't\nseen me do shows on all of these,\n\n482\n00:24:18.460 --> 00:24:20.390\nI typically do all of\nthe system center stuff.\n\n483\n00:24:20.390 --> 00:24:23.920\nSo you may have seen the prior ones\non data center and Cloud automation.\n\n484\n00:24:23.920 --> 00:24:26.920\nGot the whole series\non system center 2016.\n\n485\n00:24:26.920 --> 00:24:30.040\nThat is gonna be available,\ndepending on when you are watching this,\n\n486\n00:24:30.040 --> 00:24:31.200\nit may already be available.\n\n487\n00:24:31.200 --> 00:24:34.055\nSo there's all these products out\nthere and we're just tying them in.\n\n488\n00:24:34.055 --> 00:24:38.020\nAnd getting you to think about the fact\nthat we can do this, and we can program,\n\n489\n00:24:38.020 --> 00:24:39.600\nit says, if you keep going, right?\n\n490\n00:24:39.600 --> 00:24:41.220\nWe can use the number\ncontroller to program and\n\n491\n00:24:41.220 --> 00:24:42.870\nmonitor virtual infrastructure.\n\n492\n00:24:42.870 --> 00:24:45.060\nLike hyper V, virtual switches.\n\n493\n00:24:45.060 --> 00:24:48.375\nSo the network routing\ninfrastructure in the Hyper-V stack,\n\n494\n00:24:48.375 --> 00:24:50.025\nvirtual network appliances.\n\n495\n00:24:50.025 --> 00:24:52.365\nWe can manage physical\ninfrastructure as well.\n\n496\n00:24:52.365 --> 00:24:55.115\nSwitches and routers,\nas well as hardware appliances,\n\n497\n00:24:55.115 --> 00:24:59.745\nload balancers, dedicated firewalls like\na data center firewall and VPN servers.\n\n498\n00:24:59.745 --> 00:25:02.587\nAll of that can be managed through this.\n\n499\n00:25:02.587 --> 00:25:05.650\nWhat this is is really\nessentially a progamattic API.\n\n500\n00:25:05.650 --> 00:25:10.558\nThat allows us to apply software\ndefined management capabilities and\n\n501\n00:25:10.558 --> 00:25:15.810\nmonitor and pull data in to third party,\nor linked products and interact.\n\n502\n00:25:15.810 --> 00:25:18.052\nSo this provides the gateway and\nthe capability to do that.\n\n503\n00:25:18.052 --> 00:25:20.852\nThat's what the network\ncontroller is all about, right?\n\n504\n00:25:20.852 --> 00:25:22.790\nSo just keep that in mind.\n\n505\n00:25:22.790 --> 00:25:23.860\nI'm glad that wasn't one minute.\n\n506\n00:25:23.860 --> 00:25:26.590\nThat would've potentially not\nbeen a great way to tell me that.\n\n507\n00:25:26.590 --> 00:25:28.380\nAll right, so I appreciate that head's up.\n\n508\n00:25:28.380 --> 00:25:29.010\nThank you very much.\n\n509\n00:25:29.010 --> 00:25:29.860\n&gt;&gt; Sure.\nAll right,\n\n510\n00:25:29.860 --> 00:25:32.220\nso thoughts about the network controller?\n\n511\n00:25:32.220 --> 00:25:33.890\n&gt;&gt; No, excited to see it in action though.\n\n512\n00:25:33.890 --> 00:25:35.980\nI actually have not played\nwith this feature yet.\n\n513\n00:25:35.980 --> 00:25:38.970\n&gt;&gt; So this has to be managed,\nobviously, through PowerShell, right?\n\n514\n00:25:38.970 --> 00:25:42.130\nWe're gonna go in and\ndo a bunch of stuff under the hood.\n\n515\n00:25:42.130 --> 00:25:44.600\nBig disclaimer here, so we're not gonna\nbe able to install, and configure, and\n\n516\n00:25:44.600 --> 00:25:47.800\ndo everything with it because the sum of\nthe limitations in our lab environment.\n\n517\n00:25:47.800 --> 00:25:50.880\nWe could put it in, but we're not gonna\nreally be able to do much with it here.\n\n518\n00:25:50.880 --> 00:25:52.690\nBut, and good news for you,\n\n519\n00:25:52.690 --> 00:25:55.580\nyou don't have to know how to configure\nit as part of the conversation.\n\n520\n00:25:55.580 --> 00:25:57.730\nBut you do have to know that\nthis should be installed.\n\n521\n00:25:57.730 --> 00:25:59.070\nIt is highly available, I mean,\n\n522\n00:25:59.070 --> 00:26:01.420\nwe could scale this and\nput this on multiple servers.\n\n523\n00:26:01.420 --> 00:26:05.030\nAnd then as a result, create the ability\nto manage this across the enterprise.\n\n524\n00:26:05.030 --> 00:26:07.020\nOr just put into one system.\n\n525\n00:26:07.020 --> 00:26:10.920\nWe have two APIs, as I mentioned, that\nthe network controller provides for us.\n\n526\n00:26:10.920 --> 00:26:13.900\nWe communicate with the network and\none that communicates through and\n\n527\n00:26:13.900 --> 00:26:14.880\nwith the network controllers.\n\n528\n00:26:14.880 --> 00:26:18.500\nSo we're able to see everything around\nus and then pass that data up and\n\n529\n00:26:18.500 --> 00:26:21.510\nthrough into the interfaces that\nare managed through the network controls.\n\n530\n00:26:21.510 --> 00:26:24.890\n&gt;&gt; So if I take this and install it on\na server, this is gonna allow me to manage\n\n531\n00:26:24.890 --> 00:26:29.820\nall the virtual networks on\nthe individual Hyper-V hosts that I have.\n\n532\n00:26:29.820 --> 00:26:33.740\nSome host only, some private-\n&gt;&gt; It's gonna allow you to get\n\n533\n00:26:33.740 --> 00:26:35.800\ninto the virtual Hyper-V.\n\n534\n00:26:35.800 --> 00:26:39.020\nWork with the virtual switches,\nthe routers etc, but physical and logical.\n\n535\n00:26:39.020 --> 00:26:40.910\nSo outside the stack as\nwell as in the stack.\n\n536\n00:26:40.910 --> 00:26:44.570\nWe'll talk about both northbound and\nsouthbound APIs, or northbound and\n\n537\n00:26:44.570 --> 00:26:47.640\nsouthbound communication, and\nsoftware defined networking, right?\n\n538\n00:26:47.640 --> 00:26:49.640\nYou can imagine,\nkind of thinking about the logic of it.\n\n539\n00:26:49.640 --> 00:26:52.180\nSouthbound is traditionally\ngonna be going down.\n\n540\n00:26:52.180 --> 00:26:53.030\nNorthbound, traditionally,\n\n541\n00:26:53.030 --> 00:26:56.310\nif you think about it, would more often\nthan not be up from where you are.\n\n542\n00:26:56.310 --> 00:26:57.150\nUnless you're upside down and\n\n543\n00:26:57.150 --> 00:26:59.330\nsideways cuz it's Tuesdays,\nin which case it may not be.\n\n544\n00:26:59.330 --> 00:27:01.684\nBut traditionally when we\nthink about southbound APIs,\n\n545\n00:27:01.684 --> 00:27:04.200\nmeaning communication\ndown to the device later.\n\n546\n00:27:04.200 --> 00:27:05.780\nSo southbound communications,\n\n547\n00:27:05.780 --> 00:27:08.950\nsouthbound APIs,\ncommunicate down to the network devices.\n\n548\n00:27:08.950 --> 00:27:11.190\nSo services, components, things like that.\n\n549\n00:27:11.190 --> 00:27:14.920\nWhereas the southbound API, goes out and\ndoes the network discovery, for instance,\n\n550\n00:27:14.920 --> 00:27:16.960\nfor devices, so it lets us communicate.\n\n551\n00:27:16.960 --> 00:27:20.390\nFind all that service configurations\npull all that data back in.\n\n552\n00:27:20.390 --> 00:27:22.590\nAnd also push management\ndown into that layer.\n\n553\n00:27:22.590 --> 00:27:26.170\nWhereas the northbound API's\nallow us to communicate up so\n\n554\n00:27:26.170 --> 00:27:30.190\nwe're communicating up into the,\nthrough rather that layer,\n\n555\n00:27:30.190 --> 00:27:32.920\nup into the business logic,\nthe applications you may be running above.\n\n556\n00:27:32.920 --> 00:27:36.040\nSo north down API's would allow\nthings like SCVMN and sComm,\n\n557\n00:27:36.040 --> 00:27:40.070\nto communicate down into the device layer,\npull all that data through.\n\n558\n00:27:40.070 --> 00:27:43.620\nThink of the number controllers,\nalmost like that bridge.\n\n559\n00:27:43.620 --> 00:27:46.610\nIt's almost like the hypervisor\nin the sense it abstracts and\n\n560\n00:27:46.610 --> 00:27:48.680\nprovides that connectivity for us.\n\n561\n00:27:48.680 --> 00:27:50.780\nWe need Cherokee's hypervisor blocks,\nis what we need.\n\n562\n00:27:50.780 --> 00:27:52.930\n&gt;&gt; [LAUGHS]\n&gt;&gt; But, it provides that layer for\n\n563\n00:27:52.930 --> 00:27:57.230\nus between the actual monitoring and\nmanagement and configuration.\n\n564\n00:27:57.230 --> 00:28:01.320\nAnd the devices allows us to broker and\ncontrol those conversations between them.\n\n565\n00:28:01.320 --> 00:28:05.760\nOpening them up and allowing us to be able\nto interact with and work and configure.\n\n566\n00:28:05.760 --> 00:28:08.980\nAnd do obviously as we said,\nbased on software defining,\n\n567\n00:28:08.980 --> 00:28:12.560\nall the management we want to do,\nto standardize and configure and control.\n\n568\n00:28:12.560 --> 00:28:14.440\nAll that stuff becomes possible.\n\n569\n00:28:14.440 --> 00:28:18.850\nWe can, and indeed do, have the ability to\nbe able to use PowerShell, as I mentioned.\n\n570\n00:28:18.850 --> 00:28:22.540\nWe support Restful API Management,\nso we can use Rest-based or\n\n571\n00:28:22.540 --> 00:28:25.000\nWeb Services based APIs today.\n\n572\n00:28:25.000 --> 00:28:29.420\nAnything like a management application,\nsuch as VMM, as we talked about.\n\n573\n00:28:29.420 --> 00:28:31.295\nAny of those things can\nbe integrated here.\n\n574\n00:28:31.295 --> 00:28:34.220\nHyper-V, as we mentioned,\nand virtual switches.\n\n575\n00:28:34.220 --> 00:28:35.790\nJust making sure I don't forget anything.\n\n576\n00:28:35.790 --> 00:28:37.700\nData center firewalls, I mentioned,\n\n577\n00:28:37.700 --> 00:28:40.370\nwhich was kind of the reason why I\nwanted to started talking about this.\n\n578\n00:28:40.370 --> 00:28:44.150\nThe RAS Multitenant Gateway which I\nmentioned, virtual gateways, load\n\n579\n00:28:44.150 --> 00:28:49.270\nbalancers, all that kind of stuff becomes\npossible as part of this conversation.\n\n580\n00:28:49.270 --> 00:28:52.610\nSo, when we install, and if you want to\njust come back, I'll just finish quickly.\n\n581\n00:28:52.610 --> 00:28:55.350\nI'll just hit Next here, all right.\n\n582\n00:28:55.350 --> 00:28:57.655\nYou could see the install\ndoes not take very long,\n\n583\n00:28:57.655 --> 00:28:59.270\nwe'll just kind of let that do it's thing.\n\n584\n00:28:59.270 --> 00:29:01.340\nWhile that's finishing up because\nwe're almost out of time.\n\n585\n00:29:01.340 --> 00:29:02.585\nActually, I'm lying we are out of time.\n\n586\n00:29:02.585 --> 00:29:05.679\nBut that's okay, because I'm gonna\ngo past for a couple of minutes but\n\n587\n00:29:05.679 --> 00:29:07.945\njust while we're waiting\non that to finish up.\n\n588\n00:29:07.945 --> 00:29:10.495\nSo the Data Center Firewall I\nmentioned as well.\n\n589\n00:29:10.495 --> 00:29:12.045\nThis is what we call a virtual appliance.\n\n590\n00:29:12.045 --> 00:29:16.535\nSo, virtual appliances new to Server 16,\navailable for us to be able to install and\n\n591\n00:29:16.535 --> 00:29:17.345\nconfigure.\n\n592\n00:29:17.345 --> 00:29:18.372\nVirtual appliances are pre-made.\n\n593\n00:29:18.372 --> 00:29:20.595\nI think of them as almost\nlike virtual machines.\n\n594\n00:29:20.595 --> 00:29:21.245\nThey're pre-made.\n\n595\n00:29:21.245 --> 00:29:24.806\nTypically the vendor,\nin this case Microsoft, or VM worst case,\n\n596\n00:29:24.806 --> 00:29:27.426\nVM whatever it may be,\nwould put that together.\n\n597\n00:29:27.426 --> 00:29:31.151\nYou would download that typically from\ntheir store or their partner gateway,\n\n598\n00:29:31.151 --> 00:29:34.652\nwherever you would go to get these\nkind of things when they're licensed,\n\n599\n00:29:34.652 --> 00:29:36.471\nyou typically have to purchase them.\n\n600\n00:29:36.471 --> 00:29:39.942\nSo you may add some additional\nexpense to be able to deploy this,\n\n601\n00:29:39.942 --> 00:29:41.628\ndepending on your licensing.\n\n602\n00:29:41.628 --> 00:29:45.324\nBut you would go get it, and it's usually\na downloadable OVA, OVF kind of format.\n\n603\n00:29:45.324 --> 00:29:48.447\nSo a universal format we can bring in and\nimport and export through.\n\n604\n00:29:48.447 --> 00:29:52.730\nAnd then, as a result, we can then install\nand stand up the virtual appliance.\n\n605\n00:29:52.730 --> 00:29:53.923\nThis is done as you could see.\n\n606\n00:29:53.923 --> 00:29:56.391\nSo setting this up does\nnot take very long.\n\n607\n00:29:56.391 --> 00:30:00.221\nYou could see the network controller then\nadds its own interface here just from\n\n608\n00:30:00.221 --> 00:30:01.622\na monitoring perspective.\n\n609\n00:30:01.622 --> 00:30:05.831\nRemember, I told you that once we set this\nup, we're not gonna see any management\n\n610\n00:30:05.831 --> 00:30:10.295\ncapabilities in here, you can see there's\nnothing here for the network controller.\n\n611\n00:30:10.295 --> 00:30:13.059\nThe network controller is gonna\nbe accessed and managed and\n\n612\n00:30:13.059 --> 00:30:14.947\ncontrolled through the shell, right?\n\n613\n00:30:14.947 --> 00:30:16.504\nSo remember power PowerShell or\n\n614\n00:30:16.504 --> 00:30:19.628\nsome sort of API we're going to\nuse to extend our capabilities.\n\n615\n00:30:19.628 --> 00:30:22.250\nWe would need to have SCVMM, or\nsomething like that, installed and\n\n616\n00:30:22.250 --> 00:30:24.278\nrunning in here to be able\nto connect to it and use it.\n\n617\n00:30:24.278 --> 00:30:27.543\nSo there's really nothing we're going\nto do to configure it right now,\n\n618\n00:30:27.543 --> 00:30:28.942\nwe're just showing it to you.\n\n619\n00:30:28.942 --> 00:30:32.015\nBut the idea is that we could then\ngo in and certainly play with it.\n\n620\n00:30:32.015 --> 00:30:34.640\nBut the appliance, let's just open\nup Hyper-V Manager for a minute,\n\n621\n00:30:34.640 --> 00:30:36.008\njust while we're talking, right?\n\n622\n00:30:36.008 --> 00:30:37.455\nSo the appliance.\n\n623\n00:30:37.455 --> 00:30:38.936\nThe hardware, or excuse me,\n\n624\n00:30:38.936 --> 00:30:42.208\nthe data center virtual firewall\nappliance would be available.\n\n625\n00:30:42.208 --> 00:30:45.982\nYou'd be able to bring it in and\nset it up and run it here, right?\n\n626\n00:30:45.982 --> 00:30:47.301\nIf you wanted to.\n\n627\n00:30:47.301 --> 00:30:50.380\nAnd you could see that we do\nhave a virtual switch manager.\n\n628\n00:30:50.380 --> 00:30:51.708\nA virtual san manager.\n\n629\n00:30:51.708 --> 00:30:55.523\nYou know this is Server,\nHyper V server, running on 2016.\n\n630\n00:30:55.523 --> 00:30:57.404\nSo all the latest bells and whistles here.\n\n631\n00:30:57.404 --> 00:31:01.644\nAnd so, if we go in and look at our\nvirtual switches, like I was suggesting,\n\n632\n00:31:01.644 --> 00:31:03.449\nwe could see our switches here.\n\n633\n00:31:03.449 --> 00:31:06.158\nBut again,\nwe're not managing directly from Hyper V.\n\n634\n00:31:06.158 --> 00:31:09.238\nWe have to manage from PowerShell,\nto configure and\n\n635\n00:31:09.238 --> 00:31:13.090\nconnect these conduits to make\nthis capability available to us.\n\n636\n00:31:13.090 --> 00:31:16.590\nSo the data center firewall simply\nruns as a virtual appliance.\n\n637\n00:31:16.590 --> 00:31:18.500\nIt's included with server.\n\n638\n00:31:18.500 --> 00:31:19.670\nIt's available to us I should say,\n\n639\n00:31:19.670 --> 00:31:22.833\ndepending on your way you're\nlicensing with server 16 in HyperV.\n\n640\n00:31:22.833 --> 00:31:23.352\nWe can set this up.\n\n641\n00:31:23.352 --> 00:31:27.852\nObviously it works like a firewall in the\nvirtual environment, protects our virtual\n\n642\n00:31:27.852 --> 00:31:31.738\ninfrastructure, whatever it may be,\nregardless of operating system.\n\n643\n00:31:31.738 --> 00:31:35.298\nWhich is nice, cuz it will work with\nLinux based VMs, Windows based VMs.\n\n644\n00:31:35.298 --> 00:31:37.417\n&gt;&gt; All right.\nSo we're not limiting ourselves just to,\n\n645\n00:31:37.417 --> 00:31:40.374\nhey, it's Windows and\nit's Microsoft so we gotta do that.\n\n646\n00:31:40.374 --> 00:31:42.977\nThe firewall's a firewall,\nremember firewalls are agnostic,\n\n647\n00:31:42.977 --> 00:31:44.923\nthey don't care what OS\nyou run traditionally.\n\n648\n00:31:44.923 --> 00:31:48.310\nWe could map them to applications\nas we talked about ports,\n\n649\n00:31:48.310 --> 00:31:49.811\nprotocols IP addresses.\n\n650\n00:31:49.811 --> 00:31:53.137\nBut nowhere does it say only\nWindows versus only Linux,\n\n651\n00:31:53.137 --> 00:31:57.473\nunless you chose a crazy executable\nthat may only be prevalent in one OS.\n\n652\n00:31:57.473 --> 00:32:01.420\nIt may not allow the traffic, but that's\nnot tying it to the operating system.\n\n653\n00:32:01.420 --> 00:32:02.578\nTimed to a program, right?\n\n654\n00:32:02.578 --> 00:32:05.101\nSo they're app OS agnostic\nin that respect, so\n\n655\n00:32:05.101 --> 00:32:09.090\nit'll equally protect any of those\nVMs running, which is very nice.\n\n656\n00:32:09.090 --> 00:32:13.350\nIt is a network layer solution,\nas in the OSI model, right?\n\n657\n00:32:13.350 --> 00:32:16.644\nRemember we talked about Now that,\nthat is later three, as Mike is doing\n\n658\n00:32:16.644 --> 00:32:19.886\nthe calculus, etc., trying to figure\nout [CROSSTALK] Which one is it?\n\n659\n00:32:19.886 --> 00:32:22.205\nSo that's gonna be a layer three solution,\nright?\n\n660\n00:32:22.205 --> 00:32:25.000\nFrom the bottom up or the top down,\nhowever you get there.\n\n661\n00:32:25.000 --> 00:32:28.756\nIt also is a 5-tuple firewall,\njust like we talked about, right?\n\n662\n00:32:28.756 --> 00:32:31.767\nAnd so it's gonna be set up\ntraditionally to look pretty much and\n\n663\n00:32:31.767 --> 00:32:34.723\nfeel pretty much and\nact pretty much like our other firewalls,\n\n664\n00:32:34.723 --> 00:32:36.706\njust scaled out to the data center level.\n\n665\n00:32:36.706 --> 00:32:39.299\nThe protocol, source, and\ndestination port numbers, source and\n\n666\n00:32:39.299 --> 00:32:40.847\ndestination IP addresses, remember,\n\n667\n00:32:40.847 --> 00:32:44.136\nwere going to be the five components that\nmake up 5-tuple, so just be aware of that.\n\n668\n00:32:44.136 --> 00:32:46.308\nIt is stateful.\n\n669\n00:32:46.308 --> 00:32:48.020\nWe talked about the abilities of\na firewall to be stateless or stateful.\n\n670\n00:32:48.020 --> 00:32:51.237\nRemember stateless is static\npacket filtering, gen one.\n\n671\n00:32:51.237 --> 00:32:55.599\nStateful, dynamic packet filtering,\nnew gen, or next gen,\n\n672\n00:32:55.599 --> 00:32:58.580\nif we do our Star Trek kind of link there.\n\n673\n00:32:58.580 --> 00:33:00.573\nI saw that as well last night,\nby the way, I forgot.\n\n674\n00:33:00.573 --> 00:33:01.380\n&gt;&gt; Did you?\n&gt;&gt; Yeah, new,\n\n675\n00:33:01.380 --> 00:33:04.872\nwhatever they renamed the original Star\nWars, because I just call it Star Wars.\n\n676\n00:33:04.872 --> 00:33:06.898\n&gt;&gt; Next Generation, or-\n&gt;&gt; New Hope, or whatever it was.\n\n677\n00:33:06.898 --> 00:33:09.253\nNo, Star Wars,\nwhatever the heck they call it now.\n\n678\n00:33:09.253 --> 00:33:10.400\n&gt;&gt; Yeah, yeah.\n\n679\n00:33:10.400 --> 00:33:11.650\n&gt;&gt; Anyway, that was on, too.\n\n680\n00:33:11.650 --> 00:33:13.150\nIt was like a whole movie night.\n\n681\n00:33:13.150 --> 00:33:14.290\n&gt;&gt; Hey we had a great night.\n\n682\n00:33:14.290 --> 00:33:15.130\n&gt;&gt; Yeah it was great.\n\n683\n00:33:15.130 --> 00:33:15.930\nI got back to the hotel.\n\n684\n00:33:15.930 --> 00:33:17.345\nI'm like I'm not moving.\n\n685\n00:33:17.345 --> 00:33:19.710\n[LAUGH]\n&gt;&gt; Eight hours of movies on, that's it.\n\n686\n00:33:19.710 --> 00:33:23.690\nIt was Star Wars, it was The Godfather,\nand it was Pulp Fiction.\n\n687\n00:33:23.690 --> 00:33:24.490\n&gt;&gt; Yeah, Pulp Fiction.\n\n688\n00:33:24.490 --> 00:33:27.010\n&gt;&gt; That's why I'm drooping and\nbarely able to keep my eyes open this\n\n689\n00:33:27.010 --> 00:33:27.710\nmorning\n&gt;&gt; [LAUGH]\n\n690\n00:33:27.710 --> 00:33:28.923\n&gt;&gt; So anyway, stateful, and\n\n691\n00:33:28.923 --> 00:33:30.357\nit is multi-tenants, right?\n\n692\n00:33:30.357 --> 00:33:31.070\nWhich is nice.\n\n693\n00:33:31.070 --> 00:33:34.374\nThis is really, the key value\nproposition here is the ability to scale\n\n694\n00:33:34.374 --> 00:33:37.958\nthis firewall so that in Cloud-based\nenvironments, it's really an ISP,\n\n695\n00:33:37.958 --> 00:33:40.703\nInternet Service Provider play,\na Cloud provider play.\n\n696\n00:33:40.703 --> 00:33:45.521\nAn average business, right, if they're not\nrunning large multi-tenant infrastructure,\n\n697\n00:33:45.521 --> 00:33:49.795\nthey may still need data center firewalls\nto protect all their infrastructure, but\n\n698\n00:33:49.795 --> 00:33:52.100\nit's all one tenant, it's all yours.\n\n699\n00:33:52.100 --> 00:33:56.060\nThe key value proposition is something\nlike this, is in multi-tenant environments\n\n700\n00:33:56.060 --> 00:34:00.027\nwe can further select, isolate, provide\nprotection to each individual customer.\n\n701\n00:34:00.027 --> 00:34:03.381\nTraditionally, things like VLANs\nare used to logically isolate.\n\n702\n00:34:03.381 --> 00:34:06.349\nWe've talked about the value of that in\nsome of the networking conversations.\n\n703\n00:34:06.349 --> 00:34:09.478\nBut the data center firewall can scale and\nbecome a multi-tenant solution.\n\n704\n00:34:09.478 --> 00:34:10.777\nWe create these policies and\n\n705\n00:34:10.777 --> 00:34:14.683\ndeploy them and configure the data center\nfirewall through the network controller.\n\n706\n00:34:14.683 --> 00:34:17.543\nSo, the network controller is\nreally this enabler, this conduit,\n\n707\n00:34:17.543 --> 00:34:19.880\nthat allows us to do all these\nother really cool things.\n\n708\n00:34:19.880 --> 00:34:21.894\nSo, it you haven't had\na chance to play with it,\n\n709\n00:34:21.894 --> 00:34:25.285\nyou haven't seen it, as Mike said, hey,\nI've heard about it, it's cool, but\n\n710\n00:34:25.285 --> 00:34:28.059\nI haven't actually really had a chance\nto play with it or set it up.\n\n711\n00:34:28.059 --> 00:34:29.366\nYou can see how easy it is to install.\n\n712\n00:34:29.366 --> 00:34:32.640\nObviously, going in and managing it\nthen becomes the next challenge.\n\n713\n00:34:32.640 --> 00:34:33.540\nYou gotta think about that.\n\n714\n00:34:33.540 --> 00:34:37.280\nBut we can offer, and indeed many\nservice providers today are offering,\n\n715\n00:34:37.280 --> 00:34:38.790\nthe Data Center Firewall as an option.\n\n716\n00:34:38.790 --> 00:34:41.360\nMicrosoft offers it in\nthe Azure Stack as an option.\n\n717\n00:34:41.360 --> 00:34:45.250\nYou can get that as part of\nthe configuration if you're doing that.\n\n718\n00:34:45.250 --> 00:34:49.001\nAnd we could set this up and control\nhow it's going to essentially work and\n\n719\n00:34:49.001 --> 00:34:50.403\nbe defined for us, right?\n\n720\n00:34:50.403 --> 00:34:53.752\nIt gives us some of the following\ncapabilities, just to wrap up.\n\n721\n00:34:53.752 --> 00:34:56.468\nThey help us to protect\nthe Internet facing workloads,\n\n722\n00:34:56.468 --> 00:34:59.892\nthe data center firewall does,\nbased on the use of virtual networks.\n\n723\n00:34:59.892 --> 00:35:02.400\nSo as Michael suggesting,\nand we were showing you,\n\n724\n00:35:02.400 --> 00:35:05.539\nthings like our virtual switches,\nour virtual SAN, by the way.\n\n725\n00:35:05.539 --> 00:35:08.966\nSo if we're using our storage area\nnetwork, we can further mask and\n\n726\n00:35:08.966 --> 00:35:11.311\nisolate our storage traffic so\nthat, again,\n\n727\n00:35:11.311 --> 00:35:15.243\nindividual tenants don't see others'\ntraffic, which is very important.\n\n728\n00:35:15.243 --> 00:35:17.287\nFirewalls can be used to do all of that.\n\n729\n00:35:17.287 --> 00:35:20.618\nWe call that zoning and masking,\nright, when we talk about storage.\n\n730\n00:35:20.618 --> 00:35:24.338\nFirewall rules can help protect\ntraffic between virtual machines on or\n\n731\n00:35:24.338 --> 00:35:26.880\nat the same Layer 2,\nor L2, virtual subnets.\n\n732\n00:35:26.880 --> 00:35:29.502\nAnd between virtual machines\non different sub nets.\n\n733\n00:35:29.502 --> 00:35:32.924\nSo again, the idea of logically\nlinking this traffic, pathing it so\n\n734\n00:35:32.924 --> 00:35:36.240\nthat certain networks are able to\nsee each other, others are not.\n\n735\n00:35:36.240 --> 00:35:39.689\nSo you have zoning and mask and\ngenerically is what we often talk about.\n\n736\n00:35:39.689 --> 00:35:43.161\nAnd they help control traffic,\nbetween on-prem and Cloud providers for\n\n737\n00:35:43.161 --> 00:35:46.577\nthings like IaaS, if we're doing IaaS,\nInfrastructure as a Service,\n\n738\n00:35:46.577 --> 00:35:50.161\nwhere we're going back and forth maybe\nout to the Microsoft Azure stack, or\n\n739\n00:35:50.161 --> 00:35:54.026\nthe Amazon stack, or whatever the data\ncenter provider or the Cloud provider is.\n\n740\n00:35:54.026 --> 00:35:57.890\nThat traffic to manage the infrastructure\nback and forth can also be protected and\n\n741\n00:35:57.890 --> 00:35:59.910\nisolated using the data center firewall.\n\n742\n00:35:59.910 --> 00:36:04.770\nSo it is a really cool product and\ncapability that we enable,\n\n743\n00:36:04.770 --> 00:36:07.350\nwe open up, we unlock,\nusing the network controller.\n\n744\n00:36:07.350 --> 00:36:10.710\nAnd you saw how we could go ahead and\nconfigure that, set it up, and\n\n745\n00:36:10.710 --> 00:36:12.390\nthen from there start to manage it.\n\n746\n00:36:12.390 --> 00:36:13.720\nBut we need to bring in\nall these other pieces.\n\n747\n00:36:13.720 --> 00:36:17.651\nIt is this additional layer of\ncomplexity with regards to technology.\n\n748\n00:36:17.651 --> 00:36:20.304\nIt requires additional capabilities.\n\n749\n00:36:20.304 --> 00:36:24.472\nSo it is something that's kind of a next\nstep up, but it is the beginning of this\n\n750\n00:36:24.472 --> 00:36:28.787\nthought process of how we software define\nand really bring all of that together.\n\n751\n00:36:28.787 --> 00:36:32.004\nSo just some interesting stuff that\nhopefully makes just a little bit\n\n752\n00:36:32.004 --> 00:36:33.675\nmore exciting for us to talk about.\n\n753\n00:36:33.675 --> 00:36:34.954\n&gt;&gt; Definitely interesting.\n\n754\n00:36:34.954 --> 00:36:36.969\nGreat look there, a lot of information.\n\n755\n00:36:36.969 --> 00:36:39.357\nWe started off talking about the firewall,\nand\n\n756\n00:36:39.357 --> 00:36:41.817\nhow we can monitor our\nactivity on the firewall.\n\n757\n00:36:41.817 --> 00:36:45.655\nWe looked at using group policies\nto push out firewall policies, and\n\n758\n00:36:45.655 --> 00:36:49.891\nthen rounded them off with a great\ndiscussion on data center firewalls, and\n\n759\n00:36:49.891 --> 00:36:51.629\nsoftware to find networking.\n\n760\n00:36:51.629 --> 00:36:53.940\nAnything else you wanna add\nbefore we close this one out?\n\n761\n00:36:53.940 --> 00:36:54.554\n&gt;&gt; Yes.\n\n762\n00:36:54.554 --> 00:36:58.269\nThere was this one other thing I wanted\nus to talk about with regards to the data\n\n763\n00:36:58.269 --> 00:37:00.395\ncenter firewall, and I forgot to mention.\n\n764\n00:37:00.395 --> 00:37:03.388\nOr kind of as we were talking, I hinted\nat it, but I didn't really call it out.\n\n765\n00:37:03.388 --> 00:37:06.171\nThe other component that works\nwith the data center firewall, so\n\n766\n00:37:06.171 --> 00:37:09.358\nit works with Hyper-V, it's something\nthat is part of this discussion,\n\n767\n00:37:09.358 --> 00:37:11.960\ncalled the network security groups or\nwe call NSGs, right?\n\n768\n00:37:11.960 --> 00:37:12.963\nNetwork security groups.\n\n769\n00:37:12.963 --> 00:37:16.791\nThese allow us to define and create that\nsegmentation in the Hyper-V environment\n\n770\n00:37:16.791 --> 00:37:19.953\nI was talking about with the logical\nnetworks, things like VLAN and\n\n771\n00:37:19.953 --> 00:37:20.799\nstuff like that.\n\n772\n00:37:20.799 --> 00:37:23.683\nSo we create virtual subnets by\nusing network security groups.\n\n773\n00:37:23.683 --> 00:37:25.600\nSo if you think about the logic of that,\n\n774\n00:37:25.600 --> 00:37:27.983\nthis allows us to create\nthese multi-tiered and\n\n775\n00:37:27.983 --> 00:37:32.051\nmulti-tenant environments, specify access\ncontrol list rules, so we have what\n\n776\n00:37:32.051 --> 00:37:35.905\nare called ACL rules associated with\nthese groups that allow or deny traffic.\n\n777\n00:37:35.905 --> 00:37:38.660\nWhich, if you think about the logic\nof how a firewall works, and\n\n778\n00:37:38.660 --> 00:37:41.431\nall the things we've been talking about,\nmakes a lot of sense.\n\n779\n00:37:41.431 --> 00:37:44.669\nIf you're in this group associated\nwith this particular pattern,\n\n780\n00:37:44.669 --> 00:37:45.756\nwe allow you, right?\n\n781\n00:37:45.756 --> 00:37:47.833\nAs opposed to maybe not\nbeing in this group,\n\n782\n00:37:47.833 --> 00:37:50.540\nand then not allowing you to\nbe able to do certain things.\n\n783\n00:37:50.540 --> 00:37:54.266\nSo we can do this and allow this\ntraffic back and forth either to or\n\n784\n00:37:54.266 --> 00:37:55.998\nfrom a virtual subnet or a VM.\n\n785\n00:37:55.998 --> 00:37:58.989\nSo we could say traffic to this VM\nis allowed under these conditions.\n\n786\n00:37:58.989 --> 00:38:02.289\nTraffic to this subnet is\nallowed under these conditions.\n\n787\n00:38:02.289 --> 00:38:03.080\nSo imagine, for\n\n788\n00:38:03.080 --> 00:38:07.104\ninstance, we do something like setting\nup our security monitoring capabilities.\n\n789\n00:38:07.104 --> 00:38:10.345\nMaybe our advanced threat analytics\ngateway that you saw me walk through and\n\n790\n00:38:10.345 --> 00:38:12.330\nconfigure in some earlier episodes, right?\n\n791\n00:38:12.330 --> 00:38:14.862\nThe ATA product that we took a look at.\n\n792\n00:38:14.862 --> 00:38:18.674\nWe set that up, remember, and\ninstalled that on a machine.\n\n793\n00:38:18.674 --> 00:38:20.559\nIt could be a virtual machine\nthat's running server that\n\n794\n00:38:20.559 --> 00:38:21.551\nhas that product installed.\n\n795\n00:38:21.551 --> 00:38:25.258\nWe may set that up in a Hyper-V stack and\nusing network security group to control\n\n796\n00:38:25.258 --> 00:38:27.981\nthe pathing and\nmonitoring of the subnets in the traffic.\n\n797\n00:38:27.981 --> 00:38:30.040\nWe want to be able to move in and\nout of that.\n\n798\n00:38:30.040 --> 00:38:34.000\nSo there's a lot of reasons why this\nscalability, right, becomes important.\n\n799\n00:38:34.000 --> 00:38:35.480\nAnd we link this together.\n\n800\n00:38:35.480 --> 00:38:37.240\nWe do have the ability to\nset up separate rules for\n\n801\n00:38:37.240 --> 00:38:40.360\nboth inbound and outbound,\nwhich is just what we would expect using\n\n802\n00:38:40.360 --> 00:38:43.000\nthis kind of thought process\nagainst the firewall.\n\n803\n00:38:43.000 --> 00:38:45.580\nThe NSG rules are also\ndefined using a 5-tuple,\n\n804\n00:38:45.580 --> 00:38:49.480\nwhich is why I wanted to mention it, and\njust make sure you're familiar with it.\n\n805\n00:38:49.480 --> 00:38:51.230\nAgain, the idea for\nthat would be, actually,\n\n806\n00:38:51.230 --> 00:38:54.190\njust look at my notes real quick, instead\nof me just rattling it all off for you.\n\n807\n00:38:54.190 --> 00:38:55.290\nHere, let me just put it up.\n\n808\n00:38:55.290 --> 00:38:57.780\nSo if you just go full screen so\nwe could see it for a second.\n\n809\n00:38:57.780 --> 00:39:00.810\nSo you'll see there,\nthe NSG rules defined by using a 5-tuple.\n\n810\n00:39:00.810 --> 00:39:05.950\nSource IP address, which can be\nanything that's in as you see a range.\n\n811\n00:39:05.950 --> 00:39:09.280\nThe source port, destination IP,\nagain, range-based.\n\n812\n00:39:09.280 --> 00:39:10.900\nDestination port and protocol, right?\n\n813\n00:39:10.900 --> 00:39:12.700\nSo the standard way of\nthinking about this.\n\n814\n00:39:12.700 --> 00:39:15.280\nI just wanna make sure that\nyou're familiar with this.\n\n815\n00:39:15.280 --> 00:39:18.260\nObviously, linking the data center,\nfirewall, and NSGs together,\n\n816\n00:39:18.260 --> 00:39:22.320\nas I said there, helps us to provide these\ndifferent scenarios, or rather provide\n\n817\n00:39:22.320 --> 00:39:26.870\nprotection for our different business\nscenarios for when we see this.\n\n818\n00:39:26.870 --> 00:39:28.580\nAnd I'll show you quickly\nwhat I mean by that.\n\n819\n00:39:28.580 --> 00:39:31.330\nI had a couple of examples that\nI just put down there for you.\n\n820\n00:39:31.330 --> 00:39:37.251\nYou have Here,\njust let me scroll, there we go.\n\n821\n00:39:38.739 --> 00:39:43.091\nSo if a ISP or a business wants to\nprovide isolation capabilities, right,\n\n822\n00:39:43.091 --> 00:39:47.097\nwe would do some sort of network\ndesign that segments the network into\n\n823\n00:39:47.097 --> 00:39:50.987\ntraditionally multiple segments\nusing the NSGs, as you can see.\n\n824\n00:39:50.987 --> 00:39:53.680\nA segment for\nthe front-end network, right?\n\n825\n00:39:53.680 --> 00:39:56.030\nTypically, publicly exposed\nweb servers go into this.\n\n826\n00:39:56.030 --> 00:39:57.370\nAlmost like the DMZ configuration.\n\n827\n00:39:57.370 --> 00:39:58.480\n&gt;&gt; Okay.\n&gt;&gt; If you think about it.\n\n828\n00:39:58.480 --> 00:40:00.180\nThen a segment for back-end network.\n\n829\n00:40:00.180 --> 00:40:03.350\nThis is all the servers that\nare behind the protection curtain,\n\n830\n00:40:03.350 --> 00:40:05.060\ntypically on the LAN, if you will.\n\n831\n00:40:05.060 --> 00:40:08.700\nAnd then, a network or segment for\nsecurity on the network or for\n\n832\n00:40:08.700 --> 00:40:09.430\nthe secured network.\n\n833\n00:40:09.430 --> 00:40:12.550\nThis is directly connected to\nthe Internet and controls the flow in and\n\n834\n00:40:12.550 --> 00:40:13.430\nout to the other networks.\n\n835\n00:40:13.430 --> 00:40:16.700\nSo this may be where we put\nour gateway monitoring or\n\n836\n00:40:16.700 --> 00:40:20.190\nIDS, IPS capabilities looking at\ninbound outbound traffic flow.\n\n837\n00:40:20.190 --> 00:40:23.780\nAnd as a result, we can block and\ninterdict traffic as it's coming in and\n\n838\n00:40:23.780 --> 00:40:25.210\nout to the other segments.\n\n839\n00:40:25.210 --> 00:40:29.050\nAnd then once we set this up, our data\ncenter firewall's brought into play so\n\n840\n00:40:29.050 --> 00:40:32.710\nthat we can then set the rules up that\nallow and control traffic in and out,\n\n841\n00:40:32.710 --> 00:40:33.560\nas I point out here.\n\n842\n00:40:33.560 --> 00:40:37.120\nSo linking the network controller,\nthe network security groups and the data\n\n843\n00:40:37.120 --> 00:40:40.995\ncenter firewall together to be able to\naccomplish this particular configuration.\n\n844\n00:40:40.995 --> 00:40:44.522\nOr any of these configurations that we\ncould imagine in our head in multi-tenant\n\n845\n00:40:44.522 --> 00:40:47.465\nCloud-based environments would be\nbenefiting from this is really what\n\n846\n00:40:47.465 --> 00:40:49.195\nthe technology's designed to do for us.\n\n847\n00:40:49.195 --> 00:40:52.560\n&gt;&gt; Really does add a whole nother layer\nof complexity when we start talking about\n\n848\n00:40:52.560 --> 00:40:54.415\nmulti-tenant scenarios, doesn't it?\n\n849\n00:40:54.415 --> 00:40:59.252\n&gt;&gt; It does, but it gives us so much more\ncapability with regards to how we control\n\n850\n00:40:59.252 --> 00:41:02.602\nand tightly manage that traffic coming\ninto company A versus, let's say,\n\n851\n00:41:02.602 --> 00:41:05.721\ncompany B, and all the different\ncompanies that may be literally set up.\n\n852\n00:41:05.721 --> 00:41:08.692\nI mean, literally, if you just\nlook over my shoulder right there\n\n853\n00:41:08.692 --> 00:41:12.684\nat all the blinking lights that are kind\nof stacked there, you can see and\n\n854\n00:41:12.684 --> 00:41:17.222\nimagine that if every one of those\ncomposite little slide in slots that's\n\n855\n00:41:17.222 --> 00:41:19.712\ninhabited with a module,\nwhatever those modules are.\n\n856\n00:41:19.712 --> 00:41:24.608\nIf every set of those blinking lights was\na customer in a rack using infrastructure,\n\n857\n00:41:24.608 --> 00:41:28.930\nand we had to segment traffic and\nsaid we wanted to go from left to right to\n\n858\n00:41:28.930 --> 00:41:32.455\nitem number four only, we'd have to find\nway to route that traffic and control it.\n\n859\n00:41:32.455 --> 00:41:35.840\nAnd that's gonna really be the technology\nand the capabilities that the NC,\n\n860\n00:41:35.840 --> 00:41:38.590\nthe Network Controller, the NSG,\nthe Network Security Groups,\n\n861\n00:41:38.590 --> 00:41:40.870\nand the Data Central Firewall, the DCF,\n\n862\n00:41:40.870 --> 00:41:44.740\ncombined together give us the capability\nto do with this software-defined overlay,\n\n863\n00:41:44.740 --> 00:41:48.130\nthis configuration management capability\nthat let's us tightly lock down and\n\n864\n00:41:48.130 --> 00:41:50.150\ncontrol and\nstandardize how we do all this.\n\n865\n00:41:50.150 --> 00:41:52.190\nSo it's a great next step forward, right?\n\n866\n00:41:52.190 --> 00:41:53.360\nWith regards to that.\n\n867\n00:41:53.360 --> 00:41:53.860\n&gt;&gt; Fantastic.\n\n868\n00:41:53.860 --> 00:41:54.500\nAll right, Adam.\n\n869\n00:41:54.500 --> 00:41:58.090\nWe're gonna sign it off there, cuz we\nare definitely out of time for this one.\n\n870\n00:41:58.090 --> 00:42:01.000\nSigning off for ITPRO.TV,\nI've been your host Mike Rodrick.\n\n871\n00:42:01.000 --> 00:42:01.890\n&gt;&gt; I am Adam Gordon.\n\n872\n00:42:01.890 --> 00:42:02.923\n&gt;&gt; And we'll see you next time\n\n873\n00:42:07.684 --> 00:42:10.600\n[MUSIC]\n\n874\n00:42:10.600 --> 00:42:13.031\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "236805409"
        }
      ],
      "title": "Configure Windows Firewall"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Adam and Cherokee discuss how server patching and update solutions can be achieved by setting up Windows Service Update Services (WSUS). Adam walks through the steps of how to begin the set up.",
          "length": "2151",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-1-implement_server_patching_and_updating-092117-PGM.01_28_43_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-1-implement_server_patching_and_updating-092117-PGM.01_28_43_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-1-implement_server_patching_and_updating-092117-PGM.01_28_43_16.Still001-sm.jpg",
          "title": "Implement Server Patching and Updating",
          "transcript": "WEBVTT\n\n1\n00:00:00.250 --> 00:00:01.466\nWelcome to IT Pro TV.\n\n2\n00:00:01.466 --> 00:00:02.463\nI'm your host, Don Pezet.\n\n3\n00:00:02.463 --> 00:00:05.261\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Coming at you live from San Francisco,\n\n4\n00:00:05.261 --> 00:00:05.996\nCalifornia.\n\n5\n00:00:05.996 --> 00:00:08.595\n[MUSIC]\n\n6\n00:00:08.595 --> 00:00:12.122\n&gt;&gt; You're watching IT Pro TV.\n\n7\n00:00:12.122 --> 00:00:15.423\n&gt;&gt; Welcome to your\nSecuring Windows Server 2016 series.\n\n8\n00:00:15.423 --> 00:00:17.337\nI'm your show host, Cherokee Boose.\n\n9\n00:00:17.337 --> 00:00:22.329\nIn this episode, we'll be taking a look\nat how we can implement patching and\n\n10\n00:00:22.329 --> 00:00:24.860\nupdates with a solution called WSUS.\n\n11\n00:00:24.860 --> 00:00:27.880\nAnd in studios today,\nwe have Mr. Adam Gordon.\n\n12\n00:00:27.880 --> 00:00:29.283\nThank you for joining us today, Adam.\n\n13\n00:00:29.283 --> 00:00:30.398\n&gt;&gt; Mister, wow.\n\n14\n00:00:30.398 --> 00:00:32.012\n&gt;&gt; Mister, ooh.\n\n15\n00:00:32.012 --> 00:00:35.732\n&gt;&gt; Good thing I'm wearing my formal shirt,\nI feel all special and stuff, wow.\n\n16\n00:00:35.732 --> 00:00:37.136\nThat's not what she calls\nme when we're off-camera.\n\n17\n00:00:37.136 --> 00:00:37.759\n&gt;&gt; Hey, Adam.\n\n18\n00:00:37.759 --> 00:00:38.609\n&gt;&gt; She doesn't call me Mr. Adam Gordon.\n\n19\n00:00:38.609 --> 00:00:40.019\n&gt;&gt; Hey, you.\n\n20\n00:00:40.019 --> 00:00:40.970\n&gt;&gt; Something totally different, right?\n\n21\n00:00:40.970 --> 00:00:43.470\nIt's not as pleasant an experience.\n\n22\n00:00:43.470 --> 00:00:46.662\nAll right, so, we are here, you're\nabsolutely right to talk about WSUS.\n\n23\n00:00:46.662 --> 00:00:50.160\nSo, we should probably start\nby defining what WSUS is.\n\n24\n00:00:50.160 --> 00:00:51.110\n&gt;&gt; What is it?\n\n25\n00:00:51.110 --> 00:00:52.965\n&gt;&gt; Thank you for asking,\nI appreciate that.\n\n26\n00:00:52.965 --> 00:00:53.540\n&gt;&gt; [LAUGH] Of course.\n\n27\n00:00:53.540 --> 00:00:55.246\n&gt;&gt; We work so well\n&gt;&gt; I know, what would you do without me?\n\n28\n00:00:55.246 --> 00:00:57.150\n&gt;&gt; It's a seamless flow here.\n\n29\n00:00:57.150 --> 00:00:59.237\nSeamless between the two of us,\nthat's awesome.\n\n30\n00:00:59.237 --> 00:01:02.250\nSo WSUS, probably a good place\nto start as you were suggested.\n\n31\n00:01:02.250 --> 00:01:04.913\nActually I suggested that,\nyou just commented on my suggestion.\n\n32\n00:01:04.913 --> 00:01:08.065\nBut WSUS, so let's starting by\nactually defining the acronym.\n\n33\n00:01:08.065 --> 00:01:10.420\n&gt;&gt; Are we going to take turns?\n\n34\n00:01:10.420 --> 00:01:11.600\nWindows\n\n35\n00:01:11.600 --> 00:01:13.340\n&gt;&gt; Software\n&gt;&gt; Update\n\n36\n00:01:13.340 --> 00:01:14.150\n&gt;&gt; Services\n\n37\n00:01:14.150 --> 00:01:15.100\n&gt;&gt; Woo\n\n38\n00:01:15.100 --> 00:01:16.190\n&gt;&gt; Awesome.\n\n39\n00:01:16.190 --> 00:01:20.638\nAll right, so, WSUS, you heard it right\nhere folks, first, before anyone else.\n\n40\n00:01:20.638 --> 00:01:23.410\nActually, together, cuz it took\ntwo of us to define that for you.\n\n41\n00:01:23.410 --> 00:01:26.620\nTalk about an absolute\noptimized use of research.\n\n42\n00:01:26.620 --> 00:01:27.560\n&gt;&gt; Yeah, teamwork.\n\n43\n00:01:27.560 --> 00:01:30.800\n&gt;&gt; How many hosts does it take to\nactually define a Microsoft acronym?\n\n44\n00:01:31.840 --> 00:01:35.850\nWith WSUS, Windows Software Update\nServices, the nice thing about WSUS\n\n45\n00:01:35.850 --> 00:01:39.640\nis that what we're doing is we're\nstepping up our game a little bit here.\n\n46\n00:01:39.640 --> 00:01:43.488\nWe are taking what is normally\non an individual level,\n\n47\n00:01:43.488 --> 00:01:46.258\npatch management down to the desktop.\n\n48\n00:01:46.258 --> 00:01:48.979\nDepending on the version of the operating\nsystem you've been running,\n\n49\n00:01:48.979 --> 00:01:51.010\nif it's Windows 10, or\na more modern version.\n\n50\n00:01:51.010 --> 00:01:54.320\nEssentially a SaaS model,\nwhere Microsoft is taking over and\n\n51\n00:01:54.320 --> 00:01:58.713\ndoing patches as an extension of either\nplatform, infrastructure, Software as\n\n52\n00:01:58.713 --> 00:02:02.935\na Service depending where you would\nthink of those functionalities falling.\n\n53\n00:02:02.935 --> 00:02:06.859\nBut a cloud based model, where Microsoft\nitself as the vendor, has taken on\n\n54\n00:02:06.859 --> 00:02:11.040\nthe liability of responsibility and\nthe maintainability of patch management.\n\n55\n00:02:11.040 --> 00:02:12.730\nAnd is now pushing patches and\n\n56\n00:02:12.730 --> 00:02:16.430\nupdates down to the individual\nend point desktops as a service.\n\n57\n00:02:16.430 --> 00:02:19.530\nSo, another version of PaaS,\nif you will, but\n\n58\n00:02:19.530 --> 00:02:22.970\npatching as a service as opposed\nto platform as a service.\n\n59\n00:02:22.970 --> 00:02:29.903\nBut when we are thinking of older\nversions, Windows 7, dare I say it Vista.\n\n60\n00:02:29.903 --> 00:02:30.940\n&gt;&gt; XP.\n\n61\n00:02:30.940 --> 00:02:35.880\n&gt;&gt; Windows XP, certainly Windows 8, 8.1,\n\n62\n00:02:35.880 --> 00:02:40.840\nServer 2008 R2, 12, 12 R2 even Server 16,\nany of these operating systems.\n\n63\n00:02:40.840 --> 00:02:45.790\nWe do have the ability to do one of patch\nmanagement outside of the WSUS realm\n\n64\n00:02:45.790 --> 00:02:47.530\nby using the Windows Update feature.\n\n65\n00:02:47.530 --> 00:02:51.540\nWe leverage the BIT Service, the\nBackground Intelligent Transfer Service.\n\n66\n00:02:51.540 --> 00:02:53.670\nI forgot we're supposed to go back and\nforth on that one as well.\n\n67\n00:02:53.670 --> 00:02:54.840\nWe'll do that on the next one, right?\n\n68\n00:02:54.840 --> 00:02:58.710\nSo we leveraged the BIT service to\nbe able to drive localized.dates and\n\n69\n00:02:58.710 --> 00:03:00.920\nactually, we leveraged them for\nWSUS as well.\n\n70\n00:03:00.920 --> 00:03:04.900\nAnd we are able to set up either\nan automated download of patches directly\n\n71\n00:03:04.900 --> 00:03:10.740\nfrom Microsoft, or we could go out and\nbased on a decision to do a scan,\n\n72\n00:03:10.740 --> 00:03:12.720\ntherefore applicational\npatches on our own.\n\n73\n00:03:12.720 --> 00:03:16.140\nTrigger that as a one off event,\ny and have control of it.\n\n74\n00:03:16.140 --> 00:03:18.763\nSo we have different options,\nbut what WSUS does,\n\n75\n00:03:18.763 --> 00:03:22.972\nis extend that thought process around\npatch management to the Enterprise level.\n\n76\n00:03:22.972 --> 00:03:27.294\nWhere we can automate and develop\ninfrastructure that allows us to be able\n\n77\n00:03:27.294 --> 00:03:31.404\nto download, create a catalog of\npatches so we can archive patches and\n\n78\n00:03:31.404 --> 00:03:36.440\nhave them available for centralized\nmanagement, testing, and deployment.\n\n79\n00:03:36.440 --> 00:03:40.663\nWe can enable our ability to be able to\ncentralize security function, approve or\n\n80\n00:03:40.663 --> 00:03:41.852\ndisapprove patches.\n\n81\n00:03:41.852 --> 00:03:45.580\nSo we can say, yes, I want to push those,\ndisapprove, push those patches away,\n\n82\n00:03:45.580 --> 00:03:47.290\nwe don't want to deploy them.\n\n83\n00:03:47.290 --> 00:03:51.350\nWe could do testing and regression\ntesting, integration testing, to ensure\n\n84\n00:03:51.350 --> 00:03:55.310\nthese patches will not, not only will not\nbreak any prior functionality that we\n\n85\n00:03:55.310 --> 00:03:58.990\nhave, but will enhance, and therefore\nadd more security, to our platform.\n\n86\n00:03:58.990 --> 00:04:01.480\nWe could schedule the push\nof these patches.\n\n87\n00:04:01.480 --> 00:04:03.410\nAnd we could then report on them, but\n\n88\n00:04:03.410 --> 00:04:07.600\nwe can also target them to individual\ngroups of machines and/or configurations.\n\n89\n00:04:07.600 --> 00:04:10.200\nSo we have a lot more flexibility,\ncoverage, and\n\n90\n00:04:10.200 --> 00:04:12.500\ncapabilities associated\nwith the use of WSUS.\n\n91\n00:04:12.500 --> 00:04:13.690\nSo we're gonna go through and\n\n92\n00:04:13.690 --> 00:04:16.585\nwe're gonna take a look at how\nwe stand up a WSUS server.\n\n93\n00:04:16.585 --> 00:04:19.505\nAnd along the way, we'll add some\nadditional thought processes in\n\n94\n00:04:19.505 --> 00:04:23.505\nabout how we do the management and the\nadministration, plus the configuration and\n\n95\n00:04:23.505 --> 00:04:24.105\narchitecture.\n\n96\n00:04:24.105 --> 00:04:26.665\nSo if you join me up here or over there or\n\n97\n00:04:26.665 --> 00:04:28.965\nanywhere that we have\nsomething right there.\n\n98\n00:04:28.965 --> 00:04:32.565\nWe're gonna go ahead and we're gonna\nget started with our WSUS discussion.\n\n99\n00:04:32.565 --> 00:04:37.467\nSo I've gone and taken the liberty\nof just doing the initial install\n\n100\n00:04:37.467 --> 00:04:39.708\nof the WSUS role and features.\n\n101\n00:04:39.708 --> 00:04:41.636\nSo I've gone ahead and\njust teed that up in PowerShell,\n\n102\n00:04:41.636 --> 00:04:43.230\nwe'll take a look at that in a minute.\n\n103\n00:04:43.230 --> 00:04:45.030\nAnd then I'm at the point, you can tell,\n\n104\n00:04:45.030 --> 00:04:48.350\nnormally that's what we do in\nour demonstrations where I have\n\n105\n00:04:48.350 --> 00:04:52.460\nnow post configuration or\npost installation tasks available to me.\n\n106\n00:04:52.460 --> 00:04:54.792\nWe're gonna jump in and\nset those up in just a moment.\n\n107\n00:04:54.792 --> 00:04:56.540\nWell, lets take a look at\nwhat I did here first.\n\n108\n00:04:56.540 --> 00:04:58.990\nSo I'm in PowerShell and in PowerShell,\n\n109\n00:04:58.990 --> 00:05:02.424\nI've used my add Window's\nfeature cmdlet right up here.\n\n110\n00:05:02.424 --> 00:05:05.436\nI've done the, just move this\ndown just a little smidge so\n\n111\n00:05:05.436 --> 00:05:08.660\nwe can see that a little better,\nadd Windows feature.\n\n112\n00:05:08.660 --> 00:05:12.260\nI've added in update services,\nupdate services WIDDB for\n\n113\n00:05:12.260 --> 00:05:14.279\nthe Windows Internal Database.\n\n114\n00:05:14.279 --> 00:05:17.559\nI'm going to use the internal database\nto be able to build my patch depository\n\n115\n00:05:17.559 --> 00:05:18.220\ninformation.\n\n116\n00:05:18.220 --> 00:05:22.070\nAnd then update services, and\nI've included all the management tools.\n\n117\n00:05:22.070 --> 00:05:23.270\nSo I've done all that,\n\n118\n00:05:23.270 --> 00:05:27.080\ntakes about three to five minutes\nto do all the configuration.\n\n119\n00:05:27.080 --> 00:05:31.355\nDo things like add the Windows .NET\nframework, the management framework,\n\n120\n00:05:31.355 --> 00:05:34.220\nall of the things we may need\nif they're not already there.\n\n121\n00:05:34.220 --> 00:05:36.570\nSo once we get all that done, ASP.NET,\n\n122\n00:05:36.570 --> 00:05:40.120\nHTTP activation,\nall the things that have to be done here.\n\n123\n00:05:40.120 --> 00:05:43.300\nEverything is good here,\nwe get our success, so that's important.\n\n124\n00:05:43.300 --> 00:05:46.710\nWe're then gonna go ahead and\nwe're gonna come into Server Manager.\n\n125\n00:05:46.710 --> 00:05:49.360\nNow I've done the initial\ninstall from PowerShell,\n\n126\n00:05:49.360 --> 00:05:53.180\nremember we can do this from the GUI\nby going up here to manage and\n\n127\n00:05:53.180 --> 00:05:56.200\nadding in the roles and features and\ndeciding to configure it that way.\n\n128\n00:05:56.200 --> 00:05:58.740\nSo it's up to us to decide how we do this.\n\n129\n00:05:58.740 --> 00:06:02.788\nI usually have a preference for doing\nthe initial set up in the demo with you in\n\n130\n00:06:02.788 --> 00:06:06.900\nPowerShell to show you how you can do it\nand get you used to that thought process\n\n131\n00:06:06.900 --> 00:06:10.398\nbecause Microsoft likes to ask\nabout those kinds of things a lot.\n\n132\n00:06:10.398 --> 00:06:12.473\nSo from an exam preparation perspective,\n\n133\n00:06:12.473 --> 00:06:15.248\nit's good to remember what\nthose cmdlets may look like.\n\n134\n00:06:15.248 --> 00:06:18.281\nIt's good to know about them, but also, in\nthe real world, may want to stretch your\n\n135\n00:06:18.281 --> 00:06:21.005\nlegs a little bit, or your wings,\ndepending on your perspective.\n\n136\n00:06:21.005 --> 00:06:24.290\nYou may want to start using PowerShell,\nand seeing it here, and getting\n\n137\n00:06:24.290 --> 00:06:27.110\ncomfortable with it here, hopefully\nmeans that you'd be able to use it, and\n\n138\n00:06:27.110 --> 00:06:29.100\nget comfortable with it out\nthere in the real world.\n\n139\n00:06:29.100 --> 00:06:32.670\nAs you decide how you're going to stand\nup and configure your own environments.\n\n140\n00:06:32.670 --> 00:06:35.720\n&gt;&gt; Definitely not going away any time\nsoon, plus it's a great way to get you\n\n141\n00:06:35.720 --> 00:06:42.860\nthinking about syntax lines and\neven kind of maybe a gateway language.\n\n142\n00:06:42.860 --> 00:06:43.568\n&gt;&gt; A gateway language.\n\n143\n00:06:43.568 --> 00:06:46.662\n&gt;&gt; [LAUGH] Well you know.\n&gt;&gt; No, I don't.\n\n144\n00:06:46.662 --> 00:06:47.189\nWhat do you mean?\n&gt;&gt; [LAUGH] I'll tell you later.\n\n145\n00:06:47.189 --> 00:06:51.876\n&gt;&gt; [CROSSTALK] I don't know either.\n\n146\n00:06:51.876 --> 00:06:54.180\nIf you don't know and I don't know\nmaybe somebody out there knows.\n\n147\n00:06:54.180 --> 00:06:55.270\n&gt;&gt; You know, you know.\n\n148\n00:06:55.270 --> 00:06:59.912\n&gt;&gt; If you know send a self addressed\nstamped chat to @cherokeeitprotv,\n\n149\n00:06:59.912 --> 00:07:04.563\nI have no idea what you're talking about,\nand we will get back to you.\n\n150\n00:07:04.563 --> 00:07:08.790\nAnd we will thank you for explaining what\nCherokee is trying to talk about with us.\n\n151\n00:07:08.790 --> 00:07:09.456\nYou'll have to tell me about it later.\n\n152\n00:07:09.456 --> 00:07:10.030\n&gt;&gt; I will.\n\n153\n00:07:10.030 --> 00:07:12.480\n&gt;&gt; We didn't preflight that one,\nI have no idea what you're talking about.\n\n154\n00:07:12.480 --> 00:07:15.200\nAll right so\nlet's get into our post install task.\n\n155\n00:07:15.200 --> 00:07:18.450\nSo we come in here our warning flag\ntypically tells us hey there's something\n\n156\n00:07:18.450 --> 00:07:19.110\nto pay attention to.\n\n157\n00:07:19.110 --> 00:07:21.730\nIn this case,\nwe wanna be able to jump in here.\n\n158\n00:07:21.730 --> 00:07:24.100\nNow you may see by\nthe way when we do this,\n\n159\n00:07:24.100 --> 00:07:27.690\nthat you get instead of a yellow flag\nsaying hey pay attention, something to do.\n\n160\n00:07:27.690 --> 00:07:28.980\nThe good news, you can go do it.\n\n161\n00:07:28.980 --> 00:07:31.390\nBut you may get a red warning\npendant up there which means, hey,\n\n162\n00:07:31.390 --> 00:07:32.572\nthere was an error-\n&gt;&gt; Something went wrong.\n\n163\n00:07:32.572 --> 00:07:33.770\n&gt;&gt; During the install,\nsomething went wrong.\n\n164\n00:07:33.770 --> 00:07:35.987\nExactly.\nSo, if you see that happen, or\n\n165\n00:07:35.987 --> 00:07:40.625\nif PowerShell, if you do it in PowerShell,\nPowerShell hangs on the install, and\n\n166\n00:07:40.625 --> 00:07:42.254\nit does happen on occasion.\n\n167\n00:07:42.254 --> 00:07:44.880\nI've talked about this in some other\nepisodes in some other areas where we've\n\n168\n00:07:44.880 --> 00:07:47.186\nhad some issues and we've tried to\noccasionally show them to you, or\n\n169\n00:07:47.186 --> 00:07:48.610\nwe just deal with them behind the scenes.\n\n170\n00:07:48.610 --> 00:07:51.227\nDon't always expose you to them,\nbut it can happen.\n\n171\n00:07:51.227 --> 00:07:54.029\nFull disclosure, real world things don't\nalways go the way they're supposed to.\n\n172\n00:07:54.029 --> 00:07:58.572\nSo a couple things that could go wrong\nhere just before we show you what goes\n\n173\n00:07:58.572 --> 00:08:00.496\nright, if Power Shell Hangs.\n\n174\n00:08:00.496 --> 00:08:02.764\nAnd this has been known to happen,\nespecially with WSUS,\n\n175\n00:08:02.764 --> 00:08:05.090\nbecause it does take a few\nminutes to do the install.\n\n176\n00:08:05.090 --> 00:08:09.280\nAnd it can time out, PowerShell, if it\ndoesn't receive updates every so often.\n\n177\n00:08:09.280 --> 00:08:10.977\nIt can actually just set there and hang.\n\n178\n00:08:10.977 --> 00:08:12.560\nSo one of the things you\ncan do is just go in.\n\n179\n00:08:12.560 --> 00:08:15.256\nIf that progress bar is kind of\nsitting there and not moving, go and\n\n180\n00:08:15.256 --> 00:08:17.150\nclick on the window to\nmake sure it's active.\n\n181\n00:08:17.150 --> 00:08:18.240\nHit the enter key.\n\n182\n00:08:18.240 --> 00:08:20.600\nThat doesn't do anything other than\nforce the console to refresh and\n\n183\n00:08:20.600 --> 00:08:21.580\ngive you an updated status.\n\n184\n00:08:21.580 --> 00:08:25.160\nSo that may not hurt anything, but\nit will move things along, so to speak.\n\n185\n00:08:25.160 --> 00:08:29.130\nIf there is a problem,\nif things are not working, you obviously\n\n186\n00:08:29.130 --> 00:08:32.540\nmay have to back out of the install\nif it goes horribly, horribly wrong.\n\n187\n00:08:32.540 --> 00:08:34.380\nSo you may have to do that and restart.\n\n188\n00:08:34.380 --> 00:08:35.917\nAnd so\nthat's just something to think about.\n\n189\n00:08:35.917 --> 00:08:41.385\nAnd or you can go into the GUI and you\ncheck on the status from in there as well.\n\n190\n00:08:41.385 --> 00:08:44.900\nNow I've noticed and I've also had\nthe experience where if I have\n\n191\n00:08:44.900 --> 00:08:49.120\nServer Manager open behind the scenes and\nI run an install from PowerShell.\n\n192\n00:08:49.120 --> 00:08:52.480\nCherokee's seen this and\nhas walked through this with me and\n\n193\n00:08:52.480 --> 00:08:56.540\nwe've kind of agreed that a lot of times,\nthe concerns we get with PowerShell,\n\n194\n00:08:56.540 --> 00:08:58.570\nI don't know why and\nI'm not suggesting this is an issue.\n\n195\n00:08:58.570 --> 00:08:59.670\nI'm just pointing out that\nI've seen this happen.\n\n196\n00:08:59.670 --> 00:09:01.740\n&gt;&gt; It's been a correlation\nthat we've noticed.\n\n197\n00:09:01.740 --> 00:09:02.674\n&gt;&gt; It's been a correlation or\n\n198\n00:09:02.674 --> 00:09:04.469\njust something we've kind of come up with,\nright?\n\n199\n00:09:04.469 --> 00:09:05.374\nThat we've kind of figured out.\n\n200\n00:09:05.374 --> 00:09:09.586\nMaybe a cause and\neffect relationship which is with Windows,\n\n201\n00:09:09.586 --> 00:09:11.940\nrather with server manager open.\n\n202\n00:09:11.940 --> 00:09:15.475\nAnd then waiting on information\nto refresh and or update status,\n\n203\n00:09:15.475 --> 00:09:19.540\nwith PowerShell running the install,\nthat sometimes PowerShell hangs.\n\n204\n00:09:19.540 --> 00:09:22.668\nBecause the two are not playing\nnicely together, so to speak, right?\n\n205\n00:09:22.668 --> 00:09:26.854\nSo I've gotten in the habit of\nturning Server Manager down.\n\n206\n00:09:26.854 --> 00:09:30.740\nEssentially closing it when I'm ready\nto do a config through PowerShell.\n\n207\n00:09:30.740 --> 00:09:34.720\nLeaving PowerShell open to run and\nthen opening Server Manager after the fact\n\n208\n00:09:34.720 --> 00:09:37.690\nto have it update and\nrecognize the fact the install's done.\n\n209\n00:09:37.690 --> 00:09:40.360\nThat seems to eliminate\nmost of these glitches and\n\n210\n00:09:40.360 --> 00:09:43.380\nmost of these, whoops,\nI didn't have that proper timing or\n\n211\n00:09:43.380 --> 00:09:46.600\nthat configuration wasn't passed\nthe proper way and one hangs.\n\n212\n00:09:46.600 --> 00:09:49.823\nSo If you're experiencing some of these\nissues in the real world, just a little\n\n213\n00:09:49.823 --> 00:09:53.159\nheads up for you, not saying they're\ngonna happen, but I'm saying they could.\n\n214\n00:09:53.159 --> 00:09:55.641\nAnd if they do, just a little bit of\nreal world troubleshooting for you.\n\n215\n00:09:55.641 --> 00:09:58.643\nJust to give you the benefit of\nthe hard won experience that\n\n216\n00:09:58.643 --> 00:10:01.400\nwe've acquired here as we've\nbeen going through and\n\n217\n00:10:01.400 --> 00:10:05.091\ndoing all this stuff for all the many\nshows we do and many episodes we do.\n\n218\n00:10:05.091 --> 00:10:06.637\nWe see a lot of this kind of behavior.\n\n219\n00:10:06.637 --> 00:10:09.675\nAnd I see this in the real world\naway from ITProTV with my customers.\n\n220\n00:10:09.675 --> 00:10:11.850\nSo it's not just limited to here.\n\n221\n00:10:11.850 --> 00:10:14.610\nAnd that usually does solve the problem,\nmore often than not, right?\n\n222\n00:10:14.610 --> 00:10:16.210\n&gt;&gt; Yeah.\nIf you're going to commit,\n\n223\n00:10:16.210 --> 00:10:20.750\nthen commit either to full GUI or\nfull PowerShell here and\n\n224\n00:10:20.750 --> 00:10:23.060\ndon't try to do a hybrid\ninstaller back and forth.\n\n225\n00:10:23.060 --> 00:10:25.400\n&gt;&gt; Well, just make sure one is not\nopen while you're doing the other,\n\n226\n00:10:25.400 --> 00:10:27.020\nbecause you are going to\nwant to jump back in.\n\n227\n00:10:27.020 --> 00:10:30.760\nProbably to the server manager like we're\nabout to do, to do the post install.\n\n228\n00:10:30.760 --> 00:10:34.530\nBecause that's gonna usually be easier to\nhandle from there than it is to try and\n\n229\n00:10:34.530 --> 00:10:36.280\nget all that done in PowerShell.\n\n230\n00:10:36.280 --> 00:10:37.850\nAnd then you may revert\nto PowerShell later,\n\n231\n00:10:37.850 --> 00:10:40.980\nbut you just want to pick your tool for\nthat particular segment of activities.\n\n232\n00:10:40.980 --> 00:10:42.154\n&gt;&gt; There you go.\n&gt;&gt; As Cherokee suggested.\n\n233\n00:10:42.154 --> 00:10:43.240\nIt's a really good idea.\n\n234\n00:10:44.440 --> 00:10:45.570\n&gt;&gt; All right, so\njoin me back here, if you will.\n\n235\n00:10:45.570 --> 00:10:47.793\nRight there.\nAnd let's click on our, hey,\n\n236\n00:10:47.793 --> 00:10:50.106\nyou've got some other stuff to do here.\n\n237\n00:10:50.106 --> 00:10:52.320\nAnd let's go launch that and let's\ntake a look at what we're going to do.\n\n238\n00:10:52.320 --> 00:10:54.323\nSo we'll give this just a second.\n\n239\n00:10:54.323 --> 00:10:58.224\nYou'll see it goes to that red flag\nthere that I was talking about, right?\n\n240\n00:10:58.224 --> 00:11:00.270\nWhich is post-deployment configuration.\n\n241\n00:11:00.270 --> 00:11:01.230\nThere's something going on.\n\n242\n00:11:01.230 --> 00:11:03.646\nConfiguration failed for\nWindows WSUS, right?\n\n243\n00:11:03.646 --> 00:11:09.090\nSo when that does happen, and we may get\nthis, this may be an issue for us, right?\n\n244\n00:11:09.090 --> 00:11:09.930\nSo what are we gonna want to do?\n\n245\n00:11:09.930 --> 00:11:11.136\nHow are we gonna go in?\n\n246\n00:11:11.136 --> 00:11:11.970\nHow are we gonna deal with that?\n\n247\n00:11:11.970 --> 00:11:12.620\nLet's take a look.\n\n248\n00:11:12.620 --> 00:11:16.830\nSo not that it should happen, this\nactually may be an outcome of the fact,\n\n249\n00:11:16.830 --> 00:11:19.780\nas I said, that you have to close\nan open server manager, number one.\n\n250\n00:11:19.780 --> 00:11:23.110\nSo I'm trying to generate some issues and\nshow you some things.\n\n251\n00:11:23.110 --> 00:11:26.140\nSo I'm gonna go ahead and I'm gonna check\ntwo things before we fix this problem.\n\n252\n00:11:26.140 --> 00:11:27.900\nNumber one, I'm gonna scroll down here.\n\n253\n00:11:29.580 --> 00:11:30.860\nAnd we're gonna take a look.\n\n254\n00:11:30.860 --> 00:11:34.231\nNow I know that this service error is not\nthe error that's causing this problem.\n\n255\n00:11:34.231 --> 00:11:36.634\nWhat's causing this problem is I\nhave to open the WSUS console and\n\n256\n00:11:36.634 --> 00:11:39.313\ntake care of something really quick\nbefore I finish the configuration.\n\n257\n00:11:39.313 --> 00:11:40.976\nSo we're gonna take a look\nat that in a minute.\n\n258\n00:11:40.976 --> 00:11:42.114\nBut you should always check and\n\n259\n00:11:42.114 --> 00:11:44.590\nsee if there's any service errors,\nbecause you never know.\n\n260\n00:11:44.590 --> 00:11:47.380\nMaybe a service that misfired\nthat isn't working the right way\n\n261\n00:11:47.380 --> 00:11:49.040\nthat can get behind one of these errors.\n\n262\n00:11:49.040 --> 00:11:52.660\nThis particular service is nothing\nto do with what we're doing here,\n\n263\n00:11:52.660 --> 00:11:55.940\nit's just one of the services we use to\nset up and sync the lab environment so\n\n264\n00:11:55.940 --> 00:11:56.710\nthat it doesn't have to run.\n\n265\n00:11:56.710 --> 00:11:57.830\nIt's on a delayed start.\n\n266\n00:11:57.830 --> 00:11:58.740\nWe don't need it.\n\n267\n00:11:58.740 --> 00:12:01.420\nSo we often will see that in\nmany of the demo environments.\n\n268\n00:12:01.420 --> 00:12:02.990\nWe always have a little red indicator.\n\n269\n00:12:02.990 --> 00:12:05.680\nThere's always one service\nthat typically isn't running.\n\n270\n00:12:05.680 --> 00:12:07.590\nSo this is not at\nthe heart of the problem.\n\n271\n00:12:07.590 --> 00:12:09.127\nThe download maps manager, right?\n\n272\n00:12:09.127 --> 00:12:09.860\nWe don't need that.\n\n273\n00:12:09.860 --> 00:12:11.170\nIt's not important for us.\n\n274\n00:12:11.170 --> 00:12:13.440\nBut it's good to check, just to make sure.\n\n275\n00:12:13.440 --> 00:12:17.510\nNow the other thing we may wanna go take\na look at, just to see what is going on,\n\n276\n00:12:17.510 --> 00:12:19.842\nlet's click on the WSUS issue or\nitem here.\n\n277\n00:12:19.842 --> 00:12:21.750\nIt says configuration failed for\nWindows services.\n\n278\n00:12:21.750 --> 00:12:25.404\nWell we know that, thank you,\nthat's good to know more.\n\n279\n00:12:25.404 --> 00:12:29.550\nClick here, post deployment\nconfiguration failed for whatever.\n\n280\n00:12:29.550 --> 00:12:30.520\nConfiguration failed.\n\n281\n00:12:30.520 --> 00:12:32.990\nA log file was created at,\nwhich was what I want to show you.\n\n282\n00:12:32.990 --> 00:12:36.000\nIt may be hard to see, but there's\na path there for the log file, right?\n\n283\n00:12:36.000 --> 00:12:38.702\nAnd so we can go in and\nthere's a temp log file that was there.\n\n284\n00:12:38.702 --> 00:12:40.800\nAnd we want to look at\nwhat's in the log file.\n\n285\n00:12:40.800 --> 00:12:42.100\nBut I already know what's there.\n\n286\n00:12:42.100 --> 00:12:44.500\nSo let's take a look at what\nwe're gonna do to fix this.\n\n287\n00:12:44.500 --> 00:12:46.975\nBut in the real world,\nsomething comes up like this,\n\n288\n00:12:46.975 --> 00:12:50.552\nit's always good to drill down and\nfind out what the issues and concerns are.\n\n289\n00:12:50.552 --> 00:12:52.787\nAll right, so we might wanna\ntake a look at our log file.\n\n290\n00:12:52.787 --> 00:12:56.496\nNow what we're gonna do is come in here,\nwe're going to go.\n\n291\n00:12:56.496 --> 00:12:59.210\nLet's just see where this is,\nshould be right down here.\n\n292\n00:12:59.210 --> 00:13:02.550\nI know it's hard to see cuz I'm sitting on\ntop of it, but at the bottom of that list.\n\n293\n00:13:02.550 --> 00:13:04.180\nThere we are, right down at the bottom.\n\n294\n00:13:04.180 --> 00:13:05.737\nWindow Server update service.\n\n295\n00:13:05.737 --> 00:13:08.870\nSo we're gonna go in and\nwe're going to pull this up real quick.\n\n296\n00:13:08.870 --> 00:13:11.302\nSo give me just a second to click on that.\n\n297\n00:13:13.046 --> 00:13:16.520\nAnd what we have to do is\ncomplete the WSUS installation.\n\n298\n00:13:16.520 --> 00:13:18.960\nAnd this is an issue that\nyou will find with WSUS.\n\n299\n00:13:18.960 --> 00:13:22.680\nClicking on that post-configuration\nlink doesn't actually\n\n300\n00:13:22.680 --> 00:13:23.840\nlaunch this little screen.\n\n301\n00:13:23.840 --> 00:13:26.090\nEven though it should, this is a\ndisconnect that's been in the product for\n\n302\n00:13:26.090 --> 00:13:27.790\nI don't even know how many generations.\n\n303\n00:13:27.790 --> 00:13:31.461\nAnd it should normally just launch\nthis and you should just get this so\n\n304\n00:13:31.461 --> 00:13:35.259\nyou can tell it, it being WSUS,\nwhere to actually store the updates and\n\n305\n00:13:35.259 --> 00:13:37.244\nprovide the update path to a folder.\n\n306\n00:13:37.244 --> 00:13:37.822\nIn this case,\n\n307\n00:13:37.822 --> 00:13:41.390\nwe've already created one called C or\nin the path on the C drive called updates.\n\n308\n00:13:41.390 --> 00:13:43.330\nBut for some reason, this usually happens.\n\n309\n00:13:43.330 --> 00:13:46.180\nIt does not make the connection and\nwe get this error, even though it's\n\n310\n00:13:46.180 --> 00:13:48.800\nreally not an error, it's just a matter\nof knowing you have to go launch this\n\n311\n00:13:48.800 --> 00:13:51.900\nto actually bring this window up so\nwe can do the configuration.\n\n312\n00:13:51.900 --> 00:13:54.090\nIn other words,\nthere's a GUI mismatch here.\n\n313\n00:13:54.090 --> 00:13:58.290\nThere's a break in the logic from the hey,\nclick this link to actually drive the post\n\n314\n00:13:58.290 --> 00:14:04.460\ninstall that Window's server in the server\nmanager gives us and the configuration for\n\n315\n00:14:04.460 --> 00:14:08.820\nWSUS which is hey, launch this window\nwhen I load the console the first time.\n\n316\n00:14:08.820 --> 00:14:12.280\nThis is a GUI interface issue\nthat Microsoft has to address and\n\n317\n00:14:12.280 --> 00:14:13.220\nthey just haven't done it.\n\n318\n00:14:13.220 --> 00:14:16.210\nSo I'm just pointing this out for you,\nwanted you to see this so you know.\n\n319\n00:14:16.210 --> 00:14:19.230\nThis is expected behavior,\nmeaning this normally happens.\n\n320\n00:14:19.230 --> 00:14:20.410\nThe product is not broken.\n\n321\n00:14:20.410 --> 00:14:21.600\nYou didn't do anything wrong.\n\n322\n00:14:21.600 --> 00:14:23.270\nThe error itself is not an error.\n\n323\n00:14:23.270 --> 00:14:24.810\nYou just have to know how to deal with it.\n\n324\n00:14:24.810 --> 00:14:26.080\nYou go look in the logs.\n\n325\n00:14:26.080 --> 00:14:29.020\nYou actually will find, essentially,\nguidance on how to do this.\n\n326\n00:14:29.020 --> 00:14:30.410\nBut it's real simple to fix.\n\n327\n00:14:30.410 --> 00:14:33.780\nLet's just come over here and actually\ndo what that link should have done.\n\n328\n00:14:33.780 --> 00:14:35.590\nLaunch the Complete\nthe Wizard screen here and\n\n329\n00:14:35.590 --> 00:14:37.790\nlet's actually tell it\nwhere to put the updates.\n\n330\n00:14:37.790 --> 00:14:42.260\nSo you wanna store up dates locally,\nspecify a content directory.\n\n331\n00:14:42.260 --> 00:14:45.060\nNow I have created a folder in the root\nof the C drive called Updates.\n\n332\n00:14:45.060 --> 00:14:46.740\nYou can put this wherever you would like.\n\n333\n00:14:46.740 --> 00:14:49.580\nNo guidance on right, wrong,\nput it here, put it there.\n\n334\n00:14:49.580 --> 00:14:52.190\nBut obviously, you want a directory\nwhere you're gonna have enough room and\n\n335\n00:14:52.190 --> 00:14:56.970\noverhead headroom to grow, because if you\nare familiar with the update cycle and\n\n336\n00:14:56.970 --> 00:15:00.870\nthe fact that Microsoft puts out quite a\nnumber of patches on average every month.\n\n337\n00:15:00.870 --> 00:15:04.410\nAnd that number grows over time, depending\non the number of operating systems and\n\n338\n00:15:04.410 --> 00:15:08.970\nproducts you're patching with WSUS and\nthe languages you may be patching for.\n\n339\n00:15:08.970 --> 00:15:12.500\nAny or all three of those things\ncan bloat the update catalog and\n\n340\n00:15:12.500 --> 00:15:17.390\ncause our update directory to grow in\nsize dramatically by gigabytes, right?\n\n341\n00:15:17.390 --> 00:15:19.650\nSo over time, this can become very big.\n\n342\n00:15:19.650 --> 00:15:21.620\nYou wanna have enough room on\nthe drive you're targeting.\n\n343\n00:15:21.620 --> 00:15:24.360\nSo just keep that in mind and\nthink about where you wanna put this.\n\n344\n00:15:24.360 --> 00:15:27.088\nMeaning not on the C drive with the\nWindows install where you only have like\n\n345\n00:15:27.088 --> 00:15:28.323\n100 megabytes left, right?\n\n346\n00:15:28.323 --> 00:15:29.320\n&gt;&gt; [LAUGH]\n&gt;&gt; That's not gonna work.\n\n347\n00:15:29.320 --> 00:15:31.627\nThat was the old school\nissue we always ran into.\n\n348\n00:15:31.627 --> 00:15:35.656\nYou know, at one point there was a thought\nprocess years ago about create a small\n\n349\n00:15:35.656 --> 00:15:36.750\ninstall partition.\n\n350\n00:15:36.750 --> 00:15:39.022\nI'm talking back like in\nthe Windows NT days right?\n\n351\n00:15:39.022 --> 00:15:43.908\nCrete a small install partition, 500 megs\nor something back then was a lot of space,\n\n352\n00:15:43.908 --> 00:15:48.265\nand then segment the system and put all\nthe other operational data on a separate\n\n353\n00:15:48.265 --> 00:15:52.840\npartition and run everything else from\nthe e-drive or whatever would have been.\n\n354\n00:15:52.840 --> 00:15:56.389\nSo when you did that and you started doing\nthese kind of things and applying patches\n\n355\n00:15:56.389 --> 00:15:59.846\nand whatever, at some point, you will\nultimately wind up running out of room.\n\n356\n00:15:59.846 --> 00:16:02.876\nAnd that was always the big issue with\nthose systems where you had these\n\n357\n00:16:02.876 --> 00:16:04.532\nreally small C partitions for the OS.\n\n358\n00:16:04.532 --> 00:16:07.613\nAnd we started applying all of these\npatches and it wasn't enough room.\n\n359\n00:16:07.613 --> 00:16:10.893\nSo we stopped doing that because obviously\nthat leads to all sort of complications.\n\n360\n00:16:10.893 --> 00:16:12.801\n&gt;&gt; Right,\nplus the cost to storage ratio, but\n\n361\n00:16:12.801 --> 00:16:15.544\nstill it's definitely something\nyou don't wanna over look.\n\n362\n00:16:15.544 --> 00:16:19.754\n&gt;&gt; Well yeah, these days, pennies on the\ngigabyte, it's really, really inexpensive\n\n363\n00:16:19.754 --> 00:16:23.229\nif we're talking about traditional\nstorage, not SSD based storage.\n\n364\n00:16:23.229 --> 00:16:26.167\nAnd even then storage is relatively\ncheap these days in general.\n\n365\n00:16:26.167 --> 00:16:27.862\nBut you just wanna plan ahead, right?\n\n366\n00:16:27.862 --> 00:16:30.286\nJust plan to be successful is\nwhat we're suggesting to you.\n\n367\n00:16:30.286 --> 00:16:32.602\nSo join me back here,\nlet's go back, we'll take a look.\n\n368\n00:16:32.602 --> 00:16:35.379\nSo we're gonna go ahead and\njust browse out to this folder.\n\n369\n00:16:35.379 --> 00:16:37.876\nNow as I mentioned to you,\nI've already got the updates fold,\n\n370\n00:16:37.876 --> 00:16:39.539\nyou'll see it just sitting right there.\n\n371\n00:16:39.539 --> 00:16:42.625\nThere's nothing in it right now, it's\nempty, we're gonna put our patches there.\n\n372\n00:16:42.625 --> 00:16:48.275\nSo we're gonna go ahead and browse,\nand we'll go in, go to this PC.\n\n373\n00:16:48.275 --> 00:16:52.110\nLet's go down here, when was the last time\nyou actually used a floppy disk drive?\n\n374\n00:16:52.110 --> 00:16:53.413\n&gt;&gt; [LAUGH]\n&gt;&gt; It's amazing,\n\n375\n00:16:53.413 --> 00:16:54.687\ncertain things just stick around.\n\n376\n00:16:54.687 --> 00:16:57.696\n&gt;&gt; I don't know, I'm really trying\nto think right now, but yeah.\n\n377\n00:16:57.696 --> 00:17:00.514\n&gt;&gt; I'm gonna store those updates\non the a drive, cuz I can do that.\n\n378\n00:17:00.514 --> 00:17:03.204\nThat's what I wanna do, but\nyeah, there it is, right there.\n\n379\n00:17:03.204 --> 00:17:04.655\nAll right, so updates right there.\n\n380\n00:17:04.655 --> 00:17:05.766\nSee, we're gonna specify there.\n\n381\n00:17:05.766 --> 00:17:07.395\nBy the way, notice, make a new folder.\n\n382\n00:17:07.395 --> 00:17:11.155\nIf a you need to make a directory on the\nflier, you can do that with no trouble.\n\n383\n00:17:11.155 --> 00:17:14.393\nSo we'll click OK,\nclick that in there, click Run.\n\n384\n00:17:14.393 --> 00:17:17.256\nNow post install task in progress,\nthis might take a few minutes.\n\n385\n00:17:17.256 --> 00:17:18.770\nPlease don't close this window.\n\n386\n00:17:18.770 --> 00:17:23.216\nPay attention to that guidance, but\nalso get a drink, have a cigarette or-\n\n387\n00:17:23.216 --> 00:17:23.720\n&gt;&gt; Don't puff a cigarette.\n\n388\n00:17:23.720 --> 00:17:24.320\n&gt;&gt; Drink a cup of coffee or\n\n389\n00:17:24.320 --> 00:17:25.462\nwhatever you're gonna do-\n&gt;&gt; [LAUGH]\n\n390\n00:17:25.462 --> 00:17:27.038\n&gt;&gt; Relax in other words, right?\n\n391\n00:17:27.038 --> 00:17:29.137\nBut kick back because this\nis gonna take a while,\n\n392\n00:17:29.137 --> 00:17:31.708\nwe're not kidding when we say\nthis will take a few minutes.\n\n393\n00:17:31.708 --> 00:17:35.505\nDepending on the initial size of the\ncatalogue you have to build to download\n\n394\n00:17:35.505 --> 00:17:37.808\nand get the definitions for\nall the updates.\n\n395\n00:17:37.808 --> 00:17:39.647\nSo they're gonna be available to you,\n\n396\n00:17:39.647 --> 00:17:42.489\nthis little bit of time can\nactually take quite a bit of time,\n\n397\n00:17:42.489 --> 00:17:46.301\ndepending on the speed of your connection\nand the operating system in question.\n\n398\n00:17:46.301 --> 00:17:49.143\nIn this case Server 16, so\nwe're gonna do one of those famous,\n\n399\n00:17:49.143 --> 00:17:52.623\nwe're gonna be right back solutions where\nit seems like it takes no time at all.\n\n400\n00:17:52.623 --> 00:17:54.145\nBut Cherokee's actually\ngot a birthday coming up.\n\n401\n00:17:54.145 --> 00:17:57.671\nWe're gonna celebrate that before we come\nback, cuz that's gonna take at least two\n\n402\n00:17:57.671 --> 00:17:58.617\nor three days-\n&gt;&gt; Yeah.\n\n403\n00:17:58.617 --> 00:17:59.266\n&gt;&gt; Before we get there.\n\n404\n00:17:59.266 --> 00:17:59.875\n&gt;&gt; Birthday week.\n\n405\n00:17:59.875 --> 00:18:00.655\n&gt;&gt; Yeah, birthday week, right?\n\n406\n00:18:00.655 --> 00:18:02.225\nSo we're gonna have a whole birthday week.\n\n407\n00:18:02.225 --> 00:18:03.375\nBefore this thing actually finishes up.\n\n408\n00:18:03.375 --> 00:18:05.348\n&gt;&gt; [LAUGH]\n&gt;&gt; It's not gonna be quite that long, but\n\n409\n00:18:05.348 --> 00:18:06.381\nit is gonna take a few minutes.\n\n410\n00:18:06.381 --> 00:18:07.911\nLong enough that we're\nnot gonna wait on it.\n\n411\n00:18:07.911 --> 00:18:11.444\nWhen you come back and join us,\nit's gonna be just like that.\n\n412\n00:18:11.444 --> 00:18:12.077\n&gt;&gt; Zip-a-Dee-Doo-Dah.\n\n413\n00:18:12.077 --> 00:18:13.315\n&gt;&gt; But when you come back and join us,\n\n414\n00:18:13.315 --> 00:18:15.580\nwe're actually gonna have\nthat update fully finished.\n\n415\n00:18:15.580 --> 00:18:18.710\nWe'll see the next steps in the process\nand we'll pick up go right from there.\n\n416\n00:18:20.440 --> 00:18:23.409\nAll right, hey, cool, look at this smile,\nit really took like, my God,\n\n417\n00:18:23.409 --> 00:18:24.296\nlike a million years.\n\n418\n00:18:24.296 --> 00:18:25.232\nBut here we are, right?\n\n419\n00:18:25.232 --> 00:18:27.460\nWe promised you we'll be quick and\nwe're back.\n\n420\n00:18:27.460 --> 00:18:30.425\nThis is what you'll see when\nthis inital sink finishes,\n\n421\n00:18:30.425 --> 00:18:33.589\nby the way just noticed progress\nis the bars indicator here.\n\n422\n00:18:33.589 --> 00:18:36.681\nThe run button does not change,\nit does not stop being graded out.\n\n423\n00:18:36.681 --> 00:18:40.406\nYou just know when it's\nfull you hit close, right?\n\n424\n00:18:40.406 --> 00:18:44.238\nAnd so we're gonna do that, and\n[COUGH] I'll just quickly show you,\n\n425\n00:18:44.238 --> 00:18:46.199\nwe're waiting on that to show up.\n\n426\n00:18:46.199 --> 00:18:48.460\nWhich is now the wizard that\nwe're gonna run through, but\n\n427\n00:18:48.460 --> 00:18:51.800\nbefore we do that let me just show you\nwhat the output of this past process was.\n\n428\n00:18:51.800 --> 00:18:54.650\nLet me move this up here just so\nwe can see the wizard,\n\n429\n00:18:54.650 --> 00:18:57.090\nbut what we did is we went through and\ndid an initial sync.\n\n430\n00:18:57.090 --> 00:19:00.830\nWe didn't download the entire catalogue,\nbut what we did is run an initial scan on\n\n431\n00:19:00.830 --> 00:19:05.034\nthe system to understand what kind of\npatches we're gonna need and where we are.\n\n432\n00:19:05.034 --> 00:19:07.840\nAnd so when we do that,\n\n433\n00:19:07.840 --> 00:19:11.000\nin the Updates directory now\nhave Update Service Packages,\n\n434\n00:19:11.000 --> 00:19:15.360\nServices Packages, and a WSUS content\ndirectories that are created.\n\n435\n00:19:15.360 --> 00:19:17.876\nAnd that's really the outcome of\nthat initial scan that we just did.\n\n436\n00:19:17.876 --> 00:19:19.602\nSo we've got that done, so\n\n437\n00:19:19.602 --> 00:19:23.894\nnow what we're gonna do is runs\nthrough the rest of the wizard here.\n\n438\n00:19:23.894 --> 00:19:25.844\nI sound like you with a that\nrascally [INAUDIBLE].\n\n439\n00:19:25.844 --> 00:19:28.335\n&gt;&gt; Rascally, west my weary bones.\n\n440\n00:19:28.335 --> 00:19:29.677\n&gt;&gt; Rascally weary bones, yeah.\n\n441\n00:19:29.677 --> 00:19:30.777\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n442\n00:19:30.777 --> 00:19:34.078\nwe've got a rather extensive set of things\nwe've got to go through here, right?\n\n443\n00:19:34.078 --> 00:19:35.560\nGood thing we got more than ten minutes on\n\n444\n00:19:35.560 --> 00:19:36.216\nthe clock-\n&gt;&gt; [LAUGH]\n\n445\n00:19:36.216 --> 00:19:37.010\n&gt;&gt; Otherwise I don't know if we\n\n446\n00:19:37.010 --> 00:19:37.543\nhave enough time.\n\n447\n00:19:37.543 --> 00:19:39.873\n&gt;&gt; You think we have\nmore then ten minutes.\n\n448\n00:19:39.873 --> 00:19:43.262\n&gt;&gt; Mr. Wizard says that may take more\nthen ten minutes, so you and Mr.\n\n449\n00:19:43.262 --> 00:19:44.932\nWizard can have a conversation.\n\n450\n00:19:44.932 --> 00:19:46.915\nAll right, so let's take a look here.\n\n451\n00:19:46.915 --> 00:19:51.540\nSo now, we're gonna go through complete\nour conversation rather our set up and\n\n452\n00:19:51.540 --> 00:19:53.621\nour actual configuration, WSUS.\n\n453\n00:19:53.621 --> 00:19:55.861\nBut along the way,\nwe're gonna have the conversation and\n\n454\n00:19:55.861 --> 00:19:59.110\ncomplete it with you about some of\nthe do's and don'ts associated with WSUS.\n\n455\n00:19:59.110 --> 00:20:02.749\nSo before we begin is the server firewall\nconfigured to allow clients to access\n\n456\n00:20:02.749 --> 00:20:03.361\nthe server.\n\n457\n00:20:03.361 --> 00:20:04.681\nThese are some questions we post,\n\n458\n00:20:04.681 --> 00:20:06.918\nbecause these are gonna be\nimportant things to consider.\n\n459\n00:20:06.918 --> 00:20:10.510\nWe're gonna have to be able to make\nsure we can get in and have access.\n\n460\n00:20:10.510 --> 00:20:14.460\nCan this computer connect to the upstream\nserver such as Microsoft Update?\n\n461\n00:20:14.460 --> 00:20:18.215\nMeaning if we have a proxy server,\nwe have a firewall between us.\n\n462\n00:20:18.215 --> 00:20:19.650\nAnd the outside world or\n\n463\n00:20:19.650 --> 00:20:23.752\naccess requirements around ensuring\naccess to the outside world.\n\n464\n00:20:23.752 --> 00:20:27.281\nAre those set up in our favor, or are we\ngonna have a problem trying to connect and\n\n465\n00:20:27.281 --> 00:20:28.490\nactually grab content?\n\n466\n00:20:28.490 --> 00:20:30.636\nSo that's gonna be important\nto consider as well.\n\n467\n00:20:30.636 --> 00:20:33.637\n&gt;&gt; Well this just kind of highlights\nanother reason as to why this\n\n468\n00:20:33.637 --> 00:20:34.740\nis a pretty cool tool.\n\n469\n00:20:34.740 --> 00:20:36.586\nBecause we're not creating,\n\n470\n00:20:36.586 --> 00:20:40.643\npunching multiple holes through\nthat proverbial firewall there.\n\n471\n00:20:40.643 --> 00:20:42.254\nWe're just really happy-\n&gt;&gt; Proverbial firewall?\n\n472\n00:20:42.254 --> 00:20:43.401\n&gt;&gt; I was just-\n&gt;&gt; Is that a different category of\n\n473\n00:20:43.401 --> 00:20:44.319\nfirewall, I'm not familiar with?\n\n474\n00:20:44.319 --> 00:20:47.307\n&gt;&gt; Well I was thinking like I\ndon't know why, this kind of-\n\n475\n00:20:47.307 --> 00:20:48.271\n&gt;&gt; An allegorical firewall?\n\n476\n00:20:48.271 --> 00:20:49.335\nOne we just talk about-\n&gt;&gt; [LAUGH]\n\n477\n00:20:49.335 --> 00:20:50.978\n&gt;&gt; But only in like descriptive terms,\n\n478\n00:20:50.978 --> 00:20:52.573\none that doesn't actually exist?\n\n479\n00:20:52.573 --> 00:20:55.357\n&gt;&gt; Okay, so your real firewall or-\n&gt;&gt; I was just joking.\n\n480\n00:20:55.357 --> 00:20:56.586\n&gt;&gt; I always think about it like this.\n\n481\n00:20:56.586 --> 00:21:00.542\nIf you have a big black garbage bag and\nyou're punching the holes in for\n\n482\n00:21:00.542 --> 00:21:03.709\nthe light to come in,\nwe wanna have these holes really.\n\n483\n00:21:03.709 --> 00:21:06.026\nDefined and\nnot a ton of light coming in, right?\n\n484\n00:21:06.026 --> 00:21:08.917\nSo if [LAUGH] okay, okay.\n\n485\n00:21:08.917 --> 00:21:11.774\n&gt;&gt; I'm giving you the rope you\nneed to hang yourself with.\n\n486\n00:21:11.774 --> 00:21:13.242\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm going with you, but\n\n487\n00:21:13.242 --> 00:21:15.138\nI'm not sure how we get back from being-\n&gt;&gt; Right, so-\n\n488\n00:21:15.138 --> 00:21:16.699\n&gt;&gt; Black army bags with holes and\n\n489\n00:21:16.699 --> 00:21:20.578\nallegorical firewalls to actually\nwhat we're talking about with WSUS.\n\n490\n00:21:20.578 --> 00:21:21.610\n&gt;&gt; Okay, it's coming, it's coming.\n\n491\n00:21:21.610 --> 00:21:22.582\n&gt;&gt; Make the connection for\nme, I'm waiting for it.\n\n492\n00:21:22.582 --> 00:21:23.526\n&gt;&gt; All right-\n&gt;&gt; Yeah.\n\n493\n00:21:23.526 --> 00:21:24.696\n&gt;&gt; So all of our little work stations-\n&gt;&gt; Right.\n\n494\n00:21:24.696 --> 00:21:26.010\n&gt;&gt; Could be those little tiny holes.\n\n495\n00:21:26.010 --> 00:21:26.910\n&gt;&gt; Okay.\n&gt;&gt; But instead\n\n496\n00:21:26.910 --> 00:21:28.785\nby implementing this-\n&gt;&gt; Yeah.\n\n497\n00:21:28.785 --> 00:21:32.279\n&gt;&gt; We have our one hole,\none tiny little hole.\n\n498\n00:21:32.279 --> 00:21:33.404\n&gt;&gt; Okay.\n\n499\n00:21:33.404 --> 00:21:37.597\n&gt;&gt; [LAUGH]\n&gt;&gt; How about if we just say that it's good\n\n500\n00:21:37.597 --> 00:21:40.623\nto be able to download using\na single server and service,\n\n501\n00:21:40.623 --> 00:21:42.781\nmuch like you're suggesting, right?\n\n502\n00:21:42.781 --> 00:21:43.839\n&gt;&gt; Yeah.\n&gt;&gt; With WSUS.\n\n503\n00:21:43.839 --> 00:21:45.053\n&gt;&gt; [LAUGH]\n&gt;&gt; But to do that and\n\n504\n00:21:45.053 --> 00:21:48.849\ncontrol that through the firewall by\nlinking that right through either\n\n505\n00:21:48.849 --> 00:21:53.037\nan exception or an on firewall rule\nwhich is what we would use, right?\n\n506\n00:21:53.037 --> 00:21:55.342\nAnd by controlling, and the point you're\nmaking is actually really excellent.\n\n507\n00:21:55.342 --> 00:21:56.566\nWe joke around about some of this stuff,\n\n508\n00:21:56.566 --> 00:21:57.223\nbut-\n&gt;&gt; [LAUGH]\n\n509\n00:21:57.223 --> 00:21:58.817\n&gt;&gt; The point Cherokee's making is actually\n\n510\n00:21:58.817 --> 00:21:59.824\nreally an important one.\n\n511\n00:21:59.824 --> 00:22:04.263\nWhich is constraining and controlling how\nwe open access in the firewall, right?\n\n512\n00:22:04.263 --> 00:22:06.890\nThe holes you're punching in the garbage\nbag, as you were talking about.\n\n513\n00:22:06.890 --> 00:22:09.839\nBecomes really important because\nfrom a security standpoint,\n\n514\n00:22:09.839 --> 00:22:11.205\nif we're not controlling and\n\n515\n00:22:11.205 --> 00:22:14.495\nreally monitoring the openings that\nwe're allowing in the firewall.\n\n516\n00:22:14.495 --> 00:22:17.912\nThe inbound and outbound flow of traffic,\nwe can get ourselves in trouble, right?\n\n517\n00:22:17.912 --> 00:22:19.189\nBad actors can come-\n&gt;&gt; Yeah.\n\n518\n00:22:19.189 --> 00:22:20.916\n&gt;&gt; Sneak through there and\ndo all sorts of harm to us.\n\n519\n00:22:20.916 --> 00:22:24.144\nSo it is a really important thing,\nthat we are controlling and\n\n520\n00:22:24.144 --> 00:22:27.809\ntightly constraining access to\nthe firewall, to limited sessions,\n\n521\n00:22:27.809 --> 00:22:30.430\nlimited services,\nlimited port associations.\n\n522\n00:22:30.430 --> 00:22:31.765\nSo we can really monitor to that traffic.\n\n523\n00:22:31.765 --> 00:22:32.265\n&gt;&gt; Exactly.\n\n524\n00:22:32.265 --> 00:22:33.087\n&gt;&gt; That is gonna be very important.\n\n525\n00:22:33.087 --> 00:22:37.582\n&gt;&gt; [LAUGH] I loved how you just kind of\nfinessed the garbage bag story there.\n\n526\n00:22:37.582 --> 00:22:39.122\nThanks Adam.\n\n527\n00:22:39.122 --> 00:22:39.635\n&gt;&gt; Awesome.\n\n528\n00:22:39.635 --> 00:22:43.235\nAll right, so, let's get back to where\nwe were on this particular wizard.\n\n529\n00:22:43.235 --> 00:22:45.449\nThe other question I wanted to, and\nI already talked about this one.\n\n530\n00:22:45.449 --> 00:22:48.601\nBut just reminding you of it here, not\nonly do we know the proxy sentence, but\n\n531\n00:22:48.601 --> 00:22:50.656\nwe have the credentials\nto get through the proxy.\n\n532\n00:22:50.656 --> 00:22:54.564\nBecause remember sometimes,\nproxies are not just hey, go to this url,\n\n533\n00:22:54.564 --> 00:22:55.469\ngo to this port.\n\n534\n00:22:55.469 --> 00:22:58.329\nBut you may actually need to authenticate\nthrough the proxy as part of\n\n535\n00:22:58.329 --> 00:22:59.077\nthe connection.\n\n536\n00:22:59.077 --> 00:23:01.854\nDo we have the right credentials\nto do that is part of the set up\n\n537\n00:23:01.854 --> 00:23:02.674\nof this machine.\n\n538\n00:23:02.674 --> 00:23:04.996\nThese are things you wanna\nthink about ahead of time.\n\n539\n00:23:04.996 --> 00:23:08.171\nIf we don't have all that, we may wanna\nstop right here or we may wanna make\n\n540\n00:23:08.171 --> 00:23:11.726\nsure we gather that information and have\nit available as part of a configuration.\n\n541\n00:23:11.726 --> 00:23:13.728\nSo just pointing that\nout as we get started.\n\n542\n00:23:13.728 --> 00:23:16.378\nAll right, we're gonna click Next.\n\n543\n00:23:16.378 --> 00:23:19.842\nYou have the option of joining\nthe Microsoft Update Improvement Program.\n\n544\n00:23:19.842 --> 00:23:23.099\nThis is like the customer improvement\nexperience program, the CIE,\n\n545\n00:23:23.099 --> 00:23:26.592\nthat we often see during the initial\nset up screens in many of our products.\n\n546\n00:23:26.592 --> 00:23:28.988\nSo we can opt in or\nopt out, it's up to us.\n\n547\n00:23:28.988 --> 00:23:34.302\nNotice by default, yes, I would like\nto join the improvement program.\n\n548\n00:23:34.302 --> 00:23:35.307\nUp to you to decide, right?\n\n549\n00:23:35.307 --> 00:23:38.647\nWe're gonna uncheck the box,\njust as part of our demo environment, but\n\n550\n00:23:38.647 --> 00:23:41.348\nit's up to you in the real world\nto be able to do that or not.\n\n551\n00:23:41.348 --> 00:23:42.803\nSo we're gonna click Next here.\n\n552\n00:23:42.803 --> 00:23:46.561\nChoose an upstream server, are we\nsynchronizing from Microsoft Update?\n\n553\n00:23:46.561 --> 00:23:49.437\nThis is where we'd go punch a hole\nin the firewall, so to speak or\n\n554\n00:23:49.437 --> 00:23:50.461\nopen the garbage bag.\n\n555\n00:23:50.461 --> 00:23:51.237\nLet the light in, right?\n\n556\n00:23:51.237 --> 00:23:52.446\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n557\n00:23:52.446 --> 00:23:54.841\nI'm never gonna think about firewalls\nthe same way again, by the way, right?\n\n558\n00:23:54.841 --> 00:23:58.029\nEvery time I see them now,\nI'm gonna think big black garbage bag.\n\n559\n00:23:58.029 --> 00:23:59.106\nThere's Cherokee-\n&gt;&gt; [LAUGH]\n\n560\n00:23:59.106 --> 00:24:00.620\n&gt;&gt; With a, Ice pick or something.\n\n561\n00:24:00.620 --> 00:24:02.450\n&gt;&gt; An ice pick or\nsomething to stab in the garbage bag.\n\n562\n00:24:02.450 --> 00:24:04.615\nCan you see,\nis there enough light in there?\n\n563\n00:24:04.615 --> 00:24:05.520\n&gt;&gt; [LAUGH]\n&gt;&gt; That's what I'm gonna be thinking.\n\n564\n00:24:05.520 --> 00:24:08.460\nAll right, so\nwe are going through here, and\n\n565\n00:24:08.460 --> 00:24:11.590\nthis is where we connect out to\nthe update service at Microsoft,\n\n566\n00:24:11.590 --> 00:24:14.190\nthe update farms,\ncuz that's really what they are.\n\n567\n00:24:14.190 --> 00:24:17.740\nMultiple servers that are servicing\nthe needs of hundreds of millions\n\n568\n00:24:17.740 --> 00:24:19.810\nof clients worldwide\nthat are downloading and\n\n569\n00:24:19.810 --> 00:24:22.350\nsynchronizing update\ncatalogs using this product.\n\n570\n00:24:22.350 --> 00:24:25.900\nSo we could do that, that is the default\nsetting, by the way, as you'll notice.\n\n571\n00:24:25.900 --> 00:24:27.910\nWell, we could also\nsynchronize if we choose to.\n\n572\n00:24:27.910 --> 00:24:31.560\nIt's a question of how we're building and\nwhat our architecture looks like.\n\n573\n00:24:31.560 --> 00:24:34.630\nWe can synchronize from another\nWindows Server Update Services server,\n\n574\n00:24:34.630 --> 00:24:37.690\nanother WSUS server,\neither upstream or downstream.\n\n575\n00:24:37.690 --> 00:24:40.600\nMeaning above us or below us,\nis where we can find that.\n\n576\n00:24:40.600 --> 00:24:44.400\nAnd we can provide the server name,\nas you could see there if we have one.\n\n577\n00:24:44.400 --> 00:24:47.903\nThe port number,\n8530 and/or 8531 are used,\n\n578\n00:24:47.903 --> 00:24:50.745\nunsecured and secured HTTP/ HTTPS access.\n\n579\n00:24:50.745 --> 00:24:53.000\nI'll use SSL when synchronizing.\n\n580\n00:24:53.000 --> 00:24:54.200\nSo we can check that off.\n\n581\n00:24:54.200 --> 00:24:57.255\nAnd this can be a replica,\na mirrored server of an upstream server,\n\n582\n00:24:57.255 --> 00:25:00.325\nwhere we're creating catalog at\na preconfigured download point.\n\n583\n00:25:00.325 --> 00:25:03.805\nAnd then pulling that in, maybe to\na branch cache or a remote office so\n\n584\n00:25:03.805 --> 00:25:06.150\nwe have the updates available locally.\n\n585\n00:25:06.150 --> 00:25:08.950\nSo we can set up different architectures\ndepending on what we're doing.\n\n586\n00:25:08.950 --> 00:25:10.890\nRemember, if we have\nmultiple update servers,\n\n587\n00:25:10.890 --> 00:25:15.030\nand they all have to go out to Microsoft\nand pull down all this information,\n\n588\n00:25:15.030 --> 00:25:18.510\nsuck up all that bandwidth,\nthat's gonna be a big challenge for us.\n\n589\n00:25:18.510 --> 00:25:23.210\nEspecially some of these areas where\nwe need these updates on platforms and\n\n590\n00:25:23.210 --> 00:25:26.320\nor on links that may not be fast,\nmay not be optimized.\n\n591\n00:25:26.320 --> 00:25:28.148\nWe may not have enough\nbandwidth to drive that.\n\n592\n00:25:28.148 --> 00:25:31.130\nWe may wanna control that internally,\nin other words.\n\n593\n00:25:31.130 --> 00:25:34.940\nAnd so we may have the ability to be able\nto do the massive download initially,\n\n594\n00:25:34.940 --> 00:25:38.080\nin the initial sync with\na high-speed connection.\n\n595\n00:25:38.080 --> 00:25:40.725\nAnd then behind the scenes,\ndistribute those out to second- and\n\n596\n00:25:40.725 --> 00:25:44.062\nthird-tier systems on other\nconnections that are internal.\n\n597\n00:25:44.062 --> 00:25:45.502\nSo we just want to think about that,\nright.\n\n598\n00:25:45.502 --> 00:25:48.570\nSo just some considerations here for you.\n\n599\n00:25:48.570 --> 00:25:53.490\nWe're gonna go ahead and if we do\nthe initial sync with Microsoft, right.\n\n600\n00:25:53.490 --> 00:25:56.170\nWe'll leave that in place,\nthat'll start to pull down the catalog for\n\n601\n00:25:56.170 --> 00:25:58.300\nus from outside, so we'll do that.\n\n602\n00:25:58.300 --> 00:25:59.560\nWe have more than one server set up,\n\n603\n00:25:59.560 --> 00:26:02.890\nwe can obviously default to\nthis other option right here.\n\n604\n00:26:02.890 --> 00:26:06.050\nClick next, do we have a proxy\nif necessary when syncing.\n\n605\n00:26:06.050 --> 00:26:09.460\nRemember, we said maybe the proxy\ncredentials, if we have a need for\n\n606\n00:26:09.460 --> 00:26:11.030\nthat, we'll put that in here.\n\n607\n00:26:11.030 --> 00:26:14.281\nIn our environment we do so\nI'm just gonna populate that real quick.\n\n608\n00:26:14.281 --> 00:26:15.354\nWhich you may not.\n\n609\n00:26:15.354 --> 00:26:18.818\nAnd in the real world, what you put in to\nthe proxy settings may very well vary and\n\n610\n00:26:18.818 --> 00:26:21.115\nbe different than what\nI'm about to put in.\n\n611\n00:26:21.115 --> 00:26:25.745\nSo I'm gonna put in the aptly-named\nproxy server called proxy.\n\n612\n00:26:25.745 --> 00:26:27.155\nNothing like simplicity.\n\n613\n00:26:27.155 --> 00:26:28.815\nAnd instead of porting, right?\n\n614\n00:26:28.815 --> 00:26:32.140\nWhere did you port ADAD in\nour demo environment here?\n\n615\n00:26:32.140 --> 00:26:33.660\nAll right, so I'm gonna put that in.\n\n616\n00:26:33.660 --> 00:26:36.040\nIf we do need credentials\nas I mentioned and you may.\n\n617\n00:26:36.040 --> 00:26:37.440\nYou would provide those here.\n\n618\n00:26:37.440 --> 00:26:41.110\nYou can see check off the box,\nprovide user name, domain password.\n\n619\n00:26:41.110 --> 00:26:42.500\nUp to us if to decide whether or\n\n620\n00:26:42.500 --> 00:26:45.000\nnot we need that based on\nthe configuration of the proxy.\n\n621\n00:26:45.000 --> 00:26:47.840\nSo we would provide that as needed.\n\n622\n00:26:47.840 --> 00:26:48.650\nClick Next.\n\n623\n00:26:49.750 --> 00:26:53.435\nSpecify our, or rather a start connector\nrather, specify our connection, now,\n\n624\n00:26:53.435 --> 00:26:54.340\nStart Connecting.\n\n625\n00:26:54.340 --> 00:26:57.010\nSo we're gonna go ahead,\nclick Start Connecting.\n\n626\n00:26:59.570 --> 00:27:00.830\nHey, so information to be downloaded,\n\n627\n00:27:00.830 --> 00:27:04.040\ntwo types of updates available, products\ncan be updated in available languages.\n\n628\n00:27:04.040 --> 00:27:07.150\nThis can take several minutes as well.\n\n629\n00:27:07.150 --> 00:27:10.635\nRight, this is one of those areas where\nyou may sit here a bit while this is\n\n630\n00:27:10.635 --> 00:27:13.628\nactually configured, or\nrather while this is pulling down.\n\n631\n00:27:13.628 --> 00:27:15.952\nSo we're gonna let this bake for\na little bit,\n\n632\n00:27:15.952 --> 00:27:18.049\nwe're gonna come back when this is done.\n\n633\n00:27:18.049 --> 00:27:21.285\nAnd again, this is one of those, we'll cut\naway and come right back in your world but\n\n634\n00:27:21.285 --> 00:27:22.990\nin our world it will take a few minutes.\n\n635\n00:27:22.990 --> 00:27:24.661\nWe're gonna let this go run, do its thing.\n\n636\n00:27:24.661 --> 00:27:26.357\nWhen we come back, that will be finished.\n\n637\n00:27:26.357 --> 00:27:28.545\nWe'll be able to walk through\nthe rest of the configuration.\n\n638\n00:27:28.545 --> 00:27:29.889\nSo please do come back and\n\n639\n00:27:29.889 --> 00:27:34.342\njoin us cuz it will literally be in your\nworld just snap with me, do a double snap.\n\n640\n00:27:34.342 --> 00:27:36.662\n[SOUND] Ooh, awesome, that was great.\n\n641\n00:27:36.662 --> 00:27:37.988\n&gt;&gt; [LAUGH]\n&gt;&gt; Good acoustics on that one.\n\n642\n00:27:37.988 --> 00:27:41.130\nAll right, we're gonna be right back\nas soon as this finishes baking and\n\n643\n00:27:41.130 --> 00:27:43.810\nwe'll pick up right from here.\n\n644\n00:27:43.810 --> 00:27:46.169\nAll right, so look at that, awesome.\n\n645\n00:27:46.169 --> 00:27:49.599\nWe are finally done, of course,\nin your world it was like, two seconds and\n\n646\n00:27:49.599 --> 00:27:50.400\nwe're back.\n\n647\n00:27:50.400 --> 00:27:51.585\nBut for here, like I said,\n\n648\n00:27:51.585 --> 00:27:54.960\nwe actually had Cherokee's birthday\ntwice before we finished this up.\n\n649\n00:27:54.960 --> 00:27:56.070\n&gt;&gt; They're time travelers now.\n\n650\n00:27:56.070 --> 00:27:57.140\n&gt;&gt; Yeah, exactly.\n\n651\n00:27:57.140 --> 00:27:58.290\nSo we are now ready.\n\n652\n00:27:58.290 --> 00:27:59.270\nWe're gonna click Next.\n\n653\n00:27:59.270 --> 00:28:01.860\nWe've seen the green progress\nbar all the way across.\n\n654\n00:28:01.860 --> 00:28:04.120\nWe've built our initial sync for\nthe catalog.\n\n655\n00:28:04.120 --> 00:28:05.440\nWe're gonna click next here.\n\n656\n00:28:05.440 --> 00:28:08.670\nWe gotta then specify based\non language selection,\n\n657\n00:28:08.670 --> 00:28:11.360\nwhat languages we wanna\ndownload our updates in.\n\n658\n00:28:11.360 --> 00:28:14.261\nAnd remember, we talked about\nthe fact the more languages we do,\n\n659\n00:28:14.261 --> 00:28:16.300\nthe larger the update catalog will be.\n\n660\n00:28:16.300 --> 00:28:18.650\nNotice the let's download all updates,\n\n661\n00:28:18.650 --> 00:28:22.950\nall languages, including new languages\noption, not the default setting.\n\n662\n00:28:22.950 --> 00:28:23.740\nAnd then, of course,\n\n663\n00:28:23.740 --> 00:28:27.430\nwe have all the supported options\nhere in terms of languages.\n\n664\n00:28:27.430 --> 00:28:29.020\nNow, the nice thing about this is,\n\n665\n00:28:29.020 --> 00:28:33.820\nthe system is smart enough to detect what\ninstall language we have the OS based on.\n\n666\n00:28:33.820 --> 00:28:37.560\nAnd it makes the default selection for\nus so notice in my case English.\n\n667\n00:28:37.560 --> 00:28:41.190\nSo that is already selected, I don't need\nto bother to go in and choose another one.\n\n668\n00:28:41.190 --> 00:28:42.690\nI also wanna add languages in.\n\n669\n00:28:42.690 --> 00:28:45.340\nOf course, that would be up to me and\nI can do that if I would like.\n\n670\n00:28:45.340 --> 00:28:48.600\nSo English is selected, gonna click Next.\n\n671\n00:28:48.600 --> 00:28:51.590\nThen just give it a minute to\nkinda build the list here.\n\n672\n00:28:51.590 --> 00:28:56.417\nRight, we have quite a list as you can see\nas I go down of all sorts of different\n\n673\n00:28:56.417 --> 00:29:00.048\nproducts that we have\nthe capability to select against.\n\n674\n00:29:00.048 --> 00:29:04.026\nNotice all the operating systems\nare selected here, Windows Server,\n\n675\n00:29:04.026 --> 00:29:05.360\nServer 16, etc.\n\n676\n00:29:05.360 --> 00:29:07.920\nNot gonna wanna download all\nthe updates for all that.\n\n677\n00:29:07.920 --> 00:29:10.312\nSo what I'm gonna do is\ncheat a little bit here.\n\n678\n00:29:10.312 --> 00:29:14.550\nI'm gonna check off all products to\nselect everything, then check again,\n\n679\n00:29:14.550 --> 00:29:17.190\nuncheck all products to\ndeselect everything.\n\n680\n00:29:17.190 --> 00:29:19.528\nAnd then go through and\njust selectively add what I want.\n\n681\n00:29:19.528 --> 00:29:23.490\nSo I'm gonna do that,\ndeselecting everything,\n\n682\n00:29:23.490 --> 00:29:27.030\nspecifically just going back down to\nthe operating systems where we were.\n\n683\n00:29:27.030 --> 00:29:31.360\nAnd then we'd wanna selectively choose\nwhatever updates we may want, right?\n\n684\n00:29:31.360 --> 00:29:35.560\nNow, we may have Windows Small Business\nServer, we may have Active Directory.\n\n685\n00:29:35.560 --> 00:29:36.220\nWho knows what we have?\n\n686\n00:29:36.220 --> 00:29:38.160\nYou're obviously gonna have\nto make some choices here.\n\n687\n00:29:38.160 --> 00:29:40.660\nFor us, we're gonna choose\nhere in the environments.\n\n688\n00:29:40.660 --> 00:29:42.070\nWe have Windows 10,\n\n689\n00:29:42.070 --> 00:29:45.420\nWindows 8.1, Server 16 running, I'm\ngonna make some choices in those areas.\n\n690\n00:29:45.420 --> 00:29:50.990\nSo I'm gonna come in here and I'm gonna\ndo the Windows 10, Windows 8.1 selection.\n\n691\n00:29:50.990 --> 00:29:55.800\nSo I'll come in and I'll specify that,\nlet me come down here and\n\n692\n00:29:55.800 --> 00:29:59.352\nnotice, by the way, for Windows 10 I have\nquite a number of Windows 10 options.\n\n693\n00:29:59.352 --> 00:30:05.090\nLTSB, long-term service branch,\nI have language interface packs,\n\n694\n00:30:05.090 --> 00:30:07.930\nfeature on demand, dynamic updates,\nall sorts of stuff.\n\n695\n00:30:07.930 --> 00:30:10.520\nI'm just gonna do\nthe generic Windows 10 item.\n\n696\n00:30:10.520 --> 00:30:14.630\nAnd then of course, as I scroll down\nhere for Windows 8, kinda the same idea.\n\n697\n00:30:15.680 --> 00:30:18.170\nOn Windows 8, Windows 8.1,\nwhatever it will be.\n\n698\n00:30:18.170 --> 00:30:22.341\nI'm gonna choose the Windows 8.1 option\nbecause that's the VM that we have\n\n699\n00:30:22.341 --> 00:30:24.815\nrunning is Windows 8.18 or Windows 10.\n\n700\n00:30:24.815 --> 00:30:27.370\nSo I'm gonna choose Windows 8.1 there.\n\n701\n00:30:27.370 --> 00:30:32.270\nI'm also gonna ahead and\nI'm going to select Windows Defender.\n\n702\n00:30:32.270 --> 00:30:34.740\nLet me scroll down here just a little bit.\n\n703\n00:30:34.740 --> 00:30:40.010\nAnd Windows Defender right here the\nupdates for our antivirus or AV solution.\n\n704\n00:30:40.010 --> 00:30:42.465\nSo you can make your appropriate\nproduct choice, whatever it may be.\n\n705\n00:30:42.465 --> 00:30:45.630\nRight, in the real world\nobviously you would be choosing\n\n706\n00:30:45.630 --> 00:30:47.600\nprobably a fair number of things.\n\n707\n00:30:47.600 --> 00:30:52.436\nAnd creating a product download catalog,\nessentially a wish list of all the things\n\n708\n00:30:52.436 --> 00:30:55.140\nwe wanted and\nwe're gonna go grab all of that.\n\n709\n00:30:55.140 --> 00:30:56.640\nAll right, so we've got those set up.\n\n710\n00:30:56.640 --> 00:30:57.638\nLet's click Next.\n\n711\n00:30:59.689 --> 00:31:04.310\nSpecify here what we're gonna do for\nour classifications.\n\n712\n00:31:04.310 --> 00:31:07.980\nRight, all classifications, again,\nI check everything off, I get everything.\n\n713\n00:31:07.980 --> 00:31:10.450\nYou'll see critical updates,\ndefinition updates, drivers,\n\n714\n00:31:10.450 --> 00:31:12.220\ndriver sets, feature packs.\n\n715\n00:31:12.220 --> 00:31:15.900\nSecurity updates, upgrades,\nrolling updates, etc., things like that.\n\n716\n00:31:15.900 --> 00:31:18.420\nI have to choose what is that I will want.\n\n717\n00:31:18.420 --> 00:31:22.420\nI'm just gonna quickly choose all,\ndeselect all, and then highlight one or\n\n718\n00:31:22.420 --> 00:31:23.670\ntwo that I'm gonna choose.\n\n719\n00:31:23.670 --> 00:31:25.590\nI'll do critical updates and\nsecurity updates.\n\n720\n00:31:25.590 --> 00:31:26.990\nSo we'll do that one.\n\n721\n00:31:26.990 --> 00:31:29.440\nAnd we will do security\nupdates right there.\n\n722\n00:31:29.440 --> 00:31:31.910\nIn the real world, you're probably\ngonna want all these things.\n\n723\n00:31:31.910 --> 00:31:33.360\nYou need the service packs.\n\n724\n00:31:33.360 --> 00:31:34.420\nYou need the security updates.\n\n725\n00:31:34.420 --> 00:31:36.500\nRight, you're gonna need all of that.\n\n726\n00:31:36.500 --> 00:31:38.470\nAll right, do you have something or\nare you just scratching?\n\n727\n00:31:38.470 --> 00:31:39.670\n&gt;&gt; I did have a scratch but, yeah,\n\n728\n00:31:39.670 --> 00:31:43.920\nit's always a good idea to not include\nthings that you really don't need.\n\n729\n00:31:43.920 --> 00:31:46.730\nBecause if you think about it from\na vulnerability standpoint, it is coding.\n\n730\n00:31:46.730 --> 00:31:50.030\nIt is additional potential there.\n\n731\n00:31:50.030 --> 00:31:52.530\n&gt;&gt; Well, that and\nit's also gonna bloat the catalogs.\n\n732\n00:31:52.530 --> 00:31:54.297\nSo you're gonna have a lot of extra\nstuff you don't need to store.\n\n733\n00:31:54.297 --> 00:31:57.298\nAnd it's gonna take longer to build\nthe initial download to provide all that.\n\n734\n00:31:57.298 --> 00:31:57.838\n&gt;&gt; Yeah, good points.\n\n735\n00:31:57.838 --> 00:32:00.263\n&gt;&gt; Which is gonna extend the process\nof Getting this up and running.\n\n736\n00:32:00.263 --> 00:32:02.337\nSo for a lot of reasons,\nyou don't wanna download and\n\n737\n00:32:02.337 --> 00:32:05.300\nadd anything that you don't already need,\nabsolutely correct.\n\n738\n00:32:05.300 --> 00:32:08.180\nAll right so then we have to specify\neither synchronized manually or\n\n739\n00:32:08.180 --> 00:32:09.550\nsynchronized automatically, right?\n\n740\n00:32:09.550 --> 00:32:13.170\nWhen we do want to do this,\neither on-demand when we specify, or\n\n741\n00:32:13.170 --> 00:32:16.310\nset it up and say,\n8 o'clock in the morning or whatever.\n\n742\n00:32:16.310 --> 00:32:18.994\nAnd decide how often we want\nto do that per day right?\n\n743\n00:32:18.994 --> 00:32:21.894\nSo even if we choose here\nyou'll see specify a time and\n\n744\n00:32:21.894 --> 00:32:24.390\nthen how many synchronization per day.\n\n745\n00:32:24.390 --> 00:32:27.650\nUp to 24 meaning once per hour\nin theory if we choose to.\n\n746\n00:32:27.650 --> 00:32:30.930\nSo that we're chipping away at that,\ngetting just the delta's, the changes.\n\n747\n00:32:30.930 --> 00:32:35.020\nAnd not having massive downloads that\nare very, very long and consuming.\n\n748\n00:32:35.020 --> 00:32:38.360\nBut smaller downloads over the course\nof the day where we bring in updates.\n\n749\n00:32:38.360 --> 00:32:41.320\nNow you do have to keep in mind that we're\nmost likely not going to see updates\n\n750\n00:32:41.320 --> 00:32:43.460\nemerging everyday, right?\n\n751\n00:32:43.460 --> 00:32:46.150\nThe vendors at this point have really\ngone to a kind of a standardized\n\n752\n00:32:46.150 --> 00:32:47.390\nreleased schedule.\n\n753\n00:32:47.390 --> 00:32:50.120\nOnce a month in the case\nof Microsoft except in rare\n\n754\n00:32:50.120 --> 00:32:53.172\ncircumstances where there's been\nan out of cycle release because of a.\n\n755\n00:32:53.172 --> 00:32:55.389\nIt's a very difficult problematic concern,\nbut\n\n756\n00:32:55.389 --> 00:32:58.462\nvendors have really tried to\nstandardize when they put patches out.\n\n757\n00:32:58.462 --> 00:33:01.973\nSo that we can plan for that and\nbe able to set up and really manage our\n\n758\n00:33:01.973 --> 00:33:05.930\nexpectations of the business around\naligning with our patching windows,\n\n759\n00:33:05.930 --> 00:33:08.650\nour maintenance windows,\nthings of that nature.\n\n760\n00:33:08.650 --> 00:33:12.880\nSo you may not have to do this on\nan ongoing basis once an hour every day.\n\n761\n00:33:12.880 --> 00:33:15.380\nIt's probably just gonna\nbe a lot of wasted effort.\n\n762\n00:33:15.380 --> 00:33:18.520\nWe'll leave this to synchronize\nmanually in the demo environment,\n\n763\n00:33:18.520 --> 00:33:19.680\nwhich you obviously have a sense of.\n\n764\n00:33:19.680 --> 00:33:22.323\nAll right, and then we're finished here.\n\n765\n00:33:22.323 --> 00:33:24.200\nOr at least we're almost\nfinished I should say.\n\n766\n00:33:24.200 --> 00:33:28.807\nWe can go in and you'll see we can select\nto begin the initial synchronization.\n\n767\n00:33:28.807 --> 00:33:33.432\nWe check that off right there, this builds\nout and synchronizes with Microsoft or\n\n768\n00:33:33.432 --> 00:33:36.860\nthe upstream server,\nwhatever it is that we target.\n\n769\n00:33:36.860 --> 00:33:39.921\nSo we obviously when we click this,\nwe'll begin the process of downloading.\n\n770\n00:33:39.921 --> 00:33:42.383\nSo we're gonna go ahead and\ndo this, click next, and\n\n771\n00:33:42.383 --> 00:33:44.538\nthen what's next to\nfully configure system.\n\n772\n00:33:44.538 --> 00:33:49.358\nYou should explore the following topics\nusing SSL to secure WSUS created\n\n773\n00:33:49.358 --> 00:33:50.630\ncomputer groups.\n\n774\n00:33:50.630 --> 00:33:51.930\nWe'll be taking a look at these things and\n\n775\n00:33:51.930 --> 00:33:54.210\ntalking about them in\nupcoming episodes by the way.\n\n776\n00:33:54.210 --> 00:33:56.970\nAssigning computers to groups\nusing group policy, and or\n\n777\n00:33:56.970 --> 00:33:59.270\nconfiguring auto approval rules.\n\n778\n00:33:59.270 --> 00:34:02.170\nOkay great, so we're gonna go through,\nwe have some options there.\n\n779\n00:34:02.170 --> 00:34:06.400\nWe're gonna go ahead and\nclick Finish all right.\n\n780\n00:34:06.400 --> 00:34:08.340\nSo now we get our console and\n\n781\n00:34:08.340 --> 00:34:12.150\nthen we have to monitor and\nkeep track of the initial synchronization.\n\n782\n00:34:12.150 --> 00:34:15.250\nThis also will take at least\n45 minutes to an hour to do.\n\n783\n00:34:15.250 --> 00:34:17.040\nWe're not gonna subject you to that,\n\n784\n00:34:17.040 --> 00:34:20.460\nwe're at the end of the episode wrap\nit up here and just a minute come back.\n\n785\n00:34:20.460 --> 00:34:23.755\nIn part two and actually have all\nof this fully baked for you, and\n\n786\n00:34:23.755 --> 00:34:25.416\nstart to do the configuration.\n\n787\n00:34:25.416 --> 00:34:29.570\nKnd of run through in a high\nlevel steps involved, but\n\n788\n00:34:29.570 --> 00:34:32.351\njust to show you what happens here.\n\n789\n00:34:32.351 --> 00:34:38.040\nWe open this up, you can see as we start\nto take a look at all updates, right?\n\n790\n00:34:38.040 --> 00:34:41.540\nZero of, updates of 25 shown, 25 total, so\n\n791\n00:34:41.540 --> 00:34:43.720\nwe're starting to build,\nlittle by little here.\n\n792\n00:34:43.720 --> 00:34:44.720\n13 of 31 so\n\n793\n00:34:44.720 --> 00:34:49.310\nwe're starting to build as we're\ndownloading things that will come in.\n\n794\n00:34:49.310 --> 00:34:53.781\nBut we are, right now, running\na synchronization that was successful.\n\n795\n00:34:53.781 --> 00:34:57.346\nThe initial one, and we are running a\ncurrent one, that we're in the middle of,\n\n796\n00:34:57.346 --> 00:34:58.458\nthat we just kicked off.\n\n797\n00:34:58.458 --> 00:35:00.831\nWhich is going through and\nstarting to download and\n\n798\n00:35:00.831 --> 00:35:02.700\nbuild the initial catalog for us.\n\n799\n00:35:02.700 --> 00:35:06.020\nYou can see it said about 13% right now,\nall right so it's running down there.\n\n800\n00:35:06.020 --> 00:35:08.350\nIt's gonna take some time, so\nwe're gonna just let that do it's thing.\n\n801\n00:35:08.350 --> 00:35:10.580\nAnd when we come back in part two,\n\n802\n00:35:10.580 --> 00:35:12.630\nwe'll actually see all this configured and\nready to go.\n\n803\n00:35:12.630 --> 00:35:14.980\nAnd then we'll start to take\na look at how to administer and\n\n804\n00:35:14.980 --> 00:35:17.120\nhow to use WSUS more in depth.\n\n805\n00:35:17.120 --> 00:35:19.900\n&gt;&gt; All right well thank you for\nat least showing us where to begin here.\n\n806\n00:35:19.900 --> 00:35:22.138\nBut ladies and gentlemen,\nyou heard it from Adam himself,\n\n807\n00:35:22.138 --> 00:35:23.449\nyou definitely want to come back.\n\n808\n00:35:23.449 --> 00:35:27.316\nAnd check out how to go ahead and\nnavigate within this interface and\n\n809\n00:35:27.316 --> 00:35:30.540\ncheck out all the cool\nfeatures here with WSUS.\n\n810\n00:35:30.540 --> 00:35:32.000\nFor this show we'll go ahead and sign out.\n\n811\n00:35:32.000 --> 00:35:33.440\nI've been your host, Cherokee Boose.\n\n812\n00:35:33.440 --> 00:35:34.360\n&gt;&gt; I am Adam Gordon.\n\n813\n00:35:34.360 --> 00:35:36.052\n&gt;&gt; See you next time here at ITPRO.TV.\n\n814\n00:35:36.052 --> 00:35:43.986\n[MUSIC]\n\n815\n00:35:43.986 --> 00:35:48.664\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "235068511"
        },
        {
          "description": "In this episode, Cherokee and Adam continue discussing WSUS. They discuss different deployment options and explain the benefits to both small and large businesses. Adam also covers requirements and terminology to assist planning for the deployments.",
          "length": "2181",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-2-implement_server_patching_and_updating_pt2-PGM.00_36_04_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-2-implement_server_patching_and_updating_pt2-PGM.00_36_04_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-2-implement_server_patching_and_updating_pt2-PGM.00_36_04_17.Still001-sm.jpg",
          "title": "Implement Server Patching and Updating Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.210 --> 00:00:02.253\nWelcome to ITProTV.\nI'm your host, Don Pezet.\n\n2\n00:00:02.253 --> 00:00:07.215\n[CROSSTALK]\n\n3\n00:00:07.215 --> 00:00:10.666\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:10.666 --> 00:00:15.540\n&gt;&gt; Welcome to\nSecuring Windows Server 2016 series.\n\n5\n00:00:15.540 --> 00:00:17.580\nI'm your show host, Cherokee Boose.\n\n6\n00:00:17.580 --> 00:00:18.300\nIn this episode,\n\n7\n00:00:18.300 --> 00:00:23.040\nwe'll pick back up taking a look at how\nto implement server patching and updates.\n\n8\n00:00:23.040 --> 00:00:25.610\nWe're specifically gonna\nbe looking at WSUS.\n\n9\n00:00:25.610 --> 00:00:29.390\nAnd back in the studios today,\nwe have Microsoft expert Mr. Adam Gordon.\n\n10\n00:00:29.390 --> 00:00:30.780\nThank you for joining us, Adam.\n\n11\n00:00:30.780 --> 00:00:34.020\n&gt;&gt; Thank you,\nalways glad to spend time with you and\n\n12\n00:00:34.020 --> 00:00:37.190\nwith our studio audience talking\nabout a variety of topics.\n\n13\n00:00:37.190 --> 00:00:41.570\nIn this case, an interesting one,\nWSUS, Window Software Update Services.\n\n14\n00:00:41.570 --> 00:00:43.290\nIf you joined us for the last episode,\n\n15\n00:00:43.290 --> 00:00:46.310\nyou saw that we walked through\nthe initial configuration.\n\n16\n00:00:46.310 --> 00:00:48.640\nShowed you how to install the role and\n\n17\n00:00:48.640 --> 00:00:51.060\nget it stood up through PowerShell,\nas we often do.\n\n18\n00:00:51.060 --> 00:00:55.590\nWe then went ahead and started to\ngo through the steps to configure,\n\n19\n00:00:55.590 --> 00:00:59.260\nset up our initial update sync\ndirectory on the local machine.\n\n20\n00:00:59.260 --> 00:01:02.152\nThen after we got that done,\nwe went through,\n\n21\n00:01:02.152 --> 00:01:04.950\nran through the rest of\nthe configuration wizard.\n\n22\n00:01:04.950 --> 00:01:06.781\nSeveral steps involved there,\n\n23\n00:01:06.781 --> 00:01:10.848\nincluding two separate sync events\nto build the initial global list for\n\n24\n00:01:10.848 --> 00:01:14.182\nthe catalog in terms of the updates and\nthe language sets.\n\n25\n00:01:14.182 --> 00:01:18.920\nAnd then to download the updates\nwe chose as a secondary sync.\n\n26\n00:01:18.920 --> 00:01:22.500\nWe've done all that,\nhave all that set ready to go.\n\n27\n00:01:22.500 --> 00:01:25.570\nPromised you at the end of the episode\nwe would come back with it ready to go.\n\n28\n00:01:25.570 --> 00:01:29.600\nAnd then open up the console and start\nwalking through some of the administrative\n\n29\n00:01:29.600 --> 00:01:32.462\nconfiguration requirements and\nthings that we have to be aware of.\n\n30\n00:01:32.462 --> 00:01:33.410\nWe're gonna do that.\n\n31\n00:01:33.410 --> 00:01:37.350\nAlong the way, said we'd develop our\nthought process a little bit more around\n\n32\n00:01:37.350 --> 00:01:41.530\nhow we architect WSUS with some different\ninstall options from an architecture\n\n33\n00:01:41.530 --> 00:01:46.530\nprospective, single standalone WSUS server\nversus what we call a multi-server or\n\n34\n00:01:46.530 --> 00:01:51.209\nmultiple server deployment where we\nmay choose to have several different\n\n35\n00:01:51.209 --> 00:01:55.585\nWSUS servers, either a branch office\nlocations or because of maximum\n\n36\n00:01:55.585 --> 00:02:00.005\nrequirements around the number of machines\nthat can be supported by a WSUS server.\n\n37\n00:02:00.005 --> 00:02:00.875\nWe'll talk about that.\n\n38\n00:02:00.875 --> 00:02:02.555\nYou may or may not know what that is.\n\n39\n00:02:02.555 --> 00:02:05.545\nAnd I'll show you how to find that\nvalue and also manipulate it.\n\n40\n00:02:05.545 --> 00:02:07.015\nWe'll do that through PowerShell.\n\n41\n00:02:07.015 --> 00:02:10.200\nBut because we may have requirements\nthat may scale up and scale out, so\n\n42\n00:02:10.200 --> 00:02:13.460\nwe'll talk about this idea of\nmultiple WSUS server deployments.\n\n43\n00:02:13.460 --> 00:02:17.341\nWe can actually bring to bear an old but\nvery valuable technology,\n\n44\n00:02:17.341 --> 00:02:20.599\none we haven't talked about\nin the securing episodes,\n\n45\n00:02:20.599 --> 00:02:24.720\nbut one we did go in depth into\nin our discussions in networking.\n\n46\n00:02:24.720 --> 00:02:27.940\nSo when we took a look at\nthe networking Server 16 show.\n\n47\n00:02:27.940 --> 00:02:31.688\nCherokee and\nI did that entire set of shows.\n\n48\n00:02:31.688 --> 00:02:36.010\nAnd Mike, who I've mentioned before,\ndid the original Server 16 installation,\n\n49\n00:02:36.010 --> 00:02:37.940\nconfiguration, and storage shows.\n\n50\n00:02:37.940 --> 00:02:41.391\nAnd when you look at that,\nyou'll see in those shows and\n\n51\n00:02:41.391 --> 00:02:45.212\nin both areas' specific episodes,\nas I trip over my tongue,\n\n52\n00:02:45.212 --> 00:02:50.076\nwe talk about network load balancing,\nNLB, and setting up and NLB clusters.\n\n53\n00:02:50.076 --> 00:02:54.135\nAnd so if you're familiar with that\nconcept, software based load balancing,\n\n54\n00:02:54.135 --> 00:02:58.013\nbeing able to spread our ability to be\nable to process and manage across one or\n\n55\n00:02:58.013 --> 00:02:59.170\nmore instances.\n\n56\n00:02:59.170 --> 00:03:02.904\nWe could pair this idea of\nmulti-WSUS server support and\n\n57\n00:03:02.904 --> 00:03:07.820\ndeployment against this idea of linking\nthe deployment to an NLB cluster.\n\n58\n00:03:07.820 --> 00:03:09.660\nSo we have some interesting options and\n\n59\n00:03:09.660 --> 00:03:12.470\ncapabilities associated\nwith our deployment.\n\n60\n00:03:12.470 --> 00:03:15.480\nAnd I see Cherokee is pacing patiently,\nrocking back and\n\n61\n00:03:15.480 --> 00:03:18.360\nforth, waiting to say something,\nso let's blitz.\n\n62\n00:03:18.360 --> 00:03:19.530\n&gt;&gt; That's just too much coffee.\n\n63\n00:03:19.530 --> 00:03:20.440\n&gt;&gt; Too much coffee?\n\n64\n00:03:20.440 --> 00:03:21.752\nOkay.\n&gt;&gt; It's pretty cool, because,\n\n65\n00:03:21.752 --> 00:03:24.707\nI mean, you're talking about this\nparticular, what you're explaining,\n\n66\n00:03:24.707 --> 00:03:26.397\nthat can be used in\na very large enterprise.\n\n67\n00:03:26.397 --> 00:03:29.318\nBut also, even if you have\na small to medium sized business,\n\n68\n00:03:29.318 --> 00:03:32.373\nyou could definitely benefit\nfrom implementing this system.\n\n69\n00:03:32.373 --> 00:03:36.406\n&gt;&gt; You could, there's really no business\nin the world that won't benefit from using\n\n70\n00:03:36.406 --> 00:03:37.915\nWSUS, let's put it that way.\n\n71\n00:03:37.915 --> 00:03:42.459\nEven the smallest of my clients\nthat may have a handful of users,\n\n72\n00:03:42.459 --> 00:03:44.900\nmaybe 10, 20, 30, 40,\n\n73\n00:03:44.900 --> 00:03:50.940\nrelatively small businesses by comparison\nto large scale global enterprises.\n\n74\n00:03:50.940 --> 00:03:55.345\nEven there,\nwhen you are looking at perhaps 10 to 40,\n\n75\n00:03:55.345 --> 00:03:59.748\nmaybe 10 to 50, 50 or more,\nup to 100 or more users and endpoints,\n\n76\n00:03:59.748 --> 00:04:04.290\nworkstations supporting them, you're gonna\nget an economy of scale in the value of\n\n77\n00:04:04.290 --> 00:04:06.520\nbeing able to deploy\ncentralized patch management.\n\n78\n00:04:06.520 --> 00:04:09.705\nWhen you have one or two machines,\nthere's probably not a lot of incentive to\n\n79\n00:04:09.705 --> 00:04:11.917\nbuild infrastructure like this,\nlet's be honest.\n\n80\n00:04:11.917 --> 00:04:17.083\nWith three, five, seven, machines you can\nprobably, as an individual or perhaps\n\n81\n00:04:17.083 --> 00:04:22.133\none or two individuals in an IT shop, you\ncan manage that kind of infrastructure.\n\n82\n00:04:22.133 --> 00:04:23.930\nI mean, you can literally walk around and\nkeep up with it.\n\n83\n00:04:23.930 --> 00:04:26.756\n&gt;&gt; And just say hey Adam, did you\nupdate your machine today or whatever.\n\n84\n00:04:26.756 --> 00:04:31.193\n&gt;&gt; Absolutely, and so while it may not be\nfrom a policy perspective, from a process\n\n85\n00:04:31.193 --> 00:04:35.959\nperspective, the most efficient way to do\nthings, there are certainly the economies\n\n86\n00:04:35.959 --> 00:04:40.161\nof scale and the value propositions of\nautomation that we often talk about.\n\n87\n00:04:40.161 --> 00:04:42.952\nBut it may not be the most efficient\nway to get the job done, but\n\n88\n00:04:42.952 --> 00:04:46.714\nit's certainly imminently doable in the\nsense that you can cover all those bases,\n\n89\n00:04:46.714 --> 00:04:49.410\nand you're not, most likely,\ngonna miss anybody.\n\n90\n00:04:49.410 --> 00:04:51.701\nAnd even if you miss them once,\nyou'll catch them next time around,\n\n91\n00:04:51.701 --> 00:04:52.740\nthat kind of thing.\n\n92\n00:04:52.740 --> 00:04:55.268\nThey're out of the office,\nthey're not there, they're on vacation,\n\n93\n00:04:55.268 --> 00:04:56.669\nyou can easily make up for that, right?\n\n94\n00:04:56.669 --> 00:04:57.947\nIt's not too difficult.\n\n95\n00:04:57.947 --> 00:05:01.120\nBut as we get into the tens,\nthe teens, the twenties, and beyond,\n\n96\n00:05:01.120 --> 00:05:03.628\nIt's really very difficult\nto start going around and\n\n97\n00:05:03.628 --> 00:05:05.874\nwrangling all those people\non a regular basis.\n\n98\n00:05:05.874 --> 00:05:10.018\nMaintaining server-side infrastructure,\nbecause it is a fixed asset,\n\n99\n00:05:10.018 --> 00:05:14.622\nwhether it's racked and stacked like stuff\nyou see behind me in our quote unquote,\n\n100\n00:05:14.622 --> 00:05:17.047\nminiature data center running back here.\n\n101\n00:05:17.047 --> 00:05:23.110\nAnd or if it is virtualized infrastructure\nrunning on hosts, but is logically as well\n\n102\n00:05:23.110 --> 00:05:27.450\nas physically present In the data center,\nyou could still, as an IT professional,\n\n103\n00:05:27.450 --> 00:05:30.520\ngain access to that infrastructure\non a regular basis as needed\n\n104\n00:05:30.520 --> 00:05:34.500\nthrough patch cycles, through maintenance\nwindows aligned with your SLAs.\n\n105\n00:05:34.500 --> 00:05:36.750\nThose things are fairly straightforward.\n\n106\n00:05:36.750 --> 00:05:40.260\nIt's really the endpoint management that\nbecomes a bit if a challenge because\n\n107\n00:05:40.260 --> 00:05:42.430\nthose systems may or\nmay not be present all the time.\n\n108\n00:05:42.430 --> 00:05:45.880\nMeaning my laptop, your laptop,\npeople that are traveling,\n\n109\n00:05:45.880 --> 00:05:49.830\nthat are in remote offices that work\nremotely, it's difficult, right,\n\n110\n00:05:49.830 --> 00:05:50.870\nto keep track of all them.\n\n111\n00:05:50.870 --> 00:05:55.480\nSo using one or more WSUS servers,\nand then automating,\n\n112\n00:05:55.480 --> 00:05:58.250\nas we'll get into and\ntalk about over this episode and\n\n113\n00:05:58.250 --> 00:06:02.280\nwhatever else it requires to finish\nthis particular set of topics as we go.\n\n114\n00:06:02.280 --> 00:06:06.196\nUsing things like Group Policy to\ndeploy and specify what our patch\n\n115\n00:06:06.196 --> 00:06:10.390\ninfrastructure's gonna look like and\nhard code the path, right, for clients and\n\n116\n00:06:10.390 --> 00:06:14.080\npoint them there through Group Policy\nmanagement to ensure that all the clients\n\n117\n00:06:14.080 --> 00:06:18.270\nare taking advantage of this becomes very\ncritical because then we can audit that.\n\n118\n00:06:18.270 --> 00:06:19.190\nWe can report on that.\n\n119\n00:06:19.190 --> 00:06:21.970\nWe can validate that those clients\nare coming and getting updates.\n\n120\n00:06:21.970 --> 00:06:24.330\nAnd if they miss a cycle,\nwe'll be able to tell that.\n\n121\n00:06:24.330 --> 00:06:27.556\nWe've got a very robust reporting\ncapability built in o the WSUS\n\n122\n00:06:27.556 --> 00:06:28.522\ninfrastructure.\n\n123\n00:06:28.522 --> 00:06:31.420\nAnd we're gonna walk you through making\nsure that's configured properly.\n\n124\n00:06:31.420 --> 00:06:33.600\nThere's usually a requirement or\ntwo you gotta go through.\n\n125\n00:06:33.600 --> 00:06:36.278\nIt's not just hey,\nstand up WSUS, and it works.\n\n126\n00:06:36.278 --> 00:06:39.866\nThere's a SQL redistributable package you\ntypically have to download and install.\n\n127\n00:06:39.866 --> 00:06:43.139\nIt's not always present on the WSUS\nserver, so you'll get a link and\n\n128\n00:06:43.139 --> 00:06:45.240\na prompt for\nthat when you go to run reports.\n\n129\n00:06:45.240 --> 00:06:46.720\nHey, that's not configured.\n\n130\n00:06:46.720 --> 00:06:49.920\nWe download that, walk through a series\nof steps, have them documented for\n\n131\n00:06:49.920 --> 00:06:50.900\nyou in the show notes.\n\n132\n00:06:50.900 --> 00:06:53.630\nAnd then once you've done that and\nyou're able to get back in,\n\n133\n00:06:53.630 --> 00:06:55.470\nyour reporting infrastructure is there.\n\n134\n00:06:55.470 --> 00:06:58.150\nSo it's integrated right into\nthe console so we can track all that.\n\n135\n00:06:58.150 --> 00:07:04.250\nSo it is a great point that you raise,\nwhich is really thinking not\n\n136\n00:07:04.250 --> 00:07:08.750\njust about how we manage infrastructure,\nbut how we manage our inability to have\n\n137\n00:07:08.750 --> 00:07:12.530\nall the infrastructure in one place today,\nright, in distributed architectures\n\n138\n00:07:12.530 --> 00:07:17.230\nis essentially one of the key propositions\nthat WSUS tries to address for us.\n\n139\n00:07:17.230 --> 00:07:21.060\nAnd it's not the only technology that does\nthis, but with regards to patch management\n\n140\n00:07:21.060 --> 00:07:25.990\nand a built in, vendor specific, vendor\nsupplied, and, let's be honest, right.\n\n141\n00:07:25.990 --> 00:07:26.850\nSay it with me, air quotes.\n\n142\n00:07:26.850 --> 00:07:28.210\nAre you ready?\n&gt;&gt; I don't know what we're saying.\n\n143\n00:07:28.210 --> 00:07:29.040\n&gt;&gt; No, just get your air quotes ready.\n\n144\n00:07:29.040 --> 00:07:29.977\n&gt;&gt; Air quotes, okay,\nmy air quotes are ready.\n\n145\n00:07:29.977 --> 00:07:30.584\n&gt;&gt; Okay, ready?\n\n146\n00:07:30.584 --> 00:07:31.272\nWe're gonna, you ready?\n\n147\n00:07:31.272 --> 00:07:32.940\n&gt;&gt; Yeah.\n&gt;&gt; Okay, are you sure?\n\n148\n00:07:32.940 --> 00:07:34.382\nWait, quick test before we do it, okay?\n\n149\n00:07:34.382 --> 00:07:36.730\n&gt;&gt; I'm gonna have a false start here\nbecause I'm so ready, actually.\n\n150\n00:07:36.730 --> 00:07:38.260\n&gt;&gt; You missed it, I did this here.\n\n151\n00:07:38.260 --> 00:07:39.770\n&gt;&gt; [LAUGH]\n&gt;&gt; One more time, come on, you ready?\n\n152\n00:07:39.770 --> 00:07:40.541\nOkay.\n&gt;&gt; Yeah.\n\n153\n00:07:40.541 --> 00:07:43.192\n&gt;&gt; All right, so I have to tell Cherokee\nwhat we're gonna say, so one second.\n\n154\n00:07:43.192 --> 00:07:44.993\n&gt;&gt; Okay, what?\n\n155\n00:07:44.993 --> 00:07:46.055\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Okay.\n\n156\n00:07:46.055 --> 00:07:46.563\n&gt;&gt; You ready?\n\n157\n00:07:46.563 --> 00:07:48.210\n&gt;&gt; I like this.\n&gt;&gt; Okay, good, all right, so, ready?\n\n158\n00:07:48.210 --> 00:07:49.000\n&gt;&gt; Yeah.\n\n159\n00:07:49.000 --> 00:07:49.800\nFree.\n\n160\n00:07:49.800 --> 00:07:50.409\n&gt;&gt; Okay, there we go.\n\n161\n00:07:50.409 --> 00:07:54.316\nSo because it is free and built in,\nright, it is part of our licensing,\n\n162\n00:07:54.316 --> 00:07:55.696\nin other words, right?\n\n163\n00:07:55.696 --> 00:07:58.196\nWSUS Unlike several products\nwe've talked about.\n\n164\n00:07:58.196 --> 00:08:02.719\nThe ATA, the Advanced Thread Analytics\ngateway, the Microsoft NDS product.\n\n165\n00:08:02.719 --> 00:08:06.103\nWhere we can download that demo it for\nfree, but it is a 90-day eval, and\n\n166\n00:08:06.103 --> 00:08:08.388\nthen as we talked about,\nwe have to license that.\n\n167\n00:08:08.388 --> 00:08:13.323\nUnlike the OMS, the Ops Manager Suite\nonline through the Cloud.\n\n168\n00:08:13.323 --> 00:08:17.530\nAgain, we can demo that but we have\nto license it to use it ultimately.\n\n169\n00:08:17.530 --> 00:08:21.114\nUnlike us your backup which we can demo\nand we've shown you how to use and\n\n170\n00:08:21.114 --> 00:08:23.586\ntalk about, but\nyou gotta essentially sign up.\n\n171\n00:08:23.586 --> 00:08:25.598\nSo you know there's a lot\nof these security and\n\n172\n00:08:25.598 --> 00:08:28.952\nmanagement capabilities we go through\nin these episodes and in our shows that\n\n173\n00:08:28.952 --> 00:08:32.116\ndefinitely you wanna think about\ntaking advantage of, they're cool.\n\n174\n00:08:32.116 --> 00:08:35.641\nWe all agree there's value in using them,\nbut you gotta write a check, right,\n\n175\n00:08:35.641 --> 00:08:37.026\nin order to get access to them.\n\n176\n00:08:37.026 --> 00:08:39.894\nThis is one of those that's been built-in,\nand it's been built-in for\n\n177\n00:08:39.894 --> 00:08:40.689\nsome time, right?\n\n178\n00:08:40.689 --> 00:08:44.829\nAnd so leveraging the tools and\ncapabilities that are already provided as\n\n179\n00:08:44.829 --> 00:08:48.917\npart of the OS makes for an even better\nsolution as long as they add value.\n\n180\n00:08:48.917 --> 00:08:53.118\nAnd as I said WSUS is really one of those\nthings that almost without exception is\n\n181\n00:08:53.118 --> 00:08:55.356\nappropriate for everybody to consider.\n\n182\n00:08:55.356 --> 00:09:00.051\nBut it may not be appropriate for use,\ndepending on the size of the organization.\n\n183\n00:09:00.051 --> 00:09:05.008\nAnd I find very few organizations\nthat don't find value in using WSUS.\n\n184\n00:09:05.008 --> 00:09:07.491\nI find a lot of organizations\nin my practice and\n\n185\n00:09:07.491 --> 00:09:11.771\nas I talk to people that struggle with\nunderstanding how to do it successfully.\n\n186\n00:09:11.771 --> 00:09:16.093\nAnd don't understand how to translate\nthat value proposition into\n\n187\n00:09:16.093 --> 00:09:20.565\na compelling story in a business case\nthat convinces the business that\n\n188\n00:09:20.565 --> 00:09:24.757\ninvesting the time to employ\nthe resource properly makes sense.\n\n189\n00:09:24.757 --> 00:09:27.015\nThat I find people struggle with, right.\n\n190\n00:09:27.015 --> 00:09:31.027\nSo building that value proposition,\ntelling that story,\n\n191\n00:09:31.027 --> 00:09:33.927\ncompelling as it is to senior management.\n\n192\n00:09:33.927 --> 00:09:37.254\nAnd getting them to buy in, I think is\nwhere the break point often happens.\n\n193\n00:09:37.254 --> 00:09:40.919\nNot, hey this won't work for us, but\nrather how do I explain that it will work,\n\n194\n00:09:40.919 --> 00:09:43.079\nand how do I tell\na compelling story around it?\n\n195\n00:09:43.079 --> 00:09:45.293\nAll right, so having said that,\nwe can scale this, right?\n\n196\n00:09:45.293 --> 00:09:46.311\nMultiple WSUS servers,\n\n197\n00:09:46.311 --> 00:09:49.079\nthe challenge here is you have to\nhave obviously download updates.\n\n198\n00:09:49.079 --> 00:09:51.241\nMake them available typically per server.\n\n199\n00:09:51.241 --> 00:09:54.636\nWe could set up one as we talked about\nin the last episode, upstream server.\n\n200\n00:09:54.636 --> 00:09:58.348\nThe upstream server's where we're\ngonna either grab our downloads from,\n\n201\n00:09:58.348 --> 00:09:58.990\nset them up.\n\n202\n00:09:58.990 --> 00:10:02.230\nAnd then downstream servers will\ngrab them and sync from them.\n\n203\n00:10:02.230 --> 00:10:05.095\nOr we can say Microsoft will\nbe the upstream server.\n\n204\n00:10:05.095 --> 00:10:09.128\nAnd we will just simply point our servers\nto the Microsoft update servers and\n\n205\n00:10:09.128 --> 00:10:12.544\nbring that update or service\nupdates down on a per server basis.\n\n206\n00:10:12.544 --> 00:10:16.097\nBut traditionally, we're gonna\nbuild a bridge out of some kind,\n\n207\n00:10:16.097 --> 00:10:19.976\nbring those updates in, then have to\neither sync from that bridge head.\n\n208\n00:10:19.976 --> 00:10:24.259\nOr we're gonna have to copy them down and\nimport them into multiple places.\n\n209\n00:10:24.259 --> 00:10:26.299\nSo just keep in mind,\nwe do have to manage,\n\n210\n00:10:26.299 --> 00:10:29.445\nin other words these WSUS servers\nindividually, as we scale up.\n\n211\n00:10:29.445 --> 00:10:34.076\nBecause we don't just download once,\nand all WSUS servers get updated,\n\n212\n00:10:34.076 --> 00:10:36.475\nthey are individual in that respect.\n\n213\n00:10:36.475 --> 00:10:41.079\nBecause some servers may specifically\nbe designed or specified or essentially\n\n214\n00:10:41.079 --> 00:10:45.693\nallocated to certain subnets or portions\nof our network, or infrastructure.\n\n215\n00:10:45.693 --> 00:10:49.532\nAnd we may only sync patches to those\nthat are appropriate for what they do.\n\n216\n00:10:49.532 --> 00:10:53.800\nI have a lot of clients for instance\nthat will build WSUS infrastructure but\n\n217\n00:10:53.800 --> 00:10:55.232\nthen they'll segment.\n\n218\n00:10:55.232 --> 00:10:58.997\nThey have a WSUS server or server farm\nwith several WSUS servers in it that\n\n219\n00:10:58.997 --> 00:11:03.070\nare scaled for broad use, a guest stop\nmanagement Windows 10, Windows 7,\n\n220\n00:11:03.070 --> 00:11:05.869\nWindows 8,\nwhatever our corporate desktop may be.\n\n221\n00:11:05.869 --> 00:11:10.040\nAnd then I have, and I often see separate\nWSUS infrastructure that's built\n\n222\n00:11:10.040 --> 00:11:12.917\nspecifically to deal with the server side,\nright.\n\n223\n00:11:12.917 --> 00:11:14.081\n[CROSSTALK]\n&gt;&gt; Can broke scale on it?\n\n224\n00:11:14.081 --> 00:11:16.205\n&gt;&gt; So it will scale,\nyeah right broken down,\n\n225\n00:11:16.205 --> 00:11:20.748\nsoon you'll have Server 16 in our case as\nwe're talking about or Server 12, 12 R2,\n\n226\n00:11:20.748 --> 00:11:22.942\nperhaps 2008 R2, whatever it may be.\n\n227\n00:11:22.942 --> 00:11:27.678\nBut a lot of times in larger corporate\nenterprises we'll see a dichotomy\n\n228\n00:11:27.678 --> 00:11:30.240\na splitting of the infrastructure, so\n\n229\n00:11:30.240 --> 00:11:35.149\nwe can effectively create and shrink\ndown the overall footprint for WSUS.\n\n230\n00:11:35.149 --> 00:11:38.461\nSo we're not building these massive\ncatalogs that have everything.\n\n231\n00:11:38.461 --> 00:11:42.320\nBut rather we're building smaller\nincremental servers that are designed to\n\n232\n00:11:42.320 --> 00:11:45.656\nservice specific silos, or niches,\nor areas of functionality.\n\n233\n00:11:45.656 --> 00:11:48.851\nEasier to manage, in the sense we\nhave less updates worrying about.\n\n234\n00:11:48.851 --> 00:11:52.827\nEasier from the reporting perspective,\nbreaking that down, verifying, and\n\n235\n00:11:52.827 --> 00:11:55.391\nauditing, we can now be\ntargeted in our approach.\n\n236\n00:11:55.391 --> 00:11:59.458\nNot that we couldn't do that overall,\nby running reports and filtering them,\n\n237\n00:11:59.458 --> 00:12:02.450\nwe could certainly do it from\none massive system, right?\n\n238\n00:12:02.450 --> 00:12:03.186\nWe could do it either way.\n\n239\n00:12:03.186 --> 00:12:06.435\nBut the idea is that makes it\neasier in some respects to do that.\n\n240\n00:12:06.435 --> 00:12:09.863\nThere's a say another school of thought\nthat's essentially the exact opposite.\n\n241\n00:12:09.863 --> 00:12:11.103\nYou hear a lot of people say,\n\n242\n00:12:11.103 --> 00:12:13.606\nwe're not just built a massive\nserver infrastructure.\n\n243\n00:12:13.606 --> 00:12:16.837\nMultiple servers, almost like a farm load\nbalance and just put everything out there.\n\n244\n00:12:16.837 --> 00:12:18.865\nAnd that way,\neverything is always there, and\n\n245\n00:12:18.865 --> 00:12:21.957\nyou've got multiples in case you have\na failure or some sort of an issue,\n\n246\n00:12:21.957 --> 00:12:24.762\nyou've got other servers that\nare centrally set up the same way.\n\n247\n00:12:24.762 --> 00:12:27.704\nSo you can do this either way,\nthere's no right and wrong.\n\n248\n00:12:27.704 --> 00:12:31.104\nBut what I'm suggesting is, like we've\ntalked about this in many other areas,\n\n249\n00:12:31.104 --> 00:12:32.359\nright, you've gotta plan.\n\n250\n00:12:32.359 --> 00:12:34.087\nAnd you've got to think\nabout what you're gonna do.\n\n251\n00:12:34.087 --> 00:12:37.427\nThe worst thing can do with technology\nlike this is kind of had an ad hoc\n\n252\n00:12:37.427 --> 00:12:39.974\napproach, just kind of deploy and\nbuild it as we go.\n\n253\n00:12:39.974 --> 00:12:44.144\nAnd we have a central plan, we don't\nthink about the overarching enterprise\n\n254\n00:12:44.144 --> 00:12:46.335\narchitecture and what that looks like.\n\n255\n00:12:46.335 --> 00:12:51.040\nAnd it becomes essentially\na hodgepodge it's this random,\n\n256\n00:12:51.040 --> 00:12:54.278\nchaotic, disjointed infrastructure.\n\n257\n00:12:54.278 --> 00:12:56.846\nThat's really where we run\ninto issues long-term.\n\n258\n00:12:56.846 --> 00:12:58.441\n&gt;&gt; But that's a big challenge\na lot of companies have.\n\n259\n00:12:58.441 --> 00:12:58.997\n&gt;&gt; Yeah, it can be.\n\n260\n00:12:58.997 --> 00:13:01.454\n&gt;&gt; Just like yeah, over time you\nkind of get a little mix going on.\n\n261\n00:13:01.454 --> 00:13:04.310\nThen you need to have like a\nreconfiguration or some kind of strategy.\n\n262\n00:13:04.310 --> 00:13:07.688\n&gt;&gt; Potentially, just somebody at some\npoint there's kind of this break event\n\n263\n00:13:07.688 --> 00:13:09.918\nwhere something catastrophic,\nhopefully not.\n\n264\n00:13:09.918 --> 00:13:13.614\nBut usually some sort of breach or some\nsort of issue happens that sheds light on\n\n265\n00:13:13.614 --> 00:13:16.651\nthe fact that there really isn't\na good central plan to manage.\n\n266\n00:13:16.651 --> 00:13:19.711\nAnd there's a lot of chaos cuz\na lot of randomness going on.\n\n267\n00:13:19.711 --> 00:13:23.448\nAnd if as a result of that\nyou learn the lesson and\n\n268\n00:13:23.448 --> 00:13:25.982\ntry to go back and fix it, good.\n\n269\n00:13:25.982 --> 00:13:28.189\nBut imagine the amount of\ntime you are reinvesting and\n\n270\n00:13:28.189 --> 00:13:31.487\nessentially you're creating infrastructure\ntwice when you go back to fix it.\n\n271\n00:13:31.487 --> 00:13:35.569\nSo it's better, I tell my customers and\nstudents, if you're gonna do it right,\n\n272\n00:13:35.569 --> 00:13:38.543\nyou've head this before,\nthis is not new advise, right?\n\n273\n00:13:38.543 --> 00:13:40.922\nGet it right the first time or\na derivative of that.\n\n274\n00:13:40.922 --> 00:13:44.125\nA lot of these are really old\nsayings very pad, very generic.\n\n275\n00:13:44.125 --> 00:13:46.729\nAnd people say, well you know I know that.\n\n276\n00:13:46.729 --> 00:13:49.091\nBut you know that, I talk about\nthis to customers all the time.\n\n277\n00:13:49.091 --> 00:13:50.229\nPeople look at me and say, we know that,\n\n278\n00:13:50.229 --> 00:13:51.646\nyou're not telling me\nsomething we don't know.\n\n279\n00:13:51.646 --> 00:13:55.326\nGreat, then why aren't you doing it,\nis my retort to them?\n\n280\n00:13:55.326 --> 00:13:57.234\nI mean knowing is half the battle, right?\n\n281\n00:13:57.234 --> 00:14:01.366\nKnowledge is good but the ability to apply\nthat knowledge contextually to create\n\n282\n00:14:01.366 --> 00:14:05.146\nbetter environments is really\nthe struggle that we as IT professionals.\n\n283\n00:14:05.146 --> 00:14:08.659\nWe as security professionals, you know\nthis is the fight we fight every day.\n\n284\n00:14:08.659 --> 00:14:11.539\nAnd if you're not doing that,\nI tell customers and I have\n\n285\n00:14:11.539 --> 00:14:15.862\nno trouble telling them, because it's\nthe truth, then you're wasting your time.\n\n286\n00:14:15.862 --> 00:14:20.020\nAnd I'd rather you take that money and\nwrite a check and put it to good use, than\n\n287\n00:14:20.020 --> 00:14:24.190\njust take that money and throw it in the\nwind and hope that it sticks somewhere.\n\n288\n00:14:24.190 --> 00:14:26.856\nBecause you are wasting\nyour employees time,\n\n289\n00:14:26.856 --> 00:14:30.011\nwhich is very valuable both to them and\nto the company.\n\n290\n00:14:30.011 --> 00:14:33.931\nYou're wasting your resources,\nthe least of which, right, is money.\n\n291\n00:14:33.931 --> 00:14:38.202\nBecause again the time that your teams\ninvest is so much more valuable.\n\n292\n00:14:38.202 --> 00:14:42.006\nWhen we think about the multiplier effect\nthat time has in the business than just\n\n293\n00:14:42.006 --> 00:14:44.977\nthe dollars you simply spend to\nbuy infrastructure up front.\n\n294\n00:14:44.977 --> 00:14:47.592\nA server license you buy once and\nit's good essentially for\n\n295\n00:14:47.592 --> 00:14:49.325\nthe lifetime of that product, right.\n\n296\n00:14:49.325 --> 00:14:53.051\nBut the team's time it takes to\nimplement and use that server and\n\n297\n00:14:53.051 --> 00:14:57.546\nthat license over the three to five year\nlife cycle that you own that product.\n\n298\n00:14:57.546 --> 00:15:01.642\nIs gonna have such a great multiplier\neffect in terms of the perceived actual\n\n299\n00:15:01.642 --> 00:15:02.990\nvalue that they create.\n\n300\n00:15:02.990 --> 00:15:06.721\nThat that dollar you spend is actually\nworth ten times or 20 times that amount\n\n301\n00:15:06.721 --> 00:15:09.901\nwhen that team gets a hold of that\nproduct and uses it the right way.\n\n302\n00:15:09.901 --> 00:15:11.981\nAnd people don't always think about that,\nand\n\n303\n00:15:11.981 --> 00:15:15.154\ndon't always understand that when\nwe talk about technology like this.\n\n304\n00:15:15.154 --> 00:15:19.453\nAnd this is really the most important\nthing you can do, which is use technology\n\n305\n00:15:19.453 --> 00:15:23.182\neffectively as opposed to simply\ncheck off a box saying I have that.\n\n306\n00:15:23.182 --> 00:15:24.519\nSo we should be good, right?\n\n307\n00:15:24.519 --> 00:15:25.435\nFrom an audit perspective,\n\n308\n00:15:25.435 --> 00:15:27.465\nI've actually had customers look\nme in the eye and ask me that.\n\n309\n00:15:27.465 --> 00:15:30.713\nWell, we have that it says you need\nthat on the box and we have that so\n\n310\n00:15:30.713 --> 00:15:31.831\nwe're good, right.\n\n311\n00:15:31.831 --> 00:15:34.052\nYou're gonna check that off,\nyou're gonna give us a good grade, right?\n\n312\n00:15:34.052 --> 00:15:35.206\nNo, I'm not.\n\n313\n00:15:35.206 --> 00:15:38.595\nI'm gonna actually tell you that you're\nnot using it correctly if you're not\n\n314\n00:15:38.595 --> 00:15:39.839\ndeploying it the right way.\n\n315\n00:15:39.839 --> 00:15:42.910\nAnd I'll work with you to help\nyou figure out what you can do\n\n316\n00:15:42.910 --> 00:15:45.428\nto make that turn that\ncorner make that change.\n\n317\n00:15:45.428 --> 00:15:48.792\nBut we're not just gonna check off a box,\nand say yes, good,\n\n318\n00:15:48.792 --> 00:15:50.280\ngold star you got it right,\n\n319\n00:15:50.280 --> 00:15:54.701\njust because you could say in theory\nowned something, because you deployed it.\n\n320\n00:15:54.701 --> 00:15:56.106\nIf you haven't deployed it properly,\n\n321\n00:15:56.106 --> 00:15:59.136\nyou're actually probably doing more harm\nthan good, more often than not, right?\n\n322\n00:15:59.136 --> 00:16:00.720\nSo this is an issue.\n\n323\n00:16:00.720 --> 00:16:01.550\n&gt;&gt; And I can vouch for that.\n\n324\n00:16:01.550 --> 00:16:04.680\nIt's not just Adam saying hey,\nI'm not gonna check you off.\n\n325\n00:16:04.680 --> 00:16:06.710\nIt's other auditors that\nI've worked with as well.\n\n326\n00:16:06.710 --> 00:16:10.070\nAnd the great thing about that\nis you guys have access to that\n\n327\n00:16:10.070 --> 00:16:11.820\nhere in the course library.\n\n328\n00:16:11.820 --> 00:16:15.830\nSomething that's helped me tremendously\nwas project management disciplines.\n\n329\n00:16:15.830 --> 00:16:19.300\nJust learning different methodologies but\nany kind of framework, exactly.\n\n330\n00:16:19.300 --> 00:16:22.860\nAny kind of framework or something to help\nyou with time management and planning and\n\n331\n00:16:22.860 --> 00:16:26.780\nso forth, but I digress [LAUGH].\n\n332\n00:16:26.780 --> 00:16:28.451\n&gt;&gt; So you're not practicing\ngood time management right now\n\n333\n00:16:28.451 --> 00:16:29.190\nis what you're saying.\n\n334\n00:16:29.190 --> 00:16:30.498\n&gt;&gt; I'm not practicing\ngood time management.\n\n335\n00:16:30.498 --> 00:16:32.055\n&gt;&gt; All right, just so we're clear.\n\n336\n00:16:32.055 --> 00:16:34.710\n&gt;&gt; [LAUGH]\n&gt;&gt; Bad Cherokee, all right, so\n\n337\n00:16:34.710 --> 00:16:37.950\nnow that I'm off my soapbox and\nCherokee pulled me back to reality here.\n\n338\n00:16:37.950 --> 00:16:41.020\nLet's actually talk about some\ninteresting things associated with WSUS.\n\n339\n00:16:41.020 --> 00:16:41.900\nSo join me here,\n\n340\n00:16:41.900 --> 00:16:45.249\nwanna show you a little trick with\nPowerShell just to get us started off.\n\n341\n00:16:46.600 --> 00:16:49.920\nI mentioned that one of the things\nwe have to consider with WSUS\n\n342\n00:16:49.920 --> 00:16:53.450\nwhether we do a single server deployment\nor scale out and do multiple deployments.\n\n343\n00:16:53.450 --> 00:16:57.400\nIs this idea of the carrying capacity or\nessentially the load meaning the number\n\n344\n00:16:57.400 --> 00:17:02.620\nthe max number the machines or computers\nyou're allowed to see there on the screen.\n\n345\n00:17:02.620 --> 00:17:06.740\nMaximum allowed computers that can\nessentially can use a single w server.\n\n346\n00:17:06.740 --> 00:17:10.410\nBy default out of the box,\nthat number is 30,000.\n\n347\n00:17:10.410 --> 00:17:14.470\nBut that is not the hardcoded limit,\nthat is just where we set it initially.\n\n348\n00:17:14.470 --> 00:17:17.010\nThe max is 100,000.\n\n349\n00:17:17.010 --> 00:17:23.460\nWe can have 100,000 computers\nassociated with a single WSUS server.\n\n350\n00:17:23.460 --> 00:17:24.510\nYou may or may not know that.\n\n351\n00:17:24.510 --> 00:17:28.170\nMost people don't know that unless they\nbother to go read all that documentation\n\n352\n00:17:28.170 --> 00:17:31.820\nthat nobody ever pays attention to until\nsomething doesn't work the right way.\n\n353\n00:17:31.820 --> 00:17:34.778\nThey're wondering,\nhow many more machines can I add?\n\n354\n00:17:34.778 --> 00:17:38.900\nAnd let's be honest, how many of us\nhave networks where you have 100,000 or\n\n355\n00:17:38.900 --> 00:17:40.240\nmore machines running around?\n\n356\n00:17:40.240 --> 00:17:43.082\nI mean if you have that kind of\ninstructor, and many of you do,\n\n357\n00:17:43.082 --> 00:17:44.620\ndon't get me wrong I know you do.\n\n358\n00:17:44.620 --> 00:17:48.752\nBut my point is that if you have those\nkind of numbers, you're probably running\n\n359\n00:17:48.752 --> 00:17:52.710\nmore than one WSUS problem,\nrunning more than one of anything, right?\n\n360\n00:17:52.710 --> 00:17:56.600\nYou're not running a single WSUS server\nwhen you have 100,000 clients to patch.\n\n361\n00:17:56.600 --> 00:18:00.160\nSo you don't ever really typically\nrun up against that limit.\n\n362\n00:18:00.160 --> 00:18:03.604\nBut what you do is you may\nrun up against the 30,000\n\n363\n00:18:03.604 --> 00:18:05.810\nDefault that that number is set to.\n\n364\n00:18:05.810 --> 00:18:09.879\nAnd all of a sudden you get this weird\nstuff going on where you can't seem to add\n\n365\n00:18:09.879 --> 00:18:14.110\nto computers to the server because\nthe limit is initially set at 30,000.\n\n366\n00:18:14.110 --> 00:18:14.980\nThat's what it is.\n\n367\n00:18:14.980 --> 00:18:17.580\nSo if you wanna modify it, it's always\ngood to know how to do this thing.\n\n368\n00:18:17.580 --> 00:18:18.850\nI get asked about this all the time.\n\n369\n00:18:18.850 --> 00:18:23.450\nSo not hard to do, but hard sometimes to\nfind the information about how to do it.\n\n370\n00:18:23.450 --> 00:18:24.720\nLet's take a look on the screen.\n\n371\n00:18:25.950 --> 00:18:30.390\nDeclare a variable here called $config,\nin PowerShell, right?\n\n372\n00:18:30.390 --> 00:18:33.460\nSomething that comes after a dollar\nsign is a variable statement\n\n373\n00:18:33.460 --> 00:18:34.780\nof whatever we're going to do.\n\n374\n00:18:34.780 --> 00:18:37.375\nWe just call this one config for\nobvious reasons,\n\n375\n00:18:37.375 --> 00:18:38.685\nwe're going to look at the config.\n\n376\n00:18:38.685 --> 00:18:41.415\nSet it equal to something, so\nI have a little equal sign there.\n\n377\n00:18:41.415 --> 00:18:44.835\nI am using the get WSUS server commandlet,\nthis commandlet, and\n\n378\n00:18:44.835 --> 00:18:47.525\nI'll show you a list of all of\nthe WSUS server commandments but\n\n379\n00:18:47.525 --> 00:18:50.850\nit's available as we configure WSUS,\nwe have access to that.\n\n380\n00:18:50.850 --> 00:18:53.970\nSpeaking of showing them to you,\nlet me do that while we're talking.\n\n381\n00:18:53.970 --> 00:18:57.240\nSo, there is a list, is in our show notes,\nas we often try to do,\n\n382\n00:18:57.240 --> 00:18:59.880\nof all the wsus PowerShell commandments.\n\n383\n00:18:59.880 --> 00:19:02.150\nThought it would be good\njust to show them to you.\n\n384\n00:19:02.150 --> 00:19:04.960\nYou'll see them here at WSUS computer.\n\n385\n00:19:04.960 --> 00:19:08.910\nDynamic category, approve updates,\nobviously important to be able to do that.\n\n386\n00:19:08.910 --> 00:19:11.840\nDeny updates,\noccasionally we got to do that as well.\n\n387\n00:19:11.840 --> 00:19:16.920\nGet classification, get computer,\nget product, get WSUS server, etc.\n\n388\n00:19:16.920 --> 00:19:19.618\nSo you could see all of\nthe commandlets here.\n\n389\n00:19:19.618 --> 00:19:21.752\nThis would be good for\nyou to go through and take a look at them.\n\n390\n00:19:21.752 --> 00:19:25.401\nSo, just pointing them out to you, since\nwe're talking about how to use one or\n\n391\n00:19:25.401 --> 00:19:26.500\nmore of them here.\n\n392\n00:19:26.500 --> 00:19:32.805\nSo get WSUS server commandlet and then the\ngit configuration item on the end there.\n\n393\n00:19:32.805 --> 00:19:37.690\nThat's gonna pull the configuration for\nthe WSUS server in for me, right.\n\n394\n00:19:37.690 --> 00:19:42.771\nAnd so once I've done that and\nset the value of the variable statement\n\n395\n00:19:42.771 --> 00:19:48.045\nconfig to essentially the get WSUS\nserver commandlet configuration.\n\n396\n00:19:48.045 --> 00:19:51.880\nSo I'm pulling the config in,\nattaching it to a variable called config.\n\n397\n00:19:51.880 --> 00:19:57.200\nThen I'm reading a specific\nvalue out of the variable,\n\n398\n00:19:57.200 --> 00:19:59.430\ndollar sign config\nmaximal allow computers.\n\n399\n00:19:59.430 --> 00:20:02.440\nIn other words,\nfrom the WSUS server config,\n\n400\n00:20:02.440 --> 00:20:04.900\nall the information now\nsitting in the variable.\n\n401\n00:20:04.900 --> 00:20:06.240\nShow me this particular piece.\n\n402\n00:20:06.240 --> 00:20:09.690\nI'm reaching in and pulling out one\nvalue that I wanna be able to see,\n\n403\n00:20:09.690 --> 00:20:12.810\nwhich is maximum allowed computers,\nthe one we're talking about.\n\n404\n00:20:12.810 --> 00:20:15.770\nAnd that number kind of\nhard to see that side here.\n\n405\n00:20:15.770 --> 00:20:17.889\nLet's pull this over so\nthat you could see that,\n\n406\n00:20:17.889 --> 00:20:21.700\nthat number initially is 30,000 if\nyou could see right there, right?\n\n407\n00:20:21.700 --> 00:20:25.780\nAnd so if I wanna change that I just\nuse the same statement I just use.\n\n408\n00:20:25.780 --> 00:20:29.800\nShowed a minute ago config maximum allow\ncomputers are dollar sign configed for\n\n409\n00:20:29.800 --> 00:20:30.800\nthe variable.\n\n410\n00:20:30.800 --> 00:20:33.940\nI just used then and\nequal sign set it equal to a new number.\n\n411\n00:20:33.940 --> 00:20:38.903\nNow I told you the maximum is 100,000 so\nessentially set this and maxed the value,\n\n412\n00:20:38.903 --> 00:20:43.240\nso that I can accept up to 100,000\ncomputers on this WSUS server.\n\n413\n00:20:43.240 --> 00:20:46.176\nIf you wanna make that 50,000,\nyou wanna make it five,\n\n414\n00:20:46.176 --> 00:20:48.280\nI don't care what you wanna make it.\n\n415\n00:20:48.280 --> 00:20:51.790\nChoose a number and put it in there as\nlong as it's not bigger than 100,000\n\n416\n00:20:51.790 --> 00:20:55.290\nas long as you don't set it to zero,\nright, because obviously that's no good.\n\n417\n00:20:55.290 --> 00:20:57.870\nSo you can get an idea of what that\nis we don't accept fractions or\n\n418\n00:20:57.870 --> 00:21:02.970\ndecimals right, whole numbers\nhundred thousand so we that do that.\n\n419\n00:21:04.010 --> 00:21:07.090\nAfter I've done that,\nI issue a save here so\n\n420\n00:21:07.090 --> 00:21:09.870\nthat way I'm gonna save that\nnumber back to the config.\n\n421\n00:21:09.870 --> 00:21:13.480\nSo I went ahead and did that, and\nthen I'm checking that value again and\n\n422\n00:21:13.480 --> 00:21:16.030\nthis time it is now set to 100,000, right?\n\n423\n00:21:16.030 --> 00:21:18.480\nSo if you wanna modify that number or\n\n424\n00:21:18.480 --> 00:21:22.830\nthat value associated with that\nparticular property, right?\n\n425\n00:21:22.830 --> 00:21:27.240\nWe can see here, I'm setting it from 30\nto 100,000, then this is what you do,\n\n426\n00:21:27.240 --> 00:21:29.120\na couple simple commands, no big deal.\n\n427\n00:21:29.120 --> 00:21:31.720\nBut this is something that\nwe often get asked about.\n\n428\n00:21:31.720 --> 00:21:34.222\nAnd it's not hard to do as you could see,\n\n429\n00:21:34.222 --> 00:21:37.099\nbut it is important to be\nable to know how to do.\n\n430\n00:21:37.099 --> 00:21:38.843\nIt's one of those things\nyou may view once, twice,\n\n431\n00:21:38.843 --> 00:21:40.200\nnot the kind of thing you do all the time.\n\n432\n00:21:40.200 --> 00:21:43.853\nYou set this number, you walk away, you\nforget about it, you never set it again.\n\n433\n00:21:43.853 --> 00:21:48.230\nUsually, as I said, 30,000 is more\nthan enough for most systems anyway.\n\n434\n00:21:48.230 --> 00:21:50.000\nBut if you wanna be able\nto manipulate that just so\n\n435\n00:21:50.000 --> 00:21:53.680\nyou know where it is and kind of how to\ndo that always good to figure that out.\n\n436\n00:21:53.680 --> 00:21:56.730\nSo we talked about the that fact that\nwe can have a single server deployed,\n\n437\n00:21:56.730 --> 00:21:58.620\nwhich is what we are doing\nin our demo environment.\n\n438\n00:21:58.620 --> 00:22:01.990\nWe could have a scaled out\nmultiple WSUS server deployment.\n\n439\n00:22:01.990 --> 00:22:05.760\nUp against and that'll be cluster,\nclustered and made highly available.\n\n440\n00:22:05.760 --> 00:22:07.800\nWe can do that if we choose to as well.\n\n441\n00:22:07.800 --> 00:22:10.920\nWe could also have a word called\ndisconnected WSUS servers.\n\n442\n00:22:10.920 --> 00:22:15.370\nA disconnected WSUS server is a server\nthat does not connect out to Microsoft\n\n443\n00:22:15.370 --> 00:22:18.450\nupdate, as its upstream\nserver to download from.\n\n444\n00:22:18.450 --> 00:22:21.540\nBut rather is going to be able to\n\n445\n00:22:21.540 --> 00:22:25.490\nreceive its updates from another\nserver that is doing the sync.\n\n446\n00:22:25.490 --> 00:22:30.508\nSo imagine for just a minute we have a\nserver that is perhaps sitting in the DMZ.\n\n447\n00:22:30.508 --> 00:22:34.397\nAnd that is the server that we're gonna\nuse to gather all of our updates from\n\n448\n00:22:34.397 --> 00:22:37.978\nMicrosoft, from the Microsoft\nUpdate Catalog, that WSUS server or\n\n449\n00:22:37.978 --> 00:22:39.620\nthat download server.\n\n450\n00:22:39.620 --> 00:22:44.040\nAnd then that server is then gonna be\nable to ship those updates in behind\n\n451\n00:22:44.040 --> 00:22:48.050\nthe firewall out of the DMZ,\nso that we're not punching\n\n452\n00:22:48.050 --> 00:22:51.980\nthe appropriate holes in the firewall and\nopening it up on the inside.\n\n453\n00:22:51.980 --> 00:22:54.470\nAnd then as a result,\nwe're gonna sync from\n\n454\n00:22:54.470 --> 00:22:58.040\nthat server that sits in the DMZ as\nour central download source, right?\n\n455\n00:22:58.040 --> 00:23:02.180\nBecause it's available through the DMZ to\nother branch off system we have to connect\n\n456\n00:23:02.180 --> 00:23:07.160\nto it remotely, and/or we can manage\nit and it's kept as a standoff machine.\n\n457\n00:23:07.160 --> 00:23:09.220\nSo we're not worried about\ndownloading directly and\n\n458\n00:23:09.220 --> 00:23:11.220\nbehind the secondary firewall.\n\n459\n00:23:11.220 --> 00:23:14.610\nThere are architectural reasons why\nwe may choose to do it this way.\n\n460\n00:23:14.610 --> 00:23:20.610\nSo as a result, that machine\nthat sits in the DMZ becomes our\n\n461\n00:23:20.610 --> 00:23:24.840\nconnected server if we use that language,\nand that's what talks to Microsoft.\n\n462\n00:23:24.840 --> 00:23:29.590\nThe servers behind it inside the DMZ\non the corporate LAN are disconnected.\n\n463\n00:23:29.590 --> 00:23:31.560\nThey don't talk directly to Microsoft,\n\n464\n00:23:31.560 --> 00:23:33.750\nthey get their updates\nfrom this other machine.\n\n465\n00:23:33.750 --> 00:23:37.740\nSo we would label them disconnected\nservers, right, because they will instead\n\n466\n00:23:37.740 --> 00:23:41.560\nof connecting over the internet, receive\ntheir updates from a network bound server.\n\n467\n00:23:41.560 --> 00:23:42.940\nServer that does the download and\n\n468\n00:23:42.940 --> 00:23:45.310\nthen acts essentially as\na redistribution point for us.\n\n469\n00:23:45.310 --> 00:23:47.496\nSo just the language of WSUS, right.\n\n470\n00:23:47.496 --> 00:23:49.183\nSingle server, multi server,\n\n471\n00:23:49.183 --> 00:23:52.688\ndisconnected servers in terms of\nthe way which we talk about this.\n\n472\n00:23:52.688 --> 00:23:56.074\nAnd I've also used the terms upstream and\ndownstream, right?\n\n473\n00:23:56.074 --> 00:24:00.096\nUpstream servers are the servers\nthat will connect and\n\n474\n00:24:00.096 --> 00:24:04.125\neither pull down the update\ndirectly from Microsoft.\n\n475\n00:24:04.125 --> 00:24:08.169\nSo that server's sitting out in the DMZ\nis my server that connects up Microsoft\n\n476\n00:24:08.169 --> 00:24:10.030\nbecome that that upstream source.\n\n477\n00:24:10.030 --> 00:24:12.665\nI'm getting the server patches from there,\n\n478\n00:24:12.665 --> 00:24:16.770\nand/or my downstream servers\nare the ones that will connect\n\n479\n00:24:16.770 --> 00:24:20.740\nto some sort of source and\npull server updates down from them, right?\n\n480\n00:24:20.740 --> 00:24:25.040\nDownstream, I'm gonna pull those updates\nfrom the other server that has them,\n\n481\n00:24:25.040 --> 00:24:26.308\nthe upstream server.\n\n482\n00:24:26.308 --> 00:24:29.340\nWe're just talking about direction, that\nkind of indicate function, if you will.\n\n483\n00:24:29.340 --> 00:24:31.960\nYeah?\n&gt;&gt; You could say disconnected, or\n\n484\n00:24:31.960 --> 00:24:32.720\ndownstream server.\n\n485\n00:24:32.720 --> 00:24:34.670\nAre those two terms kind\nof interchangeable there?\n\n486\n00:24:34.670 --> 00:24:37.934\n&gt;&gt; People don't often say disconnected,\nI'm just sharing that with you because\n\n487\n00:24:37.934 --> 00:24:40.723\nthat's kinda just a term you may\nsee in our documentation, right?\n\n488\n00:24:40.723 --> 00:24:43.326\nWe'll often see these terms,\nsingle server,\n\n489\n00:24:43.326 --> 00:24:46.580\nmultiple server deployment,\ndisconnected server.\n\n490\n00:24:46.580 --> 00:24:49.050\nYou read the documentation\nyou'll see those terms.\n\n491\n00:24:49.050 --> 00:24:52.080\nBut you don't really hear people walking\naround talking about them that way.\n\n492\n00:24:52.080 --> 00:24:53.570\nThey'll just say, I have a WSUS server.\n\n493\n00:24:53.570 --> 00:24:55.770\nThey don't probably even say\nupstream downstream for that matter.\n\n494\n00:24:55.770 --> 00:24:58.860\nBut you're more likely to\nhear upstream downstream\n\n495\n00:24:58.860 --> 00:25:01.270\nbefore you hear disconnected\nmore often than not.\n\n496\n00:25:01.270 --> 00:25:02.530\nGood question, to clarify.\n\n497\n00:25:02.530 --> 00:25:05.520\nBut if somebody says I have\na disconnected server,\n\n498\n00:25:05.520 --> 00:25:07.030\nyou may not know what\nthey're talking about.\n\n499\n00:25:07.030 --> 00:25:08.700\nAnd they probably don't know either,\nto be honest with you.\n\n500\n00:25:08.700 --> 00:25:09.364\n&gt;&gt; Well, go plug it in.\n\n501\n00:25:09.364 --> 00:25:12.050\n&gt;&gt; Exactly,\nwhy don't you connect that thing, right?\n\n502\n00:25:12.050 --> 00:25:14.020\nSo just be aware of that, right?\n\n503\n00:25:14.020 --> 00:25:18.720\nAnd when we talk about this idea of\nthe synchronization capabilities\n\n504\n00:25:18.720 --> 00:25:22.360\nthat WSUS server provides for\nus, right, we talk about,\n\n505\n00:25:22.360 --> 00:25:26.525\nas I mentioned, downstream servers,\nbeing able to pull those updates in.\n\n506\n00:25:26.525 --> 00:25:28.485\nWe talked about them being\ndeployed in one of two modes,\n\n507\n00:25:28.485 --> 00:25:31.765\neither autonomous mode or replica mode.\n\n508\n00:25:31.765 --> 00:25:34.825\nAnd again, these are terms that\nwe use in our documentation.\n\n509\n00:25:34.825 --> 00:25:38.385\nYou may not necessarily see or hear these.\n\n510\n00:25:38.385 --> 00:25:39.565\nPeople aren't going to walk around and\n\n511\n00:25:39.565 --> 00:25:42.105\nsay to you I have a downstream\nserver in replica mode.\n\n512\n00:25:42.105 --> 00:25:44.705\nThat's just not something you\ntypically hear people say.\n\n513\n00:25:44.705 --> 00:25:47.120\nBut these are the language terms,\n\n514\n00:25:47.120 --> 00:25:49.008\nvocabulary items that\nyou want to be aware of.\n\n515\n00:25:49.008 --> 00:25:54.940\nSo autonomous mode lets us retrieve, or\nget, our updates from an upstream server.\n\n516\n00:25:55.970 --> 00:26:00.780\nBut we maintain update capabilities\nlocally, meaning on the server\n\n517\n00:26:00.780 --> 00:26:04.492\nthat is in autonomous mode, if you think\nabout the definition of autonomous,\n\n518\n00:26:04.492 --> 00:26:07.340\nwe have local control,\nis essentially what autonomous means.\n\n519\n00:26:07.340 --> 00:26:11.270\nWe're able to pull our updates\ndown from an upstream source, but\n\n520\n00:26:11.270 --> 00:26:15.010\nwe're able to then administer them and\ncontrol them and decide to update them or\n\n521\n00:26:15.010 --> 00:26:16.090\nwhatever we want to do.\n\n522\n00:26:16.090 --> 00:26:19.890\nAllow or\ndeny their use locally on our machine.\n\n523\n00:26:19.890 --> 00:26:23.870\nSo autonomous mode leaves control in\nour hands as we're setting up and\n\n524\n00:26:23.870 --> 00:26:25.140\nmanaging that.\n\n525\n00:26:25.140 --> 00:26:27.190\nWhereas, when we do replica mode,\n\n526\n00:26:27.190 --> 00:26:31.130\nthe downstream server is going to receive\nupdates of computer group membership.\n\n527\n00:26:31.130 --> 00:26:33.373\nWe haven't talked about\ncomputer groups yet, but\n\n528\n00:26:33.373 --> 00:26:36.920\ncomputer groups are the groups we create\non the WSUS server to essentially bundle\n\n529\n00:26:36.920 --> 00:26:39.290\ngroups of machines together\nto push updates to them.\n\n530\n00:26:39.290 --> 00:26:43.250\nI may have a server 16 computer group,\nand that way all the updates for\n\n531\n00:26:43.250 --> 00:26:46.200\nserver 16 are assigned to\nthat computer group, and\n\n532\n00:26:46.200 --> 00:26:49.220\nI can then easily deploy them, and\nso then they're able to go out and\n\n533\n00:26:49.220 --> 00:26:51.730\nI don't have to worry about you\nknow which updates go where.\n\n534\n00:26:51.730 --> 00:26:55.010\nSo computer groups allow me to just\ncreate a logical hierarchy for\n\n535\n00:26:55.010 --> 00:26:57.690\nmanagement purposes of\nassociation of my update.\n\n536\n00:26:57.690 --> 00:27:02.000\nSo computer group information comes in,\nupdate information comes in, but\n\n537\n00:27:02.000 --> 00:27:04.760\napprovals are done at the upstream server.\n\n538\n00:27:04.760 --> 00:27:09.000\nIn other words in replica mode,\nreplica, copy.\n\n539\n00:27:09.000 --> 00:27:12.590\nI'm getting everything from\nthe upstream source centrally managed.\n\n540\n00:27:12.590 --> 00:27:16.790\nIncluding all the ability to control and\nmanipulate and specify those updates.\n\n541\n00:27:16.790 --> 00:27:19.120\nAll that comes in from somewhere else.\n\n542\n00:27:19.120 --> 00:27:21.651\nAnd, all I have is essentially\nlike a read only copy.\n\n543\n00:27:21.651 --> 00:27:22.349\nI get all that, but\n\n544\n00:27:22.349 --> 00:27:25.550\nI can't modify it locally cuz because\nI don't have autonomous control.\n\n545\n00:27:25.550 --> 00:27:30.450\nSo a replica mode downstream server is\none that is being configured through\n\n546\n00:27:30.450 --> 00:27:33.020\nan upstream source and\nis being essentially managed from there.\n\n547\n00:27:33.020 --> 00:27:37.140\nAnd all we're doing is providing those\nupdates but we're not then actually going\n\n548\n00:27:37.140 --> 00:27:40.810\nto as a result of that be able\nto control those locally.\n\n549\n00:27:40.810 --> 00:27:45.210\nWe're just going to take whatever's given\nto us and deploy out according to whatever\n\n550\n00:27:45.210 --> 00:27:48.970\nhas been specified from essentially\nup above from the upstream source.\n\n551\n00:27:48.970 --> 00:27:53.804\nSo when we talk about that, a lot of times\nin distributed architectures with a lot of\n\n552\n00:27:53.804 --> 00:27:58.502\nbranch offices or remote locations, we\nhave this idea of the replica solution or\n\n553\n00:27:58.502 --> 00:28:00.190\nreplica mode being used.\n\n554\n00:28:00.190 --> 00:28:04.280\nSo central IT at corporate headquarters,\nwherever it is will manage\n\n555\n00:28:04.280 --> 00:28:09.070\nthe configuration of the WSUS solution,\nand then simply push those preconfigured\n\n556\n00:28:09.070 --> 00:28:13.280\nthought processes and the preconfigured\nupdates that are approved, and\n\n557\n00:28:13.280 --> 00:28:16.910\nthe preconfigured computer groups,\nand the membership and all that.\n\n558\n00:28:16.910 --> 00:28:20.710\nThey'll push it down, and you'll just\nsimply receive them in that branch office.\n\n559\n00:28:20.710 --> 00:28:23.560\nYou'll have your WSUS server running,\nbut it's being centrally controlled.\n\n560\n00:28:23.560 --> 00:28:25.170\nAll you're doing is just\nkeeping an eye on it.\n\n561\n00:28:25.170 --> 00:28:26.640\nYou're not really managing it.\n\n562\n00:28:26.640 --> 00:28:30.330\nWhereas in autonomous mode,\nyou are actually managing it locally.\n\n563\n00:28:30.330 --> 00:28:33.130\nYou're just getting those updates\nfrom the upstream source, but\n\n564\n00:28:33.130 --> 00:28:36.620\nhow you configure them and\nhow you choose to use them, is up to you.\n\n565\n00:28:36.620 --> 00:28:38.680\nSo we see a definite\ndifference in approach here.\n\n566\n00:28:38.680 --> 00:28:40.170\nJust want to make sure\nyou're aware of that.\n\n567\n00:28:41.330 --> 00:28:42.670\nJust keep that in mind.\n\n568\n00:28:42.670 --> 00:28:45.040\nObviously, the impact on WAN and\n\n569\n00:28:45.040 --> 00:28:49.800\nLAN traffic for downloads and\npushing of information across the network.\n\n570\n00:28:49.800 --> 00:28:52.470\nYou always have to be sensitive to this,\nalways consider this, right?\n\n571\n00:28:52.470 --> 00:28:55.510\nWhen we're thinking about the impact\nof stuff here, you'll want to,\n\n572\n00:28:55.510 --> 00:29:00.030\nbuilding that initial catalog not so\nsmall typically.\n\n573\n00:29:00.030 --> 00:29:02.940\nUsually, even if you just do\na very streamlined version\n\n574\n00:29:02.940 --> 00:29:06.900\nof grabbing the updates, one language and\na couple of update categories.\n\n575\n00:29:06.900 --> 00:29:09.530\nIn our demo environment,\nif you remember in the last episode,\n\n576\n00:29:09.530 --> 00:29:13.090\nwe did English only,\nWindows 8.1, Windows 10,\n\n577\n00:29:13.090 --> 00:29:17.460\nand Windows Defender were the updates\nthat we went out and grabbed, right?\n\n578\n00:29:17.460 --> 00:29:20.600\nAnd if you remember that and\nthen you join me here.\n\n579\n00:29:20.600 --> 00:29:24.040\nJust take a look right here with me for\na second, in the WSUS console.\n\n580\n00:29:24.040 --> 00:29:26.610\nWe haven't really been in there yet\ncuz we've been talking.\n\n581\n00:29:26.610 --> 00:29:29.700\nBut in the WSUS console with\nall the updates fully synced,\n\n582\n00:29:29.700 --> 00:29:34.740\nyou can see that I got 709 security\nupdates, cuz we did security updates and\n\n583\n00:29:34.740 --> 00:29:37.150\ncritical updates as well,\nright, for those products.\n\n584\n00:29:37.150 --> 00:29:39.760\nAnd then a 119 critical updates.\n\n585\n00:29:39.760 --> 00:29:44.630\nSo I've got 830 or something like\nthat updates that came down, and\n\n586\n00:29:44.630 --> 00:29:46.500\nthat sync took, I don't know,\n\n587\n00:29:46.500 --> 00:29:51.122\nabout an hour approximately give or\ntake to run to pull the updates in.\n\n588\n00:29:51.122 --> 00:29:55.120\nAnd so, when you're thinking\nabout that and you look at this.\n\n589\n00:29:55.120 --> 00:29:58.500\nI've got 830 updates total\nthat I pulled in here.\n\n590\n00:29:58.500 --> 00:30:00.510\nAnd this was a small\nsubset of what I may do.\n\n591\n00:30:00.510 --> 00:30:02.650\nI didn't do any of\nthe server side updates.\n\n592\n00:30:02.650 --> 00:30:04.700\nI didn't do any of the product updates.\n\n593\n00:30:04.700 --> 00:30:09.250\nNo Exchange, no SharePoint, no SQL,\nno Office, which typically we would do for\n\n594\n00:30:09.250 --> 00:30:10.650\nboth desktop and server side.\n\n595\n00:30:10.650 --> 00:30:12.770\nI didn't do any server OSs.\n\n596\n00:30:12.770 --> 00:30:15.170\nSo imagine I multiply that\nout by another five or\n\n597\n00:30:15.170 --> 00:30:17.380\nsix products in categories and areas.\n\n598\n00:30:17.380 --> 00:30:19.170\nI didn't do any service packs, by the way.\n\n599\n00:30:19.170 --> 00:30:22.770\nI just did security updates and critical\nupdates, didn't do any tool updates.\n\n600\n00:30:22.770 --> 00:30:27.330\nYou do a full on full bore update\nacross our product stack and\n\n601\n00:30:27.330 --> 00:30:31.570\nyou're probably looking at a day,\nright, at least,\n\n602\n00:30:31.570 --> 00:30:34.450\nif not a better part of a day\nto build this catalog initially.\n\n603\n00:30:34.450 --> 00:30:39.220\nAnd so, as a result, we really have to\nthink about the impact on the bandwidth as\n\n604\n00:30:39.220 --> 00:30:42.495\nwe're doing this because in a relatively\nwell connected environment,\n\n605\n00:30:42.495 --> 00:30:46.645\nmost modern enterprises today, this amount\nof bandwidth may not be a big deal.\n\n606\n00:30:46.645 --> 00:30:50.405\nBut I have many clients, many customers,\nmany areas of the world where\n\n607\n00:30:50.405 --> 00:30:54.182\nthis kinda bandwidth over that period\nof time consistently can actually\n\n608\n00:30:54.182 --> 00:30:57.612\nbring a network to it's knees because\nthey're just not able to put that kind of\n\n609\n00:30:57.612 --> 00:31:01.622\nbandwidth into the field because of a\nvariety of constraints and circumstances.\n\n610\n00:31:01.622 --> 00:31:05.810\nSo we gotta really think carefully about\nthis and how we're gonna do this, right?\n\n611\n00:31:05.810 --> 00:31:08.630\nBecause we may actually have some\nconstraints we may run up against.\n\n612\n00:31:08.630 --> 00:31:11.150\nAnd that's going to be just\nanother issue to consider\n\n613\n00:31:11.150 --> 00:31:13.920\nas we begin to really talk about\nhow WSUS gets deployed and\n\n614\n00:31:13.920 --> 00:31:16.840\nwhat we have to do in order to\nuse it effectively, all right?\n\n615\n00:31:16.840 --> 00:31:18.370\nSo we do have a WSUS database.\n\n616\n00:31:18.370 --> 00:31:21.040\nWe talked about this when we did\nthe install, the WID, right?\n\n617\n00:31:21.040 --> 00:31:24.970\nThe Windows internal database is\noften used as we talked about.\n\n618\n00:31:24.970 --> 00:31:28.640\nAlthough we can use an external SQL\ndatabase if we choose to, it's up to us.\n\n619\n00:31:28.640 --> 00:31:30.450\nBut we don't always have\nSQL floating around.\n\n620\n00:31:30.450 --> 00:31:34.850\nSo if we use the Windows internal\ndatabase, the WID, that one is going to be\n\n621\n00:31:34.850 --> 00:31:38.460\nconfigured locally, that's what I\ndid when I did the install here.\n\n622\n00:31:38.460 --> 00:31:43.181\nWe created a file name called susdb.mdf\nwhich will be our data base file\n\n623\n00:31:43.181 --> 00:31:44.580\nessentially.\n\n624\n00:31:44.580 --> 00:31:47.294\nAnd that's gonna store information.\n\n625\n00:31:47.294 --> 00:31:49.624\nI'm just gonna show you where that is and\nit's what here real quick.\n\n626\n00:31:49.624 --> 00:31:54.101\nWe'll go in to our WID data folder\nto show you where that shows up.\n\n627\n00:31:54.101 --> 00:31:56.085\nSo let's go in to our Windows directory.\n\n628\n00:31:56.085 --> 00:31:59.243\nSo C windows and then we'll go to WID,\n\n629\n00:31:59.243 --> 00:32:04.300\njust scroll down here in case\nyou haven't seen this before.\n\n630\n00:32:06.820 --> 00:32:08.170\nScroll down a little more here.\n\n631\n00:32:10.200 --> 00:32:11.550\nAnd a little more.\n\n632\n00:32:11.550 --> 00:32:15.490\nThere we go, WID down at the bottom for\nWindows internal database and\n\n633\n00:32:15.490 --> 00:32:18.630\ninside here,\nwe're gonna go into our data folder.\n\n634\n00:32:20.590 --> 00:32:25.210\nAnd then you can see that we\nhave our SAS db.mdf and we have\n\n635\n00:32:25.210 --> 00:32:29.810\nour SAS db_log.ldf or\ntransactional log file, right?\n\n636\n00:32:29.810 --> 00:32:32.140\nSo this is our SAS database file.\n\n637\n00:32:32.140 --> 00:32:33.666\nRight now, what is that?\n\n638\n00:32:33.666 --> 00:32:38.172\n307, almost 308, let's call it 310\nkilo bytes, so not very big for\n\n639\n00:32:38.172 --> 00:32:41.450\nour initial bill but\nover time that does grow of course and\n\n640\n00:32:41.450 --> 00:32:46.360\nwe can throw that out on a SQL database\nif we choose to, it's up to us to decide.\n\n641\n00:32:46.360 --> 00:32:51.320\nBut with a single server small install\nwe're not using that we're load balancing\n\n642\n00:32:51.320 --> 00:32:54.360\nor anything like that to cluster\nthis to make it highly available,\n\n643\n00:32:54.360 --> 00:32:57.200\nthis configuration is perfectly fine,\nno big deal at all.\n\n644\n00:32:57.200 --> 00:33:00.540\nBut obviously as we scale up we may\nespecially have a different physical\n\n645\n00:33:00.540 --> 00:33:01.350\nlocations.\n\n646\n00:33:01.350 --> 00:33:03.345\nThey wanna think about\nusing a SQL cluster.\n\n647\n00:33:03.345 --> 00:33:06.618\nOften large enterprises will have this\ndeployed already and as a result,\n\n648\n00:33:06.618 --> 00:33:09.030\nthey may wanna leverage\nthat infrastructure.\n\n649\n00:33:09.030 --> 00:33:12.020\nWe can do that if we choose to,\nit’s up to us, but\n\n650\n00:33:12.020 --> 00:33:14.240\nif you are gonna to use LB clusters.\n\n651\n00:33:14.240 --> 00:33:16.564\nYou must have SQL or\nuse SQL on the back end for deployment,\n\n652\n00:33:16.564 --> 00:33:20.130\nyou're not gonna able to use these local\ndatabases just to be aware of that.\n\n653\n00:33:20.130 --> 00:33:21.110\nSo keep that in mind.\n\n654\n00:33:21.110 --> 00:33:25.350\nAnd with regards to just some,\nwhat do we call it?\n\n655\n00:33:25.350 --> 00:33:26.690\nHardware requirements, right?\n\n656\n00:33:26.690 --> 00:33:28.120\nHardware and software requirements.\n\n657\n00:33:28.120 --> 00:33:32.420\nOther than just using SQL Server or\nthe Windows internal database.\n\n658\n00:33:32.420 --> 00:33:35.620\nWhat's the core OS we build on,\nwe can throw this up,\n\n659\n00:33:35.620 --> 00:33:37.340\nWSUS has been around for sometime.\n\n660\n00:33:37.340 --> 00:33:39.210\nWe can throw this up on almost anything.\n\n661\n00:33:39.210 --> 00:33:41.180\nThen we go all the way\nback to Windows server or\n\n662\n00:33:41.180 --> 00:33:44.310\nSmall Business Server 2003\ncurrently with our support levels.\n\n663\n00:33:44.310 --> 00:33:49.040\nBut certainly on Server 16 2012,\n12 R2, 2008 R2,\n\n664\n00:33:49.040 --> 00:33:51.660\nwe support WSUS on those environments.\n\n665\n00:33:51.660 --> 00:33:53.680\nSo you can certainly do that.\n\n666\n00:33:53.680 --> 00:33:59.550\nWe need IAAS running on the back end to\ncreate the website support for WSUS admin.\n\n667\n00:33:59.550 --> 00:34:03.340\nThat's gonna be IAAS 6 or\nlater based on the deployment of the OS.\n\n668\n00:34:03.340 --> 00:34:06.910\nIAAS the version is tied to the server OS,\nright?\n\n669\n00:34:06.910 --> 00:34:10.632\nSo we just wanna make sure we're aware\nof that IAAS 10 now for server 16.\n\n670\n00:34:10.632 --> 00:34:12.819\nSo you just wanna have\nthe appropriate version there.\n\n671\n00:34:12.819 --> 00:34:17.737\n.NET Framework 2.0 or later, again the\n.NET framework version is traditionally\n\n672\n00:34:17.737 --> 00:34:21.760\nin terms of the update tied to the OS\ndeployment on the server side.\n\n673\n00:34:21.760 --> 00:34:23.440\nSo you would just scale that accordingly.\n\n674\n00:34:23.440 --> 00:34:25.850\nBut these are minimum requirements,\nyou need MMC,\n\n675\n00:34:25.850 --> 00:34:29.630\nMicrosoft Management Console\nsupport version 3 or better.\n\n676\n00:34:29.630 --> 00:34:32.390\nWe need the report viewer redistributable.\n\n677\n00:34:32.390 --> 00:34:36.390\nThat's the 2008 version or later, that's\njust a simple download from the store.\n\n678\n00:34:36.390 --> 00:34:38.570\nAnd I mentioned you can use SQL Server.\n\n679\n00:34:38.570 --> 00:34:43.964\nAnything going all the way back\nto SQL Server 2005 actually.\n\n680\n00:34:43.964 --> 00:34:49.420\nSP2, so 2005 SP2, 2008 12, and\nor 14 are supported for WSUS.\n\n681\n00:34:49.420 --> 00:34:52.120\nWe have SQL 17 coming on the scene\nhere pretty soon as well.\n\n682\n00:34:52.120 --> 00:34:56.940\nSo obviously we'll see those updates over\ntime and that list continues to grow in\n\n683\n00:34:56.940 --> 00:35:00.060\nterms of the number of supported\nversions as we update the OS, so\n\n684\n00:35:00.060 --> 00:35:01.370\njust keep that in mind.\n\n685\n00:35:01.370 --> 00:35:04.560\nAnd about ten gigs of space on\naverage initially to build this out.\n\n686\n00:35:04.560 --> 00:35:08.040\nIn terms of the disk space,\nyou need to allocate for the install.\n\n687\n00:35:08.040 --> 00:35:11.190\nAnd then we recommend at least 30\ngigs in terms of the download size\n\n688\n00:35:11.190 --> 00:35:13.290\nto be able to scale that\ndatabase over time.\n\n689\n00:35:13.290 --> 00:35:16.690\nNot a huge amount but you've just gotta,\nagain, you gotta plan for that, and\n\n690\n00:35:16.690 --> 00:35:20.480\nyou gotta have at least 1.4 gigahertz or\nbetter processors.\n\n691\n00:35:20.480 --> 00:35:22.660\nPretty easy today,\nespecially if you're virtualizing, and\n\n692\n00:35:22.660 --> 00:35:25.750\nthis will run until they virtualize\nwith no trouble, by the way.\n\n693\n00:35:25.750 --> 00:35:27.260\nAnd at least two gigs of RAM.\n\n694\n00:35:27.260 --> 00:35:29.760\nAgain, pretty small footprint\non the server side or\n\n695\n00:35:29.760 --> 00:35:30.928\nwhatever you're gonna set up there.\n\n696\n00:35:30.928 --> 00:35:34.490\nSo just wanna make sure you're aware of\nsome of those background requirements and\n\n697\n00:35:34.490 --> 00:35:37.190\nthings associated with it\nas we continue our journey\n\n698\n00:35:37.190 --> 00:35:39.880\ntaking a look at how we use and\ndeploy WSUS.\n\n699\n00:35:39.880 --> 00:35:42.610\n&gt;&gt; All important information, Adam,\nespecially when we're talking about\n\n700\n00:35:42.610 --> 00:35:46.230\nscaling up and just really\nlooking at capacity management.\n\n701\n00:35:46.230 --> 00:35:49.534\nAnd making sure that our networks and\nour systems are able to handle this thing.\n\n702\n00:35:49.534 --> 00:35:52.693\nAnd it sounds like a great idea, but\nlike Adam was saying, without a plan,\n\n703\n00:35:52.693 --> 00:35:54.650\nyou could find yourself in trouble.\n\n704\n00:35:54.650 --> 00:35:57.700\nSo thank you for that, as always, and\nthank you for joining us as well.\n\n705\n00:35:57.700 --> 00:36:01.580\nBut for this show, we are out of time,\nso we'll go ahead and sign out.\n\n706\n00:36:01.580 --> 00:36:03.280\nI've been your host, Cherokee Boose.\n\n707\n00:36:03.280 --> 00:36:03.940\n&gt;&gt; I'm Adam Gordon.\n\n708\n00:36:03.940 --> 00:36:06.941\n&gt;&gt; See you next time here at ITProTV.\n\n709\n00:36:06.941 --> 00:36:12.844\n[MUSIC]\n\n710\n00:36:12.844 --> 00:36:15.768\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "235067721"
        },
        {
          "description": "In this episode, Cherokee and Adam continue discussing WSUS. Adam demonstrates how to configure WSUS using Group Policy. He also shows how to create a self signed certificate and configure it for use with WSUS.",
          "length": "2036",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-3-implement_server_patching_and_updating_pt3-092217-PGM.00_33_39_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-3-implement_server_patching_and_updating_pt3-092217-PGM.00_33_39_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-3-implement_server_patching_and_updating_pt3-092217-PGM.00_33_39_13.Still001-sm.jpg",
          "title": "Implement Server Patching and Updating Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.217 --> 00:00:06.600\nWelcome to ITProTV,\nI'm your host Don Pezet [CROSSTALK].\n\n2\n00:00:06.600 --> 00:00:08.347\n[MUSIC]\n\n3\n00:00:08.347 --> 00:00:11.969\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.969 --> 00:00:15.053\n&gt;&gt; Welcome back to your\nSecuring Windows Server 2016 series,\n\n5\n00:00:15.053 --> 00:00:17.482\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.482 --> 00:00:20.490\nWe're gonna go ahead and pick right back\nup and continue our conversation taking\n\n7\n00:00:20.490 --> 00:00:25.850\na look at WSUS, and we have Mr.\nAdam Gordon back in studios with us today.\n\n8\n00:00:25.850 --> 00:00:27.220\nThank you for joining us, Adam.\n\n9\n00:00:27.220 --> 00:00:28.602\n&gt;&gt; Hello, everybody.\n\n10\n00:00:28.602 --> 00:00:30.930\nWe're gonna pick right back up,\nthat's what you said, right?\n\n11\n00:00:30.930 --> 00:00:33.550\n&gt;&gt; That is what I said, but we could\ndo something else if you wanted to,\n\n12\n00:00:33.550 --> 00:00:36.320\nwe could talk or sing and dance.\n\n13\n00:00:36.320 --> 00:00:38.750\nAnd we don't wanna scare people though.\n\n14\n00:00:38.750 --> 00:00:39.955\n&gt;&gt; Yeah, probably not.\n\n15\n00:00:39.955 --> 00:00:40.950\n&gt;&gt; [LAUGH] Okay.\n\n16\n00:00:40.950 --> 00:00:43.840\n&gt;&gt; Probably better just to pick back\nup but I appreciate the options.\n\n17\n00:00:43.840 --> 00:00:45.100\nOptions are good.\n\n18\n00:00:45.100 --> 00:00:47.070\nWe like options here at ITProTV.\n\n19\n00:00:47.070 --> 00:00:49.460\nSo, let's jump back in\nas Cherokee suggested.\n\n20\n00:00:49.460 --> 00:00:53.120\nBecause it is important to continue\nour conversations around wsus.\n\n21\n00:00:53.120 --> 00:00:55.340\nLots of cool things left to talk about.\n\n22\n00:00:55.340 --> 00:00:59.340\nLot of time to do it in but we wanna\nmaximize Your profitability in terms of\n\n23\n00:00:59.340 --> 00:01:02.110\nlooking at this episode and\nlearning something valuable from it.\n\n24\n00:01:02.110 --> 00:01:03.860\nAnd Cherokee has a lunch appointment, so\n\n25\n00:01:03.860 --> 00:01:06.990\nwe have to make sure we get done\nquickly so she can make time for that.\n\n26\n00:01:06.990 --> 00:01:08.220\nSo let's take a look.\n\n27\n00:01:08.220 --> 00:01:08.930\nJoin me back here.\n\n28\n00:01:08.930 --> 00:01:10.800\nWe left off in our last conversation.\n\n29\n00:01:10.800 --> 00:01:13.490\nReally just scratched\nthe surface in the console,\n\n30\n00:01:13.490 --> 00:01:16.120\njust showed you where the WID\ndatabase will be located,\n\n31\n00:01:16.120 --> 00:01:18.980\ntook a quick look at the high\nlevel with all the updates we did.\n\n32\n00:01:18.980 --> 00:01:20.630\nHaven't really gone in there much.\n\n33\n00:01:20.630 --> 00:01:21.540\nWe're gonna get there, but\n\n34\n00:01:21.540 --> 00:01:25.810\nfirst we gotta talk about how we configure\nsome of the back end support we need for\n\n35\n00:01:25.810 --> 00:01:30.750\nWSUS, specifically,\nhow do we enable WSUS to use HTTPS?\n\n36\n00:01:30.750 --> 00:01:32.570\nAnd secure communications, so\n\n37\n00:01:32.570 --> 00:01:36.320\nthat way when we're going in and talking\nwith the server, and downloading and\n\n38\n00:01:36.320 --> 00:01:38.060\ndoing things we need to do,\nwe're doing so securely.\n\n39\n00:01:38.060 --> 00:01:43.380\nAnd that requires us going into IIS,\nwhich is where we host the WSUS website,\n\n40\n00:01:43.380 --> 00:01:46.390\nand we're gonna then go in and\nput a little under the hood there.\n\n41\n00:01:46.390 --> 00:01:50.060\nSo you'll see up in server manager,\nI've highlighted IIS,\n\n42\n00:01:50.060 --> 00:01:53.030\nI'm gonna open that up on the WSUS server,\nof course.\n\n43\n00:01:53.030 --> 00:01:54.010\nNow I've already done that,\n\n44\n00:01:54.010 --> 00:01:57.820\nI was just clicking there to kinda\nshow you how I'm going to get there.\n\n45\n00:01:57.820 --> 00:02:03.370\nWSUS is homing its admin site as\nyou can see on the IIS server or\n\n46\n00:02:03.370 --> 00:02:06.830\nrather in the IIS servers\non the WSUS server, so\n\n47\n00:02:06.830 --> 00:02:09.100\nit's installed as part\nof the configuration.\n\n48\n00:02:09.100 --> 00:02:13.510\nAnd so we see here,\nwhen we go into our IIS instance,\n\n49\n00:02:13.510 --> 00:02:17.220\nwe do see under sites that we have\nour WSUS administration site.\n\n50\n00:02:17.220 --> 00:02:19.700\nSo we're gonna go in and\nwhat we are gonna do is the following.\n\n51\n00:02:19.700 --> 00:02:20.595\nI'm gonna start here.\n\n52\n00:02:20.595 --> 00:02:24.181\nThe first thing I need to do is I\nneed to go in and I actually need to\n\n53\n00:02:24.181 --> 00:02:28.850\nstart right up here on the server before\nI even go down to the WSUS admin site.\n\n54\n00:02:28.850 --> 00:02:33.200\nBecause I have to issue a certificate to\nthe server, which then is gonna get bound\n\n55\n00:02:33.200 --> 00:02:37.520\nto the WSUS admin site when I\nedit the bindings to enable SSL.\n\n56\n00:02:37.520 --> 00:02:39.350\nYou've seen me do this in other episodes.\n\n57\n00:02:39.350 --> 00:02:41.770\nAnd we'll walk through\nthe logic of this again.\n\n58\n00:02:41.770 --> 00:02:45.553\nBut I have to have a certificate\nissue to bind to the website for\n\n59\n00:02:45.553 --> 00:02:49.120\nHTTPS to enable the use of HTTPS, and so\n\n60\n00:02:49.120 --> 00:02:51.880\nI'm gonna get that certificate\nin one of two ways, right?\n\n61\n00:02:51.880 --> 00:02:54.645\nI can either self sign the certificate,\nwhich I've already already done,\n\n62\n00:02:54.645 --> 00:02:56.205\nwe will show you how to do.\n\n63\n00:02:56.205 --> 00:02:59.085\nOr if we do not wanna use\nthe soft sign certificate for\n\n64\n00:02:59.085 --> 00:03:01.335\nreasons that we have spoken about before.\n\n65\n00:03:01.335 --> 00:03:05.323\nThe lack of trust and self sign\ncertificates from your external third\n\n66\n00:03:05.323 --> 00:03:09.654\nparty not knowing where it originates\nfrom, no path, no certification,\n\n67\n00:03:09.654 --> 00:03:11.664\ntrust that we can look at ,no PKI.\n\n68\n00:03:11.664 --> 00:03:16.260\nAnd we're saying well, that may or may not\nwork, we may go to a either third party\n\n69\n00:03:16.260 --> 00:03:19.470\nPKI provider or\nif we have our own PKI infrastructure.\n\n70\n00:03:19.470 --> 00:03:24.270\nWe may ask the PKI infrastructure to\nactually issue a certificate on our behalf\n\n71\n00:03:24.270 --> 00:03:28.340\nand go through the formalized process of\ngetting one that is issued correctly.\n\n72\n00:03:28.340 --> 00:03:29.070\nAnd when I say correctly,\n\n73\n00:03:29.070 --> 00:03:32.300\nI simply mean through a certification\npath that can be validated.\n\n74\n00:03:32.300 --> 00:03:35.040\nAs opposed to self signed\nby the machine itself and\n\n75\n00:03:35.040 --> 00:03:38.790\nthen leveraged that PKI instance,\nthat certificate architecture.\n\n76\n00:03:38.790 --> 00:03:42.990\nAnd the certification authorities to be\nable to instill that level of trust and\n\n77\n00:03:42.990 --> 00:03:43.890\nthen use that certificate.\n\n78\n00:03:43.890 --> 00:03:46.160\nSo we have options, it's up to us, right?\n\n79\n00:03:46.160 --> 00:03:47.960\nWanna flip a coin?\nWhat do you think,\n\n80\n00:03:47.960 --> 00:03:48.810\nwhich one do we wanna use?\n\n81\n00:03:49.910 --> 00:03:51.629\nSelf signed versus.\n\n82\n00:03:51.629 --> 00:03:55.480\n&gt;&gt; I think self signed\nbecause it's easier, yeah.\n\n83\n00:03:55.480 --> 00:03:57.350\n&gt;&gt; So you're essentially\nsaying you're gonna opt for\n\n84\n00:03:57.350 --> 00:04:00.620\nthe easy way out as opposed to\ndoing it the harder but right way.\n\n85\n00:04:00.620 --> 00:04:05.430\nI wanna make sure everybody out there\ngets that and they understand that good,\n\n86\n00:04:05.430 --> 00:04:06.380\ngood job by the way.\n\n87\n00:04:06.380 --> 00:04:07.780\nAwesome, thank you very much.\n\n88\n00:04:07.780 --> 00:04:09.000\nYour parting gift is outside.\n\n89\n00:04:09.000 --> 00:04:10.310\nPlease pick it up on the way out.\n\n90\n00:04:10.310 --> 00:04:14.370\nAll right, so let's take a look at\nself signed as Cherokee indicated.\n\n91\n00:04:14.370 --> 00:04:15.360\nFull disclaimer, by the way.\n\n92\n00:04:15.360 --> 00:04:17.330\nIt was not me that chose this, right?\n\n93\n00:04:17.330 --> 00:04:18.430\nThis one right over here.\n\n94\n00:04:18.430 --> 00:04:19.510\nShe's the one.\n\n95\n00:04:19.510 --> 00:04:23.010\nAll right, either way, all joking aside,\neither way is perfectly fine, as we said.\n\n96\n00:04:23.010 --> 00:04:27.070\nAnd Cherokee raises a really valid point\nhere which is, it may be easier, right?\n\n97\n00:04:27.070 --> 00:04:29.220\nWe're joking about it, but\nyou're absolutely right to say it,\n\n98\n00:04:29.220 --> 00:04:30.890\nit may actually be easier,\n\n99\n00:04:30.890 --> 00:04:33.930\nindeed it is often easier to\nuse self-signed certificates.\n\n100\n00:04:33.930 --> 00:04:35.650\nThere's nothing wrong with them.\n\n101\n00:04:35.650 --> 00:04:40.780\nBut as I said the challenge may be\nthe extension of trust by that certificate\n\n102\n00:04:40.780 --> 00:04:44.760\narchitecture through PKI doesn't\nexist with a self-signed certificate.\n\n103\n00:04:44.760 --> 00:04:47.170\nAnd we may run into, not problems, but\n\n104\n00:04:47.170 --> 00:04:51.020\njust additional concerns about\nthe use of that infrastructure,\n\n105\n00:04:51.020 --> 00:04:54.020\nthe use of that interface,\nthe use of that self-signed certificate.\n\n106\n00:04:54.020 --> 00:04:58.880\nBecause third parties or users in the\nenvironment may not trust that certificate\n\n107\n00:04:58.880 --> 00:05:01.140\nknowingly cuz they don't know\nwhere it originated from.\n\n108\n00:05:01.140 --> 00:05:03.420\nAnd so we just have additional\nthings that we have to address and\n\n109\n00:05:03.420 --> 00:05:04.420\nwe do the self-signed.\n\n110\n00:05:04.420 --> 00:05:08.660\nIt’s not a wrong or incorrect process or\na wrong or incorrect approach.\n\n111\n00:05:08.660 --> 00:05:12.112\nIt will work just fine either way,\nright, just to be clear.\n\n112\n00:05:12.112 --> 00:05:13.970\nAll right, so\nlet’s take a look at how we do that,\n\n113\n00:05:13.970 --> 00:05:16.350\nso if you join over here,\nwe've highlighted our server.\n\n114\n00:05:17.500 --> 00:05:21.460\nServer Certificates down here, you've seen\nme go to this area in prior episodes for\n\n115\n00:05:21.460 --> 00:05:22.760\na variety of reasons.\n\n116\n00:05:22.760 --> 00:05:26.760\nAnd I'm gonna go ahead, I'm going to\ndouble-click on Server Certificates\n\n117\n00:05:26.760 --> 00:05:30.665\njust to open up that Interface if\nyou will or that part of the tool.\n\n118\n00:05:30.665 --> 00:05:33.220\nIIS is one of those confusing,\n\n119\n00:05:33.220 --> 00:05:35.950\nfrom the time they first\nbuilt this product Microsoft.\n\n120\n00:05:35.950 --> 00:05:38.080\nI never quite understood the interface.\n\n121\n00:05:38.080 --> 00:05:41.890\nAnd then when they made it more like the\nVisual Studio kind of environment they've\n\n122\n00:05:41.890 --> 00:05:42.620\ndone in the last.\n\n123\n00:05:42.620 --> 00:05:46.360\nSeveral years with this look and feel,\nand everything is there as an icon and\n\n124\n00:05:46.360 --> 00:05:48.830\nyou gotta right click, highlight and\nright click to do one thing.\n\n125\n00:05:48.830 --> 00:05:53.930\nBut then double-click to get a menu\nlike this to do another, I do this for\n\n126\n00:05:53.930 --> 00:05:54.800\na living.\n\n127\n00:05:54.800 --> 00:05:57.610\nI do this often, and I'm still\nconfounded and confused by this tool.\n\n128\n00:05:57.610 --> 00:05:59.260\n&gt;&gt; They just don't want you to get bored,\nAdam.\n\n129\n00:05:59.260 --> 00:06:00.660\nThat's all.\n&gt;&gt; They just don't want you to get it\n\n130\n00:06:00.660 --> 00:06:02.000\nright is what they don't want you to do.\n\n131\n00:06:02.000 --> 00:06:05.070\nI have a feeling,\nI think this designed by people,\n\n132\n00:06:05.070 --> 00:06:10.750\nthat they what can we do to obfuscate and\nconfound and confuse our users even more.\n\n133\n00:06:10.750 --> 00:06:14.685\nThat's what the goal of this UI design\nteam is because they just work in\n\n134\n00:06:14.685 --> 00:06:16.267\nthe anti-\n&gt;&gt; [LAUGH]\n\n135\n00:06:16.267 --> 00:06:17.158\n&gt;&gt; Clarity world.\n\n136\n00:06:17.158 --> 00:06:18.376\n&gt;&gt; Tell us how you really feel.\n\n137\n00:06:18.376 --> 00:06:21.820\n&gt;&gt; The bizarre world that says let's\nmake it as confusing as possible.\n\n138\n00:06:21.820 --> 00:06:24.600\nI mean I talk to be able to\nuse IIS on a regular basis\n\n139\n00:06:24.600 --> 00:06:27.980\nPretty much the consensus is it's\na good product, don't get me wrong.\n\n140\n00:06:27.980 --> 00:06:31.627\nAnd the GUI is nice because it beats the\nheck out of doing this from command line,\n\n141\n00:06:31.627 --> 00:06:32.617\ndon't get me wrong.\n\n142\n00:06:32.617 --> 00:06:35.175\nBut could you make the darn\nthing any more confounding and\n\n143\n00:06:35.175 --> 00:06:37.670\nconfusing if you sat down and\nactually tried?\n\n144\n00:06:37.670 --> 00:06:41.220\nI don't think you could,\nthat's just my opinion.\n\n145\n00:06:41.220 --> 00:06:43.485\nI'm sticking with that, that's me.\n\n146\n00:06:43.485 --> 00:06:46.970\nWe double-click here to get to the menu,\nand we're looking for\n\n147\n00:06:46.970 --> 00:06:49.930\nthis functionality on the side,\nthe actions area.\n\n148\n00:06:49.930 --> 00:06:53.380\nNow I have already generated\na self-signed certificate.\n\n149\n00:06:53.380 --> 00:06:56.330\nYou would not see this certificate\nI'm highlighting right now or\n\n150\n00:06:56.330 --> 00:06:58.400\nthe equivalent of\nthe name you may give it.\n\n151\n00:06:58.400 --> 00:07:02.210\nYou will not see that there when you\ngo to yours out of the box by Default.\n\n152\n00:07:02.210 --> 00:07:04.510\nI've done that just to pre-stage\na couple of things, so\n\n153\n00:07:04.510 --> 00:07:06.010\nwe could talk about them as we go.\n\n154\n00:07:06.010 --> 00:07:08.680\nWhat you wouldn't see is the Microsoft\nRemote Attestation Certificate.\n\n155\n00:07:08.680 --> 00:07:11.510\nThat one would be there, that's\nthe only one you get out of the box.\n\n156\n00:07:11.510 --> 00:07:13.490\nSo how do we get this certificate, right.\n\n157\n00:07:13.490 --> 00:07:15.290\nVery simple, we come over here.\n\n158\n00:07:15.290 --> 00:07:16.890\nAnd now there are a few options,\nthey're in light blue,\n\n159\n00:07:16.890 --> 00:07:18.550\nit's kind of hard to see them,\nthey're small.\n\n160\n00:07:18.550 --> 00:07:20.210\nSo I'll just read them to you,\nno big deal.\n\n161\n00:07:20.210 --> 00:07:23.211\nI'd ask Cherokee to read them but\nwe all know how that's gonna go.\n\n162\n00:07:23.211 --> 00:07:25.241\n&gt;&gt; [LAUGH]\n&gt;&gt; No, I can't see those.\n\n163\n00:07:25.241 --> 00:07:26.764\nCan you make those bigger?\n\n164\n00:07:26.764 --> 00:07:29.420\nAll right, so\ncreate certificate request right here.\n\n165\n00:07:29.420 --> 00:07:30.700\nBy the way, we can import.\n\n166\n00:07:30.700 --> 00:07:34.210\nRemember I said if we issued\nthe certificate from an external,\n\n167\n00:07:34.210 --> 00:07:37.710\neither certificate authority in our\nown infrastructure through our PKI or\n\n168\n00:07:37.710 --> 00:07:39.950\nan external provider whatever it is.\n\n169\n00:07:39.950 --> 00:07:43.580\nWe would get a certificate,\nwhich would be exported at that point.\n\n170\n00:07:43.580 --> 00:07:47.060\nWe would then import that certificate\nfile, that .CER file here.\n\n171\n00:07:47.060 --> 00:07:49.442\nAnd that import function up top\nwould allow us to do that, so\n\n172\n00:07:49.442 --> 00:07:51.839\nwe've been through that in\nthe certificate discussions.\n\n173\n00:07:51.839 --> 00:07:55.434\nYou've seen this through that and other\nepisodes in a variety of circumstances.\n\n174\n00:07:55.434 --> 00:07:58.868\nIf you're not familiar with how to do\nthat, or you're not comfortable with that\n\n175\n00:07:58.868 --> 00:08:01.797\nfirst you go back and look at their shows,\nbut we have gone through and\n\n176\n00:08:01.797 --> 00:08:04.847\nspent a fair amount of time talking\nabout certificates in other areas.\n\n177\n00:08:04.847 --> 00:08:06.580\nCreate a certificate request.\n\n178\n00:08:06.580 --> 00:08:07.773\nComplete certificate request.\n\n179\n00:08:07.773 --> 00:08:09.876\nThese right here would be set up and\n\n180\n00:08:09.876 --> 00:08:13.865\nsent to a enterprise PKI which\nassociated in the Active Directory\n\n181\n00:08:13.865 --> 00:08:18.740\nthat we're a member of here, assuming\nwe're joined to the Active Directory.\n\n182\n00:08:18.740 --> 00:08:22.259\nAnd we will be issuing this against their\nown internal certificate of authority.\n\n183\n00:08:22.259 --> 00:08:24.380\nThat's what those options are for.\n\n184\n00:08:24.380 --> 00:08:27.715\nThen create a domain certificate or\nget a domain certificate again,\n\n185\n00:08:27.715 --> 00:08:28.989\nthat will be done in RPQI.\n\n186\n00:08:28.989 --> 00:08:32.388\nThe one we used is\nCreate Self-Signed Certificate right here.\n\n187\n00:08:32.388 --> 00:08:35.200\nThis is done by the machine\nitself locally.\n\n188\n00:08:35.200 --> 00:08:38.916\nWe click on it, we provide just one or\ntwo pieces of information, and boom,\n\n189\n00:08:38.916 --> 00:08:41.833\nthat script gets issued right away,\nshows up on this list.\n\n190\n00:08:41.833 --> 00:08:44.790\nWe don't have to talk to anybody outside,\ndon't have to do anything.\n\n191\n00:08:44.790 --> 00:08:46.865\nIt's literally self contained and\nself assigned.\n\n192\n00:08:46.865 --> 00:08:49.815\nSo when we create a self assigned\ncertificate we do that here.\n\n193\n00:08:49.815 --> 00:08:51.165\nYou would click here.\n\n194\n00:08:51.165 --> 00:08:52.688\nLiterally just specify the name and\n\n195\n00:08:52.688 --> 00:08:55.285\nthe certificate store you wanna\nput that certificate into.\n\n196\n00:08:55.285 --> 00:08:58.394\nAnd then click OK and\nthat certificate gets issued.\n\n197\n00:08:58.394 --> 00:09:02.923\nThat certificate is gonna look like this\none or something very similar to it.\n\n198\n00:09:02.923 --> 00:09:07.395\nObviously it's gonna have the localized\npath and version for your name space and\n\n199\n00:09:07.395 --> 00:09:08.918\nwhat you call your server.\n\n200\n00:09:08.918 --> 00:09:13.567\nI call mine plabdm01 as you could see\nright up here on the console window right\n\n201\n00:09:13.567 --> 00:09:15.600\nthat's the name of our machine.\n\n202\n00:09:15.600 --> 00:09:19.288\nPracticeLabs.com right is our\ndomain as you can see right here.\n\n203\n00:09:19.288 --> 00:09:22.800\nAnd so I have that you'll see\nthe validity period, the issuance period.\n\n204\n00:09:22.800 --> 00:09:27.590\nI remind you when we look at certificates\nthat the way Microsoft does it is in this\n\n205\n00:09:27.590 --> 00:09:29.604\ncase it says 2209 2017.\n\n206\n00:09:29.604 --> 00:09:32.540\n22 is the day, 09 is the month right?\n\n207\n00:09:32.540 --> 00:09:33.962\nSo you would probably figure that out.\n\n208\n00:09:33.962 --> 00:09:37.717\nI know that's not gonna be a mystery to\nmost of you, but just calling that out for\n\n209\n00:09:37.717 --> 00:09:41.361\nsomebody who may be new, who may not\nrealize how we list these certificates or\n\n210\n00:09:41.361 --> 00:09:44.300\nhow we issue them and\nmay never have seen that format, right?\n\n211\n00:09:44.300 --> 00:09:46.376\nAnd we do day/month,\nas opposed to moth/day,\n\n212\n00:09:46.376 --> 00:09:49.475\nwhich depending on where you are in\nthe world you may or may not be used to.\n\n213\n00:09:49.475 --> 00:09:51.677\nIt may be new to you and\nyou just may not know that.\n\n214\n00:09:51.677 --> 00:09:53.090\nSo I just wanna call that out.\n\n215\n00:09:53.090 --> 00:09:55.074\nSo you see that there.\n\n216\n00:09:55.074 --> 00:09:59.925\nWe have our details it is X509 V3,\nso it's version three certificate.\n\n217\n00:09:59.925 --> 00:10:03.901\nWe're using, it looks like our\nShy 256 signature algorithm or\n\n218\n00:10:03.901 --> 00:10:07.238\nhaving algorithm that is our default for\nserver 16 for\n\n219\n00:10:07.238 --> 00:10:11.460\nsigning as we've talked about\nanother episodes, right?\n\n220\n00:10:11.460 --> 00:10:16.303\nAnd we have our public key that is used\nthere, rather excuse me our public key\n\n221\n00:10:16.303 --> 00:10:20.331\nRSA 2048 the key, and\nall the stuff associated with this.\n\n222\n00:10:20.331 --> 00:10:24.305\nAnd when we look at the certification path\nit's self signed we can tell that because\n\n223\n00:10:24.305 --> 00:10:28.220\nit's shifted essentially list itself\nit doesn't even list an issuer, right?\n\n224\n00:10:28.220 --> 00:10:29.667\nThat's how we know it's self signed.\n\n225\n00:10:29.667 --> 00:10:31.490\nSo we could see that it is self-signed.\n\n226\n00:10:31.490 --> 00:10:34.089\nSo we have all that,\nnow the certificate has been done, so\n\n227\n00:10:34.089 --> 00:10:37.395\nwe've issued our self-signed certificate,\nfirst thing we need to do.\n\n228\n00:10:37.395 --> 00:10:38.955\nNow that we've done this and\n\n229\n00:10:38.955 --> 00:10:43.050\nI've shown you how to issue it, what we\nhave to do now, is we have to go in and\n\n230\n00:10:43.050 --> 00:10:47.830\nwe have to actually apply that self-signed\ncertificate to the WSUS admin site.\n\n231\n00:10:47.830 --> 00:10:52.451\nEdit the bindings to enable HTTPS,\nlink the certificate to the HTTPS\n\n232\n00:10:52.451 --> 00:10:56.117\nprotocol line and\njoin the two together in the config so\n\n233\n00:10:56.117 --> 00:10:59.555\nthat way we're actually\nenabling SSL on the site.\n\n234\n00:10:59.555 --> 00:11:00.870\nAnd then there's one other option.\n\n235\n00:11:00.870 --> 00:11:03.408\nWe have to go in and\nactually check off and enable SSL.\n\n236\n00:11:03.408 --> 00:11:07.337\nBut we're enabling the capability for SSL\nto be deployed by editing the bindings and\n\n237\n00:11:07.337 --> 00:11:10.270\nbinding certificate,\ncuz it's a three step process.\n\n238\n00:11:10.270 --> 00:11:13.770\nCreator issue the certificate,\nedit the bindings, and then enable SSO.\n\n239\n00:11:13.770 --> 00:11:15.510\nWe'll go through all three and\nshow you how to do that.\n\n240\n00:11:15.510 --> 00:11:16.753\nSo step one we just did.\n\n241\n00:11:16.753 --> 00:11:20.866\nStep two, let's go to the WSUS\nadmin site right here.\n\n242\n00:11:20.866 --> 00:11:23.241\nWhat we're then gonna\ndo is come over here,\n\n243\n00:11:23.241 --> 00:11:26.140\nwe're gonna go to SSL\nsettings right down here.\n\n244\n00:11:26.140 --> 00:11:29.137\nHighlight that, bindings right\nover here under edit site, right?\n\n245\n00:11:29.137 --> 00:11:32.290\nWe can go here, click on bindings.\n\n246\n00:11:32.290 --> 00:11:34.507\nAnd then you'll see we have HTTP.\n\n247\n00:11:34.507 --> 00:11:38.986\nI mentioned in, I think,\nour first episode that port 8530,\n\n248\n00:11:38.986 --> 00:11:43.467\nas we were doing our walkthrough\non the deployment in the wizard,\n\n249\n00:11:43.467 --> 00:11:46.740\nis used for HTTP and\n8531 is used for HTTPS.\n\n250\n00:11:46.740 --> 00:11:48.347\nYou could see those ports here.\n\n251\n00:11:48.347 --> 00:11:53.700\nSo we're using nonstandard ports for\nweb communication with this console.\n\n252\n00:11:53.700 --> 00:11:55.116\nSo you wanna make sure you know those.\n\n253\n00:11:55.116 --> 00:11:58.254\nProbably one of the most important\nthings you'll be asked about is,\n\n254\n00:11:58.254 --> 00:12:01.620\nhey which port goes with which protocol\nwhen we're thinking about WSUS?\n\n255\n00:12:01.620 --> 00:12:03.275\nYou do wanna make sure\nyou make a note of that.\n\n256\n00:12:03.275 --> 00:12:06.897\nPort 8530 for HTTP, 8531 for HTTPS.\n\n257\n00:12:06.897 --> 00:12:09.474\nSo when you go in and\ntake a look, you will not\n\n258\n00:12:09.474 --> 00:12:14.145\nsee under host name here as you see now,\nfor HTTPS until you edit the bindings and\n\n259\n00:12:14.145 --> 00:12:18.975\nalign them with the certificate you will\nnot see a name there, that will be blank.\n\n260\n00:12:18.975 --> 00:12:22.144\nI've already gone and edited this,\nand dropped my certificate and\n\n261\n00:12:22.144 --> 00:12:22.960\nmy host name in.\n\n262\n00:12:22.960 --> 00:12:27.376\nSo we would highlight this, go to Edit.\n\n263\n00:12:27.376 --> 00:12:29.461\nHere the host name will be blank,\n\n264\n00:12:29.461 --> 00:12:33.720\nI will put in the host name which\nis PlabDM01 practice labs.com.\n\n265\n00:12:33.720 --> 00:12:37.521\nI will from the pull down menu here,\nwhich will say not selected.\n\n266\n00:12:37.521 --> 00:12:40.940\nI chose my certificate that I just issued,\nright?\n\n267\n00:12:40.940 --> 00:12:43.490\nSo I put that there and\nthen I went ahead and clicked OK.\n\n268\n00:12:43.490 --> 00:12:48.420\nAnd by doing those two things I have\nnow edited the bindings to enable\n\n269\n00:12:48.420 --> 00:12:53.955\nthe certificate to be used to allow us to\nuse SSL once we enable the use of SSL,\n\n270\n00:12:53.955 --> 00:12:54.580\nright?\n\n271\n00:12:54.580 --> 00:12:57.082\nSo we've set up the background settings so\n\n272\n00:12:57.082 --> 00:13:00.000\nthat the bindings will\nsupport the use of SSL.\n\n273\n00:13:00.000 --> 00:13:03.803\nWe've enabled that,\nwhat we're gonna do now is go in and\n\n274\n00:13:03.803 --> 00:13:07.539\nactually set the SSL feature up or\nenable the use of SSL.\n\n275\n00:13:07.539 --> 00:13:08.694\nStep three.\n\n276\n00:13:08.694 --> 00:13:09.980\nSo I've done this.\n\n277\n00:13:09.980 --> 00:13:15.145\nSo now back here, this is the craziness\nI was talking about with IIS, right?\n\n278\n00:13:15.145 --> 00:13:18.208\nSo I double clicked, right, like that.\n\n279\n00:13:18.208 --> 00:13:22.474\nOr right-click either way and I can\nget to where I can now require SSL and\n\n280\n00:13:22.474 --> 00:13:24.977\nactually configure it, the third step.\n\n281\n00:13:24.977 --> 00:13:30.410\nAnd what I did was I just\ncame to the SSL settings.\n\n282\n00:13:30.410 --> 00:13:35.238\nInstead of highlighting it and editing the\nbindings over here, which is what I did,\n\n283\n00:13:35.238 --> 00:13:38.572\nI can either right click and\nopen feature, it's up to me.\n\n284\n00:13:38.572 --> 00:13:42.923\nOr I can just double click which I just\ndid, it gets me to the same place, and\n\n285\n00:13:42.923 --> 00:13:47.481\nthis is step three, I have to check off\nthe box require SSL, if I wanna do that,\n\n286\n00:13:47.481 --> 00:13:47.988\nright?\n\n287\n00:13:47.988 --> 00:13:52.338\nLet me just before we do that by the way,\njust one second, so\n\n288\n00:13:52.338 --> 00:13:54.610\nI can go ahead and require SSL.\n\n289\n00:13:54.610 --> 00:13:59.544\nAnd then you'll notice that I can then for\nmy client certificates ignore, accept or\n\n290\n00:13:59.544 --> 00:14:00.180\nrequire.\n\n291\n00:14:00.180 --> 00:14:02.929\nIt's up to me to decide\nwhat I'm gonna do here.\n\n292\n00:14:02.929 --> 00:14:05.840\nSo I'll go ahead, and I'll require SSL.\n\n293\n00:14:05.840 --> 00:14:07.798\nI could ignore client certificates.\n\n294\n00:14:07.798 --> 00:14:09.890\nI can accept them and or require them.\n\n295\n00:14:09.890 --> 00:14:12.865\nBut choose to require them,\nthe client must have the certificate and\n\n296\n00:14:12.865 --> 00:14:15.696\nbe able to validate it or\nthey won't be able to get in and do stuff.\n\n297\n00:14:15.696 --> 00:14:19.149\nSo I'm gonna do this, then what I'm\ngonna do over here on the right,\n\n298\n00:14:19.149 --> 00:14:21.920\nyou could see right up here,\nit's kinda faint.\n\n299\n00:14:21.920 --> 00:14:24.543\nApply, right,\nwhich means essentially set the setting.\n\n300\n00:14:24.543 --> 00:14:26.674\nSo I'm gonna go ahead and click Apply.\n\n301\n00:14:26.674 --> 00:14:29.822\n&gt;&gt; Did we wanna hit Require,\nor keep it with Ignore?\n\n302\n00:14:29.822 --> 00:14:31.525\n&gt;&gt; No, we're just for\nthe purposes of our demonstration,\n\n303\n00:14:31.525 --> 00:14:33.027\nwe're just showing you\nhow to walk through this.\n\n304\n00:14:33.027 --> 00:14:36.610\nAll right, so then you'll see here,\nchanges have been successfully saved.\n\n305\n00:14:36.610 --> 00:14:39.564\nWe wanna see that that now specifies\nthat SSL will have to be used,\n\n306\n00:14:39.564 --> 00:14:41.242\nright, in order to go in and do this.\n\n307\n00:14:41.242 --> 00:14:44.140\nSo we're gonna leave it just at ignore for\nnow for what we're doing.\n\n308\n00:14:44.140 --> 00:14:47.606\nAll right, so we've done this,\nwe've successfully saved it, and\n\n309\n00:14:47.606 --> 00:14:51.690\nnow what we're gonna do is we're gonna\nexport that self-signed certificate.\n\n310\n00:14:51.690 --> 00:14:54.550\nSo let's go back over here and\ngo back up here.\n\n311\n00:14:54.550 --> 00:14:57.346\nLet's go to server certificates\none more time right here, right?\n\n312\n00:14:57.346 --> 00:15:00.539\nAnd what we're gonna do is open it up,\nagain you can double-click or\n\n313\n00:15:00.539 --> 00:15:02.810\nright-click to open feature,\nit's up to you.\n\n314\n00:15:02.810 --> 00:15:05.804\nWe're gonna take this\ncertificate right here and\n\n315\n00:15:05.804 --> 00:15:09.949\nwhat we're gonna do is you can see\nit says export right here, right?\n\n316\n00:15:09.949 --> 00:15:12.824\nYou'll see I can right click, I can\nalso get a better view with the menu,\n\n317\n00:15:12.824 --> 00:15:13.448\nessentially.\n\n318\n00:15:13.448 --> 00:15:16.024\nThe same menu that's in blue on the right,\nright-click,\n\n319\n00:15:16.024 --> 00:15:17.475\nyou could see the same menu here.\n\n320\n00:15:17.475 --> 00:15:20.919\nSo I'm gonna export this.\n\n321\n00:15:20.919 --> 00:15:21.953\nAnd I'm gonna export, too.\n\n322\n00:15:21.953 --> 00:15:23.769\nI have to specify where I wanna put this.\n\n323\n00:15:23.769 --> 00:15:26.330\nLet me just take a look,\nwhat directory did I create?\n\n324\n00:15:27.670 --> 00:15:30.650\nWe'll go in, go in, go in.\n\n325\n00:15:30.650 --> 00:15:31.750\nWhat am I gonna do?\n\n326\n00:15:31.750 --> 00:15:35.050\nLet me see here one second.\n\n327\n00:15:35.050 --> 00:15:36.420\nActually, no, you know what I'm gonna do?\n\n328\n00:15:36.420 --> 00:15:37.908\nI'm not gonna export it this way.\n\n329\n00:15:37.908 --> 00:15:40.460\nI am going to view the certificate,\nI'll do it this way.\n\n330\n00:15:40.460 --> 00:15:42.470\nAll right, so\nI'll show you two ways you could do it but\n\n331\n00:15:42.470 --> 00:15:43.571\nwe're gonna do it from here.\n\n332\n00:15:43.571 --> 00:15:47.102\nI'm gonna go to Details and I'm gonna\nactually copy to file and do it this way.\n\n333\n00:15:47.102 --> 00:15:50.052\nSo when I go here, I'm gonna use\nthe Certificate Export wizard\n\n334\n00:15:50.052 --> 00:15:52.793\nIt's actually a little prettier\nway to do the same thing.\n\n335\n00:15:52.793 --> 00:15:55.096\nI'm gonna click next,\nI'm gonna specify whether or\n\n336\n00:15:55.096 --> 00:15:56.920\nnot I want to export the private key.\n\n337\n00:15:56.920 --> 00:15:58.450\nLets talk about the private key for\njust a minute.\n\n338\n00:15:58.450 --> 00:16:01.350\nSo Cherokee, help me if you\ndon't mind to remind everybody\n\n339\n00:16:01.350 --> 00:16:04.490\nabout public private keys and\nwhat the private key represents.\n\n340\n00:16:04.490 --> 00:16:05.668\n&gt;&gt; Okay, all right.\n\n341\n00:16:05.668 --> 00:16:08.034\nWell I'm gonna be Adam here for\na second and say, hey,\n\n342\n00:16:08.034 --> 00:16:10.526\ndo you guys remember Kerckhoffs', wait\n&gt;&gt; Kerckhoffs.\n\n343\n00:16:10.526 --> 00:16:11.743\n&gt;&gt; Kerckhoffs' principle [LAUGH].\n\n344\n00:16:11.743 --> 00:16:16.200\n&gt;&gt; If you're gonna impersonate me,\nyou gotta do it right, Kerckhoffs.\n\n345\n00:16:16.200 --> 00:16:17.952\n&gt;&gt; Yes, Kerckhoffs' principle.\n\n346\n00:16:17.952 --> 00:16:18.635\n&gt;&gt; Auguste Kerckhoffs.\n\n347\n00:16:18.635 --> 00:16:23.213\n&gt;&gt; All right, where he states\nthat knowing the private key is\n\n348\n00:16:23.213 --> 00:16:26.960\nthe main component that\nwe have to keep secret.\n\n349\n00:16:26.960 --> 00:16:29.540\nYou could know other components\nsuch as the public key or\n\n350\n00:16:29.540 --> 00:16:32.280\nadditional information,\nsuch as the output.\n\n351\n00:16:32.280 --> 00:16:36.030\nBut knowing that private key is\nwhat we have to maintain and\n\n352\n00:16:36.030 --> 00:16:38.100\nkeep secure in a nutshell.\n\n353\n00:16:38.100 --> 00:16:40.136\nHow did I do?\n\n354\n00:16:40.136 --> 00:16:43.244\n&gt;&gt; Good recitation of Kerckhoffs'\nrinciple, but let's actually talk about\n\n355\n00:16:43.244 --> 00:16:46.360\nthe difference between the public key and\nthe private key for just a second.\n\n356\n00:16:46.360 --> 00:16:50.270\nSo you did great in the sense of helping\nus understand why the private key\n\n357\n00:16:50.270 --> 00:16:52.680\nmay be so important cuz we\nhave to keep it secret, but\n\n358\n00:16:52.680 --> 00:16:54.340\nlet's talk about what it\nactually represents, right?\n\n359\n00:16:54.340 --> 00:16:56.870\nSo in symmetric encryption systems, or\n\n360\n00:16:56.870 --> 00:16:59.400\nsystems that are essentially\nsingle key only,\n\n361\n00:16:59.400 --> 00:17:03.310\nwhere we do private key only encryption,\nwe don't use a key pair, all right?\n\n362\n00:17:03.310 --> 00:17:06.378\nBut we use only one key to\nboth encrypt and decrypt.\n\n363\n00:17:06.378 --> 00:17:08.910\nKerckhoffs' principle is\nequally important in both,\n\n364\n00:17:08.910 --> 00:17:13.310\nkinds of cryptographic systems that we\ncall symmetric, but also asymmetric.\n\n365\n00:17:13.310 --> 00:17:16.072\nAsymmetric systems are public\nprivate key pair systems.\n\n366\n00:17:16.072 --> 00:17:19.170\nThe kind Cherokee was just describing\nwas an asymmetric system with a key\n\n367\n00:17:19.170 --> 00:17:19.865\npair, right?\n\n368\n00:17:19.865 --> 00:17:24.650\nAnd so whether we have just a single key\nonly, private key only, one key does both,\n\n369\n00:17:24.650 --> 00:17:28.630\nor a key pair, mathematically\nrelated to each other, two keys,\n\n370\n00:17:28.630 --> 00:17:33.010\ntwo sides of the equation in other words\nand both sent to represent half of our\n\n371\n00:17:33.010 --> 00:17:38.020\nfunctionality, each key can do\none of two parts of the equation.\n\n372\n00:17:38.020 --> 00:17:39.980\nIt can either encrypt or decrypt, but\n\n373\n00:17:39.980 --> 00:17:43.880\nonce we say one key is used to encrypt,\nthe other key can only be used to decrypt.\n\n374\n00:17:43.880 --> 00:17:47.200\nThat's how essentially\nasymmetric cryptography works.\n\n375\n00:17:47.200 --> 00:17:50.380\nAnd so as a result, knowledge of and\n\n376\n00:17:50.380 --> 00:17:55.558\ncontrol of, as Cherokee suggested,\nthe private key is very important.\n\n377\n00:17:55.558 --> 00:17:59.340\nProbably, as Kerckhoffs suggested, the\nsingle most important thing that we can\n\n378\n00:17:59.340 --> 00:18:03.350\nachieve and do with regards to key\nmanagement in a cryptographic solution.\n\n379\n00:18:03.350 --> 00:18:08.680\nBecause if we slip up, if we mess up and\nexpose in some way the private key,\n\n380\n00:18:08.680 --> 00:18:13.600\nthen not just the individual transaction\nthat we're talking about, the message,\n\n381\n00:18:13.600 --> 00:18:16.990\nthe dog is blue,\nwe encrypt that with a private key and\n\n382\n00:18:16.990 --> 00:18:20.164\nwe hand somebody what's called\nthe ciphertext or the encrypted message.\n\n383\n00:18:21.355 --> 00:18:25.705\nWhat we have done is\ntransform the dog is blue\n\n384\n00:18:25.705 --> 00:18:30.025\ninto something that's not directly\nrelatable to the original message and\n\n385\n00:18:30.025 --> 00:18:33.515\nhas provided as a result\nconfidentiality protection.\n\n386\n00:18:33.515 --> 00:18:37.345\nWe've obfuscated it, hidden the original\ndata, the meaning of the intent.\n\n387\n00:18:37.345 --> 00:18:42.690\nAnd the only way to find that data, to see\nthe original meaning is to use the key and\n\n388\n00:18:42.690 --> 00:18:46.700\nrun backwards through the system,\nin reverse, to be able to produce what's\n\n389\n00:18:46.700 --> 00:18:51.300\ncalled the plain text, or to unencrypt\nthe cipher text and revert it back.\n\n390\n00:18:51.300 --> 00:18:54.295\nAnd knowledge of the key is really\nthe most important element of this,\n\n391\n00:18:54.295 --> 00:18:56.699\ncuz without knowledge of the key,\nthis doesn't work.\n\n392\n00:18:56.699 --> 00:18:59.470\nYou ever try to get into something\nthat's locked without the key?\n\n393\n00:18:59.470 --> 00:19:01.660\nRight, unless you have\na really big sledgehammer and\n\n394\n00:19:01.660 --> 00:19:04.150\nyou're really persistent it's\nprobably not gonna work.\n\n395\n00:19:04.150 --> 00:19:05.670\nThat's the idea, we're locking a box,\n\n396\n00:19:05.670 --> 00:19:09.610\nand without the key its impossible\nto unlock the box in theory.\n\n397\n00:19:09.610 --> 00:19:13.230\nAnd so knowledge of the private key\nbecomes crucial to our ability to do this.\n\n398\n00:19:13.230 --> 00:19:16.360\nAnd so when we think about being\nable to export the private key,\n\n399\n00:19:16.360 --> 00:19:19.400\nas you can see I just changed the default\nselection there while we're talking\n\n400\n00:19:19.400 --> 00:19:23.660\nfrom yes to no, we're thinking about do\nwe wanna just export the certificate.\n\n401\n00:19:23.660 --> 00:19:26.680\nSo essentially here's all\nthe information about the certificate\n\n402\n00:19:26.680 --> 00:19:27.890\nalong with the public keys.\n\n403\n00:19:27.890 --> 00:19:29.214\nYou saw it's part of the certificate.\n\n404\n00:19:29.214 --> 00:19:32.415\nThe public key, the key that we give out\nto everybody, it's freely available,\n\n405\n00:19:32.415 --> 00:19:33.630\nthat goes with it.\n\n406\n00:19:33.630 --> 00:19:38.530\nBut if we export the product key as well,\nwhat we're essentially doing\n\n407\n00:19:38.530 --> 00:19:42.040\nis we're giving somebody, whoever has\naccess to this file when we export it,\n\n408\n00:19:42.040 --> 00:19:45.520\nwe're giving somebody\nevery piece of the puzzle,\n\n409\n00:19:45.520 --> 00:19:49.750\nevery tool necessary to not only\nwork with this certificate, but\n\n410\n00:19:49.750 --> 00:19:53.420\nto work with any data that may have been\nassociated with the certificate, and\n\n411\n00:19:53.420 --> 00:19:56.140\nto be able to understand how to encrypt\nand decrypt as a result of that.\n\n412\n00:19:56.140 --> 00:19:59.630\nSo knowledge of the private key becomes\nvery important for what we're doing.\n\n413\n00:19:59.630 --> 00:20:01.404\nWe don't give this out lightly, so\n\n414\n00:20:01.404 --> 00:20:05.557\nthe decision to export the private key is\nsomething we have to think about, right?\n\n415\n00:20:05.557 --> 00:20:08.211\nIf you want to export the private\nkey with the certificate,\n\n416\n00:20:08.211 --> 00:20:10.189\nit says you must type\nthe password later on.\n\n417\n00:20:10.189 --> 00:20:13.601\nIf we don't export the private key,\nthe password is optional on the file.\n\n418\n00:20:13.601 --> 00:20:16.505\nIf we export the private key,\na password will be required,\n\n419\n00:20:16.505 --> 00:20:20.047\ncuz we need some additional security\nto safeguard access to the file, so\n\n420\n00:20:20.047 --> 00:20:23.200\nwe don't just accidentally\nexpose their private key, right?\n\n421\n00:20:23.200 --> 00:20:24.463\nThat would be bad ultimately.\n\n422\n00:20:24.463 --> 00:20:26.810\nSo I just want to make sure you're aware\nof that and we're thinking about that.\n\n423\n00:20:26.810 --> 00:20:28.651\nAll right so\nwe're gonna export the private key.\n\n424\n00:20:28.651 --> 00:20:30.740\nWe're gonna click Yes.\n\n425\n00:20:30.740 --> 00:20:35.775\nWe choose our export format here,\npersonal information exchange.\n\n426\n00:20:35.775 --> 00:20:40.570\nWhat's called a PKCS12 or\n.pfx extension file is gonna be used.\n\n427\n00:20:40.570 --> 00:20:43.160\nInclude all certificates in\nthe certification path if possible is\n\n428\n00:20:43.160 --> 00:20:44.180\nselected.\n\n429\n00:20:44.180 --> 00:20:47.673\nAnd then we can enable some\nother stuff here, right.\n\n430\n00:20:47.673 --> 00:20:51.432\nBy the way you do have an option to remove\nthe private key from this system if export\n\n431\n00:20:51.432 --> 00:20:52.220\nis successful.\n\n432\n00:20:52.220 --> 00:20:55.570\nIf you don't wanna leave it behind,\nyou can take it with you, right.\n\n433\n00:20:55.570 --> 00:20:58.530\nThis is how we clean up after ourselves\nwhen we export certificates out of\n\n434\n00:20:58.530 --> 00:21:01.070\nthe system and\nremove them to decommission them.\n\n435\n00:21:01.070 --> 00:21:02.020\nWe can do that.\n\n436\n00:21:02.020 --> 00:21:03.315\nWe can also use thermites.\n\n437\n00:21:03.315 --> 00:21:05.960\nSlap a block of thermites\ninside of the system and\n\n438\n00:21:05.960 --> 00:21:07.860\nmake sure you're not in the room\nwhen that happens by the way.\n\n439\n00:21:07.860 --> 00:21:10.747\nBut that is also very effective at\nremoving traces of certificates typically.\n\n440\n00:21:10.747 --> 00:21:11.656\n&gt;&gt; Removing everything.\n\n441\n00:21:11.656 --> 00:21:13.740\n[LAUGH]\n&gt;&gt; Everything, including the machine,\n\n442\n00:21:13.740 --> 00:21:16.950\nthe floor that it's sitting on, will burn\na hole right through that as well, and\n\n443\n00:21:16.950 --> 00:21:19.570\nany other furniture and\nthings that may be in the way.\n\n444\n00:21:19.570 --> 00:21:23.700\nSo thermite is not a recommended\ndisposal though process by the way.\n\n445\n00:21:23.700 --> 00:21:25.992\nIt is usable but\nonly under certain circumstances.\n\n446\n00:21:25.992 --> 00:21:29.540\nAll right, so it's Friday, we're just\nlaughing and having a good time, right?\n\n447\n00:21:29.540 --> 00:21:30.570\n&gt;&gt; Yeah.\n&gt;&gt; Okay.\n\n448\n00:21:30.570 --> 00:21:31.620\n&gt;&gt; Are we finished for this show?\n\n449\n00:21:31.620 --> 00:21:32.753\n&gt;&gt; No, not at all,\nwe've got plenty of time.\n\n450\n00:21:32.753 --> 00:21:34.720\n&gt;&gt; I see we do have time, so okay.\n\n451\n00:21:34.720 --> 00:21:36.650\nBut we're just saying, hey we're-\n&gt;&gt; Are you in a rush to get to that\n\n452\n00:21:36.650 --> 00:21:38.370\nlunch appointment you have?\n\n453\n00:21:38.370 --> 00:21:42.635\n&gt;&gt; No, it's just a ballet lesson so\nI can brush up on my skill so\n\n454\n00:21:42.635 --> 00:21:46.297\nthat next time we can do the dancing and\nsinging for everyone.\n\n455\n00:21:46.297 --> 00:21:50.994\n&gt;&gt; Joy, all right so we'll choose\njust our standard solution here.\n\n456\n00:21:50.994 --> 00:21:54.695\nWe're not gonna bother with adding in or\nmodifying any of these choices.\n\n457\n00:21:54.695 --> 00:21:56.691\nYou would do that in\nthe real world if necessary.\n\n458\n00:21:56.691 --> 00:21:58.770\nYou'll see security here\nto maintain security.\n\n459\n00:21:58.770 --> 00:22:03.715\nYou must protect the private\nkey to a security principle or\n\n460\n00:22:03.715 --> 00:22:06.030\nby using a password,\nright, so either group or\n\n461\n00:22:06.030 --> 00:22:09.240\nname of who we're going to allow to\nsee this and provide a password.\n\n462\n00:22:09.240 --> 00:22:11.383\nSo we can do that here as I suggested.\n\n463\n00:22:11.383 --> 00:22:14.053\nWe'll go ahead and\nput our password in to be able to do this.\n\n464\n00:22:14.053 --> 00:22:15.078\nI'll just type it in here.\n\n465\n00:22:22.139 --> 00:22:22.740\nOkay, there we go.\n\n466\n00:22:22.740 --> 00:22:23.728\nThat's stupid.\n\n467\n00:22:23.728 --> 00:22:25.466\n&gt;&gt; I love that you need blinders or\nsomething.\n\n468\n00:22:25.466 --> 00:22:26.899\n[LAUGH]\n&gt;&gt; No, it's a caps lock, but\n\n469\n00:22:26.899 --> 00:22:27.773\nit randomly turns on.\n\n470\n00:22:27.773 --> 00:22:32.477\nAnd then the light doesn't work on\nthe keyboard, so I never know if it's on.\n\n471\n00:22:32.477 --> 00:22:35.580\nAnd then I go to hit it, and it just,\nyou know what I'm talking about.\n\n472\n00:22:35.580 --> 00:22:36.850\nI don't have to go through this with you.\n\n473\n00:22:36.850 --> 00:22:38.273\nYou guys have seen that, you know that.\n\n474\n00:22:38.273 --> 00:22:41.225\nAll right, so\nlet me just type the password in here.\n\n475\n00:22:41.225 --> 00:22:43.780\nI'm calling it my ghost machine\nfrom now on, because it's haunted.\n\n476\n00:22:44.910 --> 00:22:47.142\nI'm convinced there's gremlins\nthat live in my machine.\n\n477\n00:22:47.142 --> 00:22:49.651\n&gt;&gt; Well the good news is you've got a new,\n\n478\n00:22:49.651 --> 00:22:53.160\na really awesome laptop\nsitting there in the box.\n\n479\n00:22:53.160 --> 00:22:54.520\n&gt;&gt; I do.\n&gt;&gt; I can't wait to see it.\n\n480\n00:22:54.520 --> 00:22:56.050\n&gt;&gt; Yep, yep, it will be cool.\n\n481\n00:22:56.050 --> 00:22:56.600\nIt will be cool.\n\n482\n00:22:56.600 --> 00:22:57.620\nNo more ghost machine.\n\n483\n00:22:57.620 --> 00:22:58.420\n&gt;&gt; That's right.\n&gt;&gt; All right,\n\n484\n00:22:58.420 --> 00:23:02.800\nso let's put in the name of our directory\nwhere we're gonna put this, right?\n\n485\n00:23:02.800 --> 00:23:06.699\nSo I'm gonna go ahead, and\nI'm gonna export this out to,\n\n486\n00:23:06.699 --> 00:23:09.258\nwell just the C drive, colabdm01.\n\n487\n00:23:09.258 --> 00:23:11.120\nWe'll go ahead and we'll put it there.\n\n488\n00:23:11.120 --> 00:23:12.630\nClick Next.\n\n489\n00:23:12.630 --> 00:23:16.200\nAll right, so completing our\nExport Wizard, let's just click Finish.\n\n490\n00:23:16.200 --> 00:23:18.230\nOur export was successful.\n\n491\n00:23:18.230 --> 00:23:21.549\nOkay, so we got that,\nlet's click OK there.\n\n492\n00:23:21.549 --> 00:23:25.300\nLet's go in here real quick\nto the root of C drive.\n\n493\n00:23:25.300 --> 00:23:26.890\nWhere did we go, there we go right there.\n\n494\n00:23:26.890 --> 00:23:29.400\nSo that’s the name, colabdm01.\n\n495\n00:23:29.400 --> 00:23:33.382\nThere is our certificate,\nif we could just extend that, so\n\n496\n00:23:33.382 --> 00:23:36.660\npersonal information exchanged or\n.pfx file.\n\n497\n00:23:36.660 --> 00:23:40.290\nThat is our certificate that just we\nessentially self-signed and now exported.\n\n498\n00:23:40.290 --> 00:23:41.731\nSo, we've got that.\n\n499\n00:23:41.731 --> 00:23:45.390\nNow what we're gonna do\nis we're gonna go ahead.\n\n500\n00:23:45.390 --> 00:23:48.463\nWhat am I gonna do?\n\n501\n00:23:48.463 --> 00:23:51.188\nI'm just looking at me notes here,\nbut I'm also looking at our time,\n\n502\n00:23:51.188 --> 00:23:54.527\nwe're gonna look at configuring the domain\nto trust the self-signed certificate.\n\n503\n00:23:54.527 --> 00:23:56.065\nWe're gonna do that in\nan upcoming episode.\n\n504\n00:23:56.065 --> 00:23:57.146\nWe're not gonna do that just yet.\n\n505\n00:23:57.146 --> 00:23:59.046\nI want to talk about a couple\nof things before we get there.\n\n506\n00:23:59.046 --> 00:24:01.297\nAnd we'll run out of time before\nwe're able to do everything.\n\n507\n00:24:01.297 --> 00:24:05.146\nBut the next step in our next episode will\nbe, and we talked about this issue, right?\n\n508\n00:24:05.146 --> 00:24:08.648\nWhich is to take this self-signed\ncertificate and essentially,\n\n509\n00:24:08.648 --> 00:24:11.649\nI'm going to use the word\nforce only because we're gonna\n\n510\n00:24:11.649 --> 00:24:16.230\npolitely encourage the domain to trust\nthis certificate based on how we apply it.\n\n511\n00:24:16.230 --> 00:24:19.500\nWe're gonna go in, and we're gonna\nuse group policy-based management\n\n512\n00:24:19.500 --> 00:24:22.310\nto be able to create a policy that\ndistributes this certificate and\n\n513\n00:24:22.310 --> 00:24:25.955\nputs it into the certificate store of\nmachines that allows it to be trusted.\n\n514\n00:24:25.955 --> 00:24:30.335\nSo we're gonna, essentially, overcome this\nburden of self signing this certificate,\n\n515\n00:24:30.335 --> 00:24:32.645\nand overcome the biggest\nobjection to doing that.\n\n516\n00:24:32.645 --> 00:24:35.835\nWhich is, hey we're not gonna trust you\ncuz we don't really know where you come\n\n517\n00:24:35.835 --> 00:24:37.147\nfrom and who you are.\n\n518\n00:24:37.147 --> 00:24:39.857\nWe're gonna force\nthe certificate to be trusted by\n\n519\n00:24:39.857 --> 00:24:42.867\nthe users that are gonna use it by\napplying it through group policy,\n\n520\n00:24:42.867 --> 00:24:46.217\nwhich is traditionally what is done when\nyou issue a self signed certificate.\n\n521\n00:24:46.217 --> 00:24:49.127\nSo we're gonna see how that works\nin our upcoming conversation.\n\n522\n00:24:49.127 --> 00:24:50.327\nBut to that end, right,\n\n523\n00:24:50.327 --> 00:24:53.588\nlet me just minimize a couple\nof things here real quick.\n\n524\n00:24:53.588 --> 00:24:56.378\nLet's just peek under\nthe hood with regards to\n\n525\n00:24:56.378 --> 00:24:59.818\ngroup policy before we actually go\nfull bore there in the next episode.\n\n526\n00:24:59.818 --> 00:25:01.578\nLet me just do the following.\n\n527\n00:25:01.578 --> 00:25:04.418\nI have to switch machines here,\nso give me just one second.\n\n528\n00:25:04.418 --> 00:25:07.778\nLet me do that, extend my timer here and\n\n529\n00:25:07.778 --> 00:25:10.688\njust bring up our domain\ncontroller to be able to do that.\n\n530\n00:25:12.760 --> 00:25:15.630\nJust minimize the timer window so\nI don't inadvertently close it\n\n531\n00:25:15.630 --> 00:25:18.540\nbehind the scenes as you've\nseen me do on rare occasions.\n\n532\n00:25:18.540 --> 00:25:20.020\nAll right, so\nlet's get into our domain controller.\n\n533\n00:25:20.020 --> 00:25:22.190\nI'm gonna open up the server manager here.\n\n534\n00:25:23.250 --> 00:25:24.463\nBring that up real quick.\n\n535\n00:25:26.410 --> 00:25:30.015\nAnd we're gonna load up our group policy\nmanagement console here as soon as our\n\n536\n00:25:30.015 --> 00:25:33.630\nserver manager updates and\njust makes sure everything is working.\n\n537\n00:25:33.630 --> 00:25:36.336\nLet's go over here, let me go over here.\n\n538\n00:25:36.336 --> 00:25:37.582\nThere we go.\n\n539\n00:25:37.582 --> 00:25:43.107\nAnd what we're gonna take a look at, or at\nleast just talk about here for a minute,\n\n540\n00:25:43.107 --> 00:25:48.250\nas soon as it loads, is we've been in and\ntalked about group policy before.\n\n541\n00:25:48.250 --> 00:25:51.930\nAnd we've taken a look at, just trying\nto move that over while we're talking.\n\n542\n00:25:51.930 --> 00:25:54.820\nWe've taken a look at and\ntalked about group policy settings for\n\n543\n00:25:54.820 --> 00:25:56.062\na lot of different errors.\n\n544\n00:25:56.062 --> 00:26:00.920\nWe talked about it for FSRM, and DAC,\nand file access auditing for instance.\n\n545\n00:26:00.920 --> 00:26:06.450\nDid a whole series of episodes\non that set of topics and how\n\n546\n00:26:06.450 --> 00:26:10.655\nwe use group policy to be able to apply\nsettings that will let us use the central\n\n547\n00:26:10.655 --> 00:26:15.725\naccess policy to drive the application\nof DAC, dynamic access control.\n\n548\n00:26:15.725 --> 00:26:19.375\nWe've taken a look at group policy\nwith regards to configuration of\n\n549\n00:26:19.375 --> 00:26:22.212\na variety of settings and different areas\n\n550\n00:26:22.212 --> 00:26:25.202\nthat are security levers that we want to\nthink about pulling and manipulating.\n\n551\n00:26:25.202 --> 00:26:26.572\nSo, we've gone and done this.\n\n552\n00:26:26.572 --> 00:26:30.472\nThis is not unusual and many of these\nareas we've been able to go in and\n\n553\n00:26:30.472 --> 00:26:31.952\nmodify settings as needed.\n\n554\n00:26:31.952 --> 00:26:33.502\nAuditing for instance, right?\n\n555\n00:26:33.502 --> 00:26:35.466\nThings like that, we've been through\nall sorts of different stuff.\n\n556\n00:26:35.466 --> 00:26:36.776\nSo let's go in here.\n\n557\n00:26:36.776 --> 00:26:38.696\nLet's just get a vague idea\nof what we're gonna do.\n\n558\n00:26:38.696 --> 00:26:42.416\nAnd some of the reasons why we're\ngonna be looking at where we do this.\n\n559\n00:26:42.416 --> 00:26:46.296\nWe're gonna be in and talk about editing\nin the default domain policy in this case.\n\n560\n00:26:46.296 --> 00:26:47.916\nAnd what we're doing is going in.\n\n561\n00:26:47.916 --> 00:26:50.746\nLet me just open this up real quick.\n\n562\n00:26:51.768 --> 00:26:58.586\nAnd just right-click and choose Edit, as\nwe often do, and we'll open up our editor.\n\n563\n00:26:58.586 --> 00:27:04.150\nAnd we'll move this over, oops,\nright over there, or not.\n\n564\n00:27:05.675 --> 00:27:06.445\n&gt;&gt; Maybe.\n\n565\n00:27:06.445 --> 00:27:07.785\n&gt;&gt; Perhaps.\n&gt;&gt; [LAUGH]\n\n566\n00:27:07.785 --> 00:27:09.155\n&gt;&gt; It's always like a mystery.\n\n567\n00:27:09.155 --> 00:27:12.325\nYou're never sure how that's gonna work\nout, if it's actually gonna work or not.\n\n568\n00:27:12.325 --> 00:27:14.070\nAll right, so\nunder computer configuration,\n\n569\n00:27:14.070 --> 00:27:15.495\nwe'll be going into policies.\n\n570\n00:27:15.495 --> 00:27:17.235\nI'll be going into Windows settings.\n\n571\n00:27:17.235 --> 00:27:18.385\nLet's just wait for that to open up.\n\n572\n00:27:18.385 --> 00:27:20.445\nWe'll go to security settings here.\n\n573\n00:27:20.445 --> 00:27:21.585\nOpen this up.\n\n574\n00:27:21.585 --> 00:27:25.925\nNow we're gonna go into a public\nkey policies, right there.\n\n575\n00:27:25.925 --> 00:27:29.880\nAnd under public key policies you\nsee you have quite a list of items.\n\n576\n00:27:29.880 --> 00:27:32.210\nWe've been in and out of here\nquite a bit in other episodes for\n\n577\n00:27:32.210 --> 00:27:36.680\ncertificate services, for ADR amass,\nfor rights management, for federation.\n\n578\n00:27:36.680 --> 00:27:40.180\nWe have a whole bunch of different\nstuff we got to do in various places so\n\n579\n00:27:40.180 --> 00:27:42.455\nwe usually are coming in here.\n\n580\n00:27:42.455 --> 00:27:47.045\nFor our discussion on EFS and\nfor BitLocker, as you can see,\n\n581\n00:27:47.045 --> 00:27:50.665\nyeah we may have reasons to be in here as\nwe've talked about it in prior episodes.\n\n582\n00:27:50.665 --> 00:27:54.447\nSo there's a lot of things that go on,\na lot of areas, right, that we often will\n\n583\n00:27:54.447 --> 00:27:57.617\ncome back here and refer to with\nregards to certificate services.\n\n584\n00:27:57.617 --> 00:28:02.055\nBut we're gonna go into the trusted\nroot certification authority folder,\n\n585\n00:28:02.055 --> 00:28:03.875\nwhich is gonna be right where?\n\n586\n00:28:03.875 --> 00:28:05.130\nRight there.\n\n587\n00:28:05.130 --> 00:28:07.162\nAnd you'll see it's blank and\n\n588\n00:28:07.162 --> 00:28:11.865\nit's blank because we don't have\na trusted root CA listed by default.\n\n589\n00:28:11.865 --> 00:28:14.608\nAnd remember,\nwe may not have a PKI infrastructure and\n\n590\n00:28:14.608 --> 00:28:17.180\na certificate authority\nto reference by default.\n\n591\n00:28:17.180 --> 00:28:20.072\nAs a matter of fact we don't,\nbecause we don't install one by default.\n\n592\n00:28:20.072 --> 00:28:23.504\nOut of the box you create\nan ActiveDirectory forest and a set of\n\n593\n00:28:23.504 --> 00:28:28.060\ntrees in the forest and a set of domains\nto support them and the domain controller.\n\n594\n00:28:28.060 --> 00:28:29.920\nSo there's no ADCS system anywhere.\n\n595\n00:28:29.920 --> 00:28:33.210\nYou have to install and\nconfigure that role because it is not\n\n596\n00:28:33.210 --> 00:28:36.350\na native role that's installed as\npart of the general configuration.\n\n597\n00:28:36.350 --> 00:28:39.600\nSo it would make total sense that\nwe don't have a trusted root CA\n\n598\n00:28:39.600 --> 00:28:41.010\nhere out of the box by default.\n\n599\n00:28:41.010 --> 00:28:44.243\nEspecially in the default domain policy\nbecause we would not know what to\n\n600\n00:28:44.243 --> 00:28:46.070\nreference, there isn't one.\n\n601\n00:28:46.070 --> 00:28:49.890\nSo we have to come in and\nwe have to be able to specify one.\n\n602\n00:28:49.890 --> 00:28:53.490\nAnd what we'll do, right, and again\nwe'll do this in our upcoming episode.\n\n603\n00:28:53.490 --> 00:28:56.560\nI'm just kinda previewing because I want\nyou to be thinking about the importance of\n\n604\n00:28:56.560 --> 00:29:00.120\ngroup policy because we'll be making some\nother changes and doing some other things.\n\n605\n00:29:00.120 --> 00:29:02.955\nWe're gonna import a certificate, and\nwe're gonna import the certificate we\n\n606\n00:29:02.955 --> 00:29:06.940\nself-signed and bring it in, so that way\nwe can assign it through group policy.\n\n607\n00:29:06.940 --> 00:29:10.060\nWhat I wanted to just spend time on, not\nso much hey, we're gonna go import this.\n\n608\n00:29:10.060 --> 00:29:12.250\nThat's easy,\nwe'll do that in an upcoming episode.\n\n609\n00:29:12.250 --> 00:29:14.710\nWhat I wanted to remind you\nof before we get there, and\n\n610\n00:29:14.710 --> 00:29:19.780\nkinda go back to is this idea of where we\nmake our choices about group policy and\n\n611\n00:29:19.780 --> 00:29:21.460\nwhere we apply different sentences.\n\n612\n00:29:21.460 --> 00:29:25.607\nAnd this is a theme we have come to before\nand talked about in different episodes for\n\n613\n00:29:25.607 --> 00:29:28.733\na variety of reasons,\nreinforcing hopefully for you time and\n\n614\n00:29:28.733 --> 00:29:32.240\nagain the thought process about what\nlevel we apply group policy at.\n\n615\n00:29:32.240 --> 00:29:35.360\nBecause that's a very important\ndecision we have to make.\n\n616\n00:29:35.360 --> 00:29:38.360\nWe do have a default domain policy\nout of the box as you hopefully know.\n\n617\n00:29:38.360 --> 00:29:41.686\nAnd you've seen us and\nheard us talk about it in other episodes.\n\n618\n00:29:41.686 --> 00:29:45.790\nWe do have a default domain controller's\npolicy in the domain controller's OU\n\n619\n00:29:45.790 --> 00:29:46.750\nthat is available as well.\n\n620\n00:29:48.240 --> 00:29:53.200\nThe choices we make are ultimately\ngonna decide or help us to push\n\n621\n00:29:53.200 --> 00:29:56.360\nthe boundary between success and\nfailure with regards to group policy.\n\n622\n00:29:56.360 --> 00:29:59.480\nOne of the biggest areas I spend time on\n\n623\n00:29:59.480 --> 00:30:01.580\nas a consultant helping\npeople solve problems.\n\n624\n00:30:01.580 --> 00:30:04.760\nOne of the biggest areas I get\nquestions on as a teacher,\n\n625\n00:30:04.760 --> 00:30:09.620\nas a trainer, as just somebody who knows\na little bit about certain things.\n\n626\n00:30:09.620 --> 00:30:13.250\nOne of the biggest things my customers\ncall about consistently is, hey,\n\n627\n00:30:13.250 --> 00:30:17.590\nwe created group policies,\nthey're not \"working,\" and\n\n628\n00:30:17.590 --> 00:30:19.588\nwe think we did or\ndidn't do something wrong.\n\n629\n00:30:19.588 --> 00:30:21.014\nHelp us, right?\n\n630\n00:30:21.014 --> 00:30:23.500\n&gt;&gt; Right.\n&gt;&gt; Tell us why, what's going on, right?\n\n631\n00:30:23.500 --> 00:30:27.720\nAnd essentially, hey the question is,\nwe seem to have done something that isn't\n\n632\n00:30:27.720 --> 00:30:29.300\ngiving us the output we\nthought we would get,\n\n633\n00:30:29.300 --> 00:30:32.600\nand can you help us to understand\nwhy that may be the case.\n\n634\n00:30:32.600 --> 00:30:34.630\nAnd there are usually several reasons,\nright?\n\n635\n00:30:34.630 --> 00:30:38.609\nBut more often than not, assuming we\neliminated some of the just standard\n\n636\n00:30:38.609 --> 00:30:42.972\nstuff, one of the most common mistakes\nis people set the policy options they're\n\n637\n00:30:42.972 --> 00:30:45.109\nlooking for in an incorrect location.\n\n638\n00:30:45.109 --> 00:30:45.996\n&gt;&gt; The wrong level?\n\n639\n00:30:45.996 --> 00:30:46.835\n&gt;&gt; Wrong level, right.\n\n640\n00:30:46.835 --> 00:30:47.971\nGreat way of thinking about it.\n\n641\n00:30:47.971 --> 00:30:51.855\nAnd as a result they're just not\ngetting the right output because either\n\n642\n00:30:51.855 --> 00:30:56.225\ncombinations of policies that are perhaps\nblocking or changing settings.\n\n643\n00:30:56.225 --> 00:30:57.535\nCuz settings can overlap and\n\n644\n00:30:57.535 --> 00:31:01.525\nbe overwritten based on the hierarchy\nof starting at the very top and\n\n645\n00:31:01.525 --> 00:31:04.715\nworking towards the object,\nthe way we apply policy.\n\n646\n00:31:04.715 --> 00:31:08.550\nSo, that's a potential issue,\ncuz we start at the sight level, we\n\n647\n00:31:08.550 --> 00:31:12.410\nthen go down to the domain level, then we\ngo to the OU level with regards to policy.\n\n648\n00:31:12.410 --> 00:31:13.680\nBut actually that's not 100% correct.\n\n649\n00:31:13.680 --> 00:31:17.340\nWe start at the local policy for\nevery machine as our building block and\n\n650\n00:31:17.340 --> 00:31:21.720\nthen site policies will override any\nchanges that have to be applied and\n\n651\n00:31:21.720 --> 00:31:25.490\nthen domain policies will override and\nthen OU based policies will override.\n\n652\n00:31:25.490 --> 00:31:29.338\nAnd then we have the option to nest or\nstack OUs inside of OUs and\n\n653\n00:31:29.338 --> 00:31:30.377\nwe have sub OUs.\n\n654\n00:31:30.377 --> 00:31:34.535\nWhen we have policies on those sub OUs\nwe then have to apply them in a specific\n\n655\n00:31:34.535 --> 00:31:36.740\norder and see the outcome of that.\n\n656\n00:31:36.740 --> 00:31:39.860\nAnd it's a last pass the post\nwinds kind of option.\n\n657\n00:31:39.860 --> 00:31:43.110\nThat last set of settings applied\nover writes whatever has come before.\n\n658\n00:31:43.110 --> 00:31:44.950\nAnd that's what we call\nthe effect of policy.\n\n659\n00:31:44.950 --> 00:31:46.790\nAnd so as a result,\n\n660\n00:31:46.790 --> 00:31:51.420\nwe may inadvertently apply a policy\nat an incorrect level, right?\n\n661\n00:31:51.420 --> 00:31:55.730\nAnd as a result of that, our policy\nchanges may not be applied correctly.\n\n662\n00:31:55.730 --> 00:31:58.650\nOr, we may override other\nsettings that we wanted\n\n663\n00:31:58.650 --> 00:32:01.670\ncuz we've inadvertently made changes\nin our settings at this level.\n\n664\n00:32:01.670 --> 00:32:04.300\nSo, we have to be really\ncareful about policy.\n\n665\n00:32:04.300 --> 00:32:07.380\nIt's one of the places that\nyou can make tremendous impact\n\n666\n00:32:07.380 --> 00:32:09.040\nin terms of doing really good work.\n\n667\n00:32:09.040 --> 00:32:12.290\nIt's also one of the places it's\nincredibly easy to make a mistake without\n\n668\n00:32:12.290 --> 00:32:13.390\nmeaning to.\n\n669\n00:32:13.390 --> 00:32:16.670\nAnd as a result have a negative\nimpact without realizing it until\n\n670\n00:32:16.670 --> 00:32:17.580\nsometime afterward.\n\n671\n00:32:17.580 --> 00:32:19.270\nSo just a little cautionary tale for\n\n672\n00:32:19.270 --> 00:32:21.762\nyou to wrap up our conversation\nhere in this episode.\n\n673\n00:32:21.762 --> 00:32:25.260\nWe're gonna come back and zip through how\nto actually do this in the next episode.\n\n674\n00:32:25.260 --> 00:32:28.560\nThat part is real easy, but\nI wanted you to just really pondering and\n\n675\n00:32:28.560 --> 00:32:30.960\nthinking about that as we come out\nof one episode and into another.\n\n676\n00:32:30.960 --> 00:32:33.087\nBecause it is one of those\ncritical break points for you,\n\n677\n00:32:33.087 --> 00:32:35.049\nespecially in regards to\na product like [INAUDIBLE].\n\n678\n00:32:35.049 --> 00:32:36.820\nYou get the policy settings right,\n\n679\n00:32:36.820 --> 00:32:40.100\nyou import the certificate at\nthe right level as you can see.\n\n680\n00:32:40.100 --> 00:32:44.350\nSelf signed now becomes trusted so that\nway everybody in the organization trusts\n\n681\n00:32:44.350 --> 00:32:47.609\nthat certificate and\nwill then be able to use it if necessary.\n\n682\n00:32:47.609 --> 00:32:51.108\nThat's huge because now you've made a big\nleap forward in terms of configuration,\n\n683\n00:32:51.108 --> 00:32:52.700\nin getting things done the right way.\n\n684\n00:32:52.700 --> 00:32:56.520\nIf you screw that up, it becomes\na lot of work to unwind that and\n\n685\n00:32:56.520 --> 00:32:57.920\nthen redo it to get it the right way.\n\n686\n00:32:57.920 --> 00:33:00.740\nSo just make sure you pay attention\nto that as we continue our\n\n687\n00:33:00.740 --> 00:33:02.670\nconversations in our upcoming episode.\n\n688\n00:33:02.670 --> 00:33:03.830\n&gt;&gt; Cool, and now I have enough time for\n\n689\n00:33:03.830 --> 00:33:05.577\nmy lunch appointment because\nI'm gonna be meeting.\n\n690\n00:33:05.577 --> 00:33:06.477\n&gt;&gt; You're gonna get us through lunch.\n\n691\n00:33:06.477 --> 00:33:09.682\n&gt;&gt; No I really,\nI lied I wasn't going to a dance class.\n\n692\n00:33:09.682 --> 00:33:11.460\n&gt;&gt; Shocking, absolutely.\n\n693\n00:33:11.460 --> 00:33:12.553\n&gt;&gt; I'm going to meet a publisher.\n\n694\n00:33:12.553 --> 00:33:14.693\n&gt;&gt; I am aghast that you\nwould have done that.\n\n695\n00:33:14.693 --> 00:33:15.620\nYou're going to meet a publisher.\n\n696\n00:33:15.620 --> 00:33:16.190\n&gt;&gt; Yeah.\n\n697\n00:33:16.190 --> 00:33:22.333\nAnd we're going to have your book started,\nso Adam's Book of Cautionary Tales.\n\n698\n00:33:22.333 --> 00:33:23.375\nThat's what we're gonna do.\n\n699\n00:33:23.375 --> 00:33:24.860\n&gt;&gt; Awesome.\n\n700\n00:33:24.860 --> 00:33:26.910\n&gt;&gt; [LAUGH] But thank you for\nthe good advice.\n\n701\n00:33:26.910 --> 00:33:28.570\nAll kidding aside, thank you for that.\n\n702\n00:33:28.570 --> 00:33:29.890\nBut thank you for joining us as well.\n\n703\n00:33:29.890 --> 00:33:32.920\nYou definitely want to come and\ncheck out the next show so\n\n704\n00:33:32.920 --> 00:33:34.950\nwe can see where we go from here.\n\n705\n00:33:34.950 --> 00:33:36.230\nFor this show we'll go ahead and sign out.\n\n706\n00:33:36.230 --> 00:33:38.200\nI've been your host Cherokee Boose.\n\n707\n00:33:38.200 --> 00:33:39.610\n&gt;&gt; I'm Adam Gordon.\n\n708\n00:33:39.610 --> 00:33:43.216\n&gt;&gt; See you next time.\n\n709\n00:33:43.216 --> 00:33:48.156\n[MUSIC]\n\n710\n00:33:48.156 --> 00:33:51.588\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "235069280"
        },
        {
          "description": "In this episode, Cherokee and Adam pick up on the prior show demonstration. First he imports the self signed certificate that was created in the previous show. Next, Adam explains computer groups and demonstrates how to create them. He also shows how to approve updates.",
          "length": "2364",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-4-implement_server_patching_and_updating_pt4-092217-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-4-implement_server_patching_and_updating_pt4-092217-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-4-implement_server_patching_and_updating_pt4-092217-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "Implement Server Patching and Updating Part 4",
          "transcript": "",
          "vimeoId": "243351172"
        },
        {
          "description": "In this episode, Adam and Cherokee continue discussing WSUS. They Complete the WSUS configuration and show how to implement client-side targeting. In addition Adam demonstrates how to set up and generate reports. Lastly, Adam shows a couple of tools that can be used for troubleshooting.",
          "length": "1492",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-5-implement_server_patching_and_updating_pt5-092217-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-5-implement_server_patching_and_updating_pt5-092217-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-15-1-5-implement_server_patching_and_updating_pt5-092217-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "Implement Server Patching and Updating Part 5",
          "transcript": "",
          "vimeoId": "243351693"
        }
      ],
      "title": "Implement Server Patching and Updating"
    },
    {
      "episodes": [
        {
          "description": "",
          "length": "1777",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-1-secure_network_traffic-100317.00_29_21_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-1-secure_network_traffic-100317.00_29_21_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-1-secure_network_traffic-100317.00_29_21_15.Still001-sm.jpg",
          "title": "Secure Network Traffic",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.190\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.190 --> 00:00:05.713\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Coming at you live from San Francisco,\n\n3\n00:00:05.713 --> 00:00:06.465\nCalifornia.\n\n4\n00:00:06.465 --> 00:00:08.307\n[MUSIC]\n\n5\n00:00:08.307 --> 00:00:12.427\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.427 --> 00:00:16.185\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n7\n00:00:16.185 --> 00:00:18.387\nI'm your host Mike Rodrick and today,\n\n8\n00:00:18.387 --> 00:00:24.060\nwe're doing our secure Windows Server\n2016, preparation for that 70-744 exam.\n\n9\n00:00:24.060 --> 00:00:24.790\nAnd in this episode,\n\n10\n00:00:24.790 --> 00:00:28.460\nwe're going to be looking at how we\ncan go about securing network traffic.\n\n11\n00:00:28.460 --> 00:00:30.590\nHere to show us the way,\nis Mr. Adam Gordon.\n\n12\n00:00:30.590 --> 00:00:31.480\nWelcome Adam.\n\n13\n00:00:31.480 --> 00:00:32.920\n&gt;&gt; Hello, hello, hello.\n\n14\n00:00:32.920 --> 00:00:37.010\nSo securing network traffic, or secure\nnetwork traffic as Microsoft calls it\n\n15\n00:00:37.010 --> 00:00:40.380\nin their exam objective cuz they're\nnot grammatically sensitive and\n\n16\n00:00:40.380 --> 00:00:42.010\nthey don't worry about syntax in text.\n\n17\n00:00:42.010 --> 00:00:45.170\nBut securing or secure network traffic,\nso what are we talking about?\n\n18\n00:00:45.170 --> 00:00:48.840\nWe're talking about technologies like,\nmost likely IPsec, you've heard me and\n\n19\n00:00:48.840 --> 00:00:52.160\nMike talk about this in some of\nour prior episodes on firewalls.\n\n20\n00:00:52.160 --> 00:00:54.888\nIf you haven't seen that,\nencourage you to go back, take a look.\n\n21\n00:00:54.888 --> 00:00:58.886\nWe actually demo'ed how to set up part\nof the IPsec solution in the firewall\n\n22\n00:00:58.886 --> 00:00:59.525\nepisodes.\n\n23\n00:00:59.525 --> 00:01:02.300\nWe'll go back through,\ntake a quick look at some of that.\n\n24\n00:01:02.300 --> 00:01:06.833\nBut we're thinking IPsec, we may be\nthinking the use of the ability to be able\n\n25\n00:01:06.833 --> 00:01:10.274\nto go through and in general,\napply encryption, right?\n\n26\n00:01:10.274 --> 00:01:13.840\nSo certainly as a general catch all,\nwe'd be thinking about that.\n\n27\n00:01:13.840 --> 00:01:15.730\nMaybe looking at things like DNS.\n\n28\n00:01:15.730 --> 00:01:19.130\nPeople don't often think about\nDNS as being a focal point for\n\n29\n00:01:19.130 --> 00:01:22.060\nnetwork security with\nregards to traffic security.\n\n30\n00:01:22.060 --> 00:01:24.970\nThink about it from a network management,\n\n31\n00:01:24.970 --> 00:01:27.730\nname resolution,\ninformation management perspective.\n\n32\n00:01:27.730 --> 00:01:31.290\nBut it's not at the top of most people's\nlist, but it is really important.\n\n33\n00:01:31.290 --> 00:01:34.306\n&gt;&gt; Yeah, I can't wait to talk about that\nstuff cuz it's really good information.\n\n34\n00:01:34.306 --> 00:01:35.895\n&gt;&gt; Should we talk about it now?\n\n35\n00:01:35.895 --> 00:01:37.020\n&gt;&gt; No, let's start with IPsec.\n\n36\n00:01:37.020 --> 00:01:38.240\nIPsec is still a great [INAUDIBLE].\n\n37\n00:01:38.240 --> 00:01:40.147\n&gt;&gt; DNSsec, no, no IPsec first.\n\n38\n00:01:40.147 --> 00:01:41.210\n&gt;&gt; Well, if we go alphabetically.\n\n39\n00:01:41.210 --> 00:01:42.400\n&gt;&gt; Then it would be DNSsec and then IPsec.\n\n40\n00:01:42.400 --> 00:01:43.070\n&gt;&gt; That is true.\n\n41\n00:01:43.070 --> 00:01:44.790\n&gt;&gt; But we'll do IPsec first, that's fine.\n\n42\n00:01:44.790 --> 00:01:47.872\nMike was real excited about IPsec when I\nsaid before we got started when I said hey\n\n43\n00:01:47.872 --> 00:01:49.025\nIPsec you're good, right?\n\n44\n00:01:49.025 --> 00:01:50.827\nMike's like, I know it all man,\nwe're ready.\n\n45\n00:01:50.827 --> 00:01:52.550\nI want to talk about IPsec, bring it on.\n\n46\n00:01:52.550 --> 00:01:53.400\n&gt;&gt; Did I say all?\n\n47\n00:01:53.400 --> 00:01:56.583\n&gt;&gt; Well, we're going to find out right\nnow, in just a minute if you did or not.\n\n48\n00:01:56.583 --> 00:02:00.393\nBut we do have DNS, DNSsec,\nspecifically, rate limiting,\n\n49\n00:02:00.393 --> 00:02:04.426\nthere's a lot of different cool stuff and\nfeature socket pools,\n\n50\n00:02:04.426 --> 00:02:07.452\na lot of stuff we can do\nin DNS to tweak and modify.\n\n51\n00:02:07.452 --> 00:02:10.495\nSome through PowerShell generically,\nsome through the GUI, we'll talk about,\n\n52\n00:02:10.495 --> 00:02:12.095\ntake a look at some of those things.\n\n53\n00:02:12.095 --> 00:02:16.020\nBut really tightening up our name\nresolution infrastructure to provide\n\n54\n00:02:16.020 --> 00:02:17.900\nname resolution security,\n\n55\n00:02:17.900 --> 00:02:20.640\nbut more broadly provide network security\nwith regards to traffic management.\n\n56\n00:02:20.640 --> 00:02:22.530\nIt's gonna be an important\naspect of what we do.\n\n57\n00:02:22.530 --> 00:02:26.122\nSomething, although it's really kind\nof way wacky, out off in the corner,\n\n58\n00:02:26.122 --> 00:02:29.233\ncrazy stuff that nobody would even\nthink about or consider, SMB.\n\n59\n00:02:29.233 --> 00:02:32.622\nUsed to secure SMB, to be able to\nmake sure that we're transmitting and\n\n60\n00:02:32.622 --> 00:02:36.360\nsending receiving traffic In more than\none way in securing it while we do that.\n\n61\n00:02:36.360 --> 00:02:40.160\nSo the use of enhanced protocols that\nhave new features or functionality, or\n\n62\n00:02:40.160 --> 00:02:44.050\nhave been updated, or\nupgraded in the 2016 environment.\n\n63\n00:02:44.050 --> 00:02:47.966\nIn general, it's a theme for this set\nof episodes with these conversations.\n\n64\n00:02:47.966 --> 00:02:50.960\nSo that's really just kinda laying down\nsome of the foundational groundwork.\n\n65\n00:02:50.960 --> 00:02:53.100\nSo IPsec, so\nlet's talk about IPsec a little bit.\n\n66\n00:02:53.100 --> 00:02:54.160\nSo what is it?\n\n67\n00:02:54.160 --> 00:02:54.790\nWhat does it do?\n\n68\n00:02:54.790 --> 00:02:56.855\nWe always try to start out by kind\nof giving it a high level, right?\n\n69\n00:02:56.855 --> 00:02:59.140\nSo what would we describe IPsec as?\n\n70\n00:02:59.140 --> 00:03:01.110\n&gt;&gt; Well, we'd have to break\ndown the acronym first, right?\n\n71\n00:03:01.110 --> 00:03:03.720\nIPsec, being Internet Protocol Security.\n\n72\n00:03:03.720 --> 00:03:08.220\nAnd it is a way to, as you were saying,\nencrypt that network traffic.\n\n73\n00:03:08.220 --> 00:03:10.290\nAnd it's interesting-\n&gt;&gt; Just encrypt?\n\n74\n00:03:10.290 --> 00:03:13.260\n&gt;&gt; Not necessarily, we can encrypt,\nor authenticate or both.\n\n75\n00:03:13.260 --> 00:03:14.070\n&gt;&gt; Exactly, we can do both.\n\n76\n00:03:14.070 --> 00:03:15.179\n&gt;&gt; Provide some integrity.\n\n77\n00:03:15.179 --> 00:03:18.415\nBut I like the way we've put this near or\nwith the firewall,\n\n78\n00:03:18.415 --> 00:03:21.808\nbecause it's one of those things,\nthey kind of go together.\n\n79\n00:03:21.808 --> 00:03:24.360\nWe use that firewall,\nas we've learned from Adam,\n\n80\n00:03:24.360 --> 00:03:28.250\nto control the traffic that's\ncoming in and out of our network.\n\n81\n00:03:28.250 --> 00:03:31.140\nWhich gives us some security in that\nrespect cuz we can block traffic we don't\n\n82\n00:03:31.140 --> 00:03:33.460\nwant, allow traffic we do want.\n\n83\n00:03:33.460 --> 00:03:36.991\nBut what it doesn't do is\nprotect the traffic itself.\n\n84\n00:03:36.991 --> 00:03:39.979\nWhereas IPsec allows me to get down and\ndirty and\n\n85\n00:03:39.979 --> 00:03:44.853\nactually protect the data that we need,\nbut we've got to use them together.\n\n86\n00:03:44.853 --> 00:03:49.137\nBy creating IPsec rule, that says hey,\nencrypt all port 80 traffic,\n\n87\n00:03:49.137 --> 00:03:53.931\nthat's probably not the best example,\nbut encrypt port such and such traffic.\n\n88\n00:03:53.931 --> 00:03:56.888\nBut I don't make an exception in\nthe firewall for that particular port,\n\n89\n00:03:56.888 --> 00:03:59.955\ntraffic's never going to get through\neven though I've said to secure it.\n\n90\n00:03:59.955 --> 00:04:02.212\nSo we do end up using these tool together,\n\n91\n00:04:02.212 --> 00:04:05.660\nso I like the fact that Microsoft\nkinda combine those consoles,\n\n92\n00:04:05.660 --> 00:04:08.930\ngiving us the Windows firewall with\nadvanced security recognition.\n\n93\n00:04:08.930 --> 00:04:12.600\nLook at my inbound, my outbound rules,\nmy connection security rules and\n\n94\n00:04:12.600 --> 00:04:16.440\nmy IPsec negotiations and\nall that in one place.\n\n95\n00:04:16.440 --> 00:04:19.225\n&gt;&gt; So we do have the ability to do it\nthrough the firewalls you suggested.\n\n96\n00:04:19.225 --> 00:04:23.299\nNow, we can think of it in different ways\nbecause we have in theory what we would\n\n97\n00:04:23.299 --> 00:04:26.345\nrefer to as two isolation modes or\nways we can apply IPsec.\n\n98\n00:04:26.345 --> 00:04:29.465\nWe call them isolation modes,\nbut two ways we can apply IPsec.\n\n99\n00:04:29.465 --> 00:04:32.900\nWe can think of these as\nbeing a server mode or\n\n100\n00:04:32.900 --> 00:04:36.680\ngenerically server isolation process,\nlocal on the machine,\n\n101\n00:04:36.680 --> 00:04:40.240\ngroup policy based application,\nmaybe through local group policy.\n\n102\n00:04:40.240 --> 00:04:44.280\nSo we can configure specific\nservice to acquire IPsec policies.\n\n103\n00:04:44.280 --> 00:04:46.770\nAs a result of that,\nwe could do that through group\n\n104\n00:04:46.770 --> 00:04:50.170\npolicies on the domain level, certainly,\nand provide that as guidance overall.\n\n105\n00:04:50.170 --> 00:04:52.740\nBut what we could also do\nis called domain isolation.\n\n106\n00:04:52.740 --> 00:04:55.320\nWe use domain membership to ensure,\n\n107\n00:04:55.320 --> 00:04:58.390\nwe talked about this a little bit in\nthe firewall episode, where we saw that\n\n108\n00:04:58.390 --> 00:05:02.600\nwe could pivot on different firewall\nrules, and create custom rules for\n\n109\n00:05:02.600 --> 00:05:06.550\nconnection security, one of the categories\nthat you mentioned, specific to IPsec.\n\n110\n00:05:06.550 --> 00:05:09.990\nAnd we could do this based on\ndomain membership, health status,\n\n111\n00:05:09.990 --> 00:05:13.440\nremember we talked about the network\nhealth, service, the health protection\n\n112\n00:05:13.440 --> 00:05:16.440\nstatus, certificates, all sorts of\ndifferent things we talked about.\n\n113\n00:05:16.440 --> 00:05:19.720\nBut we could use ADDS membership\nas a way to do this and so\n\n114\n00:05:19.720 --> 00:05:22.980\nwe could say either domain isolation,\nor server isolation.\n\n115\n00:05:22.980 --> 00:05:25.460\nWould be the two ways that we\ncould protect the network or\n\n116\n00:05:25.460 --> 00:05:28.800\nat least we think about seeing\nIPsec potentially being deployed.\n\n117\n00:05:28.800 --> 00:05:31.620\nThese are the categories\nin other words that\n\n118\n00:05:31.620 --> 00:05:34.380\nMicrosoft speaks about with\nregards as to how we see IPsec.\n\n119\n00:05:34.380 --> 00:05:36.930\nNow you mention a bunch of\ndifferent scenarios, right?\n\n120\n00:05:36.930 --> 00:05:39.880\nOf just things we would traditionally\nenvision in our minds that\n\n121\n00:05:39.880 --> 00:05:40.790\nIPsec could be good for.\n\n122\n00:05:40.790 --> 00:05:43.971\nSo server to server communication,\ngenerically,\n\n123\n00:05:43.971 --> 00:05:48.830\nserver to gateway communication, on theory\nto a router, or perhaps router a router.\n\n124\n00:05:48.830 --> 00:05:50.220\nWe would call that gateway to gateway, or\n\n125\n00:05:50.220 --> 00:05:53.740\nendpoint to endpoint on the WAN,\nso we could think of it there.\n\n126\n00:05:53.740 --> 00:05:57.420\nSo securing traffic to and\nfrom end points, between gateways.\n\n127\n00:05:57.420 --> 00:06:00.200\nWe can think of it just\nin general as being\n\n128\n00:06:00.200 --> 00:06:04.560\na good overall thought process to provide\nconfidentiality, and/or authentication and\n\n129\n00:06:04.560 --> 00:06:06.530\nintegrity protections end to end.\n\n130\n00:06:06.530 --> 00:06:10.768\nIt's never a bad reason or\na bad time to deploy IPsec, despite and\n\n131\n00:06:10.768 --> 00:06:15.700\nwe talked about this as well, the urban\nmyths and legends around impact of,\n\n132\n00:06:15.700 --> 00:06:19.342\nthe use of,\nsomething like an encryption capability.\n\n133\n00:06:19.342 --> 00:06:23.430\nWe would call IPsec generically and\nencryption capability to secure traffic.\n\n134\n00:06:23.430 --> 00:06:24.990\nBecause again,\nwe talked about the fact that we\n\n135\n00:06:24.990 --> 00:06:28.220\nare providing a little bit of overhead for\nprocessing of the information.\n\n136\n00:06:28.220 --> 00:06:32.300\nI would be less concerned about that\nthan I would be about operating system\n\n137\n00:06:32.300 --> 00:06:36.520\ncompatibility and the use of IPsec\nbetween and among systems that may or\n\n138\n00:06:36.520 --> 00:06:39.290\nmay not support it and\ngetting the settings right.\n\n139\n00:06:39.290 --> 00:06:40.830\nYou didn't really hit on the fact.\n\n140\n00:06:40.830 --> 00:06:44.899\nAnd we rightly so, haven't talked about\nit yet, but you know the idea behind,\n\n141\n00:06:44.899 --> 00:06:47.330\nwe talked about this in\nthe firewall episodes,\n\n142\n00:06:47.330 --> 00:06:51.305\nbetween require versus request or\noptional essentially versus mandatory.\n\n143\n00:06:51.305 --> 00:06:53.103\nYou can think of a lot of different ways.\n\n144\n00:06:53.103 --> 00:06:54.880\nWe can encourage the use of IPsec,\n\n145\n00:06:54.880 --> 00:06:58.780\nbut still allow connectivity if it\nis not supported on the other side.\n\n146\n00:06:58.780 --> 00:07:02.220\nWe can mandate or require it and\nsay we're not gonna talk to you if\n\n147\n00:07:02.220 --> 00:07:05.510\nyou don't support it and\ncannot implement the use of IPsec.\n\n148\n00:07:05.510 --> 00:07:08.050\nAnd if we do this for\nthe right reasons, but\n\n149\n00:07:08.050 --> 00:07:11.152\nthe wrong way, and we have mixed\nenvironments with clients that may not\n\n150\n00:07:11.152 --> 00:07:14.040\nsupport it because of\na backwards compatibility issue.\n\n151\n00:07:14.040 --> 00:07:18.475\nI'm thinking like Windows XP,\nolder versions of OS's or\n\n152\n00:07:18.475 --> 00:07:24.765\nnon-Microsoft specific OS's, Linux,\nUnix, the Mac OS, whatever it may be.\n\n153\n00:07:24.765 --> 00:07:28.490\nThat may implement IPsec, but\nmaybe not implement it the same way\n\n154\n00:07:28.490 --> 00:07:30.690\nbecause there are variations\namong vendors.\n\n155\n00:07:30.690 --> 00:07:34.550\nAnd as a result, we may not support it,\nalthough IPsec is a fairly standardized\n\n156\n00:07:34.550 --> 00:07:37.240\nthought process, but\nthere could be enough difference.\n\n157\n00:07:37.240 --> 00:07:38.850\nThe difference between, for instance,\n\n158\n00:07:38.850 --> 00:07:43.100\nthe standard use of CHAP and then\nthe Microsoft specific MS CHAP, MS CHAPv2,\n\n159\n00:07:43.100 --> 00:07:48.115\nwhich are actually moving away from that\nin the virtualization in cloud stacks.\n\n160\n00:07:48.115 --> 00:07:50.993\nBut in general,\nthere are enough slight differences.\n\n161\n00:07:50.993 --> 00:07:54.153\nKerberos is another great example,\nwhere Microsoft just tweaked and\n\n162\n00:07:54.153 --> 00:07:56.938\nimplemented Kerberos to make it\nunique to our environment and\n\n163\n00:07:56.938 --> 00:07:59.253\nit's not the industry\nstandard implementation.\n\n164\n00:07:59.253 --> 00:08:02.695\nSo sometimes you run into slight\nvariations in Linux Unix realms,\n\n165\n00:08:02.695 --> 00:08:04.173\nthe equivalent of a domain.\n\n166\n00:08:04.173 --> 00:08:08.073\nIn a Linux, Unix environment and\nmixing and matching some of those things.\n\n167\n00:08:08.073 --> 00:08:09.300\nSome work better than others.\n\n168\n00:08:09.300 --> 00:08:12.330\n&gt;&gt; Did you say Microsoft not\nfollow a standard, exactly?\n\n169\n00:08:12.330 --> 00:08:14.220\n&gt;&gt; Shocking.\n&gt;&gt; That just can't be, can it?\n\n170\n00:08:14.220 --> 00:08:15.020\n&gt;&gt; Scandalous.\n\n171\n00:08:15.020 --> 00:08:18.780\nI should be taken out and flogged for\nmaking such statements in public.\n\n172\n00:08:18.780 --> 00:08:20.471\nBut whatever it maybe,\nthey are getting better.\n\n173\n00:08:20.471 --> 00:08:23.330\nWe do kid around, but\nwe also have to be fair.\n\n174\n00:08:23.330 --> 00:08:26.580\nThey are getting ever since the open\nsource initiative, that whole thing.\n\n175\n00:08:26.580 --> 00:08:29.400\nThey've really gotten a lot\nbetter at many of those things.\n\n176\n00:08:29.400 --> 00:08:32.548\nI think that breath of fresh air and\nchange at the top when Mr.\n\n177\n00:08:32.548 --> 00:08:36.897\nBallmer decided to leave and go pursue a\nsports career or whatever he's doing now.\n\n178\n00:08:36.897 --> 00:08:42.078\nIt opened up, really,\nunder Nedella's leadership,\n\n179\n00:08:42.078 --> 00:08:47.160\nnow, it really has opened up\na change in so many areas.\n\n180\n00:08:47.160 --> 00:08:50.480\nIn the product stack, in the thought\nprocess about partnering, there's so\n\n181\n00:08:50.480 --> 00:08:52.880\nmany things that have really become so\n\n182\n00:08:52.880 --> 00:08:55.960\nmuch easier, I mean just putting\nall the stuff out there.\n\n183\n00:08:55.960 --> 00:08:58.760\n&gt;&gt; It's nice when everybody\nplays along together, isn't it?\n\n184\n00:08:58.760 --> 00:09:02.094\n&gt;&gt; It's just nice when you're that big and\nthat powerful in an industry,\n\n185\n00:09:02.094 --> 00:09:04.217\nthat you decide it's important to partner.\n\n186\n00:09:04.217 --> 00:09:07.570\nAs opposed to deciding it's important\nto be a petulant five year old off in\n\n187\n00:09:07.570 --> 00:09:11.200\na corner somewhere, stamping your feet and\nsaying it's my way or no way.\n\n188\n00:09:11.200 --> 00:09:12.900\nAnd I'm not bitter by the way, at all.\n\n189\n00:09:12.900 --> 00:09:14.300\nI'm absolutely not.\n\n190\n00:09:14.300 --> 00:09:19.538\nBeing a long term IT professional\nas you are, as many of you are,\n\n191\n00:09:19.538 --> 00:09:24.873\nin this industry, seeing just\nthe successes but also the glaring\n\n192\n00:09:24.873 --> 00:09:31.184\nridiculousness that occurs around things\nthat could be done so much easier.\n\n193\n00:09:31.184 --> 00:09:34.004\nThat make our lives in the field,\nas we do this professionally harder,\n\n194\n00:09:34.004 --> 00:09:36.500\nbecause let's be honest,\nthat's really what it is, right?\n\n195\n00:09:36.500 --> 00:09:39.250\nI mean there's a thousand\nways to do something but\n\n196\n00:09:39.250 --> 00:09:42.980\nthe fact that we didn't have a command\nline script environment until\n\n197\n00:09:42.980 --> 00:09:45.750\nrelatively recently that\nwas robust enough to\n\n198\n00:09:45.750 --> 00:09:49.200\nreally actually be called something that\nwould be an enterprise grade capability.\n\n199\n00:09:49.200 --> 00:09:53.530\nAnd the fact that as many companies are,\nsome companies are great an innovating and\n\n200\n00:09:53.530 --> 00:09:55.900\ngetting quick to market,\nothers not so much.\n\n201\n00:09:55.900 --> 00:09:58.430\nAnd some things you do quickly,\nothers you don't.\n\n202\n00:09:58.430 --> 00:10:00.790\nHopefully, if you do it wrong you\nback up and you get it right.\n\n203\n00:10:00.790 --> 00:10:02.937\nAnd I think we're seeing\na lot more of that over time,\n\n204\n00:10:02.937 --> 00:10:06.380\nthat Microsoft's not only getting quicker\nto acknowledge and to implement change,\n\n205\n00:10:06.380 --> 00:10:08.795\nbut they're also getting it\nright quicker out of the gate.\n\n206\n00:10:08.795 --> 00:10:12.259\nAnd as a result, our products are getting\nbetter and our ability, as IT\n\n207\n00:10:12.259 --> 00:10:16.363\nprofessionals and script professionals,\nto do our jobs, is becoming more focused\n\n208\n00:10:16.363 --> 00:10:20.340\non success and not firefighting to be\nable to stop failure before it occurs.\n\n209\n00:10:20.340 --> 00:10:25.190\nSo you know that's I just think at least\nright now it's state of where we are and\n\n210\n00:10:25.190 --> 00:10:26.945\nit gets better, hopefully that continues.\n\n211\n00:10:26.945 --> 00:10:28.270\n&gt;&gt; So I derailed us there.\n\n212\n00:10:28.270 --> 00:10:28.883\nI got us off topic.\n\n213\n00:10:28.883 --> 00:10:30.051\n&gt;&gt; You did, it's your fault.\n\n214\n00:10:30.051 --> 00:10:31.650\nWe're charging you for that one.\n\n215\n00:10:31.650 --> 00:10:33.198\n&gt;&gt; I'll take that, but back to IPsec.\n\n216\n00:10:33.198 --> 00:10:36.320\n&gt;&gt; So we were talking about some business\ncases, just general usage scenarios.\n\n217\n00:10:36.320 --> 00:10:38.230\nI said things like server to server,\n\n218\n00:10:38.230 --> 00:10:42.030\nsecuring traffic,\nusing the L2TP with IPsec.\n\n219\n00:10:42.030 --> 00:10:46.318\nCan't forget about that probably, the\nthing that really made IPsec famous was\n\n220\n00:10:46.318 --> 00:10:48.430\nthis idea of having to link it to L2TP.\n\n221\n00:10:48.430 --> 00:10:52.252\nBecause L2TP on it's own,\nL2TP, Layer 2, L2, TP,\n\n222\n00:10:52.252 --> 00:10:57.088\ntunneling protocol, L2TP is one of\nthe standard protocol solutions for\n\n223\n00:10:57.088 --> 00:11:01.070\nVPN secure tunneling connectivity,\nbut it's not secure.\n\n224\n00:11:01.070 --> 00:11:02.540\nThat's what people often forget.\n\n225\n00:11:02.540 --> 00:11:05.200\nIt is a tunneling protocol,\nit does create VPNs, but\n\n226\n00:11:05.200 --> 00:11:08.860\nit doesn't create secure ones out of\nthe box by default, or by design.\n\n227\n00:11:08.860 --> 00:11:11.170\nPeople often say, yeah, you just\ndidn't implement it the right way.\n\n228\n00:11:11.170 --> 00:11:14.930\nWell, no, I implemented it the right way,\nit's just not gonna have security because\n\n229\n00:11:14.930 --> 00:11:19.230\nL2TP doesn't support natively encryption,\nor authentication, or\n\n230\n00:11:19.230 --> 00:11:22.320\nthe ability to do integrity or\nnot repudiation or proof of origin.\n\n231\n00:11:22.320 --> 00:11:23.350\nAll it does is create a tunnel.\n\n232\n00:11:23.350 --> 00:11:26.650\nIt does that very well, but\nit doesn't do anything else.\n\n233\n00:11:26.650 --> 00:11:30.540\nThat's why you never see L2TP by itself,\nyou always see and hear and\n\n234\n00:11:30.540 --> 00:11:33.140\nhopefully implement L2TP with IPsec.\n\n235\n00:11:33.140 --> 00:11:36.149\nCuz, the IPsec piece, as Mike pointed out,\n\n236\n00:11:36.149 --> 00:11:40.890\nIP security, Internet protocol security,\nLayer 3 security.\n\n237\n00:11:40.890 --> 00:11:44.367\nWe call it, actually, Layer 2 and a half,\nif you think about L2TP with IPsec.\n\n238\n00:11:44.367 --> 00:11:49.197\nBecause it straddles Layer 2 and Layer 3\nbecause of the use of the L2TP portion and\n\n239\n00:11:49.197 --> 00:11:52.980\nthe IPsec portion sitting above\nlooking at the IP traffic.\n\n240\n00:11:52.980 --> 00:11:58.330\nBut the reality is, we're talking about\nimplementing a solution that overlays\n\n241\n00:11:58.330 --> 00:12:03.600\nboth confidentiality, as you talked about,\nand/or the authentication integrity.\n\n242\n00:12:03.600 --> 00:12:06.838\nAnd indeed, in theory more often than not,\nboth all together.\n\n243\n00:12:06.838 --> 00:12:09.725\nSo it is important for\nus to acknowledge that, be aware of that.\n\n244\n00:12:09.725 --> 00:12:12.435\nSecured communication between and\namong domain members and\n\n245\n00:12:12.435 --> 00:12:13.425\nindependent controllers.\n\n246\n00:12:13.425 --> 00:12:16.415\nGood example of this, but again,\npeople often get this wrong.\n\n247\n00:12:16.415 --> 00:12:20.505\nI should not encrypt my traffic if\nit's behind my firewall on my LAN,\n\n248\n00:12:20.505 --> 00:12:23.625\nthat's way too much trouble,\nway too much effort and I don't need to\n\n249\n00:12:23.625 --> 00:12:26.535\nsecure that traffic between domain\nmembers and domain controllers.\n\n250\n00:12:26.535 --> 00:12:27.415\nWho's going to snoop?\n\n251\n00:12:27.415 --> 00:12:28.535\nWho's going to listen to that traffic?\n\n252\n00:12:28.535 --> 00:12:31.160\n&gt;&gt; No bad guys are on\nthe inside of my network.\n\n253\n00:12:31.160 --> 00:12:36.880\n&gt;&gt; No, cuz not one of the single highest\nclimbing, quickest growth categories for\n\n254\n00:12:36.880 --> 00:12:40.980\nintrusions and malfeasance in our midst,\nis not insider attacks, right?\n\n255\n00:12:40.980 --> 00:12:44.270\nJust don't look at any of the studies\ndone over the last ten years, and\n\n256\n00:12:44.270 --> 00:12:45.910\ndon't draw that conclusion.\n\n257\n00:12:45.910 --> 00:12:48.450\nBut we'll talk about,\nwe haven't talked about yet, but\n\n258\n00:12:48.450 --> 00:12:52.520\nMicrosoft's revamped network monitor\ncalled Message Analyzer, the MMA product.\n\n259\n00:12:52.520 --> 00:12:55.588\nThat's a great example of a product,\nso is Wireshark or\n\n260\n00:12:55.588 --> 00:12:59.130\nEthereal, if you're kind of old school,\nyou remember it from those days.\n\n261\n00:12:59.130 --> 00:13:00.500\nI used to like it better\nwhen it was Ethereal.\n\n262\n00:13:00.500 --> 00:13:02.030\nNot because it was any better or worse,\n\n263\n00:13:02.030 --> 00:13:04.950\njust I thought it was\na better name than Wireshark.\n\n264\n00:13:04.950 --> 00:13:07.416\nNetwork chemistry is\na sniffer that I use a lot,\n\n265\n00:13:07.416 --> 00:13:10.095\nyou've seen me use\nsometimes in other shows.\n\n266\n00:13:10.095 --> 00:13:12.225\nAny of these network monitoring products,\nright?\n\n267\n00:13:12.225 --> 00:13:15.015\nAll of them can be deployed by a bad actor\n\n268\n00:13:15.015 --> 00:13:17.745\non a local endpoint inside your\nnetwork if you're not monitoring for\n\n269\n00:13:17.745 --> 00:13:20.577\nthis kind of traffic management,\nand seeing it going on.\n\n270\n00:13:20.577 --> 00:13:22.627\nThey're gonna grab every\npacket off the wire.\n\n271\n00:13:22.627 --> 00:13:25.777\nSo one of the places I\nwould a 1000% stand on and\n\n272\n00:13:25.777 --> 00:13:29.097\nrecommend you think about encrypting\ntraffic is behind the firewall.\n\n273\n00:13:29.097 --> 00:13:32.487\nCuz this is where the bulk of\nthe information is going, sending and\n\n274\n00:13:32.487 --> 00:13:33.837\nreceiving between these end points.\n\n275\n00:13:33.837 --> 00:13:37.930\nIf you're not protecting that, forget\nabout what goes out beyond the firewall.\n\n276\n00:13:37.930 --> 00:13:39.400\nThat is bad and\nyou have to worry about that.\n\n277\n00:13:39.400 --> 00:13:43.774\nBut that is nothing compared to what we\nsee on the inside of networks that could\n\n278\n00:13:43.774 --> 00:13:45.337\ngive away all the secrets.\n\n279\n00:13:45.337 --> 00:13:46.027\n&gt;&gt; Absolutely.\n&gt;&gt; Just everything, so we have got to\n\n280\n00:13:46.027 --> 00:13:47.063\nthink about this.\n&gt;&gt; As you said,\n\n281\n00:13:47.063 --> 00:13:49.983\nwe don't face the performance\nhits that we used to.\n\n282\n00:13:49.983 --> 00:13:51.253\nWe've got processors,\n\n283\n00:13:51.253 --> 00:13:55.496\nwe've got network adapters that can handle\nthe overhead of doing the encryption.\n\n284\n00:13:55.496 --> 00:13:59.725\nSo we really don't have a good reason not\nto other than we don't want to set it up?\n\n285\n00:13:59.725 --> 00:14:04.170\n&gt;&gt; Well, not when I say ignorance\nof the ability to do so,\n\n286\n00:14:04.170 --> 00:14:07.040\nignorance of understanding how to do\nit not because that's a negative.\n\n287\n00:14:07.040 --> 00:14:09.570\nBut just because I think people just\ntraditionally don't always stop and\n\n288\n00:14:09.570 --> 00:14:12.950\nthink about all the places where\nsecurity would be important.\n\n289\n00:14:12.950 --> 00:14:15.488\nWe were have a little bit of this\nconversation between a couple of\n\n290\n00:14:15.488 --> 00:14:18.590\nthe episodes where we were talking about\nthe fact that a lot of times security is\n\n291\n00:14:18.590 --> 00:14:21.044\nbolted on after the fact,\nnot brought in from the beginning.\n\n292\n00:14:21.044 --> 00:14:25.127\nAnd if you're thinking about what are all\nthe steps involved, what are the places,\n\n293\n00:14:25.127 --> 00:14:28.420\nwhere can I impact, what can I do,\nI think it makes a lot more sense.\n\n294\n00:14:28.420 --> 00:14:33.660\nSo for example, would you think of\nusing IPsec to secure wireless traffic?\n\n295\n00:14:33.660 --> 00:14:36.330\n&gt;&gt; No, because I would think, hey,\nit's already encrypted, right?\n\n296\n00:14:36.330 --> 00:14:37.380\n&gt;&gt; Well, it depends, right?\n\n297\n00:14:37.380 --> 00:14:38.150\nHow do you set it up?\n\n298\n00:14:38.150 --> 00:14:40.860\nLet's say someone makes\na choice to use WEP even though\n\n299\n00:14:40.860 --> 00:14:44.670\nwe keep telling them not to, and all the\nvendors still put it in their interfaces.\n\n300\n00:14:44.670 --> 00:14:46.380\nSo in theory you can still select it,\nright?\n\n301\n00:14:46.380 --> 00:14:48.780\nSo what about protecting\ntraffic over wireless networks?\n\n302\n00:14:48.780 --> 00:14:51.750\nIf you're setting up encryption,\nbut maybe the encryption is weak.\n\n303\n00:14:51.750 --> 00:14:54.520\nNot that you would use WEP, let's hope\nyou know better, and I'm sure you all do.\n\n304\n00:14:54.520 --> 00:14:58.320\nBut in theory, somebody who doesn't know,\nmaybe says, or somebody sets it up and\n\n305\n00:14:58.320 --> 00:14:59.310\nthey don't realize, or\n\n306\n00:14:59.310 --> 00:15:01.520\nit's been set up forever and\nnobody went back and changed it.\n\n307\n00:15:01.520 --> 00:15:03.955\n&gt;&gt; It's in the top of the drop down list,\nso it should be the most secure one.\n\n308\n00:15:03.955 --> 00:15:05.920\nIt is right, yeah,\nI hadn't thought about that.\n\n309\n00:15:05.920 --> 00:15:06.622\nThat is true.\n\n310\n00:15:06.622 --> 00:15:08.555\nYeah, well, let's just put it at\nthe top because that's the one\n\n311\n00:15:08.555 --> 00:15:09.340\nwe want people to choose.\n\n312\n00:15:09.340 --> 00:15:12.740\nIt would be interesting to do a click\nthrough study like if you see\n\n313\n00:15:12.740 --> 00:15:13.980\nhow people make selections.\n\n314\n00:15:13.980 --> 00:15:17.120\nIf it really is that base where they say,\nthat must be the right one,\n\n315\n00:15:17.120 --> 00:15:18.280\njust because it's there.\n\n316\n00:15:18.280 --> 00:15:20.640\nIt's the default so I must go with,\nthat must be the most secure.\n\n317\n00:15:20.640 --> 00:15:22.650\nWhy the vendor not put the most\nsecure one at the top?\n\n318\n00:15:22.650 --> 00:15:23.370\n&gt;&gt; Why wouldn't they?\n\n319\n00:15:23.370 --> 00:15:25.160\n&gt;&gt; Because they're not thinking,\njust like you.\n\n320\n00:15:25.160 --> 00:15:25.940\nThat's why, right?\n\n321\n00:15:25.940 --> 00:15:28.870\nBut the reality is, if we did this,\n\n322\n00:15:28.870 --> 00:15:33.160\nand hypothetically just relied on the\nkindness of strangers to configure it for\n\n323\n00:15:33.160 --> 00:15:37.910\nus, and it wasn't done the right way,\nwouldn't IPsec an add on layer help us,\n\n324\n00:15:37.910 --> 00:15:40.610\nyour protective layer,\nhelp us to offset some of those concerns.\n\n325\n00:15:40.610 --> 00:15:42.380\n&gt;&gt; Absolutely.\n&gt;&gt; Right, it would definitely be\n\n326\n00:15:42.380 --> 00:15:44.010\nan additional overhead,\nan additional burden.\n\n327\n00:15:44.010 --> 00:15:46.653\nLike Mike said, there's additional\nrequirements associated with it.\n\n328\n00:15:46.653 --> 00:15:51.106\nBut my general operating philosophy, over\nthe many decades I've been doing this with\n\n329\n00:15:51.106 --> 00:15:55.132\ncustomers, and students, and all of you,\nis if one is good, two is better and\n\n330\n00:15:55.132 --> 00:15:56.912\nthree is better than two, right?\n\n331\n00:15:56.912 --> 00:15:59.422\nIf I have one protective measure,\nI'm okay.\n\n332\n00:15:59.422 --> 00:16:02.276\nBut if somebody manages to\nbreak that protective measure,\n\n333\n00:16:02.276 --> 00:16:04.281\nthen I've got nothing left to stop them.\n\n334\n00:16:04.281 --> 00:16:07.603\nAnd we often talk about this\nidea of what we call triple d.\n\n335\n00:16:07.603 --> 00:16:10.650\nDeter, delay, and detect, right?\n\n336\n00:16:10.650 --> 00:16:15.290\nThe idea is hey, if I can prevent you\nfrom doing something by scaring you into\n\n337\n00:16:15.290 --> 00:16:19.480\nnot doing something stupid and bothering\nme and I'm deterring you, and that's good.\n\n338\n00:16:19.480 --> 00:16:21.260\nIf I can't deter you, let me delay you.\n\n339\n00:16:21.260 --> 00:16:24.739\nLet me make it painful for you,\ncause you to burn time and\n\n340\n00:16:24.739 --> 00:16:27.415\nenergy getting through the maze to get in.\n\n341\n00:16:27.415 --> 00:16:30.981\nAnd now let me detect you're doing it,\nso that way I can make a decision about\n\n342\n00:16:30.981 --> 00:16:33.955\nwhether I'm gonna react to you or\nwho knows what I'm gonna do.\n\n343\n00:16:33.955 --> 00:16:37.065\nBut the point is,\nif I overlay all three of these,\n\n344\n00:16:37.065 --> 00:16:40.655\nevery time I build a security solution,\nI hope I get you with the deter.\n\n345\n00:16:40.655 --> 00:16:43.395\nI'd rather you go play down\nthe road at somebody else's system.\n\n346\n00:16:43.395 --> 00:16:44.925\nBad for them, but you know what?\n\n347\n00:16:44.925 --> 00:16:46.359\nI don't work for them, I work for you.\n\n348\n00:16:46.359 --> 00:16:48.250\n&gt;&gt; [LAUGH]\n&gt;&gt; And if I'm good at protecting you,\n\n349\n00:16:48.250 --> 00:16:50.002\nthat's my job as an IT professional.\n\n350\n00:16:50.002 --> 00:16:53.539\nWhile to the person is not smart and have\nto get an IT Professional this strange and\n\n351\n00:16:53.539 --> 00:16:55.670\nknows better but\nthat's just bad management.\n\n352\n00:16:55.670 --> 00:16:57.440\nThat's all that is right?\n\n353\n00:16:57.440 --> 00:17:00.260\nBut one good enough to prevent you\nfrom getting in the next should\n\n354\n00:17:00.260 --> 00:17:04.660\nbe in a conversation but any good IT and\nany good this confessional tells you and\n\n355\n00:17:04.660 --> 00:17:06.350\nbe honest with you, right?\n\n356\n00:17:06.350 --> 00:17:09.340\nThat we're not gonna stop every\nattack because we're not that good.\n\n357\n00:17:09.340 --> 00:17:10.390\nI mean no body's that good.\n\n358\n00:17:10.390 --> 00:17:12.940\nThat's the big policy of security, right?\n\n359\n00:17:12.940 --> 00:17:14.360\nWe're never that good.\n\n360\n00:17:14.360 --> 00:17:18.680\nThat's why things like IPsec make so\nmuch sense because attacks will happen.\n\n361\n00:17:18.680 --> 00:17:21.190\nPeople will penetrate\nthat defensive perimeter.\n\n362\n00:17:21.190 --> 00:17:25.800\nBad actors on the inside will decided\nit's time to get back at the company for\n\n363\n00:17:25.800 --> 00:17:27.430\nwho knows what reason, right?\n\n364\n00:17:27.430 --> 00:17:30.284\nI don't know, they didn't get donuts this\nmorning and they're having a problem,\n\n365\n00:17:30.284 --> 00:17:31.260\nwhatever it may be, right?\n\n366\n00:17:32.500 --> 00:17:35.460\nIf they're having a bad day, what\nare you gonna do to defend the network?\n\n367\n00:17:35.460 --> 00:17:38.570\nAnd if you're not looking inside,\nyou're only solving half the problem.\n\n368\n00:17:38.570 --> 00:17:42.047\nAnd the problem you're solving is less\nthan half of the issue cuz the bulk\n\n369\n00:17:42.047 --> 00:17:45.125\nof the problem sits behind your\nfirewall and the trusted users,\n\n370\n00:17:45.125 --> 00:17:48.281\nand trusted systems,\nwe'll put trusted in air quotes, right?\n\n371\n00:17:48.281 --> 00:17:51.991\nThat supposedly should not present\na problem but we indeed know they do.\n\n372\n00:17:51.991 --> 00:17:53.880\nThis is one of biggest series and\nconcerns we have.\n\n373\n00:17:53.880 --> 00:17:55.821\nSo making sure we know about that.\n\n374\n00:17:55.821 --> 00:17:57.898\nWhat about modes we provide IP second,\nright?\n\n375\n00:17:57.898 --> 00:17:59.922\nWe got couple of different flavors or\ntype.\n\n376\n00:17:59.922 --> 00:18:01.710\n&gt;&gt; We're talking about\ntunneling transport mode here?\n\n377\n00:18:01.710 --> 00:18:03.270\n&gt;&gt; So we're talking about\ntunneling transport mode right?\n\n378\n00:18:03.270 --> 00:18:04.980\nSo let's talk a little bit about those.\n\n379\n00:18:04.980 --> 00:18:07.460\nSo what I often think about\ntunneling transport mode,\n\n380\n00:18:07.460 --> 00:18:09.090\nI think I said this in\none of the earlier shows.\n\n381\n00:18:09.090 --> 00:18:12.432\nAround firewalls, I think about\ndifferentiate between the two people say\n\n382\n00:18:12.432 --> 00:18:15.415\nhow do you know, which is which,\nhow does it work, what do you do?\n\n383\n00:18:15.415 --> 00:18:21.741\nWell, I think of tunneling on the WAN and\ntransporting on the LAN, right?\n\n384\n00:18:21.741 --> 00:18:26.306\nIn other words, we transport across\nthe LAN, up to the LAN side of the gateway\n\n385\n00:18:26.306 --> 00:18:29.835\nwhich is the router,\nthe gateway device or border device.\n\n386\n00:18:29.835 --> 00:18:33.158\nSo, transport mode is typically\nused between machines on a land\n\n387\n00:18:33.158 --> 00:18:36.728\nto communicate securely behind\nthe firewall or behind the gateway,\n\n388\n00:18:36.728 --> 00:18:39.763\nbehind the router,\nwhatever it may be or up to the router.\n\n389\n00:18:39.763 --> 00:18:41.596\nBut we tunnel through the WAN, right?\n\n390\n00:18:41.596 --> 00:18:44.405\nWe tunnel across the Internet,\nthe world wide web.\n\n391\n00:18:44.405 --> 00:18:45.505\nWhatever you want to call it.\n\n392\n00:18:45.505 --> 00:18:47.485\nWe tunnel across it though the cloud.\n\n393\n00:18:47.485 --> 00:18:50.695\nRouter to router, gateway to gateway,\nendpoint to endpoint across the WAN\n\n394\n00:18:50.695 --> 00:18:53.345\nis where we see tunnel mode\ndeployed traditionally, right?\n\n395\n00:18:53.345 --> 00:18:55.216\n&gt;&gt; Yeah, so.\n&gt;&gt; That's at least how I think about it.\n\n396\n00:18:55.216 --> 00:18:56.825\n&gt;&gt; Yeah,\nI would say the same thing, right?\n\n397\n00:18:56.825 --> 00:19:00.560\nSo at that branch office I got transport\nmode protecting communications\n\n398\n00:19:00.560 --> 00:19:04.950\nbetween the workers at the-\n&gt;&gt; [INAUDIBLE] My machine to the printer.\n\n399\n00:19:04.950 --> 00:19:07.770\nMe to the domain controller locally,\neven me to the domain controller\n\n400\n00:19:07.770 --> 00:19:11.445\nacross the dedicated circuit back to\nthe corporate office, but on a dedicated\n\n401\n00:19:11.445 --> 00:19:15.150\npathway; that still should be transport\n&gt;&gt; In theory, we've got a tunnel set\n\n402\n00:19:15.150 --> 00:19:18.360\nup between the branch and the corporate\noffice using tunnel mode there, and\n\n403\n00:19:18.360 --> 00:19:21.380\nthat's protecting all traffic,\nno matter what the origin.\n\n404\n00:19:21.380 --> 00:19:22.887\nWell, depending on how\nyou set up the rules.\n\n405\n00:19:22.887 --> 00:19:24.674\n&gt;&gt; Right.\n&gt;&gt; Can cover everybody at the office\n\n406\n00:19:24.674 --> 00:19:25.776\nwith that one tunnel.\n\n407\n00:19:25.776 --> 00:19:29.473\n&gt;&gt; Yeah, whether it's gateway to gateway,\nrouter to router,\n\n408\n00:19:29.473 --> 00:19:34.460\nserver to gateway, server to server,\nendpoint to endpoint, we have solutions.\n\n409\n00:19:34.460 --> 00:19:36.040\nWe have options, in other words,\nfor all of these.\n\n410\n00:19:36.040 --> 00:19:37.755\nSo it is important to think about this.\n\n411\n00:19:37.755 --> 00:19:39.480\nSo we talked about\nconnection security rules.\n\n412\n00:19:39.480 --> 00:19:40.370\nIf you joined me here,\n\n413\n00:19:40.370 --> 00:19:43.290\nlet's just remind you of some of\nthe things that we've been talking about.\n\n414\n00:19:43.290 --> 00:19:46.750\nThere's a big blue nothing, that is our\n[LAUGH] desktop for our domain controller.\n\n415\n00:19:46.750 --> 00:19:48.775\n&gt;&gt; [LAUGH]\n&gt;&gt; We were in here before you saw me do\n\n416\n00:19:48.775 --> 00:19:50.501\nthis in the firewall episodes.\n\n417\n00:19:50.501 --> 00:19:53.564\nWe got the same firewall interface up and\nrunning here, right?\n\n418\n00:19:53.564 --> 00:19:56.934\nYou can see we have our\nconnections security rules.\n\n419\n00:19:56.934 --> 00:19:59.400\nRemove the rule that when you created\nduring the demo there, just so\n\n420\n00:19:59.400 --> 00:20:01.530\nwe can walk back through and\nthink about the logic of this.\n\n421\n00:20:01.530 --> 00:20:05.480\nBut we will come into the firewall\nto create connection security rules.\n\n422\n00:20:05.480 --> 00:20:07.850\nBut we also talked about the fact\nthat there is a property setting or\n\n423\n00:20:07.850 --> 00:20:08.610\nset of settings for\n\n424\n00:20:08.610 --> 00:20:12.420\nproperties associated with the firewall\nthat are IPsec centric as well.\n\n425\n00:20:12.420 --> 00:20:15.470\nWe would see those up here at\nthe top of the interface, right?\n\n426\n00:20:15.470 --> 00:20:17.400\nWe could come up here and right click or\n\n427\n00:20:17.400 --> 00:20:20.480\ngo over here to properties either way\nit would essentially be the same thing.\n\n428\n00:20:21.930 --> 00:20:23.890\nBut we can come in here and\ngo to Properties.\n\n429\n00:20:23.890 --> 00:20:27.585\nAnd if you remember, aside from\nthe profile tabs, domain, private,\n\n430\n00:20:27.585 --> 00:20:29.752\nand public, we've been through those.\n\n431\n00:20:29.752 --> 00:20:34.670\nWe also have our IPsec settings tab,\nour defaults for IPsec, or\n\n432\n00:20:34.670 --> 00:20:39.430\nIPsec exemptions excuse me and\nIPsec tunnel authorization.\n\n433\n00:20:39.430 --> 00:20:41.630\nI talked about this when we\ndid the firewall walk through.\n\n434\n00:20:41.630 --> 00:20:44.970\nThe fact that we are doing this and\nthese are inbound, right?\n\n435\n00:20:44.970 --> 00:20:49.170\nThese are authorizations for people coming\nin remotely to talk to us for IPsecs.\n\n436\n00:20:49.170 --> 00:20:52.250\nWe have to make sure that we pay\nattention to the interface in a sense\n\n437\n00:20:52.250 --> 00:20:53.080\nof what's happening there.\n\n438\n00:20:53.080 --> 00:20:58.430\nBut let's start our exploratory\nlittle travel trip and travelog here.\n\n439\n00:20:58.430 --> 00:20:59.682\nTravel trip.\n\n440\n00:20:59.682 --> 00:21:00.571\n&gt;&gt; [LAUGH]\n&gt;&gt; Travel tips and\n\n441\n00:21:00.571 --> 00:21:01.560\ntravelog here for IPsec.\n\n442\n00:21:01.560 --> 00:21:03.820\nBut let's start by looking at\nsome of the properties up here.\n\n443\n00:21:03.820 --> 00:21:06.670\nWe really didn't spend any time on\nthese when we went through last time.\n\n444\n00:21:06.670 --> 00:21:09.210\nWe're really focused more\non the firewall aspects.\n\n445\n00:21:09.210 --> 00:21:11.160\nAnd rightly so, because we were\ntalking about the firewall.\n\n446\n00:21:11.160 --> 00:21:14.930\nBut you can't this Mike rightly pointed\nout for us and made us remember.\n\n447\n00:21:14.930 --> 00:21:18.310\nYou can't really configure IPsec unless\nwe deal with the firewall aspects,\n\n448\n00:21:18.310 --> 00:21:20.017\nunless you're just dealing\nwith two machines.\n\n449\n00:21:20.017 --> 00:21:23.300\nThat are gonna talk to each other directly\nand perhaps you've taken the firewalls\n\n450\n00:21:23.300 --> 00:21:25.910\naway, you've just dropped them down or\ntheir non existent.\n\n451\n00:21:25.910 --> 00:21:29.090\nSo yes, you surely could do this with\nlocal policy, we'll take a look at that.\n\n452\n00:21:29.090 --> 00:21:33.161\nBut assuming that you're gonna have\nan enterprise great solution with some\n\n453\n00:21:33.161 --> 00:21:35.959\nsort of firewall in play,\nwhether it's data center\n\n454\n00:21:35.959 --> 00:21:39.414\nfirewalls we talked about in\nthe last of our firewall episodes.\n\n455\n00:21:39.414 --> 00:21:44.098\nTalk about the network controller software\nto fine networking, how we bring all that\n\n456\n00:21:44.098 --> 00:21:48.274\nto bear to get that all set up or we're\njust using the Windows firewall here.\n\n457\n00:21:48.274 --> 00:21:49.652\nAnd perhaps, monitoring and\n\n458\n00:21:49.652 --> 00:21:52.415\nmaintaining it with group policy\nas we talked about doing.\n\n459\n00:21:52.415 --> 00:21:55.393\nWe still have to worry about setting\nup the controlling for IPsec.\n\n460\n00:21:55.393 --> 00:21:58.960\nSo when we go in and look at the IPsec\ndefault, it's always good for us to\n\n461\n00:21:58.960 --> 00:22:03.380\nknow what the defaults are, cuz remember,\nMicrosoft likes to test on defaults.\n\n462\n00:22:03.380 --> 00:22:06.750\nAnd if we don't know the defaults, how\ncan we expect it to set something up or\n\n463\n00:22:06.750 --> 00:22:09.195\nbe expected to set something up securely?\n\n464\n00:22:09.195 --> 00:22:12.289\nRight, that will present a challenge cuz\nwe're not sure making the right kinda\n\n465\n00:22:12.289 --> 00:22:12.806\ndecisions.\n\n466\n00:22:12.806 --> 00:22:17.201\nSo you see here IPsec will use these\nsettings to establish secure connections\n\n467\n00:22:17.201 --> 00:22:20.115\nwhen there are active\nconnection security rules.\n\n468\n00:22:20.115 --> 00:22:22.260\nWell, we don't have any security rules yet\nbut\n\n469\n00:22:22.260 --> 00:22:24.735\nonce we set them up and\nobviously these come into play.\n\n470\n00:22:24.735 --> 00:22:29.050\nSo when you are using the default option\nany setting in the GPO with the higher\n\n471\n00:22:29.050 --> 00:22:30.975\nprecedence are use, right?\n\n472\n00:22:30.975 --> 00:22:33.560\nNow Mike mentioned this in\nthe firewall discussion.\n\n473\n00:22:33.560 --> 00:22:36.292\nWe didn't really talk about\nthe impact of this on IPsec but\n\n474\n00:22:36.292 --> 00:22:39.863\nhe mentioned when we were going and\nconfiguring the firewall through GPOs or\n\n475\n00:22:39.863 --> 00:22:42.452\nat least looking at the group\npolicy aspects, right?\n\n476\n00:22:42.452 --> 00:22:46.734\nAnd the fact that we could see\nthat as additional, right?\n\n477\n00:22:46.734 --> 00:22:50.880\nThat we can add on there and change and\nmodify the configuration as I pointed out.\n\n478\n00:22:50.880 --> 00:22:53.442\nAnd so\nwe're getting that same message here,\n\n479\n00:22:53.442 --> 00:22:57.830\nthat we may set stuff here in the firewall\nbut that through GPO application.\n\n480\n00:22:57.830 --> 00:23:01.160\nWe may see that there's a modification,\na change or somehow\n\n481\n00:23:01.160 --> 00:23:04.450\na alteration of our intent depending\non what we're doing and how we do it.\n\n482\n00:23:04.450 --> 00:23:08.650\nSo one of the most important things to\nconsider here is the impact of policy\n\n483\n00:23:08.650 --> 00:23:13.430\nbased management against management in the\nconsole locally on an individual machine.\n\n484\n00:23:13.430 --> 00:23:17.280\nYou made the point that things like\nexporting the policies and importing them,\n\n485\n00:23:17.280 --> 00:23:21.780\nwhile it wipes out the config, help us to\nstandardize the settings across all or\n\n486\n00:23:21.780 --> 00:23:24.950\npotentially as many as we want,\nall firewalls.\n\n487\n00:23:24.950 --> 00:23:29.335\nAnd as a result, gives us that ability to\nscale that I was talking about in the data\n\n488\n00:23:29.335 --> 00:23:32.205\ncenter environments or\nsoftware defined environments.\n\n489\n00:23:32.205 --> 00:23:35.755\nSo it's a question of bringing a lot\nof these thought processes together so\n\n490\n00:23:35.755 --> 00:23:38.375\nthat we understand how\nthings will integrate.\n\n491\n00:23:38.375 --> 00:23:41.663\nBecause the worst scenario is\nyou go invest all this time and\n\n492\n00:23:41.663 --> 00:23:45.303\ntrouble on the policy side or\non the firewall side on one machine.\n\n493\n00:23:45.303 --> 00:23:49.590\nAnd you wipe out or modify those by\ncross referencing them incorrectly and\n\n494\n00:23:49.590 --> 00:23:53.892\nyou get the exact opposite outcome or\nresults or not the results you want.\n\n495\n00:23:53.892 --> 00:23:58.205\n&gt;&gt; And IPSec makes that point\neven more important if I can say.\n\n496\n00:23:58.205 --> 00:24:00.532\nBecause we're gonna learn or\nsee, I'm sure,\n\n497\n00:24:00.532 --> 00:24:04.035\nthat you might have two machines that\nare both configured to use IPsec.\n\n498\n00:24:04.035 --> 00:24:07.487\nBut if their policies don't match or\nthey can't agree, they can't set up that\n\n499\n00:24:07.487 --> 00:24:10.798\nsecurity negotiation, then we'll\ntalk about, they're not gonna work.\n\n500\n00:24:10.798 --> 00:24:14.854\n&gt;&gt; [CROSSTALK] Maybe certificates for\nauthentication, the other is using NTLM or\n\n501\n00:24:14.854 --> 00:24:15.476\nKerberos.\n\n502\n00:24:15.476 --> 00:24:19.289\nAnd if it's not supported gonna exist on\nboth end points are not authorized and\n\n503\n00:24:19.289 --> 00:24:20.850\ntherefore not available.\n\n504\n00:24:20.850 --> 00:24:23.060\nYou know you're gonna if\nyou have it required and\n\n505\n00:24:23.060 --> 00:24:26.470\nyou can't make the connection,\nit's not lowest common denominator,\n\n506\n00:24:26.470 --> 00:24:27.610\nwe step down and we let you in.\n\n507\n00:24:27.610 --> 00:24:29.610\nThat's optional not required.\n\n508\n00:24:29.610 --> 00:24:31.260\nIf it's required, you're done.\n\n509\n00:24:31.260 --> 00:24:33.210\nIt's a very simple binary yes no.\n\n510\n00:24:33.210 --> 00:24:35.470\nEither you match or\nyou don't kind of environment.\n\n511\n00:24:35.470 --> 00:24:37.690\nWhich is good from a skirted perspective,\nbut\n\n512\n00:24:37.690 --> 00:24:39.870\ncan be a negative outcome as\nyou have suggesting from the,\n\n513\n00:24:39.870 --> 00:24:42.590\nhey I need to get the traffic in\nout of my web server, perspective.\n\n514\n00:24:42.590 --> 00:24:44.113\nIf it's not set up the right way,\n\n515\n00:24:44.113 --> 00:24:46.690\nwe're not going to be able to\ndo anything we need to do.\n\n516\n00:24:46.690 --> 00:24:51.150\nThat may be good in the fact that we\nwant to fail secure not fail open or\n\n517\n00:24:51.150 --> 00:24:53.350\nfail safe but any way you recall that.\n\n518\n00:24:53.350 --> 00:24:55.400\nBut we want to fail secure, lock it down,\n\n519\n00:24:55.400 --> 00:24:58.610\nprevent the transmission if we\ncan't match the requirement.\n\n520\n00:24:58.610 --> 00:25:02.270\nAs opposed to fail open, hey let's talk\nto strangers, and let's not worry about\n\n521\n00:25:02.270 --> 00:25:05.640\nthe fact that we may actually be doing\nsomething that's gonna be insecure, right?\n\n522\n00:25:05.640 --> 00:25:08.325\nSo that stranger danger thing\nMommy always warned us about?\n\n523\n00:25:08.325 --> 00:25:09.940\n&gt;&gt; [LAUGH]\n&gt;&gt; There's a good reason for that.\n\n524\n00:25:09.940 --> 00:25:11.660\n&gt;&gt; Absolutely.\n&gt;&gt; Didn't know Mom was an IT security on\n\n525\n00:25:11.660 --> 00:25:12.500\ntop of everything else.\n\n526\n00:25:12.500 --> 00:25:13.480\n&gt;&gt; I know.\nWay ahead of the times.\n\n527\n00:25:13.480 --> 00:25:14.080\n&gt;&gt; It's a heck of a muffin.\n&gt;&gt; [LAUGH]\n\n528\n00:25:14.080 --> 00:25:15.340\n&gt;&gt; And also knows how to\n\n529\n00:25:15.340 --> 00:25:16.680\ntake care of IT security.\n\n530\n00:25:16.680 --> 00:25:20.100\nAll right, so key exchange,\nyou'll see Main Mode right there,\n\n531\n00:25:20.100 --> 00:25:21.320\ndefault recommended.\n\n532\n00:25:21.320 --> 00:25:24.700\nDefault recommended for data protection,\nauthentication method is default,\n\n533\n00:25:24.700 --> 00:25:28.640\nmeaning essentially everything is just,\nhey we're gonna set this up.\n\n534\n00:25:28.640 --> 00:25:31.300\nAnd once we set this up you're gonna\ngo ahead and create some rules and\n\n535\n00:25:31.300 --> 00:25:34.390\nyou're gonna specify in the rules\nessentially what you want.\n\n536\n00:25:34.390 --> 00:25:38.000\nAnd as a result those rules will\nthen become part of what we do.\n\n537\n00:25:38.000 --> 00:25:39.000\nRight?\nAnd\n\n538\n00:25:39.000 --> 00:25:43.240\nif we don't have anything specified,\nour default settings will kinda kick in.\n\n539\n00:25:43.240 --> 00:25:46.810\nAnd those default settings\nare generically to allow communication.\n\n540\n00:25:46.810 --> 00:25:50.850\nAnd we don't have ipsec by default which\nmeans we don't enforce ipsec unless we\n\n541\n00:25:50.850 --> 00:25:51.840\ncreate the rules.\n\n542\n00:25:51.840 --> 00:25:53.610\nSo you could see that we\ndo have some options here,\n\n543\n00:25:53.610 --> 00:25:57.400\nso it's good just to know that we can\nmodify these settings, it's good to know\n\n544\n00:25:57.400 --> 00:26:02.220\nwe have IPsec exemptions, we could ICMP\nexempt traffic, we talked about the value\n\n545\n00:26:02.220 --> 00:26:05.680\nof ICMPv4 I think when we did\nthe firewall discussions.\n\n546\n00:26:05.680 --> 00:26:09.020\nBut the ping traffic, but the fact that\necho request, which is what ping really\n\n547\n00:26:09.020 --> 00:26:13.450\nis, is just one of about 12 things that\nICMP actually is responsible for, right.\n\n548\n00:26:13.450 --> 00:26:17.262\nIt's not just ICMP, it's not just ping,\nor not just ping anymore.\n\n549\n00:26:17.262 --> 00:26:17.774\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n550\n00:26:17.774 --> 00:26:18.794\n&gt;&gt; It's so much more.\n\n551\n00:26:18.794 --> 00:26:19.904\nPeople just don't realize that or\n\n552\n00:26:19.904 --> 00:26:20.640\nthink about that.\n\n553\n00:26:20.640 --> 00:26:23.400\nBut there is a lot of other stuff\nyou may be using ICMP to do.\n\n554\n00:26:23.400 --> 00:26:26.750\nAnd if you're not allowing it through\nthe firewall or you're not dealing with it\n\n555\n00:26:26.750 --> 00:26:30.100\nthe right way, a lot of functionality\nmay suddenly stop work.\n\n556\n00:26:30.100 --> 00:26:32.030\nStop working or\nnot work the way you expect.\n\n557\n00:26:32.030 --> 00:26:32.670\nLet's put it that way.\n\n558\n00:26:32.670 --> 00:26:35.710\nSo it is important to know that\nwe can exempt that traffic.\n\n559\n00:26:35.710 --> 00:26:39.050\nIf need be, you can see that there.It's\nimportant as we talk about the setup and\n\n560\n00:26:39.050 --> 00:26:43.690\nthink about IPsec internal\nauthorization for inbound connections\n\n561\n00:26:43.690 --> 00:26:46.660\nyou would do advanced I think I demoed\nthis when we actually took a look.\n\n562\n00:26:46.660 --> 00:26:50.110\nWe'd go in here and we'd specify for\ncomputers here and or\n\n563\n00:26:50.110 --> 00:26:51.990\nusers as you can see.\n\n564\n00:26:51.990 --> 00:26:56.270\nEither allow or only allow connections\nfrom these computers or deny them.\n\n565\n00:26:56.270 --> 00:26:58.100\nWe talked about the allow or deny option,\n\n566\n00:26:58.100 --> 00:27:01.370\nand we talked about that fact that we can\ndo this for users as well as computers.\n\n567\n00:27:01.370 --> 00:27:05.310\nSo I could block, not just Mike as a user,\nbut I could block Mike and\n\n568\n00:27:05.310 --> 00:27:06.820\nMike's computer in theory.\n\n569\n00:27:06.820 --> 00:27:09.550\nSo that way I can make sure\nthat no matter where Mike is,\n\n570\n00:27:09.550 --> 00:27:13.210\nat least all the opportunities I have\nto know where Mike might connect from,\n\n571\n00:27:13.210 --> 00:27:13.990\nthat I would block.\n\n572\n00:27:13.990 --> 00:27:16.540\nIf he finds a machine\nthat's not on the list\n\n573\n00:27:16.540 --> 00:27:19.400\nI would still block his account\nwhen he goes to authorize.\n\n574\n00:27:19.400 --> 00:27:24.120\nSo unless he masquerades as somebody else\nI would probably still be successful but\n\n575\n00:27:24.120 --> 00:27:27.140\nI could apply that logic to both users and\ncomputers here with IP [INAUDIBLE].\n\n576\n00:27:27.140 --> 00:27:31.260\nAnd again, people don't often realize\nthis, they think IP sec that's that thing\n\n577\n00:27:31.260 --> 00:27:36.100\nabout computers and encryption, and\nsecure traffic and that's all computers.\n\n578\n00:27:36.100 --> 00:27:37.320\nIt is not just computers.\n\n579\n00:27:37.320 --> 00:27:39.720\nIt is also applicable, in some cases, for\n\n580\n00:27:39.720 --> 00:27:43.580\nusers in terms of authorization in\nsetting up the end-point and the tunnel.\n\n581\n00:27:43.580 --> 00:27:47.330\nSo, It is important to know that because\ndepending on how we are configuring it,\n\n582\n00:27:47.330 --> 00:27:49.880\nwe are talking about not just\nthe computer aspect, but\n\n583\n00:27:49.880 --> 00:27:51.680\noften times the user aspect as well.\n\n584\n00:27:51.680 --> 00:27:55.300\nWe will delve more into this as we get\ninto our next episode and start to create\n\n585\n00:27:55.300 --> 00:27:58.860\nsome rules and kind of walk back through\nand remind ourselves of some of the logic.\n\n586\n00:27:58.860 --> 00:28:01.320\nSo I think we're just about running\nout of time to wrap up our first\n\n587\n00:28:01.320 --> 00:28:02.120\nconversation here.\n\n588\n00:28:02.120 --> 00:28:04.190\nbut really just wanted to\nget some of the groundwork,\n\n589\n00:28:04.190 --> 00:28:07.790\nthe foundational elements\nassociated with IPsec in here.\n\n590\n00:28:07.790 --> 00:28:10.320\nGive you a reminder of what\nthe environment looks like\n\n591\n00:28:10.320 --> 00:28:13.040\njust before we take off and we'll do that.\n\n592\n00:28:13.040 --> 00:28:14.280\nI do have a policy, we'll come back and\n\n593\n00:28:14.280 --> 00:28:16.080\ntake a look at this again\nin another episode,\n\n594\n00:28:16.080 --> 00:28:19.810\nbut we do have the group policy aspects\nas well, we'll take a look at these.\n\n595\n00:28:19.810 --> 00:28:23.180\nIf you remember, in the firewall episodes,\nwe were up here, in the Windows firewall\n\n596\n00:28:23.180 --> 00:28:26.870\nadvanced security, we just came down a\ncouple of spaces, in the same exact area.\n\n597\n00:28:26.870 --> 00:28:30.820\nUnder a computer configuration\nWINDOWS setting security settings.\n\n598\n00:28:30.820 --> 00:28:32.040\nAnd we are just going in and\n\n599\n00:28:32.040 --> 00:28:37.310\nwe are looking the IP sec settings that\nwe can apply base client respond only,\n\n600\n00:28:37.310 --> 00:28:41.870\nsecure server require,\nserver request, require is mandatory.\n\n601\n00:28:41.870 --> 00:28:45.130\nRequest is the optional let’s\ntry to negotiate if we can’t\n\n602\n00:28:45.130 --> 00:28:48.830\nwe’ll still secure that communication in\nthe best of our ability or not at all.\n\n603\n00:28:48.830 --> 00:28:50.010\nSo we'll talk about those settings and\n\n604\n00:28:50.010 --> 00:28:52.090\nhow they work along with\neverything else when we come back.\n\n605\n00:28:52.090 --> 00:28:52.790\n&gt;&gt; All right.\n\n606\n00:28:52.790 --> 00:28:57.500\nGreat start to our conversation on IPSec,\nas we look at how we go about,\n\n607\n00:28:57.500 --> 00:29:01.350\nI still want to get with them with\nthe grammar, secure network traffic.\n\n608\n00:29:01.350 --> 00:29:02.710\n&gt;&gt; Well, because that's what they call it.\n\n609\n00:29:02.710 --> 00:29:05.320\nIt should be securing network traffic.\n\n610\n00:29:05.320 --> 00:29:07.970\n&gt;&gt; We're learning how to\nsecure network traffic.\n\n611\n00:29:07.970 --> 00:29:09.620\nThere we go, I can use it that way.\n\n612\n00:29:09.620 --> 00:29:12.180\nSo great start to our\nconversation on IPSec.\n\n613\n00:29:12.180 --> 00:29:16.500\nAnd as we work our way into securing our\nnetwork traffic, we do appreciate that.\n\n614\n00:29:16.500 --> 00:29:20.240\nI'm looking forward to the next few\nepisodes, but for now we are signing out.\n\n615\n00:29:20.240 --> 00:29:22.590\nFor ITPRO.TV,\nI've been your host Mike Rodrick,\n\n616\n00:29:22.590 --> 00:29:23.430\n&gt;&gt; And I'm Adam Gordon.\n\n617\n00:29:23.430 --> 00:29:26.358\n&gt;&gt; And we'll see you next time.\n\n618\n00:29:26.358 --> 00:29:32.059\n[MUSIC].\n\n619\n00:29:32.059 --> 00:29:34.964\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "236804784"
        },
        {
          "description": "",
          "length": "1799",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-2-secure_network_traffic_pt2-100317.00_30_49_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-2-secure_network_traffic_pt2-100317.00_30_49_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-2-secure_network_traffic_pt2-100317.00_30_49_28.Still001-sm.jpg",
          "title": "Secure Network Traffic Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:01.627\nWelcome to ITProTV.\n\n2\n00:00:01.627 --> 00:00:02.861\nI'm your host Don Pezet.\n\n3\n00:00:02.861 --> 00:00:05.910\n[CROSSTALK]\n\n4\n00:00:05.910 --> 00:00:08.431\n[MUSIC]\n\n5\n00:00:08.431 --> 00:00:10.620\nYou're watching ITProTV.\n\n6\n00:00:12.450 --> 00:00:15.776\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n7\n00:00:15.776 --> 00:00:16.910\nI'm your host Mike Rodrick.\n\n8\n00:00:16.910 --> 00:00:19.880\nToday, we are securing\nWindows Server 2016.\n\n9\n00:00:19.880 --> 00:00:21.890\nAnd in this episode,\nit's actually a part two,\n\n10\n00:00:21.890 --> 00:00:26.440\nwe're gonna be continuing our\nconversation on secure network traffic.\n\n11\n00:00:26.440 --> 00:00:29.500\nAnd we had a great first part, so if you\nmissed that make sure you go back and\n\n12\n00:00:29.500 --> 00:00:30.010\nwatch it.\n\n13\n00:00:30.010 --> 00:00:31.187\nWe got our feet wet,\n\n14\n00:00:31.187 --> 00:00:36.120\nstarted the conversation about IPsec,\nlaying down that foundation of knowledge.\n\n15\n00:00:36.120 --> 00:00:37.730\nAnd we're just gonna dive right back in.\n\n16\n00:00:37.730 --> 00:00:41.540\nSo here with me again today is Mr.\nAdam Gordon, welcome back Adam.\n\n17\n00:00:41.540 --> 00:00:42.710\n&gt;&gt; Hello, hello, hello.\n\n18\n00:00:42.710 --> 00:00:45.150\nSo connection security rules.\n\n19\n00:00:45.150 --> 00:00:47.640\nWe left off actually talking about or\ntalking around them.\n\n20\n00:00:47.640 --> 00:00:48.932\nWe didn't actually get directly,\n\n21\n00:00:48.932 --> 00:00:53.210\nand that's kind of the next logical step\nwhere we were in our overview of IPsec.\n\n22\n00:00:53.210 --> 00:00:56.001\nAt the end of the last episode,\nwe actually stopped talking long enough to\n\n23\n00:00:56.001 --> 00:00:57.982\nopen the interface and\npoint out a couple of things,\n\n24\n00:00:57.982 --> 00:01:00.747\nshould have done that from the beginning,\nprobably talked through it.\n\n25\n00:01:00.747 --> 00:01:04.422\nBut that's just what happens when you are\ndoing this and you don't follow a script,\n\n26\n00:01:04.422 --> 00:01:05.321\nand it's all live.\n\n27\n00:01:05.321 --> 00:01:06.862\nBut all good at the end of the day,\n\n28\n00:01:06.862 --> 00:01:10.446\ncuz we did get to see certainly how we\ndeal with some of the property settings,\n\n29\n00:01:10.446 --> 00:01:14.180\nkind of the high level settings run\nIPsec and properties of the firewall.\n\n30\n00:01:14.180 --> 00:01:17.121\nWe also got to see that we do\nhave the ability to monitor and\n\n31\n00:01:17.121 --> 00:01:19.714\nto interact through\nthe firewall with rule sets.\n\n32\n00:01:19.714 --> 00:01:22.887\nAnd we took a quick look, just snuck\na peek at the group policy settings,\n\n33\n00:01:22.887 --> 00:01:26.100\npreviewed those, at least\nthe highlights of the three categories.\n\n34\n00:01:26.100 --> 00:01:28.638\nThe client, the server require,\nserver request.\n\n35\n00:01:28.638 --> 00:01:30.610\nAnd we're gonna delve a little\nbit deeper into that as we go.\n\n36\n00:01:30.610 --> 00:01:32.940\nSo join me back in the interface.\n\n37\n00:01:32.940 --> 00:01:35.308\nYou could see we're on the firewall.\n\n38\n00:01:35.308 --> 00:01:37.920\nI've just right-clicked on\nconnection security rules,\n\n39\n00:01:37.920 --> 00:01:39.320\nabout to create a brand new rule.\n\n40\n00:01:39.320 --> 00:01:42.754\nNow if you saw the firewall episodes we\ndid, you saw me do this exact thing and\n\n41\n00:01:42.754 --> 00:01:46.618\nwalk through this, but thought we'd spend\njust a couple of minutes reviewing more so\n\n42\n00:01:46.618 --> 00:01:47.600\nthan anything else.\n\n43\n00:01:47.600 --> 00:01:50.873\nSo I'm not gonna go back and redo everyone\nof these again, cuz we did a pretty\n\n44\n00:01:50.873 --> 00:01:54.010\nthorough conversation around the majority\nof these as we went through.\n\n45\n00:01:54.010 --> 00:01:58.050\nBut we will delve in here a little bit,\nbut the connection security rules allow us\n\n46\n00:01:58.050 --> 00:02:00.390\nto really specify how computers\nare gonna connect and\n\n47\n00:02:00.390 --> 00:02:02.800\ndeploy IPsec around the firewall or\n\n48\n00:02:02.800 --> 00:02:06.140\nthrough the firewall as part of the\noverall security profile of the system.\n\n49\n00:02:06.140 --> 00:02:09.300\nSo we're talking about a subset\nof the firewall functionality.\n\n50\n00:02:09.300 --> 00:02:13.214\nSpecific to the use of IPsec,\na configuration of typically computer to\n\n51\n00:02:13.214 --> 00:02:17.013\ncomputer, endpoint to endpoint,\nwhatever you wanna consider it.\n\n52\n00:02:17.013 --> 00:02:20.122\nBut how we're gonna provide for\nthat protective capability,\n\n53\n00:02:20.122 --> 00:02:22.300\nand how we're gonna deploy that and\nuse it.\n\n54\n00:02:22.300 --> 00:02:24.800\nThat's what the connected\nsecurity rules are all about.\n\n55\n00:02:24.800 --> 00:02:26.710\nWe use those through the firewall.\n\n56\n00:02:26.710 --> 00:02:28.990\nWe use these to evaluate\nnetwork trafficking to block or\n\n57\n00:02:28.990 --> 00:02:32.590\nallow as firewalls do,\nas we've talked about based on this.\n\n58\n00:02:32.590 --> 00:02:36.640\nAnd we can go ahead and configure this and\nrequire authentication for\n\n59\n00:02:36.640 --> 00:02:38.980\na connection in either\ndirection as part of this.\n\n60\n00:02:38.980 --> 00:02:40.245\nYou saw that as well.\n\n61\n00:02:40.245 --> 00:02:43.406\nAnd remember, we have the isolation,\nthe authentication exemption.\n\n62\n00:02:43.406 --> 00:02:46.780\nYou could see the categories here or\nthe rule types here, total of five.\n\n63\n00:02:46.780 --> 00:02:48.593\nServer to server, tunneling,\n\n64\n00:02:48.593 --> 00:02:52.158\nso we talked about essentially\ntransport versus tunnel mode.\n\n65\n00:02:52.158 --> 00:02:54.130\nYou see the examples of those two there.\n\n66\n00:02:54.130 --> 00:02:56.160\nServer to server would be transport.\n\n67\n00:02:56.160 --> 00:02:57.510\nTunnel would, of course, be tunnel.\n\n68\n00:02:58.870 --> 00:03:03.222\nAnd then, custom where we kind of just go\nthrough and set up our own mix and match,\n\n69\n00:03:03.222 --> 00:03:05.155\nand kind of hybrid of this, right?\n\n70\n00:03:05.155 --> 00:03:07.608\nSo total of five different\nconnection security rules, but\n\n71\n00:03:07.608 --> 00:03:10.505\njust make sure we're aware of that and\nwe have a sense of that.\n\n72\n00:03:10.505 --> 00:03:13.018\nSo we go up to create, and\nwe make a note about this here,\n\n73\n00:03:13.018 --> 00:03:15.645\nit is important to take note of this and\nknow this, right?\n\n74\n00:03:15.645 --> 00:03:19.119\nConnection security rules specify how and\nwhen authentication occurs, so\n\n75\n00:03:19.119 --> 00:03:19.777\nwe know that.\n\n76\n00:03:19.777 --> 00:03:22.055\nBut they do not allow connections, right?\n\n77\n00:03:22.055 --> 00:03:25.621\nSo important to know this about\nthe authentication associated with\n\n78\n00:03:25.621 --> 00:03:28.069\nthe connection, not the connection itself.\n\n79\n00:03:28.069 --> 00:03:31.671\nAnd to allow a connection,\ncreate an inbound or an outbound rule.\n\n80\n00:03:31.671 --> 00:03:34.225\nSo we have to make sure that\nwe're talking about this,\n\n81\n00:03:34.225 --> 00:03:37.668\nthinking about this the right away and\nunderstand the capabilities, but\n\n82\n00:03:37.668 --> 00:03:41.222\nalso the concerns associated with\nconfiguring only part of the equation and\n\n83\n00:03:41.222 --> 00:03:44.131\nnot the whole thing, so\nimportant to just consider all that.\n\n84\n00:03:44.131 --> 00:03:46.612\nAll right, so we're gonna go through,\nwe'll take a look at the requirements,\n\n85\n00:03:46.612 --> 00:03:49.070\nthe authentication methods, the profile,\nall the different stuff in there.\n\n86\n00:03:49.070 --> 00:03:52.182\nSo let's go ahead, you can kind of see\nthese over here, we'll go through.\n\n87\n00:03:52.182 --> 00:03:56.007\nLet's just assume for\na minute that we're looking at isolation.\n\n88\n00:03:56.007 --> 00:04:00.622\nBut remember, we talked about server\nisolation, domain based isolation,\n\n89\n00:04:00.622 --> 00:04:04.172\nAD membership would be the domain side,\nserver on its own,\n\n90\n00:04:04.172 --> 00:04:08.720\nkind of off on its own would be an\nisolated or server isolation methodology.\n\n91\n00:04:08.720 --> 00:04:10.590\nSo let's start here.\n\n92\n00:04:10.590 --> 00:04:13.961\nIsolation, request authentication for\nembedded outbound connections,\n\n93\n00:04:13.961 --> 00:04:15.179\nwe've talked about this.\n\n94\n00:04:15.179 --> 00:04:17.542\nThis is, hey, can you authenticate?\n\n95\n00:04:17.542 --> 00:04:18.870\nYeah, I could try, what about you?\n\n96\n00:04:18.870 --> 00:04:22.690\nYeah, you can try, so we'll do our best,\nright, or we're not gonna require it.\n\n97\n00:04:22.690 --> 00:04:26.957\nAnd if we don't meet the minimum bare\nburden or the minimum requirement for\n\n98\n00:04:26.957 --> 00:04:29.881\nauthentication, we may\nstill be able to connect.\n\n99\n00:04:29.881 --> 00:04:32.861\nBut if we require this so we cannot\nmeet that burden, we're gonna drop\n\n100\n00:04:32.861 --> 00:04:36.580\nthe connection that is not authenticated,\nas a result not allow a connection.\n\n101\n00:04:36.580 --> 00:04:40.871\nAll right, so authenticate where possible\nbut authentication is not required, right?\n\n102\n00:04:40.871 --> 00:04:42.942\nSo if we did that, chose next,\n\n103\n00:04:42.942 --> 00:04:47.110\nthen what kind of authentication\nmethod do you wanna use?\n\n104\n00:04:47.110 --> 00:04:51.690\nOur default, use authentication\nmethods specified in IPsec settings.\n\n105\n00:04:51.690 --> 00:04:55.537\nNow the IPsec settings come to us from the\ngroup policy settings that I showed you,\n\n106\n00:04:55.537 --> 00:04:56.953\nwe haven't gotten into yet.\n\n107\n00:04:56.953 --> 00:05:00.317\nBut remember, we're linking\nthe configuration of IPsec outside of\n\n108\n00:05:00.317 --> 00:05:04.493\nthe firewall through and into the firewall\nfor certain aspects of the behavior here,\n\n109\n00:05:04.493 --> 00:05:06.065\nand that's what we're doing.\n\n110\n00:05:06.065 --> 00:05:10.794\nSo default with default of the settings\nthat we would find over here in\n\n111\n00:05:10.794 --> 00:05:11.863\ngroup policy.\n\n112\n00:05:11.863 --> 00:05:14.818\nAnd we would go through,\njust hypothetically let's say, and\n\n113\n00:05:14.818 --> 00:05:17.829\ndo server require, and\nlet's just double-click on that, and\n\n114\n00:05:17.829 --> 00:05:20.090\nyou'll see we have our IP security rules.\n\n115\n00:05:20.090 --> 00:05:22.050\nLet's just go in and edit one of those.\n\n116\n00:05:22.050 --> 00:05:26.189\nAnd you'll see here among other things,\nwe have an authentication method option,\n\n117\n00:05:26.189 --> 00:05:27.250\nright, in the rule.\n\n118\n00:05:27.250 --> 00:05:31.090\nAnd what that rule that we were just\nlooking at in the firewall says is, hey,\n\n119\n00:05:31.090 --> 00:05:34.031\nby default you request but\nnot require authentication and\n\n120\n00:05:34.031 --> 00:05:35.800\nyou leave the default choice.\n\n121\n00:05:35.800 --> 00:05:39.972\nWe're gonna defer to whatever the rule\nsays for IPsec from the configuration on\n\n122\n00:05:39.972 --> 00:05:43.785\nthe local machine or the policy for\nthe domain, however you set this up.\n\n123\n00:05:43.785 --> 00:05:47.269\nCuz in the local security policy on an\nindividual machine, you could do the same\n\n124\n00:05:47.269 --> 00:05:50.343\nexact thing with IPsec that we are doing\nat the domain level right now.\n\n125\n00:05:50.343 --> 00:05:52.380\nAnd this default method\nhappens to be Kerberos,\n\n126\n00:05:52.380 --> 00:05:55.300\nwhich means Kerberos would wind\nup being the default choice.\n\n127\n00:05:55.300 --> 00:05:59.730\nBut if I change this,\nright, just hypothetically.\n\n128\n00:05:59.730 --> 00:06:02.480\nSo if I change this and\ninstead of default Kerberos V5,\n\n129\n00:06:02.480 --> 00:06:05.810\nI chose certificate or\nI chose pre-shared key.\n\n130\n00:06:05.810 --> 00:06:09.560\nRemember, I told you pre-shared key,\nright, is just a password.\n\n131\n00:06:09.560 --> 00:06:11.350\nSo I could do Mike space r.\n\n132\n00:06:11.350 --> 00:06:13.300\nIf that was my pre-shared key,\n\n133\n00:06:13.300 --> 00:06:16.040\nthen I would default to in\nthis case a pre-sure key.\n\n134\n00:06:16.040 --> 00:06:19.270\nAnd I would have to know the pre-sure\nkey in order to be able to authenticate.\n\n135\n00:06:19.270 --> 00:06:22.130\nThat's what the rule setting in\nthe firewall is essentially telling me,\n\n136\n00:06:22.130 --> 00:06:22.810\ndefault into this.\n\n137\n00:06:22.810 --> 00:06:25.270\nSo I just wanted to make sure\nyou got a chance to see that.\n\n138\n00:06:25.270 --> 00:06:28.270\nWe'll be jumping back and forth a little\nbit as we do this like I'm doing now,\n\n139\n00:06:28.270 --> 00:06:30.800\nto highlight some things and\nlink the two together.\n\n140\n00:06:30.800 --> 00:06:34.260\nThis is the best way to learn it\nby seeing both sides at one time.\n\n141\n00:06:34.260 --> 00:06:37.102\nLocate the policy settings\nat the firewall level, but\n\n142\n00:06:37.102 --> 00:06:40.747\nalso locate the actual IPsec policies,\nand the settings within, and\n\n143\n00:06:40.747 --> 00:06:43.363\nthis is a labyrinth within\nthe group policy here.\n\n144\n00:06:43.363 --> 00:06:44.619\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Whenever you think you're done,\n\n145\n00:06:44.619 --> 00:06:46.210\nthere's like, what does that button do?\n\n146\n00:06:46.210 --> 00:06:48.380\nAnother wizard pops up,\nthere's 25 other things.\n\n147\n00:06:48.380 --> 00:06:50.450\n&gt;&gt; I think I counted one time-\n&gt;&gt; I actually got lost\n\n148\n00:06:50.450 --> 00:06:52.030\ndoing this the first time\nI learned how to do it.\n\n149\n00:06:52.030 --> 00:06:55.420\n&gt;&gt; I wanna say you're nested four\nwizards deep, by the end of it.\n\n150\n00:06:55.420 --> 00:06:59.450\nAnd you have to step your way back out\nof each one of those wizards crazy,\n\n151\n00:06:59.450 --> 00:07:00.040\nbut works.\n\n152\n00:07:01.170 --> 00:07:03.230\n&gt;&gt; It does, as long as you keep\ntrack of what you're doing.\n\n153\n00:07:03.230 --> 00:07:06.025\nBut literally, every time you think you're\ndone, there's another screen that pops up.\n\n154\n00:07:06.025 --> 00:07:08.029\n&gt;&gt; [LAUGH]\n&gt;&gt; No it's the filter, it's this,\n\n155\n00:07:08.029 --> 00:07:08.570\nthis that.\n\n156\n00:07:08.570 --> 00:07:09.788\nAnd what do you wanna have for lunch?\n\n157\n00:07:09.788 --> 00:07:10.996\nWe'll have that delivered\nwhile you're working.\n\n158\n00:07:10.996 --> 00:07:12.035\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n159\n00:07:12.035 --> 00:07:14.426\nwe do have our default setting,\nyou could see that there.\n\n160\n00:07:14.426 --> 00:07:17.230\nNow obviously as you saw,\nwe could drill through and\n\n161\n00:07:17.230 --> 00:07:20.230\nchoose hard code and say,\nhey I don't know what that rule says,\n\n162\n00:07:20.230 --> 00:07:23.090\nlet's not bank on the fact that its\nKerberos, let's hard code that.\n\n163\n00:07:23.090 --> 00:07:26.669\nSo we can do computer and user for\nKerberos or just computer.\n\n164\n00:07:26.669 --> 00:07:29.870\nWe've talked about the difference between\nthese two in the firewall episode.\n\n165\n00:07:29.870 --> 00:07:31.300\nOr advanced where I can go in and\n\n166\n00:07:31.300 --> 00:07:35.460\nspecify, this is where I think\nit gets a little interesting.\n\n167\n00:07:35.460 --> 00:07:40.060\nIn the firewall configuration, I can\nspecify first and or second level and\n\n168\n00:07:40.060 --> 00:07:41.530\nI can kind of stagger these.\n\n169\n00:07:41.530 --> 00:07:44.880\nThis is what I like, but let's just take\na quick look at computer and user or\n\n170\n00:07:44.880 --> 00:07:46.300\ncomputer before we do this.\n\n171\n00:07:46.300 --> 00:07:50.107\nYou'll see here I just choose one,\nthere's no additional configuration here,\n\n172\n00:07:50.107 --> 00:07:51.826\nwe just go right to profile, right?\n\n173\n00:07:51.826 --> 00:07:55.798\nBut, if I do advanced, right, if you\ncustomize, I can go in and add my first\n\n174\n00:07:55.798 --> 00:08:00.599\nauthentication method, specify computer's\nauthentication method used during IPsec.\n\n175\n00:08:00.599 --> 00:08:04.531\nNegotiations those higher on\nthe list are tried first,\n\n176\n00:08:04.531 --> 00:08:07.302\nmeaning this a hierarchical top down.\n\n177\n00:08:07.302 --> 00:08:09.608\nSo if we have three we're going to go one,\ntwo,\n\n178\n00:08:09.608 --> 00:08:13.810\nthree until we hit the one that will allow\nmyself and Mike to essentially agree.\n\n179\n00:08:13.810 --> 00:08:17.250\nNow I may be in the order Kerberos,\ncertificates, pre-shared key,\n\n180\n00:08:17.250 --> 00:08:20.941\njust like you saw on the rule set right\non the IPsec rule in the group policy.\n\n181\n00:08:20.941 --> 00:08:25.170\nMaybe that's my mirrored order here,\nbut maybe Mike has that order inverted.\n\n182\n00:08:25.170 --> 00:08:31.080\nMaybe on his side his is pre-shared, and\nthen certificates, and then Kerberos.\n\n183\n00:08:32.230 --> 00:08:37.680\nSo if I have them staggered, I as the\nperson initiating, trying to talk to Mike,\n\n184\n00:08:37.680 --> 00:08:41.165\nI'm gonna have to go through and hit my\nvery last rule at the bottom which was\n\n185\n00:08:41.165 --> 00:08:45.510\npre-shared key before I get one\nthat Mike would essentially like.\n\n186\n00:08:45.510 --> 00:08:48.240\nAs a result,\nit may take me more than one try.\n\n187\n00:08:48.240 --> 00:08:50.374\nSo we have to think about\nthe logic of this as well.\n\n188\n00:08:50.374 --> 00:08:54.871\nBecause if you have a lot of systems that\nhave started to implement IPsec, but\n\n189\n00:08:54.871 --> 00:08:59.229\nare are modifying the rule sets and\nmodifying the authentication order and\n\n190\n00:08:59.229 --> 00:09:02.022\nare using different\nauthentication methods.\n\n191\n00:09:02.022 --> 00:09:06.050\nYou talked about a business case where\nmaybe we have a branch office or\n\n192\n00:09:06.050 --> 00:09:06.821\nsomething.\n\n193\n00:09:06.821 --> 00:09:10.343\nAnd maybe in the branch office we're doing\nsomething a little bit different from\n\n194\n00:09:10.343 --> 00:09:14.220\nperhaps corporate and the corporate\nheadquarters will work a different way.\n\n195\n00:09:14.220 --> 00:09:18.288\nWe have to think about that because now we\nmay have to change the configuration to\n\n196\n00:09:18.288 --> 00:09:20.365\nmatch what's happening on the ground.\n\n197\n00:09:20.365 --> 00:09:25.353\nWe talked about the ability to be able to\ndeploy firewall specific configurations\n\n198\n00:09:25.353 --> 00:09:28.908\nthrough group policy and\nuse those by area of the network.\n\n199\n00:09:28.908 --> 00:09:32.010\nAnd that's one of the values of using\ngroup policy to push this deployment.\n\n200\n00:09:32.010 --> 00:09:35.600\nDo the same thing with IPsec, want to be\nthinking about that and considering that.\n\n201\n00:09:35.600 --> 00:09:38.730\nBecause remember, connection security\nrules are part of what we can\n\n202\n00:09:38.730 --> 00:09:41.310\nconfigure and set up as part\nof the group policy control,\n\n203\n00:09:41.310 --> 00:09:43.680\nor group policy configuration\nof the firewall.\n\n204\n00:09:43.680 --> 00:09:45.577\nWe talked about that,\nso keep that in mind.\n\n205\n00:09:45.577 --> 00:09:46.740\nAll right, so we're gonna go ahead.\n\n206\n00:09:46.740 --> 00:09:47.651\nWere you gonna say something?\n\n207\n00:09:47.651 --> 00:09:49.155\nYou kind of-\n&gt;&gt; I was gonna mention too,\n\n208\n00:09:49.155 --> 00:09:51.346\nanother thing that maybe\nwe should bring up here,\n\n209\n00:09:51.346 --> 00:09:53.380\nI know you're gonna bring it up later.\n\n210\n00:09:53.380 --> 00:09:56.486\nWhen we're thinking about authentication\nmethods, we also gotta think about,\n\n211\n00:09:56.486 --> 00:09:58.478\nwho's gonna need to make\nthese IPsec connections.\n\n212\n00:09:58.478 --> 00:10:01.946\nCuz we've been looking at Kerberos, it\nlikes to use Kerberos where the computer\n\n213\n00:10:01.946 --> 00:10:03.437\nand the user or just the computer.\n\n214\n00:10:03.437 --> 00:10:08.097\nBut if I have non-domain members, guests\nthat come in, contractors, temp employees,\n\n215\n00:10:08.097 --> 00:10:12.452\nthat still need to make connections on\nthose secure connections, they wouldn't be\n\n216\n00:10:12.452 --> 00:10:14.240\nable to use Kerberos because,\n&gt;&gt; They would not.\n\n217\n00:10:14.240 --> 00:10:15.741\n&gt;&gt; They're not part of our domain, so\n\n218\n00:10:15.741 --> 00:10:17.850\nthat would not be a valid\nauthentication choice.\n\n219\n00:10:17.850 --> 00:10:19.740\n&gt;&gt; It would not be the appropriate\nauthentication choice.\n\n220\n00:10:20.923 --> 00:10:23.103\nIt could still be valid, but\nwe may just not want them on the network.\n\n221\n00:10:23.103 --> 00:10:26.870\nIt could be perfectly valid, but it would\nnot be a wise choice in the case of us\n\n222\n00:10:26.870 --> 00:10:29.120\nhaving to implement that\nto incorporate them.\n\n223\n00:10:29.120 --> 00:10:32.300\nBut maybe certificates would be,\ncuz we could issue them certificates.\n\n224\n00:10:32.300 --> 00:10:36.180\nEven though they're not part of the domain\nwe could easily issue them certificates.\n\n225\n00:10:36.180 --> 00:10:38.770\nOr, although it's not\nobviously the best choice,\n\n226\n00:10:38.770 --> 00:10:41.880\nand it's probably not the most secure, but\nwe do have that pre-shared key option.\n\n227\n00:10:41.880 --> 00:10:44.900\nJust the password string or\npass string, whatever it would be.\n\n228\n00:10:44.900 --> 00:10:47.370\nThis is the password, or\nwhatever you put there.\n\n229\n00:10:47.370 --> 00:10:48.557\nAnd then, you're exactly right.\n\n230\n00:10:48.557 --> 00:10:49.850\nOr just a password, right?\n\n231\n00:10:49.850 --> 00:10:50.522\nOr just blank.\n\n232\n00:10:50.522 --> 00:10:53.001\nAnd then,\nif we do that we could implement that for\n\n233\n00:10:53.001 --> 00:10:55.668\nthem even though they're\nnot members of the domain.\n\n234\n00:10:55.668 --> 00:10:57.080\nSo we do have some fallback options.\n\n235\n00:10:57.080 --> 00:10:58.190\nYou're absolutely right.\n\n236\n00:10:58.190 --> 00:10:59.910\nAll right, so computer you see here,\n\n237\n00:10:59.910 --> 00:11:02.780\nright as we delve under the hood\nto specify what we want.\n\n238\n00:11:02.780 --> 00:11:05.739\nComputer v5 for Kerberos,\ncomputer NTLM v2,\n\n239\n00:11:05.739 --> 00:11:10.374\ncomputer certificates talk about\ncertificates in the firewall episodes.\n\n240\n00:11:10.374 --> 00:11:14.003\nI talked about the difference between\nthe root CA and the intermediate CA,\n\n241\n00:11:14.003 --> 00:11:16.028\nkinda went through the logic of all that.\n\n242\n00:11:16.028 --> 00:11:19.494\nTalked about what the pre-shared key is,\nso obviously, it does tell you,\n\n243\n00:11:19.494 --> 00:11:21.530\npre-shared keys are stored in plain text.\n\n244\n00:11:21.530 --> 00:11:23.911\nWhen pre-shared key\nauthentication is used,\n\n245\n00:11:23.911 --> 00:11:26.356\nsecond authentication cannot be used,\nright?\n\n246\n00:11:26.356 --> 00:11:28.909\nIn other words,\nwhen you get to that point, that's it.\n\n247\n00:11:28.909 --> 00:11:33.173\nThere's no fall back method cuz that\nis the lowest common denominator.\n\n248\n00:11:33.173 --> 00:11:34.469\nSo just keep that in mind.\n\n249\n00:11:34.469 --> 00:11:36.739\nSo I did maybe Kerberos v5 here.\n\n250\n00:11:38.190 --> 00:11:42.118\nAnd then if I just let's say add\nmaybe NTLM, stack the twos so\n\n251\n00:11:42.118 --> 00:11:47.066\nyou can see I'm kind of saying okay\nKerberos first and tell them v2 second.\n\n252\n00:11:47.066 --> 00:11:51.952\nIt's my first authentication methods and\nthen when I come over here do my\n\n253\n00:11:51.952 --> 00:11:57.296\nsecond one Notice that\n\n254\n00:11:57.296 --> 00:12:02.498\nwhen I do second you see here,\nno pre-shared key is available here.\n\n255\n00:12:02.498 --> 00:12:05.732\nSo, you only have the pre-shared key over\non the first side not as a fall back on\n\n256\n00:12:05.732 --> 00:12:06.470\nthe second side.\n\n257\n00:12:06.470 --> 00:12:09.482\nAnd if I do it,\nsecond authentication doesn't happen or\n\n258\n00:12:09.482 --> 00:12:11.470\nsecond options do not occur.\n\n259\n00:12:11.470 --> 00:12:15.449\nSo I could then say, here I would have\nto obviously specify a certificate.\n\n260\n00:12:15.449 --> 00:12:18.201\nI can't actually do that unless\nI have a certificate, but\n\n261\n00:12:18.201 --> 00:12:21.750\nyou get the idea to put a certificate\nhere and then we'll be able to do this.\n\n262\n00:12:23.780 --> 00:12:25.967\nSo I can kind of specify what I want here.\n\n263\n00:12:25.967 --> 00:12:28.450\nCan obviously edit or remove as needed.\n\n264\n00:12:28.450 --> 00:12:32.020\nKind of go through and walk through\nthe logic of what I want to put in.\n\n265\n00:12:32.020 --> 00:12:36.450\nMaybe put NTLM v2 on the other side here,\ninstead of stacking it up over there.\n\n266\n00:12:36.450 --> 00:12:41.730\nSo I can say, Kerberos and then NTLM and\nkind of set it up this way.\n\n267\n00:12:41.730 --> 00:12:44.140\nSo once I'm done with that I click OK and\n\n268\n00:12:44.140 --> 00:12:47.660\nthen I've got my advanced settings\nconfigured, so I've got that.\n\n269\n00:12:47.660 --> 00:12:49.381\nThen we have to look at our profile.\n\n270\n00:12:49.381 --> 00:12:52.150\nYou know the profile is just a matter\nof which of three, one, two or\n\n271\n00:12:52.150 --> 00:12:54.880\nall three of the profiles for\n\n272\n00:12:54.880 --> 00:12:59.180\nprotection the categories domain\nprivate public which is to apply to.\n\n273\n00:12:59.180 --> 00:13:02.390\nRemember by default we do\nassume you wanted to find and\n\n274\n00:13:02.390 --> 00:13:05.900\napply this to all three, but\nwe can obviously make a change there.\n\n275\n00:13:05.900 --> 00:13:07.510\nIt's up to us to decide,\n\n276\n00:13:07.510 --> 00:13:12.970\nif we don't want this to apply to\nthe public as you were suggesting, Mike.\n\n277\n00:13:12.970 --> 00:13:18.030\nCuz maybe with NTLM v2 and/or Kerberos,\nsomebody in the public area\n\n278\n00:13:18.030 --> 00:13:21.610\nwould more often than not probably\nnot be a member of the domain.\n\n279\n00:13:21.610 --> 00:13:24.900\nSo if they are a member of the domain\ncoming in from outside they're probably,\n\n280\n00:13:24.900 --> 00:13:28.370\nhopefully, doing this for VPN, which means\nthey wouldn't fall into this category\n\n281\n00:13:28.370 --> 00:13:30.276\nunder this protection profile anyway.\n\n282\n00:13:30.276 --> 00:13:32.850\nSo, chance are good anybody\nin the public sphere or\n\n283\n00:13:32.850 --> 00:13:36.990\nin the public realm that the firewall\nprotection profile applies to\n\n284\n00:13:36.990 --> 00:13:40.700\nis probably not going to be\ncategorized as a domain member.\n\n285\n00:13:40.700 --> 00:13:44.780\nSo we may exclude that just for\nhousekeeping purposes, really simple.\n\n286\n00:13:44.780 --> 00:13:49.739\nWe'll call this IPsec\nconnection security rule,\n\n287\n00:13:49.739 --> 00:13:52.978\nCSR1, just to keep track of it.\n\n288\n00:13:52.978 --> 00:13:56.198\nNow, we'll click Finish, and we'll put\nthat in, and that's how we go ahead and\n\n289\n00:13:56.198 --> 00:13:57.660\ncreate a connection security rule.\n\n290\n00:13:57.660 --> 00:13:59.130\nWe would obviously just stack these up.\n\n291\n00:13:59.130 --> 00:14:02.730\nWe may have multiples of these depending\nwhat it is we're looking to do and\n\n292\n00:14:02.730 --> 00:14:03.610\nhow many of these we want.\n\n293\n00:14:03.610 --> 00:14:05.820\nWe'll create at least one more,\nand just go through and\n\n294\n00:14:05.820 --> 00:14:07.610\ntake a look at some of\nthe different options.\n\n295\n00:14:07.610 --> 00:14:11.540\nBut once we do that,\nwe have all the rules in place.\n\n296\n00:14:11.540 --> 00:14:13.270\nThen we can take a look at\nthe group policy side and\n\n297\n00:14:13.270 --> 00:14:14.910\njust kinda see what those settings are.\n\n298\n00:14:14.910 --> 00:14:18.450\nLet's create one more just to show you\nwhat one more option may look like.\n\n299\n00:14:18.450 --> 00:14:21.605\nSo we did isolation, let's move this up.\n\n300\n00:14:21.605 --> 00:14:23.890\nSo let's go ahead and\n\n301\n00:14:23.890 --> 00:14:28.860\nlet's take a look at tunnel,\nanother one that's often pretty useful.\n\n302\n00:14:28.860 --> 00:14:32.310\nSo connection, are we gonna do what\ntype of tunnel, custom configuration,\n\n303\n00:14:32.310 --> 00:14:34.124\nclient to gateway, gateway to client.\n\n304\n00:14:34.124 --> 00:14:37.399\nRemember we talked about the fact we could\neither tunnel between two gateways, or\n\n305\n00:14:37.399 --> 00:14:40.627\ntunnel up to, in theory, the gateway,\nalthough, we don't often do that, but\n\n306\n00:14:40.627 --> 00:14:41.830\nwe could if we wanted to.\n\n307\n00:14:41.830 --> 00:14:45.455\nRemember, this is authentication,\nnot the actual connection itself, but\n\n308\n00:14:45.455 --> 00:14:47.385\nthe authentication of the connection.\n\n309\n00:14:47.385 --> 00:14:50.155\nSo specify the tunnel endpoints\nthat the computers can be reached\n\n310\n00:14:50.155 --> 00:14:50.995\nat either end of the tunnel.\n\n311\n00:14:50.995 --> 00:14:54.715\nI think this is the one I did when we\nactually walked through the demonstration.\n\n312\n00:14:54.715 --> 00:14:58.505\nAnd would you like to exempt IPsec\nprotected connections from this tunnel?\n\n313\n00:14:58.505 --> 00:15:01.835\nMeaning you want to allow or\nnot allow them authenticate and use this.\n\n314\n00:15:01.835 --> 00:15:02.845\nIt's up to us.\n\n315\n00:15:02.845 --> 00:15:03.415\nWe are saying no,\n\n316\n00:15:03.415 --> 00:15:07.665\nsend all traffic that matches this\nconnection through the tunnel.\n\n317\n00:15:07.665 --> 00:15:10.870\nMeaning any and all traffic that\nmatch the profile should go,\n\n318\n00:15:10.870 --> 00:15:12.860\nas opposed to maybe\nexempting certain traffic.\n\n319\n00:15:12.860 --> 00:15:16.090\nAs I said, it would be carving out an\nexemption for maybe a machine that may or\n\n320\n00:15:16.090 --> 00:15:17.670\nmay not support this.\n\n321\n00:15:17.670 --> 00:15:21.620\nMaybe it's a Windows XP machine running\nsome sort of clinical app or something,\n\n322\n00:15:21.620 --> 00:15:23.240\nwe just want to have an exemption for it.\n\n323\n00:15:23.240 --> 00:15:23.900\nWho knows.\n\n324\n00:15:23.900 --> 00:15:25.890\nSo we'll go ahead and\nwe'll configure this.\n\n325\n00:15:25.890 --> 00:15:30.850\nAre we gonna again require authentication\nfor both inbound and outbound?\n\n326\n00:15:30.850 --> 00:15:32.200\nAre we not gonna authenticate?\n\n327\n00:15:32.200 --> 00:15:34.820\nAre we gonna require authentication for\ninbound, but\n\n328\n00:15:34.820 --> 00:15:36.420\ndo not establish tunnels for outbound.\n\n329\n00:15:36.420 --> 00:15:39.130\nEssentially, only inbound\nconnections are authenticated.\n\n330\n00:15:39.130 --> 00:15:43.070\nSo, full authentication both sides,\nonly one side, or no authentication.\n\n331\n00:15:43.070 --> 00:15:44.600\nIt's up to us to decide.\n\n332\n00:15:44.600 --> 00:15:47.648\nSo let's do require for both.\n\n333\n00:15:47.648 --> 00:15:49.888\nWhich computers are in endpoint one,\n\n334\n00:15:49.888 --> 00:15:53.324\nwe'd have to add in our computers\nby IP subnet or IP range.\n\n335\n00:15:53.324 --> 00:15:56.242\nI pointed this out last time we walked\nthrough this in the firewall episode.\n\n336\n00:15:56.242 --> 00:16:00.235\nI pointed out we support IPv4 and IPv6\nhere, so it'd be important to know that.\n\n337\n00:16:00.235 --> 00:16:04.239\nI could do an IP range, or\npredefined set of computers.\n\n338\n00:16:04.239 --> 00:16:08.744\nYou'll see here we have\ncategories like default gateway,\n\n339\n00:16:08.744 --> 00:16:13.200\nWINS, DNS, DHCP servers,\nintranet, Internet.\n\n340\n00:16:13.200 --> 00:16:14.450\nSo we can go ahead and\n\n341\n00:16:14.450 --> 00:16:19.790\nspecify one of these categories as well,\nmaybe WIN servers.\n\n342\n00:16:19.790 --> 00:16:22.310\nCuz those are real popular,\nwe use those a lot, right?\n\n343\n00:16:22.310 --> 00:16:25.510\nAll right, so we could do that, obviously-\n&gt;&gt; First thing I set up on any network.\n\n344\n00:16:25.510 --> 00:16:28.784\n&gt;&gt; Of course, that and NetBIOS,\ngotta have that running at all times,\n\n345\n00:16:28.784 --> 00:16:29.974\nno matter what, right?\n\n346\n00:16:29.974 --> 00:16:32.914\nAll right, so\nwhat is the local tunnel endpoint, right,\n\n347\n00:16:32.914 --> 00:16:34.894\nclosest to computers in endpoint one?\n\n348\n00:16:34.894 --> 00:16:36.194\nSo what's the IP address?\n\n349\n00:16:36.194 --> 00:16:39.428\nIt's either v4 or v6,\nthat would be the local tunnel endpoint,\n\n350\n00:16:39.428 --> 00:16:43.416\nmeaning the machine that we're gonna\nessentially specify as our bridge head, or\n\n351\n00:16:43.416 --> 00:16:45.640\nwe're gonna specify this is gonna connect.\n\n352\n00:16:45.640 --> 00:16:47.300\nSo again we could add that in, or\n\n353\n00:16:47.300 --> 00:16:50.730\nif you click Edit here you'll\nsee we can add any address.\n\n354\n00:16:50.730 --> 00:16:52.910\nThat's a dynamic tunnel\nconfiguration essentially.\n\n355\n00:16:52.910 --> 00:16:56.720\nIt'll pull whatever address in that range,\nWIN servers, or the DHCP subnet or\n\n356\n00:16:56.720 --> 00:17:00.870\nwhatever we specify, or I can hard code\none just for purposes of quick and\n\n357\n00:17:00.870 --> 00:17:03.100\neasy configuration during\nthe demonstration.\n\n358\n00:17:03.100 --> 00:17:06.870\nI'll just simply specify any any,\nright, just to make that easier, and\n\n359\n00:17:06.870 --> 00:17:07.950\nthe same thing here.\n\n360\n00:17:07.950 --> 00:17:12.484\nI'll just do dynamic just because it's\neasier than me having to actually type in\n\n361\n00:17:12.484 --> 00:17:13.540\nan IP-\n&gt;&gt; [LAUGH]\n\n362\n00:17:13.540 --> 00:17:14.511\n&gt;&gt; Worry about all that.\n\n363\n00:17:14.511 --> 00:17:15.854\nYou've all seen me type,\nyou know that is the truth.\n\n364\n00:17:15.854 --> 00:17:17.253\n&gt;&gt; [LAUGH]\n&gt;&gt; Right, so\n\n365\n00:17:17.253 --> 00:17:19.724\njust make sure you're aware of that.\n\n366\n00:17:19.724 --> 00:17:22.131\nAll right, and\nthen it reminds us here, right,\n\n367\n00:17:22.131 --> 00:17:25.713\nthat there's a tie in back to the\nproperties on the Firewall tab we saw for\n\n368\n00:17:25.713 --> 00:17:30.090\nIPSec, with those tunnel authorizations,\nthe bottom option for all the properties.\n\n369\n00:17:30.090 --> 00:17:33.430\nWhere we said, remember, those\nare inbound authorizations coming in.\n\n370\n00:17:33.430 --> 00:17:36.736\nApply IPSec tunnel authorizations as\nspecified on the IPSec settings tab of\n\n371\n00:17:36.736 --> 00:17:39.190\nthe firewall in the event\nof security properties.\n\n372\n00:17:39.190 --> 00:17:42.554\nIf I have created my allow and\ndeny list there, remember I can allow or\n\n373\n00:17:42.554 --> 00:17:45.690\ndeny Mike and Mike's computer,\nwe talked about that, right?\n\n374\n00:17:45.690 --> 00:17:48.710\nAnd the idea of trying to catch\nMike in all the different places.\n\n375\n00:17:48.710 --> 00:17:51.850\nHe would try to come in and\nI could say hey, these IP rainas and\n\n376\n00:17:51.850 --> 00:17:53.930\nthis user account block.\n\n377\n00:17:53.930 --> 00:17:58.497\nI could check off this box here and tie\nthose configurations into this rule, and\n\n378\n00:17:58.497 --> 00:18:00.348\nlink the two together, right?\n\n379\n00:18:00.348 --> 00:18:04.828\nSo I can use or leverage that, so I get\nthe value of that allowing block list,\n\n380\n00:18:04.828 --> 00:18:07.768\nalong with the rule here\nto further ratchet down or\n\n381\n00:18:07.768 --> 00:18:10.640\nlock down my protection\nprofile as part of this.\n\n382\n00:18:10.640 --> 00:18:11.960\nSo I can check that off.\n\n383\n00:18:11.960 --> 00:18:13.440\nYou see I've just done that.\n\n384\n00:18:13.440 --> 00:18:18.600\nThen I can click Next, authentication\nmethod is computer certificate based.\n\n385\n00:18:18.600 --> 00:18:20.830\nI obviously have to\nspecify the certificate.\n\n386\n00:18:20.830 --> 00:18:25.478\nMy CA name, or I could do advanced,\nand as you've seen, come in,\n\n387\n00:18:25.478 --> 00:18:27.892\nyou've seen this window before.\n\n388\n00:18:27.892 --> 00:18:28.538\n&gt;&gt; Looks familiar.\n\n389\n00:18:28.538 --> 00:18:29.888\n&gt;&gt; It should look familiar, right?\n\n390\n00:18:29.888 --> 00:18:34.721\nWe can do our Kerberos and\nwe could do our NTLM.\n\n391\n00:18:34.721 --> 00:18:38.184\nLet's do that here.\n\n392\n00:18:38.184 --> 00:18:41.022\nSo we got those.\n\n393\n00:18:41.022 --> 00:18:44.971\nRemember, no pre-shared key,\nno password on the secondary area,\n\n394\n00:18:44.971 --> 00:18:46.750\nonly in the first one, right?\n\n395\n00:18:46.750 --> 00:18:50.040\nSo that's why you keep seeing it's\nnot there when I go to the wizard.\n\n396\n00:18:50.040 --> 00:18:52.580\nAll right, so again we may\nchoose to drop out the public,\n\n397\n00:18:52.580 --> 00:18:54.430\nor keep it or\nanything last time we dropped it out.\n\n398\n00:18:54.430 --> 00:18:55.940\nWe'll keep it in, all right?\n\n399\n00:18:55.940 --> 00:19:00.020\nThis one we'll call, I don't even\nknow what we called the other rule.\n\n400\n00:19:00.020 --> 00:19:00.930\n&gt;&gt; CSR1, I think?\n\n401\n00:19:02.920 --> 00:19:10.161\n&gt;&gt; IPSec, CSR, so we'll do IPSec CSR 2.\n\n402\n00:19:10.161 --> 00:19:15.793\nMove that back up real quick,\nReal quick being a relative thing.\n\n403\n00:19:15.793 --> 00:19:19.006\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, there we go.\n\n404\n00:19:19.006 --> 00:19:20.352\nYay, latency.\n\n405\n00:19:20.352 --> 00:19:22.242\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so we'll click Finish,\n\n406\n00:19:22.242 --> 00:19:22.960\nwe've got that.\n\n407\n00:19:22.960 --> 00:19:26.340\nNow the icon, it's hard to see I know,\nbut the icon is a little different.\n\n408\n00:19:26.340 --> 00:19:29.792\nThis one has a little different icon then,\nthere we go, than that one there.\n\n409\n00:19:29.792 --> 00:19:32.660\nIt has two machines kind of\nlinked together in squares.\n\n410\n00:19:32.660 --> 00:19:33.332\nThis one has,\n\n411\n00:19:33.332 --> 00:19:36.638\nbest I can describe is it looks like\ntwo circles as opposed to squares.\n\n412\n00:19:36.638 --> 00:19:38.519\n&gt;&gt; [LAUGH]\n&gt;&gt; Yeah, kind of linked together.\n\n413\n00:19:38.519 --> 00:19:39.228\n&gt;&gt; It's tunnel versus transport then?\n\n414\n00:19:39.228 --> 00:19:41.986\n&gt;&gt; And the L goes the other way, so\nyeah, just I have a crummy use for it,\n\n415\n00:19:41.986 --> 00:19:43.020\nthat's all.\n\n416\n00:19:43.020 --> 00:19:45.490\nAll right, so we do have all that.\n\n417\n00:19:45.490 --> 00:19:47.150\nSo you've seen how to walk through and\n\n418\n00:19:47.150 --> 00:19:49.130\nkind of configure some of\nthe connection security rules.\n\n419\n00:19:49.130 --> 00:19:52.335\nLet's flip over and take a look at\nthe other side of this equation,\n\n420\n00:19:52.335 --> 00:19:54.750\nwhich is the group policy-based area for\nIPSec.\n\n421\n00:19:54.750 --> 00:19:56.090\nSo we come over here.\n\n422\n00:19:56.090 --> 00:19:58.030\nNow what I've done, let's bring this up.\n\n423\n00:19:58.030 --> 00:20:02.160\nIs I've gone to the server manager,\nas we always do,\n\n424\n00:20:02.160 --> 00:20:07.600\nand gone into tools, opened up my\ngroup policy management console.\n\n425\n00:20:07.600 --> 00:20:11.520\nSo I've gone here,\nshows in group policy management.\n\n426\n00:20:12.920 --> 00:20:14.830\nLet's assume I clicked on that.\n\n427\n00:20:14.830 --> 00:20:17.820\nThat then brings up the group\npolicy management console.\n\n428\n00:20:17.820 --> 00:20:19.220\nI've gone ahead and\n\n429\n00:20:19.220 --> 00:20:23.440\ncreated a brand new group policy that I\ncan now just edit or play around with.\n\n430\n00:20:23.440 --> 00:20:25.840\nI can do this on the default\nthe main policy as well.\n\n431\n00:20:25.840 --> 00:20:29.235\nI chose to link it to one of\nthe OUs called APAC there.\n\n432\n00:20:29.235 --> 00:20:32.345\nRight-click new policy,\ncreate a link here, name it, did that.\n\n433\n00:20:32.345 --> 00:20:34.610\nRight-click, edit on the policy,\ndone that.\n\n434\n00:20:34.610 --> 00:20:39.340\nSo let's assume I did that, and that takes\nus to here, which is where the policy is.\n\n435\n00:20:39.340 --> 00:20:41.940\nI've just opened it up as I\nwas demoing with you earlier.\n\n436\n00:20:41.940 --> 00:20:45.880\nSo you can see I'm editing the IPSec\npolicy, computer configurations,\n\n437\n00:20:45.880 --> 00:20:49.040\npolicies, Windows settings,\nsecurity settings.\n\n438\n00:20:49.040 --> 00:20:51.180\nJust drilling just so\nyou know where we are.\n\n439\n00:20:51.180 --> 00:20:53.720\nAnd instead of the firewall\nsettings which we looked at\n\n440\n00:20:53.720 --> 00:20:58.170\nin some of the prior episodes in the same\narea, we're now on IP security policies on\n\n441\n00:20:58.170 --> 00:21:02.710\nwhatever the domain designation is, Active\nDirectory, practicelabs.com in this case.\n\n442\n00:21:02.710 --> 00:21:09.225\nAnd I have three already created out\nof the box rules that are available.\n\n443\n00:21:09.225 --> 00:21:11.642\nYou'll see here, policies rather,\nthat are available.\n\n444\n00:21:11.642 --> 00:21:14.851\nClient respond only,\ncommunicate normally unsecured.\n\n445\n00:21:14.851 --> 00:21:18.698\nThis uses the default response tool to\nnegotiate with servers that may request\n\n446\n00:21:18.698 --> 00:21:19.290\nsecurity.\n\n447\n00:21:19.290 --> 00:21:23.282\nBut this will allow us to step up and\nattempt our best effort,\n\n448\n00:21:23.282 --> 00:21:26.431\nthat will allow us to\nprovide communications.\n\n449\n00:21:26.431 --> 00:21:30.854\nEven if we can't meet the burden and the\nrequirements of the full implementation\n\n450\n00:21:30.854 --> 00:21:32.758\nof IPSec, unless it is required.\n\n451\n00:21:32.758 --> 00:21:35.720\nIf it's a request, we'll be able\nto negotiate, do our best effort.\n\n452\n00:21:35.720 --> 00:21:39.220\nBut if it's required and we don't support\nIPSec, then we'll drop the connection.\n\n453\n00:21:39.220 --> 00:21:41.030\nThat's what this one essentially does.\n\n454\n00:21:41.030 --> 00:21:45.745\nAnd then on the server side, right,\nsecure server required, so either IPSec or\n\n455\n00:21:45.745 --> 00:21:47.175\nno communication.\n\n456\n00:21:47.175 --> 00:21:52.098\nFor all IP traffic always require security\nusing Kerberos trust, do not, right?\n\n457\n00:21:52.098 --> 00:21:52.889\nI love do not.\n\n458\n00:21:52.889 --> 00:21:55.309\nDo is normal, not-\n&gt;&gt; [LAUGH]\n\n459\n00:21:55.309 --> 00:21:55.959\n&gt;&gt; Capital, right?\n\n460\n00:21:55.959 --> 00:21:58.770\nDo not allow unscripted\ncommunications with untrusted clients.\n\n461\n00:21:58.770 --> 00:22:01.332\nStranger danger,\ndon't talk to strangers, right?\n\n462\n00:22:01.332 --> 00:22:04.250\nAnd then server request\nsecurity fraud be traffic.\n\n463\n00:22:04.250 --> 00:22:06.478\nAlways request security using Kerberos,\nbut\n\n464\n00:22:06.478 --> 00:22:09.160\nnegotiate down to the lowest\ncommon denominator.\n\n465\n00:22:09.160 --> 00:22:12.230\nRemember, lowest common denominator\nmay be, essentially, a password,\n\n466\n00:22:12.230 --> 00:22:16.660\na shared, private secret or\nperfect security, whatever it may be.\n\n467\n00:22:16.660 --> 00:22:19.040\nAnd as a result,\nwe wanna know that, right?\n\n468\n00:22:19.040 --> 00:22:20.308\nSo we have three options here.\n\n469\n00:22:20.308 --> 00:22:24.490\nNow we can also create our\nown IP security policy.\n\n470\n00:22:24.490 --> 00:22:27.335\nThis is where it gets a little fuzzy and\ncrazy with all the options.\n\n471\n00:22:27.335 --> 00:22:29.057\n&gt;&gt; [LAUGH]\n&gt;&gt; Can manage our IP filter list and\n\n472\n00:22:29.057 --> 00:22:29.810\nactions.\n\n473\n00:22:29.810 --> 00:22:33.560\nSo we're gonna go through, just take\na quick highlight tour on this one.\n\n474\n00:22:33.560 --> 00:22:34.440\nWe're gonna come back and\n\n475\n00:22:34.440 --> 00:22:37.360\ndo a little bit of a deeper dive and\nactually walk through all of the bells and\n\n476\n00:22:37.360 --> 00:22:41.170\nwhistles to do a full, complete IP\nsecurity policy from the beginning.\n\n477\n00:22:41.170 --> 00:22:42.610\nCuz that does take-\n&gt;&gt; Yeah.\n\n478\n00:22:42.610 --> 00:22:45.480\n&gt;&gt; A good 15 or so\nminutes to talk about all the options and\n\n479\n00:22:45.480 --> 00:22:47.019\nactually do the whole thing.\n\n480\n00:22:47.019 --> 00:22:49.791\nAnd so let's just take a look at one\nof the ones that's already existing.\n\n481\n00:22:49.791 --> 00:22:51.225\nLet's get a sense of what's there.\n\n482\n00:22:51.225 --> 00:22:52.763\nAnd then in the next\nepisode we'll come back and\n\n483\n00:22:52.763 --> 00:22:53.884\nwatch as we create our own policy.\n\n484\n00:22:53.884 --> 00:22:56.127\nSo let's go ahead and\nlet's look at server require, right?\n\n485\n00:22:56.127 --> 00:22:59.576\nWe quickly took a look at client respond\nbefore, so let's highlight this one,\n\n486\n00:22:59.576 --> 00:23:00.800\njust right-click.\n\n487\n00:23:00.800 --> 00:23:02.190\nWe'll go in and go to Properties.\n\n488\n00:23:04.210 --> 00:23:08.470\nAnd let's start just by taking a look at\nthen, on the rules area, we do have three\n\n489\n00:23:08.470 --> 00:23:12.180\nrules that already exist or\nare pre-defined under IP security rules.\n\n490\n00:23:12.180 --> 00:23:16.230\nYou can see we have all IP traffic,\nfilter action requires security,\n\n491\n00:23:16.230 --> 00:23:18.002\nauthentication level is Kerberos.\n\n492\n00:23:18.002 --> 00:23:20.020\nTunnel endpoint, no tunneling.\n\n493\n00:23:20.020 --> 00:23:23.610\nAll connections or connection as\nyou can see here, type all meaning.\n\n494\n00:23:23.610 --> 00:23:27.100\nAll traffic coming through\nhere requires security.\n\n495\n00:23:27.100 --> 00:23:28.150\nBut we're not tunneling.\n\n496\n00:23:28.150 --> 00:23:30.710\nWe are transporting, right,\nthat's what this says.\n\n497\n00:23:30.710 --> 00:23:33.090\nSo no tunnel endpoint has been specified.\n\n498\n00:23:33.090 --> 00:23:35.420\nAnd you'll see all ICMP traffic.\n\n499\n00:23:35.420 --> 00:23:39.090\nWe usually break ICMP out separately,\nbecause of what it is used for.\n\n500\n00:23:39.090 --> 00:23:41.880\nWe are permitting, all right,\nno authentication.\n\n501\n00:23:41.880 --> 00:23:44.460\nBecause we don't typically\nauthenticate ICMP traffic.\n\n502\n00:23:44.460 --> 00:23:47.090\nAnd we are applying that\nto all the connections.\n\n503\n00:23:47.090 --> 00:23:51.782\n&gt;&gt; Yeah, a lot of times we're using ICMP\nto test network connectivity issues.\n\n504\n00:23:51.782 --> 00:23:53.770\n&gt;&gt; So there wouldn't be an authentication.\n\n505\n00:23:53.770 --> 00:23:54.494\n&gt;&gt; It would be tricky.\n\n506\n00:23:54.494 --> 00:23:58.281\nYeah, that can ruin your test if you've\ngot to authenticate just to send a ping.\n\n507\n00:23:58.281 --> 00:23:59.786\nOr if you can't, then you wouldn't\nbe able to authenticate, right?\n\n508\n00:23:59.786 --> 00:24:00.451\n&gt;&gt; Exactly.\n\n509\n00:24:00.451 --> 00:24:02.282\n[LAUGH]\n&gt;&gt; All right so and then dynamic,\n\n510\n00:24:02.282 --> 00:24:04.542\nthis is the default response rule,\nmeaning remember,\n\n511\n00:24:04.542 --> 00:24:07.395\nwe always had that catchall rule,\ntalked about this with firewalls.\n\n512\n00:24:07.395 --> 00:24:09.650\nEssentially block all traffic, right?\n\n513\n00:24:09.650 --> 00:24:14.040\nSo we have a default response rule with\nIPsec as well and this is going to\n\n514\n00:24:14.040 --> 00:24:18.480\nbe the default response, and this is\ngoing to be essentially use Kerberos,\n\n515\n00:24:18.480 --> 00:24:22.370\nbecause we are requiring security,\nso we're gonna default to Kerberos.\n\n516\n00:24:22.370 --> 00:24:25.060\nAnd you'll see that it is\napplied to all traffic, meaning\n\n517\n00:24:25.060 --> 00:24:29.147\nif the traffic coming in doesn't match\nthe other two, then we'll use this rule.\n\n518\n00:24:29.147 --> 00:24:32.168\nBut, essentially, all the traffic\nis gonna match because the very\n\n519\n00:24:32.168 --> 00:24:33.971\nfirst rule says all IP traffic, right?\n\n520\n00:24:33.971 --> 00:24:35.076\n&gt;&gt; [LAUGH]\n&gt;&gt; And then ICMP, so\n\n521\n00:24:35.076 --> 00:24:38.616\nif it's something odd that's not IP-based\nand not ICMP-based it's caught by\n\n522\n00:24:38.616 --> 00:24:42.259\nthe dynamic rule, if you have one of these\noff in the corner protocols that doesn't\n\n523\n00:24:42.259 --> 00:24:44.880\nfall into that category and\nthere could be some, right?\n\n524\n00:24:44.880 --> 00:24:46.206\nThen, you may catch that.\n\n525\n00:24:46.206 --> 00:24:48.050\nYou'll catch that with the last rule.\n\n526\n00:24:48.050 --> 00:24:50.040\nSo we can add or edit any of these rules.\n\n527\n00:24:50.040 --> 00:24:51.910\nWe'll take a look at\nthat in just a moment.\n\n528\n00:24:51.910 --> 00:24:54.125\nOr, we have this General\ntab sitting over here.\n\n529\n00:24:54.125 --> 00:24:55.366\nThis gives us our name.\n\n530\n00:24:55.366 --> 00:24:56.670\nIt's just an metadata descriptive.\n\n531\n00:24:56.670 --> 00:24:57.846\nThat's really all it is.\n\n532\n00:24:57.846 --> 00:25:02.269\nBut the thing that is important here,\nis to check for policy changes every three\n\n533\n00:25:02.269 --> 00:25:07.168\nhours, or 180 minutes by default, we check\nto see if policy changes have happened.\n\n534\n00:25:07.168 --> 00:25:10.055\nIf there are any,\nwe would then refresh and update, and\n\n535\n00:25:10.055 --> 00:25:14.260\nthat's built in to every one of the rules,\nwe specify a time value for that.\n\n536\n00:25:14.260 --> 00:25:18.430\nThis is separate, by the way from the\ngeneral refresh on group policy, right?\n\n537\n00:25:18.430 --> 00:25:22.770\nBecause group policy will refresh every\nfive minutes on domain controllers,\n\n538\n00:25:22.770 --> 00:25:27.062\nrefreshes 90 minutes with up to a 30\nminute offset on normal non-domain\n\n539\n00:25:27.062 --> 00:25:29.070\ncontroller domain joined machines.\n\n540\n00:25:29.070 --> 00:25:32.520\nAnd so as a result,\nwe see somewhere between 5 minutes and\n\n541\n00:25:32.520 --> 00:25:34.930\n120 minutes,depending on the machine, or\n\n542\n00:25:34.930 --> 00:25:36.870\n90 to 120 minutes if it's\nnot a domain controller.\n\n543\n00:25:36.870 --> 00:25:38.030\nThis is separate.\n\n544\n00:25:38.030 --> 00:25:40.789\nWe're checking for\npolicy updates and changing and\n\n545\n00:25:40.789 --> 00:25:45.506\nconfiguring every three hours specific to\nIPsec, separate from group policy updates.\n\n546\n00:25:45.506 --> 00:25:47.360\nJust keep that in mind.\n\n547\n00:25:47.360 --> 00:25:51.973\nAnd then, settings perform key\nexchange using additional settings.\n\n548\n00:25:51.973 --> 00:25:55.088\nWe do have the ability here to\nbe able to authenticate and\n\n549\n00:25:55.088 --> 00:25:57.492\nspecify settings around key generation.\n\n550\n00:25:57.492 --> 00:26:01.716\nAs in the keys that we use for\nencryption to do the protection and\n\n551\n00:26:01.716 --> 00:26:07.490\nthe confidentiality protection, in terms\nof the encryption on the IPsec settings.\n\n552\n00:26:07.490 --> 00:26:08.830\nBy default here authenticate and\n\n553\n00:26:08.830 --> 00:26:13.480\ngenerate a new key after every 480\nminutes which would be eight hours right?\n\n554\n00:26:13.480 --> 00:26:14.400\nIf I did my math correctly.\n\n555\n00:26:14.400 --> 00:26:15.620\n&gt;&gt; I believe it's all right.\n\n556\n00:26:15.620 --> 00:26:17.730\n&gt;&gt; Okay, that's good it wasn't in\nseconds because there was no way\n\n557\n00:26:17.730 --> 00:26:18.515\nthat was happening.\n\n558\n00:26:18.515 --> 00:26:19.949\n&gt;&gt; [LAUGH].\n&gt;&gt; And then, authenticate and\n\n559\n00:26:19.949 --> 00:26:21.850\ngenerate new key after every so\nmany sessions.\n\n560\n00:26:21.850 --> 00:26:24.660\nWe could do this either minutes or\nsession based, right?\n\n561\n00:26:24.660 --> 00:26:28.760\nBy default, you'll see the setting is for\nminutes, but we could say after\n\n562\n00:26:28.760 --> 00:26:32.140\nfive sessions as opposed to 480 minutes,\nhowever long that took.\n\n563\n00:26:32.140 --> 00:26:33.350\nCould be a minute, could be a day,\n\n564\n00:26:33.350 --> 00:26:37.060\ncould be a year to get five\nseparate sessions negotiated out.\n\n565\n00:26:37.060 --> 00:26:40.790\nWhatever it is, we could just say every so\nmany sessions change the key.\n\n566\n00:26:40.790 --> 00:26:42.810\nWhich may be or may not be more secure,\n\n567\n00:26:42.810 --> 00:26:46.800\ndepending on much traffic we have\nversus how much time we spend.\n\n568\n00:26:46.800 --> 00:26:48.340\nYou have to think about\nthe logic of those things and\n\n569\n00:26:48.340 --> 00:26:50.630\njust think through how\nthat's going to work.\n\n570\n00:26:50.630 --> 00:26:54.840\nAnd then protect identities\nwith IKE security methods.\n\n571\n00:26:54.840 --> 00:26:57.450\nInternet Key Exchange\nis what IKE stands for.\n\n572\n00:26:57.450 --> 00:26:59.020\nClick the methods here.\n\n573\n00:26:59.020 --> 00:27:03.402\nAnd we have our ability to be able to\nsee how we are doing our encryption,\n\n574\n00:27:03.402 --> 00:27:05.825\nour integrity, and our key exchange.\n\n575\n00:27:05.825 --> 00:27:10.397\nDES, 3DES, SHA1, excuse me, MD5,\nDiffie-Hellman, which is used for\n\n576\n00:27:10.397 --> 00:27:13.808\nkey exchange as an algorithm\nthat can be used here as well.\n\n577\n00:27:13.808 --> 00:27:16.300\nSo we could just take\na look at one of these.\n\n578\n00:27:16.300 --> 00:27:20.770\nYou'll see integrity is either SHA,\nand or MD5, not 3DES.\n\n579\n00:27:20.770 --> 00:27:23.891\nIt looks like it's part of that, but\njust the way it is in the selector,\n\n580\n00:27:23.891 --> 00:27:25.152\nit's actually down below.\n\n581\n00:27:25.152 --> 00:27:29.753\nSHA1 stands secure hashing algorithm\none which is actually 1.60.\n\n582\n00:27:29.753 --> 00:27:33.866\nAnd MD5 message digest 5,\nthese are hashing algorithms used for\n\n583\n00:27:33.866 --> 00:27:36.960\ndigitally signing to create integrity,\nright?\n\n584\n00:27:36.960 --> 00:27:39.006\nSo we have those,\nour encryption algorithms.\n\n585\n00:27:39.006 --> 00:27:43.986\nDES or 3DES, we are seeing even in server\n16, that for encryption using IPsec,\n\n586\n00:27:43.986 --> 00:27:48.895\nwe are still using DES even though DES has\nbeen designated as no longer being secure\n\n587\n00:27:48.895 --> 00:27:51.800\nenough, and 3DES by extension as well.\n\n588\n00:27:51.800 --> 00:27:55.550\nFor highly secure, highly confidential\ntraffic, it's no longer recommended.\n\n589\n00:27:55.550 --> 00:27:59.133\nThe U.S. government, the military,\nmany governments, many militaries\n\n590\n00:27:59.133 --> 00:28:03.114\naround the world have moved away from DES\nand 3DES towards AES and other algorithms.\n\n591\n00:28:03.114 --> 00:28:06.924\nYou can see for IPsec, specifically,\nwe're still using DES or 3DES.\n\n592\n00:28:06.924 --> 00:28:07.720\nSo, just be aware of that.\n\n593\n00:28:08.960 --> 00:28:11.710\nAnd then,\njust the Diffie Hellman Group specifies\n\n594\n00:28:11.710 --> 00:28:13.680\nthat group association that we're using.\n\n595\n00:28:13.680 --> 00:28:15.710\nWe're using Diffie Hellman for\nour key exchange.\n\n596\n00:28:15.710 --> 00:28:19.640\nSo, we can see that we have the ability to\ngo in and add, edit, or remove these and\n\n597\n00:28:19.640 --> 00:28:22.520\nmove them up and\ndown in order, as you can see.\n\n598\n00:28:22.520 --> 00:28:24.630\nBecause we'll obviously try them and\ngo through them hierarchically in\n\n599\n00:28:24.630 --> 00:28:26.640\ndifferent orders just like\nwe do everything else.\n\n600\n00:28:26.640 --> 00:28:29.540\nSo, we have the ability to modify and\nedit.\n\n601\n00:28:29.540 --> 00:28:32.730\nAll of these settings here\nunder our key exchange\n\n602\n00:28:32.730 --> 00:28:36.700\nsettings which are part of just\nthe settings area here on the general tab.\n\n603\n00:28:36.700 --> 00:28:38.000\nWe have our rules.\n\n604\n00:28:38.000 --> 00:28:40.870\nWe'll go through and we'll take\na look at how to edit a rule, but\n\n605\n00:28:40.870 --> 00:28:42.500\nalso how to build one of\nthese from the ground up.\n\n606\n00:28:42.500 --> 00:28:47.320\nIn our next episode we'll actually go\nthrough and start constructing an IPsec\n\n607\n00:28:47.320 --> 00:28:50.600\nrule set and policy and we'll build one\nusing all of the bells and whistles.\n\n608\n00:28:50.600 --> 00:28:51.840\nAnd go through the whole thing.\n\n609\n00:28:51.840 --> 00:28:52.470\n&gt;&gt; Fantastic.\n\n610\n00:28:52.470 --> 00:28:54.980\n&gt;&gt; Mike's gonna do Kabuki shadow\npuppet theatre while I'm doing that in\n\n611\n00:28:54.980 --> 00:28:55.845\nthe background here.\n\n612\n00:28:55.845 --> 00:28:57.360\n&gt;&gt; [LAUGH]\n&gt;&gt; We'll have this cool little montage,\n\n613\n00:28:57.360 --> 00:28:58.225\nit will be awesome.\n\n614\n00:28:58.225 --> 00:29:00.360\n&gt;&gt; [LAUGH]\n&gt;&gt; So come back and see us for that.\n\n615\n00:29:00.360 --> 00:29:01.340\n&gt;&gt; Looking forward to it.\n\n616\n00:29:01.340 --> 00:29:04.830\nCan't wait to see IPsec in action,\nwonderful technology.\n\n617\n00:29:04.830 --> 00:29:06.800\nAppreciate those great explanations, Adam.\n\n618\n00:29:06.800 --> 00:29:08.710\nHope everybody out there enjoyed this one.\n\n619\n00:29:08.710 --> 00:29:11.587\nSigning off for ITProTV,\nI've been your host, Mike Rodrick.\n\n620\n00:29:11.587 --> 00:29:12.524\n&gt;&gt; I am Adam Gordon.\n\n621\n00:29:12.524 --> 00:29:15.537\n&gt;&gt; And we'll see you next time.\n\n622\n00:29:15.537 --> 00:29:21.472\n[MUSIC]\n\n623\n00:29:21.472 --> 00:29:26.130\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "236805062"
        },
        {
          "description": "",
          "length": "2055",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-3-secure_network_traffic_pt3-100317-PGM.00_33_55_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-3-secure_network_traffic_pt3-100317-PGM.00_33_55_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-3-secure_network_traffic_pt3-100317-PGM.00_33_55_01.Still001-sm.jpg",
          "title": "Secure Network Traffic Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:02.150\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.150 --> 00:00:03.345\n[CROSSTALK]\n&gt;&gt; Coming at you live from San Francisco,\n\n3\n00:00:03.345 --> 00:00:05.917\nCalifornia.\n[CROSSTALK]\n\n4\n00:00:05.917 --> 00:00:08.252\n[MUSIC]\n\n5\n00:00:08.252 --> 00:00:12.243\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.243 --> 00:00:15.479\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n7\n00:00:15.479 --> 00:00:20.033\nI'm your host Mike Rodrick and\ntoday we are doing our secure window\n\n8\n00:00:20.033 --> 00:00:24.278\nserver 2016 in preparation for\nthat 70-744 exam.\n\n9\n00:00:24.278 --> 00:00:26.170\nAnd in particular, in this episode,\n\n10\n00:00:26.170 --> 00:00:29.850\nwe are gonna be continuing our\nconversation on secured network traffic.\n\n11\n00:00:29.850 --> 00:00:33.613\nWe've been taking a look at firewalls or I\nguess more specifically, once we get into\n\n12\n00:00:33.613 --> 00:00:37.121\nsecured network traffic, we've been\nlooking at things like IPsec, right?\n\n13\n00:00:37.121 --> 00:00:39.117\nWe've laid that foundational knowledge.\n\n14\n00:00:39.117 --> 00:00:41.335\nWe've even started creating\na couple policies.\n\n15\n00:00:41.335 --> 00:00:43.240\nAnd we're gonna continue along.\n\n16\n00:00:43.240 --> 00:00:45.266\nAnd here to help us with that is Mr.\nAdam Gordon.\n\n17\n00:00:45.266 --> 00:00:46.169\nWelcome back, Adam.\n\n18\n00:00:46.169 --> 00:00:46.916\n&gt;&gt; Hello, everybody.\n\n19\n00:00:46.916 --> 00:00:49.455\nWe actually create a connection to\nsecurity rules in the firewall.\n\n20\n00:00:49.455 --> 00:00:51.087\n&gt;&gt; You're right.\n&gt;&gt; We are about to create a policies.\n\n21\n00:00:51.087 --> 00:00:53.363\nSo we'll look at them but\nwe have not done so yet.\n\n22\n00:00:53.363 --> 00:00:54.900\nI don't want people to write in a say,\nhey, but\n\n23\n00:00:54.900 --> 00:00:56.062\nwhere did those policies gonna go?\n\n24\n00:00:56.062 --> 00:00:57.646\nCuz Mike said we created them\n&gt;&gt; That Mike.\n\n25\n00:00:57.646 --> 00:00:58.295\n&gt;&gt; And they're nowhere to be found, right?\n\n26\n00:00:58.295 --> 00:01:00.569\n&gt;&gt; [LAUGH]\n&gt;&gt; So we are actually in this episode,\n\n27\n00:01:00.569 --> 00:01:01.748\nif you're just joining us.\n\n28\n00:01:01.748 --> 00:01:05.043\nYou may wanna go back, take a look at\na couple of the prior episodes that we did\n\n29\n00:01:05.043 --> 00:01:08.134\nwith regards to the background and\nkind of the tie-in between IPsec and\n\n30\n00:01:08.134 --> 00:01:10.092\nthe configuration on\nthe group policy side,\n\n31\n00:01:10.092 --> 00:01:11.770\nwhich is what we're in the middle of.\n\n32\n00:01:11.770 --> 00:01:12.625\nAnd the firewall,\n\n33\n00:01:12.625 --> 00:01:15.949\nwhere we did our connections security\nrules that Mike was talking about.\n\n34\n00:01:15.949 --> 00:01:19.964\nHow we handle the authentication piece of\nthe IPsec puzzled through the firewall.\n\n35\n00:01:19.964 --> 00:01:22.105\nIt's what the connection\nsecurity rules deal with.\n\n36\n00:01:22.105 --> 00:01:26.091\nBut now, we're actually dealing with\nthe hey, let's set up IPsec and\n\n37\n00:01:26.091 --> 00:01:30.476\nhow do we handle the configuration and\napplication of it to the network stack to\n\n38\n00:01:30.476 --> 00:01:35.006\neither authenticate and encrypt or\nauthenticate and/or encrypt our traffic.\n\n39\n00:01:35.006 --> 00:01:36.403\nAnd that's what we're about to do.\n\n40\n00:01:36.403 --> 00:01:39.544\nWe took a look at some of\nthe settings around the policies.\n\n41\n00:01:39.544 --> 00:01:43.553\nBut now we're gonna dive in and use\nthe create IP security policy wizard and\n\n42\n00:01:43.553 --> 00:01:46.747\nsee all those nested stack\nwizards Mike was talking about.\n\n43\n00:01:46.747 --> 00:01:47.570\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n44\n00:01:47.570 --> 00:01:50.573\nwe're gonna unwrap that\nmystery that is IPsec.\n\n45\n00:01:50.573 --> 00:01:52.139\nSo join me here if you will.\n\n46\n00:01:52.139 --> 00:01:54.102\nMike, tie off our lifelines\nin case we get lost.\n\n47\n00:01:54.102 --> 00:01:56.599\nDo the breadcrumb trail so\nwe can find our way back.\n\n48\n00:01:56.599 --> 00:01:57.487\nAll right.\n\n49\n00:01:57.487 --> 00:01:58.594\nSo we're gonna start here.\n\n50\n00:01:58.594 --> 00:02:01.101\nYou can see we're in\nthe interface editing the same\n\n51\n00:02:01.101 --> 00:02:03.499\npolicy we were demoing\nwith in the last episode.\n\n52\n00:02:03.499 --> 00:02:07.315\nOur IPsec grew policy we've\ncreated on our APAC domain or\n\n53\n00:02:07.315 --> 00:02:09.708\nin the practicelabs.com domain.\n\n54\n00:02:09.708 --> 00:02:11.146\nOn our APAC OU.\n\n55\n00:02:11.146 --> 00:02:13.395\nSo just a standard group policy,\nnothing special.\n\n56\n00:02:13.395 --> 00:02:16.688\nWe have our default policies, we've\nexplained what they are and how they work.\n\n57\n00:02:16.688 --> 00:02:18.432\nBut we're gonna go ahead and\ncreate a brand new one.\n\n58\n00:02:18.432 --> 00:02:24.320\nRight click in the white empty space or\non the left here on the IPsec policies.\n\n59\n00:02:24.320 --> 00:02:26.421\nEither way, create IPsec policy.\n\n60\n00:02:26.421 --> 00:02:31.160\nGonna go ahead and we're gonna run or\nbegin our process by running.\n\n61\n00:02:31.160 --> 00:02:32.246\nAnd we're gonna keep track, right?\n\n62\n00:02:32.246 --> 00:02:33.477\nSo magical number one.\n\n63\n00:02:33.477 --> 00:02:34.189\n&gt;&gt; Magical number one.\n\n64\n00:02:34.189 --> 00:02:35.478\n&gt;&gt; First, level one.\n\n65\n00:02:35.478 --> 00:02:36.902\nFirst, wizard, right?\n\n66\n00:02:36.902 --> 00:02:39.316\nSo welcome to\nthe IP Security Policy Wizard.\n\n67\n00:02:39.316 --> 00:02:41.103\nAll right, so we're gonna start here.\n\n68\n00:02:41.103 --> 00:02:43.917\nClick continue or click Next to continue.\n\n69\n00:02:43.917 --> 00:02:45.026\nWe have to give it a name.\n\n70\n00:02:45.026 --> 00:02:50.061\nAll right.\nSo we'll call this\n\n71\n00:02:50.061 --> 00:02:56.645\nITProIPsec [INAUDIBLE]\n1.\n\n72\n00:02:58.534 --> 00:03:03.869\nThen, [COUGH] First thing we have to think\nabout, request for secure communication.\n\n73\n00:03:03.869 --> 00:03:07.929\nAnd it says the default response rule will\nrespond to remote computers that request\n\n74\n00:03:07.929 --> 00:03:09.904\nsecurity, when no other rule applies.\n\n75\n00:03:09.904 --> 00:03:14.224\nRemember, we talked about and saw that we\nhad several rules stacked up in our server\n\n76\n00:03:14.224 --> 00:03:16.089\nrequired, which is the one we did.\n\n77\n00:03:16.089 --> 00:03:17.820\nAnd we had three rules, right?\n\n78\n00:03:17.820 --> 00:03:21.968\nHandle all IP traffic using Kerberos,\nhandle ICMP traffic without Kerberos cuz\n\n79\n00:03:21.968 --> 00:03:26.177\nas Mike pointed out, we don't tend to\nauthenticate when we're doing things like\n\n80\n00:03:26.177 --> 00:03:28.746\ndiagnostics, and ping,\nand troubleshooting.\n\n81\n00:03:28.746 --> 00:03:33.438\nAnd then the default response will at the\nbottom any other kind of traffic that's\n\n82\n00:03:33.438 --> 00:03:37.440\nnot IP and/or ICMP, catch all as\na standard rule, deal with that and\n\n83\n00:03:37.440 --> 00:03:40.419\nrequire authentication using Kerberos for\nthat.\n\n84\n00:03:40.419 --> 00:03:45.051\nSo, this first screen deals with how we're\ngonna address that default response rule.\n\n85\n00:03:45.051 --> 00:03:47.991\nAnd so it says we're gonna see that,\ncommunicate securely,\n\n86\n00:03:47.991 --> 00:03:51.226\nthe computer must respond to requests for\nsecured communication.\n\n87\n00:03:51.226 --> 00:03:58.221\nNote default response were supported only\non computers running 2003 and Windows XP.\n\n88\n00:03:58.221 --> 00:04:02.704\nSo it says, activate the default response\nrule, earlier versions of Windows only.\n\n89\n00:04:02.704 --> 00:04:04.282\nRight?\nSo we have to decide,\n\n90\n00:04:04.282 --> 00:04:07.689\nare we gonna have older versions\nof Windows that may require this?\n\n91\n00:04:07.689 --> 00:04:10.605\nAnd if not, do we have to worry\nabout checking off that box?\n\n92\n00:04:10.605 --> 00:04:14.330\nReally a question of what kind\nof an environment you have.\n\n93\n00:04:14.330 --> 00:04:17.573\nMost modern environments probably are not\ngonna require that because we probably\n\n94\n00:04:17.573 --> 00:04:20.355\ndon't support those anymore, but\nit's up to you to decide, right?\n\n95\n00:04:20.355 --> 00:04:22.701\nAll right, so click Next.\n\n96\n00:04:22.701 --> 00:04:24.490\nSo completing\nthe IP Security Policy Wizard.\n\n97\n00:04:24.490 --> 00:04:26.254\nThis is where Microsoft tricks you.\n\n98\n00:04:26.254 --> 00:04:27.399\nYou're like, okay, great, I'm done.\n\n99\n00:04:27.399 --> 00:04:29.268\n[SOUND] That was easy.\n\n100\n00:04:29.268 --> 00:04:31.309\nWow, I should create IPsec policies for\na living.\n\n101\n00:04:31.309 --> 00:04:33.580\nWell, boy,\nyou have not seen anything yet, right?\n\n102\n00:04:33.580 --> 00:04:36.950\nIt's that edit properties check box is\ngonna get you in trouble right there.\n\n103\n00:04:36.950 --> 00:04:40.345\nSo, we're about to now see\nthe complexity that is IPsec.\n\n104\n00:04:40.345 --> 00:04:43.229\nAll right, so\ndeceptively simple on the surface, right?\n\n105\n00:04:43.229 --> 00:04:44.316\nWe'll click Finish.\n\n106\n00:04:44.316 --> 00:04:46.196\nWe do have our rule.\n\n107\n00:04:46.196 --> 00:04:47.620\nWe could see it right there.\n\n108\n00:04:47.620 --> 00:04:50.856\nIt's the one without the long\ndescriptor right there, right?\n\n109\n00:04:50.856 --> 00:04:54.917\nAnd then we are now given this interface.\n\n110\n00:04:54.917 --> 00:04:56.429\nAnd we can see although my rule,\n\n111\n00:04:56.429 --> 00:04:59.797\nthis is not as extensive as the other\nones that have all the other rules.\n\n112\n00:04:59.797 --> 00:05:02.211\nWe have a basic rule\nthere on the IP security,\n\n113\n00:05:02.211 --> 00:05:04.634\nour dynamic default\nresponse rule is there.\n\n114\n00:05:04.634 --> 00:05:07.037\nWanna go ahead in add a new\none in just a minute.\n\n115\n00:05:07.037 --> 00:05:09.009\nWe did take a look our general tab before.\n\n116\n00:05:09.009 --> 00:05:11.130\nNotice the default of 180 minutes.\n\n117\n00:05:11.130 --> 00:05:15.356\nNotice the settings for key exchange\nare all the same as what we walk through.\n\n118\n00:05:15.356 --> 00:05:16.760\nWe discussed in the last episode.\n\n119\n00:05:16.760 --> 00:05:20.650\nSo, all that stuff has been configured\njust by clicking on a couple of buttons,\n\n120\n00:05:20.650 --> 00:05:24.382\nNext, Next, Next, and essentially\nfinishing the first wizard, right?\n\n121\n00:05:24.382 --> 00:05:28.796\nWe've got all the structural and\nbase building block elements in place.\n\n122\n00:05:28.796 --> 00:05:32.334\nAnd, in theory,\nwe could deploy IPsec just using this.\n\n123\n00:05:32.334 --> 00:05:34.412\nWe would not be very\nhappy with the results.\n\n124\n00:05:34.412 --> 00:05:37.205\n&gt;&gt; Cuz I uncheck that little\nedit setting check mark and man,\n\n125\n00:05:37.205 --> 00:05:38.347\nthis stuff is a breeze.\n\n126\n00:05:38.347 --> 00:05:39.359\n&gt;&gt; It is, right?\n\n127\n00:05:39.359 --> 00:05:42.820\n&gt;&gt; Yeah.\n&gt;&gt; Or pick out the use Ad Wizard, right?\n\n128\n00:05:42.820 --> 00:05:46.096\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] And it's a lot easier, right?\n\n129\n00:05:46.096 --> 00:05:51.334\nBut the reality is that all we've really\ndone is setup a rule that essentially\n\n130\n00:05:51.334 --> 00:05:56.264\nsays, hey, any kind of traffic that\ncomes in, try to authenticate it.\n\n131\n00:05:56.264 --> 00:05:59.518\n&gt;&gt; So it's almost like a framework for\na rule really.\n\n132\n00:05:59.518 --> 00:06:02.889\n&gt;&gt; Well, all we've done is really, yeah, I\nmean, we just said if no other rules were\n\n133\n00:06:02.889 --> 00:06:05.124\napplied, all traffic is\nhandled by the default rule.\n\n134\n00:06:05.124 --> 00:06:07.660\nAnd that's right now as you can see,\nthat it's gonna ask for\n\n135\n00:06:07.660 --> 00:06:09.221\nKerberos-based authentication.\n\n136\n00:06:09.221 --> 00:06:09.847\n&gt;&gt; Mm-hm.\n&gt;&gt; And\n\n137\n00:06:09.847 --> 00:06:11.907\nit's going to apply to\nall connection types.\n\n138\n00:06:11.907 --> 00:06:13.073\nNow, let's just edit that rule.\n\n139\n00:06:13.073 --> 00:06:15.320\nLet's take a look for\na minute before we add a new one.\n\n140\n00:06:15.320 --> 00:06:18.387\nYou'll see that for\nencryption and integrity,\n\n141\n00:06:18.387 --> 00:06:23.547\nwe're going to be using Triple DES for\nour ESP or Encapsulated Security Payload,\n\n142\n00:06:23.547 --> 00:06:28.488\nwhich provides the encryption or\nconfidentiality protection capability for\n\n143\n00:06:28.488 --> 00:06:32.454\nintegrity, because ESP can\nprovide both confidentiality and\n\n144\n00:06:32.454 --> 00:06:36.870\nintegrity together as supposed to\nauthentication headers which just\n\n145\n00:06:36.870 --> 00:06:39.759\ndoes the authentication and the integrity.\n\n146\n00:06:39.759 --> 00:06:42.305\nWe're using SHA-1 to do our integrity.\n\n147\n00:06:42.305 --> 00:06:47.320\nAnd we'll see that when we edit that\nwe have the option to either leave\n\n148\n00:06:47.320 --> 00:06:52.426\nthe default or provide just integrity\nonly or custom, it's up to us.\n\n149\n00:06:52.426 --> 00:06:57.254\nCustom would allow us to choose how we\nwant to be able to do integrity without\n\n150\n00:06:57.254 --> 00:07:02.084\nencryption, using authentication headers,\nthe Portion or change out\n\n151\n00:07:02.084 --> 00:07:07.012\nthe algorithms that are being used if\nwe maybe want MD5 instead of SHA-1.\n\n152\n00:07:07.012 --> 00:07:12.274\nOr we want for some reason DES instead\nof Triple DES, whatever the case may be.\n\n153\n00:07:12.274 --> 00:07:16.701\nSo we can specify that, but we also can\nspecify session specific key settings,\n\n154\n00:07:16.701 --> 00:07:19.012\nwhere we can generate, as you could see,\n\n155\n00:07:19.012 --> 00:07:23.372\nkeys based on either a certain amount of\ndata, kilobytes of data that is sent or\n\n156\n00:07:23.372 --> 00:07:25.976\nreceived to centric\nthrough the connection.\n\n157\n00:07:25.976 --> 00:07:29.516\nOr generate a new key every 70 seconds,\nwhatever that may be.\n\n158\n00:07:29.516 --> 00:07:31.620\nSo that way we can further modify and\n\n159\n00:07:31.620 --> 00:07:35.340\noptimize our security settings\nby randomizing our key usage,\n\n160\n00:07:35.340 --> 00:07:39.834\ngenerating more keys, leaving keys in\nplace less frequently or excuse me,\n\n161\n00:07:39.834 --> 00:07:44.609\nchanging that more frequently, leaving\nthem in place for less amounts of time,\n\n162\n00:07:44.609 --> 00:07:49.172\nwhich means it's even less likely that\na bad actor could potentially steal or\n\n163\n00:07:49.172 --> 00:07:52.508\nsomehow, socially engineer one or\nmore of these keys.\n\n164\n00:07:52.508 --> 00:07:56.362\nBreaking the encryption portion,\nthe confidentiality portion of\n\n165\n00:07:56.362 --> 00:08:00.564\nthe protection IPsec is providing and\nallowing them to read the traffic.\n\n166\n00:08:00.564 --> 00:08:03.980\nIf we generate a new key\nevery 3,600 seconds,\n\n167\n00:08:03.980 --> 00:08:08.191\nthat means that the window that\nan attacker has to find the key,\n\n168\n00:08:08.191 --> 00:08:13.276\nfigure out which key need to be used out\nof the millions of possible choices or\n\n169\n00:08:13.276 --> 00:08:18.042\nwhatever that key space looks like and\nthen apply that key to our traffic\n\n170\n00:08:18.042 --> 00:08:23.010\nstream to decrypt traffic is essentially\nonly as long as that lifecycle.\n\n171\n00:08:23.010 --> 00:08:25.983\nAnd even if they manage to do all that,\nwhich is highly unlikely, but\n\n172\n00:08:25.983 --> 00:08:29.487\nlet's give them the benefit of the doubt\nand say somehow they managed to do that.\n\n173\n00:08:29.487 --> 00:08:31.405\nAnd maybe it takes them\nhalf that lifetime, so\n\n174\n00:08:31.405 --> 00:08:33.575\nmaybe 1,800 seconds to get that done,\nright?\n\n175\n00:08:33.575 --> 00:08:38.549\n30 minutes, so great, so you have 30\nminutes in theory of the hour-long space\n\n176\n00:08:38.549 --> 00:08:40.410\nthat we're allocating left.\n\n177\n00:08:40.410 --> 00:08:44.317\nYou're only gonna see a half hour's worth\nof traffic at the most, in theory, right,\n\n178\n00:08:44.317 --> 00:08:46.308\nan hour, but let's say half an hour.\n\n179\n00:08:46.308 --> 00:08:49.390\nYou're only gonna be able to\nread potentially up to an hour's\n\n180\n00:08:49.390 --> 00:08:53.980\nworth of traffic, 3,600 seconds with\nthat key before we generate a new one.\n\n181\n00:08:53.980 --> 00:08:57.610\nSo the reality is even if you manage to do\nthis, you're not gonna be able to use that\n\n182\n00:08:57.610 --> 00:09:00.530\nkey for very long if we come in here and\nmodify these settings.\n\n183\n00:09:00.530 --> 00:09:02.409\nSo, it is good to know\nthat we can do this.\n\n184\n00:09:02.409 --> 00:09:06.321\nIt is good to understand that we have\nthese capabilities to further nip and\n\n185\n00:09:06.321 --> 00:09:09.020\ntuck and really scope and\ntailor and modify.\n\n186\n00:09:09.020 --> 00:09:10.680\nAnd really tighten up those settings.\n\n187\n00:09:10.680 --> 00:09:13.681\nOne of the most important things\nyou can do is modify that set\n\n188\n00:09:13.681 --> 00:09:15.489\nof settings around sessions keys.\n\n189\n00:09:15.489 --> 00:09:20.320\nBecause that further potentially shrinks\ndown the active window for an attacker.\n\n190\n00:09:20.320 --> 00:09:23.457\nAnd that is one of the most important\nprotections IPSec can provide.\n\n191\n00:09:23.457 --> 00:09:27.420\nThat confidentiality protection,\nthat encryption, that safeguards our data.\n\n192\n00:09:27.420 --> 00:09:29.020\nSo it is important to think about that,\nbut again,\n\n193\n00:09:29.020 --> 00:09:31.070\nthat's up to you to\ndecide how that happens.\n\n194\n00:09:31.070 --> 00:09:35.440\nSo we have our security methods here, and\nwe have obviously built an avenue that it\n\n195\n00:09:35.440 --> 00:09:37.870\nmoved them up and down,\netc., as we always do.\n\n196\n00:09:37.870 --> 00:09:40.380\nAll right, so once we've done all that,\nand we have the same thing for\n\n197\n00:09:40.380 --> 00:09:43.410\nauthentication by the way,\nKerberos is our default.\n\n198\n00:09:43.410 --> 00:09:48.440\nYou see me come in and talk about the fact\nwe do have certificates as an option here.\n\n199\n00:09:48.440 --> 00:09:51.310\nWe have to tie this to\nour PKI implementation.\n\n200\n00:09:51.310 --> 00:09:55.920\nPublic Key Infrastructure or certificate\narchitecture, and, or our preshared key,\n\n201\n00:09:55.920 --> 00:09:59.440\nwhich remember, is just essentially a\npassword stored in the clear, by the way.\n\n202\n00:09:59.440 --> 00:10:01.440\nRemember, we store these\nwithout encryption.\n\n203\n00:10:01.440 --> 00:10:03.628\nWhich is why [LAUGH] we don't tend\nto tell you that you should use them\n\n204\n00:10:03.628 --> 00:10:04.461\nvery often, all right?\n\n205\n00:10:04.461 --> 00:10:05.980\nSo we do have those, just so you know.\n\n206\n00:10:05.980 --> 00:10:07.501\nAll right, so we have all that.\n\n207\n00:10:07.501 --> 00:10:09.010\nThat's what we see when we added the rule.\n\n208\n00:10:09.010 --> 00:10:11.030\nNow, we may not be happy\nwith just one rule.\n\n209\n00:10:11.030 --> 00:10:13.290\nRemember, just click OK here for\n\n210\n00:10:13.290 --> 00:10:17.030\none second,\nour server require has three rules.\n\n211\n00:10:17.030 --> 00:10:21.100\nOne for IP traffic, as we talked about,\nseparate rule for ICMP.\n\n212\n00:10:21.100 --> 00:10:23.971\nSeparate default response rule,\nlike we just saw.\n\n213\n00:10:23.971 --> 00:10:27.909\nOur server request has the same three.\n\n214\n00:10:27.909 --> 00:10:31.547\nOur client respond has\njust the default rule.\n\n215\n00:10:31.547 --> 00:10:35.594\nSo essentially, we've just created\nthe equivalent of client respond by\n\n216\n00:10:35.594 --> 00:10:39.065\ncreating our own rule I know that\nwithout doing anything else.\n\n217\n00:10:39.065 --> 00:10:42.371\nNow that's okay if all we're gonna do\nis give it our best effort to negotiate\n\n218\n00:10:42.371 --> 00:10:43.671\nan attempt to do so securely.\n\n219\n00:10:43.671 --> 00:10:48.282\nBut if we actually wanna configure\na little bit more depth into our rule set,\n\n220\n00:10:48.282 --> 00:10:50.240\nthen we have to go the next step.\n\n221\n00:10:50.240 --> 00:10:52.730\nSo let's go back, let's now add.\n\n222\n00:10:52.730 --> 00:10:55.840\nSo this is wizard number 2,\nokay, just keeping track.\n\n223\n00:10:57.407 --> 00:10:58.700\nMove this over.\n\n224\n00:10:58.700 --> 00:11:02.330\nLet's use the Create IP Security Rule\nwizard and let's see what happens.\n\n225\n00:11:02.330 --> 00:11:05.340\nSo here we're going to\nbe able to go in and\n\n226\n00:11:05.340 --> 00:11:11.230\nspecify criteria around the IP Filter\nList, things like IP tunneling attributes,\n\n227\n00:11:11.230 --> 00:11:13.370\nauthentication methods, filter actions.\n\n228\n00:11:13.370 --> 00:11:16.279\nSo, okay we're gonna click Next.\n\n229\n00:11:16.279 --> 00:11:18.618\nTunnel endpoint, this gets a little\ninteresting, something new,\n\n230\n00:11:18.618 --> 00:11:19.720\nwe haven't seen this, right?\n\n231\n00:11:19.720 --> 00:11:23.150\nAll right, so the tunnel endpoint is\nthe tunneling computer closest to the IP\n\n232\n00:11:23.150 --> 00:11:26.710\ntraffic destination, as specified in\nthe security rules IP filter list.\n\n233\n00:11:26.710 --> 00:11:28.470\nNow we actually did see\nthis if you remember.\n\n234\n00:11:28.470 --> 00:11:32.058\nWe saw this in the firewall as we were\nconfiguring the connection security rules,\n\n235\n00:11:32.058 --> 00:11:34.043\nas we went through and\ndid the tunnel option.\n\n236\n00:11:34.043 --> 00:11:36.740\nRemember we specifically chose that\nas one of our options to demo?\n\n237\n00:11:36.740 --> 00:11:38.780\nThe tunnel option talked\nabout this exact thing.\n\n238\n00:11:38.780 --> 00:11:41.169\nWe had to specify the two\nsides of the tunnel and\n\n239\n00:11:41.169 --> 00:11:43.629\nwhich one was gonna be\nclosest as the endpoint.\n\n240\n00:11:43.629 --> 00:11:46.363\nAnd remember, I just chose any ending\njust to make it quick and easy.\n\n241\n00:11:46.363 --> 00:11:48.160\nBut we could've actually\nput an IP address in there.\n\n242\n00:11:48.160 --> 00:11:51.657\nSo we've seen this exact configuration\nmirrored on the firewall side,\n\n243\n00:11:51.657 --> 00:11:54.050\nas we did our connection and\nsecurity rules.\n\n244\n00:11:54.050 --> 00:11:57.210\nRemember we're now, instead of\nthe authentication piece which happens at\n\n245\n00:11:57.210 --> 00:11:58.760\nthe firewall through the connection and\n\n246\n00:11:58.760 --> 00:12:02.080\nsecurity rules, we're actually configuring\nthe connectivity and the nuts and\n\n247\n00:12:02.080 --> 00:12:05.350\nbolts under the hood piece, which is\nwhat happens here through group policy.\n\n248\n00:12:05.350 --> 00:12:06.850\nSo, we're doing both.\n\n249\n00:12:06.850 --> 00:12:09.490\nBut we actually have another way\nof doing this beyond group policy,\n\n250\n00:12:09.490 --> 00:12:11.077\nwhich is the IPsec management consult.\n\n251\n00:12:11.077 --> 00:12:11.955\nWe'll see that as a snapin.\n\n252\n00:12:11.955 --> 00:12:13.713\nWe'll take a look at\nthat in the monitoring,\n\n253\n00:12:13.713 --> 00:12:15.208\nwe'll take a look at how to see those.\n\n254\n00:12:15.208 --> 00:12:18.210\nBut we can actually build this out\nseparately from there as well.\n\n255\n00:12:18.210 --> 00:12:21.475\nAll right, so as if this wasn't confusing\nenough without all those twists and turns,\n\n256\n00:12:21.475 --> 00:12:23.180\nwe have yet another option.\n\n257\n00:12:23.180 --> 00:12:24.316\nAll right, it is Microsoft after all.\n\n258\n00:12:24.316 --> 00:12:26.804\nAt least three ways to totally confound or\nconfuse you for everything we do.\n\n259\n00:12:26.804 --> 00:12:29.260\nNot to mention,\nI haven't even mentioned PowerShell.\n\n260\n00:12:29.260 --> 00:12:31.030\nWe can actually do all this\nthrough PowerShell as well.\n\n261\n00:12:31.030 --> 00:12:32.730\nSo I haven't talked about that.\n\n262\n00:12:32.730 --> 00:12:36.280\nAll right, so specify the tunnel\nendpoint for the IPsec security rule.\n\n263\n00:12:36.280 --> 00:12:37.778\nThis rule does not specify a tunnel.\n\n264\n00:12:37.778 --> 00:12:39.190\nWe're not gonna be tunneling, or\n\n265\n00:12:39.190 --> 00:12:41.781\nthe tunnel end point is specified\nby the following IP address.\n\n266\n00:12:41.781 --> 00:12:44.998\nAnd we can do, again, either IPv4 or IPv6.\n\n267\n00:12:44.998 --> 00:12:48.750\nIf we'd seen this in prior iterations,\ngoing back several generations,\n\n268\n00:12:48.750 --> 00:12:51.020\nit would've been just IPv4, as we talked.\n\n269\n00:12:51.020 --> 00:12:54.429\nBut IPv6 is a relatively new\naddition to the redesign of this.\n\n270\n00:12:54.429 --> 00:12:55.680\nSo just be aware of that.\n\n271\n00:12:55.680 --> 00:12:58.658\nSo I would have to put\nin whatever this may be.\n\n272\n00:13:04.576 --> 00:13:08.170\nWhatever IP address I may specify, right?\n\n273\n00:13:08.170 --> 00:13:11.970\nAnd then select the network type,\nall network connections LAN or\n\n274\n00:13:11.970 --> 00:13:13.760\nremote access now, just notice.\n\n275\n00:13:14.830 --> 00:13:16.883\nAnd I'm gonna be smart.\n\n276\n00:13:18.928 --> 00:13:21.020\nThis rule does not specify a tunnel.\n\n277\n00:13:21.020 --> 00:13:23.790\nI still have to choose what kind\nof network type I'm using here.\n\n278\n00:13:23.790 --> 00:13:26.251\nSo it's not as if because I did\na tunnel I get one option, or\n\n279\n00:13:26.251 --> 00:13:28.121\nif I don't do a tunnel\nI get a different one.\n\n280\n00:13:28.121 --> 00:13:29.980\nI have the same exact screen.\n\n281\n00:13:29.980 --> 00:13:33.393\nIt's a question of whether or not I'm\ngonna specify an endpoint on that screen,\n\n282\n00:13:33.393 --> 00:13:36.454\nthe prior screen so that I know whether\nI'm creating the tunnel as part of\n\n283\n00:13:36.454 --> 00:13:37.779\nthis configuration, right?\n\n284\n00:13:37.779 --> 00:13:40.008\nAll right, so if I wanna create\nthe tunnel, let's go back,\n\n285\n00:13:40.008 --> 00:13:40.990\nwe'll put that in there.\n\n286\n00:13:40.990 --> 00:13:41.490\nNo big deal.\n\n287\n00:13:42.542 --> 00:13:46.130\nAll right, all network connections,\nLAN, local only, and, or remote access.\n\n288\n00:13:46.130 --> 00:13:49.630\nHow do we wanna handle this,\nmeaning are we gonna apply this rule\n\n289\n00:13:49.630 --> 00:13:52.270\nto all network connections\nregardless where they come from?\n\n290\n00:13:52.270 --> 00:13:55.080\nOnly local connections,\nor only remote access.\n\n291\n00:13:55.080 --> 00:13:56.477\nMeaning from outside, right?\n\n292\n00:13:56.477 --> 00:13:57.550\nSo it's up to us to decide.\n\n293\n00:13:57.550 --> 00:14:00.040\nWe'll do all network\njust cuz I'm egalitarian,\n\n294\n00:14:00.040 --> 00:14:01.700\nI like to apply everything to everybody.\n\n295\n00:14:03.250 --> 00:14:04.390\nAll right, IP filter list.\n\n296\n00:14:04.390 --> 00:14:05.831\nI wasn't that way before I had kids,\nby the way.\n\n297\n00:14:05.831 --> 00:14:07.259\n&gt;&gt; Yeah?\n&gt;&gt; Until I had kids,\n\n298\n00:14:07.259 --> 00:14:10.881\ncuz when you have more than one,\nI didn't get that.\n\n299\n00:14:10.881 --> 00:14:12.920\nOkay, you're both getting nothing.\n\n300\n00:14:12.920 --> 00:14:15.350\nThat's how we're solving this problem,\nright?\n\n301\n00:14:15.350 --> 00:14:16.999\nBut if you don't have kids,\n\n302\n00:14:16.999 --> 00:14:20.311\nyou don't think about that\nkinda stuff traditionally.\n\n303\n00:14:20.311 --> 00:14:22.711\nIt's all for me,\nnow when I have kids it's all for them.\n\n304\n00:14:22.711 --> 00:14:25.020\nAnd I get nothing\n&gt;&gt; [INAUDIBLE] show favoritism.\n\n305\n00:14:25.020 --> 00:14:27.900\n&gt;&gt; You become an unselfish person\nvery quickly when you have children.\n\n306\n00:14:27.900 --> 00:14:30.840\nEither that or you'd go insane and\njust kill yourself, one or the other.\n\n307\n00:14:30.840 --> 00:14:34.446\nAll right, so if no IP filter in\nthe following list matches your needs,\n\n308\n00:14:34.446 --> 00:14:35.720\nclick Add to create one.\n\n309\n00:14:35.720 --> 00:14:38.131\nWell, you know what happens when we\nclick Add, we get yet another screen.\n\n310\n00:14:38.131 --> 00:14:39.970\n&gt;&gt; I'm gonna guess it's\nWizard number three.\n\n311\n00:14:39.970 --> 00:14:40.805\n&gt;&gt; We're gonna have another screen.\n\n312\n00:14:40.805 --> 00:14:41.437\n&gt;&gt; I like it.\n\n313\n00:14:41.437 --> 00:14:43.240\n&gt;&gt; All right, so another screen,\nnot necessarily another wizard.\n\n314\n00:14:43.240 --> 00:14:45.420\nBut let's just take a look\nat Edit before we do this.\n\n315\n00:14:45.420 --> 00:14:48.017\nSo IP filter list,\ndo you ever wonder where that all ICMP,\n\n316\n00:14:48.017 --> 00:14:49.505\nall IP traffic stuff comes from?\n\n317\n00:14:49.505 --> 00:14:51.839\nWell, those are built in,\nyou could see them there, right?\n\n318\n00:14:51.839 --> 00:14:56.194\nWe know that all ICMP traffic, let's\nhighlight that, matches ICMP traffic,\n\n319\n00:14:56.194 --> 00:14:58.990\nlet's just edit that so\nwe have the IP filter list.\n\n320\n00:14:58.990 --> 00:15:01.220\nThere's our ICMP traffic.\n\n321\n00:15:01.220 --> 00:15:05.680\nNow if we click add here, yes,\nthat's our IP filter wizard right there.\n\n322\n00:15:05.680 --> 00:15:10.560\nBut if we click add right here,\nall we do is get this screen.\n\n323\n00:15:10.560 --> 00:15:14.531\nAnd then when we click add right here,\nthen we get the wizard.\n\n324\n00:15:14.531 --> 00:15:15.500\nSo it's like a twofer, right?\n\n325\n00:15:15.500 --> 00:15:17.198\n&gt;&gt; I actually like that.\n&gt;&gt; We get the screen and then the wizard,\n\n326\n00:15:17.198 --> 00:15:18.400\ndepends on how we do it.\n\n327\n00:15:18.400 --> 00:15:20.990\nWell, let's just take a look real\nquick before we actually do this.\n\n328\n00:15:20.990 --> 00:15:25.240\nLet's just edit what's here and then we'll\nsee our third wizard, so all ICMP traffic.\n\n329\n00:15:25.240 --> 00:15:28.137\nAnd we obviously can add a new one,\nwe'll take a look here, but\n\n330\n00:15:28.137 --> 00:15:29.570\nwe do have some settings here.\n\n331\n00:15:29.570 --> 00:15:34.191\nLet's edit, so edit part two, right,\nand then we have source destination,\n\n332\n00:15:34.191 --> 00:15:35.669\nin this case IP address.\n\n333\n00:15:35.669 --> 00:15:38.750\nBut notice my IP, any IP, a specific IP,\n\n334\n00:15:38.750 --> 00:15:42.360\ncuz as if the two weren't enough,\nor a subnet.\n\n335\n00:15:42.360 --> 00:15:45.800\nThen DNS, wins, DHCP or\ndefault gateway dynamic.\n\n336\n00:15:45.800 --> 00:15:50.780\nSo we have the ability to specify for\nsource, as well as for destination, right?\n\n337\n00:15:50.780 --> 00:15:52.533\nA variety of different settings here.\n\n338\n00:15:52.533 --> 00:15:54.632\nWhat are we gonna pick up,\nwhat are we gonna use?\n\n339\n00:15:54.632 --> 00:15:58.734\nJust remember, this is our IP filter The\nIP filter is going to be what's used to\n\n340\n00:15:58.734 --> 00:16:02.900\nactually measure and look at the traffic,\ninbound or outbound, and say okay,\n\n341\n00:16:02.900 --> 00:16:03.900\ndo you match?\n\n342\n00:16:03.900 --> 00:16:05.880\nAnd we think of the rule is doing that,\nthe rule does that but\n\n343\n00:16:05.880 --> 00:16:07.718\nthe rule is made up of component parts.\n\n344\n00:16:07.718 --> 00:16:11.230\nAnd the filter's actually what we\nmeasure the traffic against and\n\n345\n00:16:11.230 --> 00:16:14.140\nsay yes or no, matches or doesn't match.\n\n346\n00:16:14.140 --> 00:16:17.871\nThe rule has an action associated with\nit that then implies based on a match or\n\n347\n00:16:17.871 --> 00:16:19.967\nlack of match, we should allow or deny, so\n\n348\n00:16:19.967 --> 00:16:22.906\nthe filters are really what\nmake the magic happen, right?\n\n349\n00:16:22.906 --> 00:16:24.723\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Cuz it's like the screen that we shake\n\n350\n00:16:24.723 --> 00:16:27.400\nstuff over and if it's the right shape it\nfalls through, if it doesn't it does not.\n\n351\n00:16:27.400 --> 00:16:29.979\n&gt;&gt; That's where we get that real\ngranular control that we want.\n\n352\n00:16:29.979 --> 00:16:31.358\n&gt;&gt; We do cuz we have addresses.\n\n353\n00:16:31.358 --> 00:16:34.306\nAnd if you notice the tab to the right of\naddresses we also have the option to do\n\n354\n00:16:34.306 --> 00:16:35.143\nprotocol there.\n\n355\n00:16:35.143 --> 00:16:35.673\nYes.\n&gt;&gt; Right.\n\n356\n00:16:35.673 --> 00:16:36.430\n&gt;&gt; Cuz we talked about this as well.\n\n357\n00:16:36.430 --> 00:16:37.850\nSo we have the granularity.\n\n358\n00:16:37.850 --> 00:16:38.980\nI like that way of thinking about it.\n\n359\n00:16:38.980 --> 00:16:40.620\nIt's actually a great way to describe it.\n\n360\n00:16:40.620 --> 00:16:42.233\nWe have the ability to be granular here.\n\n361\n00:16:42.233 --> 00:16:43.884\nNow we also have the ability to mirror,\nright?\n\n362\n00:16:43.884 --> 00:16:44.805\n&gt;&gt; Mm-hm.\n&gt;&gt; Which is also one of\n\n363\n00:16:44.805 --> 00:16:45.750\nthose nice things about IPSEC.\n\n364\n00:16:45.750 --> 00:16:46.940\n&gt;&gt; Yes.\n&gt;&gt; So the bottom there,\n\n365\n00:16:46.940 --> 00:16:49.610\nwhere you check that box,\nactually, it's right over there.\n\n366\n00:16:49.610 --> 00:16:50.770\nKind of like, I don't know.\n\n367\n00:16:50.770 --> 00:16:52.960\nSomewhere up over that way there, right?\n\n368\n00:16:52.960 --> 00:16:54.030\nYeah, somewhere over there.\n\n369\n00:16:54.030 --> 00:16:54.636\nI couldn't move this over.\n\n370\n00:16:54.636 --> 00:16:55.187\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n371\n00:16:55.187 --> 00:16:56.530\nthat would just take too much time and\neffort.\n\n372\n00:16:56.530 --> 00:16:58.755\nSo right here is where we are.\n\n373\n00:16:58.755 --> 00:17:00.600\n[LAUGH] You'll see the box\nby default is checked off.\n\n374\n00:17:00.600 --> 00:17:01.680\nIt says mirrored, right.\n\n375\n00:17:01.680 --> 00:17:04.910\nMatch packets with the exact opposite\nsource and destination addresses.\n\n376\n00:17:04.910 --> 00:17:08.010\nOnce I configure this and I have\nthe mirroring option, which by default is\n\n377\n00:17:08.010 --> 00:17:12.770\nthere, it flips the logic and creates the\nother side of that discussion for me so\n\n378\n00:17:12.770 --> 00:17:14.373\nI don't have to create both, right?\n\n379\n00:17:14.373 --> 00:17:15.710\n&gt;&gt; [LAUGH]\n&gt;&gt; So that part's nice.\n\n380\n00:17:15.710 --> 00:17:16.750\nThat part does cut down a little bit.\n\n381\n00:17:16.750 --> 00:17:18.648\nThat's the offset for\ngiving you a thousand wizards.\n\n382\n00:17:18.648 --> 00:17:20.418\n&gt;&gt; [LAUGH]\n&gt;&gt; Say 10,000 screams saves you\n\n383\n00:17:20.418 --> 00:17:22.669\nfrom pulling what's left of\nyour hair out of your head.\n\n384\n00:17:22.669 --> 00:17:25.450\n&gt;&gt; [LAUGH]\n&gt;&gt; Alright, so we do have my IP for\n\n385\n00:17:25.450 --> 00:17:26.580\nsource destination.\n\n386\n00:17:26.580 --> 00:17:30.158\nNAIP meaning me going out, anything\nthat is going to be the destination or\n\n387\n00:17:30.158 --> 00:17:34.140\nexcuse me, me as the originator anything\nthat is the destination going out should\n\n388\n00:17:34.140 --> 00:17:38.086\nbe bound by this particular filter but\nthen let's look at protocol, all right.\n\n389\n00:17:38.086 --> 00:17:42.267\nRemember we have protocols,\nquite a number of them predefined.\n\n390\n00:17:42.267 --> 00:17:46.136\nAnd then we have the ability to do other\nand other would then allow me to specify\n\n391\n00:17:46.136 --> 00:17:49.541\na protocol number, with the protocol\nnumbers being identifiers.\n\n392\n00:17:49.541 --> 00:17:52.812\nSo we could use those if\nthere is not one on the list.\n\n393\n00:17:52.812 --> 00:17:55.626\nCuz the list is actually very,\nit's impressive but it's small.\n\n394\n00:17:55.626 --> 00:17:59.640\nI mean, it's only probably about 8 or\n9 protocols on there.\n\n395\n00:17:59.640 --> 00:18:03.600\nMost of which are used very often, but\nwhat if you've got this kind of crazy off\n\n396\n00:18:03.600 --> 00:18:06.064\nin the corner set of\nprotocols you're running.\n\n397\n00:18:06.064 --> 00:18:08.901\nYou're still the only person on\nthe planet running IPX SPX, right?\n\n398\n00:18:08.901 --> 00:18:11.090\n&gt;&gt; And you still only use IP SAC.\n\n399\n00:18:11.090 --> 00:18:14.270\n&gt;&gt; And you wanna do that cuz you're\nthe only person left with a bindgary and\n\n400\n00:18:14.270 --> 00:18:15.361\na Novell print server.\n\n401\n00:18:15.361 --> 00:18:17.000\n&gt;&gt; [LAUGH] Hold on to it.\n\n402\n00:18:17.000 --> 00:18:18.660\n&gt;&gt; You're just holding on for\ndear life, right?\n\n403\n00:18:18.660 --> 00:18:19.580\nSo you need that.\n\n404\n00:18:19.580 --> 00:18:21.432\nSo you got\nIPXS SPX Gateway Services running,\n\n405\n00:18:21.432 --> 00:18:24.230\neven though nobody in the world\never talks to you any more, right?\n\n406\n00:18:24.230 --> 00:18:27.470\nSo you may have to define that\nprotocol which is not on this list,\n\n407\n00:18:27.470 --> 00:18:29.210\ncuz that could happen, right?\n\n408\n00:18:29.210 --> 00:18:33.310\nSo as a result,\nthen you could just go ahead and say okay,\n\n409\n00:18:33.310 --> 00:18:35.650\nwhat's the protocol identifier,\nthe number, right?\n\n410\n00:18:35.650 --> 00:18:37.310\nAnd we could then actually pull that in.\n\n411\n00:18:37.310 --> 00:18:38.670\nSo we do have options here.\n\n412\n00:18:38.670 --> 00:18:41.580\nBut you could see we do have RDP,\nvery common, right?\n\n413\n00:18:41.580 --> 00:18:43.970\nWe have ICMP, we've talked about that.\n\n414\n00:18:43.970 --> 00:18:46.260\nTCP, UDP, all sorts of different stuff.\n\n415\n00:18:46.260 --> 00:18:48.960\nSo we could specify what those may be.\n\n416\n00:18:48.960 --> 00:18:51.340\nLet's just specify there, right,\n\n417\n00:18:51.340 --> 00:18:56.690\nICMP or as you can see, whatever it\nmay be if we do a TCP for instance.\n\n418\n00:18:56.690 --> 00:18:58.820\nWe could do ports, as well.\n\n419\n00:18:58.820 --> 00:19:03.315\nAnd so we can do any port and\nor specify maybe it's Port\n\n420\n00:19:03.315 --> 00:19:08.010\n88 because we have our proxy set up so\nyou know often times we'll map\n\n421\n00:19:08.010 --> 00:19:11.890\nour traffic to the proxy on Port 88 so\nmaybe we're doing that and\n\n422\n00:19:11.890 --> 00:19:17.250\nwe have to specify a port so you can\nsee this becomes very, very detailed.\n\n423\n00:19:17.250 --> 00:19:19.595\nThis is granularity to the max, right?\n\n424\n00:19:19.595 --> 00:19:20.516\n&gt;&gt; Mm-hm.\n&gt;&gt; I sound like I'm\n\n425\n00:19:20.516 --> 00:19:22.125\ngonna throw it back to the 80's, right?\n\n426\n00:19:22.125 --> 00:19:23.976\n&gt;&gt; Granularity to the max here,\n\n427\n00:19:23.976 --> 00:19:28.641\nbecause we are really finely carving and\nfinely tuning and adjusting every\n\n428\n00:19:28.641 --> 00:19:32.950\nlittle aspect of the potential\nconfiguration here for this filter.\n\n429\n00:19:32.950 --> 00:19:36.534\nBecause remember, the more narrowly\ndefined the filter is, right,\n\n430\n00:19:36.534 --> 00:19:40.664\nthe more tightly defined we make it, the\nmore likely it is to find only the traffic\n\n431\n00:19:40.664 --> 00:19:42.627\nwe want and to block everything else.\n\n432\n00:19:42.627 --> 00:19:46.753\nAnd that's the goal of these filters is\nhey, I don't wanna just leave these big\n\n433\n00:19:46.753 --> 00:19:50.326\ngaping holes and let all the stuff\nfall through that's ill defined,\n\n434\n00:19:50.326 --> 00:19:54.166\nI want this very fine mesh that's\ngonna stop 99.9% of what is there.\n\n435\n00:19:54.166 --> 00:19:57.852\nBecause there's only a very narrowly\ndefined margin that's gonna actually\n\n436\n00:19:57.852 --> 00:19:59.553\nmeet the criteria to fall through or\n\n437\n00:19:59.553 --> 00:20:03.227\nessentially be able to align with\nthe filter and be found to be correct.\n\n438\n00:20:03.227 --> 00:20:07.850\n&gt;&gt; Absolutely, and you'd also talked\nabout the myths of the performance hits,\n\n439\n00:20:07.850 --> 00:20:09.560\nand whether it's worth implementing.\n\n440\n00:20:09.560 --> 00:20:13.222\nThey're using this and making sure that\nwe're only encrypting what we need to\n\n441\n00:20:13.222 --> 00:20:16.440\nencrypt, we're authenticating\nwhat we need to authenticate, and\n\n442\n00:20:16.440 --> 00:20:19.657\nnot just blanket encrypting and\nauthenticating every single packet\n\n443\n00:20:19.657 --> 00:20:22.273\non the network can also help\nwith performance, right?\n\n444\n00:20:22.273 --> 00:20:23.077\n&gt;&gt; I mean, there are some things.\n\n445\n00:20:23.077 --> 00:20:24.845\n&gt;&gt; Sure.\n&gt;&gt; That maybe we don't need to worry\n\n446\n00:20:24.845 --> 00:20:26.970\nabout authenticating or encrypting.\n\n447\n00:20:26.970 --> 00:20:29.880\nBy using these policies,\nand using these filters,\n\n448\n00:20:29.880 --> 00:20:33.620\nwe can say look only if it matches\nthis do you take time and effort to or\n\n449\n00:20:33.620 --> 00:20:36.790\ngo through that overhead of adding\nthe encryption or the authentication.\n\n450\n00:20:36.790 --> 00:20:41.780\n&gt;&gt; It's a great point because you know lot\ntimes unfortunately, right, the solution,\n\n451\n00:20:41.780 --> 00:20:45.350\nthe mindset of, and it's not so\nmuch the security professional,\n\n452\n00:20:45.350 --> 00:20:46.910\nit's not even so much the IT professional,\n\n453\n00:20:46.910 --> 00:20:52.105\nI just think generically it's the mindset\nof the overworked IT professional today.\n\n454\n00:20:52.105 --> 00:20:53.430\n&gt;&gt; Mm-hm.\n&gt;&gt; Meaning, we're all being asked\n\n455\n00:20:53.430 --> 00:20:54.670\nto do more with less.\n\n456\n00:20:54.670 --> 00:20:58.341\nWe're all being asked to assume a lot\nresponsibilities where perhaps our teams\n\n457\n00:20:58.341 --> 00:20:59.007\nare cut back.\n\n458\n00:20:59.007 --> 00:21:02.479\nWe don't have as many people doing as\nmuch as we may have had a decade ago, and\n\n459\n00:21:02.479 --> 00:21:06.333\nas a result of that, this idea of running\nleaner, right, we're being stretched,\n\n460\n00:21:06.333 --> 00:21:09.210\nwe're being asked to do a lot\nmore stuff which is good, right,\n\n461\n00:21:09.210 --> 00:21:12.581\ngives you the opportunity to stretch and\nreally learn about new things but\n\n462\n00:21:12.581 --> 00:21:15.081\nyou may not become as confident and\nas knowledgable but\n\n463\n00:21:15.081 --> 00:21:18.783\nany one thing that you're not specializing\nin those things the way you used to.\n\n464\n00:21:18.783 --> 00:21:23.448\nI mean, I remember when I started out\na million years ago when dinosaurs roamed\n\n465\n00:21:23.448 --> 00:21:28.044\nthe earth that you know, you were just\nthe exchange guy or the exchange girl or\n\n466\n00:21:28.044 --> 00:21:32.286\nyou were just the DBA person and\nyou were just the file and print person or\n\n467\n00:21:32.286 --> 00:21:33.651\njust doing desk tops.\n\n468\n00:21:33.651 --> 00:21:36.795\nAnd while that does exist in\nsome organizations still today,\n\n469\n00:21:36.795 --> 00:21:40.920\nyou always see lots of IT professionals\nthat specialize in certain things.\n\n470\n00:21:40.920 --> 00:21:44.661\nI also, see a lot generalists that\nare just like Swiss Army Knives,\n\n471\n00:21:44.661 --> 00:21:49.293\nthey're kind of in there, there able to be\nreally great at fixing a lot of problems,\n\n472\n00:21:49.293 --> 00:21:51.390\nto maybe level one, even level two.\n\n473\n00:21:51.390 --> 00:21:55.382\nBut they don't have the deep, deep, deep\ntechnical knowledge the way the guy or\n\n474\n00:21:55.382 --> 00:21:59.561\nthe girl that was specializing in that\nproduct would've had 15, 20 years ago.\n\n475\n00:21:59.561 --> 00:22:02.493\nAnd when it gets beyond\nthe basic blocking and tackling,\n\n476\n00:22:02.493 --> 00:22:06.401\nthey may not know enough on the surface\nto go in and fix it without getting some\n\n477\n00:22:06.401 --> 00:22:09.885\nadditional help, right or\ngetting that level three or level four,\n\n478\n00:22:09.885 --> 00:22:14.198\nwhatever you call that person, senior\nengineer, whatever it is involved today.\n\n479\n00:22:14.198 --> 00:22:18.734\nAnd so it does change, and the more\nyou know about a technology like this,\n\n480\n00:22:18.734 --> 00:22:23.637\nnot that this makes you necessarily\nthe best at security, it's just one aspect\n\n481\n00:22:23.637 --> 00:22:28.027\nof a multifaceted solution, but\nit makes you a lot more valuable to your\n\n482\n00:22:28.027 --> 00:22:32.928\norganizations because not only can you do\nthis the right way, but you can ensure\n\n483\n00:22:32.928 --> 00:22:37.700\nthat if it's done the wrong way,\nyou know how to fix it and make it right.\n\n484\n00:22:37.700 --> 00:22:39.640\nAnd that's an incredibly\nimportant skill set.\n\n485\n00:22:39.640 --> 00:22:44.480\nSo it is worth the time to really\nexplore this and many other nooks and\n\n486\n00:22:44.480 --> 00:22:47.280\ncrannies in the operating system,\nreally tease out that knowledge and\n\n487\n00:22:47.280 --> 00:22:51.130\nunderstand, not just in the book,\nso to speak, what it looks like but\n\n488\n00:22:51.130 --> 00:22:53.200\nhow to actually apply it,\ngo in and play with it and\n\n489\n00:22:53.200 --> 00:22:56.620\nreally put the knowledge to the test and\nmake sure you see the outcome and\n\n490\n00:22:56.620 --> 00:22:59.890\nif it doesn't work the way you\nare expecting let's figure out why, right?\n\n491\n00:22:59.890 --> 00:23:01.280\nSo let's add our own IP filter.\n\n492\n00:23:01.280 --> 00:23:04.650\nWe kind of edited one,\nlet's hit wizard number three here right.\n\n493\n00:23:04.650 --> 00:23:07.675\nAlright welcome to the IP filter\nwizard alright so we got that.\n\n494\n00:23:07.675 --> 00:23:10.670\nClick Next, alright, so description,\n\n495\n00:23:10.670 --> 00:23:16.830\nthis is me not learning how to type.\n\n496\n00:23:16.830 --> 00:23:24.296\nThis is my IP.\n\n497\n00:23:24.296 --> 00:23:25.469\nSomething like that,\n\n498\n00:23:25.469 --> 00:23:29.432\nagain the mirroring option, to make\nsure that we define both sides at once.\n\n499\n00:23:29.432 --> 00:23:31.070\nKind of like the trust relationship\nwhere you set up one and\n\n500\n00:23:31.070 --> 00:23:32.548\nit automatically puts\nthe other one in place for it.\n\n501\n00:23:32.548 --> 00:23:33.275\nIt's the same idea.\n\n502\n00:23:33.275 --> 00:23:33.870\nAll right.\n\n503\n00:23:33.870 --> 00:23:37.400\nSo IP traffic source to specify\nthe source of the IP traffic.\n\n504\n00:23:37.400 --> 00:23:39.670\nAgain we already saw this\nlist when we edited this so\n\n505\n00:23:39.670 --> 00:23:42.020\nwe're just breaking down those\npieces I just showed you and\n\n506\n00:23:42.020 --> 00:23:44.220\nkind of walking through and\nseeing how they come together.\n\n507\n00:23:44.220 --> 00:23:48.680\nSo I could do any IP, my IP, a specific\nDNS name, specific IP address or\n\n508\n00:23:48.680 --> 00:23:50.550\nsubnet, Default gateway.\n\n509\n00:23:52.190 --> 00:23:55.458\nLet's keep our theme of totally irrelevant\nand erroneous technologies going,\n\n510\n00:23:55.458 --> 00:23:56.187\nwe'll use WINS.\n\n511\n00:23:56.187 --> 00:23:56.768\n&gt;&gt; All right.\n\n512\n00:23:56.768 --> 00:24:00.086\n&gt;&gt; All right, for our one or two WINS\nservers out there somewhere in then world.\n\n513\n00:24:00.086 --> 00:24:02.649\nOf courses, I should be the last\nperson that Cast aspersions and\n\n514\n00:24:02.649 --> 00:24:04.220\nstones, I use a BlackBerry and a Zune.\n\n515\n00:24:04.220 --> 00:24:07.302\nAnd as I said, probably the only person\non the planet that can actually claim\n\n516\n00:24:07.302 --> 00:24:10.080\nthat combination, and\nis still willing to admit that in public.\n\n517\n00:24:10.080 --> 00:24:13.060\nAll right, although I did see\nmy brother over the weekend, and\n\n518\n00:24:13.060 --> 00:24:16.486\nhe actually was all excited,\ncuz he also has a Blackberry.\n\n519\n00:24:16.486 --> 00:24:17.770\n&gt;&gt; So there's two Blackberries\nin the world, [CROSSTALK]?\n\n520\n00:24:17.770 --> 00:24:20.992\n&gt;&gt; Right, exactly, but\nhe was all excited, cuz he for\n\n521\n00:24:20.992 --> 00:24:25.181\na long time has wanted the new,\nthe newer, the newest BlackBerry.\n\n522\n00:24:25.181 --> 00:24:28.500\nAnd he finally went out and\nbit the bullet and bought one.\n\n523\n00:24:28.500 --> 00:24:30.831\nI think he got, he had to switch\ncarriers cuz he was putting it off,\n\n524\n00:24:30.831 --> 00:24:32.429\ncuz the carrier he was\non didn't carry them.\n\n525\n00:24:32.429 --> 00:24:35.273\nBut he finally got one, so\nhe was all excited, I saw him for\n\n526\n00:24:35.273 --> 00:24:37.320\nthe Jewish holidays, he was telling me.\n\n527\n00:24:37.320 --> 00:24:38.845\nSo I saw him when I went home and\n\n528\n00:24:38.845 --> 00:24:40.270\nhe was showing his-\n&gt;&gt; Show-off?\n\n529\n00:24:40.270 --> 00:24:41.722\n&gt;&gt; Yeah, he's like,\nlook, I got the new one.\n\n530\n00:24:41.722 --> 00:24:45.146\nAnd mine has the keyboard outside,\nhe says, it still has the keyboard.\n\n531\n00:24:45.146 --> 00:24:49.360\nBut mine is the slide, so it has it\nup underneath, cuz I have the Priv.\n\n532\n00:24:49.360 --> 00:24:52.879\nAnd so I'm like, yeah, but my keyboard's\nunderneath, and his is outside, and\n\n533\n00:24:52.879 --> 00:24:54.157\nI'm like, mine's better.\n\n534\n00:24:54.157 --> 00:24:56.820\n&gt;&gt; [LAUGH]\n&gt;&gt; That's what you do when you're an older\n\n535\n00:24:56.820 --> 00:24:57.460\nbrother.\n\n536\n00:24:57.460 --> 00:25:01.920\nAnyway, so we'll do this,\nwe'll go ahead, Destination.\n\n537\n00:25:01.920 --> 00:25:05.010\nRemember, if we're gonna be doing this\nfrom, let's say Winserver to Winserver,\n\n538\n00:25:05.010 --> 00:25:06.093\nin theory and all.\n\n539\n00:25:06.093 --> 00:25:08.149\nIs about a business case, hypothetically.\n\n540\n00:25:08.149 --> 00:25:11.090\nIf we're doing this between two\nservice provider end points,\n\n541\n00:25:11.090 --> 00:25:12.590\nlike a DNS infrastructure?\n\n542\n00:25:12.590 --> 00:25:16.752\nWe'd have to actually specify DNS on\nboth sides, not just on my IP to that.\n\n543\n00:25:16.752 --> 00:25:19.569\nI mean,\nit could just be a client to that machine,\n\n544\n00:25:19.569 --> 00:25:23.350\nthen it could be me as a source to,\nlet's say DNS as the target.\n\n545\n00:25:23.350 --> 00:25:26.720\nBut if I actually wanted to set this up,\nor two Winservers were in theory\n\n546\n00:25:26.720 --> 00:25:30.185\nusing this to send and receive traffic\nback and forth and filter for that?\n\n547\n00:25:30.185 --> 00:25:32.805\nI would choose Winservers on\nboth sides like I'm doing\n\n548\n00:25:32.805 --> 00:25:34.225\nto create that profile, right?\n\n549\n00:25:34.225 --> 00:25:36.995\nSo just want to think about that,\nand logically\n\n550\n00:25:36.995 --> 00:25:39.815\nunderstand why we have this pick list and\nwhat the options may be on both sides.\n\n551\n00:25:39.815 --> 00:25:43.725\nAll right, so we set it for\nWins on both sides, click Next.\n\n552\n00:25:45.293 --> 00:25:48.552\nThat's right, yeah,\nI'm doing Dynamic on both.\n\n553\n00:25:48.552 --> 00:25:53.350\nI would do the IP address, not DNS name,\n\n554\n00:25:53.350 --> 00:25:58.869\nwell, I could do DNS\nname with the Winserver.\n\n555\n00:25:58.869 --> 00:26:02.717\nSo I could do\nWinsserver1.practicelabs.com or\n\n556\n00:26:02.717 --> 00:26:06.120\nsomething like that, whatever it would be.\n\n557\n00:26:07.770 --> 00:26:10.301\nYou'll see I have to have a real\nserver that resolves the DNS,\n\n558\n00:26:10.301 --> 00:26:13.140\nI don't have a host record,\nthat's why it's not gonna show up.\n\n559\n00:26:13.140 --> 00:26:15.707\nBut you see,\nyou would want something like that, right?\n\n560\n00:26:15.707 --> 00:26:21.218\nBut what I could do is, I do think\nI have one that will resolve there,\n\n561\n00:26:21.218 --> 00:26:23.751\nshould, anyway, let me see.\n\n562\n00:26:23.751 --> 00:26:26.309\nPretty sure, no, I didn't create one,\nokay, I thought I created one for\n\n563\n00:26:26.309 --> 00:26:27.460\nthat, no big deal.\n\n564\n00:26:27.460 --> 00:26:33.242\nLets do plabdm01,\nthat should actually resolve.\n\n565\n00:26:33.242 --> 00:26:38.054\nAll right, so you'll see here, when I\ndo have one that does resolve, right?\n\n566\n00:26:38.054 --> 00:26:42.031\nDNS names are all used here to build\nIP address filters to ensure security.\n\n567\n00:26:42.031 --> 00:26:43.973\nDon't add, delete, or change source or\n\n568\n00:26:43.973 --> 00:26:46.775\ndestination IPs without updating\nthe list and verifying.\n\n569\n00:26:46.775 --> 00:26:48.763\nMeaning, you go start\nmessing around with DNS and\n\n570\n00:26:48.763 --> 00:26:50.285\nchanging out all those host records?\n\n571\n00:26:50.285 --> 00:26:51.891\nHey, come back and\nmake sure you're aware of this,\n\n572\n00:26:51.891 --> 00:26:53.470\nright, because otherwise\nyou may have a problem.\n\n573\n00:26:53.470 --> 00:26:55.730\nAll right, I'm just gonna click Yes,\nno big deal.\n\n574\n00:26:55.730 --> 00:26:58.420\nAnd then we do IP protocol,\nspecify the prototype.\n\n575\n00:26:58.420 --> 00:27:01.490\nAgain, you saw protocols,\nwe've talked about that, so\n\n576\n00:27:01.490 --> 00:27:05.560\nI may do something like TCP here.\n\n577\n00:27:05.560 --> 00:27:12.182\nClick Next, specify Reports, and\nthen we're done, all right, click Finish.\n\n578\n00:27:12.182 --> 00:27:14.358\nAll right, so we do now have, right,\n\n579\n00:27:14.358 --> 00:27:19.187\nyou could see my filter below the one that\nwas already there, you could see it there.\n\n580\n00:27:19.187 --> 00:27:22.691\nAnd then let's click OK,\nright, so I have that.\n\n581\n00:27:22.691 --> 00:27:24.670\nI have added it, but\nI added it under ICMP.\n\n582\n00:27:24.670 --> 00:27:27.410\nI could have added my own separately, but\n\n583\n00:27:27.410 --> 00:27:29.970\nI chose to add my filter\nto an existing one.\n\n584\n00:27:29.970 --> 00:27:33.280\nThat's why you're not seeing it on this\nlist, but you get the idea, right?\n\n585\n00:27:33.280 --> 00:27:39.918\nClick Next, then Permit, Request, or\nRequire, right, so Permit Unsecured.\n\n586\n00:27:39.918 --> 00:27:43.418\nRequest Security Option, or\nRequire, or if I want to add,\n\n587\n00:27:43.418 --> 00:27:45.710\nthere is my additional wizard.\n\n588\n00:27:45.710 --> 00:27:50.403\nWelcome to the IP Security Filter Action\nWizard, so this is the number four wizard,\n\n589\n00:27:50.403 --> 00:27:51.998\nfour, number four wizard.\n\n590\n00:27:51.998 --> 00:27:54.301\nAll right, so fourth wizard,\nso let's click Next.\n\n591\n00:27:54.301 --> 00:28:02.994\nLet's call this IPsecWizAdds, Wizard Four.\n\n592\n00:28:02.994 --> 00:28:07.782\n&gt;&gt; Yeah, this is where I found that a good\nnaming convention can really come in\n\n593\n00:28:07.782 --> 00:28:08.318\nhandy.\n\n594\n00:28:08.318 --> 00:28:09.604\n&gt;&gt; Otherwise you have no\nclue what you just getting.\n\n595\n00:28:09.604 --> 00:28:12.057\nAnd not only do you not have a clue, but\nanybody that comes after you has no clue.\n\n596\n00:28:12.057 --> 00:28:15.069\nAnd they will almost be guaranteed\nto screw up what you did,\n\n597\n00:28:15.069 --> 00:28:18.260\neven if you got it right, so\nthat can be a problem as well.\n\n598\n00:28:18.260 --> 00:28:20.810\nNot to mention taking pity on the poor\nauditors who have to come in and\n\n599\n00:28:20.810 --> 00:28:22.130\nlook at all this stuff.\n\n600\n00:28:22.130 --> 00:28:24.787\nThey can't make heads or tails out of\nwhat you did, nobody understands it.\n\n601\n00:28:24.787 --> 00:28:27.632\nAnd you don't even know if it works\nthe right way, and if you do,\n\n602\n00:28:27.632 --> 00:28:28.751\nyou can't explain why.\n\n603\n00:28:28.751 --> 00:28:31.555\nAll right, so Filter Action General\nOptions, what are we doing,\n\n604\n00:28:31.555 --> 00:28:34.050\nwe're permitting, or\nblocking, or negotiating.\n\n605\n00:28:34.050 --> 00:28:37.569\nSo it's questionable what we're gonna do,\nwe'll just say Negotiate.\n\n606\n00:28:37.569 --> 00:28:40.209\nSo then are we going to allow\nunsecured communication for\n\n607\n00:28:40.209 --> 00:28:41.972\ncomputers that do not support IPsec?\n\n608\n00:28:41.972 --> 00:28:45.222\nRemember, we're negotiating, so\nwhat are we gonna call the lowest common\n\n609\n00:28:45.222 --> 00:28:47.375\ndenominator here, right,\nwhat are we gonna do?\n\n610\n00:28:47.375 --> 00:28:51.366\nOr allow unsecured communication if\na secure communication will not be\n\n611\n00:28:51.366 --> 00:28:52.795\nable to be established.\n\n612\n00:28:52.795 --> 00:28:56.590\nSo are we gonna drop down to essentially\nunsecured, or are we gonna say,\n\n613\n00:28:56.590 --> 00:28:59.480\nhey, sorry, but you know what,\nyou can't negotiate with me.\n\n614\n00:28:59.480 --> 00:29:01.890\nEven if it's a password that\nwe both have in common,\n\n615\n00:29:01.890 --> 00:29:04.310\nI can't talk to you if we\ncan't secure the connection.\n\n616\n00:29:04.310 --> 00:29:05.809\nSo it's up to us to decide, but\n\n617\n00:29:05.809 --> 00:29:08.947\nnegotiation is about finding\nthat lowest common denominator.\n\n618\n00:29:08.947 --> 00:29:11.925\nNow you may look at that and say, yeah,\nbut if you're gonna negotiate and\n\n619\n00:29:11.925 --> 00:29:15.405\nnot allow unsecured communication, isn't\nthat the same as essentially blocking?\n\n620\n00:29:15.405 --> 00:29:19.092\nI mean in theory yes, right, because\nultimately we wind up in the same place.\n\n621\n00:29:19.092 --> 00:29:23.648\nBut we try to figure out whether or\nnot we're gonna be able to do this before\n\n622\n00:29:23.648 --> 00:29:26.820\nwe just jump to block,\nas opposed to we just block.\n\n623\n00:29:26.820 --> 00:29:28.658\nSo it's just a question of degrees,\nI suppose.\n\n624\n00:29:28.658 --> 00:29:31.537\nSo I'll allow insecure communication,\nokay,\n\n625\n00:29:31.537 --> 00:29:35.901\nflying in the face of every security\nnorm and best practice we talk about.\n\n626\n00:29:35.901 --> 00:29:37.810\nI'm the Anti-Security Adam today.\n\n627\n00:29:37.810 --> 00:29:42.020\nAll right, so Integrity and\nencryption, we talked about this,\n\n628\n00:29:42.020 --> 00:29:43.882\nIntegrity Only or Custom.\n\n629\n00:29:43.882 --> 00:29:46.470\nAll right, if we do Custom,\nlet's see our settings here.\n\n630\n00:29:46.470 --> 00:29:52.166\nWe could specify, again, SHA-1 or MD5,\njust to remind you, Triple DES or DES.\n\n631\n00:29:52.166 --> 00:29:55.363\nWe talked about the value of maybe\nmodifying the key generation scheme, so\n\n632\n00:29:55.363 --> 00:29:58.430\nwe understand how to rotate those\nkeys a little more frequently.\n\n633\n00:29:58.430 --> 00:30:01.459\nIt's up to us to decide, we'll just\ngo ahead and accept those defaults.\n\n634\n00:30:03.000 --> 00:30:05.500\nAll right, so just do Integrity, and\nwas just showing you in the Custom.\n\n635\n00:30:05.500 --> 00:30:08.980\nBut we'll do Integrity encryption, that's\nthe way you would normally set this up.\n\n636\n00:30:08.980 --> 00:30:11.600\nAll right, so we've done that, we're not\ngoing to bother editing our properties,\n\n637\n00:30:11.600 --> 00:30:12.680\nwe know what they are.\n\n638\n00:30:12.680 --> 00:30:16.410\nI'm gonna choose IPsec Wizard Four there,\nclick Next.\n\n639\n00:30:16.410 --> 00:30:19.780\nAll right, so now, Authentication Method,\nas if we are almost done,\n\n640\n00:30:19.780 --> 00:30:21.074\nwe're not quite finished yet.\n\n641\n00:30:21.074 --> 00:30:25.369\nAD default, Kerberos 5 certificates,\nwe talked about this, or pre-shared,\n\n642\n00:30:25.369 --> 00:30:26.003\nall right?\n\n643\n00:30:26.003 --> 00:30:31.021\nSo, we could any of these I'll just do\nAD Kerberos 5, click Next, click Finish.\n\n644\n00:30:31.021 --> 00:30:35.288\nAll right, so all that and\nnow we have our new rule,\n\n645\n00:30:35.288 --> 00:30:39.540\nwe have our IP filter\nlist as we went through.\n\n646\n00:30:39.540 --> 00:30:43.180\nWe have our filter action, you could\nsee there, I love the crossed swords.\n\n647\n00:30:43.180 --> 00:30:46.510\nWe have our connection type,\nAll Network Connections.\n\n648\n00:30:46.510 --> 00:30:50.030\nWe have our tunnel settings, we talked\nabout that, you saw me put that IP in.\n\n649\n00:30:50.030 --> 00:30:51.791\nWe have our authentication method, right?\n\n650\n00:30:51.791 --> 00:30:54.600\nSo all the five different tabs and\nmoving parts for wizards, and\n\n651\n00:30:54.600 --> 00:30:57.264\nall things that go with that,\nand a partridge in a pear tree.\n\n652\n00:30:57.264 --> 00:30:59.735\n&gt;&gt; [LAUGH]\n&gt;&gt; With have all of that, and\n\n653\n00:30:59.735 --> 00:31:02.709\nwhen we click OK, we're back here.\n\n654\n00:31:02.709 --> 00:31:06.793\nAnd we did all that just on one IP\nsecurity rule inside of this, right,\n\n655\n00:31:06.793 --> 00:31:11.058\njust one rule, all that just to be-\n&gt;&gt; Just that one rule and that one policy.\n\n656\n00:31:11.058 --> 00:31:14.297\n&gt;&gt; One rule inside that, just to\nclick there and to set that all up.\n\n657\n00:31:14.297 --> 00:31:18.003\nSo, all of that work, right,\njust to create that one little thing.\n\n658\n00:31:18.003 --> 00:31:21.886\nAnd then if we choose to apply or not\napply, it's up to us to decide, of course.\n\n659\n00:31:21.886 --> 00:31:25.471\nNow, I know you're gonna tell me we're out\nof time, but I'm not gonna listen to you.\n\n660\n00:31:25.471 --> 00:31:26.191\nSo before we finish up,\n\n661\n00:31:26.191 --> 00:31:28.393\nI promised you I'd show you another\nway to take a look at this, quickly.\n\n662\n00:31:28.393 --> 00:31:31.307\nI just want to bring in the MMC\nconsole real quick, just to show.\n\n663\n00:31:31.307 --> 00:31:33.398\nAll right, so\nwe've done this in group policy,\n\n664\n00:31:33.398 --> 00:31:36.156\nwe've taken a look at the firewalls,\nso two of the three areas.\n\n665\n00:31:36.156 --> 00:31:39.116\nThird area, cuz remember,\none is good, two is better,\n\n666\n00:31:39.116 --> 00:31:40.930\nthree is better than two, right?\n\n667\n00:31:40.930 --> 00:31:43.972\nSo third way we could do this,\nI've opened up a blank MMC.\n\n668\n00:31:43.972 --> 00:31:47.950\nSo Run Line, Windows key R, or\njust run, or tell Cortana get up and\n\n669\n00:31:47.950 --> 00:31:49.720\ngo do something for you.\n\n670\n00:31:49.720 --> 00:31:52.764\nSay run, and then print to console,\nright, so MMC, and\n\n671\n00:31:52.764 --> 00:31:55.560\nthen in the MMC we're gonna\nput some snap-ins in.\n\n672\n00:31:55.560 --> 00:31:57.876\nSo what are we gonna do?\nWe're gonna go to File,\n\n673\n00:31:57.876 --> 00:32:00.720\nwe're gonna go here to Add/Remove.\n\n674\n00:32:00.720 --> 00:32:06.491\nCome down here alphabetically, we have\na couple of things for IP Security.\n\n675\n00:32:06.491 --> 00:32:11.412\nSee them there,\nIPsec Policy Management, and\n\n676\n00:32:11.412 --> 00:32:18.310\nwe'll do Local Computer,\nIP Security Monitor, Add, click OK.\n\n677\n00:32:18.310 --> 00:32:21.636\nAll right, so yet\nanother way to do the same thing.\n\n678\n00:32:25.600 --> 00:32:29.588\nWe can see IP security policies on\nthe local computer, there may or\n\n679\n00:32:29.588 --> 00:32:31.164\nmay not be anything here.\n\n680\n00:32:31.164 --> 00:32:34.390\nAnd we can go ahead and create IP\nsecurity policies in the local machine.\n\n681\n00:32:34.390 --> 00:32:37.808\nEssentially doing what I just did at the\ndomain level, but on the local machine.\n\n682\n00:32:37.808 --> 00:32:40.381\n&gt;&gt; So if you had a workgroup machine or\nstand-alone server,\n\n683\n00:32:40.381 --> 00:32:42.229\nthis would be the way you'd probably go?\n\n684\n00:32:42.229 --> 00:32:44.386\n&gt;&gt; Yep, absolutely could do it that way.\n\n685\n00:32:44.386 --> 00:32:47.760\nAnd then we have IP Security Monitor.\n\n686\n00:32:47.760 --> 00:32:50.665\nWe can go ahead and\nwe can see the IP security,\n\n687\n00:32:50.665 --> 00:32:53.659\nif there's any active policies, all right?\n\n688\n00:32:53.659 --> 00:32:56.489\nWe haven't finished our policies yet\nand closed out the editor,\n\n689\n00:32:56.489 --> 00:32:59.760\ncuz there's nothing to sign,\nbut you get the general idea.\n\n690\n00:32:59.760 --> 00:33:05.006\nWe could take a look at and see if\nthere are any configurations here for\n\n691\n00:33:05.006 --> 00:33:07.279\nfilters, just open this up.\n\n692\n00:33:09.386 --> 00:33:13.704\nGreat, any IP policies, statistics,\njust general connectivity information,\n\n693\n00:33:13.704 --> 00:33:16.990\nsecurity associations that\nhave been configured, right?\n\n694\n00:33:16.990 --> 00:33:21.745\nSo I can see any of the active policies\nthat may exist and that are applied,\n\n695\n00:33:21.745 --> 00:33:24.137\nand I can monitor all that from here.\n\n696\n00:33:24.137 --> 00:33:29.067\nSo using the IPsec Monitor snap-in,\nto be able to monitor the application and\n\n697\n00:33:29.067 --> 00:33:31.169\nthe use of IP security policies.\n\n698\n00:33:31.169 --> 00:33:35.521\nAnd the IPsec Policy and MC snap-in for\nediting on the local computer are two\n\n699\n00:33:35.521 --> 00:33:40.010\nadditional tools, or at least ways in\nwhich we can work with policies as well.\n\n700\n00:33:40.010 --> 00:33:41.951\nI just wanna make sure\nwe're aware of that,\n\n701\n00:33:41.951 --> 00:33:44.373\njust to kinda round out our\ndiscussions around IPsec.\n\n702\n00:33:44.373 --> 00:33:47.400\n&gt;&gt; Fantastic, love IPsec,\ngreat demonstrations there, Adam,\n\n703\n00:33:47.400 --> 00:33:48.419\nwe appreciate that.\n\n704\n00:33:48.419 --> 00:33:51.460\nWe hope everybody out there\nenjoyed watching these episodes\n\n705\n00:33:51.460 --> 00:33:53.300\non secure network traffic.\n\n706\n00:33:53.300 --> 00:33:56.080\nSigning off for ITProTV,\nI've been your host, Mike Rodrick.\n\n707\n00:33:56.080 --> 00:33:57.590\n&gt;&gt; I'm that IPsec guy.\n\n708\n00:33:57.590 --> 00:33:58.564\n&gt;&gt; And we'll see you next time.\n\n709\n00:34:01.255 --> 00:34:07.135\n[MUSIC]\n\n710\n00:34:07.135 --> 00:34:09.396\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "236804512"
        },
        {
          "description": "",
          "length": "1870",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-4-secure_network_traffic_pt4-100317-PGM.00_35_25_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-4-secure_network_traffic_pt4-100317-PGM.00_35_25_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-4-secure_network_traffic_pt4-100317-PGM.00_35_25_26.Still001-sm.jpg",
          "title": "Secure Network Traffic Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.160 --> 00:00:01.287\nWelcome to ITPRO.TV.\n\n2\n00:00:01.287 --> 00:00:08.122\nIm your host.\n[CROSSTALK]\n\n3\n00:00:08.122 --> 00:00:08.647\n&gt;&gt; Your watching ITPRO.TV.\n\n4\n00:00:08.647 --> 00:00:13.160\n&gt;&gt; Hello, welcome to\n\n5\n00:00:13.160 --> 00:00:15.340\nanother exciting episode here at ITPRO.TV.\n\n6\n00:00:15.340 --> 00:00:20.040\nI'm your host Mike Rodrick and today were\ndoing our Secure Windows Server 2016,\n\n7\n00:00:20.040 --> 00:00:23.470\ngetting ready for that 70-744 exam.\n\n8\n00:00:23.470 --> 00:00:27.488\nIn this episode we're gonna be focusing\nin on secured network traffic.\n\n9\n00:00:27.488 --> 00:00:31.028\nThis is a multipart little\nmini-series we've got going on here.\n\n10\n00:00:31.028 --> 00:00:32.525\nI think we're on part four.\n\n11\n00:00:32.525 --> 00:00:35.926\nSo if you missed part one, two, or\nthree, make sure you go back and\n\n12\n00:00:35.926 --> 00:00:38.714\ncheck those out and\nthen join us here for part four.\n\n13\n00:00:38.714 --> 00:00:42.662\nHere with me to help us secure that\nnetwork traffic is Mr. Adam Gordon.\n\n14\n00:00:42.662 --> 00:00:43.411\nWelcome, Adam.\n\n15\n00:00:43.411 --> 00:00:46.480\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; He's gonna mime the whole show.\n\n16\n00:00:46.480 --> 00:00:50.360\n&gt;&gt; I am just secure, I'm in my bubble.\n\n17\n00:00:50.360 --> 00:00:52.320\nCannot go anywhere, do anything.\n\n18\n00:00:52.320 --> 00:00:52.832\nAll right, so\n\n19\n00:00:52.832 --> 00:00:55.580\nwe are gonna continue our conversations\naround security network traffic.\n\n20\n00:00:55.580 --> 00:00:58.490\nSo I'm thinking, I'm thinking that\n\n21\n00:00:58.490 --> 00:01:01.840\nif we wanna secure network traffic\nwe've talked about firewalls.\n\n22\n00:01:01.840 --> 00:01:02.370\n&gt;&gt; We did.\n\n23\n00:01:02.370 --> 00:01:03.370\n&gt;&gt; We've talked about.\n\n24\n00:01:03.370 --> 00:01:06.090\n&gt;&gt; Allows us to control what traffic\nis allowed to come in or out.\n\n25\n00:01:06.090 --> 00:01:09.330\n&gt;&gt; So talked about essentially gateway\nfunctionality and management, right,\n\n26\n00:01:09.330 --> 00:01:10.160\nwith traffic.\n\n27\n00:01:10.160 --> 00:01:14.490\nWe've talked about the use of IPsac.\n\n28\n00:01:14.490 --> 00:01:17.770\n&gt;&gt; Which allows us to encrypt the traffic\nthat's travelling across network or\n\n29\n00:01:17.770 --> 00:01:19.190\nauthenticate, or both.\n\n30\n00:01:19.190 --> 00:01:20.670\n&gt;&gt; Potentially to do both, right.\n\n31\n00:01:20.670 --> 00:01:22.220\nAs we've talked about so we've done that.\n\n32\n00:01:22.220 --> 00:01:25.670\nWe've also thought about,\ntalked about, although,\n\n33\n00:01:25.670 --> 00:01:30.890\nit's not directly related to network\ntraffic, but, in theory, it could be.\n\n34\n00:01:30.890 --> 00:01:35.320\nWe've talked about the use of EFS and\nor BitLocker.\n\n35\n00:01:35.320 --> 00:01:40.090\nAnd so if we are are transiting\nfiles that are going to move,\n\n36\n00:01:40.090 --> 00:01:42.860\nright, or\npotentially transiting a hard drive.\n\n37\n00:01:42.860 --> 00:01:44.870\nThen we wanna make sure it's protected.\n\n38\n00:01:44.870 --> 00:01:47.850\nSo kind of a broader interpretation\nnot network specific.\n\n39\n00:01:47.850 --> 00:01:50.400\nBut we certainly talked\nabout things we can do.\n\n40\n00:01:50.400 --> 00:01:54.244\nBut there are some things that we\nhaven't talked about, some things that\n\n41\n00:01:54.244 --> 00:01:58.410\nare missing, right, with regards to\nsecurity and securing network traffic.\n\n42\n00:01:58.410 --> 00:02:00.270\nLet's talk about some of the.\n\n43\n00:02:00.270 --> 00:02:01.610\n&gt;&gt; Services of some kind.\n\n44\n00:02:01.610 --> 00:02:03.250\n&gt;&gt; Well, yes, so I'm thinking, right?\n\n45\n00:02:03.250 --> 00:02:06.151\nThat I'm just extending the lab timer\nwhile we're talking before we jump to\n\n46\n00:02:06.151 --> 00:02:06.660\nmy machine.\n\n47\n00:02:06.660 --> 00:02:10.020\nGive me just one second just to\nbring up the interface we need.\n\n48\n00:02:10.020 --> 00:02:15.750\nSo I'm thinking that there are some\nmissing pieces of the puzzle, right?\n\n49\n00:02:15.750 --> 00:02:17.757\nI'm thinking, maybe,\n\n50\n00:02:17.757 --> 00:02:23.990\nname resolution would be a good\nplace to perhaps spend some time.\n\n51\n00:02:23.990 --> 00:02:28.790\nPerhaps focusing in on some of\nthe ways that we can control\n\n52\n00:02:28.790 --> 00:02:30.810\nthe name resolution process.\n\n53\n00:02:30.810 --> 00:02:34.010\nWe're thinking DNS, in case you're\nwondering what we're talking about.\n\n54\n00:02:34.010 --> 00:02:36.690\nWe're not thinking about Wins,\njust in case you were wondering.\n\n55\n00:02:36.690 --> 00:02:40.130\nEven though we joked all about\nthat in our IPsac conversations.\n\n56\n00:02:40.130 --> 00:02:43.530\nIf you're using Wins, it is important to\nthink about security, all kidding aside.\n\n57\n00:02:43.530 --> 00:02:47.390\nBut the most secure thing you can\ndo if you are still using Wins,\n\n58\n00:02:47.390 --> 00:02:51.090\nwould actually to be to provide\nIPsac encryption of that traffic.\n\n59\n00:02:51.090 --> 00:02:54.320\nSo that you're securing it until\nyou can remove the need for\n\n60\n00:02:54.320 --> 00:02:58.250\nWins as a legacy platform support\nelement in your architecture.\n\n61\n00:02:58.250 --> 00:03:01.990\nAnd move to different kinds of name\nresolution that may be a little bit\n\n62\n00:03:01.990 --> 00:03:02.640\nmore secure.\n\n63\n00:03:02.640 --> 00:03:05.920\nBut we're gonna try to convince you in\nthis episode, and I'm thinking of at least\n\n64\n00:03:05.920 --> 00:03:07.440\none or two out beyond this-\n&gt;&gt; Right.\n\n65\n00:03:07.440 --> 00:03:11.230\n&gt;&gt; Around the value of using DNS as\nyour primary name resolution mechanism,\n\n66\n00:03:11.230 --> 00:03:14.163\nbecause of the enhanced security\ncapabilities we have or\n\n67\n00:03:14.163 --> 00:03:16.870\nat least that are being made\navailable to us lately.\n\n68\n00:03:16.870 --> 00:03:17.940\n12, 12 R2, but certainly in 16, right?\n\n69\n00:03:17.940 --> 00:03:21.370\nSo let's do what we always do\nwhen we talk about these things.\n\n70\n00:03:21.370 --> 00:03:24.100\nSo let's, at a high level,\njust start by discussing what a DNS is,\n\n71\n00:03:24.100 --> 00:03:26.080\nwhat it does, how does it help us, right?\n\n72\n00:03:26.080 --> 00:03:30.200\nSo this is a name, where probably\nthe primary name resolution technology and\n\n73\n00:03:30.200 --> 00:03:31.740\nmechanism we use today.\n\n74\n00:03:31.740 --> 00:03:36.330\nIt is a service that runs right\non top of the operating system,\n\n75\n00:03:36.330 --> 00:03:41.210\ninstalled and configured as a role or\na feature that we put into a system.\n\n76\n00:03:41.210 --> 00:03:46.090\nAnd it allows us, DNS does, to be able\nto do IP to fully qualified domain name,\n\n77\n00:03:46.090 --> 00:03:49.470\nenter a fully qualified domain name,\nIP address name resolution,\n\n78\n00:03:49.470 --> 00:03:52.660\nfully qualified domain name to\nIP would be forward lookups.\n\n79\n00:03:52.660 --> 00:03:57.350\nIP to fully qualified domain name would be\nreverse lookups, as we talk about them.\n\n80\n00:03:57.350 --> 00:04:01.000\nSo when you go to a web browser,\nwhatever it is,\n\n81\n00:04:01.000 --> 00:04:03.590\npick your favorite one\nreally doesn't matter.\n\n82\n00:04:03.590 --> 00:04:07.350\nWe're agnostic in that respect cuz\nagain DNS is not a Microsoft specific\n\n83\n00:04:07.350 --> 00:04:07.970\ntechnology.\n\n84\n00:04:07.970 --> 00:04:10.760\nIt is supported by Microsoft but\nwas around for\n\n85\n00:04:10.760 --> 00:04:14.630\na long time before Microsoft\nimplemented their technology,\n\n86\n00:04:14.630 --> 00:04:18.130\ntheir implementation of their OS and\nas a result supported DNS.\n\n87\n00:04:18.130 --> 00:04:21.380\nBut DNS allows us to be able\nto open up a web browser or\n\n88\n00:04:21.380 --> 00:04:23.870\na application that is\nname resolution friendly.\n\n89\n00:04:23.870 --> 00:04:26.980\nAs many applications support\nthe use of this service but\n\n90\n00:04:26.980 --> 00:04:29.510\nweb browsers are the primary\nones we think of.\n\n91\n00:04:29.510 --> 00:04:34.130\nOr we can type in an address,\nHTTP if we choose that protocol,\n\n92\n00:04:34.130 --> 00:04:36.600\nFTP if we choose that protocol.\n\n93\n00:04:36.600 --> 00:04:41.120\nOr a local path inside of\na machine if we have a connection,\n\n94\n00:04:41.120 --> 00:04:45.490\nlike a UNC, a path that we're gonna be\nable to use to resolve a hostname again.\n\n95\n00:04:45.490 --> 00:04:48.690\nSo there's lots of different ways we\nuse this or service lookup, right?\n\n96\n00:04:48.690 --> 00:04:51.800\nWe could be looking up the use of\na service through an SRV record,\n\n97\n00:04:51.800 --> 00:04:53.150\nservice record, something like that.\n\n98\n00:04:53.150 --> 00:04:54.340\n&gt;&gt; Yeah, I wanna log on, find a domain.\n\n99\n00:04:54.340 --> 00:04:55.935\n&gt;&gt; Authenticate, all sorts of stuff today.\n\n100\n00:04:55.935 --> 00:04:58.537\n&gt;&gt; [CROSSTALK]\n&gt;&gt; So we're gonna type that in and\n\n101\n00:04:58.537 --> 00:05:03.946\nwe're gonna put in that request,\nif it's http www.whatever.\n\n102\n00:05:03.946 --> 00:05:05.327\nAnd that's gonna get resolved and\n\n103\n00:05:05.327 --> 00:05:07.904\nwe're not gonna go through the whole\nprocess of how that works.\n\n104\n00:05:07.904 --> 00:05:10.750\nWe've done a whole set of shows,\nand discussions on that.\n\n105\n00:05:10.750 --> 00:05:14.885\nAnd the networking with Server 16,\nin Network Plus, Security Plus.\n\n106\n00:05:14.885 --> 00:05:16.460\nLots of content in the library for\nyou to look at,\n\n107\n00:05:16.460 --> 00:05:19.360\nif you need that level of\nconversation around DNS.\n\n108\n00:05:19.360 --> 00:05:22.385\nWe're just gonna assume you're familiar\nwith that thought process as we\n\n109\n00:05:22.385 --> 00:05:23.415\nget moving here.\n\n110\n00:05:23.415 --> 00:05:24.375\nWe're gonna resolve, right?\n\n111\n00:05:24.375 --> 00:05:26.075\nAnd that's one way to do this.\n\n112\n00:05:26.075 --> 00:05:27.265\nBut when we do that,\n\n113\n00:05:27.265 --> 00:05:30.165\nseveral things come into play that really\nare important from a security standpoint.\n\n114\n00:05:30.165 --> 00:05:33.937\nSo we have to think about the physical\nsecurity of the DNS infrastructure.\n\n115\n00:05:33.937 --> 00:05:37.307\nWe've seen ample evidence in the last\ncouple of years of attacks against\n\n116\n00:05:37.307 --> 00:05:40.477\nthe physical and logical DNS\ninfrastructure around the world.\n\n117\n00:05:40.477 --> 00:05:44.707\nThat can lead to service disruption,\nin some cases massive service disruption.\n\n118\n00:05:44.707 --> 00:05:51.650\nThe array malware and bot attacks that\ntook place about roughly a year ago now.\n\n119\n00:05:51.650 --> 00:05:54.960\nAnd many other instances where\nwe've had disruptive events\n\n120\n00:05:54.960 --> 00:05:59.040\nthat have tried to either take out huge\nloss of corporate DNS infrastructure or\n\n121\n00:05:59.040 --> 00:06:02.290\nperhaps thinking more globally,\nalthough acting locally, right?\n\n122\n00:06:02.290 --> 00:06:04.530\nTaking out individual DNS servers or\n\n123\n00:06:04.530 --> 00:06:07.410\nmirrors that are used to\nbe able to do resolution.\n\n124\n00:06:07.410 --> 00:06:08.980\nSo physical security's important,\n\n125\n00:06:08.980 --> 00:06:10.920\nbut there may be a limit\nto what we can do there.\n\n126\n00:06:10.920 --> 00:06:14.220\nYou put guards, guns, and gates down\naround these systems and protect them,\n\n127\n00:06:14.220 --> 00:06:17.420\nbut ultimately, the person who shows\nup with the biggest set of guns,\n\n128\n00:06:17.420 --> 00:06:18.130\nthe largest-\n&gt;&gt; [LAUGH]\n\n129\n00:06:18.130 --> 00:06:19.760\n&gt;&gt; Amount of infrastructure and\n\n130\n00:06:19.760 --> 00:06:21.410\nfirepower can still win that battle,\nright?\n\n131\n00:06:21.410 --> 00:06:23.660\nSo we may or\nmay not be able to fight on that level.\n\n132\n00:06:23.660 --> 00:06:27.530\nBut I'm thinking more about\nthe presentation of security elements that\n\n133\n00:06:27.530 --> 00:06:31.150\nare built into the DNS infrastructure as\nopposed to the guards you put around them.\n\n134\n00:06:31.150 --> 00:06:33.090\nSo let's focus on DNS servers.\n\n135\n00:06:33.090 --> 00:06:36.330\nLet's think about that,\nthe basic block in tackling, right?\n\n136\n00:06:36.330 --> 00:06:39.120\nHarden the server, just the common\nsense stuff we always think about.\n\n137\n00:06:39.120 --> 00:06:42.190\nGet rid of all of those unwanted services.\n\n138\n00:06:42.190 --> 00:06:47.410\nGet rid of all that unwanted software,\nget rid of and reduce the attack surface\n\n139\n00:06:47.410 --> 00:06:51.720\nas much as possible on the system\nby hardening it, traditionally.\n\n140\n00:06:51.720 --> 00:06:55.210\nPatch management, keep up to date\nwith the operating system patches.\n\n141\n00:06:55.210 --> 00:06:57.100\nJust the basics, not even related to DNS,\n\n142\n00:06:57.100 --> 00:07:00.280\njust related to any server anywhere\nthat we would run, generically.\n\n143\n00:07:00.280 --> 00:07:02.320\nSo let's obviously put that on the list,\n\n144\n00:07:02.320 --> 00:07:06.850\nlet's think about making sure that we\nuse firewalls as we've talked about it.\n\n145\n00:07:06.850 --> 00:07:11.220\nAnd build defense in depth\narchitectures out where we put IDS and\n\n146\n00:07:11.220 --> 00:07:13.270\nIPS capabilities out on the periphery.\n\n147\n00:07:13.270 --> 00:07:18.145\nAnd we have firewalls probably in\nline behind that and we've got a SEM\n\n148\n00:07:18.145 --> 00:07:22.135\nsolution of some kind that's aggregating\nlogs and actively monitoring.\n\n149\n00:07:22.135 --> 00:07:27.405\nWe may have the ability to be able to do a\nreal time reconfiguration of the network,\n\n150\n00:07:27.405 --> 00:07:30.890\nthrough an IPS response if\nwe have an attack detective.\n\n151\n00:07:30.890 --> 00:07:35.030\nSo all of this again, is in front of and\nsurrounding our DNS infrastructure, but\n\n152\n00:07:35.030 --> 00:07:36.878\nit's not specific to DNS.\n\n153\n00:07:36.878 --> 00:07:38.860\nBut if we all we did,\n\n154\n00:07:38.860 --> 00:07:43.190\nmy point with this conversation,\nif all we did was just focus on DNS,\n\n155\n00:07:43.190 --> 00:07:47.030\nand didn't think about all this other\nstuff, while we could probably be okay.\n\n156\n00:07:47.030 --> 00:07:49.790\nWe would be essentially banking\non the fact that the bad\n\n157\n00:07:49.790 --> 00:07:51.955\nactors would never come knock on the door.\n\n158\n00:07:51.955 --> 00:07:55.573\nBecause if they did, chances are good they\nwould probably be able to get through\n\n159\n00:07:55.573 --> 00:07:58.440\nwhatever minimal security\nprotection DNS by itself provide.\n\n160\n00:07:58.440 --> 00:08:02.620\nWe need to augment the protections\nwe're about to talk about.\n\n161\n00:08:02.620 --> 00:08:04.169\nIn other words, we're gonna show\nyou three, or four, or five, or\n\n162\n00:08:04.169 --> 00:08:05.301\nsix different things we\ncan do with DNS servers.\n\n163\n00:08:05.301 --> 00:08:06.980\nAnd they're all pretty cool.\n\n164\n00:08:06.980 --> 00:08:11.649\nAnd together they form a very significant\nportion of what we need to do to protect\n\n165\n00:08:11.649 --> 00:08:13.401\nand secure network traffic.\n\n166\n00:08:13.401 --> 00:08:14.655\nThat's how you use it right there.\n\n167\n00:08:14.655 --> 00:08:15.943\nSecure network traffic,\nright, just like that.\n\n168\n00:08:15.943 --> 00:08:16.795\n&gt;&gt; Very good [LAUGH].\n\n169\n00:08:16.795 --> 00:08:19.045\n&gt;&gt; So to protect and\nsecure network traffic, right?\n\n170\n00:08:19.045 --> 00:08:20.965\nNone of this securing\nnetwork traffic stuff.\n\n171\n00:08:20.965 --> 00:08:21.665\nJust secure network traffic.\n\n172\n00:08:21.665 --> 00:08:23.133\n&gt;&gt; Where's my verb [LAUGH]?\n\n173\n00:08:23.133 --> 00:08:24.850\n&gt;&gt; We've got to do all that,\nright [LAUGH]?\n\n174\n00:08:24.850 --> 00:08:30.130\nClearly no grammarians are operating\non the team there at Microsoft\n\n175\n00:08:30.130 --> 00:08:33.920\nthat does development of the exam\nobjectives and puts them out on the web.\n\n176\n00:08:33.920 --> 00:08:37.295\nAll right, so we wanna just make sure\nwe're thinking about the fact that,\n\n177\n00:08:37.295 --> 00:08:40.404\nwhile this is gonna be a really\nsolid package of defensive measures,\n\n178\n00:08:40.404 --> 00:08:43.675\nit's gonna pale in comparison,\nbased on the strength we can augment and\n\n179\n00:08:43.675 --> 00:08:46.818\nadd to it if we think about all the other\nthings that have to go with it.\n\n180\n00:08:46.818 --> 00:08:50.630\nCumulative, additive security,\nin other words, becomes very important.\n\n181\n00:08:50.630 --> 00:08:52.298\nAnd so let's think about it and\nlet's talk about it.\n\n182\n00:08:52.298 --> 00:08:54.990\nJoin me here if you will.\nLet's talk about things specific to DNS.\n\n183\n00:08:54.990 --> 00:08:57.186\nSo I'm on my domain controller, which,\n\n184\n00:08:57.186 --> 00:09:00.910\nsurprisingly enough, is where we\noften find DNS in Windows, right?\n\n185\n00:09:00.910 --> 00:09:01.840\nBecause all of our\n\n186\n00:09:01.840 --> 00:09:04.660\ndomain controllers can be running\nActive Directory-integrated DNS.\n\n187\n00:09:04.660 --> 00:09:07.025\nThat's often gonna be\nthe case in how we do this.\n\n188\n00:09:07.025 --> 00:09:09.217\nMany times our DNS servers\nwill be on domain controllers.\n\n189\n00:09:09.217 --> 00:09:12.330\nThey may be separate, by the way,\ndoesn't have to be there, right?\n\n190\n00:09:12.330 --> 00:09:13.716\nWe can run them in\nstand-alone configurations.\n\n191\n00:09:13.716 --> 00:09:16.341\nBut a lot of the times they\nhappen to be domain controllers,\n\n192\n00:09:16.341 --> 00:09:18.758\nreinforcing the idea that\nhardening those servers and\n\n193\n00:09:18.758 --> 00:09:22.436\nreally securing them at multiple levels\nbecome very important to what we're doing\n\n194\n00:09:22.436 --> 00:09:24.875\nto ensure these servers\nare not compromised, right?\n\n195\n00:09:24.875 --> 00:09:25.945\nSo think about that.\n\n196\n00:09:25.945 --> 00:09:28.451\nBut we're in here,\nwe've got our DNS infrastructure set up.\n\n197\n00:09:28.451 --> 00:09:31.485\nYou seen I've opened up my\nDNS Management console.\n\n198\n00:09:31.485 --> 00:09:34.393\nServer &gt; Manager &gt; Tools &gt; Menu &gt; DNS,\nopen that up.\n\n199\n00:09:34.393 --> 00:09:35.574\nThat's what we're seeing right here.\n\n200\n00:09:35.574 --> 00:09:38.888\nAnd so one of the very first\nthings we can think of and\n\n201\n00:09:38.888 --> 00:09:43.417\nfocus on, from a security standpoint,\nis what do we have in here?\n\n202\n00:09:43.417 --> 00:09:45.399\nWhat server or servers are we managing?\n\n203\n00:09:45.399 --> 00:09:46.514\nAnd do we have more than one?\n\n204\n00:09:46.514 --> 00:09:49.883\nAnd are we able to connect and\nmanage multiple servers from the console?\n\n205\n00:09:49.883 --> 00:09:50.860\nThe answers is, of course we can.\n\n206\n00:09:50.860 --> 00:09:55.078\nWe can go up to the DNS root there,\nconnect to DNS Server.\n\n207\n00:09:55.078 --> 00:09:59.558\nAnd we have to specify which server or\nservers we may wanna be able to manage.\n\n208\n00:09:59.558 --> 00:10:04.338\nI may be able to go ahead and\nsay I want to connect out to\n\n209\n00:10:06.350 --> 00:10:07.580\none or more of these machines.\n\n210\n00:10:07.580 --> 00:10:08.485\nThere's plab-dm-01.\n\n211\n00:10:08.485 --> 00:10:12.617\nI just added another machine in that I can\nmanage another DNS server I have running\n\n212\n00:10:12.617 --> 00:10:13.658\nin my environment.\n\n213\n00:10:13.658 --> 00:10:17.220\nAnd so I may wanna be able to bring\nthem all together in one place so I can\n\n214\n00:10:17.220 --> 00:10:21.476\nconfigure security on the servers, plural,\nand get it done inside the console.\n\n215\n00:10:21.476 --> 00:10:23.650\nI could do a lot of this from PowerShell.\n\n216\n00:10:23.650 --> 00:10:27.240\nWe'll take a look at the command line\noptions with DNS command, different tools.\n\n217\n00:10:27.240 --> 00:10:29.270\nThen let's look up\nanother set of commands.\n\n218\n00:10:29.270 --> 00:10:31.160\nBut it's good to have\neverything in one place.\n\n219\n00:10:31.160 --> 00:10:32.795\nSo we'll start at the top and\nthink about that.\n\n220\n00:10:32.795 --> 00:10:35.602\nBut let's focus on an individual\nserver like PLABDC01.\n\n221\n00:10:35.602 --> 00:10:39.721\nIf we right-click on the server\nwe get a wealth of options here,\n\n222\n00:10:39.721 --> 00:10:41.568\na host of things that we can.\n\n223\n00:10:41.568 --> 00:10:42.215\nYou see how I did that there?\n\n224\n00:10:42.215 --> 00:10:43.136\nHost, host.\n\n225\n00:10:43.136 --> 00:10:44.576\n&gt;&gt; I did, yes, I like that.\n\n226\n00:10:44.576 --> 00:10:45.303\nDNS humor.\n\n227\n00:10:45.303 --> 00:10:48.427\n&gt;&gt; [LAUGH]\n&gt;&gt; Deep thinking going on here at ITProTV.\n\n228\n00:10:48.427 --> 00:10:52.987\nIt's what happens at the end of the day\nwhen you see the last episode unfold here.\n\n229\n00:10:52.987 --> 00:10:57.300\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so configuring a DNS server.\n\n230\n00:10:57.300 --> 00:10:58.700\nNow, people often confuse this.\n\n231\n00:10:58.700 --> 00:11:00.654\nThey look at that and they go,\nokay, that's where I'm gonna go.\n\n232\n00:11:00.654 --> 00:11:01.331\nAnd I'm gonna do a lot of the stuff.\n\n233\n00:11:01.331 --> 00:11:03.830\nAnd maybe Adam's talking about it or\nMike's talking about it.\n\n234\n00:11:03.830 --> 00:11:05.508\nThat wizard is gonna do somethings for\nyou.\n\n235\n00:11:05.508 --> 00:11:07.815\nBut it's basically just gonna let\nyou run through as you can see here.\n\n236\n00:11:07.815 --> 00:11:12.292\nAnd set up DNS servers by creating\nforwarding and/or reverse lookup zones.\n\n237\n00:11:12.292 --> 00:11:16.616\nSo it's gonna populate your zones, which\nare the areas of namespace, management and\n\n238\n00:11:16.616 --> 00:11:19.178\nrecord management you\ncreate to actually use DNS.\n\n239\n00:11:19.178 --> 00:11:22.320\nThat's important, we do secure those.\n\n240\n00:11:22.320 --> 00:11:24.220\nWe're gonna secure those with\nsomething called DNSSEC,\n\n241\n00:11:24.220 --> 00:11:26.440\nand we're gonna do that\nin an upcoming episode.\n\n242\n00:11:26.440 --> 00:11:27.890\nBut that's not done with this wizard.\n\n243\n00:11:27.890 --> 00:11:30.652\nAnd also specifying route hints and\nforwarders,\n\n244\n00:11:30.652 --> 00:11:34.398\nthis is also laterally connected\nto use of the DNS infrastructure,\n\n245\n00:11:34.398 --> 00:11:37.431\nmaking sure we use it broadly,\nwidely, and smartly.\n\n246\n00:11:37.431 --> 00:11:39.024\nNot as much security.\n\n247\n00:11:39.024 --> 00:11:42.472\nBut you could make the case that\ncertainly things like root hints and\n\n248\n00:11:42.472 --> 00:11:45.715\nforwarders may be an element of\nan overarching security play.\n\n249\n00:11:45.715 --> 00:11:50.400\nCuz forwarding name resolution requests\nthat cannot be resolved locally\n\n250\n00:11:50.400 --> 00:11:54.490\nout to an authoritative source is a smart\nthing to do, from a security standpoint.\n\n251\n00:11:54.490 --> 00:11:59.080\nBut there's really no security aspects\nassociated with this wizard, per se,\n\n252\n00:11:59.080 --> 00:12:00.420\nat least not formally.\n\n253\n00:12:00.420 --> 00:12:04.460\nSo we don't really think about that first\nitem up there from a security standpoint.\n\n254\n00:12:04.460 --> 00:12:08.370\nInstead we think about coming down\nhere and doing a couple of things.\n\n255\n00:12:08.370 --> 00:12:10.868\nThings like setting Aging and\nScavenging For All Zones.\n\n256\n00:12:10.868 --> 00:12:15.080\nAnd right below it,\nScavenging Stale Resource Records.\n\n257\n00:12:15.080 --> 00:12:19.250\nScavenging is the term we use to\nrefer to the idea of going in,\n\n258\n00:12:19.250 --> 00:12:24.120\nlooking at the values associated with\nthe expiration of these records.\n\n259\n00:12:24.120 --> 00:12:28.430\nThe ttl, time-to-live and\nthe tombstone of value on these records.\n\n260\n00:12:28.430 --> 00:12:33.080\nAnd removing records that are no\nlonger considered valid or\n\n261\n00:12:33.080 --> 00:12:34.620\nvaluable, whatever the reason is,\n\n262\n00:12:34.620 --> 00:12:37.940\nwhatever you would think of, because\nthey've outlived their normal useful life.\n\n263\n00:12:37.940 --> 00:12:40.010\nSo one of the first things I\ntalk about with customers and\n\n264\n00:12:40.010 --> 00:12:43.750\nstudents from a security stand point\nis just good generic housekeeping and\n\n265\n00:12:43.750 --> 00:12:48.610\nhygiene with regards to DNS maintenance,\nin terms of resource record maintenance.\n\n266\n00:12:48.610 --> 00:12:50.810\nGet rid of the old records that\nhave outlived their usefulness.\n\n267\n00:12:50.810 --> 00:12:54.212\nSo people are not accidentally or\npurposely being redirected or\n\n268\n00:12:54.212 --> 00:12:58.309\ndirected to infrastructure and resources\nthat no longer are valid or exist.\n\n269\n00:12:58.309 --> 00:13:00.758\nCuz that can lead to potential compromise.\n\n270\n00:13:00.758 --> 00:13:06.445\nAnd that can lead to misappropriation of\nresources and/or misuse of resources.\n\n271\n00:13:06.445 --> 00:13:08.395\nAnd so that's an issue.\n\n272\n00:13:08.395 --> 00:13:09.995\nSo, although it's not directly related,\n\n273\n00:13:09.995 --> 00:13:13.295\nit is one of those things that's really\njust a good, basic, best practice.\n\n274\n00:13:13.295 --> 00:13:16.885\nUpdate server data files, we can do that\nif we're in flux, if we're adding and\n\n275\n00:13:16.885 --> 00:13:17.825\nremoving things.\n\n276\n00:13:17.825 --> 00:13:19.155\nWe can make sure that it's up to date.\n\n277\n00:13:19.155 --> 00:13:21.040\nYou don't do that very often.\nThe system does a lot of this behind\n\n278\n00:13:21.040 --> 00:13:22.356\nthe scenes for you, by the way.\n\n279\n00:13:22.356 --> 00:13:28.600\nClearing the cache, people often\nconfuse this and misunderstand this.\n\n280\n00:13:28.600 --> 00:13:31.033\nYes, this will clear\nthe cache on the DNS server.\n\n281\n00:13:31.033 --> 00:13:32.764\nBut that may or may not be a good thing.\n\n282\n00:13:32.764 --> 00:13:36.890\nAnd that may not be something that you\nwould like done on a regular basis.\n\n283\n00:13:36.890 --> 00:13:41.338\nFrom a performance standpoint, clearing\nthe cache can resolve issues of misaligned\n\n284\n00:13:41.338 --> 00:13:44.861\nresource requests, meaning resource\nrecords that have been, for\n\n285\n00:13:44.861 --> 00:13:49.110\nwhatever reason, found or are found to\nbe different than what they should be.\n\n286\n00:13:49.110 --> 00:13:51.394\nBecause maybe you've got lookup zones and\ndifferent things like that, and\n\n287\n00:13:51.394 --> 00:13:53.154\nyou're not necessarily getting\nthe right information.\n\n288\n00:13:53.154 --> 00:13:57.050\nSo you might wanna get rid of the garbage\nthere, just to reset the system.\n\n289\n00:13:57.050 --> 00:14:00.413\nBut the reality is caching is often\nused to speed up performance and\n\n290\n00:14:00.413 --> 00:14:01.381\nname resolution.\n\n291\n00:14:01.381 --> 00:14:04.510\nAnd so if we clear the cache,\nwe may take a performance hit.\n\n292\n00:14:04.510 --> 00:14:08.261\nThe likelihood is very high,\nas a matter of fact, we will.\n\n293\n00:14:08.261 --> 00:14:12.823\nBut in the long term we may get rid of\nsomething that is referred to as a DNS\n\n294\n00:14:12.823 --> 00:14:14.519\ncache poisoning attack.\n\n295\n00:14:14.519 --> 00:14:15.110\nAnd this is a big deal.\n\n296\n00:14:15.110 --> 00:14:17.570\nBut the best way to deal with\nthis is not to go in here and\n\n297\n00:14:17.570 --> 00:14:18.847\nmanually clear the cache.\n\n298\n00:14:18.847 --> 00:14:22.710\nI'm gonna show you a setting through\nPowerShell where the DNS command line\n\n299\n00:14:22.710 --> 00:14:26.693\ntool, called DNS Command, that let's\nus specify a percentage value to talk\n\n300\n00:14:26.693 --> 00:14:30.960\nabout cache overwrites and clearing\nthe cache, and things of that nature.\n\n301\n00:14:30.960 --> 00:14:35.130\nCache locking percent is what it's called,\nto prevent cache overrides,\n\n302\n00:14:35.130 --> 00:14:38.180\nto prevent cache poisoning\nattacks in the first place.\n\n303\n00:14:38.180 --> 00:14:43.060\nThe problem we has with DNS servers\nis that we mail out updates.\n\n304\n00:14:43.060 --> 00:14:47.070\nIn fact, we do often allow\nupdates to resource records and\n\n305\n00:14:47.070 --> 00:14:49.770\nto a variety of information in the system,\nright?\n\n306\n00:14:49.770 --> 00:14:52.391\nMike's machine, for instance,\nmay come in and dynamically register.\n\n307\n00:14:52.391 --> 00:14:55.331\nAnd say, hey, I'm online,\nI'm here, here's my new IP address.\n\n308\n00:14:55.331 --> 00:14:57.302\nAnd please create a host record for me.\n\n309\n00:14:57.302 --> 00:15:01.160\nOr update my current host record if\nyou've gotten a new address through DHCP.\n\n310\n00:15:01.160 --> 00:15:05.210\nAnd we may allow those dynamic\nupdates to occur, hopefully securely.\n\n311\n00:15:05.210 --> 00:15:06.930\nBut may allow them to occur.\n\n312\n00:15:06.930 --> 00:15:10.736\nBut if a rogue machine gets into\nthe network and can update records or\n\n313\n00:15:10.736 --> 00:15:14.550\nput records in, that's what we\nrefer to as poisoning the cache.\n\n314\n00:15:14.550 --> 00:15:16.164\nBecause they're putting\nin bad information.\n\n315\n00:15:16.164 --> 00:15:21.650\nOr we can somehow trick the server into\naccepting erroneous or bad information.\n\n316\n00:15:21.650 --> 00:15:24.169\nWhether the server knows it's bad or\nnot is obviously the real trick.\n\n317\n00:15:24.169 --> 00:15:26.380\nBecause if it knows it's bad,\nit hopefully won't take it.\n\n318\n00:15:26.380 --> 00:15:27.742\nBut if it takes it not realizing it?\n\n319\n00:15:27.742 --> 00:15:30.606\nMike is behind the scenes, saying,\nhow am I gonna get Adam and\n\n320\n00:15:30.606 --> 00:15:32.655\ntrick him into putting this in there for\nme?\n\n321\n00:15:32.655 --> 00:15:35.517\nAnd if he finds a way to get\nmy DNS server to trust him and\n\n322\n00:15:35.517 --> 00:15:39.650\ntake that information without looking\nat it and saying this isn't right,\n\n323\n00:15:39.650 --> 00:15:41.700\nthat Mike guy is up to no good, right?\n\n324\n00:15:41.700 --> 00:15:43.645\n&gt;&gt; [LAUGH]\n&gt;&gt; Then I can cache poison, and\n\n325\n00:15:43.645 --> 00:15:46.810\nI can essentially put bad\ninformation into the DNS server.\n\n326\n00:15:46.810 --> 00:15:48.650\nThat's part one.\n\n327\n00:15:48.650 --> 00:15:51.570\nPart two, then, is that information\ngets used and given out\n\n328\n00:15:51.570 --> 00:15:55.408\nto all the people that potentially Mike\nwants to Grab and maybe redirect his fake\n\n329\n00:15:55.408 --> 00:15:59.380\nwebsite where he can fish them, or load\nmalware, or who know what he's gonna do.\n\n330\n00:15:59.380 --> 00:16:01.550\n&gt;&gt; Yeah cuz DNS is doing what\nit's supposed to do right?\n\n331\n00:16:01.550 --> 00:16:03.980\nI mean if it finds an answer in the cache,\n\n332\n00:16:03.980 --> 00:16:08.010\nthe quickest way to respond to a query is\nto grab that answer out of the cache, and\n\n333\n00:16:08.010 --> 00:16:10.820\ngive it to whomever's asking for\nthat information.\n\n334\n00:16:10.820 --> 00:16:14.800\nIt doesn't verify that information, so\nif I can get bad information in that cache\n\n335\n00:16:14.800 --> 00:16:17.600\nit's never gonna go out and check with\nother DNS servers, it's gonna say,\n\n336\n00:16:17.600 --> 00:16:21.410\nI've already go the answer,\nhere you go, and now you're redirected.\n\n337\n00:16:21.410 --> 00:16:21.980\n&gt;&gt; And so\n\n338\n00:16:21.980 --> 00:16:26.540\nthe rule of thumb with DNS is, why go\nglobal when I can resolve local, right?\n\n339\n00:16:26.540 --> 00:16:29.880\nAnd so we always start local, and\nwe have to understand the cycle and\n\n340\n00:16:29.880 --> 00:16:33.940\nthe thought process of name resolution and\nhow it works both on a local client and\n\n341\n00:16:33.940 --> 00:16:34.470\non a server.\n\n342\n00:16:34.470 --> 00:16:38.250\nOn the local client,\nwe check our local DNS resolver cache.\n\n343\n00:16:38.250 --> 00:16:41.821\nYou would see that by doing an IP config\nforward slash display DNS at the run\n\n344\n00:16:41.821 --> 00:16:42.575\nline, right?\n\n345\n00:16:42.575 --> 00:16:45.304\nThat's where your local\nname resolver cache is\n\n346\n00:16:45.304 --> 00:16:48.655\non a client going all the way\nback to Windows 95, right?\n\n347\n00:16:48.655 --> 00:16:50.260\nYou'll find it there.\n\n348\n00:16:51.310 --> 00:16:56.790\nAnd we look there, if we have something\nin that resolver cache which is dynamic,\n\n349\n00:16:56.790 --> 00:17:00.010\nit does update and change over time,\nthere can be static entries there but\n\n350\n00:17:00.010 --> 00:17:02.272\nthere's usually dynamic entries\nthat come and go over time,\n\n351\n00:17:02.272 --> 00:17:06.230\nif TTL's associated with them so they\nwill time out eventually and disappear.\n\n352\n00:17:06.230 --> 00:17:09.490\nBut if we have information\nthere the client,\n\n353\n00:17:09.490 --> 00:17:12.490\nlike Mike was describing,\nmy Windows 10 machine, Mike's laptop,\n\n354\n00:17:12.490 --> 00:17:16.530\nany of your machines, machine we're\nlooking at right now doesn't matter.\n\n355\n00:17:16.530 --> 00:17:20.540\nWe'll always defer to that information\nbecause why go to the administrative\n\n356\n00:17:20.540 --> 00:17:22.613\nwork burden and liability of going out and\n\n357\n00:17:22.613 --> 00:17:26.420\ncommunicating across network when I\nalready, in theory, know the answer.\n\n358\n00:17:26.420 --> 00:17:28.930\nNow, we know of course that making\nassumptions obviously gets us in\n\n359\n00:17:28.930 --> 00:17:30.170\na lot of trouble sometimes.\n\n360\n00:17:30.170 --> 00:17:35.380\nSo, this is a trade-off of performance,\nquick out of the gate name resolution\n\n361\n00:17:35.380 --> 00:17:39.410\nversus hey am I being secure and triple\nchecking to make sure everything's okay.\n\n362\n00:17:39.410 --> 00:17:41.440\nNo you don't have to check that,\nif it's there must be good.\n\n363\n00:17:41.440 --> 00:17:45.210\nThat's what the server or the OS thinks,\nbut that's not always the case and\n\n364\n00:17:45.210 --> 00:17:47.650\npoisoning attacks try to poison the cache.\n\n365\n00:17:47.650 --> 00:17:50.050\nI may slip that entries into that cache.\n\n366\n00:17:50.050 --> 00:17:54.040\nIf you've ever had a system that has been\nable to go out to the internet but doesn't\n\n367\n00:17:54.040 --> 00:17:56.991\nresolve the way everybody around them\ndoes, you see this in businesses a lot.\n\n368\n00:17:56.991 --> 00:18:00.280\nAnd they're for some reason,\nnot able to get to some websites or\n\n369\n00:18:00.280 --> 00:18:03.675\nthings like that, it maybe because the\ncache has been modified on that machine.\n\n370\n00:18:03.675 --> 00:18:06.590\nIt's one of the early warning signs\nof malware being on the system\n\n371\n00:18:06.590 --> 00:18:07.280\na lot of the time.\n\n372\n00:18:07.280 --> 00:18:11.630\nSo we'll redirect things like update\nsites for AV, for antivirus and\n\n373\n00:18:11.630 --> 00:18:12.560\nthings like that.\n\n374\n00:18:12.560 --> 00:18:13.955\nSo that it's not functioning, so\n\n375\n00:18:13.955 --> 00:18:15.838\nthe malware is harder to detect and\nget rid of.\n\n376\n00:18:15.838 --> 00:18:19.680\nOr it's also potentially a warning sign\nof somebody manipulating the host file\n\n377\n00:18:19.680 --> 00:18:22.547\nlocally and maybe hard coding\ncertain entries cuz they do or\n\n378\n00:18:22.547 --> 00:18:25.089\ndon't want certain things to be resolved,\nright?\n\n379\n00:18:25.089 --> 00:18:30.072\nOr pirating software for instance and\nlicensing is often manipulated and\n\n380\n00:18:30.072 --> 00:18:31.045\ngone around.\n\n381\n00:18:31.045 --> 00:18:32.205\nI'm not saying I would do that,\n\n382\n00:18:32.205 --> 00:18:36.085\njust pointing out that I've\nheard that people do that.\n\n383\n00:18:36.085 --> 00:18:38.625\nShameful though that is, and\nbad people that do that, but\n\n384\n00:18:38.625 --> 00:18:43.060\nif you've ever seen evidence of that,\nyou will see that there or one or\n\n385\n00:18:43.060 --> 00:18:46.590\nmore entry in the text file, the host\nfile, on the local machine, right?\n\n386\n00:18:46.590 --> 00:18:51.060\nWindows system 32 driver's ed c right,\nyou'll find the host file there and\n\n387\n00:18:51.060 --> 00:18:55.170\nif you modify that that's next up\nbecause we do the name resolver\n\n388\n00:18:55.170 --> 00:18:58.620\ncache we do the host file we look locally\nbefore we ever ever go to DNS and\n\n389\n00:18:58.620 --> 00:19:00.250\nstart communicating over the network.\n\n390\n00:19:00.250 --> 00:19:01.570\nSo if you monkey around with or\n\n391\n00:19:01.570 --> 00:19:05.660\nmanipulate any of those, you're gonna be\nable to control what happens with that\n\n392\n00:19:05.660 --> 00:19:09.240\nlocal endpoint before it ever goes on and\ngets authoritative resolution.\n\n393\n00:19:09.240 --> 00:19:13.270\nSo this is the danger of attacking DNS\ninfrastructure, if we're not careful,\n\n394\n00:19:13.270 --> 00:19:16.770\nis that somebody could get to that\nsingle endpoint and manipulate it.\n\n395\n00:19:16.770 --> 00:19:20.440\nAnd if it happens to be a DNS server,\nnow all of a sudden,\n\n396\n00:19:20.440 --> 00:19:22.740\nthat information can\npropagate very quickly.\n\n397\n00:19:22.740 --> 00:19:26.050\nSo clearing the cache can be helpful,\nbut we may wanna prevent,\n\n398\n00:19:26.050 --> 00:19:30.670\nright, by cache locking, updates to\nthe cache in the first place, right?\n\n399\n00:19:30.670 --> 00:19:33.510\nWe don't necessarily want anything\nother than the server itself\n\n400\n00:19:33.510 --> 00:19:34.410\nto update the cache.\n\n401\n00:19:34.410 --> 00:19:35.810\nAnd so,\nlet me show you how we can do that,\n\n402\n00:19:35.810 --> 00:19:37.094\nthere's a couple ways we can do this.\n\n403\n00:19:37.094 --> 00:19:41.664\nWe can go in,\nI'm in PowerShell right now, by the way.\n\n404\n00:19:41.664 --> 00:19:46.668\nAnd in PowerShell we configure cache\nlocking as a percentage value, and\n\n405\n00:19:46.668 --> 00:19:51.835\nwe could this either with PowerShell,\nI'm gonna show you the command here\n\n406\n00:19:51.835 --> 00:19:57.165\nwhich is going to be the, let's start\nwith the get DNS server cache command,\n\n407\n00:19:57.165 --> 00:20:00.470\nwe'll use set DNS server\ncache in a minute.\n\n408\n00:20:00.470 --> 00:20:02.843\nBut get DNS server cache,\nI'm smart I pretyped this one so\n\n409\n00:20:02.843 --> 00:20:04.162\nI don't have to worry about it.\n\n410\n00:20:04.162 --> 00:20:08.998\nSo get DNS sever cache is in PowerShell\ngonna show me the current values for\n\n411\n00:20:08.998 --> 00:20:11.032\nthe DNS server cache, right?\n\n412\n00:20:11.032 --> 00:20:14.680\nThat makes sense MaxTTL,\nyou could see set there.\n\n413\n00:20:14.680 --> 00:20:18.890\nMaxNegativeTTL, MaxKBSize,\nsize of the cache.\n\n414\n00:20:18.890 --> 00:20:20.840\nEnablePollutionProtection, true.\n\n415\n00:20:20.840 --> 00:20:24.470\nLockingPercent, which is the setting\nwe're gonna focus on set to 0.\n\n416\n00:20:24.470 --> 00:20:26.490\nNow it's normally not set to 0.\n\n417\n00:20:26.490 --> 00:20:30.280\nI reset this before I showed\nthis to you so it's now at 0 so\n\n418\n00:20:30.280 --> 00:20:31.400\nI could show you how to set it.\n\n419\n00:20:32.430 --> 00:20:36.090\nBut the higher the percentage and\nthat number 0 is a percent.\n\n420\n00:20:36.090 --> 00:20:40.400\nSo now right now it's at 0%, up to 100,\nwhich is the range, 0 to 100.\n\n421\n00:20:40.400 --> 00:20:44.890\nThe higher the number, right,\nthe higher the number up towards\n\n422\n00:20:44.890 --> 00:20:49.550\n100 then the closer we\nget to the maximum TTL\n\n423\n00:20:49.550 --> 00:20:54.000\nvalue on the entry being observed\nbefore we allow overriding the cache.\n\n424\n00:20:54.000 --> 00:20:58.745\nAnd so as a result, once an entry is there\nit stays there and can't be manipulated\n\n425\n00:20:58.745 --> 00:21:02.685\nbecause we're locking it and essentially\nsaying do not overwrite, right?\n\n426\n00:21:02.685 --> 00:21:04.055\nSo this is an important setting.\n\n427\n00:21:04.055 --> 00:21:06.185\nNow we could set this one of two ways.\n\n428\n00:21:06.185 --> 00:21:09.925\nWe can in PowerShell,\nwe can either go in and\n\n429\n00:21:09.925 --> 00:21:14.822\nwe can use the set DNS server\ncache command, I'll show you this.\n\n430\n00:21:14.822 --> 00:21:17.652\nBut we can also go in and\nwe can use DNS command,\n\n431\n00:21:17.652 --> 00:21:21.612\nwhich is a command line tool that's\nbeen around longer than PowerShell.\n\n432\n00:21:21.612 --> 00:21:23.482\nPeople often say, you mean nslookup?\n\n433\n00:21:23.482 --> 00:21:24.842\nNo, I mean DNS command.\n\n434\n00:21:24.842 --> 00:21:27.372\nNslookup and\nDNS command are two separate tools.\n\n435\n00:21:27.372 --> 00:21:28.852\nSo we can use DNS command.\n\n436\n00:21:28.852 --> 00:21:33.360\nNow the cool thing about PowerShell,\nis PowerShell is not just PowerShell.\n\n437\n00:21:33.360 --> 00:21:37.410\nPowerShell can run any executable\nas a program that you want to run,\n\n438\n00:21:37.410 --> 00:21:38.690\nyou just have to put it in.\n\n439\n00:21:38.690 --> 00:21:41.210\nSo I can ping from PowerShell for\ninstance, right?\n\n440\n00:21:41.210 --> 00:21:44.420\nI can use DNS command as you\nsee there from PowerShell.\n\n441\n00:21:44.420 --> 00:21:48.160\nSo I can look at the help file for\nDNS commands as I'm doing right now and\n\n442\n00:21:48.160 --> 00:21:52.100\nactually run DNS command from\ninside PowerShell if I choose to.\n\n443\n00:21:52.100 --> 00:21:55.930\nBecause PowerShell is just gonna\nessentially be the command line\n\n444\n00:21:55.930 --> 00:21:59.380\nfunctionality wrapped inside a script\neditor, I essentially get both.\n\n445\n00:21:59.380 --> 00:22:02.130\nPeople often overlook that and\ndon't always realize that.\n\n446\n00:22:02.130 --> 00:22:05.470\nBut we can call programs and run them in\nPowerShell the way we would anywhere else.\n\n447\n00:22:05.470 --> 00:22:09.050\nYou just have to have administrative\nrights, and you'll notice my console for\n\n448\n00:22:09.050 --> 00:22:10.720\nPowerShell is running\nas the administrator.\n\n449\n00:22:10.720 --> 00:22:13.170\nSo I have rights to do all this stuff,\nright?\n\n450\n00:22:13.170 --> 00:22:15.408\nSo I can go in and use DNS command.\n\n451\n00:22:15.408 --> 00:22:19.830\nNow DNS command, command line tool that\nlets me, as you can see many switches,\n\n452\n00:22:19.830 --> 00:22:21.030\nmany options there.\n\n453\n00:22:21.030 --> 00:22:24.500\nAnything I can do in the GUI\nenvironment for the DNS MMC for\n\n454\n00:22:24.500 --> 00:22:27.190\nthe DNS management console\nI can do from DNS command.\n\n455\n00:22:27.190 --> 00:22:32.030\nSo I can set this cache locking\npercentage value right here.\n\n456\n00:22:32.030 --> 00:22:33.500\nLet me show you how to do this.\n\n457\n00:22:33.500 --> 00:22:36.040\nI can do dnscmd, DNS command.\n\n458\n00:22:36.040 --> 00:22:40.890\nI can do space forward slash config\nif I'm gonna do it in DNS command.\n\n459\n00:22:40.890 --> 00:22:46.718\nAnd then, I can cache lock percent,\nlet me just spell this correctly.\n\n460\n00:22:46.718 --> 00:22:52.540\nCache, C-A-C-H-E, orcache as some people\nprefer to call it, a cachelockingpercent,\n\n461\n00:22:53.820 --> 00:22:58.654\nall one word, and then percent value and\nthe number that I specify here.\n\n462\n00:23:00.355 --> 00:23:02.475\nIs going to be the percentage value.\n\n463\n00:23:02.475 --> 00:23:04.171\nSo you see it says successful or\n\n464\n00:23:04.171 --> 00:23:08.295\nit says the registry property\ncachelockingpercent successfully reset.\n\n465\n00:23:08.295 --> 00:23:11.697\nBecause remember, it was at 0, and\nit says Command completed successfully.\n\n466\n00:23:11.697 --> 00:23:15.307\nSo now if I want to see that I\ncan do the get DNS server cache,\n\n467\n00:23:15.307 --> 00:23:17.767\nand you'll see now that\nnumber went from 0 to 50.\n\n468\n00:23:17.767 --> 00:23:21.877\nNow the recommendation,\nbest practices form a security standpoint,\n\n469\n00:23:21.877 --> 00:23:23.257\nset that number to at least 90.\n\n470\n00:23:23.257 --> 00:23:27.984\nCuz you wanna have nine-tenths or\n90% of the TTL value left before you would\n\n471\n00:23:27.984 --> 00:23:30.920\nin theory allow overwrite\nof items in the cache,\n\n472\n00:23:30.920 --> 00:23:34.540\nto prevent, or\nvery likely reduced to almost nothing.\n\n473\n00:23:34.540 --> 00:23:37.280\nThe available window for\na bad actor to exploit and\n\n474\n00:23:37.280 --> 00:23:39.460\ntry to do a cache poisoning attack, right?\n\n475\n00:23:39.460 --> 00:23:41.954\nSo if you wanna modify that and\nget back to a good value,\n\n476\n00:23:41.954 --> 00:23:44.192\nlet's look at another way\nto set the same thing.\n\n477\n00:23:44.192 --> 00:23:46.858\nI just did it with dnscmd,\nwe could do it with PowerShell as well,\n\n478\n00:23:46.858 --> 00:23:47.979\nas I was suggesting to you.\n\n479\n00:23:47.979 --> 00:23:52.172\nSo instead of Get-DnsServerCache,\nWhat do we often do in PowerShell,\n\n480\n00:23:52.172 --> 00:23:56.383\nget shows of something set traditionally,\nactually does the setting.\n\n481\n00:23:56.383 --> 00:23:58.260\nSo let's set instead of get.\n\n482\n00:23:58.260 --> 00:24:03.530\nSo set dnsserver, cache,\nseerver as opposed to server.\n\n483\n00:24:07.047 --> 00:24:10.360\nSee, of course,\nit would help if I spelled.\n\n484\n00:24:10.360 --> 00:24:13.519\nThere we go, all right.\nSo serve, come on.\n\n485\n00:24:16.409 --> 00:24:19.090\nExcept that I left the other S off,\nthat's why.\n\n486\n00:24:19.090 --> 00:24:20.510\nI just cannot be trusted to spell.\n\n487\n00:24:20.510 --> 00:24:23.663\n&gt;&gt; Like I have said before,\nthat's half auto-fill.\n\n488\n00:24:23.663 --> 00:24:25.942\n&gt;&gt; Exactly, that I cannot be\ntrusted to be on my own and\n\n489\n00:24:25.942 --> 00:24:28.750\nnot be able to get to the point\nwhere I can spell correctly.\n\n490\n00:24:28.750 --> 00:24:31.820\nAll right, so that is why I pre-typed\nthese commands guys because I know I\n\n491\n00:24:31.820 --> 00:24:32.920\ncannot type in real time.\n\n492\n00:24:32.920 --> 00:24:35.271\nAll right, my fingers get stage fright,\nthey're all nervous,\n\n493\n00:24:35.271 --> 00:24:36.564\nthey're just gangly everywhere.\n\n494\n00:24:36.564 --> 00:24:40.360\nI just Set-DnsServerCache, you can see\nthe command there, same parameter.\n\n495\n00:24:40.360 --> 00:24:46.450\nWe're gonna do lockingpercent here\ninstead of cachelockingpercent up above.\n\n496\n00:24:46.450 --> 00:24:49.450\nIt's gonna be just lockingpercent\nhere as a parameter.\n\n497\n00:24:49.450 --> 00:24:56.118\nSo we'll do lockingpercent, nice thing is\nwe're also autocomplete the parameters.\n\n498\n00:24:56.118 --> 00:24:59.870\nLet's say we want to go to 90,\nhit Enter, boom.\n\n499\n00:24:59.870 --> 00:25:02.740\nNow with PowerShell, we don't echo\nback a hey, you did this right,\n\n500\n00:25:02.740 --> 00:25:03.890\nthe way we do a DNS command.\n\n501\n00:25:03.890 --> 00:25:07.022\nSo you don't know but\nnothing is good news in PowerShell.\n\n502\n00:25:07.022 --> 00:25:08.514\n&gt;&gt; Rright.\n&gt;&gt; When PowerShell is angry and\n\n503\n00:25:08.514 --> 00:25:11.649\nupset with you, it yells at you in\nred script, so when you see nothing,\n\n504\n00:25:11.649 --> 00:25:12.970\nthat means you did a good job.\n\n505\n00:25:12.970 --> 00:25:15.330\nAll right, so\nwe're gonna check real quick and\n\n506\n00:25:15.330 --> 00:25:18.410\nyou'll see that now this is now\nmodified and changed to 90.\n\n507\n00:25:18.410 --> 00:25:22.530\nSo we can incrementally step through\nthere but using the DNS command and or\n\n508\n00:25:22.530 --> 00:25:27.070\nPowerShell, I can turn on or modify, not\nturn on because it is on by default, but\n\n509\n00:25:27.070 --> 00:25:33.360\nmodify and configure the cache locking\npercent protections for the DNS server.\n\n510\n00:25:33.360 --> 00:25:35.730\nNow, there's now way to do\nthis from within the GUI.\n\n511\n00:25:35.730 --> 00:25:39.390\nThis is one of those command line options\nthat you have to execute from inside of\n\n512\n00:25:39.390 --> 00:25:40.960\nPowerShell or DNS command, so\n\n513\n00:25:40.960 --> 00:25:43.590\njust be aware of that as\nwe're talking through this.\n\n514\n00:25:43.590 --> 00:25:49.770\nNow another tool that people often\nconfuse, as I was saying with DNS command,\n\n515\n00:25:49.770 --> 00:25:52.120\nnot so much with PowerShell but\nwith DNS command or\n\n516\n00:25:52.120 --> 00:25:54.980\nthey just overlook DNS command altogether\nbecause they haven't heard of it.\n\n517\n00:25:54.980 --> 00:25:59.113\nAnd instead, they say, NSlookup, right,\nand that's what we're talking about.\n\n518\n00:25:59.113 --> 00:26:02.377\nYeah, well let's talk about NSlookup\nbecause NSlookup is another oldie,\n\n519\n00:26:02.377 --> 00:26:04.150\nit's been around for a long time.\n\n520\n00:26:04.150 --> 00:26:07.950\nIt is a command line version of a tool\nthat does allow us to manipulate and\n\n521\n00:26:07.950 --> 00:26:11.750\nmanage many aspects of the DNS\nserver configuration as well.\n\n522\n00:26:11.750 --> 00:26:16.360\nAn old hacker trick would be to use\nns-lookup to be able to trick servers\n\n523\n00:26:16.360 --> 00:26:21.050\nthat have not been configured to not talk\nto strangers, to not allow zone transfers.\n\n524\n00:26:21.050 --> 00:26:24.383\nTo be able to trick those servers into\ngiving up the zone file and exposing it to\n\n525\n00:26:24.383 --> 00:26:27.563\nus so that we could then essentially\nmap out a walkthrough of the network,\n\n526\n00:26:27.563 --> 00:26:30.644\nunderstanding all the entries, and\nbegin to do our reconnaissance and\n\n527\n00:26:30.644 --> 00:26:32.421\nfootprinting by seeing what those are.\n\n528\n00:26:32.421 --> 00:26:36.546\nSo NS lookup is still one of the tools\nthat can be very destructive in the right\n\n529\n00:26:36.546 --> 00:26:40.170\nhands, if an administrator has\nnot locked down their DNS server.\n\n530\n00:26:40.170 --> 00:26:43.680\nNow, thankfully,\nrecent iterations of the OS,\n\n531\n00:26:43.680 --> 00:26:46.245\nwe've decided to take that\nout of your hands, right?\n\n532\n00:26:46.245 --> 00:26:47.400\n&gt;&gt; [LAUGH]\n&gt;&gt; And we decided to say, hey,\n\n533\n00:26:47.400 --> 00:26:49.150\nyou know what,\nwe're not gonna rely on you,\n\n534\n00:26:49.150 --> 00:26:52.007\nbecause you have the best of intentions\nbut let's be honest, your busy,\n\n535\n00:26:52.007 --> 00:26:55.580\nyou just don't pay attention to things and\nif we don't tell you, you don't do it.\n\n536\n00:26:55.580 --> 00:27:00.190\nAnd so early on, serv 2,000 was\na good example of this, we used\n\n537\n00:27:00.190 --> 00:27:03.970\nto have the default setting for DNS\nservers allow zone transfers to anybody.\n\n538\n00:27:03.970 --> 00:27:07.900\nWhich NT4 did the same thing, which of\ncourse was a field day for the hackers,\n\n539\n00:27:07.900 --> 00:27:09.350\nnot such a good day for us.\n\n540\n00:27:09.350 --> 00:27:11.330\nSo you had to go in and\nchange that default behavior.\n\n541\n00:27:11.330 --> 00:27:15.340\nAs of the last several generations of the\nOS, Microsoft's gotten smart about this.\n\n542\n00:27:15.340 --> 00:27:19.280\nMade the default behavior, don't talk to\nstrangers, do not allow zone transfers to\n\n543\n00:27:19.280 --> 00:27:24.140\nany servers that are not preauthorized as\neither replication partners in DNS for\n\n544\n00:27:24.140 --> 00:27:26.620\ndomain controllers and things like that,\nright, whatever it may be.\n\n545\n00:27:26.620 --> 00:27:31.090\nSo as a result, right, we are now\nnot as concerned about this, but\n\n546\n00:27:31.090 --> 00:27:35.960\nthere's enough old DNS infrastructure out\nthere that this still occasionally works.\n\n547\n00:27:35.960 --> 00:27:38.350\nSo, don't underestimate\nthe power of NS Lookup,\n\n548\n00:27:38.350 --> 00:27:39.878\nI guess is what I'm suggesting to you.\n\n549\n00:27:39.878 --> 00:27:42.995\nAnd you could see here that we do\nhave the ability with NS lookup\n\n550\n00:27:42.995 --> 00:27:45.005\nto set a bunch of options, right?\n\n551\n00:27:45.005 --> 00:27:49.791\nWe can go in, as you could see, and we can\nspecify that we want to be able to set our\n\n552\n00:27:49.791 --> 00:27:53.792\ndefault server and impersonate\na server by using the server name,\n\n553\n00:27:53.792 --> 00:27:56.722\nLS server name, or\nthe initial server look at and\n\n554\n00:27:56.722 --> 00:28:00.385\nlist options there LS which is\nthe commands we use for lists.\n\n555\n00:28:00.385 --> 00:28:04.436\nThings like the canonical names and\naddresses, the -a option,\n\n556\n00:28:04.436 --> 00:28:07.320\nthe d option for all records,\nthe t for a type.\n\n557\n00:28:07.320 --> 00:28:09.860\nSo if I just wanted mx records, -t mx, and\n\n558\n00:28:09.860 --> 00:28:14.890\nthen I would then see all mx records or\nall records of type mx.\n\n559\n00:28:14.890 --> 00:28:17.100\nAnd I'll be able to start\nselectively gathering.\n\n560\n00:28:17.100 --> 00:28:21.020\nSo nslookup is one of those tools that\ncan get you in trouble if you allow zone\n\n561\n00:28:21.020 --> 00:28:24.090\ntransfers to unrestricted hosts,\nthat can be a problem.\n\n562\n00:28:24.090 --> 00:28:27.035\nBut if not, it's a tool that's kind\nof good just for administration,\n\n563\n00:28:27.035 --> 00:28:30.490\nprobably not gonna be real valuable to you\nfrom a security perspective otherwise.\n\n564\n00:28:30.490 --> 00:28:34.610\nBut it's good just to be aware of\nthe fact that the tool is out there.\n\n565\n00:28:34.610 --> 00:28:37.796\nThe way that I launch nslookup,\nby the way, you can do it lots of ways,\n\n566\n00:28:37.796 --> 00:28:39.690\njust go to the command line and\ntype it in.\n\n567\n00:28:39.690 --> 00:28:42.462\nBut right from within here,\nyou could just come right here and\n\n568\n00:28:42.462 --> 00:28:46.210\nlaunch Nslookup right from the root of\nthe server, by right-clicking in the GUI.\n\n569\n00:28:46.210 --> 00:28:49.533\nSo we can get to the tool right from\nthere, that's why we had that shortcut for\n\n570\n00:28:49.533 --> 00:28:51.490\nseveral generations now, we could do that.\n\n571\n00:28:51.490 --> 00:28:55.194\nAnd by the way, when you set cache\nlocking, you actually have to stop and\n\n572\n00:28:55.194 --> 00:28:58.190\nrestart the DNS server service for\nit to take effect.\n\n573\n00:28:58.190 --> 00:29:03.318\nIt shows that is taking effect when you\npull it up and do get dnsserver cache from\n\n574\n00:29:03.318 --> 00:29:08.304\nthe PowerShell, because it shows you\nthe current setting in the registry.\n\n575\n00:29:08.304 --> 00:29:11.880\nBut it's not actually effective until\nyou stop and start the DNS server.\n\n576\n00:29:11.880 --> 00:29:14.034\nSo let's just talk about\nhow to do that real quick.\n\n577\n00:29:14.034 --> 00:29:17.250\nWe're in here under All Tasks,\nso we come down here,\n\n578\n00:29:17.250 --> 00:29:20.040\nyou can see we can\nrestart the DNS service.\n\n579\n00:29:20.040 --> 00:29:23.368\nThis does not require taking down the\nserver and restarting it causing a huge\n\n580\n00:29:23.368 --> 00:29:26.603\noutage, just cycles the services,\nand as a result is very, very quick.\n\n581\n00:29:26.603 --> 00:29:30.176\nSo we can do that as well just by going\nin here, and taking care of that.\n\n582\n00:29:30.176 --> 00:29:33.896\nSo that's kind of the first\nlevel of DNS sever security.\n\n583\n00:29:33.896 --> 00:29:36.209\nShowed you a couple\nlittle old school tricks,\n\n584\n00:29:36.209 --> 00:29:39.706\ntalked about a couple ways we could\nmodify a very important setting for\n\n585\n00:29:39.706 --> 00:29:43.820\nthe cache percentage, cache locking\npercentage around cache overwrites.\n\n586\n00:29:43.820 --> 00:29:46.980\nTalk about the methodology and\nthe reasoning behind how to secure DNS\n\n587\n00:29:46.980 --> 00:29:51.180\nmore broadly in the environment as\none network service among many,\n\n588\n00:29:51.180 --> 00:29:55.710\nincluding ultimately those\nlayers of defense around it.\n\n589\n00:29:55.710 --> 00:30:00.330\nWe're gonna wrap our DNS server up in a\nlot of other protections, things like DNS\n\n590\n00:30:00.330 --> 00:30:05.080\nsocket pool settings, we're gonna talk\nabout DNS sec, short for DNS security.\n\n591\n00:30:05.080 --> 00:30:07.108\nIt's actually digitally\nsigning our zones and\n\n592\n00:30:07.108 --> 00:30:10.302\nadding some additional records there\nto authorize and validate updates so\n\n593\n00:30:10.302 --> 00:30:12.850\nwe know where they're coming from and\nprove our identity.\n\n594\n00:30:12.850 --> 00:30:17.900\nSo people trust us and only accept updates\nand information from trusted sources.\n\n595\n00:30:17.900 --> 00:30:20.673\nVery valuable resource in\nterms of DNS security.\n\n596\n00:30:20.673 --> 00:30:23.281\nWe'll take a look at that\nin upcoming episodes, but\n\n597\n00:30:23.281 --> 00:30:25.059\nwe're going to have to come back and\n\n598\n00:30:25.059 --> 00:30:29.350\ndo all of that because we are, as they say\nhere, well, just plum out of time, right?\n\n599\n00:30:29.350 --> 00:30:31.176\n&gt;&gt; Plum out of time.\n&gt;&gt; Plum out of time.\n\n600\n00:30:31.176 --> 00:30:31.728\n&gt;&gt; I like it, it's a Southern saying.\n\n601\n00:30:31.728 --> 00:30:32.456\n&gt;&gt; It is.\n\n602\n00:30:32.456 --> 00:30:34.379\n&gt;&gt; All right, well,\nyou heard it from Adam ladies and\n\n603\n00:30:34.379 --> 00:30:36.950\ngentlemen, we are out of time but\na great first look at DNS.\n\n604\n00:30:36.950 --> 00:30:41.118\nLike I said, as we get that foundation or\nknowledge laid, and sort of learning about\n\n605\n00:30:41.118 --> 00:30:44.949\nsome of the security techniques we can\napply to help secure that DNS traffic.\n\n606\n00:30:44.949 --> 00:30:49.463\nSo we thank you for that, looking forward\nto more episodes dealing with DNS, but for\n\n607\n00:30:49.463 --> 00:30:53.390\nnow, signing off for IT PRO.TV,\nI've been your host Mike Rodrick.\n\n608\n00:30:53.390 --> 00:30:53.895\n&gt;&gt; I'm Adam Gordon.\n\n609\n00:30:53.895 --> 00:30:57.390\n&gt;&gt; And we will see you next time.\n\n610\n00:31:00.780 --> 00:31:03.445\n[MUSIC]\n\n611\n00:31:03.445 --> 00:31:09.789\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "236803943"
        },
        {
          "description": "",
          "length": "1594",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-5-secure_network_traffic_pt5-100317-PGM.00_30_37_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-5-secure_network_traffic_pt5-100317-PGM.00_30_37_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-5-secure_network_traffic_pt5-100317-PGM.00_30_37_04.Still001-sm.jpg",
          "title": "Secure Network Traffic Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:01.180\nWelcome to ITProTV.\n\n2\n00:00:01.180 --> 00:00:04.955\nI am your host, Don Pezet.\n\n3\n00:00:04.955 --> 00:00:06.653\n[CROSSTALK]\n\n4\n00:00:06.653 --> 00:00:07.636\n[MUSIC]\n\n5\n00:00:07.636 --> 00:00:11.949\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.949 --> 00:00:15.350\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n7\n00:00:15.350 --> 00:00:17.040\nI'm your host, Mike Rodrick.\n\n8\n00:00:17.040 --> 00:00:20.730\nAnd today we are doing our\nsecuring Windows Server 2016.\n\n9\n00:00:20.730 --> 00:00:23.670\nThis episode we're actually\ncontinuing our conversation,\n\n10\n00:00:23.670 --> 00:00:26.800\ntalking about how we can\nsecure network traffic.\n\n11\n00:00:26.800 --> 00:00:28.780\nHere to help us with that is Mr.\nAdam Gordon.\n\n12\n00:00:28.780 --> 00:00:30.333\nWelcome back, Adam.\n\n13\n00:00:30.333 --> 00:00:31.490\n&gt;&gt; Thank you.\n\n14\n00:00:31.490 --> 00:00:36.300\nI'm just trying to get over that bright\nred color you're sporting there.\n\n15\n00:00:36.300 --> 00:00:37.555\n&gt;&gt; Red is a power color, right,\nI'm feeling very powerful.\n\n16\n00:00:37.555 --> 00:00:39.849\n&gt;&gt; I don't know if I\nwould've chosen power for\n\n17\n00:00:39.849 --> 00:00:42.208\nthe description of how\nbright that color is.\n\n18\n00:00:42.208 --> 00:00:46.290\nBut it is powerfully arresting on my eyes,\nlet's put it that way.\n\n19\n00:00:46.290 --> 00:00:47.500\nAll right, so\n\n20\n00:00:47.500 --> 00:00:52.600\nI will be the dark to Mike's incredibly\nbright portion of our program here.\n\n21\n00:00:52.600 --> 00:00:53.900\nIt's almost like the sun and the moon.\n\n22\n00:00:53.900 --> 00:00:56.383\n&gt;&gt; We've got the yin and yang going here.\n\n23\n00:00:56.383 --> 00:00:56.900\n&gt;&gt; We do, we do.\n\n24\n00:00:56.900 --> 00:00:57.850\nIt's kind of, yeah, it's-\n&gt;&gt; Kinda cool.\n\n25\n00:00:57.850 --> 00:01:01.140\n&gt;&gt; All right so,\nanyway we're here to talk about,\n\n26\n00:01:01.140 --> 00:01:04.630\ncontinue talking about DNS security.\n\n27\n00:01:04.630 --> 00:01:07.590\nWe've been talking about in the last\nepisode, or we started to talk about in\n\n28\n00:01:07.590 --> 00:01:12.130\nthe last episode, how we can focus\nin on securing the DNS server.\n\n29\n00:01:12.130 --> 00:01:16.480\nWe're going to take a look at DNSSEC,\ntake a look at DNS socket pool selection.\n\n30\n00:01:16.480 --> 00:01:22.540\nWe talked about how to go in and do some\nbasic security around the DNS server.\n\n31\n00:01:22.540 --> 00:01:26.844\nTalked about the logic of tools\nlike NSLookup, DNS command.\n\n32\n00:01:26.844 --> 00:01:28.798\nHow to prevent or at least slow down and\n\n33\n00:01:28.798 --> 00:01:32.343\npotentially arrest the idea of cache\npoisoning attacks by looking at\n\n34\n00:01:32.343 --> 00:01:35.540\nmanipulation of some of\nthe variables around the DNS server.\n\n35\n00:01:35.540 --> 00:01:39.120\nSo if you haven't seen that last episode,\ngood to go back and get a base line for\n\n36\n00:01:39.120 --> 00:01:39.730\nwhat we're doing.\n\n37\n00:01:39.730 --> 00:01:42.280\nBut we're gonna start by\ntalking about DNS socket pools,\n\n38\n00:01:42.280 --> 00:01:47.180\nthis is another setting that we can go\nin and we can potentially manipulate.\n\n39\n00:01:47.180 --> 00:01:50.450\nIt is gonna be manipulated through\nthe command line, so either PowerShell or\n\n40\n00:01:50.450 --> 00:01:53.890\nDNS command, again,\nwe'll take a quick look at how to do that.\n\n41\n00:01:53.890 --> 00:01:56.898\nShow you how to at least, or\nin theory, walk through the logic of\n\n42\n00:01:56.898 --> 00:02:00.130\nhow to do this in both tools so\nyou have a sense of how to get this done.\n\n43\n00:02:00.130 --> 00:02:02.045\nBut let's talk about socket pools for\na minute.\n\n44\n00:02:02.045 --> 00:02:04.545\nSo this is a setting that\nsometimes people, number one,\n\n45\n00:02:04.545 --> 00:02:05.515\nare not aware of, right.\n\n46\n00:02:05.515 --> 00:02:07.995\nSo not everybody knows\nthat we can do this and\n\n47\n00:02:07.995 --> 00:02:11.100\nknows what the concept\nof the socket pool is.\n\n48\n00:02:11.100 --> 00:02:12.450\nSo let's play a game.\n\n49\n00:02:12.450 --> 00:02:14.130\n&gt;&gt; Okay.\n&gt;&gt; I'm sure that if you don't know,\n\n50\n00:02:14.130 --> 00:02:15.091\nyou'll be honest and tell me.\n\n51\n00:02:15.091 --> 00:02:15.830\n&gt;&gt; [LAUGH]\n&gt;&gt; And if you do,\n\n52\n00:02:15.830 --> 00:02:17.577\nyou're gonna help me figure\nout what socket pools are.\n\n53\n00:02:17.577 --> 00:02:18.510\n&gt;&gt; I will try.\n\n54\n00:02:18.510 --> 00:02:21.571\n&gt;&gt; If you had to, or\nif we have to describe or\n\n55\n00:02:21.571 --> 00:02:25.600\ndefine the concept of a socket pool for\nDNS.\n\n56\n00:02:25.600 --> 00:02:29.476\nLike one or two sentences,\nwhat will we say or\n\n57\n00:02:29.476 --> 00:02:33.048\nwhat do we think DNS socket pools are for?\n\n58\n00:02:33.048 --> 00:02:35.599\n&gt;&gt; It allows me to randomize, in my\nopinion what I think it does, is it allows\n\n59\n00:02:35.599 --> 00:02:38.545\nme to randomize the response port that the\nDNS server is using to respond to queries.\n\n60\n00:02:38.545 --> 00:02:42.858\nTherefore or thereby making it harder for\nthe bad guys, or\n\n61\n00:02:42.858 --> 00:02:47.380\nthe bad actors, to try to predict or\nspoof DNS responses.\n\n62\n00:02:47.380 --> 00:02:50.797\n&gt;&gt; Absolutely correct,\ncould not have done that better if I had\n\n63\n00:02:50.797 --> 00:02:51.622\ntried to do it\n&gt;&gt; [LAUGH]\n\n64\n00:02:51.622 --> 00:02:52.366\n&gt;&gt; 100%,\n\n65\n00:02:52.366 --> 00:02:55.680\n100% spot on with regards\nto the definition.\n\n66\n00:02:55.680 --> 00:02:59.697\nThe idea that a DNS server by design,\nby default,\n\n67\n00:02:59.697 --> 00:03:04.878\nthis is how it works,\nwill reach into a pool of potential ports.\n\n68\n00:03:04.878 --> 00:03:08.444\nWe talked about port numbers in\na couple of our last episodes,\n\n69\n00:03:08.444 --> 00:03:12.740\nthis idea of 65,535 potential\nports being available, right.\n\n70\n00:03:12.740 --> 00:03:14.003\nI'm not gonna stress you out\n\n71\n00:03:14.003 --> 00:03:15.020\nby asking you how to-\n&gt;&gt; [LAUGH]\n\n72\n00:03:15.020 --> 00:03:16.380\n&gt;&gt; Break those ports down into three\n\n73\n00:03:16.380 --> 00:03:17.182\ncategories again.\n\n74\n00:03:17.182 --> 00:03:18.472\n&gt;&gt; Thank you.\n&gt;&gt; Mike hates it when I do this.\n\n75\n00:03:18.472 --> 00:03:21.110\nI can never remember what those\nbreak numbers are, right.\n\n76\n00:03:21.110 --> 00:03:22.062\n&gt;&gt; 49, something, something.\n\n77\n00:03:22.062 --> 00:03:25.617\n&gt;&gt; 49,151 [CROSSTALK] is this\nthe break point for the middle one and\n\n78\n00:03:25.617 --> 00:03:27.338\nthe 49,152 up from there.\n\n79\n00:03:27.338 --> 00:03:31.980\nBut we know, hopefully you know, and\nif don't you go back, you can look it up.\n\n80\n00:03:31.980 --> 00:03:36.060\nBut we have a total\n65,535 ports available.\n\n81\n00:03:36.060 --> 00:03:41.051\nAnd we know that the first 1,023 are what\nwe call the well known ports and then,\n\n82\n00:03:41.051 --> 00:03:46.520\n1,024 to 49,151 gives us the dynamic\nrange, or the private range rather.\n\n83\n00:03:46.520 --> 00:03:49.284\nAnd then dynamic range is\n49,152 up through 65,535.\n\n84\n00:03:49.284 --> 00:03:55.263\nBut the DNS server reaches in and grabs a\nport number from a pool to be able to say,\n\n85\n00:03:55.263 --> 00:04:00.635\nwhen I am responding I'm gonna respond,\nlet's say, on this number.\n\n86\n00:04:00.635 --> 00:04:05.065\nIf we use socket pools we can decide\nwhat that pool size looks like,\n\n87\n00:04:05.065 --> 00:04:10.465\nhow many ports potentially could be made\navailable as a setting in a config file.\n\n88\n00:04:10.465 --> 00:04:14.690\nAnd we could then, the larger the size\nthe greater the chance that we will\n\n89\n00:04:14.690 --> 00:04:18.870\nrandomize on a port that would be\nunlikely for, as Mike suggested,\n\n90\n00:04:18.870 --> 00:04:21.690\nan attacker to do what's called\na sequence predict, right.\n\n91\n00:04:21.690 --> 00:04:23.330\nWhich is essentially\nwhat we're looking at,\n\n92\n00:04:23.330 --> 00:04:25.690\nthis will be a prediction\nkind of an attack.\n\n93\n00:04:25.690 --> 00:04:30.297\nIf an attacker can guess a port that is\nbeing used or theoretically sequentially\n\n94\n00:04:30.297 --> 00:04:34.491\nlook at responses by probing the server,\nsending it a bunch of traffic,\n\n95\n00:04:34.491 --> 00:04:39.266\ntrying to generate a bunch of responses\nsaying look it goes port one, port two.\n\n96\n00:04:39.266 --> 00:04:42.263\nNot that it would do this, right,\njust logically as the thought process,\n\n97\n00:04:42.263 --> 00:04:43.895\ndoesn't do this in the real world.\n\n98\n00:04:43.895 --> 00:04:48.280\nBut port one, port two, port three,\nI get it, right, there's a sequence there.\n\n99\n00:04:48.280 --> 00:04:51.600\nThe next port response that will\ncome out should be port four.\n\n100\n00:04:51.600 --> 00:04:55.200\nIf I take the server offline,\nmasquerade or spoof\n\n101\n00:04:55.200 --> 00:04:59.090\nthrough some sort of man in the middle or\nsome sort of other kind of an attack.\n\n102\n00:04:59.090 --> 00:05:02.790\nAnd start sequencing my responses,\npretending to be or\n\n103\n00:05:02.790 --> 00:05:06.580\nmasquerading as a server,\nI as the bad actor, right.\n\n104\n00:05:06.580 --> 00:05:08.384\nCuz I'm wearing the dark shirt so\nI have to be the bad actor today.\n\n105\n00:05:08.384 --> 00:05:11.705\nSo I as the bad actor,\nright, can now go ahead and\n\n106\n00:05:11.705 --> 00:05:15.767\ntake over and I can start sending\nout these fake responses.\n\n107\n00:05:15.767 --> 00:05:20.746\nRedirecting potentially, right, maybe\nclients to some sort of fake website,\n\n108\n00:05:20.746 --> 00:05:24.846\nmaybe either farm them or phish them or\nsocially engineer them, or\n\n109\n00:05:24.846 --> 00:05:27.625\nget malware introduced into the system.\n\n110\n00:05:27.625 --> 00:05:28.820\nSo all sorts of stuff,\n\n111\n00:05:28.820 --> 00:05:31.930\npotential just bad things that\ncould happen as a result of this.\n\n112\n00:05:31.930 --> 00:05:33.960\n&gt;&gt; And this is on the reply\nside of things, right?\n\n113\n00:05:33.960 --> 00:05:38.388\nSo my initial query from the client to the\nDNS server still goes over port 53 and-\n\n114\n00:05:38.388 --> 00:05:39.208\n&gt;&gt; Right, right.\n\n115\n00:05:39.208 --> 00:05:44.128\nNo, that's a great point because the\nclient will use the standard traditional\n\n116\n00:05:44.128 --> 00:05:48.030\nDNS ports which are going to port port,\nwhich is gonna be 53.\n\n117\n00:05:48.030 --> 00:05:50.610\nSo the client's communicating on port 53.\n\n118\n00:05:50.610 --> 00:05:53.876\nIt's the randomization of\nthe server's response back, right,\n\n119\n00:05:53.876 --> 00:05:57.890\nthat the socket pool is gonna help us, or\nthe setting is gonna help us to adjust it.\n\n120\n00:05:57.890 --> 00:06:01.474\n&gt;&gt; I see sometimes I think people think\nthat if I mess with the socket pool,\n\n121\n00:06:01.474 --> 00:06:05.868\nnow I've gotta reconfigure clients, change\nfirewall rules for my DNS to still work.\n\n122\n00:06:05.868 --> 00:06:07.120\nAnd that's not the case.\n\n123\n00:06:07.120 --> 00:06:09.910\nWe are just talking about\nresponse from that DNS server.\n\n124\n00:06:09.910 --> 00:06:11.402\n&gt;&gt; Absolutely, absolutely,\n\n125\n00:06:11.402 --> 00:06:14.517\nbecause the firewall rules will\nallow the DNS traffic out.\n\n126\n00:06:14.517 --> 00:06:18.767\nUnless you happen to specifically create a\nrule that says, by the way, this service,\n\n127\n00:06:18.767 --> 00:06:21.340\nremember we have the ability\nto do this in theory.\n\n128\n00:06:21.340 --> 00:06:25.850\nThis service to this port, right, if you\nmapped it specifically to a certain port\n\n129\n00:06:25.850 --> 00:06:30.290\nand now we randomized that port, yes,\nthere could be cuz there's always a kinda\n\n130\n00:06:30.290 --> 00:06:33.030\nbut if associated with\nthese conversations.\n\n131\n00:06:33.030 --> 00:06:38.970\nTraditional firewall configuration\ndoes not normally include a specified\n\n132\n00:06:38.970 --> 00:06:43.540\nrule that maps uniquely to the DNS\nservice map to a very specific port and\n\n133\n00:06:43.540 --> 00:06:47.430\nsays okay only this on this\ntraffic line wouldbe acceptable.\n\n134\n00:06:47.430 --> 00:06:48.458\nBut if you did that, and\n\n135\n00:06:48.458 --> 00:06:51.025\nthere is potentially business\ncases where you would.\n\n136\n00:06:51.025 --> 00:06:55.265\nIf you did that, to Mike's point, we may\nactually then have to go through and\n\n137\n00:06:55.265 --> 00:06:56.985\nmodify the config on the firewall.\n\n138\n00:06:56.985 --> 00:06:59.653\nCuz once we hard code a port and\nthen we say, by the way,\n\n139\n00:06:59.653 --> 00:07:02.730\nwe're gonna roll the dice and\nrandomize every time we do this.\n\n140\n00:07:02.730 --> 00:07:08.257\nThat rule is just, you got a 1 in\n65,535 chance that rule's gonna work,\n\n141\n00:07:08.257 --> 00:07:12.570\nmore of 1 in 2500,\nwhatever the port socket size is.\n\n142\n00:07:12.570 --> 00:07:16.358\nAnd if you don't happen to have that\nport that you chose in the pool, and\n\n143\n00:07:16.358 --> 00:07:20.401\nyou have no way of knowing that because\nit randomizes the pool and just says,\n\n144\n00:07:20.401 --> 00:07:21.747\nI have 2500 values.\n\n145\n00:07:21.747 --> 00:07:24.407\nI'm going to reach in and choose one or\nwhatever, you have no way of knowing.\n\n146\n00:07:24.407 --> 00:07:26.690\nChances are good you can pretty\nmuch guarantee it will not work,\n\n147\n00:07:26.690 --> 00:07:27.860\nlet's put it that way.\n\n148\n00:07:27.860 --> 00:07:28.885\nSo just be aware of that.\n\n149\n00:07:28.885 --> 00:07:32.386\nBut the default socket pool size is 2500.\n\n150\n00:07:32.386 --> 00:07:35.486\nWe can actually randomized\nthat from 0 to 10,000,\n\n151\n00:07:35.486 --> 00:07:38.090\nmeaning we have an option\nof range to set that up.\n\n152\n00:07:38.090 --> 00:07:41.934\nLarger the value, the greater the\nprotection afforded by this setting cuz\n\n153\n00:07:41.934 --> 00:07:44.750\nthe larger the size,\njust as a standard rule of thumb.\n\n154\n00:07:44.750 --> 00:07:47.543\nThe larger the size for\nany of these values that we set,\n\n155\n00:07:47.543 --> 00:07:51.733\nthe more options we have to choose from,\nthe greater the number of randomizations\n\n156\n00:07:51.733 --> 00:07:54.058\nthat will occur before\na pattern may emerge.\n\n157\n00:07:54.058 --> 00:07:57.412\nAnd therefore, the larger the protection\nvalue associated, right, by the setting.\n\n158\n00:07:57.412 --> 00:07:59.833\nSo just be aware of that.\n\n159\n00:07:59.833 --> 00:08:02.751\nWe can't offset this issue\nMike was talking about,\n\n160\n00:08:02.751 --> 00:08:05.790\nset up an exclusion list for\nthe DNS socket pool.\n\n161\n00:08:05.790 --> 00:08:07.670\nWe could exclude certain ports for\ninstance,\n\n162\n00:08:07.670 --> 00:08:11.035\nallows us to specify port ranges for\nthe DNS server,\n\n163\n00:08:11.035 --> 00:08:14.200\nwe'll ignore queries from those ports or\nallow them, so some settings in there we\n\n164\n00:08:14.200 --> 00:08:17.980\ncan use that we can kind of manipulate\nthe settings with a little bit.\n\n165\n00:08:17.980 --> 00:08:21.300\nAll right, so let's go in,\nlet's take a look at how to do this,\n\n166\n00:08:21.300 --> 00:08:24.760\ncould do this was one of two ways we can\ndo this-, join me here, if you will.\n\n167\n00:08:24.760 --> 00:08:26.349\nI have PowerShell set up.\n\n168\n00:08:26.349 --> 00:08:28.491\nLet me just pull this down\nbelow this little blue,\n\n169\n00:08:28.491 --> 00:08:31.712\nlittle square here that keeps hanging\nout at the top of our screen.\n\n170\n00:08:31.712 --> 00:08:33.960\nAll right so,\nwe can do this in PowerShell,\n\n171\n00:08:33.960 --> 00:08:38.965\nwe can do this in DNS command,\nI am on the plan dc01 machine.\n\n172\n00:08:38.965 --> 00:08:41.245\nThis is one of my DNS servers.\n\n173\n00:08:41.245 --> 00:08:43.365\nYou can see it set up right there.\n\n174\n00:08:43.365 --> 00:08:48.035\nSo we're working on a machine that\ndoes have DNS installed on it already.\n\n175\n00:08:48.035 --> 00:08:50.135\nI issued a couple of commands in here.\n\n176\n00:08:50.135 --> 00:08:51.575\nI just have them already typed in.\n\n177\n00:08:51.575 --> 00:08:53.685\nI'm just gonna page up so\nwe can see them in and\n\n178\n00:08:53.685 --> 00:08:56.205\ntype in the last command,\nwalk you through what we're doing.\n\n179\n00:08:56.205 --> 00:08:57.748\nSo the three command lines for\n\n180\n00:08:57.748 --> 00:09:00.655\nthree command strings in\nPowerShell gets the job done.\n\n181\n00:09:00.655 --> 00:09:03.830\nIn DNS command it's\nactually just gonna be one.\n\n182\n00:09:03.830 --> 00:09:08.780\nSo in theory, well two because you\nprobably want to look at the existing\n\n183\n00:09:08.780 --> 00:09:12.882\nvalue [INAUDIBLE] issue, value and\nrather command string and\n\n184\n00:09:12.882 --> 00:09:16.465\nPoweShell to get the config file which\nis what we are gonna start by doing.\n\n185\n00:09:16.465 --> 00:09:17.770\nTaking a look at it and\n\n186\n00:09:17.770 --> 00:09:21.500\nthen you can just go to DNS config and\ntype in the value one, it's up to you.\n\n187\n00:09:21.500 --> 00:09:25.390\nBut if you do it in PowerShell,\nGet-DnsServer cmdlet as you can see there.\n\n188\n00:09:25.390 --> 00:09:29.616\nComputer name parameter, specify the name\nof the computer you're targeting.\n\n189\n00:09:29.616 --> 00:09:34.000\nMy case plab DC01, we have this pipe here,\na pipe in PowerShell\n\n190\n00:09:34.000 --> 00:09:37.800\nallows us to be able to take whatever is\non the left hand side of the command.\n\n191\n00:09:37.800 --> 00:09:40.600\nSo as you're looking at the screen,\nthe get DNS server\n\n192\n00:09:40.600 --> 00:09:45.360\ncomputer name plab DC01 statement,\na commandlet with a parameter and a value.\n\n193\n00:09:45.360 --> 00:09:48.890\nTake that, process that information or\ndo whatever we're doing with it\n\n194\n00:09:48.890 --> 00:09:51.560\nbased on the commandlet,\nwhatever it may ask us to do.\n\n195\n00:09:51.560 --> 00:09:53.170\nGather that information.\n\n196\n00:09:53.170 --> 00:09:55.245\nMove it to the right\nhand side of the pipe.\n\n197\n00:09:55.245 --> 00:09:57.520\nEssentially pass it to\nthe right hand side,\n\n198\n00:09:57.520 --> 00:10:02.300\nwhich is what the pipe represents is\na programmatic syntax item in PowerShell.\n\n199\n00:10:02.300 --> 00:10:04.760\nTake what's on the left,\nmove it to the right, and\n\n200\n00:10:04.760 --> 00:10:08.710\nthen use it as input to then further\nexecute whatever commands come after.\n\n201\n00:10:08.710 --> 00:10:11.700\nSo we're gonna take the input\nof the get DNF commandlet,\n\n202\n00:10:11.700 --> 00:10:16.700\ntarget it at the computer name plot these\nto zero one, extract that Execute that,\n\n203\n00:10:16.700 --> 00:10:19.550\nstore that in memory for\na moment essentially PowerShell\n\n204\n00:10:19.550 --> 00:10:22.790\nmore often than not operates\nin memory does bunch of stuff.\n\n205\n00:10:22.790 --> 00:10:25.375\nCreate some sort of an array or\na table often times.\n\n206\n00:10:25.375 --> 00:10:29.941\nWe'll execute that, store that pass that,\npass that across the pipe.\n\n207\n00:10:29.941 --> 00:10:31.183\nIn this case, pass the output of that\ncommand, which is a config file, and\n\n208\n00:10:31.183 --> 00:10:32.614\nget that information, pass it into the\nexport CLI XML commandlet, export CLI XML.\n\n209\n00:10:32.614 --> 00:10:37.581\nTakes the information we're providing\n\n210\n00:10:37.581 --> 00:10:41.670\nas input and gets it formatted and\n\n211\n00:10:41.670 --> 00:10:47.950\nready to be pushed out into\nsome sort of directive,\n\n212\n00:10:47.950 --> 00:10:52.347\nsome sort of directed output path.\n\n213\n00:10:52.347 --> 00:10:55.917\nIn this case I'm using the path parameter,\nit's kind of in gray it's hard to see.\n\n214\n00:10:55.917 --> 00:10:57.807\nBy the way, notice it matches the color.\n\n215\n00:10:57.807 --> 00:10:59.287\n&gt;&gt; You did it on purpose.\n\n216\n00:10:59.287 --> 00:11:01.937\n&gt;&gt; I'm not gonna do the red color\nbecause that means I'm making a mistake.\n\n217\n00:11:01.937 --> 00:11:03.277\nI'm gonna do my best not to.\n\n218\n00:11:03.277 --> 00:11:05.430\nSo we're gonna try not\nto match mine today.\n\n219\n00:11:05.430 --> 00:11:09.000\nBut I'm gonna try to keep matching my\nown shirt color on there for PowerShell.\n\n220\n00:11:09.000 --> 00:11:10.500\nAll right so the path parameter, and\n\n221\n00:11:10.500 --> 00:11:14.639\nall I did was just simply say hey, I'll\nput this file to the root of the C: drive.\n\n222\n00:11:14.639 --> 00:11:19.250\nSo C: gave it a name, dnsserverconfig.xml,\nit's an XML file, and\n\n223\n00:11:19.250 --> 00:11:21.530\nput it in quotes,\noutputs to that path, right?\n\n224\n00:11:21.530 --> 00:11:23.280\nSo I've done that already.\n\n225\n00:11:23.280 --> 00:11:24.870\nI'll show you the output\nof that in just a minute.\n\n226\n00:11:26.830 --> 00:11:30.590\nAnd then once I've done that,\nI then went ahead and\n\n227\n00:11:30.590 --> 00:11:32.960\nsimply, I'm gonna edit that file.\n\n228\n00:11:32.960 --> 00:11:36.670\nWe'll look at how to do that in a minute,\nbut then I've put in a variable statement.\n\n229\n00:11:36.670 --> 00:11:39.445\nI've set a variable called x$ something,\n\n230\n00:11:39.445 --> 00:11:44.135\nis always a variable in PowerShell,\nso $x, set it equal to, so\n\n231\n00:11:44.135 --> 00:11:48.755\nI'm saying I want to use x as a variable,\nand I wanna claim some sort of value and\n\n232\n00:11:48.755 --> 00:11:52.855\nassociate it with x, so the equal\nsign let's me do that right here.\n\n233\n00:11:52.855 --> 00:11:57.589\nI'm setting it equal to the import CLIXML\ncommandlet, export takes the config out,\n\n234\n00:11:57.589 --> 00:11:59.495\nimport brings it back in, again,\n\n235\n00:11:59.495 --> 00:12:03.241\nspecify where I wanna get that from\nI'm not using a path statement,\n\n236\n00:12:03.241 --> 00:12:07.931\nI'm just essentially short-handing it and\nsaying yeah, just import from there.\n\n237\n00:12:07.931 --> 00:12:11.810\nAnd so I'm importing there, and I'm\nimporting the file that I just exported.\n\n238\n00:12:11.810 --> 00:12:17.584\nBut before I actually do that,\nwhat I'm gonna do is the following.\n\n239\n00:12:19.683 --> 00:12:21.960\nI'm gonna open that file up.\n\n240\n00:12:21.960 --> 00:12:24.207\nAnd I've done that,\njust opened it in Notepad.\n\n241\n00:12:24.207 --> 00:12:26.350\nAnd I right-clicked on the file.\n\n242\n00:12:26.350 --> 00:12:29.910\nShows Edit, because I wanna edit,\nif you just double-click on an XML file\n\n243\n00:12:29.910 --> 00:12:33.480\nnatively in Windows,\nit opens in IE or your web browser.\n\n244\n00:12:33.480 --> 00:12:37.000\nAnd while that's okay to see it, you're\nnot gonna edit it there, traditionally.\n\n245\n00:12:37.000 --> 00:12:39.040\nSo I opened it in Notepad.\n\n246\n00:12:39.040 --> 00:12:42.680\nI did a control F for\nfind because I wanna do a quick search.\n\n247\n00:12:42.680 --> 00:12:47.610\nI'm looking for socket pool size,\nthat's the name of the setting.\n\n248\n00:12:47.610 --> 00:12:49.340\nSo I just did it, control F.\n\n249\n00:12:49.340 --> 00:12:51.640\nThere's two values you'll find for that.\n\n250\n00:12:51.640 --> 00:12:54.780\nI'm using the first of the two\nwhich is the string that sets\n\n251\n00:12:54.780 --> 00:12:58.480\nSocket pool size equal to a number,\nthe second one defines it, and\n\n252\n00:12:58.480 --> 00:13:01.230\njust says socket pool\nsize equals whatever.\n\n253\n00:13:01.230 --> 00:13:03.700\nAnd it's not a number,\nit's gonna be something else.\n\n254\n00:13:03.700 --> 00:13:08.371\nSo the first of the two,\n[COUGH] there is a number here, 2,500,\n\n255\n00:13:08.371 --> 00:13:10.420\nas you can see by default.\n\n256\n00:13:10.420 --> 00:13:13.054\nI told you that range can be\nanything from 0 to 10,000.\n\n257\n00:13:13.054 --> 00:13:17.460\nSo you would simply modify this\nnumber 5,000 or whatever, right?\n\n258\n00:13:17.460 --> 00:13:19.000\nSo just go in and make a change.\n\n259\n00:13:22.470 --> 00:13:25.059\nLike that, very simple, save this off.\n\n260\n00:13:28.243 --> 00:13:29.860\nSo just made a quick change.\n\n261\n00:13:30.970 --> 00:13:32.090\nClose that out.\n\n262\n00:13:33.520 --> 00:13:36.140\nThat file is sitting in\nthe root of the C drive.\n\n263\n00:13:36.140 --> 00:13:40.030\nYou just see it sitting right\nthere DNS server config xml right?\n\n264\n00:13:40.030 --> 00:13:43.630\nSo we're now just gonna pull\nthat file back in right?\n\n265\n00:13:43.630 --> 00:13:49.760\nSo I went ahead and I declared my variable\nx equal to that statement, right.\n\n266\n00:13:49.760 --> 00:13:54.368\nAnd so now what I'm gonna do is I'm gonna\nissue the last command that I need,\n\n267\n00:13:54.368 --> 00:13:57.545\nconfigure this by using\nthe set DNS server command.\n\n268\n00:13:57.545 --> 00:13:59.423\nThis is the one I didn't\ntype in ahead of time so\n\n269\n00:13:59.423 --> 00:14:01.740\nthere's always that red possibility,\nright?\n\n270\n00:14:01.740 --> 00:14:04.110\ndnsserver, only put two s's in there.\n\n271\n00:14:04.110 --> 00:14:08.200\nNow we talked about the auto\ntab function in PowerShell.\n\n272\n00:14:08.200 --> 00:14:10.730\nI'll hit the tab key,\nyou don't see me doing that, but\n\n273\n00:14:10.730 --> 00:14:12.190\nI'm often hitting the tab key.\n\n274\n00:14:12.190 --> 00:14:14.220\nAnd you'll see it kind of takes a second,\n\n275\n00:14:14.220 --> 00:14:17.400\nit usually will capitalize\ncertain letters in there.\n\n276\n00:14:17.400 --> 00:14:20.320\nThat's just the way PowerShell\nsets up the syntax.\n\n277\n00:14:20.320 --> 00:14:23.680\nBut PowerShell is not case-sensitive\nalmost without exception.\n\n278\n00:14:23.680 --> 00:14:25.259\nSo I could type it all lowercase and\n\n279\n00:14:25.259 --> 00:14:27.719\nit would almost without\nexception work just as well.\n\n280\n00:14:27.719 --> 00:14:31.630\nAll right, so set DNS server,\ngonna use the input object parameter, so\n\n281\n00:14:31.630 --> 00:14:33.370\nwe'll do input object.\n\n282\n00:14:33.370 --> 00:14:35.290\nAgain, I'm just gonna shorthand that and\n\n283\n00:14:35.290 --> 00:14:38.000\nlet PowerShell complete that thought for\nme.\n\n284\n00:14:38.000 --> 00:14:41.390\nThen, I'm gonna specify where I\nwant to get the input object from.\n\n285\n00:14:41.390 --> 00:14:45.270\nIn this case, I'm gonna instead\nof typing in that whole thing,\n\n286\n00:14:45.270 --> 00:14:46.740\nI could type in the path.\n\n287\n00:14:46.740 --> 00:14:52.420\nYour input object,\nc:\\dnsserver.config,xml but,\n\n288\n00:14:52.420 --> 00:14:54.970\nwhy not use a variable and\njust, simply say, hey?\n\n289\n00:14:54.970 --> 00:14:59.460\nGet it from the value of $x,\nwhich is set, as you can see up above,\n\n290\n00:14:59.460 --> 00:15:02.960\nto the import CLI XML\ncommand with that file.\n\n291\n00:15:02.960 --> 00:15:05.910\nSo I'm using x as a placeholder\nessentially to represent\n\n292\n00:15:05.910 --> 00:15:07.450\nthe statement from up above.\n\n293\n00:15:07.450 --> 00:15:08.690\nAnd bring that value in.\n\n294\n00:15:09.790 --> 00:15:12.980\nNow I just have to specify what\ncomputer I want to target.\n\n295\n00:15:12.980 --> 00:15:14.980\nSo I need a computer name parameter.\n\n296\n00:15:14.980 --> 00:15:18.850\nAnd a name value to say do this on,\nwhat machine because,\n\n297\n00:15:18.850 --> 00:15:21.280\nI may be doing it on the local machine,\nwhich is what I'm gonna do.\n\n298\n00:15:21.280 --> 00:15:23.610\nBut, there's a good possibility\nI could be doing this remotely.\n\n299\n00:15:23.610 --> 00:15:25.540\nRight?\nI may be targeting another server.\n\n300\n00:15:25.540 --> 00:15:29.740\nMaybe it's Mike's server that he's\ngot running that he's using for DNS.\n\n301\n00:15:29.740 --> 00:15:31.800\nAnd I want to set it on his, right?\n\n302\n00:15:31.800 --> 00:15:34.116\nAnd so I would have to specify\nthe computer name for that.\n\n303\n00:15:34.116 --> 00:15:37.812\nSo obviously I would have adjusted the\nother commands to get the config file for\n\n304\n00:15:37.812 --> 00:15:39.270\nthat machine as well, right?\n\n305\n00:15:39.270 --> 00:15:40.850\nJust to make sure we're aware of that.\n\n306\n00:15:40.850 --> 00:15:43.430\nSo I'm gonna put in the computer\nname parameter here.\n\n307\n00:15:44.680 --> 00:15:49.231\nJust computer name,\nI'm gonna type in a plabdc01.\n\n308\n00:15:51.391 --> 00:15:54.602\nCuz I'm targeting my local machine.\n\n309\n00:15:54.602 --> 00:15:58.963\nAll right now, it goes through, gives\nme some black and yellow on the screen.\n\n310\n00:15:58.963 --> 00:16:02.751\nBut remember, right,\nPowerShell 101A, right?\n\n311\n00:16:02.751 --> 00:16:04.273\nVery, very basic, Right.\n\n312\n00:16:04.273 --> 00:16:07.194\nBlack and\nyellow is not a bad thing in PowerShell.\n\n313\n00:16:07.194 --> 00:16:11.227\nAll it is is simply a warning, and you can\nsee that there's about seven lines that\n\n314\n00:16:11.227 --> 00:16:13.320\nsay warning this this this this, right?\n\n315\n00:16:13.320 --> 00:16:14.400\nBut it's not an error, right?\n\n316\n00:16:14.400 --> 00:16:16.976\nWe're looking for over here.\n\n317\n00:16:16.976 --> 00:16:17.540\n&gt;&gt; [LAUGH]\n&gt;&gt; We're looking for\n\n318\n00:16:17.540 --> 00:16:19.570\nthis stuff right there, we see that.\n\n319\n00:16:19.570 --> 00:16:22.110\nYou see Mike doing this and\nlaughing at you, in PowerShell,\n\n320\n00:16:22.110 --> 00:16:23.480\nyou know you have a problem.\n\n321\n00:16:23.480 --> 00:16:25.816\nBut if the text is not right\n[LAUGH] exactly, right.\n\n322\n00:16:25.816 --> 00:16:28.920\nWe should work out a little animated\navatar, you'd come out and go no no no.\n\n323\n00:16:28.920 --> 00:16:29.500\nRight?\n\n324\n00:16:29.500 --> 00:16:30.440\nRethink that.\n\n325\n00:16:30.440 --> 00:16:33.990\nBut if it's black and yellow, it's just\nsimply warning us, say, hey, by the way,\n\n326\n00:16:33.990 --> 00:16:36.030\npay attention, caution, right?\n\n327\n00:16:36.030 --> 00:16:38.140\nSomething may or may not be important for\nyou to be aware of.\n\n328\n00:16:38.140 --> 00:16:41.250\nSo, there's a bunch of statements\nhere that say, by the way,\n\n329\n00:16:41.250 --> 00:16:45.620\nthis is a integrated DNS server,\nroot answer not gonna be migrated.\n\n330\n00:16:45.620 --> 00:16:50.690\nHey, this is a auto created zone,\nthere's a couple of them there though.\n\n331\n00:16:50.690 --> 00:16:54.370\nLoopback adapter, and\nthe broadcast, that kind of stuff.\n\n332\n00:16:54.370 --> 00:16:55.720\nWe're not migrating those.\n\n333\n00:16:55.720 --> 00:16:56.650\nOkay, no big deal.\n\n334\n00:16:56.650 --> 00:16:59.890\nIt's essentially running through looking\nat the config file saying here's\n\n335\n00:16:59.890 --> 00:17:00.680\na bunch of stuff, and\n\n336\n00:17:00.680 --> 00:17:04.850\nsome of this, based on the config of\nthe server, it's just not gonna happen.\n\n337\n00:17:04.850 --> 00:17:09.014\nWe never see this when we set the server\nup because the DNS configuration wizard\n\n338\n00:17:09.014 --> 00:17:12.690\nwould use, just deals with this, and\nwe don't have to worry about this stuff.\n\n339\n00:17:12.690 --> 00:17:15.930\nBut when you do this from the command\nline, it warns you and says, by the way,\n\n340\n00:17:15.930 --> 00:17:18.970\nthese things may or\nmay not be happening, just so you know.\n\n341\n00:17:18.970 --> 00:17:21.410\nNo big deal.\nI have a confirmed prompt down there.\n\n342\n00:17:21.410 --> 00:17:22.210\nOkay, that's easy.\n\n343\n00:17:22.210 --> 00:17:23.510\nLet me click yes.\n\n344\n00:17:23.510 --> 00:17:26.180\nYou ever get here and\ngo, yeah, you know what?\n\n345\n00:17:26.180 --> 00:17:26.730\nNo.\n\n346\n00:17:26.730 --> 00:17:28.914\nI'm curious, but I'm not going to do it.\n\n347\n00:17:28.914 --> 00:17:30.143\n&gt;&gt; [LAUGH]\n&gt;&gt; I was kidding.\n\n348\n00:17:30.143 --> 00:17:31.270\n&gt;&gt; I've never said no.\n\n349\n00:17:31.270 --> 00:17:34.440\n&gt;&gt; And\nI've never had a reason to suspend this.\n\n350\n00:17:34.440 --> 00:17:37.420\nI mean, you could just leave it at\nthe command prompt and essentially-\n\n351\n00:17:37.420 --> 00:17:38.420\n&gt;&gt; Get your coffee, come back.\n\n352\n00:17:38.420 --> 00:17:39.160\nWhatever you got to do, yeah.\n\n353\n00:17:39.160 --> 00:17:42.610\n&gt;&gt; So, I'm wondering what the GUI\ninterface people were thinking?\n\n354\n00:17:42.610 --> 00:17:46.200\nThey probably, the work order\nsaid we need three options, and\n\n355\n00:17:46.200 --> 00:17:48.150\nyes was the only one that was logical.\n\n356\n00:17:48.150 --> 00:17:51.506\nAnd they just threw a dart in the wall and\nsaid okay, make two up,\n\n357\n00:17:51.506 --> 00:17:54.002\nand one of them can't be go get coffee,\nright?\n\n358\n00:17:54.002 --> 00:17:58.015\nSo let's just do no and suspend, because\nessentially, they mean the same thing.\n\n359\n00:17:58.015 --> 00:17:59.860\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so we're going to click Yes.\n\n360\n00:17:59.860 --> 00:18:01.640\nAll right, so then we get a warning here.\n\n361\n00:18:01.640 --> 00:18:03.980\nResponse rate limiting will be disabled.\n\n362\n00:18:03.980 --> 00:18:07.435\nThis can allow attackers to exploit\nthe server and conduct reflection attacks.\n\n363\n00:18:07.435 --> 00:18:09.515\nResponse rate limiting being limited.\n\n364\n00:18:09.515 --> 00:18:11.425\nRather suspended, no big deal.\n\n365\n00:18:11.425 --> 00:18:12.335\nThat is fine.\n\n366\n00:18:12.335 --> 00:18:14.555\nOkay, so does that, boom, comes back.\n\n367\n00:18:14.555 --> 00:18:17.735\nAnd remember, Powershell more often than\nnot, although it may give us a warning,\n\n368\n00:18:17.735 --> 00:18:20.480\nin this case just because we\nare running through a config.\n\n369\n00:18:20.480 --> 00:18:23.310\nDoesn't normally echo back success.\n\n370\n00:18:23.310 --> 00:18:25.960\nJust gives you back a command prompt.\n\n371\n00:18:25.960 --> 00:18:28.240\nSo, no news essentially is good news.\n\n372\n00:18:28.240 --> 00:18:31.610\nMeaning, this actually worked\nthe way we wanted it to.\n\n373\n00:18:31.610 --> 00:18:35.027\nAnd this is now set a socket pull size\nof 5,000, I think is the number I saw.\n\n374\n00:18:35.027 --> 00:18:35.595\n&gt;&gt; 5,000 yeah.\n\n375\n00:18:35.595 --> 00:18:37.721\n&gt;&gt; Should be 5,000, right?\n\n376\n00:18:37.721 --> 00:18:40.250\nSo just make sure you're aware of that\nbecause that's what we would see.\n\n377\n00:18:40.250 --> 00:18:41.910\nYou may not look at the warnings,\nby the way.\n\n378\n00:18:41.910 --> 00:18:44.500\nThat may not actually\nbe something you see.\n\n379\n00:18:44.500 --> 00:18:47.815\nIt just may happen,\nyou may not get the warnings.\n\n380\n00:18:47.815 --> 00:18:48.900\nDon't be thrown off by that.\n\n381\n00:18:50.040 --> 00:18:53.615\nBut you just want to know that that would\nessentially be the way you do this.\n\n382\n00:18:53.615 --> 00:18:56.280\nNow, we're gonna do this with DNS command.\n\n383\n00:18:56.280 --> 00:18:57.810\nThen let's just take a look at this.\n\n384\n00:18:57.810 --> 00:18:59.770\nNeed an elevated command prompt.\n\n385\n00:18:59.770 --> 00:19:01.270\nSo I'm in the command prompt.\n\n386\n00:19:01.270 --> 00:19:02.790\nI've changed.\nThe only thing I'd do\n\n387\n00:19:02.790 --> 00:19:05.070\nis right-click on the set\nof the properties.\n\n388\n00:19:05.070 --> 00:19:06.340\nChange the font size.\n\n389\n00:19:06.340 --> 00:19:08.030\n18 point, Lucinda Console.\n\n390\n00:19:08.030 --> 00:19:10.030\nChange the background screen, text and\n\n391\n00:19:10.030 --> 00:19:13.100\nbackground colors to make it\ndisplay easier feel on the screen.\n\n392\n00:19:13.100 --> 00:19:14.980\nBut I haven't modified\nthe command prompt in any way.\n\n393\n00:19:14.980 --> 00:19:18.240\nI've just simply made some\natmospheric changes, so\n\n394\n00:19:18.240 --> 00:19:20.060\nit's easier to work with for you.\n\n395\n00:19:20.060 --> 00:19:22.180\nSo I'm gonna type in DNS command here.\n\n396\n00:19:22.180 --> 00:19:25.390\nWe took a look at DNS\ncommand in the prior episode,\n\n397\n00:19:25.390 --> 00:19:27.880\nshowed you we could use\nit through PowerShell.\n\n398\n00:19:27.880 --> 00:19:29.860\nShowed you how to pull up the help file,\netc.\n\n399\n00:19:29.860 --> 00:19:32.320\nSo we're gonna take a look at, or use,\n\n400\n00:19:32.320 --> 00:19:36.060\nthe DNS command tool with\nthe config parameter.\n\n401\n00:19:36.060 --> 00:19:39.940\nAnd the config that we're gonna\ngo after is socket pool size.\n\n402\n00:19:39.940 --> 00:19:43.187\nSo we're gonna do socketpoolsize.\n\n403\n00:19:43.187 --> 00:19:46.938\nAnd then we're going to specify a value.\n\n404\n00:19:46.938 --> 00:19:49.040\nAgain, remember 0 to 10,000.\n\n405\n00:19:49.040 --> 00:19:50.910\nYou wanna pick a number here?\n\n406\n00:19:50.910 --> 00:19:51.520\nOr something?\n\n407\n00:19:51.520 --> 00:19:52.510\n&gt;&gt; What are we doing?\n\n408\n00:19:52.510 --> 00:19:53.430\nSocketpoolsize?\n\n409\n00:19:53.430 --> 00:19:54.970\n&gt;&gt; We already did 5,000.\n\n410\n00:19:54.970 --> 00:19:57.266\nSo what would I set it to if I did-\n&gt;&gt; 7,250.\n\n411\n00:19:57.266 --> 00:19:59.745\n&gt;&gt; 7,250, okay.\n\n412\n00:19:59.745 --> 00:20:00.475\n&gt;&gt; It's my favorite.\n\n413\n00:20:00.475 --> 00:20:02.559\n&gt;&gt; All righty, so you can see there.\n\n414\n00:20:02.559 --> 00:20:05.670\nRegistry property socket pool\nsize successfully reset.\n\n415\n00:20:05.670 --> 00:20:07.970\nMeaning it reset, meaning it changed\nwhatever value was there and\n\n416\n00:20:07.970 --> 00:20:11.090\nnow put it into this and\nthen command completed successfully.\n\n417\n00:20:11.090 --> 00:20:15.250\nThe key and really only difference\nbetween DNS command as a tool and\n\n418\n00:20:15.250 --> 00:20:18.920\nPowerShell with the script\ncommandlets to be done here is that\n\n419\n00:20:18.920 --> 00:20:22.480\nDNS command just echoes back success and\nsays, by the way, yeah, I did this.\n\n420\n00:20:22.480 --> 00:20:24.690\nAs opposed to PowerShell not telling you.\n\n421\n00:20:24.690 --> 00:20:26.690\nAnd then you having to go\nan issue another command and\n\n422\n00:20:26.690 --> 00:20:27.920\nread the config to double check.\n\n423\n00:20:27.920 --> 00:20:30.300\n&gt;&gt; I'm hoping they update to\nDNS module for PowerShell.\n\n424\n00:20:30.300 --> 00:20:31.486\nCuz I love PowerShell.\n\n425\n00:20:31.486 --> 00:20:35.544\nBut that was a lot of work that you had\nto go through exporting those settings,\n\n426\n00:20:35.544 --> 00:20:38.112\nmodifying that file, and\nimporting it back in.\n\n427\n00:20:38.112 --> 00:20:40.900\nWhereas DNS CMV simply set this value.\n\n428\n00:20:40.900 --> 00:20:42.190\n&gt;&gt; It does.\nNow remember,\n\n429\n00:20:42.190 --> 00:20:45.410\nI showed you we could load DNS\ncommand right in PowerShell,\n\n430\n00:20:45.410 --> 00:20:47.690\nbut you're essentially using the tool,\nyou're just doing it through PowerShell.\n\n431\n00:20:47.690 --> 00:20:48.950\n&gt;&gt; Yeah.\n&gt;&gt; This really doesn't change anything,\n\n432\n00:20:48.950 --> 00:20:50.580\nit's just being done there.\n\n433\n00:20:50.580 --> 00:20:53.500\nBut you could, if you really wanted to,\ntalk about doing work,\n\n434\n00:20:53.500 --> 00:20:57.800\nyou can write a script in PowerShell\nthat calls DNS command and automates it.\n\n435\n00:20:57.800 --> 00:21:02.350\nCreate a module, right, or a function in\nPowerShell and then actually execute that.\n\n436\n00:21:02.350 --> 00:21:04.090\n&gt;&gt; I know what I'm gonna work on tonight.\n\n437\n00:21:04.090 --> 00:21:05.920\nYou can use that for the show,\nit's what we need for PowerShell, right?\n\n438\n00:21:05.920 --> 00:21:06.463\n&gt;&gt; Absolutely.\n&gt;&gt; Or\n\n439\n00:21:06.463 --> 00:21:09.280\nyou could create a whole new way of\ndoing something that should not take\n\n440\n00:21:09.280 --> 00:21:13.130\nmore than a few seconds and\nturn it into a 30 minute exercise, right?\n\n441\n00:21:13.130 --> 00:21:14.870\n&gt;&gt; Is there a recommended value for this?\n\n442\n00:21:14.870 --> 00:21:16.980\nI know it defaults to 2,500.\n\n443\n00:21:16.980 --> 00:21:19.270\nBut as you could value up to 10,000.\n\n444\n00:21:19.270 --> 00:21:21.200\n&gt;&gt; Up to 10,000.\nJust the recommendation is the higher\n\n445\n00:21:21.200 --> 00:21:23.740\nthe number for\nthe socket pool size up to 10,000,\n\n446\n00:21:23.740 --> 00:21:27.045\nthe more protection afforded\nbecause of the size of the pool.\n\n447\n00:21:27.045 --> 00:21:31.320\nIncreasing more pool, more socket options\nthat can essentially be chosen for\n\n448\n00:21:31.320 --> 00:21:32.990\nrandomization without repeating.\n\n449\n00:21:32.990 --> 00:21:36.110\n&gt;&gt; Okay.\n&gt;&gt; So that's, and it really, not that,\n\n450\n00:21:36.110 --> 00:21:37.820\nthere's no formula.\n\n451\n00:21:37.820 --> 00:21:41.310\nBut what I'm gonna say, when I say\nthe formula you want to operate from,\n\n452\n00:21:41.310 --> 00:21:44.140\nwhat I mean is the thought\nprocess in your mind.\n\n453\n00:21:44.140 --> 00:21:46.960\nThis comes down to weighing the amount of\ntraffic you think you're gonna be getting\n\n454\n00:21:46.960 --> 00:21:49.380\nthrough the server, which is\nsometimes hard to estimate, right?\n\n455\n00:21:49.380 --> 00:21:53.390\nBecause the idea would be if you're\ngetting very few requests and the service\n\n456\n00:21:53.390 --> 00:21:58.950\nis not that busy, a smaller socket pool\nsize may be perfectly fine because chances\n\n457\n00:21:58.950 --> 00:22:02.220\nare good that it's not gonna go through\nthat many sockets that quickly, right?\n\n458\n00:22:02.220 --> 00:22:04.390\nBut this is like the WEP analogy, right?\n\n459\n00:22:04.390 --> 00:22:07.030\nIf you plan for\na small amount of traffic and\n\n460\n00:22:07.030 --> 00:22:11.880\nall of a sudden the firehose gets turned\non and you're just getting bombarded and\n\n461\n00:22:11.880 --> 00:22:16.130\nflooded with traffic, you're gonna run\nthrough those 10,000 socket options, or\n\n462\n00:22:16.130 --> 00:22:20.680\nwhatever that number is, fairly quickly.\n\n463\n00:22:20.680 --> 00:22:23.850\nAnd you're gonna start obviously,\nthen, repeating sequencing.\n\n464\n00:22:23.850 --> 00:22:26.280\nAnd as a result there may\nbe over time a pattern.\n\n465\n00:22:26.280 --> 00:22:29.880\nI mean, the way we can theoretically\nattack and get around this is\n\n466\n00:22:29.880 --> 00:22:35.490\nwe can flood the DNS sever with requests\ntrying to max out the response rates.\n\n467\n00:22:35.490 --> 00:22:38.520\nResponse rate limiting will\npotentially deal with some of that.\n\n468\n00:22:38.520 --> 00:22:43.390\nBut also, we could flood it trying\nto see of we can get the sequencing\n\n469\n00:22:43.390 --> 00:22:47.080\nvalues maxed out, figure out what that\npool size looks like, what they are.\n\n470\n00:22:47.080 --> 00:22:50.390\nAnd eventually, we may be able\nto do some predictive attacks.\n\n471\n00:22:50.390 --> 00:22:51.780\nBut it's very hard.\n\n472\n00:22:51.780 --> 00:22:56.180\nThe chances of us being successful by\ndoing that against a DNS server are small\n\n473\n00:22:56.180 --> 00:22:59.620\nwithin the timeframe it would take to\nset that up without being discovered.\n\n474\n00:22:59.620 --> 00:23:03.070\nAnd the value that we would get\nfrom attacking the DNS server is\n\n475\n00:23:03.070 --> 00:23:03.892\nfairly minimal.\n\n476\n00:23:03.892 --> 00:23:08.890\nI mean, sequence prediction attacks\nto stream malformed data packets\n\n477\n00:23:08.890 --> 00:23:13.110\nin to essentially attack\nmultiple systems makes sense.\n\n478\n00:23:13.110 --> 00:23:16.870\nTo do it against a single server like this\nmay not make sense unless you're looking\n\n479\n00:23:16.870 --> 00:23:20.470\nat something like cache poisoning,\nwe spoke about that the last episode.\n\n480\n00:23:20.470 --> 00:23:23.880\nManipulate host entries, host records.\n\n481\n00:23:23.880 --> 00:23:25.240\nThen you may see some value.\n\n482\n00:23:25.240 --> 00:23:28.700\nBut generically, to do all this\njust to get to the DNS server,\n\n483\n00:23:28.700 --> 00:23:32.310\nunless it's a denial of service event\nwhere you just trying to take it down.\n\n484\n00:23:32.310 --> 00:23:35.250\nAnd we easily combat that\nby having distributed DNS\n\n485\n00:23:35.250 --> 00:23:37.860\non our domain controllers spread\nthrough out the organization.\n\n486\n00:23:37.860 --> 00:23:40.450\nYou attack one, okay, that's inconvenient.\n\n487\n00:23:40.450 --> 00:23:41.760\nYeah, we wanna prevent that.\n\n488\n00:23:41.760 --> 00:23:44.900\nBut reality is, even if you're successful,\nI got ten others, or\n\n489\n00:23:44.900 --> 00:23:47.170\nwhatever my number is, and\nwhile it's inconvenient,\n\n490\n00:23:47.170 --> 00:23:52.550\nit's not really gonna stop me and stop or\nreally in any way impede activity.\n\n491\n00:23:52.550 --> 00:23:54.212\nIt may slow things down, but\nit's not really going to hurt me.\n\n492\n00:23:54.212 --> 00:23:56.970\nYou'd have to take out all the domain\ncontrollers simultaneously,\n\n493\n00:23:56.970 --> 00:23:58.680\nand that requires\na different kind of attack.\n\n494\n00:23:58.680 --> 00:24:00.390\nIt wouldn't really speak\nto something like this.\n\n495\n00:24:00.390 --> 00:24:02.470\nSo it's good to know how\nto protect against it.\n\n496\n00:24:02.470 --> 00:24:06.150\nIt's definitely something that is just one\nof those set and forget kind of settings.\n\n497\n00:24:06.150 --> 00:24:08.400\nWhen you do that, chances are good.\n\n498\n00:24:08.400 --> 00:24:10.280\nAt that point you just don't\nhave to worry about this.\n\n499\n00:24:10.280 --> 00:24:11.886\nYou check this off the list, you're like,\n\n500\n00:24:11.886 --> 00:24:14.590\nyeah, I'm protected, and I probably\nnever have to worry about it again.\n\n501\n00:24:14.590 --> 00:24:17.100\nBut it's one of those things\nthat's usually not gonna be\n\n502\n00:24:17.100 --> 00:24:18.380\na primary attack vector.\n\n503\n00:24:18.380 --> 00:24:20.830\nIt's just not one of those things that's\nvery common, but it is good to know.\n\n504\n00:24:20.830 --> 00:24:23.770\n&gt;&gt; It seems like one of those settings,\ntoo, that by itself,\n\n505\n00:24:23.770 --> 00:24:26.000\nthis isn't gonna make my\nDNS server bulletproof.\n\n506\n00:24:26.000 --> 00:24:29.050\nBut when I start combining this with\nother things we've talked about,\n\n507\n00:24:29.050 --> 00:24:34.690\nlike cache locking and stuff we're gonna\ntalk about, that's where it really helps.\n\n508\n00:24:34.690 --> 00:24:36.202\nSo it's the cumulative effect idea, right?\n\n509\n00:24:36.202 --> 00:24:39.150\nIt's like what you were saying\nthat it's not by itself\n\n510\n00:24:39.150 --> 00:24:43.450\nthis one little countermeasure, right over\nhere, wow, kind of, weak on it's own.\n\n511\n00:24:43.450 --> 00:24:44.160\nI mean, it's there.\n\n512\n00:24:44.160 --> 00:24:45.460\nIt's not that it's not good.\n\n513\n00:24:45.460 --> 00:24:48.530\nBut it's just not Superman, or\nit's not gonna protect us by itself.\n\n514\n00:24:48.530 --> 00:24:51.970\nBut additive to all the other\ncountermeasures, DNS sec,\n\n515\n00:24:51.970 --> 00:24:56.520\ncache rate limiting or response rate\nlimiting, cache poisoning protection,\n\n516\n00:24:56.520 --> 00:25:01.100\nall those things we do, not talking to\nstrangers to not allowing zone transfers.\n\n517\n00:25:01.100 --> 00:25:04.340\nControlling forwarding by hard coding,\nyou know what we're going to do and\n\n518\n00:25:04.340 --> 00:25:05.580\nwhen we're going to do it.\n\n519\n00:25:05.580 --> 00:25:10.930\nAll those things cumulatively, really then\nbecome that source of DNS server security.\n\n520\n00:25:10.930 --> 00:25:12.950\nWe're going to add DNS sec as I mentioned.\n\n521\n00:25:12.950 --> 00:25:15.620\nThat will be an upcoming conversation,\ndon't want to miss that,\n\n522\n00:25:15.620 --> 00:25:16.930\nthat's actually pretty cool.\n\n523\n00:25:16.930 --> 00:25:20.219\nAnd, yeah, together it's going to provide\nfor us a really good protection profile.\n\n524\n00:25:21.960 --> 00:25:24.880\n&gt;&gt; All right, Adam, so I know we got\nmore to do but we are getting a little\n\n525\n00:25:24.880 --> 00:25:28.000\nshort on time, probably a little\ntoo much to start something new.\n\n526\n00:25:28.000 --> 00:25:30.530\n&gt;&gt; Yeah, dnssec requires more than-\n&gt;&gt; Three minutes?\n\n527\n00:25:30.530 --> 00:25:31.880\n&gt;&gt; Three and a half minutes.\n\n528\n00:25:31.880 --> 00:25:34.460\nI could do it in three and a half\nminutes but would not be very valuable.\n\n529\n00:25:34.460 --> 00:25:36.970\n&gt;&gt; DNSsec, it's cool implement it,\nthat's all you need to know.\n\n530\n00:25:36.970 --> 00:25:37.590\n&gt;&gt; Exactly.\n&gt;&gt; Yeah.\n\n531\n00:25:37.590 --> 00:25:39.080\n&gt;&gt; Turn it on and then walk away.\n\n532\n00:25:39.080 --> 00:25:43.440\n&gt;&gt; All right, sounds good, Adam,\nlooking forward to see DNSSec But\n\n533\n00:25:43.440 --> 00:25:46.190\nunfortunately that is gonna do it for\nthis episode.\n\n534\n00:25:46.190 --> 00:25:50.302\nSo signing off for IT Pro TV,\nI've been your host Mike Rodrick.\n\n535\n00:25:50.302 --> 00:25:54.770\n&gt;&gt; DNS sec, coming here, soon,\nlive, to you, right here.\n\n536\n00:25:54.770 --> 00:25:55.600\nRed shirt.\n\n537\n00:25:55.600 --> 00:25:56.970\nHe's gonna stand over here and do it.\n\n538\n00:25:56.970 --> 00:25:58.680\nI'm gonna stand over there.\n\n539\n00:25:58.680 --> 00:26:01.570\n&gt;&gt; Now that I think about it,\nthe red shirt thing, I'm a Star Trek fan,\n\n540\n00:26:01.570 --> 00:26:04.080\nI don't know if you watched also-\n&gt;&gt; You're the guy who gets killed like in\n\n541\n00:26:04.080 --> 00:26:05.510\nthe first five minutes of every episode.\n\n542\n00:26:05.510 --> 00:26:06.990\nNever wanna be the away team.\n\n543\n00:26:06.990 --> 00:26:08.821\n[CROSSTALK]\n&gt;&gt; If you go down to the planet,\n\n544\n00:26:08.821 --> 00:26:09.950\nI'm gonna go take a lunch break.\n\n545\n00:26:09.950 --> 00:26:10.554\n&gt;&gt; You're dead.\n\n546\n00:26:10.554 --> 00:26:12.291\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n547\n00:26:12.291 --> 00:26:16.110\nbut hopefully I'll be here when we get\nback for the next part in DNS sec.\n\n548\n00:26:16.110 --> 00:26:18.260\nSigning out for now, I'm Mike Rodrick.\n\n549\n00:26:18.260 --> 00:26:19.040\n&gt;&gt; I'm Adam Gordon.\n\n550\n00:26:19.040 --> 00:26:19.738\n&gt;&gt; And we'll see you next time.\n\n551\n00:26:21.537 --> 00:26:27.249\n[MUSIC]\n\n552\n00:26:27.249 --> 00:26:30.350\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "236934662"
        },
        {
          "description": "",
          "length": "2099",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-6-secure_network_traffic_pt6-100317-PGM.00_03_31_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-6-secure_network_traffic_pt6-100317-PGM.00_03_31_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-6-secure_network_traffic_pt6-100317-PGM.00_03_31_10.Still001-sm.jpg",
          "title": "Secure Network Traffic Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:03.587\nWelcome to ITProTV,\nI'm your host Don Pezet [CROSSTALK]\n\n2\n00:00:03.587 --> 00:00:05.073\n&gt;&gt; Coming at you live from San Francisco,\n\n3\n00:00:05.073 --> 00:00:05.619\nCalifornia.\n\n4\n00:00:05.619 --> 00:00:07.808\n[CROSSTALK]\n\n5\n00:00:07.808 --> 00:00:09.700\n[MUSIC]\n\n6\n00:00:09.700 --> 00:00:12.360\n&gt;&gt; You're watching ITProTV.\n\n7\n00:00:12.360 --> 00:00:15.430\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n8\n00:00:15.430 --> 00:00:18.640\nI'm your host Mike Roderick and\ntoday we're doing our securing\n\n9\n00:00:18.640 --> 00:00:23.920\nWindows Server 2016,\ngetting ready for that 70-744 exam.\n\n10\n00:00:23.920 --> 00:00:27.560\nAnd in this episode we're continuing our\nthought process looking at how we can\n\n11\n00:00:27.560 --> 00:00:28.800\nsecure network traffic.\n\n12\n00:00:28.800 --> 00:00:32.810\nLooked at some great stuff already,\nbut we got more on the way.\n\n13\n00:00:32.810 --> 00:00:35.110\nHere to help us with that,\nof course, is Mister Adam Gordon.\n\n14\n00:00:35.110 --> 00:00:35.895\nWelcome back, Adam.\n\n15\n00:00:35.895 --> 00:00:38.114\n&gt;&gt; Boo-ya.\n\n16\n00:00:39.160 --> 00:00:40.300\nThis guy, right here.\nThis guy.\n\n17\n00:00:40.300 --> 00:00:42.310\n&gt;&gt; And I'm still here,\neven though I've got the red shirt on.\n\n18\n00:00:42.310 --> 00:00:44.560\n&gt;&gt; I was gonna, well that's cuz you\nhaven't set foot outside the studio.\n\n19\n00:00:44.560 --> 00:00:47.150\nThe minute you set foot outside that door,\nit's all over.\n\n20\n00:00:47.150 --> 00:00:49.860\nThey're waiting right outside,\nthey're just going to come take you away.\n\n21\n00:00:49.860 --> 00:00:51.230\nAll right, so we are gonna continue.\n\n22\n00:00:51.230 --> 00:00:54.260\nWe talked about the fact that\nwe've done some really cool stuff.\n\n23\n00:00:54.260 --> 00:00:58.890\nIn case you haven't seen some of those\nepisodes, we did DNS cache poisoning.\n\n24\n00:00:58.890 --> 00:01:03.395\nPreparation in terms of just preventing\nthat by looking at some settings through\n\n25\n00:01:03.395 --> 00:01:06.920\nPower Shell that we can use and\nor DNS command to lock that down.\n\n26\n00:01:06.920 --> 00:01:11.204\nSo we prevent right back to the cache by\nusing a property that allows us to say\n\n27\n00:01:11.204 --> 00:01:15.080\na percentage of the total TTL value\nof the records in the cache should\n\n28\n00:01:15.080 --> 00:01:18.620\nbe observed before we allow write back or\nmodification.\n\n29\n00:01:18.620 --> 00:01:22.080\nTook a look at socket pools,\nsocket pool size.\n\n30\n00:01:22.080 --> 00:01:24.265\nWho would have thought we'd do\na whole episode just on socket pools?\n\n31\n00:01:24.265 --> 00:01:25.770\n&gt;&gt; Just on socket pools,\nthat's crazy, right.\n\n32\n00:01:25.770 --> 00:01:28.632\n&gt;&gt; Take a relatively simple concept and\n\n33\n00:01:28.632 --> 00:01:31.380\njust stretch it out into\n30 minutes of goodness.\n\n34\n00:01:31.380 --> 00:01:32.720\n&gt;&gt; Put these two together and you-\n&gt;&gt; But\n\n35\n00:01:32.720 --> 00:01:35.012\nhere we are talking about socket pools.\n\n36\n00:01:35.012 --> 00:01:35.713\n&gt;&gt; Parse 24.\n\n37\n00:01:35.713 --> 00:01:37.445\n&gt;&gt; And\nwe're still talking about socket pools.\n\n38\n00:01:37.445 --> 00:01:38.437\n[LAUGH]\n&gt;&gt; All right, so\n\n39\n00:01:38.437 --> 00:01:41.800\nwe did do a whole episode on socket\npool preparation and protection.\n\n40\n00:01:43.070 --> 00:01:46.030\nObviously very interesting and important\nfor you to be aware of that as well.\n\n41\n00:01:46.030 --> 00:01:49.150\nWe've been hinting at and\nthreatening to talk about DNSSEC for\n\n42\n00:01:49.150 --> 00:01:50.182\na couple of episodes now.\n\n43\n00:01:50.182 --> 00:01:52.290\nI think we're actually gonna go head and\ndo that.\n\n44\n00:01:52.290 --> 00:01:54.380\nWe are gonna jump in, do a demo,\n\n45\n00:01:54.380 --> 00:01:58.370\nshow you how to do the cryptographic\nsigning of a DNS zone.\n\n46\n00:01:58.370 --> 00:02:02.170\nBut we're gonna explain, as we often do,\nwhat DNSSEC represents for us.\n\n47\n00:02:02.170 --> 00:02:05.220\nBefore we do that, just to give\nyou a little idea of why we would\n\n48\n00:02:05.220 --> 00:02:08.690\nengage in this particular\nsecurity countermeasure.\n\n49\n00:02:08.690 --> 00:02:11.670\nAnd it actually is interesting cuz unlike\nsome of the other ones we've talked about\n\n50\n00:02:11.670 --> 00:02:14.600\nwhich are settings that\nare perhaps not well known.\n\n51\n00:02:14.600 --> 00:02:18.490\nWe talked about the fact that they're\noftentimes not ignored on purpose but\n\n52\n00:02:18.490 --> 00:02:20.150\njust ignored out of ignorance.\n\n53\n00:02:20.150 --> 00:02:21.333\nWe just don't realize.\n\n54\n00:02:21.333 --> 00:02:25.189\nMany IT administrators, many DNS admins,\nmany security professionals,\n\n55\n00:02:25.189 --> 00:02:28.744\njust don't know that some of these\nsettings are there cuz they're not\n\n56\n00:02:28.744 --> 00:02:32.680\nin the GUI, right, you don't right\nclick and set the socket pool settings.\n\n57\n00:02:32.680 --> 00:02:35.590\nYou don't right click and\ndeal with response rate limiting,\n\n58\n00:02:35.590 --> 00:02:37.510\nsomething we'll talk\nabout that's coming up,\n\n59\n00:02:37.510 --> 00:02:40.480\nalthough we've mentioned it in\na couple of different shows already.\n\n60\n00:02:40.480 --> 00:02:43.690\nThe idea of preventing amplification\nattacks against DNS service is what\n\n61\n00:02:43.690 --> 00:02:45.590\nresponse rate limiting deals with.\n\n62\n00:02:45.590 --> 00:02:48.450\nThe idea of cache pollution\npoisoning prevention.\n\n63\n00:02:48.450 --> 00:02:51.790\nWe do have a setting for that buried in\nthe advanced properties of the server.\n\n64\n00:02:51.790 --> 00:02:55.355\nBut the reality is almost without\nexception a lot of these settings\n\n65\n00:02:55.355 --> 00:02:59.475\nwe've looked at up until now\nare Power Shell or DNS command driven.\n\n66\n00:02:59.475 --> 00:03:01.323\nSo they're hidden from view,\nyou'd have to know about them.\n\n67\n00:03:01.323 --> 00:03:06.003\nYou talked about the fact that\nMicrosoft hasn't necessarily updated\n\n68\n00:03:06.003 --> 00:03:10.999\nthe Power Shell DNS reference module\nto include some things that may make it\n\n69\n00:03:10.999 --> 00:03:11.645\neasier.\n\n70\n00:03:11.645 --> 00:03:13.078\nYou saw we had to go back and forth.\n\n71\n00:03:13.078 --> 00:03:17.755\nAnd it took me seven or eight steps in\nPower Shell to deal with the DNS server\n\n72\n00:03:17.755 --> 00:03:21.694\nconfig and set the cache, or\nnot the cache, the socket pool.\n\n73\n00:03:21.694 --> 00:03:25.480\nWhereas in DNS command, it was just\nin theory, one command line, right.\n\n74\n00:03:25.480 --> 00:03:29.965\nSo there may be some roadblocks or hurdles\nthere to making this approachable, but\n\n75\n00:03:29.965 --> 00:03:31.890\nDNSSEC doesn't fall into that category,\nright.\n\n76\n00:03:31.890 --> 00:03:33.880\nIt's integrated right into the console.\n\n77\n00:03:33.880 --> 00:03:38.240\n&gt;&gt; It is, it's a lot easier to work with,\nespecially in this edition of Windows, and\n\n78\n00:03:38.240 --> 00:03:39.550\nthey've updated DNSSEC, and\n\n79\n00:03:39.550 --> 00:03:44.100\nit's a lot easier to work with than\nit was when it first came out.\n\n80\n00:03:44.100 --> 00:03:48.193\nAnd to us lazy admin's defense-\n&gt;&gt; I thought you were gonna say\n\n81\n00:03:48.193 --> 00:03:49.075\nsomething else.\n\n82\n00:03:49.075 --> 00:03:52.133\n&gt;&gt; [LAUGH] Things like DNS socket pool and\ncache locking percentage,\n\n83\n00:03:52.133 --> 00:03:53.920\nthey do have default values, right.\n\n84\n00:03:53.920 --> 00:03:58.720\nAnd those default values are acceptable\nin a lot of scenarios, so-\n\n85\n00:03:58.720 --> 00:04:00.350\n&gt;&gt; Already configured, in other words.\n\n86\n00:04:00.350 --> 00:04:01.970\n&gt;&gt; Right.\n&gt;&gt; Potentially they are protecting us\n\n87\n00:04:01.970 --> 00:04:02.470\nat some level.\n\n88\n00:04:02.470 --> 00:04:05.080\n&gt;&gt; They're giving us some protection,\nwhereas DNSSEC, if you don't go in and\n\n89\n00:04:05.080 --> 00:04:06.250\nturn it on-\n&gt;&gt; It's not working.\n\n90\n00:04:06.250 --> 00:04:07.070\n&gt;&gt; It's not doing you any good.\n\n91\n00:04:07.070 --> 00:04:07.950\n&gt;&gt; Yeah, it's not.\n\n92\n00:04:07.950 --> 00:04:09.030\nAnd it's been around.\n\n93\n00:04:09.030 --> 00:04:10.020\nAnd again, it's one of those things,\n\n94\n00:04:10.020 --> 00:04:12.790\nI've mentioned this before,\nit's not a Microsoft thing.\n\n95\n00:04:12.790 --> 00:04:14.900\nMicrosoft did not invent DNSSEC.\n\n96\n00:04:14.900 --> 00:04:19.060\nBut it is certainly\nsomething that Microsoft,\n\n97\n00:04:19.060 --> 00:04:22.770\nas many operating system and\ninfrastructure vendors do,\n\n98\n00:04:22.770 --> 00:04:26.380\nhave integrated it to take advantage\nof the protection offered.\n\n99\n00:04:26.380 --> 00:04:31.470\nGenerically at the high level the idea is\nthat we're going to cryptographically sign\n\n100\n00:04:31.470 --> 00:04:37.010\nour zone and as a result provide\nadditional zone records that validate our\n\n101\n00:04:37.010 --> 00:04:42.750\nidentity as a trusted provider of DNS\nresources or DNS server information.\n\n102\n00:04:42.750 --> 00:04:47.290\nSo we're using the ability to be able\nto bring cryptographic protections and\n\n103\n00:04:47.290 --> 00:04:52.590\nintegrity protections to DNS,\nthat's what DNSSEC allows us to do.\n\n104\n00:04:52.590 --> 00:04:57.360\nSign the zone and all the zone records,\ntag them in such a way that we\n\n105\n00:04:57.360 --> 00:05:02.320\nnow have integrity, proof of origin,\nnon-repudiation associated with them.\n\n106\n00:05:02.320 --> 00:05:06.290\nTerms we hear about and talk about a lot\nin security, especially when we talk\n\n107\n00:05:06.290 --> 00:05:10.570\nabout cryptography and\nhow we apply cryptographic protections.\n\n108\n00:05:10.570 --> 00:05:15.102\nBut what it boils down to is, we're gonna\nauthoritatively assert our identity and\n\n109\n00:05:15.102 --> 00:05:18.728\nprovide proof and measures that\nallow anybody who challenges that\n\n110\n00:05:18.728 --> 00:05:21.620\nassertion to validate we\nare who we say we are.\n\n111\n00:05:21.620 --> 00:05:27.070\nWe really know it's Mike because we\nhave a undeniable information item here,\n\n112\n00:05:27.070 --> 00:05:29.680\na signature that attributes this to Mike.\n\n113\n00:05:29.680 --> 00:05:34.400\nAnd unless there's something really funny\ngoing on, somehow somebody is a bad actor,\n\n114\n00:05:34.400 --> 00:05:37.750\nis impersonating Mike,\nwhich is theory could certainly happen.\n\n115\n00:05:37.750 --> 00:05:41.660\nWe don't wanna say it never happens,\nthere's always that possibility.\n\n116\n00:05:41.660 --> 00:05:44.030\nOr somebody instead of impersonating Mike,\n\n117\n00:05:44.030 --> 00:05:47.820\nhas managed to gain access to Mike or\nthe equivalent of Mike,\n\n118\n00:05:47.820 --> 00:05:52.510\nwhatever Mike's identity is in this\nexample, in this case, the DNS server.\n\n119\n00:05:52.510 --> 00:05:56.480\nThey've managed to get access to\nthe private key, the symmetric key or\n\n120\n00:05:56.480 --> 00:06:02.040\nthe key pair portion of the private key,\nthat allows that actor\n\n121\n00:06:02.040 --> 00:06:06.640\nto sign or impersonate the ability\nto sign those records and\n\n122\n00:06:06.640 --> 00:06:09.670\nauthoritatively assert their identity,\neven though it's not really them.\n\n123\n00:06:09.670 --> 00:06:12.594\nUnless those things happen, and\nthey're unlikely to happen for\n\n124\n00:06:12.594 --> 00:06:15.517\na variety of reasons, we're smart,\nwe do the right things, and\n\n125\n00:06:15.517 --> 00:06:17.823\npay attention to the way\nwe should implement this.\n\n126\n00:06:17.823 --> 00:06:22.182\nThen we can pretty confidently say, yeah,\nwhen we look at that zone record and\n\n127\n00:06:22.182 --> 00:06:26.081\nwe see it's digitally signed, and\nwe validate that through DNSSEC,\n\n128\n00:06:26.081 --> 00:06:30.903\nthen we are pretty confident, right, that\nwe're going to be able trust whoever's on\n\n129\n00:06:30.903 --> 00:06:34.830\nthe other end of that signature\nas being an authoritative source.\n\n130\n00:06:34.830 --> 00:06:37.558\nAssuming we've established\nthe proper communication with them.\n\n131\n00:06:37.558 --> 00:06:41.330\nSo this is what we're going to do, we use\nsomething known as a trust anchor, or\n\n132\n00:06:41.330 --> 00:06:43.150\ntrust anchors,\nthere may be more than one, right.\n\n133\n00:06:44.160 --> 00:06:47.107\nAuthoritative entities that the public\nkey, or that a public key, represents.\n\n134\n00:06:47.107 --> 00:06:50.930\nRemember, we're talking about\na public private key pair here.\n\n135\n00:06:50.930 --> 00:06:55.250\nEssentially an asymmetric\nencryption solution that's used.\n\n136\n00:06:55.250 --> 00:06:58.930\nWe can use one of the two keys\nto perform one function and\n\n137\n00:06:58.930 --> 00:07:01.000\na key pair asymmetric encryption.\n\n138\n00:07:01.000 --> 00:07:02.920\nMathematically the keys are related.\n\n139\n00:07:02.920 --> 00:07:06.050\nThey are two sides of the same coin,\nif you will.\n\n140\n00:07:06.050 --> 00:07:08.040\nSo they are joined together.\n\n141\n00:07:08.040 --> 00:07:09.740\nWe split them down the middle.\n\n142\n00:07:09.740 --> 00:07:11.520\nOne key is ascribed to and\n\n143\n00:07:11.520 --> 00:07:14.700\ndedicated to one function,\ntypically an encrypt function.\n\n144\n00:07:14.700 --> 00:07:18.960\nAnd as a result, the other key in the pair\nis then automatically ascribed to and\n\n145\n00:07:18.960 --> 00:07:21.410\nassigned to the other function,\nwhich would be the inverse or\n\n146\n00:07:21.410 --> 00:07:22.450\nthe decrypt function.\n\n147\n00:07:22.450 --> 00:07:24.390\nJust keeping it a relatively\nstraightforward and\n\n148\n00:07:24.390 --> 00:07:27.030\nsimple level from\na vocabulary perspective.\n\n149\n00:07:27.030 --> 00:07:32.310\nSo as a result, right, we can use two keys\nto achieve a variety of capabilities.\n\n150\n00:07:32.310 --> 00:07:35.910\nIf we sign with the private key,\nwe can then\n\n151\n00:07:35.910 --> 00:07:39.260\nvalidate the symmetry with the public key,\nif you wanna think about it that way.\n\n152\n00:07:39.260 --> 00:07:40.750\nOr if we invert that,\n\n153\n00:07:40.750 --> 00:07:44.600\nwe could sign with the public key,\nonly validate it with the private key.\n\n154\n00:07:44.600 --> 00:07:47.600\nIt would depend on what we're doing and\nwhat we're looking to achieve.\n\n155\n00:07:47.600 --> 00:07:51.017\nIf we encrypt with the private key,\nwe can decrypt with the public key.\n\n156\n00:07:51.017 --> 00:07:54.900\nIf we encrypt with the public key,\nwe can decrypt with the private key.\n\n157\n00:07:54.900 --> 00:07:57.080\nWe have four potential options,\ndepending on what we're looking to do.\n\n158\n00:07:57.080 --> 00:08:02.547\nBut ultimately, The idea is that the trust\nanchors, or trust anchor generically,\n\n159\n00:08:02.547 --> 00:08:07.706\nin our example as we're talking about\nthis, is gonna represent the ability for\n\n160\n00:08:07.706 --> 00:08:11.230\nus to store preconfigured\npublic keys in the zone.\n\n161\n00:08:11.230 --> 00:08:15.480\nSo we associate them, in other words, with\nthe zone, the zone is a namespace, right?\n\n162\n00:08:15.480 --> 00:08:19.400\nIt's our directory, or our folder, it's\nhow it's represented in the DNS server,\n\n163\n00:08:19.400 --> 00:08:20.930\nit's a little folder icon.\n\n164\n00:08:20.930 --> 00:08:22.417\nIt's the directory or\n\n165\n00:08:22.417 --> 00:08:27.280\nthe folder in the DNS server that gives\nus all the namespace information.\n\n166\n00:08:27.280 --> 00:08:30.860\nAll the resource records, and\nof course the ability to manage them and\n\n167\n00:08:30.860 --> 00:08:32.000\nconfigure them.\n\n168\n00:08:32.000 --> 00:08:36.710\nSo it's a carved-out area\nwhere we associate objects of\n\n169\n00:08:36.710 --> 00:08:40.965\nlike configuration associated\nwith fully qualified domain name,\n\n170\n00:08:40.965 --> 00:08:44.050\npracticelabs.com or whatever that may be.\n\n171\n00:08:44.050 --> 00:08:48.080\nAnd then we have the ability,\nincrementally through that zone,\n\n172\n00:08:48.080 --> 00:08:51.820\nto be able to manage and apply\nsettings to those name space objects.\n\n173\n00:08:51.820 --> 00:08:55.620\nThose records, as we call them,\nresource records of a variety of types.\n\n174\n00:08:55.620 --> 00:09:00.930\nPointer records, host records, MX records,\nCNAME records, you name it, right?\n\n175\n00:09:00.930 --> 00:09:04.457\nIt's about 30-some odd record types right\nnow, it's probably closer to 40 now.\n\n176\n00:09:04.457 --> 00:09:05.760\n&gt;&gt; [LAUGH]\n&gt;&gt; Server 16, but\n\n177\n00:09:05.760 --> 00:09:08.439\nany or all of those are collected\nunder a common folder,\n\n178\n00:09:08.439 --> 00:09:10.850\nand I'll have association\nwith this name space.\n\n179\n00:09:10.850 --> 00:09:14.030\nWe are going to create\nthe ability to security\n\n180\n00:09:14.030 --> 00:09:16.790\nsign this name space by walking\nthrough the DNS set wizard.\n\n181\n00:09:16.790 --> 00:09:21.300\nThat is what we are going to do, right,\nso trust-anchors become important.\n\n182\n00:09:21.300 --> 00:09:25.290\nThe trust anchor essentially is the DNS\nkey, if you want to think of it that way.\n\n183\n00:09:25.290 --> 00:09:29.770\nOr what we call the delegation signer,\nthe DS, right, is the acronym we use.\n\n184\n00:09:29.770 --> 00:09:33.320\nThat allows us,\nas a resource record, to signify and\n\n185\n00:09:33.320 --> 00:09:37.900\nspecify that we should then start this\nprocess, and have trust built around this.\n\n186\n00:09:37.900 --> 00:09:39.820\nAnd that we can validate the signature and\n\n187\n00:09:39.820 --> 00:09:42.470\nvalidate the identity of\nthe provider of this information.\n\n188\n00:09:42.470 --> 00:09:45.170\nSo let's go take a look,\nif you will join me here, all right,\n\n189\n00:09:45.170 --> 00:09:47.370\nso we're gonna right click on a zone.\n\n190\n00:09:47.370 --> 00:09:51.390\nI've chosen to do a zone called\nsecure.practicelabs.com.\n\n191\n00:09:51.390 --> 00:09:54.790\nSo I created that just prior\nto our discussion here,\n\n192\n00:09:54.790 --> 00:09:57.725\nyou can see I'm\nhighlighting the zone file.\n\n193\n00:09:57.725 --> 00:10:00.925\nI've got a couple of\nresources records there,\n\n194\n00:10:00.925 --> 00:10:03.968\na few host records I created,\nwww and www2.\n\n195\n00:10:03.968 --> 00:10:06.775\nThose will not be there by default,\nwe would create them, obviously.\n\n196\n00:10:06.775 --> 00:10:08.735\nBut the two records at the top, the SOA,\n\n197\n00:10:08.735 --> 00:10:13.520\nstart of authority, and the NS record,\nthose would be there by default.\n\n198\n00:10:13.520 --> 00:10:17.282\nThose are gonna give us the ability\nto be able to establish the zone.\n\n199\n00:10:17.282 --> 00:10:20.830\nThe SOA record gives us the ability to\nauthoritatively say, we've established\n\n200\n00:10:20.830 --> 00:10:25.150\nthis zone, we manage it, it is essentially\nours, and we are are authoritative for it.\n\n201\n00:10:25.150 --> 00:10:29.379\nAnd the NS record, there may be more\nthan one depending on the number of name\n\n202\n00:10:29.379 --> 00:10:33.744\nservers associated with the DNS zone,\nwill list the DNS domain controller or\n\n203\n00:10:33.744 --> 00:10:36.966\ncontrollers that are DNS servers,\nrather, excuse me,\n\n204\n00:10:36.966 --> 00:10:39.610\nI'm thinking Active Directory integrated.\n\n205\n00:10:39.610 --> 00:10:41.794\nDNS server or servers,\ntypically domain controllers,\n\n206\n00:10:41.794 --> 00:10:44.380\nwhen they're Active Directory integrated,\nthey will be.\n\n207\n00:10:44.380 --> 00:10:48.360\nBut it will list the DNS server\nthat is gonna be holding and\n\n208\n00:10:48.360 --> 00:10:51.810\ntherefore managing this DNS namespace,\nthis zone.\n\n209\n00:10:51.810 --> 00:10:57.080\nSo, securepracticelabs.com,\nright click and create, so I've done that.\n\n210\n00:10:57.080 --> 00:11:02.510\nI'm going to right click and now go in,\ngo to DNS SEC, you can see it right here.\n\n211\n00:11:02.510 --> 00:11:06.578\nAnd we're going to sign the zone,\nright, so, once we do that, or\n\n212\n00:11:06.578 --> 00:11:09.700\nI will kick off the wizard,\nI should say, by doing sign the zone.\n\n213\n00:11:09.700 --> 00:11:13.270\nAnd Mike mentioned that it's actually\nfairly streamlined, I'm just gonna click\n\n214\n00:11:13.270 --> 00:11:18.110\nwhile we're talking, fairly streamlined\nas a process to enable DNS SEC.\n\n215\n00:11:18.110 --> 00:11:24.700\nAnd it has been, to be fair, for most of\nthe lifetime of the DNS SEC solution.\n\n216\n00:11:24.700 --> 00:11:28.150\nThe wizard's not too difficult, and really\nyou'll see it's not very complicated.\n\n217\n00:11:28.150 --> 00:11:30.290\nBut we're able to go through,\nkick this off,\n\n218\n00:11:30.290 --> 00:11:33.540\nwe have our traditional welcome screen,\ndon't really worry about that.\n\n219\n00:11:33.540 --> 00:11:38.360\nThen we have signing options, DNS server\nsupports three different signing options.\n\n220\n00:11:38.360 --> 00:11:41.950\nYou'll see them listed here,\ncustomized zone signing parameters.\n\n221\n00:11:41.950 --> 00:11:45.280\nSign the zone with a new set\nof zone signing parameters.\n\n222\n00:11:45.280 --> 00:11:47.620\nSign the zone with parameters\nof an existing zone.\n\n223\n00:11:47.620 --> 00:11:51.220\nIf we already have a zone, I want to\nessentially use that as a template, copy,\n\n224\n00:11:51.220 --> 00:11:52.510\nI could do that, if you will.\n\n225\n00:11:52.510 --> 00:11:55.530\nI have to then specify the zone name,\nso I would select that, or\n\n226\n00:11:55.530 --> 00:11:57.240\nuse default zone settings.\n\n227\n00:11:57.240 --> 00:12:01.640\nIt's up to me to decide how to do that,\nwhat we're gonna do is go through,\n\n228\n00:12:01.640 --> 00:12:02.520\nI think I'm gonna do a new one.\n\n229\n00:12:02.520 --> 00:12:06.710\nLet me just make sure, and\nuse the default settings, all right, yeah.\n\n230\n00:12:06.710 --> 00:12:08.220\nSo I'm not gonna customize,\nbut let me show you,\n\n231\n00:12:08.220 --> 00:12:09.940\nif I wanted to customize,\nwhat we would do.\n\n232\n00:12:09.940 --> 00:12:12.720\nI'm just gonna use the default settings\nfor purposes of demonstration.\n\n233\n00:12:12.720 --> 00:12:17.020\nBut if wanted to customize, this is where\nyou get that wizard that goes from being\n\n234\n00:12:17.020 --> 00:12:22.020\nincredibly simple, to wow, how did we get\n2000 screens to get to the same place?\n\n235\n00:12:22.020 --> 00:12:24.950\nRemember the whole IPsec,\nthe romp through the,\n\n236\n00:12:24.950 --> 00:12:29.223\nwhat do they call those things,\nthe hedges where you've got that maze?\n\n237\n00:12:29.223 --> 00:12:30.034\n&gt;&gt; The maze?\n\n238\n00:12:30.034 --> 00:12:32.135\nYeah, I don't know what you call those,\nthat you can never get out of.\n\n239\n00:12:32.135 --> 00:12:32.911\n&gt;&gt; Yeah, I don't know.\n\n240\n00:12:32.911 --> 00:12:35.680\n&gt;&gt; There's a name, but I don't know\nwhat it is, because I don't own\n\n241\n00:12:35.680 --> 00:12:38.790\nan English estate and I don't have\nmuch money where I would have one.\n\n242\n00:12:38.790 --> 00:12:42.350\nAnd a gardening team that's dedicated to\ncreating one and maintaining it, right?\n\n243\n00:12:42.350 --> 00:12:44.270\nCan you imagine having that\non your honey to do list?\n\n244\n00:12:44.270 --> 00:12:46.880\n&gt;&gt; I know, it's like,\ngo out and trim the hedge maze?\n\n245\n00:12:46.880 --> 00:12:49.470\n&gt;&gt; Can you go out and mow the back 40 and\n\n246\n00:12:49.470 --> 00:12:51.530\ntake care of the hedge maze\nwhile you're out there, right?\n\n247\n00:12:51.530 --> 00:12:54.300\nSo whatever that thing is,\nwe did that with IPsec, and\n\n248\n00:12:54.300 --> 00:12:57.200\nour walkthroughs where Mike kept saying,\nlook, there's another wizard.\n\n249\n00:12:57.200 --> 00:13:00.390\nAnd we got up to four by the time\nwe configured everything, right?\n\n250\n00:13:00.390 --> 00:13:02.740\nSo it's not quite as extensive here,\nit's one wizard, but\n\n251\n00:13:02.740 --> 00:13:05.310\nthere are potentially a number of\nscreens that we're gonna customize.\n\n252\n00:13:05.310 --> 00:13:07.620\nSo let's just quickly take a look so\nwe know what's going on.\n\n253\n00:13:07.620 --> 00:13:10.310\nThe key master, this is like.\n\n254\n00:13:10.310 --> 00:13:11.294\n&gt;&gt; Ghostbusters?\n\n255\n00:13:11.294 --> 00:13:14.402\n&gt;&gt; Ghostbusters, Gozer the Gozarian and\nthe key master, right?\n\n256\n00:13:14.402 --> 00:13:19.181\nGhostbusters number one, cuz that was a\nfranchise that, you should know when it's\n\n257\n00:13:19.181 --> 00:13:22.965\ntime to stop, two was okay, but\nthen it just got crazy from there.\n\n258\n00:13:22.965 --> 00:13:26.312\nAll right, so the key master, right, this\nis the first thing we have to specify.\n\n259\n00:13:26.312 --> 00:13:29.423\nThe DNS server that generates the key\nmaster is, as you can see there,\n\n260\n00:13:29.423 --> 00:13:30.901\nthe DNS server that generates and\n\n261\n00:13:30.901 --> 00:13:34.789\nmanages the cryptographic keys to provide\nthe protection that we're talking about.\n\n262\n00:13:34.789 --> 00:13:37.518\nSo the key master is essentially the role,\nor the function,\n\n263\n00:13:37.518 --> 00:13:41.600\nis going to start generating these keys\nthat we're going to use to digitally sign.\n\n264\n00:13:41.600 --> 00:13:46.120\nSo the DNS server, this DNS server,\nPLABDC01, in your world it will\n\n265\n00:13:46.120 --> 00:13:50.630\nbe whatever server you're on that would\nhave that name, or select another server.\n\n266\n00:13:50.630 --> 00:13:53.130\nIn other words,\nI could go to a separate DNS server, and\n\n267\n00:13:53.130 --> 00:13:56.580\nmake that one the DNS keymaster for\nDNS SEC.\n\n268\n00:13:56.580 --> 00:13:59.006\nIt doesn't have to be the machine\nif signed in the zone on, but\n\n269\n00:13:59.006 --> 00:14:01.024\nI would have to have another\nDNS server available.\n\n270\n00:14:01.024 --> 00:14:03.688\n&gt;&gt; Maybe you've already gone through\nthis on another DNS server and\n\n271\n00:14:03.688 --> 00:14:04.663\nmade it the key master.\n\n272\n00:14:04.663 --> 00:14:07.480\nAnd this is your second one, and\nyou're gonna point it back to him.\n\n273\n00:14:07.480 --> 00:14:12.950\n&gt;&gt; Or you are deciding just from\na security thought process or\n\n274\n00:14:12.950 --> 00:14:15.130\nperspective, in terms of lockdown.\n\n275\n00:14:15.130 --> 00:14:17.730\nAnd the standard of the way\nthat you're doing this,\n\n276\n00:14:17.730 --> 00:14:21.590\nthat you want a standoff server that's\njust gonna act in that respect.\n\n277\n00:14:21.590 --> 00:14:24.740\nBut is not gonna be the server\nwhere the name space is, right?\n\n278\n00:14:24.740 --> 00:14:27.930\nBecause you may wanna separate those\nfunctions and keep that more secure.\n\n279\n00:14:27.930 --> 00:14:28.500\n&gt;&gt; Separate that, yeah.\n\n280\n00:14:28.500 --> 00:14:31.150\nLooks like that PKI file process\nwhere we isolate the root, and\n\n281\n00:14:31.150 --> 00:14:32.710\njust don't expose it unnecessarily.\n\n282\n00:14:32.710 --> 00:14:36.230\nSo there's several reasons why we may do\nthis, it's up to us, but just for purposes\n\n283\n00:14:36.230 --> 00:14:39.150\nof our walkthrough, our discussion,\nwe're not gonna bother with that.\n\n284\n00:14:39.150 --> 00:14:39.970\nBecause we're not gonna go out and\n\n285\n00:14:39.970 --> 00:14:43.440\nresolve another DNS server, so we're\njust gonna use the local server for now.\n\n286\n00:14:43.440 --> 00:14:48.880\nAll right so then key signing key, what's\ncalled the KSK, the key signing key.\n\n287\n00:14:48.880 --> 00:14:52.615\nSo the key signing key is\nthe authentication key used to sign\n\n288\n00:14:52.615 --> 00:14:53.665\nother keys.\n\n289\n00:14:53.665 --> 00:14:57.135\nEssentially, this is the key\nthat will be used to sign and\n\n290\n00:14:57.135 --> 00:15:02.750\nprovide authenticity for all the other\nkeys, so that's what this key does.\n\n291\n00:15:02.750 --> 00:15:06.410\nYou could think of this as\ncorresponding to, as it says there,\n\n292\n00:15:06.410 --> 00:15:09.710\nthe private key that is used to sign\none or more other sign in keys.\n\n293\n00:15:09.710 --> 00:15:13.700\nSo it's like a master key that allows\nus to enable and sign other keys.\n\n294\n00:15:13.700 --> 00:15:17.890\nThis is used to issue, and as part of\nthe issue of signing the zone, and\n\n295\n00:15:17.890 --> 00:15:20.410\npart of the whole process\nof signing the zone.\n\n296\n00:15:20.410 --> 00:15:24.250\nSo it says, click Next to configure\nthe KSK, key signing key, great.\n\n297\n00:15:25.670 --> 00:15:28.270\nSo the key signing key,\nconfigure one or more KSKs,\n\n298\n00:15:28.270 --> 00:15:30.600\nwe could have more than one,\nnotice we have to add.\n\n299\n00:15:30.600 --> 00:15:32.470\nWe'll be providing things\nlike an algorithm,\n\n300\n00:15:32.470 --> 00:15:36.260\na key length, the provider,\nthe rollover stage, right?\n\n301\n00:15:36.260 --> 00:15:39.160\nThings of that nature will be asked for,\nso let's just take a look here,\n\n302\n00:15:39.160 --> 00:15:40.090\nwe'll go Add.\n\n303\n00:15:40.090 --> 00:15:43.020\nAnd not a wizard, but\na configuration script, all right, so\n\n304\n00:15:43.020 --> 00:15:46.098\nwe do have a GUID here, all right,\na unique identifier for the key.\n\n305\n00:15:46.098 --> 00:15:50.010\nGenerate new sign-in keys, or\nuse pre-generated keys, we might have keys\n\n306\n00:15:50.010 --> 00:15:53.992\nthat, as Mike pointed out, we're doing\nthis and linking to another server.\n\n307\n00:15:53.992 --> 00:15:57.570\nThose keys may have already have been\ngenerated, we may be bringing them in,\n\n308\n00:15:57.570 --> 00:15:59.740\nso, we may use pre-generated keys, right?\n\n309\n00:15:59.740 --> 00:16:01.302\nSo we may be able to go there,,\n\n310\n00:16:01.302 --> 00:16:04.560\nwe'd have to then obviously\nspecify an identifier for the key.\n\n311\n00:16:04.560 --> 00:16:08.362\nSo we don't have those, so we'll\nobviously generate them in our example.\n\n312\n00:16:08.362 --> 00:16:13.686\nCryptographic algorithm,\nwe have a bunch of choices here, SHA-256.\n\n313\n00:16:13.686 --> 00:16:17.999\nI think I mentioned in one of our\nother episodes that, in Server 16,\n\n314\n00:16:17.999 --> 00:16:22.400\nwe've made a change away from SHA-1,\nwhich is really SHA-160.\n\n315\n00:16:22.400 --> 00:16:25.676\nAs our default signing\nalgorithm to SHA-256.\n\n316\n00:16:25.676 --> 00:16:28.812\nThat's now the new default standard for\nthis.\n\n317\n00:16:28.812 --> 00:16:31.191\nSo you'll see that as our default choice.\n\n318\n00:16:31.191 --> 00:16:34.968\nRSA is the algorithm for\nthe encryption portion.\n\n319\n00:16:34.968 --> 00:16:39.270\nSHA, the algorithm for\nthe digital signature integrity portion.\n\n320\n00:16:39.270 --> 00:16:41.010\nSo we have different options here.\n\n321\n00:16:41.010 --> 00:16:47.295\nECD, SAP, RSA, SHA-1, NSEC3, 5, 12, you\nmake your choice whatever you're gonna do.\n\n322\n00:16:47.295 --> 00:16:52.245\nBut our default is SHA-256,\n2048 bit size or\n\n323\n00:16:52.245 --> 00:16:58.408\nkey length bit size for the key,\na standard for RSA as our default.\n\n324\n00:16:58.408 --> 00:16:59.711\nBut again, look at that range, right?\n\n325\n00:16:59.711 --> 00:17:02.380\nWe go up to 4,096.\n\n326\n00:17:02.380 --> 00:17:04.130\nSo we can make a choice there.\n\n327\n00:17:04.130 --> 00:17:06.430\nWe talked before in some\nof the other episodes,\n\n328\n00:17:06.430 --> 00:17:11.320\nin earlier discussions about the fact\nthat as we increase that key size, or\n\n329\n00:17:11.320 --> 00:17:15.140\nincrease the key length,\nthe bits associated with the key.\n\n330\n00:17:15.140 --> 00:17:18.190\nThe value and strength of that\nprotection goes up, right?\n\n331\n00:17:18.190 --> 00:17:20.245\nSo, just you wanna be thinking about that.\n\n332\n00:17:20.245 --> 00:17:24.789\nBut people often don't really necessarily\nequate these two properly and\n\n333\n00:17:24.789 --> 00:17:28.940\nget the idea that's really behind\nthis thought process, right.\n\n334\n00:17:28.940 --> 00:17:30.514\nAnd so let's just take a second and\n\n335\n00:17:30.514 --> 00:17:33.343\nlet's just make sure we're clear\non the choice we make here.\n\n336\n00:17:33.343 --> 00:17:37.655\nIf we We're setting up encryption,\nwhich we are doing as part of this, right.\n\n337\n00:17:37.655 --> 00:17:42.209\nAnd we wanted to say, we're going to\nencrypt data with this key hypothetically,\n\n338\n00:17:42.209 --> 00:17:44.060\nthis KSK, this key signing key.\n\n339\n00:17:44.060 --> 00:17:48.410\nAnd we're gonna have to safeguard\nthat data for a retention period,\n\n340\n00:17:48.410 --> 00:17:53.135\nthe term we use to talk about how long\nthe data should be under protection and\n\n341\n00:17:53.135 --> 00:17:54.719\nmain securely, right?\n\n342\n00:17:54.719 --> 00:17:57.906\nThe retention period of\nlet's say ten years.\n\n343\n00:17:57.906 --> 00:18:00.703\nLet's just keep the math really simple,\nand high level, right, ten years.\n\n344\n00:18:00.703 --> 00:18:04.866\nOkay, so if we know we have a ten\nyear arise in a requirement for\n\n345\n00:18:04.866 --> 00:18:06.620\na retention period.\n\n346\n00:18:06.620 --> 00:18:09.580\nAs a security professional, what I have\nto be thinking about in my mind is,\n\n347\n00:18:09.580 --> 00:18:12.350\nI have to choose an encryption solution.\n\n348\n00:18:12.350 --> 00:18:14.640\nWhole package,\neverything associated with it.\n\n349\n00:18:14.640 --> 00:18:17.132\nThe cryptosystem is what we call that.\n\n350\n00:18:17.132 --> 00:18:21.310\nThe cryptosystem that I'm gonna\nuse must be strong enough\n\n351\n00:18:21.310 --> 00:18:25.800\nto withstand any kind of attack,\nboth attacks I already know about, and\n\n352\n00:18:25.800 --> 00:18:29.285\nattacks I can't envision cuz\nthey haven't been invented yet.\n\n353\n00:18:29.285 --> 00:18:32.660\nIt's getting a little outlandish and\ncrazy as we go, right.\n\n354\n00:18:32.660 --> 00:18:35.995\nSo you're saying, Adam, just to be clear,\nis what you're hopefully thinking in your\n\n355\n00:18:35.995 --> 00:18:37.766\nmind, right,\nbefore you just call me crazy.\n\n356\n00:18:37.766 --> 00:18:39.993\n&gt;&gt; [LAUGH]\n&gt;&gt; Hopefully you're thinking, okay,\n\n357\n00:18:39.993 --> 00:18:41.294\njust so I'm clear, right.\n\n358\n00:18:41.294 --> 00:18:41.882\n[LAUGH] Too late,\nyou open your mouth, right?\n\n359\n00:18:41.882 --> 00:18:44.260\n&gt;&gt; [LAUGH]\n&gt;&gt; So just to be clear, right?\n\n360\n00:18:44.260 --> 00:18:45.981\nIt's what you should\nbe thinking your mind.\n\n361\n00:18:45.981 --> 00:18:48.941\nYou're telling me that I\nhave to figure out a way\n\n362\n00:18:48.941 --> 00:18:53.751\nto not only be prepared to anticipating\nfor, attacks had already known, but\n\n363\n00:18:53.751 --> 00:18:56.940\nattacks that are unknown for\na period of ten years.\n\n364\n00:18:56.940 --> 00:19:00.521\nAnd I have to make choices that would be\ngood enough to do that in order to be\n\n365\n00:19:00.521 --> 00:19:01.237\nsuccessful.\n\n366\n00:19:01.237 --> 00:19:06.138\nRight, and I am actually saying that, I am\n100% saying that, and let me tell you why.\n\n367\n00:19:06.138 --> 00:19:07.820\nAnd this is important for\nyou to understand.\n\n368\n00:19:07.820 --> 00:19:10.599\nThe reason I'm saying\nthat is that number one,\n\n369\n00:19:10.599 --> 00:19:14.925\nthere will be potentially new attach\ntypes that are created all the time.\n\n370\n00:19:14.925 --> 00:19:17.886\nAlthough we may not always see them,\nhear them, or have them thrown at us,\n\n371\n00:19:17.886 --> 00:19:19.280\naround breaking cryptosystems.\n\n372\n00:19:19.280 --> 00:19:21.400\nThis is just the way things go.\n\n373\n00:19:21.400 --> 00:19:24.450\nWe invent new cryptosystem components,\nand the bad actors go,\n\n374\n00:19:24.450 --> 00:19:26.210\nlet me figure out how to break those.\n\n375\n00:19:26.210 --> 00:19:30.311\nSometimes they use tried and true methods,\nother times they come up with a new and\n\n376\n00:19:30.311 --> 00:19:33.946\ninnovative way, base on some new\ntechnology to see if they can do that.\n\n377\n00:19:33.946 --> 00:19:36.205\nThat's not our concern,\nthat's just a fact of life and\n\n378\n00:19:36.205 --> 00:19:39.233\nthat's just what you get paid to do,\nif you're a security professional,\n\n379\n00:19:39.233 --> 00:19:42.565\nis sit up at night and agonize over\nthings you have no control over, right?\n\n380\n00:19:42.565 --> 00:19:44.217\nWelcome to the real world, boys and girls.\n\n381\n00:19:44.217 --> 00:19:46.355\nAll right, so you're not gonna\nworry too much about that.\n\n382\n00:19:46.355 --> 00:19:49.375\nWhat you're really gonna worry about and\nwhat I'm stressing this point for\n\n383\n00:19:49.375 --> 00:19:51.765\nyou is the reason or\nrather the following reason.\n\n384\n00:19:51.765 --> 00:19:55.685\nYou've gotta make a decision here\nwithin the boundaries of normalcy and\n\n385\n00:19:55.685 --> 00:19:56.935\navailability to you.\n\n386\n00:19:56.935 --> 00:20:00.890\nThat is gonna be the most\ncoherent in there for the most\n\n387\n00:20:00.890 --> 00:20:04.805\nlikely to be successful choice you can\nmake, given the parameters right now.\n\n388\n00:20:04.805 --> 00:20:08.557\nTo be honest, there's no way for you to\nanticipate what kind of attacks you'll\n\n389\n00:20:08.557 --> 00:20:11.583\nface in the next ten years,\nlet alone the next ten days, right?\n\n390\n00:20:11.583 --> 00:20:16.344\nSo the reality is, you can't really plan\nfor that, except to say that I know as\n\n391\n00:20:16.344 --> 00:20:20.894\na baseline assumption, that the stronger\nI make my protections upfront,\n\n392\n00:20:20.894 --> 00:20:23.514\nthe more likely they\nare to last over time.\n\n393\n00:20:23.514 --> 00:20:26.155\nNow that's important but\nthat's not the whole puzzle here.\n\n394\n00:20:26.155 --> 00:20:29.125\nBecause people will usually get\nthat right, stop right there,\n\n395\n00:20:29.125 --> 00:20:32.543\nthrow down the microphone, claim victory,\nand then walk away, right?\n\n396\n00:20:32.543 --> 00:20:33.960\nYes, exactly, drop the mic, right.\n\n397\n00:20:33.960 --> 00:20:39.680\nSo, they will do that, right, but\nif you do that you've already lost, right?\n\n398\n00:20:39.680 --> 00:20:42.353\nThe bad people already come and\ntaken your cheese away from your,\n\n399\n00:20:42.353 --> 00:20:44.846\nwhatever that corny sales thing\nis they talk about, right?\n\n400\n00:20:44.846 --> 00:20:45.780\nWho moved my cheese?\n\n401\n00:20:45.780 --> 00:20:47.524\n&gt;&gt; That's right.\n&gt;&gt; Whatever that is, right?\n\n402\n00:20:47.524 --> 00:20:50.666\nIn other words, you've already made\nthe most fundamentally flawed decision you\n\n403\n00:20:50.666 --> 00:20:53.800\ncould possibly make as a security\nprofessional, as an IT professional.\n\n404\n00:20:53.800 --> 00:20:56.070\nBecause you forgot\nthe most important thing.\n\n405\n00:20:56.070 --> 00:20:59.099\nWhich is, things do change, right.\n\n406\n00:20:59.099 --> 00:21:03.994\nAnd as a result while this protection\nlevel may be valid today 2,048\n\n407\n00:21:03.994 --> 00:21:08.505\nbits pretty significant pretty\nhefty pretty strong protection.\n\n408\n00:21:08.505 --> 00:21:13.881\nRSA algorithm 2,048 bits has not in any\nway shape or form at this moment in time,\n\n409\n00:21:13.881 --> 00:21:19.210\nlate 2017 as we're shooting this content\nputting this episode out for you.\n\n410\n00:21:19.210 --> 00:21:23.632\nPerhaps watching it live, perhaps looking\nat it later, whenever you're viewing this.\n\n411\n00:21:23.632 --> 00:21:29.160\nHas not been shown to be susceptible to\nany known attacks as of today, as of now.\n\n412\n00:21:29.160 --> 00:21:32.036\nWhat that will look like over\nthe next ten years, who knows?\n\n413\n00:21:32.036 --> 00:21:35.489\nThe pundits say it'll probably be fine but\neventually somebody will figure out how\n\n414\n00:21:35.489 --> 00:21:38.120\nto break the RSA algorithm,\nit's a matter of time.\n\n415\n00:21:38.120 --> 00:21:40.280\nWe don't know when that will happen, but\n\n416\n00:21:40.280 --> 00:21:42.950\nwhat I\"m trying to suggest to you\nis you can't worry about that.\n\n417\n00:21:42.950 --> 00:21:47.314\nBut what you can anticipate and therefore\nplan for, is the fact that it is likely\n\n418\n00:21:47.314 --> 00:21:51.111\nthat over time the protection\nafforded by this choice may diminish.\n\n419\n00:21:51.111 --> 00:21:55.141\nAnd so instead of just saying, I'm good\nand I'm not gonna worry about this,\n\n420\n00:21:55.141 --> 00:21:59.420\nlet's make sure that we think about not\nonly choosing a setting up there that's as\n\n421\n00:21:59.420 --> 00:22:01.364\nstrong as realistically possible.\n\n422\n00:22:01.364 --> 00:22:04.091\nMike and I in prior episodes have\ntalked to you about the fact,\n\n423\n00:22:04.091 --> 00:22:07.553\nthat we need to balance of the strength\nof the protection against the offset for\n\n424\n00:22:07.553 --> 00:22:10.086\nperformance, and so\nyou wanna make good choices there.\n\n425\n00:22:10.086 --> 00:22:13.908\nWould it be good just to jump right to\n4096, go to the nuclear option and say,\n\n426\n00:22:13.908 --> 00:22:16.058\nI'm just gonna protect\nthe heck out of that?\n\n427\n00:22:16.058 --> 00:22:17.407\nYeah, it would be, but\n\n428\n00:22:17.407 --> 00:22:21.530\nthe reality is the performance impact\nmay not necessarily be valuable.\n\n429\n00:22:22.560 --> 00:22:26.190\nFor you in terms of protection gained\nyou may be on the losing end of that.\n\n430\n00:22:26.190 --> 00:22:28.980\nOr you may say you know,\nI'm okay with that because\n\n431\n00:22:28.980 --> 00:22:32.787\nIll take the performance hit up front as\nthe keys are generated and be applied, but\n\n432\n00:22:32.787 --> 00:22:34.895\nthen after that it's probably\nnot that big of a deal.\n\n433\n00:22:34.895 --> 00:22:35.778\nIt's up to you to decide.\n\n434\n00:22:35.778 --> 00:22:40.439\nWhat I'm suggesting is,\nmake a choice here, but then be smart and\n\n435\n00:22:40.439 --> 00:22:45.852\ngo ahead and ensure that you are looking\nat the DNS key RRSet validity period,\n\n436\n00:22:45.852 --> 00:22:48.952\nsignature validity period there in hours.\n\n437\n00:22:48.952 --> 00:22:54.170\nAnd key roll-over down here,\nfrequency and days, right down here.\n\n438\n00:22:54.170 --> 00:22:57.181\nAnd, deciding how you're gonna\nmanipulate these settings.\n\n439\n00:22:57.181 --> 00:22:58.901\nSo, what I'm suggesting is,\n\n440\n00:22:58.901 --> 00:23:02.938\nthat it's the affordability of these\nadditional protection options,\n\n441\n00:23:02.938 --> 00:23:07.160\ncumulatively added, that make\nthe choice on the top really important.\n\n442\n00:23:07.160 --> 00:23:11.430\nBecause if you choose a lower\nlevel protection bid strength for\n\n443\n00:23:11.430 --> 00:23:13.800\nyour algorithm based on\nperformance concerns.\n\n444\n00:23:13.800 --> 00:23:16.130\nBut then you roll the keys\nover more frequently, and\n\n445\n00:23:16.130 --> 00:23:18.560\nas a result don't allow them\nto stay out there as long.\n\n446\n00:23:18.560 --> 00:23:22.321\nYou're offsetting the lack of overall\nprotection, because you're limiting\n\n447\n00:23:22.321 --> 00:23:25.642\nthe usage windows, then you're\nstill making good choices, right.\n\n448\n00:23:25.642 --> 00:23:28.734\nAnd so this is something to consider and\nto think about, because again, yeah,\n\n449\n00:23:28.734 --> 00:23:30.730\nmay just run through here and\naccept the defaults.\n\n450\n00:23:30.730 --> 00:23:36.610\nWell, that means that the DNS key RR set,\nRR set resource record set the total group\n\n451\n00:23:36.610 --> 00:23:42.665\nof resource records that we're signing and\nusing as part of the DNS key process here.\n\n452\n00:23:42.665 --> 00:23:44.586\nValidity period 168 hours.\n\n453\n00:23:44.586 --> 00:23:47.871\nWe'll replicate this private key out\nto all DNS servers authoritative for\n\n454\n00:23:47.871 --> 00:23:48.401\nthis zone.\n\n455\n00:23:48.401 --> 00:23:51.040\nThat just means we'll copy the key out and\nmake it available everywhere.\n\n456\n00:23:51.040 --> 00:23:54.523\nBut then key rollover,\nenable automatic key rollover by default.\n\n457\n00:23:54.523 --> 00:23:58.815\nWe'll roll the key over, change the key,\nbut we change it roughly every two years.\n\n458\n00:23:58.815 --> 00:24:02.203\n365 times 2 is 700 and whatever.\n\n459\n00:24:02.203 --> 00:24:05.059\n755 is the value there it's roughly,\njust about two years.\n\n460\n00:24:05.059 --> 00:24:10.860\nNow a two year validity period for the key\nmay or may not be a good idea right?\n\n461\n00:24:10.860 --> 00:24:13.756\nRight now two years with\nan RSA 2048 bit selection,\n\n462\n00:24:13.756 --> 00:24:16.107\nyou should be able to do\nthat with no trouble.\n\n463\n00:24:16.107 --> 00:24:18.187\nNobody shouldn't feel not\nbe able to modify, or\n\n464\n00:24:18.187 --> 00:24:21.140\nget access to that key in a way\nthat's gonna prove to be problematic.\n\n465\n00:24:21.140 --> 00:24:22.710\nBut we don't know.\n\n466\n00:24:22.710 --> 00:24:23.930\nShould we lower that value?\n\n467\n00:24:23.930 --> 00:24:26.650\nMaybe roll the keys over more frequently,\nnot expose them as long?\n\n468\n00:24:26.650 --> 00:24:29.140\nThat's something that you\nwould have to decide, right?\n\n469\n00:24:29.140 --> 00:24:31.520\nBut what I'm suggesting is,\nmake good choices here.\n\n470\n00:24:31.520 --> 00:24:33.520\nThink about the logic\nof what you're doing.\n\n471\n00:24:33.520 --> 00:24:37.070\nJust because a vendor says, this is the\ndefault setting, Mike called this out or\n\n472\n00:24:37.070 --> 00:24:39.580\ntalked about this in one\nof our prior discussions,\n\n473\n00:24:39.580 --> 00:24:41.500\ndoesn't mean it's always a good idea.\n\n474\n00:24:41.500 --> 00:24:42.950\nIt just means it's the middle of the road.\n\n475\n00:24:42.950 --> 00:24:44.922\nYou actually mentioned at the beginning\nof this episode right when we\n\n476\n00:24:44.922 --> 00:24:45.780\nwe're talking about.\n\n477\n00:24:45.780 --> 00:24:48.291\nThe default values for cash or\n\n478\n00:24:48.291 --> 00:24:53.922\nthe cash response limiting cash\nlocking and all that stuff right?\n\n479\n00:24:53.922 --> 00:24:57.750\nSaid hey, we do have values for those,\nthey afford a certain level of protection.\n\n480\n00:24:57.750 --> 00:25:02.490\nYou may wanna up or significantly\ndegrade that based on your issues.\n\n481\n00:25:02.490 --> 00:25:04.273\nI'm just saying that you\nwanna do the same thing or\n\n482\n00:25:04.273 --> 00:25:05.900\nat least think about the same thing here.\n\n483\n00:25:05.900 --> 00:25:07.130\nThat's the smart play, right?\n\n484\n00:25:07.130 --> 00:25:08.056\nThat's the play that\nyou wanna think about.\n\n485\n00:25:08.056 --> 00:25:10.550\nSo, we do have some values here, right?\n\n486\n00:25:10.550 --> 00:25:11.850\nWe just talked about what they are.\n\n487\n00:25:11.850 --> 00:25:15.130\nWe'll leave the defaults in place just for\npurposes of our discussion, but\n\n488\n00:25:15.130 --> 00:25:16.990\nif I wanted to make a change here.\n\n489\n00:25:16.990 --> 00:25:21.430\nMaybe say, 120 on rollover,\ngreat let's do that,\n\n490\n00:25:21.430 --> 00:25:24.600\nlet's drop that down by six-sevenths and\njust go ahead and\n\n491\n00:25:24.600 --> 00:25:26.900\ncut that to the bone or\nwhatever that would be, right?\n\n492\n00:25:26.900 --> 00:25:27.820\nIt's not really six-sevenths,\n\n493\n00:25:27.820 --> 00:25:29.510\nit's probably more like,\nwell close to it anyway.\n\n494\n00:25:29.510 --> 00:25:30.990\n&gt;&gt; Close enough.\n&gt;&gt; All right, so you get the idea.\n\n495\n00:25:30.990 --> 00:25:32.737\nSo I'm gonna go ahead, I'm gonna click OK.\n\n496\n00:25:32.737 --> 00:25:33.910\nSo we got that set up in theory for\nkey signing key.\n\n497\n00:25:33.910 --> 00:25:37.930\nWe'll actually stack these\nup if we need more than one.\n\n498\n00:25:37.930 --> 00:25:40.690\nMaximum of three by the way\ncan be created here.\n\n499\n00:25:40.690 --> 00:25:42.060\nSo just make sure you're aware of that.\n\n500\n00:25:42.060 --> 00:25:45.820\nThat's one of those pieces of minutiae\nthat may be helpful for you on the exam.\n\n501\n00:25:45.820 --> 00:25:50.299\nThen we have what's called the ZSK\nthe zone signing key, all right?\n\n502\n00:25:50.299 --> 00:25:53.480\nI need a tongue transplant\nto get through this one.\n\n503\n00:25:53.480 --> 00:25:57.320\nAll right, so this is the authentication\nkey that corresponds to the private key\n\n504\n00:25:57.320 --> 00:25:58.850\nused to sign the zone data.\n\n505\n00:25:58.850 --> 00:26:02.880\nIt says typically, ZSKs are rolled\nover more frequently than KSKs.\n\n506\n00:26:02.880 --> 00:26:06.451\nRemember the KSK is essentially that\nprivate key that's gonna be kept secure,\n\n507\n00:26:06.451 --> 00:26:09.754\nmuch like the root CA that's kept\noffline that you're not gonna see, and\n\n508\n00:26:09.754 --> 00:26:11.470\nwe're not gonna expose that.\n\n509\n00:26:11.470 --> 00:26:14.760\nLeaving that in place for longer as I was\nsuggesting may or may not be a good idea,\n\n510\n00:26:14.760 --> 00:26:15.900\nthat's up to you.\n\n511\n00:26:15.900 --> 00:26:19.540\nBut definitely wanna have a more\naggressive roll over strategy for\n\n512\n00:26:19.540 --> 00:26:22.470\nthe ZSK's,\ncuz these are gonna be exposed, right?\n\n513\n00:26:22.470 --> 00:26:26.210\nAs a result we don't wanna show those and\nhave them sitting out there, and\n\n514\n00:26:26.210 --> 00:26:28.160\nhave somebody hacking away\nat them all the time.\n\n515\n00:26:28.160 --> 00:26:30.250\nSo, we just wanna know that and\nthink about that.\n\n516\n00:26:30.250 --> 00:26:31.660\nAll right, so we're gonna click Next here.\n\n517\n00:26:31.660 --> 00:26:33.458\nSame idea, it's basically the same wizard.\n\n518\n00:26:33.458 --> 00:26:34.480\nWe're just gonna go through,\n\n519\n00:26:34.480 --> 00:26:38.380\nmaximum of three of these as well\nto match each KSK that we create.\n\n520\n00:26:39.570 --> 00:26:43.108\nAll right, so we can go in,\nyou'll see here a key length.\n\n521\n00:26:43.108 --> 00:26:48.530\nHere is 1024 instead of 2048, cuz the keys\ndon't last or stick around as long.\n\n522\n00:26:48.530 --> 00:26:52.458\nThey don't need to be a strongly protected\nso it's up to us to decide that, but\n\n523\n00:26:52.458 --> 00:26:53.780\nwe may wanna modify that.\n\n524\n00:26:53.780 --> 00:26:55.390\nAnd say, you know what?\n\n525\n00:26:55.390 --> 00:26:57.990\nI want same level of protection as my KSK.\n\n526\n00:26:57.990 --> 00:27:00.652\nLet's put that up to 2048, no problem.\n\n527\n00:27:00.652 --> 00:27:05.250\nAll right, so we have our DNS\nsymmetry validity period right 168,\n\n528\n00:27:05.250 --> 00:27:10.960\nzone record validity period, 240, rollover\nautomatically set to 90 instead of 755.\n\n529\n00:27:10.960 --> 00:27:13.430\nSo much more aggressive in that respect,\nright?\n\n530\n00:27:13.430 --> 00:27:14.640\nYes, there is the number three.\n\n531\n00:27:14.640 --> 00:27:17.980\nUsually number four comes after that,\nnumber two comes before for that, and\n\n532\n00:27:17.980 --> 00:27:20.680\nthen of course there's that magical number\none that I was talking about with you.\n\n533\n00:27:20.680 --> 00:27:22.700\nThat's right there in the middle\nwhen you are doing that, so\n\n534\n00:27:22.700 --> 00:27:23.738\njust keep that in mind as well.\n\n535\n00:27:23.738 --> 00:27:25.502\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, thank you for\n\n536\n00:27:25.502 --> 00:27:27.980\ngiving me the heads up on that,\nI appreciate it.\n\n537\n00:27:27.980 --> 00:27:29.583\nAll right, Mike everybody.\n\n538\n00:27:29.583 --> 00:27:31.543\n[CROSSTALK]\n&gt;&gt; I'll be back this afternoon.\n\n539\n00:27:31.543 --> 00:27:33.010\n[LAUGH]\n&gt;&gt; He'll be here all week.\n\n540\n00:27:33.010 --> 00:27:35.134\nAll right, as long as you just\nkeep wearing that red shirt.\n\n541\n00:27:35.134 --> 00:27:36.337\n&gt;&gt; That's right.\n&gt;&gt; All right, so\n\n542\n00:27:36.337 --> 00:27:38.840\nnext secure what we call NSEC.\n\n543\n00:27:38.840 --> 00:27:43.410\nOur records NSEC, now NSEC3,\noccurred more updated version of NSEC.\n\n544\n00:27:43.410 --> 00:27:46.470\nAll these resource records\nprovide authentication or\n\n545\n00:27:46.470 --> 00:27:48.010\nauthenticated denial of existence.\n\n546\n00:27:48.010 --> 00:27:50.620\nMeaning essentially, I wish I would just\nsay this is how you prove you're alive.\n\n547\n00:27:50.620 --> 00:27:53.745\nAs supposed to saying that,\nwe're authenticating you or\n\n548\n00:27:53.745 --> 00:27:55.860\nauthenticating denial of existence.\n\n549\n00:27:55.860 --> 00:27:56.895\nMeaning, you can't say\nthat you're not alive.\n\n550\n00:27:56.895 --> 00:27:58.783\n&gt;&gt; [LAUGH]\n&gt;&gt; You're essentially you are who you\n\n551\n00:27:58.783 --> 00:27:59.340\nsay you are.\n\n552\n00:27:59.340 --> 00:28:01.170\nIt would just be so\nmuch cheesier if they just said yeah,\n\n553\n00:28:01.170 --> 00:28:04.090\nthis is how you prove you're\nactually legitimate, right?\n\n554\n00:28:04.090 --> 00:28:08.665\nRight, so NSEC3, newer updated version\nof this, so we're gonna use NSEC3.\n\n555\n00:28:08.665 --> 00:28:13.978\nNSEC is older, the recommendation is to\nuse NSEC3 it's a little bit more updated\n\n556\n00:28:13.978 --> 00:28:19.638\nfeatures sets that are supported, so the\nnewer features associated with the DNSSEC.\n\n557\n00:28:19.638 --> 00:28:23.711\nSo, we're gonna be able to do this,\ngenerate a news at random salt of length.\n\n558\n00:28:23.711 --> 00:28:28.574\nThis is gonna generate a IV initialisation\nvector random value, that we're gonna\n\n559\n00:28:28.574 --> 00:28:33.605\ninclude in the iterations of this and that\nway, we add some additional protections.\n\n560\n00:28:33.605 --> 00:28:35.161\nRandomness this is\na general rule of thumb,\n\n561\n00:28:35.161 --> 00:28:37.950\nit's always a good thing when we're\ndealing with cryptographic functions.\n\n562\n00:28:37.950 --> 00:28:41.223\nAnd the more randomness we have\nthe more unknowns we introduce,\n\n563\n00:28:41.223 --> 00:28:44.870\nthe harder it is for the bad actor\nto figure all those variables out.\n\n564\n00:28:44.870 --> 00:28:48.133\nPut them in the right order, and\nget them correct within the time frame\n\n565\n00:28:48.133 --> 00:28:50.910\nto break the encryption or\nbreak the protective measures.\n\n566\n00:28:50.910 --> 00:28:53.502\nAnd so things like NSEC3\nhelp us to achieve that and\n\n567\n00:28:53.502 --> 00:28:55.380\nthat's why this is important.\n\n568\n00:28:55.380 --> 00:28:57.354\nDo you use NSEC3 versus\nNSEC when you do this?\n\n569\n00:28:57.354 --> 00:28:59.650\n&gt;&gt; I usually leave it on NSEC3.\n\n570\n00:28:59.650 --> 00:29:02.280\nI don't know if there's any\nreally good reason to roll back.\n\n571\n00:29:02.280 --> 00:29:06.009\nLike I've never seen compatibility issues,\nbut I do like the way it gives you,\n\n572\n00:29:06.009 --> 00:29:09.795\nnow one of the things with DNSSEC is,\nhey we're talking about digitally signing\n\n573\n00:29:09.795 --> 00:29:13.380\nthese records so that you can prove that\nyou got it from the right DNS server.\n\n574\n00:29:13.380 --> 00:29:16.500\nBut what if the response\nis name not found?\n\n575\n00:29:16.500 --> 00:29:18.037\nHow do I digitally sign nothing?\n\n576\n00:29:18.037 --> 00:29:21.200\nSo DNS so-\n&gt;&gt; DNSSEC, NSEC, NSEC3 or DNSSEC.\n\n577\n00:29:21.200 --> 00:29:27.327\n&gt;&gt; So NSEC three, gives us something that\nwe can sign and respond in those cases.\n\n578\n00:29:27.327 --> 00:29:28.912\n&gt;&gt; All right, so\nthen we have our trust-anchors,\n\n579\n00:29:28.912 --> 00:29:30.350\nI mentioned that TA is the trust-anchors.\n\n580\n00:29:30.350 --> 00:29:33.490\nEnable distribution of trust-anchors for\nthis zone.\n\n581\n00:29:33.490 --> 00:29:36.290\nEnable automatic update of\ntrust-anchors on key-rollover,\n\n582\n00:29:36.290 --> 00:29:37.730\nwe reference an RFC for that.\n\n583\n00:29:37.730 --> 00:29:40.630\nYou can look up the RFC standards\nto see more about that.\n\n584\n00:29:40.630 --> 00:29:44.590\nNotice here enable distribution\nof trust anchors for the zone.\n\n585\n00:29:44.590 --> 00:29:46.240\nNot chosen by default.\n\n586\n00:29:46.240 --> 00:29:47.480\nWhen we choose this,\n\n587\n00:29:47.480 --> 00:29:50.340\nit gives us a little warning here at\nleast some information to be aware of.\n\n588\n00:29:50.340 --> 00:29:51.710\nIf this is also the main controller,\n\n589\n00:29:51.710 --> 00:29:54.645\nwhich traditionally as we said,\nit usually will be trust anchors for\n\n590\n00:29:54.645 --> 00:29:58.055\nthe zone, will be distributed to all other\nDNS servers running on domain controllers.\n\n591\n00:29:58.055 --> 00:30:01.875\nIn other words, AD distributed or\nAD integrated DNS.\n\n592\n00:30:01.875 --> 00:30:03.583\nThe DNS server is not a domain controller.\n\n593\n00:30:03.583 --> 00:30:07.047\nTrust anchor for the zone will be added\nonly to the local trust anchor store.\n\n594\n00:30:07.047 --> 00:30:08.687\nSelecting this option\nenables DNSSEC it says,\n\n595\n00:30:08.687 --> 00:30:12.757\nvalidation for the zone on all servers\nwhere trust anchors are distributed.\n\n596\n00:30:12.757 --> 00:30:14.417\nSo we need to think about that.\n\n597\n00:30:14.417 --> 00:30:16.266\nBut we just are being told that if\n\n598\n00:30:16.266 --> 00:30:21.064\nthis is an Active Directory Integrated\nDNS Structure, we're gonna distribute to\n\n599\n00:30:21.064 --> 00:30:25.387\nevery DNS server in AD throughout\nthe forest not throughout the domain.\n\n600\n00:30:25.387 --> 00:30:26.416\nThroughout the forest, so\n\n601\n00:30:26.416 --> 00:30:29.470\njust make sure you're aware of that cuz we\nhave to be able to validate that trust.\n\n602\n00:30:29.470 --> 00:30:33.240\nAnd validate these records anywhere in\norder to be able to use the system.\n\n603\n00:30:33.240 --> 00:30:34.820\nSo it is important for\nus to be aware of that.\n\n604\n00:30:34.820 --> 00:30:39.660\nAll right then, assigning and\npolling parameters, right?\n\n605\n00:30:39.660 --> 00:30:42.510\nConfiguring values for\nDNS signing and polling.\n\n606\n00:30:42.510 --> 00:30:46.899\nWe talked about the use of SHA-1 and,\nor SHA-246, as our default choice for\n\n607\n00:30:46.899 --> 00:30:49.960\nServer 16 versus our backwards\ncompatibility issue.\n\n608\n00:30:49.960 --> 00:30:54.128\nThe TTL for DS records and\nDNS key, resource records,\n\n609\n00:30:54.128 --> 00:30:58.290\n3,600 in seconds, so one hour by default.\n\n610\n00:30:58.290 --> 00:31:01.960\nSecure delegation polling period,\nand our signature\n\n611\n00:31:01.960 --> 00:31:05.510\ninception offset from the current time,\nin other words, it's signature's created.\n\n612\n00:31:05.510 --> 00:31:08.270\nAll these values, typically you're leaving\nthem at the default, but that's up to you.\n\n613\n00:31:08.270 --> 00:31:12.461\nThe only one you may choose to modify\nwould, in theory, be the signature choice,\n\n614\n00:31:12.461 --> 00:31:13.970\nthe algorithm here.\n\n615\n00:31:13.970 --> 00:31:16.620\nAll right, so we'll click Next, okay?\n\n616\n00:31:16.620 --> 00:31:17.620\nWe've got that done.\n\n617\n00:31:17.620 --> 00:31:22.120\nNow this is the walk-through if we had to\ndo all this custom configuration, right?\n\n618\n00:31:22.120 --> 00:31:25.670\nIf instead what we wanted to do was just\n\n619\n00:31:25.670 --> 00:31:30.240\nto show you how easy it could be to Mike's\npoint about it being a lot easier, right.\n\n620\n00:31:30.240 --> 00:31:32.710\nGo back to the wizard here,\nsign the zone, Next.\n\n621\n00:31:32.710 --> 00:31:36.090\nIf we just do use defaults,\nwhich is what I said I would do just for\n\n622\n00:31:36.090 --> 00:31:39.430\nthe demo, after we get done walking\nthrough the customization options.\n\n623\n00:31:39.430 --> 00:31:43.572\nThen notice, I'm right there,\nthat's two clicks, hit Next.\n\n624\n00:31:43.572 --> 00:31:45.710\nWe are signing the zone right now, right?\n\n625\n00:31:45.710 --> 00:31:51.100\nThe zone has been successfully signed,\nclick Finish and once we've done that,\n\n626\n00:31:51.100 --> 00:31:56.460\nwe then have the ability to just\nrefresh cuz those records are there,\n\n627\n00:31:56.460 --> 00:31:57.260\nwe just don't see them.\n\n628\n00:31:57.260 --> 00:31:59.578\nI know Mike was waiting, he's like,\nthere's like a million records,\n\n629\n00:31:59.578 --> 00:32:01.025\nwhat the heck's going on with that, right?\n\n630\n00:32:01.025 --> 00:32:03.810\nSo, you can see that now\nall the records are there.\n\n631\n00:32:03.810 --> 00:32:06.690\nIt is Microsoft, you've got to refresh.\nThey don't just show up on their own.\n\n632\n00:32:06.690 --> 00:32:08.540\nThey're all there, right,\nbut you just don't see them.\n\n633\n00:32:08.540 --> 00:32:10.070\nAll right, so you could see we\nhave a whole bunch of records.\n\n634\n00:32:10.070 --> 00:32:13.360\nWe're gonna talk about some of these\nrecords in our next episode, a little bit.\n\n635\n00:32:13.360 --> 00:32:15.970\nJust do a little bit more on this cuz,\n\n636\n00:32:15.970 --> 00:32:18.830\nwalking through the whole\nconfiguration sucked up all the time.\n\n637\n00:32:18.830 --> 00:32:20.565\nAnd I borrowed against future episodes.\n\n638\n00:32:20.565 --> 00:32:22.530\n&gt;&gt; [LAUGH]\n&gt;&gt; We're negative on our value right now.\n\n639\n00:32:22.530 --> 00:32:26.640\nBut if before we finish up, just notice\nhere, I know it's kinda hard to see but,\n\n640\n00:32:26.640 --> 00:32:29.880\nat the upper left-hand corner of that\nzone font, I'm kind of pointing to it.\n\n641\n00:32:29.880 --> 00:32:35.380\nThere's a little,\ngoldish blob which is actually a padlock,\n\n642\n00:32:35.380 --> 00:32:38.900\nright, to show that we are digitally\nsigned or we're secured, right.\n\n643\n00:32:38.900 --> 00:32:42.580\n&gt;&gt; Kind of like our EFFS notification or\nthe same kind of thing.\n\n644\n00:32:42.580 --> 00:32:46.040\n&gt;&gt; It looks similar, right, it's like that\nfor BitLock, or we've got that padlock.\n\n645\n00:32:46.040 --> 00:32:48.650\nThey came up with one icon and\nthey just use it for everything.\n\n646\n00:32:48.650 --> 00:32:49.280\nThe guy or\n\n647\n00:32:49.280 --> 00:32:52.200\nthe girl who's got the royalties on\nthat padlock is just minting it, right?\n\n648\n00:32:52.200 --> 00:32:55.840\nSo whatever it is, but it's there,\nit does differentiate.\n\n649\n00:32:55.840 --> 00:32:58.890\nYou could see the unsigned\nzone does not have that.\n\n650\n00:32:58.890 --> 00:33:02.910\nAnd when we go to look, of course, at\nthe unsigned zone you'll see we don't have\n\n651\n00:33:02.910 --> 00:33:09.681\nthe resource records that have\nbeen created, unlike, Here\n\n652\n00:33:09.681 --> 00:33:14.910\nwhere we have all the resource records\nthat are now associated with rrsig.\n\n653\n00:33:14.910 --> 00:33:19.894\nThe resource record signatures, the DNS\nkeys, the NSEC records here, right.\n\n654\n00:33:19.894 --> 00:33:23.550\nWe just got a whole bunch of\nstuff that has been created.\n\n655\n00:33:23.550 --> 00:33:24.900\nIt's probably like 20 records or so\n\n656\n00:33:24.900 --> 00:33:29.050\nthat have been created as a result\nof going in and applying DNSSEC.\n\n657\n00:33:29.050 --> 00:33:32.310\nSo this is just the first part\nof the conversation around\n\n658\n00:33:32.310 --> 00:33:36.620\nhow do we set up DNSSEC and the background\nassociated with it, what's the vocabulary?\n\n659\n00:33:36.620 --> 00:33:37.810\nWhat are those moving parts?\n\n660\n00:33:37.810 --> 00:33:38.892\nWhat are they good for?\n\n661\n00:33:38.892 --> 00:33:42.840\nWe're gonna come back in our next\nepisode and just wrap up the discussion.\n\n662\n00:33:42.840 --> 00:33:44.230\nWe'll continue with a little demo here,\n\n663\n00:33:44.230 --> 00:33:46.970\nI'll show you how we actually\nuse this to our advantage.\n\n664\n00:33:46.970 --> 00:33:49.680\nAnd then make sure we're good\nwith the NSF before we wrap up.\n\n665\n00:33:49.680 --> 00:33:52.200\nAnd then talk about some\nother really cool stuff,\n\n666\n00:33:52.200 --> 00:33:53.490\nwe do have a couple other features left.\n\n667\n00:33:53.490 --> 00:33:56.810\nI mentioned response rate limiting,\nwe have to talk about the NRPT,\n\n668\n00:33:56.810 --> 00:34:00.495\nthe Name Resolution Policy Table\nassociation with DNSSEC there's\n\n669\n00:34:00.495 --> 00:34:02.067\nsome group policy settings.\n\n670\n00:34:02.067 --> 00:34:04.277\nWe'll show you as part\nof the next episode.\n\n671\n00:34:04.277 --> 00:34:07.390\nAnd also, a little discussion at the very,\nvery end about SMB,\n\n672\n00:34:07.390 --> 00:34:09.477\nServer Message Block Protocol using NAT.\n\n673\n00:34:09.477 --> 00:34:11.845\nWe talked about that, I think,\nin one of our setup episodes.\n\n674\n00:34:11.845 --> 00:34:15.871\nAnd just the use of that to also afford\nfor some security with using that to\n\n675\n00:34:15.871 --> 00:34:19.515\nsecure our shares and our access\nto shares and traffic like that.\n\n676\n00:34:19.515 --> 00:34:23.330\nSo we'll take a look at version 3.11,\nI think, the new updated version of SMB.\n\n677\n00:34:23.330 --> 00:34:26.679\n&gt;&gt; Very good I like it Adam,\nI know I'm excited about the next one,\n\n678\n00:34:26.679 --> 00:34:28.924\nhopefully everybody out there is as well.\n\n679\n00:34:28.924 --> 00:34:33.766\nBut for this episode we are out of time\nbut great look at setting up DNSSEC.\n\n680\n00:34:33.766 --> 00:34:37.889\nSo we appreciate that Adam, hope everybody\nout there like I said enjoyed this one.\n\n681\n00:34:37.889 --> 00:34:41.752\nSigning off for\nITProTV I've been your host Mike Rodrick.\n\n682\n00:34:41.752 --> 00:34:44.310\n&gt;&gt; I am Adam Gordon.\n&gt;&gt; And we'll see you next time.\n\n683\n00:34:44.310 --> 00:34:50.726\n[MUSIC]\n\n684\n00:34:50.726 --> 00:34:54.626\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "236934096"
        },
        {
          "description": "",
          "length": "2396",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-7-secure_network_traffic_pt7-100317-PGM-.00_39_41_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-7-secure_network_traffic_pt7-100317-PGM-.00_39_41_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-7-secure_network_traffic_pt7-100317-PGM-.00_39_41_11.Still001-sm.jpg",
          "title": "Secure Network Traffic Part 7",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:04.232\nWelcome to ITPRO.TV,\n\n2\n00:00:04.232 --> 00:00:08.249\nI'm your host [SOUND].\n\n3\n00:00:08.249 --> 00:00:09.757\nYou're watching ITPRO.TV.\n\n4\n00:00:09.757 --> 00:00:15.490\nHello, welcome to another exciting\nepisode here at ITPRO.TV.\n\n5\n00:00:15.490 --> 00:00:19.780\nI'm your host, Mike Rodrick, and today\nwe're doing our securing Windows Server\n\n6\n00:00:19.780 --> 00:00:24.970\n2016, as we get ready for\nthat 70-744 exam.\n\n7\n00:00:24.970 --> 00:00:25.840\nIn this episode,\n\n8\n00:00:25.840 --> 00:00:28.880\nwe're going to be taking a look at\nhow we can secure network traffic.\n\n9\n00:00:28.880 --> 00:00:31.890\nWe've actually been taking a lot\nof looks at this, we're on part 7.\n\n10\n00:00:31.890 --> 00:00:37.460\nA lot of great information when it\ncomes to securing that network traffic.\n\n11\n00:00:37.460 --> 00:00:41.540\nSo, without further ado-\n&gt;&gt; Is an incredibly pedestrian and\n\n12\n00:00:41.540 --> 00:00:43.550\nbland and non-descriptive description.\n\n13\n00:00:43.550 --> 00:00:45.535\nI applaud your ability to be-\n&gt;&gt; Thank you.\n\n14\n00:00:45.535 --> 00:00:47.870\n&gt;&gt; Non-informative at the time\nthat you're talking, that's great.\n\n15\n00:00:47.870 --> 00:00:50.000\n&gt;&gt; That's a special talent\nthat one has to work at.\n\n16\n00:00:50.000 --> 00:00:50.700\n&gt;&gt; It is, it is.\n\n17\n00:00:50.700 --> 00:00:54.103\nSo what Mike was trying to say, but\nwas not too eloquent in his delivery\n\n18\n00:00:54.103 --> 00:00:57.680\nwas that we're gonna continue talking\nabout security for traffic but\n\n19\n00:00:57.680 --> 00:01:00.450\nwe've been talking in our\nlast episode about DNS sac.\n\n20\n00:01:00.450 --> 00:01:03.600\nIf you haven't seen that,\nthis is one of those, yeah we always say\n\n21\n00:01:03.600 --> 00:01:05.760\nthis all the time, hay go back and\nlook so you can keep up with us.\n\n22\n00:01:05.760 --> 00:01:07.340\nIt's actually really\nimportant to go back and\n\n23\n00:01:07.340 --> 00:01:10.605\nlook at that one because we're about\nto Jump in and kinda do a part two.\n\n24\n00:01:10.605 --> 00:01:14.165\nWe've established the secure zone,\nwe've signed it,\n\n25\n00:01:14.165 --> 00:01:16.225\nwalked through the wizard,\nshown you all the options.\n\n26\n00:01:16.225 --> 00:01:20.895\nWe're now gonna go to another DNS server\nand we're gonna import the DNS keys so\n\n27\n00:01:20.895 --> 00:01:25.240\nwe could see, as a trust point,\nhow to link that, then go to a client and\n\n28\n00:01:25.240 --> 00:01:29.310\nvalidate that that's there from\nPower Shell and then do some other stuff.\n\n29\n00:01:29.310 --> 00:01:32.960\nSo we're gonna pick up literally right\nat the tail end of what we did and\n\n30\n00:01:32.960 --> 00:01:36.340\ncontinue on, and it may not make sense to\nyou unless you've seen the prior episode.\n\n31\n00:01:36.340 --> 00:01:39.700\nSo do go back take a look and\nas long as you're keeping up with us,\n\n32\n00:01:39.700 --> 00:01:42.910\nlet's not waste any more time and\nget down to business as they say.\n\n33\n00:01:42.910 --> 00:01:45.490\nSo, Sir Titus, if you could,\nthank you very much.\n\n34\n00:01:45.490 --> 00:01:47.840\nLet us continue here.\n\n35\n00:01:47.840 --> 00:01:49.060\nWe're gonna go ahead.\n\n36\n00:01:49.060 --> 00:01:54.145\nI'm on my The PLABDM01 machine, just to\nremind you of where we've been, just so\n\n37\n00:01:54.145 --> 00:01:57.175\nwe have continuity and\nwe have the sense of what we're doing.\n\n38\n00:01:57.175 --> 00:02:02.297\nWe set up our secure zones, secure\npractice labs or secure.practicelabs.com.,\n\n39\n00:02:02.297 --> 00:02:06.797\non our DNS server, or PLABDC01 machine,\nyou can see it there.\n\n40\n00:02:06.797 --> 00:02:10.847\nRight click, enable DNS sect, sign\nthe zone, created all the zone records,\n\n41\n00:02:10.847 --> 00:02:14.197\nall that's sitting there, and now, all\nwe're going to do is populate this trust\n\n42\n00:02:14.197 --> 00:02:18.988\npoints folder on on another DNS\nserver by importing the DNS key.\n\n43\n00:02:18.988 --> 00:02:23.128\nOne of these records right here is what\nwe're gonna essentially grab and bring in.\n\n44\n00:02:23.128 --> 00:02:27.378\nRemember, the DNS key is part of what\nallows us to work with DNS sec and allows\n\n45\n00:02:27.378 --> 00:02:32.518\nus to understand and to validate that were\ngetting information from a secured zone.\n\n46\n00:02:32.518 --> 00:02:34.178\nSo we're gonna go ahead and\nbring this over.\n\n47\n00:02:34.178 --> 00:02:38.960\nSo we're over here on our plod VM\n01 machine, I've right clicked in,\n\n48\n00:02:38.960 --> 00:02:42.230\nI've certainly first of all installed DNS,\nso let's just start with that.\n\n49\n00:02:42.230 --> 00:02:45.570\nGone to server manager after I\ndid the install, went to tools,\n\n50\n00:02:45.570 --> 00:02:50.800\nopened up the DNS MMC, so we're looking at\nthe management console for DNS right now.\n\n51\n00:02:50.800 --> 00:02:54.028\nAnd I've just opened up\nthe PLABDM01 DNS server.\n\n52\n00:02:54.028 --> 00:02:57.290\nI'm not concerned with my zones right now,\nbut\n\n53\n00:02:57.290 --> 00:02:59.350\nrather I'm concerned with my trust points.\n\n54\n00:02:59.350 --> 00:03:02.860\nIf you look at the forward lookup zone,\nyou'll see there's no zones here.\n\n55\n00:03:02.860 --> 00:03:06.235\nSo I'm not gonna have a complete\nmirror of what have on\n\n56\n00:03:06.235 --> 00:03:08.430\nPLABDC01 DNS server right now.\n\n57\n00:03:08.430 --> 00:03:12.250\nThe DNS server is part of\nthat infrastructure but\n\n58\n00:03:12.250 --> 00:03:15.930\nit is not gonna have any information right\nnow, there's nothing associated with it.\n\n59\n00:03:15.930 --> 00:03:18.230\nSo it's essentially a greenfield,\na brand new,\n\n60\n00:03:18.230 --> 00:03:20.990\nclean install with right now, nothing.\n\n61\n00:03:20.990 --> 00:03:25.010\nAnd what we're gonna do is implement or\nimport, this trust point.\n\n62\n00:03:25.010 --> 00:03:26.600\nYou can see the folder is blank.\n\n63\n00:03:26.600 --> 00:03:29.225\nAt no point during this demonstration by\nthe way, do my hands ever leave my body.\n\n64\n00:03:29.225 --> 00:03:31.370\n&gt;&gt; [LAUGH]\n&gt;&gt; Just thought I'd mention that.\n\n65\n00:03:31.370 --> 00:03:34.190\nSo we're gonna right-click\non our trust points.\n\n66\n00:03:34.190 --> 00:03:36.140\nWe're gonna go ahead and\nwe're gonna import here.\n\n67\n00:03:36.140 --> 00:03:40.120\nWe're gonna choose DNS key,\nwe have to go out and grab a file.\n\n68\n00:03:40.120 --> 00:03:45.850\nNow in order to get this, what I've\ndone is I have done the following.\n\n69\n00:03:45.850 --> 00:03:48.220\nLet me just go back to\nmy domain controller.\n\n70\n00:03:48.220 --> 00:03:50.060\nBack to my DNS server, I should say.\n\n71\n00:03:50.060 --> 00:03:56.130\nOn my DNS server, I've gone into\nthe root of the DNS infrastructure.\n\n72\n00:03:56.130 --> 00:04:00.200\nSo I've gone to the C: drive,\ngone to Windows, gone to System32.\n\n73\n00:04:00.200 --> 00:04:04.120\nInto the DNS folder which is where\nDNS is going to be managed out of in\n\n74\n00:04:04.120 --> 00:04:05.530\na Windows environment.\n\n75\n00:04:05.530 --> 00:04:08.510\nSo I'm just scroll down\nwhile we're doing that.\n\n76\n00:04:08.510 --> 00:04:15.400\nWent to System32, went to DNS Right there.\n\n77\n00:04:15.400 --> 00:04:22.540\nAnd I shared the DNS folder\nusing advanced sharing.\n\n78\n00:04:22.540 --> 00:04:26.980\nYou can see the network path there,\nCollabDC01 DNS.\n\n79\n00:04:26.980 --> 00:04:31.280\nSo I shared this out so that I can get\naccess to it from another server to\n\n80\n00:04:31.280 --> 00:04:33.610\nreach in and grab something I need.\n\n81\n00:04:33.610 --> 00:04:38.850\nIn this case I'm gonna grab the key\nset for securepracticelabs.com, right?\n\n82\n00:04:38.850 --> 00:04:43.970\nSo I'm gonna be able to come in here, and\nI'm gonna be able to come right here and\n\n83\n00:04:43.970 --> 00:04:49.160\ngrab this, the key set\nsecurepracticelabs.com application,\n\n84\n00:04:49.160 --> 00:04:50.830\nbring that over and use that.\n\n85\n00:04:50.830 --> 00:04:51.900\nThat's what I'm gonna reach in and grab.\n\n86\n00:04:51.900 --> 00:04:55.250\nThat's part of what we have\nfrom our zone signing or\n\n87\n00:04:55.250 --> 00:04:58.200\nour DNS set application to the zone.\n\n88\n00:04:58.200 --> 00:04:59.560\nSo that's what I'm gonna\ngo grab right now.\n\n89\n00:04:59.560 --> 00:05:02.560\nI'm gonna come in and\nessentially get this file, right?\n\n90\n00:05:02.560 --> 00:05:05.980\nSo gonna come over here, File to Import.\n\n91\n00:05:05.980 --> 00:05:08.390\nI can either type this or\nbrowse, it's really up to me.\n\n92\n00:05:08.390 --> 00:05:11.920\nSo I'm just gonna go ahead and\nI'm gonna type in the path.\n\n93\n00:05:11.920 --> 00:05:17.330\nPlaidDC01DNS, which is,\nas you saw, the path to my share.\n\n94\n00:05:17.330 --> 00:05:22.460\nThen I need a key set dash secure\n\n95\n00:05:22.460 --> 00:05:26.920\ndash I wanna call this dot rather,\npracticelabs.com.\n\n96\n00:05:26.920 --> 00:05:30.700\nSecure that practicelabs.com.\n\n97\n00:05:30.700 --> 00:05:34.740\nLet's make sure to type that correctly.\n\n98\n00:05:34.740 --> 00:05:38.649\nJust go out and\nmake sure that's there, and whoops.\n\n99\n00:05:44.791 --> 00:05:47.640\nAnd the reason I'm doing this is that\nI'm horrible with typing, if you know.\n\n100\n00:05:47.640 --> 00:05:49.900\n[LAUGH] I wanna make sure\nI'm actually doing this.\n\n101\n00:05:49.900 --> 00:05:52.320\n&gt;&gt; Didn't you say you could browse or\ntype and then chose type.\n\n102\n00:05:52.320 --> 00:05:53.820\n&gt;&gt; I did, I could do it either way,\nI'm just-\n\n103\n00:05:53.820 --> 00:05:55.005\n&gt;&gt; I was like no.\n\n104\n00:05:55.005 --> 00:05:56.870\n[LAUGH]\n&gt;&gt; I'm just doing it this way just to make\n\n105\n00:05:56.870 --> 00:05:59.522\nsure that they're correct.\n\n106\n00:05:59.522 --> 00:06:04.700\nAll right, so keyset secure.,\nwe know the file's there so,\n\n107\n00:06:04.700 --> 00:06:07.620\nwe know that it is there, I just have\nto make sure I spell it correctly.\n\n108\n00:06:07.620 --> 00:06:10.490\nPracticelabs.com.\n\n109\n00:06:10.490 --> 00:06:12.400\nAllr,ight so gonna-\n&gt;&gt; There's a little difference.\n\n110\n00:06:12.400 --> 00:06:16.340\nIt's not like your using a wizard to\nexport the certificate in private key.\n\n111\n00:06:16.340 --> 00:06:18.820\nYou don't actually having to\nbrowse over there and grab it.\n\n112\n00:06:18.820 --> 00:06:19.330\n&gt;&gt; And grab it, right.\n\n113\n00:06:19.330 --> 00:06:21.700\nSo you can see I just went ahead and\nhit OK there.\n\n114\n00:06:21.700 --> 00:06:23.070\nDid that, brought that in.\n\n115\n00:06:23.070 --> 00:06:27.080\nYou could see now calm initialized\nis gonna be listed there for me.\n\n116\n00:06:27.080 --> 00:06:32.370\nAnd you'll see now if I open this up,\nI have secure folder, practicelabs,\n\n117\n00:06:32.370 --> 00:06:36.830\nsecure folder down below, and you'll\nsee there I have my DNS key records.\n\n118\n00:06:36.830 --> 00:06:39.906\nThose ones that I was pointing to that\nI showed you that are coming from\n\n119\n00:06:39.906 --> 00:06:45.660\nthe PLABDC01 machine, right?\n\n120\n00:06:45.660 --> 00:06:49.325\nSo I've created that,\nstep two is now I brought this in.\n\n121\n00:06:49.325 --> 00:06:52.390\nIf we could take a look at\nthe property here, right?\n\n122\n00:06:52.390 --> 00:06:54.720\nDomain name secure\npracticelabs.com trust anchor, so\n\n123\n00:06:54.720 --> 00:06:58.540\nwe know this is one of the trust\nanchors that we created as part of\n\n124\n00:06:58.540 --> 00:07:02.240\nthe walk-through of using DNS SEC\nto set up and sign the zone.\n\n125\n00:07:02.240 --> 00:07:03.130\nWe could see that.\n\n126\n00:07:03.130 --> 00:07:04.590\nWe also see our public key there.\n\n127\n00:07:04.590 --> 00:07:08.770\nIt's a little bit hard to see, but\nit's that alphanumeric string here,\n\n128\n00:07:08.770 --> 00:07:11.660\nalong with a couple of special\ncharacters thrown in for good measure.\n\n129\n00:07:11.660 --> 00:07:15.400\nThat are sitting down here and\nis in the public key block.\n\n130\n00:07:15.400 --> 00:07:17.770\nRemember, we talked about the fact\nwe have that key pair, right?\n\n131\n00:07:17.770 --> 00:07:21.960\nAnd the public key is published,\nmade available and is given out freely.\n\n132\n00:07:21.960 --> 00:07:25.160\nThe private key is kept secure\nremember the key sign in key and\n\n133\n00:07:25.160 --> 00:07:26.020\nthe zone sign in key.\n\n134\n00:07:26.020 --> 00:07:28.420\nRight, we talked about this and\nthe idea of the key pair.\n\n135\n00:07:28.420 --> 00:07:31.860\nSo we could see all that,\nwe see a key tag, a unique identifier for\n\n136\n00:07:31.860 --> 00:07:34.820\nthis that was 5, 8, 9, 7, 6 right?\n\n137\n00:07:37.070 --> 00:07:42.230\nAnd we can see as we take a look that\nthe other record has a different key tag,\n\n138\n00:07:42.230 --> 00:07:44.460\nwhatever that one is, as it's generated.\n\n139\n00:07:44.460 --> 00:07:49.230\nSo we have two DNS public key,\nDNS key records that are brought over.\n\n140\n00:07:49.230 --> 00:07:53.200\nSo now that we have these,\nwhat we're gonna do is the following.\n\n141\n00:07:53.200 --> 00:07:57.433\nWe're going to go in, or I'm going to go\nin and verify the DNS key trust anchors.\n\n142\n00:07:57.433 --> 00:07:59.350\nNow, I just verified them,I\nknow they're sitting there.\n\n143\n00:07:59.350 --> 00:08:03.949\nBut let's say hypothetically, wanna go\nto a client Like a Windows 10 machine,\n\n144\n00:08:03.949 --> 00:08:07.296\nwe wanted to make sure this is\nactually set up the right way.\n\n145\n00:08:07.296 --> 00:08:08.550\nSo what would we do?\n\n146\n00:08:08.550 --> 00:08:10.020\nLet's just take a look at how to do that.\n\n147\n00:08:10.020 --> 00:08:13.180\nSo I'm going to go to my other\nmachine that's sitting here,\n\n148\n00:08:13.180 --> 00:08:16.550\nmy PLABWIN10 machine that I've got set up.\n\n149\n00:08:16.550 --> 00:08:20.060\nI've just gone ahead and loaded up\nPowerShell, modified the console shell so\n\n150\n00:08:20.060 --> 00:08:20.940\nyou could see it.\n\n151\n00:08:20.940 --> 00:08:23.980\nI'm running it as an administrator,\nso I have rights to do this.\n\n152\n00:08:23.980 --> 00:08:27.000\nAnd I've issued, or about to issue\ncuz I haven't hit Enter yet, but\n\n153\n00:08:27.000 --> 00:08:28.890\nI've typed it in.\n\n154\n00:08:28.890 --> 00:08:32.648\nThe Resolve-DNSName cmdlet, right,\nfollowed by the name parameter,\n\n155\n00:08:32.648 --> 00:08:33.927\nwhat do I wanna resolve?\n\n156\n00:08:33.927 --> 00:08:36.000\nsecure.practicelabs.com.trustanchors.\n\n157\n00:08:36.000 --> 00:08:40.560\nIf you saw, that was the name for the DNS\nkey, the public key that we're looking at.\n\n158\n00:08:40.560 --> 00:08:42.398\nType, what type do we want the DNS key?\n\n159\n00:08:42.398 --> 00:08:43.704\nSo you could see that there.\n\n160\n00:08:43.704 --> 00:08:45.077\nWhat server am I targeting?\n\n161\n00:08:45.077 --> 00:08:47.410\nPLABDM01, where I just put these, right?\n\n162\n00:08:47.410 --> 00:08:51.529\nSo now if I do that, I should get back\nthe list of the two that we just saw that\n\n163\n00:08:51.529 --> 00:08:53.200\nare actually sitting there.\n\n164\n00:08:53.200 --> 00:08:55.460\nAll right, so I get back the list of both.\n\n165\n00:08:55.460 --> 00:08:57.855\nI can see that they are there.\n\n166\n00:08:57.855 --> 00:08:59.120\nThe keys are listed.\n\n167\n00:08:59.120 --> 00:09:02.080\nYou don't see the whole value,\nbut you see the beginning of it.\n\n168\n00:09:02.080 --> 00:09:06.260\nBut we can see that we actually have two\nDNS key trust anchors published, right?\n\n169\n00:09:06.260 --> 00:09:09.000\nSo we're able to verify the trust\nanchors have been put out there.\n\n170\n00:09:09.000 --> 00:09:12.790\nYou were mentioning, for instance,\nthat if we wanted to do this, rather,\n\n171\n00:09:12.790 --> 00:09:15.860\nif we wanted to use the DNS sec and\nthen go to a client.\n\n172\n00:09:15.860 --> 00:09:18.240\nThe nice thing about this is we\ndon't have to through the firewall,\n\n173\n00:09:18.240 --> 00:09:19.650\nchange a bunch of stuff, right?\n\n174\n00:09:19.650 --> 00:09:22.230\nWe don't have to go through and worry\nabout configuring stuff on the client\n\n175\n00:09:22.230 --> 00:09:27.340\ntraditionally because most, at least\nmodern clients anyway, will be aware.\n\n176\n00:09:27.340 --> 00:09:30.150\nFrom Windows 7 forward we're\naware of DNS sec, right?\n\n177\n00:09:30.150 --> 00:09:32.073\nSo we potentially can use it.\n\n178\n00:09:32.073 --> 00:09:35.035\nIf we tried that with earlier clients,\nwe may have some issues there, so\n\n179\n00:09:35.035 --> 00:09:36.015\njust keep that in mind.\n\n180\n00:09:36.015 --> 00:09:37.515\nBut we're able to go ahead and\n\n181\n00:09:37.515 --> 00:09:40.700\nwe're able to validate that our\ntrust anchors are available.\n\n182\n00:09:40.700 --> 00:09:44.350\nAnd as a result we can now use the zone\nthat is signed and is secured.\n\n183\n00:09:44.350 --> 00:09:46.320\nWe can authoritatively understand that.\n\n184\n00:09:46.320 --> 00:09:50.600\nHow do we distribute the trust anchors out\nto a secondary domain controller, right?\n\n185\n00:09:50.600 --> 00:09:53.620\nWe have them on the primary domain\ncontroller, PLABDC01, let's just say,\n\n186\n00:09:53.620 --> 00:09:55.750\nis our main domain controller.\n\n187\n00:09:55.750 --> 00:09:57.910\nNo such thing as primary\ndomain controllers any more.\n\n188\n00:09:57.910 --> 00:09:59.600\nBack to the MP4 days.\n\n189\n00:09:59.600 --> 00:10:01.381\nABIO is our main domain controller, right?\n\n190\n00:10:01.381 --> 00:10:04.590\nAnd it is our authoritative DNS instance,\nand we've set it up.\n\n191\n00:10:04.590 --> 00:10:08.227\nAnd you've seen now how we could\nmove those DNS keys over and\n\n192\n00:10:08.227 --> 00:10:10.715\nget a copy of them on another DNS server.\n\n193\n00:10:10.715 --> 00:10:12.679\nWell, what about a secondary\ndomain controller,\n\n194\n00:10:12.679 --> 00:10:14.974\nif we wanted to distribute them\nout to another one of those?\n\n195\n00:10:14.974 --> 00:10:18.117\nI talked about it when I did the run\nthrough in the last episode,\n\n196\n00:10:18.117 --> 00:10:21.250\non the DNS sec configuration wizard,\nwhen I did customize.\n\n197\n00:10:21.250 --> 00:10:22.313\nI did every screen.\n\n198\n00:10:22.313 --> 00:10:24.610\nWe kind of iteratively\nwalked through every one.\n\n199\n00:10:24.610 --> 00:10:27.220\nWe got to the point we talked about\ndistributing the trust anchors.\n\n200\n00:10:27.220 --> 00:10:30.010\nI checked off the box to show\nyou what the option was.\n\n201\n00:10:30.010 --> 00:10:31.350\nIt was grayed out, and said, hey,\n\n202\n00:10:31.350 --> 00:10:35.133\nif we're gonna distribute to all\nthe domain controllers, right, be aware.\n\n203\n00:10:35.133 --> 00:10:38.360\nSo it shipped everything in the forest,\nand you just have to understand that.\n\n204\n00:10:38.360 --> 00:10:39.140\nWe didn't do that.\n\n205\n00:10:39.140 --> 00:10:41.630\nRemember, the default was\nthe settings we chose.\n\n206\n00:10:41.630 --> 00:10:43.600\nThe default was that it was not selected.\n\n207\n00:10:43.600 --> 00:10:47.300\nSo if we have to now distribute it,\nlet's say we made the default choice and\n\n208\n00:10:47.300 --> 00:10:50.700\nwe haven't enabled distribution,\nhow would we deal with that?\n\n209\n00:10:50.700 --> 00:10:52.700\nSo we're gonna go in, we're gonna take\na look at how to do that as well.\n\n210\n00:10:52.700 --> 00:10:56.230\nBecause we're gonna cover every\npossible nook and cranny of this thing.\n\n211\n00:10:56.230 --> 00:10:58.331\nThat's why we're gonna have 1,001 episodes\nfor DNS sec by the time we're done.\n\n212\n00:10:58.331 --> 00:11:00.320\n&gt;&gt; [LAUGH] I love it.\n\n213\n00:11:00.320 --> 00:11:01.470\n&gt;&gt; All right, so we are gonna go through.\n\n214\n00:11:01.470 --> 00:11:02.670\nI'm gonna show you how to do this now.\n\n215\n00:11:02.670 --> 00:11:04.940\nSo I'm just gonna switch over to yet\nanother machine.\n\n216\n00:11:04.940 --> 00:11:06.280\nSo give me just a second to do this.\n\n217\n00:11:06.280 --> 00:11:10.928\nI'm gonna switch over to my, PLABDC01.\n\n218\n00:11:10.928 --> 00:11:13.641\nWe're gonna go back to where we\nstarted just to configure this, and\n\n219\n00:11:13.641 --> 00:11:16.180\nthen we'll ultimately get that\nout to my other machine there.\n\n220\n00:11:16.180 --> 00:11:17.853\nAll right, so let me just minimize here.\n\n221\n00:11:17.853 --> 00:11:21.230\nAll right, so\nwe're on our secure practicelabs.com zone.\n\n222\n00:11:21.230 --> 00:11:22.320\nYou can see it right there.\n\n223\n00:11:23.568 --> 00:11:27.770\nWhat we're gonna do is go in and\ngo to properties of DNS sec and\n\n224\n00:11:27.770 --> 00:11:29.628\ntake a look under the hood for a minute.\n\n225\n00:11:29.628 --> 00:11:32.930\nWe'll see the Trust Anchors tab that\nlets me get access to that setting\n\n226\n00:11:32.930 --> 00:11:34.640\nthat we didn't set in the wizard.\n\n227\n00:11:34.640 --> 00:11:37.595\nSo we'll come over here to DNS sec,\nand you'll notice now that,\n\n228\n00:11:37.595 --> 00:11:40.805\ninstead of sign zone, which is now\ngrayed out, we can unsign, of course.\n\n229\n00:11:40.805 --> 00:11:43.365\nYou want to remove DNS sec\nsince you turned it off.\n\n230\n00:11:43.365 --> 00:11:44.579\nThat's what you do.\n\n231\n00:11:44.579 --> 00:11:47.982\nWe're gonna go to Properties, which was\nnot available before, until we enabled it.\n\n232\n00:11:47.982 --> 00:11:52.422\nAnd so we can see all the outcomes of the\nchoices made in the wizard center, right?\n\n233\n00:11:52.422 --> 00:11:58.267\nThe keymaster, we can see the KSK, the\nZSK, key signing key, zone signing key,\n\n234\n00:11:58.267 --> 00:12:03.717\nthe server designated as the key master\ncan be specified here as you can see.\n\n235\n00:12:03.717 --> 00:12:08.706\nYou can make changes, add or\nremove additional key signing keys or\n\n236\n00:12:08.706 --> 00:12:10.441\nzone signing keys.\n\n237\n00:12:10.441 --> 00:12:13.351\nNotice, by the way,\nwhat we have when I say remove.\n\n238\n00:12:13.351 --> 00:12:16.220\nWe formally call remove retire, right?\n\n239\n00:12:16.220 --> 00:12:19.380\nRetire on this means let's get\nof that key, let's not use it.\n\n240\n00:12:19.380 --> 00:12:23.210\nAnd let's create or roll over, and\nhave another new key to roll over, or\n\n241\n00:12:23.210 --> 00:12:24.220\nlet's add another key.\n\n242\n00:12:24.220 --> 00:12:25.030\nIt's our choice.\n\n243\n00:12:25.030 --> 00:12:28.257\nI only had one key, so if I retire that,\nI gotta add another key.\n\n244\n00:12:28.257 --> 00:12:30.360\nBut if I had multiple keys,\nI could roll over.\n\n245\n00:12:30.360 --> 00:12:32.340\nRemember, we could have three\nsitting there at the time.\n\n246\n00:12:32.340 --> 00:12:33.653\nWe could roll over to another key.\n\n247\n00:12:33.653 --> 00:12:35.890\nSo we have all those options here.\n\n248\n00:12:35.890 --> 00:12:40.382\nWe have our NSEC, NIC secure settings,\nNSEC3 versus NSEC.\n\n249\n00:12:40.382 --> 00:12:43.850\nYou can see that, whether we\nwanna use assault or not, right?\n\n250\n00:12:43.850 --> 00:12:46.714\nWe have our trust anchors\nwhich is where we're gonna go.\n\n251\n00:12:46.714 --> 00:12:49.873\nThese are literally the screens in\nthe wizard that we're able to go back and\n\n252\n00:12:49.873 --> 00:12:50.787\nchange if we want to.\n\n253\n00:12:50.787 --> 00:12:52.279\nWe're gonna check that\noff in just a minute.\n\n254\n00:12:53.630 --> 00:12:54.862\nAnd then under Advanced,\n\n255\n00:12:54.862 --> 00:12:58.336\nremember we have the ability there\nto specify our signature algorithms,\n\n256\n00:12:58.336 --> 00:13:02.091\nour signature inception offset, in hours,\nour delegation polling periods,\n\n257\n00:13:02.091 --> 00:13:05.863\njust all the stuff that we talked about\nthat we would normally leave, is there.\n\n258\n00:13:05.863 --> 00:13:07.316\nAll right, so\nwe're gonna go to trust anchors.\n\n259\n00:13:07.316 --> 00:13:10.744\nIf I wanna specify that I want to get\nthis out to the other domain controllers,\n\n260\n00:13:10.744 --> 00:13:13.328\nI've got to come back in if\nI've made my default choice and\n\n261\n00:13:13.328 --> 00:13:15.570\nenable that option that we talked about,\nright?\n\n262\n00:13:15.570 --> 00:13:17.020\nSo I'm gonna have to check that off.\n\n263\n00:13:17.020 --> 00:13:17.630\nSo we're gonna go ahead.\n\n264\n00:13:17.630 --> 00:13:18.300\nWe're gonna enable that.\n\n265\n00:13:18.300 --> 00:13:20.912\nBefore we do,\nlet's just take a look at something.\n\n266\n00:13:20.912 --> 00:13:24.272\n[SOUND] where are we at?\n\n267\n00:13:24.272 --> 00:13:26.168\nWe are there, there we are.\n\n268\n00:13:26.168 --> 00:13:29.960\nAll right, so let's just look at our other\nDNS server before we do anything, right?\n\n269\n00:13:29.960 --> 00:13:31.580\nSo let's go here.\n\n270\n00:13:31.580 --> 00:13:35.570\nLet's go to DNS just to see what's\nthere before we enable this option.\n\n271\n00:13:37.501 --> 00:13:40.796\nPLABSA01, yet another DNS server, right?\n\n272\n00:13:40.796 --> 00:13:42.094\nAnd you'll notice,\n\n273\n00:13:42.094 --> 00:13:46.426\nscroll out here for just a second to\nmake this a little bit easier to see.\n\n274\n00:13:48.867 --> 00:13:53.680\nAll right, so you'll see here we do\nhave this information sitting here.\n\n275\n00:13:53.680 --> 00:13:56.730\nBut notice that trust points,\nwe don't have our trust points.\n\n276\n00:13:56.730 --> 00:13:58.230\nIn other words, this is the machine.\n\n277\n00:13:58.230 --> 00:14:01.090\nIt's not the machine I just\nimported the trust anchors on to.\n\n278\n00:14:01.090 --> 00:14:03.693\nThat was my PLABDM01 machine.\n\n279\n00:14:03.693 --> 00:14:05.467\nThis is PLABSA01.\n\n280\n00:14:05.467 --> 00:14:07.160\nI don't have the trust anchors here.\n\n281\n00:14:07.160 --> 00:14:10.660\nI haven't run that import\nfeature where I put the path in,\n\n282\n00:14:10.660 --> 00:14:14.050\nexecuted that application,\ncreated the that I did on the other one.\n\n283\n00:14:14.050 --> 00:14:17.400\nInstead I'm gonna rely on this ability to\npropagate them out in theory to populate.\n\n284\n00:14:17.400 --> 00:14:20.000\nSo we're gonna take a look at how\nthat's gonna happen right now.\n\n285\n00:14:20.000 --> 00:14:23.122\nSo just wanted to show you it establishes\nas a baseline that there's nothing there\n\n286\n00:14:23.122 --> 00:14:24.219\nbefore we actually do this.\n\n287\n00:14:24.219 --> 00:14:26.769\nCuz once it happens and\nyou see them, they're like well,\n\n288\n00:14:26.769 --> 00:14:28.392\nwere they really there all the time?\n\n289\n00:14:28.392 --> 00:14:31.100\nMaybe he put them there and\nhe's just pulling my leg.\n\n290\n00:14:31.100 --> 00:14:33.300\nYou never know,\nhe's that shifty kind of guy.\n\n291\n00:14:33.300 --> 00:14:35.090\n&gt;&gt; You never know with that Adam guy-\n&gt;&gt; He's now wearing red.\n\n292\n00:14:35.090 --> 00:14:35.900\nWe can't trust him.\n\n293\n00:14:35.900 --> 00:14:37.060\nYou never know what's happening.\n\n294\n00:14:37.060 --> 00:14:38.566\nAll right, so\nwe're gonna go back here, right?\n\n295\n00:14:38.566 --> 00:14:43.150\nSo we're gonna go ahead, we're gonna\nenable this now on our primary server,\n\n296\n00:14:43.150 --> 00:14:45.670\nenable the distribution of\ntrust anchors for the zone.\n\n297\n00:14:45.670 --> 00:14:47.320\nLet's check that off, okay?\n\n298\n00:14:47.320 --> 00:14:49.722\nLet's click OK.\n\n299\n00:14:49.722 --> 00:14:53.305\nFollowing is a summary of changes made\non the zone, securepracticelabs.com.\n\n300\n00:14:53.305 --> 00:14:56.445\nIn your world that would be whatever\nthe name of the zone is that you're doing.\n\n301\n00:14:56.445 --> 00:14:59.015\nDNS set parameters for\nthe zone have been modified.\n\n302\n00:14:59.015 --> 00:15:00.145\nClick yes or no.\n\n303\n00:15:00.145 --> 00:15:01.595\nNow, it's interesting again.\n\n304\n00:15:01.595 --> 00:15:04.704\nI like to point out great things, and I\nlike to point out things that confound me.\n\n305\n00:15:04.704 --> 00:15:07.683\nOkay, so you're essentially telling me,\nright, in theory, if you think and\n\n306\n00:15:07.683 --> 00:15:09.100\nfollow the logic of this.\n\n307\n00:15:09.100 --> 00:15:11.290\nThe following is a summary\nof changes made on the zone.\n\n308\n00:15:11.290 --> 00:15:15.864\nSo you're thinking, okay, you're gonna\ntell me the change I made, that's good.\n\n309\n00:15:15.864 --> 00:15:16.760\nWhat do they tell you?\n\n310\n00:15:16.760 --> 00:15:18.850\nDNS set parameters for\nthe zone have been modified.\n\n311\n00:15:18.850 --> 00:15:19.984\nWell, duh.\n\n312\n00:15:19.984 --> 00:15:21.416\n&gt;&gt; [LAUGH]\n&gt;&gt; Right, otherwise I wouldn't be here in\n\n313\n00:15:21.416 --> 00:15:21.980\nthe first place.\n\n314\n00:15:21.980 --> 00:15:24.601\nBut you didn't tell me\nwhat the change was.\n\n315\n00:15:24.601 --> 00:15:26.115\n&gt;&gt; [LAUGH]\n&gt;&gt; I mean, think about it.\n\n316\n00:15:26.115 --> 00:15:29.985\nWhat I'm saying is, it says essentially,\nI'm gonna tell you what changes were made.\n\n317\n00:15:29.985 --> 00:15:31.115\nBy the way, you made a change.\n\n318\n00:15:31.115 --> 00:15:33.135\nIt doesn't actually say, I went ahead and\n\n319\n00:15:33.135 --> 00:15:37.795\nenabled trust anchor distribution,\nwhich is the change.\n\n320\n00:15:37.795 --> 00:15:40.436\nThis is like Mike describing our intro for\nthe episode.\n\n321\n00:15:40.436 --> 00:15:41.755\n&gt;&gt; [LAUGH]\n&gt;&gt; We're here to talk about stuff that\n\n322\n00:15:41.755 --> 00:15:42.345\nwe're gonna talk about.\n\n323\n00:15:42.345 --> 00:15:43.215\nThat's why we're here to talk.\n\n324\n00:15:43.215 --> 00:15:45.430\nBut that's essentially what we just did.\n\n325\n00:15:45.430 --> 00:15:47.050\nThere's nothing of value there.\n\n326\n00:15:47.050 --> 00:15:48.620\n&gt;&gt; See, I also work for\nMicrosoft when I write.\n\n327\n00:15:48.620 --> 00:15:49.981\n&gt;&gt; You're the guy who does this, right?\n\n328\n00:15:49.981 --> 00:15:51.178\n&gt;&gt; [LAUGH]\n&gt;&gt; That's what we figured.\n\n329\n00:15:51.178 --> 00:15:54.340\nI figured this out.\nMike's the guy that we keep talking about.\n\n330\n00:15:54.340 --> 00:15:56.117\n&gt;&gt; Changes you made, you made a change.\n\n331\n00:15:56.117 --> 00:15:57.232\n&gt;&gt; You made a change.\n\n332\n00:15:57.232 --> 00:15:58.317\nThat's the change you made.\n\n333\n00:15:58.317 --> 00:15:59.739\nYou changed, that's what you did, right?\n\n334\n00:15:59.739 --> 00:16:01.231\nSo we're gonna say yes.\n\n335\n00:16:01.231 --> 00:16:04.267\nAll right, so [LAUGH] Configuration.\n\n336\n00:16:04.267 --> 00:16:06.759\n&gt;&gt; [LAUGH]\n&gt;&gt; You can't make this stuff up, right?\n\n337\n00:16:06.759 --> 00:16:07.484\n&gt;&gt; I tell you what.\n\n338\n00:16:07.484 --> 00:16:10.805\n&gt;&gt; Configuration of DNSSEC is or\nhas been successful.\n\n339\n00:16:10.805 --> 00:16:14.070\nAgain, doesn't it tell you what you did,\njust says yes.\n\n340\n00:16:14.070 --> 00:16:17.100\n[LAUGH] By the way, you were successful\nin whatever you set out to do.\n\n341\n00:16:17.100 --> 00:16:18.543\nWe're gonna hide that from you.\n\n342\n00:16:18.543 --> 00:16:20.170\nWe're not gonna tell you.\n\n343\n00:16:20.170 --> 00:16:21.135\n&gt;&gt; I hope you know what that was,\ncuz we don't.\n\n344\n00:16:21.135 --> 00:16:22.879\n&gt;&gt; We're just not gonna\ntell you what you did, but\n\n345\n00:16:22.879 --> 00:16:24.543\nwe are gonna tell you\nthat it was successful.\n\n346\n00:16:24.543 --> 00:16:25.984\nAll right, so we're going to click OK.\n\n347\n00:16:25.984 --> 00:16:28.569\nSo now what we're gonna do is flip\nback over to our other machine and\n\n348\n00:16:28.569 --> 00:16:30.060\nsee whether or not this is showing up.\n\n349\n00:16:30.060 --> 00:16:34.590\nSo let's go over to our SA machine,\njust give me just one second to do that.\n\n350\n00:16:36.290 --> 00:16:37.453\nAnd there we are right there.\n\n351\n00:16:37.453 --> 00:16:40.993\nAll right, so now it may take a minute.\n\n352\n00:16:40.993 --> 00:16:42.875\nSo-\n&gt;&gt; I was gonna ask is this wait for\n\n353\n00:16:42.875 --> 00:16:44.329\nActive Directory replication, or\n\n354\n00:16:44.329 --> 00:16:45.791\nis this independent from the-\n&gt;&gt; No,\n\n355\n00:16:45.791 --> 00:16:48.449\nno it's just that it may take a minute or\ntwo to actually show up.\n\n356\n00:16:48.449 --> 00:16:52.154\nI had DNS open, and\nit may not show up right away.\n\n357\n00:16:52.154 --> 00:16:57.777\nI may have to restart the DNS service.\n\n358\n00:16:57.777 --> 00:17:01.960\nSometimes stopping and starting will\nkickstart it, so let's just do that.\n\n359\n00:17:01.960 --> 00:17:05.462\nWe'll just kind of restart it.\n\n360\n00:17:05.462 --> 00:17:09.192\nNow let's see if that happens,\nI may actually have to restart the,\n\n361\n00:17:09.192 --> 00:17:10.320\nthere we go, yeah.\n\n362\n00:17:10.320 --> 00:17:12.058\nSometimes you have to\nrestart to get it out there.\n\n363\n00:17:12.058 --> 00:17:13.941\nI was gonna say sometimes you\nhave to just get close a console.\n\n364\n00:17:13.941 --> 00:17:17.690\nI made the mistake and living the,\nwell not mistake, I shouldn't say that.\n\n365\n00:17:17.690 --> 00:17:20.710\nI chose to be\nthe DNS Management Console open, and\n\n366\n00:17:20.710 --> 00:17:24.680\nI found just historically that when you do\nsome of this things with the management\n\n367\n00:17:24.680 --> 00:17:28.450\nconsole open remotely on the other\nmachine, it sometimes doesn't update.\n\n368\n00:17:28.450 --> 00:17:32.055\nI've had that happen with server manager a\nlot where I'll do something in PowerShell\n\n369\n00:17:32.055 --> 00:17:35.309\nto install a feature for a demo, and\nthen server manager open, it locks, and\n\n370\n00:17:35.309 --> 00:17:36.228\ndoesn't complete.\n\n371\n00:17:36.228 --> 00:17:37.662\nI got to shut server manager down,\n\n372\n00:17:37.662 --> 00:17:41.230\nsometimes restart, because something just\ngoes wrong in the communication there.\n\n373\n00:17:41.230 --> 00:17:44.675\nSo a lot of times I'll, I've just got\nin the habit of shutting the management\n\n374\n00:17:44.675 --> 00:17:47.590\nconsole down, doing this, and\nas a result, it tends to show up,\n\n375\n00:17:47.590 --> 00:17:50.137\nbecause you're essentially\nrestarting when you go in.\n\n376\n00:17:50.137 --> 00:17:53.842\nBut if you do what I just did, and\nit's not there, just restart the service,\n\n377\n00:17:53.842 --> 00:17:54.470\nno big deal.\n\n378\n00:17:54.470 --> 00:17:56.006\nYou saw, once you do that,\nit pops in right away.\n\n379\n00:17:56.006 --> 00:17:57.122\nSo no, it's an immediate.\n\n380\n00:17:57.122 --> 00:17:58.388\nIt should happen immediately.\n\n381\n00:17:58.388 --> 00:18:00.189\nIt's not AD replication,\nit's happening immediately.\n\n382\n00:18:00.189 --> 00:18:01.292\nIt's DNS server to DNS server.\n\n383\n00:18:01.292 --> 00:18:02.595\nSo it should happen right away.\n\n384\n00:18:02.595 --> 00:18:04.580\nYou could see, it's now there.\n\n385\n00:18:04.580 --> 00:18:08.577\nYou saw what this would be on the other\nmachine when we did this with the ability\n\n386\n00:18:08.577 --> 00:18:12.592\nto go out and grab or do the transfer\nby right-clicking trust anchor DNS key.\n\n387\n00:18:12.592 --> 00:18:15.206\nWe're essentially executing that app and\nbrining the records.\n\n388\n00:18:15.206 --> 00:18:19.222\nIt's just that it's being done here\nthrough the replication that we set on\n\n389\n00:18:19.222 --> 00:18:21.400\nthe primary one practice lab, secure.\n\n390\n00:18:21.400 --> 00:18:25.156\nLet's just open this up, and you'll see\nour two DNS keys are there as well.\n\n391\n00:18:25.156 --> 00:18:28.080\nIf you remember those numbers.\n\n392\n00:18:28.080 --> 00:18:29.162\nLet's just go take a look.\n\n393\n00:18:29.162 --> 00:18:32.507\nSo right-click here,\nlatency not withstanding.\n\n394\n00:18:32.507 --> 00:18:35.320\nWe have one that was three nine something.\n\n395\n00:18:35.320 --> 00:18:39.140\nSo there's one there, and then,\nwe had one that was, I think,\n\n396\n00:18:39.140 --> 00:18:42.369\neight something if I remember correctly,\nor five,\n\n397\n00:18:42.369 --> 00:18:46.255\neight, whatever it was, so\nyou can see those so they're there.\n\n398\n00:18:46.255 --> 00:18:49.944\nAll right, so I have these records now,\nI've essentially moved them over to\n\n399\n00:18:49.944 --> 00:18:52.838\na secondary server, and\nI've used the settings that I may or\n\n400\n00:18:52.838 --> 00:18:56.928\nmay not have set during the initial wizard\nconfiguration to automate that process and\n\n401\n00:18:56.928 --> 00:18:57.988\nreplicate them out.\n\n402\n00:18:57.988 --> 00:19:01.399\nAs I add additional domain controllers\nwith Active Director Integrated DNS,\n\n403\n00:19:01.399 --> 00:19:04.396\nas they come online this would\nhappen automatically, because now,\n\n404\n00:19:04.396 --> 00:19:07.459\nwe're gonna say, hey,\ntransfer those to every domain controller.\n\n405\n00:19:07.459 --> 00:19:10.023\nSo, that'll become part of the process,\nin theory,\n\n406\n00:19:10.023 --> 00:19:13.872\nevery Active Director Integrated DNS\nserver, I should say, but that will happen\n\n407\n00:19:13.872 --> 00:19:16.990\nis part of the whole process once I\ndo this, and as a result now that I\n\n408\n00:19:16.990 --> 00:19:20.550\nsee that I know that those were there\nare actually gonna be available to me.\n\n409\n00:19:20.550 --> 00:19:21.840\nSo that's kind of nice.\n\n410\n00:19:21.840 --> 00:19:25.140\nNow out of carry zone without\nDNSSEC validation requirement.\n\n411\n00:19:25.140 --> 00:19:27.762\nIn other words, how do we go in and\nhow do we actually do this?\n\n412\n00:19:27.762 --> 00:19:31.208\nThis again, one of those things that\nwe may wanna take a look at value,\n\n413\n00:19:31.208 --> 00:19:33.620\nyou were talking about some of the stuff,\nand we can go out, or\n\n414\n00:19:33.620 --> 00:19:35.330\nwe can do this, and how we would do it.\n\n415\n00:19:35.330 --> 00:19:37.296\nSo let's go to our Windows 10 machine and\nlet's use PowerShell.\n\n416\n00:19:37.296 --> 00:19:39.144\nTake a look at a couple of\nother little things that you\n\n417\n00:19:39.144 --> 00:19:40.154\nprobably wanna be aware of.\n\n418\n00:19:40.154 --> 00:19:43.755\nLet's switch over, let's minimize this\none here, and let me just check the,\n\n419\n00:19:43.755 --> 00:19:47.034\nI think the lab timer's fine, but\nI'm always scared about that [LAUGH],\n\n420\n00:19:47.034 --> 00:19:50.740\nbecause as any of the hosts here can tell\nyou, if you're on the wrong side of that,\n\n421\n00:19:50.740 --> 00:19:53.696\nand your not paying attention you lose,\nthe timer goes down, and\n\n422\n00:19:53.696 --> 00:19:55.320\nyou lose the entire environment.\n\n423\n00:19:55.320 --> 00:19:56.367\nYou gotta start over, and\n\n424\n00:19:56.367 --> 00:19:59.052\nthen of course we have to rebuild\neverything we're doing for you.\n\n425\n00:19:59.052 --> 00:20:02.487\nSo, you'll see me check it sometimes\nduring this show just to make sure.\n\n426\n00:20:02.487 --> 00:20:04.646\nAll right, so\nwe're back on our Windows 10 machine.\n\n427\n00:20:04.646 --> 00:20:08.835\nSo, what I'm gonna do is the following,\nobviously running it as an administrator.\n\n428\n00:20:08.835 --> 00:20:11.960\nI'm gonna use the resolved\nDNS name parameter, or\n\n429\n00:20:11.960 --> 00:20:14.700\nthe resolved DNS name commandlet,\nI should say.\n\n430\n00:20:14.700 --> 00:20:15.988\nSo, let's put that in there.\n\n431\n00:20:15.988 --> 00:20:18.309\nWe'll just do a quick tab, and\n\n432\n00:20:18.309 --> 00:20:22.710\nnow we're gonna specify what\nit is that we wanna resolve.\n\n433\n00:20:22.710 --> 00:20:26.244\nNow if you remember, I think it was two\nepisodes ago, I showed you the host\n\n434\n00:20:26.244 --> 00:20:29.899\nrecords, or the A records, that were\nin the zone for secure practice labs.\n\n435\n00:20:29.899 --> 00:20:32.803\nRight, I talked about the record, and\n\n436\n00:20:32.803 --> 00:20:36.560\nthen I said I created two host records,\nwww and www2.\n\n437\n00:20:36.560 --> 00:20:39.343\nI showed that they were\nthere before we got started.\n\n438\n00:20:39.343 --> 00:20:44.131\nSo we're gonna use\nwww.scriptpracticelabs.com as our name we\n\n439\n00:20:44.131 --> 00:20:45.702\nwanna resolve here.\n\n440\n00:20:45.702 --> 00:20:47.947\nIt's gonna go up against\nthat record in theory,\n\n441\n00:20:47.947 --> 00:20:52.458\nshould return back I think 192.168.0.1 if\nI remember correctly, is the IP for that.\n\n442\n00:20:52.458 --> 00:20:54.875\nWe're gonna check that and\nsee what we get.\n\n443\n00:20:54.875 --> 00:20:57.926\nSo let's type this in, so\n\n444\n00:20:57.926 --> 00:21:03.510\nwe're gonna do www.secure.practicelabs.\n\n445\n00:21:03.510 --> 00:21:05.720\nLet me just type that in.\n\n446\n00:21:05.720 --> 00:21:07.483\nSecure.practicelabs.com, okay good.\n\n447\n00:21:07.483 --> 00:21:10.877\nWe're gonna specify our server parameter,\nand\n\n448\n00:21:10.877 --> 00:21:14.030\nwe're gonna specify\nthe name of the server.\n\n449\n00:21:14.030 --> 00:21:18.631\nThat's the name of the server that we want\nto check against, or validate against.\n\n450\n00:21:18.631 --> 00:21:20.762\nIn this case plabdm01.\n\n451\n00:21:20.762 --> 00:21:23.740\nI could do plabsa01,\ncuz I just transferred there.\n\n452\n00:21:23.740 --> 00:21:26.300\nI could do plabdc01, where I originated.\n\n453\n00:21:26.300 --> 00:21:30.153\nI have three servers in theory that\nhave access to this information now so,\n\n454\n00:21:30.153 --> 00:21:32.720\nor at least two of them anyway,\ncuz plabsa01 and\n\n455\n00:21:32.720 --> 00:21:35.797\nplabdc01 have the complete\nsecure practice of lab zone.\n\n456\n00:21:35.797 --> 00:21:38.747\nPlabdm01 will have it over time if\nI let it just sit long enough and\n\n457\n00:21:38.747 --> 00:21:39.859\neverything gets set up.\n\n458\n00:21:39.859 --> 00:21:41.884\nBut at a minimum,\nI could do any or all of these,\n\n459\n00:21:41.884 --> 00:21:43.518\nit's just a matter of what I wanna do.\n\n460\n00:21:43.518 --> 00:21:46.806\nSo I'm gonna do plabdm01 and then dnssec.\n\n461\n00:21:46.806 --> 00:21:51.626\nSo dnssecok as a parameter.\n\n462\n00:21:51.626 --> 00:21:56.335\nSo we're gonna go ahead hit that, and what\nwe get back here is we get a listing of,\n\n463\n00:21:56.335 --> 00:21:58.017\nas you can see, our record.\n\n464\n00:21:58.017 --> 00:22:02.568\nWe get our A record, host record,\nTTL 3600, and we get out IP address,\n\n465\n00:22:02.568 --> 00:22:07.405\nI said it should be 01, there it is, and\nwe could see just a little more detail,\n\n466\n00:22:07.405 --> 00:22:11.580\nthe query type is an RRSIG or\nresource record signature request.\n\n467\n00:22:11.580 --> 00:22:13.867\nLooking at the RR set,\nthe resource record set and\n\n468\n00:22:13.867 --> 00:22:16.221\ngetting information back\naround that signature.\n\n469\n00:22:16.221 --> 00:22:21.122\nSo, we're getting information\nhere that allows us to query,\n\n470\n00:22:21.122 --> 00:22:24.640\nand to validate, and see this information.\n\n471\n00:22:24.640 --> 00:22:27.280\nWe're doing without the DNSSEC validation,\nbecause as I said,\n\n472\n00:22:27.280 --> 00:22:30.470\nnot all clients may\nsupport DNSSEC validation.\n\n473\n00:22:30.470 --> 00:22:34.710\nNewer clients do, but not every client\ndoes, and so we may wanna be able to do\n\n474\n00:22:34.710 --> 00:22:39.217\nthis with or without that and the DNSSECOK\nallows me to specify that I'm not gonna\n\n475\n00:22:39.217 --> 00:22:43.086\nuse validation, that's what that\nparameter does on the end there.\n\n476\n00:22:43.086 --> 00:22:45.030\nSo we're able to do that if we choose to,\n\n477\n00:22:45.030 --> 00:22:48.595\nand that's gonna help us to understand\nhow to get back this information.\n\n478\n00:22:48.595 --> 00:22:52.804\nBut also to understand that we may be\nable to do this on clients that don't\n\n479\n00:22:52.804 --> 00:22:55.140\nnecessarily support validation.\n\n480\n00:22:55.140 --> 00:22:56.821\nLet me just, give me half a second here.\n\n481\n00:22:56.821 --> 00:22:59.287\nThere we are,\nI'm just getting my scrollbar so\n\n482\n00:22:59.287 --> 00:23:01.082\nI can get down to the bottom there.\n\n483\n00:23:01.082 --> 00:23:04.228\nIt's great when they scale the screen\nin such a way that you just don't get\n\n484\n00:23:04.228 --> 00:23:06.678\nthe last line,\njust in case you wanna do something else.\n\n485\n00:23:06.678 --> 00:23:09.906\nNow I did mention, I think it\nwas the end of our last episode,\n\n486\n00:23:09.906 --> 00:23:14.399\nthat we're gonna come in, continue to talk\nabout DNSSEC, do some other stuff, but\n\n487\n00:23:14.399 --> 00:23:17.940\nalso, I mention NRPT,\nthe Name Resolution Policy Table.\n\n488\n00:23:17.940 --> 00:23:21.360\nAnd I said we wanna take a look at that\nbecause there are some settings there\n\n489\n00:23:21.360 --> 00:23:23.230\nthat we may want to specify.\n\n490\n00:23:23.230 --> 00:23:26.360\nSo before we actually go in and take\na look at the policy settings associated\n\n491\n00:23:26.360 --> 00:23:28.850\nwith this let's just take a look\nat what's currently there.\n\n492\n00:23:28.850 --> 00:23:32.540\nSo we're gonna use a commandlet\ncalled get-dns, a client NRPT policy.\n\n493\n00:23:32.540 --> 00:23:36.268\nSo get-dnsclientnrpt.\n\n494\n00:23:36.268 --> 00:23:39.947\nI'm not gonna type that whole thing,\nso I'm just gonna tab through there.\n\n495\n00:23:39.947 --> 00:23:43.187\nYou'll see we've got policy, rule, global.\n\n496\n00:23:43.187 --> 00:23:44.006\nThose three settings.\n\n497\n00:23:44.006 --> 00:23:45.005\nSo we're gonna choose policy.\n\n498\n00:23:45.005 --> 00:23:49.187\nThis is gonna show us what we may have,\nor anything that may be there, and\n\n499\n00:23:49.187 --> 00:23:54.070\nnotice right now, nothing comes back,\nwhich means I don't have a policy applied.\n\n500\n00:23:54.070 --> 00:23:58.212\nThere's nothing that I've set up, because\nI have to create and enable this policy.\n\n501\n00:23:58.212 --> 00:24:00.853\nSo, right now, no NRPT policy.\n\n502\n00:24:00.853 --> 00:24:01.898\nOkay, no big deal.\n\n503\n00:24:01.898 --> 00:24:02.644\nThat's fine.\n\n504\n00:24:02.644 --> 00:24:04.905\nNothing wrong with that,\nwe're gonna go ahead and\n\n505\n00:24:04.905 --> 00:24:07.175\nconfigure this show you\nhow to set this up.\n\n506\n00:24:07.175 --> 00:24:09.500\nSo what we're gonna do is go\ninto the domain controller.\n\n507\n00:24:09.500 --> 00:24:11.680\nI've already created\na policy called DNSSEC,\n\n508\n00:24:11.680 --> 00:24:14.645\nand I've already opened up where\nwe're gonna go to configure this.\n\n509\n00:24:14.645 --> 00:24:16.060\nI'm just scrolling down a little bit,\n\n510\n00:24:16.060 --> 00:24:18.230\njust to get to my notes\nabout what I wanna show you.\n\n511\n00:24:18.230 --> 00:24:21.240\nAnd let's minimize this for just a second.\n\n512\n00:24:21.240 --> 00:24:24.514\nLet's come over here, there's DC01.\n\n513\n00:24:24.514 --> 00:24:27.960\nLet me just minimize our DNS information.\n\n514\n00:24:27.960 --> 00:24:30.290\nI'm in the server manager here.\n\n515\n00:24:30.290 --> 00:24:31.780\nI went into tools.\n\n516\n00:24:31.780 --> 00:24:33.180\nI went to group policy management.\n\n517\n00:24:33.180 --> 00:24:37.720\nLet's pretend I clicked on that in order\nto get to the next spot where I am.\n\n518\n00:24:37.720 --> 00:24:40.510\nAnd I've opened up my group\npolicy management editor.\n\n519\n00:24:40.510 --> 00:24:45.690\nAnd let's assume that I right-clicked on\nAPAC, created and link a GPO right here.\n\n520\n00:24:45.690 --> 00:24:47.715\nI've done that called the DNSSEC.\n\n521\n00:24:47.715 --> 00:24:49.800\nRight-clicked on this and chose Edit.\n\n522\n00:24:49.800 --> 00:24:54.260\nAnd that takes me to my policy,\nwhich is right here.\n\n523\n00:24:54.260 --> 00:24:58.280\nAnd I'll just open this and slide this,\n\n524\n00:24:58.280 --> 00:25:00.170\njust so we could see that a little better,\nthere we go.\n\n525\n00:25:00.170 --> 00:25:03.075\nAnd you'll see that I'm in\nmy computer configuration.\n\n526\n00:25:03.075 --> 00:25:04.370\nHere's my policy.\n\n527\n00:25:04.370 --> 00:25:06.390\nI'm under policies in Windows settings.\n\n528\n00:25:06.390 --> 00:25:08.360\nWe've been in and\nout of here a lot doing various things.\n\n529\n00:25:08.360 --> 00:25:12.740\nWe're often in security settings,\nlooking at firewall settings, BitLocker.\n\n530\n00:25:12.740 --> 00:25:14.440\nUnder administrative templates, EFS.\n\n531\n00:25:14.440 --> 00:25:16.010\nGot all sort of stuff going on there.\n\n532\n00:25:16.010 --> 00:25:19.350\nBut here, we're gonna go to NRP,\nname resolution policy.\n\n533\n00:25:19.350 --> 00:25:22.630\nAnd under that folder,\nwe have this little window right here,\n\n534\n00:25:22.630 --> 00:25:24.170\nessentially this screen.\n\n535\n00:25:24.170 --> 00:25:27.976\nAnd it says overview, the NRPT,\nName Resolution Policy Table.\n\n536\n00:25:27.976 --> 00:25:33.370\nIt stores or saves configurations for\nDNS security, DNSSEC, and direct access.\n\n537\n00:25:33.370 --> 00:25:37.160\nI talk about this in direct access\nconversations in the networking\n\n538\n00:25:37.160 --> 00:25:37.930\nwith Server 16, right?\n\n539\n00:25:37.930 --> 00:25:43.510\nSo we did a whole set of shows, or a whole\nshow and a set of episodes on that.\n\n540\n00:25:43.510 --> 00:25:47.850\nBut direct access and other technology\nthat's used to be able to get in for\n\n541\n00:25:47.850 --> 00:25:51.440\nremote access to servers securely,\nwe use NRPT for both.\n\n542\n00:25:51.440 --> 00:25:54.300\nBut we're focusing on\nthe DNSSEC portion right now.\n\n543\n00:25:54.300 --> 00:25:59.300\nSo on DNS client computers, the settings\nhere when applied to group policy populate\n\n544\n00:25:59.300 --> 00:26:03.240\nthe values of that get request I just\nmade to show me whatever those will be.\n\n545\n00:26:03.240 --> 00:26:06.419\nWe don't have anything now because\nwe haven't set the policy, but\n\n546\n00:26:06.419 --> 00:26:09.934\nwe come in and we actually populate or\npre-populate settings here that let\n\n547\n00:26:09.934 --> 00:26:14.120\nme control aspects of how DNSSEC will be\nconfigured to run on that client, right?\n\n548\n00:26:14.120 --> 00:26:15.380\nSo I can come over here.\n\n549\n00:26:15.380 --> 00:26:17.770\nName resolution policy and the GPO object.\n\n550\n00:26:17.770 --> 00:26:21.700\nThat contains policy information found\nin the NRPT, is what we put here.\n\n551\n00:26:21.700 --> 00:26:24.700\nWe create or edit rules that will\nessentially then pre-populate and\n\n552\n00:26:24.700 --> 00:26:26.140\nmake these available for us.\n\n553\n00:26:26.140 --> 00:26:29.460\nApplied through just a normal\ngroup policy operations.\n\n554\n00:26:29.460 --> 00:26:30.260\nSo create rules.\n\n555\n00:26:30.260 --> 00:26:32.240\nTo what part of the name\nspace this rule apply.\n\n556\n00:26:32.240 --> 00:26:33.480\nWe have several choices.\n\n557\n00:26:33.480 --> 00:26:34.460\nWe have suffix.\n\n558\n00:26:34.460 --> 00:26:36.530\nPrefix f2dm.\n\n559\n00:26:36.530 --> 00:26:39.790\nBoth subnets for IPv4 and\nIPv6, and or any.\n\n560\n00:26:39.790 --> 00:26:42.631\nSo we could specify based on\nwhat we choose here, right,\n\n561\n00:26:42.631 --> 00:26:44.835\nthat we will put in different information.\n\n562\n00:26:44.835 --> 00:26:47.718\nAnd FQDN consists of the host and\ndomain name.\n\n563\n00:26:47.718 --> 00:26:51.120\nIt's nice, it kinda gives us a little hey,\nput this in there or do this or that.\n\n564\n00:26:51.120 --> 00:26:53.150\nIt tells us what we're\nsupposed to do here, right?\n\n565\n00:26:53.150 --> 00:26:57.550\nSo we're gonna be able to go in and\nspecify whatever we will choose,\n\n566\n00:26:57.550 --> 00:26:58.820\nwhatever choices we make.\n\n567\n00:26:58.820 --> 00:27:00.102\nNow, if you just come down here,\n\n568\n00:27:00.102 --> 00:27:05.210\nbecause there's quite a bit of stuff\ngoing on in this window, right?\n\n569\n00:27:05.210 --> 00:27:09.140\nSo we could see that we do have\nenable DNSSEC in this rule.\n\n570\n00:27:09.140 --> 00:27:10.030\nSo we can enable it.\n\n571\n00:27:10.030 --> 00:27:10.760\nTurn it on.\n\n572\n00:27:10.760 --> 00:27:12.080\nSpecify validation.\n\n573\n00:27:12.080 --> 00:27:13.740\nThere's our old friend IPsec, right?\n\n574\n00:27:13.740 --> 00:27:15.400\nSo we have some options there.\n\n575\n00:27:15.400 --> 00:27:17.700\nIf we're doing the settings for\ndirect access,\n\n576\n00:27:17.700 --> 00:27:21.160\nalthough we're not going to get into them\nnow, we have a tab setting there for that.\n\n577\n00:27:21.160 --> 00:27:25.030\nSo we can specify here kind of\nas we go how we want to do this.\n\n578\n00:27:25.030 --> 00:27:27.680\nWe then also, down here at the bottom,\n\n579\n00:27:29.460 --> 00:27:33.650\nhave our name policy resolution table and\nour rules that are created.\n\n580\n00:27:33.650 --> 00:27:34.610\nThey will be there, right?\n\n581\n00:27:34.610 --> 00:27:37.630\nCo we can actually, can we go full screen\njust so we can see that at the bottom?\n\n582\n00:27:37.630 --> 00:27:39.250\nThere we go, thank you very much.\n\n583\n00:27:39.250 --> 00:27:43.760\nSo we have, once we create this, right,\nwe're then gonna have the ability up above\n\n584\n00:27:43.760 --> 00:27:46.700\nto say, hey, I want this rule,\nor whatever we're gonna enable.\n\n585\n00:27:46.700 --> 00:27:47.630\nWe're gonna be able to go in,\n\n586\n00:27:47.630 --> 00:27:50.740\nand we're then gonna be able to\nactually see how this works.\n\n587\n00:27:50.740 --> 00:27:52.970\nSo let me go in and edit this, right?\n\n588\n00:27:52.970 --> 00:27:56.150\nSo I'm gonna go in and\nI'm gonna specify suffix.\n\n589\n00:27:56.150 --> 00:28:00.780\nAnd I'm gonna put in my secure practice\nlabs.com suffix for the domain, so\n\n590\n00:28:00.780 --> 00:28:02.205\nlet me just get back up here.\n\n591\n00:28:02.205 --> 00:28:05.940\nCuz I've mastered, in theory,\nthe art of scrolling, but in practice,\n\n592\n00:28:05.940 --> 00:28:08.155\nwell, it's not quite as-\n&gt;&gt; You are getting pretty good.\n\n593\n00:28:08.155 --> 00:28:10.470\n&gt;&gt; [LAUGH] It's not quite as\nbeautiful as it's supposed to be.\n\n594\n00:28:10.470 --> 00:28:11.330\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n595\n00:28:11.330 --> 00:28:14.530\nso let me type this in here,\nsecurepracticelabs.com.\n\n596\n00:28:14.530 --> 00:28:16.512\nAll right, so let me type that in.\n\n597\n00:28:18.383 --> 00:28:20.250\nGo ahead and we'll do that.\n\n598\n00:28:20.250 --> 00:28:23.530\nAnd we have securepracticelabs.com for\nour suffix.\n\n599\n00:28:23.530 --> 00:28:25.430\nLet me scroll down just a little bit.\n\n600\n00:28:25.430 --> 00:28:28.010\nLet me enable DNSSEC in this rules.\n\n601\n00:28:28.010 --> 00:28:30.870\nSo let me just check off the box\nwe were talking about here.\n\n602\n00:28:30.870 --> 00:28:33.100\nSo you can see I'm checking\nthat off to enable it.\n\n603\n00:28:33.100 --> 00:28:36.640\nAssigning is in other words a rule\nthat will wind up down below.\n\n604\n00:28:36.640 --> 00:28:41.070\nAnd then you'll see DNSSEC settings\nvalidation require DNS clients, right, to\n\n605\n00:28:41.070 --> 00:28:44.900\nbe able to check that the name and address\nhas been validated by the DNS server.\n\n606\n00:28:44.900 --> 00:28:48.460\nRemember, we can actually have the server\ndo the validation or we can do it.\n\n607\n00:28:48.460 --> 00:28:50.770\nIt's a question of whether\nthe client supports it or not.\n\n608\n00:28:50.770 --> 00:28:54.970\nSo we're choosing and setting up options\nthat will help us to kinda configure this.\n\n609\n00:28:54.970 --> 00:28:58.250\nWe're not gonna worry about IPsec, but\nas we talked about that in prior episodes,\n\n610\n00:28:58.250 --> 00:29:01.060\nwe have that whole thing\nwe can enable here as well.\n\n611\n00:29:01.060 --> 00:29:06.500\nYou'll see here, we can specify what\nlevel of encryption we want, AES desk,\n\n612\n00:29:06.500 --> 00:29:07.990\ntriple desk, whatever we may choose.\n\n613\n00:29:07.990 --> 00:29:09.520\nWe've had that conversation before.\n\n614\n00:29:09.520 --> 00:29:11.280\nSo hopefully that makes sense to you.\n\n615\n00:29:11.280 --> 00:29:16.150\nSo we can go through here, and we can\nrequire DNS clients to check that name and\n\n616\n00:29:16.150 --> 00:29:17.490\naddress data has been validated.\n\n617\n00:29:17.490 --> 00:29:20.640\nWe're gonna check that off and\nscroll down here.\n\n618\n00:29:23.380 --> 00:29:25.080\nSlowly, slowly, slowly.\n\n619\n00:29:25.080 --> 00:29:27.520\nAll right, so we're gonna scroll down.\n\n620\n00:29:27.520 --> 00:29:29.950\nWe're gonna click Create here\nto actually create the rule.\n\n621\n00:29:29.950 --> 00:29:30.810\nSo we're gonna go that.\n\n622\n00:29:30.810 --> 00:29:31.970\nJust give that one second.\n\n623\n00:29:31.970 --> 00:29:33.900\nNotice it drops the value\ndown to the NRPT,\n\n624\n00:29:33.900 --> 00:29:36.320\nthe Name Resolution Policy Table,\ndown below.\n\n625\n00:29:36.320 --> 00:29:40.690\nIt's kinda hard to see because the columns\nare so small cuz there's so many of them.\n\n626\n00:29:40.690 --> 00:29:44.230\nBut you could see we do have\nthere my securepracticelabs.som,\n\n627\n00:29:44.230 --> 00:29:48.860\nsuffix name space that I've associated,\nDNSSEC, as you can see here.\n\n628\n00:29:51.780 --> 00:29:52.710\nScroll that out.\n\n629\n00:29:52.710 --> 00:29:56.602\nNo IPsec for DNSSEC, but\nDNSSEC validation yes, right?\n\n630\n00:29:56.602 --> 00:29:58.510\nJst so we can see that.\n\n631\n00:29:58.510 --> 00:30:01.092\nSo we have our choices there,\nright, whatever we're doing, and\n\n632\n00:30:01.092 --> 00:30:02.160\nthat's been set up for us.\n\n633\n00:30:02.160 --> 00:30:05.486\nSo now, what we're doing is we can\n\n634\n00:30:08.895 --> 00:30:12.780\nSee at the very bottom, just like\nthe screen that never ends, right?\n\n635\n00:30:12.780 --> 00:30:15.573\nSo in order to do this, and\npeople often make this mistake, right?\n\n636\n00:30:15.573 --> 00:30:17.579\nThey get out of here and they're like,\nall right, well, I did that,\n\n637\n00:30:17.579 --> 00:30:19.192\nit's like group policy,\nlike registry editing.\n\n638\n00:30:19.192 --> 00:30:20.280\nI don't know if they hit anything.\n\n639\n00:30:20.280 --> 00:30:21.000\nIt's just applies.\n\n640\n00:30:21.000 --> 00:30:25.380\nWell, no, if you don't hit something in\nhere, specifically that Apply button,\n\n641\n00:30:25.380 --> 00:30:28.010\nyou gotta come back and do this all over\nagain, right, cuz it's not gonna apply.\n\n642\n00:30:28.010 --> 00:30:30.470\nSo it's one of those things you\ngotta really go all the way down and\n\n643\n00:30:30.470 --> 00:30:32.040\nreally understand what's happening there.\n\n644\n00:30:32.040 --> 00:30:34.090\nSo we're gonna click Apply,\nwe actually do wanna apply this.\n\n645\n00:30:34.090 --> 00:30:35.980\nSo gonna apply that.\n\n646\n00:30:35.980 --> 00:30:40.640\nAnd then, At that point,\nwe can come out of here.\n\n647\n00:30:40.640 --> 00:30:43.760\nWe can go in, and we can,\nin this case I'm gonna go in and\n\n648\n00:30:43.760 --> 00:30:46.720\nI'm gonna do a GP update for\nus just to apply the policy.\n\n649\n00:30:46.720 --> 00:30:47.885\nSo we will go in and just do that.\n\n650\n00:30:47.885 --> 00:30:50.935\nJust give me a sec,\nI'm gonna close out of this, all right?\n\n651\n00:30:50.935 --> 00:30:52.300\nLet me minimize here.\n\n652\n00:30:52.300 --> 00:30:57.115\nAready got the appropriate\ncommand prompt setup, so\n\n653\n00:30:57.115 --> 00:31:01.355\nwe're gonna do a GP update force\nhere on our domain controller.\n\n654\n00:31:01.355 --> 00:31:03.985\nppudpate /force.\n\n655\n00:31:03.985 --> 00:31:07.365\nExcept if I spell force correctly,\nit would probably work a lot better.\n\n656\n00:31:07.365 --> 00:31:10.010\nRight, so\ngonna give that just a second to run.\n\n657\n00:31:10.010 --> 00:31:13.296\nAnd then what we're gonna\ndo is the following.\n\n658\n00:31:19.853 --> 00:31:23.615\nAll right, it's gonna switch over\nto PowerShell here for this one.\n\n659\n00:31:23.615 --> 00:31:27.275\nJust because I want to use that same\ncommand that we just took a look at to\n\n660\n00:31:27.275 --> 00:31:29.105\nthe get DNS client policy commandlet.\n\n661\n00:31:29.105 --> 00:31:30.787\nAnd I want to see if there's any change,\nright?\n\n662\n00:31:30.787 --> 00:31:33.685\nBecause in theory, now I should\nactually see something, right?\n\n663\n00:31:33.685 --> 00:31:38.175\nSo let's re-enable or get the DNS client\nNRTP policies is what I mean to say.\n\n664\n00:31:38.175 --> 00:31:40.986\nSo let's go ahead, let's do that.\n\n665\n00:31:40.986 --> 00:31:42.265\ndnsclientnrp.\n\n666\n00:31:43.390 --> 00:31:45.230\nAnd let's do that.\n\n667\n00:31:45.230 --> 00:31:48.740\nAnd you'll see what do we get back, right?\n\n668\n00:31:48.740 --> 00:31:50.540\nWe don't see anything yet,\nso let's give it a minute,\n\n669\n00:31:50.540 --> 00:31:52.170\nit may actually take another minute for\nit to show up.\n\n670\n00:31:52.170 --> 00:31:53.860\n&gt;&gt; Are we on the DC or\nthe client when we tested that?\n\n671\n00:31:53.860 --> 00:31:54.984\n&gt;&gt; What?\n&gt;&gt; Are we on the DC or the client-\n\n672\n00:31:54.984 --> 00:31:56.574\n&gt;&gt; No, I'm just testing it here, but\n\n673\n00:31:56.574 --> 00:31:58.535\nin other words,\nI just did GP update force,\n\n674\n00:31:58.535 --> 00:32:00.404\nthat should in theory show up either way.\n\n675\n00:32:00.404 --> 00:32:04.925\nIt may take a minute on and\nmay just not have totally refreshed yet.\n\n676\n00:32:04.925 --> 00:32:05.497\nLet's just see.\n\n677\n00:32:05.497 --> 00:32:06.460\nWe should get that.\n\n678\n00:32:07.910 --> 00:32:08.750\nI know why.\n\n679\n00:32:08.750 --> 00:32:09.800\nI am such an idiot.\n\n680\n00:32:10.890 --> 00:32:13.460\nThis is why you pay attention\nwhere you apply your group policy.\n\n681\n00:32:13.460 --> 00:32:14.540\n&gt;&gt; Where that was linked.\n\n682\n00:32:14.540 --> 00:32:18.360\n&gt;&gt; I put it down at APAC where I\ndo not have my domain controller.\n\n683\n00:32:18.360 --> 00:32:20.310\nAs opposed to putting it on\nthe domain controllers so\n\n684\n00:32:20.310 --> 00:32:23.500\nwhere I actually doing my domain That's\nwhat I get for not paying attention.\n\n685\n00:32:23.500 --> 00:32:25.460\nAll right so we're gonna quickly\nfix that it's not a big deal.\n\n686\n00:32:25.460 --> 00:32:26.880\nAnd this happens in the real world right.\n\n687\n00:32:26.880 --> 00:32:30.330\nYou're not paying attention, and you\ndon't realize where you put your policy\n\n688\n00:32:30.330 --> 00:32:32.910\ndespite the fact in almost every episode\nthey do there's a policy I keep warning\n\n689\n00:32:32.910 --> 00:32:35.890\nyou not to do what I just did,\nit does happen from time to time.\n\n690\n00:32:35.890 --> 00:32:37.040\nAll right, so we're gonna fix this though.\n\n691\n00:32:37.040 --> 00:32:38.540\nIt's very easy to do, right?\n\n692\n00:32:38.540 --> 00:32:40.880\nI could do a couple of things.\n\n693\n00:32:40.880 --> 00:32:43.780\nWhat I'm gonna do easily here,\njust go to the domain controller's OU.\n\n694\n00:32:43.780 --> 00:32:45.430\nI'm gonna right-click and\n\n695\n00:32:45.430 --> 00:32:48.300\nI'm gonna link to an existing GPO\nbecause I already have a policy.\n\n696\n00:32:48.300 --> 00:32:49.890\nWhy go reinvent the wheel, right?\n\n697\n00:32:49.890 --> 00:32:51.440\nSo I'm just gonna go ahead and grab that.\n\n698\n00:32:51.440 --> 00:32:53.550\nLet's do that, let's link that there.\n\n699\n00:32:55.160 --> 00:32:59.220\nAll right and then once I've done that,\nthat's in there enable\n\n700\n00:32:59.220 --> 00:33:04.210\nDNS yes all right so now I'm gonna do\none more time and actually it's right\n\n701\n00:33:04.210 --> 00:33:07.360\nfrom PowerShell I don't even need\nto worry about the command line.\n\n702\n00:33:07.360 --> 00:33:14.133\nJust do it right from here,\nlet's do a gpupdate force whoops.\n\n703\n00:33:16.651 --> 00:33:18.174\nTell me, if I could spell,\n\n704\n00:33:18.174 --> 00:33:19.400\nI would be very-\n&gt;&gt; [LAUGH]\n\n705\n00:33:19.400 --> 00:33:21.430\n&gt;&gt; I would be a force to contend\n\n706\n00:33:21.430 --> 00:33:22.335\nwith if I could spell.\n\n707\n00:33:22.335 --> 00:33:24.670\n[LAUGH] Let's just waiting for\nthat to finish.\n\n708\n00:33:24.670 --> 00:33:26.580\nHopefully, it won't take too long.\n\n709\n00:33:26.580 --> 00:33:27.930\nIt's a pretty small set of policy.\n\n710\n00:33:27.930 --> 00:33:28.910\nSo it shouldn't take too long.\n\n711\n00:33:28.910 --> 00:33:32.730\nAll right, so now There we go.\n\n712\n00:33:32.730 --> 00:33:33.830\n&gt;&gt; Yes.\n&gt;&gt; Just to make sure the policy is in\n\n713\n00:33:33.830 --> 00:33:34.680\nthe right place.\n\n714\n00:33:34.680 --> 00:33:38.030\nI want to tweak now how the policy\nactually apply this is what we should see.\n\n715\n00:33:38.030 --> 00:33:40.980\nWe'd see the same thing with the client\nof course when we get it there no\n\n716\n00:33:40.980 --> 00:33:41.530\nmatter how we do it.\n\n717\n00:33:41.530 --> 00:33:44.970\nWe just want to see the fact that\nthe policy is being applied.\n\n718\n00:33:44.970 --> 00:33:48.160\nYou see we do now have our name\nspace our suffix that you could\n\n719\n00:33:48.160 --> 00:33:48.920\npractice at labs.com.\n\n720\n00:33:48.920 --> 00:33:54.560\nYou could see there We're not\nrequiring IPsec, so that's false.\n\n721\n00:33:54.560 --> 00:33:57.150\nWe are requiring DNSSEC validation.\n\n722\n00:33:57.150 --> 00:33:57.980\nYou can see that there.\n\n723\n00:33:57.980 --> 00:34:00.780\nSo it is essentially what we\njust signified in the policy.\n\n724\n00:34:00.780 --> 00:34:05.990\nSo now that we've assigned or\nset up the NRTP policy and we apply it,\n\n725\n00:34:05.990 --> 00:34:10.820\nour clients can now query a signed\nDNSSEC zone with validation.\n\n726\n00:34:10.820 --> 00:34:14.810\nWe could go in in other words On our\nclients and we could apply this.\n\n727\n00:34:14.810 --> 00:34:17.280\nNow what I'm gonna do is I'm\njust gonna make sure, so\n\n728\n00:34:17.280 --> 00:34:18.420\nif you can give me one second.\n\n729\n00:34:18.420 --> 00:34:21.550\nI have to make sure that my Windows\n10 machine is in the eight pack\n\n730\n00:34:21.550 --> 00:34:25.760\nOU before I do this otherwise I just\ngotta move it there quickly do that.\n\n731\n00:34:25.760 --> 00:34:27.910\nSo I'm gonna test this,\ntest it really quick.\n\n732\n00:34:27.910 --> 00:34:32.240\nI forgot that I was doing,\nnot forgot that I was doing this, but\n\n733\n00:34:32.240 --> 00:34:35.480\nI didn't realize that I was gonna\nput it there in two places.\n\n734\n00:34:35.480 --> 00:34:40.960\nLet me just verify and make sure that\nthe obvious is gonna be the case.\n\n735\n00:34:40.960 --> 00:34:44.930\nSo let's just make sure that our\nWindows 10 machine is sitting there.\n\n736\n00:34:44.930 --> 00:34:48.570\nAnd I don't believe it is,\nyes, so let me just grab that,\n\n737\n00:34:48.570 --> 00:34:53.140\nlet me just move that over to APAC real\nquick That way I can make sure the policy\n\n738\n00:34:53.140 --> 00:34:56.920\ngets applied, so\nthat way we go to test it at work.\n\n739\n00:34:56.920 --> 00:34:57.810\nThat's sitting there.\n\n740\n00:34:57.810 --> 00:35:02.260\nAll right so\nthen what we're gonna do is the following.\n\n741\n00:35:03.950 --> 00:35:06.540\nLet's get over to our Windows 10 machine.\n\n742\n00:35:06.540 --> 00:35:09.250\nGot that sitting here somewhere.\n\n743\n00:35:09.250 --> 00:35:10.700\nThere it is right there.\n\n744\n00:35:10.700 --> 00:35:14.200\nAll right, so\non Windows 10 remember we did this, right?\n\n745\n00:35:14.200 --> 00:35:15.160\nThere's no output for\n\n746\n00:35:15.160 --> 00:35:18.090\nthe policy right now because remember\nwe haven't done an update yet.\n\n747\n00:35:18.090 --> 00:35:19.360\nThe group policy hasn't been applied.\n\n748\n00:35:19.360 --> 00:35:19.890\n&gt;&gt; Right.\nYeah.\n\n749\n00:35:19.890 --> 00:35:23.400\n&gt;&gt; So we now just based on\nrefresh rates and the timing that\n\n750\n00:35:23.400 --> 00:35:26.490\nit's probably 90 to 120 minutes and\nclearly it hasn't been that long.\n\n751\n00:35:26.490 --> 00:35:29.540\nEven though it may May seem like that when\nyou're watching, it hasn't been that long.\n\n752\n00:35:29.540 --> 00:35:31.640\nAll right, so we're gonna do a GP\nupdate here real quick, right?\n\n753\n00:35:31.640 --> 00:35:35.070\nNow I could obviously log out,\nI could restart the machine,\n\n754\n00:35:35.070 --> 00:35:39.170\nthat would force policy refresh as well,\nbut we'll just cheat a little bit here.\n\n755\n00:35:39.170 --> 00:35:40.367\nLet's do a force.\n\n756\n00:35:46.200 --> 00:35:51.390\nJust wait for that to update,\nwe'll then put in our Information there or\n\n757\n00:35:51.390 --> 00:35:54.980\njust make sure our policies apply,\nI should say.\n\n758\n00:35:54.980 --> 00:35:56.320\nAll right, so let's see here.\n\n759\n00:35:57.600 --> 00:36:01.620\nOkay, so let's check and see, there we go.\n\n760\n00:36:01.620 --> 00:36:04.660\nOkay so we can see that we're now\npulling that down cuz obviously\n\n761\n00:36:04.660 --> 00:36:06.890\nwith policy applied it will be in play.\n\n762\n00:36:06.890 --> 00:36:08.080\nSo, we can see that now.\n\n763\n00:36:08.080 --> 00:36:12.360\nNow, we're able to go ahead and\nwe're able to see that now we would\n\n764\n00:36:12.360 --> 00:36:15.200\nindeed have the benefit of this box,\nright, if we chose to do this.\n\n765\n00:36:15.200 --> 00:36:18.973\nSo, let's go in and\nlet's resolve a record.\n\n766\n00:36:18.973 --> 00:36:27.055\nLet's go in and resolve a record\nwithin the resource, our set.\n\n767\n00:36:27.055 --> 00:36:29.267\nI'm just trying to think on the fly\nwhile I'm talking to you and\n\n768\n00:36:29.267 --> 00:36:31.290\nreading my note about the command\nI need to type, right?\n\n769\n00:36:31.290 --> 00:36:35.517\nSo, let's go in and let's do this,\nlet's do a resolved DNS name.\n\n770\n00:36:38.401 --> 00:36:42.090\nAnd let's do, what am I doing in this,\nsecure.practicelabs.com.\n\n771\n00:36:42.090 --> 00:36:45.720\nSo, let's do our name and let's do, and\n\n772\n00:36:45.720 --> 00:36:47.590\nI'll scroll up so\nyou can you this by the way.\n\n773\n00:36:47.590 --> 00:36:50.514\nI'll realize I'll type in at\nthe bottom of the screen, so\n\n774\n00:36:50.514 --> 00:36:52.137\nyou'll probably hard feel it.\n\n775\n00:36:52.137 --> 00:36:54.279\nSee what we're doing right up there,\nit's probably easier, right?\n\n776\n00:36:54.279 --> 00:37:00.264\nwww.secure.practicea labs.com,\n\n777\n00:37:00.264 --> 00:37:03.638\nso we've got that.\n\n778\n00:37:03.638 --> 00:37:09.260\nLet's do -type, and I think we did, what,\nDNS key or whatever we did last time.\n\n779\n00:37:09.260 --> 00:37:13.340\nLet's do SOA, start of authority record,\nwe know that that's there, so\n\n780\n00:37:13.340 --> 00:37:14.860\nlet's do an SOA.\n\n781\n00:37:14.860 --> 00:37:20.019\nLet's do our server, so\nlet's do --server and,\n\n782\n00:37:20.019 --> 00:37:23.030\noops, that one two dashes,\nthat is not right.\n\n783\n00:37:23.030 --> 00:37:25.320\nLet's do server, there we go.\n\n784\n00:37:25.320 --> 00:37:30.595\nAll right, let's do our plabdm01,\nright, all right.\n\n785\n00:37:34.405 --> 00:37:37.578\nAnd you'll see we get that back,\nright we're getting back those,\n\n786\n00:37:37.578 --> 00:37:38.700\nwe'll just go up here.\n\n787\n00:37:40.380 --> 00:37:41.770\nJust to show you what we got back.\n\n788\n00:37:43.220 --> 00:37:44.440\nThere we go, right there.\n\n789\n00:37:44.440 --> 00:37:47.680\nSo we got back our SOA record this time,\nright?\n\n790\n00:37:47.680 --> 00:37:51.420\nAs opposed to a host record or\nwhatever else we may have asked for.\n\n791\n00:37:51.420 --> 00:37:54.280\nAgain, information about it,\nwhatever it may be.\n\n792\n00:37:54.280 --> 00:37:57.220\nWe have the R query type.\n\n793\n00:37:57.220 --> 00:37:58.480\nWe've got our information there.\n\n794\n00:37:58.480 --> 00:38:02.730\nNotice, by the way, our signature,\nour signer information, right?\n\n795\n00:38:02.730 --> 00:38:07.000\nSo, we can see It is signed,\nright there, right?\n\n796\n00:38:07.000 --> 00:38:12.510\nThat's our signer when it was signed, when\nthe sign or the signature expires, right?\n\n797\n00:38:12.510 --> 00:38:16.290\nSo we get some additional information\nthat's showing us that we have implemented\n\n798\n00:38:16.290 --> 00:38:19.050\nDNS sec and we're getting\nthe value of that protection.\n\n799\n00:38:19.050 --> 00:38:23.140\nWhich is really remember integrity\naround proof of origin and source so\n\n800\n00:38:23.140 --> 00:38:26.890\nwe can trust that this information\nis indeed valid and legitimate.\n\n801\n00:38:26.890 --> 00:38:31.565\nThat's what we want to see We do see,\nwe have our Nsec 3 working for us here.\n\n802\n00:38:31.565 --> 00:38:33.110\n&gt;&gt; Mm-hm.\n\n803\n00:38:33.110 --> 00:38:37.610\n&gt;&gt; We do as we scroll down, have\n\n804\n00:38:37.610 --> 00:38:42.720\ninformation that also tells us that your\noriginating this from plab dc01, right?\n\n805\n00:38:42.720 --> 00:38:45.790\nAnd that that is the information\nthat we're resolving for.\n\n806\n00:38:45.790 --> 00:38:47.610\nSo, everything that we were talking about,\n\n807\n00:38:47.610 --> 00:38:49.180\neverything that we were doing,\nnow in play.\n\n808\n00:38:49.180 --> 00:38:52.310\nWe've been able to bring\nthe NRPT discussion.\n\n809\n00:38:52.310 --> 00:38:55.850\nA name or solution policy table group\npolicy settings in to be able to allow\n\n810\n00:38:55.850 --> 00:38:59.390\nclients to either force the use of\nthat validation through the server or\n\n811\n00:38:59.390 --> 00:39:03.070\nsupport it locally depending on what\nversion of clients we may be talking about\n\n812\n00:39:03.070 --> 00:39:05.280\nwhich is another very important\npiece of the overall puzzle.\n\n813\n00:39:05.280 --> 00:39:06.001\nRight?\n\n814\n00:39:06.001 --> 00:39:09.133\n&gt;&gt; All right, great, look there,\nlove that demonstration, Adam.\n\n815\n00:39:09.133 --> 00:39:11.901\nGot to see our work in place, right?\n\n816\n00:39:11.901 --> 00:39:13.693\nWe got to see DNSsec in action.\n\n817\n00:39:13.693 --> 00:39:18.574\nWe can see how those clients are able\nto validate that the DNS server they're\n\n818\n00:39:18.574 --> 00:39:23.531\nreceiving that response from is the one\nthey expected to receive the response\n\n819\n00:39:23.531 --> 00:39:26.673\nfrom and not some kind of,\nwhat am I looking for?\n\n820\n00:39:26.673 --> 00:39:27.342\n&gt;&gt; Stranger.\n\n821\n00:39:27.342 --> 00:39:29.690\n&gt;&gt; Yeah, stranger danger,\nthere we go, we go back to that.\n\n822\n00:39:29.690 --> 00:39:30.630\n&gt;&gt; A masquerader.\n\n823\n00:39:30.630 --> 00:39:33.530\n&gt;&gt; That's right, and we don't want any of\nthose spoof responses coming back to your\n\n824\n00:39:33.530 --> 00:39:34.660\nclient, so-\n&gt;&gt; Exactly.\n\n825\n00:39:34.660 --> 00:39:36.150\n&gt;&gt; All right, well,\nthank you for that Adam,\n\n826\n00:39:36.150 --> 00:39:38.370\nwe hope everybody out there\nenjoyed watching this one.\n\n827\n00:39:38.370 --> 00:39:41.332\nSigning off for ITProTV,\nI've been your host, Mike Rodrick.\n\n828\n00:39:41.332 --> 00:39:42.102\n&gt;&gt; I'm Adam Gordon.\n\n829\n00:39:42.102 --> 00:39:43.220\n&gt;&gt; And we'll see you next time.\n\n830\n00:39:47.497 --> 00:39:50.456\n[MUSIC]\n\n831\n00:39:50.456 --> 00:39:54.030\nThank you for watching ITPro.TV.\n\n",
          "vimeoId": "236933517"
        },
        {
          "description": "",
          "length": "2661",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-8-secure_network_traffic_pt8-100317-PGM.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-8-secure_network_traffic_pt8-100317-PGM-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70744/microsoft-server70744-16-1-8-secure_network_traffic_pt8-100317-PGM-sm.jpg",
          "title": "Secure Network Traffic Part 8",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.040\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.040 --> 00:00:06.153\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.153 --> 00:00:08.314\n[MUSIC]\n\n4\n00:00:08.314 --> 00:00:12.875\n&gt;&gt; You're watching ITProTV\n&gt;&gt; Hello,\n\n5\n00:00:12.875 --> 00:00:15.901\nwelcome to another exciting\nepisode here at ITProTV.\n\n6\n00:00:15.901 --> 00:00:21.651\nI'm your host, Mike Rodrick, and today\nwe are doing Secure Windows Server 2016,\n\n7\n00:00:21.651 --> 00:00:24.306\npreparing for that 70-744 exam.\n\n8\n00:00:24.306 --> 00:00:28.942\nIn this episode, we're gonna be continuing\nour thought process on how we go about\n\n9\n00:00:28.942 --> 00:00:33.580\nsecuring network traffic, or\nlooking at ways to secure network traffic.\n\n10\n00:00:33.580 --> 00:00:36.190\nBack again is Mr.\nAdam Gordon, welcome back Adam.\n\n11\n00:00:36.190 --> 00:00:39.940\n&gt;&gt; If you say secure network traffic\nthree time in a row, it's secure.\n\n12\n00:00:39.940 --> 00:00:42.230\nPeople don't realize that,\nif you only do it twice, it doesn't work.\n\n13\n00:00:42.230 --> 00:00:44.090\nYou say it three times, It's like\nBeetlejuice, say the name three times-\n\n14\n00:00:44.090 --> 00:00:45.260\n&gt;&gt; I was afraid if I said it one\n\n15\n00:00:45.260 --> 00:00:46.520\nmore time Bill Gates might show up.\n\n16\n00:00:46.520 --> 00:00:47.460\n&gt;&gt; Or Voldemort.\n\n17\n00:00:47.460 --> 00:00:49.505\nNo it's actually Voldemort who\npops up out of the ground.\n\n18\n00:00:49.505 --> 00:00:50.750\n&gt;&gt; [LAUGH]\n&gt;&gt; So yeah,\n\n19\n00:00:50.750 --> 00:00:52.560\nif you say it three times\nthat's actually what happens.\n\n20\n00:00:52.560 --> 00:00:54.270\nWe could just go home,\nwe don't have to do anything else.\n\n21\n00:00:54.270 --> 00:00:55.660\n&gt;&gt; Cool, I like that.\n&gt;&gt; Say it one more time.\n\n22\n00:00:55.660 --> 00:00:57.399\n&gt;&gt; One more time, I can't do it.\n\n23\n00:00:57.399 --> 00:00:59.412\n&gt;&gt; Just be careful there,\nremember you're wearing the red shirt.\n\n24\n00:00:59.412 --> 00:01:01.089\n&gt;&gt; [LAUGH]\n&gt;&gt; They'll come after you before they come\n\n25\n00:01:01.089 --> 00:01:02.100\nafter anyone else.\n\n26\n00:01:02.100 --> 00:01:06.685\nAll right, so we are gonna continue our\nconversations here around making sure\n\n27\n00:01:06.685 --> 00:01:09.546\nwe understand how to deal\nwith network traffic.\n\n28\n00:01:09.546 --> 00:01:13.917\nAnd all the different things that we can\ndo to ensure security around that thought\n\n29\n00:01:13.917 --> 00:01:14.500\nprocess.\n\n30\n00:01:14.500 --> 00:01:19.430\nWe have been talking a great deal, several\nepisodes now running, about the DNSSEC,\n\n31\n00:01:19.430 --> 00:01:24.620\na very specific Idea and approach with\nregards to securing network traffic.\n\n32\n00:01:24.620 --> 00:01:28.980\nWe're gonna continue in that vein,\nbut move back just kind of one level.\n\n33\n00:01:28.980 --> 00:01:30.770\nNot focused just on the DNSSEC,\n\n34\n00:01:30.770 --> 00:01:33.860\nI think we've done a pretty good\nthorough job of discussing it.\n\n35\n00:01:33.860 --> 00:01:37.070\nShowing you how to implement it, hopefully\nyou found those episodes valuable.\n\n36\n00:01:37.070 --> 00:01:39.715\nIf you haven't seen them yet,\nencourage you to go back and take a look.\n\n37\n00:01:39.715 --> 00:01:44.230\nBut we're gonna step up one level,\nlink our thought process around DNSSEC\n\n38\n00:01:44.230 --> 00:01:48.445\nto another area that we manage\nand/or can set through PowerShell.\n\n39\n00:01:48.445 --> 00:01:52.075\nUsing the\nSet-DnsServerQueryResolutionPolicy cmdlet\n\n40\n00:01:52.075 --> 00:01:55.315\nin particular, but in general,\nDNS policies overall, right?\n\n41\n00:01:55.315 --> 00:01:59.935\nThis idea of using\nPowerShell to specify and\n\n42\n00:01:59.935 --> 00:02:05.095\ndo the configuration of how to\ncontrol a DNS server's processing\n\n43\n00:02:05.095 --> 00:02:08.755\nof DNS queries based on a variety\nof different parameters.\n\n44\n00:02:08.755 --> 00:02:12.935\nWe can do this based on requesting system\nIP address, so where's it coming from,\n\n45\n00:02:12.935 --> 00:02:16.690\nand based on that,\napply a set of policy stipulations.\n\n46\n00:02:16.690 --> 00:02:19.706\nWe implement this through\nPowerShell cmdlets,\n\n47\n00:02:19.706 --> 00:02:24.730\nthings like Add-DnsServerClientSubnet,\nAdd-DnsServerZoneScope.\n\n48\n00:02:24.730 --> 00:02:26.992\nLet me think about what\nthe other ones are there.\n\n49\n00:02:26.992 --> 00:02:31.830\nAdd-DnsServerResourceRecord,\nAdd-DnsServerQueryResolutionPolicy,\n\n50\n00:02:31.830 --> 00:02:34.720\nI'm gonna show you that one on\nthe screen here in just a minute.\n\n51\n00:02:34.720 --> 00:02:38.700\nSo we can go in and\nwe could specify, using PowerShell,\n\n52\n00:02:38.700 --> 00:02:41.270\nhow to now further tighten, modify, and\n\n53\n00:02:41.270 --> 00:02:45.460\ncontrol our ability to respond based\non the use of these parameters.\n\n54\n00:02:45.460 --> 00:02:46.460\nSo join me here,\n\n55\n00:02:46.460 --> 00:02:50.300\njust got a little webpage up that has some\nof the information associated with it.\n\n56\n00:02:50.300 --> 00:02:55.420\nAll I did was go out, take a look for\nthe cmdlet, a lot of these cmdlets,\n\n57\n00:02:55.420 --> 00:02:58.990\ntry to show them to you whenever we\ncan on the web through Microsoft.\n\n58\n00:02:58.990 --> 00:03:02.340\nA lot of them will come up through\nthe various documentation that\n\n59\n00:03:02.340 --> 00:03:03.240\nMicrosoft puts out.\n\n60\n00:03:03.240 --> 00:03:04.700\nIn this case, this one,\n\n61\n00:03:04.700 --> 00:03:09.980\nas you can see, has not just\nthe Set-DnsQueryResolutionPolicy, but\n\n62\n00:03:09.980 --> 00:03:14.780\nset recursion, set the,\n\n63\n00:03:14.780 --> 00:03:19.640\nwhat do we got there,\nrecursion aging or record aging rather.\n\n64\n00:03:19.640 --> 00:03:21.580\nRate limiting, we're gonna do or\n\n65\n00:03:21.580 --> 00:03:25.140\ntalk about RRL, response rate\nlimiting in just a couple of minutes,\n\n66\n00:03:25.140 --> 00:03:28.380\ndeal with amplification attacks and\nprotections against that.\n\n67\n00:03:28.380 --> 00:03:31.330\nSo we have a lot of these\ncmdlets just listed here,\n\n68\n00:03:31.330 --> 00:03:35.910\nand you could see many,\nmany of them around DNS, all right here.\n\n69\n00:03:35.910 --> 00:03:38.160\nAnd so its good,\nif you pull just any one of these,\n\n70\n00:03:38.160 --> 00:03:40.957\nthen you can then get the list\nof all of them as I'm scrolling.\n\n71\n00:03:40.957 --> 00:03:42.760\nThere's quite a few of\nthem as you can see.\n\n72\n00:03:42.760 --> 00:03:44.256\nIt's the never ending list, right?\n\n73\n00:03:44.256 --> 00:03:45.445\n&gt;&gt; Yeah.\n[LAUGH]\n\n74\n00:03:45.445 --> 00:03:47.394\n&gt;&gt; And you can drill in,\n\n75\n00:03:47.394 --> 00:03:52.830\ntake a look at what any or\nall of these do, as I overrun them.\n\n76\n00:03:52.830 --> 00:03:56.880\nBut the reason I like this particular\nsite, and again, this is in the show, and\n\n77\n00:03:56.880 --> 00:04:00.568\nI'd certainly invite you to take a look,\nit's not just, in this case,\n\n78\n00:04:00.568 --> 00:04:04.091\nthe DNS server cmdlets,\nalthough that's what we're focusing on.\n\n79\n00:04:04.091 --> 00:04:07.972\nBut you could see we've got all\nthe different cmdlets here, right, for\n\n80\n00:04:07.972 --> 00:04:10.780\nall of the different\nfunctions across everything.\n\n81\n00:04:10.780 --> 00:04:14.620\nThere's a bunch for BitLocker there,\npipe out BitLocker before.\n\n82\n00:04:14.620 --> 00:04:16.871\nWe've got all sorts of different\nones there, so it is nice,\n\n83\n00:04:16.871 --> 00:04:19.096\ncuz it does give us the ability\nto look at all these cmdlets.\n\n84\n00:04:19.096 --> 00:04:20.800\nSee, there's several thousand by the time\nyou get down across all of them.\n\n85\n00:04:20.800 --> 00:04:22.893\n&gt;&gt; Great reference to bookmark and\nkeep handy.\n\n86\n00:04:22.893 --> 00:04:24.463\n&gt;&gt; Yeah, yeah, absolutely,\nit's really good.\n\n87\n00:04:24.463 --> 00:04:27.271\nAnd we've talked a lot about\nthe importance of these both in the real\n\n88\n00:04:27.271 --> 00:04:29.300\nworld, but also for\nexam preparation, right?\n\n89\n00:04:29.300 --> 00:04:31.490\nKnowing about them, so good to know.\n\n90\n00:04:31.490 --> 00:04:34.714\nSo you see here,\nDNS query resolution policy.\n\n91\n00:04:34.714 --> 00:04:38.889\nWe've got some nice explanations of just\nthe different options that go with it.\n\n92\n00:04:38.889 --> 00:04:42.351\nYou'll see here this uses the update,\nor updates, rather, the settings and\n\n93\n00:04:42.351 --> 00:04:44.700\nthe policy for\nquery resolution in particular.\n\n94\n00:04:44.700 --> 00:04:47.430\nNice thing about this,\nthey show us examples of how to use this,\n\n95\n00:04:47.430 --> 00:04:48.450\nwhich is nice.\n\n96\n00:04:48.450 --> 00:04:50.420\nSo you'll see\nSet-DnsQueryResolutionPolicy,\n\n97\n00:04:50.420 --> 00:04:52.875\nthe reason I like it this way is,\nI don't have to type it out.\n\n98\n00:04:52.875 --> 00:04:55.276\n&gt;&gt; [LAUGH]\n&gt;&gt; So a little bit lazy this time.\n\n99\n00:04:55.276 --> 00:04:58.450\nBut you could see we would type this\nout in PowerShell, specify the name,\n\n100\n00:04:58.450 --> 00:05:02.050\nwhatever the name is we're gonna apply for\nthe policy, that's just really metadata.\n\n101\n00:05:02.050 --> 00:05:05.746\nPut down the Internet protocol that we\nare going to be targeting, in this case,\n\n102\n00:05:05.746 --> 00:05:09.590\nlet's say IPv4 for traffic, right,\nequals IPv4, you can see that.\n\n103\n00:05:09.590 --> 00:05:12.710\nPass through,\npipe that to a format list all, so\n\n104\n00:05:12.710 --> 00:05:16.440\nwe would then see that outputted,\nand get a nice little list for that.\n\n105\n00:05:16.440 --> 00:05:17.360\nYou talked about, well,\n\n106\n00:05:17.360 --> 00:05:19.180\nyou said you were gonna be doing\nsome PowerShell stuff, right?\n\n107\n00:05:19.180 --> 00:05:19.972\n&gt;&gt; Yeah, coming up next week.\n\n108\n00:05:19.972 --> 00:05:23.537\n&gt;&gt; So you deal with all the format, like\nformat table, format list, out grid view,\n\n109\n00:05:23.537 --> 00:05:24.580\nall that kind of stuff?\n\n110\n00:05:24.580 --> 00:05:27.105\n&gt;&gt; Actually it's interesting because\nsome of those formatting commands,\n\n111\n00:05:27.105 --> 00:05:29.540\nthey're all about how it\ndisplays on your screen.\n\n112\n00:05:29.540 --> 00:05:34.000\nAnd such stuff leads to, it's more\npresentable in a list versus a table.\n\n113\n00:05:34.000 --> 00:05:35.800\nBut also sometimes you\nget more information.\n\n114\n00:05:35.800 --> 00:05:36.450\n&gt;&gt; You do.\n\n115\n00:05:36.450 --> 00:05:39.210\n&gt;&gt; Right, some of those return sets\n\n116\n00:05:39.210 --> 00:05:43.525\ndon't show you all of the parameters for\nthat object.\n\n117\n00:05:43.525 --> 00:05:45.830\nWhereas if you do a format list,\nyou might see everything.\n\n118\n00:05:45.830 --> 00:05:47.410\nSo definitely good to\nplay around with those.\n\n119\n00:05:47.410 --> 00:05:48.690\n&gt;&gt; Yeah, it is, no doubt about it.\n\n120\n00:05:48.690 --> 00:05:51.232\nSo you could see the format\nlist output here, and so\n\n121\n00:05:51.232 --> 00:05:54.840\nwe could see, just as Mike was saying,\nget a nice little columnar view,\n\n122\n00:05:54.840 --> 00:05:57.670\nso puts it out for us and\nmakes it real easy to follow.\n\n123\n00:05:57.670 --> 00:05:59.500\nWe could see that information, right?\n\n124\n00:05:59.500 --> 00:06:02.653\nSo just keep in mind there\nmay be required parameters,\n\n125\n00:06:02.653 --> 00:06:04.718\nthere often are with some of these.\n\n126\n00:06:04.718 --> 00:06:06.380\nSo we got a nice little\nlisting of what these are.\n\n127\n00:06:06.380 --> 00:06:10.160\nName, for instance, right,\nthings of that nature, what are optional.\n\n128\n00:06:10.160 --> 00:06:13.840\nCan run it as a job, schedule it, so\nwe often talk about scheduling jobs and\n\n129\n00:06:13.840 --> 00:06:14.870\nrunning them in the background and\n\n130\n00:06:14.870 --> 00:06:17.880\nthen calling them from memory out\nof the array table we create.\n\n131\n00:06:17.880 --> 00:06:22.542\nAll this stuff we do in PowerShell, you\nwill learn more about when you come and\n\n132\n00:06:22.542 --> 00:06:26.935\nsee Mr. Mike, PowerShell guy in his\nupcoming PowerShell miniseries.\n\n133\n00:06:26.935 --> 00:06:29.465\nHe's doing the evolution and\nhistory of PowerShell, right?\n\n134\n00:06:29.465 --> 00:06:30.220\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n135\n00:06:30.220 --> 00:06:33.720\nso just keep in mind that when we use\nthese kind of cmdlets in general,\n\n136\n00:06:33.720 --> 00:06:36.395\nwe focus on DNS policies.\n\n137\n00:06:36.395 --> 00:06:38.749\nWe're just applying yet\nanother protection level, and\n\n138\n00:06:38.749 --> 00:06:42.095\nthis ideas that we can tailor and scope\na little bit, or we could tailor it right?\n\n139\n00:06:42.095 --> 00:06:44.255\n&gt;&gt; Yes.. [LAUGH] &gt;&gt; We could\ntalk very softly, right?\n\n140\n00:06:44.255 --> 00:06:48.760\nWe could tailor or we could scope right,\nwe could tailor or we could scope.\n\n141\n00:06:48.760 --> 00:06:51.740\nThe idea behind how we\nare applying these protections.\n\n142\n00:06:51.740 --> 00:06:53.580\nBut essentially,\nwhat I mean by tailoring and\n\n143\n00:06:53.580 --> 00:06:55.190\nscoping is just narrowly defining, right?\n\n144\n00:06:55.190 --> 00:06:57.887\nWe're filtering, essentially,\nreally cutting in and\n\n145\n00:06:57.887 --> 00:07:01.778\ncutting away from all the stuff we don't\nwant, and focusing in on the stuff we do.\n\n146\n00:07:01.778 --> 00:07:06.115\nYou'll see down there related links,\nadd DNS server query resolution policy,\n\n147\n00:07:06.115 --> 00:07:09.829\nget the current policy, remove one,\nset up a zone transfer policy.\n\n148\n00:07:09.829 --> 00:07:13.853\nThere's all these different policies we\ncan apply that allow us to further control\n\n149\n00:07:13.853 --> 00:07:14.690\nand constrain.\n\n150\n00:07:14.690 --> 00:07:18.630\nJust the thing we have to remember\nis that these policy elements\n\n151\n00:07:18.630 --> 00:07:21.550\nare manipulated through PowerShell,\nthey're not manipulated through the GUI.\n\n152\n00:07:21.550 --> 00:07:23.980\nSo we're not gonna go to\nthe Management Console, right-click, and\n\n153\n00:07:23.980 --> 00:07:25.690\nhave a whole bunch of DNS policies.\n\n154\n00:07:25.690 --> 00:07:26.955\nWe're gonna do this through PowerShell.\n\n155\n00:07:26.955 --> 00:07:30.530\nSo Microsoft's ratcheting up\nour ability to do this stuff.\n\n156\n00:07:30.530 --> 00:07:33.860\nBut also, they're splitting our focus,\nright, in this case,\n\n157\n00:07:33.860 --> 00:07:38.550\nbetween the command line and\nthe actual basic blocking and\n\n158\n00:07:38.550 --> 00:07:42.930\ntackling of security implemented through\nthe MMC, in this case the DNS console.\n\n159\n00:07:42.930 --> 00:07:45.200\nSo we do have to be aware of that and\njust think about that.\n\n160\n00:07:45.200 --> 00:07:48.353\nBut It would be a good idea for you to\nread up on, or at least be aware of,\n\n161\n00:07:48.353 --> 00:07:49.962\nsome of the policy options we have.\n\n162\n00:07:49.962 --> 00:07:53.644\nReally does give us that fine grained,\nor granular level of control.\n\n163\n00:07:53.644 --> 00:07:58.440\nAll right, so response rate limiting,\nRRL, Another area that we can throw on\n\n164\n00:07:58.440 --> 00:08:03.310\nthe DNS security checklist of things you\nmay want to think about implementing,\n\n165\n00:08:03.310 --> 00:08:05.436\nand/or think about the value of.\n\n166\n00:08:05.436 --> 00:08:09.191\nYou've heard me mention this in\na couple of different episodes,\n\n167\n00:08:09.191 --> 00:08:12.263\nthe idea being able to prevent\nthe use of a DNS server to\n\n168\n00:08:12.263 --> 00:08:16.038\nexecute amplification attacks is\nwhat I said this helps us to do.\n\n169\n00:08:16.038 --> 00:08:18.626\nAmplification attacks are just a fancy\n\n170\n00:08:18.626 --> 00:08:23.026\nway of us describing the idea of\nusing systems, co-opting them.\n\n171\n00:08:23.026 --> 00:08:26.770\nAnd creating denial, or in this case, we\ntalked about amplification traditionally,\n\n172\n00:08:26.770 --> 00:08:29.065\ndistributed denial of\nservice opportunities.\n\n173\n00:08:29.065 --> 00:08:35.150\nSo we are flooding one or more targets\nwith huge volumes of inbound traffic.\n\n174\n00:08:35.150 --> 00:08:38.010\nAnd as a result, more often than not,\ntrying to overwhelm them.\n\n175\n00:08:38.010 --> 00:08:42.610\nAnd either render them inoperable,\nor take them offline, crash them.\n\n176\n00:08:42.610 --> 00:08:46.580\nSome sort of exploit may then be\nattempted through either a memory bug or\n\n177\n00:08:46.580 --> 00:08:48.310\na kernel fault, or\nwhatever the case may be.\n\n178\n00:08:48.310 --> 00:08:50.930\nIt's all these outcomes that\noccur as a result of that.\n\n179\n00:08:50.930 --> 00:08:55.670\nBut the idea is that amplification attacks\nallow us to traditionally generate,\n\n180\n00:08:55.670 --> 00:08:59.670\ninstead of normal volumes of traffic,\nmassive amounts of inbound flow.\n\n181\n00:08:59.670 --> 00:09:03.055\nAnd then target that, direct that,\nalmost like with a fire hose, right,\n\n182\n00:09:03.055 --> 00:09:05.015\nwhere we're gonna target a certain area.\n\n183\n00:09:05.015 --> 00:09:06.941\nAnd that's what these attacks are.\n\n184\n00:09:06.941 --> 00:09:08.462\nAnd they're very problematic,\n\n185\n00:09:08.462 --> 00:09:11.580\nbecause there really isn't a great\nway to prevent this attack.\n\n186\n00:09:11.580 --> 00:09:15.911\nOnce it starts, you have to clamp down on\nthe inbound traffic flows and block them.\n\n187\n00:09:15.911 --> 00:09:19.736\nA lot of times this has to be done\nupstream, meaning you have to get on with\n\n188\n00:09:19.736 --> 00:09:24.600\nthe ISP or the service providers that are\nfeeding, right, your inbound connections.\n\n189\n00:09:24.600 --> 00:09:27.780\nAnd they have to, hopefully,\nthey have rate limiting in place.\n\n190\n00:09:27.780 --> 00:09:30.040\nThey're filtering and a lot of\ntimes they're doing this actively.\n\n191\n00:09:30.040 --> 00:09:32.140\nSo they're monitoring these traffic flows.\n\n192\n00:09:32.140 --> 00:09:34.090\nWhen they see a huge amount\nof traffic building,\n\n193\n00:09:34.090 --> 00:09:36.192\nthey will normally try to clamp down and\nprevent it.\n\n194\n00:09:36.192 --> 00:09:39.734\nBut it may be so quick and it may come\nfrom so many different directions,\n\n195\n00:09:39.734 --> 00:09:43.279\nthat they may have a problem really\nunderstanding what's happening in\n\n196\n00:09:43.279 --> 00:09:44.340\nthe beginning.\n\n197\n00:09:44.340 --> 00:09:47.790\nAnd so it may start and\nyou may not be able to prevent this.\n\n198\n00:09:47.790 --> 00:09:50.640\nBecause you're not able to get\nout in front of it enough and\n\n199\n00:09:50.640 --> 00:09:52.760\naround it to actually cut it off.\n\n200\n00:09:52.760 --> 00:09:55.450\nYou're just seeing this huge tidal\nwave essentially come at you, right,\n\n201\n00:09:55.450 --> 00:09:56.550\nif you think about the logic of it.\n\n202\n00:09:56.550 --> 00:10:01.960\nSo you're applying this as an additional\nlayer of protection along with DNSSEC.\n\n203\n00:10:01.960 --> 00:10:04.440\nIt's also a very good idea for\nus to consider.\n\n204\n00:10:04.440 --> 00:10:06.299\nWe use the Set-DnsServer,\n\n205\n00:10:06.299 --> 00:10:10.720\nRRL PowerShell cmdlet to be able\nto enable response rate limiting.\n\n206\n00:10:10.720 --> 00:10:13.632\nSo again, another item that\nis set through PowerShell.\n\n207\n00:10:13.632 --> 00:10:16.440\nSo we can see this,\nthe thought process here,\n\n208\n00:10:16.440 --> 00:10:18.960\ngot a little picture in the blog entry.\n\n209\n00:10:18.960 --> 00:10:21.080\nYou've got your botnet commander here,\nright?\n\n210\n00:10:21.080 --> 00:10:24.496\nThat's our bot herder,\nthat's Mr. Bot H, right?\n\n211\n00:10:24.496 --> 00:10:27.111\nSo we've got our little botnets here,\nright?\n\n212\n00:10:27.111 --> 00:10:30.637\nThe idea is that they're all spewing\nout controls, queries, right,\n\n213\n00:10:30.637 --> 00:10:33.550\nwith the victim IP address,\nsending its DNS servers.\n\n214\n00:10:33.550 --> 00:10:37.160\nThey're essentially tricking the DNS\nserver into amplifying their responses\n\n215\n00:10:37.160 --> 00:10:39.350\nback against the victim network.\n\n216\n00:10:39.350 --> 00:10:43.460\nEverybody go tell Mike what\nyou think 1.2.3.4 equals, and\n\n217\n00:10:43.460 --> 00:10:44.930\nMike hasn't asked for that.\n\n218\n00:10:44.930 --> 00:10:47.760\nBut because we tricked the DNS\nservers into thinking Mike did.\n\n219\n00:10:47.760 --> 00:10:51.450\nBecause all of the bots are sending\nthose queries out with a spoofed or\n\n220\n00:10:51.450 --> 00:10:53.930\na masqueraded IP, essentially.\n\n221\n00:10:53.930 --> 00:10:58.899\nAs the victim's IP is now becoming\nthe source, or excuse me, the initiator IP\n\n222\n00:10:58.899 --> 00:11:03.516\nof the request, DNS servers go back and\ndo what they're supposed to do.\n\n223\n00:11:03.516 --> 00:11:07.390\nLet's go run and tell Mike what the answer\nis, because that's what we're doing.\n\n224\n00:11:07.390 --> 00:11:11.420\nAnd a million DNS queries show up,\nand Mike wasn't expecting them.\n\n225\n00:11:11.420 --> 00:11:13.918\nAnd of course,\nnow we have all sorts of problems right?\n\n226\n00:11:13.918 --> 00:11:16.570\nAnd so, yeah, this is a pretty\ncommon attack on the Internet\n\n227\n00:11:16.570 --> 00:11:17.980\nas they talk about here.\n\n228\n00:11:17.980 --> 00:11:20.120\nAnd so the nice thing is,\nin this particular one,\n\n229\n00:11:20.120 --> 00:11:23.670\nwe have the cmdlet,\nas I said, Set-DnsServer RRL.\n\n230\n00:11:23.670 --> 00:11:26.740\nBut we see all of the additional items.\n\n231\n00:11:26.740 --> 00:11:31.442\nThe settings that are available, the\nresponses per second, errors per second,\n\n232\n00:11:31.442 --> 00:11:35.824\nWindowInSec, IPv4 and IPv6PrefixLength,\nLeakRate, TruncateRate.\n\n233\n00:11:35.824 --> 00:11:37.982\nYou got all the different settings here.\n\n234\n00:11:37.982 --> 00:11:41.520\nAnd they give you a sense of\nhow you could set this up.\n\n235\n00:11:41.520 --> 00:11:44.090\nAnd I like the Call to Action down there.\n\n236\n00:11:44.090 --> 00:11:47.150\nThis blog entry was written right\naround the time Server 16 was\n\n237\n00:11:47.150 --> 00:11:47.940\ngetting ready to release.\n\n238\n00:11:47.940 --> 00:11:50.532\nSo a lot of the language is, and\nin Server 16, we will have this.\n\n239\n00:11:50.532 --> 00:11:54.280\nOr you will see that, hey,\nrequested you try this feature.\n\n240\n00:11:54.280 --> 00:11:55.404\nLet us know what you think, right?\n\n241\n00:11:55.404 --> 00:11:57.340\nCuz it was written right\nbefore the release.\n\n242\n00:11:57.340 --> 00:12:02.430\nBut ultimately,\nthis is a valuable additional setting or\n\n243\n00:12:02.430 --> 00:12:04.710\ntool set, that we do have access to.\n\n244\n00:12:04.710 --> 00:12:07.807\nSo we can go in and say,\nwe get this amount of inbound flow,\n\n245\n00:12:07.807 --> 00:12:09.844\nuse errors per second is one example.\n\n246\n00:12:09.844 --> 00:12:13.809\nWe get this amount here, maximum number\nof times within one second the DNS server\n\n247\n00:12:13.809 --> 00:12:15.980\nsends an error response\nto the same client.\n\n248\n00:12:15.980 --> 00:12:19.100\nWe can throttle and\nessentially cut back on these things,\n\n249\n00:12:19.100 --> 00:12:21.440\nor responses per second, right?\n\n250\n00:12:21.440 --> 00:12:25.360\nMaximum number of times within\none second a DNS server provides\n\n251\n00:12:25.360 --> 00:12:26.820\nthe same response to a client.\n\n252\n00:12:26.820 --> 00:12:29.900\nSo all these settings help us to\nreally understand how we can throttle\n\n253\n00:12:29.900 --> 00:12:30.780\nthe traffic.\n\n254\n00:12:30.780 --> 00:12:31.410\nAnd as a result,\n\n255\n00:12:31.410 --> 00:12:35.620\nprevent this overwhelming flood that\ncould potentially be used against us.\n\n256\n00:12:35.620 --> 00:12:39.265\nSo it is nice, or that we could become the\nsource of it if we owned the DNS server.\n\n257\n00:12:39.265 --> 00:12:40.386\nIt's probably a better way\nof thinking about that.\n\n258\n00:12:40.386 --> 00:12:44.830\nBut if we get taken over, or somebody's\nusing our servers to propagate an attack,\n\n259\n00:12:44.830 --> 00:12:46.680\nwe can potentially prevent this.\n\n260\n00:12:46.680 --> 00:12:50.570\nSo RRL response rate limiting,\nalso really important.\n\n261\n00:12:50.570 --> 00:12:54.280\nAnd again, what we're doing is building\nall these different protective measures\n\n262\n00:12:54.280 --> 00:12:56.560\nout and saying mix and match, right?\n\n263\n00:12:56.560 --> 00:12:59.670\nIt's an a la carte thought process,\nyou may take a little bit of this,\n\n264\n00:12:59.670 --> 00:13:00.550\na little bit of that.\n\n265\n00:13:00.550 --> 00:13:02.117\nBut you know what,\nI don't wanna do that stuff over there.\n\n266\n00:13:02.117 --> 00:13:03.339\nI'm just not gonna do that, right?\n\n267\n00:13:03.339 --> 00:13:05.852\nAnd so as a result,\nwe're not gonna suggest or\n\n268\n00:13:05.852 --> 00:13:10.569\neven imply that you should implement every\nsecurity protection we've talked about.\n\n269\n00:13:10.569 --> 00:13:12.565\nMicrosoft would tell you the same thing.\n\n270\n00:13:12.565 --> 00:13:14.784\nYou may not even have a need for\nall these protections.\n\n271\n00:13:14.784 --> 00:13:16.871\nAnd they may not all\nwork together seamlessly,\n\n272\n00:13:16.871 --> 00:13:19.127\nunless you have certain\nconfigurations in place.\n\n273\n00:13:19.127 --> 00:13:23.273\nI've talked about some things being\ntied to older versus newer OS support,\n\n274\n00:13:23.273 --> 00:13:24.710\nmixed environments.\n\n275\n00:13:24.710 --> 00:13:26.340\nYou may have issues with\nsome of this stuff.\n\n276\n00:13:26.340 --> 00:13:29.500\nSo you do have to do a little testing,\nuse some common sense, right?\n\n277\n00:13:29.500 --> 00:13:33.404\nThink through the logic of what\nthe economy of scale is in terms of what\n\n278\n00:13:33.404 --> 00:13:34.018\nyou need.\n\n279\n00:13:34.018 --> 00:13:38.192\nAnd how much protection is enough, and\nthat's a tricky thought process, right?\n\n280\n00:13:38.192 --> 00:13:41.840\nHow do we know whether this is a good or\na bad idea?\n\n281\n00:13:41.840 --> 00:13:45.267\nHow do we know if this particular\nprotection mechanism is gonna mean\n\n282\n00:13:45.267 --> 00:13:47.683\nthe difference between us being secure or\nnot?\n\n283\n00:13:47.683 --> 00:13:51.625\nMaybe hard to know that, and I'm not\nsuggesting there's a lot of easy answers.\n\n284\n00:13:51.625 --> 00:13:55.415\nWhat I am suggesting is that the more\nprotective measures you put in place,\n\n285\n00:13:55.415 --> 00:13:57.947\nthe less likely you\nare to become a victim.\n\n286\n00:13:57.947 --> 00:14:00.754\nAnd somebody else, unfortunately\nwho may not be as prepared as you.\n\n287\n00:14:00.754 --> 00:14:04.484\nWe talked about this before,\nmy thought process of DDD right?\n\n288\n00:14:04.484 --> 00:14:09.030\nDelay, deter, and ultimately, or rather,\ndeter, delay and, ultimately, detect.\n\n289\n00:14:09.030 --> 00:14:13.645\nI wanna be the person who winds up\nin that first quadrant saying, hey,\n\n290\n00:14:13.645 --> 00:14:15.067\nI wanna deter you.\n\n291\n00:14:15.067 --> 00:14:19.920\nIf I've got this massive\nprotection infrastructure, and\n\n292\n00:14:19.920 --> 00:14:23.160\nit looks so formidable that\nyou're not gonna be able to,\n\n293\n00:14:23.160 --> 00:14:26.220\nas an attacker, really see a way\nclear easily of getting in.\n\n294\n00:14:26.220 --> 00:14:28.400\nMaybe the pain threshold is too high.\n\n295\n00:14:28.400 --> 00:14:29.960\nYou're gonna go play somewhere else,\nright?\n\n296\n00:14:29.960 --> 00:14:33.140\nI mean, hey, bad, for the person\nthat you go, ultimately, attack.\n\n297\n00:14:33.140 --> 00:14:34.730\nI feel for them, but you know what?\n\n298\n00:14:34.730 --> 00:14:35.920\nThey should have been proactive and\n\n299\n00:14:35.920 --> 00:14:38.320\nfigured out security just\nlike you're gonna do.\n\n300\n00:14:38.320 --> 00:14:39.832\nAnd you're kicking the can down the road,\n\n301\n00:14:39.832 --> 00:14:42.488\ncuz I've had this conversation with\ncustomers and students all the time.\n\n302\n00:14:42.488 --> 00:14:47.250\nAren't you just essentially saying that\nyou're making us this island of security\n\n303\n00:14:47.250 --> 00:14:51.550\nin a sea of attackers, and\neverybody else around us is gonna drown?\n\n304\n00:14:51.550 --> 00:14:53.575\nYeah, that's exactly what\nI'm saying we're doing,\n\n305\n00:14:53.575 --> 00:14:55.263\nbecause you're paying\nme to make you secure.\n\n306\n00:14:55.263 --> 00:14:58.188\nYou're not paying me to be charitable and\nfix other people's problems, right?\n\n307\n00:14:58.188 --> 00:15:00.255\nIf you want me to do that, I'll do that.\n\n308\n00:15:00.255 --> 00:15:03.850\nBut it's gonna require a lot more\n0s on the end of that check, right?\n\n309\n00:15:03.850 --> 00:15:07.230\nSo unless you are in the business of\nsecuring everybody else's issues and\n\n310\n00:15:07.230 --> 00:15:10.840\nconcerns against attack,\nsecurity starts at home, right?\n\n311\n00:15:10.840 --> 00:15:13.980\nMake your own stuff secure,\nthen worry about your neighbor, right?\n\n312\n00:15:13.980 --> 00:15:17.430\nVery important thought process,\nnot because\n\n313\n00:15:17.430 --> 00:15:20.350\nwe don't wanna do the right thing and\nhelp people out, quite the opposite.\n\n314\n00:15:20.350 --> 00:15:23.360\nBut we wanna make sure our house\nis in order before we go try to\n\n315\n00:15:23.360 --> 00:15:26.020\nbe that good Samaritan,\ngood citizen and help other people.\n\n316\n00:15:26.020 --> 00:15:28.730\nBecause if we go help them and\nsomebody runs through our back door,\n\n317\n00:15:28.730 --> 00:15:30.620\ncuz it's unsecured, well shame on us.\n\n318\n00:15:30.620 --> 00:15:32.550\nWe didn't exercise due care and\ndue diligence.\n\n319\n00:15:32.550 --> 00:15:34.890\nWe're not doing the right thing,\nwe're doing the exact opposite thing.\n\n320\n00:15:34.890 --> 00:15:38.180\nWe're acting without paying attention\nto due care and due diligence.\n\n321\n00:15:38.180 --> 00:15:40.370\nWe are guilty of negligence.\n\n322\n00:15:40.370 --> 00:15:42.704\nWe have acted in an insecure and\ninappropriate way.\n\n323\n00:15:42.704 --> 00:15:45.809\nAnd as a result, we may actually face\nlegal action depending on what kind of\n\n324\n00:15:45.809 --> 00:15:46.713\nindustry we're in.\n\n325\n00:15:46.713 --> 00:15:50.537\nI mean, look at the whole issues you see\nin the paper just every day with all sorts\n\n326\n00:15:50.537 --> 00:15:53.981\nof breaches and the issues and\nconcerns associated with them, right?\n\n327\n00:15:53.981 --> 00:15:56.175\nI mean leaders of these\ncompanies are liable.\n\n328\n00:15:56.175 --> 00:15:58.683\nAnd security practitioners and\nIT professionals maybe as well.\n\n329\n00:15:58.683 --> 00:15:59.660\n&gt;&gt; [CROSSTALK], getting fired.\n\n330\n00:15:59.660 --> 00:16:00.726\nWell, we knew about that update.\n\n331\n00:16:00.726 --> 00:16:03.817\nWe just hadn't got around to\napplying it in the last six months.\n\n332\n00:16:03.817 --> 00:16:06.620\n&gt;&gt; Yeah, cuz Adobe Structs is not\nsomething anybody would ever think\n\n333\n00:16:06.620 --> 00:16:07.130\nof having.\n\n334\n00:16:07.130 --> 00:16:08.990\nSo why would we bother with that?\n&gt;&gt; [LAUGH]\n\n335\n00:16:08.990 --> 00:16:10.503\n&gt;&gt; Absolutely, of course, right,\n\n336\n00:16:10.503 --> 00:16:12.560\nnot something we would consider,\nall right.\n\n337\n00:16:12.560 --> 00:16:15.225\nSo I will get off my soapbox\nwith regards to security.\n\n338\n00:16:15.225 --> 00:16:17.010\nLet me just extend my timer here.\n\n339\n00:16:17.010 --> 00:16:20.856\nWe are gonna take a look at one other\naspect of how we can layer some\n\n340\n00:16:20.856 --> 00:16:22.649\nadditional protections in.\n\n341\n00:16:22.649 --> 00:16:24.332\nWe've been talking a lot about security.\n\n342\n00:16:24.332 --> 00:16:27.870\nI've talked about the value of encryption,\ntalked about IPSec,\n\n343\n00:16:27.870 --> 00:16:29.271\ntalked about firewalls.\n\n344\n00:16:29.271 --> 00:16:31.706\nTalked about localized encryption,\n\n345\n00:16:31.706 --> 00:16:37.271\ntalked about storage level encryption with\nBitLocker, we've talked about DNSSEC.\n\n346\n00:16:37.271 --> 00:16:41.400\nTalked about rate limiting, talked about\nsecurity policies, or DNS policies.\n\n347\n00:16:41.400 --> 00:16:44.160\nTalked about name resolution policy table.\n\n348\n00:16:44.160 --> 00:16:45.952\nI can't believe we did all this stuff and\nit only took eight episodes.\n\n349\n00:16:45.952 --> 00:16:47.690\n&gt;&gt; I know, only eight, that's crazy.\n\n350\n00:16:47.690 --> 00:16:49.692\n&gt;&gt; Well, if we add in BitLocker and\nfirewalls,\n\n351\n00:16:49.692 --> 00:16:51.307\nmore like probably 38,\n&gt;&gt; [LAUGH]\n\n352\n00:16:51.307 --> 00:16:51.883\n&gt;&gt; All that other stuff, right?\n\n353\n00:16:51.883 --> 00:16:53.665\n&gt;&gt; [LAUGH]\n&gt;&gt; So we have a 13, yes,\n\n354\n00:16:53.665 --> 00:16:56.153\nso we're doing like 21 episodes for\nall 3 of those, right?\n\n355\n00:16:56.153 --> 00:16:58.369\n&gt;&gt; But I've been on the edge\nof my seat the whole time.\n\n356\n00:16:58.369 --> 00:16:59.518\n[CROSSTALK]\n&gt;&gt; And you're standing,\n\n357\n00:16:59.518 --> 00:17:00.354\nwhich is even more impressive.\n\n358\n00:17:00.354 --> 00:17:02.581\n&gt;&gt; [LAUGH]\n&gt;&gt; So virtualcy, all right, so\n\n359\n00:17:02.581 --> 00:17:06.080\nwe are gonna continue talking about\nsome additional protection measures.\n\n360\n00:17:06.080 --> 00:17:09.800\nI thought we would actually take\na look at a cool, new old product.\n\n361\n00:17:09.800 --> 00:17:12.790\nAnd what I mean by that is, right,\na reinvention of an old product.\n\n362\n00:17:12.790 --> 00:17:13.670\n&gt;&gt; I'm excited about this one.\n\n363\n00:17:13.670 --> 00:17:14.810\n&gt;&gt; This is actually kinda cool.\n\n364\n00:17:14.810 --> 00:17:17.490\nSo I was showing Mike this before we got\nstarted with this episode cuz he hadn't\n\n365\n00:17:17.490 --> 00:17:20.440\nactually seen the new and improved\nversion of this product and he said,\n\n366\n00:17:20.440 --> 00:17:22.750\nwow, it looks just like Wireshark.\n\n367\n00:17:22.750 --> 00:17:27.038\n[LAUGH] But we're gonna take a look at\nMicrosoft Message Analyzer, which is a new\n\n368\n00:17:27.038 --> 00:17:31.850\nand updated, improved version of what you\ncan probably, hopefully remember and know.\n\n369\n00:17:31.850 --> 00:17:35.125\nI certainly do, I know Mike does,\nis Network Monitor, an oldie and\n\n370\n00:17:35.125 --> 00:17:36.570\nan oldie, cuz it is just old.\n\n371\n00:17:36.570 --> 00:17:39.100\n&gt;&gt; [LAUGH]\n&gt;&gt; But Microsoft finally got around to\n\n372\n00:17:39.100 --> 00:17:40.980\nupdating the Network Monitor product.\n\n373\n00:17:40.980 --> 00:17:43.750\nLet me just get to the appropriate\nmachine here, and go ahead and\n\n374\n00:17:43.750 --> 00:17:44.620\nput this up if we could.\n\n375\n00:17:45.860 --> 00:17:50.067\nSo wanna make sure you know how to\nconfigure and use, let's say, MMA.\n\n376\n00:17:50.067 --> 00:17:52.060\nInstalling it is a no brainer.\n\n377\n00:17:52.060 --> 00:17:55.840\nAnd literally, you download\nthe installation package, you run it.\n\n378\n00:17:55.840 --> 00:17:57.960\nThere's about three or\nfour screens you click on.\n\n379\n00:17:57.960 --> 00:18:01.730\nThe only option there really is,\nif you wanna optimize the install.\n\n380\n00:18:01.730 --> 00:18:04.870\nAnd if you say yes, it says hey,\nby the way, get comfortable,\n\n381\n00:18:04.870 --> 00:18:05.630\nit's gonna take a while.\n\n382\n00:18:05.630 --> 00:18:06.517\nThey're not kidding.\n\n383\n00:18:06.517 --> 00:18:08.266\nTakes about ten minutes when\nyou check off that box.\n\n384\n00:18:08.266 --> 00:18:08.980\n[LAUGH]\n&gt;&gt; Really?\n\n385\n00:18:08.980 --> 00:18:14.060\n&gt;&gt; To go through and download all the ETW\nproviders and optimize all the drivers.\n\n386\n00:18:14.060 --> 00:18:16.440\nBut it's well worth the wait, because\nthat way you get your cut out of the box,\n\n387\n00:18:16.440 --> 00:18:17.710\nyou're just ready to go.\n\n388\n00:18:17.710 --> 00:18:20.480\nSo you do that, you bring it up and\nyou check off the hit,\n\n389\n00:18:20.480 --> 00:18:22.500\nyou wanna open it up and you launch it.\n\n390\n00:18:22.500 --> 00:18:26.490\nAnd it's got a cool little graphic,\nyellowish kinda orange thing.\n\n391\n00:18:26.490 --> 00:18:29.340\n&gt;&gt; And then when you come up,\nI was running it so\n\n392\n00:18:29.340 --> 00:18:32.260\nI do have a little traffic\nalready set up in here.\n\n393\n00:18:32.260 --> 00:18:36.070\nBut basically you come in, you create\na new session and or begin a capture.\n\n394\n00:18:36.070 --> 00:18:37.460\nWe'll back out of this in a minute and\n\n395\n00:18:37.460 --> 00:18:40.750\ntake a look at how to do that once\nwe just take a look a packet or two.\n\n396\n00:18:40.750 --> 00:18:42.550\nSo then it just goes off and\nstarts running.\n\n397\n00:18:42.550 --> 00:18:45.330\nNow a couple things before we\nactually take a look under the hood.\n\n398\n00:18:45.330 --> 00:18:49.425\nSo up under the Tools area,\nyou have options here.\n\n399\n00:18:49.425 --> 00:18:50.380\nIt's a little bit more involved.\n\n400\n00:18:50.380 --> 00:18:53.450\nYou can see the interface a little bit\nmore detailed than it would have been in\n\n401\n00:18:53.450 --> 00:18:55.040\na network monitor years ago, right?\n\n402\n00:18:55.040 --> 00:18:57.650\nSo you could see,\ngo in here under Options.\n\n403\n00:18:57.650 --> 00:19:01.590\nAnd you can set up and see many of\nthe things you may wanna modify.\n\n404\n00:19:01.590 --> 00:19:04.680\nHow big will the live\ntrace message buffer be?\n\n405\n00:19:04.680 --> 00:19:07.380\nWhat's our default text log configuration?\n\n406\n00:19:07.380 --> 00:19:08.790\nYeah, you may go ahead and choose.\n\n407\n00:19:08.790 --> 00:19:13.040\nYou can see a whole bunch there IaaS,\nand link, and net log on and\n\n408\n00:19:13.040 --> 00:19:14.880\nall sorts of different stuff there.\n\n409\n00:19:14.880 --> 00:19:16.510\nOur updates check automatically.\n\n410\n00:19:16.510 --> 00:19:19.000\nYou can go ahead and\ncheck in real time for updates.\n\n411\n00:19:19.000 --> 00:19:21.220\nThe download package comes down updated.\n\n412\n00:19:21.220 --> 00:19:23.490\nSo as long as you get the most recent\nversion, you should be okay, but\n\n413\n00:19:23.490 --> 00:19:25.660\nyou could certainly deal with that.\n\n414\n00:19:25.660 --> 00:19:28.340\nYou do have display options,\ndate and time.\n\n415\n00:19:28.340 --> 00:19:31.300\nWhat's the time zone, things like that.\n\n416\n00:19:31.300 --> 00:19:34.170\nIf you wanna display as ASCII,\nhex, or decimal?\n\n417\n00:19:34.170 --> 00:19:37.350\nDefault is ASCII,\nif you're into the whole Matrix thing.\n\n418\n00:19:37.350 --> 00:19:39.665\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz you're that guy or that girl.\n\n419\n00:19:39.665 --> 00:19:42.251\nYou should get out,\nget a hobby first of all, but\n\n420\n00:19:42.251 --> 00:19:46.810\nassuming you're not gonna do that, put it\nup in hex or whatever you wanna do, right?\n\n421\n00:19:46.810 --> 00:19:50.105\nA decryption there if we're gonna be\ndoing certificate based encryption, and\n\n422\n00:19:50.105 --> 00:19:51.590\nwe have decryption certificates.\n\n423\n00:19:51.590 --> 00:19:54.860\nWe can manage those here,\nso we could add them in.\n\n424\n00:19:54.860 --> 00:19:57.460\nJust have to obviously get a PSX file and\nbring it in.\n\n425\n00:19:57.460 --> 00:20:02.100\nSo the interface is fairly simple and\nstraightforward in this regard.\n\n426\n00:20:02.100 --> 00:20:07.050\nWe do have features here so we can enable\nall the features that we want to have.\n\n427\n00:20:07.050 --> 00:20:10.983\nYou do have to restart, though,\nto apply changes so be aware of that.\n\n428\n00:20:10.983 --> 00:20:14.898\nBut the standard out of the box\nlist is almost fully enabled.\n\n429\n00:20:14.898 --> 00:20:16.108\nThe only one that, I think,\n\n430\n00:20:16.108 --> 00:20:19.130\nthe only two that are not there is\nthe command window and the map.\n\n431\n00:20:19.130 --> 00:20:21.930\nYou get the zooming and\nscrolling feature with the map.\n\n432\n00:20:21.930 --> 00:20:25.960\nAnd then the command window lets you\nhave interactive command processing.\n\n433\n00:20:25.960 --> 00:20:28.570\nSo it's just the only thing\nyou don't get automatically.\n\n434\n00:20:28.570 --> 00:20:31.000\nAnd we have memory and\nparsing settings there.\n\n435\n00:20:31.000 --> 00:20:34.600\nThis is like a live monitor on\nthe current dot and memory allocations.\n\n436\n00:20:34.600 --> 00:20:37.040\nReally nothing to set,\nit's just more just taking a look.\n\n437\n00:20:37.040 --> 00:20:40.890\nYou could see the parsing, so\nyou could set up configurable parsers.\n\n438\n00:20:40.890 --> 00:20:45.878\nAnd then privacy,\nare you jumping into the CIE program that\n\n439\n00:20:45.878 --> 00:20:50.482\nMicrosoft runs on all their stuff,\nthings like that.\n\n440\n00:20:50.482 --> 00:20:54.342\nYou've got profiles here so you can\nspecify and update what your default\n\n441\n00:20:54.342 --> 00:20:58.595\nview is, the analysis grid, right,\nversus grouping pattern match.\n\n442\n00:20:58.595 --> 00:21:00.901\nThere's all these different options for\nthe view.\n\n443\n00:21:00.901 --> 00:21:02.900\nThat's the kinda thing\nMicrosoft loves to ask about.\n\n444\n00:21:02.900 --> 00:21:06.980\nThis is kind of off in the corner,\nhey where's that third option down for\n\n445\n00:21:06.980 --> 00:21:08.980\nthe default viewer, what do you get there?\n\n446\n00:21:08.980 --> 00:21:10.300\nSo you may wanna take a look at this and\n\n447\n00:21:10.300 --> 00:21:12.240\njust make sure you know\nwhat's going on there.\n\n448\n00:21:12.240 --> 00:21:15.430\nI put some of this in the notes just\nto remind you of where things are.\n\n449\n00:21:15.430 --> 00:21:17.060\nSo you got all these different options,\nright?\n\n450\n00:21:17.060 --> 00:21:18.970\nSo you just wanna probably go in and\ntake a look.\n\n451\n00:21:18.970 --> 00:21:21.199\nBut at the end of the day it's\npacket capture program, right?\n\n452\n00:21:21.199 --> 00:21:24.456\nAnd packet capture programs are good for\ntwo things, capturing packets, and\n\n453\n00:21:24.456 --> 00:21:25.700\nthen showing you what we got.\n\n454\n00:21:25.700 --> 00:21:27.380\nSo if you go out fishing and\n\n455\n00:21:27.380 --> 00:21:31.880\nyou wanna see what you got, highlight one\nof these packets, whatever it may be.\n\n456\n00:21:31.880 --> 00:21:34.960\nYou could see here I'm just\nhighlighting this particular one.\n\n457\n00:21:34.960 --> 00:21:38.910\nI can click and drill down and see there's\nobviously traffic up underneath here.\n\n458\n00:21:38.910 --> 00:21:45.140\nBut once I do that, the message stack\nright here becomes populated on the left,\n\n459\n00:21:45.140 --> 00:21:48.000\nthe details over here in the middle,\nand then\n\n460\n00:21:48.000 --> 00:21:51.870\nfield data if I highlight something that\nhas field data in it off to the right.\n\n461\n00:21:51.870 --> 00:21:52.671\nCan we go full screen?\n\n462\n00:21:52.671 --> 00:21:53.690\nCuz I'm sitting over field data.\n\n463\n00:21:53.690 --> 00:21:55.100\nIt's gonna be a little hard to see.\n\n464\n00:21:55.100 --> 00:21:59.563\nSo you can see here that I've got,\nat least for this first one, and\n\n465\n00:21:59.563 --> 00:22:05.030\nI can kinda just click through here and\nsee what's going on as I scroll down.\n\n466\n00:22:05.030 --> 00:22:07.820\nSo I've got in my message stack, and\n\n467\n00:22:07.820 --> 00:22:12.700\nI've got right now the different\nways of presenting.\n\n468\n00:22:12.700 --> 00:22:17.160\nI'm just changing the call stack\ntree in a table versus kind of\n\n469\n00:22:17.160 --> 00:22:18.970\njust a visual stack like a list view.\n\n470\n00:22:18.970 --> 00:22:20.760\nYou have different options to go and\nplay with that.\n\n471\n00:22:20.760 --> 00:22:22.460\nBut that's just window dressing, right?\n\n472\n00:22:22.460 --> 00:22:25.610\nYou guys can figure out what the best\nway is to display that information.\n\n473\n00:22:25.610 --> 00:22:26.780\nBut you'll notice I can hover,\n\n474\n00:22:26.780 --> 00:22:31.070\nI get a general overview of the packet\ninformation, what's the protocol,\n\n475\n00:22:31.070 --> 00:22:34.420\nwhat's the message ID or packet ID,\nwhat's the total length?\n\n476\n00:22:34.420 --> 00:22:36.610\nStandard stuff we'd expect to see, right?\n\n477\n00:22:36.610 --> 00:22:39.770\nAnd then in the middle here,\nlet me just pull this up a little bit so\n\n478\n00:22:39.770 --> 00:22:41.350\nwe can see a little bit more.\n\n479\n00:22:41.350 --> 00:22:45.985\nJust kinda move that up so we're not\nworried about what's there for the moment.\n\n480\n00:22:45.985 --> 00:22:47.880\nWe could see here kind of the breakdown.\n\n481\n00:22:47.880 --> 00:22:51.438\nThis is a IPv4 as we can see, right?\n\n482\n00:22:51.438 --> 00:22:55.936\nWe've got our differentiated service\nlevel information here, right?\n\n483\n00:22:55.936 --> 00:22:57.696\nSo differentiated services rather.\n\n484\n00:22:57.696 --> 00:23:03.008\nI'm not a huge fan of the columnar\ndisplay view the way they do it.\n\n485\n00:23:03.008 --> 00:23:06.752\nI've been using a lot of different\nproducts for a long time and\n\n486\n00:23:06.752 --> 00:23:09.920\njust I happen to like\na slightly different display.\n\n487\n00:23:09.920 --> 00:23:11.068\nBut that's just me, right?\n\n488\n00:23:11.068 --> 00:23:12.770\nI'm not saying it's a good or bad thing.\n\n489\n00:23:12.770 --> 00:23:15.170\nBut we do have the ability to filter here.\n\n490\n00:23:15.170 --> 00:23:19.980\nSo we could add selected items to a filter\nview to do an analysis grid column view.\n\n491\n00:23:19.980 --> 00:23:25.560\nWe can add selected items and group them,\nright, we got our little track field.\n\n492\n00:23:25.560 --> 00:23:28.799\nPaws, like a little animal paws so\nyou can track stuff.\n\n493\n00:23:28.799 --> 00:23:30.986\nYou gotta wonder who's coming\nup with this stuff, right?\n\n494\n00:23:30.986 --> 00:23:31.515\nNow you [INAUDIBLE].\n\n495\n00:23:31.515 --> 00:23:32.138\nNow you see,\n\n496\n00:23:32.138 --> 00:23:36.270\nthat's $100,000 to pay somebody to\ncome up with animal paw, right?\n\n497\n00:23:36.270 --> 00:23:38.948\nSo we have all of this,\nso we can highlight any\n\n498\n00:23:38.948 --> 00:23:43.319\none of these items if there is field data\nas you can see right on the right and\n\n499\n00:23:43.319 --> 00:23:46.086\nthird column over here\nright above where I am.\n\n500\n00:23:46.086 --> 00:23:47.763\nYou can see it's\na highlight in the middle.\n\n501\n00:23:47.763 --> 00:23:49.808\nWe could field data off\nto the right display and\n\n502\n00:23:49.808 --> 00:23:52.233\nit obviously just depends\non what I'm highlighting.\n\n503\n00:23:52.233 --> 00:23:55.588\nAs I'm clicking around, you can kinda\nsee that different stuff is coming up.\n\n504\n00:23:55.588 --> 00:23:59.526\nWe open up our source address,\nkinda move this down,\n\n505\n00:23:59.526 --> 00:24:04.984\nwe've got our IP here, so\nwe can see the source address, 68.0.2.\n\n506\n00:24:04.984 --> 00:24:12.342\nIf I do my destination address, I can\nsee where it's coming from, 10.44.24.60.\n\n507\n00:24:12.342 --> 00:24:16.539\nIf I right-click anywhere in here on\none of these fields, as you can see,\n\n508\n00:24:16.539 --> 00:24:18.790\nI can add these things into the filter.\n\n509\n00:24:18.790 --> 00:24:22.910\nEssentially, these functions appear,\nI can display binary values.\n\n510\n00:24:22.910 --> 00:24:25.650\nI can track destination address.\n\n511\n00:24:25.650 --> 00:24:28.190\nI like that feature cause\nI can do the track, and\n\n512\n00:24:28.190 --> 00:24:32.200\nthen when I do that,\nit shows me the information.\n\n513\n00:24:32.200 --> 00:24:35.221\nIf there is information about it,\nit'll show me what may be there.\n\n514\n00:24:35.221 --> 00:24:38.890\nSo I can just essentially\nfilter it different ways..\n\n515\n00:24:38.890 --> 00:24:42.590\nStop tracking the address,\nwhatever the case may be.\n\n516\n00:24:42.590 --> 00:24:47.830\nAnd so I can go in and I can look at,\nyou know any of this data.\n\n517\n00:24:47.830 --> 00:24:49.480\nI think I'm still capturing live.\n\n518\n00:24:49.480 --> 00:24:52.790\nI can also see message data if I toggle,\ncan we go back to full screen,\n\n519\n00:24:52.790 --> 00:24:54.990\ncause again, I'm right above where we are.\n\n520\n00:24:54.990 --> 00:24:59.120\nI can toggle the view at the bottom here\nFrom field data, which is what I was\n\n521\n00:24:59.120 --> 00:25:03.140\ndoing, to message data, and\nI can actually look at the message data.\n\n522\n00:25:03.140 --> 00:25:05.030\nI can see the raw data here.\n\n523\n00:25:05.030 --> 00:25:07.430\nAgain it's kinda hard with everything.\n\n524\n00:25:07.430 --> 00:25:09.220\nJust move this over.\n\n525\n00:25:09.220 --> 00:25:13.550\nWith kind of everything in here, it's just\nvery hard to see everything all at once,\n\n526\n00:25:13.550 --> 00:25:16.960\nbut you can see as we scroll through,\nright?\n\n527\n00:25:16.960 --> 00:25:18.777\nIf there is message data, it loads up.\n\n528\n00:25:18.777 --> 00:25:22.090\nAnd I can also do a session explorer here.\n\n529\n00:25:22.090 --> 00:25:22.660\nJust give that a second.\n\n530\n00:25:22.660 --> 00:25:28.640\nYou'll see it's going in, and\nit's grabbing some information.\n\n531\n00:25:32.250 --> 00:25:35.250\nAnd it's just going in and\ngrabbing the source messages.\n\n532\n00:25:35.250 --> 00:25:36.590\nTakes a little while.\n\n533\n00:25:36.590 --> 00:25:40.460\nI've been running the capture for\nprobably an hour and a half.\n\n534\n00:25:40.460 --> 00:25:42.410\nI just let it run behind the scenes\nwhen we were getting ready for\n\n535\n00:25:42.410 --> 00:25:44.640\nthe episode during the break,\nso it's got a lot.\n\n536\n00:25:44.640 --> 00:25:46.400\nIt may not actually populate\nwhile we're doing this,\n\n537\n00:25:46.400 --> 00:25:49.200\nbut I could actually go through and\nsee all the data as well.\n\n538\n00:25:49.200 --> 00:25:51.180\nSo it is kinda nice, right?\n\n539\n00:25:51.180 --> 00:25:53.800\nWe'll let that kinda run behind\nthe scenes there for a minute.\n\n540\n00:25:53.800 --> 00:25:57.520\nBut I can do,\ndown here as I kinda scroll, right?\n\n541\n00:25:57.520 --> 00:25:59.444\nSo I can see data in here,\n\n542\n00:25:59.444 --> 00:26:03.683\nI can copy the data out of if\nI need to as ask ASCII or hex.\n\n543\n00:26:03.683 --> 00:26:05.350\nI could save selected bites out.\n\n544\n00:26:05.350 --> 00:26:08.163\nI can change the display\nhere as you can see, right?\n\n545\n00:26:08.163 --> 00:26:11.140\nAnd see different ways\nof looking at the data.\n\n546\n00:26:11.140 --> 00:26:16.410\nSo it is nice cuz I can work with\nall of this, I can kill this.\n\n547\n00:26:16.410 --> 00:26:18.890\nSo let's just go ahead and\nlet's do the following.\n\n548\n00:26:18.890 --> 00:26:22.010\nLemme just close the tool,\nnot save, right?\n\n549\n00:26:22.010 --> 00:26:24.710\nAnd we'll just open it back up and\nshow you how to start a capture.\n\n550\n00:26:24.710 --> 00:26:27.120\nSo let's just let it go out real quick.\n\n551\n00:26:27.120 --> 00:26:28.620\nI'll start it back up in a minute,\n\n552\n00:26:28.620 --> 00:26:31.500\nbut I just wanted to show you there's\nsome good documentation on the tool.\n\n553\n00:26:31.500 --> 00:26:34.510\nBecause it is new, you may want\nto actually take a look at it.\n\n554\n00:26:34.510 --> 00:26:38.480\nSo you could see here in getting started\nwith message analyzer, web page,\n\n555\n00:26:38.480 --> 00:26:40.760\nand then new features and updates.\n\n556\n00:26:40.760 --> 00:26:43.560\nHow to install an upgrade and\njust do all that stuff.\n\n557\n00:26:43.560 --> 00:26:44.750\nSo it is nice,\n\n558\n00:26:44.750 --> 00:26:47.960\nit does give you a nice little\noverview of how to get in and do this.\n\n559\n00:26:47.960 --> 00:26:50.370\nThe filtering toolbar,\nor the Windows layouts.\n\n560\n00:26:50.370 --> 00:26:53.440\nThe profile stuff I was just kind of\nshowing you it's all listed right\n\n561\n00:26:53.440 --> 00:26:54.400\nhere, right?\n\n562\n00:26:54.400 --> 00:26:56.740\nSo that webpage would be valuable for\nyou to take look at.\n\n563\n00:26:56.740 --> 00:26:58.540\nSo, there's the install package.\n\n564\n00:26:58.540 --> 00:26:59.607\nI put it in here.\n\n565\n00:26:59.607 --> 00:27:03.340\nLet's just go over here to our start menu.\n\n566\n00:27:03.340 --> 00:27:05.390\nThere's our new recently added items.\n\n567\n00:27:05.390 --> 00:27:07.340\nSo let's go ahead and we'll launch that.\n\n568\n00:27:07.340 --> 00:27:10.640\nThat's the little nice graphic we\ntalked about right there, right?\n\n569\n00:27:10.640 --> 00:27:14.050\nAll right, so we got that coming up it's\njust initializing takes just a minute,\n\n570\n00:27:14.050 --> 00:27:15.290\njust start up.\n\n571\n00:27:15.290 --> 00:27:18.440\nAnd as soon as this comes up creating\nour main window it'll open up the tool,\n\n572\n00:27:18.440 --> 00:27:21.280\nit'll look very similar to what\nwe just had without the data.\n\n573\n00:27:21.280 --> 00:27:23.911\nAnd then, this is what it\nlooks like when you start out.\n\n574\n00:27:23.911 --> 00:27:26.780\nAs you can see,\npretty easy and obvious here.\n\n575\n00:27:26.780 --> 00:27:28.730\nNew session, start local trace.\n\n576\n00:27:28.730 --> 00:27:32.530\nIf I start local trace creates\na session for me and just kicks it off.\n\n577\n00:27:32.530 --> 00:27:33.900\nSo I can view that.\n\n578\n00:27:33.900 --> 00:27:38.130\nSo if I just click there,\nsee it's creating the new session for me,\n\n579\n00:27:38.130 --> 00:27:41.000\nand then it's gonna\nstart capturing traffic.\n\n580\n00:27:41.000 --> 00:27:44.055\nJust give it a minute.\nAnd I just have to pull this down because\n\n581\n00:27:44.055 --> 00:27:49.230\nI raised this up so high on the last time\nI was in here and not seeing any traffic.\n\n582\n00:27:49.230 --> 00:27:52.683\nSo give me a second to just kind of get\nthat to come down with the latency,\n\n583\n00:27:52.683 --> 00:27:53.311\nthere we go.\n\n584\n00:27:53.311 --> 00:27:56.240\nSo you can see I'm capturing\nsome packets already.\n\n585\n00:27:56.240 --> 00:27:57.810\nGot some stuff going on.\n\n586\n00:27:57.810 --> 00:28:04.270\nAnd if we go in,\n\n587\n00:28:04.270 --> 00:28:06.890\nlet's just go ahead and\nlet's do the following.\n\n588\n00:28:08.270 --> 00:28:12.190\nJust issue a quick ping request\nout to the domain controller.\n\n589\n00:28:12.190 --> 00:28:15.780\nLet it do it's thing, so we get\na little traffic in there, all right?\n\n590\n00:28:18.220 --> 00:28:24.580\nAnd once we get, why don't you try there,\nonce we get all that traffic showing up.\n\n591\n00:28:24.580 --> 00:28:26.490\nGot all that stuff right there.\n\n592\n00:28:26.490 --> 00:28:30.045\nJust do a TCP with some flags, right?\n\n593\n00:28:30.045 --> 00:28:31.375\nSo we got our data off set.\n\n594\n00:28:31.375 --> 00:28:33.405\nLet's just grab our flags over here.\n\n595\n00:28:33.405 --> 00:28:35.072\nIt would be nice if it reset the window.\n\n596\n00:28:35.072 --> 00:28:35.762\n&gt;&gt; Yeah.\n&gt;&gt; But then again,\n\n597\n00:28:35.762 --> 00:28:37.965\nthen I'd be complaining about\nthe fact that it reset it.\n\n598\n00:28:37.965 --> 00:28:38.990\n&gt;&gt; [LAUGH]\n&gt;&gt; That I had to go change every time, so.\n\n599\n00:28:38.990 --> 00:28:40.035\n&gt;&gt; I gotta do this every time?\n\n600\n00:28:40.035 --> 00:28:40.815\n&gt;&gt; You just can't win, right?\n\n601\n00:28:40.815 --> 00:28:42.669\nRegardless of what you do.\nBut you could see here,\n\n602\n00:28:42.669 --> 00:28:46.717\nthis packet I just grabbed looks\nlike it was an ACK, right?\n\n603\n00:28:46.717 --> 00:28:49.820\nAlong with a reset, so\nwe could see the TCP flags for instance.\n\n604\n00:28:49.820 --> 00:28:53.756\nThere's probably some establishment\nthat's probably part of the ping traffic,\n\n605\n00:28:53.756 --> 00:28:54.630\nmost likely.\n\n606\n00:28:54.630 --> 00:28:56.780\nOr some of the traffic going back and\nforth.\n\n607\n00:28:56.780 --> 00:28:59.656\nSo it does a good job and actually shows\nthe flags that are set right up here in\n\n608\n00:28:59.656 --> 00:29:02.685\nthe summary, or if we needed to drill in,\nI can just see them right from there.\n\n609\n00:29:02.685 --> 00:29:03.450\n&gt;&gt; Mm-hm.\n\n610\n00:29:03.450 --> 00:29:08.440\n&gt;&gt; So it is kinda nice, because I can go\nin, I can see the message information,\n\n611\n00:29:08.440 --> 00:29:10.860\nI can see all the different areas,\nI can go in.\n\n612\n00:29:12.370 --> 00:29:16.290\nAnd I can really understand what's\nhappening with my data which is\n\n613\n00:29:16.290 --> 00:29:17.210\nkinda cool.\n\n614\n00:29:17.210 --> 00:29:20.540\nIt is a good thing to be able\nto get this level of detail.\n\n615\n00:29:20.540 --> 00:29:23.010\nEven if it's could be a little confusing,\na little overwhelming so\n\n616\n00:29:23.010 --> 00:29:23.780\nyou got to get used to it.\n\n617\n00:29:23.780 --> 00:29:27.340\nBut once you get in here,\nI think you'll find that it is kinda nice.\n\n618\n00:29:27.340 --> 00:29:29.432\nWe can add columns to change the view.\n\n619\n00:29:29.432 --> 00:29:33.044\nWe can do color rules so\nwe can enable and disable and\n\n620\n00:29:33.044 --> 00:29:37.680\nput all sorts pf color filtering in,\nwhich is kinda nice as well.\n\n621\n00:29:37.680 --> 00:29:40.530\nWe can do a find message go to message,\n\n622\n00:29:40.530 --> 00:29:45.180\nwe can export right just right here,\nso we can grab that, and export that.\n\n623\n00:29:45.180 --> 00:29:48.420\nYou have to stop the capture before\nwe export, but we can do that.\n\n624\n00:29:48.420 --> 00:29:51.570\nSo we do have a lot of capabilities here,\nwhich is kinda nice.\n\n625\n00:29:51.570 --> 00:29:55.160\nSo if we just stop the capture,\nlet's go up here and do that,\n\n626\n00:29:55.160 --> 00:29:56.880\nwe'll stop it real quick.\n\n627\n00:29:56.880 --> 00:29:57.925\nPretty easy to do, as you can see.\n\n628\n00:29:57.925 --> 00:30:01.105\nThen you'll see we can Export\nat that point just like\n\n629\n00:30:01.105 --> 00:30:03.718\nyou can't export while it's happening.\n\n630\n00:30:03.718 --> 00:30:06.369\nWhich is the case with pretty much\nwith every monitor, it's very hard for\n\n631\n00:30:06.369 --> 00:30:08.885\nyou to grab that data in real\ntime while you're doing that.\n\n632\n00:30:08.885 --> 00:30:11.659\nSo a little bit about MMA,\nwe can save this off if we want to.\n\n633\n00:30:11.659 --> 00:30:15.066\nOf course,\ndo those things We could add its sessions,\n\n634\n00:30:15.066 --> 00:30:17.720\nopen it back up, do that kind of stuff.\n\n635\n00:30:17.720 --> 00:30:22.050\nWe also have this ability to be able\nto do what are called scenarios, right?\n\n636\n00:30:22.050 --> 00:30:28.770\nAnd you'll see here,\nthis is some pre-made business solutions.\n\n637\n00:30:28.770 --> 00:30:31.580\nOr things that you can think about where\nyou say, hey, what would it look like if I\n\n638\n00:30:31.580 --> 00:30:33.890\nwas doing this kind of stuff,\nwhat kind of traffic do I see?\n\n639\n00:30:33.890 --> 00:30:35.680\nLocal network interfaces,\n\n640\n00:30:35.680 --> 00:30:38.350\nthat's the one we used to be\nable to do the initial capture.\n\n641\n00:30:38.350 --> 00:30:41.306\nLoop back on an encrypted IP sac or\npre-encryption for https.\n\n642\n00:30:41.306 --> 00:30:43.804\nI can see some of these almost\nlike profiles and look for\n\n643\n00:30:43.804 --> 00:30:45.770\ncertain kinds of traffic with scenarios.\n\n644\n00:30:45.770 --> 00:30:48.010\nSo that's kinda nice, right?\n\n645\n00:30:48.010 --> 00:30:53.510\nAnd under tools I do have, as you see here\nwhen I click just the ability to go in and\n\n646\n00:30:53.510 --> 00:30:55.523\nsee everything that\nare these buttons up here,\n\n647\n00:30:55.523 --> 00:30:57.400\nalong with all the additional build outs.\n\n648\n00:30:57.400 --> 00:30:59.219\nSo I can just go see where everything is,\n\n649\n00:30:59.219 --> 00:31:02.271\ntalk about the fact we could\npotentially do decryption, in line and\n\n650\n00:31:02.271 --> 00:31:05.930\nreal time with the appropriate encryption\ncertificates being made available.\n\n651\n00:31:05.930 --> 00:31:09.157\nWhich means if I am using\nthis as a capture product,\n\n652\n00:31:09.157 --> 00:31:13.211\nperhaps mirroring poor traffic on\na switch either in a virtual or\n\n653\n00:31:13.211 --> 00:31:17.700\na physical environment, so\nI can see traffic streaming through.\n\n654\n00:31:17.700 --> 00:31:21.660\nAnd I have loaded the encryption\ncertificates in line,\n\n655\n00:31:21.660 --> 00:31:25.350\nI can actually decrypt the traffic pattern\nin real time while I'm looking at it.\n\n656\n00:31:25.350 --> 00:31:29.260\nOr I can save it off and then work with it\noffline when it's encrypted and decrypted.\n\n657\n00:31:29.260 --> 00:31:32.160\nSo it does give us a lot of\nthose enterprise capabilities\n\n658\n00:31:32.160 --> 00:31:34.110\nthat we are getting from other products.\n\n659\n00:31:34.110 --> 00:31:35.130\n&gt;&gt; Yeah.\n&gt;&gt; We can kind of step up and\n\n660\n00:31:35.130 --> 00:31:38.710\nhave them here now, which is nice,\nas you you kinda see me going through.\n\n661\n00:31:38.710 --> 00:31:42.240\nYou could see here I can go in\nunder my loop back for instance.\n\n662\n00:31:42.240 --> 00:31:44.563\nI have the aliases both IPv4, IPv6.\n\n663\n00:31:44.563 --> 00:31:46.551\nSo I can decide what I'm doing.\n\n664\n00:31:46.551 --> 00:31:52.055\nI have unions here where I can create\nThe ability to go in and specify fields,\n\n665\n00:31:52.055 --> 00:31:57.487\nkinda bring them together and join them so\nI can do more enhanced analysis.\n\n666\n00:31:57.487 --> 00:32:00.520\nThere's all sorts of great\nstuff that I can do in here.\n\n667\n00:32:00.520 --> 00:32:02.253\nI've got the session viewer.\n\n668\n00:32:02.253 --> 00:32:05.960\nI can do my analysis grid,\nlet me just get that to click there.\n\n669\n00:32:05.960 --> 00:32:09.351\nMy analysis grid controls here, so\nall the stuff I'm seeing there,\n\n670\n00:32:09.351 --> 00:32:12.005\nadding in the filters,\nand all that, right?\n\n671\n00:32:12.005 --> 00:32:13.035\nSo it's a nice little product.\n\n672\n00:32:13.035 --> 00:32:17.020\nDefinitely worth some time to go in and\nto take a look.\n\n673\n00:32:17.020 --> 00:32:19.680\nWe can get back to the start\npage by going to File and\n\n674\n00:32:19.680 --> 00:32:22.530\njust getting back to where we are there,\nas you could see, while we're running.\n\n675\n00:32:22.530 --> 00:32:25.150\nWe have incorporated this idea blog and\n\n676\n00:32:25.150 --> 00:32:28.080\nvideo area here,\ngo to message analyzer blog.\n\n677\n00:32:28.080 --> 00:32:30.470\nWe actually have a link right now so\nyou can load it if you're online,\n\n678\n00:32:30.470 --> 00:32:31.450\nif you're connected.\n\n679\n00:32:31.450 --> 00:32:32.410\nYou can just go out.\n\n680\n00:32:32.410 --> 00:32:34.520\nYou could I see I'm clicking\non it while we're talking.\n\n681\n00:32:34.520 --> 00:32:36.210\nAnd it takes you out to the MMA,\n\n682\n00:32:36.210 --> 00:32:41.670\nthe Microsoft Message Analyzer website,\nthe blog, that kinda thing.\n\n683\n00:32:41.670 --> 00:32:45.248\nBut it's got all the recent information,\nso you can download from there.\n\n684\n00:32:45.248 --> 00:32:49.079\nYou have guides, online videos,\nhow-tos, all sorts of stuff.\n\n685\n00:32:49.079 --> 00:32:50.478\nSo it's actually kinda cool.\n\n686\n00:32:50.478 --> 00:32:51.420\nIt's a neat little product.\n\n687\n00:32:51.420 --> 00:32:55.370\nAs redesigns go, it actually,\nit's not a facelift.\n\n688\n00:32:55.370 --> 00:32:57.847\nThis is essentially a knockdown and\nrebuild, right?\n\n689\n00:32:57.847 --> 00:32:59.956\nThey really rebuilt the-\n&gt;&gt; [CROSSTALK] and started over in.\n\n690\n00:32:59.956 --> 00:33:01.120\n&gt;&gt; But it is kinda neat.\n\n691\n00:33:01.120 --> 00:33:02.509\nThere's a lot of functionality there.\n\n692\n00:33:02.509 --> 00:33:04.570\nSo one more thing, cuz I know you're\nabout to tell me we're out of time.\n\n693\n00:33:04.570 --> 00:33:09.382\nBut one more thing before we call it\non this particular set of topics.\n\n694\n00:33:09.382 --> 00:33:11.880\nWe do have actually two more things.\n\n695\n00:33:11.880 --> 00:33:16.020\nSo DNS based authentication of name\nentities, what we call DANE, D-A-N-E.\n\n696\n00:33:16.020 --> 00:33:20.802\nJust one of the quick moment,\nprotocol that lets us look at CX.509\n\n697\n00:33:20.802 --> 00:33:24.705\ncertificates and\nbind them to DNS names through DNS Sec.\n\n698\n00:33:24.705 --> 00:33:27.366\nSo, yet another little thing\nwe can throw into DNS Sec.\n\n699\n00:33:27.366 --> 00:33:30.795\nThis is essentially allowing us to\nensure the proper server is responding.\n\n700\n00:33:30.795 --> 00:33:32.322\n&gt;&gt; Mm-hm.\n&gt;&gt; So, there's actually two RFCs\n\n701\n00:33:32.322 --> 00:33:33.314\nassociated with it.\n\n702\n00:33:33.314 --> 00:33:37.854\n6394 and 6698, allowing us to specify or\n\n703\n00:33:37.854 --> 00:33:42.760\nuse the specifications\nassociated with the RFCs.\n\n704\n00:33:42.760 --> 00:33:46.390\nTo set up the CA information,\nthe certificate authority, properly.\n\n705\n00:33:46.390 --> 00:33:49.000\nMaking sure we know how we're\ngetting our certificates issued and\n\n706\n00:33:49.000 --> 00:33:51.100\nhave the right fields\nassociated with that.\n\n707\n00:33:51.100 --> 00:33:54.880\nSo just wanna make sure we mention DANE,\njust so you know that it's out there.\n\n708\n00:33:54.880 --> 00:33:56.340\nJust may come up at some point.\n\n709\n00:33:56.340 --> 00:34:00.029\nSo just be good for you to have a point\nof reference for it, if you will.\n\n710\n00:34:00.029 --> 00:34:04.710\nAnd then I have been threatening for\nsome time and taking about the fact that,\n\n711\n00:34:04.710 --> 00:34:08.397\nI'm just scrolling down so\nI could see my little note on SMB.\n\n712\n00:34:08.397 --> 00:34:11.409\nThat we will just have\na quick conversation on SMB,\n\n713\n00:34:11.409 --> 00:34:14.100\nServer Message Block protocol traffic.\n\n714\n00:34:14.100 --> 00:34:20.150\nI mentioned there's a new version of SMB\n3.1.1, that we are using and supporting.\n\n715\n00:34:21.350 --> 00:34:24.860\nAnd that we just wanna at least have\na little bit of information about it\n\n716\n00:34:24.860 --> 00:34:27.010\nfrom the protocol security perspective.\n\n717\n00:34:27.010 --> 00:34:31.294\nWe do have the ability to use this to\nprovide encryption to get us data packet\n\n718\n00:34:31.294 --> 00:34:32.928\nconfidentiality in place.\n\n719\n00:34:32.928 --> 00:34:35.700\nAnd we can obviously as a result prevent,\nhopefully,\n\n720\n00:34:35.700 --> 00:34:37.817\nmalicious people from snooping around.\n\n721\n00:34:37.817 --> 00:34:41.154\nAnd lifting up the hood and seeing what's\ngoing on with their data packets like, for\n\n722\n00:34:41.154 --> 00:34:43.480\ninstance, potentially with\nmessage analyzer, right?\n\n723\n00:34:43.480 --> 00:34:45.180\nSomebody's pulling in that traffic.\n\n724\n00:34:45.180 --> 00:34:48.610\nIf we were encrypting the native\ntraffic flow, it'd be a lot tougher for\n\n725\n00:34:48.610 --> 00:34:50.880\nsomebody to snoop that traffic and\nactually see it,\n\n726\n00:34:50.880 --> 00:34:54.580\nunless they have the certificates or\nthe encryption-decryption capability.\n\n727\n00:34:54.580 --> 00:34:58.855\nSo eavesdropping on data packets with\na tool like MMA can be prevented\n\n728\n00:34:58.855 --> 00:35:02.415\nby using SMB 3.11 protocol security.\n\n729\n00:35:02.415 --> 00:35:05.075\nSo just keeping in mind that\nwe do have this capability.\n\n730\n00:35:05.075 --> 00:35:07.073\nIt is a two part thought process.\n\n731\n00:35:07.073 --> 00:35:09.937\nWe have pre-authentication integrity and\nSMB encryption.\n\n732\n00:35:09.937 --> 00:35:11.542\nWe'll talk about those in a minute.\n\n733\n00:35:11.542 --> 00:35:14.254\nBut this is new and improved for\nServer 16 and Windows 10.\n\n734\n00:35:14.254 --> 00:35:18.582\nSo, again, the thought process is,\nare we running the most recent OSs?\n\n735\n00:35:18.582 --> 00:35:21.952\nThis is not a, hey,\nWindows 7 may support this thing.\n\n736\n00:35:21.952 --> 00:35:25.641\nThis is more of a new recent kind of\nthing, so we do have to be aware of that.\n\n737\n00:35:25.641 --> 00:35:28.551\nCuz that is gonna potentially\nprovide a bit of an issue for\n\n738\n00:35:28.551 --> 00:35:31.291\nus if we're not running\nthe appropriate OSs.\n\n739\n00:35:31.291 --> 00:35:32.197\nSo keep that in mind.\n\n740\n00:35:32.197 --> 00:35:36.546\nPre-authentication integrity, mandatory\nfeature, mandatory part of SMB 3.11.\n\n741\n00:35:36.546 --> 00:35:42.041\nWe do negotiate session\nsetup using strong hashing.\n\n742\n00:35:42.041 --> 00:35:49.189\nRemember I told you the default hash\nalgorithm now is SHA256, not 160 anymore.\n\n743\n00:35:49.189 --> 00:35:52.530\nWe are using SHA512\nwhen we implement this.\n\n744\n00:35:52.530 --> 00:35:57.131\nSo we're actually stepping up yet\nanother level and going to the SHA512 or\n\n745\n00:35:57.131 --> 00:36:02.105\nusing what is considered to be strong\nhash, SHA512 falls under that category.\n\n746\n00:36:02.105 --> 00:36:06.259\nWe use that and then the encryption\nimprovements on the client side or\n\n747\n00:36:06.259 --> 00:36:08.920\non the encryption side for SMB encryption.\n\n748\n00:36:08.920 --> 00:36:09.578\nIf I asked you,\n\n749\n00:36:09.578 --> 00:36:12.870\nwhat do you think the protocol would\nmost likely be that we'd go with there?\n\n750\n00:36:12.870 --> 00:36:13.454\n&gt;&gt; For what?\nI missed the-\n\n751\n00:36:13.454 --> 00:36:14.851\n&gt;&gt; For the SMB encryption, so\n\n752\n00:36:14.851 --> 00:36:18.085\nin other words, we step up our\ngame with SHA to 512, right?\n\n753\n00:36:18.085 --> 00:36:19.668\nWe're not thinking deaths obviously.\n\n754\n00:36:19.668 --> 00:36:20.527\nNo longer good.\n\n755\n00:36:20.527 --> 00:36:21.607\n&gt;&gt; No, not even triple deaths.\n\n756\n00:36:21.607 --> 00:36:22.641\n&gt;&gt; Probably thinking, no.\n\n757\n00:36:22.641 --> 00:36:23.744\n&gt;&gt; I think you're going with AES.\n\n758\n00:36:23.744 --> 00:36:24.407\n&gt;&gt; We are.\n\n759\n00:36:24.407 --> 00:36:25.474\n&gt;&gt; Most likely 256.\n\n760\n00:36:25.474 --> 00:36:28.121\n&gt;&gt; AES 128 CCM.\n\n761\n00:36:28.121 --> 00:36:29.562\n&gt;&gt; So 128 instead of 256.\n\n762\n00:36:29.562 --> 00:36:31.888\nBut we have a variable bit size for AES.\n\n763\n00:36:31.888 --> 00:36:36.085\nWe can implement at 128,\n192 over 256 bits.\n\n764\n00:36:36.085 --> 00:36:38.005\nSo we're doing AES 128,\n\n765\n00:36:38.005 --> 00:36:42.649\nwhich is nice cuz that does give us\nthat enhanced protection as well.\n\n766\n00:36:42.649 --> 00:36:46.471\nWe do have to make sure that, as I said,\nmost important element here and\n\n767\n00:36:46.471 --> 00:36:48.525\nI'm gonna show you this in a diagram.\n\n768\n00:36:48.525 --> 00:36:50.510\nI just gotta throw the document.\n\n769\n00:36:50.510 --> 00:36:51.847\nJust give me half a sec,\nwhile we're talking.\n\n770\n00:36:51.847 --> 00:36:53.269\nI'm just gonna put up the Word document.\n\n771\n00:36:53.269 --> 00:36:56.984\nI created a little table just to show us\nthe different versions that communicate.\n\n772\n00:36:56.984 --> 00:37:00.804\nBut Windows 10 and Server 16,\nwe need those OSs to be able to do this.\n\n773\n00:37:00.804 --> 00:37:03.946\nIf we're not running the right OS,\nthen remember this support is just\n\n774\n00:37:03.946 --> 00:37:05.983\nunfortunately not gonna\nbe available to us.\n\n775\n00:37:05.983 --> 00:37:09.890\n&gt;&gt; So this is not an update for Windows\nVista or Windows 81 or anything like that.\n\n776\n00:37:09.890 --> 00:37:13.230\n&gt;&gt; So we do need to just be aware of that,\nright, that that can get in the way.\n\n777\n00:37:13.230 --> 00:37:16.159\n&gt;&gt; Yeah, and that's an easy test question\nto get right now that you know that\n\n778\n00:37:16.159 --> 00:37:16.782\nfact, right?\n\n779\n00:37:16.782 --> 00:37:19.127\nCuz if they say,\nhere's your mixed environment,\n\n780\n00:37:19.127 --> 00:37:23.000\nyou're running Windows 8 clients,\nWindows 10 clients, and Server 2016,\n\n781\n00:37:23.000 --> 00:37:25.964\nwhat do you need to do to implement\nserver message block 311?\n\n782\n00:37:25.964 --> 00:37:28.440\nUpgrade your Windows 7\nclients to Windows 10.\n\n783\n00:37:28.440 --> 00:37:29.224\n&gt;&gt; Yeah, take a look.\n\n784\n00:37:29.224 --> 00:37:32.028\nSo I have a chart that will actually\ngive us all of this information,\n\n785\n00:37:32.028 --> 00:37:34.792\nif we go full screen which is exactly\nwhat we were just describing.\n\n786\n00:37:34.792 --> 00:37:39.211\nSo you'll see here, right,\nif we are using Windows 10 Server 16,\n\n787\n00:37:39.211 --> 00:37:42.316\nyou'll see that we\nare at Server SMB 3.1.1.\n\n788\n00:37:42.316 --> 00:37:47.109\nYou'll notice as we step back in time,\nright, we're back around version two and\n\n789\n00:37:47.109 --> 00:37:49.220\nor, version 1x, right?\n\n790\n00:37:49.220 --> 00:37:50.599\nSo, just keep that in mind.\n\n791\n00:37:50.599 --> 00:37:55.120\nAs I scroll down, you can kinda see\nWindows 7 2008 R2 doesn't step up because\n\n792\n00:37:55.120 --> 00:37:58.320\nthere's just no support\nbuilt in the stack for this.\n\n793\n00:37:58.320 --> 00:38:00.480\nNot even Windows 8 with Server 12, right?\n\n794\n00:38:00.480 --> 00:38:03.371\nIt does do version 3,\nbut not version 3.1.1.\n\n795\n00:38:03.371 --> 00:38:07.479\nAnd 8.1 12 R2,\nstill not even 3.1.1, it's 3.02.\n\n796\n00:38:07.479 --> 00:38:11.702\nSo it really is a brand, brand,\nbrand new stack upgrade,\n\n797\n00:38:11.702 --> 00:38:15.077\nfeature upgrade in Windows 10 Server 16.\n\n798\n00:38:15.077 --> 00:38:17.697\nAnd we need those clients and\nthose servers communicating to\n\n799\n00:38:17.697 --> 00:38:20.430\ntake full advantage of this,\nso just be aware of that.\n\n800\n00:38:20.430 --> 00:38:23.860\nAlso, just while we're here, I'll just\nthrow my notes up real quick just so\n\n801\n00:38:23.860 --> 00:38:27.820\nI can show you a couple of\nthe commandlets associated with it here.\n\n802\n00:38:27.820 --> 00:38:32.247\nYou can see Set-Smbshare is how we're\ngonna set this in PowerShell with the name\n\n803\n00:38:32.247 --> 00:38:35.660\nof the sharename whatever we wanna do,\nEncryptDate $true.\n\n804\n00:38:35.660 --> 00:38:37.376\nMr. PowerShell guru there.\n\n805\n00:38:37.376 --> 00:38:43.095\nSo $true, let's educate our\nviewers here for just a second.\n\n806\n00:38:43.095 --> 00:38:47.977\nSo $true, when we set this into\nPowerShell script or a line or whatever,\n\n807\n00:38:47.977 --> 00:38:52.550\nwe're essentially saying, yes,\nturn that on, make that true.\n\n808\n00:38:52.550 --> 00:38:55.170\nThat is essentially a yes all the time.\n\n809\n00:38:55.170 --> 00:38:58.258\nWe're specifying that the value of\nencrypt data always be hardcoded to true,\n\n810\n00:38:58.258 --> 00:38:59.821\nmeaning turn encrypt data on, right?\n\n811\n00:38:59.821 --> 00:39:02.491\n[INAUDIBLE]\n&gt;&gt; And I know there's a reason for\n\n812\n00:39:02.491 --> 00:39:05.310\nmaking a variable $true,\nI don't know what that is.\n\n813\n00:39:05.310 --> 00:39:07.818\n&gt;&gt; Cuz somebody thought it\nwas cooler than just true.\n\n814\n00:39:07.818 --> 00:39:10.396\n&gt;&gt; Does the $true equal\none in the background and\n\n815\n00:39:10.396 --> 00:39:12.720\n$ false equal to zero in the background?\n\n816\n00:39:12.720 --> 00:39:14.100\n&gt;&gt; I don't know if that's the case.\n\n817\n00:39:14.100 --> 00:39:16.520\nThat's actually good,\nI don't know, that I don't know.\n\n818\n00:39:16.520 --> 00:39:19.380\nI just know that $true\nhardcodes the setting, right?\n\n819\n00:39:19.380 --> 00:39:21.090\nIt does set it and it becomes persistent.\n\n820\n00:39:21.090 --> 00:39:23.445\n&gt;&gt; It does.\n&gt;&gt; So it's outside the session and\n\n821\n00:39:23.445 --> 00:39:25.457\nis a persistent value for that.\n\n822\n00:39:25.457 --> 00:39:28.553\nSo maybe it does toggle something\nlike that where it becomes a binary\n\n823\n00:39:28.553 --> 00:39:29.269\ntrue or false.\n\n824\n00:39:29.269 --> 00:39:31.120\nSo that would actually be\nsomething to look into.\n\n825\n00:39:31.120 --> 00:39:32.316\nI don't know the answer to that one.\n\n826\n00:39:32.316 --> 00:39:33.172\n&gt;&gt; For next week's class.\n\n827\n00:39:33.172 --> 00:39:34.265\n&gt;&gt; Yeah, we should.\nI'll have to pop in and\n\n828\n00:39:34.265 --> 00:39:35.239\nmake a guest appearance.\n\n829\n00:39:35.239 --> 00:39:36.114\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n830\n00:39:36.114 --> 00:39:38.528\nif we wanna encrypt while\nsharing on a file server,\n\n831\n00:39:38.528 --> 00:39:41.460\nset smb server configuration\nis the commandlet right there.\n\n832\n00:39:41.460 --> 00:39:43.149\nAgain, encrypt data $true.\n\n833\n00:39:43.149 --> 00:39:46.692\nCreate a new SMB share and enable SMB\nencryption simultaneously because doing\n\n834\n00:39:46.692 --> 00:39:50.572\nthem individually is just not good enough,\nwe're in a hurry here gotta do them both.\n\n835\n00:39:50.572 --> 00:39:53.388\nNew SMB share, just combine\nthem together with the path and\n\n836\n00:39:53.388 --> 00:39:56.049\nthen encrypt data true and\nthen you got the whole thing.\n\n837\n00:39:56.049 --> 00:39:59.112\nAnd then you'll see here, if we just\ngo full screen on the bottom just so\n\n838\n00:39:59.112 --> 00:39:59.786\nI can get that.\n\n839\n00:39:59.786 --> 00:40:02.431\nAll right, so you'll see right here then.\n\n840\n00:40:04.625 --> 00:40:07.828\nThat just this part right here.\n\n841\n00:40:07.828 --> 00:40:09.905\nRight?\nIf we want to enable encryption through\n\n842\n00:40:09.905 --> 00:40:12.260\nthe share management page\nwe can do that as well.\n\n843\n00:40:12.260 --> 00:40:15.380\nRight click on the share properties and\nthen encrypt that access, so\n\n844\n00:40:15.380 --> 00:40:18.310\nwe have a GUI based environment\nthat we can do this from as well.\n\n845\n00:40:18.310 --> 00:40:21.440\nBut we could also allow\nconnections that don't require or\n\n846\n00:40:21.440 --> 00:40:24.260\nuse SMB 3 to provide\nbackwards compatibility.\n\n847\n00:40:24.260 --> 00:40:27.168\nSo kind of have an opt out or\nan exception, if you will.\n\n848\n00:40:27.168 --> 00:40:31.970\nSet-SmbServerConfiguration\n-RejectunencryptedAccess $false.\n\n849\n00:40:31.970 --> 00:40:33.670\nAs we were saying our dollar sign true.\n\n850\n00:40:33.670 --> 00:40:37.050\nSo we can opt out and\nsay yes we'll provide that access for\n\n851\n00:40:37.050 --> 00:40:38.750\nolder systems if we need to.\n\n852\n00:40:38.750 --> 00:40:43.300\nBut having said that we probably\nwanna disable SNB1.0 support.\n\n853\n00:40:43.300 --> 00:40:46.210\nI'm just scrolling down so\nyou could see it here, right?\n\n854\n00:40:46.210 --> 00:40:49.360\nSince we're talking,\nI'll just put it up so it's easier to see.\n\n855\n00:40:49.360 --> 00:40:51.989\nWe can go ahead and disable this for\nthe older versions, right?\n\n856\n00:40:51.989 --> 00:40:54.221\nBecause we may not wanna\nprovide that level of support.\n\n857\n00:40:54.221 --> 00:40:55.840\n&gt;&gt; Yeah.\n&gt;&gt; That may be a little too old.\n\n858\n00:40:55.840 --> 00:40:58.700\nSo we could do this as you\ncould see here with PowerShell,\n\n859\n00:40:58.700 --> 00:41:02.340\nset itemproperty path,\nwe're setting a registry key parameter.\n\n860\n00:41:02.340 --> 00:41:04.690\nSo you could see I've\njust typed that in there.\n\n861\n00:41:04.690 --> 00:41:07.249\nSMB1 -Type DWORD -value 0 -Force.\n\n862\n00:41:07.249 --> 00:41:09.121\nThat turns that off, right?\n\n863\n00:41:09.121 --> 00:41:12.124\nIf we want to do this in Windows 8.1 or\n12,\n\n864\n00:41:12.124 --> 00:41:16.380\nset- smbServerConfiguration\n-EnableSMBProtocol $false.\n\n865\n00:41:16.380 --> 00:41:21.233\nAnd if we wanna uninstall totally,\nremove-windowsFeature FS-SMB1 and\n\n866\n00:41:21.233 --> 00:41:23.062\njust pull that out, right?\n\n867\n00:41:23.062 --> 00:41:26.118\nSo, the reason I'm throwing all\nthis up there and by the way for\n\n868\n00:41:26.118 --> 00:41:30.341\nWindows 10 or 16, enabling auditing of\nthat older traffic, we wanna track that.\n\n869\n00:41:30.341 --> 00:41:34.929\nSet smb server configuration auditS\nMB1 access dollar sign true and\n\n870\n00:41:34.929 --> 00:41:40.660\nget wind of that, for the log name in this\ncase Microsoft windows SMBServer/Audit.\n\n871\n00:41:40.660 --> 00:41:44.455\nIt's important to have these\nPowerShell commandlets and know about,\n\n872\n00:41:44.455 --> 00:41:46.677\nthis is why I put them in the notes for\nyou.\n\n873\n00:41:46.677 --> 00:41:50.783\nBecause if you take a look at the exam\nobjectives Microsoft is very specific in\n\n874\n00:41:50.783 --> 00:41:55.600\nthis whole broad category that we've been\ntalking about secure network traffic.\n\n875\n00:41:55.600 --> 00:42:00.670\nAll these things MMA, DNSsec,\nrate limiting, response rate limiting,\n\n876\n00:42:00.670 --> 00:42:04.371\nand SMB 3.11 protocol\nsupport implementation and\n\n877\n00:42:04.371 --> 00:42:07.524\nconfiguration is there\nas an exam objective.\n\n878\n00:42:07.524 --> 00:42:10.061\nAnd you can bet your bottom dollar or\nyour right or wrong.\n\n879\n00:42:10.061 --> 00:42:11.613\n&gt;&gt; [LAUGH]\n&gt;&gt; Exam question count,\n\n880\n00:42:11.613 --> 00:42:13.910\nthat you may get asked one or\nmore questions about it.\n\n881\n00:42:13.910 --> 00:42:16.840\nThey don't go to the trouble of putting\nit on the exam objectives if they're not\n\n882\n00:42:16.840 --> 00:42:18.530\ngonna at least.\n\n883\n00:42:18.530 --> 00:42:21.190\nEnsure that you are prepared,\nlet's put it that way.\n\n884\n00:42:21.190 --> 00:42:24.070\n&gt;&gt; And it's something that we\nreally need to pay attention to.\n\n885\n00:42:24.070 --> 00:42:25.390\nWe like backwards compatibility.\n\n886\n00:42:25.390 --> 00:42:28.805\nWe like them to be able to step down if\nthey need to talk to an older client that\n\n887\n00:42:28.805 --> 00:42:29.745\ndoesn't support.\n\n888\n00:42:29.745 --> 00:42:32.103\n&gt;&gt; Right but it's a security\nliability if we are not monitoring.\n\n889\n00:42:32.103 --> 00:42:32.617\n&gt;&gt; Right.\n\n890\n00:42:32.617 --> 00:42:33.507\n&gt;&gt; That with auditing for instance, right?\n\n891\n00:42:33.507 --> 00:42:35.288\n&gt;&gt; We saw what happened with SSO, right?\n\n892\n00:42:35.288 --> 00:42:36.085\nThat was a common attack.\n\n893\n00:42:36.085 --> 00:42:38.690\nIt's like hey,\nlet's force them to downgrade.\n\n894\n00:42:38.690 --> 00:42:41.080\nIs they're providing that\nbackwards compatibility.\n\n895\n00:42:41.080 --> 00:42:44.120\nWe can trick the server into\ndowngrading to an older version and\n\n896\n00:42:44.120 --> 00:42:46.390\nall of a sudden spit stuff\nout in a weak format.\n\n897\n00:42:46.390 --> 00:42:50.007\nSo, need to know what clients\nsupport those new SMB protocols and\n\n898\n00:42:50.007 --> 00:42:52.786\nhow to disable those old\nprotocols all together.\n\n899\n00:42:52.786 --> 00:42:54.823\n&gt;&gt; So it is good to be aware of it.\n\n900\n00:42:54.823 --> 00:42:55.414\n&gt;&gt; Absolutely.\n\n901\n00:42:55.414 --> 00:42:56.419\nAbsolutely.\nAll right,\n\n902\n00:42:56.419 --> 00:42:57.925\nlots of great information there.\n\n903\n00:42:57.925 --> 00:43:00.509\nI think, correct me if I'm wrong,\ndid we actually round out?\n\n904\n00:43:00.509 --> 00:43:01.815\n&gt;&gt; Dare you say it.\n\n905\n00:43:01.815 --> 00:43:03.055\n&gt;&gt; I know.\n&gt;&gt; Don't say it unless it's done.\n\n906\n00:43:03.055 --> 00:43:04.797\n&gt;&gt; Are we done with secure network?\n\n907\n00:43:04.797 --> 00:43:06.457\n&gt;&gt; Well you're never really done,\n\n908\n00:43:06.457 --> 00:43:09.847\nbut we've done enough that I think\nwe can claim victory and perhaps.\n\n909\n00:43:09.847 --> 00:43:11.127\n&gt;&gt; Woohoo.\n&gt;&gt; Move onto another topic.\n\n910\n00:43:11.127 --> 00:43:12.547\n&gt;&gt; A lot of great information there.\n\n911\n00:43:12.547 --> 00:43:17.097\nI think eight episodes we went through\nas Adam gave us kind of the summary of\n\n912\n00:43:17.097 --> 00:43:19.217\na lot of the things we talked about,\nI won't do that again.\n\n913\n00:43:19.217 --> 00:43:22.157\nMake sure you go back and\nwatch all of those episodes.\n\n914\n00:43:22.157 --> 00:43:22.657\n&gt;&gt; No, go MIke.\n\n915\n00:43:22.657 --> 00:43:25.453\n&gt;&gt; All right so let me scroll back.\n\n916\n00:43:25.453 --> 00:43:26.802\n&gt;&gt; View everything while we're closing up.\n\n917\n00:43:26.802 --> 00:43:29.370\n&gt;&gt; DNS C and D.\nNo, really great show here, though.\n\n918\n00:43:29.370 --> 00:43:32.580\nWe talked about DNS response rate\nlimiting, another one of those\n\n919\n00:43:32.580 --> 00:43:35.470\nthings we can put in place as\nanother layer of security in there.\n\n920\n00:43:35.470 --> 00:43:38.450\nAnd we took a look at the new\nmessage analyzer, right?\n\n921\n00:43:38.450 --> 00:43:40.650\nTheir new and\nimproved version of Network Monitor,\n\n922\n00:43:40.650 --> 00:43:42.660\nkind of bring it up with\nthe other products now.\n\n923\n00:43:42.660 --> 00:43:46.347\nWe can stick with a Microsoft product,\nand you get good.\n\n924\n00:43:46.347 --> 00:43:46.896\n&gt;&gt; Yeah.\n\n925\n00:43:46.896 --> 00:43:47.938\n&gt;&gt; Actually usable good products.\n\n926\n00:43:47.938 --> 00:43:49.134\n&gt;&gt; That's kinda cool.\n\n927\n00:43:49.134 --> 00:43:51.660\n&gt;&gt; I actually like the redesign,\nI must say.\n\n928\n00:43:51.660 --> 00:43:53.830\nI'm not always a big fan\nof certain redesigns.\n\n929\n00:43:53.830 --> 00:43:56.033\nBut I actually think this\none is a pretty good job.\n\n930\n00:43:56.033 --> 00:43:57.492\n&gt;&gt; It has Adam Gordon seal of approval.\n\n931\n00:43:57.492 --> 00:43:58.712\n&gt;&gt; It does.\n&gt;&gt; So we are good to go.\n\n932\n00:43:58.712 --> 00:44:01.476\nAll right, well ladies and gentlemen\nwe hope you enjoyed this episode.\n\n933\n00:44:01.476 --> 00:44:04.500\nSigning off for\nITPRO.TV I've been your host Mike Rodrick.\n\n934\n00:44:04.500 --> 00:44:05.320\n&gt;&gt; I'm Adam Gordon.\n\n935\n00:44:05.320 --> 00:44:06.802\n&gt;&gt; And we'll see you next time.\n\n936\n00:44:06.802 --> 00:44:14.025\n[MUSIC]\n\n937\n00:44:14.025 --> 00:44:17.760\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "236935175"
        }
      ],
      "title": "Secure Network Traffic"
    }
  ],
  "url": "mcse-windows-server-2016-70744",
  "vLab": false
}
