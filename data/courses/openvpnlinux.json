{
  "description": "In this series, Daniel and Justin will take you from start to finish through setting up a Ubuntu based OpenVPN server in AWS and an Ubuntu client. They show you how to set the proper firewall configurations, install OpenVPN on the server, install Easy-RSA on the server, configure the Certificate Authority(CA), generate both server and client keys, configure the server.conf and client.ovpn files, and finally make a VPN connection. They also look at few problems/errors that you may encounter and explain the appropriate troubleshooting techniques to resolve them.",
  "descriptionMD": "In this series, Daniel and Justin will take you from start to finish through setting up a Ubuntu based OpenVPN server in AWS and an Ubuntu client. They show you how to set the proper firewall configurations, install OpenVPN on the server, install Easy-RSA on the server, configure the Certificate Authority(CA), generate both server and client keys, configure the server.conf and client.ovpn files, and finally make a VPN connection. They also look at few problems/errors that you may encounter and explain the appropriate troubleshooting techniques to resolve them.",
  "length": "6319",
  "name": "OpenVPN in Linux",
  "practiceExam": false,
  "subtitle": "Virtual Private Network in Linux",
  "tagUrl": "network-admin",
  "topics": [
    {
      "episodes": [
        {
          "description": "In this episode, Justin and Daniel discuss the  some of the prerequisites for using OpenVPN such as the following: updating and upgrading the EC2 instance, modifying the security group to allow access, obtaining a sample configuration file, and modifying the configuration file.",
          "length": "1502",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-1-install_configure_openvpn_in_linux-080417-PGM.00_24_49_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-1-install_configure_openvpn_in_linux-080417-PGM.00_24_49_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-1-install_configure_openvpn_in_linux-080417-PGM.00_24_49_01.Still001-sm.jpg",
          "title": "Install / Configure OpenVPN in Linux",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:02.853\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.853 --> 00:00:06.151\n[CROSSTALK]\n\n3\n00:00:06.151 --> 00:00:08.442\n[MUSIC]\n\n4\n00:00:08.442 --> 00:00:12.201\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.201 --> 00:00:16.180\n&gt;&gt; Greetings, everyone, and welcome to\nanother exciting episode of ITProTV.\n\n6\n00:00:16.180 --> 00:00:18.430\nI'm your host Justin Dennison,\nand in today's episode, well,\n\n7\n00:00:18.430 --> 00:00:23.319\nwe're gonna install and\nconfigure open VPN in a Linux server or\n\n8\n00:00:23.319 --> 00:00:26.360\na Linux instance,\nhowever you wish to describe them.\n\n9\n00:00:26.360 --> 00:00:30.242\nAnd luckily, we have the man with the plan\nin the studio with us, Mr. Daniel Lowrie.\n\n10\n00:00:30.242 --> 00:00:31.130\nHow are you doing today, Daniel?\n\n11\n00:00:31.130 --> 00:00:33.800\n&gt;&gt; Man, I'm doing great,\nthis is actually gonna be a lot of fun.\n\n12\n00:00:33.800 --> 00:00:36.844\nLooking forward to doing\nthis episode because,\n\n13\n00:00:36.844 --> 00:00:40.492\nlet me tell you what I needed to do this,\ninstall open VPN.\n\n14\n00:00:40.492 --> 00:00:45.900\nGet a VPN connection going on for\nanother show that I'm working on.\n\n15\n00:00:45.900 --> 00:00:47.458\nAnd, I was like, that'll be simple.\n\n16\n00:00:47.458 --> 00:00:51.285\nThat'll be an easy thing, and\nthen I realized I've never done it before,\n\n17\n00:00:51.285 --> 00:00:54.180\nI never needed to at least not this way,\nright.\n\n18\n00:00:54.180 --> 00:00:57.570\nAnd it was extremely difficult, and\nthere was a lot of stumbling blocks.\n\n19\n00:00:57.570 --> 00:00:59.835\nAnd I thought, man,\nthis'll probably make a really great show.\n\n20\n00:00:59.835 --> 00:01:02.374\nSo I thought,\nlet's throw that into tech skill and\n\n21\n00:01:02.374 --> 00:01:04.096\nsee who salutes on that flagpole.\n\n22\n00:01:04.096 --> 00:01:08.023\nSo here we are today with\nOpenVPN inside of Linux.\n\n23\n00:01:08.023 --> 00:01:10.829\nLet me set the stage for\nyou just a little bit.\n\n24\n00:01:10.829 --> 00:01:16.650\nBasically what I'm working with is\nUbuntu 16.04, it is inside of AWS.\n\n25\n00:01:16.650 --> 00:01:23.740\nIt is just a T2 micro, I believe,\nvery simple Linux installation.\n\n26\n00:01:23.740 --> 00:01:26.580\nA lot of what we're gonna look at\ntoday is going to be Ubuntu or\n\n27\n00:01:26.580 --> 00:01:29.720\nDebian based system specific.\n\n28\n00:01:29.720 --> 00:01:33.270\nAlthough a lot of it will transfer\nover too if you're running a Red Hat\n\n29\n00:01:33.270 --> 00:01:34.520\ntype of system.\n\n30\n00:01:34.520 --> 00:01:36.580\nThere are a few caveats on that, so\n\n31\n00:01:36.580 --> 00:01:40.330\nconsult your documentation, or\njust Google it out there on the web.\n\n32\n00:01:40.330 --> 00:01:44.270\nMaybe I'll come back and we'll do a Red\nHat specific one, if I feel so inclined.\n\n33\n00:01:44.270 --> 00:01:48.534\nBut, we are gonna walk you\nfrom soup to the nuts,\n\n34\n00:01:48.534 --> 00:01:54.672\ntaking you from basically logging in\nto our Linux instance out in AWS.\n\n35\n00:01:54.672 --> 00:01:58.971\nGetting the server configured, generating\nkeys, generating configurations for\n\n36\n00:01:58.971 --> 00:02:01.340\nthe server, generating keys for\nthe client.\n\n37\n00:02:02.610 --> 00:02:05.910\nCopy them over to the client, and then\ngetting that client installed and running.\n\n38\n00:02:05.910 --> 00:02:08.940\nAnd if we have time, we'll also look\nat a little bit of troubleshooting.\n\n39\n00:02:08.940 --> 00:02:12.118\nJust some trouble that I'd ran\nacross when I was working with this,\n\n40\n00:02:12.118 --> 00:02:13.410\nsome mistakes that I made.\n\n41\n00:02:13.410 --> 00:02:16.120\nAnd I thought, you know what,\nyou guys might benefit from that as well.\n\n42\n00:02:16.120 --> 00:02:18.240\nSo I'll throw that on\nthe heap if we can get to it.\n\n43\n00:02:18.240 --> 00:02:21.730\n&gt;&gt; Now, Daniel, I'm actually kind of\nlooking forward to the troubleshooting if\n\n44\n00:02:21.730 --> 00:02:25.910\nwe have time for it because it's something\nthat tends to be very frustrating to me.\n\n45\n00:02:25.910 --> 00:02:29.240\nI'm like this should work,\nwhat part did I miss?\n\n46\n00:02:29.240 --> 00:02:29.795\nWhat did I miss?\n\n47\n00:02:29.795 --> 00:02:35.560\nAnd it could even be, well I found great\ndocumentation for a Red Hat flavor Linux.\n\n48\n00:02:35.560 --> 00:02:39.310\nBut I really need a Debian based Linux,\nor that's all I have available to me.\n\n49\n00:02:39.310 --> 00:02:43.090\nSo there's some stumbling blocks there,\nso I'd be interested to see that.\n\n50\n00:02:43.090 --> 00:02:45.750\nBut ultimately,\nit doesn't matter to troubleshoot if\n\n51\n00:02:45.750 --> 00:02:48.560\nwe don't actually get anything installed\nand configured in the first place.\n\n52\n00:02:48.560 --> 00:02:49.800\n&gt;&gt; Yeah, it's totally true.\n\n53\n00:02:49.800 --> 00:02:51.140\nJustin hit the nail on the head.\n\n54\n00:02:51.140 --> 00:02:52.750\nI found myself doing the exact same thing,\n\n55\n00:02:52.750 --> 00:02:56.440\nwhere I'm staring at it going,\nwhy is this not working?\n\n56\n00:02:56.440 --> 00:02:59.460\nWhat am I missing,\nwhat key is not in the right place,\n\n57\n00:02:59.460 --> 00:03:02.150\nwhat tumbler is not falling\nto make this thing work?\n\n58\n00:03:02.150 --> 00:03:07.090\nSo troubleshooting is always a benefit\nto see it done in real life land.\n\n59\n00:03:07.090 --> 00:03:11.609\nSo even if we can't make the same [LAUGH]\nerrors before, I'll take a look at some\n\n60\n00:03:11.609 --> 00:03:15.106\nof the errors that I saw so\nthat we can work our way through it.\n\n61\n00:03:15.106 --> 00:03:18.758\nThey probably are typical because I found\nvery quickly that I wasn't the only one\n\n62\n00:03:18.758 --> 00:03:20.010\nthat had the same problem.\n\n63\n00:03:20.010 --> 00:03:22.540\nSo, all right, that being said,\nlet's get started.\n\n64\n00:03:22.540 --> 00:03:24.290\nRight, let's go ahead and\njump into my machine.\n\n65\n00:03:24.290 --> 00:03:26.040\nI am logged into the AWS console.\n\n66\n00:03:26.040 --> 00:03:28.350\nI'm on EC2 dashboard right here.\n\n67\n00:03:28.350 --> 00:03:30.022\nVery nice.\nI've got a couple of instances running.\n\n68\n00:03:30.022 --> 00:03:33.450\nThis is the first instance\nthat I actually built this on.\n\n69\n00:03:33.450 --> 00:03:36.000\nAnd then I have this one\nwhich I just spun up.\n\n70\n00:03:36.000 --> 00:03:38.180\nIt's a brand new instance, right?\n\n71\n00:03:38.180 --> 00:03:41.040\nI've got my public IP address right there.\n\n72\n00:03:41.040 --> 00:03:43.290\nObviously, this is accessible\nfrom the Internet.\n\n73\n00:03:43.290 --> 00:03:46.373\nAnd you can think of a myriad of ways, or\n\n74\n00:03:46.373 --> 00:03:52.274\nreasons on why you would need a public\nfacing VPN server, I sure know I can.\n\n75\n00:03:52.274 --> 00:03:55.327\nJust if you wanna contact your\nhome network from work, and\n\n76\n00:03:55.327 --> 00:03:58.530\nnot have to worry about\nanybody sniffing that traffic.\n\n77\n00:03:58.530 --> 00:04:01.021\nBoom, there you go, it's a great\nreason to use something like this.\n\n78\n00:04:01.021 --> 00:04:03.890\nSo very cool, got all that,\nit is up and running.\n\n79\n00:04:03.890 --> 00:04:07.430\nThat is kind of a caveat,\nit needs to actually run.\n\n80\n00:04:07.430 --> 00:04:10.950\nAnd make sure your status check's all\nokay, there's no problems with it.\n\n81\n00:04:10.950 --> 00:04:12.790\nThis thing's ready to go.\n\n82\n00:04:12.790 --> 00:04:16.380\nNow the first thing we need\nto do is log in with SSH,\n\n83\n00:04:16.380 --> 00:04:18.990\nwhich I have actually already done,\nhere we are.\n\n84\n00:04:18.990 --> 00:04:22.000\nYou can see that my prompt has changed.\n\n85\n00:04:22.000 --> 00:04:28.589\nRight here I'm logged in as root at my\nIP address, and I am in /home/ubuntu.\n\n86\n00:04:29.970 --> 00:04:33.540\nJust a word of advice,\nif you've never done AWS stuff before,\n\n87\n00:04:33.540 --> 00:04:36.570\nwe've got a whole bunch of\nAWS content here at ITProTV.\n\n88\n00:04:36.570 --> 00:04:39.930\nSo check that out if you need some\nhelp getting that up and running.\n\n89\n00:04:39.930 --> 00:04:43.270\nThat is a bit of assumed knowledge,\nbut it's not that difficult.\n\n90\n00:04:43.270 --> 00:04:45.150\nAnd if you've never used it before and\n\n91\n00:04:45.150 --> 00:04:47.810\nyou're an Amazon customer,\nwell guess what?\n\n92\n00:04:47.810 --> 00:04:51.040\nYou can play with it for a year, for free.\n\n93\n00:04:51.040 --> 00:04:53.860\nSo this is stuff that you\ncan do that's a lot of fun.\n\n94\n00:04:53.860 --> 00:04:56.600\nGet you into the cloud and\nstart working with cloud-based stuff.\n\n95\n00:04:56.600 --> 00:04:57.440\nSo I like that.\n\n96\n00:04:57.440 --> 00:05:00.360\nI like being able to spin stuff up in\nthe cloud instead of having to build\n\n97\n00:05:00.360 --> 00:05:03.250\neverything as a Virtual Server\nlocally to my machine.\n\n98\n00:05:03.250 --> 00:05:06.130\nBecause you never know when you need\nthat public facing IP address or\n\n99\n00:05:06.130 --> 00:05:09.590\njust something that's not local to\nyour machine taking up resources.\n\n100\n00:05:09.590 --> 00:05:12.030\nSo just keep that in mind.\n\n101\n00:05:12.030 --> 00:05:18.040\nThe first thing I did when I logged\ninto this was update and upgrade, right?\n\n102\n00:05:18.040 --> 00:05:20.840\nSo this instance in Ubuntu,\nyou do your good old,\n\n103\n00:05:20.840 --> 00:05:24.685\nI got it right here I believe,\nthere you go.\n\n104\n00:05:24.685 --> 00:05:29.225\nApt-get update and if you do &amp;&amp;,\nit's basically a logical operator.\n\n105\n00:05:29.225 --> 00:05:31.578\nAlso apt-get upgrade.\n\n106\n00:05:31.578 --> 00:05:34.686\nSo apt-get update to check for\nnew packages, and\n\n107\n00:05:34.686 --> 00:05:38.380\nthen apt-get upgrade to\nactually install them.\n\n108\n00:05:38.380 --> 00:05:41.545\nDo that first, okay?\n\n109\n00:05:41.545 --> 00:05:44.535\nMake sure that the server is nice and\nsecure,\n\n110\n00:05:44.535 --> 00:05:47.217\nthere's no running vulnerabilities.\n\n111\n00:05:47.217 --> 00:05:48.740\nWe wanna make sure you guys\naren't getting smoked.\n\n112\n00:05:48.740 --> 00:05:50.950\nRemember, public facing Internet stuff.\n\n113\n00:05:50.950 --> 00:05:52.840\n&gt;&gt; Now Daniel, just as a reminder.\n\n114\n00:05:52.840 --> 00:05:54.260\nI've actually had an experience.\n\n115\n00:05:54.260 --> 00:05:56.850\nIf you don't do the update,\nif you have to install in it.\n\n116\n00:05:56.850 --> 00:05:59.530\nLet's say I wanna throw up nginx and\nstart a web server or something,\n\n117\n00:05:59.530 --> 00:06:02.480\nit won't actually let me install anything.\n\n118\n00:06:02.480 --> 00:06:03.910\nIt'll say,\nI don't know what you're talking about.\n\n119\n00:06:03.910 --> 00:06:08.620\nSo the first update, in my experience\nis necessary for actual aptitude,\n\n120\n00:06:08.620 --> 00:06:11.430\nto know what you're talking about when\nyou say apt-install, blah, blah, blah.\n\n121\n00:06:11.430 --> 00:06:15.320\nSo always do that, but especially do that\nbecause of the security updates that\n\n122\n00:06:15.320 --> 00:06:17.520\nare typically hiding\naround there all the time.\n\n123\n00:06:17.520 --> 00:06:18.280\n&gt;&gt; Yeah, it's fun.\n\n124\n00:06:18.280 --> 00:06:22.730\nI do security just a little wee bits and\nthat's exactly what I'm looking for\n\n125\n00:06:22.730 --> 00:06:24.410\nif I'm a bad guy.\n\n126\n00:06:24.410 --> 00:06:28.300\nI'm looking out there and going,\nI was able to scan this machine and\n\n127\n00:06:28.300 --> 00:06:31.320\nit's lo to glory be,\nit's right there on the Internet for me,\n\n128\n00:06:31.320 --> 00:06:34.220\nand it has this open and\nthis open and this open.\n\n129\n00:06:34.220 --> 00:06:38.050\nAnd I did some banner grabbing, and\nthat's running an older service there.\n\n130\n00:06:38.050 --> 00:06:41.520\nI can look for a known vulnerability and\nsee if I can exploit it that way.\n\n131\n00:06:41.520 --> 00:06:44.670\nSo, best thing to do is just\nupgrade everything, it's a fresh,\n\n132\n00:06:44.670 --> 00:06:47.280\nclean install so might as well, right?\n\n133\n00:06:47.280 --> 00:06:48.170\nAll right, let's move on.\n\n134\n00:06:49.180 --> 00:06:54.470\nThe next thing we need to do is\nmodify the security group in AWS.\n\n135\n00:06:54.470 --> 00:06:58.790\nAgain if you need to know a great\ndeal about security groups in AWS\n\n136\n00:06:58.790 --> 00:07:02.640\njump over to our Amazon web\nservices content, check that out.\n\n137\n00:07:02.640 --> 00:07:05.400\nAll that is in there, I think Don\ndid most of that if not all of it.\n\n138\n00:07:05.400 --> 00:07:08.590\nHe knows that stuff stone cold,\nand you're learning from the best,\n\n139\n00:07:08.590 --> 00:07:09.950\nthat's definitely for sure.\n\n140\n00:07:09.950 --> 00:07:13.125\nBut basically a security group is\nwhere we configure the networking and\n\n141\n00:07:13.125 --> 00:07:14.820\nfire-walling and\nthings of that nature, all right?\n\n142\n00:07:14.820 --> 00:07:16.700\nSo let's jump back over to that.\n\n143\n00:07:16.700 --> 00:07:19.850\nSo, what I wanna do is,\nthe easy way to get to it for\n\n144\n00:07:19.850 --> 00:07:23.354\nme is I click on my instance.\n\n145\n00:07:23.354 --> 00:07:25.820\nYou'll notice I have my\ninstance right here, and\n\n146\n00:07:25.820 --> 00:07:29.120\nI have it selected down here in\nthe bottom you see Security groups.\n\n147\n00:07:29.120 --> 00:07:30.960\nI'm sorry, that kinda jumping over there.\n\n148\n00:07:30.960 --> 00:07:34.410\nRight there, you have Security groups,\nand there's the security group.\n\n149\n00:07:34.410 --> 00:07:36.950\nI can just click on that and\nit will take me to Security groups.\n\n150\n00:07:36.950 --> 00:07:40.600\nAnother good way to get to it is from over\nhere on the side, there is Network and\n\n151\n00:07:40.600 --> 00:07:42.910\nSecurity, and\nyou can click Security Groups.\n\n152\n00:07:42.910 --> 00:07:43.820\nYou can get there.\n\n153\n00:07:43.820 --> 00:07:47.340\nBut, I would then have to guess, well\nwhich one is the security group I'm in?\n\n154\n00:07:47.340 --> 00:07:48.880\nWell, it's already right\nhere in front of me, so\n\n155\n00:07:48.880 --> 00:07:51.320\nI just have to click on it if\nI wanna make some changes.\n\n156\n00:07:51.320 --> 00:07:53.601\nSo I'll just click on there,\nlaunch wizard 11.\n\n157\n00:07:53.601 --> 00:07:55.828\nI just went with the defaults install,\n\n158\n00:07:55.828 --> 00:07:59.211\nI didn't use a security group\nthat I've already created.\n\n159\n00:07:59.211 --> 00:08:01.579\nJust makes things easy,\neverything's clean, right?\n\n160\n00:08:01.579 --> 00:08:04.279\nSo now we wanna touch\non this inbound area,\n\n161\n00:08:04.279 --> 00:08:08.910\nbecause we're gonna be accepting\ninbound connections that we need to.\n\n162\n00:08:08.910 --> 00:08:12.390\nAnd there is something interesting,\nthere's only one port open on this.\n\n163\n00:08:12.390 --> 00:08:18.275\nIt's right here, SSH, TCP,\nport 22 from anywhere in the world.\n\n164\n00:08:18.275 --> 00:08:21.370\nThat's so that wherever I'm at\nif I'm at a cafe somewhere,\n\n165\n00:08:21.370 --> 00:08:24.660\nI'm in McDonald's doing whatever and\nI wanna log in I can.\n\n166\n00:08:24.660 --> 00:08:30.040\nI can SSH into it regardless\nwhat network that I'm on so\n\n167\n00:08:30.040 --> 00:08:33.320\nbut we need to make some changes here we\ngotta poke some holes in the firewall so\n\n168\n00:08:33.320 --> 00:08:37.830\nthat we can allow the VPN service\nto have connections come in, right?\n\n169\n00:08:37.830 --> 00:08:39.430\nSo let's do that.\n\n170\n00:08:39.430 --> 00:08:42.710\nAll we have to do is click\nthe edit button here.\n\n171\n00:08:42.710 --> 00:08:45.200\nAnd what we're gonna do is\nwe're gonna change this.\n\n172\n00:08:45.200 --> 00:08:46.440\nI'm sorry, we're gonna add a rule,\n\n173\n00:08:46.440 --> 00:08:51.250\nand then we're gonna change\nthis type to Custom UDP.\n\n174\n00:08:51.250 --> 00:08:56.120\nNow, open VPN does run on TCP and\nUDP But for simplicity's sake,\n\n175\n00:08:56.120 --> 00:09:00.130\nI'm just going with UDP cuz that's\nthe defaults and it does work.\n\n176\n00:09:00.130 --> 00:09:01.570\nSo, there you go.\n\n177\n00:09:01.570 --> 00:09:05.990\nSo I'm gonna add a custom UDP rule, so\nthat changes the protocol for me to UDP.\n\n178\n00:09:05.990 --> 00:09:08.920\nNow I'm gonna say what's the port or\nport range.\n\n179\n00:09:08.920 --> 00:09:12.700\nIf it's just one port, it's port 1194.\n\n180\n00:09:12.700 --> 00:09:17.720\nLike so, just type that in, and\nthen move on over here to Source.\n\n181\n00:09:17.720 --> 00:09:21.900\nRemember, we wanna be able to\naccess this from anywhere, so\n\n182\n00:09:21.900 --> 00:09:24.820\nwe're going to, hey, how about that?\n\n183\n00:09:24.820 --> 00:09:26.550\nAnywhere, click that in there,\n\n184\n00:09:26.550 --> 00:09:29.640\nyou'll notice it does give\nus both the IPv4 and IPv6.\n\n185\n00:09:30.980 --> 00:09:32.425\nTypes of anywheres.\n\n186\n00:09:32.425 --> 00:09:36.180\n0.0.0.0, I think I've got\nenough zeroes in there.\n\n187\n00:09:36.180 --> 00:09:38.370\nSlash zero, lot's of zeroes.\n\n188\n00:09:38.370 --> 00:09:39.610\nAnd then of course, the IPv6::4/0.\n\n189\n00:09:39.610 --> 00:09:40.500\nThat looks good.\n\n190\n00:09:40.500 --> 00:09:44.850\nI now just have to hit save.\n\n191\n00:09:44.850 --> 00:09:49.360\nAnd now I have my two custom UDP rules.\n\n192\n00:09:49.360 --> 00:09:52.120\nIt does split it up for\nwhatever reason, but that's fine.\n\n193\n00:09:52.120 --> 00:09:54.570\nAWS does what AWS does.\n\n194\n00:09:54.570 --> 00:10:00.298\nAnd, but our ports are right,\nthe UDP port 1194 cuz that is our default.\n\n195\n00:10:00.298 --> 00:10:05.330\n&gt;&gt; Now, Daniel, I've got a quick question,\nyou said open BPN will work on TCP,\n\n196\n00:10:05.330 --> 00:10:09.770\nor UDP is there an advantage of choosing\none over the other, or just going with\n\n197\n00:10:09.770 --> 00:10:13.540\nthe default just to make things a little\nnicer, so we don't have to worry about it.\n\n198\n00:10:13.540 --> 00:10:17.260\n&gt;&gt; Yeah, I am going with the default\nto make things run smoothly for\n\n199\n00:10:17.260 --> 00:10:20.440\nthis episode,\nthe show because I just want things to go.\n\n200\n00:10:20.440 --> 00:10:21.940\nI don't wanna have a bunch of hiccups.\n\n201\n00:10:21.940 --> 00:10:27.190\nTCP will be a probably more stable\nconnection, but UDP will probably be\n\n202\n00:10:27.190 --> 00:10:30.910\na little bit faster, so if you're seeing\na slow, you can use whatever you like.\n\n203\n00:10:30.910 --> 00:10:31.960\nGo for broke.\n\n204\n00:10:31.960 --> 00:10:35.700\nIf you see some slowness\nin your TCP connection,\n\n205\n00:10:35.700 --> 00:10:39.050\nmaybe change it to UDP and\nsee if that doesn't speed things up.\n\n206\n00:10:39.050 --> 00:10:42.410\nSo usually,\nthat's what typically you'll hear about.\n\n207\n00:10:42.410 --> 00:10:46.380\nAll right, so we've got our rules\nin place, we've done our updates,\n\n208\n00:10:46.380 --> 00:10:47.480\nwhat is the next thing we need to do?\n\n209\n00:10:47.480 --> 00:10:48.240\nWell, guess what?\n\n210\n00:10:48.240 --> 00:10:52.150\nWe are up at that point where\nwe're installing OpenVPN.\n\n211\n00:10:52.150 --> 00:10:55.680\nWe're also gonna install another piece\nof software as well called Easy-RSA.\n\n212\n00:10:55.680 --> 00:10:58.610\nLet me get out of here.\n\n213\n00:10:58.610 --> 00:11:06.550\nOpenVPN that's our software that will help\nus actually serve up OpenVPN connections.\n\n214\n00:11:06.550 --> 00:11:10.980\nBut EasyRSA will help us create the keys,\nthe certificate authority,\n\n215\n00:11:10.980 --> 00:11:15.520\nall the other great stuff that we need\nin place so that we can have a VPN.\n\n216\n00:11:15.520 --> 00:11:19.130\nRemember, this is all cryptography PKI,\ngood stuff, right?\n\n217\n00:11:19.130 --> 00:11:21.290\nPublic key infrastructure,\npublic key infrastructure, or\n\n218\n00:11:21.290 --> 00:11:23.670\nwhatever you'd like to name it.\n\n219\n00:11:23.670 --> 00:11:27.390\nWe gotta have all that in place and\nset up, in Windows,\n\n220\n00:11:27.390 --> 00:11:30.980\nif you've ever done it,\nit's actually pretty simple.\n\n221\n00:11:30.980 --> 00:11:34.540\nBut in Linux,\npeople look at that black box and say,\n\n222\n00:11:34.540 --> 00:11:38.070\ntyping, typing's no fun,\nbut, it's not that bad.\n\n223\n00:11:38.070 --> 00:11:39.390\nIt's actually pretty simple.\n\n224\n00:11:39.390 --> 00:11:40.440\nSo, let's get it installed.\n\n225\n00:11:40.440 --> 00:11:41.580\nI'm going to run.\n\n226\n00:11:41.580 --> 00:11:45.966\nYou'll notice,\nI am logged as root, typically\n\n227\n00:11:45.966 --> 00:11:51.418\nsecurity, the boxes don't log in as root.\n\n228\n00:11:51.418 --> 00:11:53.370\nI have SU'd into root.\n\n229\n00:11:53.370 --> 00:11:56.130\nI logged in as the standard user Ubuntu.\n\n230\n00:11:56.130 --> 00:11:59.177\nI am using a key pair that generated,\nwhen I created so\n\n231\n00:11:59.177 --> 00:12:01.780\nit's not a password enabled thing.\n\n232\n00:12:01.780 --> 00:12:04.470\nAnd only Ubuntu can log in from SSA.\n\n233\n00:12:04.470 --> 00:12:08.080\nSo I'm pretty secure but\nI need to elevate my privileges a lot.\n\n234\n00:12:08.080 --> 00:12:10.747\nInstead of doing a bunch of SUDU's and\nforgetting one,\n\n235\n00:12:10.747 --> 00:12:12.130\nI just went ahead and SU'd.\n\n236\n00:12:12.130 --> 00:12:15.780\nCuz I know I'm gonna be doing\na lot of administrative tasks.\n\n237\n00:12:15.780 --> 00:12:16.980\nI would suggest that as well.\n\n238\n00:12:16.980 --> 00:12:20.600\nAs soon as you are done,\ndrop your privileges,\n\n239\n00:12:20.600 --> 00:12:23.520\ngo back to your standard Ubuntu\nuser who is a SUDU-user there.\n\n240\n00:12:23.520 --> 00:12:26.270\nAnd then we should be just fine.\n\n241\n00:12:26.270 --> 00:12:29.590\nSo that caveat aside,\nyou can SUDU if you like, but\n\n242\n00:12:29.590 --> 00:12:32.690\nI like to SU cuz I'm doing\na lot of administrative tasks.\n\n243\n00:12:32.690 --> 00:12:33.280\nSo here we go.\n\n244\n00:12:33.280 --> 00:12:37.850\nWhat do we need to do when we install\nthe OpenVPN and the Easy-RSA software?\n\n245\n00:12:37.850 --> 00:12:46.740\nSo I'm just gonna say apt get\ninstall open-vpn And easy SRSA.\n\n246\n00:12:46.740 --> 00:12:48.640\nJust, I'm sorry it's not dash vpn.\n\n247\n00:12:48.640 --> 00:12:49.910\nI got easy.\n\n248\n00:12:49.910 --> 00:12:52.390\nThere we go.\nThat should look a little better.\n\n249\n00:12:52.390 --> 00:12:57.240\nWe going, okay we found the packages,\nwould you like to do this, I hit yes, and\n\n250\n00:12:57.240 --> 00:12:58.510\nit's off to the races.\n\n251\n00:12:58.510 --> 00:13:00.380\nThis shouldn't take very long,\n\n252\n00:13:00.380 --> 00:13:03.380\nit all depends on your network\nconnectivity obviously.\n\n253\n00:13:03.380 --> 00:13:05.550\nBut looks like I'm already done, right?\n\n254\n00:13:06.800 --> 00:13:08.170\nVery, very simple.\n\n255\n00:13:08.170 --> 00:13:11.980\nI like how it says, we're starting\nthe VPN service, but it's not running or\n\n256\n00:13:11.980 --> 00:13:13.430\nsomething's going on here.\n\n257\n00:13:13.430 --> 00:13:14.320\nNo VPN is running.\nWell that's good,\n\n258\n00:13:14.320 --> 00:13:17.970\nthat's fine, just wanted the service\ninstalled and now that should be done.\n\n259\n00:13:17.970 --> 00:13:19.040\nI got no errors,\n\n260\n00:13:19.040 --> 00:13:22.780\nif you have errors you're gonna wanna\ncheck maybe network connectivity,\n\n261\n00:13:22.780 --> 00:13:26.730\nmaybe you got a repository, something\nlike that is not where it should be.\n\n262\n00:13:26.730 --> 00:13:29.990\nBut this is a standard install from\nAWS and it finds it just fine, so\n\n263\n00:13:29.990 --> 00:13:31.310\nyou should have the same thing.\n\n264\n00:13:31.310 --> 00:13:35.510\nIf you're using Digital Ocean or\nany other cloud-based service,\n\n265\n00:13:35.510 --> 00:13:37.950\nyou're probably gonna have\na very similar experience.\n\n266\n00:13:39.410 --> 00:13:41.210\nOkay, let's move on here.\n\n267\n00:13:41.210 --> 00:13:42.050\nWhere are we at?\n\n268\n00:13:42.050 --> 00:13:43.370\nSo we got everything.\n\n269\n00:13:43.370 --> 00:13:47.990\nThe next thing we're gonna want to do\nis extract a sample server config file.\n\n270\n00:13:47.990 --> 00:13:53.160\nThe cool thing is, is that open VPN\nwhen you install it has a bunch of\n\n271\n00:13:53.160 --> 00:13:57.270\nconfiguration files and they have sample\nones that you can basically just copy and\n\n272\n00:13:57.270 --> 00:14:02.970\npaste into where ever you like,\ntypically that's slash\n\n273\n00:14:02.970 --> 00:14:07.620\nopen VPN area of your\nworld to play around with.\n\n274\n00:14:07.620 --> 00:14:09.870\nIt has a bunch, it's very well commented.\n\n275\n00:14:09.870 --> 00:14:13.520\nThey did a great job over at OpenVPN to\n\n276\n00:14:13.520 --> 00:14:18.340\nhelp you figure out what each thing does,\nand why you would or would not do it.\n\n277\n00:14:18.340 --> 00:14:22.460\nSo let's do that, let's copy that over.\n\n278\n00:14:22.460 --> 00:14:23.710\nSo.\n\n279\n00:14:23.710 --> 00:14:27.300\nI can cd into user dash share,\n\n280\n00:14:27.300 --> 00:14:31.790\nthis is where it resides,\ndoc slash open, VPN.\n\n281\n00:14:32.820 --> 00:14:34.120\nThere we go.\n\n282\n00:14:34.120 --> 00:14:41.010\nExample slash sample dash config,\ndash files.\n\n283\n00:14:41.010 --> 00:14:45.650\nI don't know if I typed that correctly,\nExamples, the examples.\n\n284\n00:14:45.650 --> 00:14:47.400\nThat's the problem.\n\n285\n00:14:47.400 --> 00:14:50.520\nIt wasn't tab auto completing,\nit was like, no sir, that's not right.\n\n286\n00:14:50.520 --> 00:14:52.100\nI think that'll work for us.\n\n287\n00:14:52.100 --> 00:14:53.190\nThere we go.\n\n288\n00:14:53.190 --> 00:14:56.420\nSo I just, I just kind of\nchanged into that directory so\n\n289\n00:14:56.420 --> 00:14:58.180\nthat we can see what's in it and\nplay around.\n\n290\n00:14:58.180 --> 00:14:59.470\nIt's probably full of stuff.\n\n291\n00:14:59.470 --> 00:15:01.240\nThere you go.\nA couple of cool things in here, but\n\n292\n00:15:01.240 --> 00:15:05.090\nthe one thing we're definitely looking for\nIs this guy right here, server.conf.gz.\n\n293\n00:15:05.090 --> 00:15:08.410\nSo it's a gzipped file.\n\n294\n00:15:08.410 --> 00:15:13.540\nWe'll have to copy it and\nextract the files inside of that.\n\n295\n00:15:13.540 --> 00:15:14.510\nSo let's do that.\n\n296\n00:15:14.510 --> 00:15:20.550\nLet's copy that to our\n/etsy/openvpn directory.\n\n297\n00:15:20.550 --> 00:15:29.253\nSo let's do this,\ncp server.conf.gz/etc/openvpn/,\n\n298\n00:15:29.253 --> 00:15:31.247\nthere we go.\n\n299\n00:15:31.247 --> 00:15:35.321\nNow we should be able to\nsee into that directory,\n\n300\n00:15:37.875 --> 00:15:41.580\nAnd hey look at that,\nthere is server.conf.gz.\n\n301\n00:15:41.580 --> 00:15:44.747\nNow it's time to extract it.\n\n302\n00:15:44.747 --> 00:15:49.312\nI will just run good old gunzip,\nthere we go.\n\n303\n00:15:49.312 --> 00:15:53.689\nAnd it's -c server.conf.\n\n304\n00:15:53.689 --> 00:15:59.005\nI think that should be good, there we go.\n\n305\n00:15:59.005 --> 00:16:01.304\nI just let me do the extract.\n\n306\n00:16:01.304 --> 00:16:04.518\nI think it's, what is it?\n\n307\n00:16:04.518 --> 00:16:05.710\n&gt;&gt; I think it's x, isn't it?\n\n308\n00:16:05.710 --> 00:16:08.060\n&gt;&gt; X, yeah, I think it is.\n\n309\n00:16:08.060 --> 00:16:10.962\nNo, let's do man gunzip.\n\n310\n00:16:10.962 --> 00:16:14.442\n[INAUDIBLE] Not the way to say it.\n\n311\n00:16:14.442 --> 00:16:17.336\nLet's see here, extract.\n\n312\n00:16:21.293 --> 00:16:24.178\nExtract the zip,\n\n313\n00:16:24.178 --> 00:16:29.377\n[SOUND] let's go to the next one.\n\n314\n00:16:29.377 --> 00:16:32.666\nLet's say, you know what I gotta do?\n\n315\n00:16:32.666 --> 00:16:35.402\nI might have to put it into a file,\nthat's cool, let's do that.\n\n316\n00:16:35.402 --> 00:16:37.040\nThat will be an easy way to do it.\n\n317\n00:16:38.260 --> 00:16:39.280\nBada bing.\n\n318\n00:16:39.280 --> 00:16:44.560\nAnd just one into server.conf.\n\n319\n00:16:44.560 --> 00:16:48.279\nAnd now, yeah, cuz I gotta take\nthe stupid x out and put a c.\n\n320\n00:16:48.279 --> 00:16:50.690\nHelps if you do it right, just saying.\n\n321\n00:16:50.690 --> 00:16:51.840\n&gt;&gt; That it does, and\n\n322\n00:16:51.840 --> 00:16:55.260\nthis is one of those things that you\nwere talking about the ease of Windows.\n\n323\n00:16:55.260 --> 00:16:57.409\nI've never actually done this on Windows,\nbut\n\n324\n00:16:57.409 --> 00:16:59.351\nI've played around in Linux a little bit.\n\n325\n00:16:59.351 --> 00:17:02.890\nPeople get frustrated at this point,\nbut it's not really that, you mess up.\n\n326\n00:17:02.890 --> 00:17:07.060\nThat's all right, just man it,\nfigure it out, it's totally fine.\n\n327\n00:17:07.060 --> 00:17:09.790\n&gt;&gt; I thought you were gonna say,\nman up [LAUGH].\n\n328\n00:17:09.790 --> 00:17:12.050\nYeah, the documentation is there,\nI could look through that.\n\n329\n00:17:12.050 --> 00:17:13.350\nI don't have a ton of time for the show.\n\n330\n00:17:13.350 --> 00:17:14.870\nI get confused a lot about,\n\n331\n00:17:14.870 --> 00:17:17.400\nbecause I don't really do a lot of\ngunzipping to be honest with you.\n\n332\n00:17:17.400 --> 00:17:21.968\nSo I typically forget the argument\nit takes to extract it.\n\n333\n00:17:21.968 --> 00:17:23.410\nThat's fine.\nI know -c works,\n\n334\n00:17:23.410 --> 00:17:25.050\nI just needed to work around the problem.\n\n335\n00:17:25.050 --> 00:17:26.210\nAnd that's a great thing about Linux.\n\n336\n00:17:26.210 --> 00:17:27.888\nI'm looking at the wrong\nscreen here [INAUDIBLE].\n\n337\n00:17:27.888 --> 00:17:30.590\nBut that's the great thing about Linux is\n\n338\n00:17:30.590 --> 00:17:32.830\nthere's a lot of different\nways to do the same thing.\n\n339\n00:17:32.830 --> 00:17:33.890\nAnd if you just use your head and\n\n340\n00:17:33.890 --> 00:17:37.120\na little bit of logic, you'll work\naround these things pretty simply.\n\n341\n00:17:37.120 --> 00:17:40.020\nAll right, so\nnow we should have our file, do an ls.\n\n342\n00:17:40.020 --> 00:17:45.270\nThere we go, server.conf,\nyou can cat that, server.conf.\n\n343\n00:17:45.270 --> 00:17:47.570\nAnd there is the file.\n\n344\n00:17:47.570 --> 00:17:52.320\nAgain, it's just a flat file,\na basic text-based file\n\n345\n00:17:52.320 --> 00:17:55.980\nwith a certain extension that OpenVPN\nis looking for in a certain directory.\n\n346\n00:17:55.980 --> 00:17:57.280\nThat's all there is to it.\n\n347\n00:17:57.280 --> 00:18:00.860\nThat's what I do like about this stuff,\nthis configuration, like I said,\n\n348\n00:18:00.860 --> 00:18:02.640\nvery well documented.\n\n349\n00:18:02.640 --> 00:18:07.670\nAs you can see,\nsuper documentation going on here.\n\n350\n00:18:07.670 --> 00:18:13.690\nLots of stuff, all these hash marks is\nbasically the comments inside of this.\n\n351\n00:18:13.690 --> 00:18:16.700\nAnd you'll notice that there's a whole\nlot more hash marks than there are actual\n\n352\n00:18:16.700 --> 00:18:19.030\nthings like dev-node MyTap, right?\n\n353\n00:18:19.030 --> 00:18:21.740\nBut it tells you exactly,\nWindows needs the TAP-Win32\n\n354\n00:18:21.740 --> 00:18:25.256\nadapter name from the Network Connections\npanel if you have more than one.\n\n355\n00:18:25.256 --> 00:18:26.720\nOn XP SP2 or higher,\n\n356\n00:18:26.720 --> 00:18:30.795\nyou may need to selectively disable\nthe Windows firewall for the TAP adapter.\n\n357\n00:18:30.795 --> 00:18:33.020\nNon-Windows systems\nusually don't need this.\n\n358\n00:18:33.020 --> 00:18:36.460\nSo if you need that,\nyou un-comment that, which would,\n\n359\n00:18:36.460 --> 00:18:41.560\nit's interesting inside these files, the\nsemicolon is also a type of commenting.\n\n360\n00:18:41.560 --> 00:18:43.380\nSo you can just remove that semicolon, and\n\n361\n00:18:43.380 --> 00:18:45.830\nthat would be enabled in\nour configuration file.\n\n362\n00:18:45.830 --> 00:18:47.010\nThat's we're gonna use.\n\n363\n00:18:47.010 --> 00:18:48.770\nWe have it copied, we have it there.\n\n364\n00:18:48.770 --> 00:18:55.991\nI'm going to remove that server.conf.\n\n365\n00:18:55.991 --> 00:18:57.277\nI'll leave it there, cuz you never know,\n\n366\n00:18:57.277 --> 00:18:59.000\nmaybe we're gonna mess up\nsomething we need to clean.\n\n367\n00:18:59.000 --> 00:19:03.222\nIt's never bad to have a backup copy\nright where you need it, right?\n\n368\n00:19:03.222 --> 00:19:04.280\nOkay, so let's move on.\n\n369\n00:19:05.760 --> 00:19:10.460\nWe're gonna make some changes\nin that configuration file.\n\n370\n00:19:10.460 --> 00:19:12.842\nUse your editor of choice.\n\n371\n00:19:12.842 --> 00:19:15.910\nI think, what the heck,\nI'll go with VI for this one.\n\n372\n00:19:15.910 --> 00:19:16.980\nWhy not, right?\n\n373\n00:19:16.980 --> 00:19:19.630\nI love making things difficult for\nmyself, even though I love VI.\n\n374\n00:19:19.630 --> 00:19:21.090\nIt was my first, right?\n\n375\n00:19:21.090 --> 00:19:21.860\nIt's my first.\n\n376\n00:19:21.860 --> 00:19:24.970\n&gt;&gt; And I will tell you,\nif you get decently proficient at VI,\n\n377\n00:19:24.970 --> 00:19:27.230\nor I use VIM, or-\n&gt;&gt; Yeah.\n\n378\n00:19:27.230 --> 00:19:28.080\n&gt;&gt; Flavors of VI.\n\n379\n00:19:28.080 --> 00:19:29.600\n&gt;&gt; Well, I think that VI's an alias now.\n\n380\n00:19:29.600 --> 00:19:30.340\n&gt;&gt; Yeah, yeah.\n\n381\n00:19:30.340 --> 00:19:32.480\n&gt;&gt; I think technically,\nit is an alias for VIM.\n\n382\n00:19:32.480 --> 00:19:34.530\nYou don't get the old style editor.\n\n383\n00:19:34.530 --> 00:19:37.310\nBut you can get pretty fast,\npretty proficient.\n\n384\n00:19:37.310 --> 00:19:38.010\nI can move around.\n\n385\n00:19:38.010 --> 00:19:38.630\n&gt;&gt; He's quick.\n\n386\n00:19:38.630 --> 00:19:40.140\n&gt;&gt; I can move around pretty good.\n\n387\n00:19:40.140 --> 00:19:43.650\n&gt;&gt; I've been using this for years,\nand he is like smoke daddy.\n\n388\n00:19:43.650 --> 00:19:45.820\nI never seen anything like it,\nso he's right.\n\n389\n00:19:45.820 --> 00:19:48.820\nYou can get very proficient when you\nspend a little time behind the keyboard.\n\n390\n00:19:48.820 --> 00:19:53.550\nAll right, so let's do this,\nvi server.conf.\n\n391\n00:19:53.550 --> 00:19:54.453\nThere we go.\n\n392\n00:19:54.453 --> 00:19:56.000\nGo ahead and login.\n\n393\n00:19:56.000 --> 00:19:59.260\nI do get some nice color coding,\nagain, by default.\n\n394\n00:19:59.260 --> 00:19:59.770\nNice thing, right?\n\n395\n00:20:01.370 --> 00:20:05.100\nSo let's look at some lines\nthat we need to change.\n\n396\n00:20:05.100 --> 00:20:07.800\nI'm gonna go ahead and scroll around.\n\n397\n00:20:07.800 --> 00:20:11.194\nWe're going to look for the DH.\n\n398\n00:20:11.194 --> 00:20:15.079\nIt's a very important file\nthat we need to find.\n\n399\n00:20:15.079 --> 00:20:17.300\nSo, I'm just gonna scroll around.\n\n400\n00:20:17.300 --> 00:20:18.598\n&gt;&gt; Now, Daniel,\nI'm gonna interject a little bit.\n\n401\n00:20:18.598 --> 00:20:20.492\n&gt;&gt; Yeah.\n&gt;&gt; That color coding works well for you,\n\n402\n00:20:20.492 --> 00:20:23.394\nbut if you can make that text\na little bit bigger, it kinda,\n\n403\n00:20:23.394 --> 00:20:26.810\nI'm wondering if it might cause\nsome visual issues on the screen.\n\n404\n00:20:26.810 --> 00:20:27.809\n&gt;&gt; Well, I think we might be good.\n\n405\n00:20:27.809 --> 00:20:31.127\n&gt;&gt; If we can just blow\nthat up a little bit.\n\n406\n00:20:31.127 --> 00:20:32.194\n&gt;&gt; I don't know if I can\ndo it on the quick, but\n\n407\n00:20:32.194 --> 00:20:33.042\nI don't know how to do it in a Mac.\n\n408\n00:20:33.042 --> 00:20:34.950\n&gt;&gt; Cmd+Shift+Plus.\n\n409\n00:20:34.950 --> 00:20:36.550\n&gt;&gt; God love them.\n\n410\n00:20:36.550 --> 00:20:37.960\nThere we go.\nHow's that looking?\n\n411\n00:20:37.960 --> 00:20:40.390\nOr more?\n&gt;&gt; Maybe just a wee, ah-ha, there we go.\n\n412\n00:20:40.390 --> 00:20:41.030\n&gt;&gt; There we go.\n\n413\n00:20:41.030 --> 00:20:42.750\n&gt;&gt; We got a little pop, so there we go.\n\n414\n00:20:42.750 --> 00:20:43.360\nThank you.\n\n415\n00:20:43.360 --> 00:20:44.390\n&gt;&gt; Now, I learned something new.\n\n416\n00:20:44.390 --> 00:20:45.380\nThat's fun.\n\n417\n00:20:45.380 --> 00:20:46.090\nI'm used to Linux.\n\n418\n00:20:46.090 --> 00:20:48.770\nI'm in a Mac right now, so there you go.\n\n419\n00:20:48.770 --> 00:20:54.600\nIn Linux, it's Shift+Ctrl+plus,\nand Ctrl+minus to lower it down.\n\n420\n00:20:54.600 --> 00:20:57.747\nOkay, so let's find that,\nI'm not really good at searching around.\n\n421\n00:20:57.747 --> 00:21:02.058\nThere it is, dh2048.pem.\n\n422\n00:21:02.058 --> 00:21:05.210\nYou wanna make sure that\nthat is what that says.\n\n423\n00:21:05.210 --> 00:21:08.187\nIf it says, dh1024.\n\n424\n00:21:08.187 --> 00:21:11.360\nWell, we're not gonna use,\nthis is Diffie-Hellman algorithm.\n\n425\n00:21:11.360 --> 00:21:13.612\nSo we're not gonna use 1024.\n\n426\n00:21:13.612 --> 00:21:18.306\nSo, we're gonna use 2048, because why use\nthe older scheme when we have the newer\n\n427\n00:21:18.306 --> 00:21:20.450\none that's available and it works?\n\n428\n00:21:20.450 --> 00:21:21.600\nAnd it's very well supported.\n\n429\n00:21:21.600 --> 00:21:23.540\nSo let's do that.\n\n430\n00:21:23.540 --> 00:21:25.180\nThat's a good thing,\nmake sure that's that way.\n\n431\n00:21:25.180 --> 00:21:27.820\nWe are going to do some uncommenting.\n\n432\n00:21:27.820 --> 00:21:31.306\n[SOUND].\n\n433\n00:21:31.306 --> 00:21:36.951\nWe need to look for\npush redirect gateway def1 bypass-dhcp,\n\n434\n00:21:36.951 --> 00:21:39.940\nwhich is coming up very shortly.\n\n435\n00:21:41.340 --> 00:21:44.376\nAlmost there,\nI'm gonna just start scrolling hard.\n\n436\n00:21:44.376 --> 00:21:46.235\nThere's some push commands.\n\n437\n00:21:46.235 --> 00:21:48.955\nWe like the push commands.\n\n438\n00:21:48.955 --> 00:21:51.523\nDId I pass it?\n\n439\n00:21:51.523 --> 00:21:55.330\nI think no, nothing yet gotta find DHCP.\n\n440\n00:21:55.330 --> 00:21:56.708\nThere it is.\n\n441\n00:21:56.708 --> 00:22:00.789\nSo, notice again, it's commented out\nwith the semicolon character, so\n\n442\n00:22:00.789 --> 00:22:02.164\nwe gotta get rid of that.\n\n443\n00:22:02.164 --> 00:22:05.290\nI'll go into insert mode,\nsay, hasta luego.\n\n444\n00:22:06.970 --> 00:22:13.110\nThen the next thing we need to do is\ncome down to these push dhcp-option DNS.\n\n445\n00:22:13.110 --> 00:22:16.290\nIt does have some DNS\nservers put in there.\n\n446\n00:22:16.290 --> 00:22:18.210\nI'm sure they're fine.\n\n447\n00:22:18.210 --> 00:22:20.890\nI like using Google's servers, because\nthey're accessible from anywhere and\n\n448\n00:22:20.890 --> 00:22:23.370\nthey work really well, so I will do that.\n\n449\n00:22:23.370 --> 00:22:27.042\nAgain, uncomment these,\nuncomment that one.\n\n450\n00:22:27.042 --> 00:22:29.394\nAnd then just come over here and\n\n451\n00:22:29.394 --> 00:22:33.382\nchange these to whatever\nDNS server you want to use.\n\n452\n00:22:33.382 --> 00:22:37.938\nSo, I will go with 8.8.8.8, and\n\n453\n00:22:37.938 --> 00:22:43.838\nthis one will be, 8.8.4.4, I think, yep.\n\n454\n00:22:43.838 --> 00:22:46.822\n8.8.4.4.\n\n455\n00:22:46.822 --> 00:22:51.320\nI forgot a dot, .4, .4 again.\n\n456\n00:22:51.320 --> 00:22:52.061\nThere we go.\n\n457\n00:22:52.061 --> 00:22:54.990\nA lot of fun typing on the show,\nyeah, ladies and gents.\n\n458\n00:22:54.990 --> 00:22:57.290\nOkay, so that's good,\nwhat else do we need to do?\n\n459\n00:22:57.290 --> 00:22:59.480\nWe need to do some more uncommenting.\n\n460\n00:22:59.480 --> 00:23:02.260\nThere's this interesting little area.\n\n461\n00:23:02.260 --> 00:23:05.690\nThat says, user and group nobody.\n\n462\n00:23:06.740 --> 00:23:07.940\nWe need to uncomment that.\n\n463\n00:23:11.702 --> 00:23:13.399\nThere they are right there.\n\n464\n00:23:13.399 --> 00:23:17.191\nIt's a good idea to reduce the OpenVPN\ndaemon's privileges after installation.\n\n465\n00:23:17.191 --> 00:23:20.100\nYou can uncomment this out\non non-Windows systems.\n\n466\n00:23:20.100 --> 00:23:23.220\nWell, guess what, I'm using\na Linux client and a Linux server.\n\n467\n00:23:23.220 --> 00:23:25.372\nSo I'm gonna uncomment this out.\n\n468\n00:23:25.372 --> 00:23:28.515\nSo just remove that.\n\n469\n00:23:31.175 --> 00:23:33.130\nAnd what else do we need to do?\n\n470\n00:23:33.130 --> 00:23:35.510\nI think that's everything.\n\n471\n00:23:35.510 --> 00:23:41.470\nSo the server.conf file is set up for\nour purposes right now.\n\n472\n00:23:41.470 --> 00:23:44.190\nAnd I think I left in some issues, so\n\n473\n00:23:44.190 --> 00:23:47.340\nthat we can see some of that\ntroubleshooting when we get to the end.\n\n474\n00:23:47.340 --> 00:23:49.740\nSo we will be revisiting this,\n\n475\n00:23:49.740 --> 00:23:54.720\nbecause I like to throw that\ntroubleshooting nugget on the fire there.\n\n476\n00:23:54.720 --> 00:23:57.008\nSo let's go ahead and save that.\n\n477\n00:23:57.008 --> 00:23:58.899\nThat is escape and wq.\n\n478\n00:23:58.899 --> 00:24:00.600\nAnd there we go.\n\n479\n00:24:00.600 --> 00:24:03.630\nWe have written the file and\neverything should be good.\n\n480\n00:24:03.630 --> 00:24:04.500\nMy file is still there.\n\n481\n00:24:04.500 --> 00:24:06.330\nAnd that is a wonderful thing.\n\n482\n00:24:06.330 --> 00:24:08.220\nThat being said,\nI am looking at our clock,\n\n483\n00:24:08.220 --> 00:24:11.530\nI think this is actually a very\ngood stopping spot for us.\n\n484\n00:24:11.530 --> 00:24:13.390\nBecause we've got some\nmore stuff to do and\n\n485\n00:24:13.390 --> 00:24:15.960\nI don't wanna get you guys all bound up.\n\n486\n00:24:15.960 --> 00:24:18.040\nLet me get this done.\n\n487\n00:24:18.040 --> 00:24:19.740\nI think, this is a good segue spot.\n\n488\n00:24:19.740 --> 00:24:24.210\nSo we will leave the rest of\nthe configuration to the next episode.\n\n489\n00:24:24.210 --> 00:24:27.445\n&gt;&gt; Well, Daniel, I think you've made\na good decision, because there's\n\n490\n00:24:27.445 --> 00:24:30.998\nminor little tweaks and nuanced behaviors\nhere that it's probably really good\n\n491\n00:24:30.998 --> 00:24:34.603\nto have this, make sure you're at a\nstopping point, and then we'll come back,\n\n492\n00:24:34.603 --> 00:24:38.184\nbecause I know we have to do some firewall\nstuff and some other things like that.\n\n493\n00:24:38.184 --> 00:24:41.003\nSo thank you so much for\ngetting us started.\n\n494\n00:24:41.003 --> 00:24:44.200\nBut we're definitely not finished,\nso definitely stay tuned.\n\n495\n00:24:44.200 --> 00:24:47.990\nBut for now, signing off for ITProTV,\nI've been your host Justin Dennison.\n\n496\n00:24:47.990 --> 00:24:48.900\n&gt;&gt; And I'm Daniel Lowrie.\n\n497\n00:24:48.900 --> 00:24:51.364\n&gt;&gt; And we'll see you next time.\n\n498\n00:24:51.364 --> 00:24:57.408\n[MUSIC]\n\n499\n00:24:57.408 --> 00:24:59.870\n&gt;&gt; Thank you for watching ITPROTV.\n\n",
          "url": "install-configure-openvpnlinux",
          "vimeoId": "228658068"
        },
        {
          "description": "In this episode, Justin and Daniel discuss the  some of the prerequisites for using OpenVPN such as the following: enabling ip forwarding, configure UncomplicatedFirewall (ufw) to ensure that traffic can make it to the server, added rules to enable packet forwarding, IP masquerading, and NAT, as well as generate the certificate authority, the server keys and the Diffie-Hellman pem file.",
          "length": "1715",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-2-install_configure_openvpn_in_linux_pt2-080417-PGM.00_54_55_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-2-install_configure_openvpn_in_linux_pt2-080417-PGM.00_54_55_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-2-install_configure_openvpn_in_linux_pt2-080417-PGM.00_54_55_15.Still001-sm.jpg",
          "title": "Install / Configure OpenVPN in Linux Part 2",
          "transcript": "",
          "url": "install-configure-openvpnlinux2",
          "vimeoId": "228658196"
        },
        {
          "description": "In this episode, Justin and Daniel explore creating and distributing those keys to the client. Daniel demonstrates creating OpenVPN client configurations.",
          "length": "1295",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-3-install_configure_openvpn_in_linux_pt3-080717-PGM.00_21_19_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-3-install_configure_openvpn_in_linux_pt3-080717-PGM.00_21_19_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-3-install_configure_openvpn_in_linux_pt3-080717-PGM.00_21_19_20.Still001-sm.jpg",
          "title": "Install / Configure OpenVPN in Linux Part 3",
          "transcript": "",
          "url": "install-configure-openvpnlinux3",
          "vimeoId": "228813287"
        },
        {
          "description": "In this episode, Justin and Daniel continue configuring the OpenVPN client. Daniel also demonstrates some of the troubleshooting that you may have to work through when setting up OpenVPN.",
          "length": "1807",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-4-install_configure_openvpn_in_linux_pt4-080717-PGM.00_29_51_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-4-install_configure_openvpn_in_linux_pt4-080717-PGM.00_29_51_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-4-install_configure_openvpn_in_linux_pt4-080717-PGM.00_29_51_00.Still001-sm.jpg",
          "title": "Install / Configure OpenVPN in Linux Part 4",
          "transcript": "",
          "url": "install-configure-openvpnlinux4",
          "vimeoId": "228813473"
        }
      ],
      "title": "OpenVPN in Linux"
    }
  ],
  "url": "openvpnlinux",
  "vLab": false
}
