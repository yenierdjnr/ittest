{
  "description": "In this series, Daniel and Justin will take you from start to finish through setting up a Ubuntu based OpenVPN server in AWS and an Ubuntu client. They show you how to set the proper firewall configurations, install OpenVPN on the server, install Easy-RSA on the server, configure the Certificate Authority(CA), generate both server and client keys, configure the server.conf and client.ovpn files, and finally make a VPN connection. They also look at few problems/errors that you may encounter and explain the appropriate troubleshooting techniques to resolve them.",
  "descriptionMD": "In this series, Daniel and Justin will take you from start to finish through setting up a Ubuntu based OpenVPN server in AWS and an Ubuntu client. They show you how to set the proper firewall configurations, install OpenVPN on the server, install Easy-RSA on the server, configure the Certificate Authority(CA), generate both server and client keys, configure the server.conf and client.ovpn files, and finally make a VPN connection. They also look at few problems/errors that you may encounter and explain the appropriate troubleshooting techniques to resolve them.",
  "length": "6319",
  "name": "OpenVPN in Linux",
  "practiceExam": false,
  "subtitle": "Virtual Private Network in Linux",
  "tagUrl": "network-admin",
  "topics": [
    {
      "episodes": [
        {
          "description": "In this episode, Justin and Daniel discuss the  some of the prerequisites for using OpenVPN such as the following: updating and upgrading the EC2 instance, modifying the security group to allow access, obtaining a sample configuration file, and modifying the configuration file.",
          "length": "1502",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-1-install_configure_openvpn_in_linux-080417-PGM.00_24_49_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-1-install_configure_openvpn_in_linux-080417-PGM.00_24_49_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-1-install_configure_openvpn_in_linux-080417-PGM.00_24_49_01.Still001-sm.jpg",
          "title": "Install / Configure OpenVPN in Linux",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:02.853\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.853 --> 00:00:06.151\n[CROSSTALK]\n\n3\n00:00:06.151 --> 00:00:08.442\n[MUSIC]\n\n4\n00:00:08.442 --> 00:00:12.201\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.201 --> 00:00:16.180\n&gt;&gt; Greetings, everyone, and welcome to\nanother exciting episode of ITProTV.\n\n6\n00:00:16.180 --> 00:00:18.430\nI'm your host Justin Dennison,\nand in today's episode, well,\n\n7\n00:00:18.430 --> 00:00:23.319\nwe're gonna install and\nconfigure open VPN in a Linux server or\n\n8\n00:00:23.319 --> 00:00:26.360\na Linux instance,\nhowever you wish to describe them.\n\n9\n00:00:26.360 --> 00:00:30.242\nAnd luckily, we have the man with the plan\nin the studio with us, Mr. Daniel Lowrie.\n\n10\n00:00:30.242 --> 00:00:31.130\nHow are you doing today, Daniel?\n\n11\n00:00:31.130 --> 00:00:33.800\n&gt;&gt; Man, I'm doing great,\nthis is actually gonna be a lot of fun.\n\n12\n00:00:33.800 --> 00:00:36.844\nLooking forward to doing\nthis episode because,\n\n13\n00:00:36.844 --> 00:00:40.492\nlet me tell you what I needed to do this,\ninstall open VPN.\n\n14\n00:00:40.492 --> 00:00:45.900\nGet a VPN connection going on for\nanother show that I'm working on.\n\n15\n00:00:45.900 --> 00:00:47.458\nAnd, I was like, that'll be simple.\n\n16\n00:00:47.458 --> 00:00:51.285\nThat'll be an easy thing, and\nthen I realized I've never done it before,\n\n17\n00:00:51.285 --> 00:00:54.180\nI never needed to at least not this way,\nright.\n\n18\n00:00:54.180 --> 00:00:57.570\nAnd it was extremely difficult, and\nthere was a lot of stumbling blocks.\n\n19\n00:00:57.570 --> 00:00:59.835\nAnd I thought, man,\nthis'll probably make a really great show.\n\n20\n00:00:59.835 --> 00:01:02.374\nSo I thought,\nlet's throw that into tech skill and\n\n21\n00:01:02.374 --> 00:01:04.096\nsee who salutes on that flagpole.\n\n22\n00:01:04.096 --> 00:01:08.023\nSo here we are today with\nOpenVPN inside of Linux.\n\n23\n00:01:08.023 --> 00:01:10.829\nLet me set the stage for\nyou just a little bit.\n\n24\n00:01:10.829 --> 00:01:16.650\nBasically what I'm working with is\nUbuntu 16.04, it is inside of AWS.\n\n25\n00:01:16.650 --> 00:01:23.740\nIt is just a T2 micro, I believe,\nvery simple Linux installation.\n\n26\n00:01:23.740 --> 00:01:26.580\nA lot of what we're gonna look at\ntoday is going to be Ubuntu or\n\n27\n00:01:26.580 --> 00:01:29.720\nDebian based system specific.\n\n28\n00:01:29.720 --> 00:01:33.270\nAlthough a lot of it will transfer\nover too if you're running a Red Hat\n\n29\n00:01:33.270 --> 00:01:34.520\ntype of system.\n\n30\n00:01:34.520 --> 00:01:36.580\nThere are a few caveats on that, so\n\n31\n00:01:36.580 --> 00:01:40.330\nconsult your documentation, or\njust Google it out there on the web.\n\n32\n00:01:40.330 --> 00:01:44.270\nMaybe I'll come back and we'll do a Red\nHat specific one, if I feel so inclined.\n\n33\n00:01:44.270 --> 00:01:48.534\nBut, we are gonna walk you\nfrom soup to the nuts,\n\n34\n00:01:48.534 --> 00:01:54.672\ntaking you from basically logging in\nto our Linux instance out in AWS.\n\n35\n00:01:54.672 --> 00:01:58.971\nGetting the server configured, generating\nkeys, generating configurations for\n\n36\n00:01:58.971 --> 00:02:01.340\nthe server, generating keys for\nthe client.\n\n37\n00:02:02.610 --> 00:02:05.910\nCopy them over to the client, and then\ngetting that client installed and running.\n\n38\n00:02:05.910 --> 00:02:08.940\nAnd if we have time, we'll also look\nat a little bit of troubleshooting.\n\n39\n00:02:08.940 --> 00:02:12.118\nJust some trouble that I'd ran\nacross when I was working with this,\n\n40\n00:02:12.118 --> 00:02:13.410\nsome mistakes that I made.\n\n41\n00:02:13.410 --> 00:02:16.120\nAnd I thought, you know what,\nyou guys might benefit from that as well.\n\n42\n00:02:16.120 --> 00:02:18.240\nSo I'll throw that on\nthe heap if we can get to it.\n\n43\n00:02:18.240 --> 00:02:21.730\n&gt;&gt; Now, Daniel, I'm actually kind of\nlooking forward to the troubleshooting if\n\n44\n00:02:21.730 --> 00:02:25.910\nwe have time for it because it's something\nthat tends to be very frustrating to me.\n\n45\n00:02:25.910 --> 00:02:29.240\nI'm like this should work,\nwhat part did I miss?\n\n46\n00:02:29.240 --> 00:02:29.795\nWhat did I miss?\n\n47\n00:02:29.795 --> 00:02:35.560\nAnd it could even be, well I found great\ndocumentation for a Red Hat flavor Linux.\n\n48\n00:02:35.560 --> 00:02:39.310\nBut I really need a Debian based Linux,\nor that's all I have available to me.\n\n49\n00:02:39.310 --> 00:02:43.090\nSo there's some stumbling blocks there,\nso I'd be interested to see that.\n\n50\n00:02:43.090 --> 00:02:45.750\nBut ultimately,\nit doesn't matter to troubleshoot if\n\n51\n00:02:45.750 --> 00:02:48.560\nwe don't actually get anything installed\nand configured in the first place.\n\n52\n00:02:48.560 --> 00:02:49.800\n&gt;&gt; Yeah, it's totally true.\n\n53\n00:02:49.800 --> 00:02:51.140\nJustin hit the nail on the head.\n\n54\n00:02:51.140 --> 00:02:52.750\nI found myself doing the exact same thing,\n\n55\n00:02:52.750 --> 00:02:56.440\nwhere I'm staring at it going,\nwhy is this not working?\n\n56\n00:02:56.440 --> 00:02:59.460\nWhat am I missing,\nwhat key is not in the right place,\n\n57\n00:02:59.460 --> 00:03:02.150\nwhat tumbler is not falling\nto make this thing work?\n\n58\n00:03:02.150 --> 00:03:07.090\nSo troubleshooting is always a benefit\nto see it done in real life land.\n\n59\n00:03:07.090 --> 00:03:11.609\nSo even if we can't make the same [LAUGH]\nerrors before, I'll take a look at some\n\n60\n00:03:11.609 --> 00:03:15.106\nof the errors that I saw so\nthat we can work our way through it.\n\n61\n00:03:15.106 --> 00:03:18.758\nThey probably are typical because I found\nvery quickly that I wasn't the only one\n\n62\n00:03:18.758 --> 00:03:20.010\nthat had the same problem.\n\n63\n00:03:20.010 --> 00:03:22.540\nSo, all right, that being said,\nlet's get started.\n\n64\n00:03:22.540 --> 00:03:24.290\nRight, let's go ahead and\njump into my machine.\n\n65\n00:03:24.290 --> 00:03:26.040\nI am logged into the AWS console.\n\n66\n00:03:26.040 --> 00:03:28.350\nI'm on EC2 dashboard right here.\n\n67\n00:03:28.350 --> 00:03:30.022\nVery nice.\nI've got a couple of instances running.\n\n68\n00:03:30.022 --> 00:03:33.450\nThis is the first instance\nthat I actually built this on.\n\n69\n00:03:33.450 --> 00:03:36.000\nAnd then I have this one\nwhich I just spun up.\n\n70\n00:03:36.000 --> 00:03:38.180\nIt's a brand new instance, right?\n\n71\n00:03:38.180 --> 00:03:41.040\nI've got my public IP address right there.\n\n72\n00:03:41.040 --> 00:03:43.290\nObviously, this is accessible\nfrom the Internet.\n\n73\n00:03:43.290 --> 00:03:46.373\nAnd you can think of a myriad of ways, or\n\n74\n00:03:46.373 --> 00:03:52.274\nreasons on why you would need a public\nfacing VPN server, I sure know I can.\n\n75\n00:03:52.274 --> 00:03:55.327\nJust if you wanna contact your\nhome network from work, and\n\n76\n00:03:55.327 --> 00:03:58.530\nnot have to worry about\nanybody sniffing that traffic.\n\n77\n00:03:58.530 --> 00:04:01.021\nBoom, there you go, it's a great\nreason to use something like this.\n\n78\n00:04:01.021 --> 00:04:03.890\nSo very cool, got all that,\nit is up and running.\n\n79\n00:04:03.890 --> 00:04:07.430\nThat is kind of a caveat,\nit needs to actually run.\n\n80\n00:04:07.430 --> 00:04:10.950\nAnd make sure your status check's all\nokay, there's no problems with it.\n\n81\n00:04:10.950 --> 00:04:12.790\nThis thing's ready to go.\n\n82\n00:04:12.790 --> 00:04:16.380\nNow the first thing we need\nto do is log in with SSH,\n\n83\n00:04:16.380 --> 00:04:18.990\nwhich I have actually already done,\nhere we are.\n\n84\n00:04:18.990 --> 00:04:22.000\nYou can see that my prompt has changed.\n\n85\n00:04:22.000 --> 00:04:28.589\nRight here I'm logged in as root at my\nIP address, and I am in /home/ubuntu.\n\n86\n00:04:29.970 --> 00:04:33.540\nJust a word of advice,\nif you've never done AWS stuff before,\n\n87\n00:04:33.540 --> 00:04:36.570\nwe've got a whole bunch of\nAWS content here at ITProTV.\n\n88\n00:04:36.570 --> 00:04:39.930\nSo check that out if you need some\nhelp getting that up and running.\n\n89\n00:04:39.930 --> 00:04:43.270\nThat is a bit of assumed knowledge,\nbut it's not that difficult.\n\n90\n00:04:43.270 --> 00:04:45.150\nAnd if you've never used it before and\n\n91\n00:04:45.150 --> 00:04:47.810\nyou're an Amazon customer,\nwell guess what?\n\n92\n00:04:47.810 --> 00:04:51.040\nYou can play with it for a year, for free.\n\n93\n00:04:51.040 --> 00:04:53.860\nSo this is stuff that you\ncan do that's a lot of fun.\n\n94\n00:04:53.860 --> 00:04:56.600\nGet you into the cloud and\nstart working with cloud-based stuff.\n\n95\n00:04:56.600 --> 00:04:57.440\nSo I like that.\n\n96\n00:04:57.440 --> 00:05:00.360\nI like being able to spin stuff up in\nthe cloud instead of having to build\n\n97\n00:05:00.360 --> 00:05:03.250\neverything as a Virtual Server\nlocally to my machine.\n\n98\n00:05:03.250 --> 00:05:06.130\nBecause you never know when you need\nthat public facing IP address or\n\n99\n00:05:06.130 --> 00:05:09.590\njust something that's not local to\nyour machine taking up resources.\n\n100\n00:05:09.590 --> 00:05:12.030\nSo just keep that in mind.\n\n101\n00:05:12.030 --> 00:05:18.040\nThe first thing I did when I logged\ninto this was update and upgrade, right?\n\n102\n00:05:18.040 --> 00:05:20.840\nSo this instance in Ubuntu,\nyou do your good old,\n\n103\n00:05:20.840 --> 00:05:24.685\nI got it right here I believe,\nthere you go.\n\n104\n00:05:24.685 --> 00:05:29.225\nApt-get update and if you do &amp;&amp;,\nit's basically a logical operator.\n\n105\n00:05:29.225 --> 00:05:31.578\nAlso apt-get upgrade.\n\n106\n00:05:31.578 --> 00:05:34.686\nSo apt-get update to check for\nnew packages, and\n\n107\n00:05:34.686 --> 00:05:38.380\nthen apt-get upgrade to\nactually install them.\n\n108\n00:05:38.380 --> 00:05:41.545\nDo that first, okay?\n\n109\n00:05:41.545 --> 00:05:44.535\nMake sure that the server is nice and\nsecure,\n\n110\n00:05:44.535 --> 00:05:47.217\nthere's no running vulnerabilities.\n\n111\n00:05:47.217 --> 00:05:48.740\nWe wanna make sure you guys\naren't getting smoked.\n\n112\n00:05:48.740 --> 00:05:50.950\nRemember, public facing Internet stuff.\n\n113\n00:05:50.950 --> 00:05:52.840\n&gt;&gt; Now Daniel, just as a reminder.\n\n114\n00:05:52.840 --> 00:05:54.260\nI've actually had an experience.\n\n115\n00:05:54.260 --> 00:05:56.850\nIf you don't do the update,\nif you have to install in it.\n\n116\n00:05:56.850 --> 00:05:59.530\nLet's say I wanna throw up nginx and\nstart a web server or something,\n\n117\n00:05:59.530 --> 00:06:02.480\nit won't actually let me install anything.\n\n118\n00:06:02.480 --> 00:06:03.910\nIt'll say,\nI don't know what you're talking about.\n\n119\n00:06:03.910 --> 00:06:08.620\nSo the first update, in my experience\nis necessary for actual aptitude,\n\n120\n00:06:08.620 --> 00:06:11.430\nto know what you're talking about when\nyou say apt-install, blah, blah, blah.\n\n121\n00:06:11.430 --> 00:06:15.320\nSo always do that, but especially do that\nbecause of the security updates that\n\n122\n00:06:15.320 --> 00:06:17.520\nare typically hiding\naround there all the time.\n\n123\n00:06:17.520 --> 00:06:18.280\n&gt;&gt; Yeah, it's fun.\n\n124\n00:06:18.280 --> 00:06:22.730\nI do security just a little wee bits and\nthat's exactly what I'm looking for\n\n125\n00:06:22.730 --> 00:06:24.410\nif I'm a bad guy.\n\n126\n00:06:24.410 --> 00:06:28.300\nI'm looking out there and going,\nI was able to scan this machine and\n\n127\n00:06:28.300 --> 00:06:31.320\nit's lo to glory be,\nit's right there on the Internet for me,\n\n128\n00:06:31.320 --> 00:06:34.220\nand it has this open and\nthis open and this open.\n\n129\n00:06:34.220 --> 00:06:38.050\nAnd I did some banner grabbing, and\nthat's running an older service there.\n\n130\n00:06:38.050 --> 00:06:41.520\nI can look for a known vulnerability and\nsee if I can exploit it that way.\n\n131\n00:06:41.520 --> 00:06:44.670\nSo, best thing to do is just\nupgrade everything, it's a fresh,\n\n132\n00:06:44.670 --> 00:06:47.280\nclean install so might as well, right?\n\n133\n00:06:47.280 --> 00:06:48.170\nAll right, let's move on.\n\n134\n00:06:49.180 --> 00:06:54.470\nThe next thing we need to do is\nmodify the security group in AWS.\n\n135\n00:06:54.470 --> 00:06:58.790\nAgain if you need to know a great\ndeal about security groups in AWS\n\n136\n00:06:58.790 --> 00:07:02.640\njump over to our Amazon web\nservices content, check that out.\n\n137\n00:07:02.640 --> 00:07:05.400\nAll that is in there, I think Don\ndid most of that if not all of it.\n\n138\n00:07:05.400 --> 00:07:08.590\nHe knows that stuff stone cold,\nand you're learning from the best,\n\n139\n00:07:08.590 --> 00:07:09.950\nthat's definitely for sure.\n\n140\n00:07:09.950 --> 00:07:13.125\nBut basically a security group is\nwhere we configure the networking and\n\n141\n00:07:13.125 --> 00:07:14.820\nfire-walling and\nthings of that nature, all right?\n\n142\n00:07:14.820 --> 00:07:16.700\nSo let's jump back over to that.\n\n143\n00:07:16.700 --> 00:07:19.850\nSo, what I wanna do is,\nthe easy way to get to it for\n\n144\n00:07:19.850 --> 00:07:23.354\nme is I click on my instance.\n\n145\n00:07:23.354 --> 00:07:25.820\nYou'll notice I have my\ninstance right here, and\n\n146\n00:07:25.820 --> 00:07:29.120\nI have it selected down here in\nthe bottom you see Security groups.\n\n147\n00:07:29.120 --> 00:07:30.960\nI'm sorry, that kinda jumping over there.\n\n148\n00:07:30.960 --> 00:07:34.410\nRight there, you have Security groups,\nand there's the security group.\n\n149\n00:07:34.410 --> 00:07:36.950\nI can just click on that and\nit will take me to Security groups.\n\n150\n00:07:36.950 --> 00:07:40.600\nAnother good way to get to it is from over\nhere on the side, there is Network and\n\n151\n00:07:40.600 --> 00:07:42.910\nSecurity, and\nyou can click Security Groups.\n\n152\n00:07:42.910 --> 00:07:43.820\nYou can get there.\n\n153\n00:07:43.820 --> 00:07:47.340\nBut, I would then have to guess, well\nwhich one is the security group I'm in?\n\n154\n00:07:47.340 --> 00:07:48.880\nWell, it's already right\nhere in front of me, so\n\n155\n00:07:48.880 --> 00:07:51.320\nI just have to click on it if\nI wanna make some changes.\n\n156\n00:07:51.320 --> 00:07:53.601\nSo I'll just click on there,\nlaunch wizard 11.\n\n157\n00:07:53.601 --> 00:07:55.828\nI just went with the defaults install,\n\n158\n00:07:55.828 --> 00:07:59.211\nI didn't use a security group\nthat I've already created.\n\n159\n00:07:59.211 --> 00:08:01.579\nJust makes things easy,\neverything's clean, right?\n\n160\n00:08:01.579 --> 00:08:04.279\nSo now we wanna touch\non this inbound area,\n\n161\n00:08:04.279 --> 00:08:08.910\nbecause we're gonna be accepting\ninbound connections that we need to.\n\n162\n00:08:08.910 --> 00:08:12.390\nAnd there is something interesting,\nthere's only one port open on this.\n\n163\n00:08:12.390 --> 00:08:18.275\nIt's right here, SSH, TCP,\nport 22 from anywhere in the world.\n\n164\n00:08:18.275 --> 00:08:21.370\nThat's so that wherever I'm at\nif I'm at a cafe somewhere,\n\n165\n00:08:21.370 --> 00:08:24.660\nI'm in McDonald's doing whatever and\nI wanna log in I can.\n\n166\n00:08:24.660 --> 00:08:30.040\nI can SSH into it regardless\nwhat network that I'm on so\n\n167\n00:08:30.040 --> 00:08:33.320\nbut we need to make some changes here we\ngotta poke some holes in the firewall so\n\n168\n00:08:33.320 --> 00:08:37.830\nthat we can allow the VPN service\nto have connections come in, right?\n\n169\n00:08:37.830 --> 00:08:39.430\nSo let's do that.\n\n170\n00:08:39.430 --> 00:08:42.710\nAll we have to do is click\nthe edit button here.\n\n171\n00:08:42.710 --> 00:08:45.200\nAnd what we're gonna do is\nwe're gonna change this.\n\n172\n00:08:45.200 --> 00:08:46.440\nI'm sorry, we're gonna add a rule,\n\n173\n00:08:46.440 --> 00:08:51.250\nand then we're gonna change\nthis type to Custom UDP.\n\n174\n00:08:51.250 --> 00:08:56.120\nNow, open VPN does run on TCP and\nUDP But for simplicity's sake,\n\n175\n00:08:56.120 --> 00:09:00.130\nI'm just going with UDP cuz that's\nthe defaults and it does work.\n\n176\n00:09:00.130 --> 00:09:01.570\nSo, there you go.\n\n177\n00:09:01.570 --> 00:09:05.990\nSo I'm gonna add a custom UDP rule, so\nthat changes the protocol for me to UDP.\n\n178\n00:09:05.990 --> 00:09:08.920\nNow I'm gonna say what's the port or\nport range.\n\n179\n00:09:08.920 --> 00:09:12.700\nIf it's just one port, it's port 1194.\n\n180\n00:09:12.700 --> 00:09:17.720\nLike so, just type that in, and\nthen move on over here to Source.\n\n181\n00:09:17.720 --> 00:09:21.900\nRemember, we wanna be able to\naccess this from anywhere, so\n\n182\n00:09:21.900 --> 00:09:24.820\nwe're going to, hey, how about that?\n\n183\n00:09:24.820 --> 00:09:26.550\nAnywhere, click that in there,\n\n184\n00:09:26.550 --> 00:09:29.640\nyou'll notice it does give\nus both the IPv4 and IPv6.\n\n185\n00:09:30.980 --> 00:09:32.425\nTypes of anywheres.\n\n186\n00:09:32.425 --> 00:09:36.180\n0.0.0.0, I think I've got\nenough zeroes in there.\n\n187\n00:09:36.180 --> 00:09:38.370\nSlash zero, lot's of zeroes.\n\n188\n00:09:38.370 --> 00:09:39.610\nAnd then of course, the IPv6::4/0.\n\n189\n00:09:39.610 --> 00:09:40.500\nThat looks good.\n\n190\n00:09:40.500 --> 00:09:44.850\nI now just have to hit save.\n\n191\n00:09:44.850 --> 00:09:49.360\nAnd now I have my two custom UDP rules.\n\n192\n00:09:49.360 --> 00:09:52.120\nIt does split it up for\nwhatever reason, but that's fine.\n\n193\n00:09:52.120 --> 00:09:54.570\nAWS does what AWS does.\n\n194\n00:09:54.570 --> 00:10:00.298\nAnd, but our ports are right,\nthe UDP port 1194 cuz that is our default.\n\n195\n00:10:00.298 --> 00:10:05.330\n&gt;&gt; Now, Daniel, I've got a quick question,\nyou said open BPN will work on TCP,\n\n196\n00:10:05.330 --> 00:10:09.770\nor UDP is there an advantage of choosing\none over the other, or just going with\n\n197\n00:10:09.770 --> 00:10:13.540\nthe default just to make things a little\nnicer, so we don't have to worry about it.\n\n198\n00:10:13.540 --> 00:10:17.260\n&gt;&gt; Yeah, I am going with the default\nto make things run smoothly for\n\n199\n00:10:17.260 --> 00:10:20.440\nthis episode,\nthe show because I just want things to go.\n\n200\n00:10:20.440 --> 00:10:21.940\nI don't wanna have a bunch of hiccups.\n\n201\n00:10:21.940 --> 00:10:27.190\nTCP will be a probably more stable\nconnection, but UDP will probably be\n\n202\n00:10:27.190 --> 00:10:30.910\na little bit faster, so if you're seeing\na slow, you can use whatever you like.\n\n203\n00:10:30.910 --> 00:10:31.960\nGo for broke.\n\n204\n00:10:31.960 --> 00:10:35.700\nIf you see some slowness\nin your TCP connection,\n\n205\n00:10:35.700 --> 00:10:39.050\nmaybe change it to UDP and\nsee if that doesn't speed things up.\n\n206\n00:10:39.050 --> 00:10:42.410\nSo usually,\nthat's what typically you'll hear about.\n\n207\n00:10:42.410 --> 00:10:46.380\nAll right, so we've got our rules\nin place, we've done our updates,\n\n208\n00:10:46.380 --> 00:10:47.480\nwhat is the next thing we need to do?\n\n209\n00:10:47.480 --> 00:10:48.240\nWell, guess what?\n\n210\n00:10:48.240 --> 00:10:52.150\nWe are up at that point where\nwe're installing OpenVPN.\n\n211\n00:10:52.150 --> 00:10:55.680\nWe're also gonna install another piece\nof software as well called Easy-RSA.\n\n212\n00:10:55.680 --> 00:10:58.610\nLet me get out of here.\n\n213\n00:10:58.610 --> 00:11:06.550\nOpenVPN that's our software that will help\nus actually serve up OpenVPN connections.\n\n214\n00:11:06.550 --> 00:11:10.980\nBut EasyRSA will help us create the keys,\nthe certificate authority,\n\n215\n00:11:10.980 --> 00:11:15.520\nall the other great stuff that we need\nin place so that we can have a VPN.\n\n216\n00:11:15.520 --> 00:11:19.130\nRemember, this is all cryptography PKI,\ngood stuff, right?\n\n217\n00:11:19.130 --> 00:11:21.290\nPublic key infrastructure,\npublic key infrastructure, or\n\n218\n00:11:21.290 --> 00:11:23.670\nwhatever you'd like to name it.\n\n219\n00:11:23.670 --> 00:11:27.390\nWe gotta have all that in place and\nset up, in Windows,\n\n220\n00:11:27.390 --> 00:11:30.980\nif you've ever done it,\nit's actually pretty simple.\n\n221\n00:11:30.980 --> 00:11:34.540\nBut in Linux,\npeople look at that black box and say,\n\n222\n00:11:34.540 --> 00:11:38.070\ntyping, typing's no fun,\nbut, it's not that bad.\n\n223\n00:11:38.070 --> 00:11:39.390\nIt's actually pretty simple.\n\n224\n00:11:39.390 --> 00:11:40.440\nSo, let's get it installed.\n\n225\n00:11:40.440 --> 00:11:41.580\nI'm going to run.\n\n226\n00:11:41.580 --> 00:11:45.966\nYou'll notice,\nI am logged as root, typically\n\n227\n00:11:45.966 --> 00:11:51.418\nsecurity, the boxes don't log in as root.\n\n228\n00:11:51.418 --> 00:11:53.370\nI have SU'd into root.\n\n229\n00:11:53.370 --> 00:11:56.130\nI logged in as the standard user Ubuntu.\n\n230\n00:11:56.130 --> 00:11:59.177\nI am using a key pair that generated,\nwhen I created so\n\n231\n00:11:59.177 --> 00:12:01.780\nit's not a password enabled thing.\n\n232\n00:12:01.780 --> 00:12:04.470\nAnd only Ubuntu can log in from SSA.\n\n233\n00:12:04.470 --> 00:12:08.080\nSo I'm pretty secure but\nI need to elevate my privileges a lot.\n\n234\n00:12:08.080 --> 00:12:10.747\nInstead of doing a bunch of SUDU's and\nforgetting one,\n\n235\n00:12:10.747 --> 00:12:12.130\nI just went ahead and SU'd.\n\n236\n00:12:12.130 --> 00:12:15.780\nCuz I know I'm gonna be doing\na lot of administrative tasks.\n\n237\n00:12:15.780 --> 00:12:16.980\nI would suggest that as well.\n\n238\n00:12:16.980 --> 00:12:20.600\nAs soon as you are done,\ndrop your privileges,\n\n239\n00:12:20.600 --> 00:12:23.520\ngo back to your standard Ubuntu\nuser who is a SUDU-user there.\n\n240\n00:12:23.520 --> 00:12:26.270\nAnd then we should be just fine.\n\n241\n00:12:26.270 --> 00:12:29.590\nSo that caveat aside,\nyou can SUDU if you like, but\n\n242\n00:12:29.590 --> 00:12:32.690\nI like to SU cuz I'm doing\na lot of administrative tasks.\n\n243\n00:12:32.690 --> 00:12:33.280\nSo here we go.\n\n244\n00:12:33.280 --> 00:12:37.850\nWhat do we need to do when we install\nthe OpenVPN and the Easy-RSA software?\n\n245\n00:12:37.850 --> 00:12:46.740\nSo I'm just gonna say apt get\ninstall open-vpn And easy SRSA.\n\n246\n00:12:46.740 --> 00:12:48.640\nJust, I'm sorry it's not dash vpn.\n\n247\n00:12:48.640 --> 00:12:49.910\nI got easy.\n\n248\n00:12:49.910 --> 00:12:52.390\nThere we go.\nThat should look a little better.\n\n249\n00:12:52.390 --> 00:12:57.240\nWe going, okay we found the packages,\nwould you like to do this, I hit yes, and\n\n250\n00:12:57.240 --> 00:12:58.510\nit's off to the races.\n\n251\n00:12:58.510 --> 00:13:00.380\nThis shouldn't take very long,\n\n252\n00:13:00.380 --> 00:13:03.380\nit all depends on your network\nconnectivity obviously.\n\n253\n00:13:03.380 --> 00:13:05.550\nBut looks like I'm already done, right?\n\n254\n00:13:06.800 --> 00:13:08.170\nVery, very simple.\n\n255\n00:13:08.170 --> 00:13:11.980\nI like how it says, we're starting\nthe VPN service, but it's not running or\n\n256\n00:13:11.980 --> 00:13:13.430\nsomething's going on here.\n\n257\n00:13:13.430 --> 00:13:14.320\nNo VPN is running.\nWell that's good,\n\n258\n00:13:14.320 --> 00:13:17.970\nthat's fine, just wanted the service\ninstalled and now that should be done.\n\n259\n00:13:17.970 --> 00:13:19.040\nI got no errors,\n\n260\n00:13:19.040 --> 00:13:22.780\nif you have errors you're gonna wanna\ncheck maybe network connectivity,\n\n261\n00:13:22.780 --> 00:13:26.730\nmaybe you got a repository, something\nlike that is not where it should be.\n\n262\n00:13:26.730 --> 00:13:29.990\nBut this is a standard install from\nAWS and it finds it just fine, so\n\n263\n00:13:29.990 --> 00:13:31.310\nyou should have the same thing.\n\n264\n00:13:31.310 --> 00:13:35.510\nIf you're using Digital Ocean or\nany other cloud-based service,\n\n265\n00:13:35.510 --> 00:13:37.950\nyou're probably gonna have\na very similar experience.\n\n266\n00:13:39.410 --> 00:13:41.210\nOkay, let's move on here.\n\n267\n00:13:41.210 --> 00:13:42.050\nWhere are we at?\n\n268\n00:13:42.050 --> 00:13:43.370\nSo we got everything.\n\n269\n00:13:43.370 --> 00:13:47.990\nThe next thing we're gonna want to do\nis extract a sample server config file.\n\n270\n00:13:47.990 --> 00:13:53.160\nThe cool thing is, is that open VPN\nwhen you install it has a bunch of\n\n271\n00:13:53.160 --> 00:13:57.270\nconfiguration files and they have sample\nones that you can basically just copy and\n\n272\n00:13:57.270 --> 00:14:02.970\npaste into where ever you like,\ntypically that's slash\n\n273\n00:14:02.970 --> 00:14:07.620\nopen VPN area of your\nworld to play around with.\n\n274\n00:14:07.620 --> 00:14:09.870\nIt has a bunch, it's very well commented.\n\n275\n00:14:09.870 --> 00:14:13.520\nThey did a great job over at OpenVPN to\n\n276\n00:14:13.520 --> 00:14:18.340\nhelp you figure out what each thing does,\nand why you would or would not do it.\n\n277\n00:14:18.340 --> 00:14:22.460\nSo let's do that, let's copy that over.\n\n278\n00:14:22.460 --> 00:14:23.710\nSo.\n\n279\n00:14:23.710 --> 00:14:27.300\nI can cd into user dash share,\n\n280\n00:14:27.300 --> 00:14:31.790\nthis is where it resides,\ndoc slash open, VPN.\n\n281\n00:14:32.820 --> 00:14:34.120\nThere we go.\n\n282\n00:14:34.120 --> 00:14:41.010\nExample slash sample dash config,\ndash files.\n\n283\n00:14:41.010 --> 00:14:45.650\nI don't know if I typed that correctly,\nExamples, the examples.\n\n284\n00:14:45.650 --> 00:14:47.400\nThat's the problem.\n\n285\n00:14:47.400 --> 00:14:50.520\nIt wasn't tab auto completing,\nit was like, no sir, that's not right.\n\n286\n00:14:50.520 --> 00:14:52.100\nI think that'll work for us.\n\n287\n00:14:52.100 --> 00:14:53.190\nThere we go.\n\n288\n00:14:53.190 --> 00:14:56.420\nSo I just, I just kind of\nchanged into that directory so\n\n289\n00:14:56.420 --> 00:14:58.180\nthat we can see what's in it and\nplay around.\n\n290\n00:14:58.180 --> 00:14:59.470\nIt's probably full of stuff.\n\n291\n00:14:59.470 --> 00:15:01.240\nThere you go.\nA couple of cool things in here, but\n\n292\n00:15:01.240 --> 00:15:05.090\nthe one thing we're definitely looking for\nIs this guy right here, server.conf.gz.\n\n293\n00:15:05.090 --> 00:15:08.410\nSo it's a gzipped file.\n\n294\n00:15:08.410 --> 00:15:13.540\nWe'll have to copy it and\nextract the files inside of that.\n\n295\n00:15:13.540 --> 00:15:14.510\nSo let's do that.\n\n296\n00:15:14.510 --> 00:15:20.550\nLet's copy that to our\n/etsy/openvpn directory.\n\n297\n00:15:20.550 --> 00:15:29.253\nSo let's do this,\ncp server.conf.gz/etc/openvpn/,\n\n298\n00:15:29.253 --> 00:15:31.247\nthere we go.\n\n299\n00:15:31.247 --> 00:15:35.321\nNow we should be able to\nsee into that directory,\n\n300\n00:15:37.875 --> 00:15:41.580\nAnd hey look at that,\nthere is server.conf.gz.\n\n301\n00:15:41.580 --> 00:15:44.747\nNow it's time to extract it.\n\n302\n00:15:44.747 --> 00:15:49.312\nI will just run good old gunzip,\nthere we go.\n\n303\n00:15:49.312 --> 00:15:53.689\nAnd it's -c server.conf.\n\n304\n00:15:53.689 --> 00:15:59.005\nI think that should be good, there we go.\n\n305\n00:15:59.005 --> 00:16:01.304\nI just let me do the extract.\n\n306\n00:16:01.304 --> 00:16:04.518\nI think it's, what is it?\n\n307\n00:16:04.518 --> 00:16:05.710\n&gt;&gt; I think it's x, isn't it?\n\n308\n00:16:05.710 --> 00:16:08.060\n&gt;&gt; X, yeah, I think it is.\n\n309\n00:16:08.060 --> 00:16:10.962\nNo, let's do man gunzip.\n\n310\n00:16:10.962 --> 00:16:14.442\n[INAUDIBLE] Not the way to say it.\n\n311\n00:16:14.442 --> 00:16:17.336\nLet's see here, extract.\n\n312\n00:16:21.293 --> 00:16:24.178\nExtract the zip,\n\n313\n00:16:24.178 --> 00:16:29.377\n[SOUND] let's go to the next one.\n\n314\n00:16:29.377 --> 00:16:32.666\nLet's say, you know what I gotta do?\n\n315\n00:16:32.666 --> 00:16:35.402\nI might have to put it into a file,\nthat's cool, let's do that.\n\n316\n00:16:35.402 --> 00:16:37.040\nThat will be an easy way to do it.\n\n317\n00:16:38.260 --> 00:16:39.280\nBada bing.\n\n318\n00:16:39.280 --> 00:16:44.560\nAnd just one into server.conf.\n\n319\n00:16:44.560 --> 00:16:48.279\nAnd now, yeah, cuz I gotta take\nthe stupid x out and put a c.\n\n320\n00:16:48.279 --> 00:16:50.690\nHelps if you do it right, just saying.\n\n321\n00:16:50.690 --> 00:16:51.840\n&gt;&gt; That it does, and\n\n322\n00:16:51.840 --> 00:16:55.260\nthis is one of those things that you\nwere talking about the ease of Windows.\n\n323\n00:16:55.260 --> 00:16:57.409\nI've never actually done this on Windows,\nbut\n\n324\n00:16:57.409 --> 00:16:59.351\nI've played around in Linux a little bit.\n\n325\n00:16:59.351 --> 00:17:02.890\nPeople get frustrated at this point,\nbut it's not really that, you mess up.\n\n326\n00:17:02.890 --> 00:17:07.060\nThat's all right, just man it,\nfigure it out, it's totally fine.\n\n327\n00:17:07.060 --> 00:17:09.790\n&gt;&gt; I thought you were gonna say,\nman up [LAUGH].\n\n328\n00:17:09.790 --> 00:17:12.050\nYeah, the documentation is there,\nI could look through that.\n\n329\n00:17:12.050 --> 00:17:13.350\nI don't have a ton of time for the show.\n\n330\n00:17:13.350 --> 00:17:14.870\nI get confused a lot about,\n\n331\n00:17:14.870 --> 00:17:17.400\nbecause I don't really do a lot of\ngunzipping to be honest with you.\n\n332\n00:17:17.400 --> 00:17:21.968\nSo I typically forget the argument\nit takes to extract it.\n\n333\n00:17:21.968 --> 00:17:23.410\nThat's fine.\nI know -c works,\n\n334\n00:17:23.410 --> 00:17:25.050\nI just needed to work around the problem.\n\n335\n00:17:25.050 --> 00:17:26.210\nAnd that's a great thing about Linux.\n\n336\n00:17:26.210 --> 00:17:27.888\nI'm looking at the wrong\nscreen here [INAUDIBLE].\n\n337\n00:17:27.888 --> 00:17:30.590\nBut that's the great thing about Linux is\n\n338\n00:17:30.590 --> 00:17:32.830\nthere's a lot of different\nways to do the same thing.\n\n339\n00:17:32.830 --> 00:17:33.890\nAnd if you just use your head and\n\n340\n00:17:33.890 --> 00:17:37.120\na little bit of logic, you'll work\naround these things pretty simply.\n\n341\n00:17:37.120 --> 00:17:40.020\nAll right, so\nnow we should have our file, do an ls.\n\n342\n00:17:40.020 --> 00:17:45.270\nThere we go, server.conf,\nyou can cat that, server.conf.\n\n343\n00:17:45.270 --> 00:17:47.570\nAnd there is the file.\n\n344\n00:17:47.570 --> 00:17:52.320\nAgain, it's just a flat file,\na basic text-based file\n\n345\n00:17:52.320 --> 00:17:55.980\nwith a certain extension that OpenVPN\nis looking for in a certain directory.\n\n346\n00:17:55.980 --> 00:17:57.280\nThat's all there is to it.\n\n347\n00:17:57.280 --> 00:18:00.860\nThat's what I do like about this stuff,\nthis configuration, like I said,\n\n348\n00:18:00.860 --> 00:18:02.640\nvery well documented.\n\n349\n00:18:02.640 --> 00:18:07.670\nAs you can see,\nsuper documentation going on here.\n\n350\n00:18:07.670 --> 00:18:13.690\nLots of stuff, all these hash marks is\nbasically the comments inside of this.\n\n351\n00:18:13.690 --> 00:18:16.700\nAnd you'll notice that there's a whole\nlot more hash marks than there are actual\n\n352\n00:18:16.700 --> 00:18:19.030\nthings like dev-node MyTap, right?\n\n353\n00:18:19.030 --> 00:18:21.740\nBut it tells you exactly,\nWindows needs the TAP-Win32\n\n354\n00:18:21.740 --> 00:18:25.256\nadapter name from the Network Connections\npanel if you have more than one.\n\n355\n00:18:25.256 --> 00:18:26.720\nOn XP SP2 or higher,\n\n356\n00:18:26.720 --> 00:18:30.795\nyou may need to selectively disable\nthe Windows firewall for the TAP adapter.\n\n357\n00:18:30.795 --> 00:18:33.020\nNon-Windows systems\nusually don't need this.\n\n358\n00:18:33.020 --> 00:18:36.460\nSo if you need that,\nyou un-comment that, which would,\n\n359\n00:18:36.460 --> 00:18:41.560\nit's interesting inside these files, the\nsemicolon is also a type of commenting.\n\n360\n00:18:41.560 --> 00:18:43.380\nSo you can just remove that semicolon, and\n\n361\n00:18:43.380 --> 00:18:45.830\nthat would be enabled in\nour configuration file.\n\n362\n00:18:45.830 --> 00:18:47.010\nThat's we're gonna use.\n\n363\n00:18:47.010 --> 00:18:48.770\nWe have it copied, we have it there.\n\n364\n00:18:48.770 --> 00:18:55.991\nI'm going to remove that server.conf.\n\n365\n00:18:55.991 --> 00:18:57.277\nI'll leave it there, cuz you never know,\n\n366\n00:18:57.277 --> 00:18:59.000\nmaybe we're gonna mess up\nsomething we need to clean.\n\n367\n00:18:59.000 --> 00:19:03.222\nIt's never bad to have a backup copy\nright where you need it, right?\n\n368\n00:19:03.222 --> 00:19:04.280\nOkay, so let's move on.\n\n369\n00:19:05.760 --> 00:19:10.460\nWe're gonna make some changes\nin that configuration file.\n\n370\n00:19:10.460 --> 00:19:12.842\nUse your editor of choice.\n\n371\n00:19:12.842 --> 00:19:15.910\nI think, what the heck,\nI'll go with VI for this one.\n\n372\n00:19:15.910 --> 00:19:16.980\nWhy not, right?\n\n373\n00:19:16.980 --> 00:19:19.630\nI love making things difficult for\nmyself, even though I love VI.\n\n374\n00:19:19.630 --> 00:19:21.090\nIt was my first, right?\n\n375\n00:19:21.090 --> 00:19:21.860\nIt's my first.\n\n376\n00:19:21.860 --> 00:19:24.970\n&gt;&gt; And I will tell you,\nif you get decently proficient at VI,\n\n377\n00:19:24.970 --> 00:19:27.230\nor I use VIM, or-\n&gt;&gt; Yeah.\n\n378\n00:19:27.230 --> 00:19:28.080\n&gt;&gt; Flavors of VI.\n\n379\n00:19:28.080 --> 00:19:29.600\n&gt;&gt; Well, I think that VI's an alias now.\n\n380\n00:19:29.600 --> 00:19:30.340\n&gt;&gt; Yeah, yeah.\n\n381\n00:19:30.340 --> 00:19:32.480\n&gt;&gt; I think technically,\nit is an alias for VIM.\n\n382\n00:19:32.480 --> 00:19:34.530\nYou don't get the old style editor.\n\n383\n00:19:34.530 --> 00:19:37.310\nBut you can get pretty fast,\npretty proficient.\n\n384\n00:19:37.310 --> 00:19:38.010\nI can move around.\n\n385\n00:19:38.010 --> 00:19:38.630\n&gt;&gt; He's quick.\n\n386\n00:19:38.630 --> 00:19:40.140\n&gt;&gt; I can move around pretty good.\n\n387\n00:19:40.140 --> 00:19:43.650\n&gt;&gt; I've been using this for years,\nand he is like smoke daddy.\n\n388\n00:19:43.650 --> 00:19:45.820\nI never seen anything like it,\nso he's right.\n\n389\n00:19:45.820 --> 00:19:48.820\nYou can get very proficient when you\nspend a little time behind the keyboard.\n\n390\n00:19:48.820 --> 00:19:53.550\nAll right, so let's do this,\nvi server.conf.\n\n391\n00:19:53.550 --> 00:19:54.453\nThere we go.\n\n392\n00:19:54.453 --> 00:19:56.000\nGo ahead and login.\n\n393\n00:19:56.000 --> 00:19:59.260\nI do get some nice color coding,\nagain, by default.\n\n394\n00:19:59.260 --> 00:19:59.770\nNice thing, right?\n\n395\n00:20:01.370 --> 00:20:05.100\nSo let's look at some lines\nthat we need to change.\n\n396\n00:20:05.100 --> 00:20:07.800\nI'm gonna go ahead and scroll around.\n\n397\n00:20:07.800 --> 00:20:11.194\nWe're going to look for the DH.\n\n398\n00:20:11.194 --> 00:20:15.079\nIt's a very important file\nthat we need to find.\n\n399\n00:20:15.079 --> 00:20:17.300\nSo, I'm just gonna scroll around.\n\n400\n00:20:17.300 --> 00:20:18.598\n&gt;&gt; Now, Daniel,\nI'm gonna interject a little bit.\n\n401\n00:20:18.598 --> 00:20:20.492\n&gt;&gt; Yeah.\n&gt;&gt; That color coding works well for you,\n\n402\n00:20:20.492 --> 00:20:23.394\nbut if you can make that text\na little bit bigger, it kinda,\n\n403\n00:20:23.394 --> 00:20:26.810\nI'm wondering if it might cause\nsome visual issues on the screen.\n\n404\n00:20:26.810 --> 00:20:27.809\n&gt;&gt; Well, I think we might be good.\n\n405\n00:20:27.809 --> 00:20:31.127\n&gt;&gt; If we can just blow\nthat up a little bit.\n\n406\n00:20:31.127 --> 00:20:32.194\n&gt;&gt; I don't know if I can\ndo it on the quick, but\n\n407\n00:20:32.194 --> 00:20:33.042\nI don't know how to do it in a Mac.\n\n408\n00:20:33.042 --> 00:20:34.950\n&gt;&gt; Cmd+Shift+Plus.\n\n409\n00:20:34.950 --> 00:20:36.550\n&gt;&gt; God love them.\n\n410\n00:20:36.550 --> 00:20:37.960\nThere we go.\nHow's that looking?\n\n411\n00:20:37.960 --> 00:20:40.390\nOr more?\n&gt;&gt; Maybe just a wee, ah-ha, there we go.\n\n412\n00:20:40.390 --> 00:20:41.030\n&gt;&gt; There we go.\n\n413\n00:20:41.030 --> 00:20:42.750\n&gt;&gt; We got a little pop, so there we go.\n\n414\n00:20:42.750 --> 00:20:43.360\nThank you.\n\n415\n00:20:43.360 --> 00:20:44.390\n&gt;&gt; Now, I learned something new.\n\n416\n00:20:44.390 --> 00:20:45.380\nThat's fun.\n\n417\n00:20:45.380 --> 00:20:46.090\nI'm used to Linux.\n\n418\n00:20:46.090 --> 00:20:48.770\nI'm in a Mac right now, so there you go.\n\n419\n00:20:48.770 --> 00:20:54.600\nIn Linux, it's Shift+Ctrl+plus,\nand Ctrl+minus to lower it down.\n\n420\n00:20:54.600 --> 00:20:57.747\nOkay, so let's find that,\nI'm not really good at searching around.\n\n421\n00:20:57.747 --> 00:21:02.058\nThere it is, dh2048.pem.\n\n422\n00:21:02.058 --> 00:21:05.210\nYou wanna make sure that\nthat is what that says.\n\n423\n00:21:05.210 --> 00:21:08.187\nIf it says, dh1024.\n\n424\n00:21:08.187 --> 00:21:11.360\nWell, we're not gonna use,\nthis is Diffie-Hellman algorithm.\n\n425\n00:21:11.360 --> 00:21:13.612\nSo we're not gonna use 1024.\n\n426\n00:21:13.612 --> 00:21:18.306\nSo, we're gonna use 2048, because why use\nthe older scheme when we have the newer\n\n427\n00:21:18.306 --> 00:21:20.450\none that's available and it works?\n\n428\n00:21:20.450 --> 00:21:21.600\nAnd it's very well supported.\n\n429\n00:21:21.600 --> 00:21:23.540\nSo let's do that.\n\n430\n00:21:23.540 --> 00:21:25.180\nThat's a good thing,\nmake sure that's that way.\n\n431\n00:21:25.180 --> 00:21:27.820\nWe are going to do some uncommenting.\n\n432\n00:21:27.820 --> 00:21:31.306\n[SOUND].\n\n433\n00:21:31.306 --> 00:21:36.951\nWe need to look for\npush redirect gateway def1 bypass-dhcp,\n\n434\n00:21:36.951 --> 00:21:39.940\nwhich is coming up very shortly.\n\n435\n00:21:41.340 --> 00:21:44.376\nAlmost there,\nI'm gonna just start scrolling hard.\n\n436\n00:21:44.376 --> 00:21:46.235\nThere's some push commands.\n\n437\n00:21:46.235 --> 00:21:48.955\nWe like the push commands.\n\n438\n00:21:48.955 --> 00:21:51.523\nDId I pass it?\n\n439\n00:21:51.523 --> 00:21:55.330\nI think no, nothing yet gotta find DHCP.\n\n440\n00:21:55.330 --> 00:21:56.708\nThere it is.\n\n441\n00:21:56.708 --> 00:22:00.789\nSo, notice again, it's commented out\nwith the semicolon character, so\n\n442\n00:22:00.789 --> 00:22:02.164\nwe gotta get rid of that.\n\n443\n00:22:02.164 --> 00:22:05.290\nI'll go into insert mode,\nsay, hasta luego.\n\n444\n00:22:06.970 --> 00:22:13.110\nThen the next thing we need to do is\ncome down to these push dhcp-option DNS.\n\n445\n00:22:13.110 --> 00:22:16.290\nIt does have some DNS\nservers put in there.\n\n446\n00:22:16.290 --> 00:22:18.210\nI'm sure they're fine.\n\n447\n00:22:18.210 --> 00:22:20.890\nI like using Google's servers, because\nthey're accessible from anywhere and\n\n448\n00:22:20.890 --> 00:22:23.370\nthey work really well, so I will do that.\n\n449\n00:22:23.370 --> 00:22:27.042\nAgain, uncomment these,\nuncomment that one.\n\n450\n00:22:27.042 --> 00:22:29.394\nAnd then just come over here and\n\n451\n00:22:29.394 --> 00:22:33.382\nchange these to whatever\nDNS server you want to use.\n\n452\n00:22:33.382 --> 00:22:37.938\nSo, I will go with 8.8.8.8, and\n\n453\n00:22:37.938 --> 00:22:43.838\nthis one will be, 8.8.4.4, I think, yep.\n\n454\n00:22:43.838 --> 00:22:46.822\n8.8.4.4.\n\n455\n00:22:46.822 --> 00:22:51.320\nI forgot a dot, .4, .4 again.\n\n456\n00:22:51.320 --> 00:22:52.061\nThere we go.\n\n457\n00:22:52.061 --> 00:22:54.990\nA lot of fun typing on the show,\nyeah, ladies and gents.\n\n458\n00:22:54.990 --> 00:22:57.290\nOkay, so that's good,\nwhat else do we need to do?\n\n459\n00:22:57.290 --> 00:22:59.480\nWe need to do some more uncommenting.\n\n460\n00:22:59.480 --> 00:23:02.260\nThere's this interesting little area.\n\n461\n00:23:02.260 --> 00:23:05.690\nThat says, user and group nobody.\n\n462\n00:23:06.740 --> 00:23:07.940\nWe need to uncomment that.\n\n463\n00:23:11.702 --> 00:23:13.399\nThere they are right there.\n\n464\n00:23:13.399 --> 00:23:17.191\nIt's a good idea to reduce the OpenVPN\ndaemon's privileges after installation.\n\n465\n00:23:17.191 --> 00:23:20.100\nYou can uncomment this out\non non-Windows systems.\n\n466\n00:23:20.100 --> 00:23:23.220\nWell, guess what, I'm using\na Linux client and a Linux server.\n\n467\n00:23:23.220 --> 00:23:25.372\nSo I'm gonna uncomment this out.\n\n468\n00:23:25.372 --> 00:23:28.515\nSo just remove that.\n\n469\n00:23:31.175 --> 00:23:33.130\nAnd what else do we need to do?\n\n470\n00:23:33.130 --> 00:23:35.510\nI think that's everything.\n\n471\n00:23:35.510 --> 00:23:41.470\nSo the server.conf file is set up for\nour purposes right now.\n\n472\n00:23:41.470 --> 00:23:44.190\nAnd I think I left in some issues, so\n\n473\n00:23:44.190 --> 00:23:47.340\nthat we can see some of that\ntroubleshooting when we get to the end.\n\n474\n00:23:47.340 --> 00:23:49.740\nSo we will be revisiting this,\n\n475\n00:23:49.740 --> 00:23:54.720\nbecause I like to throw that\ntroubleshooting nugget on the fire there.\n\n476\n00:23:54.720 --> 00:23:57.008\nSo let's go ahead and save that.\n\n477\n00:23:57.008 --> 00:23:58.899\nThat is escape and wq.\n\n478\n00:23:58.899 --> 00:24:00.600\nAnd there we go.\n\n479\n00:24:00.600 --> 00:24:03.630\nWe have written the file and\neverything should be good.\n\n480\n00:24:03.630 --> 00:24:04.500\nMy file is still there.\n\n481\n00:24:04.500 --> 00:24:06.330\nAnd that is a wonderful thing.\n\n482\n00:24:06.330 --> 00:24:08.220\nThat being said,\nI am looking at our clock,\n\n483\n00:24:08.220 --> 00:24:11.530\nI think this is actually a very\ngood stopping spot for us.\n\n484\n00:24:11.530 --> 00:24:13.390\nBecause we've got some\nmore stuff to do and\n\n485\n00:24:13.390 --> 00:24:15.960\nI don't wanna get you guys all bound up.\n\n486\n00:24:15.960 --> 00:24:18.040\nLet me get this done.\n\n487\n00:24:18.040 --> 00:24:19.740\nI think, this is a good segue spot.\n\n488\n00:24:19.740 --> 00:24:24.210\nSo we will leave the rest of\nthe configuration to the next episode.\n\n489\n00:24:24.210 --> 00:24:27.445\n&gt;&gt; Well, Daniel, I think you've made\na good decision, because there's\n\n490\n00:24:27.445 --> 00:24:30.998\nminor little tweaks and nuanced behaviors\nhere that it's probably really good\n\n491\n00:24:30.998 --> 00:24:34.603\nto have this, make sure you're at a\nstopping point, and then we'll come back,\n\n492\n00:24:34.603 --> 00:24:38.184\nbecause I know we have to do some firewall\nstuff and some other things like that.\n\n493\n00:24:38.184 --> 00:24:41.003\nSo thank you so much for\ngetting us started.\n\n494\n00:24:41.003 --> 00:24:44.200\nBut we're definitely not finished,\nso definitely stay tuned.\n\n495\n00:24:44.200 --> 00:24:47.990\nBut for now, signing off for ITProTV,\nI've been your host Justin Dennison.\n\n496\n00:24:47.990 --> 00:24:48.900\n&gt;&gt; And I'm Daniel Lowrie.\n\n497\n00:24:48.900 --> 00:24:51.364\n&gt;&gt; And we'll see you next time.\n\n498\n00:24:51.364 --> 00:24:57.408\n[MUSIC]\n\n499\n00:24:57.408 --> 00:24:59.870\n&gt;&gt; Thank you for watching ITPROTV.\n\n",
          "vimeoId": "228658068"
        },
        {
          "description": "In this episode, Justin and Daniel discuss the  some of the prerequisites for using OpenVPN such as the following: enabling ip forwarding, configure UncomplicatedFirewall (ufw) to ensure that traffic can make it to the server, added rules to enable packet forwarding, IP masquerading, and NAT, as well as generate the certificate authority, the server keys and the Diffie-Hellman pem file.",
          "length": "1715",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-2-install_configure_openvpn_in_linux_pt2-080417-PGM.00_54_55_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-2-install_configure_openvpn_in_linux_pt2-080417-PGM.00_54_55_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-2-install_configure_openvpn_in_linux_pt2-080417-PGM.00_54_55_15.Still001-sm.jpg",
          "title": "Install / Configure OpenVPN in Linux Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.574\nWelcome to ITPro.TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.574 --> 00:00:06.838\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.838 --> 00:00:08.529\n[MUSIC]\n\n4\n00:00:08.529 --> 00:00:12.267\n&gt;&gt; Your watching ITPro.TV.\n\n5\n00:00:12.267 --> 00:00:15.410\n&gt;&gt; Greetings everyone, and welcome to\nanother exciting episode of ITPro.TV.\n\n6\n00:00:15.410 --> 00:00:17.475\nI'm your host Justin Dennison.\n\n7\n00:00:17.475 --> 00:00:21.196\nAnd in today's episode were coming back\nwith the part two of installing and\n\n8\n00:00:21.196 --> 00:00:22.990\nconfiguring our openVPN service.\n\n9\n00:00:22.990 --> 00:00:25.560\nAnd well in part one,\nif you haven't check it out,\n\n10\n00:00:25.560 --> 00:00:29.210\nwe kind of actually get it\nreinstalled in more or less.\n\n11\n00:00:29.210 --> 00:00:32.810\nWe did a little bit of configuration, but\nwe have a lot more configuration to come.\n\n12\n00:00:32.810 --> 00:00:36.820\nBut luckily, we have a man that knows\nall about it, Mr Daniel Lowrie.\n\n13\n00:00:36.820 --> 00:00:37.710\nHow you doing today, Daniel?\n\n14\n00:00:37.710 --> 00:00:38.650\n&gt;&gt; I'm doing fantastic.\n\n15\n00:00:38.650 --> 00:00:40.940\nLooking forward to\ncontinuing on installing and\n\n16\n00:00:40.940 --> 00:00:42.553\nconfiguring this openVPN business.\n\n17\n00:00:42.553 --> 00:00:47.140\nSet of ur lovely little Linux instance\nthat we've created in Amazon Web Services,\n\n18\n00:00:47.140 --> 00:00:48.120\nvery cool stuff.\n\n19\n00:00:48.120 --> 00:00:52.368\nDefinitely, make sure that you watch part\none because you can't jump into the middle\n\n20\n00:00:52.368 --> 00:00:54.433\nof these episodes and take it from there,\n\n21\n00:00:54.433 --> 00:00:57.161\nunless you've already kind\nof done that ground work.\n\n22\n00:00:57.161 --> 00:00:59.465\nSo, if you're starting from scratch,\nwatch part one,\n\n23\n00:00:59.465 --> 00:01:02.910\nmeet us right here at the beginning of\npart two and we'll take it from here.\n\n24\n00:01:02.910 --> 00:01:06.830\nThat being said, for those that have\nbeen following along in their books,\n\n25\n00:01:06.830 --> 00:01:08.790\nlet's go ahead and\ncontinue with our story.\n\n26\n00:01:08.790 --> 00:01:12.430\nThat story is, we gotta continue\nconfiguring a bit of the server,\n\n27\n00:01:12.430 --> 00:01:14.907\ncuz we have to allow\ntraffic to go through it.\n\n28\n00:01:14.907 --> 00:01:19.116\nSo we gotta make some more modifications\nto the firewall and some of the other\n\n29\n00:01:19.116 --> 00:01:23.477\nshenanigans that happens underneath\nthe hood with IP in our site of our sever.\n\n30\n00:01:23.477 --> 00:01:27.111\nSo let's take a look at my computer here,\nI went ahead and cleared the screen out\n\n31\n00:01:27.111 --> 00:01:30.110\njust to make things a little bit\neasier to see and nicer to look at.\n\n32\n00:01:30.110 --> 00:01:35.008\nWhat we are gonna do is, we're going\nto edit a file by basically echoing\n\n33\n00:01:35.008 --> 00:01:39.186\nsome data into it,\nwe wanna overwrite the file completely.\n\n34\n00:01:39.186 --> 00:01:41.751\nThe cool thing is that by\ndefault just holds a 0,\n\n35\n00:01:41.751 --> 00:01:44.730\nthat's the only thing inside\nthe file is the number 0.\n\n36\n00:01:44.730 --> 00:01:46.510\nAnd we're gonna change that value to 1.\n\n37\n00:01:46.510 --> 00:01:52.575\nWe can do that by saying echo 1 and\nthen redirect into\n\n38\n00:01:52.575 --> 00:02:03.040\n/prac/sys/net/ipv4/ip_forward, just\nlike that.\n\n39\n00:02:03.040 --> 00:02:07.324\nAll right,\nnow if we were to cut that file,\n\n40\n00:02:07.324 --> 00:02:11.846\n/prox/sys/net/ ipv4/ip_forward,\n\n41\n00:02:11.846 --> 00:02:17.620\nyou'll see it just contains\nthe number 1 right there.\n\n42\n00:02:17.620 --> 00:02:20.720\nVery simple thing,\nnothing to it, easy piece.\n\n43\n00:02:20.720 --> 00:02:23.190\nSo that means, hey, one of these days,\n\n44\n00:02:23.190 --> 00:02:26.930\nwe're gonna do some IPv4 forwarding,\nand basically that value is off or on.\n\n45\n00:02:26.930 --> 00:02:28.940\nAre you gonna do that, yes or no?\n\n46\n00:02:28.940 --> 00:02:31.750\nOne says yes, turn it on,\ndo that thing, all right.\n\n47\n00:02:31.750 --> 00:02:32.490\nSo let's move on.\n\n48\n00:02:32.490 --> 00:02:36.010\nNext thing we need to do\nis edit the cistctl.conf\n\n49\n00:02:36.010 --> 00:02:39.330\nfile that resides inside /etc.\n\n50\n00:02:39.330 --> 00:02:42.070\nAlways a fun thing to do,\nbasically messing around with our system,\n\n51\n00:02:42.070 --> 00:02:43.690\nhaving a lot of good times.\n\n52\n00:02:43.690 --> 00:02:48.143\nI've kind of preemptively struck this for\nyou guys, so\n\n53\n00:02:48.143 --> 00:02:52.500\nyou wouldn't have to watch\nme fool around with it, but\n\n54\n00:02:52.500 --> 00:02:56.953\nI'm just gonna vi into that\n/etc/ there's my slash,\n\n55\n00:02:56.953 --> 00:03:02.569\n/ctl.cmpf file, that is not the correct\nthing cuz I put a t in there.\n\n56\n00:03:02.569 --> 00:03:04.380\n[LAUGH] No sir, that's wrong.\n\n57\n00:03:04.380 --> 00:03:06.770\nQ, there we go.\n\n58\n00:03:06.770 --> 00:03:09.720\nLet's try that again, but\nwith the correct file names.\n\n59\n00:03:09.720 --> 00:03:11.470\nsysctl, there we go.\n\n60\n00:03:11.470 --> 00:03:13.640\nLooks a little more apropos.\n\n61\n00:03:13.640 --> 00:03:15.350\nThe area in which we're looking for,\n\n62\n00:03:15.350 --> 00:03:19.180\nwhat we need to do is uncomment a line\nthat's in this configuration file, so\n\n63\n00:03:19.180 --> 00:03:22.320\nthat it basically turns that\nfeature on of the configuration.\n\n64\n00:03:22.320 --> 00:03:28.203\nThat line is net.ipv4.ip_4=1.\n\n65\n00:03:28.203 --> 00:03:31.313\nKind of mimicking what we\njust did in that ProCloud.\n\n66\n00:03:31.313 --> 00:03:32.655\nSo I'm just gonna do a search for\n\n67\n00:03:32.655 --> 00:03:35.590\nthat because there's a lot of\nthose types of commands in here.\n\n68\n00:03:35.590 --> 00:03:38.616\nSo I'm gonna do, I'm sorry,\n\n69\n00:03:38.616 --> 00:03:43.910\nnet.ipv4.ip_forward like that,\n\n70\n00:03:43.910 --> 00:03:48.260\nand there we go, there it is.\n\n71\n00:03:48.260 --> 00:03:51.982\nAnd all I did was remove the comment.\n\n72\n00:03:51.982 --> 00:03:53.303\nI'm in insert mode.\n\n73\n00:03:53.303 --> 00:03:55.140\nThis is what it looked like before.\n\n74\n00:03:55.140 --> 00:03:57.240\nThis is what it looks like now,\nvery simple.\n\n75\n00:03:57.240 --> 00:03:59.080\nIf there's a hash in front of it,\nremove the hash.\n\n76\n00:03:59.080 --> 00:04:01.940\nIf it has a semicolon in front of it,\nremove the semicolon, and\n\n77\n00:04:01.940 --> 00:04:04.520\nthat will enable this\nfeature inside of this file.\n\n78\n00:04:04.520 --> 00:04:05.670\nIt's a very important thing.\n\n79\n00:04:05.670 --> 00:04:08.505\nIf you don't do this, we're not\ngoing to forward any packets, and\n\n80\n00:04:08.505 --> 00:04:09.680\nthen it's not gonna work.\n\n81\n00:04:09.680 --> 00:04:11.420\n&gt;&gt; Now Daniel, I do have a quick question.\n\n82\n00:04:11.420 --> 00:04:12.580\nThis seems kind of repetitive.\n\n83\n00:04:12.580 --> 00:04:15.880\nIs there a reason we need to\ndo that in both places, or\n\n84\n00:04:15.880 --> 00:04:17.913\nis this just being doubly sure?\n\n85\n00:04:17.913 --> 00:04:21.560\n&gt;&gt; This is probably so that this\nwill retain that setting at startup.\n\n86\n00:04:21.560 --> 00:04:24.619\nSystemctl does a lot of\nstart up configurations, so\n\n87\n00:04:24.619 --> 00:04:27.476\nI'm assuming that that is\nwhat is going on here.\n\n88\n00:04:27.476 --> 00:04:32.090\nThat it will always set that value to 1,\ninstead of taking a default value of 0.\n\n89\n00:04:32.090 --> 00:04:35.500\nSo otherwise, we'd probably have to echo\nthat file over and over and over again.\n\n90\n00:04:35.500 --> 00:04:37.970\nDon't wanna deal in that business,\nthat's not a lot of fun.\n\n91\n00:04:37.970 --> 00:04:40.896\nJust go in here,\nmake that change, uncomment that.\n\n92\n00:04:40.896 --> 00:04:43.200\nIt's an easy configuration change to make.\n\n93\n00:04:43.200 --> 00:04:47.990\nI love just being able uncomment\nsomething, no modifications needed and\n\n94\n00:04:47.990 --> 00:04:49.300\nyou're off to the races.\n\n95\n00:04:49.300 --> 00:04:52.335\nSo just make sure you save and\nexit that and\n\n96\n00:04:52.335 --> 00:04:55.809\nthat will be helpful so\nwe'll escape, and wq.\n\n97\n00:04:55.809 --> 00:04:59.522\nThere we go, now I saved my file,\nyou shall also as well.\n\n98\n00:04:59.522 --> 00:05:04.120\nAll right moving on,\nnow we need to configure the firewall.\n\n99\n00:05:04.120 --> 00:05:05.140\nAnd we're gonna make this easy.\n\n100\n00:05:05.140 --> 00:05:06.420\nWe need to open our port.\n\n101\n00:05:06.420 --> 00:05:09.510\nNow we did do a bit of that inside of AWS,\nright?\n\n102\n00:05:09.510 --> 00:05:13.613\nWe made sure that security group had\n\n103\n00:05:13.613 --> 00:05:18.407\nthe exception for the UDP port 1194.\n\n104\n00:05:18.407 --> 00:05:21.680\nThere is a firewall built\ninto your Bluetooth systems.\n\n105\n00:05:21.680 --> 00:05:24.440\nI wanna make sure that\nit is not blocking me.\n\n106\n00:05:24.440 --> 00:05:27.374\nI'm not gonna turn off the firewall, even\nthough I think it is enacted by default.\n\n107\n00:05:27.374 --> 00:05:30.848\nI just wanna make sure,\nit's a good thing to set up firewalls,\n\n108\n00:05:30.848 --> 00:05:34.380\nnot just leave them inactive,\nif they are inactive.\n\n109\n00:05:34.380 --> 00:05:36.610\nWe wanna set them up to do\nthe thing we want them to do.\n\n110\n00:05:36.610 --> 00:05:40.670\nThe cool thing is that by default,\nit's denying all traffic, and\n\n111\n00:05:40.670 --> 00:05:43.720\nwe're just gonna punch some holes in it,\nso that we can stay secure, but\n\n112\n00:05:43.720 --> 00:05:45.760\nstill get our VPN traffic going through.\n\n113\n00:05:45.760 --> 00:05:47.430\nSo that's what we need to do next.\n\n114\n00:05:47.430 --> 00:05:50.792\nSo it's lovely command call, ufw.\n\n115\n00:05:50.792 --> 00:05:53.742\nYou can check the status of\nit just by status, like so.\n\n116\n00:05:53.742 --> 00:05:55.375\nYou show that it's inactive right now.\n\n117\n00:05:55.375 --> 00:05:56.842\nWe're gonna enable it here in a second.\n\n118\n00:05:56.842 --> 00:05:58.800\nLet's go ahead and\ncreate a rule for it though.\n\n119\n00:05:58.800 --> 00:06:06.958\nI will say, ufw allow 1194/udp.\n\n120\n00:06:06.958 --> 00:06:09.141\nVery simplistic firewall.\n\n121\n00:06:09.141 --> 00:06:13.384\nIt's basically hooking into iptables,\nthat firewall, the good old netfilter,\n\n122\n00:06:13.384 --> 00:06:16.916\nI believe they're calling it nowadays,\nsomething to that effect.\n\n123\n00:06:16.916 --> 00:06:21.920\nIf you've ever mess with iptables before,\nthey can be a bit complex and difficult.\n\n124\n00:06:21.920 --> 00:06:26.260\nEven to do something as simple\nas allowing port 1194 on UDP.\n\n125\n00:06:26.260 --> 00:06:29.980\nIt's a lot of syntax,\nit goes along with it.\n\n126\n00:06:29.980 --> 00:06:34.330\nI'm so forgetful when it comes to\nthat stuff that I actually wrote\n\n127\n00:06:34.330 --> 00:06:39.210\na bash script that is a menu driven system\nthat asks you, what do you wanna do?\n\n128\n00:06:39.210 --> 00:06:44.046\nAnd then generates the iptables command\nthat you'll need to make that happen,\n\n129\n00:06:44.046 --> 00:06:46.581\nbecause I just can never remember [LAUGH].\n\n130\n00:06:46.581 --> 00:06:47.620\n&gt;&gt; Well, I can tell you now, Daniel.\n\n131\n00:06:47.620 --> 00:06:50.930\nEvery time you said iptables,\nI kinda got cold and clammy.\n\n132\n00:06:50.930 --> 00:06:51.580\n&gt;&gt; You died inside?\n\n133\n00:06:51.580 --> 00:06:54.760\n&gt;&gt; Yeah, I was like,\nare we gonna have to do that?\n\n134\n00:06:54.760 --> 00:06:59.350\nCuz usually, I just break my server when I\ntry to mess around with iptables through\n\n135\n00:06:59.350 --> 00:07:00.330\nthe raw system.\n\n136\n00:07:00.330 --> 00:07:03.277\nAnd I have to destroy it and get.\n\n137\n00:07:03.277 --> 00:07:05.044\nI'm not very good at it,\n\n138\n00:07:05.044 --> 00:07:09.180\nso I like the simplicity of\nthis kind of abstracting away.\n\n139\n00:07:09.180 --> 00:07:10.665\n&gt;&gt; Totally love this.\n\n140\n00:07:10.665 --> 00:07:13.349\nAnd basically,\nthis is doing what I did myself,\n\n141\n00:07:13.349 --> 00:07:16.306\ngiving you an easier frontend\nto hook into iptables.\n\n142\n00:07:16.306 --> 00:07:20.960\nSo we'll hit Enter, and we'll see rules\nupdated, skipping adding existing rule.\n\n143\n00:07:20.960 --> 00:07:23.044\nOkay, there's another rule in there,\nthat's fine.\n\n144\n00:07:23.044 --> 00:07:26.956\nI must have been playing around with\nthis before, so whatever that's cool.\n\n145\n00:07:26.956 --> 00:07:30.476\nNow what we need to do is mess with,\nwell guess what,\n\n146\n00:07:30.476 --> 00:07:34.408\nanother configuration file,\nit's always fun, right?\n\n147\n00:07:34.408 --> 00:07:44.680\nLet's do vi /etc/default/ufw/ufw like so,\nhit return.\n\n148\n00:07:44.680 --> 00:07:46.880\nHey, look, another great, great file.\n\n149\n00:07:48.110 --> 00:07:53.201\nSo in here, we are looking for default\nforward policy, that's what we want.\n\n150\n00:07:53.201 --> 00:07:56.792\nWe wanna change if from\nbeing a deny policy,\n\n151\n00:07:56.792 --> 00:08:01.842\nbasically everything is getting\ndenied to an accept policy,\n\n152\n00:08:01.842 --> 00:08:06.224\nand it will help us get our traffic So\nlet's see here.\n\n153\n00:08:06.224 --> 00:08:10.812\nWe have default,\nlet me go to the right key here.\n\n154\n00:08:10.812 --> 00:08:14.364\nDefault input policy,\noutput policy, and there it is,\n\n155\n00:08:14.364 --> 00:08:18.588\ndefault forward policy is to drop\nall packets if it's forwarding.\n\n156\n00:08:18.588 --> 00:08:22.509\nThat's not what we want, we wanna accept\nthose packets so that we can forward them,\n\n157\n00:08:22.509 --> 00:08:28.174\nso we need to change this from Drop,\nTo Accept [INAUDIBLE].\n\n158\n00:08:28.174 --> 00:08:32.087\nOops, going to insert mode.\n\n159\n00:08:32.087 --> 00:08:34.421\nThere we go, A-C-C-E-P-T.\n\n160\n00:08:34.421 --> 00:08:39.399\nJust like that, Escape, Save, and Exit.\n\n161\n00:08:39.399 --> 00:08:45.124\nAll right the next thing we need to\ndo is enable IP masquerading and\n\n162\n00:08:45.124 --> 00:08:48.989\nNATs for our VPN, the client's, that is.\n\n163\n00:08:48.989 --> 00:08:51.949\nAnd you say you hear IP tables and\nyou get the cold sweats.\n\n164\n00:08:51.949 --> 00:08:55.945\nI hear NATing and\nmasquerading, and I'm like,\n\n165\n00:08:55.945 --> 00:09:00.233\nit's like being back in Cambodia or\nsomething, and\n\n166\n00:09:00.233 --> 00:09:05.503\nI'm being chased by a tribe of\nangry headhunters or something.\n\n167\n00:09:05.503 --> 00:09:08.000\nIt's very disconcerting for me.\n\n168\n00:09:08.000 --> 00:09:11.293\nI hate messing with NATing,\nI hate messing with masquerading, but\n\n169\n00:09:11.293 --> 00:09:13.796\nit shouldn't be too difficult for\nthis purposes.\n\n170\n00:09:13.796 --> 00:09:15.723\nSo, how do we do this?\n\n171\n00:09:15.723 --> 00:09:19.320\nWe are going to, guess what,\nmodify a configuration file.\n\n172\n00:09:19.320 --> 00:09:21.988\nYes, it's what we do in Linux,\nit's how we roll.\n\n173\n00:09:21.988 --> 00:09:23.319\nSo let's do that.\n\n174\n00:09:23.319 --> 00:09:29.278\nThe configurtion file we're going to\nmodify is going to be the before.rules for\n\n175\n00:09:29.278 --> 00:09:30.687\nthe UFW actually.\n\n176\n00:09:30.687 --> 00:09:33.672\nSo we're going to\n\n177\n00:09:33.672 --> 00:09:41.038\nvi/etc/ufw/before.rules, like so.\n\n178\n00:09:41.038 --> 00:09:43.448\nHey look at that,\nanother cool flat file for us.\n\n179\n00:09:43.448 --> 00:09:45.822\nNow we actually are going\nto add something to this.\n\n180\n00:09:45.822 --> 00:09:47.803\nWe're not gonna uncomment something.\n\n181\n00:09:47.803 --> 00:09:52.597\nWe're gonna put in a NAT rule for\nthis to work with, okay?\n\n182\n00:09:52.597 --> 00:09:57.134\nAnd I find the best place to put it\nis right here at the top underneath\n\n183\n00:09:57.134 --> 00:09:59.173\nthe first bit of commenting.\n\n184\n00:09:59.173 --> 00:10:04.476\nYou want it before these dot filter rules,\nokay?\n\n185\n00:10:04.476 --> 00:10:07.247\nThat's definitely where you wanna reside.\n\n186\n00:10:07.247 --> 00:10:13.149\nI'm gonna go to insert mode,\nadd a couple of breaks there and\n\n187\n00:10:13.149 --> 00:10:19.398\nI will just say NAT and Masquerade,\nI can't spell masquerade,\n\n188\n00:10:19.398 --> 00:10:25.903\nI always have to right it down\nS-Q-E-R-A-D-E Roles, okay.\n\n189\n00:10:25.903 --> 00:10:30.776\nAnd I'll just say star nat like that,\n\n190\n00:10:30.776 --> 00:10:36.258\ngo to the next line: post routing ACCEPT,\n\n191\n00:10:36.258 --> 00:10:40.675\nand then it's gonna look like this\n\n192\n00:10:40.675 --> 00:10:45.856\nyou're basically saying accept any for\n\n193\n00:10:45.856 --> 00:10:49.385\nmany code thing like that.\n\n194\n00:10:49.385 --> 00:10:52.887\nThen you do a -A POSTROUTING,\n\n195\n00:10:52.887 --> 00:10:58.546\nmake sure I'm spelling all\nmy words correctly and\n\n196\n00:10:58.546 --> 00:11:04.611\nsay -s10.8.0.0/8-0 eth0 -j MA-S,\n\n197\n00:11:04.611 --> 00:11:09.056\nyou know I love spelling this word I mean\n\n198\n00:11:09.056 --> 00:11:14.850\nS-Q-U-E-R-A-D-E, that's the correct,\n\n199\n00:11:14.850 --> 00:11:20.264\nI was at the right,\nthat's a crazy word for me.\n\n200\n00:11:20.264 --> 00:11:22.320\nAnytime you add Us, Es, and Os.\n\n201\n00:11:22.320 --> 00:11:23.990\nI'm done, I'm lost.\n\n202\n00:11:23.990 --> 00:11:25.454\nBut that is it.\n\n203\n00:11:25.454 --> 00:11:32.714\nThere's one last piece of commit which\nwe have to do, which is the commit line.\n\n204\n00:11:32.714 --> 00:11:35.209\nIf you don't add that, this will not work.\n\n205\n00:11:35.209 --> 00:11:37.126\nSo you gotta have that in there.\n\n206\n00:11:37.126 --> 00:11:40.249\nBut that's it, just four lines,\nnot too difficult.\n\n207\n00:11:40.249 --> 00:11:41.791\nAs you can see it's,\n\n208\n00:11:41.791 --> 00:11:46.684\nmight have some questions going\non there about what's happening.\n\n209\n00:11:46.684 --> 00:11:49.679\n&gt;&gt; Now Daniel, I definitely have\na couple of questions about NATing and\n\n210\n00:11:49.679 --> 00:11:52.586\nmasquerading, but I think that's\na whole other series of shows.\n\n211\n00:11:52.586 --> 00:11:55.121\nNot necessarily my forte, but\nI did have a quick question,\n\n212\n00:11:55.121 --> 00:11:57.620\nbecause I know this crops up in\nsome of the things that I do.\n\n213\n00:11:57.620 --> 00:12:00.135\nThe all caps, I saw that on a couple of,\n\n214\n00:12:00.135 --> 00:12:03.431\nlike the ACCEPT inside of\nthe default Ford policy.\n\n215\n00:12:03.431 --> 00:12:04.884\nIs that necessary?\n\n216\n00:12:04.884 --> 00:12:07.068\nAre these capitalization\nsensitive in these rules files?\n\n217\n00:12:07.068 --> 00:12:09.878\n&gt;&gt; That's a great question and\nthe answer is absolutely.\n\n218\n00:12:09.878 --> 00:12:12.244\nYou must have\nthe capitalization correctly.\n\n219\n00:12:12.244 --> 00:12:15.577\nThat is how they work, so\nif you don't capitalize these things,\n\n220\n00:12:15.577 --> 00:12:16.737\nit's not gonna work.\n\n221\n00:12:16.737 --> 00:12:18.574\nYou'll be like, I got everything right.\n\n222\n00:12:18.574 --> 00:12:21.945\nI'm not fooling around with all that\ncapitalization business that Lowrie\n\n223\n00:12:21.945 --> 00:12:22.755\nwas trying to do.\n\n224\n00:12:22.755 --> 00:12:24.296\nYeah, you are,\nyou're gonna have to do that.\n\n225\n00:12:24.296 --> 00:12:28.764\nThe good news is that all this is going to\nbe available inside of the show notes, so\n\n226\n00:12:28.764 --> 00:12:32.988\nyou can just copy and paste it into it\nwithout having to type all the stuff up.\n\n227\n00:12:32.988 --> 00:12:34.501\nBut what are you gonna do?\nThere it is.\n\n228\n00:12:34.501 --> 00:12:39.190\nAll right, now that that's done,\nlet us Escape, and Save and Exit,\n\n229\n00:12:39.190 --> 00:12:41.510\nthink that's all we needed to do.\n\n230\n00:12:41.510 --> 00:12:48.071\nYep, and now let's do, ufw enable.\n\n231\n00:12:48.071 --> 00:12:52.730\nAnd it says, may disrupt existing ssh\nconnections, proceed with operation?\n\n232\n00:12:52.730 --> 00:12:55.929\nI am ssh 10, so\nI have do take that in account.\n\n233\n00:12:55.929 --> 00:12:59.513\nIt'll probably, if it does give you a\nproblem, it'll just drop your connection,\n\n234\n00:12:59.513 --> 00:13:00.733\nyou'll have to log back in.\n\n235\n00:13:00.733 --> 00:13:01.896\nWe'll see if that happens for us.\n\n236\n00:13:01.896 --> 00:13:05.908\nWe'll say yep, but\nI'm still in, I can do LS, yep.\n\n237\n00:13:05.908 --> 00:13:08.893\nI'm still in so it didn't even,\nthey've got my connection here.\n\n238\n00:13:08.893 --> 00:13:15.358\nAnd now I should be able to do\na ufw status, and look at that.\n\n239\n00:13:15.358 --> 00:13:18.385\nIt is active and it's showing my rules.\n\n240\n00:13:18.385 --> 00:13:24.444\nAnd yeah, looks like I put in port\n22 earlier just for good measure.\n\n241\n00:13:24.444 --> 00:13:28.406\nI wanna block my SSH connections,\nthat would be bad, right?\n\n242\n00:13:28.406 --> 00:13:30.580\nBecause, when you think about it,\nit's probably a good idea.\n\n243\n00:13:30.580 --> 00:13:35.046\nAdd that SSH in there, because if you're\nusing AWS, yeah, the AWS is allowing it\n\n244\n00:13:35.046 --> 00:13:39.417\nin, but soon as you enable UFW If you\ndoesn't have any exception, guess what?\n\n245\n00:13:39.417 --> 00:13:40.089\nYou're done.\n\n246\n00:13:40.089 --> 00:13:41.536\nSo add that in.\n\n247\n00:13:41.536 --> 00:13:45.625\nAll right,\nfirewall is looking a really good, my man.\n\n248\n00:13:45.625 --> 00:13:46.621\nWe are moving on.\n\n249\n00:13:46.621 --> 00:13:48.297\nFirewall should be done,\n\n250\n00:13:48.297 --> 00:13:52.651\nall the allowing, if I'm remembering\ncorrectly is all behind us.\n\n251\n00:13:52.651 --> 00:13:56.733\nWe now just start working with\nopen VPN and EZ RSA as well.\n\n252\n00:13:56.733 --> 00:14:00.861\nSo the first thing we're gonna do is\nwe're gonna create keys for the server,\n\n253\n00:14:00.861 --> 00:14:03.158\ncuz that's gonna be a very helpful thing.\n\n254\n00:14:03.158 --> 00:14:07.126\nI basically set up openvpn and\nhave the keys ready for it.\n\n255\n00:14:07.126 --> 00:14:12.082\nSo we need to do is we are in\nthe /etc/openvpn directory which is where\n\n256\n00:14:12.082 --> 00:14:14.603\nyou want to be at this point in time.\n\n257\n00:14:14.603 --> 00:14:22.910\nAnd what we wanna do is we're going\nto copy some stuff in EZ RSA.\n\n258\n00:14:22.910 --> 00:14:27.711\nWhen we installed EZ RSA,\nit installed to usershare EZ RSA.\n\n259\n00:14:27.711 --> 00:14:30.450\nBut I wanna make it easier for\nme to work with, so\n\n260\n00:14:30.450 --> 00:14:32.584\nI'd like to copy it to where I'm at.\n\n261\n00:14:32.584 --> 00:14:36.110\nIt's just a bunch of scripts\nbasically it's what's going on.\n\n262\n00:14:36.110 --> 00:14:39.351\nSo it's not a lot of information,\nit should take no time at all to do that.\n\n263\n00:14:39.351 --> 00:14:43.119\nLet's do that, I'll do a cp\n\n264\n00:14:43.119 --> 00:14:48.143\n-r/user/share/easy-rsa/ and\n\n265\n00:14:48.143 --> 00:14:52.068\nI'm gonna save that to here.\n\n266\n00:14:52.068 --> 00:14:53.590\nThere we go, I do an ls.\n\n267\n00:14:53.590 --> 00:14:57.266\nAnd now I have this lovely,\nEZ RSA directory.\n\n268\n00:14:57.266 --> 00:14:59.931\nSo we're gonna need that.\n\n269\n00:14:59.931 --> 00:15:04.462\nI'm gonna go in there, and I'm gonna,\n\n270\n00:15:04.462 --> 00:15:10.470\nI've wondered about this,\nI created a keys folder.\n\n271\n00:15:10.470 --> 00:15:14.981\nThat would be the next step,\nis we're gonna into EZ RSA and\n\n272\n00:15:14.981 --> 00:15:17.017\nmake there a keys folder.\n\n273\n00:15:17.017 --> 00:15:19.262\nI'm wondering is EZ RSA\nmakes it by default?\n\n274\n00:15:19.262 --> 00:15:22.402\nI had to play with this a couple of\ntimes cuz I was trying to get it set up,\n\n275\n00:15:22.402 --> 00:15:23.681\nand there was one instance,\n\n276\n00:15:23.681 --> 00:15:26.522\nI don't remember creating the keys\nfolder and yet it existed.\n\n277\n00:15:26.522 --> 00:15:29.137\nSo I'm gonna test that theory live on air,\nand\n\n278\n00:15:29.137 --> 00:15:32.103\nhopefully the world doesn't\ncrash down around us.\n\n279\n00:15:32.103 --> 00:15:33.433\n&gt;&gt; What's the worst that could happen?\n\n280\n00:15:33.433 --> 00:15:34.044\nWhat could go wrong?\n\n281\n00:15:34.044 --> 00:15:37.922\n&gt;&gt; If you're like I'm just going to\nleave this out and see what happens.\n\n282\n00:15:37.922 --> 00:15:40.946\nI get this strong feeling even if it\ndoesn't make that keys folder you're\n\n283\n00:15:40.946 --> 00:15:42.177\nprobably gonna be all right.\n\n284\n00:15:42.177 --> 00:15:43.233\n&gt;&gt; Yeah, we'll probably be all right.\n\n285\n00:15:43.233 --> 00:15:46.631\nIt's not the biggest deal on earth but\ntypically I would say go ahead and\n\n286\n00:15:46.631 --> 00:15:48.967\ncreate yours keys folder but\nI want to test that.\n\n287\n00:15:48.967 --> 00:15:54.502\nSo I'm gonna do that so\nI'm gonna skip that step for this second.\n\n288\n00:15:54.502 --> 00:15:58.408\nAll right, let's go into\nEZRSA/EZRSA You look inside of there,\n\n289\n00:15:58.408 --> 00:16:02.870\nthere's all those lovely scripts that\nI was telling you that it comes with,\n\n290\n00:16:02.870 --> 00:16:04.980\nbuild ca, build dh, build inter.\n\n291\n00:16:04.980 --> 00:16:05.910\nA lot of cool stuff.\n\n292\n00:16:05.910 --> 00:16:08.510\nWe're actually gonna play\nwith those as we continue on.\n\n293\n00:16:08.510 --> 00:16:14.301\nBut the first I need us to look\nat is this file called vars.\n\n294\n00:16:14.301 --> 00:16:16.926\nAnd it's basically a flat file\nwith a bunch of variables in it.\n\n295\n00:16:16.926 --> 00:16:21.129\nAnd the cool thing about this is we\ncan manipulate those variables, so\n\n296\n00:16:21.129 --> 00:16:23.970\nthat when we create or generate keys.\n\n297\n00:16:23.970 --> 00:16:27.260\nThe questions that are asked is about\nthose keys are kinda already predefined,\n\n298\n00:16:27.260 --> 00:16:28.700\nand we can accept defaults.\n\n299\n00:16:28.700 --> 00:16:33.950\nAnd quickly make those instead,\nyou don't have to do that, but\n\n300\n00:16:33.950 --> 00:16:37.580\nit makes your life easy especially if you\nare generating a bunch of different keys.\n\n301\n00:16:37.580 --> 00:16:39.880\nAll the defaults are set to\nsomething that you want and\n\n302\n00:16:39.880 --> 00:16:43.280\nnot have to type them in as you go,\nwhich can take more time.\n\n303\n00:16:43.280 --> 00:16:45.690\nSo let's do that,\nwe're gonna vi that vars file.\n\n304\n00:16:47.862 --> 00:16:53.930\nAnd again, just a very well commented file\nfor us with a bunch of cool stuff in here.\n\n305\n00:16:53.930 --> 00:16:57.890\nLet's see, what do we need to\nmake sure that we mess with?\n\n306\n00:16:57.890 --> 00:17:01.341\nWe need to change export key values.\n\n307\n00:17:01.341 --> 00:17:04.313\nWe got Export Easy RSA, Open SSL.\n\n308\n00:17:04.313 --> 00:17:05.430\nLet's look through here.\n\n309\n00:17:05.430 --> 00:17:07.280\nThere's a Key Config value.\n\n310\n00:17:07.280 --> 00:17:08.830\nWe don't need that one.\n\n311\n00:17:08.830 --> 00:17:10.340\nWe don't need that Key Der.\n\n312\n00:17:10.340 --> 00:17:12.150\nThat's good.\n\n313\n00:17:13.300 --> 00:17:19.429\nYou'll notice that it does have that key\nfiles, export KEY_DIR=EASY_RSA/keys.\n\n314\n00:17:19.429 --> 00:17:21.680\nSo it might be looking for\nthat keys value.\n\n315\n00:17:21.680 --> 00:17:23.980\nAgain, we'll probably get\nan error if it doesn't work.\n\n316\n00:17:23.980 --> 00:17:26.060\nIf not, we'll create the keys and\nrerun it.\n\n317\n00:17:26.060 --> 00:17:26.912\nSuper simple.\n\n318\n00:17:26.912 --> 00:17:32.500\nI just like to look through this stuff,\njust to show you guys what it looks like.\n\n319\n00:17:32.500 --> 00:17:35.080\nBut this is the area in which\nwe are looking for, actually.\n\n320\n00:17:35.080 --> 00:17:39.920\nIs this export KEY_COUNTRY,\nexport KEY_PROVINCE, export KEY_CITY or\n\n321\n00:17:39.920 --> 00:17:43.050\nEMAIL, OU, and\nthen one more, the KEY_NAME.\n\n322\n00:17:43.050 --> 00:17:46.060\nThese are the important\nones the right second.\n\n323\n00:17:46.060 --> 00:17:49.800\nWe wanna change that to\nreflect our environment.\n\n324\n00:17:49.800 --> 00:17:51.210\nThat's what I wanna do.\n\n325\n00:17:51.210 --> 00:17:52.870\nI don't actually live in California.\n\n326\n00:17:52.870 --> 00:17:57.560\nSo, I'm going to insert and\ndelete that and say, Florida.\n\n327\n00:17:58.660 --> 00:17:59.820\nI don't live in San Francisco.\n\n328\n00:17:59.820 --> 00:18:02.910\nI don't know that there is\na San Francisco, Florida.\n\n329\n00:18:04.710 --> 00:18:06.270\nIt's in the Gulf, maybe.\n\n330\n00:18:06.270 --> 00:18:07.110\n&gt;&gt; Possibly.\n\n331\n00:18:07.110 --> 00:18:07.890\nYou never know.\n\n332\n00:18:07.890 --> 00:18:08.865\nWe have a Hollywood, Florida.\n\n333\n00:18:08.865 --> 00:18:10.170\n&gt;&gt; We do have a Hollywood, Florida.\n\n334\n00:18:10.170 --> 00:18:11.460\n&gt;&gt; You never know.\n&gt;&gt; That's right.\n\n335\n00:18:11.460 --> 00:18:14.860\nI'm gonna change mine to Gainesville\nthough, cuz we live in Gainesville.\n\n336\n00:18:14.860 --> 00:18:22.827\nI will change this organization to ITPro,\nI'll just do it like this TV.\n\n337\n00:18:24.850 --> 00:18:26.860\nAnd I will set my actual email on there.\n\n338\n00:18:26.860 --> 00:18:28.045\nCuz, why not?\n\n339\n00:18:28.045 --> 00:18:30.021\nYou guys like to send me emails,\ngo for it.\n\n340\n00:18:34.510 --> 00:18:37.311\nAnd the organizational units I will make.\n\n341\n00:18:39.547 --> 00:18:42.661\nI will just call it.\n\n342\n00:18:44.109 --> 00:18:48.590\nServer, like that that's fine,\nyou can make it say whatever you want.\n\n343\n00:18:48.590 --> 00:18:51.250\nI don't have anything specific\nthat I want to put there.\n\n344\n00:18:51.250 --> 00:18:55.130\nBut this export KEY_NAME,\nI do wanna put something specific here and\n\n345\n00:18:55.130 --> 00:18:57.560\nthat is the all lowercase word, server.\n\n346\n00:18:58.880 --> 00:19:03.490\nThe reason why I wanna do that, especially\nif you'll want to do that as well\n\n347\n00:19:03.490 --> 00:19:05.630\nIf you want to easily walk through this,\n\n348\n00:19:05.630 --> 00:19:11.670\nthis is a default that is going to creep\nup on us as we continue down the road.\n\n349\n00:19:11.670 --> 00:19:13.880\nSo I'm just sticking with\ndefaults at this point.\n\n350\n00:19:13.880 --> 00:19:16.660\nYou can name it whatever you like, but\n\n351\n00:19:16.660 --> 00:19:20.110\nkeep that in mind it's gonna affect\nthis as we move down the road, okay?\n\n352\n00:19:20.110 --> 00:19:24.400\nSo if you do change that, you're gonna\nwant to remember that you made that\n\n353\n00:19:24.400 --> 00:19:29.750\nchange, and we'll see that as we\ncontinue on a little bit further.\n\n354\n00:19:29.750 --> 00:19:33.190\nAll right, so that is done,\nwhat else do I need to do?\n\n355\n00:19:34.310 --> 00:19:39.060\nSave and Exit, I think that's all we\nneed right now, Escape, Save and Exit.\n\n356\n00:19:39.060 --> 00:19:43.710\nThere we go, it read the file, and\nnow we need to source that file.\n\n357\n00:19:43.710 --> 00:19:47.250\nAnd that's just the basic\nway to regenerate them,\n\n358\n00:19:47.250 --> 00:19:49.036\nwork that in to the environment.\n\n359\n00:19:49.036 --> 00:19:51.340\nSo that it is current.\n\n360\n00:19:51.340 --> 00:19:54.182\nRight?\nSo it's really easy,\n\n361\n00:19:54.182 --> 00:19:57.360\njust say source./vars.\n\n362\n00:19:57.360 --> 00:20:00.969\nLike that.\nAnd so if you run./clean all While we do\n\n363\n00:20:00.969 --> 00:20:04.680\nan on and\noff as on this keys folder, right?\n\n364\n00:20:04.680 --> 00:20:07.720\nThere's nothing that keys folder\nbecause that keys folder doesn't exist.\n\n365\n00:20:07.720 --> 00:20:14.099\nThat's cool whatever,\nI'll do a ./clean-all.\n\n366\n00:20:14.099 --> 00:20:17.327\nIf you do have the keys folder and\nyou've played with open VP and before and\n\n367\n00:20:17.327 --> 00:20:21.046\nyou're like, yeah, I'm gonna start from\na scratch, but now scratch, scratch.\n\n368\n00:20:21.046 --> 00:20:23.430\nWe don't kinda get some stifling around.\n\n369\n00:20:23.430 --> 00:20:26.300\nThat cleaner will clean all those keys for\nyou.\n\n370\n00:20:26.300 --> 00:20:28.350\nI do, LS, hey look.\n\n371\n00:20:29.370 --> 00:20:30.600\nThere's a keys folder.\n\n372\n00:20:31.720 --> 00:20:33.280\nTest complete.\n\n373\n00:20:33.280 --> 00:20:34.680\nAnd didn't blow up on me, I love that.\n\n374\n00:20:34.680 --> 00:20:36.600\nAll right, what else do we need to do?\n\n375\n00:20:36.600 --> 00:20:39.120\nWe did a clean all.\n\n376\n00:20:39.120 --> 00:20:42.220\nMove forward in my notifications here.\n\n377\n00:20:42.220 --> 00:20:43.370\nThis page is still keep going.\n\n378\n00:20:45.340 --> 00:20:48.890\nAll right, so now it is that portion\nof the proceedings weary actually build\n\n379\n00:20:48.890 --> 00:20:50.270\nthe certificate authority.\n\n380\n00:20:50.270 --> 00:20:50.870\nVery cool stuff.\n\n381\n00:20:50.870 --> 00:20:55.450\nYou'll notice there is\na build-ca script right here.\n\n382\n00:20:55.450 --> 00:20:58.981\nConvenient for us,\nbecause I don't know about you but\n\n383\n00:20:58.981 --> 00:21:02.531\nI probably would be able to\ndo that on the fly by myself.\n\n384\n00:21:02.531 --> 00:21:06.220\n&gt;&gt; Well, luckily I just found out that\nstands for certificate authority and\n\n385\n00:21:06.220 --> 00:21:09.744\nI thought it was like, I though we\nchanged the California [INAUDIBLE]?\n\n386\n00:21:09.744 --> 00:21:13.330\n&gt;&gt; [LAUGH] They're really\nplugging the California for us.\n\n387\n00:21:13.330 --> 00:21:15.910\n&gt;&gt; Yeah.\n&gt;&gt; I can see if you don't know what it is,\n\n388\n00:21:15.910 --> 00:21:17.100\nyou'll be like okay, cool.\n\n389\n00:21:17.100 --> 00:21:17.910\nBut that's what it is.\n\n390\n00:21:17.910 --> 00:21:20.680\nWe're gonna build\nthe certificate authority.\n\n391\n00:21:20.680 --> 00:21:21.870\nSo let's run that.\n\n392\n00:21:23.510 --> 00:21:25.360\nWe set the default in the var so\n\n393\n00:21:25.360 --> 00:21:30.240\nthat when we run the CA, you're gonna\nsee those defaults pop back up.\n\n394\n00:21:30.240 --> 00:21:33.800\nThere's also another very\nimportant thing when you run this.\n\n395\n00:21:33.800 --> 00:21:36.330\nDo not set the challenge password.\n\n396\n00:21:36.330 --> 00:21:39.360\nNot that you can't set a challenge\npassword, but again this is quick and\n\n397\n00:21:39.360 --> 00:21:40.861\ndirty, let's move things along.\n\n398\n00:21:40.861 --> 00:21:43.657\nIf you add a challenge password every\ntime you wanna access these keys,\n\n399\n00:21:43.657 --> 00:21:45.707\nyou're gonna have to enter\na challenge password and\n\n400\n00:21:45.707 --> 00:21:48.330\nthat's all gonna be configured\nbetween the clients and servers.\n\n401\n00:21:48.330 --> 00:21:51.996\nIt just adds a little layer of\ncomplexion that we don't want for\n\n402\n00:21:51.996 --> 00:21:56.670\na quick and easy server get it up and\nrunning, let's start VPN, right?\n\n403\n00:21:56.670 --> 00:21:58.021\nSo leave that off.\n\n404\n00:21:58.021 --> 00:22:02.428\nAs you get better using this,\nyou understand more about the platform,\n\n405\n00:22:02.428 --> 00:22:04.638\nyou can definitely add that later.\n\n406\n00:22:04.638 --> 00:22:09.902\nSo let's do this,\nlet's run that build-ca so\n\n407\n00:22:09.902 --> 00:22:12.937\nI will say ./build-ca.\n\n408\n00:22:12.937 --> 00:22:15.770\nHey look, it says Country Name.\n\n409\n00:22:15.770 --> 00:22:16.728\nEnter US code.\n\n410\n00:22:16.728 --> 00:22:19.195\nI can take the default by hitting Enter,\n\n411\n00:22:19.195 --> 00:22:22.325\nthis says you are writing\na private key to CA.key.\n\n412\n00:22:22.325 --> 00:22:24.325\nThat's a very important thing.\n\n413\n00:22:24.325 --> 00:22:27.740\nYou're gonna need to know that value for\nlater.\n\n414\n00:22:27.740 --> 00:22:29.850\nHey look, State of Providence is Florida.\n\n415\n00:22:29.850 --> 00:22:31.699\nLocality is Gainesville.\n\n416\n00:22:31.699 --> 00:22:33.492\nOrganizational Name is ITProTV.\n\n417\n00:22:33.492 --> 00:22:39.180\nHey look, you're unit name is Server, yep.\n\n418\n00:22:39.180 --> 00:22:45.980\nThe common name for\nyour server is ITProTV CA, that's fine.\n\n419\n00:22:45.980 --> 00:22:49.160\nThe name, remember that's where\nI put server all lowercase.\n\n420\n00:22:49.160 --> 00:22:51.150\nNow you're seeing that here.\n\n421\n00:22:51.150 --> 00:22:52.709\nI wanna hit yes on that.\n\n422\n00:22:52.709 --> 00:22:53.430\nAnd there we go.\n\n423\n00:22:53.430 --> 00:22:55.350\nLooks like the script has.\n\n424\n00:22:55.350 --> 00:22:57.440\nNo, I'm sorry.\nWe're still on email address.\n\n425\n00:22:57.440 --> 00:22:58.730\nAnd now it has run.\n\n426\n00:22:58.730 --> 00:23:02.520\nThat's it, it's very simple,\nnothing to it.\n\n427\n00:23:02.520 --> 00:23:04.290\nWhat else do we need to do here?\n\n428\n00:23:05.560 --> 00:23:07.691\nI think that is about it.\n\n429\n00:23:09.786 --> 00:23:13.500\nIt didn't ask us anything about that\nstuff, so I think we're gravy train.\n\n430\n00:23:13.500 --> 00:23:15.230\nLet me take a look here.\n\n431\n00:23:15.230 --> 00:23:19.257\nLet's look in keys ls keys.\n\n432\n00:23:19.257 --> 00:23:22.025\nAnd now we have some keys in here,\nlook at that ca.key.\n\n433\n00:23:22.025 --> 00:23:25.815\nThere is also the ca.crt that's\nan important thing as well.\n\n434\n00:23:25.815 --> 00:23:29.290\nCuz we're gonna use this,\nthere is a part of this figure authority.\n\n435\n00:23:30.700 --> 00:23:34.730\nSo now we need to build some keys for\nthe server.\n\n436\n00:23:34.730 --> 00:23:37.850\nSo we're gonna use the build key option.\n\n437\n00:23:37.850 --> 00:23:40.910\nSo let's see here,\nactually build key:server.\n\n438\n00:23:40.910 --> 00:23:44.890\nThat's what we wanna do, cuz we're\nbuilding keys for the C server itself.\n\n439\n00:23:46.300 --> 00:23:46.871\nSo let's run that.\n\n440\n00:23:46.871 --> 00:23:52.971\nIt is right here, just so you can see it.\n\n441\n00:23:52.971 --> 00:23:57.636\n./build, B-U-I-L-D /key/server, and\n\n442\n00:23:57.636 --> 00:24:01.750\nthen you're gonna give it the server name.\n\n443\n00:24:01.750 --> 00:24:03.220\nWhat was the server name?\n\n444\n00:24:03.220 --> 00:24:07.330\nKept it simple,\njust all lowercase server for myself.\n\n445\n00:24:07.330 --> 00:24:09.620\nThat's right, server, like so.\n\n446\n00:24:09.620 --> 00:24:13.950\nIf you have named it something different,\nthat would be important here, okay?\n\n447\n00:24:13.950 --> 00:24:14.910\nSo just keep that in mind.\n\n448\n00:24:16.140 --> 00:24:19.820\nI think I can just fire that off,\nand we should be good to go.\n\n449\n00:24:19.820 --> 00:24:23.120\nYeah, let's do that.\n\n450\n00:24:23.120 --> 00:24:25.510\nLuke and I were kinda walking\nthrough the same kinds of defaults.\n\n451\n00:24:25.510 --> 00:24:28.918\nI'm just gonna Next my way through it.\n\n452\n00:24:28.918 --> 00:24:32.145\nNow, this is where it asks\nabout a challenge password.\n\n453\n00:24:32.145 --> 00:24:33.659\nRemember, we don't want one.\n\n454\n00:24:33.659 --> 00:24:35.365\nSo forget that.\n\n455\n00:24:35.365 --> 00:24:38.755\nI'll just hit Enter cuz\nthe default is not to do it.\n\n456\n00:24:38.755 --> 00:24:39.635\nOptional company name.\n\n457\n00:24:39.635 --> 00:24:41.285\nDon't need that either.\n\n458\n00:24:41.285 --> 00:24:45.635\nNow it's asking that the certificate is\n\n459\n00:24:45.635 --> 00:24:49.040\nto be certified until August 2027,\n3,650 days?\n\n460\n00:24:49.040 --> 00:24:52.510\nI think that will cover the time\nin which we need for right now.\n\n461\n00:24:52.510 --> 00:24:55.240\nSo I will say yes to this.\n\n462\n00:24:55.240 --> 00:24:58.050\nAnd it says 1 out of 1\ncertificate requests certified,\n\n463\n00:24:58.050 --> 00:24:59.760\ndo you want me to commit it?\n\n464\n00:24:59.760 --> 00:25:01.240\nYes, I do.\n\n465\n00:25:01.240 --> 00:25:02.500\nKeys are now created.\n\n466\n00:25:02.500 --> 00:25:04.340\nSays 101.\n\n467\n00:25:04.340 --> 00:25:07.330\nWrite out database with one new entries,\nand database was updated.\n\n468\n00:25:07.330 --> 00:25:10.670\nSo now we have our server key\nwhich should be in there.\n\n469\n00:25:10.670 --> 00:25:12.070\nLet's take a look.\n\n470\n00:25:12.070 --> 00:25:13.380\nLet's go into keys.\n\n471\n00:25:14.910 --> 00:25:18.640\nAnd look at that,\nthere's server.csr and server.key.\n\n472\n00:25:18.640 --> 00:25:23.490\nWe also have this server.csr, but we don't\nuse that for this intents and purposes.\n\n473\n00:25:23.490 --> 00:25:27.740\nIt's just a necessary file for the system.\n\n474\n00:25:29.500 --> 00:25:31.100\nOkay, let's see here.\n\n475\n00:25:31.100 --> 00:25:35.079\nWe've got just a couple of other things,\nor just one more thing actually that I\n\n476\n00:25:35.079 --> 00:25:38.350\nwanna do before because, so\nI know we've got very little time.\n\n477\n00:25:38.350 --> 00:25:42.370\nSo, let's do this one thing which\nis create that Diffie-Hellman key.\n\n478\n00:25:42.370 --> 00:25:45.107\nIf you remember back in episode one,\n\n479\n00:25:45.107 --> 00:25:49.803\nwe made sure that that one file\nhad that dh 2048.pen file.\n\n480\n00:25:49.803 --> 00:25:54.270\nThat's what it's gonna be looking for\nin the configuration file, right?\n\n481\n00:25:54.270 --> 00:25:57.530\nWe wanna make sure that that is there and\ncan be used and accessed.\n\n482\n00:25:57.530 --> 00:26:00.380\nSo let me CD back here.\n\n483\n00:26:00.380 --> 00:26:04.000\nAnd you'll notice we have this\nlovely command, build-dh.\n\n484\n00:26:04.000 --> 00:26:07.171\nGuess what that does ladies and gentlemen,\nit creates Diffie-Hellman files.\n\n485\n00:26:07.171 --> 00:26:08.720\nIt'll be a lot of fun, let's do that.\n\n486\n00:26:08.720 --> 00:26:14.770\nAll you have to do is\ndot slash build dash dh.\n\n487\n00:26:14.770 --> 00:26:18.579\nAnd then just specify 2048 like so.\n\n488\n00:26:18.579 --> 00:26:19.128\nFire it off.\n\n489\n00:26:19.128 --> 00:26:24.142\nWhen it says this is going to take\na long time, it's not a ton of time,\n\n490\n00:26:24.142 --> 00:26:28.620\nbut it takes a few minutes,\nmaybe two, three tops, four.\n\n491\n00:26:28.620 --> 00:26:31.390\nDepends on the system\nthat you have running.\n\n492\n00:26:31.390 --> 00:26:34.537\nI think this will take us a few minutes,\nbut\n\n493\n00:26:34.537 --> 00:26:38.742\nonce we are done with that,\nwe're going to be good to go.\n\n494\n00:26:38.742 --> 00:26:42.119\nThat .pen file will be created,\nit'll be sitting in our directory, and\n\n495\n00:26:42.119 --> 00:26:45.508\nwe will have all the files that we need\nfor our public key infrastructure.\n\n496\n00:26:45.508 --> 00:26:47.537\nOur server keys are ready to go, and\n\n497\n00:26:47.537 --> 00:26:51.395\nthen we're going to jump into working\non creating the client keys so\n\n498\n00:26:51.395 --> 00:26:54.790\nthat we can actually have\na client that makes a connection.\n\n499\n00:26:54.790 --> 00:26:58.690\nBut Justin, I think that'll cover us for\nthis episode.\n\n500\n00:26:58.690 --> 00:27:01.280\n&gt;&gt; Well, Daniel,\nyou've definitely taken some pains to,\n\n501\n00:27:01.280 --> 00:27:05.180\nthere's a lot of configuration files\nthat you have to keep track of.\n\n502\n00:27:05.180 --> 00:27:09.270\nNow, these key generations,\nthat Diffie-Hellman dot pin, right?\n\n503\n00:27:09.270 --> 00:27:12.400\nThat's gonna take a little time because\nit is computationally intensive.\n\n504\n00:27:12.400 --> 00:27:14.370\nIt's just turning through some numbers.\n\n505\n00:27:14.370 --> 00:27:18.360\nSo when we come back in Part 3,\nwe're gonna actually start using that,\n\n506\n00:27:18.360 --> 00:27:21.590\nif I'm not mistaken, to, well,\ngenerate those client keys.\n\n507\n00:27:21.590 --> 00:27:24.466\nBut we are out of time for this episode.\n\n508\n00:27:24.466 --> 00:27:25.580\n&gt;&gt; It actually just ended.\n\n509\n00:27:25.580 --> 00:27:26.530\n&gt;&gt; It just ended.\n\n510\n00:27:26.530 --> 00:27:27.540\n&gt;&gt; Just really quickly,\n\n511\n00:27:27.540 --> 00:27:30.360\nlet's show them the pen file\ncuz we're already here, right?\n\n512\n00:27:30.360 --> 00:27:31.030\nWhat the heck?\n\n513\n00:27:31.030 --> 00:27:36.707\nOkay, so yeah, it's done,\nI just wanna show you the file.\n\n514\n00:27:36.707 --> 00:27:37.948\nIt should be in keys.\n\n515\n00:27:39.239 --> 00:27:40.348\nAnd there it is.\n\n516\n00:27:40.348 --> 00:27:43.616\ndhs2840.pen.\n\n517\n00:27:43.616 --> 00:27:45.246\nOkay, now we know it is there.\n\n518\n00:27:45.246 --> 00:27:46.462\nAnd you saw how long it took.\n\n519\n00:27:46.462 --> 00:27:49.886\nI just wanted to kinda chuck that\nin on the very last end, and\n\n520\n00:27:49.886 --> 00:27:52.310\nnow we can close the show, Justin [LAUGH].\n\n521\n00:27:52.310 --> 00:27:57.970\n&gt;&gt; Well, well, those previous things I\nsaid, we're actually already see the 2048,\n\n522\n00:27:57.970 --> 00:28:01.070\nthe Diffie-Hellman file's already created.\n\n523\n00:28:01.070 --> 00:28:04.500\nSo since that's there,\nwe'll be onto client keys in part three.\n\n524\n00:28:04.500 --> 00:28:09.540\nSo definitely join us back for generating\nthose client keys as we install and\n\n525\n00:28:09.540 --> 00:28:12.580\nconfigure our OpenVPN service.\n\n526\n00:28:12.580 --> 00:28:14.568\nBut we are out of time for this episode.\n\n527\n00:28:14.568 --> 00:28:16.783\nSo for now,\nwe're gonna go ahead and sign off.\n\n528\n00:28:16.783 --> 00:28:19.410\nFor ITProTV, I've been your host,\nJustin Dennison.\n\n529\n00:28:19.410 --> 00:28:20.150\n&gt;&gt; And I'm Daniel Lowrie.\n\n530\n00:28:20.150 --> 00:28:21.023\n&gt;&gt; And we'll see you next time.\n\n531\n00:28:21.023 --> 00:28:27.820\n[MUSIC]\n\n532\n00:28:27.820 --> 00:28:31.361\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "228658196"
        },
        {
          "description": "In this episode, Justin and Daniel explore creating and distributing those keys to the client. Daniel demonstrates creating OpenVPN client configurations.",
          "length": "1295",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-3-install_configure_openvpn_in_linux_pt3-080717-PGM.00_21_19_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-3-install_configure_openvpn_in_linux_pt3-080717-PGM.00_21_19_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-3-install_configure_openvpn_in_linux_pt3-080717-PGM.00_21_19_20.Still001-sm.jpg",
          "title": "Install / Configure OpenVPN in Linux Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:02.063\nWelcome to ITProTV, I'm your host.\n\n2\n00:00:02.063 --> 00:00:06.272\n[CROSSTALK]\n\n3\n00:00:06.272 --> 00:00:08.233\n[MUSIC]\n\n4\n00:00:08.233 --> 00:00:11.987\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.987 --> 00:00:15.872\n&gt;&gt; Greetings everyone and welcome to\nanother exciting episode of ITProTV.\n\n6\n00:00:15.872 --> 00:00:19.055\nI'm your host Justin Dennison and\nin today's episode,\n\n7\n00:00:19.055 --> 00:00:23.451\nwe're back with a part three on installing\nand configuring open VPN on Linux.\n\n8\n00:00:23.451 --> 00:00:27.788\nAnd well in part one and two we installed\nactually, the installation is more or\n\n9\n00:00:27.788 --> 00:00:28.990\nless complete.\n\n10\n00:00:28.990 --> 00:00:31.260\nThen we started configuring\nsome of these keys and\n\n11\n00:00:31.260 --> 00:00:34.120\ncertificate authorities and\nwe're gonna continue down that path.\n\n12\n00:00:34.120 --> 00:00:36.795\nAnd luckily we have the man with\nthe plan in the studio today.\n\n13\n00:00:36.795 --> 00:00:37.477\nMr. Daniel Lowrie.\n\n14\n00:00:37.477 --> 00:00:38.490\nHow you doing today, Daniel?\n\n15\n00:00:38.490 --> 00:00:40.100\n&gt;&gt; I'm doing fantastic, Mr. Dennison.\n\n16\n00:00:40.100 --> 00:00:41.930\nI appreciate you having\nme back on the show so\n\n17\n00:00:41.930 --> 00:00:46.300\nthat we can continue with\nthe open VPN tomfoolery.\n\n18\n00:00:46.300 --> 00:00:51.118\nIt is a lot of good time if you've never\nmessed with open VPN before like I had not\n\n19\n00:00:51.118 --> 00:00:54.197\nup to this point,\nI had used other VPN solutions.\n\n20\n00:00:54.197 --> 00:00:58.436\nSo it was an interesting foray into this\nfun little piece of software that is\n\n21\n00:00:58.436 --> 00:01:00.040\navailable for you.\n\n22\n00:01:00.040 --> 00:01:01.280\nI do love free.\n\n23\n00:01:01.280 --> 00:01:02.200\nAnd it is free.\n\n24\n00:01:02.200 --> 00:01:04.550\nFree 99,\nthat's my favorite price on earth.\n\n25\n00:01:04.550 --> 00:01:07.980\nSo if you need a quick and dirty VPN\nsolution, this will work for you.\n\n26\n00:01:07.980 --> 00:01:12.120\nAs Justin said, we set up the certificate\nauthority in the previous shows,\n\n27\n00:01:12.120 --> 00:01:15.280\nwe also generated the key pair for\nthe server.\n\n28\n00:01:15.280 --> 00:01:17.930\nAnd guess what,\nnow we're on to the client side of things.\n\n29\n00:01:17.930 --> 00:01:20.730\nWe're going to set up some client keys and\n\n30\n00:01:20.730 --> 00:01:23.910\ncertificates and\nmove over to the client side of stuff.\n\n31\n00:01:23.910 --> 00:01:27.740\nSo, I'm actually logged into my Ubuntu,\nit's actually Kali Linux, so\n\n32\n00:01:27.740 --> 00:01:29.520\nit's based off of Ubuntu.\n\n33\n00:01:29.520 --> 00:01:31.412\nThat's what's gonna be our client for\ntoday.\n\n34\n00:01:31.412 --> 00:01:33.480\nAnd then we're gonna log\nback in to the server.\n\n35\n00:01:33.480 --> 00:01:34.580\nWe're gonna generate those keys.\n\n36\n00:01:34.580 --> 00:01:38.324\nThen, we're gonna securely copy\nthose keys over to our client.\n\n37\n00:01:38.324 --> 00:01:41.400\nUsing secure copy,\nthat's gonna be a lot of fun.\n\n38\n00:01:41.400 --> 00:01:45.510\nAnd then ultimately make some\nconfiguration changes to a config file for\n\n39\n00:01:45.510 --> 00:01:48.600\nthe client so\nthat we can make that open VPN connection.\n\n40\n00:01:48.600 --> 00:01:50.230\nThat's what's on the agenda.\n\n41\n00:01:50.230 --> 00:01:53.660\nSo that being said, strap in and let's go.\n\n42\n00:01:53.660 --> 00:01:55.710\nLet's go ahead and\njump into my computer really quickly.\n\n43\n00:01:55.710 --> 00:02:00.252\nI've already got the command pulled up for\nme to log into or\n\n44\n00:02:00.252 --> 00:02:02.673\nSSH into my AWS Ubuntu server.\n\n45\n00:02:02.673 --> 00:02:06.020\nJust so you don't have to watch me\ntry to fumble with the IP addresses,\n\n46\n00:02:06.020 --> 00:02:08.257\nbecause I don't know it\noff the top of my head.\n\n47\n00:02:08.257 --> 00:02:11.211\nRemember, if you don't pay for\na static IP in AWS,\n\n48\n00:02:11.211 --> 00:02:15.060\nany time you reboot it,\nwhich I did do this weekend.\n\n49\n00:02:15.060 --> 00:02:19.920\nIf you may be watching during our\nweekend time or not that's fine.\n\n50\n00:02:19.920 --> 00:02:23.448\nBut if you reboot it you'll get\na different IP most likely.\n\n51\n00:02:23.448 --> 00:02:27.300\nSo I have to log in with a new IP\nevery time, it's a lot of fun.\n\n52\n00:02:27.300 --> 00:02:30.200\nSo we'll log in and there we go.\n\n53\n00:02:30.200 --> 00:02:31.200\nI am in there.\n\n54\n00:02:31.200 --> 00:02:32.970\nSystem restore require\nwe'll let this happen.\n\n55\n00:02:32.970 --> 00:02:34.340\nBut I'm not gonna worry\nabout it right now.\n\n56\n00:02:34.340 --> 00:02:35.000\nWe're just gonna move in.\n\n57\n00:02:35.000 --> 00:02:36.770\nI'm gonna clear the screen.\n\n58\n00:02:36.770 --> 00:02:39.242\nAnd I'm going to cd into /etc.\n\n59\n00:02:39.242 --> 00:02:44.131\nRemember this is our open VPN.\n\n60\n00:02:44.131 --> 00:02:48.362\nThis is our fun good time place where\nwe have all of our stuff just kind of\n\n61\n00:02:48.362 --> 00:02:52.370\nhappening here in this etc open\nVPN area of my Ubuntu server.\n\n62\n00:02:52.370 --> 00:02:53.408\nLet's do an OS real quick.\n\n63\n00:02:53.408 --> 00:02:59.810\nRemember easy-rsa was the scripts\nthat we downloaded so that we can\n\n64\n00:02:59.810 --> 00:03:04.010\nbuild the keys and build the server for\nthe CA and a bunch of other stuff as well.\n\n65\n00:03:04.010 --> 00:03:06.380\nSo as you get better at this,\n\n66\n00:03:06.380 --> 00:03:10.790\nother options will also be\navailable to you with easy-rsa.\n\n67\n00:03:10.790 --> 00:03:13.703\nSo let's go ahead and move into easy-rsa.\n\n68\n00:03:15.647 --> 00:03:20.404\nAnd you'll remember we have our\nkeys folder right there that\n\n69\n00:03:20.404 --> 00:03:22.370\nwas luckily made for me.\n\n70\n00:03:22.370 --> 00:03:25.240\nI didn't have to actually\ngenerate that directory.\n\n71\n00:03:25.240 --> 00:03:27.420\nSo I can move into there, cd keys.\n\n72\n00:03:29.550 --> 00:03:31.890\nAnd you'll get the permission denied.\n\n73\n00:03:31.890 --> 00:03:34.030\nThat's a good thing, security.\n\n74\n00:03:34.030 --> 00:03:36.653\nWhy?\nBecause well, these are keys,\n\n75\n00:03:36.653 --> 00:03:38.280\nthese are important.\n\n76\n00:03:38.280 --> 00:03:43.390\nIf you have these keys,\nyou could log into my open VPN server and\n\n77\n00:03:43.390 --> 00:03:44.700\nit wouldn't balk at you.\n\n78\n00:03:44.700 --> 00:03:46.460\nCuz we're gonna use those.\n\n79\n00:03:46.460 --> 00:03:49.220\nSo you wanna keep those under lock and\nkey.\n\n80\n00:03:49.220 --> 00:03:53.730\nJust like I did before, I'm gonna SU\nbecause I'm gonna be doing a lot of\n\n81\n00:03:53.730 --> 00:03:56.700\nadministrative tasks and\nI don't want to have to sudo\n\n82\n00:03:56.700 --> 00:04:00.110\nevery last command every last command\nI throw at it and forget to do that.\n\n83\n00:04:00.110 --> 00:04:04.339\nSo I'm gonna sudo or SU right here and\ntype in my password.\n\n84\n00:04:06.993 --> 00:04:09.110\nHopefully I can do that,\nwhich I did very well actually.\n\n85\n00:04:09.110 --> 00:04:11.440\nIt's only 25 characters so [LAUGH].\n\n86\n00:04:11.440 --> 00:04:13.230\nIt's a lot of good time there.\n\n87\n00:04:13.230 --> 00:04:16.020\nAll right,\nlet's go back into that keys folder.\n\n88\n00:04:16.020 --> 00:04:18.010\nThere we go, no more problems,\nand there's all our keys.\n\n89\n00:04:18.010 --> 00:04:23.091\nAnd remember, we also, the last thing\nwe did was make that dh2048.tem file.\n\n90\n00:04:23.091 --> 00:04:27.440\nThat's also important thing that we're\nprobably going to need very shortly.\n\n91\n00:04:27.440 --> 00:04:30.480\nAll right,\nnow let's set up our client key.\n\n92\n00:04:30.480 --> 00:04:35.320\nSo I'm gonna back out of here if I can,\nthere we go.\n\n93\n00:04:35.320 --> 00:04:41.160\nAnd we are going to use the build-key,\nand we're gonna use clients.\n\n94\n00:04:41.160 --> 00:04:46.415\nSo there we go, we got build-key,\nthat's the script we're gonna use,\n\n95\n00:04:46.415 --> 00:04:50.590\n/build-key.\n\n96\n00:04:50.590 --> 00:04:52.480\nAnd just type in the word client,\nlike that.\n\n97\n00:04:52.480 --> 00:04:53.410\nSo it's letting you know.\n\n98\n00:04:53.410 --> 00:04:55.990\nJust like we did with Server,\nremember, we're naming this,\n\n99\n00:04:55.990 --> 00:04:59.494\nthis is what's gonna basically generate,\nit's gonna be client.whatever,\n\n100\n00:04:59.494 --> 00:05:03.260\nclient.this, so you're giving it the name\nof what you're expecting to connect with.\n\n101\n00:05:03.260 --> 00:05:09.400\nI'm gonna hit client, this is just easy,\nand let's see here, Build client keys.\n\n102\n00:05:09.400 --> 00:05:10.350\nPlease edit the vars script.\n\n103\n00:05:10.350 --> 00:05:11.200\nIt'll affect your connection.\n\n104\n00:05:11.200 --> 00:05:12.340\nWhich we already did do.\n\n105\n00:05:12.340 --> 00:05:17.140\nIf you do get this,\nwe can just do that clean all and\n\n106\n00:05:17.140 --> 00:05:19.040\nthat should help us out here.\n\n107\n00:05:20.260 --> 00:05:23.470\nNext start with pk actives and\ndelete any previous certificates and\n\n108\n00:05:23.470 --> 00:05:24.660\nkeys run clean all.\n\n109\n00:05:24.660 --> 00:05:28.030\nFinally you can run this PKI\ntool to build certificate keys.\n\n110\n00:05:28.030 --> 00:05:30.900\nJust want to look in that keys folder,\nreal quick.\n\n111\n00:05:30.900 --> 00:05:33.106\nHopefully it doesn't smoke it.\n\n112\n00:05:33.106 --> 00:05:36.950\n[LAUGH] Didn't I get.\n\n113\n00:05:39.090 --> 00:05:43.540\nSo let's try it again here,\n./build, yeah, I'm sorry.\n\n114\n00:05:45.990 --> 00:05:51.356\nI'm hesitant to run that clean\nkeys because I'm sorry the-\n\n115\n00:05:51.356 --> 00:05:52.140\n&gt;&gt; Hey Daniel.\n\n116\n00:05:52.140 --> 00:05:52.820\n&gt;&gt; Yes, sir.\n\n117\n00:05:52.820 --> 00:05:57.920\n&gt;&gt; Just out of curiosity if you rebooted\nthis, don't we have to resource that vars?\n\n118\n00:05:57.920 --> 00:06:00.440\n&gt;&gt; Yeah,\nthat's probably what it's balking about.\n\n119\n00:06:00.440 --> 00:06:03.110\nI just wanted to make\nsure that no tomfoolery\n\n120\n00:06:03.110 --> 00:06:04.840\nwas occurring before I moved in there.\n\n121\n00:06:04.840 --> 00:06:07.420\nYou want to be careful, I don't want\nto undo the work we've already done.\n\n122\n00:06:07.420 --> 00:06:09.495\nBut yes, that is the path that I'm on.\n\n123\n00:06:09.495 --> 00:06:13.850\nA lot of times you just need to remember\nwe ran source back in one of our previous\n\n124\n00:06:13.850 --> 00:06:18.339\nepisodes and that kind of verifies that\nall that stuff inside that vars folder is\n\n125\n00:06:18.339 --> 00:06:20.870\navailable for\nthe student to be able to use.\n\n126\n00:06:20.870 --> 00:06:23.068\nSo that's what we're gonna do,\nwe're gonna run that.\n\n127\n00:06:23.068 --> 00:06:24.776\nYou gotta put source first, it does help.\n\n128\n00:06:24.776 --> 00:06:31.370\nSource./vars, there we go.\n\n129\n00:06:32.520 --> 00:06:35.850\nAnd now let's see if we\ncan run that build-key.\n\n130\n00:06:35.850 --> 00:06:38.800\nI cannot type build to save my life.\n\n131\n00:06:38.800 --> 00:06:40.480\nKey client, see if it can.\n\n132\n00:06:40.480 --> 00:06:41.690\nYeah, there we go.\n\n133\n00:06:41.690 --> 00:06:42.940\nAgain, we've seen this, right?\n\n134\n00:06:42.940 --> 00:06:46.734\nThis is going to be the lovely good time\nwhere we set all those defaults, and\n\n135\n00:06:46.734 --> 00:06:48.856\nyou just get to enter your way through it.\n\n136\n00:06:48.856 --> 00:06:50.950\nSo return, return,\nFlorida, Gainesville, yep.\n\n137\n00:06:50.950 --> 00:06:51.470\nITProTV.\n\n138\n00:06:51.470 --> 00:06:53.239\nThis is for server.\n\n139\n00:06:53.239 --> 00:06:55.320\nThis is called client.\n\n140\n00:06:55.320 --> 00:06:56.040\nThat's all good.\n\n141\n00:06:56.040 --> 00:06:58.646\nThe name of the server is server,\nso we're gonna go with that.\n\n142\n00:06:58.646 --> 00:07:00.200\nEmail address.\n\n143\n00:07:00.200 --> 00:07:01.511\nAsking about the challenge pass.\n\n144\n00:07:01.511 --> 00:07:04.080\nRemember, you can choose to do this.\n\n145\n00:07:04.080 --> 00:07:06.090\nIf you wanna do it easy and\nyou don't want any problems,\n\n146\n00:07:06.090 --> 00:07:08.060\nthat's gonna be a negative on that.\n\n147\n00:07:08.060 --> 00:07:10.710\nLeave the company name blank.\n\n148\n00:07:10.710 --> 00:07:13.140\nAsk if you want to certify this.\n\n149\n00:07:13.140 --> 00:07:13.680\nYes I do.\n\n150\n00:07:13.680 --> 00:07:18.450\nAnd then, one out of one\ncertificates request certified.\n\n151\n00:07:18.450 --> 00:07:20.170\nCommit, yes.\n\n152\n00:07:20.170 --> 00:07:20.980\nThere we go.\n\n153\n00:07:20.980 --> 00:07:24.130\nNow we should have some new client keys.\n\n154\n00:07:24.130 --> 00:07:26.150\nSo that should be in our keys folder.\n\n155\n00:07:27.590 --> 00:07:28.690\nAnd now, there we go.\n\n156\n00:07:28.690 --> 00:07:30.698\nThere's clients.crt.\n\n157\n00:07:30.698 --> 00:07:33.445\nThere's client.csr.\n\n158\n00:07:33.445 --> 00:07:35.471\nAnd client.key.\n\n159\n00:07:35.471 --> 00:07:40.240\nAnd that's the keys that we need so that\nwe can actually get a client configured.\n\n160\n00:07:40.240 --> 00:07:44.550\nWe're gonna give those over to our main\nman, our client, whatever that may be.\n\n161\n00:07:44.550 --> 00:07:48.150\nToday it's our Ubuntu client as well.\n\n162\n00:07:48.150 --> 00:07:49.769\nMy colleague, client.\n\n163\n00:07:49.769 --> 00:07:52.729\nAll right,\nthe next thing we need to do is make a new\n\n164\n00:07:52.729 --> 00:07:56.406\ndirectory to manage client keys and\nthe configuration file.\n\n165\n00:07:56.406 --> 00:08:01.076\nWell, so Remember this is all\nunder lock and key, pun intended.\n\n166\n00:08:01.076 --> 00:08:04.574\nWe're gonna move our client keys, and\n\n167\n00:08:04.574 --> 00:08:09.348\nmaybe another thing,\nthe ca.crt, I think, file.\n\n168\n00:08:09.348 --> 00:08:14.060\nWe're gonna move the client csr,\nthe client crt, and\n\n169\n00:08:14.060 --> 00:08:18.960\nthe client.key to a new directory\nthat we're going to create right now.\n\n170\n00:08:18.960 --> 00:08:24.196\nI'm just going to mkdir, and I'm going to\n\n171\n00:08:24.196 --> 00:08:30.312\nsay /home/ubuntu/, we'll just call it vpn.\n\n172\n00:08:30.312 --> 00:08:31.266\nI don't know if I already created this.\n\n173\n00:08:31.266 --> 00:08:34.303\nLet me make sure it's not already there.\n\n174\n00:08:34.303 --> 00:08:40.540\nls /home/ubuntu,\nthere's nothing there, good.\n\n175\n00:08:40.540 --> 00:08:42.090\nIt's all brand new, ready to go.\n\n176\n00:08:42.090 --> 00:08:45.590\nI didn't leave any remnants around for\nmy preparing for\n\n177\n00:08:45.590 --> 00:08:50.170\nthe show,\nI don't wanna step on myself here.\n\n178\n00:08:50.170 --> 00:08:53.980\nSo I'm just gonna mkdir /home/ubuntu, and\n\n179\n00:08:53.980 --> 00:08:57.944\nI'm just gonna call it VPN_client_files.\n\n180\n00:08:59.220 --> 00:09:01.300\nThere we go, so\nnow I've got the new directory there.\n\n181\n00:09:01.300 --> 00:09:04.560\nI should be able to rerun that LS and\nthere we go.\n\n182\n00:09:04.560 --> 00:09:06.140\nThere's my VPN client files.\n\n183\n00:09:06.140 --> 00:09:11.410\nAll right,\nnext thing we need to do is copy those\n\n184\n00:09:11.410 --> 00:09:14.070\nover those client's keys\nthat we just created.\n\n185\n00:09:14.070 --> 00:09:16.280\nLet's copy them to that new directory.\n\n186\n00:09:16.280 --> 00:09:21.800\nSo I'm going to say cp\nclients.crt clients.key.\n\n187\n00:09:21.800 --> 00:09:26.720\nThat's the only one we actually need.\n\n188\n00:09:26.720 --> 00:09:27.990\nSo I'll leave it at that.\n\n189\n00:09:27.990 --> 00:09:30.059\nIf not, we'll come back and\nwe'll get the rest of it.\n\n190\n00:09:30.059 --> 00:09:33.080\nNow we're gonna copy the /home/ubuntu.\n\n191\n00:09:33.080 --> 00:09:38.300\n&gt;&gt; Before you move too much further it's,\nisn't that a dock key?\n\n192\n00:09:38.300 --> 00:09:41.300\n&gt;&gt; Thank you, sir, yeah extra pair\nof eyes never hurt nobody, does it?\n\n193\n00:09:41.300 --> 00:09:46.480\n&gt;&gt; Yeah, pair programming definitely keep\nyou from having lots of frustration.\n\n194\n00:09:46.480 --> 00:09:48.447\n&gt;&gt; Have you ever forgotten a character,\nJustin?\n\n195\n00:09:48.447 --> 00:09:49.350\n&gt;&gt; [LAUGH] Never.\n\n196\n00:09:49.350 --> 00:09:50.280\n&gt;&gt; Never happened.\n\n197\n00:09:50.280 --> 00:09:52.660\nNo, we don't do that here on the show,\nnope.\n\n198\n00:09:52.660 --> 00:09:55.010\nThat is real life, ladies and gentlemen.\n\n199\n00:09:55.010 --> 00:09:56.370\nVPN Client.\n\n200\n00:09:56.370 --> 00:10:00.500\nThere we go, copy those there.\n\n201\n00:10:00.500 --> 00:10:01.510\nLS that directory again.\n\n202\n00:10:01.510 --> 00:10:06.010\nI'll just use mine\n[INAUDIBLE] just to verify.\n\n203\n00:10:06.010 --> 00:10:07.460\nThey're copied, there they are.\n\n204\n00:10:07.460 --> 00:10:11.140\nEverything's looking good so\nfar, I'm liking what I see.\n\n205\n00:10:12.140 --> 00:10:14.010\nAll right, now we need to copy.\n\n206\n00:10:15.290 --> 00:10:17.180\nThe client config, right?\n\n207\n00:10:17.180 --> 00:10:21.810\nSo just kind of like how we did\nthe server configuration we had\n\n208\n00:10:21.810 --> 00:10:25.410\nbasically a template file,\nand a sample file,\n\n209\n00:10:25.410 --> 00:10:29.360\nthat all we had to was modify for\nour own ends and name it whatever we like.\n\n210\n00:10:29.360 --> 00:10:33.519\nGonna kind of do the same thing here\nwith the client configuration here.\n\n211\n00:10:35.440 --> 00:10:40.400\nSo, let's go ahead and\njust copy it from where it exists.\n\n212\n00:10:40.400 --> 00:10:49.719\nAnd we'll say,\ncp/user/share/doc/openvpnvpn/examples.\n\n213\n00:10:49.719 --> 00:10:54.835\nAnd it is sample/configfiles.\n\n214\n00:10:54.835 --> 00:11:00.510\n/client.conf.\n\n215\n00:11:00.510 --> 00:11:08.240\nAnd we are going to move it to our open\nvpn area cuz we're gonna copy that over.\n\n216\n00:11:08.240 --> 00:11:10.590\n[COUGH] Excuse me.\n\n217\n00:11:10.590 --> 00:11:15.395\nWe're gonna move that to\nhome/ubuntu/VPN_client_Files and\n\n218\n00:11:15.395 --> 00:11:18.406\nwe're gonna rename it to client.ovpn.\n\n219\n00:11:18.406 --> 00:11:23.870\nSo gotta love Linux, you just tell it\n\n220\n00:11:24.930 --> 00:11:29.250\na file name or file extension and it says\nokay sounds good to me I'll go with that.\n\n221\n00:11:29.250 --> 00:11:32.930\nSo what I'm gonna do, ovpn files what\nis gonna help us do the connection.\n\n222\n00:11:32.930 --> 00:11:36.980\nSo when we're on the client and\nwe try to connect to the open VPN server,\n\n223\n00:11:36.980 --> 00:11:40.850\nit's gonna actually be looking for\nthat type of extension, not dot com.\n\n224\n00:11:40.850 --> 00:11:42.970\nSo it's easy enough for\nus to just go ahead and\n\n225\n00:11:42.970 --> 00:11:44.310\nrename that when we do the company.\n\n226\n00:11:44.310 --> 00:11:46.230\nThis is what we're doing.\n\n227\n00:11:46.230 --> 00:11:47.670\nAll right, that should be good.\n\n228\n00:11:47.670 --> 00:11:48.380\nLet's go ahead and\n\n229\n00:11:48.380 --> 00:11:53.470\nverify that made its lovely little self\nthere which you did climb that OVPN.\n\n230\n00:11:53.470 --> 00:11:55.099\nWe are moving along very nicely.\n\n231\n00:11:56.530 --> 00:11:59.760\nAll right, so the next thing to do,\nlet me switch out my notes here,\n\n232\n00:11:59.760 --> 00:12:02.450\nget to where I follow along\nin my own charts here.\n\n233\n00:12:02.450 --> 00:12:05.320\n&gt;&gt; Now Dan, real quick question.\n\n234\n00:12:05.320 --> 00:12:10.520\nYou said that the .ovpn was something\nthat the actual client's looking for,\n\n235\n00:12:10.520 --> 00:12:14.270\nthe connection maker, whatever that\npiece of software ends up being.\n\n236\n00:12:14.270 --> 00:12:15.510\n&gt;&gt; Open VPN.\n&gt;&gt; Open VPN, so\n\n237\n00:12:15.510 --> 00:12:18.630\nit's looking for .ovpn\n&gt;&gt; Are we restricted to that?\n\n238\n00:12:18.630 --> 00:12:20.640\nIs there any way that,\ndo we have to use that?\n\n239\n00:12:20.640 --> 00:12:23.630\nOr is there some flag that\nallows us to change that?\n\n240\n00:12:23.630 --> 00:12:25.920\nOr would you recommend against that?\n\n241\n00:12:25.920 --> 00:12:28.175\n&gt;&gt; As far as I know it's looking for\n\n242\n00:12:28.175 --> 00:12:32.200\n.OPM files that's basically\nconfiguration connection of file.\n\n243\n00:12:32.200 --> 00:12:36.390\nSo I don't know that if I threw a .com on\nthis, I don't have enough experience with\n\n244\n00:12:36.390 --> 00:12:39.320\nVPN to be able to answer\nthat question thoroughly.\n\n245\n00:12:39.320 --> 00:12:42.690\nBut you know what the cool thing is\nabout computers is you can try and\n\n246\n00:12:42.690 --> 00:12:43.750\nsee what happens.\n\n247\n00:12:43.750 --> 00:12:44.420\nI'm not gonna do that for\n\n248\n00:12:44.420 --> 00:12:47.760\nthe show, because I just wanna\nmove on swimmingly and amicably.\n\n249\n00:12:47.760 --> 00:12:51.397\nBut if you're out there and you're like,\nhey, let me just run this on the flack,\n\n250\n00:12:51.397 --> 00:12:52.730\nsee if it happens, go ahead.\n\n251\n00:12:52.730 --> 00:12:54.200\nIt's not going to hurt anything.\n\n252\n00:12:54.200 --> 00:12:57.550\nAll it can do is say, I don't know\nwhat that file is, you crazy man.\n\n253\n00:12:57.550 --> 00:13:00.690\nI'm looking for OVPN files, you nut.\n\n254\n00:13:00.690 --> 00:13:01.430\nSo, there you go.\n\n255\n00:13:01.430 --> 00:13:02.170\nPlay around with it.\n\n256\n00:13:02.170 --> 00:13:05.070\nDon't be afraid of breaking things.\n\n257\n00:13:05.070 --> 00:13:05.850\nThe great thing is,\n\n258\n00:13:05.850 --> 00:13:08.780\nis while you're learing you need to kind\nof fumble your way through stuff that\n\n259\n00:13:08.780 --> 00:13:12.100\nhelps you really solidify\nthe knowledge that you're taking in.\n\n260\n00:13:12.100 --> 00:13:14.750\nYou know what not to do\nas well as what to do.\n\n261\n00:13:14.750 --> 00:13:16.460\nRight?\nSo, there you go.\n\n262\n00:13:16.460 --> 00:13:18.520\nAlright, so we got that copied over.\n\n263\n00:13:18.520 --> 00:13:23.760\nOur next thing to do is yeah,\nwe need to copy that ca.crt our\n\n264\n00:13:23.760 --> 00:13:28.710\ncertificate authority\ncertificate into this as well.\n\n265\n00:13:28.710 --> 00:13:32.750\nSo let me back alley this ezrsa and\n\n266\n00:13:32.750 --> 00:13:36.500\nthis CA resides in, was it in keys?\n\n267\n00:13:36.500 --> 00:13:37.490\nI think it was keys.\n\n268\n00:13:37.490 --> 00:13:39.030\nI went out of there.\n\n269\n00:13:39.030 --> 00:13:44.260\nLet me go back in and see the keys.\n\n270\n00:13:44.260 --> 00:13:45.860\nYep, there it is.\n\n271\n00:13:45.860 --> 00:13:51.500\nSo let's copy CA.crt and I think,\n\n272\n00:13:51.500 --> 00:13:56.110\nyeah, /home /ubuntu/VPN_client_files/.\n\n273\n00:13:56.110 --> 00:13:59.290\nThere we go, little copy there.\n\n274\n00:13:59.290 --> 00:14:03.860\nAnd then of course as we love to do\nverify that that actually exists.\n\n275\n00:14:05.150 --> 00:14:07.940\nAll of our verification, there it is.\n\n276\n00:14:07.940 --> 00:14:10.240\nGood gravy, we're on our way.\n\n277\n00:14:10.240 --> 00:14:14.380\nOkay, so the next thing we need to do is\nnow that we have all the files that we\n\n278\n00:14:14.380 --> 00:14:18.500\nneed In the directory that\nwe need on the server.\n\n279\n00:14:18.500 --> 00:14:22.180\nWe need to now securely\ntransfer these to our client.\n\n280\n00:14:22.180 --> 00:14:26.090\nAnd I cannot emphasize\nthe word securely enough.\n\n281\n00:14:26.090 --> 00:14:31.920\nIt's very, very important that you use\nsome secure form of transfer methods,\n\n282\n00:14:31.920 --> 00:14:37.550\nwhether this be go crazy and actually like\n\n283\n00:14:37.550 --> 00:14:41.970\nuse pgp encryption and\nput it on a disk and\n\n284\n00:14:41.970 --> 00:14:47.280\ntransfer through a sneaker net\nfrom one server to the client or\n\n285\n00:14:47.280 --> 00:14:51.000\nuse some sort of encrypted\ntransfer method HTTPS.\n\n286\n00:14:51.000 --> 00:14:53.480\nI like secure copy.\n\n287\n00:14:53.480 --> 00:14:57.530\nIt's nice and encrypted,\nshould be good to go.\n\n288\n00:14:57.530 --> 00:14:59.160\nJust be careful with these things.\n\n289\n00:14:59.160 --> 00:15:01.520\nDo not allow the public\nto have access to them.\n\n290\n00:15:01.520 --> 00:15:03.840\nSo it's very important that\nyou don't just FTP it or\n\n291\n00:15:03.840 --> 00:15:07.670\nthrough some clear text\nmeans transfer these files.\n\n292\n00:15:07.670 --> 00:15:11.560\nThat is just begging for exploitation.\n\n293\n00:15:11.560 --> 00:15:14.420\nThere is my warning you have been warned.\n\n294\n00:15:14.420 --> 00:15:16.610\nI'm gonna use secure copy so\nlet's do that.\n\n295\n00:15:16.610 --> 00:15:21.240\nSo I'm gonna go to my client which is\nthis but I wanna, let me pop down here,\n\n296\n00:15:21.240 --> 00:15:25.010\nI'll start a new terminal, there we go and\n\n297\n00:15:25.010 --> 00:15:29.600\nI'll get it to some form of size\nthat we can use on the show here.\n\n298\n00:15:29.600 --> 00:15:32.480\nPeople can see this is kind of important.\n\n299\n00:15:32.480 --> 00:15:37.628\nSo here we go, SCP-I I say dash\nI because I'm using my AWS\n\n300\n00:15:37.628 --> 00:15:43.638\ncredentials which is a .pin file\nwhich is a private key to make this\n\n301\n00:15:43.638 --> 00:15:49.679\nsecure copy connection,\nit's basically a part of the SSH Sweet.\n\n302\n00:15:49.679 --> 00:15:54.010\nSo if you have SSH installed this\nshould also be installed as well.\n\n303\n00:15:54.010 --> 00:15:55.469\nSo, mine is called.\n\n304\n00:15:55.469 --> 00:15:57.930\nI gotta move into the correct\ndirectory where that thing exists.\n\n305\n00:15:59.190 --> 00:16:00.577\nAnd I am starting to,yeah, there we go.\n\n306\n00:16:00.577 --> 00:16:01.889\nSo you can clear that.\n\n307\n00:16:01.889 --> 00:16:03.855\nLet's try this again.\n\n308\n00:16:03.855 --> 00:16:08.008\nSSP-I.\nThis is my keep here that I created when\n\n309\n00:16:08.008 --> 00:16:11.344\nI created my Ubuntu server in AWS.\n\n310\n00:16:11.344 --> 00:16:14.240\nIt will ask you to create keys.\n\n311\n00:16:14.240 --> 00:16:16.360\nIf you have done that before.\n\n312\n00:16:16.360 --> 00:16:20.287\nAnd then I will use the Ubuntu at and\n\n313\n00:16:20.287 --> 00:16:27.476\nthere's where I need that lovely,\nlovely, where is that at?\n\n314\n00:16:27.476 --> 00:16:33.863\nHere we go, 34.224.216.72.\n\n315\n00:16:33.863 --> 00:16:38.110\nSo 34.224.\n\n316\n00:16:38.110 --> 00:16:43.897\n216.72, I'm horrible at remembering,\n16.72, there we go.\n\n317\n00:16:43.897 --> 00:16:47.695\nYou can come here, okay,\nit's VMware going crazy.\n\n318\n00:16:47.695 --> 00:16:53.120\nAll right, and then we just add a little\nbit of, we're gonna need a colon here.\n\n319\n00:16:53.120 --> 00:16:55.470\nThis is how this works, and\njust tell it where to go.\n\n320\n00:16:55.470 --> 00:16:58.150\nIt defaults to the home directory.\n\n321\n00:16:58.150 --> 00:17:00.130\nOf the user that you're logging in with.\n\n322\n00:17:00.130 --> 00:17:03.600\nSo that would be /home/ubuntu so\nI don't need to add that.\n\n323\n00:17:03.600 --> 00:17:06.450\nThat colon lets it know that here's\nwhat I'm starting to look for,\n\n324\n00:17:06.450 --> 00:17:08.660\nwhatever file I'm going to download.\n\n325\n00:17:08.660 --> 00:17:11.990\nIs there a directory, is it in the home\ndirectory that I'm already looking at?\n\n326\n00:17:11.990 --> 00:17:14.310\nSo there you go, pretty simple.\n\n327\n00:17:14.310 --> 00:17:16.525\nSo all I need to do is say\n\n328\n00:17:16.525 --> 00:17:26.050\n/VPN_client_files.\n\n329\n00:17:26.050 --> 00:17:27.050\nLike that.\n\n330\n00:17:27.050 --> 00:17:31.250\nAnd then since I think everything there,\nlet's verify that,\n\n331\n00:17:31.250 --> 00:17:33.290\neverything there starts with a C.\n\n332\n00:17:33.290 --> 00:17:34.480\nC, C, C, yeah.\n\n333\n00:17:34.480 --> 00:17:37.140\nI'll just do a C dot star.\n\n334\n00:17:37.140 --> 00:17:39.050\nAnd that will save me a lot of typing.\n\n335\n00:17:40.120 --> 00:17:42.660\nJust c* like so, very simple.\n\n336\n00:17:42.660 --> 00:17:45.370\nAll right, so\nlet's go ahead and hit return.\n\n337\n00:17:45.370 --> 00:17:47.464\nSee if we got, we got a little issue here.\n\n338\n00:17:47.464 --> 00:17:49.067\nWhat did I do wrong?\n\n339\n00:17:49.067 --> 00:17:54.350\ncp dash dada dada da,\nand my client is good.\n\n340\n00:17:54.350 --> 00:17:57.280\nI probably need to sudo this.\n\n341\n00:17:57.280 --> 00:17:58.130\nSo I'll just do Sudo.\n\n342\n00:17:58.130 --> 00:18:00.805\nHere's a little quick trick for you.\n\n343\n00:18:00.805 --> 00:18:06.829\n[SOUND] No it doesn't\nlike something I've done.\n\n344\n00:18:06.829 --> 00:18:09.180\n&gt;&gt; Hey, Daniel,\nI think I see what the problem is.\n\n345\n00:18:09.180 --> 00:18:12.050\nDon't you need a destination\nduring that SCP command?\n\n346\n00:18:12.050 --> 00:18:13.130\n&gt;&gt; You know what Justin?\n\n347\n00:18:13.130 --> 00:18:14.660\nI think you maybe right.\n\n348\n00:18:14.660 --> 00:18:19.380\nWhen you're following your notes, things\ndo tend to get cut off from time to time.\n\n349\n00:18:19.380 --> 00:18:22.890\nAnd all you have to do is put a dot\nto let you know this is where I want\n\n350\n00:18:22.890 --> 00:18:23.760\nto download these files.\n\n351\n00:18:23.760 --> 00:18:26.420\nAnd I was forgetting that because\nI didn't have it on my notes.\n\n352\n00:18:26.420 --> 00:18:29.530\nI think the printer actually cut\nit off when I did the print job.\n\n353\n00:18:29.530 --> 00:18:31.970\nIt's weird, but yes,\nhe is absolutely right.\n\n354\n00:18:31.970 --> 00:18:34.920\nYou need to tell it where\nyou want to copy to.\n\n355\n00:18:34.920 --> 00:18:38.550\nAs well as what you want to copy from so\nthat could probably be very helpful.\n\n356\n00:18:38.550 --> 00:18:39.650\nSo let's try that.\n\n357\n00:18:39.650 --> 00:18:42.100\nLets jump back down here and\n\n358\n00:18:42.100 --> 00:18:46.610\nwe'll add that to the end of our\ncommand here and I'll just say.\n\n359\n00:18:46.610 --> 00:18:49.800\nActually yeah that's fine,\nlet's do that here.\n\n360\n00:18:50.920 --> 00:18:53.170\nWe can move them.\n\n361\n00:18:53.170 --> 00:18:56.280\nLet's create a directory here.\n\n362\n00:18:57.340 --> 00:19:01.040\nWe're going to go to,\nwhere should we put this?\n\n363\n00:19:02.140 --> 00:19:06.371\nI'll put it, let's see, cd/sc,\n\n364\n00:19:06.371 --> 00:19:11.977\nbecause this is where it needs to go,\n/openvp.\n\n365\n00:19:11.977 --> 00:19:14.587\nIt's just a good way,\nI don't say it needs to go there, but\n\n366\n00:19:14.587 --> 00:19:18.055\nit's a nice place to put everything so\nyou know where all your open vp stuff is.\n\n367\n00:19:18.055 --> 00:19:19.860\nSo I'll hit return.\n\n368\n00:19:19.860 --> 00:19:22.820\nYou'll notice I've already been\nkind of playing around with this.\n\n369\n00:19:22.820 --> 00:19:25.110\nThat's exactly where I'll save it,\nright there.\n\n370\n00:19:25.110 --> 00:19:26.950\nSo let's do that.\n\n371\n00:19:26.950 --> 00:19:28.110\nWe're already there.\n\n372\n00:19:28.110 --> 00:19:29.460\nWhere's my command?\n\n373\n00:19:29.460 --> 00:19:32.160\nAnd then just put dot at the end.\n\n374\n00:19:32.160 --> 00:19:32.870\nThere we go.\n\n375\n00:19:32.870 --> 00:19:34.180\nNow it's making the connection.\n\n376\n00:19:34.180 --> 00:19:35.390\nYes, we want to connect.\n\n377\n00:19:36.500 --> 00:19:39.100\nAnd of course, permission is denied.\n\n378\n00:19:39.100 --> 00:19:39.855\nIt did not like.\n\n379\n00:19:39.855 --> 00:19:43.485\n&gt;&gt; Because now, you have the point to\nan absolute path through your key pair,\n\n380\n00:19:43.485 --> 00:19:45.530\nbecause you're in a different directory.\n\n381\n00:19:46.890 --> 00:19:50.664\n&gt;&gt; Well the absolute path to the key,\nno the server,\n\n382\n00:19:50.664 --> 00:19:52.930\nit's still in the same\nplace in the server.\n\n383\n00:19:52.930 --> 00:19:55.660\n&gt;&gt; No, your dang key pair,\nthat you have to point to?\n\n384\n00:19:55.660 --> 00:19:57.200\n&gt;&gt; Yeah that does help doesn't it?\n\n385\n00:19:57.200 --> 00:20:01.466\n&gt;&gt; It does, it does,\nit does, thank you sir.\n\n386\n00:20:01.466 --> 00:20:08.385\nJust add that,\nsomebody key per slash home slash\n\n387\n00:20:08.385 --> 00:20:13.633\ndLowrie/roots/ let's try that.\n\n388\n00:20:13.633 --> 00:20:17.140\n[SOUND] There we go a little trouble\nshooting on the fly never hurt\n\n389\n00:20:17.140 --> 00:20:18.009\nnobody right?\n\n390\n00:20:18.009 --> 00:20:21.960\nAll right, so that means we should have\nour keys now, there they are all residing.\n\n391\n00:20:21.960 --> 00:20:29.180\nA lot of lovely, and right here ca.crt,\nclient.crt, and client.openvpn.\n\n392\n00:20:29.180 --> 00:20:31.980\nEverything is in the spot\nthat it should be.\n\n393\n00:20:32.990 --> 00:20:37.730\nNow we need to do some\nconfiguration of those files but\n\n394\n00:20:37.730 --> 00:20:39.420\nJustin I am looking at our clock.\n\n395\n00:20:39.420 --> 00:20:42.130\nIt's a wee bit short on the time.\n\n396\n00:20:42.130 --> 00:20:43.880\nIt's not a bunch of stuff but\n\n397\n00:20:43.880 --> 00:20:47.820\nwe do have to actually move\nsome big chunks of data around.\n\n398\n00:20:47.820 --> 00:20:51.550\nSo I wanna make sure we have plenty of\ntime to do that and we don't get rushed.\n\n399\n00:20:51.550 --> 00:20:52.920\nSo I think this is a good stopping spot.\n\n400\n00:20:52.920 --> 00:20:56.786\n&gt;&gt; Well Daniel, that is a, whenever you\nstart moving data and you're like I need\n\n401\n00:20:56.786 --> 00:20:59.683\nto do these manipulations\n&gt;&gt; Sometimes it's better to have a little\n\n402\n00:20:59.683 --> 00:21:01.575\nmore time then trying\nto rush through things.\n\n403\n00:21:01.575 --> 00:21:02.380\n&gt;&gt; Yeah.\n\n404\n00:21:02.380 --> 00:21:03.730\n&gt;&gt; Where you can definitely make mistakes.\n\n405\n00:21:03.730 --> 00:21:06.320\nSo we'll be coming back with part four\n\n406\n00:21:06.320 --> 00:21:11.070\nto hopefully get our openVPN service all\nset up for both our client and servers.\n\n407\n00:21:11.070 --> 00:21:13.690\nSo definitely join us back for part four.\n\n408\n00:21:13.690 --> 00:21:15.870\nBut for now we're gonna go ahead and\nfinish this one up.\n\n409\n00:21:15.870 --> 00:21:19.180\nSo signing off for ITPRO.TV I've\nbeen your host Justin Dennison.\n\n410\n00:21:19.180 --> 00:21:19.760\n&gt;&gt; I'm Daniel Lowrie.\n\n411\n00:21:19.760 --> 00:21:21.040\n&gt;&gt; And we'll see you next time.\n\n412\n00:21:21.040 --> 00:21:28.145\n[MUSIC]\n\n413\n00:21:28.145 --> 00:21:31.349\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "228813287"
        },
        {
          "description": "In this episode, Justin and Daniel continue configuring the OpenVPN client. Daniel also demonstrates some of the troubleshooting that you may have to work through when setting up OpenVPN.",
          "length": "1807",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-4-install_configure_openvpn_in_linux_pt4-080717-PGM.00_29_51_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-4-install_configure_openvpn_in_linux_pt4-080717-PGM.00_29_51_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-openvpninlinux/techskills-openvpninlinux-1-1-4-install_configure_openvpn_in_linux_pt4-080717-PGM.00_29_51_00.Still001-sm.jpg",
          "title": "Install / Configure OpenVPN in Linux Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:01.240\nWelcome to ITPROTV.\n\n2\n00:00:01.240 --> 00:00:06.597\nI'm your host Don Pezet [CROSSTALK]\n\n3\n00:00:06.597 --> 00:00:08.199\n[MUSIC]\n\n4\n00:00:08.199 --> 00:00:11.817\n&gt;&gt; You're watching ITPROTV.\n\n5\n00:00:11.817 --> 00:00:16.370\n&gt;&gt; Greetings everyone, and welcome to\nanother exciting episode of ITPROTV.\n\n6\n00:00:16.370 --> 00:00:17.870\nI'm your host, Justin Dennison, and\n\n7\n00:00:17.870 --> 00:00:22.900\nin today's episode we're back with a part\nfour of actually configuring open VPN.\n\n8\n00:00:22.900 --> 00:00:26.760\nWe started working on our client,\nbut we have a little more to do.\n\n9\n00:00:26.760 --> 00:00:27.890\nAnd luckily,\n\n10\n00:00:27.890 --> 00:00:32.270\nwe have the man in the studio that\nknows exactly what we need to do next.\n\n11\n00:00:32.270 --> 00:00:33.250\nAnd that's Mr. Daniel Lowrie.\n\n12\n00:00:33.250 --> 00:00:34.100\nHow are you doing today, Daniel?\n\n13\n00:00:34.100 --> 00:00:39.060\n&gt;&gt; Man, I'm doing fantastic, ready to\ncontinue, hopefully finish up if I can\n\n14\n00:00:39.060 --> 00:00:43.400\nkeep my yammer to a minimum\n[LAUGH] about extraneous things.\n\n15\n00:00:43.400 --> 00:00:46.640\nFinish up our open VPN\nclient's configuration and\n\n16\n00:00:46.640 --> 00:00:51.530\nactually make those client connections and\nhave a successful VPN connection.\n\n17\n00:00:51.530 --> 00:00:53.830\nWe also hopefully wanna look at\na few troubleshooting things.\n\n18\n00:00:53.830 --> 00:00:56.410\nI think that we will\nactually need a few as I\n\n19\n00:00:56.410 --> 00:00:58.600\nlooked through some of\nthe configuration files.\n\n20\n00:00:58.600 --> 00:01:02.010\nI think we're gonna get some good errors\nthat we're gonna have to troubleshoot,\n\n21\n00:01:02.010 --> 00:01:05.740\nwhich I have beforehand gone through for\nyou good folks out there so\n\n22\n00:01:05.740 --> 00:01:08.528\nyou don't have to stumble as I did and\ntry and work your way through.\n\n23\n00:01:08.528 --> 00:01:12.400\nI'm just gonna spoon feed you\nthe answers so that you guys can make\n\n24\n00:01:12.400 --> 00:01:15.890\ngreat open VPN connections in your home or\nbusiness setting.\n\n25\n00:01:15.890 --> 00:01:19.248\nThat being said, we're gonna go back\ninto my computer here really quickly.\n\n26\n00:01:19.248 --> 00:01:24.140\nAnd Justin pointed out something\nI am super bad about scanning my,\n\n27\n00:01:24.140 --> 00:01:27.490\nas you've probably seen throughout this\nseries, I'm bad overlooking things.\n\n28\n00:01:27.490 --> 00:01:30.340\nAnd he pointed out the fact\nthat I missed one of the files.\n\n29\n00:01:30.340 --> 00:01:32.270\nDidn't go through.\nI actually got a permission denied,\n\n30\n00:01:32.270 --> 00:01:34.280\nI just didn't see it.\n\n31\n00:01:34.280 --> 00:01:36.745\nAnd it was that client.ovpn.\n\n32\n00:01:36.745 --> 00:01:40.750\nAnd when we looked back up here, and\n\n33\n00:01:40.750 --> 00:01:44.000\nnotice I'm in my home\nUbuntu VPN client files.\n\n34\n00:01:44.000 --> 00:01:48.830\nWhen I do ls-l on these files,\na client key.\n\n35\n00:01:48.830 --> 00:01:49.930\nThere's my problem right there.\n\n36\n00:01:49.930 --> 00:01:51.290\nI have no read permissions.\n\n37\n00:01:51.290 --> 00:01:52.110\nI must have.\n\n38\n00:01:52.110 --> 00:01:54.660\nI don't know if it generated this way or\nI was playing around with it.\n\n39\n00:01:54.660 --> 00:01:58.680\nI've been using the similar names\nto prepare for the show and\n\n40\n00:01:58.680 --> 00:02:01.400\nthen recreating that so\nit may have confused me.\n\n41\n00:02:01.400 --> 00:02:02.930\nI may have set the wrong settings.\n\n42\n00:02:02.930 --> 00:02:06.506\nBut it's easy enough,\nwe can just change the actual permissions\n\n43\n00:02:06.506 --> 00:02:09.770\nhere really quickly and\nthen download that file, as well.\n\n44\n00:02:09.770 --> 00:02:11.529\nSo let's do that really quick\ncuz we're gonna need it.\n\n45\n00:02:13.040 --> 00:02:15.980\nLet's see here, chmod,\nand we'll make it 755.\n\n46\n00:02:15.980 --> 00:02:22.221\nThere we go, that ought to,\nI guess we don't need 7, let me use 655.\n\n47\n00:02:22.221 --> 00:02:26.556\nHelps if you put a space in there,\nLowrie, 55.\n\n48\n00:02:26.556 --> 00:02:29.900\nAnd then I'll do client.key.\n\n49\n00:02:31.128 --> 00:02:34.634\nAnd now, yeah,\nI added too much permissions,\n\n50\n00:02:34.634 --> 00:02:39.260\nbut the reads are there and\nthat's all that matters.\n\n51\n00:02:39.260 --> 00:02:42.734\nSo now we can go back to here.\n\n52\n00:02:42.734 --> 00:02:47.332\nRun I'll just\n\n53\n00:02:47.332 --> 00:02:51.953\ncall it client.key, and\nthat should give us what we need.\n\n54\n00:02:55.672 --> 00:02:57.666\nAnd there we go.\n\n55\n00:02:57.666 --> 00:03:02.810\nNow we have that file ls\n-l client.key does exist.\n\n56\n00:03:02.810 --> 00:03:04.550\nThere we go, and it kept the permissions.\n\n57\n00:03:04.550 --> 00:03:09.180\nSo that's all that matters is that we have\nthe read permissions available to us for\n\n58\n00:03:09.180 --> 00:03:11.810\nthose files inside of this directory.\n\n59\n00:03:11.810 --> 00:03:13.160\nNow we can move on.\n\n60\n00:03:13.160 --> 00:03:15.310\nAnd may I thank you, Justin,\nfor pointing that out.\n\n61\n00:03:15.310 --> 00:03:16.500\nThe man has eagle eyes.\n\n62\n00:03:16.500 --> 00:03:18.960\nIt's funny,\nwhen I do Dev Pro stuff with him I'm like,\n\n63\n00:03:18.960 --> 00:03:21.970\nI think you missed a space there,\nI think you missed a dot there.\n\n64\n00:03:21.970 --> 00:03:25.890\nIt's so easy to do when you're the man\nbehind the keyboard to miss something, or\n\n65\n00:03:25.890 --> 00:03:28.260\nthe woman behind\nthe keyboard as it may be.\n\n66\n00:03:28.260 --> 00:03:32.190\nSo don't feel bad if you get something\nlike that, just go back to basics and\n\n67\n00:03:32.190 --> 00:03:34.740\nfind out what the problem is and\nmove along.\n\n68\n00:03:34.740 --> 00:03:39.660\n&gt;&gt; And Daniel, I would have to say\nthat permissions tend to be one\n\n69\n00:03:39.660 --> 00:03:42.590\nof those things that I forget about and\nsimilar things happen.\n\n70\n00:03:42.590 --> 00:03:44.610\nAnd I'm like, why is this not working?\n\n71\n00:03:44.610 --> 00:03:48.270\nI don't have executable permissions,\nor I don't have read permissions.\n\n72\n00:03:48.270 --> 00:03:50.420\nAnd honestly, the whole read and\n\n73\n00:03:50.420 --> 00:03:52.920\nexecutable permissions\nis a security concern.\n\n74\n00:03:52.920 --> 00:03:55.480\nI know like your key pairs,\nthose have to have\n\n75\n00:03:55.480 --> 00:04:00.270\nparticular permissions in order to\nbe used with either SSH or SCP.\n\n76\n00:04:00.270 --> 00:04:02.840\nSo it's always a battle for\n\n77\n00:04:02.840 --> 00:04:07.050\nme cuz I tend to be a little hand wavy as\na developer, so I completely understand.\n\n78\n00:04:07.050 --> 00:04:10.540\n&gt;&gt; Yeah, it's something that, like you\nsaid, super easy to get into a bad habit\n\n79\n00:04:10.540 --> 00:04:13.340\nof and assume that everybody\nout there knows that.\n\n80\n00:04:13.340 --> 00:04:16.295\nBut a good learning experience for\nall of us, right?\n\n81\n00:04:16.295 --> 00:04:19.570\nSo that being said we are at that\nportion where we're actually\n\n82\n00:04:19.570 --> 00:04:24.460\ngoing to configure our .ovpn file,\nbasically that client.conf file so\n\n83\n00:04:24.460 --> 00:04:27.320\nwe can set up our client\nto make that connection.\n\n84\n00:04:27.320 --> 00:04:28.650\nThat's what we wanna do.\n\n85\n00:04:28.650 --> 00:04:30.740\nSo we have client.ovpn.\n\n86\n00:04:30.740 --> 00:04:32.550\nIt's right here.\n\n87\n00:04:32.550 --> 00:04:35.480\nIt's very nice we have appropriate\npermissions, it's very helpful.\n\n88\n00:04:35.480 --> 00:04:38.355\nSo what we need to do is well,\n\n89\n00:04:38.355 --> 00:04:41.330\nopen up your editor of choice,\nvia nano whatever you like.\n\n90\n00:04:41.330 --> 00:04:44.117\nI'll use vice cuz I've been\ndoing it throughout the show,\n\n91\n00:04:44.117 --> 00:04:46.131\nand I know it's a bear, but what the heck.\n\n92\n00:04:46.131 --> 00:04:47.924\nKeep it old school.\n\n93\n00:04:47.924 --> 00:04:51.650\nClient.ovpn There we go.\n\n94\n00:04:51.650 --> 00:04:54.110\nAnd again, just like every\nother thing we've ever seen so\n\n95\n00:04:54.110 --> 00:04:56.850\nfar, it is just a flat configuration file.\n\n96\n00:04:56.850 --> 00:05:00.830\nWe do need to make some\nspecific changes to this.\n\n97\n00:05:00.830 --> 00:05:04.701\nWe need to replace the, what is it,\n\n98\n00:05:04.701 --> 00:05:09.995\nremote my-server-1\ncommand inside this file\n\n99\n00:05:09.995 --> 00:05:16.460\nwith the actual public IP address\nof our AWS Ubuntu server.\n\n100\n00:05:16.460 --> 00:05:18.790\nSo that's an important thing.\n\n101\n00:05:18.790 --> 00:05:20.170\nNow here's the thing about that.\n\n102\n00:05:20.170 --> 00:05:22.180\nLet me go back up here.\n\n103\n00:05:22.180 --> 00:05:24.480\nI'm logged in to that server right now.\n\n104\n00:05:24.480 --> 00:05:27.710\nYou'll notice that when you log in,\nit gives you an IP address.\n\n105\n00:05:27.710 --> 00:05:30.868\nAnd you could be tempted to think that's\nit, right there, and that's what we need.\n\n106\n00:05:30.868 --> 00:05:31.632\nBut it's not.\n\n107\n00:05:31.632 --> 00:05:37.514\nWe need that public IP\naddress that we find here So\n\n108\n00:05:37.514 --> 00:05:39.660\nthat we can make that connection, right?\n\n109\n00:05:39.660 --> 00:05:41.860\nThat's the important thing.\n\n110\n00:05:41.860 --> 00:05:44.520\nI don't know if you can see that,\nthere you go right there.\n\n111\n00:05:44.520 --> 00:05:45.899\nThat's what we need.\n\n112\n00:05:45.899 --> 00:05:51.130\nSo that's the IP address that we're\ngonna put inside of that file.\n\n113\n00:05:51.130 --> 00:05:53.030\nLet me go back down there.\n\n114\n00:05:53.030 --> 00:05:59.410\nSo if you do an ifconfig here\nifconfig [LAUGH], there you go.\n\n115\n00:05:59.410 --> 00:06:01.390\nThis is not the IP address you want.\n\n116\n00:06:01.390 --> 00:06:03.960\nThese are not the IP addresses\nyou're looking for, right?\n\n117\n00:06:03.960 --> 00:06:04.820\nBack in AWS.\n\n118\n00:06:05.940 --> 00:06:06.550\nSo here we go.\n\n119\n00:06:06.550 --> 00:06:08.244\nLet's look for that.\n\n120\n00:06:08.244 --> 00:06:09.550\nI'll find remote.\n\n121\n00:06:10.610 --> 00:06:11.410\nAnd look at that.\n\n122\n00:06:11.410 --> 00:06:13.488\nThere it is right there.\n\n123\n00:06:13.488 --> 00:06:14.590\nI don't even need it.\n\n124\n00:06:14.590 --> 00:06:18.020\nAll right, so I'll just hit Enter,\nand go into Insert mode.\n\n125\n00:06:18.020 --> 00:06:20.360\nYou'll notice it has the port\nmode already there for you.\n\n126\n00:06:20.360 --> 00:06:23.000\nUnless you change that in\nyour configuration file,\n\n127\n00:06:23.000 --> 00:06:24.770\nwhich we have not done in this series.\n\n128\n00:06:24.770 --> 00:06:25.940\nRemember, keeping things simple.\n\n129\n00:06:25.940 --> 00:06:29.470\nIf you have changed that port,\nredirected it somewhere else,\n\n130\n00:06:29.470 --> 00:06:34.570\nmake sure you also modify the port so\nthat it can actually make the connections.\n\n131\n00:06:34.570 --> 00:06:36.470\nAll right, so I'm going to change this.\n\n132\n00:06:36.470 --> 00:06:40.610\nAnd just go to insert mode, type that out.\n\n133\n00:06:40.610 --> 00:06:42.405\nLet me see here, what are we again?\n\n134\n00:06:42.405 --> 00:06:44.521\n34.224.216.72.\n\n135\n00:06:44.521 --> 00:06:48.136\nSo typed in 34.2,\n\n136\n00:06:48.136 --> 00:06:54.048\nI hate why it does that, but it does.\n\n137\n00:06:54.048 --> 00:06:57.117\n224.216.72, 216.72.\n\n138\n00:06:57.117 --> 00:07:03.060\nSo there we go, that has been made.\n\n139\n00:07:03.060 --> 00:07:06.640\nAnd remember again, AWS if you're not,\nif you're not paying for\n\n140\n00:07:06.640 --> 00:07:11.050\na static IP, if you shutdown the server\nand restart it for updates and\n\n141\n00:07:11.050 --> 00:07:14.870\nwhatever, or your just saving money by\nshutting it off, you restart it and\n\n142\n00:07:14.870 --> 00:07:17.430\nyou get a different IP you're gonna\nhave to come back in here and\n\n143\n00:07:17.430 --> 00:07:20.310\nreconfigure the file with the new\nIP address of your server.\n\n144\n00:07:20.310 --> 00:07:22.940\nSo if you are setting\nup an OpenVPN server,\n\n145\n00:07:22.940 --> 00:07:28.450\nprobably would behoove you to go for\nthat static IP address, all right?\n\n146\n00:07:28.450 --> 00:07:30.330\nSo let's see here, that is looking good.\n\n147\n00:07:30.330 --> 00:07:31.170\nWhat else do we need to do?\n\n148\n00:07:31.170 --> 00:07:34.520\nWe need to un-comment\nsome commands in here.\n\n149\n00:07:34.520 --> 00:07:36.370\nAnd I think it's very close.\n\n150\n00:07:36.370 --> 00:07:37.460\nIt's not a very big file.\n\n151\n00:07:37.460 --> 00:07:39.313\nYeah, there we go.\n\n152\n00:07:39.313 --> 00:07:42.286\nAnd this user nobody and\ngroup nobody, as you can see it says\n\n153\n00:07:42.286 --> 00:07:45.750\ndowngrade privileges after initialization,\nnon-Windows only.\n\n154\n00:07:45.750 --> 00:07:46.510\nWell guess what?\n\n155\n00:07:46.510 --> 00:07:48.520\nI'm not using a Windows Machine.\n\n156\n00:07:48.520 --> 00:07:50.199\nSo I can do this here.\n\n157\n00:07:51.826 --> 00:07:53.092\nAnd still I'm Insert?\n\n158\n00:07:53.092 --> 00:07:55.400\nYes.\n\n159\n00:07:55.400 --> 00:07:57.959\nThere we go.\nTake that out.\n\n160\n00:07:57.959 --> 00:08:01.050\nAnd then we need to actually\nput some comments into this\n\n161\n00:08:01.050 --> 00:08:03.205\nfile if it's not already commented.\n\n162\n00:08:03.205 --> 00:08:08.964\nBecause of how we're going\nto do certain things, okay?\n\n163\n00:08:08.964 --> 00:08:14.379\nSo what we wanna do is we wanna\ncome the ca.crt, the client.crt and\n\n164\n00:08:14.379 --> 00:08:19.509\nthe client.key paths, and so\ninstead of looking outwardly for\n\n165\n00:08:19.509 --> 00:08:24.927\nthose files, we're actually gonna\ncopy that data into this file.\n\n166\n00:08:24.927 --> 00:08:30.790\nSo that it's all in one nice pretty\npink package that we can use, all right?\n\n167\n00:08:30.790 --> 00:08:34.000\nSo let's find that,\nlike I said it's not a very big file.\n\n168\n00:08:34.000 --> 00:08:35.500\nI think it actually is up.\n\n169\n00:08:37.157 --> 00:08:42.150\nWe'll see if not I will,\nyeah I will search for it.\n\n170\n00:08:42.150 --> 00:08:43.367\nCA.\n\n171\n00:08:43.367 --> 00:08:50.550\nI'm in insert roach, probably help\nif I escape from that, /CA/C.\n\n172\n00:08:50.550 --> 00:08:51.070\nThere we go.\n\n173\n00:08:51.070 --> 00:08:51.640\nThat's the one.\n\n174\n00:08:51.640 --> 00:08:53.670\nSo notice that these\nare not commented out.\n\n175\n00:08:54.700 --> 00:08:56.640\nSo that's an important thing.\n\n176\n00:08:56.640 --> 00:09:00.040\nWe need to comment those for\nour intents and purposes.\n\n177\n00:09:00.040 --> 00:09:01.260\nSo put that there.\n\n178\n00:09:03.480 --> 00:09:04.270\nDon't want to get too crazy.\n\n179\n00:09:04.270 --> 00:09:05.950\nLet's make it easy on ourselves.\n\n180\n00:09:05.950 --> 00:09:06.496\nSo just like that.\n\n181\n00:09:06.496 --> 00:09:10.220\nJust put those hashes in\nfront of those values.\n\n182\n00:09:10.220 --> 00:09:14.430\nThat's just successfully commented out and\nwhen OpenBPM opens this file it,\n\n183\n00:09:14.430 --> 00:09:16.310\nwill just walk right past that.\n\n184\n00:09:16.310 --> 00:09:20.100\nBecause that information again,\nwe're going to define that in this file.\n\n185\n00:09:20.100 --> 00:09:23.460\nAnd now can save and exit right now.\n\n186\n00:09:23.460 --> 00:09:26.890\nNow you're thinking, I thought you said\nyou're gonna add some stuff into the file.\n\n187\n00:09:26.890 --> 00:09:29.180\nWell, we are, but\nwe're gonna do it a different way.\n\n188\n00:09:29.180 --> 00:09:30.950\nYou can copy and paste.\n\n189\n00:09:30.950 --> 00:09:32.150\nIf you were like a graphical editor,\n\n190\n00:09:32.150 --> 00:09:35.450\nI could open this path or\nwhatever, Sublime Text, Adam.\n\n191\n00:09:35.450 --> 00:09:38.650\nI could have opened that file here and\ndone copy and paste it.\n\n192\n00:09:38.650 --> 00:09:42.030\nThat will work fine as well,\nif you like using graphical stuff.\n\n193\n00:09:42.030 --> 00:09:46.710\nI'm sticking into the command line just\nfor consistency's sake I guess and\n\n194\n00:09:46.710 --> 00:09:48.610\nold habits die hard.\n\n195\n00:09:48.610 --> 00:09:50.530\nSo, that's why I'm doing it like this.\n\n196\n00:09:50.530 --> 00:09:54.406\nWe're gonna kind of redirect\noutput instead of doing copy and\n\n197\n00:09:54.406 --> 00:09:56.700\npasting with a mouse.\n\n198\n00:09:56.700 --> 00:09:57.740\nSo let's do that.\n\n199\n00:09:57.740 --> 00:09:58.440\nI'm out of this.\n\n200\n00:09:58.440 --> 00:09:59.130\nI'm gonna escape.\n\n201\n00:09:59.130 --> 00:10:00.063\nSave and quit.\n\n202\n00:10:00.063 --> 00:10:04.705\nOur only option is set,\nI must have not suited this.\n\n203\n00:10:04.705 --> 00:10:09.306\n[LAUGH] I'm definitely a crazy man,\nthat's right.\n\n204\n00:10:09.306 --> 00:10:14.354\nSo I'll have to make those changes yet\n\n205\n00:10:14.354 --> 00:10:17.520\nagain, not a big deal.\n\n206\n00:10:17.520 --> 00:10:20.415\nIt gives us a good chance to, yeah.\n\n207\n00:10:20.415 --> 00:10:20.930\nThere we go.\n\n208\n00:10:20.930 --> 00:10:22.541\nMade a CH mod 777 across the board.\n\n209\n00:10:22.541 --> 00:10:23.465\nHere we go.\n\n210\n00:10:23.465 --> 00:10:29.572\n[INAUDIBLE]\n\n211\n00:10:29.572 --> 00:10:33.644\nOVPN.\n\n212\n00:10:33.644 --> 00:10:35.657\nI am a horrible typist, like sudu.\n\n213\n00:10:35.657 --> 00:10:40.587\nOr I could just do that, sudu.\n\n214\n00:10:40.587 --> 00:10:47.166\n[INAUDIBLE]\nThere we go.\n\n215\n00:10:47.166 --> 00:10:48.585\nNow we can make these changes.\n\n216\n00:10:48.585 --> 00:10:55.226\n[INAUDIBLE] Grab that IP address\nfrom up here, which is not up there,\n\n217\n00:10:55.226 --> 00:10:59.515\nyeah there [INAUDIBLE] No it's not,\ndang it.\n\n218\n00:10:59.515 --> 00:11:01.025\nI have to grab it from here again.\n\n219\n00:11:01.025 --> 00:11:02.379\nI can't copy and paste.\n\n220\n00:11:02.379 --> 00:11:05.545\nI have isolation turned on so\nI can't copy and paste across my VM.\n\n221\n00:11:05.545 --> 00:11:08.606\n34, 22, 216, 72.\n\n222\n00:11:08.606 --> 00:11:10.978\n34,24, 224.\n\n223\n00:11:10.978 --> 00:11:14.072\nJustin's writing it down right now,\nhe's gonna help me out with that.\n\n224\n00:11:14.072 --> 00:11:18.397\n&gt;&gt; 34, 224, 216 dot 72.\n\n225\n00:11:20.640 --> 00:11:21.300\nI gotcha covered now.\n\n226\n00:11:21.300 --> 00:11:21.899\n&gt;&gt; Thank you, sir.\n\n227\n00:11:21.899 --> 00:11:23.772\n&gt;&gt; Just in case things go awry.\n\n228\n00:11:23.772 --> 00:11:27.068\n&gt;&gt; Horribly awry, which do tend to happen,\nbut what are you gonna do?\n\n229\n00:11:27.068 --> 00:11:28.145\nThis is IT people.\n\n230\n00:11:28.145 --> 00:11:30.088\nThis is just actually how I work them.\n\n231\n00:11:30.088 --> 00:11:32.162\n[LAUGH] Not the most\nefficient typist on Earth.\n\n232\n00:11:32.162 --> 00:11:35.043\nAll right, man, hammer me with it.\n\n233\n00:11:35.043 --> 00:11:36.107\n&gt;&gt; 34.\n&gt;&gt; 34.\n\n234\n00:11:36.107 --> 00:11:37.105\n&gt;&gt; 224.\n\n235\n00:11:37.105 --> 00:11:39.281\n224.\n\n236\n00:11:39.281 --> 00:11:40.918\n&gt;&gt; .216.\n\n237\n00:11:40.918 --> 00:11:44.920\n&gt;&gt; 216.72, that should work.\n\n238\n00:11:44.920 --> 00:11:50.780\nNow we can go down here,\nget that taken out.\n\n239\n00:11:50.780 --> 00:11:52.980\nRemember, user nobody, group nobody.\n\n240\n00:11:54.320 --> 00:11:59.639\nAnd then there's those CA compliant keys.\n\n241\n00:12:02.228 --> 00:12:05.300\nLike so, and now we should be\nable to save and edit that.\n\n242\n00:12:07.346 --> 00:12:08.390\nThere we go, much better.\n\n243\n00:12:08.390 --> 00:12:09.610\nYou just gotta remember to sudo.\n\n244\n00:12:11.050 --> 00:12:14.860\nOkay, that is done,\nnow we are going to append this file\n\n245\n00:12:14.860 --> 00:12:17.970\nwith the information from those\nthree files that we copied out.\n\n246\n00:12:19.040 --> 00:12:22.160\nSo that it can just look at this one file,\nokay.\n\n247\n00:12:23.910 --> 00:12:25.330\nSo, let's do that.\n\n248\n00:12:25.330 --> 00:12:29.690\nSo I'm just gonna use echo and\ncat and then the redirector option.\n\n249\n00:12:29.690 --> 00:12:31.800\nIt's very simple if you know\nany kind of Linux stuff.\n\n250\n00:12:31.800 --> 00:12:34.500\nThis should be a cake walk for you.\n\n251\n00:12:34.500 --> 00:12:36.150\nI'll probably butcher the typing of it,\nbut hey.\n\n252\n00:12:36.150 --> 00:12:37.740\nWhat are you going to do, right?\n\n253\n00:12:37.740 --> 00:12:38.510\nIt is what it is.\n\n254\n00:12:38.510 --> 00:12:40.750\nSo let's do this, so we're gonna echo,\n\n255\n00:12:40.750 --> 00:12:42.870\nI'll make sure I'm in\nthe right directory here.\n\n256\n00:12:42.870 --> 00:12:46.578\nYes, client everything is there,\nclientovpn is there.\n\n257\n00:12:46.578 --> 00:12:50.522\nI'm going to echo the [ca], and\n\n258\n00:12:50.522 --> 00:12:54.610\nthat's the quotations around it.\n\n259\n00:12:54.610 --> 00:12:58.490\nSo notice that's your string.\n\n260\n00:12:58.490 --> 00:13:04.330\nAnd then I'm going to append,\nnotice two greater than signs, not one.\n\n261\n00:13:04.330 --> 00:13:07.300\nIf you do one,yout'll\noverwrite this entire file and\n\n262\n00:13:07.300 --> 00:13:09.860\nyou will be back at the beginning again,\nall right?\n\n263\n00:13:09.860 --> 00:13:11.050\nSo make sure you put two.\n\n264\n00:13:11.050 --> 00:13:13.730\nWe want to append to the end of the file,\n\n265\n00:13:13.730 --> 00:13:18.770\nthe very last line is going to now be ca,\nlike so, right?\n\n266\n00:13:18.770 --> 00:13:24.730\nAnd then, of course, tell it to file,\nwhich is client.ovpn.\n\n267\n00:13:24.730 --> 00:13:29.200\nHelps if I suud u that,\nsuudu, there we go.\n\n268\n00:13:29.200 --> 00:13:30.884\nYou talking about, permission denied?\n\n269\n00:13:30.884 --> 00:13:32.935\nIf I'm sudo,\nI should not have a problem with that.\n\n270\n00:13:32.935 --> 00:13:36.725\nLet's see here, what's the problem?\n\n271\n00:13:36.725 --> 00:13:39.530\nClient.ovpn, if I'm sudoing,\nall right, well, guess what?\n\n272\n00:13:39.530 --> 00:13:41.381\nI can fix that problem real easy.\n\n273\n00:13:45.319 --> 00:13:46.350\nThere we go.\n\n274\n00:13:46.350 --> 00:13:48.130\nNow, let's see how you like it.\n\n275\n00:13:48.130 --> 00:13:53.090\nCat, and it is C A.\n\n276\n00:13:53.090 --> 00:13:53.993\nClose that out.\n\n277\n00:13:53.993 --> 00:13:59.152\nRedirect into client.OBPM.\n\n278\n00:13:59.152 --> 00:14:00.444\nNot cat.\n\n279\n00:14:00.444 --> 00:14:03.451\n[LAUGH] Echo.\n\n280\n00:14:05.465 --> 00:14:06.970\nThere we go.\n\n281\n00:14:06.970 --> 00:14:10.870\nNow that's done and\nnow we're gonna actually cat out the key.\n\n282\n00:14:10.870 --> 00:14:13.890\nI'm not gonna show you my key because\nthat's bad security practice.\n\n283\n00:14:13.890 --> 00:14:14.980\nDon't do that.\n\n284\n00:14:14.980 --> 00:14:19.950\nBut I'm going to cut and then re-direct\nthat output to append to this file, right.\n\n285\n00:14:19.950 --> 00:14:27.670\nSo do the ca.crt file,this is for the ca\ncourse It's basically kinda like XML.\n\n286\n00:14:27.670 --> 00:14:29.800\nIt's kinda very similar to that,\nif not XML.\n\n287\n00:14:30.960 --> 00:14:34.865\nLet's see here, so\nthis is where I'm gonna cat.\n\n288\n00:14:34.865 --> 00:14:39.920\nca.crt, crt, why is it not liking that?\n\n289\n00:14:41.140 --> 00:14:42.650\nls, it is there, ca.crt.\n\n290\n00:14:42.650 --> 00:14:45.640\n&gt;&gt; Yeah, I think you accidentally had cat,\nnot crt.\n\n291\n00:14:45.640 --> 00:14:50.624\nThank you, sir.\nLet's see,I do that every time, .crt.\n\n292\n00:14:50.624 --> 00:14:55.720\nTells you how many times a day I use CAT,\nthat muscle memory kicking in hard.\n\n293\n00:14:55.720 --> 00:15:01.672\nAll right, that CRT and then we redirect\nthat into our client.ovpn file,\n\n294\n00:15:01.672 --> 00:15:03.610\nthere we go.\n\n295\n00:15:03.610 --> 00:15:06.100\nAnd now we need to close out our brackets,\nright, so\n\n296\n00:15:06.100 --> 00:15:10.070\nbasically creating a block inside of the\nother instructions that say, if you need\n\n297\n00:15:10.070 --> 00:15:15.830\nto ca, here's the ca information instead\nof having to go out and look for it, okay?\n\n298\n00:15:15.830 --> 00:15:20.870\nSo, we'll close that out, and\nwe have echo, just a close bracket,\n\n299\n00:15:20.870 --> 00:15:23.850\njust like XML tagging, right,\n\n300\n00:15:23.850 --> 00:15:28.990\nand pin that to client.ovpn.\n\n301\n00:15:28.990 --> 00:15:30.618\nThere we go.\n\n302\n00:15:30.618 --> 00:15:34.524\nNow the next thing we need to\ndo is basically lather, rinse,\n\n303\n00:15:34.524 --> 00:15:39.120\nrepeat with the other two files that\nwe need which is the client.crt and\n\n304\n00:15:39.120 --> 00:15:41.428\nthe client.key file, all right?\n\n305\n00:15:41.428 --> 00:15:44.880\nSo let's do that,\nlets lather rinse repeat that.\n\n306\n00:15:44.880 --> 00:15:49.180\nEcho I'm sorry, yeah,, echo.\n\n307\n00:15:49.180 --> 00:15:53.310\nAnd we will call this, I think insert\n&gt;&gt; Yeah.\n\n308\n00:15:53.310 --> 00:15:56.431\n&gt;&gt; Insert, like that.\n\n309\n00:15:56.431 --> 00:16:02.014\nAnd redirect that into plant.obpn,\n\n310\n00:16:02.014 --> 00:16:08.297\nand then we will cat The Client.crt file.\n\n311\n00:16:08.297 --> 00:16:11.460\nAnd redirect that into client.ovpn.\n\n312\n00:16:11.460 --> 00:16:14.170\nAnd then echo our close tag.\n\n313\n00:16:14.170 --> 00:16:22.384\nThis is cert,\nredirect that to client.ovpn.\n\n314\n00:16:23.450 --> 00:16:27.090\nAll right, one more to go, and\nwe are super close to being\n\n315\n00:16:27.090 --> 00:16:29.570\nactually making a connection,\nwhich I'm excited about.\n\n316\n00:16:29.570 --> 00:16:34.160\nCuz it's actually kinda cool to\nsee all your hard work go success.\n\n317\n00:16:34.160 --> 00:16:36.549\nIt's always nice.\nLet's get this last one banged out here.\n\n318\n00:16:36.549 --> 00:16:40.739\nEcho, helps if I do this correctly.\n\n319\n00:16:40.739 --> 00:16:46.847\nKey, Ppin this to clients.ovpn and\n\n320\n00:16:46.847 --> 00:16:52.170\nthen cat our client.key file.\n\n321\n00:16:54.560 --> 00:16:58.260\nRedirect that to client.ovpn.\n\n322\n00:16:58.260 --> 00:17:01.690\nAnd then echo our close tabs.\n\n323\n00:17:01.690 --> 00:17:04.100\nOur close, tags not tabs.\n\n324\n00:17:05.390 --> 00:17:10.810\nKey.\n&gt;&gt; [INAUDIBLE]\n\n325\n00:17:10.810 --> 00:17:11.869\n&gt;&gt; It looks like I'm missing a quote,\n\n326\n00:17:11.869 --> 00:17:12.441\nthank you Justin.\n\n327\n00:17:14.501 --> 00:17:17.170\n&gt;&gt; I don't know why I felt\ncompelled to whisper it.\n\n328\n00:17:17.170 --> 00:17:19.110\n&gt;&gt; Whisper it?\nI'm pretty sure the microphone's\n\n329\n00:17:19.110 --> 00:17:19.832\npicking that up.\n\n330\n00:17:19.832 --> 00:17:20.506\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n331\n00:17:20.506 --> 00:17:23.320\nif you heard something just now off-camera\n&gt;&gt; [INAUDIBLE]\n\n332\n00:17:23.320 --> 00:17:24.090\n&gt;&gt; I was like,\n\n333\n00:17:24.090 --> 00:17:25.547\nis Michael Meyers in the room?\n\n334\n00:17:25.547 --> 00:17:26.850\n[LAUGH]\n&gt;&gt; Sorry,\n\n335\n00:17:26.850 --> 00:17:28.300\nI don't know why I felt\ncompelled to do that.\n\n336\n00:17:28.300 --> 00:17:29.850\n&gt;&gt; No, it's okay, we appreciate it.\n\n337\n00:17:29.850 --> 00:17:34.540\nAll right, that should now have all\nthat information inside of our file.\n\n338\n00:17:35.725 --> 00:17:38.475\n&gt;&gt; Now by putting all this\ninformation into a file,\n\n339\n00:17:38.475 --> 00:17:41.925\nisn't this by just doing\nit now a security concern?\n\n340\n00:17:41.925 --> 00:17:44.875\nOr would we change the permissions to\nwhere you would have to be root to\n\n341\n00:17:44.875 --> 00:17:45.555\neven read it?\n\n342\n00:17:45.555 --> 00:17:49.905\nSo essentially, just take off all\nread permissions unless you're root?\n\n343\n00:17:49.905 --> 00:17:51.125\nOr something of that nature?\n\n344\n00:17:51.125 --> 00:17:55.220\n&gt;&gt; You'll notice that we've had\ntrouble with that client.opvn file.\n\n345\n00:17:55.220 --> 00:17:57.870\nWhat does it do?\nIt keeps barking at me about permissions.\n\n346\n00:17:57.870 --> 00:17:59.610\nEven when I pseudoed, it said nah.\n\n347\n00:17:59.610 --> 00:18:00.410\nYeah, you're not doing that.\n\n348\n00:18:00.410 --> 00:18:04.850\nYou need to be root to do this because\nthe permissions on that file is root, and\n\n349\n00:18:04.850 --> 00:18:06.700\nwelcome to root land.\n\n350\n00:18:06.700 --> 00:18:10.720\nWe did change it so that we could read\nit when we copied it over, but yeah you\n\n351\n00:18:10.720 --> 00:18:15.260\nprobably wanna change this stuff to make\nsure that only root has access to this, or\n\n352\n00:18:15.260 --> 00:18:18.710\nthe user that's going to use it is\nthe only person that has access to it.\n\n353\n00:18:18.710 --> 00:18:21.760\nSo just be very mindful\nabout the permissions.\n\n354\n00:18:21.760 --> 00:18:23.390\nIt can get your mind twisted around.\n\n355\n00:18:23.390 --> 00:18:27.529\nAs you can see it's very easy to,\nwhy am I getting permissions denied or\n\n356\n00:18:27.529 --> 00:18:29.560\nyeah I gotta change this.\n\n357\n00:18:29.560 --> 00:18:33.390\nBut once you get everything squared\naway in your head and you're not trying\n\n358\n00:18:33.390 --> 00:18:37.230\nto show somebody else how to do it,\n[LAUGH] it should work very well for you.\n\n359\n00:18:37.230 --> 00:18:40.100\nAnd keep that security tight,\nbecause Justin is right,\n\n360\n00:18:40.100 --> 00:18:44.030\nthat information is now\ninside of our .ovpn file and\n\n361\n00:18:44.030 --> 00:18:46.040\nyou wanna keep that under lock and\nkey, a very important thing.\n\n362\n00:18:46.040 --> 00:18:46.640\nThank you Justin.\n\n363\n00:18:47.920 --> 00:18:51.500\nAll right, we are almost there I think.\n\n364\n00:18:51.500 --> 00:18:55.420\nNow we just need to start some\nservices and see what happens.\n\n365\n00:18:55.420 --> 00:18:58.380\nSo let's go back to our server, here.\n\n366\n00:18:59.810 --> 00:19:08.170\nAnd we are going to say\nservice openvpn start.\n\n367\n00:19:08.170 --> 00:19:10.700\nAnd that's good, no crazy errors.\n\n368\n00:19:10.700 --> 00:19:15.130\nUsually when nothing returns in your link\nsystem that's a good sign, we like that.\n\n369\n00:19:15.130 --> 00:19:18.260\nBut let's check the status\nof it just in case.\n\n370\n00:19:18.260 --> 00:19:21.530\nJust open VPN status.\n\n371\n00:19:21.530 --> 00:19:26.010\nAnd that's good,\nI have active showing up right there.\n\n372\n00:19:26.010 --> 00:19:27.440\nEverything looks gravy.\n\n373\n00:19:27.440 --> 00:19:30.050\nI do also wanna do IFConfig.\n\n374\n00:19:30.050 --> 00:19:30.570\nAnd you'll notice.\n\n375\n00:19:30.570 --> 00:19:32.340\nLet's see here.\n\n376\n00:19:32.340 --> 00:19:34.980\nI do not have a ton adapter showing up.\n\n377\n00:19:34.980 --> 00:19:37.480\n&gt;&gt; So, Daniel,\nwhen something like this happens,\n\n378\n00:19:37.480 --> 00:19:40.890\nI tend to want a more verbose output\nfrom status checks and things.\n\n379\n00:19:40.890 --> 00:19:42.130\nIs there anyway we can do that?\n\n380\n00:19:42.130 --> 00:19:43.630\n&gt;&gt; Yeah, that's a good place to go.\n\n381\n00:19:43.630 --> 00:19:47.070\nWe definitely want to get some more\ninformation because what was funny is when\n\n382\n00:19:47.070 --> 00:19:52.720\nwe looked at the status using\nthe service OpenVPN status command,\n\n383\n00:19:52.720 --> 00:19:54.920\nit said it was active, and\nit didn't see any errors.\n\n384\n00:19:54.920 --> 00:19:57.570\nBut I know there's another way\nwe can check the status of it\n\n385\n00:19:57.570 --> 00:20:00.370\nthat may have a little more\nverbosity involved in it.\n\n386\n00:20:00.370 --> 00:20:01.750\nLet's do that.\n\n387\n00:20:01.750 --> 00:20:05.750\nSo what you can do, is do system\n\n388\n00:20:05.750 --> 00:20:10.690\nAssist CTL like that,\nright now, systemctl.\n\n389\n00:20:10.690 --> 00:20:12.732\n&gt;&gt; It is system CTL.\n\n390\n00:20:12.732 --> 00:20:16.000\n&gt;&gt; Yeah, sysctl is a file.\n\n391\n00:20:16.000 --> 00:20:18.390\nSee how these things will\nwrap your little brain up and\n\n392\n00:20:18.390 --> 00:20:20.160\ntwist you in all sorts of ways?\n\n393\n00:20:20.160 --> 00:20:23.717\nSo sysctlL, and\n\n394\n00:20:23.717 --> 00:20:28.037\nwe'll say status,\n\n395\n00:20:28.037 --> 00:20:32.370\nopenvpn@server.\n\n396\n00:20:32.370 --> 00:20:35.010\nThanks a lot there, computer.\n\n397\n00:20:35.010 --> 00:20:36.510\nWhen I did the status before,\n\n398\n00:20:36.510 --> 00:20:40.180\nnone of this loveliness was\nthere as you probably noticed.\n\n399\n00:20:40.180 --> 00:20:41.680\nNow we're getting it.\n\n400\n00:20:41.680 --> 00:20:43.290\nIt's good to know both.\n\n401\n00:20:43.290 --> 00:20:46.130\nThe easy way to start it is what\nI showed you the first time.\n\n402\n00:20:46.130 --> 00:20:47.750\nAnd to check the status\nalso is a very easy way.\n\n403\n00:20:47.750 --> 00:20:53.350\nBut if you're having problems you might\nwanna use the system CTL way to check and\n\n404\n00:20:53.350 --> 00:20:54.410\nsee if there's any more.\n\n405\n00:20:54.410 --> 00:20:56.840\nBecause obviously we're having problems.\n\n406\n00:20:56.840 --> 00:21:01.890\nIt's saying options error\nDH fails with the DH24 PEM.\n\n407\n00:21:01.890 --> 00:21:04.530\nThe ca.crt, the server.crt.\n\n408\n00:21:04.530 --> 00:21:06.680\nSo this is a server issue.\n\n409\n00:21:06.680 --> 00:21:07.400\nWe're on the server.\n\n410\n00:21:07.400 --> 00:21:10.110\nIt's not nothing with\nour client obviously.\n\n411\n00:21:10.110 --> 00:21:13.330\nI wonder why it's failing that,\nso let's just cue.\n\n412\n00:21:13.330 --> 00:21:15.700\nLet's just check those files.\n\n413\n00:21:15.700 --> 00:21:20.000\nThere's a problem right there,\nis those files should be here.\n\n414\n00:21:20.000 --> 00:21:23.230\nI apparently forgot to copy\nthem from our keys folder\n\n415\n00:21:23.230 --> 00:21:27.660\ninto the Etsy /etsy/openvpn directory.\n\n416\n00:21:27.660 --> 00:21:30.460\nVery important piece of\nwork that we need to do.\n\n417\n00:21:30.460 --> 00:21:31.290\nGuess what?\n\n418\n00:21:31.290 --> 00:21:34.880\nWe'll do that now and\nsee if that doesn't help our issue.\n\n419\n00:21:34.880 --> 00:21:37.440\nSo I know they're in keys.\n\n420\n00:21:37.440 --> 00:21:38.980\nSo I like to do it this way.\n\n421\n00:21:38.980 --> 00:21:40.900\nOCD easy RS.\n\n422\n00:21:40.900 --> 00:21:41.750\nNo.\n\n423\n00:21:41.750 --> 00:21:44.720\nSorry.\nEasy RSA keys.\n\n424\n00:21:44.720 --> 00:21:47.120\nAnd just say,\nmake sure they're all in there.\n\n425\n00:21:47.120 --> 00:21:49.320\nThere they are, so let's copy those.\n\n426\n00:21:49.320 --> 00:21:50.950\nI need to copy the ca.\n\n427\n00:21:52.300 --> 00:21:55.060\nThere's that cat again, crt.\n\n428\n00:21:55.060 --> 00:21:59.971\nI also need the dh2048's.pim,\n\n429\n00:21:59.971 --> 00:22:05.040\nthe server.key and the server.crt.\n\n430\n00:22:05.040 --> 00:22:10.990\nAnd we'll copy that into /etsy/openvpn.\n\n431\n00:22:10.990 --> 00:22:15.250\nThere we go let's back that\ntrolley up one more time.\n\n432\n00:22:16.360 --> 00:22:18.750\nThere we go I wonder if\nthat will help us go.\n\n433\n00:22:18.750 --> 00:22:24.336\nI'm going to use our system CTL and\nI'll just say start instead of status.\n\n434\n00:22:27.716 --> 00:22:29.160\nSee if that doesn't, haha.\n\n435\n00:22:29.160 --> 00:22:30.820\nAnd let's just check the status again.\n\n436\n00:22:32.000 --> 00:22:35.050\nStatus, status, there we go.\n\n437\n00:22:35.050 --> 00:22:37.220\nHey, hey, now we've got some activity.\n\n438\n00:22:37.220 --> 00:22:38.290\nThat's looking a whole lot better.\n\n439\n00:22:38.290 --> 00:22:40.840\nLet me do an ifconfig now.\n\n440\n00:22:40.840 --> 00:22:42.400\nAnd look at that, there we go.\n\n441\n00:22:42.400 --> 00:22:43.500\nThings are starting to work.\n\n442\n00:22:43.500 --> 00:22:45.740\nHelps if you put the files\nin the right directory.\n\n443\n00:22:45.740 --> 00:22:46.903\nSo just little safety tip for\n\n444\n00:22:46.903 --> 00:22:49.039\nyou good folks out there\ntrying to make this happen.\n\n445\n00:22:49.039 --> 00:22:50.336\nIt's easy to forget.\n\n446\n00:22:50.336 --> 00:22:52.628\nSo there's my [INAUDIBLE].\n\n447\n00:22:52.628 --> 00:23:00.350\nI'm on the 10.8.0.0 network as\nwe defined back in our file.\n\n448\n00:23:00.350 --> 00:23:03.303\nSo now that is up and running, [SOUND].\n\n449\n00:23:03.303 --> 00:23:05.630\nNow all we gotta do is make a client\nconnection, right everybody?\n\n450\n00:23:05.630 --> 00:23:06.810\nOkay, let's see if we can do it.\n\n451\n00:23:06.810 --> 00:23:08.250\nLet's see if I can do it.\n\n452\n00:23:08.250 --> 00:23:09.930\nYou've probably done it already.\n\n453\n00:23:09.930 --> 00:23:15.810\nHere we go, so all we have to do is I'm\nactually going to drop out of SU and\n\n454\n00:23:15.810 --> 00:23:18.710\nI'm gonna go back to my standard user.\n\n455\n00:23:18.710 --> 00:23:22.020\nSU, I'm just exiting out of that,\nand I will do a Sudu,\n\n456\n00:23:22.020 --> 00:23:25.020\nand you're like why are you doing sudu?\n\n457\n00:23:25.020 --> 00:23:28.420\nFor whatever reason you get crazy stuff\n\n458\n00:23:28.420 --> 00:23:31.770\nwhen you try to launch\nopen vpn clients as root.\n\n459\n00:23:31.770 --> 00:23:33.720\nIt just wasn't working for me anyway.\n\n460\n00:23:33.720 --> 00:23:36.310\nMaybe I was missing something,\nbut as soon as I dropped\n\n461\n00:23:36.310 --> 00:23:39.630\nfrom root back down to my standard\nuser and sudo'd it, it worked fine.\n\n462\n00:23:39.630 --> 00:23:41.550\nIt actually made a connection.\n\n463\n00:23:41.550 --> 00:23:42.820\nSo let's do that.\n\n464\n00:23:42.820 --> 00:23:50.060\nSudu and then open vpn and then your\n.ovpn file, which was client.ovpn.\n\n465\n00:23:50.060 --> 00:23:51.570\nHere's fingers crossed,\nladies and gentlemen.\n\n466\n00:23:51.570 --> 00:23:52.073\nType in my password.\n\n467\n00:23:55.846 --> 00:23:57.023\nI'm seeing good things.\n\n468\n00:23:57.023 --> 00:23:58.078\nI'm seeing good things.\n\n469\n00:23:58.078 --> 00:24:01.771\nInitialization sequence completed.\n\n470\n00:24:01.771 --> 00:24:05.698\nThat means I've actually\nmade an OpenVPN connection.\n\n471\n00:24:05.698 --> 00:24:07.180\nEverything is good.\n\n472\n00:24:07.180 --> 00:24:11.520\nNow I just want to kinda hang out for\na second and see if I get any errors.\n\n473\n00:24:11.520 --> 00:24:14.940\nI'm gonna actually move down here,\nI've been playing around here.\n\n474\n00:24:14.940 --> 00:24:19.330\nI'm gonna to do an ifconfig, sudo that.\n\n475\n00:24:24.554 --> 00:24:27.320\nAnd I am on this adaptor.\n\n476\n00:24:27.320 --> 00:24:30.310\nI do have a valid IP address right there,\nthere's tun0.\n\n477\n00:24:31.890 --> 00:24:33.900\nAnd let's move back up to here.\n\n478\n00:24:33.900 --> 00:24:36.800\nI haven't gotten any errors yet,\nso that's good.\n\n479\n00:24:36.800 --> 00:24:40.500\nThat means,\nno errors means things are working, right?\n\n480\n00:24:40.500 --> 00:24:44.130\nLet's see what happens if we\ntry to ping or something.\n\n481\n00:24:44.130 --> 00:24:47.840\nEven though ping might be\nbeing blocked by the firewall.\n\n482\n00:24:47.840 --> 00:24:53.721\nBut let's just try to make some sort\nof connection via the server here.\n\n483\n00:24:53.721 --> 00:24:58.077\nSo let's go from the server down to there,\n\n484\n00:24:58.077 --> 00:25:01.951\nlet's just ping 10.8.0.6.\n\n485\n00:25:01.951 --> 00:25:07.090\nAnd look at that,\nwe are talking live at five.\n\n486\n00:25:07.090 --> 00:25:08.220\nEverything is gravy.\n\n487\n00:25:08.220 --> 00:25:10.920\nSo that means, guess what, everyone?\n\n488\n00:25:10.920 --> 00:25:14.915\nWe have made a successful OpenVPN\nconnection, if I can Ctrl+C that.\n\n489\n00:25:14.915 --> 00:25:17.147\n[LAUGH] And we're done,\nthat's exactly what we need.\n\n490\n00:25:17.147 --> 00:25:20.884\nNow I did run into a few errors\nas I worked my way through this,\n\n491\n00:25:20.884 --> 00:25:24.390\ntrying to create this show for\nyou guys out there.\n\n492\n00:25:24.390 --> 00:25:25.780\nAnd they were some common errors.\n\n493\n00:25:25.780 --> 00:25:27.593\nActually, Justin and\nI were playing around.\n\n494\n00:25:27.593 --> 00:25:30.176\nAnd he was like,\nI'm looking at this error.\n\n495\n00:25:30.176 --> 00:25:33.300\nI said yeah,\nI looked at the exact same thing.\n\n496\n00:25:33.300 --> 00:25:35.569\nSo this is obviously very common things.\n\n497\n00:25:36.850 --> 00:25:40.105\nOne was, I got a TLS error, okay?\n\n498\n00:25:40.105 --> 00:25:44.111\nAnd it said, TLS key negotiation\nfailed to occur within 60 seconds,\n\n499\n00:25:44.111 --> 00:25:46.730\ncheck your network connectivity.\n\n500\n00:25:46.730 --> 00:25:49.180\nThat one was hitting me hard,\nI did not know what the problem was.\n\n501\n00:25:49.180 --> 00:25:52.705\nObviously, I ran to the oracle of\nInternet known as Google, [LAUGH] and\n\n502\n00:25:52.705 --> 00:25:55.050\nstarted searching through\nsome good things.\n\n503\n00:25:55.050 --> 00:26:00.487\nI did bring that up right here,\nthis was the error that I was getting.\n\n504\n00:26:00.487 --> 00:26:03.910\nI can actually, I don't wanna click on it.\n\n505\n00:26:03.910 --> 00:26:11.670\nBut this opened serverfault.com,\nhad the answer that I was looking for.\n\n506\n00:26:11.670 --> 00:26:16.240\nAs I look down in here,\nthis person had a port changing.\n\n507\n00:26:16.240 --> 00:26:19.530\nAnd this was, actually,\nit was in the documentation itself.\n\n508\n00:26:19.530 --> 00:26:23.010\nThat led me to what the problem was.\n\n509\n00:26:23.010 --> 00:26:27.786\nAnd the problem was the OpenVPN client\nconfig does not have the correct server\n\n510\n00:26:27.786 --> 00:26:29.564\naddress in the config file.\n\n511\n00:26:29.564 --> 00:26:31.890\nSo I had used the wrong IP address.\n\n512\n00:26:31.890 --> 00:26:33.860\nMaybe I did a restart or\nsomething like that.\n\n513\n00:26:33.860 --> 00:26:37.350\nThe IP address was wrong, and therefore\ncouldn't make that valid connection.\n\n514\n00:26:37.350 --> 00:26:40.020\nSo if you see that,\nyou might see that as well.\n\n515\n00:26:40.020 --> 00:26:45.230\nAlso, I had TLS was enabled,\nand I think we did that.\n\n516\n00:26:45.230 --> 00:26:49.630\nSo you gotta make sure TLS is either\nenabled or disabled as you want.\n\n517\n00:26:49.630 --> 00:26:51.350\nTypically, I think we have it enabled.\n\n518\n00:26:51.350 --> 00:26:52.680\nNo defaults were changed.\n\n519\n00:26:52.680 --> 00:26:55.740\nI think it was just that\nIP address was my problem.\n\n520\n00:26:55.740 --> 00:27:01.090\nBut right here are all the reasons\nthat you may encounter that.\n\n521\n00:27:01.090 --> 00:27:06.301\nAnd you'll notice it says that it came\nfrom their FAQ, the OpenVPN's FAQ.\n\n522\n00:27:06.301 --> 00:27:07.970\nSo that was the source for this.\n\n523\n00:27:07.970 --> 00:27:10.030\nThe other one I got was this one,\n\n524\n00:27:10.030 --> 00:27:14.159\nauthenticates/decrypt packet\nerror: cipher final failed.\n\n525\n00:27:14.159 --> 00:27:18.160\nI thought, man, I got a real issue now.\n\n526\n00:27:18.160 --> 00:27:21.266\nAnd the problem was\nactually really simple.\n\n527\n00:27:21.266 --> 00:27:24.900\nIt was as I went through here,\nyeah, it's right here.\n\n528\n00:27:24.900 --> 00:27:31.371\nThis cipher,\nthis person had cipher.BF-CBC.\n\n529\n00:27:31.371 --> 00:27:36.016\nI had cipher 128-CBC on my server, and\n\n530\n00:27:36.016 --> 00:27:39.507\nmy client was set up for 256.\n\n531\n00:27:39.507 --> 00:27:42.612\nSo there was a cipher misconfiguration.\n\n532\n00:27:42.612 --> 00:27:44.250\nI just had to go and change that 128,\n\n533\n00:27:44.250 --> 00:27:48.580\njust basically text out of there into the\nserver.com file, or the client.com file.\n\n534\n00:27:48.580 --> 00:27:51.679\nI can't remember which way I went now,\nand changed it from 128 to 256.\n\n535\n00:27:51.679 --> 00:27:54.140\nSo just check both those files.\n\n536\n00:27:54.140 --> 00:28:01.730\nMake sure they match as cipher 256-CBC,\nand that they're the same on both sides.\n\n537\n00:28:02.890 --> 00:28:07.670\nAnother error that I got was this one,\nthis was fun.\n\n538\n00:28:07.670 --> 00:28:11.690\nConnection errors,\ncomp-lzo only working after reconnect.\n\n539\n00:28:11.690 --> 00:28:13.970\nThought that was a little crazy.\n\n540\n00:28:13.970 --> 00:28:18.830\nThis is really what I was getting,\nthis TUN/TAP : Invalid argument (code=22).\n\n541\n00:28:18.830 --> 00:28:21.410\nStuff was happening,\ndidn't know what was going on.\n\n542\n00:28:21.410 --> 00:28:24.440\nHere we go,\ndocumentation saves us yet again.\n\n543\n00:28:24.440 --> 00:28:28.425\nJust make sure that,\nif you get this error, make sure that\n\n544\n00:28:28.425 --> 00:28:33.800\ncomp-lzo is in your config files, both of\nthem, and then they're not commented out.\n\n545\n00:28:33.800 --> 00:28:35.470\nAnd then that should alleviate that error.\n\n546\n00:28:36.485 --> 00:28:38.230\nDid I have one more?\n\n547\n00:28:38.230 --> 00:28:39.095\nWhat was this one?\n\n548\n00:28:39.095 --> 00:28:42.990\nNo, this was about\nthe [INAUDIBLE] connections.\n\n549\n00:28:42.990 --> 00:28:48.950\nThat was the three big errors that I got,\nand that should help you.\n\n550\n00:28:48.950 --> 00:28:52.830\nI'll put these links in the show notes for\nyou guys, so\n\n551\n00:28:52.830 --> 00:28:54.090\nthat you don't have to\ndo the Google searching.\n\n552\n00:28:54.090 --> 00:28:56.440\nYou can just follow the links and\nread the documentation.\n\n553\n00:28:56.440 --> 00:28:58.580\nSo if you're getting any of those errors,\n\n554\n00:28:58.580 --> 00:29:02.060\nhopefully I've led you on the right\npath and you can get them resolved ASAP.\n\n555\n00:29:02.060 --> 00:29:03.460\n&gt;&gt; Well Daniel, definitely thank you.\n\n556\n00:29:03.460 --> 00:29:07.240\nI know we've come on a long journey to\nactually get OpenVPN, both the server and\n\n557\n00:29:07.240 --> 00:29:09.210\nthe client, all working.\n\n558\n00:29:09.210 --> 00:29:13.210\nI've dealt with OpenVPN myself, so\nI understand you're like, what?\n\n559\n00:29:13.210 --> 00:29:14.850\nI wonder why that does that.\n\n560\n00:29:14.850 --> 00:29:18.910\nSo speaking of the sudo thing,\nI've had a very similar experience.\n\n561\n00:29:18.910 --> 00:29:24.260\nI have to sudo OpenVPN to the .ovpn file.\n\n562\n00:29:24.260 --> 00:29:26.030\nI couldn't get it to work\nany other way as well.\n\n563\n00:29:26.030 --> 00:29:27.660\nSo that's two disjoined people.\n\n564\n00:29:27.660 --> 00:29:31.630\nAnd that's actually before we ever did\nthis show, this is completely unrelated.\n\n565\n00:29:31.630 --> 00:29:34.120\nSo this seems like it might\nbe a permissions issue or\n\n566\n00:29:34.120 --> 00:29:36.950\njust kind of how things are resolved\nthrough the connection, who knows.\n\n567\n00:29:36.950 --> 00:29:38.884\nBut I'm got an OpenVPN connection.\n\n568\n00:29:38.884 --> 00:29:43.127\nAnd well, hopefully you can use this\nseries to set up an OpenVPN server for\n\n569\n00:29:43.127 --> 00:29:44.540\nyourself as well.\n\n570\n00:29:44.540 --> 00:29:47.350\nBut that's gonna do it for this series.\n\n571\n00:29:47.350 --> 00:29:50.430\nSo signing off for ITProTV,\nI've been your host, Justin Dennison.\n\n572\n00:29:50.430 --> 00:29:51.340\n&gt;&gt; And I'm Daniel Lowrie.\n\n573\n00:29:51.340 --> 00:29:52.450\n&gt;&gt; And we'll see you next time.\n\n574\n00:29:52.450 --> 00:29:59.832\n[MUSIC]\n\n575\n00:29:59.832 --> 00:30:02.669\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "228813473"
        }
      ],
      "title": "OpenVPN in Linux"
    }
  ],
  "url": "openvpnlinux",
  "vLab": false
}
