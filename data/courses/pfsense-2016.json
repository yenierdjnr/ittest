{
  "description": "The pfSense show is presented to help users to become familiar and proficient at deploying the free network firewall.  This free solution provides the features found in most commercial firewalls and even some features not found in some of them.  It is completely scalable only limited by the hardware you provide.  To make for easier management and configuration, a full featured and intuitive web-based configurator is integrated to support all features.  You’ll see that it’s relatively easy to get it functional.  The show also shows how to implement firewall filters, nat rules, network services, VPNs and additional packages.",
  "descriptionMD": "",
  "length": "43370",
  "name": "pfSense (2016)",
  "practiceExam": false,
  "subtitle": "pfSense build 2.3.2",
  "tagUrl": "network-admin",
  "topics": [
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Ronnie give a general overview of what to expect in the upcoming pfSenese v2.3.2 series. They cover topics like who is the intended audience, what the scope of the series will cover, and what are some specific topics that will be addressed.",
          "length": "309",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-0-0-overview-011317-PGM.00_00_03_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-0-0-overview-011317-PGM.00_00_03_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-0-0-overview-011317-PGM.00_00_03_23.Still001-sm.jpg",
          "title": "Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:05.037\n[SOUND] In this segment we're\ngonna give you a quick preview of\n\n2\n00:00:05.037 --> 00:00:11.283\nwhat you can expect from our upcoming\npfSense Version 2.3.2 series.\n\n3\n00:00:11.283 --> 00:00:14.692\nAnd Ronnie I was wondering since you've\njoined me here in the studio today,\n\n4\n00:00:14.692 --> 00:00:18.098\nwould you be so kind as to give us a quick\ngeneral overview of what we can expect\n\n5\n00:00:18.098 --> 00:00:19.250\nfrom that series.\n\n6\n00:00:19.250 --> 00:00:21.940\n&gt;&gt; Well, when we start taking a look\nat the idea of implementing pfSense,\n\n7\n00:00:21.940 --> 00:00:25.540\nit's one of the most popular pieces\nof software that's out there.\n\n8\n00:00:25.540 --> 00:00:27.200\nFor us, we're implementing firewalls.\n\n9\n00:00:27.200 --> 00:00:28.291\nDon't get me wrong,\n\n10\n00:00:28.291 --> 00:00:31.927\nthere's a bunch of solutions that\nare out there that we can pay for, but\n\n11\n00:00:31.927 --> 00:00:36.440\npfSense gives us the enterprise solutions\nthat we all really do want and need.\n\n12\n00:00:36.440 --> 00:00:41.750\nReally at a incredibly budgeted cost, but\nsuper high performance at the same time.\n\n13\n00:00:41.750 --> 00:00:46.650\nSo in our show, we of course are going\nto begin by taking a look at how we\n\n14\n00:00:46.650 --> 00:00:51.810\ninstall pfSense and\nwhere we get the pfSense ISO from,\n\n15\n00:00:51.810 --> 00:00:55.670\nso that we can begin our installation and\nthe configuration.\n\n16\n00:00:55.670 --> 00:01:00.600\nThe basic configuration, of course,\nreally is kind of the key to get it up and\n\n17\n00:01:00.600 --> 00:01:05.900\nrunning and most of the time you can even\nbring pfSense up within 20 or 30 minutes.\n\n18\n00:01:05.900 --> 00:01:11.150\nGet it up, operation, at that point we'll\ntake a look at multiple configurations.\n\n19\n00:01:11.150 --> 00:01:13.760\nWhen we start talking about the\nconfiguration there's gonna be multiple\n\n20\n00:01:13.760 --> 00:01:18.850\ntabs that are inside of pfSense, and\nwe will hit every single one of them,\n\n21\n00:01:18.850 --> 00:01:25.750\nnot showing every single option in\nthe most in depth dive that we can do.\n\n22\n00:01:25.750 --> 00:01:29.100\nBut, at least,\nfamiliarity in getting around pfSense, and\n\n23\n00:01:29.100 --> 00:01:33.880\nensuring that we can configure, kind of,\nthe basic things such as, of course,\n\n24\n00:01:33.880 --> 00:01:38.670\ninstalling things like packages,\nconfiguring high availability and\n\n25\n00:01:38.670 --> 00:01:41.990\nfailover are also key that we can do.\n\n26\n00:01:41.990 --> 00:01:45.810\nWe're also of course going to be\nsetting up different firewall rules and\n\n27\n00:01:45.810 --> 00:01:48.640\nconfiguring that inside of pfSense, as\n\n28\n00:01:48.640 --> 00:01:52.360\nwell as using some virtual interfaces to\nhelp us when we set up high availability.\n\n29\n00:01:53.420 --> 00:01:57.940\nWe're going to end up seeing as well,\nthe ability to configure for\n\n30\n00:01:57.940 --> 00:02:00.450\ncaptive portal, if we want to, so\n\n31\n00:02:00.450 --> 00:02:05.550\nthat we can have some type of stop before\nsomebody connects out to the Internet.\n\n32\n00:02:05.550 --> 00:02:10.720\nWe might see this more often in\nsomething like a coffeehouse\n\n33\n00:02:10.720 --> 00:02:15.150\nof some sort where they say hey, make sure\nyou click here before you can get out.\n\n34\n00:02:15.150 --> 00:02:17.350\nThat you have to read\nthe agreements that you need.\n\n35\n00:02:17.350 --> 00:02:21.430\nAs well as DHCP and DNS, and of course,\n\n36\n00:02:21.430 --> 00:02:24.180\nthere's other things that\nare out there such as VPNs.\n\n37\n00:02:24.180 --> 00:02:27.330\nWe'll show you how configure\na site-to-site VPN using Open VPN,\n\n38\n00:02:27.330 --> 00:02:31.730\nas well as IPSec and remote access VPN.\n\n39\n00:02:31.730 --> 00:02:35.510\nAnd lastly, we'll also end up taking\na look at, well multiple tools that\n\n40\n00:02:35.510 --> 00:02:40.110\nare available to help us to monitor and\nto ensure that we can see some of\n\n41\n00:02:40.110 --> 00:02:44.660\nthe diagnostic tools that are available,\nthat are built right into pfSense.\n\n42\n00:02:44.660 --> 00:02:49.210\nAll of these are actually nice features\nthat really requires a little bit of\n\n43\n00:02:49.210 --> 00:02:54.810\nattention but once you start to use it,\nyou'll see how intuitive it is and\n\n44\n00:02:54.810 --> 00:02:58.820\nhow easy it really is to configure\nsome of those technical configurations\n\n45\n00:02:58.820 --> 00:03:01.450\nthat might take you a long time\nto learn like a Cisco ASA.\n\n46\n00:03:01.450 --> 00:03:05.890\nIt will only take you a little bit of\ntime to learn and its very intuitive\n\n47\n00:03:05.890 --> 00:03:10.090\ninterface will ask you make it much\neasier and easier to troubleshoot.\n\n48\n00:03:10.090 --> 00:03:12.785\nThere's a lot of fun to be had there, so\n\n49\n00:03:12.785 --> 00:03:17.133\nget ready as you actually take\na look into PSsense 2.3.2.\n\n50\n00:03:17.133 --> 00:03:19.700\n&gt;&gt; All right, Ronnie, you threw a lot\nof technical jargon at us there.\n\n51\n00:03:19.700 --> 00:03:23.640\nSo, I'm guessing there is an intended\naudience, or maybe even a foundation\n\n52\n00:03:23.640 --> 00:03:27.760\nof knowledge that someone might have that\nwould go along with this series, as well.\n\n53\n00:03:27.760 --> 00:03:31.840\n&gt;&gt; Like anything else, you do need to\nhave a bit of networking knowledge\n\n54\n00:03:31.840 --> 00:03:34.800\nbehind getting a pfSense box set up.\n\n55\n00:03:34.800 --> 00:03:38.030\nIf you're using this with an Internet\nconnection, you do need to understand\n\n56\n00:03:38.030 --> 00:03:41.520\nhow to assign those public IP addresses,\na little bit of subnetting.\n\n57\n00:03:41.520 --> 00:03:45.920\nAnd then, of course, connecting into\nthings like switches if you need to.\n\n58\n00:03:45.920 --> 00:03:48.640\nAlong the way, too, that would be helpful,\n\n59\n00:03:48.640 --> 00:03:53.410\nis having a logical understanding\nof setting up access control list,\n\n60\n00:03:53.410 --> 00:03:59.210\nor firewall rules, and understanding the\norder of importance that you might have.\n\n61\n00:03:59.210 --> 00:04:02.340\nHaving familiarity,\nof course, with just basic\n\n62\n00:04:02.340 --> 00:04:07.510\nVPN concepts will get you at least started\nand established in what we can do.\n\n63\n00:04:07.510 --> 00:04:11.150\nAnd then in monitoring it is about\nlearning how to troubleshoot.\n\n64\n00:04:11.150 --> 00:04:15.010\nSome of the major issues that\nwe can see from the pfSense box.\n\n65\n00:04:15.010 --> 00:04:19.560\nSo if this is inside of your wheelhouse,\nall of the information that we're about\n\n66\n00:04:19.560 --> 00:04:24.540\nto talk about here in our series, you're\ngonna see that we'll cover those things.\n\n67\n00:04:24.540 --> 00:04:28.280\nBut using, of course, the pfSense\ninterface to help us to do that.\n\n68\n00:04:28.280 --> 00:04:29.030\nThe great thing,\n\n69\n00:04:29.030 --> 00:04:33.320\nonce again, is that we'll show you step\nby step how to configure a lot of this.\n\n70\n00:04:33.320 --> 00:04:36.170\nEven if we don't go into\nthe most technical aspects of it,\n\n71\n00:04:36.170 --> 00:04:39.100\nyou'll at least feel familiar enough\nto know where you can do a little\n\n72\n00:04:39.100 --> 00:04:43.090\nbit of researching of this is exactly\nwhat I need and that should help you out.\n\n73\n00:04:43.090 --> 00:04:48.200\nSo we'll be covering that pretty\nmuch in depth and you'll get a good\n\n74\n00:04:48.200 --> 00:04:53.170\nsense of how the pfSense firewall\n2.3.2 works in reality unless you used\n\n75\n00:04:53.170 --> 00:04:56.820\na lot of scenarios in which we've\nalso set up right here at ITProTV.\n\n76\n00:04:56.820 --> 00:04:59.570\n&gt;&gt; All right, well, Ronnie, thank you so\nmuch for that great information.\n\n77\n00:04:59.570 --> 00:05:02.964\nNow, if that's sounds like something\nthat's interesting to you, and\n\n78\n00:05:02.964 --> 00:05:05.532\nwe look forward to seeing\nwith in the upcoming series.\n\n79\n00:05:05.532 --> 00:05:08.914\n[SOUND]\n\n",
          "vimeoId": "199679593"
        },
        {
          "description": "In this episode, Daniel and Ronnie introduce you to the pfSense v2.3.2 firewall. Here they discuss reasons for using pfSense vs their more expensive competitors, explore deployment options, and go over some of the other features like VPN Appliance, DHCP Server, and DNS as well.",
          "length": "1396",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-1-intro_to_pfsense-121216.00_23_02_02.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-1-intro_to_pfsense-121216.00_23_02_02.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-1-intro_to_pfsense-121216.00_23_02_02.Still001-sm.jpg",
          "title": "Intro to pfSense",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.230\nWelcome to ITProTV.\n\n2\n00:00:01.230 --> 00:00:07.141\nI'm your host- [CROSSTALK]\n\n3\n00:00:07.141 --> 00:00:11.392\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.392 --> 00:00:13.573\n&gt;&gt; All right, greetings, everyone, and\n\n5\n00:00:13.573 --> 00:00:16.279\nwelcome to another exciting\nepisode of ITProTV.\n\n6\n00:00:16.279 --> 00:00:19.771\nI'm your host, Daniel Lowrie and\nin today's episode,\n\n7\n00:00:19.771 --> 00:00:23.420\nwe are kicking off our\npfSense version 2.3.2 series.\n\n8\n00:00:23.420 --> 00:00:26.049\n&gt;&gt; [LAUGH]\n&gt;&gt; And joining us in the studio today\n\n9\n00:00:26.049 --> 00:00:29.319\nto lend us down this trek,\nour good friend Mr. Ronnie Wong.\n\n10\n00:00:29.319 --> 00:00:30.399\nRonnie, welcome back, sir.\n\n11\n00:00:30.399 --> 00:00:33.813\n&gt;&gt; Well thank you for having me\nback in the studio as we continue\n\n12\n00:00:33.813 --> 00:00:36.970\nto take a look at the idea\nof working with pfSense.\n\n13\n00:00:36.970 --> 00:00:41.962\nNow, I say the word continue because we've\nalready filmed an entire show on pfSense.\n\n14\n00:00:41.962 --> 00:00:45.892\nBut, there is a new version that's\nbeen out for a little bit of time and\n\n15\n00:00:45.892 --> 00:00:50.222\nwe wanted to make sure that the content\nwas up to date if you're really getting\n\n16\n00:00:50.222 --> 00:00:53.570\nstarted in pfSense this is a great one for\nyou to be in.\n\n17\n00:00:53.570 --> 00:00:57.550\nIf you're just trying to say, hey,\nis it worth us really trying to update and\n\n18\n00:00:57.550 --> 00:01:00.670\nsee all the other things that\nare available, well this show will\n\n19\n00:01:00.670 --> 00:01:05.130\nhelp you again to get set up and\nto be able to use pfSense as well.\n\n20\n00:01:05.130 --> 00:01:07.420\nSo, what we wanna do today of course,\n\n21\n00:01:07.420 --> 00:01:11.980\nas we start to take a look then,\nis to talk about the nature of pfSense.\n\n22\n00:01:11.980 --> 00:01:16.130\nMaybe you've been using Cisco\nfirewalls such as the ESA or\n\n23\n00:01:16.130 --> 00:01:18.230\neven older, such as a Cisco PIX.\n\n24\n00:01:18.230 --> 00:01:20.000\nMaybe you've been using sonic firewall,\n\n25\n00:01:20.000 --> 00:01:24.010\nmaybe you've been using Astero,\nwhatever it might be.\n\n26\n00:01:24.010 --> 00:01:28.480\nBut there's a bunch of different ones\nout there, and now you're starting to\n\n27\n00:01:28.480 --> 00:01:32.070\nhear other people that you might\nactually work near or about.\n\n28\n00:01:32.070 --> 00:01:35.796\nThe very fact that you have friends that\nwork at other companies say you should\n\n29\n00:01:35.796 --> 00:01:38.792\nconsider the idea of using pfSense and\nthe way it's gonna be.\n\n30\n00:01:38.792 --> 00:01:43.215\nYou may actually want to do so, but\nthis may be your first forray out of\n\n31\n00:01:43.215 --> 00:01:48.175\nthe realm of where you have something\nlike Cisco, a big name standing there,\n\n32\n00:01:48.175 --> 00:01:51.160\nand now people are talking about pfSense.\n\n33\n00:01:51.160 --> 00:01:53.820\nWell, we wanna introduce you,\nof course, to the concept\n\n34\n00:01:53.820 --> 00:01:59.340\nof why people want to actually\nuse this idea of pfSense as well.\n\n35\n00:01:59.340 --> 00:02:02.440\nSo, there's a lot of features\nthat you tend to find in\n\n36\n00:02:02.440 --> 00:02:05.200\nfirewalls especially those\nthat we've named here.\n\n37\n00:02:05.200 --> 00:02:09.740\nAnd the other thing behind it of\ncourse is that they do cost money.\n\n38\n00:02:09.740 --> 00:02:14.620\nThe more features that you add in, the\nmore money it actually ends up costing.\n\n39\n00:02:14.620 --> 00:02:19.075\nNow, Daniel you used to work at an\ninsurance firm and the idea of firewalls.\n\n40\n00:02:19.075 --> 00:02:21.925\nThey can be pretty expensive,\ndepending on what you need, right?\n\n41\n00:02:21.925 --> 00:02:22.770\n&gt;&gt; Yeah, they can cost a few bucks.\n\n42\n00:02:22.770 --> 00:02:25.378\n&gt;&gt; [LAUGH]\n&gt;&gt; Cisco specifically is probably\n\n43\n00:02:25.378 --> 00:02:30.545\nthe most ubiquitous, the one you'll\nsee the most out there in the wild.\n\n44\n00:02:30.545 --> 00:02:35.345\nThey're great devices, there's a reason\nthat Cisco sells so many of them.\n\n45\n00:02:35.345 --> 00:02:37.920\nBut like Ronnie said,\nthey can get a little bit pricey.\n\n46\n00:02:37.920 --> 00:02:40.734\nThe ten user license agreement ones,\nnot so bad,\n\n47\n00:02:40.734 --> 00:02:44.493\nbut if you have to bump,\nit's not like you can bump to 20 or 30.\n\n48\n00:02:44.493 --> 00:02:49.270\nYou have to bump to a 50 user license, and\nthat's when it starts hurting the wallet.\n\n49\n00:02:49.270 --> 00:02:52.870\n&gt;&gt; Yeah, the idea of cost is really\nvery limiting for most company.\n\n50\n00:02:52.870 --> 00:02:57.450\nNow, at a big company you may just go,\nit's okay, the cost is no big deal.\n\n51\n00:02:57.450 --> 00:03:00.511\nI'd rather stick with the name brand of\nCisco, and they're perfectly fine and\n\n52\n00:03:00.511 --> 00:03:01.159\nthe way they go.\n\n53\n00:03:01.159 --> 00:03:06.047\nBut there's a lot of company that\nare needing the same types of features\n\n54\n00:03:06.047 --> 00:03:10.854\nthat you tend to find not only in\nCisco firewalls but also, of course,\n\n55\n00:03:10.854 --> 00:03:15.987\na little bit more friendly in the\nlicensing side that drives the cost down,\n\n56\n00:03:15.987 --> 00:03:19.072\nbut at the same time be feature rich.\n\n57\n00:03:19.072 --> 00:03:23.560\nWell, pfSense is one of those types\nof firewalls that we can talk about,\n\n58\n00:03:23.560 --> 00:03:28.820\nas an appliance or just as software\nitself that really helps us in this area.\n\n59\n00:03:28.820 --> 00:03:32.222\nNow overall, if you don't know about it,\nDaniel, by chance,\n\n60\n00:03:32.222 --> 00:03:35.633\ndo you know how much pfSense costs\nif you were to implement this?\n\n61\n00:03:35.633 --> 00:03:37.328\n&gt;&gt; Yeah, I actually think I do know,\n\n62\n00:03:37.328 --> 00:03:41.810\nother than they're not that bad just a few\nhundred dollars, I wanna say around $400.\n\n63\n00:03:41.810 --> 00:03:43.990\n&gt;&gt; Yeah,\nit really depends on the hardware,\n\n64\n00:03:43.990 --> 00:03:45.720\nthe type of hardware that you want.\n\n65\n00:03:45.720 --> 00:03:50.310\nBut the pfSense itself, what actually\nmakes it a firewall, really costs free.\n\n66\n00:03:50.310 --> 00:03:54.752\nIt's really nothing, yeah the [CROSSTALK]\nThe hardware itself though can cost some\n\n67\n00:03:54.752 --> 00:03:57.427\nmoney, and\nthat really depends on performance.\n\n68\n00:03:57.427 --> 00:04:01.888\nAnd we're gonna talk about that when we\nget into the installation on why you would\n\n69\n00:04:01.888 --> 00:04:06.100\nchose to do that, but the nice thing is,\nit's not proprietary hardware.\n\n70\n00:04:06.100 --> 00:04:08.950\nYou can actually build\nyour own pfSense box and\n\n71\n00:04:08.950 --> 00:04:12.330\nreally be able to save a bit of time and\nmoney, and\n\n72\n00:04:12.330 --> 00:04:16.480\nbe able to actually build a very robust\ntype of firewall with a bunch of features.\n\n73\n00:04:16.480 --> 00:04:19.590\nSo, pfSense is designed\nto be fairly low cost,\n\n74\n00:04:19.590 --> 00:04:22.420\nreally hardware is kinda\nthe big cost of this.\n\n75\n00:04:22.420 --> 00:04:27.420\nAnd an incredibly feature rich alternative\nto what we normally see in those kind\n\n76\n00:04:27.420 --> 00:04:32.090\nof big guys in the firewall industry\nas well, and in this marketplace.\n\n77\n00:04:32.090 --> 00:04:37.680\nAnd because of it's ability to actually\nhave everything in there, the nice\n\n78\n00:04:37.680 --> 00:04:42.020\nthing about it is, if you need to use the\nfeature all you have to do is turn it on.\n\n79\n00:04:42.020 --> 00:04:45.220\nIf you don't use the feature\nit's normally off by default.\n\n80\n00:04:45.220 --> 00:04:51.550\nSo they've included everything in the box\nitself in terms of the features for\n\n81\n00:04:51.550 --> 00:04:56.320\npfSense, but it doesn't mean\nyou have to use everything.\n\n82\n00:04:56.320 --> 00:04:57.520\nNow, there'll be some people,\n\n83\n00:04:57.520 --> 00:05:00.590\nespecially if they're brand new\nto implementing a firewall,\n\n84\n00:05:00.590 --> 00:05:04.670\nthat'll go, I want to turn on this,\nthis, this, this, this, and this, this.\n\n85\n00:05:04.670 --> 00:05:06.910\nAnd then,\nthe first time that they try that and\n\n86\n00:05:06.910 --> 00:05:11.370\nthey've built up from an old machine,\nthey're like this thing runs slow.\n\n87\n00:05:11.370 --> 00:05:15.020\nAnd that's because all those\nfeatures require some measure of\n\n88\n00:05:15.020 --> 00:05:19.100\nhardware performance that if you're gonna\ndo that you really have to provide that.\n\n89\n00:05:19.100 --> 00:05:21.300\nLike I said,\nwe'll get into that a little bit later on.\n\n90\n00:05:21.300 --> 00:05:25.155\nBut the very fact is that it really does,\nany feature that you can find\n\n91\n00:05:25.155 --> 00:05:29.678\nin the majority of these firewalls pfSense\nis an open standard way of doing it, or\n\n92\n00:05:29.678 --> 00:05:33.869\nan open source way, of being able to\nprovide those same feature rich things\n\n93\n00:05:33.869 --> 00:05:36.129\nthat normally can cost you hundreds, or\n\n94\n00:05:36.129 --> 00:05:39.750\neven thousands of dollars to\nimplement inside of your company.\n\n95\n00:05:39.750 --> 00:05:43.846\nAnd be able to actually really provide\nit for the minimal cost of putting\n\n96\n00:05:43.846 --> 00:05:48.148\ntogether just a hardware box of some\nsort a machine that you actually need to\n\n97\n00:05:48.148 --> 00:05:53.265\nmake sure that you at least have\nthe basic hardware requirements to run.\n\n98\n00:05:53.265 --> 00:05:56.495\nThe other thing about pfSense\nthat's really nice is that,\n\n99\n00:05:56.495 --> 00:06:00.905\nif you have been like I was, really\nstuck in the Cisco world of working with\n\n100\n00:06:00.905 --> 00:06:05.550\nCisco ASAs and a little bit older in\nterms of the idea of working with Cisco\n\n101\n00:06:05.550 --> 00:06:10.140\npicks firewalls just briefly, you might\nfind something that's actually neat.\n\n102\n00:06:10.140 --> 00:06:15.580\nIs that unlike those interfaces\nwhich are not intuitive, pfSense's\n\n103\n00:06:15.580 --> 00:06:19.950\ninterfaces in the way that you configure\nit, it's a lot more intuitive as well.\n\n104\n00:06:19.950 --> 00:06:24.840\nSo it's very user friendly, very low cost,\nand depending on the hardware you\n\n105\n00:06:24.840 --> 00:06:27.840\ngive to it you can actually jump\nits performance pretty well.\n\n106\n00:06:27.840 --> 00:06:34.060\nSo, it's incredibly easy also to get\nup and running very quickly too.\n\n107\n00:06:34.060 --> 00:06:39.380\nSo, in relatively short time, you can\nbring up a pf sense firewall very quickly\n\n108\n00:06:39.380 --> 00:06:42.920\nand have it installed and\nrunning at least the basic features.\n\n109\n00:06:42.920 --> 00:06:45.450\nProbably within an hour or two hours, and\n\n110\n00:06:45.450 --> 00:06:48.000\nthen implement configurations\nfrom that point.\n\n111\n00:06:48.000 --> 00:06:51.485\nNow of course, as you go from more complex\nconfigurations, and you add in more,\n\n112\n00:06:51.485 --> 00:06:53.193\nit'll take you a little bit more time.\n\n113\n00:06:53.193 --> 00:06:56.426\nBut that's what you're normally talking\nabout when you start to take a look\n\n114\n00:06:56.426 --> 00:06:57.540\nthere, okay?\n\n115\n00:06:57.540 --> 00:07:01.140\nSo, let's go ahead then and take a look\nat where we tend to find pf sense And\n\n116\n00:07:01.140 --> 00:07:03.539\nthen we'll move from that point as well,\nokay?\n\n117\n00:07:03.539 --> 00:07:06.815\nSo, let's look at my computer screen, So\n\n118\n00:07:06.815 --> 00:07:11.022\nI'm simply going to navigate\nto the pfSense webpage.\n\n119\n00:07:11.022 --> 00:07:14.040\nI wanna have imported that\nbefore we started here and\n\n120\n00:07:14.040 --> 00:07:16.660\nthe URL that we'll going\nto use is right here, okay?\n\n121\n00:07:17.955 --> 00:07:23.760\nhttps://pfsense.org is,\nwhat you're looking for.\n\n122\n00:07:23.760 --> 00:07:28.040\nAnd that of course will bring you\nto the pfSense website itself.\n\n123\n00:07:28.040 --> 00:07:31.730\nNow, this website has changed\nover time and over the years.\n\n124\n00:07:31.730 --> 00:07:33.280\nBut this is where we begin,\n\n125\n00:07:33.280 --> 00:07:35.460\nif we're actually interested\nin working with pfSense.\n\n126\n00:07:35.460 --> 00:07:37.620\nIt'll give you a little bit\nmore about the explanation and\n\n127\n00:07:37.620 --> 00:07:42.070\nthe history of pfSense, as well as how you\ncan actually download pfSense as well.\n\n128\n00:07:42.070 --> 00:07:46.100\nAnd we will get to that feature as\nwe begin the installation part two.\n\n129\n00:07:46.100 --> 00:07:50.901\nSo if a click on Tour, we wanna talk\nabout just a few things here too.\n\n130\n00:07:50.901 --> 00:07:54.404\nAnd you'll notice that right here, there's\nkind of a brief overview on getting\n\n131\n00:07:54.404 --> 00:07:57.351\nstarted with PSN, some of\nthe consideration that you might think.\n\n132\n00:07:57.351 --> 00:08:00.323\nAnd if you have been working\nwith other firewalls, again,\n\n133\n00:08:00.323 --> 00:08:04.128\nyou'll see that the features that you\nfind here in pfSense are comparable to\n\n134\n00:08:04.128 --> 00:08:06.990\nwhat you'd normally find in\nall these other firewalls.\n\n135\n00:08:06.990 --> 00:08:11.940\nAnd they include a lot such as Checkpoint,\nPIX, ASA,\n\n136\n00:08:11.940 --> 00:08:15.820\nJuniper, SonicWall,\nNetGear, WatchGuard, Astaro.\n\n137\n00:08:15.820 --> 00:08:17.840\nYou name it, there's a lot there.\n\n138\n00:08:17.840 --> 00:08:21.210\nThe other thing that they really do\nemphasize, and which we'll get to in\n\n139\n00:08:21.210 --> 00:08:25.830\nthe installation episode,\nis the idea of hardware selection.\n\n140\n00:08:25.830 --> 00:08:27.810\nNow, if you and I are building this,\n\n141\n00:08:27.810 --> 00:08:31.440\nyou might think like I did the very\nfirst time I tried to build one.\n\n142\n00:08:31.440 --> 00:08:32.570\nIt was fairly simple.\n\n143\n00:08:32.570 --> 00:08:36.150\nI found the oldest computer I had and\n\n144\n00:08:36.150 --> 00:08:38.710\nI tried to make sure at least I\nmet the minimum requirements.\n\n145\n00:08:38.710 --> 00:08:41.910\nAnd don't get me wrong,\nthat will work in a test environment.\n\n146\n00:08:41.910 --> 00:08:45.620\nBut if you need this in production,\nyou gotta spend a little bit more time and\n\n147\n00:08:45.620 --> 00:08:47.650\nyou gotta take a look at\nthe hardware selection and\n\n148\n00:08:47.650 --> 00:08:49.640\nthey have a nice guide for you.\n\n149\n00:08:49.640 --> 00:08:51.850\nBut if you're in a hurry, okay,\n\n150\n00:08:51.850 --> 00:08:55.810\nand you really need to get\nstarted as soon as you can.\n\n151\n00:08:55.810 --> 00:09:00.740\nThey themselves have a company that\nthey work with called Netgate,\n\n152\n00:09:00.740 --> 00:09:04.720\nright here,\nthat will provide the hardware as well.\n\n153\n00:09:04.720 --> 00:09:06.440\nSo that way you actually buy the hardware,\n\n154\n00:09:06.440 --> 00:09:10.580\nand because pfSense is open-source itself,\nit's gonna be free.\n\n155\n00:09:10.580 --> 00:09:15.150\nSo you're really only paying for the\nhardware itself a lot of times and that\n\n156\n00:09:15.150 --> 00:09:20.880\nmoney also goes to of course continuing\nthat pfSense project is what it does.\n\n157\n00:09:20.880 --> 00:09:26.570\nSo a portion of the money that they\nreceive from you buying the hardware,\n\n158\n00:09:26.570 --> 00:09:28.970\nit does go into supporting\nthe entire project so\n\n159\n00:09:28.970 --> 00:09:33.590\nit can continue to be developed, and\nof course updated along the way, okay?\n\n160\n00:09:33.590 --> 00:09:34.210\nFrom that point,\n\n161\n00:09:34.210 --> 00:09:39.290\nyou'll see that there's a lot of different\nsize of implementations that you have.\n\n162\n00:09:39.290 --> 00:09:46.140\nOne of the neat things about pfSense and\none of the hard things about some\n\n163\n00:09:47.520 --> 00:09:51.970\nof the other proprietary firewalls tend\nto work with hardware that they've got\n\n164\n00:09:51.970 --> 00:09:55.490\ninstalled in and there's nothing you\ncan do to change that configuration.\n\n165\n00:09:55.490 --> 00:09:58.490\nYou can't really do anything about it,\nand so whatever it is,\n\n166\n00:09:58.490 --> 00:10:02.330\nthat's the way that you're gonna be\nstuck with that aspect and that idea.\n\n167\n00:10:02.330 --> 00:10:07.200\nBut with pfSense, because you can build\nyour own, you also end up being able to\n\n168\n00:10:07.200 --> 00:10:10.270\nupgrade some of the hardware and\nit can work with it too.\n\n169\n00:10:10.270 --> 00:10:15.050\nSo pfSense essentially is kind\nof an operating system that was\n\n170\n00:10:15.050 --> 00:10:19.870\nreally derived from FreeBSD,\nis really where it was derived from, and\n\n171\n00:10:19.870 --> 00:10:21.760\nthis is an important concept.\n\n172\n00:10:21.760 --> 00:10:25.550\nIt is because of the hardware\nsupport that FreeBSD offers.\n\n173\n00:10:25.550 --> 00:10:30.160\nOriginally, people had talked about the\nidea of using OpenBSD, which was fine, but\n\n174\n00:10:30.160 --> 00:10:35.450\nit had fairly limited hardware support,\nand definitely limited wireless support.\n\n175\n00:10:35.450 --> 00:10:40.270\nBecause pfSense wanted to do a little bit\nbetter, Free BSD tends to have support for\n\n176\n00:10:40.270 --> 00:10:42.470\nall of the major and\n\n177\n00:10:42.470 --> 00:10:47.180\na lot of the actual different network\ninterface cards that are out there.\n\n178\n00:10:47.180 --> 00:10:50.770\nThey went with free BSD instead and\nthat has made them, of course,\n\n179\n00:10:50.770 --> 00:10:56.100\nmuch more widely able to adapt and\n\n180\n00:10:56.100 --> 00:10:59.990\nto be able to implement on different\ntypes of hardware that's now there.\n\n181\n00:10:59.990 --> 00:11:03.290\nAnd that really is kind of the key,\nbecause now you can go\n\n182\n00:11:03.290 --> 00:11:07.110\nfrom someone that can say I'm\nreally an economy type of firewall,\n\n183\n00:11:07.110 --> 00:11:10.045\nI just need functionality,\nI'm not so worried about throughput.\n\n184\n00:11:10.045 --> 00:11:12.940\nTo the guy that says I\nreally want to implement\n\n185\n00:11:12.940 --> 00:11:15.570\nthe highest level of\nthroughput that I can.\n\n186\n00:11:15.570 --> 00:11:21.710\nAnd because of the driver support in it,\npfSense is something,\n\n187\n00:11:21.710 --> 00:11:25.730\nlet's say BSD, pfSense itself,\nit depends on the driver support found in\n\n188\n00:11:25.730 --> 00:11:30.510\nfree BSD which is really just about\neverything that you found out there.\n\n189\n00:11:30.510 --> 00:11:35.420\nSo it's really kind of neat when you start\nto say, hey, I want to go with this.\n\n190\n00:11:35.420 --> 00:11:36.840\nShould I, shouldn't I?\n\n191\n00:11:36.840 --> 00:11:39.980\nWell, you can actually support just about\nevery type of hardware that's out there if\n\n192\n00:11:39.980 --> 00:11:42.945\nyou choose to run something like,\nthat's FreeBSD and\n\n193\n00:11:42.945 --> 00:11:47.060\nit's driver support is really phenomenal\nin comparison to a lot of the other\n\n194\n00:11:47.060 --> 00:11:49.380\ntypes of devices that you have out there.\n\n195\n00:11:49.380 --> 00:11:53.520\n&gt;&gt; Ronnie, when we were bouncing around\nthe question, should I or shouldn't I?\n\n196\n00:11:53.520 --> 00:11:55.960\nMaybe I should stick with\na more well known vendor,\n\n197\n00:11:55.960 --> 00:11:57.930\nsomething that I have to\npay a lot of money for but\n\n198\n00:11:57.930 --> 00:12:02.990\nI know that I'm getting enterprise level\ntype of device and support and all that.\n\n199\n00:12:02.990 --> 00:12:06.160\nWith pfSense,\ncan we really emulate that as well?\n\n200\n00:12:06.160 --> 00:12:10.290\nCan we make that jump to pfSense and\nsay, no matter my environment,\n\n201\n00:12:10.290 --> 00:12:11.460\nI can still work with this?\n\n202\n00:12:11.460 --> 00:12:14.490\n&gt;&gt; Yeah, it is kinda strange,\nwhere you go, really,\n\n203\n00:12:14.490 --> 00:12:17.170\na homebrew type of device, right?\n\n204\n00:12:17.170 --> 00:12:20.980\nDoes that really equate to the hardware\nthat you normally would find in something\n\n205\n00:12:20.980 --> 00:12:23.840\nlike Cisco ASA or\nsomething else like that?\n\n206\n00:12:23.840 --> 00:12:27.035\nWell, believe it or not, yes you can.\n\n207\n00:12:27.035 --> 00:12:30.200\nPfSense itself, especially\nthe hardware that they provide and\n\n208\n00:12:30.200 --> 00:12:33.240\nthen the hardware support that\nyou can actually build your own,\n\n209\n00:12:33.240 --> 00:12:36.430\nyou find it in many\ndifferent size deployments.\n\n210\n00:12:36.430 --> 00:12:40.540\nSo even though you might only go, no,\nthat's good for just a very small network,\n\n211\n00:12:40.540 --> 00:12:44.420\nbut it's not good for my network\nyou can actually build it out, and\n\n212\n00:12:44.420 --> 00:12:48.200\nyou can actually implement\na very high end type of firewall\n\n213\n00:12:48.200 --> 00:12:51.840\ndepending on how much money you want\nto actually put into it that can\n\n214\n00:12:51.840 --> 00:12:57.120\nreally help you tremendously in\neven major sized implementations.\n\n215\n00:12:57.120 --> 00:13:01.410\nThere are sometimes and you can read\nit in the pfSense documentation itself\n\n216\n00:13:01.410 --> 00:13:03.630\nwhere they're even saying like,\n\n217\n00:13:03.630 --> 00:13:08.745\nISP's can use this as a BGP router,\nI was about to say a BSD router.\n\n218\n00:13:08.745 --> 00:13:10.340\n&gt;&gt; [LAUGH]\n&gt;&gt; As a BGP router,\n\n219\n00:13:10.340 --> 00:13:11.950\nin other words facing the internet, and\n\n220\n00:13:11.950 --> 00:13:14.980\ncan support that if\nthe device is big enough, so.\n\n221\n00:13:14.980 --> 00:13:15.800\n&gt;&gt; That's pretty heavy duty.\n\n222\n00:13:15.800 --> 00:13:17.200\n&gt;&gt; It's pretty heavy duty,\n\n223\n00:13:17.200 --> 00:13:20.300\nand it all depends on the hardware\nselection that you make.\n\n224\n00:13:20.300 --> 00:13:23.470\nSo you're not just stumped with\na particular configuration.\n\n225\n00:13:23.470 --> 00:13:27.280\nYou do need to do a little bit more\nresearch in terms of what you're really\n\n226\n00:13:27.280 --> 00:13:28.830\nlooking for, but overall,\n\n227\n00:13:28.830 --> 00:13:33.270\nthough, it can actually be deployed\nin many different aspects.\n\n228\n00:13:33.270 --> 00:13:36.685\nSo most companies will probably end\nup deploying it as an edge device,\n\n229\n00:13:36.685 --> 00:13:41.205\nas a perimeter type of firewall,\nwhich is by far the most common, okay?\n\n230\n00:13:41.205 --> 00:13:45.005\nBut you could see it in\nmulti-WAN environments, and\n\n231\n00:13:45.005 --> 00:13:47.315\nthis is actually kind of neat, too.\n\n232\n00:13:47.315 --> 00:13:50.505\nSometimes you might find a particular\nfirewall, like the older ones,\n\n233\n00:13:50.505 --> 00:13:53.625\nnot kind of the newer ones, say, but\nthe older ones, where they only had,\n\n234\n00:13:53.625 --> 00:13:57.720\nwhat, trusted and un-trusted,\nright, as two ports on the device.\n\n235\n00:13:57.720 --> 00:14:02.340\nWell, what if you needed dual\nISP support as well, okay?\n\n236\n00:14:02.340 --> 00:14:06.820\nSo for example,\nright here at ITProTV, right,\n\n237\n00:14:06.820 --> 00:14:10.040\nwe have two different ISPs that we use so\n\n238\n00:14:10.040 --> 00:14:14.180\nthat if one ISP goes down it\ndoesn't bring down our streaming.\n\n239\n00:14:14.180 --> 00:14:17.490\nIt doesn't bring down our\nability to provide services for,\n\n240\n00:14:17.490 --> 00:14:20.510\nwell, our entire membership base.\n\n241\n00:14:20.510 --> 00:14:24.570\nSo if we need that we might find that,\nthat older firewall that doesn't have that\n\n242\n00:14:24.570 --> 00:14:29.250\nsupport well now,\nwe're kinda in trouble if we did that.\n\n243\n00:14:29.250 --> 00:14:35.070\nBut pfSense is designed, and actually says\nyes, I'm ready and willing to handle that.\n\n244\n00:14:35.070 --> 00:14:40.390\nThe same thing also with the idea\nof a multi LAN environment.\n\n245\n00:14:40.390 --> 00:14:44.140\nSo not only can it support multiple WANs,\nbut\n\n246\n00:14:44.140 --> 00:14:46.670\nit can also support\na multi LAN environment.\n\n247\n00:14:47.820 --> 00:14:51.050\nIf you have more than three or\nfour different departments,\n\n248\n00:14:51.050 --> 00:14:56.000\nyou can implement VLANs if you choose to\nor if you actually said look, I want each\n\n249\n00:14:56.000 --> 00:15:00.200\none to really have their own gateway and\nactually work off the firewall,\n\n250\n00:15:00.200 --> 00:15:03.700\nyou can actually plug those devices\nin those different separate switches\n\n251\n00:15:03.700 --> 00:15:08.700\ndirectly into well a device that\nactually have multiple ports on it.\n\n252\n00:15:08.700 --> 00:15:11.752\nAnd pfSense can support that\nmulti LAN environment as well.\n\n253\n00:15:11.752 --> 00:15:14.620\nSometimes if you only\nneed a single LAN and\n\n254\n00:15:14.620 --> 00:15:18.490\nactually have multiple DMZs It\nwill support multiple DMZs.\n\n255\n00:15:18.490 --> 00:15:22.480\nIt will allow you to go ahead and\nbecome, like I said,\n\n256\n00:15:22.480 --> 00:15:26.750\neven the idea of running\nsomething like BGP as an ISP,\n\n257\n00:15:26.750 --> 00:15:29.870\nsometimes you might even find\nthat particular implementation.\n\n258\n00:15:29.870 --> 00:15:32.600\nAnd it can also support\nhigh availability and\n\n259\n00:15:32.600 --> 00:15:35.260\nredundancy as well, and\neven load balancing.\n\n260\n00:15:35.260 --> 00:15:38.340\nNow all of these I've actually\nimplemented at some point in time.\n\n261\n00:15:38.340 --> 00:15:43.800\nThe only one I had to kind of backtrack on\nthat is the BGP as an ISP implementation.\n\n262\n00:15:43.800 --> 00:15:45.474\nBut all of these other ones,\nI've actually put in place.\n\n263\n00:15:45.474 --> 00:15:48.048\nAnd it's amazing about\nhow easily it worked and\n\n264\n00:15:48.048 --> 00:15:50.878\nthere was not really a lot\nof confusion in what needed\n\n265\n00:15:50.878 --> 00:15:55.147\nto be done to implement this and to make\nit actually work the way that we want to.\n\n266\n00:15:55.147 --> 00:16:02.630\nSo Yes, having a free product built\non the hardware that I chose, okay.\n\n267\n00:16:02.630 --> 00:16:05.389\nI can really have the deployment\nthe way that I need to and\n\n268\n00:16:05.389 --> 00:16:08.385\nI don't have to depend on\na preconfigured device that says,\n\n269\n00:16:08.385 --> 00:16:12.670\nyou better have it this way, you better do\nthis, by the way if you're gonna do that,\n\n270\n00:16:12.670 --> 00:16:15.109\nyou'll have to have this\nmany licenses as well.\n\n271\n00:16:15.109 --> 00:16:20.633\nBecause of the way that pfSense works,\nI keep on saying free BST works.\n\n272\n00:16:20.633 --> 00:16:23.280\n&gt;&gt; [LAUGH]\n&gt;&gt; Because of the way that pfSense works,\n\n273\n00:16:23.280 --> 00:16:26.753\nit says look don't worry about licensing\nissue, we got all of this covered.\n\n274\n00:16:26.753 --> 00:16:28.554\nWe'll take care of that as well.\n\n275\n00:16:28.554 --> 00:16:34.500\nSo there's a lot of ways we can implement\nthis in that particular sense too.\n\n276\n00:16:34.500 --> 00:16:38.920\nNow, the other things that\npfSense has also added in,\n\n277\n00:16:38.920 --> 00:16:43.030\nis to be able to run as\nan internal LAN type of router,\n\n278\n00:16:43.030 --> 00:16:47.220\nbetween multiple different VLANs\nif you have it too, as well.\n\n279\n00:16:47.220 --> 00:16:51.590\nNow, on this one, even thought\nthe functionality is pretty much the key,\n\n280\n00:16:51.590 --> 00:16:56.150\nright, that we can keep those VLANs\nseparated out, If you need high\n\n281\n00:16:56.150 --> 00:17:00.140\nperformance here, this is where you would\nchoose a network adapter that actually\n\n282\n00:17:00.140 --> 00:17:04.420\nhas higher performance, but the problem\nis even not that important right?\n\n283\n00:17:04.420 --> 00:17:05.670\nIf you're gonna do something like this and\n\n284\n00:17:05.670 --> 00:17:08.710\nyou're saying, no I just really\nneed to make sure that all of these\n\n285\n00:17:08.710 --> 00:17:12.390\ndifferent VLAN's can route traffic\nto one another at very high speeds.\n\n286\n00:17:12.390 --> 00:17:16.500\nYou need at least a very high\nspeed layer three type of switch\n\n287\n00:17:16.500 --> 00:17:17.640\nto help you out in that one.\n\n288\n00:17:17.640 --> 00:17:21.050\nSo it does work in\nconjunction with other ones.\n\n289\n00:17:21.050 --> 00:17:25.647\nNow if you say no, I'm just use\na layer two and I'm just gonna\n\n290\n00:17:25.647 --> 00:17:30.010\nuse the PFS firewall as\nbeing the router for\n\n291\n00:17:30.010 --> 00:17:34.200\na router on the stick configuration,\nit will work, guarantee you it will work.\n\n292\n00:17:34.200 --> 00:17:37.250\nBut at the same time it's not gonna\ngive you the performance that you need,\n\n293\n00:17:37.250 --> 00:17:39.260\nthat you might end up seeing there.\n\n294\n00:17:39.260 --> 00:17:43.360\nSo just kind of realize that there is\na lot of different functions out there\n\n295\n00:17:43.360 --> 00:17:48.380\nthat we can really take a look at and\nbe able to implement in that way as well.\n\n296\n00:17:49.390 --> 00:17:54.350\nSo by far, the firewall is the most\nimportant type of implementation\n\n297\n00:17:54.350 --> 00:17:56.740\nthat we'll be dealing\nwith during this series.\n\n298\n00:17:56.740 --> 00:18:01.830\nBut all these that we've talked about\nreally makes it a great candidate for\n\n299\n00:18:01.830 --> 00:18:05.840\nus to actually consider\nbesides the idea of cost.\n\n300\n00:18:05.840 --> 00:18:09.320\nThe full feature richness that\nwe have there is also important.\n\n301\n00:18:09.320 --> 00:18:13.570\nNow just because it runs\nas just a firewall itself,\n\n302\n00:18:13.570 --> 00:18:18.450\nthere can be other features that you\nmight also choose to implement too.\n\n303\n00:18:18.450 --> 00:18:19.897\nAnd it really helps you out,\n\n304\n00:18:19.897 --> 00:18:23.457\nespecially in the small environment\nwhen you don't have all the other\n\n305\n00:18:23.457 --> 00:18:27.512\ninfrastructure devices that you might\nhave in a regular environment at times.\n\n306\n00:18:27.512 --> 00:18:30.210\nAnd you might be wondering like,\nwhat are you talking about, Ronnie?\n\n307\n00:18:30.210 --> 00:18:34.820\nWell, let's take the idea of DHCP,\nfor example, right.\n\n308\n00:18:34.820 --> 00:18:37.430\nSo a lot of companies will still\nimplement Active Directory,\n\n309\n00:18:37.430 --> 00:18:41.230\nwhich is great, but what if you don't\nhave that, but you still need a DHCP?\n\n310\n00:18:41.230 --> 00:18:44.730\nWell you can run your own DHCP server, but\n\n311\n00:18:44.730 --> 00:18:48.470\nit's also built in as\na service inside of pfSense.\n\n312\n00:18:48.470 --> 00:18:54.380\nSo you can run the idea of DHCP directly\noff your pfSense firewall if you want to.\n\n313\n00:18:54.380 --> 00:18:56.510\nAnd you can run off of\nthe multiple interfaces and\n\n314\n00:18:56.510 --> 00:19:00.910\nit can work exactly just like\nwhat you think DHCP should work.\n\n315\n00:19:00.910 --> 00:19:03.590\nIt could be a DNS resolver for\nyou between inside and\n\n316\n00:19:03.590 --> 00:19:06.170\noutside of your networks as well.\n\n317\n00:19:06.170 --> 00:19:10.564\nYou can even turn it on if you don't\nwanna use any other feature in pfSense.\n\n318\n00:19:10.564 --> 00:19:14.490\nYou can turn it on as some\ntype of sniffer appliance,\n\n319\n00:19:14.490 --> 00:19:19.900\nbecause in the background it also\ncan run TCP dump that will help you\n\n320\n00:19:19.900 --> 00:19:24.920\nto be able to again use it as some type\nof intrusion detection device as well.\n\n321\n00:19:24.920 --> 00:19:27.820\nSo you name it,\nthere is actually a bunch of features.\n\n322\n00:19:27.820 --> 00:19:30.710\nProbably one of the most popular\nimplementations and the reason why this is\n\n323\n00:19:30.710 --> 00:19:36.120\ntaken off so much is because of a feature\nthat Dan, was talking about earlier.\n\n324\n00:19:36.120 --> 00:19:38.540\nThe idea of the licensing, right?\n\n325\n00:19:38.540 --> 00:19:41.560\nHow many devices can connect\nthrough that at one time?\n\n326\n00:19:41.560 --> 00:19:44.910\nAnd then of course we talk\nabout the idea of VPNs.\n\n327\n00:19:44.910 --> 00:19:47.400\nSo usually those things\nare kind of tied together, and\n\n328\n00:19:47.400 --> 00:19:51.650\nhow many connections and how many\nVPN connections that you can make.\n\n329\n00:19:51.650 --> 00:19:53.440\nWell remember, in someone like Cisco,\n\n330\n00:19:53.440 --> 00:19:57.150\nit's probably ten, ten actual\ndevices can connect at one time.\n\n331\n00:19:57.150 --> 00:19:59.020\nYou go to 50, 50.\n\n332\n00:19:59.020 --> 00:20:03.090\nBut what if you needed\nnow VPN connections too?\n\n333\n00:20:03.090 --> 00:20:06.620\nWell then you have to go to that\nsecurity plus type of license,\n\n334\n00:20:06.620 --> 00:20:08.820\nwhich of course requires more money again.\n\n335\n00:20:08.820 --> 00:20:10.090\nAnd you kind of get nickled and\n\n336\n00:20:10.090 --> 00:20:13.200\ndimed to the point where,\nI can't believe I had to add this license,\n\n337\n00:20:13.200 --> 00:20:16.910\nI had to add this license too for\nthe idea of more VPM license?\n\n338\n00:20:16.910 --> 00:20:19.002\nYou name it, it becomes that way, right?\n\n339\n00:20:19.002 --> 00:20:24.540\nWell, with pfSense again,\nyou still have that ability,\n\n340\n00:20:24.540 --> 00:20:29.350\nbut now you can actually have\na dedicated VPN appliance.\n\n341\n00:20:29.350 --> 00:20:31.190\nIf you go, I don't wanna use a firewall.\n\n342\n00:20:31.190 --> 00:20:33.270\nI just need a VPN appliance.\n\n343\n00:20:33.270 --> 00:20:37.130\nWell, pfSense can become your\nown VPN appliance, as well.\n\n344\n00:20:37.130 --> 00:20:40.870\nSo, in what you see here\nas far as an introduction,\n\n345\n00:20:40.870 --> 00:20:45.280\nif any of that sounds like stuff\nthat you really want to do, but\n\n346\n00:20:45.280 --> 00:20:50.820\nat the same time you go, buying a Cisco\nfirewall just to see if it works [LAUGH].\n\n347\n00:20:50.820 --> 00:20:53.170\nJust to see if I can\nactually make this work.\n\n348\n00:20:53.170 --> 00:20:56.010\nIt sounds a bit more\nexpensive than what you have.\n\n349\n00:20:56.010 --> 00:20:58.150\nWell, the great thing\nabout pfSense itself, and\n\n350\n00:20:58.150 --> 00:20:59.900\nwe're not talking about the hardware side.\n\n351\n00:20:59.900 --> 00:21:06.000\nIs it can also be implemented inside of\na virtual machine, so that you can create\n\n352\n00:21:06.000 --> 00:21:10.090\nvirtual interfaces and do the testing and\ndo the configuration that you need.\n\n353\n00:21:10.090 --> 00:21:13.650\nAnd that way you can see how it\nworks in a virtual situation.\n\n354\n00:21:13.650 --> 00:21:18.150\nAnd then spend your money on the hardware\nthat you want and then go ahead and\n\n355\n00:21:18.150 --> 00:21:19.140\ninstall it there.\n\n356\n00:21:19.140 --> 00:21:21.180\nAnd bring your configurations over and\n\n357\n00:21:21.180 --> 00:21:24.660\nyou should see actually good\nworking conditions there too.\n\n358\n00:21:24.660 --> 00:21:28.992\nSo it does allow you to be able run\noutside of the idea of the vert of\n\n359\n00:21:28.992 --> 00:21:31.120\nthe physical hardware.\n\n360\n00:21:31.120 --> 00:21:33.890\nWhereas if you try to take\nsomething like the Cisco ASA,\n\n361\n00:21:33.890 --> 00:21:36.550\nthere are some that are built\nin the virtual world.\n\n362\n00:21:36.550 --> 00:21:39.360\nBut at the same time not\nevery single one is.\n\n363\n00:21:39.360 --> 00:21:41.870\nYou can't just take a ASA image and\ngo okay,\n\n364\n00:21:41.870 --> 00:21:44.430\nI'm gonna load it up into a virtual\nmachine and make it work.\n\n365\n00:21:44.430 --> 00:21:47.802\nIt takes a little bit more for\neverything to actually work out that way.\n\n366\n00:21:47.802 --> 00:21:52.200\nBut pfSense, it'll install perfectly fine,\nand you can configure it perfectly fine,\n\n367\n00:21:52.200 --> 00:21:54.720\nand that's what we're gonna show\nyou right at the beginning.\n\n368\n00:21:54.720 --> 00:21:58.100\nAnd then we'll bring in some hardware as\nwell to show some of the different aspects\n\n369\n00:21:58.100 --> 00:21:59.630\nof what we tend to see.\n\n370\n00:21:59.630 --> 00:22:01.790\nSo, remember the interest here, right?\n\n371\n00:22:01.790 --> 00:22:05.920\nIf that's what you're actually looking for\nin this particular series in this show,\n\n372\n00:22:05.920 --> 00:22:08.990\nyou'll see the installation all\nthe way through the configuration of\n\n373\n00:22:08.990 --> 00:22:10.910\nsome of the things that\nwe've talked about.\n\n374\n00:22:10.910 --> 00:22:13.700\nNat will talk about the idea\nof implementing the DHCP.\n\n375\n00:22:13.700 --> 00:22:17.710\nWe'll see the idea of using\na DNS resolver as well.\n\n376\n00:22:17.710 --> 00:22:21.760\nHigh availability, there is a lot\nmore that we have there as well.\n\n377\n00:22:21.760 --> 00:22:23.650\nIn terms of VPN connections,\n\n378\n00:22:23.650 --> 00:22:27.238\nwe'll see that in this entire series\nof shows that we'll be doing here.\n\n379\n00:22:27.238 --> 00:22:30.400\n&gt;&gt; Well Ronnie, pfSense definitely\nsounds like a viable alternative\n\n380\n00:22:30.400 --> 00:22:34.510\nto some of the other types of firewall\ndevices that you might want to or\n\n381\n00:22:34.510 --> 00:22:36.078\nbe thinking about purchasing.\n\n382\n00:22:36.078 --> 00:22:38.910\nSo it would definitely behoove you to\ngo through the series, check it out,\n\n383\n00:22:38.910 --> 00:22:41.590\nsee what pfSense can do, how it works.\n\n384\n00:22:41.590 --> 00:22:45.310\nMaybe it's right up your alley and\nit's your kind of flavor of coffee,\n\n385\n00:22:45.310 --> 00:22:47.070\nright, that's what you'd want to do.\n\n386\n00:22:47.070 --> 00:22:49.375\nRonnie, thanks so much for\nintroducing us to pfSense,\n\n387\n00:22:49.375 --> 00:22:53.930\nwe look forward to seeing what else it can\ndo more in depth in the upcoming episodes.\n\n388\n00:22:53.930 --> 00:22:56.910\nBut for us, for right now,\nlooks like it's time for us to sign off.\n\n389\n00:22:56.910 --> 00:22:58.010\nThanks for joining us everyone.\n\n390\n00:22:58.010 --> 00:23:00.410\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n391\n00:23:00.410 --> 00:23:01.110\n&gt;&gt; And I'm Ronnie Wong.\n\n392\n00:23:01.110 --> 00:23:01.845\n&gt;&gt; And we'll see you next time.\n\n393\n00:23:01.845 --> 00:23:09.952\n[MUSIC]\n\n394\n00:23:09.952 --> 00:23:12.042\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "195796563"
        },
        {
          "description": "In this episode, Daniel and Ronnie explore what it takes to get pfSense v2.3.2 installed and ready for configuration. They show you the necessary physical devices you'll need like a console cable and then take a look at installation media options. They will walk you through many of the pre-made hardware options as well as downloading the pfSense firewall software.",
          "length": "1843",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-2-1-install_pfsense-121216.00_30_26_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-2-1-install_pfsense-121216.00_30_26_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-2-1-install_pfsense-121216.00_30_26_28.Still001-sm.jpg",
          "title": "Install pfSense",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.575\nWelcome to ITProTV,\nI'm your host Don [CROSSTALK]\n\n2\n00:00:02.575 --> 00:00:04.858\n&gt;&gt; Coming at you live from San Francisco,\n\n3\n00:00:04.858 --> 00:00:06.177\nCalifornia [CROSSTALK]\n\n4\n00:00:06.177 --> 00:00:08.607\n[MUSIC]\n\n5\n00:00:08.607 --> 00:00:12.560\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.560 --> 00:00:13.980\n&gt;&gt; All right, greetings everyone, and\n\n7\n00:00:13.980 --> 00:00:16.380\nwelcome to another great\nepisode of ITProTV.\n\n8\n00:00:16.380 --> 00:00:18.190\nI'm your host Daniel Lowrie, and\n\n9\n00:00:18.190 --> 00:00:23.160\nin today's episode we're continuing on\nwith our pfSense, version 2.3.2 Series.\n\n10\n00:00:23.160 --> 00:00:26.614\nAnd of course, back in the studio\nagain with us, is our good friend, Mr.\n\n11\n00:00:26.614 --> 00:00:27.300\nRonnie Wong.\n\n12\n00:00:27.300 --> 00:00:28.850\nRonnie, welcome back, and\nhow's it going today?\n\n13\n00:00:28.850 --> 00:00:31.330\n&gt;&gt; Well, it's going great, thank you for\nhaving me back on the show.\n\n14\n00:00:31.330 --> 00:00:35.920\nWe are taking a look now at\nthe idea of installing pfSense.\n\n15\n00:00:35.920 --> 00:00:38.680\nNow, the previous episode that we had,\n\n16\n00:00:38.680 --> 00:00:42.570\nwe talked about the reasons why you\nwould choose something like pfSense, and\n\n17\n00:00:42.570 --> 00:00:46.390\nnow we're gonna begin this\nprocess of installation as well.\n\n18\n00:00:46.390 --> 00:00:47.260\nNow, of course,\n\n19\n00:00:47.260 --> 00:00:51.590\nthat means we have to have a few things\non hand if we are going to do this.\n\n20\n00:00:51.590 --> 00:00:56.060\nSo let's talk about those items too, and\nthen where in the world do we actually\n\n21\n00:00:56.060 --> 00:00:59.280\nget something like pfSense\nif we are going to do this.\n\n22\n00:00:59.280 --> 00:01:02.660\nSo there's a couple of different\nthings that we'll actually need, okay?\n\n23\n00:01:02.660 --> 00:01:05.320\nDepending on what you work with,\nof course,\n\n24\n00:01:05.320 --> 00:01:07.880\nyou're gonna actually need\nto have a few things.\n\n25\n00:01:07.880 --> 00:01:11.170\nLet me show you what we're taking\na look at here right on our desktop.\n\n26\n00:01:11.170 --> 00:01:16.240\nNow, I'm using a MacBook and that's why I\nactually have to have something like this.\n\n27\n00:01:16.240 --> 00:01:21.390\nThere is no built in network adaptor for\nme to plug in to a pfSense firewall, so\n\n28\n00:01:21.390 --> 00:01:25.940\nthis one allows me to take my USB port and\nthen right here at the end,\n\n29\n00:01:25.940 --> 00:01:28.490\nlet me see if I can actually hold\nthat up here toward the camera.\n\n30\n00:01:28.490 --> 00:01:29.820\nThere we go, okay?.\n\n31\n00:01:29.820 --> 00:01:34.200\nSo what you're actually seeing there\nof course is just a network jack that\n\n32\n00:01:34.200 --> 00:01:35.860\nis available for me.\n\n33\n00:01:35.860 --> 00:01:40.410\nAnd then I can take a cable, which of\ncourse is another just a regular Ethernet\n\n34\n00:01:40.410 --> 00:01:45.540\ncable, and I can plug it in here and\nthen into the pfSense box itself.\n\n35\n00:01:45.540 --> 00:01:48.580\nAnd that will allow me to get some\nof the configuration that I need and\n\n36\n00:01:48.580 --> 00:01:51.260\nto be able to see some\nof the information too.\n\n37\n00:01:51.260 --> 00:01:56.250\nNow, the other thing, of course,\nthat you'll need is a copy of pfSense, and\n\n38\n00:01:56.250 --> 00:01:58.690\nwe'll actually show you where to go and\ndownload that.\n\n39\n00:01:58.690 --> 00:02:02.230\nAnd then some of the different methods\nthat you can use to install that\n\n40\n00:02:02.230 --> 00:02:03.510\nas well, okay?\n\n41\n00:02:03.510 --> 00:02:07.990\nThe other one is gonna be the basic\nhardware that you're gonna be installing\n\n42\n00:02:07.990 --> 00:02:09.750\npfSense onto.\n\n43\n00:02:09.750 --> 00:02:14.140\nNow, remember that what I told\nyou in the previous episode\n\n44\n00:02:14.140 --> 00:02:18.650\nis that you can build your own\npfSense box essentially, okay?\n\n45\n00:02:18.650 --> 00:02:22.690\nIt doesn't always have to look\nexactly the same as everybody else's.\n\n46\n00:02:22.690 --> 00:02:27.130\nIt can be an old computer case that\nyou have with a motherboard and\n\n47\n00:02:27.130 --> 00:02:29.980\nyou know some RAM and\nthen of course network adapters.\n\n48\n00:02:29.980 --> 00:02:33.880\nAnd the key here is that you need\nat least two network adapters.\n\n49\n00:02:33.880 --> 00:02:37.390\nAnd this is where pfSense hardware\nkind of really says this, right?\n\n50\n00:02:37.390 --> 00:02:41.531\nIs that even though you can put as many\nadapters in there as you want to and\n\n51\n00:02:41.531 --> 00:02:44.520\npfSense will help you configure them all.\n\n52\n00:02:44.520 --> 00:02:48.710\nThere is a difference between\nthe hardware in terms of quality.\n\n53\n00:02:48.710 --> 00:02:51.630\nThey recommend that you go\nwith more high-end types of\n\n54\n00:02:51.630 --> 00:02:53.230\nnetwork adapters if you can.\n\n55\n00:02:53.230 --> 00:02:56.930\nAnd if you're gonna be implementing VLANs\ndon't forget you'll need like a layer\n\n56\n00:02:56.930 --> 00:02:58.830\nthree switch too, okay?\n\n57\n00:02:58.830 --> 00:03:02.910\nBut besides that, there's other things\nthat you can do if you're going like, man,\n\n58\n00:03:02.910 --> 00:03:04.550\nthat just sounds too complex.\n\n59\n00:03:04.550 --> 00:03:06.570\nWell, let me show you the idea\nof the hardware here and\n\n60\n00:03:06.570 --> 00:03:09.180\nthen we'll show you\nthe download of the pfSense.\n\n61\n00:03:09.180 --> 00:03:13.960\nSo here on my computer screen,\nwe're coming back to the pfSense website.\n\n62\n00:03:13.960 --> 00:03:16.820\nAnd we had just finished talking\nabout just a little bit here,\n\n63\n00:03:16.820 --> 00:03:19.990\nin terms of the history and\nwhy you would choose to use it and\n\n64\n00:03:19.990 --> 00:03:22.090\nthe feature-rich selections that you had.\n\n65\n00:03:22.090 --> 00:03:25.650\nAnd there's a section here\ncalled hardware selection.\n\n66\n00:03:25.650 --> 00:03:29.430\nAnd I told you that they really have\na partner company that they call Netgate,\n\n67\n00:03:29.430 --> 00:03:32.300\nthat you have here, and\nthere's a link here,\n\n68\n00:03:32.300 --> 00:03:35.370\nbut also at the top of the pfSense page.\n\n69\n00:03:35.370 --> 00:03:39.020\nNow if I click on products,\nit's right here,\n\n70\n00:03:39.020 --> 00:03:42.800\nwhere you can actually kind\nof compare what you need.\n\n71\n00:03:42.800 --> 00:03:47.910\nSo depending on what your need is for\nyour implementation,\n\n72\n00:03:47.910 --> 00:03:52.550\nright, there's several different\noptions available for you, and\n\n73\n00:03:52.550 --> 00:03:57.060\nit really does depend on a couple of\nthings, right, when you take a look.\n\n74\n00:03:57.060 --> 00:03:59.890\nHere is kind of their newest\nversion of what you tend to see,\n\n75\n00:03:59.890 --> 00:04:01.420\nwhich is called the SG-1000.\n\n76\n00:04:01.420 --> 00:04:05.810\nThis is designed it says for\nSOHO and remote workers.\n\n77\n00:04:05.810 --> 00:04:10.470\nNow you have let's say that you\nhave teller workers that are always\n\n78\n00:04:10.470 --> 00:04:14.560\nconnecting back to your network,\nokay, and getting access to\n\n79\n00:04:14.560 --> 00:04:19.060\nresources on your network,well that's\nfine, that's a great thing to have but\n\n80\n00:04:19.060 --> 00:04:23.820\nI know that I have done this before what I\nhave configured a CISCO ASA firewall and\n\n81\n00:04:23.820 --> 00:04:26.455\nsend that home with the person.\n\n82\n00:04:26.455 --> 00:04:29.540\nYou might be saying,\nyeah that's what you normally do.\n\n83\n00:04:29.540 --> 00:04:33.616\nWell, that's perfectly fine until they\nhave problems with implementing this in\n\n84\n00:04:33.616 --> 00:04:35.180\ntheir home network.\n\n85\n00:04:35.180 --> 00:04:39.140\nWe've even labelled all the ports to say\nhere is what's connects to your wall,\n\n86\n00:04:39.140 --> 00:04:42.750\nhere's what connects to your\ncomputer in terms of the port and\n\n87\n00:04:42.750 --> 00:04:44.810\nthis of course connects to the power.\n\n88\n00:04:44.810 --> 00:04:48.040\nAnd you just have to make sure that lights\nare blinking and you're up and working.\n\n89\n00:04:48.040 --> 00:04:50.330\nAnd we've still had issues with that.\n\n90\n00:04:50.330 --> 00:04:54.430\nWell, instead, imagine being able to send\nhome with one of these little tiny things\n\n91\n00:04:54.430 --> 00:04:59.330\nhere, and when you take a look at it,\nlet me zoom out a little more,\n\n92\n00:04:59.330 --> 00:05:03.420\nyou can see this is called\na microFirewall, okay?\n\n93\n00:05:03.420 --> 00:05:07.850\nAnd it really is just two ports and\nit has a small little circuit board and\n\n94\n00:05:07.850 --> 00:05:11.880\na bit of RAM, but this all someone\nlike that would actually need to use.\n\n95\n00:05:11.880 --> 00:05:16.780\nAnd the full features of pfSense will\nallow it to run on here because really\n\n96\n00:05:16.780 --> 00:05:20.230\nwhat you need is a trusted interfaces and\na non trusted interface on outside and\n\n97\n00:05:20.230 --> 00:05:24.780\ninside and that will provide the basic\nfirewalls set for you as well as being\n\n98\n00:05:24.780 --> 00:05:31.060\nable to allow that BPN software, that's\nembedded into the pfSense itself to run.\n\n99\n00:05:31.060 --> 00:05:35.740\nSo this is actually a good option if\nthat's kind of the nature what you need.\n\n100\n00:05:35.740 --> 00:05:37.599\nAnd instead of you having to go out and\n\n101\n00:05:37.599 --> 00:05:40.116\nbuild your own PC notice\nthat this one right here,\n\n102\n00:05:40.116 --> 00:05:44.031\neven though it's actually on preorder\nright now, 150 bucks and you're off gone.\n\n103\n00:05:44.031 --> 00:05:47.720\nA pfSense firewall even the one\nthat Dan was talking about with\n\n104\n00:05:47.720 --> 00:05:50.290\nthe 10 user license which\nis kind of their minimum,\n\n105\n00:05:50.290 --> 00:05:54.300\nit can still run you a couple of\nhundred bucks, maybe used on eBay.\n\n106\n00:05:54.300 --> 00:05:57.910\nBut in mass it should be 300,\nmaybe to 400 if it's brand new and\n\n107\n00:05:57.910 --> 00:06:00.590\nthat's probably what your company\nwill buy instead of a used one.\n\n108\n00:06:00.590 --> 00:06:03.650\nSo you may end up seeing\nsomething like that instead.\n\n109\n00:06:03.650 --> 00:06:08.980\nThis one's a relatively low\nfootprint in what we need and\n\n110\n00:06:08.980 --> 00:06:13.410\nit really doesn't cost as much\nas you might think it might be.\n\n111\n00:06:13.410 --> 00:06:18.490\nSo it has a lot of RAM and\nit has four gigs of storage.\n\n112\n00:06:18.490 --> 00:06:21.510\nSo it's not really designed\nto do anything else but this.\n\n113\n00:06:21.510 --> 00:06:25.160\nAnd you'll see that, and\nthen of course, half a gig of RAM and\n\n114\n00:06:25.160 --> 00:06:28.460\nthen two gigabit interfaces\nis what you'll end up seeing.\n\n115\n00:06:28.460 --> 00:06:30.270\nNow, as you start to move up there,\n\n116\n00:06:30.270 --> 00:06:33.240\nyou're really picking out\na couple of things, okay?\n\n117\n00:06:33.240 --> 00:06:35.110\nOne, the number of ports that you need.\n\n118\n00:06:35.110 --> 00:06:39.730\nThis one goes from two just like this\none up here to four additional ports\n\n119\n00:06:39.730 --> 00:06:41.260\nthat you might have access to.\n\n120\n00:06:41.260 --> 00:06:45.410\nAnd then as you continue to go up,\nnotice that it goes to six on this one.\n\n121\n00:06:45.410 --> 00:06:50.340\nAnd then this one right here actually\ngoes to a little bit more, six.\n\n122\n00:06:50.340 --> 00:06:53.080\nAnd then of course,\nyou even have divisions of them.\n\n123\n00:06:53.080 --> 00:06:55.960\nAs you continue to go up you actually\nstart seeing where they separate out.\n\n124\n00:06:55.960 --> 00:06:58.950\nEven different ones where they\ncan include in fiber ports,\n\n125\n00:06:58.950 --> 00:07:02.630\nif they need to, as well as gigabit stuff.\n\n126\n00:07:02.630 --> 00:07:05.540\nSo you name it,\nthere's a bunch of different options and\n\n127\n00:07:05.540 --> 00:07:08.730\neven in the end here you can\neven have a cloud appliance.\n\n128\n00:07:08.730 --> 00:07:12.670\nIf your entire network is really up there\nin the cloud you wanna implement pfSense,\n\n129\n00:07:12.670 --> 00:07:14.742\nthey even give you that ability to do so.\n\n130\n00:07:14.742 --> 00:07:21.030\nAnd it's designed to work with AWS,\nas well as, of course, Microsoft Azure.\n\n131\n00:07:21.030 --> 00:07:23.330\nGot it an appliance ready to go.\n\n132\n00:07:23.330 --> 00:07:25.340\nSo you have a lot of these options.\n\n133\n00:07:25.340 --> 00:07:29.560\nSo if performance is your key,\nit really does come down to well,\n\n134\n00:07:29.560 --> 00:07:33.310\nthese three aspects, or\nfour aspects right here in the middle.\n\n135\n00:07:33.310 --> 00:07:35.390\nThe idea of the processor.\n\n136\n00:07:35.390 --> 00:07:39.190\nThe amount of RAM that you have available,\nof course.\n\n137\n00:07:39.190 --> 00:07:43.350\nNot so much the hard drive, unless you're\nactually having to deal a lot with\n\n138\n00:07:43.350 --> 00:07:46.190\ndifferent state tables that\nyou have available, too.\n\n139\n00:07:46.190 --> 00:07:48.380\nAnd then, of course, the network adapters.\n\n140\n00:07:48.380 --> 00:07:50.619\nThey do recommend\nthe Intel network adapter.\n\n141\n00:07:50.619 --> 00:07:55.056\nSo even if you build your own they say hey\ntry and get good Intel adapters if you're\n\n142\n00:07:55.056 --> 00:07:59.166\ngonna do this because those 10 dash\nshould be able to give you more packets\n\n143\n00:07:59.166 --> 00:08:02.971\nper second and that's what really\ncounts in terms of your Firewall.\n\n144\n00:08:02.971 --> 00:08:06.238\n&gt;&gt; Ronnie, does pfSense run on 32 and\n64 bit architecture, or\n\n145\n00:08:06.238 --> 00:08:08.660\nare we just seeing 64 bit architecture?\n\n146\n00:08:08.660 --> 00:08:11.710\n&gt;&gt; Well it does run on both,\ndepending on your needs.\n\n147\n00:08:11.710 --> 00:08:15.192\nSo, usually if you're saying look, I\nwanna stick with 32 bit, there are 32 bit\n\n148\n00:08:15.192 --> 00:08:18.401\noptions available for you, and you'll\nsee that when we get to the download.\n\n149\n00:08:18.401 --> 00:08:22.380\nBut today 64 bit is kind of the standard.\n\n150\n00:08:22.380 --> 00:08:26.540\nAnd the idea of course is that if you're\nrunning more than four gigs of RAM that's\n\n151\n00:08:26.540 --> 00:08:30.500\nwhat's gonna give you the option, of\ncourse, to use that is what you'll have.\n\n152\n00:08:30.500 --> 00:08:34.910\nBut if that's your limitation, if that's\nwhat you need, that may be just enough for\n\n153\n00:08:34.910 --> 00:08:40.315\nyou, and it'll actually run perfectly\nfine on just doing that 32 bit as well.\n\n154\n00:08:40.315 --> 00:08:41.440\nOkay?\n\n155\n00:08:41.440 --> 00:08:43.074\nAll right, so just pick out your hardware.\n\n156\n00:08:43.074 --> 00:08:45.360\nYou can buy it, if you want to, like this.\n\n157\n00:08:45.360 --> 00:08:48.550\nA couple of people here at ITPro.TV,\nactually three or four people,\n\n158\n00:08:48.550 --> 00:08:52.940\nhave actually built their own firewalls\nbecause they said they wanted to actually\n\n159\n00:08:52.940 --> 00:08:56.240\nsee what it was like to build it and\nto put whatever they wanted to in there.\n\n160\n00:08:56.240 --> 00:09:00.050\nAnd they've been very successful at\nrunning these units at their homes.\n\n161\n00:09:00.050 --> 00:09:03.810\nAnd they actually have a VPN\ntunnel right back here to ITProTV.\n\n162\n00:09:03.810 --> 00:09:08.280\nWe've got a couple of PF\nsets boxes that we purchased\n\n163\n00:09:08.280 --> 00:09:11.220\nfrom Netgate running our end,\non this side.\n\n164\n00:09:11.220 --> 00:09:12.418\nSo it works fairly well.\n\n165\n00:09:12.418 --> 00:09:16.960\nEvery implementation that we had, we don't\nseem to have very many complaints at all.\n\n166\n00:09:16.960 --> 00:09:18.530\nAnd so you can actually do that.\n\n167\n00:09:18.530 --> 00:09:20.490\nSo, there's the hardware portion.\n\n168\n00:09:20.490 --> 00:09:23.550\nSo pick out whatever\nhardware that you want to.\n\n169\n00:09:23.550 --> 00:09:26.100\nAnd if you do buy their hardware\n\n170\n00:09:26.100 --> 00:09:31.240\none of the other things that you'll also\nbe sent is a little cable like this.\n\n171\n00:09:31.240 --> 00:09:35.770\nAnd this is just a USB and\na little micro, I think.\n\n172\n00:09:35.770 --> 00:09:39.180\nI always get the micro and\nthe mini wrong is what I get.\n\n173\n00:09:39.180 --> 00:09:42.320\nThe mini is the type of\nconnector that this is, and\n\n174\n00:09:42.320 --> 00:09:46.780\nthey'll be a port marked on the front that\nsays console, is the key, and this one,\n\n175\n00:09:46.780 --> 00:09:50.840\nof course, is just a USB connector for\nwhatever device that you plug into.\n\n176\n00:09:50.840 --> 00:09:54.580\nAnd that will allow you to\nsee the boot process and\n\n177\n00:09:54.580 --> 00:09:59.450\nwill allow you to get started into seeing\nsome of the basic configuration that\n\n178\n00:09:59.450 --> 00:10:03.750\nneeds to be done during the installation\npart of what you'll end up seeing here.\n\n179\n00:10:03.750 --> 00:10:07.409\nSo, that's kind of it as far as\nsome of those prerequisites, right?\n\n180\n00:10:07.409 --> 00:10:10.489\nSo let's take a look at where\nwe go to download pfSense and\n\n181\n00:10:10.489 --> 00:10:14.159\nsome of the options that we have to\ntake a look at as well, all right?\n\n182\n00:10:14.159 --> 00:10:18.957\nSo right here on the same page, as I move\nover services in support and training and\n\n183\n00:10:18.957 --> 00:10:22.360\ncommunity, we're going to\ngo to this download button.\n\n184\n00:10:22.360 --> 00:10:26.020\nNow, we're not meaning to\nskip all of this on purpose.\n\n185\n00:10:26.020 --> 00:10:27.500\nI mean, accidentally.\n\n186\n00:10:27.500 --> 00:10:31.000\nWe're doing it on purpose right now so\nthat we can get to the installation.\n\n187\n00:10:31.000 --> 00:10:35.914\nBut you'll see one of the most valuable\naspects of pfSense is actually\n\n188\n00:10:35.914 --> 00:10:39.100\nright here in this idea of community.\n\n189\n00:10:39.100 --> 00:10:43.350\nIt's one of the most active forums\nthat I've ever seen out there.\n\n190\n00:10:43.350 --> 00:10:46.160\nAnd it's one of the most\nhelpful forums that I've seen.\n\n191\n00:10:46.160 --> 00:10:49.560\nDon't get me wrong, you still have people\non there that will always tell you like:\n\n192\n00:10:49.560 --> 00:10:53.050\nread the forums,\ndo a search in the forums, don't give me.\n\n193\n00:10:53.050 --> 00:10:54.710\nThose are there.\n\n194\n00:10:54.710 --> 00:10:59.790\nBut at the same time, usually if you\ndo have a real question about pfSense,\n\n195\n00:10:59.790 --> 00:11:01.680\nsomebody will be there to answer it.\n\n196\n00:11:01.680 --> 00:11:03.576\nAnd it's been very helpful out there.\n\n197\n00:11:03.576 --> 00:11:07.074\nI've even asked a few question myself as I\nwas trying to get some high availability\n\n198\n00:11:07.074 --> 00:11:08.790\nstuff implemented too.\n\n199\n00:11:08.790 --> 00:11:11.675\nSo what we're gonna do is we're gonna\nclick on the download link from\n\n200\n00:11:11.675 --> 00:11:12.878\nthe original pfSense page.\n\n201\n00:11:12.878 --> 00:11:18.890\nAnd today they now call it the Community\nEdition, okay, is what they call it.\n\n202\n00:11:18.890 --> 00:11:22.710\nSo the latest stable version is\nwhat it will normally lead you to,\n\n203\n00:11:22.710 --> 00:11:24.650\nto be able to download.\n\n204\n00:11:24.650 --> 00:11:27.600\nAnd from here, you'll actually be\nable to take a look at a couple\n\n205\n00:11:27.600 --> 00:11:29.450\nof different options that\nwe want to point out,\n\n206\n00:11:29.450 --> 00:11:32.970\nbecause this is important, if you're\nimplementing this in terms of production.\n\n207\n00:11:32.970 --> 00:11:36.340\nAnd they have release notes, okay?\n\n208\n00:11:36.340 --> 00:11:38.380\nAnd they also have the source code, and\n\n209\n00:11:38.380 --> 00:11:41.580\nthen we'll actually select the idea\nof the download here, okay?\n\n210\n00:11:41.580 --> 00:11:45.282\nSo in the idea of the release notes,\nthis is where we'll tell you,\n\n211\n00:11:45.282 --> 00:11:49.330\nyou know, between the versions, why they\nchose to actually make a new version or\n\n212\n00:11:49.330 --> 00:11:51.620\nadd in some new features or\nfix some stuff.\n\n213\n00:11:51.620 --> 00:11:56.040\nMake sure you always take a look at those\nrelease notes in case there's something\n\n214\n00:11:56.040 --> 00:11:59.270\nthat you go, this didn't work\nas well as I thought it would.\n\n215\n00:11:59.270 --> 00:12:00.370\nDid they fix it?\n\n216\n00:12:00.370 --> 00:12:01.380\nIs what you're normally seeing.\n\n217\n00:12:01.380 --> 00:12:03.380\nSo that's what I always look for.\n\n218\n00:12:03.380 --> 00:12:06.800\nNow the other one is right\nhere under source code.\n\n219\n00:12:06.800 --> 00:12:07.970\nNow imagine this, Daniel.\n\n220\n00:12:07.970 --> 00:12:11.630\nDaniel, do you think that the Cisco ASA\nputs out their source code?\n\n221\n00:12:11.630 --> 00:12:12.358\n&gt;&gt; Not for free.\n\n222\n00:12:12.358 --> 00:12:15.950\n[LAUGH]\n&gt;&gt; [LAUGH] Yeah, yeah, no, not for free,\n\n223\n00:12:15.950 --> 00:12:16.540\nright?\n\n224\n00:12:16.540 --> 00:12:20.730\nBut right here It brings\nyou out to their GitHub and\n\n225\n00:12:20.730 --> 00:12:25.750\nit allows you to actually download and\nview their actual source code itself.\n\n226\n00:12:25.750 --> 00:12:28.780\nNow, if you're like me you're like,\nwhy in the world would they do that?\n\n227\n00:12:28.780 --> 00:12:32.330\nWhy would a company need\nto do something like that?\n\n228\n00:12:32.330 --> 00:12:35.370\nSo Daniel, do you know anybody\nthat works for pfSense?\n\n229\n00:12:35.370 --> 00:12:36.960\n&gt;&gt; I know zero people that work for\npfSense.\n\n230\n00:12:37.970 --> 00:12:41.230\n&gt;&gt; Do you have any aspirations of\n\n231\n00:12:41.230 --> 00:12:43.480\nthinking that you know somebody\nthat works at pfSense?\n\n232\n00:12:43.480 --> 00:12:46.560\n&gt;&gt; I have, no, no, zero.\n\n233\n00:12:46.560 --> 00:12:47.790\n&gt;&gt; Yeah, I don't either.\n\n234\n00:12:47.790 --> 00:12:50.920\nI love the product, I've worked with\nit a couple of times, you know, and\n\n235\n00:12:50.920 --> 00:12:55.010\nover the years I've had three, four,\nfive different firewalls, set it up for\n\n236\n00:12:55.010 --> 00:12:56.540\nbusinesses and\n\n237\n00:12:56.540 --> 00:13:00.890\ndone this, but I really don't know\na single person that works at pfSense.\n\n238\n00:13:00.890 --> 00:13:06.273\nSo now what if Daniel is the security\nchief at this company that we\n\n239\n00:13:06.273 --> 00:13:12.767\nwant to set this up for and I say, Daniel,\nI want to set up a pfSense firewall.\n\n240\n00:13:12.767 --> 00:13:14.985\nAnd Daniel says, well here's the policy.\n\n241\n00:13:14.985 --> 00:13:19.826\nWe need to actually verify that\nthere's no bugs in the coding.\n\n242\n00:13:19.826 --> 00:13:21.053\nOkay, none.\n\n243\n00:13:21.053 --> 00:13:25.026\nWell, I don't have that ability to do so\nif I just download the ISO or\n\n244\n00:13:25.026 --> 00:13:27.650\nwhatever it is directly from pfSense.\n\n245\n00:13:27.650 --> 00:13:30.340\nBut since they give me\naccess to that source code,\n\n246\n00:13:30.340 --> 00:13:32.100\nnow we can download the source code and\n\n247\n00:13:32.100 --> 00:13:36.800\nnow Daniel can have his security team\ntrace through line by line to see.\n\n248\n00:13:36.800 --> 00:13:40.029\nBecause you and I don't know anybody that\nreally works at pfSense, and you may,\n\n249\n00:13:40.029 --> 00:13:43.089\nsorry if you're actually at work at\npfSense you do know them, but I don't.\n\n250\n00:13:43.089 --> 00:13:46.724\nSo, if you actually go, hey,\nI don't know anybody that works there,\n\n251\n00:13:46.724 --> 00:13:50.845\nthey give you this ability, it allows you\nto trace that out and see, did somebody\n\n252\n00:13:50.845 --> 00:13:54.990\nslip something malicious into the coding\nor not, and that way you can verify it.\n\n253\n00:13:54.990 --> 00:13:58.164\nAnd if there's a particular weakness\nthat you're trying to guard against, and\n\n254\n00:13:58.164 --> 00:13:59.936\nyou go, yeah, we don't like this, and\n\n255\n00:13:59.936 --> 00:14:02.099\nwe may hold off and\nsee what the next version brings in.\n\n256\n00:14:02.099 --> 00:14:05.519\nThe next version comes along,\nwe download the source code again and\n\n257\n00:14:05.519 --> 00:14:08.185\ninspect then Daniel goes,\nnow we can implement it.\n\n258\n00:14:08.185 --> 00:14:12.690\nBecause we went through the code line by\nline and we now feel good about this and\n\n259\n00:14:12.690 --> 00:14:13.430\nwe can do that.\n\n260\n00:14:13.430 --> 00:14:17.990\n&gt;&gt; Cuz otherwise, we're just trusting\nthem to say this is a secure device.\n\n261\n00:14:17.990 --> 00:14:18.660\nLike Ronnie said,\n\n262\n00:14:18.660 --> 00:14:24.240\nmaybe we have a very specific piece\nof security that we need implemented.\n\n263\n00:14:24.240 --> 00:14:26.550\nAnd if we can't see that,\n\n264\n00:14:26.550 --> 00:14:29.920\nthen we're just trusting that that\nis the case from another vendor.\n\n265\n00:14:29.920 --> 00:14:34.760\n&gt;&gt; And that's the kind of conundrum right,\nthat we have in terms of security, okay?\n\n266\n00:14:34.760 --> 00:14:36.980\nIt looks good, right,\nthe package is shiny.\n\n267\n00:14:36.980 --> 00:14:39.010\nIt sounds brand new.\n\n268\n00:14:39.010 --> 00:14:41.180\nIt's right in the box, you want to\nopen it, you want to install it.\n\n269\n00:14:41.180 --> 00:14:42.550\n&gt;&gt; It's got that new firewall smell.\n\n270\n00:14:42.550 --> 00:14:45.430\n&gt;&gt; It does, it has that new smell,\nthat new plastic smell.\n\n271\n00:14:45.430 --> 00:14:46.300\n&gt;&gt; [LAUGH]\n&gt;&gt; And you just love it.\n\n272\n00:14:46.300 --> 00:14:51.530\nBut at the same time it is something\nthat we as IT professionals,\n\n273\n00:14:51.530 --> 00:14:53.270\nright, we need to think about.\n\n274\n00:14:53.270 --> 00:14:55.714\nIf this is going to be kind of one of the,\nyou know,\n\n275\n00:14:55.714 --> 00:14:58.455\nthe chief security device at\nour perimeter, that it may\n\n276\n00:14:58.455 --> 00:15:02.420\nbe something that we do need to look at,\nwhich is the source code itself.\n\n277\n00:15:02.420 --> 00:15:06.180\npfSense is gracious enough to allow\nus to download the code and see it.\n\n278\n00:15:06.180 --> 00:15:10.260\nTo be able to actually examine it, and so\nthat way, we can actually run it through\n\n279\n00:15:10.260 --> 00:15:13.160\nour own security scan,\neven know they said, trust us.\n\n280\n00:15:13.160 --> 00:15:16.820\nWell, like everything else that we\nsay around here, trust, but verify,\n\n281\n00:15:16.820 --> 00:15:20.390\nand that's why the idea of the source\ncode is very important, okay?\n\n282\n00:15:20.390 --> 00:15:24.410\nBut for our particular purposes then,\nif you choose not to do that,\n\n283\n00:15:24.410 --> 00:15:27.140\nthat's perfectly fine\nwith pfSense as well.\n\n284\n00:15:27.140 --> 00:15:30.080\nBut notice down here then as we\nstart to take a look at some of\n\n285\n00:15:30.080 --> 00:15:32.060\nthe other options that you have available.\n\n286\n00:15:32.060 --> 00:15:34.946\nNotice that you have the ability\nto select an image and download.\n\n287\n00:15:34.946 --> 00:15:38.451\nNow we're going to be using this,\nbut before I do that,\n\n288\n00:15:38.451 --> 00:15:43.312\nI want to go down a little bit further\nhere so that we can see some other things.\n\n289\n00:15:43.312 --> 00:15:46.966\nIf you are a technology adopter,\nin other words,\n\n290\n00:15:46.966 --> 00:15:51.229\nif you're one of those early\nadopters that's out there,\n\n291\n00:15:51.229 --> 00:15:57.073\nyou may instead choose this one right here\nwhich is the idea of daily snapshots.\n\n292\n00:15:57.073 --> 00:16:01.407\nThey are builds of our upcoming releases\nthat are available for testing and\n\n293\n00:16:01.407 --> 00:16:02.244\nevaluation.\n\n294\n00:16:02.244 --> 00:16:07.120\nSo this is good in a testing environment,\nnot good in your production environment.\n\n295\n00:16:08.660 --> 00:16:10.170\nBut if you want to help that out and\n\n296\n00:16:10.170 --> 00:16:14.480\nyou want to actually see what's the latest\nthings coming down the line and\n\n297\n00:16:14.480 --> 00:16:18.780\nwhat fixes are there, there are a bunch\nof people out there that are testing,\n\n298\n00:16:18.780 --> 00:16:23.200\nthat are doing everything that they need\nto and then submitting all these different\n\n299\n00:16:23.200 --> 00:16:26.180\ntickets back up to PFSense so\nthat they can see that.\n\n300\n00:16:26.180 --> 00:16:30.450\nAnd so that way you can download\non a daily basis here, and\n\n301\n00:16:30.450 --> 00:16:34.530\nall those different aspects that you\nhave the ability to be able to do, and\n\n302\n00:16:34.530 --> 00:16:36.770\nhelp them out as well, okay?\n\n303\n00:16:36.770 --> 00:16:40.560\nNow, a couple of other things\nthat we need to talk about too.\n\n304\n00:16:40.560 --> 00:16:45.490\nThere's gonna be three different options,\nso let me scroll back up here to the main\n\n305\n00:16:45.490 --> 00:16:49.410\nfocus of what we're talking about, which\nis right here on the selection, okay?\n\n306\n00:16:50.500 --> 00:16:53.940\nFirst, I'm gonna try and click on this so\nthat you can see here, okay?\n\n307\n00:16:53.940 --> 00:16:56.640\nFirst thing that we have\nto do in terms of download,\n\n308\n00:16:56.640 --> 00:16:59.820\nis select the file type that we want,\nokay?\n\n309\n00:16:59.820 --> 00:17:02.230\nIs this a full install,\nor is this an upgrade?\n\n310\n00:17:02.230 --> 00:17:07.584\nIf you're already running a previous\nversion of pfSense like 2.2.6 and\n\n311\n00:17:07.584 --> 00:17:11.946\nyou wanna upgrade to 2.3.2,\nI was just trying to make sure\n\n312\n00:17:11.946 --> 00:17:16.389\nwe'd said that right to the latest\nversion that we have, well,\n\n313\n00:17:16.389 --> 00:17:21.410\nthey give you this ability to essentially\ndo an install of an upgrade type\n\n314\n00:17:21.410 --> 00:17:26.319\nif you want to, or they actually give\nthe entire full install as well.\n\n315\n00:17:26.319 --> 00:17:29.595\nSo that's all up to you, it's about\nthe size difference, and of course,\n\n316\n00:17:29.595 --> 00:17:33.380\nthe upgrade is just saying we're\nadding on additional elements too.\n\n317\n00:17:33.380 --> 00:17:37.110\nAnd here's what Daniel was mentioning\nit a little bit earlier as well.\n\n318\n00:17:37.110 --> 00:17:41.439\nYou have AMD64, which they tell\nyou is 64-bit architecture.\n\n319\n00:17:41.439 --> 00:17:46.200\n32-bit architecture of course, and\nthen this one, the NetGate ADI.\n\n320\n00:17:46.200 --> 00:17:50.240\nNow this one is for\nthe idea of the embedded types of install.\n\n321\n00:17:50.240 --> 00:17:55.073\nSo instead of you actually installing\nthis onto a hard drive somewhere, if you\n\n322\n00:17:55.073 --> 00:18:00.480\nknow that you've bought an appliance\nthat has just a compact flash install,\n\n323\n00:18:00.480 --> 00:18:04.780\nthis is probably the one that you'll also\nend up choosing right here instead, for\n\n324\n00:18:04.780 --> 00:18:07.980\nsomething like that,\nas far as the embedded image goes.\n\n325\n00:18:07.980 --> 00:18:12.650\nAnd then finally of course, the mirror\nsites that you have available to you.\n\n326\n00:18:12.650 --> 00:18:16.070\nNow the important thing about this of\ncourse for you to download, you wanna\n\n327\n00:18:16.070 --> 00:18:21.250\ndownload the ones that's closest to you\nfor the fastest speeds that are possible.\n\n328\n00:18:21.250 --> 00:18:25.420\nIf I wanted to,\nI'm here in Florida in the United States,\n\n329\n00:18:25.420 --> 00:18:29.950\nI could download from Singapore if I\nchose to, I'm not saying you can't.\n\n330\n00:18:29.950 --> 00:18:32.080\nYou can download from\nthe furthest one that you want,\n\n331\n00:18:32.080 --> 00:18:35.800\nit's gonna slow things down\njust a tad bit at times, but\n\n332\n00:18:35.800 --> 00:18:38.700\njust kinda realize that usually\nyou choose your closest one.\n\n333\n00:18:38.700 --> 00:18:42.480\nNow when you do this, you'll actually\nnotice that there's something else before\n\n334\n00:18:42.480 --> 00:18:48.510\nwe hit the download button which is right\nhere, which is the SHA256 Checksum, okay?\n\n335\n00:18:48.510 --> 00:18:52.920\nAnd this is an important part of\nsomething that you need to be able to do.\n\n336\n00:18:52.920 --> 00:18:57.370\nNow Daniel, do you know what\nthis SHA256 Checksum is about?\n\n337\n00:18:57.370 --> 00:18:58.860\nBeing a security guy, I'm assuming you do.\n\n338\n00:18:58.860 --> 00:19:00.606\n&gt;&gt; Yeah well you assume correctly.\n\n339\n00:19:00.606 --> 00:19:02.610\n&gt;&gt; [LAUGH]\n&gt;&gt; You know what happens when you assume,\n\n340\n00:19:02.610 --> 00:19:04.156\nyou are right every time.\n\n341\n00:19:04.156 --> 00:19:06.000\n&gt;&gt; [LAUGH] Yeah.\n&gt;&gt; And that being said, what it is,\n\n342\n00:19:06.000 --> 00:19:09.300\nis basically a hashed\nalgorithm that allows you to\n\n343\n00:19:09.300 --> 00:19:11.320\nverify the veracity of your download.\n\n344\n00:19:11.320 --> 00:19:14.480\nIf you look at that, check some values,\nonce you click on the link,\n\n345\n00:19:14.480 --> 00:19:16.460\nI assume that it shows you what it is.\n\n346\n00:19:16.460 --> 00:19:20.310\nAnd then you run the same check some\nvalue against what you've downloaded, and\n\n347\n00:19:20.310 --> 00:19:24.910\nyou come up with identical matches,\nwell then you know that that is a good\n\n348\n00:19:24.910 --> 00:19:26.496\ndownload, like the integrity\nis still there.\n\n349\n00:19:26.496 --> 00:19:29.800\nIf it comes out differently, then maybe\nthere was some hiccup in the network\n\n350\n00:19:29.800 --> 00:19:32.740\nconnection, some packets didn't\nmake it all the way there,\n\n351\n00:19:32.740 --> 00:19:34.540\nand you probably need to\nrun a download again.\n\n352\n00:19:34.540 --> 00:19:38.470\nOtherwise, you try to fire off an\ninstallation, you might even get into it,\n\n353\n00:19:38.470 --> 00:19:42.042\nbut things might not go as you had\n[LAUGH] hoped at the end of it.\n\n354\n00:19:42.042 --> 00:19:44.767\n&gt;&gt; Yeah cuz you never know if\nthey added something in, right?\n\n355\n00:19:44.767 --> 00:19:48.070\nThe checksum essentially helps\nus to identify If somewhere\n\n356\n00:19:48.070 --> 00:19:50.950\nalong the line where we thought we were\ndownloading from their New York mirror,\n\n357\n00:19:50.950 --> 00:19:55.036\nit might have been downloading\nfrom the mirror down the road.\n\n358\n00:19:55.036 --> 00:19:55.771\n&gt;&gt; .RU.\n[LAUGH]\n\n359\n00:19:55.771 --> 00:19:57.350\n&gt;&gt; Yeah, .RU somewhere, and\n\n360\n00:19:57.350 --> 00:19:58.520\nthey add in a bunch of stuff.\n\n361\n00:19:58.520 --> 00:20:01.180\nWell that checksum helps us to\nbe able to verify that it didn't\n\n362\n00:20:01.180 --> 00:20:04.060\nchange from the time where\nwe believe we downloaded\n\n363\n00:20:04.060 --> 00:20:07.040\nto the way that it actually\nverified it at the very beginning.\n\n364\n00:20:07.040 --> 00:20:10.060\nNow, PSS does something neat here for us.\n\n365\n00:20:10.060 --> 00:20:14.280\nWe can go ahead and\njust click on this link if we want to, and\n\n366\n00:20:14.280 --> 00:20:18.160\nthis actually lists every single\none of those hash values for\n\n367\n00:20:18.160 --> 00:20:23.460\nus, inside of a file and you can see\nthe extension here, the sha256 extension.\n\n368\n00:20:23.460 --> 00:20:28.450\nIt's just a simple text file that\nhas a list of that particular\n\n369\n00:20:29.640 --> 00:20:33.590\nhash value of the software\nthat we're looking for, okay.\n\n370\n00:20:33.590 --> 00:20:37.300\nSo we can actually do that and\nthen once we have that,\n\n371\n00:20:37.300 --> 00:20:41.880\nright, well we can then download the\noriginal file just like what Daniel was\n\n372\n00:20:41.880 --> 00:20:45.140\ntalking about and run that same type\nof checksum and it should match.\n\n373\n00:20:45.140 --> 00:20:47.950\nIf it matches, then we know nobody's\ntampered with it since the time they\n\n374\n00:20:47.950 --> 00:20:49.960\nactually ran that, and we are good.\n\n375\n00:20:49.960 --> 00:20:52.630\nThere is still a problem though, okay.\n\n376\n00:20:52.630 --> 00:20:57.430\nWe normally want to download that\nhash value, or that hash file,\n\n377\n00:20:57.430 --> 00:21:02.400\nfrom a different mirror site than\nwhere you would normally download\n\n378\n00:21:02.400 --> 00:21:07.710\nthe file itself, okay, and\nthat is what you want to verify, okay.\n\n379\n00:21:07.710 --> 00:21:11.480\nYou wanna say, because if not,\nwhat if somebody\n\n380\n00:21:11.480 --> 00:21:15.650\nmesses with that one file that you're\ndownloading and then they go and\n\n381\n00:21:15.650 --> 00:21:19.260\nthey change the actual checksum for\nthat file on that same mirror?\n\n382\n00:21:19.260 --> 00:21:23.210\nWell now you're a little bit more in\ntrouble when you start to do this.\n\n383\n00:21:23.210 --> 00:21:25.690\nSo always make sure that you check and\nyou download that.\n\n384\n00:21:25.690 --> 00:21:27.610\nSo let's go ahead and do this.\n\n385\n00:21:27.610 --> 00:21:30.740\nI'm just gonna select the New York one and\nclick download here.\n\n386\n00:21:30.740 --> 00:21:34.670\nAnd then when I do this,\nwe can then scroll down through.\n\n387\n00:21:34.670 --> 00:21:36.660\nNow, this is not easy.\n\n388\n00:21:36.660 --> 00:21:40.550\nAnd I really hate to say this,\nyou really have to actually\n\n389\n00:21:40.550 --> 00:21:43.760\nknow what you're looking for,\nbecause they don't make it easy.\n\n390\n00:21:43.760 --> 00:21:46.455\nSo at the very beginning here,\nit looks pretty simple, right?\n\n391\n00:21:46.455 --> 00:21:49.770\npfSense-CE for community edition and\n\n392\n00:21:49.770 --> 00:21:54.660\nthen 2.3.2, that's kinda\nthe current release that we have.\n\n393\n00:21:54.660 --> 00:21:59.770\nAnd then release 4G and I can tell that\nthis one means the 64-bit addition, but\n\n394\n00:21:59.770 --> 00:22:01.960\nthen it says NanoBSD.\n\n395\n00:22:03.010 --> 00:22:08.160\nI'm like, wait a minute, I didn't choose\nany NanoBSD option that we have available.\n\n396\n00:22:08.160 --> 00:22:10.860\nSo that's when you start\nto go down here and\n\n397\n00:22:10.860 --> 00:22:13.900\nyou start to maybe actually\ntake a look at this one.\n\n398\n00:22:13.900 --> 00:22:16.170\nHere is the actual current release and\n\n399\n00:22:16.170 --> 00:22:19.011\nthis one is a format that I'm\nfamiliar with, which is ISO.\n\n400\n00:22:20.150 --> 00:22:24.230\nNow here in PFSense, there's a couple\nof different formats that you have.\n\n401\n00:22:24.230 --> 00:22:29.150\nYou have this nanobsd if you're gonna\nbe installing this on SSD drives,\n\n402\n00:22:29.150 --> 00:22:35.110\nthey like the idea of the nanobsd aspect\nof this, so they do recommend that if\n\n403\n00:22:35.110 --> 00:22:40.450\nyou're going to do that, the ISO of course\nis for traditional types of installs.\n\n404\n00:22:40.450 --> 00:22:45.180\nIf you have the CD player,\nso weird, it's been so\n\n405\n00:22:45.180 --> 00:22:47.100\nlong since I've actually\ntalked about that.\n\n406\n00:22:47.100 --> 00:22:49.500\nWe will all use just a file and\nwe mount it to A, and\n\n407\n00:22:49.500 --> 00:22:51.290\nthat's the one that we're gonna do.\n\n408\n00:22:51.290 --> 00:22:54.750\nWe have this file right here and\nof course, if you have that,\n\n409\n00:22:54.750 --> 00:22:58.540\nyou can burn it then to media and\nthen install it into your machine and\n\n410\n00:22:58.540 --> 00:23:00.300\nyou're off and you're ready to go.\n\n411\n00:23:00.300 --> 00:23:03.980\nAnd, then you have this one for\nmemstick, okay?\n\n412\n00:23:03.980 --> 00:23:07.800\nMemory stick means it's designed for\nyou to download it and\n\n413\n00:23:07.800 --> 00:23:12.430\nthen burn it to, well, a USB flash\ndrive is what it's designed to do.\n\n414\n00:23:12.430 --> 00:23:14.700\nThis is the preferred version, okay.\n\n415\n00:23:14.700 --> 00:23:19.530\nFor you to do so, they recommend this\nparticular aspect that you do that.\n\n416\n00:23:19.530 --> 00:23:23.910\nSo you need to make this bootable and then\nyou need to follow some instructions that\n\n417\n00:23:23.910 --> 00:23:27.540\nyou can find on the PFSENT site to\nmake this one downloadable, and\n\n418\n00:23:27.540 --> 00:23:30.740\nactually install on here which\nI have already previously done.\n\n419\n00:23:30.740 --> 00:23:33.260\nAnd you might be saying, well Ronnie,\nwhy did you go ahead and do that?\n\n420\n00:23:33.260 --> 00:23:35.450\nBecause it takes 22 minutes to do this,\n\n421\n00:23:35.450 --> 00:23:39.340\nand that's because this\nis a 16 gig memory stick.\n\n422\n00:23:39.340 --> 00:23:41.190\nNow if I only had a one,\nand it's kinda weird,\n\n423\n00:23:41.190 --> 00:23:42.970\nI don't have a one gig memory stick.\n\n424\n00:23:42.970 --> 00:23:45.251\nIt probably would have\ntaken no time at all.\n\n425\n00:23:45.251 --> 00:23:48.857\nBut with 16 gigs it's 22 minutes\nto be able to go ahead and\n\n426\n00:23:48.857 --> 00:23:52.109\nformat it the way that it needs\nto to make it bootable and\n\n427\n00:23:52.109 --> 00:23:55.595\nthen to install the files and\nit takes up the entire drive.\n\n428\n00:23:55.595 --> 00:23:58.618\nSo you can't install anything\nelse on here after you do that.\n\n429\n00:23:58.618 --> 00:24:02.366\nBut this is something that you'll\nbe able to plug into your device,\n\n430\n00:24:02.366 --> 00:24:03.416\nboot up to USB, and\n\n431\n00:24:03.416 --> 00:24:07.850\nthen will begin the install process right\nhere on this drive is what we will see.\n\n432\n00:24:07.850 --> 00:24:11.908\nWe'll kinda walk through it, at least\nthe process of getting it started there.\n\n433\n00:24:11.908 --> 00:24:16.000\nBut overall, though, we're not gonna\ndo the whole thing this way, okay?\n\n434\n00:24:16.000 --> 00:24:19.658\nSo once you download it, right,\nyou have couple of things here, okay?\n\n435\n00:24:19.658 --> 00:24:21.950\nSo, I've already downloaded\nthe ones that we're gonna use,\n\n436\n00:24:21.950 --> 00:24:23.508\nlet me show you here, okay?\n\n437\n00:24:23.508 --> 00:24:26.175\nThis amd64.iso.gz.\n\n438\n00:24:26.175 --> 00:24:31.142\nAnd then, even though I don't know\nexactly where everything goes here,\n\n439\n00:24:31.142 --> 00:24:33.110\nI selected the new mirror.\n\n440\n00:24:33.110 --> 00:24:38.560\nI went to Austin Texas here, and then I\njust clicked on this checksum link here,\n\n441\n00:24:38.560 --> 00:24:40.900\nand then I scrolled down to that 2.3.2.\n\n442\n00:24:40.900 --> 00:24:44.184\nI know it's small, let me just\nget down here before I zoom in so\n\n443\n00:24:44.184 --> 00:24:45.458\nthat we can see it here.\n\n444\n00:24:49.073 --> 00:24:54.100\nAnd so this is where I downloaded\nthis particular file as well, okay?\n\n445\n00:24:54.100 --> 00:24:57.950\nNow instead of me actually getting the\nlink in which you'll see here in a moment\n\n446\n00:24:57.950 --> 00:25:01.570\nwhen we start to show you\nthe download aspect of it,\n\n447\n00:25:01.570 --> 00:25:05.120\nyou can actually see that we'll end up\nprinting it out directly on their webpage.\n\n448\n00:25:05.120 --> 00:25:08.380\nSo if you don't wanna do all this\nyou can actually just match it up to\n\n449\n00:25:08.380 --> 00:25:09.700\nthe webpage here.\n\n450\n00:25:09.700 --> 00:25:11.750\nBut for right now,\nI just went ahead and downloaded this.\n\n451\n00:25:11.750 --> 00:25:14.850\nI downloaded them into\na folder on my machine.\n\n452\n00:25:14.850 --> 00:25:17.990\nSo they're from two different locations,\nright?\n\n453\n00:25:17.990 --> 00:25:21.720\nSo here, I'm going to open up my terminal.\n\n454\n00:25:21.720 --> 00:25:25.810\nAnd then I'm simply going\nto navigate to my desktop.\n\n455\n00:25:27.620 --> 00:25:30.510\nAnd then on my desktop I have\na folder called pfSense.\n\n456\n00:25:30.510 --> 00:25:34.810\nAnd inside of pfSense I have\na folder called Current.\n\n457\n00:25:34.810 --> 00:25:35.680\nAt least I think I do.\n\n458\n00:25:37.795 --> 00:25:39.240\nAnd I'm gonna list it out.\n\n459\n00:25:39.240 --> 00:25:43.550\nAnd you'll see that there's a couple of\ndifferent ones that we see in here, okay?\n\n460\n00:25:43.550 --> 00:25:47.880\nNow, the one that I downloaded\nfrom pfSense is right here, and\n\n461\n00:25:47.880 --> 00:25:50.310\nthis is a .gz file,\nwhich means it's zipped up.\n\n462\n00:25:51.740 --> 00:25:55.780\nAnd here is the hash file that I\ndownloaded from the other mirror\n\n463\n00:25:55.780 --> 00:25:57.140\nthat we see.\n\n464\n00:25:57.140 --> 00:25:59.560\nSo right here, we can actually do this.\n\n465\n00:25:59.560 --> 00:26:02.250\nAll I need is something\nthat will read a text file.\n\n466\n00:26:02.250 --> 00:26:03.940\nSo Daniel is our Linux guy.\n\n467\n00:26:03.940 --> 00:26:05.130\nHopefully I'll be able to do this.\n\n468\n00:26:05.130 --> 00:26:06.703\nAnd let me just type in the word more.\n\n469\n00:26:10.401 --> 00:26:13.110\nAnd then, I'm going to do that.\n\n470\n00:26:13.110 --> 00:26:15.840\nAnd in a moment,\nnotice that it actually brings me out and\n\n471\n00:26:15.840 --> 00:26:19.890\ngives me this particular hash value here,\nokay?\n\n472\n00:26:19.890 --> 00:26:26.150\nSo then, the other one, of course then, is\nnow I actually have to run this Shaw sum,\n\n473\n00:26:26.150 --> 00:26:30.830\nand then an a, indicating what\nparticular algorithm I wanna use.\n\n474\n00:26:30.830 --> 00:26:35.670\nAnd this one is 256, because it actually\ntells me that this is 256, over here.\n\n475\n00:26:36.870 --> 00:26:40.182\nAnd then I select the gzipped file\n\n476\n00:26:42.777 --> 00:26:46.640\nAs far as the name goes, and\nthen I press Enter there.\n\n477\n00:26:46.640 --> 00:26:49.800\nAnd in a moment it should\ncalculate through, and\n\n478\n00:26:49.800 --> 00:26:52.950\nit should allow me to\ncompare these values.\n\n479\n00:26:52.950 --> 00:26:58.810\nSo as I take a look at this entire value\nthat I see here, right here at the top,\n\n480\n00:26:58.810 --> 00:27:03.710\nand I also compare it to the value that it\ngenerated against the actual file itself,\n\n481\n00:27:03.710 --> 00:27:04.790\nthough should be identical.\n\n482\n00:27:04.790 --> 00:27:08.560\nNow, if you're saying, did you really\nsee all those numbers the same?\n\n483\n00:27:08.560 --> 00:27:12.770\nI kinda take a look at, let's say,\nthe last six numbers here.\n\n484\n00:27:12.770 --> 00:27:17.150\nLet me see if I can actually\nmatch the last six numbers here.\n\n485\n00:27:17.150 --> 00:27:20.600\nAnd I'll also look at the last six here.\n\n486\n00:27:20.600 --> 00:27:23.780\nNormally, that's kind of\nindicative enough, at least for\n\n487\n00:27:23.780 --> 00:27:26.610\nme, that it didn't change.\n\n488\n00:27:26.610 --> 00:27:29.850\nCuz usually if there's a change it's\ngonna be in those last numbers as well.\n\n489\n00:27:29.850 --> 00:27:31.775\nSo that's what I normally look for, too.\n\n490\n00:27:31.775 --> 00:27:34.740\nBut usually because of the way\nthat hashes work, right,\n\n491\n00:27:34.740 --> 00:27:36.630\nthere's something called\nthe avalanche effect.\n\n492\n00:27:36.630 --> 00:27:39.828\nThe tiny change will actually make\nit not increment by one or two,\n\n493\n00:27:39.828 --> 00:27:41.466\nit makes it just change totally.\n\n494\n00:27:41.466 --> 00:27:44.250\nBut normally that's what I take a look at,\nkind of ending.\n\n495\n00:27:44.250 --> 00:27:48.832\nAnd if the endings are different then I\nknow that, something is corrupt here,\n\n496\n00:27:48.832 --> 00:27:50.850\nat least according to the hash values.\n\n497\n00:27:50.850 --> 00:27:52.296\nBut everything looks good at this point.\n\n498\n00:27:52.296 --> 00:27:53.745\n&gt;&gt; Yeah.\n&gt;&gt; And it looks like we are ready to go.\n\n499\n00:27:53.745 --> 00:27:57.669\n&gt;&gt; And you even have a few comparative\noperators that work inside of a bash that\n\n500\n00:27:57.669 --> 00:28:00.890\nwill allow you do a little\nunique things of that nature.\n\n501\n00:28:00.890 --> 00:28:03.680\nMake sure there's nothing changed in\nthere and it will just output it for you.\n\n502\n00:28:03.680 --> 00:28:07.770\nSo, if you're handy with the terminal\nkeys and your BSD options,\n\n503\n00:28:07.770 --> 00:28:09.820\nyou should be able to work\nthat out pretty quickly.\n\n504\n00:28:09.820 --> 00:28:11.021\n&gt;&gt; Yeah, and if you're like Ronnie,\n\n505\n00:28:11.021 --> 00:28:12.630\nyou kind of use the simplest\nthing that you can.\n\n506\n00:28:12.630 --> 00:28:13.450\n&gt;&gt; [LAUGH] Right, you just look.\n\n507\n00:28:13.450 --> 00:28:15.590\n&gt;&gt; Yeah, you just kinda look and\ngo, okay, let me compare that.\n\n508\n00:28:15.590 --> 00:28:18.160\nBut yes, there's much more\nsophisticated options and\n\n509\n00:28:18.160 --> 00:28:20.060\ndefinitely you should\ntake advantage of that.\n\n510\n00:28:20.060 --> 00:28:24.820\nIf you have that, or whatever system\nthat your security policy says, right?\n\n511\n00:28:24.820 --> 00:28:27.810\nSo if your security policy says,\nRonnie, it's not enough for\n\n512\n00:28:27.810 --> 00:28:30.968\nme to check the last five or six,\nwhich it probably isn't, okay?\n\n513\n00:28:30.968 --> 00:28:32.610\n&gt;&gt; [LAUGH]\n&gt;&gt; So it probably isn't.\n\n514\n00:28:32.610 --> 00:28:34.800\nAnd it says that you have\nto check more than that,\n\n515\n00:28:34.800 --> 00:28:37.310\nplease make sure you follow\nwhatever your security policy is.\n\n516\n00:28:37.310 --> 00:28:39.680\nBut as of this point, it is secure.\n\n517\n00:28:39.680 --> 00:28:45.180\nAnd that means that now, I believe that\nthat file is as pfSense intended it.\n\n518\n00:28:45.180 --> 00:28:49.600\nAnd that means I can begin with\nthe installation process here, okay?\n\n519\n00:28:49.600 --> 00:28:52.190\nSo, remember that we have\nthose three options, right?\n\n520\n00:28:52.190 --> 00:28:56.310\nEmbedded BST, where we can\nactually download that as well.\n\n521\n00:28:56.310 --> 00:28:58.870\nWe have the idea of the Mem Stick option,\nand\n\n522\n00:28:58.870 --> 00:29:00.995\nwe have just an ISO which\nis the oldest option.\n\n523\n00:29:00.995 --> 00:29:06.200\nIt's the one that we are going to work\nwith most, and that is because we're gonna\n\n524\n00:29:06.200 --> 00:29:10.500\ngo ahead and install it inside of\na virtual machine first of all.\n\n525\n00:29:10.500 --> 00:29:14.390\nAnd we can actually get the Mem stick to\nwork with the virtual machine that well.\n\n526\n00:29:14.390 --> 00:29:18.680\nSo we're gonna just use the ISO\noption instead for right now.\n\n527\n00:29:18.680 --> 00:29:21.790\nBut the installation part should\njust be about the same regardless of\n\n528\n00:29:21.790 --> 00:29:22.940\nwhich one you'll have.\n\n529\n00:29:22.940 --> 00:29:26.830\nBut just remember, the other ones there,\nif you're going with the Mem stick,\n\n530\n00:29:26.830 --> 00:29:31.310\nit's pretty much the preferred one as\nlong as your device is USB bootable.\n\n531\n00:29:31.310 --> 00:29:34.060\nIf you know that the device you're\ngonna be installing on has a compact\n\n532\n00:29:34.060 --> 00:29:38.760\nflash drive, you may instead choose\nthe idea of the other one there,\n\n533\n00:29:38.760 --> 00:29:43.540\nthe ADI that we also saw, as that option\nas well, which is a smaller footprint and\n\n534\n00:29:43.540 --> 00:29:47.380\nalso designed to help you to get\nthe best out of your compact flash, too.\n\n535\n00:29:47.380 --> 00:29:50.330\nSo just kinda realize that those\nare the options that are available.\n\n536\n00:29:50.330 --> 00:29:54.380\nBut Daniel, it looks like you\nlet me talk way, a long time.\n\n537\n00:29:54.380 --> 00:29:55.090\n&gt;&gt; Well, I was riveted.\n\n538\n00:29:55.090 --> 00:29:56.668\n&gt;&gt; I know [LAUGH]-\n&gt;&gt; I was glued to this, man.\n\n539\n00:29:56.668 --> 00:29:58.260\n&gt;&gt; [LAUGH]\n&gt;&gt; This stuff is awesome,\n\n540\n00:29:58.260 --> 00:30:00.390\nbecause I like pfSense, it's really cool.\n\n541\n00:30:00.390 --> 00:30:03.471\nI mean, you said BSD,\nand you had me, right?\n\n542\n00:30:03.471 --> 00:30:05.300\n&gt;&gt; [LAUGH]\n&gt;&gt; I was in it to win it from there.\n\n543\n00:30:05.300 --> 00:30:08.340\nBut you're right, we have gone\na little long with this episode.\n\n544\n00:30:08.340 --> 00:30:11.210\nWe have yet\nto start actually installing the thing, so\n\n545\n00:30:11.210 --> 00:30:13.050\nit looks like a part two is in order for\nus.\n\n546\n00:30:13.050 --> 00:30:14.790\nRonnie, I look forward\nto seeing you there.\n\n547\n00:30:14.790 --> 00:30:16.713\nHopefully you guys will\njoin us as well and\n\n548\n00:30:16.713 --> 00:30:19.950\nsee the culmination of what\nwe've brought you to so far.\n\n549\n00:30:19.950 --> 00:30:21.860\nBut as for this episode,\nwe're gonna go ahead and sign off.\n\n550\n00:30:21.860 --> 00:30:23.320\nThanks for joining us everybody.\n\n551\n00:30:23.320 --> 00:30:26.340\nSigning off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n552\n00:30:26.340 --> 00:30:27.070\n&gt;&gt; And I'm Ronnie Wong.\n\n553\n00:30:27.070 --> 00:30:29.067\n&gt;&gt; And we'll see you next time.\n\n554\n00:30:29.067 --> 00:30:35.092\n[MUSIC]\n\n555\n00:30:35.092 --> 00:30:37.045\nThank you for watching ITProTV.\n\n",
          "vimeoId": "195797794"
        },
        {
          "description": "In this episode, Daniel and Ronnie continue to explore what it takes to get pfSense v2.3.2 installed and ready for configuration. Here they take you through each step of the installation of the pfSense firewall software, taking care to explain the details of each option along the way.",
          "length": "1759",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-2-2-install_pfsense_pt2-121216.00_29_03_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-2-2-install_pfsense_pt2-121216.00_29_03_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-2-2-install_pfsense_pt2-121216.00_29_03_11.Still001-sm.jpg",
          "title": "Install pfSense Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:06.490\nWelcome to ITProTV [CROSSTALK]\n\n2\n00:00:06.490 --> 00:00:08.370\n[MUSIC]\n\n3\n00:00:08.370 --> 00:00:10.386\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:10.386 --> 00:00:12.876\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:12.876 --> 00:00:17.040\nwelcome back to another\ngreat episode of ITProTV.\n\n6\n00:00:17.040 --> 00:00:18.210\nI'm your host Daniel Lowrie, and\n\n7\n00:00:18.210 --> 00:00:23.330\nin today's episode we are back with more\non our pf sense Version 2.3.2 series.\n\n8\n00:00:23.330 --> 00:00:26.790\nAnd coming back from a part\ntwo on installing pfSense,\n\n9\n00:00:26.790 --> 00:00:28.190\nour good friend Mister Ronnie Wong.\n\n10\n00:00:28.190 --> 00:00:29.600\nRonnie, welcome back, sir.\n\n11\n00:00:29.600 --> 00:00:30.150\n&gt;&gt; Well, thank you for\n\n12\n00:00:30.150 --> 00:00:34.480\nhaving me back as we continue to take\na look at the idea of installing pfSense.\n\n13\n00:00:34.480 --> 00:00:37.190\nIn the last show we showed you\nwhere you can download pfSense, and\n\n14\n00:00:37.190 --> 00:00:41.330\nsome of the things you have to think about\nas you download and get it ready for\n\n15\n00:00:41.330 --> 00:00:42.710\ninstallation.\n\n16\n00:00:42.710 --> 00:00:46.430\nSo remember that you do have to make\nsure that everything is on hand and\n\n17\n00:00:46.430 --> 00:00:47.840\nthat you're ready to go.\n\n18\n00:00:47.840 --> 00:00:50.530\nNow, we're gonna be working\nwith a virtual environment.\n\n19\n00:00:50.530 --> 00:00:54.770\nWe're using VMware Fusion but\nyou can use any of them that you want to.\n\n20\n00:00:54.770 --> 00:00:58.310\nI've installed it inside a virtual box,\nI've installed it inside of Hyper V,\n\n21\n00:00:58.310 --> 00:01:03.430\nI've installed it on EX, ES, I can't say-\n&gt;&gt; You can do it Ronnie.\n\n22\n00:01:03.430 --> 00:01:07.145\n&gt;&gt; ESXI as well,\nI've installed them everywhere.\n\n23\n00:01:07.145 --> 00:01:09.140\nVMware workstation and\n\n24\n00:01:09.140 --> 00:01:13.630\nI've seen it actually worked it any\nenvironment just about that you want to.\n\n25\n00:01:13.630 --> 00:01:16.130\nThe key here of course is as you\ngo through your configuration for\n\n26\n00:01:16.130 --> 00:01:19.670\nyour virtual machine, you wanna make sure\nyou have at least two network adapters.\n\n27\n00:01:19.670 --> 00:01:21.000\nCan you have more than that?\n\n28\n00:01:21.000 --> 00:01:22.390\nAbsolutely.\n\n29\n00:01:22.390 --> 00:01:23.670\nBut at least two.\n\n30\n00:01:23.670 --> 00:01:26.130\nNow I've got a machine in which I have,\nI think,\n\n31\n00:01:26.130 --> 00:01:28.350\nif I count right, six network adapters.\n\n32\n00:01:28.350 --> 00:01:31.230\nWe're only gonna work with two at\nthe beginning, and we'll show you how\n\n33\n00:01:31.230 --> 00:01:34.970\nyou can configure this to actually\nexpand out to more as you need them.\n\n34\n00:01:34.970 --> 00:01:38.410\nBut at this point, we wanna begin\nwith that idea of essentially two.\n\n35\n00:01:38.410 --> 00:01:39.962\nOnce you have that in place,\n\n36\n00:01:39.962 --> 00:01:43.723\nthe minimum requirement is really\njust about as much RAM as you want.\n\n37\n00:01:43.723 --> 00:01:48.240\nOr you can actually have available and\nthen as big of a hard drive as you want or\n\n38\n00:01:48.240 --> 00:01:50.240\nhave available as well.\n\n39\n00:01:50.240 --> 00:01:54.140\nSo it's all about the configuration that\nyou have right there on your machine\n\n40\n00:01:54.140 --> 00:01:56.970\nin terms of the amount of RAM\nthat you have available and\n\n41\n00:01:56.970 --> 00:02:01.410\nthen how much hard drive space are you\nwilling to give the machine itself.\n\n42\n00:02:01.410 --> 00:02:06.040\nSo that's kind of the only limitations and\nthen of course your virtual network\n\n43\n00:02:06.040 --> 00:02:08.430\nadaptors have as many\nof those as you want.\n\n44\n00:02:08.430 --> 00:02:09.480\nI put mine at six.\n\n45\n00:02:09.480 --> 00:02:14.080\nAnd the reason why is that\nit matches up with a Netgate\n\n46\n00:02:14.080 --> 00:02:16.650\nfirewall that's actually\nout there to 4860.\n\n47\n00:02:16.650 --> 00:02:19.410\nAnd that's why I wanted to do\nthat cuz that's the kind that we\n\n48\n00:02:19.410 --> 00:02:23.340\nactually use right here\nat ITProTV studios.\n\n49\n00:02:23.340 --> 00:02:29.450\nAll right, so now that we have our\nverified version of pfSense, right?\n\n50\n00:02:29.450 --> 00:02:31.810\nLet me show you what\nwe're talking about here.\n\n51\n00:02:31.810 --> 00:02:36.290\nSo on my screen inside of this folder I\nwent ahead and did the current version,\n\n52\n00:02:36.290 --> 00:02:40.390\nand it downloads as that gzip file,\nlet me makes sure that you can see that.\n\n53\n00:02:40.390 --> 00:02:44.760\nIt downloads that gzip file I\njust simply unzip that file, and\n\n54\n00:02:44.760 --> 00:02:47.160\nthat created that ISO for me.\n\n55\n00:02:47.160 --> 00:02:52.640\nSo, instead of it being compressed, it's\nnow decompressed, and it's ready for use.\n\n56\n00:02:52.640 --> 00:02:56.772\nIn a real, physical environment then,\nwhere I had a CD tray,\n\n57\n00:02:56.772 --> 00:03:01.232\nI'm ready to go in, I would burn this,\nthen to an actual CD or DVD.\n\n58\n00:03:01.232 --> 00:03:05.390\nAnd then insert it into\nthe device itself and reboot, and\n\n59\n00:03:05.390 --> 00:03:07.650\nwe should be up and operating.\n\n60\n00:03:08.750 --> 00:03:12.230\nInside of the virtual environment\nthough I do the same thing,\n\n61\n00:03:12.230 --> 00:03:16.820\nexcept I come up here and\nI simply choose the disk image.\n\n62\n00:03:16.820 --> 00:03:20.160\nAnd I go ahead and I select\nthe current one that I have available.\n\n63\n00:03:20.160 --> 00:03:21.730\nAnd I click Open.\n\n64\n00:03:21.730 --> 00:03:24.120\nAnd from that point,\nI just start the machine.\n\n65\n00:03:24.120 --> 00:03:26.270\nNow, when I start the machine\nin the virtual environment,\n\n66\n00:03:26.270 --> 00:03:27.700\neverything runs faster.\n\n67\n00:03:27.700 --> 00:03:30.560\nOkay, like lightning fast, okay.\n\n68\n00:03:30.560 --> 00:03:33.480\nSo there's gonna come a point in time\nin which things are gonna change and\n\n69\n00:03:33.480 --> 00:03:37.170\nslow down, and it's difficult for\nus to actually see.\n\n70\n00:03:37.170 --> 00:03:40.270\nSo right here is normally where\nyou'd start to see things.\n\n71\n00:03:40.270 --> 00:03:41.660\nAnd it looks like it's booting up.\n\n72\n00:03:41.660 --> 00:03:44.510\nThere is actually even a live CD version\n\n73\n00:03:44.510 --> 00:03:47.840\nof pfSense I'm trying to expand\nthis thing out here of I can.\n\n74\n00:03:47.840 --> 00:03:50.550\nBut it's gonna kind of\nstop here in a moment.\n\n75\n00:03:50.550 --> 00:03:53.400\nAnd I had to press the letter\nI is what you end up seeing.\n\n76\n00:03:53.400 --> 00:03:55.792\nSo it's going though it's taking\na look at, the hardware machine,\n\n77\n00:03:55.792 --> 00:03:57.829\nthe virtual machine environment\nthat it's looking for.\n\n78\n00:03:57.829 --> 00:04:01.690\nAnd then in a moment,\nit's gonna start to do this.\n\n79\n00:04:01.690 --> 00:04:04.650\nAnd now it has given me nine seconds,\nand I press the letter i for\n\n80\n00:04:04.650 --> 00:04:06.440\ninstallation, okay.\n\n81\n00:04:06.440 --> 00:04:08.530\nNow once I do that,\nyou'll see at the bottom here,\n\n82\n00:04:08.530 --> 00:04:11.760\nit's actually noting,\nlaunching the pfSense installer, and\n\n83\n00:04:11.760 --> 00:04:16.660\nthis is what you'll end up seeing is\nthe entire pfSense installer right here.\n\n84\n00:04:16.660 --> 00:04:17.359\nI'm trying to see if I\ncan full screen that.\n\n85\n00:04:17.359 --> 00:04:19.570\nThere we go, okay.\n\n86\n00:04:19.570 --> 00:04:24.050\nNow, with this one you do have to just\npay attention and walk through this.\n\n87\n00:04:24.050 --> 00:04:26.430\nNow, what if it wasn't\nin a virtual machine,\n\n88\n00:04:26.430 --> 00:04:29.260\nhow would I do this on physical hardware?\n\n89\n00:04:29.260 --> 00:04:35.770\nWell, if you had the pfSense box, right,\nthat you had bought, the Netgate pfSense\n\n90\n00:04:35.770 --> 00:04:40.010\nbox, you would hook in with a console\ncable is what you would end up doing.\n\n91\n00:04:40.010 --> 00:04:42.170\nSo this would plug into the device, and\n\n92\n00:04:42.170 --> 00:04:44.850\nthen you would have\nthis into your machine.\n\n93\n00:04:44.850 --> 00:04:47.630\nAnd you would use some\ntype of console software.\n\n94\n00:04:47.630 --> 00:04:50.450\nIf you're in Windows, it's probably\ngonna be something like PuTTY,\n\n95\n00:04:50.450 --> 00:04:52.000\nusually that's kind of the big one.\n\n96\n00:04:52.000 --> 00:04:55.830\nIf you're in Mac, you can have several\ndifferent options that's out there.\n\n97\n00:04:55.830 --> 00:04:59.210\niTerm, iTerm2 I think, is another one.\n\n98\n00:04:59.210 --> 00:05:01.900\nAnd you can even use\nthe screen command if you have\n\n99\n00:05:01.900 --> 00:05:04.170\nknowledge on how to\nactually implement that.\n\n100\n00:05:04.170 --> 00:05:07.290\nThat will work just fine as\nwell through the terminal.\n\n101\n00:05:07.290 --> 00:05:09.760\nSo that would give you the same output\nthat you're seeing right here on\n\n102\n00:05:09.760 --> 00:05:10.640\nthe screen.\n\n103\n00:05:10.640 --> 00:05:13.780\nThis is kind of emulating\nthat same aspect.\n\n104\n00:05:13.780 --> 00:05:17.890\nSo at this point, I'm not gonna actually\ndo anything as far as changing the actual\n\n105\n00:05:17.890 --> 00:05:19.250\ndefaults right there.\n\n106\n00:05:19.250 --> 00:05:21.370\nI'm simply gonna accept the setting, and\n\n107\n00:05:21.370 --> 00:05:25.540\nnow I have a couple of options\nright here at the beginning, okay?\n\n108\n00:05:25.540 --> 00:05:28.530\nSo quick and easy install,\nor I can do custom.\n\n109\n00:05:28.530 --> 00:05:32.334\nThe difference between these two,\nright, is one's gonna say, let me make\n\n110\n00:05:32.334 --> 00:05:36.197\nthe assumptions on what I see in terms\nof the hardware, and I'm gonna give you\n\n111\n00:05:36.197 --> 00:05:39.962\nthe most basic but the quickest install,\nso that you can be up and running.\n\n112\n00:05:39.962 --> 00:05:45.470\nPeople want this option period,\nthe majority of the time, okay.\n\n113\n00:05:45.470 --> 00:05:50.090\nAnd that is because once they have this,\nprobably within 30 or 40 minutes after\n\n114\n00:05:50.090 --> 00:05:56.660\nthat point, it can be running on your\nnetwork and working, okay as a firewall.\n\n115\n00:05:56.660 --> 00:05:59.240\nAnd then then you're actually configuring\nrules, you're configuring NAT,\n\n116\n00:05:59.240 --> 00:06:00.560\nyou're doing all that stuff.\n\n117\n00:06:00.560 --> 00:06:04.740\nBut it's probably within an hour you\nactually have a fully functioning firewall\n\n118\n00:06:04.740 --> 00:06:06.950\nand it's going and\nit's doing everything that you want to.\n\n119\n00:06:06.950 --> 00:06:09.069\n&gt;&gt; And if you don't need to anything\nsuper fancy wit your firewall,\n\n120\n00:06:09.069 --> 00:06:11.627\nyou just need a firewall that's up and\nrunning and you can start configuring.\n\n121\n00:06:11.627 --> 00:06:15.056\nWhy not go with it,\nlet it choose all the best settings.\n\n122\n00:06:15.056 --> 00:06:18.227\nThey've done a really good\njob at pfSense figuring out,\n\n123\n00:06:18.227 --> 00:06:21.610\nokay this is what the vast\nmajority want to do with it.\n\n124\n00:06:21.610 --> 00:06:23.530\nAnd how they want to configure it,\nlet's just go ahead and\n\n125\n00:06:23.530 --> 00:06:25.640\ndo that, give it that basic set up.\n\n126\n00:06:25.640 --> 00:06:27.930\nSo all you gotta do is hit the quick\nconfigure and let it rock and\n\n127\n00:06:27.930 --> 00:06:31.450\nthen you're off to the configuration\nof how you need it to work.\n\n128\n00:06:31.450 --> 00:06:34.210\nAfter that setting up NAT rules or\nwhatever the case may be.\n\n129\n00:06:34.210 --> 00:06:38.160\nLike Ronnie said, the majority of\nthe time this is where you're gonna go.\n\n130\n00:06:38.160 --> 00:06:41.630\nBut every now and then Ronnie,\nwe gotta set up some custom options right?\n\n131\n00:06:41.630 --> 00:06:46.650\n&gt;&gt; You do, but you have couple of options\nhere too, if you were patient, okay.\n\n132\n00:06:46.650 --> 00:06:47.552\nI am not a patient person-\n\n133\n00:06:47.552 --> 00:06:48.477\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay.\n\n134\n00:06:48.477 --> 00:06:49.830\n&gt;&gt; If you want patience become a doctor.\n\n135\n00:06:49.830 --> 00:06:56.110\n&gt;&gt; Yeah, if you are patient then you\ncan configure a ton of stuff during\n\n136\n00:06:56.110 --> 00:07:01.910\nthe install so that the configuration\nat the latter end is not as much okay?\n\n137\n00:07:01.910 --> 00:07:07.060\nBut it really requires you though,\nto already, and of course you have this.\n\n138\n00:07:07.060 --> 00:07:09.770\nOf course you have everything\nwritten out and planned out.\n\n139\n00:07:09.770 --> 00:07:12.560\nYou know what your IP address\nscheme is going to be.\n\n140\n00:07:12.560 --> 00:07:15.220\nYou already have DHCP scopes planned out.\n\n141\n00:07:15.220 --> 00:07:18.240\nYou know what your DNS\nserver address are gonna be.\n\n142\n00:07:18.240 --> 00:07:21.550\nYour public DNS,\nyou already have all that stuff, right.\n\n143\n00:07:21.550 --> 00:07:25.000\nAnd you know exactly what interfaces\nare gonna be, exactly what.\n\n144\n00:07:25.000 --> 00:07:29.358\nThen you can go to this custom install and\nkind of configure all the IP addresses,\n\n145\n00:07:29.358 --> 00:07:31.217\nsubnet mask and everything else,\n\n146\n00:07:31.217 --> 00:07:35.341\ndefault gateway you name it you can do\nall that very quickly, very quickly.\n\n147\n00:07:35.341 --> 00:07:41.300\nVery patiently [LAUGH] I should say,\nright here during the custom install.\n\n148\n00:07:41.300 --> 00:07:44.490\nBut that's probably not the option\nwe are going to choose.\n\n149\n00:07:44.490 --> 00:07:48.639\nNow if you are recovering from a failure,\nokay, so notice this one.\n\n150\n00:07:48.639 --> 00:07:51.895\nAt the bottom left hand\ncorner of the screen it says,\n\n151\n00:07:51.895 --> 00:07:54.489\nRescue config.xml from the hard drive.\n\n152\n00:07:54.489 --> 00:08:00.231\nSo if it comes to this point where\nsomething has locked up your pf box and\n\n153\n00:08:00.231 --> 00:08:03.350\nyou go I know that there's a config.\n\n154\n00:08:03.350 --> 00:08:06.720\nI know that there's a config on\nthere that I need to reach, but\n\n155\n00:08:06.720 --> 00:08:12.090\nI can't boot into it to get access to it,\nthis is saying, try this first.\n\n156\n00:08:12.090 --> 00:08:16.650\nSo you have that option, so we're gonna\nchoose The Quick Easy Install is the one\n\n157\n00:08:16.650 --> 00:08:19.200\nthat we're going to choose here all right.\n\n158\n00:08:19.200 --> 00:08:22.070\nOnce we've accepted that,\nnow it gives us a warning.\n\n159\n00:08:22.070 --> 00:08:23.170\nNotice the warning.\n\n160\n00:08:23.170 --> 00:08:24.690\nIt's gonna erase everything\non the hard drive.\n\n161\n00:08:24.690 --> 00:08:29.400\nSo if you had this as a previous machine\nthat you had been configuring and\n\n162\n00:08:29.400 --> 00:08:32.590\nyou go, yeah, I just took this old\nhard drive and throw it in there.\n\n163\n00:08:32.590 --> 00:08:35.210\nAnd you're going, wait a minute,\ndo I have data on that?\n\n164\n00:08:35.210 --> 00:08:40.200\nWell that's kind of the time for\nyou to think about this question.\n\n165\n00:08:40.200 --> 00:08:42.310\nBrand new hard drive you really\ndon't have to think about it,\n\n166\n00:08:42.310 --> 00:08:46.430\nbut just essentially assume that\nthis is gonna take up the entire\n\n167\n00:08:46.430 --> 00:08:49.730\nhard drive at this point,\nis what you're gonna see.\n\n168\n00:08:49.730 --> 00:08:55.230\nAnd then we're going to click OK and its\ngoing to start installing the processor.\n\n169\n00:08:55.230 --> 00:08:59.749\nSo it's simply going to go through here\nand begin that installation process and\n\n170\n00:08:59.749 --> 00:09:04.673\nin a few minutes after everything actually\ninstalls, you know, it hangs up every once\n\n171\n00:09:04.673 --> 00:09:09.007\nin awhile, and now it actually says,\nhey, are you sure you want to do this?\n\n172\n00:09:09.007 --> 00:09:11.735\nOkay now, notice it has two options.\n\n173\n00:09:11.735 --> 00:09:15.415\nAnd that's because it really can't tell\nthe difference between whether we're\n\n174\n00:09:15.415 --> 00:09:17.036\ninstalling this on a hard drive, or\n\n175\n00:09:17.036 --> 00:09:20.950\nwhether you're installing this on\nsomething like a compact flash, okay?\n\n176\n00:09:20.950 --> 00:09:22.720\nSo it says,\ndo you want the standard kernel, or\n\n177\n00:09:22.720 --> 00:09:24.440\ndo you want the one that's embedded?\n\n178\n00:09:24.440 --> 00:09:27.100\nWell, we're gonna choose\nthe standard kernel instead,\n\n179\n00:09:27.100 --> 00:09:31.610\nbecause I'm not installing this\nonto a compact flash of any sort.\n\n180\n00:09:31.610 --> 00:09:34.040\nAnd let it go through\nthe installation routines.\n\n181\n00:09:34.040 --> 00:09:37.805\nAnd you see where it really is just\na script that has actually created that\n\n182\n00:09:37.805 --> 00:09:38.860\n.sh here.\n\n183\n00:09:38.860 --> 00:09:39.730\nAnd now you're ready.\n\n184\n00:09:41.220 --> 00:09:44.051\nSo at the end of the process of\nthe installation it says, hey,\n\n185\n00:09:44.051 --> 00:09:47.535\nit's about to be shut down after this\nmachine has reached shutdown state you\n\n186\n00:09:47.535 --> 00:09:48.416\nmay remove the CD.\n\n187\n00:09:48.416 --> 00:09:51.920\nAnd that is key and you'll see why here.\n\n188\n00:09:51.920 --> 00:09:54.200\nIf I don't remove the CD,\n\n189\n00:09:54.200 --> 00:09:59.510\nI have found myself when I first started\nin this unusually endless loop of things,\n\n190\n00:09:59.510 --> 00:10:02.950\nwhere I would think I would configure\nthose two basic interfaces, Daniel.\n\n191\n00:10:02.950 --> 00:10:05.492\nI'd put the IP addresses and\neverything else on them.\n\n192\n00:10:05.492 --> 00:10:08.109\nAll right, now I've saved\nthe entire configuration and\n\n193\n00:10:08.109 --> 00:10:11.500\nI'm just going to reboot it to\nmake sure everything takes place.\n\n194\n00:10:11.500 --> 00:10:14.250\nAnd it comes back up and\nit's blank, it's empty.\n\n195\n00:10:14.250 --> 00:10:18.980\nAnd the reason why is it actually\nbooted into the live CD, okay.\n\n196\n00:10:18.980 --> 00:10:23.335\nAnd so I would do it again I would\nenter in the IP address and do that and\n\n197\n00:10:23.335 --> 00:10:26.252\nthen look, I'm gonna reboot and come back.\n\n198\n00:10:26.252 --> 00:10:30.367\n&gt;&gt; And when you're not working with actual\nCD media, this can definitely catch you\n\n199\n00:10:30.367 --> 00:10:34.119\noff guard, because it's just an ISO\nthat's mounted to a virtual CD, and\n\n200\n00:10:34.119 --> 00:10:36.320\nthese are the kinds of things that happen.\n\n201\n00:10:36.320 --> 00:10:37.294\nSo you gotta make sure,\ndon't do like Ronnie does.\n\n202\n00:10:37.294 --> 00:10:39.325\n[LAUGH]\n&gt;&gt; [LAUGH] Yeah, don't do that.\n\n203\n00:10:39.325 --> 00:10:41.465\n&gt;&gt; You just sit there in frustration for\n20 minutes going,\n\n204\n00:10:41.465 --> 00:10:42.738\nwhy does this not saving a config?\n\n205\n00:10:42.738 --> 00:10:45.151\nI've gone through this five times, and.\n\n206\n00:10:45.151 --> 00:10:47.986\nYeah, I need to eject that CD.\n\n207\n00:10:47.986 --> 00:10:49.008\n&gt;&gt; Yeah.\n&gt;&gt; My bad.\n\n208\n00:10:49.008 --> 00:10:51.475\n[LAUGH]\n&gt;&gt; If you think I'm joking about that,\n\n209\n00:10:51.475 --> 00:10:54.342\nit is the most frustrating\nthing in the world when you go,\n\n210\n00:10:54.342 --> 00:10:55.980\nthis should be an easy install.\n\n211\n00:10:55.980 --> 00:10:57.688\nI'll do this before I go to bed.\n\n212\n00:10:57.688 --> 00:11:01.275\nAnd I'll just take it into the office in\nthe morning and be ready to rock and roll.\n\n213\n00:11:01.275 --> 00:11:05.587\nAnd two hours later you're just\nscreaming at the top of your lungs and\n\n214\n00:11:05.587 --> 00:11:07.382\nyou're banging your head.\n\n215\n00:11:07.382 --> 00:11:08.550\nYou're like, why?\n\n216\n00:11:08.550 --> 00:11:09.870\nWhy isn't this working?\n\n217\n00:11:09.870 --> 00:11:12.550\nIt's because you forgot\nthat most important option.\n\n218\n00:11:12.550 --> 00:11:18.066\nYou may remove the CD from the CD ROM tray\nor, in my case, unmount the actual ISO.\n\n219\n00:11:18.066 --> 00:11:19.504\n&gt;&gt; That's right.\n\n220\n00:11:19.504 --> 00:11:23.350\n&gt;&gt; It can cause you much,\nmuch loss of time.\n\n221\n00:11:23.350 --> 00:11:25.750\nSo I'm simply gonna select reboot, and\n\n222\n00:11:25.750 --> 00:11:29.960\nthen I'm gonna click on my\ndisconnect the CD there.\n\n223\n00:11:29.960 --> 00:11:32.350\nAnd that is the same as ejecting it.\n\n224\n00:11:32.350 --> 00:11:35.378\nAnd now pfSense is going to reboot.\n\n225\n00:11:35.378 --> 00:11:38.670\nNow because it's missing the ISO,\nright, it has to go and\n\n226\n00:11:38.670 --> 00:11:43.280\nlook for it on the hard drive for\nthe installation is what we have to see.\n\n227\n00:11:43.280 --> 00:11:45.400\nSo it's gonna boot back into VMWARE and\n\n228\n00:11:45.400 --> 00:11:47.900\nnow it's asking me which\none it wants here?\n\n229\n00:11:47.900 --> 00:11:52.843\nSo, at this point I should be able to\npress F1 and let it begin the install.\n\n230\n00:11:52.843 --> 00:11:53.980\nAnd see it looks exactly the same.\n\n231\n00:11:53.980 --> 00:11:54.827\n&gt;&gt; Yeah it does.\n\n232\n00:11:54.827 --> 00:11:57.870\n&gt;&gt; Okay, so when you have live cd in\nthere, you don't know and you just go.\n\n233\n00:11:57.870 --> 00:12:01.166\nYes of course it's just running\nthe installation, it's not.\n\n234\n00:12:01.166 --> 00:12:02.760\nIt's running the live CD.\n\n235\n00:12:02.760 --> 00:12:06.930\nAnd I guarantee you that at the end\nof this thing, if it runs out,\n\n236\n00:12:06.930 --> 00:12:10.580\nyou'll get the same result here,\nis what you'll end up seeing.\n\n237\n00:12:10.580 --> 00:12:11.790\nSo now it's going through, and\n\n238\n00:12:11.790 --> 00:12:14.600\nit's finishing up it's\nfinal configuration, right?\n\n239\n00:12:14.600 --> 00:12:18.260\nIt's looking at all the devices,\nit's reading the hardware,\n\n240\n00:12:18.260 --> 00:12:22.120\nfree BSD is matching up those drivers\nsupport and everything that's done.\n\n241\n00:12:22.120 --> 00:12:25.640\nAnd it's really cleaning up everything and\ngetting everything to work.\n\n242\n00:12:25.640 --> 00:12:30.060\nAnd so you'll have two steps\nin terms of the configuration.\n\n243\n00:12:30.060 --> 00:12:33.485\nWe're just gonna take a look at the\ninitial configuration that we see here at\n\n244\n00:12:33.485 --> 00:12:35.584\nthe end of the console\ncable is what we'd see.\n\n245\n00:12:35.584 --> 00:12:38.245\nI wanna point out some of\nthose different aspects of,\n\n246\n00:12:38.245 --> 00:12:41.890\nsome of the ways that we can\nconfigure this right from the end.\n\n247\n00:12:41.890 --> 00:12:46.520\nSo it's kind of strange because if you're\nused to working in the GUI interface a lot\n\n248\n00:12:46.520 --> 00:12:50.230\nof times, that's what you're\nexpecting the end result is gonna be.\n\n249\n00:12:50.230 --> 00:12:51.720\nBut we're not there yet, okay.\n\n250\n00:12:51.720 --> 00:12:55.660\nWe just really have this very basic\ncommand line and then we have a simple\n\n251\n00:12:55.660 --> 00:13:01.240\nmenu driven system that will end up\nhere at the very end for what we'll see.\n\n252\n00:13:01.240 --> 00:13:04.430\nAnd then from that point,\nonce we get everything configured.\n\n253\n00:13:04.430 --> 00:13:06.670\nThen we'll be able to go\ninto the GUI interface,\n\n254\n00:13:06.670 --> 00:13:12.120\nthe web GUI interface, to be able to\nnow configure the rest of PF sets.\n\n255\n00:13:12.120 --> 00:13:13.460\nBut now it's starting here.\n\n256\n00:13:13.460 --> 00:13:18.970\nIt does hang up every once in a while at\ncertain particular aspects of the service.\n\n257\n00:13:18.970 --> 00:13:23.310\nAnd so the end result is what we\nsee right here on my screen okay?\n\n258\n00:13:23.310 --> 00:13:25.300\nSo it doesn't look fancy.\n\n259\n00:13:25.300 --> 00:13:28.970\nBut there's a lot of good information\nhere and a lot of good things.\n\n260\n00:13:28.970 --> 00:13:32.050\nYou need to be prepared as\nyou start to work, okay?\n\n261\n00:13:32.050 --> 00:13:34.590\nSo let me see if I can point\nout a few of these things.\n\n262\n00:13:34.590 --> 00:13:37.520\nI gotta unlock my mouse for me to do so.\n\n263\n00:13:37.520 --> 00:13:41.490\nSo right up here, of course,\nyou see it gives a default name.\n\n264\n00:13:41.490 --> 00:13:45.500\nAnd it tells you the tty,\nwhich assumes that I'm consoling in.\n\n265\n00:13:45.500 --> 00:13:48.480\nSo it's acting like I'm actually\nhaving a console cable.\n\n266\n00:13:48.480 --> 00:13:54.660\nAnd then the version right here,\nwhich is a 2.32 RELEASE AMD full install.\n\n267\n00:13:54.660 --> 00:13:55.830\nThat's actually very good.\n\n268\n00:13:56.830 --> 00:14:00.690\nEspecially for one reason or another, when\nyou can't get into the web configuration\n\n269\n00:14:00.690 --> 00:14:04.230\ninterface, this is something\nyou want to check here.\n\n270\n00:14:04.230 --> 00:14:08.330\nAnd notice that even though I told you\nthat I created six network adapters.\n\n271\n00:14:09.400 --> 00:14:14.370\nThe fast and easy configuration\nautomatically just sees two of them,\n\n272\n00:14:14.370 --> 00:14:16.650\nis what you actually want to see here,\nokay.\n\n273\n00:14:16.650 --> 00:14:22.340\nNow this is important because of this\nnaming convention that you see right here.\n\n274\n00:14:22.340 --> 00:14:24.590\nSo notice that we have one for WAN.\n\n275\n00:14:24.590 --> 00:14:31.370\nAnd one for a LAN interface, and this can\nbe confusing when you go to real hardware.\n\n276\n00:14:31.370 --> 00:14:35.040\nA lot of times on real hardware,\nit shows up as IGB.\n\n277\n00:14:36.440 --> 00:14:38.960\nNow I know its stands for something I\ncan't remember what it actually stands for\n\n278\n00:14:38.960 --> 00:14:43.400\nright off the top of my head, but\nthis is actually very important okay.\n\n279\n00:14:43.400 --> 00:14:47.813\nThis is something else that Ronnie\nlearned the hard way as well okay.\n\n280\n00:14:47.813 --> 00:14:51.664\nIs that one of the things that you\nare going to configure is right here at\n\n281\n00:14:51.664 --> 00:14:56.420\nthe beginning, of course, is the IP\naddress that you need to connect in.\n\n282\n00:14:56.420 --> 00:15:00.910\nBut I want to show you one other thing,\nespecially in the true hardware.\n\n283\n00:15:00.910 --> 00:15:04.505\nThat will kind of be a little\nbit less intuitive here.\n\n284\n00:15:04.505 --> 00:15:07.410\nSo let me go back to the pfSense page.\n\n285\n00:15:07.410 --> 00:15:09.150\nAnd to the products page.\n\n286\n00:15:09.150 --> 00:15:13.012\nAnd let me show you something\nthat can absolutely drive you,\n\n287\n00:15:13.012 --> 00:15:15.290\njust a little bit on the batty side.\n\n288\n00:15:15.290 --> 00:15:17.950\n&gt;&gt; [LAUGH]\n&gt;&gt; I mean it, it really can.\n\n289\n00:15:17.950 --> 00:15:21.450\nSo I'm gonna go into the user manual.\n\n290\n00:15:21.450 --> 00:15:26.056\nAnd show you a couple,\nactually let me back up for just a, so\n\n291\n00:15:26.056 --> 00:15:31.051\njust to show some of the things\nthat this may just be me, Daniel.\n\n292\n00:15:31.051 --> 00:15:33.560\nCuz this may actually be intuitive to you,\nokay.\n\n293\n00:15:33.560 --> 00:15:37.026\nSo taking a look at this,\nright, this one is labeled wan,\n\n294\n00:15:37.026 --> 00:15:37.560\n&gt;&gt; Okay, makes sense.\n\n295\n00:15:37.560 --> 00:15:38.332\n&gt;&gt; Makes sense.\n&gt;&gt; Okay,\n\n296\n00:15:38.332 --> 00:15:39.625\nthis one's labeled lan,\n&gt;&gt; I'm with you.\n\n297\n00:15:39.625 --> 00:15:43.166\n&gt;&gt; Opt1, opt2, opt3, opt4, okay?\n\n298\n00:15:43.166 --> 00:15:43.898\n&gt;&gt; Okay.\n\n299\n00:15:43.898 --> 00:15:48.367\n&gt;&gt; Looks in good, solid order, that you\nactually start to see this stuff, right?\n\n300\n00:15:48.367 --> 00:15:52.328\n&gt;&gt; Mm-Hm.\n&gt;&gt; Well in the configuration though, okay,\n\n301\n00:15:52.328 --> 00:15:55.362\nif I go to this user manual over here.\n\n302\n00:15:55.362 --> 00:16:00.386\nAnd then I select,\nlet me see here if I can find it on this\n\n303\n00:16:00.386 --> 00:16:05.530\nQuick Start Guide,\nwhat I'm looking for is I/O port.\n\n304\n00:16:06.690 --> 00:16:10.000\nNow, the reason why this is very important\n\n305\n00:16:10.000 --> 00:16:13.950\nis what I said when you start to\ntake a look at this inter, oops.\n\n306\n00:16:13.950 --> 00:16:14.670\nWhere did it, oop.\n\n307\n00:16:14.670 --> 00:16:15.330\n&gt;&gt; Now you've done it wrong.\n\n308\n00:16:15.330 --> 00:16:17.690\n&gt;&gt; Now I've done it completely wrong here,\nokay?\n\n309\n00:16:17.690 --> 00:16:19.922\n&gt;&gt; [LAUGH]\n&gt;&gt; So at this interface,\n\n310\n00:16:19.922 --> 00:16:22.512\nnotice this em0 and em1.\n\n311\n00:16:22.512 --> 00:16:23.740\n&gt;&gt; Yes.\n\n312\n00:16:23.740 --> 00:16:26.690\n&gt;&gt; Well, that's not what\nappears in real hardware, okay?\n\n313\n00:16:26.690 --> 00:16:32.427\nWhat appears in real hardware\nis what I was saying.\n\n314\n00:16:32.427 --> 00:16:37.100\nIgb0, Igb1, okay, Igb2,\nthree, four, right?\n\n315\n00:16:38.660 --> 00:16:42.130\nSounds good, you must pay attention.\n\n316\n00:16:42.130 --> 00:16:46.510\nThe reason why is that in real\nhardware when they list it, okay,\n\n317\n00:16:46.510 --> 00:16:52.640\nwhat you'll end up seeing on this\nconfiguration page, is that you think,\n\n318\n00:16:52.640 --> 00:16:59.499\nlike I did, right, that this should\nbe Igb0, and this would be Igb1.\n\n319\n00:17:00.640 --> 00:17:01.730\nIt's not.\n\n320\n00:17:01.730 --> 00:17:03.900\n&gt;&gt; No, that's a BSD thing.\n\n321\n00:17:03.900 --> 00:17:04.440\n&gt;&gt; It is.\n\n322\n00:17:04.440 --> 00:17:07.670\nIt is exactly a BSD thing, and guess what?\n\n323\n00:17:07.670 --> 00:17:10.360\nWhen you configure the LAN\ninterface on the WAN, and\n\n324\n00:17:10.360 --> 00:17:14.814\nthe WAN IP address on the LAN, It doesn't\nwork out for your network very well.\n\n325\n00:17:14.814 --> 00:17:16.100\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n326\n00:17:16.100 --> 00:17:19.810\n&gt;&gt; Guess how I figured that one out,\n\n327\n00:17:19.810 --> 00:17:21.840\nby doing it.\n\n328\n00:17:21.840 --> 00:17:24.650\n&gt;&gt; So there I was,\nI was configuring six interfaces.\n\n329\n00:17:24.650 --> 00:17:27.380\nAnd I was, I'm doing this right?\n\n330\n00:17:27.380 --> 00:17:30.260\nI was remembering in my head, and\ndoing this in a virtual machine, right?\n\n331\n00:17:30.260 --> 00:17:36.460\nEM0 is on the top, EM1 is on the No, that\nis not what you'll actually end up seeing.\n\n332\n00:17:36.460 --> 00:17:40.020\nSo, it really took me a few times.\n\n333\n00:17:40.020 --> 00:17:42.160\nI'm not gonna tell you how much time, but\n\n334\n00:17:42.160 --> 00:17:46.310\nit took me hours before I said,\nwhat am I doing wrong?\n\n335\n00:17:46.310 --> 00:17:49.240\nAnd then suddenly, my eyes caught this.\n\n336\n00:17:49.240 --> 00:17:50.160\nLook at that.\n\n337\n00:17:50.160 --> 00:17:52.870\nIgb1 is what, the WAN interface.\n\n338\n00:17:52.870 --> 00:17:55.590\nWhich is the furthest one\nover here on the left, okay?\n\n339\n00:17:56.590 --> 00:18:02.610\nIgb0 is actually the LAN interface,\nwhich is the next one.\n\n340\n00:18:02.610 --> 00:18:07.000\nSo, that is what absolutely\njust got me to no end.\n\n341\n00:18:07.000 --> 00:18:11.040\nNow, I'm pointing this out to\nyou because this is real life\n\n342\n00:18:11.040 --> 00:18:15.410\nstuff [LAUGH] that absolutely\njust killed me at times.\n\n343\n00:18:15.410 --> 00:18:19.480\nAnd just trying to configure the most\nbasic things to get pfSense to work.\n\n344\n00:18:19.480 --> 00:18:23.440\nAnd I don't want you to have to go through\nthat type of frustration in setting\n\n345\n00:18:23.440 --> 00:18:26.750\nsomething like this up, especially\nif you work with those boxes, okay?\n\n346\n00:18:26.750 --> 00:18:28.590\nNow, what about if you build your own?\n\n347\n00:18:28.590 --> 00:18:34.170\nWell, this is where you, oops, if I can\nstop banging everything around, right?\n\n348\n00:18:34.170 --> 00:18:35.950\nYou taking the network cable and\n\n349\n00:18:35.950 --> 00:18:40.280\nplugging it in to your device,\nyour laptop or your machine.\n\n350\n00:18:40.280 --> 00:18:43.960\nAnd on mine, it's gonna be something\nlike this as well in the combination.\n\n351\n00:18:43.960 --> 00:18:50.958\nAnd pinging the default IP address\nright here that they give you.\n\n352\n00:18:50.958 --> 00:18:54.580\nSo you plug it in,\nyou plug it in to the network adapter, and\n\n353\n00:18:54.580 --> 00:18:57.484\nyou start sending pings to 191681.1.\n\n354\n00:18:57.484 --> 00:19:00.894\nYou make sure what you're network\nadapt courses on the same network, but\n\n355\n00:19:00.894 --> 00:19:01.830\nyou start doing it.\n\n356\n00:19:01.830 --> 00:19:05.050\nIf you don't get a response,\nmore than likely, you're on what?\n\n357\n00:19:05.050 --> 00:19:05.690\nThe other one.\n\n358\n00:19:05.690 --> 00:19:07.800\n&gt;&gt; Running this, pfsense,\nwhen you plug it in,\n\n359\n00:19:07.800 --> 00:19:12.270\ndo you have to instantly configure that\nIP address on your local interface, or\n\n360\n00:19:12.270 --> 00:19:14.380\ndoes air like a little DHTP that happens?\n\n361\n00:19:14.380 --> 00:19:17.150\n&gt;&gt; It has DHTP, but\nat the initial configuration,\n\n362\n00:19:17.150 --> 00:19:20.010\nit's not turned on as far as I remember.\n\n363\n00:19:20.010 --> 00:19:21.575\nSo, at the very beginning,\nit's not turned on.\n\n364\n00:19:21.575 --> 00:19:28.240\nSo I always just statically assign\nmy 1921681.2 is what I try and sign.\n\n365\n00:19:28.240 --> 00:19:32.228\nAnd I just send a constant ping, and\nthen I plug in, it's not working?\n\n366\n00:19:32.228 --> 00:19:35.090\nAnd then I'd move it to the next one,\nand then it works.\n\n367\n00:19:35.090 --> 00:19:36.580\nAnd then I go, that's the one.\n\n368\n00:19:36.580 --> 00:19:39.000\nAnd then I realize something\nthat I may not have configured.\n\n369\n00:19:39.000 --> 00:19:42.260\nNow, if I plug in with both, and I didn't\nactually have it configured correctly,\n\n370\n00:19:42.260 --> 00:19:43.850\nwell, that's actually\nwhere I have an issue.\n\n371\n00:19:43.850 --> 00:19:47.050\nBut I know that this one\nright here is pre-configured.\n\n372\n00:19:47.050 --> 00:19:51.880\nAnd that's how you know which one will\nbe your automatic land port, even if you\n\n373\n00:19:51.880 --> 00:19:55.370\nput them in in random order, right,\nthat's the way that you find out, and\n\n374\n00:19:55.370 --> 00:20:00.030\nwhat I would do on a physical machine is\nlabel it, whether you put an L beside it,\n\n375\n00:20:00.030 --> 00:20:02.918\nor whatever it is,\nput a little star beside it.\n\n376\n00:20:02.918 --> 00:20:06.510\nThat way, you'll actually know\nwhich one is your land port, and\n\n377\n00:20:06.510 --> 00:20:10.420\nthen you can move from that one to the\nnext one, and mark that one as your LAN.\n\n378\n00:20:10.420 --> 00:20:13.040\nIt's very important that\nyou keep those distinct,\n\n379\n00:20:13.040 --> 00:20:15.310\nbecause that's the way\nthat pfsense sense works.\n\n380\n00:20:15.310 --> 00:20:17.870\nIt's not that so\nmuch you care about it, it's so\n\n381\n00:20:17.870 --> 00:20:21.380\nmuch pfsense cares about is the key,\nall right.\n\n382\n00:20:21.380 --> 00:20:23.490\nSo, notice a couple of other things too,\n\n383\n00:20:23.490 --> 00:20:28.360\nnotice that you have 16 different options\navailable to you in this configuration.\n\n384\n00:20:28.360 --> 00:20:30.510\nOkay, so\nlet's talk about some of these options.\n\n385\n00:20:30.510 --> 00:20:33.442\nAnd then we'll talk about the ones that\nare really important at this stage to get\n\n386\n00:20:33.442 --> 00:20:34.690\nworking, okay?\n\n387\n00:20:34.690 --> 00:20:38.328\nSo, you can run pfTop right\nnow if you choose to, right?\n\n388\n00:20:38.328 --> 00:20:43.760\nWhich is a, again, some performance\nstuff that we can see as well.\n\n389\n00:20:43.760 --> 00:20:46.130\nSome Filter Logs, we can see that.\n\n390\n00:20:46.130 --> 00:20:50.980\nLater on, this one, number 11 here,\nwill be important to you.\n\n391\n00:20:50.980 --> 00:20:53.130\nIf you try and go to the web interface,\n\n392\n00:20:53.130 --> 00:20:56.570\nusually it's gonna be the same\nIP as what you see right here.\n\n393\n00:20:56.570 --> 00:21:00.276\nWhatever you change it to, or if you leave\nit here, it should be that IP address.\n\n394\n00:21:00.276 --> 00:21:02.773\nIf you go there, and you can't log in or\n\n395\n00:21:02.773 --> 00:21:08.253\nit doesn't give you that option to see the\nwebpage itself, pull a console cable out.\n\n396\n00:21:08.253 --> 00:21:11.363\nAnd then when you get here,\ntype in number 11, and\n\n397\n00:21:11.363 --> 00:21:14.344\nthat will restart that\nweb configurator for you.\n\n398\n00:21:14.344 --> 00:21:17.517\nAnd more than likely, that will fix\nyour issue of you getting back and\n\n399\n00:21:17.517 --> 00:21:19.440\nusing the wed interface.\n\n400\n00:21:19.440 --> 00:21:24.030\nIf you are really good with PHP,\nthat gives you a PHP shell as well,\n\n401\n00:21:24.030 --> 00:21:29.530\nyou can even run the actual update from\nthe console cable, if you have that.\n\n402\n00:21:29.530 --> 00:21:32.320\nSo, if you actually wanted to update\npfsense through the console cable,\n\n403\n00:21:32.320 --> 00:21:33.810\nyou can do that as well.\n\n404\n00:21:33.810 --> 00:21:36.110\nEnable, of course,\na secured connection, you name it,\n\n405\n00:21:36.110 --> 00:21:38.610\nthere's a couple of other ones back\nthere I'm not so worried about.\n\n406\n00:21:38.610 --> 00:21:42.810\nBut over here on the left-hand side, these\nare a couple of them that are actually\n\n407\n00:21:42.810 --> 00:21:45.610\ngoing to be more for diagnostics too.\n\n408\n00:21:45.610 --> 00:21:49.060\nHalting the system, as you're bringing\nit down and turning it off for\n\n409\n00:21:49.060 --> 00:21:53.350\na little bit of a time, rebooting the\nsystem, if you think something is stuck.\n\n410\n00:21:53.350 --> 00:21:56.480\nPing, of course, is a big one,\nimplementing the shell command.\n\n411\n00:21:56.480 --> 00:22:00.830\nSo, you can go in there, and if you\nknow the BSD, free BSD types of stuff,\n\n412\n00:22:00.830 --> 00:22:03.760\nyou can go ahead and\nconfigure everything from there too.\n\n413\n00:22:03.760 --> 00:22:05.500\nResetting the factory default,\n\n414\n00:22:05.500 --> 00:22:10.600\nokay, always a good option if you have\na full backup with the configuration.\n\n415\n00:22:10.600 --> 00:22:14.470\nNever a good option if you don't have\na full backup of the configuration.\n\n416\n00:22:14.470 --> 00:22:16.000\nRemember that, too.\n\n417\n00:22:16.000 --> 00:22:19.680\nBut the ones that we're actually gonna\nlook at are these two right here,\n\n418\n00:22:19.680 --> 00:22:24.470\nwhich is the assign the interfaces and\nset the IP addresses as well, okay.\n\n419\n00:22:25.790 --> 00:22:28.310\nEven though I have two network\nadapters that are showing up,\n\n420\n00:22:28.310 --> 00:22:30.690\nthose other four, okay?\n\n421\n00:22:30.690 --> 00:22:35.770\nIf I want them to show up, I would\nactually go here to assign interfaces.\n\n422\n00:22:35.770 --> 00:22:37.815\nAnd even though I could have\ndone it during the install,\n\n423\n00:22:37.815 --> 00:22:42.590\nokay, and it show up there, and all of my\ninterfaces would show up at that point.\n\n424\n00:22:42.590 --> 00:22:46.995\nThen beginning with em2, all the way\nthrough seven, or whatever it might be.\n\n425\n00:22:46.995 --> 00:22:50.230\nThey'd all actually end up\nshowing up in a list right here.\n\n426\n00:22:50.230 --> 00:22:52.580\nThey would not have IP\naddresses assigned to them.\n\n427\n00:22:52.580 --> 00:22:55.550\nAnd then we would have to go in and\nassign them, as well, okay?\n\n428\n00:22:55.550 --> 00:22:58.160\nThe other thing, of course, then,\nis setting these IP addresses.\n\n429\n00:22:58.160 --> 00:23:03.030\nLet's go ahead and change this IP address\nto something that matches on my network.\n\n430\n00:23:03.030 --> 00:23:06.520\nAnd that way, once we get that up,\nwe'll actually see what else we can do.\n\n431\n00:23:06.520 --> 00:23:10.690\nBecause even though this is limited,\nit's at least the beginning here, okay?\n\n432\n00:23:10.690 --> 00:23:13.390\nSo, I know a couple of things here.\n\n433\n00:23:13.390 --> 00:23:18.250\nLet me go ahead and set number two with\njust set the interface IP address, and\n\n434\n00:23:18.250 --> 00:23:21.220\nfrom this point, it's going to ask\nme which of the two options I want.\n\n435\n00:23:21.220 --> 00:23:25.580\nI want number two, and you see where\nEM1 is actually assigned a static.\n\n436\n00:23:25.580 --> 00:23:28.211\nNotice that the WAN is\nactually expecting DHCP.\n\n437\n00:23:28.211 --> 00:23:30.248\nThat's because it'd plugged\ninto a cable modem,\n\n438\n00:23:30.248 --> 00:23:31.915\nmore than likely you're gonna get that.\n\n439\n00:23:31.915 --> 00:23:35.938\nSo, I'm just gonna set\nthe second one here, and\n\n440\n00:23:35.938 --> 00:23:40.159\nnow the address on my\nnetwork is gonna be 10.0,\n\n441\n00:23:40.159 --> 00:23:45.087\nwe'll do 14.1 weird number,\nsomething like 191.\n\n442\n00:23:45.087 --> 00:23:47.013\nOkay, hopefully I'll remember that,\nlet's do 190,\n\n443\n00:23:47.013 --> 00:23:48.291\nI'll probably remember that better.\n\n444\n00:23:48.291 --> 00:23:52.503\nAnd now it's gonna ask me about\nmy subnet mask, and this one,\n\n445\n00:23:52.503 --> 00:23:54.865\nI'm gonna do a slash 16, oops.\n\n446\n00:23:54.865 --> 00:23:56.995\n16, not 15.\n\n447\n00:23:56.995 --> 00:23:59.940\nAnd now it's asking me\nabout an upstream gateway.\n\n448\n00:23:59.940 --> 00:24:03.970\nNotice that for the land address I\nshouldn't actually have an upstream\n\n449\n00:24:03.970 --> 00:24:07.790\ngateway so I'm not worried\nabout that on the WAN side.\n\n450\n00:24:07.790 --> 00:24:11.040\nWere gonna deal with that inside\nof the actual web configuration,\n\n451\n00:24:11.040 --> 00:24:12.211\nwe're not gonna deal with it right now.\n\n452\n00:24:13.230 --> 00:24:16.790\nAnd then it's gonna ask\nme about IPv6 addresses.\n\n453\n00:24:16.790 --> 00:24:19.400\nIf I have one assigned to\nme I can do that right now.\n\n454\n00:24:19.400 --> 00:24:22.440\nBut it says, if I don't have one,\npress Enter.\n\n455\n00:24:22.440 --> 00:24:25.150\nAnd now do I wanna enable DHCP?\n\n456\n00:24:25.150 --> 00:24:26.790\nSo notice it's not turned on by default.\n\n457\n00:24:26.790 --> 00:24:29.360\nDaniel was asking about this\na little bit earlier here.\n\n458\n00:24:29.360 --> 00:24:33.250\nSo I could turn it on right now and\nthat way it can start doing DHCP.\n\n459\n00:24:33.250 --> 00:24:36.788\nThis is good if you don't really have\nanother DHCP server running in your\n\n460\n00:24:36.788 --> 00:24:37.770\nnetwork.\n\n461\n00:24:37.770 --> 00:24:40.332\nIf you do, you might find a surprise.\n\n462\n00:24:40.332 --> 00:24:42.060\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] So at this point,\n\n463\n00:24:42.060 --> 00:24:43.460\nI'm not gonna worry about turning it on.\n\n464\n00:24:44.750 --> 00:24:48.613\nAnd now it's saying hey, do you wanna\ndefault this back to HTTP because it's\n\n465\n00:24:48.613 --> 00:24:50.942\nusing HTTPS right now,\nand I'm gonna say no.\n\n466\n00:24:53.703 --> 00:24:55.740\nAnd now it's actually going to load.\n\n467\n00:24:55.740 --> 00:24:58.790\nAnd now I've set the new IP address.\n\n468\n00:24:58.790 --> 00:25:03.680\nNow the only thing that I need to do is\nmake sure that my network adapter then\n\n469\n00:25:04.720 --> 00:25:11.850\nis going to be on the same network as\nwhat this device is going to be, okay?\n\n470\n00:25:11.850 --> 00:25:14.090\nSo the only thing I did\nis I made sure of that,\n\n471\n00:25:14.090 --> 00:25:15.520\nis what I did in the virtual environment.\n\n472\n00:25:15.520 --> 00:25:18.780\nI bridged my network adapter so\nthat it can take two IP addresses.\n\n473\n00:25:18.780 --> 00:25:22.380\nOne to assign, or one to actually be\nable to use here, for this one, and\n\n474\n00:25:22.380 --> 00:25:26.760\nthen the other one is on my machine, which\nI believe is actually in the same network.\n\n475\n00:25:26.760 --> 00:25:29.480\nLet me check and verify that as well.\n\n476\n00:25:29.480 --> 00:25:33.770\nAnd this Thunderbolt, yeah, it should be,\nactually I'm not in the same address.\n\n477\n00:25:33.770 --> 00:25:35.700\nLet me change that one again.\n\n478\n00:25:35.700 --> 00:25:40.725\nSo I forgot that this one's in its\nown little VLAN as what it's in.\n\n479\n00:25:40.725 --> 00:25:42.004\nSo 10.1.110.\n\n480\n00:25:42.004 --> 00:25:44.250\nSo we'll do 130 here.\n\n481\n00:25:44.250 --> 00:25:46.880\nSo see, glad I checked it.\n\n482\n00:25:46.880 --> 00:25:47.700\n&gt;&gt; Always trust with verify.\n\n483\n00:25:47.700 --> 00:25:51.871\n&gt;&gt; That's right, yeah, that is true, so\n\n484\n00:25:51.871 --> 00:25:58.680\nlet me change that again, so 10.1.110.130.\n\n485\n00:25:58.680 --> 00:26:01.650\n&gt;&gt; I can't remember if this was\na 24 bit or not, I'm assuming.\n\n486\n00:26:02.730 --> 00:26:06.455\nNo it was 16.1 one there, I think.\n\n487\n00:26:06.455 --> 00:26:07.900\nThat's a good question.\n\n488\n00:26:07.900 --> 00:26:09.090\n&gt;&gt; That's a good question.\n\n489\n00:26:09.090 --> 00:26:12.310\n&gt;&gt; Let me check that one out before I say,\nyes that's exactly what it was.\n\n490\n00:26:12.310 --> 00:26:13.024\n&gt;&gt; Trust Rivera.\n\n491\n00:26:13.024 --> 00:26:15.360\n&gt;&gt; I definitely need to do that.\n\n492\n00:26:15.360 --> 00:26:18.230\nTake a look at the Advanced Option here.\n\n493\n00:26:18.230 --> 00:26:19.380\nWill it show it to me?\n\n494\n00:26:19.380 --> 00:26:19.880\nYes.\n\n495\n00:26:21.295 --> 00:26:23.810\nNo, wait, that's the wrong one!\n\n496\n00:26:23.810 --> 00:26:24.560\nSee, there we go.\n\n497\n00:26:26.060 --> 00:26:26.604\nNo, it is 24.\n\n498\n00:26:26.604 --> 00:26:28.948\n&gt;&gt; All right.\nThere we go.\n\n499\n00:26:28.948 --> 00:26:32.855\nSee, some of the stuff that you\nreally have to make sure of, or\n\n500\n00:26:32.855 --> 00:26:34.670\nyou're gonna get it wrong.\n\n501\n00:26:34.670 --> 00:26:37.540\n&gt;&gt; And networks have a funny way\nof not working when you don't\n\n502\n00:26:37.540 --> 00:26:38.250\nconfigure them every day.\n\n503\n00:26:38.250 --> 00:26:41.485\n&gt;&gt; Yeah, for one reason or\nanother, I don't know.\n\n504\n00:26:41.485 --> 00:26:42.890\n[LAUGH]\n&gt;&gt; It can get very frustrating.\n\n505\n00:26:42.890 --> 00:26:47.670\nSo hopefully everything now will\nbe good and ready to go, okay?\n\n506\n00:26:47.670 --> 00:26:52.191\nNow if these are now on the same\nnetwork in theory, okay,\n\n507\n00:26:52.191 --> 00:26:55.900\nso I will always have\nto put that if there.\n\n508\n00:26:55.900 --> 00:26:59.800\nThen I should be able to bring\nup a browser on that network.\n\n509\n00:26:59.800 --> 00:27:02.190\nSo I'm just gonna use Safari\ncuz that's what it's made of.\n\n510\n00:27:02.190 --> 00:27:03.373\nI've been using Chrome.\n\n511\n00:27:04.485 --> 00:27:09.609\nBut now I do 10.1.110.130.\n\n512\n00:27:09.609 --> 00:27:12.290\nAnd now it's asking me\nto show a certificate.\n\n513\n00:27:12.290 --> 00:27:14.810\nI click Continue, and there we are.\n\n514\n00:27:14.810 --> 00:27:19.420\nWe are now in the web configuration\npage for my pfSense box, and\n\n515\n00:27:19.420 --> 00:27:21.330\nthe default is gonna be admin.\n\n516\n00:27:22.710 --> 00:27:26.150\nThe default password is pfsense,\nall lowercase.\n\n517\n00:27:26.150 --> 00:27:31.590\nAnd now it begins to bring you to this\nstep here in the configuration, okay?\n\n518\n00:27:32.860 --> 00:27:36.080\nNow at this point it can run\nyou through a wizard, okay?\n\n519\n00:27:36.080 --> 00:27:41.630\nSo if you're not familiar with pfSense\nthe very first time you configure this,\n\n520\n00:27:41.630 --> 00:27:45.140\nrunning it through a wizard is\na great way to learn what it does,\n\n521\n00:27:45.140 --> 00:27:47.260\nand then you can see everything, okay?\n\n522\n00:27:47.260 --> 00:27:51.470\nBut we're actually gonna take the time to\nwalk through, just the interface itself,\n\n523\n00:27:51.470 --> 00:27:52.590\nonce we get it up.\n\n524\n00:27:52.590 --> 00:27:56.390\nBut we wanted at least get you\nto this point in this episode,\n\n525\n00:27:56.390 --> 00:27:58.810\nwhere you saw the installation of it and\n\n526\n00:27:58.810 --> 00:28:02.130\nstarted the basic configuration\non what you need to do.\n\n527\n00:28:02.130 --> 00:28:06.470\nSo that you can get in to this interface\nwhere you can configure everything.\n\n528\n00:28:06.470 --> 00:28:08.000\nAnd if you really don't want to,\n\n529\n00:28:08.000 --> 00:28:12.480\nyou don't ever have to deal with\nthat console interface again, okay?\n\n530\n00:28:12.480 --> 00:28:14.310\nSometimes in troubleshooting you may but\n\n531\n00:28:14.310 --> 00:28:18.390\na lot of times everything that you can\ndo is gonna be on this web interface.\n\n532\n00:28:18.390 --> 00:28:22.929\nSo at this point, that is where we\nkind of are getting set up then for\n\n533\n00:28:22.929 --> 00:28:27.633\nour next episode where we talk about\nthe idea of preparing pfSense for\n\n534\n00:28:27.633 --> 00:28:29.700\nuse inside of our networks.\n\n535\n00:28:29.700 --> 00:28:32.212\n&gt;&gt; Yeah, very cool, Ronnie,\nvery great demonstration.\n\n536\n00:28:32.212 --> 00:28:34.770\nA couple of places that they\nhave some rays flooring.\n\n537\n00:28:34.770 --> 00:28:36.100\nIt might stub your toe on.\n\n538\n00:28:36.100 --> 00:28:38.928\nBut Ronnnie was so\nkind as to go through and black and blue,\n\n539\n00:28:38.928 --> 00:28:40.355\nhere is little tiny digits.\n\n540\n00:28:40.355 --> 00:28:41.726\n&gt;&gt; [LAUGH]\n&gt;&gt; So that we will have to do that\n\n541\n00:28:41.726 --> 00:28:46.000\nourselves, and we appreciate Ronnie for\nthat, right, and pointing it out for us.\n\n542\n00:28:46.000 --> 00:28:48.610\nRonnie, great stuff,\nlooking forward to seeing what we can do,\n\n543\n00:28:48.610 --> 00:28:51.900\nhow we can start to configure this\nthing for our individual environments,\n\n544\n00:28:51.900 --> 00:28:53.620\nit's gonna be a very awesome episode.\n\n545\n00:28:53.620 --> 00:28:55.640\nBut as for this one,\nit looks like we've run out of time.\n\n546\n00:28:55.640 --> 00:28:57.072\nThank you guys for watching us today.\n\n547\n00:28:57.072 --> 00:28:59.761\nWe appreciate your viewership, but\nwe're gonna go ahead and sign off.\n\n548\n00:28:59.761 --> 00:29:02.420\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n549\n00:29:02.420 --> 00:29:03.240\n&gt;&gt; And I'm Ronnie Wong.\n\n550\n00:29:03.240 --> 00:29:05.522\n&gt;&gt; And we'll see you next time.\n\n551\n00:29:05.522 --> 00:29:11.441\n[MUSIC]\n\n552\n00:29:11.441 --> 00:29:14.817\nThank you for watching ITProTV.\n\n",
          "vimeoId": "195798593"
        },
        {
          "description": "In this episode, Daniel and Ronnie demonstrate how to prepare pfSense for use after installation. They begin by logging into the pfSense web-based Graphical User Interface(GUI) and start the setup wizard. Then they show you how to do some basic configuration through manual setup; bypassing the wizard.",
          "length": "2010",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-3-prepare_pfsense_for_use-121316.00_33_14_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-3-prepare_pfsense_for_use-121316.00_33_14_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-3-prepare_pfsense_for_use-121316.00_33_14_24.Still001-sm.jpg",
          "title": "Prepare pfSense for Use",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.230\nWelcome to ITProTV.\n\n2\n00:00:01.230 --> 00:00:05.734\nI'm your host-\n\n3\n00:00:05.734 --> 00:00:10.529\n[CROSSTALK]\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:10.529 --> 00:00:13.036\n&gt;&gt; All right, greetings everyone, and\n\n5\n00:00:13.036 --> 00:00:16.100\nwelcome to another great\nepisode of ITProTV.\n\n6\n00:00:16.100 --> 00:00:18.070\nI'm your host, Daniel Lowrie.\n\n7\n00:00:18.070 --> 00:00:19.130\nAnd in today's episode,\n\n8\n00:00:19.130 --> 00:00:22.440\nwe're continuing on with more on\nour pfSense Version 2.3.2 series.\n\n9\n00:00:22.440 --> 00:00:25.180\nLet's make that very apparently clear.\n\n10\n00:00:25.180 --> 00:00:28.430\nAnd joining us yet\nagain is our good friend, Mr. Ronnie Wong.\n\n11\n00:00:28.430 --> 00:00:29.920\nRonnie, welcome back, and\nhow's it going today?\n\n12\n00:00:29.920 --> 00:00:30.780\n&gt;&gt; It's going great.\n\n13\n00:00:30.780 --> 00:00:34.090\nGlad to be back as we continue\nto take a look at well,\n\n14\n00:00:34.090 --> 00:00:37.530\nmore of the idea of working with pfSense.\n\n15\n00:00:37.530 --> 00:00:41.320\nIn previous episode we talked about the\nreasons why you would actually choose to\n\n16\n00:00:41.320 --> 00:00:45.850\nuse something like pfsense over some\nof the other vendors in the market.\n\n17\n00:00:45.850 --> 00:00:49.880\nAnd we also, of course, began\nthe installation process and showed you\n\n18\n00:00:49.880 --> 00:00:54.260\nsome of the simple configurations that you\ncan do right from the actual interface.\n\n19\n00:00:54.260 --> 00:00:57.160\nSo let's see if we can actually\nkinda review just a moment.\n\n20\n00:00:57.160 --> 00:01:00.420\nAnd then, we'll jump right into\nwhere we picked up on last time.\n\n21\n00:01:00.420 --> 00:01:04.360\nAnd this time, we're gonna be\npreparing the idea of pfSense for use.\n\n22\n00:01:04.360 --> 00:01:09.500\nSo we take a look at my screen,\nwe'll see that what we had actually really\n\n23\n00:01:09.500 --> 00:01:14.530\nfinished off here in previous\nepisodes was getting it installed.\n\n24\n00:01:14.530 --> 00:01:17.300\nAnd then, we showed you some of these\ndifferent configuration options.\n\n25\n00:01:17.300 --> 00:01:20.240\nWe talked about the majority\nof these options, and\n\n26\n00:01:20.240 --> 00:01:24.070\nwhat you can do right here\nwithout anything else except for\n\n27\n00:01:24.070 --> 00:01:27.800\njust a regular console cable\nthat you might plug in.\n\n28\n00:01:27.800 --> 00:01:32.400\nNow, I forgot to mention something in that\nepisode, which is if you build your own\n\n29\n00:01:32.400 --> 00:01:35.690\npfSense box from scratch,\nyou might find out something.\n\n30\n00:01:35.690 --> 00:01:38.800\nYou don't have that console\nport on that device.\n\n31\n00:01:38.800 --> 00:01:41.670\nSo what do you have to do\nif you don't have that?\n\n32\n00:01:41.670 --> 00:01:42.940\nWell, what you have to do then,\n\n33\n00:01:42.940 --> 00:01:47.500\nis you'll need to actually make sure that\nyou have access to a monitor, a keyboard.\n\n34\n00:01:47.500 --> 00:01:50.780\nA mouse is not gonna help you so\nmuch even though you might want it, too.\n\n35\n00:01:50.780 --> 00:01:52.790\nBut at least a monitor and keyboard.\n\n36\n00:01:52.790 --> 00:01:56.750\nAnd it doesn't matter which version, as\nlong as your motherboard will support it.\n\n37\n00:01:56.750 --> 00:02:00.850\nSo like some of the smaller boards\nwill only have DVI as output.\n\n38\n00:02:00.850 --> 00:02:02.970\nMake sure that you have\na monitor that supports that.\n\n39\n00:02:02.970 --> 00:02:07.130\nAnd then, of course, a keyboard so\nthat that way you'll manually\n\n40\n00:02:07.130 --> 00:02:10.440\nmanipulate through and you will just press\nthe number that you want to configure.\n\n41\n00:02:10.440 --> 00:02:14.100\nBut it'll give you the same output that\nyou're displaying right here, okay?\n\n42\n00:02:14.100 --> 00:02:17.510\nSo even though I only mentioned\nthe console cable last time,\n\n43\n00:02:17.510 --> 00:02:20.560\nbecause usually if you buy\na pfSense box they already\n\n44\n00:02:20.560 --> 00:02:24.050\nput that interface on there for\nyou and you're off and ready to go.\n\n45\n00:02:24.050 --> 00:02:27.370\nI didn't mention the fact that a lot of\nthe homemade ones that you might have\n\n46\n00:02:27.370 --> 00:02:29.490\nmay not have any console\nport on it at all.\n\n47\n00:02:29.490 --> 00:02:31.670\nSo I wanna make sure that that's clear.\n\n48\n00:02:31.670 --> 00:02:36.280\nNow, from this point here,\nI've kind of left off a few things on\n\n49\n00:02:36.280 --> 00:02:41.705\npurpose because we wanted to see\nthe configuration from the web interface.\n\n50\n00:02:41.705 --> 00:02:45.630\nThere's a lot of configuration\nthat you can do from right here,\n\n51\n00:02:45.630 --> 00:02:48.905\nthat then the first time you\nlaunch into the web interface,\n\n52\n00:02:48.905 --> 00:02:53.950\nyou're not really having to set up the\nfirewall except for configure the rules,\n\n53\n00:02:53.950 --> 00:02:57.630\nand of course the services you need,\nand then you are off and running.\n\n54\n00:02:57.630 --> 00:03:00.610\nAnd so that's how quickly\nyou can get pfSense set up.\n\n55\n00:03:00.610 --> 00:03:03.720\nIf you're willing to do a lot\nof the configuration right here\n\n56\n00:03:03.720 --> 00:03:06.660\nwith the IP addresses,\nit really does help.\n\n57\n00:03:06.660 --> 00:03:12.150\nBut instead, what we did is that we\nchanged the default IP address on this LAN\n\n58\n00:03:12.150 --> 00:03:18.030\ninterface, which is normally 192.168.1.1,\nif I remember correctly.\n\n59\n00:03:18.030 --> 00:03:21.940\nAnd then all you have to do is make\nsure that you plug something like your\n\n60\n00:03:21.940 --> 00:03:27.370\nlaptop in to that particular port on\nyour interface, to that particular port\n\n61\n00:03:27.370 --> 00:03:31.390\non the actual firewall itself, and\nthat's normally gonna be the LAN port.\n\n62\n00:03:31.390 --> 00:03:35.010\nAnd then you should be able to connect\nright in as long as your computer\n\n63\n00:03:35.010 --> 00:03:37.280\nhas an IP address on that network.\n\n64\n00:03:37.280 --> 00:03:41.280\nSo I changed mine to the IP address\nthat's actually on my network here.\n\n65\n00:03:41.280 --> 00:03:43.320\nAnd so we can actually\nchange this after we get in,\n\n66\n00:03:43.320 --> 00:03:47.520\nbut I won't be able to manage it\nafter that if I do that right now.\n\n67\n00:03:47.520 --> 00:03:52.040\nSo last time, all we did is we\nsimply brought up a web browser.\n\n68\n00:03:52.040 --> 00:03:56.930\nFrom that point, I typed in the IP address\ninto the address bar, and it gave me,\n\n69\n00:03:56.930 --> 00:03:58.210\nof course, a warning saying hey,\n\n70\n00:03:58.210 --> 00:04:02.770\nare you sure you want to accept this,\nbecause it's actually using HTTPS.\n\n71\n00:04:02.770 --> 00:04:07.260\nAnd then it brings you up to a login page\nwhere the default user name is admin, and\n\n72\n00:04:07.260 --> 00:04:10.820\nthe default password is well,\npfSense, okay?\n\n73\n00:04:10.820 --> 00:04:15.240\nAnd the very first time that you launch\nthis, this is what you get right here,\n\n74\n00:04:15.240 --> 00:04:16.882\nwhich is the wizard, okay?\n\n75\n00:04:16.882 --> 00:04:21.620\nSo there's a pfSense setup wizard, and\nwe're gonna walk through this wizard.\n\n76\n00:04:21.620 --> 00:04:22.920\nBut then we're gonna show you that,\n\n77\n00:04:22.920 --> 00:04:25.690\nof course,\nyou don't have to us the wizard as well.\n\n78\n00:04:25.690 --> 00:04:28.970\nNow, every once in a while if you're like\nme, and the first time that I did this,\n\n79\n00:04:28.970 --> 00:04:31.460\nI was like, look at that,\nthere's a wizard.\n\n80\n00:04:31.460 --> 00:04:34.980\nAnd then I clicked out of that, and\nall of a sudden I was here, and\n\n81\n00:04:34.980 --> 00:04:37.980\nthat's perfectly fine, cuz I could\nnavigate around and figure it out.\n\n82\n00:04:37.980 --> 00:04:41.250\nBut if I really wanted to get\na sense of what the wizard was like,\n\n83\n00:04:41.250 --> 00:04:43.560\nI was kind of at loss of what to do.\n\n84\n00:04:43.560 --> 00:04:47.280\nBut if that happens to you and this is\nyour first time trying to follow through,\n\n85\n00:04:47.280 --> 00:04:49.570\nall you have to do is click on System.\n\n86\n00:04:49.570 --> 00:04:51.850\nAnd then toward the bottom of that menu,\n\n87\n00:04:51.850 --> 00:04:55.980\nyou can see right here where you can\nlaunch that set up wizard again.\n\n88\n00:04:55.980 --> 00:04:57.610\nSo, it does happen like that.\n\n89\n00:04:57.610 --> 00:05:02.680\nSometimes, I know that what I've done is\nvery quickly or just kind of forgotten and\n\n90\n00:05:02.680 --> 00:05:03.650\nI closed out of the tab,\n\n91\n00:05:03.650 --> 00:05:07.260\nand it just brings me back\ninto that default dashboard.\n\n92\n00:05:07.260 --> 00:05:11.480\nSo here's a way you can get back to\nit if you happen to mess that up.\n\n93\n00:05:11.480 --> 00:05:14.370\nSo at this point, notice it says it's\ngonna provide you guidance through\n\n94\n00:05:14.370 --> 00:05:16.670\nthe initial configuration of pfSense.\n\n95\n00:05:16.670 --> 00:05:19.990\nSo this is really good if you go,\nall right,\n\n96\n00:05:19.990 --> 00:05:24.480\nI know I wanna configure pfSense, but I'm\nnot really sure if I will configure enough\n\n97\n00:05:24.480 --> 00:05:27.420\nto get it working in my environment.\n\n98\n00:05:27.420 --> 00:05:30.310\nWell, the wizard will essentially\nwalk you through at least the most\n\n99\n00:05:30.310 --> 00:05:33.810\nbasic configuration and\nget that set up for you.\n\n100\n00:05:33.810 --> 00:05:35.710\nSo I'm gonna click Next here.\n\n101\n00:05:35.710 --> 00:05:39.130\nAnd then at this point, it's gonna ask\nif you want to do a couple of things.\n\n102\n00:05:39.130 --> 00:05:44.030\nNow, like everything else, right, pfSense\nis a company, and they do actually have\n\n103\n00:05:44.030 --> 00:05:49.010\nto make money so that they can support not\nonly pfSense itself, but the hardware.\n\n104\n00:05:49.010 --> 00:05:53.220\nAnd they actually ask if you want\nto join the idea of pfSense Gold.\n\n105\n00:05:53.220 --> 00:05:57.450\npfSense Gold, of course, is\na subscription that you can actually have.\n\n106\n00:05:57.450 --> 00:05:59.810\nAnd it gives you the ability to call them,\nI think,\n\n107\n00:05:59.810 --> 00:06:05.302\ntwice a year,\nto get support on your pfSense box.\n\n108\n00:06:05.302 --> 00:06:07.830\nAnd normally they recommend it for\nconfigurations or\n\n109\n00:06:07.830 --> 00:06:13.470\nmisconfiguration that you do, not the idea\nthat you have a problem with the coding,\n\n110\n00:06:13.470 --> 00:06:15.780\nthe coding should be this.\n\n111\n00:06:15.780 --> 00:06:18.070\nThey're really about\nthe idea of support here.\n\n112\n00:06:18.070 --> 00:06:20.320\nSo if you do need that,\nthat's perfectly fine.\n\n113\n00:06:20.320 --> 00:06:23.161\nBut at this point,\nthis gives you access to that, and\n\n114\n00:06:23.161 --> 00:06:27.393\nthen also gives you access to something\nthat's called the pfSense book which is\n\n115\n00:06:27.393 --> 00:06:30.940\nessentially their exhaustive\nreference guide, too.\n\n116\n00:06:30.940 --> 00:06:35.330\nThe other advantage that it gives you\nif you choose to do this, it's about,\n\n117\n00:06:35.330 --> 00:06:39.950\nI think it's about $99 a year US if you\njoin this, is it gives you the ability to\n\n118\n00:06:39.950 --> 00:06:45.850\nback up your pfSense\nconfigurations into their Cloud.\n\n119\n00:06:45.850 --> 00:06:49.490\nNow, if you don't know\nwhat that really does for\n\n120\n00:06:49.490 --> 00:06:54.040\nyou, well, imagine because most of the\npfSense backup, right, that you tend to\n\n121\n00:06:54.040 --> 00:06:58.883\ndo in the configuration is really just\nxml storage, and so it's not really big.\n\n122\n00:06:58.883 --> 00:07:01.940\nBut if you've ever done it like I have,\nstored it on USB drive and\n\n123\n00:07:01.940 --> 00:07:06.060\nthen realize, I've got a handful of those\ndrives, and not only do I have a handful,\n\n124\n00:07:06.060 --> 00:07:08.475\nDaniel, at times, they're all identical.\n\n125\n00:07:08.475 --> 00:07:10.400\n&gt;&gt; [LAUGH]\n&gt;&gt; And is it on this one?\n\n126\n00:07:10.400 --> 00:07:13.360\nAnd now I'm going through six or\neight of them trying to find that config.\n\n127\n00:07:13.360 --> 00:07:17.150\nAnd then I realized, last time I backed\nit up was like six months ago, or\n\n128\n00:07:17.150 --> 00:07:18.410\neight months ago.\n\n129\n00:07:18.410 --> 00:07:22.270\nWell, the pfSense online backup allows\nyou to have a direct connection, and\n\n130\n00:07:22.270 --> 00:07:25.840\nactually store it into your account there,\nonce you actually have the pfSense Gold,\n\n131\n00:07:25.840 --> 00:07:28.290\nso that's something that you\nmight actually choose to do.\n\n132\n00:07:28.290 --> 00:07:31.460\nYou don't have to, but that is something\nyou might want to think about.\n\n133\n00:07:31.460 --> 00:07:34.550\nAll right, so let's go ahead and\nclick Next here.\n\n134\n00:07:34.550 --> 00:07:38.150\nAnd then, of course, it asks for\nsome general information.\n\n135\n00:07:38.150 --> 00:07:41.480\nNow, I'm just gonna walk through this, I\ndon't wanna configure anything right now.\n\n136\n00:07:41.480 --> 00:07:43.370\nBut remember that the whole\ngoal here is what?\n\n137\n00:07:43.370 --> 00:07:46.770\nIf you don't know whether or\nnot you've configured enough,\n\n138\n00:07:46.770 --> 00:07:50.500\nthis will at least get you that\nkinda bare minimum to get started.\n\n139\n00:07:50.500 --> 00:07:53.860\nSo they, of course,\nrecommend that you have a hostname.\n\n140\n00:07:53.860 --> 00:07:57.939\nNow, your hostname can be anything that\nyou want to, which is perfectly fine.\n\n141\n00:07:57.939 --> 00:08:01.737\nThey don't recommend that you\nleave it at pfSense here, okay?\n\n142\n00:08:01.737 --> 00:08:03.457\nSo, of course, you would type this in.\n\n143\n00:08:03.457 --> 00:08:06.419\nAnd then you could also\nhave your domain name.\n\n144\n00:08:06.419 --> 00:08:08.748\nNow if you're gonna be\nusing this in production,\n\n145\n00:08:08.748 --> 00:08:12.490\nyou wanna make sure that's actually\na proper domain name that you have.\n\n146\n00:08:12.490 --> 00:08:16.180\nIf this is just gonna be like\na test that you set up here,\n\n147\n00:08:16.180 --> 00:08:20.890\ninstead you might choose to also\nend it with .local instead.\n\n148\n00:08:20.890 --> 00:08:22.860\nYou don't have to, but\n\n149\n00:08:22.860 --> 00:08:26.620\nyou kind of realize that you can\ndo stuff like that if you choose.\n\n150\n00:08:26.620 --> 00:08:28.010\nOops, it's invalid.\n\n151\n00:08:28.010 --> 00:08:30.680\nSo somewhere along the line I did\nsomething which I probably should not have\n\n152\n00:08:30.680 --> 00:08:32.030\ndone here.\n\n153\n00:08:32.030 --> 00:08:36.500\nOf course, setting up your DNS servers is\nalso essential if you want to be able to\n\n154\n00:08:36.500 --> 00:08:38.480\nnavigate around by name.\n\n155\n00:08:38.480 --> 00:08:42.480\nIf you say no, everybody in my network,\nlike Daniel, he's smart enough to remember\n\n156\n00:08:42.480 --> 00:08:47.350\nevery single IP address of every single\ndevice on his network doing a test.\n\n157\n00:08:47.350 --> 00:08:48.150\n&gt;&gt; Yeah [LAUGH].\n\n158\n00:08:48.150 --> 00:08:50.210\n&gt;&gt; And then that way, you're fine.\n\n159\n00:08:50.210 --> 00:08:53.801\nBut if you're not rain man\nlike like Daniel [LAUGH]\n\n160\n00:08:53.801 --> 00:08:54.520\n&gt;&gt; [LAUGH]\n\n161\n00:08:54.520 --> 00:08:56.060\n&gt;&gt; Then you may wanna enter in\n\n162\n00:08:56.060 --> 00:08:59.590\nyour DNS names here or your DNS servers.\n\n163\n00:08:59.590 --> 00:09:01.820\nSo make sure you do something like that.\n\n164\n00:09:01.820 --> 00:09:05.590\nNow they give you an option\nright here about overriding DNS.\n\n165\n00:09:05.590 --> 00:09:09.060\nSo this way if you do set up DHCP and\n\n166\n00:09:09.060 --> 00:09:13.620\nyou go hey, even though I set this up,\nI went ahead and did this.\n\n167\n00:09:13.620 --> 00:09:15.890\nBut I know I will be\nconfiguring DHCP later on and\n\n168\n00:09:15.890 --> 00:09:18.770\nI'm gonna put my own DNS servers.\n\n169\n00:09:18.770 --> 00:09:22.540\nThen we can also allow to\noverride that if we choose to.\n\n170\n00:09:22.540 --> 00:09:28.880\nSo notice this says it can be override\nby DHCP on the WAN interface at least.\n\n171\n00:09:28.880 --> 00:09:30.060\nSo we can do that.\n\n172\n00:09:30.060 --> 00:09:35.150\nSo if you're ISP has that option,\nI should say, instead and\n\n173\n00:09:35.150 --> 00:09:37.860\nthey actually hand out DNS on their side.\n\n174\n00:09:37.860 --> 00:09:39.930\nThey don't have to listen\nto what you put down here,\n\n175\n00:09:39.930 --> 00:09:43.120\nthey instead can actually put their\nown down here if they choose to.\n\n176\n00:09:43.120 --> 00:09:47.500\nClick Next and then of course,\nthere is this time server aspect and\n\n177\n00:09:47.500 --> 00:09:49.630\nthen you can set up your time zone.\n\n178\n00:09:49.630 --> 00:09:52.340\nI'm just gonna leave it as is cuz\nwhen we go through the actual\n\n179\n00:09:52.340 --> 00:09:54.610\nconfiguration here in just a moment.\n\n180\n00:09:54.610 --> 00:09:59.460\nAnd then from this point on, notice\nit's going through my WAN interface and\n\n181\n00:09:59.460 --> 00:10:01.520\nit's asking me what I want.\n\n182\n00:10:01.520 --> 00:10:06.440\nAm I gonna statically type in the address\nor is this gonna be handed out by DHCP?\n\n183\n00:10:06.440 --> 00:10:11.560\nIf your ISP for your company is actually\nthrough something like a cable modem.\n\n184\n00:10:11.560 --> 00:10:15.560\nPerfectly fine and they're the ones\nthat hand out IP addresses.\n\n185\n00:10:15.560 --> 00:10:17.080\nYou can go ahead and set it up here,\n\n186\n00:10:17.080 --> 00:10:19.160\nthat's the way that\nthey choose to do that.\n\n187\n00:10:19.160 --> 00:10:22.290\nBut if you're gonna statically set it, you\nsimply click on this drop down over here,\n\n188\n00:10:22.290 --> 00:10:23.770\nyou set it for static.\n\n189\n00:10:23.770 --> 00:10:24.706\nAnd of course,\n\n190\n00:10:24.706 --> 00:10:29.034\nif you're using other aspects of that\nwhich is like PPP over Ethernet.\n\n191\n00:10:29.034 --> 00:10:33.252\nBecause you're actually on\na smaller network there or\n\n192\n00:10:33.252 --> 00:10:37.490\neven the PPTP ,you can\nof course use that too.\n\n193\n00:10:37.490 --> 00:10:40.210\nAnd here's where you'd set up the static\nconfiguration, the IP address.\n\n194\n00:10:40.210 --> 00:10:43.500\nAnd you'll see we'll walk through\nsome of this just a little bit later\n\n195\n00:10:43.500 --> 00:10:45.370\non if we choose to.\n\n196\n00:10:45.370 --> 00:10:51.050\nAnd at the very bottom of this, it has\nthe default rules that we tend to see\n\n197\n00:10:51.050 --> 00:10:54.150\non WAN interfaces as well, okay?\n\n198\n00:10:54.150 --> 00:10:55.550\nAnd those things are set.\n\n199\n00:10:55.550 --> 00:10:56.680\nI'm gonna click Next.\n\n200\n00:10:56.680 --> 00:11:00.380\nAnd now notice the basic configuration,\nit already sees that I went ahead and\n\n201\n00:11:00.380 --> 00:11:03.000\nchanged the IP address to it.\n\n202\n00:11:03.000 --> 00:11:07.570\nAnd of course, this is something that\nyou have to kind of be already good at.\n\n203\n00:11:07.570 --> 00:11:10.990\nThe idea of understanding your\nIP address and your subnet mask,\n\n204\n00:11:10.990 --> 00:11:15.040\nyou can't just kind of muddle through it\nat this point or it's not going to work.\n\n205\n00:11:15.040 --> 00:11:18.020\nSo you need to have a good solid\nunderstanding of your entire\n\n206\n00:11:18.020 --> 00:11:19.170\naddressing scheme.\n\n207\n00:11:19.170 --> 00:11:24.510\nAnd of course, subnet mask and\neverything else that you need there too.\n\n208\n00:11:24.510 --> 00:11:27.650\nNow here is where becomes\na little bit important.\n\n209\n00:11:27.650 --> 00:11:29.320\nNotice that right now for\n\n210\n00:11:29.320 --> 00:11:33.200\nthe web interface, they're saying\nyou need to set up a password.\n\n211\n00:11:33.200 --> 00:11:38.390\nNow notice that they're not asking you\nto set up a new admin name, right?\n\n212\n00:11:38.390 --> 00:11:40.470\nThe idea of a new administrator name.\n\n213\n00:11:40.470 --> 00:11:43.350\nAnd there's really one\nbig reason behind that.\n\n214\n00:11:43.350 --> 00:11:44.150\nCan you change it?\n\n215\n00:11:44.150 --> 00:11:46.330\nYes, you absolutely can change it.\n\n216\n00:11:46.330 --> 00:11:50.560\nAnd if you're gonna use a single firewall,\nit's recommended that you change that.\n\n217\n00:11:50.560 --> 00:11:54.070\nBut later on as we go through this series\nand we start talking about setting up\n\n218\n00:11:54.070 --> 00:11:58.910\nsomething like high availability and\nwe start to do stuff like that.\n\n219\n00:11:58.910 --> 00:12:02.880\nWell, it only accepts one username,\nwhich is admin.\n\n220\n00:12:02.880 --> 00:12:04.680\nAnd it has to be admin.\n\n221\n00:12:04.680 --> 00:12:05.340\n&gt;&gt; No changing it?\n\n222\n00:12:05.340 --> 00:12:09.210\n&gt;&gt; You can't change it at that point, so\nif you know, so if you're planning this\n\n223\n00:12:09.210 --> 00:12:12.650\nout and go no, I know I'm gonna be\ndoing high availability in the future.\n\n224\n00:12:12.650 --> 00:12:14.980\nAnd you go let me just go ahead and\n\n225\n00:12:14.980 --> 00:12:19.570\nchange the admin username right now or\nat the very beginning,\n\n226\n00:12:19.570 --> 00:12:20.820\nyou're gonna change it back-\n&gt;&gt; [LAUGH]\n\n227\n00:12:20.820 --> 00:12:21.870\n&gt;&gt; Is what's gonna happen.\n\n228\n00:12:21.870 --> 00:12:22.660\nSo you're gonna go,\n\n229\n00:12:22.660 --> 00:12:27.900\nI'd went through all that to kind of make\nmy, whatever the secret admin name is.\n\n230\n00:12:27.900 --> 00:12:32.160\nBut here of course I recommend that yes,\nyou do have a strong username and\n\n231\n00:12:32.160 --> 00:12:35.030\npassword combination.\n\n232\n00:12:35.030 --> 00:12:36.190\nIf you do that right now,\n\n233\n00:12:36.190 --> 00:12:39.640\nI'm just gonna click Next cuz we're gonna\nconfigure it actually on their way.\n\n234\n00:12:39.640 --> 00:12:43.080\nAnd then it's gonna go ahead and\nsay hey, Reload, do you want to do this?\n\n235\n00:12:43.080 --> 00:12:46.780\nSo it's simply gonna reboot, make sure\nall the configurations in place and\n\n236\n00:12:46.780 --> 00:12:49.450\nthen we would simply log back in,\nall right?\n\n237\n00:12:49.450 --> 00:12:52.376\nThe great thing is since we didn't\nchange anything in the wizard,\n\n238\n00:12:52.376 --> 00:12:54.600\nthose are kind of the basic things, right?\n\n239\n00:12:54.600 --> 00:12:59.340\nConfigure the interfaces,\nmake sure you have DNS turned on,\n\n240\n00:12:59.340 --> 00:13:02.230\nthe default rules are in place.\n\n241\n00:13:02.230 --> 00:13:05.550\nAnd then of course,\nchanging the default password.\n\n242\n00:13:05.550 --> 00:13:08.664\nLeaving the default password\non a device like this,\n\n243\n00:13:08.664 --> 00:13:11.506\nthat may be on the edge of your network,\nsilly.\n\n244\n00:13:11.506 --> 00:13:12.834\n&gt;&gt; [LAUGH]\n&gt;&gt; I think, Daniel,\n\n245\n00:13:12.834 --> 00:13:14.630\nwhat are your thoughts on that?\n\n246\n00:13:14.630 --> 00:13:20.050\n&gt;&gt; Yeah, probably not the best idea, we\nlike to promote security here on ITProTV.\n\n247\n00:13:20.050 --> 00:13:21.090\nAnd using defaults?\n\n248\n00:13:21.090 --> 00:13:23.610\nWell, it just means that people can\njust do a Google search of what\n\n249\n00:13:23.610 --> 00:13:27.870\nare the defaults for a login for\nthe PF Sense firewall there?\n\n250\n00:13:27.870 --> 00:13:29.100\nAnd then guess what?\n\n251\n00:13:29.100 --> 00:13:29.780\nYou're compromised.\n\n252\n00:13:29.780 --> 00:13:30.614\nSo that's a bad idea.\n\n253\n00:13:30.614 --> 00:13:31.805\n&gt;&gt; Yeah.\n&gt;&gt; You want to change these\n\n254\n00:13:31.805 --> 00:13:32.448\nthings [LAUGH].\n\n255\n00:13:32.448 --> 00:13:36.260\n&gt;&gt; I know a lot of people go, I'm not\ngonna change anything until I'm done.\n\n256\n00:13:36.260 --> 00:13:40.210\nIf you can use wizard, go ahead and\nchange it and start using it right then.\n\n257\n00:13:40.210 --> 00:13:43.620\nBecause if you go I'll just change\nit later, you won't remember that.\n\n258\n00:13:43.620 --> 00:13:48.160\nAnd then every time you log out,\nyou'll still be using essentially the old\n\n259\n00:13:48.160 --> 00:13:52.070\npassword, the default password and you'll\ncontinue to use the default password.\n\n260\n00:13:52.070 --> 00:13:52.672\n&gt;&gt; And it never goes away.\n\n261\n00:13:52.672 --> 00:13:54.080\n&gt;&gt; And it never goes away.\n\n262\n00:13:54.080 --> 00:13:57.260\nSo the recommendation of course,\nis to change it immediately.\n\n263\n00:13:57.260 --> 00:14:00.420\nBut let's show you where can actually\nchange the stuff without using the wizard.\n\n264\n00:14:00.420 --> 00:14:03.680\nSo we then want you to actually watch\nthe whole show using the wizard but at\n\n265\n00:14:03.680 --> 00:14:08.000\nthe same time, we wanted you to see where\nit's available and what would do for you.\n\n266\n00:14:08.000 --> 00:14:11.745\nSo at this point I'm just gonna click\non the logo up here at the upper\n\n267\n00:14:11.745 --> 00:14:13.070\nleft-hand corner.\n\n268\n00:14:13.070 --> 00:14:16.490\nAnd this is the default\nthat you normally get into\n\n269\n00:14:16.490 --> 00:14:19.220\nif you choose not to\nactually use the wizard.\n\n270\n00:14:19.220 --> 00:14:21.480\nNow this right here is\njust a simple dashboard,\n\n271\n00:14:21.480 --> 00:14:24.280\nwhich means it's just\ndisplaying information for you.\n\n272\n00:14:24.280 --> 00:14:28.020\nAnd it can explain information\non a periodic basis.\n\n273\n00:14:28.020 --> 00:14:31.410\nSometimes we can add in more graphs\nin there that may display every\n\n274\n00:14:31.410 --> 00:14:34.640\ntwo seconds or five seconds or\ntwo minutes, whatever it can be.\n\n275\n00:14:34.640 --> 00:14:37.870\nYou can also configure that stuff,\nbut a lot of times you can have\n\n276\n00:14:37.870 --> 00:14:41.840\na lot of the information right here and\navailable for you.\n\n277\n00:14:41.840 --> 00:14:44.450\nAnd notice the key information\nthat we're looking for\n\n278\n00:14:44.450 --> 00:14:49.150\nis really right over here\non the right-hand side.\n\n279\n00:14:49.150 --> 00:14:53.030\nSo the only one that I've configured, I've\nleft the WAN off cuz we're gonna configure\n\n280\n00:14:53.030 --> 00:14:55.070\nthat right now is what we're gonna do.\n\n281\n00:14:55.070 --> 00:14:59.540\nIs we want our LAN interface and\nit actually sees the speed and\n\n282\n00:14:59.540 --> 00:15:04.910\nthe duplex of that NIC that is on and\nthen of course, the IP address.\n\n283\n00:15:04.910 --> 00:15:08.430\nNow, the great thing about this dashboard,\nif it's configurable,\n\n284\n00:15:08.430 --> 00:15:10.620\nit will normally have a link.\n\n285\n00:15:10.620 --> 00:15:13.400\nSo as I hover over this,\nnotice that there's a link and\n\n286\n00:15:13.400 --> 00:15:18.060\nit even shows me the MAC address of what I\ncan do to actually configure these things.\n\n287\n00:15:18.060 --> 00:15:21.950\nBut let's take a look at the rest of this\ninterface just briefly and then we'll get\n\n288\n00:15:21.950 --> 00:15:26.420\nin there to do some basic configuration\nto prepare PFSense for usage.\n\n289\n00:15:26.420 --> 00:15:31.340\nSo the great thing is now, notice that we\nhave a menu system up at the top here.\n\n290\n00:15:31.340 --> 00:15:35.090\nIt goes from using System and\nthen Interfaces,\n\n291\n00:15:35.090 --> 00:15:40.480\nFirewall, Services, VPN, Status of course.\n\n292\n00:15:40.480 --> 00:15:42.250\nThere's some Diagnostic tools.\n\n293\n00:15:42.250 --> 00:15:46.890\nAnd if you actually do have your PfSense\nmembership for Gold, it also has that.\n\n294\n00:15:46.890 --> 00:15:51.811\nAnd then of course, Help is also another\noption that leads you out to the PfSense\n\n295\n00:15:51.811 --> 00:15:54.762\nwebsite to be able to get\na little bit more help.\n\n296\n00:15:54.762 --> 00:15:58.595\nAt the very beginning,\nif this is where you're starting,\n\n297\n00:15:58.595 --> 00:16:01.748\nyou wanna go ahead and\nclick on System over here.\n\n298\n00:16:01.748 --> 00:16:05.859\nAnd once you click on\nSystem Select general setup and\n\n299\n00:16:05.859 --> 00:16:09.255\nnotice this is gonna be your third option.\n\n300\n00:16:09.255 --> 00:16:14.070\nOkay,so launching your general setup,\nnow notice it brings you back here.\n\n301\n00:16:14.070 --> 00:16:16.790\nNow if you've seen if we could\nhave done this through the web or\n\n302\n00:16:16.790 --> 00:16:18.720\nthrough the wizard why not.\n\n303\n00:16:18.720 --> 00:16:22.700\nBut again if you're new at this and you\nwanna walk through the wizard it's fine\n\n304\n00:16:22.700 --> 00:16:25.500\nmost of the time people like to get\nunderneath the hood of it and try and\n\n305\n00:16:25.500 --> 00:16:28.820\nfind out stuff on round so\nthis is the way it;s going to be.\n\n306\n00:16:28.820 --> 00:16:32.650\nNow I'm actually going to name mine right\nhere and I'm just going to call this\n\n307\n00:16:34.620 --> 00:16:39.120\none, I like this name that actually\nI was using farrowgate and\n\n308\n00:16:39.120 --> 00:16:41.010\nI'm just going to call\nit alpha at this point.\n\n309\n00:16:41.010 --> 00:16:43.100\nOkay?\nFiregate-alpha.\n\n310\n00:16:43.100 --> 00:16:49.325\nAnd my domain,\nI'm gonna use my itprotvdemo.com, okay?\n\n311\n00:16:49.325 --> 00:16:54.190\nAnd that's actually one of our registered\ndomains that we have available.\n\n312\n00:16:54.190 --> 00:16:57.530\nAnd then from this point,\nour DNS servers, if we choose to.\n\n313\n00:16:57.530 --> 00:17:00.900\nNow you can choose not\nto enter any of this in.\n\n314\n00:17:00.900 --> 00:17:05.690\nBut if I know that I have my\ninternal DNS servers that I need, or\n\n315\n00:17:05.690 --> 00:17:09.300\nthe external ones provided by my ISP,\nthis is where I would put them, okay.\n\n316\n00:17:09.300 --> 00:17:12.470\nWell I don't have any of those, so\nI'm just gonna use the Google ones for\n\n317\n00:17:12.470 --> 00:17:12.970\nright now.\n\n318\n00:17:12.970 --> 00:17:17.250\nI don't wanna actually mess up anything\nthat's actually in place here.\n\n319\n00:17:19.050 --> 00:17:24.810\nAnd then over on the right hand side,\nnotice that I can have it say,\n\n320\n00:17:24.810 --> 00:17:27.300\nhey look, it's not gonna be\noverwritten by anything else.\n\n321\n00:17:27.300 --> 00:17:32.920\nBut if my ISP says yes,\nwe will hand out your DNS for you as well,\n\n322\n00:17:32.920 --> 00:17:37.630\nyou actually have that option to let them\nhand out the IP address along with that.\n\n323\n00:17:39.550 --> 00:17:42.630\nSo then I'm just gonna\nselect my secondary.\n\n324\n00:17:42.630 --> 00:17:45.654\nAnd you can, of course, this one gives\nyou up to four but you can have,\n\n325\n00:17:45.654 --> 00:17:47.261\nreally, a lot more if you choose to.\n\n326\n00:17:49.421 --> 00:17:53.307\nIf I want to allow that override,\njust like we also saw, we'll actually\n\n327\n00:17:53.307 --> 00:17:57.790\nleave that checked and that's usually\nfine if I have my DNS servers overridden.\n\n328\n00:17:57.790 --> 00:18:02.290\nIf I don't want them It'd be over in,\nsimply uncheck.\n\n329\n00:18:02.290 --> 00:18:03.630\nSimple enough.\n\n330\n00:18:03.630 --> 00:18:05.170\nAnd then of course, the timestamp.\n\n331\n00:18:06.850 --> 00:18:11.030\nNow as far as the time zone goes,\nI'm simply looking for America,\n\n332\n00:18:11.030 --> 00:18:12.540\ncuz that's where I am.\n\n333\n00:18:12.540 --> 00:18:17.520\nAnd then, usually the standard one for\nour time zone is gonna be New York.\n\n334\n00:18:20.430 --> 00:18:25.330\nAnd of course it goes out\nto the pfSense NTP Pool.\n\n335\n00:18:25.330 --> 00:18:29.220\nNow can you configure this for\nany other time server that you have?\n\n336\n00:18:29.220 --> 00:18:29.745\nYes.\n\n337\n00:18:29.745 --> 00:18:30.600\nOkay?\n\n338\n00:18:30.600 --> 00:18:33.090\nBut normally the best practice, right?\n\n339\n00:18:33.090 --> 00:18:36.790\nIf you do something like this,\neither this becomes your time server for\n\n340\n00:18:36.790 --> 00:18:40.880\nyour entire network, or if you do have a\ntime server already established inside of\n\n341\n00:18:40.880 --> 00:18:44.190\nyour network you wanna pick that one\nbecause you want all the devices\n\n342\n00:18:44.190 --> 00:18:48.070\nto be able to be you know able\nto sync up to that one as well.\n\n343\n00:18:48.070 --> 00:18:52.100\nWe're gonna choose English\nas our default language and\n\n344\n00:18:52.100 --> 00:18:56.030\nthen in the web configurator you can\nchoose to make it pretty if you want to.\n\n345\n00:18:56.030 --> 00:18:59.820\nAnd they have four,\nfive different themes, I can't count.\n\n346\n00:18:59.820 --> 00:19:01.570\nFive different themes\nthat you can choose from,\n\n347\n00:19:01.570 --> 00:19:04.180\nand then of course the navigation itself.\n\n348\n00:19:05.580 --> 00:19:08.900\nIf I wanted to scroll along with the page,\nor I want it to remain visible\n\n349\n00:19:08.900 --> 00:19:12.210\nyou name it those are all other\noptions that we have available aswell.\n\n350\n00:19:12.210 --> 00:19:17.070\nAnd the dashboard I may choose\nto go to three columns instead.\n\n351\n00:19:17.070 --> 00:19:19.830\nAnd then there's other widgets and\npanels that we can show we're so\n\n352\n00:19:19.830 --> 00:19:21.430\nnot worried about that.\n\n353\n00:19:21.430 --> 00:19:24.650\nAnd they even have this other option\nthat was available earlier okay,\n\n354\n00:19:24.650 --> 00:19:27.400\nwhich is the idea of a left column table.\n\n355\n00:19:27.400 --> 00:19:31.370\nSo if you like these kind of buttons\ninstead to navigate between them\n\n356\n00:19:31.370 --> 00:19:34.870\nyou have a left column over here and\nyou can just actually click over here.\n\n357\n00:19:34.870 --> 00:19:36.530\nThat's perfectly fine.\n\n358\n00:19:36.530 --> 00:19:38.950\nI don't really like that that much,\nbut a lot of people love that.\n\n359\n00:19:38.950 --> 00:19:42.010\nAnd so if you want that,\nyou just simply select active.\n\n360\n00:19:42.010 --> 00:19:43.330\nAnd then you can click save.\n\n361\n00:19:45.250 --> 00:19:50.040\nAnd once it finishes saving,\nit will go ahead and apply those changes.\n\n362\n00:19:50.040 --> 00:19:53.310\nAnd then you should end up seeing where\n\n363\n00:19:53.310 --> 00:19:57.250\nit'll give you that ability to toggle\nonce everything kinda sets back up.\n\n364\n00:19:57.250 --> 00:19:59.930\nSo I don't really like that so\nI'm just going to un-check that\n\n365\n00:19:59.930 --> 00:20:04.300\nI wanted have to keep coming back for\nthe unchecked stuff that I don't like.\n\n366\n00:20:04.300 --> 00:20:09.310\nSo this at least the basic that you\nhave to get started once you get there.\n\n367\n00:20:09.310 --> 00:20:13.040\nNow there's a whole bunch of other\nthings that are available right here for\n\n368\n00:20:13.040 --> 00:20:16.340\nus, let's go down to user manager now.\n\n369\n00:20:16.340 --> 00:20:20.140\nNow in User Manager this is where\nyou can also change, of course,\n\n370\n00:20:20.140 --> 00:20:24.840\nyour default user name as well.\n\n371\n00:20:24.840 --> 00:20:27.680\nActually you can add in another one,\nis what you can do.\n\n372\n00:20:27.680 --> 00:20:30.040\nSo, here, notice the default is admin.\n\n373\n00:20:31.250 --> 00:20:34.260\nSystem administrator and admins group.\n\n374\n00:20:34.260 --> 00:20:38.720\nWell, if you wanted instead to\nreplace that you can select this and\n\n375\n00:20:38.720 --> 00:20:40.740\nthen you can actually put in,\nlike I'm gonna do.\n\n376\n00:20:40.740 --> 00:20:44.040\nAnd then use my super secret password.\n\n377\n00:20:44.040 --> 00:20:46.220\nWhich is really not super secret.\n\n378\n00:20:46.220 --> 00:20:48.939\nAnd nor\nis it actually my password [LAUGH].\n\n379\n00:20:52.039 --> 00:20:53.731\nAnd from this point,\n\n380\n00:20:53.731 --> 00:20:58.910\nI can actually say I want this to\nbe a member of the admin's group.\n\n381\n00:21:01.010 --> 00:21:03.936\nAnd we can even do some\ncertificate bases if we want to.\n\n382\n00:21:03.936 --> 00:21:08.500\nClick save and now we can have that.\n\n383\n00:21:08.500 --> 00:21:13.240\nAnd so we can now have this\nthat we set up as well.\n\n384\n00:21:14.680 --> 00:21:16.540\nAnd then other settings\nin terms of the time out.\n\n385\n00:21:16.540 --> 00:21:18.720\nHow long do you want to leave this set up?\n\n386\n00:21:18.720 --> 00:21:22.530\nIf I walk away from my screen is\nit gonna time out after a while?\n\n387\n00:21:22.530 --> 00:21:24.260\nYou name it, there's a few options.\n\n388\n00:21:24.260 --> 00:21:25.380\nBut at least right there.\n\n389\n00:21:25.380 --> 00:21:27.120\nThat's what you want to be able to set up.\n\n390\n00:21:27.120 --> 00:21:30.660\nAnd there are ways you can get in\nthere and change the password as well.\n\n391\n00:21:30.660 --> 00:21:33.210\nAnd we'll see that kind of along the way.\n\n392\n00:21:33.210 --> 00:21:34.360\nSo the other things, right?\n\n393\n00:21:34.360 --> 00:21:39.030\nWe set up the LAN at the very beginning,\nwhen we took a look at the interface here.\n\n394\n00:21:39.030 --> 00:21:43.820\nSo the key thing is to verify that this\nis checkedmark and that's enabled.\n\n395\n00:21:43.820 --> 00:21:46.200\nAnd then of course the description.\n\n396\n00:21:46.200 --> 00:21:48.954\nMost of the time,\npeople don't like this idea but\n\n397\n00:21:48.954 --> 00:21:53.980\nusually there's at least two default\ndescriptions,WAN and of course LAN.\n\n398\n00:21:53.980 --> 00:21:57.800\nI recommend that you use these\ndescription when you can.\n\n399\n00:21:57.800 --> 00:21:59.980\nBecause it's gonna save you later on.\n\n400\n00:21:59.980 --> 00:22:04.370\nYou end up seeing, when they give you\noptions to say which interface that you're\n\n401\n00:22:04.370 --> 00:22:09.620\non, well if you just say LAN1, LAN2,\nLAN3, LAN4, you're gonna get confused.\n\n402\n00:22:09.620 --> 00:22:12.830\nSo make sure you actually provide\na description that really is going\n\n403\n00:22:12.830 --> 00:22:13.360\nto help you out.\n\n404\n00:22:13.360 --> 00:22:17.680\nWhen it says,\nwhat interface do you wanna use for this?\n\n405\n00:22:17.680 --> 00:22:20.289\nMake the name different so\nthat you can recognize that.\n\n406\n00:22:21.880 --> 00:22:25.990\nYou of course can spoof the MAC address\nif you need to for certain devices.\n\n407\n00:22:25.990 --> 00:22:30.290\nSet the MTU sizes as well,\nspeed and duplex.\n\n408\n00:22:30.290 --> 00:22:34.280\nAnd normally on a LAN, the only thing\nwe have to worry about is right here.\n\n409\n00:22:34.280 --> 00:22:38.840\nWhich is the IP address and\ndon't forget the subnet\n\n410\n00:22:38.840 --> 00:22:43.510\nmask in terms of the way that it's done\nin the CIDR notation right over here.\n\n411\n00:22:43.510 --> 00:22:44.010\nOkay?\n\n412\n00:22:45.240 --> 00:22:49.080\nInside of LANs we don't tend to block\nthese, cuz we tend to use them instead.\n\n413\n00:22:49.080 --> 00:22:53.100\nThe idea of using, of course,\nyour 1918 RFC addresses,\n\n414\n00:22:53.100 --> 00:22:59.080\nyour private IP addresses, and then other\nprivate IP addresses that are reserved.\n\n415\n00:23:00.890 --> 00:23:04.160\nSo you wanted to change anything at\nthat point, you click over there and\n\n416\n00:23:04.160 --> 00:23:05.890\nthen you always have to apply the change.\n\n417\n00:23:07.760 --> 00:23:08.980\nAlright.\n\n418\n00:23:08.980 --> 00:23:15.620\nNow on the other interface, here well\nnotice here's the WAN description now this\n\n419\n00:23:15.620 --> 00:23:21.070\nof course can also be added in and changed\nas well but I'm just gonna leave it as is.\n\n420\n00:23:21.070 --> 00:23:24.360\nIf you wanted to let's say\nthat you have multiple WANS.\n\n421\n00:23:24.360 --> 00:23:26.210\nYou don't wanna name it WAN1 and WAN2.\n\n422\n00:23:26.210 --> 00:23:30.250\nYou can, but you might wanna\nmake it something specific,\n\n423\n00:23:30.250 --> 00:23:33.170\nlike your ISP's name if you choose to.\n\n424\n00:23:33.170 --> 00:23:35.800\nAnd that way you go, hey,\nthis is actually gonna be that.\n\n425\n00:23:35.800 --> 00:23:39.560\nNow, you do find out some weird things\nabout the naming though, Daniel.\n\n426\n00:23:39.560 --> 00:23:41.010\nIt doesn't like dashes.\n\n427\n00:23:41.010 --> 00:23:41.660\nI don't know why.\n\n428\n00:23:41.660 --> 00:23:46.230\nSo if I wanted to name it WAN dash, like\nours is Gainesville Regional Utilities.\n\n429\n00:23:46.230 --> 00:23:47.670\n&gt;&gt; Yeah.\nGRU.\n\n430\n00:23:47.670 --> 00:23:49.950\nIt will do it, but\nit will actually just go ahead and\n\n431\n00:23:49.950 --> 00:23:54.410\ntruncate the dash right out of there,\nand just make it just one solid word.\n\n432\n00:23:54.410 --> 00:23:56.700\nBut you can do stuff like\nthat if you choose to.\n\n433\n00:23:56.700 --> 00:23:59.650\nSo for some reason,\ndashes apparently are not acceptable in-\n\n434\n00:23:59.650 --> 00:24:00.678\n&gt;&gt; How about underscores?\n\n435\n00:24:00.678 --> 00:24:01.614\n&gt;&gt; Underscores you can do.\n\n436\n00:24:01.614 --> 00:24:03.244\n&gt;&gt; Okay.\n&gt;&gt; Yeah, underscores is good, yeah.\n\n437\n00:24:03.244 --> 00:24:05.179\nBut dashes not so much so, okay?\n\n438\n00:24:05.179 --> 00:24:08.776\nSo here,\nI'm gonna set up a static IP address.\n\n439\n00:24:08.776 --> 00:24:13.064\nNow, if your ISP is going to hand it out,\nand you're not gonna know, well,\n\n440\n00:24:13.064 --> 00:24:15.780\nthen you'll leave it at what it says.\n\n441\n00:24:15.780 --> 00:24:23.770\nOn the DHTP version 6, or the IP address,\nI'm not gonna set up anything like that.\n\n442\n00:24:23.770 --> 00:24:27.148\nBut notice I have static\nscroll down here and\n\n443\n00:24:27.148 --> 00:24:31.543\nthe address I'm gonna use is 209.251.131.\n\n444\n00:24:31.543 --> 00:24:36.655\nAnd this one is where you have to kind of\nfigure out a couple of things if you're\n\n445\n00:24:36.655 --> 00:24:41.912\ngonna be doing this for an IP that's\nheading out to the Internet, okay?\n\n446\n00:24:41.912 --> 00:24:47.110\nSo here's the configuration that\nwe have in place right here, okay?\n\n447\n00:24:47.110 --> 00:24:48.860\nSo here's the basic setup.\n\n448\n00:24:48.860 --> 00:24:52.090\nMy LAN is internal right\nhere to this address.\n\n449\n00:24:52.090 --> 00:24:55.270\nAnd I know that I already set\nup the interface for the inside.\n\n450\n00:24:55.270 --> 00:24:58.850\nBut let's say that the ISP just tells me\nhere is the range of addresses that I'm\n\n451\n00:24:58.850 --> 00:25:00.310\nusing, okay?\n\n452\n00:25:00.310 --> 00:25:04.850\nSo at this point if you don't know\nwhat your sub-netting is, right?\n\n453\n00:25:04.850 --> 00:25:07.090\nWell, that's what you gotta figure out,\nyou gotta figure that range out.\n\n454\n00:25:07.090 --> 00:25:10.070\nThe great thing is there is so many\ncalculators out there on the world for\n\n455\n00:25:10.070 --> 00:25:13.550\nyou, work at it, you should be fine, okay?\n\n456\n00:25:13.550 --> 00:25:17.165\nSo a lot of times what you have to\nactually remember is it depends on what\n\n457\n00:25:17.165 --> 00:25:21.234\nyou're using, but if they give you range\nyou can use any of them in this range.\n\n458\n00:25:21.234 --> 00:25:26.203\nThis one begins at 121 and goes all\nthe way through 129, if I remember,\n\n459\n00:25:26.203 --> 00:25:28.580\nis what this one goes to, or 128.\n\n460\n00:25:28.580 --> 00:25:32.056\n129 would be the, yeah.\n\n461\n00:25:32.056 --> 00:25:35.220\nSo, or yeah something like that.\n\n462\n00:25:35.220 --> 00:25:36.620\nSo, I'm trying to remember 120-\n&gt;&gt; [LAUGH]\n\n463\n00:25:36.620 --> 00:25:38.760\nQuit subnetting in your head, Ronnie.\n\n464\n00:25:38.760 --> 00:25:39.810\n&gt;&gt; But that's the idea, right?\n\n465\n00:25:39.810 --> 00:25:41.330\nSo it begins at 121.\n\n466\n00:25:41.330 --> 00:25:44.200\nSo, I know I could possibly\nset it at 121 or 122.\n\n467\n00:25:44.200 --> 00:25:49.021\nBut I know that one of those\nIP addresses is gonna be taken\n\n468\n00:25:49.021 --> 00:25:51.801\nup by the router on the ISP side.\n\n469\n00:25:51.801 --> 00:25:55.840\nAnd then over here it's\ngonna be whatever it is.\n\n470\n00:25:55.840 --> 00:25:58.550\nSo, at this point I would\nhave to know that, and\n\n471\n00:25:58.550 --> 00:26:01.480\nusually your ISP will give\nyou that information.\n\n472\n00:26:01.480 --> 00:26:05.250\nOur router is this, and then you can\nactually use these on your end for\n\n473\n00:26:05.250 --> 00:26:06.170\nyour router.\n\n474\n00:26:06.170 --> 00:26:07.550\nAnd you just pick one of those.\n\n475\n00:26:07.550 --> 00:26:10.630\nI'm just gonna pick 121 is\nwhat I'm gonna pick here.\n\n476\n00:26:10.630 --> 00:26:14.130\nNow, this is actually only on inside of\nmy VM, so I'm not so worried about it.\n\n477\n00:26:14.130 --> 00:26:18.290\nMake sure you choose\nthe correct subnet mask here.\n\n478\n00:26:18.290 --> 00:26:20.710\nAnd this is where it\nbecomes more important.\n\n479\n00:26:20.710 --> 00:26:26.970\nOn a WAN configuration, this is where\nyou will need to add a gateway, okay?\n\n480\n00:26:26.970 --> 00:26:28.830\nSo it's here that if you're doing this,\n\n481\n00:26:28.830 --> 00:26:31.720\nlet me choose another number,\nlet me choose 122.\n\n482\n00:26:31.720 --> 00:26:35.310\nCuz I don't know exactly what\nthe one on the router is.\n\n483\n00:26:35.310 --> 00:26:38.210\nSo I'm gonna select Add A New Gateway.\n\n484\n00:26:38.210 --> 00:26:42.110\nAnd it's here that it will actually say,\nand you can't change this name.\n\n485\n00:26:42.110 --> 00:26:42.728\nI don't know why.\n\n486\n00:26:42.728 --> 00:26:44.152\nIt won't let you do that.\n\n487\n00:26:44.152 --> 00:26:48.268\nBut 209.251.131.\n\n488\n00:26:48.268 --> 00:26:50.500\nAnd let's say that this one was 121 here.\n\n489\n00:26:50.500 --> 00:26:56.910\nSo this would be my ISP router.\n\n490\n00:26:58.480 --> 00:26:59.640\nClick Add.\n\n491\n00:26:59.640 --> 00:27:03.110\nAnd that is really the difference\nwhen you start to talk about\n\n492\n00:27:03.110 --> 00:27:06.150\nthe WAN interface versus the LAN.\n\n493\n00:27:06.150 --> 00:27:09.190\nIn LAN interfaces you can leave\nthis perfectly blank and it's fine.\n\n494\n00:27:10.190 --> 00:27:13.290\nOn this side, though, if you tried\nto do that, it's gonna say, yeah,\n\n495\n00:27:13.290 --> 00:27:16.410\nyou need to configure\nthis upstream gateway.\n\n496\n00:27:16.410 --> 00:27:21.800\nIt needs to know not only the IP\naddress that your outer interface is on\n\n497\n00:27:21.800 --> 00:27:22.950\nright here, but\n\n498\n00:27:22.950 --> 00:27:27.570\nit also needs to know the address of the\nrouter that it's going to over here, too.\n\n499\n00:27:27.570 --> 00:27:33.080\nSo just kind of remember that if you do\nthis, that's what's going to happen, okay?\n\n500\n00:27:33.080 --> 00:27:37.040\nNow, once you actually have that done,\nnotice here's the default rules.\n\n501\n00:27:37.040 --> 00:27:38.401\nAnd then you can click Save.\n\n502\n00:27:40.189 --> 00:27:41.940\nAnd click Apply.\n\n503\n00:27:41.940 --> 00:27:45.560\nNow, this has actually made a couple\nof different changes once you do this.\n\n504\n00:27:47.410 --> 00:27:52.100\nIf I go back to System,\nnow I can select Routing.\n\n505\n00:27:52.100 --> 00:27:58.540\nAnd notice that it's created this gateway\nright here for us to be able to go out of.\n\n506\n00:27:58.540 --> 00:28:00.565\nSo now, it knows when it hits my router,\n\n507\n00:28:00.565 --> 00:28:03.680\nit knows here's the next\nhop that it's going to.\n\n508\n00:28:03.680 --> 00:28:07.040\nSo it has to know that information or\nit can't get out.\n\n509\n00:28:07.040 --> 00:28:11.260\nSo all that should be provided by\nyour ISP to be able to get out of\n\n510\n00:28:11.260 --> 00:28:15.570\nyour network as you actually end\nup using this for now, all right?\n\n511\n00:28:15.570 --> 00:28:18.370\nSo it says look, this has even changed,\nand it says hey, go ahead and\n\n512\n00:28:18.370 --> 00:28:21.080\napply those changes, and you're fine, too.\n\n513\n00:28:21.080 --> 00:28:23.850\nSo just setting something up like that,\nand\n\n514\n00:28:23.850 --> 00:28:26.540\nyou'll actually see some of\nthe other things that were set up.\n\n515\n00:28:26.540 --> 00:28:29.500\nFor example, if I choose Firewall and\n\n516\n00:28:29.500 --> 00:28:34.330\nI go down to Rules, you'll notice that I\nend up getting these three separate tabs.\n\n517\n00:28:34.330 --> 00:28:36.770\nWe're gonna go over this\nin a little bit of time\n\n518\n00:28:36.770 --> 00:28:40.310\nwe get everything kind of working and\nready the way that we want to,\n\n519\n00:28:40.310 --> 00:28:43.660\nwe are going to start setting\nup these types of rules here.\n\n520\n00:28:43.660 --> 00:28:45.861\nBut at the very beginning,\n\n521\n00:28:45.861 --> 00:28:51.515\nnotice that on the WAN it set up those\ntwo blocking rules at this point.\n\n522\n00:28:51.515 --> 00:28:54.658\nSo we start seeing that,\nthat 1918, and then, of course,\n\n523\n00:28:54.658 --> 00:28:56.358\nthose other reserved addresses.\n\n524\n00:28:56.358 --> 00:28:58.350\nAnd then there's LAN.\n\n525\n00:28:58.350 --> 00:29:01.210\nAnd I didn't configure these rules,\nDaniel.\n\n526\n00:29:01.210 --> 00:29:02.560\nThey went ahead and configured it for\n\n527\n00:29:02.560 --> 00:29:06.750\nus to ensure that we could get\naccess the way that we needed to.\n\n528\n00:29:06.750 --> 00:29:10.840\nSo the setup for everything that we see\nright here and getting ready to use,\n\n529\n00:29:10.840 --> 00:29:14.470\nthat's kinda the big things that we\nneed to make sure that we have and\n\n530\n00:29:14.470 --> 00:29:15.910\nthat we're ready to go, okay?\n\n531\n00:29:17.080 --> 00:29:20.550\nSo there of course are different services,\nand\n\n532\n00:29:20.550 --> 00:29:22.910\nwe'll get to this in\nthe series of our show.\n\n533\n00:29:22.910 --> 00:29:28.020\nRemember that the pfSense firewall itself,\neven though firewall's kind of\n\n534\n00:29:28.020 --> 00:29:33.048\nthe main feature that most people want\nto deal with, look at this, we can set\n\n535\n00:29:33.048 --> 00:29:38.154\nthis up as a DHCP relay agent, a server,\nDNS forwarder, or a resolver here,\n\n536\n00:29:38.154 --> 00:29:42.906\ndynamic DNS, a load balancer as\nthe actual time server if we choose to.\n\n537\n00:29:44.639 --> 00:29:49.810\nVPN connections,\nthe status of these things here.\n\n538\n00:29:49.810 --> 00:29:53.890\nAnd there's a lot that we can actually go\nthrough, even some different diagnostic\n\n539\n00:29:53.890 --> 00:29:57.840\ntools to make sure that everything is\nup and running the way that we want to.\n\n540\n00:29:57.840 --> 00:30:02.500\nSo it really is kind of very,\nvery much intuitive.\n\n541\n00:30:02.500 --> 00:30:07.310\nYou didn't have to spend a lot of time in\nlearning really arcane language at times.\n\n542\n00:30:07.310 --> 00:30:11.040\nAnd what I mean by that, right,\nis vendor specific language.\n\n543\n00:30:11.040 --> 00:30:15.310\nEverything right here\nwas kind of Intuitive.\n\n544\n00:30:15.310 --> 00:30:17.830\nIt seems like the name was fairly easy.\n\n545\n00:30:17.830 --> 00:30:19.310\nI need to configure an interface.\n\n546\n00:30:19.310 --> 00:30:21.910\nWell, Daniel,\ntake a look at this bar up here.\n\n547\n00:30:21.910 --> 00:30:24.770\nIf you take a look at the top,\nI need to configure an interface.\n\n548\n00:30:24.770 --> 00:30:27.220\nSystem or Interfaces?\n\n549\n00:30:27.220 --> 00:30:28.980\nWell, it seems to make\nsense when you do this.\n\n550\n00:30:28.980 --> 00:30:31.566\nI need to configure firewall rules.\n\n551\n00:30:31.566 --> 00:30:33.385\nWell, firewall, okay?\n\n552\n00:30:33.385 --> 00:30:35.750\nDHTP as a service.\n\n553\n00:30:35.750 --> 00:30:39.330\nYou kinda get the idea,\nand you're not looking for\n\n554\n00:30:40.420 --> 00:30:43.300\nthis particular menu in\na general category, and\n\n555\n00:30:43.300 --> 00:30:47.390\nthen something that's named weirdly,\nwhich I've seen before.\n\n556\n00:30:47.390 --> 00:30:49.600\nAnd then you go underneath this, and\n\n557\n00:30:49.600 --> 00:30:54.670\nthen the one that gets me is the CISCO SA\nwhere it says additional services, right?\n\n558\n00:30:54.670 --> 00:30:56.956\nAnd everything is listed\nunder additional services.\n\n559\n00:30:56.956 --> 00:30:59.040\nEverything else is kinda,\nthere's two or three things,\n\n560\n00:30:59.040 --> 00:31:01.910\nbut everything else is listed\nunder additional services now.\n\n561\n00:31:01.910 --> 00:31:06.020\nWell, that would have taken me quite\nawhile before I figured that out if this\n\n562\n00:31:06.020 --> 00:31:07.730\nwas my first time configuring it.\n\n563\n00:31:07.730 --> 00:31:09.730\nSo you gotta realize that\nthere is a lot there.\n\n564\n00:31:09.730 --> 00:31:14.090\nBut right here the simpleness\nof it is pretty much the key.\n\n565\n00:31:14.090 --> 00:31:19.270\nNow, just because this is the one that\nwe're doing right here, right now, right?\n\n566\n00:31:19.270 --> 00:31:22.600\nThis is the most simple configuration\ninside and outside, and\n\n567\n00:31:22.600 --> 00:31:24.780\nthat's what a basic firewall is, right?\n\n568\n00:31:24.780 --> 00:31:30.220\nWe need a trusted interface on the inside\nwhere we know that we can control,\n\n569\n00:31:30.220 --> 00:31:33.530\nand we're essentially putting\nthe firewall in place to block\n\n570\n00:31:33.530 --> 00:31:34.990\neverything else from coming in.\n\n571\n00:31:36.140 --> 00:31:39.870\nSo you have at least that default\nconfiguration just like what we showed\n\n572\n00:31:39.870 --> 00:31:44.140\nyou, whether you use the wizard or whether\nyou actually use what I showed you.\n\n573\n00:31:44.140 --> 00:31:47.110\nOf course,\nmake sure you change your password and\n\n574\n00:31:47.110 --> 00:31:48.130\nwe'll get to that a little bit.\n\n575\n00:31:48.130 --> 00:31:51.384\nI know I'm trying to make sure I\ndole this out in the correct way and\n\n576\n00:31:51.384 --> 00:31:53.400\ndo everything that we want to do.\n\n577\n00:31:53.400 --> 00:31:57.600\nBut make sure that you take\nthis time to take a look at it.\n\n578\n00:31:57.600 --> 00:31:59.120\nThis is simple, okay?\n\n579\n00:31:59.120 --> 00:32:01.310\nAnd this is what we want, but\n\n580\n00:32:01.310 --> 00:32:05.425\nit's not always the only\nthing that we can do, okay?\n\n581\n00:32:05.425 --> 00:32:09.979\nSo, even with two interfaces,\nwe're gonna end up seeing that, well,\n\n582\n00:32:09.979 --> 00:32:15.530\nwe can actually support multiple\nLANs if we want to as well.\n\n583\n00:32:15.530 --> 00:32:19.770\nAnd we'll actually see that configuration\ncoming up in a future episode as well.\n\n584\n00:32:19.770 --> 00:32:22.853\nBut if you want a basic\nfirewall just up and running,\n\n585\n00:32:22.853 --> 00:32:26.147\nwhether on a very small network or\non your home network,\n\n586\n00:32:26.147 --> 00:32:30.670\nthis is one of the options that you have,\nit's a great place to start.\n\n587\n00:32:30.670 --> 00:32:34.664\nSo get in there and start configuring\nit and see what happens here.\n\n588\n00:32:34.664 --> 00:32:38.310\nOnce again, once everything is setup,\nyou're perfectly fine and\n\n589\n00:32:38.310 --> 00:32:40.750\nyou'll be up and going in no time at all.\n\n590\n00:32:40.750 --> 00:32:41.642\n&gt;&gt; Awesome stuff, Ronnie.\n\n591\n00:32:41.642 --> 00:32:45.970\nIn pfSense, they've done a great job\nof giving us a wonderful little Wizard\n\n592\n00:32:45.970 --> 00:32:49.650\nto walk through if we're super brand\nnew to try and setup a firewall, and\n\n593\n00:32:49.650 --> 00:32:54.620\na very easy graphical web-based driven\nmenu for us to start installing if we have\n\n594\n00:32:54.620 --> 00:32:58.360\na little more of seed time underneath\nour belt and understand what's going on.\n\n595\n00:32:58.360 --> 00:32:59.990\nVery intuitive, very nice stuff.\n\n596\n00:32:59.990 --> 00:33:02.355\nYou did a great job of showing\nus where those things are so\n\n597\n00:33:02.355 --> 00:33:04.850\nthat we can just jump right in and\nmake that happen.\n\n598\n00:33:04.850 --> 00:33:07.740\nBut looking at the clock, Ronnie,\nwe have run out of time for this episode.\n\n599\n00:33:07.740 --> 00:33:10.070\nThanks for joining us,\nthank you for watching.\n\n600\n00:33:10.070 --> 00:33:13.910\nBut signing off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n601\n00:33:13.910 --> 00:33:15.030\n&gt;&gt; And I'm Ronnie Wong.\n\n602\n00:33:15.030 --> 00:33:17.047\n&gt;&gt; We'll see you next time.\n\n603\n00:33:17.047 --> 00:33:22.981\n[MUSIC]\n\n604\n00:33:22.981 --> 00:33:26.553\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "195799740"
        },
        {
          "description": "In this episode, Daniel and Ronnie show you how to setup your pfSense firewall to support multiple LANs. They demonstrate the steps necessary to configure VLANs and Virtual Interfaces to separate multiple LAN traffic.",
          "length": "1862",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-4-setup_for_multiple_lans-121316.00_30_45_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-4-setup_for_multiple_lans-121316.00_30_45_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-1-4-setup_for_multiple_lans-121316.00_30_45_20.Still001-sm.jpg",
          "title": "Setup for Multiple LANs",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:03.367\nWelcome to IT Pro TV,\n\n2\n00:00:03.367 --> 00:00:08.234\nI'm your host Don [CROSSTALK].\n\n3\n00:00:08.234 --> 00:00:12.092\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:12.092 --> 00:00:14.819\n&gt;&gt; All right, greetings everyone,\nand welcome to yet\n\n5\n00:00:14.819 --> 00:00:16.681\nanother great episode of IT Pro TV.\n\n6\n00:00:16.681 --> 00:00:18.560\nI'm your host Daniel Lowrie, and\n\n7\n00:00:18.560 --> 00:00:22.730\nin today's episode we are continuing\non with more on our pfSense series.\n\n8\n00:00:22.730 --> 00:00:26.480\nAnd of course that is version\n2.3.2 in case you wee wondering.\n\n9\n00:00:26.480 --> 00:00:29.640\nAnd in joining us back is you can\nhear him cackling with laughter\n\n10\n00:00:29.640 --> 00:00:32.830\nto my very left is our good\nfriend Mr Ronnie Wong.\n\n11\n00:00:32.830 --> 00:00:34.620\nRonnie welcome back sir, how's it going?\n\n12\n00:00:34.620 --> 00:00:37.520\n&gt;&gt; It is going well today\nas we continue to try and\n\n13\n00:00:37.520 --> 00:00:42.310\nsee a little bit more about some of\nthe features that pfSense offers to us.\n\n14\n00:00:42.310 --> 00:00:47.800\nAnd in a previous series, we really did\nshow you where it can be a basic firewall.\n\n15\n00:00:47.800 --> 00:00:51.270\nThe very fact that we can have\njust a simple inside interface and\n\n16\n00:00:51.270 --> 00:00:53.930\nan outside interface, we can do.\n\n17\n00:00:53.930 --> 00:00:59.320\nSo, in setting up something like that you\nneed, well, a minimum of two NICs, right.\n\n18\n00:00:59.320 --> 00:01:02.720\nTwo interfaces, one so\nit can face outside to your ISP.\n\n19\n00:01:02.720 --> 00:01:07.040\nAnd one of course,\ninside to the LAN that you have available.\n\n20\n00:01:07.040 --> 00:01:08.830\nAnd on most small networks and\n\n21\n00:01:08.830 --> 00:01:11.140\nhome networks it's probably\ngonna be sufficient.\n\n22\n00:01:11.140 --> 00:01:14.910\nThat's all we'll really ever need to do,\nbut\n\n23\n00:01:14.910 --> 00:01:17.480\nwith that type of configuration though.\n\n24\n00:01:17.480 --> 00:01:22.551\nEspecially if you need to have resources\nthat are available to the public,\n\n25\n00:01:22.551 --> 00:01:27.299\nit becomes a little bit more challenging\nin this fact that what tends to\n\n26\n00:01:27.299 --> 00:01:28.598\nhappen is simple.\n\n27\n00:01:28.598 --> 00:01:31.045\nIs that you go, all right so here it is,\n\n28\n00:01:31.045 --> 00:01:34.847\nI got a web server that I need\nto make available to the public.\n\n29\n00:01:34.847 --> 00:01:38.849\nNow Daniel if I put that web\nserver inside on my LAN.\n\n30\n00:01:40.150 --> 00:01:45.078\nSince you or actually someone that starts\nto hack things very easily at times here\n\n31\n00:01:45.078 --> 00:01:48.510\nand helping us to understand\nmore about security.\n\n32\n00:01:48.510 --> 00:01:52.210\nDaniel me just having a web server on\nthe inside that expose out to the public,\n\n33\n00:01:52.210 --> 00:01:55.210\nwhat are just some of the potential\ndangers that can happen there?\n\n34\n00:01:55.210 --> 00:01:57.000\nNot only for that server but\nfor my network.\n\n35\n00:01:57.000 --> 00:02:01.260\n&gt;&gt; Total compromise, you're just\nasking for a trouble compromise.\n\n36\n00:02:01.260 --> 00:02:06.000\n&gt;&gt; Yeah, the very fact is, right, it could\nbe that not only does somebody just say,\n\n37\n00:02:06.000 --> 00:02:08.080\nlook, here's a web server available.\n\n38\n00:02:08.080 --> 00:02:11.350\nBut normally from that point, once they\ndo that, they start to explore around and\n\n39\n00:02:11.350 --> 00:02:12.790\ngo, you wanna know something?\n\n40\n00:02:12.790 --> 00:02:15.440\nI wonder if,\nif another server's available, and\n\n41\n00:02:15.440 --> 00:02:18.530\nthey just start to well,\nfigure out that there's more and\n\n42\n00:02:18.530 --> 00:02:22.570\nmore devices on your network\nwhen you do something like that.\n\n43\n00:02:22.570 --> 00:02:27.140\nAnd so even though their main attack focus\nmay be that web server at the beginning,\n\n44\n00:02:27.140 --> 00:02:28.790\nas they start exploration and\n\n45\n00:02:28.790 --> 00:02:32.610\nstart feeling out what your network\nis gonna be, they may find more\n\n46\n00:02:32.610 --> 00:02:36.980\nattacks that they can actually do as\nfar as the targets that they want.\n\n47\n00:02:36.980 --> 00:02:42.030\nSo something like that,\na simple type of configuration like that.\n\n48\n00:02:42.030 --> 00:02:45.860\nInside and outside,\nit may not be the best for your network.\n\n49\n00:02:45.860 --> 00:02:48.710\nEspecially if you need\nsomething like that, as well.\n\n50\n00:02:48.710 --> 00:02:53.320\nSo normally, then, what you might\nconsider is implementing what we\n\n51\n00:02:53.320 --> 00:02:57.800\ncall something like a DMZ,\nright, a demilitarized zone.\n\n52\n00:02:57.800 --> 00:03:00.150\nIt doesn't really matter\nwhat it's called today.\n\n53\n00:03:00.150 --> 00:03:05.120\nBut what we're simply saying is we may\nwant to consider another network to put\n\n54\n00:03:05.120 --> 00:03:08.140\nsomething like our web server into.\n\n55\n00:03:08.140 --> 00:03:13.150\nAnd then allow outside traffic\ncoming from the Internet to\n\n56\n00:03:13.150 --> 00:03:18.920\nhave access to that web server, but\nnot access inside of my LAN, okay.\n\n57\n00:03:18.920 --> 00:03:23.510\nAnd by doing that hopefully with someone\nlike Daniel on the other side if he\n\n58\n00:03:23.510 --> 00:03:26.580\nis trying to test and\nhelp me to understand this.\n\n59\n00:03:26.580 --> 00:03:31.244\nIt may give him access inside of that\nparticular network, but Daniel you chances\n\n60\n00:03:31.244 --> 00:03:34.885\nthough, of getting access inside of my\nLAN, probably not much as great, right?\n\n61\n00:03:34.885 --> 00:03:36.915\n&gt;&gt; Right, then it definitely\nmakes it more difficult.\n\n62\n00:03:36.915 --> 00:03:40.185\n&gt;&gt; Yeah, it makes it much more difficult\nand it allows us now to be able\n\n63\n00:03:40.185 --> 00:03:45.505\nto configure more, even more\nstringently than the entire network.\n\n64\n00:03:45.505 --> 00:03:48.865\nNow, we can talk about implementing\nfirewall rules just on the LAN, but\n\n65\n00:03:48.865 --> 00:03:51.255\nat the same time,\nit may actually apply to what.\n\n66\n00:03:51.255 --> 00:03:52.823\nTo the entire network as well.\n\n67\n00:03:52.823 --> 00:03:56.050\nSo we've gotta be very careful,\nand so there's a couple of things.\n\n68\n00:03:56.050 --> 00:03:59.590\nSo let's go ahead and take a look here\nat the scenario that I was describing.\n\n69\n00:03:59.590 --> 00:04:01.760\nSo here it is,\nthe one I was describing at the beginning.\n\n70\n00:04:01.760 --> 00:04:04.130\nWe put a web server over here.\n\n71\n00:04:04.130 --> 00:04:07.710\nBut remember, if they're already inside\nthey not only have access to that web\n\n72\n00:04:07.710 --> 00:04:12.060\nserver that I might have here, but also,\nof course, to the rest of the LAN.\n\n73\n00:04:12.060 --> 00:04:16.720\nSo something else that we may\nconsider is more like this,\n\n74\n00:04:16.720 --> 00:04:22.440\nwhere instead we allow for\nthe traffic from both sides here.\n\n75\n00:04:22.440 --> 00:04:25.370\nSo let me see if I can draw\nan arrow to help us out.\n\n76\n00:04:25.370 --> 00:04:29.248\nSo I want traffic to essentially\ngo from here to here.\n\n77\n00:04:32.880 --> 00:04:35.465\nIn this way, and\nlet me see if I can change that color so\n\n78\n00:04:35.465 --> 00:04:37.320\nthat we can see it a little bit better.\n\n79\n00:04:38.660 --> 00:04:42.580\nSo I want traffic to be able to\ngo from here into the DMZ to\n\n80\n00:04:42.580 --> 00:04:45.450\nget information that I need,\neven on the inside.\n\n81\n00:04:45.450 --> 00:04:52.540\nBut at the same time, I don't want traffic\nto actually go from, well, here to here.\n\n82\n00:04:52.540 --> 00:04:56.984\nThis is something I don't want, so\nI may want to block that instead.\n\n83\n00:05:00.705 --> 00:05:04.332\nSo this one I want to block, and\nlet's see if I can actually an x here.\n\n84\n00:05:07.921 --> 00:05:09.655\nJust giving me arrows of course.\n\n85\n00:05:09.655 --> 00:05:11.360\n&gt;&gt; [LAUGH]\n&gt;&gt; Why would it actually do something\n\n86\n00:05:11.360 --> 00:05:11.979\nthat I want it to do.\n\n87\n00:05:13.640 --> 00:05:14.895\nLet's see if I can duplicate that.\n\n88\n00:05:18.360 --> 00:05:21.689\nAnd we'll just spin that around,\nthere we go.\n\n89\n00:05:23.909 --> 00:05:30.127\nSo this is the one that I don't want to\nhappen, but I still want outside traffic,\n\n90\n00:05:30.127 --> 00:05:34.159\nof course, to be able also,\nwell to really go here.\n\n91\n00:05:39.738 --> 00:05:43.990\nSo here's a configuration that I\ncan really have in mind, right.\n\n92\n00:05:43.990 --> 00:05:48.270\nBy using the firewall in its place,\nand what we can have available for\n\n93\n00:05:48.270 --> 00:05:51.330\nus is to be able to set\nsomething up like this.\n\n94\n00:05:51.330 --> 00:05:56.380\nTo now where even if outside traffic comes\nin, we block it from getting to the LAN.\n\n95\n00:05:56.380 --> 00:06:00.580\nAnd even if they make it from\nthe outside into the DMZ that's fine.\n\n96\n00:06:00.580 --> 00:06:05.060\nBut then, I also need one more that I\nwanna block which of course is the DMZ,\n\n97\n00:06:05.060 --> 00:06:09.670\ntraffic originating from\nthe DMZ to come back over here.\n\n98\n00:06:09.670 --> 00:06:11.890\nI also wanna make sure\nthat I block that one too.\n\n99\n00:06:13.100 --> 00:06:17.290\nSo I can do something like this,\nAt least I think I can.\n\n100\n00:06:20.069 --> 00:06:22.516\nMaybe, let me see if I can\npress the right numbers.\n\n101\n00:06:22.516 --> 00:06:23.426\n&gt;&gt; It can't be done Ronnie.\n\n102\n00:06:23.426 --> 00:06:25.200\n&gt;&gt; I'm starting to think that.\n\n103\n00:06:27.882 --> 00:06:32.514\nSo as we start to see this that is also\nsomething else we want to be able to\n\n104\n00:06:32.514 --> 00:06:34.810\nblock as well, all right.\n\n105\n00:06:34.810 --> 00:06:36.530\nSo it does make a little bit of sense,\n\n106\n00:06:36.530 --> 00:06:41.050\nif I can actually put these in the right\nlocations and spin them around here.\n\n107\n00:06:41.050 --> 00:06:42.010\nSo that's really what we want,\n\n108\n00:06:42.010 --> 00:06:45.300\nwe wanna make sure that we get\nsomething like this to happen.\n\n109\n00:06:45.300 --> 00:06:51.290\nNow by doing this, right,\nit can be easily done inside of pfSense.\n\n110\n00:06:51.290 --> 00:06:55.450\nBut what if I only have two interfaces,\nright?\n\n111\n00:06:55.450 --> 00:06:58.738\nWell a firewall that has multiple\ninterfaces is simple, right Daniel?\n\n112\n00:06:58.738 --> 00:07:02.404\nI just simply put the DMZ on one of those\ninterfaces and then I put the LAN on\n\n113\n00:07:02.404 --> 00:07:06.571\nthe LAN interface, I put the LAN on the\nWAN interface, we're ready to go, okay.\n\n114\n00:07:06.571 --> 00:07:11.046\nSo at this point, it can be done but\neven with two interfaces,\n\n115\n00:07:11.046 --> 00:07:14.418\nwe can do the same thing if we choose to,\nokay.\n\n116\n00:07:14.418 --> 00:07:18.284\nSo let's see what we can actually\ndo inside of our network here or\n\n117\n00:07:18.284 --> 00:07:21.947\ninside of our firewall to help\nus to get this set-up, okay.\n\n118\n00:07:21.947 --> 00:07:26.164\nSo over here, there's a couple of things\nthat we need to begin with if we choose to\n\n119\n00:07:26.164 --> 00:07:27.849\ndo something like this, okay.\n\n120\n00:07:27.849 --> 00:07:31.690\nAnd I know this is strange,\nyou're looking at an Excel spreadsheet.\n\n121\n00:07:31.690 --> 00:07:36.660\nBut you really want to begin the idea of\nplanning this out if you really go, look,\n\n122\n00:07:36.660 --> 00:07:39.530\nI don't know how many networks I'm\ngonna be supporting in the future.\n\n123\n00:07:39.530 --> 00:07:42.410\nBut I need to start\ngetting a handle on this.\n\n124\n00:07:42.410 --> 00:07:45.350\nHaving set up the actual\npfSense firewalls for\n\n125\n00:07:45.350 --> 00:07:49.890\nthis network here along with Nate's\nhelp and everything that we did.\n\n126\n00:07:49.890 --> 00:07:53.180\nWe had a lot of IP addresses\nthat kept floating around and\n\n127\n00:07:53.180 --> 00:07:56.192\nall of a sudden we look and\ngo no why did we do that.\n\n128\n00:07:56.192 --> 00:07:59.390\nSo one of the things you wanna do is you\nwanna be able to keep track of that.\n\n129\n00:07:59.390 --> 00:08:03.951\nAnd my suggestion of course is right this\nstuff down while it's fresh in your mind.\n\n130\n00:08:03.951 --> 00:08:06.613\nDon't write it down after\na long day when you go crud,\n\n131\n00:08:06.613 --> 00:08:09.938\nI still have to write all this stuff down,\nstart at the beginning.\n\n132\n00:08:09.938 --> 00:08:12.262\nDaniel, the idea of planning and\n\n133\n00:08:12.262 --> 00:08:16.251\nkeeping documentation seems\nslow as anything, right?\n\n134\n00:08:16.251 --> 00:08:18.730\nIt's like molasses when you're\ntrying to write it down.\n\n135\n00:08:18.730 --> 00:08:21.800\nBut something that you kept\nemphasizing to me as well,\n\n136\n00:08:21.800 --> 00:08:26.170\nin other stuff that you do,\nis that slow is actually what?\n\n137\n00:08:26.170 --> 00:08:28.580\n&gt;&gt; Slow is smooth, and smooth is fast.\n\n138\n00:08:28.580 --> 00:08:29.290\nThat's right.\n\n139\n00:08:29.290 --> 00:08:31.980\nDocumenting is extremely important\nwhen it comes to your networking.\n\n140\n00:08:31.980 --> 00:08:36.380\nYou can't just go, well, yeah, it's that,\nwhat happens if it's not that?\n\n141\n00:08:36.380 --> 00:08:39.930\nWhat happens if someone hears\nyou tell it to them incorrectly.\n\n142\n00:08:39.930 --> 00:08:43.270\nOr you just forget cuz that never happens,\nright?\n\n143\n00:08:43.270 --> 00:08:47.700\nIt does happen all the time, make sure\nyou go through the documentation process,\n\n144\n00:08:47.700 --> 00:08:52.910\ntake the painstaking little time that\nit does take, yes it's time consuming.\n\n145\n00:08:52.910 --> 00:08:56.100\nBut in the long run,\nit's gonna help you out immensely\n\n146\n00:08:56.100 --> 00:09:00.930\nbecause you're not trying to guest what\nwas that interface's IP address again?\n\n147\n00:09:00.930 --> 00:09:03.140\nI can't remember what subnet they're on.\n\n148\n00:09:03.140 --> 00:09:06.800\nIt's all right there, you just look at the\ndocumentation and then, anybody that comes\n\n149\n00:09:06.800 --> 00:09:11.000\nafter you will thank you as well because\nthey're not born without knowledge.\n\n150\n00:09:11.000 --> 00:09:14.770\nThey need to assimilate at themselves,\nand there it is, right on the nice piece\n\n151\n00:09:14.770 --> 00:09:18.230\nof spreadsheet paper showing them\nexactly what that information is.\n\n152\n00:09:18.230 --> 00:09:21.180\nSo I'm a huge proponent of documentation,\nRonnie.\n\n153\n00:09:21.180 --> 00:09:23.290\n&gt;&gt; [LAUGH] It really helps\nat the very beginning.\n\n154\n00:09:23.290 --> 00:09:27.710\nSo even though it does help somebody\nelse out, as you are having to configure\n\n155\n00:09:27.710 --> 00:09:32.150\nthis and you're getting more and\nmore IP addresses handed to you and told,\n\n156\n00:09:32.150 --> 00:09:36.300\ndon't forget we needed to add this in here\nbecause this is what somebody else wanted.\n\n157\n00:09:36.300 --> 00:09:40.350\nWell, now it begins to become a little\nbit more impossible to track.\n\n158\n00:09:40.350 --> 00:09:43.080\nSo at the beginning, let's go ahead and\nset this up so that we can see this.\n\n159\n00:09:43.080 --> 00:09:45.710\nNow, I recommend at least two things here,\nokay.\n\n160\n00:09:45.710 --> 00:09:51.160\nNotice that I have the IP address, so\nI'm gonna do 209.251.131 and then I\n\n161\n00:09:51.160 --> 00:09:56.285\nsaid, 122, if I remember right,\nand this is gonna be a /24.\n\n162\n00:09:56.285 --> 00:09:59.470\nThough I need to kinda spread that out,\njust a little bit more here.\n\n163\n00:09:59.470 --> 00:10:01.910\nAnd then this idea of a description.\n\n164\n00:10:01.910 --> 00:10:05.382\nNow you may go,\ndo we really need to add a description in?\n\n165\n00:10:05.382 --> 00:10:11.460\nIn pfSense you may not want to do this,\nbut it's something that you should do.\n\n166\n00:10:11.460 --> 00:10:16.160\nAnd the reason why is that\npfSense has this innate ability\n\n167\n00:10:16.160 --> 00:10:20.360\nto take these descriptions and adamant\nplaces that is really helpful, okay?\n\n168\n00:10:20.360 --> 00:10:24.780\nSo if you go, okay this is the IP\naddress and you end up with two\n\n169\n00:10:24.780 --> 00:10:29.340\nWAN addresses because you said I\nneed two ISPs to failover, right?\n\n170\n00:10:29.340 --> 00:10:33.090\nWell, which ISP belong\nto which IP address?\n\n171\n00:10:33.090 --> 00:10:36.090\nNow it becomes a little bit\nmore challenging to track.\n\n172\n00:10:36.090 --> 00:10:39.820\nSo for me I might say this is my, nice so\n\n173\n00:10:39.820 --> 00:10:41.988\neven though I thought I made\nthis big enough for everything.\n\n174\n00:10:41.988 --> 00:10:44.965\n[LAUGH]\n&gt;&gt; You can' do it, Ronnie.\n\n175\n00:10:44.965 --> 00:10:47.150\n[LAUGH]\n&gt;&gt; Apparently I cannot actually do that.\n\n176\n00:10:48.950 --> 00:10:50.170\nThere we go.\n\n177\n00:10:50.170 --> 00:10:53.860\nI can say GRU ISP.\n\n178\n00:10:56.220 --> 00:10:57.590\nEven outside, or something like that.\n\n179\n00:10:57.590 --> 00:10:58.840\nSo let's just do that.\n\n180\n00:10:58.840 --> 00:11:01.580\nNow I like to do this with no spaces,\n\n181\n00:11:01.580 --> 00:11:05.340\nso using the underscore\nI can do that as well.\n\n182\n00:11:05.340 --> 00:11:09.910\nLater on, this is also gonna help\nyou in something that you're\n\n183\n00:11:09.910 --> 00:11:13.560\ngoing to really appreciate if you\nalways start at the very beginning\n\n184\n00:11:13.560 --> 00:11:16.550\nwhich is something that we call aliases,\nokay?\n\n185\n00:11:16.550 --> 00:11:21.000\nInside of pfSense,\naliases are of tremendous,\n\n186\n00:11:21.000 --> 00:11:25.690\ntremendous help, especially when you start\nimplementing things like firewall rules.\n\n187\n00:11:25.690 --> 00:11:27.650\nAnd we'll show you what we mean\nwhen we get to that point.\n\n188\n00:11:27.650 --> 00:11:30.190\nBut go ahead and\nstart doing that right now, okay?\n\n189\n00:11:30.190 --> 00:11:32.680\nWe'll at least help you out here.\n\n190\n00:11:32.680 --> 00:11:39.560\nSo this was 110.130, and this was,\nthis wasn't a /24, this was a /29 up here.\n\n191\n00:11:39.560 --> 00:11:43.180\nSee, I would have messed up\nalready at this point, and so\n\n192\n00:11:43.180 --> 00:11:44.690\nlet's just say that this is our LAN.\n\n193\n00:11:44.690 --> 00:11:52.090\nWell, apparently I did not, let me change\nthat entire column, fix that here.\n\n194\n00:11:52.090 --> 00:11:54.460\nAnd so this is just going to be my LAN.\n\n195\n00:11:54.460 --> 00:11:58.220\nAnd then I have another one\nwhich is gonna be my DMZ.\n\n196\n00:11:58.220 --> 00:12:02.870\nNow over here I can just\ndocument this as being my DMZ and\n\n197\n00:12:02.870 --> 00:12:05.270\nI know that I'm gonna put\nthis as optional one.\n\n198\n00:12:05.270 --> 00:12:07.420\nNow you may wonder what\nthe heck is optional one,\n\n199\n00:12:07.420 --> 00:12:10.570\nI'll show you in a moment when we\nconfigure inside the firewall.\n\n200\n00:12:10.570 --> 00:12:14.470\nAs we start to do this it will\nautomatically assign what we call\n\n201\n00:12:14.470 --> 00:12:18.100\na virtual interface if we don't have\nan actual physical interface there.\n\n202\n00:12:18.100 --> 00:12:21.700\nIt will say hey, this is an optional\ninterface that you're adding in.\n\n203\n00:12:21.700 --> 00:12:25.400\nSo I need to know where that's gonna be\nlocated so I'm gonna say this is my DMZ.\n\n204\n00:12:25.400 --> 00:12:31.050\nAnd at this point if you have\nan actual IP address to this,\n\n205\n00:12:31.050 --> 00:12:34.110\nyou wanna make sure that you put\nthis in there as well, okay.\n\n206\n00:12:34.110 --> 00:12:38.260\nNow for us even though normally what would\nbe great of course is another subset\n\n207\n00:12:38.260 --> 00:12:41.590\nof your public IP addresses but\nsince I don't have another one,\n\n208\n00:12:41.590 --> 00:12:45.120\nI'm just gonna us a private one for\nthis point instead.\n\n209\n00:12:45.120 --> 00:12:52.200\nI'm just gonna do 120.,\nlet's just do 100 here.\n\n210\n00:12:52.200 --> 00:12:58.348\nWe'll make this a /24 and\nthis is gonna be my DMZ here, okay?\n\n211\n00:12:58.348 --> 00:13:01.520\nAll right, now if I know that\nthere's other ones coming along,\n\n212\n00:13:01.520 --> 00:13:04.400\nI would go ahead and\nfill them in here, okay.\n\n213\n00:13:04.400 --> 00:13:05.530\nKeeping them consistent,\n\n214\n00:13:05.530 --> 00:13:08.730\nkeeping them the way that you want\nto see is pretty much the key.\n\n215\n00:13:08.730 --> 00:13:12.120\nLater on if you know that you can\nbe working on multiple firewalls,\n\n216\n00:13:12.120 --> 00:13:14.370\nmake sure you track them both.\n\n217\n00:13:14.370 --> 00:13:18.730\nAnd if you know in the future you're gonna\nalso be working with high availability,\n\n218\n00:13:18.730 --> 00:13:20.180\nmake sure you track all those.\n\n219\n00:13:20.180 --> 00:13:23.350\nNow this is where it becomes a little\nmore complex, we'll get into it.\n\n220\n00:13:23.350 --> 00:13:26.670\nBut you can see you're gonna need\na lot more extra IP addresses,\n\n221\n00:13:26.670 --> 00:13:29.130\nespecially the public ones,\nthan you think.\n\n222\n00:13:29.130 --> 00:13:33.760\nAt least another one rather\nthan just two that you have.\n\n223\n00:13:33.760 --> 00:13:36.430\nSo just kinda realize you\nneed to track these things.\n\n224\n00:13:36.430 --> 00:13:39.580\nAnd I do recommend that you go ahead,\nand you write them down.\n\n225\n00:13:39.580 --> 00:13:43.080\nWe have ours in something like this,\nlike a spreadsheet as well.\n\n226\n00:13:43.080 --> 00:13:46.500\nBut here's just an example, a little\nbit larger than what ours looks like.\n\n227\n00:13:46.500 --> 00:13:49.450\nBut this is so\nthat you can also see this on the screen.\n\n228\n00:13:49.450 --> 00:13:51.990\nSo now that you have these addresses,\nit's easier for\n\n229\n00:13:51.990 --> 00:13:54.490\nyou to refer to them right away.\n\n230\n00:13:54.490 --> 00:13:59.740\nAnd then also something like this,\na diagram will also help you out too.\n\n231\n00:13:59.740 --> 00:14:03.485\nSo if you need to, you can start\ntyping in the IP addresses and\n\n232\n00:14:03.485 --> 00:14:05.270\nwhich interface they gonna go.\n\n233\n00:14:05.270 --> 00:14:07.290\nPrint this thing out and\nas you are configuring it,\n\n234\n00:14:07.290 --> 00:14:11.360\nit logically helps you to remember,\nwhere things are actually going to be.\n\n235\n00:14:11.360 --> 00:14:14.650\nSo this is kind of a process that\nyou need to walk through, but\n\n236\n00:14:14.650 --> 00:14:20.320\nI think its a good process as we continue\non to take a look at configuration aspect.\n\n237\n00:14:20.320 --> 00:14:21.980\nSo let's take a look at our firewall then,\n\n238\n00:14:21.980 --> 00:14:27.680\nand we'll start with this idea\nof implementing a DMZ, okay?\n\n239\n00:14:27.680 --> 00:14:30.790\nSo if I only have these\ntwo interfaces here,\n\n240\n00:14:30.790 --> 00:14:36.110\nokay, well now I need to go in and\nconfigure this DMZ.\n\n241\n00:14:36.110 --> 00:14:39.000\nNow the problem is,\nwithout that third interface,\n\n242\n00:14:39.000 --> 00:14:44.830\nwell, I need to configure it and actually\ndo it in an unusual place, all right?\n\n243\n00:14:44.830 --> 00:14:47.150\nSo let's go ahead and\ntake a look at where we do this.\n\n244\n00:14:47.150 --> 00:14:50.760\nSo let me zoom in a little bit,\nand then I can click on,\n\n245\n00:14:52.460 --> 00:14:56.790\nlet me see it's actually firewalls here,\nor an interface so sorry.\n\n246\n00:14:56.790 --> 00:14:59.000\nI was getting mistaken here.\n\n247\n00:14:59.000 --> 00:15:02.260\nInterfaces and\nthen were it says assign, okay?\n\n248\n00:15:02.260 --> 00:15:04.420\nThat's the one that you want right here.\n\n249\n00:15:04.420 --> 00:15:08.760\nAnd once you select assign at this point,\nokay?\n\n250\n00:15:08.760 --> 00:15:15.030\nNow this is where you can go and notice\nit says, look, available network ports.\n\n251\n00:15:16.740 --> 00:15:21.390\nOkay, available network ports and\nat the bottom here,\n\n252\n00:15:22.710 --> 00:15:26.520\nI've got multiple options that\nare available to me, okay?\n\n253\n00:15:26.520 --> 00:15:31.206\nAnd that is because I wanna have my\nsetup additional network adapters\n\n254\n00:15:31.206 --> 00:15:36.210\nthat I can do this so another\nphysical adapters that are available.\n\n255\n00:15:36.210 --> 00:15:40.120\nSo if I had that,\nhere's how we would do it physically.\n\n256\n00:15:40.120 --> 00:15:47.560\nWe simply add in that third nick and now I\nclick Add and notice it shows up as OPT1.\n\n257\n00:15:47.560 --> 00:15:51.240\nNow the problem with OPT1 is simple,\nit doesn't make any sense,\n\n258\n00:15:51.240 --> 00:15:52.827\nit really doesn't, okay?\n\n259\n00:15:52.827 --> 00:15:57.080\nBut we're gonna use this for right now and\nI need to change the name of that, so\n\n260\n00:15:57.080 --> 00:15:58.463\nI click on OPT1, oops.\n\n261\n00:15:58.463 --> 00:16:00.398\nBefore I do that, let me save this.\n\n262\n00:16:00.398 --> 00:16:04.275\nLet me go back to that\nbefore I mess up here.\n\n263\n00:16:04.275 --> 00:16:05.164\nReally badly.\n\n264\n00:16:05.164 --> 00:16:08.830\nSometimes, you have the Save button,\nyou do need to make sure you save it.\n\n265\n00:16:10.820 --> 00:16:13.283\nAnd once everything is saved then\nwe can move on from that point.\n\n266\n00:16:13.283 --> 00:16:16.510\nAll right, so now that I have that,\nI'm gonna click on Op1.\n\n267\n00:16:16.510 --> 00:16:20.361\nAnd then I'm going to enable\nthis interface right here.\n\n268\n00:16:20.361 --> 00:16:23.635\nAnd here we'll change this to DMZ.\n\n269\n00:16:23.635 --> 00:16:28.883\nBasic configurations that we need of\ncourse are the static IP address.\n\n270\n00:16:31.266 --> 00:16:35.670\nAnd then we scroll down, and it's just\nlike working with another interface.\n\n271\n00:16:35.670 --> 00:16:39.122\nI've already forgotten\nwhat IP address I wanted.\n\n272\n00:16:39.122 --> 00:16:40.766\nSo I come back here to my spreadsheet.\n\n273\n00:16:40.766 --> 00:16:43.936\nI say 10.1.120,\n\n274\n00:16:43.936 --> 00:16:49.271\n.1.120., what did I say, 100.\n\n275\n00:16:51.385 --> 00:16:56.505\nAnd this is gonna be a /24\nis what that will be for us.\n\n276\n00:16:56.505 --> 00:17:01.876\nAnd then now I go ahead and\nI click Save, and I click Apply.\n\n277\n00:17:03.329 --> 00:17:06.666\nAll right, so in a moment,\nonce all the saves are actually there,\n\n278\n00:17:06.666 --> 00:17:10.432\nwe should see something else happening,\nif everything is going through.\n\n279\n00:17:10.432 --> 00:17:13.005\nAnd there it goes, everything was saved.\n\n280\n00:17:13.005 --> 00:17:17.350\nAnd now,\nwhat difference did it really make?\n\n281\n00:17:17.350 --> 00:17:20.200\nIf I click back on Interfaces now,\n\n282\n00:17:20.200 --> 00:17:24.250\nnotice that I have three\ndifferent interfaces here, okay?\n\n283\n00:17:24.250 --> 00:17:27.020\nThe DMZ, the LAN and\neverything else, right?\n\n284\n00:17:27.020 --> 00:17:31.970\nClick back on the sign you'll\nsee there it is, okay?\n\n285\n00:17:31.970 --> 00:17:36.090\nSo all three of those are now actually\nthree separate network adaptors that we\n\n286\n00:17:36.090 --> 00:17:37.910\ncan actually end up using.\n\n287\n00:17:37.910 --> 00:17:43.510\nAnd now we can go ahead and we can used\nas the way that we described it, okay?\n\n288\n00:17:43.510 --> 00:17:45.260\nNow, before we go on, right?\n\n289\n00:17:45.260 --> 00:17:49.213\nThere has to be for\nwhat we were talking about in our diagram,\n\n290\n00:17:49.213 --> 00:17:53.398\nthis ability here to kind of a lot\ntraffic, we have to go ahead and\n\n291\n00:17:53.398 --> 00:17:57.065\nset up some default or\nsome different rules on the side.\n\n292\n00:17:57.065 --> 00:17:59.700\nNow we actually have another\nshow where we'll come back and\n\n293\n00:17:59.700 --> 00:18:01.960\nwe'll actually set up all those rules.\n\n294\n00:18:01.960 --> 00:18:04.520\nBut just realize that\nyou're not completely done.\n\n295\n00:18:04.520 --> 00:18:09.550\nBy me just implementing this right here,\neverything that's kind of wide out in\n\n296\n00:18:09.550 --> 00:18:16.140\nthe open, except for, well the default\nrule, which blocks all traffic coming in.\n\n297\n00:18:16.140 --> 00:18:19.290\nSo right now, everything from\nthe LAN can get access to the DMZ.\n\n298\n00:18:19.290 --> 00:18:23.160\nEverything from the DMZ can get access\nout to the MNET as well as to LAN.\n\n299\n00:18:23.160 --> 00:18:25.930\nLAN can get access out as well, okay?\n\n300\n00:18:25.930 --> 00:18:32.130\nSo there is a bit more that has to be\nconfigured here as we start to play,\n\n301\n00:18:32.130 --> 00:18:37.060\nI say play around,\nstart to configure our interfaces here\n\n302\n00:18:37.060 --> 00:18:41.360\nin the firewall rules that\nwe'll need to have in place.\n\n303\n00:18:41.360 --> 00:18:45.640\nSo once you have that, I'm gonna\nclick on Firewall and then Rules.\n\n304\n00:18:45.640 --> 00:18:50.590\nWe're not gonna configure them right now,\nbut I want you to see what happens, okay.\n\n305\n00:18:50.590 --> 00:18:52.990\nSo once we're actually over\nhere in the firewall rules,\n\n306\n00:18:52.990 --> 00:18:55.420\nnotice that you have four\ndifferent options here.\n\n307\n00:18:55.420 --> 00:18:59.680\nFloating, WAN, LAN, and DMZ, okay?\n\n308\n00:18:59.680 --> 00:19:03.400\nNow, here in the WAN it\nhas these default rules.\n\n309\n00:19:03.400 --> 00:19:06.480\nHere in the LAN it has\nthese default rules.\n\n310\n00:19:06.480 --> 00:19:10.590\nIn the DMZ, notice that there's\nnothing currently defined here.\n\n311\n00:19:10.590 --> 00:19:14.700\nSo we'll need to go back in and\ndefine the rules that we have for\n\n312\n00:19:14.700 --> 00:19:19.640\nthis particular DMZ as well, to make\nsure that we have everything up and\n\n313\n00:19:19.640 --> 00:19:21.860\navailable in what we need, okay.\n\n314\n00:19:22.930 --> 00:19:24.340\nAll right, so\n\n315\n00:19:24.340 --> 00:19:29.720\nlet's talk about the idea of working with\nVLANs at least just briefly here, okay.\n\n316\n00:19:29.720 --> 00:19:33.300\nNow Daniel, on a firewall, okay.\n\n317\n00:19:33.300 --> 00:19:35.770\nLet me just think about\nsomething like this.\n\n318\n00:19:35.770 --> 00:19:39.147\nWhat if I had 20 different networks and\n\n319\n00:19:39.147 --> 00:19:43.529\nI still needed them to have\nfirewall access, okay?\n\n320\n00:19:43.529 --> 00:19:49.080\nAnd my pfSense one only\nhas four network adaptors.\n\n321\n00:19:49.080 --> 00:19:53.270\nSo, do you think that I might\nbe able to build just a regular\n\n322\n00:19:53.270 --> 00:19:55.990\nPC with 20 NICs in it, and be okay?\n\n323\n00:19:55.990 --> 00:20:00.750\n&gt;&gt; That would be a massive undertaking,\nan interesting undertaking.\n\n324\n00:20:00.750 --> 00:20:03.310\nI suppose it would be possible.\n\n325\n00:20:03.310 --> 00:20:07.030\nProbably not probable for\nyou to wanna do something like that\n\n326\n00:20:08.090 --> 00:20:10.860\nI'm guessing you're gonna wanna go the way\nof, like we've been talking about, VLANs,\n\n327\n00:20:10.860 --> 00:20:13.190\nand hen something, like,\nthe virtual interfaces as well?\n\n328\n00:20:13.190 --> 00:20:13.730\n&gt;&gt; Exactly.\n\n329\n00:20:13.730 --> 00:20:15.680\nThat's what we'll have to do, right?\n\n330\n00:20:15.680 --> 00:20:20.490\nEven if you go to Cisco, right,\nyou can probably find some super high-end\n\n331\n00:20:20.490 --> 00:20:25.970\nASAs that are out there, that would\nhave 36 ports, 48 ports, and do that.\n\n332\n00:20:25.970 --> 00:20:30.712\nWell, usually inside of a PC,\nyou don't even have that many adaptors-\n\n333\n00:20:30.712 --> 00:20:31.293\n&gt;&gt; Slots, yeah.\n\n334\n00:20:31.293 --> 00:20:32.330\n&gt;&gt; Yeah, slots,\nin order to be able to do that.\n\n335\n00:20:32.330 --> 00:20:36.570\nYou might be able to find a four port,\nthat goes into one slot.\n\n336\n00:20:36.570 --> 00:20:37.820\nBut at the same time,\n\n337\n00:20:37.820 --> 00:20:41.560\nyou might find out that there's\na limitation that you have available.\n\n338\n00:20:41.560 --> 00:20:43.320\nWell the same thing with pfSense then.\n\n339\n00:20:43.320 --> 00:20:46.110\nThere comes a point in which you\ngo there's just not that many.\n\n340\n00:20:46.110 --> 00:20:49.500\nNow they do sell some high end\nones that have I think six or,\n\n341\n00:20:49.500 --> 00:20:53.960\nI think six is the one that I see, and\nmaybe even eight, and maybe even more.\n\n342\n00:20:53.960 --> 00:20:58.130\nBut at the same time,\nwhat you want to do instead is understand\n\n343\n00:20:58.130 --> 00:21:02.110\nhow the VLANs ended up working and\nhow we're going to do this, okay.\n\n344\n00:21:02.110 --> 00:21:05.168\nWhat it supports is what\nwe call VLAN tagging,\n\n345\n00:21:05.168 --> 00:21:11.236\n802.1 is what we have here,\n.1q is the idea of VLAN tagging, okay.\n\n346\n00:21:11.236 --> 00:21:14.620\nSo well,\nthe pfSense firewall supports that, and\n\n347\n00:21:14.620 --> 00:21:20.460\nas long as you have NICs that support it,\nand switches that support it,\n\n348\n00:21:20.460 --> 00:21:24.350\nthen you can also use VLANs to connect and\n\n349\n00:21:24.350 --> 00:21:28.230\nactually be able to do\nthis with your firewall.\n\n350\n00:21:28.230 --> 00:21:32.280\nSo it's very important because\neven though most switches today,\n\n351\n00:21:32.280 --> 00:21:37.210\nthat you tend to buy, except for the ones\nyou buy at a regular store that just has.\n\n352\n00:21:37.210 --> 00:21:38.491\nIt doesn't give you\nthe ability to configure VLANs.\n\n353\n00:21:38.491 --> 00:21:41.018\nIf you see a thing where it\ndoesn't support VLAN tagging\n\n354\n00:21:41.018 --> 00:21:43.050\nthen you're out of the game here.\n\n355\n00:21:43.050 --> 00:21:47.720\nBut overall though, if you end up buying a\nport, a switch that has 24 ports or more,\n\n356\n00:21:47.720 --> 00:21:51.860\nit's probably gonna support VLAN\ntagging at least in this day and age.\n\n357\n00:21:51.860 --> 00:21:56.150\nIf you do run across one in which it\ndoesn't support it they probably took your\n\n358\n00:21:56.150 --> 00:21:59.370\nmoney and you didn't realize it,\nthat they took your money.\n\n359\n00:21:59.370 --> 00:22:01.740\nBut it should at least support that today.\n\n360\n00:22:01.740 --> 00:22:05.680\nSo the idea of VLANs of course allow\nus to separate out multiple LANs, and\n\n361\n00:22:05.680 --> 00:22:09.530\nour firewall can handle that\ntype of traffic as well.\n\n362\n00:22:09.530 --> 00:22:13.220\nSo if we now have a limitation,\nlet's say of three physical and\n\n363\n00:22:13.220 --> 00:22:17.380\nnetwork adaptors, I'm gonna take\nthe one with the DMZ at this point.\n\n364\n00:22:17.380 --> 00:22:19.620\nAnd I'm gonna subdivide it,\nis what I'm going to do.\n\n365\n00:22:19.620 --> 00:22:23.796\nAnd we're gonna support multiple LANs\ninstead, is what we're gonna do, or\n\n366\n00:22:23.796 --> 00:22:26.820\nmultiple DMZs,\nhowever you want to change it.\n\n367\n00:22:26.820 --> 00:22:28.530\nSo we can do this as well.\n\n368\n00:22:28.530 --> 00:22:31.280\nSo let's go ahead and\nshow you how to do that.\n\n369\n00:22:31.280 --> 00:22:35.480\nSo if I go back in to Interfaces and\nI select Assign,\n\n370\n00:22:35.480 --> 00:22:39.130\nthis time I'm not gonna add in\nan additional network adapter.\n\n371\n00:22:39.130 --> 00:22:41.750\nI can, I do have the physical resources.\n\n372\n00:22:41.750 --> 00:22:46.020\nBut just to show you the idea of\nthe VLANs working, this is where we go.\n\n373\n00:22:46.020 --> 00:22:48.270\nAnd now up at the top we\nhave interface assignments.\n\n374\n00:22:48.270 --> 00:22:55.120\nWe select VLANs, and inside of\nthe VLANs here, I can click the Add.\n\n375\n00:22:55.120 --> 00:22:58.810\nAnd now, notice that it's asking\nme what the parent interface is.\n\n376\n00:22:58.810 --> 00:23:02.420\nSo which interface am I\ntrying to divide up here?\n\n377\n00:23:02.420 --> 00:23:04.680\nWell, I'm going to select the drop down.\n\n378\n00:23:04.680 --> 00:23:07.890\nRemember how I told you that\nthose descriptions are important.\n\n379\n00:23:07.890 --> 00:23:09.430\nAnd notice this one says, OPT1.\n\n380\n00:23:09.430 --> 00:23:13.030\nNow I did change that to DMZ but\nthis one doesn't look like it took but\n\n381\n00:23:13.030 --> 00:23:14.980\nI know that this is the one\nI want to divide up.\n\n382\n00:23:14.980 --> 00:23:18.470\nSo I'm gonna select OPT1\nat this point here.\n\n383\n00:23:18.470 --> 00:23:22.560\nAnd now I want to make sure that I\nknow what my VLAN tag is going to be.\n\n384\n00:23:22.560 --> 00:23:29.390\nNow, so I can actually do this and let's\njust make it, I'll make it 10 right now,\n\n385\n00:23:29.390 --> 00:23:35.140\nand we'll call this one Marketing\nif we wanted to and click Save.\n\n386\n00:23:35.140 --> 00:23:37.900\nAnd then, I'm gonna click on Add and\n\n387\n00:23:37.900 --> 00:23:41.760\nwe'll just do the same thing,\nwhere I select the same interface.\n\n388\n00:23:41.760 --> 00:23:46.849\nAnd now I'm gonna do VLAN 20 and\nwe'll call this one Development.\n\n389\n00:23:49.768 --> 00:23:52.498\nNow, I can continue all the way down.\n\n390\n00:23:52.498 --> 00:23:57.145\nI can have as many VLANs as I want to,\nto be able to do this.\n\n391\n00:23:57.145 --> 00:24:00.484\nNow, there does comes a point\nin terms of performance, right?\n\n392\n00:24:00.484 --> 00:24:03.460\nThe more VLANs that you have,\nthe more it's gonna split that interface,\n\n393\n00:24:03.460 --> 00:24:05.146\nthe less performance you're gonna get.\n\n394\n00:24:05.146 --> 00:24:09.367\nSo their is a limitation,\nI don't know what that limitation is but\n\n395\n00:24:09.367 --> 00:24:12.121\nwe can stick right here in this point two,\nokay.\n\n396\n00:24:12.121 --> 00:24:15.002\nSo now that I have created those VLANs,\nright,\n\n397\n00:24:15.002 --> 00:24:17.930\nthey are not assigned to any interface.\n\n398\n00:24:17.930 --> 00:24:23.080\nSo that means now I need to go back\nover here to interface assignments.\n\n399\n00:24:23.080 --> 00:24:26.650\nAnd now notice it says hey,\nyou've only got these three.\n\n400\n00:24:26.650 --> 00:24:29.970\nWell remember that I have\nthese available network ports.\n\n401\n00:24:29.970 --> 00:24:33.510\nSo now if I click on this\ndrop down you can see where\n\n402\n00:24:35.360 --> 00:24:38.460\nit is important that we actually\nadd in those descriptions, right?\n\n403\n00:24:38.460 --> 00:24:40.864\nSo here's the one VLAN 10 for marketing.\n\n404\n00:24:40.864 --> 00:24:44.093\nLet me see if I I select that,\nclick add and\n\n405\n00:24:44.093 --> 00:24:47.800\nthen I continue to add in\nall the ones I created.\n\n406\n00:24:49.500 --> 00:24:50.390\nAnd I add those in.\n\n407\n00:24:52.080 --> 00:24:56.320\nAnd now that I've added those in,\nthey can now be assigned in the same way.\n\n408\n00:24:56.320 --> 00:24:57.086\nSo I click on op 2.\n\n409\n00:24:57.086 --> 00:24:59.710\nI enable the interface.\n\n410\n00:25:01.040 --> 00:25:02.800\nThis one I call marketing.\n\n411\n00:25:02.800 --> 00:25:04.660\nNow, I'm not going to\nassign the IP addresses.\n\n412\n00:25:04.660 --> 00:25:06.450\nYou've seen how an IP address is assigned.\n\n413\n00:25:06.450 --> 00:25:08.370\nYou don't need me to assign that.\n\n414\n00:25:08.370 --> 00:25:09.490\nBut you'd go down.\n\n415\n00:25:09.490 --> 00:25:12.030\nYou'd click Save here and Apply.\n\n416\n00:25:14.310 --> 00:25:17.540\nAnd once those changes are applied we're\ngonna do the same thing with the other one\n\n417\n00:25:17.540 --> 00:25:20.830\nand you end up seeing that now\nwe'll have a configuration here.\n\n418\n00:25:23.250 --> 00:25:26.390\nSo now I go back to interfaces and\nassign one more time.\n\n419\n00:25:28.520 --> 00:25:29.640\nI don't even need to do that.\n\n420\n00:25:29.640 --> 00:25:30.313\nI just need to do opt3 here.\n\n421\n00:25:30.313 --> 00:25:32.720\nI forgot I had already assigned it.\n\n422\n00:25:32.720 --> 00:25:34.770\nAnd then we're going to call this one,\nwhat did I say, development?\n\n423\n00:25:38.030 --> 00:25:38.710\nIf I can spell it.\n\n424\n00:25:40.880 --> 00:25:43.560\nAnd once again, you'd put IP addresses.\n\n425\n00:25:43.560 --> 00:25:47.180\nYou normally wouldn't do this without\nputting the IP addresses down.\n\n426\n00:25:47.180 --> 00:25:51.160\nBecause what's gonna happen right, is that\nthese interfaces essentially will become\n\n427\n00:25:51.160 --> 00:25:56.380\nthe default gateway for\nyour development as well as for\n\n428\n00:25:56.380 --> 00:26:01.280\nyour marketing, as well as for\nyour DMZ, whatever it might be.\n\n429\n00:26:01.280 --> 00:26:03.860\nAnd so\nyou of course would normally do that.\n\n430\n00:26:03.860 --> 00:26:05.220\nThen when I go to interfaces,\n\n431\n00:26:05.220 --> 00:26:09.210\nnow notice that I have all\nthese options available to me.\n\n432\n00:26:09.210 --> 00:26:10.450\nSo there's my development.\n\n433\n00:26:10.450 --> 00:26:13.670\nMy DMZ, my MARKETING, everything.\n\n434\n00:26:13.670 --> 00:26:17.730\nAnd I only have three physical interfaces\nbut according to this I have one,\n\n435\n00:26:17.730 --> 00:26:22.910\ntwo, three, four, five different\nnetworks that I can support.\n\n436\n00:26:22.910 --> 00:26:24.600\nNow, when you do something like this,\n\n437\n00:26:24.600 --> 00:26:30.320\nright you do have to pay attention to some\nof the things that it may cause here, too.\n\n438\n00:26:30.320 --> 00:26:33.880\nSo there's some,\nI don't want to call them bugs, but\n\n439\n00:26:33.880 --> 00:26:37.630\nI do want to actually warn you on\njust a couple of things, okay?\n\n440\n00:26:37.630 --> 00:26:40.534\nWhen you start adding in\nVLANs to interfaces, and\n\n441\n00:26:40.534 --> 00:26:44.906\nyou already have an IP address, or\nyou're using the physical interface.\n\n442\n00:26:44.906 --> 00:26:46.451\nIt can cause some issues,\n\n443\n00:26:46.451 --> 00:26:51.300\nand I've actually seen this one happen\nright here on our ITPro.TV network when we\n\n444\n00:26:51.300 --> 00:26:54.480\nwere setting it all up and,\nwhy isn't this working?\n\n445\n00:26:54.480 --> 00:26:55.070\nIt's not working.\n\n446\n00:26:55.070 --> 00:26:58.360\nIt's because I tried to do exactly this.\n\n447\n00:26:58.360 --> 00:27:01.090\nThis is where a virtual\nenvironment doesn't help you out.\n\n448\n00:27:01.090 --> 00:27:06.050\nI know it's strange but I had configured\neverything in the virtual environment and\n\n449\n00:27:06.050 --> 00:27:09.290\ntested it and everything was working\nthe way that I wanted it to.\n\n450\n00:27:09.290 --> 00:27:12.730\nI put it on the real hardware and\nI was like,\n\n451\n00:27:12.730 --> 00:27:15.660\nI don't see the networks\nthat you're configuring.\n\n452\n00:27:15.660 --> 00:27:18.400\nWe had VLANs,\nwe had everything up and going.\n\n453\n00:27:18.400 --> 00:27:21.860\nAnd then I realized something, after doing\na little bit of search in the forums.\n\n454\n00:27:21.860 --> 00:27:25.132\nThat they recommend that on the parent\ninterface, you don't configure it at all.\n\n455\n00:27:25.132 --> 00:27:29.430\nSo here's a weird thing that you\nactually end up seeing here.\n\n456\n00:27:29.430 --> 00:27:33.840\nSo let's say that we go look,\nwe don't want this DMZ here.\n\n457\n00:27:33.840 --> 00:27:38.230\nWell I can simply delete\nthe actual physical interface.\n\n458\n00:27:38.230 --> 00:27:42.140\nAnd notice that that still leaves\nthose virtual interfaces right there.\n\n459\n00:27:42.140 --> 00:27:44.520\nSo, if I go back to\ninterface notice it's gone,\n\n460\n00:27:44.520 --> 00:27:47.920\nbut I can still click on development and\nit still sees it.\n\n461\n00:27:47.920 --> 00:27:52.020\nSo it's not dependent, the configuration\nis not dependent on the physical interface\n\n462\n00:27:52.020 --> 00:27:54.140\nthe physical interface is already there.\n\n463\n00:27:54.140 --> 00:27:58.010\nNow there is some switch\nconfiguration that you have to do.\n\n464\n00:27:58.010 --> 00:28:01.669\nAnd that is when you have to understand a\nlittle bit more about the VLAN assignments\n\n465\n00:28:01.669 --> 00:28:02.794\ninside of the switches.\n\n466\n00:28:02.794 --> 00:28:06.379\nAnd the other thing that\nyou have to make sure of,\n\n467\n00:28:06.379 --> 00:28:12.630\nof course is the switch that the switch\nthat you plug this interface into okay.\n\n468\n00:28:12.630 --> 00:28:18.400\nIt is gonna be a trunk link between\nthat interface that you have and\n\n469\n00:28:18.400 --> 00:28:22.220\nthe switch that's gonna be\nholding those VLANs, right?\n\n470\n00:28:22.220 --> 00:28:24.390\nSo you wanna make sure\nthat you understand that.\n\n471\n00:28:24.390 --> 00:28:27.354\nNow, if you go Ronnie,\nare you gonna show us that?\n\n472\n00:28:27.354 --> 00:28:30.980\nNo, if you wanna see it on\nthe Cisco side you can go ahead and\n\n473\n00:28:30.980 --> 00:28:35.431\nyou can see that there in some of our\nCisco shows that we have available.\n\n474\n00:28:35.431 --> 00:28:38.501\nWhere we talk about the idea\nof 802.1 trunking and\n\n475\n00:28:38.501 --> 00:28:42.400\nyou'll actually be able to see\nthe way that that's set up.\n\n476\n00:28:42.400 --> 00:28:44.870\nBut do remember that that\nhas to be a trunk link.\n\n477\n00:28:44.870 --> 00:28:47.860\nAnd then you have to have, of course,\nthe matching VLAN numbers.\n\n478\n00:28:47.860 --> 00:28:51.770\nSo if you go on the switch,\nI configured it for VLAN 120 and not 20,\n\n479\n00:28:51.770 --> 00:28:52.840\nit's not gonna work.\n\n480\n00:28:52.840 --> 00:28:55.570\nIt has to actually be\nthe same on both sides.\n\n481\n00:28:55.570 --> 00:28:56.940\nSo make sure you do that.\n\n482\n00:28:56.940 --> 00:28:59.846\nAnd make sure you, of course, have those\nports the way that they need to be.\n\n483\n00:28:59.846 --> 00:29:03.820\nWithin those VLANs as well, and\nthen you'll be able to do that.\n\n484\n00:29:03.820 --> 00:29:08.410\nThe way that we have it right here at\nITPro.TV it really has helped us out,\n\n485\n00:29:08.410 --> 00:29:12.330\nbecause we ended up with eight or\nnine different networks, but\n\n486\n00:29:12.330 --> 00:29:16.590\nwe only had six network adapters\non the actual firewalls.\n\n487\n00:29:16.590 --> 00:29:19.160\nSo we had to go ahead and\nwe combined one of those,\n\n488\n00:29:19.160 --> 00:29:21.500\nand we split them off into VLANs.\n\n489\n00:29:21.500 --> 00:29:25.402\nSo It allows us to be able to add in\na few more support in that sense for\n\n490\n00:29:25.402 --> 00:29:28.000\nsome of the other things\nthat we were doing.\n\n491\n00:29:28.000 --> 00:29:32.888\nAnd it worked very well at this\npoint with no configurations on\n\n492\n00:29:32.888 --> 00:29:36.500\nthe actual physical interface itself.\n\n493\n00:29:36.500 --> 00:29:40.190\nWe're actually ready to go at\nthat point so just realize that\n\n494\n00:29:40.190 --> 00:29:44.710\nyou don't have to have as many\nnetwork adapters as you do networks.\n\n495\n00:29:44.710 --> 00:29:49.240\nIf you wanna be able to configure them,\nyou can use that combination of VLANs\n\n496\n00:29:49.240 --> 00:29:52.960\nalong with understanding, of course,\nhow VLANs work on the switch side.\n\n497\n00:29:52.960 --> 00:29:54.086\nAnd you're off and you're ready to go.\n\n498\n00:29:54.086 --> 00:29:58.151\nOf course, if you have physical\nnetwork adapters on your firewall,\n\n499\n00:29:58.151 --> 00:30:00.265\nyou can also configure it that way.\n\n500\n00:30:00.265 --> 00:30:01.635\nIf you have a limitation,\n\n501\n00:30:01.635 --> 00:30:05.650\nit will only be the space that you\nhave available inside of that box.\n\n502\n00:30:05.650 --> 00:30:10.410\nSo just kinda realize, pfSense is willing\nto grow as much as you can throw at it.\n\n503\n00:30:10.410 --> 00:30:14.650\nBut if you grow beyond that need,\nyou have the ability to create VLANs and\n\n504\n00:30:14.650 --> 00:30:17.860\nthen create these virtual interfaces,\nand they are off and ready to go.\n\n505\n00:30:17.860 --> 00:30:20.670\n&gt;&gt; All right,\nwell now thanks to Ronnie here.\n\n506\n00:30:20.670 --> 00:30:25.500\nWe know how we can use our box to\nsupport multiple LANs on our network,\n\n507\n00:30:25.500 --> 00:30:29.220\neven if we don't have the physical\ninner phases as they were.\n\n508\n00:30:29.220 --> 00:30:32.167\nThank you so much for the Ronnie,\nthat is great news, we can use,\n\n509\n00:30:32.167 --> 00:30:34.280\nhopeful you guys got a lot out of that.\n\n510\n00:30:34.280 --> 00:30:38.204\nThat being said,looking at our clock it\nlooks like we've ran out of time, for\n\n511\n00:30:38.204 --> 00:30:39.760\nthis episode.\n\n512\n00:30:39.760 --> 00:30:43.102\nSo thanks for watching us today,\nwe're gonna go and sign off for ITPRO.TV.\n\n513\n00:30:43.102 --> 00:30:44.751\nI've been your host, Daniel Lowrie.\n\n514\n00:30:44.751 --> 00:30:45.390\n&gt;&gt; And I'm Ronnie Wong.\n\n515\n00:30:45.390 --> 00:30:46.624\n&gt;&gt; And we'll see you next time.\n\n516\n00:30:46.624 --> 00:30:54.139\n[MUSIC]\n\n517\n00:30:54.139 --> 00:30:56.561\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "195800728"
        }
      ],
      "title": "Install and Prepare pfSense"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Ronnie explore how to configure WAN rules in your pfSense firewall. Here you will learn about policy-based firewall rules, (implicit deny vs implicit allow), rule order/logic, why you would need to disables a rule, and a demonstration of an allow rule on a WAN interface.",
          "length": "1996",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-1-1-configure_firewall_rules-121316.00_33_07_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-1-1-configure_firewall_rules-121316.00_33_07_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-1-1-configure_firewall_rules-121316.00_33_07_27.Still001-sm.jpg",
          "title": "Configure WAN Firewall Rules",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:06.418\nWelcome to ITPRO.TV,\nI'm your host [CROSSTALK]\n\n2\n00:00:06.418 --> 00:00:08.361\n[MUSIC]\n\n3\n00:00:08.361 --> 00:00:12.482\n&gt;&gt; Your watching ITPRO.TV.\n\n4\n00:00:12.482 --> 00:00:14.290\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:14.290 --> 00:00:16.947\nwelcome to another exciting\nepisode of ITPRO.TV.\n\n6\n00:00:16.947 --> 00:00:19.851\nI'm your host Daniel Lowrie and\ntoday's episode, well,\n\n7\n00:00:19.851 --> 00:00:24.130\nwe're back with more of our pfSense\nseries and remember that's version 2.3.2.\n\n8\n00:00:24.130 --> 00:00:28.290\nAnd joining us back in the studio again to\nlend a little more of that knowledge to us\n\n9\n00:00:28.290 --> 00:00:30.700\nso we might partake,\nour good friend Mr. Ronnie Wong.\n\n10\n00:00:30.700 --> 00:00:31.540\nRonnie, welcome back sir.\n\n11\n00:00:31.540 --> 00:00:32.240\nHow's it going?\n\n12\n00:00:32.240 --> 00:00:35.170\n&gt;&gt; It's going great, thank you for having\nme back on the show, as we continue to\n\n13\n00:00:35.170 --> 00:00:40.280\nmove forward into the world of configuring\nsome different firewall rules.\n\n14\n00:00:40.280 --> 00:00:43.380\nNow, you may hear the term,\nfilters, rules,\n\n15\n00:00:43.380 --> 00:00:46.790\neither one, they, kinda the same\nthing that we're talking about.\n\n16\n00:00:46.790 --> 00:00:51.270\nWe're gonna talk about the idea of WAN\nrules first, and then, in another episode,\n\n17\n00:00:51.270 --> 00:00:55.880\nwe'll talk about, also,\nthe idea of configuring the LAN rules too.\n\n18\n00:00:55.880 --> 00:01:00.390\nSo, of course, it means that we have\nto know a little bit about the basics\n\n19\n00:01:00.390 --> 00:01:01.960\nof setting up firewall rules.\n\n20\n00:01:01.960 --> 00:01:06.420\nNow this will normally apply regardless of\nwhether you're talking about pfSense or\n\n21\n00:01:06.420 --> 00:01:10.563\nany other firewall that as you start\nconfiguring these rules you can really get\n\n22\n00:01:10.563 --> 00:01:14.893\nto a point where you can lock yourself out\nof the firewall if you're not careful suo\n\n23\n00:01:14.893 --> 00:01:18.379\nyou wanna make sure that you\nunderstand at least the basics here.\n\n24\n00:01:18.379 --> 00:01:21.488\nSo we're gonna go over a little\nbit of the best practices or\n\n25\n00:01:21.488 --> 00:01:24.534\nthe concepts that you need to\nmake sure you understand and\n\n26\n00:01:24.534 --> 00:01:29.100\nthen we're going to go into our pfSense\nfirewall, and also configure that.\n\n27\n00:01:29.100 --> 00:01:31.910\n&gt;&gt; Now I've done some reconfiguration\nsince our last episode,\n\n28\n00:01:31.910 --> 00:01:34.450\nand you might be wondering,\nwhy in the world would you do that now?\n\n29\n00:01:34.450 --> 00:01:38.550\nIt's because I needed to get\naccess outside of our network\n\n30\n00:01:39.820 --> 00:01:43.530\nthat I had here,\nwhich was just confined to my desktop.\n\n31\n00:01:43.530 --> 00:01:46.930\nSo I needed to reconfigure that to make\neverything work the way that we needed to.\n\n32\n00:01:46.930 --> 00:01:49.970\nThat way we could verify that\nthe rules are actually going to\n\n33\n00:01:49.970 --> 00:01:52.300\nhelp us to do what we need to, okay?\n\n34\n00:01:52.300 --> 00:01:57.200\nSo when we start talking about\nthe idea of using firewall rules,\n\n35\n00:01:57.200 --> 00:02:02.150\nokay, there are normally two types\nof default profiles that we have and\n\n36\n00:02:02.150 --> 00:02:06.630\nit really does depend on the interfaces\nthat we see as we come up here.\n\n37\n00:02:06.630 --> 00:02:08.890\nSo let's go ahead and\ntake a look at my screen.\n\n38\n00:02:08.890 --> 00:02:11.600\nAnd we're going back to the same\nbasic diagram here, and\n\n39\n00:02:11.600 --> 00:02:13.330\nthis time this has changed up.\n\n40\n00:02:13.330 --> 00:02:16.020\nSo I'm not gonna worry about what this\nis but we'll just call it outside at\n\n41\n00:02:17.130 --> 00:02:21.000\nthis point, and\nthen we'll call this one inside of course.\n\n42\n00:02:21.000 --> 00:02:25.130\nSo we're not so worried about the IP\naddresses in terms of the rules right now.\n\n43\n00:02:25.130 --> 00:02:28.490\nAnd later on, as you configure more and\nmore rules inside of pfSense\n\n44\n00:02:28.490 --> 00:02:32.750\nyou'll see that the idea of actually\nusing interfaces or even names and\n\n45\n00:02:32.750 --> 00:02:36.980\naliases are gonna become more important\nthan remembering the IP addresses\n\n46\n00:02:36.980 --> 00:02:39.420\nif you have them all configured correctly.\n\n47\n00:02:39.420 --> 00:02:43.220\nSo when we start to talk about\nthe rules that are implemented,\n\n48\n00:02:43.220 --> 00:02:48.340\nby default when you install\npfSense firewall onto your device\n\n49\n00:02:48.340 --> 00:02:51.650\nyou'll see that there are those\nrules that are in place.\n\n50\n00:02:51.650 --> 00:02:56.960\nNow, the way that it generally works\nis this, on the outside interface,\n\n51\n00:02:56.960 --> 00:03:00.390\nright out here on this\ninterface of pfSense,\n\n52\n00:03:00.390 --> 00:03:06.100\nwhat you normally get is a rule\nthat blocks everything, okay?\n\n53\n00:03:06.100 --> 00:03:09.720\nNow, when I say that these\nrules are directional.\n\n54\n00:03:09.720 --> 00:03:14.850\nSo what I normally mean is blocking all\ntraffic coming essentially through your\n\n55\n00:03:14.850 --> 00:03:19.290\nISP, trying to go inside\nof your own network.\n\n56\n00:03:19.290 --> 00:03:23.690\nSo from the outside interface hitting\ninbound on that network interface right\n\n57\n00:03:23.690 --> 00:03:28.690\nthere, it's going to block all\nthe traffic coming in, okay?\n\n58\n00:03:28.690 --> 00:03:33.000\nSo that is what we call default rules and\nwe'll take a look at those rules as well.\n\n59\n00:03:33.000 --> 00:03:36.560\nThe other default rule\nthat you'll generally find\n\n60\n00:03:36.560 --> 00:03:39.715\nis on what we call our\ndefault LAN roles as well.\n\n61\n00:03:39.715 --> 00:03:47.050\nUsually on this side, we allow all traffic\ngoing into that interface instead.\n\n62\n00:03:47.050 --> 00:03:52.480\nSo this side,\nusually it's a default wide open rule\n\n63\n00:03:52.480 --> 00:03:57.060\nthat allows any traffic that needs\nto go to DMZs or other networks or\n\n64\n00:03:57.060 --> 00:04:00.550\nwhatever it might be to get\neverywhere that they need to but\n\n65\n00:04:00.550 --> 00:04:06.020\nwe do not allow for outside traffic\nto come through that firewall, okay?\n\n66\n00:04:06.020 --> 00:04:11.270\nSo the key here is actually fairly\nsomething that should make sense.\n\n67\n00:04:11.270 --> 00:04:14.300\nOne side says,\nof course you can go through.\n\n68\n00:04:14.300 --> 00:04:17.980\nThe other side says,\nof course you cannot go through.\n\n69\n00:04:17.980 --> 00:04:20.670\nSo where do we have a conundrum here?\n\n70\n00:04:20.670 --> 00:04:23.550\nThe conundrum that we have then of course,\n\n71\n00:04:23.550 --> 00:04:29.100\nis that if traffic from the outside\nneeds to come in, well that means we\n\n72\n00:04:29.100 --> 00:04:34.600\nhave to deal with these rules that are set\nin place that says to block everything.\n\n73\n00:04:34.600 --> 00:04:38.910\nAnd the way that we do that\nis normally by saying hey,\n\n74\n00:04:38.910 --> 00:04:44.000\nhere is the type of traffic we're willing\nto allow to come through the firewall and\n\n75\n00:04:44.000 --> 00:04:48.330\nevery other bit of traffic we're\nnot allowing to come through.\n\n76\n00:04:48.330 --> 00:04:52.780\nNow probably in the earliest days of the\nearliest types of firewall's it was kind\n\n77\n00:04:52.780 --> 00:04:56.170\nof the opposite, it was like we'll let\neverything come through except for\n\n78\n00:04:56.170 --> 00:04:58.450\nwhat you really want to block.\n\n79\n00:04:58.450 --> 00:05:00.200\nAnd that way you can set up those rules.\n\n80\n00:05:00.200 --> 00:05:03.550\nAnd when you did that, it was kind of\nallow all and then only block some.\n\n81\n00:05:03.550 --> 00:05:06.270\nIt didn't take long before\nmost of them realized\n\n82\n00:05:06.270 --> 00:05:07.620\nthat that is the wrong way to do it.\n\n83\n00:05:07.620 --> 00:05:11.620\nWhat you want instead is\nthe concept here of whitelisting,\n\n84\n00:05:11.620 --> 00:05:16.320\nwhich is to block everything and only\nallow the traffic you want coming through.\n\n85\n00:05:16.320 --> 00:05:18.800\nSo that's the concept that we want to see.\n\n86\n00:05:18.800 --> 00:05:23.600\nSo let's check out our default\ninstall of pfSense firewall\n\n87\n00:05:23.600 --> 00:05:28.150\nwith just a little bit of configuration\nthat we have going on here to help us out.\n\n88\n00:05:28.150 --> 00:05:30.600\nNow I've also used the virtual machine so\n\n89\n00:05:30.600 --> 00:05:34.860\nthat we can gain access\ninto this firewall as well.\n\n90\n00:05:34.860 --> 00:05:38.970\nSo now on in Windows 10 machine\ninstead earlier, I was on a Mac.\n\n91\n00:05:38.970 --> 00:05:40.000\nThat's fine.\n\n92\n00:05:40.000 --> 00:05:40.946\nIt's still work same way.\n\n93\n00:05:40.946 --> 00:05:43.820\nWe're still using the web\ninterface configuration.\n\n94\n00:05:43.820 --> 00:05:48.248\nAnd I've changed some of the IP addresses\nto make it easier for me to remember is\n\n95\n00:05:48.248 --> 00:05:51.798\nwhat I did and then the WAN interfaces\nreally the only one changed.\n\n96\n00:05:51.798 --> 00:05:57.910\nNow if we start to look at the firewall\nrules themselves I'm going to click on\n\n97\n00:05:57.910 --> 00:06:04.590\nfirewall, well maybe, and then,\nI'm going to select rules.\n\n98\n00:06:04.590 --> 00:06:08.140\nSo once I do that,\nyou'll notice that here they are.\n\n99\n00:06:08.140 --> 00:06:13.090\nHere's all of the interfaces,\nin which I can configure rules on.\n\n100\n00:06:13.090 --> 00:06:17.220\nAnd you can see right off the bat, okay,\n\n101\n00:06:17.220 --> 00:06:23.020\nthat on this particular interface it\nblocks well just about everything.\n\n102\n00:06:23.020 --> 00:06:27.110\nNow if you take a look at it, these were\nsome of the rules that we set up right at\n\n103\n00:06:27.110 --> 00:06:31.090\nthe very beginning that was on when we\nactually took a look at the interface.\n\n104\n00:06:31.090 --> 00:06:34.652\nOne, of course blocks\nthese RFC1918 networks,\n\n105\n00:06:34.652 --> 00:06:37.431\nthese are our private IP address ranges.\n\n106\n00:06:37.431 --> 00:06:41.967\nThe 10 network the 1, 7, 2,\n16 all the way through 31 and\n\n107\n00:06:41.967 --> 00:06:47.807\nthe 192.168.0.0 those ranges there,\nthey're normally blocked okay?\n\n108\n00:06:47.807 --> 00:06:50.842\nAnd then there are what we\ncalled bogon networks as well.\n\n109\n00:06:50.842 --> 00:06:52.776\nB-O-G-O-N.\n\n110\n00:06:52.776 --> 00:06:57.701\nThese are the reserved IP addresses that\nare not allowed to be, or not allowed for\n\n111\n00:06:57.701 --> 00:07:02.365\ntraffic to come in because they're not\nsupposed to be used on the internet.\n\n112\n00:07:02.365 --> 00:07:05.450\nSo, both of these are actually\nthat type of traffic,\n\n113\n00:07:05.450 --> 00:07:07.930\nallowing me to be able\nto take look at that.\n\n114\n00:07:09.070 --> 00:07:14.397\nNow, Daniel, you remember that\nwhen I said, though.okay, is\n\n115\n00:07:14.397 --> 00:07:20.050\nthat hey usually the default rule for WAN\ninterfaces though is to block everything.\n\n116\n00:07:20.050 --> 00:07:23.560\nBut what I'm seeing right here\nis really just blocking, well,\n\n117\n00:07:23.560 --> 00:07:27.280\nthe private networks like it's described\nover here and the bogon networks.\n\n118\n00:07:27.280 --> 00:07:29.530\nThat doesn't seem like everything,\ndoes it Daniel?\n\n119\n00:07:29.530 --> 00:07:30.330\n&gt;&gt; No, it doesn't.\n\n120\n00:07:30.330 --> 00:07:33.300\nI would think that it would just say,\ndeny all traffic.\n\n121\n00:07:33.300 --> 00:07:36.720\nYeah, that's what you would actually\nthink and so right here, saying,\n\n122\n00:07:36.720 --> 00:07:38.730\nRonnie you lied to us, is what you did.\n\n123\n00:07:38.730 --> 00:07:39.670\n&gt;&gt; Cuz you're a liar Ronnie.\n\n124\n00:07:39.670 --> 00:07:40.300\n&gt;&gt; It is.\n\n125\n00:07:40.300 --> 00:07:42.550\nIt's because I, no not really.\n\n126\n00:07:42.550 --> 00:07:48.160\nWhat happens here is that there is\nan implicit deny all rule as well,\n\n127\n00:07:48.160 --> 00:07:50.530\nthat doesn't show up in this interface.\n\n128\n00:07:50.530 --> 00:07:51.420\n&gt;&gt; They're hiding it from us.\n\n129\n00:07:51.420 --> 00:07:52.566\n&gt;&gt; They are hiding it from you.\n\n130\n00:07:52.566 --> 00:07:58.002\n&gt;&gt; So when you don't have any rules\ndefined, like what it says right here.\n\n131\n00:07:58.002 --> 00:08:01.828\nLet me see if I can highlight that and\nthen zoom in, so that we can see it, okay?\n\n132\n00:08:01.828 --> 00:08:06.770\nAll incoming, let me see if I\ncan highlight this part now.\n\n133\n00:08:06.770 --> 00:08:09.580\nAll incoming connections on this interface\n\n134\n00:08:09.580 --> 00:08:14.200\nwill be blocked until\npass rules are added in.\n\n135\n00:08:14.200 --> 00:08:20.420\nSo even though we don't see a deny all any\nto any place coming in that interface,\n\n136\n00:08:20.420 --> 00:08:23.410\nit's essentially telling you\nthat there is an implicit deny\n\n137\n00:08:23.410 --> 00:08:25.920\nrule stated right here, okay?\n\n138\n00:08:25.920 --> 00:08:30.450\nSo this is very important because it's\nreal easy to look at the explicitly\n\n139\n00:08:30.450 --> 00:08:34.400\ndefined rules just like these\ntwo that we're seeing and\n\n140\n00:08:34.400 --> 00:08:38.160\nimagine that hey,\nthat's all that it's blocking.\n\n141\n00:08:38.160 --> 00:08:42.050\nSo traffic coming from the outside\nshould be fine going through, but\n\n142\n00:08:42.050 --> 00:08:46.320\nyou do have to read, and\nthey did highlight it at least in yellow.\n\n143\n00:08:46.320 --> 00:08:50.440\nIt's weird, it's not the kind of\nwarning yellow that you see, right,\n\n144\n00:08:50.440 --> 00:08:52.180\nit's kind of a pastel yellow.\n\n145\n00:08:52.180 --> 00:08:53.085\n&gt;&gt; It's like a sticky note.\n\n146\n00:08:53.085 --> 00:08:54.691\n[LAUGH]\n&gt;&gt; Yeah, it's kind of like a sticky note.\n\n147\n00:08:54.691 --> 00:08:58.389\nIt's like, yeah, it's a reminder, but you\nwould think that this would be something\n\n148\n00:08:58.389 --> 00:09:01.140\nlike blinking in red or\nsomething that tells you don't forget.\n\n149\n00:09:01.140 --> 00:09:02.130\n&gt;&gt; Blaze orange or something.\n\n150\n00:09:02.130 --> 00:09:05.130\n&gt;&gt; Yeah, blaze orange,\nsomething that stands out.\n\n151\n00:09:05.130 --> 00:09:09.040\nBut no, in pfSense world it's like, let me\njust put a sticky note here to remind you\n\n152\n00:09:09.040 --> 00:09:13.410\nthat if you don't see a rule that\nexplicitly allows data to come in,\n\n153\n00:09:13.410 --> 00:09:16.210\nthen more than likely it's\nblocked at this point.\n\n154\n00:09:16.210 --> 00:09:17.780\nSo that's what you see.\n\n155\n00:09:17.780 --> 00:09:20.019\nSo there is the deny all rule.\n\n156\n00:09:21.120 --> 00:09:26.170\nNow, just when I say that,\ndid I just lie to you, though, okay?\n\n157\n00:09:26.170 --> 00:09:29.470\nIs all traffic actually gonna\nbe blocked when it comes in?\n\n158\n00:09:29.470 --> 00:09:32.340\nWell, Daniel, let me prove to you,\nI didn't lie to you, but\n\n159\n00:09:32.340 --> 00:09:34.520\nI didn't tell you everything,\nDaniel, okay?\n\n160\n00:09:34.520 --> 00:09:39.770\nSo in this instance here, okay,\nthis particular firewall and\n\n161\n00:09:39.770 --> 00:09:43.040\nthis computer that I'm on right here,\nit is behind the firewall,\n\n162\n00:09:43.040 --> 00:09:45.120\nit's in the LAN interface side, okay?\n\n163\n00:09:46.120 --> 00:09:51.570\nBut if I click on this tab, which is\na browser tab, and I browse out to,\n\n164\n00:09:51.570 --> 00:09:59.380\nlet's just say ITProTV, I should see\nthat in just a moment, it comes up.\n\n165\n00:09:59.380 --> 00:10:01.890\nNow, Daniel, let's think about\nthe pattern of the traffic here and\n\n166\n00:10:01.890 --> 00:10:03.500\nsee what happens, right?\n\n167\n00:10:03.500 --> 00:10:05.010\nSo here it is.\n\n168\n00:10:05.010 --> 00:10:09.130\nThis actually made it through\nmy firewall leaving, okay?\n\n169\n00:10:09.130 --> 00:10:12.480\nSo we know that the allow all in\nthe LAN site, just like I told you,\n\n170\n00:10:12.480 --> 00:10:16.935\nsays hey, you can go out, go out,\nhit our web server out there.\n\n171\n00:10:16.935 --> 00:10:17.540\n&gt;&gt; Mm-hm.\n\n172\n00:10:17.540 --> 00:10:22.420\n&gt;&gt; And now it's coming back through,\nand, Daniel, what about that deny all?\n\n173\n00:10:22.420 --> 00:10:24.610\nI don't have an explicit rule there.\n\n174\n00:10:24.610 --> 00:10:28.740\n&gt;&gt; This makes me think that you've got\na stateful firewall going on here,\n\n175\n00:10:28.740 --> 00:10:30.460\nand it's watching the connections.\n\n176\n00:10:30.460 --> 00:10:34.410\nIt's tracking connections, and if it\nsees that if you've made a request out,\n\n177\n00:10:34.410 --> 00:10:38.611\nthen if the place that you\nmade a request out comes back,\n\n178\n00:10:38.611 --> 00:10:42.370\nit says that's part of an established\nconnection, I'll allow that traffic.\n\n179\n00:10:42.370 --> 00:10:45.030\n&gt;&gt; That is great, Daniel, and\nthat's exactly what's happening.\n\n180\n00:10:45.030 --> 00:10:47.060\nNow, most of you that have\ndealt with firewalls,\n\n181\n00:10:47.060 --> 00:10:48.950\nyou knew the answer right away, right?\n\n182\n00:10:48.950 --> 00:10:53.241\nBut if this is your first time really\ndealing with that, you are dealing with\n\n183\n00:10:53.241 --> 00:10:57.551\na stateful firewall and the way that\nthis stateful firewall works, right?\n\n184\n00:10:57.551 --> 00:11:02.063\nAs long as the traffic is being requested\nfrom the trusted site going out and\n\n185\n00:11:02.063 --> 00:11:07.004\nwhat we're getting as a reply back,\nin other words, we're saying we explicitly\n\n186\n00:11:07.004 --> 00:11:11.442\nrequested that traffic to come back,\nthen as that traffic comes back in,\n\n187\n00:11:11.442 --> 00:11:14.480\nthe firewall makes a very temporary rule,\nokay?\n\n188\n00:11:14.480 --> 00:11:19.177\nA very temporary rule allowing for\nthat particular traffic to come back\n\n189\n00:11:19.177 --> 00:11:24.120\nthrough as long as, what,\nthe exiting traffic rule is still there.\n\n190\n00:11:24.120 --> 00:11:28.451\nWhen it's sees that hey, this is actually\na reply from this rule that was outbound,\n\n191\n00:11:28.451 --> 00:11:32.490\nthen it will create that temporary rule\nand allow that traffic to come back in.\n\n192\n00:11:32.490 --> 00:11:36.520\nAnd the firewall tracks all\nthat information for us, so\n\n193\n00:11:36.520 --> 00:11:38.810\nthat we know that it's just a reply.\n\n194\n00:11:38.810 --> 00:11:45.170\nSo what type of traffic are we really\ntrying to make sure that we are blocking\n\n195\n00:11:45.170 --> 00:11:48.550\nor make sure that we're actually\nallowing in from the outside, okay?\n\n196\n00:11:48.550 --> 00:11:53.010\nSo what we're actually talking about\nthen is not traffic that's a reply\n\n197\n00:11:53.010 --> 00:11:56.840\nfrom something that happened on the\ninside, going out and coming back in but\n\n198\n00:11:56.840 --> 00:12:00.660\nis, of course,\ntraffic from the outside itself.\n\n199\n00:12:00.660 --> 00:12:03.610\nAnd that is what we have\nto focus in on as well.\n\n200\n00:12:03.610 --> 00:12:07.520\nSo let's go ahead and\ntake a look at what begins to happen here\n\n201\n00:12:07.520 --> 00:12:10.930\nwhen we start to configure some\nof this stuff, right, okay?\n\n202\n00:12:10.930 --> 00:12:14.742\nSo before I go on, I told you that we\nwould take a look at the LAN as well.\n\n203\n00:12:14.742 --> 00:12:18.845\nAnd we'll just kind of point out just\na few things that you'll also end up\n\n204\n00:12:18.845 --> 00:12:20.400\nseeing here, too, okay?\n\n205\n00:12:20.400 --> 00:12:22.681\nSo on the LAN side, you can see, and\n\n206\n00:12:22.681 --> 00:12:27.478\nthis last rule is kinda the one that I\nwant us to focus in on right here at the,\n\n207\n00:12:27.478 --> 00:12:30.923\nactually not the very last one,\nthis one right here.\n\n208\n00:12:30.923 --> 00:12:34.581\nI was trying to see if we could see this,\nokay?\n\n209\n00:12:34.581 --> 00:12:39.367\nNow on this particular rule,\nyou can see where it says, hey, for\n\n210\n00:12:39.367 --> 00:12:44.940\nIP version 4, okay, so that's\nthe protocol, anything in IP version 4,\n\n211\n00:12:44.940 --> 00:12:51.053\nthe source coming from my LAN, and now\nnotice these asterisks that you see, okay?\n\n212\n00:12:51.053 --> 00:12:57.070\nThat means to any destination on any port,\ngoing out any interface, look at all that.\n\n213\n00:12:57.070 --> 00:13:01.850\nGoing out any interface here out the\ngateway, it is going to be allowed, and\n\n214\n00:13:01.850 --> 00:13:03.500\nwe see that by the check mark as well.\n\n215\n00:13:05.060 --> 00:13:07.590\nAnd you can also see right\nhere this term state.\n\n216\n00:13:07.590 --> 00:13:13.470\nThis is what Daniel was referring to,\nthe idea of the state that it tracked.\n\n217\n00:13:13.470 --> 00:13:17.310\nIf I hover over it,\nit tells me 68 states, okay?\n\n218\n00:13:17.310 --> 00:13:21.605\nThese are the idea, of course,\nleaving and then coming back in.\n\n219\n00:13:21.605 --> 00:13:24.210\nIt's keeping track of what has left so\n\n220\n00:13:24.210 --> 00:13:28.750\nthat now if it's a response from any one\nof those that has left my firewall and\n\n221\n00:13:28.750 --> 00:13:31.340\nis coming back in and\nknows to keep track of that.\n\n222\n00:13:31.340 --> 00:13:34.900\nAnd then it can also see how much data\nhas passed through the interface.\n\n223\n00:13:36.030 --> 00:13:41.330\nThis is kind of also another neat\nthing about the firewall right\n\n224\n00:13:41.330 --> 00:13:42.950\nhere that at least I like.\n\n225\n00:13:42.950 --> 00:13:47.778\nI don't know if everybody likes it here,\nbut when you start seeing stuff like this,\n\n226\n00:13:47.778 --> 00:13:51.316\nit lets you know if your rule\nis effective or not, too, okay?\n\n227\n00:13:51.316 --> 00:13:55.412\nSo as you start seeing states, and\nyou start seeing traffic go through,\n\n228\n00:13:55.412 --> 00:13:59.443\nthe amount of traffic going through there,\nif your rule is effective,\n\n229\n00:13:59.443 --> 00:14:01.141\nthose numbers should climb.\n\n230\n00:14:01.141 --> 00:14:03.320\nAnd they'll drop too,\nright, after a while.\n\n231\n00:14:03.320 --> 00:14:07.354\nIf the states are gone, then they'll drop\njust like this first one right here.\n\n232\n00:14:07.354 --> 00:14:13.070\nOne state, and\nthen 7.83 megabits is what we'd see there.\n\n233\n00:14:13.070 --> 00:14:16.431\nBut if you don't see anything,\nlike this last one here for\n\n234\n00:14:16.431 --> 00:14:21.096\nIPv6, right here, you kinda know that\nthat's just an extraneous rule that's\n\n235\n00:14:21.096 --> 00:14:24.481\nactually in the firewall that\nmight be able to be deleted.\n\n236\n00:14:24.481 --> 00:14:27.047\nNow we may not want to do that with IPv6.\n\n237\n00:14:27.047 --> 00:14:29.655\nAnd the reason why of course is well,\nin theory,\n\n238\n00:14:29.655 --> 00:14:33.853\nright, it's not gonna be long before\nwe're actually moving into IPv6, but\n\n239\n00:14:33.853 --> 00:14:36.160\nat this point here it's just extraneous.\n\n240\n00:14:36.160 --> 00:14:38.930\nWe don't have any IPv6 traffic at all.\n\n241\n00:14:38.930 --> 00:14:42.375\nSo it's kinda helpful when you start\nseeing stuff like this going through.\n\n242\n00:14:42.375 --> 00:14:44.519\nSo that is our default allow rule.\n\n243\n00:14:44.519 --> 00:14:46.420\nNow let me get back to the WAN traffic.\n\n244\n00:14:46.420 --> 00:14:48.708\nI said that we'd show it to you.\n\n245\n00:14:48.708 --> 00:14:51.730\nSo now we wanna actually\nfocus in right here on\n\n246\n00:14:51.730 --> 00:14:54.350\nthis idea of the WAN traffic as well.\n\n247\n00:14:55.560 --> 00:14:59.910\nAll right, so when we focus in on this,\nthe key, as we create rules,\n\n248\n00:14:59.910 --> 00:15:02.780\nis that we have to think about\na couple of different things.\n\n249\n00:15:02.780 --> 00:15:06.720\nThe first is understanding\nthe directionality of these rules.\n\n250\n00:15:06.720 --> 00:15:10.480\nSo as traffic is actually\ngoing through the firewall,\n\n251\n00:15:10.480 --> 00:15:14.810\nright, there are two directions\npossible per interface.\n\n252\n00:15:14.810 --> 00:15:17.450\nOne, of course,\nis leaving the interface, and\n\n253\n00:15:17.450 --> 00:15:20.980\nthe other one is entering the interface,\nright?\n\n254\n00:15:20.980 --> 00:15:25.147\nSo the way that pfSense work is based,\nas far as these rules go,\n\n255\n00:15:25.147 --> 00:15:29.079\nis based on traffic coming into\nthe interface, not based on\n\n256\n00:15:29.079 --> 00:15:33.976\nthe traffic leaving the interface,\nand that is key for us to understand.\n\n257\n00:15:33.976 --> 00:15:37.955\nSo when you start creating rules,\nand you're actually on the WAN tab,\n\n258\n00:15:37.955 --> 00:15:41.469\njust like what we're showing\nyou right here right now, well,\n\n259\n00:15:41.469 --> 00:15:44.279\nthat means that you have\nto always consider that.\n\n260\n00:15:44.279 --> 00:15:48.708\nSo any traffic coming in to\nthe interface from one of those RFC 1918\n\n261\n00:15:48.708 --> 00:15:50.940\naddresses is saying block it.\n\n262\n00:15:50.940 --> 00:15:52.756\nThat's exactly what it's saying.\n\n263\n00:15:52.756 --> 00:15:58.743\nAny traffic also in one of those\nreserved addresses, block that as well.\n\n264\n00:15:58.743 --> 00:16:04.972\nSo as long as it is not part of that reply\ntraffic Then block it all is what we see.\n\n265\n00:16:04.972 --> 00:16:09.334\nSo since we're really blocking everything\nbesides that stateful connection,\n\n266\n00:16:09.334 --> 00:16:10.860\nDaniel, okay?\n\n267\n00:16:10.860 --> 00:16:17.270\nThat means that we really don't have to\nset any more block rules, okay, right?\n\n268\n00:16:17.270 --> 00:16:19.493\nIt's blocking everything by default.\n\n269\n00:16:19.493 --> 00:16:21.834\nSo traffic that's just\ntrying to make its way in,\n\n270\n00:16:21.834 --> 00:16:24.191\nsome type of malicious\ntraffic trying to come in.\n\n271\n00:16:24.191 --> 00:16:26.533\nIt says, it's gonna get blocked, okay?\n\n272\n00:16:26.533 --> 00:16:28.805\nSo it's on this side.\n\n273\n00:16:28.805 --> 00:16:32.622\nBecause we're only really worried about\ntraffic coming into the interface.\n\n274\n00:16:32.622 --> 00:16:35.590\nThat we're not worried about blocking.\n\n275\n00:16:35.590 --> 00:16:37.830\nI know that sounds weird,\nI'm trying to emphasize that.\n\n276\n00:16:37.830 --> 00:16:41.411\nBut what we are worried about\nis there are times, though.\n\n277\n00:16:41.411 --> 00:16:46.140\nThat we really do need for\ntraffic to come into our network.\n\n278\n00:16:46.140 --> 00:16:49.800\nAnd it's gonna have its\norigination from the outside.\n\n279\n00:16:49.800 --> 00:16:54.840\nSo a great example is if\nITProOTV hosted its own\n\n280\n00:16:54.840 --> 00:16:58.590\nweb server right here at ITPro Studios,\nright?\n\n281\n00:16:58.590 --> 00:17:00.865\nOkay, so ITProTV Studios.\n\n282\n00:17:00.865 --> 00:17:01.777\nIf it did that,\n\n283\n00:17:01.777 --> 00:17:06.292\nwell, that means that every single\nperson that is pretty much watching us.\n\n284\n00:17:06.292 --> 00:17:10.735\nAnd sitting there on the Web and\nyou're actually going through a browser.\n\n285\n00:17:10.735 --> 00:17:13.131\nThey would be connecting from the outside.\n\n286\n00:17:13.131 --> 00:17:17.040\nGoing through the Internet, coming in\non that interface on the firewall.\n\n287\n00:17:17.040 --> 00:17:19.480\nAnd it would be a shame, right Daniel,\n\n288\n00:17:19.480 --> 00:17:22.920\nif they were blocked by just\nthese simple rules right here.\n\n289\n00:17:22.920 --> 00:17:25.268\n&gt;&gt; Kind of defeats the purpose\nof having a website.\n\n290\n00:17:25.268 --> 00:17:29.035\nYou typically want people from the outside\nto be able to access your website.\n\n291\n00:17:29.035 --> 00:17:30.497\nSo that if you sell something or\n\n292\n00:17:30.497 --> 00:17:33.490\nif you just have something\ncool to share with the world.\n\n293\n00:17:33.490 --> 00:17:35.080\nThey can actually do that.\n\n294\n00:17:35.080 --> 00:17:39.533\nBut Ronnie is right, we've got the 400\npound, six foot seven linemen in place.\n\n295\n00:17:39.533 --> 00:17:40.996\nAnd they're stopping all sorts of traffic.\n\n296\n00:17:40.996 --> 00:17:45.258\nSo we're going to,\napparently have to necessarily,\n\n297\n00:17:45.258 --> 00:17:49.809\ncreate a path in which traffic\ncan come in, make an allow.\n\n298\n00:17:49.809 --> 00:17:51.201\n&gt;&gt; And that is the key, right?\n\n299\n00:17:51.201 --> 00:17:54.363\nSo the first time that I remember\nsetting up firewall rules, right?\n\n300\n00:17:54.363 --> 00:17:58.380\nMy own logic in mind was simple, Daniel.\n\n301\n00:17:58.380 --> 00:18:00.703\nIt was, all right, so\nwe need to block everything.\n\n302\n00:18:00.703 --> 00:18:03.149\nAnd then finally,\nI think it was Don that finally said.\n\n303\n00:18:03.149 --> 00:18:05.787\nRonnie, think about it,\nwe're already blocking everything.\n\n304\n00:18:05.787 --> 00:18:07.480\nWhat we don't need is to block everything.\n\n305\n00:18:07.480 --> 00:18:08.181\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n306\n00:18:08.181 --> 00:18:09.364\n&gt;&gt; Cuz we're already blocking it.\n\n307\n00:18:09.364 --> 00:18:11.460\nAnd then he said, remember Ronnie.\n\n308\n00:18:11.460 --> 00:18:13.858\nAs you set this up,\nthat what you're trying to do.\n\n309\n00:18:13.858 --> 00:18:16.930\nIs you're trying to really\nonly allow what you minimally\n\n310\n00:18:16.930 --> 00:18:19.710\nhave to allow to come into the network.\n\n311\n00:18:19.710 --> 00:18:22.438\nSo in the WAN rules, right,\n\n312\n00:18:22.438 --> 00:18:27.455\nwe're really configuring\nwhat we want to allow in.\n\n313\n00:18:27.455 --> 00:18:29.887\nNow, it's easy enough.\n\n314\n00:18:29.887 --> 00:18:33.616\nLet's say we have the web server, and\nthis is a great example for us here.\n\n315\n00:18:33.616 --> 00:18:37.949\nSo, Daniel, if I have a web server,\nand I have the IP address.\n\n316\n00:18:37.949 --> 00:18:42.031\nI can create a rule very simply to\nallow access to the web server.\n\n317\n00:18:42.031 --> 00:18:42.565\nOkay, okay?\n\n318\n00:18:42.565 --> 00:18:43.644\n&gt;&gt; Yeah, that sounds good, yeah.\n\n319\n00:18:43.644 --> 00:18:45.729\nSo let's go ahead and see how we do that.\n\n320\n00:18:45.729 --> 00:18:48.069\nAnd then we'll kinda point out some of the\ndetails I really wanna get into as well.\n\n321\n00:18:48.069 --> 00:18:49.231\n&gt;&gt; Makes sense.\n\n322\n00:18:49.231 --> 00:18:51.029\n&gt;&gt; So right here, let's go ahead and\n\n323\n00:18:51.029 --> 00:18:53.944\ntake a look in the lower right\nhand corner of the screen.\n\n324\n00:18:53.944 --> 00:18:57.250\nCuz this is also something else\nthat we need to point out as well.\n\n325\n00:18:58.580 --> 00:19:00.280\nYou have these buttons, right?\n\n326\n00:19:00.280 --> 00:19:03.925\nSeparator, Save, stuff, we're really\nonly focusing in on these two here.\n\n327\n00:19:03.925 --> 00:19:05.002\n&gt;&gt; Your two [CROSSTALK].\n\n328\n00:19:05.002 --> 00:19:06.230\n[LAUGH]\n&gt;&gt; Yeah.\n\n329\n00:19:06.230 --> 00:19:10.691\nSo notice I can add a rule at the top,\nand I can add a rule at the bottom.\n\n330\n00:19:10.691 --> 00:19:12.242\nWell why are these two important?\n\n331\n00:19:12.242 --> 00:19:14.575\nIt's because of the way\nthat the rules work.\n\n332\n00:19:14.575 --> 00:19:19.367\nThat they really do filter\nbased from the top down, okay?\n\n333\n00:19:19.367 --> 00:19:24.290\nSo as rules go, and Daniel's actually\nrunning a particular program that's also\n\n334\n00:19:24.290 --> 00:19:26.945\nkind of going through\nsome rules like this.\n\n335\n00:19:26.945 --> 00:19:28.630\nIt works from the top down.\n\n336\n00:19:29.880 --> 00:19:34.987\nSo, as traffic is coming in for\nthis interface, right, does it match this?\n\n337\n00:19:34.987 --> 00:19:37.044\nWell if it does,\nthis rule kicks into place.\n\n338\n00:19:37.044 --> 00:19:38.981\nIt doesn't take a look at\nthe rest of the rules.\n\n339\n00:19:38.981 --> 00:19:41.630\nOkay, that's the only one that applies.\n\n340\n00:19:41.630 --> 00:19:44.560\nIf it doesn't match that first one,\nit goes on to say hey,\n\n341\n00:19:44.560 --> 00:19:46.290\nis this one of those reserved ones?\n\n342\n00:19:46.290 --> 00:19:46.803\nOkay?\n\n343\n00:19:46.803 --> 00:19:49.447\nWell then it goes, okay,\nit's not one of those reserved ones.\n\n344\n00:19:49.447 --> 00:19:53.536\nWell according to this yellow block,\nit's gonna get blocked anyways.\n\n345\n00:19:53.536 --> 00:19:59.566\nBut if I add this at the top and\nI allow access to that web traffic.\n\n346\n00:19:59.566 --> 00:20:05.302\nWell it doesn't matter if it comes\nin from that RFC 1918 or not.\n\n347\n00:20:05.302 --> 00:20:07.270\nIt doesn't matter if it's one of those.\n\n348\n00:20:07.270 --> 00:20:11.606\nIt just says, yes, it matches this rule\nthat says, give access to this web server.\n\n349\n00:20:11.606 --> 00:20:13.060\nSo, let it go in.\n\n350\n00:20:13.060 --> 00:20:17.150\nIf I actually do that idea of pass and\nlet that go in, okay.\n\n351\n00:20:17.150 --> 00:20:19.160\nSo it is important in terms of the order.\n\n352\n00:20:19.160 --> 00:20:22.350\nNow, you can change the order later on but\nI wanted to emphasize that right here.\n\n353\n00:20:22.350 --> 00:20:25.990\nSo I'm gonna click on the second one\nthat says, Add the rule at the bottom.\n\n354\n00:20:25.990 --> 00:20:30.230\nAnd this is where we have to kind of\nfocus in on a few different things, okay.\n\n355\n00:20:30.230 --> 00:20:34.570\nWhen we start there's three particular\nactions we need to pay attention to\n\n356\n00:20:34.570 --> 00:20:35.840\nright here, okay.\n\n357\n00:20:35.840 --> 00:20:40.220\nThere is pass, there is block,\nand there is reject, okay.\n\n358\n00:20:40.220 --> 00:20:42.430\nPass is exactly like it sounds like.\n\n359\n00:20:42.430 --> 00:20:46.055\nTake a look, if it matches this rule,\nlet it go right on through, okay.\n\n360\n00:20:46.055 --> 00:20:48.755\nSo it sounds good,\nsounds like something that you need.\n\n361\n00:20:48.755 --> 00:20:53.415\nWell if we want the traffic to come into\nmy web server, that's absolutely correct.\n\n362\n00:20:53.415 --> 00:20:55.573\nThat is something I would need here.\n\n363\n00:20:55.573 --> 00:20:58.195\nBlock essentially says stop it.\n\n364\n00:20:58.195 --> 00:21:00.388\nOkay?\nJust like what we saw on the red xs\n\n365\n00:21:00.388 --> 00:21:01.950\nit will block the traffic.\n\n366\n00:21:01.950 --> 00:21:05.101\nAnd that traffic should\nnever get to the web server.\n\n367\n00:21:05.101 --> 00:21:06.622\nBut notice Reject.\n\n368\n00:21:06.622 --> 00:21:09.444\nReject, well that blocks it as well.\n\n369\n00:21:09.444 --> 00:21:12.061\nSo Daniel, do you have any clue on\nwhy they might actually list two\n\n370\n00:21:12.061 --> 00:21:12.781\ndifferent ones.\n\n371\n00:21:12.781 --> 00:21:15.343\nThat would just say,\ndon't allow the traffic to come in?\n\n372\n00:21:15.343 --> 00:21:18.359\n&gt;&gt; Yeah, it's a really interesting thing\nthat they do with a lot of firewalls.\n\n373\n00:21:18.359 --> 00:21:21.282\nIs, where you have the block it's\nbasically, the traffic comes in and\n\n374\n00:21:21.282 --> 00:21:22.168\nsees the block rule.\n\n375\n00:21:22.168 --> 00:21:24.210\nAnd it just kind of drops the traffic.\n\n376\n00:21:24.210 --> 00:21:26.370\nJust says, eh,\nI'm not gonna do anything with it.\n\n377\n00:21:26.370 --> 00:21:29.216\nReject on the other hand says,\nyeah I'm going to block the traffic.\n\n378\n00:21:29.216 --> 00:21:30.249\nBut not only am I going to block it.\n\n379\n00:21:30.249 --> 00:21:34.449\nI'm going to return a reply to the person\ntrying to say we are blocking you.\n\n380\n00:21:34.449 --> 00:21:36.310\nStop trying to get in through here.\n\n381\n00:21:36.310 --> 00:21:40.260\nKind of the doorman there with his\nclipboard going, you're not on the list.\n\n382\n00:21:40.260 --> 00:21:41.506\nMove it down the road, buddy.\n\n383\n00:21:41.506 --> 00:21:42.166\nThat kind of idea.\n\n384\n00:21:42.166 --> 00:21:43.214\n&gt;&gt; Yeah, and that's a great thing, right?\n\n385\n00:21:43.214 --> 00:21:46.140\nYou might think, man,\nthat's exactly what we need.\n\n386\n00:21:46.140 --> 00:21:48.838\nWell, sometimes it's what you need but\nnot every time.\n\n387\n00:21:48.838 --> 00:21:51.215\nWhen you do something like Reject,\nimagine this, right?\n\n388\n00:21:51.215 --> 00:21:53.863\nLet's say that every single one\nof our members, Daniel, said,\n\n389\n00:21:53.863 --> 00:21:55.225\nwe're gonna get access to this.\n\n390\n00:21:55.225 --> 00:21:57.006\nAnd I instead put a Reject.\n\n391\n00:21:57.006 --> 00:22:00.907\nWell the great thing about it is that\nthey'll be told immediately, right?\n\n392\n00:22:00.907 --> 00:22:05.700\nWhen it hits this rule and I've rejected\nthem that you're just being dropped.\n\n393\n00:22:05.700 --> 00:22:07.845\nSo here's a message back.\n\n394\n00:22:07.845 --> 00:22:10.410\nAnd that way they disconnect very quickly.\n\n395\n00:22:10.410 --> 00:22:12.518\nIf it's blocked,\nthey may try a couple of times, right?\n\n396\n00:22:12.518 --> 00:22:14.090\nThey may just try and try and try.\n\n397\n00:22:14.090 --> 00:22:17.094\nAnd then finally they're just kind\nof like, okay, nothing's happening.\n\n398\n00:22:17.094 --> 00:22:19.520\nYou're not getting any message,\nyou're not getting any response.\n\n399\n00:22:19.520 --> 00:22:22.612\nNothing is going on, you just\nrealize you've been blocked, okay?\n\n400\n00:22:22.612 --> 00:22:24.514\nSo that sounds like a great idea.\n\n401\n00:22:24.514 --> 00:22:26.680\nWell it's a great idea in some instances.\n\n402\n00:22:26.680 --> 00:22:29.370\nBut the more packets that are rejected,\nright?\n\n403\n00:22:29.370 --> 00:22:31.620\nThe more of those messages\nhave to be created.\n\n404\n00:22:31.620 --> 00:22:36.140\nAnd the more resources it takes\nup on your firewall to do so.\n\n405\n00:22:36.140 --> 00:22:39.410\nSo the majority of the time we're\nprobably gonna end up choosing Block,\n\n406\n00:22:39.410 --> 00:22:40.740\nokay, instead.\n\n407\n00:22:40.740 --> 00:22:43.648\nAnd just simply deny that\ntraffic from getting in.\n\n408\n00:22:43.648 --> 00:22:46.214\nBut for our instance,\nthough, we really want Pass.\n\n409\n00:22:46.214 --> 00:22:48.310\nSo we're gonna select Pass.\n\n410\n00:22:48.310 --> 00:22:52.675\nNow, notice there's also\na Disable rule as well, okay?\n\n411\n00:22:52.675 --> 00:22:55.730\nNow if I'm gonna create a rule,\nDaniel, what in the world?\n\n412\n00:22:55.730 --> 00:22:58.782\nWhy would I need something to disable,\nI'm about to create one!\n\n413\n00:22:58.782 --> 00:22:59.367\n&gt;&gt; Yeah.\n[LAUGH]\n\n414\n00:22:59.367 --> 00:23:00.543\n&gt;&gt; What is going on? [LAUGH] &gt;&gt; Yeah,\n\n415\n00:23:00.543 --> 00:23:03.510\nokay, this is a fine feature, let me\ntell you what, ladies and gentlemen.\n\n416\n00:23:03.510 --> 00:23:04.700\nThat you can say, you know what?\n\n417\n00:23:04.700 --> 00:23:05.960\nI need to disable this rule.\n\n418\n00:23:05.960 --> 00:23:10.352\nAnd Ronnie, he's being facetious, he has a\nlittle rhetorical question going on here.\n\n419\n00:23:10.352 --> 00:23:13.310\nWhy would I wanna turn off my rule?\n\n420\n00:23:13.310 --> 00:23:15.354\nBecause sometimes you\nneed to test whether or\n\n421\n00:23:15.354 --> 00:23:18.002\nnot that rule is stopping traffic\nthat you want to come in.\n\n422\n00:23:18.002 --> 00:23:18.923\nAn easy way to do that?\n\n423\n00:23:18.923 --> 00:23:21.790\nDisable the rule, and\nsee if the traffic can come through.\n\n424\n00:23:21.790 --> 00:23:23.650\nIf it can,\nyou know your rule is stopping it.\n\n425\n00:23:23.650 --> 00:23:26.720\nIf it still is being blocked you know\nit's not that rule that's blocking it.\n\n426\n00:23:26.720 --> 00:23:28.570\nSo this is a wonderful feature.\n\n427\n00:23:28.570 --> 00:23:30.357\n&gt;&gt; It really is a wonderful\ntroubleshooting feature.\n\n428\n00:23:30.357 --> 00:23:33.366\nThe other thing that you may find\nout is that you need the rule.\n\n429\n00:23:33.366 --> 00:23:35.280\nBut you only need it temporarily.\n\n430\n00:23:35.280 --> 00:23:36.451\nOkay?\nFor right now.\n\n431\n00:23:36.451 --> 00:23:38.611\nSo it might be that you're\ntesting out something and\n\n432\n00:23:38.611 --> 00:23:41.175\nyou wanna make sure that nothing\nelse is interfering with it.\n\n433\n00:23:41.175 --> 00:23:43.437\nSo you go ahead and\nyou create the rule to block it.\n\n434\n00:23:43.437 --> 00:23:44.842\nAnd then you say, all right.\n\n435\n00:23:44.842 --> 00:23:49.140\nNow that it's done, I know that I might\nneed that rule a little bit later on.\n\n436\n00:23:49.140 --> 00:23:51.524\nBut I need to go ahead and\nblock it now, okay?\n\n437\n00:23:51.524 --> 00:23:53.863\nSo you can go ahead and\nmake it, allow it to work,\n\n438\n00:23:53.863 --> 00:23:55.929\nverify that everything's working here.\n\n439\n00:23:55.929 --> 00:23:59.353\nAnd then in the end, disable it and\njust let that rule park there.\n\n440\n00:23:59.353 --> 00:24:02.647\nIt's not really going to get\ngenerated if you kind of go, okay,\n\n441\n00:24:02.647 --> 00:24:06.690\nI've disabled this rule and\nthen you move it down in the list.\n\n442\n00:24:06.690 --> 00:24:09.110\nThat way it doesn't have to get\nevaluated every single time.\n\n443\n00:24:09.110 --> 00:24:11.740\nSo, the further you move it down,\nthe less likely it's gonna get evaluated.\n\n444\n00:24:12.850 --> 00:24:14.470\nSo, you might do something\nlike that as well.\n\n445\n00:24:14.470 --> 00:24:19.120\nSo, that's a great feature to always\nremember, especially if you're not sure.\n\n446\n00:24:19.120 --> 00:24:20.450\nI use this all the time.\n\n447\n00:24:20.450 --> 00:24:23.490\nI actually start off with the rule\ndisabled a lot of the times.\n\n448\n00:24:23.490 --> 00:24:24.600\nAnd then I turn it on, and\n\n449\n00:24:24.600 --> 00:24:28.905\nthen when somebody says, I can't get to\nthis any more, I simply go ooh, disable.\n\n450\n00:24:28.905 --> 00:24:31.020\n&gt;&gt; [LAUGH]\n&gt;&gt; Or I enable it, and\n\n451\n00:24:31.020 --> 00:24:32.400\nthen I disable it again, yeah.\n\n452\n00:24:32.400 --> 00:24:33.930\nAnd then I tell them to try again.\n\n453\n00:24:33.930 --> 00:24:36.200\nSo, I normally do start with it disabled.\n\n454\n00:24:36.200 --> 00:24:40.930\nAnd then I know as soon as I unchecked\nit and I click okay at the bottom.\n\n455\n00:24:40.930 --> 00:24:43.380\nAnd then somebody goes,\nRonnie I can't get access this and\n\n456\n00:24:43.380 --> 00:24:46.570\nI'm like crud let me disable it, and\nI'm still right there on the page.\n\n457\n00:24:46.570 --> 00:24:48.140\nSo I really like this.\n\n458\n00:24:48.140 --> 00:24:51.340\nOf course you want to choose the proper\ninterface, now this is neat right.\n\n459\n00:24:51.340 --> 00:24:55.210\nEven though I selected a LAN role,\nif you happen to made a mistake and\n\n460\n00:24:55.210 --> 00:24:57.780\ngo crud I didn't mean that,\nyou don't have to go back out.\n\n461\n00:24:57.780 --> 00:25:00.320\nYou simply choose the interface\nthat you want instead.\n\n462\n00:25:00.320 --> 00:25:02.180\nSo it gives you that ability\nto change that, as well.\n\n463\n00:25:03.330 --> 00:25:07.060\nI, of course, have the ability to do\nall the protocols that are out there,\n\n464\n00:25:07.060 --> 00:25:08.170\ntoo, right?\n\n465\n00:25:08.170 --> 00:25:11.030\nI can do it if it's IP version 6,\nif it's IP version 4.\n\n466\n00:25:11.030 --> 00:25:13.260\nNotice it gives me a combination,\n\n467\n00:25:13.260 --> 00:25:17.650\nif I wanted to,\nto be able to do both at the same time.\n\n468\n00:25:17.650 --> 00:25:19.450\nSo this is where it gets tricky, right?\n\n469\n00:25:19.450 --> 00:25:24.470\nIf you do have rules that are both, well\nthat's the feature that would help you.\n\n470\n00:25:24.470 --> 00:25:26.430\nI'm really going to\ndeal with IP version 4.\n\n471\n00:25:26.430 --> 00:25:29.650\nI'm not going to deal with IP version\n6 right now cause we're still\n\n472\n00:25:29.650 --> 00:25:31.340\nkind of in those stages.\n\n473\n00:25:31.340 --> 00:25:35.140\nNow, this is where it becomes\na little bit more important for\n\n474\n00:25:35.140 --> 00:25:39.397\nus as well to pay attention when we start\ngetting to the idea of protocol, okay?\n\n475\n00:25:40.470 --> 00:25:43.880\nNow there are a lot of protocols\nthat are available to us.\n\n476\n00:25:43.880 --> 00:25:49.620\nAnd since we're talking about the web\nserver specifically, okay, if I just open\n\n477\n00:25:49.620 --> 00:25:55.540\nit up for that single IP address, whatever\nmy IP address may be to my web server,\n\n478\n00:25:55.540 --> 00:26:01.590\nI am allowing all of this traffic,\nright here, to come in, okay?\n\n479\n00:26:01.590 --> 00:26:06.495\nIf I do TCP, I'm allowing all traffic that\nneeds some type of handshake to come in,\n\n480\n00:26:06.495 --> 00:26:07.840\nokay, which is fine.\n\n481\n00:26:07.840 --> 00:26:11.272\nSome type of acknowledgement that\nthe connection's been established come in.\n\n482\n00:26:11.272 --> 00:26:14.810\nThat's about 80% of all the traffic\nthat we have out there, okay?\n\n483\n00:26:14.810 --> 00:26:21.110\nSo, if I don't limit it in some way, if I\nselect Any, it's opened up to everything.\n\n484\n00:26:21.110 --> 00:26:22.530\nThat may be more than I want.\n\n485\n00:26:22.530 --> 00:26:24.380\nAnd this is why it's\nactually important for us,\n\n486\n00:26:24.380 --> 00:26:29.420\nespecially on the WAN rules so far,\nis that, what we wanna do, is what I said.\n\n487\n00:26:29.420 --> 00:26:33.270\nIs we only wanna allow specific\ntraffic that we wanna come in.\n\n488\n00:26:33.270 --> 00:26:37.040\nSo even though we've already said that\nwe're gonna limit it to our web server,\n\n489\n00:26:37.040 --> 00:26:39.840\nthat one single web server,\nDaniel, what do you think?\n\n490\n00:26:39.840 --> 00:26:41.370\nIt's just a web server.\n\n491\n00:26:41.370 --> 00:26:46.720\nDo I need to allow all TCP traffic\nto come in to just the web server?\n\n492\n00:26:46.720 --> 00:26:48.150\nI might be able to limit\nit a little bit more.\n\n493\n00:26:48.150 --> 00:26:51.472\n&gt;&gt; Yeah, I also say, it would definitely\ndepend on your environment or\n\n494\n00:26:51.472 --> 00:26:53.745\nyour situation but not necessarily, right?\n\n495\n00:26:53.745 --> 00:26:55.785\n&gt;&gt; Uh-hm.\n&gt;&gt; You might want all TCP traffic but\n\n496\n00:26:55.785 --> 00:26:56.980\nyou might not.\n\n497\n00:26:56.980 --> 00:26:58.320\nAgain, it's going to depend.\n\n498\n00:26:58.320 --> 00:27:02.617\n&gt;&gt; It really is, but at this point,\nlet's just say, I want TCP traffic but\n\n499\n00:27:02.617 --> 00:27:07.408\nnow notice that I can actually change that\nup down here in terms of the destination\n\n500\n00:27:07.408 --> 00:27:11.088\nof where it's going and\nthen I can limit it by the port number.\n\n501\n00:27:11.088 --> 00:27:12.700\nAnd that's what I also want to do.\n\n502\n00:27:12.700 --> 00:27:13.960\n&gt;&gt; Can you limit it by the protocol?\n\n503\n00:27:13.960 --> 00:27:15.710\n&gt;&gt; You can limit it by the protocol even.\n\n504\n00:27:15.710 --> 00:27:17.040\nYes you can.\n\n505\n00:27:17.040 --> 00:27:18.050\nSo that way you can do that.\n\n506\n00:27:18.050 --> 00:27:22.230\nSo I'm gonna select TCP at this\npoint to not just give it all IP,\n\n507\n00:27:22.230 --> 00:27:23.850\nnot everything, okay.\n\n508\n00:27:23.850 --> 00:27:28.022\nNow on the source, I don't care who's\ncoming in, everybody on the internet,\n\n509\n00:27:28.022 --> 00:27:31.031\nI want them to be able to get\nto my webpage perfectly fine.\n\n510\n00:27:31.031 --> 00:27:32.450\nSo I'm not going to\nworry about the source.\n\n511\n00:27:32.450 --> 00:27:35.460\nNow, there's a bunch of other\nthings down here that you can do.\n\n512\n00:27:35.460 --> 00:27:36.230\nYou can even say,\n\n513\n00:27:36.230 --> 00:27:40.600\nhey, as long as they have a particular\nprotocol in the source port range,\n\n514\n00:27:40.600 --> 00:27:45.580\nif you want to make them work that hard\nto make sure, you can definitely do that.\n\n515\n00:27:45.580 --> 00:27:49.920\nBut, what we're really wanting of\ncourse is the idea of the destination.\n\n516\n00:27:49.920 --> 00:27:52.560\nSo here, I an select this dropdown.\n\n517\n00:27:52.560 --> 00:27:56.220\nAnd now, I have a ton of different things.\n\n518\n00:27:56.220 --> 00:28:00.297\nI can actually limit it to that one,\nsingle host or alias, okay?\n\n519\n00:28:01.320 --> 00:28:07.200\nSo this is where I can simply put\nin the IP address right here.\n\n520\n00:28:07.200 --> 00:28:11.960\nSo let's just say that\nthis one is 10.1.110.106.\n\n521\n00:28:11.960 --> 00:28:15.540\n106, let's try that okay.\n\n522\n00:28:15.540 --> 00:28:19.680\nNow because it's a single 1, I don't have\nto worry about the subnet mask at the end.\n\n523\n00:28:19.680 --> 00:28:21.920\nAnd now I can go to the port range.\n\n524\n00:28:23.940 --> 00:28:29.540\nAnd I'm not so\nworry about the from as much as the to.\n\n525\n00:28:29.540 --> 00:28:32.490\nAnd I can say http, for\n\n526\n00:28:32.490 --> 00:28:37.430\nthis one, if I want to,\nand that might be it.\n\n527\n00:28:37.430 --> 00:28:38.870\nNow, if I go ahead and do this,\n\n528\n00:28:38.870 --> 00:28:44.980\nnotice that I'm not really\nallowing https as well, okay.\n\n529\n00:28:44.980 --> 00:28:47.270\nSo this one's only blocking port 80, so\n\n530\n00:28:47.270 --> 00:28:52.740\nthat means I have to crate another\nrule that would also block https.\n\n531\n00:28:52.740 --> 00:28:55.870\nWell, we're gonna see something a little\nbit later when we get to the term,\n\n532\n00:28:55.870 --> 00:28:57.040\naliases, here.\n\n533\n00:28:57.040 --> 00:28:59.920\nWhere we may actually choose\na better option instead.\n\n534\n00:28:59.920 --> 00:29:02.760\nBut at this point,\nlet's go ahead and do this.\n\n535\n00:29:02.760 --> 00:29:07.014\nThe other extra option that we have here\nof course is to log this type of packet\n\n536\n00:29:07.014 --> 00:29:08.483\nthat's coming through.\n\n537\n00:29:08.483 --> 00:29:13.461\nSome people like the idea of logging but\nremember that this does build up and\n\n538\n00:29:13.461 --> 00:29:16.555\nin terms of resources on\nyour a firewall here.\n\n539\n00:29:16.555 --> 00:29:18.073\nSo if you really don't need it,\n\n540\n00:29:18.073 --> 00:29:21.337\nwe normally don't recommend that you\nturn it on cuz it build up really\n\n541\n00:29:21.337 --> 00:29:24.852\nquickly especially on something like well,\nweb traffic if you had that.\n\n542\n00:29:24.852 --> 00:29:25.519\nAll right.\n\n543\n00:29:25.519 --> 00:29:29.280\nSo let's just say, now, what we want\nto do here is a description, right?\n\n544\n00:29:29.280 --> 00:29:38.390\nSo allow, HTTP allow.\n\n545\n00:29:38.390 --> 00:29:44.491\nHTTP to, and now I'm gonna actually put,\nlet's just say web servers.\n\n546\n00:29:50.088 --> 00:29:54.048\nOkay, so I'm not gonna worry about these\nadvanced options for right now, and\n\n547\n00:29:54.048 --> 00:29:54.950\njust click Save.\n\n548\n00:29:56.630 --> 00:29:59.800\nAnd then, before I apply the changes here,\n\n549\n00:29:59.800 --> 00:30:03.110\nokay, this is your last,\nI don't want to say your last opportunity.\n\n550\n00:30:03.110 --> 00:30:09.520\nThis is an opportunity for you to go ahead\nand check your logic before applying it.\n\n551\n00:30:09.520 --> 00:30:11.970\nSo right now,\nthe rule hasn't applied yet, okay?\n\n552\n00:30:11.970 --> 00:30:16.820\nIt's still giving you a chance before\nyou click that apply the change here,\n\n553\n00:30:16.820 --> 00:30:18.750\nTaisho apply a change.\n\n554\n00:30:18.750 --> 00:30:22.980\nSo, notice right here what I want to\ndo is I want to verify my protocol,\n\n555\n00:30:22.980 --> 00:30:26.820\nTCP, and\nI wanna make sure that I'm blocking,\n\n556\n00:30:26.820 --> 00:30:28.900\napparently I blocked\nmore ports than I needed.\n\n557\n00:30:28.900 --> 00:30:34.140\nSo, let me check that out for a second\nhere before I say what I did here.\n\n558\n00:30:34.140 --> 00:30:38.595\nSee, I went all the way to 15, I was like,\nman, that was a lot more than I thought.\n\n559\n00:30:38.595 --> 00:30:39.900\n&gt;&gt; [LAUGH]\n&gt;&gt; So let me make sure.\n\n560\n00:30:39.900 --> 00:30:41.560\nSee, that's a good reason why to check it.\n\n561\n00:30:41.560 --> 00:30:42.200\n&gt;&gt; That's right.\n\n562\n00:30:42.200 --> 00:30:42.920\n&gt;&gt; Yep.\n\n563\n00:30:42.920 --> 00:30:44.680\nAnd then I click Save again.\n\n564\n00:30:44.680 --> 00:30:46.210\nSo if that doesn't look right.\n\n565\n00:30:46.210 --> 00:30:50.110\nSo now, it's actually going to this\ndestination on this port number.\n\n566\n00:30:50.110 --> 00:30:51.340\nHey, and there we go.\n\n567\n00:30:51.340 --> 00:30:53.540\nSo as long as I wanna do that,\nthat's fine.\n\n568\n00:30:54.870 --> 00:30:58.370\nI click Apply, and\nnow as web traffic comes in,\n\n569\n00:30:58.370 --> 00:31:02.510\nit will allow it to go\nthrough the WAN interface.\n\n570\n00:31:02.510 --> 00:31:08.320\nAnd then, if it's port 80, okay, then it\nwill allow it to make the connection.\n\n571\n00:31:08.320 --> 00:31:12.390\nBut if it's trying to do this\non some other port, port 25,\n\n572\n00:31:12.390 --> 00:31:15.680\nit shouldn't allow it cuz that's\nnot the specific traffic.\n\n573\n00:31:15.680 --> 00:31:19.560\nSo, it's key that we're actually\nseeing this right here,\n\n574\n00:31:19.560 --> 00:31:23.710\nis where we can actually set this up,\nand you only what to allow, like I said,\n\n575\n00:31:23.710 --> 00:31:26.720\nthe limited amount of\ntraffic you want to come in.\n\n576\n00:31:26.720 --> 00:31:28.700\nOpening it up is never a good idea,\n\n577\n00:31:28.700 --> 00:31:32.830\nand just like,\nit's just the IP address to one server.\n\n578\n00:31:32.830 --> 00:31:37.260\nWhat we want instead is to try and\nminimize as much of an option,\n\n579\n00:31:37.260 --> 00:31:41.880\nmake the hole that we punch into\nour firewall as small as possible.\n\n580\n00:31:41.880 --> 00:31:46.140\nSo by choosing that one IP address,\nand then by choosing the one or\n\n581\n00:31:46.140 --> 00:31:50.190\na couple of port numbers, we can\nactually allow that to come through.\n\n582\n00:31:50.190 --> 00:31:54.900\nNow we've really got a bit more to show\nyou, even on WAN configurations, but\n\n583\n00:31:54.900 --> 00:31:58.440\nDaniel it looks like once again\nI have talked a long time.\n\n584\n00:31:58.440 --> 00:32:01.550\nAnd it just seems like I tend to do that.\n\n585\n00:32:01.550 --> 00:32:02.220\n&gt;&gt; You're a long winded man.\n\n586\n00:32:02.220 --> 00:32:02.980\n&gt;&gt; [LAUGH]\n&gt;&gt; Ronnie Long.\n\n587\n00:32:02.980 --> 00:32:05.570\nSo, nothing to be ashamed\nof it just is what it is.\n\n588\n00:32:05.570 --> 00:32:07.000\nWe've learned to live with it around here.\n\n589\n00:32:07.000 --> 00:32:08.120\n&gt;&gt; [LAUGH]\n&gt;&gt; And hopefully you have as well.\n\n590\n00:32:08.120 --> 00:32:11.820\nBecause usually when he's running his yap,\nhe's got some good information coming out\n\n591\n00:32:11.820 --> 00:32:15.150\nof it, so we appreciate the fact\nthat he's verbose, right?\n\n592\n00:32:15.150 --> 00:32:18.890\nBut yeah, sure, we'll definitely do\na part two, we got plenty of information.\n\n593\n00:32:18.890 --> 00:32:24.440\nYou done a great job so far, of showing us\nhow easy it is to really add a rule and\n\n594\n00:32:24.440 --> 00:32:29.180\nbacking up some the key concepts\nbehind fire-walling, so we understand\n\n595\n00:32:29.180 --> 00:32:33.850\nhow to correctly implement rules,\nshould we be doing an implicit deny.\n\n596\n00:32:33.850 --> 00:32:37.530\nMaybe we wanna go with that implicit\nallow, probably not the best idea,\n\n597\n00:32:37.530 --> 00:32:38.900\nmost people don't think so anyway.\n\n598\n00:32:38.900 --> 00:32:42.430\nBut, there is a time and place for just\nabout everything, and setting those rules\n\n599\n00:32:42.430 --> 00:32:47.280\nup using interface inside of the PF Sense\nWeb GUI has been super easy so far.\n\n600\n00:32:47.280 --> 00:32:49.490\nSo I expect nothing less\nfrom the rest of this show.\n\n601\n00:32:49.490 --> 00:32:51.950\nSo I look forward to\nseeing you in part two.\n\n602\n00:32:51.950 --> 00:32:54.640\nHopefully you good folks\nwill join us as well.\n\n603\n00:32:54.640 --> 00:32:57.080\nBut as Ronnie said,\nwe've run out of time for this episode.\n\n604\n00:32:57.080 --> 00:33:00.640\nSo signing off for ITProTV,\nI've been your host Daniel Lowrie.\n\n605\n00:33:00.640 --> 00:33:01.657\n&gt;&gt; And I'm Ronnie Wong.\n\n606\n00:33:01.657 --> 00:33:03.942\n&gt;&gt; And we'll see you next time.\n\n607\n00:33:03.942 --> 00:33:10.009\n[MUSIC]\n\n608\n00:33:10.009 --> 00:33:13.124\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "195801394"
        },
        {
          "description": "In this episode, Daniel and Ronnie explain the use of aliasing in your pfSense firewall. Aliasing allows you to create a rule that casts a wide net to remove the clutter and tediousness of creating many individual rules.",
          "length": "1193",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-1-2-configure_WAN_firewall_rules_pt2-121316.00_19_51_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-1-2-configure_WAN_firewall_rules_pt2-121316.00_19_51_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-1-2-configure_WAN_firewall_rules_pt2-121316.00_19_51_24.Still001-sm.jpg",
          "title": "Configure WAN Firewall Rules Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.524\nWelcome to ITProTV,\nI'm your host [CROSSTALK]\n\n2\n00:00:02.524 --> 00:00:06.945\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.945 --> 00:00:08.362\n[MUSIC]\n\n4\n00:00:08.362 --> 00:00:12.104\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.104 --> 00:00:13.238\n&gt;&gt; All right, greetings, everyone.\n\n6\n00:00:13.238 --> 00:00:16.017\nAnd welcome to another\nexciting episode of ITProTV.\n\n7\n00:00:16.017 --> 00:00:18.110\nI am your host, Daniel Lowrie.\n\n8\n00:00:18.110 --> 00:00:21.690\nAnd of course, we're back for\nmore on our pfSense series.\n\n9\n00:00:21.690 --> 00:00:25.050\nAnd joining us back in the studio, again,\nis our good friend, Mr. Ronnie Wong.\n\n10\n00:00:25.050 --> 00:00:26.260\nRonnie, welcome back, sir.\n\n11\n00:00:26.260 --> 00:00:29.612\nI know you got a little more to talk to\nus about configuring WAN rules today.\n\n12\n00:00:29.612 --> 00:00:31.700\n&gt;&gt; There is no doubt that we\nhave just a little bit more.\n\n13\n00:00:31.700 --> 00:00:33.990\nBut it's important for\nus to get this stuff in.\n\n14\n00:00:33.990 --> 00:00:36.990\nThe reason why is that,\nas you actually start creating more and\n\n15\n00:00:36.990 --> 00:00:41.190\nmore of these rules,\nit can become a bit more confusing.\n\n16\n00:00:41.190 --> 00:00:44.680\nEspecially when you don't\nuse things like aliases.\n\n17\n00:00:44.680 --> 00:00:47.967\nSo we wanted to make sure that we got\nthe idea of using aliases in here for\n\n18\n00:00:47.967 --> 00:00:49.155\nthis episode, as well.\n\n19\n00:00:49.155 --> 00:00:51.370\nAnd we want to create\nat least one more rule.\n\n20\n00:00:51.370 --> 00:00:52.340\nEven though we showed you one,\n\n21\n00:00:52.340 --> 00:00:56.710\nwe want to do at least one more to kinda\nhelp us even out a few things, as well.\n\n22\n00:00:56.710 --> 00:00:58.861\nBut let's take a look at where\nwe picked up from last time.\n\n23\n00:00:58.861 --> 00:01:01.190\nAnd then we'll start from there.\n\n24\n00:01:01.190 --> 00:01:04.000\nSo the last thing that we\ndid in a previous episode\n\n25\n00:01:04.000 --> 00:01:06.820\nis that we configured this final row here.\n\n26\n00:01:06.820 --> 00:01:12.160\nWhere we were saying we're just going\nto make sure that we only allow for\n\n27\n00:01:12.160 --> 00:01:15.803\ntraffic coming in to port\n80 to this destination.\n\n28\n00:01:15.803 --> 00:01:18.133\nAnd this is just an IP\naddress I picked out here.\n\n29\n00:01:18.133 --> 00:01:22.782\nI don't actually have a web server out\nthere, but the key here is simple, right?\n\n30\n00:01:22.782 --> 00:01:26.542\nIs not only did we limit access\nto just that single host,\n\n31\n00:01:26.542 --> 00:01:30.072\nbut we also limited it to port 80,\nas well, okay?\n\n32\n00:01:30.072 --> 00:01:33.055\nAnd so that only opens\na very small opportunity for\n\n33\n00:01:33.055 --> 00:01:37.690\npeople to be able to pass through\nthese rules and get that configured.\n\n34\n00:01:37.690 --> 00:01:41.070\nNow of course, that's not\nthe only option that we can have.\n\n35\n00:01:41.070 --> 00:01:42.574\nI can use a port number, and\n\n36\n00:01:42.574 --> 00:01:45.797\nactually type that port number\nin if I don't see it there.\n\n37\n00:01:45.797 --> 00:01:49.520\nBut I can also, of course,\nuse the protocol like we did, as well.\n\n38\n00:01:49.520 --> 00:01:51.470\nSo one of the other things\nthen is I'm gonna click Add.\n\n39\n00:01:51.470 --> 00:01:52.758\nAnd we're gonna create a new one.\n\n40\n00:01:52.758 --> 00:01:57.023\nLet's say that, for example,\nthat there's also another server, or\n\n41\n00:01:57.023 --> 00:02:00.730\nthat same server, I also wanna\nbe able to RDP into it, right?\n\n42\n00:02:00.730 --> 00:02:03.980\nSo that I can take control over\nthat machine if I choose to.\n\n43\n00:02:03.980 --> 00:02:08.746\nSo on this one, I'm gonna select Pass,\njust like we did before.\n\n44\n00:02:08.746 --> 00:02:11.240\nAnd we're gonna go on the WAN interface.\n\n45\n00:02:11.240 --> 00:02:14.620\nNow this is important because normally,\nif I'm outside of my network,\n\n46\n00:02:14.620 --> 00:02:17.350\nI don't really want any\nother traffic to come in.\n\n47\n00:02:17.350 --> 00:02:21.380\nBut if I know that I need to take control\nover this, this is one way I can do that.\n\n48\n00:02:21.380 --> 00:02:24.940\nNow if I don't have a VPN tunnel, this\nis probably something you'll have to do.\n\n49\n00:02:24.940 --> 00:02:29.690\nMost of the time you'll use just a VPN\ntunnel instead to get you connected in.\n\n50\n00:02:29.690 --> 00:02:32.380\nWe're gonna select TCP again.\n\n51\n00:02:32.380 --> 00:02:36.530\nAnd then of course, at this point here,\nwe can also go ahead and\n\n52\n00:02:36.530 --> 00:02:37.740\nselect the destination.\n\n53\n00:02:37.740 --> 00:02:39.460\nNow before I do that,\n\n54\n00:02:39.460 --> 00:02:42.788\nI wanna talk about one other option\nup here under the Protocols, too.\n\n55\n00:02:43.810 --> 00:02:47.000\nSo when you start to take a look\nat some of these protocols that's\n\n56\n00:02:47.000 --> 00:02:47.850\nlisted right here.\n\n57\n00:02:49.170 --> 00:02:54.177\nThe one any is a little bit more\nunusual because it does allow for\n\n58\n00:02:54.177 --> 00:02:57.876\nall open,\njust any protocol that you want to.\n\n59\n00:02:57.876 --> 00:03:02.172\nIf you're gonna be using something\nlike SSH, or anything like that, well,\n\n60\n00:03:02.172 --> 00:03:06.820\nnotice that you don't have the ability\nto filter it right here very easily.\n\n61\n00:03:06.820 --> 00:03:09.790\nWhat you can do instead, is, if you\ndon't know exactly what's gonna happen,\n\n62\n00:03:09.790 --> 00:03:11.880\nyou can actually say any protocol.\n\n63\n00:03:11.880 --> 00:03:14.730\nAnd then use the Destination here\n\n64\n00:03:14.730 --> 00:03:17.850\nto limit it down to that\nsingle port if you want to.\n\n65\n00:03:17.850 --> 00:03:21.530\nSo of course, the more specific that\nyou make it, the better it can be.\n\n66\n00:03:21.530 --> 00:03:25.800\nBut you find out that you have to use\nthe any sometimes before you can actually\n\n67\n00:03:25.800 --> 00:03:26.830\ndo anything.\n\n68\n00:03:26.830 --> 00:03:28.110\nSo if you're not exactly sure.\n\n69\n00:03:28.110 --> 00:03:32.520\nSo what I can do here then is\nmake sure that I go to any.\n\n70\n00:03:32.520 --> 00:03:35.930\nAnd then I select that Single host again.\n\n71\n00:03:35.930 --> 00:03:39.650\nAnd from here, I can go ahead and\nput in the destination.\n\n72\n00:03:39.650 --> 00:03:42.760\nNow notice that if I select any, and\nthis is why we're gonna change it.\n\n73\n00:03:42.760 --> 00:03:45.530\nCuz I wanted you to see\nwhat happens if we do this.\n\n74\n00:03:45.530 --> 00:03:47.290\nSo we'll select that 106.\n\n75\n00:03:47.290 --> 00:03:50.710\nI don't have the ability\nto specify a port number.\n\n76\n00:03:50.710 --> 00:03:52.360\nIt's only when I come back up here and\n\n77\n00:03:52.360 --> 00:03:57.270\nI choose like, TCP,\nthat now it gives me these other options.\n\n78\n00:03:57.270 --> 00:04:00.060\nSo that way you might actually\nhave to let everything in.\n\n79\n00:04:00.060 --> 00:04:03.910\nBut if you don't have to let everything\nin, this is what you do instead.\n\n80\n00:04:03.910 --> 00:04:07.500\nAnd what we're looking for,\nof course, is the To.\n\n81\n00:04:07.500 --> 00:04:12.870\nAnd then we can either type it in here,\nor we can actually select like this one.\n\n82\n00:04:12.870 --> 00:04:14.640\nAnd it shows up right there.\n\n83\n00:04:14.640 --> 00:04:17.980\nAnd a lot of times,\nyou can actually do both if you want to.\n\n84\n00:04:17.980 --> 00:04:22.610\nBut it will tell you, or it will set it in\nplace if the match on what you need to do.\n\n85\n00:04:22.610 --> 00:04:27.250\nLet's say on this one I'm just\ngoing to select any at this point.\n\n86\n00:04:27.250 --> 00:04:32.060\nFrom, and then we'll select the To,\nand this one will be,\n\n87\n00:04:32.060 --> 00:04:40.350\nAllows RDP to Connect to WebServer.\n\n88\n00:04:40.350 --> 00:04:41.524\nNow that's just an example.\n\n89\n00:04:41.524 --> 00:04:44.300\nIt's not something you'd probably\nreally want to do in real life.\n\n90\n00:04:44.300 --> 00:04:46.250\nBut you do have that option.\n\n91\n00:04:46.250 --> 00:04:50.680\nSo if I click on Display the Advanced, it\nwill give you some other advanced options.\n\n92\n00:04:50.680 --> 00:04:53.480\nI don't normally actually\nchange a lot of these options.\n\n93\n00:04:53.480 --> 00:04:55.170\nThis is for something very specific,\n\n94\n00:04:55.170 --> 00:04:57.790\nif you're really trying\nto control a lot more.\n\n95\n00:04:57.790 --> 00:05:02.050\nLike you can actually control\nthe TCP Flags, State Types, you name it.\n\n96\n00:05:02.050 --> 00:05:04.910\nThere's a ton of additional\noptions in there.\n\n97\n00:05:04.910 --> 00:05:09.230\nSo check it out if you need to, but most\nof the time we'll just select this and\n\n98\n00:05:09.230 --> 00:05:09.890\nclick Save.\n\n99\n00:05:11.410 --> 00:05:14.910\nNow I have these two different rules,\nand there it is again.\n\n100\n00:05:14.910 --> 00:05:19.170\nIt gives us a final chance, and\nnotice that mine just selected everything.\n\n101\n00:05:19.170 --> 00:05:21.020\nSo it means I need to go back in and,\n\n102\n00:05:21.020 --> 00:05:25.060\nover here on the right-hand side,\nI'll select this pencil to edit this rule.\n\n103\n00:05:27.910 --> 00:05:33.310\nSo lemme go back and now,\nbecause I didn't select what I needed to,\n\n104\n00:05:33.310 --> 00:05:35.860\nI need to select the, what did say, RDP?\n\n105\n00:05:35.860 --> 00:05:37.726\nThat's the one that I needed.\n\n106\n00:05:37.726 --> 00:05:42.420\nSo if you would take a look,\nthere it is, Microsoft RDP, and\n\n107\n00:05:42.420 --> 00:05:43.760\nthis time we'll click Save.\n\n108\n00:05:45.010 --> 00:05:46.900\nAnd notice it's not showing up.\n\n109\n00:05:46.900 --> 00:05:49.440\nSo it doesn't like\nthe way that I did that.\n\n110\n00:05:49.440 --> 00:05:51.705\nSo that means I must have\nto actually go back in.\n\n111\n00:05:51.705 --> 00:05:57.336\nAnd let's see if it actually allows me\nto type something in here, instead.\n\n112\n00:05:57.336 --> 00:06:01.958\nOr I might have to choose Other, and\nthat's point, what is it, is it 3389?\n\n113\n00:06:01.958 --> 00:06:03.056\n&gt;&gt; 3389.\n\n114\n00:06:03.056 --> 00:06:06.510\n&gt;&gt; And let's see if it actually\nallows me to do that instead.\n\n115\n00:06:08.320 --> 00:06:10.660\nClick Save, and now, there it is.\n\n116\n00:06:10.660 --> 00:06:16.157\nIt went ahead, and you can see where it\nrecognized it this time as MS RDP instead.\n\n117\n00:06:16.157 --> 00:06:17.350\nAnd so that way, you know.\n\n118\n00:06:17.350 --> 00:06:20.730\nSo sometimes, even though I\nselected the right one, it's like,\n\n119\n00:06:20.730 --> 00:06:23.900\nI don't really want to take that so\nyou might have to type it in.\n\n120\n00:06:23.900 --> 00:06:27.620\nSo select the Other, do a custom one,\nand apply the changes.\n\n121\n00:06:27.620 --> 00:06:28.702\nSo now we have these two.\n\n122\n00:06:28.702 --> 00:06:32.073\nNow even though they're actually\nselected for that one machine,\n\n123\n00:06:32.073 --> 00:06:36.680\nnotice it didn't give me the option to\nselect multiple protocols to do that.\n\n124\n00:06:36.680 --> 00:06:39.440\nSo that's why we have these two rules.\n\n125\n00:06:39.440 --> 00:06:42.960\nAs a general rule of thumb though, when\nwe start talking about best practices for\n\n126\n00:06:42.960 --> 00:06:44.660\nfirewall rules.\n\n127\n00:06:44.660 --> 00:06:47.030\nThe shorter the rules are,\nthe better, okay?\n\n128\n00:06:47.030 --> 00:06:48.970\nThe simpler the rules are, the better.\n\n129\n00:06:50.020 --> 00:06:53.620\nBut now I'm starting to\nlengthen the entire list\n\n130\n00:06:53.620 --> 00:06:55.680\nof all the firewall rules on this.\n\n131\n00:06:55.680 --> 00:06:57.910\nAnd this is on one machine.\n\n132\n00:06:57.910 --> 00:07:02.050\nSo you can see where this can\nget just a little bit more hefty\n\n133\n00:07:02.050 --> 00:07:03.880\nas you start to have now a single machine.\n\n134\n00:07:03.880 --> 00:07:07.295\nAnd go, well, there's like ten protocols\nI need to get access to that machine.\n\n135\n00:07:07.295 --> 00:07:11.070\nAnd now I have to have an individual\nrule for each and every one of them?\n\n136\n00:07:11.070 --> 00:07:13.300\nWell, yeah, if you were to do that.\n\n137\n00:07:13.300 --> 00:07:15.830\nSo what can we do about this?\n\n138\n00:07:15.830 --> 00:07:18.270\nWell, there's a couple of\noptions that you can do.\n\n139\n00:07:18.270 --> 00:07:22.730\nAnd one of them, let's say, is actually\nan option to create an alias instead.\n\n140\n00:07:22.730 --> 00:07:23.900\nAnd we can create an alias for\n\n141\n00:07:23.900 --> 00:07:29.360\nthings like IP addresses as well as\nthings like port numbers and even URLs.\n\n142\n00:07:29.360 --> 00:07:33.300\nSo let me show you instead what\nI like to do as well, okay?\n\n143\n00:07:33.300 --> 00:07:35.470\nSo notice these two rules down here.\n\n144\n00:07:35.470 --> 00:07:39.090\nAnd we're gonna kind of get rid of\nthose rules after a moment here\n\n145\n00:07:39.090 --> 00:07:40.610\non this firewall side.\n\n146\n00:07:40.610 --> 00:07:45.220\nAnd I'm gonna click on Firewall and\nselect Aliases instead.\n\n147\n00:07:45.220 --> 00:07:50.209\nOnce I select Aliases, it gives me this\nopportunity to create an alias for\n\n148\n00:07:50.209 --> 00:07:52.793\nIP addresses, port numbers, URLs.\n\n149\n00:07:52.793 --> 00:07:54.600\nAnd then, of course, it lists all of them.\n\n150\n00:07:54.600 --> 00:07:58.320\nNow we're really focusing in on IPs and\nport numbers.\n\n151\n00:07:58.320 --> 00:08:02.280\nURLs, if you have a whole list\nof IP addresses, let's say for\n\n152\n00:08:02.280 --> 00:08:05.460\nexample, and\nI would never be able to find this out.\n\n153\n00:08:05.460 --> 00:08:08.700\nBut like every single Facebook server\non the planet, if I wanted to,\n\n154\n00:08:08.700 --> 00:08:10.200\non all the IP addresses.\n\n155\n00:08:10.200 --> 00:08:14.401\nCuz I wanted to create a rule to\nkind of limit the access that they\n\n156\n00:08:14.401 --> 00:08:16.315\ncould have into my network.\n\n157\n00:08:16.315 --> 00:08:18.180\nThat would be kind of silly.\n\n158\n00:08:18.180 --> 00:08:20.301\nBut you can kind of do that,\nif you chose to.\n\n159\n00:08:20.301 --> 00:08:24.159\nActually create an alias and say you can\nonly connect on this port to Facebook,\n\n160\n00:08:24.159 --> 00:08:25.042\nif you wanted to.\n\n161\n00:08:25.042 --> 00:08:28.700\nAnd you can use these on LAN\ninterfaces as well as WANs.\n\n162\n00:08:28.700 --> 00:08:30.090\nBut let's select Ports right now,\n\n163\n00:08:30.090 --> 00:08:33.060\nsince that's the one we\nwere talking about, okay?\n\n164\n00:08:33.060 --> 00:08:38.450\nSo if I select Ports,\nnotice it shows the Firewall Alias Ports.\n\n165\n00:08:38.450 --> 00:08:43.550\nAnd so the two port numbers that we\nopened up was 3389 and port 80, okay?\n\n166\n00:08:44.800 --> 00:08:47.980\nSo let's say that you realize\nthat there is a couple of other\n\n167\n00:08:47.980 --> 00:08:49.490\nports that you need in there.\n\n168\n00:08:49.490 --> 00:08:51.720\nBut they're specifically for\nsomething that you want.\n\n169\n00:08:51.720 --> 00:08:54.180\nSo let's talk about the idea\nof management ports.\n\n170\n00:08:54.180 --> 00:08:56.180\nSo we'll just give that a name, right?\n\n171\n00:08:56.180 --> 00:08:58.428\nSo I don't wanna open up\neverything on the web server.\n\n172\n00:08:58.428 --> 00:09:01.230\nBut I wanna open up\nmanagement ports instead.\n\n173\n00:09:01.230 --> 00:09:04.280\nWell I can select Add here.\n\n174\n00:09:04.280 --> 00:09:10.320\nAnd now I'll just call it\nManagement Ports, okay?\n\n175\n00:09:10.320 --> 00:09:18.010\nSo here, these are gonna be,\nManagement, Ports.\n\n176\n00:09:19.610 --> 00:09:22.360\nAnd on this particular type,\nit's asking me do I want to do this for\n\n177\n00:09:22.360 --> 00:09:26.490\nthe entire network or\ndo I want this for a particular host?\n\n178\n00:09:26.490 --> 00:09:28.720\nI'll select Host(s) here.\n\n179\n00:09:28.720 --> 00:09:33.070\nAnd now it will go ahead and ask me,\nEnter as many hosts as desired.\n\n180\n00:09:33.070 --> 00:09:35.471\nAnd what I want, so\nwe'll just follow the same thing.\n\n181\n00:09:35.471 --> 00:09:40.130\n10.1.110.106 as well, and\n\n182\n00:09:40.130 --> 00:09:44.260\nwe'll call this one the Web server.\n\n183\n00:09:45.490 --> 00:09:48.770\nWell, actually, I needed ports, didn't I?\n\n184\n00:09:48.770 --> 00:09:50.790\nDid I select,\nI did the wrong one, didn't I?\n\n185\n00:09:50.790 --> 00:09:52.899\nSo my apologizes, I need Port(s).\n\n186\n00:09:52.899 --> 00:09:54.204\nI was like,\nwhy is that giving me an IP addresses?\n\n187\n00:09:54.204 --> 00:09:57.740\n&gt;&gt; [LAUGH]\n&gt;&gt; So I was like, I needed ports.\n\n188\n00:09:57.740 --> 00:09:59.810\nMy apologies, I just can't read.\n\n189\n00:09:59.810 --> 00:10:02.160\nThat's kind of the big thing here.\n\n190\n00:10:02.160 --> 00:10:08.549\nSo at this point, let's go ahead and\nsay, hey, I want port 3389.\n\n191\n00:10:08.549 --> 00:10:11.169\nAnd we'll call this one RDP.\n\n192\n00:10:11.169 --> 00:10:16.626\nAnd I can add a port here, and\nthen I can also add in, let's say port 80.\n\n193\n00:10:16.626 --> 00:10:17.733\nThis can be HTTP.\n\n194\n00:10:20.950 --> 00:10:27.636\nAnd I can even do port 443,\nand this will give me HTTPS.\n\n195\n00:10:27.636 --> 00:10:33.394\nAnd let's do one more for SSH,\nwhich is gonna be port 22.\n\n196\n00:10:33.394 --> 00:10:34.025\nOops.\n\n197\n00:10:35.879 --> 00:10:36.525\nSSH.\n\n198\n00:10:39.055 --> 00:10:42.526\nAll right, so\nwhen I add in this idea of an alias,\n\n199\n00:10:42.526 --> 00:10:46.000\nI am grouping these port numbers together.\n\n200\n00:10:46.000 --> 00:10:47.950\nNow notice they're not in sequence, right?\n\n201\n00:10:47.950 --> 00:10:51.862\nDaniel, as you see it,\n33, 89, 80, 443, 22.\n\n202\n00:10:51.862 --> 00:10:52.508\n&gt;&gt; They're all over the map.\n\n203\n00:10:52.508 --> 00:10:54.780\n&gt;&gt; They're all over the map.\n\n204\n00:10:54.780 --> 00:10:57.840\nAnd so if we were to do this with\nthe WAN rules like we were talking,\n\n205\n00:10:57.840 --> 00:11:00.090\nit'd be four separate\nrules to put in there.\n\n206\n00:11:00.090 --> 00:11:04.340\nBut by using an alias,\nnow I can Save this.\n\n207\n00:11:04.340 --> 00:11:10.090\nInstead, the alias list has changed,\nand I can click Apply, okay?\n\n208\n00:11:10.090 --> 00:11:12.120\nNow let's do one more alias.\n\n209\n00:11:12.120 --> 00:11:15.240\nAnd then we'll show how this can\nbe configured as a rule as well.\n\n210\n00:11:15.240 --> 00:11:19.505\nSo I'm gonna go to IP address, and\nI'm gonna click Add for right now, okay?\n\n211\n00:11:19.505 --> 00:11:26.000\nNow at this time, I'm just gonna\ncall it WebServers, instead.\n\n212\n00:11:26.000 --> 00:11:29.210\nAnd now I'm gonna say, well,\nweb servers, that makes sense.\n\n213\n00:11:31.050 --> 00:11:34.929\nAll right, when I do so,\nI can now start adding in IP addresses.\n\n214\n00:11:34.929 --> 00:11:39.960\nSo, oop, not 192, 10.1.110.106.\n\n215\n00:11:39.960 --> 00:11:44.960\nAnd let's say that I know that\nI'm gonna be adding in more web\n\n216\n00:11:44.960 --> 00:11:46.930\nservers in the future.\n\n217\n00:11:46.930 --> 00:11:50.700\nSo if I know that this is gonna apply to\nessentially every web server that I have.\n\n218\n00:11:50.700 --> 00:11:52.520\nAnd I don't just have a single one.\n\n219\n00:11:52.520 --> 00:11:54.534\nNotice it says,\nEnter as many as desired, here.\n\n220\n00:11:54.534 --> 00:12:01.620\nAnd it says it can either be by IP address\nor fully-qualified domain names, as well.\n\n221\n00:12:01.620 --> 00:12:06.195\nSo once I do this, Let's see,\ndo I need to put in a space?\n\n222\n00:12:06.195 --> 00:12:09.640\nI'm trying to see what\nthe delimiter is here.\n\n223\n00:12:09.640 --> 00:12:11.270\nI think I can just enter it in.\n\n224\n00:12:11.270 --> 00:12:15.742\n10.1.110.107, I can do\n\n225\n00:12:15.742 --> 00:12:20.920\nthe description and call them Web Servers.\n\n226\n00:12:22.340 --> 00:12:25.745\nNow usually on the description,\nthey say it's not parsed, so\n\n227\n00:12:25.745 --> 00:12:27.360\nit's not really matters.\n\n228\n00:12:27.360 --> 00:12:29.360\nIt'd just be inside of quotes here.\n\n229\n00:12:29.360 --> 00:12:31.080\nLets go ahead and click Save, there.\n\n230\n00:12:31.080 --> 00:12:36.050\nAnd now notice it shows these two values,\nagain, and Apply the changes.\n\n231\n00:12:36.050 --> 00:12:39.950\nFrom this point on,\nif we go back to Firewall and\n\n232\n00:12:39.950 --> 00:12:44.900\nRules, now I can come\nback to the WAN tab here.\n\n233\n00:12:44.900 --> 00:12:49.250\nAnd on these two,\nI'm going to get rid of these rules here.\n\n234\n00:12:49.250 --> 00:12:50.970\nSo over on the right-hand side,\n\n235\n00:12:50.970 --> 00:12:53.480\nyou'll have a list of\nthe actions that you can take.\n\n236\n00:12:53.480 --> 00:12:56.190\nAnd we can clone a rule,\nlike if we know that we're making a rule.\n\n237\n00:12:56.190 --> 00:12:58.530\nBut we're only changing a single\nport number or something.\n\n238\n00:12:58.530 --> 00:13:01.010\nWe can copy it, and\nit'll paste it right underneath.\n\n239\n00:13:01.010 --> 00:13:03.650\nThis gives us that ability\nto disable that rule.\n\n240\n00:13:03.650 --> 00:13:07.449\nAnd of course, these right here will give\nyou the ability to delete the rules.\n\n241\n00:13:09.534 --> 00:13:12.365\nSo I'm just gonna delete\nthese two out of here\n\n242\n00:13:12.365 --> 00:13:15.730\nto show you kinda the messiness\nthat I want to remove.\n\n243\n00:13:16.760 --> 00:13:21.430\nSo once I'm here,\nI'm gonna add my New rule.\n\n244\n00:13:21.430 --> 00:13:26.510\nAnd this time it's gonna be\na Pass on the same WAN interface.\n\n245\n00:13:26.510 --> 00:13:33.460\nThe Address Family is going to be\nright here on IPv4, which is fine.\n\n246\n00:13:33.460 --> 00:13:37.080\nAnd I'm gonna leave it at TCP,\nwhich is fine, too.\n\n247\n00:13:37.080 --> 00:13:41.470\nNow on the Destination,\nI'm going to click on that dropdown.\n\n248\n00:13:41.470 --> 00:13:45.020\nAnd notice that one of the things\nthat it says is alias.\n\n249\n00:13:45.020 --> 00:13:52.090\nSo I can select alias, and if everything\nis okay, I can start typing in WebServer.\n\n250\n00:13:52.090 --> 00:13:55.620\nAnd notice it automatically\nputs it in here, okay?\n\n251\n00:13:55.620 --> 00:13:57.390\nSo it can start filling it in.\n\n252\n00:13:57.390 --> 00:13:58.700\nA lot of the times, you can see that.\n\n253\n00:13:58.700 --> 00:14:02.210\nNow on earlier editions of this,\nif you go back to like,\n\n254\n00:14:02.210 --> 00:14:06.100\nthe 2.2.2 stuff and little bit later in\nthat 2.2 series, you'll see the background\n\n255\n00:14:06.100 --> 00:14:09.990\nactually turns red when you have\nthe ability to have the alias in there.\n\n256\n00:14:09.990 --> 00:14:13.730\nThis particular version doesn't\nlook like it does that, okay?\n\n257\n00:14:13.730 --> 00:14:15.520\nSo we can do that as well.\n\n258\n00:14:15.520 --> 00:14:21.310\nAnd then on this one,\nI can also select an alias here.\n\n259\n00:14:21.310 --> 00:14:25.430\nLet me see if I can find it,\nwhich is the Custom here.\n\n260\n00:14:25.430 --> 00:14:27.710\nSo on this one, I said Management Ports.\n\n261\n00:14:28.720 --> 00:14:30.080\nNotice it shows up as Management_Ports.\n\n262\n00:14:30.080 --> 00:14:35.340\nI'm just gonna put them in both places\njust in case it wants one or the other.\n\n263\n00:14:35.340 --> 00:14:36.860\nSo I can select that as well.\n\n264\n00:14:38.350 --> 00:14:45.400\nAnd now I can put in Management Ports,\n\n265\n00:14:50.816 --> 00:14:51.877\nOr Web Server Management Ports.\n\n266\n00:14:58.638 --> 00:15:02.920\nOpen for whoever,\nlet's just say Administrator.\n\n267\n00:15:02.920 --> 00:15:06.020\nSo I could even limit this down,\nif we wanted to,\n\n268\n00:15:08.080 --> 00:15:12.110\nto one IP address as far as\nthe Source goes, right up here.\n\n269\n00:15:12.110 --> 00:15:16.020\nI'm just gonna leave it at the any for\nright now and click Save.\n\n270\n00:15:17.540 --> 00:15:22.300\nWhen I do, notice that before\nI apply this, once again,\n\n271\n00:15:22.300 --> 00:15:23.880\nit gives us the time to evaluate.\n\n272\n00:15:23.880 --> 00:15:25.570\nNow take a look at what's happened here.\n\n273\n00:15:26.580 --> 00:15:28.810\nLet me see if I can zoom\nin a little bit more.\n\n274\n00:15:28.810 --> 00:15:33.230\nSo on the WebServers, if I hover over it,\nnotice it has the two IP addresses.\n\n275\n00:15:33.230 --> 00:15:36.470\nWe didn't have to type them in separately\nand actually create that list.\n\n276\n00:15:36.470 --> 00:15:39.450\nAnd then,\nlet's see hover over the Management Ports.\n\n277\n00:15:39.450 --> 00:15:41.822\nI added in all those ports\nthat are available as well.\n\n278\n00:15:41.822 --> 00:15:45.140\nLet me see if I can scroll over so that we\ncan see that a little bit better, okay.\n\n279\n00:15:45.140 --> 00:15:49.830\nSo you can see that you can add it in\nthere, and now it's only one rule.\n\n280\n00:15:49.830 --> 00:15:52.170\nSo when you take a look at this,\n\n281\n00:15:52.170 --> 00:15:56.800\nit really does give us that\nability to create that alias.\n\n282\n00:15:56.800 --> 00:16:00.090\nWhich allows me to have a complete\nrange of ports, if I want to,\n\n283\n00:16:00.090 --> 00:16:05.100\na complete range of IP addresses, and\nsuccinct it down to just a few rules.\n\n284\n00:16:05.100 --> 00:16:07.480\nSo if you have 10, 11 servers, but\n\n285\n00:16:07.480 --> 00:16:12.040\nyou don't need the entire IP subnet in\nthere, well, this is a way to do it.\n\n286\n00:16:12.040 --> 00:16:15.910\nAnd by creating those aliases at first,\neven though it takes a little bit of time,\n\n287\n00:16:15.910 --> 00:16:19.800\nit is that idea that we mentioned earlier,\nthat Daniel reminded us of, right?\n\n288\n00:16:19.800 --> 00:16:23.684\nIs that slow is smooth, and smooth is now\nfast, right, if I remember correctly?\n\n289\n00:16:23.684 --> 00:16:25.987\n&gt;&gt; That's correct.\n&gt;&gt; And so when we do something like this,\n\n290\n00:16:25.987 --> 00:16:27.290\nit gives us that ability.\n\n291\n00:16:27.290 --> 00:16:30.520\nSo the more that you put in the details,\n\n292\n00:16:30.520 --> 00:16:34.510\nright, that you might go,\nthat's silly I need to work quicker.\n\n293\n00:16:34.510 --> 00:16:35.790\nYou're actually gonna come back and go,\n\n294\n00:16:35.790 --> 00:16:38.430\nI can't believe I have to create\nthat rule over and over again.\n\n295\n00:16:38.430 --> 00:16:39.340\nBut you might be wondering,\n\n296\n00:16:39.340 --> 00:16:42.080\nwhy is a web a server something\nthat we really care about?\n\n297\n00:16:42.080 --> 00:16:46.820\nWell, let's change this up and go for\nsomething like an email address or\n\n298\n00:16:46.820 --> 00:16:49.230\nyeah, an email server instead, right?\n\n299\n00:16:49.230 --> 00:16:54.510\nWhat if I continue to have to add in\nadditional email servers into my network?\n\n300\n00:16:54.510 --> 00:16:59.340\nBecause I keep having to send out more and\nmore emails where my company grows.\n\n301\n00:16:59.340 --> 00:17:01.630\nWell, I can either come back in here.\n\n302\n00:17:01.630 --> 00:17:05.650\nAnd actually open up, what, put another\nrule there for that new email server?\n\n303\n00:17:05.650 --> 00:17:08.690\nOr now I go to the alias page and\nI add-in, what,\n\n304\n00:17:08.690 --> 00:17:12.330\nthe IP address of that email server or\nthat web server?\n\n305\n00:17:12.330 --> 00:17:16.020\nAnd then what happens over here on\nthis one, it automatically adds it in.\n\n306\n00:17:16.020 --> 00:17:19.930\nThe rule takes care of it, and\nthen we click Apply Changes.\n\n307\n00:17:19.930 --> 00:17:22.920\nAnd that now automatically\nputs it all back in.\n\n308\n00:17:22.920 --> 00:17:26.880\nSo the addition of using\nthese aliases here,\n\n309\n00:17:26.880 --> 00:17:30.950\nthe more often that you can do this,\nthe more concise.\n\n310\n00:17:30.950 --> 00:17:34.640\nAnd the better that your\nrules are going to be.\n\n311\n00:17:34.640 --> 00:17:35.900\nFirewall rules, especially for\n\n312\n00:17:35.900 --> 00:17:39.550\nyour WAN ports,\nto be able to allow access and to see it.\n\n313\n00:17:39.550 --> 00:17:42.382\nThe better off it's going to\nbe in terms of performance.\n\n314\n00:17:42.382 --> 00:17:46.890\nAnd you actually see the logical\ndisplay of it right here.\n\n315\n00:17:46.890 --> 00:17:48.620\nAnd you'll be able to note\nvery quickly whether or\n\n316\n00:17:48.620 --> 00:17:50.270\nnot that rule is effective or not.\n\n317\n00:17:50.270 --> 00:17:51.974\nBy seeing the states and whether or\n\n318\n00:17:51.974 --> 00:17:54.400\nnot things are actually connecting in and\ncoming in.\n\n319\n00:17:54.400 --> 00:17:58.550\nSo do take the time the learn\nabout aliases and use them.\n\n320\n00:17:58.550 --> 00:18:02.400\nAs well as understand the logic\nbehind using your WAN rules\n\n321\n00:18:02.400 --> 00:18:05.670\nto only allow the traffic that you\nwant to come into those ports.\n\n322\n00:18:05.670 --> 00:18:08.320\nOr into those addresses that you need to,\nas well.\n\n323\n00:18:08.320 --> 00:18:10.750\nAnd that will give you\nthe best possibility,\n\n324\n00:18:10.750 --> 00:18:14.110\nin terms of the WAN types of\nrules that you can configure.\n\n325\n00:18:14.110 --> 00:18:15.800\nAnd that will help out you a lot.\n\n326\n00:18:15.800 --> 00:18:17.850\n&gt;&gt; Ronnie, I really like aliasing thing.\n\n327\n00:18:17.850 --> 00:18:21.260\nCuz it makes it a whole lot easier to\nlook at the rules just at a glance.\n\n328\n00:18:21.260 --> 00:18:24.580\nAnd understand, okay, I got this going on,\nI got this going on, and\n\n329\n00:18:24.580 --> 00:18:26.010\nI can put a whole bunch of stuff in there.\n\n330\n00:18:26.010 --> 00:18:28.920\nInstead of having to look, okay,\nwhat is this rule, what is this rule?\n\n331\n00:18:28.920 --> 00:18:31.660\nAnd repeating rules,\nit can get very tedious.\n\n332\n00:18:31.660 --> 00:18:35.220\nSo they've condensed that down with\nthe ability to do the aliasing thing.\n\n333\n00:18:35.220 --> 00:18:38.150\nVery, very cool and very,\nvery nice from the people at pfSense.\n\n334\n00:18:38.150 --> 00:18:39.510\nWe appreciate you out there.\n\n335\n00:18:39.510 --> 00:18:42.450\nThat being said, Ronnie, is there anything\nelse we need to know about aliasing, or\n\n336\n00:18:42.450 --> 00:18:44.070\ncreating WAN rules at this juncture?\n\n337\n00:18:44.070 --> 00:18:47.920\n&gt;&gt; Well, the great thing is we'll actually\ntake some of the basic concepts that we\n\n338\n00:18:47.920 --> 00:18:49.030\nlearned here.\n\n339\n00:18:49.030 --> 00:18:53.880\nAnd then we'll go into the WAN side\nof things in a future episode, right?\n\n340\n00:18:53.880 --> 00:18:58.090\nSo that that way, we can also see\nhow to block connections as well.\n\n341\n00:18:58.090 --> 00:19:02.420\nSuch as we don't want people to build\na connect out to certain websites.\n\n342\n00:19:02.420 --> 00:19:06.886\nIf we want a little bit more productivity\ninstead of people spending all day going\n\n343\n00:19:06.886 --> 00:19:09.588\nand searching out whatever\nKanye West is doing.\n\n344\n00:19:09.588 --> 00:19:10.730\n&gt;&gt; [LAUGH]\n&gt;&gt; Who knows?\n\n345\n00:19:10.730 --> 00:19:11.864\nBut that's the idea.\n\n346\n00:19:11.864 --> 00:19:14.563\nSo we'll see these same concepts\nreally come into play for\n\n347\n00:19:14.563 --> 00:19:15.730\nus a little bit later on.\n\n348\n00:19:15.730 --> 00:19:17.506\nBut if you understand the basics of this,\n\n349\n00:19:17.506 --> 00:19:19.397\ngoing to the WAN side\nshould be a lot easier.\n\n350\n00:19:19.397 --> 00:19:21.620\nBut there is still a little bit\nof detail for us to cover there.\n\n351\n00:19:21.620 --> 00:19:23.950\nSo we'll spend the time\ndoing that in that episode.\n\n352\n00:19:23.950 --> 00:19:26.170\n&gt;&gt; All right, well, thanks,\nRonnie, for joining us today.\n\n353\n00:19:26.170 --> 00:19:29.400\nAnd explaining how we can\nuse aliases to our benefits.\n\n354\n00:19:29.400 --> 00:19:31.210\nAnd we do thank you guys for\nwatching as well.\n\n355\n00:19:31.210 --> 00:19:33.660\nBut it is that time for us to sign off.\n\n356\n00:19:33.660 --> 00:19:37.320\nAnd signing off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n357\n00:19:37.320 --> 00:19:38.677\n&gt;&gt; And I'm Ronnie Wong.\n&gt;&gt; And we'll see you next time.\n\n358\n00:19:38.677 --> 00:19:46.201\n[MUSIC]\n\n359\n00:19:46.201 --> 00:19:48.871\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "195802125"
        },
        {
          "description": "In this episode, Daniel and Ronnie demonstrate configuring LAN firewall rules in pfSense. They begin by looking at the default rules and default firewall policy. Next they show you how to block all access to the internet or a specific web site.",
          "length": "1896",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-2-1-configure_lan_firewall_rules-121416.00_31_37_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-2-1-configure_lan_firewall_rules-121416.00_31_37_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-2-1-configure_lan_firewall_rules-121416.00_31_37_09.Still001-sm.jpg",
          "title": "Configure LAN Firewall Rules",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:03.595\nWelcome to IT Pro TV,\n\n2\n00:00:03.595 --> 00:00:08.195\nI'm your host- [CROSSTALK]\n\n3\n00:00:08.195 --> 00:00:12.164\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:12.164 --> 00:00:13.858\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:13.858 --> 00:00:16.071\nwelcome to another great\nepisode of IT Pro TV.\n\n6\n00:00:16.071 --> 00:00:20.058\nI'm your host Daniel Lowrie, and\nin today's episode we're continuing on\n\n7\n00:00:20.058 --> 00:00:23.140\nwith more on our pfSense\nversion 2.3.2 series.\n\n8\n00:00:23.140 --> 00:00:26.870\nAnd of course, joining us back in studio\nto lend his expertise on that very topic,\n\n9\n00:00:26.870 --> 00:00:28.330\nour good friend, Mr Ronnie Wong.\n\n10\n00:00:28.330 --> 00:00:30.160\nRonnie, welcome back sir,\nand how's it going today?\n\n11\n00:00:30.160 --> 00:00:32.702\n&gt;&gt; It's going great, thank you for\nhaving me back in the studio.\n\n12\n00:00:32.702 --> 00:00:37.620\nWe're continuing to take a look at idea\nof using and configuring firewall rules.\n\n13\n00:00:37.620 --> 00:00:41.978\nIn the previous episode, we talked about\nthe idea of configuring, of course,\n\n14\n00:00:41.978 --> 00:00:43.720\nWAN firewall rules.\n\n15\n00:00:43.720 --> 00:00:48.698\nThat is really helping us, of course, to\ntake a look at the idea of traffic that is\n\n16\n00:00:48.698 --> 00:00:52.520\ninbound in to our network\nthrough that interface.\n\n17\n00:00:52.520 --> 00:00:55.490\nAnd when we started\ntalking about that idea,\n\n18\n00:00:55.490 --> 00:00:59.280\nwe really showed you that at\nthe beginning that particular\n\n19\n00:01:00.440 --> 00:01:05.080\nrules that we find on the WAN interface,\nsimply block everything.\n\n20\n00:01:05.080 --> 00:01:08.740\nLet me show you what I'm talking about,\nwhen we take a look here.\n\n21\n00:01:08.740 --> 00:01:12.770\nSo I click on Firewall and\nI go down to Rules.\n\n22\n00:01:12.770 --> 00:01:17.510\nI can take a look at WAN, and typically\nthe default rules are just these two.\n\n23\n00:01:17.510 --> 00:01:22.400\nThey block not only those RFC 19 18,\nthe private IP addresses, but\n\n24\n00:01:22.400 --> 00:01:26.720\nalso the reserved addresses that\nwe have out there on the internet,\n\n25\n00:01:26.720 --> 00:01:29.070\nthat's not supposed to\nbe out on the internet.\n\n26\n00:01:29.070 --> 00:01:32.570\nThat type of traffic is not allowed\nto come through the WAN port.\n\n27\n00:01:32.570 --> 00:01:35.000\nNow also inside of this, right,\n\n28\n00:01:35.000 --> 00:01:38.310\nthere's a default rule that\nsays to block everything else.\n\n29\n00:01:38.310 --> 00:01:43.850\nSo, essentially our firewall really is\nblocking all traffic that is trying to\n\n30\n00:01:43.850 --> 00:01:49.640\nmake it through to inside of my network\nright now, through that one interface.\n\n31\n00:01:49.640 --> 00:01:53.710\nNow, that's usually the default but then\nwe showed you, of course, that the idea of\n\n32\n00:01:53.710 --> 00:01:59.850\nsetting rules on the outside interface on\nthe WAN interface is not so much blocking\n\n33\n00:01:59.850 --> 00:02:03.530\ntraffic trying to get in, so we're not\ntrying to block hackers trying to get in.\n\n34\n00:02:03.530 --> 00:02:06.150\nBut what we're really doing since we\nactually have that default role of\n\n35\n00:02:06.150 --> 00:02:07.780\nblocking everything anyways,\n\n36\n00:02:07.780 --> 00:02:11.400\nis that we're really opening up\nwhat we want to allow to get in.\n\n37\n00:02:11.400 --> 00:02:15.560\nAnd the key here is remembering\nthe principle that we need to understand,\n\n38\n00:02:15.560 --> 00:02:19.800\nis that we only want to expose\nthe least bit that's possible.\n\n39\n00:02:19.800 --> 00:02:23.140\nSo if you know that you're only gonna\nneed access to one machine such as a web\n\n40\n00:02:23.140 --> 00:02:28.080\nserver, well of course limiting the access\nto that one IP address is gonna help.\n\n41\n00:02:28.080 --> 00:02:31.570\nBut also, if you know that people are only\ngonna be using something like web\n\n42\n00:02:31.570 --> 00:02:34.150\ntraffic to get access in as well,\n\n43\n00:02:34.150 --> 00:02:39.090\nyou may also want to limit it by\nport number or even by protocol.\n\n44\n00:02:39.090 --> 00:02:43.720\nSo not only are they actually\ngonna be able to target one\n\n45\n00:02:43.720 --> 00:02:47.720\nmachine to get access in,\nif they're using any other protocols\n\n46\n00:02:47.720 --> 00:02:52.330\nbesides the one that we allow in, well\nthen they're gonna be blocked as well.\n\n47\n00:02:52.330 --> 00:02:54.980\nSo that was kind of\nthe concept that we saw there.\n\n48\n00:02:54.980 --> 00:02:57.510\nSo now we're actually\nmoving to the other side.\n\n49\n00:02:57.510 --> 00:03:00.850\nLet's show you kind of the diagram\nof what I'm talking about here and\n\n50\n00:03:00.850 --> 00:03:01.620\nwe'll take a look.\n\n51\n00:03:01.620 --> 00:03:03.980\nNow let me get back on\nthe right page here.\n\n52\n00:03:05.100 --> 00:03:09.600\nSo I've kind of reconfigured just\na couple of things because before I was\n\n53\n00:03:09.600 --> 00:03:14.190\nreally just mimicking the idea that we\nhad an outside and in inside interface.\n\n54\n00:03:14.190 --> 00:03:19.430\nBut right now, I do have a public IP\naddress that I'm actually able to\n\n55\n00:03:19.430 --> 00:03:22.110\nuse right here on my\nfirewall that's connected.\n\n56\n00:03:22.110 --> 00:03:25.250\nSo this is actually going\ndirectly out to the internet and\n\n57\n00:03:25.250 --> 00:03:30.710\nright here is the outside WAN port that\nI have with this IP address on it.\n\n58\n00:03:30.710 --> 00:03:34.910\nAnd internally I of course have\naccess to the LAN interface\n\n59\n00:03:34.910 --> 00:03:36.960\nwhich is also right here.\n\n60\n00:03:36.960 --> 00:03:41.445\nSo if this side is, by default,\nblocking all traffic coming in\n\n61\n00:03:41.445 --> 00:03:46.440\n,well normally inside of the pfSense\nfirewall, the other thing\n\n62\n00:03:46.440 --> 00:03:51.680\nthat we have is what we call instead\nof an implicit deny all access.\n\n63\n00:03:51.680 --> 00:03:55.450\nInternally we normally\nactually have a default,\n\n64\n00:03:55.450 --> 00:03:59.230\nallow everything to go through instead.\n\n65\n00:03:59.230 --> 00:04:03.740\nSo this is kind of a reverse policy and\nlet's take a look at that too.\n\n66\n00:04:03.740 --> 00:04:08.250\nSo if I go back over here to the web\ninterface that gives us access to\n\n67\n00:04:08.250 --> 00:04:13.240\nconfigure the firewall, I'm simply\ngoing to choose the LAN port here.\n\n68\n00:04:14.680 --> 00:04:17.910\nAnd when I do this, you'll see that here's\n\n69\n00:04:17.910 --> 00:04:21.490\nkind of three of the default rules\nthat we're going to pay attention to.\n\n70\n00:04:21.490 --> 00:04:26.480\nJust briefly, and then we gonna of course\nadd on our own as we go on through here.\n\n71\n00:04:26.480 --> 00:04:30.660\nSo, at the very beginning\nthe default rules that are set up.\n\n72\n00:04:30.660 --> 00:04:33.720\nThe first one is an anti locked out rule.\n\n73\n00:04:33.720 --> 00:04:37.620\nNow you may think that this is not\nimportant, it is very important.\n\n74\n00:04:37.620 --> 00:04:41.110\nSometimes you set up rules\nthat block access of course to\n\n75\n00:04:41.110 --> 00:04:42.925\nyour network internally.\n\n76\n00:04:42.925 --> 00:04:47.190\nBut remember that when we set up rules,\nespecially on each of these tabs, it's not\n\n77\n00:04:47.190 --> 00:04:52.185\nabout traffic leaving, it's always about\ntraffic coming in to that interface.\n\n78\n00:04:52.185 --> 00:04:57.350\nBut, when I actually talk about an idea\nof an anti lockout rule, this is normally\n\n79\n00:04:57.350 --> 00:05:03.860\ngoing to be, of course, for the interface\ngoing to the firewall itself.\n\n80\n00:05:03.860 --> 00:05:08.600\nAnd if I am not careful and I simply\nblock all traffic going to the LAN, well,\n\n81\n00:05:08.600 --> 00:05:12.060\nthat includes the address that's\nright here on this device.\n\n82\n00:05:12.060 --> 00:05:15.410\nSo what they put right here at the very\ntop and it's kind of grayed out,\n\n83\n00:05:15.410 --> 00:05:20.260\nyou can kind of not see it very\neasily on the contrast here.\n\n84\n00:05:20.260 --> 00:05:22.790\nBut that one is not the only\none that pfSense says look,\n\n85\n00:05:22.790 --> 00:05:24.210\ndon't mess with this rule.\n\n86\n00:05:24.210 --> 00:05:28.375\nLeave it alone it's gonna help you out in\nthe future cuz if you accidentally set\n\n87\n00:05:28.375 --> 00:05:32.010\na rule that says block everything,\nokay, to that network.\n\n88\n00:05:32.010 --> 00:05:34.290\nWell guess what,\nthat one will still be there so\n\n89\n00:05:34.290 --> 00:05:38.540\nthat you can come back into firewall and\ngo Ronnie made another big mistake there.\n\n90\n00:05:38.540 --> 00:05:42.102\nBut at least he can still get back and\nchange it, okay.\n\n91\n00:05:42.102 --> 00:05:46.900\nSo that's why it gives, it has saved\nmy bacon [LAUGH] plenty of times.\n\n92\n00:05:46.900 --> 00:05:49.690\nI guarantee you because,\nwhen you're doing this,\n\n93\n00:05:49.690 --> 00:05:54.580\nright, in a production network,\nit's real easy to go way fast.\n\n94\n00:05:54.580 --> 00:05:59.530\nDaniel, remind me of that saying again\nthat when I say, I need to go faster,\n\n95\n00:05:59.530 --> 00:06:00.630\nwhat is the saying again?\n\n96\n00:06:00.630 --> 00:06:03.610\n&gt;&gt; It is, slow is smooth,\nand smooth is fast.\n\n97\n00:06:03.610 --> 00:06:07.070\n&gt;&gt; And that's something that is very\ndifficult for someone like me, right.\n\n98\n00:06:07.070 --> 00:06:08.450\nI think fast is fast.\n\n99\n00:06:08.450 --> 00:06:09.630\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH] But\n\n100\n00:06:09.630 --> 00:06:12.920\nessentially getting into that\nrhythm of going, all right,\n\n101\n00:06:12.920 --> 00:06:17.630\nwhen there's detail to be done,\nslowness actually becomes quicker actions\n\n102\n00:06:17.630 --> 00:06:21.060\nin the end if you will continue to\nremember that and practice that.\n\n103\n00:06:21.060 --> 00:06:23.220\n&gt;&gt; Sometimes I'm just trying to\nfigure out what the solution is and\n\n104\n00:06:23.220 --> 00:06:24.720\nI just start typing stuff in.\n\n105\n00:06:24.720 --> 00:06:28.700\nI go yeah, yeah, yeah that looks good,\nhit the OK button, and\n\n106\n00:06:28.700 --> 00:06:31.190\napply the changes, I can't get back in.\n\n107\n00:06:31.190 --> 00:06:31.760\n&gt;&gt; Yeah.\n\n108\n00:06:31.760 --> 00:06:33.240\n&gt;&gt; Everybody's locked out and\n\n109\n00:06:33.240 --> 00:06:36.770\nnow I'm trying to go even faster and\nit doesn't work.\n\n110\n00:06:36.770 --> 00:06:40.082\nSo slowing down, and making sure you\nunderstand the logic behind it is key.\n\n111\n00:06:40.082 --> 00:06:43.085\nAll right so let's go back here,\nI know, my little soapbox here.\n\n112\n00:06:43.085 --> 00:06:44.990\n&gt;&gt; [LAUGH]\n&gt;&gt; But it's something that you just learn\n\n113\n00:06:44.990 --> 00:06:47.640\nafter experience in dealing with so\n\n114\n00:06:47.640 --> 00:06:50.450\nmany little configurations that\nmake major changes here, okay.\n\n115\n00:06:51.450 --> 00:06:55.250\nSo look at the second and third rules\nthat you tend to see here, too.\n\n116\n00:06:55.250 --> 00:06:56.270\nNotice that right here,\n\n117\n00:06:56.270 --> 00:07:01.320\nin this second column, okay,\nright where you see that IPv4 and IPv6.\n\n118\n00:07:01.320 --> 00:07:05.150\nThese are essentially identical rules,\nbut with two different protocols.\n\n119\n00:07:05.150 --> 00:07:06.290\nWell IPv4, of course,\n\n120\n00:07:06.290 --> 00:07:11.780\nsays allow anything from the LAN network\nto go anywhere that it wants to.\n\n121\n00:07:11.780 --> 00:07:14.270\nThat's pretty much an allow all, okay.\n\n122\n00:07:14.270 --> 00:07:17.410\nSo you actually have\nan IP version 4 address,\n\n123\n00:07:17.410 --> 00:07:20.400\nyou could get access to it\nregardless of where it goes.\n\n124\n00:07:20.400 --> 00:07:24.020\nSo across this network if I wanted\n\n125\n00:07:24.020 --> 00:07:28.980\nto leave the LAN interface and\ngo out to the DMZ, this rule says what?\n\n126\n00:07:28.980 --> 00:07:31.360\nYou can do it, okay,\nwanna go to the marketing?\n\n127\n00:07:31.360 --> 00:07:34.480\nYou can do it,\nI wanna go to development, I can do so.\n\n128\n00:07:34.480 --> 00:07:38.010\nGo out to the WAN, I can do it,\nyou name it, it just says the same thing.\n\n129\n00:07:38.010 --> 00:07:41.960\nYou can do anything that you want to,\nyou're allowed to go back out.\n\n130\n00:07:41.960 --> 00:07:44.390\nIf you're in IPV6,\nas we start switching and\n\n131\n00:07:44.390 --> 00:07:48.270\ntransitioning over,\nthe same thing applies here too.\n\n132\n00:07:48.270 --> 00:07:51.886\nNow that is as wide open as it gets, okay.\n\n133\n00:07:51.886 --> 00:07:57.677\nNow, as much as that sounds like man,\nthat is totally unrestricted,\n\n134\n00:07:57.677 --> 00:08:01.909\nwe want to restrict\nthe traffic more in doing this.\n\n135\n00:08:01.909 --> 00:08:05.590\nIs kind of not the greatest\nthing in the world.\n\n136\n00:08:05.590 --> 00:08:08.981\nAnd let me kind of give you an example\nof why this is not the greatest thing in\n\n137\n00:08:08.981 --> 00:08:10.130\nthe world.\n\n138\n00:08:10.130 --> 00:08:13.090\nOnce you start adding in more and\nmore rules,\n\n139\n00:08:13.090 --> 00:08:17.810\nespecially in this side of it, people\nwill figure out ways around it, okay?\n\n140\n00:08:17.810 --> 00:08:20.820\nSo, Daniel has worked\nwith firewalls before.\n\n141\n00:08:20.820 --> 00:08:25.290\nSo, Daniel, instead,\nif I choose to create a VPN tunnel, okay?\n\n142\n00:08:25.290 --> 00:08:28.560\nThrough my firewall,\ndoes the firewall even see that traffic?\n\n143\n00:08:28.560 --> 00:08:30.610\nDoes it even try to stop it?\n\n144\n00:08:30.610 --> 00:08:31.715\n&gt;&gt; No, I don't think it does.\n\n145\n00:08:31.715 --> 00:08:34.330\nIt just, it's all encrypted.\n\n146\n00:08:34.330 --> 00:08:37.210\n&gt;&gt; So, even if I go I'm gonna\nblock access to this site.\n\n147\n00:08:37.210 --> 00:08:40.330\nI know Daniel loves to get to this site,\ngo ahead and do that.\n\n148\n00:08:40.330 --> 00:08:43.078\nDaniel goes he thinks\nthat Ronnie blocked me.\n\n149\n00:08:43.078 --> 00:08:45.120\n&gt;&gt; [LAUGH]\n&gt;&gt; VPN tunnel.\n\n150\n00:08:45.120 --> 00:08:45.910\n&gt;&gt; There we go.\n&gt;&gt; It's done.\n\n151\n00:08:45.910 --> 00:08:49.283\n&gt;&gt; It goes right into that tour network\nand then I'm toast at that point.\n\n152\n00:08:49.283 --> 00:08:50.940\nAnd that's exactly what happens.\n\n153\n00:08:50.940 --> 00:08:52.470\n&gt;&gt; They go around the firewall, right?\n\n154\n00:08:52.470 --> 00:08:53.060\n&gt;&gt; Exactly.\n\n155\n00:08:53.060 --> 00:08:53.690\n&gt;&gt; Nice and clear.\n\n156\n00:08:53.690 --> 00:08:54.830\n&gt;&gt; And that's what happens, yeah.\n\n157\n00:08:54.830 --> 00:08:55.980\nCuz that's all you're doing, right?\n\n158\n00:08:55.980 --> 00:09:00.330\nWith a VPN, you're punching a hole,\nan encrypted hole, through the firewall.\n\n159\n00:09:00.330 --> 00:09:04.090\nBut now that means it doesn't\nget inspected by these rules.\n\n160\n00:09:04.090 --> 00:09:06.260\nSo people learn how to get around them.\n\n161\n00:09:06.260 --> 00:09:11.640\nNow, just when you think, right,\nthat it's kinda this conundrum, right,\n\n162\n00:09:11.640 --> 00:09:16.920\nwell, either I leave it all exposed,\nor I actually try\n\n163\n00:09:16.920 --> 00:09:22.860\nto worry about people like Daniel that can\nget access by going around the rules and\n\n164\n00:09:22.860 --> 00:09:25.420\nfiguring out ways to\nbypass stuff like that.\n\n165\n00:09:25.420 --> 00:09:28.210\nWell, that is kind\nthe conundrum that you're at.\n\n166\n00:09:28.210 --> 00:09:33.680\nA lot of times you also end up losing\nproductivity when you do this, too.\n\n167\n00:09:33.680 --> 00:09:35.930\nBecause it was wide open before, and\n\n168\n00:09:35.930 --> 00:09:39.020\nnow people don't know how to\nget access to certain things.\n\n169\n00:09:39.020 --> 00:09:42.530\nAnd you go, don't forget, you have to\ngo through here and here and here.\n\n170\n00:09:42.530 --> 00:09:45.830\nAfter a while, they get tired of that and\nit becomes more frustrating for them.\n\n171\n00:09:45.830 --> 00:09:47.950\nSo you end up losing productivity as well.\n\n172\n00:09:49.090 --> 00:09:53.750\nBut it doesn't mean you shouldn't\nimplement rules that you need to.\n\n173\n00:09:53.750 --> 00:09:57.710\nNow, if you want to actually\nimplement the simplest rule possible,\n\n174\n00:09:57.710 --> 00:10:00.730\nwhat normally ends up happening is this,\nokay?\n\n175\n00:10:00.730 --> 00:10:04.310\nInstead of actually leaving\nthis default wide open,\n\n176\n00:10:04.310 --> 00:10:08.810\nallow anything to go out any place that it\nwants to across the entire Internet and\n\n177\n00:10:08.810 --> 00:10:11.970\nacross all your LAN interface and\neverything that you want,\n\n178\n00:10:11.970 --> 00:10:15.970\nyou can turn this into essentially\nanother WAN interface, right?\n\n179\n00:10:15.970 --> 00:10:21.750\nSo if we take a look at the firewall rules\nagain, if I simply remove these two,\n\n180\n00:10:21.750 --> 00:10:25.470\nit really does become really like\nwhat the WAN interface, right?\n\n181\n00:10:25.470 --> 00:10:27.890\nBecause there's actually,\nat the bottom of this,\n\n182\n00:10:27.890 --> 00:10:30.850\neven though we don't even get\na little yellow bar down here,\n\n183\n00:10:30.850 --> 00:10:34.237\nif I remove those two at the very\nbottom of this, and you don't see it,\n\n184\n00:10:34.237 --> 00:10:37.968\nit's all in the background,\nthere is an implicit deny all, okay?\n\n185\n00:10:37.968 --> 00:10:39.590\nIt's there, okay?\n\n186\n00:10:39.590 --> 00:10:40.890\nSo, we could do that.\n\n187\n00:10:40.890 --> 00:10:42.760\nAnd now what we're actually going to do,\n\n188\n00:10:42.760 --> 00:10:47.510\nthen, is we're going to manage by doing\nsome like we call white listing, okay?\n\n189\n00:10:47.510 --> 00:10:51.850\nSo instead of saying we're gonna allow\neverything, we block access to everything.\n\n190\n00:10:51.850 --> 00:10:55.070\nAnd now,\nDaniel has to make a request of me and\n\n191\n00:10:55.070 --> 00:10:57.920\nsay, Ronnie,\nI really would like to get this site.\n\n192\n00:10:57.920 --> 00:10:59.580\nAnd I now say what for?\n\n193\n00:10:59.580 --> 00:11:00.850\nHe's like, well, you know,\n\n194\n00:11:00.850 --> 00:11:04.080\nI'm in the middle of doing this offensive\nsecurity here, and I wanna practice that.\n\n195\n00:11:04.080 --> 00:11:07.550\nI could say no,\nnot gonna allow it, there it goes.\n\n196\n00:11:07.550 --> 00:11:10.330\nWell, now it gets frustrating for\nDaniel, cuz he can't do his job.\n\n197\n00:11:12.638 --> 00:11:14.870\nAnd then every other\nrequest that comes in.\n\n198\n00:11:14.870 --> 00:11:20.910\nSo if Daniel, and we've only got a handful\nof people, but at the same time,\n\n199\n00:11:20.910 --> 00:11:24.080\nif I have to deal with that every day,\nwhere Daniel's like can I get access to\n\n200\n00:11:24.080 --> 00:11:28.890\nthis, I'm like, I really don't want\nto give Daniel access, no, no, no.\n\n201\n00:11:28.890 --> 00:11:30.640\nSo you don't wanna do that.\n\n202\n00:11:30.640 --> 00:11:33.013\nBut that is one way you can deal with it,\nokay?\n\n203\n00:11:33.013 --> 00:11:38.240\nSo, the simplest rule that I can actually\nmake is just remove these two rules,\n\n204\n00:11:38.240 --> 00:11:38.850\nand we're done.\n\n205\n00:11:38.850 --> 00:11:41.160\nBut now, I have to have what we call,\n\n206\n00:11:41.160 --> 00:11:43.130\nMicrosoft calls administrative overhead,\nright?\n\n207\n00:11:43.130 --> 00:11:45.066\n&gt;&gt; Yeah.\n&gt;&gt; The more administrative overhead,\n\n208\n00:11:45.066 --> 00:11:48.464\nit becomes a headache, it's not something\nthat we really want to do, okay?\n\n209\n00:11:48.464 --> 00:11:53.601\nSo then, what is our option\nwhen we start to do this, okay?\n\n210\n00:11:53.601 --> 00:11:56.733\nWell, our option then\nis to kind of pick and\n\n211\n00:11:56.733 --> 00:12:01.873\nchoose what it is we really need to\nrestrict and what we don't need to.\n\n212\n00:12:01.873 --> 00:12:07.205\nSo, it might be where you find out\nsomething that there is a popular website\n\n213\n00:12:07.205 --> 00:12:12.880\nthat you realize is also taking away\nproductivity from people, okay?\n\n214\n00:12:12.880 --> 00:12:14.500\nBecause it doesn't matter what you do,\n\n215\n00:12:14.500 --> 00:12:17.840\nthey keep going to it at all hours\nof the day, during the work day.\n\n216\n00:12:17.840 --> 00:12:22.430\nAnd when that happens, now you can't get\naccess to anything that you want to get\n\n217\n00:12:22.430 --> 00:12:27.180\ndone, or that needs get done, so you may\nchoose to block something like a website.\n\n218\n00:12:27.180 --> 00:12:30.210\nNow, if you do that,\nthat's perfectly fine, but\n\n219\n00:12:30.210 --> 00:12:32.500\nit's not the easiest\nthing in the world to do.\n\n220\n00:12:32.500 --> 00:12:35.418\nBut let's show you how you can do\nsomething like that as well, okay?\n\n221\n00:12:35.418 --> 00:12:39.074\nSo what I've done is I've kind\nof just picked a website,\n\n222\n00:12:39.074 --> 00:12:41.291\nSlashdot is the one that I picked.\n\n223\n00:12:41.291 --> 00:12:44.733\nAnd the reason why is because\nit was easy enough to find and\n\n224\n00:12:44.733 --> 00:12:48.690\nthere's one IP address to this\nthing that really can help us out.\n\n225\n00:12:48.690 --> 00:12:53.060\nSo let's verify that I can get access\nto something like Slashdot here, okay?\n\n226\n00:12:53.060 --> 00:12:57.130\nNow, if you're not familiar with Slashdot,\nit's been around for a long, long time.\n\n227\n00:12:57.130 --> 00:12:57.740\n&gt;&gt; A long time.\n\n228\n00:12:57.740 --> 00:12:59.530\n&gt;&gt; I mean, it's just been around forever.\n\n229\n00:12:59.530 --> 00:13:04.070\nAnd this is essentially what we call\na news aggregator site, is what it does.\n\n230\n00:13:04.070 --> 00:13:08.640\nIt puts it in there, it works just like\nif you have, almost like an RSS feed, but\n\n231\n00:13:08.640 --> 00:13:11.330\nreally for\nyour webpage more than anything else.\n\n232\n00:13:11.330 --> 00:13:15.370\nAnd let's say that this is the site that\nwe realize that there's a ton of time\n\n233\n00:13:15.370 --> 00:13:17.640\nthat our entire network,\nthat's all that they're on, and\n\n234\n00:13:17.640 --> 00:13:20.830\nthat work productivity\nseems to be dropping down.\n\n235\n00:13:20.830 --> 00:13:25.370\nWell then, I need to find the IP\naddress right here to Slashdot, and\n\n236\n00:13:25.370 --> 00:13:29.100\nyou can do it in multiple ways\nif you actually choose to.\n\n237\n00:13:29.100 --> 00:13:30.650\nSo you can go out there and let's see,\n\n238\n00:13:30.650 --> 00:13:35.730\nlet me see if my old fashioned\nway also works here.\n\n239\n00:13:35.730 --> 00:13:40.804\nSo if I were just to ping forgot\nabout the properties here.\n\n240\n00:13:40.804 --> 00:13:43.547\nLet me change the font size just\na little bit so we can see it better.\n\n241\n00:13:45.567 --> 00:13:50.567\nAnd the colors, screen text,\nbright white there.\n\n242\n00:13:50.567 --> 00:13:58.773\nAnd I just ping,\nping ping [laughter] Slashdot dot com.\n\n243\n00:14:01.214 --> 00:14:01.747\nSo now,\n\n244\n00:14:01.747 --> 00:14:06.874\nwe can actually see there's one way where\nI can find the IP address right there.\n\n245\n00:14:06.874 --> 00:14:10.002\nNow, so\nI'm just gonna take that IP address, and\n\n246\n00:14:10.002 --> 00:14:13.140\nwe're gonna create a rule around it,\nall right?\n\n247\n00:14:14.140 --> 00:14:16.750\nSo I'm gonna close out of this, and\n\n248\n00:14:16.750 --> 00:14:19.870\nnow we're gonna come back\ninto our firewall right here.\n\n249\n00:14:19.870 --> 00:14:21.920\nAnd let's go ahead and do that.\n\n250\n00:14:21.920 --> 00:14:26.130\nNow at this point, I'm going to\nsimply add it in at the very bottom.\n\n251\n00:14:27.470 --> 00:14:31.470\nAnd when I do so,\nI know that I want to blog this website.\n\n252\n00:14:31.470 --> 00:14:35.540\nNow, I can reject it, but\nremember that what reject does, right?\n\n253\n00:14:35.540 --> 00:14:40.670\nIs it allows me to essentially\nsend a notification,\n\n254\n00:14:40.670 --> 00:14:44.180\nright, to whoever's trying to get to\nit that they may be blocked, okay?\n\n255\n00:14:44.180 --> 00:14:46.050\nSo that's what we might see here.\n\n256\n00:14:46.050 --> 00:14:50.760\nSo I want to apply this, and because\nI'm actually trying to block traffic\n\n257\n00:14:50.760 --> 00:14:56.040\ngoing outbound, okay, to getting to\nSlashdot, I can select the interface.\n\n258\n00:14:56.040 --> 00:14:59.280\nNow remember, this is where it\nbecomes a little bit more unusual, and\n\n259\n00:14:59.280 --> 00:15:01.300\nthis is where you have to pay attention,\nright?\n\n260\n00:15:01.300 --> 00:15:04.660\nSo on this rule,\nif I choose the LAN interface, Daniel,\n\n261\n00:15:04.660 --> 00:15:08.650\nremember that what we said here is\nthat the rules really only apply,\n\n262\n00:15:08.650 --> 00:15:13.330\nthe filtering rules, only apply as\ntraffic is coming inside, okay?\n\n263\n00:15:13.330 --> 00:15:13.990\n&gt;&gt; Correct.\n\n264\n00:15:13.990 --> 00:15:19.130\n&gt;&gt; So if I'm saying I'm gonna set a rule\nup to reject or to block traffic,\n\n265\n00:15:19.130 --> 00:15:23.210\nbut I'm actually initiating it from\nthe inside, well, that means I need\n\n266\n00:15:23.210 --> 00:15:27.250\nto actually say hey, look, I'm blocking\nthat return traffic is what I'm doing.\n\n267\n00:15:27.250 --> 00:15:30.040\nSo, I'm gonna go to the WAN interface, so\n\n268\n00:15:30.040 --> 00:15:34.340\nas I make the connection,\nI need Slashdot.com, it goes out, and\n\n269\n00:15:34.340 --> 00:15:39.190\nwhen it comes here it says, hey, reject\nit when it comes back in the interface.\n\n270\n00:15:39.190 --> 00:15:43.460\nI can't make the rule to say as\nyou pass out of my LAN interface.\n\n271\n00:15:43.460 --> 00:15:46.040\nI hope that makes sense, okay?\n\n272\n00:15:46.040 --> 00:15:47.953\nSometimes, it makes sense in my mind.\n\n273\n00:15:47.953 --> 00:15:49.910\n&gt;&gt; [LAUGH]\n&gt;&gt; It doesn't make sense when people hear\n\n274\n00:15:49.910 --> 00:15:52.025\nit, and they're like, Ronnie said\nsomething a little bit unusual.\n\n275\n00:15:52.025 --> 00:15:54.013\n&gt;&gt; [CROSSTALK] you work in firewalls,\nit starts to make sense.\n\n276\n00:15:54.013 --> 00:15:58.446\nSo I think what Ronnie is trying to say\nis we can't stop the person inside from\n\n277\n00:15:58.446 --> 00:16:02.463\nsaying, there's Slashdot traffic\ntrying to go out Stop that,\n\n278\n00:16:02.463 --> 00:16:04.634\nthat's just not the way this works.\n\n279\n00:16:04.634 --> 00:16:06.300\nThe way it works is when /,\n\n280\n00:16:06.300 --> 00:16:09.710\ntries to return its traffic\nto give Ronnie the website.\n\n281\n00:16:09.710 --> 00:16:11.850\nIt says no mas, you can't do that.\n\n282\n00:16:11.850 --> 00:16:15.660\n&gt;&gt; Yeah, you might end up finding that\nthere is a firewall product out there\n\n283\n00:16:15.660 --> 00:16:17.200\nthat allows you to do outbound traffic.\n\n284\n00:16:17.200 --> 00:16:19.431\n&gt;&gt; Right.\n&gt;&gt; But pfSense isn't one of them.\n\n285\n00:16:19.431 --> 00:16:20.012\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n286\n00:16:20.012 --> 00:16:22.442\nwe have to actually kind of\nthink about the logic of that.\n\n287\n00:16:22.442 --> 00:16:26.440\nI know I've gotten caught by\nthis before by no big deal.\n\n288\n00:16:26.440 --> 00:16:27.830\nClick, click, click, click, click.\n\n289\n00:16:27.830 --> 00:16:30.370\nAnd I go and test it, and\nit still doesn't work.\n\n290\n00:16:30.370 --> 00:16:33.740\nSo that's where you have to pay\nattention to that logic that we see.\n\n291\n00:16:33.740 --> 00:16:37.350\nI'm gonna leave it at TCP here,\nbut let's do this instead.\n\n292\n00:16:37.350 --> 00:16:40.160\nLet's just do any instead here.\n\n293\n00:16:41.220 --> 00:16:42.590\nNo, let's just do TCP.\n\n294\n00:16:42.590 --> 00:16:44.560\nCuz I know it's gonna be web traffic.\n\n295\n00:16:44.560 --> 00:16:46.090\nSo I'm not gonna worry about it so much.\n\n296\n00:16:47.500 --> 00:16:49.600\nAnd then, at this point here,\n\n297\n00:16:51.110 --> 00:16:54.510\nthe destination is what I need\nwhich is gonna be a single host.\n\n298\n00:16:54.510 --> 00:16:59.100\nNow, remember when I said in a previous\nepisode, if I know that there's\n\n299\n00:16:59.100 --> 00:17:06.760\na possibility, right, that / may\nchange IP addresses at some point.\n\n300\n00:17:06.760 --> 00:17:10.010\nThen instead I may go ahead and set alias,\nbut for right now we're just gonna do\n\n301\n00:17:10.010 --> 00:17:14.070\nthe IP address cuz it's actually\neasier for us just to type this in.\n\n302\n00:17:14.070 --> 00:17:16.700\nBut we already showed you how\nto be able to make an alias and\n\n303\n00:17:16.700 --> 00:17:18.500\nwe'll do another one in\njust a little bit here.\n\n304\n00:17:20.480 --> 00:17:25.933\nSo if I type this in correctly, if this\nis the right address then we're okay.\n\n305\n00:17:25.933 --> 00:17:28.901\nI already closed it out but\nI think it is because I wrote it down.\n\n306\n00:17:28.901 --> 00:17:30.170\nSo I should be fine.\n\n307\n00:17:30.170 --> 00:17:30.720\nOops.\n\n308\n00:17:30.720 --> 00:17:33.990\nLet me see if I can close\nout of Cortana there.\n\n309\n00:17:33.990 --> 00:17:36.730\nAnd now, we'll just do everything.\n\n310\n00:17:36.730 --> 00:17:37.280\nLet's see.\n\n311\n00:17:37.280 --> 00:17:41.500\nAny front here,\nas far as all the TCP ports.\n\n312\n00:17:41.500 --> 00:17:43.050\nLet's go ahead and do that.\n\n313\n00:17:43.050 --> 00:17:47.971\nAnd now, it's going to be\n\n314\n00:17:47.971 --> 00:17:53.129\nblocks access to /.com.\n\n315\n00:17:53.129 --> 00:17:53.686\nAll right.\n\n316\n00:17:53.686 --> 00:17:57.000\nI'm not going to worry about any of\nthe advanced options right now and\n\n317\n00:17:57.000 --> 00:17:57.980\nsimply click Save.\n\n318\n00:17:59.320 --> 00:18:03.780\nAnd the great thing is, right here is one\nof those things we really need to pay\n\n319\n00:18:03.780 --> 00:18:09.890\nattention to, the idea is simple,\nverify your logic before you apply it.\n\n320\n00:18:09.890 --> 00:18:12.410\nIt doesn't take place until\nyou apply this change.\n\n321\n00:18:12.410 --> 00:18:15.510\n&gt;&gt; I gotta admit,\nthe way they present this\n\n322\n00:18:15.510 --> 00:18:18.600\nmakes me think that I've done something\nwrong, just the way it looks.\n\n323\n00:18:18.600 --> 00:18:20.226\nI'm like, crap, this isn't right.\n\n324\n00:18:20.226 --> 00:18:21.740\n[LAUGH]\n&gt;&gt; No, you're right,\n\n325\n00:18:21.740 --> 00:18:25.130\nit really does give you a pause, and\nI think they did that on purpose.\n\n326\n00:18:25.130 --> 00:18:28.500\nSo you're not just going,\nall right, is is actually there?\n\n327\n00:18:28.500 --> 00:18:30.110\nIt's not there until you apply it.\n\n328\n00:18:30.110 --> 00:18:32.510\nIt gives you this one\nlast chance with IPV4.\n\n329\n00:18:32.510 --> 00:18:34.090\nI'm gonna leave it at that.\n\n330\n00:18:34.090 --> 00:18:38.910\nAny source going to this destination\non any port, I'm gonna block it.\n\n331\n00:18:38.910 --> 00:18:41.110\nTechnically I'm gonna reject it.\n\n332\n00:18:41.110 --> 00:18:45.473\nAnd you can see that it actually does have\nthis little hand kind of a pause like\n\n333\n00:18:45.473 --> 00:18:47.290\nthat, right?\n\n334\n00:18:47.290 --> 00:18:51.640\nBefore it just used to be like\na red square or a yellow square or\n\n335\n00:18:51.640 --> 00:18:52.860\na green square, right?\n\n336\n00:18:52.860 --> 00:18:56.910\nGreen meaning pass,\nyellow of course meaning no.\n\n337\n00:18:56.910 --> 00:19:01.640\nLet's pause here for a moment and then\nof course, red meaning block all out and\n\n338\n00:19:01.640 --> 00:19:04.790\nthey changed it of course\nto these symbols instead.\n\n339\n00:19:04.790 --> 00:19:08.370\nSo that's what you are able\nto see as well, all right?\n\n340\n00:19:08.370 --> 00:19:11.900\nSo now I go, all right,\nthat looks right to me.\n\n341\n00:19:11.900 --> 00:19:15.350\nAnd then I click apply the changes here.\n\n342\n00:19:15.350 --> 00:19:16.910\nAnd I go, all right, everything's good.\n\n343\n00:19:16.910 --> 00:19:21.210\nEverything should be exactly the way\nthat I need to at this point.\n\n344\n00:19:21.210 --> 00:19:24.940\nWe should be able to block it coming in,\nis what we need.\n\n345\n00:19:24.940 --> 00:19:25.610\nAll right.\n\n346\n00:19:25.610 --> 00:19:29.780\nSo, let's see what happens here as well.\n\n347\n00:19:29.780 --> 00:19:34.650\nAll right, now on this one, and let's,\n\n348\n00:19:34.650 --> 00:19:36.720\nactually it looks like\nI did it on the LAN.\n\n349\n00:19:36.720 --> 00:19:40.080\nSo I may have told you wrong on that\none port that I set it on here.\n\n350\n00:19:40.080 --> 00:19:42.490\nSo it may be, let me change that up here.\n\n351\n00:19:43.520 --> 00:19:46.425\nWell let's see,\nif it works then I've done it right.\n\n352\n00:19:46.425 --> 00:19:47.500\n&gt;&gt; [LAUGH]\n&gt;&gt; If not,\n\n353\n00:19:47.500 --> 00:19:49.780\nI told you completely wrong here and\nI'll have to redo it,\n\n354\n00:19:49.780 --> 00:19:51.360\nso let's see what happens.\n\n355\n00:19:51.360 --> 00:19:54.050\nSo if I type in /.,\nlet's see what comes in.\n\n356\n00:19:55.220 --> 00:19:58.110\nAnd it does come in, and\nif you're wondering why did that work?\n\n357\n00:19:58.110 --> 00:19:59.810\nWell, remember that reflexive rule.\n\n358\n00:19:59.810 --> 00:20:03.830\nSo let me change that up and\nsee if that works.\n\n359\n00:20:03.830 --> 00:20:06.610\nSo, it might just be me and my logic.\n\n360\n00:20:06.610 --> 00:20:11.740\nSo, let me change it back to the LAN\ninterface instead, to apply it here.\n\n361\n00:20:13.210 --> 00:20:15.030\nAnd now let's see what happens here.\n\n362\n00:20:15.030 --> 00:20:19.870\nIt's the same rule, but where I had\nit before was actually at the bottom.\n\n363\n00:20:19.870 --> 00:20:21.670\nSo let me save it there.\n\n364\n00:20:21.670 --> 00:20:23.087\n&gt;&gt; I like that little drag and\ndrop feature.\n\n365\n00:20:23.087 --> 00:20:25.390\nThat's kinda nice.\n&gt;&gt; Actually, that's kinda neat too.\n\n366\n00:20:25.390 --> 00:20:29.740\nAnd I did that specifically on purpose\nhere, because I want us to see something.\n\n367\n00:20:29.740 --> 00:20:34.850\nSo in this way, if we work through these\nrules correctly, so yeah, just me.\n\n368\n00:20:34.850 --> 00:20:37.440\nI probably shouldn't have\nchanged that one port.\n\n369\n00:20:37.440 --> 00:20:40.950\nThat I told you yes make sure you do\nthat cuz it just applied it to that LAN\n\n370\n00:20:40.950 --> 00:20:41.620\ntab instead.\n\n371\n00:20:41.620 --> 00:20:43.810\nI was thinking about it was just\ngonna change the interface.\n\n372\n00:20:43.810 --> 00:20:47.770\n&gt;&gt; Is this still blocking the incoming\ntraffic and not the outbound traffic?\n\n373\n00:20:47.770 --> 00:20:48.350\n&gt;&gt; It will.\n\n374\n00:20:48.350 --> 00:20:48.920\n&gt;&gt; Okay.\n\n375\n00:20:48.920 --> 00:20:49.970\n&gt;&gt; It's still doing that.\n\n376\n00:20:49.970 --> 00:20:54.130\nYeah, it's still gonna block what's coming\nin to the land port, as it comes back in.\n\n377\n00:20:54.130 --> 00:20:56.835\nThat was just, it was just me trying.\n\n378\n00:20:56.835 --> 00:20:59.360\n&gt;&gt; [LAUGH]\n&gt;&gt; To think about it's coming in the WAN,\n\n379\n00:20:59.360 --> 00:21:04.180\nbut it's also coming in with the LAN\nport as the traffic returns back in.\n\n380\n00:21:04.180 --> 00:21:06.830\nAt this point that's what we see.\n\n381\n00:21:06.830 --> 00:21:08.130\nI've added it down here.\n\n382\n00:21:08.130 --> 00:21:10.865\nDaniel, I'm going to say it's\ngoing to work this time.\n\n383\n00:21:10.865 --> 00:21:13.287\n&gt;&gt; All right, drum roll please [CROSSTALK]\n&gt;&gt; Is what I'm gonna say, okay?\n\n384\n00:21:13.287 --> 00:21:15.295\nNow I'm gonna say that facetiously, okay?\n\n385\n00:21:15.295 --> 00:21:17.594\n&gt;&gt; Yeah\n&gt;&gt; Because.\n\n386\n00:21:17.594 --> 00:21:19.940\n&gt;&gt; Hopefully it's not a cached page\nyou're giving everyone [LAUGH].\n\n387\n00:21:21.140 --> 00:21:21.720\n&gt;&gt; Daniel, look.\n\n388\n00:21:21.720 --> 00:21:22.720\nI failed again.\n\n389\n00:21:22.720 --> 00:21:23.370\nDang.\n\n390\n00:21:23.370 --> 00:21:24.970\nWhat in the world happened this time?\n\n391\n00:21:24.970 --> 00:21:27.130\nI have it on the right port this time.\n\n392\n00:21:27.130 --> 00:21:28.260\nSo what happened?\n\n393\n00:21:28.260 --> 00:21:32.880\nWell, there is something else that we\nalso have to pay attention to here.\n\n394\n00:21:32.880 --> 00:21:36.250\nAnd Daniel knows more then\nanybody else at this point,\n\n395\n00:21:36.250 --> 00:21:39.540\nbecause he reminds me of it,\nis the order that these rules apply.\n\n396\n00:21:39.540 --> 00:21:42.490\nAnd the reason Daniel's like,\nI like that drag and drop feature.\n\n397\n00:21:42.490 --> 00:21:43.130\n&gt;&gt; Yeah.\n&gt;&gt; That's why,\n\n398\n00:21:43.130 --> 00:21:44.570\nI was like,\nyeah I'm doing this on purpose.\n\n399\n00:21:44.570 --> 00:21:46.150\n&gt;&gt; Yeah.\n&gt;&gt; I'm trying not to mention it right now.\n\n400\n00:21:46.150 --> 00:21:50.315\nBut, notice that what it's actually\nsaying right here on the LAN side, right?\n\n401\n00:21:50.315 --> 00:21:56.010\nIt's saying hey look, if it comes in or\nit's going out here and then traffic\n\n402\n00:21:56.010 --> 00:21:59.390\ncoming back in, it's actually allowing\nit to come back in and do everything.\n\n403\n00:21:59.390 --> 00:22:03.970\nBut that reflexive rule when it comes\nback in it's gonna hit this, but\n\n404\n00:22:03.970 --> 00:22:07.440\nonly if it doesn't actually\nget met by these rules first.\n\n405\n00:22:07.440 --> 00:22:10.640\n&gt;&gt; Right, because the first except\nthat it finds it accepts and\n\n406\n00:22:10.640 --> 00:22:12.092\nthen it stops processing.\n\n407\n00:22:12.092 --> 00:22:12.720\nThat's it.\nSo\n\n408\n00:22:12.720 --> 00:22:16.950\nlet's see what happens if I just simply\nclick and drag and move that up.\n\n409\n00:22:16.950 --> 00:22:20.190\nNow in previous versions like the 2.2,\n2, and\n\n410\n00:22:20.190 --> 00:22:23.730\nstuff like that, you didn't have that\nability just to click and drag it up.\n\n411\n00:22:23.730 --> 00:22:25.960\nYou actually had to kind of select it.\n\n412\n00:22:25.960 --> 00:22:29.053\nAnd then there were some arrows on the\nright hand side where you could actually\n\n413\n00:22:29.053 --> 00:22:30.250\ngo, move it above this rule.\n\n414\n00:22:30.250 --> 00:22:31.471\nBut click and drag, much more intuitive.\n\n415\n00:22:31.471 --> 00:22:33.057\n&gt;&gt; That's way better, yeah.\n\n416\n00:22:34.943 --> 00:22:39.902\n&gt;&gt; So now, I'm gonna put it right here,\nright above or right below the anti\n\n417\n00:22:39.902 --> 00:22:44.470\nlock out rule and apply the changes and\nlet's see, at this point.\n\n418\n00:22:44.470 --> 00:22:45.151\nIf it doesn't work then\n\n419\n00:22:45.151 --> 00:22:46.550\nI've really done something wrong\n&gt;&gt; [LAUGH].\n\n420\n00:22:46.550 --> 00:22:47.864\nIt goes so good, Ronnie.\n\n421\n00:22:50.061 --> 00:22:50.618\nWe might have a winner.\n\n422\n00:22:50.618 --> 00:22:54.180\n&gt;&gt; So now, notice that at this point here.\n\n423\n00:22:54.180 --> 00:22:55.870\nI go, all right.\n\n424\n00:22:55.870 --> 00:22:58.450\nIt can't be displayed right here.\n\n425\n00:22:58.450 --> 00:23:00.800\nNow, notice how quickly it failed.\n\n426\n00:23:00.800 --> 00:23:02.610\nAnd that is the key.\n\n427\n00:23:02.610 --> 00:23:06.180\nBecause I chose reject, this meant what?\n\n428\n00:23:06.180 --> 00:23:09.100\nThat whoever sent the first message.\n\n429\n00:23:09.100 --> 00:23:13.010\nThe firewall immediately said,\nI have a rule in place.\n\n430\n00:23:13.010 --> 00:23:15.100\nAnd I'm supposed to block you, okay?\n\n431\n00:23:15.100 --> 00:23:16.720\nI'm supposed to do that.\n\n432\n00:23:16.720 --> 00:23:21.670\nNow sometimes like this one right here,\nit doesn't say that, right?\n\n433\n00:23:21.670 --> 00:23:25.790\nSo like if you're in Firefox it says,\nhey if you're going through a proxy or\n\n434\n00:23:25.790 --> 00:23:32.140\nyou're using a firewall, make sure that\nthis page can actually be displayed here.\n\n435\n00:23:32.140 --> 00:23:34.460\nSo you might actually see\nsomething like that, but\n\n436\n00:23:34.460 --> 00:23:37.430\nthis one is just saying, look we\ndon't know what it is, try it again.\n\n437\n00:23:37.430 --> 00:23:41.940\nSo let me refresh this page and see if\nI can get through this second time, and\n\n438\n00:23:41.940 --> 00:23:44.980\nnotice I still can't get through there.\n\n439\n00:23:44.980 --> 00:23:45.980\nSo, if I go,\n\n440\n00:23:45.980 --> 00:23:50.950\nwell how do I know that Ronnie you\njust didn't catch it by luck here?\n\n441\n00:23:50.950 --> 00:23:54.020\nSo, is Ronnie ever that lucky, first?\n\n442\n00:23:54.020 --> 00:23:54.728\nNo, okay.\n\n443\n00:23:54.728 --> 00:23:58.287\n[LAUGH] But secondly,\nRemember that we can disable the scrolls.\n\n444\n00:23:58.287 --> 00:24:01.759\nSo let's take a look over\nhere on the right hand side.\n\n445\n00:24:01.759 --> 00:24:04.257\nAnd we'll kind of see these actions,\nright?\n\n446\n00:24:04.257 --> 00:24:08.990\nSo you have this other action, and this is\nwhere you can also move the entire rule.\n\n447\n00:24:08.990 --> 00:24:13.670\nBut what I'm going to do here is I'm\ngoing to disable that rule, very quickly.\n\n448\n00:24:13.670 --> 00:24:17.880\nI'm not gonna get rid of it, and\nI'm gonna apply the changes.\n\n449\n00:24:17.880 --> 00:24:21.130\nAnd remember that that page\ncouldn't be displayed before.\n\n450\n00:24:21.130 --> 00:24:24.070\nAnd now I've closed out of it,\nclosing out of that session.\n\n451\n00:24:24.070 --> 00:24:30.392\nAnd if I try it again, Oops, let's see,\nI might have to give it a moment.\n\n452\n00:24:30.392 --> 00:24:31.585\nI might have to close the entire browser,\nright?\n\n453\n00:24:31.585 --> 00:24:34.095\nIs that what it's gonna do here?\n\n454\n00:24:36.949 --> 00:24:37.660\nIt moved it.\n\n455\n00:24:39.120 --> 00:24:40.032\nI blocked the wrong rule.\n\n456\n00:24:40.032 --> 00:24:42.378\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n457\n00:24:42.378 --> 00:24:42.891\n&gt;&gt; That's why.\n\n458\n00:24:42.891 --> 00:24:44.620\n&gt;&gt; Remember that slow is smooth and\n[CROSSTALK]\n\n459\n00:24:44.620 --> 00:24:45.341\n&gt;&gt; Yeah, see, that's what happens.\n\n460\n00:24:45.341 --> 00:24:49.950\nSo, see, I blocked the wrong rule,and\nthat's what got me in trouble.\n\n461\n00:24:49.950 --> 00:24:51.750\nDaniel, you saw it right here.\n\n462\n00:24:51.750 --> 00:24:53.170\nSo let me try that again, so\n\n463\n00:24:53.170 --> 00:24:56.660\nlet me verify I actually go\nthe right rule this time, okay.\n\n464\n00:24:56.660 --> 00:25:01.340\nSo Daniel's little motto there\nshould have helped me, but no,\n\n465\n00:25:01.340 --> 00:25:03.090\nI was trying to do it quickly.\n\n466\n00:25:03.090 --> 00:25:03.920\nSo there it is.\n\n467\n00:25:03.920 --> 00:25:08.330\nSo if everything is good, I get the green,\nand then I come back over here.\n\n468\n00:25:10.110 --> 00:25:14.790\nTry it again /., and\nthis time notice it comes back in.\n\n469\n00:25:14.790 --> 00:25:17.100\nSo that's one way where\nyou can test it out and\n\n470\n00:25:17.100 --> 00:25:20.270\nverify that everything is working\nthe way that you want to.\n\n471\n00:25:20.270 --> 00:25:23.880\nNow you may not choose to do this for\nyour entire LAN network right away,\n\n472\n00:25:23.880 --> 00:25:27.320\nyou may actually choose just to do it for\nyour own IP address just to check it out.\n\n473\n00:25:27.320 --> 00:25:30.950\nAnd then when you do that, right,\nyou can just come back in instead and\n\n474\n00:25:30.950 --> 00:25:34.880\nchange the source to Any,\ninstead of your own IP address.\n\n475\n00:25:34.880 --> 00:25:37.450\nAnd that should work, cuz you\nverified that it worked before, and\n\n476\n00:25:37.450 --> 00:25:40.830\nnow you're verifying yep, that rule\nis actually hitting what it needs to.\n\n477\n00:25:40.830 --> 00:25:44.127\nAnd now, if I uncheck that,\nand apply it again,\n\n478\n00:25:44.127 --> 00:25:46.868\nI wanna see if that rule gets hit, okay?\n\n479\n00:25:46.868 --> 00:25:51.410\nNow the other way that you can see this,\nso now I've blocked it again.\n\n480\n00:25:51.410 --> 00:25:54.202\nLet me verify, cuz I went too fast again.\n\n481\n00:25:54.202 --> 00:25:56.666\nAll right, so\nit is actually kind of open here.\n\n482\n00:25:56.666 --> 00:25:57.995\nSlash dot.\n\n483\n00:25:57.995 --> 00:25:59.113\nCome on.\n\n484\n00:26:03.665 --> 00:26:05.800\nAnd this time, it fails right away.\n\n485\n00:26:07.010 --> 00:26:09.960\nAnd now when you take a look, there it is.\n\n486\n00:26:09.960 --> 00:26:12.550\nAnd usually what you'll start seeing, and\nthis one actually takes a little bit of\n\n487\n00:26:12.550 --> 00:26:16.180\ntime before it updates, you'll start\nseeing these numbers right here in\n\n488\n00:26:16.180 --> 00:26:20.140\nthe state start popping up in terms\nof the amount of traffic as well.\n\n489\n00:26:20.140 --> 00:26:23.940\nSo even if it blocks it, it starts to\ncount it up there, so it's gonna take\n\n490\n00:26:23.940 --> 00:26:26.520\na little while before it refreshes, but\nyou'll actually end up seeing that.\n\n491\n00:26:26.520 --> 00:26:30.020\nIt's not a live time thing,\nit doesn't keep track of it automatically.\n\n492\n00:26:30.020 --> 00:26:32.960\nNext time you kind of come back to it,\nyou'll probably end up seeing it.\n\n493\n00:26:32.960 --> 00:26:35.730\nBut that's kinda some of the key\nthings that you will see.\n\n494\n00:26:35.730 --> 00:26:41.160\nThe more often it begins to, more that\npeople will hit it over and over again.\n\n495\n00:26:41.160 --> 00:26:46.090\nYou should end up seeing that traffic will\nstart to kind of mount up after a while.\n\n496\n00:26:46.090 --> 00:26:50.130\nSo just like everything else here,\nhere's all the traffic that went through.\n\n497\n00:26:50.130 --> 00:26:52.270\nAnd you see like 153 states.\n\n498\n00:26:52.270 --> 00:26:54.960\nYou also end up seeing that\nblock traffic come in.\n\n499\n00:26:54.960 --> 00:26:58.674\nWell, maybe, if I can actually stop\nselecting everything underneath the sun,\n\n500\n00:26:58.674 --> 00:27:00.200\nit would also help.\n\n501\n00:27:00.200 --> 00:27:03.570\nSo there are things like that, right?\n\n502\n00:27:03.570 --> 00:27:08.800\nWith a single website blocking everything,\nokay, it is possible.\n\n503\n00:27:08.800 --> 00:27:13.530\nBut it also possible that in 15 minutes,\n30 minutes from now,\n\n504\n00:27:13.530 --> 00:27:17.760\nslash dot if they had multiple\nIP addresses, it could change.\n\n505\n00:27:17.760 --> 00:27:22.190\nAnd now it doesn't matter, right,\ncuz I'm only blocking that one IP address.\n\n506\n00:27:22.190 --> 00:27:29.830\nSo trying to block access to a particular\nweb site is not as easy as it seems.\n\n507\n00:27:29.830 --> 00:27:30.710\nAnd the reason for\n\n508\n00:27:30.710 --> 00:27:35.270\nthat is because, well, you don't know how\nmany servers are actually out there, okay?\n\n509\n00:27:35.270 --> 00:27:39.290\nSo let me kind of give you an example of\nwhat you actually end up seeing sometimes\n\n510\n00:27:39.290 --> 00:27:40.660\ntoo, okay?\n\n511\n00:27:40.660 --> 00:27:45.370\nSo I went ahead and I said, you wanna\nknow probably what the most popular\n\n512\n00:27:45.370 --> 00:27:47.650\nrequest is to block during work time?\n\n513\n00:27:47.650 --> 00:27:49.435\nIt's probably social media, right?\n\n514\n00:27:49.435 --> 00:27:51.580\n&gt;&gt; Hm-mm.\n&gt;&gt; Like Facebook or Instagram or\n\n515\n00:27:51.580 --> 00:27:52.780\nanything like that.\n\n516\n00:27:52.780 --> 00:27:55.760\nWell I said, well how can we do this,\nit's not that easy.\n\n517\n00:27:55.760 --> 00:28:02.070\nAnd that's why even pfSense recommends the\nidea of doing some type of DNS filtering,\n\n518\n00:28:02.070 --> 00:28:05.950\nusing something else that's\nout there such as OpenDNS and\n\n519\n00:28:05.950 --> 00:28:09.550\nsome of the other sites that provide\nDNS filtering to help you out.\n\n520\n00:28:09.550 --> 00:28:13.560\nBut if I wanted to do this, okay?\n\n521\n00:28:13.560 --> 00:28:15.890\nSo I went ahead, and I did a search for\n\n522\n00:28:15.890 --> 00:28:19.870\njust about all of the Facebook\nservers that are out there.\n\n523\n00:28:19.870 --> 00:28:20.910\nAnd so let me see.\n\n524\n00:28:22.530 --> 00:28:23.945\nMore apps, let me bring up Notepad.\n\n525\n00:28:25.847 --> 00:28:26.620\nIt might help me out.\n\n526\n00:28:29.380 --> 00:28:32.570\nAll right, now you can't really\nsee all of this here at one point.\n\n527\n00:28:32.570 --> 00:28:36.680\nLet me see if I can find the original\ndocument that's actually on my desktop\n\n528\n00:28:36.680 --> 00:28:37.406\nsomewhere.\n\n529\n00:28:39.632 --> 00:28:42.032\nGotta make it easier to see instead.\n\n530\n00:28:42.032 --> 00:28:42.532\nThere we go.\n\n531\n00:28:46.892 --> 00:28:54.760\nWhen I say it'll make it easier to see,\nand Font size.\n\n532\n00:28:54.760 --> 00:28:56.126\nHow do I change the size here bigger?\n\n533\n00:29:00.704 --> 00:29:03.490\nAll right, so, it doesn't look bad.\n\n534\n00:29:03.490 --> 00:29:07.360\nBut when you start taking a lot\nat these subnetmask/20s, and\n\n535\n00:29:07.360 --> 00:29:11.225\nI start scrolling,\nnotice that it doesn't end.\n\n536\n00:29:11.225 --> 00:29:13.190\n[LAUGH]\n&gt;&gt; That's a lot.\n\n537\n00:29:13.190 --> 00:29:16.326\n&gt;&gt; It continues to go, and\neach one of these, and down here,\n\n538\n00:29:16.326 --> 00:29:19.360\nthese are actually IPv6 addresses and\ntheir /48s.\n\n539\n00:29:19.360 --> 00:29:25.060\nYou're talking about millions\nupon millions of IP addresses,\n\n540\n00:29:25.060 --> 00:29:26.990\nand that's in the IPv6 space.\n\n541\n00:29:26.990 --> 00:29:31.610\nAnd even in the IP version 4 spaces,\nit's hundreds, I mean,\n\n542\n00:29:31.610 --> 00:29:35.120\nthousands, if not,\nhundreds of thousands of IP addresses.\n\n543\n00:29:35.120 --> 00:29:37.735\nNow, you'll never be able\nto do all of them, okay,\n\n544\n00:29:37.735 --> 00:29:41.030\nbecause Facebook will\nconstantly change them as well.\n\n545\n00:29:41.030 --> 00:29:45.520\nSo I did a who is in my terminal and\n\n546\n00:29:45.520 --> 00:29:48.170\nsimply looked for\ntheir AS number to do so, and\n\n547\n00:29:48.170 --> 00:29:52.020\nyou gripped it in anything that actually\nhas a word route right at the beginning.\n\n548\n00:29:52.020 --> 00:29:54.340\nAnd that way,\nit actually pulled those addresses.\n\n549\n00:29:54.340 --> 00:29:56.920\nNow, you might be able to do that, but\n\n550\n00:29:56.920 --> 00:30:00.260\nyou might see again in 30 minutes,\nit might be gone.\n\n551\n00:30:00.260 --> 00:30:02.790\nAnd some of those numbers\nwill have changed.\n\n552\n00:30:02.790 --> 00:30:05.350\nThe same thing even with\nsomething like Instagram.\n\n553\n00:30:05.350 --> 00:30:10.214\nAnd earlier, on the idea of something\nlike Instagram, right one of the things\n\n554\n00:30:10.214 --> 00:30:14.784\nthat I ended up noticing is that their\ntime to live for their IP addresses in\n\n555\n00:30:14.784 --> 00:30:19.376\nthe way that you get access to them,\nthey're doing them in 90 seconds.\n\n556\n00:30:19.376 --> 00:30:23.890\nSo they're switching IP addresses\nabout every 90 seconds.\n\n557\n00:30:23.890 --> 00:30:26.514\nSo even if you got an updated\nlist like what I have here,\n\n558\n00:30:26.514 --> 00:30:29.070\nthat'll block the majority of them.\n\n559\n00:30:29.070 --> 00:30:32.205\nIt doesn't mean that it will block\nevery single one of them as well, okay?\n\n560\n00:30:32.205 --> 00:30:35.013\nSo we do want to show\nyou how you can try and\n\n561\n00:30:35.013 --> 00:30:39.885\nblock with pfSense something like this,\nbut it's gonna take a little\n\n562\n00:30:39.885 --> 00:30:45.200\nmore time than what I have scheduled for\nthe remainder of this episode.\n\n563\n00:30:45.200 --> 00:30:48.890\nSo Daniel, I think I'm gonna have\nto request a part two, Daniel.\n\n564\n00:30:48.890 --> 00:30:49.860\n&gt;&gt; Well,\n&gt;&gt; [LAUGH]\n\n565\n00:30:49.860 --> 00:30:51.310\n&gt;&gt; Since your part twos are usually pretty\n\n566\n00:30:51.310 --> 00:30:53.410\nfantastic, I'll allow it this time.\n\n567\n00:30:53.410 --> 00:30:54.260\nNo, we love it, right?\n\n568\n00:30:54.260 --> 00:30:57.250\nIt's fantastic stuff,\nthis is things that we want to know, so\n\n569\n00:30:57.250 --> 00:30:59.500\nwe definitely want to\ncheck out that part two.\n\n570\n00:30:59.500 --> 00:31:02.750\nBut Ronnie, you're right,\nthe clock is dwindling down ever so\n\n571\n00:31:02.750 --> 00:31:06.910\nquickly, so we will go ahead and cut for\ntoday, or at least for this episode.\n\n572\n00:31:06.910 --> 00:31:08.605\nAnd then, we'll pick right\nback up with that part two.\n\n573\n00:31:08.605 --> 00:31:12.165\nBut thanks for joining us today, thanks\nfor showing us what we've learned already,\n\n574\n00:31:12.165 --> 00:31:15.320\nlooking forward to seeing what you\ngot in store in that next episode.\n\n575\n00:31:15.320 --> 00:31:18.510\nThank you guys for watching us, but\nwe are gonna go ahead and sign off.\n\n576\n00:31:18.510 --> 00:31:20.590\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n577\n00:31:20.590 --> 00:31:21.400\n&gt;&gt; And I'm Ronnie Wong.\n\n578\n00:31:21.400 --> 00:31:22.173\n&gt;&gt; And we'll see you next time.\n\n579\n00:31:22.173 --> 00:31:29.863\n[MUSIC]\n\n580\n00:31:29.863 --> 00:31:32.150\nThank you for watching ITPro.TV.\n\n",
          "vimeoId": "195802532"
        },
        {
          "description": "In this episode, Daniel and Ronnie continue to demonstrate configuring LAN firewall rules in pfSense. Here they will show you how to block access to a web site that is utilizing multiple IP addresses through implementing an alias.",
          "length": "1149",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-2-2-configure_lan_firewall_rules_pt2-121416.00_18_57_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-2-2-configure_lan_firewall_rules_pt2-121416.00_18_57_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-2-2-configure_lan_firewall_rules_pt2-121416.00_18_57_29.Still001-sm.jpg",
          "title": "Configure LAN Firewall Rules Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.540\nWelcome to ITProTV.\n\n2\n00:00:01.540 --> 00:00:02.624\nI'm your host, Don Pezet.\n\n3\n00:00:02.624 --> 00:00:06.618\n[CROSSTALK]\n\n4\n00:00:06.618 --> 00:00:08.408\n[MUSIC]\n\n5\n00:00:08.408 --> 00:00:11.013\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.013 --> 00:00:13.302\n&gt;&gt; All right, greetings, everyone and\n\n7\n00:00:13.302 --> 00:00:16.108\nwelcome to another great\nepisode of ITProTV.\n\n8\n00:00:16.108 --> 00:00:19.469\nI'm your host, Daniel Lowrie and\nin today's episode,\n\n9\n00:00:19.469 --> 00:00:23.752\nwe are continuing on with more RPFs and\nsome version 2.3.2 series.\n\n10\n00:00:23.752 --> 00:00:27.017\nAnd of course, coming back for a little\nmore of that action is our good friend,\n\n11\n00:00:27.017 --> 00:00:28.000\nMr. Ronnie Wong.\n\n12\n00:00:28.000 --> 00:00:29.916\nRonnie, I'm so\nglad to have you back today.\n\n13\n00:00:29.916 --> 00:00:30.690\nHow's it going, sir?\n\n14\n00:00:30.690 --> 00:00:31.450\n&gt;&gt; It's going great.\n\n15\n00:00:31.450 --> 00:00:35.190\nThank you for having me back on the show\nas we continue on to take a look at more\n\n16\n00:00:35.190 --> 00:00:39.280\nwith working with the LAN configuration\nas far as the firewall rules go.\n\n17\n00:00:39.280 --> 00:00:44.360\nAnd we had just really set up where we\ncould show you how you could block access\n\n18\n00:00:44.360 --> 00:00:46.200\nto a single website.\n\n19\n00:00:46.200 --> 00:00:50.680\nAnd that really is kind of even filtered\ndown a little bit more to where\n\n20\n00:00:50.680 --> 00:00:53.470\nwe're really blocking\naccess to a single IP.\n\n21\n00:00:53.470 --> 00:00:57.320\nAnd that works, as long as the only thing\nthat you're trying to access is that\n\n22\n00:00:57.320 --> 00:00:59.827\none server that has that\none IP address on it.\n\n23\n00:00:59.827 --> 00:01:04.820\nBut in today's world where we do have\nhosted providers that are out there,\n\n24\n00:01:04.820 --> 00:01:10.630\nright, it's no longer just me having a\nserver sitting back there behind me in my\n\n25\n00:01:10.630 --> 00:01:11.950\ncloset back here.\n\n26\n00:01:11.950 --> 00:01:15.930\nBut today, of course, we're generally\nhosting things on something like\n\n27\n00:01:15.930 --> 00:01:18.490\nAmazon AWS, Rackspace,\nyou name it, a bunch of\n\n28\n00:01:18.490 --> 00:01:23.240\ndifferent other vendors that are out there\nthat really have hosted solutions for us.\n\n29\n00:01:23.240 --> 00:01:29.720\nAnd that also provides redundancy, but it\nalso means multiple IP addresses as well.\n\n30\n00:01:29.720 --> 00:01:31.390\nAnd once we get to that point,\n\n31\n00:01:31.390 --> 00:01:35.270\nnow it becomes a bit more\ndifficult to actually think about.\n\n32\n00:01:35.270 --> 00:01:38.260\nSo one of the last things that we talked\nabout in the previous episode is,\n\n33\n00:01:38.260 --> 00:01:40.080\nI kind of showed you a list.\n\n34\n00:01:40.080 --> 00:01:44.220\nAnd let me see if I can actually get back\nto that list so that we can see it here.\n\n35\n00:01:46.060 --> 00:01:49.280\nSo I think I was doing Facebook,\nso that we can see it.\n\n36\n00:01:49.280 --> 00:01:53.575\nSo when we start seeing\nsomething like this here where,\n\n37\n00:01:53.575 --> 00:01:57.980\nlet me see if I can zoom in again,\nwell, maybe.\n\n38\n00:01:59.300 --> 00:02:01.550\nAll right, well,\nany chance of that actually happening,\n\n39\n00:02:01.550 --> 00:02:03.670\ndoesn't seem like it's working too much.\n\n40\n00:02:03.670 --> 00:02:07.296\nBut you kind of get the idea\nhere as we continue to.\n\n41\n00:02:07.296 --> 00:02:09.636\nIt helps to actually hit the right key,\ndoesn't it?\n\n42\n00:02:09.636 --> 00:02:10.320\n&gt;&gt; Usually.\n\n43\n00:02:10.320 --> 00:02:11.610\n&gt;&gt; Well, maybe.\n\n44\n00:02:11.610 --> 00:02:13.135\nHow's that not working for me, yeah?\n\n45\n00:02:13.135 --> 00:02:13.980\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, well,\n\n46\n00:02:13.980 --> 00:02:18.740\nI was trying to change everything, but\napparently that's not the way to go.\n\n47\n00:02:18.740 --> 00:02:20.180\n&gt;&gt; Maybe cuz you gotta select everything.\n\n48\n00:02:20.180 --> 00:02:21.110\n&gt;&gt; Yeah, maybe.\n\n49\n00:02:21.110 --> 00:02:22.150\nThere we go.\n&gt;&gt; There it is.\n\n50\n00:02:22.150 --> 00:02:23.255\n&gt;&gt; Yeah, that's a little bit better.\n\n51\n00:02:23.255 --> 00:02:25.730\n[LAUGH] I'm like, okay, it's not working.\n\n52\n00:02:25.730 --> 00:02:27.770\nBut it's just because I don't know\nhow to use a keyboard, Daniel,\n\n53\n00:02:27.770 --> 00:02:29.140\nmore than anything else.\n\n54\n00:02:29.140 --> 00:02:32.630\nNow when we start seeing this,\nright, well,\n\n55\n00:02:32.630 --> 00:02:37.330\nnormally I'd have to really create a rule\nfor a couple of different things here.\n\n56\n00:02:37.330 --> 00:02:40.600\nI could create a rule for\neach one of these subnets, and\n\n57\n00:02:40.600 --> 00:02:42.780\npfSense gives us the ability to do that.\n\n58\n00:02:42.780 --> 00:02:47.680\nBut Daniel, notice that we're\ntalking about hundreds of rules.\n\n59\n00:02:47.680 --> 00:02:50.960\nAnd one of the key principles that we had\ntalked about really at the beginning when\n\n60\n00:02:50.960 --> 00:02:55.180\nwe started setting up firewall rules is,\nreally, we don't want 100 different rules.\n\n61\n00:02:55.180 --> 00:02:57.910\nWe want as short of\na rule list as possible\n\n62\n00:02:57.910 --> 00:03:01.010\nto be able to do something\nlike this instead.\n\n63\n00:03:01.010 --> 00:03:04.760\nSo the great thing is,\nwe can do something like this, but\n\n64\n00:03:04.760 --> 00:03:09.030\nit's still a little bit clunky if\nyou don't know how to do this.\n\n65\n00:03:09.030 --> 00:03:11.430\nSo let's go ahead and\nshow you what we can do here.\n\n66\n00:03:11.430 --> 00:03:13.600\nSo we're gonna try and\nkind of do the same thing.\n\n67\n00:03:13.600 --> 00:03:14.800\nI just wanna make sure\nI've got the right one.\n\n68\n00:03:14.800 --> 00:03:19.510\nOkay, so that essentially is Facebook,\nis the one that that is.\n\n69\n00:03:19.510 --> 00:03:21.950\nSo I'm gonna come back here\nto the web configurator and\n\n70\n00:03:21.950 --> 00:03:25.217\nthen go into Firewall &gt; Rules.\n\n71\n00:03:26.430 --> 00:03:32.140\nAnd now on the LAN tab here,\nwell, we're not gonna start right\n\n72\n00:03:32.140 --> 00:03:36.100\nhere even though that's where we're gonna\nend up configuring our firewall rule.\n\n73\n00:03:36.100 --> 00:03:40.340\nWe're gonna start off by creating\nan alias, is what we are going to do here.\n\n74\n00:03:40.340 --> 00:03:42.840\nSo the great thing is we already showed\nyou how to create an alias with things\n\n75\n00:03:42.840 --> 00:03:47.820\nlike port numbers and\neven some of the actual IP addresses, but\n\n76\n00:03:47.820 --> 00:03:49.720\nreally just a few at a time.\n\n77\n00:03:49.720 --> 00:03:53.592\nSo here, I had one in a previous\nepisode where I created one for\n\n78\n00:03:53.592 --> 00:03:56.658\nthe web servers and\nthese two IP addresses here.\n\n79\n00:03:56.658 --> 00:04:02.021\nOkay, but now if I want to add in another\none, I go ahead and click plus sign.\n\n80\n00:04:02.021 --> 00:04:06.294\nAnd at this point, I could add this in and\n\n81\n00:04:06.294 --> 00:04:10.480\nI'll call it Facebook Servers.\n\n82\n00:04:10.480 --> 00:04:12.600\nNow you do have to be careful here, and\n\n83\n00:04:12.600 --> 00:04:17.400\nit kind of tells you the name of the alias\nmay consist only of these characters.\n\n84\n00:04:17.400 --> 00:04:22.070\nSo no dashes, but this one will actually\naccept underscores in between them.\n\n85\n00:04:22.070 --> 00:04:24.940\nAnd that's what I want to see and\nI do wanna see that.\n\n86\n00:04:24.940 --> 00:04:33.460\nAnd then, of course, while these\nare actually Facebook IP addresses here.\n\n87\n00:04:33.460 --> 00:04:35.590\nAnd you do want to be careful.\n\n88\n00:04:35.590 --> 00:04:39.340\nRight here, the type is kind of the key.\n\n89\n00:04:39.340 --> 00:04:42.930\nIf I have host, that means I have to go\ninto every single one of those subnets and\n\n90\n00:04:42.930 --> 00:04:44.570\nactually type out, what?\n\n91\n00:04:44.570 --> 00:04:45.840\nEvery single IP address.\n\n92\n00:04:45.840 --> 00:04:48.300\nThat would be a lot of IP addresses.\n\n93\n00:04:48.300 --> 00:04:51.630\nSo if you actually enter those in there,\nit will kind of get you.\n\n94\n00:04:51.630 --> 00:04:55.100\nSo you would come down here to\nwhere it says Networks, and\n\n95\n00:04:55.100 --> 00:04:57.210\nthen you would select it here.\n\n96\n00:04:57.210 --> 00:05:00.740\nAnd from this point,\nI would enter it one network at a time.\n\n97\n00:05:00.740 --> 00:05:05.510\nNow with the list I've showed you, that's\nstill a long time to be able to do that.\n\n98\n00:05:05.510 --> 00:05:08.877\nSo that doesn't seem like\nthat is the way to go, okay?\n\n99\n00:05:09.980 --> 00:05:14.130\nSo how do you do this when you've already\ndone some of the homework for this,\n\n100\n00:05:14.130 --> 00:05:19.230\njust like I have, where I've already ran\na command that the who am I, who is,\n\n101\n00:05:19.230 --> 00:05:21.860\nI'm trying to remember?\n\n102\n00:05:21.860 --> 00:05:26.630\nWho is command, and essentially\ngather up every IP address currently\n\n103\n00:05:26.630 --> 00:05:30.620\nthat is coming from this autonomous\nsystem number right here, okay.\n\n104\n00:05:30.620 --> 00:05:34.964\nWell, we don't want this, so\nlet me go back out here and\n\n105\n00:05:34.964 --> 00:05:37.210\ngo to firewall and aliases again.\n\n106\n00:05:37.210 --> 00:05:38.890\nSo I've kinda gotten rid of that.\n\n107\n00:05:38.890 --> 00:05:42.050\nBut notice that there is\nanother button over here.\n\n108\n00:05:42.050 --> 00:05:43.630\nIf you've already done the homework,\n\n109\n00:05:45.090 --> 00:05:49.300\nthis one that is called\nImport is kinda the key.\n\n110\n00:05:49.300 --> 00:05:53.960\nBecause I already have a list,\nI can select Import instead.\n\n111\n00:05:53.960 --> 00:06:00.430\nAnd it's right here that now you can\nselect that alias name again, Facebook.\n\n112\n00:06:01.600 --> 00:06:07.808\nI'm gonna put servers here and\nFacebook servers.\n\n113\n00:06:07.808 --> 00:06:11.080\nSo do make sure you pay attention,\nespecially the alias name.\n\n114\n00:06:11.080 --> 00:06:15.440\nCuz that is the one that's actually\ngonna be a keyword inside of pfSense.\n\n115\n00:06:15.440 --> 00:06:19.400\nAnd then right here you can\nimport all of those in there.\n\n116\n00:06:19.400 --> 00:06:21.330\nNow you do have to be careful.\n\n117\n00:06:21.330 --> 00:06:23.690\nI want to make sure that\nI point this out here.\n\n118\n00:06:24.780 --> 00:06:31.187\nPaste aliases to import by\na separate carriage return, okay?\n\n119\n00:06:32.310 --> 00:06:37.013\nSo the list that I had that I\nbrought over into my VM over here,\n\n120\n00:06:37.013 --> 00:06:41.457\nit didn't actually put\na carriage return in the middle.\n\n121\n00:06:41.457 --> 00:06:45.610\nIt actually put a semicolon or\na slash instead.\n\n122\n00:06:45.610 --> 00:06:49.420\nSo the great thing is,\nI do have them in this list over here.\n\n123\n00:06:49.420 --> 00:06:53.743\nAnd I went ahead and added in\na carriage return in between them so\n\n124\n00:06:53.743 --> 00:06:58.730\nI can actually copy the whole thing,\nand that is a key for us to remember.\n\n125\n00:06:58.730 --> 00:07:02.290\nAll right, so it does take just,\neven just a little bit of time here.\n\n126\n00:07:03.400 --> 00:07:06.900\nBut I'm not even worried about\ndoing the IPv6 list for this point.\n\n127\n00:07:06.900 --> 00:07:09.810\nBut you can see we're\njust simply copying this.\n\n128\n00:07:09.810 --> 00:07:13.750\nIt is taking me just a moment here\nto get through the majority of it.\n\n129\n00:07:13.750 --> 00:07:17.620\nBut once I get to this point,\nI'll make sure that I copy it.\n\n130\n00:07:19.050 --> 00:07:22.820\nAnd then I can come back over here,\nhopefully paste them in.\n\n131\n00:07:23.960 --> 00:07:27.390\nAnd now I should have that\nentire list inside, okay?\n\n132\n00:07:27.390 --> 00:07:31.990\nSo that is the key here is making\nsure you follow the instructions.\n\n133\n00:07:31.990 --> 00:07:36.930\nSo remember, a carriage return has to be\nin between each one of these to do this.\n\n134\n00:07:36.930 --> 00:07:37.830\nAnd I click Save.\n\n135\n00:07:39.020 --> 00:07:43.110\nAnd now that I had it saved, you can\nsee where every single Facebook server,\n\n136\n00:07:44.170 --> 00:07:49.910\nas far as the subnets go, are now right\nhere underneath a Facebook server alias.\n\n137\n00:07:49.910 --> 00:07:50.510\nI click Apply.\n\n138\n00:07:50.510 --> 00:07:54.630\nI can go back into my Firewall and\ninto the rules.\n\n139\n00:07:54.630 --> 00:07:59.860\nAnd this time, on the LAN,\nI can now add in a new rule.\n\n140\n00:07:59.860 --> 00:08:01.380\nAnd I'm gonna add it in below.\n\n141\n00:08:02.820 --> 00:08:03.990\nAnd I can block it.\n\n142\n00:08:05.860 --> 00:08:06.570\nBlock this rule.\n\n143\n00:08:07.760 --> 00:08:09.240\nAnd I'll leave it on the LAN interface.\n\n144\n00:08:10.910 --> 00:08:14.230\nAnd so, when you start to see\nthis you're like, my gosh.\n\n145\n00:08:14.230 --> 00:08:15.720\nWhere do we put this in here?\n\n146\n00:08:15.720 --> 00:08:17.115\nWell, it's right here.\n\n147\n00:08:17.115 --> 00:08:20.168\nI can select the destination,\nso I don't care,\n\n148\n00:08:20.168 --> 00:08:24.940\nany address inside of my LAN tab\nright where I have my LAN network.\n\n149\n00:08:24.940 --> 00:08:28.080\nI instead can select single host or alias,\n\n150\n00:08:28.080 --> 00:08:31.440\nand then I start typing\nin Facebook servers.\n\n151\n00:08:31.440 --> 00:08:35.775\nAnd instead of me having to\ntype in 1,000 IP addresses,\n\n152\n00:08:35.775 --> 00:08:38.073\nit's now all listed here once.\n\n153\n00:08:38.073 --> 00:08:41.516\nAnd then we have this,\n\n154\n00:08:41.516 --> 00:08:48.230\nblocks access to Facebook servers, okay?\n\n155\n00:08:48.230 --> 00:08:52.497\nThen I click Save and\nnow I have a new rule and\n\n156\n00:08:52.497 --> 00:08:58.442\nI wanna verify anything in my\nown network here on TCP IPv4.\n\n157\n00:08:58.442 --> 00:09:02.351\nOn any source port, going to\nthe destination regardless of the port,\n\n158\n00:09:02.351 --> 00:09:03.951\nI'm gonna hover over that.\n\n159\n00:09:03.951 --> 00:09:07.450\nYou'll actually see, there is\nthe entire list that I have, right now.\n\n160\n00:09:09.390 --> 00:09:12.080\nAnd if that looks good to me, and it does,\n\n161\n00:09:12.080 --> 00:09:17.190\nI simply apply the change and\nnow I have this blocked.\n\n162\n00:09:17.190 --> 00:09:19.680\nNow as long as everything is fine,\nwell, that's good.\n\n163\n00:09:19.680 --> 00:09:21.050\nBut notice that once again,\n\n164\n00:09:21.050 --> 00:09:26.250\nit appears down here at the bottom of\nthe list after the initial one right here.\n\n165\n00:09:27.800 --> 00:09:32.447\nSo if I go ahead and click,\nand I drag this up this way.\n\n166\n00:09:34.810 --> 00:09:37.139\nAnd I had to click the blue Save button,\n\n167\n00:09:37.139 --> 00:09:40.399\nand then it's gonna ask me\nto apply the changes again.\n\n168\n00:09:40.399 --> 00:09:44.393\nWell, now in theory, if during\nthe time we actually had our break,\n\n169\n00:09:44.393 --> 00:09:46.156\nand this is really the truth.\n\n170\n00:09:46.156 --> 00:09:49.785\nIf during the time we had our break and\nthe time that we started,\n\n171\n00:09:49.785 --> 00:09:53.500\nwhich wasn't super long,\nit's probably longer than normal.\n\n172\n00:09:53.500 --> 00:09:56.962\nBut if we did and\nthey haven't added any more IP addresses,\n\n173\n00:09:56.962 --> 00:09:59.324\nI shouldn't be able to get to Facebook.\n\n174\n00:09:59.324 --> 00:10:03.013\nBut that's how you do it when you\nhave multiple IP addresses and\n\n175\n00:10:03.013 --> 00:10:04.410\nthat's kinda the key.\n\n176\n00:10:04.410 --> 00:10:08.780\nSo regardless of where you are, that's\nsomething that you can take a look at and\n\n177\n00:10:08.780 --> 00:10:10.350\nthink about doing here.\n\n178\n00:10:10.350 --> 00:10:11.300\nNow when you do that, right,\n\n179\n00:10:11.300 --> 00:10:17.230\nyou're blocking access to every single\nprotocol and everything else, too.\n\n180\n00:10:17.230 --> 00:10:20.170\nSo let's see if we can\ntest this thing out here.\n\n181\n00:10:20.170 --> 00:10:25.920\nAnd do Facebook.com and\nlet's see what happens here.\n\n182\n00:10:25.920 --> 00:10:30.050\nSo now it says it's waiting on Facebook,\nand we'll see what comes in.\n\n183\n00:10:30.050 --> 00:10:32.770\nSo if we get through, it found a way.\n\n184\n00:10:32.770 --> 00:10:36.491\nNow notice it didn't actually get all\nthe way to Facebook, it got to Bing,\n\n185\n00:10:36.491 --> 00:10:37.331\nwhich is weird.\n\n186\n00:10:37.331 --> 00:10:40.580\nThat is Facebook.com,\nlet me try it again then.\n\n187\n00:10:40.580 --> 00:10:43.740\nLet's see if it actually allows me,\nit's because doing a search, right?\n\n188\n00:10:43.740 --> 00:10:50.950\nLet's try www.facebook.com,\nlet's see what happens here.\n\n189\n00:10:52.990 --> 00:10:54.950\nSo now it looks like it's\ntrying to connect and\n\n190\n00:10:54.950 --> 00:10:56.025\neverything else should come in.\n\n191\n00:10:56.025 --> 00:10:57.050\nIf it comes to Bing again,\n\n192\n00:10:57.050 --> 00:11:00.540\nthat's because it's searching and\nfiguring out something that it can do.\n\n193\n00:11:00.540 --> 00:11:02.290\nBut normally,\nthat's what you're gonna see.\n\n194\n00:11:02.290 --> 00:11:05.515\nNow remember that I didn't\nset this as a reject, right?\n\n195\n00:11:05.515 --> 00:11:07.927\nOkay, so it's not getting me there.\n\n196\n00:11:07.927 --> 00:11:12.590\nLet's see if I click on the log or sign\nup here and let's see where it brings me.\n\n197\n00:11:12.590 --> 00:11:14.710\nBut it's not really getting\nme all the way there.\n\n198\n00:11:14.710 --> 00:11:18.520\nSo it's somehow redirecting\nwhat I wanted to do\n\n199\n00:11:18.520 --> 00:11:22.420\nout to Bing somewhere instead and\ndoing a search for it.\n\n200\n00:11:22.420 --> 00:11:23.890\n&gt;&gt; That's Windows 10\ntrying to help you out.\n\n201\n00:11:23.890 --> 00:11:25.930\n&gt;&gt; Yes, it is, it's Windows 10.\n\n202\n00:11:25.930 --> 00:11:30.500\nThere we go we finally got this, but\nwhy did it take so long in comparison?\n\n203\n00:11:30.500 --> 00:11:31.680\nIt's because after a while,\n\n204\n00:11:31.680 --> 00:11:35.980\nthe way that Internet Explorer works\nis they're gonna try two, three times.\n\n205\n00:11:35.980 --> 00:11:37.780\nI think it's three times, officially.\n\n206\n00:11:37.780 --> 00:11:39.760\nAnd then, after a while,\nI'm just gonna drop the traffic and\n\n207\n00:11:39.760 --> 00:11:42.590\nwe'll get this display is\nwhat we'll end up getting.\n\n208\n00:11:42.590 --> 00:11:45.880\nSo in the meantime, more than likely\nif I wait another hour or so,\n\n209\n00:11:45.880 --> 00:11:50.340\nthere'll probably be new IP addresses\nthere, or maybe a couple of hours.\n\n210\n00:11:50.340 --> 00:11:53.931\nThere'll probably be new IP addresses and\nthen we won't be able to do that.\n\n211\n00:11:53.931 --> 00:11:58.560\nNow how do I know that that particular\none is actually what blocked it?\n\n212\n00:11:58.560 --> 00:12:02.226\nWell, I come over here to\nthe right-hand side, and\n\n213\n00:12:02.226 --> 00:12:05.650\nnow hopefully, Facebook servers,\nmake sure I select the right one.\n\n214\n00:12:05.650 --> 00:12:07.550\nThis time I slowed down to read.\n\n215\n00:12:07.550 --> 00:12:11.430\nI put the check there to disable it,\nand I click Apply.\n\n216\n00:12:13.610 --> 00:12:15.468\nAnd now we try the same thing again.\n\n217\n00:12:19.910 --> 00:12:21.884\nNope, it actually did bring\n[CROSSTALK] me to the same page.\n\n218\n00:12:21.884 --> 00:12:22.660\nLet's see.\n\n219\n00:12:22.660 --> 00:12:24.173\nThere we go.\n[CROSSTALK] But I can get here now.\n\n220\n00:12:24.173 --> 00:12:24.830\nSo I don't know.\n\n221\n00:12:24.830 --> 00:12:28.650\nI guess it's just the way that Bing\ndid it for one reason or another.\n\n222\n00:12:28.650 --> 00:12:31.680\nBut we did try to actually\ntype that URL in there.\n\n223\n00:12:31.680 --> 00:12:34.910\nSo you will have unusual things if\nyou're doing something like that.\n\n224\n00:12:34.910 --> 00:12:39.900\nBut overall though,\nI was not actually able to get in there.\n\n225\n00:12:39.900 --> 00:12:43.300\nSo if I wanted to leave that up there,\nI simply do that.\n\n226\n00:12:43.300 --> 00:12:45.100\nClick Apply again, and let's see.\n\n227\n00:12:45.100 --> 00:12:47.280\nSo I don't want it to be a fake mistake,\nis what I don't want it to be.\n\n228\n00:12:47.280 --> 00:12:48.810\n&gt;&gt; Right.\n\n229\n00:12:48.810 --> 00:12:51.070\n&gt;&gt; Now Ronnie,\nbig companies like Facebook, Instagram,\n\n230\n00:12:51.070 --> 00:12:55.890\nof that nature, they can afford to do\nthis round-robining of different IPs.\n\n231\n00:12:57.070 --> 00:13:01.800\nBring some active, make some deactivate,\nand do this on a regular rotation.\n\n232\n00:13:01.800 --> 00:13:05.720\nNot everybody's that large or has that\ncapability, so this is still a valid,\n\n233\n00:13:05.720 --> 00:13:09.330\na really good way to block a site\nthat might be using multiple IPs.\n\n234\n00:13:09.330 --> 00:13:13.680\n&gt;&gt; It is, but it really depends on\nwhat you need to block on that site.\n\n235\n00:13:13.680 --> 00:13:14.260\nSo if you go,\n\n236\n00:13:14.260 --> 00:13:18.620\nwell, really, what I don't want is just\nall the ads that come on to Facebook.\n\n237\n00:13:18.620 --> 00:13:19.335\nWell, good luck.\n\n238\n00:13:19.335 --> 00:13:20.250\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay,\n\n239\n00:13:20.250 --> 00:13:23.600\nyou're probably not gonna be able to do\nthat unless you go to the idea of that\n\n240\n00:13:23.600 --> 00:13:27.260\nURL filtering and all those other things\nthat are out there and available.\n\n241\n00:13:27.260 --> 00:13:29.100\nSo use it in combination.\n\n242\n00:13:29.100 --> 00:13:31.100\nBut this is at least one\nway where you can do it.\n\n243\n00:13:31.100 --> 00:13:35.670\nBut it may not serve you the way\nthat you really want it to.\n\n244\n00:13:35.670 --> 00:13:37.870\nAnd after a while you'll\nhave to change it.\n\n245\n00:13:37.870 --> 00:13:42.280\nAnd imagine that, it just takes a little\nbit more, it takes a lot of time for\n\n246\n00:13:42.280 --> 00:13:45.410\nyou to have to research that out and\nfigure out what you actually want.\n\n247\n00:13:45.410 --> 00:13:50.595\nSo Facebook is probably the most requested\nblock that pfSense tends to face.\n\n248\n00:13:50.595 --> 00:13:55.288\nCuz that's what I wanna do is during that\ntime, I want to be able to block that.\n\n249\n00:13:55.288 --> 00:13:57.410\nIt is what we want, okay?\n\n250\n00:13:57.410 --> 00:14:00.720\nSo by taking a look at doing that, right,\n\n251\n00:14:00.720 --> 00:14:05.570\nwe can now actually make sure that we've\ngot everything in place that we want here.\n\n252\n00:14:05.570 --> 00:14:10.694\nWhere we've shown where you can block\naccess to a single website as well and\n\n253\n00:14:10.694 --> 00:14:13.795\nshowed you how to test that and\nbring that up.\n\n254\n00:14:13.795 --> 00:14:16.620\nDisable the actual rule,\nshow that you could still get to it.\n\n255\n00:14:16.620 --> 00:14:20.860\nSo you know that the actual firewall and\nwhat I was saying in the last episode\n\n256\n00:14:20.860 --> 00:14:24.880\nhere, is that you can also see\nthat rule was actually effective.\n\n257\n00:14:24.880 --> 00:14:30.312\nThat took sometime so don't think that\nI'm seeing 0, 0, I know it's not working.\n\n258\n00:14:30.312 --> 00:14:35.370\nGive it a few moments and then you'll see\nright here where you see, there it is,\n\n259\n00:14:35.370 --> 00:14:40.674\n608 bytes have actually gone through for\nthe one on slash that we created there.\n\n260\n00:14:40.674 --> 00:14:43.785\nLooks like 1.4 K evaluations.\n\n261\n00:14:43.785 --> 00:14:46.770\nIn other words,\nit hit the firewall rule that many times.\n\n262\n00:14:46.770 --> 00:14:51.050\nBut this is how much data was sent to\nall packets, and you'll see that, too.\n\n263\n00:14:51.050 --> 00:14:54.435\nAnd notice that even the Facebook one,\neven though we were able to get there and\n\n264\n00:14:54.435 --> 00:14:57.210\nwe tried it a couple times,\nit's not showing up yet.\n\n265\n00:14:57.210 --> 00:15:01.546\nBut I don't know exactly how long, it's\nprobably 90 seconds maybe two minutes,\n\n266\n00:15:01.546 --> 00:15:02.840\nthree minutes.\n\n267\n00:15:02.840 --> 00:15:05.800\nBut once everything comes in,\nwe'll actually start seeing that and\n\n268\n00:15:05.800 --> 00:15:08.390\nthat's how you know that\nthose rules are effective.\n\n269\n00:15:08.390 --> 00:15:12.770\nSo that's another good way of\ntroubleshooting at the very end, right?\n\n270\n00:15:12.770 --> 00:15:16.620\nIf the rule that you have\nin place is working, okay,\n\n271\n00:15:16.620 --> 00:15:19.290\nyou'll see those numbers go up.\n\n272\n00:15:19.290 --> 00:15:24.090\nIf you put a rule in there and\nthree days later you see no traffic,\n\n273\n00:15:24.090 --> 00:15:29.730\nit's more than likely a good hint that\nthat rule is not effective or you really\n\n274\n00:15:29.730 --> 00:15:33.540\ndidn't need that rule in place to help\nyou block what you needed it to, okay?\n\n275\n00:15:33.540 --> 00:15:39.090\nSo it's either the traffic pattern\nis not what you thought it was,\n\n276\n00:15:39.090 --> 00:15:42.880\nor the rule that you wrote is not\nblocking what you think it's blocking.\n\n277\n00:15:42.880 --> 00:15:46.470\nAnd it's proving that to you because it's\nnot actually going to the interface and\n\n278\n00:15:46.470 --> 00:15:48.200\nit's meeting that condition.\n\n279\n00:15:48.200 --> 00:15:53.060\nSo of course, then that means you want\nto reduce those rules inside of your\n\n280\n00:15:53.060 --> 00:15:58.440\nfirewall page here to the ones that you\nreally just need if you're doing this.\n\n281\n00:15:58.440 --> 00:16:01.240\nSo as it happens,\nyou want to just kind of do that and\n\n282\n00:16:01.240 --> 00:16:03.720\nlet's make sure you know how\nto do that as well, okay?\n\n283\n00:16:03.720 --> 00:16:07.532\nSo one more thing here,\na couple of things that we can point out.\n\n284\n00:16:07.532 --> 00:16:12.770\nSo if, like me, I know I'm not gonna be\ndoing IPv6 traffic, just as an example.\n\n285\n00:16:12.770 --> 00:16:17.380\nI can simply select that and then over\non the right-hand side, there is well,\n\n286\n00:16:17.380 --> 00:16:19.920\nreally like a trash can that you see.\n\n287\n00:16:19.920 --> 00:16:23.550\nAnd so all you do is you delete that rule\nright out of there, and that will go.\n\n288\n00:16:23.550 --> 00:16:28.310\nNow I don't like to delete the default\nrules myself, just in case\n\n289\n00:16:28.310 --> 00:16:32.480\nI know that in the future I'm gonna have\nto have this anyways, and I'll forget.\n\n290\n00:16:32.480 --> 00:16:34.930\nIf I delete one of the default rules\nI'll definitely forget it, and\n\n291\n00:16:34.930 --> 00:16:36.830\nthen I'll wonder why it's not working.\n\n292\n00:16:36.830 --> 00:16:38.685\nSo at this point, I'm just gonna leave it.\n\n293\n00:16:38.685 --> 00:16:42.194\nBut if you didn't,\nif you knew that I'm never gonna do IPv6,\n\n294\n00:16:42.194 --> 00:16:44.330\nnot as long as I'm the network admin.\n\n295\n00:16:44.330 --> 00:16:46.782\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] We'll delete it out of there.\n\n296\n00:16:46.782 --> 00:16:50.733\nGood luck in trying to connect the rest\nof the world when they do go to IPv6,\n\n297\n00:16:50.733 --> 00:16:54.215\nbut at the same time, it is your choice,\nit's your preference.\n\n298\n00:16:54.215 --> 00:16:58.170\nSo you have that ability to control that.\n\n299\n00:16:58.170 --> 00:17:02.530\nSo remember that the key is right,\nwhether we're talking about WAN or\n\n300\n00:17:02.530 --> 00:17:05.330\nLAN types of firewall rules, right?\n\n301\n00:17:05.330 --> 00:17:10.408\nIn the WAN side, it's really about opening\nup the access that we want to allow in.\n\n302\n00:17:10.408 --> 00:17:14.220\nWe don't wanna allow everything in,\nbut we know that we will need to.\n\n303\n00:17:14.220 --> 00:17:16.970\nSo we wanna make sure we\nexpose as little as possible.\n\n304\n00:17:16.970 --> 00:17:18.850\nOn the LAN side,\n\n305\n00:17:18.850 --> 00:17:23.750\nright, inside going outbound, it's already\nopened up the way that we need to.\n\n306\n00:17:23.750 --> 00:17:25.280\nAnd now what are we doing?\n\n307\n00:17:25.280 --> 00:17:29.320\nWe're adding in rules to\nrestrict the traffic instead.\n\n308\n00:17:29.320 --> 00:17:34.161\nSo once you kind of get that solid\nunderstanding in mind, the key,\n\n309\n00:17:34.161 --> 00:17:39.791\nof course, is finding the balance so\nthat your users can do what they need to.\n\n310\n00:17:39.791 --> 00:17:43.487\nAnd then also, of course,\nbe able to limit their\n\n311\n00:17:43.487 --> 00:17:48.282\naccess to the places that they\ndon't need to go as well, okay?\n\n312\n00:17:48.282 --> 00:17:53.400\nSo that is really kind of at least\nthe keys that we can take away from this.\n\n313\n00:17:53.400 --> 00:17:58.420\nRemember to always check also that logical\norder because it evaluates every rule from\n\n314\n00:17:58.420 --> 00:18:02.390\ntop to the bottom regardless of\nwhat particular tab it's on.\n\n315\n00:18:02.390 --> 00:18:04.268\nAnd you wanna keep that in mind as well,\nokay?\n\n316\n00:18:05.340 --> 00:18:10.140\nSo those are kind of the key aspects that\nwe wanna definitely make sure that we\n\n317\n00:18:10.140 --> 00:18:11.050\nremember.\n\n318\n00:18:11.050 --> 00:18:13.095\nAnd there is still just\na little bit more to go but\n\n319\n00:18:13.095 --> 00:18:16.550\nit's really designed for\nanother episode at this point.\n\n320\n00:18:16.550 --> 00:18:18.580\nSo Daniel, as far as I know,\n\n321\n00:18:18.580 --> 00:18:22.170\nat least the basics of firewall rules,\nI think we've covered them pretty well.\n\n322\n00:18:22.170 --> 00:18:23.690\n&gt;&gt; All right, yeah, I totally agree.\n\n323\n00:18:23.690 --> 00:18:27.020\nThis has definitely should be\nable to let the viewer out there,\n\n324\n00:18:27.020 --> 00:18:29.530\nyou watching at home,\nget your feet wet in pfSense.\n\n325\n00:18:29.530 --> 00:18:33.170\nAnd be able to set up some\ngood firewall rules that\n\n326\n00:18:33.170 --> 00:18:35.290\nwill make your environment\na little more secure.\n\n327\n00:18:35.290 --> 00:18:39.230\nAnd that's exactly what we're looking for,\nhopefully for you as well.\n\n328\n00:18:39.230 --> 00:18:43.038\nRonnie, thank you for demonstrating this,\nand imparting that knowledge to us.\n\n329\n00:18:43.038 --> 00:18:47.940\nNow we can go forth, young man or young\nlady, and make awesome firewall rules.\n\n330\n00:18:47.940 --> 00:18:51.443\nThat being said, I guess we'll close\nour show for today, or at least for\n\n331\n00:18:51.443 --> 00:18:52.201\nthis episode.\n\n332\n00:18:52.201 --> 00:18:53.690\nAnd we thank you guys for watching.\n\n333\n00:18:53.690 --> 00:18:56.580\nSigning off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n334\n00:18:56.580 --> 00:18:57.350\n&gt;&gt; And I'm Ronnie Wong.\n\n335\n00:18:57.350 --> 00:18:59.143\n&gt;&gt; And we'll see you next time.\n\n336\n00:18:59.143 --> 00:19:01.920\n[MUSIC]\n\n337\n00:19:01.920 --> 00:19:05.192\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "195803324"
        },
        {
          "description": "Errata:\nDuring the episode, Ronnie has problems getting recurring days of the week to work when scheduling the rules.  A member writes in and reports:  “recurring days of the week can be selected by clicking on the day of the week header column e.g. monday-sunday; selected days are applied to all months.”  \n\nThis will save you much time when trying to create and configure firewall rules to occur on a schedule.   ~Ronnie\n\nIn this episode, Daniel and Ronnie guide you through setting up a firewall rule schedule. They show you how to take advantage of the scheduling feature which allows you to make a rule active and/or inactive at the time(s) you choose. They demonstrate this by unblocking facebook access during lunch and off hours.",
          "length": "1116",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-3-schedule_firewall_rules-121416.00_18_32_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-3-schedule_firewall_rules-121416.00_18_32_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-2-3-schedule_firewall_rules-121416.00_18_32_05.Still001-sm.jpg",
          "title": "Schedule Firewall Rules",
          "transcript": "WEBVTT\n\n1\n00:00:00.140 --> 00:00:07.195\nWelcome on ITPro.TV,\nI'm your host Don Pezet [CROSSTALK]\n\n2\n00:00:07.195 --> 00:00:08.205\n[MUSIC]\n\n3\n00:00:08.205 --> 00:00:12.134\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:12.134 --> 00:00:13.921\n&gt;&gt; All right greetings everyone and\n\n5\n00:00:13.921 --> 00:00:16.740\nwelcome to another exciting\nepisode of ITPro.TV.\n\n6\n00:00:16.740 --> 00:00:21.330\nI'm your host Daniel Lowrie and in today's\nepisode we are continuing on with more\n\n7\n00:00:21.330 --> 00:00:25.350\non our PFsense version 2.3.2\nseries if I got that correctly.\n\n8\n00:00:25.350 --> 00:00:27.230\nAnd of course joining us\nback in the studio, yet\n\n9\n00:00:27.230 --> 00:00:31.545\nagain to lend his expertise on that very\ntopic, our good friend Mr. Ronnie Wong.\n\n10\n00:00:31.545 --> 00:00:33.040\nRonnie welcome back sir,\nhow's it going today?\n\n11\n00:00:33.040 --> 00:00:33.760\n&gt;&gt; It's going great.\n\n12\n00:00:33.760 --> 00:00:35.181\nThank you for having me back on the show.\n\n13\n00:00:35.181 --> 00:00:38.736\nAs we continue to take a look at just\na little bit more on dealing with\n\n14\n00:00:38.736 --> 00:00:40.490\nsome firewall rules.\n\n15\n00:00:40.490 --> 00:00:44.150\nNow, when we actually get into\nthis point where we know that\n\n16\n00:00:44.150 --> 00:00:48.760\nthe firewall rules are applying and\ndoing what we want them to do.\n\n17\n00:00:48.760 --> 00:00:53.640\nWe also, of course, realizing that\nour network continues to change.\n\n18\n00:00:53.640 --> 00:00:59.730\nSo even though at some point we might have\nblocked sites that we wanted to block,\n\n19\n00:00:59.730 --> 00:01:03.390\nfor a while we might realized that\nthat was just a temporary situation.\n\n20\n00:01:03.390 --> 00:01:06.270\nSo we've showed you in the past\nwhere you simply could disable that\n\n21\n00:01:06.270 --> 00:01:09.860\nrole to turn it off, and you may want to\nleave it there just in case it becomes\n\n22\n00:01:09.860 --> 00:01:12.990\na problem again and\nyou can enable them again.\n\n23\n00:01:12.990 --> 00:01:18.040\nBut you may actually find out that what\nmaybe that you really want to accomplish\n\n24\n00:01:18.040 --> 00:01:21.810\nIs that you want those rules\nto apply at certain times, but\n\n25\n00:01:21.810 --> 00:01:25.770\nyou really don't care if they\napply at other times as well.\n\n26\n00:01:25.770 --> 00:01:28.760\nSo you have this unusual conundrum, right.\n\n27\n00:01:28.760 --> 00:01:33.370\nYou need the site that you want people\nto not go to to be blocked, but\n\n28\n00:01:33.370 --> 00:01:37.070\nyou also want them to have access to it,\nbut just not all the time.\n\n29\n00:01:37.070 --> 00:01:40.150\nYou may want them to only have\naccess to it for a part of the time.\n\n30\n00:01:40.150 --> 00:01:45.180\nSo a great example is something like what\nwe've been doing in our show here on\n\n31\n00:01:45.180 --> 00:01:50.820\nthe LAN firewall rules, is that we can\nblock things like Facebook, right?\n\n32\n00:01:50.820 --> 00:01:52.475\nWell, remember that even if you do so,\n\n33\n00:01:52.475 --> 00:01:55.697\nthere's probably gonna be a way that\npeople will figure out the way around.\n\n34\n00:01:55.697 --> 00:02:00.682\nBut overall though, after while Facebook\nis going to kind of change up on us and\n\n35\n00:02:00.682 --> 00:02:03.411\nwill not be able to keep\non top that either.\n\n36\n00:02:03.411 --> 00:02:08.981\nNow the other thing though that you can do\nat least in the meantime if you wanted to,\n\n37\n00:02:08.981 --> 00:02:14.190\nis to essentially schedule\nthe firewall rules to actually happen.\n\n38\n00:02:14.190 --> 00:02:16.880\nNow by scheduling them to happen,\n\n39\n00:02:16.880 --> 00:02:22.270\nwhat we're saying is that they will only\napply during a certain time of the day or\n\n40\n00:02:22.270 --> 00:02:24.740\nthe week or the month or\nwhatever you want to do.\n\n41\n00:02:24.740 --> 00:02:27.070\nSo there's ways that\nyou can schedule that.\n\n42\n00:02:27.070 --> 00:02:31.690\nAnd so even though the rules are created\nin and there gonna be inside your firewall\n\n43\n00:02:31.690 --> 00:02:37.790\nthey will only apply if it meets a certain\nschedule that you have in place.\n\n44\n00:02:37.790 --> 00:02:40.980\nSo that's what we want to show you\ntoday to do something like this.\n\n45\n00:02:40.980 --> 00:02:45.350\nSo if we take for an example Facebook,\nthat's not something we really want\n\n46\n00:02:45.350 --> 00:02:48.140\neveryone to get access\nto during the work time.\n\n47\n00:02:49.680 --> 00:02:52.070\nBut as people come in from,\n\n48\n00:02:52.070 --> 00:02:56.950\nlet's say eight until noon,\nwe don't want them to have access to it.\n\n49\n00:02:56.950 --> 00:03:01.790\nBut during that hour lunch break that\nthey may have I say, all right, sure.\n\n50\n00:03:01.790 --> 00:03:04.820\nWe can go ahead and enable and\nallow traffic to come through for that.\n\n51\n00:03:04.820 --> 00:03:06.780\nFor that particular period of time, but\n\n52\n00:03:06.780 --> 00:03:10.660\nthen close it down again between one and\nfive, if we wanted to.\n\n53\n00:03:10.660 --> 00:03:14.010\nSo that's kind of an example of what\nyou can do with some of these rules.\n\n54\n00:03:14.010 --> 00:03:19.730\nNow you do have to understand here\nthat this is a change from the way\n\n55\n00:03:19.730 --> 00:03:25.290\nearly editions, probably back to the one\npoint something editions of pfSense.\n\n56\n00:03:25.290 --> 00:03:30.620\nWhere what it used to be is that,\nif you enabled these types of rules,\n\n57\n00:03:30.620 --> 00:03:35.156\noutside of that scheduled time\nthat we have, between noon and\n\n58\n00:03:35.156 --> 00:03:40.640\none PM, that's when our\nnormal lunchtime is gonna be.\n\n59\n00:03:40.640 --> 00:03:45.100\nBetween that period of time,\nif it wasn't actually during that time,\n\n60\n00:03:45.100 --> 00:03:46.580\nit would just reverse the rule.\n\n61\n00:03:46.580 --> 00:03:51.435\nSo for example, if we we're saying\nwe wanted to allow Facebook\n\n62\n00:03:51.435 --> 00:03:56.300\nbetween that time, it was off,\nit would just simply block it.\n\n63\n00:03:56.300 --> 00:03:59.762\nDuring the other parts of the time\nthat didn't face the schedule for\n\n64\n00:03:59.762 --> 00:04:03.722\nthe way that it is now in the version,\nthat we're talking about 2.3.2.\n\n65\n00:04:03.722 --> 00:04:07.881\nIf it's not actually during that period\nof time the firewall just treats it as if\n\n66\n00:04:07.881 --> 00:04:09.180\nit's not there.\n\n67\n00:04:09.180 --> 00:04:14.020\nIt looks a little bit confusing because\nyou do have to have a rule there but,\n\n68\n00:04:14.020 --> 00:04:16.670\nin the end,\nit actually makes it a lot easier and\n\n69\n00:04:16.670 --> 00:04:20.070\na lot better and\na little bit more intuitive to do this.\n\n70\n00:04:20.070 --> 00:04:24.340\nSo we wanna make sure that we\nremember that as we come through.\n\n71\n00:04:24.340 --> 00:04:25.230\nThe other thing, of course,\n\n72\n00:04:25.230 --> 00:04:30.880\nthat you also want to remember Is that\nsame order in the scheduling too, okay.\n\n73\n00:04:30.880 --> 00:04:35.550\nIt has to, again, we have to remember\nthat the first rule that it meets,\n\n74\n00:04:35.550 --> 00:04:40.370\nright, if it matches, it only matches\nup to that condition, and no further.\n\n75\n00:04:40.370 --> 00:04:42.920\nSo we've gotta remember a couple\nof things when we do that.\n\n76\n00:04:42.920 --> 00:04:45.550\nAll right, so let's go ahead and\nshow you how we can actually work\n\n77\n00:04:45.550 --> 00:04:49.150\nwith something like a scheduling\nrule to really help us out.\n\n78\n00:04:49.150 --> 00:04:51.850\nSo, here it is,\nhere's the kind of default rules.\n\n79\n00:04:51.850 --> 00:04:54.510\nAnd of course the two\nrules that we created\n\n80\n00:04:54.510 --> 00:04:57.280\nare right here to block the traffic.\n\n81\n00:04:57.280 --> 00:05:00.850\nNow, what I want to do is,\neven with the Facebook server,\n\n82\n00:05:00.850 --> 00:05:02.720\nso that's kind of the general one.\n\n83\n00:05:02.720 --> 00:05:05.940\nI want people to be able to gain access\nto it during their lunch period,\n\n84\n00:05:05.940 --> 00:05:07.753\nand their break of time that they want.\n\n85\n00:05:07.753 --> 00:05:10.420\nSo I want to create a rule that\nallows that to go through but\n\n86\n00:05:10.420 --> 00:05:14.250\nat any other time I want to leave\nit at the default of blocking here.\n\n87\n00:05:14.250 --> 00:05:19.090\nSo when we start to take a look at this\nI need actually to create another rule,\n\n88\n00:05:19.090 --> 00:05:20.720\nas well, all right.\n\n89\n00:05:20.720 --> 00:05:24.770\nSo I can go in and I can manually create\nthis rule but if I've already got the rule\n\n90\n00:05:24.770 --> 00:05:28.600\nthat I have in place and\nI really just need to make it a pass rule.\n\n91\n00:05:28.600 --> 00:05:30.798\nI can simply duplicate this role.\n\n92\n00:05:30.798 --> 00:05:34.790\nAnd so I pick that role that says\nblock access to Facebook servers.\n\n93\n00:05:34.790 --> 00:05:37.860\nI come over here to the right\nhand side I select copy.\n\n94\n00:05:38.950 --> 00:05:43.680\nAnd then when I do so, it now actually\nmakes a copy of that role and\n\n95\n00:05:43.680 --> 00:05:46.910\nthis time I want it to pass instead.\n\n96\n00:05:47.940 --> 00:05:55.060\nAnd now, as I scroll down through here,\nI instead can say allows access.\n\n97\n00:05:55.060 --> 00:05:59.605\nNow I'm not completely done but I just\nwant to at least get to this point right\n\n98\n00:05:59.605 --> 00:06:04.222\nhere, where it's actually exactly the same\nway as it was before and I'm just\n\n99\n00:06:04.222 --> 00:06:09.079\nchanging the paths or the block to a path\nat this point, and I'm gonna save this.\n\n100\n00:06:09.079 --> 00:06:12.535\nAnd before I do that,\nI'm gonna take that second rule and\n\n101\n00:06:12.535 --> 00:06:16.497\nI'm going to disable it for\nright now and then apply the changes.\n\n102\n00:06:16.497 --> 00:06:18.221\nBut I don't want it to apply right now.\n\n103\n00:06:18.221 --> 00:06:21.777\nI don't want there to be some type\nof conflict cuz I still need to add\n\n104\n00:06:21.777 --> 00:06:23.250\na schedule into this rule.\n\n105\n00:06:24.700 --> 00:06:26.530\nNow, I need to create the schedule.\n\n106\n00:06:26.530 --> 00:06:30.990\nSo if we talk about the idea of\ncreating a schedule for a rule,\n\n107\n00:06:30.990 --> 00:06:35.630\nI can go up here to Firewall,\nat the top, and then select Schedules.\n\n108\n00:06:37.280 --> 00:06:39.190\nAnd within the Schedules,\n\n109\n00:06:39.190 --> 00:06:43.840\nyou of course have the Add button over\nhere on the lower right-hand corner.\n\n110\n00:06:43.840 --> 00:06:50.784\nSo I'll select Add, and\nnow we'll call it lunch time access two,\n\n111\n00:06:50.784 --> 00:06:56.830\noops, sorry this has to be kind of,\nforgot lunchtime.\n\n112\n00:06:56.830 --> 00:06:57.887\nSo we'll just make it short.\n\n113\n00:06:57.887 --> 00:07:00.300\nI don't want to create\nthis big long rule here.\n\n114\n00:07:00.300 --> 00:07:04.880\nBut so\nthis will be lunchtime Access to Facebook.\n\n115\n00:07:07.530 --> 00:07:10.370\nAnd then we can pick of course\nthe month that we're in.\n\n116\n00:07:10.370 --> 00:07:15.162\nWe can actually do it for that, so\nthis one is as of this recording,\n\n117\n00:07:15.162 --> 00:07:20.485\nthis is of course December of 2016,\nand today's date is the 14th.\n\n118\n00:07:20.485 --> 00:07:23.020\nSo I can actually apply\nit to a single day.\n\n119\n00:07:23.020 --> 00:07:25.630\nIf I wanted to apply it to\nlets say the entire work week,\n\n120\n00:07:25.630 --> 00:07:28.870\nnotice I can actually click and\nchange that as well.\n\n121\n00:07:28.870 --> 00:07:30.880\nIf I just wanted to apply it to a weekend,\n\n122\n00:07:30.880 --> 00:07:35.900\nyou could see what you could do here by\nthe actual timing that you have in place.\n\n123\n00:07:35.900 --> 00:07:37.510\nSo I just wanted to apply it for one day.\n\n124\n00:07:37.510 --> 00:07:39.770\nLet's just say I want to apply for\nthe rest of this week here.\n\n125\n00:07:41.180 --> 00:07:43.200\nI can then set the time period.\n\n126\n00:07:43.200 --> 00:07:46.802\nAnd this one, let's say,\nwe're gonna start at 11.\n\n127\n00:07:46.802 --> 00:07:47.917\nIt's actually really that.\n\n128\n00:07:47.917 --> 00:07:49.394\nLet's go ahead and start it now, here.\n\n129\n00:07:49.394 --> 00:07:52.499\nAnd we'll start it at 11:45.\n\n130\n00:07:52.499 --> 00:07:54.740\nAnd then let's say we'll stop it.\n\n131\n00:07:54.740 --> 00:07:57.250\nI don't know, let's see if it actually\nwill give me the ability to do this\n\n132\n00:07:57.250 --> 00:07:59.050\ngranular, here.\n\n133\n00:07:59.050 --> 00:08:00.630\nDoes it allow me to type in stuff?\n\n134\n00:08:00.630 --> 00:08:02.500\nNo, it doesn't.\nSo, this one,\n\n135\n00:08:02.500 --> 00:08:05.870\nit actually only gives me\n15 minute increments here.\n\n136\n00:08:05.870 --> 00:08:08.344\nSo I was hoping I could\nactually do this for\n\n137\n00:08:08.344 --> 00:08:11.396\nthe time that we're actually on air for\nright now.\n\n138\n00:08:11.396 --> 00:08:13.977\nBut we'll just go and set it for\n\n139\n00:08:13.977 --> 00:08:18.160\nright here to be able to\nallow it during this time.\n\n140\n00:08:18.160 --> 00:08:21.480\nSo, here it is lunch time now,\nI only set up for 15 minutes but\n\n141\n00:08:21.480 --> 00:08:25.010\nlet'll see what it does, and\nwhat we'll end up seeing here.\n\n142\n00:08:25.010 --> 00:08:27.300\n&gt;&gt; So, Ronnie I'm taking a look at,\nyour little calendar,\n\n143\n00:08:27.300 --> 00:08:29.940\nyou got up on the screen there,\nis there a way for us to repeat that?\n\n144\n00:08:29.940 --> 00:08:34.560\nSo if I want to always to have Monday\nthrough Friday, at noon, this Facebook\n\n145\n00:08:34.560 --> 00:08:38.870\nrule applies, people get on to that, or do\nI have to go in and set that individually?\n\n146\n00:08:38.870 --> 00:08:41.891\n&gt;&gt; Well from right now in the interface\nthat we have,it looks like that\n\n147\n00:08:41.891 --> 00:08:44.016\nwe can only do individually\none month at a time.\n\n148\n00:08:44.016 --> 00:08:48.403\nIt doesn't give the option, select\nmultiple months nor does it say forever,\n\n149\n00:08:48.403 --> 00:08:52.000\nfrom this date on,\nwhich they might add in, in the future.\n\n150\n00:08:52.000 --> 00:08:54.340\nBut right now ,the interface\nlooks fairly simple.\n\n151\n00:08:54.340 --> 00:08:56.840\nSo it looks like we're going to\nhave to be fairly iterative in\n\n152\n00:08:56.840 --> 00:08:59.840\nterms of what we have\nto do here all right.\n\n153\n00:08:59.840 --> 00:09:04.370\nSo now that I have this set,\nas far as the time, I can of course add in\n\n154\n00:09:04.370 --> 00:09:07.930\nan additional time range there too, if we\nwanted to, to set it a little bit later.\n\n155\n00:09:07.930 --> 00:09:10.230\nBut for now, I'm just gonna select one.\n\n156\n00:09:11.280 --> 00:09:12.790\nAnd then, it says, wait a minute.\n\n157\n00:09:12.790 --> 00:09:15.850\nThere must be at least one\ntime range configured.\n\n158\n00:09:15.850 --> 00:09:17.600\nDid I not set a time range.\n\n159\n00:09:17.600 --> 00:09:19.390\nMaybe I didn't set a time range.\n\n160\n00:09:19.390 --> 00:09:23.299\nI thought I had, but\nit shows you how much I know there.\n\n161\n00:09:23.299 --> 00:09:29.643\nThat's right, I need to set this for,\non here, and I set 11:45, and\n\n162\n00:09:29.643 --> 00:09:35.007\nwe'll give them to,\nwe'll just give them till 1 PM instead.\n\n163\n00:09:35.007 --> 00:09:37.350\nSo I was hoping I could see this change,\nand we might still be able to.\n\n164\n00:09:37.350 --> 00:09:39.580\nLet's just set this for\na few minutes instead.\n\n165\n00:09:39.580 --> 00:09:43.340\nSo we'll see if it actually sets up in\nthis ten-minute time period that we have\n\n166\n00:09:43.340 --> 00:09:44.280\navailable to us.\n\n167\n00:09:45.710 --> 00:09:47.343\nSo, this is gonna be right before lunch.\n\n168\n00:09:47.343 --> 00:09:52.310\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n169\n00:09:52.310 --> 00:09:55.980\nnow let me go ahead and select save and,\nlet's see, what did I do?\n\n170\n00:09:55.980 --> 00:10:01.010\nOne time range configured,\ndid I, I must not have.\n\n171\n00:10:01.010 --> 00:10:02.420\nMaybe I have to add the time.\n\n172\n00:10:02.420 --> 00:10:02.920\nAll right, well.\n\n173\n00:10:04.570 --> 00:10:07.250\nAll right, so let's see here.\n\n174\n00:10:07.250 --> 00:10:08.093\nLet's try it one more time.\n\n175\n00:10:08.093 --> 00:10:09.054\n&gt;&gt; Going through the motions.\n&gt;&gt; I know,\n\n176\n00:10:09.054 --> 00:10:12.350\nI thought I had to actually added this in.\n\n177\n00:10:12.350 --> 00:10:14.220\nBut maybe I needed to\ndo one more thing here.\n\n178\n00:10:15.430 --> 00:10:18.742\nSo I will actually end up getting to\nthat period that I want to, barely.\n\n179\n00:10:18.742 --> 00:10:25.080\n[LAUGH] Just, Not before,\nyeah, well that should work.\n\n180\n00:10:26.450 --> 00:10:29.493\nTime range description, got to add time.\n\n181\n00:10:29.493 --> 00:10:32.010\nLet's see, there we go.\n\n182\n00:10:32.010 --> 00:10:35.893\nSo this is where you might be\nable to go in and add in more.\n\n183\n00:10:35.893 --> 00:10:40.321\nBut it only give you the ability to do\ndays and then start time and description.\n\n184\n00:10:40.321 --> 00:10:44.525\nSo that's what I forgot to hit is that add\ntime button I thought just configuring\n\n185\n00:10:44.525 --> 00:10:47.991\nthem right there would be enough\nclick save, and now there we go.\n\n186\n00:10:47.991 --> 00:10:52.897\nNow that I have that schedule,\nI go back in to firewall and\n\n187\n00:10:52.897 --> 00:10:57.409\nrules, and\nonce I have the rules I select my lan tab.\n\n188\n00:10:57.409 --> 00:11:01.088\nAnd now on that second rule\nthat I've disabled here,\n\n189\n00:11:01.088 --> 00:11:05.501\nI click on the edit which is\nthe little pencil, scroll down, and\n\n190\n00:11:05.501 --> 00:11:10.020\nthis is where I need to hit\nthe display the advanced options here.\n\n191\n00:11:11.530 --> 00:11:14.170\nAnd once we display the advanced options,\nand\n\n192\n00:11:14.170 --> 00:11:17.092\nI scroll down I should see a link here for\nschedule.\n\n193\n00:11:17.092 --> 00:11:21.700\nAnd there it is, select lunchtime and\n\n194\n00:11:21.700 --> 00:11:27.172\nI click Save, and\nthen I apply the changes and\n\n195\n00:11:27.172 --> 00:11:33.510\nnow if I enable this, and\nI apply the changes again.\n\n196\n00:11:34.880 --> 00:11:36.950\nThis is what should be happening here.\n\n197\n00:11:36.950 --> 00:11:39.410\nNow I may have to work\nthrough the logic of this and\n\n198\n00:11:39.410 --> 00:11:42.070\nsee if everything is good here, okay?\n\n199\n00:11:42.070 --> 00:11:46.840\nNow, I can already tell that this is\nnot good logic that I have set up.\n\n200\n00:11:46.840 --> 00:11:47.760\nAt this point,\n\n201\n00:11:47.760 --> 00:11:51.940\nthe way that we have the rules in the\norder that they're appearing in, right?\n\n202\n00:11:51.940 --> 00:11:55.815\nIs that if somebody is going to Facebook\nit's gonna hit this first rule with\n\n203\n00:11:55.815 --> 00:11:58.310\nthe x on it anyways and block it.\n\n204\n00:11:58.310 --> 00:12:02.830\nSo that sounds like a good idea\ncuz that's what I really want, but\n\n205\n00:12:02.830 --> 00:12:04.990\nI want that time rule to apply.\n\n206\n00:12:06.020 --> 00:12:09.770\nAnd if that first one applies where it\nactually blocks everything regardless of\n\n207\n00:12:09.770 --> 00:12:12.760\nthe time then the time\nrule's not going to apply.\n\n208\n00:12:12.760 --> 00:12:15.900\nSo I'm going to move\nthat up in the schedule.\n\n209\n00:12:15.900 --> 00:12:19.930\nAnd then select the blue Save button,\nand apply the changes again.\n\n210\n00:12:21.020 --> 00:12:26.660\nAnd now during this period of time, notice\nthat you'll see where it says lunch time.\n\n211\n00:12:26.660 --> 00:12:28.650\nAnd that, when you see that green arrow,\n\n212\n00:12:28.650 --> 00:12:33.120\nit means that matching traffic to\nthis rule is currently being allowed.\n\n213\n00:12:33.120 --> 00:12:38.020\nSo before,\nwhere it was actually blocked here, okay.\n\n214\n00:12:38.020 --> 00:12:41.960\nNow if I click on this tab, and\n\n215\n00:12:41.960 --> 00:12:49.410\nI try to go to www.facebook.com,\n\n216\n00:12:49.410 --> 00:12:54.420\nnotice it brings me right up to the\nFacebook page that gives me that access.\n\n217\n00:12:54.420 --> 00:12:59.250\nBut, if I now take this rule and\nI disable it, then.\n\n218\n00:12:59.250 --> 00:13:03.505\nSo, in other words this is working\nlike we're outside of the schedule,\n\n219\n00:13:03.505 --> 00:13:08.482\nI'm enabling it, and I'm gonna apply these\nchanges, if I selected the right one.\n\n220\n00:13:08.482 --> 00:13:11.532\nAnd then, I go to www.facebook.com,\n\n221\n00:13:11.532 --> 00:13:16.680\nI think I'll end up at Bing,\nfor one reason or another.\n\n222\n00:13:16.680 --> 00:13:20.150\nLet's see if I can actually\nget to the Facebook.com.\n\n223\n00:13:20.150 --> 00:13:24.250\nNotice it gives me to Bing, and\nthen I click on login or sign up.\n\n224\n00:13:24.250 --> 00:13:25.050\nAnd I went ahead and\n\n225\n00:13:25.050 --> 00:13:28.170\nclicked on the link again,\nseeing if I could get access to Facebook.\n\n226\n00:13:28.170 --> 00:13:29.670\nAnd it looks like it's just timing out.\n\n227\n00:13:29.670 --> 00:13:31.940\nIt's just not going to that page.\n\n228\n00:13:31.940 --> 00:13:36.150\nSo here's where you can start\nto see something like that.\n\n229\n00:13:36.150 --> 00:13:39.610\nAs things are actually being\nallowed to come in or not.\n\n230\n00:13:39.610 --> 00:13:43.980\nSo when we uncheck that,\nwhich should also end up happening.\n\n231\n00:13:43.980 --> 00:13:44.680\nWe're not gonna wait for\n\n232\n00:13:44.680 --> 00:13:48.550\nthe time to do this cuz it just becomes\njust a waiting game at this point.\n\n233\n00:13:48.550 --> 00:13:52.532\nBut what should happen is right when we\nhit that particular time period that we\n\n234\n00:13:52.532 --> 00:13:54.071\nsaid the end of that match is.\n\n235\n00:13:54.071 --> 00:13:59.070\nYou should end up seeing where this little\ngreen play sign will kind of go away.\n\n236\n00:13:59.070 --> 00:14:00.630\nAnd it will just be there.\n\n237\n00:14:00.630 --> 00:14:05.500\nAnd then this rule will become disabled\noutside of that scheduled time.\n\n238\n00:14:05.500 --> 00:14:09.930\nSo therefore, it will be ignored and\nthe rest of it will go through.\n\n239\n00:14:09.930 --> 00:14:13.110\nIf this rule gets placed after\nthis original block rule,\n\n240\n00:14:13.110 --> 00:14:18.040\nthough, it's not gonna ever hit that rule\nand the schedule will never be applied.\n\n241\n00:14:18.040 --> 00:14:20.880\nBut do remember that you can't\njust take the original rule, and\n\n242\n00:14:20.880 --> 00:14:22.860\ngo I'm gonna apply this schedule to it.\n\n243\n00:14:22.860 --> 00:14:25.080\nWithout the other rule in place,\n\n244\n00:14:25.080 --> 00:14:28.440\nit's just going to ignore it as long\nas the time period's not there.\n\n245\n00:14:28.440 --> 00:14:30.210\nSo if you do want it blocked,\n\n246\n00:14:30.210 --> 00:14:33.860\nremember that you have to create\nthat other rule that's right there.\n\n247\n00:14:33.860 --> 00:14:37.630\nAnd then if you wanna allow you have to\nhave a copy of whatever rule you want\n\n248\n00:14:37.630 --> 00:14:38.780\nallowed as well.\n\n249\n00:14:38.780 --> 00:14:42.842\nSo you can't just work it off of one,\nthere has to be two of them.\n\n250\n00:14:42.842 --> 00:14:45.860\nAnd setting this up will\nallow you to do that.\n\n251\n00:14:45.860 --> 00:14:49.420\nGives you much more granular\ncontrol over the access to\n\n252\n00:14:49.420 --> 00:14:51.940\nplaces that you really want\nthem to have access to.\n\n253\n00:14:51.940 --> 00:14:56.950\nAt the end of our lunchtime then, at least\ntheoretically, when they try and continue\n\n254\n00:14:56.950 --> 00:15:01.010\nto go there, well, it should actually\nblock them access after that point.\n\n255\n00:15:01.010 --> 00:15:02.200\nAnd we should be good.\n\n256\n00:15:02.200 --> 00:15:07.250\nSo much more access control\nthat you have available to you.\n\n257\n00:15:07.250 --> 00:15:12.170\nSo think about that idea of using the\nscheduling roles to help you out as well.\n\n258\n00:15:12.170 --> 00:15:14.112\nSo always start with those basic concepts.\n\n259\n00:15:14.112 --> 00:15:16.940\nRemember that the order is\ngonna be important as well.\n\n260\n00:15:16.940 --> 00:15:20.570\nI can't tell you how often,that it's\nreally been the order at least in things\n\n261\n00:15:20.570 --> 00:15:21.398\nthat I have done.\n\n262\n00:15:21.398 --> 00:15:23.470\nThat's really messed me up.\n\n263\n00:15:23.470 --> 00:15:26.263\nJust creating the rule and\nI think it applies, it really doesn't,\n\n264\n00:15:26.263 --> 00:15:29.301\nyou have to actually make sure that you\nwalk through and go If it goes here,\n\n265\n00:15:29.301 --> 00:15:30.487\nwhat's gonna apply first?\n\n266\n00:15:30.487 --> 00:15:34.512\nAnd if it doesn't well then move them\naround ,check it out there,make sure you\n\n267\n00:15:34.512 --> 00:15:36.446\nalways hit the save after you move it.\n\n268\n00:15:36.446 --> 00:15:39.882\nAnd then hit the apply and\nthen you can test your changes from there\n\n269\n00:15:39.882 --> 00:15:42.940\nusing of course the disable\nrole to help you out.\n\n270\n00:15:42.940 --> 00:15:45.550\nSee if it actually is applying the way\nthat you thought it was going to.\n\n271\n00:15:45.550 --> 00:15:49.700\nFrom that point you're pretty good\nat understanding kind of the very\n\n272\n00:15:50.840 --> 00:15:52.380\nfundamentals and the basics,\n\n273\n00:15:52.380 --> 00:15:56.110\nand the solid basics of creating\nsome good firewall rules.\n\n274\n00:15:56.110 --> 00:15:59.180\nIf you wanna learn more, right, most of\nthe other things that I kinda skipped\n\n275\n00:15:59.180 --> 00:16:02.820\nover that there were a lot of empty boxes,\nwhere I was like, why didn't you do that?\n\n276\n00:16:02.820 --> 00:16:05.250\nWell that's probably more for\nquality of service stuff, and\n\n277\n00:16:05.250 --> 00:16:07.490\nI'm not really getting\ninto that at this point.\n\n278\n00:16:07.490 --> 00:16:09.960\nWe're just really trying to make\nsure that you feel confident\n\n279\n00:16:09.960 --> 00:16:13.500\nthat you could actually get\na firewall up and running.\n\n280\n00:16:13.500 --> 00:16:14.263\nAnd hopefully,\n\n281\n00:16:14.263 --> 00:16:17.543\nthe skills that you learn here are really\ngonna help you to get started.\n\n282\n00:16:17.543 --> 00:16:20.879\nAnd you'll see that it won't be long\nbefore you feel very confident and\n\n283\n00:16:20.879 --> 00:16:23.830\nvery good about using pfSense\nas your main firewall.\n\n284\n00:16:23.830 --> 00:16:25.783\n&gt;&gt; That's right you gotta walk before\nyou can run, ladies and gentlemen.\n\n285\n00:16:25.783 --> 00:16:28.437\nDon't just think you can jump\ninto the deep end of the pool and\n\n286\n00:16:28.437 --> 00:16:32.048\nnever have taken a swimming lesson in your\nlife cuz you got a couple of floaties on.\n\n287\n00:16:32.048 --> 00:16:34.308\nWhat we're trying to do\nis teach you to swim so\n\n288\n00:16:34.308 --> 00:16:37.562\nthat you can venture out into\nthat deeper end of the water.\n\n289\n00:16:37.562 --> 00:16:39.746\nRonnie, you've done a masterful job today,\nwe appreciate that.\n\n290\n00:16:39.746 --> 00:16:41.850\nYou got anything else for us before we go?\n\n291\n00:16:41.850 --> 00:16:45.590\n&gt;&gt; I do since Ronnie talked\nas long as he did, right?\n\n292\n00:16:45.590 --> 00:16:49.160\nJust wanna show you the result cuz it\ndid finally flip over to that time.\n\n293\n00:16:49.160 --> 00:16:51.630\nSo let's just take a look\nat what you see here.\n\n294\n00:16:51.630 --> 00:16:54.760\nSo now, notice that at the very end,\nI know I hate adding in stuff, but\n\n295\n00:16:54.760 --> 00:16:59.030\nthis is good because, I mean just as\nDaniel started talking, it was right here.\n\n296\n00:16:59.030 --> 00:17:04.590\nNotice it turns yellow, and now,\nthat is pretty much saying this rule,\n\n297\n00:17:04.590 --> 00:17:09.130\noops, let me see if i can hover over\nit and give us the tooltip again.\n\n298\n00:17:09.130 --> 00:17:13.570\nThis rule is not currently active\nbecause the time period has expired.\n\n299\n00:17:13.570 --> 00:17:17.320\nSo you and I don't have to worry\nabout setting something up like that.\n\n300\n00:17:17.320 --> 00:17:20.946\nSo not only is it good for something\nlike lunch time but you may choose to do\n\n301\n00:17:20.946 --> 00:17:24.942\nsomething like this if your company is\nonly really working eight to five right?\n\n302\n00:17:24.942 --> 00:17:26.494\nAnd you go look, after 6 PM,\n\n303\n00:17:26.494 --> 00:17:30.665\nI don't want any machine to be able\nto get access out to the Internet.\n\n304\n00:17:30.665 --> 00:17:35.900\nYou may actually even set-up a rule in\nthat way where it's like from 7 PM until\n\n305\n00:17:35.900 --> 00:17:37.960\nyou know 7 AM the next day.\n\n306\n00:17:37.960 --> 00:17:39.840\nSo even if somebody were to stop by and\n\n307\n00:17:39.840 --> 00:17:43.330\nthink that they can jump online, nope\nthey're not be able to get access there.\n\n308\n00:17:43.330 --> 00:17:45.193\nSo there's a lot of control\nthat's available to you but\n\n309\n00:17:45.193 --> 00:17:47.925\nI just thought that was a nice ending, I\njust thought it was several minutes away,\n\n310\n00:17:47.925 --> 00:17:49.010\nwe're not gonna wait for that.\n\n311\n00:17:49.010 --> 00:17:50.357\n&gt;&gt; [LAUGH]\n&gt;&gt; That's kinda silly but\n\n312\n00:17:50.357 --> 00:17:52.188\nsince it happened, great thing to show.\n\n313\n00:17:52.188 --> 00:17:53.845\n&gt;&gt; Very cool, that is cool.\n\n314\n00:17:53.845 --> 00:17:55.268\nI love it when a plan comes together.\n\n315\n00:17:55.268 --> 00:17:59.454\nAnd speaking of a plan, we have a plan to\nshow you how to make some quality firewall\n\n316\n00:17:59.454 --> 00:18:03.521\nrules get you out in there and configuring\nthis thing so that you get actually do\n\n317\n00:18:03.521 --> 00:18:07.760\nsomething, start blocking traffic,\nor allowing traffic as necessary.\n\n318\n00:18:07.760 --> 00:18:09.660\nAnd hopefully we've done that and\nyou've enjoyed it.\n\n319\n00:18:09.660 --> 00:18:12.540\nBut, Ronnie it looks like that's\nall we've got for this episode.\n\n320\n00:18:12.540 --> 00:18:15.580\nWe do thank our audience out there for\njoining us today.\n\n321\n00:18:15.580 --> 00:18:17.450\nBut it is that time for us to sign off for\n\n322\n00:18:17.450 --> 00:18:19.797\nITPRO.TV I've been your\nhost Daniel Lowrie.\n\n323\n00:18:19.797 --> 00:18:20.637\n&gt;&gt; And I'm Ronnie Wong.\n\n324\n00:18:20.637 --> 00:18:22.758\n&gt;&gt; And we'll see you next time.\n\n325\n00:18:22.758 --> 00:18:28.727\n[MUSIC]\n\n326\n00:18:28.727 --> 00:18:32.215\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "195803775"
        }
      ],
      "title": "Configure Firewall Rules"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Ronnie take a look at setting up Dynamic NAT in a pfSense firewall. They start with the basics of why Dynamic NAT might be needed and then move right into configuring DNAT in the pfSense web GUI. Finally, they also show you how to setup DNAT with multiple public IP addresses.",
          "length": "1657",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-1-setup_dynamic_nat-121516.00_27_22_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-1-setup_dynamic_nat-121516.00_27_22_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-1-setup_dynamic_nat-121516.00_27_22_12.Still001-sm.jpg",
          "title": "Setup Dynamic NAT",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.192\nWelcome to ITPRO.TV.\n\n2\n00:00:01.192 --> 00:00:01.960\nI'm your host.\n\n3\n00:00:01.960 --> 00:00:06.503\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.503 --> 00:00:08.473\n[MUSIC]\n\n5\n00:00:08.473 --> 00:00:11.851\n&gt;&gt; You're watching ITPRO.TV.\n\n6\n00:00:11.851 --> 00:00:12.838\n&gt;&gt; All right.\n\n7\n00:00:12.838 --> 00:00:16.132\nGreetings, everyone, and welcome to\nanother exciting episode of ITPRO.TV.\n\n8\n00:00:16.132 --> 00:00:19.420\nI'm your host, Daniel Lowrie,\nand in today's episode,\n\n9\n00:00:19.420 --> 00:00:23.970\nwe're moving forward with more on\nour pfSense Version 2.3.2 series.\n\n10\n00:00:23.970 --> 00:00:26.070\nAnd joining us back in the studio yet\nagain for\n\n11\n00:00:26.070 --> 00:00:29.020\na little more of that action is\nour good friend, Mr. Ronnie Wong.\n\n12\n00:00:29.020 --> 00:00:30.500\nRonnie, welcome back, sir.\n\n13\n00:00:30.500 --> 00:00:33.770\n&gt;&gt; Well, thank you for having me back on\nthe show as we continue to take a look at,\n\n14\n00:00:33.770 --> 00:00:37.240\nwell, more of the different options\nthat we have inside of pfSense.\n\n15\n00:00:37.240 --> 00:00:40.020\nAnd the option that we're talking about,\nI shouldn't say option.\n\n16\n00:00:40.020 --> 00:00:42.620\nThis is absolutely essential\nthat we do this in pfSense,\n\n17\n00:00:42.620 --> 00:00:48.120\nwhich is of course, being able to\nset up what we call dynamic NAT.\n\n18\n00:00:48.120 --> 00:00:50.510\nNow when we start talking\nabout the idea of NAT,\n\n19\n00:00:50.510 --> 00:00:55.000\nnetwork address translation,\nthis is a very important part of how,\n\n20\n00:00:55.000 --> 00:01:00.706\nwell, a local area network can\nessential connect out to the Internet.\n\n21\n00:01:00.706 --> 00:01:05.720\nWithout the use of network address\ntranslation, at least in today's networks,\n\n22\n00:01:05.720 --> 00:01:10.300\nit's almost impossible for me to have\na machine inside of my local area network\n\n23\n00:01:10.300 --> 00:01:16.400\nrunning private IP addresses, to be able\nto go and even browse a simple website.\n\n24\n00:01:16.400 --> 00:01:18.870\nAnd the reason behind that\nis that out on the internet,\n\n25\n00:01:18.870 --> 00:01:21.440\nthere are rules that are out there.\n\n26\n00:01:21.440 --> 00:01:25.680\nThat sit there and say, look if you're\nusing a private IP address, okay,\n\n27\n00:01:25.680 --> 00:01:30.160\ninside of your network,\nyou cannot put that IP address and\n\n28\n00:01:30.160 --> 00:01:31.750\nhave it routed across the internet.\n\n29\n00:01:31.750 --> 00:01:33.240\nThat is a no, no.\n\n30\n00:01:33.240 --> 00:01:38.130\nIt so much of a no, no, that if\nthe authorities that are out there, right,\n\n31\n00:01:38.130 --> 00:01:41.320\nthat are controlling these\nassigned numbers and everything.\n\n32\n00:01:41.320 --> 00:01:45.470\nIf they realize that you're trying to net\nthese private addresses, they get very\n\n33\n00:01:45.470 --> 00:01:48.710\nupset to the point where it's like they\nsend you not only nasty letters, but\n\n34\n00:01:48.710 --> 00:01:52.540\nthey may say, you know the license\nthat we gave you to really kind of\n\n35\n00:01:52.540 --> 00:01:56.740\nhost these numbers and be able to route\nfor us, we might choose to not do that.\n\n36\n00:01:56.740 --> 00:01:59.040\nSo, it's a really bad thing.\n\n37\n00:01:59.040 --> 00:02:01.273\nSo at some point, of course then,\n\n38\n00:02:01.273 --> 00:02:05.431\nthat means we still are needing\nto be connected to the Internet.\n\n39\n00:02:05.431 --> 00:02:10.355\nSo what we need then is the ability to\ntake those private IP addresses and\n\n40\n00:02:10.355 --> 00:02:15.213\nof course go out and be able to\ntranslate that into a public IP address.\n\n41\n00:02:15.213 --> 00:02:17.704\nNow we don't have to do that.\n\n42\n00:02:17.704 --> 00:02:21.059\nDaniel if you wanted to go to an ISP and\n\n43\n00:02:21.059 --> 00:02:25.823\nlet's say your network\nhas 200 computers on it,\n\n44\n00:02:25.823 --> 00:02:29.951\nyou could go out to an ISP and\nsay, here it is.\n\n45\n00:02:29.951 --> 00:02:34.915\nI need 250 IP addresses that\nare publicly available.\n\n46\n00:02:34.915 --> 00:02:37.659\nAllows me to get out to the MNET,\ncuz that's how many devices I have.\n\n47\n00:02:37.659 --> 00:02:43.149\nAnd a lot of time, what do you think the\nchances Daniel, have you gone to an ISP\n\n48\n00:02:43.149 --> 00:02:47.982\nand say, I need 250 public IP addresses or\n&gt;&gt; The chances of me doing it,\n\n49\n00:02:47.982 --> 00:02:50.362\nI mean, I could do it, it's possible.\n\n50\n00:02:50.362 --> 00:02:55.433\nYou can call up here local ISP and say yep\nI need 200 IP addresses and then they're\n\n51\n00:02:55.433 --> 00:03:00.475\ngonna quote you the price for that and you\ngonna go that's a little too much for me.\n\n52\n00:03:00.475 --> 00:03:03.000\n&gt;&gt; [LAUGH]\n&gt;&gt; No doubt, it is a little bit pricy.\n\n53\n00:03:03.000 --> 00:03:07.460\nAt the same time they're probably gonna\nsay, look if I give you 250 of them,\n\n54\n00:03:07.460 --> 00:03:10.251\nthat really kind of limits\nmy customer base of growing-\n\n55\n00:03:10.251 --> 00:03:10.777\n&gt;&gt; [LAUGH]\n\n56\n00:03:10.777 --> 00:03:11.948\n&gt;&gt; Any chance in the future,\n\n57\n00:03:11.948 --> 00:03:13.237\ncuz all together I may have,\n\n58\n00:03:13.237 --> 00:03:17.250\nlet's say, maybe I have 1,000 addresses\nthat are assigned to me as an ISP.\n\n59\n00:03:17.250 --> 00:03:19.460\nWell, now Daniel's kind of taking up 250,\n\n60\n00:03:19.460 --> 00:03:22.829\nand now the customer base\ndoesn't get to grow that much.\n\n61\n00:03:24.110 --> 00:03:25.020\nBut, we could.\n\n62\n00:03:25.020 --> 00:03:28.590\nIf I don't want to use private\nIP addresses in the background,\n\n63\n00:03:28.590 --> 00:03:29.900\nthat's what I would have to do.\n\n64\n00:03:29.900 --> 00:03:33.280\nEvery single device,\nmy computers, my servers,\n\n65\n00:03:33.280 --> 00:03:37.270\nall of them would have to have public\nIP addresses inside of my network.\n\n66\n00:03:37.270 --> 00:03:40.860\nAnd then, they could have, of course,\nnow connect to the Internet and\n\n67\n00:03:40.860 --> 00:03:42.450\nwe'd be perfectly fine.\n\n68\n00:03:42.450 --> 00:03:46.940\nBut the reality is, a lot of times in\ntoday's world, even big companies,\n\n69\n00:03:46.940 --> 00:03:52.690\nsmall companies and everything else,\nyou don't get a ton of IP addresses, you'd\n\n70\n00:03:52.690 --> 00:03:56.750\nreally get a handful of them, depending\non how much you're willing to pay.\n\n71\n00:03:56.750 --> 00:04:02.410\nFor example, right here at IT Pro TV\nwe have 16 public IP addresses.\n\n72\n00:04:02.410 --> 00:04:06.204\nNow, when we start talking about that,\nright, we had to go to the ISP and\n\n73\n00:04:06.204 --> 00:04:10.186\nwe had to get those, but we have more\nthat 16 devices inside of my network,\n\n74\n00:04:10.186 --> 00:04:13.194\nso even that, as a limitation,\neven though it's 16.\n\n75\n00:04:13.194 --> 00:04:14.567\n&gt;&gt; We've got more that\n16 devices in this room.\n\n76\n00:04:14.567 --> 00:04:16.307\n[LAUGH]\n&gt;&gt; Yeah, it's true.\n\n77\n00:04:16.307 --> 00:04:18.779\nNow, that you started talking about it,\nyou're right.\n\n78\n00:04:18.779 --> 00:04:20.265\nThere are more than 16\ndevices in this room.\n\n79\n00:04:20.265 --> 00:04:23.820\nAnd so when you start doing that\nthere becomes that impossibility.\n\n80\n00:04:23.820 --> 00:04:27.300\nAnd this is where network\naddress translation fits in.\n\n81\n00:04:27.300 --> 00:04:31.910\nNetwork address translation essentially\nallows us to be able to take those private\n\n82\n00:04:31.910 --> 00:04:35.270\nIP addresses, the RFC 1918 addresses, and\n\n83\n00:04:35.270 --> 00:04:39.180\nthen send them through a network\naddress translation device.\n\n84\n00:04:39.180 --> 00:04:41.710\nFor us it's gonna be the pfSense firewall.\n\n85\n00:04:41.710 --> 00:04:45.880\nAnd, what it can do is it can keep track\nof all those different connections that I\n\n86\n00:04:45.880 --> 00:04:51.330\nhave inside and then translate\nthem out as a public IP address.\n\n87\n00:04:51.330 --> 00:04:53.130\nNow, there is several options for\n\n88\n00:04:53.130 --> 00:04:56.660\nus to talk about doing this\nas far as the concept goes.\n\n89\n00:04:56.660 --> 00:04:59.080\nThere is a one to one translation.\n\n90\n00:04:59.080 --> 00:05:03.250\nSo, I could take the first 16 devices\nthat I have, if I choose to, and\n\n91\n00:05:03.250 --> 00:05:06.350\njust assign them,\nhere's my laptop right here.\n\n92\n00:05:06.350 --> 00:05:08.520\nAnd assign one a public IP address.\n\n93\n00:05:08.520 --> 00:05:09.890\nHere's another one and assign one.\n\n94\n00:05:09.890 --> 00:05:12.890\nBut then after that,\nwell what about those other devices.\n\n95\n00:05:12.890 --> 00:05:14.620\nWell I'm kind of out of luck.\n\n96\n00:05:14.620 --> 00:05:17.120\nSo we can use that, but\nwe normally reserve that for\n\n97\n00:05:17.120 --> 00:05:21.760\nsomething special like servers that\nneed to get access out to the Internet.\n\n98\n00:05:21.760 --> 00:05:25.990\nSo what about all the other regular\ndevices like desktop computers, printers,\n\n99\n00:05:25.990 --> 00:05:30.650\nand all that stuff that we have available\nthat we know still needs to get outside?\n\n100\n00:05:30.650 --> 00:05:33.560\nBut then I only have\nreally a few IP addresses.\n\n101\n00:05:33.560 --> 00:05:35.420\nLet's say I only have one or two.\n\n102\n00:05:35.420 --> 00:05:36.920\nWell, we can do this as well,\n\n103\n00:05:36.920 --> 00:05:42.080\nand that's what we call dynamic NAT,\nis what that's called.\n\n104\n00:05:42.080 --> 00:05:45.590\nNow the great thing is in pfSense\nit makes it relatively easy.\n\n105\n00:05:45.590 --> 00:05:47.670\nSo every single device that goes out,\n\n106\n00:05:47.670 --> 00:05:51.040\nit gets translated into\nour public IP address.\n\n107\n00:05:51.040 --> 00:05:54.900\nSo let me kinda show you an example\nof what we're talking about here.\n\n108\n00:05:54.900 --> 00:05:59.890\nSo internally,\nI am on the LAN which is right here.\n\n109\n00:05:59.890 --> 00:06:03.190\nSo, I'm on this 10.1.110 network.\n\n110\n00:06:03.190 --> 00:06:04.850\nAnd all the devices that are behind that.\n\n111\n00:06:04.850 --> 00:06:08.730\nNow this is a fake network, but all\nthe devices that I would have behind this,\n\n112\n00:06:08.730 --> 00:06:13.170\nwhen it goes out, well it comes\nout of this LAN interface, and\n\n113\n00:06:13.170 --> 00:06:16.660\nessentially gets routed up\nhere to the WAN interface.\n\n114\n00:06:16.660 --> 00:06:23.090\nAnd when it goes out, all of those devices\ngets translated into this one IP address.\n\n115\n00:06:23.090 --> 00:06:28.990\nAnd the way it does that is by tracking\nall those different IP address inside,\n\n116\n00:06:28.990 --> 00:06:33.160\nand then it also attaches a port number\nto this one on the outside as well.\n\n117\n00:06:34.280 --> 00:06:37.245\nAnd that way every single time it\nactually goes out, there's a different\n\n118\n00:06:37.245 --> 00:06:41.425\nport number also attached to that so\nthat we can get translated outside.\n\n119\n00:06:42.545 --> 00:06:44.955\nSo that has to happen on some device.\n\n120\n00:06:44.955 --> 00:06:48.825\nSometimes it might be a router, but for\nus it's gonna be the pfSense box and\n\n121\n00:06:48.825 --> 00:06:51.035\nthat's what we wanna show you how to do.\n\n122\n00:06:51.035 --> 00:06:53.274\nSo when you first set up pfSense,\n\n123\n00:06:53.274 --> 00:06:56.070\nright, the only thing that we\ndid at the very beginning.\n\n124\n00:06:56.070 --> 00:06:59.260\nWe actually put an IP address on\nthe inside for a default gateway for\n\n125\n00:06:59.260 --> 00:07:02.902\nmy LAN and\nthen one on the outside right here.\n\n126\n00:07:02.902 --> 00:07:09.291\nWell, pfSense automatically assumes that\nall traffic is gonna go out the WAN port.\n\n127\n00:07:09.291 --> 00:07:14.222\nSo, it takes this address and\ndoes an automatic translation\n\n128\n00:07:14.222 --> 00:07:18.679\nof all the other addresses\nthat are inside to this one.\n\n129\n00:07:18.679 --> 00:07:22.146\nAnd then when you go and connect out to\nthe outside, that's what normally happens.\n\n130\n00:07:22.146 --> 00:07:26.202\nNow I've disabled this so\nthat we can see that right now,\n\n131\n00:07:26.202 --> 00:07:29.170\nwe're not actually NAT enabled, okay?\n\n132\n00:07:29.170 --> 00:07:35.418\nSo if I try and just go to ITProTV,\nit says it can't reach this page.\n\n133\n00:07:35.418 --> 00:07:40.433\nBut the reason why we can't do that\nis because the way that NAT actually\n\n134\n00:07:40.433 --> 00:07:45.108\nshows up, if I click on Firewall\nthere is the second category here\n\n135\n00:07:45.108 --> 00:07:49.716\nthat's called NAT, I select that and\nnow I have these options.\n\n136\n00:07:49.716 --> 00:07:53.045\nAnd we're gonna take a look at\nreally the first three options here.\n\n137\n00:07:53.045 --> 00:07:56.053\nThis last option that you see right here,\na lot of people\n\n138\n00:07:56.053 --> 00:07:59.905\nof course always have question on like,\nwhat's NP lower case t about?\n\n139\n00:07:59.905 --> 00:08:03.803\nWell if you want to NAT IP\nversion 6 addresses,\n\n140\n00:08:03.803 --> 00:08:07.400\nthis is where you would go to do that.\n\n141\n00:08:07.400 --> 00:08:09.320\nI'm not saying you can't do it, but\n\n142\n00:08:09.320 --> 00:08:13.140\nat this point, there's not a lot of\npeople talking about the need to NAT.\n\n143\n00:08:13.140 --> 00:08:15.380\nAnd one of the reasons why we\nwent to IPv6, Daniel, is so\n\n144\n00:08:15.380 --> 00:08:18.340\nthat we wouldn't have to\nactually worry about NAT.\n\n145\n00:08:18.340 --> 00:08:24.210\nBut they already have it set up just in\ncase you choose to do something like that.\n\n146\n00:08:24.210 --> 00:08:25.880\nSo that's pretty hefty\nthat they're like look,\n\n147\n00:08:25.880 --> 00:08:29.730\nwe don't know that it's gonna happen but\nwe're gonna prepare for it.\n\n148\n00:08:29.730 --> 00:08:30.316\n&gt;&gt; Covering all their bases.\n\n149\n00:08:30.316 --> 00:08:33.216\n&gt;&gt; Yeah we're just gonna cover\nall the bases here, okay?\n\n150\n00:08:33.216 --> 00:08:37.948\nSo the way this is typically done\nautomatically is actually what we\n\n151\n00:08:37.948 --> 00:08:40.152\ncall the idea of outbound NAT.\n\n152\n00:08:40.152 --> 00:08:41.560\nNow the names have changed, right?\n\n153\n00:08:41.560 --> 00:08:43.320\nWe've talked about it in this show.\n\n154\n00:08:43.320 --> 00:08:45.530\nWe call it dynamic NAT, okay?\n\n155\n00:08:45.530 --> 00:08:49.378\nAnd that's because we have a lot of IP\naddresses on the inside that need to\n\n156\n00:08:49.378 --> 00:08:54.760\nget translated into, well, essentially one\nIP address which is the WAN interface.\n\n157\n00:08:54.760 --> 00:08:59.270\nSo if I click on Outbound, cuz this is\nthe only one that we tend to deal with.\n\n158\n00:08:59.270 --> 00:09:01.063\nI went ahead and I disabled this so\n\n159\n00:09:01.063 --> 00:09:03.956\nthat we could kind of prove\nwhat was going on, right?\n\n160\n00:09:03.956 --> 00:09:04.843\nIn earlier episodes,\n\n161\n00:09:04.843 --> 00:09:07.800\nyou saw me connect out to the internet and\nretrieve information.\n\n162\n00:09:07.800 --> 00:09:10.630\nI couldn't have done that if\nthese rules didn't exist.\n\n163\n00:09:10.630 --> 00:09:15.090\nSo normally what happens by default\ninstead of me disabling it and\n\n164\n00:09:15.090 --> 00:09:19.850\nblocking those rules Is that the node\nthat is selected, or the mode that is\n\n165\n00:09:19.850 --> 00:09:24.770\nselected I should say, is it says,\nautomatic outbound NAT rule generation.\n\n166\n00:09:25.810 --> 00:09:28.220\nAnd this says let me go ahead and\ndo what I know.\n\n167\n00:09:28.220 --> 00:09:31.820\nAll of the interfaces that you create,\nwe're gonna make sure that those IP\n\n168\n00:09:31.820 --> 00:09:37.170\naddresses are able to be NATed\nalong with the WAN interface.\n\n169\n00:09:37.170 --> 00:09:41.450\nAnd the other thing that it does, it also\nincludes an IP set pass through as well.\n\n170\n00:09:41.450 --> 00:09:46.340\nAnd that's important if you're gonna be\nestablishing IP set types of tunnels too.\n\n171\n00:09:46.340 --> 00:09:49.350\nNow they went ahead and put that in there\nbecause they know that that's kind of one\n\n172\n00:09:49.350 --> 00:09:50.910\nof the easy rules to forget.\n\n173\n00:09:50.910 --> 00:09:52.970\nSo if you are still\nrunning IP set tunnels,\n\n174\n00:09:52.970 --> 00:09:56.040\nthat's what you're gonna end up using so\nI add those rules in there for you.\n\n175\n00:09:57.290 --> 00:10:02.340\nSo once I select that mode, we'll actually\nsee them generate once I click Save.\n\n176\n00:10:02.340 --> 00:10:04.340\nThere is, of course,\nhybrid and there's manual and\n\n177\n00:10:04.340 --> 00:10:07.130\nwe'll talk about the use for manual.\n\n178\n00:10:07.130 --> 00:10:10.590\nHybrid, I don't tend to see\na lot of use for it too much.\n\n179\n00:10:10.590 --> 00:10:14.060\nIt says it can actually do\nkind of automatic rules, and\n\n180\n00:10:14.060 --> 00:10:17.210\nthen whatever rules that you create\ndown here underneath the mapping.\n\n181\n00:10:17.210 --> 00:10:18.470\nSo if you wanted to,\n\n182\n00:10:18.470 --> 00:10:22.500\nyou could manually create some mappings\ndown here at the bottom to do this.\n\n183\n00:10:22.500 --> 00:10:25.150\nSo you don't have to use this\nautomatic rule generation, but\n\n184\n00:10:25.150 --> 00:10:29.090\nthis is kinda the easiest way to\nget PF sets working here, right?\n\n185\n00:10:29.090 --> 00:10:34.500\nSo if I just select Automatic, and\nI click Save, And then I click Apply,\n\n186\n00:10:35.780 --> 00:10:39.320\nwell there's not really a lot\nof change until I scroll down.\n\n187\n00:10:39.320 --> 00:10:40.560\nOnce I scroll down,\n\n188\n00:10:40.560 --> 00:10:44.110\nyou'll notice the automatic rows\nthat have been generated here.\n\n189\n00:10:44.110 --> 00:10:47.030\nAnd notice that they're both\nattached to WAN interface which is\n\n190\n00:10:47.030 --> 00:10:49.410\nthat one public IP address that I have.\n\n191\n00:10:50.640 --> 00:10:53.340\nAnd you'll see that it\nattaches everything, okay?\n\n192\n00:10:53.340 --> 00:10:55.815\nSo, it even says, hey look,\nthe loopback interface.\n\n193\n00:10:55.815 --> 00:10:59.200\nWe're also going to be able to NAT that\nif we choose to out in public interfaces\n\n194\n00:10:59.200 --> 00:11:00.320\nas well.\n\n195\n00:11:00.320 --> 00:11:04.760\nAnd then, every other tab that I had\nthere, that I created for the dub,\n\n196\n00:11:04.760 --> 00:11:10.720\nthe marketing, the DMC, the LAN,\nit went ahead and generated that rule.\n\n197\n00:11:10.720 --> 00:11:15.340\nAnd now, it says any source port going\nto any destination it should do this,\n\n198\n00:11:15.340 --> 00:11:18.050\nwhere it actually takes\non the public IP address.\n\n199\n00:11:18.050 --> 00:11:22.160\nAnd it actually NATs it to that\nWAN address, is what it does.\n\n200\n00:11:22.160 --> 00:11:23.750\nAnd there's the other\nrule that it creates.\n\n201\n00:11:23.750 --> 00:11:25.750\nThe one that says ISA camp up here.\n\n202\n00:11:25.750 --> 00:11:27.330\nThat is for the IPSec tunnels.\n\n203\n00:11:27.330 --> 00:11:30.470\nAnd it just says, look, leave this here\nif you know that in the future you're\n\n204\n00:11:30.470 --> 00:11:32.290\ngonna be doing IPSec tunnels.\n\n205\n00:11:32.290 --> 00:11:35.050\nThat way you're not gonna forget and\nthen you're gonna try and\n\n206\n00:11:35.050 --> 00:11:38.180\npull your hair out when IP\nset tunnels aren't working,\n\n207\n00:11:38.180 --> 00:11:40.870\nespecially if you're actually\nbehind a firewall like this.\n\n208\n00:11:40.870 --> 00:11:44.600\nSo leave it here is what they're\npretty much suggesting, okay?\n\n209\n00:11:44.600 --> 00:11:49.350\nSo from this point, okay, what we wanna\ndo is we wanna see how it NATs, okay?\n\n210\n00:11:49.350 --> 00:11:52.830\nSo I went ahead and scrolled over here.\n\n211\n00:11:52.830 --> 00:11:55.780\nSo that we could actually see\nthe firewall, itself, right?\n\n212\n00:11:55.780 --> 00:11:59.500\nI'm working on the web configuration page,\nbut the option that we're gonna\n\n213\n00:11:59.500 --> 00:12:03.360\ntake a look at here, just briefly,\nis this one that says number nine.\n\n214\n00:12:03.360 --> 00:12:06.070\nWhere it actually says the pfTop, okay?\n\n215\n00:12:06.070 --> 00:12:09.610\nThis will give me some real\ntraffic that we can look at.\n\n216\n00:12:09.610 --> 00:12:12.063\nIf I can actually type in here,\nwell, maybe.\n\n217\n00:12:16.414 --> 00:12:17.245\nTry it again.\n\n218\n00:12:17.245 --> 00:12:20.153\n&gt;&gt; [LAUGH]-\n&gt;&gt; All right.\n\n219\n00:12:20.153 --> 00:12:23.410\n&gt;&gt; [LAUGH]-\n&gt;&gt; There we go,\n\n220\n00:12:23.410 --> 00:12:27.140\nit kinda locked up from a moment,\nsprout cause I'm clicking too much, so\n\n221\n00:12:27.140 --> 00:12:30.070\nnow watch you see what's going on, okay?\n\n222\n00:12:30.070 --> 00:12:33.870\nSo, currently, let me zoom back up.\n\n223\n00:12:33.870 --> 00:12:35.450\nCurrently when we start\nto take a look at this,\n\n224\n00:12:35.450 --> 00:12:39.050\nI can't use my mouse at the same time\nbecause I'm locked in those machine.\n\n225\n00:12:39.050 --> 00:12:41.870\nYou can see where the source and\nthe destination and there,\n\n226\n00:12:41.870 --> 00:12:45.190\nlook there's actually\nIP version six address.\n\n227\n00:12:45.190 --> 00:12:47.428\nBut then as we continue to\nscroll down through here,\n\n228\n00:12:47.428 --> 00:12:51.990\nhere is that public IP address that\nwe see down here at the bottom.\n\n229\n00:12:51.990 --> 00:12:55.460\nAnd here's the one from\nthe inside as well, okay?\n\n230\n00:12:55.460 --> 00:12:58.620\nSo you start seeing where it\nactually starts to translate like\n\n231\n00:12:58.620 --> 00:13:02.000\nthis going to the outside,\nthe destination.\n\n232\n00:13:02.000 --> 00:13:04.300\nWell, you might be wondering\nwhat is going on there.\n\n233\n00:13:04.300 --> 00:13:06.070\nWell, it's actually having\nto translate this, and\n\n234\n00:13:06.070 --> 00:13:09.590\nnotice this port number\nthat's attached to the end?\n\n235\n00:13:09.590 --> 00:13:12.930\nWell, internally, inside of the pfSense\ntable is tracking that, and then it's\n\n236\n00:13:12.930 --> 00:13:16.920\nreporting it out the WAN interface with\nits particular connection going on there.\n\n237\n00:13:16.920 --> 00:13:17.610\nOkay?\n\n238\n00:13:17.610 --> 00:13:19.430\nSo, we can see traffic going on.\n\n239\n00:13:19.430 --> 00:13:24.864\nNow, if I go ahead and, let's say, here,\nnow, let's try this itpro.tv page.\n\n240\n00:13:26.900 --> 00:13:27.792\nAnd look at that.\n\n241\n00:13:27.792 --> 00:13:29.740\nIt actually starts to come in and\nthere we are.\n\n242\n00:13:29.740 --> 00:13:31.740\nWe're now on the ITPRO.TV page.\n\n243\n00:13:31.740 --> 00:13:36.528\nIf I scroll back here to PF top,\nyou can now see when it went out and\n\n244\n00:13:36.528 --> 00:13:41.310\nit did a bit of name resolution look\nup right here on this ace that we saw.\n\n245\n00:13:41.310 --> 00:13:45.106\nAnd then it continue to go ahead and\nsearching giving some return traffic.\n\n246\n00:13:45.106 --> 00:13:47.490\nThere's some different stuff going on so\n\n247\n00:13:47.490 --> 00:13:52.620\nwe're starting to see the traffic kind of\ncome back and get access to what we need.\n\n248\n00:13:52.620 --> 00:13:55.420\nSo that is kind of the information\nthat we were looking for,\n\n249\n00:13:55.420 --> 00:13:59.420\nis that we can create that type\nof connection that we need.\n\n250\n00:13:59.420 --> 00:14:01.450\nAnd now we can go out onto the Internet.\n\n251\n00:14:01.450 --> 00:14:04.330\nMore and more devices that\nconnect behind my firewall,\n\n252\n00:14:04.330 --> 00:14:08.650\non whichever port that it's on,\nit will still get NATed the same way.\n\n253\n00:14:08.650 --> 00:14:13.740\nIt will still end up translating that IP\naddress into the public facing IP address.\n\n254\n00:14:13.740 --> 00:14:14.830\nAnd when it turns back,\n\n255\n00:14:14.830 --> 00:14:18.320\nit takes a look at the port number\nthat it generated as it returned back.\n\n256\n00:14:18.320 --> 00:14:22.700\nAnd it knows how to, again,\ndecode that, or translate it back\n\n257\n00:14:22.700 --> 00:14:27.130\ninto the original to send it out\nthe right interface as well, okay?\n\n258\n00:14:27.130 --> 00:14:30.360\nSo that is kind of the key is that\n\n259\n00:14:30.360 --> 00:14:34.720\nwe really don't have to worry about\nthe idea of NAT translations too much.\n\n260\n00:14:34.720 --> 00:14:37.960\nWe just have to make\nsure that it is enabled.\n\n261\n00:14:37.960 --> 00:14:40.170\nSo if you set everything\nup like we told you.\n\n262\n00:14:40.170 --> 00:14:43.340\nIP address on a public\ninterface on the WAN.\n\n263\n00:14:43.340 --> 00:14:46.210\nAnd on the LAN side and\nyou take a look at the rules, and\n\n264\n00:14:46.210 --> 00:14:47.500\nthe rules are default right?\n\n265\n00:14:47.500 --> 00:14:49.260\nAllow everything to go through.\n\n266\n00:14:49.260 --> 00:14:52.530\nThe WAN side says block\neverything coming back in.\n\n267\n00:14:52.530 --> 00:14:56.100\nAnd now you go, okay,\nlet me just connect to some place.\n\n268\n00:14:56.100 --> 00:15:00.290\nAnd you're not connecting,\nmake sure you check these rules, okay?\n\n269\n00:15:00.290 --> 00:15:03.430\nThere's another thing about the way that\nthese rules work in conjunction with\n\n270\n00:15:03.430 --> 00:15:09.150\nfirewall rules as well NAT rules are\ngenerally going to be checked first, okay?\n\n271\n00:15:09.150 --> 00:15:13.200\nSo as traffic comes back in,\nit has to check the NAT rules.\n\n272\n00:15:13.200 --> 00:15:17.340\nAnd then goes, yeah, this particular\naddress is going inside here.\n\n273\n00:15:17.340 --> 00:15:19.180\nHas to check those rules and\nthen translate it,\n\n274\n00:15:19.180 --> 00:15:23.498\nand then you actually start seeing where\nit also applies as firewall rules.\n\n275\n00:15:23.498 --> 00:15:24.198\nVery difficult,\n\n276\n00:15:24.198 --> 00:15:27.930\nright, if you're actually sending\ntraffic back to my public interface.\n\n277\n00:15:27.930 --> 00:15:29.850\nAnd what is it gonna actually hit?\n\n278\n00:15:29.850 --> 00:15:32.570\nIf it hits that default\nWAN rule which says what?\n\n279\n00:15:32.570 --> 00:15:35.180\nDeny everything coming in.\n\n280\n00:15:35.180 --> 00:15:37.120\nWell that's where we have an issue.\n\n281\n00:15:37.120 --> 00:15:40.220\nSo the great thing is we\nwon't have to deal with that.\n\n282\n00:15:40.220 --> 00:15:44.410\nOnce the translation happens and realizes\nalso that returning traffic as well,\n\n283\n00:15:44.410 --> 00:15:46.830\nbecause a stateful connection, we're fine.\n\n284\n00:15:46.830 --> 00:15:51.380\nSo, implementing NAT in that way is\nprobably the easiest thing in the world.\n\n285\n00:15:51.380 --> 00:15:55.483\nBut there's sometimes where you actually\nneed to control it a little bit\n\n286\n00:15:55.483 --> 00:15:56.297\nmore, okay?\n\n287\n00:15:56.297 --> 00:15:59.641\nAnd the reason why we\nmight need to do that is,\n\n288\n00:15:59.641 --> 00:16:03.690\nlet's take a look at this\nWAN address here too, okay?\n\n289\n00:16:04.730 --> 00:16:06.470\nNow, remember that that's it.\n\n290\n00:16:06.470 --> 00:16:07.950\nThat's pretty much all that we have.\n\n291\n00:16:07.950 --> 00:16:10.910\nBut what if I wanted to separate\nit out like this, Daniel?\n\n292\n00:16:10.910 --> 00:16:17.470\nLet's say that what I have, though,\nis that inside of my WAN addresses here,\n\n293\n00:16:17.470 --> 00:16:21.900\nI don't want the,\nlet me see if I can scroll back up.\n\n294\n00:16:21.900 --> 00:16:29.965\nI don't want the DEV actually having the\nsame public IP address as my LAN, okay?\n\n295\n00:16:29.965 --> 00:16:37.090\nI don't want my DMZ traffic also using\nthat as well and the same thing with MKRT.\n\n296\n00:16:37.090 --> 00:16:41.740\nI can change all that, but\nI still only have one WAN interface.\n\n297\n00:16:41.740 --> 00:16:44.990\nBut what we can do is that if\nwe have those IP addresses,\n\n298\n00:16:44.990 --> 00:16:48.210\njust like I told you here at\nITPRO.TV we have about 16 of them.\n\n299\n00:16:48.210 --> 00:16:52.178\nWell, what I can do is I can sit there and\ngo we are going to assign, for\n\n300\n00:16:52.178 --> 00:16:54.449\nthe dev team, one of those other ones.\n\n301\n00:16:54.449 --> 00:16:59.110\nSo mine's .137 as far as the firewall\ngoes, but let's say that I have 135,\n\n302\n00:16:59.110 --> 00:17:01.453\n136, 138, whatever it might be.\n\n303\n00:17:01.453 --> 00:17:03.500\nI have all these other numbers, okay?\n\n304\n00:17:03.500 --> 00:17:06.070\nWell if I have those particular\nnumbers available to me,\n\n305\n00:17:06.070 --> 00:17:10.450\nthose IP addresses,\nI can then go back in here.\n\n306\n00:17:10.450 --> 00:17:15.340\nAnd now I can say, I need to change this\nnav address, okay, is what I need to do.\n\n307\n00:17:15.340 --> 00:17:18.900\nNow, once you actually start\ndoing something like that, okay?\n\n308\n00:17:18.900 --> 00:17:20.830\nWell, I can't do it in the automatic rule.\n\n309\n00:17:20.830 --> 00:17:22.210\nNotice over here Daniel,\n\n310\n00:17:22.210 --> 00:17:25.720\non the right hand side, it doesn't\ngive me the ability to do any editing.\n\n311\n00:17:25.720 --> 00:17:29.056\nI don't have that little gear or\nthat little wrench that it showed.\n\n312\n00:17:29.056 --> 00:17:31.660\nA pencil is usually what we see,\nI was thinking about a wrench but\n\n313\n00:17:31.660 --> 00:17:32.990\nit's usually a pencil.\n\n314\n00:17:32.990 --> 00:17:35.040\nSo I don't have anything like that.\n\n315\n00:17:35.040 --> 00:17:38.520\nSo what this means instead is\nI need to come up here and\n\n316\n00:17:38.520 --> 00:17:43.780\nI need to generate the manual outbound,\nand then I can click Save.\n\n317\n00:17:43.780 --> 00:17:46.055\n&gt;&gt; Now, Ronnie,\nwhy would you want to not use it?\n\n318\n00:17:46.055 --> 00:17:47.190\nIf NAT is doing its job, and\n\n319\n00:17:47.190 --> 00:17:51.920\nit does it very well, what would it matter\nwhat public IP address we're attaching?\n\n320\n00:17:51.920 --> 00:17:53.800\n&gt;&gt; That's a great question, right?\n\n321\n00:17:53.800 --> 00:17:56.620\nIt really doesn't if all you're\nworried about is functionality, okay,\n\n322\n00:17:56.620 --> 00:17:58.080\nif that's all we're worried about.\n\n323\n00:17:58.080 --> 00:18:01.540\nBut what if I wanted to make sure that I\nfiltered out certain types of traffic and\n\n324\n00:18:01.540 --> 00:18:04.120\nthat I was able to\ngenerate that PF top and\n\n325\n00:18:04.120 --> 00:18:07.300\nfilter it down to show me what\ntraffic's actually going where?\n\n326\n00:18:07.300 --> 00:18:10.340\nWell, if they're all just\ncoming to that one IP address-\n\n327\n00:18:10.340 --> 00:18:11.160\n&gt;&gt; It becomes a jumbled mess.\n\n328\n00:18:11.160 --> 00:18:12.360\n&gt;&gt; Yeah, it becomes a jumbled mess.\n\n329\n00:18:12.360 --> 00:18:15.290\nAnd then I have to kinda go and\ntry and figure that out,\n\n330\n00:18:15.290 --> 00:18:18.090\nwhich one is actually which port and\ntrying to do all that.\n\n331\n00:18:18.090 --> 00:18:21.710\nBut here you can then logically divide\nit out, and then use the filters that\n\n332\n00:18:21.710 --> 00:18:25.790\nare available inside of pfSense to go,\nlet's see, it looked like development.\n\n333\n00:18:25.790 --> 00:18:29.570\nTheir traffic is way higher than\nanybody else's, what's going on here?\n\n334\n00:18:29.570 --> 00:18:31.530\nIs that something I\nshould be worried about?\n\n335\n00:18:31.530 --> 00:18:33.940\nLook, here it is on the LAN,\nwhat's going on?\n\n336\n00:18:33.940 --> 00:18:37.070\nAnd then I trace it on the inside and\ngo, Daniel, you and\n\n337\n00:18:37.070 --> 00:18:39.505\nyour Netflix watching during work.\n\n338\n00:18:39.505 --> 00:18:43.065\n[LAUGH]\n&gt;&gt; Stranger Things isn't gonna watch\n\n339\n00:18:43.065 --> 00:18:44.002\nitself, okay?\n\n340\n00:18:44.002 --> 00:18:46.300\n[LAUGH]\n&gt;&gt; But you know in doing that and\n\n341\n00:18:46.300 --> 00:18:49.280\nthen I go well with that one\nnetwork address translation right,\n\n342\n00:18:49.280 --> 00:18:51.845\nevery department doing that,\nI go and I blame the dev team.\n\n343\n00:18:51.845 --> 00:18:55.160\n&gt;&gt; [LAUGH]\n&gt;&gt; You guys are watching too much Netflix.\n\n344\n00:18:55.160 --> 00:18:56.400\n&gt;&gt; You know where to point the finger.\n\n345\n00:18:56.400 --> 00:18:59.760\n&gt;&gt; Yeah, that's right, but this is what it\ndoes and you're essentially right, Daniel.\n\n346\n00:18:59.760 --> 00:19:04.480\nIt gives you that ability to kind of use\nwhat's in place to separate that out and\n\n347\n00:19:04.480 --> 00:19:07.430\nthen be able to point that\nfinger to where you need to.\n\n348\n00:19:07.430 --> 00:19:10.970\nAnd it is about monitoring right,\nmonitoring traffic is very important and\n\n349\n00:19:10.970 --> 00:19:14.440\nit gives us the ability to separate\nthat out that way, instead.\n\n350\n00:19:14.440 --> 00:19:18.530\nSo that way, traffic going out\nfrom the dev, it comes back in.\n\n351\n00:19:18.530 --> 00:19:22.330\nThe public interface, which,\nit's actually still one interface, but\n\n352\n00:19:22.330 --> 00:19:25.020\nthe IP address says, no,\nit's supposed to be going over here.\n\n353\n00:19:25.020 --> 00:19:26.700\nAnd I know that all traffic destined for\n\n354\n00:19:26.700 --> 00:19:31.180\nthat is only to\nthe development department.\n\n355\n00:19:31.180 --> 00:19:33.919\nSo that's what we have to take a look at,\nokay?\n\n356\n00:19:33.919 --> 00:19:36.206\nAll right, so let's take a look\nat this manual rule generation.\n\n357\n00:19:36.206 --> 00:19:41.503\nNow once again, notice now it's separated\nevery single one of those out and\n\n358\n00:19:41.503 --> 00:19:46.135\nof course it also created what,\nan IPsec rule for it too for each and\n\n359\n00:19:46.135 --> 00:19:48.390\nevery one of those as well.\n\n360\n00:19:48.390 --> 00:19:53.450\nIf that's what I want, I want to apply\nthose changes, and we can do that, okay?\n\n361\n00:19:53.450 --> 00:19:56.625\nNow this shouldn't affect\nthe performance of your firewall yet\n\n362\n00:19:56.625 --> 00:19:59.665\n[LAUGH] I say that,\nthere's always this yet, right?\n\n363\n00:19:59.665 --> 00:20:00.796\n&gt;&gt; We're working on it, Ronnie.\n\n364\n00:20:00.796 --> 00:20:04.213\n&gt;&gt; Yeah, you do kind of have to do\na little bit of testing if you do\n\n365\n00:20:04.213 --> 00:20:05.093\nthis, right?\n\n366\n00:20:05.093 --> 00:20:08.415\nSo my recommendation then,\nif you choose to do something like this,\n\n367\n00:20:08.415 --> 00:20:11.510\nthis is one of those virtual\ninterfaces and those VLANS come in,\n\n368\n00:20:11.510 --> 00:20:15.230\ntest it out with a VLAN and you just\nput your laptop on it first, okay?\n\n369\n00:20:15.230 --> 00:20:18.420\nAnd then once you do that, and\nnow you go, okay, here's this VLAN.\n\n370\n00:20:18.420 --> 00:20:20.810\nAnd now you apply that WAN or\n\n371\n00:20:20.810 --> 00:20:24.720\nthat NAT rule to it, verify that you can\nget out and everything else that goes on.\n\n372\n00:20:24.720 --> 00:20:28.010\nBut let's just take for an example\nlike what we talked about here is dev.\n\n373\n00:20:28.010 --> 00:20:31.932\nAnd let me see here if I can actually\nremember what the development team is\n\n374\n00:20:31.932 --> 00:20:33.810\nsince I've been picking on them.\n\n375\n00:20:33.810 --> 00:20:38.384\nAnd what their IP address is gonna be and\nthat's 140, all right?\n\n376\n00:20:38.384 --> 00:20:40.827\nSo I can go back to firewall and NAT, and\n\n377\n00:20:40.827 --> 00:20:45.890\nwe'll comeback out to the outbound\nrules and then I can scroll down here.\n\n378\n00:20:45.890 --> 00:20:54.150\nAnd then I can come here to the 10.1.1.140\nwhich is the development teams.\n\n379\n00:20:54.150 --> 00:20:57.370\nAnd I can scroll over here\nto the right-hand side, and\n\n380\n00:20:57.370 --> 00:21:00.450\nI know this sounds strange, but\nwhat you're looking for, right,\n\n381\n00:21:00.450 --> 00:21:04.880\nwhich is right behind my head right here,\nyep, which is that, Edit the mapping.\n\n382\n00:21:04.880 --> 00:21:08.390\nAnd the reason why it's that WAN address,\nthat's the only one that's actually there.\n\n383\n00:21:08.390 --> 00:21:14.830\nBut if I can click here,\nthen I can scroll back in instead and\n\n384\n00:21:14.830 --> 00:21:19.670\nsay, translate it to another address,\nokay?\n\n385\n00:21:19.670 --> 00:21:23.230\nSo in this particular one,\nyou would actually be able to do that.\n\n386\n00:21:23.230 --> 00:21:27.100\nLet me see if, it's because I didn't\nactually create another interface here.\n\n387\n00:21:27.100 --> 00:21:31.060\nBut that's what you can actually end up\ndoing is, you can create that address and\n\n388\n00:21:31.060 --> 00:21:33.140\nthen attach it there as well.\n\n389\n00:21:33.140 --> 00:21:38.307\nSo let me see if I can do that as well,\nso if I go to Virtual IP.\n\n390\n00:21:43.908 --> 00:21:47.070\nAnd then I add in what's called\nan IP alias here, and I do this for\n\n391\n00:21:47.070 --> 00:21:51.240\na single address, this is not gonna\nactually be valid so it doesn't.\n\n392\n00:21:51.240 --> 00:21:55.962\nSo, this is where we'd actually\n\n393\n00:21:55.962 --> 00:22:00.186\nadd this in, 47, 135.\n\n394\n00:22:00.186 --> 00:22:03.830\nAnd I need the proper subnet mask.\n\n395\n00:22:05.580 --> 00:22:06.630\nAnd now I save that.\n\n396\n00:22:12.330 --> 00:22:13.270\nI did a wrong number.\n\n397\n00:22:13.270 --> 00:22:16.201\nYeah, let's just do this,\nlet's use 136, and that'll work.\n\n398\n00:22:17.758 --> 00:22:21.440\nThere we go.\nSo if apply these changes here,\n\n399\n00:22:21.440 --> 00:22:26.340\nsomething like this,\nnow I have that address and\n\n400\n00:22:26.340 --> 00:22:30.590\nin my firewall NAT,\nlet's see if I can actually add that.\n\n401\n00:22:30.590 --> 00:22:34.105\nSo again this is kind of fake so I don't\nwant to, cuz we're actually using these\n\n402\n00:22:34.105 --> 00:22:36.892\naddresses that's why I don't\nwanna put anything down there.\n\n403\n00:22:36.892 --> 00:22:40.192\n[LAUGH] So now, there it is.\n\n404\n00:22:40.192 --> 00:22:43.581\nSo there's that address and\nI've popped that in there and\n\n405\n00:22:43.581 --> 00:22:45.942\nit translates into that as well, okay?\n\n406\n00:22:45.942 --> 00:22:49.540\nSo you do actually have to kind of\nadd a couple of thing if you're going\n\n407\n00:22:49.540 --> 00:22:50.620\nto do that.\n\n408\n00:22:50.620 --> 00:22:54.820\nThat virtual IP address normally is used\nin something like this if we're going to\n\n409\n00:22:54.820 --> 00:22:59.340\ndo that for others so\nthat we can translate that as well, okay?\n\n410\n00:22:59.340 --> 00:23:00.710\nSo adding in that virtual IP address,\n\n411\n00:23:00.710 --> 00:23:02.750\nyou don't have to assign\nit to another interface.\n\n412\n00:23:02.750 --> 00:23:05.990\nIt kind of knows that this is what's gonna\nhappen cuz it knows that there's only\n\n413\n00:23:05.990 --> 00:23:07.870\none WAN port going out.\n\n414\n00:23:07.870 --> 00:23:10.979\nIt will then say, hey,\nany traffic coming in here,\n\n415\n00:23:10.979 --> 00:23:15.931\nit's gonna get translated back into\nthat 10.140 network and that's the way\n\n416\n00:23:15.931 --> 00:23:20.475\nthat we can make sure that that happens\nand we can use it effectively, okay?\n\n417\n00:23:20.475 --> 00:23:25.465\nSo in the NAT translation, most of\nthe time, the majority of the time, right,\n\n418\n00:23:25.465 --> 00:23:28.890\nin a small, just two network,\nright, a LAN and a WAN,\n\n419\n00:23:28.890 --> 00:23:34.150\nautomatic rules perfectlf good,\nexactly what you're gonna want to do.\n\n420\n00:23:34.150 --> 00:23:40.260\nBut if you do have that need, right, where\nsomebody is saying how can we monitor\n\n421\n00:23:40.260 --> 00:23:44.440\nthis traffic, and you do have those\npublic IP addresses that are available.\n\n422\n00:23:44.440 --> 00:23:47.100\nEven with just the two interfaces,\nwe can go on and\n\n423\n00:23:47.100 --> 00:23:49.780\ncreate that virtual interface, okay?\n\n424\n00:23:49.780 --> 00:23:52.853\nAnd once we create that, or\na virtual IP address, excuse me.\n\n425\n00:23:52.853 --> 00:23:54.940\nVirtual IP address,\nI keep saying virtual interface.\n\n426\n00:23:54.940 --> 00:23:58.669\nVirtual IP address And\nthat way, we can use that and\n\n427\n00:23:58.669 --> 00:24:01.027\nthat will now actually appear.\n\n428\n00:24:01.027 --> 00:24:05.870\nAnd so if I select that,\nnow let me click on Save here.\n\n429\n00:24:05.870 --> 00:24:07.940\nAnd click on the changes and apply those.\n\n430\n00:24:07.940 --> 00:24:11.650\nNow let me scroll down, and\nlooks like I had already used that.\n\n431\n00:24:11.650 --> 00:24:15.350\nBut down here, you can see this,\nbecause I had to use an alias before.\n\n432\n00:24:15.350 --> 00:24:18.430\nNotice that its NAT translation\nis this WebServers instead.\n\n433\n00:24:18.430 --> 00:24:19.320\nI don't remember doing that.\n\n434\n00:24:19.320 --> 00:24:22.190\nBut apparently that IP address I\npicked was actually in the WebServers\n\n435\n00:24:22.190 --> 00:24:24.310\ngroup that I created earlier in alias.\n\n436\n00:24:24.310 --> 00:24:27.777\nThe other key is creating aliases for\nthem instead, right?\n\n437\n00:24:27.777 --> 00:24:29.808\nBecause it makes it easier\nat times to do that.\n\n438\n00:24:29.808 --> 00:24:32.752\nNow it's an extra step, yes, okay.\n\n439\n00:24:32.752 --> 00:24:40.461\nBut the logic makes sense,\ncuz I don't know where 70.184.147.139.\n\n440\n00:24:40.461 --> 00:24:42.209\nYeah, that's exactly for this this one, so\n\n441\n00:24:42.209 --> 00:24:43.911\nit might be easier for\nme to say dev gateway.\n\n442\n00:24:43.911 --> 00:24:49.971\n&gt;&gt; Yeah.\n\n443\n00:24:49.971 --> 00:24:50.926\n&gt;&gt; Or dev public IP, whatever it might be.\n\n444\n00:24:50.926 --> 00:24:52.951\nAnd that way if I click on that, I can\nselect the alias, it makes it easier.\n\n445\n00:24:52.951 --> 00:24:54.830\nSo which one did I not use?\n\n446\n00:24:54.830 --> 00:24:56.278\nDaniel, did I reuse this?\n\n447\n00:24:56.278 --> 00:24:57.701\nDaniel's like, let me look that up.\n\n448\n00:24:57.701 --> 00:25:01.477\nWell, go ahead, and then I go,\nI can't remember where I wrote that down.\n\n449\n00:25:01.477 --> 00:25:03.643\nWell, that becomes a little\nbit more challenging.\n\n450\n00:25:03.643 --> 00:25:08.799\nSo that is kind of the key\nin what we're doing.\n\n451\n00:25:08.799 --> 00:25:13.028\nNow, normally we see the idea of using\nsomething like dynamic NAT in a fairly\n\n452\n00:25:13.028 --> 00:25:15.872\nlarge organization where\nthere's usually 50,\n\n453\n00:25:15.872 --> 00:25:18.994\n60, 100 computers behind\none public IP address.\n\n454\n00:25:18.994 --> 00:25:24.309\nAnd then you can go in manually, like\nwe said, even with a few IP addresses,\n\n455\n00:25:24.309 --> 00:25:28.731\nyou can see where you can also do that and\ndivide that up as well.\n\n456\n00:25:28.731 --> 00:25:30.376\nAnd that will help you out.\n\n457\n00:25:30.376 --> 00:25:35.063\nNow we are also going to end up\ntaking a look at in another episode,\n\n458\n00:25:35.063 --> 00:25:39.836\nright, the idea here of using a one\nto one translation too to help us\n\n459\n00:25:39.836 --> 00:25:43.130\nout when we actually need that as well.\n\n460\n00:25:43.130 --> 00:25:47.960\nBut as far as dynamic NAT goes, that\npretty much is kind of the very basics.\n\n461\n00:25:47.960 --> 00:25:51.414\nSo hopefully I've showed you enough\nthere where you can go, all right,\n\n462\n00:25:51.414 --> 00:25:52.895\nI know how to create a NAT rule.\n\n463\n00:25:52.895 --> 00:25:56.730\nOr I don't even have to create a NAT rule,\nit actually normally creates it for us.\n\n464\n00:25:56.730 --> 00:25:58.690\nAnd once we have that, we are ready to go.\n\n465\n00:25:58.690 --> 00:26:02.900\nSo everything is pretty much open and\navailable.\n\n466\n00:26:02.900 --> 00:26:06.320\nAnd if you ever need to change it back to\nautomatic rules, you can do that, too.\n\n467\n00:26:06.320 --> 00:26:09.940\nBut overall, though, once you actually get\nto manual, you kind of leave it that way.\n\n468\n00:26:09.940 --> 00:26:11.950\nI know people that have\nchanged it to automatic, and\n\n469\n00:26:11.950 --> 00:26:14.530\nit kind of flushed out what\nthey weren't expecting.\n\n470\n00:26:14.530 --> 00:26:17.842\nSo it just realized that it can damage\nyour system, not damage the system but\n\n471\n00:26:17.842 --> 00:26:21.240\nit can make things not work the way\nthat you think they're gonna work.\n\n472\n00:26:21.240 --> 00:26:24.670\nIf you just go, I wonder what happens\nif I just choose automatic and go back?\n\n473\n00:26:24.670 --> 00:26:26.741\nYou might find you'll break things,\nthat's what I should say.\n\n474\n00:26:26.741 --> 00:26:28.624\n&gt;&gt; Yeah, testing, testing, testing, right?\n\n475\n00:26:28.624 --> 00:26:31.429\nAlways test things before you go,\nlet's just implement that change.\n\n476\n00:26:31.429 --> 00:26:34.676\nAnd like we say around here, you never\nmake a big change on a Friday, right?\n\n477\n00:26:34.676 --> 00:26:36.702\n&gt;&gt; That's a bad idea.\n\n478\n00:26:36.702 --> 00:26:39.104\n&gt;&gt; Cuz the weekend's probably done for\nyou at that point.\n\n479\n00:26:39.104 --> 00:26:42.632\n[LAUGH] So\ndo these things during the week and test.\n\n480\n00:26:42.632 --> 00:26:46.144\nOnce you verify it works,\nthen push it as a standard change and\n\n481\n00:26:46.144 --> 00:26:47.550\nenjoy what you've done.\n\n482\n00:26:47.550 --> 00:26:52.120\nRonnie, you've done a great job of showing\nus today how pfSense works with NAT.\n\n483\n00:26:52.120 --> 00:26:54.705\nAnd we can use dynamic NAT, at least.\n\n484\n00:26:54.705 --> 00:26:56.690\nI know we're going to get into\nstatic NAT in another episode.\n\n485\n00:26:56.690 --> 00:27:02.131\nBut now we know we can use dynamic\nNAT inside of our pfSense firewall.\n\n486\n00:27:02.131 --> 00:27:04.931\nIt does a pretty good job of it, and\nit's relatively simple to implement.\n\n487\n00:27:04.931 --> 00:27:07.995\nYou just gotta kinda know their\nterminology, how, there, and\n\n488\n00:27:07.995 --> 00:27:09.025\nwhere to go, right?\n\n489\n00:27:09.025 --> 00:27:12.256\nThat's the key and that's what Ronnie has\ndone for us, and we thank him for that.\n\n490\n00:27:12.256 --> 00:27:15.653\nSpeaking of thanking, it's time for\nus to thank you for watching,\n\n491\n00:27:15.653 --> 00:27:17.394\nbecause we're ready to sign off.\n\n492\n00:27:17.394 --> 00:27:19.917\nIt's the end of this show,\nso signing off for ITProTV,\n\n493\n00:27:19.917 --> 00:27:21.593\nI've been your host Daniel Lowrie.\n\n494\n00:27:21.593 --> 00:27:22.455\n&gt;&gt; And I'm Ronnie Wong.\n\n495\n00:27:22.455 --> 00:27:23.323\n&gt;&gt; And we'll see you next time.\n\n496\n00:27:23.323 --> 00:27:31.225\n[MUSIC]\n\n497\n00:27:31.225 --> 00:27:33.609\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "197292495"
        },
        {
          "description": "In this episode, Daniel and Ronnie take a look at setting up Static NAT in a pfSense firewall. They walk you through setting up SNAT step-by-step using the pfSense web GUI, all the while explaining the differences between it and Dynamic NAT as well as the practical reasons for implementing SNAT.",
          "length": "1240",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-2-setup_static_nat-121516.00_20_29_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-2-setup_static_nat-121516.00_20_29_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-2-setup_static_nat-121516.00_20_29_13.Still001-sm.jpg",
          "title": "Setup Static NAT",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.230\nWelcome to ITPRO.TV.\n\n2\n00:00:01.230 --> 00:00:03.051\nI'm your host Don Pezet.\n\n3\n00:00:03.051 --> 00:00:08.417\n[CROSSTALK]\n\n4\n00:00:08.417 --> 00:00:12.337\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.337 --> 00:00:14.245\n&gt;&gt; All right, greetings everyone, and\n\n6\n00:00:14.245 --> 00:00:16.574\nwelcome to another great\nepisode of ITPROTV.\n\n7\n00:00:16.574 --> 00:00:21.551\nI'm your host, Daniel Lowrie, and\nin today's episode, we are continuing on\n\n8\n00:00:21.551 --> 00:00:26.332\nwith our pfSense series, that's right,\nand this version, 2.3.2.\n\n9\n00:00:26.332 --> 00:00:27.464\nI'm having a good time this morning.\n\n10\n00:00:27.464 --> 00:00:29.356\n&gt;&gt; [LAUGH]\n&gt;&gt; And joining me in my revelries is\n\n11\n00:00:29.356 --> 00:00:31.482\nour good friend, Mr. Ronnie Wong.\n\n12\n00:00:31.482 --> 00:00:33.130\nRonnie welcome back, sir,\nhow's it going today?\n\n13\n00:00:33.130 --> 00:00:37.593\n&gt;&gt; It's going great as we\ntake a look at more pfSense.\n\n14\n00:00:37.593 --> 00:00:41.050\nNAT is what we're actually talking about,\nthe network address translation.\n\n15\n00:00:41.050 --> 00:00:44.240\nWe've already talked about\nthe idea of using dynamic NAT, and\n\n16\n00:00:44.240 --> 00:00:48.650\nnow we're moving into the realm\nof static NAT, as well.\n\n17\n00:00:48.650 --> 00:00:52.320\nSo we wanna make sure that we\nunderstand the differences between them\n\n18\n00:00:52.320 --> 00:00:54.610\nwhen we start to set this up.\n\n19\n00:00:54.610 --> 00:00:59.160\nThat is really gonna help you out\nif you can remember the logic\n\n20\n00:00:59.160 --> 00:01:01.850\nbehind why you would choose\nto use one over the other.\n\n21\n00:01:01.850 --> 00:01:04.980\nSo the nice thing is pfSense has\nalready thought about this even at\n\n22\n00:01:04.980 --> 00:01:06.570\ntheir naming convention.\n\n23\n00:01:06.570 --> 00:01:09.678\nLet me point out what I'm\ntalking about here, okay.\n\n24\n00:01:09.678 --> 00:01:14.272\nSo when we started the idea of\nnetwork address translation,\n\n25\n00:01:14.272 --> 00:01:16.530\nwe did explain why we need to.\n\n26\n00:01:16.530 --> 00:01:20.198\nWe have private IP addresses that\nneed to get out to the Internet, but\n\n27\n00:01:20.198 --> 00:01:23.830\nwe only have one, or maybe a handful,\nof public IP addresses.\n\n28\n00:01:23.830 --> 00:01:27.930\nWell, we can't let all those private\nIP addresses get out onto the Internet.\n\n29\n00:01:27.930 --> 00:01:30.520\nIt's not possible, it's not allowed.\n\n30\n00:01:30.520 --> 00:01:35.320\nSo instead we translate those addresses\ninto public IP addresses instead.\n\n31\n00:01:35.320 --> 00:01:39.510\nAnd when we do so, on the pfSense\nfirewall, we simply go to Firewall, and\n\n32\n00:01:39.510 --> 00:01:41.450\nthen we select NAT.\n\n33\n00:01:41.450 --> 00:01:46.350\nAnd then, from here, this is where\nwe went to this tab called Outbound.\n\n34\n00:01:46.350 --> 00:01:49.980\nNow, I want us to actually kind of\nfocus in on, not so much the rules so\n\n35\n00:01:49.980 --> 00:01:53.980\nmuch right now, but\nthe idea of the term, outbound NAT.\n\n36\n00:01:53.980 --> 00:01:55.740\nSo the way that we described it, right,\n\n37\n00:01:55.740 --> 00:02:00.200\nis that if I need a connection where I\nhave a private IP address on the inside\n\n38\n00:02:00.200 --> 00:02:04.090\nthat needs to get access to machines\non the outside, right, web servers,\n\n39\n00:02:04.090 --> 00:02:08.150\nfile servers, whatever it might be,\nokay, I need to do that.\n\n40\n00:02:08.150 --> 00:02:12.890\nWell, this makes sense, using\nOutbound NAT to do so, to translate my\n\n41\n00:02:12.890 --> 00:02:18.660\nprivate IP addresses, well into, well,\na public IP address to help us out.\n\n42\n00:02:18.660 --> 00:02:23.625\nBut when we start moving toward what\nwe call static NAT, which is a direct,\n\n43\n00:02:23.625 --> 00:02:27.070\none-to-one translation,\nI have a private IP address,\n\n44\n00:02:27.070 --> 00:02:31.810\nI have a public IP address,\nwell, now it doesn't really\n\n45\n00:02:31.810 --> 00:02:37.330\nseem to make much sense to actually\nthink about it as being outbound.\n\n46\n00:02:37.330 --> 00:02:41.775\nSo if you want to kind of\ndistinguish the difference on when\n\n47\n00:02:41.775 --> 00:02:44.951\nyou'll need to use one versus the other,\n\n48\n00:02:44.951 --> 00:02:50.323\nthe idea of dynamic NAT really helps\nus with outbound traffic, okay.\n\n49\n00:02:50.323 --> 00:02:53.792\nIf I know that I only have,\nagain, a small number or\n\n50\n00:02:53.792 --> 00:02:58.633\na single public IP address, and\nI have a lot of private IP addresses that\n\n51\n00:02:58.633 --> 00:03:04.430\nneed connect out to the public Internet,\nthen outbound is the way to go.\n\n52\n00:03:04.430 --> 00:03:08.140\nBut let's go ahead and\nset up another scenario which will\n\n53\n00:03:08.140 --> 00:03:13.490\nactually fit more toward the idea of\nusing a one-to-one translation instead.\n\n54\n00:03:13.490 --> 00:03:18.226\nSo let me kind of give a scenario here\nthat I think will help us out to do this.\n\n55\n00:03:18.226 --> 00:03:22.530\nAnd let me see if I can zoom in just\na little bit so that we can see this.\n\n56\n00:03:22.530 --> 00:03:26.940\nSo let's say that, for example,\nright, that inside of my own network\n\n57\n00:03:26.940 --> 00:03:30.420\nI have a file server, I have a web\nserver and I have an email server.\n\n58\n00:03:30.420 --> 00:03:32.056\nAnd they all reside within this LAN.\n\n59\n00:03:32.056 --> 00:03:34.660\nI can have them split off\nin any way that I want to.\n\n60\n00:03:34.660 --> 00:03:37.760\nI'm just trying to reduce the amount of\nstuff that I have on the screen here so\n\n61\n00:03:37.760 --> 00:03:39.100\nthat we can see this.\n\n62\n00:03:39.100 --> 00:03:40.460\nSo those all work, right.\n\n63\n00:03:40.460 --> 00:03:44.708\nI have an internal email server, I have a\nweb server internally that actually works,\n\n64\n00:03:44.708 --> 00:03:46.073\na file server internally.\n\n65\n00:03:46.073 --> 00:03:48.640\nEverything is good for us.\n\n66\n00:03:48.640 --> 00:03:53.875\nBut let's say that what we also end up\nfinding out, then, is that at some point,\n\n67\n00:03:53.875 --> 00:03:59.010\nsomeone's sitting at home\noutside on the Internet, okay,\n\n68\n00:03:59.010 --> 00:04:03.720\nand they need to get access to,\nwell, their email, as well, okay.\n\n69\n00:04:03.720 --> 00:04:06.660\nNow, this is again,\nkind of a way that you can do this.\n\n70\n00:04:06.660 --> 00:04:09.242\nThis is not the only\nprescriptive way to do this.\n\n71\n00:04:09.242 --> 00:04:12.142\nBut we're gonna come across the ISP,\n\n72\n00:04:12.142 --> 00:04:16.591\ncome into LAN and pretty much end up,\nwell, right there.\n\n73\n00:04:16.591 --> 00:04:19.979\nHopefully, I can put an arrowhead on it.\n\n74\n00:04:19.979 --> 00:04:23.274\nAnd then this is what we're\nreally looking for, okay.\n\n75\n00:04:23.274 --> 00:04:30.795\nSo from the outside going inside, okay,\nnow I have another conundrum too, okay.\n\n76\n00:04:30.795 --> 00:04:33.610\nAnd the conundrum of this is simple.\n\n77\n00:04:33.610 --> 00:04:37.230\nI don't need them to get access\nto everything else inside.\n\n78\n00:04:37.230 --> 00:04:43.030\nBut I do need to make sure that, let's\nsay, that from the outside of my network\n\n79\n00:04:43.030 --> 00:04:47.655\nthat users do need access to,\nwell, things like their email.\n\n80\n00:04:47.655 --> 00:04:49.240\nMakes sense.\n\n81\n00:04:49.240 --> 00:04:53.280\nEven the idea of web servers\nthat are actually inside my LAN,\n\n82\n00:04:53.280 --> 00:04:58.630\nthey need access to that, as well,\nand maybe even file servers, too.\n\n83\n00:04:58.630 --> 00:05:02.140\nNow, if I actually don't do this,\nokay, and I try and\n\n84\n00:05:02.140 --> 00:05:06.390\nimplement this type of connection from\nthe outside going into the firewall,\n\n85\n00:05:06.390 --> 00:05:10.435\nI establish it from the outside, well, the\nfirewall rule is pretty much gonna say,\n\n86\n00:05:10.435 --> 00:05:14.560\nnow I block all incoming\ntraffic by default.\n\n87\n00:05:14.560 --> 00:05:18.110\nSo, Ronnie, good luck at that,\nyou're not gonna be able to do that.\n\n88\n00:05:18.110 --> 00:05:22.710\nNow, I can open up a rule, and\nthat will allow that to happen, as well.\n\n89\n00:05:22.710 --> 00:05:26.600\nBut then, once I have that open, well\nnow I have to kinda make sure that I get\n\n90\n00:05:26.600 --> 00:05:29.350\nthe specific rule that I need to and\neverything else goes on.\n\n91\n00:05:29.350 --> 00:05:33.260\nI need to know what\nthe internal IP address is.\n\n92\n00:05:33.260 --> 00:05:37.380\nBut even at that point,\nhow do I actually get it all the way back\n\n93\n00:05:37.380 --> 00:05:40.590\nhere when the only thing\non the Internet is what?\n\n94\n00:05:40.590 --> 00:05:46.810\nIs that one interface right here, which\nis actually this interface here, okay.\n\n95\n00:05:46.810 --> 00:05:51.320\nSo I can't do that because that\nis kind of the interface for\n\n96\n00:05:51.320 --> 00:05:52.290\neverything on my network.\n\n97\n00:05:52.290 --> 00:05:55.098\nI don't want them to get access\non everything on the network,\n\n98\n00:05:55.098 --> 00:05:57.480\nI want them to get access\nto the email server, okay.\n\n99\n00:05:57.480 --> 00:06:02.611\nSo if you do have a certain number of\nresources that you do need to have\n\n100\n00:06:02.611 --> 00:06:07.564\navailable on the Internet as well\nas internally at the same time,\n\n101\n00:06:07.564 --> 00:06:11.230\nyou may consider the use of static NAT.\n\n102\n00:06:11.230 --> 00:06:13.850\nIt's a one-to-one translation.\n\n103\n00:06:13.850 --> 00:06:18.750\nAnd what we're gonna actually do here is\nwe're gonna take this IP address right\n\n104\n00:06:18.750 --> 00:06:23.940\nhere, and we're gonna assign\nit another public IP address.\n\n105\n00:06:23.940 --> 00:06:25.480\nSo it means you have to have what?\n\n106\n00:06:25.480 --> 00:06:31.390\nYou have to have a pool of available\npublic IP addresses that you can use,\n\n107\n00:06:31.390 --> 00:06:34.040\nokay, to be able to do that, as well.\n\n108\n00:06:34.040 --> 00:06:38.380\nSo once you actually do that,\nit's fairly simple to accomplish and do.\n\n109\n00:06:38.380 --> 00:06:42.100\nBut overall, though, that is\nsomething that we need to understand.\n\n110\n00:06:42.100 --> 00:06:47.590\nSo when Daniel comes to you as\nyour network admin or as, just\n\n111\n00:06:47.590 --> 00:06:53.820\nlet's say he's the director of marketing\nor whatever, and he says, I need for\n\n112\n00:06:53.820 --> 00:06:58.520\nthe marketing team as they're out there\nto get access to the file server, okay.\n\n113\n00:06:58.520 --> 00:07:00.680\nBut they need to access it\nnot only on this network, but\n\n114\n00:07:00.680 --> 00:07:04.700\nthey need to access it if they're\nsomewhere out there in the world, okay.\n\n115\n00:07:04.700 --> 00:07:09.960\nWell, we can go, hey, all right so\nhow do I get this done?\n\n116\n00:07:09.960 --> 00:07:11.550\nWell, the easiest way to get it done, and\n\n117\n00:07:11.550 --> 00:07:16.500\nprobably one of the best ways to get it\ndone, is using this one-to-one rule, okay.\n\n118\n00:07:16.500 --> 00:07:19.960\nSo instead of trying to set up\na bunch of different things that then,\n\n119\n00:07:19.960 --> 00:07:23.730\nyou have to do this, you have to do this,\nyou have to do this, well,\n\n120\n00:07:23.730 --> 00:07:28.370\nif they are gonna be available out to\nthe Internet, static NAT is the way to go.\n\n121\n00:07:28.370 --> 00:07:30.367\nSo we're gonna show you by\nsetting up some of these.\n\n122\n00:07:30.367 --> 00:07:35.084\nNow, I didn't actually put the rest of\nthese addresses down, and that is because,\n\n123\n00:07:35.084 --> 00:07:38.445\nwell, for the very fact is some\nof them are actually in use.\n\n124\n00:07:38.445 --> 00:07:40.870\n&gt;&gt; [LAUGH]\n&gt;&gt; This one isn't, overall.\n\n125\n00:07:40.870 --> 00:07:43.680\nI'll kind of make up some numbers\nas we go on through there.\n\n126\n00:07:43.680 --> 00:07:46.170\nBut, yeah, cuz I don't want everybody\nkind of crashing uploading.\n\n127\n00:07:46.170 --> 00:07:47.870\n&gt;&gt; Send your attacks to ronnie@itpro.tv.\n\n128\n00:07:47.870 --> 00:07:49.230\n&gt;&gt; [LAUGH] That's right,\nyeah, please don't.\n\n129\n00:07:49.230 --> 00:07:51.473\n&gt;&gt; [LAUGH]\n&gt;&gt; Please don't do that.\n\n130\n00:07:51.473 --> 00:07:53.400\nSo here we go, all right, so it''s simple.\n\n131\n00:07:53.400 --> 00:07:57.028\nWe go back to Firewall, and\nthen we go down to NAT.\n\n132\n00:07:57.028 --> 00:07:59.453\nAnd this time, we're going to select this.\n\n133\n00:07:59.453 --> 00:08:01.940\nSo remember that this is\nkind of the opposite, right?\n\n134\n00:08:01.940 --> 00:08:05.676\nIt's from the outside getting in that\nwe're really trying to actually create\n\n135\n00:08:05.676 --> 00:08:06.360\na NAT rule 4.\n\n136\n00:08:06.360 --> 00:08:12.660\nSo not outbound or inside going out,\nbut outside trying to get in.\n\n137\n00:08:12.660 --> 00:08:14.900\nSo if you know that that's\nthe resource that you're trying to do,\n\n138\n00:08:14.900 --> 00:08:16.700\nthat's what you wanna set up here.\n\n139\n00:08:16.700 --> 00:08:18.260\nSo, I go ahead and I click Add.\n\n140\n00:08:19.560 --> 00:08:22.150\nAnd then you actually have a couple of\n\n141\n00:08:22.150 --> 00:08:24.690\ndifferent things that you can do here too,\nokay?\n\n142\n00:08:24.690 --> 00:08:27.900\nSo they give you the ability to\ndisable this rule, again for\n\n143\n00:08:27.900 --> 00:08:30.400\ntesting more than anything\nelse is what we have.\n\n144\n00:08:30.400 --> 00:08:34.480\nAnd then they have this idea of\nwhat they call No BINAT, okay?\n\n145\n00:08:34.480 --> 00:08:37.600\nDo not perform BINAT for\na specified address.\n\n146\n00:08:37.600 --> 00:08:39.510\nSo you wanna do the inverse.\n\n147\n00:08:39.510 --> 00:08:41.790\nWe want in that everything else,\nbut this one.\n\n148\n00:08:41.790 --> 00:08:44.130\nYou can actually do that as well.\n\n149\n00:08:44.130 --> 00:08:48.364\nI really don't know a situation that\nI would choose to do that in, but\n\n150\n00:08:48.364 --> 00:08:52.233\nI'm sure that somebody can come\nup with a particular example or\n\n151\n00:08:52.233 --> 00:08:53.913\na reason to do that, okay?\n\n152\n00:08:53.913 --> 00:08:57.270\nWe're also gonna leave it\nat the WAN interface, okay?\n\n153\n00:08:57.270 --> 00:09:00.296\nSo in most cases,\nit says WAN is specified.\n\n154\n00:09:01.779 --> 00:09:06.421\nAnd then, enter the external\nsubnet's starting address for\n\n155\n00:09:06.421 --> 00:09:08.580\nthe 1:1 mapping, okay?\n\n156\n00:09:08.580 --> 00:09:13.780\nSo on this one here, let's see if\nI make sure I do this right, okay?\n\n157\n00:09:13.780 --> 00:09:19.001\nSo if I go 1, not 192, good gracious.\n\n158\n00:09:19.001 --> 00:09:20.521\n&gt;&gt; [LAUGH] So in green.\n\n159\n00:09:20.521 --> 00:09:21.723\n&gt;&gt; I know, yeah.\n\n160\n00:09:21.723 --> 00:09:25.873\nSee, 184.147.\n\n161\n00:09:25.873 --> 00:09:28.326\nAnd then what is it?\n\n162\n00:09:30.365 --> 00:09:31.574\nIt says subnet.\n\n163\n00:09:35.603 --> 00:09:38.250\nI can't even remember what\nthe subnet is to tell you the truth.\n\n164\n00:09:38.250 --> 00:09:40.000\nSo I'm just gonna do that.\n\n165\n00:09:40.000 --> 00:09:43.530\nLet's see if it actually\nboxed it out right now.\n\n166\n00:09:43.530 --> 00:09:45.560\nI was expecting just to put an IP address.\n\n167\n00:09:45.560 --> 00:09:47.218\nThat's why I was kinda wondering, okay?\n\n168\n00:09:47.218 --> 00:09:51.645\nNow what we're not so worried about,\nright, is the IP address out here yet, but\n\n169\n00:09:51.645 --> 00:09:53.419\nis actually where it's going.\n\n170\n00:09:53.419 --> 00:09:55.660\nSo we'll actually do that as well.\n\n171\n00:09:57.450 --> 00:09:59.940\nSo I may be telling you wrong here, but\n\n172\n00:09:59.940 --> 00:10:03.990\nlet's see if that subnet IP\nwill end up working here.\n\n173\n00:10:03.990 --> 00:10:05.740\nSingle host, where is it going?\n\n174\n00:10:05.740 --> 00:10:09.964\nSo my email server was 132.\n\n175\n00:10:11.810 --> 00:10:15.328\n10.1.110.132 here.\n\n176\n00:10:15.328 --> 00:10:19.477\nAnd it doesn't give me the ability to\nchange cuz I'm only doing it for one.\n\n177\n00:10:19.477 --> 00:10:24.336\nAnd now it says, hey, anything else\nas far as the destination goes?\n\n178\n00:10:24.336 --> 00:10:27.849\nThe 1:1 mapping can only be used for\nusually as any.\n\n179\n00:10:27.849 --> 00:10:32.998\nSo I'm gonna go ahead and\nleave it as any, and\n\n180\n00:10:32.998 --> 00:10:38.570\nthen, Description, Access to email server?\n\n181\n00:10:38.570 --> 00:10:42.210\nYep, Email from outside.\n\n182\n00:10:42.210 --> 00:10:50.260\nClick save, and then take a look\nat the logic again, right?\n\n183\n00:10:50.260 --> 00:10:55.150\nSo what we're now saying in theory, right,\nis that this particular External IP\n\n184\n00:10:55.150 --> 00:11:00.090\naddress, as traffic comes into this 129,\nagain remember\n\n185\n00:11:00.090 --> 00:11:02.300\nthese numbers are now made up, I'm not-\n&gt;&gt; [LAUGH]\n\n186\n00:11:02.300 --> 00:11:04.600\n&gt;&gt; I'm not really doing any of this for\n\n187\n00:11:04.600 --> 00:11:06.370\nreal at this point, right?\n\n188\n00:11:06.370 --> 00:11:09.880\nSo what I'm saying is,\nas traffic comes in from the outside, and\n\n189\n00:11:09.880 --> 00:11:14.700\nI tell them that the way that they get to\ntheir email server is that 129 address.\n\n190\n00:11:14.700 --> 00:11:18.160\nIt should hit that firewall,\nshould come here, and\n\n191\n00:11:18.160 --> 00:11:21.770\nthat automatically says inside\nthe firewall to route them where?\n\n192\n00:11:21.770 --> 00:11:25.590\nInternally to this address on any port,\nand\n\n193\n00:11:25.590 --> 00:11:28.470\nthat should only get them\nto the email server, okay?\n\n194\n00:11:28.470 --> 00:11:30.730\nSo this is actually\nsomething that you will do,\n\n195\n00:11:30.730 --> 00:11:33.630\nespecially with things\nlike file servers and\n\n196\n00:11:33.630 --> 00:11:37.520\nemail servers sometimes if you wanna\ndo this now the more secure way, right?\n\n197\n00:11:37.520 --> 00:11:38.990\nPut that in a DMZ instead.\n\n198\n00:11:38.990 --> 00:11:43.290\nThat would be more secure, but\nat the same time if you go,\n\n199\n00:11:43.290 --> 00:11:45.920\nI don't really wanna set up a DMZ,\nI wanna do that,\n\n200\n00:11:45.920 --> 00:11:49.710\nyou can at least do something like this\nwhere it actually allows you to route them\n\n201\n00:11:49.710 --> 00:11:55.250\ndirectly from that one location from\nthe outside to be able to get access in.\n\n202\n00:11:55.250 --> 00:11:59.645\nSo once I apply the changes,\neverything seems to be fine.\n\n203\n00:11:59.645 --> 00:12:03.097\nAnd now we can actually go ahead,\nand have that running.\n\n204\n00:12:03.097 --> 00:12:05.050\nAnd then you do the connection test.\n\n205\n00:12:05.050 --> 00:12:08.850\nNow the hard thing about testing\nthis type of connection though\n\n206\n00:12:08.850 --> 00:12:12.638\nis normally you're on the same\nnetwork as that server, right?\n\n207\n00:12:12.638 --> 00:12:13.138\nSo-\n&gt;&gt; Yes.\n\n208\n00:12:13.138 --> 00:12:15.217\n&gt;&gt; So, it's kind of weird, right,\n\n209\n00:12:15.217 --> 00:12:20.460\ntrying to actually say, all right, I need\nto connect to the external IP address.\n\n210\n00:12:20.460 --> 00:12:23.580\nYou're trying to tell it to go out,\nand then come back in, and\n\n211\n00:12:23.580 --> 00:12:27.530\nit can work, but sometimes you\nget weird results if you do so.\n\n212\n00:12:27.530 --> 00:12:30.704\nI recommend actually doing\nsomething like a smartphone, right?\n\n213\n00:12:30.704 --> 00:12:36.372\nSo, if you have your smartphone, bring up\nthe browser directly on your smartphone,\n\n214\n00:12:36.372 --> 00:12:41.430\ngo to the website, type in the IP address\nthere, and see if you can connect.\n\n215\n00:12:41.430 --> 00:12:44.756\nNow, you gotta make sure the wireless\nis turned off for your network, okay?\n\n216\n00:12:44.756 --> 00:12:47.264\nSo turn that off, use what your 3G, 4G,\n\n217\n00:12:47.264 --> 00:12:50.756\nI'm assuming 4G is pretty much\nwhat everybody has today.\n\n218\n00:12:50.756 --> 00:12:53.923\nIn my neck of the woods it's still 3G,\nbut overall though,\n\n219\n00:12:53.923 --> 00:12:56.479\nyou still have that type of connection,\nright?\n\n220\n00:12:56.479 --> 00:13:01.170\nThat means you're going now out across\nyour service providers' network, right,\n\n221\n00:13:01.170 --> 00:13:05.531\nand then you're gonna come back into\nyour firewall interface through another\n\n222\n00:13:05.531 --> 00:13:06.540\nnetwork.\n\n223\n00:13:06.540 --> 00:13:09.460\nAnd if you can make that connection\nthen you that you're golden and\n\n224\n00:13:09.460 --> 00:13:11.110\neverything is good, okay?\n\n225\n00:13:11.110 --> 00:13:12.720\nBut generally that's where you do see it.\n\n226\n00:13:12.720 --> 00:13:16.838\nFile servers are kind of the big one for\nmost of us, right,\n\n227\n00:13:16.838 --> 00:13:20.384\nif we tend to work,\neven here at ITProTV, right?\n\n228\n00:13:20.384 --> 00:13:25.279\nSometimes where I need access to certain\nfiles, and it would mean I'd have to\n\n229\n00:13:25.279 --> 00:13:30.097\ncome here to get access those files, but\nwe would rather have an IP address or\n\n230\n00:13:30.097 --> 00:13:34.070\nan actual external server\nthat we could get access to.\n\n231\n00:13:34.070 --> 00:13:37.400\nWell, one of the ways that we can do\nthat instead is, let's go ahead and\n\n232\n00:13:37.400 --> 00:13:40.060\ndo something like that here,\nand set that up to\n\n233\n00:13:40.060 --> 00:13:43.420\ndo the idea of just an external IP\naddress to match that up next to these.\n\n234\n00:13:43.420 --> 00:13:47.210\n&gt;&gt; Ronnie, is there an advantage of doing\nsomething like this versus something like\n\n235\n00:13:47.210 --> 00:13:47.860\na VPN connection?\n\n236\n00:13:48.950 --> 00:13:50.636\n&gt;&gt; There is no real advantage, okay.\n\n237\n00:13:50.636 --> 00:13:55.080\nThe advantage is that you don't\nhave to establish the VPN.\n\n238\n00:13:55.080 --> 00:13:57.040\nNow, of course that\nmeans you have to what?\n\n239\n00:13:57.040 --> 00:14:00.750\nYou have to make sure that the devices\nthat you're gonna be connecting to,\n\n240\n00:14:00.750 --> 00:14:02.040\nthey're protected like crazy.\n\n241\n00:14:02.040 --> 00:14:04.120\nYou can't just go who cares?\n\n242\n00:14:04.120 --> 00:14:07.260\nWe'll just kind of leave\n[CROSSTALK] [LAUGH].\n\n243\n00:14:07.260 --> 00:14:09.090\nWe'll just leave the default password.\n\n244\n00:14:09.090 --> 00:14:11.120\nWe won't run antivirus on that thing.\n\n245\n00:14:11.120 --> 00:14:12.875\n&gt;&gt; What's that?\n&gt;&gt; We won't worry about that, yeah,\n\n246\n00:14:12.875 --> 00:14:13.399\nbut you can.\n\n247\n00:14:13.399 --> 00:14:18.271\nBut the great thing is, if it's behind\nthe firewall, the majority of that traffic\n\n248\n00:14:18.271 --> 00:14:21.900\nshould go ahead and\nkinda be blocked except for this, right?\n\n249\n00:14:21.900 --> 00:14:24.580\nBecause this essentially\ndoes open up that hole for\n\n250\n00:14:24.580 --> 00:14:26.740\npeople to be able to get access in.\n\n251\n00:14:26.740 --> 00:14:30.210\nBut it is a way for\nyou to be able to accomplish that and\n\n252\n00:14:30.210 --> 00:14:33.140\nthe key is,\ndoes everybody need one-to-one NAT?\n\n253\n00:14:33.140 --> 00:14:34.740\nNot necessarily, okay?\n\n254\n00:14:34.740 --> 00:14:37.460\nBut, if you do, and you're told that\n\n255\n00:14:37.460 --> 00:14:42.310\nthese resources need to be available at\nall times, this is probably the way to go.\n\n256\n00:14:42.310 --> 00:14:47.430\nYou set it up and if this makes it easy,\nit means that you don't actually have to\n\n257\n00:14:47.430 --> 00:14:52.723\nworry about giving somebody else VPN\ncredentials and stuff like that to manage.\n\n258\n00:14:52.723 --> 00:14:54.850\nIt does give them access to these things.\n\n259\n00:14:54.850 --> 00:14:57.520\nAnd you do have to worry about\nthe sensitivity of your data.\n\n260\n00:14:57.520 --> 00:14:59.200\nThat's where you actually have, of course,\n\n261\n00:14:59.200 --> 00:15:02.380\nyour other things that you have to worry\nabout too, access control at that point.\n\n262\n00:15:02.380 --> 00:15:05.080\nBut overall though,\nat least through the firewall,\n\n263\n00:15:05.080 --> 00:15:09.220\nif you need to implement one-to-one,\nit's because of that situation.\n\n264\n00:15:09.220 --> 00:15:13.230\nAnd I know that I keep overemphasizing it,\nbut really that's the key.\n\n265\n00:15:13.230 --> 00:15:16.550\nIt didn't click for\nme the first time I did it.\n\n266\n00:15:16.550 --> 00:15:20.470\nAll right, so I get the idea of\ntranslating a private IP address into\n\n267\n00:15:20.470 --> 00:15:24.180\na single public IP address, but\nI don't know why I would need it.\n\n268\n00:15:24.180 --> 00:15:27.310\nSo, just like you're talking about,\nif we actually have Dynamic Net,\n\n269\n00:15:27.310 --> 00:15:29.540\nand this is the reason why.\n\n270\n00:15:29.540 --> 00:15:33.840\nIt's because people from the outside\nneed access to a resource on the inside.\n\n271\n00:15:33.840 --> 00:15:37.245\nAnd so once I got that in my mind,\nthat is not about outbound traffic and\n\n272\n00:15:37.245 --> 00:15:38.305\nreturning traffic.\n\n273\n00:15:38.305 --> 00:15:42.523\nThis is really about making sure\na resource is available out there,\n\n274\n00:15:42.523 --> 00:15:46.445\nwhen maybe your only resource that\nyou have is this firewall and\n\n275\n00:15:46.445 --> 00:15:50.160\nyou only have two interfaces,\na trusted and an untrusted.\n\n276\n00:15:50.160 --> 00:15:52.475\nThis is one of the options\nthat you can go.\n\n277\n00:15:52.475 --> 00:15:55.700\nI do need to mention one more thing or\nI know I'm gonna get in trouble.\n\n278\n00:15:55.700 --> 00:15:58.472\nSomebody will call me on this\nis what will happen, okay?\n\n279\n00:15:58.472 --> 00:16:04.169\nNow, this means I have to do something\nthat most people are never gonna remember.\n\n280\n00:16:04.169 --> 00:16:08.709\nSo Daniel, I'm just gonna test your\nincredible memory ability, right?\n\n281\n00:16:08.709 --> 00:16:14.060\nDo you remember the IP address, the public\nIP address I gave to that device?\n\n282\n00:16:14.060 --> 00:16:16.655\n&gt;&gt; The public IP address was 137.\n\n283\n00:16:16.655 --> 00:16:18.351\n&gt;&gt; Ooh, that's the firewall.\n\n284\n00:16:18.351 --> 00:16:19.756\n&gt;&gt; That's the firewall, yeah.\n\n285\n00:16:19.756 --> 00:16:21.160\n&gt;&gt; See, that's,\nI wanted to point that out, okay?\n\n286\n00:16:21.160 --> 00:16:22.746\nSo if I were to do that and go,\n\n287\n00:16:22.746 --> 00:16:27.460\nDaniel goes, how do I get to the file\nserver again, or to the email server?\n\n288\n00:16:27.460 --> 00:16:28.113\n70.\n[SOUND] And\n\n289\n00:16:28.113 --> 00:16:30.676\nall [INAUDIBLE] you'll hear is 70 blah,\nblah, blah, blah, blah.\n\n290\n00:16:30.676 --> 00:16:33.311\n[CROSSTALK]\n&gt;&gt; That's exactly what I heard.\n\n291\n00:16:33.311 --> 00:16:33.856\n&gt;&gt; Exactly.\n\n292\n00:16:33.856 --> 00:16:34.449\n&gt;&gt; That's uncanny.\n\n293\n00:16:34.449 --> 00:16:36.596\n[LAUGH]\n&gt;&gt; I know, isn't that weird?\n\n294\n00:16:36.596 --> 00:16:39.160\nYeah, it's weird but that's what we hear.\n\n295\n00:16:39.160 --> 00:16:42.160\nSo now, I'm gonna hand this out to\nsomebody that may not know anything about\n\n296\n00:16:42.160 --> 00:16:43.730\nIP addresses\n&gt;&gt; Mm-hm.\n\n297\n00:16:43.730 --> 00:16:46.170\nAnd then,\nthey're gonna be in a hurry cuz more than\n\n298\n00:16:46.170 --> 00:16:48.380\nlikely they're gonna ask\nme on their way out, right?\n\n299\n00:16:48.380 --> 00:16:50.422\nSo they're think that\nthey're gonna jot it down.\n\n300\n00:16:50.422 --> 00:16:53.340\n[LAUGH] And then whatever they jot down,\nwhen they look at it,\n\n301\n00:16:53.340 --> 00:16:55.670\nit doesn't look anything\nlike the IP address.\n\n302\n00:16:55.670 --> 00:16:59.870\nAnd then they come back and they email,\nlike what did I have to try to connect to?\n\n303\n00:16:59.870 --> 00:17:01.300\nAnd how do these?\n\n304\n00:17:01.300 --> 00:17:04.140\nAnd so it is difficult, right?\n\n305\n00:17:04.140 --> 00:17:05.450\nSo how do we normally?\n\n306\n00:17:05.450 --> 00:17:07.880\nDaniel, how do we normally connect\nto servers on the internet?\n\n307\n00:17:07.880 --> 00:17:08.690\nWhat do we use?\n\n308\n00:17:08.690 --> 00:17:10.150\n&gt;&gt; A lovely DNS, right?\n\n309\n00:17:10.150 --> 00:17:11.890\nThat's the way we like to live our lives.\n\n310\n00:17:11.890 --> 00:17:13.960\nI can remember google.com.\n\n311\n00:17:13.960 --> 00:17:16.544\nI can't remember whatever\ngoogle.com's IP address is.\n\n312\n00:17:16.544 --> 00:17:19.280\n[LAUGH]\n&gt;&gt; Well, that makes a point for us, right.\n\n313\n00:17:19.280 --> 00:17:20.540\n&gt;&gt; Yeah.\n&gt;&gt; Is that the very fact is,\n\n314\n00:17:20.540 --> 00:17:23.660\nif you need this to be easy to use,\nit means you also have to do\n\n315\n00:17:23.660 --> 00:17:27.970\nsomething else which is through your DNS\nregistrar out there on the internet, too.\n\n316\n00:17:27.970 --> 00:17:31.450\nSo if you go look, I'm gonna make\nthis a publicly available resource,\n\n317\n00:17:31.450 --> 00:17:34.790\nI've also gotta go to DNS.\n\n318\n00:17:34.790 --> 00:17:39.270\nYour ISP's DNS or\nyour registrar's DNS and make what?\n\n319\n00:17:39.270 --> 00:17:45.720\nAn entry for that saying, with this name,\nemail.itprotvdemo.com, that's\n\n320\n00:17:45.720 --> 00:17:51.260\ngonna automatically be directly linked\nup to that address that I gave, okay?\n\n321\n00:17:51.260 --> 00:17:52.370\nSo Daniel doesn't care about it.\n\n322\n00:17:52.370 --> 00:17:54.490\nI could repeat it again,\nhe's not gonna remember.\n\n323\n00:17:54.490 --> 00:17:57.990\nBut that's what we have to do, okay?\n\n324\n00:17:57.990 --> 00:17:59.500\nSo, if we wanna make it easier for\n\n325\n00:17:59.500 --> 00:18:03.230\npeople, you do have to include in\nthe aspect of DNS to make it work.\n\n326\n00:18:04.310 --> 00:18:06.820\nIf you don't, not saying it can't work.\n\n327\n00:18:06.820 --> 00:18:08.930\nIt's only gonna work for\nthe people that remember it.\n\n328\n00:18:08.930 --> 00:18:12.730\nAnd that may be self defeating\nto actually set all this up for\n\n329\n00:18:12.730 --> 00:18:14.210\nonly people that will remember it.\n\n330\n00:18:14.210 --> 00:18:18.990\nSo, just kind of realize that as\nfar as one to one that goes, right?\n\n331\n00:18:18.990 --> 00:18:23.520\nIt is a very effective tool and\nif you need it, you really do need it, and\n\n332\n00:18:23.520 --> 00:18:24.830\nthat's why you implement it.\n\n333\n00:18:24.830 --> 00:18:28.550\nBut most of the time, if you're not making\nanything available to people outside of\n\n334\n00:18:28.550 --> 00:18:32.010\nyour network as far as a resource goes,\nI wouldn't worry about using it and\n\n335\n00:18:32.010 --> 00:18:33.820\nmost of us don't need to do so.\n\n336\n00:18:33.820 --> 00:18:35.600\nBut it is an option there for you and\n\n337\n00:18:35.600 --> 00:18:37.280\nwe wanna make sure that you\nactually understood that.\n\n338\n00:18:37.280 --> 00:18:38.390\nSo remember the resource that you need.\n\n339\n00:18:38.390 --> 00:18:39.359\nYou need the firewall,\n\n340\n00:18:39.359 --> 00:18:42.190\nyou need to understand of course\nhow to set up that NAT rule.\n\n341\n00:18:42.190 --> 00:18:45.020\nBut then you need that\navailable public IP address.\n\n342\n00:18:45.020 --> 00:18:47.825\nDon't use somebody else's SNUs,\nlike what I'm doing.\n\n343\n00:18:47.825 --> 00:18:48.391\n[LAUGH]\n&gt;&gt; Why not, Ronnie?\n\n344\n00:18:48.391 --> 00:18:50.440\n[LAUGH]\n&gt;&gt; Yeah you'll find that it will be\n\n345\n00:18:50.440 --> 00:18:52.340\nproblematic if you do so.\n\n346\n00:18:52.340 --> 00:18:56.020\nBut just kind of realize that that's\nnot something you want to do as.\n\n347\n00:18:56.020 --> 00:18:57.970\nThey don't care about user IP address.\n\n348\n00:18:57.970 --> 00:19:01.480\nJust wait until all their traffic stops or\nthey're only getting 50% of their traffic,\n\n349\n00:19:01.480 --> 00:19:02.470\nthey'll start to know.\n\n350\n00:19:02.470 --> 00:19:05.790\n&gt;&gt; Yeah,\nthe caring begins at that point in time.\n\n351\n00:19:05.790 --> 00:19:07.470\nRonnie, this has been a fun episode.\n\n352\n00:19:07.470 --> 00:19:08.910\nI've really enjoyed it.\n\n353\n00:19:08.910 --> 00:19:12.040\nThe whole idea of NAT can\nbe a little confusing,\n\n354\n00:19:12.040 --> 00:19:13.930\nespecially if you're\nlooking at a new device.\n\n355\n00:19:13.930 --> 00:19:17.236\nIf you've never seen pfSense before even\nthough you might be familiar with NAT,\n\n356\n00:19:17.236 --> 00:19:19.472\nyou're wondering okay,\nI want to get this working and\n\n357\n00:19:19.472 --> 00:19:21.060\nI want to do it the correct way.\n\n358\n00:19:21.060 --> 00:19:24.970\nRonnie, that's what he's done for us,\nhe's figured out all the correct steps and\n\n359\n00:19:24.970 --> 00:19:26.420\nhas explained it to us.\n\n360\n00:19:26.420 --> 00:19:29.240\nSo that we don't have to fumble our\nway through trying to get it done.\n\n361\n00:19:29.240 --> 00:19:31.726\nNot that pfSense doesn't\nhave great documentation.\n\n362\n00:19:31.726 --> 00:19:32.478\nI'm sure they do.\n\n363\n00:19:32.478 --> 00:19:34.304\nAnd you should be using it,\nit will help you.\n\n364\n00:19:34.304 --> 00:19:36.127\nRead the manual, ladies and gentlemen.\n\n365\n00:19:36.127 --> 00:19:38.766\nIt does actually have\nthe information you need to know.\n\n366\n00:19:38.766 --> 00:19:41.990\nBut Ronnie, you've made it practical,\nyou've shown us how it works.\n\n367\n00:19:41.990 --> 00:19:44.060\nThe reasons why we would\nwant to be doing it.\n\n368\n00:19:44.060 --> 00:19:47.200\nThat's something that might not\nbe inside of their manual, right?\n\n369\n00:19:47.200 --> 00:19:49.470\nWhy would I want to do this?\n\n370\n00:19:49.470 --> 00:19:52.680\nThat is the key that Ronnie\nhas brought to us today and\n\n371\n00:19:52.680 --> 00:19:55.510\ngiven that pragmatic implementation.\n\n372\n00:19:55.510 --> 00:19:56.150\nThat being said, Ronnie,\n\n373\n00:19:56.150 --> 00:19:58.930\nis there anything else we need to know or\nare we ready to close this show?\n\n374\n00:19:58.930 --> 00:20:00.620\n&gt;&gt; Nope,\nI think we're ready to close this show.\n\n375\n00:20:00.620 --> 00:20:04.510\nWe've still got a little bit more\non port forwarding to talk about.\n\n376\n00:20:04.510 --> 00:20:05.695\nAnd even though we could try and\n\n377\n00:20:05.695 --> 00:20:08.890\njam it in, I find out that if I\ntried to explain it like this before\n\n378\n00:20:08.890 --> 00:20:12.510\neven just regular instructor-led classes,\npeople's eyes start crossing.\n\n379\n00:20:12.510 --> 00:20:14.030\n&gt;&gt; [LAUGH]\n&gt;&gt; So we're gonna save that for\n\n380\n00:20:14.030 --> 00:20:14.840\nanother episode.\n\n381\n00:20:14.840 --> 00:20:16.200\n&gt;&gt; All right,\nwell we look forward to that.\n\n382\n00:20:16.200 --> 00:20:17.970\nWe hope you'll join us there as well.\n\n383\n00:20:17.970 --> 00:20:22.360\nWe thank you for watching, but signing\noff for ITProTV, I've been your host,\n\n384\n00:20:22.360 --> 00:20:23.030\nDaniel Lowrie.\n\n385\n00:20:23.030 --> 00:20:24.100\n&gt;&gt; And I'm Ronnie Wong.\n\n386\n00:20:24.100 --> 00:20:26.174\n&gt;&gt; We'll see you next time.\n\n387\n00:20:26.174 --> 00:20:32.281\n[MUSIC]\n\n388\n00:20:32.281 --> 00:20:35.406\nThank you for\n\n389\n00:20:35.406 --> 00:20:40.239\nwatching ITProTV.\n\n",
          "vimeoId": "197293362"
        },
        {
          "description": "In this episode, Daniel and Ronnie demonstrate setting up Port Forwarding in a pfSense firewall. Here, they take you step-by-step through the pfSense web GUI, explaining in detail each option in the Port Forwarding configuration.",
          "length": "1742",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-3-setup_port_forwarding-121516.00_28_48_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-3-setup_port_forwarding-121516.00_28_48_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-3-3-setup_port_forwarding-121516.00_28_48_10.Still001-sm.jpg",
          "title": "Setup Port Forwarding",
          "transcript": "WEBVTT\n\n1\n00:00:00.087 --> 00:00:03.507\nWelcome to ITPRO.TV,\n\n2\n00:00:03.507 --> 00:00:08.466\nI'm your host Don Pezet [CROSSTALK]\n\n3\n00:00:08.466 --> 00:00:12.268\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:12.268 --> 00:00:14.122\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:14.122 --> 00:00:16.665\nwelcome to another great\nepisode of ITPRO.TV.\n\n6\n00:00:16.665 --> 00:00:20.964\nI'm your host Daniel Lowrie and\nit today's episode we are back for\n\n7\n00:00:20.964 --> 00:00:24.131\nmore on our pfSense version 2.3.2 series.\n\n8\n00:00:24.131 --> 00:00:28.138\nAnd of course joining me, as always,\nmy partner in crime, Mr. Ronnie Wong.\n\n9\n00:00:28.138 --> 00:00:29.731\nRonnie welcome back sir,\nhow's it going today?\n\n10\n00:00:29.731 --> 00:00:31.257\n&gt;&gt; It's going great today,\n\n11\n00:00:31.257 --> 00:00:34.315\nwe're continuing on to take\na look at more pfSense.\n\n12\n00:00:34.315 --> 00:00:40.075\nAnd we are kind of rounding out our\nlittle mini series here on using NAT,\n\n13\n00:00:40.075 --> 00:00:42.667\nNetwork Address Translation.\n\n14\n00:00:42.667 --> 00:00:45.265\nNow everything that we've talked about so\n\n15\n00:00:45.265 --> 00:00:49.025\nfar works incredibly well with\nplenty of resources, right.\n\n16\n00:00:49.025 --> 00:00:52.092\nEven though the pfSense is the one\nthat's doing the NAT translation.\n\n17\n00:00:52.092 --> 00:00:55.804\nWhen we talked about using dynamic NAT and\nsetting it up, normally,\n\n18\n00:00:55.804 --> 00:00:57.537\nwe do that because we really do.\n\n19\n00:00:57.537 --> 00:01:02.006\nWe have just a few IP addresses but a ton\nof internal addresses that really need to\n\n20\n00:01:02.006 --> 00:01:04.960\nget translated out to the Internet,\nso that works.\n\n21\n00:01:04.960 --> 00:01:08.896\nAnd we also talked about the idea\nof static NAT as well, right,\n\n22\n00:01:08.896 --> 00:01:13.281\nbeing able to allow for people on\nthe outside to get access to resources\n\n23\n00:01:13.281 --> 00:01:16.430\nthat exist really internally\nin our network too.\n\n24\n00:01:16.430 --> 00:01:20.993\nWhere we could go ahead and set up that\npublic IP address, that single private IP\n\n25\n00:01:20.993 --> 00:01:24.614\naddress and showed you how you\ncan do that translation as well.\n\n26\n00:01:24.614 --> 00:01:28.650\nBut there are sometimes though, where\nyou don't have a pool of IP addresses,\n\n27\n00:01:28.650 --> 00:01:32.137\neach one of those we could actually\nwe could talk about using a pole,\n\n28\n00:01:32.137 --> 00:01:34.422\nwe could talk about\nusing a single address.\n\n29\n00:01:34.422 --> 00:01:39.153\nBut what if you really only\nhave a single IP address, for\n\n30\n00:01:39.153 --> 00:01:43.900\nexample, the idea of actually\nsetting this up at home?\n\n31\n00:01:43.900 --> 00:01:47.705\nNow, if you've actually done\nsomething like this before,\n\n32\n00:01:47.705 --> 00:01:52.554\nmore than likely your wireless router\nthat you've purchased at some point in\n\n33\n00:01:52.554 --> 00:01:56.881\nthe past has actually allowed to do\nsome type of port forwarding, and\n\n34\n00:01:56.881 --> 00:02:00.043\nthat's pretty much what\nwe're saying here too.\n\n35\n00:02:00.043 --> 00:02:04.281\nIs that we have this ability to do port\nforwarding on a PF Sense firewall.\n\n36\n00:02:04.281 --> 00:02:09.722\nNow the neat thing about this idea\nof using port forwarding is well,\n\n37\n00:02:09.722 --> 00:02:12.967\nmost of the other types of commercial and\n\n38\n00:02:12.967 --> 00:02:18.790\nenterprise level types of firewalls,\ndon't even support the notion of\n\n39\n00:02:18.790 --> 00:02:23.962\nyou getting port forwarding done\nas far as setting it up, okay?\n\n40\n00:02:23.962 --> 00:02:27.783\nSo like on a Cisco ASA, they don't\nhave an option for port forwarding.\n\n41\n00:02:27.783 --> 00:02:28.818\nCan it be done?\n\n42\n00:02:28.818 --> 00:02:33.084\nYeah, you kind of have to actually do\na lot of different things to make it work\n\n43\n00:02:33.084 --> 00:02:34.159\nbut it can be done.\n\n44\n00:02:34.159 --> 00:02:38.690\nBut, I've never actually done it myself\nas far as doing anything like that on\n\n45\n00:02:38.690 --> 00:02:40.373\nsomething like a Cisco ASA.\n\n46\n00:02:40.373 --> 00:02:43.692\nBut, inside of pfSense,\nthey know something that,\n\n47\n00:02:43.692 --> 00:02:47.401\nheck, pfSense is going to be\nused at all different levels.\n\n48\n00:02:47.401 --> 00:02:52.512\nFrom the idea of enterprise grade\ntypes of situations and companies,\n\n49\n00:02:52.512 --> 00:02:57.447\nall the way down to the home user,\nthat really wants to sit down, and\n\n50\n00:02:57.447 --> 00:03:02.575\nsay, hey, I want to actually use\na firewall at home, as well, okay?\n\n51\n00:03:02.575 --> 00:03:07.055\nSo you have a couple of choices as you're\ndoing something like this here, okay?\n\n52\n00:03:07.055 --> 00:03:12.062\nAnd the key here to understanding this\nis that normally the place that we\n\n53\n00:03:12.062 --> 00:03:17.246\ntend to use it is if we only really\nare assigned a single public IP address.\n\n54\n00:03:17.246 --> 00:03:20.601\nSo I can't now use something like that for\nstatic NAT somewhere,\n\n55\n00:03:20.601 --> 00:03:21.887\nI can't do that, okay?\n\n56\n00:03:21.887 --> 00:03:26.273\nSo I can't separate that out and then have\nall my other traffic going through another\n\n57\n00:03:26.273 --> 00:03:28.643\npublic IP address,\nbecause I only have one.\n\n58\n00:03:28.643 --> 00:03:32.986\nSo if I have only a single one,\nwhat we can do instead of say, look,\n\n59\n00:03:32.986 --> 00:03:38.184\nwe wanna make that same type of connection\nlike static NAT, but this time we're\n\n60\n00:03:38.184 --> 00:03:43.569\ngonna use port numbers instead of actually\nneeding a specific public IP address.\n\n61\n00:03:43.569 --> 00:03:46.802\nNotice a different one for\neach connection that I want to make.\n\n62\n00:03:46.802 --> 00:03:49.382\nSo, by doing something like that,\n\n63\n00:03:49.382 --> 00:03:54.800\nit allows us to really make that same\ntype of connection to those devices but\n\n64\n00:03:54.800 --> 00:03:59.275\ninstead, really using, well,\nports is kinda the key here.\n\n65\n00:03:59.275 --> 00:04:04.353\nNow, when you start dealing in\nthis idea of also port forwarding,\n\n66\n00:04:04.353 --> 00:04:09.069\nyou need to kind of understand\nthat normally when you do this,\n\n67\n00:04:09.069 --> 00:04:13.330\nit can interfere with\nthings like static NAT.\n\n68\n00:04:13.330 --> 00:04:17.660\nSo typically you don't implement\nboth at the same time.\n\n69\n00:04:17.660 --> 00:04:18.731\nCan you?\n\n70\n00:04:18.731 --> 00:04:23.387\nYes, but you can also end up finding out\nthat port forwarding can mess around with\n\n71\n00:04:23.387 --> 00:04:24.768\nyour static NAT rules.\n\n72\n00:04:24.768 --> 00:04:28.525\nAnd there's a reason behind that\nlike what I did in previous episodes\n\n73\n00:04:28.525 --> 00:04:32.363\nis I set up a static NAT first and\nnow we're doing the port forwarding.\n\n74\n00:04:32.363 --> 00:04:35.375\nSo what can end up happening\nis that you end up seeing\n\n75\n00:04:35.375 --> 00:04:39.524\nthat port forwarding rules tend to\noverride what static NAT rules do.\n\n76\n00:04:39.524 --> 00:04:43.007\nAnd there's a certain order in\nwhich these rules are applied.\n\n77\n00:04:43.007 --> 00:04:47.649\nSo as things come in with port forwarding\nthat actually gets taken care of before\n\n78\n00:04:47.649 --> 00:04:49.394\nthings like static NAT does.\n\n79\n00:04:49.394 --> 00:04:52.710\nSo if you happen to actually have\nsomething that overlaps in those\n\n80\n00:04:52.710 --> 00:04:56.162\nparticular rules, that's where\nyou actually have to be careful.\n\n81\n00:04:56.162 --> 00:04:58.296\nOkay, and yes, you start seeing that, too.\n\n82\n00:04:58.296 --> 00:05:02.675\nNow the other thing that you also end\nup seeing, at times, here, right?\n\n83\n00:05:02.675 --> 00:05:07.589\nIs that you also have to realize that\nyou can't have two different ports or\n\n84\n00:05:07.589 --> 00:05:11.088\na single port excuse me\ngoing to multiple machines.\n\n85\n00:05:11.088 --> 00:05:13.603\nWo let me give you an example of that.\n\n86\n00:05:13.603 --> 00:05:16.975\nThe example that we're gonna use when\nwe set this up is we're gonna use\n\n87\n00:05:16.975 --> 00:05:19.160\nremote desktop to connect\ninto the machine.\n\n88\n00:05:19.160 --> 00:05:23.791\nSo I cannot set up port 3389 to\nconnect into like 10 machines on my\n\n89\n00:05:23.791 --> 00:05:28.589\ninternal network, okay, so\nthat's just not gonna allow me to do that.\n\n90\n00:05:28.589 --> 00:05:33.017\nIf I set up Port 3389,\nas I connect in through the firewall,\n\n91\n00:05:33.017 --> 00:05:36.135\nit's really gonna only\ngo to one IP address.\n\n92\n00:05:36.135 --> 00:05:40.144\nSo I can't say, we're gonna use port 3389,\nwe're gonna connect to this machine,\n\n93\n00:05:40.144 --> 00:05:41.844\nthis machine, and this machine on it.\n\n94\n00:05:41.844 --> 00:05:45.845\nIt means we have to also think about\nthe idea of changing up those port\n\n95\n00:05:45.845 --> 00:05:46.838\nnumbers, too.\n\n96\n00:05:46.838 --> 00:05:52.130\nSo sometimes you can just use\nthe regular kind of define port numbers,\n\n97\n00:05:52.130 --> 00:05:55.012\nright, the well known port numbers.\n\n98\n00:05:55.012 --> 00:05:59.348\nBut sometimes you may actually kind of\nhave to do those that are above the grade,\n\n99\n00:05:59.348 --> 00:06:01.431\nright, the idea of the dynamic ones.\n\n100\n00:06:01.431 --> 00:06:06.243\nOr even in the upper limits here, so\nabove 5,000, or above a lot of times\n\n101\n00:06:06.243 --> 00:06:11.074\nare usually where we have them unassigned,\nthe majority of the time, okay?\n\n102\n00:06:11.074 --> 00:06:14.317\nSo you have to think about\nstuff like that if you know,\n\n103\n00:06:14.317 --> 00:06:18.441\nI need to do a remote desktop into four or\nfive different computers.\n\n104\n00:06:18.441 --> 00:06:23.087\nSo for example, as Daniel is getting\nready for our penetration testing class,\n\n105\n00:06:23.087 --> 00:06:27.662\nlet's say that what he has is that he's\ngot four different machines that he's\n\n106\n00:06:27.662 --> 00:06:28.726\ngonna work with.\n\n107\n00:06:28.726 --> 00:06:31.130\nI don't actually how many machines\nhe's going to be working with but\n\n108\n00:06:31.130 --> 00:06:32.669\nhe wants to set up his\nown test environment.\n\n109\n00:06:32.669 --> 00:06:34.187\nAnd instead of just doing it virtually,\n\n110\n00:06:34.187 --> 00:06:35.936\nhe has a couple of old\nmachines laying around.\n\n111\n00:06:35.936 --> 00:06:39.569\nHe says, I know what I want to do,\nI want to be able to actually remote them\n\n112\n00:06:39.569 --> 00:06:41.729\ninto each one but\nhe only has one IP address.\n\n113\n00:06:41.729 --> 00:06:48.220\nHe can use port forwarding and put some\nlike port 6,000 on the target A over here,\n\n114\n00:06:48.220 --> 00:06:51.841\nand then 6,002 or 6,001 on target B.\n\n115\n00:06:51.841 --> 00:06:56.633\nAnd even though they're all connecting\nthrough that same one public IP address\n\n116\n00:06:56.633 --> 00:06:59.649\ngoing to his cable modem,\nit's perfectly fine.\n\n117\n00:06:59.649 --> 00:07:02.497\nThey'll actually go to those\ntwo different machines but\n\n118\n00:07:02.497 --> 00:07:04.462\nthey do have to be individual that way.\n\n119\n00:07:04.462 --> 00:07:07.500\nSo you can't take one port number and\nmatch it up to ten machines,\n\n120\n00:07:07.500 --> 00:07:09.278\nit just doesn't allow you to do that.\n\n121\n00:07:09.278 --> 00:07:13.290\nSo just kind of realize that that's\nwhat we want to understand as we get\n\n122\n00:07:13.290 --> 00:07:14.040\nthis set up.\n\n123\n00:07:14.040 --> 00:07:19.429\nSo not normally seen inside of businesses,\nusually more in the home environment.\n\n124\n00:07:19.429 --> 00:07:22.768\nBut you can do this if you\nactually need to, okay?\n\n125\n00:07:22.768 --> 00:07:25.081\nBut just kinda be aware\nof some of those caveats.\n\n126\n00:07:25.081 --> 00:07:28.044\nSo let me show you an example of what\nwe're gonna set up right here, and\n\n127\n00:07:28.044 --> 00:07:29.766\nthen we'll show you how to do it, okay?\n\n128\n00:07:29.766 --> 00:07:33.714\nSo here it is,\nlet's say that what I want to do is,\n\n129\n00:07:33.714 --> 00:07:38.328\nnow that I'm going on vacation,\nlet's talk about that.\n\n130\n00:07:38.328 --> 00:07:43.622\nI have my workstation right here and\nI'll call it Client01 and\n\n131\n00:07:43.622 --> 00:07:47.354\nhere's the IP address that I've used here.\n\n132\n00:07:47.354 --> 00:07:50.020\nAnd then,\nI know that outside of this, right,\n\n133\n00:07:50.020 --> 00:07:52.898\nI wanna be able to connect\nin using remote desktop.\n\n134\n00:07:52.898 --> 00:07:54.787\nSo, if we do something like that,\n\n135\n00:07:54.787 --> 00:07:57.597\nlet me see if I can actually\nmake a connection here.\n\n136\n00:07:57.597 --> 00:08:04.068\nWe'll go from here,\ngoing all the way down there, And\n\n137\n00:08:04.068 --> 00:08:07.820\nso it's along here that I want\nto make this type of connection.\n\n138\n00:08:07.820 --> 00:08:12.150\nBut if that is my only source\nof that address that I want,\n\n139\n00:08:12.150 --> 00:08:14.532\nthen setting up port\nforwarding is the way to go.\n\n140\n00:08:14.532 --> 00:08:17.930\nNow even if I have other devices out\nthere, I could still do port forwarding\n\n141\n00:08:17.930 --> 00:08:21.310\nbut on each one of these, we'd to do\nthat a little bit differently, but\n\n142\n00:08:21.310 --> 00:08:23.510\nthis is the setup that we are going to do.\n\n143\n00:08:23.510 --> 00:08:25.740\nWe have a device out here on the internet.\n\n144\n00:08:25.740 --> 00:08:28.520\nWe have of course,\nour client on the inside.\n\n145\n00:08:28.520 --> 00:08:32.360\nSo, notice again the directionality\nof what we're talking about.\n\n146\n00:08:32.360 --> 00:08:36.720\nRemember that Dynamic NAT is always\nfrom the inside going outbound,\n\n147\n00:08:36.720 --> 00:08:40.460\nokay, so that is probably going to be\nsomething you're going to implement\n\n148\n00:08:41.570 --> 00:08:44.540\npretty much at any point in time, okay.\n\n149\n00:08:44.540 --> 00:08:47.710\nBut if you know that you\nneed resources coming in,\n\n150\n00:08:48.850 --> 00:08:53.090\nthat's when we start thinking about using\nStatic NAT and port forwarding, instead.\n\n151\n00:08:53.090 --> 00:08:54.410\nSo, outside coming in.\n\n152\n00:08:54.410 --> 00:08:57.680\nSo keep that logic in mind\nas you start seeing that.\n\n153\n00:08:57.680 --> 00:08:59.550\nIf not, they'll kind of blend together and\n\n154\n00:08:59.550 --> 00:09:04.130\nthen you'll do what I did one day which\nis go, why am I even implementing this?\n\n155\n00:09:04.130 --> 00:09:06.090\nThis is not going to work\nthe way I want it to.\n\n156\n00:09:06.090 --> 00:09:09.040\nAnd then somebody implemented it exactly\nthe way that I would have implemented\n\n157\n00:09:09.040 --> 00:09:10.480\nit and it worked just fine.\n\n158\n00:09:10.480 --> 00:09:12.320\nAnd then it was the idea of the reminder.\n\n159\n00:09:12.320 --> 00:09:15.580\nI've got to remember that well,\nStatic NAT and\n\n160\n00:09:15.580 --> 00:09:19.820\nport forwarding essentially work off\nof inbound traffic is what they do.\n\n161\n00:09:19.820 --> 00:09:22.010\nAnd that's what we have to keep in mind,\nright?\n\n162\n00:09:22.010 --> 00:09:25.330\nSo that's pretty much it that\nwe have to take care of.\n\n163\n00:09:25.330 --> 00:09:29.150\nAnd so let's go ahead and\nsee how we are going to do this, okay?\n\n164\n00:09:29.150 --> 00:09:30.030\nSo here it is.\n\n165\n00:09:30.030 --> 00:09:31.510\nWe're back on our firewall.\n\n166\n00:09:31.510 --> 00:09:35.510\nI went ahead and removed previous\nStatic NAT rules that I had in place, so\n\n167\n00:09:35.510 --> 00:09:37.870\nI don't have any interference.\n\n168\n00:09:37.870 --> 00:09:42.190\nRemember that if you're using this in\nproduction you may have to kind of do that\n\n169\n00:09:43.270 --> 00:09:45.418\ncarefully, or do it after hours, right?\n\n170\n00:09:45.418 --> 00:09:47.380\nEspecially if you're inside\nof a production network and\n\n171\n00:09:47.380 --> 00:09:48.800\nyou're going to implement this.\n\n172\n00:09:48.800 --> 00:09:53.720\nUsually we don't, but at the same time, if\nyou are, make sure you take care of that.\n\n173\n00:09:53.720 --> 00:09:57.060\nI just went ahead and removed them for\nthe sake of our demonstration here.\n\n174\n00:09:57.060 --> 00:10:02.050\nSo this is the machine I'm going to use\nremote desktop into, which is right here\n\n175\n00:10:02.050 --> 00:10:05.920\nthe one that I'm running on, and\nthis is just a simple Windows 10 machine.\n\n176\n00:10:05.920 --> 00:10:08.560\nAnd then on the outside of that, right?\n\n177\n00:10:08.560 --> 00:10:12.790\nI'm connecting on the same LAN\nnetwork into the pfSense firewall,\n\n178\n00:10:12.790 --> 00:10:16.510\nI went ahead and turned on pftop, so\nthat we can take a look at this here.\n\n179\n00:10:16.510 --> 00:10:18.320\nIs what can happen.\n\n180\n00:10:18.320 --> 00:10:23.140\nAnd so, now, everything is\nkind of set up in that sense,\n\n181\n00:10:23.140 --> 00:10:27.250\nthe other machine that I'm going to use,\nif I can find it, right here,\n\n182\n00:10:27.250 --> 00:10:31.160\nis a Windows 7 machine\nthat I've connected to my\n\n183\n00:10:31.160 --> 00:10:36.040\noutside external network in that 70\ndot whatever network that I was on.\n\n184\n00:10:36.040 --> 00:10:39.080\nSo that is the machine\nthat we are gonna use here\n\n185\n00:10:39.080 --> 00:10:40.740\nto make that remote desktop connection.\n\n186\n00:10:40.740 --> 00:10:43.810\nSo it's actually out here, it shouldn't\nmatter where the IP address is but\n\n187\n00:10:43.810 --> 00:10:45.550\nit's actually out there, okay?\n\n188\n00:10:45.550 --> 00:10:48.320\nSo when we need to implement\nthen port forwarding,\n\n189\n00:10:48.320 --> 00:10:51.440\nwe go back into firewall and then NAT.\n\n190\n00:10:53.140 --> 00:10:57.750\nAnd now inside of NAT we're gonna go\nback to port forwarding right here\n\n191\n00:10:59.230 --> 00:11:02.880\nand hopefully I've clicked on that and\nif I did, yep, there we go, okay.\n\n192\n00:11:02.880 --> 00:11:04.700\nSo now I am in the port forward rules.\n\n193\n00:11:04.700 --> 00:11:07.620\nIf you're like me and you kinda zoomed\nin and weren't sure if that was,\n\n194\n00:11:07.620 --> 00:11:13.330\nyou'll always be able to verify it up here\nin kind of like this hierarchy format,\n\n195\n00:11:13.330 --> 00:11:15.220\nin where it shows you that you went.\n\n196\n00:11:15.220 --> 00:11:17.380\nAnd then you'll also see\nit underlined as well,\n\n197\n00:11:17.380 --> 00:11:21.200\nso that's another way that you can\nverify that everything is good here.\n\n198\n00:11:21.200 --> 00:11:25.970\nSo i'm going to add a rule here,\n\n199\n00:11:25.970 --> 00:11:29.860\nand this time we'll actually see where we\nhave a couple of different things, right?\n\n200\n00:11:29.860 --> 00:11:32.480\nWe can disable this rule once again for\ntesting but\n\n201\n00:11:32.480 --> 00:11:36.300\nwe have the strange entry\nhere that says No RDR.\n\n202\n00:11:36.300 --> 00:11:36.920\nOkay?\n\n203\n00:11:36.920 --> 00:11:40.144\nDisable redirection for\ntraffic matching this rule.\n\n204\n00:11:40.144 --> 00:11:42.520\nNow, that's a little bit strange.\n\n205\n00:11:42.520 --> 00:11:44.767\nBut it's saying that\nredirection can happen and\n\n206\n00:11:44.767 --> 00:11:46.974\nwhat that's about is\nwhat I was talking about.\n\n207\n00:11:46.974 --> 00:11:49.810\nThe idea of not using\nthe standard port numbers, okay?\n\n208\n00:11:49.810 --> 00:11:51.375\nSo, what I can do is say look,\n\n209\n00:11:51.375 --> 00:11:54.680\nI'm not gonna allow this to\nbe redirected in this way.\n\n210\n00:11:54.680 --> 00:11:56.980\nIf I want to, so\nit says it's rarely needed.\n\n211\n00:11:56.980 --> 00:11:59.990\nDon't use without thorough\nknowledge of the implications.\n\n212\n00:11:59.990 --> 00:12:00.960\nSo, what is this telling you?\n\n213\n00:12:00.960 --> 00:12:03.365\nIf this is your first time doing it,\ndon't do it.\n\n214\n00:12:03.365 --> 00:12:06.560\nOkay?\nThat's pretty much the key idea.\n\n215\n00:12:06.560 --> 00:12:07.260\nOkay?\n\n216\n00:12:07.260 --> 00:12:11.440\nWe're also gonna do this on the WAN\ninterface, and I'm choosing the protocol\n\n217\n00:12:11.440 --> 00:12:15.500\nTCP, because, well,\nthat's gonna be an RDP session for me.\n\n218\n00:12:16.660 --> 00:12:18.470\nAnd, notice the source, here.\n\n219\n00:12:18.470 --> 00:12:20.070\nOkay?\nSo, we have source and\n\n220\n00:12:20.070 --> 00:12:21.930\ndestination, that kind of makes sense.\n\n221\n00:12:21.930 --> 00:12:25.410\nNotice that the source is kinda\nhidden behind this Display Advanced.\n\n222\n00:12:25.410 --> 00:12:28.560\nAnd the reason why is that we\nrarely have to change it because\n\n223\n00:12:28.560 --> 00:12:31.540\nit doesn't matter where I go on vacation,\n\n224\n00:12:31.540 --> 00:12:34.930\nright, it can be on any network\nthat's in the world, out there.\n\n225\n00:12:34.930 --> 00:12:37.280\nSo by default, the source is any.\n\n226\n00:12:37.280 --> 00:12:40.500\nAnd if you wanna see that,\nall you have to do is click on Display.\n\n227\n00:12:41.950 --> 00:12:45.240\nAnd now you'll see that underneath that,\nit just says, Any.\n\n228\n00:12:45.240 --> 00:12:46.170\nRight here, okay?\n\n229\n00:12:46.170 --> 00:12:50.659\nSo that means anywhere, anytime, any port,\nwhatever you want here is pretty much how\n\n230\n00:12:50.659 --> 00:12:55.027\nyou're connecting in so if you know that\nyou're not gonna change that, simply hide\n\n231\n00:12:55.027 --> 00:12:58.615\nit and that will kind of reduce\nthe clutter that you see on the screen.\n\n232\n00:12:58.615 --> 00:13:02.240\nAnd then of course at that\npoint you want the destination.\n\n233\n00:13:02.240 --> 00:13:07.510\nNow, our destination is simply gonna\nbe the WAN address, the outside port.\n\n234\n00:13:07.510 --> 00:13:10.270\nWhy?\nBecause that's the only public IP address\n\n235\n00:13:10.270 --> 00:13:11.650\nI have access to.\n\n236\n00:13:11.650 --> 00:13:14.040\nIf I'm implementing port forwarding,\nthat's usually the reason why.\n\n237\n00:13:14.040 --> 00:13:15.920\nI only have this one IP address.\n\n238\n00:13:16.920 --> 00:13:21.920\nAnd then we can select\nthe destination port range.\n\n239\n00:13:21.920 --> 00:13:24.530\nSo if I click on here, and\n\n240\n00:13:24.530 --> 00:13:29.630\nI select MS RDP, notice it puts\nit into both fields here, okay.\n\n241\n00:13:29.630 --> 00:13:30.680\nAnd that will kind of do it.\n\n242\n00:13:30.680 --> 00:13:35.250\nThat actually is that port 3389 and\nwe are fine, and we are ready to go.\n\n243\n00:13:35.250 --> 00:13:37.780\nNow there comes a problem though, okay.\n\n244\n00:13:37.780 --> 00:13:40.830\nDaniel, if you were to do\nsome kind of scanning attack\n\n245\n00:13:40.830 --> 00:13:43.330\nnow against my firewall, okay?\n\n246\n00:13:43.330 --> 00:13:46.240\nI now have this port open, right?\n\n247\n00:13:46.240 --> 00:13:51.233\nIt's not a hidden port, it probably\nscans and comes up 3389, right?\n\n248\n00:13:51.233 --> 00:13:55.700\n&gt;&gt; That's probably what it will do and\nthen it would tell me obviously,\n\n249\n00:13:55.700 --> 00:13:58.430\n3389 is typically used for MS-RTP.\n\n250\n00:13:58.430 --> 00:14:01.658\nIf I'm looking for\nMS-RTP I would have hit the gold mine and\n\n251\n00:14:01.658 --> 00:14:03.930\nI'll start attacking his machine.\n\n252\n00:14:03.930 --> 00:14:07.310\n&gt;&gt; Yeah, and that's kind of not\nsomething we want to happen.\n\n253\n00:14:07.310 --> 00:14:09.110\nOkay, now don't get me wrong.\n\n254\n00:14:09.110 --> 00:14:12.290\nSometimes you just do it\nbecause you've got to do it.\n\n255\n00:14:12.290 --> 00:14:14.300\nYou don't know how else\nto do anything else.\n\n256\n00:14:14.300 --> 00:14:16.080\nBut there is something else you can do.\n\n257\n00:14:16.080 --> 00:14:21.190\nOkay, so what we wanna show you is this\nidea of redirecting the port, instead.\n\n258\n00:14:21.190 --> 00:14:24.250\nSo if I click on that drop\ndown menu instead, and\n\n259\n00:14:24.250 --> 00:14:26.860\nI scroll back all the way\nup here to the top.\n\n260\n00:14:26.860 --> 00:14:29.090\nNotice there is a chance for other.\n\n261\n00:14:29.090 --> 00:14:32.880\nAnd then the option\nright here says Custom.\n\n262\n00:14:32.880 --> 00:14:33.500\nOkay.\n\n263\n00:14:33.500 --> 00:14:37.110\nNow if I select Custom,\nI can now choose well,\n\n264\n00:14:37.110 --> 00:14:41.730\none of those dynamic numbers and the\ndynamic range of ports that are out there.\n\n265\n00:14:41.730 --> 00:14:46.570\nOr I can do something like,\nlet's just do something like,\n\n266\n00:14:46.570 --> 00:14:49.120\nsomething a little bit easier for\nme to remember.\n\n267\n00:14:49.120 --> 00:14:51.400\nSo let's just do like 6000.\n\n268\n00:14:51.400 --> 00:14:54.700\nYeah, 6000's actually a good\nround number for me to remember.\n\n269\n00:14:54.700 --> 00:14:59.290\nSo I can do 6000, and\nthen I can put 6000 here.\n\n270\n00:14:59.290 --> 00:14:59.870\nOkay.\n\n271\n00:14:59.870 --> 00:15:02.827\nNow Daniel,\ndo you know what resides on port 6000?\n\n272\n00:15:02.827 --> 00:15:03.477\n&gt;&gt; Not a clue.\n\n273\n00:15:03.477 --> 00:15:04.660\n&gt;&gt; Yeah, well guess what?\n\n274\n00:15:04.660 --> 00:15:05.720\nI don't have a clue, either.\n\n275\n00:15:05.720 --> 00:15:06.230\nOkay.\n\n276\n00:15:06.230 --> 00:15:07.227\nNot a single clue.\n\n277\n00:15:07.227 --> 00:15:10.550\nThere may actually be something\nthat resides there, usually not.\n\n278\n00:15:10.550 --> 00:15:15.230\nSomewhere about 5000 or so,\nin a 4192, somewhere around there.\n\n279\n00:15:15.230 --> 00:15:18.100\nWe kinda have them where\nthey're kinda open and\n\n280\n00:15:18.100 --> 00:15:21.570\navailable, but this is kind of that\nregistered area that you have,\n\n281\n00:15:21.570 --> 00:15:25.966\nas far as the port ranges go, but\nusually not used too often, okay?\n\n282\n00:15:25.966 --> 00:15:30.870\nNow, if I have this and\nDaniel kind of help me with, hopefully\n\n283\n00:15:30.870 --> 00:15:36.300\nmy logic is making sense, right, is that\nwhat I'm saying is, if I connect into\n\n284\n00:15:36.300 --> 00:15:41.370\nthe public IP address with port 6000 okay,\nit should port forward to somewhere.\n\n285\n00:15:41.370 --> 00:15:42.670\nNow, the problem that I have is,\n\n286\n00:15:42.670 --> 00:15:46.630\neven if it port-forwards\nto whatever 6000 is, okay?\n\n287\n00:15:46.630 --> 00:15:52.030\nThat machine may not be able to, maybe\nport 6000 is turned off, on that machine.\n\n288\n00:15:52.030 --> 00:15:53.651\n&gt;&gt; Correct.\n&gt;&gt; So, it doesn't work, okay.\n\n289\n00:15:53.651 --> 00:15:56.988\nBut what I told you is I wanted 3389,\nokay?\n\n290\n00:15:56.988 --> 00:16:02.470\nSo I changed it to 6000, but\nI really want port 3389.\n\n291\n00:16:02.470 --> 00:16:05.850\nMan, that's a little bit of a mess, right?\n\n292\n00:16:05.850 --> 00:16:09.170\nIt is, but let's show you how\nto actually fix that, okay?\n\n293\n00:16:09.170 --> 00:16:12.400\nSo this is where you can\nchange it right here.\n\n294\n00:16:12.400 --> 00:16:15.240\nOkay, now we're gonna change this\nback because we normally don't\n\n295\n00:16:15.240 --> 00:16:18.040\nneed to see anything like this too much.\n\n296\n00:16:18.040 --> 00:16:19.980\nBut if I do redirect target,\n\n297\n00:16:19.980 --> 00:16:25.250\nwhich is gonna be the destination which\nI believe is the correct one here.\n\n298\n00:16:25.250 --> 00:16:29.155\nNotice down here at the bottom\nwhere it says redirect target port.\n\n299\n00:16:30.724 --> 00:16:36.790\nSo now if I can find that MS RDP,\nthere we go here, okay?\n\n300\n00:16:36.790 --> 00:16:37.970\nSo, what does this say?\n\n301\n00:16:37.970 --> 00:16:42.590\nIt's saying that as it hits the firewall\non dot 70 dot whatever, okay,\n\n302\n00:16:42.590 --> 00:16:47.760\non port 6000, this target redirect says,\n\n303\n00:16:47.760 --> 00:16:54.990\nwhen it does that 6000,\nswitch it over to 3389 internally, okay?\n\n304\n00:16:54.990 --> 00:17:00.480\nNow, that sounds,\nif you I'm kind of a security beginner and\n\n305\n00:17:00.480 --> 00:17:04.750\ngo, man, that's cool cuz\nnow I've hidden 3389, okay?\n\n306\n00:17:04.750 --> 00:17:07.390\nBut it really isn't,\nit really isn't much security.\n\n307\n00:17:08.960 --> 00:17:14.740\nNow Daniel knows, Ronnie's using kind\nof a wonky kind of port number here.\n\n308\n00:17:14.740 --> 00:17:16.830\nHe's going to something else.\n\n309\n00:17:16.830 --> 00:17:20.730\nI bet you, somebody with Daniel's frame\nof mind, I bet you I can find out,\n\n310\n00:17:20.730 --> 00:17:22.130\nlet me just wait and see,\n\n311\n00:17:22.130 --> 00:17:25.050\nI bet you I can start seeing where\nthis thing will kind of end up.\n\n312\n00:17:25.050 --> 00:17:28.670\nAnd then realizing that even if he doesn't\ndo that, he can probably even try and\n\n313\n00:17:28.670 --> 00:17:31.330\ngo, well let's just start with kind\nof the stuff that we know that\n\n314\n00:17:31.330 --> 00:17:32.710\nmost people are gonna do.\n\n315\n00:17:32.710 --> 00:17:35.530\nLet me start with 3389,\nand what have I done?\n\n316\n00:17:35.530 --> 00:17:37.160\nHe kind of knows, okay?\n\n317\n00:17:37.160 --> 00:17:40.260\nSo this is where they talk about\nthe idea of obscurity, right,\n\n318\n00:17:40.260 --> 00:17:42.000\nmore than anything else.\n\n319\n00:17:42.000 --> 00:17:45.530\nIt doesn't really help as\nfar as true security, but\n\n320\n00:17:45.530 --> 00:17:49.710\nit's really just making Daniel kind\nof have to work a little bit harder.\n\n321\n00:17:49.710 --> 00:17:51.745\nAnd as much as that might sound fun,\n\n322\n00:17:51.745 --> 00:17:54.980\n[LAUGH] okay,\nit sounds annoying after a while.\n\n323\n00:17:54.980 --> 00:17:58.060\nAnd it becomes annoying cuz you have\nto keep track of all this stuff.\n\n324\n00:17:58.060 --> 00:17:59.870\nSo, not only do you have to have it here,\nright?\n\n325\n00:17:59.870 --> 00:18:04.460\nYou need to document this so\nthat when somebody starts to use, like,\n\n326\n00:18:04.460 --> 00:18:07.435\npftop and stuff, and\nthen they start going, well,\n\n327\n00:18:07.435 --> 00:18:10.228\nRonnie, what the heck is this\ntraffic coming in on port 6000?\n\n328\n00:18:10.228 --> 00:18:16.490\nI'm gonna go, I don't know, I don't\nhave a clue why this is getting through.\n\n329\n00:18:16.490 --> 00:18:17.085\n&gt;&gt; Malware?\n\n330\n00:18:17.085 --> 00:18:17.880\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n331\n00:18:17.880 --> 00:18:20.100\nthat's one of the first options, right?\n\n332\n00:18:20.100 --> 00:18:22.192\nOnce you start getting into\nthose kind of you know like-\n\n333\n00:18:22.192 --> 00:18:23.430\n&gt;&gt; Weird ports, yeah.\n\n334\n00:18:23.430 --> 00:18:29.440\n&gt;&gt; 3381, okay, something like that, right?\n\n335\n00:18:29.440 --> 00:18:32.190\nSo it can kinda trigger\nsome different things.\n\n336\n00:18:32.190 --> 00:18:35.390\nSo you do want to be careful\nwhen you start to take a look at\n\n337\n00:18:35.390 --> 00:18:36.650\nsomething like this.\n\n338\n00:18:36.650 --> 00:18:40.320\nSo I'm gonna change the spec cuz I\nreally don't want to, to try and\n\n339\n00:18:40.320 --> 00:18:41.640\ndo anything like that.\n\n340\n00:18:41.640 --> 00:18:45.160\nJust want a simple demonstration and\nmore than likely like me,\n\n341\n00:18:45.160 --> 00:18:49.120\nI just tend to overcomplicate things,\nis what ends up happening.\n\n342\n00:18:51.410 --> 00:18:56.190\nAll right, so let's see, yeah I get\nsome redirecting right there too.\n\n343\n00:18:56.190 --> 00:19:02.929\nAnd then for this one is allow,\nlet's see, allow port forwarding\n\n344\n00:19:06.670 --> 00:19:10.990\ntoclient01 okay?\n\n345\n00:19:10.990 --> 00:19:14.780\nDescriptions do help\nin this instance okay?\n\n346\n00:19:14.780 --> 00:19:17.600\nBecause if you have many of\nthese port forwarding rules,\n\n347\n00:19:18.680 --> 00:19:20.730\nit will really help okay.\n\n348\n00:19:20.730 --> 00:19:22.930\nNow, there are couple of\nother options down here.\n\n349\n00:19:22.930 --> 00:19:26.290\nNormally, we want to use whatever\nthe default is on the NAT reflection,\n\n350\n00:19:26.290 --> 00:19:30.370\nthat's perfectly fine but\nnotice this one down here.\n\n351\n00:19:30.370 --> 00:19:34.810\nFilter rule association, and that lets you\nknow something that it really is gonna\n\n352\n00:19:34.810 --> 00:19:37.230\ncreate something in the firewall for us.\n\n353\n00:19:37.230 --> 00:19:40.830\nSo now it says the pass selection\n\n354\n00:19:40.830 --> 00:19:43.610\ndoes not work appropriately\nwith multi-WAN selections.\n\n355\n00:19:43.610 --> 00:19:46.080\nSo it's saying allow this traffic to pass.\n\n356\n00:19:46.080 --> 00:19:48.850\nIf we don't put that into the firewall,\nif we don't actually insert that in\n\n357\n00:19:48.850 --> 00:19:51.930\nthe firewall, this particular\nport forward is not gonna work.\n\n358\n00:19:51.930 --> 00:19:56.070\nSo instead of making us kinda go, okay,\ndon't forget this is a two step process.\n\n359\n00:19:56.070 --> 00:19:59.960\nIt says, what, let me go ahead and\ncreate the associated rule for you.\n\n360\n00:19:59.960 --> 00:20:05.300\nThat's as nice as you can get,\nis somebody reminding you that says hey,\n\n361\n00:20:05.300 --> 00:20:08.510\nRonnie, port 40 is kind of neat.\n\n362\n00:20:08.510 --> 00:20:11.670\nIt will work, but\nonly if you remember this one thing.\n\n363\n00:20:11.670 --> 00:20:15.190\nSo, even if you set up every other field\nall the way through this thing, and\n\n364\n00:20:15.190 --> 00:20:17.760\nyou forgot to set up that rule,\nI bet you if you're like me,\n\n365\n00:20:17.760 --> 00:20:19.950\nyou kinda get really frustrated.\n\n366\n00:20:19.950 --> 00:20:24.728\nAnd then four hours later, somebody\nsays hey, did you implement that rule?\n\n367\n00:20:24.728 --> 00:20:25.984\nNo.\n[LAUGH]\n\n368\n00:20:25.984 --> 00:20:27.010\n&gt;&gt; [LAUGH]\n\n369\n00:20:27.010 --> 00:20:28.550\n&gt;&gt; So handing this off.\n\n370\n00:20:28.550 --> 00:20:29.540\nNow, do you have to?\n\n371\n00:20:29.540 --> 00:20:30.310\nNo.\n\n372\n00:20:30.310 --> 00:20:32.530\nNotice that you do have other options.\n\n373\n00:20:32.530 --> 00:20:34.360\nI can say no, I'll create the rule myself.\n\n374\n00:20:34.360 --> 00:20:35.050\nI can do None.\n\n375\n00:20:36.150 --> 00:20:38.810\nI can add an unassociated role filter.\n\n376\n00:20:38.810 --> 00:20:42.610\nIn other words, I can create one but\nnot really attach it to this thing, or\n\n377\n00:20:42.610 --> 00:20:44.790\nI can just say let it pass.\n\n378\n00:20:44.790 --> 00:20:46.540\nDon't even worry about filtering it.\n\n379\n00:20:46.540 --> 00:20:49.140\nIf you see it, just let it go on through.\n\n380\n00:20:49.140 --> 00:20:53.250\nNow, once you select Pass,\nit doesn't register anything else so\n\n381\n00:20:53.250 --> 00:20:54.770\nthere's actually a problem here, right?\n\n382\n00:20:54.770 --> 00:20:58.180\nThat means that you can't\nmatch the traffic very easily.\n\n383\n00:20:58.180 --> 00:20:59.140\nYou can't find it.\n\n384\n00:20:59.140 --> 00:21:02.010\nIt's not gonna get hit by\nany one of those rules and\n\n385\n00:21:02.010 --> 00:21:04.650\nso that means you have traffic that\nflows through your firewall that you\n\n386\n00:21:04.650 --> 00:21:08.150\ncan't really say that I could\nfilter that out very easily.\n\n387\n00:21:08.150 --> 00:21:11.040\nSo I normally like adding\nthat associated rule filter.\n\n388\n00:21:11.040 --> 00:21:12.880\nAnd I click Save here.\n\n389\n00:21:12.880 --> 00:21:15.980\nOnce I do, I verify my own logic, okay.\n\n390\n00:21:15.980 --> 00:21:20.600\nSo there it is on the WAN interface,\non TCP, coming from any source,\n\n391\n00:21:20.600 --> 00:21:26.570\nany source address, any source port,\ngoing to the WAN address on port 3389.\n\n392\n00:21:26.570 --> 00:21:34.990\nThat should end up getting NATed back\nto this one address here on port 3389.\n\n393\n00:21:34.990 --> 00:21:37.030\nAnd that's exactly what I want to happen.\n\n394\n00:21:38.090 --> 00:21:42.450\nIf I go ahead and select this now,\n\n395\n00:21:42.450 --> 00:21:44.710\nI should if everything\nis actually done right.\n\n396\n00:21:44.710 --> 00:21:46.710\nLet me go back to the firewall rules for\na moment so\n\n397\n00:21:46.710 --> 00:21:49.060\nthat we can see the rule\nthat was added in.\n\n398\n00:21:49.060 --> 00:21:54.590\nNow, notice right here at the bottom,\nI have a rule that was just added at\n\n399\n00:21:54.590 --> 00:21:59.580\nIPv4 TCP, and it says any source\ngoing to that one IP address on 3389,\n\n400\n00:21:59.580 --> 00:22:04.200\nand it also went ahead and\nentered in this description for us.\n\n401\n00:22:04.200 --> 00:22:06.540\nThat's a very nicely generated rule for\n\n402\n00:22:06.540 --> 00:22:09.900\nus that I didn't have to write\nwhich I really appreciate, okay?\n\n403\n00:22:09.900 --> 00:22:13.350\nAll right, so\nnow that everything is set up.\n\n404\n00:22:13.350 --> 00:22:15.140\nI need to find, this machine, okay.\n\n405\n00:22:15.140 --> 00:22:20.730\nNow the other thing that I have to verify\nof course is, hopefully I've turned on\n\n406\n00:22:20.730 --> 00:22:26.440\nthe connect her to accept for\nthe remote desktop connection.\n\n407\n00:22:26.440 --> 00:22:30.730\nSo let me right-click on the Windows\nbutton, and then Remote Settings and\n\n408\n00:22:30.730 --> 00:22:31.300\nVerify.\n\n409\n00:22:32.400 --> 00:22:36.470\nAnd here I've got it set up to allow for\nthe remote connections to this computer.\n\n410\n00:22:36.470 --> 00:22:38.570\nSo I know that everything is good there.\n\n411\n00:22:38.570 --> 00:22:39.740\nSo I don't have to change anything.\n\n412\n00:22:39.740 --> 00:22:41.370\nIf you don't do that, guess what?\n\n413\n00:22:41.370 --> 00:22:42.640\nIt's not gonna work yet either.\n\n414\n00:22:42.640 --> 00:22:47.120\nWhich can be frustrating, because the rule\nof pass and go is still not working.\n\n415\n00:22:47.120 --> 00:22:49.790\nWell, you gotta check on both ends there,\nokay?\n\n416\n00:22:49.790 --> 00:22:52.570\nSo then, I'm gonna bring up\nRemote Desktop Connection here.\n\n417\n00:22:54.020 --> 00:23:00.110\nMSTSC, which is kind of the actual\nexecutable name for this program.\n\n418\n00:23:00.110 --> 00:23:01.957\nAnd then from this point here,\n\n419\n00:23:01.957 --> 00:23:06.021\nI need to make sure I have the firewall\naddress typed in here, okay?\n\n420\n00:23:06.021 --> 00:23:13.596\nSo 70.184.147.137, and\nif I were using that remote port .6000,\n\n421\n00:23:13.596 --> 00:23:19.270\nI would simply type in a colon here,\n6000, okay.\n\n422\n00:23:19.270 --> 00:23:20.120\nBecause I'm not,\n\n423\n00:23:20.120 --> 00:23:23.510\nI'm just using the default,\nthis is saying connect to port 3389.\n\n424\n00:23:23.510 --> 00:23:26.340\nAnd then we click Connect, and\n\n425\n00:23:26.340 --> 00:23:30.460\nnow this is how you know that something at\nleast connected to the other side, okay?\n\n426\n00:23:30.460 --> 00:23:31.660\nIf you don't get this.\n\n427\n00:23:31.660 --> 00:23:34.110\nYou'll normally get where it says,\nyeah, we can't make that connection.\n\n428\n00:23:34.110 --> 00:23:34.980\nWe don't know why.\n\n429\n00:23:34.980 --> 00:23:35.660\nOkay?\n\n430\n00:23:35.660 --> 00:23:41.651\nNow I'm gonna use another one here,\nwhich is gonna be client01.\n\n431\n00:23:41.651 --> 00:23:42.762\nThen the name.\n\n432\n00:23:44.439 --> 00:23:47.360\nAnd as long as I can spell the password.\n\n433\n00:23:47.360 --> 00:23:48.634\nThis has been a challenge for me today.\n\n434\n00:23:48.634 --> 00:23:52.256\nDaniel's actually watched me in\nfrustration a couple of times try and go,\n\n435\n00:23:52.256 --> 00:23:54.679\nyeah that's the password\nthat should work here.\n\n436\n00:23:54.679 --> 00:23:56.518\nNow it should now connect.\n\n437\n00:23:56.518 --> 00:23:59.653\nIt has to go through those rules,\nlet's see what's happening.\n\n438\n00:23:59.653 --> 00:24:02.785\nOn the firewall itself and\nsee what we can see.\n\n439\n00:24:02.785 --> 00:24:06.143\nAnd you can see right here,\noops, I think you can see,\n\n440\n00:24:06.143 --> 00:24:08.560\nwhere it actually says port 3389.\n\n441\n00:24:08.560 --> 00:24:10.800\nHopefully you can see that, okay?\n\n442\n00:24:10.800 --> 00:24:15.060\nSo it does see the connection that\nI just tried to make right here.\n\n443\n00:24:15.060 --> 00:24:17.130\nNow, is it actually gonna\nallow me to pass through?\n\n444\n00:24:17.130 --> 00:24:18.560\nI'm not sure.\n\n445\n00:24:18.560 --> 00:24:22.160\nSo here we can take\na look at that as well.\n\n446\n00:24:22.160 --> 00:24:24.317\nAnd yep, so that's what happens.\n\n447\n00:24:24.317 --> 00:24:24.960\n&gt;&gt; Ronnie can't type a password.\n[LAUGH]\n\n448\n00:24:24.960 --> 00:24:25.970\n&gt;&gt; I tell you, I really can't.\n\n449\n00:24:25.970 --> 00:24:28.850\nSo, let's see if I can try it again.\n\n450\n00:24:28.850 --> 00:24:31.690\nClient zero one, and then Ronnie.\n\n451\n00:24:33.300 --> 00:24:39.560\nAnd this time, Let me spell it\nout in my head as I type it.\n\n452\n00:24:41.230 --> 00:24:42.260\n&gt;&gt; They covered it up with those things.\n\n453\n00:24:42.260 --> 00:24:43.862\n&gt;&gt; There it goes, yeah.\n&gt;&gt; [LAUGH]\n\n454\n00:24:43.862 --> 00:24:44.367\n&gt;&gt; Again,\n\n455\n00:24:44.367 --> 00:24:46.820\nI can't type worth a lick anyways.\n\n456\n00:24:46.820 --> 00:24:48.495\nDaniel's watched me on SQL shows.\n\n457\n00:24:48.495 --> 00:24:50.990\n[LAUGH]\n&gt;&gt; Ladies and gentlemen.\n\n458\n00:24:50.990 --> 00:24:52.218\n&gt;&gt; So yes, that's right.\n\n459\n00:24:52.218 --> 00:24:55.213\n&gt;&gt; [LAUGH]\n&gt;&gt; So I don't feel so bad for him today.\n\n460\n00:24:55.213 --> 00:24:57.860\nHe just watched me try\nto type in two words.\n\n461\n00:24:57.860 --> 00:24:59.722\nSQL, you were watching me\ntrying to type like 60 words.\n\n462\n00:24:59.722 --> 00:25:01.430\n&gt;&gt; Whole strings of words.\n\n463\n00:25:01.430 --> 00:25:01.982\nYeah, it was fun.\n\n464\n00:25:01.982 --> 00:25:02.660\n[LAUGH]\n&gt;&gt; Yeah.\n\n465\n00:25:02.660 --> 00:25:03.820\n&gt;&gt; So here it is.\n\n466\n00:25:03.820 --> 00:25:05.120\nThis it the key, right?\n\n467\n00:25:05.120 --> 00:25:08.270\nSo we have this certificate\nfrom the other computer.\n\n468\n00:25:08.270 --> 00:25:11.098\nI click yes, and there we go.\n\n469\n00:25:11.098 --> 00:25:12.417\n&gt;&gt; Ryan's greeted with himself.\n&gt;&gt; And there it is.\n\n470\n00:25:12.417 --> 00:25:13.229\n&gt;&gt; [LAUGH]\n&gt;&gt; Yes, that's right.\n\n471\n00:25:13.229 --> 00:25:15.680\n&gt;&gt; [LAUGH] So here we are.\n\n472\n00:25:15.680 --> 00:25:19.850\nWe are now using that remote desktop\nto get in from the internet, right?\n\n473\n00:25:19.850 --> 00:25:21.370\nTo be able to connect in.\n\n474\n00:25:21.370 --> 00:25:24.770\nNow if you do this, right,\nyou can all day long.\n\n475\n00:25:24.770 --> 00:25:26.850\nMore than likely if you're working for\n\n476\n00:25:26.850 --> 00:25:29.930\na company they're probably gonna\nrequire you to set up a VPN.\n\n477\n00:25:29.930 --> 00:25:32.690\nNow we've got shows coming up\non that a little bit later\n\n478\n00:25:32.690 --> 00:25:34.100\nto make sure that everything's connected.\n\n479\n00:25:34.100 --> 00:25:36.420\nEven if you want to do\nsomething like this.\n\n480\n00:25:36.420 --> 00:25:41.950\nBut overall though you have that ability\nto allow for even access to your resources\n\n481\n00:25:41.950 --> 00:25:47.550\ninternally, even on a small home\nnetwork if you choose to do this.\n\n482\n00:25:47.550 --> 00:25:53.110\nNow, ideally, right, what you would do is\nyou would also register with Dynamic DNS\n\n483\n00:25:53.110 --> 00:25:58.110\ninstead and that makes it a whole\nworld easier, right, to be able to.\n\n484\n00:25:58.110 --> 00:26:00.820\nHere again is the dread thing that I\n\n485\n00:26:00.820 --> 00:26:03.920\nwas making fun of a little\nbit in the static net, right?\n\n486\n00:26:03.920 --> 00:26:04.930\nNotice the IP address.\n\n487\n00:26:04.930 --> 00:26:09.130\nSo as long as you can remember what\nyour public IP address is all the time,\n\n488\n00:26:09.130 --> 00:26:12.665\nand what exact port number\nthat you wanted to connect to,\n\n489\n00:26:12.665 --> 00:26:14.505\nthen Daniel you're perfectly fine, but.\n\n490\n00:26:14.505 --> 00:26:16.718\n&gt;&gt; Well just tattoo it to your forearm or\nsomething, right?\n\n491\n00:26:16.718 --> 00:26:19.530\n&gt;&gt; [LAUGH] Yeah, but\nusing something like Dynamic DNS, right?\n\n492\n00:26:19.530 --> 00:26:20.890\nOne of those services that's out there.\n\n493\n00:26:20.890 --> 00:26:22.730\nThere's still some free ones out there.\n\n494\n00:26:22.730 --> 00:26:24.360\nWell it makes it much easier,\n\n495\n00:26:24.360 --> 00:26:27.958\nyou type in whatever the strange\nDNS name that you're gonna get.\n\n496\n00:26:27.958 --> 00:26:32.130\nAnd then that port number, and\nyou are off and you are ready to go.\n\n497\n00:26:32.130 --> 00:26:35.040\nSo really a great feature,\nsomething that's implemented\n\n498\n00:26:35.040 --> 00:26:38.110\nin this firewall that we don't tend to\nsee in a lot of enterprise firewalls.\n\n499\n00:26:38.110 --> 00:26:42.090\nBut, that's because pfSense didn't think\nthat the only thing that they were gonna\n\n500\n00:26:42.090 --> 00:26:45.340\nserve was businesses They\nthought about the entire package\n\n501\n00:26:45.340 --> 00:26:48.590\nthat people would want to use this\nat home, business, small business,\n\n502\n00:26:48.590 --> 00:26:50.780\nmedium business, even enterprises.\n\n503\n00:26:50.780 --> 00:26:53.690\nSo they gave you the whole gamut\nof things that you can do.\n\n504\n00:26:53.690 --> 00:26:55.280\nAnd relatively easy to set up.\n\n505\n00:26:55.280 --> 00:26:58.540\n&gt;&gt; And we are glad for\nthat very fact that they decided hey,\n\n506\n00:26:58.540 --> 00:27:01.440\nyou know what,\nlet's let everyone play with pfSense.\n\n507\n00:27:01.440 --> 00:27:03.690\nLet's put it everywhere\nwe can get it to go.\n\n508\n00:27:03.690 --> 00:27:07.710\nAnd he is right if I wanna get my Xbox\ngoing with X box lab and host parties and\n\n509\n00:27:07.710 --> 00:27:11.230\nstuff, port forwarding is something\nthat you would do in a home network.\n\n510\n00:27:11.230 --> 00:27:14.650\nIf you're in the corporate size network\ndoing something like what Ronnie's doing,\n\n511\n00:27:14.650 --> 00:27:19.640\nenabling RDP from the outside,\nthis might be the exact solution for you.\n\n512\n00:27:19.640 --> 00:27:21.375\nPort forwarding is an interesting\npiece of technology.\n\n513\n00:27:21.375 --> 00:27:23.530\n&gt;&gt; [LAUGH]\n&gt;&gt; It's a very cool concept, and\n\n514\n00:27:23.530 --> 00:27:25.770\na smart person came up with this idea, or\n\n515\n00:27:25.770 --> 00:27:30.280\nsmart group of people, came up with this\nidea and it works really, really well.\n\n516\n00:27:30.280 --> 00:27:33.125\nAs you saw, it's not too\ndifficult to implement either, so\n\n517\n00:27:33.125 --> 00:27:34.825\njust choose the right thing for\nyour environment.\n\n518\n00:27:34.825 --> 00:27:37.455\nRonnie, is there anything else we need\nto go over before we call a quits?\n\n519\n00:27:37.455 --> 00:27:39.095\n&gt;&gt; Well, just like last time, right?\n\n520\n00:27:39.095 --> 00:27:42.445\nThere's always things in my mind that\nI said, I should have showed you this.\n\n521\n00:27:42.445 --> 00:27:44.975\nWell, I have the opportunity to do\nthis before the end of the episode.\n\n522\n00:27:44.975 --> 00:27:47.305\nSo, let me show you just one last thing.\n\n523\n00:27:47.305 --> 00:27:48.725\nIt's always about verification, right?\n\n524\n00:27:48.725 --> 00:27:50.985\nThe true verification is that we\ncould get in there, which is cool.\n\n525\n00:27:50.985 --> 00:27:53.668\n&gt;&gt; Yes.\nBut the other one is right back here on\n\n526\n00:27:53.668 --> 00:27:58.075\nthe firewall rules and I wanted to\nshow you, here it is again, right?\n\n527\n00:27:58.075 --> 00:28:02.490\nSo this is another one that kinda let's\nyou know that the rule is working.\n\n528\n00:28:02.490 --> 00:28:05.019\nSo remember that if you don't\nsee this after setting it up and\n\n529\n00:28:05.019 --> 00:28:08.343\nmaking connection and hitting refresh,\nyou don't see these numbers change,\n\n530\n00:28:08.343 --> 00:28:10.740\nmore than likely it means\nyour rule isn't working.\n\n531\n00:28:10.740 --> 00:28:11.730\nNow did you get connected?\n\n532\n00:28:11.730 --> 00:28:14.800\nYes, should you try and\nsuss out why you got connected but\n\n533\n00:28:14.800 --> 00:28:16.280\nit's not hitting the rule?\n\n534\n00:28:16.280 --> 00:28:17.340\nYes, okay.\n\n535\n00:28:17.340 --> 00:28:21.440\nSo just kinda realize yes, those\nare things you definitely have to do.\n\n536\n00:28:21.440 --> 00:28:23.660\nBut at least here you can verify that,\nright?\n\n537\n00:28:23.660 --> 00:28:26.960\nSo once you actually start seeing\nthat you always wanna keep your\n\n538\n00:28:26.960 --> 00:28:28.110\neyes on these things.\n\n539\n00:28:28.110 --> 00:28:32.440\nIt really does help you out without you\nhaving to go and search out a ton of stuff\n\n540\n00:28:32.440 --> 00:28:35.710\nto see the effectiveness of what\nhas changed on your firewall.\n\n541\n00:28:35.710 --> 00:28:38.290\nSo, just last minute thing that\nI wanted to show there too.\n\n542\n00:28:38.290 --> 00:28:39.490\n&gt;&gt; All right, awesome stuff.\n\n543\n00:28:39.490 --> 00:28:41.770\nWell, looks like it's that time again,\nLadies and Gents.\n\n544\n00:28:41.770 --> 00:28:44.660\nThanks for watching today but\nwe are ready to sign off.\n\n545\n00:28:44.660 --> 00:28:47.370\nFor ITPro TV I've been your host,\nDaniel Lowry.\n\n546\n00:28:47.370 --> 00:28:48.390\n&gt;&gt; And I'm Ronnie Wong.\n\n547\n00:28:48.390 --> 00:28:50.487\n&gt;&gt; We'll see you next time.\n\n548\n00:28:50.487 --> 00:28:56.583\n[MUSIC]\n\n549\n00:28:56.583 --> 00:28:59.693\n&gt;&gt; Thank you for watching IT Pro TV.\n\n",
          "vimeoId": "197293677"
        }
      ],
      "title": "Implement NAT"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Ronnie explain and demonstrate setting up the DHCP options in pfSense. They begin by discussing why you would want to employ DHCP in your network and then show you each step to configure it through the pfSense web GUI.",
          "length": "1833",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-1-configure_dhcp_on_pfsense-121616.00_30_56_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-1-configure_dhcp_on_pfsense-121616.00_30_56_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-1-configure_dhcp_on_pfsense-121616.00_30_56_13.Still001-sm.jpg",
          "title": "Configure DHCP on pfSense",
          "transcript": "WEBVTT\n\n1\n00:00:00.002 --> 00:00:06.729\nWelcome to ITProTV,\nI'm your host Don Pezet, [CROSSTALK]\n\n2\n00:00:06.729 --> 00:00:08.445\n[MUSIC]\n\n3\n00:00:08.445 --> 00:00:12.023\nYou're watching ITProTV.\n\n4\n00:00:12.023 --> 00:00:16.430\nAll right greetings everyone, and welcome\nto another exciting episode of ITProTV.\n\n5\n00:00:16.430 --> 00:00:18.000\nI'm you're host Daniel Lowrie and\n\n6\n00:00:18.000 --> 00:00:20.837\nin today's episode we're\ncontinuing on with pfSense series.\n\n7\n00:00:20.837 --> 00:00:25.068\nOf course,\nthe version in today's episode is 2.3.2.\n\n8\n00:00:25.068 --> 00:00:26.342\nGotta throw that on there to make\nsure you don't get confused.\n\n9\n00:00:26.342 --> 00:00:29.810\n&gt;&gt; [LAUGH]\n&gt;&gt; And you hear the hyena next to me.\n\n10\n00:00:29.810 --> 00:00:33.160\nThat is our good friend,\nMr Ronnie Wong, laughing it up.\n\n11\n00:00:33.160 --> 00:00:34.550\nRonnie, how's it going today?\n\n12\n00:00:34.550 --> 00:00:36.069\n&gt;&gt; It is going great today.\n\n13\n00:00:36.069 --> 00:00:39.174\nAs you try and actually remember all of\nthe numbers that we have to remember,\n\n14\n00:00:39.174 --> 00:00:40.290\njust for pfSense.\n\n15\n00:00:40.290 --> 00:00:45.209\nYeah, it is kind of a little bit confusing\nthat they keep incrementing 2.3.2, and\n\n16\n00:00:45.209 --> 00:00:48.038\nthen there will be a 2.3.2.1 one day.\n\n17\n00:00:48.038 --> 00:00:49.007\n&gt;&gt; That's fine.\n\n18\n00:00:49.007 --> 00:00:50.049\nWe'll do that show next, right?\n\n19\n00:00:50.049 --> 00:00:51.500\n&gt;&gt; Yeah, you know it's coming one day.\n\n20\n00:00:51.500 --> 00:00:52.710\nBut the very fact is,\n\n21\n00:00:52.710 --> 00:00:58.780\ntoday we're taking a look at services that\nwe can also run on our pfSense firewall.\n\n22\n00:00:58.780 --> 00:01:01.420\nSo primarily pfSense of course,\n\n23\n00:01:01.420 --> 00:01:07.260\nthe reason why we tend to use it\nis its ability to be a firewall.\n\n24\n00:01:07.260 --> 00:01:12.775\nBut there are also different services\nthat the pfSense it can run for us,\n\n25\n00:01:12.775 --> 00:01:20.725\nthat we don't actually need a lot\nof extra resources to run them.\n\n26\n00:01:20.725 --> 00:01:23.835\nUnless we have something really big and\ngigantic to do.\n\n27\n00:01:23.835 --> 00:01:28.845\nSo for example, if you were to take\na pfSense firewall, and you were to say,\n\n28\n00:01:28.845 --> 00:01:33.320\nhey, could I possibly be able\nto handle things like DNS and\n\n29\n00:01:33.320 --> 00:01:36.270\nDHCP and a few other services?\n\n30\n00:01:36.270 --> 00:01:37.490\nYou better believe it can.\n\n31\n00:01:37.490 --> 00:01:40.610\nNow it might not be able to do\nsome like an LDAP directory or\n\n32\n00:01:40.610 --> 00:01:43.270\nan active directory network for you.\n\n33\n00:01:43.270 --> 00:01:46.690\nBut at least as far as some\nof the basic services go,\n\n34\n00:01:46.690 --> 00:01:49.650\nit means we don't have to\ninstall a lot of other things.\n\n35\n00:01:49.650 --> 00:01:53.410\nSo you don't have to bring up another\nserver to do anything like that.\n\n36\n00:01:53.410 --> 00:01:56.660\nIt actually does it for\nus inside of pfSense.\n\n37\n00:01:56.660 --> 00:02:01.550\nSo today we wanna focus in on,\nof course, using DHCP.\n\n38\n00:02:01.550 --> 00:02:07.950\nIn a small network, it might not even\nbe worth the trouble to configure DHCP.\n\n39\n00:02:07.950 --> 00:02:10.760\nNow just when I say that everybody's\nprobably jumping up and are like,\n\n40\n00:02:10.760 --> 00:02:12.250\nare like you joking me.\n\n41\n00:02:12.250 --> 00:02:13.300\nIt's configured automatically.\n\n42\n00:02:13.300 --> 00:02:16.600\nEven my wireless router at home runs DHCP.\n\n43\n00:02:16.600 --> 00:02:19.280\nSo Ronnie,\nwhy would you say that's not worth it?\n\n44\n00:02:19.280 --> 00:02:24.540\nWell, if I only have two or three devices,\nI really don't need DHCP running.\n\n45\n00:02:24.540 --> 00:02:27.170\nI can just go around to\nevery single device and\n\n46\n00:02:27.170 --> 00:02:32.159\nstatically set up the IP address,\nthe subnet mask, and the default gateway.\n\n47\n00:02:33.170 --> 00:02:36.790\nAnd even a couple of DNS\nservers on those machines.\n\n48\n00:02:36.790 --> 00:02:39.340\nAnd the very fact is,\nif I only have two or three,\n\n49\n00:02:39.340 --> 00:02:42.180\nI'm probably not gonna worry\nabout too many other devices.\n\n50\n00:02:42.180 --> 00:02:45.050\nSo as long as I pick whatever\nnetwork that I want to, and\n\n51\n00:02:45.050 --> 00:02:48.900\nmy firewall as my default gateway,\nI'm fine, okay.\n\n52\n00:02:48.900 --> 00:02:53.502\nSo, if people are not moving in and\noff of my network very often, or at all,\n\n53\n00:02:53.502 --> 00:02:56.218\nthen that's probably\none of the ways to go.\n\n54\n00:02:56.218 --> 00:02:59.240\nI don't have to worry about\nanother service possibly failing.\n\n55\n00:02:59.240 --> 00:03:02.620\nI can just handle it by me statically\nassigning those addresses and\n\n56\n00:03:02.620 --> 00:03:03.970\nI'm ready to go.\n\n57\n00:03:03.970 --> 00:03:06.390\nBut that's not always the case.\n\n58\n00:03:06.390 --> 00:03:10.810\nNow, when it comes down to the idea\nof actually being able to dynamically\n\n59\n00:03:10.810 --> 00:03:14.820\nmanage your network, though,\nDHTP may be the way to go.\n\n60\n00:03:14.820 --> 00:03:18.070\nSo we'll put Daniel to the test here,\nsince Daniel used to work for\n\n61\n00:03:18.070 --> 00:03:19.520\na big insurance company.\n\n62\n00:03:19.520 --> 00:03:24.180\nDaniel, let's say that instead that what\nyou wanna do was to be able to hand out\n\n63\n00:03:24.180 --> 00:03:29.930\nlike an IP address, a subnet mask,\ndefault gateway, DNS servers.\n\n64\n00:03:29.930 --> 00:03:33.930\nAnd let's say even VOIP phone options, and\n\n65\n00:03:33.930 --> 00:03:38.320\nyou didn't have something\nlike DHCP going on.\n\n66\n00:03:38.320 --> 00:03:40.710\nDaniel, at the insurance\noffice you worked at,\n\n67\n00:03:40.710 --> 00:03:44.290\nhow long do you think it might take you,\nlet's just say for one floor?\n\n68\n00:03:44.290 --> 00:03:45.260\n&gt;&gt; One floor?\n\n69\n00:03:45.260 --> 00:03:47.430\nBy the time I got done\nwith that one floor,\n\n70\n00:03:47.430 --> 00:03:50.530\nit'd be time to go back and\nre-service that same floor.\n\n71\n00:03:50.530 --> 00:03:55.233\nSo it would be the never-ending,\nrevolving IP addressing.\n\n72\n00:03:55.233 --> 00:03:56.585\n&gt;&gt; Yeah, it would.\n\n73\n00:03:56.585 --> 00:03:59.810\nIt would be one of those things\nwhich is very difficult, okay, and\n\n74\n00:03:59.810 --> 00:04:01.650\nthen if anything changes, right?\n\n75\n00:04:01.650 --> 00:04:03.380\nAnd that's what Daniel's talking about.\n\n76\n00:04:03.380 --> 00:04:06.920\nAll of a sudden, of course,\nDaniel has a boss above him,\n\n77\n00:04:06.920 --> 00:04:09.020\nwhich I doubt too many\npeople are above him.\n\n78\n00:04:09.020 --> 00:04:11.430\nBut when he has a boss above him that's,\nDaniel,\n\n79\n00:04:11.430 --> 00:04:14.080\nI think I'd like to change\nthe IP scheme to this.\n\n80\n00:04:14.080 --> 00:04:16.350\nDaniel would probably look them\nright in the face and just walk out.\n\n81\n00:04:16.350 --> 00:04:20.350\nIf something like that were to happen,\nif he had to statically assign that.\n\n82\n00:04:20.350 --> 00:04:22.980\nBut instead, Daniel-\n&gt;&gt; I would walk around with a letter of\n\n83\n00:04:22.980 --> 00:04:26.160\nresignation in my pocket,\nif that was the case [LAUGH].\n\n84\n00:04:26.160 --> 00:04:29.660\n&gt;&gt; Because imagine having to manually\ntouch every single machine and\n\n85\n00:04:29.660 --> 00:04:30.640\nevery device, right?\n\n86\n00:04:30.640 --> 00:04:33.207\nSo I'm not just talking about laptops or\ndesktops, right?\n\n87\n00:04:33.207 --> 00:04:39.060\nPrinters, of IP phones that\nmight be out there, you name it.\n\n88\n00:04:39.060 --> 00:04:42.165\nWhatever device that needed to\nconnect to network, Daniel or I, or\n\n89\n00:04:42.165 --> 00:04:44.568\nwhoever he assigned would\nactually have to do this.\n\n90\n00:04:44.568 --> 00:04:46.815\nBut then, by the end of that time,\nit was only Daniel.\n\n91\n00:04:46.815 --> 00:04:49.425\nIt'd take him a long\ntime to get through that.\n\n92\n00:04:49.425 --> 00:04:54.340\nSo running something like DHCP,\nthe idea here of actually doing\n\n93\n00:04:54.340 --> 00:04:59.250\nthe dynamic host configuration protocol,\ngives Daniel the ability then\n\n94\n00:04:59.250 --> 00:05:03.440\nto really only have to configure\nthe device one time, okay.\n\n95\n00:05:03.440 --> 00:05:08.130\nMake one bit configuration, and\nthen all the other devices that\n\n96\n00:05:08.130 --> 00:05:13.480\nwill be on the same network\nas that one DHCP server.\n\n97\n00:05:13.480 --> 00:05:14.120\nWell, guess what?\n\n98\n00:05:14.120 --> 00:05:17.900\nThat DHCP server can handle\nthose services instead.\n\n99\n00:05:17.900 --> 00:05:21.992\nAnd it makes it much more flexible\nwhen something like this happens.\n\n100\n00:05:21.992 --> 00:05:27.570\nWhere halfway through, let's say the year,\nit's time for that end of life cycle.\n\n101\n00:05:27.570 --> 00:05:31.210\nWhere that insurance company\nmay be upgrading from\n\n102\n00:05:31.210 --> 00:05:34.600\nan old set of IP phones to\na new set of IP phones.\n\n103\n00:05:34.600 --> 00:05:37.730\nAnd there may be another option\nthat has to be installed in there.\n\n104\n00:05:37.730 --> 00:05:40.740\nWell, Daniel doesn't have to have them\ngo around to every single phone and\n\n105\n00:05:40.740 --> 00:05:42.160\njust manually have to go okay.\n\n106\n00:05:42.160 --> 00:05:45.975\nI'm gonna punch 2 for this option,\npunch 4 for this option, punch 6.\n\n107\n00:05:45.975 --> 00:05:48.453\nNow I have to actually figure out\nwhat the hexadecimal code is,\n\n108\n00:05:48.453 --> 00:05:49.830\ncompared to the keypad.\n\n109\n00:05:49.830 --> 00:05:55.530\nAnd punch that option for whatever it\nneeds to be set, for every single phone.\n\n110\n00:05:55.530 --> 00:06:00.150\nInstead, Daniel can go in there as well,\ninto the DHCP server and\n\n111\n00:06:00.150 --> 00:06:01.510\nchange the option.\n\n112\n00:06:01.510 --> 00:06:05.800\nAnd then when those phones come on line,\nit'll automatically be distributed out.\n\n113\n00:06:05.800 --> 00:06:09.220\nAnd that's something that's great, and\nthat's something that should happen.\n\n114\n00:06:09.220 --> 00:06:13.000\nSo the great thing is,\na lot of times when you start to see this\n\n115\n00:06:13.000 --> 00:06:18.050\nin the networking world, normally because\nI came from really a Microsoft background,\n\n116\n00:06:18.050 --> 00:06:21.400\nI always think about\nimplementing Microsoft DHCP.\n\n117\n00:06:21.400 --> 00:06:23.840\nAnd of course this integration\nin with Active Directory and\n\n118\n00:06:23.840 --> 00:06:25.610\na lot of different things.\n\n119\n00:06:25.610 --> 00:06:29.145\nBut really when it comes down to\nmost small to medium networks,\n\n120\n00:06:29.145 --> 00:06:33.100\nwe probably don't need that much\ncontrol in that sense of doing it.\n\n121\n00:06:33.100 --> 00:06:36.821\nAnd something like a pfSense firewall\nmay actually just kinda be the best\n\n122\n00:06:36.821 --> 00:06:37.437\nbet for us.\n\n123\n00:06:37.437 --> 00:06:40.510\nBecause it means we don't have to\nworry about monitoring another server.\n\n124\n00:06:40.510 --> 00:06:44.730\nIt's all right here,\nkinda combined into the firewall itself.\n\n125\n00:06:44.730 --> 00:06:48.820\nSo when you start to take a look at it,\nthat may be the way to go.\n\n126\n00:06:48.820 --> 00:06:55.590\nNow, there's always questions about\nthe aspect of using DHCP on the firewall.\n\n127\n00:06:56.880 --> 00:07:00.690\nIs there an advantage to this, or\nis there a disadvantage to this?\n\n128\n00:07:00.690 --> 00:07:01.860\nWell not really.\n\n129\n00:07:01.860 --> 00:07:04.580\nThe very fact is it\nreally is just a service.\n\n130\n00:07:04.580 --> 00:07:09.120\nIf you just decide that look, I don't want\nto manage a DHTP server any more as far as\n\n131\n00:07:09.120 --> 00:07:12.360\na standalone server,\none integrated into Active Directory.\n\n132\n00:07:12.360 --> 00:07:14.000\nIt's perfectly fine.\n\n133\n00:07:14.000 --> 00:07:15.990\nThis will actually take its place.\n\n134\n00:07:15.990 --> 00:07:17.810\nA lot of times,\nyou may actually end up seeing,\n\n135\n00:07:17.810 --> 00:07:20.470\nespecially let's say,\nlike the idea of branch offices.\n\n136\n00:07:20.470 --> 00:07:22.960\nWhich I know that Daniel\nalso had to deal with.\n\n137\n00:07:22.960 --> 00:07:25.280\nHe may not have actually wanted to say,\nlook,\n\n138\n00:07:25.280 --> 00:07:30.450\nwe need to install a DHCP server at\nevery single branch office site.\n\n139\n00:07:30.450 --> 00:07:34.840\nBut the home office was far enough\naway from some of those branch sites\n\n140\n00:07:34.840 --> 00:07:38.850\nto where even the DHCP leases may\nbecome a little bit slow and trapped.\n\n141\n00:07:38.850 --> 00:07:41.900\nSo, he might be able to put\na firewall out there instead.\n\n142\n00:07:41.900 --> 00:07:46.450\nAnd open up DHCP, and allow those\nmachines to also get access as well.\n\n143\n00:07:46.450 --> 00:07:48.540\nSo, we can actually use\nit to our advantage,\n\n144\n00:07:48.540 --> 00:07:51.465\nespecially when we don't wanna\nadd in additional resources.\n\n145\n00:07:51.465 --> 00:07:55.218\nIt works perfectly fine,\nit's a fully functioning DHCP server.\n\n146\n00:07:55.218 --> 00:07:57.731\nAnd it's something worth\nour consideration,\n\n147\n00:07:57.731 --> 00:08:02.185\nand we're taking a look at it Tell you the\ntruth, really even right here at ITProTV,\n\n148\n00:08:02.185 --> 00:08:06.454\nwe've actually got DHTP working for every\nsingle one of the different V lands and\n\n149\n00:08:06.454 --> 00:08:08.640\nnetworks that we're working.\n\n150\n00:08:08.640 --> 00:08:10.350\nAnd it handles it just fine.\n\n151\n00:08:10.350 --> 00:08:15.270\nIt doesn't take a lot and when you talk on\nnetworks, we've got four or five different\n\n152\n00:08:15.270 --> 00:08:19.430\nwireless networks that we're running,\nand then we actually have four or\n\n153\n00:08:19.430 --> 00:08:24.930\nfive different actual wired LANs that\nwere running at the same time too.\n\n154\n00:08:24.930 --> 00:08:29.870\nAnd I've turned on DHCP servers for\neach and every one of them on the pfSense\n\n155\n00:08:29.870 --> 00:08:33.400\nfirewall, and\nthe performance has been just phenomenal.\n\n156\n00:08:33.400 --> 00:08:36.160\nAnything that you can do\nin a regular DHCP server,\n\n157\n00:08:36.160 --> 00:08:40.020\nyou can probably do right here on\nthe pfSense DHCP server as well.\n\n158\n00:08:40.020 --> 00:08:43.150\nSo let's go ahead and take a look at\nthe options that we can set up here, and\n\n159\n00:08:43.150 --> 00:08:45.740\nsome of the things that\nwe can do with DHCP.\n\n160\n00:08:47.000 --> 00:08:50.250\nFrom here we would go up to the top and\nwhat we're looking for\n\n161\n00:08:50.250 --> 00:08:56.010\nis not firewall, but services, and\nif I select Services at this point,\n\n162\n00:08:56.010 --> 00:08:59.534\nnoticed that I have these two actually\nfour options down here, right?\n\n163\n00:08:59.534 --> 00:09:04.400\nSo I can actually run DHCP not only for\nIP version 4, but\n\n164\n00:09:04.400 --> 00:09:09.290\nnotice I can actually run DHCP for IP\nversion 6, and this gives us the ability\n\n165\n00:09:09.290 --> 00:09:13.560\nto do the server as well as the router\nadvertisement at the same time.\n\n166\n00:09:13.560 --> 00:09:16.310\nNow the other advantage of doing this here\n\n167\n00:09:16.310 --> 00:09:21.180\nis we can also set this up as\na DHCP relay agent as well.\n\n168\n00:09:21.180 --> 00:09:24.930\nSo remember that when we talk about\nthe use of DHCP as normally within\n\n169\n00:09:24.930 --> 00:09:30.280\na single network and\nthat is because what DHCP uses broadcast.\n\n170\n00:09:30.280 --> 00:09:34.450\nSo with that idea of broadcast and\nlet's say that I wanted to run DHCP, but\n\n171\n00:09:34.450 --> 00:09:37.340\nto handle it for another network as well.\n\n172\n00:09:37.340 --> 00:09:40.090\nWell I might need what we\ncall that relay agent then.\n\n173\n00:09:40.090 --> 00:09:45.800\nThat will then change those DHCP packets\ninto the unicast packets when needed.\n\n174\n00:09:45.800 --> 00:09:50.450\nSo if it's on the other side of the router\nor on another port on the router,\n\n175\n00:09:50.450 --> 00:09:55.250\nwell what we can do is that once that DHCP\nclient starts issuing out the idea of\n\n176\n00:09:55.250 --> 00:09:59.600\na discover message well on the interface\nfor this firewall, the DHCP\n\n177\n00:09:59.600 --> 00:10:04.550\nserver can say I want to be a real agent\nand listening for these things and then it\n\n178\n00:10:04.550 --> 00:10:09.521\nsends it as a unicast back to the DHCP\nserver which is running right here again.\n\n179\n00:10:09.521 --> 00:10:15.071\nAnd then transmits it as a unicast back\nto that machine that's requesting it.\n\n180\n00:10:15.071 --> 00:10:19.282\nSo we can set up the idea of a relay\nagent as well before we do so\n\n181\n00:10:19.282 --> 00:10:25.184\nthe great thing is, you'll notice that it\nsays DHCP Server is currently enabled,\n\n182\n00:10:25.184 --> 00:10:30.890\ncannot enable relay while this service\nis enabled on any other interface.\n\n183\n00:10:30.890 --> 00:10:33.430\nSo it says look,\nyou're already running DHCP, so\n\n184\n00:10:33.430 --> 00:10:36.560\nyou're not really using\nthis as a relay right now.\n\n185\n00:10:36.560 --> 00:10:39.000\nSo it's not gonna let us do this.\n\n186\n00:10:39.000 --> 00:10:44.320\nBut if I go down to DHCP Server,\nyou'll see that normally, a lot\n\n187\n00:10:44.320 --> 00:10:48.770\nof times by default, you actually end up\nseeing that on every one of the tabs that\n\n188\n00:10:48.770 --> 00:10:54.185\nyou have available, which normally of\ncourse coordinates to an interface, right?\n\n189\n00:10:54.185 --> 00:10:57.250\nWhich then coordinates to of\ncourse some local area network.\n\n190\n00:10:57.250 --> 00:10:59.910\nYou'll probably end up seeing one of\nthose tabs, and I just went ahead and\n\n191\n00:10:59.910 --> 00:11:02.460\ngot rid of some of the interfaces\nto kind of clear up\n\n192\n00:11:02.460 --> 00:11:05.640\na lot of the junk that we were seeing in\nearlier episodes here that I'd created.\n\n193\n00:11:06.760 --> 00:11:08.230\nWe now have LAN.\n\n194\n00:11:08.230 --> 00:11:11.430\nAnd all we have to do to enable\nit is we can go ahead and\n\n195\n00:11:11.430 --> 00:11:16.220\nput a check mark here on Enable DHCP\nserver on this particular interface.\n\n196\n00:11:17.580 --> 00:11:20.470\nNow there's also some other\noptions that you have right here\n\n197\n00:11:20.470 --> 00:11:22.800\nthat you can set up as well.\n\n198\n00:11:22.800 --> 00:11:24.490\nDeny unknown clients.\n\n199\n00:11:24.490 --> 00:11:30.830\nOnly clients defined below will\nget DHCP leases from this server.\n\n200\n00:11:30.830 --> 00:11:36.450\nSo, this allows us to be able to limit\nthe number of IP addresses that are handed\n\n201\n00:11:36.450 --> 00:11:41.900\nout by DHCP if they're not already inside\nof a list of machines that I want.\n\n202\n00:11:41.900 --> 00:11:46.750\nSo, if I want to prevent the idea\nof somebody walking into my network\n\n203\n00:11:46.750 --> 00:11:50.665\nbeing able to access the wireless\nnetwork at the same time and\n\n204\n00:11:50.665 --> 00:11:53.800\nthen putting their device on my network.\n\n205\n00:11:53.800 --> 00:11:57.410\nWell I can do that,\nI can simply check this box here and\n\n206\n00:11:57.410 --> 00:12:02.930\nbelow, it gives me the ability\ndown here somewhere to create\n\n207\n00:12:02.930 --> 00:12:08.560\na mapping of some sort where I can go\nahead and also do that as well, okay?\n\n208\n00:12:08.560 --> 00:12:10.890\nSo we can define who gets a lease and\nwho doesn't.\n\n209\n00:12:10.890 --> 00:12:14.680\nUsually it's by the Mac address\na lot of times too, okay?\n\n210\n00:12:14.680 --> 00:12:18.750\nDenied clients will be ignored\nrather than just rejected.\n\n211\n00:12:18.750 --> 00:12:21.510\nSo here's another option that says\nnot compatible with failover,\n\n212\n00:12:21.510 --> 00:12:27.650\ncannot be enabled when failover for\npeer IP address is configured.\n\n213\n00:12:27.650 --> 00:12:32.896\nRemember that DHCP can run in\nconjunction with another PF.\n\n214\n00:12:32.896 --> 00:12:38.261\nDHCP on pfSense, excuse me, I'm\nstarting to get my words confused here,\n\n215\n00:12:38.261 --> 00:12:42.890\ncan run in conjunction with\nanother pfSense box as well.\n\n216\n00:12:42.890 --> 00:12:46.580\nAnd that is for the idea of fail-over and\nhigh availability.\n\n217\n00:12:46.580 --> 00:12:50.310\nSo if one machine fails,\nthen the other one can pick up.\n\n218\n00:12:51.310 --> 00:12:54.910\nNow, if you're going to do this,\nyou can't ignore that client\n\n219\n00:12:54.910 --> 00:12:58.440\nbecause what it does is it\nactually divides up that load or\n\n220\n00:12:58.440 --> 00:13:01.170\nactually redistributes it\nin the way that happens.\n\n221\n00:13:01.170 --> 00:13:04.110\nSo if one machine fails,\nthe other one automatically picks up and\n\n222\n00:13:04.110 --> 00:13:08.150\nstarts handing of the DHCP as well, okay?\n\n223\n00:13:08.150 --> 00:13:10.990\nSo, you have those options\navailable to you, and\n\n224\n00:13:10.990 --> 00:13:14.420\nit gives you a nice little warning of\nwhat you can do and what you can't.\n\n225\n00:13:14.420 --> 00:13:18.860\nSo, at this point, because it already\nknows some basic information,\n\n226\n00:13:18.860 --> 00:13:21.970\nthat we can see from the configuration\nwe had from the interface.\n\n227\n00:13:21.970 --> 00:13:25.040\nIt says,\nby default here's what you've set up here.\n\n228\n00:13:25.040 --> 00:13:28.850\nWhere you can have the entire\nrange of what you actually\n\n229\n00:13:28.850 --> 00:13:31.500\nsaid is the default gateway.\n\n230\n00:13:31.500 --> 00:13:34.110\nYou can also have of\ncourse the subnet mask and\n\n231\n00:13:34.110 --> 00:13:37.850\nfrom what we actually see here\nnotice it gives us that range.\n\n232\n00:13:37.850 --> 00:13:40.910\nAnd you may choose not to\nactually use the entire range.\n\n233\n00:13:40.910 --> 00:13:44.340\nSo what I did a little bit earlier is I\nset this range from 140 to 150 cuz I knew\n\n234\n00:13:44.340 --> 00:13:48.850\nI was only gonna have like two devices\nthere but I wanna see if we actually need\n\n235\n00:13:48.850 --> 00:13:53.140\nmore I can change this again,\nlet's do 160 to 190 here.\n\n236\n00:13:53.140 --> 00:14:00.270\nNow that of course depends on the need\nof your network, how many devices or\n\n237\n00:14:00.270 --> 00:14:04.660\nhow many IP addresses that you really\ndo end up needing to serve out there.\n\n238\n00:14:04.660 --> 00:14:08.760\nNow for our network, it was kind of\nstrange, we had it originally set for\n\n239\n00:14:08.760 --> 00:14:12.980\nlike 250 because we\nthought that'll be plenty.\n\n240\n00:14:12.980 --> 00:14:14.640\nMost people don't need 250.\n\n241\n00:14:14.640 --> 00:14:18.590\nIt didn't take long before we\nwere starting to hit that limit.\n\n242\n00:14:18.590 --> 00:14:21.370\nEven right when every\nmachine started moving in.\n\n243\n00:14:21.370 --> 00:14:24.000\nAnd we realized that we\nare running out of IP addresses.\n\n244\n00:14:24.000 --> 00:14:27.110\nSo we expanded it out to about 1,000.\n\n245\n00:14:27.110 --> 00:14:29.190\nAnd then we had our grand opening.\n\n246\n00:14:29.190 --> 00:14:31.390\nAnd all of a sudden,\nwe realized something.\n\n247\n00:14:31.390 --> 00:14:31.895\nGuess what?\n\n248\n00:14:31.895 --> 00:14:33.540\n1,000 almost pushed the limit too.\n\n249\n00:14:33.540 --> 00:14:35.930\nAnd you're wondering like,\nwhy would that be true?\n\n250\n00:14:35.930 --> 00:14:37.990\nWe had about 400 people here.\n\n251\n00:14:37.990 --> 00:14:42.240\nBut I forgot that like most people not\nonly have like a phone on them, but\n\n252\n00:14:42.240 --> 00:14:45.510\nthey also have the smart watch and\n\n253\n00:14:45.510 --> 00:14:49.640\nthen there were computers that were\non the network at the same time.\n\n254\n00:14:49.640 --> 00:14:54.600\nSo it started actually hitting that upper\nlimit of what we are taking a look at.\n\n255\n00:14:54.600 --> 00:14:56.810\nWe are not.\n&gt;&gt; If there's 400 people here and\n\n256\n00:14:56.810 --> 00:15:01.310\neverybody has two devices on them,\nyou're almost batting 1000 that point.\n\n257\n00:15:01.310 --> 00:15:03.150\n&gt;&gt; Yeah, and\nwhat you found out is that, yeah,\n\n258\n00:15:03.150 --> 00:15:05.520\nwe were right around 820 or\nsomewhere around there.\n\n259\n00:15:05.520 --> 00:15:06.690\nAnd so some people had more.\n\n260\n00:15:06.690 --> 00:15:08.360\nBut there were other devices, right?\n\n261\n00:15:08.360 --> 00:15:11.660\nWe actually are using about\n100 of those IP addresses\n\n262\n00:15:11.660 --> 00:15:13.340\nalready inside of our network.\n\n263\n00:15:14.470 --> 00:15:15.630\nSo we were really close.\n\n264\n00:15:15.630 --> 00:15:17.820\nSo we went ahead and\nwe bumped up the limit again.\n\n265\n00:15:17.820 --> 00:15:19.500\nAnd you might wonder,\nlike what are you doing?\n\n266\n00:15:19.500 --> 00:15:21.210\nWell you're changing the subnet mask.\n\n267\n00:15:21.210 --> 00:15:22.950\nYou're actually having to do that.\n\n268\n00:15:22.950 --> 00:15:26.000\nBut overall you can actually create\nthat range, and they can get it for you.\n\n269\n00:15:27.280 --> 00:15:31.590\nNow, as we scroll on down through here,\nnotice that there's some other things that\n\n270\n00:15:31.590 --> 00:15:34.450\nwe can set up if we\nalso wanted to as well.\n\n271\n00:15:34.450 --> 00:15:36.030\nYou have the ability\nto set up WIN servers.\n\n272\n00:15:36.030 --> 00:15:40.720\nI don't know, Daniel do you remember\nthe last time you talked about WINs and\n\n273\n00:15:40.720 --> 00:15:41.810\nsetting up the server?\n\n274\n00:15:41.810 --> 00:15:43.112\n&gt;&gt; Yeah, I do.\n\n275\n00:15:43.112 --> 00:15:46.900\nActually, We did use WINs for\na short while.\n\n276\n00:15:46.900 --> 00:15:48.270\nAt the insurance company I worked for.\n\n277\n00:15:48.270 --> 00:15:52.330\nSo it became a pain and so we shut\nthat off, because A: We don't need it,\n\n278\n00:15:52.330 --> 00:15:54.407\nwe have DNS it's a wonderful thing.\n\n279\n00:15:54.407 --> 00:15:59.211\nBut every now and then you will run\nacross someone who's tried and true wins.\n\n280\n00:15:59.211 --> 00:16:02.070\nAnd you'll have to set that up.\n\n281\n00:16:02.070 --> 00:16:04.498\n&gt;&gt; Last time that that\nhappened to me was 2004.\n\n282\n00:16:04.498 --> 00:16:05.847\n[LAUGH] That's what I can remember.\n\n283\n00:16:05.847 --> 00:16:06.630\n&gt;&gt; That's a while back.\n\n284\n00:16:06.630 --> 00:16:07.549\n&gt;&gt; Yeah.\n\n285\n00:16:07.549 --> 00:16:10.368\nWhen someone says, let's set up\na WIND server and you're like what?\n\n286\n00:16:10.368 --> 00:16:13.278\n&gt;&gt; That's weird [LAUGH]\n&gt;&gt; Even at 2004, you're coming at okay,\n\n287\n00:16:13.278 --> 00:16:15.800\nwe still need the, yeah sure, okay.\n\n288\n00:16:15.800 --> 00:16:19.530\nGo and do it, but\nI haven't had to do that in a long time.\n\n289\n00:16:19.530 --> 00:16:22.390\nNow, of course you also\nhave your DNS servers.\n\n290\n00:16:22.390 --> 00:16:25.110\nNow, if you're running\nan active directory network,\n\n291\n00:16:25.110 --> 00:16:27.950\nyou're probably gonna want\nthe DNS servers to be whatever\n\n292\n00:16:27.950 --> 00:16:31.660\nDNS servers you actually have with\nyour active directory as well.\n\n293\n00:16:31.660 --> 00:16:35.100\nI just picked these that are generic for\nour example here, and\n\n294\n00:16:35.100 --> 00:16:38.990\nyou can set up as many as you want to,\nbut there you have those options.\n\n295\n00:16:38.990 --> 00:16:42.370\nSo, all of this information that\nwe're essentially typing in here, and\n\n296\n00:16:42.370 --> 00:16:47.370\nwe're selecting, it can be handed out\nby using DHCP as pretty much the key.\n\n297\n00:16:47.370 --> 00:16:49.140\nThere's also the gateway.\n\n298\n00:16:49.140 --> 00:16:53.300\nAnd another option that you wanna set\nat this point is this domain name,\n\n299\n00:16:53.300 --> 00:16:55.840\nif you have the chance to do so.\n\n300\n00:16:55.840 --> 00:17:00.030\nAnd this will work in conjunction,\nwe'll have another show on DNS.\n\n301\n00:17:00.030 --> 00:17:04.070\nAnd this will help work in conjunction\nwith the way that we can also use well,\n\n302\n00:17:04.070 --> 00:17:09.920\npfSense as a DNS server,\na caching DNS server for us if we want.\n\n303\n00:17:09.920 --> 00:17:12.930\nSo, always at least setup that.\n\n304\n00:17:12.930 --> 00:17:15.980\nNow, there are a couple of other\nthings that we can also setup that's\n\n305\n00:17:15.980 --> 00:17:17.970\nalso important too.\n\n306\n00:17:17.970 --> 00:17:20.405\nSo I'm gonna use the word also\n96 times here on the show.\n\n307\n00:17:20.405 --> 00:17:23.105\n&gt;&gt; [LAUGH]\n&gt;&gt; When we take\n\n308\n00:17:23.105 --> 00:17:26.206\na look at default lease time,\nnormally like for\n\n309\n00:17:26.206 --> 00:17:31.250\nMicrosoft I think it's an eight\nday lease if I remember correctly.\n\n310\n00:17:31.250 --> 00:17:35.340\nThis one by default is 7200 seconds,\nand so\n\n311\n00:17:35.340 --> 00:17:40.360\nif I divide that by 6 that's about 60.\n\n312\n00:17:40.360 --> 00:17:42.909\nWhat would that be?\n\n313\n00:17:42.909 --> 00:17:44.581\n72, 60.\n\n314\n00:17:44.581 --> 00:17:47.185\n&gt;&gt; Don't ask me, I can count to potato.\n\n315\n00:17:47.185 --> 00:17:49.800\n&gt;&gt; Yeah, well let's say about 12 hours or\nso, I think.\n\n316\n00:17:49.800 --> 00:17:52.240\nI could be wrong in that point.\n\n317\n00:17:52.240 --> 00:17:56.973\nSo when you take a look at\nsomething like that, yeah,\n\n318\n00:17:56.973 --> 00:18:00.771\n60 times 12, or 6 times 12, 72.\n\n319\n00:18:00.771 --> 00:18:02.630\nSo let's say it's about 12 hours here.\n\n320\n00:18:02.630 --> 00:18:07.370\nSo this one is 12 hours,\nnow that particular time though it can be\n\n321\n00:18:07.370 --> 00:18:12.400\nwhatever you want to but notice that this\nis reported in seconds and that is key.\n\n322\n00:18:13.520 --> 00:18:17.585\nIf you go, no, I only want it for\n60 seconds thinking its an hour,\n\n323\n00:18:17.585 --> 00:18:21.410\nyour DHTP server is gonna be\nworking pretty hard because\n\n324\n00:18:21.410 --> 00:18:26.840\nevery single IP address is gonna renew\nbeginning at 50% of the lease time.\n\n325\n00:18:26.840 --> 00:18:31.509\nSo right at 30 seconds, it will begin that\nrenewal process and if a device doesn't\n\n326\n00:18:31.509 --> 00:18:35.802\nanswer, it's gonna drop it after,\nonce it actually reaches the full 60.\n\n327\n00:18:35.802 --> 00:18:39.735\nSo, it will continue but\nonce it hits that 87.5% on the lease,\n\n328\n00:18:39.735 --> 00:18:42.780\nthat's when it actually does\nit like I need a lease.\n\n329\n00:18:42.780 --> 00:18:47.170\nBut usually it's every five minutes\nuntil the ACP server responds, but\n\n330\n00:18:47.170 --> 00:18:51.970\nsince you don't have a whole five minutes\nanymore, you're kind of toast there.\n\n331\n00:18:51.970 --> 00:18:54.324\nIt really depends on what you need,\n\n332\n00:18:54.324 --> 00:19:00.292\n28,800 seconds is usually a standard like\nan entire day, if I remember correctly.\n\n333\n00:19:00.292 --> 00:19:02.925\nWhen you do something like that,\nyou might actually choose that.\n\n334\n00:19:02.925 --> 00:19:06.269\nNow, if you know that machines aren't\ngonna be moving in and out of your\n\n335\n00:19:06.269 --> 00:19:10.057\nnetwork, there's not a lot of guest coming\nin and out, you may want to leave it at\n\n336\n00:19:10.057 --> 00:19:13.660\nsomething even longer, so that eight\nday lease is probably not a bade idea.\n\n337\n00:19:13.660 --> 00:19:15.950\nIf you know that there's\nnot a lot of changes, but\n\n338\n00:19:15.950 --> 00:19:19.450\nif you constantly have people with\nlaptops that are coming in or out.\n\n339\n00:19:19.450 --> 00:19:24.030\nSo for example, if you're at the studios\nwe have guest SMEs that come,\n\n340\n00:19:24.030 --> 00:19:29.505\nsubject matter experts, and we don't want\nto lease them an entire IP address for\n\n341\n00:19:29.505 --> 00:19:32.670\neight days if they're only\ngonna be here for five.\n\n342\n00:19:32.670 --> 00:19:36.990\nThere's no need for them to do so and so,\nwe normally have ours set right about this\n\n343\n00:19:36.990 --> 00:19:42.160\nsame period of time here,\nis right there about a full 24 hour day.\n\n344\n00:19:42.160 --> 00:19:44.880\nSo every day,\neverybody can actually renew it and\n\n345\n00:19:44.880 --> 00:19:47.820\nabout 50% of the time it starts\nto go through that process.\n\n346\n00:19:47.820 --> 00:19:52.800\nDHCP server responds and we start all\nover, maximum lease time of course,\n\n347\n00:19:52.800 --> 00:19:55.930\nis about how long you can\nhold onto that one address.\n\n348\n00:19:55.930 --> 00:19:58.850\nAnd failure per year will give them\nthat in high availability when we get\n\n349\n00:19:58.850 --> 00:19:59.860\nto that point.\n\n350\n00:19:59.860 --> 00:20:00.650\nBut it's just saying, hey,\n\n351\n00:20:00.650 --> 00:20:03.170\nwhere's the other server,\nthat's what it's looking for.\n\n352\n00:20:03.170 --> 00:20:06.950\nWhere's the other server you want me to\nhand off to if this server goes down?\n\n353\n00:20:08.490 --> 00:20:13.090\nYou can do static ARP entries, time change\nformat as well, and then, of course,\n\n354\n00:20:13.090 --> 00:20:15.720\ndifferent types of static graphs.\n\n355\n00:20:15.720 --> 00:20:17.790\nWe're not so worried about these options.\n\n356\n00:20:17.790 --> 00:20:21.620\nNow, notice that there's a lot of\nother additional options that you have\n\n357\n00:20:21.620 --> 00:20:22.247\ndown here.\n\n358\n00:20:22.247 --> 00:20:23.983\nDynamic DNS, MAC control,\n\n359\n00:20:23.983 --> 00:20:28.800\nthese are other additional options\nthat you may actually configure.\n\n360\n00:20:28.800 --> 00:20:31.810\nMost of the time when we\nare doing something like this,\n\n361\n00:20:31.810 --> 00:20:34.080\nI'm gonna be able to say this okay,\n\n362\n00:20:34.080 --> 00:20:38.403\nit's because you do have extra devices\nthat need additional configuration.\n\n363\n00:20:38.403 --> 00:20:40.990\nThe one that always comes to my mind\nis the idea of thin clients and\n\n364\n00:20:40.990 --> 00:20:43.130\nvoid phones cuz that's what\nI have experience with.\n\n365\n00:20:43.130 --> 00:20:46.650\nYou plug in your thin client and\nit needs an additional option.\n\n366\n00:20:46.650 --> 00:20:49.060\nWell, you don't wanna actually\ngo there and go crud,\n\n367\n00:20:49.060 --> 00:20:50.650\nI forgot to assign this option.\n\n368\n00:20:50.650 --> 00:20:55.330\nYou plug it in, you allow DHCP to say\nhere's where the FTP server is so\n\n369\n00:20:55.330 --> 00:20:59.550\nthat you can download this, okay, and\nget the configuration up and running.\n\n370\n00:20:59.550 --> 00:21:03.100\nThe same thing with your\nsmart phones as well.\n\n371\n00:21:03.100 --> 00:21:04.850\nWhen there's an update\nthat needs to be done,\n\n372\n00:21:04.850 --> 00:21:07.550\nit needs to know where it's\nactually getting the update from.\n\n373\n00:21:07.550 --> 00:21:09.860\nSo there's a lot of different\noptions that are available,\n\n374\n00:21:09.860 --> 00:21:15.710\nhere they include that TFTP like we were\ntalking about, LDAP, MAC address control.\n\n375\n00:21:15.710 --> 00:21:17.690\nAdditional DHCP options,\n\n376\n00:21:17.690 --> 00:21:22.730\nif I click on that one,\nyou actually can type in a number.\n\n377\n00:21:22.730 --> 00:21:27.850\nSo if you know that you have to\nadd in option number .83.47 or\n\n378\n00:21:27.850 --> 00:21:29.500\nwhatever it might be.\n\n379\n00:21:29.500 --> 00:21:32.280\nThis is where you do it and\nyou're going what are these options?\n\n380\n00:21:32.280 --> 00:21:32.880\nI don't know.\n\n381\n00:21:32.880 --> 00:21:34.770\n[LAUGH] I just don't know\nwhat those options are.\n\n382\n00:21:34.770 --> 00:21:38.090\nBut you might find out that you do have\na device on your network that needs that\n\n383\n00:21:38.090 --> 00:21:39.960\noption, that's why you'd add it then,\n\n384\n00:21:39.960 --> 00:21:44.180\nand it would tell you what type\nof thing that you can have there.\n\n385\n00:21:44.180 --> 00:21:48.496\nString boolean, unsigned, 8-bit integer,\n\n386\n00:21:48.496 --> 00:21:52.220\na lot of different aspects\nof what you can add here.\n\n387\n00:21:52.220 --> 00:21:56.800\nSo it's a fully featured\ntype of DHTP Server.\n\n388\n00:21:56.800 --> 00:22:01.560\nSo once I go ahead and\nclick Save, now of course,\n\n389\n00:22:01.560 --> 00:22:05.860\nwe have test and verify that it gives\nus all the options that we need.\n\n390\n00:22:05.860 --> 00:22:08.640\nSo the easiest way to do that\nis I've also got I don't\n\n391\n00:22:08.640 --> 00:22:11.600\nwant to change my machine right here,\nthe one that I'm on.\n\n392\n00:22:11.600 --> 00:22:15.150\nDaniel, what happens if I lose my\nIP address to this machine and\n\n393\n00:22:15.150 --> 00:22:16.730\nI'm connected to the firewall?\n\n394\n00:22:16.730 --> 00:22:19.460\n&gt;&gt; You're probably gonna lose your\nconnection to the firewall [LAUGH]\n\n395\n00:22:19.460 --> 00:22:19.970\n&gt;&gt; And\n\n396\n00:22:19.970 --> 00:22:22.780\na great idea because I'm gonna\nbe able to get back in and\n\n397\n00:22:22.780 --> 00:22:27.150\nchange it once I've messed up my own\nconfiguration and now I realize something.\n\n398\n00:22:27.150 --> 00:22:31.075\nIf it messed up mine, it possibly\nmessed up all 200 users that I have.\n\n399\n00:22:31.075 --> 00:22:34.680\n&gt;&gt; These are kind of important with\nnetwork connectivity, just FYI.\n\n400\n00:22:34.680 --> 00:22:36.126\nJust throwing that out there.\n\n401\n00:22:36.126 --> 00:22:37.270\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n402\n00:22:37.270 --> 00:22:39.470\n&gt;&gt; So always it sounds like a great idea\n\n403\n00:22:39.470 --> 00:22:42.700\nand first time I did it, that's exactly\nwhat I thought, just with my machine.\n\n404\n00:22:42.700 --> 00:22:44.950\nI'll just renew my IP address.\n\n405\n00:22:44.950 --> 00:22:46.940\n&gt;&gt; I think we've all\nmade that mistake before.\n\n406\n00:22:46.940 --> 00:22:48.660\nIt's what we do.\n\n407\n00:22:48.660 --> 00:22:49.918\nIt's bush league but you'll do it.\n\n408\n00:22:49.918 --> 00:22:50.495\nDon't worry.\n\n409\n00:22:50.495 --> 00:22:51.570\n[LAUGH]\n&gt;&gt; So\n\n410\n00:22:51.570 --> 00:22:54.310\nI've learned, I've taken the time and\nI've learned.\n\n411\n00:22:54.310 --> 00:22:57.330\nAnd so I've brought up another machine,\nat least I think I did.\n\n412\n00:22:57.330 --> 00:23:00.160\nLet me see if I actually can find it here,\nthere it is.\n\n413\n00:23:00.160 --> 00:23:03.590\nNow, this is just a simple Windows\n7 machine, it's just for testing.\n\n414\n00:23:03.590 --> 00:23:06.680\nSo I'm not using this for\nanything super important right now.\n\n415\n00:23:06.680 --> 00:23:10.940\nBut I need to get access and verify that\neverything is actually still working.\n\n416\n00:23:10.940 --> 00:23:12.524\nSo I can do this in a couple of ways,\n\n417\n00:23:12.524 --> 00:23:14.836\nI'm gonna use just a simple\ncommand prompt here.\n\n418\n00:23:17.661 --> 00:23:22.518\nAnd let me change the fonts here to\nsomething a little bit larger so\n\n419\n00:23:22.518 --> 00:23:25.710\nthat we can see it as\nwell as the text color.\n\n420\n00:23:28.030 --> 00:23:30.270\nMake it a little bit easier here, okay?\n\n421\n00:23:30.270 --> 00:23:35.840\nNow, I need to find out if my\nmachine has a static IP address.\n\n422\n00:23:35.840 --> 00:23:38.520\nAnd it looks like an IP address there but\nis it static or\n\n423\n00:23:38.520 --> 00:23:40.760\nis it coming from the DHCP server?\n\n424\n00:23:40.760 --> 00:23:43.595\nLet me do an ipconfig /all.\n\n425\n00:23:43.595 --> 00:23:47.627\nWith an ipconfig /all,\nI can see that on this machine right here,\n\n426\n00:23:47.627 --> 00:23:51.521\nif I can click on it,\napparently it's not gonna let me click.\n\n427\n00:23:51.521 --> 00:23:53.690\nBut I can point to it.\n\n428\n00:23:53.690 --> 00:23:57.567\nI can see right here,\nit actually says no, DHCP is not enabled.\n\n429\n00:23:57.567 --> 00:24:01.518\nSo that means I mainly have to go in and\nchange that configuration.\n\n430\n00:24:01.518 --> 00:24:04.229\nSo if I go ahead and\nclick on the Start button.\n\n431\n00:24:04.229 --> 00:24:08.416\nGo to Control Panel and\nthen, Network and Internet.\n\n432\n00:24:08.416 --> 00:24:10.153\nAnd, of course, Network and\nSharing Center.\n\n433\n00:24:10.153 --> 00:24:13.875\nThey should've actually made this\na longer process, I think, okay.\n\n434\n00:24:13.875 --> 00:24:15.967\nI'm being facetious, yes.\n\n435\n00:24:15.967 --> 00:24:17.400\n&gt;&gt; And you're doing a very good job of it.\n\n436\n00:24:17.400 --> 00:24:18.352\n&gt;&gt; Yes [LAUGH]\n&gt;&gt; [LAUGH]\n\n437\n00:24:18.352 --> 00:24:19.916\n&gt;&gt; So we're gonna select\n\n438\n00:24:19.916 --> 00:24:21.897\nthe Local Area Connection.\n\n439\n00:24:21.897 --> 00:24:24.254\nAnd then, of course, on the Status page,\n\n440\n00:24:24.254 --> 00:24:27.010\nwe have the ability to go into Properties,\nhere.\n\n441\n00:24:28.030 --> 00:24:31.750\nAnd then change the options, okay?\n\n442\n00:24:31.750 --> 00:24:36.210\nSo all this is stuff that I would've had\nto type in if Daniel were still doing this\n\n443\n00:24:36.210 --> 00:24:38.822\nat the insurance office with 1000 users.\n\n444\n00:24:38.822 --> 00:24:43.275\nImagine, Daniel, every single one of\nthose machines having to open this up and\n\n445\n00:24:43.275 --> 00:24:45.200\ntype in all those numbers.\n\n446\n00:24:45.200 --> 00:24:48.926\nAfter a couple of hours, I think you\nwould've found yourself kind of a little\n\n447\n00:24:48.926 --> 00:24:50.603\nbit more bored if that was the job.\n\n448\n00:24:50.603 --> 00:24:53.354\n[LAUGH]\n&gt;&gt; Yeah, no, no, I quit.\n\n449\n00:24:53.354 --> 00:24:54.544\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n450\n00:24:54.544 --> 00:24:58.760\nwe're just simply going to do\nthe Obtain an IP address automatically.\n\n451\n00:24:58.760 --> 00:25:04.370\nAnd Obtain DNS servers automatically,\nand click OK, and click OK again.\n\n452\n00:25:04.370 --> 00:25:06.750\nNotice that No network access now.\n\n453\n00:25:06.750 --> 00:25:09.050\nSo it had Internet access before, and\n\n454\n00:25:09.050 --> 00:25:12.760\nnow notice that Internet access\nhas actually been granted again.\n\n455\n00:25:12.760 --> 00:25:17.480\nSo that means it went through\nthat entire discover, offer,\n\n456\n00:25:17.480 --> 00:25:22.180\nrequest, and acknowledgement\nphase that it has to for DHCP.\n\n457\n00:25:22.180 --> 00:25:27.540\nIf I click on the Details,\nI can now see I have that IP address\n\n458\n00:25:27.540 --> 00:25:32.410\nwithin that range that I set up here,\nokay?\n\n459\n00:25:32.410 --> 00:25:35.248\nSo I can also check out my lease time and\n\n460\n00:25:35.248 --> 00:25:40.314\nthe actual time it is gonna expire,\nwhich is about two hours later.\n\n461\n00:25:40.314 --> 00:25:42.464\nSo 72, what is it, weird.\n\n462\n00:25:42.464 --> 00:25:44.230\nOkay, well I guess I was wrong.\n\n463\n00:25:44.230 --> 00:25:48.370\nI said 12 hours later, but\napparently that is just two hours.\n\n464\n00:25:48.370 --> 00:25:51.680\nSo 7,200 seconds,\nthat makes more sense, I guess.\n\n465\n00:25:51.680 --> 00:25:52.700\nI don't know why I said 12.\n\n466\n00:25:52.700 --> 00:25:55.260\nBecause I can't multiply or\ndo anything else.\n\n467\n00:25:55.260 --> 00:25:56.790\nSo about two hours from now.\n\n468\n00:25:56.790 --> 00:25:59.093\nSo that's actually a fairly\nshort lease time by default.\n\n469\n00:25:59.093 --> 00:26:01.988\nSo you might wanna change that to\nsomething a little bit longer.\n\n470\n00:26:01.988 --> 00:26:06.540\nAnd then, of course,\nthe default gateway and the DHCP server.\n\n471\n00:26:06.540 --> 00:26:10.670\nAnd notice all that information\nessentially handed out by DCHP.\n\n472\n00:26:10.670 --> 00:26:15.702\nSo you do have just kinda\nthat very powerful way to\n\n473\n00:26:15.702 --> 00:26:23.089\nbe able to do a lot of stuff on your\nnetwork, even with that pfSense box.\n\n474\n00:26:23.089 --> 00:26:28.210\nYou don't have to go in and install\nWindows Server if you don't need to and\n\n475\n00:26:28.210 --> 00:26:31.194\nthen wait for the DHCP service to install.\n\n476\n00:26:31.194 --> 00:26:34.880\nYou can simply do it here, and there it\nis, I'm connected out to the Internet.\n\n477\n00:26:34.880 --> 00:26:37.670\nEverything seems to be working, and\nthat is a good verification and\n\n478\n00:26:37.670 --> 00:26:39.620\ntest that is going on, okay?\n\n479\n00:26:39.620 --> 00:26:45.970\nNow we do need to just briefly talk about\nsomething which people normally bring up.\n\n480\n00:26:45.970 --> 00:26:48.684\nWell what about security on DHCP?\n\n481\n00:26:48.684 --> 00:26:52.440\nThe very fact is, it's not really\na very secure protocol, right?\n\n482\n00:26:52.440 --> 00:26:55.101\nEverything is done in broadcast.\n\n483\n00:26:55.101 --> 00:26:57.330\nI mean, what can you really do?\n\n484\n00:26:57.330 --> 00:27:00.776\nWell the great thing is,\nwhen you start to do this,\n\n485\n00:27:00.776 --> 00:27:04.880\nyou do have to worry about really\none kind of very big attack.\n\n486\n00:27:04.880 --> 00:27:08.598\nAnd it's probably the most popular attack,\nwhich is DHCP starvation.\n\n487\n00:27:08.598 --> 00:27:11.827\nAnd that is when Daniel\ngets onto your network and\n\n488\n00:27:11.827 --> 00:27:15.074\nhe's able to spoof 200 IP addresses, okay?\n\n489\n00:27:15.074 --> 00:27:18.926\nOr 200 MAC addresses, excuse me,\nI said IP, 200 MAC addresses.\n\n490\n00:27:18.926 --> 00:27:23.309\nAnd then he's saying, all right,\nnow go out and do what a DHCP request, or\n\n491\n00:27:23.309 --> 00:27:25.200\na lease, a discover.\n\n492\n00:27:25.200 --> 00:27:27.990\nAnd he claims 200 of those addresses, and\n\n493\n00:27:27.990 --> 00:27:31.160\nnow all the other machines are renewing or\nclaiming the other part.\n\n494\n00:27:31.160 --> 00:27:33.678\nNow you don't have any IP\naddresses to hand out.\n\n495\n00:27:33.678 --> 00:27:35.821\nSo that's kinda the biggest attack.\n\n496\n00:27:35.821 --> 00:27:39.633\nBut you'd worry about that whether\nyou're actually on pfSense or\n\n497\n00:27:39.633 --> 00:27:44.380\nwhether you're on Windows, or\nwhatever else that you're running there.\n\n498\n00:27:44.380 --> 00:27:46.936\nYou'd still have to worry\nabout those types of attacks.\n\n499\n00:27:46.936 --> 00:27:51.997\nSo just kinda realize that, yes,\nthere are possibilities like that.\n\n500\n00:27:51.997 --> 00:27:54.940\nBut the great thing is,\nif you're working inside of a network, and\n\n501\n00:27:54.940 --> 00:27:57.070\nyou're running one of\nthose managed switches.\n\n502\n00:27:57.070 --> 00:28:01.542\nThere are things like, inside of the Cisco\nworld, they call it DHCP snooping,\n\n503\n00:28:01.542 --> 00:28:06.460\nthat essentially only allows so many of\nthe requests to be handled at one time.\n\n504\n00:28:06.460 --> 00:28:09.580\nSo even if Daniel's laptop\nwas able to pull up 60,\n\n505\n00:28:09.580 --> 00:28:14.590\nlet's just say bare minimum of\n60 MAC addresses he could spoof.\n\n506\n00:28:14.590 --> 00:28:17.350\nAnd he could send 60 requests at one time.\n\n507\n00:28:17.350 --> 00:28:20.807\nWell what you're gonna do is you're\ngonna depend on the Cisco switch, or\n\n508\n00:28:20.807 --> 00:28:22.323\nwhatever switch that you have.\n\n509\n00:28:22.323 --> 00:28:26.762\nThat says we're limiting\nthe number DHCP IP addresses or\n\n510\n00:28:26.762 --> 00:28:31.759\nrequests that we're willing to\nhandle at any one point in time.\n\n511\n00:28:31.759 --> 00:28:35.330\nIt doesn't mean he can't get all 60,\nbut it might take him longer.\n\n512\n00:28:35.330 --> 00:28:38.638\nIn other words, he can't just go 60 and\nthen have 60 handed back to him.\n\n513\n00:28:38.638 --> 00:28:42.584\nHe might be able to go, okay,\nI see three, you can have three, Daniel.\n\n514\n00:28:42.584 --> 00:28:45.371\nAnd then after that he might\nhave to wait two minutes, and\n\n515\n00:28:45.371 --> 00:28:47.370\nthen he can request three more.\n\n516\n00:28:47.370 --> 00:28:50.290\nBut that will slow down\nsome type of attack rate,\n\n517\n00:28:50.290 --> 00:28:52.880\nespecially something en mass like that.\n\n518\n00:28:52.880 --> 00:28:56.880\nSo there are protections, but\nthey're not natively built into DHCP.\n\n519\n00:28:56.880 --> 00:29:00.201\nYou still just have to understand\nthat idea of diligence, right,\n\n520\n00:29:00.201 --> 00:29:01.460\nand due diligence here.\n\n521\n00:29:01.460 --> 00:29:04.658\nAnd making sure that everything else\nis secure the way that you want to.\n\n522\n00:29:04.658 --> 00:29:06.728\nVerify it, and everything's working,\n\n523\n00:29:06.728 --> 00:29:10.346\nand you'll see that it will be another\nrobust feature for you to enable.\n\n524\n00:29:10.346 --> 00:29:14.309\nAlong with the idea of the firewall set\nthat we've already been talking about.\n\n525\n00:29:14.309 --> 00:29:16.510\n&gt;&gt; Awesome stuff, we love the DHCP, right?\n\n526\n00:29:16.510 --> 00:29:19.415\nBecause as we've kind of joked\nabout in the entire show,\n\n527\n00:29:19.415 --> 00:29:21.955\nif you had to walk around and\ndo this all manually,\n\n528\n00:29:21.955 --> 00:29:24.942\nyou would eventually not really\nenjoy your job very much.\n\n529\n00:29:24.942 --> 00:29:29.367\nAnd rightfully so, it's very tedious,\nmonotonous, and it's not fun.\n\n530\n00:29:29.367 --> 00:29:31.460\nWe've invented computers for a reason.\n\n531\n00:29:31.460 --> 00:29:33.578\nWe want them to automate repetitive tasks,\n\n532\n00:29:33.578 --> 00:29:36.281\nespecially when it involves\nother computers, right?\n\n533\n00:29:36.281 --> 00:29:39.528\nLet's let them do that,\nand let pfSense firewalls.\n\n534\n00:29:39.528 --> 00:29:41.871\nI mean, you buy just about anything,\nanymore, and\n\n535\n00:29:41.871 --> 00:29:43.845\nit's got a DHCP server built into it.\n\n536\n00:29:43.845 --> 00:29:46.151\nI think my doorknob has\na DHCP server built into it,\n\n537\n00:29:46.151 --> 00:29:47.879\nit's a very easy thing to implement.\n\n538\n00:29:47.879 --> 00:29:50.731\nAnd they've done a really\ngood job with pfSense for\n\n539\n00:29:50.731 --> 00:29:53.395\nyou to be able to afford that ability,\nas well.\n\n540\n00:29:53.395 --> 00:29:55.205\nNot too difficult to set up.\n\n541\n00:29:55.205 --> 00:29:57.076\nIf you've worked in computers\nany length of time,\n\n542\n00:29:57.076 --> 00:29:58.909\nyou've probably dealt\nwith DHCP to some extent.\n\n543\n00:29:58.909 --> 00:30:02.075\nSo this shouldn't be so\nmuch foreign soil for you.\n\n544\n00:30:02.075 --> 00:30:05.579\nBut really good job, Ronnie,\nof showing us how to do that for\n\n545\n00:30:05.579 --> 00:30:07.390\nourselves using pfSense.\n\n546\n00:30:07.390 --> 00:30:10.860\nThat being said, looks like we've come\nto the end of yet another great episode.\n\n547\n00:30:10.860 --> 00:30:13.620\nHopefully you guys have enjoyed it,\nwe sure have enjoyed having you here.\n\n548\n00:30:13.620 --> 00:30:16.867\nBut signing off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n549\n00:30:16.867 --> 00:30:17.793\n&gt;&gt; And I'm Ronnie Wong.\n\n550\n00:30:17.793 --> 00:30:20.105\n&gt;&gt; And we'll see you next time.\n\n551\n00:30:20.105 --> 00:30:26.101\n[MUSIC]\n\n552\n00:30:26.101 --> 00:30:29.157\nThank you for watching ITProTV.\n\n",
          "vimeoId": "197294133"
        },
        {
          "description": "In this episode, Daniel and Ronnie show you how to configure your pfSense firewall as a DNS Resolver. Watch as they walk you through setting up the DNS Resolver service step-by-step, explaining each option as they go.",
          "length": "1855",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-2-configure_dns_resolver-121616.00_31_17_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-2-configure_dns_resolver-121616.00_31_17_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-2-configure_dns_resolver-121616.00_31_17_09.Still001-sm.jpg",
          "title": "Configure DNS Resolver",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:01.309\nWelcome to ITPro.TV.\n\n2\n00:00:01.309 --> 00:00:05.778\nI'm your host [CROSSTALK]\n\n3\n00:00:05.778 --> 00:00:08.272\n[MUSIC]\n\n4\n00:00:08.272 --> 00:00:12.047\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:12.047 --> 00:00:13.680\n&gt;&gt; All right, greetings everyone and\n\n6\n00:00:13.680 --> 00:00:16.660\nwelcome to another great\nepisode of ITPro.TV.\n\n7\n00:00:16.660 --> 00:00:19.030\nI'm your host Daniel Lowrie,\nand in today's episode,\n\n8\n00:00:19.030 --> 00:00:23.240\nthat's right it's more of\npFsense version 2.3.2 series.\n\n9\n00:00:23.240 --> 00:00:25.770\nAnd of course, joining me back yet\nagain, we know him, we love him,\n\n10\n00:00:25.770 --> 00:00:27.530\nour good friend, Mr. Ronnie Wong.\n\n11\n00:00:27.530 --> 00:00:28.230\nRonnie, welcome back.\n\n12\n00:00:28.230 --> 00:00:29.220\nSir, how is it going today?\n\n13\n00:00:29.220 --> 00:00:30.330\n&gt;&gt; It's going great today.\n\n14\n00:00:30.330 --> 00:00:34.240\nIt's another great day right here in\nthe studios as we continue our journey\n\n15\n00:00:34.240 --> 00:00:38.180\nto learning more about all\nthe things that we can do with PSS.\n\n16\n00:00:38.180 --> 00:00:41.570\nNow we've already talked\nabout using of course DHCP.\n\n17\n00:00:41.570 --> 00:00:45.310\nOne of the really primary services that\nwe tend to have on networks as they\n\n18\n00:00:45.310 --> 00:00:46.470\ncontinue to grow.\n\n19\n00:00:46.470 --> 00:00:49.920\nBecause of the way they can\ndynamically support our\n\n20\n00:00:49.920 --> 00:00:53.080\nmachines as they come online is\nprobably one of the great services.\n\n21\n00:00:53.080 --> 00:00:55.680\nBut at the heart of every network,\nof course,\n\n22\n00:00:55.680 --> 00:00:58.420\nis not just the idea of IP addresses.\n\n23\n00:00:58.420 --> 00:01:03.020\nIt's the idea here, also, of being able\nto get to those machines that we need to.\n\n24\n00:01:03.020 --> 00:01:06.370\nOr those resources that we need to,\nrelatively easily.\n\n25\n00:01:06.370 --> 00:01:08.910\nAnd that means we have actually grown up\n\n26\n00:01:08.910 --> 00:01:12.320\non the idea of actually\nnetworking by name.\n\n27\n00:01:12.320 --> 00:01:17.710\nI don't normally just go hey,\nI need to connect to the web server,\n\n28\n00:01:17.710 --> 00:01:20.226\nthe one at 10.3.4.9.\n\n29\n00:01:20.226 --> 00:01:24.300\nOkay, that's not the way that I\nintend to go around talking about\n\n30\n00:01:24.300 --> 00:01:26.250\n&gt;&gt; Wait till it moves up full IPv6,\n\n31\n00:01:26.250 --> 00:01:26.880\nthat will be a fun.\n\n32\n00:01:26.880 --> 00:01:31.450\nYeah, it's so FCAA, yeah.\n\n33\n00:01:31.450 --> 00:01:31.990\n&gt;&gt; That's fun.\n\n34\n00:01:31.990 --> 00:01:33.562\n&gt;&gt; Yeah.\n/127.\n\n35\n00:01:33.562 --> 00:01:35.310\n&gt;&gt; [LAUGH]\n&gt;&gt; Yeah.\n\n36\n00:01:35.310 --> 00:01:37.210\nWe don't tend to do that, right?\n\n37\n00:01:37.210 --> 00:01:40.572\nWhat we've become used to,\nof course in networking,\n\n38\n00:01:40.572 --> 00:01:44.227\nbecause of the way we network\nacross the entire internet and\n\n39\n00:01:44.227 --> 00:01:49.360\nthe way that we wanna do it inside of\nour network is well using names, right?\n\n40\n00:01:49.360 --> 00:01:52.188\nSo, instead of me just saying that,\nI can say.\n\n41\n00:01:52.188 --> 00:01:55.460\nYeah, Daniel just had file server 01.\n\n42\n00:01:55.460 --> 00:01:58.050\nand what Daniel expects at that point,\nright.\n\n43\n00:01:58.050 --> 00:02:00.200\nIf he already knows about networking.\n\n44\n00:02:00.200 --> 00:02:02.780\nHe doesn't try and go, Ronnie,\nwhat's the IP address?\n\n45\n00:02:02.780 --> 00:02:05.170\nDaniel should just be\nable to go to his laptop.\n\n46\n00:02:05.170 --> 00:02:07.400\nMake the connection that\nhe thinks that he needs to.\n\n47\n00:02:07.400 --> 00:02:10.080\nType in file serve 01.\n\n48\n00:02:10.080 --> 00:02:14.573\nAnd at that point his\ncomputer then will begin\n\n49\n00:02:14.573 --> 00:02:20.210\nthe process of name resolution.\n\n50\n00:02:20.210 --> 00:02:27.200\nNow, remember that process, it's actually\na pretty involved process, right?\n\n51\n00:02:27.200 --> 00:02:30.330\nFirst, of course,\nhis computer has to resolve that name.\n\n52\n00:02:30.330 --> 00:02:34.880\nAnd the way that it does that is it\nchecks in a stored area in your memory.\n\n53\n00:02:34.880 --> 00:02:39.770\nAnd it says, all right, so\nwhat IP addresses to file server01?\n\n54\n00:02:39.770 --> 00:02:42.245\nWhen his computer finds it right there,\ngoes and\n\n55\n00:02:42.245 --> 00:02:45.760\nfinds the IP address, his computer can\nconnect right up to it, we're done.\n\n56\n00:02:45.760 --> 00:02:47.300\nSo simple enough.\n\n57\n00:02:47.300 --> 00:02:52.700\nBut as his computer may not have ever\nconnected to file server 01, well,\n\n58\n00:02:52.700 --> 00:02:58.500\nnow his computer has to reach beyond\nthe limits of his computer's memory,\n\n59\n00:02:58.500 --> 00:03:01.280\nand go out onto the network itself.\n\n60\n00:03:01.280 --> 00:03:06.700\nAnd then request on the network\na domain name service,\n\n61\n00:03:06.700 --> 00:03:11.660\na type of a server to give him\nthe address, and then once he does that,\n\n62\n00:03:11.660 --> 00:03:16.410\nthen his computer can resolve that\nname to an IP address and connect in.\n\n63\n00:03:16.410 --> 00:03:19.880\nNow, you can imagine that this is actually\nmuch harder out on the Internet, right?\n\n64\n00:03:19.880 --> 00:03:21.970\nOnce you actually go out to the internet,\n\n65\n00:03:21.970 --> 00:03:24.680\nit's not like there's a DNS\nserver that just says,\n\n66\n00:03:24.680 --> 00:03:30.450\nvery quickly, I see that your machine\nhas never connected to this before.\n\n67\n00:03:30.450 --> 00:03:32.390\nLet me just give you that right away.\n\n68\n00:03:32.390 --> 00:03:36.250\nIt has to break every part of that,\nwhat they call a fully qualified domain\n\n69\n00:03:36.250 --> 00:03:41.270\nname down, right, and then it has to\nreturn to him whoever is the authoritative\n\n70\n00:03:41.270 --> 00:03:44.540\nserver for that namespace and\nthen return that back.\n\n71\n00:03:44.540 --> 00:03:47.290\nSo every machine on\nyour network does that.\n\n72\n00:03:47.290 --> 00:03:49.360\nNow when you start to think about that, so\n\n73\n00:03:49.360 --> 00:03:52.390\nDaniel, let's say that this\nis the process that happens.\n\n74\n00:03:52.390 --> 00:03:55.760\nBut it happens for\nevery single user on our network, right?\n\n75\n00:03:55.760 --> 00:03:59.070\nAnd if we have about, let's say,\n500 people on our network,\n\n76\n00:03:59.070 --> 00:04:01.950\nthat means every single machine,\nonce they get that return back,\n\n77\n00:04:01.950 --> 00:04:07.030\nthey cache that inside of their cache on\ntheir computers and that means next time,\n\n78\n00:04:07.030 --> 00:04:09.558\nthey're not to go all the way out to\nthe Internet again to resolve the name,\n\n79\n00:04:09.558 --> 00:04:13.100\nthey've already gotten there and\nthey can connect very quickly, okay.\n\n80\n00:04:13.100 --> 00:04:17.910\nBut that means that every single\nmachine has to cache that and\n\n81\n00:04:17.910 --> 00:04:24.030\nthe other part behind that is now Daniel\nmy laptop runs out of its battery life and\n\n82\n00:04:24.030 --> 00:04:25.480\nI'm in the middle of, no.\n\n83\n00:04:25.480 --> 00:04:26.196\nNow it's run out.\n\n84\n00:04:26.196 --> 00:04:30.550\nRestarts again, the cache is gone\nbecause it was stored in RAM.\n\n85\n00:04:30.550 --> 00:04:34.514\nSo now it has to rebuild that thing again.\n\n86\n00:04:34.514 --> 00:04:39.910\nBut all of those name resolutions, right,\nin that resolve our cash on our computers.\n\n87\n00:04:39.910 --> 00:04:44.370\nWell it has to kind of stay there,\nit takes up a good portion of our memory.\n\n88\n00:04:44.370 --> 00:04:48.494\n&gt;&gt; Plus, doesn't the resolver cache\nhave a timeout for each of the entries?\n\n89\n00:04:48.494 --> 00:04:50.450\nThey have a certain amount of\ntime that they stay in there?\n\n90\n00:04:50.450 --> 00:04:52.360\n&gt;&gt; Yeah there are times when they do that,\n\n91\n00:04:52.360 --> 00:04:55.540\nwhere they actually do stuff like hey this\nis only gonna be valid for that long.\n\n92\n00:04:55.540 --> 00:05:00.190\nSo it's just kind of interesting, but if\nyou were to add up those 500 computers and\n\n93\n00:05:00.190 --> 00:05:03.050\nthe amount of RAM that it takes up, you\ndon't think it takes up a lot of space,\n\n94\n00:05:03.050 --> 00:05:03.740\nbut it can.\n\n95\n00:05:03.740 --> 00:05:05.730\nIt can take up some space here.\n\n96\n00:05:05.730 --> 00:05:08.810\nSo it also means that you\nalso have inconsistencies.\n\n97\n00:05:08.810 --> 00:05:13.610\nSo even if Daniel had gone to that one\nwebsite before, but I haven't, my computer\n\n98\n00:05:13.610 --> 00:05:18.260\ndoesn't just get to go, hey Daniel's\ncomputer, can you give me that IP address?\n\n99\n00:05:18.260 --> 00:05:21.350\nIt has to do its own name\nresolution process again.\n\n100\n00:05:21.350 --> 00:05:24.340\nSo you get the idea here, that what\nwe're saying is that there is a lot of\n\n101\n00:05:24.340 --> 00:05:28.290\nredundancy in doing name\nresolution in that way.\n\n102\n00:05:28.290 --> 00:05:33.580\nWell, DNS servers are supposed to\nhelp us out to that point, right?\n\n103\n00:05:33.580 --> 00:05:38.175\nThat if we set up whatever type\nof DNS server that we want,\n\n104\n00:05:38.175 --> 00:05:40.310\nwell it can instead do it for us.\n\n105\n00:05:40.310 --> 00:05:44.160\nSo once we actually put the DNS\nserver onto our machines.\n\n106\n00:05:44.160 --> 00:05:45.930\nWe're actually saying,\nlet's direct it to go there.\n\n107\n00:05:45.930 --> 00:05:47.680\nLet me show you what I'm talking about.\n\n108\n00:05:47.680 --> 00:05:51.200\nSo I'm gonna take a look\nat my Windows 7 machine.\n\n109\n00:05:51.200 --> 00:05:54.920\nAnd then go to, I'm just gonna bring\nup the command prompt this time.\n\n110\n00:05:55.960 --> 00:05:58.180\nAnd that'll make it a little bit easier.\n\n111\n00:05:58.180 --> 00:06:02.230\nSo when I want to resolve something, okay?\n\n112\n00:06:02.230 --> 00:06:05.119\nSo if I just do a nslookup.\n\n113\n00:06:07.326 --> 00:06:09.040\nJust like this.\n\n114\n00:06:09.040 --> 00:06:14.000\nYou can see right now that my\nmachine says that the name\n\n115\n00:06:14.000 --> 00:06:19.330\nresolution is going all the way out to,\nwell, Google's public DNS server.\n\n116\n00:06:19.330 --> 00:06:22.320\nOkay, is where it's actually going\nto at this particular point in time.\n\n117\n00:06:22.320 --> 00:06:25.610\nNow you may be wondering,\nwhere in the world did it get that from?\n\n118\n00:06:25.610 --> 00:06:28.120\nWell, now, if I exit out of that, and\n\n119\n00:06:28.120 --> 00:06:33.810\ndo an ipconfig all, it is because\nit is what we see right here,\n\n120\n00:06:33.810 --> 00:06:38.100\ninside of the DNS servers, and these\nwere servers that I actually configured.\n\n121\n00:06:38.100 --> 00:06:41.460\nSo it's right here I'm telling it, this\nis where you go to resolve names, okay.\n\n122\n00:06:41.460 --> 00:06:46.670\nOnce it resolves name, it stores it\ninto my cache on my machine itself.\n\n123\n00:06:46.670 --> 00:06:56.650\nAnd then I can actually do\nan ipconfig/displaydns, good luck there.\n\n124\n00:06:56.650 --> 00:06:59.890\nAnd you can see, now I went ahead and\ncleared this a little bit before.\n\n125\n00:06:59.890 --> 00:07:03.038\nBut you can see where it's actually\nresolved some names before.\n\n126\n00:07:03.038 --> 00:07:10.460\nSo this secure.quantserve.com, and\nas an Akamai server is what we have.\n\n127\n00:07:10.460 --> 00:07:15.760\nAnd then here is another one for\nIPv6 and you name it.\n\n128\n00:07:15.760 --> 00:07:20.180\nThose are the names, so that's what's\nin my resolver cache right now.\n\n129\n00:07:20.180 --> 00:07:23.624\nSo if this thing gets flushed out,\nwell it's gone and so\n\n130\n00:07:23.624 --> 00:07:27.968\nit has to do the same thing over and\nover again for every single person.\n\n131\n00:07:27.968 --> 00:07:32.189\nNow with our DNS service that we set up\ninside of our network, we simply redirect\n\n132\n00:07:32.189 --> 00:07:36.900\nthem to go there and the great thing is\nthey resolve that and they hold it there.\n\n133\n00:07:36.900 --> 00:07:38.360\nAnd that means that when I need it,\n\n134\n00:07:38.360 --> 00:07:41.030\nI don't have to reach all the way\nback out to the internet again.\n\n135\n00:07:41.030 --> 00:07:44.170\nI simply go and\nask that DNS server there, okay?\n\n136\n00:07:44.170 --> 00:07:46.010\nSo we can do that.\n\n137\n00:07:46.010 --> 00:07:49.100\nThe great thing is we can\nalso do it with pfSense.\n\n138\n00:07:49.100 --> 00:07:54.020\nInside of pfSense they have\ntwo different ways that we can\n\n139\n00:07:54.020 --> 00:07:58.847\nuse essentially our pfSense\nbox as a DNS server, okay.\n\n140\n00:07:58.847 --> 00:08:02.456\nAnd the way that we do that is, let me go\nahead and show you those two services and\n\n141\n00:08:02.456 --> 00:08:04.460\noops, let me see if I can do this.\n\n142\n00:08:04.460 --> 00:08:05.969\nSo, let me zoom in.\n\n143\n00:08:05.969 --> 00:08:07.867\nOnce we get inside of pfSense,\n\n144\n00:08:07.867 --> 00:08:12.470\nwe're gonna come up here onto that menu\nbar up here and go over to Services.\n\n145\n00:08:13.680 --> 00:08:16.810\nAnd you'll actually see that there's\ntwo of them listed right here.\n\n146\n00:08:16.810 --> 00:08:21.221\nOne's called DNS Forwarder and\nthe other one is called DNS Resolver.\n\n147\n00:08:21.221 --> 00:08:26.420\nNow, you might be wondering like, well, is\nthere really any difference between them?\n\n148\n00:08:26.420 --> 00:08:29.968\nIt's the service that runs in\nthe background that's different.\n\n149\n00:08:29.968 --> 00:08:35.300\nWith DNS Forwarder, this was kinda of the\ninitial one that they really did rely on,\n\n150\n00:08:35.300 --> 00:08:39.410\nat least pfSense did, as far as a DNS\nserver that they wanted running.\n\n151\n00:08:39.410 --> 00:08:45.250\nSo this depends on something that's called\ndnsmasq, it actually ends in M-A-S-Q.\n\n152\n00:08:45.250 --> 00:08:49.560\nSo not K, but D-N-S-M-A-S-Q.\n\n153\n00:08:49.560 --> 00:08:52.739\nThat is the service that's running\nin the background of that one.\n\n154\n00:08:52.739 --> 00:08:58.395\nNow, with pfSense, I think it's\nearlier than versions on 2.1.5.\n\n155\n00:08:58.395 --> 00:09:04.152\nThat was kind of the DNS server that\nyou could run on your pfSense box.\n\n156\n00:09:04.152 --> 00:09:07.812\nNow, that's great, it still works,\nyou can still do that.\n\n157\n00:09:07.812 --> 00:09:13.105\nBut after that, beginning really\nin the 2.2 series I think,\n\n158\n00:09:13.105 --> 00:09:17.980\nyou'll also end up with\nwhat we call DNS Resolver.\n\n159\n00:09:17.980 --> 00:09:21.300\nDNS Resolver changes\nthe background service\n\n160\n00:09:21.300 --> 00:09:23.590\nto something that is called unbound.\n\n161\n00:09:23.590 --> 00:09:26.150\nNow, if you never heard\nabout the unbound service,\n\n162\n00:09:26.150 --> 00:09:29.770\nthis is kind of an open standard\nthat has been developed and\n\n163\n00:09:29.770 --> 00:09:35.210\nkind of maintained by several\ndifferent groups that's out there.\n\n164\n00:09:35.210 --> 00:09:36.950\n&gt;&gt; Is that a play on bind?\n\n165\n00:09:36.950 --> 00:09:39.036\n&gt;&gt; It is.\n&gt;&gt; As in the DNS service bind.\n\n166\n00:09:39.036 --> 00:09:40.734\n&gt;&gt; Yeah, it really is.\n\n167\n00:09:40.734 --> 00:09:44.200\nSo the idea of unbound is kind of key.\n\n168\n00:09:44.200 --> 00:09:45.899\nBut it is an open standard.\n\n169\n00:09:45.899 --> 00:09:49.757\nAnd it really is, one of the things\nthat's, if it's not catching fire,\n\n170\n00:09:49.757 --> 00:09:54.750\nI shouldn't say, but really maintained\nfairly well by a few different companies.\n\n171\n00:09:54.750 --> 00:09:57.191\nLet me see if I can show you\nwhat I'm talking about here.\n\n172\n00:09:57.191 --> 00:10:01.847\nJust briefly, unbound dns.\n\n173\n00:10:04.447 --> 00:10:06.230\nSo here's the official Unbound site.\n\n174\n00:10:06.230 --> 00:10:11.433\nAnd I couldn't remember all the names,\nbut you can see like over here on\n\n175\n00:10:11.433 --> 00:10:17.610\nthe left hand side, NLnet Labs,\nVerisign, Nominet, Kirei, you name it.\n\n176\n00:10:17.610 --> 00:10:20.593\nThere's a bunch of different companies\nthat have essentially come together,\n\n177\n00:10:20.593 --> 00:10:22.206\nEPNet, that have actually developed it.\n\n178\n00:10:22.206 --> 00:10:27.240\nAnd its main concern is its\nintegration with DNSSEC, right?\n\n179\n00:10:27.240 --> 00:10:29.890\nSecure DNS is what its\nmain integration is.\n\n180\n00:10:29.890 --> 00:10:34.900\nSo that's because it realizes that,\nmore and more, right, DNS is\n\n181\n00:10:34.900 --> 00:10:40.540\none of those protocols that we tend to\nuse, but fairly easy to get hacked.\n\n182\n00:10:40.540 --> 00:10:44.350\nBecause you don't know exactly what DNS\nserver you're really connecting to.\n\n183\n00:10:44.350 --> 00:10:47.131\nSo without that DNS security, so today,\n\n184\n00:10:47.131 --> 00:10:52.462\nunbound is the one that is normally turned\non by default in pfSense, all right.\n\n185\n00:10:52.462 --> 00:10:54.717\nNow, if you wanted to use the other one,\nthat's fine.\n\n186\n00:10:54.717 --> 00:10:58.159\nBut it pretty much is the same thing,\nbut we tend to use Resolver,\n\n187\n00:10:58.159 --> 00:11:00.546\nand that's the one we're gonna configure.\n\n188\n00:11:00.546 --> 00:11:05.146\nSo if I click on DNS Forwarder,\nI just wanna show you kind of how this is,\n\n189\n00:11:05.146 --> 00:11:08.850\nwell, just about absolutely identical,\nright?\n\n190\n00:11:08.850 --> 00:11:10.250\nSo I just selected DNS Fowarder.\n\n191\n00:11:10.250 --> 00:11:12.478\nAnd you can take a look at the options.\n\n192\n00:11:12.478 --> 00:11:17.558\nIt just says Enable and then\nDHCP Registration, Static, Prefer DHCP,\n\n193\n00:11:17.558 --> 00:11:22.656\nQuery Forwarding, you name it,\nit actually has some of these options.\n\n194\n00:11:22.656 --> 00:11:27.873\nBut you'll see something, if I go to\nServices and then DNS Resolver, okay,\n\n195\n00:11:27.873 --> 00:11:32.703\nhere, because I've enabled it,\nit is pretty much identical, okay.\n\n196\n00:11:32.703 --> 00:11:36.986\nSo the configuration of it really does\nhave to do with a lot of identical\n\n197\n00:11:36.986 --> 00:11:37.939\ninformation.\n\n198\n00:11:37.939 --> 00:11:40.960\nYou cannot run both at the same time.\n\n199\n00:11:40.960 --> 00:11:45.030\nSo either you're gonna use DNS Forwarder\nor you're gonna use DNS Resolver.\n\n200\n00:11:45.030 --> 00:11:48.200\nToday the default is DNS Resolver, okay?\n\n201\n00:11:48.200 --> 00:11:52.360\nSo once that's actually on, it usually\nis just by default, right there, okay.\n\n202\n00:11:52.360 --> 00:11:58.650\nIf it's not, you just simply put a check\nmark there and you're off and ready to go.\n\n203\n00:11:58.650 --> 00:12:03.540\nOnce you have that, now you just say, hey,\nwhere am I actually running this from?\n\n204\n00:12:03.540 --> 00:12:09.645\nOkay, so you're now turning your pfSense\nbox into essentially a DNS server,\n\n205\n00:12:09.645 --> 00:12:13.390\na caching DNS server for your network.\n\n206\n00:12:13.390 --> 00:12:16.110\nNow, the key here are a couple\nof different things before we\n\n207\n00:12:16.110 --> 00:12:16.747\nget started, okay.\n\n208\n00:12:17.760 --> 00:12:24.950\nIf we go back to the System and\nthe General Setup tab here, okay?\n\n209\n00:12:24.950 --> 00:12:27.560\nThis is where you want to make sure\n\n210\n00:12:27.560 --> 00:12:32.210\nyou know who you're gonna be\nforwarding your DNS requests to.\n\n211\n00:12:32.210 --> 00:12:38.060\nSo I went ahead and picked something like\nOpenDNS, okay, is what I picked here.\n\n212\n00:12:38.060 --> 00:12:40.320\nNow, you may be wondering, why OpenDNS?\n\n213\n00:12:40.320 --> 00:12:44.560\nWell usually you pick your\nDNS servers not only for\n\n214\n00:12:44.560 --> 00:12:47.170\nthe ability, of course,\njust to resolve names.\n\n215\n00:12:48.250 --> 00:12:52.280\nBut one of the things that we also\ntalked about during the firewall shows\n\n216\n00:12:52.280 --> 00:12:55.230\nis the ability to restrict content.\n\n217\n00:12:55.230 --> 00:12:59.470\nSo something like OpenDNS may be\nsomething you want to look into.\n\n218\n00:12:59.470 --> 00:13:00.720\nAnd for companies,\n\n219\n00:13:00.720 --> 00:13:05.650\nyou definitely want to look into this if\nyou need to control access to web content.\n\n220\n00:13:05.650 --> 00:13:09.630\nAnd so if you want to do that through\nusing a DNS filter of some sort,\n\n221\n00:13:09.630 --> 00:13:10.690\nyou may actually want to do that.\n\n222\n00:13:10.690 --> 00:13:13.830\nThere's several companies out there,\nyou can pick whichever one you want to.\n\n223\n00:13:13.830 --> 00:13:16.819\nThis one just happened to be one\nof the oldest ones out there and\n\n224\n00:13:16.819 --> 00:13:20.517\none of the best ones that are out there\nas well that you can actually pick too.\n\n225\n00:13:20.517 --> 00:13:24.974\nSo now what I'm doing here is I'm\nessentially setting up what I call my\n\n226\n00:13:24.974 --> 00:13:26.346\nforwarders, okay.\n\n227\n00:13:26.346 --> 00:13:30.613\nSo this is where the pfSense box,\nonce I set up the DNS resolver,\n\n228\n00:13:30.613 --> 00:13:34.590\nif it doesn't have in its cache,\nwhat's it gonna do?\n\n229\n00:13:34.590 --> 00:13:36.630\nIt's gonna ask these servers.\n\n230\n00:13:36.630 --> 00:13:40.518\nNow, the reason why that's important\nis that if I don't set up any\n\n231\n00:13:40.518 --> 00:13:43.375\nDNS servers here,\ntwo things are gonna happen.\n\n232\n00:13:43.375 --> 00:13:48.934\nOne, whatever I set up inside of DHCP,\nas my DNS servers,\n\n233\n00:13:48.934 --> 00:13:55.890\nthat means every device will get\nthose as their DNS servers, okay?\n\n234\n00:13:55.890 --> 00:13:59.180\nSo that's fine if that's where\nI want them to go, okay?\n\n235\n00:13:59.180 --> 00:14:02.840\nBut it's not fine if that's not\nwhere I want them to go, okay?\n\n236\n00:14:02.840 --> 00:14:05.400\nSo it means that that's\nwhat's going to happen.\n\n237\n00:14:05.400 --> 00:14:10.146\nNow, the other thing that I can do\nonce I actually have this set up is I\n\n238\n00:14:10.146 --> 00:14:14.140\ncan make sure that then DNS,\nokay, or DHCP, excuse me,\n\n239\n00:14:14.140 --> 00:14:17.836\nhand out these as being\nthe default servers, okay.\n\n240\n00:14:17.836 --> 00:14:22.443\nActually, we can change it up\nwhere we actually hand out the IP\n\n241\n00:14:22.443 --> 00:14:26.706\naddress of the pfSense box\ninstead to be your DNS server.\n\n242\n00:14:26.706 --> 00:14:30.705\nAnd then that way when it actually\nresolves, it says, ooh, come here,\n\n243\n00:14:30.705 --> 00:14:32.290\ntake a look at the DNS cache.\n\n244\n00:14:32.290 --> 00:14:35.730\nAnd then if it finds it,\nthen we're gonna use these.\n\n245\n00:14:35.730 --> 00:14:37.200\nOr if doesn't find it, excuse me,\n\n246\n00:14:37.200 --> 00:14:41.030\nwe're gonna use these DNS servers to\nhelp us to resolve the rest of the name.\n\n247\n00:14:41.030 --> 00:14:43.140\nSo what happens if I don't put one here?\n\n248\n00:14:43.140 --> 00:14:46.430\nIf I don't do that, DNS or\n\n249\n00:14:46.430 --> 00:14:51.190\nunbound by default says, hey,\nI'm gonna use root hints.\n\n250\n00:14:51.190 --> 00:14:51.870\nOkay?\n\n251\n00:14:51.870 --> 00:14:54.660\nSo if you don't understand the idea\nof root hints, it says, look,\n\n252\n00:14:54.660 --> 00:14:57.920\nI'm not forwarding to another\ndevice that's out there.\n\n253\n00:14:57.920 --> 00:15:01.662\nMy default nature is,\nif I can't figure it out myself,\n\n254\n00:15:01.662 --> 00:15:07.009\nI go straight up to the root servers of\nDNS and I resolve the name that way, okay?\n\n255\n00:15:07.009 --> 00:15:10.880\nNow, that sounds like that's cool,\nthat's exactly what I wanna do.\n\n256\n00:15:10.880 --> 00:15:12.550\nIt can be very busy too, okay?\n\n257\n00:15:12.550 --> 00:15:17.270\nSo, just kinda realize that\nthat may be what you want.\n\n258\n00:15:17.270 --> 00:15:20.730\nMost of the time, if you know\nthat you're controlling access or\n\n259\n00:15:20.730 --> 00:15:23.540\nyou're doing some type of filtering,\nyou may wanna set up whatever\n\n260\n00:15:23.540 --> 00:15:27.305\nDNS servers that that company says\nyou should point them to instead.\n\n261\n00:15:27.305 --> 00:15:30.380\n&gt;&gt; If we used the root hints, would that\ncreate like a chokepoint, maybe like\n\n262\n00:15:30.380 --> 00:15:34.150\na slowdown in network traffic, especially\nwhen it comes to DNS resolution?\n\n263\n00:15:34.150 --> 00:15:36.250\n&gt;&gt; I don't know if it\nwill do that too much.\n\n264\n00:15:36.250 --> 00:15:39.465\nBut you gotta remember that the root\nhint servers are fairly busy.\n\n265\n00:15:39.465 --> 00:15:42.426\nSo if you're actually just an individual\nmachine trying to resolve that,\n\n266\n00:15:42.426 --> 00:15:43.883\nyou're competing against, well,\n\n267\n00:15:43.883 --> 00:15:46.479\nthese DNS servers that are out\nthere are also resolving it, too.\n\n268\n00:15:46.479 --> 00:15:51.530\nSo your little request may not get\nin line as fast as you want to.\n\n269\n00:15:51.530 --> 00:15:54.511\nSo just kind of realize that\nall that can come into play.\n\n270\n00:15:54.511 --> 00:15:57.944\nSo you can leave it blank and\nit'll still work, and it's fine, but\n\n271\n00:15:57.944 --> 00:16:00.913\nyou may end up finding that\nresolve is a little bit slower.\n\n272\n00:16:00.913 --> 00:16:04.544\nOr it may be faster depending on\nwhere you are in relationship,\n\n273\n00:16:04.544 --> 00:16:08.530\nas far as the world goes,\nto those servers that are out there, okay?\n\n274\n00:16:08.530 --> 00:16:13.260\nSo I always wanna make sure that I set up\nwhatever DNS servers I wanna point to.\n\n275\n00:16:13.260 --> 00:16:16.990\nIt may be where you find out from\nyour ISP, you know what I'm saying?\n\n276\n00:16:16.990 --> 00:16:18.890\nWe would rather you use our DNS servers.\n\n277\n00:16:18.890 --> 00:16:21.150\nWell, you use their DNS servers.\n\n278\n00:16:21.150 --> 00:16:23.220\nBut if you have configured\nsome like that and\n\n279\n00:16:23.220 --> 00:16:26.490\nthat's really practical where\nyou're controlling content,\n\n280\n00:16:26.490 --> 00:16:29.705\nyou choose whatever web servers that they\ntell you and then you're ready to go.\n\n281\n00:16:29.705 --> 00:16:34.090\nSo let me go back into the DHCP\nresolver at this point.\n\n282\n00:16:34.090 --> 00:16:37.290\nSo we don't have to deal really\nwhat the IP addresses anymore\n\n283\n00:16:37.290 --> 00:16:40.150\nonce we set them up in\nthe general settings, okay?\n\n284\n00:16:40.150 --> 00:16:46.220\nOnce we have that, we select the network\ninterfaces that we're gonna use DNS on.\n\n285\n00:16:46.220 --> 00:16:49.430\nBy default, if you're gonna use\nthe resolver it says do it for\n\n286\n00:16:49.430 --> 00:16:50.560\nevery single interface.\n\n287\n00:16:51.730 --> 00:16:53.630\nSo I can pick one or the other.\n\n288\n00:16:53.630 --> 00:16:56.960\nBut when it says this,\nit's gonna respond to all the queries.\n\n289\n00:16:56.960 --> 00:16:59.250\nAnd also on the outgoing interfaces,\n\n290\n00:16:59.250 --> 00:17:02.180\nusually it's just the WAN interfaces\nthat we're worried about.\n\n291\n00:17:03.610 --> 00:17:08.520\nNow there are a couple of things we\nhave to worry about right here, okay?\n\n292\n00:17:08.520 --> 00:17:13.680\nNot every DNS server out there on the\nworld right now supports all of DNSSEC,\n\n293\n00:17:13.680 --> 00:17:16.880\nit should be heading that way but\nit doesn't mean that they are.\n\n294\n00:17:16.880 --> 00:17:20.050\nOkay so, if you happen to pick one of\nthose DNS servers that doesn't and\n\n295\n00:17:20.050 --> 00:17:24.450\nyou now have enable DNS support,\nit may not work.\n\n296\n00:17:24.450 --> 00:17:27.222\nI'm just gonna turn that off just in case.\n\n297\n00:17:27.222 --> 00:17:29.150\nI don't know if they do,\nI am just assuming that they do.\n\n298\n00:17:29.150 --> 00:17:33.960\nBut I do not really know if Open DNS does,\nit is just an assumption.\n\n299\n00:17:33.960 --> 00:17:35.700\nBut I am going to leave that off.\n\n300\n00:17:35.700 --> 00:17:39.380\nBut this is a key one right here too.\n\n301\n00:17:39.380 --> 00:17:41.610\nDNS query forwarding.\n\n302\n00:17:41.610 --> 00:17:48.370\nIf you leave it unchecked, right here,\nyou're saying, follow your default.\n\n303\n00:17:48.370 --> 00:17:51.710\nGo ahead and\njust do it by using root instead.\n\n304\n00:17:51.710 --> 00:17:55.260\nSo instead what I'm saying is,\nenable the forwarding mode.\n\n305\n00:17:55.260 --> 00:17:57.790\nI'm telling it to use those DNS servers\n\n306\n00:17:57.790 --> 00:18:00.370\nthat I listed right there\nin the general setup.\n\n307\n00:18:00.370 --> 00:18:04.030\nThat's kinda key if you wanna keep that\ntraffic going the way that you want to.\n\n308\n00:18:04.030 --> 00:18:09.110\nThen from that point, it says register\nleases in the DNS resolver as well.\n\n309\n00:18:09.110 --> 00:18:13.550\nSo this one allows you, if you are\nactually going to take a look at the idea\n\n310\n00:18:13.550 --> 00:18:18.850\nof using DNS to help when somebody\nactually requests a DNS record,\n\n311\n00:18:18.850 --> 00:18:22.598\nyou can actually register the DNS or\nthe DHCP lease, excuse me.\n\n312\n00:18:22.598 --> 00:18:26.940\nIn the resolver as well that makes it\nfaster and you have all that set up to.\n\n313\n00:18:26.940 --> 00:18:30.634\nAll right, now once we get that done,\n\n314\n00:18:30.634 --> 00:18:35.599\nwe simply hit save on top\nof this host override, and\n\n315\n00:18:35.599 --> 00:18:38.493\ndomain override in a moment.\n\n316\n00:18:38.493 --> 00:18:42.842\nBut now once I set that up lemme see,\nI gotta apply it.\n\n317\n00:18:42.842 --> 00:18:46.447\nOkay, so now it's actually successfully\napplied I need to test and\n\n318\n00:18:46.447 --> 00:18:49.490\nsee if these settings\nare actually working.\n\n319\n00:18:49.490 --> 00:18:53.710\nNow the problem I have right\nnow is if I'm using DHCP.\n\n320\n00:18:53.710 --> 00:18:56.850\nLet me see if I find my Windows\n7 box which I believe I am.\n\n321\n00:18:56.850 --> 00:19:00.304\nLet's go to the command prompt\n\n322\n00:19:05.283 --> 00:19:08.840\nAnd there it is, notice that my\nDNS servers are here at 8.8..\n\n323\n00:19:08.840 --> 00:19:09.950\nlike that, okay?\n\n324\n00:19:11.650 --> 00:19:17.190\nSo now, if I try and\ndo like an nslookup to,\n\n325\n00:19:17.190 --> 00:19:21.458\nlet's just do itpro.tv, okay?\n\n326\n00:19:21.458 --> 00:19:26.540\nNotice even though I set it up\nas my DNS resolver, it's saying,\n\n327\n00:19:26.540 --> 00:19:30.250\nRonnie, I am ignoring you.\n\n328\n00:19:30.250 --> 00:19:33.740\nYeah, it doesn't really\nwork that effectively,\n\n329\n00:19:33.740 --> 00:19:38.880\nif you're thinking that's all you have to\ndo is set up DNS resolver and it's done.\n\n330\n00:19:38.880 --> 00:19:42.490\nNow the way that you actually\nmake this work effectively,\n\n331\n00:19:42.490 --> 00:19:45.780\nis you also have to configure\na firewall rule to help you out.\n\n332\n00:19:46.800 --> 00:19:51.840\nSo if I go back to firewall and\nthe rules here,\n\n333\n00:19:51.840 --> 00:19:57.150\nI'm gonna set it up on the interfaces that\nI know that need to request outbound.\n\n334\n00:19:57.150 --> 00:19:58.420\nAnd we're going to do it that way.\n\n335\n00:19:59.640 --> 00:20:01.930\nNow from this point, what do I need?\n\n336\n00:20:01.930 --> 00:20:06.765\nI need a rule that says,\nallow the pfSense Server or\n\n337\n00:20:06.765 --> 00:20:13.410\nallow the pfSense box to become my\nDNS Server and resolve DNS that way.\n\n338\n00:20:13.410 --> 00:20:20.340\nI want to prevent any other servers\nfrom actually doing this, right?\n\n339\n00:20:20.340 --> 00:20:24.504\nSo if I click an Add button, there's\na couple of ways where we can do this.\n\n340\n00:20:24.504 --> 00:20:26.560\nSo I'm gonna select Pass at this point.\n\n341\n00:20:28.020 --> 00:20:33.569\nAnd then on the LAN interface,\nthis time the protocol,\n\n342\n00:20:33.569 --> 00:20:37.715\nbecause DNS is UDP I'm gonna select UDP.\n\n343\n00:20:37.715 --> 00:20:41.820\nThe source is anybody inside of the LAN,\nwhich is gonna be everybody.\n\n344\n00:20:43.340 --> 00:20:46.750\nAnd then the destination,\nI need to change that destination.\n\n345\n00:20:48.090 --> 00:20:51.900\nThat destination I wanna change is to,\nwell, the LAN address.\n\n346\n00:20:51.900 --> 00:20:55.419\nEssentially the default gateway\ngoing in to the DNS server.\n\n347\n00:20:56.980 --> 00:20:59.290\nAnd then from there, I select DNS.\n\n348\n00:21:03.210 --> 00:21:07.991\nAll right, so allows DNS to\n\n349\n00:21:07.991 --> 00:21:12.915\nthe pfSense box,\n\n350\n00:21:12.915 --> 00:21:16.550\nall right?\n\n351\n00:21:16.550 --> 00:21:21.000\nSo I click, Save, and apply the changes.\n\n352\n00:21:21.000 --> 00:21:24.570\nNow once I do that,\nthat's added in down here at the bottom,\n\n353\n00:21:24.570 --> 00:21:25.970\nI need to move this up and\n\n354\n00:21:25.970 --> 00:21:30.817\nI'm just gonna move it above kind of those\ndefault allow all addresses, as well.\n\n355\n00:21:30.817 --> 00:21:35.108\nI may need to move that up to a little bit\nhigher let me kind of do that let me put\n\n356\n00:21:35.108 --> 00:21:36.826\nit right up here underneath.\n\n357\n00:21:38.846 --> 00:21:41.481\nSomething like that.\n\n358\n00:21:41.481 --> 00:21:44.900\nCuz we're testing rules, I don't have to\ngo through all these different rules here.\n\n359\n00:21:44.900 --> 00:21:48.015\nOkay, we can do that,\nnow, we are not done yet.\n\n360\n00:21:48.015 --> 00:21:52.930\nOkay,there is another process here\nthat we can also take a look at doing.\n\n361\n00:21:52.930 --> 00:21:54.550\nWhich is, I need to restrict what?\n\n362\n00:21:54.550 --> 00:21:58.550\nI need to block access to every\nother DNS server out there.\n\n363\n00:21:58.550 --> 00:22:03.140\nOkay, so what I could do is create\nanother additional rule, and\n\n364\n00:22:03.140 --> 00:22:06.375\nI'm going to just copy\nthis rule right here.\n\n365\n00:22:09.710 --> 00:22:15.250\nAnd this time, I want to block or\nI could reject, either one.\n\n366\n00:22:15.250 --> 00:22:17.890\nSo I'm just gonna do block at this point.\n\n367\n00:22:19.080 --> 00:22:24.303\nOn that LAN interface\non the same protocol,\n\n368\n00:22:24.303 --> 00:22:31.240\nbut now, I want it to well,\nreally, any address, okay?\n\n369\n00:22:31.240 --> 00:22:34.140\nNow any other address, that's doing what?\n\n370\n00:22:34.140 --> 00:22:35.850\nDNS, okay?\n\n371\n00:22:35.850 --> 00:22:41.090\nSo if that actually matches up at least\nin logic in my mind, I click, Save.\n\n372\n00:22:42.820 --> 00:22:45.280\nNow I click Apply and\nlet's see where that pasted it.\n\n373\n00:22:46.340 --> 00:22:47.850\nSo now if I take a look.\n\n374\n00:22:47.850 --> 00:22:50.735\nI need to change that\ndescription there to block.\n\n375\n00:22:57.020 --> 00:22:58.190\nThere we go.\n\n376\n00:22:58.190 --> 00:23:00.230\nSo I'm gonna make sure I\ntyped that in correctly.\n\n377\n00:23:00.230 --> 00:23:02.470\nBlock and apply those changes.\n\n378\n00:23:04.770 --> 00:23:06.550\nSo what are we saying?\n\n379\n00:23:06.550 --> 00:23:11.300\nWe're actually saying that what we wanna\ndo is a couple of things here, okay?\n\n380\n00:23:11.300 --> 00:23:17.120\nI want to allow any DNS lookup to\ngo through, as long as it's what?\n\n381\n00:23:17.120 --> 00:23:22.370\nTo this LAN address, which is gonna\nbe of the course the pfSense box.\n\n382\n00:23:22.370 --> 00:23:26.230\nBut any other lookup right\nhere is gonna do that.\n\n383\n00:23:26.230 --> 00:23:27.800\nSo I may have to invert these two.\n\n384\n00:23:27.800 --> 00:23:31.382\nAnd let's see if I invert that,\nthat will kind of do it.\n\n385\n00:23:35.148 --> 00:23:38.520\nNow on those two I'm not sure if the order\nreally, cuz I'm trying to think if\n\n386\n00:23:38.520 --> 00:23:41.450\nthe order on those two really matter or\nnot, if any lookup goes.\n\n387\n00:23:41.450 --> 00:23:42.042\n&gt;&gt; We'll find out.\n\n388\n00:23:42.042 --> 00:23:42.592\n[LAUGH]\n&gt;&gt; Yeah,\n\n389\n00:23:42.592 --> 00:23:44.350\nwe'll find out here in just a moment,\nokay?\n\n390\n00:23:44.350 --> 00:23:46.730\nSo hopefully those two\nare set the way they want to.\n\n391\n00:23:46.730 --> 00:23:50.513\nNow if we remember, like my Windows\n7 box if I can find it here.\n\n392\n00:23:53.817 --> 00:23:58.940\nNow, if I do an nslookup\nto I don't even know\n\n393\n00:23:58.940 --> 00:24:04.485\nif I want to do it to,\nlet's just say slashdot.\n\n394\n00:24:10.076 --> 00:24:12.330\nNotice what happens, okay?\n\n395\n00:24:12.330 --> 00:24:15.080\nSo, it did actually time out here.\n\n396\n00:24:15.080 --> 00:24:18.690\nSo it says server unknown, address,\nbut it did kind of time out.\n\n397\n00:24:18.690 --> 00:24:21.430\nIt didn't really ever give us\nanything that we want it to.\n\n398\n00:24:22.460 --> 00:24:27.028\nIf we change this up just for a moment,\nlet's see what happens then if I change\n\n399\n00:24:27.028 --> 00:24:32.190\nthe setting here.\n\n400\n00:24:32.190 --> 00:24:35.985\nInstead, now this is something\nyou won't normally do, right,\n\n401\n00:24:35.985 --> 00:24:38.745\nas far as this, but\nthis will kinda help us out,\n\n402\n00:24:38.745 --> 00:24:42.062\nis I'm just going to change\nthe DNS settings right here.\n\n403\n00:24:42.062 --> 00:24:45.813\nAnd I'm going to point it to well,\nmy pfSense box.\n\n404\n00:24:52.343 --> 00:24:55.926\nSometimes it locks up when\nI zoom in is what it does.\n\n405\n00:24:55.926 --> 00:24:59.829\nAll right, so now let me go ahead and\nclick on that, click Close.\n\n406\n00:25:02.730 --> 00:25:04.330\nAnd now by default, right?\n\n407\n00:25:04.330 --> 00:25:06.810\nI didn't add in anybody\nelse's DNS servers in there.\n\n408\n00:25:08.050 --> 00:25:11.440\nAnd now let's see if it actually\nlets us get through here.\n\n409\n00:25:11.440 --> 00:25:15.940\nI keep forgetting that there can be\na little bit of a DNS resolver cache\n\n410\n00:25:15.940 --> 00:25:18.120\nissue here for just a moment.\n\n411\n00:25:18.120 --> 00:25:22.409\nSo, let me do an ipconfig /flushdns.\n\n412\n00:25:28.668 --> 00:25:31.844\nLet's just see if it actually\nallows me to get in there.\n\n413\n00:25:31.844 --> 00:25:36.658\nAll right, now, this time notice\nthat the address did change here,\n\n414\n00:25:36.658 --> 00:25:39.090\nbut it's still kind of not exact.\n\n415\n00:25:39.090 --> 00:25:44.912\nWell, so\nlet's see now if we look up www itpro.tv.\n\n416\n00:25:44.912 --> 00:25:46.665\nLet's just try itprotv.\n\n417\n00:25:49.240 --> 00:25:51.060\nSometimes the www doesn't help.\n\n418\n00:25:53.060 --> 00:25:56.310\nSo it doesn't recognize the actual\nname of the server, yet.\n\n419\n00:25:56.310 --> 00:26:00.844\nBut notice that it does look up here and\nit's not actually queried yet.\n\n420\n00:26:00.844 --> 00:26:03.680\nSo, we've got an issue that we\nhave to kind of figure out.\n\n421\n00:26:03.680 --> 00:26:06.630\nAnd it could be my rule order,\nis what I did.\n\n422\n00:26:06.630 --> 00:26:09.980\nBecause it's trying to go out there and\nresolve everything.\n\n423\n00:26:09.980 --> 00:26:11.480\nSo let me see if I can check that out.\n\n424\n00:26:11.480 --> 00:26:15.280\nIf not, there is something else\nthat I need to find out here.\n\n425\n00:26:15.280 --> 00:26:18.415\nSo let me see if I can change that up.\n\n426\n00:26:18.415 --> 00:26:21.885\nOops, get back here.\n\n427\n00:26:21.885 --> 00:26:25.269\nApply that, click Save.\n\n428\n00:26:27.695 --> 00:26:29.177\nAll right, we'll try it one more time.\n\n429\n00:26:29.177 --> 00:26:35.176\n&gt;&gt; [LAUGH]\n&gt;&gt; I just want to see if, there we go.\n\n430\n00:26:35.176 --> 00:26:36.920\nOkay, so that's better.\n\n431\n00:26:36.920 --> 00:26:39.870\nSo it was the rule order\nthat actually happened.\n\n432\n00:26:39.870 --> 00:26:42.870\nSo this is where, like I said, even during\nthe middle of the show, my mind was like,\n\n433\n00:26:42.870 --> 00:26:45.420\nI don't know which one\nreally needs to go first.\n\n434\n00:26:45.420 --> 00:26:49.363\nBut good thing is, you can test it out and\nsee very quickly and get that done.\n\n435\n00:26:49.363 --> 00:26:52.399\n&gt;&gt; Well, I think the most important fact\nis that you realize that the rule order is\n\n436\n00:26:52.399 --> 00:26:53.043\nimportant, and\n\n437\n00:26:53.043 --> 00:26:54.680\nif it doesn't work this way-\n&gt;&gt; [LAUGH]\n\n438\n00:26:54.680 --> 00:26:56.320\n&gt;&gt; Then it's the other way that it works.\n\n439\n00:26:56.320 --> 00:26:58.190\nSo it's not like it's\nthe end of the world,\n\n440\n00:26:58.190 --> 00:27:00.410\nthat's what I hate about\ncertification exams, right?\n\n441\n00:27:00.410 --> 00:27:03.930\nThey're like, you have to know the exact\norder off the top of your head.\n\n442\n00:27:03.930 --> 00:27:05.667\nIn real life,\nyou can kind of play with it a little bit.\n\n443\n00:27:05.667 --> 00:27:08.570\n[LAUGH]\n&gt;&gt; Yeah, and so, I'm not getting.\n\n444\n00:27:08.570 --> 00:27:12.400\nThere it goes, I was gonna say it's not\nreally coming back to me yet, but it did.\n\n445\n00:27:12.400 --> 00:27:15.330\nIt finally did return to this,\nit made it a little bit harder.\n\n446\n00:27:15.330 --> 00:27:19.570\nBut at the end here,\nit did return to me the ITProTV servers.\n\n447\n00:27:19.570 --> 00:27:21.040\nYou probably wonder, why did they do that?\n\n448\n00:27:21.040 --> 00:27:22.590\nWell, remember that it's\ntrying to resolve it.\n\n449\n00:27:22.590 --> 00:27:25.806\nSo, once it couldn't get to its own\ncache as it looked through it, so\n\n450\n00:27:25.806 --> 00:27:26.920\nthat can't answer it.\n\n451\n00:27:26.920 --> 00:27:29.300\nIt can't be authoritative,\nso what did it do?\n\n452\n00:27:29.300 --> 00:27:33.780\nIt went out and actually asked what those\nopenDNS servers, the openDNS servers,\n\n453\n00:27:33.780 --> 00:27:36.470\nwhich is not authoritative\nfrom my machine.\n\n454\n00:27:36.470 --> 00:27:40.830\nSays, hey I can provide you an answer,\nand it returned the address.\n\n455\n00:27:40.830 --> 00:27:46.870\nSo this is how you can actually see\nthat it is now allowing it to work.\n\n456\n00:27:46.870 --> 00:27:50.140\nThe great thing is,\nnotice now by using those two rules,\n\n457\n00:27:50.140 --> 00:27:55.780\nright, we really cannot,\nwell I say that, and you can.\n\n458\n00:27:55.780 --> 00:27:59.100\nYou can actually bypass it,\nright, by changing that DNS,\n\n459\n00:27:59.100 --> 00:28:03.830\njust like I did,\nin the DHCP server right there, okay?\n\n460\n00:28:03.830 --> 00:28:06.950\nSo what you can do is,\nyou can change it to redirect it here.\n\n461\n00:28:06.950 --> 00:28:08.821\nBut then, once you actually get that,\n\n462\n00:28:08.821 --> 00:28:12.404\nhere's the way that you prevent\nsomething like that from working, okay?\n\n463\n00:28:12.404 --> 00:28:20.112\nSo now even if they were\nto change it back to 8.8.8,\n\n464\n00:28:20.112 --> 00:28:25.360\nso let's try nslookup to itpro.tv.\n\n465\n00:28:25.360 --> 00:28:30.259\nBut this time we're going to actually\nuse 8.8.8 as a primary source here.\n\n466\n00:28:30.259 --> 00:28:32.760\nWell, let's see what\nhappens at this point here.\n\n467\n00:28:32.760 --> 00:28:35.970\nSo now it actually says,\nI know that there's a server out there but\n\n468\n00:28:35.970 --> 00:28:39.140\nlet's see if it actually returns\nback anything for us here.\n\n469\n00:28:40.580 --> 00:28:44.082\nSo now, it says,\nrequest to unknown timed out,\n\n470\n00:28:44.082 --> 00:28:47.290\nso it's not even allowing it\nto go all the way through.\n\n471\n00:28:47.290 --> 00:28:51.410\nSo you have to use the combination\nof enabling it, making sure you can\n\n472\n00:28:51.410 --> 00:28:55.120\nforward it to the servers that you\nwant to be able to forward it to.\n\n473\n00:28:55.120 --> 00:28:59.370\nAnd then those firewall rules is also\ngoing to be the important concept here,\n\n474\n00:28:59.370 --> 00:29:01.710\ntoo, to ensure that you put in there.\n\n475\n00:29:01.710 --> 00:29:07.368\nSo, on the firewall rules, the only thing\nthat I did differently here at the end,\n\n476\n00:29:07.368 --> 00:29:12.459\nis I had the first one evaluate,\nas long as it's the server, it's okay.\n\n477\n00:29:12.459 --> 00:29:14.232\nThen the second one, any DNS server, and\n\n478\n00:29:14.232 --> 00:29:16.720\nthat's what I should have\nremembered in my mind.\n\n479\n00:29:16.720 --> 00:29:20.700\nI'm saying hey, if you're doing\na DNS lookup, block it completely.\n\n480\n00:29:20.700 --> 00:29:24.290\nSo yes, that one needed to\ngo second at that point.\n\n481\n00:29:24.290 --> 00:29:26.678\nSo, it really is something\nthat you have to do.\n\n482\n00:29:26.678 --> 00:29:30.800\nBut me in my mind, and under pressure when\nwe're actually trying to do it on time,\n\n483\n00:29:30.800 --> 00:29:32.950\nI sometimes don't remember the order.\n\n484\n00:29:32.950 --> 00:29:37.133\nBut yes, you can test it out, figure\nit out the way that we just did here.\n\n485\n00:29:37.133 --> 00:29:42.340\nAnd so think about using this because it\ncan resolve it now for the entire network.\n\n486\n00:29:42.340 --> 00:29:46.268\nSo instead of Daniel's computer needing\nto go out and cache something else.\n\n487\n00:29:46.268 --> 00:29:50.898\nWell, when he goes out, he's actually\nonly asking the pfSense box, and\n\n488\n00:29:50.898 --> 00:29:55.140\nthis is essentially holding\na central cache for everybody.\n\n489\n00:29:55.140 --> 00:29:57.350\nSo it's one cache\nactually having to do it,\n\n490\n00:29:57.350 --> 00:29:59.633\nrather than 500 if we actually needed to.\n\n491\n00:29:59.633 --> 00:30:01.460\nSo it really is helpful.\n\n492\n00:30:01.460 --> 00:30:04.910\nHis computer will end up caching it,\nbut that will be persistent\n\n493\n00:30:04.910 --> 00:30:09.120\nas long as we're not having to reboot\nthe firewall every 35 seconds.\n\n494\n00:30:09.120 --> 00:30:10.090\nWe'll probably be fine.\n\n495\n00:30:10.090 --> 00:30:11.200\n&gt;&gt; Yeah, that'll be awesome.\n\n496\n00:30:11.200 --> 00:30:14.220\nYeah, well guys,\nif you've ever put on your bucket list,\n\n497\n00:30:14.220 --> 00:30:18.620\nhow do I set up a DNS resolver on\na pfSense firewall, you can go ahead and\n\n498\n00:30:18.620 --> 00:30:20.132\nscratch that sucker right off there.\n\n499\n00:30:20.132 --> 00:30:23.850\n&gt;&gt; Because Ronnie you did a great job of\nexplaining why we might want to do it,\n\n500\n00:30:23.850 --> 00:30:24.960\nhow we can do it.\n\n501\n00:30:24.960 --> 00:30:27.610\nAnd then implementing it and\nseeing some of the pitfalls and\n\n502\n00:30:27.610 --> 00:30:29.970\ncaveats that you might run into as well.\n\n503\n00:30:29.970 --> 00:30:32.170\nRonnie, we do appreciate\nyou stopping by today.\n\n504\n00:30:32.170 --> 00:30:33.810\nAnd we appreciate you guys for watching.\n\n505\n00:30:33.810 --> 00:30:36.240\nBut it's that time yet\nagain, for us to sign off.\n\n506\n00:30:36.240 --> 00:30:38.749\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n507\n00:30:38.749 --> 00:30:39.716\n&gt;&gt; And I'm Ronnie Wong.\n\n508\n00:30:39.716 --> 00:30:42.164\n&gt;&gt; And we'll see you next time.\n\n509\n00:30:42.164 --> 00:30:48.140\n[MUSIC]\n\n510\n00:30:48.140 --> 00:30:50.145\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "197294642"
        },
        {
          "description": "In this episode, Daniel and Ronnie explore the Captive Portal capabilities in pfSense v2.3.2. They start by explaining what Captive Portal is and does, then they demonstrate setting up Captive Portal both without authentication and with authentication.",
          "length": "1747",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-3-Configure_Captive_Portal-011317-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-3-Configure_Captive_Portal-011317-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-3-Configure_Captive_Portal-011317-1-sm.jpg",
          "title": "Configure Captive Portal",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:06.289\nWelcome to ITProTV, I'm your host-\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:06.289 --> 00:00:08.286\n[MUSIC]\n\n3\n00:00:08.286 --> 00:00:12.661\n&gt;&gt; You're watching ITProTV,\n&gt;&gt; All right,\n\n4\n00:00:12.661 --> 00:00:16.275\ngreetings everyone, and welcome to\nanother great episode of ITProTV.\n\n5\n00:00:16.275 --> 00:00:17.983\nI'm your host, Daniel Lowrie.\n\n6\n00:00:17.983 --> 00:00:19.548\nAnd in today's episode,\n\n7\n00:00:19.548 --> 00:00:23.684\nwe are moving on with more on our\npfSense Version 2.3.2 series.\n\n8\n00:00:23.684 --> 00:00:26.423\nAnd of course,\njoining us back in the studio, yet\n\n9\n00:00:26.423 --> 00:00:29.426\nagain to lend his massive expertise and\nexperience and\n\n10\n00:00:29.426 --> 00:00:33.395\nvolumes of knowledge therein,\nis our good friend, Mr. Ronnie Wong.\n\n11\n00:00:33.395 --> 00:00:34.995\nRonnie, welcome back my man,\nhow's it going today?\n\n12\n00:00:34.995 --> 00:00:39.075\n&gt;&gt; It's going great today as we continue\non learning a little bit more about\n\n13\n00:00:39.075 --> 00:00:40.140\npfSense.\n\n14\n00:00:40.140 --> 00:00:42.970\nAnd we're now getting into this\ntopic where we're moving away from,\n\n15\n00:00:42.970 --> 00:00:46.470\nof course, the firewall stuff, and\nwe're starting to actually realize\n\n16\n00:00:46.470 --> 00:00:50.610\nthat pfSense gives us more offerings\nthan just a basic firewall.\n\n17\n00:00:50.610 --> 00:00:53.160\nWe can do, well,\na lot of different things, and one\n\n18\n00:00:53.160 --> 00:00:58.380\nof these is actually incredibly neat, it's\nwhat we call setting up a captive portal.\n\n19\n00:00:58.380 --> 00:01:01.000\nNow, if this is your first\ntime dealing with pfSense-\n\n20\n00:01:01.000 --> 00:01:02.660\n&gt;&gt; Is that where Zod and\n\n21\n00:01:02.660 --> 00:01:04.820\nhis henchmen get put in by that?\n\n22\n00:01:04.820 --> 00:01:05.373\n&gt;&gt; I think so.\n\n23\n00:01:05.373 --> 00:01:07.830\n&gt;&gt; [LAUGH]\n&gt;&gt; That actually is fairly similar.\n\n24\n00:01:07.830 --> 00:01:11.690\nIn speaking of that particular\nincident in the Superman series there,\n\n25\n00:01:11.690 --> 00:01:14.920\nwhere they really can't get\nout until you let them out.\n\n26\n00:01:14.920 --> 00:01:19.250\nYeah, so it does work the same way,\nso very good analogy there.\n\n27\n00:01:19.250 --> 00:01:25.100\n[LAUGH] I think four people might\nhave gotten that, but there we are.\n\n28\n00:01:25.100 --> 00:01:29.010\nSo, captive portal is one of\nthese neat things that we can do,\n\n29\n00:01:29.010 --> 00:01:34.190\nand you may have had questions about this\nbefore, just like I did the first time,\n\n30\n00:01:34.190 --> 00:01:37.590\nI kind of really dealt with\nthe situation and thought about it.\n\n31\n00:01:37.590 --> 00:01:43.890\nIf you've ever gone to some place\nwhere they have a public WiFi hotspot.\n\n32\n00:01:43.890 --> 00:01:47.550\nSo, let's say that you have a coffee shop\nthat you go to, or some fast food place,\n\n33\n00:01:47.550 --> 00:01:51.340\nand they give you access to their WiFi.\n\n34\n00:01:51.340 --> 00:01:55.110\nNormally, when you make that\ninitial connection to connect in,\n\n35\n00:01:55.110 --> 00:01:59.910\nnotice you're not asked for a username or\na password a majority of the times.\n\n36\n00:01:59.910 --> 00:02:02.980\nA lot of times your, Ashley just said,\nhey, if you want to connect,\n\n37\n00:02:02.980 --> 00:02:04.310\nyou make that connection.\n\n38\n00:02:04.310 --> 00:02:07.360\nAnd then it automatically\nlaunches a webpage for\n\n39\n00:02:07.360 --> 00:02:10.520\nyou to bring you up to this webpage.\n\n40\n00:02:10.520 --> 00:02:14.290\nAnd normally, there's what we call\nan end user licensing agreement, or\n\n41\n00:02:14.290 --> 00:02:16.200\nsome type of connection agreement.\n\n42\n00:02:16.200 --> 00:02:18.885\nIt's just an agreement to\nthe use of the service, right?\n\n43\n00:02:18.885 --> 00:02:21.654\nThat you're not gonna do anything\nto take down their network, and\n\n44\n00:02:21.654 --> 00:02:24.733\nyou're not gonna blame them for\nanything that happens to your computer.\n\n45\n00:02:24.733 --> 00:02:29.170\nBut most of it, just put a check mark\nthere, and then we go ahead and we click.\n\n46\n00:02:29.170 --> 00:02:32.711\nAnd that makes us to have that connection\nall the way through to the Internet.\n\n47\n00:02:32.711 --> 00:02:37.117\nSo that is what we call a captive portal,\nit allows us to be able to present\n\n48\n00:02:37.117 --> 00:02:41.830\ninformation to whoever's connecting\nin right at the beginning.\n\n49\n00:02:41.830 --> 00:02:45.960\nSo that we at least know that we can\ncount, and be able to actually audit and\n\n50\n00:02:45.960 --> 00:02:48.470\nbe able to monitor those\ntypes of connections.\n\n51\n00:02:48.470 --> 00:02:51.490\nAnd we can set up limitations for\nthem, as well.\n\n52\n00:02:51.490 --> 00:02:55.520\nNow, inside of pfSense,\nwe can do the very same thing.\n\n53\n00:02:55.520 --> 00:03:01.240\nAnd if you thought about this for, like I\nsaid, a hotel or a public WiFi hot spot,\n\n54\n00:03:01.240 --> 00:03:04.240\nsuch as a fast food or\ncoffee joint that you have out there,\n\n55\n00:03:05.390 --> 00:03:09.120\nthese are all great examples\nof using this captive portal.\n\n56\n00:03:09.120 --> 00:03:12.500\nMost of the time, this particular\ntechnology that we're really talking\n\n57\n00:03:12.500 --> 00:03:15.880\nabout here, you can buy appliances for\nthese things.\n\n58\n00:03:15.880 --> 00:03:20.270\nSo, you can go out and look for\nsome type of captive portal appliance.\n\n59\n00:03:20.270 --> 00:03:24.290\nAnd you can spend thousands of dollars\ngetting this particular appliance that\n\n60\n00:03:24.290 --> 00:03:27.460\nwill handle that functionality\nthat we're talking about, but\n\n61\n00:03:27.460 --> 00:03:31.840\nthe very fact is pfSense also\nbuilds that functionality into\n\n62\n00:03:31.840 --> 00:03:36.060\nthe operating system itself, and\nit gives us three different flavors\n\n63\n00:03:36.060 --> 00:03:40.980\nthat we can actually provide\nwithout really any additional cost.\n\n64\n00:03:40.980 --> 00:03:42.905\nSo, when it comes down to implementation,\n\n65\n00:03:42.905 --> 00:03:46.180\nit's really not that difficult\nof an implementation.\n\n66\n00:03:46.180 --> 00:03:49.280\nAnd we do have three different\nimplementation that we can follow.\n\n67\n00:03:49.280 --> 00:03:52.190\nAnd we're really gonna do two out of\nthree third one takes a little bit more\n\n68\n00:03:52.190 --> 00:03:54.740\ncomplex time and setup,\nbut as you read through,\n\n69\n00:03:54.740 --> 00:03:58.390\nyou actually got to do that one on\nyour own if you need to as well.\n\n70\n00:03:58.390 --> 00:04:01.260\nSo, we'll kinda talk like that\nthird one just a little bit more\n\n71\n00:04:01.260 --> 00:04:04.080\nin situation that you\nprice seen that in two.\n\n72\n00:04:04.080 --> 00:04:07.860\nSo of course, that means we are ready\nto start the idea of configuring for\n\n73\n00:04:07.860 --> 00:04:09.880\nthis captive portal,\nand what we need to do.\n\n74\n00:04:09.880 --> 00:04:14.620\nWe're gonna set the basic no\nauthentication version, right away.\n\n75\n00:04:14.620 --> 00:04:18.116\nAnd then we'll show how to add the\nauthentication in there that we want to,\n\n76\n00:04:18.116 --> 00:04:20.613\nif we choose to even do it for\nour own network instead,\n\n77\n00:04:20.613 --> 00:04:22.682\nwe wanna control\nthe traffic that goes out.\n\n78\n00:04:22.682 --> 00:04:26.641\nWe can actually have people log in and\nbe able to give us the username,\n\n79\n00:04:26.641 --> 00:04:29.387\npassword that they need\nto connect out as well.\n\n80\n00:04:29.387 --> 00:04:33.620\nSo, let's go ahead and take a look at\nmy computer as we start to configure.\n\n81\n00:04:33.620 --> 00:04:36.840\nNow, of course, this means that you\nhave to have a couple of things setup.\n\n82\n00:04:36.840 --> 00:04:40.660\nFirst and foremost,\nnormally the captive portal is, of course,\n\n83\n00:04:40.660 --> 00:04:44.410\ngonna be going from the inside of whatever\nnetwork interface that you're on.\n\n84\n00:04:44.410 --> 00:04:46.790\nFor us, it's gonna be our LAN interface.\n\n85\n00:04:46.790 --> 00:04:50.060\nSo, if I select that's gonna be\nLAN interface right here, and then\n\n86\n00:04:50.060 --> 00:04:54.010\nthat's gonna be connecting through the WAN\ninterface to get us out onto the Internet.\n\n87\n00:04:54.010 --> 00:04:57.651\nSo, what we're gonna do is test out our\nconnection right now without going through\n\n88\n00:04:57.651 --> 00:04:58.544\nthe active portal.\n\n89\n00:04:58.544 --> 00:05:04.489\nI'm clicking on a new tab, and I'm just\ngonna type in our ITPro.TV address,\n\n90\n00:05:04.489 --> 00:05:07.748\njust to make sure that\nwe can get out there.\n\n91\n00:05:07.748 --> 00:05:11.270\nSo in a moment,\nhopefully everything will connect out.\n\n92\n00:05:11.270 --> 00:05:13.430\nAnd just verifying that\nwe have good connection.\n\n93\n00:05:13.430 --> 00:05:14.740\nSo when we set up capital portal,\n\n94\n00:05:14.740 --> 00:05:18.620\nwe of course want to make sure that\nwe have a good connection first.\n\n95\n00:05:18.620 --> 00:05:20.550\nAnd then secondly, of course,\n\n96\n00:05:20.550 --> 00:05:23.680\nwe need to make sure that\neverything goes live at some point.\n\n97\n00:05:23.680 --> 00:05:26.340\nIt looks like this is just taking\nit's sweet time coming in.\n\n98\n00:05:26.340 --> 00:05:28.980\nSo, yeah, it's not the greatest\nconnection in the world.\n\n99\n00:05:28.980 --> 00:05:30.450\nBut it is finally come in here.\n\n100\n00:05:30.450 --> 00:05:31.220\n&gt;&gt; But it is a connection.\n\n101\n00:05:31.220 --> 00:05:34.210\n&gt;&gt; Yeah, it is a connection, and\nthat's all that really matters, too.\n\n102\n00:05:34.210 --> 00:05:38.656\nSecondly, of course, is because of the way\nthat IP addresses are gonna be assigned,\n\n103\n00:05:38.656 --> 00:05:42.425\nyou wanna make sure that whatever\ninterface, you're also gonna do this\n\n104\n00:05:42.425 --> 00:05:46.357\ncaptive portal, that DHCP is turned on for\nthat particular interface..\n\n105\n00:05:46.357 --> 00:05:49.460\nSo, if you choose something like a guest\nnetwork, and you choose to make that\n\n106\n00:05:49.460 --> 00:05:52.205\nvirtual interface, make sure you\nhave DHCP turned on there, too.\n\n107\n00:05:52.205 --> 00:05:56.180\nAnd that's pretty much kind of\nthe two basic requirements.\n\n108\n00:05:56.180 --> 00:05:59.860\nAnd of course, you also need to\nmake sure you understand that\n\n109\n00:05:59.860 --> 00:06:02.230\nwhat you're trying to do is\ncapture everybody's traffic,\n\n110\n00:06:02.230 --> 00:06:06.230\nor whoever's traffic it is as\nthey enter that LAN interface.\n\n111\n00:06:06.230 --> 00:06:09.310\nHold them for a moment until they\nactually say yes, I want to connect, or\n\n112\n00:06:09.310 --> 00:06:12.610\nwhatever it might be, and\nthen it will allow them through.\n\n113\n00:06:12.610 --> 00:06:16.340\nNow, it doesn't have to actually do it\nevery time they make a connection, but\n\n114\n00:06:16.340 --> 00:06:20.240\nyou can establish a per Mac address,\nor even per IP address if you want to,\n\n115\n00:06:20.240 --> 00:06:23.530\nand we'll see those options\nas we start setting this up.\n\n116\n00:06:23.530 --> 00:06:25.570\nSo, the great thing is we've\nnow verified that, and\n\n117\n00:06:25.570 --> 00:06:29.350\nI do have DHCP turned on\non the current interface.\n\n118\n00:06:29.350 --> 00:06:33.190\nFrom that point, in setting up captive\nportal, I'm gonna go up here to the menu\n\n119\n00:06:33.190 --> 00:06:37.880\nat the very top of the screen, and go to\nServices, and then select Captive Portal.\n\n120\n00:06:39.000 --> 00:06:42.160\nNow, in setting up captive portal,\none of the terms here of course is\n\n121\n00:06:42.160 --> 00:06:45.740\nthat they want you to create what\nthey call a Captive Portal Zone.\n\n122\n00:06:45.740 --> 00:06:48.910\nSo, you can actually put\nmore than one interface\n\n123\n00:06:48.910 --> 00:06:51.320\ninto a single zone if you want to.\n\n124\n00:06:51.320 --> 00:06:52.920\nSo, if I had three different LAN's,\n\n125\n00:06:52.920 --> 00:06:55.650\nI could actually say I want a guest\nnetwork for each one of those three.\n\n126\n00:06:55.650 --> 00:06:56.264\nIt's perfectly fine.\n\n127\n00:06:56.264 --> 00:07:00.461\nI can add all three to come here\nto this captive portal, but\n\n128\n00:07:00.461 --> 00:07:04.141\nif I remember correctly,\nand I think I do is I only,\n\n129\n00:07:04.141 --> 00:07:08.870\none interface can be only in one port,\nin one zone at any one time.\n\n130\n00:07:08.870 --> 00:07:11.384\nSo, even though you can have\nthree interfaces in one zone,\n\n131\n00:07:11.384 --> 00:07:15.380\nyou can't take a single interface and\ngo I want it in zone one, two, and three.\n\n132\n00:07:15.380 --> 00:07:18.150\nSo, that's kind of one of the limitations.\n\n133\n00:07:18.150 --> 00:07:21.260\nLet me go ahead and\nclick Add on the right-hand side.\n\n134\n00:07:21.260 --> 00:07:26.037\nAnd once I do that it's gonna ask me for\na zone name, I've already created a couple\n\n135\n00:07:26.037 --> 00:07:29.580\nof them but we'll use\nitprotvdemo_guest as our zone name.\n\n136\n00:07:29.580 --> 00:07:33.748\nRemember, they do have it where they\nshow you what you can have in the zone,\n\n137\n00:07:33.748 --> 00:07:37.320\ndashes are not going to work, so\nyou just have to remember that,\n\n138\n00:07:37.320 --> 00:07:40.182\ncuz this is part of the way\nthat the zone is created.\n\n139\n00:07:40.182 --> 00:07:44.137\nAnd then this description here\nif you want to, of course,\n\n140\n00:07:44.137 --> 00:07:49.158\nthis is a good one Guest access, or\nPortal for Guest access is what I want.\n\n141\n00:07:49.158 --> 00:07:52.018\nAnd this is when it will\nreveal the configuration,\n\n142\n00:07:52.018 --> 00:07:54.088\nis after doing the Save &amp; Continue.\n\n143\n00:07:54.088 --> 00:07:56.205\nOnce we have the Save &amp; Continue,\n\n144\n00:07:56.205 --> 00:07:59.420\nnotice that the screen\nchanges up just a little bit.\n\n145\n00:07:59.420 --> 00:08:00.665\nYou have configuration.\n\n146\n00:08:00.665 --> 00:08:05.096\nYou can also limit by ma addresses\nallow IP addresses host names.\n\n147\n00:08:05.096 --> 00:08:09.360\nWe'll talk of vouchers and a little bit of\ntime so I call back that and then files if\n\n148\n00:08:09.360 --> 00:08:13.450\nyou also want them to download specific\nfiles or have access to files.\n\n149\n00:08:13.450 --> 00:08:15.024\nYou can do that as well.\n\n150\n00:08:15.024 --> 00:08:16.868\nI'm going to put a check mark there and\n\n151\n00:08:16.868 --> 00:08:20.010\nnow notice the rest of\nthe configuration portal.\n\n152\n00:08:20.010 --> 00:08:24.500\nPretty much clear is up for us as we start\nto take a look at some of the options.\n\n153\n00:08:24.500 --> 00:08:26.020\nNow, you're not to configure every option.\n\n154\n00:08:26.020 --> 00:08:30.158\nThere are a few that we wanna point out,\nas you get this setup.\n\n155\n00:08:30.158 --> 00:08:31.300\nFirst and foremost,\n\n156\n00:08:31.300 --> 00:08:35.820\nyou've got to know what interface\nyou want to capture the traffic on.\n\n157\n00:08:35.820 --> 00:08:40.317\nSo this is where if you do need to, make\nsure you take a diagram a sheet of paper.\n\n158\n00:08:40.317 --> 00:08:42.228\nDiagram the logic out.\n\n159\n00:08:42.228 --> 00:08:46.464\nThat always helps if you have\na network where there's 10 or\n\n160\n00:08:46.464 --> 00:08:49.240\n15 different possibilities.\n\n161\n00:08:49.240 --> 00:08:52.548\nMake sure you write out that diagram and\nit makes sense to you.\n\n162\n00:08:52.548 --> 00:08:55.519\n&gt;&gt; That's really good for\njust network documentation in general,\n\n163\n00:08:55.519 --> 00:08:59.246\nto have that laying around so that anybody\nthat's part of your networking team can\n\n164\n00:08:59.246 --> 00:09:01.568\ncome in, take a look and\nsee how it's meant to be and\n\n165\n00:09:01.568 --> 00:09:04.590\nthen see if that lines up with\nwhat the documentation says.\n\n166\n00:09:04.590 --> 00:09:06.142\n&gt;&gt; And that also helps in this situation.\n\n167\n00:09:06.142 --> 00:09:07.606\nAnd the more that I do this,\n\n168\n00:09:07.606 --> 00:09:11.480\nthe more that I have to do this because\nI realize what a big help it is.\n\n169\n00:09:11.480 --> 00:09:13.979\nWhat Daniel says is pretty much the key.\n\n170\n00:09:13.979 --> 00:09:17.230\nBut what if set everything up and\nI'm going like why isn't this working?\n\n171\n00:09:17.230 --> 00:09:21.070\nWell instead of me just trying to tell\nDaniel what it is, I can bring that\n\n172\n00:09:21.070 --> 00:09:25.555\ndocumentation and go, Daniel here is how,\ndoes that look right or sound correct?\n\n173\n00:09:25.555 --> 00:09:28.171\nIt really helps when you explain\nthat to somebody else and\n\n174\n00:09:28.171 --> 00:09:31.180\nthey can kind of work through\nthe logic with you to help out there.\n\n175\n00:09:31.180 --> 00:09:34.695\nSo, just make sure you use, and then they\ngo no that's supposed to be that LAN\n\n176\n00:09:34.695 --> 00:09:36.752\ninterface, not the one\nthat you chose there.\n\n177\n00:09:36.752 --> 00:09:38.600\nSo it may happen where you see that.\n\n178\n00:09:38.600 --> 00:09:42.502\nWe've only got two interfaces so\nthis makes it very easy.\n\n179\n00:09:42.502 --> 00:09:48.050\nThe other one is also where it says\nmaximum concurrent connections.\n\n180\n00:09:48.050 --> 00:09:52.493\nNow, this is not how many times\nyou can actually connect in, but\n\n181\n00:09:52.493 --> 00:09:55.879\nthe way that it describes\nit is kind of neat here.\n\n182\n00:09:55.879 --> 00:09:59.260\nLimit's the number of current connections\nto the captive portal server.\n\n183\n00:09:59.260 --> 00:10:03.247\nDoesn't limit how many users can\nbe logged on at the same time.\n\n184\n00:10:03.247 --> 00:10:04.083\nBut rather,\n\n185\n00:10:04.083 --> 00:10:09.770\nhow many connections can a single IP\naddress establish to the portal server.\n\n186\n00:10:09.770 --> 00:10:13.846\nSo if you wanted to, could I open\nup five or six different tabs and\n\n187\n00:10:13.846 --> 00:10:16.803\nend up connecting to\nthe cab to portal server?\n\n188\n00:10:16.803 --> 00:10:19.080\nYes, if I wanted to limit that.\n\n189\n00:10:19.080 --> 00:10:20.944\nBut I'm just going to chose one.\n\n190\n00:10:20.944 --> 00:10:22.706\nI really only need one.\n\n191\n00:10:22.706 --> 00:10:27.400\nI'm not doing really any authentication\nthat requires multiple connections here.\n\n192\n00:10:27.400 --> 00:10:28.733\nSo I'm just gonna say,\n\n193\n00:10:28.733 --> 00:10:32.543\nI want that one IP address to really\nonly have to connect at one time.\n\n194\n00:10:32.543 --> 00:10:36.950\nThese other ones are also\nimportant on the next two.\n\n195\n00:10:36.950 --> 00:10:39.155\nIdle timeout and hard timeout.\n\n196\n00:10:39.155 --> 00:10:44.940\nThis is really dependent on how busy your\ncaptive portal network is going to be.\n\n197\n00:10:44.940 --> 00:10:49.326\nYou can imagine something like a coffee\nshop where people may get there and\n\n198\n00:10:49.326 --> 00:10:53.286\nstand in line for five to ten minutes,\nand then get their coffee and\n\n199\n00:10:53.286 --> 00:10:56.699\nmaybe it actually takes a bit longer,\nand you pay order.\n\n200\n00:10:56.699 --> 00:10:59.260\nMaybe it actually comes to be\nabout 15 minutes all along.\n\n201\n00:10:59.260 --> 00:11:02.270\nAnd they may sit there for\nhalf an hour for all you know.\n\n202\n00:11:02.270 --> 00:11:05.821\nIt maybe where you go, look, if they\nconnect in, that’s perfectly fine, but\n\n203\n00:11:05.821 --> 00:11:08.641\nif they're not doing anything,\nthey are just connecting in.\n\n204\n00:11:08.641 --> 00:11:12.526\nThat takes one of these spaces that\nsomebody else could be able to use if they\n\n205\n00:11:12.526 --> 00:11:14.370\nare not using anything.\n\n206\n00:11:14.370 --> 00:11:19.695\nSo instead,\nyou may want to limit the Idle Timeout.\n\n207\n00:11:19.695 --> 00:11:23.338\nIf they connect for ten minutes and\nno traffic is actually going through,\n\n208\n00:11:23.338 --> 00:11:25.640\nkick them off is what\nit’s actually gonna do.\n\n209\n00:11:25.640 --> 00:11:27.235\nIt's gonna give them a timeout.\n\n210\n00:11:27.235 --> 00:11:29.250\nNow, it doesn't mean\nthat they can't log in.\n\n211\n00:11:29.250 --> 00:11:32.971\nIt even tells you right here, they can\nlog in immediately again if they need to.\n\n212\n00:11:32.971 --> 00:11:37.116\nBut, if you really wanna make sure that\nyou're being fair, especially with\n\n213\n00:11:37.116 --> 00:11:41.850\nthe large number of people, this maybe\nthe way to go, make that the timeout.\n\n214\n00:11:41.850 --> 00:11:46.723\nThe other one that you may also do as well\nand usually using these in a combination\n\n215\n00:11:46.723 --> 00:11:51.083\nas key is not the only do you want to\nset the idle, but you might say look,\n\n216\n00:11:51.083 --> 00:11:55.698\nI don't expect them to be on my any\nlonger than an hour or two hours.\n\n217\n00:11:55.698 --> 00:12:00.318\nIf they're just there all day, they're\nusing your shop as an internet cafe,\n\n218\n00:12:00.318 --> 00:12:04.530\nyou may go no, no, no, I want them\nto actually be able to do this.\n\n219\n00:12:04.530 --> 00:12:06.282\nWhere even if they're connected and\n\n220\n00:12:06.282 --> 00:12:10.069\nthey think that they're just gonna stream\nNetflix over my connection all day,\n\n221\n00:12:10.069 --> 00:12:14.096\nI'm gonna limit them to 60 minutes or\nyou may do 30 minutes, whatever it may be.\n\n222\n00:12:14.096 --> 00:12:18.030\nBut each time they'd have to reconnect and\nget connected back in to do so.\n\n223\n00:12:18.030 --> 00:12:21.357\n&gt;&gt; So you don't have to take\nthe drop down box timeouts.\n\n224\n00:12:21.357 --> 00:12:23.160\nThose are just set in there as defaults.\n\n225\n00:12:23.160 --> 00:12:25.449\nYou can put it 300 minutes, or\n3 minutes, or whatever you like.\n\n226\n00:12:25.449 --> 00:12:27.850\n&gt;&gt; Right, yeah,\nnow you do have to be careful.\n\n227\n00:12:27.850 --> 00:12:30.678\nLike the idle timeout\nversus the hard timeout.\n\n228\n00:12:30.678 --> 00:12:34.070\nThe auto timeout always has to\nbe less than the hard timeout.\n\n229\n00:12:34.070 --> 00:12:37.560\nIf you do it backward,\nit doesn't really work for you.\n\n230\n00:12:37.560 --> 00:12:38.441\n&gt;&gt; It defeats the purpose.\n\n231\n00:12:38.441 --> 00:12:41.640\n&gt;&gt; It does really defeat that situation.\n\n232\n00:12:41.640 --> 00:12:46.155\nThe other thing you can also set is what\nwe call pass through credits which says\n\n233\n00:12:46.155 --> 00:12:50.687\nfor that MAC address if they make ten\ndifferent connections perfectly fine.\n\n234\n00:12:50.687 --> 00:12:52.893\nBut, that may be a limitation,\nwhere you go, look,\n\n235\n00:12:52.893 --> 00:12:55.934\nwithout having to re-authenticate,\nor having to go back to the portal,\n\n236\n00:12:55.934 --> 00:12:57.820\nI'll give you ten times to connect.\n\n237\n00:12:57.820 --> 00:13:00.720\nBut, even if they don't, right,\neven if they go for an 11th one,\n\n238\n00:13:00.720 --> 00:13:01.732\nit won't do anything.\n\n239\n00:13:01.732 --> 00:13:03.670\nIt will just have them reconnect again,-\n&gt;&gt; Mm-hm.\n\n240\n00:13:03.670 --> 00:13:04.987\n&gt;&gt; And then they'll be fine.\n\n241\n00:13:04.987 --> 00:13:08.580\n&gt;&gt; So, you can set up a lot of\ndifferent settings like that.\n\n242\n00:13:08.580 --> 00:13:11.202\nThe rest of these are all\nabout just waiting periods and\n\n243\n00:13:11.202 --> 00:13:13.484\nhow long they have to do\nbefore they reconnect.\n\n244\n00:13:13.484 --> 00:13:15.894\nYou might set it like,\nif they've been on here for an hour,\n\n245\n00:13:15.894 --> 00:13:19.300\nI'm gonna make them wait 15\nminutes before they can reconnect.\n\n246\n00:13:19.300 --> 00:13:20.788\nIt's all up to you on how you're doing it.\n\n247\n00:13:20.788 --> 00:13:23.274\nI'm going to leave it all the same for\nright now.\n\n248\n00:13:23.274 --> 00:13:26.544\nAuthentication, if you are gonna\nend up using a course,\n\n249\n00:13:26.544 --> 00:13:29.611\nthe authentication methods\nthat are also out there,\n\n250\n00:13:29.611 --> 00:13:34.120\nyou can redirect them to another\nauthentication server if you want.\n\n251\n00:13:34.120 --> 00:13:36.122\nBlock MAC addresses, you name it.\n\n252\n00:13:36.122 --> 00:13:39.970\nAnd MAC filtering, I'm not gonna\nworry about doing any of this.\n\n253\n00:13:39.970 --> 00:13:44.518\nThe other limitation here that you may\nwant to take a look at, of course,\n\n254\n00:13:44.518 --> 00:13:47.888\nis just the default download and\nthe uploads as well.\n\n255\n00:13:47.888 --> 00:13:51.343\nAnd this, it tells you, it says the\ncaptive portal will restrict each user,\n\n256\n00:13:51.343 --> 00:13:53.100\nand that's the key.\n\n257\n00:13:53.100 --> 00:13:56.847\nSo, if you have a user that’s coming in\ndeciding Netflix is the way to go, but\n\n258\n00:13:56.847 --> 00:14:00.884\nyou have 50 other users on the network,\nthey're probably going to be connecting\n\n259\n00:14:00.884 --> 00:14:03.538\ninto whatever they're trying\nto connect in not well,\n\n260\n00:14:03.538 --> 00:14:06.680\nbecause one guy's hogging all\nthe bandwidth trying to get out.\n\n261\n00:14:06.680 --> 00:14:08.183\nSo, it could be where you go,\n\n262\n00:14:08.183 --> 00:14:12.120\nI really don't want them doing\nNetflix on this guest connection.\n\n263\n00:14:12.120 --> 00:14:14.012\nInstead let me go ahead and\n\n264\n00:14:14.012 --> 00:14:18.578\nset you a rate limit what we have\navailable for every user to do.\n\n265\n00:14:18.578 --> 00:14:21.230\nNot as essential as it once was.\n\n266\n00:14:21.230 --> 00:14:25.730\nI remember in a previous business\nour main internet connection right,\n\n267\n00:14:25.730 --> 00:14:30.836\nwas a 1.544 megabit frame relay\nconnection that we have, which was great.\n\n268\n00:14:30.836 --> 00:14:35.743\nBut, there was one night where we actually\ntook a look and there were something like\n\n269\n00:14:35.743 --> 00:14:40.510\n72 users trying to connect in on that in\nthe evening cuz there was a movie theater\n\n270\n00:14:40.510 --> 00:14:44.744\nIn the park lot I guess they decide to\neat and they decided to connect in.\n\n271\n00:14:44.744 --> 00:14:51.003\nBut 72 trying to divide that up over\nthe 1.554 I mean that's a lot of division.\n\n272\n00:14:51.003 --> 00:14:53.699\n&gt;&gt; That's spreading very little\nbutter over a lot of bread.\n\n273\n00:14:53.699 --> 00:14:56.176\n[LAUGH]\n&gt;&gt; Yeah, it really does limit that.\n\n274\n00:14:56.176 --> 00:14:59.524\nBut now imagine if you said I'm not\ngonna limit that on that guy just says,\n\n275\n00:14:59.524 --> 00:15:02.440\nI'm gonna take up every bit of it\nin that second and third part and\n\n276\n00:15:02.440 --> 00:15:05.786\ntry to connect in\n&gt;&gt; Yeah a little bit harsher.\n\n277\n00:15:05.786 --> 00:15:09.588\nSo notice these three different\nauthentication methods okay.\n\n278\n00:15:09.588 --> 00:15:11.483\nActually, here it is.\n\n279\n00:15:11.483 --> 00:15:14.603\nNo authentication and then of course,\nwe can use just user name and\n\n280\n00:15:14.603 --> 00:15:16.340\npassword authentication.\n\n281\n00:15:16.340 --> 00:15:19.261\nAnd of course vouchers\nis kind of the big one.\n\n282\n00:15:19.261 --> 00:15:21.936\nNow, if you wanted to say,\nI am offloading the authentication,\n\n283\n00:15:21.936 --> 00:15:23.740\nthey give you the ability to do RADIUS.\n\n284\n00:15:23.740 --> 00:15:26.985\nAnd you can do that as long as your\nRADIUS server is set up can handle it.\n\n285\n00:15:26.985 --> 00:15:29.044\nIt's off, and it's ready to go.\n\n286\n00:15:29.044 --> 00:15:31.052\nLocal user authentication\nis like it sounds.\n\n287\n00:15:31.052 --> 00:15:33.750\nYou create whoever can access this.\n\n288\n00:15:33.750 --> 00:15:36.790\nYou create that database right\nthere on the pfSense firewall.\n\n289\n00:15:36.790 --> 00:15:39.740\nAnd then you're also\nable to connect in too.\n\n290\n00:15:39.740 --> 00:15:42.992\nAnd the voucher system,\nas well which is kind of neat.\n\n291\n00:15:42.992 --> 00:15:45.539\nYou can have this set up to something\nlike a point of sale system.\n\n292\n00:15:45.539 --> 00:15:50.337\nThat if you by a donut and coffee\nfrom me and you want internet access,\n\n293\n00:15:50.337 --> 00:15:53.812\nyou tell me that as you\norder everything and then,\n\n294\n00:15:53.812 --> 00:15:57.157\non the receipt it prints\nout your voucher code.\n\n295\n00:15:57.157 --> 00:15:58.708\nSo, that now when you go and\n\n296\n00:15:58.708 --> 00:16:02.626\nlogin, the portal says Enter the code\nat the bottom of your receipt.\n\n297\n00:16:02.626 --> 00:16:05.225\nOkay, so all of that stuff can be set up.\n\n298\n00:16:05.225 --> 00:16:08.957\nAnd this is normally something that,\nin the past, you would have seen that\n\n299\n00:16:08.957 --> 00:16:13.045\nactually took an integrative appliance to\nactually connect to your point of sales\n\n300\n00:16:13.045 --> 00:16:16.981\nback to that appliance, and then to\nyour portal and getting access outbound.\n\n301\n00:16:16.981 --> 00:16:21.233\nWell, you can see why now that pfSense\nsays look, we can do this voucher thing.\n\n302\n00:16:21.233 --> 00:16:23.466\nWe just have to make sure that\nall the connections are right.\n\n303\n00:16:23.466 --> 00:16:26.000\nIt is a complex setup,\nthat's the one we're not going to do.\n\n304\n00:16:26.000 --> 00:16:30.973\nWe're gonna do the no authentication\nat least, is what we're gonna do.\n\n305\n00:16:30.973 --> 00:16:36.230\nAll right, so DHCP, we already told you,\nwe have to have that.\n\n306\n00:16:36.230 --> 00:16:38.680\nGood internet connection,\nmake sure you can get out.\n\n307\n00:16:38.680 --> 00:16:40.040\nThat's kind of key.\n\n308\n00:16:40.040 --> 00:16:43.140\nIf those two are good,\nthere's really only one other requirement.\n\n309\n00:16:43.140 --> 00:16:46.460\nWhich is,\nwhat is going to be on your portal page?\n\n310\n00:16:46.460 --> 00:16:52.620\nSo when you select that, if I click Browse\nhere, let's see if that gives me that.\n\n311\n00:16:52.620 --> 00:16:56.030\nOkay, I created four different,\nI actually created five, one for\n\n312\n00:16:56.030 --> 00:16:58.080\ntesting more than anything else.\n\n313\n00:16:58.080 --> 00:17:00.988\nBut this is just regular HTML code.\n\n314\n00:17:00.988 --> 00:17:03.920\nAnd if you're going, well, Ronnie,\nI don't know what HTML code those are.\n\n315\n00:17:03.920 --> 00:17:06.850\nWell, go out to the Internet,\nokay, and do what I did.\n\n316\n00:17:06.850 --> 00:17:08.870\nFind some templates that are available and\n\n317\n00:17:08.870 --> 00:17:13.030\nmodify them, kind of to the way\nthat you want them to actually be.\n\n318\n00:17:13.030 --> 00:17:16.290\nAnd if you actually go to the pfSense\nwebsite, that's where I pulled these off\n\n319\n00:17:16.290 --> 00:17:20.710\nof is actually in the pfSense website,\nyou do have to be very exacting.\n\n320\n00:17:20.710 --> 00:17:25.320\nSo if you're like me and you're not\ngreat at HTML coding, you're gonna miss\n\n321\n00:17:25.320 --> 00:17:30.490\nan open bracket or a close bracket\nsomewhere, and it's not going to work.\n\n322\n00:17:30.490 --> 00:17:31.970\nSo get somebody to take a look at that.\n\n323\n00:17:31.970 --> 00:17:37.864\nI'm gonna select the No Authentication for\nthe portal, and click Open.\n\n324\n00:17:37.864 --> 00:17:40.218\nAnd these other two are actually\ngonna be default Web pages, so\n\n325\n00:17:40.218 --> 00:17:41.910\nI'm not gonna worry about that.\n\n326\n00:17:41.910 --> 00:17:46.640\nNow the hard thing is that once\nwe get that content, let me see,\n\n327\n00:17:46.640 --> 00:17:48.030\nhopefully, did I?\n\n328\n00:17:48.030 --> 00:17:49.047\nI did select it, didn't I?\n\n329\n00:17:49.047 --> 00:17:50.496\n&gt;&gt; You did select it, yeah.\n&gt;&gt; I just want to make sure,\n\n330\n00:17:50.496 --> 00:17:51.844\nbecause sometimes I don't.\n\n331\n00:17:51.844 --> 00:17:54.540\nAnd this is where it gets a little\nbit more squirrelly on me.\n\n332\n00:17:54.540 --> 00:17:56.241\n&gt;&gt; Ronnie's OCD is kicking in.\n\n333\n00:17:56.241 --> 00:17:58.237\n[LAUGH]\n&gt;&gt; It does happen there.\n\n334\n00:17:58.237 --> 00:18:00.370\nThat's what I forgot, I was wondering why.\n\n335\n00:18:00.370 --> 00:18:00.970\nI was looking for\n\n336\n00:18:00.970 --> 00:18:04.310\nsome buttons that where supposed to\nappear after I entered that website.\n\n337\n00:18:04.310 --> 00:18:05.770\nI was like,\nwhy aren't the buttons appearing?\n\n338\n00:18:05.770 --> 00:18:10.500\nAnd I'll show you exactly why,\nI forgot to pick an authentication method.\n\n339\n00:18:10.500 --> 00:18:13.120\nSo let me select\nan authentication method here.\n\n340\n00:18:13.120 --> 00:18:15.480\nLet me browse back to that site or\n\n341\n00:18:15.480 --> 00:18:17.770\nto the page that I want,\nwhich is the No Authentication.\n\n342\n00:18:19.180 --> 00:18:20.909\nAnd now this time, oops.\n\n343\n00:18:20.909 --> 00:18:24.240\nLet me hit Save,\nmaybe that didn't save here.\n\n344\n00:18:24.240 --> 00:18:25.550\nIt kicks you out.\n\n345\n00:18:25.550 --> 00:18:29.490\nYou always want to make sure\nyou go back in to the edit.\n\n346\n00:18:29.490 --> 00:18:34.800\nScroll down, and now you'll see\nthe Current Portal Page buttons.\n\n347\n00:18:34.800 --> 00:18:35.890\nThat's what I was looking for.\n\n348\n00:18:37.050 --> 00:18:40.320\nYou want to make sure that it shows\nup right here when you click View.\n\n349\n00:18:41.600 --> 00:18:44.886\nIf you don't get the current portal page,\nmine's as simple as it can be.\n\n350\n00:18:44.886 --> 00:18:46.631\n&gt;&gt; Very simple, it's-\n&gt;&gt; There's no graphics.\n\n351\n00:18:46.631 --> 00:18:49.020\nYou can add in all the fancy\nstuff if you want to.\n\n352\n00:18:49.020 --> 00:18:52.130\nBut if it doesn't show up when you\nclick that button that says View,\n\n353\n00:18:52.130 --> 00:18:53.110\nyou got it wrong.\n\n354\n00:18:53.110 --> 00:18:56.370\nOr if it shows up and\nall you see is actually the HTML coding,\n\n355\n00:18:56.370 --> 00:18:57.810\nyou forgot something.\n\n356\n00:18:57.810 --> 00:18:59.960\nSo make sure it actually shows up there.\n\n357\n00:19:01.770 --> 00:19:04.670\nNow once we have that and it actually\nlooks like it's showing up fine,\n\n358\n00:19:04.670 --> 00:19:06.900\nI'm gonna hit the Save\nbutton one more time.\n\n359\n00:19:06.900 --> 00:19:10.790\nJust because that's the way I am,\nmake sure it's actually saved in there.\n\n360\n00:19:10.790 --> 00:19:12.021\n&gt;&gt; Measure twice, cut once, right, Ronnie?\n\n361\n00:19:12.021 --> 00:19:14.815\n&gt;&gt; Yeah, it's just one of those\nthings where it's like, all right,\n\n362\n00:19:14.815 --> 00:19:15.920\ndid I get everything?\n\n363\n00:19:15.920 --> 00:19:17.780\nYes, let me make sure I got everything.\n\n364\n00:19:17.780 --> 00:19:21.800\nBut that's really it in\nestablishing the captive portal.\n\n365\n00:19:21.800 --> 00:19:26.830\nNow that even includes the connection\nthat I have here on this machine now.\n\n366\n00:19:26.830 --> 00:19:32.435\nSo if I try and click back, and I try and\ngo back to the ITProTV website,\n\n367\n00:19:32.435 --> 00:19:37.010\nnotice it brings me directly\nto the captive portal page.\n\n368\n00:19:37.010 --> 00:19:38.428\nNow if you're saying, well, Ronnie,\n\n369\n00:19:38.428 --> 00:19:40.460\nyou might have actually\nalready had that cached.\n\n370\n00:19:40.460 --> 00:19:42.940\nSo I don't know if I trust you on that.\n\n371\n00:19:42.940 --> 00:19:45.399\nWell, let me bring you to\nanother machine over here.\n\n372\n00:19:46.958 --> 00:19:49.130\nAnd this is on the same network.\n\n373\n00:19:49.130 --> 00:19:51.950\nSo I made sure I put them on\nthe same network as the LAN network.\n\n374\n00:19:51.950 --> 00:19:55.830\nAnd if it actually allows me to log in, I\nshould be able to do the same thing here.\n\n375\n00:19:55.830 --> 00:19:59.650\nSo once everything is actually connected\nin and it allows you to do that,\n\n376\n00:19:59.650 --> 00:20:03.850\nnow you at least have that\ncaptive portal ready to go, okay?\n\n377\n00:20:03.850 --> 00:20:04.857\nSo I'm gonna give that time to log in.\n\n378\n00:20:04.857 --> 00:20:08.500\nWe've already proven that\nthe no authentication work.\n\n379\n00:20:08.500 --> 00:20:11.889\nBut instead of us waiting for just, I was\ngonna say instead of us waiting for that.\n\n380\n00:20:11.889 --> 00:20:14.500\nLet me go ahead and\nset up the authentication part.\n\n381\n00:20:14.500 --> 00:20:17.070\nBut let me just verify here,\njust to make sure.\n\n382\n00:20:17.070 --> 00:20:20.920\nSo I've just got to be a little\nbit patient, that's my big fault.\n\n383\n00:20:20.920 --> 00:20:24.110\nThe older I get,\nthe less patient I get at things.\n\n384\n00:20:24.110 --> 00:20:27.500\nAnd waiting in line,\nI apparently can't do that anymore either.\n\n385\n00:20:27.500 --> 00:20:29.080\nSo once everything kicks up,\n\n386\n00:20:29.080 --> 00:20:33.320\nwe should be able to do the same thing\nif I can actually click on a browser.\n\n387\n00:20:33.320 --> 00:20:35.290\nDid I not click on that?\n\n388\n00:20:35.290 --> 00:20:36.650\n&gt;&gt; The VM is lagging.\n\n389\n00:20:36.650 --> 00:20:38.010\n&gt;&gt; It is lagging just a little bit.\n\n390\n00:20:38.010 --> 00:20:41.040\nSo this is where I have to be careful,\nor it might lock me out here.\n\n391\n00:20:41.040 --> 00:20:43.015\nLook at that, I launched it six times.\n\n392\n00:20:43.015 --> 00:20:47.131\n&gt;&gt; [LAUGH]\n&gt;&gt; Why wouldn't I have?\n\n393\n00:20:47.131 --> 00:20:50.732\n&gt;&gt; So here, ITProTV once again.\n\n394\n00:20:52.752 --> 00:20:56.797\nAnd we'll just give it\na moment in time here.\n\n395\n00:20:56.797 --> 00:21:00.256\nIt's probably because I didn't let it\nfully do everything that it needed to.\n\n396\n00:21:02.539 --> 00:21:04.885\nSo, while that's taking it's sweet time,\nand\n\n397\n00:21:04.885 --> 00:21:06.900\nhopefully it would get there in a moment.\n\n398\n00:21:07.940 --> 00:21:09.010\nI wanna come back here for\n\n399\n00:21:09.010 --> 00:21:13.130\njust a moment to see some of the ways\nwe can verify that things are working.\n\n400\n00:21:13.130 --> 00:21:14.535\nNormally, you'll see it right here, okay.\n\n401\n00:21:14.535 --> 00:21:18.380\n&gt;&gt; [LAUGH]\n&gt;&gt; Where it says number of users, right.\n\n402\n00:21:18.380 --> 00:21:19.683\nRonnie is showing zero.\n\n403\n00:21:19.683 --> 00:21:20.189\n&gt;&gt; Ronnie,\n\n404\n00:21:20.189 --> 00:21:24.820\nI'm wondering maybe it's the fact that you\nhaven't actually clicked the Continue.\n\n405\n00:21:24.820 --> 00:21:26.260\nYou've gone to the portal page, but\n\n406\n00:21:26.260 --> 00:21:28.770\nyou haven't actually gone\nthrough the portal yet.\n\n407\n00:21:28.770 --> 00:21:31.620\nMaybe that's why it's not\nshowing up in the users.\n\n408\n00:21:31.620 --> 00:21:32.748\n&gt;&gt; That's probably a really good point.\n\n409\n00:21:32.748 --> 00:21:34.054\n&gt;&gt; [LAUGH]\n&gt;&gt; I didn't think about that.\n\n410\n00:21:34.054 --> 00:21:37.030\nAnd so let's try that first and\nsee what happens.\n\n411\n00:21:37.030 --> 00:21:37.890\nSo here I am.\n\n412\n00:21:37.890 --> 00:21:41.570\nThis is exactly what we're looking at, the\nvery fact that nothing has connected in.\n\n413\n00:21:41.570 --> 00:21:42.860\nBut Daniel is correct.\n\n414\n00:21:42.860 --> 00:21:46.410\nI haven't actually clicked\nanything about continuing on.\n\n415\n00:21:46.410 --> 00:21:48.900\nSo let me go ahead and\nclick Continue there.\n\n416\n00:21:48.900 --> 00:21:51.950\nAnd we'll give it a moment\nto continue on through or\n\n417\n00:21:51.950 --> 00:21:53.540\nwhatever else it's gonna do there.\n\n418\n00:21:55.300 --> 00:21:57.170\nHopefully, I actually done that correctly.\n\n419\n00:21:57.170 --> 00:21:59.090\nAnd then we'll click Continue here too.\n\n420\n00:21:59.090 --> 00:22:03.200\nAnd that will make sure that everything\nelse happens the way that it wants to.\n\n421\n00:22:03.200 --> 00:22:07.440\nNow, I need to check on the other\nconnection while it's doing its thing.\n\n422\n00:22:07.440 --> 00:22:09.970\nGo back to Services &gt; Captive Portal.\n\n423\n00:22:09.970 --> 00:22:11.479\nThere we go, good call, Daniel!\n\n424\n00:22:11.479 --> 00:22:13.720\nI absolutely missed that one totally.\n\n425\n00:22:13.720 --> 00:22:17.295\nBut there it is number of users\nthat are actually connected here.\n\n426\n00:22:17.295 --> 00:22:20.495\nSo that way we know that the captive\nportal is doing its job,\n\n427\n00:22:20.495 --> 00:22:22.430\nis doing what we need it to.\n\n428\n00:22:22.430 --> 00:22:25.340\nIf I go back to captive portal status,\nand there it is.\n\n429\n00:22:25.340 --> 00:22:28.430\nWe are now seeing the connections and\nthe IP addresses.\n\n430\n00:22:28.430 --> 00:22:32.070\nAnd you can verify that everything is\nactually unauthenticated at this point.\n\n431\n00:22:33.410 --> 00:22:36.750\nSo what about the idea of\nthe authentication part?\n\n432\n00:22:36.750 --> 00:22:40.030\nThe great thing is,\nit really is almost identical.\n\n433\n00:22:40.030 --> 00:22:41.970\nWe've got to change two things here.\n\n434\n00:22:41.970 --> 00:22:45.000\nAnd that way, everything will kind of\nget connected the way they want to.\n\n435\n00:22:45.000 --> 00:22:49.920\nLet me go ahead and take out of these\nconnections here, for a moment.\n\n436\n00:22:49.920 --> 00:22:53.860\nAnd I'm going to remove\nthe current disconnection.\n\n437\n00:22:53.860 --> 00:22:55.836\nAnd so that way I don't have to-\n&gt;&gt; Wait for them to do the timeouts.\n\n438\n00:22:55.836 --> 00:22:59.520\n&gt;&gt; Wait for everything to do its timeout,\nand all that stuff here.\n\n439\n00:22:59.520 --> 00:23:04.990\nGo back to Service &gt; Captive Portal,\nand then I'm gonna use the same zone.\n\n440\n00:23:04.990 --> 00:23:07.300\nNotice the number of users is gone.\n\n441\n00:23:07.300 --> 00:23:11.390\nClick on edit, and scroll down.\n\n442\n00:23:11.390 --> 00:23:17.280\nAnd this time, I'm gonna choose\nthe Local User Manager instead.\n\n443\n00:23:17.280 --> 00:23:19.250\nSo with the vouchers, if we wanted to,\n\n444\n00:23:19.250 --> 00:23:21.810\nwe're not gonna do\nthe vouchers at this point.\n\n445\n00:23:21.810 --> 00:23:23.360\nThen I'm gonna click on Browse.\n\n446\n00:23:23.360 --> 00:23:26.648\nSo here's really the two things\nthat we need to have done.\n\n447\n00:23:26.648 --> 00:23:29.970\nAnd I'm gonna select\nthe authentication page instead.\n\n448\n00:23:32.190 --> 00:23:35.170\nNow save the content.\n\n449\n00:23:35.170 --> 00:23:37.180\nI know it sounds weird,\nbut you have to save it.\n\n450\n00:23:38.760 --> 00:23:41.720\nAnd then verify that I get\nthe page that I'm looking for\n\n451\n00:23:41.720 --> 00:23:45.520\nby scrolling back down and clicking View.\n\n452\n00:23:46.920 --> 00:23:51.590\nSo this is what should happen next here,\nwhere you end up seeing this.\n\n453\n00:23:51.590 --> 00:23:55.090\nWhich is gonna be, of course,\na user name and password to continue.\n\n454\n00:23:55.090 --> 00:23:56.970\nOnce you have that set up,\n\n455\n00:23:56.970 --> 00:24:02.713\nas long as you've also set up of course\nusers inside of system And user manager.\n\n456\n00:24:02.713 --> 00:24:04.490\nSo I have a couple of users here.\n\n457\n00:24:05.840 --> 00:24:10.150\nThen let me close out of that page so\nthat we can try this again.\n\n458\n00:24:10.150 --> 00:24:13.920\nI wanna make sure that I didn't\njust connect by accident here.\n\n459\n00:24:13.920 --> 00:24:17.660\nVerify that I don't have\nanything in my status table and\n\n460\n00:24:17.660 --> 00:24:19.170\nwe will try this once again.\n\n461\n00:24:20.320 --> 00:24:24.540\nSo let's see if we can go to something\nlike Facebook here and see what happens.\n\n462\n00:24:24.540 --> 00:24:26.880\nI don't know if that\nlink actually does work.\n\n463\n00:24:26.880 --> 00:24:29.480\nIt's actually asking me to\ninstall a website here.\n\n464\n00:24:31.530 --> 00:24:33.202\nBut it is taking it's sweet time.\n\n465\n00:24:37.708 --> 00:24:41.899\nAll right, so this time it's,\nmaybe Facebook is kinda not doing\n\n466\n00:24:41.899 --> 00:24:47.500\nwhat I want it to, I may have to close out\nof the browser to make this work here.\n\n467\n00:24:47.500 --> 00:24:49.660\nLet me try this one over\nhere at the same time.\n\n468\n00:24:51.580 --> 00:24:56.570\nIt automatically flipped over and\nit actually took it from right here.\n\n469\n00:24:56.570 --> 00:25:00.250\nSo, I didn't have to change it so\nmuch on this one.\n\n470\n00:25:00.250 --> 00:25:02.580\nIt went ahead and\nsaw that I had made the change and\n\n471\n00:25:02.580 --> 00:25:04.810\nhere it actually shows you\nthat connection portal.\n\n472\n00:25:06.140 --> 00:25:08.047\nLet's see if I can actually do this.\n\n473\n00:25:12.999 --> 00:25:17.022\nAnd it's trying to connect I\nbelieve is what's happening.\n\n474\n00:25:17.022 --> 00:25:18.340\nAnd when it says I can't reach but\n\n475\n00:25:18.340 --> 00:25:20.239\nlet's see if anything has\nactually happened here.\n\n476\n00:25:22.550 --> 00:25:26.030\nSo there you can see, so\neven though my web page, and\n\n477\n00:25:26.030 --> 00:25:29.280\nI think it's my internet connection\nmore than anything else right now.\n\n478\n00:25:29.280 --> 00:25:32.540\nBut you can see the captive\nportal did register me.\n\n479\n00:25:32.540 --> 00:25:35.250\nShows the time and the start time.\n\n480\n00:25:35.250 --> 00:25:37.460\nI go back to status and captive portal.\n\n481\n00:25:39.380 --> 00:25:41.030\nThat actually, yeah, that's actually me.\n\n482\n00:25:41.030 --> 00:25:42.310\nSorry, service in captive portal.\n\n483\n00:25:42.310 --> 00:25:43.810\nThat's where I was going.\n\n484\n00:25:43.810 --> 00:25:46.010\nThere it is the number\nof users connecting in.\n\n485\n00:25:46.010 --> 00:25:48.940\nAnd I was gonna use the same one\non each particular page anyways.\n\n486\n00:25:48.940 --> 00:25:52.890\nBut, this actually allows you\nto see that we can set this up.\n\n487\n00:25:52.890 --> 00:25:56.410\nI just wanna talk about that\nvoucher system just briefly.\n\n488\n00:25:56.410 --> 00:25:59.290\nBecause we're not really gonna take the\ntime to set everything up because it is\n\n489\n00:25:59.290 --> 00:26:02.930\na little bit more technically\nchallenging here.\n\n490\n00:26:04.010 --> 00:26:06.350\nAll you have to do is you\ngo over to voucher systems.\n\n491\n00:26:06.350 --> 00:26:09.760\nAnd then at this point, you have\nto create different voucher roles.\n\n492\n00:26:09.760 --> 00:26:10.530\nYou have to enable it.\n\n493\n00:26:10.530 --> 00:26:13.120\nThere's a lot more\nconfiguration that goes on.\n\n494\n00:26:13.120 --> 00:26:16.750\nBut those are some of the different\nsystems that you can add in there.\n\n495\n00:26:16.750 --> 00:26:20.040\nOnce you get that voucher system setup,\nyou go back to configuration.\n\n496\n00:26:20.040 --> 00:26:22.860\nAnd the good thing is now that\nyou have the authentication and\n\n497\n00:26:22.860 --> 00:26:28.670\nvoucher setup, you just need of course\nthen a website just like what we had.\n\n498\n00:26:28.670 --> 00:26:31.830\nThat actually says here is going\nto be your voucher number and\n\n499\n00:26:31.830 --> 00:26:35.410\nif you have a point of sale system\nit can hook in and point to that and\n\n500\n00:26:35.410 --> 00:26:37.300\nactually do random prints but\n\n501\n00:26:37.300 --> 00:26:42.040\nyou'll connect different roles on how many\nminutes each ticket will end up lasting.\n\n502\n00:26:42.040 --> 00:26:45.870\nYou'll name it, there's a ton of different\nstuff that normally can cost you thousands\n\n503\n00:26:45.870 --> 00:26:51.280\nof dollars right here inside of\npfSense ready to go when you are.\n\n504\n00:26:51.280 --> 00:26:53.160\nDo you need to use something\nas simple as I did?\n\n505\n00:26:53.160 --> 00:26:56.980\nNo, if you have somebody\nthat knows html and\n\n506\n00:26:56.980 --> 00:27:00.910\ncan build you a nicer webpage,\nusually that's the way to go.\n\n507\n00:27:00.910 --> 00:27:05.780\nNormally with the no authentication,\nsome type of licensing agreement saying,\n\n508\n00:27:05.780 --> 00:27:07.110\nhey I'm providing you this service,\n\n509\n00:27:07.110 --> 00:27:10.650\nI'm not responsible for what happens\nto your computer on this network.\n\n510\n00:27:10.650 --> 00:27:13.580\nOr it may be where you actually\ndo require authentication.\n\n511\n00:27:13.580 --> 00:27:15.210\nYou just have to build a webpage.\n\n512\n00:27:15.210 --> 00:27:18.360\nThat gives them that ability to\ndo that authentication as well.\n\n513\n00:27:18.360 --> 00:27:19.980\nSo it's fairly easy.\n\n514\n00:27:19.980 --> 00:27:22.590\nAt the same time it does\ntake a little bit more.\n\n515\n00:27:23.760 --> 00:27:27.420\nComplexity as far as different\ntechnical challenges like HTML.\n\n516\n00:27:27.420 --> 00:27:30.200\nIf you're like me and\nyou don't know it yet, use templates.\n\n517\n00:27:30.200 --> 00:27:31.950\nAnd then even when you look\nat the template, you're like,\n\n518\n00:27:31.950 --> 00:27:33.290\nI understand the point of it,\n\n519\n00:27:33.290 --> 00:27:37.650\nbut I really don't know how all\nthat stuff works altogether.\n\n520\n00:27:37.650 --> 00:27:40.330\nWell, that's when you have to depend\non other departments that you may\n\n521\n00:27:40.330 --> 00:27:42.050\nhave inside of your business.\n\n522\n00:27:42.050 --> 00:27:44.940\nSo just take advantage of this if\nyou really have the need to set up\n\n523\n00:27:44.940 --> 00:27:45.860\na captive portal.\n\n524\n00:27:45.860 --> 00:27:47.340\n&gt;&gt; Well Ronnie,\nI think you hit the nail on the head.\n\n525\n00:27:47.340 --> 00:27:51.770\nYou did say it's easy and by goodness,\nyou were totally correct.\n\n526\n00:27:51.770 --> 00:27:54.240\nIt's very simple to have\na nice walk-through,\n\n527\n00:27:54.240 --> 00:27:57.030\neverything seems to make sense and\nit's intuitive.\n\n528\n00:27:57.030 --> 00:28:00.660\nSo even to the uninitiated, if you've\nnever seen something like this before,\n\n529\n00:28:00.660 --> 00:28:06.000\nyou should be able to implement this with\na fair modicum of ease to the process.\n\n530\n00:28:06.000 --> 00:28:09.130\nAnd then like Ronnie said, if you're\nnot the greatest web site writer,\n\n531\n00:28:09.130 --> 00:28:13.160\nHTML coder, PHP jockey, that's fine.\n\n532\n00:28:13.160 --> 00:28:16.380\nGo onto the internet,\nthe inner webs as we like to call '.\n\n533\n00:28:16.380 --> 00:28:19.400\nFind yourself a pre-made sample\nthat you can just slap in there.\n\n534\n00:28:19.400 --> 00:28:21.500\nAnd have a nicely designed one.\n\n535\n00:28:21.500 --> 00:28:23.520\nAnd then if you're even more\ntechnically where with all,\n\n536\n00:28:23.520 --> 00:28:25.220\nyou can use stuff like Radius and stuff.\n\n537\n00:28:25.220 --> 00:28:28.950\nSo very nice that pfSense puts this\ninside of their firewall system.\n\n538\n00:28:28.950 --> 00:28:33.100\nLike Ronnie said, getting a lot of this\ntype of functionality typically costs you\n\n539\n00:28:33.100 --> 00:28:36.580\nquite a bit of money with extra\npieces of equipment, software,\n\n540\n00:28:36.580 --> 00:28:38.400\nit can get very convoluted.\n\n541\n00:28:38.400 --> 00:28:42.960\nThey made it easy for us to implement\nthis and segregate our networks out for\n\n542\n00:28:42.960 --> 00:28:44.910\na little more control,\nlittle more security.\n\n543\n00:28:44.910 --> 00:28:47.800\nRonnie thank you so much,\nwe appreciate your dropping by today.\n\n544\n00:28:47.800 --> 00:28:50.950\nWe appreciate you all watching but\nit is time for us to sign off.\n\n545\n00:28:50.950 --> 00:28:53.580\nFor ITProTV I've been\nyour host Daniel Lowrie.\n\n546\n00:28:53.580 --> 00:28:54.550\n&gt;&gt; And I'm Ronnie Wong.\n\n547\n00:28:54.550 --> 00:28:56.255\n&gt;&gt; We'll see you next time.\n\n548\n00:28:56.255 --> 00:29:03.093\n[MUSIC]\n\n549\n00:29:03.093 --> 00:29:06.249\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "199676842"
        },
        {
          "description": "In this episode, Daniel and Ronnie explore using pfSense as a high-availability solution. They start by explaining what is meant by the term \"high-availability\" and then show you each step necessary to setup your pfSense devices to fail over to the other in case of an outage due to hardware or connection.",
          "length": "1749",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-4-1-configure_high_availability-011317-PGM.00_28_54_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-4-1-configure_high_availability-011317-PGM.00_28_54_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-4-1-configure_high_availability-011317-PGM.00_28_54_22.Still001-sm.jpg",
          "title": "Configure High Availability",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.039\nWelcome to ITProTV.\n\n2\n00:00:01.039 --> 00:00:02.280\nI'm your host, Don Pezet.\n\n3\n00:00:02.280 --> 00:00:05.720\n[CROSSTALK]\n\n4\n00:00:05.720 --> 00:00:08.285\n[MUSIC]\n\n5\n00:00:08.285 --> 00:00:12.138\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.138 --> 00:00:14.500\n&gt;&gt; All right, greetings, everyone, and\n\n7\n00:00:14.500 --> 00:00:17.450\nwelcome to another exciting\nepisode of ITProTV.\n\n8\n00:00:17.450 --> 00:00:20.713\nI'm your host, Daniel Lowrie,\nand in today's episode, we\n\n9\n00:00:20.713 --> 00:00:25.500\nare continuing on with more on our pfSense\nversion 2.3.2 series, so much fun to say.\n\n10\n00:00:25.500 --> 00:00:28.500\nAnd of course, joining us in the studio\nfor a little more of that action,\n\n11\n00:00:28.500 --> 00:00:30.330\nour good friend, Mr. Ronnie Wong.\n\n12\n00:00:30.330 --> 00:00:33.500\nRonnie, entre to the studio,\nsir, welcome back again.\n\n13\n00:00:33.500 --> 00:00:36.360\n&gt;&gt; Well, thank you for\nhaving me back as we continue on\n\n14\n00:00:36.360 --> 00:00:39.920\nlearning just a little bit more of\nthe functionalities inside of pfSense.\n\n15\n00:00:39.920 --> 00:00:44.371\nIt's strange that even though pfSense\nis known for its firewall abilities and\n\n16\n00:00:44.371 --> 00:00:47.743\nits enterprise level support\non a lot of different things,\n\n17\n00:00:47.743 --> 00:00:50.779\none of the things we kind of forget about,\nof course,\n\n18\n00:00:50.779 --> 00:00:55.387\nis that it can actually be used with,\nwell, other pfSense firewalls, as well.\n\n19\n00:00:55.387 --> 00:01:00.205\nNow in the previous episode we\nwere really focusing in on using,\n\n20\n00:01:00.205 --> 00:01:04.700\nof course, two WAN connections for\nfailover, right?\n\n21\n00:01:04.700 --> 00:01:07.100\nThe idea of setting up\na multi-WAN connection so\n\n22\n00:01:07.100 --> 00:01:11.160\nthat if one of those\nInternet connections fails,\n\n23\n00:01:11.160 --> 00:01:15.780\nit automatically fails over to\nthe other and we are up and good.\n\n24\n00:01:15.780 --> 00:01:19.650\nAnd that is a great configuration\nto actually work for us.\n\n25\n00:01:19.650 --> 00:01:22.850\nAnd it really can,\nit really can help out quite a lot,\n\n26\n00:01:22.850 --> 00:01:25.860\nespecially if you're worried\nabout that point of failure.\n\n27\n00:01:25.860 --> 00:01:28.570\nBut there's actually other\npoints of failures that\n\n28\n00:01:28.570 --> 00:01:30.920\neven in that configuration\nwe have to think about.\n\n29\n00:01:30.920 --> 00:01:35.060\nSo Daniel, if we think about a single\npoint of failure, having two\n\n30\n00:01:35.060 --> 00:01:40.200\nISPs is great, but they're really\nconnected to, well, a single firewall.\n\n31\n00:01:40.200 --> 00:01:45.080\nSo Daniel, if I only have one firewall,\nand now let's say that the power supply\n\n32\n00:01:45.080 --> 00:01:48.830\njust kind of wigs out and it melts,\nwe're kind of in trouble, right?\n\n33\n00:01:48.830 --> 00:01:53.110\n&gt;&gt; Yeah, it kind of goes back to that\nwhole idea of high availability, right?\n\n34\n00:01:53.110 --> 00:01:57.490\nAnytime you're trying to say, I need\nthis connection or I need this device or\n\n35\n00:01:57.490 --> 00:02:00.317\nI need whatever some\nservice to access to it,\n\n36\n00:02:00.317 --> 00:02:04.630\nI always need to have multiple\npoints of access because inevitably,\n\n37\n00:02:04.630 --> 00:02:09.750\ninvariably, at some point in time,\nthat one device will fail.\n\n38\n00:02:09.750 --> 00:02:14.500\nLike Ronnie said, if we have pfSense\nbox and it's connected to two ISPs,\n\n39\n00:02:14.500 --> 00:02:18.850\nthat's great and increases our\navailability, but we can make it even\n\n40\n00:02:18.850 --> 00:02:23.380\nhigher by adding another point of failure\nwhich would be another pfSense box.\n\n41\n00:02:23.380 --> 00:02:24.760\n&gt;&gt; And that would be the way to go.\n\n42\n00:02:24.760 --> 00:02:27.650\nTruly, the idea of failover is\nsomething that we have to worry about.\n\n43\n00:02:27.650 --> 00:02:28.832\nAnd in the pfSense sense world,\n\n44\n00:02:28.832 --> 00:02:33.600\nfailover exactly like what we described,\none box really connecting two ISPs.\n\n45\n00:02:33.600 --> 00:02:37.760\nWhen we start talking about high\navailability, right, we're really saying,\n\n46\n00:02:37.760 --> 00:02:43.020\nwhat can we do to eliminate the majority\nof the points of failure that we have,\n\n47\n00:02:43.020 --> 00:02:44.100\nthat we can do?\n\n48\n00:02:44.100 --> 00:02:47.330\nAnd if we trace that back from those ISPs,\n\n49\n00:02:47.330 --> 00:02:51.690\nthen going with two pfSense\nboxes are the way to go.\n\n50\n00:02:51.690 --> 00:02:55.870\nNow at this point, if I only have one, you\ngotta think about what has to happen next.\n\n51\n00:02:55.870 --> 00:03:00.650\nEither I already have another one that may\njust be sitting there and now it has to be\n\n52\n00:03:00.650 --> 00:03:05.530\nconfigured so to replace the one that's\nfailed, and then we are up and going.\n\n53\n00:03:05.530 --> 00:03:10.222\nBut then there's still time and effort it\ntakes to take the thing out of the box,\n\n54\n00:03:10.222 --> 00:03:11.273\nto configure it,\n\n55\n00:03:11.273 --> 00:03:15.214\nto verify that all the settings are on\nit in the way that it needs to.\n\n56\n00:03:15.214 --> 00:03:18.646\nAnd then we get it into the rack\nwhere we have everything else,\n\n57\n00:03:18.646 --> 00:03:21.484\nwe plug everything in and\nat that point hopefully,\n\n58\n00:03:21.484 --> 00:03:26.850\nif everything's configured correctly, we\nare up and we are good and we are going.\n\n59\n00:03:26.850 --> 00:03:29.800\nThe idea of high availability says look,\ndon't get me wrong,\n\n60\n00:03:29.800 --> 00:03:32.480\nthat's a great way to do failover.\n\n61\n00:03:32.480 --> 00:03:36.160\nYou have a plan for what you are going\nto do in case of failure but\n\n62\n00:03:36.160 --> 00:03:41.565\nhigh availability says, hey, what can we\ndo to eliminate that case of failure?\n\n63\n00:03:41.565 --> 00:03:46.476\nAnd what we want to do instead\nis really have two pfSense boxes\n\n64\n00:03:46.476 --> 00:03:51.289\nthat are configured in the same\nmanner that they need to be,\n\n65\n00:03:51.289 --> 00:03:54.591\nso that they can really work as one unit.\n\n66\n00:03:54.591 --> 00:04:00.267\nSo that if one fails,\nthe other one automatically takes over and\n\n67\n00:04:00.267 --> 00:04:03.010\nthat now gives us time to call.\n\n68\n00:04:03.010 --> 00:04:08.440\nAnd if Daniel's the admin that's\nactually on call for that evening or\n\n69\n00:04:08.440 --> 00:04:14.260\nthat day, whatever it might be, Daniel\ndoesn't have to worry about the network\n\n70\n00:04:14.260 --> 00:04:19.350\nconnectivity, keeping everything up and\nrunning and going because it already is.\n\n71\n00:04:19.350 --> 00:04:23.522\nHe can now worry about getting that\npfSense box out of the network,\n\n72\n00:04:23.522 --> 00:04:27.545\ngetting another one back in, or\nif he has to order another one and\n\n73\n00:04:27.545 --> 00:04:32.778\ngetting it back in, reconfigured, and\nthen putting it back into the actual rack.\n\n74\n00:04:32.778 --> 00:04:37.030\nAnd it's settling up and doing\nthe things the way that it needs to do.\n\n75\n00:04:37.030 --> 00:04:40.130\nSo that is what we're talking\nabout with high availability.\n\n76\n00:04:40.130 --> 00:04:42.082\nWhen it comes down to disaster recovery,\n\n77\n00:04:42.082 --> 00:04:45.897\nwe always talk about high availability in\nterms of what they call the five nines.\n\n78\n00:04:45.897 --> 00:04:47.496\nAnd you've probably\nheard that term before.\n\n79\n00:04:47.496 --> 00:04:52.317\nAnd that is the idea here that in\nterms of time and effort, right,\n\n80\n00:04:52.317 --> 00:04:56.100\nof the equipment that you\nwant to be up all the time.\n\n81\n00:04:56.100 --> 00:05:01.115\nWe're talking about 99.999% of the time.\n\n82\n00:05:01.115 --> 00:05:04.169\nThat's a lot of time\nthat we're talking about.\n\n83\n00:05:04.169 --> 00:05:07.906\nSo much so that when they categorize\nit in terms of the year and downtime,\n\n84\n00:05:07.906 --> 00:05:11.483\nthey're usually saying a little\nbit over five minutes of downtime.\n\n85\n00:05:11.483 --> 00:05:15.499\nIt's like 5.26 minutes of\nactual down time over a year.\n\n86\n00:05:15.499 --> 00:05:18.261\nI can't even imagine what\nthat's really like, but\n\n87\n00:05:18.261 --> 00:05:21.103\nthat's what they're really\ntalking about is that.\n\n88\n00:05:21.103 --> 00:05:25.496\nNow if you just go to 99.9 that\ntranslates all the way up into about\n\n89\n00:05:25.496 --> 00:05:28.246\na little bit under nine\nhours of down time.\n\n90\n00:05:28.246 --> 00:05:33.109\nSo even if you go we are at 99.9% up time,\nokay, for\n\n91\n00:05:33.109 --> 00:05:37.972\nour network,\nthere's still almost nine hours of total\n\n92\n00:05:37.972 --> 00:05:42.900\ndown time during the entire year,\nwhich is not bad.\n\n93\n00:05:42.900 --> 00:05:45.580\nBut compared to a little\nbit over five minutes?\n\n94\n00:05:45.580 --> 00:05:49.110\nI mean, that's an insane jump\nin just two decimal points.\n\n95\n00:05:49.110 --> 00:05:53.180\nSo what we're actually taking a look at\nhere, of course, then is pfSense saying\n\n96\n00:05:53.180 --> 00:05:57.270\nwe can make this happen to where failover\nis not only something that we have\n\n97\n00:05:57.270 --> 00:06:01.430\nto deal with, but is seamless at this\npoint or as near seamless as we can get.\n\n98\n00:06:02.490 --> 00:06:03.920\nSo how do we get that to work?\n\n99\n00:06:03.920 --> 00:06:08.970\nWell, it means that we have to\nestablish two pfSense boxes.\n\n100\n00:06:08.970 --> 00:06:12.490\nIdeally, they would be identical, okay?\n\n101\n00:06:12.490 --> 00:06:13.610\nAnd I really mean that.\n\n102\n00:06:13.610 --> 00:06:16.954\nIt doesn't mean that they\nhave to be identical, but\n\n103\n00:06:16.954 --> 00:06:19.629\nideally they would be identical, okay?\n\n104\n00:06:19.629 --> 00:06:24.796\nAt a minimum if you are going to do this,\nyou also not only need those two\n\n105\n00:06:24.796 --> 00:06:29.966\npfSense boxes, but you have to have\nan incredible handful of public IP\n\n106\n00:06:29.966 --> 00:06:35.730\naddresses that you've got to be\nable to use, have at your disposal.\n\n107\n00:06:35.730 --> 00:06:39.620\nAnd then also, of course,\nwell at least two or,\n\n108\n00:06:39.620 --> 00:06:45.440\nI'm trying to make sure I'm saying this,\nat least three NICs on each pfSense box.\n\n109\n00:06:45.440 --> 00:06:48.480\nSo if you go, well, I only have two NICs.\n\n110\n00:06:48.480 --> 00:06:49.070\nCan you do it?\n\n111\n00:06:49.070 --> 00:06:52.380\nWell, to a point you can, but\nyou can't always guarantee,\n\n112\n00:06:52.380 --> 00:06:55.310\nbecause you've actually now implemented\na single point of failure again.\n\n113\n00:06:55.310 --> 00:06:57.490\nYou could virtualize those interfaces.\n\n114\n00:06:57.490 --> 00:06:59.960\nSo that way you split them off and\ndo what you want to do.\n\n115\n00:07:01.130 --> 00:07:03.910\nBut it can kind of be\nbothersome if you do that, and\n\n116\n00:07:03.910 --> 00:07:06.320\nif you do have a failure,\nyou're actually talking about maybe\n\n117\n00:07:06.320 --> 00:07:10.790\nbringing down two networks at one time\nif that happens to be your issue.\n\n118\n00:07:10.790 --> 00:07:12.304\nSo it's probably not the best solution.\n\n119\n00:07:12.304 --> 00:07:18.769\nSo normally you need at least a minimum\nof three physical interfaces to work,\n\n120\n00:07:18.769 --> 00:07:26.600\ntwo of those, one for a land port, one for\na LAN connection, okay, on each firewall.\n\n121\n00:07:26.600 --> 00:07:32.040\nAnd then you have to have a synchronized\nconnection in between your pfSense boxes.\n\n122\n00:07:32.040 --> 00:07:36.260\nSo this is just a direct line that\ngoes from one port on your pfSense box\n\n123\n00:07:36.260 --> 00:07:39.090\nto another port on your pfSense box.\n\n124\n00:07:39.090 --> 00:07:43.930\nAnd that way we can synchronize the\nconfigurations that we need across both so\n\n125\n00:07:43.930 --> 00:07:46.834\nthat we're actually\nworking as one big unit or\n\n126\n00:07:46.834 --> 00:07:52.130\none big gigantic pfSense box instead of\nworking as two individual boxes too, okay?\n\n127\n00:07:52.130 --> 00:07:56.450\nSo a lot of requirements that\nwe have available there.\n\n128\n00:07:56.450 --> 00:08:00.622\nAnd the setup is, I'm not gonna tell you\nit's the easiest setup in the world.\n\n129\n00:08:00.622 --> 00:08:02.583\nBut it is easier than you think.\n\n130\n00:08:02.583 --> 00:08:05.313\n[CROSSTALK]\n&gt;&gt; We're talking pfSense here, Ronnie, and\n\n131\n00:08:05.313 --> 00:08:07.408\nwe've seen the setups\nwhen it comes to pfSense.\n\n132\n00:08:07.408 --> 00:08:12.218\nIt's straightforward, it's intuitive,\nif you're saying it's hard,\n\n133\n00:08:12.218 --> 00:08:17.215\nit means it's probably more like okay,\nyou have to actually read something.\n\n134\n00:08:17.215 --> 00:08:18.670\n[LAUGH]\n&gt;&gt; Well it's funny, right,\n\n135\n00:08:18.670 --> 00:08:21.600\nyou start thinking about high availability\nand getting two devices to really\n\n136\n00:08:21.600 --> 00:08:24.790\nsynchronize and work together\n&gt;&gt; And to me,\n\n137\n00:08:24.790 --> 00:08:27.520\nthat sounds like, that's gonna be\nmore challenging than we think.\n\n138\n00:08:27.520 --> 00:08:29.940\nAnd it can be, but not with pfSense.\n\n139\n00:08:29.940 --> 00:08:33.580\nSo that's what I mean is that, even though\nit's gonna be a little bit more difficult\n\n140\n00:08:33.580 --> 00:08:36.210\nthan just about anything\nthat we've seen so far.\n\n141\n00:08:36.210 --> 00:08:38.800\nIt's less difficult than\nyou think it's going to be.\n\n142\n00:08:38.800 --> 00:08:41.880\nSo I kind of put it in\na different term there, but\n\n143\n00:08:41.880 --> 00:08:44.830\nI didn't want you to go just like\nsetting this up, cuz it's not.\n\n144\n00:08:44.830 --> 00:08:48.760\nThere's a little bit more that goes\ninto it and so let's go ahead and\n\n145\n00:08:48.760 --> 00:08:52.820\nsee what we're actually going to try and\ndo and help us out.\n\n146\n00:08:52.820 --> 00:08:55.150\nSo on my screen, I've created a diagram\n\n147\n00:08:56.340 --> 00:09:00.120\nthat we can take a look at to help\nus to understand our functioning.\n\n148\n00:09:00.120 --> 00:09:02.840\nSo take a look at this blue line for\nright now.\n\n149\n00:09:02.840 --> 00:09:06.020\nI am on this laptop, or at least there's\nthis simulation that I'm doing, right.\n\n150\n00:09:06.020 --> 00:09:12.740\nI'm on this particular laptop that I have,\nand it's on the 10.1.10 network.\n\n151\n00:09:12.740 --> 00:09:13.500\nNormally right now,\n\n152\n00:09:13.500 --> 00:09:18.032\nif I go out of that connection,\nI'm gonna go into my own firewall.\n\n153\n00:09:18.032 --> 00:09:22.610\nConnect in to the LAN port, go out the WAN\nport and then out of course to the ISP.\n\n154\n00:09:22.610 --> 00:09:26.980\nThat´s a single connection that we\nnormally make if we´re to go there, and\n\n155\n00:09:26.980 --> 00:09:31.050\nof course traffic would generate\nfollow us back that way too.\n\n156\n00:09:31.050 --> 00:09:35.330\nIn setting up the high\navailability solution though,\n\n157\n00:09:35.330 --> 00:09:41.240\nwhat we´re going to do is we´re gonna\nbring a second pfSense box online.\n\n158\n00:09:41.240 --> 00:09:45.310\nAnd we are gonna configure\nit as if it's an independent\n\n159\n00:09:45.310 --> 00:09:49.560\npfSense box ready to go into another\nnetwork, but serving the same network.\n\n160\n00:09:50.940 --> 00:09:54.980\nNow if we do something like this, remember\nthat when I said if requires well,\n\n161\n00:09:54.980 --> 00:09:56.380\na bit of management.\n\n162\n00:09:56.380 --> 00:10:01.030\nSo my recommendation at the very\nbeginning is set up a diagram,\n\n163\n00:10:01.030 --> 00:10:04.330\nsomething similar to this, it doesn't\nhave to look exactly like this, just so\n\n164\n00:10:04.330 --> 00:10:08.240\nlogically it makes sense to you,\nso you know exactly what you need.\n\n165\n00:10:09.720 --> 00:10:12.940\nSo first of all, of course,\nlet's work from the top down and\n\n166\n00:10:12.940 --> 00:10:16.140\nthat will kind of help us,\nbecause the other one's easy here.\n\n167\n00:10:16.140 --> 00:10:20.400\nAs we start setting this stuff up,\nwe need to know, of course,\n\n168\n00:10:20.400 --> 00:10:22.470\na little bit about our WAN information.\n\n169\n00:10:22.470 --> 00:10:27.030\nSo whatever your WAN address is, if you're\nsitting at home going can I do this, well\n\n170\n00:10:27.030 --> 00:10:32.390\nyou can, but it's gonna require you to\nhave at least three public IP addresses.\n\n171\n00:10:33.400 --> 00:10:37.180\nSo I don't know how much more expensive\nthat would be for your network.\n\n172\n00:10:37.180 --> 00:10:40.520\nBut you're gonna need at least\nthree if you're going to do this.\n\n173\n00:10:40.520 --> 00:10:43.340\nYou're gonna put one on\nyour WAN interface for\n\n174\n00:10:43.340 --> 00:10:46.900\nwhatever your primary\npfSense box is gonna be.\n\n175\n00:10:46.900 --> 00:10:50.670\nYou're gonna have another\npublic IP address on the LAN\n\n176\n00:10:50.670 --> 00:10:52.800\ninterface of your secondary box.\n\n177\n00:10:52.800 --> 00:10:53.710\nThe one that you're setting up.\n\n178\n00:10:54.880 --> 00:10:59.810\nThen you're gonna create some that\nwe a virtual interface instead.\n\n179\n00:10:59.810 --> 00:11:05.390\nThis virtual interface will represent\nthe entire grouping of both boxes.\n\n180\n00:11:05.390 --> 00:11:10.820\nYou can't just reuse one, especially on\nthe Internet [LAUGH], it's not gonna let\n\n181\n00:11:10.820 --> 00:11:15.830\nyou do that, you're gonna have to have a\nthird one there that will represent that.\n\n182\n00:11:15.830 --> 00:11:18.210\nSo even though you're going man,\nI need three addresses, but\n\n183\n00:11:18.210 --> 00:11:19.690\nI only have two firewalls.\n\n184\n00:11:19.690 --> 00:11:21.090\nYes, if you wanna do this,\n\n185\n00:11:21.090 --> 00:11:23.670\nit requires at least three of\nthose addresses to make it work.\n\n186\n00:11:24.730 --> 00:11:29.960\nEverything else, in terms of addresses,\nthough, really only requires the RFC\n\n187\n00:11:29.960 --> 00:11:35.030\n1918 addresses, or the private IP\naddress ranges that we can use.\n\n188\n00:11:35.030 --> 00:11:36.840\nThe pink one that I have\nhere in the middle,\n\n189\n00:11:36.840 --> 00:11:38.560\nI wanted to mark that as being different.\n\n190\n00:11:38.560 --> 00:11:41.500\nThat is our synchronization interface.\n\n191\n00:11:41.500 --> 00:11:45.910\nSo that particular interface is gonna\nbe a synchronization interface instead.\n\n192\n00:11:45.910 --> 00:11:50.450\nAnd that will allow configurations to\nsynchronize just about everything that we\n\n193\n00:11:50.450 --> 00:11:55.800\nwill do when we start making\nconfigurations to make this work.\n\n194\n00:11:55.800 --> 00:11:58.490\nWe're gonna only do it on one of them.\n\n195\n00:11:58.490 --> 00:12:01.300\nWhich is probably gonna be our primary,\nokay?\n\n196\n00:12:01.300 --> 00:12:06.510\nAny changes that we make over here will\nget synchronized over to the other side.\n\n197\n00:12:06.510 --> 00:12:07.810\nAnd this is important.\n\n198\n00:12:09.030 --> 00:12:12.440\nYou do not want to make\nchanges over on the secondary\n\n199\n00:12:12.440 --> 00:12:14.340\nonce everything is established.\n\n200\n00:12:14.340 --> 00:12:20.000\nThe reason why synchronization always\nflows from your primary to your secondary.\n\n201\n00:12:20.000 --> 00:12:22.980\nSo, Daniel,\nhave you ever had this situation,\n\n202\n00:12:22.980 --> 00:12:26.170\njust in general here,\nwhere you've been working on something and\n\n203\n00:12:26.170 --> 00:12:29.520\nyou made a change and all of a sudden\nyou go back and the change is gone?\n\n204\n00:12:31.060 --> 00:12:32.130\n&gt;&gt; Yeah.\nWho hasn't done that?\n\n205\n00:12:32.130 --> 00:12:36.960\nYou forget to hit Save or whatever it is\nthat actually makes your change effective,\n\n206\n00:12:36.960 --> 00:12:38.070\nand you think, yeah, I did that.\n\n207\n00:12:38.070 --> 00:12:41.150\nAnd you move on to other things and\nyou go back and it's not there.\n\n208\n00:12:41.150 --> 00:12:44.770\nAnd the beads of sweat starts\nto pour down on you like, no.\n\n209\n00:12:44.770 --> 00:12:47.280\n&gt;&gt; I mean, just something,\njust that example is great.\n\n210\n00:12:47.280 --> 00:12:52.580\nBut remember, we started actually using\na synchronization of our show notes\n\n211\n00:12:52.580 --> 00:12:55.330\ninto a central storage share.\n\n212\n00:12:55.330 --> 00:12:59.520\nAnd there were times when what would\nhappen is simple is that we would actually\n\n213\n00:12:59.520 --> 00:13:04.080\nmake changes and go here's the notes that\nwe need for the next day in our show.\n\n214\n00:13:04.080 --> 00:13:07.000\nAnd in the morning, we'd go back out,\nwhere'd the notes go?\n\n215\n00:13:07.000 --> 00:13:07.790\nAre you joking?\n\n216\n00:13:07.790 --> 00:13:11.310\nAnd that was because of the way\nthat synchronization happened.\n\n217\n00:13:12.510 --> 00:13:14.510\nWhen you make changes inside of pfSense.\n\n218\n00:13:14.510 --> 00:13:16.840\nAnd we go back to the diagram, okay?\n\n219\n00:13:16.840 --> 00:13:19.750\nIf you make changes on the secondary,\nokay,\n\n220\n00:13:19.750 --> 00:13:23.650\nonce everything is set up,\nit will let you make the change.\n\n221\n00:13:23.650 --> 00:13:26.560\nIt will absolutely let\nyou make the change.\n\n222\n00:13:26.560 --> 00:13:31.390\nBut if it's time for\nthe primary to synchronize,\n\n223\n00:13:31.390 --> 00:13:36.260\nthe primary doesn't accept the change,\nit pushes changes.\n\n224\n00:13:36.260 --> 00:13:37.280\nSo imagine that.\n\n225\n00:13:37.280 --> 00:13:39.860\nYou go, I know I'm making this change and\n\n226\n00:13:39.860 --> 00:13:42.820\nyou just picked one of\nthe pfSense boxes to do so.\n\n227\n00:13:42.820 --> 00:13:45.550\nAnd then an hour later\nyour change are gone.\n\n228\n00:13:45.550 --> 00:13:48.140\nAnd that is because you\ndidn't do the change on what?\n\n229\n00:13:48.140 --> 00:13:49.400\nOn the primary.\n\n230\n00:13:49.400 --> 00:13:52.540\n&gt;&gt; So synchronized the old change that or\n\n231\n00:13:52.540 --> 00:13:55.610\ndo the old change the way it\nwas the old configuration.\n\n232\n00:13:55.610 --> 00:13:58.170\nBecause of,\nyou have synchronized the wrong box.\n\n233\n00:13:58.170 --> 00:13:59.290\n&gt;&gt; That's exactly right.\n\n234\n00:13:59.290 --> 00:14:01.430\nAnd that's where you have to be careful.\n\n235\n00:14:01.430 --> 00:14:07.010\nThis can save you hours of\nfrustration if you are careful and\n\n236\n00:14:07.010 --> 00:14:08.800\nyou do that and that only.\n\n237\n00:14:08.800 --> 00:14:11.760\nThe first time I tried to\ndo this type of set up and\n\n238\n00:14:11.760 --> 00:14:15.230\nmake it work,\nwe were trying to work very quickly.\n\n239\n00:14:15.230 --> 00:14:16.170\nSo what did I do?\n\n240\n00:14:16.170 --> 00:14:18.470\nI said, this is easy.\n\n241\n00:14:18.470 --> 00:14:21.820\nYou set up the secondary and\nI'll set up the primary.\n\n242\n00:14:21.820 --> 00:14:25.530\n[LAUGH] And now that synchronization\nis working, we're fine.\n\n243\n00:14:25.530 --> 00:14:26.530\nWhatever changes we made,\n\n244\n00:14:26.530 --> 00:14:30.680\nshould synchronize with each other\nuntil everything that was ever done\n\n245\n00:14:30.680 --> 00:14:34.790\non the secondary continue to get\nchanges that were actually overridden,\n\n246\n00:14:34.790 --> 00:14:38.220\nbecause the primary is the one\nthat pushes the changes.\n\n247\n00:14:38.220 --> 00:14:41.140\nSo, pay attention when you do this.\n\n248\n00:14:41.140 --> 00:14:43.320\nSo, before you do any\nconfiguration changes,\n\n249\n00:14:43.320 --> 00:14:45.180\nmake sure you are always on the primary.\n\n250\n00:14:45.180 --> 00:14:46.450\nIt's very easy.\n\n251\n00:14:46.450 --> 00:14:51.440\nOnce everything is set up, you actually\nsee that it will take this particular\n\n252\n00:14:51.440 --> 00:14:56.100\nvirtual IP address down here, and\nthat's what's you'll be linked to instead.\n\n253\n00:14:56.100 --> 00:15:00.170\nNow if you've already got pfSense\nbox working right now, okay?\n\n254\n00:15:00.170 --> 00:15:02.160\nThis is where it becomes\nmuch more difficult.\n\n255\n00:15:02.160 --> 00:15:06.350\nYou do, you can pick any of the addresses\nbecause it's /24 that you want to.\n\n256\n00:15:06.350 --> 00:15:09.740\nLogically, though, to work,\nI would recommend renumbering them.\n\n257\n00:15:09.740 --> 00:15:12.708\nSo like this one over here is .2.\n\n258\n00:15:12.708 --> 00:15:15.002\nThis one over here is .3, and\n\n259\n00:15:15.002 --> 00:15:19.598\nthis is gonna be my virtual\ninterface to manage which is .1.\n\n260\n00:15:19.598 --> 00:15:25.111\nSo that's the way that I work but\nif you want to make one, .37 and\n\n261\n00:15:25.111 --> 00:15:30.332\nthe other one, .193 and\nyou know your virtual interface,\n\n262\n00:15:30.332 --> 00:15:34.396\n.252, you can as long\nas you remember that.\n\n263\n00:15:34.396 --> 00:15:36.247\nIf you don't wanna do that,\nthen don't do that.\n\n264\n00:15:36.247 --> 00:15:37.098\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay?\n\n265\n00:15:37.098 --> 00:15:41.770\nSo, but for me, in the sake of explaining,\nI wanna make sure that we understood.\n\n266\n00:15:41.770 --> 00:15:46.330\nThis is what has to go on if\nyou're going to do this, okay?\n\n267\n00:15:46.330 --> 00:15:50.925\nThe other thing that I recommend, even\nthough you don't have to do it this way,\n\n268\n00:15:50.925 --> 00:15:54.700\nis because of the way that the changes\nwill propagate out Is better\n\n269\n00:15:54.700 --> 00:15:58.336\nthat if you are starting off,\nthis is your brand new pfSense and\n\n270\n00:15:58.336 --> 00:16:01.011\nyou go I want to implement\nhigh availability,\n\n271\n00:16:01.011 --> 00:16:04.956\nI'm gonna buy two firewalls That\nyou configure this first, okay.\n\n272\n00:16:04.956 --> 00:16:07.867\nBesides the interfaces and\nthose differences there,\n\n273\n00:16:07.867 --> 00:16:10.100\nyou make sure that you do that.\n\n274\n00:16:10.100 --> 00:16:14.852\nDon't try and do this where both\nboxes are set up differently and\n\n275\n00:16:14.852 --> 00:16:18.108\nthen you try bring the synchronization on.\n\n276\n00:16:18.108 --> 00:16:21.770\nYou'll see some things may synchronize,\nsome things will not.\n\n277\n00:16:21.770 --> 00:16:23.641\nAnd then you'll keep rebooting.\n\n278\n00:16:23.641 --> 00:16:26.940\nYou'll keep doing things that\nwill work that may not work.\n\n279\n00:16:26.940 --> 00:16:31.530\nSo my recommendation is back\nup everything that you can.\n\n280\n00:16:31.530 --> 00:16:35.130\nAnd then make sure that you do\nthis particular type of setting\n\n281\n00:16:35.130 --> 00:16:36.780\nfirst here, okay?\n\n282\n00:16:36.780 --> 00:16:41.240\nAll right so that means we are ready\nto get started in our configuration.\n\n283\n00:16:41.240 --> 00:16:45.890\nAnd I'm gonna flip on over here\ninto my management VM that will\n\n284\n00:16:45.890 --> 00:16:48.120\nallow me to get access to both.\n\n285\n00:16:49.140 --> 00:16:51.120\nSo I went ahead and\nI've connected to both.\n\n286\n00:16:51.120 --> 00:16:55.210\nI named one Delta and\nthe other one Gamma here.\n\n287\n00:16:55.210 --> 00:17:00.450\nThat way just to keep it fresh in my mind\nas I've gone through and selected this.\n\n288\n00:17:00.450 --> 00:17:02.870\nSo which one do we want to start\noff with as being our primary?\n\n289\n00:17:02.870 --> 00:17:04.270\nDelta or Gamma, do you care?\n\n290\n00:17:04.270 --> 00:17:06.487\n&gt;&gt; I would think Delta,\nbecause it's first.\n\n291\n00:17:06.487 --> 00:17:08.420\n&gt;&gt; Yeah lets do it, sure, why not.\n\n292\n00:17:08.420 --> 00:17:10.440\nIt doesn't really matter,\nthat's what I'm trying to get to.\n\n293\n00:17:10.440 --> 00:17:12.190\nWhichever one you want to is fine.\n\n294\n00:17:12.190 --> 00:17:12.900\n&gt;&gt; Arbitrary.\n\n295\n00:17:12.900 --> 00:17:15.250\n&gt;&gt; It is pretty much\narbitrary at this point.\n\n296\n00:17:15.250 --> 00:17:18.660\nBut you can start out with\nwhichever one that you want to.\n\n297\n00:17:18.660 --> 00:17:22.320\nNow the only thing that I need\nis I need that third interface.\n\n298\n00:17:22.320 --> 00:17:24.800\nAnd most of the time when\nyou get a pfSense box,\n\n299\n00:17:24.800 --> 00:17:27.830\nit will show up, it may not right away.\n\n300\n00:17:27.830 --> 00:17:32.120\nSo let's see of I click on Interfaces and\nI select Assign.\n\n301\n00:17:32.120 --> 00:17:36.300\nNotice that I have here that\nit's actually not assigned yet,\n\n302\n00:17:36.300 --> 00:17:39.190\neven though I have WAN and LAN,\nlook at this link right here.\n\n303\n00:17:39.190 --> 00:17:43.680\nIt says available network ports and\nit's showing me the network ports.\n\n304\n00:17:43.680 --> 00:17:47.150\nSo it's saying that there is another\nphysical port that is available.\n\n305\n00:17:47.150 --> 00:17:48.190\nAnd I'm gonna click Add.\n\n306\n00:17:50.400 --> 00:17:54.410\nAnd once I add that in there\nit turns up as being OPT1.\n\n307\n00:17:54.410 --> 00:17:59.460\nAnd now I have access to that, just like\nany other port that I have available.\n\n308\n00:17:59.460 --> 00:18:02.989\nSo I need to make sure that\nthat's happening on both sides.\n\n309\n00:18:02.989 --> 00:18:06.060\nNow everybody has their way\nof actually doing this.\n\n310\n00:18:06.060 --> 00:18:09.360\nThey may not like to do this in\nthe way that I'm doing it, trying\n\n311\n00:18:09.360 --> 00:18:12.600\nto make sure the setting is happening\non both of them at the same time.\n\n312\n00:18:12.600 --> 00:18:17.290\nYou may go I'm gonna set up all of\nDelta first and then all of Gamma.\n\n313\n00:18:17.290 --> 00:18:20.060\nYou name it,\nyou just do it the way that you want to.\n\n314\n00:18:20.060 --> 00:18:22.510\nBut at this point I'm just\ngonna set it up that way.\n\n315\n00:18:22.510 --> 00:18:26.733\nSo I make sure that I have all three\ninterfaces that I need to help us out.\n\n316\n00:18:26.733 --> 00:18:31.300\nI know I need that WAN interface,\nI know I need the LAN interface.\n\n317\n00:18:31.300 --> 00:18:33.370\nWell what is this OPT1 about?\n\n318\n00:18:33.370 --> 00:18:35.270\nThat's the one I'm gonna click here.\n\n319\n00:18:35.270 --> 00:18:38.045\nAnd I'm just going to change this\nconfiguration, and I'm going to call it\n\n320\n00:18:38.045 --> 00:18:45.100\npfsync is what I'm going to call it for\nthe actual pfsync here.\n\n321\n00:18:45.100 --> 00:18:48.260\nNow you can name it whatever you want to,\ncall it synchronization.\n\n322\n00:18:48.260 --> 00:18:52.560\nI think on our network, I just called\nit heartbeat, is what I called it.\n\n323\n00:18:52.560 --> 00:18:54.150\nCuz that's essentially what it's doing.\n\n324\n00:18:54.150 --> 00:18:55.090\nIt's doing the keep-alives.\n\n325\n00:18:55.090 --> 00:18:56.780\nIt's doing the synchronization here.\n\n326\n00:18:56.780 --> 00:18:58.140\nBut you can call it synchronization.\n\n327\n00:18:59.460 --> 00:19:02.220\nI think I did pfsync is what I did.\n\n328\n00:19:04.350 --> 00:19:06.160\nI'm gonna enable that interface.\n\n329\n00:19:06.160 --> 00:19:07.920\nAnd the other thing I'm going to do here,\n\n330\n00:19:07.920 --> 00:19:10.830\nof course,\nis give it this static IP address.\n\n331\n00:19:10.830 --> 00:19:12.730\nThis is where you go\nback to your diagram and\n\n332\n00:19:12.730 --> 00:19:15.350\nyou make that you know what\naddresses you're doing.\n\n333\n00:19:15.350 --> 00:19:19.770\nI'm simply gonna use probably the one\nthat's a little more popular here,\n\n334\n00:19:19.770 --> 00:19:20.934\nI can't remember what I did.\n\n335\n00:19:20.934 --> 00:19:21.555\n1, yeah.\n\n336\n00:19:21.555 --> 00:19:23.071\n&gt;&gt; That's hence the diagram.\n\n337\n00:19:23.071 --> 00:19:24.446\n&gt;&gt; Yeah, hence the diagram, that's right.\n\n338\n00:19:24.446 --> 00:19:26.025\n&gt;&gt; Comes right to your rescue.\n\n339\n00:19:26.025 --> 00:19:28.626\n&gt;&gt; And that's the reason why you do it.\n\n340\n00:19:28.626 --> 00:19:31.280\nI'm gonna make it a /30,\ncan I can make it to /24?\n\n341\n00:19:31.280 --> 00:19:32.500\nSure, if you want to.\n\n342\n00:19:32.500 --> 00:19:34.480\nNobody else should be on this network.\n\n343\n00:19:34.480 --> 00:19:39.080\nBut at the same time, if you're not sure,\ngo ahead and do what you need.\n\n344\n00:19:40.300 --> 00:19:41.180\nSo just going to leave that.\n\n345\n00:19:41.180 --> 00:19:42.962\nDon't worry about the upstream gateway.\n\n346\n00:19:42.962 --> 00:19:44.501\nI'm not going to block\nprivate IP addresses,\n\n347\n00:19:44.501 --> 00:19:45.890\nbecause that's what I need to go across.\n\n348\n00:19:46.960 --> 00:19:49.022\nClick Save there.\n\n349\n00:19:49.022 --> 00:19:50.861\nAnd also Apply the Changes.\n\n350\n00:19:53.828 --> 00:19:56.280\nAnd then the same thing happens over here.\n\n351\n00:19:56.280 --> 00:19:57.980\nWhere we are going to\nenable that interface.\n\n352\n00:19:58.990 --> 00:20:01.946\nI'm gonna call this one pfsync.\n\n353\n00:20:01.946 --> 00:20:06.608\nYou have the static IP address,\nscroll down to,\n\n354\n00:20:10.080 --> 00:20:12.690\nAnd give it the /30.\n\n355\n00:20:12.690 --> 00:20:15.400\nThey have only the two IP\naddresses that I need.\n\n356\n00:20:15.400 --> 00:20:18.299\nAnd make those changes right then and\nthere.\n\n357\n00:20:20.040 --> 00:20:22.050\nNow on this configuration,\n\n358\n00:20:22.050 --> 00:20:26.329\nthere are a couple caveats we\nneed to know right away, okay.\n\n359\n00:20:26.329 --> 00:20:29.197\nOne is if you are going to do this,\n\n360\n00:20:29.197 --> 00:20:34.431\nyou no longer have the ability\nto change the Admin username.\n\n361\n00:20:34.431 --> 00:20:38.117\nOkay, with pfSense and\nin the way that synchronization works,\n\n362\n00:20:38.117 --> 00:20:41.608\nif you want this gone,\nyour username is admin, that's it.\n\n363\n00:20:41.608 --> 00:20:44.969\n[LAUGH]\n&gt;&gt; That's good to know because that's one\n\n364\n00:20:44.969 --> 00:20:47.520\nof the things we like to do is\nchange the admin name, right?\n\n365\n00:20:47.520 --> 00:20:49.220\n&gt;&gt; Yeah, and usually you're supposed to.\n\n366\n00:20:49.220 --> 00:20:50.470\nThat's exactly what you're supped to do.\n\n367\n00:20:50.470 --> 00:20:54.335\nBut if you want the synchronization\nto happen and it's not working,\n\n368\n00:20:54.335 --> 00:20:57.809\nverify that you haven't changed\nthe actual admin username.\n\n369\n00:20:57.809 --> 00:21:00.954\nIt has to be admin and then you pick\nwhatever password you want to, and\n\n370\n00:21:00.954 --> 00:21:02.211\nthat will actually be key.\n\n371\n00:21:02.211 --> 00:21:04.000\nSo that was something that\nI wanted to make sure.\n\n372\n00:21:04.000 --> 00:21:05.710\nYou are going to use\nthe same username on both,\n\n373\n00:21:05.710 --> 00:21:08.510\nyou are going to use\nthe same password on both.\n\n374\n00:21:08.510 --> 00:21:12.920\nThat is a bit of a disconcerting\nfeeling to actually think about.\n\n375\n00:21:12.920 --> 00:21:15.820\nBut at the same time,\nwhen we go and connect in through\n\n376\n00:21:15.820 --> 00:21:18.510\nthat management interface, and\nyou'll see it will look exactly like this.\n\n377\n00:21:18.510 --> 00:21:26.135\nBut you'll see that the IP address will\nnot be the 110.2 or 3, it will be 110.1.\n\n378\n00:21:26.135 --> 00:21:29.108\nWhen we do that, we have to have,\nof course, that same username and\n\n379\n00:21:29.108 --> 00:21:31.570\npassword to get everything\ndone the way that we want to.\n\n380\n00:21:33.520 --> 00:21:37.160\nAll right, I just want to make sure I'm\nactually telling you all of the stuff that\n\n381\n00:21:37.160 --> 00:21:40.510\nI need to, so\nI don't want to mess this one up.\n\n382\n00:21:40.510 --> 00:21:42.450\nNow that we have\na synchronization interface,\n\n383\n00:21:42.450 --> 00:21:44.670\nthe other interfaces that I went ahead and\nconfigured.\n\n384\n00:21:44.670 --> 00:21:47.406\nWe know that we've had connectivity\nthrough them and we're fine, and\n\n385\n00:21:47.406 --> 00:21:48.700\nwe are dandy with that.\n\n386\n00:21:48.700 --> 00:21:53.140\nOur WAN connections, our LAN connections,\neverything is actually fine at this point.\n\n387\n00:21:53.140 --> 00:21:56.510\nNow we need to add in some\nfirewall rules to allow for\n\n388\n00:21:56.510 --> 00:21:59.880\nthis synchronization to occur.\n\n389\n00:21:59.880 --> 00:22:03.340\nSo these are the rules that also\nmust be configured on both.\n\n390\n00:22:03.340 --> 00:22:07.245\nEverything that I'm doing has to\nbe configured individually so far.\n\n391\n00:22:07.245 --> 00:22:10.040\nOnce we actually get to that certain point\nwhere we don't have to do it anymore.\n\n392\n00:22:10.040 --> 00:22:12.600\nAnd you'll see that when we get\ninto synchronization stuff we'll\n\n393\n00:22:12.600 --> 00:22:16.340\nonly be configuring our primary one and\nwe'll have to worry about anything else.\n\n394\n00:22:16.340 --> 00:22:19.645\nSo the first thing that I want to do for\nthe sync interface,\n\n395\n00:22:19.645 --> 00:22:23.900\nI'm gonna select pfsync interface,\nis I need to create a new rule.\n\n396\n00:22:23.900 --> 00:22:28.590\nSo I'm gonna add, and\nthis is going to allow TCP.\n\n397\n00:22:29.640 --> 00:22:33.070\nSo I want pass and\non the interface, TCP here.\n\n398\n00:22:34.530 --> 00:22:39.479\nAnd I want it to actually go from\nthat synchronization network\n\n399\n00:22:39.479 --> 00:22:43.294\nto the actual synchronization on port 443.\n\n400\n00:22:45.750 --> 00:22:47.650\nLet me see if I can find 443 here.\n\n401\n00:22:49.820 --> 00:22:53.766\nSo what I can do is I can\nsetup the pfsync address, and\n\n402\n00:22:53.766 --> 00:22:58.720\nmake sure I'm telling you right,\nnetwork, pfsync network.\n\n403\n00:22:58.720 --> 00:23:03.967\nSo the source is pfsync\nnetwork to the other\n\n404\n00:23:03.967 --> 00:23:08.059\npfsync address on this one side.\n\n405\n00:23:08.059 --> 00:23:11.854\nSo one network to the other\naddress on port 443.\n\n406\n00:23:13.020 --> 00:23:17.797\nAnd this will allow for the configuration\nsynchronization to go across.\n\n407\n00:23:27.141 --> 00:23:32.949\nAllows configuration, Synchronization.\n\n408\n00:23:34.230 --> 00:23:39.739\nClick Save there, and click Apply.\n\n409\n00:23:39.739 --> 00:23:42.790\nAnd I'm gonna add in another\none directly underneath this.\n\n410\n00:23:42.790 --> 00:23:45.060\nThis time,\nit's a little bit more loose on this one.\n\n411\n00:23:46.650 --> 00:23:52.565\nSo, we're still on the same pfSense\ninterface, and we're now gonna allow,\n\n412\n00:23:52.565 --> 00:23:57.147\nmake sure I'm saying this right,\nto any on any port as well.\n\n413\n00:23:57.147 --> 00:24:04.329\nAnd this is allowing all of the protocols\nfor right now on this one, if we need it.\n\n414\n00:24:04.329 --> 00:24:09.643\nWow, IP 4, source, sync net.\n\n415\n00:24:09.643 --> 00:24:11.920\nOops.\n\n416\n00:24:11.920 --> 00:24:14.530\nMake sure I actually do that one right.\n\n417\n00:24:14.530 --> 00:24:17.410\nIt doesn't, yeah, okay.\n\n418\n00:24:17.410 --> 00:24:20.363\nSo it does NE, I just want to make\nsure I was doing that one right too.\n\n419\n00:24:24.363 --> 00:24:25.291\nNope.\n\n420\n00:24:25.291 --> 00:24:26.290\nYou wanna know something?\n\n421\n00:24:26.290 --> 00:24:27.200\nI keep changing this here.\n\n422\n00:24:27.200 --> 00:24:28.293\nLet me verify.\n&gt;&gt; [LAUGH]\n\n423\n00:24:28.293 --> 00:24:29.510\n&gt;&gt; PS sync source.\n\n424\n00:24:30.570 --> 00:24:31.950\nThen maybe this protocol here.\n\n425\n00:24:33.910 --> 00:24:37.010\nSo I'm just trying to make sure\nI'm saying this one right.\n\n426\n00:24:37.010 --> 00:24:41.400\nThere is a PS sync protocol that also has\nto happen, I believe that it allows state.\n\n427\n00:24:41.400 --> 00:24:42.333\nSo we wanna allow that protocol.\n\n428\n00:24:42.333 --> 00:24:46.570\nIf not, allow all if it doesn't work,\njust in case, to anyplace.\n\n429\n00:24:49.880 --> 00:24:53.450\nAnd this one will allow\nstate synchronization.\n\n430\n00:24:55.690 --> 00:24:58.824\nAnd we've got one more which is to\nallow Echo for diagnostics here.\n\n431\n00:25:04.426 --> 00:25:05.700\nSo one more.\n\n432\n00:25:05.700 --> 00:25:10.620\nChoose ICMP,\nmake sure I'm saying that right, or is it?\n\n433\n00:25:10.620 --> 00:25:13.600\nYep, and then the echo request is, yep.\n\n434\n00:25:16.660 --> 00:25:17.550\nMake sure it's there.\n\n435\n00:25:17.550 --> 00:25:20.519\nAnd then this one is also going to\nbe that synchronization network.\n\n436\n00:25:22.054 --> 00:25:25.390\nTo any port that we want to and\nthat's fine.\n\n437\n00:25:25.390 --> 00:25:26.450\nAnd to any address.\n\n438\n00:25:28.540 --> 00:25:36.016\nYep, and this one is allow ICMP Echo.\n\n439\n00:25:39.841 --> 00:25:41.032\nFor diagnostics.\n\n440\n00:25:43.160 --> 00:25:44.093\nAnd we click Save.\n\n441\n00:25:50.839 --> 00:25:55.688\nAll right, so this is what we'll begin to\nsee here is, there are a few changes that\n\n442\n00:25:55.688 --> 00:26:00.280\nhave to match up right at\nthe beginning for everything to work.\n\n443\n00:26:00.280 --> 00:26:02.450\nSo of course the interfaces,\n\n444\n00:26:02.450 --> 00:26:06.120\nthe synchronization interfaces,\nthese particular\n\n445\n00:26:06.120 --> 00:26:10.760\nfirewall rules also have to make sure that\nthey're actually set up on both nodes.\n\n446\n00:26:10.760 --> 00:26:14.570\nAnd we actually have to think\nabout that as we go on.\n\n447\n00:26:14.570 --> 00:26:19.720\nSo let me go ahead and see if I can get\nthis one done a little bit faster here\n\n448\n00:26:19.720 --> 00:26:24.370\non the rules, on that PF SYNC interface.\n\n449\n00:26:24.370 --> 00:26:25.730\nLet me add this one in here.\n\n450\n00:26:27.740 --> 00:26:32.620\nSo interface TCP, on port 443,\n\n451\n00:26:32.620 --> 00:26:39.039\nfrom this PFSYNC net to the address.\n\n452\n00:26:40.250 --> 00:26:42.000\nAnd the range is on port 433.\n\n453\n00:26:42.000 --> 00:26:44.350\nI can worry about the description for\n\n454\n00:26:44.350 --> 00:26:46.040\nright now since I already\ntyped it in one time.\n\n455\n00:26:47.280 --> 00:26:48.374\nThen I can go ahead and add.\n\n456\n00:26:48.374 --> 00:26:53.070\nI don't have to click apply changes every\ntime, but I generally do cuz I never know.\n\n457\n00:26:54.230 --> 00:26:58.280\nAnd this one is to also allow the PF sync,\n\n458\n00:26:58.280 --> 00:27:00.010\nI believe this one is\nalso gonna be PF sync.\n\n459\n00:27:01.110 --> 00:27:06.410\nWith the source of the PF Sync network\nto any place on any particular port,\n\n460\n00:27:07.730 --> 00:27:10.790\nthat will allow for\nthe synchronization states.\n\n461\n00:27:10.790 --> 00:27:13.480\nAnd then the last one here,\nof course, is for the echo.\n\n462\n00:27:15.660 --> 00:27:18.676\nThis one will go down to ICMP.\n\n463\n00:27:18.676 --> 00:27:20.402\nWait, where did I select it?\n\n464\n00:27:21.684 --> 00:27:23.640\nICMP looking at IGMP.\n\n465\n00:27:23.640 --> 00:27:26.140\nThis is going to be echo request.\n\n466\n00:27:27.976 --> 00:27:34.310\nThis one too is from the PF sync net,\nto any port in any destination is fine.\n\n467\n00:27:34.310 --> 00:27:37.800\nAnd save here.\n\n468\n00:27:37.800 --> 00:27:43.170\nThat end up matching, everything we\nhave is actually going to be right here.\n\n469\n00:27:43.170 --> 00:27:47.180\nVerify, you gotta to make sure these\nare identical except for of course the IP\n\n470\n00:27:47.180 --> 00:27:51.190\naddress, cuz those have to match up in the\nway that they match up in your diagram.\n\n471\n00:27:52.390 --> 00:27:54.360\nIf they don't, you will have confusion,\n\n472\n00:27:54.360 --> 00:27:58.060\nyou will have some issues that\nneed to be done, but overall,\n\n473\n00:27:58.060 --> 00:28:03.190\nthough, make that on each note that\nthey are configured the same way.\n\n474\n00:28:03.190 --> 00:28:07.280\nVerify that all the addressing\ninformation is good for each node.\n\n475\n00:28:07.280 --> 00:28:11.890\nFrom that point it means now\nwe're ready to begin to setup for\n\n476\n00:28:11.890 --> 00:28:15.240\nthe configuration synchronization\nthat needs to happen.\n\n477\n00:28:15.240 --> 00:28:18.870\nBut it's actually gonna take us a little\nbit longer than the few minutes that we\n\n478\n00:28:18.870 --> 00:28:20.137\nhave left in this episode.\n\n479\n00:28:20.137 --> 00:28:21.372\nSo we'll probably hold off and\n\n480\n00:28:21.372 --> 00:28:23.710\nmake sure that we actually cover\nit in the little part two.\n\n481\n00:28:23.710 --> 00:28:25.210\n&gt;&gt; Awesome stuff, Ronnie, thanks so much.\n\n482\n00:28:25.210 --> 00:28:30.060\nWe're definitely waiting with baited\nbreath to see the finale of this,\n\n483\n00:28:30.060 --> 00:28:33.140\nto this all work itself out and\nget that cool high availability.\n\n484\n00:28:33.140 --> 00:28:35.840\nSo we definitely look forward\nto see you in part two.\n\n485\n00:28:35.840 --> 00:28:39.050\nHopefully you good people out there that\nare watching will join us as well, and\n\n486\n00:28:39.050 --> 00:28:40.930\nit rounds off your knowledge of this.\n\n487\n00:28:40.930 --> 00:28:46.030\nNot just, I saw Ronnie configure it,\nI wanna see Ronnie make it work.\n\n488\n00:28:46.030 --> 00:28:47.635\nSo let's do that in the part two.\n\n489\n00:28:47.635 --> 00:28:48.960\nThanks for watching.\n\n490\n00:28:48.960 --> 00:28:52.320\nIt looks like it is that time for\nus though to sign off for ITProTV.\n\n491\n00:28:52.320 --> 00:28:54.110\nI've been your host Daniel Lowrie.\n\n492\n00:28:54.110 --> 00:28:54.850\n&gt;&gt; And I'm Ronnie Wong.\n\n493\n00:28:54.850 --> 00:28:55.933\n&gt;&gt; And we'll see you next time.\n\n494\n00:28:57.458 --> 00:29:03.256\n[MUSIC]\n\n495\n00:29:03.256 --> 00:29:05.330\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "199678048"
        },
        {
          "description": "In this episode, Daniel and Ronnie explore using pfSense as a high-availability solution. Here they finish the configuration on the pfSense firewalls and then test synchronization between them.",
          "length": "1527",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-4-2-configure_high_availability_pt2-011317-PGM.00_25_13_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-4-2-configure_high_availability_pt2-011317-PGM.00_25_13_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-4-2-configure_high_availability_pt2-011317-PGM.00_25_13_20.Still001-sm.jpg",
          "title": "Configure High Availability Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.021 --> 00:00:08.200\nWelcome to ITPro.TV, I'm your host-\n&gt;&gt; [CROSSTALK].\n\n2\n00:00:08.200 --> 00:00:09.770\n&gt;&gt; You're watching ITPro.TV.\n\n3\n00:00:12.290 --> 00:00:14.120\n&gt;&gt; All right, greetings everyone, and\n\n4\n00:00:14.120 --> 00:00:18.910\nwelcome to another amazing episode of\nITPro.TV, I'm your host, Daniel Lowrie.\n\n5\n00:00:18.910 --> 00:00:24.135\nIn today's episode, we are continuing on\nwith our pfSense version 2.3.2 series.\n\n6\n00:00:24.135 --> 00:00:26.360\n&gt;&gt; [LAUGH]\n&gt;&gt; That's the correct one.\n\n7\n00:00:26.360 --> 00:00:28.075\nAnd back for more chills, thrills, and\n\n8\n00:00:28.075 --> 00:00:32.230\nbone-crunching spills is the grave digger\nhimself, our good friend, Mr. Ronnie Wong.\n\n9\n00:00:32.230 --> 00:00:32.940\nRonnie, welcome back.\n\n10\n00:00:32.940 --> 00:00:33.450\nHow's it going?\n\n11\n00:00:33.450 --> 00:00:34.380\n&gt;&gt; Well, it's going great.\n\n12\n00:00:34.380 --> 00:00:37.000\nThank you for having me back on\nthe show as we continue on and\n\n13\n00:00:37.000 --> 00:00:38.700\ntake a look at our part two.\n\n14\n00:00:38.700 --> 00:00:43.130\nIn setting up, of course, the idea here of\nhigh availability, where we're configuring\n\n15\n00:00:43.130 --> 00:00:46.990\nboth of our pfSense boxes, so\nthat they really work as one.\n\n16\n00:00:46.990 --> 00:00:49.790\nEven if one fails,\nthe other one automatically takes over.\n\n17\n00:00:49.790 --> 00:00:52.770\nIn our previous episode, we went ahead and\nshowed you some of the configurations that\n\n18\n00:00:52.770 --> 00:00:57.570\nhave to be done on both of the boxes\nindividually, before we can begin\n\n19\n00:00:57.570 --> 00:01:01.990\nsetting up the configuration and\nsynchronization that needs to happen.\n\n20\n00:01:01.990 --> 00:01:03.270\nBut now we're ready to go.\n\n21\n00:01:03.270 --> 00:01:08.070\nSo, we set up the interfaces that we need,\nwe know that we need a handful of public\n\n22\n00:01:08.070 --> 00:01:11.930\nIP addresses that we'll have to be able\nto manage, so you can't skimp on that.\n\n23\n00:01:11.930 --> 00:01:14.030\nYou can't go, can I just use one?\n\n24\n00:01:14.030 --> 00:01:17.850\nNo you can't, it has to actually\nbe a handful of them, so\n\n25\n00:01:17.850 --> 00:01:19.760\nthat we can make sure that it all happens.\n\n26\n00:01:19.760 --> 00:01:21.250\nOnce we did that,\nwe also set up, of course,\n\n27\n00:01:21.250 --> 00:01:24.850\nthe firewall rules that will allow for\nthe synchronization to happen.\n\n28\n00:01:24.850 --> 00:01:29.322\nOver the pfSense,\nthe pfsync interface that we also set up,\n\n29\n00:01:29.322 --> 00:01:32.170\nso make sure we have that done.\n\n30\n00:01:32.170 --> 00:01:36.330\nFrom this point on though, we are now\nready to start setting up, of course,\n\n31\n00:01:36.330 --> 00:01:41.710\nour configuration synchronization here,\nand getting everything to actually work.\n\n32\n00:01:41.710 --> 00:01:44.140\nSo, let's go ahead and\ntake a look at how we do that.\n\n33\n00:01:44.140 --> 00:01:47.110\nNow, it's very important\nthat we go ahead then at\n\n34\n00:01:47.110 --> 00:01:50.530\nthis point to choose one of those boxes.\n\n35\n00:01:50.530 --> 00:01:55.180\nSo, I'm just gonna choose the first one\nhere, which is going to be R Deltabox, and\n\n36\n00:01:55.180 --> 00:01:56.930\nthis is the one I'm\ngonna make the primary.\n\n37\n00:01:56.930 --> 00:02:01.590\nIf I'm gonna do any configuration changes,\nand anything from this point on, and\n\n38\n00:02:01.590 --> 00:02:05.270\nsetting up synchronization is\ngonna only be on this server.\n\n39\n00:02:05.270 --> 00:02:08.270\n&gt;&gt; So Ronnie, now what you're\nsaying is is Delta's primary,\n\n40\n00:02:08.270 --> 00:02:14.090\nif we make any changes over there on that\ngamma box after synchronization occurs,\n\n41\n00:02:14.090 --> 00:02:15.350\nthose are gonna be wiped out?\n\n42\n00:02:15.350 --> 00:02:19.070\nBecause Delta's gonna say,\nhey this is how you should look.\n\n43\n00:02:19.070 --> 00:02:23.099\n&gt;&gt; Exactly, especially if you do have\nsomething that overrides the setting that\n\n44\n00:02:23.099 --> 00:02:24.633\nyou put on the secondary box.\n\n45\n00:02:24.633 --> 00:02:29.927\nNow, if you make a setting, and it doesn't\nsync over to the primary, which it's\n\n46\n00:02:29.927 --> 00:02:35.144\nnot going to, but primary's not overriding\nit, now you actually have, well,\n\n47\n00:02:35.144 --> 00:02:40.089\na box that's not exactly synchronized\nagain, and they'll be out of sync.\n\n48\n00:02:40.089 --> 00:02:44.095\nSo, you do have to be careful when you\nstart to take a look at the way that we\n\n49\n00:02:44.095 --> 00:02:45.090\ndo this.\n\n50\n00:02:45.090 --> 00:02:50.320\nSo here it is on our tab here, we're just\ngonna choose delta at this point to begin\n\n51\n00:02:50.320 --> 00:02:55.660\nthis process of the actual configuration\nsynchronization that needs to happen.\n\n52\n00:02:55.660 --> 00:02:56.800\nI'm gonna click on system,\n\n53\n00:02:56.800 --> 00:03:01.930\nand I'm gonna select this fourth link down\nhere that says high availability sync.\n\n54\n00:03:03.010 --> 00:03:07.570\nAnd once I select that, here's where we\ncan take a look at some of the different\n\n55\n00:03:07.570 --> 00:03:12.220\nthings that we need to make sure that\nwe understand what has to happen.\n\n56\n00:03:12.220 --> 00:03:16.730\nFirst and foremost, underneath\nthe state synchronization settings,\n\n57\n00:03:16.730 --> 00:03:21.360\nit's gonna ask me what do I want\nto begin with the synchronization?\n\n58\n00:03:23.130 --> 00:03:28.480\nPfsync transfers state, updates deletion,\nand messages between firewalls.\n\n59\n00:03:28.480 --> 00:03:31.600\nWell, that's absolutely\nsomething I want to do,\n\n60\n00:03:31.600 --> 00:03:35.620\nbecause I want this thing to really be\nwhere the configuration is exactly synced.\n\n61\n00:03:35.620 --> 00:03:38.740\nSo, if I delete something, I want to make\nsure it's deleted over on the other one.\n\n62\n00:03:38.740 --> 00:03:41.540\nIf I transfer something, I wanna make\nsure that happens, if I update something,\n\n63\n00:03:41.540 --> 00:03:43.670\nI wanna make sure that that occurs, too.\n\n64\n00:03:43.670 --> 00:03:46.620\nI'm gonna choose\nthe synchronization interface.\n\n65\n00:03:46.620 --> 00:03:51.760\nYou can put this on to another\ninterface if you want to.\n\n66\n00:03:51.760 --> 00:03:58.070\nSo in theory, if I said, look, I only\nhave two interfaces, my WAN and my LAN.\n\n67\n00:03:58.070 --> 00:04:03.520\nIf I wanted to send synchronization\ninformation across the LAN interface,\n\n68\n00:04:03.520 --> 00:04:06.740\nI can, but it takes a ton of bandwidth.\n\n69\n00:04:06.740 --> 00:04:10.610\nSo, you might find that clients that are\ntrying to connect outside your network,\n\n70\n00:04:10.610 --> 00:04:13.870\nthey're gonna issues in trying\nto make that connection work and\n\n71\n00:04:13.870 --> 00:04:15.590\ndo everything else that it needs to.\n\n72\n00:04:15.590 --> 00:04:18.392\nSo, just kinda realize that,\nthat may also happen,\n\n73\n00:04:18.392 --> 00:04:21.900\nbetter to actually have a dedicated\nsynchronization interface.\n\n74\n00:04:21.900 --> 00:04:26.040\nRight here on the IP address for the peer,\n\n75\n00:04:26.040 --> 00:04:30.533\nso, this is where I enter\nin my peer address,\n\n76\n00:04:30.533 --> 00:04:36.001\nwhich should be dot three here,\nif this one is dot two.\n\n77\n00:04:36.001 --> 00:04:42.590\nAnd once I have that set up, let's see,\nsynchronize config to the IP.\n\n78\n00:04:42.590 --> 00:04:45.034\nLet's do the same thing.\n\n79\n00:04:45.034 --> 00:04:49.311\n10.1, 110.3.\n\n80\n00:04:49.311 --> 00:04:51.775\nNotice that we're actually in\ntwo different sections, and\n\n81\n00:04:51.775 --> 00:04:53.310\nthat's why we need in both.\n\n82\n00:04:53.310 --> 00:04:57.300\nThis is the state synchronization,\nand this one is the configuration\n\n83\n00:04:57.300 --> 00:05:02.000\nsynchronization, and this is using\na particular type of XML protocol\n\n84\n00:05:02.000 --> 00:05:06.235\ncalled XMLRPC for the configuration sync.\n\n85\n00:05:06.235 --> 00:05:10.260\nWhereas this one up here is actually\nusing the protocol called pfsync.\n\n86\n00:05:10.260 --> 00:05:12.820\nSo if you're,\nwhy do they actually have both of them,\n\n87\n00:05:12.820 --> 00:05:15.360\nwhy do we need them both when we\nalready entered it in one time?\n\n88\n00:05:15.360 --> 00:05:18.050\nCuz they're doing it for\ndifferent protocols is what we're seeing.\n\n89\n00:05:19.230 --> 00:05:23.670\nRemember that on the remote username, if\nyou're gonna be doing this, it has to be\n\n90\n00:05:23.670 --> 00:05:27.850\nadmin, and then the password that you\nchoose has to be the same on both sides.\n\n91\n00:05:27.850 --> 00:05:32.459\nSo, I am going to make\nsure that I do that.\n\n92\n00:05:36.629 --> 00:05:39.872\nOkay, this is where it gets confusing,\ncuz now your minds starts playing trick,\n\n93\n00:05:39.872 --> 00:05:43.620\nif they have to be the same on both sides,\nthat means I have to jump over to Gamma.\n\n94\n00:05:43.620 --> 00:05:44.480\nAnd do what?\n\n95\n00:05:44.480 --> 00:05:46.080\nSet it up on that site, too.\n\n96\n00:05:46.080 --> 00:05:46.860\nYou don't.\n\n97\n00:05:46.860 --> 00:05:50.910\nLeave everything as is,\ntrust yourself, because that's what,\n\n98\n00:05:50.910 --> 00:05:53.470\nI can't tell you how many times I've just\n\n99\n00:05:53.470 --> 00:05:57.650\nnot trusted the fact that it would work\nthe way that I think it does, but it does.\n\n100\n00:05:57.650 --> 00:06:01.085\nIf you'll just leave it as is, and\ntrust yourself, it will end up working.\n\n101\n00:06:01.085 --> 00:06:03.230\n&gt;&gt; Now Ronnie, maybe I'm putting\nthe cart before the horse here,\n\n102\n00:06:03.230 --> 00:06:05.890\nbut how long does it take for\nsynchronization?\n\n103\n00:06:05.890 --> 00:06:06.700\nWhat's the default of that?\n\n104\n00:06:06.700 --> 00:06:09.890\nAre we gonna, can we change that value,\nor is that set in stone?\n\n105\n00:06:09.890 --> 00:06:11.210\n&gt;&gt; Usually, that's just set.\n\n106\n00:06:11.210 --> 00:06:12.670\nI think that there is a way to change it,\nbut\n\n107\n00:06:12.670 --> 00:06:17.710\nI'm not exactly sure if it's something\nthat I can do in the GUI interface or not.\n\n108\n00:06:17.710 --> 00:06:20.010\nIt may be something that has to\nbe done in the command line.\n\n109\n00:06:20.010 --> 00:06:24.120\nI don't remember seeing\nan option to say change this for\n\n110\n00:06:24.120 --> 00:06:26.940\nevery two seconds,\ninstead of every 10 seconds.\n\n111\n00:06:26.940 --> 00:06:28.160\nI don't remember that.\n\n112\n00:06:28.160 --> 00:06:29.790\nSo, but you can't.\n\n113\n00:06:29.790 --> 00:06:34.630\nBut here is some of the things,\nanything that is listed here, okay,\n\n114\n00:06:34.630 --> 00:06:40.500\nthat you see all of these right here okay,\neveryone of these options that you see.\n\n115\n00:06:40.500 --> 00:06:46.200\nYou wanna make sure you do not configure\nanything over on the secondary.\n\n116\n00:06:46.200 --> 00:06:50.573\nNow, Daniel, if you look at it that's just\nabout everything that we've gone over\n\n117\n00:06:50.573 --> 00:06:52.579\nin our show, just about everything.\n\n118\n00:06:52.579 --> 00:06:53.514\n&gt;&gt; It runs the gamut, that's for sure.\n\n119\n00:06:53.514 --> 00:06:55.893\n&gt;&gt; [LAUGH]\n&gt;&gt; It's basically the firewall in its\n\n120\n00:06:55.893 --> 00:06:56.428\nentirety.\n\n121\n00:06:56.428 --> 00:06:57.649\n&gt;&gt; Yeah, just about.\n\n122\n00:06:57.649 --> 00:07:01.911\nThere's a few things that aren't in there\nbut, overall, interface connections,\n\n123\n00:07:01.911 --> 00:07:03.640\nnotice that those are rationals.\n\n124\n00:07:03.640 --> 00:07:08.150\nBut, Firewall rules, NAT configuration,\nall of that, all that's in here.\n\n125\n00:07:08.150 --> 00:07:11.440\nSo, if you want to actually do everything,\n\n126\n00:07:11.440 --> 00:07:15.440\nyou need make sure that you put\na checkbox in every single one of these.\n\n127\n00:07:15.440 --> 00:07:17.450\nNow, you don't have to do that way,\nnotice at the bottom,\n\n128\n00:07:17.450 --> 00:07:20.660\nthere's a little toggle all,\nwhich is the easier way.\n\n129\n00:07:20.660 --> 00:07:22.034\n&gt;&gt; Yes.\n&gt;&gt; But if you don't wanna,\n\n130\n00:07:22.034 --> 00:07:25.500\nif you don't sink everything, okay, if\nyou go no this is something I don't wanna\n\n131\n00:07:25.500 --> 00:07:28.839\nsink, well, then you don't have to worry\nabout it at this particular point.\n\n132\n00:07:28.839 --> 00:07:33.436\nBut just kind realize that there\nmaybe somethings that you go,\n\n133\n00:07:33.436 --> 00:07:38.202\nthis is terrible if I see this stuff,\nand I don't want to happen so\n\n134\n00:07:38.202 --> 00:07:41.777\nyou can save that, or\nsee all that information.\n\n135\n00:07:41.777 --> 00:07:44.092\nOnce we select that, okay?\n\n136\n00:07:44.092 --> 00:07:49.339\nAnd get everything checked up the way we\nwant to, we now go ahead and hit Save.\n\n137\n00:07:52.435 --> 00:07:55.952\nAnd now, we've got everything\nkind of set the way they want.\n\n138\n00:07:55.952 --> 00:08:00.308\nNow, if you go over to the gamma firewall,\nthis is where it gets confusing,\n\n139\n00:08:00.308 --> 00:08:02.772\nand I don't want you\nto be alarmed by this.\n\n140\n00:08:02.772 --> 00:08:05.441\nIt's not going to show\nyou anything over here.\n\n141\n00:08:05.441 --> 00:08:10.500\nSo if I go to system, and\nthen high availability sync.\n\n142\n00:08:10.500 --> 00:08:13.300\nNotice it doesn't look like\nanything has actually changed.\n\n143\n00:08:13.300 --> 00:08:17.520\nDo not worry about the idea that\nnothing looks like it's changed.\n\n144\n00:08:17.520 --> 00:08:21.080\nEverything will end up syncing up\nonce we get the rest of the sync\n\n145\n00:08:21.080 --> 00:08:22.519\nup the way that we need it to happen.\n\n146\n00:08:24.670 --> 00:08:26.680\nSo what do we need to do now?\n\n147\n00:08:26.680 --> 00:08:29.610\nNow that we've got\nsynchronization going on and\n\n148\n00:08:29.610 --> 00:08:33.050\nall of these other configurations\nnow need to be done.\n\n149\n00:08:33.050 --> 00:08:37.100\nRemember the IP addresses that\nwe were talking about here.\n\n150\n00:08:37.100 --> 00:08:41.090\nWith those IP addresses,\non the public IP addresses especially, and\n\n151\n00:08:41.090 --> 00:08:42.920\neven on the internal IP addresses,\n\n152\n00:08:42.920 --> 00:08:47.890\nwe now need to set up that virtual\nIP address so that we can use that.\n\n153\n00:08:47.890 --> 00:08:50.010\nWe come back over here to my diagram.\n\n154\n00:08:50.010 --> 00:08:51.990\nThis is the address\nthat we need to set up,\n\n155\n00:08:51.990 --> 00:08:54.100\nthe one that's right here in the middle.\n\n156\n00:08:54.100 --> 00:08:58.890\nAnd then this one as well, is another\none that we also need to set up too.\n\n157\n00:08:58.890 --> 00:09:00.984\nSo we're actually setting\nup what's called our carp.\n\n158\n00:09:00.984 --> 00:09:05.690\nCARP stands for\nCommon Address Redamcy Program Protocol\n\n159\n00:09:05.690 --> 00:09:08.220\nis how we do all the high liability and\nstuff.\n\n160\n00:09:08.220 --> 00:09:09.405\n&gt;&gt; It's also a large fish.\n\n161\n00:09:09.405 --> 00:09:10.870\n[LAUGH]\n&gt;&gt; It is very a hard fish.\n\n162\n00:09:10.870 --> 00:09:11.960\nYes it is true.\n\n163\n00:09:11.960 --> 00:09:17.010\nAnd we're going to set up our virtual IP\naddress on the primary at this point.\n\n164\n00:09:17.010 --> 00:09:20.960\nSo only on the primary I'm\ngoing to click on Firewall.\n\n165\n00:09:20.960 --> 00:09:25.250\nAnd inside of firewall,\nI'm going to scroll down and select\n\n166\n00:09:25.250 --> 00:09:30.110\noops well maybe virtual IP address\nis what I'm going to select and\n\n167\n00:09:30.110 --> 00:09:33.570\nit's in here we need to configure\nthose virtual IP addresses.\n\n168\n00:09:33.570 --> 00:09:35.090\nClick add.\n\n169\n00:09:35.090 --> 00:09:38.870\nAnd on this one, because I'm using\nthe common address redundancy protocol,\n\n170\n00:09:38.870 --> 00:09:42.480\nnotice it gives you multiples types here\nfor different things that you may choose.\n\n171\n00:09:42.480 --> 00:09:46.770\nFor us, we are focusing in on of\ncourse the common address redundancy.\n\n172\n00:09:46.770 --> 00:09:52.050\nOn the Win interface I'll make it a single\naddress it's going to be 10.0.46.1.\n\n173\n00:09:52.050 --> 00:09:57.460\nMake sure I choose the correct subnet mass\n\n174\n00:09:57.460 --> 00:10:00.440\nwhich is supposed to be\na slash 29 I believe.\n\n175\n00:10:00.440 --> 00:10:03.220\nNope, 16 see I did it wrong already.\n\n176\n00:10:04.730 --> 00:10:06.102\nThat's why I got to check this stuff.\n\n177\n00:10:09.278 --> 00:10:13.981\nAnd now on this virtual IP password here,\nit's just saying hey,\n\n178\n00:10:13.981 --> 00:10:20.350\nset up a password that will allow you to,\nto synch them up if you actually want to.\n\n179\n00:10:20.350 --> 00:10:24.610\nSo it says enter the VH ID group here.\n\n180\n00:10:24.610 --> 00:10:25.750\nPassword if you want to.\n\n181\n00:10:25.750 --> 00:10:30.840\nSo I'm just going to set this one up\nas being group one, just as an example.\n\n182\n00:10:32.280 --> 00:10:33.595\nWell, maybe if I can spell group1.\n\n183\n00:10:33.595 --> 00:10:38.660\n[LAUGH]\nThe VH ID group.\n\n184\n00:10:38.660 --> 00:10:42.380\nThis just has to be unique\non the carp configuration.\n\n185\n00:10:42.380 --> 00:10:44.010\nYou can set it to any\nnumber that you want to.\n\n186\n00:10:44.010 --> 00:10:47.730\nAnd normally it defaults\nto a particular group.\n\n187\n00:10:47.730 --> 00:10:50.770\nSo you can see that you can\nchoose any of these numbers.\n\n188\n00:10:50.770 --> 00:10:52.640\nAnd it goes all the way through 255.\n\n189\n00:10:52.640 --> 00:10:55.490\nBut every single virtual\nIP address that you use,\n\n190\n00:10:55.490 --> 00:11:00.140\nespecially inside of carp,\nit just needs to be individual and unique.\n\n191\n00:11:00.140 --> 00:11:04.000\nAnd here's that advertising frequency\nwe are normally talking about\n\n192\n00:11:04.000 --> 00:11:07.740\nin advertising from the primary\nto the secondary as well.\n\n193\n00:11:07.740 --> 00:11:10.560\nUsually when you are doing this,\nyou advertise from the base,\n\n194\n00:11:10.560 --> 00:11:13.300\nwhich is going to be one,\nand then the skew.\n\n195\n00:11:13.300 --> 00:11:17.170\nIf you don't set anything by default\nit's gonna give it a hundred or\n\n196\n00:11:17.170 --> 00:11:19.090\nabove, is what it's normally gonna do.\n\n197\n00:11:19.090 --> 00:11:20.500\nSo I'm not going to worry about it.\n\n198\n00:11:20.500 --> 00:11:23.590\nAnd so let's see, the frequency that\nmatches this will advertise zero,\n\n199\n00:11:23.590 --> 00:11:27.110\nusually means master,\notherwise the lowest combination.\n\n200\n00:11:27.110 --> 00:11:28.590\nSo let's go ahead and see.\n\n201\n00:11:28.590 --> 00:11:31.990\nSo I can't actually set up a zero,\nit doesn't give me that option.\n\n202\n00:11:31.990 --> 00:11:34.890\nThen on the skew here,\nI'm not going to worry about,\n\n203\n00:11:34.890 --> 00:11:36.030\nI'm just gonna leave it as default.\n\n204\n00:11:37.670 --> 00:11:39.610\nAnd then click save for\nthe virtual IP address.\n\n205\n00:11:39.610 --> 00:11:43.239\nSo this is going to be the external.\n\n206\n00:11:43.239 --> 00:11:44.692\nVirtual IP.\n\n207\n00:11:48.101 --> 00:11:49.150\nAnd click save.\n\n208\n00:11:54.502 --> 00:11:57.209\nAnd that's kind of the first\none that we'd have to do.\n\n209\n00:11:57.209 --> 00:12:00.108\nAnd then the second one,\nof course, would be for\n\n210\n00:12:00.108 --> 00:12:02.380\nthe LAN side that we're going to use.\n\n211\n00:12:02.380 --> 00:12:06.138\nAnd that will become our\ndefault gateway for internally.\n\n212\n00:12:13.910 --> 00:12:15.832\nThat will be a /24\n\n213\n00:12:22.571 --> 00:12:25.460\nOn two, and\nI'm just going to leave the default again.\n\n214\n00:12:27.130 --> 00:12:30.350\nSo, of course, setting up the description\nwould, kind of, help logically.\n\n215\n00:12:30.350 --> 00:12:32.230\nMake sure you identify what they are.\n\n216\n00:12:32.230 --> 00:12:35.770\nBut those are, kind of,\nat least the minimal that we have to do.\n\n217\n00:12:35.770 --> 00:12:41.250\nSo now, we have three actual IP addresses,\ntwo on the inside, one for each firewall.\n\n218\n00:12:41.250 --> 00:12:44.790\nAnd now a virtual one, two on\nthe outside and one for each firewall.\n\n219\n00:12:44.790 --> 00:12:48.210\nAnd now also, of course, the virtual\none that we'll need to connect then.\n\n220\n00:12:48.210 --> 00:12:52.440\nSo, everything that now comes in through\nthe WAN, in theory we'll hit this address\n\n221\n00:12:52.440 --> 00:12:56.620\nfirst, and then it was separated out\nas it needs to for high availability.\n\n222\n00:12:56.620 --> 00:13:01.680\nOkay, so now that we have\nthe basic CARP address set up.\n\n223\n00:13:01.680 --> 00:13:04.150\nWe also now need to set up outbound NAT.\n\n224\n00:13:05.230 --> 00:13:09.040\nFirewall, and NAT, and\n\n225\n00:13:09.040 --> 00:13:13.080\nthen Outbound because well,\nthat's all we need NAT for is outbound.\n\n226\n00:13:13.080 --> 00:13:17.410\nWe cannot use the automatic\noutbound rules at this point.\n\n227\n00:13:17.410 --> 00:13:22.441\nWe need to go over to Manual Outbound and\nclick Save.\n\n228\n00:13:24.690 --> 00:13:26.392\nAnd then apply the changes.\n\n229\n00:13:29.414 --> 00:13:34.660\nAnd once we have that done,\nwe now need to edit something.\n\n230\n00:13:34.660 --> 00:13:35.560\nWait a minute.\n\n231\n00:13:35.560 --> 00:13:37.470\nDid I not hit?\nI might not have hit save here.\n\n232\n00:13:38.620 --> 00:13:39.711\nDid I not hit save?\n\n233\n00:13:42.266 --> 00:13:46.603\nAlright, well we'll go ahead and\njust add a new rule.\n\n234\n00:13:46.603 --> 00:13:48.169\n&gt;&gt; [LAUGH]\n&gt;&gt; And that way just make it sense\n\n235\n00:13:48.169 --> 00:13:49.300\nhere, okay?\n\n236\n00:13:49.300 --> 00:13:52.990\nSo what is it that I'm actually nating for\nthe interface?\n\n237\n00:13:52.990 --> 00:13:58.500\nWell, on my outside IP address,\nthat's perfectly fine, is what I want.\n\n238\n00:13:58.500 --> 00:14:03.167\nAnd on any protocol,\nnow I need to actually select what\n\n239\n00:14:03.167 --> 00:14:07.027\nthis source of this is\ngoing to be now as well.\n\n240\n00:14:07.027 --> 00:14:09.326\nLet's see, where is that going to be here.\n\n241\n00:14:12.652 --> 00:14:15.950\nIn the protocol, there it is.\n\n242\n00:14:15.950 --> 00:14:18.390\nI was looking for\nthe address is what I need to do.\n\n243\n00:14:18.390 --> 00:14:22.790\nSo this is source is the network,\nwhich is on the inside.\n\n244\n00:14:22.790 --> 00:14:29.043\nOr actually, in the, I guess I could do\nthat, state destination anything that\n\n245\n00:14:29.043 --> 00:14:34.320\nwill work on the address this is where we\nactually tell it what to translate into.\n\n246\n00:14:34.320 --> 00:14:36.657\nSo, that's the key one\nthat we need to set up.\n\n247\n00:14:40.101 --> 00:14:40.860\nAll right.\n\n248\n00:14:40.860 --> 00:14:45.066\nSo that is going to be our CARP address,\nwhich is gonna be the 46.1,\n\n249\n00:14:48.450 --> 00:14:52.926\nAnd then we want to prevent the\nsynchronization, you can do that here, and\n\n250\n00:14:52.926 --> 00:14:53.857\nwe click Save.\n\n251\n00:15:02.017 --> 00:15:04.290\nSo now we should have\neverything matching up.\n\n252\n00:15:04.290 --> 00:15:08.990\nNow, notice the mark of the, it's\nactually going up that virtual interface.\n\n253\n00:15:08.990 --> 00:15:12.910\nSo anything on the 110\nnetwork should get netted and\n\n254\n00:15:12.910 --> 00:15:15.448\non the outside it appears as the 46.1.\n\n255\n00:15:15.448 --> 00:15:18.510\nEven though 46.1 in reality doesn't.\n\n256\n00:15:18.510 --> 00:15:23.955\nSo that's what we're wanting to make sure\nof on that interface as it comes through,\n\n257\n00:15:23.955 --> 00:15:25.400\nalright?\n\n258\n00:15:25.400 --> 00:15:29.300\nSecondly, this is the other thing that\nhas to be done if you're gonna do this,\n\n259\n00:15:29.300 --> 00:15:30.470\nis DHCP.\n\n260\n00:15:31.520 --> 00:15:35.471\nSo with DHCP, I need to go to Services and\n\n261\n00:15:35.471 --> 00:15:41.072\nmake sure I set up DHTP server\nto use the LAN Carp address.\n\n262\n00:15:44.548 --> 00:15:45.686\nIt's in here.\n\n263\n00:15:48.137 --> 00:15:51.083\nThat we want to enable it\non that LAN interface.\n\n264\n00:15:56.723 --> 00:16:00.615\nSo I scroll down,\nverify that this is the range that I want.\n\n265\n00:16:00.615 --> 00:16:04.874\nDown here in the servers, the DNS server.\n\n266\n00:16:04.874 --> 00:16:06.600\nThis is where it becomes\na little bit different.\n\n267\n00:16:07.750 --> 00:16:11.960\nYou wanted to make sure that it\npoints back to the fire wall so\n\n268\n00:16:11.960 --> 00:16:14.170\nwe can actually use loop\nback if we want to.\n\n269\n00:16:17.912 --> 00:16:19.740\nSo, it points back to the firewall.\n\n270\n00:16:19.740 --> 00:16:23.730\nRemember that the firewall itself\ncan be a DNS resolver for us.\n\n271\n00:16:23.730 --> 00:16:24.642\nYou might wonder why,\n\n272\n00:16:24.642 --> 00:16:27.980\nthis is because this is where is\ngonna get the cap information from.\n\n273\n00:16:27.980 --> 00:16:32.660\nSo with DHCP, right, if you're using that\nand you're using the server to do so,\n\n274\n00:16:32.660 --> 00:16:37.470\nit has to all hand out that default\nget away which is the 110.1.\n\n275\n00:16:37.470 --> 00:16:41.640\nWell, if you have your\nWindows DHCP server set up to\n\n276\n00:16:41.640 --> 00:16:44.660\ndid not do that it's going to\nget a different default gateway.\n\n277\n00:16:44.660 --> 00:16:48.330\nSo that's what's gonna happen but\nthis one we're saying use DNS and\n\n278\n00:16:48.330 --> 00:16:51.910\nit's gonna come here and it's gonna get\nother configuration information here,\n\n279\n00:16:51.910 --> 00:16:55.700\nsame thing with the gateway, 46.\n\n280\n00:16:58.570 --> 00:17:06.150\nSorry wrong address, it's gonna be\nthat internal virtual IP address.\n\n281\n00:17:06.150 --> 00:17:09.174\nThe one right here and\nthat gonna be the default get away.\n\n282\n00:17:09.174 --> 00:17:13.438\nIn this point you set your domain,\nsearch list,\n\n283\n00:17:13.438 --> 00:17:18.130\nleast time if you want to and\nthe fail over fear.\n\n284\n00:17:18.130 --> 00:17:24.380\nThis is very important that you get\nthis one right on the other side here.\n\n285\n00:17:25.454 --> 00:17:31.022\nIf you tell it to failover to\nthe secondary, that means that if DHCP,\n\n286\n00:17:31.022 --> 00:17:35.210\nif this particular pfSense firewall box,\nright?\n\n287\n00:17:35.210 --> 00:17:37.190\nGoes down, well,\n\n288\n00:17:37.190 --> 00:17:42.500\nit has to know where to now send the DHCP\nserver so it can continue to answer.\n\n289\n00:17:42.500 --> 00:17:46.990\nit will only be configured\nhere on the primary server\n\n290\n00:17:46.990 --> 00:17:48.820\nuntil it actually has fail over.\n\n291\n00:17:48.820 --> 00:17:52.520\nNow if you disable it, if you leave it\nblank it is going to disable it, but\n\n292\n00:17:52.520 --> 00:17:56.040\nthis one will actually allow you too\nbe able to do that so it actually\n\n293\n00:17:56.040 --> 00:18:01.940\nautomatically even fails over your DHCP\nOops, ooh, let me get that back out there.\n\n294\n00:18:02.970 --> 00:18:05.810\nAnd the rest of these options, of course,\nare different options that we can set.\n\n295\n00:18:07.450 --> 00:18:13.315\nI'm going to click Save, specify range.\n\n296\n00:18:13.315 --> 00:18:15.170\n[LAUGH] I forgot to change the range.\n\n297\n00:18:15.170 --> 00:18:16.650\nI was like, why is that not working?\n\n298\n00:18:16.650 --> 00:18:18.388\n&gt;&gt; Probably had a range of one PC.\n\n299\n00:18:18.388 --> 00:18:19.800\n[LAUGH]\n&gt;&gt; I had\n\n300\n00:18:19.800 --> 00:18:21.485\na range of a totally different range.\n\n301\n00:18:21.485 --> 00:18:23.480\n[LAUGH] That was so weird.\n\n302\n00:18:23.480 --> 00:18:24.540\nLets do 100.\n\n303\n00:18:33.082 --> 00:18:36.770\n199.\nAll right, so that should do it,\n\n304\n00:18:36.770 --> 00:18:41.020\nhopefully all my information got in there,\nclick Save.\n\n305\n00:18:45.095 --> 00:18:49.290\nSo now we have ranges,\nwe have DHCP setup to use CARP.\n\n306\n00:18:49.290 --> 00:18:50.830\nI'm sure I've got everything else there.\n\n307\n00:18:56.129 --> 00:18:58.290\nSo, once everything else is setup,\n\n308\n00:18:58.290 --> 00:19:01.820\nI'm gonna go back to my\nhigh availability sync.\n\n309\n00:19:01.820 --> 00:19:04.330\nVerify that everything is on and\n\n310\n00:19:04.330 --> 00:19:06.410\nthat everything is working\nthe way that we need to.\n\n311\n00:19:10.925 --> 00:19:13.840\nTrying to see if there's\nanything else that I need, okay?\n\n312\n00:19:13.840 --> 00:19:16.070\nNow everything else looks\ngood at this point.\n\n313\n00:19:18.390 --> 00:19:23.930\nSo now, when I come over here,\nI can let's see where is this?\n\n314\n00:19:25.420 --> 00:19:28.400\nSo it's very tempting to set up\neverything else from this point,\n\n315\n00:19:28.400 --> 00:19:31.520\nbut at this point everything\nshould be ready to work.\n\n316\n00:19:31.520 --> 00:19:35.230\nSometimes it may require a reboot to\nget everything working of course.\n\n317\n00:19:38.796 --> 00:19:43.229\nAnd I'm just trying to make sure\nthat we are Starting up our\n\n318\n00:19:43.229 --> 00:19:45.770\nsynchronization stuff as well.\n\n319\n00:19:45.770 --> 00:19:47.920\nLet me check the firewall rules.\n\n320\n00:19:52.680 --> 00:19:53.929\nAnd let's see.\n\n321\n00:19:58.207 --> 00:20:01.290\nLet me try and create a firewall rule and\nsee if it actually matches up here.\n\n322\n00:20:04.290 --> 00:20:12.220\nSo if I now create a new rule,\nwe'll pass something strange.\n\n323\n00:20:12.220 --> 00:20:16.290\nDo ICMP here, and\ndo an echo request or an echo reply.\n\n324\n00:20:16.290 --> 00:20:23.330\nYeah a echo request that'll work\nJust in case, let's just do any.\n\n325\n00:20:23.330 --> 00:20:23.980\nJust want to make sure.\n\n326\n00:20:35.751 --> 00:20:37.283\nHit Save.\n\n327\n00:20:41.353 --> 00:20:50.221\nAnd apply the changes Let's\nsee if this works here.\n\n328\n00:20:54.411 --> 00:20:55.690\nGives us the new tab yet?\n\n329\n00:20:57.350 --> 00:20:58.519\nNo, it didn't, all right.\n\n330\n00:21:00.432 --> 00:21:02.690\nThere it goes, okay.\n\n331\n00:21:02.690 --> 00:21:06.950\nSo I was like it didn't actually work yet,\nbut I would just switch on over to Gama,\n\n332\n00:21:06.950 --> 00:21:09.700\nand remember that rule that I just made.\n\n333\n00:21:09.700 --> 00:21:13.860\nYou can see now, there's that rule\nit actually got synchronized over.\n\n334\n00:21:13.860 --> 00:21:16.580\nI wasn't sure how long it would take,\nI was like I don't see\n\n335\n00:21:16.580 --> 00:21:20.910\nthe actual change that I was looking for\nbut that's where it begins to set in and\n\n336\n00:21:20.910 --> 00:21:23.440\nyou start to see these\nchanges start to happen.\n\n337\n00:21:23.440 --> 00:21:29.810\nAnd now, the rest of your network,\nas you start restarting PCs,\n\n338\n00:21:29.810 --> 00:21:33.650\nthey get the new configuration,\nthey start using the changes here.\n\n339\n00:21:33.650 --> 00:21:37.760\nSo usually at this point, you should\nreally stop using the secondary and\n\n340\n00:21:37.760 --> 00:21:41.450\neverything now focuses\nin on this one as well.\n\n341\n00:21:41.450 --> 00:21:46.210\nAnd then if everything is setup correctly,\neverything else is good.\n\n342\n00:21:46.210 --> 00:21:47.990\nSo everything else that you do,\n\n343\n00:21:47.990 --> 00:21:53.450\nlet's try another virtual IP address\nhere just to say that we did it.\n\n344\n00:21:56.738 --> 00:21:59.597\n&gt;&gt; So, Ronnie, basically what you're\ndoing right now is just verifying-\n\n345\n00:21:59.597 --> 00:22:00.755\n&gt;&gt; Confirming.\n\n346\n00:22:00.755 --> 00:22:03.905\n&gt;&gt; That the synchronization is\nhappening from delta to gamma.\n\n347\n00:22:03.905 --> 00:22:08.810\nAnd anytime you make a change It should,\nlike you're adding a virtual IP.\n\n348\n00:22:08.810 --> 00:22:13.250\nFew seconds should pass, you look over\nin gamma and the virtual IP shows up.\n\n349\n00:22:13.250 --> 00:22:15.150\n&gt;&gt; Yes, that is the great hope, right?\n\n350\n00:22:15.150 --> 00:22:16.310\nSo I just want to make sure,\n\n351\n00:22:16.310 --> 00:22:18.870\neven though I already showed you\nthat it did work on the other one.\n\n352\n00:22:18.870 --> 00:22:23.840\n&gt;&gt; Guys, if you're listening,\nit would be a good idea to have maybe\n\n353\n00:22:23.840 --> 00:22:27.581\nan area where you can test synchronization\nby hitting a button or something.\n\n354\n00:22:27.581 --> 00:22:28.257\n[CROSSTALK]\n&gt;&gt; Yeah.\n\n355\n00:22:28.257 --> 00:22:29.293\n&gt;&gt; That says yes this is working.\n\n356\n00:22:29.293 --> 00:22:29.890\n&gt;&gt; Very easily so, yes.\n\n357\n00:22:30.920 --> 00:22:34.770\nSo, let's check out\nthe hard drive p address.\n\n358\n00:22:34.770 --> 00:22:37.050\nAnd this one's not synced over yet.\n\n359\n00:22:37.050 --> 00:22:39.750\nSo, some of them do take a little\nbit of time in their delay,\n\n360\n00:22:39.750 --> 00:22:43.640\ndepending on how their set up and\nthe way that they actually sync across.\n\n361\n00:22:43.640 --> 00:22:46.500\nAnd I might've actually just caught\nit during that time period where\n\n362\n00:22:46.500 --> 00:22:49.860\nit's syncing, so if we wait long\nenough it's probably going to work.\n\n363\n00:22:49.860 --> 00:22:50.670\nJust like it did for\n\n364\n00:22:50.670 --> 00:22:55.890\nthat firewall rule that we set up earlier\nhere without having to go across anything.\n\n365\n00:22:55.890 --> 00:22:58.150\nIt absolutely brought\nit across immediately.\n\n366\n00:22:58.150 --> 00:23:01.480\nSo just realize the synchronization is\nbeginning to work in its process and\n\n367\n00:23:01.480 --> 00:23:06.610\ndoing everything else and now it should\nbe ready to go, everything should be able\n\n368\n00:23:06.610 --> 00:23:11.292\nto handle the synchronization that we need\nand we're now set up for at least basic.\n\n369\n00:23:11.292 --> 00:23:13.880\nHowever, we didn't configure everything.\n\n370\n00:23:13.880 --> 00:23:16.520\nSo, if you go back through you can\nnow start configuring your VPN's,\n\n371\n00:23:16.520 --> 00:23:20.440\nto use it, and everything else,\nand verify if it's working.\n\n372\n00:23:20.440 --> 00:23:23.030\nIf it's not, go through your steps again.\n\n373\n00:23:23.030 --> 00:23:24.840\nMake sure that they match\nthe way you need them to,\n\n374\n00:23:24.840 --> 00:23:26.690\nand everything should be up and going.\n\n375\n00:23:26.690 --> 00:23:29.430\n&gt;&gt; Right.\nSo boring any problems,\n\n376\n00:23:29.430 --> 00:23:33.670\nthere should be If one of these\npfSense boxes goes down you, and\n\n377\n00:23:33.670 --> 00:23:36.475\nyou go to the server room and there's\nsmoke and fire coming out of one of them.\n\n378\n00:23:36.475 --> 00:23:38.760\n&gt;&gt; [LAUGH]\n&gt;&gt; God forbid, right.\n\n379\n00:23:38.760 --> 00:23:42.840\nYour network is still running because\nthe other pfSense box is over there going,\n\n380\n00:23:42.840 --> 00:23:43.615\nwhat's wrong with you.\n\n381\n00:23:43.615 --> 00:23:44.730\n[LAUGH] I am working just great.\n\n382\n00:23:44.730 --> 00:23:46.520\nSo that's the whole purpose of this.\n\n383\n00:23:46.520 --> 00:23:50.810\nOne of these things goes down, you have\nthat duel points of failure, right?\n\n384\n00:23:50.810 --> 00:23:54.930\nAnytime you add a point a point of\nfailure, you increase your uptime, because\n\n385\n00:23:54.930 --> 00:23:59.090\nit's highly unlikely that all three of\nyour devices will go down at one time.\n\n386\n00:23:59.090 --> 00:24:01.820\nBarring the fact that your\nwhole building goes down, and\n\n387\n00:24:01.820 --> 00:24:05.810\nif they're all housed in the same\nspot then of course that will happen.\n\n388\n00:24:05.810 --> 00:24:08.940\nAlright Rodney anything else we need to\ncover when it comes to high availability.\n\n389\n00:24:08.940 --> 00:24:11.550\n&gt;&gt; No.\nJust remember that its confusing because\n\n390\n00:24:11.550 --> 00:24:12.700\nthere's a lot of moving pieces.\n\n391\n00:24:12.700 --> 00:24:18.220\nGetting it right the first time it may not\nhappen it may be like I did where you just\n\n392\n00:24:18.220 --> 00:24:22.760\nhave to slowly do it and make sure that\nyou keep yourself off that secondary and\n\n393\n00:24:22.760 --> 00:24:26.970\nthen trust, wait give it some time and\nif it's not working after a while.\n\n394\n00:24:26.970 --> 00:24:28.480\nJust go back and verify the settings.\n\n395\n00:24:28.480 --> 00:24:31.100\nOnce those settings verified\nit works just fine.\n\n396\n00:24:31.100 --> 00:24:33.770\nI haven't ever gotten it not to work, but\n\n397\n00:24:33.770 --> 00:24:37.530\nat the same time it's probably the third\nor fourth time that I've done this, but\n\n398\n00:24:37.530 --> 00:24:41.715\nit does take a little bit of time to\njust be patient is what it What it does.\n\n399\n00:24:41.715 --> 00:24:44.693\n&gt;&gt; That's definitely the key to any of\nthese things that have CPU inside of them.\n\n400\n00:24:44.693 --> 00:24:46.045\n&gt;&gt; [LAUGH]\n&gt;&gt; You have to\n\n401\n00:24:46.045 --> 00:24:47.475\nbe patient with them sometimes.\n\n402\n00:24:47.475 --> 00:24:50.317\nAnd you'll know Ronnie and\nI aren't the most patient man over here.\n\n403\n00:24:50.317 --> 00:24:51.645\n&gt;&gt; No. [LAUGH] &gt;&gt; So,\nyou'll be frustrated,\n\n404\n00:24:51.645 --> 00:24:53.605\nhopefully you're not that\nway to be like us, right?\n\n405\n00:24:53.605 --> 00:24:56.715\nTake our advice, just give us some time,\nand wait for a second and\n\n406\n00:24:56.715 --> 00:24:59.395\nmake sure everything is working and\nthen screaming yellow.\n\n407\n00:24:59.395 --> 00:25:02.005\n[LAUGH] That being said Ron,\nthanks you so much for\n\n408\n00:25:02.005 --> 00:25:04.750\ndropping by and showing us how\nwe can do high availability,\n\n409\n00:25:04.750 --> 00:25:08.280\nusing our PF sense equipment, but\nit is that time for us to sign off.\n\n410\n00:25:08.280 --> 00:25:09.630\nSo, that's what we'll do.\n\n411\n00:25:09.630 --> 00:25:12.930\nSigning off for IT ProTV,\nIve been your host Daniel Lowry.\n\n412\n00:25:12.930 --> 00:25:13.840\n&gt;&gt; And I'm Ronnie Wong.\n\n413\n00:25:13.840 --> 00:25:21.270\n&gt;&gt; And we'll see you next time.\n\n414\n00:25:21.270 --> 00:25:23.670\n[MUSIC]\n&gt;&gt; Thank you for watching IT ProTV.\n\n",
          "vimeoId": "199679114"
        },
        {
          "description": "In this episode, Daniel and Ronnie discuss the uses and setup for a Multi-WAN environment with pfSense. They begin by going over the goals of using a multi-WAN system including failover, load balancing, and bandwidth aggregation. Finally they go step-by-step through configuring Multi-WAN in pfSense.",
          "length": "1718",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-5-setup_for_multi-wan-011317-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-5-setup_for_multi-wan-011317-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-4-5-setup_for_multi-wan-011317-1-sm.jpg",
          "title": "Setup for Multi-WAN",
          "transcript": "WEBVTT\n\n1\n00:00:00.290 --> 00:00:01.511\nWelcome to ITProTV.\n\n2\n00:00:01.511 --> 00:00:03.207\nI'm your host Don Pezet.\n\n3\n00:00:03.207 --> 00:00:08.140\n[CROSSTALK]\n\n4\n00:00:08.140 --> 00:00:12.420\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.420 --> 00:00:13.842\n&gt;&gt; All right, greetings and\n\n6\n00:00:13.842 --> 00:00:17.540\nwelcome everyone to another\ngreat episode of ITProTV.\n\n7\n00:00:17.540 --> 00:00:18.541\n&gt;&gt; I'm your host Daniel Lowrie.\n\n8\n00:00:18.541 --> 00:00:22.087\nAnd in today's episode we're\nmoving forward with more on our\n\n9\n00:00:22.087 --> 00:00:24.279\npfSense version 2.3.2 series.\n\n10\n00:00:24.279 --> 00:00:27.935\nAnd if you thought that was a mouthful\njust wait until you meet our next guest,\n\n11\n00:00:27.935 --> 00:00:29.519\nhe is the verbosity man himself.\n\n12\n00:00:29.519 --> 00:00:31.090\n&gt;&gt; [LAUGH]\n&gt;&gt; That's our good friend, Mr.\n\n13\n00:00:31.090 --> 00:00:31.690\nRonnie Wong.\n\n14\n00:00:31.690 --> 00:00:33.260\nRonnie welcome back, how's it going today?\n\n15\n00:00:33.260 --> 00:00:34.361\n&gt;&gt; Well thank you very much.\n\n16\n00:00:34.361 --> 00:00:39.047\nIt's going very well as we continue on\ntaking look at more things that pfSense\n\n17\n00:00:39.047 --> 00:00:40.572\nreally can help us to do.\n\n18\n00:00:40.572 --> 00:00:42.480\nSo we've already seen\nthe firewall feature.\n\n19\n00:00:42.480 --> 00:00:46.480\nWe've already seen that it really acts as\na nice network utility and appliance for\n\n20\n00:00:46.480 --> 00:00:49.750\nus in just about every\nsense that we can think of.\n\n21\n00:00:49.750 --> 00:00:52.170\nThings that we needed,\nthe pfSense community and\n\n22\n00:00:52.170 --> 00:00:55.640\nof course developers have said, look,\nwe need to include that in there and\n\n23\n00:00:55.640 --> 00:00:56.976\nmake sure that if functions well.\n\n24\n00:00:56.976 --> 00:01:00.160\nAnd one of the things that we\nmay also end up encountering,\n\n25\n00:01:00.160 --> 00:01:05.000\nespecially in an enterprised type of\nbusiness, is going to be of course dual\n\n26\n00:01:05.000 --> 00:01:10.630\nconnectivity with two WAN connections or\nmultiple WAN connections.\n\n27\n00:01:10.630 --> 00:01:14.980\nBut we're specifically just gonna focus\nin on the idea of just a multi WAN setup\n\n28\n00:01:14.980 --> 00:01:19.200\nwhich we're gonna use as fake ISPs,\nis what we're gonna end up doing here.\n\n29\n00:01:19.200 --> 00:01:23.770\nNow the reason why, right, is that\nbusinesses that really need to have that\n\n30\n00:01:23.770 --> 00:01:26.800\nhigh availability, that connection\nregardless of what happens,\n\n31\n00:01:26.800 --> 00:01:30.590\nwe wanna make sure that we don't\nhave any single point of failure.\n\n32\n00:01:30.590 --> 00:01:35.440\nSo you may end up in a business where they\ngo look, we have two Internet connections.\n\n33\n00:01:35.440 --> 00:01:37.750\nOne is pretty much our\nprimary connection and\n\n34\n00:01:37.750 --> 00:01:40.390\nthe other one is our secondary connection.\n\n35\n00:01:40.390 --> 00:01:45.310\nAnd the way that we need it setup is\nsimple, if the primary for one reason or\n\n36\n00:01:45.310 --> 00:01:49.160\nanother fails, okay,\ndue to whatever reason that it is,\n\n37\n00:01:49.160 --> 00:01:52.400\nthat it automatically switch over\nto the secondary connection,\n\n38\n00:01:52.400 --> 00:01:54.760\nat least that's what\nwe're talking about here.\n\n39\n00:01:54.760 --> 00:01:58.127\nSo let me give you an example right\nhere on my screen as we take a look\n\n40\n00:01:58.127 --> 00:02:00.595\nat the conceptual\nunderstanding of this idea.\n\n41\n00:02:00.595 --> 00:02:04.410\nAnd this is what we normally consider\nsomething that we call failover, right?\n\n42\n00:02:04.410 --> 00:02:07.710\nSo here it is, inside of my LAN,\nI have my LAN network.\n\n43\n00:02:07.710 --> 00:02:11.700\nAnd then through my pfSense firewall,\nI may have two connections out,\n\n44\n00:02:11.700 --> 00:02:14.250\nof course to two different ISPs.\n\n45\n00:02:14.250 --> 00:02:17.670\nAnd this is really kind of\nthe setup that we really want.\n\n46\n00:02:17.670 --> 00:02:20.380\nWe could have two\nconnections to the same ISP.\n\n47\n00:02:20.380 --> 00:02:23.500\nDon't get me wrong that that would\nprobably be more than sufficient.\n\n48\n00:02:24.980 --> 00:02:29.531\nBut if we think about it right, if we have\na failure of that entire ISP's company,\n\n49\n00:02:29.531 --> 00:02:32.330\nwell now both of our connections are down.\n\n50\n00:02:32.330 --> 00:02:34.840\nSo instead we may end up with ISP1 and\n\n51\n00:02:34.840 --> 00:02:38.820\nISP2, but\nour company is connected to both.\n\n52\n00:02:38.820 --> 00:02:42.240\nAnd what we do is we say that\none particular connection is,\n\n53\n00:02:42.240 --> 00:02:44.250\nlet's say, a 200 megabit link.\n\n54\n00:02:44.250 --> 00:02:47.880\nAnd the other one, it could be like\na 20 megabit link if we want it to,\n\n55\n00:02:47.880 --> 00:02:48.670\njust as a failover.\n\n56\n00:02:48.670 --> 00:02:53.970\nWe want it to actually just kind of\nkeep us connected so that we limp along.\n\n57\n00:02:53.970 --> 00:02:57.800\nWe don't want it to be a permanent\nreplacement, but we can if we need it to.\n\n58\n00:02:57.800 --> 00:03:01.210\nBut we really just want it to\nlimp along here if we need.\n\n59\n00:03:01.210 --> 00:03:04.630\nSo that what happens,\nis if there is this disconnection here.\n\n60\n00:03:04.630 --> 00:03:08.430\nLet me see if I can get\na marker of some sort up here.\n\n61\n00:03:08.430 --> 00:03:13.070\nAnd let me change that color,\ndoesn't that look nice invisible.\n\n62\n00:03:13.070 --> 00:03:15.830\nOf course, black is probably\nnot the one I was looking for.\n\n63\n00:03:15.830 --> 00:03:16.630\nI was hoping for\n\n64\n00:03:16.630 --> 00:03:20.610\na red, but since I can't get a red\nto show up, let's see, there we go.\n\n65\n00:03:20.610 --> 00:03:22.815\nSo if this connection, and\nit's still changed to black.\n\n66\n00:03:22.815 --> 00:03:25.071\n&gt;&gt; [LAUGH]\n&gt;&gt; So I'm gonna leave it as black,\n\n67\n00:03:25.071 --> 00:03:27.449\nI think that as my lot as for today.\n\n68\n00:03:27.449 --> 00:03:29.754\n&gt;&gt; Let's see the black\nhole around Ronnie's-\n\n69\n00:03:29.754 --> 00:03:30.267\n&gt;&gt; That's right.\n\n70\n00:03:30.267 --> 00:03:32.110\n&gt;&gt; Connection there.\n\n71\n00:03:32.110 --> 00:03:34.190\nLife is what I'm saying, okay?\n\n72\n00:03:34.190 --> 00:03:39.520\nBut for right now, right, the firewall\nshould be able to sense this drop here and\n\n73\n00:03:39.520 --> 00:03:42.420\nthen switch us over so\n\n74\n00:03:42.420 --> 00:03:46.560\nthat we go out to the Internet\nthrough that connection instead.\n\n75\n00:03:46.560 --> 00:03:49.750\nSo when we start to take\na look at something like this,\n\n76\n00:03:49.750 --> 00:03:54.390\nit really does help out if we have\ndevices that can allow us do this.\n\n77\n00:03:54.390 --> 00:03:56.970\nCan you spend a ton of money\ngetting devices like this?\n\n78\n00:03:56.970 --> 00:03:58.110\nHeck yeah, okay?\n\n79\n00:03:58.110 --> 00:04:01.297\nYou can go out there and\npurchase appliances that says look,\n\n80\n00:04:01.297 --> 00:04:05.358\nI can keep it in this way where, the way\nthat they end up working this, right,\n\n81\n00:04:05.358 --> 00:04:08.796\nis that that device will have what\nwe call some type of heartbeat or\n\n82\n00:04:08.796 --> 00:04:11.761\nkeep alive signal in which\nit will constantly monitor.\n\n83\n00:04:11.761 --> 00:04:17.110\nAnd the way that all of them pretty\nmuch do it, is they send a single ping.\n\n84\n00:04:17.110 --> 00:04:21.540\nOkay, so not the four pings when they send\nping, but they send one ping per second\n\n85\n00:04:22.700 --> 00:04:29.660\nforever, seven days, I mean 24 hours\na day, 7 days a week, 365 days a year.\n\n86\n00:04:29.660 --> 00:04:33.810\nAnd you pick an IP address\nout there on the Internet\n\n87\n00:04:33.810 --> 00:04:36.600\nthat really connects through that ISP.\n\n88\n00:04:36.600 --> 00:04:39.540\nSo you link it that way, and\nthat way if it goes through the ISP,\n\n89\n00:04:39.540 --> 00:04:43.590\nit's actually pinging that particular\nsite that it normally needs to.\n\n90\n00:04:43.590 --> 00:04:48.410\nAnd if they sense that that connection\ngoes down, well then that device,\n\n91\n00:04:48.410 --> 00:04:51.660\nwhatever it might be, however much\nmoney that you spend, it then says,\n\n92\n00:04:51.660 --> 00:04:54.610\nall right, it's going down,\nI'm dropping that connection.\n\n93\n00:04:54.610 --> 00:04:58.285\nI need to go to one that's actually still\nusing the ping and still working and\n\n94\n00:04:58.285 --> 00:04:59.555\nstill connected, okay.\n\n95\n00:04:59.555 --> 00:05:01.530\nWell, pfSense does the same thing for us.\n\n96\n00:05:01.530 --> 00:05:05.810\nWe can actually set that up in pfSense\nto work the way that we want it to, so\n\n97\n00:05:05.810 --> 00:05:11.030\nthat if something like this happens we are\nfine and dandy and good and ready to go.\n\n98\n00:05:11.030 --> 00:05:15.330\nThe key of course then, is picking\nthe right IP address to monitor.\n\n99\n00:05:15.330 --> 00:05:19.269\nAnd also of course making sure that\nwe have the connection setup the way\n\n100\n00:05:19.269 --> 00:05:20.220\nthat we need to.\n\n101\n00:05:20.220 --> 00:05:22.100\nSo we're gonna take a look at that.\n\n102\n00:05:22.100 --> 00:05:26.590\nNow, that is not the only\nreason why we also do this.\n\n103\n00:05:26.590 --> 00:05:29.920\nNow Daniel, as nice as this type\nof connection is for failover and\n\n104\n00:05:29.920 --> 00:05:30.500\nit really is.\n\n105\n00:05:30.500 --> 00:05:34.810\nIf it's a 200 megabit connection\nversus a 20 megabit connection.\n\n106\n00:05:34.810 --> 00:05:39.180\nI know that if not 100% of the time,\n99% of the time I want my\n\n107\n00:05:39.180 --> 00:05:43.680\nconnection to be going out through\nthat 200 megabit connection, okay.\n\n108\n00:05:43.680 --> 00:05:45.890\nThat seems good to me, now.\n\n109\n00:05:45.890 --> 00:05:47.150\nBut what if I have it balanced?\n\n110\n00:05:47.150 --> 00:05:50.310\nWhat if both of them are actually\n100 megabit connections?\n\n111\n00:05:50.310 --> 00:05:54.550\nOr the idea here of let's say,\nboth of them are 200 megabit connections.\n\n112\n00:05:54.550 --> 00:05:59.610\nWell, that actually allows me to flip\nover to the other one if the one fails.\n\n113\n00:05:59.610 --> 00:06:01.120\n&gt;&gt; And I know who to ask for a loan from.\n\n114\n00:06:01.120 --> 00:06:02.264\n&gt;&gt; Yeah.\n&gt;&gt; Ronnie's got money.\n\n115\n00:06:02.264 --> 00:06:03.679\n[LAUGH]\n&gt;&gt; [LAUGH] That's right.\n\n116\n00:06:03.679 --> 00:06:05.140\nYeah, I got a ton.\n\n117\n00:06:05.140 --> 00:06:07.940\nYeah, but\nwhen we start to see this, right?\n\n118\n00:06:07.940 --> 00:06:11.460\nSomething like this now becomes\na little more challenging.\n\n119\n00:06:11.460 --> 00:06:15.170\nBecause now, I'm paying for\n200 megabits on both sides, right?\n\n120\n00:06:15.170 --> 00:06:17.968\nBut, I'm really only using\none of them all the time.\n\n121\n00:06:17.968 --> 00:06:21.990\nSo, 400 megabit of combined bandwidth, but\n\n122\n00:06:21.990 --> 00:06:25.750\nreally I'm only using 200 megabit,\nbut I'm paying for 400.\n\n123\n00:06:25.750 --> 00:06:29.520\nSounds kind of wasteful just about\nthe majority of the time right.\n\n124\n00:06:29.520 --> 00:06:33.630\n&gt;&gt; It does right, but\nit's not wasteful if that line goes down.\n\n125\n00:06:33.630 --> 00:06:36.070\nAll of a sudden it's the greatest\nthing you've ever paid for\n\n126\n00:06:36.070 --> 00:06:37.380\nin your whole entire life.\n\n127\n00:06:37.380 --> 00:06:40.570\n&gt;&gt; Yeah, there's no doubt it really\nwould be were it doesn't like that.\n\n128\n00:06:40.570 --> 00:06:43.750\nBut what we might actually want instead.\n\n129\n00:06:43.750 --> 00:06:46.580\nLet me see if I can copy this line\nbecause it actually has helped me out\n\n130\n00:06:46.580 --> 00:06:48.520\na little bit, and copy that.\n\n131\n00:06:49.940 --> 00:06:51.190\nIs that what we do.\n\n132\n00:06:52.310 --> 00:06:53.139\nPaste it over here.\n\n133\n00:06:56.159 --> 00:06:59.180\nIs that we do load\nbalancing across them too.\n\n134\n00:07:02.070 --> 00:07:04.785\nSo, this way,\nlet me change the color here.\n\n135\n00:07:04.785 --> 00:07:05.699\n&gt;&gt; If you can.\n&gt;&gt; Make that a bright yellow.\n\n136\n00:07:05.699 --> 00:07:08.213\n&gt;&gt; [LAUGH]\n&gt;&gt; If it is possible.\n\n137\n00:07:08.213 --> 00:07:09.632\nDoesn't mean that I always can do it.\n\n138\n00:07:09.632 --> 00:07:12.546\nBut if it is possible, I will do it.\n\n139\n00:07:12.546 --> 00:07:14.483\nWe'll change that up.\n\n140\n00:07:14.483 --> 00:07:17.124\nThat looks really good, doesn't it?\n\n141\n00:07:17.124 --> 00:07:18.020\nWhat more?\n\n142\n00:07:18.020 --> 00:07:19.200\nThere we go.\n\n143\n00:07:19.200 --> 00:07:24.140\nWhere now, the pack instead of going\nout are actually splitting across them.\n\n144\n00:07:24.140 --> 00:07:27.504\nAnd the way it does inside of pfSense,\nand you can do this without having\n\n145\n00:07:27.504 --> 00:07:31.280\nto purchase another piece of equipment,\nis it does it in a round robin fashion.\n\n146\n00:07:32.310 --> 00:07:36.060\nSo we can set this up to where it\nactually load balances, 50% over here,\n\n147\n00:07:36.060 --> 00:07:37.420\n50% over here.\n\n148\n00:07:37.420 --> 00:07:42.360\nBut if you had unequal cost loads between\nthem, such as that 20 megabit and\n\n149\n00:07:42.360 --> 00:07:43.835\nthat 200 megabit.\n\n150\n00:07:43.835 --> 00:07:45.210\nAnd then go, you wanna know something?\n\n151\n00:07:45.210 --> 00:07:49.496\nI think I wanna send 10 times the amount\nof packets over the 200 megabit connection\n\n152\n00:07:49.496 --> 00:07:51.975\nversus the other one, and\nyou can do that as well.\n\n153\n00:07:51.975 --> 00:07:57.184\nIt's called assigning the weight to that\nparticular gateway or that gateway group.\n\n154\n00:07:57.184 --> 00:08:00.695\nAnd it knows that, hey, over this\nconnection, it's gonna be 90% more.\n\n155\n00:08:00.695 --> 00:08:04.670\nSo you can go ahead and\nfigure that map out to do that.\n\n156\n00:08:04.670 --> 00:08:10.250\n&gt;&gt; Now Ronnie, when it does this type of\nactivity, is it sending per connection or\n\n157\n00:08:10.250 --> 00:08:14.420\nis it actually taking some of my TCP\npackets and sending it out this way and\n\n158\n00:08:14.420 --> 00:08:16.070\nsome of them going out this way?\n\n159\n00:08:16.070 --> 00:08:18.380\nOr is it based on per\nconnection that I have?\n\n160\n00:08:18.380 --> 00:08:21.470\n&gt;&gt; Based per connection\nis what you tend to have.\n\n161\n00:08:21.470 --> 00:08:23.740\nBut at the same time,\nyes, you will see that.\n\n162\n00:08:23.740 --> 00:08:27.260\nIt's kind of a neat way to do it\nunless you really have to worry about\n\n163\n00:08:27.260 --> 00:08:28.460\nthe idea of speed.\n\n164\n00:08:28.460 --> 00:08:32.970\nIf you're a 20 megabit connection, even\nthose 20 megabits, it's lightening fast.\n\n165\n00:08:32.970 --> 00:08:36.391\nWell, the problem is that it may be slower\nthan what you normally get as far as\n\n166\n00:08:36.391 --> 00:08:39.620\nthe number of packets that you\ncan get through at one time.\n\n167\n00:08:39.620 --> 00:08:44.697\nThat's when you start to do that unequal\ncost type of load balancing instead and\n\n168\n00:08:44.697 --> 00:08:47.214\nyou can weight each link differently.\n\n169\n00:08:47.214 --> 00:08:52.142\nSo the way that we have it set right here\nat ITPro TV is that if we're doing load\n\n170\n00:08:52.142 --> 00:08:55.931\nbalancing, we're actually\nsending it at thirty to one.\n\n171\n00:08:55.931 --> 00:09:00.854\nAnd that means 97% of our traffic is\ngoing over our big, gigantic connection.\n\n172\n00:09:00.854 --> 00:09:03.431\nAnd only 3% of other\ntraffic that we generate\n\n173\n00:09:03.431 --> 00:09:08.322\non this network is actually going over\nour secondary connection, instead.\n\n174\n00:09:08.322 --> 00:09:13.170\nWe could've just left it at failover,\nwhich is usually what we want to do.\n\n175\n00:09:13.170 --> 00:09:17.290\nBut at the same time, we wanted to make\nsure that we were also using that line.\n\n176\n00:09:17.290 --> 00:09:20.598\nIf we needed to troubleshoot that we\nwere actually still able to do so\n\n177\n00:09:20.598 --> 00:09:23.280\nif somebody else was connecting to it,\nso you name it.\n\n178\n00:09:23.280 --> 00:09:25.980\nThere were just a couple of things,\nso we decided to try and\n\n179\n00:09:25.980 --> 00:09:26.910\nuse that load balancing.\n\n180\n00:09:26.910 --> 00:09:28.999\nAnd if we choose not to, it's very simple,\n\n181\n00:09:28.999 --> 00:09:31.091\nwe can turn that feature\noff fairly easily.\n\n182\n00:09:31.091 --> 00:09:32.419\nSo load balancing and\n\n183\n00:09:32.419 --> 00:09:36.045\nthat idea of failover are pretty\nmuch the two that we have.\n\n184\n00:09:36.045 --> 00:09:40.187\nNow something else a little bit more\nconfusing that can be done is what we\n\n185\n00:09:40.187 --> 00:09:43.580\ncall, of course, bandwidth aggregation.\n\n186\n00:09:43.580 --> 00:09:47.760\nBandwidth aggregation says that we\ncan take two of those links and\n\n187\n00:09:47.760 --> 00:09:52.100\ncombine the overall bandwidth\ntogether to make us get what we want.\n\n188\n00:09:52.100 --> 00:09:55.076\nBut you can't use this if\nyou have two different ISPs.\n\n189\n00:09:55.076 --> 00:09:57.996\nSo this is where you have to\ngo to that single ISP and go,\n\n190\n00:09:57.996 --> 00:10:01.820\nI really need two separate connections\nthat then we can bind together.\n\n191\n00:10:01.820 --> 00:10:04.380\nNow can you do it if you\nhave two different ISPs?\n\n192\n00:10:04.380 --> 00:10:07.380\nYou can but you have to actually go and\ntalk to both those ISPs and\n\n193\n00:10:07.380 --> 00:10:11.120\nsay, here's what I want to do\nwith this type of connection.\n\n194\n00:10:11.120 --> 00:10:15.778\nAnd it requires them to put some type\nof intervention inside of what they're\n\n195\n00:10:15.778 --> 00:10:17.464\ngoing to do to help you out.\n\n196\n00:10:17.464 --> 00:10:21.120\nBut normally in a single one,\nyou can end up doing that too.\n\n197\n00:10:21.120 --> 00:10:24.719\nNow that does require a little\nbit more technical setup and\n\n198\n00:10:24.719 --> 00:10:28.697\nunderstanding of some of the way\nthat link ports end up working.\n\n199\n00:10:28.697 --> 00:10:33.203\nBut at this point, we're not gonna really\nworry about this too much because it can.\n\n200\n00:10:33.203 --> 00:10:36.780\nSo you'll notice all three of these\nare essentially on the same network.\n\n201\n00:10:36.780 --> 00:10:39.080\nSo they might have the same gateway but\n\n202\n00:10:39.080 --> 00:10:43.680\nyou do tend to have two separate link\nconnections up to your single ISP.\n\n203\n00:10:43.680 --> 00:10:47.130\nAnd that's kind of the only\ndifference that we're talking about\n\n204\n00:10:47.130 --> 00:10:49.610\nin getting this established here, okay?\n\n205\n00:10:49.610 --> 00:10:51.794\nSo those are usually\nthe three primary reasons for\n\n206\n00:10:51.794 --> 00:10:54.190\nusing something of that high availability.\n\n207\n00:10:54.190 --> 00:10:58.260\nNow, even though I set it up with just two\nconnections, you can do this with as many\n\n208\n00:10:58.260 --> 00:11:03.340\nconnections as you want,\nas long as you have the ports to do so.\n\n209\n00:11:03.340 --> 00:11:07.380\nThat's the other thing with this\nbandwidth, that's a good reminder here.\n\n210\n00:11:07.380 --> 00:11:12.140\nNormally, remember that inside of pfSense,\nwe can create virtual interfaces.\n\n211\n00:11:12.140 --> 00:11:14.610\nSo I could split the WAN port in theory,\nright?\n\n212\n00:11:14.610 --> 00:11:19.657\nInto WAN for this connection on the top\nand WAN for this connection on the bottom.\n\n213\n00:11:19.657 --> 00:11:23.457\nMake two virtual interfaces instead\nof using the physical interface.\n\n214\n00:11:23.457 --> 00:11:26.044\nYou can do that for everything but\nbandwidth aggregation.\n\n215\n00:11:26.044 --> 00:11:29.874\nAnd it should make sense, cuz you only\nhave, what, one physical connection,\n\n216\n00:11:29.874 --> 00:11:31.545\nof that's a 100 megabit link.\n\n217\n00:11:31.545 --> 00:11:34.270\nPhysically, it doesn't matter if you're-\n&gt;&gt; [CROSSTALK] You can't go beyond that.\n\n218\n00:11:34.270 --> 00:11:37.803\n&gt;&gt; Yeah, so you go, well, I have\na virtual connection that's 100 megs.\n\n219\n00:11:37.803 --> 00:11:40.210\nBut I have another virtual\nconnection that's 100 megs.\n\n220\n00:11:40.210 --> 00:11:42.800\nWell, the physical overall\nbandwidth is 100 megabits.\n\n221\n00:11:42.800 --> 00:11:44.320\nSo you won't be able to do that.\n\n222\n00:11:44.320 --> 00:11:48.270\nBut if you tie two physical ports\ntogether that are 100 megabytes each and\n\n223\n00:11:48.270 --> 00:11:49.620\nyou have that connection to your ISP,\n\n224\n00:11:49.620 --> 00:11:54.250\nyou definitely can aggregate\nthose together a little bit more.\n\n225\n00:11:54.250 --> 00:11:58.921\nSo fair enough and easy enough for\nus to understand in the scenarios that you\n\n226\n00:11:58.921 --> 00:12:02.720\nmight encounter if you're\nsetting something like this up.\n\n227\n00:12:02.720 --> 00:12:06.820\nNow, I can't tell you that\nright away that this is gonna\n\n228\n00:12:06.820 --> 00:12:09.620\nbe the easiest thing you'll ever do.\n\n229\n00:12:09.620 --> 00:12:12.481\nBecause it requires you\nto have a good knowledge\n\n230\n00:12:12.481 --> 00:12:16.700\nof your ISP's IP addresses that\nthey're assigned to your network.\n\n231\n00:12:16.700 --> 00:12:18.028\nSo you have to do that.\n\n232\n00:12:18.028 --> 00:12:22.389\nAnd then you have to also be\nwilling to kind of massage it and\n\n233\n00:12:22.389 --> 00:12:26.315\nadjust it the way that it\nneeds to go on your network.\n\n234\n00:12:26.315 --> 00:12:29.079\nSo you can set it up right away and\nyou can do like I did.\n\n235\n00:12:29.079 --> 00:12:31.233\nOkay, it's doing load balancing 50/50.\n\n236\n00:12:31.233 --> 00:12:36.301\nAnd you watch that little, tiny thin ISP\ntraffic that I had over our second ISP.\n\n237\n00:12:36.301 --> 00:12:41.390\nAnd it's jumping up there to,\nwhere it's like 90% saturation like, and\n\n238\n00:12:41.390 --> 00:12:44.974\nthen our big,\ngigantic pipe was only doing like 25%.\n\n239\n00:12:44.974 --> 00:12:46.636\n&gt;&gt; [LAUGH]\n&gt;&gt; That's not working.\n\n240\n00:12:46.636 --> 00:12:48.056\n&gt;&gt; I think something's\nmisconfigured there-\n\n241\n00:12:48.056 --> 00:12:48.903\n&gt;&gt; [CROSSTALK] Yeah, and\n\n242\n00:12:48.903 --> 00:12:51.260\nthat's what happens when you\nleave the defaults, right?\n\n243\n00:12:51.260 --> 00:12:54.618\nIt just assumed you're doing a one to one\nload balance cuz why else would you do\n\n244\n00:12:54.618 --> 00:12:56.800\nthat if they weren't\nequally balanced that way?\n\n245\n00:12:56.800 --> 00:12:59.150\nBut then you have to go back in and\nadjust it and do things.\n\n246\n00:12:59.150 --> 00:13:05.813\nSo it does take a little bit more finesse\nand maybe even some advice helps, okay?\n\n247\n00:13:05.813 --> 00:13:08.757\nGoing to somebody that has more\nexperience, here's what you're doing.\n\n248\n00:13:08.757 --> 00:13:11.670\nYou need to actually kind of\nreadjust that to balance this out.\n\n249\n00:13:11.670 --> 00:13:14.172\nSo it's just not a one size\nfits all solution, but\n\n250\n00:13:14.172 --> 00:13:16.820\nat least we have the beginnings of it.\n\n251\n00:13:16.820 --> 00:13:20.070\nSo that's kind of the conceptual\nnature of what we're doing here.\n\n252\n00:13:20.070 --> 00:13:23.870\nLet's switch over then into of\ncourse the web configurator for\n\n253\n00:13:23.870 --> 00:13:26.890\npfSense, to get us started\nin what we need to see.\n\n254\n00:13:26.890 --> 00:13:30.725\nSo on my computer, we'll actually end up\nseeing the screen that we normally do.\n\n255\n00:13:30.725 --> 00:13:35.148\nI'm logged into the web configurator for\npfSense and let me show you a couple of\n\n256\n00:13:35.148 --> 00:13:39.490\nthings that I've done that's\ndifferent from what we had before.\n\n257\n00:13:39.490 --> 00:13:44.540\nSo I've set it up here on just a dashboard\nwhere you now see three interfaces.\n\n258\n00:13:44.540 --> 00:13:47.195\nOne for my regular WAN connection.\n\n259\n00:13:47.195 --> 00:13:49.007\nAnd what I've done is\nI've set that one I'm in.\n\n260\n00:13:49.007 --> 00:13:53.226\nAnd here's the network I've been using\npretty much the whole time throughout this\n\n261\n00:13:53.226 --> 00:13:56.540\nshow, as far as a kinda fake\nInternet connection that we've been\n\n262\n00:13:56.540 --> 00:13:58.730\nusing here is something like this, okay?\n\n263\n00:13:58.730 --> 00:14:04.098\nSo I did 70.184.147 and\nthis time, I used a 130.\n\n264\n00:14:04.098 --> 00:14:05.246\nAnd I don't know why it changed it.\n\n265\n00:14:05.246 --> 00:14:09.021\nI need to change that to actually\nthe proper 130 address anyways.\n\n266\n00:14:09.021 --> 00:14:12.990\nAnd then the other one down here,\nI just switched the numbers around.\n\n267\n00:14:12.990 --> 00:14:16.120\nSo don't use these out on the Internet,\nis what I'm saying.\n\n268\n00:14:16.120 --> 00:14:19.150\nCuz these may be real addresses [LAUGH],\nokay?\n\n269\n00:14:19.150 --> 00:14:21.950\nSo this is a fake Internet\nconnection that I'm using.\n\n270\n00:14:21.950 --> 00:14:25.160\nBut just to make it easy on\nwhat I was doing here, I said,\n\n271\n00:14:25.160 --> 00:14:29.520\nI'll just switch those numbers around and\nthat will help keep me less confused.\n\n272\n00:14:29.520 --> 00:14:33.400\nExcept that I ended up assigning\nthe wrong IP address to that interface.\n\n273\n00:14:33.400 --> 00:14:36.331\nSo that's the way that that goes.\n\n274\n00:14:36.331 --> 00:14:40.773\nNormally on a pfSense firewall,\nif you only have two connectors into it.\n\n275\n00:14:40.773 --> 00:14:45.229\nIf you buy a pfSense firewall and there's\nonly a LAN port and a WAN port, then doing\n\n276\n00:14:45.229 --> 00:14:49.578\nany of this is not really not gonna help\nyou cuz you're only gonna have one port.\n\n277\n00:14:49.578 --> 00:14:53.873\nBut if you do end up buying a firewall\nitself from pfSense or from Netgate\n\n278\n00:14:53.873 --> 00:14:58.327\nwhoever it is, you can also get the ones\nthat have multiple ports to them.\n\n279\n00:14:58.327 --> 00:15:01.145\nAnd when you do so, they'll end\nup having this, what they call,\n\n280\n00:15:01.145 --> 00:15:03.300\noptional port that you can assign.\n\n281\n00:15:03.300 --> 00:15:07.365\nAnd that what's happening here as I've\nactually taken one of those ports and\n\n282\n00:15:07.365 --> 00:15:10.920\nI've now assigned it as a WAN\nport is what I've done.\n\n283\n00:15:10.920 --> 00:15:13.350\nAnd that's where my second\nISP connection's coming in.\n\n284\n00:15:14.730 --> 00:15:19.340\nSo, I'm gonna click on that to configure\nthat one IP address correctly here.\n\n285\n00:15:19.340 --> 00:15:21.499\nThis should be 130.\n\n286\n00:15:23.140 --> 00:15:24.600\nIf I've configured it correctly.\n\n287\n00:15:25.600 --> 00:15:29.010\nAnd this is just saving it\non the firewall itself.\n\n288\n00:15:29.010 --> 00:15:32.650\nSo I need to make sure that both of\nthose connections are working and\n\n289\n00:15:32.650 --> 00:15:36.850\nthat they are good in what we\nnormally need to do, okay?\n\n290\n00:15:36.850 --> 00:15:40.570\nSo once those two connections\nare the way that they need to be,\n\n291\n00:15:40.570 --> 00:15:42.460\nyou do have to be careful here.\n\n292\n00:15:42.460 --> 00:15:46.080\nThe only difference between\na LAN interface and\n\n293\n00:15:46.080 --> 00:15:51.067\na WAN interface really comes down\nto this static configuration.\n\n294\n00:15:51.067 --> 00:15:53.478\nDo you have an upstream gateway, right?\n\n295\n00:15:53.478 --> 00:15:56.795\nSo your ISP,\nthey give you your ISP address.\n\n296\n00:15:56.795 --> 00:16:00.808\nAnd if there is in their ISP where they\ngive you a point to point connection back\n\n297\n00:16:00.808 --> 00:16:02.430\nin to their network.\n\n298\n00:16:02.430 --> 00:16:06.150\nThis is gonna be that IP address\nthat they give you to do that.\n\n299\n00:16:06.150 --> 00:16:10.970\nNow this one I made up is at the end\nof this range on the slash 29 beginning\n\n300\n00:16:10.970 --> 00:16:12.620\nthat 128 there.\n\n301\n00:16:13.730 --> 00:16:17.557\nSo this one is actually at the very\nend on the really the broadcast side,\n\n302\n00:16:17.557 --> 00:16:19.630\nI kind of did that a little bit funky.\n\n303\n00:16:19.630 --> 00:16:24.084\nBut overall though, that's what you end\nup seeing is something like that, okay?\n\n304\n00:16:24.084 --> 00:16:28.557\nAll right, so once those connections\nare good and you've tested it out and\n\n305\n00:16:28.557 --> 00:16:31.406\neverything is up and\nthe way that you want it to.\n\n306\n00:16:31.406 --> 00:16:38.520\nSetting it up for load balancing,\nI go over to System and then into Routing.\n\n307\n00:16:38.520 --> 00:16:41.550\nAnd once I get into Routing,\nI see those two gateways and\n\n308\n00:16:41.550 --> 00:16:44.610\nI want to point a couple of\nthings out as we do this.\n\n309\n00:16:44.610 --> 00:16:46.460\nIf you don't have a gateway for\nyour WAN connection,\n\n310\n00:16:46.460 --> 00:16:49.440\nyou can click on the green button\nthat we saw in the interface and\n\n311\n00:16:49.440 --> 00:16:51.770\njust fill in the information\nthat they want.\n\n312\n00:16:51.770 --> 00:16:55.990\nNow this one is kind of\nfaked out here in this way.\n\n313\n00:16:55.990 --> 00:16:59.550\nNotice the IP addresses for\nthe monitoring IP address.\n\n314\n00:16:59.550 --> 00:17:02.380\nThis is where we send that ping\nto verify that it's a keep alive,\n\n315\n00:17:02.380 --> 00:17:04.330\nthat this is a good connection.\n\n316\n00:17:04.330 --> 00:17:08.470\nYou want to make sure that this particular\naddress is somewhere that's not on your\n\n317\n00:17:08.470 --> 00:17:10.300\nISP's network, okay?\n\n318\n00:17:10.300 --> 00:17:13.290\nSo even beyond that,\ncan you put it as your ISP's network?\n\n319\n00:17:13.290 --> 00:17:14.720\nYes, you can.\n\n320\n00:17:14.720 --> 00:17:18.610\nBut remember that that means that if there\nis a failure at something, another device\n\n321\n00:17:18.610 --> 00:17:22.730\ninside of your ISP, it's gonna still\nsay the connection's good, okay?\n\n322\n00:17:22.730 --> 00:17:25.720\nSo you need it to actually point\nsomewhere out on the Internet.\n\n323\n00:17:25.720 --> 00:17:31.430\nNow the problem that we've had here,\nas well as is other places, is if you\n\n324\n00:17:31.430 --> 00:17:37.920\nping something 24 hours a day, 7 days a\nweek, 365 days a year, 1 ping per second.\n\n325\n00:17:37.920 --> 00:17:39.080\nAfter awhile, they go,\n\n326\n00:17:39.080 --> 00:17:42.460\nit looks like the beginning of some\ntype of denial of service attack.\n\n327\n00:17:42.460 --> 00:17:45.510\nIt's not the biggest or\nfastest denial of service attack.\n\n328\n00:17:45.510 --> 00:17:49.390\nBut it begins to go, hey,\nlet me stop answering that one.\n\n329\n00:17:49.390 --> 00:17:53.040\nAnd that, even though if you\ngo to the website and go, no,\n\n330\n00:17:53.040 --> 00:17:54.130\nI know what that website is.\n\n331\n00:17:54.130 --> 00:17:57.690\nYou go out there and\nyou go, I can browse to it.\n\n332\n00:17:57.690 --> 00:18:00.410\nWhy the heck is that\nshowing that it's down?\n\n333\n00:18:00.410 --> 00:18:03.880\nWell, it's just because they've\ndecided to stop answering those pings.\n\n334\n00:18:03.880 --> 00:18:08.630\nWell, that particular condition\nitself will make this inside of\n\n335\n00:18:08.630 --> 00:18:13.390\nthe connection for fail or anything appear\nas if that network connection is down.\n\n336\n00:18:13.390 --> 00:18:15.470\nWhich means your firewall will\nmake the decision for you,\n\n337\n00:18:15.470 --> 00:18:17.090\ngo I'm failing over, okay?\n\n338\n00:18:17.090 --> 00:18:20.300\nBecause I don't sense that\nping on the other side.\n\n339\n00:18:20.300 --> 00:18:24.690\nSo you wanna make sure that if you can,\nyou come in here and\n\n340\n00:18:24.690 --> 00:18:28.920\nthis is where you set up that gateway\nmonitoring and the monitoring IP here.\n\n341\n00:18:30.510 --> 00:18:32.536\nSo how do you do this on the Internet\nif you're gonna do that?\n\n342\n00:18:32.536 --> 00:18:33.303\nWell, one is,\n\n343\n00:18:33.303 --> 00:18:37.730\nit'd be better if you had control over\nwhatever that other public IP address was.\n\n344\n00:18:37.730 --> 00:18:39.190\nAnd you could set up a rule and go, yes,\n\n345\n00:18:39.190 --> 00:18:43.270\nI want to allow that ping to\ngo on forever, and to do that.\n\n346\n00:18:43.270 --> 00:18:46.480\nYou can set up some type of virtual\nappliance out there on the Internet if you\n\n347\n00:18:46.480 --> 00:18:48.820\nwant to, and they can do that as well.\n\n348\n00:18:48.820 --> 00:18:51.850\nBut you do have to figure\nout a way around it.\n\n349\n00:18:51.850 --> 00:18:55.040\nOr you might actually have to change\nit more often than you think.\n\n350\n00:18:55.040 --> 00:18:57.650\nSo as long as you can go\nthis one stopped working.\n\n351\n00:18:57.650 --> 00:19:00.980\nVerify that it's up, then you go and\nfind another IP address.\n\n352\n00:19:00.980 --> 00:19:06.150\nAfter you get blacklisted by everybody on\nthe planet [LAUGH] then you kinda know.\n\n353\n00:19:06.150 --> 00:19:10.040\nBut those are possibilities but\nhopefully not a big possibility.\n\n354\n00:19:10.040 --> 00:19:14.290\nSo you will see stuff like that as well.\n\n355\n00:19:14.290 --> 00:19:16.090\nSo once I have my gateways up.\n\n356\n00:19:16.090 --> 00:19:19.560\nLet me get back to where I was\ngoing here and I was explaining.\n\n357\n00:19:19.560 --> 00:19:21.240\nThat's kind of the big thing.\n\n358\n00:19:21.240 --> 00:19:25.210\nYou wanna verify, once again,\nthat these are good and then, for\n\n359\n00:19:25.210 --> 00:19:27.899\nus, we are going to\nclick on Gateway Groups.\n\n360\n00:19:29.070 --> 00:19:31.900\nThis is where we begin the setup\nthat idea of failover and\n\n361\n00:19:31.900 --> 00:19:35.360\nof course, load balancing if we choose to.\n\n362\n00:19:35.360 --> 00:19:36.950\nOnce we have this, we click Add.\n\n363\n00:19:38.020 --> 00:19:41.110\nAnd now, we can setup a group that\nwe can call this one Failover.\n\n364\n00:19:43.180 --> 00:19:46.855\nSecond option that we have right here,\nis gonna be that gateway option.\n\n365\n00:19:46.855 --> 00:19:51.440\nAnd what we need to do, and it's gonna\nactually give us different tiers, okay?\n\n366\n00:19:51.440 --> 00:19:55.640\nTiers 1 through 5 is what it\ngives us the availability to do.\n\n367\n00:19:55.640 --> 00:19:56.620\nNow what does this mean?\n\n368\n00:19:56.620 --> 00:19:58.910\nTier 1, of course, is highest priority.\n\n369\n00:19:58.910 --> 00:20:01.290\nTier 5 is a lower priority.\n\n370\n00:20:01.290 --> 00:20:04.970\nSo let's kind of talk about what\nwe do if this end up happening,\n\n371\n00:20:04.970 --> 00:20:07.430\nwhere I set this to Tier 1 and Tier 2.\n\n372\n00:20:07.430 --> 00:20:11.390\nIf I set this up to Tier 1 and\nTier 2, this essentially creates for\n\n373\n00:20:11.390 --> 00:20:16.320\nme a grouped gateway between those two\ninterfaces for that gateway to go out.\n\n374\n00:20:16.320 --> 00:20:21.960\nWhen I do that, it says,\nuse that first one as being the primary,\n\n375\n00:20:21.960 --> 00:20:28.320\nand only if this one stops responding\nwill it go on to that secondary.\n\n376\n00:20:28.320 --> 00:20:31.580\nSo that sounds like exactly\nwhat we want to do.\n\n377\n00:20:31.580 --> 00:20:34.555\nAt this point if we have virtual\nIP addresses that we're using,\n\n378\n00:20:34.555 --> 00:20:36.740\nand you might be going like,\nwhat is that about?\n\n379\n00:20:36.740 --> 00:20:40.340\nWell, if you instead had doing\nsomething like what I did here,\n\n380\n00:20:40.340 --> 00:20:43.270\nwhich is to do high availability\nwhere I had to do a virtual IP\n\n381\n00:20:43.270 --> 00:20:45.580\naddress to represent both of my firewalls.\n\n382\n00:20:45.580 --> 00:20:48.030\nWe can actually do that here too,\nwhere, and\n\n383\n00:20:48.030 --> 00:20:50.760\nnow it seems like that whichever\none that it comes in on,\n\n384\n00:20:50.760 --> 00:20:54.250\nit's only hitting one IP address,\neven though it's two separate devices.\n\n385\n00:20:54.250 --> 00:20:56.420\nSo you have to make sure\nthat you control that.\n\n386\n00:20:57.660 --> 00:21:00.140\nThe other one that you also need to do,\nof course,\n\n387\n00:21:00.140 --> 00:21:02.870\nis gonna be right here under\nthe trigger levels, okay?\n\n388\n00:21:04.200 --> 00:21:06.590\nThis is kind of the key here.\n\n389\n00:21:06.590 --> 00:21:12.390\nMember Down, Packet Loss, High Latency,\nPacket Loss or High Latency.\n\n390\n00:21:12.390 --> 00:21:13.680\nThis is just giving you, of course,\n\n391\n00:21:13.680 --> 00:21:16.450\nthe conditions that you're\ngonna expect to go down.\n\n392\n00:21:16.450 --> 00:21:19.679\nMember Down is when it\nloses the heartbeat, okay?\n\n393\n00:21:19.679 --> 00:21:21.759\nPacket Loss, of course, it can say, hey,\n\n394\n00:21:21.759 --> 00:21:24.874\nat what percentage are people\ngonna start experiencing issues?\n\n395\n00:21:24.874 --> 00:21:28.906\nSo it can decide and go, with packet loss,\nhere i t is, I'm gonna go ahead and\n\n396\n00:21:28.906 --> 00:21:31.822\nstart bringing it down cuz\nonce I start realizing that,\n\n397\n00:21:31.822 --> 00:21:34.270\nI want start to start switching over.\n\n398\n00:21:34.270 --> 00:21:37.305\nHigh latency, once again,\non timing more than anything.\n\n399\n00:21:37.305 --> 00:21:41.430\nSo you can use when that's gonna be\ntriggered and then you click Save.\n\n400\n00:21:43.118 --> 00:21:47.299\nSo if I've set that up and now I have\nmy gateways and this priority group.\n\n401\n00:21:48.320 --> 00:21:51.398\nAnd if I go back, and\nlet me apply these changes right now.\n\n402\n00:21:54.582 --> 00:21:58.040\nAnd make sure that everything actually\nlooks good, and everything does.\n\n403\n00:21:58.040 --> 00:22:01.470\nSo I always like to check and\ndouble check and things like that, okay?\n\n404\n00:22:01.470 --> 00:22:04.950\nOnce we've got that set up,\nthat's what we want.\n\n405\n00:22:04.950 --> 00:22:07.920\nIf we wanna do load balancing,\nit's fairly easy, Daniel.\n\n406\n00:22:07.920 --> 00:22:12.200\nAll I have to do is select and\nput both of them at Tier 1, okay?\n\n407\n00:22:12.200 --> 00:22:12.960\n&gt;&gt; That's pretty simple.\n\n408\n00:22:12.960 --> 00:22:14.772\n&gt;&gt; Yeah [LAUGH] that's as\nsimple as it gets, right?\n\n409\n00:22:14.772 --> 00:22:16.610\n&gt;&gt; [LAUGH] Yeah.\n&gt;&gt; Because that's exactly what I mean,\n\n410\n00:22:16.610 --> 00:22:17.590\nboth of them are what?\n\n411\n00:22:17.590 --> 00:22:19.095\nPriority, okay?\n\n412\n00:22:19.095 --> 00:22:21.614\nNow once you actually get both of\nthem as being the priority and\n\n413\n00:22:21.614 --> 00:22:24.250\neverything else set up\nthe way that you want to.\n\n414\n00:22:24.250 --> 00:22:25.440\nThat pretty much will do it.\n\n415\n00:22:25.440 --> 00:22:31.870\nSo it's not that difficult to move from\nfailover to load balancing right away.\n\n416\n00:22:31.870 --> 00:22:34.190\nWhen you get something\nlike that to happen.\n\n417\n00:22:34.190 --> 00:22:37.180\nSo that's really kind of\nthe big differences there\n\n418\n00:22:37.180 --> 00:22:38.700\nwhen you start setting that up.\n\n419\n00:22:38.700 --> 00:22:40.340\nNow, are we completely done yet?\n\n420\n00:22:40.340 --> 00:22:41.140\nNot exactly.\n\n421\n00:22:42.970 --> 00:22:45.950\nAll right, so let me go back\ninto gateways for just a moment.\n\n422\n00:22:47.360 --> 00:22:50.357\nAnd then, let me select the Edit gateway,\n\n423\n00:22:50.357 --> 00:22:54.700\nand there's a couple of other\nthings we need to set up as well.\n\n424\n00:22:54.700 --> 00:22:58.757\nAll right, so I'm gonna scroll down\nhere inside of the actual gateway,\n\n425\n00:22:58.757 --> 00:23:02.747\nand just take a look at a couple of\nother options that we need to know where\n\n426\n00:23:02.747 --> 00:23:04.400\nthey are, right?\n\n427\n00:23:04.400 --> 00:23:06.850\nOne is that wait option\nthat I was talking about.\n\n428\n00:23:06.850 --> 00:23:11.511\nRemember that if you do have these 200\nmegabit link, and then a 50 megabit link,\n\n429\n00:23:11.511 --> 00:23:14.698\nor I said 20 there,\ntrying to emphasize the contrasts.\n\n430\n00:23:14.698 --> 00:23:18.460\nBut this is where you actually set this\nup for that Gateway Group as well.\n\n431\n00:23:18.460 --> 00:23:22.450\nAnd that way you actually know what\ninterface is going to do that and\n\n432\n00:23:22.450 --> 00:23:24.250\nthis is where you begin to set that up.\n\n433\n00:23:24.250 --> 00:23:28.809\nSo this one for\nthe WAN2 is going to actually\n\n434\n00:23:28.809 --> 00:23:33.503\ntake a higher number as\nyou actually do that.\n\n435\n00:23:33.503 --> 00:23:39.100\nSo 1:1, exactly what it sounds like,\none here, one here, even balanced.\n\n436\n00:23:39.100 --> 00:23:41.430\nOn ours, we set ours up 30:1, so\n\n437\n00:23:41.430 --> 00:23:46.100\nthat that way, again, 97% of the traffic\nwould end up getting over to that one.\n\n438\n00:23:46.100 --> 00:23:47.670\nWhereas the other one didn't.\n\n439\n00:23:47.670 --> 00:23:53.315\nThe other thing that we need is gonna be\nunder System and then General Setup here.\n\n440\n00:23:53.315 --> 00:23:56.621\nAnd this is key if you're\ngonna be doing load balancing.\n\n441\n00:23:56.621 --> 00:24:01.204\nWhich is gonna be right here under the DNS\nservers You have to ensure that for\n\n442\n00:24:01.204 --> 00:24:05.281\neach connection that you're doing\nthis whether it's fail over or\n\n443\n00:24:05.281 --> 00:24:09.100\nload balancing that you choose,\nthe different ones, okay.\n\n444\n00:24:09.100 --> 00:24:10.450\nSo that way you know.\n\n445\n00:24:10.450 --> 00:24:17.070\nSo there has to be a unique and distinct\nDNS server for each one of those options.\n\n446\n00:24:17.070 --> 00:24:18.370\nThat you can't get away with.\n\n447\n00:24:18.370 --> 00:24:19.360\nNow, can you?\n\n448\n00:24:19.360 --> 00:24:22.240\nProbably, but\nyou will experience some difficulties,\n\n449\n00:24:22.240 --> 00:24:25.770\nespecially with DNS if you don't have\nthis set up the way that they say it.\n\n450\n00:24:25.770 --> 00:24:31.410\nSo make sure you set up one unique DNS\nserver for each WAN gateway is also key.\n\n451\n00:24:31.410 --> 00:24:34.930\nOnce you are done with that,\nyou can go to firewalls and then rules.\n\n452\n00:24:36.780 --> 00:24:41.630\nAnd now this is where you will choose your\nLAN interface that's going to be using\n\n453\n00:24:41.630 --> 00:24:43.670\nboth of them when connecting out.\n\n454\n00:24:43.670 --> 00:24:47.490\nLet's take a look at the default\nrules here just for a moment.\n\n455\n00:24:47.490 --> 00:24:48.380\nWhich is right down here.\n\n456\n00:24:48.380 --> 00:24:49.260\nThis one, the IPv4.\n\n457\n00:24:50.920 --> 00:24:52.290\nNotice the LAN source and\n\n458\n00:24:52.290 --> 00:24:57.110\nthen going to any place, any place that\nyou want to but look at the gateway.\n\n459\n00:24:57.110 --> 00:25:00.630\nThe gateway is whatever\nthe default gateway is\n\n460\n00:25:00.630 --> 00:25:03.780\nthat default gateway is pretty\nmuch set up for that GW WAN 2.\n\n461\n00:25:03.780 --> 00:25:09.860\nThat means I have to go ahead and\nclick here and then as I scroll down,\n\n462\n00:25:09.860 --> 00:25:14.585\nI'm gonna click on the advanced options,\nand then in the advanced options\n\n463\n00:25:14.585 --> 00:25:19.240\nI keep scrolling down, keep scrolling down\nuntil I get to where it says Gateway.\n\n464\n00:25:20.410 --> 00:25:26.860\nFrom here I select the fail over,\nwhich is the group that I chose.\n\n465\n00:25:26.860 --> 00:25:30.010\nAnd once it actually gets into that group\nthat's where it's actually gonna say hey,\n\n466\n00:25:30.010 --> 00:25:34.420\nis this tiered for fail over,\ntier one to tier two, or\n\n467\n00:25:34.420 --> 00:25:36.749\nboth of them are on tier one and\ndo the load balancing,\n\n468\n00:25:38.170 --> 00:25:42.820\nselect something like that and you click\nsave and that will pretty much set it up.\n\n469\n00:25:42.820 --> 00:25:47.770\nAnd now, you'll see a visual distinct\ndifference here between everything\n\n470\n00:25:47.770 --> 00:25:51.340\nelse that you're getting to work\nin the way that you need to.\n\n471\n00:25:51.340 --> 00:25:56.680\nSo, for every interface that's gonna\nuse that low balancing or fail over,\n\n472\n00:25:56.680 --> 00:26:00.650\nyou need to go into those different\nnetwork or interfaces that you have, and\n\n473\n00:26:00.650 --> 00:26:06.080\nthen select that for all other ones\nthat you actually want to use, okay.\n\n474\n00:26:06.080 --> 00:26:09.530\nIf not, for example like this one\nappear on the anti-lockout rule.\n\n475\n00:26:09.530 --> 00:26:12.350\nIt will not ever get to\nthat gateway option.\n\n476\n00:26:12.350 --> 00:26:13.960\nAnd it would just say\nhey let's go over here.\n\n477\n00:26:13.960 --> 00:26:16.826\nSo, if you forget to do that as\nyour setting up your rules and\n\n478\n00:26:16.826 --> 00:26:18.370\ndon't use load balancing.\n\n479\n00:26:18.370 --> 00:26:22.150\nThat particular type of traffic is\nnever gonna use load balancing so\n\n480\n00:26:22.150 --> 00:26:27.270\nif one of those gateways fails, well\nthen you're not gonna be able to get in.\n\n481\n00:26:27.270 --> 00:26:31.470\nBut overall though,\nthat is how it should function.\n\n482\n00:26:31.470 --> 00:26:35.870\nSo fairly easy once you have everything in\nplace and that you verify the testing and\n\n483\n00:26:35.870 --> 00:26:38.780\nthe set up, that should get you going.\n\n484\n00:26:38.780 --> 00:26:42.730\nAnd, you know, as long as you have good\nconnectivity now all you're going to do at\n\n485\n00:26:42.730 --> 00:26:49.100\nthat point is you'll start monitoring all\nof the options through the traffic here.\n\n486\n00:26:49.100 --> 00:26:53.300\nAnd then you add in your gateway\noption as far as a dashboard.\n\n487\n00:26:53.300 --> 00:26:54.595\nSee if I select gateways.\n\n488\n00:26:57.090 --> 00:26:58.060\nAnd then if they're online.\n\n489\n00:26:58.060 --> 00:27:00.090\nSo remember that mine's\nkind of a fake one.\n\n490\n00:27:00.090 --> 00:27:02.580\nAnd you'll see this down here.\n\n491\n00:27:02.580 --> 00:27:05.060\nYou'll start seeing were it'll actually\nwe'll start tracking everything.\n\n492\n00:27:05.060 --> 00:27:09.050\nIf the loss is actually there like mine\nis right now, yeah you won't get it.\n\n493\n00:27:09.050 --> 00:27:12.460\nBut, you'll end up seeing some of\nthem will go offline sometimes and\n\n494\n00:27:12.460 --> 00:27:14.380\nthen it shows packet loss as yellow.\n\n495\n00:27:14.380 --> 00:27:18.750\nAnd then green of course means everything\nis online and good and ready to go.\n\n496\n00:27:18.750 --> 00:27:21.660\nBut these are the options that\nare actually available to us, so\n\n497\n00:27:21.660 --> 00:27:25.690\nthat we can actually use\nthe ability to do fail over or\n\n498\n00:27:25.690 --> 00:27:30.790\nload balancing, however we actually want\nto it's all set up inside of pfSense.\n\n499\n00:27:30.790 --> 00:27:33.990\n&gt;&gt; Got to be honest Ronnie pfSense has\ndefinitely taken a lot of the heavy\n\n500\n00:27:33.990 --> 00:27:39.130\nlifting out of setting up a multi WAN\nenvironment because that was super simple.\n\n501\n00:27:39.130 --> 00:27:44.562\nIf I were to put one over the pfSence,\nit would be easy to use.\n\n502\n00:27:44.562 --> 00:27:47.170\nCuz that definitely is\nvery very easy to use.\n\n503\n00:27:47.170 --> 00:27:50.810\nStraightforward, I like the way they walk\nyou through everything kinda giving you\n\n504\n00:27:50.810 --> 00:27:53.050\nideas of what everything means,\nthey try to stay intuitive.\n\n505\n00:27:53.050 --> 00:27:57.240\nSo, I'm becoming a huge fan,\nyou and I we love the Cisco, right?\n\n506\n00:27:57.240 --> 00:27:58.530\nRight we love the Cisco.\n\n507\n00:27:58.530 --> 00:28:00.170\nIt costs a little bit of money.\n\n508\n00:28:00.170 --> 00:28:04.434\nPfSense for the home environment and\neven in for business, we use it here,\n\n509\n00:28:04.434 --> 00:28:06.737\ncan definitely save you some scratch and\n\n510\n00:28:06.737 --> 00:28:09.730\na lot of time and\neffort when it comes to management.\n\n511\n00:28:09.730 --> 00:28:10.250\n&gt;&gt; Sure enough.\n\n512\n00:28:10.250 --> 00:28:12.610\n&gt;&gt; That being said, Ronnie, it looks like\nwe've run out of time for this episode,\n\n513\n00:28:12.610 --> 00:28:15.670\nbut you've done a fantastic\njob of showing us how to use\n\n514\n00:28:15.670 --> 00:28:18.560\npfSense in that multi-WAN environment.\n\n515\n00:28:18.560 --> 00:28:19.700\nThank you guys for watching.\n\n516\n00:28:19.700 --> 00:28:20.780\nWe thank Ronnie for stopping by.\n\n517\n00:28:20.780 --> 00:28:23.625\nBut we're gonna go ahead and\nsign off for IT Pro TV.\n\n518\n00:28:23.625 --> 00:28:24.910\nI've been your host, Daniel Lowry.\n\n519\n00:28:24.910 --> 00:28:25.772\n&gt;&gt; And I'm Ronnie Wong.\n\n520\n00:28:25.772 --> 00:28:28.048\n&gt;&gt; And we'll see you next time.\n\n521\n00:28:28.048 --> 00:28:34.082\n[MUSIC]\n\n522\n00:28:34.082 --> 00:28:36.550\n&gt;&gt; Thank you for watching IT Pro TV\n\n",
          "vimeoId": "199679717"
        }
      ],
      "title": "Implement Services"
    },
    {
      "episodes": [
        {
          "description": "In this episode Cherokee and Ronnie cover how to set up an IPSec site to site VPN tunnel. Ronnie demonstrates this process by setting up two pfSense devices representing  two locations, such as a branch office that needs  a direct connection to the corporate. For demonstration purpose he labels them as Alpa and Bravo. This episode specifically walks you thru the step by step configuring of the Alpha device.",
          "length": "1912",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-1-1-setup_ipsec_site_to_site_vpn-010317-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-1-1-setup_ipsec_site_to_site_vpn-010317-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-1-1-setup_ipsec_site_to_site_vpn-010317-1-sm.jpg",
          "title": "Setup IPsec Site-to-Site VPN",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:04.107\nWelcome to ITProTV,\nI'm your host, Don [CROSSTALK]\n\n2\n00:00:04.107 --> 00:00:08.273\n[MUSIC]\n\n3\n00:00:08.273 --> 00:00:12.100\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:12.100 --> 00:00:16.650\n&gt;&gt; Welcome to another pfSense show,\nI'm your host Cherokee Boose.\n\n5\n00:00:16.650 --> 00:00:19.260\nNow, if you've been following along,\nyou'll notice that we've already taken\n\n6\n00:00:19.260 --> 00:00:22.640\na look at how to install\nthe pfSense software.\n\n7\n00:00:22.640 --> 00:00:27.520\nIn this episode, we'll be studying\nup an IPsec site to site tunnel.\n\n8\n00:00:27.520 --> 00:00:32.230\nAnd with us to explain how to do that,\nwe have Sir Ronnie Wong in studios today.\n\n9\n00:00:32.230 --> 00:00:33.620\nThank you for joining us today, Ronnie.\n\n10\n00:00:33.620 --> 00:00:35.150\n&gt;&gt; Well, thank you for\nhaving me on the show.\n\n11\n00:00:35.150 --> 00:00:36.850\nAs we continue to learn more and\n\n12\n00:00:36.850 --> 00:00:41.760\nmore about some of the different that we\ncan also do with the pfSense firewalls.\n\n13\n00:00:41.760 --> 00:00:46.950\nAnd one of those, of course, is the use\nof VPNs or virtual private networks.\n\n14\n00:00:46.950 --> 00:00:49.330\nAnd so we wanna make sure, of course then,\n\n15\n00:00:49.330 --> 00:00:54.220\nthat we understand how to configure this\nespecially for site-to-site connections,\n\n16\n00:00:54.220 --> 00:00:57.900\nbecause it's one of the more popular\nconnections that we can actually make.\n\n17\n00:00:57.900 --> 00:01:02.266\nInside of pfSense as well as those\nother firewalls that are out there,\n\n18\n00:01:02.266 --> 00:01:07.151\nyou might find that there are different\ntypes of firewall connections that you\n\n19\n00:01:07.151 --> 00:01:09.904\ncan make such as OpenVPN, or L2TP or PPTP.\n\n20\n00:01:09.904 --> 00:01:12.920\nI know, that's the funniest one, PPTP.\n\n21\n00:01:12.920 --> 00:01:16.420\nBut the most common one that we\nnormally try to establish and\n\n22\n00:01:16.420 --> 00:01:19.020\nset up is gonna be something\nthat we call IPsec.\n\n23\n00:01:19.020 --> 00:01:23.680\n&gt;&gt; Sure, so Ronnie, I've set IPSec tunnels\nup before with a Windows operating system.\n\n24\n00:01:23.680 --> 00:01:27.500\nAnd it's so popular and\ntrendy to do so today.\n\n25\n00:01:27.500 --> 00:01:30.292\nWill this software integrate\nwell with those Windows clients?\n\n26\n00:01:30.292 --> 00:01:35.183\n&gt;&gt; Well, that's the reason why you\nactually want to take the time\n\n27\n00:01:35.183 --> 00:01:39.071\nto learn how to setup IPsec\non a pfSense firewall.\n\n28\n00:01:39.071 --> 00:01:43.028\nUsually when companies start to\nimplement something like pfSense,\n\n29\n00:01:43.028 --> 00:01:47.052\nI almost said like IPsec, like pfSense,\nmore then likely, they've\n\n30\n00:01:47.052 --> 00:01:51.979\nalready established IPsec connections\nwith previous firewalls that they've had.\n\n31\n00:01:51.979 --> 00:01:56.101\nAnd now they're saying, hey look, we want\nto move to pfSense and what I want to\n\n32\n00:01:56.101 --> 00:02:00.320\ndo is make sure that we can go ahead and\nstill connect to those other firewalls.\n\n33\n00:02:00.320 --> 00:02:05.632\nAnd more than likely they're going to\nask for is it possible to set up a IPsec\n\n34\n00:02:05.632 --> 00:02:11.680\nfirewall or VPN tunnel between this and\nof course those other firewalls.\n\n35\n00:02:11.680 --> 00:02:13.930\nAnd so\nit is something that you need to do and\n\n36\n00:02:13.930 --> 00:02:18.060\nif you understand that you are gonna\nhave not only pfSense firewalls, but\n\n37\n00:02:18.060 --> 00:02:20.840\nsomething like Cisco ASAs or\nSonic firewalls.\n\n38\n00:02:20.840 --> 00:02:24.510\nOr the astaro firewalls,\nwhatever it might be.\n\n39\n00:02:24.510 --> 00:02:27.330\nIPsec is by far the most popular\n\n40\n00:02:27.330 --> 00:02:31.360\nVPN types of connections we can have\nbecause of an open standard and\n\n41\n00:02:31.360 --> 00:02:35.930\nit's relatively easy to set up, but\nthere's still some challenges behind it.\n\n42\n00:02:35.930 --> 00:02:40.279\nSo if you need to make sure that you can\nconnect, even though everything's not\n\n43\n00:02:40.279 --> 00:02:44.430\na pfSense box exactly, IPsec is gonna\nbe the way that you choose to connect.\n\n44\n00:02:44.430 --> 00:02:48.470\nSo for example what Cherokee mentioned\nis that she set up a Windows server on\n\n45\n00:02:48.470 --> 00:02:53.230\nassuming that then turned it into\na IPsec connection that she can make.\n\n46\n00:02:53.230 --> 00:02:57.160\nWe'll that connection can implement right\nin which causes that open standard that\n\n47\n00:02:57.160 --> 00:03:01.350\nidea that she's using IPsec\nto hep us to do so all right.\n\n48\n00:03:01.350 --> 00:03:02.350\nSo let's go ahead and\n\n49\n00:03:02.350 --> 00:03:06.050\ntake a look at what we're going\nto do to establish this as well.\n\n50\n00:03:06.050 --> 00:03:09.230\nAnd that way we can see how\nit actually works on pfSense.\n\n51\n00:03:09.230 --> 00:03:13.130\nNow if we take a look at my computer,\nit's really gonna help us out to\n\n52\n00:03:13.130 --> 00:03:16.080\nkind of get the scenario in\nmind that I've got it setup.\n\n53\n00:03:16.080 --> 00:03:18.450\nSo in my lab environment\nI've just went ahead and\n\n54\n00:03:18.450 --> 00:03:20.840\ndisconnected everything from the internet.\n\n55\n00:03:20.840 --> 00:03:25.340\nSo this way we can see and\nI have created a fake internet\n\n56\n00:03:25.340 --> 00:03:27.870\nconnection in between right here\non the 70.184.147.0 network.\n\n57\n00:03:27.870 --> 00:03:32.700\nNow I don't have to complete address\nrange available to me on the public\n\n58\n00:03:32.700 --> 00:03:34.770\nside that's why I'm not\nconnecting out there.\n\n59\n00:03:34.770 --> 00:03:38.982\nBut I wanted to use this to kind of\nhelp us out and set it up very easy.\n\n60\n00:03:38.982 --> 00:03:42.695\nSo this way you can mirror this\nconfiguration if you choose to, and\n\n61\n00:03:42.695 --> 00:03:45.497\nyou're not messing with anybody as well,\nokay?\n\n62\n00:03:45.497 --> 00:03:50.790\nSo, on my two pfSense boxes and\nI'm gonna use two\n\n63\n00:03:50.790 --> 00:03:55.969\naddresses on the WAN side,\non those WAN ports.\n\n64\n00:03:55.969 --> 00:03:58.004\nOne at 70.184.147.137 here on this side.\n\n65\n00:03:58.004 --> 00:04:03.420\nAnd the other one is gonna be\n.135 on the other side as well.\n\n66\n00:04:03.420 --> 00:04:08.240\nNow I apparently I changed\nthe subnet mask number, and\n\n67\n00:04:08.240 --> 00:04:12.750\nthat should be a /28 and\nnot this /29 that I have here.\n\n68\n00:04:12.750 --> 00:04:15.390\nAgain, that tells you how much I was\npaying attention as I was typing\n\n69\n00:04:15.390 --> 00:04:16.390\nthis stuff in.\n\n70\n00:04:16.390 --> 00:04:18.476\nThat way it'll actually be consistent,\nlet me go ahead and put that up.\n\n71\n00:04:18.476 --> 00:04:19.533\n&gt;&gt; But you have these boxes set up, and\n\n72\n00:04:19.533 --> 00:04:21.400\nwe're actually going to be\nable to look at that, right?\n\n73\n00:04:21.400 --> 00:04:22.138\n&gt;&gt; Yeah, we are actually-\n&gt;&gt; Cool.\n\n74\n00:04:22.138 --> 00:04:23.749\n&gt;&gt; Going to be able to look at this and\n\n75\n00:04:23.749 --> 00:04:26.060\nmake sure that this is set\nup the way I want it to.\n\n76\n00:04:26.060 --> 00:04:31.255\nAnd also, on the LAN side of one firewall,\nI have this subnet here.\n\n77\n00:04:31.255 --> 00:04:34.864\nAnd then on the other side of it,\nlet's say that this bravo\n\n78\n00:04:34.864 --> 00:04:39.310\nrepresents a branch off of somewhere\nthat I want to connect to.\n\n79\n00:04:39.310 --> 00:04:43.600\nThat particular branch office\ncan be any firewall or\n\n80\n00:04:43.600 --> 00:04:48.650\nWindows box that you want to actually have\nas your VPN endpoint if you choose to.\n\n81\n00:04:48.650 --> 00:04:53.410\nAnd maybe where you have\ncomplete control over alpha, and\n\n82\n00:04:53.410 --> 00:04:55.670\nyou actually don't have\nany control over bravo.\n\n83\n00:04:55.670 --> 00:04:57.700\nBut we're gonna do this\na little bit differently.\n\n84\n00:04:57.700 --> 00:05:02.140\nI've already established the IPsec\ntunnel over here on alpha.\n\n85\n00:05:02.140 --> 00:05:04.919\nAnd what we're gonna do is we're\ngonna show you that establishment and\n\n86\n00:05:04.919 --> 00:05:07.480\nhow that's working,\ncuz I'm using a pfSense box.\n\n87\n00:05:07.480 --> 00:05:13.130\nAnd then we'll configure the mirror type\nof configuration over here on bravo.\n\n88\n00:05:13.130 --> 00:05:15.510\nSo that way you'll actually be\nable to see the configuration, and\n\n89\n00:05:15.510 --> 00:05:17.560\nthen we'll walk through and configure it.\n\n90\n00:05:17.560 --> 00:05:22.600\nAnd in the end the result what should end\nup happening then is that it should allow\n\n91\n00:05:22.600 --> 00:05:28.210\nus to be able to connect right though and\nactually hide the traffic in between.\n\n92\n00:05:28.210 --> 00:05:30.430\nOkay?\nSo that's what we're trying to do.\n\n93\n00:05:30.430 --> 00:05:34.440\n&gt;&gt; Sure, so this is a really, like I said,\npopular or trendy way over the past ten\n\n94\n00:05:34.440 --> 00:05:37.700\nyears, we've really seen an increase\nof these types of configurations.\n\n95\n00:05:37.700 --> 00:05:42.370\nSo why do you think it is, that people\nkind of diverted from the old lease line\n\n96\n00:05:42.370 --> 00:05:45.220\nconcept, and then they're\nmoving to something like this?\n\n97\n00:05:45.220 --> 00:05:48.560\n&gt;&gt; If you start to take a look\nfrom years and years ago,\n\n98\n00:05:48.560 --> 00:05:51.680\nthe only way that we could have done\nthis in the past, was of course,\n\n99\n00:05:51.680 --> 00:05:55.100\nusing something like the privately leased\nline, the technology that was out there.\n\n100\n00:05:55.100 --> 00:05:56.400\nEssentially just putting you and\n\n101\n00:05:56.400 --> 00:05:59.350\nanother device on the other\nend of that telephone line and\n\n102\n00:05:59.350 --> 00:06:02.750\nsaying that's your connection, that's\nyour bandwidth and that's guaranteed.\n\n103\n00:06:02.750 --> 00:06:07.270\nThe problem is simple, each of those\nconnections cost quite a bit of money.\n\n104\n00:06:07.270 --> 00:06:10.544\nThe great thing about\nVPN connections is that\n\n105\n00:06:10.544 --> 00:06:15.206\nthey actually can be very cost\neffective by comparison, okay?\n\n106\n00:06:15.206 --> 00:06:18.673\nAnd the reason why is that you're\nusing your own established Internet\n\n107\n00:06:18.673 --> 00:06:22.740\nconnection and now your actually being\nable to put virtual tunnels through them.\n\n108\n00:06:22.740 --> 00:06:27.470\nIn other words its not connecting\nvirtual line from your firewall\n\n109\n00:06:27.470 --> 00:06:30.810\nover to the other side of\nthe connection as well.\n\n110\n00:06:30.810 --> 00:06:32.780\nNow, it depends on the technology too.\n\n111\n00:06:32.780 --> 00:06:36.070\nLet me give you for\ninstance here of what I'm talking about.\n\n112\n00:06:36.070 --> 00:06:39.570\nIf you take for\nexample a Cisco ASA, right?\n\n113\n00:06:39.570 --> 00:06:42.430\nYou can establish IPsec connections, but\n\n114\n00:06:42.430 --> 00:06:47.470\nthey have a limitation depending on\nlicensing on that particular firewall.\n\n115\n00:06:47.470 --> 00:06:50.740\nSo when you do something like that,\nthat means you might be able to make\n\n116\n00:06:50.740 --> 00:06:54.160\nthree connections by default,\non the base install.\n\n117\n00:06:54.160 --> 00:06:57.500\nIf you want to make\nunlimited IPsec connections,\n\n118\n00:06:57.500 --> 00:06:59.040\nit means you have to bump that up.\n\n119\n00:06:59.040 --> 00:07:01.170\nAnd that can range from\na couple of hundred dollars,\n\n120\n00:07:01.170 --> 00:07:03.290\nto may be a thousand dollars or more,\n\n121\n00:07:03.290 --> 00:07:06.990\ndepending on what particular license\nthat you actually need to have.\n\n122\n00:07:06.990 --> 00:07:11.150\nThe great thing about pfSense is\nregardless of the number of IPsec\n\n123\n00:07:11.150 --> 00:07:15.300\nconnections you want to make,\nyou can actually make as many as you want,\n\n124\n00:07:15.300 --> 00:07:19.900\nbecause it's actually a free\nopen source software.\n\n125\n00:07:19.900 --> 00:07:23.140\nIt can actually allow you to make\nas many connections as you need.\n\n126\n00:07:23.140 --> 00:07:24.894\n&gt;&gt; Pretty awesome.\n&gt;&gt; Without costing anybody any\n\n127\n00:07:24.894 --> 00:07:26.050\nextra money.\n\n128\n00:07:26.050 --> 00:07:29.730\nAnd so that's why pfSense is\nbecoming very, very popular too.\n\n129\n00:07:29.730 --> 00:07:32.700\nNow, when you do something like this,\nit is about cost.\n\n130\n00:07:32.700 --> 00:07:36.510\nAnd that's why they tend to choose\nsomething like a VPN connection\n\n131\n00:07:36.510 --> 00:07:38.450\nover a privately leased line.\n\n132\n00:07:38.450 --> 00:07:41.718\nBut that also has to do with security too,\nand so some people go, well,\n\n133\n00:07:41.718 --> 00:07:43.690\nis it as secure as\na privately leased line?\n\n134\n00:07:43.690 --> 00:07:47.150\nWell, just about as secure\nas a privately leased line.\n\n135\n00:07:47.150 --> 00:07:50.070\nBut today you actually have to\nworry about those other things.\n\n136\n00:07:50.070 --> 00:07:52.130\nNow you're actually in\na regulated industry, right?\n\n137\n00:07:52.130 --> 00:07:53.516\nEspecially here in the United States,\n\n138\n00:07:53.516 --> 00:07:55.650\nI'd say you have to have\na privately leased line.\n\n139\n00:07:55.650 --> 00:07:57.855\nWell, VPN may not work for you.\n\n140\n00:07:57.855 --> 00:08:02.039\nBut if they say no, as long as you have a\ngood solid VPN connection with the proper\n\n141\n00:08:02.039 --> 00:08:05.724\nsecurity protocols that they want you\nto use, then you can use that and\n\n142\n00:08:05.724 --> 00:08:08.180\nyou're established and you're ready to go.\n\n143\n00:08:08.180 --> 00:08:11.140\nAnd so it makes it relatively easy.\n\n144\n00:08:11.140 --> 00:08:14.090\nThe cost effectiveness of it is also key.\n\n145\n00:08:14.090 --> 00:08:16.990\nAnd because you never know what's\nactually on the other side O\\of\n\n146\n00:08:16.990 --> 00:08:19.420\nwhat you are connecting to what pfSense.\n\n147\n00:08:19.420 --> 00:08:24.130\nIf they already had a VPN connection\nup previously at a branch office,\n\n148\n00:08:24.130 --> 00:08:25.900\nthis is private connection\nyou'll need to make.\n\n149\n00:08:25.900 --> 00:08:28.850\nSo it's good for us to actually\nunderstand how we'll do this.\n\n150\n00:08:28.850 --> 00:08:31.282\nSo like I said,\nI've already configured it on Alpha.\n\n151\n00:08:31.282 --> 00:08:35.700\nWe're gonna take a look at that\nconfiguration and conceptually, right?\n\n152\n00:08:35.700 --> 00:08:39.610\nConceptually here, make sure that you\nunderstand what needs to be done.\n\n153\n00:08:39.610 --> 00:08:43.790\nAnd then we'll move over to Bravo here and\nconfigure the other side.\n\n154\n00:08:43.790 --> 00:08:47.040\nThat way you can see both sides of\nconfiguration but without me having\n\n155\n00:08:47.040 --> 00:08:51.000\nto actually configure both sides and bore\nyou to death when we start to take a look.\n\n156\n00:08:51.000 --> 00:08:54.210\nSo let's go ahead and\nswitch on over to the Alpha firewall and\n\n157\n00:08:54.210 --> 00:08:57.320\nlet's do a couple of proofs\nhere that we need, all right?\n\n158\n00:08:58.410 --> 00:09:01.396\nSo I'm using the web configurator and\nhere is my client 01.\n\n159\n00:09:01.396 --> 00:09:04.967\nI'm on this 10.1.110 network,\n\n160\n00:09:04.967 --> 00:09:09.780\nand here's gonna be my default gateway for\nmy LAN.\n\n161\n00:09:09.780 --> 00:09:14.480\nAnd of course, there is that .137 address\nfor the WAN connection as well, all right?\n\n162\n00:09:15.630 --> 00:09:17.400\nSo I know that that's good.\n\n163\n00:09:17.400 --> 00:09:21.510\nNow, the other thing that I did to make\nsure that I could make this lab work is I\n\n164\n00:09:21.510 --> 00:09:26.840\nneed to prove that I have connectivity\nover to the other PS sense firewall.\n\n165\n00:09:26.840 --> 00:09:32.792\nSo I'm simply gonna bring\nup a command prompt and\n\n166\n00:09:32.792 --> 00:09:39.193\nfrom here, ping 70.184.147.135.\n\n167\n00:09:39.193 --> 00:09:42.117\nAnd this proves to me that I\nhave connection through there.\n\n168\n00:09:42.117 --> 00:09:46.360\nNow, you're not gonna be able to\ndo that by default on PF sense.\n\n169\n00:09:46.360 --> 00:09:49.880\nWhat I did to make sure I could do\nthat is I went up to the firewall and\n\n170\n00:09:49.880 --> 00:09:54.060\nthe rules, and\nthen on both sides on the WAN connection,\n\n171\n00:09:54.060 --> 00:09:56.810\nI just made this simple rule\nright here at the bottom.\n\n172\n00:09:56.810 --> 00:09:57.800\n&gt;&gt; To allow that ICMP traffic.\n\n173\n00:09:57.800 --> 00:10:01.180\n&gt;&gt; To allow for the ICMP traffic, and\nthat way just to prove that connection.\n\n174\n00:10:01.180 --> 00:10:02.220\nI don't need it, but\n\n175\n00:10:02.220 --> 00:10:05.740\nI wanna make sure that I verify that\nthose two firewalls are together.\n\n176\n00:10:05.740 --> 00:10:06.790\nBecause without that rule,\n\n177\n00:10:06.790 --> 00:10:10.110\nby default, right, the only rules that\nI really have are these two up here.\n\n178\n00:10:10.110 --> 00:10:13.080\nI've got a couple of other ones that\nwe're gonna be using in another show.\n\n179\n00:10:13.080 --> 00:10:16.610\nBut at this point here, those are usually\nthe only two rules that we have and\n\n180\n00:10:16.610 --> 00:10:20.080\nthat blocks everything,\nit is coming from the outside.\n\n181\n00:10:20.080 --> 00:10:22.170\nSo on the other side,\nI did the exact same thing.\n\n182\n00:10:22.170 --> 00:10:25.020\nIt just to prove that we\nhave connectivity, okay?\n\n183\n00:10:25.020 --> 00:10:29.180\nNow along with this,\nlet me go ahead and do one more.\n\n184\n00:10:29.180 --> 00:10:33.760\nSo remember that I've want to make\nsure that when I connect through,\n\n185\n00:10:33.760 --> 00:10:37.350\nthat the traffic is gonna\nbe encrypted through, okay?\n\n186\n00:10:37.350 --> 00:10:38.245\nSo what does this mean?\n\n187\n00:10:38.245 --> 00:10:42.260\nIP sets up two faces and we're gonna\nshow you how that's configured.\n\n188\n00:10:42.260 --> 00:10:45.070\nFace one of course is\nnegotiating the tunnel.\n\n189\n00:10:45.070 --> 00:10:48.600\nSo both sides have to\nhave matching information\n\n190\n00:10:48.600 --> 00:10:53.580\nto just establish the connected tunnel\nthat will allows to tunnel traffic again,\n\n191\n00:10:53.580 --> 00:10:55.570\nthat's gonna be an encrypted tunnel.\n\n192\n00:10:55.570 --> 00:11:00.148\nThen to ensure for, of course, additional\nsecurity, we're also going to encrypt\n\n193\n00:11:00.148 --> 00:11:04.281\nthe traffic that leaves this firewall\nas it goes through the tunnel as well.\n\n194\n00:11:04.281 --> 00:11:07.734\nAnd that will also need to be\nnegotiated on both sides to say,\n\n195\n00:11:07.734 --> 00:11:11.730\nhere is the type of encryption\nthat we're gonna use as well.\n\n196\n00:11:11.730 --> 00:11:16.650\nSo we have with IPsec an encrypted tunnel,\nand, of course, inside of every VPN,\n\n197\n00:11:16.650 --> 00:11:19.970\nthe traffic going through it is\nalso gonna be encrypted as well.\n\n198\n00:11:19.970 --> 00:11:22.350\nAnd I call it phase one and phase two.\n\n199\n00:11:22.350 --> 00:11:25.348\nThey both have to be\nnegotiated to do that.\n\n200\n00:11:25.348 --> 00:11:30.250\nSo I wanna make that, that at the end of\nthis result, right, that what I can do\n\n201\n00:11:30.250 --> 00:11:34.500\nis I can send traffic through here and\nI can ping to the other side.\n\n202\n00:11:34.500 --> 00:11:39.720\nSo right now on this particular one here,\non Client01,\n\n203\n00:11:39.720 --> 00:11:45.970\nthis is gonna be my,\nthere it is, 10.1.110.120.\n\n204\n00:11:45.970 --> 00:11:49.910\nAnd if I ping 192.168.1.1,\nI know that that's the IP\n\n205\n00:11:49.910 --> 00:11:53.400\naddress of the default gateway on\nthe other side of the firewall.\n\n206\n00:11:53.400 --> 00:11:56.880\nNotice this request time that I\ncan't get through at all, okay?\n\n207\n00:11:56.880 --> 00:12:00.760\nSo at this point, I know that actually\nno traffic is actually getting through.\n\n208\n00:12:00.760 --> 00:12:05.020\nI don't have a route on the pfSense\nfirewall to get me there, and\n\n209\n00:12:05.020 --> 00:12:10.310\nalso because this would be traffic going\nfrom another one into that WAN interface.\n\n210\n00:12:10.310 --> 00:12:12.160\nIt's gonna block-\n&gt;&gt; It's gonna block that in coming-\n\n211\n00:12:12.160 --> 00:12:13.800\n&gt;&gt; It's just gonna block it all.\n\n212\n00:12:13.800 --> 00:12:16.560\nWhen you establish the IP set connection,\n\n213\n00:12:16.560 --> 00:12:18.200\nyou're not actually gonna\nfollow those rules.\n\n214\n00:12:18.200 --> 00:12:22.035\nThis gonna punch a hole through this\nfirewall rule on the other side and\n\n215\n00:12:22.035 --> 00:12:23.305\nthat's what is gonna end up doing.\n\n216\n00:12:23.305 --> 00:12:25.730\nSo let's go ahead and begin the setup.\n\n217\n00:12:25.730 --> 00:12:28.270\nSo I just wanted you to see\nthat you have to make sure that\n\n218\n00:12:28.270 --> 00:12:32.510\nyou're not gonna get IP set connection up\nif you can't ping the other side if you\n\n219\n00:12:32.510 --> 00:12:34.590\ncan't make sure that you\ncan't talk to the other side.\n\n220\n00:12:34.590 --> 00:12:35.350\n&gt;&gt; On connectivity.\n\n221\n00:12:35.350 --> 00:12:38.740\n&gt;&gt; So yeah in the lab setting,\nalways at least check for\n\n222\n00:12:38.740 --> 00:12:40.930\nbasic connectivity before anything else.\n\n223\n00:12:40.930 --> 00:12:43.528\nIf you don't, you're gonna be\nfrustrated as crazy when you do that.\n\n224\n00:12:43.528 --> 00:12:44.289\n&gt;&gt; Why isn't this working?\n[LAUGH]\n\n225\n00:12:44.289 --> 00:12:45.635\n&gt;&gt; Yes, and you can spend hours\n\n226\n00:12:45.635 --> 00:12:47.664\ntrying to troubleshoot everything else.\n\n227\n00:12:47.664 --> 00:12:51.387\nBut basic connectivity is key if\nyou want to get this to happen.\n\n228\n00:12:51.387 --> 00:12:55.565\nAll right, so if we're going to\nestablish the IP set connection,\n\n229\n00:12:55.565 --> 00:12:59.669\nthe way that we do it is once we're\ninside the web configuration,\n\n230\n00:12:59.669 --> 00:13:04.810\nnotice up here on the black bar,\nthere's of course this option for a VPN.\n\n231\n00:13:04.810 --> 00:13:08.825\nIf I click there's three\noptions that you see, IPsec,\n\n232\n00:13:08.825 --> 00:13:11.824\nthere's L2TP, and of course Open VPN.\n\n233\n00:13:11.824 --> 00:13:16.280\nIn this show, we're really gonna focus in\non IPsec because that is the most popular\n\n234\n00:13:16.280 --> 00:13:20.050\nconnection that we do see today and\nit's not as complex as like L2TP.\n\n235\n00:13:20.050 --> 00:13:24.967\nAll right, once you're there and you\nselect that, notice it's VPN, IPsec, and\n\n236\n00:13:24.967 --> 00:13:27.707\nnow we're actually on this tunnels page,\nand\n\n237\n00:13:27.707 --> 00:13:31.797\nthere's actually four different\ntabs that you can see here, okay?\n\n238\n00:13:31.797 --> 00:13:33.927\nAnd you don't have to\nconfigure all of them,\n\n239\n00:13:33.927 --> 00:13:37.641\nthe immediate one that we do need is of\ncourse the setting of this IPsec tunnel.\n\n240\n00:13:37.641 --> 00:13:41.016\nSo this is the one that I pre-configured,\nso this is like if you and\n\n241\n00:13:41.016 --> 00:13:45.118\nI don't know what the other side is and\nwe're just giving some basic information\n\n242\n00:13:45.118 --> 00:13:49.580\nthis is what it would be, but it helps\nyou to actually be able to see this.\n\n243\n00:13:49.580 --> 00:13:53.830\nSo, on this side,\nwhat am I actually going to do?\n\n244\n00:13:53.830 --> 00:13:56.763\nAt the beginning there is nothing there\nyou simply select right above my head,\n\n245\n00:13:56.763 --> 00:13:59.218\nlet me see if I can scroll that I\ncan't scroll that up very easily.\n\n246\n00:13:59.218 --> 00:14:05.360\nWhere it says add P1,\nwhich means Phase 1, you click that.\n\n247\n00:14:05.360 --> 00:14:07.790\nAnd once you select that,\nI'm gonna go in to the Edit.\n\n248\n00:14:07.790 --> 00:14:10.430\nThis is the screen that\nyou'll normally see.\n\n249\n00:14:10.430 --> 00:14:12.100\nNow, once you have that,\n\n250\n00:14:12.100 --> 00:14:14.520\nyou do need to start filling\nout some of this information.\n\n251\n00:14:14.520 --> 00:14:17.300\nYou don't have to fill out everything,\nbut you need to fill out enough for this.\n\n252\n00:14:17.300 --> 00:14:20.190\nAnd that's what we're also\ngonna show you right here too.\n\n253\n00:14:20.190 --> 00:14:23.337\nOkay, this first box\nhere it says disabled.\n\n254\n00:14:23.337 --> 00:14:28.000\nSet this option to disabled phase one\nwithout removing it from the list.\n\n255\n00:14:28.000 --> 00:14:31.710\nIf you know that you're testing this\nout and you might be using it but\n\n256\n00:14:31.710 --> 00:14:34.640\nyou might not be using it here,\nyou wanna make sure that it's set up.\n\n257\n00:14:34.640 --> 00:14:40.200\nYou can simply disable this and that\nway it won't even be used at all, okay?\n\n258\n00:14:40.200 --> 00:14:44.119\nIf you know that its already been set up\nthen you're ready to go, or I should go,\n\n259\n00:14:44.119 --> 00:14:48.114\nI know that IP stuff works, but I wanna\nswitch on over to something like open VPN.\n\n260\n00:14:48.114 --> 00:14:51.571\nBut you still wanna have this as\na back up just in case you know,\n\n261\n00:14:51.571 --> 00:14:55.220\nyour VPN connection doesn't\nwork the way you want it to.\n\n262\n00:14:55.220 --> 00:14:57.730\nYou can just disable it cuz if you\ngo ahead and delete the whole thing,\n\n263\n00:14:57.730 --> 00:15:00.610\nit means you have to go ahead and\nenter all this information in again.\n\n264\n00:15:00.610 --> 00:15:03.360\nSo just kinda realize that\nyou have that to set up.\n\n265\n00:15:03.360 --> 00:15:06.390\nOn the Key Exchange, you have two\ndifferent versions that are out there,\n\n266\n00:15:06.390 --> 00:15:09.990\nwhich is v1 and v2,\nversion 1 and version 2, for IKE.\n\n267\n00:15:09.990 --> 00:15:13.020\nThe recommendation, of course,\nis gonna be IKE version 2 today.\n\n268\n00:15:13.020 --> 00:15:14.230\nAnd they give you Auto.\n\n269\n00:15:14.230 --> 00:15:19.490\nNow, here it actually describes\nthe idea of Auto as well.\n\n270\n00:15:19.490 --> 00:15:21.820\nNow, when you take a look at\nwhat that's described and\n\n271\n00:15:21.820 --> 00:15:26.750\nwhat it says, it says auto uses IKE\nversion two when it's the initiator.\n\n272\n00:15:26.750 --> 00:15:30.068\nSo if I establish from alpha\nthe connection to bravo,\n\n273\n00:15:30.068 --> 00:15:35.010\nif I say I'm gonna start sending traffic\nfrom alpha to bravo, it's gonna start\n\n274\n00:15:35.010 --> 00:15:39.756\nusing IKE version two, and then it says\nit accepts either as the responder.\n\n275\n00:15:39.756 --> 00:15:43.530\nSo the other side will say,\nyou're using IKE version two?\n\n276\n00:15:43.530 --> 00:15:45.080\nLet me also use IKE version two.\n\n277\n00:15:45.080 --> 00:15:47.460\n&gt;&gt; That'll do, yeah.\n&gt;&gt; Yep that's what we're actually doing.\n\n278\n00:15:47.460 --> 00:15:52.424\nSo normally by default, I actually set\nthis up as auto at the beginning and\n\n279\n00:15:52.424 --> 00:15:57.402\nit just chose this because I had\nalready established traffic through it.\n\n280\n00:15:57.402 --> 00:16:02.438\nIPv4 you can also do this IPv6,\nwe're simply just gonna set up IPv4.\n\n281\n00:16:02.438 --> 00:16:05.177\nThe setup is essentially\nthe same except of course where\n\n282\n00:16:05.177 --> 00:16:09.050\nthe IP address is changing and\nthat's what you want to make sure of.\n\n283\n00:16:09.050 --> 00:16:12.540\nAnd also make sure you set it\nup on the correct interface,\n\n284\n00:16:12.540 --> 00:16:16.220\nbecause I'm establishing this\nto another WAN interface\n\n285\n00:16:16.220 --> 00:16:18.450\nI want to make sure that when\nI establish that connection,\n\n286\n00:16:18.450 --> 00:16:24.350\nthat tunnel, it's gonna be from my WAN\ninterface over to Bravo's WAN interface.\n\n287\n00:16:24.350 --> 00:16:27.720\nAnd then you need, of course,\nthe IP address on the other end.\n\n288\n00:16:27.720 --> 00:16:30.820\nThis is normally gonna be\nthe public IP address.\n\n289\n00:16:30.820 --> 00:16:35.350\nSo if you are establishing\nthis as your home office or\n\n290\n00:16:35.350 --> 00:16:40.790\nthe other side as the branch office,\nif they already have already IPsec up,\n\n291\n00:16:40.790 --> 00:16:45.500\nyou need to make sure that you ask them\nwhat is their public IP address so\n\n292\n00:16:45.500 --> 00:16:47.870\nthat you can enter it in here.\n\n293\n00:16:47.870 --> 00:16:51.464\nIt's always good to make sure that you\nadd the description in because if not,\n\n294\n00:16:51.464 --> 00:16:53.580\nyou're gonna get confused\nwhy this is here.\n\n295\n00:16:53.580 --> 00:16:58.140\nAnd once you're done with that,\nthis is where we begin taking a look\n\n296\n00:16:58.140 --> 00:17:02.510\nat the information we need\nto have inside of phase one.\n\n297\n00:17:02.510 --> 00:17:05.830\nSo I've selected just\na mutual pre-shared key.\n\n298\n00:17:07.020 --> 00:17:11.276\nAnd you can do this of course based\non RSA certificates as well, but\n\n299\n00:17:11.276 --> 00:17:16.930\nthis is the one I've setup here for the\nlab, and now you need your IP addresses.\n\n300\n00:17:16.930 --> 00:17:23.130\nIt knows what your IP address is already,\nbut notice it also has a Peer Identifier.\n\n301\n00:17:23.130 --> 00:17:27.750\nAnd you can change this and set it to\nan IP address here and then simply\n\n302\n00:17:27.750 --> 00:17:33.640\ntype in the other IP address that you\nare connecting to and that will also help.\n\n303\n00:17:33.640 --> 00:17:36.280\n&gt;&gt; So Ronnie, that entry field\nwhere it says Peer Identifier,\n\n304\n00:17:36.280 --> 00:17:38.560\nwould that be the same\nas the IP address for\n\n305\n00:17:38.560 --> 00:17:41.110\nthe other machine,\nother device that you're connecting to?\n\n306\n00:17:41.110 --> 00:17:45.490\n&gt;&gt; It really would, and you would expect\nthat you could be able to enter in the IP\n\n307\n00:17:45.490 --> 00:17:47.415\naddress right next to this here.\n\n308\n00:17:47.415 --> 00:17:52.610\nSo notice that there's not a box over\nhere to the right of Peer Identifier or\n\n309\n00:17:52.610 --> 00:17:55.578\na peer IP address Now\nif I select it though,\n\n310\n00:17:55.578 --> 00:17:59.370\nnotice that there's a drop down,\nand I can go ahead and\n\n311\n00:17:59.370 --> 00:18:04.420\ntype in the IP address again, but\nbelieve it or not this is redundant.\n\n312\n00:18:04.420 --> 00:18:09.610\nThe reason why it's redundant is,\nif I select Peer IP\n\n313\n00:18:09.610 --> 00:18:15.630\naddress, I had already entered\nit in under Remote Gateway.\n\n314\n00:18:15.630 --> 00:18:19.580\nSo when I say Peer Address,\nit knows to look for\n\n315\n00:18:19.580 --> 00:18:22.090\nwhat actually got entered in up here.\n\n316\n00:18:22.090 --> 00:18:24.480\nSo can you do it, yes,\nyou can do it if you want to.\n\n317\n00:18:24.480 --> 00:18:25.040\n&gt;&gt; Not necessary.\n\n318\n00:18:25.040 --> 00:18:28.330\n&gt;&gt; But it's not necessary, because\nyou've already entered it in one time.\n\n319\n00:18:28.330 --> 00:18:31.890\nAnd I hate having to enter in\nthe same information multiple times.\n\n320\n00:18:31.890 --> 00:18:35.170\nHave I done it over and\nover again, yes I have.\n\n321\n00:18:35.170 --> 00:18:37.500\nBut should I, not necessarily.\n\n322\n00:18:37.500 --> 00:18:40.871\nBecause the more often that you\ntend to enter in things manually,\n\n323\n00:18:40.871 --> 00:18:43.028\nyou'll end up getting typos like crazy.\n\n324\n00:18:43.028 --> 00:18:43.809\n&gt;&gt; Typos, misconfigurations.\n\n325\n00:18:43.809 --> 00:18:47.150\n&gt;&gt; Now of course there comes this point.\n\n326\n00:18:47.150 --> 00:18:50.309\nNow you do not want to use\na pre-shared key like this.\n\n327\n00:18:52.130 --> 00:18:55.530\nBut I did it for the purposes of\nthe show so that we can remember it.\n\n328\n00:18:55.530 --> 00:18:58.320\nThe goal here, of course,\nis to use something complex and long.\n\n329\n00:18:58.320 --> 00:19:03.110\nRecommendation is at least ten characters,\nupper, lowercase, letters, numbers,\n\n330\n00:19:03.110 --> 00:19:05.570\ncharacters, whatever you might do.\n\n331\n00:19:05.570 --> 00:19:07.680\nSo you can actually enter that in.\n\n332\n00:19:07.680 --> 00:19:12.190\nThe longer, the better, of course\nis usually the conventional wisdom.\n\n333\n00:19:12.190 --> 00:19:14.190\nI just made this easy and\n\n334\n00:19:14.190 --> 00:19:16.508\nI'll probably get it wrong because\nI actually put in that little.\n\n335\n00:19:16.508 --> 00:19:17.900\n&gt;&gt; Exclamation point.\n\n336\n00:19:17.900 --> 00:19:22.950\n&gt;&gt; Exclamation point at the end\non my luck, or I'll just type it.\n\n337\n00:19:22.950 --> 00:19:24.640\nLet me do this.\n\n338\n00:19:24.640 --> 00:19:29.552\nLet me just copy this and paste it into\nNotepad just in case, cuz I know myself.\n\n339\n00:19:29.552 --> 00:19:31.590\nNow if you do something like this,\nremember don't save it and\n\n340\n00:19:31.590 --> 00:19:33.530\ndon't show it to the world like I'm doing.\n\n341\n00:19:33.530 --> 00:19:35.640\nBut at least have that.\n\n342\n00:19:35.640 --> 00:19:43.030\nAnd just in case I forget,\nwell 70.184.147.137.\n\n343\n00:19:43.030 --> 00:19:46.092\nSo I can at least have some\ninformation that I can\n\n344\n00:19:46.092 --> 00:19:48.780\nuse as I configure the other side as well.\n\n345\n00:19:49.970 --> 00:19:53.850\nAll right, now, once we've got that,\nthis is where you, when you start paying\n\n346\n00:19:53.850 --> 00:19:57.290\nattention to at least the proposed\nalgorithms for phase one.\n\n347\n00:19:57.290 --> 00:20:00.130\n&gt;&gt; So if we were required to have any of\nthat encryption like you were talking\n\n348\n00:20:00.130 --> 00:20:03.390\nabout with those regulations, and this is\nwhere we could go ahead and select that?\n\n349\n00:20:03.390 --> 00:20:05.820\n&gt;&gt; Yeah, and this is the key,\n\n350\n00:20:05.820 --> 00:20:08.710\nas far as making the encryption\nthe way that you need to.\n\n351\n00:20:08.710 --> 00:20:12.880\nIt's always easy where you go, I'll just\nuse the simplest ones that are out there.\n\n352\n00:20:14.320 --> 00:20:15.040\nWill it work?\n\n353\n00:20:15.040 --> 00:20:18.510\nIt'll work, it definitely will work and\nhelp you out.\n\n354\n00:20:18.510 --> 00:20:22.888\nAnd the benefit of using the most simplest\nencryption that you can is that it's\n\n355\n00:20:22.888 --> 00:20:26.819\nnot gonna be a gigantic performance\nhit on the CPU of your pfSense box.\n\n356\n00:20:26.819 --> 00:20:28.420\n&gt;&gt; Sure, you'll see those faster speeds.\n\n357\n00:20:28.420 --> 00:20:32.380\n&gt;&gt; You'll definitely see way\nfaster speeds if you do so, but\n\n358\n00:20:32.380 --> 00:20:35.510\nthe problem is you might actually\nend up compromising your security.\n\n359\n00:20:35.510 --> 00:20:37.140\n&gt;&gt; Yeah, it's kind of like a trade off,\nor a hand off,\n\n360\n00:20:37.140 --> 00:20:39.270\nyou gotta decide what's\nmore important to you.\n\n361\n00:20:39.270 --> 00:20:40.170\n&gt;&gt; And if you're doing this for\n\n362\n00:20:40.170 --> 00:20:45.000\na company, they probably have security\npolicy, so whatever you set it up as,\n\n363\n00:20:45.000 --> 00:20:49.530\nif they tell you what the phase one should\nbe, you gotta make sure you match those.\n\n364\n00:20:49.530 --> 00:20:53.890\nDon't just go, let me just choose\nany one of these that will go on,\n\n365\n00:20:53.890 --> 00:20:55.930\nso you'll have that.\n\n366\n00:20:55.930 --> 00:20:59.150\nSo usually by default, right.\n\n367\n00:20:59.150 --> 00:21:05.630\nBut of course, pfSense recommends is that\nyou use this AES256GCM if you choose to.\n\n368\n00:21:05.630 --> 00:21:08.790\nI just selected the standard AES\ncuz that's the one that I know.\n\n369\n00:21:08.790 --> 00:21:11.370\nI don't know exactly what GCM stands for,\nshould I?\n\n370\n00:21:11.370 --> 00:21:15.110\nProbably, I should know exactly\nwhat it stands for but I didn't.\n\n371\n00:21:15.110 --> 00:21:18.780\nI did choose 256 bits as well.\n\n372\n00:21:18.780 --> 00:21:22.893\nBut you, of course, can choose, that one's\nthe highest one that you can go to for\n\n373\n00:21:22.893 --> 00:21:24.333\nat least just standard AES.\n\n374\n00:21:24.333 --> 00:21:25.974\nBut if you choose\nthe jump down to here and\n\n375\n00:21:25.974 --> 00:21:29.720\nlet's see if that actually gives you\nanymore, nope, that's pretty much it.\n\n376\n00:21:29.720 --> 00:21:32.773\nSo I'm just going to choose AES and\n256 here.\n\n377\n00:21:32.773 --> 00:21:37.600\nAnd then for the hashing algorithm\nSHA-1 is probably sufficient but\n\n378\n00:21:37.600 --> 00:21:43.020\nof course in today's standards,\nthey'd go no, it's really not.\n\n379\n00:21:43.020 --> 00:21:46.580\nAnd the reason why is that\nthe more that you add in here,\n\n380\n00:21:46.580 --> 00:21:51.200\nthe 256 AES, the hashing that's 256,\nthat's a pretty big hit on\n\n381\n00:21:51.200 --> 00:21:55.830\nthe CPU when you start encrypting stuff\nand start hashing this stuff as well.\n\n382\n00:21:55.830 --> 00:21:58.380\nBut to follow the proper\nsecurity protocol,\n\n383\n00:21:58.380 --> 00:22:02.130\nI'm gonna go ahead and\nat least use SHA-256.\n\n384\n00:22:02.130 --> 00:22:05.920\nAlso notice that I have\na Diffie-Hellman group number as well.\n\n385\n00:22:05.920 --> 00:22:08.120\nThese have to match on both sides.\n\n386\n00:22:08.120 --> 00:22:12.820\nSo make sure if you don't know exactly,\nthat you go ahead and you mark this down.\n\n387\n00:22:13.990 --> 00:22:19.030\nSo make sure you go encryption,\nand then you go AES, and 256,\n\n388\n00:22:19.030 --> 00:22:23.770\nand the hashing.\n\n389\n00:22:23.770 --> 00:22:26.260\nMake sure you select SHA256.\n\n390\n00:22:26.260 --> 00:22:31.300\nAnd then the last one of the DH number,\nor DH Group.\n\n391\n00:22:31.300 --> 00:22:35.120\nThis is for\nthe Diffie-Hellman group number.\n\n392\n00:22:35.120 --> 00:22:36.505\nWhat numbers are you gonna use?\n\n393\n00:22:36.505 --> 00:22:43.490\nSo this one, I normally pick at least\n2,048 bit, which is gonna be that one.\n\n394\n00:22:43.490 --> 00:22:47.081\nBut for the sake of what we're doing\ntoday, we're just gonna use DH2, so\n\n395\n00:22:47.081 --> 00:22:50.787\nin a production network, yes I would pick\nthe higher number but for the show so\n\n396\n00:22:50.787 --> 00:22:52.227\nthat we can continue this on.\n\n397\n00:22:52.227 --> 00:22:52.809\n&gt;&gt; Speed it up.\n\n398\n00:22:52.809 --> 00:22:54.066\n&gt;&gt; Speed it up a little bit.\n\n399\n00:22:54.066 --> 00:23:00.700\nWe're gonna actually use group\n2 here with 1024 bit as well.\n\n400\n00:23:00.700 --> 00:23:03.370\nNow lifetimes, you can do this but\n\n401\n00:23:03.370 --> 00:23:07.800\nmake sure you realize it's in\nterms of seconds, is the key.\n\n402\n00:23:07.800 --> 00:23:11.900\nSo don't just put down two,\nthinking it's two hours or-\n\n403\n00:23:11.900 --> 00:23:12.610\n&gt;&gt; You want to give it some\n\n404\n00:23:12.610 --> 00:23:14.290\ntime to be able to establish\nthat communication.\n\n405\n00:23:14.290 --> 00:23:15.550\n&gt;&gt; Yeah, make sure you do that.\n\n406\n00:23:15.550 --> 00:23:16.370\nSo I did that.\n\n407\n00:23:16.370 --> 00:23:20.080\nI went ahead and established the lifetime\nof this particular tunnel which is 36\n\n408\n00:23:20.080 --> 00:23:23.390\nseconds, that should be about 2 hours\nif I remember correctly on my math.\n\n409\n00:23:23.390 --> 00:23:25.970\nBut that should do just fine.\n\n410\n00:23:25.970 --> 00:23:31.115\nMost of the time, by default, it's\nprobably a 24 hour day, 28,800 seconds.\n\n411\n00:23:31.115 --> 00:23:34.980\n14.4 for 12 hours,\nwhatever you might want to do.\n\n412\n00:23:34.980 --> 00:23:38.060\nSo you can actually do that, so\nhowever you want to change that,\n\n413\n00:23:38.060 --> 00:23:39.470\nI just wanted to set it up.\n\n414\n00:23:39.470 --> 00:23:43.591\nSo I just chose two hours by default if I\nknow that those connections are not gonna\n\n415\n00:23:43.591 --> 00:23:46.065\nbe super long, and\nI want to keep them changed.\n\n416\n00:23:46.065 --> 00:23:48.359\nNow, of all of the advanced options,\n\n417\n00:23:48.359 --> 00:23:53.350\nnotice that I don't have any of them\nchecked except for one, which is this one.\n\n418\n00:23:53.350 --> 00:23:55.711\nDead Peer Detection.\n\n419\n00:23:55.711 --> 00:24:00.671\nAnd this is very key, we wanna make sure\nthat the tunnel remains established,\n\n420\n00:24:00.671 --> 00:24:05.980\nand it knows to drop the tunnel if\nthe other side is actually, well, dead.\n\n421\n00:24:05.980 --> 00:24:08.800\nSo that's what it's doing,\nit's constantly listening out, and\n\n422\n00:24:08.800 --> 00:24:11.850\ndead peer detection allows us\nto be able to understand that,\n\n423\n00:24:11.850 --> 00:24:14.200\nthat if it stops sending something,\nthat's what's gonna happen.\n\n424\n00:24:14.200 --> 00:24:17.130\n&gt;&gt; So that can really prevent\nany kind of hijack attempts or\n\n425\n00:24:17.130 --> 00:24:19.670\nsomething like that than just\nleaving that open connection.\n\n426\n00:24:19.670 --> 00:24:21.710\n&gt;&gt; Right, yeah,\nat least once it drops, right,\n\n427\n00:24:21.710 --> 00:24:25.270\nthey'd have to reestablish the negotiation\nagain, instead of just picking it up.\n\n428\n00:24:25.270 --> 00:24:29.330\nSo here, that will give you that\nopportunity and that chance to do so.\n\n429\n00:24:29.330 --> 00:24:32.460\nI left the defaults the way that\nit has as far as the delay goes,\n\n430\n00:24:32.460 --> 00:24:34.650\nbetween requesting peer acknowledgement.\n\n431\n00:24:34.650 --> 00:24:37.903\nAnd of course, the number of failed\nattempts before disconnecting.\n\n432\n00:24:37.903 --> 00:24:38.770\n&gt;&gt; You're generous, five.\n\n433\n00:24:38.770 --> 00:24:41.151\n&gt;&gt; Yeah, five, yeah,\nI'm pretty generous here,\n\n434\n00:24:41.151 --> 00:24:43.200\nI just left it at\nthe default to help us out.\n\n435\n00:24:43.200 --> 00:24:46.000\nCuz the more numbers I have to try and\nmemorize for\n\n436\n00:24:46.000 --> 00:24:50.920\nthe lab though, the more likely I'm gonna\nconfuse this and mess this up totally.\n\n437\n00:24:50.920 --> 00:24:53.210\nBut once you have that, you click Save.\n\n438\n00:24:53.210 --> 00:24:58.100\nAnd now you should see the remainder of\nthis information pop up here populating.\n\n439\n00:24:58.100 --> 00:25:01.530\nAnd for everything to be applied,\nyou just click Apply Changes.\n\n440\n00:25:01.530 --> 00:25:06.330\nAll right, so we should end up seeing this\nat the end result after clicking Apply,\n\n441\n00:25:06.330 --> 00:25:09.040\nwhere we see everything that\nwe're supposed to, right?\n\n442\n00:25:09.040 --> 00:25:10.660\nAnd we showed IKE version 2.\n\n443\n00:25:10.660 --> 00:25:12.470\nWe know what the remote gateway is.\n\n444\n00:25:12.470 --> 00:25:15.230\nNotice that we have Phase 1 set up\n\n445\n00:25:15.230 --> 00:25:18.935\nat least according to the algorithms\nthat I set up with a brief description.\n\n446\n00:25:18.935 --> 00:25:23.863\nNow Cherokee, you would think I'm done and\nI could switch on over to Bravo,\n\n447\n00:25:23.863 --> 00:25:27.186\nbut remember that in IPsec,\nthere's two phases.\n\n448\n00:25:27.186 --> 00:25:30.663\nAnd if you take a look,\nonce you configure Phase 1,\n\n449\n00:25:30.663 --> 00:25:33.120\nthere's gonna be another box here.\n\n450\n00:25:33.120 --> 00:25:34.600\nAnd what it's gonna show you,\n\n451\n00:25:34.600 --> 00:25:39.080\nit's gonna say something like\nit says to add P2 instead.\n\n452\n00:25:39.080 --> 00:25:42.930\nNow the reason why this one is\nshowing show Phase 2 is because I\n\n453\n00:25:42.930 --> 00:25:43.740\nalready created it.\n\n454\n00:25:43.740 --> 00:25:45.350\nWe're gonna create it on the other side.\n\n455\n00:25:45.350 --> 00:25:47.810\nBut at least for right here,\nwe wanna show that.\n\n456\n00:25:47.810 --> 00:25:50.630\nSo you'll see that there will\nbe another button right here\n\n457\n00:25:50.630 --> 00:25:52.770\nthat will be a green button.\n\n458\n00:25:52.770 --> 00:25:56.300\nAnd then I'll click this plus sign,\nand now you can look and\n\n459\n00:25:56.300 --> 00:25:58.800\nsee that here is the second part.\n\n460\n00:25:58.800 --> 00:26:00.090\nSo the first one, of course,\n\n461\n00:26:00.090 --> 00:26:03.770\nestablishes that encrypted tunnel,\nend to end encryption.\n\n462\n00:26:03.770 --> 00:26:09.460\nAnd now Phase 2 takes that and says now\nthe data is gonna be in tunnel mode,\n\n463\n00:26:09.460 --> 00:26:14.510\ngoing from the local subnet to\nthe remote subnet using ESP,\n\n464\n00:26:14.510 --> 00:26:17.060\nthe Encapsulating Security Protocol.\n\n465\n00:26:17.060 --> 00:26:19.220\nAnd this time, I left on, and yes,\n\n466\n00:26:19.220 --> 00:26:24.050\nyou see where it chose the ESGC on this\ntime over here, and we'll see this.\n\n467\n00:26:24.050 --> 00:26:25.580\nLet me go ahead and\nclick on the Edit button.\n\n468\n00:26:27.000 --> 00:26:31.710\nAnd now in Phase 2,\nnow we can see that it goes ahead and\n\n469\n00:26:31.710 --> 00:26:34.010\nthen it makes us choose\na few different things.\n\n470\n00:26:34.010 --> 00:26:35.900\nWe wanna establish this in tunnel mode.\n\n471\n00:26:35.900 --> 00:26:37.890\nNotice that transport mode is available.\n\n472\n00:26:37.890 --> 00:26:41.770\nBut because we're actually creating\na tunnel, we're gonna choose tunnel.\n\n473\n00:26:41.770 --> 00:26:44.780\nAnd notice what my local subnet is.\n\n474\n00:26:44.780 --> 00:26:47.840\nAnd then, I'm not worried about\nthe NAT and BINAT translation.\n\n475\n00:26:47.840 --> 00:26:51.040\nOn the other side,\nI do need to select network and\n\n476\n00:26:51.040 --> 00:26:55.430\nwhat the other side I want to\nget to through that tunnel.\n\n477\n00:26:55.430 --> 00:26:58.820\nSo it needs to be that tunnel\naddress over on the other side.\n\n478\n00:26:58.820 --> 00:27:02.036\nHere you can add a description,\nit's always better if you do so, but for\n\n479\n00:27:02.036 --> 00:27:05.012\nthe sake of time right now,\nI'm simply gonna skip that addition.\n\n480\n00:27:05.012 --> 00:27:09.398\nAnd then you have the protocol ESP,\nand I left it at default,\n\n481\n00:27:09.398 --> 00:27:13.623\nwhich is the AES256GCM,\nthe one that they recommend.\n\n482\n00:27:13.623 --> 00:27:17.208\nYou, of course, can change this according\nto whatever your security protocol is.\n\n483\n00:27:17.208 --> 00:27:22.449\nThe same thing with the hashing algorithm,\nwe're not using the perfect forward\n\n484\n00:27:22.449 --> 00:27:27.320\nsecrecy, and then I set up the lifetime\nhere, the same thing, 3600.\n\n485\n00:27:27.320 --> 00:27:31.321\nNow if you want to establish this idea\nof pinging the host automatically and\n\n486\n00:27:31.321 --> 00:27:35.150\nothers keeping kind of a keep alive or\na heartbeat, whatever you want.\n\n487\n00:27:35.150 --> 00:27:39.401\nYou can always do this to make sure\nthat the other side is there and\n\n488\n00:27:39.401 --> 00:27:41.072\nestablished to do that.\n\n489\n00:27:41.072 --> 00:27:45.960\nBut I just chose not to do so,\nI click Save, I click Apply, and\n\n490\n00:27:45.960 --> 00:27:52.269\nnow I've set up Phase 1 and Phase 2 of\neverything that I actually need, okay.\n\n491\n00:27:52.269 --> 00:27:55.774\nNow once this is done,\nthere's a couple of other things, so\n\n492\n00:27:55.774 --> 00:27:59.800\nit's a lot of configuration,\nbut it has to be done, okay?\n\n493\n00:27:59.800 --> 00:28:02.350\nSo when we start to see this,\nright, there's just a couple of\n\n494\n00:28:02.350 --> 00:28:06.000\nother things here that has to be done for\nthe traffic now to flow.\n\n495\n00:28:06.000 --> 00:28:10.620\nRight now, we don't have any firewall\nrules that allow us to be able\n\n496\n00:28:10.620 --> 00:28:13.740\nto connect to the other side\nto allow traffic to flow back.\n\n497\n00:28:13.740 --> 00:28:18.210\nSo if I click on Firewall and\nselect Rules, and\n\n498\n00:28:18.210 --> 00:28:25.810\nthen on the LAN tab here, I'm going to,\nnot LAN tab, I keep saying LAN.\n\n499\n00:28:25.810 --> 00:28:28.320\nIt should be that you'll see another\nconnection here called IPsec.\n\n500\n00:28:28.320 --> 00:28:31.710\nI kept looking for it,\nI was like it disappeared, it's not there.\n\n501\n00:28:31.710 --> 00:28:34.327\nIt was just me not seeing\nthe correct thing.\n\n502\n00:28:34.327 --> 00:28:35.263\nBut here it is,\n\n503\n00:28:35.263 --> 00:28:39.871\nyou actually want to set this up to where\nyou're allowing the remote side for\n\n504\n00:28:39.871 --> 00:28:44.340\nthe destination to be on, well,\nmy side, and we can allow any protocol.\n\n505\n00:28:44.340 --> 00:28:48.479\nNow you can make this as restrictive as\nyou want to and limit the protocols, but\n\n506\n00:28:48.479 --> 00:28:52.619\nessentially, this allows you to pass\ntraffic through the IPsec connection,\n\n507\n00:28:52.619 --> 00:28:53.952\nwhich is right here now.\n\n508\n00:28:53.952 --> 00:28:56.520\nNotice this is not the LAN connection.\n\n509\n00:28:56.520 --> 00:28:59.200\nIt allows you to go ahead and do that.\n\n510\n00:28:59.200 --> 00:29:00.690\nSo that is another one.\n\n511\n00:29:01.840 --> 00:29:03.550\nNow by default, so\n\n512\n00:29:03.550 --> 00:29:07.520\nthis is why I was confusing it with IPsec\nbecause there's a lot of setup, right?\n\n513\n00:29:07.520 --> 00:29:11.648\nSo not only do you have to\ncreate the Phase 1, Phase 2 and\n\n514\n00:29:11.648 --> 00:29:16.220\nthe firewalls, you also have to\ngo to System and then Routing.\n\n515\n00:29:16.220 --> 00:29:23.150\nAnd it's here you have to create\na new gateway for your IPsec traffic.\n\n516\n00:29:23.150 --> 00:29:27.323\nIf you don't, it will simply follow and\ngo out of this gateway right here,\n\n517\n00:29:27.323 --> 00:29:29.788\nwhich is the default, out to the Internet.\n\n518\n00:29:29.788 --> 00:29:31.417\nBut it's not gonna go across that tunnel,\n\n519\n00:29:31.417 --> 00:29:34.420\nit's just gonna kind of shoot\nit out there on the Internet.\n\n520\n00:29:34.420 --> 00:29:39.810\nSo instead, I create a new gateway\nthat I called IPsec_to_Bravo,\n\n521\n00:29:39.810 --> 00:29:44.980\nand I establish it as the default\ngateway of my own LAN connection,\n\n522\n00:29:44.980 --> 00:29:50.290\ntelling it that it's actually going\nto allow for any traffic to come in.\n\n523\n00:29:50.290 --> 00:29:54.071\nSo IPsec_to_Bravo, this is actually\nthe way that they get in or\n\n524\n00:29:54.071 --> 00:29:58.073\nthe way that we actually send traffic\nover the tunnel as well, okay?\n\n525\n00:29:58.073 --> 00:30:01.536\nSo that's actually a part of\neverything that we need to do,\n\n526\n00:30:01.536 --> 00:30:06.248\nis that if traffic is going over IPsec,\nit should come to this gateway instead and\n\n527\n00:30:06.248 --> 00:30:11.550\ngo out the default gateway if that's\nthe way that it's supposed to happen.\n\n528\n00:30:11.550 --> 00:30:15.050\nNow I know that I only have\nabout 30 seconds left or so.\n\n529\n00:30:15.050 --> 00:30:16.485\nOkay, maybe even not that much,\n\n530\n00:30:16.485 --> 00:30:19.325\nbut there's only one other\nconsideration that you have to have.\n\n531\n00:30:19.325 --> 00:30:24.198\nIf pfSense is essentially your gateway\ndevice that's directly connected\n\n532\n00:30:24.198 --> 00:30:29.081\nout to the Internet, you're done,\nyou don't have to do anything at all.\n\n533\n00:30:29.081 --> 00:30:36.034\nBut if pfSense is behind a router,\nand you have another router out there,\n\n534\n00:30:36.034 --> 00:30:41.995\nyou may also have to add in a static\nroute here to the other side.\n\n535\n00:30:41.995 --> 00:30:46.115\nSo you simply put in the network route and\nthe gateway is gonna be your own default\n\n536\n00:30:46.115 --> 00:30:49.763\ngateway, and you say the network is\nactually gonna be the other side.\n\n537\n00:30:49.763 --> 00:30:50.637\n&gt;&gt; This is how you get there.\n\n538\n00:30:50.637 --> 00:30:54.796\n&gt;&gt; Yep, so as long as you're directly\nconnected to the other side like I am,\n\n539\n00:30:54.796 --> 00:30:57.427\nI don't have to worry\nabout the static route.\n\n540\n00:30:57.427 --> 00:31:00.143\nBut if you know that there's\nanother device in between,\n\n541\n00:31:00.143 --> 00:31:03.130\nyou've got to enter that static route in,\nokay?\n\n542\n00:31:03.130 --> 00:31:06.336\nSo that is pretty much the configuration\nthat you need to know,\n\n543\n00:31:06.336 --> 00:31:10.508\nnow I went through this, but we still need\nto configure Bravo, but it looks like,\n\n544\n00:31:10.508 --> 00:31:12.158\nCherokee, I've talked a lot.\n\n545\n00:31:12.158 --> 00:31:16.114\n&gt;&gt; [LAUGH] Yeah, Ronnie, I think we're\nabout out of time for this episode.\n\n546\n00:31:16.114 --> 00:31:20.659\nYou walked us through the alpha device,\nsetting up Phase 1 and\n\n547\n00:31:20.659 --> 00:31:24.050\nPhase 2 for our IPsec site to site tunnel.\n\n548\n00:31:24.050 --> 00:31:28.170\nStay tuned, we're gonna go ahead and\nswitch on over to our Bravo machine, and\n\n549\n00:31:28.170 --> 00:31:30.420\nyou guys can see how\nthat's set up as well.\n\n550\n00:31:30.420 --> 00:31:33.300\nSo I'm gonna go ahead and\nsign off for this particular show.\n\n551\n00:31:33.300 --> 00:31:35.330\nAs your show host, I'm Cherokee Boose.\n\n552\n00:31:35.330 --> 00:31:36.270\n&gt;&gt; And I'm Ronnie Wong.\n\n553\n00:31:36.270 --> 00:31:38.031\n&gt;&gt; See you next time here at ITProTV.\n\n554\n00:31:38.031 --> 00:31:46.333\n[MUSIC]\n\n555\n00:31:46.333 --> 00:31:49.058\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "198344603"
        },
        {
          "description": "This a continuation of the previous episode where Cherokee and Ronnie showed you how to configure the first device of an IPSec site to site VPN tunnel. This episode walks you thru how to set up the second pfSense box to complete your secure  tunnel.",
          "length": "819",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-1-2-setup_ipsec_site_to_site_vpn_pt2-010317-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-1-2-setup_ipsec_site_to_site_vpn_pt2-010317-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-1-2-setup_ipsec_site_to_site_vpn_pt2-010317-1-sm.jpg",
          "title": "Setup IPsec Site-to-Site VPN Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.148 --> 00:00:02.893\nWelcome to ITPro.TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.893 --> 00:00:08.469\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.469 --> 00:00:11.957\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:11.957 --> 00:00:14.640\n&gt;&gt; Welcome to another pfSense show.\n\n5\n00:00:14.640 --> 00:00:17.230\nI'm your show host, Cherokee Boose.\n\n6\n00:00:17.230 --> 00:00:18.787\nIn the previous episode,\n\n7\n00:00:18.787 --> 00:00:23.542\nwe were looking at how to configure an\nIPSec site to site tunnel configuration.\n\n8\n00:00:23.542 --> 00:00:24.996\nWe started on our first machine.\n\n9\n00:00:24.996 --> 00:00:26.431\nBut we ran out of time.\n\n10\n00:00:26.431 --> 00:00:30.088\nSo with us today in studios we have\nSir Ronnie Wong to go ahead and\n\n11\n00:00:30.088 --> 00:00:32.300\ncomplete this configuration for us.\n\n12\n00:00:32.300 --> 00:00:33.305\nThank you for joining us today Ronnie.\n\n13\n00:00:33.305 --> 00:00:34.402\n&gt;&gt; Well thank you for\n\n14\n00:00:34.402 --> 00:00:39.313\nhaving me back as we continue on taking\na look at the IPSec set, the IP sec setup.\n\n15\n00:00:39.313 --> 00:00:40.850\nI can't say that, I shouldn't say that.\n\n16\n00:00:40.850 --> 00:00:43.752\n&gt;&gt; It's all right.\n&gt;&gt; On the site to site VPN connection.\n\n17\n00:00:43.752 --> 00:00:45.336\nAnd we're just gonna pick up on Bravo and\n\n18\n00:00:45.336 --> 00:00:48.256\nmake sure that we actually\nunderstand what we're doing.\n\n19\n00:00:48.256 --> 00:00:50.033\nSo remember that on Alpha\nwe just went ahead and\n\n20\n00:00:50.033 --> 00:00:52.324\nshowed you the configurations\nthat were previously done.\n\n21\n00:00:52.324 --> 00:00:56.175\nThe great thing is now that you understand\nwhat configurations need to be done Bravo\n\n22\n00:00:56.175 --> 00:00:57.282\nshould go a lot faster.\n\n23\n00:00:57.282 --> 00:00:58.765\nAt least that's what we're hoping here.\n\n24\n00:00:58.765 --> 00:01:00.695\nSo that way you're not sitting\nthere going, I can't believe it.\n\n25\n00:01:00.695 --> 00:01:02.280\nI just learned about this and\nnow you're telling me again?\n\n26\n00:01:02.280 --> 00:01:05.630\nYes, because we want to show you\nthe completed product and what happens.\n\n27\n00:01:05.630 --> 00:01:08.500\nSo here it is,\nI'm on Bravo machine now and\n\n28\n00:01:08.500 --> 00:01:10.910\nthat way we can start\nwith the configuration.\n\n29\n00:01:10.910 --> 00:01:12.730\nSo we'll take the same steps.\n\n30\n00:01:12.730 --> 00:01:15.825\nNow that we've got everything setup\nover on Alpha I need to establish\n\n31\n00:01:15.825 --> 00:01:17.800\nthe phase one and phase two.\n\n32\n00:01:17.800 --> 00:01:22.370\nSo I click on VPN, and\nthen I select IPsec.\n\n33\n00:01:22.370 --> 00:01:26.080\nNow once I'm here, notice that I\ndon't have any IPsec tunnels set up.\n\n34\n00:01:26.080 --> 00:01:29.020\nSo now I'm gonna add in my phase one.\n\n35\n00:01:29.020 --> 00:01:32.910\nAnd once I do so, I want to try and\nmatch to the other side.\n\n36\n00:01:32.910 --> 00:01:36.840\nSo I'm gonna set this up for Auto,\njust like I did on the other side.\n\n37\n00:01:36.840 --> 00:01:39.920\nAnd that should now\nnegotiate to version two.\n\n38\n00:01:39.920 --> 00:01:43.520\nIP version four which is what\nI want on the WAN interface.\n\n39\n00:01:43.520 --> 00:01:47.990\nAnd then this is where hopefully\nmy memory will not fail me and\n\n40\n00:01:47.990 --> 00:01:51.190\nmy fingers won't fail me\nas I type this in as well.\n\n41\n00:01:51.190 --> 00:01:53.150\nWhich is gonna be my remote gateway.\n\n42\n00:01:53.150 --> 00:01:56.810\nWhich is of course the IP\naddress of the other side, okay?\n\n43\n00:01:58.100 --> 00:02:05.514\nThen there is the description and\nI'll say IPsec to Alpha, all right.\n\n44\n00:02:05.514 --> 00:02:09.914\nAnd then for phase one on the proposal\nhere it's gonna be the mutual pre-shared\n\n45\n00:02:09.914 --> 00:02:10.973\nkey which is fine.\n\n46\n00:02:10.973 --> 00:02:14.176\nAnd now this is what I didn't\nremember on the mode here.\n\n47\n00:02:14.176 --> 00:02:16.501\nNow, I believe that it was\nactually the same one.\n\n48\n00:02:16.501 --> 00:02:19.753\nBut the great thing is since I\ndon't really remember, I can go and\n\n49\n00:02:19.753 --> 00:02:22.611\ncheck because I didn't\nactually close everything out.\n\n50\n00:02:22.611 --> 00:02:26.355\nSo let me verify that before I tell you\nbecause there's an aggressive mode and\n\n51\n00:02:26.355 --> 00:02:27.458\nthere's a main mode.\n\n52\n00:02:27.458 --> 00:02:31.525\nAnd on this one, I don't actually see it.\n\n53\n00:02:31.525 --> 00:02:33.860\nSo I'm gonna assume that\nI did main mode as well.\n\n54\n00:02:33.860 --> 00:02:36.910\nI did, so let me go ahead and do that.\n\n55\n00:02:36.910 --> 00:02:38.274\nSo pre-shared key.\n\n56\n00:02:38.274 --> 00:02:40.410\nDid I not go down far enough?\n\n57\n00:02:40.410 --> 00:02:41.200\nMaybe that's it.\n\n58\n00:02:41.200 --> 00:02:42.216\nNo that's it, okay?\n\n59\n00:02:42.216 --> 00:02:46.221\nSo yeah, I'm gonna say that this is main\nmode cuz I don't remember changing it.\n\n60\n00:02:46.221 --> 00:02:49.902\nNow, my IP address and the remote\nbecause we already typed them in,\n\n61\n00:02:49.902 --> 00:02:51.786\nremember it should know it.\n\n62\n00:02:51.786 --> 00:02:53.280\nSo it knows its own IP address,\n\n63\n00:02:53.280 --> 00:02:56.128\nit also knows the one that we typed\nin up here under Remote Gateway.\n\n64\n00:02:56.128 --> 00:02:59.725\nAnd that pre-shared key,\nthat is the tricky one here.\n\n65\n00:02:59.725 --> 00:03:04.560\nAnd so I'm simply going to copy this,\neven though I wrote it down.\n\n66\n00:03:04.560 --> 00:03:06.043\nAnd then I'm gonna paste it in.\n\n67\n00:03:06.043 --> 00:03:07.861\nThat way I know that it-\n&gt;&gt; It's correct.\n\n68\n00:03:07.861 --> 00:03:08.477\n&gt;&gt; that it's not my typo.\n\n69\n00:03:08.477 --> 00:03:11.126\nYeah, that it's absolutely\ngonna be correct.\n\n70\n00:03:11.126 --> 00:03:16.043\nAnd then under Phase 1, AES 256-\n&gt;&gt; [INAUDIBLE] SHA1.\n\n71\n00:03:16.043 --> 00:03:19.938\n&gt;&gt; And then SHA1, is that what I chose,\nlet's use something-\n\n72\n00:03:19.938 --> 00:03:20.520\n&gt;&gt; SHA256.\n\n73\n00:03:20.520 --> 00:03:22.500\n&gt;&gt; SHA256, yeah, see?\n\n74\n00:03:22.500 --> 00:03:25.550\nThat's where SHA1 would've\nbeen a little bit faster.\n\n75\n00:03:26.560 --> 00:03:29.520\nAnd I think I left\nthe DH group right here.\n\n76\n00:03:29.520 --> 00:03:31.320\nLet me see,\nI actually have it all written down.\n\n77\n00:03:31.320 --> 00:03:34.387\nI should, DH GROUP: 2.\n\n78\n00:03:34.387 --> 00:03:36.152\nSo make sure I have that set up.\n\n79\n00:03:36.152 --> 00:03:41.760\nAnd then the lifetime,\nI make it match to 3600 here.\n\n80\n00:03:41.760 --> 00:03:45.737\nAnd then the only other thing that\nI have by checking here is gonna be\n\n81\n00:03:45.737 --> 00:03:47.096\nDead Peer Detection.\n\n82\n00:03:47.096 --> 00:03:50.760\nAnd then I think everything\nelse was pretty much the same.\n\n83\n00:03:50.760 --> 00:03:53.040\nNow if you have this\nopportunity like I have, right,\n\n84\n00:03:53.040 --> 00:03:54.980\nI can actually have remoted in both.\n\n85\n00:03:54.980 --> 00:03:56.839\nIt's always good to kind of compare.\n\n86\n00:03:56.839 --> 00:03:59.218\nThat way you know what's going on.\n\n87\n00:03:59.218 --> 00:04:02.216\nSo here we don't have\nanything else set up there.\n\n88\n00:04:02.216 --> 00:04:05.330\nSo we're fine in what we need to do.\n\n89\n00:04:05.330 --> 00:04:07.960\nNow you might be saying, Ronnie,\nthat doesn't look identical.\n\n90\n00:04:07.960 --> 00:04:11.320\nAnd it isn't going to be and there's\na reason why and I just remembered this.\n\n91\n00:04:11.320 --> 00:04:16.058\nThis particular version of pfSense is\nactually an older version which is\n\n92\n00:04:16.058 --> 00:04:19.719\n2.3.1 which is actually\njust a previous version.\n\n93\n00:04:19.719 --> 00:04:24.343\nSo here it's asking for a little bit more\ninformation than what we had in 2.3.2.\n\n94\n00:04:24.343 --> 00:04:27.378\nWhich is normally the one that\nthis show is really based around.\n\n95\n00:04:27.378 --> 00:04:30.700\nBut I'm just gonna show you it's gonna be\nable to connect anyways when doing this.\n\n96\n00:04:31.890 --> 00:04:33.860\nAnd then we left everything\nelse as a default.\n\n97\n00:04:34.960 --> 00:04:35.700\nI click Save.\n\n98\n00:04:36.730 --> 00:04:41.510\nAnd now that I have DB and make sure\nthat everything is actually good here.\n\n99\n00:04:41.510 --> 00:04:42.310\nSo that looks good.\n\n100\n00:04:43.380 --> 00:04:46.280\nThen I'm going to show phase two.\n\n101\n00:04:46.280 --> 00:04:47.850\nAnd add the P2 here.\n\n102\n00:04:50.060 --> 00:04:55.107\nSo this is where we have to make sure\nthat we fill in this information,\n\n103\n00:04:55.107 --> 00:04:57.464\nmy LAN segment, which is fine.\n\n104\n00:04:57.464 --> 00:04:59.471\nAnd I don't actually have to\nclick on anything over here.\n\n105\n00:04:59.471 --> 00:05:06.005\nBut the remote network,\nthis is going to be that 10.1.110.0.\n\n106\n00:05:06.005 --> 00:05:09.144\nMake sure the subnet mask\nis also correct over here.\n\n107\n00:05:09.144 --> 00:05:12.777\nIf not, it's not gonna work for\nyou, I guarantee it.\n\n108\n00:05:12.777 --> 00:05:21.071\nAnd this one's gonna be\nTo the Alpha LAN network.\n\n109\n00:05:24.159 --> 00:05:25.650\nAll right?\n\n110\n00:05:25.650 --> 00:05:30.212\nThe protocol was the encapsulating\nsecurity protocol and\n\n111\n00:05:30.212 --> 00:05:35.997\nby default on 2.3.2,\nit automatically selects here to AES 256.\n\n112\n00:05:35.997 --> 00:05:39.533\nThis one on the previous\nversion just selected AES.\n\n113\n00:05:39.533 --> 00:05:45.176\nAnd on the hashing algorithm,\nI'm gonna change SHA1 to SHA 256.\n\n114\n00:05:45.176 --> 00:05:46.664\nLeave the rest of the lifetime, and\n\n115\n00:05:46.664 --> 00:05:49.100\nI'm not gonna worry about\npinging the host at this point.\n\n116\n00:05:50.160 --> 00:05:50.920\nAnd click Save.\n\n117\n00:05:52.130 --> 00:05:53.560\nAnd make sure I click Apply.\n\n118\n00:05:53.560 --> 00:05:56.640\nThat way, both sides get what we need.\n\n119\n00:05:56.640 --> 00:06:00.110\nSo phase one and\nphase two negotiation is completely done.\n\n120\n00:06:01.290 --> 00:06:03.840\nNow that's where I normally mess up.\n\n121\n00:06:03.840 --> 00:06:05.940\nRight, I think okay,\nnow we should be able to connect, and\n\n122\n00:06:05.940 --> 00:06:07.670\nwe should be able to do everything.\n\n123\n00:06:07.670 --> 00:06:11.970\nBut remember that we don't\nactually have the connection for\n\n124\n00:06:11.970 --> 00:06:15.310\ntraffic to come back\ninto the Bravo network.\n\n125\n00:06:15.310 --> 00:06:21.155\nSo I need to go to the firewall rules,\nI'll select Firewall and Rules.\n\n126\n00:06:21.155 --> 00:06:28.109\nAnd then I'm looking for the IPsec\ninterface here and this is what we want.\n\n127\n00:06:28.109 --> 00:06:33.680\nNow I had actually preconfigured this\nbefore so you'll actually see it here.\n\n128\n00:06:33.680 --> 00:06:35.190\nHere it is, the source for\n\n129\n00:06:35.190 --> 00:06:39.740\nthat remote network to come back\ninto my LAN network at this point.\n\n130\n00:06:39.740 --> 00:06:42.507\nAnd I allow it for any port, any protocol.\n\n131\n00:06:42.507 --> 00:06:46.701\nYou can see the little asterisk over here\nsaying any protocol that's out there and\n\n132\n00:06:46.701 --> 00:06:47.625\nallow to come in.\n\n133\n00:06:47.625 --> 00:06:50.065\nPasses Bravo traffic through IPsec.\n\n134\n00:06:50.065 --> 00:06:54.920\nThis should say Alpha traffic,\nis what it should say for us.\n\n135\n00:06:54.920 --> 00:06:59.020\nSo that one I just kind of copied\na little bit earlier here.\n\n136\n00:06:59.020 --> 00:07:02.490\nSo this should actually allow for\nAlpha traffic to come into Bravo.\n\n137\n00:07:03.870 --> 00:07:07.440\nSo the way that we have it without\nthis is that on the other side,\n\n138\n00:07:07.440 --> 00:07:12.090\nI had configured it for Bravo traffic\nto go into the 10.1.1.10 network.\n\n139\n00:07:12.090 --> 00:07:16.110\nBut now if traffic is coming back, this is\nwhat also needs to be in place here too.\n\n140\n00:07:17.370 --> 00:07:20.400\nSo now I setup the firewall rules.\n\n141\n00:07:20.400 --> 00:07:23.661\nAnd once we're done there,\nonce again, if you jump the gun,\n\n142\n00:07:23.661 --> 00:07:25.186\nyou're not gonna be ready.\n\n143\n00:07:25.186 --> 00:07:29.266\nWhich means you have to go to System,\nand then under System,\n\n144\n00:07:29.266 --> 00:07:33.260\nselect Routing, and\nwe have to establish a new gateway.\n\n145\n00:07:33.260 --> 00:07:37.402\nWe want to establish a gateway over to\nthe Alpha network, is what we want to do.\n\n146\n00:07:37.402 --> 00:07:40.837\nSo over on the right hand side,\nI click Add.\n\n147\n00:07:40.837 --> 00:07:45.714\nAnd this time on that interface I make\nsure I choose the WAN interface and\n\n148\n00:07:45.714 --> 00:07:46.456\nthe name.\n\n149\n00:07:46.456 --> 00:07:53.117\nAnd this is gonna be Gateway to Alpha.\n\n150\n00:07:53.117 --> 00:07:58.641\nAnd now on the gateway IP address\nthis is gonna be my default gateway.\n\n151\n00:07:58.641 --> 00:08:03.453\nWhich I hope is actually 192.168.1.1 here.\n\n152\n00:08:03.453 --> 00:08:05.770\nThis will select the above\nas default gateway.\n\n153\n00:08:05.770 --> 00:08:07.358\nI'm not gonna worry about that one.\n\n154\n00:08:07.358 --> 00:08:09.940\nAnd there are actually a couple of\nother things which I didn't really\n\n155\n00:08:09.940 --> 00:08:11.660\npoint out on the other side.\n\n156\n00:08:11.660 --> 00:08:15.898\nThere is also this idea of\nthe monitoring IP as well.\n\n157\n00:08:15.898 --> 00:08:19.607\nThat allows you to make sure\nthat once again it monitors and\n\n158\n00:08:19.607 --> 00:08:24.385\nverifies that the connection is up and\nthen we also have this description.\n\n159\n00:08:24.385 --> 00:08:32.529\nGateway To Alpha LAN,\n\n160\n00:08:32.529 --> 00:08:36.063\nall right.\n\n161\n00:08:38.740 --> 00:08:44.272\nAnd there are other advanced options down\nhere, I didn't mess with any of this.\n\n162\n00:08:44.272 --> 00:08:46.932\nSo I'm not gonna worry\nabout doing it right now.\n\n163\n00:08:46.932 --> 00:08:49.938\nAnd it says, does not lie within\none of the chosen interfaces.\n\n164\n00:08:49.938 --> 00:08:52.436\nThat's because this has to be\nLAN if I'm gonna chose that one.\n\n165\n00:08:52.436 --> 00:08:55.475\nThat's what I had forgotten here,\nit has to be the LAN interface and\n\n166\n00:08:55.475 --> 00:08:57.300\nnot the WAN interface for this gateway.\n\n167\n00:08:57.300 --> 00:09:01.912\nBecause remember, traffic leaving your\nnetwork going across the IPsec tunnel.\n\n168\n00:09:01.912 --> 00:09:08.129\nHas to go into your default gateway to get\nto the IPsec interface that we created.\n\n169\n00:09:08.129 --> 00:09:10.445\nLet me click Apply Changes.\n\n170\n00:09:10.445 --> 00:09:14.281\nAnd now we wait, and\nwe have everything up and going here.\n\n171\n00:09:14.281 --> 00:09:16.099\nSo there's a couple of\ndifferent ways here.\n\n172\n00:09:16.099 --> 00:09:20.736\nSo if, okay, if I've selected everything\ncorrectly, and that's a big if here.\n\n173\n00:09:20.736 --> 00:09:24.248\nCuz a lot of times I may\nnot be able to do this.\n\n174\n00:09:24.248 --> 00:09:27.539\nBut at this point,\nif we actually have set up everything,\n\n175\n00:09:27.539 --> 00:09:31.030\nthen that means that a tunnel\nis now being established.\n\n176\n00:09:31.030 --> 00:09:33.440\nBut before it can be established,\n\n177\n00:09:33.440 --> 00:09:38.274\ntraffic has to essentially be\ninteresting to negotiate the tunnel.\n\n178\n00:09:38.274 --> 00:09:41.994\nSo I'm gonna go back over\nhere to my Client01 and\n\n179\n00:09:41.994 --> 00:09:45.461\nsee if I can actually\nping the other side here.\n\n180\n00:09:45.461 --> 00:09:49.070\nAnd if I can't, well then I know that it\nmight not actually be kind of established\n\n181\n00:09:49.070 --> 00:09:50.093\nthe way that I want to.\n\n182\n00:09:50.093 --> 00:09:53.664\nBut notice I am now getting\na reply through, okay?\n\n183\n00:09:53.664 --> 00:09:56.205\nSo I got those four pings coming through.\n\n184\n00:09:56.205 --> 00:09:59.220\nHow do I know that it's is\ngoing through the tunnel?\n\n185\n00:09:59.220 --> 00:10:01.269\nHow do I verify that it's actually up?\n\n186\n00:10:01.269 --> 00:10:04.943\nWell the great thing is they have a couple\nof different tools available to us.\n\n187\n00:10:04.943 --> 00:10:08.706\nAnd what we're gonna do is we're gonna\ncheck on this status up here at the top.\n\n188\n00:10:08.706 --> 00:10:10.579\nIf I click on Status and\n\n189\n00:10:10.579 --> 00:10:16.430\nthen I scroll down here to where\nit says IPsec I can now select it.\n\n190\n00:10:16.430 --> 00:10:18.790\nAnd this is what you're looking for.\n\n191\n00:10:18.790 --> 00:10:24.327\nTo the Bravo site, the local IP\naddress to the remote IP address,\n\n192\n00:10:24.327 --> 00:10:27.159\nIKE version 2 as the initiator.\n\n193\n00:10:27.159 --> 00:10:30.040\nAnd notice this is actually\ngonna re-authenticate\n\n194\n00:10:30.040 --> 00:10:33.644\nagain with that pre-shared key\nin about 2000 seconds or so.\n\n195\n00:10:33.644 --> 00:10:37.204\n[LAUGH] And\nthe algorithms that we chose to use and\n\n196\n00:10:37.204 --> 00:10:40.854\nthe key is right here,\nwhich says ESTABLISHED.\n\n197\n00:10:40.854 --> 00:10:43.083\n&gt;&gt; 51 seconds.\n&gt;&gt; So if everything is established and\n\n198\n00:10:43.083 --> 00:10:47.615\nup and going, now we have this IPsec\ntunnel between those two different sites.\n\n199\n00:10:47.615 --> 00:10:48.421\n&gt;&gt; Good job, [LAUGH].\n\n200\n00:10:48.421 --> 00:10:49.184\n&gt;&gt; Yeah.\n\n201\n00:10:49.184 --> 00:10:52.260\n[LAUGH] Yeah, I was like,\nwow, great, glad it worked.\n\n202\n00:10:52.260 --> 00:10:54.690\nAnd I really am, I'm glad it worked.\n\n203\n00:10:54.690 --> 00:10:57.370\nNormally if there's anything that's wrong,\nright?\n\n204\n00:10:57.370 --> 00:10:59.890\nEither you're like me, you jump the gun,\nyou set up phase one and\n\n205\n00:10:59.890 --> 00:11:01.800\nphase two and go, done.\n\n206\n00:11:01.800 --> 00:11:02.890\nI should be ready to go.\n\n207\n00:11:02.890 --> 00:11:05.949\nWell you forget,\nyou still have firewall rules blocking.\n\n208\n00:11:05.949 --> 00:11:09.574\nAnd even if you do that,\nthe default behavior of pfSense, right,\n\n209\n00:11:09.574 --> 00:11:12.507\nas you send information out\nof your default gateway.\n\n210\n00:11:12.507 --> 00:11:15.737\nIt's gonna use whatever the gateway\nnormally is established.\n\n211\n00:11:15.737 --> 00:11:19.246\nSo you also have to set up\nthat gateway that says, no,\n\n212\n00:11:19.246 --> 00:11:22.980\nthis is IPsec traffic,\nuse this gateway instead.\n\n213\n00:11:22.980 --> 00:11:27.519\nSo there's a bunch of stuff that has to be\ndone if you're gonna do this with pfSense.\n\n214\n00:11:27.519 --> 00:11:33.455\nNow, I know because I've set up\nIPsec tunnels on Cisco ASAs before.\n\n215\n00:11:33.455 --> 00:11:35.650\nAnd it is a little bit easier.\n\n216\n00:11:35.650 --> 00:11:40.640\nBut it's still confusing because\nthe language is always confusing as well.\n\n217\n00:11:40.640 --> 00:11:42.910\nSo it's not that it can't be done.\n\n218\n00:11:42.910 --> 00:11:45.710\nNow you do have to actually know one\nparticular caveat that I need to\n\n219\n00:11:45.710 --> 00:11:47.100\nthrow in here.\n\n220\n00:11:47.100 --> 00:11:51.475\nYou might be saying, well let me\nestablish this along with open VPN and\n\n221\n00:11:51.475 --> 00:11:53.117\nsee which one's better.\n\n222\n00:11:53.117 --> 00:11:58.413\nEven though technically they can run on\nthe same firewall at this exact same time.\n\n223\n00:11:58.413 --> 00:12:01.968\nThey don't work very well when you\nactually have them both on at the exact\n\n224\n00:12:01.968 --> 00:12:02.562\nsame time.\n\n225\n00:12:02.562 --> 00:12:06.515\nSo it's designed to really be able to,\nbut it really doesn't,\n\n226\n00:12:06.515 --> 00:12:09.089\nits implementation in terms of pfSense.\n\n227\n00:12:09.089 --> 00:12:12.941\nYou may find that it will work sometimes\nand it doesn't work at other times.\n\n228\n00:12:12.941 --> 00:12:17.707\nI know that I've done this in the past\nwhere I've established OpenVPN site to\n\n229\n00:12:17.707 --> 00:12:19.994\nsites with another company before.\n\n230\n00:12:19.994 --> 00:12:23.791\nAnd then with another company I said I'm\ngonna use the IPsec tunnel because they\n\n231\n00:12:23.791 --> 00:12:25.299\nalready had it on the other side.\n\n232\n00:12:25.299 --> 00:12:28.880\nI didn't want to reconfigure\ntheirs to do OpenVPN.\n\n233\n00:12:28.880 --> 00:12:31.417\nActually, I couldn't even do OpenVPN\non their side because they were\n\n234\n00:12:31.417 --> 00:12:32.510\nusing a Cisco ASA.\n\n235\n00:12:32.510 --> 00:12:34.300\nSo I just used the IPsec tunnel.\n\n236\n00:12:34.300 --> 00:12:37.276\nAnd I found out something,\nthat IPsec tunnel would drop or\n\n237\n00:12:37.276 --> 00:12:39.107\nwould not come back on for minutes.\n\n238\n00:12:39.107 --> 00:12:40.177\nAnd then you'd have to go and\n\n239\n00:12:40.177 --> 00:12:41.185\nreestablish it-\n&gt;&gt; Interesting.\n\n240\n00:12:41.185 --> 00:12:41.930\n&gt;&gt; And do everything.\n\n241\n00:12:41.930 --> 00:12:45.421\nSo once you actually read a little\nbit more on the pfSense forums,\n\n242\n00:12:45.421 --> 00:12:49.374\nyou find out that it really doesn't\nlike playing well with the other one.\n\n243\n00:12:49.374 --> 00:12:51.320\nSo pick one or the other.\n\n244\n00:12:51.320 --> 00:12:52.750\nBut at this point,\n\n245\n00:12:52.750 --> 00:12:57.280\nthis will at least get you started\nwith IPsec site-to-site tunnels.\n\n246\n00:12:57.280 --> 00:12:59.940\nAnd hopefully that will actually\nallow you to just test it out and\n\n247\n00:12:59.940 --> 00:13:01.350\nsee what you need to do.\n\n248\n00:13:01.350 --> 00:13:04.294\n&gt;&gt; Well thank you for showing us\nthis complete configuration, Ronnie.\n\n249\n00:13:04.294 --> 00:13:07.768\nAnd like you just had mentioned\nthe IPsec open site to site,\n\n250\n00:13:07.768 --> 00:13:11.186\nsomething that we might wanna\ntake a look at in the future.\n\n251\n00:13:11.186 --> 00:13:13.775\nPerhaps the next episode,\nso don't go anywhere.\n\n252\n00:13:13.775 --> 00:13:14.466\nGet comfortable.\n\n253\n00:13:14.466 --> 00:13:15.137\nStay tuned.\n\n254\n00:13:15.137 --> 00:13:18.855\nWe have some more great pfSense\ninformation headed your way.\n\n255\n00:13:18.855 --> 00:13:21.551\nBut we're gonna go ahead and\nwrap up for this episode, and\n\n256\n00:13:21.551 --> 00:13:23.930\nI'll sign off as your show host,\nCherokee Boose.\n\n257\n00:13:23.930 --> 00:13:24.925\n&gt;&gt; And I'm Ronnie Wong.\n\n258\n00:13:24.925 --> 00:13:28.084\n&gt;&gt; See you next time here at ITProTV.\n\n259\n00:13:28.084 --> 00:13:34.041\n[MUSIC]\n\n260\n00:13:34.041 --> 00:13:37.313\nThank you for watching ITProTV.\n\n",
          "vimeoId": "198345107"
        },
        {
          "description": "In this episode, Daniel and Ronnie take you through setting up a site-to-site\nVPN connection using pfSense and OpenVPN.",
          "length": "2056",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-2-setup_site_to_site_openvpn-010517-high.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-2-setup_site_to_site_openvpn-010517-high-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-2-setup_site_to_site_openvpn-010517-high-sm.jpg",
          "title": "Setup Site-to-Site OpenVPN",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.304\nWelcome to ITProTV.\n\n2\n00:00:01.304 --> 00:00:08.510\nI'm your host, Don [CROSSTALK]\n\n3\n00:00:08.510 --> 00:00:12.288\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.288 --> 00:00:14.163\n&gt;&gt; All right, greetings everyone, and\n\n5\n00:00:14.163 --> 00:00:16.454\nwelcome to another great\nepisode of ITProTV.\n\n6\n00:00:16.454 --> 00:00:19.842\nI'm your host, Daniel Lowrie,\nand in today's episode,\n\n7\n00:00:19.842 --> 00:00:23.590\nwe are tackling the good old\npfSense Version 2.3.2 series.\n\n8\n00:00:23.590 --> 00:00:26.050\nAnd of course joining us\nback in our mentor for\n\n9\n00:00:26.050 --> 00:00:28.630\nthat very series,\nour good friend Mr. Ronnie Wong.\n\n10\n00:00:28.630 --> 00:00:30.370\nRonnie welcome back and\nhow is it going today?\n\n11\n00:00:30.370 --> 00:00:34.780\n&gt;&gt; It's going great thank you for having\nme back on the show as we continue on to\n\n12\n00:00:34.780 --> 00:00:38.569\nlearn more about what pf sense can\nreally help us to be able to do.\n\n13\n00:00:38.569 --> 00:00:43.138\nNow in previous episodes, we already\nshowed you how to set up an IPsectunal\n\n14\n00:00:43.138 --> 00:00:47.706\nthat allows you to connect your pfSense\nbox just about with any other type of\n\n15\n00:00:47.706 --> 00:00:52.690\nservers that are out there that will\nallow you create AVPN connection.\n\n16\n00:00:52.690 --> 00:00:57.390\nSo that's actually one of the key things\nthat pfSense is actually great at doing\n\n17\n00:00:57.390 --> 00:01:00.660\nis giving you options so\nthat you can connect to how you need to.\n\n18\n00:01:00.660 --> 00:01:05.070\nEspecially to something like\nthe idea of VPN tunnels, right?\n\n19\n00:01:05.070 --> 00:01:08.370\nWe talked, of course,\nabout benefits of using IP sect, but\n\n20\n00:01:08.370 --> 00:01:11.070\nwe also talked about some of\nlimitations that you'll find\n\n21\n00:01:11.070 --> 00:01:14.530\nwith some of the other hardware vendors,\nsuch as Cisco ASA.\n\n22\n00:01:14.530 --> 00:01:17.530\nRealizing that you may actually have\na limitation just do to licensing\n\n23\n00:01:17.530 --> 00:01:19.220\nmore than anything else.\n\n24\n00:01:19.220 --> 00:01:21.890\nAnd once you run out licensing,\nit means they kind of bump you up and\n\n25\n00:01:21.890 --> 00:01:23.312\nI need you to pay more money.\n\n26\n00:01:23.312 --> 00:01:27.070\nWith pfSense just about everything\nthat's actually involved in there,\n\n27\n00:01:27.070 --> 00:01:29.920\nis 100% free which is kind of\nthe biggest benefit as well.\n\n28\n00:01:29.920 --> 00:01:30.740\n&gt;&gt; It's a good price.\n\n29\n00:01:30.740 --> 00:01:32.090\n&gt;&gt; It is a great price, isn't it?\n\n30\n00:01:32.090 --> 00:01:35.610\nAnd it also is the reason\nwhy started using DPMs too.\n\n31\n00:01:35.610 --> 00:01:39.420\nSo we did emphasized that in the last\nshow, is that VPNs really are a cheaper\n\n32\n00:01:39.420 --> 00:01:43.250\nsolution at implementing of course\nthe idea of a privately leased line or\n\n33\n00:01:43.250 --> 00:01:44.740\nanything else like that.\n\n34\n00:01:44.740 --> 00:01:45.470\nNow today though,\n\n35\n00:01:45.470 --> 00:01:51.320\nwe want to also go into this area where\nwe're now talking about what was really\n\n36\n00:01:51.320 --> 00:01:57.250\nkind of the primary VPN connection\nthat pfSense really like to make.\n\n37\n00:01:57.250 --> 00:02:00.050\nAnd the reason why,\nis cuz it's fairly easy to configure.\n\n38\n00:02:00.050 --> 00:02:04.550\nIt doesn't take a lot, and to have a very\nnice GUI interface that allows you to\n\n39\n00:02:04.550 --> 00:02:08.840\nconfigure it without having to really\nlearn a lot of other things behind it.\n\n40\n00:02:08.840 --> 00:02:12.150\nNot only can you do this of course with\nsite-to-site connections, but we can also\n\n41\n00:02:12.150 --> 00:02:16.150\ncreate what we call a remote access VPN,\nand we'll do that in another show.\n\n42\n00:02:16.150 --> 00:02:18.470\nBut for this one, we want to go ahead and\n\n43\n00:02:18.470 --> 00:02:21.900\njust establish that site\nVPN tunnel connection.\n\n44\n00:02:21.900 --> 00:02:27.590\nNow just in the same purpose, the reason\nwe implemented an IPsec VPN is the same\n\n45\n00:02:27.590 --> 00:02:32.460\nreason why we might implement\nan open VPN connection instead.\n\n46\n00:02:32.460 --> 00:02:37.100\nAnd if you have two pfSense firewalls,\nthis is by far, the easiest one For\n\n47\n00:02:37.100 --> 00:02:41.490\nyou to implement with having to kind\nof configure a ton of other things.\n\n48\n00:02:41.490 --> 00:02:43.500\nAnd it's really built right\ninto the PF sense and\n\n49\n00:02:43.500 --> 00:02:46.320\nit's kind of the one you\nnormally are going to set up.\n\n50\n00:02:46.320 --> 00:02:49.530\nSo before we actually start\ntalking about that, right.\n\n51\n00:02:49.530 --> 00:02:54.090\nSo the key here is when we set up a site\nto site VPN, most of the time we think\n\n52\n00:02:54.090 --> 00:02:58.560\nabout a single connection in terms of\njust a point to point connection, right?\n\n53\n00:02:58.560 --> 00:03:03.150\nWe create a VPN tunnel between one side\nand between another side a branch office\n\n54\n00:03:03.150 --> 00:03:05.710\nand then we have another one we\nactually create another one there and\n\n55\n00:03:05.710 --> 00:03:06.510\nwe create another one there.\n\n56\n00:03:06.510 --> 00:03:10.530\nAnd that tends to create\nmultiple networks all together\n\n57\n00:03:10.530 --> 00:03:14.220\nin terms of the VPN connection going\nback to maybe a central network such as\n\n58\n00:03:14.220 --> 00:03:15.970\nheadquarters office to do so.\n\n59\n00:03:15.970 --> 00:03:17.460\nSo you might end up with 30 or\n\n60\n00:03:17.460 --> 00:03:22.200\n40 different VPN connections\non each one of those tunnels.\n\n61\n00:03:22.200 --> 00:03:27.920\nBut OpenVPN can also allow you to\ncreate one gigantic VPN network and\n\n62\n00:03:27.920 --> 00:03:29.590\nallow all of them to connect.\n\n63\n00:03:29.590 --> 00:03:33.960\nEven though it's kind of in a client or\na hub and spoke network.\n\n64\n00:03:33.960 --> 00:03:35.160\nCan't remember what I'm trying here.\n\n65\n00:03:35.160 --> 00:03:36.070\n&gt;&gt; [LAUGH]\n&gt;&gt; Hub and spoke network,\n\n66\n00:03:36.070 --> 00:03:39.400\neven though it's that way, it does allow\nyou to create that if you need it.\n\n67\n00:03:39.400 --> 00:03:42.570\nSo you can actually have one site\nthat you call your server and\n\n68\n00:03:42.570 --> 00:03:45.380\neverybody else that\nconnects in is called a.\n\n69\n00:03:45.380 --> 00:03:49.400\nWe're gonna implement this side to site\nand that way show you how to do this.\n\n70\n00:03:49.400 --> 00:03:53.150\nSo let's go ahead and take a look at\nwhat we need to do to get this set up.\n\n71\n00:03:53.150 --> 00:03:57.600\nSo I'm going to be using my\nalpha pfSense server right here.\n\n72\n00:03:57.600 --> 00:04:00.490\nSo this one as being my server.\n\n73\n00:04:00.490 --> 00:04:06.790\nSo the server is going to be in control of\nthis site to site connection for open VPN.\n\n74\n00:04:06.790 --> 00:04:09.100\nNow because I want to establish this and\n\n75\n00:04:09.100 --> 00:04:13.470\nmake it permanent, I'm not gonna use\na pre shared key, even though I can.\n\n76\n00:04:13.470 --> 00:04:16.890\nWe instead are gonna use\ncertificates to help us out.\n\n77\n00:04:16.890 --> 00:04:21.680\nSo you can have an external\ncertificate that you go and\n\n78\n00:04:21.680 --> 00:04:24.050\npurchase from Verisign, or whatever it is.\n\n79\n00:04:24.050 --> 00:04:25.430\nAnd you can implement it right in.\n\n80\n00:04:25.430 --> 00:04:28.990\nAnd when you do so,\nyou go to System &gt; Cert Manager.\n\n81\n00:04:28.990 --> 00:04:33.620\nAnd then, in your CA over here for\nyour certificate authority, you can go and\n\n82\n00:04:33.620 --> 00:04:37.270\nadd one in, and\nimport it if you wanted to.\n\n83\n00:04:37.270 --> 00:04:40.330\nSuch as Importing\nan Existing Certificate Authority.\n\n84\n00:04:40.330 --> 00:04:45.480\nNow I didn't do that, so\nlet me get that out of the way here.\n\n85\n00:04:45.480 --> 00:04:46.510\nAnd I just created my own.\n\n86\n00:04:46.510 --> 00:04:49.590\nAnd that's another thing that\nthe box can help you to do,\n\n87\n00:04:49.590 --> 00:04:52.690\nwhich is to create your\nown certificate authority.\n\n88\n00:04:52.690 --> 00:04:56.410\nNow to learn more about that, that's not\ngonna actually be the purpose of our show\n\n89\n00:04:56.410 --> 00:04:59.630\nright here, but there are features\nin there that you can turn on and\n\n90\n00:04:59.630 --> 00:05:01.610\nyou can create your own\ncertificate authority.\n\n91\n00:05:01.610 --> 00:05:05.570\nSo here is essentially the root\ncertificate that I have.\n\n92\n00:05:05.570 --> 00:05:08.500\nThe other thing that I need to create are,\nof course then,\n\n93\n00:05:08.500 --> 00:05:11.850\ncertificates that are going to be used,\nokay?\n\n94\n00:05:11.850 --> 00:05:14.470\nThe first one that you see right\nhere is the web configurator.\n\n95\n00:05:14.470 --> 00:05:18.710\nThis is how you connect in the course\nusing the graphical user interface that we\n\n96\n00:05:18.710 --> 00:05:20.730\nhave right here in the web interface.\n\n97\n00:05:20.730 --> 00:05:25.480\nSo this allows us to be able to\ndo this and connect in with SSL.\n\n98\n00:05:25.480 --> 00:05:30.570\nBut then I need to create a server\ncertificate that's going to be signing For\n\n99\n00:05:30.570 --> 00:05:33.310\nthe open VPN server, okay?\n\n100\n00:05:33.310 --> 00:05:36.490\nSo that is just first one, right here.\n\n101\n00:05:36.490 --> 00:05:41.580\nAnd then for all the other sites that\nare gonna be connecting to me, I wanted\n\n102\n00:05:41.580 --> 00:05:45.428\nto put in on the South because normally I\njust kinda skip this and do the open VPN.\n\n103\n00:05:45.428 --> 00:05:48.060\nBut if you're gonna do this on your own,\n\n104\n00:05:48.060 --> 00:05:52.850\neverybody does connecting to you if you\nare actually running the VPN server side.\n\n105\n00:05:52.850 --> 00:05:56.640\nYou wanna create a user\ncertificate instead.\n\n106\n00:05:56.640 --> 00:05:59.750\nSo notice that there is a server\ncertificate, this is gonna be for\n\n107\n00:05:59.750 --> 00:06:04.770\nyour VPN server and the other side\nis gonna be your VPN client and\n\n108\n00:06:04.770 --> 00:06:08.850\nthey will get user certificates\nthat you will create right here.\n\n109\n00:06:08.850 --> 00:06:12.080\n&gt;&gt; So do you have to create\na different user certificate for\n\n110\n00:06:12.080 --> 00:06:14.470\neach user or\nis it one that they all share?\n\n111\n00:06:14.470 --> 00:06:16.630\n&gt;&gt; No you'll actually create\na different one for each site, so\n\n112\n00:06:16.630 --> 00:06:21.300\nif you had a site in Miami, and we had one\nin London, and we had one in Jacksonville,\n\n113\n00:06:21.300 --> 00:06:23.650\nand they were all connecting\nback here in Gainesville.\n\n114\n00:06:23.650 --> 00:06:26.900\nEach one you would create\ntheir own certificate, and\n\n115\n00:06:26.900 --> 00:06:30.390\nI just gave it a common\nname here of Bravo-pfSense.\n\n116\n00:06:30.390 --> 00:06:34.220\nThat way I could keep track\nof what I was doing, okay?\n\n117\n00:06:34.220 --> 00:06:35.910\nNow once you have those certificates,\n\n118\n00:06:35.910 --> 00:06:40.830\nthis is where we begin the real process\nof creating the open VPN server.\n\n119\n00:06:40.830 --> 00:06:44.450\nAnd then we'll also create the other side,\nthe client side connection to show you.\n\n120\n00:06:44.450 --> 00:06:48.850\nNow what the great thing is,\nwhat I told you is actual reality here.\n\n121\n00:06:48.850 --> 00:06:53.440\nThis is not the hard part of it, but\nit is a part you have to include in or\n\n122\n00:06:53.440 --> 00:06:55.180\nit's going to fail, okay?\n\n123\n00:06:55.180 --> 00:07:00.230\nSo once you get that external\ncertificate imported in your CA.\n\n124\n00:07:00.230 --> 00:07:03.180\nYou come here to this certificates tab,\nand you go ahead and\n\n125\n00:07:03.180 --> 00:07:04.590\nyou add a new certificate.\n\n126\n00:07:04.590 --> 00:07:07.830\nAnd you go, here is the certificate\nwe're gonna use to do that, and\n\n127\n00:07:07.830 --> 00:07:11.890\njust add one in for yourself, as\na server certificate, and add one in for\n\n128\n00:07:11.890 --> 00:07:15.010\neverybody else that's connecting\nin as your user certificates too.\n\n129\n00:07:15.010 --> 00:07:17.480\nAll right, so the great thing is,\n\n130\n00:07:17.480 --> 00:07:22.690\nonce we've got that setup That means we\ncan go up here onto the top menu bar, and\n\n131\n00:07:22.690 --> 00:07:24.880\nnotice there's, of course,\na selection here for VPN.\n\n132\n00:07:24.880 --> 00:07:30.290\nIf I click, I'm now actually setting up\nthe OpenVPN as what we're going to do.\n\n133\n00:07:31.420 --> 00:07:34.650\nNow, we are gonna pay attention to some\nof these different options that we\n\n134\n00:07:34.650 --> 00:07:35.290\nhave available.\n\n135\n00:07:35.290 --> 00:07:39.910\nSpecifically, when we start setting up\nthe server, it's gonna be the Server tab.\n\n136\n00:07:39.910 --> 00:07:43.780\nAnd also this client specific\noverride tab as well.\n\n137\n00:07:43.780 --> 00:07:46.440\nSo I wanna point both of those out to us,\n\n138\n00:07:46.440 --> 00:07:49.020\nbecause it's important that\nwe actually configure both.\n\n139\n00:07:49.020 --> 00:07:51.010\nIf you leave one off, it may not work.\n\n140\n00:07:52.050 --> 00:07:54.184\nSometimes you can get it to work,\nokay, but\n\n141\n00:07:54.184 --> 00:07:58.358\nthen when somebody else tries to connect\nin, especially if you have multiple sites.\n\n142\n00:07:58.358 --> 00:08:00.797\nIs not gonna work as well as you think.\n\n143\n00:08:00.797 --> 00:08:05.204\nSo make sure you don't just go I'm not\ngonna worry about this client side\n\n144\n00:08:05.204 --> 00:08:05.960\noverride.\n\n145\n00:08:05.960 --> 00:08:08.840\nYou actually want to make\nsure you worry about this.\n\n146\n00:08:08.840 --> 00:08:11.270\n&gt;&gt; Just too inconsistent for\nyou to wanna do it that way.\n\n147\n00:08:11.270 --> 00:08:11.845\n&gt;&gt; Right.\n&gt;&gt; Right.\n\n148\n00:08:11.845 --> 00:08:14.380\n&gt;&gt; Yeah, so let's go ahead and\nsetup this server, all right?\n\n149\n00:08:14.380 --> 00:08:16.922\nSo the great thing is, fairly easy,\nlike we said, intuitive.\n\n150\n00:08:16.922 --> 00:08:21.840\nOver on the right hand side we're\ngonna click on this green Add sign.\n\n151\n00:08:21.840 --> 00:08:26.320\nAnd now, we start looking at some of\nthe information we want to configure.\n\n152\n00:08:26.320 --> 00:08:28.470\nNow, the great thing is,\nmost of them are drop downs,\n\n153\n00:08:28.470 --> 00:08:30.630\nwhich means I don't have\nto do a ton of typing.\n\n154\n00:08:30.630 --> 00:08:35.520\nThere is some typing we do have to kind\nof make sure that we do get in there.\n\n155\n00:08:35.520 --> 00:08:38.470\nBut overall, though,\nI need to select the server mode.\n\n156\n00:08:38.470 --> 00:08:41.080\nAnd look at all the options that you have.\n\n157\n00:08:41.080 --> 00:08:44.610\nIf I wanna do a peer-to-peer with\na shared key, that can be done.\n\n158\n00:08:44.610 --> 00:08:47.480\nSo if you didn't wanna set up\na certificate authority and\n\n159\n00:08:47.480 --> 00:08:50.880\nyou just wanted to come up with your\nown pre-shared key, that's fine.\n\n160\n00:08:50.880 --> 00:08:54.930\nBut remember, passwords are kind\nof considered today the weakness\n\n161\n00:08:54.930 --> 00:08:59.610\nin terms of the chain of security that\nyou would actually have in place.\n\n162\n00:08:59.610 --> 00:09:04.210\nSo, we're gonna use the SSL/TLS here for\nPeer to Peer or\n\n163\n00:09:04.210 --> 00:09:05.915\nthe site to site connections.\n\n164\n00:09:05.915 --> 00:09:09.280\nNow, in remote access, you actually see\nwhere they make it much stronger, and\n\n165\n00:09:09.280 --> 00:09:11.270\nwe'll talk about this just briefly.\n\n166\n00:09:11.270 --> 00:09:13.990\nWe can either do just a password,\nor we can use a certificate, or\n\n167\n00:09:13.990 --> 00:09:15.530\nwe can use a combination.\n\n168\n00:09:15.530 --> 00:09:18.620\nAnd it's almost multi-factor\nat this point to do this for\n\n169\n00:09:18.620 --> 00:09:21.150\njust remote access if you're\nconnecting it with laptop,\n\n170\n00:09:21.150 --> 00:09:23.880\nsuch as you're sitting at Starbucks or\nsomeplace else, okay?\n\n171\n00:09:24.910 --> 00:09:27.600\nThe type of connection that\nwe're also doing is gonna be\n\n172\n00:09:27.600 --> 00:09:30.110\na tunnel mode connection for this one.\n\n173\n00:09:30.110 --> 00:09:33.920\nThey do give you the ability\nto do tap as well.\n\n174\n00:09:33.920 --> 00:09:38.670\nIf you have, and probably not for the idea\nof site-to-site, but on the remote access\n\n175\n00:09:38.670 --> 00:09:42.690\nhere, if you wanted things like your\nsmartphone to connect in and stuff like\n\n176\n00:09:42.690 --> 00:09:47.570\nthat, you actually use tap instead\na lot of times and that's what you do.\n\n177\n00:09:47.570 --> 00:09:51.990\nThe connection that we're gonna make\nis gonna be on the WAN interface.\n\n178\n00:09:51.990 --> 00:09:55.890\nAnd now, we need to choose a port that\nwe want people to connect in with.\n\n179\n00:09:55.890 --> 00:09:58.238\nThe default is 1194.\n\n180\n00:09:58.238 --> 00:10:02.650\nI'm gonna leave that one for\nmy remote access instead.\n\n181\n00:10:02.650 --> 00:10:07.530\nSo if I have 15 or 20 business users\nthat are traveling all the time and\n\n182\n00:10:07.530 --> 00:10:11.230\nI want them to connect back in,\nI want them to connect in on port 1194.\n\n183\n00:10:11.230 --> 00:10:12.800\nThat's just the default and I know that.\n\n184\n00:10:12.800 --> 00:10:16.300\nAnd that's the one I've always\nused in real production as well.\n\n185\n00:10:16.300 --> 00:10:19.240\nSo I'm gonna leave that one cuz\nthat just in my mind sets up.\n\n186\n00:10:19.240 --> 00:10:22.150\nNow you can make it whatever\nnumber that you want to, but\n\n187\n00:10:22.150 --> 00:10:23.430\nI tend to leave it this way.\n\n188\n00:10:23.430 --> 00:10:27.335\nSo I'm gonna start off my site\nto site with the idea of 1201.\n\n189\n00:10:27.335 --> 00:10:31.410\nAnd just for some reason that's\nthe way I like to do it.\n\n190\n00:10:31.410 --> 00:10:35.190\nAnd then, my next site would be 1202,\n1203, 1204.\n\n191\n00:10:35.190 --> 00:10:37.220\nAnd so if I look at the port numbers,\nright,\n\n192\n00:10:37.220 --> 00:10:41.320\nthrough my firewall, I know it's on port\n1204, I know that I'm only dealing with\n\n193\n00:10:41.320 --> 00:10:44.740\nthat connection if I have issues\nthat I have to worry about.\n\n194\n00:10:44.740 --> 00:10:49.130\nOn the description here, I'm gonna select\nthe one that I had previously entered in,\n\n195\n00:10:49.130 --> 00:10:53.170\nwhich is Alpha-ITProTVDemo OpenVPN Server.\n\n196\n00:10:53.170 --> 00:10:56.530\nIt really does help when you're\nlooking at this in the summary view of\n\n197\n00:10:56.530 --> 00:11:00.280\nwhat this is describing, so that way you\ndon't have to keep opening up every single\n\n198\n00:11:00.280 --> 00:11:02.540\nconfiguration, that's what that means,\nokay?\n\n199\n00:11:04.212 --> 00:11:06.040\nAll right,\nlet me scroll out just a little bit so\n\n200\n00:11:06.040 --> 00:11:08.530\nI can actually make some\nconfigurations here.\n\n201\n00:11:08.530 --> 00:11:13.280\nThese two on the very first time\nyou're gonna leave this checked cuz\n\n202\n00:11:13.280 --> 00:11:15.890\nthis is where it does get\na little bit confusing.\n\n203\n00:11:15.890 --> 00:11:21.520\nThis automatically generate a shared\nTLS connection or authentication key,\n\n204\n00:11:21.520 --> 00:11:27.370\nyou're gonna need this, you're gonna\ncopy it over to your remote site, okay?\n\n205\n00:11:27.370 --> 00:11:29.790\nSo you have to copy that\nover to the remote site.\n\n206\n00:11:29.790 --> 00:11:34.100\nBut notice, I don't actually have it yet\ncuz it's not yet been generated.\n\n207\n00:11:34.100 --> 00:11:36.970\nSo what I'm gonna do is actually tell\nit to automatically generate one at\n\n208\n00:11:36.970 --> 00:11:38.770\nthe very beginning.\n\n209\n00:11:38.770 --> 00:11:42.870\nUse that same certificate\nauthority on the certificate.\n\n210\n00:11:42.870 --> 00:11:46.040\nThis is why it's important that you\ngenerate the server certificate, or\n\n211\n00:11:46.040 --> 00:11:48.730\nyou won't see the one\nthat you created here.\n\n212\n00:11:48.730 --> 00:11:50.300\nDo not use this one.\n\n213\n00:11:50.300 --> 00:11:51.110\nCan you?\n\n214\n00:11:51.110 --> 00:11:51.920\nYes.\n\n215\n00:11:51.920 --> 00:11:53.890\nIs it gonna match anything else?\n\n216\n00:11:53.890 --> 00:11:54.970\nNo, okay?\n\n217\n00:11:54.970 --> 00:11:58.110\nSo make sure you actually choose\nthe one that you generate\n\n218\n00:11:58.110 --> 00:12:01.790\nat the very beginning here for\nyour server certificate instead.\n\n219\n00:12:01.790 --> 00:12:04.730\nAnd notice, I'm actually not\nusing the user certificate here.\n\n220\n00:12:04.730 --> 00:12:07.790\nSo I'm gonna select this one,\nwhich is a server certificate.\n\n221\n00:12:07.790 --> 00:12:11.150\nAnd then, all of these other\nparameters in terms of the encryption,\n\n222\n00:12:11.150 --> 00:12:14.720\nyou wanna make sure of course\nthat you end up following\n\n223\n00:12:14.720 --> 00:12:18.450\nwhatever the security policy\nstandards are for your company.\n\n224\n00:12:18.450 --> 00:12:21.670\nSo if they tell you this is what\nthe minimum encryption needs to be,\n\n225\n00:12:21.670 --> 00:12:24.400\nmake sure you follow that or higher, okay?\n\n226\n00:12:24.400 --> 00:12:26.520\nSo more than likely they'll\nbe very specific at this.\n\n227\n00:12:26.520 --> 00:12:28.550\nI'm just gonna choose a couple of them.\n\n228\n00:12:28.550 --> 00:12:33.310\nI'm gonna do a 248 for\nthe Diffie-Hellman parameter length.\n\n229\n00:12:33.310 --> 00:12:39.692\nAnd then on AES I'm gonna choose\nthe first option on 256 CBC.\n\n230\n00:12:39.692 --> 00:12:43.372\nAnd on the authentication\ndigest again 256.\n\n231\n00:12:43.372 --> 00:12:47.027\nNow, since this is just a demo, I could\nhave left them all at the default and\n\n232\n00:12:47.027 --> 00:12:50.020\nit'd work perfectly fine,\nit would even work faster.\n\n233\n00:12:50.020 --> 00:12:52.860\nBut remember what I\"m trying\nto show you is it depends on\n\n234\n00:12:52.860 --> 00:12:54.280\nwhatever the security policy is.\n\n235\n00:12:54.280 --> 00:12:57.100\nSo make sure if you're not in\ncontrol of that security policy,\n\n236\n00:12:57.100 --> 00:13:00.000\nfind out what that's gonna be if you're\ngonna be using this in production.\n\n237\n00:13:01.320 --> 00:13:07.140\nThe hardware encryption,\nHardware Crypto Acceleration.\n\n238\n00:13:07.140 --> 00:13:08.580\nI can't say what.\n\n239\n00:13:08.580 --> 00:13:11.540\nIn other words, is your pfSense box,\n\n240\n00:13:11.540 --> 00:13:16.360\nis it designed to do this type of\nVPN connection for the acceleration?\n\n241\n00:13:16.360 --> 00:13:18.630\nSometimes you can actually purchase, and\n\n242\n00:13:18.630 --> 00:13:22.560\nyou can even build one on your own,\nwhere that device actually does have\n\n243\n00:13:22.560 --> 00:13:26.170\nhardware that supports the VPN\nconnections going through.\n\n244\n00:13:26.170 --> 00:13:30.510\nSo if you choose something like that,\nyou do need to be careful there.\n\n245\n00:13:30.510 --> 00:13:32.390\nMake sure you actually\nchoose the right one.\n\n246\n00:13:32.390 --> 00:13:34.220\nI do not have anything, but\n\n247\n00:13:34.220 --> 00:13:36.930\nyou can see where it actually\ngives you some different options.\n\n248\n00:13:36.930 --> 00:13:39.890\nSo you wanna look at your hardware to\nmake sure that you understand what's\n\n249\n00:13:39.890 --> 00:13:40.890\ngoing on there.\n\n250\n00:13:40.890 --> 00:13:41.560\nSo I'm not gonna do that,\n\n251\n00:13:41.560 --> 00:13:45.520\ncuz I'm actually in a virtual machine\ntrying to do this demonstration instead.\n\n252\n00:13:45.520 --> 00:13:50.740\nAll right, now once we have that, this is\nwhere it gets a little bit more confusing.\n\n253\n00:13:50.740 --> 00:13:53.900\nThe connection that we're\nmaking between the server and\n\n254\n00:13:53.900 --> 00:13:58.860\nof course the branch office, it needs\nto be tunneled through another network.\n\n255\n00:13:58.860 --> 00:14:03.660\nNow, because this is a site to site,\nI only need two IP addresses.\n\n256\n00:14:03.660 --> 00:14:07.800\nSo I'm gonna select this 10.2.192.0/30.\n\n257\n00:14:07.800 --> 00:14:12.030\nAnd you might be wondering\nwhy did I select 10.2.192?\n\n258\n00:14:12.030 --> 00:14:15.710\nThat's because on my side\non alpha I have a 10.\n\n259\n00:14:15.710 --> 00:14:16.550\nnetwork.\n\n260\n00:14:16.550 --> 00:14:19.577\nAnd over on the other side on Bravo,\nit begins with 192.\n\n261\n00:14:19.577 --> 00:14:21.857\nSo 10 to 192.\n\n262\n00:14:21.857 --> 00:14:22.923\nI hope that makes sense.\n\n263\n00:14:22.923 --> 00:14:23.867\nI think that makes sense.\n\n264\n00:14:23.867 --> 00:14:26.116\n&gt;&gt; I see your logic there [CROSSTALK].\n\n265\n00:14:26.116 --> 00:14:28.793\n&gt;&gt; I like doing stuff like that,\ncuz it really makes me go, okay,\n\n266\n00:14:28.793 --> 00:14:30.230\nwhy did I choose that?\n\n267\n00:14:30.230 --> 00:14:32.410\nThat's because that's\nthat network 10 to 192.\n\n268\n00:14:32.410 --> 00:14:35.938\n&gt;&gt; Little mnemonics built in as\ndescriptors to help you remember things.\n\n269\n00:14:35.938 --> 00:14:36.540\n&gt;&gt; Yeah.\n&gt;&gt; That's smart.\n\n270\n00:14:36.540 --> 00:14:39.010\n&gt;&gt; Yeah,\nbecause if you start doing this with 10 or\n\n271\n00:14:39.010 --> 00:14:41.150\n15 of them, it gets a little bit harsh.\n\n272\n00:14:41.150 --> 00:14:44.802\nSo after a while, you might not be able to\ndo that if every single one of your branch\n\n273\n00:14:44.802 --> 00:14:46.115\noffices begin with 192.\n\n274\n00:14:46.115 --> 00:14:51.150\nBut you might be able to say,\n.30, .40, whatever it might be.\n\n275\n00:14:51.150 --> 00:14:52.420\nAnd then you can do that.\n\n276\n00:14:52.420 --> 00:14:55.540\nSo you might do 10 to 30 and you go okay,\n\n277\n00:14:55.540 --> 00:15:00.570\nI know all my branch offices are 192.168,\nwhatever .30.\n\n278\n00:15:00.570 --> 00:15:03.620\nI'm not going to worry about IP version\nsix, cuz I'm not doing that yet.\n\n279\n00:15:03.620 --> 00:15:05.530\nSo I'm not going to worry about that.\n\n280\n00:15:05.530 --> 00:15:07.760\nAnd then of course your own local network.\n\n281\n00:15:07.760 --> 00:15:08.970\nMine, of course, is that.\n\n282\n00:15:10.090 --> 00:15:13.160\nAnd then, this is the one I\nwanna slow down on a little bit.\n\n283\n00:15:13.160 --> 00:15:15.440\nSo the rest of this kinda seems easy,\nokay?\n\n284\n00:15:15.440 --> 00:15:19.520\nThe remote network,\nthis is where it depends on you, and\n\n285\n00:15:19.520 --> 00:15:21.340\nit changes a couple of options.\n\n286\n00:15:21.340 --> 00:15:25.352\nIf I have multiple sites and\nI wanna create only one VPN network, well,\n\n287\n00:15:25.352 --> 00:15:28.850\nthat means that the one that I\nactually created up here for\n\n288\n00:15:28.850 --> 00:15:34.396\nthat tunnel network, that would change\nmaybe to a slash 24 to a slash 28, okay?\n\n289\n00:15:34.396 --> 00:15:38.728\nIt depend on how many sites I have,\nwhatever it might be.\n\n290\n00:15:38.728 --> 00:15:42.070\nBut if I know that there\nis gonna be multiple sites,\n\n291\n00:15:42.070 --> 00:15:43.730\nit's right here in the Remote Networks.\n\n292\n00:15:43.730 --> 00:15:47.560\nI can simply add in a semi\ncolon I believe, no, a comma.\n\n293\n00:15:47.560 --> 00:15:49.795\nI always get it wrong here.\n\n294\n00:15:49.795 --> 00:15:55.762\nA comma, and\nthen I can add in my 192.168.2.3.4.\n\n295\n00:15:55.762 --> 00:15:58.837\nAnd now create that hub and\nspoke network that we were talking about.\n\n296\n00:15:58.837 --> 00:16:02.458\nSo even though here's my local\nnetwork of that 10.network,\n\n297\n00:16:02.458 --> 00:16:05.943\nI can have all of those listed and\nthey all connect into me, and\n\n298\n00:16:05.943 --> 00:16:09.270\nthat way I'm ready to accept\nthat connection as a server.\n\n299\n00:16:09.270 --> 00:16:11.606\nSo that's what you can also put in there.\n\n300\n00:16:11.606 --> 00:16:14.102\nNot worrying about the IP version 6, and\n\n301\n00:16:14.102 --> 00:16:18.860\nreally the rest of these I'm gonna\nkind of leave blank at this point.\n\n302\n00:16:18.860 --> 00:16:22.990\nIf I want to make sure I don't allow\nIPv6 traffic I can also do that too,\n\n303\n00:16:22.990 --> 00:16:24.670\nso I'm just gonna leave it at its default.\n\n304\n00:16:26.070 --> 00:16:27.940\nAnd even on the client\nsettings at this point,\n\n305\n00:16:27.940 --> 00:16:30.150\nthe only one I'm going\nto change is this one.\n\n306\n00:16:30.150 --> 00:16:33.680\nI'm not worried about an entire subnet\nbecause I only know that I have only\n\n307\n00:16:33.680 --> 00:16:37.000\none other on the other\nside which is Bravo.\n\n308\n00:16:37.000 --> 00:16:41.020\nSo this only allows me to have\ntwo IPs inside of that tunnel.\n\n309\n00:16:41.020 --> 00:16:44.000\nSo this is again kind of\nlimiting the footprint of\n\n310\n00:16:44.000 --> 00:16:47.040\nthe tunnel that you're creating\nacross the Internet as well.\n\n311\n00:16:48.130 --> 00:16:52.140\nNot worried about any advanced options\nat this point, and I click Save.\n\n312\n00:16:53.300 --> 00:16:56.520\nNow once I go ahead and click Save here,\n\n313\n00:16:56.520 --> 00:17:00.580\nI want to configure now\nthe client specific override.\n\n314\n00:17:02.080 --> 00:17:04.340\nNow what is the client\nspecific override about?\n\n315\n00:17:04.340 --> 00:17:05.490\nWell, let me show you.\n\n316\n00:17:05.490 --> 00:17:08.219\nAnd so\nwhat I'm gonna do here is select that.\n\n317\n00:17:08.219 --> 00:17:12.880\nI'm choosing this as\nbeing my OpenVPN server.\n\n318\n00:17:12.880 --> 00:17:17.480\nAnd then it's asking me for\nthe common name of the other connection.\n\n319\n00:17:17.480 --> 00:17:19.000\nSo what it's doing is actually saying,\n\n320\n00:17:19.000 --> 00:17:24.050\nwhat is the certificate you're gonna be\nusing to connect back to me, all right?\n\n321\n00:17:24.050 --> 00:17:28.340\nSo this will actually allow\nus to do this here, okay?\n\n322\n00:17:28.340 --> 00:17:34.800\nIt essentially identifies the remote\nsubnet by this server certificate.\n\n323\n00:17:34.800 --> 00:17:39.240\nSo it's saying, don't just accept\nanything that comes in with 192.168.1.0\n\n324\n00:17:39.240 --> 00:17:45.070\nnetwork because somebody could\neasily spoof 192.168.1.0 network.\n\n325\n00:17:45.070 --> 00:17:50.510\nBut make sure that what, that this\ncertificate, as it leaves that interface,\n\n326\n00:17:50.510 --> 00:17:53.120\nis actually on those packets, okay?\n\n327\n00:17:53.120 --> 00:17:55.300\nSo that is actually kind of really saying,\n\n328\n00:17:55.300 --> 00:17:58.610\ndon't just accept a subnet\nthat looks right.\n\n329\n00:17:58.610 --> 00:17:59.700\nMake sure it actually has what,\n\n330\n00:17:59.700 --> 00:18:02.458\nthe certificate to validate\nit as it comes over.\n\n331\n00:18:02.458 --> 00:18:06.490\nSo we're overriding what the default\nbehavior is going to be by saying,\n\n332\n00:18:06.490 --> 00:18:09.310\nlet's implement this instead.\n\n333\n00:18:09.310 --> 00:18:14.470\nWe choose the same tunnel, and\nthen, of course, the same networks.\n\n334\n00:18:15.850 --> 00:18:19.000\nNow because of the way my browser's set up\nwhere it remembers the browser history,\n\n335\n00:18:19.000 --> 00:18:20.845\nthat's what's going on\nwhen you start saying,\n\n336\n00:18:20.845 --> 00:18:22.206\nman, how the heck is he doing that?\n\n337\n00:18:22.206 --> 00:18:22.846\nThat's the reason why.\n\n338\n00:18:22.846 --> 00:18:24.230\n&gt;&gt; So fast.\n&gt;&gt; Yeah, I'm insanely fast here.\n\n339\n00:18:24.230 --> 00:18:26.530\nBut I'm not,\nit's just the browser history thing.\n\n340\n00:18:27.980 --> 00:18:31.144\nAnd the rest of this,\nI'm bypassing all the IPv6.\n\n341\n00:18:31.144 --> 00:18:34.200\nI'm entering into the remote\nnetwork that I'm connecting to.\n\n342\n00:18:34.200 --> 00:18:36.770\nAnd of course the local network over here.\n\n343\n00:18:38.100 --> 00:18:40.970\nAnd I'm not worried about the rest of\nthese different client settings at\n\n344\n00:18:40.970 --> 00:18:42.440\nthis point.\n\n345\n00:18:42.440 --> 00:18:44.364\nAnd I'm gonna click Save.\n\n346\n00:18:44.364 --> 00:18:45.595\nAll right, you might think I'm done.\n\n347\n00:18:45.595 --> 00:18:49.470\nOkay, so remember we've got the server\nset up, we have the client overrides.\n\n348\n00:18:49.470 --> 00:18:53.250\nI need to go into the firewall rules and\nset up two different rules.\n\n349\n00:18:53.250 --> 00:18:57.750\nNow I previously did this, and the reason\nwhy is cuz I easily forget what they are.\n\n350\n00:18:57.750 --> 00:19:00.860\nBut I wanted to show [LAUGH] you\nwhat those rules are instead and\n\n351\n00:19:00.860 --> 00:19:02.330\nthat way we can do this.\n\n352\n00:19:02.330 --> 00:19:07.421\nNow that we've got this server setup,\nI need to allow on the WAN connection for\n\n353\n00:19:07.421 --> 00:19:11.682\nthings to go over the IPsec tunnel,\nnot IPsec, OpenVPN tunnel.\n\n354\n00:19:11.682 --> 00:19:12.634\n&gt;&gt; [LAUGH]\n&gt;&gt; See,\n\n355\n00:19:12.634 --> 00:19:14.060\nI knew I was gonna get it wrong, okay.\n\n356\n00:19:14.060 --> 00:19:17.130\nSo what we're actually doing is\nwe're saying we need to allow for\n\n357\n00:19:17.130 --> 00:19:20.800\nthe OpenVPN to connect\ninto the OpenVPN server.\n\n358\n00:19:21.920 --> 00:19:27.000\nNow let me uncheck this one, and\nthis will help us out here, and\n\n359\n00:19:27.000 --> 00:19:30.210\napply the changes and that way we\ncan see it a little bit better.\n\n360\n00:19:30.210 --> 00:19:32.067\nSo what this rule is saying is simple.\n\n361\n00:19:32.067 --> 00:19:35.216\nIt's I'm gonna allow for OpenVPN,\n\n362\n00:19:35.216 --> 00:19:40.240\nwhich is a UDP connection on\nIP version 4 from any place.\n\n363\n00:19:40.240 --> 00:19:42.730\nBecause I didn't have a limit\non that restriction here,\n\n364\n00:19:42.730 --> 00:19:47.730\nI could, to my LAN address,\nwhich is my OpenVPN server, okay.\n\n365\n00:19:47.730 --> 00:19:51.450\nSo as long as it's actually coming\ndirectly into that LAN address, I need to\n\n366\n00:19:51.450 --> 00:19:57.790\nallow at least that to come in, all right,\non that UDP connection that I have made.\n\n367\n00:19:57.790 --> 00:20:02.747\nThen I go ahead and I go to OpenVPN,\nand this now allows for\n\n368\n00:20:02.747 --> 00:20:06.895\ntraffic to cross over\nthe OpenVPN connection.\n\n369\n00:20:06.895 --> 00:20:10.030\nNotice this IP Version 4\nallows anything to go over.\n\n370\n00:20:10.030 --> 00:20:13.110\nNow you can make it as\nrestrictive as you want to.\n\n371\n00:20:13.110 --> 00:20:14.854\nAnd that's probably better, okay,\n\n372\n00:20:14.854 --> 00:20:17.170\n[LAUGH] that you make it\na little bit more restrictive.\n\n373\n00:20:17.170 --> 00:20:21.470\nBut for testing purposes just to make\nsure, I'm gonna open everything up.\n\n374\n00:20:21.470 --> 00:20:24.290\nAnd anything that comes\nover that is fine with me\n\n375\n00:20:24.290 --> 00:20:27.890\ncuz I'm allowing essentially\nBravo network to cross using\n\n376\n00:20:27.890 --> 00:20:32.260\nthe OpenVPN into my own network over\non this side is what I'm doing here.\n\n377\n00:20:33.308 --> 00:20:36.430\nAll right, so\nonce I've got the firewall rules set up,\n\n378\n00:20:36.430 --> 00:20:38.240\nI have to have those two rules.\n\n379\n00:20:38.240 --> 00:20:42.208\nSo remember WAN and the OpenVPN.\n\n380\n00:20:42.208 --> 00:20:45.710\nIf you only do one or the other,\nit is not going to work.\n\n381\n00:20:45.710 --> 00:20:48.660\nAnd I can tell you that from experience\nin just trying to set up the lab.\n\n382\n00:20:48.660 --> 00:20:51.760\nVery frustrating when you go,\nokay, OpenVPN and\n\n383\n00:20:51.760 --> 00:20:55.810\nthen you forget the LAN side and it says,\nyeah, everything else is set up but\n\n384\n00:20:55.810 --> 00:20:59.125\nyou can't talk to the actual\nOpenVPN server, good luck.\n\n385\n00:20:59.125 --> 00:21:00.760\n&gt;&gt; [LAUGH]\n&gt;&gt; Yeah, that's pretty sad.\n\n386\n00:21:00.760 --> 00:21:03.600\nBut I know cuz I've done it multiple\ntimes, so that's why I'm telling you.\n\n387\n00:21:03.600 --> 00:21:04.491\n&gt;&gt; We call it the Ronnie.\n\n388\n00:21:04.491 --> 00:21:06.740\n[CROSSTALK] [LAUGH]\n&gt;&gt; Yeah, that's exactly what it's called.\n\n389\n00:21:06.740 --> 00:21:09.500\nIt's forgetting half\nthe configuration there.\n\n390\n00:21:09.500 --> 00:21:11.120\nBut that's all it actually takes.\n\n391\n00:21:11.120 --> 00:21:14.470\nNow the great thing is over on\nthe client side, it's much easier, okay?\n\n392\n00:21:14.470 --> 00:21:19.280\nSo once we actually have that set up now\nif everything is right and configured on\n\n393\n00:21:19.280 --> 00:21:25.530\nthis side, we now go over to the client\nside, okay, and then we set it up as well.\n\n394\n00:21:25.530 --> 00:21:28.020\nNow I did have to ask you to\nremember to do one other thing,\n\n395\n00:21:28.020 --> 00:21:30.050\nso good thing is I'm\nstill back here on alpha.\n\n396\n00:21:31.130 --> 00:21:33.080\nNow that everything is set up,\n\n397\n00:21:33.080 --> 00:21:38.080\nI need to get the Bravo certificate\nover to the Bravo site.\n\n398\n00:21:38.080 --> 00:21:42.200\nI need to get its key over there as well,\nso it can use that certificate, but\n\n399\n00:21:42.200 --> 00:21:46.790\nI also need to get the certificate\nfrom the certificate authority.\n\n400\n00:21:46.790 --> 00:21:50.460\nSo on the Cert Manager,\nSystem Cert Manager,\n\n401\n00:21:50.460 --> 00:21:54.120\nwhat you wanna do is you wanna export\nthis key, or this certificate.\n\n402\n00:21:54.120 --> 00:21:56.220\nYou don't wanna export the private key.\n\n403\n00:21:56.220 --> 00:21:58.220\nBut right here, if you choose that,\n\n404\n00:21:58.220 --> 00:22:03.140\nyou'll actually see that option\nthere where it says export CA.\n\n405\n00:22:03.140 --> 00:22:06.050\nSave it someplace where you can\nget access to it cuz it's gonna be\n\n406\n00:22:06.050 --> 00:22:07.760\nvery important for you.\n\n407\n00:22:07.760 --> 00:22:13.220\nAnd then you'll go over to Certificates,\nand then on the one that you set up for\n\n408\n00:22:13.220 --> 00:22:17.570\nthe other side for whatever your\nremote connection is, over here,\n\n409\n00:22:17.570 --> 00:22:21.080\nyou wanna save the certificate,\nand export it.\n\n410\n00:22:21.080 --> 00:22:23.760\nAnd you also wanna export the key.\n\n411\n00:22:23.760 --> 00:22:25.710\nAll right, has to be very key over there,\nall right?\n\n412\n00:22:25.710 --> 00:22:29.500\nAll right, so\nnow we're gonna go over to Bravo.\n\n413\n00:22:29.500 --> 00:22:34.245\nAnd then on your system over here,\nand inside of the Cert Manager,\n\n414\n00:22:34.245 --> 00:22:37.740\nlet's see if everything\nkind of connects here.\n\n415\n00:22:37.740 --> 00:22:44.144\nMy machine apparently is getting kind\nof lugged down by something here.\n\n416\n00:22:44.144 --> 00:22:45.090\nLet me try it again.\n\n417\n00:22:45.090 --> 00:22:45.960\nThere we go.\n&gt;&gt; There it is.\n\n418\n00:22:45.960 --> 00:22:47.470\n&gt;&gt; It just takes a moment.\n\n419\n00:22:47.470 --> 00:22:49.427\nYou wanna go ahead and import it in.\n\n420\n00:22:49.427 --> 00:22:53.045\nAnd all you have to do is select Add and\nselect the import and it will add in and\n\n421\n00:22:53.045 --> 00:22:56.000\nit will say hey,\nthis is not an internal certificate.\n\n422\n00:22:56.000 --> 00:22:59.660\nI do realize that this is self-signed,\nbut it's actually right here.\n\n423\n00:22:59.660 --> 00:23:00.970\nAnd then you go over to Certificate and\n\n424\n00:23:00.970 --> 00:23:03.430\nyou import in the Bravo\ncertificate as well.\n\n425\n00:23:03.430 --> 00:23:04.960\nAnd when you do that,\nit's gonna ask you for\n\n426\n00:23:04.960 --> 00:23:09.140\nthe certificate as well as\nthe key to enter in, okay?\n\n427\n00:23:09.140 --> 00:23:14.020\nSo the great thing is if you've got\nthem saved like I do, so there's\n\n428\n00:23:14.020 --> 00:23:19.290\nthe Bravo certificate, you right-click,\nyou go to Open With &gt; Notepad.\n\n429\n00:23:20.600 --> 00:23:22.160\nAnd it actually looks like this.\n\n430\n00:23:22.160 --> 00:23:25.690\nDo a Copy All,\nyou'll paste it right into the box.\n\n431\n00:23:25.690 --> 00:23:27.060\nUnderneath it, it'll ask for the key.\n\n432\n00:23:28.450 --> 00:23:30.000\nSo you actually do the same thing.\n\n433\n00:23:30.000 --> 00:23:32.840\nOpen With, and then the key, and\n\n434\n00:23:32.840 --> 00:23:35.800\nyou paste it into the box that says Key,\nand that saves it.\n\n435\n00:23:35.800 --> 00:23:38.390\nAnd once you do that,\neverything should show up.\n\n436\n00:23:38.390 --> 00:23:41.887\nAnd the key is right here where it\ntells you the issuer was actually what?\n\n437\n00:23:41.887 --> 00:23:44.365\nThe original ITProTV CA.\n\n438\n00:23:44.365 --> 00:23:47.106\nIf it says self-sign,\nsomething else went wrong, okay?\n\n439\n00:23:47.106 --> 00:23:48.330\nSo that's how you know.\n\n440\n00:23:48.330 --> 00:23:49.370\nI know it's kinda weird,\n\n441\n00:23:49.370 --> 00:23:52.190\nbut that's exactly how you\nknow that everything's right.\n\n442\n00:23:52.190 --> 00:23:58.279\nSo once you've got that in place, we go\nto open VPN, or to VPN and then open VPN.\n\n443\n00:23:58.279 --> 00:24:03.490\nAnd here, instead of selecting Server,\nwe're going to select Client.\n\n444\n00:24:05.060 --> 00:24:06.060\nAnd then click Add.\n\n445\n00:24:07.860 --> 00:24:12.360\nOnce I have this set up, it's kind of\nalmost identical as the server, but\n\n446\n00:24:12.360 --> 00:24:14.720\nwe will see a couple of changes here.\n\n447\n00:24:14.720 --> 00:24:20.249\nSo peer to peer, UDP, tunnel and\non the WAN interface, which is fine.\n\n448\n00:24:20.249 --> 00:24:23.700\nI'm gonna set the local port up\nto be identical on both sides.\n\n449\n00:24:23.700 --> 00:24:26.860\nYou don't have to,\nyou can let it randomly generate that, but\n\n450\n00:24:26.860 --> 00:24:29.810\nnow you're actually looking for\nrandom numbers connecting into 1201,\n\n451\n00:24:29.810 --> 00:24:33.650\nwhich is fine, but\nI wanna make sure it's actually the same.\n\n452\n00:24:33.650 --> 00:24:37.730\nAnd then of course,\nthe IP address of the other side, and\n\n453\n00:24:37.730 --> 00:24:40.342\nthis is normally going to be\na public IP address to do so.\n\n454\n00:24:43.260 --> 00:24:46.814\nThe server port that I said that\nyou can connect in is 1201,\n\n455\n00:24:46.814 --> 00:24:48.768\nthat all looks good at this point.\n\n456\n00:24:48.768 --> 00:24:53.837\nAnd then we're gonna scroll down, I'm\ngonna skip the rest of this, well maybe on\n\n457\n00:24:53.837 --> 00:24:59.513\nthe description here, I'm not gonna worry\nabout it, let's say, call it BravopfSense.\n\n458\n00:24:59.513 --> 00:25:02.740\nWe're not gonna worry about\nthe user authentication here.\n\n459\n00:25:02.740 --> 00:25:05.830\nBut notice underneath where it\nsays Cryptographic Settings.\n\n460\n00:25:05.830 --> 00:25:09.520\nSo this is instead where you\nuncheck the automatically generate.\n\n461\n00:25:09.520 --> 00:25:14.260\nAnd it's here that you need to paste\nin the key from the openVPN server.\n\n462\n00:25:14.260 --> 00:25:16.640\nNow, first time I ever did this,\n\n463\n00:25:16.640 --> 00:25:20.978\nI remembered, I just said that's gotta be\nthe Bravo key that I exported out, right?\n\n464\n00:25:20.978 --> 00:25:22.130\nIt's not.\n\n465\n00:25:22.130 --> 00:25:23.860\nYeah, it's not that.\n\n466\n00:25:23.860 --> 00:25:27.970\nSo this is where you have to make sure\nthat when they tell you that you're gonna\n\n467\n00:25:27.970 --> 00:25:35.850\nget this as you go over to VPN &gt;\nOpenVPN on the server you want to edit.\n\n468\n00:25:37.180 --> 00:25:40.420\nAnd now, remember we automatically\ngenerated a key earlier.\n\n469\n00:25:40.420 --> 00:25:43.270\nThis is where we would go ahead and\nselect the entire key,\n\n470\n00:25:44.380 --> 00:25:49.390\ncopy it, and then I paste it in there.\n\n471\n00:25:49.390 --> 00:25:53.100\nNow I do know of some individuals that\nsay I don't like that copy and paste,\n\n472\n00:25:53.100 --> 00:25:55.300\ncuz I never know if an extra\ncharacter got in there.\n\n473\n00:25:55.300 --> 00:26:00.230\nAnd they will instead type this in,\none character at a time.\n\n474\n00:26:00.230 --> 00:26:01.100\n&gt;&gt; I wanna pass on that.\n\n475\n00:26:01.100 --> 00:26:02.157\n&gt;&gt; Yeah, I wanna pass on that too.\n\n476\n00:26:02.157 --> 00:26:03.570\n&gt;&gt; [LAUGH]\n&gt;&gt; Actually, I'mma go,\n\n477\n00:26:03.570 --> 00:26:05.790\nthis is actually safer for me.\n\n478\n00:26:05.790 --> 00:26:08.150\nBut there are some people that say,\nthey'll type it in one at a time.\n\n479\n00:26:08.150 --> 00:26:09.930\n&gt;&gt; I'll take my chances,\nand see if it works.\n\n480\n00:26:09.930 --> 00:26:10.650\n&gt;&gt; [LAUGH]\n&gt;&gt; And if it doesn't,\n\n481\n00:26:10.650 --> 00:26:14.052\nwe'll revisit whether or\nnot I'm typing this in.\n\n482\n00:26:14.052 --> 00:26:18.090\n&gt;&gt; I'm like, good dedication,\nand I'm glad they got it to work,\n\n483\n00:26:18.090 --> 00:26:20.755\nbut for me,\nI would have done the same thing.\n\n484\n00:26:20.755 --> 00:26:23.070\nI'd say yeah,\nI'm just gonna copy and paste that.\n\n485\n00:26:23.070 --> 00:26:24.890\nThat's fine.\n\n486\n00:26:24.890 --> 00:26:30.100\nAlso the client certificate now,\nI select with Bravo, pfSense and\n\n487\n00:26:30.100 --> 00:26:33.750\nthen I change the encryption\nalgorithm to match on the other side.\n\n488\n00:26:33.750 --> 00:26:38.870\nSo I selected the first one in AES for the\nencryption, and the authentication digest.\n\n489\n00:26:39.990 --> 00:26:44.740\nAnd I'm not gonna worry about the hardware\nencryption acceleration here.\n\n490\n00:26:44.740 --> 00:26:46.130\nSo those should match.\n\n491\n00:26:46.130 --> 00:26:49.314\nRemember, again,\nyour security policy is the key.\n\n492\n00:26:49.314 --> 00:26:55.920\nThe tunnel here, 10.2.192.0/30.\n\n493\n00:26:55.920 --> 00:26:58.090\nAnd I'm skipping over IPv6.\n\n494\n00:26:58.090 --> 00:27:02.670\nThe remote network\nshould be 10.1.110.0/24.\n\n495\n00:27:02.670 --> 00:27:07.240\nAnd then I'm changing\nthat subnet topology.\n\n496\n00:27:07.240 --> 00:27:08.390\nMake sure I, yeah, okay.\n\n497\n00:27:08.390 --> 00:27:12.951\n&gt;&gt; Now, Ronnie, I thought the off digest\nthat used the previous one was SHA1?\n\n498\n00:27:12.951 --> 00:27:15.070\n&gt;&gt; Nope, well, let's check.\n\n499\n00:27:15.070 --> 00:27:16.280\n&gt;&gt; Yeah, let's check that.\n\n500\n00:27:16.280 --> 00:27:17.298\n&gt;&gt; So just in case, nope, SHA-256.\n\n501\n00:27:17.298 --> 00:27:19.310\n&gt;&gt; No, okay, I must have just saw SHA1.\n\n502\n00:27:19.310 --> 00:27:20.380\n&gt;&gt; Yeah, [LAUGH].\n\n503\n00:27:20.380 --> 00:27:20.927\nThat's fine.\n&gt;&gt; But\n\n504\n00:27:20.927 --> 00:27:23.470\nit was easy enough to check those things,\ncuz if they're off, right?\n\n505\n00:27:23.470 --> 00:27:25.930\n&gt;&gt; Yeah,\nif they're off they're not gonna work.\n\n506\n00:27:25.930 --> 00:27:28.340\nThe great thing is,\nthey've actually improved on this.\n\n507\n00:27:28.340 --> 00:27:32.682\nIn version 2.2,\nthey actually had where it was a SHA,\n\n508\n00:27:32.682 --> 00:27:38.232\nS-H-A, and a SHA1 and\nthey were both the exact same key length.\n\n509\n00:27:38.232 --> 00:27:39.859\n&gt;&gt; Wow.\n&gt;&gt; And so if you accidentally\n\n510\n00:27:39.859 --> 00:27:44.762\npicked one over the other one, like I did\none time, I was like, it says SHA256 and\n\n511\n00:27:44.762 --> 00:27:48.460\nthen, you know SHA1,\nit's such a small character in there.\n\n512\n00:27:48.460 --> 00:27:50.780\nAnd I thought it was actually matching and\nso Mike comes and\n\n513\n00:27:50.780 --> 00:27:51.830\nsaid, no those aren't matching.\n\n514\n00:27:51.830 --> 00:27:55.450\nI was like, so Mike tell me what the\ndifference between SHA and SHA1 is okay,\n\n515\n00:27:55.450 --> 00:27:57.650\ngo ahead, somebody tell what that is.\n\n516\n00:27:57.650 --> 00:28:00.220\nBut it did make a difference.\n\n517\n00:28:00.220 --> 00:28:00.740\n&gt;&gt; Okay.\n&gt;&gt; But\n\n518\n00:28:00.740 --> 00:28:04.370\nnow they kind of removed that and they\nmade it consistent all the way through.\n\n519\n00:28:04.370 --> 00:28:06.520\nSo that's actually neat.\n\n520\n00:28:06.520 --> 00:28:08.640\nI've run into all those issues before too.\n\n521\n00:28:08.640 --> 00:28:09.930\nThere's no doubt.\n\n522\n00:28:09.930 --> 00:28:11.840\nSo make sure that those\nmatch on both sides.\n\n523\n00:28:11.840 --> 00:28:14.970\nAnd that's usually one of the ones,\nif there's a typo, it's right there,\n\n524\n00:28:14.970 --> 00:28:17.434\nit's kinda big,\nif it's a typo type of error.\n\n525\n00:28:17.434 --> 00:28:20.760\nAll right, set it for the topology and\n\n526\n00:28:20.760 --> 00:28:24.050\nwe didn't change anything over\non that side, and we click Save.\n\n527\n00:28:25.320 --> 00:28:27.770\nOnce again, we still need to go\nto firewall rules, but this time,\n\n528\n00:28:27.770 --> 00:28:29.180\nwe only have to implement one.\n\n529\n00:28:30.520 --> 00:28:35.160\nSo if I go to rules, and on the WAN side,\nyou'll see that I don't have that open\n\n530\n00:28:35.160 --> 00:28:38.270\nWAN because I'm not acting\nas an OpenVPN server.\n\n531\n00:28:38.270 --> 00:28:42.260\nThis side is gonna be the initiator that\nconnects in, so I don't worry about that.\n\n532\n00:28:42.260 --> 00:28:43.980\nSo I just go to OpenVPN, and\n\n533\n00:28:43.980 --> 00:28:47.100\nI add in this rule to allow\ntraffic to go across the OpenVPN.\n\n534\n00:28:48.290 --> 00:28:49.980\nSo I would type that in, but\n\n535\n00:28:49.980 --> 00:28:54.110\nwe've seen how to create rules\nin another episode before.\n\n536\n00:28:54.110 --> 00:28:55.550\nSo make sure you follow that.\n\n537\n00:28:55.550 --> 00:28:58.960\nBut this is just IPv4 on any protocol\n\n538\n00:28:58.960 --> 00:29:03.000\ngoing to any place over\nthe OpenVPN interface.\n\n539\n00:29:03.000 --> 00:29:04.040\nIf you need to restrict that,\n\n540\n00:29:04.040 --> 00:29:07.540\nthen you restrict it according\nto your security policies.\n\n541\n00:29:07.540 --> 00:29:12.038\nNow this is where the big if comes in,\nDaniel, okay, if everything is correct,\n\n542\n00:29:12.038 --> 00:29:13.509\nthat should have been it.\n\n543\n00:29:13.509 --> 00:29:16.601\nI don't even have to initiate traffic\nunlike IPsec, remember it has to\n\n544\n00:29:16.601 --> 00:29:19.562\nfind interesting traffic first that\nwants to go across the tunnel.\n\n545\n00:29:19.562 --> 00:29:24.381\nI don't even have to do that,\nif the tunnel is up, I simply go to status\n\n546\n00:29:24.381 --> 00:29:29.366\nhere on my screen, and then OpenVPN,\nand there you go, you start seeing\n\n547\n00:29:29.366 --> 00:29:34.545\nwhere it says tunnel is up, and\nit tells you how long it's been connected.\n\n548\n00:29:34.545 --> 00:29:38.670\nMy date's wrong because I'm not actually\nconnected to an NTP server anywhere.\n\n549\n00:29:38.670 --> 00:29:41.060\nAnd there is the virtual IP addresses.\n\n550\n00:29:41.060 --> 00:29:44.410\nAnd now, oops,\nlet me get the right one to zoom out.\n\n551\n00:29:44.410 --> 00:29:50.509\nNow if I bring up, A command prompt,\n\n552\n00:29:50.509 --> 00:29:57.640\nI should be able to ping the other side,\n10.1.110.1, maybe.\n\n553\n00:29:57.640 --> 00:29:58.360\n&gt;&gt; Theoretically.\n\n554\n00:29:58.360 --> 00:29:59.800\n&gt;&gt; Theoretically, maybe not.\n\n555\n00:30:03.195 --> 00:30:05.420\nOkay, maybe I can't ping the other side.\n\n556\n00:30:06.760 --> 00:30:10.440\nShould be allow me to go through but,\nit is actually sending traffic here,\n\n557\n00:30:10.440 --> 00:30:12.990\nand this is where you can check\nout a couple of other things.\n\n558\n00:30:12.990 --> 00:30:16.100\nSo maybe that is just slower\nthan i think it's going to be.\n\n559\n00:30:16.100 --> 00:30:21.200\nI go over the Firewall &gt; Rules, and this\nis were you start verifying couple things.\n\n560\n00:30:21.200 --> 00:30:24.630\nYou can see right here on this particular\nconnection, let me open it up.\n\n561\n00:30:25.650 --> 00:30:27.920\nI can see that it did hit the rule and\n\n562\n00:30:27.920 --> 00:30:29.620\nthat it is allowing\ntraffic to come through.\n\n563\n00:30:30.640 --> 00:30:35.310\nAnd over on the OpenVPN side,\nI am actually getting traffic coming in.\n\n564\n00:30:35.310 --> 00:30:37.020\nI don't know why it's not showing up yet.\n\n565\n00:30:37.020 --> 00:30:39.720\nIt may just be a matter\nof patience at this point\n\n566\n00:30:39.720 --> 00:30:41.330\nbefore everything starts showing up.\n\n567\n00:30:41.330 --> 00:30:42.550\n&gt;&gt; That;s where your\nsniffer comes in handy.\n\n568\n00:30:42.550 --> 00:30:44.420\n&gt;&gt; Yeah, this is where it\nstarts coming in handy here.\n\n569\n00:30:44.420 --> 00:30:48.270\nBut let's see if we can take\na look from this side then, or\n\n570\n00:30:48.270 --> 00:30:50.770\nmaybe I hit the wrong IP address for\nall I know.\n\n571\n00:30:50.770 --> 00:30:53.623\nI don't remember a lot of things and I\ncould have fat fingered it for all I know.\n\n572\n00:30:53.623 --> 00:30:54.770\nThere we go, okay.\n\n573\n00:30:54.770 --> 00:30:59.260\nSo it was just timing, more than\nanything else it was just merely timing.\n\n574\n00:30:59.260 --> 00:31:00.460\nAnd now we have this, and\n\n575\n00:31:00.460 --> 00:31:04.580\nall that traffic is now going over\nthe OpenVPN connection site-to-site.\n\n576\n00:31:04.580 --> 00:31:09.580\nAnd as long as both sides are up they\ndon't really have to have anything else.\n\n577\n00:31:09.580 --> 00:31:13.645\nSo we don't really have to worry about\nanything in keeping everything alive,\n\n578\n00:31:13.645 --> 00:31:16.366\nlike IPsec where you have\nto have that keep-alive.\n\n579\n00:31:16.366 --> 00:31:19.220\nIt says, I'm gonna constantly\ntry to connect anyways.\n\n580\n00:31:19.220 --> 00:31:21.220\nAs long as the other side is open and\n\n581\n00:31:21.220 --> 00:31:24.730\nset up correctly, we should be able to\ndo this and we should be ready to go.\n\n582\n00:31:24.730 --> 00:31:28.080\n&gt;&gt; Wow, Ronnie, well, creating\na site-to-site VPN with OpenVPN and\n\n583\n00:31:28.080 --> 00:31:31.740\npfSense seems to be a relatively\nstraight-forward process.\n\n584\n00:31:31.740 --> 00:31:34.360\nNothing too difficult,\nnothing too mystical.\n\n585\n00:31:34.360 --> 00:31:38.000\nPeople start talking VPNs and\nyou see eyes glaze over.\n\n586\n00:31:38.000 --> 00:31:39.870\nIt's not that bad.\n\n587\n00:31:39.870 --> 00:31:42.800\nCouple of things that are going on,\nyou make sure to verify your steps.\n\n588\n00:31:42.800 --> 00:31:46.170\nAnd everything's lined up the way it\nshould be like we did with the digest\n\n589\n00:31:46.170 --> 00:31:47.520\nalgorithm, made sure that was correct.\n\n590\n00:31:47.520 --> 00:31:48.520\n&gt;&gt; Yeah.\n&gt;&gt; Cuz if they were off,\n\n591\n00:31:48.520 --> 00:31:50.870\nany little thing's off it\ncould cause our issue.\n\n592\n00:31:50.870 --> 00:31:55.410\nBut, pfSense, the guys over there they\ndid a really good job of making this\n\n593\n00:31:55.410 --> 00:31:57.610\nbasically a walkthrough process.\n\n594\n00:31:57.610 --> 00:31:58.505\nNothing insane.\n\n595\n00:31:58.505 --> 00:32:01.250\nRonnie, anything we need to know\nbefore we wrap up this show?\n\n596\n00:32:01.250 --> 00:32:04.258\n&gt;&gt; Well now that you said that, as you\nstarted talking about some if the issues\n\n597\n00:32:04.258 --> 00:32:06.672\nthat we had too, I do wanna show\nyou one other place in here.\n\n598\n00:32:06.672 --> 00:32:10.180\nBecause it is important for\nus especially if things don't go right.\n\n599\n00:32:10.180 --> 00:32:13.320\nWhere can you go initially to find out\ninformation besides like what I do,\n\n600\n00:32:13.320 --> 00:32:15.140\njust tear everything down and\nstart all over.\n\n601\n00:32:15.140 --> 00:32:16.060\nNo, do that.\n\n602\n00:32:16.060 --> 00:32:18.380\nLet me show you this one last place.\n\n603\n00:32:18.380 --> 00:32:22.130\nSo if everything doesn't connect up and\nyou just have it where the entire rule is\n\n604\n00:32:22.130 --> 00:32:26.530\ndown, so once you go to OpenVPN and\nStatus and if you see where it says up or\n\n605\n00:32:26.530 --> 00:32:33.240\nsomething else is going on, go back to\nstatus system logs and then OpenVPN.\n\n606\n00:32:33.240 --> 00:32:38.300\nThere is a lot of information right\nhere in the log that you have\n\n607\n00:32:38.300 --> 00:32:42.770\nthat will allow you to see such as this\nwhere it says, hey, here's a warning.\n\n608\n00:32:42.770 --> 00:32:47.760\nTunnel IPv6 is present in the local\nconfig, but missing on the other side.\n\n609\n00:32:47.760 --> 00:32:50.570\nBut the good thing is it's IPv6,\nI don't care if it's missing.\n\n610\n00:32:50.570 --> 00:32:54.475\nBut that's what you have to look at,\nis that you look at those things and\n\n611\n00:32:54.475 --> 00:32:58.340\nif all of a sudden, you start seeing that\nwhere it says, one side is not done.\n\n612\n00:32:58.340 --> 00:33:01.910\nBut here's the key that lets you know\nthat everything is actually up and\n\n613\n00:33:01.910 --> 00:33:07.250\nworking, where it tells you\nthe initialization sequence has completed.\n\n614\n00:33:07.250 --> 00:33:10.150\nEverything is done, up and ready to go.\n\n615\n00:33:10.150 --> 00:33:15.900\nSo, you can always verify by using just\neven the simple log options at that point.\n\n616\n00:33:15.900 --> 00:33:19.920\nIf not, like what Daniel said check out\nthose things that you had to type in.\n\n617\n00:33:19.920 --> 00:33:23.142\nMe, I've actually changed\neven that tunnel network.\n\n618\n00:33:23.142 --> 00:33:29.860\nI did 10.1.192, cuz I'm used to\ntyping 10.1 and everything else.\n\n619\n00:33:29.860 --> 00:33:32.890\nAnd just changing that,\nwrong tunnel network on the one side,\n\n620\n00:33:32.890 --> 00:33:35.250\nto the wrong tunnel network on\nthe other side doesn't work either.\n\n621\n00:33:35.250 --> 00:33:36.140\n&gt;&gt; Equals no working [LAUGH].\n\n622\n00:33:36.140 --> 00:33:37.080\n&gt;&gt; Equals no working.\n\n623\n00:33:37.080 --> 00:33:40.740\nSo just realize that it's\nrelatively easy to configure.\n\n624\n00:33:40.740 --> 00:33:43.740\nAnd a lot of times,\nrelatively easy to even troubleshoot.\n\n625\n00:33:43.740 --> 00:33:47.090\n&gt;&gt; All right, well, Ronnie, thank you so\nmuch for joining us today and\n\n626\n00:33:47.090 --> 00:33:48.870\nexplaining how to do this very thing.\n\n627\n00:33:48.870 --> 00:33:53.230\nCreate our own site-to-site\nVPNs using pfSense and OpenVPN.\n\n628\n00:33:53.230 --> 00:33:54.270\nHope you guys have enjoyed it.\n\n629\n00:33:54.270 --> 00:33:58.020\nBut it is that time for us to sign-off and\nbid you a fond farewell.\n\n630\n00:33:58.020 --> 00:34:00.840\nSo signing off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n631\n00:34:00.840 --> 00:34:02.031\n&gt;&gt; And I'm Ronnie Wong.\n\n632\n00:34:02.031 --> 00:34:03.335\n&gt;&gt; We'll see you next time.\n\n633\n00:34:03.335 --> 00:34:10.554\n[MUSIC]\n\n634\n00:34:10.554 --> 00:34:12.300\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "198345341"
        },
        {
          "description": "In this episode, Daniel and Ronnie walk you through setting up a Remote Access VPN connection using pfSense and OpenVPN. Watch here as they demonstrate and explain each necessary step like configuring local users in pfSense, exporting and installing the OpenVPN client package, and configuring the OpenVPN server to accept connections.",
          "length": "2088",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-3-configure_remote_access_openvpn-010617-2.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-3-configure_remote_access_openvpn-010617-2-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-5-3-configure_remote_access_openvpn-010617-2-sm.jpg",
          "title": "Configure Remote Access OpenVPN",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:06.422\nWelcome to ITProTV,\nI'm your host Don Pezet [CROSSTALK].\n\n2\n00:00:06.422 --> 00:00:08.261\n[MUSIC]\n\n3\n00:00:08.261 --> 00:00:12.208\nYou're watching ITProTV.\n\n4\n00:00:12.208 --> 00:00:16.376\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n5\n00:00:16.376 --> 00:00:19.600\nI'm your host Daniel Lowrie,\nand in today's episode,\n\n6\n00:00:19.600 --> 00:00:23.776\nwe are continuing on with more on\nour pfSense version 2.3.2 series.\n\n7\n00:00:23.776 --> 00:00:27.040\nAnd of course, joining us in the studio\nagain today is our good friend Mr.\n\n8\n00:00:27.040 --> 00:00:28.060\nRonnie Wong.\n\n9\n00:00:28.060 --> 00:00:30.160\nRonnie, welcome back sir,\nso glad to have you.\n\n10\n00:00:30.160 --> 00:00:32.980\nThank you for having me back\non the show as we continue on\n\n11\n00:00:32.980 --> 00:00:37.310\ntaking a look at more of the different\nthings that pfSense can do for us.\n\n12\n00:00:37.310 --> 00:00:38.540\nIn previous episodes,\n\n13\n00:00:38.540 --> 00:00:42.690\nwe've already taken a look especially\non creating different VPN's.\n\n14\n00:00:42.690 --> 00:00:46.493\nWe've talked about, of course,\ncreating a site to site IPsec VPN.\n\n15\n00:00:46.493 --> 00:00:52.397\nAnd we've even shown you how to\nuse OpenVPN, the built in native,\n\n16\n00:00:52.397 --> 00:00:57.469\nalmost native way that pfSense\nwants you to create VPNs.\n\n17\n00:00:57.469 --> 00:01:01.652\nAnd now we're also gonna use\nOpenVPN to do something for\n\n18\n00:01:01.652 --> 00:01:05.260\nwhat we call remote access VPNs as well.\n\n19\n00:01:05.260 --> 00:01:08.220\nSo remember that when we talk\nabout site to site VPNs,\n\n20\n00:01:08.220 --> 00:01:12.360\nwe're establishing essentially\na permanent tunnel between two sites.\n\n21\n00:01:12.360 --> 00:01:14.510\nIt might be between Gainesville and,\n\n22\n00:01:14.510 --> 00:01:16.850\nlet's say,\nJacksonville that we have two offices.\n\n23\n00:01:16.850 --> 00:01:20.280\nAnd wanna make sure that all\nthe traffic between them\n\n24\n00:01:20.280 --> 00:01:23.000\nactually is gonna go over\nthat encrypted connection\n\n25\n00:01:23.000 --> 00:01:26.170\nwithout end users having to\nworry about encryption at all.\n\n26\n00:01:26.170 --> 00:01:28.586\nBut there is an instance, though,\n\n27\n00:01:28.586 --> 00:01:33.510\nthat we may instead choose to create\nwhat we call that remote access VPN.\n\n28\n00:01:33.510 --> 00:01:37.945\nAnd that means that I can set it up\non my firewall to receive connections\n\n29\n00:01:37.945 --> 00:01:41.630\ndirectly from things like laptops and\neven cell phones and\n\n30\n00:01:41.630 --> 00:01:44.450\ndifferent tablets if we choose to.\n\n31\n00:01:44.450 --> 00:01:49.480\nInstead of actually having to do a direct\nconnection to another site's router or\n\n32\n00:01:49.480 --> 00:01:51.060\na firewall at all.\n\n33\n00:01:51.060 --> 00:01:53.546\nSo in the developing of VPN technology,\n\n34\n00:01:53.546 --> 00:01:58.240\npeople saw the basic site to site\nwasn't covering everything they needed.\n\n35\n00:01:58.240 --> 00:02:03.140\nThey need to be able to maybe be\na little more ad-hoc, if they were.\n\n36\n00:02:03.140 --> 00:02:05.730\nRight, and\nthere's a great reason for this.\n\n37\n00:02:05.730 --> 00:02:09.050\nAnd if we take a look at my diagram\nthat I have here on my computer,\n\n38\n00:02:09.050 --> 00:02:11.740\nI hope this will kind of help us out here.\n\n39\n00:02:11.740 --> 00:02:13.860\nLet me see if I can get\neverything moved up a little bit,\n\n40\n00:02:13.860 --> 00:02:16.060\nthat way my head's not blocking anything.\n\n41\n00:02:16.060 --> 00:02:18.726\nSo we've already seen,\nlike we said, the site to site,\n\n42\n00:02:18.726 --> 00:02:22.408\nwhere we pretty much have this type of\nconnection between two different LANs.\n\n43\n00:02:22.408 --> 00:02:25.456\nAnd everything on those LANs,\nif they need to connect to each other,\n\n44\n00:02:25.456 --> 00:02:27.890\nthey'll go over this private,\nencrypted tunnel.\n\n45\n00:02:27.890 --> 00:02:29.610\nHence the site to site.\n\n46\n00:02:29.610 --> 00:02:32.110\nYou have two sites that\nare permanently always going\n\n47\n00:02:32.110 --> 00:02:34.140\nto be creating this VPN tunnel.\n\n48\n00:02:34.140 --> 00:02:36.520\nYep, as long as traffic\nis flowing through there,\n\n49\n00:02:36.520 --> 00:02:40.610\nthat connection will remain viable and\nthen remain protected.\n\n50\n00:02:40.610 --> 00:02:43.470\nBut what if you actually have\na scenario more like this?\n\n51\n00:02:43.470 --> 00:02:45.720\nAnd this is happening more and more often.\n\n52\n00:02:45.720 --> 00:02:49.940\nYou have control over here where\nyou have your own firewall and\n\n53\n00:02:49.940 --> 00:02:52.760\nyou can create that VPN access.\n\n54\n00:02:52.760 --> 00:02:57.220\nBut Daniel, what if I send you out\nas your a traveling salesperson for\n\n55\n00:02:57.220 --> 00:02:59.350\nmy company, and you're at a hotel.\n\n56\n00:02:59.350 --> 00:03:02.670\nWhat are the chances that you\nhave access to their router, or\n\n57\n00:03:02.670 --> 00:03:05.610\ntheir firewall, to create\nthe other end of that connection?\n\n58\n00:03:05.610 --> 00:03:07.386\nWell, the chances for me are pretty good.\n\n59\n00:03:07.386 --> 00:03:08.681\nWell [LAUGH].\nBut, for the normal person,\n\n60\n00:03:08.681 --> 00:03:09.805\nthe average end user, right,\n\n61\n00:03:09.805 --> 00:03:12.890\nyou're not supposed to have access to that\nstuff because it's not your equipment.\n\n62\n00:03:12.890 --> 00:03:16.160\nSo therefore you can't make\nany configurations changes.\n\n63\n00:03:16.160 --> 00:03:19.718\nRight, so normally you don't have\nthat control over the other side,\n\n64\n00:03:19.718 --> 00:03:21.590\nwhereas in the site to site you do.\n\n65\n00:03:21.590 --> 00:03:24.401\nSo even if we were doing\njust a site to site,\n\n66\n00:03:24.401 --> 00:03:26.350\nI would be able to set up the server side.\n\n67\n00:03:26.350 --> 00:03:30.300\nIf Daniel were over on my branch\noffice side, he would set that up.\n\n68\n00:03:30.300 --> 00:03:34.250\nBut essentially,\nwe have control over both ends, okay?\n\n69\n00:03:34.250 --> 00:03:36.779\nIs what we have if we're gonna\nset something up like this.\n\n70\n00:03:36.779 --> 00:03:40.302\nBut if I do have someone that\nis traveling for me, and\n\n71\n00:03:40.302 --> 00:03:43.438\nthey still need that\nsame type of protection.\n\n72\n00:03:43.438 --> 00:03:48.734\nBut they don't have control over the site\nthat they are on instead, what I can\n\n73\n00:03:48.734 --> 00:03:54.380\ndo instead is put what we call a remote\naccess client on that particular computer.\n\n74\n00:03:54.380 --> 00:03:56.460\nI probably should have made that a laptop.\n\n75\n00:03:56.460 --> 00:03:58.220\nAnd then- I'm lugging my desktop around.\n\n76\n00:03:58.220 --> 00:03:59.345\nThere you go, that's right.\n\n77\n00:03:59.345 --> 00:04:02.980\n[LAUGH] Then the tunnel\nlooks more like this.\n\n78\n00:04:02.980 --> 00:04:06.750\nNotice that even though there\nmay be a firewall in between,\n\n79\n00:04:06.750 --> 00:04:11.520\nnow me as a client on this end,\nwhether I'm in that hotel Internet access.\n\n80\n00:04:11.520 --> 00:04:15.900\nOr I'm sitting at McDonald's or\nStarbucks or whatever it is, and\n\n81\n00:04:15.900 --> 00:04:17.730\nI still need to connect back to work.\n\n82\n00:04:17.730 --> 00:04:22.230\nIt's really directly connecting to\nthat one machine over there, and\n\n83\n00:04:22.230 --> 00:04:27.990\nnow coming across and connecting to, well,\nmy LAN instead over here on this side.\n\n84\n00:04:27.990 --> 00:04:33.820\nSo that is what we really want to try and\nestablish doing the same thing.\n\n85\n00:04:33.820 --> 00:04:38.690\nNow the great thing is if I already\nhave site to site VPNs connecting,\n\n86\n00:04:38.690 --> 00:04:42.900\ncan I still do a remote access VPN so\nthat other users that\n\n87\n00:04:42.900 --> 00:04:45.380\naren't gonna connect from that site\nbe able to do that at the same time?\n\n88\n00:04:45.380 --> 00:04:47.820\nOr do I have to do one or the other?\n\n89\n00:04:47.820 --> 00:04:51.760\nWell, with the way that pfSense\nhas it set up, you can do both.\n\n90\n00:04:51.760 --> 00:04:58.470\nYou can have a site to site VPN as well\nas a remote access VPN to get it set up.\n\n91\n00:04:58.470 --> 00:05:02.510\nAnd even better than that, Daniel,\nis the ability to set this up\n\n92\n00:05:02.510 --> 00:05:07.350\nis relatively easy if you remember\nthat it's actually relatively easy.\n\n93\n00:05:07.350 --> 00:05:10.830\nUnlike me,\nwhere sometimes I forget the easiness and\n\n94\n00:05:10.830 --> 00:05:13.130\nthe way that some things are set up for\nyou.\n\n95\n00:05:13.130 --> 00:05:16.570\nAnd they make them designed that way so\nyou don't forget any steps.\n\n96\n00:05:16.570 --> 00:05:20.265\nBut if you're like me,\nyou tend to kind of overthink things.\n\n97\n00:05:20.265 --> 00:05:22.250\n[LAUGH] And\nyou start setting it up manually, and\n\n98\n00:05:22.250 --> 00:05:26.250\nthen you're like, I don't remember setting\nthis up or needing to set this up.\n\n99\n00:05:26.250 --> 00:05:29.412\nIt worked so easy before, and let me\nshow you what I'm talking about, and\n\n100\n00:05:29.412 --> 00:05:30.229\nthat will help us.\n\n101\n00:05:30.229 --> 00:05:32.340\nSo we're gonna show you\nhow to set this up.\n\n102\n00:05:32.340 --> 00:05:35.200\nSo we're gonna work on the alpha side for\nright now, and\n\n103\n00:05:35.200 --> 00:05:38.160\ntalk about all the elements\nthat we need to get set up.\n\n104\n00:05:38.160 --> 00:05:41.530\nSo here it is, I'm over on my client and\nthat gives me the web configurator so\n\n105\n00:05:41.530 --> 00:05:46.089\nthat I can get access into\nmy GUI configuration here.\n\n106\n00:05:47.210 --> 00:05:50.580\nAnd the first thing that you actually\nneed if you're going to do this\n\n107\n00:05:50.580 --> 00:05:54.760\nis you wanna make sure that you have\na certificate authority set up.\n\n108\n00:05:54.760 --> 00:05:58.490\nOnce you have certificate authority set\nup, that's kinda one of the primary\n\n109\n00:05:58.490 --> 00:06:02.120\nthings that you definitely\ndo need right away, okay.\n\n110\n00:06:02.120 --> 00:06:05.950\nNow once you have that,\nyou're just about ready to go.\n\n111\n00:06:05.950 --> 00:06:10.160\nIf I click on Certificates here, you can\nsee that I've actually got a certificate,\n\n112\n00:06:10.160 --> 00:06:13.320\nand I've also made one for\na user, which is Daniel.\n\n113\n00:06:13.320 --> 00:06:15.378\nNow, I wanna show you how\nthis is actually made.\n\n114\n00:06:15.378 --> 00:06:21.010\nCuz Daniel's gonna be my test guinea pig\nhere on this connection that we have.\n\n115\n00:06:21.010 --> 00:06:23.705\nSo the great thing is if I go to System,\nand\n\n116\n00:06:23.705 --> 00:06:27.940\nthen I go to User Manager,\nI'm actually now gonna create this for\n\n117\n00:06:27.940 --> 00:06:31.261\nDaniel to put on his laptop or\nwhatever it might be.\n\n118\n00:06:31.261 --> 00:06:34.748\nIf he's at home and he doesn't have\na firewall and I still need him to connect\n\n119\n00:06:34.748 --> 00:06:38.180\nin, he can put this on his desktop\ncomputer like he was saying.\n\n120\n00:06:38.180 --> 00:06:40.680\nBut since I've already created this,\nlet me go ahead and\n\n121\n00:06:40.680 --> 00:06:44.980\nlet me add another person in here as\nwell so that you can see this here.\n\n122\n00:06:44.980 --> 00:06:49.240\nSo here, we're going to pick on,\nwell, we'll use Taylor at this point.\n\n123\n00:06:49.240 --> 00:06:51.773\nAnd then we'll give him\nmy super-secret password.\n\n124\n00:06:53.938 --> 00:06:57.740\nAs well, and\nthen this is gonna be Taylor A.\n\n125\n00:06:59.260 --> 00:07:02.062\nAnd the expiration date,\nI'm gonna leave it forever as well.\n\n126\n00:07:03.819 --> 00:07:07.770\nAnd we want to make sure that we\nadd him into a group membership for\n\n127\n00:07:07.770 --> 00:07:09.940\nthe remote VPN users.\n\n128\n00:07:09.940 --> 00:07:12.840\nGo ahead and\nclick Move to the member list.\n\n129\n00:07:12.840 --> 00:07:16.580\nAnd now he's a part of that group\nthat gives him access to be\n\n130\n00:07:16.580 --> 00:07:18.820\nthat remote VPN users.\n\n131\n00:07:18.820 --> 00:07:22.980\nThe other thing that we need is\ngonna be that certificate, okay.\n\n132\n00:07:22.980 --> 00:07:26.740\nSo once we have that, I just simply\nselect Create the certificate, and\n\n133\n00:07:26.740 --> 00:07:27.810\nthis descriptive name.\n\n134\n00:07:27.810 --> 00:07:32.710\nAnd this time, we'll just call it Taylor,\noop, if I can spell Taylor.\n\n135\n00:07:32.710 --> 00:07:37.224\nI still can't spell Taylor, and\nwe'll leave everything else alone, okay.\n\n136\n00:07:37.224 --> 00:07:40.504\nSo I'm not gonna even fill in this\nauthorize key at this point, and\n\n137\n00:07:40.504 --> 00:07:41.160\nclick Save.\n\n138\n00:07:42.270 --> 00:07:46.354\nNow that I have that set up,\nthat's really just two steps, right.\n\n139\n00:07:46.354 --> 00:07:48.330\nSo this is what I am counting, okay?\n\n140\n00:07:48.330 --> 00:07:52.550\nSo here it is, I've got a certificate\nnow made up for Taylor.\n\n141\n00:07:52.550 --> 00:07:56.438\nI've got a user, and if I go back\nto System and Certificate Manager,\n\n142\n00:07:56.438 --> 00:08:00.070\nselect Certificates,\nyou'll see here's the one for Taylor.\n\n143\n00:08:00.070 --> 00:08:03.758\nSo I wanted to show you that it was\nthere and that it was available to us.\n\n144\n00:08:03.758 --> 00:08:06.529\nSo, you don't have to go in and\nrecreate everything.\n\n145\n00:08:06.529 --> 00:08:08.530\nAll you have to do is follow the rules.\n\n146\n00:08:08.530 --> 00:08:11.920\nMake sure if you don't have a certificate\nyou're actually gonna set that up so\n\n147\n00:08:11.920 --> 00:08:14.570\nthat the other side doesn't\nhave to provide anything but\n\n148\n00:08:14.570 --> 00:08:17.620\na password to get access back in.\n\n149\n00:08:17.620 --> 00:08:18.830\nThey'll also have a certificate, so\n\n150\n00:08:18.830 --> 00:08:23.760\nit's multi-factor authentication is what\nthey'll be providing here to do this.\n\n151\n00:08:23.760 --> 00:08:29.010\nAll right, now, the easiest part of this,\nright, is actually ahead of us.\n\n152\n00:08:29.010 --> 00:08:31.085\nI know that sounds strange,\nbut it really is.\n\n153\n00:08:31.085 --> 00:08:36.450\nAnd the reason why is if you go to VPN,\n\n154\n00:08:36.450 --> 00:08:41.050\nand then open VPN, there is something\nthat I easily forgot here, and\n\n155\n00:08:41.050 --> 00:08:46.970\nI need to do one more step before I do\nthis, is there is this wizard here, okay?\n\n156\n00:08:46.970 --> 00:08:49.160\nAnd we're simply gonna\nwalk through the wizard.\n\n157\n00:08:49.160 --> 00:08:51.650\nNow, when I tell you this,\nthat this is the easiest part,\n\n158\n00:08:51.650 --> 00:08:53.380\nI really mean it's the easiest part.\n\n159\n00:08:53.380 --> 00:08:54.440\nBut I did forget one thing.\n\n160\n00:08:54.440 --> 00:08:56.520\nSee, even that small process,\n\n161\n00:08:56.520 --> 00:09:00.210\nbecause we're gonna create a package\nthat I'm gonna give to Daniel and\n\n162\n00:09:00.210 --> 00:09:05.070\ngive him access to that package to install\non his computer, how do I do that?\n\n163\n00:09:05.070 --> 00:09:09.920\nI need to go and add in a package that\nallows me to do that over OpenVPN.\n\n164\n00:09:09.920 --> 00:09:12.080\nSo, that is kinda the step three.\n\n165\n00:09:12.080 --> 00:09:15.720\nSo, I should've told you make sure\nyou have the certificate authority.\n\n166\n00:09:15.720 --> 00:09:16.460\nAnd then, of course,\n\n167\n00:09:16.460 --> 00:09:19.360\nmake sure you generate a user that\nwill then generate a certificate.\n\n168\n00:09:19.360 --> 00:09:20.750\nThat's step one and two.\n\n169\n00:09:20.750 --> 00:09:23.270\nThe third step should have been system.\n\n170\n00:09:24.330 --> 00:09:25.800\nAnd then package manager here.\n\n171\n00:09:25.800 --> 00:09:29.750\nSee, I was so excited about getting\nthe open VPN I forgot all about this.\n\n172\n00:09:29.750 --> 00:09:34.020\nNow, I don't have any packages installed,\nbut once you click on System and\n\n173\n00:09:34.020 --> 00:09:38.370\nyou go to Package Manager here,\nyou're gonna select Available Packages.\n\n174\n00:09:39.600 --> 00:09:43.030\nNow, once you get to Available Packages,\nwhat you're looking for\n\n175\n00:09:43.030 --> 00:09:45.730\nis the open VPN client.\n\n176\n00:09:45.730 --> 00:09:49.510\nSo, if I scroll down,\nthe OpenVPN client export\n\n177\n00:09:49.510 --> 00:09:53.270\nallows a pre-configured\nOpenVPN Windows client or\n\n178\n00:09:53.270 --> 00:09:58.950\nMacOS viscosity configuration bundle\nto be directly exported from PFSense.\n\n179\n00:10:00.290 --> 00:10:03.450\nSo, I click the plus sign\nto install a package, and\n\n180\n00:10:03.450 --> 00:10:07.750\nthen click this checkbox to go ahead and\nconfirm the installation.\n\n181\n00:10:07.750 --> 00:10:10.620\nAnd in a moment,\nif everything is actually up and good,\n\n182\n00:10:10.620 --> 00:10:13.070\nthis green bar should\nfill all the way across.\n\n183\n00:10:13.070 --> 00:10:17.970\nWe should see at the bottom where it tells\nyou that the package was successful.\n\n184\n00:10:17.970 --> 00:10:21.150\nI'm gonna click on Installed Packages and\ngive it a moment and\n\n185\n00:10:21.150 --> 00:10:23.140\nverify that it shows up here.\n\n186\n00:10:23.140 --> 00:10:26.500\nYou're looking for the check mark\nthat says everything is current.\n\n187\n00:10:26.500 --> 00:10:31.500\nIf you have this other one instead,\nthere should be an update.\n\n188\n00:10:31.500 --> 00:10:34.630\nIn other words,\nthese packages do get updated.\n\n189\n00:10:34.630 --> 00:10:35.850\nYou may wanna go ahead and\n\n190\n00:10:35.850 --> 00:10:39.140\nalso run that again and\nreinstall this to make that happen.\n\n191\n00:10:39.140 --> 00:10:42.149\nAnd the way that you do that is\nover here on the right hand side\n\n192\n00:10:44.376 --> 00:10:46.150\nWhere you can actually reinstall it.\n\n193\n00:10:46.150 --> 00:10:48.130\nSo, if you do have an update,\nyou can reinstall it and\n\n194\n00:10:48.130 --> 00:10:50.480\nthat should also update\nthe package as well.\n\n195\n00:10:50.480 --> 00:10:54.280\nSo, now that everything is\nthere that we have available,\n\n196\n00:10:54.280 --> 00:10:56.520\nthis is the perfect time to\nwalk through that wizard and\n\n197\n00:10:56.520 --> 00:10:59.630\nshow you some of the things\nthat it's gonna configure.\n\n198\n00:10:59.630 --> 00:11:03.610\nSo if I click on open VPN, VPN, open VPN,\n\n199\n00:11:03.610 --> 00:11:08.500\nand now inside of VPN, it's not gonna be\na server, it's not gonna be a client.\n\n200\n00:11:08.500 --> 00:11:12.310\nWe're going to click on\nWizards here at this point.\n\n201\n00:11:12.310 --> 00:11:14.020\nNow, can you create this manually?\n\n202\n00:11:14.020 --> 00:11:14.830\nYes.\n\n203\n00:11:14.830 --> 00:11:16.980\nWill you forget things if\nyou create it manually?\n\n204\n00:11:16.980 --> 00:11:17.740\nAbsolutely.\n\n205\n00:11:17.740 --> 00:11:18.710\nHow do I know?\n\n206\n00:11:18.710 --> 00:11:20.940\nBecause that's exactly\nwhat happened to me.\n\n207\n00:11:20.940 --> 00:11:23.040\nIs I absolutely forgot it.\n\n208\n00:11:23.040 --> 00:11:25.280\nSo, notice that the first\nthing it asked me for\n\n209\n00:11:25.280 --> 00:11:28.532\nis what type of server is\nthis going to be, okay?\n\n210\n00:11:28.532 --> 00:11:29.780\nAnd what this is really looking for\n\n211\n00:11:29.780 --> 00:11:32.770\nis how are you gonna\nauthenticate those remote users.\n\n212\n00:11:32.770 --> 00:11:37.120\nAre you going to use a local\nusername-password database like I did?\n\n213\n00:11:37.120 --> 00:11:39.920\nYes, but\nnotice that you have these other options.\n\n214\n00:11:39.920 --> 00:11:44.140\nYou can set up Radius, or you can\nconfigure this also to work with LDAP.\n\n215\n00:11:44.140 --> 00:11:46.740\nNow, I've done this before\nwhere we configured it to work\n\n216\n00:11:46.740 --> 00:11:49.470\nwith a Microsoft Active Directory.\n\n217\n00:11:49.470 --> 00:11:51.720\nAnd you might be wondering why\nthe heck would you do that?\n\n218\n00:11:51.720 --> 00:11:55.490\nBecause that allowed then for\nthose users to connect in, but\n\n219\n00:11:55.490 --> 00:12:00.160\nonly having to remember one password,\nright, which is their domain credentials.\n\n220\n00:12:00.160 --> 00:12:02.840\nSo, you can actually configure\nthis to make it work.\n\n221\n00:12:02.840 --> 00:12:03.710\nNow, over on that side,\n\n222\n00:12:03.710 --> 00:12:06.530\nif you have to do that there's\na little bit more setup to do that.\n\n223\n00:12:06.530 --> 00:12:09.650\nBut you have to create\nthat same user group\n\n224\n00:12:09.650 --> 00:12:11.800\nover inside of your active\ndirectory if you do that.\n\n225\n00:12:11.800 --> 00:12:13.370\nSo, if you did it like I did and\n\n226\n00:12:13.370 --> 00:12:17.780\nyou called it like remote user VPN,\nyou have to go to your active directory.\n\n227\n00:12:17.780 --> 00:12:23.170\nYou have to create a security group in\nthere named exactly the same thing and\n\n228\n00:12:23.170 --> 00:12:26.480\nthen add those users\ninto that security group.\n\n229\n00:12:26.480 --> 00:12:30.610\nAnd once that's done,\nat that point, and it says, hey,\n\n230\n00:12:30.610 --> 00:12:32.880\nif you're gonna use LDAP it's\ngonna tell you what server,\n\n231\n00:12:32.880 --> 00:12:35.190\nmake sure you know the IP address and\npoint it there.\n\n232\n00:12:35.190 --> 00:12:36.300\nAnd you're done.\n\n233\n00:12:36.300 --> 00:12:36.820\nSo that way,\n\n234\n00:12:36.820 --> 00:12:40.910\nyou don't even have to set up anything\nelse as far as all the other things.\n\n235\n00:12:40.910 --> 00:12:44.730\nBut for us, we're just gonna use\nthis local user group instead.\n\n236\n00:12:46.310 --> 00:12:47.970\nI click Next.\n\n237\n00:12:47.970 --> 00:12:51.670\nNotice it's asking me for\na certificate authority.\n\n238\n00:12:51.670 --> 00:12:52.910\nNow, if I don't have one of these,\n\n239\n00:12:52.910 --> 00:12:55.060\nthat's why it's important\nto set up at the beginning,\n\n240\n00:12:55.060 --> 00:12:57.630\nthat means that you're gonna have\nto go back and set this up anyways.\n\n241\n00:12:57.630 --> 00:12:59.070\nSo you might as well go ahead and\n\n242\n00:12:59.070 --> 00:13:03.040\nset it up here, that way we\ndon't have to say add a new CA.\n\n243\n00:13:03.040 --> 00:13:03.810\nBut if you choose to,\n\n244\n00:13:03.810 --> 00:13:07.400\nyou of course can actually say\nI want to use this CA instead.\n\n245\n00:13:07.400 --> 00:13:10.670\nAnd notice it gives you that\nability of adding new one in there.\n\n246\n00:13:10.670 --> 00:13:12.270\nWe're gonna click Next.\n\n247\n00:13:12.270 --> 00:13:15.210\nAnd now it's gonna say hey,\nwhat's the server certificate?\n\n248\n00:13:15.210 --> 00:13:17.320\nAnd I have actually\ndifferent certificates.\n\n249\n00:13:17.320 --> 00:13:20.280\nBut the one that I want, of course,\nis gonna be the one for my server.\n\n250\n00:13:20.280 --> 00:13:22.420\nI have one here for Bravo,\n\n251\n00:13:22.420 --> 00:13:26.990\nwhich was actually for my client-side\non the open VPN site-to-site.\n\n252\n00:13:26.990 --> 00:13:29.500\nAnd then Taylor and Daniel here.\n\n253\n00:13:29.500 --> 00:13:34.630\nSo I'm gonna use the certificate for\nthe certificate authority.\n\n254\n00:13:34.630 --> 00:13:37.700\nAnd at this point,\nI just need to scroll down.\n\n255\n00:13:37.700 --> 00:13:41.906\nI'm gonna leave it at the WAN\ninterface on port UDP, and\n\n256\n00:13:41.906 --> 00:13:47.650\nthe default that I like using for\nall of my remote users is gonna be 1194.\n\n257\n00:13:47.650 --> 00:13:50.410\nYou can choose whatever\nnumber that you want to,\n\n258\n00:13:50.410 --> 00:13:54.630\nas long as you remember what that number\nis, that's all that matters for you.\n\n259\n00:13:55.900 --> 00:13:59.560\nAnd then this one,\nI'm gonna use this default description for\n\n260\n00:13:59.560 --> 00:14:00.970\nremote access users.\n\n261\n00:14:02.240 --> 00:14:07.220\nAnd then, the rest of this I pretty much\ndon't have to do anything else here.\n\n262\n00:14:07.220 --> 00:14:09.730\nI don't even have to worry\nabout generating anything else.\n\n263\n00:14:09.730 --> 00:14:13.540\nDiffie-Hellman parameter is fine,\n\n264\n00:14:13.540 --> 00:14:17.860\n256, 256,\nthat's usually what I like to leave it at.\n\n265\n00:14:17.860 --> 00:14:23.890\nAnd then for the tunnel settings, this is\nwhere you need another IP address network.\n\n266\n00:14:23.890 --> 00:14:27.420\nSo, not the one on your LAN\nthat you're connecting to.\n\n267\n00:14:27.420 --> 00:14:29.110\nNot the one that somebody\nis connecting from.\n\n268\n00:14:29.110 --> 00:14:30.890\nBut you need another one here.\n\n269\n00:14:30.890 --> 00:14:32.880\nNow, you can start yours\nwherever you want to, but\n\n270\n00:14:32.880 --> 00:14:37.760\nsince I made my site to sites in the\noriginal here, slash 30s beginning with\n\n271\n00:14:37.760 --> 00:14:42.710\ndot zero and then dot four, dot eight,\nI'm gonna say, look, I know something.\n\n272\n00:14:42.710 --> 00:14:46.880\nI'm gonna only have about 16 or\n17, probably 14 of these users, so\n\n273\n00:14:46.880 --> 00:14:51.940\nI'm gonna do a slash 28,\nwhich is gonna end in dot 240 for me.\n\n274\n00:14:51.940 --> 00:14:59.060\nAnd that will give me from 129 through 142\nas far as different IP addresses that will\n\n275\n00:14:59.060 --> 00:15:04.140\nbe able to connect in for me on this\nnetwork, on remote users connecting in.\n\n276\n00:15:04.140 --> 00:15:08.320\nOf course,\nthe local network configuration.\n\n277\n00:15:08.320 --> 00:15:12.400\nAnd from this point on, I don't think\nI configured anything else in here.\n\n278\n00:15:12.400 --> 00:15:14.394\nI'm gonna have that one common subnet,\n\n279\n00:15:14.394 --> 00:15:17.130\nnot the slash 30 like we\ndid in the site to site.\n\n280\n00:15:18.660 --> 00:15:22.340\nAnd then you give it some other\ninformation such as the DNS servers\n\n281\n00:15:22.340 --> 00:15:26.400\nyou want those users to be able to,\nof course, have access to.\n\n282\n00:15:26.400 --> 00:15:31.740\nNow, this is important because once\nthey create that open VPN connection,\n\n283\n00:15:31.740 --> 00:15:36.310\nthe traffic from their machine is\nessentially going to go into your machine,\n\n284\n00:15:36.310 --> 00:15:38.420\nor your network, excuse me.\n\n285\n00:15:38.420 --> 00:15:41.410\nAnd even if they're browsing the Internet\nit should come back out through\n\n286\n00:15:41.410 --> 00:15:42.960\nyour firewall.\n\n287\n00:15:42.960 --> 00:15:46.030\nSo they're kind of making\nan unusual hair pin\n\n288\n00:15:46.030 --> 00:15:48.510\nif they still need to browse\nto the Internet here.\n\n289\n00:15:48.510 --> 00:15:53.234\nSo it is important that you add\nin at least the DNS servers here.\n\n290\n00:15:53.234 --> 00:15:56.236\nDomain name, not so much so, but\n\n291\n00:15:56.236 --> 00:16:02.154\nyou can if you need them to be of\ncourse able to do name resolution.\n\n292\n00:16:02.154 --> 00:16:04.987\nIt would seem the MTP would\nprobably be- It can be.\n\n293\n00:16:04.987 --> 00:16:08.596\nPretty important, because if you're\nusing Windows Active Directory and\n\n294\n00:16:08.596 --> 00:16:11.584\nthe time is off just enough,\nthen you won't be able to login.\n\n295\n00:16:11.584 --> 00:16:12.864\nThings will go crazy on you, right?\n\n296\n00:16:12.864 --> 00:16:14.390\nThere is that possibility.\n\n297\n00:16:14.390 --> 00:16:16.860\nThe very fact that you\nhave these NTP servers,\n\n298\n00:16:16.860 --> 00:16:20.890\nif you really do need those users to sync\nup that way, you definitely want this.\n\n299\n00:16:20.890 --> 00:16:23.900\nAnd it can even cause havoc\non the Open VPN side.\n\n300\n00:16:23.900 --> 00:16:29.161\nSo on this one, because the firewall's\nactually gonna connect in,\n\n301\n00:16:29.161 --> 00:16:34.260\nI could just leave it as the,\nlet's just do 127.0.0.1.\n\n302\n00:16:34.260 --> 00:16:37.830\nOr I could just do the IP address\nof the external interface.\n\n303\n00:16:37.830 --> 00:16:41.350\nBut if you do have your NTP servers\nyou want them to get access to\n\n304\n00:16:41.350 --> 00:16:43.740\nout there on the Internet,\nmake sure you put that in there too.\n\n305\n00:16:43.740 --> 00:16:47.000\nBut at this point, I'm not going to worry\nabout it cuz I'm not really connecting out\n\n306\n00:16:47.000 --> 00:16:47.950\nto make this happen.\n\n307\n00:16:47.950 --> 00:16:52.424\nI'm gonna put it on a fake network in\na little bit, is what I'm gonna do.\n\n308\n00:16:52.424 --> 00:16:54.874\nSo wins, of course,\nif you want [CROSSTALK] I don't know,\n\n309\n00:16:54.874 --> 00:16:55.629\nif you have wins.\n\n310\n00:16:55.629 --> 00:16:57.563\n[CROSSTALK] We recommend upgrading.\n\n311\n00:16:57.563 --> 00:17:01.600\n[LAUGH] Now so that's pretty much it.\n\n312\n00:17:01.600 --> 00:17:05.710\nSo we've just set up an actual\nopen VPN server is what we did.\n\n313\n00:17:05.710 --> 00:17:09.200\nAnd all the things that we'd setup,\nthe great thing is it was a wizard and\n\n314\n00:17:09.200 --> 00:17:11.140\nyou just have to walk through it.\n\n315\n00:17:11.140 --> 00:17:12.840\nMake sure you read those options, and\n\n316\n00:17:12.840 --> 00:17:18.480\nif your company has any security policies,\nmake sure you follow those policies.\n\n317\n00:17:18.480 --> 00:17:21.340\nAnd of course, you need to make\nsure you set up the rules.\n\n318\n00:17:21.340 --> 00:17:22.010\nNow the great thing is,\n\n319\n00:17:22.010 --> 00:17:24.920\nif you don't know anything about\nsetting up rules, notice this.\n\n320\n00:17:24.920 --> 00:17:26.890\nIt's just a checkmark instead.\n\n321\n00:17:26.890 --> 00:17:28.820\nSo it even says, look, here it is.\n\n322\n00:17:28.820 --> 00:17:30.740\nThere's two rules that need to be done.\n\n323\n00:17:30.740 --> 00:17:34.202\nYou need to make sure that the clients\ncan talk to your open VPN server.\n\n324\n00:17:34.202 --> 00:17:35.922\nClients can talk to the open VPN server,\n\n325\n00:17:35.922 --> 00:17:38.205\nyou're not gonna establish\nan open VPN connection.\n\n326\n00:17:38.205 --> 00:17:42.100\nAnd I would assume this needs to be done\non both ends of the VPN tunnel, right?\n\n327\n00:17:42.100 --> 00:17:44.660\nWell, it would, except that\nthe other end you have a client,\n\n328\n00:17:44.660 --> 00:17:46.210\nwhich is actually gonna do it for you.\n\n329\n00:17:46.210 --> 00:17:47.550\nWell, that's special.\n\n330\n00:17:47.550 --> 00:17:49.460\nYeah, so yeah,\nthe client actually says, hey,\n\n331\n00:17:49.460 --> 00:17:52.700\nI'm gonna open up this connection\nright through there, so yeah.\n\n332\n00:17:52.700 --> 00:17:53.395\nAren't they sweet?\n\n333\n00:17:53.395 --> 00:17:55.700\n[LAUGH] Well, and\nyour machine will tell you, right?\n\n334\n00:17:55.700 --> 00:17:58.427\nSo when you actually install this client\nand you try and make a connection,\n\n335\n00:17:58.427 --> 00:18:00.733\nit goes you're trying to connect,\ndo you want to do this?\n\n336\n00:18:00.733 --> 00:18:02.870\nYou're gonna either allow it or\nyou're not.\n\n337\n00:18:02.870 --> 00:18:07.290\nSo you'll actually see the Windows\nfirewall may actually kind of put up like\n\n338\n00:18:07.290 --> 00:18:08.730\nwe don't have this open.\n\n339\n00:18:08.730 --> 00:18:11.890\nOr yes, you already have this\nopen at some point as well.\n\n340\n00:18:11.890 --> 00:18:13.520\nAnd then of course, you need to allow for\n\n341\n00:18:13.520 --> 00:18:18.016\ntraffic to go through that VPN\nconnection once it's been established.\n\n342\n00:18:18.016 --> 00:18:21.590\nAll right, click Next.\n\n343\n00:18:21.590 --> 00:18:24.100\nAnd now look at that,\nit says we're finished.\n\n344\n00:18:24.100 --> 00:18:27.780\nAnd now all that we need to do is\nright here in this second line, okay.\n\n345\n00:18:27.780 --> 00:18:30.717\nIt says a configuration is\nnow complete to build and\n\n346\n00:18:30.717 --> 00:18:34.749\nexport the client configurations,\nbrowse the system and packages,\n\n347\n00:18:34.749 --> 00:18:37.270\ninstall that open VPN export client.\n\n348\n00:18:37.270 --> 00:18:40.145\nSo I didn't really have to do it\nat the beginning, but I like to,\n\n349\n00:18:40.145 --> 00:18:42.920\ncuz it's kind of easily\npackaged at that point.\n\n350\n00:18:42.920 --> 00:18:48.600\nI click Finish, and now, we are ready\nto go, at least that's what you think.\n\n351\n00:18:48.600 --> 00:18:50.910\nAll right, so what do I need to do?\n\n352\n00:18:50.910 --> 00:18:53.859\nWell, now that we have this and\nDaniel now comes and says hey,\n\n353\n00:18:53.859 --> 00:18:56.205\nI'm gonna be on the road for\nsix weeks, Ronnie.\n\n354\n00:18:56.205 --> 00:19:00.850\nI need to get that open VPN connection\nup and going from my laptop.\n\n355\n00:19:00.850 --> 00:19:03.720\nWell, this is where we log\ninto the firewall, and\n\n356\n00:19:03.720 --> 00:19:07.210\nwe go to VPN and then OpenVPN.\n\n357\n00:19:07.210 --> 00:19:08.790\nAnd then what we're looking for\n\n358\n00:19:08.790 --> 00:19:13.860\nacross this bar right here is gonna\nbe this one, Client Export, okay.\n\n359\n00:19:15.350 --> 00:19:22.050\nSo now if I select Client Export and\nthen take a look here at the open\n\n360\n00:19:22.050 --> 00:19:27.020\nVPN server, make sure that I see this,\nthat it is the correct server.\n\n361\n00:19:27.020 --> 00:19:30.874\nIt is important cuz if you have another\nserver there, it may actually show up, so\n\n362\n00:19:30.874 --> 00:19:32.246\nlike your site-to-site.\n\n363\n00:19:32.246 --> 00:19:33.125\nBe careful.\n\n364\n00:19:33.125 --> 00:19:40.114\nI'm gonna do this by the interface IP\naddress for the resolution at this point,\n\n365\n00:19:40.114 --> 00:19:45.420\nand then also of course\nthe verify server common name.\n\n366\n00:19:45.420 --> 00:19:49.566\nThis recommends that you leave it here if\nyou're running open VPN 2.3 or higher.\n\n367\n00:19:49.566 --> 00:19:53.456\nBut it knows if you're actually running\nolder versions, you have some options that\n\n368\n00:19:53.456 --> 00:19:56.430\nyou can check, but for us,\nwe're gonna use automatic as well.\n\n369\n00:19:58.090 --> 00:20:02.026\nScroll down,\nadditional certificate export options,\n\n370\n00:20:02.026 --> 00:20:06.380\nI'm gonna leave the same password here,\nat least I think I am.\n\n371\n00:20:11.112 --> 00:20:12.186\nMake sure I actually\ntype that in correctly.\n\n372\n00:20:15.917 --> 00:20:20.780\nAnd we're not using a proxy or\nthe interfaces.\n\n373\n00:20:20.780 --> 00:20:26.740\nAnd then I can save the default,\nscroll down again.\n\n374\n00:20:26.740 --> 00:20:30.730\nAnd now, all we're looking for\nis what we call the open VPN client.\n\n375\n00:20:30.730 --> 00:20:33.730\nIf Daniel is the one that comes to me,\nnotice that it went ahead and\n\n376\n00:20:33.730 --> 00:20:36.730\nset it up for Daniel, as well as for\nTaylor at this point.\n\n377\n00:20:36.730 --> 00:20:40.210\nSo even if Taylor is not going\nout of town, but when he does and\n\n378\n00:20:40.210 --> 00:20:45.810\nsays I really need this to happen,\nI now can go over here to the export side.\n\n379\n00:20:45.810 --> 00:20:49.230\nAnd I can export standard configurations.\n\n380\n00:20:49.230 --> 00:20:52.900\nIf they're already using a particular\nVPN client that they love,\n\n381\n00:20:54.130 --> 00:20:57.540\nthis is the configuration that they may\nactually need, either the archive or\n\n382\n00:20:57.540 --> 00:21:02.150\nthe config only, and they just import\nthat into whatever client that they want.\n\n383\n00:21:02.150 --> 00:21:05.540\nYou, of course, can also do\nthe inline configurations, too, so\n\n384\n00:21:05.540 --> 00:21:07.780\nthose are some special options.\n\n385\n00:21:07.780 --> 00:21:11.666\nNotice right here where it says iOS and\nAndroid, so it's letting you know if you\n\n386\n00:21:11.666 --> 00:21:16.230\nneed this on the phone or you're doing\nsomething like this, you may choose that.\n\n387\n00:21:16.230 --> 00:21:20.160\nAnd then Windows installer and\nlet's assume at this point that more than\n\n388\n00:21:20.160 --> 00:21:24.890\nlikely on a business laptop, it's probably\ngonna be a Windows type of laptop.\n\n389\n00:21:24.890 --> 00:21:31.537\nSo I'm gonna choose this one here and\nthen select the x64win6 version,\n\n390\n00:21:31.537 --> 00:21:35.874\nand hopefully,\nthat is beginning to download.\n\n391\n00:21:35.874 --> 00:21:43.002\nI'm gonna make sure that I save this,\nhopefully, inside of my folder here.\n\n392\n00:21:43.002 --> 00:21:45.690\nI've already downloaded it before,\nbut let me save it again.\n\n393\n00:21:47.734 --> 00:21:48.690\nOops, maybe not.\n\n394\n00:21:54.287 --> 00:21:57.690\nYes, let me replace it, so\nI know it's fresh, it's brand new.\n\n395\n00:21:57.690 --> 00:22:02.370\nEverything is connected here,\n55% of the download at this point.\n\n396\n00:22:08.367 --> 00:22:11.626\nAll right, so once that's downloaded,\n\n397\n00:22:11.626 --> 00:22:17.677\nthis now means I can either email that\nparticular file that I have available,\n\n398\n00:22:17.677 --> 00:22:21.800\nor I get Daniel to bring his laptop in,\nokay?\n\n399\n00:22:21.800 --> 00:22:27.390\nAnd once we do that, we can now install\nthat onto his particular laptop and\n\n400\n00:22:27.390 --> 00:22:31.820\nmake a connection from outside of\nour network to verify that it works.\n\n401\n00:22:31.820 --> 00:22:35.980\nAnd so that is really going to be our\nvery next step that we need to do.\n\n402\n00:22:35.980 --> 00:22:38.458\nSo I have of course Daniel's machine,\n\n403\n00:22:38.458 --> 00:22:41.320\nlet's say he's running\na Windows 7 machine.\n\n404\n00:22:41.320 --> 00:22:44.180\nAnd this is what we're actually going\nto do right here is make sure that\n\n405\n00:22:44.180 --> 00:22:48.370\nwe download this, and of course,\ninstall the client and\n\n406\n00:22:48.370 --> 00:22:50.520\nthen we'll verify it by testing.\n\n407\n00:22:50.520 --> 00:22:55.030\nAll right, so let's go ahead and\ntake a look then at what we need to do.\n\n408\n00:22:55.030 --> 00:22:57.240\nI need to access that file.\n\n409\n00:22:57.240 --> 00:23:01.570\nSo, I'm going to get\ninto my shared folder and\n\n410\n00:23:01.570 --> 00:23:06.050\nmy lab, ITProTV, and\nthere is the file that I'm looking for.\n\n411\n00:23:06.050 --> 00:23:08.610\nSo, I'm gonna click and\ndrag that over onto the desktop.\n\n412\n00:23:10.220 --> 00:23:12.320\nAnd now I have a zipped-up file,\n\n413\n00:23:12.320 --> 00:23:15.330\neverything else is pretty\nmuch going to be inside that.\n\n414\n00:23:15.330 --> 00:23:19.100\nHere, the recommendation of course is\nthat you run this as the administrator.\n\n415\n00:23:19.100 --> 00:23:23.949\nSo I'm gonna right click, run as\nthe administrator to install the package.\n\n416\n00:23:23.949 --> 00:23:27.970\nNotice it's gonna give me\nthe OpenVPN Installer.\n\n417\n00:23:27.970 --> 00:23:28.810\nClick Install.\n\n418\n00:23:29.870 --> 00:23:33.630\nAnd then go through the setup wizard,\njust like it says.\n\n419\n00:23:33.630 --> 00:23:36.340\nI'm gonna agree,\nusing all the default settings.\n\n420\n00:23:36.340 --> 00:23:39.500\nI'm not stopping to do anything,\njust fairly quickly doing this.\n\n421\n00:23:39.500 --> 00:23:43.060\nNow if you do have a reason that you have\nto install some of these other things,\n\n422\n00:23:43.060 --> 00:23:44.580\nmake sure you take a look at them.\n\n423\n00:23:44.580 --> 00:23:45.280\nMost of the time,\n\n424\n00:23:45.280 --> 00:23:49.500\nthis is all anybody really needs to\nmake sure that this is up and ready.\n\n425\n00:23:50.580 --> 00:23:54.003\nIt tells me that it looks\nlike it's completed.\n\n426\n00:23:54.003 --> 00:23:58.383\nClick Next, and I'm going to put\n\n427\n00:23:58.383 --> 00:24:04.021\na checkmark here to\nstart the open VPN GUI.\n\n428\n00:24:04.021 --> 00:24:05.875\nUncheck the show readme file.\n\n429\n00:24:05.875 --> 00:24:09.460\nNow you should read the readme of course,\nif you're unfamiliar with this.\n\n430\n00:24:09.460 --> 00:24:10.900\nThat's just boring television.\n\n431\n00:24:10.900 --> 00:24:15.840\nIt is boring television but\nyou may end up finding out that it may\n\n432\n00:24:15.840 --> 00:24:18.060\nkind of give you some hints\non troubleshooting sometimes.\n\n433\n00:24:18.060 --> 00:24:21.010\nOr tell you what they improved on\nif they've updated the version.\n\n434\n00:24:21.010 --> 00:24:26.214\nThis is why it's also important that\nbefore you implement one of these packages\n\n435\n00:24:26.214 --> 00:24:31.550\nthat you're going to export out,\ngo back in and make sure that you update.\n\n436\n00:24:31.550 --> 00:24:33.180\nCheck out the installed packages.\n\n437\n00:24:33.180 --> 00:24:34.930\nVerify it's the latest version.\n\n438\n00:24:34.930 --> 00:24:39.900\nBecause sometimes they do add some\nconfiguration changes in there to do this.\n\n439\n00:24:39.900 --> 00:24:41.770\nAnd you take a look.\n\n440\n00:24:41.770 --> 00:24:43.640\nThere is, of course, a shortcut.\n\n441\n00:24:43.640 --> 00:24:49.340\nBut you don't see the GUI or the gooey\nkind of slapping you in the face.\n\n442\n00:24:49.340 --> 00:24:52.780\nFor us to actually find this out, it can\nbe a little bit frustrating if you haven't\n\n443\n00:24:52.780 --> 00:24:57.460\nseen it, is we need to go over to\nthe lower right hand corner of the screen.\n\n444\n00:24:57.460 --> 00:25:01.450\nAnd when we do so,\nit's inside of the system tray.\n\n445\n00:25:01.450 --> 00:25:03.620\nAnd what we're looking for is right here.\n\n446\n00:25:03.620 --> 00:25:06.910\nI know, it's even monochromatic\nat the very beginning.\n\n447\n00:25:06.910 --> 00:25:07.640\nIt's tiny.\n\n448\n00:25:07.640 --> 00:25:08.940\nDoesn't pop out at you.\n\n449\n00:25:08.940 --> 00:25:12.990\nYeah, it's not exactly one of those\nthings that stands out in the open.\n\n450\n00:25:12.990 --> 00:25:18.540\nBut if I right click on that, I have where\nit says, hey, here is the one for Daniel.\n\n451\n00:25:18.540 --> 00:25:20.060\nHere is the one for Ronnie.\n\n452\n00:25:20.060 --> 00:25:23.040\nThis one I created in an earlier version.\n\n453\n00:25:23.040 --> 00:25:25.720\nHere's the one for\nDaniel that we just created.\n\n454\n00:25:25.720 --> 00:25:27.900\nI should be able to right click and\nconnect.\n\n455\n00:25:29.860 --> 00:25:33.520\nAnd then, the username should be Daniel.\n\n456\n00:25:34.790 --> 00:25:36.430\nAnd then the password.\n\n457\n00:25:36.430 --> 00:25:38.700\nUnless I change the password,\nwhich would be funny.\n\n458\n00:25:38.700 --> 00:25:41.430\nCuz it's not like I\nhaven't done that before.\n\n459\n00:25:41.430 --> 00:25:42.040\nClick okay.\n\n460\n00:25:42.040 --> 00:25:44.410\nAnd it's gonna ask me for\nthe other password.\n\n461\n00:25:45.440 --> 00:25:46.470\nKind of like verifying.\n\n462\n00:25:46.470 --> 00:25:47.840\nYou know when it says confirm.\n\n463\n00:25:47.840 --> 00:25:48.670\nYeah.\n\n464\n00:25:48.670 --> 00:25:49.170\nClick there.\n\n465\n00:25:50.200 --> 00:25:54.560\nAnd in a moment here, if everything works\nout the way it should, it should make\n\n466\n00:25:54.560 --> 00:25:58.600\nthe connection if I actually established\nan actual connection in between.\n\n467\n00:25:58.600 --> 00:26:03.120\nNow, if it doesn't, it means I do need\nto do a little bit more troubleshooting.\n\n468\n00:26:03.120 --> 00:26:06.150\nAnd I see what the issue actually is.\n\n469\n00:26:06.150 --> 00:26:11.830\nIt is giving me a connection not to\nthe correct interface right here.\n\n470\n00:26:11.830 --> 00:26:16.070\nSo I need to check that out and figure\nout why that actually connected there.\n\n471\n00:26:16.070 --> 00:26:18.210\nAnd there's a reason why it\nactually did connect there.\n\n472\n00:26:19.610 --> 00:26:24.230\nWhen I had to download that package\nitself, I had to connect to the internet.\n\n473\n00:26:24.230 --> 00:26:26.620\nThe IP address that I was\nusing earlier in the show,\n\n474\n00:26:26.620 --> 00:26:29.610\neven though it was a public IP address,\nthat got yanked from me.\n\n475\n00:26:29.610 --> 00:26:32.820\nI was no longer able to use it because\nwe had to use it for something else.\n\n476\n00:26:32.820 --> 00:26:36.820\nSo I had to connect through our regular\nLAN, and this is what it's showing me,\n\n477\n00:26:36.820 --> 00:26:42.370\nthat it still thinks that my\nPublic IP address on my alpha side\n\n478\n00:26:42.370 --> 00:26:45.700\nis changed and\nit hasn't actually picked that up yet.\n\n479\n00:26:45.700 --> 00:26:51.740\nSo, let me go back over and take a look\nat that configuration right here too.\n\n480\n00:26:51.740 --> 00:26:55.880\nAnd then we'll probably have to\nreinstall that at some point.\n\n481\n00:26:57.010 --> 00:27:01.560\nLet me scroll back over to the PF sent\nsystem here and let's take a look.\n\n482\n00:27:01.560 --> 00:27:04.560\nAnd it is showing the proper IP address,.\n\n483\n00:27:04.560 --> 00:27:07.280\nSo on alpha everything is up and good.\n\n484\n00:27:08.750 --> 00:27:14.400\nAnd then I'm gonna check\nthe openVPN server.\n\n485\n00:27:14.400 --> 00:27:18.830\nAnd then for the server, go to edit and\n\n486\n00:27:18.830 --> 00:27:22.840\nwe verify that everything\nis where it needs to be.\n\n487\n00:27:22.840 --> 00:27:24.960\nI'm just checking everything out here.\n\n488\n00:27:24.960 --> 00:27:27.270\nThe local database.\n\n489\n00:27:27.270 --> 00:27:30.106\nAnd here is something I can point out\nthat I probably should have at the very\n\n490\n00:27:30.106 --> 00:27:30.747\nbeginning, but\n\n491\n00:27:30.747 --> 00:27:34.340\nbecause we walked through the wizard it\ndidn't give us the opportunity to do so.\n\n492\n00:27:34.340 --> 00:27:37.020\nNotice this device mode as well.\n\n493\n00:27:37.020 --> 00:27:41.200\nWhere it says tunnel, if you want to do\nthis also for, of course, Android and\n\n494\n00:27:41.200 --> 00:27:44.930\nsmartphones, you might have\nto choose tap instead.\n\n495\n00:27:44.930 --> 00:27:48.960\nSo if you're setting that up,\nyou may actually have to choose that one.\n\n496\n00:27:48.960 --> 00:27:52.040\nAnd let me see if\nanything else is in here.\n\n497\n00:27:53.400 --> 00:27:58.230\nTo force through all the connection\nwhich is what we normally want to allow.\n\n498\n00:27:58.230 --> 00:28:03.687\nAnd doesn't give me on\nthe other configuration to do.\n\n499\n00:28:07.665 --> 00:28:11.595\nLet me save this once again.\n\n500\n00:28:11.595 --> 00:28:13.683\nAnd I don't think I had\nthe change in anything else, but\n\n501\n00:28:13.683 --> 00:28:15.340\nlet me go through this wizard, not wizard.\n\n502\n00:28:15.340 --> 00:28:17.460\nI need to go through the client export.\n\n503\n00:28:19.480 --> 00:28:24.050\nLet's make sure that everything is the way\nthat I thought it was set up here.\n\n504\n00:28:24.050 --> 00:28:28.512\nSometimes it is just a matter of what you\nhad picked and chosen at these points.\n\n505\n00:28:33.115 --> 00:28:35.940\nMake sure IP address.\n\n506\n00:28:35.940 --> 00:28:39.090\nSo that was the only thing that I think\nthat I would have done at that point\n\n507\n00:28:39.090 --> 00:28:45.560\nbefore I exported the package is that\nI didn't change the WAN gateway.\n\n508\n00:28:45.560 --> 00:28:48.774\nSo hopefully now it's actually\nsaved the right configuration,\n\n509\n00:28:48.774 --> 00:28:49.950\nat least I think it has.\n\n510\n00:28:53.418 --> 00:28:55.157\nAnd we'll download that once again.\n\n511\n00:28:55.157 --> 00:28:56.660\nLet's try Taylor's this time instead.\n\n512\n00:28:57.830 --> 00:29:00.560\nSo we'll kick Daniel to the side here for\na moment.\n\n513\n00:29:00.560 --> 00:29:02.155\nI'll never get VPN access.\n\n514\n00:29:02.155 --> 00:29:03.990\nYep.\nYou'll never get VPN access.\n\n515\n00:29:03.990 --> 00:29:05.140\nSo let's try Taylor's.\n\n516\n00:29:06.490 --> 00:29:07.691\nNow that I've saved his.\n\n517\n00:29:13.543 --> 00:29:18.907\nAnd it's running a security scan cuz it\nmay actually be, it sometimes warns you,\n\n518\n00:29:18.907 --> 00:29:23.045\nMicrosoft does, hey,\nthis can change your computer system.\n\n519\n00:29:23.045 --> 00:29:24.605\nAre you sure you want to download this?\n\n520\n00:29:25.735 --> 00:29:30.380\nAnd I'm gonna use Daniel's computer\nover here, inside that shared folder.\n\n521\n00:29:30.380 --> 00:29:32.580\nAnd this time I'm looking for Taylor's.\n\n522\n00:29:33.600 --> 00:29:35.670\nScroll down through here,\nhopefully I can find it.\n\n523\n00:29:35.670 --> 00:29:38.270\nIt should be in alphabetical\norder somewhere.\n\n524\n00:29:38.270 --> 00:29:39.470\nWell, maybe.\n\n525\n00:29:39.470 --> 00:29:40.430\nThere it was.\n\n526\n00:29:40.430 --> 00:29:41.110\nRight on top.\n\n527\n00:29:41.110 --> 00:29:41.610\nRight at the top.\n\n528\n00:29:42.810 --> 00:29:45.259\nAnd who would have\nactually not known that?\n\n529\n00:29:48.589 --> 00:29:49.970\nOops.\n\n530\n00:29:49.970 --> 00:29:51.450\nI forgot to run it as the administrator.\n\n531\n00:29:52.940 --> 00:29:55.270\nAnd you don't need to uninstall it\neven though it's installed already?\n\n532\n00:29:55.270 --> 00:29:56.710\nNope.\nDon't need to uninstall it.\n\n533\n00:29:56.710 --> 00:29:58.870\nIt can install right on top of it,\nbut we can.\n\n534\n00:30:00.720 --> 00:30:03.410\nSo that time is much faster.\n\n535\n00:30:03.410 --> 00:30:06.040\nAnd now if we go down to lower\nright hand corner here again,\n\n536\n00:30:06.040 --> 00:30:08.920\nwe have to kind of check this out and\nverify.\n\n537\n00:30:08.920 --> 00:30:12.160\nIt is still trying to connect\nwith Daniel at this point, but\n\n538\n00:30:12.160 --> 00:30:15.250\nDaniel's not gonna actually\nend up working here.\n\n539\n00:30:15.250 --> 00:30:16.870\nSo let's see.\n\n540\n00:30:16.870 --> 00:30:19.450\nMaybe I do have to uninstall this thing.\n\n541\n00:30:19.450 --> 00:30:21.150\nLet me try this again.\n\n542\n00:30:21.150 --> 00:30:24.545\nSo let me try and uninstall it first\nbecause it didn't actually add Taylor's in\n\n543\n00:30:24.545 --> 00:30:27.269\nthere.I thought it would but\nlet me uninstall this.\n\n544\n00:30:29.160 --> 00:30:30.000\nYou normally don't have to.\n\n545\n00:30:30.000 --> 00:30:32.180\nYou just simply add it in and it's fine.\n\n546\n00:30:32.180 --> 00:30:34.140\nBut it'll leave Daniel's\nconfiguration behind.\n\n547\n00:30:35.640 --> 00:30:36.974\nSo I'm gonna uninstall.\n\n548\n00:30:39.456 --> 00:30:42.169\nAnd now I'm gonna reinstall this quickly.\n\n549\n00:30:45.815 --> 00:30:48.839\nSo more than likely,\nyou won't face this issue,\n\n550\n00:30:48.839 --> 00:30:52.883\ncuz you won't be switching\nthe interfaces too often like I had to.\n\n551\n00:30:52.883 --> 00:30:53.920\nClick Next.\n\n552\n00:30:59.154 --> 00:31:03.046\nAnd then just a moment,\nif everything finishes,\n\n553\n00:31:03.046 --> 00:31:06.576\nwe should still see\nthe same configuration.\n\n554\n00:31:06.576 --> 00:31:08.249\nAnd everything finishing.\n\n555\n00:31:09.984 --> 00:31:14.233\nAnd I left it open this time,\nyou can also read about previous versions.\n\n556\n00:31:14.233 --> 00:31:19.921\nNow on the lower right-hand corner\nof the screen, If I right click,\n\n557\n00:31:19.921 --> 00:31:22.650\nnow notice that happened\nin Taylor's configuration.\n\n558\n00:31:22.650 --> 00:31:24.337\nAnd this time we select Connect,\n\n559\n00:31:28.182 --> 00:31:37.610\nTaylor And\n\n560\n00:31:37.610 --> 00:31:39.530\nthere it goes, so that was it.\n\n561\n00:31:39.530 --> 00:31:42.520\nThe great thing is, like we showed you,\nwhere you could actually see, and\n\n562\n00:31:42.520 --> 00:31:45.150\nnow if you take a look at\nthe bottom of the screen here,\n\n563\n00:31:45.150 --> 00:31:48.100\nit shows you my old mouse,\nof course, has locked up.\n\n564\n00:31:48.100 --> 00:31:52.669\nIt shows you where it was fading away,\nbut now Taylor is connected.\n\n565\n00:31:52.669 --> 00:31:57.028\nSo that's the only thing that I did\nwrongly here, is that when I switched my\n\n566\n00:31:57.028 --> 00:32:01.249\nWAN interface, it still built\nthe configuration around that interface\n\n567\n00:32:01.249 --> 00:32:05.632\nbefore I switched over my fake internet\nnetwork to do this test that we had.\n\n568\n00:32:05.632 --> 00:32:10.546\nSo in between this machine now and\nof course, the Alfa Network,\n\n569\n00:32:10.546 --> 00:32:15.350\nthis is where we are connected and\nyou can verify it.\n\n570\n00:32:15.350 --> 00:32:17.050\nSo the only thing that you have to do for\n\n571\n00:32:17.050 --> 00:32:20.710\nyour end-users is you tell them,\nhere's what your password is going to be.\n\n572\n00:32:20.710 --> 00:32:24.100\nIf you tie this into\nthe Active Directory side though,\n\n573\n00:32:24.100 --> 00:32:27.500\nyou only have to tell them you'll\nlog in using your username and\n\n574\n00:32:27.500 --> 00:32:31.420\nyour password just like you would\nsitting at your computer at your desk.\n\n575\n00:32:31.420 --> 00:32:33.950\nAnd that will go through\nthe entire configuration for\n\n576\n00:32:33.950 --> 00:32:37.010\nthem, and they'll now have access\nto their network resources\n\n577\n00:32:37.010 --> 00:32:40.340\njust like I have access to\nthe My Network resources now too.\n\n578\n00:32:40.340 --> 00:32:42.816\nBut instead, they'll only have\nto remember their one password.\n\n579\n00:32:42.816 --> 00:32:45.119\nNice and easy if you have\neverything set up that way.\n\n580\n00:32:45.119 --> 00:32:48.140\nBut if you don't, it can be a little\nbit hairy the first time you do it.\n\n581\n00:32:48.140 --> 00:32:51.120\nBut a couple of times later, you'll go\nthat's exactly the way that I want to\n\n582\n00:32:51.120 --> 00:32:55.808\ninstead of having to explain to everybody,\nhere's what your VPN password is.\n\n583\n00:32:55.808 --> 00:32:59.543\nAnd once you get in there for you to login\nto your machine, make sure you use your\n\n584\n00:32:59.543 --> 00:33:02.844\ndomain credentials, and\nthat becomes a little bit more confusing.\n\n585\n00:33:02.844 --> 00:33:05.790\nSo if you can integrate it in, better.\n\n586\n00:33:05.790 --> 00:33:08.370\nIf you can't, well, it means you have\nto do a little bit more training.\n\n587\n00:33:08.370 --> 00:33:13.353\nBut overall though, that's kind of a very\nsimple way to establish remote access VPN.\n\n588\n00:33:13.353 --> 00:33:15.545\nAnd it's a very nice technology, right?\n\n589\n00:33:15.545 --> 00:33:18.607\nIt's very handy to be able to\nto say I need to go on the road,\n\n590\n00:33:18.607 --> 00:33:22.169\nI need to be able to be at a hotel,\nor a coffee shop, or a restaurant or\n\n591\n00:33:22.169 --> 00:33:24.620\nwherever connect to their network.\n\n592\n00:33:24.620 --> 00:33:28.051\nAnd then connect to our network,\nand all that traffic is encrypted.\n\n593\n00:33:28.051 --> 00:33:31.187\nWe don't have to worry about\nusing that public network and\n\n594\n00:33:31.187 --> 00:33:35.539\nsending our data across it, because it's\nall encrypted using the VPN tunnel and\n\n595\n00:33:35.539 --> 00:33:38.020\nwe get access to our internal systems.\n\n596\n00:33:38.020 --> 00:33:42.140\nAll the joys there within, and\nall the resources as well.\n\n597\n00:33:42.140 --> 00:33:46.410\nSo it's a very cool technology, it's very\nfun to implement to be honest with you,\n\n598\n00:33:46.410 --> 00:33:47.670\nit's fun to play with.\n\n599\n00:33:47.670 --> 00:33:49.312\nNot so much fun supporting the users,\n\n600\n00:33:49.312 --> 00:33:53.124\ncuz they don't- [LAUGH] They can get\na little interesting, should I say, cuz\n\n601\n00:33:53.124 --> 00:33:57.062\nthey don't understand why things aren't\nworking, one of the password changes.\n\n602\n00:33:57.062 --> 00:34:01.151\nAnd like Ronnie said, if you go with that\nlocal database for log-ins, now they've\n\n603\n00:34:01.151 --> 00:34:04.840\ngot another password to remember and\nthey can kinda bark about that.\n\n604\n00:34:04.840 --> 00:34:09.410\nBut other than that, it's very cool for\nus as IT people to play around with that.\n\n605\n00:34:09.410 --> 00:34:11.590\nAnd networking is a lot of fun,\nVPNs are a lot of fun.\n\n606\n00:34:11.590 --> 00:34:15.290\nRonnie, thank you so much for\nexplaining to us how to use\n\n607\n00:34:15.290 --> 00:34:19.830\nthe remote access type VPNs\ninside of our pfSense systems.\n\n608\n00:34:19.830 --> 00:34:22.730\nThat being said, it looks like we've come\nto the end of yet another great episode.\n\n609\n00:34:22.730 --> 00:34:24.095\nHopefully, you guys have enjoyed it.\n\n610\n00:34:24.095 --> 00:34:28.141\nWe did a real lot of effort just to make\nsure that it was great for you guys.\n\n611\n00:34:28.141 --> 00:34:29.576\nSo hopefully, we hit that in.\n\n612\n00:34:29.576 --> 00:34:33.830\nBut time to sign off for ITPRO.TV,\nI've been your host Daniel Lowrie.\n\n613\n00:34:33.830 --> 00:34:34.577\nAnd I'm Ronnie Wong.\n\n614\n00:34:34.577 --> 00:34:35.982\nAnd we'll see you next time.\n\n615\n00:34:35.982 --> 00:34:43.040\n[MUSIC]\n\n616\n00:34:43.040 --> 00:34:46.012\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "198720882"
        }
      ],
      "title": "Establish Virtual Private Networks"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Ronnie demonstrate system monitoring and diagnostic features found in pfSense. They explain the importance of performing system monitoring and diagnostics looking at many of the built-in tools in pfSense to that end. This includes pfInfo, pfTop, SMART status, System Activity, and the Status dashboard.",
          "length": "1886",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-6-1-use_system_monitoring_and_diagnostics-010617-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-6-1-use_system_monitoring_and_diagnostics-010617-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-6-1-use_system_monitoring_and_diagnostics-010617-1-sm.jpg",
          "title": "Use System Monitoring and Diagnostics",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:03.873\nWelcome to ITProTV,\n\n2\n00:00:03.873 --> 00:00:08.395\nI'm your host [CROSSTALK]\n\n3\n00:00:08.395 --> 00:00:12.419\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.419 --> 00:00:14.346\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:14.346 --> 00:00:17.140\nwelcome to another exciting\nepisode of ITtProTV.\n\n6\n00:00:17.140 --> 00:00:19.160\nI'm your host Daniel Lowrie and\non today's episode,\n\n7\n00:00:19.160 --> 00:00:21.650\nwe're back with more\non our PFSense series.\n\n8\n00:00:21.650 --> 00:00:25.130\nOf course that is version 2.3.2 and\njoining us yet\n\n9\n00:00:25.130 --> 00:00:27.865\nagain of course is our good friend Mr.\nRonnie Wong.\n\n10\n00:00:27.865 --> 00:00:29.480\nRonnie, we are so glad to have you back,\n\n11\n00:00:29.480 --> 00:00:31.520\nI know you've got a great\nshow lined up for us today.\n\n12\n00:00:31.520 --> 00:00:32.070\nHow's it going?\n\n13\n00:00:32.070 --> 00:00:33.310\n&gt;&gt; It's going very well.\n\n14\n00:00:33.310 --> 00:00:37.060\nWe're taking a look today at some of the\ndifferent things that we can do to help us\n\n15\n00:00:37.060 --> 00:00:41.200\nto well, make sure that PF Sense is\nworking the way that we expect it to.\n\n16\n00:00:41.200 --> 00:00:42.730\nAnd if it's not,\n\n17\n00:00:42.730 --> 00:00:48.420\nthere's also some built in utilities that\nis inside of the interface in PF Sense\n\n18\n00:00:48.420 --> 00:00:54.060\nthat we can also use to help us to begin\nto troubleshoot what's going on as well.\n\n19\n00:00:54.060 --> 00:00:57.060\nSo that's why today's show\nis on the idea of using some\n\n20\n00:00:57.060 --> 00:00:59.620\nof the system monitoring\ntools that we have available.\n\n21\n00:00:59.620 --> 00:01:03.110\nAnd some of the diagnostic tools\nthat we have available as well.\n\n22\n00:01:03.110 --> 00:01:06.070\nThat will help us out especially\nwhen things are set up and\n\n23\n00:01:06.070 --> 00:01:09.110\nwe think that they're working but\nwe're not exactly sure.\n\n24\n00:01:09.110 --> 00:01:13.050\nAnd what can we do to also make\nsure that it's not PF sense itself\n\n25\n00:01:13.050 --> 00:01:14.720\nworking against us.\n\n26\n00:01:14.720 --> 00:01:18.090\nLet's go ahead and start by taking\na look at our interface here and\n\n27\n00:01:18.090 --> 00:01:19.550\ngetting things set up.\n\n28\n00:01:19.550 --> 00:01:24.800\nNow, one of the things that we\nwant to begin with right away\n\n29\n00:01:24.800 --> 00:01:29.060\nis what we see right here when we normally\nlog in using the web configurator.\n\n30\n00:01:29.060 --> 00:01:31.467\nLet me show you what I'm talking about,\nI normally have it pulled up.\n\n31\n00:01:31.467 --> 00:01:35.576\nBut if I were to just simply\nstart by connecting in,\n\n32\n00:01:35.576 --> 00:01:40.558\ncontinuing to this webpage,\nof course it brought me back in.\n\n33\n00:01:40.558 --> 00:01:44.650\n[LAUGH] Usually you log in and this is the\nscreen that it brings you to right away.\n\n34\n00:01:44.650 --> 00:01:49.300\nNow, the reason why this is\nimportant is this is the dashboard.\n\n35\n00:01:49.300 --> 00:01:54.116\nAnd it's one of the key summary ways\nthat we can tell if everything is\n\n36\n00:01:54.116 --> 00:01:59.680\nfunctioning well inside of PF Sense\nthe way that we want to normally, okay?\n\n37\n00:01:59.680 --> 00:02:02.610\n&gt;&gt; This is the at a glance is\nmy system running correctly.\n\n38\n00:02:02.610 --> 00:02:05.110\n&gt;&gt; Yeah, and\nit really does help if you get it set up.\n\n39\n00:02:05.110 --> 00:02:07.310\nNow if you're looking at it like I am,\nDaniel.\n\n40\n00:02:07.310 --> 00:02:09.583\nAnd I'm going through this and\n\n41\n00:02:09.583 --> 00:02:15.275\nI can see some things that system\ninformation, it's helpful information.\n\n42\n00:02:15.275 --> 00:02:18.290\nI shouldn't say that,\nit's good information.\n\n43\n00:02:18.290 --> 00:02:23.330\nDon't no one put that out there, but\nit's not exactly anything that you go wow,\n\n44\n00:02:23.330 --> 00:02:28.440\nthat's kind of glaringly wrong or I don't\nsee a big red X or anything going on here.\n\n45\n00:02:28.440 --> 00:02:29.400\nIt's good information.\n\n46\n00:02:29.400 --> 00:02:32.400\nIt tells you about the system,\nthe name, the release version.\n\n47\n00:02:32.400 --> 00:02:35.100\nAnd we're gonna do a show\non updates here and\n\n48\n00:02:35.100 --> 00:02:36.280\nthat's why I've been leaving it this way.\n\n49\n00:02:36.280 --> 00:02:38.500\nSo throughout the entire series,\nyou've seen that and go,\n\n50\n00:02:38.500 --> 00:02:39.640\nwhy doesn't he just click on that?\n\n51\n00:02:39.640 --> 00:02:40.810\n&gt;&gt; Just update the thing.\n\n52\n00:02:40.810 --> 00:02:41.560\n&gt;&gt; Just update it!\n\n53\n00:02:41.560 --> 00:02:43.060\nThat's because we have a show on it,\nthat's why.\n\n54\n00:02:43.060 --> 00:02:45.130\n[LAUGH] We're actually\nleaving it this way.\n\n55\n00:02:45.130 --> 00:02:49.690\nSo the platform of course and CPU,\nall that's good, and the uptime.\n\n56\n00:02:49.690 --> 00:02:55.350\nIf anything is important is\nright here during this uptime.\n\n57\n00:02:55.350 --> 00:02:58.843\nNow, three hours uptime for\na regular firewall,\n\n58\n00:02:58.843 --> 00:03:01.848\nnot exactly stellar performance, okay?\n\n59\n00:03:01.848 --> 00:03:03.210\n&gt;&gt; Unless you've just bought the thing.\n\n60\n00:03:03.210 --> 00:03:04.308\n&gt;&gt; Yeah,\nunless you've just bought the thing.\n\n61\n00:03:04.308 --> 00:03:08.026\nWhen you start seeing it where\nit's 300 days in its uptime,\n\n62\n00:03:08.026 --> 00:03:13.038\nwell now the settings you go that's\npretty standard high performance there.\n\n63\n00:03:13.038 --> 00:03:16.972\nAnd everything that's going on\nsince we moved in to this building,\n\n64\n00:03:16.972 --> 00:03:20.280\nour PF Sense mark once it\nhave gone into production\n\n65\n00:03:20.280 --> 00:03:23.830\nhas only been down once\nduring that entire time.\n\n66\n00:03:23.830 --> 00:03:28.880\nSo and I can tell that because of\nthe uptime that we have available.\n\n67\n00:03:28.880 --> 00:03:32.680\nAnd this is something that we want to\ntake a look at right away when we start\n\n68\n00:03:32.680 --> 00:03:37.250\nmonitoring for performance and\nfor the health of your system.\n\n69\n00:03:37.250 --> 00:03:40.920\nIf you ever come in and\nsomebody has told you hey, I can't get\n\n70\n00:03:40.920 --> 00:03:45.290\naccess to the Internet anymore,\ndid anything change on the network?\n\n71\n00:03:45.290 --> 00:03:47.560\nWell, here's one of the first\nthings we should check.\n\n72\n00:03:47.560 --> 00:03:50.540\nDid the PF Sense box, did you lose power?\n\n73\n00:03:50.540 --> 00:03:53.550\nWell, this is one of the ways that you\ncan find out is it a power loss or\n\n74\n00:03:53.550 --> 00:03:55.200\nis it a PF Sense thing.\n\n75\n00:03:55.200 --> 00:03:59.670\nAnd the way that you do it is by taking\na look at the idea of uptime is probably\n\n76\n00:03:59.670 --> 00:04:02.790\na good one that you would\nwant to take a look at.\n\n77\n00:04:02.790 --> 00:04:04.890\nSo I always keep a monitor on that.\n\n78\n00:04:04.890 --> 00:04:09.570\nFor ours right now,\nin our production it's over 100 days.\n\n79\n00:04:09.570 --> 00:04:11.790\nSo I know that we haven't turned it off,\n\n80\n00:04:11.790 --> 00:04:14.840\nwe haven't done anything that's\nRonnie hasn't done anything.\n\n81\n00:04:14.840 --> 00:04:18.900\nSo silly that it's actually caused to\nreboot or caused the whole thing to fail.\n\n82\n00:04:18.900 --> 00:04:23.370\nIt's been up, it's been running,\nit's been solid for over 100 days now\n\n83\n00:04:23.370 --> 00:04:27.250\nsince we have actually been in this\nbuilding and it's been working.\n\n84\n00:04:27.250 --> 00:04:30.960\nThe other thing that you might also\nwant to check is also right here\n\n85\n00:04:30.960 --> 00:04:34.150\nin terms of the date and time.\n\n86\n00:04:34.150 --> 00:04:37.640\nThis is very important especially\nwith what we're talking now in\n\n87\n00:04:37.640 --> 00:04:42.430\nprevious episodes about things\nlike our VPN connections\n\n88\n00:04:42.430 --> 00:04:44.240\nbecause we need synchronization.\n\n89\n00:04:44.240 --> 00:04:47.510\nWe need the ability to\nhave certain things ready.\n\n90\n00:04:47.510 --> 00:04:51.550\nIf your date and time is historically\ndifferent from other things on your\n\n91\n00:04:51.550 --> 00:04:55.460\nnetwork, you might find out that things\nyou might have doing authentication,\n\n92\n00:04:55.460 --> 00:04:56.810\nnot going to work very well.\n\n93\n00:04:56.810 --> 00:04:58.570\nOkay, so always check that.\n\n94\n00:04:58.570 --> 00:05:01.820\nOf course, just some regular\ninformation that you want to also note.\n\n95\n00:05:01.820 --> 00:05:05.130\nThe correct DNS servers\nare they your DNS servers?\n\n96\n00:05:05.130 --> 00:05:06.740\nDid somebody change them?\n\n97\n00:05:06.740 --> 00:05:11.630\nAnd even this is one of the more important\ndiagnostic pieces of information\n\n98\n00:05:11.630 --> 00:05:16.330\nas well is what we're monitoring here,\nwhich is when is the last config change?\n\n99\n00:05:16.330 --> 00:05:21.110\nFor us, this particular show,\nit could happen every 35 seconds or\n\n100\n00:05:21.110 --> 00:05:24.050\nevery 15 minutes or five minutes here.\n\n101\n00:05:24.050 --> 00:05:27.940\nBut in a regular production network,\nright?\n\n102\n00:05:27.940 --> 00:05:32.120\nUnless you know that you're right in\nthe beginning of configurations and\n\n103\n00:05:32.120 --> 00:05:35.160\nyou're having to make multiple changes.\n\n104\n00:05:35.160 --> 00:05:37.460\nOnce you normally get it up and\n\n105\n00:05:37.460 --> 00:05:41.900\nset, we normally don't see\na ton of configuration changes.\n\n106\n00:05:41.900 --> 00:05:45.760\nAnd you should of course,\nthen limit who can make those changes.\n\n107\n00:05:45.760 --> 00:05:47.260\nThat way when you come back here and\n\n108\n00:05:47.260 --> 00:05:52.630\nyou go wait a minute, I don't remember\ngetting in there and making any changes.\n\n109\n00:05:52.630 --> 00:05:56.170\nBut it's showing me that the last change\nwas made in the last eight hours.\n\n110\n00:05:56.170 --> 00:06:00.490\nWell, at this point, I can go back now and\nsay who has access and even\n\n111\n00:06:00.490 --> 00:06:05.000\nsend an email or a question, then go hey,\ndid you make any changes on the firewall.\n\n112\n00:06:05.000 --> 00:06:06.573\nAnd I might even be able to go in there,\n\n113\n00:06:06.573 --> 00:06:09.989\nespecially if we setup different logons\nto find out who actually made the change.\n\n114\n00:06:09.989 --> 00:06:12.380\nSo some of these things\nare fairly important.\n\n115\n00:06:12.380 --> 00:06:17.380\nAnd just simple, like what Daniel\nwas saying, at a glance diagnostics.\n\n116\n00:06:17.380 --> 00:06:22.480\nIt really does at least help you\nto get a correct Information.\n\n117\n00:06:22.480 --> 00:06:26.340\nOther things of course, that concern\nthe system itself, are also good.\n\n118\n00:06:26.340 --> 00:06:33.040\nSuch as your memory buffer usage,\nthe state table size as well.\n\n119\n00:06:33.040 --> 00:06:36.510\nI don't why, I know I'm gonna say\nthat wrongly for some reason.\n\n120\n00:06:36.510 --> 00:06:38.420\nIn the way I had to say it here.\n\n121\n00:06:38.420 --> 00:06:46.075\nSo 11 out of 98,000 so far, well, that's\nnot actually being a big gigantic load.\n\n122\n00:06:46.075 --> 00:06:51.480\nOn the state table inside of your\nfirewall is actually having to do.\n\n123\n00:06:51.480 --> 00:06:54.380\nBut this may become important especially\nif you start experiencing some\n\n124\n00:06:54.380 --> 00:06:56.660\ncongestion and\nsome different things going on.\n\n125\n00:06:56.660 --> 00:06:59.780\nSame thing with the rest\nof this stuff too, okay?\n\n126\n00:06:59.780 --> 00:07:02.610\nCPU usage, memory usage, you name it.\n\n127\n00:07:02.610 --> 00:07:07.850\nAll this can kind of give you\na warning on physical dangers or\n\n128\n00:07:07.850 --> 00:07:09.590\nfailures that may happen.\n\n129\n00:07:09.590 --> 00:07:12.030\nSo very quick at a glance stuff,\n\n130\n00:07:12.030 --> 00:07:14.430\nespecially if you have\na very busy network.\n\n131\n00:07:14.430 --> 00:07:17.710\nYou might see these things kind of\nstressed out a little bit more.\n\n132\n00:07:17.710 --> 00:07:21.980\nIf you are constantly running logs,\nyou'll see the disk usage.\n\n133\n00:07:21.980 --> 00:07:25.860\nAnd of course, even memory usage\nat times kind of get there.\n\n134\n00:07:25.860 --> 00:07:28.640\nNow the other things that I\nalso have here, by default,\n\n135\n00:07:28.640 --> 00:07:34.090\nthe only other one that's right here\non this dashboard is the interfaces.\n\n136\n00:07:34.090 --> 00:07:39.340\nAnd this is a great one for us because\nit normally gives us a red arrow or\n\n137\n00:07:39.340 --> 00:07:43.190\na red x, excuse me, or\na down arrow if I remember, right.\n\n138\n00:07:43.190 --> 00:07:44.380\nIt's red in color.\n\n139\n00:07:44.380 --> 00:07:47.370\nThat tells you whether or\nnot the interface is up or down.\n\n140\n00:07:47.370 --> 00:07:51.590\nAnd that is always critical\non your network, right?\n\n141\n00:07:51.590 --> 00:07:53.700\nIs your WAN interface up?\n\n142\n00:07:53.700 --> 00:07:55.780\nIs it actually available?\n\n143\n00:07:55.780 --> 00:07:58.438\nIs your LAN interface up,\nis it actually available?\n\n144\n00:07:58.438 --> 00:08:01.491\nAnd what the speed is\nthat it's connecting to.\n\n145\n00:08:01.491 --> 00:08:06.100\nAre these your correct gateways,\nand or they not?\n\n146\n00:08:06.100 --> 00:08:10.812\nSo this was something that did happen in a\nprevious episode since it was a public IP\n\n147\n00:08:10.812 --> 00:08:14.344\naddress I was using, but\nwe kind of got it taken away from me,\n\n148\n00:08:14.344 --> 00:08:15.820\nbecause I was misusing.\n\n149\n00:08:15.820 --> 00:08:16.930\nNow, I wasn't misusing it.\n\n150\n00:08:16.930 --> 00:08:18.310\nIt was because we needed to use it for\n\n151\n00:08:18.310 --> 00:08:20.620\nsomething else actually\ninside of our business.\n\n152\n00:08:20.620 --> 00:08:25.130\nSo, I had to switch on over and\nit caused me some configuration errors.\n\n153\n00:08:25.130 --> 00:08:28.090\nInside of something I configured\nearly on open VPNs, but\n\n154\n00:08:28.090 --> 00:08:33.160\nit is something you've gotta actually\ncheck, because you might find out\n\n155\n00:08:33.160 --> 00:08:36.610\nsomebody might have changed this and\nyou weren't expecting it.\n\n156\n00:08:36.610 --> 00:08:38.880\nSo, do make sure you pay attention.\n\n157\n00:08:38.880 --> 00:08:40.535\nNow besides that Daniel, it looks kind of.\n\n158\n00:08:40.535 --> 00:08:41.970\nHo-hum, right?\n\n159\n00:08:41.970 --> 00:08:43.350\n&gt;&gt; Yeah, a little blase.\n\n160\n00:08:43.350 --> 00:08:46.270\n&gt;&gt; Yeah, a little kinda not\nhelpful after that point.\n\n161\n00:08:46.270 --> 00:08:49.780\nSo you might be wondering,\nwhat if I needed to keep track of more?\n\n162\n00:08:49.780 --> 00:08:53.410\nWell, I added in this\nopen VPN at some point.\n\n163\n00:08:53.410 --> 00:08:57.250\nIf I know that I have established site to\nsite VPNs, I wanna keep a track of that.\n\n164\n00:08:57.250 --> 00:08:58.310\nI wanna do it at a glance.\n\n165\n00:08:58.310 --> 00:08:59.170\nI'm gonna do it right here.\n\n166\n00:08:59.170 --> 00:09:03.250\n&gt;&gt; So you have the ability to put\nbasically plug in other monitoring or\n\n167\n00:09:03.250 --> 00:09:04.540\nstatus type things.\n\n168\n00:09:04.540 --> 00:09:07.510\n&gt;&gt; Right, and we wanna show you\nthat because that's actually kinda\n\n169\n00:09:07.510 --> 00:09:10.140\nneat thing to be able to\nchange this dashboard.\n\n170\n00:09:10.140 --> 00:09:14.370\nAnd the way that we do right here is\non the Status/Dashboard across the top,\n\n171\n00:09:14.370 --> 00:09:17.470\nthere's a plus sign, and\nonce I click on that, and\n\n172\n00:09:17.470 --> 00:09:22.540\nnow you can see that there are available\nwidgets from taking a look at that captive\n\n173\n00:09:22.540 --> 00:09:27.130\nportal status to the gateways,\nIPsec, picture if you want to,\n\n174\n00:09:27.130 --> 00:09:32.740\nI don't know why I would do that, CARP\nstatus, load balancer, traffic graphs.\n\n175\n00:09:32.740 --> 00:09:37.060\nAnd I'm gonna select traffic graph right\nnow and click and put that down there.\n\n176\n00:09:38.650 --> 00:09:43.110\nAnd then I can go ahead and click on\nthe plus sign again and add in, let's say,\n\n177\n00:09:43.110 --> 00:09:46.610\nmy smart status for\nmy disk on my computer.\n\n178\n00:09:48.320 --> 00:09:50.390\nAnd let's see, even installed packages.\n\n179\n00:09:50.390 --> 00:09:51.240\nI don't wanna do that.\n\n180\n00:09:51.240 --> 00:09:56.930\nLet's say here open VPN,\nwe'll just do just a few, okay?\n\n181\n00:09:56.930 --> 00:10:01.910\nNow if I, now tick make sure I'm zoomed\nout here before I scroll on through.\n\n182\n00:10:01.910 --> 00:10:05.930\nSo on the connections as I have them it's\ntaking a little bit of time to connect and\n\n183\n00:10:05.930 --> 00:10:10.650\nsee the data that maybe going across\nthis interface, there it goes.\n\n184\n00:10:10.650 --> 00:10:14.830\nYou can now start seeing, I'm getting\nabout 60 kilobytes in, about 9 out.\n\n185\n00:10:14.830 --> 00:10:17.310\nIt's not a lot, because I only\nhave one client on my network, and\n\n186\n00:10:17.310 --> 00:10:18.450\nI'm on that client right now.\n\n187\n00:10:18.450 --> 00:10:20.710\nI'm not really connecting outbound.\n\n188\n00:10:20.710 --> 00:10:23.850\nBut you can start seeing a lot of\ninformation if you have a really busy\n\n189\n00:10:23.850 --> 00:10:28.920\nnetwork here, and each one of these gives\nyou even more utility than you think.\n\n190\n00:10:28.920 --> 00:10:31.770\nSo, even though this is\na nice little summary.\n\n191\n00:10:31.770 --> 00:10:33.660\nTake a look at this traffic graphs.\n\n192\n00:10:33.660 --> 00:10:36.190\nThere's a unusual figure here.\n\n193\n00:10:36.190 --> 00:10:38.810\nLook at that Daniel, a wrench.\n\n194\n00:10:38.810 --> 00:10:40.410\nYeah, that's kind of neat.\n\n195\n00:10:40.410 --> 00:10:43.780\n&gt;&gt; Makes me think you can do some\nsort of editing to this widget.\n\n196\n00:10:43.780 --> 00:10:47.360\n&gt;&gt; Yeah.\nSo if I were to say click on that wrench,\n\n197\n00:10:47.360 --> 00:10:53.500\nnow what I can also do is\ntake a look at both LAN and\n\n198\n00:10:53.500 --> 00:10:57.810\nWAN grasp, and go ahead and\nclick save here.\n\n199\n00:10:57.810 --> 00:11:01.260\nAnd now I can add that in as well.\n\n200\n00:11:01.260 --> 00:11:03.920\nAnd so you can actually see on LAN side,\non the WAN side.\n\n201\n00:11:03.920 --> 00:11:07.660\nYou can do some of the different\nthings that are available.\n\n202\n00:11:07.660 --> 00:11:12.780\nIf you start adding in like pfTop and some\nof the other things that you can do there,\n\n203\n00:11:12.780 --> 00:11:17.390\nyou might even be able to see what\nIP address is using how much of that\n\n204\n00:11:17.390 --> 00:11:19.950\ninterface's bandwidth as well.\n\n205\n00:11:19.950 --> 00:11:23.760\nSo there's a lot of different\nconfigurations that you can\n\n206\n00:11:23.760 --> 00:11:24.920\nsee at that point.\n\n207\n00:11:24.920 --> 00:11:27.975\nSame thing, of course,\nwith the smart status idea.\n\n208\n00:11:27.975 --> 00:11:33.110\nS.M.A.R.T. discs are the thing right now.\n\n209\n00:11:33.110 --> 00:11:35.860\nNow here's the caveat on\nthe idea of the S.M.A.R.T. disc.\n\n210\n00:11:35.860 --> 00:11:38.740\nAs you buy hard drives, they normally\nare what they call S.M.A.R.T.\n\n211\n00:11:38.740 --> 00:11:42.350\ndiscs which means that they\nhave a diagnostic on them.\n\n212\n00:11:42.350 --> 00:11:46.540\nThey can tell you when something is\npossibly failing before it fails.\n\n213\n00:11:46.540 --> 00:11:47.740\n&gt;&gt; Hm.\n&gt;&gt; So they go ahead and\n\n214\n00:11:47.740 --> 00:11:50.320\nthey start running diagnostics\non their own board.\n\n215\n00:11:50.320 --> 00:11:57.500\nSo, this one will actually query\nyour drives for the status.\n\n216\n00:11:57.500 --> 00:12:00.340\nSo if it actually turned out a checkmark,\nit means hey,\n\n217\n00:12:00.340 --> 00:12:04.350\nyou've passed the smart check requirements\nand I'm letting you know right now.\n\n218\n00:12:04.350 --> 00:12:08.780\nAnd that's very important for a firewall\nespecially if you've are having a very\n\n219\n00:12:08.780 --> 00:12:13.560\nbusy firewall and is having to write a lot\nof information to the drive as well.\n\n220\n00:12:13.560 --> 00:12:15.930\nSo when you start doing that,\nthat's actually gonna be important.\n\n221\n00:12:15.930 --> 00:12:19.360\n&gt;&gt; Ronnie, that's reminiscent to\nme of the old smart card readers.\n\n222\n00:12:19.360 --> 00:12:21.500\nIs that basically the technology\nthat's integrated it into or-\n\n223\n00:12:21.500 --> 00:12:22.580\n&gt;&gt; No, this is something a little\n\n224\n00:12:22.580 --> 00:12:23.200\nbit different.\n\n225\n00:12:23.200 --> 00:12:24.180\n&gt;&gt; No, something different?\n\n226\n00:12:24.180 --> 00:12:25.180\n&gt;&gt; Yeah.\n&gt;&gt; Even though they're kind of\n\n227\n00:12:25.180 --> 00:12:25.871\ndoing the same thing?\n\n228\n00:12:25.871 --> 00:12:26.681\n[LAUGH]\n&gt;&gt; Yeah,\n\n229\n00:12:26.681 --> 00:12:30.375\nit is kind of doing the same thing, but\nthis one is just a little bit different\n\n230\n00:12:30.375 --> 00:12:33.897\nhere, in that it really is checking for\nwhether or not that hard drive has\n\n231\n00:12:33.897 --> 00:12:36.890\nan imminent failure or\nindications of an imminent failure.\n\n232\n00:12:36.890 --> 00:12:37.440\n&gt;&gt; Got you.\n\n233\n00:12:37.440 --> 00:12:40.580\n&gt;&gt; Now the strange thing is of course if\nyou've ever ran some of those diagnostics\n\n234\n00:12:40.580 --> 00:12:45.800\nthat come from the vendor of a hard drive,\nyou can pass a smart,\n\n235\n00:12:45.800 --> 00:12:49.190\nyou know their particular diagnostic.\n\n236\n00:12:49.190 --> 00:12:51.660\nAnd put it back to the machine and\nit failed immediately.\n\n237\n00:12:51.660 --> 00:12:54.720\nBut there are times though\nwhich they really do emphasize.\n\n238\n00:12:54.720 --> 00:12:56.880\nLike if you get a smart error,\n\n239\n00:12:56.880 --> 00:13:00.400\nif it actually shows you that\nthere is an error going on.\n\n240\n00:13:00.400 --> 00:13:02.410\nThat drive will absolutely fail.\n\n241\n00:13:02.410 --> 00:13:06.020\nBut they can't guarantee that if\nit passes every test that it's not\n\n242\n00:13:06.020 --> 00:13:07.350\nat an imminent failure, right.\n\n243\n00:13:07.350 --> 00:13:08.686\n&gt;&gt; That the next one isn't the failure.\n\n244\n00:13:08.686 --> 00:13:09.470\n&gt;&gt; [LAUGH] Yeah, exactly.\n\n245\n00:13:09.470 --> 00:13:10.290\n&gt;&gt; Makes sense.\n\n246\n00:13:10.290 --> 00:13:15.380\n&gt;&gt; Yeah, so but it's kinda little bit hard\neven though they say we try and measure it\n\n247\n00:13:15.380 --> 00:13:18.770\nto see whether or not it's gonna indicate\nthat there's a failure coming on.\n\n248\n00:13:18.770 --> 00:13:21.780\nWell we can't guarantee you\nthat it won't pass a test and\n\n249\n00:13:21.780 --> 00:13:24.240\nthen the next time you turn\nit on it's gonna fail.\n\n250\n00:13:24.240 --> 00:13:26.470\nSo it's smart in once sense,\n\n251\n00:13:26.470 --> 00:13:29.900\nbut you know it's not completely\nthe smartest thing in the world, okay?\n\n252\n00:13:29.900 --> 00:13:33.370\nSame thing with open VPN and\nIP set tunnels too.\n\n253\n00:13:33.370 --> 00:13:38.800\nIf somebody says hey, my open VPN tunnel\nis down, it will show as a down arrow.\n\n254\n00:13:38.800 --> 00:13:41.890\nAnd up there I don't have\nanything connected at this point.\n\n255\n00:13:41.890 --> 00:13:44.500\nBut you would see that whether\nyou're doing IP sect or\n\n256\n00:13:44.500 --> 00:13:45.650\nwhether you're doing that.\n\n257\n00:13:45.650 --> 00:13:49.540\nSo whatever you need to monitor\nright away as far as very quickly,\n\n258\n00:13:49.540 --> 00:13:52.780\nputting it on your\ndashboard is kind of key\n\n259\n00:13:52.780 --> 00:13:56.350\nthat will give you a very clear\nindication of what's going on.\n\n260\n00:13:56.350 --> 00:14:00.810\nNow once you have that,\nthere's more available.\n\n261\n00:14:00.810 --> 00:14:04.250\nSo, all the things that we've set\nup throughout the entire series so\n\n262\n00:14:04.250 --> 00:14:08.030\nfar, whether we talked\nabout firewall rules or\n\n263\n00:14:08.030 --> 00:14:14.050\ndifferent services that we've taken\na look at here, and VPN connections,\n\n264\n00:14:14.050 --> 00:14:19.180\nthe next two options that we have\navailable here is status and diagnostics.\n\n265\n00:14:19.180 --> 00:14:23.210\nAnd both together really give us\na combination of monitoring and\n\n266\n00:14:23.210 --> 00:14:28.860\ndiagnostic tools that we don't want to\noverlook when we're managing pfSense.\n\n267\n00:14:28.860 --> 00:14:34.160\nSo if I click on status, well it's\nright here that I might be able to tell\n\n268\n00:14:34.160 --> 00:14:37.050\ndo I actually have any DHCP leases.\n\n269\n00:14:37.050 --> 00:14:40.820\nNow at this point I don't because I've\nstatically assigned this IP address.\n\n270\n00:14:40.820 --> 00:14:44.850\nAnd I only have that one device,\nso I don't have another one.\n\n271\n00:14:44.850 --> 00:14:50.810\nBut if I'm running DHCP on my\nfirewall right here, notice\n\n272\n00:14:50.810 --> 00:14:54.920\nI can actually manage it all from right\nhere and verify what leases are available.\n\n273\n00:14:54.920 --> 00:14:58.660\nAnd that's always a good one for\nus to think about.\n\n274\n00:14:58.660 --> 00:15:02.730\nOf course, you can even set this up\nas a DHTP relay agent whether for\n\n275\n00:15:02.730 --> 00:15:05.250\nyour DHTP version four or six.\n\n276\n00:15:05.250 --> 00:15:07.430\nTake a look at DNS.\n\n277\n00:15:07.430 --> 00:15:10.840\nSo these are all things that we're if\nyou're going man you're skipping a lot.\n\n278\n00:15:10.840 --> 00:15:15.210\nBut if you remember in previous episodes\nif you've been watching them in order,\n\n279\n00:15:15.210 --> 00:15:18.280\nyou'll remember we actually\nwent over the majority of these\n\n280\n00:15:18.280 --> 00:15:23.090\neven at that point to take a look at\nwhether or not these tools were working.\n\n281\n00:15:23.090 --> 00:15:24.795\nBut I do wanna point out just a few app,\n\n282\n00:15:24.795 --> 00:15:27.690\nwell let me zoom out because\nsometimes it doesn't work the way.\n\n283\n00:15:27.690 --> 00:15:28.970\nSo there are some of them.\n\n284\n00:15:28.970 --> 00:15:33.190\nHere's the other one for\nNTP server and if you go in here,\n\n285\n00:15:33.190 --> 00:15:35.950\nnotice that even though it's\nactually a service, go to status.\n\n286\n00:15:35.950 --> 00:15:36.880\nThat's what I needed.\n\n287\n00:15:36.880 --> 00:15:38.020\nNTP.\n\n288\n00:15:38.020 --> 00:15:40.070\nThat's what,\nsee I clicked on the wrong one.\n\n289\n00:15:40.070 --> 00:15:42.620\nI was like, why is that showing me\nthe configuration for the NTP server.\n\n290\n00:15:42.620 --> 00:15:45.590\n&gt;&gt; Because you're trying to\nconfigure the NTP server wrong.\n\n291\n00:15:45.590 --> 00:15:47.020\n&gt;&gt; Yes.\nBecause, I'm trying to do that.\n\n292\n00:15:47.020 --> 00:15:51.351\n&gt;&gt; But notice that mine's actually set\nup for the NTP server for, of course,\n\n293\n00:15:51.351 --> 00:15:52.398\nthe PF sense org.\n\n294\n00:15:52.398 --> 00:15:58.487\nAnd it shows my active peer and here's\nthe actual IP addresses that I'm using.\n\n295\n00:15:58.487 --> 00:16:01.098\nTo be able to get that information.\n\n296\n00:16:01.098 --> 00:16:04.970\nSo, I know that I'm reaching\nout to an MTP server.\n\n297\n00:16:04.970 --> 00:16:08.820\nSo, that's always good, if all of\na sudden this information disappears and\n\n298\n00:16:08.820 --> 00:16:11.860\nI know that the time\nelement is essential to me,\n\n299\n00:16:11.860 --> 00:16:15.070\nI want to make sure that I get\nthat thing back up and running.\n\n300\n00:16:16.640 --> 00:16:17.730\nGateways.\n\n301\n00:16:17.730 --> 00:16:19.640\nIf I select gateways,\n\n302\n00:16:19.640 --> 00:16:25.620\nthis is of course going out of my pfSense\nbox, and where is it connecting to next?\n\n303\n00:16:25.620 --> 00:16:30.190\nNotice that I have the names that I've\nassigned, so when I did IP set to bravo,\n\n304\n00:16:30.190 --> 00:16:34.380\nit actually used the gateway\nof my LAN interface here.\n\n305\n00:16:34.380 --> 00:16:37.580\nAnd also of course,\nthere was a default one that I used for\n\n306\n00:16:37.580 --> 00:16:42.300\na long time when I had the access\nto that real IP address.\n\n307\n00:16:42.300 --> 00:16:46.320\nAnd here's the one that we also have, too.\n\n308\n00:16:46.320 --> 00:16:49.410\nAnd then, of course even WAN DHCP.\n\n309\n00:16:49.410 --> 00:16:51.710\nYou name it, we have access to all of it.\n\n310\n00:16:51.710 --> 00:16:54.770\nBut what you're looking for normally\nis down here where it says status.\n\n311\n00:16:54.770 --> 00:16:58.820\nIt says online or offline,\nit lets you know that right away.\n\n312\n00:16:58.820 --> 00:17:02.580\nYou might find out especially if you are\nrunning multiple WAN connections, so for\n\n313\n00:17:02.580 --> 00:17:05.980\nexample, like right here where we\nare we have two different internet\n\n314\n00:17:05.980 --> 00:17:07.520\nconnections from two different companies.\n\n315\n00:17:07.520 --> 00:17:12.130\nNot two internet connections from the same\ncompany, but just in case one company goes\n\n316\n00:17:12.130 --> 00:17:16.910\ndown we still have a backup internet\nconnection that we go out through as well.\n\n317\n00:17:16.910 --> 00:17:19.220\nSo, that way if I know that\nboth of them are up and\n\n318\n00:17:19.220 --> 00:17:23.640\nrunning, I know I can do load balancing\nacross them or I can use them as failover.\n\n319\n00:17:23.640 --> 00:17:25.380\nIf that one fails, go ahead and\n\n320\n00:17:25.380 --> 00:17:29.060\nflip on over to the other one, but\nwhat if the other one also fails?\n\n321\n00:17:29.060 --> 00:17:32.700\nI can always come here and find out\nwhat the state of the connection is.\n\n322\n00:17:32.700 --> 00:17:37.660\nThe way that this one works is based\non this monitoring address right here.\n\n323\n00:17:37.660 --> 00:17:39.460\nNow, inside of a real production network,\n\n324\n00:17:39.460 --> 00:17:41.890\nwhen you setup the gateways\nto do something like this.\n\n325\n00:17:41.890 --> 00:17:46.980\nAnd you will see that inside of\nthat multi-WAN pfSense show,\n\n326\n00:17:46.980 --> 00:17:48.760\nthe episode that we did there.\n\n327\n00:17:48.760 --> 00:17:51.890\nYou will see that and what you want\nto do is, you want to make sure that\n\n328\n00:17:51.890 --> 00:17:55.020\nthese monstering addresses\nare not internal to your network,\n\n329\n00:17:55.020 --> 00:17:58.490\nyou want to make sure that they're\nnot internal to your ISPs network.\n\n330\n00:17:58.490 --> 00:18:01.390\nYou want them to be somewhere\nout there on the internet.\n\n331\n00:18:01.390 --> 00:18:03.350\nThere is a problem with that though, okay?\n\n332\n00:18:03.350 --> 00:18:07.260\nAnd the problem is it sends\na ping every second, okay?\n\n333\n00:18:07.260 --> 00:18:11.560\n24 hours a day, 7 days a week,\n365 days a year.\n\n334\n00:18:11.560 --> 00:18:16.320\nSome, believe it or not Daniel,\nsome sites, some IP addresses out there on\n\n335\n00:18:16.320 --> 00:18:19.830\nthe internet don't like that when you\nsend them a ping every single second and\n\n336\n00:18:19.830 --> 00:18:20.880\nyou don't ever turn off.\n\n337\n00:18:20.880 --> 00:18:21.810\n&gt;&gt; What do they care?\n\n338\n00:18:21.810 --> 00:18:22.655\n&gt;&gt; Yeah, they do care.\n\n339\n00:18:22.655 --> 00:18:26.680\n[LAUGH] That's their problem,\nthey do care and what they will stop\n\n340\n00:18:26.680 --> 00:18:30.830\ndoing sometimes of course is then\nstop responding to those pings.\n\n341\n00:18:30.830 --> 00:18:36.790\nAnd that will send back a wrong message\nthen to your monitoring service here,\n\n342\n00:18:36.790 --> 00:18:43.540\ntelling it that hey,\nI can no longer sense that IP address.\n\n343\n00:18:43.540 --> 00:18:46.840\nSo, it may tell you that\nyour gateway is down, and\n\n344\n00:18:46.840 --> 00:18:51.500\nthat works as long as it doesn't\nshut down your gateway, okay?\n\n345\n00:18:51.500 --> 00:18:53.980\nNow, if it shuts down your gateway,\nyou're in trouble.\n\n346\n00:18:53.980 --> 00:18:58.514\nAnd you can have that especially when you\nimplementing multi WAN access which shuts\n\n347\n00:18:58.514 --> 00:18:59.626\ndown your gateway.\n\n348\n00:18:59.626 --> 00:19:03.594\nAnd then, at both of them actually hitting\nlet say address out there on the Internet\n\n349\n00:19:03.594 --> 00:19:06.268\nthat they both don't like it,\nyou gonna get shut down.\n\n350\n00:19:06.268 --> 00:19:08.300\nSo, you do have to be careful,\n\n351\n00:19:08.300 --> 00:19:13.544\nnormally you wanna find those addresses\nin which you absolutely have control,\n\n352\n00:19:13.544 --> 00:19:17.900\nyou have some ability to make\nsure that you can ping them.\n\n353\n00:19:17.900 --> 00:19:22.890\nOr you might have to do the best that\nyou can which is, when they do stop\n\n354\n00:19:22.890 --> 00:19:27.220\nsending them, find another IP address and\nstart pinging that one.\n\n355\n00:19:27.220 --> 00:19:31.546\nIf you don't and\nyou use these types of monitoring,\n\n356\n00:19:31.546 --> 00:19:35.584\nit's really going to be\nkind of harsh to do that.\n\n357\n00:19:35.584 --> 00:19:40.344\nSo, just kind of some of the things that\nyou learn after time like I did whereas\n\n358\n00:19:40.344 --> 00:19:44.593\nlike hey everything looks like its\nworking but darn if my interface,\n\n359\n00:19:44.593 --> 00:19:46.440\nmy gateway is not going down.\n\n360\n00:19:46.440 --> 00:19:51.490\nAnd it was because that the IP address\nI was using just kind of said no I'm\n\n361\n00:19:51.490 --> 00:19:55.850\ndone answering pings for 24 hours a day\nseven days a week, every single second.\n\n362\n00:19:55.850 --> 00:19:56.730\n&gt;&gt; I guess if you want to do that,\n\n363\n00:19:56.730 --> 00:20:00.140\nit would probably be a good idea\nto set up your own internet,\n\n364\n00:20:00.140 --> 00:20:02.560\nweb server something AWS,\nsomething to that effect.\n\n365\n00:20:02.560 --> 00:20:06.720\n&gt;&gt; Yeah.\n&gt;&gt; Where you get an Internet IP,\n\n366\n00:20:06.720 --> 00:20:08.555\nyou won't block yourself.\n\n367\n00:20:08.555 --> 00:20:09.170\n[LAUGH]\n&gt;&gt; Yeah,\n\n368\n00:20:09.170 --> 00:20:11.350\nand that might be something\nthat you choose to do,\n\n369\n00:20:11.350 --> 00:20:13.500\nis somewhere where it might be that way.\n\n370\n00:20:13.500 --> 00:20:19.220\nFor us, we were able to use another method\nof doing that, but it's just one of those\n\n371\n00:20:19.220 --> 00:20:22.940\nthings where you do have to make sure\nthat The other side is ready for it or\n\n372\n00:20:22.940 --> 00:20:26.640\nthey might say, this look like a prelude\nto some type of denial of service attack.\n\n373\n00:20:26.640 --> 00:20:27.170\n&gt;&gt; Right.\n\n374\n00:20:27.170 --> 00:20:30.670\n&gt;&gt; Even though it's only one ping per\nsecond which shouldn't trigger anything.\n\n375\n00:20:30.670 --> 00:20:32.482\nBut when they get 86,400 of them.\n\n376\n00:20:32.482 --> 00:20:36.190\n[LAUGH] And\nI think they get a little bit mad.\n\n377\n00:20:36.190 --> 00:20:36.895\n&gt;&gt; They don't like that.\n\n378\n00:20:36.895 --> 00:20:41.670\n&gt;&gt; [LAUGH] So just kind of realize that\ngateway's another status that we can take\n\n379\n00:20:41.670 --> 00:20:42.580\na look at and see.\n\n380\n00:20:42.580 --> 00:20:46.840\nThe other things down here that I\nalso wanna point out, of course\n\n381\n00:20:46.840 --> 00:20:51.930\nInside of status is I'm gonna scroll down\na little further and go to Services.\n\n382\n00:20:51.930 --> 00:20:54.580\nThis is very important, right here.\n\n383\n00:20:54.580 --> 00:20:56.570\nOn this screen,\nif you're ever not sure of,\n\n384\n00:20:56.570 --> 00:21:00.730\nif you DHCP service that you've\nturned on or your DNS servers or\n\n385\n00:21:00.730 --> 00:21:06.350\nwhatever it is that you've turned on here\nis working, always check the status, okay.\n\n386\n00:21:06.350 --> 00:21:10.840\nIt was running that means it's good and\nit's up, and it's operating, okay.\n\n387\n00:21:10.840 --> 00:21:13.410\nIf it's not, it will tell this down.\n\n388\n00:21:13.410 --> 00:21:17.500\nSo that way, you can know if you turned\nit on, everything is happening here.\n\n389\n00:21:17.500 --> 00:21:20.780\nThis is always a great place\nto begin if somebody says,\n\n390\n00:21:20.780 --> 00:21:25.370\nI'm not getting DHCP or\nopen VPN is fine on my side.\n\n391\n00:21:25.370 --> 00:21:27.430\nWhat's going on and\nyou might find out that it's stopped.\n\n392\n00:21:27.430 --> 00:21:31.180\nSo, let me go ahead and click on open VPN\nhere and I'm just gonna stop the action\n\n393\n00:21:31.180 --> 00:21:33.770\nand we should see here in\na second what that looks like.\n\n394\n00:21:34.800 --> 00:21:38.150\nSee, unless it tells you that\nit's stopped here, okay?\n\n395\n00:21:38.150 --> 00:21:41.430\nSo, if it's stopped and\neverything is actually fixed and\n\n396\n00:21:41.430 --> 00:21:45.630\nokay and ready to go, you simply have\nto click on that play button again.\n\n397\n00:21:45.630 --> 00:21:47.690\nAnd once you do that it\nshould start running again.\n\n398\n00:21:48.760 --> 00:21:53.190\nAs long as it doesn't stop immediately,\nokay like as soon as you do that and\n\n399\n00:21:53.190 --> 00:21:56.650\nit goes okay I'm running, and then,\nall the sudden it switches to stop again,\n\n400\n00:21:56.650 --> 00:21:59.430\nthen you know that you're\nprobably fine and running.\n\n401\n00:21:59.430 --> 00:22:03.460\nBut there are times when you\ndidn't get everything put back and\n\n402\n00:22:03.460 --> 00:22:04.960\nfixed the way that you want to.\n\n403\n00:22:04.960 --> 00:22:08.200\nThat you'll see you'll be able to start\nit and then, it will fail right away.\n\n404\n00:22:08.200 --> 00:22:12.760\nI've done that with IP sect more than one\ntime in terms of the way that the service\n\n405\n00:22:12.760 --> 00:22:14.530\nended up-\n&gt;&gt; Who hasn't Ronnie, who hasn't?\n\n406\n00:22:14.530 --> 00:22:16.595\n&gt;&gt; Yeah so,\njust kinda realize that's a good one.\n\n407\n00:22:16.595 --> 00:22:19.200\n&gt;&gt; [LAUGH]\n&gt;&gt; My favorite of everything that we see\n\n408\n00:22:19.200 --> 00:22:21.780\nhere is actually the system logs.\n\n409\n00:22:21.780 --> 00:22:28.260\nCuz in system logs, this is where I can\nsee essentially the logs of everything.\n\n410\n00:22:28.260 --> 00:22:33.659\nSystem, Firewall, DHCP, Captive Portal,\nIP, you name it, and I select OpenVPN.\n\n411\n00:22:34.680 --> 00:22:37.230\nHere is where I normally\nbegin my troubleshooting.\n\n412\n00:22:37.230 --> 00:22:39.980\nIf I have problems with anything,\nit's gonna be VPNs.\n\n413\n00:22:39.980 --> 00:22:43.650\nSo, I look right here, and\nI start to take a look.\n\n414\n00:22:43.650 --> 00:22:47.720\nThere's the one used for Taylor\na little bit earlier in another show.\n\n415\n00:22:49.190 --> 00:22:50.750\nAnd scroll on down through here.\n\n416\n00:22:50.750 --> 00:22:54.980\nIf there are errors, it should show up\nin any of these logs that are available.\n\n417\n00:22:54.980 --> 00:22:59.900\nNow, this is a nice little condense\nversion of the logs, but remember pfSense\n\n418\n00:22:59.900 --> 00:23:04.530\ncan also off load those two in actual\nsis log server if you want to and\n\n419\n00:23:04.530 --> 00:23:07.420\nsee more information there\ndepending on what you choose to.\n\n420\n00:23:07.420 --> 00:23:11.900\nThe nice thing about the system log is\nright here is that they are separated and\n\n421\n00:23:11.900 --> 00:23:13.260\ncategorize.\n\n422\n00:23:13.260 --> 00:23:16.340\nSo MTP, different settings, you name it.\n\n423\n00:23:16.340 --> 00:23:19.590\nA good one for you to review if\nyou are suspecting issues and\n\n424\n00:23:19.590 --> 00:23:22.030\nproblems with your services\nthat are going on.\n\n425\n00:23:22.030 --> 00:23:23.960\nWe've already taken\na look at Traffic Graph.\n\n426\n00:23:23.960 --> 00:23:26.300\nLet me move on over to Diagnostics and\n\n427\n00:23:26.300 --> 00:23:29.540\njust point out a few other things for\nus, too.\n\n428\n00:23:29.540 --> 00:23:34.420\nDiagnostics, or course, are very important\nif you need a quick way to do this and\n\n429\n00:23:34.420 --> 00:23:38.540\nwondering If PSS is actually\nthe blocking issue here.\n\n430\n00:23:38.540 --> 00:23:41.860\nSo for example, on DNS look ups, right.\n\n431\n00:23:41.860 --> 00:23:43.740\nIt runs a DNS resolver.\n\n432\n00:23:43.740 --> 00:23:45.640\nIs it your resolver that's having issue?\n\n433\n00:23:45.640 --> 00:23:48.020\nThat's where you had\nselected that as well.\n\n434\n00:23:48.020 --> 00:23:51.471\nAnd then of course,\nyou can find out some other information.\n\n435\n00:23:51.471 --> 00:23:57.117\nAnd there's even something that's\nreally a little bit more hands on here.\n\n436\n00:23:57.117 --> 00:24:01.504\nNotice that it actually warned us for\nadvance users only.\n\n437\n00:24:01.504 --> 00:24:05.030\nSo, I can does zoom in on\nthis a little bit here.\n\n438\n00:24:05.030 --> 00:24:09.050\nThe capabilities offered here\ncan be dangerous, [LAUGH] okay?\n\n439\n00:24:09.050 --> 00:24:10.795\nNo support is available.\n\n440\n00:24:10.795 --> 00:24:13.220\n&gt;&gt; [LAUGH]\n&gt;&gt; Use at your own risk.\n\n441\n00:24:13.220 --> 00:24:16.890\nI think it's telling you,\nlike you can, but you shouldn't.\n\n442\n00:24:16.890 --> 00:24:19.450\n&gt;&gt; Yeah, basically putting\nthe cautionary tape over this area, and\n\n443\n00:24:19.450 --> 00:24:21.144\nsaying don't go beyond that tape.\n\n444\n00:24:21.144 --> 00:24:21.730\n[LAUGH]\n&gt;&gt; Yeah,\n\n445\n00:24:21.730 --> 00:24:24.450\nthis is where you are probably\nusing something like VIE\n\n446\n00:24:24.450 --> 00:24:26.990\nto actually mess around, or\nI shouldn't say mess around,\n\n447\n00:24:26.990 --> 00:24:32.470\nto reconfigure your config files of some\nsort, and if you do that, that's fine.\n\n448\n00:24:32.470 --> 00:24:36.060\nThey're saying, hey just realize that, so\nbefore you do something like this just\n\n449\n00:24:36.060 --> 00:24:40.320\nback it up, but overall though, just\nrealize that they do have that if you go,\n\n450\n00:24:40.320 --> 00:24:44.570\nman I like working this GUI, I really\nlike free BSD, I like to work you know\n\n451\n00:24:44.570 --> 00:24:47.830\nit gives you that ability to edit\nthe file right here even in that GUI.\n\n452\n00:24:47.830 --> 00:24:51.920\nAnd you can of course do everything\nthat you want to do there.\n\n453\n00:24:51.920 --> 00:24:53.890\nNow, I'm trying to see if there is,\n\n454\n00:24:53.890 --> 00:24:59.310\nwe already talked about smart status\nsystem, activities, trace route.\n\n455\n00:24:59.310 --> 00:25:01.540\nSo, there's a bunch of\nstandard networking tools.\n\n456\n00:25:01.540 --> 00:25:02.560\nI'm not going to go into every one.\n\n457\n00:25:02.560 --> 00:25:03.740\nYou all have seen networking tools.\n\n458\n00:25:03.740 --> 00:25:04.580\nYou know what Ping is.\n\n459\n00:25:04.580 --> 00:25:06.270\nYou know what trace route is.\n\n460\n00:25:06.270 --> 00:25:07.380\nNot so worried about that.\n\n461\n00:25:07.380 --> 00:25:08.840\nBut there are a couple of different ones,\n\n462\n00:25:08.840 --> 00:25:10.880\nthat I want to point out that\naffect the entire system.\n\n463\n00:25:10.880 --> 00:25:15.540\nOf course, right here where it\nsays halt the system, okay?\n\n464\n00:25:15.540 --> 00:25:17.120\nThat is very important.\n\n465\n00:25:17.120 --> 00:25:21.340\nIf you suspect that, hey I need to\nshut down this system to do something.\n\n466\n00:25:21.340 --> 00:25:24.910\nYou can do it right here from\nthe web view interphase.\n\n467\n00:25:24.910 --> 00:25:28.610\nIf you ever have a role pfSense\nbox in the rack, you go all right,\n\n468\n00:25:28.610 --> 00:25:29.950\nwhere is the power button?\n\n469\n00:25:29.950 --> 00:25:32.350\nAnd you might able to find it right away,\nand you might not and\n\n470\n00:25:32.350 --> 00:25:33.680\nyou just junk the cable\n&gt;&gt; [LAUGH]\n\n471\n00:25:33.680 --> 00:25:35.780\n&gt;&gt; And say, hey don't do that.\n\n472\n00:25:35.780 --> 00:25:39.520\nSend the actual halt command and\nmake that actually work.\n\n473\n00:25:39.520 --> 00:25:44.180\nYou of course can also reboot\nthe system from here as well, and\n\n474\n00:25:44.180 --> 00:25:47.560\nremember that you're on a remote computer\nand you're actually rebooting it.\n\n475\n00:25:47.560 --> 00:25:50.440\nYou can see of course routes you name it.\n\n476\n00:25:50.440 --> 00:25:53.040\nThere are a bunch of different commands\n\n477\n00:25:53.040 --> 00:25:56.310\nthat you should just kind\nof take a look at see.\n\n478\n00:25:56.310 --> 00:25:58.580\nIt even has an art table for\nyou do the examine.\n\n479\n00:25:58.580 --> 00:26:01.800\nSo, that you can see\nthe other things they there,\n\n480\n00:26:01.800 --> 00:26:03.800\nand I don't have anything else connected.\n\n481\n00:26:03.800 --> 00:26:05.906\nSo, that's why you only\nsee one host name as well.\n\n482\n00:26:05.906 --> 00:26:07.237\nSo, you name it.\n\n483\n00:26:07.237 --> 00:26:08.503\n&gt;&gt; Can command prompt to.\n\n484\n00:26:08.503 --> 00:26:11.449\n&gt;&gt; Yeah you can even get into\nthe command prompt if you are daring.\n\n485\n00:26:11.449 --> 00:26:12.579\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n486\n00:26:12.579 --> 00:26:14.530\nhere they haven't in\na nice little one line.\n\n487\n00:26:14.530 --> 00:26:17.700\nNow, it doesn't open up just\nto show like what we expect.\n\n488\n00:26:17.700 --> 00:26:21.990\nBut notice that you can upload and\ndownload file, execute PHP commands.\n\n489\n00:26:21.990 --> 00:26:26.660\nSo, a very powerful interface\nif you choose to actually\n\n490\n00:26:26.660 --> 00:26:31.270\nchange up some of\nthe incredible information.\n\n491\n00:26:31.270 --> 00:26:36.240\nSystem status, if you're really suspecting\nsomething is getting over taxed,\n\n492\n00:26:36.240 --> 00:26:37.800\nyou can see exactly what's happening.\n\n493\n00:26:37.800 --> 00:26:42.530\nSo, here you can see like\nhere's my DHTP server running.\n\n494\n00:26:42.530 --> 00:26:48.660\nYou name it, it really does have\na lot of built in diagnostic tools.\n\n495\n00:26:48.660 --> 00:26:53.320\nEven the ability to do\na packet capture as well.\n\n496\n00:26:53.320 --> 00:26:57.000\nNow if you do this, you wanna make\nsure you don't do this on a computer.\n\n497\n00:26:57.000 --> 00:27:00.808\nThat is super,\nI don't know how else to describe it.\n\n498\n00:27:00.808 --> 00:27:02.890\nIn other words,\nyou're pfSense box should not-\n\n499\n00:27:04.090 --> 00:27:08.020\nI hate to kind of pick on a processor, but\nan armed processor, this is probably not\n\n500\n00:27:08.020 --> 00:27:12.662\nthe best thing in the world, because it\ncaptures everything going through if you\n\n501\n00:27:12.662 --> 00:27:16.600\nenable the promiscuous mode, which is\nexactly what you need to do, okay.\n\n502\n00:27:17.790 --> 00:27:21.040\nThe great thing is even though\nit will capture the whole thing,\n\n503\n00:27:21.040 --> 00:27:25.080\nit gives you the ability to download\nthe capture, and that's the key.\n\n504\n00:27:25.080 --> 00:27:26.550\nYou can view it, but\n\n505\n00:27:26.550 --> 00:27:31.380\nremember that if your system is low\non RAM, yeah, you're eat that up.\n\n506\n00:27:31.380 --> 00:27:33.620\n&gt;&gt; So, this can scream this\nguy to a halt really quickly.\n\n507\n00:27:33.620 --> 00:27:36.290\n&gt;&gt; Yeah.\nAnd if this your main firewall?\n\n508\n00:27:36.290 --> 00:27:38.220\n&gt;&gt; Just depending on how much\ntraffic if passing through.\n\n509\n00:27:38.220 --> 00:27:41.284\n&gt;&gt; Yeah,\nyou could really stop your machine, so\n\n510\n00:27:41.284 --> 00:27:44.401\nbe aware, best thing probably is-\n&gt;&gt; Snuff wisely.\n\n511\n00:27:44.401 --> 00:27:46.930\n[LAUGH]\n&gt;&gt; Yes, wisely exactly.\n\n512\n00:27:46.930 --> 00:27:51.199\nFigure out the number that you need to do,\nand start it and then stop it.\n\n513\n00:27:51.199 --> 00:27:54.798\nAnd then download that and it actually\ngives you the ability to download it, and\n\n514\n00:27:54.798 --> 00:27:58.190\nthen send it over into some of that\nwire start to do your analysis.\n\n515\n00:27:58.190 --> 00:28:01.110\nSo, it really is incredibly helpful in\n\n516\n00:28:01.110 --> 00:28:03.600\neverything that it allows\nyou to be able to do.\n\n517\n00:28:03.600 --> 00:28:06.484\nYou can capture the traffic,\nyou can do all that right here.\n\n518\n00:28:06.484 --> 00:28:09.570\n&gt;&gt; I would assume that this is\nmore of an in a pinch kinda thing.\n\n519\n00:28:09.570 --> 00:28:14.150\nThat typically you don't wanna have\nyour firewall running packet capturing\n\n520\n00:28:14.150 --> 00:28:16.970\nunless you just have no access\nto any other Fluke device,\n\n521\n00:28:16.970 --> 00:28:18.470\nWire Shark, something of that nature.\n\n522\n00:28:18.470 --> 00:28:21.330\n&gt;&gt; Yeah, the only thing that this\nis really helping to determine\n\n523\n00:28:21.330 --> 00:28:23.700\nwhen you're doing the packet capturing,\nright?\n\n524\n00:28:23.700 --> 00:28:28.295\nIs which interphase is really\nwhere the issue is coming in into.\n\n525\n00:28:28.295 --> 00:28:30.510\nSo, is it your landside.\n\n526\n00:28:30.510 --> 00:28:32.990\nYou wanna make sure that you\nactually match the landside.\n\n527\n00:28:32.990 --> 00:28:36.080\nAnd say hey, that's what I believe it is,\nand you're all gonna capture that.\n\n528\n00:28:36.080 --> 00:28:38.700\nOr this on the landside\nyou wanna capture that.\n\n529\n00:28:38.700 --> 00:28:42.650\nBut it's not about the idea of trying\nto find out all the traffic and\n\n530\n00:28:42.650 --> 00:28:44.670\nevery single bit of traffic flown through.\n\n531\n00:28:44.670 --> 00:28:47.410\nYou're really trying to\ndetermine what is the issue.\n\n532\n00:28:47.410 --> 00:28:50.181\nAnd then, hey want you get enough for\nthose packages go,\n\n533\n00:28:50.181 --> 00:28:52.794\nthis got to be it,\nyou want make sure you cut that off.\n\n534\n00:28:52.794 --> 00:28:56.860\nSo, just kind of be aware that\neven though it's right here.\n\n535\n00:28:56.860 --> 00:29:01.930\nDon't try and examine it, especially if\nthis is your only firewall on your system.\n\n536\n00:29:01.930 --> 00:29:03.860\nAnd view the capture.\n\n537\n00:29:03.860 --> 00:29:08.650\nIf it's a huge capture, make sure you\nsave it, and you download the capture.\n\n538\n00:29:08.650 --> 00:29:12.220\nThen send it over to something like\nWireshark on your own computer,\n\n539\n00:29:12.220 --> 00:29:15.520\nwhich should have more or\nplenty of RAM to be able to open that up.\n\n540\n00:29:15.520 --> 00:29:17.140\nAnd you can see it from there.\n\n541\n00:29:17.140 --> 00:29:17.920\nBut there are.\n\n542\n00:29:17.920 --> 00:29:21.320\nThere's a ton of different tools and\nutilities available for\n\n543\n00:29:21.320 --> 00:29:25.410\nyou to not only monitor that status\nof your pfSense firewall, but\n\n544\n00:29:25.410 --> 00:29:29.530\nalso to do some diagnostics and\ntroubleshooting on the networking side as\n\n545\n00:29:29.530 --> 00:29:33.430\nwell as on the ports and everything\nelse that is actually in between.\n\n546\n00:29:33.430 --> 00:29:37.940\nSo, don't just forgo them, because\nyou're like they're probably skimpy.\n\n547\n00:29:37.940 --> 00:29:39.680\nThey aren't.\nThey're actually fairly powerful\n\n548\n00:29:39.680 --> 00:29:42.120\ntools that are built in here, and\n\n549\n00:29:42.120 --> 00:29:46.120\nthey actually don't require you to\nhave a different connection and\n\n550\n00:29:46.120 --> 00:29:49.500\nfigure out how to network in there to\nget it running the way that you want to.\n\n551\n00:29:49.500 --> 00:29:53.570\nIt's built right into the OS itself,\nso it is a great utility for\n\n552\n00:29:53.570 --> 00:29:56.020\nyou to take advantage of and.\n\n553\n00:29:56.020 --> 00:29:59.109\nTo use especially if you believe\nthat pfSense is the issue.\n\n554\n00:29:59.109 --> 00:30:00.070\n&gt;&gt; That's right.\n\n555\n00:30:00.070 --> 00:30:02.700\nVery cool stuff man,\na lot of neat things inside of\n\n556\n00:30:02.700 --> 00:30:06.520\nour pfSense firewall when it comes\nto status, that type of thing.\n\n557\n00:30:06.520 --> 00:30:08.370\nMonitor, obviously very good stuff.\n\n558\n00:30:08.370 --> 00:30:11.870\nRonnie, anything else we need to\ncover before we close the show.\n\n559\n00:30:11.870 --> 00:30:13.950\n&gt;&gt; Not so much, but just remember that,\n\n560\n00:30:13.950 --> 00:30:18.510\nas much as I'd love to say you can\nconfigure it and set it and leave it.\n\n561\n00:30:18.510 --> 00:30:21.620\nWell, that's true on the most\nsimplest configuration, okay.\n\n562\n00:30:21.620 --> 00:30:25.510\nBy far, that's what's going to happen,\nbut as you start implementing more and\n\n563\n00:30:25.510 --> 00:30:31.570\nmore software on top of that, DHCP,\nDNS, open VPN, doing all this stuff.\n\n564\n00:30:31.570 --> 00:30:34.200\nMonitoring becomes much more essential.\n\n565\n00:30:34.200 --> 00:30:38.150\nAnd the reason why is that people\nbegin to depend on it more and\n\n566\n00:30:38.150 --> 00:30:43.030\nthat means you as a support\nadministrator of that device,\n\n567\n00:30:43.030 --> 00:30:46.512\nyou've got to be on top of this thing,\nyou can't just go.\n\n568\n00:30:46.512 --> 00:30:50.360\nYeah I could configured it like three\nyears ago, and I have a chance to send.\n\n569\n00:30:50.360 --> 00:30:52.080\nThis is really important,\n\n570\n00:30:52.080 --> 00:30:56.340\nbecause you will have to make sure\nthat everything is where needs to be.\n\n571\n00:30:56.340 --> 00:30:59.750\nAs your network continues to grow and\nchange, this has to do the same thing.\n\n572\n00:30:59.750 --> 00:31:01.390\nSo, that's why these\ntools are very important.\n\n573\n00:31:01.390 --> 00:31:03.680\n&gt;&gt; Good stuff, Ronnie, thank you so\nmuch for joining us today.\n\n574\n00:31:03.680 --> 00:31:05.750\nThank you guys out there as well.\n\n575\n00:31:05.750 --> 00:31:07.170\nWe do appreciate your viewership.\n\n576\n00:31:07.170 --> 00:31:09.540\nBut it is that time again for\nus to sign off.\n\n577\n00:31:09.540 --> 00:31:12.070\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n578\n00:31:12.070 --> 00:31:13.050\n&gt;&gt; And I'm Ronnie Wong.\n\n579\n00:31:13.050 --> 00:31:15.370\n&gt;&gt; And we'll see you next time.\n\n580\n00:31:15.370 --> 00:31:21.282\n[MUSIC]\n\n581\n00:31:21.282 --> 00:31:23.290\nThank you for watching ITProTV.\n\n",
          "vimeoId": "198721442"
        },
        {
          "description": "In this episode, Daniel and Ronnie discuss the vital procedures that are performing updates, backups, and restore in pfSense. They also discuss the importance of each, exploring the \"Why\" as well as the how.",
          "length": "1229",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-6-2-update_backup_and_rstore_pfsense-010617-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-6-2-update_backup_and_rstore_pfsense-010617-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-6-2-update_backup_and_rstore_pfsense-010617-1-sm.jpg",
          "title": "Update, Backup and Restore pfSense",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:01.297\nWelcome to ITPro.TV.\n\n2\n00:00:01.297 --> 00:00:07.143\nI'm your host Don Pezet, [CROSSTALK]\n\n3\n00:00:07.143 --> 00:00:08.247\n[MUSIC]\n\n4\n00:00:08.247 --> 00:00:11.882\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:11.882 --> 00:00:13.732\n&gt;&gt; All right, greetings everyone and\n\n6\n00:00:13.732 --> 00:00:16.267\nwelcome to another great\nepisode of ITPro.TV.\n\n7\n00:00:16.267 --> 00:00:19.445\nI'm your host Daniel Lowrie and\nin today's episode,\n\n8\n00:00:19.445 --> 00:00:22.660\nwe're back with more on\npfSense Version 2.3.2.\n\n9\n00:00:22.660 --> 00:00:26.560\nAnd yet again,\nbringing himself back into our midst,\n\n10\n00:00:26.560 --> 00:00:29.760\nletting us bask in his glory,\nour good friend, Mr. Ronnie Wong.\n\n11\n00:00:29.760 --> 00:00:30.352\nRonnie, welcome back sir.\n\n12\n00:00:30.352 --> 00:00:31.280\nHow is it going today?\n\n13\n00:00:31.280 --> 00:00:33.170\n&gt;&gt; Well it's going fine, thank you.\n\n14\n00:00:33.170 --> 00:00:35.060\nHopefully, not too much basking here.\n\n15\n00:00:35.060 --> 00:00:37.330\n&gt;&gt; [LAUGH]\n&gt;&gt; We are gonna take a look at some of\n\n16\n00:00:37.330 --> 00:00:41.583\nthe other things that we need to consider\nif we're going to be managing pfSense or\n\n17\n00:00:41.583 --> 00:00:45.601\nadministrating pfSense, which is\nthe idea of course of updating pfSense.\n\n18\n00:00:45.601 --> 00:00:48.538\nMaking sure we understand\nhow to do backups,\n\n19\n00:00:48.538 --> 00:00:50.947\neven a restoration process as well.\n\n20\n00:00:50.947 --> 00:00:55.761\nNow these are all keys especially inside\nof a production network when working\n\n21\n00:00:55.761 --> 00:00:58.651\nwith hardware and software configurations,\n\n22\n00:00:58.651 --> 00:01:03.310\nbackups are about as essential as\nit gets in a production network.\n\n23\n00:01:03.310 --> 00:01:06.280\nThere are times where you\njust don't know what happens.\n\n24\n00:01:06.280 --> 00:01:08.800\nBefore you make any major\nchanges in configuration,\n\n25\n00:01:08.800 --> 00:01:10.290\nI don't mean just with pfSense,\n\n26\n00:01:10.290 --> 00:01:15.440\nright, with anything on your network, you\nwant to make sure you have good backup.\n\n27\n00:01:15.440 --> 00:01:18.500\nJust in case you do pull like\nwhat Daniel calls around here,\n\n28\n00:01:18.500 --> 00:01:22.570\na Ronnie, which is configure it, and\nthen hope for the best at times.\n\n29\n00:01:22.570 --> 00:01:27.230\nInstead what you want to do of course\nis make sure you have a good backup, so\n\n30\n00:01:27.230 --> 00:01:32.130\nthat if anything you end up configuring\nand it doesn't go the way you want to or\n\n31\n00:01:32.130 --> 00:01:36.180\nit doesn't perform the way that you want,\nyou can at least take just a few minutes\n\n32\n00:01:36.180 --> 00:01:40.120\ninstead and\nrestore whatever you've backed up.\n\n33\n00:01:40.120 --> 00:01:44.140\nSo that it's actually at the previous\nstate and you are back up and\n\n34\n00:01:44.140 --> 00:01:47.790\nat least functional, until you can\nfind a reason why it didn't work.\n\n35\n00:01:48.800 --> 00:01:51.210\nThe other thing that we also need\nto talk about here,of course,\n\n36\n00:01:51.210 --> 00:01:54.390\nis the idea of updating pfSense.\n\n37\n00:01:55.650 --> 00:01:59.480\nNow there are people that\nalways say well I never want to\n\n38\n00:01:59.480 --> 00:02:02.660\nupdate pfSense because it's actually\nworking the way that we want to.\n\n39\n00:02:02.660 --> 00:02:07.945\nAnd there was even a time when we wouldn't\nupdate pfSense right here at ITProTV,\n\n40\n00:02:07.945 --> 00:02:13.195\nbecause when we switched from\n2.1.5 to try to update to 2.2 it\n\n41\n00:02:13.195 --> 00:02:16.271\nwas a complete and\ntotal disaster when we did it.\n\n42\n00:02:16.271 --> 00:02:20.635\n[LAUGH] It literally did take down\nthe entire network as we were doing it.\n\n43\n00:02:20.635 --> 00:02:25.170\nThe day before we actually had a shoot\nthat we had to do and so it took us\n\n44\n00:02:25.170 --> 00:02:30.130\npretty much the following day because\nthere was no back up automatically for us.\n\n45\n00:02:30.130 --> 00:02:32.220\nAnd we just said it should just update.\n\n46\n00:02:32.220 --> 00:02:34.140\nWe should be fine and ready to go.\n\n47\n00:02:34.140 --> 00:02:35.340\nAnd it was not fine.\n\n48\n00:02:35.340 --> 00:02:38.220\nIt really took a long time to get\neverything back in the way that\n\n49\n00:02:38.220 --> 00:02:39.520\nwe wanted to.\n\n50\n00:02:39.520 --> 00:02:41.470\nSo even though we have\nthe skills to do so,\n\n51\n00:02:41.470 --> 00:02:44.350\nthe problem in a cyber\nproduction network is time.\n\n52\n00:02:44.350 --> 00:02:47.160\nYou don't have the time you don't\nhave all the resources available,\n\n53\n00:02:47.160 --> 00:02:50.510\nespecially if you're a small shop, to\njust go, I'll just go and take a day and\n\n54\n00:02:50.510 --> 00:02:54.920\nhalf or two days to reconfigure everything\nand make sure everything is working and\n\n55\n00:02:54.920 --> 00:02:56.530\nthen everyone will be happy.\n\n56\n00:02:56.530 --> 00:03:00.302\nMost of the time you need to be back\nup and running as soon as you can.\n\n57\n00:03:00.302 --> 00:03:05.180\nEven if it takes you a couple of hours\nthat's better on what 24, 48 72 hours\n\n58\n00:03:05.180 --> 00:03:10.200\ninstead before everything that actually\nkinda functional the way that it once was.\n\n59\n00:03:10.200 --> 00:03:13.150\nSo of course that's where\nwe wanna take you through.\n\n60\n00:03:13.150 --> 00:03:16.520\nSo let's go and\ntake a look at my machine as we do this.\n\n61\n00:03:16.520 --> 00:03:19.900\nNow I've went ahead, I've installed\nan older version of pfSense.\n\n62\n00:03:19.900 --> 00:03:21.820\nWe've been using it\nthroughout the show and\n\n63\n00:03:21.820 --> 00:03:24.570\nI've been ignoring it\nat the same time too.\n\n64\n00:03:24.570 --> 00:03:26.785\nSo I'm simply going to log into pfSense.\n\n65\n00:03:28.110 --> 00:03:29.500\nAt least I think I am.\n\n66\n00:03:29.500 --> 00:03:34.782\nLet see if it actually gives me the\nability to, once again my ability to type,\n\n67\n00:03:34.782 --> 00:03:37.210\nthere we go.\n\n68\n00:03:37.210 --> 00:03:38.840\nSo I am now here and\n\n69\n00:03:38.840 --> 00:03:43.120\nas I take a look at this version of\npfSense, the version that you've\n\n70\n00:03:43.120 --> 00:03:47.690\nactually heard Daniel refer to at the very\nbeginning of the show was always 2.3.2.\n\n71\n00:03:47.690 --> 00:03:48.525\nAnd this one.\n\n72\n00:03:48.525 --> 00:03:52.160\n&gt;&gt; [LAUGH] You can do it, Ronnie.\n\n73\n00:03:52.160 --> 00:03:53.140\n&gt;&gt; Yeah, maybe.\n\n74\n00:03:53.140 --> 00:03:56.080\nIs of course 2.3.1.\n\n75\n00:03:56.080 --> 00:04:01.220\nNow there is a new release even for\n2.3.1 and it's right down here,\n\n76\n00:04:01.220 --> 00:04:05.460\nand let me show you my\nother pfSense box if I can.\n\n77\n00:04:05.460 --> 00:04:06.030\nWhere did it go?\n\n78\n00:04:06.030 --> 00:04:07.410\nWhere did my, there it goes.\n\n79\n00:04:07.410 --> 00:04:09.970\nI was gonna say,\nI knew I parked it around here somewhere.\n\n80\n00:04:09.970 --> 00:04:14.990\nYou can see that even on 2.3.2 there\nis actually an update available.\n\n81\n00:04:14.990 --> 00:04:18.140\nIf your machine is directly\nconnected to the internet and\n\n82\n00:04:18.140 --> 00:04:24.260\nmost of them are going to be, you should\nend up getting this update right away.\n\n83\n00:04:24.260 --> 00:04:27.370\nIf you go,\nno I just manually want to download this.\n\n84\n00:04:27.370 --> 00:04:30.490\nWell how do you do that if\nyou want that new update?\n\n85\n00:04:30.490 --> 00:04:33.550\nYou need to go, of course,\nto the pfSense site.\n\n86\n00:04:33.550 --> 00:04:40.310\nFrom there you would select download,\nand once you select download\n\n87\n00:04:40.310 --> 00:04:43.900\nyou would of course would go ahead and\ntype in whatever the latest version is and\n\n88\n00:04:43.900 --> 00:04:48.190\nyour install package, and\nthat way you can install it there.\n\n89\n00:04:48.190 --> 00:04:50.950\nSo once you have that,\nyou'll actually end up seeing that\n\n90\n00:04:50.950 --> 00:04:55.170\nyou'll have those lists available for\nwhat you have access to.\n\n91\n00:04:55.170 --> 00:05:00.780\nNow there's another website that you can\nalso have access to as well, and on this\n\n92\n00:05:00.780 --> 00:05:03.730\none, let me see if I can point it cuz I'm\nnot sure if I've put it in my show notes.\n\n93\n00:05:03.730 --> 00:05:06.280\nI don't see it in my show notes here.\n\n94\n00:05:06.280 --> 00:05:10.060\nWhich is this one,\ndoc.pfsense.org index, php.\n\n95\n00:05:10.060 --> 00:05:13.280\nVersions of pfSense and FreeBSD.\n\n96\n00:05:13.280 --> 00:05:16.900\nThis will tell you every version of\npfSense that's out and whether or\n\n97\n00:05:16.900 --> 00:05:18.410\nnot it's still being supported.\n\n98\n00:05:19.650 --> 00:05:23.870\nWhich is always a neat thing, but\nthe problem that you have here is simple.\n\n99\n00:05:23.870 --> 00:05:29.100\nIs that once you get to something like\nthis it's a little more difficult because\n\n100\n00:05:29.100 --> 00:05:34.230\nIt doesn't even really give you like\nwhere is it actually released here.\n\n101\n00:05:34.230 --> 00:05:39.260\nSo, even though they show you like the,\nthey give you notes but they don't take\n\n102\n00:05:39.260 --> 00:05:43.060\nyou directly to the mirror sites of\nwhere you can download this thing.\n\n103\n00:05:43.060 --> 00:05:47.170\nSo, you have to do a little bit more\nhunting to say, where can I find this, so\n\n104\n00:05:47.170 --> 00:05:49.680\nit's a little bit more difficult\nto find older versions.\n\n105\n00:05:49.680 --> 00:05:52.880\nA newer one you can always go\nto the website to find, okay?\n\n106\n00:05:52.880 --> 00:05:57.270\nBut, because you're running pfSense,\nthough, you don't even have to do that.\n\n107\n00:05:57.270 --> 00:06:02.240\nAll you have to do to upgrade\npfSense is if pfSenses senses it,\n\n108\n00:06:02.240 --> 00:06:05.660\nit should show up right here that\nthere's a new version available.\n\n109\n00:06:05.660 --> 00:06:09.680\nand all we have to do is click on\nthe little cloud download link.\n\n110\n00:06:09.680 --> 00:06:11.485\nI'm sure you can see that.\n\n111\n00:06:13.943 --> 00:06:17.380\nAnd now it tells you,\nhey do you want to actually do this.\n\n112\n00:06:17.380 --> 00:06:22.820\nSo, here's the current base system, the\nlatest base system, confirm the update.\n\n113\n00:06:22.820 --> 00:06:27.090\nWe simply select confirm and\nit begins the installation here.\n\n114\n00:06:27.090 --> 00:06:31.710\nSo, this may end up taking just a few\nminutes for us to be able to do this.\n\n115\n00:06:31.710 --> 00:06:35.590\nBut once it actually installs and\nit reboots,\n\n116\n00:06:35.590 --> 00:06:40.610\neverything should be up and\navailable for us to get ready to go.\n\n117\n00:06:40.610 --> 00:06:42.810\nSo it is taking its sweet time.\n\n118\n00:06:42.810 --> 00:06:45.470\nNow, one of the things that we should do,\n\n119\n00:06:45.470 --> 00:06:49.440\nif we were actually doing this\nis in reality, is of course,\n\n120\n00:06:49.440 --> 00:06:54.580\nmake sure you back this thing,\nthe pfSense configuration.\n\n121\n00:06:54.580 --> 00:07:00.080\nMake sure that you actually have a great\nbackup of pfSense in your Reddit.\n\n122\n00:07:00.080 --> 00:07:03.430\nMost of the time on these updates,\nwhen you're doing it like this,\n\n123\n00:07:03.430 --> 00:07:07.780\nit's gonna come a point and it's gonna\nsay, hey, do you want to back up this,\n\n124\n00:07:07.780 --> 00:07:12.790\nyour pfSense configuration before\nyou complete the update, okay?\n\n125\n00:07:12.790 --> 00:07:14.120\nSo I don't know how long\nthis is gonna take,\n\n126\n00:07:14.120 --> 00:07:16.140\nthat's why I'm talking\nthrough the whole thing.\n\n127\n00:07:16.140 --> 00:07:17.830\nSo as you do that, but\n\n128\n00:07:17.830 --> 00:07:20.370\nsometimes you might find out\nthe earlier versions may not have it.\n\n129\n00:07:20.370 --> 00:07:22.540\nIt should have been\nincluded at least 2.2 and\n\n130\n00:07:22.540 --> 00:07:25.920\nabove, where you will\nsee something like that.\n\n131\n00:07:25.920 --> 00:07:29.910\nBut it doesn't look like it gave me that\noption, so I could be in very big trouble\n\n132\n00:07:29.910 --> 00:07:35.200\nhere if this was a production network and\nwe were doing this.\n\n133\n00:07:35.200 --> 00:07:39.494\nSo normally that's what would happen is\nthat there's actually a link once you\n\n134\n00:07:39.494 --> 00:07:42.421\nactually start that update\nprocess that says, hey,\n\n135\n00:07:42.421 --> 00:07:47.059\nback this up before you start the update,\nbut I didn't get that in that 2.3.1.\n\n136\n00:07:47.059 --> 00:07:50.211\nSo, a little bit scarier at that\npoint as we're starting to do this.\n\n137\n00:07:50.211 --> 00:07:52.813\n&gt;&gt; Which just reiterates\nhow important is for\n\n138\n00:07:52.813 --> 00:07:56.944\nus to be manually doing updates Update,\nupdate, update, right?\n\n139\n00:07:56.944 --> 00:08:00.045\nOr not update, I'm sorry, backups,\nbackups, all the time, do some backups.\n\n140\n00:08:00.045 --> 00:08:01.092\n&gt;&gt; Yeah and-\n&gt;&gt; Regularly scheduled.\n\n141\n00:08:01.092 --> 00:08:04.827\n&gt;&gt; Yeah, regularly scheduled would be\neven better, and this is also a, and\n\n142\n00:08:04.827 --> 00:08:09.069\nI hate to push this because it sounds like\nI'm selling something, it really does.\n\n143\n00:08:09.069 --> 00:08:10.424\nBut this is a great time for\n\n144\n00:08:10.424 --> 00:08:14.074\nyou to think about actually getting\nthat pfSense Gold subscription.\n\n145\n00:08:14.074 --> 00:08:18.457\nAnd the reason why is once you get\nthe pfSense Gold subscription here,\n\n146\n00:08:18.457 --> 00:08:22.402\nright here on this pfSense Gold\nrestriction, subscription.\n\n147\n00:08:22.402 --> 00:08:27.296\nI don't know why I said that, but\nsubscription, it gives you the ability to\n\n148\n00:08:27.296 --> 00:08:30.968\nnot only to, of course,\nhave access to their service and\n\n149\n00:08:30.968 --> 00:08:34.668\ntheir help in the way that it wants to,\nthe pfSense book.\n\n150\n00:08:34.668 --> 00:08:39.518\nBut if you do a backup, there's also\na package that you can download that is\n\n151\n00:08:39.518 --> 00:08:44.062\nan auto config backup or an auto\nbackup config, something like that.\n\n152\n00:08:44.062 --> 00:08:49.042\nA package that says, hey, now when you\nrun your backups, and you make changes\n\n153\n00:08:49.042 --> 00:08:53.585\nto your system, it automatically\nbacks up to your account at pfSense.\n\n154\n00:08:53.585 --> 00:08:58.069\nSo that way you actually have a Cloud\nbackup of your pfSense config directly\n\n155\n00:08:58.069 --> 00:09:02.785\ntied to your account when you log into\npfSense Gold, so it's really helpful.\n\n156\n00:09:02.785 --> 00:09:03.501\n&gt;&gt; Riddle me this one, Batman.\n\n157\n00:09:03.501 --> 00:09:06.206\nThere's one option under\nthe drop down of Gold.\n\n158\n00:09:06.206 --> 00:09:07.175\n&gt;&gt; [LAUGH] I know.\n\n159\n00:09:07.175 --> 00:09:08.010\n&gt;&gt; What's the purpose of the drop down?\n\n160\n00:09:08.010 --> 00:09:10.585\n[LAUGH]\n&gt;&gt; Well, of course it's because it senses,\n\n161\n00:09:10.585 --> 00:09:11.717\nit's like, hey Ronnie,\n\n162\n00:09:11.717 --> 00:09:14.406\nI noticed something,\nyou do not have a pfSense account here.\n\n163\n00:09:14.406 --> 00:09:14.942\n&gt;&gt; Gold account.\n\n164\n00:09:14.942 --> 00:09:19.257\n&gt;&gt; Yeah, so go ahead and join now,\nthat's what it's pretty much telling me.\n\n165\n00:09:19.257 --> 00:09:22.578\nSo it does give you that, and\nhere is the key, here is,\n\n166\n00:09:22.578 --> 00:09:26.491\nthat you have access to,\nthere it is, this AutoConfigBackup.\n\n167\n00:09:26.491 --> 00:09:31.165\nI couldn't remember what it was called,\nsecure online backup services for\n\n168\n00:09:31.165 --> 00:09:35.783\nup to ten different boxes, and you can\neven purchase more if you wanted to.\n\n169\n00:09:35.783 --> 00:09:39.930\nBut this is really a great option, because\nit means you don't have to worry about\n\n170\n00:09:39.930 --> 00:09:44.141\nwhere did you store the backup, and\nwhen was the last time you backed up here?\n\n171\n00:09:44.141 --> 00:09:48.359\nAny time you start making saves and\nchanges and configuration changes,\n\n172\n00:09:48.359 --> 00:09:51.886\nit automatically starts counting those and\nbacks them up for\n\n173\n00:09:51.886 --> 00:09:55.500\nyou, and that way you have\nincredibly incremental backups.\n\n174\n00:09:55.500 --> 00:09:59.113\nAnd when you go and have to do a restore,\nyou can actually select which one\n\n175\n00:09:59.113 --> 00:10:02.328\nyou want to restore and\nwhat's the last full back up that it did.\n\n176\n00:10:02.328 --> 00:10:07.084\nIt's really a good option that you have\navailable, but since mine didn't actually\n\n177\n00:10:07.084 --> 00:10:11.776\nask for an automatic, or for a backup,\nright then, right before I went to update.\n\n178\n00:10:11.776 --> 00:10:15.266\nCuz I was looking for that and\nit didn't give me that option,\n\n179\n00:10:15.266 --> 00:10:18.906\nyou can always go to Diagnostics and\nselect Backup &amp; Restore.\n\n180\n00:10:18.906 --> 00:10:23.300\nAnd this is what you want to pay attention\nto here if you want to run a manual\n\n181\n00:10:23.300 --> 00:10:23.891\nbackup.\n\n182\n00:10:23.891 --> 00:10:27.517\nSelecting the areas that you\nchoose to backup, notice you can\n\n183\n00:10:27.517 --> 00:10:32.136\nbackup the individual services if you\nwant to, or you can back up everything.\n\n184\n00:10:32.136 --> 00:10:36.064\nAnd whether or not you want to skip\npackages from being backed up or not,\n\n185\n00:10:36.064 --> 00:10:39.285\nbecause this adds to the size\nof your backups, of course.\n\n186\n00:10:39.285 --> 00:10:41.780\nAnd I want to make sure that mine's there,\nbut\n\n187\n00:10:41.780 --> 00:10:44.414\nI don't want to keep that\nRound Robin database.\n\n188\n00:10:44.414 --> 00:10:46.850\nSo it says do not back up\nthe Round Robin database,\n\n189\n00:10:46.850 --> 00:10:50.048\nbecause it can actually consume\nquite a bit of information here.\n\n190\n00:10:50.048 --> 00:10:53.036\nAnd if I want to encrypt\nit as I download it,\n\n191\n00:10:53.036 --> 00:10:56.108\nthat is pretty much what\nyou just have to do.\n\n192\n00:10:56.108 --> 00:10:58.771\nSo if you want an encryption,\nyou simply put a check mark there and\n\n193\n00:10:58.771 --> 00:10:59.701\nthen you download it.\n\n194\n00:10:59.701 --> 00:11:04.126\nI'm just going to download\nthe configuration as an XML file, and\n\n195\n00:11:04.126 --> 00:11:07.757\nclick Save As here, and\nlet's see where it saves it.\n\n196\n00:11:11.700 --> 00:11:14.754\nGonna open my folder which is gonna be,\nof course,\n\n197\n00:11:14.754 --> 00:11:17.319\nwell, maybe I'm gonna open that folder.\n\n198\n00:11:17.319 --> 00:11:21.891\n&gt;&gt; [LAUGH]\n&gt;&gt; It's not letting me open the folder,\n\n199\n00:11:21.891 --> 00:11:23.883\nwell, that's fancy.\n\n200\n00:11:23.883 --> 00:11:26.322\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's see if I can get access to that.\n\n201\n00:11:26.322 --> 00:11:27.163\n&gt;&gt; I really like that feature.\n\n202\n00:11:27.163 --> 00:11:32.790\n&gt;&gt; I know, it's really a neat feature\nhere until you have to work with it.\n\n203\n00:11:32.790 --> 00:11:35.281\nAll right, now,\nI really wanted to point out,\n\n204\n00:11:35.281 --> 00:11:39.578\nI had been backing up some of this stuff\nthat we've been doing, but the file output\n\n205\n00:11:39.578 --> 00:11:43.352\nis the one that I really want to point to,\nand so here's the latest one.\n\n206\n00:11:43.352 --> 00:11:46.652\nAnd you might be wondering how\ndo I know it's the latest one,\n\n207\n00:11:46.652 --> 00:11:51.118\nbecause it begins with the year, and then\nthe month, and then the day right here,\n\n208\n00:11:51.118 --> 00:11:56.130\nand even the time, if I think that that's\nactually the correct time, 11:53, yeah.\n\n209\n00:11:56.130 --> 00:11:56.672\n&gt;&gt; That's correct.\n\n210\n00:11:56.672 --> 00:12:00.290\n&gt;&gt; So it even gives you that here,\nat least in 2017, so\n\n211\n00:12:00.290 --> 00:12:03.679\nthat way you know exactly\nwhat time your backup was.\n\n212\n00:12:03.679 --> 00:12:06.875\nAnd notice the backup's\nonly 52.5 kilobytes,\n\n213\n00:12:06.875 --> 00:12:10.952\nso that's very important,\nas long as you remember where that is.\n\n214\n00:12:10.952 --> 00:12:13.998\nBut with the pfSense Gold,\nyou don't even have to do that.\n\n215\n00:12:13.998 --> 00:12:16.529\nOnce you actually say,\nI need to restore that,\n\n216\n00:12:16.529 --> 00:12:20.089\nit will send you all the way back\nup to the pfSense Gold cloud there.\n\n217\n00:12:20.089 --> 00:12:23.736\nAnd then you'd select Restore that\nConfiguration, and you're off and\n\n218\n00:12:23.736 --> 00:12:25.183\nready to go on that restore.\n\n219\n00:12:25.183 --> 00:12:29.858\nAll right, now, as we go back then\nto seeing what the update was,\n\n220\n00:12:29.858 --> 00:12:32.668\nlet's take a look here as I log back in.\n\n221\n00:12:35.694 --> 00:12:40.267\nSo I remember in 2.15 going to 2.2, or\n2.1, whatever it was, yeah, when we\n\n222\n00:12:40.267 --> 00:12:44.988\nactually rebooted it, it didn't come up\nwith anything, that's how we knew it like.\n\n223\n00:12:44.988 --> 00:12:48.442\nAnd then we're like, all right let's,\nwe didn't do the backup but\n\n224\n00:12:48.442 --> 00:12:49.682\nwe should have done that.\n\n225\n00:12:49.682 --> 00:12:51.249\n&gt;&gt; Now, Ronnie,\nthat brings up a great question,\n\n226\n00:12:51.249 --> 00:12:52.751\nwhat if something like that happens,\nright?\n\n227\n00:12:52.751 --> 00:12:56.975\nSo we've done this upgrade, it's not\nsaying that it needs any new versions,\n\n228\n00:12:56.975 --> 00:13:00.050\nit's completely up to date,\nand things are just hosed.\n\n229\n00:13:00.050 --> 00:13:03.075\nThe whole network's gone wonky,\nnothing works, and\n\n230\n00:13:03.075 --> 00:13:04.995\nwe need to go back to the way it was.\n\n231\n00:13:04.995 --> 00:13:08.306\nWell, we could do a backup and\nrestore from there, but\n\n232\n00:13:08.306 --> 00:13:12.123\nwhat if that version does not work for\nus, and we wanna go back?\n\n233\n00:13:12.123 --> 00:13:14.444\n&gt;&gt; Yeah, if you wanna go back,\nthis is the hard part, right.\n\n234\n00:13:14.444 --> 00:13:15.913\nThere is no downgrade button.\n\n235\n00:13:15.913 --> 00:13:17.972\nI'd love to say that there was a button,\n\n236\n00:13:17.972 --> 00:13:21.738\nthere was an option that says of course\nyou can reverse all these changes.\n\n237\n00:13:21.738 --> 00:13:25.790\nBut this is where you have to go and find\nthe previous version that you were on.\n\n238\n00:13:25.790 --> 00:13:28.672\nHopefully you have the ISO\ntucked away somewhere.\n\n239\n00:13:28.672 --> 00:13:33.616\nBut you would essentially start over, and\nif you had a good backup, all you'd do at\n\n240\n00:13:33.616 --> 00:13:37.729\nthat point is go ahead and of course\nrestore the config at that point.\n\n241\n00:13:37.729 --> 00:13:42.358\nSo that's what would end up happening in\nterms of the downgrade if you were to try\n\n242\n00:13:42.358 --> 00:13:42.990\nand do it.\n\n243\n00:13:42.990 --> 00:13:44.140\nIt's not easy, but\n\n244\n00:13:44.140 --> 00:13:48.081\nit is something that can be done if\nyou were to think about doing that.\n\n245\n00:13:48.081 --> 00:13:52.710\nNow, when you start to take a look\nat that idea of downgrading here,\n\n246\n00:13:52.710 --> 00:13:57.192\nyou do have to take a look and\nfind out whether or not you have that.\n\n247\n00:13:57.192 --> 00:14:02.540\nI'm trying to see if I can get access to\na couple of different things here, okay?\n\n248\n00:14:02.540 --> 00:14:05.744\nSo what I was showing you before\nas far as manual, I can't say it,\n\n249\n00:14:05.744 --> 00:14:07.102\nas far as manual upgrades.\n\n250\n00:14:07.102 --> 00:14:09.730\nI said you could come here and\nyou could download it,\n\n251\n00:14:09.730 --> 00:14:12.497\nbut I had forgotten to show\nyou how to actually do that.\n\n252\n00:14:12.497 --> 00:14:17.361\nSo if you have an upgrade option, you\ncan select instead Upgrade option here.\n\n253\n00:14:17.361 --> 00:14:20.983\nAnd then select the architecture for\nyour computer, or for\n\n254\n00:14:20.983 --> 00:14:23.236\nwhatever box you're putting it on.\n\n255\n00:14:23.236 --> 00:14:26.599\nAnd then the platform of\nwhat type that you want, and\n\n256\n00:14:26.599 --> 00:14:31.511\nthen you could select the Download at\nthat point to pull you into that place.\n\n257\n00:14:31.511 --> 00:14:35.947\nThere are different mirrors that are\navailable out there if you will do just\n\n258\n00:14:35.947 --> 00:14:40.318\na simple search in your favorite search\nengine to be able to bring that up,\n\n259\n00:14:40.318 --> 00:14:44.490\nand you'll find that they're actually\nmirrored all over the place.\n\n260\n00:14:44.490 --> 00:14:49.033\nThe hard thing about this, of course, is\nthat if you find it, it's very difficult.\n\n261\n00:14:49.033 --> 00:14:51.308\nLet me see if I can\nactually pull this up here.\n\n262\n00:14:53.272 --> 00:14:58.991\nHave to kind of see, I do have a link for\nthe mirror downloads, there we go, okay.\n\n263\n00:14:58.991 --> 00:15:03.479\nSo here is how a mirror\ndownloads site looks, and\n\n264\n00:15:03.479 --> 00:15:07.211\nit's a little bit hard to follow along.\n\n265\n00:15:07.211 --> 00:15:10.659\nIf I was looking for 2.3.1 you go,\nokay, it's easy enough,\n\n266\n00:15:10.659 --> 00:15:15.229\nI continue to scroll all the way\ndown here to 2.3, 2.2, 3, what, 2.3.\n\n267\n00:15:15.229 --> 00:15:20.520\n&gt;&gt; That's where that lovely\nFind feature comes in handy.\n\n268\n00:15:20.520 --> 00:15:21.377\n&gt;&gt; Yeah, it really does.\n\n269\n00:15:21.377 --> 00:15:22.936\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n270\n00:15:22.936 --> 00:15:26.756\nonce you have that as well though notice\nthat you still have other options.\n\n271\n00:15:26.756 --> 00:15:30.383\nSo is this the right one,\neven though I'm at 2.3?\n\n272\n00:15:30.383 --> 00:15:31.797\nNo, that's nanobsd-vga.\n\n273\n00:15:31.797 --> 00:15:36.536\nAll right, so,\nI'll continue to go down here, vga, well,\n\n274\n00:15:36.536 --> 00:15:40.817\nno, nano, i386, I'm not there yet, and\n\n275\n00:15:40.817 --> 00:15:45.033\nthen finally here it is,\nit's the amd iso right here.\n\n276\n00:15:45.033 --> 00:15:47.818\nAnd they even have,\nof course, the sha256 file.\n\n277\n00:15:47.818 --> 00:15:50.940\nYou wanna make sure, of course,\nthat you have the proper one.\n\n278\n00:15:50.940 --> 00:15:58.132\nSo make sure you match up that idea of\nyour hash file with the proper one here.\n\n279\n00:15:58.132 --> 00:16:00.419\nIf you get the ISO from this site,\n\n280\n00:16:00.419 --> 00:16:04.600\nmake sure you go to another\nsite to get that hash file.\n\n281\n00:16:04.600 --> 00:16:07.270\nThat way you know it's\nactually the proper file.\n\n282\n00:16:07.270 --> 00:16:10.670\nDo not get it from the same site,\ncuz if somebody messed around with this,\n\n283\n00:16:10.670 --> 00:16:14.070\nthey could easily have messed around\nwith this one as well on the same site.\n\n284\n00:16:14.070 --> 00:16:17.110\nBut from two different sites,\nnot so much available.\n\n285\n00:16:17.110 --> 00:16:21.830\nNotice they even have a memory stick\nrelease which is their recommendation now.\n\n286\n00:16:21.830 --> 00:16:25.513\nLive CD's, so\nit's a little bit more difficult to find,\n\n287\n00:16:25.513 --> 00:16:29.575\neven with 2.3.1,\nbecause I continue to scroll down here,\n\n288\n00:16:29.575 --> 00:16:32.526\nit will get to that point\nwhere it will do that.\n\n289\n00:16:32.526 --> 00:16:36.167\nSo you might see that there's actually\nmultiple versions of this thing.\n\n290\n00:16:36.167 --> 00:16:41.127\nSo that's why you want to be careful\nwhen you start taking a look at the idea\n\n291\n00:16:41.127 --> 00:16:43.500\nof having to download this.\n\n292\n00:16:43.500 --> 00:16:47.472\nRecommendation of course is that if\nyou don't have it, make sure you find\n\n293\n00:16:47.472 --> 00:16:51.331\nthe mirror downloads before you start\nthe process of doing an upgrade.\n\n294\n00:16:51.331 --> 00:16:55.364\nAnd have your backup ready to go so\nthat you can reinstall and\n\n295\n00:16:55.364 --> 00:16:57.630\nthen go ahead and do the restore.\n\n296\n00:16:58.700 --> 00:17:05.473\nAll right, so here,\nas we've now updated to the .1 release,\n\n297\n00:17:05.473 --> 00:17:10.260\nonce you have everything in place,\nthis is where if you have your backup,\n\n298\n00:17:10.260 --> 00:17:15.110\nyou would go up to diagnostics and\nthen, select Backup and then, Restore.\n\n299\n00:17:15.110 --> 00:17:17.830\nNow, I didn't actually\nback this one up so,\n\n300\n00:17:17.830 --> 00:17:21.780\nmy restoration would be terrible\nif I were to choose that file for\n\n301\n00:17:21.780 --> 00:17:25.110\nAlpha but that's what you\nwould actually end up doing.\n\n302\n00:17:25.110 --> 00:17:29.570\nSo, let me go back to the other one\ncuz we can do the same thing on,\n\n303\n00:17:29.570 --> 00:17:31.160\nmake sure I go the right way, how's that?\n\n304\n00:17:32.560 --> 00:17:38.070\nSo if I wanted to restore it,\nI come back into the web interface and\n\n305\n00:17:38.070 --> 00:17:46.160\nthen I select my lab and then the latest\none for alpha, if I can find it.\n\n306\n00:17:46.160 --> 00:17:46.700\nWhere did it go?\n\n307\n00:17:49.184 --> 00:17:50.009\nThere it is.\n\n308\n00:17:51.810 --> 00:17:56.360\nSo config alpha pfSense, click Open, and\n\n309\n00:17:56.360 --> 00:17:58.580\nat this point,\nyou simply restore the config.\n\n310\n00:17:58.580 --> 00:18:03.380\nAnd there it tells you it's\nactually been restoring.\n\n311\n00:18:03.380 --> 00:18:05.320\nAnd now it's gonna reboot the firewall.\n\n312\n00:18:05.320 --> 00:18:09.410\nYour next reboot, you should have\nit restored and ready to go.\n\n313\n00:18:09.410 --> 00:18:13.110\nSo it's a fairly simple\nprocess to be able to do this.\n\n314\n00:18:13.110 --> 00:18:15.460\nAlways begin with a backup.\n\n315\n00:18:15.460 --> 00:18:19.640\nSo just like I was expecting that when you\nhit that update it normally tells you,\n\n316\n00:18:19.640 --> 00:18:23.450\nyou should back this thing up right now,\nyou want to, it normally goes ahead and\n\n317\n00:18:23.450 --> 00:18:25.120\ngives you that ability to do so.\n\n318\n00:18:25.120 --> 00:18:28.280\nBut on mine, in this instance,\nit didn't do so.\n\n319\n00:18:28.280 --> 00:18:32.000\nSo I recommend that you make sure that\nyou at least manually have a backup.\n\n320\n00:18:32.000 --> 00:18:34.180\nSo regardless of whether\nyour system asks you to or\n\n321\n00:18:34.180 --> 00:18:38.250\nnot, you're actually ready to go\nin either sense at that point.\n\n322\n00:18:38.250 --> 00:18:42.320\nSo that is kind of some of the things\nthat you may have to end up doing,\n\n323\n00:18:42.320 --> 00:18:44.150\nespecially if a config goes wrong.\n\n324\n00:18:44.150 --> 00:18:45.890\nI know I've had it happen to me.\n\n325\n00:18:45.890 --> 00:18:50.050\nWhere I made a DHCP change and it really\nbrought down the entire network for\n\n326\n00:18:50.050 --> 00:18:53.030\none reason or another and\nwe were locked out.\n\n327\n00:18:53.030 --> 00:18:54.810\nAnd I just had to actually reboot and\n\n328\n00:18:54.810 --> 00:18:59.600\ndo a manual backup from\nthe interface that it gave me.\n\n329\n00:18:59.600 --> 00:19:02.935\nAnd once it was restored it booted right\nup and we were off and ready to go.\n\n330\n00:19:02.935 --> 00:19:06.700\nIt saved me quite a bit of time and\nI do recommend\n\n331\n00:19:06.700 --> 00:19:10.340\nthat you take a look at how to do the\nupdate, the backup, and the restoration.\n\n332\n00:19:10.340 --> 00:19:13.520\n&gt;&gt; That's right they are very\nsimple administrative tasks,\n\n333\n00:19:13.520 --> 00:19:16.680\nyet they're also very important\nadministrative tasks,\n\n334\n00:19:16.680 --> 00:19:19.970\nbecause you don't want to be out\nin the cold without a backup.\n\n335\n00:19:19.970 --> 00:19:21.880\nYou do not want something to go wrong and\n\n336\n00:19:21.880 --> 00:19:25.910\nyou have no recourse other\nthan to rebuild from scratch.\n\n337\n00:19:25.910 --> 00:19:29.270\nThat is not a good time had by anyone,\ntrust me, I've seen it happen.\n\n338\n00:19:29.270 --> 00:19:33.230\nAnd then you get to type up a resume and\ngo try to find a new job.\n\n339\n00:19:33.230 --> 00:19:36.230\nI hear that truck drivers\nare hiring all the time.\n\n340\n00:19:36.230 --> 00:19:37.250\n&gt;&gt; The truck masters.\n\n341\n00:19:37.250 --> 00:19:39.320\n&gt;&gt; Yes, they're glad to have you.\n\n342\n00:19:39.320 --> 00:19:43.290\nMake sure you do a backup, like I said,\nthey're very simple things.\n\n343\n00:19:43.290 --> 00:19:46.875\nBut if you forget to do them, it can\ndefinitely leave you out in the cold.\n\n344\n00:19:46.875 --> 00:19:51.070\nAnd then of course updating or upgrading,\nyou need to it for security reasons and\n\n345\n00:19:51.070 --> 00:19:54.709\nto always stay on top of latest features,\nthe latest and greatness and\n\n346\n00:19:54.709 --> 00:19:56.143\nthat pfSense has to offer.\n\n347\n00:19:56.143 --> 00:19:57.641\nWhy not take advantage of that,\n\n348\n00:19:57.641 --> 00:20:00.520\nunless it's just incompatible\nwith your environment.\n\n349\n00:20:00.520 --> 00:20:03.440\nSo that being said, Ronnie,\nthank you so much for reminding us and\n\n350\n00:20:03.440 --> 00:20:07.440\nshowing how we can do those\ntasks in our environments.\n\n351\n00:20:07.440 --> 00:20:10.462\nThat being said, it does look like\nit's time for us to sign off.\n\n352\n00:20:10.462 --> 00:20:14.280\nFor ITPRO.TV, we thank you for joining\nus I've been your host, Daniel Lowrie.\n\n353\n00:20:14.280 --> 00:20:15.030\n&gt;&gt; And I'm Ronnie Wong.\n\n354\n00:20:15.030 --> 00:20:21.866\n&gt;&gt; And we'll see you next time.\n\n355\n00:20:21.866 --> 00:20:23.810\n[MUSIC]\n\n356\n00:20:23.810 --> 00:20:28.610\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "198721999"
        }
      ],
      "title": "Setup Monitoring and Maintaining"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Ronnie explain how to implement Packages for your pfSense firewall. They begin by defining what a Package is and where you get them. Then they show you how to install a package by installing the Squid Proxy package and configuring it for use.",
          "length": "1783",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-7-1-understand_and_install_packages-011317.00_29_26_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-7-1-understand_and_install_packages-011317.00_29_26_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-pfsense232/techskills-pfsense232-7-1-understand_and_install_packages-011317.00_29_26_26.Still001-sm.jpg",
          "title": "Understand and Install Packages",
          "transcript": "WEBVTT\n\n1\n00:00:00.020 --> 00:00:01.226\nWelcome to ITproTV.\n\n2\n00:00:01.226 --> 00:00:06.395\n[CROSSTALK]\n\n3\n00:00:06.395 --> 00:00:08.299\n[MUSIC]\n\n4\n00:00:08.299 --> 00:00:12.104\n&gt;&gt; You're watching ITproTV.\n\n5\n00:00:12.104 --> 00:00:13.974\n&gt;&gt; All right, greetings, everyone, and\n\n6\n00:00:13.974 --> 00:00:16.780\nwelcome to another great\nepisode of ITProTV.\n\n7\n00:00:16.780 --> 00:00:19.390\nI'm your host Daniel Lowrie,\nand today's episode, well,\n\n8\n00:00:19.390 --> 00:00:24.160\nwe are back with more on our\npfSense Version 2.3.2 series.\n\n9\n00:00:24.160 --> 00:00:26.400\nAnd, of course, joining us in\nthe studio is the man, the myth,\n\n10\n00:00:26.400 --> 00:00:28.220\nthe legend, you know him as Ronnie Wong.\n\n11\n00:00:28.220 --> 00:00:29.953\nRonnie, welcome back, sir and\nhow's it going today?\n\n12\n00:00:29.953 --> 00:00:30.684\n&gt;&gt; It's going great.\n\n13\n00:00:30.684 --> 00:00:32.215\nThank you for having me back on the show.\n\n14\n00:00:32.215 --> 00:00:36.990\nAs we continue to see some of the other\nthings, of course, that pfSense can do.\n\n15\n00:00:36.990 --> 00:00:39.520\nNow, we've already seen quite a bit and\n\n16\n00:00:39.520 --> 00:00:43.880\nquite a few features that are built\nright into the pfSense distro itself.\n\n17\n00:00:43.880 --> 00:00:45.077\nBut there's even more.\n\n18\n00:00:45.077 --> 00:00:48.543\nLike everything else that's out there,\nyou might think, wow,\n\n19\n00:00:48.543 --> 00:00:53.031\nthat's a pretty full-featured operating\nsystem where everything has its place.\n\n20\n00:00:53.031 --> 00:00:56.070\nBut there's a lot of other features\nthat are also included in there.\n\n21\n00:00:56.070 --> 00:01:00.581\nAnd this goes to the testament\nof how popular pfSense is and\n\n22\n00:01:00.581 --> 00:01:05.748\nhow good the people that love\npfSense really want to make pfSense.\n\n23\n00:01:05.748 --> 00:01:09.947\nAnd the way that they improve on this, and\nadd better features and functionalities is\n\n24\n00:01:09.947 --> 00:01:14.500\nthat they've come together, and\nthey've developed what they call packages.\n\n25\n00:01:14.500 --> 00:01:16.180\nWell, what the heck is a package then?\n\n26\n00:01:16.180 --> 00:01:18.987\n&gt;&gt; It's a thing I get from Amazon\ntwo days after I bought it.\n\n27\n00:01:18.987 --> 00:01:20.061\n&gt;&gt; Yes.\n&gt;&gt; [LAUGH].\n\n28\n00:01:20.061 --> 00:01:22.187\n&gt;&gt; Yes, it is, yeah, you are correct.\n\n29\n00:01:22.187 --> 00:01:24.050\nIt is something very similar to that.\n\n30\n00:01:24.050 --> 00:01:25.272\n&gt;&gt; [CROSSTALK] on Jeopardy.\n\n31\n00:01:25.272 --> 00:01:26.634\n&gt;&gt; [LAUGH] You are.\n\n32\n00:01:26.634 --> 00:01:29.400\nThat is true.\n\n33\n00:01:29.400 --> 00:01:32.323\n&gt;&gt; The idea here on\nthe packages is fairly simple.\n\n34\n00:01:32.323 --> 00:01:37.113\nThere are 3rd party utilities that\nare out there that would really go well\n\n35\n00:01:37.113 --> 00:01:38.436\ninside of pfSense.\n\n36\n00:01:38.436 --> 00:01:43.617\nBut just to add them in, it seems a little\nbit kind of like, why are you doing that?\n\n37\n00:01:43.617 --> 00:01:48.286\nWhy would you choose to do that except\nto make it as bloated as possible?\n\n38\n00:01:48.286 --> 00:01:53.404\nSo instead, pfSense has developed\nthis arena that we call packages.\n\n39\n00:01:53.404 --> 00:01:58.652\nAnd it's been around for\na long time just like any Linux distro.\n\n40\n00:01:58.652 --> 00:02:01.910\n&gt;&gt; [LAUGH] Ronnie's making up\nwords right here on the show.\n\n41\n00:02:01.910 --> 00:02:04.909\n&gt;&gt; Tell me about it.\n&gt;&gt; You heard it here first, ladies and\n\n42\n00:02:04.909 --> 00:02:06.299\ngents, a listro.\n\n43\n00:02:06.299 --> 00:02:07.843\n&gt;&gt; That really does actually save time.\n\n44\n00:02:07.843 --> 00:02:08.440\n&gt;&gt; Yeah.\n\n45\n00:02:08.440 --> 00:02:12.660\n&gt;&gt; But any Linux distribution,\nyou also have packages, too.\n\n46\n00:02:12.660 --> 00:02:15.160\nAnd they essentially do the same thing,\nokay?\n\n47\n00:02:15.160 --> 00:02:19.270\nSo just like when you go and you\ndownload and you install a Linux distro,\n\n48\n00:02:19.270 --> 00:02:21.970\nyou can add packages that add and\nbuild onto features and\n\n49\n00:02:21.970 --> 00:02:25.210\nfunctionalities to whatever distro\nthat you're actually doing.\n\n50\n00:02:25.210 --> 00:02:27.032\nSame thing with pfSense.\n\n51\n00:02:27.032 --> 00:02:31.837\nThe idea behind these is not that they\ncan't exist as third party utilities.\n\n52\n00:02:31.837 --> 00:02:35.461\nBut they've worked well and\nthey've integrated it so much so\n\n53\n00:02:35.461 --> 00:02:39.573\nthat a lot of these different packages\nthat normally require us to only\n\n54\n00:02:39.573 --> 00:02:44.380\nhave access to it by learning the command\nline that you have to master, of course,\n\n55\n00:02:44.380 --> 00:02:45.960\ninside of Linux distros.\n\n56\n00:02:45.960 --> 00:02:49.499\nWell, they said, look,\nwe need this to work, but in pfSense,\n\n57\n00:02:49.499 --> 00:02:51.680\nit's also gotta have a GUI interface.\n\n58\n00:02:51.680 --> 00:02:53.197\nSo what they've also done,\n\n59\n00:02:53.197 --> 00:02:57.429\ninstead of trying to come up with their\nown GUI interface, is pfSense has said,\n\n60\n00:02:57.429 --> 00:03:00.983\nlook, why don't you kinda use\nwhat's already in our interface?\n\n61\n00:03:00.983 --> 00:03:03.156\nAnd that way you can add\nyour package in there and\n\n62\n00:03:03.156 --> 00:03:05.559\ngive the functionality\nthat people normally need.\n\n63\n00:03:05.559 --> 00:03:10.246\nBut now it looks very uniform and\nvery streamlined into the package itself.\n\n64\n00:03:10.246 --> 00:03:13.416\nAnd secondly, it doesn't add\nany real additional bloat but\n\n65\n00:03:13.416 --> 00:03:17.005\nit gives you all the functionality\nthat you need to.\n\n66\n00:03:17.005 --> 00:03:20.470\nAnd because it's also done\nunderneath the guides of pfSense and\n\n67\n00:03:20.470 --> 00:03:23.670\nthey run it through all the security\nchecks, even less vulnerabilities.\n\n68\n00:03:23.670 --> 00:03:28.720\nInstead of saying, well, this particular\nsoftware needs this, this and this.\n\n69\n00:03:28.720 --> 00:03:31.510\nWe just say, everything that you\ndo has to match up to the way that\n\n70\n00:03:31.510 --> 00:03:32.990\npfSense would do it.\n\n71\n00:03:32.990 --> 00:03:37.097\nSo it really eliminates the security\nvulnerabilities that we have to the base\n\n72\n00:03:37.097 --> 00:03:38.180\ndistro of pfSense.\n\n73\n00:03:38.180 --> 00:03:42.627\nIt allows us to have a GUI type\nof interface if we need it.\n\n74\n00:03:42.627 --> 00:03:46.165\nWhen we do connect in and\nadd some of these packages in for\n\n75\n00:03:46.165 --> 00:03:47.760\nfuture functionality.\n\n76\n00:03:48.870 --> 00:03:50.840\nNow the hard part is this, right?\n\n77\n00:03:50.840 --> 00:03:52.890\nHow do you know what packages to use?\n\n78\n00:03:52.890 --> 00:03:55.950\nVery difficult because there's\nover 40 different packages\n\n79\n00:03:55.950 --> 00:03:58.095\nthat you can add inside of pfSense.\n\n80\n00:03:59.360 --> 00:04:00.689\nThere is a limitation, though, okay?\n\n81\n00:04:00.689 --> 00:04:05.970\nFor those of you that choose to install\npfSense on the nano version, okay?\n\n82\n00:04:05.970 --> 00:04:07.289\nOr on a compact flash,\n\n83\n00:04:07.289 --> 00:04:12.450\nyou're not gonna find the full-featured\nfunctionality that you want to.\n\n84\n00:04:12.450 --> 00:04:15.860\nThe way that they normally have\nto work in swapping files and\n\n85\n00:04:15.860 --> 00:04:21.190\naccessing them, the writes and\neverything that has to go on.\n\n86\n00:04:21.190 --> 00:04:25.410\nIf you're writing it to some type\nof Nano software or a NanoBox,\n\n87\n00:04:25.410 --> 00:04:27.700\nsomething that's fairly small and\nlightweight.\n\n88\n00:04:27.700 --> 00:04:30.220\nYou're gonna peg out that CPU like crazy.\n\n89\n00:04:30.220 --> 00:04:32.455\nIt's not gonna work\nthe way that you want to.\n\n90\n00:04:32.455 --> 00:04:36.040\nIt's gonna sit at 100% and you might get a\nlittle bit of traffic through while you're\n\n91\n00:04:36.040 --> 00:04:38.160\ndoing that but not a lot.\n\n92\n00:04:38.160 --> 00:04:44.230\nSo usually it actually is, of course,\navailable on the full installs.\n\n93\n00:04:44.230 --> 00:04:47.573\nSometimes you'll see where they'll\nactually make a package designed for\n\n94\n00:04:47.573 --> 00:04:48.747\nthe nano package itself.\n\n95\n00:04:48.747 --> 00:04:50.738\nBut not normally every single one.\n\n96\n00:04:50.738 --> 00:04:55.246\nEven though it's available for you cuz you\ngo to the same package repository that you\n\n97\n00:04:55.246 --> 00:04:56.529\nnormally have to go to.\n\n98\n00:04:56.529 --> 00:05:00.039\nBut overall, though, you'll actually\nsee that as you start looking at it,\n\n99\n00:05:00.039 --> 00:05:02.583\nit won't recommend it for\nnano installs a lot of times.\n\n100\n00:05:02.583 --> 00:05:04.850\nSo make sure you know that too, okay?\n\n101\n00:05:04.850 --> 00:05:08.296\nBut the great thing is since\nthey're not prepackaged in, pfSense\n\n102\n00:05:08.296 --> 00:05:12.616\nremains relatively small, and then you\nonly download the packages that you need.\n\n103\n00:05:12.616 --> 00:05:16.121\nMakes it kind of nice\nbecause it really does.\n\n104\n00:05:16.121 --> 00:05:19.271\npfSense itself in terms of install,\nit doesn't require,\n\n105\n00:05:19.271 --> 00:05:21.166\nyou hate to say like Windows today.\n\n106\n00:05:21.166 --> 00:05:24.329\nAn installation iso,\nthat's all you can get.\n\n107\n00:05:24.329 --> 00:05:29.146\nThe reason why, media, it can't\neven hold the base install anymore.\n\n108\n00:05:29.146 --> 00:05:35.198\nYou download a Windows type of iso like\nWindows 10 or Windows server 2012 or\n\n109\n00:05:35.198 --> 00:05:40.996\n2016, it's like four or four and\na half, if not, 5.2 gigs anymore.\n\n110\n00:05:40.996 --> 00:05:44.912\nSo even with your 4.7\ngig DVD that you have.\n\n111\n00:05:44.912 --> 00:05:48.031\n&gt;&gt; [LAUGH]\n&gt;&gt; Like wait a minute, this is 4.9 or\n\n112\n00:05:48.031 --> 00:05:49.262\nwhy is it 5.1?\n\n113\n00:05:49.262 --> 00:05:53.074\nGood luck in trying to install that\nunless you have a dual layered DVD.\n\n114\n00:05:53.074 --> 00:05:54.983\nBut now, by doing something like this,\n\n115\n00:05:54.983 --> 00:05:59.130\nit really does allow you to just pull\nfrom the information that you need.\n\n116\n00:05:59.130 --> 00:06:00.920\nSo everything is good.\n\n117\n00:06:00.920 --> 00:06:03.090\nSo the only thing that\nyou really need then is,\n\n118\n00:06:03.090 --> 00:06:07.390\nof course, an Internet connection and\nDNS is working.\n\n119\n00:06:07.390 --> 00:06:10.470\nIf you don't have DNS working, it doesn't\nmatter if you have an Internet connection.\n\n120\n00:06:10.470 --> 00:06:14.400\nYou gotta have DNS working for it to pull\nthe packages that it needs to as well.\n\n121\n00:06:14.400 --> 00:06:16.221\nSo everything is done that way.\n\n122\n00:06:16.221 --> 00:06:19.025\nThe other advantage of using the packages,\n\n123\n00:06:19.025 --> 00:06:22.512\nbecause these packages can\nget updated fairly often,\n\n124\n00:06:22.512 --> 00:06:27.149\nis that pfSense will check and\nmaintain that check with the repository.\n\n125\n00:06:27.149 --> 00:06:30.144\nAnd see if you have the latest version or\nnot, and then give you an opportunity,\n\n126\n00:06:30.144 --> 00:06:31.813\nof course, to update that package as well.\n\n127\n00:06:31.813 --> 00:06:34.874\nOkay, so\nthat's really kind of the basics and\n\n128\n00:06:34.874 --> 00:06:39.994\nwhy we would tend to actually need to\nadd in packages that we will have, okay?\n\n129\n00:06:39.994 --> 00:06:44.097\nIn 2.3, at least beginning there,\nand this is a change,\n\n130\n00:06:44.097 --> 00:06:47.730\nsomething that you and\nI won't really notice.\n\n131\n00:06:47.730 --> 00:06:50.250\nBut for those that are background\ninto the development world that\n\n132\n00:06:50.250 --> 00:06:53.290\nreally love this stuff,\nall the way up until about 2.2,\n\n133\n00:06:53.290 --> 00:06:57.320\nthey packaged all these different\npackages in a different way.\n\n134\n00:06:57.320 --> 00:07:02.245\nWith 2.3, they somehow standardized\ntheir particular packaging system, and\n\n135\n00:07:02.245 --> 00:07:05.495\nnow people consider it a better\nway to do the packages.\n\n136\n00:07:05.495 --> 00:07:08.873\nSo if you're one of those people that\nreally love the details about it, 2.3,\n\n137\n00:07:08.873 --> 00:07:11.174\nthe packaging system is\nsupposed to work a lot better.\n\n138\n00:07:11.174 --> 00:07:14.552\nA lot more efficient because of the way\nthat the formatting has actually\n\n139\n00:07:14.552 --> 00:07:15.910\nworked for us.\n\n140\n00:07:15.910 --> 00:07:20.511\nAlso, you'll see in these packages if\nthere are any dependencies that are needed\n\n141\n00:07:20.511 --> 00:07:23.321\nto run that package,\nit doesn't make you guess.\n\n142\n00:07:23.321 --> 00:07:26.578\nIt works like the idea of\ndownload like from Yum, right?\n\n143\n00:07:26.578 --> 00:07:30.480\nThat says, hey, these are the following\nrequirements and you have to have them.\n\n144\n00:07:30.480 --> 00:07:32.802\nAnd they went ahead and\nintegrated that in,\n\n145\n00:07:32.802 --> 00:07:36.021\nso the Windows installers\nare the ones that kill me, right?\n\n146\n00:07:36.021 --> 00:07:41.376\nYou start downloading, it says,\nyou need to install .NET framework 2.3.\n\n147\n00:07:41.376 --> 00:07:44.739\nSo you install .NET framework 2.3,\nit goes a little bit further.\n\n148\n00:07:44.739 --> 00:07:47.496\nYou don't have .NET 3.5 installed.\n\n149\n00:07:47.496 --> 00:07:51.650\nAnd it's like, why don't you kinda have\nall this stuff told right away that you\n\n150\n00:07:51.650 --> 00:07:55.817\nneed to actually have all these packages\nready to get in there on the pre-reqs.\n\n151\n00:07:55.817 --> 00:07:57.091\n&gt;&gt; Yeah, I love it when it says that.\n\n152\n00:07:57.091 --> 00:08:00.519\nLike it says,\nyou need to install xyz dependencies or\n\n153\n00:08:00.519 --> 00:08:03.577\npackage dependencies or\nwhatever the case is.\n\n154\n00:08:03.577 --> 00:08:07.108\nAnd they don't give you the option to go,\nwould you like me to do that for you now?\n\n155\n00:08:07.108 --> 00:08:09.103\n&gt;&gt; [LAUGH]\n&gt;&gt; Would you like to install that now,\n\n156\n00:08:09.103 --> 00:08:11.030\nbecause we knew that you would need that.\n\n157\n00:08:11.030 --> 00:08:12.000\nSo, of course,\n\n158\n00:08:12.000 --> 00:08:15.470\nwe bundled it in the installation\nmedia that you're using right now.\n\n159\n00:08:15.470 --> 00:08:17.890\nAnd a lot of times you\ndon't get that luxury.\n\n160\n00:08:17.890 --> 00:08:21.650\nYou're out in the Internet, in the wild\nwild west, looking for these packages.\n\n161\n00:08:21.650 --> 00:08:25.090\nAnd goodness knows, I've been down a few\nrabbit holes myself, Ronnie, looking for\n\n162\n00:08:25.090 --> 00:08:28.400\npackages that you need, but\nare having a hard time finding.\n\n163\n00:08:28.400 --> 00:08:32.440\n&gt;&gt; And that's the key, pfSense says,\nlook we're not gonna deal with that.\n\n164\n00:08:32.440 --> 00:08:34.200\nThere's certain packages\nthat we want integrated in.\n\n165\n00:08:34.200 --> 00:08:36.370\nWe want people to have\nthe functionality they want so\n\n166\n00:08:36.370 --> 00:08:40.110\nlets put it in our own way of actually\nhaving the repositories that we need.\n\n167\n00:08:40.110 --> 00:08:44.140\nLets take a look at pfSense and figure out\nhow we can install some packages here.\n\n168\n00:08:44.140 --> 00:08:48.796\nSo when we first take a look once we get\nlogged in, we can go up to System and\n\n169\n00:08:48.796 --> 00:08:52.830\nthen of course there is\nthe Package Manager right here.\n\n170\n00:08:52.830 --> 00:08:56.100\nSo if I select Package Manager,\nif you don't have an Internet connection,\n\n171\n00:08:56.100 --> 00:08:59.610\nthis thing will not come through,\nyou will not have it there.\n\n172\n00:08:59.610 --> 00:09:01.340\nAnd you won't be able\nto gain access to it.\n\n173\n00:09:01.340 --> 00:09:06.010\nSo in the lab setting for you to have\nthis, you definitely need to have DNS and\n\n174\n00:09:06.010 --> 00:09:09.160\nof course an Internet\nconnection available to you.\n\n175\n00:09:09.160 --> 00:09:12.330\nIf you've installed a package,\nit will show up of course,\n\n176\n00:09:12.330 --> 00:09:16.590\nunderneath the installed packages just\nlike I have here for open VPN client.\n\n177\n00:09:17.720 --> 00:09:21.390\nNotice the Package Dependencies as well.\n\n178\n00:09:21.390 --> 00:09:23.790\nWhere you can see where it went ahead and\nsaid hey,\n\n179\n00:09:23.790 --> 00:09:25.320\nthese are also things that you may need.\n\n180\n00:09:25.320 --> 00:09:26.990\nIf they're not installed,\nlet's go ahead and do that.\n\n181\n00:09:28.000 --> 00:09:32.600\nVersion number is also here,\nas well as the category that it fits into.\n\n182\n00:09:32.600 --> 00:09:37.600\nIf I want to check for an update,\nsometimes, you actually see little\n\n183\n00:09:37.600 --> 00:09:43.580\nicons appear over here on the right hand\nside, or over here on the left hand side.\n\n184\n00:09:43.580 --> 00:09:47.400\nIf there's an update available,\nit will actually be this figure right here\n\n185\n00:09:47.400 --> 00:09:52.300\ninstead, which is kinda that little\nswap figure look, whereas this one says\n\n186\n00:09:52.300 --> 00:09:57.600\nit is a current available package that\nwe have out there and ready to go.\n\n187\n00:09:57.600 --> 00:10:00.650\nSometimes packages may get\ncorrupted at some point, or\n\n188\n00:10:00.650 --> 00:10:02.320\nyou feel like you need to reinstall.\n\n189\n00:10:02.320 --> 00:10:07.760\nYou have this kind of square\nre-circ type of icon, as well.\n\n190\n00:10:07.760 --> 00:10:12.600\nAnd of course, you can get rid of\npackages by using the actual trashcan.\n\n191\n00:10:12.600 --> 00:10:16.160\nAll right, so let's take a look at\nthe available packages here, and\n\n192\n00:10:16.160 --> 00:10:19.290\nthen show you how\nthe basic functionalities,\n\n193\n00:10:19.290 --> 00:10:23.190\nall the way up into some of the incredible\nfunctionality that you can have.\n\n194\n00:10:23.190 --> 00:10:26.490\nSo when you start searching through,\nthis is listed in alphabetical order.\n\n195\n00:10:26.490 --> 00:10:28.720\nAnd there are a ton of them.\n\n196\n00:10:28.720 --> 00:10:32.050\nOne of the best packages,\nif you go ahead and download or\n\n197\n00:10:32.050 --> 00:10:38.040\nget access to the pfSense\nGold Subscription,\n\n198\n00:10:38.040 --> 00:10:41.820\nthis is the key one right here,\nwhich is AutoConfigBackup.\n\n199\n00:10:41.820 --> 00:10:45.220\nThe way that this says it is automatically\nbacks up your pfSense configuration,\n\n200\n00:10:45.220 --> 00:10:47.140\nwhich always sounds good for me.\n\n201\n00:10:47.140 --> 00:10:49.740\nAll contents are encrypt before\nbeing sent to the server,\n\n202\n00:10:49.740 --> 00:10:55.720\nwhich is inside of pfSense own Cloud and\nit actually requires a Gold Subscription.\n\n203\n00:10:55.720 --> 00:10:58.280\nIf you don't have that then\nwell you'll not use this one.\n\n204\n00:10:58.280 --> 00:11:02.140\nBut it is a great one because every time\nyou do make major changes It goes and\n\n205\n00:11:02.140 --> 00:11:04.030\nit saves a copy of it,\nsends it up to pfSense.\n\n206\n00:11:04.030 --> 00:11:07.980\nThat means you don't have to worry about\nwhere did you store that last backup.\n\n207\n00:11:07.980 --> 00:11:10.960\nBut if you're really good at it, that's\nfine, but a lot of times if you're like me\n\n208\n00:11:10.960 --> 00:11:14.240\nyou kinda forget where you ended up\nstoring a lot of the stuff, too.\n\n209\n00:11:15.890 --> 00:11:20.890\nYou can run Bind, if you choose to of\ncourse, to do your own DNS server.\n\n210\n00:11:20.890 --> 00:11:22.530\nYou can create Cron jobs.\n\n211\n00:11:23.560 --> 00:11:25.840\nYou can even set up\nsomething like FreeRadius2.\n\n212\n00:11:25.840 --> 00:11:29.060\nAnd it gives you all of\nthe information that you need.\n\n213\n00:11:29.060 --> 00:11:31.760\nNow, I'm pointing some of this stuff out,\nright?\n\n214\n00:11:31.760 --> 00:11:35.040\nSo, you can go through I'm not gonna\nread every single one of them to you.\n\n215\n00:11:35.040 --> 00:11:39.130\nBut they do have a lot of other\npackages that are available.\n\n216\n00:11:39.130 --> 00:11:42.220\nAnd one of the most popular package\ninstalls, that's what we're gonna take\n\n217\n00:11:42.220 --> 00:11:48.680\na look at today, is using Squid,\nsquidGuard, and LightSquid as well, okay?\n\n218\n00:11:48.680 --> 00:11:51.020\nIf you haven't been dealing\nwith the idea of squid,\n\n219\n00:11:51.020 --> 00:11:57.135\nsquid essentially is a proxy server that\nwe can install and run inside of pfSense.\n\n220\n00:11:57.135 --> 00:11:58.320\nSquidGuard, of course,\n\n221\n00:11:58.320 --> 00:12:01.860\nallows us to be able to control\nthe content that we have going through.\n\n222\n00:12:01.860 --> 00:12:04.180\nSo we can now manage and\nbe able to do that.\n\n223\n00:12:04.180 --> 00:12:08.510\nAnd then of course, LightSquid gives\nus the reporting features that we need.\n\n224\n00:12:08.510 --> 00:12:11.680\nSo those are usually three of the most\npopular package installs that\n\n225\n00:12:11.680 --> 00:12:14.640\nwe can end up doing that will give you\n\n226\n00:12:14.640 --> 00:12:17.660\nkind of the control that you\nnormally need going through here.\n\n227\n00:12:17.660 --> 00:12:21.380\nSo I'm going to scroll down and\neven though it's in alphabetical order,\n\n228\n00:12:21.380 --> 00:12:25.290\nyou do want to pay attention here,\nbecause especially with the way that this\n\n229\n00:12:25.290 --> 00:12:29.120\nis working, squid is the first\none you want to install.\n\n230\n00:12:29.120 --> 00:12:31.610\nSo, don't just do it\nby alphabetical order.\n\n231\n00:12:31.610 --> 00:12:35.880\nBut squidGuard and light squid, these\nare pretty the two we are looking for and\n\n232\n00:12:35.880 --> 00:12:38.820\nthen we'll add in Light Squid at the end.\n\n233\n00:12:38.820 --> 00:12:40.870\nHigh performance web proxy cache,\n\n234\n00:12:41.950 --> 00:12:46.610\ncombines Squid as a proxy server\nwith capability of acting as HTTP.\n\n235\n00:12:46.610 --> 00:12:53.470\nHTTPS, reverse proxy and that includes\nof course OWA assistant SLL filtering,\n\n236\n00:12:53.470 --> 00:12:59.840\nantivirus integration\nwith C-ICIPE You name it,\n\n237\n00:12:59.840 --> 00:13:03.320\nthere's a lot of that\ninformation right there.\n\n238\n00:13:03.320 --> 00:13:06.520\nSo I'm going to just click on\nthe green install button, and\n\n239\n00:13:06.520 --> 00:13:07.890\nof course we'll have this confirm.\n\n240\n00:13:09.150 --> 00:13:13.510\nAnd once I have that confirmed and\ninstalled in there, I told you that one of\n\n241\n00:13:13.510 --> 00:13:18.660\nthe benefits and features is the idea of\nadding in a GUI, so that you can do this.\n\n242\n00:13:18.660 --> 00:13:20.450\nA lot of times of course, you don't, and\n\n243\n00:13:20.450 --> 00:13:22.790\nthat means you're gonna do\neverything through the command line.\n\n244\n00:13:22.790 --> 00:13:26.234\nAnd as long as you know the syntax,\nyou're great.\n\n245\n00:13:26.234 --> 00:13:30.285\nIf you're like me and don't know the\nsyntax as well and don't know exactly what\n\n246\n00:13:30.285 --> 00:13:34.680\nit's doing, a little bit more challenging\nis what we have available to us.\n\n247\n00:13:34.680 --> 00:13:39.117\nAnd the only thing that we're looking for\nhere at the end is success.\n\n248\n00:13:39.117 --> 00:13:43.045\nYou don't have success, that means the\npackage did not install and that means we\n\n249\n00:13:43.045 --> 00:13:46.929\nhave to continue to actually maybe either\nreinstall it or do some other things.\n\n250\n00:13:46.929 --> 00:13:52.578\nIt gives you the information right here\nsome of the information that you need for\n\n251\n00:13:52.578 --> 00:13:54.022\nthe installation.\n\n252\n00:13:54.022 --> 00:13:56.637\nThe way that the package shows up now,\n\n253\n00:13:56.637 --> 00:14:01.072\nis integrated directly in to\nthe current interface that we see.\n\n254\n00:14:01.072 --> 00:14:04.160\nAnd if I go ahead and\ntake a look then under services.\n\n255\n00:14:06.050 --> 00:14:09.470\nNow notice down at the bottom,\nI've got a couple of options.\n\n256\n00:14:09.470 --> 00:14:12.730\nThere is that squid proxy\nserver which is the key and\n\n257\n00:14:12.730 --> 00:14:16.540\nthen of course there's that\nreverse proxy if you choose to, or\n\n258\n00:14:16.540 --> 00:14:20.190\nsimply gonna take a look\nat the squid proxy server.\n\n259\n00:14:20.190 --> 00:14:24.510\nAnd now notice that we did not have\nthis before, it just wasn't in there.\n\n260\n00:14:24.510 --> 00:14:26.540\nAnd when you say it's\njust a small package,\n\n261\n00:14:26.540 --> 00:14:29.250\nit didn't take that long to install,\nit really didn't but\n\n262\n00:14:29.250 --> 00:14:32.520\nlook at everything that you can\ndo at this point from this.\n\n263\n00:14:32.520 --> 00:14:36.140\nGeneral, Remote Cache,\nLocal Cache, Antivirus, ACLs,\n\n264\n00:14:36.140 --> 00:14:38.860\nTraffic Management,\nAuthentication, Users, Real Time,\n\n265\n00:14:38.860 --> 00:14:43.730\nSynchronization, it really\nis a full functioning squid\n\n266\n00:14:43.730 --> 00:14:47.380\nthat is right here giving us\naccess to everything that we need.\n\n267\n00:14:49.140 --> 00:14:51.400\nIf you want this running, you go ahead and\n\n268\n00:14:51.400 --> 00:14:56.260\nyou make sure that you check to enable the\nsquid proxy, makes sense, to turn it on.\n\n269\n00:14:56.260 --> 00:14:59.570\nIf you want to make sure, of course,\nalso that you keep the settings, logs,\n\n270\n00:14:59.570 --> 00:15:04.800\ncache, empty virus definitions to\nbe preserved in case you reinstall.\n\n271\n00:15:04.800 --> 00:15:07.940\nMake sure you keep all\nthe data settings as well.\n\n272\n00:15:09.360 --> 00:15:13.690\nYou want to make sure also a couple\nof other things here, okay?\n\n273\n00:15:13.690 --> 00:15:17.430\nMake sure you know what interface you\nactually want to make the proxy on.\n\n274\n00:15:17.430 --> 00:15:20.180\nI want to proxy all my LAN traffic.\n\n275\n00:15:20.180 --> 00:15:23.340\nAs well as I want to create\na loop back here, okay?\n\n276\n00:15:23.340 --> 00:15:26.380\nNow you might wonder like why in\nthe world did squid create a loop back?\n\n277\n00:15:26.380 --> 00:15:29.030\nWell remember we're going\nto run light squid too.\n\n278\n00:15:29.030 --> 00:15:32.520\nWe need once we actually get\ntraffic to come through,\n\n279\n00:15:32.520 --> 00:15:34.480\nwe want the reports to go where?\n\n280\n00:15:34.480 --> 00:15:37.590\nWell we're wanting the reports to\nreally come back to a loop back so\n\n281\n00:15:37.590 --> 00:15:40.060\nthat light squid can read\nit from the loop back.\n\n282\n00:15:40.060 --> 00:15:41.800\nSo that's why we also need that.\n\n283\n00:15:41.800 --> 00:15:43.780\nYou can choose all of them, but of course,\n\n284\n00:15:43.780 --> 00:15:47.030\nnormally we don't tend to\nworry about the WAN side.\n\n285\n00:15:48.360 --> 00:15:53.683\nThe default on the proxy port is 3128, I'm\nnot gonna worry about that one as well.\n\n286\n00:15:53.683 --> 00:15:56.369\nAnd let me make sure I'm\nactually doing everything.\n\n287\n00:15:56.369 --> 00:15:59.992\nWe want all users,\nallow all users on the interface.\n\n288\n00:15:59.992 --> 00:16:02.754\nIf checked,\nusers will connect to the interface.\n\n289\n00:16:02.754 --> 00:16:05.325\nIn the selected proxy be\nallowed to actually use that.\n\n290\n00:16:05.325 --> 00:16:08.010\nThat's perfectly fine.\n\n291\n00:16:08.010 --> 00:16:10.800\nPatch Captive Portal feature was removed.\n\n292\n00:16:10.800 --> 00:16:11.390\nIt didn't like it.\n\n293\n00:16:11.390 --> 00:16:15.330\nSo you actually see where they even put\nin the Bug number of why they said, look,\n\n294\n00:16:15.330 --> 00:16:18.800\nthis is not a great feature, so\nlet's not do this right now.\n\n295\n00:16:18.800 --> 00:16:23.153\nAnd of course some other settings that\nwe see that are available in here.\n\n296\n00:16:23.153 --> 00:16:26.360\nIn the transparent proxy,\n\n297\n00:16:26.360 --> 00:16:30.950\nthis is getting a little bit more\ntechnical for those that really like it.\n\n298\n00:16:30.950 --> 00:16:34.590\nWe're not going to go into all\nof the technical features here.\n\n299\n00:16:34.590 --> 00:16:38.143\nYou do need to be careful and\nmake sure you try and only proxy http.\n\n300\n00:16:38.143 --> 00:16:41.970\nYou try and proxy https,\nit's gonna break the certificate.\n\n301\n00:16:41.970 --> 00:16:45.374\nAnd you'll actually have a worse\nday than you actually thought.\n\n302\n00:16:45.374 --> 00:16:49.430\nSo don't do that for right now, okay.\n\n303\n00:16:49.430 --> 00:16:53.180\nIP addresses, we're not going to worry\nabout the transparent proxy settings.\n\n304\n00:16:53.180 --> 00:16:56.510\nMan in the middle filtering as well,\nit can even do that.\n\n305\n00:16:56.510 --> 00:16:58.680\nI'm not setting any of that up for\nright now.\n\n306\n00:16:58.680 --> 00:17:02.690\nBut those are, just trying to show you all\nthe features that you can add in here and\n\n307\n00:17:02.690 --> 00:17:03.532\nget going.\n\n308\n00:17:03.532 --> 00:17:07.290\nTrying to see if there's anything else I\nneed to make sure that I just put in as\n\n309\n00:17:07.290 --> 00:17:08.369\nfar as the basics go.\n\n310\n00:17:12.030 --> 00:17:16.365\nBut at this point,\nI think that's just about everything.\n\n311\n00:17:16.365 --> 00:17:19.913\nThere are a couple of other ones\nthat I want to point out here too,\n\n312\n00:17:19.913 --> 00:17:21.530\nsuch as bypass the proxy.\n\n313\n00:17:21.530 --> 00:17:24.820\nSo are there conditions or\nsituations which you go,\n\n314\n00:17:24.820 --> 00:17:26.710\nI really don't need to use a proxy?\n\n315\n00:17:26.710 --> 00:17:29.530\nWell, for\nprivate address destinations, right?\n\n316\n00:17:29.530 --> 00:17:33.360\nIf you know that it's gonna be pretty much\non another internal LAN somewhere, you go,\n\n317\n00:17:33.360 --> 00:17:36.450\nI don't need to run through\nthe proxy to do that.\n\n318\n00:17:36.450 --> 00:17:38.480\nYou might want to make\nsure you don't do that.\n\n319\n00:17:38.480 --> 00:17:39.870\nOr you can actually bypass it for\n\n320\n00:17:39.870 --> 00:17:42.760\na certain group of addresses,\nas far as the source.\n\n321\n00:17:42.760 --> 00:17:46.900\nSo it might be where Daniel's computer,\nyou don't want to have to use the proxy.\n\n322\n00:17:46.900 --> 00:17:48.610\nBut you do want Ronnie's\ncomputer to do so.\n\n323\n00:17:48.610 --> 00:17:53.040\nYou can enter in the IP addresses as\nwell or even the certain destinations.\n\n324\n00:17:53.040 --> 00:17:56.860\nSo very granular in the control\nthat you have available to you\n\n325\n00:17:56.860 --> 00:17:59.500\nwhen you start installing Squid as well.\n\n326\n00:18:01.110 --> 00:18:05.510\nLast couple of options down here at\nthe bottom, in term of handling.\n\n327\n00:18:05.510 --> 00:18:08.840\nHost name, these are all the things you\nwant to make sure you do configure,\n\n328\n00:18:08.840 --> 00:18:11.490\nsuch as your administrator email address,\nso\n\n329\n00:18:11.490 --> 00:18:15.370\nthat somebody can contact you if there's\nsomething wrong with the proxy server.\n\n330\n00:18:15.370 --> 00:18:18.080\nAnd of course,\neverything else should be good.\n\n331\n00:18:18.080 --> 00:18:21.370\nFrom that point,\nwe're just going to click Save here.\n\n332\n00:18:24.250 --> 00:18:25.625\nOop, no, maybe.\n\n333\n00:18:25.625 --> 00:18:30.113\nI think I'm clicking,\nit may be because I'm, there we go.\n\n334\n00:18:30.113 --> 00:18:31.459\nIt actually is working there,\n\n335\n00:18:31.459 --> 00:18:34.490\nit's actually me being impatient\nmore than anything else.\n\n336\n00:18:34.490 --> 00:18:38.510\nAt that point, the Squid proxy itself\n\n337\n00:18:38.510 --> 00:18:41.540\nshould be operational once we\nget everything going there.\n\n338\n00:18:41.540 --> 00:18:42.417\nAnd of course,\n\n339\n00:18:42.417 --> 00:18:46.200\nyou wanna test that by connecting\nto another server at some point.\n\n340\n00:18:46.200 --> 00:18:47.953\nBut while everything is working,\n\n341\n00:18:47.953 --> 00:18:50.920\nwe're gonna kind of leave it as\nit is to do what it needs to.\n\n342\n00:18:52.370 --> 00:18:56.173\nOnce you get that fully configured, that\nis when you really want to download and\n\n343\n00:18:56.173 --> 00:18:59.437\ninstall then, the second package\nthat you have available, okay?\n\n344\n00:18:59.437 --> 00:19:03.963\nSo before I move any further, there's\na lot more of those options that you\n\n345\n00:19:03.963 --> 00:19:07.978\nsaw right across the top of the page\nhere that you can go through and\n\n346\n00:19:07.978 --> 00:19:10.605\nconfigure to the minute degree.\n\n347\n00:19:10.605 --> 00:19:13.680\nWe're not doing that,\nwe´re just showing you the basics.\n\n348\n00:19:13.680 --> 00:19:18.805\nBut at this point,\nthere is a test proxy server if\n\n349\n00:19:18.805 --> 00:19:24.430\nI can remember how to type this in,\nhttps://www.\n\n350\n00:19:24.430 --> 00:19:28.831\nI hope I spelled this right\n\n351\n00:19:28.831 --> 00:19:34.438\nlegato.com proxy-test here.\n\n352\n00:19:34.438 --> 00:19:35.910\nAnd let's see if we connect.\n\n353\n00:19:35.910 --> 00:19:39.395\nIf not, then there may be a problem\neither on my Internet connection,\n\n354\n00:19:39.395 --> 00:19:40.150\ncuz it can happen.\n\n355\n00:19:40.150 --> 00:19:45.430\nI've had issues pretty much throughout\nthe day today in what we're seeing there.\n\n356\n00:19:45.430 --> 00:19:46.780\nAnd there we go.\n\n357\n00:19:46.780 --> 00:19:49.770\nSo now you could see where,\neven though I said,\n\n358\n00:19:49.770 --> 00:19:53.883\nhey, this request appears not to\nhave come through that proxy, and\n\n359\n00:19:53.883 --> 00:19:57.080\nit's actually coming out\nof our public IP address.\n\n360\n00:19:57.080 --> 00:20:00.610\nAnd more than likely it's because I'm\ndoubling that is what's happening here.\n\n361\n00:20:00.610 --> 00:20:05.170\nSo it might been NATTING onto the actual\ninternal network that my address is going\n\n362\n00:20:05.170 --> 00:20:09.240\nthrough, but it's not actually proxied\nafter that point and it's sending it back.\n\n363\n00:20:09.240 --> 00:20:13.110\nBut if I were directly going out,\nthis is one way that you can test that and\n\n364\n00:20:13.110 --> 00:20:14.650\nverify that that's happening.\n\n365\n00:20:14.650 --> 00:20:17.670\nBut that's probably the explanation\nat this point for this one.\n\n366\n00:20:17.670 --> 00:20:20.070\nSo I just dumped it on\nto our internal network.\n\n367\n00:20:20.070 --> 00:20:22.660\nAnd then our internal network got NATTED,\nwhich is not proxied, and\n\n368\n00:20:22.660 --> 00:20:27.710\nthen came back as saying, hey, look,\nI'm seeing your real public IP address.\n\n369\n00:20:27.710 --> 00:20:29.890\nRonnie, your internal address is not.\n\n370\n00:20:29.890 --> 00:20:33.540\nAnd that's what my WAN is\nif you take a look here.\n\n371\n00:20:33.540 --> 00:20:37.890\nMy WAN address is actually just\na class A network, is what it is.\n\n372\n00:20:37.890 --> 00:20:39.990\nSo that's probably what we're seeing.\n\n373\n00:20:39.990 --> 00:20:43.425\nBut if everything's good, right here it\nwill tell you that it did come from proxy.\n\n374\n00:20:43.425 --> 00:20:46.254\nYou know that Squid is set up\nproperly from that point, and\n\n375\n00:20:46.254 --> 00:20:47.600\nyou are ready to go, okay?\n\n376\n00:20:49.530 --> 00:20:53.610\nSo the second option then is, of course,\nthen to go back into Package Manager.\n\n377\n00:20:53.610 --> 00:20:55.730\nNow can you download all\npackages at one time?\n\n378\n00:20:55.730 --> 00:20:58.860\nYou definitely can if you want to.\n\n379\n00:20:58.860 --> 00:21:01.478\nBut normally, I like to make\nsure that that's working first.\n\n380\n00:21:01.478 --> 00:21:07.138\nAnd I'm gonna scroll down here to\nSquidGuard and make sure I download this.\n\n381\n00:21:07.138 --> 00:21:12.590\nNow remember that this is actually a proxy\nfilter is what this one is going to do.\n\n382\n00:21:12.590 --> 00:21:15.490\nSo this is where we now can control and\n\n383\n00:21:15.490 --> 00:21:20.720\nmake sure that we can actually filter and\ncontrol web content access, too.\n\n384\n00:21:21.930 --> 00:21:24.500\nSo once everything is actually done there,\n\n385\n00:21:24.500 --> 00:21:28.750\nwe should see success, which is what\nwe want to actually be able to see.\n\n386\n00:21:30.310 --> 00:21:36.260\nAnd now we go back to kind of\nthe same location, services.\n\n387\n00:21:36.260 --> 00:21:40.290\nAnd now notice that before,\nlet me see if I can zoom in here,\n\n388\n00:21:40.290 --> 00:21:43.170\nbefore where we only had\nthe Squid Proxy Server and\n\n389\n00:21:43.170 --> 00:21:47.020\nthe Reverse Proxy,\nyou now have the Squid Proxy Filter.\n\n390\n00:21:49.590 --> 00:21:53.040\nAnd now I'm zooming out, and\nnotice how granular you can get.\n\n391\n00:21:53.040 --> 00:21:54.350\nEverything that you can think about.\n\n392\n00:21:54.350 --> 00:21:56.710\nCommon ACLs applies to everybody.\n\n393\n00:21:56.710 --> 00:22:00.409\nGroup ACLs allow you to do subgroups\nif you want to to make sure that you're\n\n394\n00:22:00.409 --> 00:22:02.540\nfiltering just who you want to.\n\n395\n00:22:02.540 --> 00:22:07.305\nTarget categories, Times, Rewrites, and\nanother key here of course is Blacklist.\n\n396\n00:22:07.305 --> 00:22:11.765\nIf you select Blacklist over here, you can\nactually download current blacklists from\n\n397\n00:22:11.765 --> 00:22:15.978\ncertain locations, and that will actually\ngo ahead and pull that down for you, so\n\n398\n00:22:15.978 --> 00:22:20.170\nthat you know what sites\nare actually blacklisted out there.\n\n399\n00:22:20.170 --> 00:22:24.710\nSo everything is actually available\nright there for you to set up.\n\n400\n00:22:24.710 --> 00:22:26.910\nEnabling it is pretty much the first key.\n\n401\n00:22:26.910 --> 00:22:30.480\nAnd you notice that SquidGuard\nhas actually started.\n\n402\n00:22:30.480 --> 00:22:33.108\nBut it says to activate\nconfiguration changes,\n\n403\n00:22:33.108 --> 00:22:35.038\nyou have to make sure you hit apply.\n\n404\n00:22:35.038 --> 00:22:38.727\nFrom this point on, I'm not gonna really\ndo anything at this point cuz we're not\n\n405\n00:22:38.727 --> 00:22:40.542\nreally doing any real filtering here.\n\n406\n00:22:40.542 --> 00:22:44.287\nBlacklist options, so\nyou want to enable it.\n\n407\n00:22:44.287 --> 00:22:46.570\nYou check Blacklist at this point.\n\n408\n00:22:46.570 --> 00:22:49.870\nAnd from that point if you also have\nexternal ones that you wanna go and get,\n\n409\n00:22:49.870 --> 00:22:54.490\nit even shows you to enter in path and\nlocations.\n\n410\n00:22:54.490 --> 00:22:57.070\nYou, of course,\ncan get all of that information for\n\n411\n00:22:57.070 --> 00:23:01.499\nwhat you want to set up to be able to do,\nthe filtering that you want.\n\n412\n00:23:03.450 --> 00:23:06.831\nNow, if you're saying,\nI don't know exactly how that works,\n\n413\n00:23:06.831 --> 00:23:09.962\nI understand, but\nthat's why you actually kind of look for\n\n414\n00:23:09.962 --> 00:23:14.470\nmore about how you actually set up things\nlike this idea of using SquidGuard.\n\n415\n00:23:14.470 --> 00:23:16.170\nFor us, we're just showing\nyou how to install it and\n\n416\n00:23:16.170 --> 00:23:19.600\nhow to at least get it up and running and\nseeing some of the information.\n\n417\n00:23:19.600 --> 00:23:23.650\nThe last component to making sure that\nyou have a fully functional Squid proxy\n\n418\n00:23:23.650 --> 00:23:27.260\nwith SquidGuard, of course, is the,\nwell, the reporting system.\n\n419\n00:23:28.550 --> 00:23:32.810\nLet's go back to Package Manager one\nmore time, and available packages.\n\n420\n00:23:32.810 --> 00:23:34.340\nWe have to wait for my connection.\n\n421\n00:23:35.740 --> 00:23:40.910\nThis one should be LightSquid,\nhigh performance web proxy reporting tool,\n\n422\n00:23:42.820 --> 00:23:48.030\nincludes realtime statistics here,\nrequires the Squid package.\n\n423\n00:23:48.030 --> 00:23:53.606\nMake sure I click on the Package Installer\nthere, click Confirm.\n\n424\n00:23:53.606 --> 00:23:58.150\nSo the addition of packages, super easy.\n\n425\n00:23:58.150 --> 00:24:00.225\nThe configuration to make Squid and\n\n426\n00:24:00.225 --> 00:24:04.871\nSquidGuard work the way that you want to\nMaking Squid work not super difficult.\n\n427\n00:24:04.871 --> 00:24:08.516\nBut the filtering, that's probably\nthe one that is gonna be a little bit\n\n428\n00:24:08.516 --> 00:24:11.146\nmore challenging if you\nhaven't been doing it, and\n\n429\n00:24:11.146 --> 00:24:15.210\nyou're not exactly sure how everything\nis supposed to fit in place.\n\n430\n00:24:15.210 --> 00:24:18.451\nYou do wanna make sure that you kind\nof research that out a little bit more,\n\n431\n00:24:18.451 --> 00:24:20.663\nrather than just go,\nI'm applying everything.\n\n432\n00:24:20.663 --> 00:24:24.050\nCuz applying every single\nfilter that's out there,\n\n433\n00:24:24.050 --> 00:24:26.389\nit can kind of tax your CPU just a tad.\n\n434\n00:24:26.389 --> 00:24:27.375\n&gt;&gt; Just a little bit?\n\n435\n00:24:27.375 --> 00:24:29.558\n&gt;&gt; Just a little bit, like 97%.\n\n436\n00:24:29.558 --> 00:24:31.040\n&gt;&gt; You don't wanna really do that.\n\n437\n00:24:31.040 --> 00:24:35.530\nIt's really good to start off when you\nimplement things like a proxy server or\n\n438\n00:24:35.530 --> 00:24:39.630\neven firewalls, is to start off\nwith just what you know will work,\n\n439\n00:24:39.630 --> 00:24:42.935\nstart dipping your toe into the water,\nease yourself out into the deep end.\n\n440\n00:24:42.935 --> 00:24:46.230\n&gt;&gt; [LAUGH]\n&gt;&gt; Before you go crazy with blacklisting\n\n441\n00:24:46.230 --> 00:24:48.720\nthe entire world, and\nthings of that nature.\n\n442\n00:24:48.720 --> 00:24:53.180\nRonnie, so the last thing we're doing here\nis installing the reporting software.\n\n443\n00:24:53.180 --> 00:24:56.810\nThat seems probably the key\nelement in this whole thing.\n\n444\n00:24:56.810 --> 00:25:01.140\nI mean it's great if I'm proxying and\nI'm blacklisting things, and\n\n445\n00:25:01.140 --> 00:25:03.760\nthings of that nature, but\nif I don't know what's going on.\n\n446\n00:25:03.760 --> 00:25:05.119\nWho's trying to violate policies.\n\n447\n00:25:06.250 --> 00:25:07.390\nWhat good is it right?\n\n448\n00:25:07.390 --> 00:25:10.500\n&gt;&gt; Well that's the whole reason behind\nthese tools really if we think that\n\n449\n00:25:10.500 --> 00:25:14.810\nwhatever security tools that we have,\nwe have to have a reporting that gives us\n\n450\n00:25:14.810 --> 00:25:18.822\nthe options so that we can actually\nmake some type of analysis out of that.\n\n451\n00:25:18.822 --> 00:25:23.705\nSo LightSquid is the important\nprocess to all the other ones.\n\n452\n00:25:23.705 --> 00:25:26.695\nBecause even though you can set it up,\nit doesn't really say, all right,\n\n453\n00:25:26.695 --> 00:25:28.890\nhere's how you know everything is working.\n\n454\n00:25:28.890 --> 00:25:30.530\nThe report, letting it run for\n\n455\n00:25:30.530 --> 00:25:33.540\na time, getting the actual\ndata coming back is key.\n\n456\n00:25:33.540 --> 00:25:35.470\nI'll show you how to get access to it.\n\n457\n00:25:35.470 --> 00:25:39.510\nSo when we do this on my computer here,\nwe'll actually end up going over,\n\n458\n00:25:39.510 --> 00:25:43.080\ninstead of Services this time,\nwe select Status.\n\n459\n00:25:43.080 --> 00:25:46.670\nAnd then down here at the bottom,\nyou actually see where I can scroll in.\n\n460\n00:25:46.670 --> 00:25:48.930\nIt says Squid Proxy Reports.\n\n461\n00:25:48.930 --> 00:25:50.400\nNow you would think it\nwould say LightSquid.\n\n462\n00:25:50.400 --> 00:25:51.533\n&gt;&gt; Yeah.\nNo, why would it do that?\n\n463\n00:25:51.533 --> 00:25:53.990\n&gt;&gt; [CROSSTALK] It just\nsays Squid Proxy Reports.\n\n464\n00:25:53.990 --> 00:25:58.970\nFrom this point it gives you important\ninstructions on what you must do, okay.\n\n465\n00:25:58.970 --> 00:26:00.920\nDoes that mean you should read it?\n\n466\n00:26:00.920 --> 00:26:02.920\nYes, okay, make sure you read it.\n\n467\n00:26:02.920 --> 00:26:04.290\nAm I gonna read the whole thing to you?\n\n468\n00:26:04.290 --> 00:26:06.500\nNo.\n&gt;&gt; [LAUGH] Story-time, [INAUDIBLE] Ronnie.\n\n469\n00:26:06.500 --> 00:26:08.740\n&gt;&gt; We're not gonna read\nthe whole thing to you.\n\n470\n00:26:09.830 --> 00:26:14.530\nNow the key here is that once\neverything is set up the way you want,\n\n471\n00:26:14.530 --> 00:26:16.410\nyou can open LightSquid.\n\n472\n00:26:16.410 --> 00:26:19.800\nSo they have a button right here\nthat allows you to open LightSquid.\n\n473\n00:26:19.800 --> 00:26:23.200\nI'm trying to see there is anything else,\nthe rest of this is templates.\n\n474\n00:26:23.200 --> 00:26:27.325\nSome of the things you can skip but\nonce you start opening the LightSquid,\n\n475\n00:26:27.325 --> 00:26:31.128\nit's gonna tell you it might take several\nminutes for something to come in.\n\n476\n00:26:31.128 --> 00:26:35.260\nIt depends on how much traffic you have\navailable and you'll see mine locked up\n\n477\n00:26:35.260 --> 00:26:40.049\nbut it does give you that option so\nthat you can seeing the report generated.\n\n478\n00:26:41.470 --> 00:26:44.090\nThe key a lot of times,\nis to come down here to the bottom,\n\n479\n00:26:44.090 --> 00:26:46.450\nonce you actually take\na look at all those options.\n\n480\n00:26:46.450 --> 00:26:49.440\nWhen you refresh it,\nit will actually replace everything.\n\n481\n00:26:49.440 --> 00:26:52.240\nYou want to be careful about\ndoing this refresh all,\n\n482\n00:26:52.240 --> 00:26:54.920\nas this may take a long time to finish.\n\n483\n00:26:54.920 --> 00:26:57.700\nBut notice they don't even tell you\nan approximation on what they mean by\n\n484\n00:26:57.700 --> 00:26:58.620\na long time.\n\n485\n00:26:58.620 --> 00:27:02.530\nIt really depends on how\nbig that log file is.\n\n486\n00:27:02.530 --> 00:27:07.740\nSo, everything that your Squid proxy\nserver is generating as far as log files.\n\n487\n00:27:07.740 --> 00:27:10.920\nThis is taking that information and\nputting it in to a report format.\n\n488\n00:27:10.920 --> 00:27:14.220\nThat you and I are actually going\nto use a little bit better.\n\n489\n00:27:14.220 --> 00:27:17.560\nBut, that is by far one of\nthe most popular requested\n\n490\n00:27:18.600 --> 00:27:21.630\ninstalls to get going and to get working.\n\n491\n00:27:21.630 --> 00:27:26.810\nRemember that the Squid has to be\nfull featured or functional first.\n\n492\n00:27:26.810 --> 00:27:30.330\nSo verify that,\ntest out the connection proxy first and\n\n493\n00:27:30.330 --> 00:27:32.340\nthen worry about doing the filtering.\n\n494\n00:27:32.340 --> 00:27:35.240\nIf you try and do both at the same\ntime you're gonna mess up.\n\n495\n00:27:35.240 --> 00:27:37.180\nSo make sure that that's actually up.\n\n496\n00:27:37.180 --> 00:27:41.500\nAnd remember, all three of them really\nare what works together to give you\n\n497\n00:27:41.500 --> 00:27:45.230\nthe combination that you want as far\nas extending out the functionality.\n\n498\n00:27:45.230 --> 00:27:46.870\nThis is one of the most demanded and\n\n499\n00:27:46.870 --> 00:27:50.320\npopular functions that we normally\ndo extend inside of pfSense.\n\n500\n00:27:50.320 --> 00:27:51.520\n&gt;&gt; Yeah, Ronnie kids you not.\n\n501\n00:27:51.520 --> 00:27:54.850\nIt is definitely one of the,\nlike you said,\n\n502\n00:27:54.850 --> 00:27:58.830\nthe most popular because of, A,\nit's a free download, right?\n\n503\n00:27:58.830 --> 00:28:00.740\nYou don't have to pay any money for it.\n\n504\n00:28:00.740 --> 00:28:03.870\nI know ISP guys that run this stuff.\n\n505\n00:28:03.870 --> 00:28:07.490\nBoth pfSense and Squid together,\nthat's why they're so\n\n506\n00:28:07.490 --> 00:28:09.270\npopular because of their price.\n\n507\n00:28:09.270 --> 00:28:12.670\nSpending money on things\nlike an ASA is great and\n\n508\n00:28:12.670 --> 00:28:16.830\nit does this job very well, pfSense also\ndoes that job very well and so does Squid.\n\n509\n00:28:16.830 --> 00:28:18.515\nSo you cut the middle man out or\n\n510\n00:28:18.515 --> 00:28:21.780\nat least some of the fat off\nof the budget as it were.\n\n511\n00:28:21.780 --> 00:28:25.510\nBy finding strategic spots where you\ncan throw a pfSense firewall and\n\n512\n00:28:25.510 --> 00:28:26.400\nthen just installing.\n\n513\n00:28:26.400 --> 00:28:31.480\nAnd I love the fact that you can do all\nof that through a packaging system.\n\n514\n00:28:31.480 --> 00:28:33.380\nWhere I can just say,\nthis is the package I want.\n\n515\n00:28:33.380 --> 00:28:35.420\nI know it's already been\nthrough quality assurance.\n\n516\n00:28:35.420 --> 00:28:37.090\nIt's been tested for security.\n\n517\n00:28:37.090 --> 00:28:38.910\nIt fully integrates inside of pfSense.\n\n518\n00:28:38.910 --> 00:28:42.750\nThere's not gonna be a bunch of,\nwhy isn't this working correctly?\n\n519\n00:28:42.750 --> 00:28:43.420\nYou hit the thing.\n\n520\n00:28:43.420 --> 00:28:46.090\nYou say, that's the package I want and\ninstall it.\n\n521\n00:28:46.090 --> 00:28:49.450\nAnd now you have a tab with the features\nthere, you just have to configure it,\n\n522\n00:28:49.450 --> 00:28:50.080\ngreat stuff.\n\n523\n00:28:50.080 --> 00:28:53.412\nRonnie, thanks for\nshowing us the basics, get it set up so\n\n524\n00:28:53.412 --> 00:28:56.744\nthat we can take it from there\nbecause it is a bit complex and\n\n525\n00:28:56.744 --> 00:28:59.740\nit's gonna be how you need it for\nyour environment.\n\n526\n00:28:59.740 --> 00:29:01.790\nSo that's where you gonna take your time.\n\n527\n00:29:01.790 --> 00:29:04.920\nOnce you've walked through Ronnie's steps,\nget it installed and\n\n528\n00:29:04.920 --> 00:29:06.550\nthen start configuring it.\n\n529\n00:29:06.550 --> 00:29:08.190\nSo that it works as you need.\n\n530\n00:29:08.190 --> 00:29:11.720\nRonnie, thanks for dropping by today,\nthanks for showing us how to do probably\n\n531\n00:29:11.720 --> 00:29:14.180\ntwo of the coolest things you\ncan do with your pfSense box,\n\n532\n00:29:14.180 --> 00:29:18.250\nwhich is work with the packages and\ninstall Squid, which is awesome.\n\n533\n00:29:18.250 --> 00:29:21.060\nThat being said, it looks like we've\nrun out of time for this episode.\n\n534\n00:29:21.060 --> 00:29:22.980\nSo we're gonna go ahead and sign off.\n\n535\n00:29:22.980 --> 00:29:25.450\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n536\n00:29:25.450 --> 00:29:26.140\n&gt;&gt; And I'm Ronnie Wong.\n\n537\n00:29:26.140 --> 00:29:27.893\n&gt;&gt; And we'll see you next time.\n\n538\n00:29:27.893 --> 00:29:35.497\n[MUSIC]\n\n539\n00:29:35.497 --> 00:29:38.767\nThank you for watching, ITPRO.TV.\n\n",
          "vimeoId": "199678620"
        }
      ],
      "title": "Understand Packages"
    }
  ],
  "url": "pfsense-2016",
  "vLab": false
}
